Class {
	#name : #SRT79499d0f0b3a2a29a93583936c5e46a00e836097,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT79499d0f0b3a2a29a93583936c5e46a00e836097 >> base64 [
	^ 'Y29udHJhY3QgUmFuZG9tSW50ZXJmYWNlIHsKCWZ1bmN0aW9uIGdldFJhbmRvbSgpIHJldHVybnMgKGJ5dGVzMzIgaGFzaCkge30KfQpjb250cmFjdCBJTFdpbm5lckRCSW50ZXJmYWNlIHsKCWZ1bmN0aW9uIFdpbm5lcnModWludCBpZCkgY29uc3RhbnQgcmV0dXJucyh1aW50IGRhdGUsIGFkZHJlc3MgYWRkciwgdWludCB2YWx1ZSwgdWludCByYXRlLCB1aW50IGJldCkge30KCWZ1bmN0aW9uIG5ld1dpbm5lcih1aW50IGRhdGUsIGFkZHJlc3MgYWRkciwgdWludCB2YWx1ZSwgdWludCByYXRlLCB1aW50IGJldCkgZXh0ZXJuYWwgcmV0dXJucyAoYm9vbCkge30KfQpjb250cmFjdCBJbnN0YW50TG90dGVyeSB7CgkvKgoJCUluc3RhbnRMb3R0ZXJ5CgkJQ29kZWQgYnk6IGlGQQoJCWh0dHA6Ly9pbC5ldGhlcmV1bWxvdHRlcnkubmV0CgkJdmVyOiAzLjAuMAoJKi8KCQoJLyoKCQlWYXJzCgkqLwoJYWRkcmVzcyBwcml2YXRlIG93bmVyOwoJYWRkcmVzcyBwcml2YXRlIHdpbm5lcnNEQjsKCWFkZHJlc3MgcHJpdmF0ZSByYW5kb21BZGRyOwoJdWludCBwcml2YXRlIGNvbnN0YW50IGZlZSA9IDU7Cgl1aW50IHByaXZhdGUgY29uc3RhbnQgaW52ZXN0b3JGZWUgPSA3MDsKCXVpbnQgcHJpdmF0ZSBjb25zdGFudCBwcmVwYXJlQmxvY2tEZWxheSA9IDQ7Cgl1aW50IHByaXZhdGUgY29uc3RhbnQgcm9sbExvc3NCbG9ja0RlbGF5ID0gMzA7Cgl1aW50IHByaXZhdGUgY29uc3RhbnQgaW52ZXN0VW5pdCA9IDEgZXRoZXI7Cgl1aW50IHByaXZhdGUgY29uc3RhbnQgZXh0cmFSYXRlID0gMTMwOwoJdWludCBwcml2YXRlIGNvbnN0YW50IG1pbmltdW1Sb2xsUHJpY2UgPSAxMCBmaW5uZXk7Cgl1aW50IHByaXZhdGUgY29uc3RhbnQgaW52ZXN0TWluRHVyYXRpb24gPSAxIGRheXM7Cgl1aW50IHByaXZhdGUgY29uc3RhbnQgQmVzdFJvbGxSYXRlID0gMTAwOwoJCglib29sIHB1YmxpYyBDb250cmFjdEVuYWJsZWQgPSB0cnVlOwoJdWludCBwdWJsaWMgSmFja3BvdDsKCXVpbnQgcHVibGljIFJvbGxDb3VudDsKCXVpbnQgcHVibGljIEphY2twb3RIaXRzOwoJCgl1aW50IHByaXZhdGUgQ29udHJhY3REaXNhYmxlZEJsb2NrOwoJdWludCBwcml2YXRlIGphY2twb3RfOwoJdWludCBwcml2YXRlIGV4dHJhSmFja3BvdF87Cgl1aW50IHByaXZhdGUgZmVlVmFsdWU7Cgl1aW50IHByaXZhdGUgcGxheWVyc1BvdDsKCQoJc3RydWN0IHJvbGxzX3MgewoJCXVpbnQgYmxvY2tOdW1iZXI7CgkJYnl0ZXMzMiBleHRyYUhhc2g7CgkJYm9vbCB2YWxpZDsKCQl1aW50IHZhbHVlOwoJCXVpbnQgZ2FtZTsKCQl1aW50IGlkOwoJCXVpbnQgc3VtSW52ZXN0OwoJfQoJCgltYXBwaW5nKGFkZHJlc3MgPT4gcm9sbHNfc1tdKSBwcml2YXRlIHBsYXllcnM7CgkKCXN0cnVjdCBpbnZlc3RvcnNfcyB7CgkJYWRkcmVzcyBvd25lcjsKCQl1aW50IHZhbHVlOwoJCXVpbnQgYmFsYW5jZTsKCQlib29sIGxpdmU7CgkJYm9vbCB2YWxpZDsKCQl1aW50IHRpbWVzdGFtcDsKCX0KCQoJaW52ZXN0b3JzX3NbXSBwcml2YXRlIGludmVzdG9yczsKCQoJc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBJbmZvcm1hdGlvbiA9ICJodHRwOi8vaWwuZXRoZXJldW1sb3R0ZXJ5Lm5ldCI7CgkKCS8qCgkJRGVwbG95CgkqLwoJZnVuY3Rpb24gSW5zdGFudExvdHRlcnkoYWRkcmVzcyBfd2lubmVyc0RCLCBhZGRyZXNzIF9yYW5kb21BZGRyLCBib29sIF9vbGRDb250cmFjdCwgYWRkcmVzcyBfb2xkQ29udHJhY3RBZGRyZXNzKSB7CgkJb3duZXIgPSBtc2cuc2VuZGVyOwoJCXdpbm5lcnNEQiA9IF93aW5uZXJzREI7CgkJcmFuZG9tQWRkciA9IF9yYW5kb21BZGRyOwoJCWlmIChfb2xkQ29udHJhY3QgJiYgX29sZENvbnRyYWN0QWRkcmVzcyAhPSAweDApIHsKCQkJUm9sbENvdW50ID0gSW5zdGFudExvdHRlcnkoIF9vbGRDb250cmFjdEFkZHJlc3MgKS5Sb2xsQ291bnQoKTsKCQkJSmFja3BvdEhpdHMgPSBJbnN0YW50TG90dGVyeSggX29sZENvbnRyYWN0QWRkcmVzcyApLkphY2twb3RIaXRzKCk7CgkJfQoJfQoJCgkvKiAKCQlDb25zdGFucyBmdW5jdGlvbnMKCSovCglmdW5jdGlvbiBDaGFuY2VPZldpbm5pbmcodWludCBWYWx1ZSkgY29uc3RhbnQgcmV0dXJucyh1aW50IFJhdGUsIHVpbnQgQmV0KSB7CgkJaWYgKGphY2twb3RfID09IDApIHsKCQkJUmF0ZSA9IDA7CgkJCUJldCA9IDA7CgkJCXJldHVybjsKCQl9CgkJaWYgKFZhbHVlIDwgbWluaW11bVJvbGxQcmljZSkgewoJCQlWYWx1ZSA9IG1pbmltdW1Sb2xsUHJpY2U7CgkJfQoJCVJhdGUgPSBnZXRSYXRlKFZhbHVlKTsKCQlCZXQgPSBnZXRSZWFsQmV0KFJhdGUpOwoJCXdoaWxlIChWYWx1ZSA8IEJldCkgewoJCQlSYXRlKys7CgkJCUJldCA9IGdldFJlYWxCZXQoUmF0ZSk7CgkJfQoJCWlmIChSYXRlIDwgQmVzdFJvbGxSYXRlKSB7IAoJCQlSYXRlID0gQmVzdFJvbGxSYXRlOwoJCQlCZXQgPSBnZXRSZWFsQmV0KFJhdGUpOwoJCX0KCX0KCWZ1bmN0aW9uIEJldFByaWNlTGltaXQoKSBjb25zdGFudCByZXR1cm5zKHVpbnQgbWluLHVpbnQgbWF4KSB7CgkJbWluID0gbWluaW11bVJvbGxQcmljZTsKCQltYXggPSBnZXRSZWFsQmV0KEJlc3RSb2xsUmF0ZSk7Cgl9CglmdW5jdGlvbiBJbnZlc3RvcnMoYWRkcmVzcyBBZGRyZXNzKSBjb25zdGFudCByZXR1cm5zKHVpbnQgSW52ZXN0bWVudCwgdWludCBCYWxhbmNlLCBib29sIExpdmUpIHsKCQl2YXIgKGZvdW5kLCBJbnZlc3RvcklEKSA9IGdldEludmVzdG9yQnlBZGRyZXNzKEFkZHJlc3MpOwoJCWlmIChmb3VuZCA9PSBmYWxzZSB8fCAhIGludmVzdG9yc1tJbnZlc3RvcklEXS52YWxpZCkgewoJCQlJbnZlc3RtZW50ID0gMDsKCQkJQmFsYW5jZSA9IDA7CgkJCUxpdmUgPSBmYWxzZTsKCQkJcmV0dXJuOwoJCX0KCQlJbnZlc3RtZW50ID0gaW52ZXN0b3JzW0ludmVzdG9ySURdLnZhbHVlOwoJCUJhbGFuY2UgPSBpbnZlc3RvcnNbSW52ZXN0b3JJRF0uYmFsYW5jZTsKCQlMaXZlID0gaW52ZXN0b3JzW0ludmVzdG9ySURdLmxpdmU7Cgl9CglmdW5jdGlvbiBXaW5uZXJzKHVpbnQgaWQpIGNvbnN0YW50IHJldHVybnModWludCBkYXRlLCBhZGRyZXNzIGFkZHIsIHVpbnQgdmFsdWUsIHVpbnQgcmF0ZSwgdWludCBiZXQpIHsKCQlyZXR1cm4gSUxXaW5uZXJEQkludGVyZmFjZSh3aW5uZXJzREIpLldpbm5lcnMoaWQpOwoJfQoJCgkvKgoJCUV4dGVybmFsIGZ1bmN0aW9ucwoJKi8KCS8qIEZhbGxiYWNrICovCglmdW5jdGlvbiAoKSB7CgkJUHJlcGFyZVJvbGwoMCk7Cgl9CgkvKiBGb3IgSW52ZXN0b3JzICovCglmdW5jdGlvbiBJbnZlc3QoKSBleHRlcm5hbCBPbmx5RW5hYmxlZCBub0NvbnRyYWN0IHsKCQl1aW50IHZhbHVlXyA9IG1zZy52YWx1ZTsKCQlpZiAodmFsdWVfIDwgaW52ZXN0VW5pdCkgeyB0aHJvdzsgfQoJCWlmICh2YWx1ZV8gJSBpbnZlc3RVbml0ID4gMCkgeyAKCQkJaWYgKCAhIG1zZy5zZW5kZXIuc2VuZCh2YWx1ZV8gJSBpbnZlc3RVbml0KSkgeyB0aHJvdzsgfSAKCQkJdmFsdWVfID0gdmFsdWVfIC0gKHZhbHVlXyAlIGludmVzdFVuaXQpOwoJCX0KCQl2YXIgKGZvdW5kLCBJbnZlc3RvcklEKSA9IGdldEludmVzdG9yQnlBZGRyZXNzKG1zZy5zZW5kZXIpOwoJCWlmIChmb3VuZCA9PSBmYWxzZSkgewoJCQlJbnZlc3RvcklEID0gaW52ZXN0b3JzLmxlbmd0aDsKCQkJaW52ZXN0b3JzLmxlbmd0aCsrOwoJCX0KCQlpZiAoaW52ZXN0b3JzW0ludmVzdG9ySURdLnZhbGlkICYmIGludmVzdG9yc1tJbnZlc3RvcklEXS5saXZlKSB7CgkJCWludmVzdG9yc1tJbnZlc3RvcklEXS52YWx1ZSArPSB2YWx1ZV87CgkJfSBlbHNlIHsKCQkJaW52ZXN0b3JzW0ludmVzdG9ySURdLnZhbHVlID0gdmFsdWVfOwoJCX0KCQlpbnZlc3RvcnNbSW52ZXN0b3JJRF0udGltZXN0YW1wID0gbm93ICsgaW52ZXN0TWluRHVyYXRpb247CgkJaW52ZXN0b3JzW0ludmVzdG9ySURdLnZhbGlkID0gdHJ1ZTsKCQlpbnZlc3RvcnNbSW52ZXN0b3JJRF0ubGl2ZSA9IHRydWU7CgkJaW52ZXN0b3JzW0ludmVzdG9ySURdLm93bmVyID0gbXNnLnNlbmRlcjsKCQlqYWNrcG90XyArPSB2YWx1ZV87CgkJc2V0SmFja3BvdCgpOwoJfQoJZnVuY3Rpb24gR2V0TXlJbnZlc3RtZW50QmFsYW5jZSgpIGV4dGVybmFsIG5vRXRoZXIgewoJCXZhciAoZm91bmQsIEludmVzdG9ySUQpID0gZ2V0SW52ZXN0b3JCeUFkZHJlc3MobXNnLnNlbmRlcik7CgkJaWYgKGZvdW5kID09IGZhbHNlKSB7IHRocm93OyB9CgkJaWYgKCAhIGludmVzdG9yc1tJbnZlc3RvcklEXS52YWxpZCkgeyB0aHJvdzsgfQoJCXVpbnQgX2JhbGFuY2UgPSBpbnZlc3RvcnNbSW52ZXN0b3JJRF0uYmFsYW5jZTsKCQlpZiAoX2JhbGFuY2UgPT0gMCkgeyB0aHJvdzsgfQoJCWludmVzdG9yc1tJbnZlc3RvcklEXS5iYWxhbmNlID0gMDsKCQlpZiAoICEgbXNnLnNlbmRlci5zZW5kKCBfYmFsYW5jZSApKSB7IHRocm93OyB9Cgl9CglmdW5jdGlvbiBDYW5jZWxNeUludmVzdG1lbnQoKSBleHRlcm5hbCBub0V0aGVyIHsKCQl2YXIgKGZvdW5kLCBJbnZlc3RvcklEKSA9IGdldEludmVzdG9yQnlBZGRyZXNzKG1zZy5zZW5kZXIpOwoJCWlmIChmb3VuZCA9PSBmYWxzZSkgeyB0aHJvdzsgfQoJCWlmICggISBpbnZlc3RvcnNbSW52ZXN0b3JJRF0udmFsaWQpIHsgdGhyb3c7IH0KCQlpZiAoaW52ZXN0b3JzW0ludmVzdG9ySURdLnRpbWVzdGFtcCA+IG5vdyAmJiBDb250cmFjdEVuYWJsZWQpIHsgdGhyb3c7IH0KCQl1aW50IGJhbGFuY2VfOwoJCWlmIChpbnZlc3RvcnNbSW52ZXN0b3JJRF0ubGl2ZSkgewoJCQlqYWNrcG90XyAtPSBpbnZlc3RvcnNbSW52ZXN0b3JJRF0udmFsdWU7CgkJCWJhbGFuY2VfID0gaW52ZXN0b3JzW0ludmVzdG9ySURdLnZhbHVlOwoJCQlzZXRKYWNrcG90KCk7CgkJfQoJCWlmIChpbnZlc3RvcnNbSW52ZXN0b3JJRF0uYmFsYW5jZSA+IDApIHsKCQkJYmFsYW5jZV8gKz0gaW52ZXN0b3JzW0ludmVzdG9ySURdLmJhbGFuY2U7CgkJfQoJCWRlbGV0ZSBpbnZlc3RvcnNbSW52ZXN0b3JJRF07CgkJaWYgKCAhIG1zZy5zZW5kZXIuc2VuZCggYmFsYW5jZV8gKSkgeyB0aHJvdzsgfQoJfQoJLyogRm9yIFBsYXllcnMgKi8KCWZ1bmN0aW9uIERvUm9sbCgpIGV4dGVybmFsIG5vRXRoZXIgewoJCXVpbnQgdmFsdWVfOwoJCWJvb2wgZm91bmQ7CgkJYm9vbCBzdWJGb3VuZDsKCQlmb3IgKCB1aW50IGE9MCA7IGEgPCBwbGF5ZXJzW21zZy5zZW5kZXJdLmxlbmd0aCA7IGErKyApIHsKCQkJaWYgKHBsYXllcnNbbXNnLnNlbmRlcl1bYV0udmFsaWQpIHsKCQkJCXN1YkZvdW5kID0gZmFsc2U7CgkJCQlpZiAocGxheWVyc1ttc2cuc2VuZGVyXVthXS5ibG9ja051bWJlcityb2xsTG9zc0Jsb2NrRGVsYXkgPD0gYmxvY2subnVtYmVyKSB7CgkJCQkJdWludCBmZWVWYWx1ZV8gPSBwbGF5ZXJzW21zZy5zZW5kZXJdW2FdLnZhbHVlLzI7CgkJCQkJZmVlVmFsdWUgKz0gZmVlVmFsdWVfOwoJCQkJCWludmVzdG9yQWRkRmVlKHBsYXllcnNbbXNnLnNlbmRlcl1bYV0udmFsdWUgLSBmZWVWYWx1ZV8pOwoJCQkJCURvUm9sbEV2ZW50KG1zZy5zZW5kZXIsIHBsYXllcnNbbXNnLnNlbmRlcl1bYV0udmFsdWUsIHBsYXllcnNbbXNnLnNlbmRlcl1bYV0uaWQsIGZhbHNlLCB0cnVlLCBmYWxzZSwgZmFsc2UsIDAsIDAsIDApOwoJCQkJCXN1YkZvdW5kID0gdHJ1ZTsKCQkJCX0KCQkJCWlmICggISBDb250cmFjdEVuYWJsZWQgfHwgcGxheWVyc1ttc2cuc2VuZGVyXVthXS5zdW1JbnZlc3QgIT0gamFja3BvdF8gfHwgcGxheWVyc1ttc2cuc2VuZGVyXVthXS5nYW1lICE9IEphY2twb3RIaXRzKSB7CgkJCQkJdmFsdWVfICs9IHBsYXllcnNbbXNnLnNlbmRlcl1bYV0udmFsdWU7CgkJCQkJRG9Sb2xsRXZlbnQobXNnLnNlbmRlciwgcGxheWVyc1ttc2cuc2VuZGVyXVthXS52YWx1ZSwgcGxheWVyc1ttc2cuc2VuZGVyXVthXS5pZCwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgMCwgMCk7CgkJCQkJc3ViRm91bmQgPSB0cnVlOwoJCQkJfQoJCQkJaWYgKHBsYXllcnNbbXNnLnNlbmRlcl1bYV0uYmxvY2tOdW1iZXIgPCBibG9jay5udW1iZXIpIHsKCQkJCQl2YWx1ZV8gKz0gbWFrZVJvbGwoYSk7CgkJCQkJc3ViRm91bmQgPSB0cnVlOwoJCQkJfQoJCQkJaWYgKHN1YkZvdW5kKSB7CgkJCQkJcGxheWVyc1BvdCAtPSBwbGF5ZXJzW21zZy5zZW5kZXJdW2FdLnZhbHVlOwoJCQkJCWRlbGV0ZSBwbGF5ZXJzW21zZy5zZW5kZXJdW2FdOwoJCQkJCWZvdW5kID0gdHJ1ZTsKCQkJCQljb250aW51ZTsKCQkJCX0KCQkJfQoJCX0KCQlpZiAoICEgZm91bmQpIHsgdGhyb3c7IH0KCQlpZiAodmFsdWVfID4gMCkgeyBpZiAoICEgbXNnLnNlbmRlci5zZW5kKHZhbHVlXykpIHsgdGhyb3c7IH0gfQoJfQoJZnVuY3Rpb24gUHJlcGFyZVJvbGwodWludCBzZWVkKSBPbmx5RW5hYmxlZCBub0NvbnRyYWN0IHsKCQlpZiAobXNnLnZhbHVlIDwgbWluaW11bVJvbGxQcmljZSkgeyB0aHJvdzsgfQoJCWlmIChqYWNrcG90XyA9PSAwKSB7IHRocm93OyB9CgkJdmFyIChfcmF0ZSwgX3JlYWxCZXQpID0gQ2hhbmNlT2ZXaW5uaW5nKG1zZy52YWx1ZSk7CgkJaWYgKF9yZWFsQmV0ID4gbXNnLnZhbHVlKSB7IHRocm93OyB9CgkJaWYgKG1zZy52YWx1ZS1fcmVhbEJldCA+IDApIHsKCQkJaWYgKCAhIG1zZy5zZW5kZXIuc2VuZCggbXNnLnZhbHVlLV9yZWFsQmV0ICkpIHsgdGhyb3c7IH0KCQl9CgkJZm9yICh1aW50IGEgPSAwIDsgYSA8IHBsYXllcnNbbXNnLnNlbmRlcl0ubGVuZ3RoIDsgYSsrKSB7CgkJCWlmICggISBwbGF5ZXJzW21zZy5zZW5kZXJdW2FdLnZhbGlkKSB7CgkJCQlwcmVwYXJlUm9sbCggYSwgX3JlYWxCZXQsIHNlZWQgKTsKCQkJCXJldHVybjsKCQkJfQoJCX0KCQlwbGF5ZXJzW21zZy5zZW5kZXJdLmxlbmd0aCsrOwoJCXByZXBhcmVSb2xsKCBwbGF5ZXJzW21zZy5zZW5kZXJdLmxlbmd0aC0xLCBfcmVhbEJldCwgc2VlZCApOwoJfQoJLyogRm9yIE93bmVyICovCglmdW5jdGlvbiBPd25lckNsb3NlQ29udHJhY3QoKSBleHRlcm5hbCBPbmx5T3duZXIgbm9FdGhlciB7CgkJaWYgKCAhIENvbnRyYWN0RW5hYmxlZCkgewoJCQlpZiAoQ29udHJhY3REaXNhYmxlZEJsb2NrIDwgYmxvY2subnVtYmVyKSB7CgkJCQlpZiAocGxheWVyc1BvdCA9PSAwKSB7IHRocm93OyB9CgkJCQl1aW50IF92YWx1ZSA9IHBsYXllcnNQb3Q7CgkJCQlwbGF5ZXJzUG90ID0gMDsKCQkJCWlmICggISBtc2cuc2VuZGVyLnNlbmQoIF92YWx1ZSApKSB7IHRocm93OyB9CgkJCX0KCQl9IGVsc2UgewoJCQlDb250cmFjdEVuYWJsZWQgPSBmYWxzZTsKCQkJQ29udHJhY3REaXNhYmxlZEJsb2NrID0gYmxvY2subnVtYmVyK3JvbGxMb3NzQmxvY2tEZWxheTsKCQkJQ29udHJhY3REaXNhYmxlZChDb250cmFjdERpc2FibGVkQmxvY2spOwoJCQlmZWVWYWx1ZSArPSBleHRyYUphY2twb3RfOwoJCQlleHRyYUphY2twb3RfID0gMDsKCQl9Cgl9CglmdW5jdGlvbiBPd25lckdldEZlZSgpIGV4dGVybmFsIE9ubHlPd25lciBub0V0aGVyIHsKCQlpZiAoZmVlVmFsdWUgPT0gMCkgeyB0aHJvdzsgfQoJCXVpbnQgX3ZhbHVlID0gcGxheWVyc1BvdDsKCQlmZWVWYWx1ZSA9IDA7CgkJaWYgKCAhIG93bmVyLnNlbmQoX3ZhbHVlKSkgeyB0aHJvdzsgfQoJfQoJCgkvKgoJCVByaXZhdGUgZnVuY3Rpb25zCgkqLwoJZnVuY3Rpb24gc2V0SmFja3BvdCgpIHByaXZhdGUgewoJCUphY2twb3QgPSBleHRyYUphY2twb3RfICsgamFja3BvdF87Cgl9CglmdW5jdGlvbiBtYWtlUm9sbCh1aW50IGlkKSBwcml2YXRlIHJldHVybnModWludCB3aW4pIHsKCQl1aW50IGZlZVZhbHVlXyA9IHBsYXllcnNbbXNnLnNlbmRlcl1baWRdLnZhbHVlICogZmVlIC8gMTAwIDsKCQlmZWVWYWx1ZSArPSBmZWVWYWx1ZV87CgkJdWludCBpbnZlc3RvckZlZV8gPSBwbGF5ZXJzW21zZy5zZW5kZXJdW2lkXS52YWx1ZSAqIGludmVzdG9yRmVlIC8gMTAwOwoJCWludmVzdG9yQWRkRmVlKGludmVzdG9yRmVlXyk7CgkJZXh0cmFKYWNrcG90XyArPSBwbGF5ZXJzW21zZy5zZW5kZXJdW2lkXS52YWx1ZSAtIGZlZVZhbHVlXyAtIGludmVzdG9yRmVlXzsKCQlzZXRKYWNrcG90KCk7CgkJYnl0ZXMzMiBoYXNoXyA9IHBsYXllcnNbbXNnLnNlbmRlcl1baWRdLmV4dHJhSGFzaDsKCQlmb3IgKCB1aW50IGEgPSAxIDsgYSA8PSBwcmVwYXJlQmxvY2tEZWxheSA7IGErKyApIHsKCQkJaGFzaF8gPSBzaGEzKGhhc2hfLCBibG9jay5ibG9ja2hhc2gocGxheWVyc1ttc2cuc2VuZGVyXVtpZF0uYmxvY2tOdW1iZXIgLSBwcmVwYXJlQmxvY2tEZWxheSthKSk7CgkJfQoJCXVpbnQgX3JhdGUgPSBnZXRSYXRlKHBsYXllcnNbbXNnLnNlbmRlcl1baWRdLnZhbHVlKTsKCQl1aW50IGJpZ051bWJlciA9IHVpbnQ2NChoYXNoXyk7CgkJaWYgKGJpZ051bWJlciA9PSAwIHx8IF9yYXRlID09IDApIHsgcmV0dXJuOyB9CgkJaWYgKGJpZ051bWJlciAlIF9yYXRlID09IDAgKSB7CgkJCXdpbiA9IEphY2twb3Q7CgkJCWZvciAoIGE9MCA7IGEgPCBpbnZlc3RvcnMubGVuZ3RoIDsgYSsrICkgewoJCQkJaW52ZXN0b3JzW2FdLmxpdmUgPSBmYWxzZTsKCQkJfQoJCQlKYWNrcG90SGl0cysrOwoJCQlleHRyYUphY2twb3RfID0gMDsKCQkJamFja3BvdF8gPSAwOwoJCQlKYWNrcG90ID0gMDsKCQkJSUxXaW5uZXJEQkludGVyZmFjZSggd2lubmVyc0RCICkubmV3V2lubmVyKG5vdywgbXNnLnNlbmRlciwgd2luLCBfcmF0ZSwgcGxheWVyc1ttc2cuc2VuZGVyXVtpZF0udmFsdWUpOwoJCQlEb1JvbGxFdmVudChtc2cuc2VuZGVyLCB3aW4sIHBsYXllcnNbbXNnLnNlbmRlcl1baWRdLmlkLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCB0cnVlLCBiaWdOdW1iZXIsIF9yYXRlLCBiaWdOdW1iZXIgJSBfcmF0ZSk7CgkJfSBlbHNlIHsKCQkJRG9Sb2xsRXZlbnQobXNnLnNlbmRlciwgcGxheWVyc1ttc2cuc2VuZGVyXVtpZF0udmFsdWUsIHBsYXllcnNbbXNnLnNlbmRlcl1baWRdLmlkLCBmYWxzZSwgZmFsc2UsIHRydWUsIGZhbHNlLCBiaWdOdW1iZXIsIF9yYXRlLCBiaWdOdW1iZXIgJSBfcmF0ZSk7CgkJfQoJfQoJZnVuY3Rpb24gaW52ZXN0b3JBZGRGZWUodWludCB2YWx1ZSkgcHJpdmF0ZSB7CgkJYm9vbCBkb25lOwoJCWZvciAoIHVpbnQgYT0wIDsgYSA8IGludmVzdG9ycy5sZW5ndGggOyBhKysgKSB7CgkJCWlmIChpbnZlc3RvcnNbYV0ubGl2ZSAmJiBpbnZlc3RvcnNbYV0udmFsaWQpIHsKCQkJCWludmVzdG9yc1thXS5iYWxhbmNlICs9IHZhbHVlICogaW52ZXN0b3JzW2FdLnZhbHVlIC8gamFja3BvdF87CgkJCQlkb25lID0gdHJ1ZTsKCQkJfQoJCX0KCQlpZiAoICEgZG9uZSkgewoJCQlmZWVWYWx1ZSArPSB2YWx1ZTsKCQl9Cgl9CglmdW5jdGlvbiBwcmVwYXJlUm9sbCh1aW50IHJvbGxJRCwgdWludCBiZXQsIHVpbnQgc2VlZCkgcHJpdmF0ZSB7CgkJUm9sbENvdW50Kys7CgkJcGxheWVyc1ttc2cuc2VuZGVyXVtyb2xsSURdLmJsb2NrTnVtYmVyID0gYmxvY2subnVtYmVyICsgcHJlcGFyZUJsb2NrRGVsYXk7CgkJcGxheWVyc1ttc2cuc2VuZGVyXVtyb2xsSURdLmV4dHJhSGFzaCA9IHNoYTMoUm9sbENvdW50LCBub3csIHNlZWQsIFJhbmRvbUludGVyZmFjZShyYW5kb21BZGRyKS5nZXRSYW5kb20oKSwgYWRkcmVzcyhzZWVkKS5iYWxhbmNlKTsKCQlwbGF5ZXJzW21zZy5zZW5kZXJdW3JvbGxJRF0udmFsaWQgPSB0cnVlOwoJCXBsYXllcnNbbXNnLnNlbmRlcl1bcm9sbElEXS52YWx1ZSA9IGJldDsKCQlwbGF5ZXJzW21zZy5zZW5kZXJdW3JvbGxJRF0uZ2FtZSA9IEphY2twb3RIaXRzOwoJCXBsYXllcnNbbXNnLnNlbmRlcl1bcm9sbElEXS5pZCA9IFJvbGxDb3VudDsKCQlwbGF5ZXJzW21zZy5zZW5kZXJdW3JvbGxJRF0uc3VtSW52ZXN0ID0gamFja3BvdF87CQoJCXBsYXllcnNQb3QgKz0gYmV0OwoJCVByZXBhcmVSb2xsRXZlbnQobXNnLnNlbmRlciwgcGxheWVyc1ttc2cuc2VuZGVyXVtyb2xsSURdLmJsb2NrTnVtYmVyLCBwbGF5ZXJzW21zZy5zZW5kZXJdW3JvbGxJRF0udmFsdWUsIHBsYXllcnNbbXNnLnNlbmRlcl1bcm9sbElEXS5pZCk7Cgl9CgkKCS8qCgkJSW50ZXJuYWwgZnVuY3Rpb25zCgkqLwkKCWZ1bmN0aW9uIGdldFJhdGUodWludCB2YWx1ZSkgaW50ZXJuYWwgcmV0dXJucyh1aW50KXsKCQlyZXR1cm4gamFja3BvdF8gKiAxIGV0aGVyIC8gdmFsdWUgKiAxMDAgLyBpbnZlc3RvckZlZSAqIGV4dHJhUmF0ZSAvIDEwMCAvIDEgZXRoZXI7Cgl9CglmdW5jdGlvbiBnZXRSZWFsQmV0KHVpbnQgcmF0ZSkgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewoJCXJldHVybiBqYWNrcG90XyAqIDEgZXRoZXIgLyAoIHJhdGUgKiAxIGV0aGVyICogaW52ZXN0b3JGZWUgLyBleHRyYVJhdGUpOwoJfQoJZnVuY3Rpb24gZ2V0SW52ZXN0b3JCeUFkZHJlc3MoYWRkcmVzcyBBZGRyZXNzKSBpbnRlcm5hbCByZXR1cm5zIChib29sIGZvdW5kLCB1aW50IGlkKSB7CgkJZm9yICggaWQ9MCA7IGlkIDwgaW52ZXN0b3JzLmxlbmd0aCA7IGlkKysgKSB7CgkJCWlmIChpbnZlc3RvcnNbaWRdLm93bmVyID09IEFkZHJlc3MpIHsKCQkJCXJldHVybiAodHJ1ZSwgaWQpOwoJCQl9CgkJfQoJCXJldHVybiAoZmFsc2UsIDApOwoJfQoJCgkvKgoJCUV2ZW50cwoJKi8JCglldmVudCBEb1JvbGxFdmVudChhZGRyZXNzIFBsYXllciwgdWludCBWYWx1ZSwgdWludCBSb2xsSUQsIGJvb2wgUmVmdW5kLCBib29sIExvc3RCZXQsIGJvb2wgTG9zc1JvbGwsIGJvb2wgV2luUm9sbCwgdWludCBCaWdOdW1iZXIsIHVpbnQgUmF0ZSwgdWludCBSb2xsUmVzdWx0KTsKCWV2ZW50IFByZXBhcmVSb2xsRXZlbnQoYWRkcmVzcyBQbGF5ZXIsIHVpbnQgQmxvY2ssIHVpbnQgQmV0LCB1aW50IFJvbGxJRCk7CglldmVudCBDb250cmFjdERpc2FibGVkKHVpbnQgTG9zc0FsbEJldEJsb2NrTnVtYmVyKTsKCQoJLyoKCQlNb2RpZmllcnMKCSovCgltb2RpZmllciBub0NvbnRyYWN0KCkge2lmICh0eC5vcmlnaW4gIT0gbXNnLnNlbmRlcikgeyB0aHJvdzsgfSBfOyB9CW1vZGlmaWVyIG5vRXRoZXIoKSB7IGlmIChtc2cudmFsdWUgPiAwKSB7IHRocm93OyB9IF87IH0JbW9kaWZpZXIgT25seU93bmVyKCkgeyBpZiAob3duZXIgIT0gbXNnLnNlbmRlcikgeyB0aHJvdzsgfSBfOyB9CW1vZGlmaWVyIE9ubHlFbmFibGVkKCkgeyBpZiAoICEgQ29udHJhY3RFbmFibGVkKSB7IHRocm93OyB9IF87IH19'.
	

]
