Class {
	#name : #SRTe60bfffc17ec0a32c45b30d4ccf8b8ce742c3405,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe60bfffc17ec0a32c45b30d4ccf8b8ce742c3405 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovL2ltcG9ydCAnLi9saWIvc2FmZU1hdGguc29sJzsKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCi8vIGltcG9ydCAnLi9FUkMyMC5zb2wnOwpjb250cmFjdCBFUkMyMCB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCi8vIGltcG9ydCAnLi9oZWxwZXJzL0Jhc2ljVG9rZW4uc29sJzsKY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMCB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CiAgICAKLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICAKCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgdWludDI1NiBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKfQoKCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuIAogICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCgp9Cgpjb250cmFjdCBCaVFUb2tlbiBpcyBCYXNpY1Rva2VuIHsKCiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJCdXJzdElRIFRva2VuIjsgICAgICAgICAgICAgIC8vbmFtZSBvZiB0aGUgdG9rZW4KICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJCaVEiOyAgICAgICAgICAgICAgICAgICAgICAvLyBzeW1ib2wgb2YgdGhlIHRva2VuCiAgdWludDggcHVibGljIGRlY2ltYWxzID0gMTg7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVjaW1hbHMKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseSA9IDEwMDAwMDAwMDAgKiAxMCoqMTg7ICAvLyB0b3RhbCBzdXBwbHkgb2YgQmlRIFRva2VucwoKICAvLyB2YXJpYWJsZXMKICB1aW50MjU2IHB1YmxpYyBrZXlFbXBsb3llZXNBbGxvY2F0ZWRGdW5kOyAgICAgICAgICAgLy8gZnVuZCBhbGxvY2F0ZWQgdG8ga2V5IGVtcGxveWVlcwogIHVpbnQyNTYgcHVibGljIGFkdmlzb3JzQWxsb2NhdGlvbjsgICAgICAgICAgICAgICAgICAvLyBmdW5kIGFsbG9jYXRlZCB0byBhZHZpc29ycwogIHVpbnQyNTYgcHVibGljIG1hcmtldEluY2VudGl2ZXNBbGxvY2F0aW9uOyAgICAgICAgICAvLyBmdW5kIGFsbG9jYXRlZCB0byBNYXJrZXQKICB1aW50MjU2IHB1YmxpYyB2ZXN0aW5nRm91bmRlckFsbG9jYXRpb247ICAgICAgICAgICAgLy8gZnVuZHMgYWxsb2NhdGVkIHRvIGZvdW5kZXJzIHRoYXQgaW4gdW5kZXIgdmVzdGluZyBwZXJpb2QKICB1aW50MjU2IHB1YmxpYyB0b3RhbEFsbG9jYXRlZFRva2VuczsgICAgICAgICAgICAgICAgLy8gdmFyaWFibGUgdG8ga2VlcCB0cmFjayBvZiBmdW5kcyBhbGxvY2F0ZWQKICB1aW50MjU2IHB1YmxpYyB0b2tlbnNBbGxvY2F0ZWRUb0Nyb3dkRnVuZDsgICAgICAgICAgLy8gZnVuZHMgYWxsb2NhdGVkIHRvIGNyb3dkZnVuZAogIHVpbnQyNTYgcHVibGljIHNhZnRJbnZlc3RvckFsbG9jYXRpb247ICAgICAgICAgICAgICAvLyBmdW5kcyBhbGxvY2F0ZWQgdG8gcHJpdmF0ZSBwcmVzYWxlcyBhbmQgaW5zdGl0dWF0aW9uYWwgaW52ZXN0b3JzCgogIGJvb2wgcHVibGljIGlzUHVibGljVG9rZW5SZWxlYXNlZCA9IGZhbHNlOyAgICAgICAgICAvLyBmbGFnIHRvIHRyYWNrIHRoZSByZWxlYXNlIHRoZSBwdWJsaWMgdG9rZW4KCiAgLy8gYWRkcmVzc2VzCgogIGFkZHJlc3MgcHVibGljIGZvdW5kZXJNdWx0aVNpZ0FkZHJlc3M7ICAgICAgICAgICAgICAvLyBtdWx0aSBzaWduIGFkZHJlc3Mgb2YgZm91bmRlcnMgd2hpY2ggaG9sZAogIGFkZHJlc3MgcHVibGljIGFkdmlzb3JBZGRyZXNzOyAgICAgICAgICAgICAgICAgICAgICAvLyAgYWR2aXNvciBhZGRyZXNzIHdoaWNoIGhvbGQgYWR2aXNvcnNBbGxvY2F0aW9uIGZ1bmRzCiAgYWRkcmVzcyBwdWJsaWMgdmVzdGluZ0ZvdW5kZXJBZGRyZXNzOyAgICAgICAgICAgICAgIC8vIGFkZHJlc3Mgb2YgZm91bmRlciB0aGF0IGhvbGQgdmVzdGluZ0ZvdW5kZXJBbGxvY2F0aW9uCiAgYWRkcmVzcyBwdWJsaWMgY3Jvd2RGdW5kQWRkcmVzczsgICAgICAgICAgICAgICAgICAgIC8vIGFkZHJlc3Mgb2YgY3Jvd2RmdW5kIGNvbnRyYWN0CgogIC8vIHZlc3RpbmcgcGVyaW9kCgogIHVpbnQyNTYgcHVibGljIHByZUFsbG9jYXRlZFRva2Vuc1Zlc3RpbmdUaW1lOyAgICAgICAvLyBjcm93ZGZ1bmQgc3RhcnQgdGltZSArIDYgbW9udGhzCgogIC8vZXZlbnRzCgogIGV2ZW50IENoYW5nZUZvdW5kZXJzV2FsbGV0QWRkcmVzcyh1aW50MjU2ICBfYmxvY2tUaW1lU3RhbXAsIGFkZHJlc3MgaW5kZXhlZCBfZm91bmRlcnNXYWxsZXRBZGRyZXNzKTsKICBldmVudCBUcmFuc2ZlclByZUFsbG9jYXRlZEZ1bmRzKHVpbnQyNTYgIF9ibG9ja1RpbWVTdGFtcCAsIGFkZHJlc3MgX3RvICwgdWludDI1NiBfdmFsdWUpOwogIGV2ZW50IFB1YmxpY1Rva2VuUmVsZWFzZWQodWludDI1NiBfYmxvY2tUaW1lU3RhbXApOwoKICAvL21vZGlmaWVycwoKICBtb2RpZmllciBvbmx5Q3Jvd2RGdW5kQWRkcmVzcygpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBjcm93ZEZ1bmRBZGRyZXNzKTsKICAgIF87CiAgfQoKICBtb2RpZmllciBub25aZXJvQWRkcmVzcyhhZGRyZXNzIF90bykgewogICAgcmVxdWlyZShfdG8gIT0gMHgwKTsKICAgIF87CiAgfQoKICBtb2RpZmllciBvbmx5Rm91bmRlcnMoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZm91bmRlck11bHRpU2lnQWRkcmVzcyk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgb25seVZlc3RpbmdGb3VuZGVyQWRkcmVzcygpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSB2ZXN0aW5nRm91bmRlckFkZHJlc3MpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIG9ubHlBZHZpc29yQWRkcmVzcygpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBhZHZpc29yQWRkcmVzcyk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgaXNQdWJsaWNUb2tlbk5vdFJlbGVhc2VkKCkgewogICAgcmVxdWlyZShpc1B1YmxpY1Rva2VuUmVsZWFzZWQgPT0gZmFsc2UpOwogICAgXzsKICB9CgoKICAvLyBjcmVhdGlvbiBvZiB0aGUgdG9rZW4gY29udHJhY3QKICBmdW5jdGlvbiBCaVFUb2tlbiAoYWRkcmVzcyBfY3Jvd2RGdW5kQWRkcmVzcywgYWRkcmVzcyBfZm91bmRlck11bHRpU2lnQWRkcmVzcywgYWRkcmVzcyBfYWR2aXNvckFkZHJlc3MsIGFkZHJlc3MgX3Zlc3RpbmdGb3VuZGVyQWRkcmVzcykgewogICAgY3Jvd2RGdW5kQWRkcmVzcyA9IF9jcm93ZEZ1bmRBZGRyZXNzOwogICAgZm91bmRlck11bHRpU2lnQWRkcmVzcyA9IF9mb3VuZGVyTXVsdGlTaWdBZGRyZXNzOwogICAgdmVzdGluZ0ZvdW5kZXJBZGRyZXNzID0gX3Zlc3RpbmdGb3VuZGVyQWRkcmVzczsKICAgIGFkdmlzb3JBZGRyZXNzID0gX2Fkdmlzb3JBZGRyZXNzOwoKICAgIC8vIFRva2VuIERpc3RyaWJ1dGlvbgogICAgdmVzdGluZ0ZvdW5kZXJBbGxvY2F0aW9uID0gMTggKiAxMCAqKiAyNSA7ICAgICAgICAvLyAxOCAlIGFsbG9jYXRpb24gb2YgdG90YWxTdXBwbHkKICAgIGtleUVtcGxveWVlc0FsbG9jYXRlZEZ1bmQgPSAyICogMTAgKiogMjUgOyAgICAgICAgLy8gMiAlIGFsbG9jYXRpb24gb2YgdG90YWxTdXBwbHkKICAgIGFkdmlzb3JzQWxsb2NhdGlvbiA9IDUgKiAxMCAqKiAyNSA7ICAgICAgICAgICAgICAgLy8gNSAlIGFsbG9jYXRpb24gb2YgdG90YWxTdXBwbHkKICAgIHRva2Vuc0FsbG9jYXRlZFRvQ3Jvd2RGdW5kID0gNjAgKiAxMCAqKiAyNSA7ICAgICAgLy8gNjAgJSBhbGxvY2F0aW9uIG9mIHRvdGFsU3VwcGx5CiAgICBtYXJrZXRJbmNlbnRpdmVzQWxsb2NhdGlvbiA9IDUgKiAxMCAqKiAyNSA7ICAgICAgIC8vIDUgJSBhbGxvY2F0aW9uIG9mIHRvdGFsU3VwcGx5CiAgICBzYWZ0SW52ZXN0b3JBbGxvY2F0aW9uID0gMTAgKiAxMCAqKiAyNSA7ICAgICAgICAgIC8vIDEwICUgYWxsb2FjdGlvbiBvZiB0b3RhbFN1cHBseQoKICAgIC8vIEFzc2lnbmVkIGJhbGFuY2VzIHRvIHJlc3BlY3RpdmUgc3Rha2Vob2xkZXJzCiAgICBiYWxhbmNlc1tmb3VuZGVyTXVsdGlTaWdBZGRyZXNzXSA9IGtleUVtcGxveWVlc0FsbG9jYXRlZEZ1bmQgKyBzYWZ0SW52ZXN0b3JBbGxvY2F0aW9uOwogICAgYmFsYW5jZXNbY3Jvd2RGdW5kQWRkcmVzc10gPSB0b2tlbnNBbGxvY2F0ZWRUb0Nyb3dkRnVuZDsKCiAgICB0b3RhbEFsbG9jYXRlZFRva2VucyA9IGJhbGFuY2VzW2ZvdW5kZXJNdWx0aVNpZ0FkZHJlc3NdOwogICAgcHJlQWxsb2NhdGVkVG9rZW5zVmVzdGluZ1RpbWUgPSBub3cgKyAxODAgKiAxIGRheXM7ICAgICAgICAgICAgICAgIC8vIGl0IHNob3VsZCBiZSA2IG1vbnRocyBwZXJpb2QgZm9yIHZlc3RpbmcKICB9CgogIC8vIGZ1bmN0aW9uIHRvIGtlZXAgdHJhY2sgb2YgdGhlIHRvdGFsIHRva2VuIGFsbG9jYXRpb24KICBmdW5jdGlvbiBjaGFuZ2VUb3RhbFN1cHBseSh1aW50MjU2IF9hbW91bnQpIG9ubHlDcm93ZEZ1bmRBZGRyZXNzIHsKICAgIHRvdGFsQWxsb2NhdGVkVG9rZW5zID0gdG90YWxBbGxvY2F0ZWRUb2tlbnMuYWRkKF9hbW91bnQpOwogICAgdG9rZW5zQWxsb2NhdGVkVG9Dcm93ZEZ1bmQgPSB0b2tlbnNBbGxvY2F0ZWRUb0Nyb3dkRnVuZC5zdWIoX2Ftb3VudCk7CiAgfQoKICAvLyBmdW5jdGlvbiB0byBjaGFuZ2UgZm91bmRlciBtdWx0aXNpZyB3YWxsZXQgYWRkcmVzcwogIGZ1bmN0aW9uIGNoYW5nZUZvdW5kZXJNdWx0aVNpZ0FkZHJlc3MoYWRkcmVzcyBfbmV3Rm91bmRlck11bHRpU2lnQWRkcmVzcykgb25seUZvdW5kZXJzIG5vblplcm9BZGRyZXNzKF9uZXdGb3VuZGVyTXVsdGlTaWdBZGRyZXNzKSB7CiAgICBmb3VuZGVyTXVsdGlTaWdBZGRyZXNzID0gX25ld0ZvdW5kZXJNdWx0aVNpZ0FkZHJlc3M7CiAgICBDaGFuZ2VGb3VuZGVyc1dhbGxldEFkZHJlc3Mobm93LCBmb3VuZGVyTXVsdGlTaWdBZGRyZXNzKTsKICB9CgogIC8vIGZ1bmN0aW9uIGZvciByZWxlYXNpbmcgdGhlIHB1YmxpYyB0b2tlbnMgY2FsbGVkIG9uY2UgYnkgdGhlIGZvdW5kZXIgb25seQogIGZ1bmN0aW9uIHJlbGVhc2VUb2tlbigpIG9ubHlGb3VuZGVycyBpc1B1YmxpY1Rva2VuTm90UmVsZWFzZWQgewogICAgaXNQdWJsaWNUb2tlblJlbGVhc2VkID0gIWlzUHVibGljVG9rZW5SZWxlYXNlZDsKICAgIFB1YmxpY1Rva2VuUmVsZWFzZWQobm93KTsKICB9CgogIC8vIGZ1bmN0aW9uIHRvIHRyYW5zZmVyIG1hcmtldCBJbmNlbnRpdmVzIGZ1bmQKICBmdW5jdGlvbiB0cmFuc2Zlck1hcmtldEluY2VudGl2ZXNGdW5kKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seUZvdW5kZXJzIG5vblplcm9BZGRyZXNzKF90bykgIHJldHVybnMgKGJvb2wpIHsKICAgIGlmIChtYXJrZXRJbmNlbnRpdmVzQWxsb2NhdGlvbiA+PSBfdmFsdWUpIHsKICAgICAgbWFya2V0SW5jZW50aXZlc0FsbG9jYXRpb24gPSBtYXJrZXRJbmNlbnRpdmVzQWxsb2NhdGlvbi5zdWIoX3ZhbHVlKTsKICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgIHRvdGFsQWxsb2NhdGVkVG9rZW5zID0gdG90YWxBbGxvY2F0ZWRUb2tlbnMuYWRkKF92YWx1ZSk7CiAgICAgIFRyYW5zZmVyUHJlQWxsb2NhdGVkRnVuZHMobm93LCBfdG8sIF92YWx1ZSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgcmV0dXJuIGZhbHNlOwogIH0KCgogIC8vIGZ1bmQgdHJhbnNmZXJyZWQgdG8gdmVzdGluZyBGb3VuZGVycyBhZGRyZXNzIGFmdGVyIDYgbW9udGhzCiAgZnVuY3Rpb24gZ2V0VmVzdGVkRm91bmRlclRva2VucygpIG9ubHlWZXN0aW5nRm91bmRlckFkZHJlc3MgcmV0dXJucyAoYm9vbCkgewogICAgaWYgKG5vdyA+PSBwcmVBbGxvY2F0ZWRUb2tlbnNWZXN0aW5nVGltZSAmJiB2ZXN0aW5nRm91bmRlckFsbG9jYXRpb24gPiAwKSB7CiAgICAgIGJhbGFuY2VzW3Zlc3RpbmdGb3VuZGVyQWRkcmVzc10gPSBiYWxhbmNlc1t2ZXN0aW5nRm91bmRlckFkZHJlc3NdLmFkZCh2ZXN0aW5nRm91bmRlckFsbG9jYXRpb24pOwogICAgICB0b3RhbEFsbG9jYXRlZFRva2VucyA9IHRvdGFsQWxsb2NhdGVkVG9rZW5zLmFkZCh2ZXN0aW5nRm91bmRlckFsbG9jYXRpb24pOwogICAgICB2ZXN0aW5nRm91bmRlckFsbG9jYXRpb24gPSAwOwogICAgICBUcmFuc2ZlclByZUFsbG9jYXRlZEZ1bmRzKG5vdywgdmVzdGluZ0ZvdW5kZXJBZGRyZXNzLCB2ZXN0aW5nRm91bmRlckFsbG9jYXRpb24pOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKICB9CgogIC8vIGZ1bmQgdHJhbnNmZXJyZWQgdG8gdmVzdGluZyBhZHZpc29yIGFkZHJlc3MgYWZ0ZXIgNiBtb250aHMKICBmdW5jdGlvbiBnZXRWZXN0ZWRBZHZpc29yVG9rZW5zKCkgb25seUFkdmlzb3JBZGRyZXNzIHJldHVybnMgKGJvb2wpIHsKICAgIGlmIChub3cgPj0gcHJlQWxsb2NhdGVkVG9rZW5zVmVzdGluZ1RpbWUgJiYgYWR2aXNvcnNBbGxvY2F0aW9uID4gMCkgewogICAgICBiYWxhbmNlc1thZHZpc29yQWRkcmVzc10gPSBiYWxhbmNlc1thZHZpc29yQWRkcmVzc10uYWRkKGFkdmlzb3JzQWxsb2NhdGlvbik7CiAgICAgIHRvdGFsQWxsb2NhdGVkVG9rZW5zID0gdG90YWxBbGxvY2F0ZWRUb2tlbnMuYWRkKGFkdmlzb3JzQWxsb2NhdGlvbik7CiAgICAgIGFkdmlzb3JzQWxsb2NhdGlvbiA9IDA7CiAgICAgIFRyYW5zZmVyUHJlQWxsb2NhdGVkRnVuZHMobm93LCBhZHZpc29yQWRkcmVzcywgYWR2aXNvcnNBbGxvY2F0aW9uKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQoKICAvLyBvdmVybG9hZGVkIHRyYW5zZmVyIGZ1bmN0aW9uIHRvIHJlc3RyaWN0IHRoZSBpbnZlc3RvciB0byB0cmFuc2ZlciB0aGUgdG9rZW4gYmVmb3JlIHRoZSBJQ08gc2FsZSBlbmRzCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICBpZiAobXNnLnNlbmRlciA9PSBjcm93ZEZ1bmRBZGRyZXNzKSB7CiAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sX3ZhbHVlKTsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChpc1B1YmxpY1Rva2VuUmVsZWFzZWQpIHsKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLF92YWx1ZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0KCiAgLy8gb3ZlcmxvYWRlZCB0cmFuc2ZlckZyb20gZnVuY3Rpb24gdG8gcmVzdHJpY3QgdGhlIGludmVzdG9yIHRvIHRyYW5zZmVyIHRoZSB0b2tlbiBiZWZvcmUgdGhlIElDTyBzYWxlIGVuZHMKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICBpZiAobXNnLnNlbmRlciA9PSBjcm93ZEZ1bmRBZGRyZXNzKSB7CiAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChpc1B1YmxpY1Rva2VuUmVsZWFzZWQpIHsKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0KCiAgLy8gZmFsbGJhY2sgZnVuY3Rpb24gdG8gcmVzdHJpY3QgZGlyZWN0IHNlbmRpbmcgb2YgZXRoZXIKICBmdW5jdGlvbiAoKSB7CiAgICByZXZlcnQoKTsKICB9Cgp9'.
	

]
