Class {
	#name : #SRT092d3374f942bb4a99ce64f37fa7e661fdd1e74c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT092d3374f942bb4a99ce64f37fa7e661fdd1e74c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7CgovL0RldmVsb3BlZCBieSBaZW5vcyBQYXZsYWtvdQoKbGlicmFyeSBTYWZlTWF0aCB7CiAgICAKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSAgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9CgoKY29udHJhY3QgT3duYWJsZSB7CiAgICAKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIC8qKgogICAgICogVGhlIGFkZHJlc3Mgd2hjaWggZGVwbG95cyB0aGlzIGNvbnRyY2F0IGlzIGF1dG9tYXRpY2FsbHkgYXNzZ2luZWQgb3duZXJzaGlwLgogICAgICogKi8KICAgIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICAvKioKICAgICAqIEZ1bmN0aW9ucyB3aXRoIHRoaXMgbW9kaWZpZXIgY2FuIG9ubHkgYmUgZXhlY3V0ZWQgYnkgdGhlIG93bmVyIG9mIHRoZSBjb250cmFjdC4gCiAgICAgKiAqLwogICAgbW9kaWZpZXIgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9Cn0KCgpjb250cmFjdCBFUkMyMEJhc2ljIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljICByZXR1cm5zIChib29sKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYywgT3duYWJsZSB7CgogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgICBtb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludCBzaXplKSB7CiAgICAgICAgaWYgKG1zZy5kYXRhLmxlbmd0aCA8IHNpemUgKyA0KSB7CiAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgfQogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiBUcmFuc2ZlcnMgQUNPIHRva2VucyBmcm9tIHRoZSBzZW5kZXIncyBhY2NvdW50IHRvIGFub3RoZXIgZ2l2ZW4gYWNjb3VudC4KICAgICAqIAogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50LgogICAgICogQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gc2VuZC4KICAgICAqICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgb25seVBheWxvYWRTaXplKDIgKiAzMikgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBiYWxhbmNlIG9mIGEgZ2l2ZW4gYWRkcmVzcy4KICAgICAqIAogICAgICogQHBhcmFtIF9hZGRyIFRoZSBhZGRyZXNzIG9mIHRoZSBiYWxhbmNlIHRvIHF1ZXJ5LgogICAgICoqLwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX2FkZHIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19hZGRyXTsKICAgIH0KfQoKCmNvbnRyYWN0IEFkdmFuY2VkVG9rZW4gaXMgQmFzaWNUb2tlbiwgRVJDMjAgewoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dhbmNlczsKCiAgICAvKioKICAgICAqIFRyYW5zZmVycyB0b2tlbnMgZnJvbSB0aGUgYWNjb3VudCBvZiB0aGUgb3duZXIgYnkgYW4gYXBwcm92ZWQgc3BlbmRlci4gCiAgICAgKiBUaGUgc3BlbmRlciBjYW5ub3Qgc3BlbmQgbW9yZSB0aGFuIHRoZSBhcHByb3ZlZCBhbW91bnQuIAogICAgICogCiAgICAgKiBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIG93bmVycyBhY2NvdW50LgogICAgICogQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gdHJhbnNmZXIuCiAgICAgKiAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYyBvbmx5UGF5bG9hZFNpemUoMyAqIDMyKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShhbGxvd2FuY2VzW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfYW1vdW50ICYmIGJhbGFuY2VzW19mcm9tXSA+PSBfYW1vdW50KTsKICAgICAgICBhbGxvd2FuY2VzW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93YW5jZXNbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF9hbW91bnQpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEFsbG93cyBhbm90aGVyIGFjY291bnQgdG8gc3BlbmQgYSBnaXZlbiBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiB0aGUgCiAgICAgKiBvd25lcidzIGFjY291bnQuIElmIHRoZSBvd25lciBoYXMgcHJldmlvdXNseSBhbGxvd2VkIGEgc3BlbmRlciB0byBzcGVuZAogICAgICogdG9rZW5zIG9uIGhpcyBvciBoZXIgYmVoYWxmIGFuZCB3b3VsZCBsaWtlIHRvIGNoYW5nZSB0aGUgYXBwcm92YWwgYW1vdW50LAogICAgICogaGUgb3Igc2hlIHdpbGwgZmlyc3QgaGF2ZSB0byBzZXQgdGhlIGFsbG93YW5jZSBiYWNrIHRvIDAgYW5kIHRoZW4gdXBkYXRlCiAgICAgKiB0aGUgYWxsb3dhbmNlLgogICAgICogCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIHNwZW5kZXJzIGFjY291bnQuCiAgICAgKiBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IG9mIHRva2VucyB0aGUgc3BlbmRlciBpcyBhbGxvd2VkIHRvIHNwZW5kLgogICAgICogKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoKF9hbW91bnQgPT0gMCkgfHwgKGFsbG93YW5jZXNbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKICAgICAgICBhbGxvd2FuY2VzW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF9hbW91bnQ7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGFwcHJvdmVkIGFsbG93YW5jZSBmcm9tIGFuIG93bmVycyBhY2NvdW50IHRvIGEgc3BlbmRlcnMgYWNjb3VudC4KICAgICAqIAogICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgb3duZXJzIGFjY291bnQuCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIHNwZW5kZXJzIGFjY291bnQuCiAgICAgKiovCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGFsbG93YW5jZXNbX293bmVyXVtfc3BlbmRlcl07CiAgICB9Cn0KCgpjb250cmFjdCBNaW50YWJsZVRva2VuIGlzIEFkdmFuY2VkVG9rZW4gewoKICAgIGJvb2wgcHVibGljIG1pbnRpbmdGaW5pc2hlZDsKCiAgICBldmVudCBUb2tlbnNNaW50ZWQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CiAgICBldmVudCBNaW50aW5nRmluaXNoZWQoKTsKCiAgICAvKioKICAgICAqIEdlbmVyYXRlcyBuZXcgQUNPIHRva2VucyBkdXJpbmcgdGhlIElDTywgYWZ0ZXIgd2hpY2ggdGhlIG1pbnRpbmcgcGVyaW9kIAogICAgICogd2lsbCB0ZXJtaW5hdGUgcGVybWVuYW50bHkuIFRoaXMgZnVuY3Rpb24gY2FuIG9ubHkgYmUgY2FsbGVkIGJ5IHRoZSBJQ08gCiAgICAgKiBjb250cmFjdC4KICAgICAqIAogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCB0byBtaW50IG5ldyB0b2tlbnMgdG8uCiAgICAgKiBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IG9mIHRva2VucyB0byBtaW50LiAKICAgICAqICovCiAgICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIGV4dGVybmFsIG9ubHlPd25lciBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gMHgwICYmIF9hbW91bnQgPiAwICYmICFtaW50aW5nRmluaXNoZWQpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgICAgICBUcmFuc2ZlcigweDAsIF90bywgX2Ftb3VudCk7CiAgICAgICAgVG9rZW5zTWludGVkKF90bywgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBUZXJtaW5hdGVzIHRoZSBtaW50aW5nIHBlcmlvZCBwZXJtZW5hbnRseS4gVGhpcyBmdW5jdGlvbiBjYW4gb25seSBiZSBjYWxsZWQKICAgICAqIGJ5IHRoZSBJQ08gY29udHJhY3Qgb25seSB3aGVuIHRoZSBkdXJhdGlvbiBvZiB0aGUgSUNPIGhhcyBlbmRlZC4gCiAgICAgKiAqLwogICAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZSghbWludGluZ0ZpbmlzaGVkKTsKICAgICAgICBtaW50aW5nRmluaXNoZWQgPSB0cnVlOwogICAgICAgIE1pbnRpbmdGaW5pc2hlZCgpOwogICAgfQogICAgCiAgICAvKioKICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgbWludGluZyBwZXJpb2QgaGFzIGVuZGVkLCBmYWxzZSBvdGhlcndoaXNlLgogICAgICogKi8KICAgIGZ1bmN0aW9uIG1pbnRpbmdGaW5pc2hlZCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIG1pbnRpbmdGaW5pc2hlZDsKICAgIH0KfQoKCmNvbnRyYWN0IEFDTyBpcyBNaW50YWJsZVRva2VuIHsKCiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7CiAgICBzdHJpbmcgcHVibGljIG5hbWU7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsKCiAgICBmdW5jdGlvbiBBQ08oKSBwdWJsaWMgewogICAgICAgIHRvdGFsU3VwcGx5ID0gMDsKICAgICAgICBkZWNpbWFscyA9IDE4OwogICAgICAgIG5hbWUgPSAiQUNPIjsKICAgICAgICBzeW1ib2wgPSAiQUNPIjsKICAgIH0KfQoKCmNvbnRyYWN0IE11bHRpT3duYWJsZSB7CiAgICAKICAgIGFkZHJlc3NbMl0gcHVibGljIG93bmVyczsKCiAgICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8pOwogICAgZXZlbnQgT3duZXJzaGlwR3JhbnRlZChhZGRyZXNzIHRvKTsKCiAgICBmdW5jdGlvbiBNdWx0aU93bmFibGUoKSBwdWJsaWMgewogICAgICAgIG93bmVyc1swXSA9IDB4MWQ1NTRjNDIxMTgyYTk0RTJmNGNCRDgzM2YyNDY4MkJCZTFlZUZlODsgLy9SMQogICAgICAgIG93bmVyc1sxXSA9IDB4MEQ3YTI3MTY0NjYzMzJGYzVhMjU2RkYwZDIwNTU1QTQ0YzA5OTQ1MzsgLy9SMgogICAgfQoKICAgIC8qKgogICAgICogRnVuY3Rpb25zIHdpdGggdGhpcyBtb2RpZmllciB3aWxsIG9ubHkgZXhlY3V0ZSBpZiB0aGUgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCBieSB0aGUgCiAgICAgKiBvd25lcnMgb2YgdGhlIGNvbnRyYWN0LgogICAgICogKi8gCiAgICBtb2RpZmllciBvbmx5T3duZXJzIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXJzWzBdIHx8IG1zZy5zZW5kZXIgPT0gb3duZXJzWzFdKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogVHJhc2ZlcnMgb3duZXJzaGlwIGZyb20gdGhlIG93bmVyIHdobyBleGVjdXRlcyB0aGUgZnVuY3Rpb24gdG8gYW5vdGhlciBnaXZlbiBhZGRyZXNzLgogICAgICogCiAgICAgKiBAcGFyYW0gX25ld093bmVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgYmUgZ3JhbnRlZCBvd25lcnNoaXAuCiAgICAgKiAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXJzIHsKICAgICAgICByZXF1aXJlKF9uZXdPd25lciAhPSAweDAgJiYgX25ld093bmVyICE9IG93bmVyc1swXSAmJiBfbmV3T3duZXIgIT0gb3duZXJzWzFdKTsKICAgICAgICBpZiAobXNnLnNlbmRlciA9PSBvd25lcnNbMF0pIHsKICAgICAgICAgICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXJzWzBdLCBfbmV3T3duZXIpOwogICAgICAgICAgICBvd25lcnNbMF0gPSBfbmV3T3duZXI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXJzWzFdLCBfbmV3T3duZXIpOwogICAgICAgICAgICBvd25lcnNbMV0gPSBfbmV3T3duZXI7CiAgICAgICAgfQogICAgfQp9CgoKY29udHJhY3QgQ3Jvd2RzYWxlIGlzIE11bHRpT3duYWJsZSB7CgogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgQUNPIHB1YmxpYyBBQ09fVG9rZW47CgogICAgYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgTVVMVElfU0lHID0gMHgzRWUyOGRBNWVGZTY1MzQwMkM1MTkyMDU0MDY0RjEyYTQyRUE3MDllOwoKICAgIGJvb2wgcHVibGljIHN1Y2Nlc3M7CiAgICB1aW50MjU2IHB1YmxpYyByYXRlOwogICAgdWludDI1NiBwdWJsaWMgcmF0ZVdpdGhCb251czsKICAgIHVpbnQyNTYgcHVibGljIHRva2Vuc1NvbGQ7CiAgICB1aW50MjU2IHB1YmxpYyBzdGFydFRpbWU7CiAgICB1aW50MjU2IHB1YmxpYyBlbmRUaW1lOwogICAgdWludDI1NiBwdWJsaWMgbWluaW11bUdvYWw7CiAgICB1aW50MjU2IHB1YmxpYyBjYXA7CiAgICB1aW50MjU2WzRdIHByaXZhdGUgYm9udXNTdGFnZXM7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBpbnZlc3RtZW50czsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgaGFzQXV0aG9yaXplZFdpdGhkcmF3YWw7CgogICAgZXZlbnQgVG9rZW5zUHVyY2hhc2VkKGFkZHJlc3MgaW5kZXhlZCBieSwgdWludDI1NiBhbW91bnQpOwogICAgZXZlbnQgUmVmdW5kSXNzdWVkKGFkZHJlc3MgaW5kZXhlZCBieSwgdWludDI1NiBhbW91bnQpOwogICAgZXZlbnQgRnVuZHNXaXRoZHJhd24oYWRkcmVzcyBpbmRleGVkIGJ5LCB1aW50MjU2IGFtb3VudCk7CiAgICBldmVudCBJY29TdWNjZXNzKCk7CiAgICBldmVudCBDYXBSZWFjaGVkKCk7CgogICAgZnVuY3Rpb24gQ3Jvd2RzYWxlKCkgcHVibGljIHsKICAgICAgICBBQ09fVG9rZW4gPSBuZXcgQUNPKCk7CiAgICAgICAgbWluaW11bUdvYWwgPSAzMDAwIGV0aGVyOwogICAgICAgIGNhcCA9IDg3NTAwIGV0aGVyOwogICAgICAgIHJhdGUgPSA0MDAwOwogICAgICAgIHN0YXJ0VGltZSA9IG5vdy5hZGQoMyBkYXlzKTsKICAgICAgICBlbmRUaW1lID0gc3RhcnRUaW1lLmFkZCg5MCBkYXlzKTsKICAgICAgICBib251c1N0YWdlc1swXSA9IHN0YXJ0VGltZS5hZGQoMTQgZGF5cyk7CgogICAgICAgIGZvciAodWludCBpID0gMTsgaSA8IGJvbnVzU3RhZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGJvbnVzU3RhZ2VzW2ldID0gYm9udXNTdGFnZXNbaSAtIDFdLmFkZCgxNCBkYXlzKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBGYWxsYmFjayBmdW5jdGlvbiBjYWxscyB0aGUgYnV5VG9rZW5zIGZ1bmN0aW9uIHdoZW4gRVRIIGlzIHNlbnQgdG8gdGhpcyAKICAgICAqIGNvbnRhY3QuCiAgICAgKiAqLwogICAgZnVuY3Rpb24oKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgYnV5VG9rZW5zKG1zZy5zZW5kZXIpOwogICAgfQoKICAgIC8qKgogICAgICogQWxsb3dzIGludmVzdG9ycyB0byBidXkgQUNPIHRva2Vucy4gT25jZSBFVEggaXMgc2VudCB0byB0aGlzIGNvbnRyYWN0LCAKICAgICAqIHRoZSBpbnZlc3RvciB3aWxsIGF1dG9tYXRpY2FsbHkgcmVjZWl2ZSB0b2tlbnMuIAogICAgICogCiAgICAgKiBAcGFyYW0gX2JlbmVmaWNpYXJ5IFRoZSBhZGRyZXNzIHRoZSBuZXdseSBtaW50ZWQgdG9rZW5zIHdpbGwgYmUgc2VudCB0by4KICAgICAqICovCiAgICBmdW5jdGlvbiBidXlUb2tlbnMoYWRkcmVzcyBfYmVuZWZpY2lhcnkpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKF9iZW5lZmljaWFyeSAhPSAweDAgJiYgdmFsaWRQdXJjaGFzZSgpICYmIHdlaVJhaXNlZCgpLnN1Yihtc2cudmFsdWUpIDwgY2FwKTsKICAgICAgICBpZiAodGhpcy5iYWxhbmNlID49IG1pbmltdW1Hb2FsICYmICFzdWNjZXNzKSB7CiAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlOwogICAgICAgICAgICBJY29TdWNjZXNzKCk7CiAgICAgICAgfQogICAgICAgIHVpbnQyNTYgd2VpQW1vdW50ID0gbXNnLnZhbHVlOwogICAgICAgIGlmICh0aGlzLmJhbGFuY2UgPiBjYXApIHsKICAgICAgICAgICAgQ2FwUmVhY2hlZCgpOwogICAgICAgICAgICB1aW50MjU2IHRvUmVmdW5kID0gdGhpcy5iYWxhbmNlLnN1YihjYXApOwogICAgICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKHRvUmVmdW5kKTsKICAgICAgICAgICAgd2VpQW1vdW50ID0gd2VpQW1vdW50LnN1Yih0b1JlZnVuZCk7CiAgICAgICAgfQogICAgICAgIHVpbnQyNTYgdG9rZW5zID0gd2VpQW1vdW50Lm11bChnZXRDdXJyZW50UmF0ZVdpdGhCb251cygpKTsKICAgICAgICBBQ09fVG9rZW4ubWludChfYmVuZWZpY2lhcnksIHRva2Vucyk7CiAgICAgICAgdG9rZW5zU29sZCA9IHRva2Vuc1NvbGQuYWRkKHRva2Vucyk7CiAgICAgICAgaW52ZXN0bWVudHNbX2JlbmVmaWNpYXJ5XSA9IGludmVzdG1lbnRzW19iZW5lZmljaWFyeV0uYWRkKHdlaUFtb3VudCk7CiAgICAgICAgVG9rZW5zUHVyY2hhc2VkKF9iZW5lZmljaWFyeSwgdG9rZW5zKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGFtb3VudCBvZiB0b2tlbnMgMSBFVEggZXF1YXRlcyB0byB3aXRoIHRoZSBib251cyBwZXJjZW50YWdlLgogICAgICogKi8KICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRSYXRlV2l0aEJvbnVzKCkgcHVibGljIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByYXRlV2l0aEJvbnVzID0gKHJhdGUubXVsKGdldEJvbnVzUGVyY2VudGFnZSgpKS5kaXYoMTAwKSkuYWRkKHJhdGUpOwogICAgICAgIHJldHVybiByYXRlV2l0aEJvbnVzOwogICAgfQoKICAgIC8qKgogICAgICogQ2FsY3VsYXRlcyBhbmQgcmV0dXJucyB0aGUgYm9udXMgcGVyY2VudGFnZSBiYXNlZCBvbiBob3cgZWFybHkgYW4gaW52ZXN0bWVudAogICAgICogaXMgbWFkZS4gSWYgRVRIIGlzIHNlbnQgdG8gdGhlIGNvbnRyYWN0IGFmdGVyIHRoZSBib251cyBwZXJpb2QsIHRoZSBib251cyAKICAgICAqIHBlcmNlbnRhZ2Ugd2lsbCBkZWZhdWx0IHRvIDAKICAgICAqICovCiAgICBmdW5jdGlvbiBnZXRCb251c1BlcmNlbnRhZ2UoKSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQyNTYgYm9udXNQZXJjZW50YWdlKSB7CiAgICAgICAgdWludDI1NiB0aW1lU3RhbXAgPSBub3c7CiAgICAgICAgaWYgKHRpbWVTdGFtcCA+IGJvbnVzU3RhZ2VzWzNdKSB7CiAgICAgICAgICAgIGJvbnVzUGVyY2VudGFnZSA9IDA7CiAgICAgICAgfSBlbHNlIHsgCiAgICAgICAgICAgIGJvbnVzUGVyY2VudGFnZSA9IDI1OwogICAgICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBib251c1N0YWdlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgaWYgKHRpbWVTdGFtcCA8PSBib251c1N0YWdlc1tpXSkgewogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBib251c1BlcmNlbnRhZ2UgPSBib251c1BlcmNlbnRhZ2Uuc3ViKDUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBib251c1BlcmNlbnRhZ2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHJhdGUgMSBFVEggZXF1YXRlcyB0byBpbmNsdWRpbmcgdGhlIGJvbnVzIGFtb3VudC4gCiAgICAgKiAqLwogICAgZnVuY3Rpb24gY3VycmVudFJhdGUoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiByYXRlV2l0aEJvbnVzOwogICAgfQoKICAgIC8qKgogICAgICogQ2hlY2tzIHdoZXRoZXIgYW4gaW5jb21pbmcgdHJhbnNhY3Rpb24gZnJvbSB0aGUgYnV5VG9rZW5zIGZ1bmN0aW9uIGlzIAogICAgICogdmFsaWQgb3Igbm90LiBGb3IgYSBwdXJjaGFzZSB0byBiZSB2YWxpZCwgaW52ZXN0b3JzIGhhdmUgdG8gYnV5IHRva2VucwogICAgICogb25seSBkdXJpbmcgdGhlIElDTyBwZXJpb2QgYW5kIHRoZSB2YWx1ZSBiZWluZyB0cmFuc2ZlcnJlZCBtdXN0IGJlIGdyZWF0ZXIKICAgICAqIHRoYW4gMC4KICAgICAqICovCiAgICBmdW5jdGlvbiB2YWxpZFB1cmNoYXNlKCkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGJvb2wgd2l0aGluUGVyaW9kID0gbm93ID49IHN0YXJ0VGltZSAmJiBub3cgPD0gZW5kVGltZTsKICAgICAgICBib29sIG5vblplcm9QdXJjaGFzZSA9IG1zZy52YWx1ZSAhPSAwOwogICAgICAgIHJldHVybiB3aXRoaW5QZXJpb2QgJiYgbm9uWmVyb1B1cmNoYXNlOwogICAgfQogICAgCiAgICAvKioKICAgICAqIElzc3VlcyBhIHJlZnVuZCB0byBhIGdpdmVuIGFkZHJlc3MuIFRoaXMgZnVuY3Rpb24gY2FuIG9ubHkgYmUgY2FsbGVkIGlmCiAgICAgKiB0aGUgZHVyYXRpb24gb2YgdGhlIElDTyBoYXMgZW5kZWQgYW5kIHRoZSBtaW5pbXVtIGdvYWwgaGFzIG5vdCBiZWVuIHJlYWNoZWQuCiAgICAgKiAKICAgICAqIEBwYXJhbSBfYWRkciBUaGUgYWRkcmVzcyB0aGF0IHdpbGwgcmVjZWl2ZSBhIHJlZnVuZC4gCiAgICAgKiAqLwogICAgZnVuY3Rpb24gZ2V0UmVmdW5kKGFkZHJlc3MgX2FkZHIpIHB1YmxpYyB7CiAgICAgICAgaWYgKF9hZGRyID09IDB4MCkgewogICAgICAgICAgICBfYWRkciA9IG1zZy5zZW5kZXI7CiAgICAgICAgfQogICAgICAgIHJlcXVpcmUoIWlzU3VjY2VzcygpICYmIGhhc0VuZGVkKCkgJiYgaW52ZXN0bWVudHNbX2FkZHJdID4gMCk7CiAgICAgICAgdWludDI1NiB0b1JlZnVuZCA9IGludmVzdG1lbnRzW19hZGRyXTsKICAgICAgICBpbnZlc3RtZW50c1tfYWRkcl0gPSAwOwogICAgICAgIF9hZGRyLnRyYW5zZmVyKHRvUmVmdW5kKTsKICAgICAgICBSZWZ1bmRJc3N1ZWQoX2FkZHIsIHRvUmVmdW5kKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoaXMgZnVuY3Rpb24gY2FuIG9ubHkgYmUgY2FsbGVkIGJ5IHRoZSBvbndlcnMgb2YgdGhlIElDTyBjb250cmFjdC4gVGhlcmUgCiAgICAgKiBuZWVkcyB0byBiZSAyIGFwcHJvdmFscywgb25lIGZyb20gZWFjaCBvd25lci4gT25jZSB0d28gYXBwcm92YWxzIGhhdmUgYmVlbiAKICAgICAqIG1hZGUsIHRoZSBmdW5kcyByYWlzZWQgd2lsbCBiZSBzZW50IHRvIGEgbXVsdGkgc2lnbmF0dXJlIHdhbGxldC4gVGhpcyAKICAgICAqIGZ1bmN0aW9uIGNhbm5vdCBiZSBjYWxsZWQgaWYgdGhlIElDTyBpcyBub3QgYSBzdWNjZXNzLgogICAgICogKi8KICAgIGZ1bmN0aW9uIGF1dGhvcml6ZVdpdGhkcmF3YWwoKSBwdWJsaWMgb25seU93bmVycyB7CiAgICAgICAgcmVxdWlyZShoYXNFbmRlZCgpICYmIGlzU3VjY2VzcygpICYmICFoYXNBdXRob3JpemVkV2l0aGRyYXdhbFttc2cuc2VuZGVyXSk7CiAgICAgICAgaGFzQXV0aG9yaXplZFdpdGhkcmF3YWxbbXNnLnNlbmRlcl0gPSB0cnVlOwogICAgICAgIGlmIChoYXNBdXRob3JpemVkV2l0aGRyYXdhbFtvd25lcnNbMF1dICYmIGhhc0F1dGhvcml6ZWRXaXRoZHJhd2FsW293bmVyc1sxXV0pIHsKICAgICAgICAgICAgRnVuZHNXaXRoZHJhd24ob3duZXJzWzBdLCB0aGlzLmJhbGFuY2UpOwogICAgICAgICAgICBNVUxUSV9TSUcudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8qKgogICAgICogR2VuZXJhdGVzIG5ld2x5IG1pbnRlZCBBQ08gdG9rZW5zIGFuZCBzZW5kcyB0aGVtIHRvIGEgZ2l2ZW4gYWRkcmVzcy4gVGhpcyAKICAgICAqIGZ1bmN0aW9uIGNhbiBvbmx5IGJlIGNhbGxlZCBieSB0aGUgb3duZXJzIG9mIHRoZSBJQ08gY29udHJhY3QgZHVyaW5nIHRoZSAKICAgICAqIG1pbnRpbmcgcGVyaW9kLgogICAgICogCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIG1pbnQgbmV3IHRva2VucyB0by4KICAgICAqIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIG1pbnQuCiAgICAgKiAqLwogICAgZnVuY3Rpb24gaXNzdWVCb3VudHkoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIG9ubHlPd25lcnMgewogICAgICAgIHJlcXVpcmUoX3RvICE9IDB4MCAmJiBfYW1vdW50ID4gMCk7CiAgICAgICAgQUNPX1Rva2VuLm1pbnQoX3RvLCBfYW1vdW50KTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBUZXJtaW5hdGVzIHRoZSBtaW50aW5nIHBlcmlvZCBwZXJtYW5lbnRseS4gVGhpcyBmdW5jdGlvbiBjYW4gb25seSBiZSAKICAgICAqIGV4ZWN1dGVkIGJ5IHRoZSBvd25lcnMgb2YgdGhlIElDTyBjb250cmFjdC4gCiAgICAgKiAqLwogICAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIHB1YmxpYyBvbmx5T3duZXJzIHsKICAgICAgICByZXF1aXJlKGhhc0VuZGVkKCkpOwogICAgICAgIEFDT19Ub2tlbi5maW5pc2hNaW50aW5nKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBtaW5pbXVtIGdvYWwgb2YgdGhlIElDTy4KICAgICAqICovCiAgICBmdW5jdGlvbiBtaW5pbXVtR29hbCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIG1pbmltdW1Hb2FsOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgbWF4aW11bSBhbW91bnQgb2YgZnVuZHMgdGhlIElDTyBjYW4gcmVjZWl2ZS4KICAgICAqICovCiAgICBmdW5jdGlvbiBjYXAoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBjYXA7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSB0aW1lIHRoYXQgdGhlIElDTyBkdXJhdGlvbiB3aWxsIGVuZC4KICAgICAqICovCiAgICBmdW5jdGlvbiBlbmRUaW1lKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gZW5kVGltZTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGFtb3VudCBvZiBFVEggYSBnaXZlbiBhZGRyZXNzIGhhcyBpbnZlc3RlZC4KICAgICAqIAogICAgICogQHBhcmFtIF9hZGRyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSBpbnZlc3RtZW50IG9mLiAKICAgICAqICovCiAgICBmdW5jdGlvbiBpbnZlc3RtZW50T2YoYWRkcmVzcyBfYWRkcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gaW52ZXN0bWVudHNbX2FkZHJdOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBkdXJhdGlvbiBvZiB0aGUgSUNPIGlzIG92ZXIuCiAgICAgKiAqLwogICAgZnVuY3Rpb24gaGFzRW5kZWQoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBub3cgPiBlbmRUaW1lOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBJQ08gaXMgYSBzdWNjZXNzLgogICAgICogKi8KICAgIGZ1bmN0aW9uIGlzU3VjY2VzcygpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBhbW91bnQgb2YgRVRIIHJhaXNlZCBpbiB3ZWkuCiAgICAgKiAqLwogICAgZnVuY3Rpb24gd2VpUmFpc2VkKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gdGhpcy5iYWxhbmNlOwogICAgfQp9'.
	

]
