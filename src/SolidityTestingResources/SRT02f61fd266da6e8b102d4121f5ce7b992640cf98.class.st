Class {
	#name : #SRT02f61fd266da6e8b102d4121f5ce7b992640cf98,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT02f61fd266da6e8b102d4121f5ce7b992640cf98 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKCiAgLyoqCiAgKiBAZGV2IE11bHRpcGxpZXMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAqLwogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIC8qKgogICogQGRldiBJbnRlZ2VyIGRpdmlzaW9uIG9mIHR3byBudW1iZXJzLCB0cnVuY2F0aW5nIHRoZSBxdW90aWVudC4KICAqLwogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgLyoqCiAgKiBAZGV2IFN1YnN0cmFjdHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdyAoaS5lLiBpZiBzdWJ0cmFoZW5kIGlzIGdyZWF0ZXIgdGhhbiBtaW51ZW5kKS4KICAqLwogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIC8qKgogICogQGRldiBBZGRzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKY29udHJhY3QgQ2xhaW1hYmxlIGlzIE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIHBlbmRpbmdPd25lcjsKCiAgLyoqCiAgICogQGRldiBNb2RpZmllciB0aHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIHBlbmRpbmdPd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5UGVuZGluZ093bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHBlbmRpbmdPd25lcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gc2V0IHRoZSBwZW5kaW5nT3duZXIgYWRkcmVzcy4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgcGVuZGluZ093bmVyID0gbmV3T3duZXI7CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgcGVuZGluZ093bmVyIGFkZHJlc3MgdG8gZmluYWxpemUgdGhlIHRyYW5zZmVyLgogICAqLwogIGZ1bmN0aW9uIGNsYWltT3duZXJzaGlwKCkgb25seVBlbmRpbmdPd25lciBwdWJsaWMgewogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIHBlbmRpbmdPd25lcik7CiAgICBvd25lciA9IHBlbmRpbmdPd25lcjsKICAgIHBlbmRpbmdPd25lciA9IGFkZHJlc3MoMCk7CiAgfQp9Cgpjb250cmFjdCBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9Cgpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKY29udHJhY3QgSGFzT3BlcmF0b3IgaXMgQ2xhaW1hYmxlIHsKICAgIGFkZHJlc3MgcHVibGljIG9wZXJhdG9yOwoKICAgIGZ1bmN0aW9uIHNldE9wZXJhdG9yKGFkZHJlc3MgX29wZXJhdG9yKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBvcGVyYXRvciA9IF9vcGVyYXRvcjsKICAgIH0KCiAgICBtb2RpZmllciBvd25lck9yT3BlcmF0b3IgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lciB8fCBtc2cuc2VuZGVyID09IG9wZXJhdG9yKTsKICAgICAgICBfOwogICAgfQp9Cgpjb250cmFjdCBMaWtlQ29pbiBpcyBFUkMyMCwgSGFzT3BlcmF0b3IgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBuYW1lID0gIkxpa2VDb2luIjsKICAgIHN0cmluZyBjb25zdGFudCBwdWJsaWMgc3ltYm9sID0gIkxJS0UiOwoKICAgIC8vIFN5bmNocm9uaXplZCB0byBFdGhlciAtPiBXZWkgcmF0aW8sIHdoaWNoIGlzIGltcG9ydGFudAogICAgdWludDggY29uc3RhbnQgcHVibGljIGRlY2ltYWxzID0gMTg7CgogICAgdWludDI1NiBwdWJsaWMgc3VwcGx5ID0gMDsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZXM7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dlZDsKCiAgICBhZGRyZXNzIHB1YmxpYyBjcm93ZHNhbGVBZGRyID0gMHgwOwogICAgYWRkcmVzcyBwdWJsaWMgY29udHJpYnV0b3JQb29sQWRkciA9IDB4MDsKICAgIHVpbnQyNTYgcHVibGljIGNvbnRyaWJ1dG9yUG9vbE1pbnRRdW90YSA9IDA7CiAgICBhZGRyZXNzW10gcHVibGljIGNyZWF0b3JzUG9vbEFkZHJzOwogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIGlzQ3JlYXRvcnNQb29sOwogICAgdWludDI1NiBwdWJsaWMgY3JlYXRvcnNQb29sTWludFF1b3RhID0gMDsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgbG9ja2VkQmFsYW5jZXM7CiAgICB1aW50IHB1YmxpYyB1bmxvY2tUaW1lID0gMDsKICAgIFNpZ25hdHVyZUNoZWNrZXIgcHVibGljIHNpZ25hdHVyZUNoZWNrZXIgPSBTaWduYXR1cmVDaGVja2VyKDB4MCk7CiAgICBib29sIHB1YmxpYyBzaWduYXR1cmVDaGVja2VyRnJlZXplZCA9IGZhbHNlOwogICAgYWRkcmVzcyBwdWJsaWMgc2lnbmF0dXJlT3duZXIgPSAweDA7CiAgICBib29sIHB1YmxpYyBhbGxvd0RlbGVnYXRlID0gdHJ1ZTsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAodWludDI1NiA9PiBib29sKSkgcHVibGljIHVzZWROb25jZTsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIHRyYW5zZmVyQW5kQ2FsbFdoaXRlbGlzdDsKCiAgICBldmVudCBMb2NrKGFkZHJlc3MgaW5kZXhlZCBfYWRkciwgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgU2lnbmF0dXJlQ2hlY2tlckNoYW5nZWQoYWRkcmVzcyBfbmV3U2lnbmF0dXJlQ2hlY2tlcik7CgogICAgZnVuY3Rpb24gTGlrZUNvaW4odWludDI1NiBfaW5pdGlhbFN1cHBseSwgYWRkcmVzcyBfc2lnbmF0dXJlT3duZXIsIGFkZHJlc3MgX3NpZ0NoZWNrZXJBZGRyKSBwdWJsaWMgewogICAgICAgIHN1cHBseSA9IF9pbml0aWFsU3VwcGx5OwogICAgICAgIGJhbGFuY2VzW293bmVyXSA9IF9pbml0aWFsU3VwcGx5OwogICAgICAgIHNpZ25hdHVyZU93bmVyID0gX3NpZ25hdHVyZU93bmVyOwogICAgICAgIHNpZ25hdHVyZUNoZWNrZXIgPSBTaWduYXR1cmVDaGVja2VyKF9zaWdDaGVja2VyQWRkcik7CiAgICAgICAgVHJhbnNmZXIoMHgwLCBvd25lciwgX2luaXRpYWxTdXBwbHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gc3VwcGx5OwogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdICsgbG9ja2VkQmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBfdHJ5VW5sb2NrQmFsYW5jZShhZGRyZXNzIF9mcm9tKSBpbnRlcm5hbCB7CiAgICAgICAgaWYgKHVubG9ja1RpbWUgIT0gMCAmJiBub3cgPj0gdW5sb2NrVGltZSAmJiBsb2NrZWRCYWxhbmNlc1tfZnJvbV0gPiAwKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5hZGQobG9ja2VkQmFsYW5jZXNbX2Zyb21dKTsKICAgICAgICAgICAgZGVsZXRlIGxvY2tlZEJhbGFuY2VzW19mcm9tXTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgX3RyeVVubG9ja0JhbGFuY2UoX2Zyb20pOwogICAgICAgIHJlcXVpcmUoX2Zyb20gIT0gMHgwKTsKICAgICAgICByZXF1aXJlKF90byAhPSAweDApOwogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJldHVybiBfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyQW5kTG9jayhhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgIT0gMHgwKTsKICAgICAgICByZXF1aXJlKF90byAhPSAweDApOwogICAgICAgIHJlcXVpcmUobm93IDwgdW5sb2NrVGltZSk7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGNyb3dkc2FsZUFkZHIgfHwgbXNnLnNlbmRlciA9PSBvd25lciB8fCBtc2cuc2VuZGVyID09IG9wZXJhdG9yKTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIGxvY2tlZEJhbGFuY2VzW190b10gPSBsb2NrZWRCYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICBMb2NrKF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICBfdHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBfdHJhbnNmZXJNdWx0aXBsZShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzW10gX2FkZHJzLCB1aW50MjU2W10gX3ZhbHVlcykgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShfZnJvbSAhPSAweDApOwogICAgICAgIHJlcXVpcmUoX2FkZHJzLmxlbmd0aCA+IDApOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlcy5sZW5ndGggPT0gX2FkZHJzLmxlbmd0aCk7CiAgICAgICAgX3RyeVVubG9ja0JhbGFuY2UoX2Zyb20pOwogICAgICAgIHVpbnQyNTYgdG90YWwgPSAwOwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IF9hZGRycy5sZW5ndGg7ICsraSkgewogICAgICAgICAgICBhZGRyZXNzIGFkZHIgPSBfYWRkcnNbaV07CiAgICAgICAgICAgIHJlcXVpcmUoYWRkciAhPSAweDApOwogICAgICAgICAgICB1aW50MjU2IHZhbHVlID0gX3ZhbHVlc1tpXTsKICAgICAgICAgICAgYmFsYW5jZXNbYWRkcl0gPSBiYWxhbmNlc1thZGRyXS5hZGQodmFsdWUpOwogICAgICAgICAgICB0b3RhbCA9IHRvdGFsLmFkZCh2YWx1ZSk7CiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBhZGRyLCB2YWx1ZSk7CiAgICAgICAgfQogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIodG90YWwpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyTXVsdGlwbGUoYWRkcmVzc1tdIF9hZGRycywgdWludDI1NltdIF92YWx1ZXMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXR1cm4gX3RyYW5zZmVyTXVsdGlwbGUobXNnLnNlbmRlciwgX2FkZHJzLCBfdmFsdWVzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfaXNDb250cmFjdChhZGRyZXNzIF9hZGRyKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgdWludDI1NiBsZW5ndGg7CiAgICAgICAgYXNzZW1ibHkgewogICAgICAgICAgICBsZW5ndGggOj0gZXh0Y29kZXNpemUoX2FkZHIpCiAgICAgICAgfQogICAgICAgIHJldHVybiAobGVuZ3RoID4gMCk7CiAgICB9CgogICAgZnVuY3Rpb24gX3RyYW5zZmVyQW5kQ2FsbChhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9kYXRhKSBpbnRlcm5hbCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKF9pc0NvbnRyYWN0KF90bykpOwogICAgICAgIHJlcXVpcmUodHJhbnNmZXJBbmRDYWxsV2hpdGVsaXN0W190b10pOwogICAgICAgIHJlcXVpcmUoX3RyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSkpOwogICAgICAgIFRyYW5zZmVyQW5kQ2FsbFJlY2VpdmVyKF90bykudG9rZW5DYWxsYmFjayhfZnJvbSwgX3ZhbHVlLCBfZGF0YSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJBbmRDYWxsKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2RhdGEpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXR1cm4gX3RyYW5zZmVyQW5kQ2FsbChtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSwgX2RhdGEpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFNpZ25hdHVyZUNoZWNrZXIoYWRkcmVzcyBfc2lnQ2hlY2tlckFkZHIpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHNpZ25hdHVyZU93bmVyKTsKICAgICAgICByZXF1aXJlKCFzaWduYXR1cmVDaGVja2VyRnJlZXplZCk7CiAgICAgICAgcmVxdWlyZShzaWduYXR1cmVDaGVja2VyICE9IF9zaWdDaGVja2VyQWRkcik7CiAgICAgICAgc2lnbmF0dXJlQ2hlY2tlciA9IFNpZ25hdHVyZUNoZWNrZXIoX3NpZ0NoZWNrZXJBZGRyKTsKICAgICAgICBTaWduYXR1cmVDaGVja2VyQ2hhbmdlZChfc2lnQ2hlY2tlckFkZHIpOwogICAgfQoKICAgIGZ1bmN0aW9uIGZyZWV6ZVNpZ25hdHVyZUNoZWNrZXIoKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBzaWduYXR1cmVPd25lcik7CiAgICAgICAgcmVxdWlyZSghc2lnbmF0dXJlQ2hlY2tlckZyZWV6ZWQpOwogICAgICAgIHNpZ25hdHVyZUNoZWNrZXJGcmVlemVkID0gdHJ1ZTsKICAgIH0KCiAgICBtb2RpZmllciBpc0RlbGVnYXRlZChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF9tYXhSZXdhcmQsIHVpbnQyNTYgX2NsYWltZWRSZXdhcmQsIHVpbnQyNTYgX25vbmNlKSB7CiAgICAgICAgcmVxdWlyZShhbGxvd0RlbGVnYXRlKTsKICAgICAgICByZXF1aXJlKF9mcm9tICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZShfY2xhaW1lZFJld2FyZCA8PSBfbWF4UmV3YXJkKTsKICAgICAgICByZXF1aXJlKCF1c2VkTm9uY2VbX2Zyb21dW19ub25jZV0pOwogICAgICAgIHVzZWROb25jZVtfZnJvbV1bX25vbmNlXSA9IHRydWU7CiAgICAgICAgcmVxdWlyZShfdHJhbnNmZXIoX2Zyb20sIG1zZy5zZW5kZXIsIF9jbGFpbWVkUmV3YXJkKSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckRlbGVnYXRlZCgKICAgICAgICBhZGRyZXNzIF9mcm9tLAogICAgICAgIGFkZHJlc3MgX3RvLAogICAgICAgIHVpbnQyNTYgX3ZhbHVlLAogICAgICAgIHVpbnQyNTYgX21heFJld2FyZCwKICAgICAgICB1aW50MjU2IF9jbGFpbWVkUmV3YXJkLAogICAgICAgIHVpbnQyNTYgX25vbmNlLAogICAgICAgIGJ5dGVzIF9zaWduYXR1cmUKICAgICkgaXNEZWxlZ2F0ZWQoX2Zyb20sIF9tYXhSZXdhcmQsIF9jbGFpbWVkUmV3YXJkLCBfbm9uY2UpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKHNpZ25hdHVyZUNoZWNrZXIuY2hlY2tUcmFuc2ZlckRlbGVnYXRlZChfZnJvbSwgX3RvLCBfdmFsdWUsIF9tYXhSZXdhcmQsIF9ub25jZSwgX3NpZ25hdHVyZSkpOwogICAgICAgIHJldHVybiBfdHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckFuZENhbGxEZWxlZ2F0ZWQoCiAgICAgICAgYWRkcmVzcyBfZnJvbSwKICAgICAgICBhZGRyZXNzIF90bywKICAgICAgICB1aW50MjU2IF92YWx1ZSwKICAgICAgICBieXRlcyBfZGF0YSwKICAgICAgICB1aW50MjU2IF9tYXhSZXdhcmQsCiAgICAgICAgdWludDI1NiBfY2xhaW1lZFJld2FyZCwKICAgICAgICB1aW50MjU2IF9ub25jZSwKICAgICAgICBieXRlcyBfc2lnbmF0dXJlCiAgICApIGlzRGVsZWdhdGVkKF9mcm9tLCBfbWF4UmV3YXJkLCBfY2xhaW1lZFJld2FyZCwgX25vbmNlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShzaWduYXR1cmVDaGVja2VyLmNoZWNrVHJhbnNmZXJBbmRDYWxsRGVsZWdhdGVkKF9mcm9tLCBfdG8sIF92YWx1ZSwgX2RhdGEsIF9tYXhSZXdhcmQsIF9ub25jZSwgX3NpZ25hdHVyZSkpOwogICAgICAgIHJldHVybiBfdHJhbnNmZXJBbmRDYWxsKF9mcm9tLCBfdG8sIF92YWx1ZSwgX2RhdGEpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyTXVsdGlwbGVEZWxlZ2F0ZWQoCiAgICAgICAgYWRkcmVzcyBfZnJvbSwKICAgICAgICBhZGRyZXNzW10gX2FkZHJzLAogICAgICAgIHVpbnQyNTZbXSBfdmFsdWVzLAogICAgICAgIHVpbnQyNTYgX21heFJld2FyZCwKICAgICAgICB1aW50MjU2IF9jbGFpbWVkUmV3YXJkLAogICAgICAgIHVpbnQyNTYgX25vbmNlLAogICAgICAgIGJ5dGVzIF9zaWduYXR1cmUKICAgICkgaXNEZWxlZ2F0ZWQoX2Zyb20sIF9tYXhSZXdhcmQsIF9jbGFpbWVkUmV3YXJkLCBfbm9uY2UpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKHNpZ25hdHVyZUNoZWNrZXIuY2hlY2tUcmFuc2Zlck11bHRpcGxlRGVsZWdhdGVkKF9mcm9tLCBfYWRkcnMsIF92YWx1ZXMsIF9tYXhSZXdhcmQsIF9ub25jZSwgX3NpZ25hdHVyZSkpOwogICAgICAgIHJldHVybiBfdHJhbnNmZXJNdWx0aXBsZShfZnJvbSwgX2FkZHJzLCBfdmFsdWVzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzd2l0Y2hEZWxlZ2F0ZShib29sIF9hbGxvd2VkKSBvd25lck9yT3BlcmF0b3IgcHVibGljIHsKICAgICAgICByZXF1aXJlKGFsbG93RGVsZWdhdGUgIT0gX2FsbG93ZWQpOwogICAgICAgIGFsbG93RGVsZWdhdGUgPSBfYWxsb3dlZDsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGRUcmFuc2ZlckFuZENhbGxXaGl0ZWxpc3QoYWRkcmVzcyBfY29udHJhY3QpIG93bmVyT3JPcGVyYXRvciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX2lzQ29udHJhY3QoX2NvbnRyYWN0KSk7CiAgICAgICAgcmVxdWlyZSghdHJhbnNmZXJBbmRDYWxsV2hpdGVsaXN0W19jb250cmFjdF0pOwogICAgICAgIHRyYW5zZmVyQW5kQ2FsbFdoaXRlbGlzdFtfY29udHJhY3RdID0gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiByZW1vdmVUcmFuc2ZlckFuZENhbGxXaGl0ZWxpc3QoYWRkcmVzcyBfY29udHJhY3QpIG93bmVyT3JPcGVyYXRvciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUodHJhbnNmZXJBbmRDYWxsV2hpdGVsaXN0W19jb250cmFjdF0pOwogICAgICAgIGRlbGV0ZSB0cmFuc2ZlckFuZENhbGxXaGl0ZWxpc3RbX2NvbnRyYWN0XTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPT0gMCB8fCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKTsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGJ1cm4odWludDI1NiBfdmFsdWUpIHB1YmxpYyB7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICBzdXBwbHkgPSBzdXBwbHkuc3ViKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgMHgwLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQ3Jvd2RzYWxlcyhhZGRyZXNzIF9jcm93ZHNhbGVBZGRyLCB1aW50MjU2IF92YWx1ZSwgdWludDI1NiBfcHJpdmF0ZUZ1bmRVbmxvY2tUaW1lKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKGNyb3dkc2FsZUFkZHIgPT0gMHgwKTsKICAgICAgICByZXF1aXJlKF9jcm93ZHNhbGVBZGRyICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZShfaXNDb250cmFjdChfY3Jvd2RzYWxlQWRkcikpOwogICAgICAgIHJlcXVpcmUoX3ByaXZhdGVGdW5kVW5sb2NrVGltZSA+IG5vdyk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgIT0gMCk7CiAgICAgICAgdW5sb2NrVGltZSA9IF9wcml2YXRlRnVuZFVubG9ja1RpbWU7CiAgICAgICAgY3Jvd2RzYWxlQWRkciA9IF9jcm93ZHNhbGVBZGRyOwogICAgICAgIHN1cHBseSA9IHN1cHBseS5hZGQoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfY3Jvd2RzYWxlQWRkcl0gPSBiYWxhbmNlc1tfY3Jvd2RzYWxlQWRkcl0uYWRkKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIoMHgwLCBjcm93ZHNhbGVBZGRyLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQ29udHJpYnV0b3JQb29sKGFkZHJlc3MgX2NvbnRyaWJ1dG9yUG9vbEFkZHIsIHVpbnQyNTYgX21pbnRMaW1pdCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShjb250cmlidXRvclBvb2xBZGRyID09IDB4MCk7CiAgICAgICAgcmVxdWlyZShfY29udHJpYnV0b3JQb29sQWRkciAhPSAweDApOwogICAgICAgIHJlcXVpcmUoX2lzQ29udHJhY3QoX2NvbnRyaWJ1dG9yUG9vbEFkZHIpKTsKICAgICAgICByZXF1aXJlKF9taW50TGltaXQgIT0gMCk7CiAgICAgICAgY29udHJpYnV0b3JQb29sQWRkciA9IF9jb250cmlidXRvclBvb2xBZGRyOwogICAgICAgIGNvbnRyaWJ1dG9yUG9vbE1pbnRRdW90YSA9IF9taW50TGltaXQ7CiAgICB9CgogICAgZnVuY3Rpb24gbWludEZvckNvbnRyaWJ1dG9yUG9vbCh1aW50MjU2IF92YWx1ZSkgcHVibGljIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gY29udHJpYnV0b3JQb29sQWRkcik7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgIT0gMCk7CiAgICAgICAgY29udHJpYnV0b3JQb29sTWludFF1b3RhID0gY29udHJpYnV0b3JQb29sTWludFF1b3RhLnN1YihfdmFsdWUpOwogICAgICAgIHN1cHBseSA9IHN1cHBseS5hZGQoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLmFkZChfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKDB4MCwgbXNnLnNlbmRlciwgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiByZWdpc3RlckNyZWF0b3JzUG9vbHMoYWRkcmVzc1tdIF9wb29sQWRkcnMsIHVpbnQyNTYgX21pbnRMaW1pdCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShjcmVhdG9yc1Bvb2xBZGRycy5sZW5ndGggPT0gMCk7CiAgICAgICAgcmVxdWlyZShfcG9vbEFkZHJzLmxlbmd0aCA+IDApOwogICAgICAgIHJlcXVpcmUoX21pbnRMaW1pdCA+IDApOwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IF9wb29sQWRkcnMubGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgcmVxdWlyZShfaXNDb250cmFjdChfcG9vbEFkZHJzW2ldKSk7CiAgICAgICAgICAgIGNyZWF0b3JzUG9vbEFkZHJzLnB1c2goX3Bvb2xBZGRyc1tpXSk7CiAgICAgICAgICAgIGlzQ3JlYXRvcnNQb29sW19wb29sQWRkcnNbaV1dID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgY3JlYXRvcnNQb29sTWludFF1b3RhID0gX21pbnRMaW1pdDsKICAgIH0KCiAgICBmdW5jdGlvbiBtaW50Rm9yQ3JlYXRvcnNQb29sKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoaXNDcmVhdG9yc1Bvb2xbbXNnLnNlbmRlcl0pOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlICE9IDApOwogICAgICAgIGNyZWF0b3JzUG9vbE1pbnRRdW90YSA9IGNyZWF0b3JzUG9vbE1pbnRRdW90YS5zdWIoX3ZhbHVlKTsKICAgICAgICBzdXBwbHkgPSBzdXBwbHkuYWRkKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQoX3ZhbHVlKTsKICAgICAgICBUcmFuc2ZlcigweDAsIG1zZy5zZW5kZXIsIF92YWx1ZSk7CiAgICB9Cn0KCmNvbnRyYWN0IFNpZ25hdHVyZUNoZWNrZXIgewogICAgZnVuY3Rpb24gY2hlY2tUcmFuc2ZlckRlbGVnYXRlZCgKICAgICAgICBhZGRyZXNzIF9mcm9tLAogICAgICAgIGFkZHJlc3MgX3RvLAogICAgICAgIHVpbnQyNTYgX3ZhbHVlLAogICAgICAgIHVpbnQyNTYgX21heFJld2FyZCwKICAgICAgICB1aW50MjU2IF9ub25jZSwKICAgICAgICBieXRlcyBfc2lnbmF0dXJlCiAgICApIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKTsKCiAgICBmdW5jdGlvbiBjaGVja1RyYW5zZmVyQW5kQ2FsbERlbGVnYXRlZCgKICAgICAgICBhZGRyZXNzIF9mcm9tLAogICAgICAgIGFkZHJlc3MgX3RvLAogICAgICAgIHVpbnQyNTYgX3ZhbHVlLAogICAgICAgIGJ5dGVzIF9kYXRhLAogICAgICAgIHVpbnQyNTYgX21heFJld2FyZCwKICAgICAgICB1aW50MjU2IF9ub25jZSwKICAgICAgICBieXRlcyBfc2lnbmF0dXJlCiAgICApIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKTsKCiAgICBmdW5jdGlvbiBjaGVja1RyYW5zZmVyTXVsdGlwbGVEZWxlZ2F0ZWQoCiAgICAgICAgYWRkcmVzcyBfZnJvbSwKICAgICAgICBhZGRyZXNzW10gX2FkZHJzLAogICAgICAgIHVpbnQyNTZbXSBfdmFsdWVzLAogICAgICAgIHVpbnQyNTYgX21heFJld2FyZCwKICAgICAgICB1aW50MjU2IF9ub25jZSwKICAgICAgICBieXRlcyBfc2lnbmF0dXJlCiAgICApIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKTsKfQoKY29udHJhY3QgVHJhbnNmZXJBbmRDYWxsUmVjZWl2ZXIgewogICAgZnVuY3Rpb24gdG9rZW5DYWxsYmFjayhhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2RhdGEpIHB1YmxpYzsKfQ=='.
	

]
