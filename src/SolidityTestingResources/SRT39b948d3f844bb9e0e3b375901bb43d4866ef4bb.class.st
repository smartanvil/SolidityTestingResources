Class {
	#name : #SRT39b948d3f844bb9e0e3b375901bb43d4866ef4bb,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT39b948d3f844bb9e0e3b375901bb43d4866ef4bb >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9Cgpjb250cmFjdCBvd25lZCB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICBmdW5jdGlvbiBvd25lZCgpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQp9Cgpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBvd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KIApjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICAgIAogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogCiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZXM7CiAKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10gJiYgX3ZhbHVlID4gMCAmJiBfdG8gIT0gYWRkcmVzcyh0aGlzKSAmJiBfdG8gIT0gYWRkcmVzcygwKSk7IAogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KfQoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKIAogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSAmJiBfdmFsdWUgPiAwICYmIF90byAhPSBhZGRyZXNzKHRoaXMpICYmIF90byAhPSBhZGRyZXNzKDApKTsKICAgIHVpbnQgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICByZXF1aXJlICgoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpICYmIF9zcGVuZGVyICE9IGFkZHJlc3ModGhpcykgJiYgX3NwZW5kZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQogCn0KCmNvbnRyYWN0IFVOSUNUb2tlbiBpcyBvd25lZCwgU3RhbmRhcmRUb2tlbiB7CiAgICAKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAnVU5JQyBUb2tlbic7CiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAnVU5JQyc7CiAgdWludDggcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CiAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgaW5pdGlhbFN1cHBseSA9IDI1MDAwMDAwMCAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpOwoKICBmdW5jdGlvbiBVTklDVG9rZW4oKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHRvdGFsU3VwcGx5ID0gaW5pdGlhbFN1cHBseTsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gaW5pdGlhbFN1cHBseTsKICB9Cgp9Cgpjb250cmFjdCBDcm93ZHNhbGUgaXMgb3duZWQsIFVOSUNUb2tlbiB7CiAgICAKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKICAKICBVTklDVG9rZW4gcHVibGljIHRva2VuID0gbmV3IFVOSUNUb2tlbigpOwoKICBhZGRyZXNzIGNvbnN0YW50IG11bHRpc2lnID0gMHg4Njc1NzA4NjlmOGE0NmM2ODVBNTFFRTg3YjVEOTc5QTZlZjY1N0E5OwogIHVpbnQgY29uc3RhbnQgcmF0ZSA9IDM0MDA7CgogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGZvclNhbGUgPSA1NTAwMDAwMCAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpOwoKICB1aW50IHB1YmxpYyBjb25zdGFudCBwcmVzYWxlV2hpdGVsaXN0RGlzY291bnQgPSA0MDsKICB1aW50IHB1YmxpYyBwcmVzYWxlV2hpdGVsaXN0VG9rZW5zTGltaXQgPSA3NTAwMDAgKiAxMCAqKiB1aW50MjU2KGRlY2ltYWxzKTsKCiAgdWludCBwdWJsaWMgY29uc3RhbnQgcHJlc2FsZVN0YXJ0ID0gMTUyMDUwMzIwMDsgICAgICAgICAgIC8qKiAwOC4wMyAqLwogIHVpbnQgcHVibGljIGNvbnN0YW50IHByZXNhbGVFbmQgPSAxNTIxNDUzNjAwOyAgICAgICAgICAgICAvKiogMTkuMDMgKi8KICB1aW50IHB1YmxpYyBjb25zdGFudCBwcmVzYWxlRGlzY291bnQgPSAzMDsKICB1aW50IHB1YmxpYyBwcmVzYWxlVG9rZW5zTGltaXQgPSA1MDAwMDAwICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CgogIHVpbnQgcHVibGljIGNvbnN0YW50IGZpcnN0Um91bmRJQ09TdGFydCA9IDE1MjIzMTc2MDA7ICAgICAgLyoqIDI5LjAzICovCiAgdWludCBwdWJsaWMgY29uc3RhbnQgZmlyc3RSb3VuZElDT0VuZCA9IDE1MjM1MjcyMDA7ICAgICAgICAvKiogMTIuMDQgKi8KICB1aW50IHB1YmxpYyBjb25zdGFudCBmaXJzdFJvdW5kSUNPRGlzY291bnQgPSAyMDsKICB1aW50IHB1YmxpYyBmaXJzdFJvdW5kSUNPVG9rZW5zTGltaXQgPSA2MjUwMDAwICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CgogIHVpbnQgcHVibGljIGNvbnN0YW50IHNlY29uZFJvdW5kSUNPU3RhcnQgPSAxNTI0NzM2ODAwOyAgICAgLyoqIDI2LjA0ICovCiAgdWludCBwdWJsaWMgY29uc3RhbnQgc2Vjb25kUm91bmRJQ09FbmQgPSAxNTI2NTUxMjAwOyAgICAgICAvKiogMTcuMDUgKi8KICB1aW50IHB1YmxpYyBjb25zdGFudCBzZWNvbmRSb3VuZElDT0Rpc2NvdW50ID0gMTA7CiAgdWludCBwdWJsaWMgc2Vjb25kUm91bmRJQ09Ub2tlbnNMaW1pdCA9IDQzNzUwMDAwICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CgogIHVpbnQgcHVibGljIGNvbnN0YW50IHByZXNhbGVGZW1hbGVTdGFydCA9IDE1MjA0NjcyMDA7ICAgICAgIC8qKiAwOC4wMyAqLwogIHVpbnQgcHVibGljIGNvbnN0YW50IHByZXNhbGVGZW1hbGVFbmQgPSAxNTIwNTUzNjAwOyAgICAgICAgIC8qKiAwOS4wMyAqLwogIHVpbnQgcHVibGljIGNvbnN0YW50IHByZXNhbGVGZW1hbGVEaXNjb3VudCA9IDg4OwogIHVpbnQgcHVibGljIHByZXNhbGVGZW1hbGVUb2tlbnNMaW1pdCA9IDg4ODg4ICogMTAgKiogdWludDI1NihkZWNpbWFscyk7ICAKCiAgdWludCBwdWJsaWMgY29uc3RhbnQgcHJlc2FsZVBpU3RhcnQgPSAxNTIwOTg1NjAwOyAgICAgICAgICAgLyoqIDE0LjAzIFRoZSBkYXkgb2YgbnVtYmVyIFBJICovCiAgdWludCBwdWJsaWMgY29uc3RhbnQgcHJlc2FsZVBpRW5kID0gMTUyMTA3MjAwMDsgICAgICAgICAgICAgLyoqIDE1LjAzICovCiAgdWludCBwdWJsaWMgY29uc3RhbnQgcHJlc2FsZVBpRGlzY291bnQgPSAzNDsKICB1aW50IHB1YmxpYyBwcmVzYWxlUGlUb2tlbnNMaW1pdCA9IDMxNDE1OTI2NTM1ODk3OTMyMzg0NjI2OwoKICB1aW50IHB1YmxpYyBjb25zdGFudCBmaXJzdFJvdW5kV01TdGFydCA9IDE1MjI4MDAwMDA7ICAgICAgICAgICAvKiogMDQuMDQgVGhlIERheSBvZiB3ZWJtYXN0ZXIgNDA0ICovCiAgdWludCBwdWJsaWMgY29uc3RhbnQgZmlyc3RSb3VuZFdNRW5kID0gMTUyMjg4NjQwMDsgICAgICAgICAgICAgLyoqIDA1LjA0ICovCiAgdWludCBwdWJsaWMgY29uc3RhbnQgZmlyc3RSb3VuZFdNRGlzY291bnQgPSAyNTsKICB1aW50IHB1YmxpYyBmaXJzdFJvdW5kV01Ub2tlbnNMaW1pdCA9IDQwNDQwNCAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpOwoKICB1aW50IHB1YmxpYyBjb25zdGFudCBmaXJzdFJvdW5kQ29zbW9zU3RhcnQgPSAxNTIzNDkxMjAwOyAgICAgICAvKiogMTIuMDQgVGhlIGRheSBvZiBjb3Ntb25hdXRpY3MgKi8KICB1aW50IHB1YmxpYyBjb25zdGFudCBmaXJzdFJvdW5kQ29zbW9zRW5kID0gMTUyMzU3NzYwMDsgICAgICAgICAvKiogMTMuMDQgKi8KICB1aW50IHB1YmxpYyBjb25zdGFudCBmaXJzdFJvdW5kQ29zbW9zRGlzY291bnQgPSAyNTsKICB1aW50IHB1YmxpYyBmaXJzdFJvdW5kQ29zbW9zVG9rZW5zTGltaXQgPSAxMjE5NjEgKiAxMCAqKiB1aW50MjU2KGRlY2ltYWxzKTsKCiAgdWludCBwdWJsaWMgY29uc3RhbnQgc2Vjb25kUm91bmRNYXlTdGFydCA9IDE1MjUxMzI4MDA7ICAgICAgICAgIC8qKiAwMS4wNSBJbnRlcm5hdGlvbmFsIFNvbGlkYXJpdHkgRGF5IGZvciBXb3JrZXJzICovCiAgdWludCBwdWJsaWMgY29uc3RhbnQgc2Vjb25kUm91bmRNYXlFbmQgPSAxNTI1MjE5MjAwOyAgICAgICAgICAgIC8qKiAwMi4wNSAqLwogIHVpbnQgcHVibGljIGNvbnN0YW50IHNlY29uZFJvdW5kTWF5RGlzY291bnQgPSAxNTsKICB1aW50IHB1YmxpYyBzZWNvbmRSb3VuZE1heVRva2Vuc0xpbWl0ID0gMTExMTExMSAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpOwoKICB1aW50IHB1YmxpYyBldGhlclJhaXNlZCA9IDA7CiAgdWludCBwdWJsaWMgdG9rZW5zU29sZCA9IDA7CgogIGFkZHJlc3MgcHVibGljIGljb01hbmFnZXI7CiAgICAKICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBXaGl0ZUxpc3Q7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgRmVtYWxlczsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgS1lDMTsKICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBLWUMyOwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIEtZQ0xpbWl0OwogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IEtZQ0xpbWl0VmFsdWUgPSAxLjUgZXRoZXI7CgogIG1vZGlmaWVyIG9ubHlNYW5hZ2VyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGljb01hbmFnZXIpOwogICAgXzsKICB9CgogIGZ1bmN0aW9uIHNldElDT01hbmFnZXIoYWRkcmVzcyBfbmV3SWNvTWFuYWdlcikgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF9uZXdJY29NYW5hZ2VyICE9IGFkZHJlc3MoMCkpOwogICAgaWNvTWFuYWdlciA9IF9uZXdJY29NYW5hZ2VyOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBtYXNzUGF5KGFkZHJlc3NbXSBkZXN0cywgdWludDI1NiB2YWx1ZSkgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CiAgICB1aW50MjU2IGkgPSAwOwogICAgdWludDI1NiB0b1NlbmQgPSB2YWx1ZSAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpOwogICAgd2hpbGUgKGkgPCBkZXN0cy5sZW5ndGgpIHsKICAgICAgaWYoZGVzdHNbaV0gIT0gYWRkcmVzcygwKSl7CiAgICAgICAgdHJhbnNmZXIoZGVzdHNbaV0sIHRvU2VuZCk7CiAgICAgIH0KICAgICAgaSsrOwogICAgfQogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBDcm93ZHNhbGUoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHRva2VuID0gVU5JQ1Rva2VuKHRoaXMpOwogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoZm9yU2FsZSk7CiAgICBiYWxhbmNlc1t0b2tlbl0gPSBiYWxhbmNlc1t0b2tlbl0uYWRkKGZvclNhbGUpOwogIH0KCiAgZnVuY3Rpb24gc2V0UGFyYW1zKGFkZHJlc3NbXSBkZXN0cywgdWludCBfdHlwZSkgaW50ZXJuYWwgewogICAgdWludDI1NiBpID0gMDsKICAgIHdoaWxlIChpIDwgZGVzdHMubGVuZ3RoKSB7CiAgICAgIGlmKGRlc3RzW2ldICE9IGFkZHJlc3MoMCkpewogICAgICAgIGlmKF90eXBlPT0xKXsKICAgICAgICAgIFdoaXRlTGlzdFtkZXN0c1tpXV0gPSB0cnVlOwogICAgICAgIH1lbHNlIGlmKF90eXBlPT0yKXsKICAgICAgICAgIEZlbWFsZXNbZGVzdHNbaV1dID0gdHJ1ZTsKICAgICAgICB9ZWxzZSBpZihfdHlwZT09Myl7CiAgICAgICAgICBLWUMxW2Rlc3RzW2ldXSA9IHRydWU7CiAgICAgICAgICBLWUNMaW1pdFtkZXN0c1tpXV0gPSBLWUNMaW1pdFZhbHVlOwogICAgICAgIH1lbHNlIGlmKF90eXBlPT00KXsKICAgICAgICAgIEtZQzJbZGVzdHNbaV1dID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaSsrOwogICAgfQogIH0gCgogIGZ1bmN0aW9uIHNldFdoaXRlTGlzdChhZGRyZXNzW10gZGVzdHMpIG9ubHlNYW5hZ2VyIGV4dGVybmFsIHsKICAgIHNldFBhcmFtcyhkZXN0cywgMSk7CiAgfQoKICBmdW5jdGlvbiBzZXRGZW1hbGVCb251cyhhZGRyZXNzW10gZGVzdHMpIG9ubHlNYW5hZ2VyIGV4dGVybmFsIHsKICAgIHNldFBhcmFtcyhkZXN0cywgMik7CiAgfQoKICBmdW5jdGlvbiBzZXRLWUNMaW1pdGVkKGFkZHJlc3NbXSBkZXN0cykgb25seU1hbmFnZXIgZXh0ZXJuYWwgewogICAgc2V0UGFyYW1zKGRlc3RzLCAzKTsKICB9CgogIGZ1bmN0aW9uIHNldEtZQ0Z1bGwoYWRkcmVzc1tdIGRlc3RzKSBvbmx5TWFuYWdlciBleHRlcm5hbCB7CiAgICBzZXRQYXJhbXMoZGVzdHMsIDQpOwogIH0KCiAgZnVuY3Rpb24gaXNQcmVzYWxlKCkgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gbm93ID49IHByZXNhbGVTdGFydCAmJiBub3cgPD0gcHJlc2FsZUVuZDsKICB9CgogIGZ1bmN0aW9uIGlzRmlyc3RSb3VuZCgpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIG5vdyA+PSBmaXJzdFJvdW5kSUNPU3RhcnQgJiYgbm93IDw9IGZpcnN0Um91bmRJQ09FbmQ7CiAgfQoKICBmdW5jdGlvbiBpc1NlY29uZFJvdW5kKCkgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gbm93ID49IHNlY29uZFJvdW5kSUNPU3RhcnQgJiYgbm93IDw9IHNlY29uZFJvdW5kSUNPRW5kOwogIH0KCiAgbW9kaWZpZXIgc2FsZUlzT24oKSB7CiAgICByZXF1aXJlKGlzUHJlc2FsZSgpIHx8IGlzRmlyc3RSb3VuZCgpIHx8IGlzU2Vjb25kUm91bmQoKSk7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gaXNGZW1hbGVTYWxlKCkgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gbm93ID49IHByZXNhbGVGZW1hbGVTdGFydCAmJiBub3cgPD0gcHJlc2FsZUZlbWFsZUVuZDsKICB9CgogIGZ1bmN0aW9uIGlzUGlTYWxlKCkgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gbm93ID49IHByZXNhbGVQaVN0YXJ0ICYmIG5vdyA8PSBwcmVzYWxlUGlFbmQ7CiAgfQoKICBmdW5jdGlvbiBpc1dNU2FsZSgpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIG5vdyA+PSBmaXJzdFJvdW5kV01TdGFydCAmJiBub3cgPD0gZmlyc3RSb3VuZFdNRW5kOwogIH0KCiAgZnVuY3Rpb24gaXNDb3Ntb3NTYWxlKCkgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gbm93ID49IGZpcnN0Um91bmRDb3Ntb3NTdGFydCAmJiBub3cgPD0gZmlyc3RSb3VuZENvc21vc0VuZDsKICB9CgogIGZ1bmN0aW9uIGlzTWF5U2FsZSgpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIG5vdyA+PSBzZWNvbmRSb3VuZE1heVN0YXJ0ICYmIG5vdyA8PSBzZWNvbmRSb3VuZE1heUVuZDsKICB9CgogIGZ1bmN0aW9uIGRpc2NvdW50KHVpbnQgX2Rpc2NvdW50LCB1aW50IF9saW1pdCwgdWludCBfc2FsZUxpbWl0LCB1aW50IF92YWx1ZSwgdWludCBfZGVmdWx0RGlzY291bnQpIGludGVybmFsIHB1cmUgcmV0dXJucyh1aW50KXsKICAgIHVpbnQgdG1wRGlzY291bnQgPSBfdmFsdWUubXVsKF9kaXNjb3VudCkuZGl2KDEwMCk7CiAgICB1aW50IG5ld1ZhbHVlID0gX3ZhbHVlLmFkZCh0bXBEaXNjb3VudCk7CiAgICBpZihfbGltaXQgPj0gbmV3VmFsdWUgJiYgX3NhbGVMaW1pdCA+PSBuZXdWYWx1ZSkgewogICAgICByZXR1cm4gdG1wRGlzY291bnQ7CiAgICB9ZWxzZXsKICAgICAgcmV0dXJuIF9kZWZ1bHREaXNjb3VudDsKICAgIH0KICB9CgogIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICBidXlUb2tlbnMobXNnLnNlbmRlcik7CiAgfQoKICBmdW5jdGlvbiBidXlUb2tlbnMoYWRkcmVzcyBfYnV5ZXIpIHNhbGVJc09uIHB1YmxpYyBwYXlhYmxlIHsKICAgIGFzc2VydCgoX2J1eWVyICE9IGFkZHJlc3MoMCkgJiYgbXNnLnZhbHVlID4gMCAmJiAoKEtZQzFbX2J1eWVyXSAmJiBtc2cudmFsdWUgPCBLWUNMaW1pdFZhbHVlKSB8fCBLWUMyW19idXllcl0pKSk7CiAgICBhc3NlcnQoKEtZQzJbX2J1eWVyXSB8fCAoS1lDMVtfYnV5ZXJdICYmIG1zZy52YWx1ZSA8IEtZQ0xpbWl0W19idXllcl0pKSk7CgogICAgdWludCB0b2tlbnMgPSByYXRlLm11bChtc2cudmFsdWUpOwogICAgdWludCBkaXNjb3VudFRva2VucyA9IDA7CiAgICAKICAgIGlmIChpc1ByZXNhbGUoKSkgewoKICAgICAgZGlzY291bnRUb2tlbnMgPSBkaXNjb3VudChwcmVzYWxlRGlzY291bnQsIHByZXNhbGVUb2tlbnNMaW1pdCwgcHJlc2FsZVRva2Vuc0xpbWl0LCB0b2tlbnMsIGRpc2NvdW50VG9rZW5zKTsKCiAgICAgIGlmKGlzRmVtYWxlU2FsZSgpICYmIEZlbWFsZXNbX2J1eWVyXSkgewogICAgICAgIGRpc2NvdW50VG9rZW5zID0gZGlzY291bnQocHJlc2FsZUZlbWFsZURpc2NvdW50LCBwcmVzYWxlRmVtYWxlVG9rZW5zTGltaXQsIHByZXNhbGVUb2tlbnNMaW1pdCwgdG9rZW5zLCBkaXNjb3VudFRva2Vucyk7CiAgICAgIH0KICAgICAgaWYoV2hpdGVMaXN0W19idXllcl0pIHsKICAgICAgICBkaXNjb3VudFRva2VucyA9IGRpc2NvdW50KHByZXNhbGVXaGl0ZWxpc3REaXNjb3VudCwgcHJlc2FsZVdoaXRlbGlzdFRva2Vuc0xpbWl0LCBwcmVzYWxlVG9rZW5zTGltaXQsIHRva2VucywgZGlzY291bnRUb2tlbnMpOwogICAgICB9CiAgICAgIGlmKGlzUGlTYWxlKCkpIHsKICAgICAgICBkaXNjb3VudFRva2VucyA9IGRpc2NvdW50KHByZXNhbGVQaURpc2NvdW50LCBwcmVzYWxlUGlUb2tlbnNMaW1pdCwgcHJlc2FsZVRva2Vuc0xpbWl0LCB0b2tlbnMsIGRpc2NvdW50VG9rZW5zKTsKICAgICAgfQoKICAgIH0gZWxzZSBpZiAoaXNGaXJzdFJvdW5kKCkpIHsKCiAgICAgIGRpc2NvdW50VG9rZW5zID0gZGlzY291bnQoZmlyc3RSb3VuZElDT0Rpc2NvdW50LCBmaXJzdFJvdW5kSUNPVG9rZW5zTGltaXQsIGZpcnN0Um91bmRJQ09Ub2tlbnNMaW1pdCwgdG9rZW5zLCBkaXNjb3VudFRva2Vucyk7CgogICAgICBpZihpc0Nvc21vc1NhbGUoKSkgewogICAgICAgIGRpc2NvdW50VG9rZW5zID0gZGlzY291bnQoZmlyc3RSb3VuZENvc21vc0Rpc2NvdW50LCBmaXJzdFJvdW5kQ29zbW9zVG9rZW5zTGltaXQsIGZpcnN0Um91bmRJQ09Ub2tlbnNMaW1pdCwgdG9rZW5zLCBkaXNjb3VudFRva2Vucyk7CiAgICAgIH0KICAgICAgaWYoaXNXTVNhbGUoKSkgewogICAgICAgIGRpc2NvdW50VG9rZW5zID0gZGlzY291bnQoZmlyc3RSb3VuZFdNRGlzY291bnQsIGZpcnN0Um91bmRXTVRva2Vuc0xpbWl0LCBmaXJzdFJvdW5kSUNPVG9rZW5zTGltaXQsIHRva2VucywgZGlzY291bnRUb2tlbnMpOwogICAgICB9IAoKICAgIH0gZWxzZSBpZiAoaXNTZWNvbmRSb3VuZCgpKSB7CgogICAgICBkaXNjb3VudFRva2VucyA9IGRpc2NvdW50KHNlY29uZFJvdW5kSUNPRGlzY291bnQsIHNlY29uZFJvdW5kSUNPVG9rZW5zTGltaXQsIHNlY29uZFJvdW5kSUNPVG9rZW5zTGltaXQsIHRva2VucywgZGlzY291bnRUb2tlbnMpOwoKICAgICAgaWYoaXNNYXlTYWxlKCkpIHsKICAgICAgICBkaXNjb3VudFRva2VucyA9IGRpc2NvdW50KHNlY29uZFJvdW5kTWF5RGlzY291bnQsIHNlY29uZFJvdW5kTWF5VG9rZW5zTGltaXQsIHNlY29uZFJvdW5kSUNPVG9rZW5zTGltaXQsIHRva2VucywgZGlzY291bnRUb2tlbnMpOwogICAgICB9CgogICAgfQogICAgICAgIAogICAgdWludCB0b2tlbnNXaXRoQm9udXMgPSB0b2tlbnMuYWRkKGRpc2NvdW50VG9rZW5zKTsKICAgICAgCiAgICBpZigoaXNQcmVzYWxlKCkgJiYgcHJlc2FsZVRva2Vuc0xpbWl0ID49IHRva2Vuc1dpdGhCb251cykgfHwKICAgICAgKGlzRmlyc3RSb3VuZCgpICYmIGZpcnN0Um91bmRJQ09Ub2tlbnNMaW1pdCA+PSAgdG9rZW5zV2l0aEJvbnVzKSB8fAogICAgICAoaXNTZWNvbmRSb3VuZCgpICYmIHNlY29uZFJvdW5kSUNPVG9rZW5zTGltaXQgPj0gdG9rZW5zV2l0aEJvbnVzKSl7CiAgICAgIAogICAgICBtdWx0aXNpZy50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgICBldGhlclJhaXNlZCA9IGV0aGVyUmFpc2VkLmFkZChtc2cudmFsdWUpOwogICAgICB0b2tlbi50cmFuc2Zlcihtc2cuc2VuZGVyLCB0b2tlbnNXaXRoQm9udXMpOwogICAgICB0b2tlbnNTb2xkID0gdG9rZW5zU29sZC5hZGQodG9rZW5zV2l0aEJvbnVzKTsKCiAgICAgIGlmKEtZQzFbX2J1eWVyXSl7CiAgICAgICAgS1lDTGltaXRbX2J1eWVyXSA9IEtZQ0xpbWl0W19idXllcl0uc3ViKG1zZy52YWx1ZSk7CiAgICAgIH0KCiAgICAgIGlmIChpc1ByZXNhbGUoKSkgewogICAgICAgIAogICAgICAgIHByZXNhbGVUb2tlbnNMaW1pdCA9IHByZXNhbGVUb2tlbnNMaW1pdC5zdWIodG9rZW5zV2l0aEJvbnVzKTsKICAgICAgICAKICAgICAgICBpZihXaGl0ZUxpc3RbX2J1eWVyXSkgewogICAgICAgICAgcHJlc2FsZVdoaXRlbGlzdFRva2Vuc0xpbWl0ID0gcHJlc2FsZVdoaXRlbGlzdFRva2Vuc0xpbWl0LnN1Yih0b2tlbnNXaXRoQm9udXMpOwogICAgICAgIH0KICAgICAgCiAgICAgICAgaWYoaXNGZW1hbGVTYWxlKCkgJiYgRmVtYWxlc1tfYnV5ZXJdKSB7CiAgICAgICAgICBwcmVzYWxlRmVtYWxlVG9rZW5zTGltaXQgPSBwcmVzYWxlRmVtYWxlVG9rZW5zTGltaXQuc3ViKHRva2Vuc1dpdGhCb251cyk7CiAgICAgICAgfQoKICAgICAgICBpZihpc1BpU2FsZSgpKSB7CiAgICAgICAgICBwcmVzYWxlUGlUb2tlbnNMaW1pdCA9IHByZXNhbGVQaVRva2Vuc0xpbWl0LnN1Yih0b2tlbnNXaXRoQm9udXMpOwogICAgICAgIH0KCiAgICAgIH0gZWxzZSBpZiAoaXNGaXJzdFJvdW5kKCkpIHsKCiAgICAgICAgZmlyc3RSb3VuZElDT1Rva2Vuc0xpbWl0ID0gZmlyc3RSb3VuZElDT1Rva2Vuc0xpbWl0LnN1Yih0b2tlbnNXaXRoQm9udXMpOwogICAgICAgIAogICAgICAgIGlmKGlzV01TYWxlKCkpIHsKICAgICAgICAgIGZpcnN0Um91bmRXTVRva2Vuc0xpbWl0ID0gZmlyc3RSb3VuZFdNVG9rZW5zTGltaXQuc3ViKHRva2Vuc1dpdGhCb251cyk7CiAgICAgICAgfQogICAgICAKICAgICAgICBpZihpc0Nvc21vc1NhbGUoKSkgewogICAgICAgICAgZmlyc3RSb3VuZENvc21vc1Rva2Vuc0xpbWl0ID0gZmlyc3RSb3VuZENvc21vc1Rva2Vuc0xpbWl0LnN1Yih0b2tlbnNXaXRoQm9udXMpOwogICAgICAgIH0KCiAgICAgIH0gZWxzZSBpZiAoaXNTZWNvbmRSb3VuZCgpKSB7CgogICAgICAgIHNlY29uZFJvdW5kSUNPVG9rZW5zTGltaXQgPSBzZWNvbmRSb3VuZElDT1Rva2Vuc0xpbWl0LnN1Yih0b2tlbnNXaXRoQm9udXMpOwoKICAgICAgICBpZihpc01heVNhbGUoKSkgewogICAgICAgICAgc2Vjb25kUm91bmRNYXlUb2tlbnNMaW1pdCA9IHNlY29uZFJvdW5kTWF5VG9rZW5zTGltaXQuc3ViKHRva2Vuc1dpdGhCb251cyk7CiAgICAgICAgfQoKICAgICAgfQoKICAgIH0KCiAgfQoKfQ=='.
	

]
