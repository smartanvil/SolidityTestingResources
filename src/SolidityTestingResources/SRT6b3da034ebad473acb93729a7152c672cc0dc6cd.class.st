Class {
	#name : #SRT6b3da034ebad473acb93729a7152c672cc0dc6cd,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT6b3da034ebad473acb93729a7152c672cc0dc6cd >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTA7Ci8qKgoqIEhvZGxkIERBTyBhbmQgRVJDMjAgdG9rZW4KKiBBdXRob3I6IEN1cnJlbmN5VHljb29uIG9uIEdpdEh1YgoqIExpY2Vuc2U6IE1JVAoqIERhdGU6IDIwMTcKKgoqIERlcGxveSB3aXRoIHRoZSBmb2xsb3dpbmcgYXJnczoKKiAwLCAiSG9kbCBEQU8iLCAxOCwgIkhPREwiCioKKi8KY29udHJhY3QgSG9kbERBTyB7CiAgICAvKiBFUkMyMCBQdWJsaWMgdmFyaWFibGVzIG9mIHRoZSB0b2tlbiAqLwogICAgc3RyaW5nIHB1YmxpYyB2ZXJzaW9uID0gJ0hEQU8gMC4yJzsKICAgIHN0cmluZyBwdWJsaWMgbmFtZTsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgdWludDggcHVibGljIGRlY2ltYWxzOwogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgLyogRVJDMjAgVGhpcyBjcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGJhbGFuY2VzICovCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2Y7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2FuY2U7CgoKICAgIC8qIHN0b3JlIHRoZSBibG9jayBudW1iZXIgd2hlbiBhIHdpdGhkcmF3YWwgaGFzIGJlZW4gcmVxdWVzdGVkKi8KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gd2l0aGRyYXdhbFJlcXVlc3QpIHB1YmxpYyB3aXRoZHJhd2FsUmVxdWVzdHM7CiAgICBzdHJ1Y3Qgd2l0aGRyYXdhbFJlcXVlc3QgewogICAgdWludCBzaW5jZUJsb2NrOwogICAgdWludDI1NiBhbW91bnQ7Cn0KCiAgICAvKioKICAgICAqIGZlZVBvdCBjb2xsZWN0cyBmZWVzIGZyb20gcXVpY2sgd2l0aGRyYXdhbHMuIFRoaXMgZ2V0cyByZS1kaXN0cmlidXRlZCB0byBzbG93LXdpdGhkcmF3YWxzCiAgICAqLwogICAgdWludDI1NiBwdWJsaWMgZmVlUG90OwoKICAgIHVpbnQzMiBwdWJsaWMgY29uc3RhbnQgYmxvY2tXYWl0ID0gMTcyODAwOyAvLyByb3VnaGx5IDMwIGRheXMsICAoMjU5MjAwMCAvIDE1KSAtIGFzc3VtaW5nIGJsb2NrIHRpbWUgaXMgfjE1IHNlYy4KICAgIC8vdWludCBwdWJsaWMgY29uc3RhbnQgYmxvY2tXYWl0ID0gODsgLy8gcm91Z2hseSBhc3N1bWluZyBibG9jayB0aW1lIGlzIH4xNSBzZWMuCgoKICAgIC8qKgogICAgICogRVJDMjAgZXZlbnRzIHRoZXNlIGdlbmVyYXRlIGEgcHVibGljIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgY2xpZW50cwogICAgKi8KICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7CgogICAgZXZlbnQgV2l0aGRyYXdhbFF1aWNrKGFkZHJlc3MgaW5kZXhlZCBieSwgdWludDI1NiBhbW91bnQsIHVpbnQyNTYgZmVlKTsgLy8gcXVpY2sgd2l0aGRyYXdhbCBkb25lCiAgICBldmVudCBJbnN1ZmZpY2llbnRGZWUoYWRkcmVzcyBpbmRleGVkIGJ5LCB1aW50MjU2IGZlZVJlcXVpcmVkKTsgIC8vIG5vdCBlbm91Z2ggZmVlIHBhaWQgZm9yIHF1aWNrIHdpdGhkcmF3YWwKICAgIGV2ZW50IFdpdGhkcmF3YWxTdGFydGVkKGFkZHJlc3MgaW5kZXhlZCBieSwgdWludDI1NiBhbW91bnQpOwogICAgZXZlbnQgV2l0aGRyYXdhbERvbmUoYWRkcmVzcyBpbmRleGVkIGJ5LCB1aW50MjU2IGFtb3VudCwgdWludDI1NiByZXdhcmQpOyAvLyBhbW91bnQgaXMgdGhlIGFtb3VudCB0aGF0IHdhcyB1c2VkIHRvIGNhbGN1bGF0ZSByZXdhcmQKICAgIGV2ZW50IFdpdGhkcmF3YWxQcmVtYXR1cmUoYWRkcmVzcyBpbmRleGVkIGJ5LCB1aW50IGJsb2Nrc1RvV2FpdCk7IC8vIE5lZWRzIHRvIHdhaXQgYmxvY2tzVG9XYWl0IGJlZm9yZSB3aXRoZHJhd2FsIHVubG9ja2VkCiAgICBldmVudCBEZXBvc2l0ZWQoYWRkcmVzcyBpbmRleGVkIGJ5LCB1aW50MjU2IGFtb3VudCk7CgogICAgLyoqCiAgICAgKiBJbml0aWFsaXplcyBjb250cmFjdCB3aXRoIGluaXRpYWwgc3VwcGx5IHRva2VucyB0byB0aGUgY3JlYXRvciBvZiB0aGUgY29udHJhY3QKICAgICAqIEluIG91ciBjYXNlLCB0aGVyZSdzIG5vIGluaXRpYWwgc3VwcGx5LiBUb2tlbnMgd2lsbCBiZSBjcmVhdGVkIGFzIGV0aGVyIGlzIHNlbnQKICAgICAqIHRvIHRoZSBmYWxsLWJhY2sgZnVuY3Rpb24uIFRoZW4gdG9rZW5zIGFyZSBidXJuZWQgd2hlbiBldGhlciBpcyB3aXRoZHJhd24uCiAgICAgKi8KICAgIGZ1bmN0aW9uIEhvZGxEQU8oCiAgICB1aW50MjU2IGluaXRpYWxTdXBwbHksCiAgICBzdHJpbmcgdG9rZW5OYW1lLAogICAgdWludDggZGVjaW1hbFVuaXRzLAogICAgc3RyaW5nIHRva2VuU3ltYm9sCiAgICApIHsKCiAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdID0gaW5pdGlhbFN1cHBseTsgICAgICAgICAgICAgIC8vIEdpdmUgdGhlIGNyZWF0b3IgYWxsIGluaXRpYWwgdG9rZW5zCiAgICAgICAgdG90YWxTdXBwbHkgPSBpbml0aWFsU3VwcGx5OyAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0b3RhbCBzdXBwbHkKICAgICAgICBuYW1lID0gdG9rZW5OYW1lOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBuYW1lIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgc3ltYm9sID0gdG9rZW5TeW1ib2w7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgc3ltYm9sIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgZGVjaW1hbHMgPSBkZWNpbWFsVW5pdHM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFtb3VudCBvZiBkZWNpbWFscyBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgfQoKICAgIC8qKgogICAgICogbm90UGVuZGluZ1dpdGhkcmF3YWwgbW9kaWZpZXIgZ3VhcmRzIHRoZSBmdW5jdGlvbiBmcm9tIGV4ZWN1dGluZyB3aGVuIGEKICAgICAqIHdpdGhkcmF3YWwgaGFzIGJlZW4gcmVxdWVzdGVkIGFuZCBpcyBjdXJyZW50bHkgcGVuZGluZwogICAgICovCiAgICBtb2RpZmllciBub3RQZW5kaW5nV2l0aGRyYXdhbCB7CiAgICAgICAgaWYgKHdpdGhkcmF3YWxSZXF1ZXN0c1ttc2cuc2VuZGVyXS5zaW5jZUJsb2NrID4gMCkgdGhyb3c7CiAgICAgICAgXzsKICAgIH0KCgogICAgLyoqIEVSQzIwIC0gdHJhbnNmZXIgc2VuZHMgdG9rZW5zCiAgICAgKiBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIG5vdFBlbmRpbmdXaXRoZHJhd2FsIHsKICAgICAgICBpZiAoYmFsYW5jZU9mW21zZy5zZW5kZXJdIDwgX3ZhbHVlKSB0aHJvdzsgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaAogICAgICAgIGlmIChiYWxhbmNlT2ZbX3RvXSArIF92YWx1ZSA8IGJhbGFuY2VPZltfdG9dKSB0aHJvdzsgLy8gQ2hlY2sgZm9yIG92ZXJmbG93cwogICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgYmFsYW5jZU9mW190b10gKz0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHNhbWUgdG8gdGhlIHJlY2lwaWVudAogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsgICAgICAgICAgICAgICAgICAgLy8gTm90aWZ5IGFueW9uZSBsaXN0ZW5pbmcgdGhhdCB0aGlzIHRyYW5zZmVyIHRvb2sgcGxhY2UKICAgIH0KCiAgICAvKiogRVJDMjAgYXBwcm92ZSBhbGxvd3MgYW5vdGhlciBjb250cmFjdCB0byBzcGVuZCBzb21lIHRva2VucyBpbiB5b3VyIGJlaGFsZgogICAgICogQG5vdGljZSBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9zcGVuZGVyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBub3RQZW5kaW5nV2l0aGRyYXdhbAogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBFUkMtMjAgQXBwcm92ZXMgYW5kIHRoZW4gY2FsbHMgdGhlIHJlY2VpdmluZyBjb250cmFjdAogICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZXh0cmFEYXRhKSBub3RQZW5kaW5nV2l0aGRyYXdhbAogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKCiAgICAvL2NhbGwgdGhlIHJlY2VpdmVBcHByb3ZhbCBmdW5jdGlvbiBvbiB0aGUgY29udHJhY3QgeW91IHdhbnQgdG8gYmUgbm90aWZpZWQuIFRoaXMgY3JhZnRzIHRoZSBmdW5jdGlvbiBzaWduYXR1cmUgbWFudWFsbHkgc28gb25lIGRvZXNuJ3QgaGF2ZSB0byBpbmNsdWRlIGEgY29udHJhY3QgaW4gaGVyZSBqdXN0IGZvciB0aGlzLgogICAgLy9yZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuQ29udHJhY3QsIGJ5dGVzIF9leHRyYURhdGEpCiAgICAvL2l0IGlzIGFzc3VtZWQgdGhhdCB3aGVuIGRvZXMgdGhpcyB0aGF0IHRoZSBjYWxsICpzaG91bGQqIHN1Y2NlZWQsIG90aGVyd2lzZSBvbmUgd291bGQgdXNlIHZhbmlsbGEgYXBwcm92ZSBpbnN0ZWFkLgogICAgICAgIGlmKCFfc3BlbmRlci5jYWxsKGJ5dGVzNChieXRlczMyKHNoYTMoInJlY2VpdmVBcHByb3ZhbChhZGRyZXNzLHVpbnQyNTYsYWRkcmVzcyxieXRlcykiKSkpLCBtc2cuc2VuZGVyLCBfdmFsdWUsIHRoaXMsIF9leHRyYURhdGEpKSB7IHRocm93OyB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBFUkMyMCBBIGNvbnRyYWN0IGF0dGVtcHRzIHRvIGdldCB0aGUgY29pbnMKICAgICAqIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBfZnJvbWAgb24gdGhlIGNvbmRpdGlvbiBpdCBpcyBhcHByb3ZlZCBieSBgX2Zyb21gCiAgICAgKiBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpICBub3RQZW5kaW5nV2l0aGRyYXdhbAogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYgKGJhbGFuY2VPZltfZnJvbV0gPCBfdmFsdWUpIHRocm93OyAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCiAgICAgICAgaWYgKGJhbGFuY2VPZltfdG9dICsgX3ZhbHVlIDwgYmFsYW5jZU9mW190b10pIHRocm93OyAgLy8gQ2hlY2sgZm9yIG92ZXJmbG93cwogICAgICAgIGlmIChfdmFsdWUgPiBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdKSB0aHJvdzsgICAgIC8vIENoZWNrIGFsbG93YW5jZQogICAgICAgIGJhbGFuY2VPZltfZnJvbV0gLT0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIGJhbGFuY2VPZltfdG9dICs9IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgc2FtZSB0byB0aGUgcmVjaXBpZW50CiAgICAgICAgYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIHdpdGhkcmF3YWxJbml0aWF0ZSBpbml0aWF0ZXMgdGhlIHdpdGhkcmF3YWwgYnkgZ29pbmcgaW50byBhIHdhaXRpbmcgcGVyaW9kCiAgICAgKiBJdCByZW1lbWJlcnMgdGhlIGJsb2NrIG51bWJlciAmIGFtb3VudCBoZWxkIGF0IHRoZSB0aW1lIG9mIHJlcXVlc3QuCiAgICAgKiBBZnRlciB0aGUgd2FpdGluZyBwZXJpb2QgZmluaXNoZXMsIHRoZSBjYWxsIHdpdGhkcmF3YWxDb21wbGV0ZQogICAgICovCiAgICBmdW5jdGlvbiB3aXRoZHJhd2FsSW5pdGlhdGUoKSBub3RQZW5kaW5nV2l0aGRyYXdhbCB7CiAgICAgICAgV2l0aGRyYXdhbFN0YXJ0ZWQobXNnLnNlbmRlciwgYmFsYW5jZU9mW21zZy5zZW5kZXJdKTsKICAgICAgICB3aXRoZHJhd2FsUmVxdWVzdHNbbXNnLnNlbmRlcl0gPSB3aXRoZHJhd2FsUmVxdWVzdChibG9jay5udW1iZXIsIGJhbGFuY2VPZlttc2cuc2VuZGVyXSk7CiAgICB9CgogICAgLyoqCiAgICAgKiB3aXRoZHJhd2FsQ29tcGxldGUgaXMgY2FsbGVkIGFmdGVyIHRoZSB3YWl0aW5nIHBlcmlvZC4gVGhlIGV0aGVyIHdpbGwgYmUKICAgICAqIHJldHVybmVkIHRvIHRoZSBjYWxsZXIgYW5kIHRoZSB0b2tlbnMgd2lsbCBiZSBidXJuZWQuCiAgICAgKiBBIHJld2FyZCB3aWxsIGJlIGlzc3VlZCBiYXNlZCBvbiB0aGUgYW1vdW50IGluIHRoZSBmZWVQb3QgcmVsYXRpdmUgdG8gdGhlCiAgICAgKiBhbW91bnQgaGVsZCB3aGVuIHRoZSB3aXRoZHJhd2FsIHJlcXVlc3Qgd2FzIG1hZGUuCiAgICAgKgogICAgICogR2FzOiAxNzAwOAogICAgICovCiAgICBmdW5jdGlvbiB3aXRoZHJhd2FsQ29tcGxldGUoKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgd2l0aGRyYXdhbFJlcXVlc3QgciA9IHdpdGhkcmF3YWxSZXF1ZXN0c1ttc2cuc2VuZGVyXTsKICAgICAgICBpZiAoci5zaW5jZUJsb2NrID09IDApIHRocm93OwogICAgICAgIGlmICgoci5zaW5jZUJsb2NrICsgYmxvY2tXYWl0KSA+IGJsb2NrLm51bWJlcikgewogICAgICAgICAgICBXaXRoZHJhd2FsUHJlbWF0dXJlKG1zZy5zZW5kZXIsIHIuc2luY2VCbG9jayArIGJsb2NrV2FpdCAtIGJsb2NrLm51bWJlcik7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgdWludDI1NiBhbW91bnQgPSB3aXRoZHJhd2FsUmVxdWVzdHNbbXNnLnNlbmRlcl0uYW1vdW50OwogICAgICAgIHVpbnQyNTYgcmV3YXJkID0gY2FsY3VsYXRlUmV3YXJkKHIuYW1vdW50KTsKICAgICAgICB3aXRoZHJhd2FsUmVxdWVzdHNbbXNnLnNlbmRlcl0uc2luY2VCbG9jayA9IDA7CiAgICAgICAgd2l0aGRyYXdhbFJlcXVlc3RzW21zZy5zZW5kZXJdLmFtb3VudCA9IDA7CgogICAgICAgIGlmIChyZXdhcmQgPiAwKSB7CiAgICAgICAgICAgIGlmIChmZWVQb3QgLSByZXdhcmQgPiBmZWVQb3QpIHsKICAgICAgICAgICAgICAgIGZlZVBvdCA9IDA7IC8vIG92ZXJmbG93CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBmZWVQb3QgLT0gcmV3YXJkOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGRvV2l0aGRyYXdhbChyZXdhcmQpOwogICAgICAgIFdpdGhkcmF3YWxEb25lKG1zZy5zZW5kZXIsIGFtb3VudCwgcmV3YXJkKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICB9CgogICAgLyoqCiAgICAgKiBSZXdhcmQgaXMgYmFzZWQgb24gdGhlIGFtb3VudCBoZWxkLCByZWxhdGl2ZSB0byB0b3RhbCBzdXBwbHkgb2YgdG9rZW5zLgogICAgICovCiAgICBmdW5jdGlvbiBjYWxjdWxhdGVSZXdhcmQodWludDI1NiB2KSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiByZXdhcmQgPSAwOwogICAgICAgIGlmIChmZWVQb3QgPiAwKSB7CiAgICAgICAgICAgIHJld2FyZCA9IHYgLyB0b3RhbFN1cHBseSAqIGZlZVBvdDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJld2FyZDsKICAgIH0KCiAgICAvKiogY2FsY3VsYXRlIHRoZSBmZWUgZm9yIHF1aWNrIHdpdGhkcmF3YWwKICAgICAqLwogICAgZnVuY3Rpb24gY2FsY3VsYXRlRmVlKHVpbnQyNTYgdikgY29uc3RhbnQgcmV0dXJucyAgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGZlZVJlcXVpcmVkID0gdiAvICgxIHdlaSAqIDEwMCk7CiAgICAgICAgcmV0dXJuIGZlZVJlcXVpcmVkOwogICAgfQoKICAgIC8qKgogICAgICogUXVpY2sgd2l0aGRyYXdhbCwgbmVlZHMgdG8gc2VuZCBldGhlciB0byB0aGlzIGZ1bmN0aW9uIGZvciB0aGUgZmVlLgogICAgICoKICAgICAqIEdhcyB1c2U6IDQ0MTI5IChpbmNsdWRpbmcgY2FsbCB0byBwcm9jZXNzV2l0aGRyYXdhbCkKICAgICovCiAgICBmdW5jdGlvbiBxdWlja1dpdGhkcmF3KCkgcGF5YWJsZSBub3RQZW5kaW5nV2l0aGRyYXdhbCByZXR1cm5zIChib29sKSB7CiAgICAgICAgLy8gY2FsY3VsYXRlIHJlcXVpcmVkIGZlZQogICAgICAgIHVpbnQyNTYgYW1vdW50ID0gYmFsYW5jZU9mW21zZy5zZW5kZXJdOwogICAgICAgIGlmIChhbW91bnQgPD0gMCkgdGhyb3c7CiAgICAgICAgdWludDI1NiBmZWVSZXF1aXJlZCA9IGNhbGN1bGF0ZUZlZShhbW91bnQpOwogICAgICAgIGlmIChtc2cudmFsdWUgPCBmZWVSZXF1aXJlZCkgewogICAgICAgICAgICAvLyBub3QgZW5vdWdoIGZlZXMgc2VudAogICAgICAgICAgICBJbnN1ZmZpY2llbnRGZWUobXNnLnNlbmRlciwgZmVlUmVxdWlyZWQpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHVpbnQyNTYgb3ZlckFtb3VudCA9IG1zZy52YWx1ZSAtIGZlZVJlcXVpcmVkOyAvLyBjYWxjdWxhdGUgYW55IG92ZXItcGF5bWVudAogICAgICAgIC8vIGFkZCBmZWUgdG8gdGhlIGZlZVBvdCwgZXhjbHVkaW5nIGFueSBvdmVyLXBheW1lbnQKCiAgICAgICAgaWYgKG92ZXJBbW91bnQgPiAwKSB7CiAgICAgICAgICAgIGZlZVBvdCArPSBtc2cudmFsdWUgLSBvdmVyQW1vdW50OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZlZVBvdCArPSBtc2cudmFsdWU7CiAgICAgICAgfQoKICAgICAgICBkb1dpdGhkcmF3YWwob3ZlckFtb3VudCk7IC8vIHdpdGhkcmF3ICsgcmV0dXJuIGFueSBvdmVyIHBheW1lbnQKICAgICAgICBXaXRoZHJhd2FsRG9uZShtc2cuc2VuZGVyLCBhbW91bnQsIDApOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogZG8gd2l0aGRyYXdhbAogICAgICogR2FzOiA2MjQ4MwogICAgICovCiAgICBmdW5jdGlvbiBkb1dpdGhkcmF3YWwodWludDI1NiBleHRyYSkgaW50ZXJuYWwgewogICAgICAgIHVpbnQyNTYgYW1vdW50ID0gYmFsYW5jZU9mW21zZy5zZW5kZXJdOwoKICAgICAgICBpZiAoYW1vdW50IDw9IDApIHRocm93OyAgICAgICAgICAgICAgICAgLy8gY2Fubm90IHdpdGhkcmF3CiAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdID0gMDsKICAgICAgICBpZiAodG90YWxTdXBwbHkgPiB0b3RhbFN1cHBseSAtIGFtb3VudCkgewogICAgICAgICAgICB0b3RhbFN1cHBseSA9IDA7IC8vIGRvbid0IGxldCBpdCBvdmVyZmxvdwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRvdGFsU3VwcGx5IC09IGFtb3VudDsgLy8gZGVmbGF0ZSB0aGUgc3VwcGx5IQogICAgICAgIH0KICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCAwLCBhbW91bnQpOyAvLyBidXJuIGJhYnkgYnVybgogICAgICAgIGlmICghbXNnLnNlbmRlci5zZW5kKGFtb3VudCArIGV4dHJhKSkgdGhyb3c7IC8vIHJldHVybiBiYWNrIHRoZSBldGhlciBvciByb2xsYmFjayBpZiBmYWlsZWQKICAgIH0KCgogICAgLyoqCiAgICAgKiBGYWxsYmFjayBmdW5jdGlvbiB3aGVuIHNlbmRpbmcgZXRoZXIgdG8gdGhlIGNvbnRyYWN0CiAgICAgKiBHYXMgdXNlOiA2NTA1MQogICAgKi8KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgbm90UGVuZGluZ1dpdGhkcmF3YWwgewogICAgICAgIHVpbnQyNTYgYW1vdW50ID0gbXNnLnZhbHVlOyAgLy8gYW1vdW50IHRoYXQgd2FzIHNlbnQKICAgICAgICBpZiAoYW1vdW50IDw9IDApIHRocm93OyAvLyBuZWVkIHRvIHNlbmQgc29tZSBFVEgKICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gKz0gYW1vdW50OyAvLyBtaW50IG5ldyB0b2tlbnMKICAgICAgICB0b3RhbFN1cHBseSArPSBhbW91bnQ7IC8vIHRyYWNrIHRoZSBzdXBwbHkKICAgICAgICBUcmFuc2ZlcigwLCBtc2cuc2VuZGVyLCBhbW91bnQpOyAvLyBub3RpZnkgb2YgdGhlIGV2ZW50CiAgICAgICAgRGVwb3NpdGVkKG1zZy5zZW5kZXIsIGFtb3VudCk7CiAgICB9Cn0='.
	

]
