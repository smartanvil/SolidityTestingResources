Class {
	#name : #SRT63f28b9f453d66d9d15a124d05399a8120725be3,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT63f28b9f453d66d9d15a124d05399a8120725be3 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsgICAgICAKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4gCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4gCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CgogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgIC8vIHJlcXVpcmUgKF92YWx1ZSA8PSBfYWxsb3dhbmNlKTsKCiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQXBwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKCiAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICByZXF1aXJlKChfdmFsdWUgPT0gMCkgfHwgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKCiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZnlpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9CiAgCiAgICAvKgogICAqIGFwcHJvdmUgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFsbG93ZWRbX3NwZW5kZXJdID09IDAuIFRvIGluY3JlbWVudAogICAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsIAogICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAogICAqLwogIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIAogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIAogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICB1aW50IG9sZFZhbHVlID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl07CiAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgfQogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KfQoKY29udHJhY3QgU21va2VFeGNoYW5nZUNvaW4gaXMgU3RhbmRhcmRUb2tlbiB7CiAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIlNtb2tlIEV4Y2hhbmdlIFRva2VuIjsKICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJTTVgiOwogIHVpbnQyNTYgcHVibGljIGRlY2ltYWxzID0gMTg7ICAKICBhZGRyZXNzIHB1YmxpYyBvd25lckFkZHJlc3M7CiAgICAKICBldmVudCBEaXN0cmlidXRlKGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CiAgCiAgZnVuY3Rpb24gU21va2VFeGNoYW5nZUNvaW4odWludDI1NiBfdG90YWxTdXBwbHksIGFkZHJlc3MgX293bmVyQWRkcmVzcywgYWRkcmVzcyBzbXhUZWFtQWRkcmVzcywgdWludDI1NiBhbGxvY0Nyb3dkc2FsZSwgdWludDI1NiBhbGxvY0FkdkJvdW50aWVzLCB1aW50MjU2IGFsbG9jVGVhbSkgewogICAgb3duZXJBZGRyZXNzID0gX293bmVyQWRkcmVzczsKICAgIHRvdGFsU3VwcGx5ID0gX3RvdGFsU3VwcGx5OwogICAgYmFsYW5jZXNbb3duZXJBZGRyZXNzXSArPSBhbGxvY0Nyb3dkc2FsZTsKICAgIGJhbGFuY2VzW293bmVyQWRkcmVzc10gKz0gYWxsb2NBZHZCb3VudGllczsKICAgIGJhbGFuY2VzW3NteFRlYW1BZGRyZXNzXSArPSBhbGxvY1RlYW07CiAgfQogIAogIGZ1bmN0aW9uIGRpc3RyaWJ1dGUoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKGJhbGFuY2VzW293bmVyQWRkcmVzc10gPj0gX3ZhbHVlKTsKICAgIGJhbGFuY2VzW293bmVyQWRkcmVzc10gPSBiYWxhbmNlc1tvd25lckFkZHJlc3NdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBEaXN0cmlidXRlKF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KfQoKY29udHJhY3QgU21va2VFeGNoYW5nZUNvaW5Dcm93ZHNhbGUgaXMgT3duYWJsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIC8vIFRoZSB0b2tlbiBiZWluZyBzb2xkCiAgU21va2VFeGNoYW5nZUNvaW4gcHVibGljIHRva2VuOwogIAogIC8vIHN0YXJ0IGFuZCBlbmQgdGltZXN0YW1wcyB3aGVyZSBpbnZlc3RtZW50cyBhcmUgYWxsb3dlZCAoYm90aCBpbmNsdXNpdmUpCiAgdWludDI1NiBwdWJsaWMgc3RhcnRUaW1lOwogIHVpbnQyNTYgcHVibGljIGVuZFRpbWU7CiAgdWludDI1NiBwdWJsaWMgcHJpdmF0ZVN0YXJ0VGltZTsKICB1aW50MjU2IHB1YmxpYyBwcml2YXRlRW5kVGltZTsKCiAgLy8gYWRkcmVzcyB3aGVyZSBmdW5kcyBhcmUgY29sbGVjdGVkCiAgYWRkcmVzcyBwdWJsaWMgd2FsbGV0OwoKICAvLyBhbW91bnQgb2YgcmFpc2VkIG1vbmV5IGluIHdlaQogIHVpbnQyNTYgcHVibGljIHdlaVJhaXNlZDsKICAKICB1aW50IHByaXZhdGUgY29uc3RhbnQgREVDSU1BTFMgPSAxMDAwMDAwMDAwMDAwMDAwMDAwOwogIC8vUFJJQ0VTCiAgdWludCBwdWJsaWMgY29uc3RhbnQgVE9UQUxfU1VQUExZID0gMjg1MDAwMDAgKiBERUNJTUFMUzsgLy8yOC41IG1pbGxpb25zCiAgdWludCBwdWJsaWMgY29uc3RhbnQgQkFTSUNfUkFURSA9IDMwMDsgLy8zMDAgdG9rZW5zIHBlciAxIGV0aAogIHVpbnQgcHVibGljIGNvbnN0YW50IFBSSUNFX1NUQU5EQVJEICAgID0gQkFTSUNfUkFURSAqIERFQ0lNQUxTOyAKICB1aW50IHB1YmxpYyBjb25zdGFudCBQUklDRV9QUkVCVVkgPSBQUklDRV9TVEFOREFSRCAqIDE1MC8xMDA7CiAgdWludCBwdWJsaWMgY29uc3RhbnQgUFJJQ0VfU1RBR0VfT05FICAgPSBQUklDRV9TVEFOREFSRCAqIDEyNS8xMDA7CiAgdWludCBwdWJsaWMgY29uc3RhbnQgUFJJQ0VfU1RBR0VfVFdPICAgPSBQUklDRV9TVEFOREFSRCAqIDExNS8xMDA7CiAgdWludCBwdWJsaWMgY29uc3RhbnQgUFJJQ0VfU1RBR0VfVEhSRUUgICA9IFBSSUNFX1NUQU5EQVJEICogMTA3LzEwMDsKICB1aW50IHB1YmxpYyBjb25zdGFudCBQUklDRV9TVEFHRV9GT1VSID0gUFJJQ0VfU1RBTkRBUkQ7CiAgCiAgdWludCBwdWJsaWMgY29uc3RhbnQgUFJJQ0VfUFJFQlVZX0JPTlVTID0gUFJJQ0VfU1RBTkRBUkQgKiAxNjUvMTAwOwogIHVpbnQgcHVibGljIGNvbnN0YW50IFBSSUNFX1NUQUdFX09ORV9CT05VUyA9IFBSSUNFX1NUQU5EQVJEICogMTQ1LzEwMDsKICB1aW50IHB1YmxpYyBjb25zdGFudCBQUklDRV9TVEFHRV9UV09fQk9OVVMgPSBQUklDRV9TVEFOREFSRCAqIDEyNS8xMDA7CiAgdWludCBwdWJsaWMgY29uc3RhbnQgUFJJQ0VfU1RBR0VfVEhSRUVfQk9OVVMgPSBQUklDRV9TVEFOREFSRCAqIDExNS8xMDA7CiAgdWludCBwdWJsaWMgY29uc3RhbnQgUFJJQ0VfU1RBR0VfRk9VUl9CT05VUyA9IFBSSUNFX1NUQU5EQVJEOwogIAogIC8vdWludCBwdWJsaWMgY29uc3RhbnQgUFJJQ0VfV0hJVEVMSVNUX0JPTlVTID0gUFJJQ0VfU1RBTkRBUkQgKiAxNjUvMTAwOwogIAogIC8vVElNRSBMSU1JVFMKICB1aW50IHB1YmxpYyBjb25zdGFudCBTVEFHRV9PTkVfVElNRV9FTkQgPSAxIHdlZWtzOwogIHVpbnQgcHVibGljIGNvbnN0YW50IFNUQUdFX1RXT19USU1FX0VORCA9IDIgd2Vla3M7CiAgdWludCBwdWJsaWMgY29uc3RhbnQgU1RBR0VfVEhSRUVfVElNRV9FTkQgPSAzIHdlZWtzOwogIHVpbnQgcHVibGljIGNvbnN0YW50IFNUQUdFX0ZPVVJfVElNRV9FTkQgPSA0IHdlZWtzOwogIAogIHVpbnQgcHVibGljIGNvbnN0YW50IEFMTE9DX0NST1dEU0FMRSA9IFRPVEFMX1NVUFBMWSAqIDc1LzEwMDsKICB1aW50IHB1YmxpYyBjb25zdGFudCBBTExPQ19URUFNID0gVE9UQUxfU1VQUExZICogMTUvMTAwOyAgCiAgdWludCBwdWJsaWMgY29uc3RhbnQgQUxMT0NfQURWSVNPUlNfQk9VTlRJRVMgPSBUT1RBTF9TVVBQTFkgKiAxMC8xMDA7CiAgCiAgdWludDI1NiBwdWJsaWMgc214U29sZCA9IDA7CiAgCiAgYWRkcmVzcyBwdWJsaWMgb3duZXJBZGRyZXNzOwogIGFkZHJlc3MgcHVibGljIHNteFRlYW1BZGRyZXNzOwogIAogIC8vYWN0aXZlID0gZmFsc2Uvbm90IGFjdGl2ZSA9IHRydWUKICBib29sIHB1YmxpYyBoYWx0ZWQ7CiAgCiAgLy9pbiB3ZWkKICB1aW50IHB1YmxpYyBjYXA7IAogIAogIC8vaW4gd2VpLCBwcmVidXkgaGFyZGNhcAogIHVpbnQgcHVibGljIHByaXZhdGVDYXA7CiAgCiAgdWludDI1NiBwdWJsaWMgYm9udXNUaHJlc2hvbGRXZWk7CiAgCiAgLyoqCiAgICogZXZlbnQgZm9yIHRva2VuIHB1cmNoYXNlIGxvZ2dpbmcKICAgKiBAcGFyYW0gcHVyY2hhc2VyIHdobyBwYWlkIGZvciB0aGUgdG9rZW5zCiAgICogQHBhcmFtIGJlbmVmaWNpYXJ5IHdobyBnb3QgdGhlIHRva2VucwogICAqIEBwYXJhbSB2YWx1ZSB3ZWlzIHBhaWQgZm9yIHB1cmNoYXNlCiAgICogQHBhcmFtIGFtb3VudCBhbW91bnQgb2YgdG9rZW5zIHB1cmNoYXNlZAogICAqLyAKICBldmVudCBUb2tlblB1cmNoYXNlKGFkZHJlc3MgaW5kZXhlZCBwdXJjaGFzZXIsIGFkZHJlc3MgaW5kZXhlZCBiZW5lZmljaWFyeSwgdWludDI1NiB2YWx1ZSwgdWludDI1NiBhbW91bnQpOwogIAogIC8qKgogICogTW9kaWZpZXIgdG8gcnVuIGZ1bmN0aW9uIG9ubHkgaWYgY29udHJhY3QgaXMgYWN0aXZlIChub3QgaGFsdGVkKQogICovCiAgbW9kaWZpZXIgaXNOb3RIYWx0ZWQoKSB7CiAgICByZXF1aXJlKCFoYWx0ZWQpOwogICAgXzsKICB9CiAgCiAgLyoqCiAgKiBDb25zdHJ1Y3RvciBmb3IgU21va2VFeGNoYWdlQ29pbkNyb3dkc2FsZQogICogQHBhcmFtIF9wcml2YXRlU3RhcnRUaW1lIHN0YXJ0IHRpbWUgZm9yIHByZXNhbGUKICAqIEBwYXJhbSBfc3RhcnRUaW1lIHN0YXJ0IHRpbWUgZm9yIHB1YmxpYyBzYWxlCiAgKiBAcGFyYW0gX2V0aFdhbGxldCBhbGwgaW5jb21pbmcgZXRoIHRyYW5zZmVyZWQgaGVyZS4gVXNlIG11bHRpc2lnIHdhbGxldAogICogQHBhcmFtIF9wcml2YXRlV2VpQ2FwIGhhcmQgY2FwIGZvciBwcmVzYWxlCiAgKiBAcGFyYW0gX3dlaUNhcCBoYXJkIGNhcCBpbiB3ZWkgZm9yIHRoZSBjcm93ZHNhbGUKICAqIEBwYXJhbSBfYm9udXNUaHJlc2hvbGRXZWkgaW4gd2VpLiBNaW5pbXVtIGFtb3VudCBvZiB3ZWkgcmVxdWlyZWQgZm9yIGJvbnVzCiAgKiBAcGFyYW0gX3NteFRlYW1BZGRyZXNzIHRlYW0gYWRkcmVzcyAKICAqLwogIGZ1bmN0aW9uIFNtb2tlRXhjaGFuZ2VDb2luQ3Jvd2RzYWxlKHVpbnQyNTYgX3ByaXZhdGVTdGFydFRpbWUsIHVpbnQyNTYgX3N0YXJ0VGltZSwgYWRkcmVzcyBfZXRoV2FsbGV0LCB1aW50MjU2IF9wcml2YXRlV2VpQ2FwLCB1aW50MjU2IF93ZWlDYXAsIHVpbnQyNTYgX2JvbnVzVGhyZXNob2xkV2VpLCBhZGRyZXNzIF9zbXhUZWFtQWRkcmVzcykgewogICAgcmVxdWlyZShfcHJpdmF0ZVN0YXJ0VGltZSA+PSBub3cpOwogICAgcmVxdWlyZShfZXRoV2FsbGV0ICE9IDB4MCk7ICAgIAogICAgcmVxdWlyZShfc214VGVhbUFkZHJlc3MgIT0gMHgwKTsgICAgCiAgICAKICAgIHByaXZhdGVTdGFydFRpbWUgPSBfcHJpdmF0ZVN0YXJ0VGltZTsKICAgIC8vcHJlc2FsZSAxMCBkYXlzCiAgICBwcml2YXRlRW5kVGltZSA9IHByaXZhdGVTdGFydFRpbWUgKyAxMCBkYXlzOyAgICAKICAgIHN0YXJ0VGltZSA9IF9zdGFydFRpbWU7CiAgICAKICAgIC8vSUNPIHN0YXJ0IHRpbWUgYWZ0ZXIgcHJlc2FsZSBlbmQKICAgIHJlcXVpcmUoX3N0YXJ0VGltZSA+PSBwcml2YXRlRW5kVGltZSk7CiAgICAKICAgIGVuZFRpbWUgPSBfc3RhcnRUaW1lICsgU1RBR0VfRk9VUl9USU1FX0VORDsKICAgIAogICAgd2FsbGV0ID0gX2V0aFdhbGxldDsgICAKICAgIHNteFRlYW1BZGRyZXNzID0gX3NteFRlYW1BZGRyZXNzOwogICAgb3duZXJBZGRyZXNzID0gbXNnLnNlbmRlcjsKICAgIAogICAgY2FwID0gX3dlaUNhcDsgICAgCiAgICBwcml2YXRlQ2FwID0gX3ByaXZhdGVXZWlDYXA7CiAgICBib251c1RocmVzaG9sZFdlaSA9IF9ib251c1RocmVzaG9sZFdlaTsKICAgICAgICAgICAgICAgICAKICAgIHRva2VuID0gbmV3IFNtb2tlRXhjaGFuZ2VDb2luKFRPVEFMX1NVUFBMWSwgb3duZXJBZGRyZXNzLCBzbXhUZWFtQWRkcmVzcywgQUxMT0NfQ1JPV0RTQUxFLCBBTExPQ19BRFZJU09SU19CT1VOVElFUywgQUxMT0NfVEVBTSk7CiAgfQogIAogIC8vIGZhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGJ1eSB0b2tlbnMKICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsKICAgIGJ1eVRva2Vucyhtc2cuc2VuZGVyKTsKICB9CiAgCiAgLy8gQHJldHVybiB0cnVlIGlmIGludmVzdG9ycyBjYW4gYnV5IGF0IHRoZSBtb21lbnQKICBmdW5jdGlvbiB2YWxpZFB1cmNoYXNlKCkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgYm9vbCBwcml2YXRlUGVyaW9kID0gbm93ID49IHByaXZhdGVTdGFydFRpbWUgJiYgbm93IDwgcHJpdmF0ZUVuZFRpbWU7CiAgICBib29sIHdpdGhpblBlcmlvZCA9IChub3cgPj0gc3RhcnRUaW1lICYmIG5vdyA8PSBlbmRUaW1lKSB8fCAocHJpdmF0ZVBlcmlvZCk7CiAgICBib29sIG5vblplcm9QdXJjaGFzZSA9IChtc2cudmFsdWUgIT0gMCk7CiAgICAvL2NhcCBkZXBlbmRzIG9uIHN0YWdlLgogICAgYm9vbCB3aXRoaW5DYXAgPSBwcml2YXRlUGVyaW9kID8gKHdlaVJhaXNlZC5hZGQobXNnLnZhbHVlKSA8PSBwcml2YXRlQ2FwKSA6ICh3ZWlSYWlzZWQuYWRkKG1zZy52YWx1ZSkgPD0gY2FwKTsKICAgIC8vIGNoZWNrIGlmIHRoZXJlIGFyZSBzbXggdG9rZW4gbGVmdAogICAgYm9vbCBzbXhBdmFpbGFibGUgPSAoQUxMT0NfQ1JPV0RTQUxFIC0gc214U29sZCA+IDApOyAKICAgIHJldHVybiB3aXRoaW5QZXJpb2QgJiYgbm9uWmVyb1B1cmNoYXNlICYmIHdpdGhpbkNhcCAmJiBzbXhBdmFpbGFibGU7CiAgICAvL3JldHVybiB0cnVlOwogIH0KCiAgLy8gQHJldHVybiB0cnVlIGlmIGNyb3dkc2FsZSBldmVudCBoYXMgZW5kZWQKICBmdW5jdGlvbiBoYXNFbmRlZCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICBib29sIGNhcFJlYWNoZWQgPSB3ZWlSYWlzZWQgPj0gY2FwOwogICAgYm9vbCB0b2tlblNvbGQgPSBBTExPQ19DUk9XRFNBTEUgLSBzbXhTb2xkID09IDA7CiAgICBib29sIHRpbWVFbmRlZCA9IG5vdyA+IGVuZFRpbWU7CiAgICByZXR1cm4gdGltZUVuZGVkIHx8IGNhcFJlYWNoZWQgfHwgdG9rZW5Tb2xkOwogIH0gIAogIAogIC8qKgogICogTWFpbiBmdW5jdGlvbiBmb3IgYnV5aW5nIHRva2VucwogICogQHBhcmFtIGJlbmVmaWNpYXJ5IHB1cmNoYXNlZCB0b2tlbnMgZ28gdG8gdGhpcyBhZGRyZXNzCiAgKi8KICBmdW5jdGlvbiBidXlUb2tlbnMoYWRkcmVzcyBiZW5lZmljaWFyeSkgcGF5YWJsZSBpc05vdEhhbHRlZCB7CiAgICByZXF1aXJlKGJlbmVmaWNpYXJ5ICE9IDB4MCk7CiAgICByZXF1aXJlKHZhbGlkUHVyY2hhc2UoKSk7CgogICAgdWludDI1NiB3ZWlBbW91bnQgPSBtc2cudmFsdWU7CgogICAgLy8gY2FsY3VsYXRlIHRva2VuIGFtb3VudCB0byBiZSBkaXN0cmlidXRlZAogICAgdWludDI1NiB0b2tlbnMgPSBTYWZlTWF0aC5kaXYoU2FmZU1hdGgubXVsKHdlaUFtb3VudCwgZ2V0Q3VycmVudFJhdGUod2VpQW1vdW50KSksIDEgZXRoZXIpOwogICAgLy9yZXF1aXJlIHRoYXQgdGhlcmUgYXJlIG1vcmUgb3IgZXF1YWwgdG9rZW5zIGF2YWlsYWJsZSBmb3Igc2VsbAogICAgcmVxdWlyZShBTExPQ19DUk9XRFNBTEUgLSBzbXhTb2xkID49IHRva2Vucyk7CgogICAgLy91cGRhdGUgdG90YWwgd2VpUmFpc2VkCiAgICB3ZWlSYWlzZWQgPSB3ZWlSYWlzZWQuYWRkKHdlaUFtb3VudCk7CiAgICAvL3VwZGF0ZWQgdG90YWwgc214U29sZAogICAgc214U29sZCA9IHNteFNvbGQuYWRkKHRva2Vucyk7CiAgICAKICAgIC8vYWRkIHRva2VuIHRvIGJlbmVmaWNpYXJ5IGFuZCBzdWJ0cmFjdCBmcm9tIG93bmVyQWRkcmVzcyBiYWxhbmNlCiAgICB0b2tlbi5kaXN0cmlidXRlKGJlbmVmaWNpYXJ5LCB0b2tlbnMpOwogICAgVG9rZW5QdXJjaGFzZShtc2cuc2VuZGVyLCBiZW5lZmljaWFyeSwgd2VpQW1vdW50LCB0b2tlbnMpOwoKICAgIC8vZm9yd2FyZCBldGggcmVjZWl2ZWQgdG8gd2FsbGV0RXRoCiAgICBmb3J3YXJkRnVuZHMoKTsKICB9CiAgCiAgLy8gc2VuZCBldGhlciB0byB0aGUgZnVuZCBjb2xsZWN0aW9uIHdhbGxldCAgCiAgZnVuY3Rpb24gZm9yd2FyZEZ1bmRzKCkgaW50ZXJuYWwgewogICAgd2FsbGV0LnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgfQogIAogIC8qKgogICogR2V0IHJhdGUuIERlcGVuZHMgb24gY3VycmVudCB0aW1lCiAgKgogICovCiAgZnVuY3Rpb24gZ2V0Q3VycmVudFJhdGUodWludDI1NiBfd2VpQW1vdW50KSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7ICAKICAgICAgCiAgICAgIGJvb2wgaGFzQm9udXMgPSBfd2VpQW1vdW50ID49IGJvbnVzVGhyZXNob2xkV2VpOwogIAogICAgICBpZiAobm93IDwgc3RhcnRUaW1lKSB7CiAgICAgICAgcmV0dXJuIGhhc0JvbnVzID8gUFJJQ0VfUFJFQlVZX0JPTlVTIDogUFJJQ0VfUFJFQlVZOwogICAgICB9CiAgICAgIHVpbnQgZGVsdGEgPSBTYWZlTWF0aC5zdWIobm93LCBzdGFydFRpbWUpOwoKICAgICAgLy8zK3dlZWtzIGZyb20gc3RhcnQKICAgICAgaWYgKGRlbHRhID4gU1RBR0VfVEhSRUVfVElNRV9FTkQpIHsKICAgICAgICByZXR1cm4gaGFzQm9udXMgPyBQUklDRV9TVEFHRV9GT1VSX0JPTlVTIDogUFJJQ0VfU1RBR0VfRk9VUjsKICAgICAgfQogICAgICAvLzIrd2Vla3MgZnJvbSBzdGFydAogICAgICBpZiAoZGVsdGEgPiBTVEFHRV9UV09fVElNRV9FTkQpIHsKICAgICAgICByZXR1cm4gaGFzQm9udXMgPyBQUklDRV9TVEFHRV9USFJFRV9CT05VUyA6IFBSSUNFX1NUQUdFX1RIUkVFOwogICAgICB9CiAgICAgIC8vMSt3ZWVrIGZyb20gc3RhcnQKICAgICAgaWYgKGRlbHRhID4gU1RBR0VfT05FX1RJTUVfRU5EKSB7CiAgICAgICAgcmV0dXJuIGhhc0JvbnVzID8gUFJJQ0VfU1RBR0VfVFdPX0JPTlVTIDogUFJJQ0VfU1RBR0VfVFdPOwogICAgICB9CgogICAgICAvL2xlc3MgdGhhbiAxIHdlZWsgZnJvbSBzdGFydAogICAgICByZXR1cm4gaGFzQm9udXMgPyBQUklDRV9TVEFHRV9PTkVfQk9OVVMgOiBQUklDRV9TVEFHRV9PTkU7CiAgfQogIAogIC8qKgogICogRW5hYmxlL2Rpc2FibGUgaGFsdGVkCiAgKi8KICBmdW5jdGlvbiB0b2dnbGVIYWx0KGJvb2wgX2hhbHRlZCkgb25seU93bmVyIHsKICAgIGhhbHRlZCA9IF9oYWx0ZWQ7CiAgfQp9'.
	

]
