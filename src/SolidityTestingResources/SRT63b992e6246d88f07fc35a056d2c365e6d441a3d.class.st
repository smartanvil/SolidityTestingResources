Class {
	#name : #SRT63b992e6246d88f07fc35a056d2c365e6d441a3d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT63b992e6246d88f07fc35a056d2c365e6d441a3d >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9Cgp9Cgpjb250cmFjdCBQYXVzYWJsZSBpcyBPd25hYmxlIHsKICBldmVudCBQYXVzZSgpOwogIGV2ZW50IFVucGF1c2UoKTsKCiAgYm9vbCBwdWJsaWMgcGF1c2VkID0gZmFsc2U7CgoKICAvKioKICAgKiBAZGV2IG1vZGlmaWVyIHRvIGFsbG93IGFjdGlvbnMgb25seSB3aGVuIHRoZSBjb250cmFjdCBJUyBwYXVzZWQKICAgKi8KICBtb2RpZmllciB3aGVuTm90UGF1c2VkKCkgewogICAgcmVxdWlyZSghcGF1c2VkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IG1vZGlmaWVyIHRvIGFsbG93IGFjdGlvbnMgb25seSB3aGVuIHRoZSBjb250cmFjdCBJUyBOT1QgcGF1c2VkCiAgICovCiAgbW9kaWZpZXIgd2hlblBhdXNlZCB7CiAgICByZXF1aXJlKHBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHBhdXNlLCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gcGF1c2UoKSBvbmx5T3duZXIgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sKSB7CiAgICBwYXVzZWQgPSB0cnVlOwogICAgUGF1c2UoKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHVucGF1c2UsIHJldHVybnMgdG8gbm9ybWFsIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gdW5wYXVzZSgpIG9ubHlPd25lciB3aGVuUGF1c2VkIHJldHVybnMgKGJvb2wpIHsKICAgIHBhdXNlZCA9IGZhbHNlOwogICAgVW5wYXVzZSgpOwogICAgcmV0dXJuIHRydWU7CiAgfQp9Cgpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9Cgpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4gCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgIC8vIHJlcXVpcmUgKF92YWx1ZSA8PSBfYWxsb3dhbmNlKTsKCiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCn0KCmNvbnRyYWN0IFBhdXNhYmxlVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgUGF1c2FibGUgewoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHdoZW5Ob3RQYXVzZWQgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHdoZW5Ob3RQYXVzZWQgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpOwogIH0KfQoKY29udHJhY3QgU29tYUljbyBpcyBQYXVzYWJsZVRva2VuIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJTb21hIENvbW11bml0eSBUb2tlbiI7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJTQ1QiOwogICAgdWludDggcHVibGljIGRlY2ltYWxzID0gMTg7CgogICAgYWRkcmVzcyBwdWJsaWMgbGlxdWlkaXR5UmVzZXJ2ZVdhbGxldDsgLy8gYWRkcmVzcyB3aGVyZSBsaXF1aWRpdHkgcmVzZXJ2ZSB0b2tlbnMgd2lsbCBiZSBkZWxpdmVyZWQKICAgIGFkZHJlc3MgcHVibGljIHdhbGxldDsgLy8gYWRkcmVzcyB3aGVyZSBmdW5kcyBhcmUgY29sbGVjdGVkCiAgICBhZGRyZXNzIHB1YmxpYyBtYXJrZXRpbmdXYWxsZXQ7IC8vIGFkZHJlc3Mgd2hpY2ggY29udHJvbHMgbWFya2V0aW5nIHRva2VuIHBvb2wKCiAgICB1aW50MjU2IHB1YmxpYyBpY29TdGFydFRpbWVzdGFtcDsgLy8gSUNPIHN0YXJ0IHRpbWVzdGFtcAogICAgdWludDI1NiBwdWJsaWMgaWNvRW5kVGltZXN0YW1wOyAvLyBJQ08gZW5kIHRpbWVzdGFtcAoKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsUmFpc2VkID0gMDsgLy8gdG90YWwgYW1vdW50IG9mIG1vbmV5IHJhaXNlZCBpbiB3ZWkKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OyAvLyB0b3RhbCB0b2tlbiBzdXBwbHkgd2l0aCBkZWNpbWFscyBwcmVjaXNvaW4KICAgIHVpbnQyNTYgcHVibGljIG1hcmtldGluZ1Bvb2w7IC8vIG1hcmtldGluZyBwb29sIHdpdGggZGVjaW1hbHMgcHJlY2lzb2luCiAgICB1aW50MjU2IHB1YmxpYyB0b2tlbnNTb2xkID0gMDsgLy8gdG90YWwgbnVtYmVyIG9mIHRva2VucyBzb2xkCgogICAgYm9vbCBwdWJsaWMgaGFsdGVkID0gZmFsc2U7IC8vdGhlIG93bmVyIGFkZHJlc3MgY2FuIHNldCB0aGlzIHRvIHRydWUgdG8gaGFsdCB0aGUgY3Jvd2RzYWxlIGR1ZSB0byBlbWVyZ2VuY3kKCiAgICB1aW50MjU2IHB1YmxpYyBpY29FdGhlck1pbkNhcDsgLy8gc2hvdWxkIGJlIHNwZWNpZmllZCBhczogODAwMCAqIDEgZXRoZXIKICAgIHVpbnQyNTYgcHVibGljIGljb0V0aGVyTWF4Q2FwOyAvLyBzaG91bGQgYmUgc3BlY2lmaWVkIGFzOiAxMjAwMDAgKiAxIGV0aGVyCiAgICB1aW50MjU2IHB1YmxpYyByYXRlID0gNDUwOyAvLyBzdGFuZGFyZCBTQ1QvRVRIIHJhdGUKCiAgICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBidXJuZXIsIHVpbnQyNTYgdmFsdWUpOwoKICAgIGZ1bmN0aW9uIFNvbWFJY28oCiAgICAgICAgYWRkcmVzcyBuZXdXYWxsZXQsCiAgICAgICAgYWRkcmVzcyBuZXdNYXJrZXRpbmdXYWxsZXQsCiAgICAgICAgYWRkcmVzcyBuZXdMaXF1aWRpdHlSZXNlcnZlV2FsbGV0LAogICAgICAgIHVpbnQyNTYgbmV3SWNvRXRoZXJNaW5DYXAsCiAgICAgICAgdWludDI1NiBuZXdJY29FdGhlck1heENhcCwKICAgICAgICB1aW50MjU2IHRvdGFsUHJlc2FsZVJhaXNlZAogICAgKSB7CiAgICAgICAgcmVxdWlyZShuZXdXYWxsZXQgIT0gMHgwKTsKICAgICAgICByZXF1aXJlKG5ld01hcmtldGluZ1dhbGxldCAhPSAweDApOwogICAgICAgIHJlcXVpcmUobmV3TGlxdWlkaXR5UmVzZXJ2ZVdhbGxldCAhPSAweDApOwogICAgICAgIHJlcXVpcmUobmV3SWNvRXRoZXJNaW5DYXAgPD0gbmV3SWNvRXRoZXJNYXhDYXApOwogICAgICAgIHJlcXVpcmUobmV3SWNvRXRoZXJNaW5DYXAgPiAwKTsKICAgICAgICByZXF1aXJlKG5ld0ljb0V0aGVyTWF4Q2FwID4gMCk7CgogICAgICAgIHBhdXNlKCk7CgogICAgICAgIGljb0V0aGVyTWluQ2FwID0gbmV3SWNvRXRoZXJNaW5DYXA7CiAgICAgICAgaWNvRXRoZXJNYXhDYXAgPSBuZXdJY29FdGhlck1heENhcDsKICAgICAgICB3YWxsZXQgPSBuZXdXYWxsZXQ7CiAgICAgICAgbWFya2V0aW5nV2FsbGV0ID0gbmV3TWFya2V0aW5nV2FsbGV0OwogICAgICAgIGxpcXVpZGl0eVJlc2VydmVXYWxsZXQgPSBuZXdMaXF1aWRpdHlSZXNlcnZlV2FsbGV0OwoKICAgICAgICAvLyBjYWxjdWxhdGUgbWFya2V0aW5nUG9vbCBhbmQgdG90YWxTdXBwbHkgYmFzZWQgb24gdGhlIG1heCBjYXA6CiAgICAgICAgLy8gdG90YWxTdXBwbHkgPSByYXRlICogaWNvRXRoZXJNYXhDYXAgKyBtYXJrZXRpbmdQb29sCiAgICAgICAgLy8gbWFya2V0aW5nUG9vbCA9IDEwJSAqIHRvdGFsU3VwcGx5CiAgICAgICAgLy8gaGVuY2U6CiAgICAgICAgLy8gdG90YWxTdXBwbHkgPSAxMC85ICogcmF0ZSAqIGljb0V0aGVyTWF4Q2FwCiAgICAgICAgdG90YWxTdXBwbHkgPSBpY29FdGhlck1heENhcC5tdWwocmF0ZSkubXVsKDEwKS5kaXYoOSk7CiAgICAgICAgbWFya2V0aW5nUG9vbCA9IHRvdGFsU3VwcGx5LmRpdigxMCk7CgogICAgICAgIC8vIGFjY291bnQgZm9yIHRoZSBmdW5kcyByYWlzZWQgZHVyaW5nIHRoZSBwcmVzYWxlCiAgICAgICAgdG90YWxSYWlzZWQgPSB0b3RhbFJhaXNlZC5hZGQodG90YWxQcmVzYWxlUmFpc2VkKTsKCiAgICAgICAgLy8gYXNzaWduIG1hcmtldGluZyBwb29sIHRvIG1hcmtldGluZyB3YWxsZXQKICAgICAgICBhc3NpZ25Ub2tlbnMobWFya2V0aW5nV2FsbGV0LCBtYXJrZXRpbmdQb29sKTsKICAgIH0KCiAgICAvLy8gZmFsbGJhY2sgZnVuY3Rpb24gdG8gYnV5IHRva2VucwogICAgZnVuY3Rpb24gKCkgbm9uSGFsdGVkIG5vblplcm9QdXJjaGFzZSBhY2NlcHRzRnVuZHMgcGF5YWJsZSB7CiAgICAgICAgYWRkcmVzcyByZWNpcGllbnQgPSBtc2cuc2VuZGVyOwogICAgICAgIHVpbnQyNTYgd2VpQW1vdW50ID0gbXNnLnZhbHVlOwoKICAgICAgICB1aW50MjU2IGFtb3VudCA9IHdlaUFtb3VudC5tdWwocmF0ZSk7CgogICAgICAgIGFzc2lnblRva2VucyhyZWNpcGllbnQsIGFtb3VudCk7CiAgICAgICAgdG90YWxSYWlzZWQgPSB0b3RhbFJhaXNlZC5hZGQod2VpQW1vdW50KTsKCiAgICAgICAgZm9yd2FyZEZ1bmRzVG9XYWxsZXQoKTsKICAgIH0KCiAgICBtb2RpZmllciBhY2NlcHRzRnVuZHMoKSB7CiAgICAgICAgYm9vbCBoYXNTdGFydGVkID0gaWNvU3RhcnRUaW1lc3RhbXAgIT0gMCAmJiBub3cgPj0gaWNvU3RhcnRUaW1lc3RhbXA7CiAgICAgICAgcmVxdWlyZShoYXNTdGFydGVkKTsKCiAgICAgICAgLy8gSUNPIGlzIGNvbnRpbnVlZCBvdmVyIHRoZSBlbmQgZGF0ZSB1bnRpbCB0aGUgbWluIGNhcCBpcyByZWFjaGVkCiAgICAgICAgYm9vbCBpc0ljb0luUHJvZ3Jlc3MgPSBub3cgPD0gaWNvRW5kVGltZXN0YW1wCiAgICAgICAgICAgICAgICB8fCAoaWNvRW5kVGltZXN0YW1wID09IDApIC8vIGJlZm9yZSBkYXRlcyBhcmUgc2V0CiAgICAgICAgICAgICAgICB8fCB0b3RhbFJhaXNlZCA8IGljb0V0aGVyTWluQ2FwOwogICAgICAgIHJlcXVpcmUoaXNJY29JblByb2dyZXNzKTsKCiAgICAgICAgYm9vbCBpc0JlbG93TWF4Q2FwID0gdG90YWxSYWlzZWQgPCBpY29FdGhlck1heENhcDsKICAgICAgICByZXF1aXJlKGlzQmVsb3dNYXhDYXApOwoKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG5vbkhhbHRlZCgpIHsKICAgICAgICByZXF1aXJlKCFoYWx0ZWQpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgbm9uWmVyb1B1cmNoYXNlKCkgewogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID4gMCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBmb3J3YXJkRnVuZHNUb1dhbGxldCgpIGludGVybmFsIHsKICAgICAgICB3YWxsZXQudHJhbnNmZXIobXNnLnZhbHVlKTsgLy8gaW1tZWRpYXRlbHkgc2VuZCBFdGhlciB0byB3YWxsZXQgYWRkcmVzcywgcHJvcGFnYXRlcyBleGNlcHRpb24gaWYgZXhlY3V0aW9uIGZhaWxzCiAgICB9CgogICAgZnVuY3Rpb24gYXNzaWduVG9rZW5zKGFkZHJlc3MgcmVjaXBpZW50LCB1aW50MjU2IGFtb3VudCkgaW50ZXJuYWwgewogICAgICAgIGJhbGFuY2VzW3JlY2lwaWVudF0gPSBiYWxhbmNlc1tyZWNpcGllbnRdLmFkZChhbW91bnQpOwogICAgICAgIHRva2Vuc1NvbGQgPSB0b2tlbnNTb2xkLmFkZChhbW91bnQpOwoKICAgICAgICAvLyBzYW5pdHkgc2FmZWd1YXJkCiAgICAgICAgaWYgKHRva2Vuc1NvbGQgPiB0b3RhbFN1cHBseSkgewogICAgICAgICAgICAvLyB0aGVyZSBpcyBhIGNoYW5jZSB0aGF0IHRva2VucyBhcmUgc29sZCBvdmVyIHRoZSBzdXBwbHk6CiAgICAgICAgICAgIC8vIGEpIHdoZW46IHRvdGFsIHByZXNhbGUgYm9udXNlcyA+IChtYXhDYXAgLSB0b3RhbFJhaXNlZCkgKiByYXRlCiAgICAgICAgICAgIC8vIGIpIHdoZW46IGxhc3QgcGF5bWVudCBnb2VzIG92ZXIgdGhlIG1heENhcAogICAgICAgICAgICB0b3RhbFN1cHBseSA9IHRva2Vuc1NvbGQ7CiAgICAgICAgfQoKICAgICAgICBUcmFuc2ZlcigweDAsIHJlY2lwaWVudCwgYW1vdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRJY29EYXRlcyh1aW50MjU2IG5ld0ljb1N0YXJ0VGltZXN0YW1wLCB1aW50MjU2IG5ld0ljb0VuZFRpbWVzdGFtcCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShuZXdJY29TdGFydFRpbWVzdGFtcCA8IG5ld0ljb0VuZFRpbWVzdGFtcCk7CiAgICAgICAgcmVxdWlyZSghaXNJY29GaW5pc2hlZCgpKTsKICAgICAgICBpY29TdGFydFRpbWVzdGFtcCA9IG5ld0ljb1N0YXJ0VGltZXN0YW1wOwogICAgICAgIGljb0VuZFRpbWVzdGFtcCA9IG5ld0ljb0VuZFRpbWVzdGFtcDsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRSYXRlKHVpbnQyNTYgX3JhdGUpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoIWlzSWNvRmluaXNoZWQoKSk7CiAgICAgICAgcmF0ZSA9IF9yYXRlOwogICAgfQoKICAgIGZ1bmN0aW9uIGhhbHRGdW5kcmFpc2luZygpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIGhhbHRlZCA9IHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gdW5oYWx0RnVuZHJhaXNpbmcoKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBoYWx0ZWQgPSBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbiBpc0ljb0ZpbmlzaGVkKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wgaWNvRmluaXNoZWQpIHsKICAgICAgICByZXR1cm4gKHRvdGFsUmFpc2VkID49IGljb0V0aGVyTWluQ2FwICYmIGljb0VuZFRpbWVzdGFtcCAhPSAwICYmIG5vdyA+IGljb0VuZFRpbWVzdGFtcCkgfHwKICAgICAgICAgICAgICAgKHRvdGFsUmFpc2VkID49IGljb0V0aGVyTWF4Q2FwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBwcmVwYXJlTGlxdWlkaXR5UmVzZXJ2ZSgpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoaXNJY29GaW5pc2hlZCgpKTsKICAgICAgICAKICAgICAgICB1aW50MjU2IHVuc29sZFRva2VucyA9IHRvdGFsU3VwcGx5LnN1Yih0b2tlbnNTb2xkKTsKICAgICAgICAvLyBtYWtlIHN1cmUgdGhlcmUgYXJlIGFueSB1bnNvbGQgdG9rZW5zIHRvIGJlIGFzc2lnbmVkCiAgICAgICAgcmVxdWlyZSh1bnNvbGRUb2tlbnMgPiAwKTsKCiAgICAgICAgLy8gdHJ5IHRvIGFsbG9jYXRlIHVwIHRvIDEwJSBvZiB0b3RhbCBzb2xkIHRva2VucyB0byBMaXF1aWRpdHkgUmVzZXJ2ZSBmdW5kOgogICAgICAgIHVpbnQyNTYgbGlxdWlkaXR5UmVzZXJ2ZVRva2VucyA9IHRva2Vuc1NvbGQuZGl2KDEwKTsKICAgICAgICBpZiAobGlxdWlkaXR5UmVzZXJ2ZVRva2VucyA+IHVuc29sZFRva2VucykgewogICAgICAgICAgICBsaXF1aWRpdHlSZXNlcnZlVG9rZW5zID0gdW5zb2xkVG9rZW5zOwogICAgICAgIH0KICAgICAgICBhc3NpZ25Ub2tlbnMobGlxdWlkaXR5UmVzZXJ2ZVdhbGxldCwgbGlxdWlkaXR5UmVzZXJ2ZVRva2Vucyk7CiAgICAgICAgdW5zb2xkVG9rZW5zID0gdW5zb2xkVG9rZW5zLnN1YihsaXF1aWRpdHlSZXNlcnZlVG9rZW5zKTsKCiAgICAgICAgLy8gaWYgdGhlcmUgYXJlIHN0aWxsIHVuc29sZCB0b2tlbnM6CiAgICAgICAgaWYgKHVuc29sZFRva2VucyA+IDApIHsKICAgICAgICAgICAgLy8gZGVjcmVhc2UgIChidXJuKSB0b3RhbCBzdXBwbHkgYnkgdGhlIG51bWJlciBvZiB1bnNvbGQgdG9rZW5zOgogICAgICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1Yih1bnNvbGRUb2tlbnMpOwogICAgICAgIH0KCiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZXJlIGFyZSBubyB0b2tlbnMgbGVmdAogICAgICAgIGFzc2VydCh0b2tlbnNTb2xkID09IHRvdGFsU3VwcGx5KTsKICAgIH0KCiAgICBmdW5jdGlvbiBtYW51YWxseUFzc2lnblRva2VucyhhZGRyZXNzIHJlY2lwaWVudCwgdWludDI1NiBhbW91bnQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUodG9rZW5zU29sZCA8IHRvdGFsU3VwcGx5KTsKICAgICAgICBhc3NpZ25Ub2tlbnMocmVjaXBpZW50LCBhbW91bnQpOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBCdXJucyBhIHNwZWNpZmljIGFtb3VudCBvZiB0b2tlbnMuCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgYnVybmVkLgogICAgICovCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgd2hlbk5vdFBhdXNlZCB7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPiAwKTsKCiAgICAgICAgYWRkcmVzcyBidXJuZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIGJhbGFuY2VzW2J1cm5lcl0gPSBiYWxhbmNlc1tidXJuZXJdLnN1YihfdmFsdWUpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKF92YWx1ZSk7CiAgICAgICAgQnVybihidXJuZXIsIF92YWx1ZSk7CiAgICB9Cgp9'.
	

]
