Class {
	#name : #SRTe26517A9967299453d3F1B48Aa005E6127e67210,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe26517A9967299453d3F1B48Aa005E6127e67210 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgoKLyoqCiAqIE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludCBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgYXNzZXJ0aW9uKSBpbnRlcm5hbCB7CiAgICBpZiAoIWFzc2VydGlvbikgewogICAgICB0aHJvdzsKICAgIH0KICB9Cn0KCgovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKCgoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyAodWludCk7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7Cn0KCgovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludCk7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwp9CgovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKCgoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLiAKICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBiYWxhbmNlczsKCiAgLyoqCiAgICogQGRldiBGaXggZm9yIHRoZSBFUkMyMCBzaG9ydCBhZGRyZXNzIGF0dGFjay4KICAgKi8KICBtb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludCBzaXplKSB7CiAgICAgaWYobXNnLmRhdGEubGVuZ3RoIDwgc2l6ZSArIDQpIHsKICAgICAgIHRocm93OwogICAgIH0KICAgICBfOwogIH0KCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4gCiAgKiBAcmV0dXJuIEFuIHVpbnQgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKCgoKCgoKCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1hbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcnQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgQmFzaWNUb2tlbiwgRVJDMjAgewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIGFsbG93ZWQ7CgoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgzICogMzIpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAvLyBpZiAoX3ZhbHVlID4gX2FsbG93YW5jZSkgdGhyb3c7CgogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWFobGYgb2YgbXNnLnNlbmRlci4KICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSB7CgogICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAvLyAgYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgaWYgKChfdmFsdWUgIT0gMCkgJiYgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdICE9IDApKSB0aHJvdzsKCiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGFuIGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcmV0dXJuIEEgdWludCBzcGVjaWZpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKfQoKCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKCgoKY29udHJhY3QgTklNRkFUb2tlbiBpcyBTdGFuZGFyZFRva2VuIHsKCXVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoJCgkKCQoJZXZlbnQgQ3JlYXRlZE5JTUZBKGFkZHJlc3MgaW5kZXhlZCBfY3JlYXRvciwgdWludDI1NiBfYW1vdW50T2ZOSU1GQSk7CgkKCS8vIFRva2VuIGRhdGEKCXN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJOSU1GQSBUb2tlbiI7CglzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJOSU1GQSI7Cgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OyAKCXN0cmluZyBwdWJsaWMgdmVyc2lvbiA9ICIxLjAiOwoJCgkvLyBBZGRyZXNzZXMgYW5kIGNvbnRyYWN0cwoJYWRkcmVzcyBwdWJsaWMgZXhlY3V0b3I7CglhZGRyZXNzIHB1YmxpYyB0ZWFtRVRIQWRkcmVzczsgIAoJYWRkcmVzcyBwdWJsaWMgdGVhbU5JTUZBQWRkcmVzczsKCWFkZHJlc3MgcHVibGljIGNyZWRpdEZ1bmROSU1GQUFkZHJlc3M7CglhZGRyZXNzIHB1YmxpYyByZXNlcnZlTklNRkFBZGRyZXNzOwoJCglib29sIHB1YmxpYyBwcmVTYWxlSGFzRW5kZWQ7Cglib29sIHB1YmxpYyBzYWxlSGFzRW5kZWQ7Cglib29sIHB1YmxpYyBhbGxvd1RyYW5zZmVyOwoJYm9vbCBwdWJsaWMgbWF4UHJlU2FsZTsgIC8vIDEwMDAwMDAgTklNRkEgZm9yIHByZSBzYWxlIHByaWNlCgltYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBFVEhDb250cmlidXRlZDsKCXVpbnQyNTYgcHVibGljIHRvdGFsRVRIOwoJdWludDI1NiBwdWJsaWMgcHJlU2FsZVN0YXJ0QmxvY2s7Cgl1aW50MjU2IHB1YmxpYyBwcmVTYWxlRW5kQmxvY2s7Cgl1aW50MjU2IHB1YmxpYyBzYWxlU3RhcnRCbG9jazsKCXVpbnQyNTYgcHVibGljIHNhbGVFbmRCbG9jazsKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IE5JTUZBX1BFUl9FVEhfUFJFX1NBTEUgPSAxMTAwOyAgLy8gMTEwMCBOSU1GQSA9IDEgRVRIIAoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgTklNRkFfUEVSX0VUSF9TQUxFID0gMTEwOyAgLy8gMTEwIE5JTUZBID0gMSBFVEggCgkKCgkKCWZ1bmN0aW9uIE5JTUZBVG9rZW4oCgkJYWRkcmVzcyBfdGVhbUVUSEFkZHJlc3MsCgkJYWRkcmVzcyBfdGVhbU5JTUZBQWRkcmVzcywKCQlhZGRyZXNzIF9jcmVkaXRGdW5kTklNRkFBZGRyZXNzLAoJCWFkZHJlc3MgX3Jlc2VydmVOSU1GQUFkZHJlc3MsCgkJdWludDI1NiBfcHJlU2FsZVN0YXJ0QmxvY2ssCgkJdWludDI1NiBfcHJlU2FsZUVuZEJsb2NrCgkpIHsKCQkKCQlpZiAoX3RlYW1FVEhBZGRyZXNzID09IGFkZHJlc3MoMHgwKSkgdGhyb3c7CgkJaWYgKF90ZWFtTklNRkFBZGRyZXNzID09IGFkZHJlc3MoMHgwKSkgdGhyb3c7CgkJaWYgKF9jcmVkaXRGdW5kTklNRkFBZGRyZXNzID09IGFkZHJlc3MoMHgwKSkgdGhyb3c7CgkJaWYgKF9yZXNlcnZlTklNRkFBZGRyZXNzID09IGFkZHJlc3MoMHgwKSkgdGhyb3c7CgkJLy8gUmVqZWN0IGlmIHNhbGUgZW5kcyBiZWZvcmUgdGhlIGN1cnJlbnQgYmxvY2sKCQlpZiAoX3ByZVNhbGVFbmRCbG9jayA8PSBibG9jay5udW1iZXIpIHRocm93OwoJCS8vIFJlamVjdCBpZiB0aGUgc2FsZSBlbmQgdGltZSBpcyBsZXNzIHRoYW4gdGhlIHNhbGUgc3RhcnQgdGltZQoJCWlmIChfcHJlU2FsZUVuZEJsb2NrIDw9IF9wcmVTYWxlU3RhcnRCbG9jaykgdGhyb3c7CgoJCWV4ZWN1dG9yID0gbXNnLnNlbmRlcjsKCQlwcmVTYWxlSGFzRW5kZWQgPSBmYWxzZTsKCQlzYWxlSGFzRW5kZWQgPSBmYWxzZTsKCQlhbGxvd1RyYW5zZmVyID0gZmFsc2U7CgkJbWF4UHJlU2FsZSA9IGZhbHNlOwoJCXRlYW1FVEhBZGRyZXNzID0gX3RlYW1FVEhBZGRyZXNzOwoJCXRlYW1OSU1GQUFkZHJlc3MgPSBfdGVhbU5JTUZBQWRkcmVzczsKCQljcmVkaXRGdW5kTklNRkFBZGRyZXNzID0gX2NyZWRpdEZ1bmROSU1GQUFkZHJlc3M7CgkJcmVzZXJ2ZU5JTUZBQWRkcmVzcyA9IF9yZXNlcnZlTklNRkFBZGRyZXNzOwoJCXRvdGFsRVRIID0gMDsKCQlwcmVTYWxlU3RhcnRCbG9jayA9IF9wcmVTYWxlU3RhcnRCbG9jazsKCQlwcmVTYWxlRW5kQmxvY2sgPSBfcHJlU2FsZUVuZEJsb2NrOwoJCXNhbGVTdGFydEJsb2NrID0gX3ByZVNhbGVTdGFydEJsb2NrOwoJCXNhbGVFbmRCbG9jayA9IF9wcmVTYWxlRW5kQmxvY2s7CgkJdG90YWxTdXBwbHkgPSAwOwoJfQoJCglmdW5jdGlvbiBpbnZlc3RtZW50KCkgcGF5YWJsZSBleHRlcm5hbCB7CgkJLy8gSWYgcHJlU2FsZS9TYWxlIGlzIG5vdCBhY3RpdmUsIGRvIG5vdCBjcmVhdGUgTklNRkEKCQlpZiAocHJlU2FsZUhhc0VuZGVkICYmIHNhbGVIYXNFbmRlZCkgdGhyb3c7CgkJaWYgKCFwcmVTYWxlSGFzRW5kZWQpIHsKCQkgICAgaWYgKGJsb2NrLm51bWJlciA8IHByZVNhbGVTdGFydEJsb2NrKSB0aHJvdzsKCQkgICAgaWYgKGJsb2NrLm51bWJlciA+IHByZVNhbGVFbmRCbG9jaykgdGhyb3c7CgkJfQoJCWlmIChibG9jay5udW1iZXIgPCBzYWxlU3RhcnRCbG9jaykgdGhyb3c7CgkJaWYgKGJsb2NrLm51bWJlciA+IHNhbGVFbmRCbG9jaykgdGhyb3c7CgkJCgkJdWludDI1NiBuZXdFdGhlckJhbGFuY2UgPSB0b3RhbEVUSC5hZGQobXNnLnZhbHVlKTsKCgkJLy8gRG8gbm90IGRvIGFueXRoaW5nIGlmIHRoZSBhbW91bnQgb2YgZXRoZXIgc2VudCBpcyAwCgkJaWYgKDAgPT0gbXNnLnZhbHVlKSB0aHJvdzsKCQkKCQkvLyBDYWxjdWxhdGUgdGhlIGFtb3VudCBvZiBOSU1GQSBiZWluZyBwdXJjaGFzZWQKCQl1aW50MjU2IGFtb3VudE9mTklNRkEgPSBtc2cudmFsdWUubXVsKE5JTUZBX1BFUl9FVEhfUFJFX1NBTEUpOwoJCWlmIChwcmVTYWxlSGFzRW5kZWQgfHwgbWF4UHJlU2FsZSkgYW1vdW50T2ZOSU1GQSA9IG1zZy52YWx1ZS5tdWwoTklNRkFfUEVSX0VUSF9TQUxFKTsKCQkKCQlpZiAoMTAwMDAwIGV0aGVyIDwgYW1vdW50T2ZOSU1GQSkgdGhyb3c7CgkJCgkJLy8gRW5zdXJlIHRoYXQgdGhlIHRyYW5zYWN0aW9uIGlzIHNhZmUKCQl1aW50MjU2IHRvdGFsU3VwcGx5U2FmZSA9IHRvdGFsU3VwcGx5LmFkZChhbW91bnRPZk5JTUZBKTsKCQl1aW50MjU2IGJhbGFuY2VTYWZlID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKGFtb3VudE9mTklNRkEpOwoJCXVpbnQyNTYgY29udHJpYnV0ZWRTYWZlID0gRVRIQ29udHJpYnV0ZWRbbXNnLnNlbmRlcl0uYWRkKG1zZy52YWx1ZSk7CgoJCS8vIFVwZGF0ZSBiYWxhbmNlcwoJCXRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHlTYWZlOwoJCWlmICh0b3RhbFN1cHBseSA+IDIwMDAwMDAgZXRoZXIpIG1heFByZVNhbGUgPSB0cnVlOwoJCWJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZVNhZmU7CgoJCXRvdGFsRVRIID0gbmV3RXRoZXJCYWxhbmNlOwoJCUVUSENvbnRyaWJ1dGVkW21zZy5zZW5kZXJdID0gY29udHJpYnV0ZWRTYWZlOwoJCWlmICghcHJlU2FsZUhhc0VuZGVkKSB0ZWFtRVRIQWRkcmVzcy50cmFuc2Zlcihtc2cudmFsdWUpOwoKCQlDcmVhdGVkTklNRkEobXNnLnNlbmRlciwgYW1vdW50T2ZOSU1GQSk7Cgl9CgkKCWZ1bmN0aW9uIGVuZFByZVNhbGUoKSB7CgkJLy8gRG8gbm90IGVuZCBhbiBhbHJlYWR5IGVuZGVkIHNhbGUKCQlpZiAocHJlU2FsZUhhc0VuZGVkKSB0aHJvdzsKCQkKCQkvLyBPbmx5IGFsbG93IHRoZSBvd25lcgoJCWlmIChtc2cuc2VuZGVyICE9IGV4ZWN1dG9yKSB0aHJvdzsKCQkKCQlwcmVTYWxlSGFzRW5kZWQgPSB0cnVlOwoJfQoJCgkKCWZ1bmN0aW9uIGVuZFNhbGUoKSB7CgkJCgkJaWYgKCFwcmVTYWxlSGFzRW5kZWQpIHRocm93OwoJCS8vIERvIG5vdCBlbmQgYW4gYWxyZWFkeSBlbmRlZCBzYWxlCgkJaWYgKHNhbGVIYXNFbmRlZCkgdGhyb3c7CgkJCgkJLy8gT25seSBhbGxvdyB0aGUgb3duZXIKCQlpZiAobXNnLnNlbmRlciAhPSBleGVjdXRvcikgdGhyb3c7CgkJCgkJc2FsZUhhc0VuZGVkID0gdHJ1ZTsKCQl1aW50MjU2IEV0aGVyQW1vdW50ID0gdGhpcy5iYWxhbmNlOwoJCXRlYW1FVEhBZGRyZXNzLnRyYW5zZmVyKEV0aGVyQW1vdW50KTsKCQkKCQl1aW50MjU2IGNyZWRpdEZ1bmQgPSB0b3RhbFN1cHBseS5tdWwoMyk7CgkJdWludDI1NiByZXNlcnZlTklNRkEgPSB0b3RhbFN1cHBseS5kaXYoMik7CgkJdWludDI1NiB0ZWFtTklNRkEgPSB0b3RhbFN1cHBseS5kaXYoMik7CgkJdWludDI1NiB0b3RhbFN1cHBseVNhZmUgPSB0b3RhbFN1cHBseS5hZGQoY3JlZGl0RnVuZCkuYWRkKHJlc2VydmVOSU1GQSkuYWRkKHRlYW1OSU1GQSk7CgoKCQl0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5U2FmZTsKCQliYWxhbmNlc1tjcmVkaXRGdW5kTklNRkFBZGRyZXNzXSA9IGNyZWRpdEZ1bmQ7CgkJYmFsYW5jZXNbcmVzZXJ2ZU5JTUZBQWRkcmVzc10gPSByZXNlcnZlTklNRkE7CgkJYmFsYW5jZXNbdGVhbU5JTUZBQWRkcmVzc10gPSB0ZWFtTklNRkE7CgkJCgkJQ3JlYXRlZE5JTUZBKGNyZWRpdEZ1bmROSU1GQUFkZHJlc3MsIGNyZWRpdEZ1bmQpOwoJCUNyZWF0ZWROSU1GQShyZXNlcnZlTklNRkFBZGRyZXNzLCByZXNlcnZlTklNRkEpOwogICAgICAgIENyZWF0ZWROSU1GQSh0ZWFtTklNRkFBZGRyZXNzLCB0ZWFtTklNRkEpOwoJfQoJCgkKCWZ1bmN0aW9uIGNoYW5nZVRlYW1FVEhBZGRyZXNzKGFkZHJlc3MgX25ld0FkZHJlc3MpIHsKCQlpZiAobXNnLnNlbmRlciAhPSBleGVjdXRvcikgdGhyb3c7CgkJdGVhbUVUSEFkZHJlc3MgPSBfbmV3QWRkcmVzczsKCX0KCQoJZnVuY3Rpb24gY2hhbmdlVGVhbU5JTUZBQWRkcmVzcyhhZGRyZXNzIF9uZXdBZGRyZXNzKSB7CgkJaWYgKG1zZy5zZW5kZXIgIT0gZXhlY3V0b3IpIHRocm93OwoJCXRlYW1OSU1GQUFkZHJlc3MgPSBfbmV3QWRkcmVzczsKCX0KCQoJZnVuY3Rpb24gY2hhbmdlQ3JlZGl0RnVuZE5JTUZBQWRkcmVzcyhhZGRyZXNzIF9uZXdBZGRyZXNzKSB7CgkJaWYgKG1zZy5zZW5kZXIgIT0gZXhlY3V0b3IpIHRocm93OwoJCWNyZWRpdEZ1bmROSU1GQUFkZHJlc3MgPSBfbmV3QWRkcmVzczsKCX0KCQoJLyoKCSogQWxsb3cgdHJhbnNmZXIgb25seSBhZnRlciBzYWxlcwoJKi8KCWZ1bmN0aW9uIGNoYW5nZUFsbG93VHJhbnNmZXIoKSB7CgkJaWYgKG1zZy5zZW5kZXIgIT0gZXhlY3V0b3IpIHRocm93OwoKCQlhbGxvd1RyYW5zZmVyID0gdHJ1ZTsKCX0KCQoJLyoKCSogCgkqLwoJZnVuY3Rpb24gY2hhbmdlU2FsZVN0YXJ0QmxvY2sodWludDI1NiBfc2FsZVN0YXJ0QmxvY2spIHsKCQlpZiAobXNnLnNlbmRlciAhPSBleGVjdXRvcikgdGhyb3c7CiAgICAgICAgc2FsZVN0YXJ0QmxvY2sgPSBfc2FsZVN0YXJ0QmxvY2s7Cgl9CgkKCS8qCgkqIAoJKi8KCWZ1bmN0aW9uIGNoYW5nZVNhbGVFbmRCbG9jayh1aW50MjU2IF9zYWxlRW5kQmxvY2spIHsKCQlpZiAobXNnLnNlbmRlciAhPSBleGVjdXRvcikgdGhyb3c7CiAgICAgICAgc2FsZUVuZEJsb2NrID0gX3NhbGVFbmRCbG9jazsKCX0KCQoJCglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHsKCQkvLyBDYW5ub3QgdHJhbnNmZXIgdW5sZXNzIHRoZSBtaW5pbXVtIGNhcCBpcyBoaXQKCQlpZiAoIWFsbG93VHJhbnNmZXIpIHRocm93OwoJCQoJCXN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKCX0KCQoJZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgewoJCS8vIENhbm5vdCB0cmFuc2ZlciB1bmxlc3MgdGhlIG1pbmltdW0gY2FwIGlzIGhpdAoJCWlmICghYWxsb3dUcmFuc2ZlcikgdGhyb3c7CgkJCgkJc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7Cgl9Cn0='.
	

]
