Class {
	#name : #SRTf72f0aa44e4fab243e31528c048fd80144b387d3,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTf72f0aa44e4fab243e31528c048fd80144b387d3 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTI7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKXsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLgogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKXsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQp9CgovKioKICogQHRpdGxlIFN0YW5kYXJkIEVSQzIwIHRva2VuCiAqCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIGJhc2ljIHN0YW5kYXJkIHRva2VuLgogKiBAZGV2IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKiBAZGV2IEJhc2VkIG9uIGNvZGUgYnkgRmlyc3RCbG9vZDogaHR0cHM6Ly9naXRodWIuY29tL0ZpcnN0Ymxvb2Rpby90b2tlbi9ibG9iL21hc3Rlci9zbWFydF9jb250cmFjdC9GaXJzdEJsb29kVG9rZW4uc29sCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGludGVybmFsIGFsbG93ZWQ7CgogIC8qKgogICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CgogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9Cn0KCi8qKgogKiBAdGl0bGUgTWludGFibGUgdG9rZW4KICogQGRldiBTaW1wbGUgRVJDMjAgVG9rZW4gZXhhbXBsZSwgd2l0aCBtaW50YWJsZSB0b2tlbiBjcmVhdGlvbgogKiBAZGV2IElzc3VlOiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvaXNzdWVzLzEyMAogKiBCYXNlZCBvbiBjb2RlIGJ5IFRva2VuTWFya2V0TmV0OiBodHRwczovL2dpdGh1Yi5jb20vVG9rZW5NYXJrZXROZXQvaWNvL2Jsb2IvbWFzdGVyL2NvbnRyYWN0cy9NaW50YWJsZVRva2VuLnNvbAogKi8KCmNvbnRyYWN0IE1pbnRhYmxlVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgT3duYWJsZSB7CiAgZXZlbnQgTWludChhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgYW1vdW50KTsKICBldmVudCBNaW50RmluaXNoZWQoKTsKCiAgYm9vbCBwdWJsaWMgbWludGluZ0ZpbmlzaGVkID0gZmFsc2U7CgogIG1vZGlmaWVyIGNhbk1pbnQoKSB7CiAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOwogICAgXzsKICB9CgogIC8qKgogICogQGRldiBGdW5jdGlvbiB0byBtaW50IHRva2VucwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0aGF0IHdpbGwgcmVjaWV2ZSB0aGUgbWludGVkIHRva2Vucy4KICAgICogQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gbWludC4KICAgICogQHJldHVybiBBIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgKi8KICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciBjYW5NaW50IHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgIFRyYW5zZmVyKDBYMCwgX3RvLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEZ1bmN0aW9uIHRvIHN0b3AgbWludGluZyBuZXcgdG9rZW5zLgogICogQHJldHVybiBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICovCiAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgbWludGluZ0ZpbmlzaGVkID0gdHJ1ZTsKICAgIE1pbnRGaW5pc2hlZCgpOwogICAgcmV0dXJuIHRydWU7CiAgfQp9Cgpjb250cmFjdCBSZXBvcnRlclRva2VuIGlzIE1pbnRhYmxlVG9rZW4gewogIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJSZXBvcnRlciBUb2tlbiI7CiAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiTkVXUyI7CiAgdWludDI1NiBwdWJsaWMgZGVjaW1hbHMgPSAxODsKCiAgYm9vbCBwdWJsaWMgdHJhZGluZ1N0YXJ0ZWQgPSBmYWxzZTsKCiAgLyoqCiAgKiBAZGV2IG1vZGlmaWVyIHRoYXQgdGhyb3dzIGlmIHRyYWRpbmcgaGFzIG5vdCBzdGFydGVkIHlldAogICAqLwogIG1vZGlmaWVyIGhhc1N0YXJ0ZWRUcmFkaW5nKCkgewogICAgcmVxdWlyZSh0cmFkaW5nU3RhcnRlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgKiBAZGV2IEFsbG93cyB0aGUgb3duZXIgdG8gZW5hYmxlIHRoZSB0cmFkaW5nLiBUaGlzIGNhbiBub3QgYmUgdW5kb25lCiAgKi8KICBmdW5jdGlvbiBzdGFydFRyYWRpbmcoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHRyYWRpbmdTdGFydGVkID0gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIGFueW9uZSB0byB0cmFuc2ZlciB0aGUgQ2hhbmdlIHRva2VucyBvbmNlIHRyYWRpbmcgaGFzIHN0YXJ0ZWQKICAgKiBAcGFyYW0gX3RvIHRoZSByZWNpcGllbnQgYWRkcmVzcyBvZiB0aGUgdG9rZW5zLgogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaGFzU3RhcnRlZFRyYWRpbmcgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgfQoKICAvKioKICAqIEBkZXYgQWxsb3dzIGFueW9uZSB0byB0cmFuc2ZlciB0aGUgQ2hhbmdlIHRva2VucyBvbmNlIHRyYWRpbmcgaGFzIHN0YXJ0ZWQKICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICogQHBhcmFtIF92YWx1ZSB1aW50IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGhhc1N0YXJ0ZWRUcmFkaW5nIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiBlbWVyZ2VuY3lFUkMyMERyYWluKCBFUkMyMCBvZGRUb2tlbiwgdWludCBhbW91bnQgKSBwdWJsaWMgewogICAgb2RkVG9rZW4udHJhbnNmZXIob3duZXIsIGFtb3VudCk7CiAgfQp9Cgpjb250cmFjdCBSZXBvcnRlclRva2VuU2FsZSBpcyBPd25hYmxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgLy8gVGhlIHRva2VuIGJlaW5nIHNvbGQKICBSZXBvcnRlclRva2VuIHB1YmxpYyB0b2tlbjsKCiAgdWludDI1NiBwdWJsaWMgZGVjaW1hbHM7ICAKICB1aW50MjU2IHB1YmxpYyBvbmVDb2luOwoKICAvLyBzdGFydCBhbmQgZW5kIGJsb2NrIHdoZXJlIGludmVzdG1lbnRzIGFyZSBhbGxvd2VkIChib3RoIGluY2x1c2l2ZSkKICB1aW50MjU2IHB1YmxpYyBzdGFydFRpbWVzdGFtcDsKICB1aW50MjU2IHB1YmxpYyBlbmRUaW1lc3RhbXA7CgogIC8vIGFkZHJlc3Mgd2hlcmUgZnVuZHMgYXJlIGNvbGxlY3RlZAogIGFkZHJlc3MgcHVibGljIG11bHRpU2lnOwoKICBmdW5jdGlvbiBzZXRXYWxsZXQoYWRkcmVzcyBfbmV3V2FsbGV0KSBwdWJsaWMgb25seU93bmVyIHsKICAgIG11bHRpU2lnID0gX25ld1dhbGxldDsKICB9CgogIC8vIFRoZXNlIHdpbGwgYmUgc2V0IGJ5IHNldFRpZXIoKQogIHVpbnQyNTYgcHVibGljIHJhdGU7IC8vIGhvdyBtYW55IHRva2VuIHVuaXRzIGEgYnV5ZXIgZ2V0cyBwZXIgd2VpCiAgdWludDI1NiBwdWJsaWMgbWluQ29udHJpYnV0aW9uID0gMC4wMDAxIGV0aGVyOyAgLy8gbWluaW11bSBjb250cmlidXRpbyB0byBwYXJ0aWNpcGF0ZSBpbiB0b2tlbnNhbGUKICB1aW50MjU2IHB1YmxpYyBtYXhDb250cmlidXRpb24gPSAyMDAwMDAgZXRoZXI7ICAvLyBkZWZhdWx0IGxpbWl0IHRvIHRva2VucyB0aGF0IHRoZSB1c2VycyBjYW4gYnV5CgogIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKgoKICAvLyBhbW91bnQgb2YgcmFpc2VkIG1vbmV5IGluIHdlaQogIHVpbnQyNTYgcHVibGljIHdlaVJhaXNlZDsKCiAgLy8gYW1vdW50IG9mIHJhaXNlZCB0b2tlbnMgCiAgdWludDI1NiBwdWJsaWMgdG9rZW5SYWlzZWQ7CgogIC8vIG1heGltdW0gYW1vdW50IG9mIHRva2VucyBiZWluZyBjcmVhdGVkCiAgdWludDI1NiBwdWJsaWMgbWF4VG9rZW5zOwoKICAvLyBtYXhpbXVtIGFtb3VudCBvZiB0b2tlbnMgZm9yIHNhbGUKICB1aW50MjU2IHB1YmxpYyB0b2tlbnNGb3JTYWxlOyAgLy8gMzYgTWlsbGlvbiBUb2tlbnMgZm9yIFNBTEUKCiAgLy8gbnVtYmVyIG9mIHBhcnRpY2lwYW50cyBpbiBwcmVzYWxlCiAgdWludDI1NiBwdWJsaWMgbnVtYmVyT2ZQdXJjaGFzZXJzID0gMDsKCiAgLy8gIGZvciB3aGl0ZWxpc3QKICBhZGRyZXNzIHB1YmxpYyBjczsKCgogIC8vIHN3aXRjaCBvbi9vZmYgdGhlIGF1dGhvcmlzYXRpb24gLCBkZWZhdWx0OiBmYWxzZQogIGJvb2wgICAgcHVibGljIGZyZWVGb3JBbGwgPSBmYWxzZTsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgYXV0aG9yaXNlZDsgLy8ganVzdCB0byBhbm5veSB0aGUgaGVjayBvdXQgb2YgYW1lcmljYW5zCgogIGV2ZW50IFRva2VuUHVyY2hhc2UoYWRkcmVzcyBpbmRleGVkIGJlbmVmaWNpYXJ5LCB1aW50MjU2IHZhbHVlLCB1aW50MjU2IGFtb3VudCk7CiAgZXZlbnQgU2FsZUNsb3NlZCgpOwoKICBmdW5jdGlvbiBSZXBvcnRlclRva2VuU2FsZSgpIHB1YmxpYyB7CiAgICBzdGFydFRpbWVzdGFtcCA9IDE1MDg2ODQ0MDA7IC8vIDIyIE9jdC4gMjAxNy4gMTU6MDAgVVRDCiAgICBlbmRUaW1lc3RhbXAgPSAxNTE5NjU3MjAwOyAgIC8vIDI2IEZlYnIuIDIwMTguIDE1OjAwIFVUQwogICAgbXVsdGlTaWcgPSAweEQwMGQwODVGMTI1RUFGRUE5ZThjNUQzZjRiYzI1ZTZEMGM5M0FmMGU7CgogICAgdG9rZW4gPSBuZXcgUmVwb3J0ZXJUb2tlbigpOwogICAgZGVjaW1hbHMgPSB0b2tlbi5kZWNpbWFscygpOwogICAgb25lQ29pbiA9IDEwICoqIGRlY2ltYWxzOwogICAgbWF4VG9rZW5zID0gNjAgKiAoMTAqKjYpICogb25lQ29pbjsKICAgIHRva2Vuc0ZvclNhbGUgPSAzNiAqICgxMCoqNikgKiBvbmVDb2luOwogIH0KCiAgLyoqCiAgKiBAZGV2IENhbGN1bGF0ZXMgdGhlIGFtb3VudCBvZiBib251cyBjb2lucyB0aGUgYnV5ZXIgZ2V0cwogICovCiAgZnVuY3Rpb24gc2V0VGllcigpIGludGVybmFsIHsKICAgIC8vIGZpcnN0IDI1JSB0b2tlbnMgZ2V0IGV4dHJhIDMwJSBvZiB0b2tlbnMsIG5leHQgaGFsZiBnZXQgMTUlCiAgICBpZiAodG9rZW5SYWlzZWQgPD0gOTAwMDAwMCAqIG9uZUNvaW4pIHsKICAgICAgcmF0ZSA9IDE0MjA7CiAgICAgIC8vbWluQ29udHJpYnV0aW9uID0gMTAwIGV0aGVyOwogICAgICAvL21heENvbnRyaWJ1dGlvbiA9IDEwMDAwMDAgZXRoZXI7CiAgICB9IGVsc2UgaWYgKHRva2VuUmFpc2VkIDw9IDE4MDAwMDAwICogb25lQ29pbikgewogICAgICByYXRlID0gMTE3MDsKICAgICAgLy9taW5Db250cmlidXRpb24gPSA1IGV0aGVyOwogICAgICAvL21heENvbnRyaWJ1dGlvbiA9IDEwMDAwMDAgZXRoZXI7CiAgICB9IGVsc2UgewogICAgICByYXRlID0gMTAwMDsKICAgICAgLy9taW5Db250cmlidXRpb24gPSAwLjAxIGV0aGVyOwogICAgICAvL21heENvbnRyaWJ1dGlvbiA9IDEwMCBldGhlcjsKICAgIH0KICB9CgogIC8vIEByZXR1cm4gdHJ1ZSBpZiBjcm93ZHNhbGUgZXZlbnQgaGFzIGVuZGVkCiAgZnVuY3Rpb24gaGFzRW5kZWQoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgaWYgKG5vdyA+IGVuZFRpbWVzdGFtcCkKICAgICAgcmV0dXJuIHRydWU7CiAgICBpZiAodG9rZW5SYWlzZWQgPj0gdG9rZW5zRm9yU2FsZSkKICAgICAgcmV0dXJuIHRydWU7IC8vIGlmIHdlIHJlYWNoIHRoZSB0b2tlbnNGb3JTYWxlCiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICAvKioKICAqIEBkZXYgdGhyb3dzIGlmIHBlcnNvbiBzZW5kaW5nIGlzIG5vdCBjb250cmFjdCBvd25lciBvciBjcyByb2xlCiAgICovCiAgbW9kaWZpZXIgb25seUNTb3JPd25lcigpIHsKICAgIHJlcXVpcmUoKG1zZy5zZW5kZXIgPT0gb3duZXIpIHx8IChtc2cuc2VuZGVyPT1jcykpOwogICAgXzsKICB9CiAgIG1vZGlmaWVyIG9ubHlDUygpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBjcyk7CiAgICBfOwogIH0KCiAgLyoqCiAgKiBAZGV2IHRocm93cyBpZiBwZXJzb24gc2VuZGluZyBpcyBub3QgYXV0aG9yaXNlZCBvciBzZW5kcyBub3RoaW5nCiAgKi8KICBtb2RpZmllciBvbmx5QXV0aG9yaXNlZCgpIHsKICAgIHJlcXVpcmUgKGF1dGhvcmlzZWRbbXNnLnNlbmRlcl0gfHwgZnJlZUZvckFsbCk7CiAgICByZXF1aXJlIChub3cgPj0gc3RhcnRUaW1lc3RhbXApOwogICAgcmVxdWlyZSAoIShoYXNFbmRlZCgpKSk7CiAgICByZXF1aXJlIChtdWx0aVNpZyAhPSAweDApOwogICAgcmVxdWlyZSh0b2tlbnNGb3JTYWxlID4gdG9rZW5SYWlzZWQpOyAvLyBjaGVjayB3ZSBhcmUgbm90IG92ZXIgdGhlIG51bWJlciBvZiB0b2tlbnNGb3JTYWxlCiAgICBfOwogIH0KCiAgLyoqCiAgKiBAZGV2IGF1dGhvcmlzZSBhbiBhY2NvdW50IHRvIHBhcnRpY2lwYXRlCiAgKi8KICBmdW5jdGlvbiBhdXRob3Jpc2VBY2NvdW50KGFkZHJlc3Mgd2hvbSkgb25seUNTb3JPd25lciBwdWJsaWMgewogICAgYXV0aG9yaXNlZFt3aG9tXSA9IHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgYXV0aG9yaXNlIGEgbG90IG9mIGFjY291bnRzIGluIG9uZSBnbwogICovCiAgZnVuY3Rpb24gYXV0aG9yaXNlTWFueUFjY291bnRzKGFkZHJlc3NbXSBtYW55KSBvbmx5Q1Nvck93bmVyIHB1YmxpYyB7CiAgICBmb3IgKHVpbnQyNTYgaSA9IDA7IGkgPCBtYW55Lmxlbmd0aDsgaSsrKSB7CiAgICAgIGF1dGhvcmlzZWRbbWFueVtpXV0gPSB0cnVlOwogICAgfQogIH0KCiAgLyoqCiAgKiBAZGV2IGJhbiBhbiBhY2NvdW50IGZyb20gcGFydGljaXBhdGlvbiAoZGVmYXVsdCkKICAqLwogIGZ1bmN0aW9uIGJsb2NrQWNjb3VudChhZGRyZXNzIHdob20pIG9ubHlDU29yT3duZXIgcHVibGljIHsKICAgIGF1dGhvcmlzZWRbd2hvbV0gPSBmYWxzZTsKICAgfSAgCiAgICAKICAvKioKICAqIEBkZXYgc2V0IGEgbmV3IENTIHJlcHJlc2VudGF0aXZlCiAgKi8KICBmdW5jdGlvbiBzZXRDUyhhZGRyZXNzIG5ld0NTKSBvbmx5T3duZXIgcHVibGljIHsKICAgIGNzID0gbmV3Q1M7CiAgfQoKICBmdW5jdGlvbiBwbGFjZVRva2VucyhhZGRyZXNzIGJlbmVmaWNpYXJ5LCB1aW50MjU2IF90b2tlbnMpIG9ubHlDUyBwdWJsaWMgewogICAgLy9jaGVjayBtaW5pbXVtIGFuZCBtYXhpbXVtIGFtb3VudAogICAgcmVxdWlyZShfdG9rZW5zICE9IDApOwogICAgcmVxdWlyZSghaGFzRW5kZWQoKSk7CiAgICB1aW50MjU2IGFtb3VudCA9IDA7CiAgICBpZiAodG9rZW4uYmFsYW5jZU9mKGJlbmVmaWNpYXJ5KSA9PSAwKSB7CiAgICAgIG51bWJlck9mUHVyY2hhc2VycysrOwogICAgfQogICAgdG9rZW5SYWlzZWQgPSB0b2tlblJhaXNlZC5hZGQoX3Rva2Vucyk7IC8vIHNvIHdlIGNhbiBnbyBzbGlnaHRseSBvdmVyCiAgICB0b2tlbi5taW50KGJlbmVmaWNpYXJ5LCBfdG9rZW5zKTsKICAgIFRva2VuUHVyY2hhc2UoYmVuZWZpY2lhcnksIGFtb3VudCwgX3Rva2Vucyk7CiAgfQoKICAvLyBsb3cgbGV2ZWwgdG9rZW4gcHVyY2hhc2UgZnVuY3Rpb24KICBmdW5jdGlvbiBidXlUb2tlbnMoYWRkcmVzcyBiZW5lZmljaWFyeSwgdWludDI1NiBhbW91bnQpIG9ubHlBdXRob3Jpc2VkIGludGVybmFsIHsKCiAgICBzZXRUaWVyKCk7CgogICAgLy9jaGVjayBtaW5pbXVtIGFuZCBtYXhpbXVtIGFtb3VudAogICAgcmVxdWlyZShhbW91bnQgPj0gbWluQ29udHJpYnV0aW9uKTsKICAgIHJlcXVpcmUoYW1vdW50IDw9IG1heENvbnRyaWJ1dGlvbik7CgogICAgLy8gY2FsY3VsYXRlIHRva2VuIGFtb3VudCB0byBiZSBjcmVhdGVkCiAgICB1aW50MjU2IHRva2VucyA9IGFtb3VudC5tdWwocmF0ZSk7CgogICAgLy8gdXBkYXRlIHN0YXRlCiAgICB3ZWlSYWlzZWQgPSB3ZWlSYWlzZWQuYWRkKGFtb3VudCk7CiAgICBpZiAodG9rZW4uYmFsYW5jZU9mKGJlbmVmaWNpYXJ5KSA9PSAwKSB7CiAgICAgIG51bWJlck9mUHVyY2hhc2VycysrOwogICAgfQogICAgdG9rZW5SYWlzZWQgPSB0b2tlblJhaXNlZC5hZGQodG9rZW5zKTsgLy8gc28gd2UgY2FuIGdvIHNsaWdodGx5IG92ZXIKICAgIHRva2VuLm1pbnQoYmVuZWZpY2lhcnksIHRva2Vucyk7CiAgICBUb2tlblB1cmNoYXNlKGJlbmVmaWNpYXJ5LCBhbW91bnQsIHRva2Vucyk7CiAgICBtdWx0aVNpZy50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOyAvLyBiZXR0ZXIgaW4gY2FzZSBhbnkgb3RoZXIgZXRoZXIgZW5kcyB1cCBoZXJlCiAgfQoKICAvLyB0cmFuc2ZlciBvd25lcnNoaXAgb2YgdGhlIHRva2VuIHRvIHRoZSBvd25lciBvZiB0aGUgcHJlc2FsZSBjb250cmFjdAogIGZ1bmN0aW9uIGZpbmlzaFNhbGUoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoaGFzRW5kZWQoKSk7CgogICAgLy8gYXNzaWduIHRoZSByZXN0IG9mIHRoZSA2ME0gdG9rZW5zIHRvIHRoZSByZXNlcnZlCiAgICB1aW50IHVuYXNzaWduZWQ7CiAgICBpZihtYXhUb2tlbnMgPiB0b2tlblJhaXNlZCkgewogICAgICB1bmFzc2lnbmVkICA9IG1heFRva2Vucy5zdWIodG9rZW5SYWlzZWQpOwogICAgICB0b2tlbi5taW50KG11bHRpU2lnLHVuYXNzaWduZWQpOwogICAgfQogICAgdG9rZW4uZmluaXNoTWludGluZygpOwogICAgdG9rZW4udHJhbnNmZXJPd25lcnNoaXAob3duZXIpOwogICAgU2FsZUNsb3NlZCgpOwogIH0KCiAgLy8gZmFsbGJhY2sgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gYnV5IHRva2VucwogIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKICAgIGJ1eVRva2Vucyhtc2cuc2VuZGVyLCBtc2cudmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gZW1lcmdlbmN5RVJDMjBEcmFpbiggRVJDMjAgb2RkVG9rZW4sIHVpbnQgYW1vdW50ICkgcHVibGljIHsKICAgIG9kZFRva2VuLnRyYW5zZmVyKG93bmVyLCBhbW91bnQpOwogIH0KfQ=='.
	

]
