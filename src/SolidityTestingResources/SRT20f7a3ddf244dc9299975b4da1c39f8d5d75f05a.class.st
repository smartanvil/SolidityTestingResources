Class {
	#name : #SRT20f7a3ddf244dc9299975b4da1c39f8d5d75f05a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT20f7a3ddf244dc9299975b4da1c39f8d5d75f05a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyBGaWxlOiBjb250cmFjdHMvemVwcGVsaW4tc29saWRpdHkvY29udHJhY3RzL293bmVyc2hpcC9Pd25hYmxlLnNvbAoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCi8vIEZpbGU6IGNvbnRyYWN0cy96ZXBwZWxpbi1zb2xpZGl0eS9jb250cmFjdHMvb3duZXJzaGlwL0NsYWltYWJsZS5zb2wKCi8qKgogKiBAdGl0bGUgQ2xhaW1hYmxlCiAqIEBkZXYgRXh0ZW5zaW9uIGZvciB0aGUgT3duYWJsZSBjb250cmFjdCwgd2hlcmUgdGhlIG93bmVyc2hpcCBuZWVkcyB0byBiZSBjbGFpbWVkLgogKiBUaGlzIGFsbG93cyB0aGUgbmV3IG93bmVyIHRvIGFjY2VwdCB0aGUgdHJhbnNmZXIuCiAqLwpjb250cmFjdCBDbGFpbWFibGUgaXMgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgcGVuZGluZ093bmVyOwoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgcGVuZGluZ093bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlQZW5kaW5nT3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gcGVuZGluZ093bmVyKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byBzZXQgdGhlIHBlbmRpbmdPd25lciBhZGRyZXNzLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICBwZW5kaW5nT3duZXIgPSBuZXdPd25lcjsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBwZW5kaW5nT3duZXIgYWRkcmVzcyB0byBmaW5hbGl6ZSB0aGUgdHJhbnNmZXIuCiAgICovCiAgZnVuY3Rpb24gY2xhaW1Pd25lcnNoaXAoKSBvbmx5UGVuZGluZ093bmVyIHB1YmxpYyB7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgcGVuZGluZ093bmVyKTsKICAgIG93bmVyID0gcGVuZGluZ093bmVyOwogICAgcGVuZGluZ093bmVyID0gYWRkcmVzcygwKTsKICB9Cn0KCi8vIEZpbGU6IGNvbnRyYWN0cy9Pd25DbGFpbVJlbm91bmNlYWJsZS5zb2wKCi8qKgogKiBAdGl0bGUgYG93bmVyYCBjYW4gcmVub3VuY2UgaXRzIHJvbGUgYW5kIGxlYXZlIHRoZSBjb250cmFjdCB1bm93bmVkLgogKiBAZGV2IFRoZXJlIGNhbiBub3QgYmUgYSBuZXcgYG93bmVyYC4KICogQGRldiBObyBgb25seU93bmVyYCBmdW5jdGlvbnMgY2FuIGV2ZXIgYmUgY2FsbGVkIGFnYWluLgogKi8KY29udHJhY3QgT3duQ2xhaW1SZW5vdW5jZWFibGUgaXMgQ2xhaW1hYmxlIHsKCiAgICBmdW5jdGlvbiByZW5vdW5jZU93bmVyc2hpcEZvcmV2ZXIodWludDggX2NvbmZpcm0pCiAgICAgICAgcHVibGljCiAgICAgICAgb25seU93bmVyCiAgICB7CiAgICAgICAgcmVxdWlyZShfY29uZmlybSA9PSA3Myk7IC8vIE93bmVyIGtub3dzIHdoYXQgaGUncyBkb2luZwogICAgICAgIG93bmVyID0gYWRkcmVzcygwKTsKICAgICAgICBwZW5kaW5nT3duZXIgPSBhZGRyZXNzKDApOwogICAgfQoKfQoKLy8gRmlsZTogY29udHJhY3RzL1Rva2VuQ29udHJvbGxlci5zb2wKCi8qKiBUaGUgaW50ZXJmYWNlIGZvciBhIHRva2VuIGNvbnRyYWN0IHRvIG5vdGlmeSBhIGNvbnRyb2xsZXIgb2YgZXZlcnkgdHJhbnNmZXJzLiAqLwpjb250cmFjdCBUb2tlbkNvbnRyb2xsZXIgewogICAgYnl0ZXM0IHB1YmxpYyBjb25zdGFudCBJTlRFUkZBQ0UgPSBieXRlczQoa2VjY2FrMjU2KCJUb2tlbkNvbnRyb2xsZXIiKSk7CgogICAgZnVuY3Rpb24gYWxsb3dUcmFuc2ZlcihhZGRyZXNzIF9zZW5kZXIsIGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX3B1cnBvc2UpIHB1YmxpYyByZXR1cm5zIChib29sKTsKfQoKCi8vIEJhc2ljIGV4YW1wbGVzCgpjb250cmFjdCBZZXNDb250cm9sbGVyIGlzIFRva2VuQ29udHJvbGxlciB7CiAgICBmdW5jdGlvbiBhbGxvd1RyYW5zZmVyKGFkZHJlc3MgLyogX3NlbmRlciAqLywgYWRkcmVzcyAvKiBfZnJvbSAqLywgYWRkcmVzcyAvKiBfdG8gKi8sIHVpbnQyNTYgLyogX3ZhbHVlICovLCBieXRlcyAvKiBfcHVycG9zZSAqLykKICAgICAgICBwdWJsaWMgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gYWxsb3cgYWxsIHRyYW5zZmVycwogICAgfQp9CgoKY29udHJhY3QgTm9Db250cm9sbGVyIGlzIFRva2VuQ29udHJvbGxlciB7CiAgICBmdW5jdGlvbiBhbGxvd1RyYW5zZmVyKGFkZHJlc3MgLyogX3NlbmRlciAqLywgYWRkcmVzcyAvKiBfZnJvbSAqLywgYWRkcmVzcyAvKiBfdG8gKi8sIHVpbnQyNTYgLyogX3ZhbHVlICovLCBieXRlcyAvKiBfcHVycG9zZSAqLykKICAgICAgICBwdWJsaWMgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHZldG8gYWxsIHRyYW5zZmVycwogICAgfQp9CgovLyBGaWxlOiBjb250cmFjdHMvemVwcGVsaW4tc29saWRpdHkvY29udHJhY3RzL21hdGgvU2FmZU1hdGguc29sCgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKCiAgLyoqCiAgKiBAZGV2IE11bHRpcGxpZXMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAqLwogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIC8qKgogICogQGRldiBJbnRlZ2VyIGRpdmlzaW9uIG9mIHR3byBudW1iZXJzLCB0cnVuY2F0aW5nIHRoZSBxdW90aWVudC4KICAqLwogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgLyoqCiAgKiBAZGV2IFN1YnN0cmFjdHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdyAoaS5lLiBpZiBzdWJ0cmFoZW5kIGlzIGdyZWF0ZXIgdGhhbiBtaW51ZW5kKS4KICAqLwogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIC8qKgogICogQGRldiBBZGRzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLy8gRmlsZTogY29udHJhY3RzL3plcHBlbGluLXNvbGlkaXR5L2NvbnRyYWN0cy90b2tlbi9FUkMyMC9FUkMyMEJhc2ljLnNvbAoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovLyBGaWxlOiBjb250cmFjdHMvemVwcGVsaW4tc29saWRpdHkvY29udHJhY3RzL3Rva2VuL0VSQzIwL0Jhc2ljVG9rZW4uc29sCgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIHVpbnQyNTYgdG90YWxTdXBwbHlfOwoKICAvKioKICAqIEBkZXYgdG90YWwgbnVtYmVyIG9mIHRva2VucyBpbiBleGlzdGVuY2UKICAqLwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIHRvdGFsU3VwcGx5XzsKICB9CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwoKICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCi8vIEZpbGU6IGNvbnRyYWN0cy96ZXBwZWxpbi1zb2xpZGl0eS9jb250cmFjdHMvdG9rZW4vRVJDMjAvRVJDMjAuc29sCgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgovLyBGaWxlOiBjb250cmFjdHMvemVwcGVsaW4tc29saWRpdHkvY29udHJhY3RzL3Rva2VuL0VSQzIwL1N0YW5kYXJkVG9rZW4uc29sCgovKioKICogQHRpdGxlIFN0YW5kYXJkIEVSQzIwIHRva2VuCiAqCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIGJhc2ljIHN0YW5kYXJkIHRva2VuLgogKiBAZGV2IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKiBAZGV2IEJhc2VkIG9uIGNvZGUgYnkgRmlyc3RCbG9vZDogaHR0cHM6Ly9naXRodWIuY29tL0ZpcnN0Ymxvb2Rpby90b2tlbi9ibG9iL21hc3Rlci9zbWFydF9jb250cmFjdC9GaXJzdEJsb29kVG9rZW4uc29sCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBpbnRlcm5hbCBhbGxvd2VkOwoKCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW19mcm9tXSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CgogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICoKICAgKiBCZXdhcmUgdGhhdCBjaGFuZ2luZyBhbiBhbGxvd2FuY2Ugd2l0aCB0aGlzIG1ldGhvZCBicmluZ3MgdGhlIHJpc2sgdGhhdCBzb21lb25lIG1heSB1c2UgYm90aCB0aGUgb2xkCiAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAqIHJhY2UgY29uZGl0aW9uIGlzIHRvIGZpcnN0IHJlZHVjZSB0aGUgc3BlbmRlcidzIGFsbG93YW5jZSB0byAwIGFuZCBzZXQgdGhlIGRlc2lyZWQgdmFsdWUgYWZ0ZXJ3YXJkczoKICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZnlpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCiAgLyoqCiAgICogQGRldiBJbmNyZWFzZSB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqCiAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gaW5jcmVtZW50CiAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9hZGRlZFZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGluY3JlYXNlIHRoZSBhbGxvd2FuY2UgYnkuCiAgICovCiAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXS5hZGQoX2FkZGVkVmFsdWUpOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBEZWNyZWFzZSB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqCiAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gZGVjcmVtZW50CiAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zdWJ0cmFjdGVkVmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gZGVjcmVhc2UgdGhlIGFsbG93YW5jZSBieS4KICAgKi8KICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfSBlbHNlIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKfQoKLy8gRmlsZTogY29udHJhY3RzL1NhcGllbkNvaW4uc29sCgovKioKICogQHRpdGxlIEhhcyBhIGBjb250cm9sbGVyYC4KICogQGRldiBUaGUgYGNvbnRyb2xsZXJgIG11c3QgYmUgYSBjb250cmFjdCBpbXBsZW1lbnRpbmcgVG9rZW5Db250cm9sbGVyLgogKiBAZGV2IFRoZSBgY29udHJvbGxlcmAgY2FuIHRyYWNrIG9yIHZldG8gdGhlIHRva2VucyB0cmFuc2ZlcnMuCiAqIEBkZXYgVGhlIGBjb250cm9sbGVyYCBjYW4gYXNzaWduIGl0cyByb2xlIHRvIGFub3RoZXIgYWRkcmVzcy4KICogQGRldiBUaGUgYG93bmVyYCBoYXZlIGFsbCB0aGUgcG93ZXJzIG9mIHRoZSBgY29udHJvbGxlcmAuCiAqLwpjb250cmFjdCBDb250cm9sbGVkIGlzIE93bkNsYWltUmVub3VuY2VhYmxlIHsKCiAgICBieXRlczQgcHVibGljIGNvbnN0YW50IFRPS0VOX0NPTlRST0xMRVJfSU5URVJGQUNFID0gYnl0ZXM0KGtlY2NhazI1NigiVG9rZW5Db250cm9sbGVyIikpOwogICAgVG9rZW5Db250cm9sbGVyIHB1YmxpYyBjb250cm9sbGVyOwoKICAgIGZ1bmN0aW9uIENvbnRyb2xsZWQoKSBwdWJsaWMge30KCiAgICAvLy8gQG5vdGljZSBUaGUgYWRkcmVzcyBvZiB0aGUgY29udHJvbGxlciBpcyB0aGUgb25seSBhZGRyZXNzIHRoYXQgY2FuIGNhbGwKICAgIC8vLyAgYSBmdW5jdGlvbiB3aXRoIHRoaXMgbW9kaWZpZXIKICAgIG1vZGlmaWVyIG9ubHlDb250cm9sbGVyT3JPd25lciB7CiAgICAgICAgcmVxdWlyZSgobXNnLnNlbmRlciA9PSBhZGRyZXNzKGNvbnRyb2xsZXIpKSB8fCAobXNnLnNlbmRlciA9PSBvd25lcikpOwogICAgICAgIF87CiAgICB9CgogICAgLy8vIEBub3RpY2UgQ2hhbmdlcyB0aGUgY29udHJvbGxlciBvZiB0aGUgY29udHJhY3QKICAgIC8vLyBAcGFyYW0gX25ld0NvbnRyb2xsZXIgVGhlIG5ldyBjb250cm9sbGVyIG9mIHRoZSBjb250cmFjdAogICAgZnVuY3Rpb24gY2hhbmdlQ29udHJvbGxlcihUb2tlbkNvbnRyb2xsZXIgX25ld0NvbnRyb2xsZXIpCiAgICAgICAgcHVibGljIG9ubHlDb250cm9sbGVyT3JPd25lcgogICAgewogICAgICAgIGlmKGFkZHJlc3MoX25ld0NvbnRyb2xsZXIpICE9IGFkZHJlc3MoMCkpIHsKICAgICAgICAgICAgLy8gQ2hlY2sgdHlwZSB0byBwcmV2ZW50IG1pc3Rha2VzCiAgICAgICAgICAgIHJlcXVpcmUoX25ld0NvbnRyb2xsZXIuSU5URVJGQUNFKCkgPT0gVE9LRU5fQ09OVFJPTExFUl9JTlRFUkZBQ0UpOwogICAgICAgIH0KICAgICAgICBjb250cm9sbGVyID0gX25ld0NvbnRyb2xsZXI7CiAgICB9Cgp9CgoKY29udHJhY3QgQ29udHJvbGxlZFRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIENvbnRyb2xsZWQgewoKICAgIG1vZGlmaWVyIGNvbnRyb2xsZXJDYWxsYmFjayhhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9wdXJwb3NlKSB7CiAgICAgICAgLy8gSWYgYSBjb250cm9sbGVyIGlzIHByZXNlbnQsIGFzayBpdCBhYm91dCB0aGUgdHJhbnNmZXIuCiAgICAgICAgaWYoYWRkcmVzcyhjb250cm9sbGVyKSAhPSBhZGRyZXNzKDApKSB7CiAgICAgICAgICAgIGJvb2wgX2FsbG93ID0gY29udHJvbGxlci5hbGxvd1RyYW5zZmVyKG1zZy5zZW5kZXIsIF9mcm9tLCBfdG8sIF92YWx1ZSwgX3B1cnBvc2UpOwogICAgICAgICAgICBpZighX2FsbG93KSB7CiAgICAgICAgICAgICAgICByZXR1cm47IC8vIERvIG5vdCB0cmFuc2ZlcgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIF87IC8vIFByb2NlZWQgd2l0aCB0aGUgdHJhbnNmZXIKICAgIH0KCiAgICAvKiogQGRldiBFUkMyMCB0cmFuc2ZlciB3aXRoIGNvbnRyb2xsZXIgY2FsbGJhY2sgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkKICAgICAgICBwdWJsaWMKICAgICAgICBjb250cm9sbGVyQ2FsbGJhY2sobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUsIGhleCIiKQogICAgICAgIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICAvKiogQGRldiBFUkMyMCB0cmFuc2ZlckZyb20gd2l0aCBjb250cm9sbGVyIGNhbGxiYWNrICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKQogICAgICAgIHB1YmxpYwogICAgICAgIGNvbnRyb2xsZXJDYWxsYmFjayhfZnJvbSwgX3RvLCBfdmFsdWUsIGhleCIiKQogICAgICAgIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyB0byBhIHNwZWNpZmllZCBhZGRyZXNzLCBpbmNsdWRpbmcgYSBwdXJwb3NlLgogICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgICAqIEBwYXJhbSBfcHVycG9zZSBBcmJpdHJhcnkgZGF0YSBhdHRhY2hlZCB0byB0aGUgdHJhbnNhY3Rpb24uCiAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJXaXRoUHVycG9zZShhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9wdXJwb3NlKQogICAgICAgIHB1YmxpYwogICAgICAgIGNvbnRyb2xsZXJDYWxsYmFjayhtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSwgX3B1cnBvc2UpCiAgICAgICAgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogICAgfQoKfQoKCmNvbnRyYWN0IEJhdGNoVG9rZW4gaXMgQ29udHJvbGxlZFRva2VuIHsKCiAgICAvKioKICAgICogQGRldiBUcmFuc2ZlciB0byBtYW55IGFkZHJlc3NlcyBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvbi4KICAgICogQGRldiBDYWxsIHRyYW5zZmVyKHRvLCBhbW91bnQpIHdpdGggdGhlIGFyZ3VtZW50cyB0YWtlbiBmcm9tIHR3byBhcnJheXMuCiAgICAqIEBkZXYgSWYgb25lIHRyYW5zZmVyIGlzIGludmFsaWQsIGV2ZXJ5dGhpbmcgaXMgYWJvcnRlZC4KICAgICogQGRldiBUaGUgYF9leHBlY3RaZXJvYCBvcHRpb24gaXMgaW50ZW5kZWQgZm9yIHRoZSBpbml0aWFsIGJhdGNoIG1pbnRpbmcuCiAgICAqICAgICAgSXQgYWxsb3dzIG9wZXJhdGlvbnMgdG8gYmUgcmV0cmllZCBhbmQgcHJldmVudHMgZG91YmxlLW1pbnRpbmcgZHVlIHRvIHRoZQogICAgKiAgICAgIGFzeW5jaHJvbm91cyBhbmQgdW5jZXJ0YWluIG5hdHVyZSBvZiBibG9ja2NoYWluIHRyYW5zYWN0aW9ucy4KICAgICogICAgICBJdCBzaG91bGQgYmUgYXZvaWRlZCBhZnRlciB0cmFkaW5nIGhhcyBzdGFydGVkLgogICAgKiBAcGFyYW0gX3RvQXJyYXkgQWRkcmVzc2VzIHRoYXQgd2lsbCByZWNlaXZlIHRva2Vucy4KICAgICogQHBhcmFtIF9hbW91bnRBcnJheSBBbW91bnRzIG9mIHRva2VucyB0byB0cmFuc2ZlciwgaW4gdGhlIHNhbWUgb3JkZXIgYXMgYF90b0FycmF5YC4KICAgICogQHBhcmFtIF9leHBlY3RaZXJvIElmIGZhbHNlLCB0cmFuc2ZlciB0aGUgdG9rZW5zIGltbWVkaWF0ZWx5LgogICAgKiAgICAgICAgICAgICAgICAgICAgSWYgdHJ1ZSwgZXhwZWN0IHRoZSBjdXJyZW50IGJhbGFuY2Ugb2YgYF90b2AgdG8gYmUgemVybyBiZWZvcmUKICAgICogICAgICAgICAgICAgICAgICAgIHRoZSB0cmFuc2Zlci4gSWYgbm90IHplcm8sIHNraXAgdGhpcyB0cmFuc2ZlciBidXQgY29udGludWUuCiAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJCYXRjaElkZW1wb3RlbnQoYWRkcmVzc1tdIF90b0FycmF5LCB1aW50MjU2W10gX2Ftb3VudEFycmF5LCBib29sIF9leHBlY3RaZXJvKQogICAgICAgIC8vIEFueW9uZSBjYW4gY2FsbCBpZiB0aGV5IGhhdmUgdGhlIGJhbGFuY2UKICAgICAgICBwdWJsaWMKICAgIHsKICAgICAgICAvLyBDaGVjayB0aGF0IHRoZSBhcnJheXMgYXJlIHRoZSBzYW1lIHNpemUKICAgICAgICB1aW50MjU2IF9jb3VudCA9IF90b0FycmF5Lmxlbmd0aDsKICAgICAgICByZXF1aXJlKF9hbW91bnRBcnJheS5sZW5ndGggPT0gX2NvdW50KTsKCiAgICAgICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgX2NvdW50OyBpKyspIHsKICAgICAgICAgICAgYWRkcmVzcyBfdG8gPSBfdG9BcnJheVtpXTsKICAgICAgICAgICAgLy8gRWl0aGVyIHJlZ3VsYXIgdHJhbnNmZXIsIG9yIGNoZWNrIHRoYXQgQmFzaWNUb2tlbi5iYWxhbmNlcyBpcyB6ZXJvLgogICAgICAgICAgICBpZighX2V4cGVjdFplcm8gfHwgKGJhbGFuY2VPZihfdG8pID09IDApKSB7CiAgICAgICAgICAgICAgICB0cmFuc2ZlcihfdG8sIF9hbW91bnRBcnJheVtpXSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cgp9CgoKLyoqCiAqIEB0aXRsZSBUaGUgU2FwaWVuIFRva2VuLgogKi8KY29udHJhY3QgU2FwaWVuVG9rZW4gaXMgQmF0Y2hUb2tlbiB7CgogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIlNhcGllbiBOZXR3b3JrIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIlNQTiI7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDY7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHdlYnNpdGUgPSAiaHR0cHM6Ly9zYXBpZW4ubmV0d29yayI7CgogICAgLyoqCiAgICAqIEBkZXYgVGhlIG1heGltdW0gc3VwcGx5IHRoYXQgY2FuIGJlIG1pbnRlZCwgaW4gbWljcm9TUE4uCiAgICAqICAgICAgNTAwTSB3aXRoIDYgZGVjaW1hbHMuCiAgICAqLwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgTUFYX1NVUFBMWV9VU1BOID0gNTAwICogMTAwMCAqIDEwMDAgKiAoMTAqKmRlY2ltYWxzKTsKCiAgICBmdW5jdGlvbiBTYXBpZW5Ub2tlbigpIHB1YmxpYyB7CiAgICAgICAgLy8gQWxsIGluaXRpYWwgdG9rZW5zIHRvIG93bmVyCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBNQVhfU1VQUExZX1VTUE47CiAgICAgICAgdG90YWxTdXBwbHlfID0gTUFYX1NVUFBMWV9VU1BOOwogICAgfQoKfQ=='.
	

]
