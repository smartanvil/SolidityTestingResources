Class {
	#name : #SRTbbff862d906e348e9946bfb2132ecb157da3d4b4,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTbbff862d906e348e9946bfb2132ecb157da3d4b4 >> base64 [
	^ 'LyoKICBDb3B5cmlnaHQgMjAxNyBTaGFyZGVyIEZvdW5kYXRpb24uCgogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCiAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCiAgIyMjIyMjIyMjIyMjIyMjIyBTaGFyZGVyLVRva2VuLXYyLjAgIyMjIyMjIyMjIyMjIyMjCiAgYSkgQWRkZWQgYW4gZW1lcmdlbmN5IHRyYW5zZmVyIGZ1bmN0aW9uIHRvIHRyYW5zZmVyIHRva2VucyB0byB0aGUgY29udHJhY3Qgb3duZXIuCiAgYikgUmVtb3ZlZCBjcm93ZHNhbGUgbG9naWMgYWNjb3JkaW5nIHRvIHRoZSBNaW50VG9rZW4gc3RhbmRhcmQgdG8gaW1wcm92ZSBuZWF0bmVzcyBhbmQgbGVnaWJpbGl0eSBvZiB0aGUgdG9rZW4gY29udHJhY3QuCiAgYykgQWRkZWQgdGhlICdGcm96ZW4nIGJyb2FkY2FzdCBldmVudC4KICBkKSBDaGFuZ2VkIG5hbWUsIHN5bWJvbCwgZGVjaW1hbCwgZXRjLCBwYXJhbWV0ZXJzIHRvIGxvd2VyLWNhc2UgYWNjb3JkaW5nIHRvIHRoZSBjb252ZW50aW9uLiBBZGp1c3QgZm9ybWF0IHBhcmFtZXRlcnMuCiAgZSkgQWRkZWQgYSBnbG9iYWwgcGFyYW1ldGVyIHRvIHRoZSBzbWFydCBjb250YWN0IHRvIHByZXZlbnQgZXhjaGFuZ2VzIHRyYWRpbmcgU2hhcmRlciB0b2tlbnMgYmVmb3JlIG9mZmljaWFsbHkgcGFydG5lcmluZy4KICBmKSBBZGRlZCBhZGRyZXNzIG1hcHBpbmcgdG8gZmFjaWxpdGF0ZSB0aGUgZXhjaGFuZ2Ugb2YgY3VycmVudCBFUkMtMjAgdG9rZW5zIHRvIHRoZSBTaGFyZGVyIENoYWluIHRva2VuIHdoZW4gaXQgZ29lcyBsaXZlLgogIGcpIEFkZGVkIExvY2t1cCBhbmQgbG9jay11cCBxdWVyeSBmdW5jdGlvbmFsaXR5LgoKICBTaGFyZGVyLVRva2VuLXYxLjAgaGFzIGV4cGlyZWQuIFRoZSBkZXByZWNhdGVkIGNvZGUgaXMgYXZhaWxhYmxlIGluIHRoZSBzaGFyZGVyLXRva2VuLXYxLjAnIGJyYW5jaC4KKi8KcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIC8qKgogICAgKiBAZGV2IE11bHRpcGxpZXMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAgICovCiAgICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGlmIChhID09IDApIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBJbnRlZ2VyIGRpdmlzaW9uIG9mIHR3byBudW1iZXJzLCB0cnVuY2F0aW5nIHRoZSBxdW90aWVudC4KICAgICovCiAgICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgQWRkIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgICAqLwogICAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgICAgICBhc3NlcnQoYyA+PSBhKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBTdWJ0cmFjdHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdyAoaS5lLiBpZiBzdWJ0cmFoZW5kIGlzIGdyZWF0ZXIgdGhhbiBtaW51ZW5kKS4KICAgICovCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KfQogIAovKioKKiBAdGl0bGUgU2hhcmRlciBUb2tlbiB2Mi4wLiBTUyAoU2hhcmRlcikgaXMgYW4gdXBncmFkZSBmcm9tIFNTIChTaGFyZGVyIFN0b3JhZ2UpLgoqIEBhdXRob3IgQmVuLTw8c3BhbiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9IjBiNzM3MjRiNzg2MzZhNzk2ZjZlNzkyNTY0Nzk2YyI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvc3Bhbj4+LCBDb21tdW5pdHkgQ29udHJpYnV0b3I6IE5pY2sgUGFycmluLTw8c3BhbiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9IjNmNGY1ZTRkNGQ1NjUxN2Y0ZjRkNTA0YjUwNTE1MjVlNTY1MzExNWM1MDUyIj5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9zcGFuPj4KKiBAZGV2IEVSQy0yMDogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvYmxvYi9tYXN0ZXIvRUlQUy9laXAtMjAubWQKKi8KY29udHJhY3QgU2hhcmRlclRva2VuIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIlNoYXJkZXIiOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiU1MiOwogICAgdWludDggcHVibGljIGRlY2ltYWxzID0gMTg7CgogICAgLy8vICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKICAgIC8vLyB8ICAgICAgICAgICAgICAgICBTUyAoU2hhcmRlcikgVG9rZW4gSXNzdWUgUGxhbiAgICAgICAgICAgICAgICB8CiAgICAvLy8gKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwogICAgLy8vIHwgICAgICAgICAgICAgICAgICAgIEZpcnN0IFJvdW5kIChDcm93ZHNhbGUpICAgICAgICAgICAgICAgICAgIHwKICAgIC8vLyArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rCiAgICAvLy8gfCAgICAgVG90YWwgU2FsZSAgICB8ICAgICAgQWlyZHJvcCAgICAgIHwgIENvbW11bml0eSBSZXNlcnZlICAgfAogICAgLy8vICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKICAgIC8vLyB8ICAgICAyNTAsMDAwLDAwMCAgIHwgICAgIDUwLDAwMCwwMDAgICAgfCAgICAgNTAsMDAwLDAwMCAgICAgICB8CiAgICAvLy8gKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwogICAgLy8vIHwgVGVhbSBSZXNlcnZlICg1MCwwMDAsMDAwIFNTKTogSXNzdWUgaW4gMyB5ZWFyIHBlcmlvZCAgICAgICAgIHwKICAgIC8vLyArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rCiAgICAvLy8gfCBTeXN0ZW0gUmV3YXJkICgxMDAsMDAwLDAwMCBTUyk6IFJld2FyZCBieSBTaGFyZGVyIENoYWluIEF1dG8gfAogICAgLy8vICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKICAgIAogICAgLy8gVG90YWwgU3VwcGx5IG9mIFNoYXJkZXIgVG9rZW5zCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseSA9IDM1MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDsKCiAgICAvLyBNdWx0aS1kaW1lbnNpb25hbCBtYXBwaW5nIHRvIGtlZXAgYWxsb3cgdHJhbnNmZXJzIGJldHdlZW4gYWRkcmVzc2VzCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2FuY2U7CiAgICAKICAgIC8vIE1hcHBpbmcgdG8gcmV0cmlldmUgYmFsYW5jZSBvZiBhIHNwZWNpZmljIGFkZHJlc3MKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VPZjsKCiAgICAvLy8gVGhlIG93bmVyIG9mIGNvbnRyYWN0CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICAvLy8gVGhlIGFkbWluIGFjY291bnQgb2YgY29udHJhY3QKICAgIGFkZHJlc3MgcHVibGljIGFkbWluOwoKICAgIC8vIE1hcHBpbmcgb2YgYWRkcmVzc2VzIHRoYXQgYXJlIGxvY2tlZCB1cAogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBpbnRlcm5hbCBhY2NvdW50TG9ja3VwOwoKICAgIC8vIE1hcHBpbmcgdGhhdCByZXRyaWV2ZXMgdGhlIGN1cnJlbnQgbG9ja3VwIHRpbWUgZm9yIGEgc3BlY2lmaWMgYWRkcmVzcwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYWNjb3VudExvY2t1cFRpbWU7CiAgICAKICAgIC8vIE1hcHBpbmcgb2YgYWRkcmVzc2VzIHRoYXQgYXJlIGZyb3plbgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgZnJvemVuQWNjb3VudHM7CiAgICAKICAgIC8vIE1hcHBpbmcgb2YgaG9sZGVyIGFkZHJlc3NlcyAoaW5kZXgpCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGludGVybmFsIGhvbGRlckluZGV4OwoKICAgIC8vIEFycmF5IG9mIGhvbGRlciBhZGRyZXNzc2VzCiAgICBhZGRyZXNzW10gaW50ZXJuYWwgaG9sZGVyczsKCiAgICAvLy9GaXJzdCByb3VuZCB0b2tlbnMgd2hldGhlciBpc3NzdWVkLgogICAgYm9vbCBpbnRlcm5hbCBmaXJzdFJvdW5kVG9rZW5Jc3N1ZWQgPSBmYWxzZTsKCiAgICAvLy8gQ29udHJhY3QgcGF1c2Ugc3RhdGUKICAgIGJvb2wgcHVibGljIHBhdXNlZCA9IHRydWU7CgogICAgLy8vIElzc3VlIGV2ZW50IGluZGV4IHN0YXJ0aW5nIGZyb20gMC4KICAgIHVpbnQyNTYgaW50ZXJuYWwgaXNzdWVJbmRleCA9IDA7CgogICAgLy8gRW1pdHRlZCB3aGVuIGEgZnVuY3Rpb24gaXMgaW52b2NhdGVkIHdpdGhvdXQgdGhlIHNwZWNpZmllZCBwcmVjb25kaXRpb25zLgogICAgZXZlbnQgSW52YWxpZFN0YXRlKGJ5dGVzIG1zZyk7CgogICAgLy8gVGhpcyBub3RpZmllcyBjbGllbnRzIGFib3V0IHRoZSB0b2tlbiBpc3N1ZWQuCiAgICBldmVudCBJc3N1ZSh1aW50MjU2IGlzc3VlSW5kZXgsIGFkZHJlc3MgYWRkciwgdWludDI1NiBldGhBbW91bnQsIHVpbnQyNTYgdG9rZW5BbW91bnQpOwoKICAgIC8vIFRoaXMgbm90aWZpZXMgY2xpZW50cyBhYm91dCB0aGUgYW1vdW50IHRvIHRyYW5zZmVyCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKCiAgICAvLyBUaGlzIG5vdGlmaWVzIGNsaWVudHMgYWJvdXQgdGhlIGFtb3VudCB0byBhcHByb3ZlCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKCiAgICAvLyBUaGlzIG5vdGlmaWVzIGNsaWVudHMgYWJvdXQgdGhlIGFtb3VudCBidXJudAogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludDI1NiB2YWx1ZSk7CgogICAgLy8gVGhpcyBub3RpZmllcyBjbGllbnRzIGFib3V0IHRoZSBhY2NvdW50IGZyb3plbgogICAgZXZlbnQgRnJvemVuRnVuZHMoYWRkcmVzcyB0YXJnZXQsIGJvb2wgZnJvemVuKTsKCiAgICAvLyBUaGlzIG5vdGlmaWVzIGNsaWVudHMgYWJvdXQgdGhlIHBhdXNlCiAgICBldmVudCBQYXVzZSgpOwoKICAgIC8vIFRoaXMgbm90aWZpZXMgY2xpZW50cyBhYm91dCB0aGUgdW5wYXVzZQogICAgZXZlbnQgVW5wYXVzZSgpOwoKICAgIC8qCiAgICAgKiBNT0RJRklFUlMKICAgICAqLwogICAgbW9kaWZpZXIgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seUFkbWluIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgbXNnLnNlbmRlciA9PSBhZG1pbik7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgTW9kaWZpZXIgdG8gbWFrZSBhIGZ1bmN0aW9uIGNhbGxhYmxlIG9ubHkgd2hlbiBhY2NvdW50IG5vdCBmcm96ZW4uCiAgICAgKi8KICAgIG1vZGlmaWVyIGlzTm90RnJvemVuIHsKICAgICAgICByZXF1aXJlKGZyb3plbkFjY291bnRzW21zZy5zZW5kZXJdICE9IHRydWUgJiYgbm93ID4gYWNjb3VudExvY2t1cFRpbWVbbXNnLnNlbmRlcl0pOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IE1vZGlmaWVyIHRvIG1ha2UgYSBmdW5jdGlvbiBjYWxsYWJsZSBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IGlzIG5vdCBwYXVzZWQuCiAgICAgKi8KICAgIG1vZGlmaWVyIGlzTm90UGF1c2VkKCkgewogICAgICAgIHJlcXVpcmUoKG1zZy5zZW5kZXIgPT0gb3duZXIgJiYgcGF1c2VkKSB8fCAobXNnLnNlbmRlciA9PSBhZG1pbiAmJiBwYXVzZWQpIHx8ICFwYXVzZWQpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IE1vZGlmaWVyIHRvIG1ha2UgYSBmdW5jdGlvbiBjYWxsYWJsZSBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IGlzIHBhdXNlZC4KICAgICAqLwogICAgbW9kaWZpZXIgaXNQYXVzZWQoKSB7CiAgICAgICAgcmVxdWlyZShwYXVzZWQpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEludGVybmFsIHRyYW5zZmVyLCBvbmx5IGNhbiBiZSBjYWxsZWQgYnkgdGhpcyBjb250cmFjdAogICAgICogQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIGZyb20uCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIHRyYW5zZmVyIGJldHdlZW4gYWRkcmVzc3Nlcy4KICAgICAqLwogICAgZnVuY3Rpb24gX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgaXNOb3RGcm96ZW4gaXNOb3RQYXVzZWQgewogICAgICAgIC8vIFByZXZlbnQgdHJhbnNmZXIgdG8gMHgwIGFkZHJlc3MuIFVzZSBidXJuKCkgaW5zdGVhZAogICAgICAgIHJlcXVpcmUoX3RvICE9IDB4MCk7CiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbX2Zyb21dID49IF92YWx1ZSk7CiAgICAgICAgLy8gQ2hlY2sgZm9yIG92ZXJmbG93cwogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW190b10gKyBfdmFsdWUgPiBiYWxhbmNlT2ZbX3RvXSk7CiAgICAgICAgLy8gU2F2ZSB0aGlzIGZvciBhbiBhc3NlcnRpb24gaW4gdGhlIGZ1dHVyZQogICAgICAgIHVpbnQyNTYgcHJldmlvdXNCYWxhbmNlcyA9IGJhbGFuY2VPZltfZnJvbV0gKyBiYWxhbmNlT2ZbX3RvXTsKICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIKICAgICAgICBiYWxhbmNlT2ZbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICAvLyBBZGQgdGhlIHNhbWUgdG8gdGhlIHJlY2lwaWVudAogICAgICAgIGJhbGFuY2VPZltfdG9dICs9IF92YWx1ZTsKICAgICAgICAvLyBVcGRhdGUgVG9rZW4gaG9sZGVycwogICAgICAgIGFkZE9yVXBkYXRlSG9sZGVyKF9mcm9tKTsKICAgICAgICBhZGRPclVwZGF0ZUhvbGRlcihfdG8pOwogICAgICAgIC8vIFNlbmQgdGhlIFRyYW5zZmVyIEV2ZW50CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICAvLyBBc3NlcnRzIGFyZSB1c2VkIHRvIHVzZSBzdGF0aWMgYW5hbHlzaXMgdG8gZmluZCBidWdzIGluIHlvdXIgY29kZS4gVGhleSBzaG91bGQgbmV2ZXIgZmFpbAogICAgICAgIGFzc2VydChiYWxhbmNlT2ZbX2Zyb21dICsgYmFsYW5jZU9mW190b10gPT0gcHJldmlvdXNCYWxhbmNlcyk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IFRyYW5zZmVyIHRvIGEgc3BlY2lmaWMgYWRkcmVzcwogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAgICAqIEBwYXJhbSBfdHJhbnNmZXJUb2tlbnNXaXRoRGVjaW1hbCBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF90cmFuc2ZlclRva2Vuc1dpdGhEZWNpbWFsKSBwdWJsaWMgewogICAgICAgIF90cmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF90cmFuc2ZlclRva2Vuc1dpdGhEZWNpbWFsKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICAgKiBAcGFyYW0gX3RyYW5zZmVyVG9rZW5zV2l0aERlY2ltYWwgdWludCB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3RyYW5zZmVyVG9rZW5zV2l0aERlY2ltYWwpIHB1YmxpYyBpc05vdEZyb3plbiBpc05vdFBhdXNlZCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKF90cmFuc2ZlclRva2Vuc1dpdGhEZWNpbWFsIDw9IGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0pOwogICAgICAgIC8vIENoZWNrIGFsbG93YW5jZQogICAgICAgIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3RyYW5zZmVyVG9rZW5zV2l0aERlY2ltYWw7CiAgICAgICAgX3RyYW5zZmVyKF9mcm9tLCBfdG8sIF90cmFuc2ZlclRva2Vuc1dpdGhEZWNpbWFsKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQWxsb3dzIGBfc3BlbmRlcmAgdG8gc3BlbmQgbm8gbW9yZSAoYWxsb3dhbmNlKSB0aGFuIGBfYXBwcm92ZVRva2Vuc1dpdGhEZWNpbWFsYCB0b2tlbnMgaW4geW91ciBiZWhhbGYKICAgICAqCiAgICAgKiAhIUJld2FyZSB0aGF0IGNoYW5naW5nIGFuIGFsbG93YW5jZSB3aXRoIHRoaXMgbWV0aG9kIGJyaW5ncyB0aGUgcmlzayB0aGF0IHNvbWVvbmUgbWF5IHVzZSBib3RoIHRoZSBvbGQKICAgICAqIGFuZCB0aGUgbmV3IGFsbG93YW5jZSBieSB1bmZvcnR1bmF0ZSB0cmFuc2FjdGlvbiBvcmRlcmluZy4gT25lIHBvc3NpYmxlIHNvbHV0aW9uIHRvIG1pdGlnYXRlIHRoaXMKICAgICAqIHJhY2UgY29uZGl0aW9uIGlzIHRvIGZpcnN0IHJlZHVjZSB0aGUgc3BlbmRlcidzIGFsbG93YW5jZSB0byAwIGFuZCBzZXQgdGhlIGRlc2lyZWQgdmFsdWUgYWZ0ZXJ3YXJkczoKICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3MgYXV0aG9yaXplZCB0byBzcGVuZC4KICAgICAqIEBwYXJhbSBfYXBwcm92ZVRva2Vuc1dpdGhEZWNpbWFsIHRoZSBtYXggYW1vdW50IHRoZXkgY2FuIHNwZW5kLgogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2FwcHJvdmVUb2tlbnNXaXRoRGVjaW1hbCkgcHVibGljIGlzTm90RnJvemVuIGlzTm90UGF1c2VkIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93YW5jZVttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfYXBwcm92ZVRva2Vuc1dpdGhEZWNpbWFsOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfYXBwcm92ZVRva2Vuc1dpdGhEZWNpbWFsKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgRGVzdHJveSB0b2tlbnMgYW5kIHJlbW92ZSBgX3ZhbHVlYCB0b2tlbnMgZnJvbSB0aGUgc3lzdGVtIGlycmV2ZXJzaWJseQogICAgICogQHBhcmFtIF9idXJuZWRUb2tlbnNXaXRoRGVjaW1hbCBUaGUgYW1vdW50IG9mIHRva2VucyB0byBidXJuLiAhIUlNUE9SVEFOVCBpcyAxOCBERUNJTUFMUwogICAgKi8KICAgIGZ1bmN0aW9uIGJ1cm4odWludDI1NiBfYnVybmVkVG9rZW5zV2l0aERlY2ltYWwpIHB1YmxpYyBpc05vdEZyb3plbiBpc05vdFBhdXNlZCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA+PSBfYnVybmVkVG9rZW5zV2l0aERlY2ltYWwpOwogICAgICAgIC8vLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gLT0gX2J1cm5lZFRva2Vuc1dpdGhEZWNpbWFsOwogICAgICAgIC8vLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIKICAgICAgICB0b3RhbFN1cHBseSAtPSBfYnVybmVkVG9rZW5zV2l0aERlY2ltYWw7CiAgICAgICAgQnVybihtc2cuc2VuZGVyLCBfYnVybmVkVG9rZW5zV2l0aERlY2ltYWwpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBEZXN0cm95IHRva2VucyAoYF92YWx1ZWApIGZyb20gdGhlIHN5c3RlbSBpcnJldmVyc2libHkgb24gYmVoYWxmIG9mIGBfZnJvbWAuCiAgICAgKiBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlci4KICAgICAqIEBwYXJhbSBfYnVybmVkVG9rZW5zV2l0aERlY2ltYWwgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYnVybi4gISEhIElNUE9SVEFOVCBpcyAxOCBERUNJTUFMUwogICAgKi8KICAgIGZ1bmN0aW9uIGJ1cm5Gcm9tKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX2J1cm5lZFRva2Vuc1dpdGhEZWNpbWFsKSBwdWJsaWMgaXNOb3RGcm96ZW4gaXNOb3RQYXVzZWQgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbX2Zyb21dID49IF9idXJuZWRUb2tlbnNXaXRoRGVjaW1hbCk7CiAgICAgICAgLy8vIENoZWNrIGlmIHRoZSB0YXJnZXRlZCBiYWxhbmNlIGlzIGVub3VnaAogICAgICAgIHJlcXVpcmUoX2J1cm5lZFRva2Vuc1dpdGhEZWNpbWFsIDw9IGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0pOwogICAgICAgIC8vLyBDaGVjayBhbGxvd2FuY2UKICAgICAgICBiYWxhbmNlT2ZbX2Zyb21dIC09IF9idXJuZWRUb2tlbnNXaXRoRGVjaW1hbDsKICAgICAgICAvLy8gU3VidHJhY3QgZnJvbSB0aGUgdGFyZ2V0ZWQgYmFsYW5jZQogICAgICAgIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX2J1cm5lZFRva2Vuc1dpdGhEZWNpbWFsOwogICAgICAgIC8vLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIncyBhbGxvd2FuY2UKICAgICAgICB0b3RhbFN1cHBseSAtPSBfYnVybmVkVG9rZW5zV2l0aERlY2ltYWw7CiAgICAgICAgQnVybihfZnJvbSwgX2J1cm5lZFRva2Vuc1dpdGhEZWNpbWFsKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQWRkIGhvbGRlciBhZGRyZXNzIGludG8gYGhvbGRlckluZGV4YCBtYXBwaW5nIGFuZCB0byB0aGUgYGhvbGRlcnNgIGFycmF5LgogICAgICogQHBhcmFtIF9ob2xkZXJBZGRyIFRoZSBhZGRyZXNzIG9mIHRoZSBob2xkZXIKICAgICovCiAgICBmdW5jdGlvbiBhZGRPclVwZGF0ZUhvbGRlcihhZGRyZXNzIF9ob2xkZXJBZGRyKSBpbnRlcm5hbCB7CiAgICAgICAgLy8gQ2hlY2sgYW5kIGFkZCBob2xkZXIgdG8gYXJyYXkKICAgICAgICBpZiAoaG9sZGVySW5kZXhbX2hvbGRlckFkZHJdID09IDApIHsKICAgICAgICAgICAgaG9sZGVySW5kZXhbX2hvbGRlckFkZHJdID0gaG9sZGVycy5sZW5ndGgrKzsKICAgICAgICAgICAgaG9sZGVyc1tob2xkZXJJbmRleFtfaG9sZGVyQWRkcl1dID0gX2hvbGRlckFkZHI7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogQ09OU1RSVUNUT1IKICAgICAqIEBkZXYgSW5pdGlhbGl6ZSB0aGUgU2hhcmRlciBUb2tlbiB2Mi4wCiAgICAgKi8KICAgIGZ1bmN0aW9uIFNoYXJkZXJUb2tlbigpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIGFkbWluID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICAgKiBAcGFyYW0gX25ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoX25ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgICAgIG93bmVyID0gX25ld093bmVyOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IFNldCBhZG1pbiBhY2NvdW50IHRvIG1hbmFnZSBjb250cmFjdC4KICAgICovCiAgICBmdW5jdGlvbiBzZXRBZG1pbihhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBhZG1pbiA9IF9hZGRyZXNzOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IElzc3VlIGZpcnN0IHJvdW5kIHRva2VucyB0byBgb3duZXJgIGFkZHJlc3MuCiAgICAqLwogICAgZnVuY3Rpb24gaXNzdWVGaXJzdFJvdW5kVG9rZW4oKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKCFmaXJzdFJvdW5kVG9rZW5Jc3N1ZWQpOwoKICAgICAgICBiYWxhbmNlT2Zbb3duZXJdID0gYmFsYW5jZU9mW293bmVyXS5hZGQodG90YWxTdXBwbHkpOwogICAgICAgIElzc3VlKGlzc3VlSW5kZXgrKywgb3duZXIsIDAsIHRvdGFsU3VwcGx5KTsKICAgICAgICBhZGRPclVwZGF0ZUhvbGRlcihvd25lcik7CiAgICAgICAgZmlyc3RSb3VuZFRva2VuSXNzdWVkID0gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgSXNzdWUgdG9rZW5zIGZvciByZXNlcnZlLgogICAgICogQHBhcmFtIF9pc3N1ZVRva2Vuc1dpdGhEZWNpbWFsIFRoZSBhbW91bnQgb2YgcmVzZXJ2ZSB0b2tlbnMuICEhSU1QT1JUQU5UIGlzIDE4IERFQ0lNQUxTCiAgICAqLwogICAgZnVuY3Rpb24gaXNzdWVSZXNlcnZlVG9rZW4odWludDI1NiBfaXNzdWVUb2tlbnNXaXRoRGVjaW1hbCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgYmFsYW5jZU9mW293bmVyXSA9IGJhbGFuY2VPZltvd25lcl0uYWRkKF9pc3N1ZVRva2Vuc1dpdGhEZWNpbWFsKTsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfaXNzdWVUb2tlbnNXaXRoRGVjaW1hbCk7CiAgICAgICAgSXNzdWUoaXNzdWVJbmRleCsrLCBvd25lciwgMCwgX2lzc3VlVG9rZW5zV2l0aERlY2ltYWwpOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IEZyZWV6ZSBvciBVbmZyZWV6ZSBhbiBhZGRyZXNzCiAgICAqIEBwYXJhbSBfYWRkcmVzcyBhZGRyZXNzIHRoYXQgd2lsbCBiZSBmcm96ZW4gb3IgdW5mcm96ZW4KICAgICogQHBhcmFtIF9mcm96ZW5TdGF0dXMgc3RhdHVzIGluZGljYXRpbmcgaWYgdGhlIGFkZHJlc3Mgd2lsbCBiZSBmcm96ZW4gb3IgdW5mcm96ZW4uCiAgICAqLwogICAgZnVuY3Rpb24gY2hhbmdlRnJvemVuU3RhdHVzKGFkZHJlc3MgX2FkZHJlc3MsIGJvb2wgX2Zyb3plblN0YXR1cykgcHVibGljIG9ubHlBZG1pbiB7CiAgICAgICAgZnJvemVuQWNjb3VudHNbX2FkZHJlc3NdID0gX2Zyb3plblN0YXR1czsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBMb2NrdXAgYWNjb3VudCB0aWxsIHRoZSBkYXRlLiBDYW4ndCBsb2NrLXVwIGFnYWluIHdoZW4gdGhpcyBhY2NvdW50IGxvY2tlZCBhbHJlYWR5LgogICAgKiAxIHllYXIgPSAzMTUzNjAwMCBzZWNvbmRzLCAwLjUgeWVhciA9IDE1NzY4MDAwIHNlY29uZHMKICAgICovCiAgICBmdW5jdGlvbiBsb2NrdXBBY2NvdW50KGFkZHJlc3MgX2FkZHJlc3MsIHVpbnQyNTYgX2xvY2t1cFNlY29uZHMpIHB1YmxpYyBvbmx5QWRtaW4gewogICAgICAgIHJlcXVpcmUoKGFjY291bnRMb2NrdXBbX2FkZHJlc3NdICYmIG5vdyA+IGFjY291bnRMb2NrdXBUaW1lW19hZGRyZXNzXSkgfHwgIWFjY291bnRMb2NrdXBbX2FkZHJlc3NdKTsKICAgICAgICAvLyBsb2NrLXVwIGFjY291bnQKICAgICAgICBhY2NvdW50TG9ja3VwVGltZVtfYWRkcmVzc10gPSBub3cgKyBfbG9ja3VwU2Vjb25kczsKICAgICAgICBhY2NvdW50TG9ja3VwW19hZGRyZXNzXSA9IHRydWU7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgR2V0IHRoZSBjdXVyZW50IFNTIGhvbGRlciBjb3VudC4KICAgICovCiAgICBmdW5jdGlvbiBnZXRIb2xkZXJDb3VudCgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgX2hvbGRlcnNDb3VudCl7CiAgICAgICAgcmV0dXJuIGhvbGRlcnMubGVuZ3RoIC0gMTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBHZXQgdGhlIGN1cnJlbnQgU1MgaG9sZGVyIGFkZHJlc3Nlcy4KICAgICovCiAgICBmdW5jdGlvbiBnZXRIb2xkZXJzKCkgcHVibGljIG9ubHlBZG1pbiB2aWV3IHJldHVybnMgKGFkZHJlc3NbXSBfaG9sZGVycyl7CiAgICAgICAgcmV0dXJuIGhvbGRlcnM7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgUGF1c2UgdGhlIGNvbnRyYWN0IGJ5IG9ubHkgdGhlIG93bmVyLiBUcmlnZ2VycyBQYXVzZSgpIEV2ZW50LgogICAgKi8KICAgIGZ1bmN0aW9uIHBhdXNlKCkgb25seUFkbWluIGlzTm90UGF1c2VkIHB1YmxpYyB7CiAgICAgICAgcGF1c2VkID0gdHJ1ZTsKICAgICAgICBQYXVzZSgpOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IFVucGF1c2UgdGhlIGNvbnRyYWN0IGJ5IG9ubHkgaGUgb3duZXIuIFRyaWdnZXJzIHRoZSBVbnBhdXNlKCkgRXZlbnQuCiAgICAqLwogICAgZnVuY3Rpb24gdW5wYXVzZSgpIG9ubHlBZG1pbiBpc1BhdXNlZCBwdWJsaWMgewogICAgICAgIHBhdXNlZCA9IGZhbHNlOwogICAgICAgIFVucGF1c2UoKTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBDaGFuZ2UgdGhlIHN5bWJvbCBhdHRyaWJ1dGUgb2YgdGhlIGNvbnRyYWN0IGJ5IHRoZSBPd25lci4KICAgICogQHBhcmFtIF9zeW1ib2wgU2hvcnQgbmFtZSBvZiB0aGUgdG9rZW4sIHN5bWJvbC4KICAgICovCiAgICBmdW5jdGlvbiBzZXRTeW1ib2woc3RyaW5nIF9zeW1ib2wpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHN5bWJvbCA9IF9zeW1ib2w7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgQ2hhbmdlIHRoZSBuYW1lIGF0dHJpYnV0ZSBvZiB0aGUgY29udHJhY3QgYnkgdGhlIE93bmVyLgogICAgKiBAcGFyYW0gX25hbWUgTmFtZSBvZiB0aGUgdG9rZW4sIGZ1bGwgbmFtZS4KICAgICovCiAgICBmdW5jdGlvbiBzZXROYW1lKHN0cmluZyBfbmFtZSkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgbmFtZSA9IF9uYW1lOwogICAgfQoKICAgIC8vLyBAZGV2IFRoaXMgZGVmYXVsdCBmdW5jdGlvbiByZWplY3RzIGFueW9uZSB0byBwdXJjaGFzZSB0aGUgU1MgKFNoYXJkZXIpIHRva2VuLiBDcm93ZHNhbGUgaGFzIGZpbmlzaGVkLgogICAgZnVuY3Rpb24oKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgcmV2ZXJ0KCk7CiAgICB9Cgp9'.
	

]
