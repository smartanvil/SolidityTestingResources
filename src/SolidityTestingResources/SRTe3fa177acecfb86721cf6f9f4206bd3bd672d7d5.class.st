Class {
	#name : #SRTe3fa177acecfb86721cf6f9f4206bd3bd672d7d5,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe3fa177acecfb86721cf6f9f4206bd3bd672d7d5 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICAgICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAgICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9Cn0KCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgLyoqIAogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuIAogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB7CiAgICAgIHRocm93OwogICAgfQogICAgXzsKIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLiAKICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgICBvd25lciA9IG5ld093bmVyOwogIH0KIAp9CiAgCmNvbnRyYWN0IEVSQzIwIHsKCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwoKfQoKY29udHJhY3QgQ1RDVG9rZW4gaXMgT3duYWJsZSwgRVJDMjAgewoKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIC8vIFRva2VuIHByb3BlcnRpZXMKICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJDaGFpblRyYWRlIENvaW4iOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiQ1RDIjsKICAgIHVpbnQyNTYgcHVibGljIGRlY2ltYWxzID0gMTg7CiAgICB1aW50MjU2IHB1YmxpYyBudW1iZXJEZWNpbWFsMTg9IDEwMDAwMDAwMDAwMDAwMDAwMDA7CgogICAgdWludDI1NiBwdWJsaWMgaW5pdGlhbFByaWNlID0gMTAwMDsKICAgIHVpbnQyNTYgcHVibGljIF90b3RhbFN1cHBseSA9IDIyNTAwMDAwMGUxODsKICAgIHVpbnQyNTYgcHVibGljIF9pY29TdXBwbHkgPSAyMDAwMDAwMDBlMTg7CgogICAgLy8gQmFsYW5jZXMgZm9yIGVhY2ggYWNjb3VudAogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIAogICAgCiAgICAvL0JhbGFuY2VzIGZvciB3YWl0aW5nIEtZQyBhcHByb3ZpbmcKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXNXYWl0aW5nS1lDOwoKICAgIC8vIE93bmVyIG9mIGFjY291bnQgYXBwcm92ZXMgdGhlIHRyYW5zZmVyIG9mIGFuIGFtb3VudCB0byBhbm90aGVyIGFjY291bnQKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwogICAgCiAgICAvLyBzdGFydCBhbmQgZW5kIHRpbWVzdGFtcHMgd2hlcmUgaW52ZXN0bWVudHMgYXJlIGFsbG93ZWQgKGJvdGggaW5jbHVzaXZlKQogICAgdWludDI1NiBwdWJsaWMgc3RhcnRUaW1lID0gMTUwNzMzNDQwMDsgCiAgICB1aW50MjU2IHB1YmxpYyBlbmRUaW1lID0gMTUxNDc2NDc5OTsgCgogICAgLy8gV2FsbGV0IEFkZHJlc3Mgb2YgVG9rZW4KICAgIGFkZHJlc3MgcHVibGljIG11bHRpc2lnOwoKICAgIC8vIGhvdyBtYW55IHRva2VuIHVuaXRzIGEgYnV5ZXIgZ2V0cyBwZXIgd2VpCiAgICB1aW50MjU2IHB1YmxpYyBSQVRFOwoKICAgIHVpbnQyNTYgcHVibGljIG1pbkNvbnRyaWJBbW91bnQgPSAwLjAxIGV0aGVyOwogICAgdWludDI1NiBwdWJsaWMga3ljTGV2ZWwgPSAxNSBldGhlcjsKICAgIHVpbnQyNTYgbWluQ2FwQm9udXMgPSAyMDAgZXRoZXI7CgogICAgdWludDI1NiBwdWJsaWMgaGFyZENhcCA9IDIwMDAwMDAwMGUxODsKICAgIAogICAgLy9udW1iZXIgb2YgdG90YWwgdG9rZW5zIHNvbGQgCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbE51bWJlclRva2VuU29sZD0wOwoKICAgIGJvb2wgcHVibGljIG1pbnRpbmdGaW5pc2hlZCA9IGZhbHNlOwoKICAgIGJvb2wgcHVibGljIHRyYWRhYmxlID0gdHJ1ZTsKCiAgICBib29sIHB1YmxpYyBhY3RpdmUgPSB0cnVlOwoKICAgIGV2ZW50IE1pbnRGaW5pc2hlZCgpOwogICAgZXZlbnQgU3RhcnRUcmFkYWJsZSgpOwogICAgZXZlbnQgUGF1c2VUcmFkYWJsZSgpOwogICAgZXZlbnQgSGFsdFRva2VuQWxsT3BlcmF0aW9uKCk7CiAgICBldmVudCBSZXN1bWVUb2tlbkFsbE9wZXJhdGlvbigpOwogICAgZXZlbnQgVG9rZW5QdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgcHVyY2hhc2VyLCBhZGRyZXNzIGluZGV4ZWQgYmVuZWZpY2lhcnksIHVpbnQyNTYgdmFsdWUsIHVpbnQyNTYgYW1vdW50KTsKCgogICAgbW9kaWZpZXIgY2FuTWludCgpIHsKICAgICAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgY2FuVHJhZGFibGUoKSB7CiAgICAgICAgcmVxdWlyZSh0cmFkYWJsZSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBpc0FjdGl2ZSgpIHsKICAgICAgICByZXF1aXJlKGFjdGl2ZSk7CiAgICAgICAgXzsKICAgIH0KICAgIAogICAgbW9kaWZpZXIgc2FsZUlzT3BlbigpewogICAgICAgIHJlcXVpcmUoc3RhcnRUaW1lIDw9IGdldE5vdygpICYmIGdldE5vdygpIDw9ZW5kVGltZSk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLyBDb25zdHJ1Y3RvcgogICAgLy8gQG5vdGljZSBDVENUb2tlbiBDb250cmFjdAogICAgLy8gQHJldHVybiB0aGUgdHJhbnNhY3Rpb24gYWRkcmVzcwogICAgZnVuY3Rpb24gQ1RDVG9rZW4oYWRkcmVzcyBfbXVsdGlzaWcpIHsKICAgICAgICByZXF1aXJlKF9tdWx0aXNpZyAhPSAweDApOwogICAgICAgIG11bHRpc2lnID0gX211bHRpc2lnOwogICAgICAgIFJBVEUgPSBpbml0aWFsUHJpY2U7CgogICAgICAgIGJhbGFuY2VzW211bHRpc2lnXSA9IF90b3RhbFN1cHBseTsKCiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIC8vIFBheWFibGUgbWV0aG9kCiAgICAvLyBAbm90aWNlIEFueW9uZSBjYW4gYnV5IHRoZSB0b2tlbnMgb24gdG9rZW5zYWxlIGJ5IHBheWluZyBldGhlcgogICAgZnVuY3Rpb24gKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICAgICAgCiAgICAgICAgaWYgKCF2YWxpZFB1cmNoYXNlKCkpewogICAgICAgICAgICByZWZ1bmRGdW5kcyhtc2cuc2VuZGVyKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgdG9rZW5zYWxlKG1zZy5zZW5kZXIpOwogICAgfQoKICAgIC8vIEBub3RpY2UgdG9rZW5zYWxlCiAgICAvLyBAcGFyYW0gcmVjaXBpZW50IFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vIEByZXR1cm4gdGhlIHRyYW5zYWN0aW9uIGFkZHJlc3MgYW5kIHNlbmQgdGhlIGV2ZW50IGFzIFRyYW5zZmVyCiAgICAgICAgZnVuY3Rpb24gdG9rZW5zYWxlKGFkZHJlc3MgcmVjaXBpZW50KSBjYW5NaW50IGlzQWN0aXZlIHNhbGVJc09wZW4gcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZShyZWNpcGllbnQgIT0gMHgwKTsKICAgICAgICAKICAgICAgICB1aW50MjU2IHdlaUFtb3VudCA9IG1zZy52YWx1ZTsKICAgICAgICB1aW50MjU2IG5iVG9rZW5zID0gd2VpQW1vdW50Lm11bChSQVRFKS5kaXYoMSBldGhlcik7CiAgICAgICAgdWludDI1NiBudW1iZXJDdGNUb2tlbiA9IG5iVG9rZW5zLm11bChudW1iZXJEZWNpbWFsMTgpOwogICAgICAgIAogICAgICAgIHJlcXVpcmUoX2ljb1N1cHBseSA+PSBudW1iZXJDdGNUb2tlbik7CiAgICAgICAgCiAgICAgICAgYm9vbCBwZXJjZW50YWdlQm9udXNBcHBsaWNhYmxlID0gd2VpQW1vdW50ID49IG1pbkNhcEJvbnVzOwogICAgICAgIGlmIChwZXJjZW50YWdlQm9udXNBcHBsaWNhYmxlKSB7CiAgICAgICAgICAgIG51bWJlckN0Y1Rva2VuID0gbnVtYmVyQ3RjVG9rZW4ubXVsKDExKS5kaXYoMTApOwogICAgICAgIH0KICAgICAgICAKICAgICAgICB0b3RhbE51bWJlclRva2VuU29sZD10b3RhbE51bWJlclRva2VuU29sZC5hZGQobnVtYmVyQ3RjVG9rZW4pOwoKICAgICAgICBfaWNvU3VwcGx5ID0gX2ljb1N1cHBseS5zdWIobnVtYmVyQ3RjVG9rZW4pOwoKICAgICAgICBUb2tlblB1cmNoYXNlKG1zZy5zZW5kZXIsIHJlY2lwaWVudCwgd2VpQW1vdW50LCBudW1iZXJDdGNUb2tlbik7CgogICAgICAgICBpZih3ZWlBbW91bnQ8IGt5Y0xldmVsKSB7CiAgICAgICAgICAgIHVwZGF0ZUJhbGFuY2VzKHJlY2lwaWVudCwgbnVtYmVyQ3RjVG9rZW4pOwogICAgICAgICAgICBmb3J3YXJkRnVuZHMoKTsgIAogICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBiYWxhbmNlc1dhaXRpbmdLWUNbcmVjaXBpZW50XSA9IGJhbGFuY2VzV2FpdGluZ0tZQ1tyZWNpcGllbnRdLmFkZChudW1iZXJDdGNUb2tlbik7IAogICAgICAgICAgICBmb3J3YXJkRnVuZHMoKTsgIAogICAgICAgICB9CiAgICAgICAgIAogICAgICAgIAogICAgfQogICAgCiAgICBmdW5jdGlvbiB1cGRhdGVCYWxhbmNlcyhhZGRyZXNzIHJlY2VpdmVyLCB1aW50MjU2IHRva2VucykgaW50ZXJuYWwgewogICAgICAgIGJhbGFuY2VzW211bHRpc2lnXSA9IGJhbGFuY2VzW211bHRpc2lnXS5zdWIodG9rZW5zKTsKICAgICAgICBiYWxhbmNlc1tyZWNlaXZlcl0gPSBiYWxhbmNlc1tyZWNlaXZlcl0uYWRkKHRva2Vucyk7CiAgICB9CiAgICAKICAgIC8vcmVmdW5kIGJhY2sgaWYgbm90IEtZQyBhcHByb3ZlZAogICAgIGZ1bmN0aW9uIHJlZnVuZEZ1bmRzKGFkZHJlc3Mgb3JpZ2luKSBpbnRlcm5hbCB7CiAgICAgICAgb3JpZ2luLnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgICB9CgogICAgLy8gc2VuZCBldGhlciB0byB0aGUgZnVuZCBjb2xsZWN0aW9uIHdhbGxldAogICAgLy8gb3ZlcnJpZGUgdG8gY3JlYXRlIGN1c3RvbSBmdW5kIGZvcndhcmRpbmcgbWVjaGFuaXNtcwogICAgZnVuY3Rpb24gZm9yd2FyZEZ1bmRzKCkgaW50ZXJuYWwgewogICAgICAgIG11bHRpc2lnLnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgICB9CgogICAgLy8gQHJldHVybiB0cnVlIGlmIHRoZSB0cmFuc2FjdGlvbiBjYW4gYnV5IHRva2VucwogICAgZnVuY3Rpb24gdmFsaWRQdXJjaGFzZSgpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICBib29sIHdpdGhpblBlcmlvZCA9IGdldE5vdygpID49IHN0YXJ0VGltZSAmJiBnZXROb3coKSA8PSBlbmRUaW1lOwogICAgICAgIGJvb2wgbm9uWmVyb1B1cmNoYXNlID0gbXNnLnZhbHVlICE9IDA7CiAgICAgICAgYm9vbCBtaW5Db250cmlidXRpb24gPSBtaW5Db250cmliQW1vdW50IDw9IG1zZy52YWx1ZTsKICAgICAgICBib29sIG5vdFJlYWNoZWRIYXJkQ2FwID0gaGFyZENhcCA+PSB0b3RhbE51bWJlclRva2VuU29sZDsKICAgICAgICByZXR1cm4gd2l0aGluUGVyaW9kICYmIG5vblplcm9QdXJjaGFzZSAmJiBtaW5Db250cmlidXRpb24gJiYgbm90UmVhY2hlZEhhcmRDYXA7CiAgICB9CgogICAgLy8gQHJldHVybiB0cnVlIGlmIGNyb3dkc2FsZSBjdXJyZW50IGxvdCBldmVudCBoYXMgZW5kZWQKICAgIGZ1bmN0aW9uIGhhc0VuZGVkKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gZ2V0Tm93KCkgPiBlbmRUaW1lOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldE5vdygpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIG5vdzsKICAgIH0KCiAgICAvLyBTZXQvY2hhbmdlIE11bHRpLXNpZ25hdHVyZSB3YWxsZXQgYWRkcmVzcwogICAgZnVuY3Rpb24gY2hhbmdlTXVsdGlTaWduYXR1cmVXYWxsZXQgKGFkZHJlc3MgX211bHRpc2lnKSBvbmx5T3duZXIgaXNBY3RpdmUgewogICAgICAgIG11bHRpc2lnID0gX211bHRpc2lnOwogICAgfQoKICAgIC8vIENoYW5nZSBFVEgvVG9rZW4gZXhjaGFuZ2UgcmF0ZQogICAgZnVuY3Rpb24gY2hhbmdlVG9rZW5SYXRlKHVpbnQgX3Rva2VuUHJpY2UpIG9ubHlPd25lciBpc0FjdGl2ZSB7CiAgICAgICAgUkFURSA9IF90b2tlblByaWNlOwogICAgfQoKICAgIC8vIFNldCBGaW5pc2ggTWludGluZy4KICAgIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcoKSBvbmx5T3duZXIgaXNBY3RpdmUgewogICAgICAgIG1pbnRpbmdGaW5pc2hlZCA9IHRydWU7CiAgICAgICAgTWludEZpbmlzaGVkKCk7CiAgICB9CgogICAgLy8gU3RhcnQgb3IgcGF1c2UgdHJhZGFibGUgdG8gVHJhbnNmZXIgdG9rZW4KICAgIGZ1bmN0aW9uIHN0YXJ0VHJhZGFibGUoYm9vbCBfdHJhZGFibGUpIG9ubHlPd25lciBpc0FjdGl2ZSB7CiAgICAgICAgdHJhZGFibGUgPSBfdHJhZGFibGU7CiAgICAgICAgaWYgKHRyYWRhYmxlKQogICAgICAgICAgICBTdGFydFRyYWRhYmxlKCk7CiAgICAgICAgZWxzZQogICAgICAgICAgICBQYXVzZVRyYWRhYmxlKCk7CiAgICB9CgogICAgLy9VcGRhdGVJQ09EYXRlVGltZSh1aW50MjU2IF9zdGFydFRpbWUsKQogICAgZnVuY3Rpb24gdXBkYXRlSUNPRGF0ZSh1aW50MjU2IF9zdGFydFRpbWUsIHVpbnQyNTYgX2VuZFRpbWUpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHN0YXJ0VGltZSA9IF9zdGFydFRpbWU7CiAgICAgICAgZW5kVGltZSA9IF9lbmRUaW1lOwogICAgfQogICAgCiAgICAvL0NoYW5nZSBzdGFydFRpbWUgdG8gc3RhcnQgSUNPIG1hbnVhbGx5CiAgICBmdW5jdGlvbiBjaGFuZ2VTdGFydFRpbWUodWludDI1NiBfc3RhcnRUaW1lKSBvbmx5T3duZXIgewogICAgICAgIHN0YXJ0VGltZSA9IF9zdGFydFRpbWU7CiAgICB9CgogICAgLy9DaGFuZ2UgZW5kVGltZSB0byBlbmQgSUNPIG1hbnVhbGx5CiAgICBmdW5jdGlvbiBjaGFuZ2VFbmRUaW1lKHVpbnQyNTYgX2VuZFRpbWUpIG9ubHlPd25lciB7CiAgICAgICAgZW5kVGltZSA9IF9lbmRUaW1lOwogICAgfQoKICAgIC8vIEByZXR1cm4gdG90YWwgdG9rZW5zIHN1cHBsaWVkCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gX3RvdGFsU3VwcGx5OwogICAgfQogICAgCiAgICAvLyBAcmV0dXJuIHRvdGFsIHRva2VucyBzdXBwbGllZAogICAgZnVuY3Rpb24gdG90YWxOdW1iZXJUb2tlblNvbGQoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIHRvdGFsTnVtYmVyVG9rZW5Tb2xkOwogICAgfQoKCiAgICAvL0NoYW5nZSB0b3RhbCBzdXBwbHkKICAgIGZ1bmN0aW9uIGNoYW5nZVRvdGFsU3VwcGx5KHVpbnQyNTYgdG90YWxTdXBwbHkpIG9ubHlPd25lciB7CiAgICAgICAgX3RvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHk7CiAgICB9CgoKICAgIC8vIFdoYXQgaXMgdGhlIGJhbGFuY2Ugb2YgYSBwYXJ0aWN1bGFyIGFjY291bnQ/CiAgICAvLyBAcGFyYW0gd2hvIFRoZSBhZGRyZXNzIG9mIHRoZSBwYXJ0aWN1bGFyIGFjY291bnQKICAgIC8vIEByZXR1cm4gdGhlIGJhbGFuYWNlIHRoZSBwYXJ0aWN1bGFyIGFjY291bnQKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBiYWxhbmNlc1t3aG9dOwogICAgfQoKICAgIC8vIFdoYXQgaXMgdGhlIGJhbGFuY2Ugb2YgYSBwYXJ0aWN1bGFyIGFjY291bnQ/CiAgICAvLyBAcGFyYW0gd2hvIFRoZSBhZGRyZXNzIG9mIHRoZSBwYXJ0aWN1bGFyIGFjY291bnQKICAgIC8vIEByZXR1cm4gdGhlIGJhbGFuY2Ugb2YgS1lDIHdhaXRpbmcgdG8gYmUgYXBwcm92ZWQKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZkt5Q1RvQmVBcHByb3ZlZChhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBiYWxhbmNlc1dhaXRpbmdLWUNbd2hvXTsKICAgIH0KICAgIAoKICAgIGZ1bmN0aW9uIGFwcHJvdmVCYWxhbmNlc1dhaXRpbmdLWUMoYWRkcmVzc1tdIGxpc3RBZGRyZXNzZXMpIG9ubHlPd25lciB7CiAgICAgICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IGxpc3RBZGRyZXNzZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgIGFkZHJlc3MgY2xpZW50ID0gbGlzdEFkZHJlc3Nlc1tpXTsKICAgICAgICAgICAgIGJhbGFuY2VzW211bHRpc2lnXSA9IGJhbGFuY2VzW211bHRpc2lnXS5zdWIoYmFsYW5jZXNXYWl0aW5nS1lDW2NsaWVudF0pOwogICAgICAgICAgICAgYmFsYW5jZXNbY2xpZW50XSA9IGJhbGFuY2VzW2NsaWVudF0uYWRkKGJhbGFuY2VzV2FpdGluZ0tZQ1tjbGllbnRdKTsKICAgICAgICAgICAgIHRvdGFsTnVtYmVyVG9rZW5Tb2xkPXRvdGFsTnVtYmVyVG9rZW5Tb2xkLmFkZChiYWxhbmNlc1dhaXRpbmdLWUNbY2xpZW50XSk7CiAgICAgICAgICAgICBfaWNvU3VwcGx5ID0gX2ljb1N1cHBseS5zdWIoYmFsYW5jZXNXYWl0aW5nS1lDW2NsaWVudF0pOwogICAgICAgICAgICAgYmFsYW5jZXNXYWl0aW5nS1lDW2NsaWVudF0gPSAwOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBhZGRCb251c0Zvck9uZUhvbGRlcihhZGRyZXNzIGhvbGRlciwgdWludDI1NiBib251c1Rva2VuKSBvbmx5T3duZXJ7CiAgICAgICAgIHJlcXVpcmUoaG9sZGVyICE9IDB4MCk7IAogICAgICAgICBiYWxhbmNlc1ttdWx0aXNpZ10gPSBiYWxhbmNlc1ttdWx0aXNpZ10uc3ViKGJvbnVzVG9rZW4pOwogICAgICAgICBiYWxhbmNlc1tob2xkZXJdID0gYmFsYW5jZXNbaG9sZGVyXS5hZGQoYm9udXNUb2tlbik7CiAgICAgICAgIHRvdGFsTnVtYmVyVG9rZW5Tb2xkPXRvdGFsTnVtYmVyVG9rZW5Tb2xkLmFkZChib251c1Rva2VuKTsKICAgICAgICAgX2ljb1N1cHBseSA9IF9pY29TdXBwbHkuc3ViKGJvbnVzVG9rZW4pOwogICAgfQoKICAgIAogICAgZnVuY3Rpb24gYWRkQm9udXNGb3JNdWx0aXBsZUhvbGRlcnMoYWRkcmVzc1tdIGxpc3RBZGRyZXNzZXMsIHVpbnQyNTZbXSBib251cykgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKGxpc3RBZGRyZXNzZXMubGVuZ3RoID09IGJvbnVzLmxlbmd0aCk7IAogICAgICAgICBmb3IgKHVpbnQyNTYgaSA9IDA7IGkgPCBsaXN0QWRkcmVzc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICByZXF1aXJlKGxpc3RBZGRyZXNzZXNbaV0gIT0gMHgwKTsgCiAgICAgICAgICAgICAgICBiYWxhbmNlc1tsaXN0QWRkcmVzc2VzW2ldXSA9IGJhbGFuY2VzW2xpc3RBZGRyZXNzZXNbaV1dLmFkZChib251c1tpXSk7CiAgICAgICAgICAgICAgICBiYWxhbmNlc1ttdWx0aXNpZ10gPSBiYWxhbmNlc1ttdWx0aXNpZ10uc3ViKGJvbnVzW2ldKTsKICAgICAgICAgICAgICAgIHRvdGFsTnVtYmVyVG9rZW5Tb2xkPXRvdGFsTnVtYmVyVG9rZW5Tb2xkLmFkZChib251c1tpXSk7CiAgICAgICAgICAgICAgICBfaWNvU3VwcGx5ID0gX2ljb1N1cHBseS5zdWIoYm9udXNbaV0pOwogICAgICAgICB9CiAgICB9CiAgICAKICAgCiAgICAKICAgIGZ1bmN0aW9uIG1vZGlmeUN1cnJlbnRIYXJkQ2FwKHVpbnQyNTYgX2hhcmRDYXApIG9ubHlPd25lciBpc0FjdGl2ZSB7CiAgICAgICAgaGFyZENhcCA9IF9oYXJkQ2FwOwogICAgfQoKICAgIC8vIEBub3RpY2Ugc2VuZCBgdmFsdWVgIHRva2VuIHRvIGB0b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgIC8vIEBwYXJhbSB0byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLyBAcGFyYW0gdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgLy8gQHJldHVybiB0aGUgdHJhbnNhY3Rpb24gYWRkcmVzcyBhbmQgc2VuZCB0aGUgZXZlbnQgYXMgVHJhbnNmZXIKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIGNhblRyYWRhYmxlIGlzQWN0aXZlIHsKICAgICAgICByZXF1aXJlICgKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gdmFsdWUgJiYgdmFsdWUgPiAwCiAgICAgICAgKTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1Yih2YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbdG9dID0gYmFsYW5jZXNbdG9dLmFkZCh2YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgdG8sIHZhbHVlKTsKICAgIH0KCiAgICAvLyBAbm90aWNlIHNlbmQgYHZhbHVlYCB0b2tlbiB0byBgdG9gIGZyb20gYGZyb21gCiAgICAvLyBAcGFyYW0gZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAvLyBAcGFyYW0gdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgLy8gQHBhcmFtIHZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vIEByZXR1cm4gdGhlIHRyYW5zYWN0aW9uIGFkZHJlc3MgYW5kIHNlbmQgdGhlIGV2ZW50IGFzIFRyYW5zZmVyCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBjYW5UcmFkYWJsZSBpc0FjdGl2ZSB7CiAgICAgICAgcmVxdWlyZSAoCiAgICAgICAgICAgIGFsbG93ZWRbZnJvbV1bbXNnLnNlbmRlcl0gPj0gdmFsdWUgJiYgYmFsYW5jZXNbZnJvbV0gPj0gdmFsdWUgJiYgdmFsdWUgPiAwCiAgICAgICAgKTsKICAgICAgICBiYWxhbmNlc1tmcm9tXSA9IGJhbGFuY2VzW2Zyb21dLnN1Yih2YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbdG9dID0gYmFsYW5jZXNbdG9dLmFkZCh2YWx1ZSk7CiAgICAgICAgYWxsb3dlZFtmcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbZnJvbV1bbXNnLnNlbmRlcl0uc3ViKHZhbHVlKTsKICAgICAgICBUcmFuc2Zlcihmcm9tLCB0bywgdmFsdWUpOwogICAgfQoKICAgIC8vIEFsbG93IHNwZW5kZXIgdG8gd2l0aGRyYXcgZnJvbSB5b3VyIGFjY291bnQsIG11bHRpcGxlIHRpbWVzLCB1cCB0byB0aGUgdmFsdWUgYW1vdW50LgogICAgLy8gSWYgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYWdhaW4gaXQgb3ZlcndyaXRlcyB0aGUgY3VycmVudCBhbGxvd2FuY2Ugd2l0aCB2YWx1ZS4KICAgIC8vIEBwYXJhbSBzcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgIC8vIEBwYXJhbSB2YWx1ZSBUaGUgYW1vdW50IHRvIGJlIGFwcHJvdmVkCiAgICAvLyBAcmV0dXJuIHRoZSB0cmFuc2FjdGlvbiBhZGRyZXNzIGFuZCBzZW5kIHRoZSBldmVudCBhcyBBcHByb3ZhbAogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIGlzQWN0aXZlIHsKICAgICAgICByZXF1aXJlICgKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gdmFsdWUgJiYgdmFsdWUgPiAwCiAgICAgICAgKTsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW3NwZW5kZXJdID0gdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgc3BlbmRlciwgdmFsdWUpOwogICAgfQoKICAgIC8vIENoZWNrIHRoZSBhbGxvd2VkIHZhbHVlIGZvciB0aGUgc3BlbmRlciB0byB3aXRoZHJhdyBmcm9tIG93bmVyCiAgICAvLyBAcGFyYW0gb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIG93bmVyCiAgICAvLyBAcGFyYW0gc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgc3BlbmRlcgogICAgLy8gQHJldHVybiB0aGUgYW1vdW50IHdoaWNoIHNwZW5kZXIgaXMgc3RpbGwgYWxsb3dlZCB0byB3aXRoZHJhdyBmcm9tIG93bmVyCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bc3BlbmRlcl07CiAgICB9CgogICAgLy8gR2V0IGN1cnJlbnQgcHJpY2Ugb2YgYSBUb2tlbgogICAgLy8gQHJldHVybiB0aGUgcHJpY2Ugb3IgdG9rZW4gdmFsdWUgZm9yIGEgZXRoZXIKICAgIGZ1bmN0aW9uIGdldFJhdGUoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlc3VsdCkgewogICAgICByZXR1cm4gUkFURTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ2V0VG9rZW5EZXRhaWwoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nLCBzdHJpbmcsIHVpbnQyNTYsIHVpbnQyNTYsIHVpbnQyNTYsIHVpbnQyNTYsIHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gKG5hbWUsIHN5bWJvbCwgc3RhcnRUaW1lLCBlbmRUaW1lLCBfdG90YWxTdXBwbHksIF9pY29TdXBwbHksIHRvdGFsTnVtYmVyVG9rZW5Tb2xkKTsKICAgIH0KfQ=='.
	

]
