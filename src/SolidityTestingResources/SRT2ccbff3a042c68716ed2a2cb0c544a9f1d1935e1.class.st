Class {
	#name : #SRT2ccbff3a042c68716ed2a2cb0c544a9f1d1935e1,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT2ccbff3a042c68716ed2a2cb0c544a9f1d1935e1 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgICAgICBhc3NlcnQoYyA+PSBhKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KfQoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgogICAgLyoqCiAgICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgICAqIGFjY291bnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgICAqLwogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KfQoKLyoqCiogQHRpdGxlIEVSQzIwQmFzaWMKKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgoKY29udHJhY3QgQXBwcm92YWxDb250cmFjdCBpcyBFUkMyMCB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2VkOwoKICAgIC8qKgogICAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICAgKgogICAgICogQmV3YXJlIHRoYXQgY2hhbmdpbmcgYW4gYWxsb3dhbmNlIHdpdGggdGhpcyBtZXRob2QgYnJpbmdzIHRoZSByaXNrIHRoYXQgc29tZW9uZSBtYXkgdXNlIGJvdGggdGhlIG9sZAogICAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAgICogcmFjZSBjb25kaXRpb24gaXMgdG8gZmlyc3QgcmVkdWNlIHRoZSBzcGVuZGVyJ3MgYWxsb3dhbmNlIHRvIDAgYW5kIHNldCB0aGUgZGVzaXJlZCB2YWx1ZSBhZnRlcndhcmRzOgogICAgICogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZnlpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgICAqLwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCiAgICAvKioKICAgICAqIGFwcHJvdmUgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFsbG93ZWRbX3NwZW5kZXJdID09IDAuIFRvIGluY3JlbWVudAogICAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgICAqIEZyb20gTW9ub2xpdGhEQU8gVG9rZW4uc29sCiAgICAgKi8KICAgIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIHB1YmxpYwogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXS5hZGQoX2FkZGVkVmFsdWUpOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgICAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgICAgICB9CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKLyoqCiAqIEB0aXRsZSBNaW50YWJsZSB0b2tlbgogKiBAZGV2IFNpbXBsZSBFUkMyMCBUb2tlbiBleGFtcGxlLCB3aXRoIG1pbnRhYmxlIHRva2VuIGNyZWF0aW9uCiAqIEBkZXYgSXNzdWU6ICogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9pc3N1ZXMvMTIwCiAqIEJhc2VkIG9uIGNvZGUgYnkgVG9rZW5NYXJrZXROZXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9Ub2tlbk1hcmtldE5ldC9pY28vYmxvYi9tYXN0ZXIvY29udHJhY3RzL01pbnRhYmxlVG9rZW4uc29sCiAqLwpjb250cmFjdCBNaW50YWJsZVRva2VuIGlzIEFwcHJvdmFsQ29udHJhY3QsIE93bmFibGUgewoKICAgIHVpbnQyNTYgcHVibGljIGhhcmRDYXA7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VzOwoKICAgIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CgogICAgbW9kaWZpZXIgY2FuTWludCgpIHsKICAgICAgICByZXF1aXJlKHRvdGFsU3VwcGx5ID09IDApOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEZ1bmN0aW9uIHRvIG1pbnQgdG9rZW5zCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRoYXQgd2lsbCByZWNlaXZlIHRoZSBtaW50ZWQgdG9rZW5zLgogICAgICogQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gbWludC4KICAgICAqIEByZXR1cm4gQSBib29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICAgKi8KICAgIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgb25seU93bmVyIGNhbk1pbnQgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF9hbW91bnQgPCBoYXJkQ2FwKTsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CiAgICAgICAgTWludChfdG8sIF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKDB4MCwgX3RvLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKLyoqCiAqIEB0aXRsZSBWZXN0aW5nIHRva2VuCiAqLwpjb250cmFjdCBWZXN0aW5nIGlzIE1pbnRhYmxlVG9rZW4gewoKICAgIGV2ZW50IFZlc3RpbmdNZW1iZXJBZGRlZChhZGRyZXNzIGluZGV4ZWQgX2FkZHJlc3MsIHVpbnQyNTYgX2Ftb3VudCwgdWludCBfc3RhcnQsIHVpbnQgX2VuZCk7CgogICAgc3RydWN0IF9WZXN0aW5nIHsKICAgICAgICB1aW50MjU2IHRvdGFsU3VtOyAgICAgLy90b3RhbCBhbW91bnQKICAgICAgICB1aW50MjU2IHN0YXJ0OyAgICAgICAgLy9zdGFydCBibG9jawogICAgICAgIHVpbnQyNTYgZW5kOyAgICAgICAgICAvL2VuZCBibG9jawogICAgICAgIHVpbnQyNTYgdXNlZEFtb3VudDsgICAvL3RoZSBhbW91bnQgb2YgcGFpZCBwYXltZW50cwogICAgfQoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gX1Zlc3RpbmcgKSBwdWJsaWMgdmVzdGluZ01lbWJlcnM7CgogICAgZnVuY3Rpb24gYWRkVmVzdGluZ01lbWJlcigKICAgICAgICBhZGRyZXNzIF9hZGRyZXNzLAogICAgICAgIHVpbnQyNTYgX2Ftb3VudCwKICAgICAgICB1aW50MjU2IF9zdGFydCwKICAgICAgICB1aW50MjU2IF9lbmQKICAgICkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZSgKICAgICAgICAgICAgX2FkZHJlc3MgIT0gYWRkcmVzcygwKSAmJgogICAgICAgICAgICBfYW1vdW50ID4gMCAmJgogICAgICAgICAgICBfc3RhcnQgPCBfZW5kICYmCiAgICAgICAgICAgIHZlc3RpbmdNZW1iZXJzW19hZGRyZXNzXS50b3RhbFN1bSA9PSAwICYmCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID4gX2Ftb3VudAogICAgICAgICk7CgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOwoKICAgICAgICB2ZXN0aW5nTWVtYmVyc1tfYWRkcmVzc10udG90YWxTdW0gPSBfYW1vdW50OyAgICAvL3RvdGFsIGFtb3VudAogICAgICAgIHZlc3RpbmdNZW1iZXJzW19hZGRyZXNzXS5zdGFydCA9IF9zdGFydDsgICAgICAgIC8vc3RhcnQgYmxvY2sKICAgICAgICB2ZXN0aW5nTWVtYmVyc1tfYWRkcmVzc10uZW5kID0gX2VuZDsgICAgICAgICAgICAvL2VuZCBibG9jawogICAgICAgIHZlc3RpbmdNZW1iZXJzW19hZGRyZXNzXS51c2VkQW1vdW50ID0gMDsgICAgICAgIC8vdGhlIGFtb3VudCBvZiBwYWlkIHBheW1lbnRzCgogICAgICAgIFZlc3RpbmdNZW1iZXJBZGRlZChfYWRkcmVzcywgX2Ftb3VudCwgX3N0YXJ0LCBfZW5kKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gY3VycmVudFBhcnQoYWRkcmVzcyBfYWRkcmVzcykgcHJpdmF0ZSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgaWYgKHZlc3RpbmdNZW1iZXJzW19hZGRyZXNzXS50b3RhbFN1bSA9PSAwIHx8IGJsb2NrLm51bWJlciA8PSB2ZXN0aW5nTWVtYmVyc1tfYWRkcmVzc10uc3RhcnQpIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIGlmIChibG9jay5udW1iZXIgPj0gdmVzdGluZ01lbWJlcnNbX2FkZHJlc3NdLmVuZCkgewogICAgICAgICAgICByZXR1cm4gdmVzdGluZ01lbWJlcnNbX2FkZHJlc3NdLnRvdGFsU3VtLnN1Yih2ZXN0aW5nTWVtYmVyc1tfYWRkcmVzc10udXNlZEFtb3VudCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdmVzdGluZ01lbWJlcnNbX2FkZHJlc3NdLnRvdGFsU3VtCiAgICAgICAgLm11bChibG9jay5udW1iZXIgLSB2ZXN0aW5nTWVtYmVyc1tfYWRkcmVzc10uc3RhcnQpCiAgICAgICAgLmRpdih2ZXN0aW5nTWVtYmVyc1tfYWRkcmVzc10uZW5kIC0gdmVzdGluZ01lbWJlcnNbX2FkZHJlc3NdLnN0YXJ0KQogICAgICAgIC5zdWIodmVzdGluZ01lbWJlcnNbX2FkZHJlc3NdLnVzZWRBbW91bnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1YkZyb21CYWxhbmNlKGFkZHJlc3MgX2FkZHJlc3MsIHVpbnQyNTYgX2Ftb3VudCkgcHJpdmF0ZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmVxdWlyZShfYWRkcmVzcyAhPSBhZGRyZXNzKDApKTsKCiAgICAgICAgaWYgKHZlc3RpbmdNZW1iZXJzW19hZGRyZXNzXS50b3RhbFN1bSA9PSAwKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW19hZGRyZXNzXSA9IGJhbGFuY2VzW19hZGRyZXNzXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgICAgIHJldHVybiBiYWxhbmNlc1tfYWRkcmVzc107CiAgICAgICAgfQogICAgICAgIHVpbnQyNTYgc3VtbWFyeSA9IGJhbGFuY2VPZihfYWRkcmVzcyk7CiAgICAgICAgcmVxdWlyZShzdW1tYXJ5ID49IF9hbW91bnQpOwoKICAgICAgICBpZiAoYmFsYW5jZXNbX2FkZHJlc3NdID4gX2Ftb3VudCkgewogICAgICAgICAgICBiYWxhbmNlc1tfYWRkcmVzc10gPSBiYWxhbmNlc1tfYWRkcmVzc10uc3ViKF9hbW91bnQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHVpbnQyNTYgcGFydCA9IGN1cnJlbnRQYXJ0KF9hZGRyZXNzKTsKICAgICAgICAgICAgaWYgKGJsb2NrLm51bWJlciA+PSB2ZXN0aW5nTWVtYmVyc1tfYWRkcmVzc10uZW5kKSB7CiAgICAgICAgICAgICAgICB2ZXN0aW5nTWVtYmVyc1tfYWRkcmVzc10udG90YWxTdW0gPSAwOyAgICAgICAgICAvL3RvdGFsIGFtb3VudAogICAgICAgICAgICAgICAgdmVzdGluZ01lbWJlcnNbX2FkZHJlc3NdLnN0YXJ0ID0gMDsgICAgICAgICAgICAgLy9zdGFydCBibG9jawogICAgICAgICAgICAgICAgdmVzdGluZ01lbWJlcnNbX2FkZHJlc3NdLmVuZCA9IDA7ICAgICAgICAgICAgICAgLy9lbmQgYmxvY2sKICAgICAgICAgICAgICAgIHZlc3RpbmdNZW1iZXJzW19hZGRyZXNzXS51c2VkQW1vdW50ID0gMDsgICAgICAgIC8vdGhlIGFtb3VudCBvZiBwYWlkIHBheW1lbnRzCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB2ZXN0aW5nTWVtYmVyc1tfYWRkcmVzc10udXNlZEFtb3VudCA9IHZlc3RpbmdNZW1iZXJzW19hZGRyZXNzXS51c2VkQW1vdW50LmFkZChwYXJ0KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBiYWxhbmNlc1tfYWRkcmVzc10gPSBiYWxhbmNlc1tfYWRkcmVzc10uYWRkKHBhcnQpLnN1YihfYW1vdW50KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBiYWxhbmNlc1tfYWRkcmVzc107CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgaWYgKHZlc3RpbmdNZW1iZXJzW19vd25lcl0udG90YWxTdW0gPT0gMCkgewogICAgICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXS5hZGQoY3VycmVudFBhcnQoX293bmVyKSk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlT2YobXNnLnNlbmRlcikpOwoKICAgICAgICBzdWJGcm9tQmFsYW5jZShtc2cuc2VuZGVyLCBfdmFsdWUpOwoKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCiAgICAgICAgdWludDI1NiBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgICAgIHN1YkZyb21CYWxhbmNlKF9mcm9tLCBfdmFsdWUpOwoKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKCmNvbnRyYWN0IERNVG9rZW4gaXMgVmVzdGluZyB7CgogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIkRNYXJrZXQgVG9rZW4iOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiRE1UIjsKICAgIHVpbnQyNTYgcHVibGljIGRlY2ltYWxzID0gODsKCiAgICBmdW5jdGlvbiBETVRva2VuKCkgcHVibGljIHsKICAgICAgICBoYXJkQ2FwID0gMTU2NDQyODMxMDAwMDAwMDA7CiAgICB9CgogICAgZnVuY3Rpb24gbXVsdGlUcmFuc2ZlcihhZGRyZXNzW10gcmVjaXBpZW50cywgdWludDI1NltdIGFtb3VudHMpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShyZWNpcGllbnRzLmxlbmd0aCA9PSBhbW91bnRzLmxlbmd0aCk7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgcmVjaXBpZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB0cmFuc2ZlcihyZWNpcGllbnRzW2ldLCBhbW91bnRzW2ldKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gbXVsdGlWZXN0aW5nKAogICAgICAgIGFkZHJlc3NbXSBfYWRkcmVzcywKICAgICAgICB1aW50MjU2W10gX2Ftb3VudCwKICAgICAgICB1aW50MjU2W10gX3N0YXJ0LAogICAgICAgIHVpbnQyNTZbXSBfZW5kCiAgICApIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoCiAgICAgICAgICAgIF9hZGRyZXNzLmxlbmd0aCA9PSBfYW1vdW50Lmxlbmd0aCAmJgogICAgICAgICAgICBfYWRkcmVzcy5sZW5ndGggPT0gX3N0YXJ0Lmxlbmd0aCAmJgogICAgICAgICAgICBfYWRkcmVzcy5sZW5ndGggPT0gX2VuZC5sZW5ndGgKICAgICAgICApOwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IF9hZGRyZXNzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGFkZFZlc3RpbmdNZW1iZXIoX2FkZHJlc3NbaV0sIF9hbW91bnRbaV0sIF9zdGFydFtpXSwgX2VuZFtpXSk7CiAgICAgICAgfQogICAgfQp9'.
	

]
