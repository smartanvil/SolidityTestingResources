Class {
	#name : #SRT10af69bd2306ae091a8d8d0e2fa1913b7b51c543,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT10af69bd2306ae091a8d8d0e2fa1913b7b51c543 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgoKY29udHJhY3QgQ29udHJvbGxlZCB7CiAgICAvLy8gQG5vdGljZSBUaGUgYWRkcmVzcyBvZiB0aGUgY29udHJvbGxlciBpcyB0aGUgb25seSBhZGRyZXNzIHRoYXQgY2FuIGNhbGwKICAgIC8vLyAgYSBmdW5jdGlvbiB3aXRoIHRoaXMgbW9kaWZpZXIKICAgIG1vZGlmaWVyIG9ubHlDb250cm9sbGVyIHsgcmVxdWlyZShtc2cuc2VuZGVyID09IGNvbnRyb2xsZXIpOyBfOyB9CgogICAgYWRkcmVzcyBwdWJsaWMgY29udHJvbGxlcjsKCiAgICBmdW5jdGlvbiBDb250cm9sbGVkKCkgcHVibGljIHsgY29udHJvbGxlciA9IG1zZy5zZW5kZXI7fQoKICAgIC8vLyBAbm90aWNlIENoYW5nZXMgdGhlIGNvbnRyb2xsZXIgb2YgdGhlIGNvbnRyYWN0CiAgICAvLy8gQHBhcmFtIF9uZXdDb250cm9sbGVyIFRoZSBuZXcgY29udHJvbGxlciBvZiB0aGUgY29udHJhY3QKICAgIGZ1bmN0aW9uIGNoYW5nZUNvbnRyb2xsZXIoYWRkcmVzcyBfbmV3Q29udHJvbGxlcikgb25seUNvbnRyb2xsZXIgcHVibGljIHsKICAgICAgICBjb250cm9sbGVyID0gX25ld0NvbnRyb2xsZXI7CiAgICB9Cn0KCgovLy8gYE93bmVkYCBpcyBhIGJhc2UgbGV2ZWwgY29udHJhY3QgdGhhdCBhc3NpZ25zIGFuIGBvd25lcmAgdGhhdCBjYW4gYmUgbGF0ZXIgY2hhbmdlZApjb250cmFjdCBPd25lZCB7CiAgICAvLy8gQGRldiBgb3duZXJgIGlzIHRoZSBvbmx5IGFkZHJlc3MgdGhhdCBjYW4gY2FsbCBhIGZ1bmN0aW9uIHdpdGggdGhpcwogICAgLy8vIG1vZGlmaWVyCiAgICBtb2RpZmllciBvbmx5T3duZXIgeyByZXF1aXJlIChtc2cuc2VuZGVyID09IG93bmVyKTsgXzsgfQoKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIC8vLyBAbm90aWNlIFRoZSBDb25zdHJ1Y3RvciBhc3NpZ25zIHRoZSBtZXNzYWdlIHNlbmRlciB0byBiZSBgb3duZXJgCiAgICBmdW5jdGlvbiBPd25lZCgpIHsgb3duZXIgPSBtc2cuc2VuZGVyO30KCiAgICAvLy8gQG5vdGljZSBgb3duZXJgIGNhbiBzdGVwIGRvd24gYW5kIGFzc2lnbiBzb21lIG90aGVyIGFkZHJlc3MgdG8gdGhpcyByb2xlCiAgICAvLy8gQHBhcmFtIF9uZXdPd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgbmV3IG93bmVyLiAweDAgY2FuIGJlIHVzZWQgdG8gY3JlYXRlCiAgICAvLy8gIGFuIHVub3duZWQgbmV1dHJhbCB2YXVsdCwgaG93ZXZlciB0aGF0IGNhbm5vdCBiZSB1bmRvbmUKICAgIGZ1bmN0aW9uIGNoYW5nZU93bmVyKGFkZHJlc3MgX25ld093bmVyKSAgb25seU93bmVyIHsKICAgICAgICBvd25lciA9IF9uZXdPd25lcjsKICAgIH0KfQoKY29udHJhY3QgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IEVSQzIwIHsKCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludCk7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQpOwoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgb2spOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBvayk7CgogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwoKfQoKCmNvbnRyYWN0IENvbnRyb2xsZWRUb2tlbiBpcyBFUkMyMCwgQ29udHJvbGxlZCB7CgogICAgdWludDI1NiBjb25zdGFudCBNQVhfVUlOVDI1NiA9IDIqKjI1NiAtIDE7CgogICAgZXZlbnQgQ2xhaW1lZFRva2VucyhhZGRyZXNzIGluZGV4ZWQgX3Rva2VuLCBhZGRyZXNzIGluZGV4ZWQgX2NvbnRyb2xsZXIsIHVpbnQgX2Ftb3VudCk7CgogICAgLyogUHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4gKi8KCiAgICAvKgogICAgTk9URToKICAgIFRoZSBmb2xsb3dpbmcgdmFyaWFibGVzIGFyZSBPUFRJT05BTCB2YW5pdGllcy4gT25lIGRvZXMgbm90IGhhdmUgdG8gaW5jbHVkZSB0aGVtLgogICAgVGhleSBhbGxvdyBvbmUgdG8gY3VzdG9taXNlIHRoZSB0b2tlbiBjb250cmFjdCAmIGluIG5vIHdheSBpbmZsdWVuY2VzIHRoZSBjb3JlIGZ1bmN0aW9uYWxpdHkuCiAgICBTb21lIHdhbGxldHMvaW50ZXJmYWNlcyBtaWdodCBub3QgZXZlbiBib3RoZXIgdG8gbG9vayBhdCB0aGlzIGluZm9ybWF0aW9uLgogICAgKi8KICAgIHN0cmluZyBwdWJsaWMgbmFtZTsgICAgICAgICAgICAgICAgICAgLy9mYW5jeSBuYW1lOiBlZyBTaW1vbiBCdWNrcwogICAgdWludDggcHVibGljIGRlY2ltYWxzOyAgICAgICAgICAgICAgICAvL0hvdyBtYW55IGRlY2ltYWxzIHRvIHNob3cuIGllLiBUaGVyZSBjb3VsZCAxMDAwIGJhc2UgdW5pdHMgd2l0aCAzIGRlY2ltYWxzLiBNZWFuaW5nIDAuOTgwIFNCWCA9IDk4MCBiYXNlIHVuaXRzLiBJdCdzIGxpa2UgY29tcGFyaW5nIDEgd2VpIHRvIDEgZXRoZXIuCiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsgICAgICAgICAgICAgICAgIC8vQW4gaWRlbnRpZmllcjogZWcgU0JYCiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAnMS4wJzsgICAgICAgLy9odW1hbiAwLjEgc3RhbmRhcmQuIEp1c3QgYW4gYXJiaXRyYXJ5IHZlcnNpb25pbmcgc2NoZW1lLgogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgZnVuY3Rpb24gQ29udHJvbGxlZFRva2VuKAogICAgICAgIHVpbnQyNTYgX2luaXRpYWxBbW91bnQsCiAgICAgICAgc3RyaW5nIF90b2tlbk5hbWUsCiAgICAgICAgdWludDggX2RlY2ltYWxVbml0cywKICAgICAgICBzdHJpbmcgX3Rva2VuU3ltYm9sCiAgICAgICAgKSB7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBfaW5pdGlhbEFtb3VudDsgICAgICAgICAgICAgICAvLyBHaXZlIHRoZSBjcmVhdG9yIGFsbCBpbml0aWFsIHRva2VucwogICAgICAgIHRvdGFsU3VwcGx5ID0gX2luaXRpYWxBbW91bnQ7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRvdGFsIHN1cHBseQogICAgICAgIG5hbWUgPSBfdG9rZW5OYW1lOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBuYW1lIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgZGVjaW1hbHMgPSBfZGVjaW1hbFVuaXRzOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbW91bnQgb2YgZGVjaW1hbHMgZm9yIGRpc3BsYXkgcHVycG9zZXMKICAgICAgICBzeW1ib2wgPSBfdG9rZW5TeW1ib2w7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgc3ltYm9sIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICB9CgoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy9EZWZhdWx0IGFzc3VtZXMgdG90YWxTdXBwbHkgY2FuJ3QgYmUgb3ZlciBtYXggKDJeMjU2IC0gMSkuCiAgICAgICAgLy9JZiB5b3VyIHRva2VuIGxlYXZlcyBvdXQgdG90YWxTdXBwbHkgYW5kIGNhbiBpc3N1ZSBtb3JlIHRva2VucyBhcyB0aW1lIGdvZXMgb24sIHlvdSBuZWVkIHRvIGNoZWNrIGlmIGl0IGRvZXNuJ3Qgd3JhcC4KICAgICAgICAvL1JlcGxhY2UgdGhlIGlmIHdpdGggdGhpcyBvbmUgaW5zdGVhZC4KICAgICAgICAvL3JlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSk7CgogICAgICAgIGlmIChpc0NvbnRyYWN0KGNvbnRyb2xsZXIpKSB7CiAgICAgICAgICAgIHJlcXVpcmUoVG9rZW5Db250cm9sbGVyKGNvbnRyb2xsZXIpLm9uVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpKTsKICAgICAgICB9CgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAvLyBBbGVydHMgdGhlIHRva2VuIGNvbnRyb2xsZXIgb2YgdGhlIHRyYW5zZmVyCgogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvL3NhbWUgYXMgYWJvdmUuIFJlcGxhY2UgdGhpcyBsaW5lIHdpdGggdGhlIGZvbGxvd2luZyBpZiB5b3Ugd2FudCB0byBwcm90ZWN0IGFnYWluc3Qgd3JhcHBpbmcgdWludHMuCiAgICAgICAgLy9yZXF1aXJlKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKTsKICAgICAgICB1aW50MjU2IGFsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2FuY2UgPj0gX3ZhbHVlKTsKCiAgICAgICAgaWYgKGlzQ29udHJhY3QoY29udHJvbGxlcikpIHsKICAgICAgICAgICAgcmVxdWlyZShUb2tlbkNvbnRyb2xsZXIoY29udHJvbGxlcikub25UcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpKTsKICAgICAgICB9CgogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgaWYgKGFsbG93YW5jZSA8IE1BWF9VSU5UMjU2KSB7CiAgICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICB9CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoKICAgICAgICAvLyBBbGVydHMgdGhlIHRva2VuIGNvbnRyb2xsZXIgb2YgdGhlIGFwcHJvdmUgZnVuY3Rpb24gY2FsbAogICAgICAgIGlmIChpc0NvbnRyYWN0KGNvbnRyb2xsZXIpKSB7CiAgICAgICAgICAgIHJlcXVpcmUoVG9rZW5Db250cm9sbGVyKGNvbnRyb2xsZXIpLm9uQXBwcm92ZShtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKSk7CiAgICAgICAgfQoKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIC8vLy8vLy8vLy8vLy8vLy8KLy8gR2VuZXJhdGUgYW5kIGRlc3Ryb3kgdG9rZW5zCi8vLy8vLy8vLy8vLy8vLy8KCiAgICAvLy8gQG5vdGljZSBHZW5lcmF0ZXMgYF9hbW91bnRgIHRva2VucyB0aGF0IGFyZSBhc3NpZ25lZCB0byBgX293bmVyYAogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdGhhdCB3aWxsIGJlIGFzc2lnbmVkIHRoZSBuZXcgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF9hbW91bnQgVGhlIHF1YW50aXR5IG9mIHRva2VucyBnZW5lcmF0ZWQKICAgIC8vLyBAcmV0dXJuIFRydWUgaWYgdGhlIHRva2VucyBhcmUgZ2VuZXJhdGVkIGNvcnJlY3RseQogICAgZnVuY3Rpb24gZ2VuZXJhdGVUb2tlbnMoYWRkcmVzcyBfb3duZXIsIHVpbnQgX2Ftb3VudCApIG9ubHlDb250cm9sbGVyIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB1aW50IGN1clRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHk7CiAgICAgICAgcmVxdWlyZShjdXJUb3RhbFN1cHBseSArIF9hbW91bnQgPj0gY3VyVG90YWxTdXBwbHkpOyAvLyBDaGVjayBmb3Igb3ZlcmZsb3cKICAgICAgICB1aW50IHByZXZpb3VzQmFsYW5jZVRvID0gYmFsYW5jZU9mKF9vd25lcik7CiAgICAgICAgcmVxdWlyZShwcmV2aW91c0JhbGFuY2VUbyArIF9hbW91bnQgPj0gcHJldmlvdXNCYWxhbmNlVG8pOyAvLyBDaGVjayBmb3Igb3ZlcmZsb3cKICAgICAgICB0b3RhbFN1cHBseSA9IGN1clRvdGFsU3VwcGx5ICsgX2Ftb3VudDsKICAgICAgICBiYWxhbmNlc1tfb3duZXJdICA9IHByZXZpb3VzQmFsYW5jZVRvICsgX2Ftb3VudDsKICAgICAgICBUcmFuc2ZlcigwLCBfb3duZXIsIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICAvLy8gQG5vdGljZSBCdXJucyBgX2Ftb3VudGAgdG9rZW5zIGZyb20gYF9vd25lcmAKICAgIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRoYXQgd2lsbCBsb3NlIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX2Ftb3VudCBUaGUgcXVhbnRpdHkgb2YgdG9rZW5zIHRvIGJ1cm4KICAgIC8vLyBAcmV0dXJuIFRydWUgaWYgdGhlIHRva2VucyBhcmUgYnVybmVkIGNvcnJlY3RseQogICAgZnVuY3Rpb24gZGVzdHJveVRva2VucyhhZGRyZXNzIF9vd25lciwgdWludCBfYW1vdW50CiAgICApIG9ubHlDb250cm9sbGVyIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB1aW50IGN1clRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHk7CiAgICAgICAgcmVxdWlyZShjdXJUb3RhbFN1cHBseSA+PSBfYW1vdW50KTsKICAgICAgICB1aW50IHByZXZpb3VzQmFsYW5jZUZyb20gPSBiYWxhbmNlT2YoX293bmVyKTsKICAgICAgICByZXF1aXJlKHByZXZpb3VzQmFsYW5jZUZyb20gPj0gX2Ftb3VudCk7CiAgICAgICAgdG90YWxTdXBwbHkgPSBjdXJUb3RhbFN1cHBseSAtIF9hbW91bnQ7CiAgICAgICAgYmFsYW5jZXNbX293bmVyXSA9IHByZXZpb3VzQmFsYW5jZUZyb20gLSBfYW1vdW50OwogICAgICAgIFRyYW5zZmVyKF9vd25lciwgMCwgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBub3RpY2UgVGhlIGZhbGxiYWNrIGZ1bmN0aW9uOiBJZiB0aGUgY29udHJhY3QncyBjb250cm9sbGVyIGhhcyBub3QgYmVlbgogICAgLy8vICBzZXQgdG8gMCwgdGhlbiB0aGUgYHByb3h5UGF5bWVudGAgbWV0aG9kIGlzIGNhbGxlZCB3aGljaCByZWxheXMgdGhlCiAgICAvLy8gIGV0aGVyIGFuZCBjcmVhdGVzIHRva2VucyBhcyBkZXNjcmliZWQgaW4gdGhlIHRva2VuIGNvbnRyb2xsZXIgY29udHJhY3QKICAgIGZ1bmN0aW9uICgpICBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKGlzQ29udHJhY3QoY29udHJvbGxlcikpOwogICAgICAgIHJlcXVpcmUoVG9rZW5Db250cm9sbGVyKGNvbnRyb2xsZXIpLnByb3h5UGF5bWVudC52YWx1ZShtc2cudmFsdWUpKG1zZy5zZW5kZXIpKTsKICAgIH0KCiAgICAvLy8gQGRldiBJbnRlcm5hbCBmdW5jdGlvbiB0byBkZXRlcm1pbmUgaWYgYW4gYWRkcmVzcyBpcyBhIGNvbnRyYWN0CiAgICAvLy8gQHBhcmFtIF9hZGRyIFRoZSBhZGRyZXNzIGJlaW5nIHF1ZXJpZWQKICAgIC8vLyBAcmV0dXJuIFRydWUgaWYgYF9hZGRyYCBpcyBhIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBpc0NvbnRyYWN0KGFkZHJlc3MgX2FkZHIpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMoYm9vbCkgewogICAgICAgIHVpbnQgc2l6ZTsKICAgICAgICBpZiAoX2FkZHIgPT0gMCkgcmV0dXJuIGZhbHNlOwogICAgICAgIGFzc2VtYmx5IHsKICAgICAgICAgICAgc2l6ZSA6PSBleHRjb2Rlc2l6ZShfYWRkcikKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHNpemU+MDsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBUaGlzIG1ldGhvZCBjYW4gYmUgdXNlZCBieSB0aGUgY29udHJvbGxlciB0byBleHRyYWN0IG1pc3Rha2VubHkKICAgIC8vLyAgc2VudCB0b2tlbnMgdG8gdGhpcyBjb250cmFjdC4KICAgIC8vLyBAcGFyYW0gX3Rva2VuIFRoZSBhZGRyZXNzIG9mIHRoZSB0b2tlbiBjb250cmFjdCB0aGF0IHlvdSB3YW50IHRvIHJlY292ZXIKICAgIC8vLyAgc2V0IHRvIDAgaW4gY2FzZSB5b3Ugd2FudCB0byBleHRyYWN0IGV0aGVyLgogICAgZnVuY3Rpb24gY2xhaW1Ub2tlbnMoYWRkcmVzcyBfdG9rZW4pIG9ubHlDb250cm9sbGVyIHsKICAgICAgICBpZiAoX3Rva2VuID09IDB4MCkgewogICAgICAgICAgICBjb250cm9sbGVyLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIENvbnRyb2xsZWRUb2tlbiB0b2tlbiA9IENvbnRyb2xsZWRUb2tlbihfdG9rZW4pOwogICAgICAgIHVpbnQgYmFsYW5jZSA9IHRva2VuLmJhbGFuY2VPZih0aGlzKTsKICAgICAgICB0b2tlbi50cmFuc2Zlcihjb250cm9sbGVyLCBiYWxhbmNlKTsKICAgICAgICBDbGFpbWVkVG9rZW5zKF90b2tlbiwgY29udHJvbGxlciwgYmFsYW5jZSk7CiAgICB9CgoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgoKfQoKLy8gQ29udHJvbGxlciBmb3IgVG9rZW4gaW50ZXJmYWNlCi8vIFRha2VuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL0dpdmV0aC9taW5pbWUvYmxvYi9tYXN0ZXIvY29udHJhY3RzL01pbmlNZVRva2VuLnNvbAoKLy8vIEBkZXYgVGhlIHRva2VuIGNvbnRyb2xsZXIgY29udHJhY3QgbXVzdCBpbXBsZW1lbnQgdGhlc2UgZnVuY3Rpb25zCmNvbnRyYWN0IFRva2VuQ29udHJvbGxlciB7CiAgICAvLy8gQG5vdGljZSBDYWxsZWQgd2hlbiBgX293bmVyYCBzZW5kcyBldGhlciB0byB0aGUgTWluaU1lIFRva2VuIGNvbnRyYWN0CiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0aGF0IHNlbnQgdGhlIGV0aGVyIHRvIGNyZWF0ZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIFRydWUgaWYgdGhlIGV0aGVyIGlzIGFjY2VwdGVkLCBmYWxzZSBpZiBpdCB0aHJvd3MKICAgIGZ1bmN0aW9uIHByb3h5UGF5bWVudChhZGRyZXNzIF9vd25lcikgcGF5YWJsZSBwdWJsaWMgcmV0dXJucyhib29sKTsKCiAgICAvLy8gQG5vdGljZSBOb3RpZmllcyB0aGUgY29udHJvbGxlciBhYm91dCBhIHRva2VuIHRyYW5zZmVyIGFsbG93aW5nIHRoZQogICAgLy8vICBjb250cm9sbGVyIHRvIHJlYWN0IGlmIGRlc2lyZWQKICAgIC8vLyBAcGFyYW0gX2Zyb20gVGhlIG9yaWdpbiBvZiB0aGUgdHJhbnNmZXIKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgdHJhbnNmZXIKICAgIC8vLyBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IG9mIHRoZSB0cmFuc2ZlcgogICAgLy8vIEByZXR1cm4gRmFsc2UgaWYgdGhlIGNvbnRyb2xsZXIgZG9lcyBub3QgYXV0aG9yaXplIHRoZSB0cmFuc2ZlcgogICAgZnVuY3Rpb24gb25UcmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyhib29sKTsKCiAgICAvLy8gQG5vdGljZSBOb3RpZmllcyB0aGUgY29udHJvbGxlciBhYm91dCBhbiBhcHByb3ZhbCBhbGxvd2luZyB0aGUKICAgIC8vLyAgY29udHJvbGxlciB0byByZWFjdCBpZiBkZXNpcmVkCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0aGF0IGNhbGxzIGBhcHByb3ZlKClgCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBzcGVuZGVyIGluIHRoZSBgYXBwcm92ZSgpYCBjYWxsCiAgICAvLy8gQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBpbiB0aGUgYGFwcHJvdmUoKWAgY2FsbAogICAgLy8vIEByZXR1cm4gRmFsc2UgaWYgdGhlIGNvbnRyb2xsZXIgZG9lcyBub3QgYXV0aG9yaXplIHRoZSBhcHByb3ZhbAogICAgZnVuY3Rpb24gb25BcHByb3ZlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hbW91bnQpIHB1YmxpYwogICAgICAgIHJldHVybnMoYm9vbCk7Cn0KCgoKCmNvbnRyYWN0IFRva2VuU2FsZSBpcyBUb2tlbkNvbnRyb2xsZXIsIE93bmVkLCBTYWZlTWF0aCB7CgoKICAgIHVpbnQgcHVibGljIHN0YXJ0RnVuZGluZ1RpbWU7ICAgICAgICAgICAvLyBJbiBVTklYIFRpbWUgRm9ybWF0CiAgICB1aW50IHB1YmxpYyBlbmRGdW5kaW5nVGltZTsgICAgICAgICAgICAgLy8gSW4gVU5JWCBUaW1lIEZvcm1hdAoKICAgIHVpbnQgcHVibGljIHRva2VuQ2FwOyAgICAgICAgICAgICAgICAgICAvLyBNYXhpbXVtIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgZGlzdHJpYnV0ZWQKICAgIHVpbnQgcHVibGljIHRvdGFsVG9rZW5Db3VudDsgICAgICAgICAgICAvLyBBY3R1YWwgYW1vdW50IG9mIHRva2VucyBkaXN0cmlidXRlZAoKICAgIHVpbnQgcHVibGljIHRvdGFsQ29sbGVjdGVkOyAgICAgICAgICAgICAvLyBJbiB3ZWkKICAgIENvbnRyb2xsZWRUb2tlbiBwdWJsaWMgdG9rZW5Db250cmFjdDsgICAvLyBUaGUgbmV3IHRva2VuIGZvciB0aGlzIFRva2VuU2FsZQogICAgYWRkcmVzcyBwdWJsaWMgdmF1bHRBZGRyZXNzOyAgICAgICAgICAgIC8vIFRoZSBhZGRyZXNzIHRvIGhvbGQgdGhlIGZ1bmRzIGRvbmF0ZWQKICAgIGJvb2wgcHVibGljIHRyYW5zZmVyc0FsbG93ZWQ7ICAgICAgICAgICAvLyBJZiB0aGUgdG9rZW4gdHJhbnNmZXJzIGFyZSBhbGxvd2VkCiAgICB1aW50MjU2IHB1YmxpYyBleGNoYW5nZVJhdGU7ICAgICAgICAgICAgLy8gVVNEL0VUSCByYXRlICogMTAwCiAgICB1aW50IHB1YmxpYyBleGNoYW5nZVJhdGVBdDsgICAgICAgICAgICAgLy8gQmxvY2sgbnVtYmVyIHdoZW4gZXhjaGFuZ2UgcmF0ZSB3YXMgc2V0CgogICAgLy8vIEBub3RpY2UgJ1Rva2VuU2FsZSgpJyBpbml0aWF0ZXMgdGhlIFRva2VuU2FsZSBieSBzZXR0aW5nIGl0cyBmdW5kaW5nCiAgICAvLy8gcGFyYW1ldGVycwogICAgLy8vIEBkZXYgVGhlcmUgYXJlIHNldmVyYWwgY2hlY2tzIHRvIG1ha2Ugc3VyZSB0aGUgcGFyYW1ldGVycyBhcmUgYWNjZXB0YWJsZQogICAgLy8vIEBwYXJhbSBfc3RhcnRGdW5kaW5nVGltZSBUaGUgVU5JWCB0aW1lIHRoYXQgdGhlIFRva2VuU2FsZSB3aWxsIGJlIGFibGUgdG8KICAgIC8vLyBzdGFydCByZWNlaXZpbmcgZnVuZHMKICAgIC8vLyBAcGFyYW0gX2VuZEZ1bmRpbmdUaW1lIFRoZSBVTklYIHRpbWUgdGhhdCB0aGUgVG9rZW5TYWxlIHdpbGwgc3RvcCBiZWluZyBhYmxlCiAgICAvLy8gdG8gcmVjZWl2ZSBmdW5kcwogICAgLy8vIEBwYXJhbSBfdG9rZW5DYXAgTWF4aW11bSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNvbGQKICAgIC8vLyBAcGFyYW0gX3ZhdWx0QWRkcmVzcyBUaGUgYWRkcmVzcyB0aGF0IHdpbGwgc3RvcmUgdGhlIGRvbmF0ZWQgZnVuZHMKICAgIC8vLyBAcGFyYW0gX3Rva2VuQWRkcmVzcyBBZGRyZXNzIG9mIHRoZSB0b2tlbiBjb250cmFjdCB0aGlzIGNvbnRyYWN0IGNvbnRyb2xzCiAgICAvLy8gQHBhcmFtIF90cmFuc2ZlcnNBbGxvd2VkIGlmIHRva2VuIHRyYW5zZmVycyBhcmUgYWxsb3dlZAogICAgLy8vIEBwYXJhbSBfZXhjaGFuZ2VSYXRlIFVTRC9FVEggcmF0ZSAqIDEwMAogICAgZnVuY3Rpb24gVG9rZW5TYWxlICgKICAgICAgICB1aW50IF9zdGFydEZ1bmRpbmdUaW1lLAogICAgICAgIHVpbnQgX2VuZEZ1bmRpbmdUaW1lLAogICAgICAgIHVpbnQgX3Rva2VuQ2FwLAogICAgICAgIGFkZHJlc3MgX3ZhdWx0QWRkcmVzcywKICAgICAgICBhZGRyZXNzIF90b2tlbkFkZHJlc3MsCiAgICAgICAgYm9vbCBfdHJhbnNmZXJzQWxsb3dlZCwKICAgICAgICB1aW50MjU2IF9leGNoYW5nZVJhdGUKICAgICkgcHVibGljIHsKICAgICAgICByZXF1aXJlICgoX2VuZEZ1bmRpbmdUaW1lID49IG5vdykgJiYgICAgICAgICAgIC8vIENhbm5vdCBlbmQgaW4gdGhlIHBhc3QKICAgICAgICAgICAgKF9lbmRGdW5kaW5nVGltZSA+IF9zdGFydEZ1bmRpbmdUaW1lKSAmJgogICAgICAgICAgICAoX3ZhdWx0QWRkcmVzcyAhPSAwKSk7ICAgICAgICAgICAgICAgICAgICAvLyBUbyBwcmV2ZW50IGJ1cm5pbmcgRVRICiAgICAgICAgc3RhcnRGdW5kaW5nVGltZSA9IF9zdGFydEZ1bmRpbmdUaW1lOwogICAgICAgIGVuZEZ1bmRpbmdUaW1lID0gX2VuZEZ1bmRpbmdUaW1lOwogICAgICAgIHRva2VuQ2FwID0gX3Rva2VuQ2FwOwogICAgICAgIHRva2VuQ29udHJhY3QgPSBDb250cm9sbGVkVG9rZW4oX3Rva2VuQWRkcmVzcyk7Ly8gVGhlIERlcGxveWVkIFRva2VuIENvbnRyYWN0CiAgICAgICAgdmF1bHRBZGRyZXNzID0gX3ZhdWx0QWRkcmVzczsKICAgICAgICB0cmFuc2ZlcnNBbGxvd2VkID0gX3RyYW5zZmVyc0FsbG93ZWQ7CiAgICAgICAgZXhjaGFuZ2VSYXRlID0gX2V4Y2hhbmdlUmF0ZTsKICAgICAgICBleGNoYW5nZVJhdGVBdCA9IGJsb2NrLm51bWJlcjsKICAgIH0KCiAgICAvLy8gQGRldiBUaGUgZmFsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gZXRoZXIgaXMgc2VudCB0byB0aGUgY29udHJhY3QsIGl0CiAgICAvLy8gc2ltcGx5IGNhbGxzIGBkb1BheW1lbnQoKWAgd2l0aCB0aGUgYWRkcmVzcyB0aGF0IHNlbnQgdGhlIGV0aGVyIGFzIHRoZQogICAgLy8vIGBfb3duZXJgLiBQYXlhYmxlIGlzIGEgcmVxdWlyZWQgc29saWRpdHkgbW9kaWZpZXIgZm9yIGZ1bmN0aW9ucyB0byByZWNlaXZlCiAgICAvLy8gZXRoZXIsIHdpdGhvdXQgdGhpcyBtb2RpZmllciBmdW5jdGlvbnMgd2lsbCB0aHJvdyBpZiBldGhlciBpcyBzZW50IHRvIHRoZW0KICAgIGZ1bmN0aW9uICgpICBwYXlhYmxlIHB1YmxpYyB7CiAgICAgICAgZG9QYXltZW50KG1zZy5zZW5kZXIpOwogICAgfQoKCiAgICAvLy8gQGRldiBgZG9QYXltZW50KClgIGlzIGFuIGludGVybmFsIGZ1bmN0aW9uIHRoYXQgc2VuZHMgdGhlIGV0aGVyIHRoYXQgdGhpcwogICAgLy8vICBjb250cmFjdCByZWNlaXZlcyB0byB0aGUgYHZhdWx0YCBhbmQgY3JlYXRlcyB0b2tlbnMgaW4gdGhlIGFkZHJlc3Mgb2YgdGhlCiAgICAvLy8gIGBfb3duZXJgIGFzc3VtaW5nIHRoZSBUb2tlblNhbGUgaXMgc3RpbGwgYWNjZXB0aW5nIGZ1bmRzCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0aGF0IHdpbGwgaG9sZCB0aGUgbmV3bHkgY3JlYXRlZCB0b2tlbnMKCiAgICBmdW5jdGlvbiBkb1BheW1lbnQoYWRkcmVzcyBfb3duZXIpIGludGVybmFsIHsKCiAgICAgICAgLy8gRmlyc3QgY2hlY2sgdGhhdCB0aGUgVG9rZW5TYWxlIGlzIGFsbG93ZWQgdG8gcmVjZWl2ZSB0aGlzIGRvbmF0aW9uCiAgICAgICAgcmVxdWlyZSAoKG5vdyA+PSBzdGFydEZ1bmRpbmdUaW1lKSAmJgogICAgICAgICAgICAobm93IDw9IGVuZEZ1bmRpbmdUaW1lKSAmJgogICAgICAgICAgICAodG9rZW5Db250cmFjdC5jb250cm9sbGVyKCkgIT0gMCkgJiYKICAgICAgICAgICAgKG1zZy52YWx1ZSAhPSAwKSApOwoKICAgICAgICB1aW50MjU2IHRva2Vuc0Ftb3VudCA9IG11bChtc2cudmFsdWUsIGV4Y2hhbmdlUmF0ZSkgLyAxMDA7CgogICAgICAgIHJlcXVpcmUoIHRvdGFsVG9rZW5Db3VudCArIHRva2Vuc0Ftb3VudCA8PSB0b2tlbkNhcCApOwoKICAgICAgICAvL1RyYWNrIGhvdyBtdWNoIHRoZSBUb2tlblNhbGUgaGFzIGNvbGxlY3RlZAogICAgICAgIHRvdGFsQ29sbGVjdGVkICs9IG1zZy52YWx1ZTsKCiAgICAgICAgLy9TZW5kIHRoZSBldGhlciB0byB0aGUgdmF1bHQKICAgICAgICByZXF1aXJlICh2YXVsdEFkZHJlc3MuY2FsbC5nYXMoMjgwMDApLnZhbHVlKG1zZy52YWx1ZSkoKSk7CgogICAgICAgIC8vIENyZWF0ZXMgYW4gIGFtb3VudCBvZiB0b2tlbnMgYmFzZSBvbiBldGhlciBzZW50IGFuZCBleGNoYW5nZSByYXRlLiBUaGUgbmV3IHRva2VucyBhcmUgY3JlYXRlZAogICAgICAgIC8vICBpbiB0aGUgYF9vd25lcmAgYWRkcmVzcwogICAgICAgIHJlcXVpcmUgKHRva2VuQ29udHJhY3QuZ2VuZXJhdGVUb2tlbnMoX293bmVyLCB0b2tlbnNBbW91bnQpKTsKCiAgICAgICAgdG90YWxUb2tlbkNvdW50ICs9IHRva2Vuc0Ftb3VudDsKCiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGZ1bmN0aW9uIGRpc3RyaWJ1dGVUb2tlbnMoYWRkcmVzc1tdIF9vd25lcnMsIHVpbnQyNTZbXSBfdG9rZW5zKSBvbmx5T3duZXIgcHVibGljIHsKCiAgICAgICAgcmVxdWlyZSggX293bmVycy5sZW5ndGggPT0gX3Rva2Vucy5sZW5ndGggKTsKICAgICAgICBmb3IodWludCBpPTA7aTxfb3duZXJzLmxlbmd0aDtpKyspewogICAgICAgICAgICByZXF1aXJlICh0b2tlbkNvbnRyYWN0LmdlbmVyYXRlVG9rZW5zKF9vd25lcnNbaV0sIF90b2tlbnNbaV0pKTsKICAgICAgICB9CgogICAgfQoKCiAgICAvLy8gQG5vdGljZSBgb25seU93bmVyYCBjaGFuZ2VzIHRoZSBsb2NhdGlvbiB0aGF0IGV0aGVyIGlzIHNlbnQKICAgIC8vLyBAcGFyYW0gX25ld1ZhdWx0QWRkcmVzcyBUaGUgYWRkcmVzcyB0aGF0IHdpbGwgcmVjZWl2ZSB0aGUgZXRoZXIgc2VudCB0byB0aGlzIHRva2VuIHNhbGUKICAgIGZ1bmN0aW9uIHNldFZhdWx0KGFkZHJlc3MgX25ld1ZhdWx0QWRkcmVzcykgb25seU93bmVyIHB1YmxpY3sKICAgICAgICB2YXVsdEFkZHJlc3MgPSBfbmV3VmF1bHRBZGRyZXNzOwogICAgfQoKICAgIC8vLyBAbm90aWNlIGBvbmx5T3duZXJgIGNoYW5nZXMgdGhlIHNldHRpbmcgdG8gYWxsb3cgdHJhbnNmZXIgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF9hbGxvdyAgYWxsb3dpbmcgdG8gdHJhbnNmZXIgdG9rZW5zCiAgICBmdW5jdGlvbiBzZXRUcmFuc2ZlcnNBbGxvd2VkKGJvb2wgX2FsbG93KSBvbmx5T3duZXIgcHVibGljewogICAgICAgIHRyYW5zZmVyc0FsbG93ZWQgPSBfYWxsb3c7CiAgICB9CgogICAgLy8vIEBub3RpY2UgYG9ubHlPd25lcmAgY2hhbmdlcyB0aGUgZXhjaGFuZ2UgcmF0ZSBvZiB0b2tlbiB0byBFVEgKICAgIC8vLyBAcGFyYW0gX2V4Y2hhbmdlUmF0ZSBVU0QvRVRIIHJhdGUgKiAxMDAKICAgIGZ1bmN0aW9uIHNldEV4Y2hhbmdlUmF0ZSh1aW50MjU2IF9leGNoYW5nZVJhdGUpIG9ubHlPd25lciBwdWJsaWN7CiAgICAgICAgZXhjaGFuZ2VSYXRlID0gX2V4Y2hhbmdlUmF0ZTsKICAgICAgICBleGNoYW5nZVJhdGVBdCA9IGJsb2NrLm51bWJlcjsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBgb25seU93bmVyYCBjaGFuZ2VzIHRoZSBjb250cm9sbGVyIG9mIHRoZSB0b2tlbkNvbnRyYWN0CiAgICAvLy8gQHBhcmFtIF9uZXdDb250cm9sbGVyIC0gY29udHJvbGxlciB0byBiZSB1c2VkIHdpdGggdG9rZW4KICAgIGZ1bmN0aW9uIGNoYW5nZUNvbnRyb2xsZXIoYWRkcmVzcyBfbmV3Q29udHJvbGxlcikgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgdG9rZW5Db250cmFjdC5jaGFuZ2VDb250cm9sbGVyKF9uZXdDb250cm9sbGVyKTsKICAgIH0KCiAgICAvLy8vLy8vLy8vLy8vLy8vLwogICAgLy8gVG9rZW5Db250cm9sbGVyIGludGVyZmFjZQogICAgLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAvLy8gQG5vdGljZSBgcHJveHlQYXltZW50KClgIGFsbG93cyB0aGUgY2FsbGVyIHRvIHNlbmQgZXRoZXIgdG8gdGhlIFRva2VuU2FsZSBhbmQKICAgIC8vLyBoYXZlIHRoZSB0b2tlbnMgY3JlYXRlZCBpbiBhbiBhZGRyZXNzIG9mIHRoZWlyIGNob29zaW5nCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0aGF0IHdpbGwgaG9sZCB0aGUgbmV3bHkgY3JlYXRlZCB0b2tlbnMKCiAgICBmdW5jdGlvbiBwcm94eVBheW1lbnQoYWRkcmVzcyBfb3duZXIpIHBheWFibGUgcHVibGljIHJldHVybnMoYm9vbCkgewogICAgICAgIGRvUGF5bWVudChfb3duZXIpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCgogICAgLy8vIEBub3RpY2UgTm90aWZpZXMgdGhlIGNvbnRyb2xsZXIgYWJvdXQgYSB0cmFuc2ZlciwgZm9yIHRoaXMgVG9rZW5TYWxlIGFsbAogICAgLy8vICB0cmFuc2ZlcnMgYXJlIGFsbG93ZWQgYnkgZGVmYXVsdCBhbmQgbm8gZXh0cmEgbm90aWZpY2F0aW9ucyBhcmUgbmVlZGVkCiAgICAvLy8gQHBhcmFtIF9mcm9tIFRoZSBvcmlnaW4gb2YgdGhlIHRyYW5zZmVyCiAgICAvLy8gQHBhcmFtIF90byBUaGUgZGVzdGluYXRpb24gb2YgdGhlIHRyYW5zZmVyCiAgICAvLy8gQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBvZiB0aGUgdHJhbnNmZXIKICAgIC8vLyBAcmV0dXJuIEZhbHNlIGlmIHRoZSBjb250cm9sbGVyIGRvZXMgbm90IGF1dGhvcml6ZSB0aGUgdHJhbnNmZXIKICAgIGZ1bmN0aW9uIG9uVHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcHVibGljIHJldHVybnMoYm9vbCkgewogICAgICAgIHJldHVybiB0cmFuc2ZlcnNBbGxvd2VkOwogICAgfQoKICAgIC8vLyBAbm90aWNlIE5vdGlmaWVzIHRoZSBjb250cm9sbGVyIGFib3V0IGFuIGFwcHJvdmFsLCBmb3IgdGhpcyBUb2tlblNhbGUgYWxsCiAgICAvLy8gIGFwcHJvdmFscyBhcmUgYWxsb3dlZCBieSBkZWZhdWx0IGFuZCBubyBleHRyYSBub3RpZmljYXRpb25zIGFyZSBuZWVkZWQKICAgIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRoYXQgY2FsbHMgYGFwcHJvdmUoKWAKICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIHNwZW5kZXIgaW4gdGhlIGBhcHByb3ZlKClgIGNhbGwKICAgIC8vLyBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IGluIHRoZSBgYXBwcm92ZSgpYCBjYWxsCiAgICAvLy8gQHJldHVybiBGYWxzZSBpZiB0aGUgY29udHJvbGxlciBkb2VzIG5vdCBhdXRob3JpemUgdGhlIGFwcHJvdmFsCiAgICBmdW5jdGlvbiBvbkFwcHJvdmUoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2Ftb3VudCkgcHVibGljCiAgICAgICAgcmV0dXJucyhib29sKQogICAgewogICAgICAgIHJldHVybiB0cmFuc2ZlcnNBbGxvd2VkOwogICAgfQoKCn0='.
	

]
