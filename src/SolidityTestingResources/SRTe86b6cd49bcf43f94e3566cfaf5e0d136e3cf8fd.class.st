Class {
	#name : #SRTe86b6cd49bcf43f94e3566cfaf5e0d136e3cf8fd,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe86b6cd49bcf43f94e3566cfaf5e0d136e3cf8fd >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovLyA9PT09IERJU0NMQUlNRVIgPT09PQovLwovLyBFVEhFUkVVTSBJUyBTVElMTCBBTiBFWFBFUkVNRU5UQUwgVEVDSE5PTE9HWS4KLy8gQUxUSE9VR0ggVEhJUyBTTUFSVCBDT05UUkFDVCBXQVMgQ1JFQVRFRCBXSVRIIEdSRUFUIENBUkUgQU5EIElOIFRIRSBIT1BFIE9GIEJFSU5HIFVTRUZVTCwgTk8gR1VBUkFOVEVFUyBPRiBGTEFXTEVTUyBPUEVSQVRJT04gQ0FOIEJFIEdJVkVOLgovLyBJTiBQQVJUSUNVTEFSIC0gU1VCVElMRSBCVUdTLCBIQUNLRVIgQVRUQUNLUyBPUiBNQUxGVU5DVElPTiBPRiBVTkRFUkxZSU5HIFRFQ0hOT0xPR1kgQ0FOIENBVVNFIFVOSU5URU5USU9OQUwgQkVIQVZJT1VSLgovLyBZT1UgQVJFIFNUUk9OR0xZIEVOQ09VUkFHRUQgVE8gU1RVRFkgVEhJUyBTTUFSVCBDT05UUkFDVCBDQVJFRlVMTFkgSU4gT1JERVIgVE8gVU5ERVJTVEFORCBQT1NTSUJMRSBFREdFIENBU0VTIEFORCBSSVNLUy4KLy8gRE9OJ1QgVVNFIFRISVMgU01BUlQgQ09OVFJBQ1QgSUYgWU9VIEhBVkUgU1VCU1RBTlRJQUwgRE9VQlRTIE9SIElGIFlPVSBET04nVCBLTk9XIFdIQVQgWU9VIEFSRSBET0lORy4KLy8KLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQovLyBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsCi8vIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsCi8vIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLAovLyBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLgovLyA9PT09Ci8vCgovLy8gQGF1dGhvciBTYW50aW1lbnQgU2FnbAovLy8gQHRpdGxlICBDcm93ZHNhbGVNaW50ZXIKCmNvbnRyYWN0IEJhc2UgewoKICAgIGZ1bmN0aW9uIG1heCh1aW50IGEsIHVpbnQgYikgcmV0dXJucyAodWludCkgeyByZXR1cm4gYSA+PSBiID8gYSA6IGI7IH0KICAgIGZ1bmN0aW9uIG1pbih1aW50IGEsIHVpbnQgYikgcmV0dXJucyAodWludCkgeyByZXR1cm4gYSA8PSBiID8gYSA6IGI7IH0KCiAgICBtb2RpZmllciBvbmx5KGFkZHJlc3MgYWxsb3dlZCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IGFsbG93ZWQpIHRocm93OwogICAgICAgIF87CiAgICB9CgoKICAgIC8vL0ByZXR1cm4gVHJ1ZSBpZiBgX2FkZHJgIGlzIGEgY29udHJhY3QKICAgIGZ1bmN0aW9uIGlzQ29udHJhY3QoYWRkcmVzcyBfYWRkcikgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGlmIChfYWRkciA9PSAwKSByZXR1cm4gZmFsc2U7CiAgICAgICAgdWludCBzaXplOwogICAgICAgIGFzc2VtYmx5IHsKICAgICAgICAgICAgc2l6ZSA6PSBleHRjb2Rlc2l6ZShfYWRkcikKICAgICAgICB9CiAgICAgICAgcmV0dXJuIChzaXplID4gMCk7CiAgICB9CgogICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgLy8gKiAgICAgICAgICByZWVudHJhbmN5IGhhbmRsaW5nICAgICAgICAgICAgICAgICAgKgogICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgoKICAgIC8vQGRldiBwcmVkZWZpbmVkIGxvY2tzICh1cCB0byB1aW50IGJpdCBsZW5ndGgsIGkuZS4gMjU2IHBvc3NpYmxlKQogICAgdWludCBjb25zdGFudCBpbnRlcm5hbCBMMDAgPSAyICoqIDA7CiAgICB1aW50IGNvbnN0YW50IGludGVybmFsIEwwMSA9IDIgKiogMTsKICAgIHVpbnQgY29uc3RhbnQgaW50ZXJuYWwgTDAyID0gMiAqKiAyOwogICAgdWludCBjb25zdGFudCBpbnRlcm5hbCBMMDMgPSAyICoqIDM7CiAgICB1aW50IGNvbnN0YW50IGludGVybmFsIEwwNCA9IDIgKiogNDsKICAgIHVpbnQgY29uc3RhbnQgaW50ZXJuYWwgTDA1ID0gMiAqKiA1OwoKICAgIC8vcHJldmVudHMgcmVlbnRyYW5jeSBhdHRhY3M6IHNwZWNpZmljIGxvY2tzCiAgICB1aW50IHByaXZhdGUgYml0bG9ja3MgPSAwOwogICAgbW9kaWZpZXIgbm9SZWVudHJhbmN5KHVpbnQgbSkgewogICAgICAgIHZhciBfbG9ja3MgPSBiaXRsb2NrczsKICAgICAgICBpZiAoX2xvY2tzICYgbSA+IDApIHRocm93OwogICAgICAgIGJpdGxvY2tzIHw9IG07CiAgICAgICAgXzsKICAgICAgICBiaXRsb2NrcyA9IF9sb2NrczsKICAgIH0KCiAgICBtb2RpZmllciBub0FueVJlZW50cmFuY3kgewogICAgICAgIHZhciBfbG9ja3MgPSBiaXRsb2NrczsKICAgICAgICBpZiAoX2xvY2tzID4gMCkgdGhyb3c7CiAgICAgICAgYml0bG9ja3MgPSB1aW50KC0xKTsKICAgICAgICBfOwogICAgICAgIGJpdGxvY2tzID0gX2xvY2tzOwogICAgfQoKICAgIC8vL0BkZXYgZW1wdHkgbWFya2luZyBtb2RpZmllciBzaWduYWxpbmcgdG8gdXNlciBvZiB0aGUgbWFya2VkIGZ1bmN0aW9uICwgdGhhdCBpdCBjYW4gY2F1c2UgYW4gcmVlbnRyYW50IGNhbGwuCiAgICAvLy8gICAgIGRldmVsb3BlciBzaG91bGQgbWFrZSB0aGUgY2FsbGVyIGZ1bmN0aW9uIHJlZW50cmFudC1zYWZlIGlmIGl0IHVzZSBhIHJlZW50cmFudCBmdW5jdGlvbi4KICAgIG1vZGlmaWVyIHJlZW50cmFudCB7IF87IH0KCn0KCmNvbnRyYWN0IE1pbnRhYmxlVG9rZW4gewogICAgLy90YXJnZXQgdG9rZW4gY29udHJhY3QgaXMgcmVzcG9uc2libGUgdG8gYWNjZXB0IG9ubHkgYXV0aG9yaXplZCBtaW50IGNhbGxzLgogICAgZnVuY3Rpb24gbWludCh1aW50IGFtb3VudCwgYWRkcmVzcyBhY2NvdW50KTsKCiAgICAvL3N0YXJ0IHRoZSB0b2tlbiBvbiBtaW50aW5nIGZpbmlzaGVkLAogICAgZnVuY3Rpb24gc3RhcnQoKTsKfQoKY29udHJhY3QgT3duZWQgaXMgQmFzZSB7CgogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgICBhZGRyZXNzIHB1YmxpYyBuZXdPd25lcjsKCiAgICBmdW5jdGlvbiBPd25lZCgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIG9ubHkob3duZXIpIHsKICAgICAgICBuZXdPd25lciA9IF9uZXdPd25lcjsKICAgIH0KCiAgICBmdW5jdGlvbiBhY2NlcHRPd25lcnNoaXAoKSBvbmx5KG5ld093bmVyKSB7CiAgICAgICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQoKICAgIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90byk7Cgp9Cgpjb250cmFjdCBCYWxhbmNlU3RvcmFnZSB7CiAgICBmdW5jdGlvbiBiYWxhbmNlcyhhZGRyZXNzIGFjY291bnQpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQgYmFsYW5jZSk7Cn0KCmNvbnRyYWN0IEFkZHJlc3NMaXN0IHsKICAgIGZ1bmN0aW9uIGNvbnRhaW5zKGFkZHJlc3MgYWRkcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpOwp9Cgpjb250cmFjdCBNaW5NYXhXaGl0ZUxpc3QgewogICAgZnVuY3Rpb24gYWxsb3dlZChhZGRyZXNzIGFkZHIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IC8qZmlubmV5Ki8sIHVpbnQgLypmaW5uZXkqLyApOwp9Cgpjb250cmFjdCBQcmVzYWxlQm9udXNWb3RpbmcgewogICAgZnVuY3Rpb24gcmF3Vm90ZXMoYWRkcmVzcyBhZGRyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCByYXdWb3RlKTsKfQoKY29udHJhY3QgQ3Jvd2RzYWxlTWludGVyIGlzIE93bmVkIHsKCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IFZFUlNJT04gPSAiMC4yLjEtVEVTVC5NQVguMyI7CgogICAgLyogPT09PT09IGNvbmZpZ3VyYXRpb24gU1RBUlQgPT09PT09ICovCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBDT01NVU5JVFlfU0FMRV9TVEFSVCA9IDM5NzIzODA7IC8qIGFwcHJveC4gMDQuMDcuMjAxNyAxMjowMCAqLwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgUFJJT1JJVFlfU0FMRV9TVEFSVCAgPSAzOTcyNDg1OyAvKiBhcHByb3guIDA0LjA3LjIwMTcgMTI6MzAgKi8KICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFBVQkxJQ19TQUxFX1NUQVJUICAgID0gMzk3MjU5MDsgLyogYXBwcm94LiAwNC4wNy4yMDE3IDEzOjAwICovCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBQVUJMSUNfU0FMRV9FTkQgICAgICA9IDM5NzI2OTU7IC8qIGFwcHJveC4gMDQuMDcuMjAxNyAxMzozMCAqLwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgV0lUSERSQVdBTF9FTkQgICAgICAgPSAzOTcyODAwOyAvKiBhcHByb3guIDA0LjA3LjIwMTcgMTQ6MDAgKi8KCiAgICBhZGRyZXNzIHB1YmxpYyBURUFNX0dST1VQX1dBTExFVCAgICAgICAgICAgPSAweDIxNWFDQjM3ODQ1MDI3Y0E2NGE0ZjI5QjJGQ2I3QWZmQThFOWQzMjY7CiAgICBhZGRyZXNzIHB1YmxpYyBBRFZJU0VSU19BTkRfRlJJRU5EU19XQUxMRVQgPSAweDQxYWI4MzYwZEVGMWUxOUZkRmEzMjA5MkQ4M2E3YTc5OTZDMzEyYTQ7CgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgVEVBTV9CT05VU19QRVJfQ0VOVCAgICAgICAgICAgID0gMTg7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBBRFZJU09SU19BTkRfUEFSVE5FUlNfUEVSX0NFTlQgPSAxMDsKCiAgICBNaW50YWJsZVRva2VuICAgICAgcHVibGljIFRPS0VOICAgICAgICAgICAgICAgICAgICA9IE1pbnRhYmxlVG9rZW4oMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCk7CgogICAgQWRkcmVzc0xpc3QgICAgICAgIHB1YmxpYyBQUklPUklUWV9BRERSRVNTX0xJU1QgICAgPSBBZGRyZXNzTGlzdCgweDQ2MzYzNWVGZDIyNTU4YzY0RWZhNjIyN0E0NTY0OWVlRGMwZTQ4ODgpOwogICAgTWluTWF4V2hpdGVMaXN0ICAgIHB1YmxpYyBDT01NVU5JVFlfQUxMT1dBTkNFX0xJU1QgPSBNaW5NYXhXaGl0ZUxpc3QoMHgyNmM2M2Q2MzFBMzA3ODk3ZDc2QWY1ZjAyQTA4QTA5YjMzOTVEQ2I5KTsKICAgIEJhbGFuY2VTdG9yYWdlICAgICBwdWJsaWMgUFJFU0FMRV9CQUxBTkNFUyAgICAgICAgID0gQmFsYW5jZVN0b3JhZ2UoMHg0RmQ5OTdFZDdjMTBEYkQwNGU5NWQzNzMwY2Q3N0Q3OTUxMzA3NkYyKTsKICAgIFByZXNhbGVCb251c1ZvdGluZyBwdWJsaWMgUFJFU0FMRV9CT05VU19WT1RJTkcgICAgID0gUHJlc2FsZUJvbnVzVm90aW5nKDB4MjgzYTk3QWY4NjcxNjUxNjlBRUNlMGIyRTk2M2I5ZjBGQzdFNWI4Yyk7CgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgQ09NTVVOSVRZX1BMVVNfUFJJT1JJVFlfU0FMRV9DQVBfRVRIID0gNDsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IE1JTl9UT1RBTF9BTU9VTlRfVE9fUkVDRUlWRV9FVEggPSAzOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgTUFYX1RPVEFMX0FNT1VOVF9UT19SRUNFSVZFX0VUSCA9IDU7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBNSU5fQUNDRVBURURfQU1PVU5UX0ZJTk5FWSA9IDIwMDsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFRPS0VOX1BFUl9FVEggPSAxMDAwOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgUFJFX1NBTEVfQk9OVVNfUEVSX0NFTlQgPSA1NDsKCiAgICAvL2NvbnN0cnVjdG9yCiAgICBmdW5jdGlvbiBDcm93ZHNhbGVNaW50ZXIoKSB7CiAgICAgICAgLy9jaGVjayBjb25maWd1cmF0aW9uIGlmIHNvbWV0aGluZyBpbiBzZXR1cCBpcyBsb29raW5nIHdlaXJkCiAgICAgICAgaWYgKAogICAgICAgICAgICBUT0tFTl9QRVJfRVRIID09IDAKICAgICAgICAgICAgfHwgVEVBTV9CT05VU19QRVJfQ0VOVCArIEFEVklTT1JTX0FORF9QQVJUTkVSU19QRVJfQ0VOVCA+PTEwMAogICAgICAgICAgICB8fCBNSU5fQUNDRVBURURfQU1PVU5UX0ZJTk5FWSA8IDEKICAgICAgICAgICAgfHwgb3duZXIgPT0gMHgwCiAgICAgICAgICAgIHx8IGFkZHJlc3MoQ09NTVVOSVRZX0FMTE9XQU5DRV9MSVNUKSA9PSAweDAKICAgICAgICAgICAgfHwgYWRkcmVzcyhQUklPUklUWV9BRERSRVNTX0xJU1QpID09IDB4MAogICAgICAgICAgICB8fCBhZGRyZXNzKFBSRVNBTEVfQk9OVVNfVk9USU5HKSA9PSAweDAKICAgICAgICAgICAgfHwgYWRkcmVzcyhQUkVTQUxFX0JBTEFOQ0VTKSA9PSAweDAKICAgICAgICAgICAgfHwgQ09NTVVOSVRZX1NBTEVfU1RBUlQgPT0gMAogICAgICAgICAgICB8fCBQUklPUklUWV9TQUxFX1NUQVJUID09IDAKICAgICAgICAgICAgfHwgUFVCTElDX1NBTEVfU1RBUlQgPT0gMAogICAgICAgICAgICB8fCBQVUJMSUNfU0FMRV9FTkQgPT0gMAogICAgICAgICAgICB8fCBXSVRIRFJBV0FMX0VORCA9PSAwCiAgICAgICAgICAgIHx8IE1JTl9UT1RBTF9BTU9VTlRfVE9fUkVDRUlWRSA9PSAwCiAgICAgICAgICAgIHx8IE1BWF9UT1RBTF9BTU9VTlRfVE9fUkVDRUlWRSA9PSAwCiAgICAgICAgICAgIHx8IENPTU1VTklUWV9QTFVTX1BSSU9SSVRZX1NBTEVfQ0FQID09IDAKICAgICAgICAgICAgfHwgQ09NTVVOSVRZX1NBTEVfU1RBUlQgPD0gYmxvY2subnVtYmVyCiAgICAgICAgICAgIHx8IENPTU1VTklUWV9TQUxFX1NUQVJUID49IFBSSU9SSVRZX1NBTEVfU1RBUlQKICAgICAgICAgICAgfHwgUFJJT1JJVFlfU0FMRV9TVEFSVCA+PSBQVUJMSUNfU0FMRV9TVEFSVAogICAgICAgICAgICB8fCBQVUJMSUNfU0FMRV9TVEFSVCA+PSBQVUJMSUNfU0FMRV9FTkQKICAgICAgICAgICAgfHwgUFVCTElDX1NBTEVfRU5EID49IFdJVEhEUkFXQUxfRU5ECiAgICAgICAgICAgIHx8IENPTU1VTklUWV9QTFVTX1BSSU9SSVRZX1NBTEVfQ0FQID4gTUFYX1RPVEFMX0FNT1VOVF9UT19SRUNFSVZFCiAgICAgICAgICAgIHx8IE1JTl9UT1RBTF9BTU9VTlRfVE9fUkVDRUlWRSA+IE1BWF9UT1RBTF9BTU9VTlRfVE9fUkVDRUlWRSApCiAgICAgICAgdGhyb3c7CiAgICB9CgogICAgLyogPT09PT09IGNvbmZpZ3VyYXRpb24gRU5EID09PT09PSAqLwoKICAgIC8qID09PT09PSBwdWJsaWMgc3RhdGVzIFNUQVJUPT09PT09ICovCgogICAgYm9vbCBwdWJsaWMgaXNBYm9ydGVkID0gZmFsc2U7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBiYWxhbmNlczsKICAgIGJvb2wgcHVibGljIFRPS0VOX1NUQVJURUQgPSBmYWxzZTsKICAgIHVpbnQgcHVibGljIHRvdGFsX3JlY2VpdmVkX2Ftb3VudDsKICAgIGFkZHJlc3NbXSBwdWJsaWMgaW52ZXN0b3JzOwoKICAgIC8vZGlzcGxheXMgbnVtYmVyIG9mIHVuaXEgaW52ZXN0b3JzCiAgICBmdW5jdGlvbiBpbnZlc3RvcnNDb3VudCgpIGNvbnN0YW50IGV4dGVybmFsIHJldHVybnModWludCkgeyByZXR1cm4gaW52ZXN0b3JzLmxlbmd0aDsgfQoKICAgIC8vZGlzcGxheXMgcmVjZWl2ZWQgYW1vdW50IGluIGV0aCB1cHRvIG5vdwogICAgZnVuY3Rpb24gVE9UQUxfUkVDRUlWRURfRVRIKCkgY29uc3RhbnQgZXh0ZXJuYWwgcmV0dXJucyAodWludCkgeyByZXR1cm4gdG90YWxfcmVjZWl2ZWRfYW1vdW50IC8gMSBldGhlcjsgfQoKICAgIC8vZGlzcGxheXMgY3VycmVudCBjb250cmFjdCBzdGF0ZSBpbiBodW1hbiByZWFkYWJsZSBmb3JtCiAgICBmdW5jdGlvbiBzdGF0ZSgpIGNvbnN0YW50IGV4dGVybmFsIHJldHVybnMgKHN0cmluZykgeyByZXR1cm4gc3RhdGVOYW1lc1sgdWludChjdXJyZW50U3RhdGUoKSkgXTsgfQoKICAgIGZ1bmN0aW9uIHNhbl93aGl0ZWxpc3QoYWRkcmVzcyBhZGRyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50LCB1aW50KSB7IHJldHVybiBDT01NVU5JVFlfQUxMT1dBTkNFX0xJU1QuYWxsb3dlZChhZGRyKTsgfQogICAgZnVuY3Rpb24gY2ZpX3doaXRlbGlzdChhZGRyZXNzIGFkZHIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKGJvb2wpIHsgcmV0dXJuIFBSSU9SSVRZX0FERFJFU1NfTElTVC5jb250YWlucyhhZGRyKTsgfQoKICAgIC8qID09PT09PSBwdWJsaWMgc3RhdGVzIEVORCA9PT09PT0gKi8KCiAgICBzdHJpbmdbXSBwcml2YXRlIHN0YXRlTmFtZXMgPSBbIkJFRk9SRV9TVEFSVCIsICJDT01NVU5JVFlfU0FMRSIsICJQUklPUklUWV9TQUxFIiwgIlBSSU9SSVRZX1NBTEVfRklOSVNIRUQiLCAiUFVCTElDX1NBTEUiLCAiQk9OVVNfTUlOVElORyIsICJXSVRIRFJBV0FMX1JVTk5JTkciLCAiUkVGVU5EX1JVTk5JTkciLCAiQ0xPU0VEIiBdOwogICAgZW51bSBTdGF0ZSB7IEJFRk9SRV9TVEFSVCwgQ09NTVVOSVRZX1NBTEUsIFBSSU9SSVRZX1NBTEUsIFBSSU9SSVRZX1NBTEVfRklOSVNIRUQsIFBVQkxJQ19TQUxFLCBCT05VU19NSU5USU5HLCBXSVRIRFJBV0FMX1JVTk5JTkcsIFJFRlVORF9SVU5OSU5HLCBDTE9TRUQgfQoKICAgIHVpbnQgcHJpdmF0ZSBjb25zdGFudCBDT01NVU5JVFlfUExVU19QUklPUklUWV9TQUxFX0NBUCA9IENPTU1VTklUWV9QTFVTX1BSSU9SSVRZX1NBTEVfQ0FQX0VUSCAqIDEgZXRoZXI7CiAgICB1aW50IHByaXZhdGUgY29uc3RhbnQgTUlOX1RPVEFMX0FNT1VOVF9UT19SRUNFSVZFID0gTUlOX1RPVEFMX0FNT1VOVF9UT19SRUNFSVZFX0VUSCAqIDEgZXRoZXI7CiAgICB1aW50IHByaXZhdGUgY29uc3RhbnQgTUFYX1RPVEFMX0FNT1VOVF9UT19SRUNFSVZFID0gTUFYX1RPVEFMX0FNT1VOVF9UT19SRUNFSVZFX0VUSCAqIDEgZXRoZXI7CiAgICB1aW50IHByaXZhdGUgY29uc3RhbnQgTUlOX0FDQ0VQVEVEX0FNT1VOVCA9IE1JTl9BQ0NFUFRFRF9BTU9VTlRfRklOTkVZICogMSBmaW5uZXk7CiAgICBib29sIHByaXZhdGUgYWxsQm9udXNlc0FyZU1pbnRlZCA9IGZhbHNlOwoKICAgIC8vCiAgICAvLyA9PT09PT09IGludGVyZmFjZSBtZXRob2RzID09PT09PT0KICAgIC8vCgogICAgLy9hY2NlcHQgcGF5bWVudHMgaGVyZQogICAgZnVuY3Rpb24gKCkKICAgIHBheWFibGUKICAgIG5vQW55UmVlbnRyYW5jeQogICAgewogICAgICAgIFN0YXRlIHN0YXRlID0gY3VycmVudFN0YXRlKCk7CiAgICAgICAgdWludCBhbW91bnRfYWxsb3dlZDsKICAgICAgICBpZiAoc3RhdGUgPT0gU3RhdGUuQ09NTVVOSVRZX1NBTEUpIHsKICAgICAgICAgICAgdmFyIChtaW5fZmlubmV5LCBtYXhfZmlubmV5KSA9IENPTU1VTklUWV9BTExPV0FOQ0VfTElTVC5hbGxvd2VkKG1zZy5zZW5kZXIpOwogICAgICAgICAgICB2YXIgKG1pbiwgbWF4KSA9IChtaW5fZmlubmV5ICogMSBmaW5uZXksIG1heF9maW5uZXkgKiAxIGZpbm5leSk7CiAgICAgICAgICAgIHZhciBzZW5kZXJfYmFsYW5jZSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdOwogICAgICAgICAgICBhc3NlcnQgKHNlbmRlcl9iYWxhbmNlIDw9IG1heCk7IC8vc2FuaXR5IGNoZWNrOiBzaG91bGQgYmUgYWx3YXlzIHRydWU7CiAgICAgICAgICAgIGFzc2VydCAobXNnLnZhbHVlID49IG1pbik7ICAgICAgLy9yZWplY3QgcGF5bWVudHMgbGVzcyB0aGFuIG1pbmltdW0KICAgICAgICAgICAgYW1vdW50X2FsbG93ZWQgPSBtYXggLSBzZW5kZXJfYmFsYW5jZTsKICAgICAgICAgICAgX3JlY2VpdmVGdW5kc1VwVG8oYW1vdW50X2FsbG93ZWQpOwogICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT0gU3RhdGUuUFJJT1JJVFlfU0FMRSkgewogICAgICAgICAgICBhc3NlcnQgKFBSSU9SSVRZX0FERFJFU1NfTElTVC5jb250YWlucyhtc2cuc2VuZGVyKSk7CiAgICAgICAgICAgIGFtb3VudF9hbGxvd2VkID0gQ09NTVVOSVRZX1BMVVNfUFJJT1JJVFlfU0FMRV9DQVAgLSB0b3RhbF9yZWNlaXZlZF9hbW91bnQ7CiAgICAgICAgICAgIF9yZWNlaXZlRnVuZHNVcFRvKGFtb3VudF9hbGxvd2VkKTsKICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09IFN0YXRlLlBVQkxJQ19TQUxFKSB7CiAgICAgICAgICAgIGFtb3VudF9hbGxvd2VkID0gTUFYX1RPVEFMX0FNT1VOVF9UT19SRUNFSVZFIC0gdG90YWxfcmVjZWl2ZWRfYW1vdW50OwogICAgICAgICAgICBfcmVjZWl2ZUZ1bmRzVXBUbyhhbW91bnRfYWxsb3dlZCk7CiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PSBTdGF0ZS5SRUZVTkRfUlVOTklORykgewogICAgICAgICAgICAvLyBhbnkgZW50cmluZyBjYWxsIGluIFJlZnVuZCBQaGFzZSB3aWxsIGNhdXNlIGZ1bGwgcmVmdW5kCiAgICAgICAgICAgIF9zZW5kUmVmdW5kKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgfQoKCiAgICBmdW5jdGlvbiByZWZ1bmQoKSBleHRlcm5hbAogICAgaW5TdGF0ZShTdGF0ZS5SRUZVTkRfUlVOTklORykKICAgIG5vQW55UmVlbnRyYW5jeQogICAgewogICAgICAgIF9zZW5kUmVmdW5kKCk7CiAgICB9CgoKICAgIGZ1bmN0aW9uIHdpdGhkcmF3RnVuZHNBbmRTdGFydFRva2VuKCkgZXh0ZXJuYWwKICAgIGluU3RhdGUoU3RhdGUuV0lUSERSQVdBTF9SVU5OSU5HKQogICAgbm9BbnlSZWVudHJhbmN5CiAgICBvbmx5KG93bmVyKQogICAgewogICAgICAgIC8vIHRyYW5zZmVyIGZ1bmRzIHRvIG93bmVyCiAgICAgICAgaWYgKCFvd25lci5zZW5kKHRoaXMuYmFsYW5jZSkpIHRocm93OwoKICAgICAgICAvL25vdGlmeSB0b2tlbiBjb250cmFjdCB0byBzdGFydAogICAgICAgIGlmIChUT0tFTi5jYWxsKGJ5dGVzNChzaGEzKCJzdGFydCgpIikpKSkgewogICAgICAgICAgICBUT0tFTl9TVEFSVEVEID0gdHJ1ZTsKICAgICAgICAgICAgVG9rZW5TdGFydGVkKFRPS0VOKTsKICAgICAgICB9CiAgICB9CgogICAgZXZlbnQgVG9rZW5TdGFydGVkKGFkZHJlc3MgdG9rZW5BZGRyKTsKCiAgICAvL3RoZXJlIGFyZSBhcm91bmQgNDAgYWRkcmVzc2VzIGluIFBSRVNBTEVfQUREUkVTU0VTIGxpc3QuIEV2ZXJ5dGhpbmcgZml0cyBpbnRvIHNpbmdsZSBUeC4KICAgIGZ1bmN0aW9uIG1pbnRBbGxCb251c2VzKCkgZXh0ZXJuYWwKICAgIGluU3RhdGUoU3RhdGUuQk9OVVNfTUlOVElORykKICAgIG5vQW55UmVlbnRyYW5jeQogICAgewogICAgICAgIGFzc2VydCghYWxsQm9udXNlc0FyZU1pbnRlZCk7CiAgICAgICAgYWxsQm9udXNlc0FyZU1pbnRlZCA9IHRydWU7CgogICAgICAgIHVpbnQgVEVBTV9BTkRfUEFSVE5FUlNfUEVSX0NFTlQgPSBURUFNX0JPTlVTX1BFUl9DRU5UICsgQURWSVNPUlNfQU5EX1BBUlRORVJTX1BFUl9DRU5UOwoKICAgICAgICB1aW50IHRvdGFsX3ByZXNhbGVfYW1vdW50X3dpdGhfYm9udXMgPSBtaW50UHJlc2FsZUJvbnVzZXMoKTsKICAgICAgICB1aW50IHRvdGFsX2NvbGxlY3RlZF9hbW91bnQgPSB0b3RhbF9yZWNlaXZlZF9hbW91bnQgKyB0b3RhbF9wcmVzYWxlX2Ftb3VudF93aXRoX2JvbnVzOwogICAgICAgIHVpbnQgZXh0cmFfYW1vdW50ID0gdG90YWxfY29sbGVjdGVkX2Ftb3VudCAqIFRFQU1fQU5EX1BBUlRORVJTX1BFUl9DRU5UIC8gKDEwMCAtIFRFQU1fQU5EX1BBUlRORVJTX1BFUl9DRU5UKTsKICAgICAgICB1aW50IGV4dHJhX3RlYW1fYW1vdW50ID0gZXh0cmFfYW1vdW50ICogVEVBTV9CT05VU19QRVJfQ0VOVCAvIFRFQU1fQU5EX1BBUlRORVJTX1BFUl9DRU5UOwogICAgICAgIHVpbnQgZXh0cmFfcGFydG5lcnNfYW1vdW50ID0gZXh0cmFfYW1vdW50ICogQURWSVNPUlNfQU5EX1BBUlRORVJTX1BFUl9DRU5UIC8gVEVBTV9BTkRfUEFSVE5FUlNfUEVSX0NFTlQ7Ci8qIAogICAgICAgIC8vYmVhdXRpZnkgdG90YWwgc3VwcGx5OiByb3VuZCBkb3duIHRvIGZ1bGwgZXRoLgogICAgICAgIHVpbnQgdG90YWxfdG9fbWludCA9IHRvdGFsX2NvbGxlY3RlZF9hbW91bnQgKyBleHRyYV9hbW91bnQ7CiAgICAgICAgdWludCByb3VuZF9yZW1haW5kZXIgPSB0b3RhbF90b19taW50IC0gKHRvdGFsX3RvX21pbnQgLyAxIGV0aGVyICogMSBldGhlcik7CiAgICAgICAgZXh0cmFfdGVhbV9hbW91bnQgLT0gcm91bmRfcmVtYWluZGVyOyAvL3RoaXMgd2lsbCByZWR1Y2UgdG90YWxfc3VwcGx5IHRvIHJvdW5kZWQgdmFsdWUKKi8KICAgICAgICAvL21pbnQgZ3JvdXAgYm9udXNlcwogICAgICAgIF9taW50KGV4dHJhX3RlYW1fYW1vdW50ICwgVEVBTV9HUk9VUF9XQUxMRVQpOwogICAgICAgIF9taW50KGV4dHJhX3BhcnRuZXJzX2Ftb3VudCwgQURWSVNFUlNfQU5EX0ZSSUVORFNfV0FMTEVUKTsKCiAgICB9CgogICAgZnVuY3Rpb24gbWludFByZXNhbGVCb251c2VzKCkgaW50ZXJuYWwgcmV0dXJucyh1aW50IGFtb3VudCkgewogICAgICAgIHVpbnQgdG90YWxfcHJlc2FsZV9hbW91bnRfd2l0aF9ib251cyA9IDA7CiAgICAgICAgLy9taW50IHByZXNhbGUgYm9udXNlcwogICAgICAgIGZvcih1aW50IGk9MDsgaSA8IFBSRVNBTEVfQUREUkVTU0VTLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgIGFkZHJlc3MgYWRkciA9IFBSRVNBTEVfQUREUkVTU0VTW2ldOwogICAgICAgICAgICB2YXIgYW1vdW50X3dpdGhfYm9udXMgPSBwcmVzYWxlVG9rZW5BbW91bnQoYWRkcik7CiAgICAgICAgICAgIGlmIChhbW91bnRfd2l0aF9ib251cz4wKSB7CiAgICAgICAgICAgICAgICBfbWludChhbW91bnRfd2l0aF9ib251cywgYWRkcik7CiAgICAgICAgICAgICAgICB0b3RhbF9wcmVzYWxlX2Ftb3VudF93aXRoX2JvbnVzICs9IGFtb3VudF93aXRoX2JvbnVzOwogICAgICAgICAgICB9CiAgICAgICAgfS8vZm9yCiAgICAgICAgcmV0dXJuIHRvdGFsX3ByZXNhbGVfYW1vdW50X3dpdGhfYm9udXM7CiAgICB9CgogICAgZnVuY3Rpb24gcHJlc2FsZVRva2VuQW1vdW50KGFkZHJlc3MgYWRkcikgcHVibGljIGNvbnN0YW50IHJldHVybnModWludCl7CiAgICAgICAgdWludCBwcmVzYWxlX2JhbGFuY2UgPSBQUkVTQUxFX0JBTEFOQ0VTLmJhbGFuY2VzKGFkZHIpOwogICAgICAgIGlmIChwcmVzYWxlX2JhbGFuY2UgPiAwKSB7CiAgICAgICAgICAgIC8vIHRoaXMgY2FsY3VsYXRpb24gaXMgYWJvdXQgd2FpdmVkIHByZS1zYWxlIGJvbnVzLgogICAgICAgICAgICAvLyByYXdWb3RlIGNvbnRhaW5zIGEgdmFsdWUgWzAuLjEgZXRoZXJdLgogICAgICAgICAgICAvLyAgICAgMCBldGhlciAgICAtIG1lYW5zICJkZWZhdWx0IHZhbHVlIiBvciAibm8gdm90ZSIgOiAxMDAlIGJvbnVzIHNhdmVkCiAgICAgICAgICAgIC8vICAgICAxIGV0aGVyICAgIC0gbWVhbnMgInZvdGUgMTAwJSIgOiAxMDAlIGJvbnVzIHNhdmVkCiAgICAgICAgICAgIC8vICAgIDw9MTAgZmlubmV5IC0gc3BlY2lhbCB2YWx1ZSAidm90ZSAwJSIgOiBubyBib251cyBhdCBhbGwgKDEwMCUgYm9udXMgd2FpdmVkKS4KICAgICAgICAgICAgLy8gIG90aGVyIHZhbHVlIC0gIlBSRV9TQUxFX0JPTlVTX1BFUl9DRU5UICogcmF3Vm90ZSAvIDEgZXRoZXIiIGlzIGFuIGVmZmVjdGl2ZSBib251cyBwZXIgY2VudCBmb3IgcGFydGljdWxhciBwcmVzYWxlIG1lbWJlci4KICAgICAgICAgICAgLy8KICAgICAgICAgICAgdmFyIHJhd1ZvdGUgPSBQUkVTQUxFX0JPTlVTX1ZPVElORy5yYXdWb3RlcyhhZGRyKTsKICAgICAgICAgICAgaWYgKHJhd1ZvdGUgPT0gMCkgICAgICAgICAgICAgIHJhd1ZvdGUgPSAxIGV0aGVyOyAvL3NwZWNpYWwgY2FzZSAibm8gdm90ZSIgKGRlZmF1bHQgdmFsdWUpID09PiAoMSBldGhlciBpcyAxMDAlKQogICAgICAgICAgICBlbHNlIGlmIChyYXdWb3RlIDw9IDEwIGZpbm5leSkgcmF3Vm90ZSA9IDA7ICAgICAgIC8vc3BlY2lhbCBjYXNlICIwJSIgKG5vIGJvbnVzKSAgICAgICAgICAgPT0+ICgwIGV0aGVyIGlzICAgMCUpCiAgICAgICAgICAgIGVsc2UgaWYgKHJhd1ZvdGUgPiAxIGV0aGVyKSAgICByYXdWb3RlID0gMSBldGhlcjsgLy9tYXggYm9udXMgaXMgMTAwJSAoc2hvdWxkIG5vdCBvY2N1cikKICAgICAgICAgICAgdmFyIHByZXNhbGVfYm9udXMgPSBwcmVzYWxlX2JhbGFuY2UgKiBQUkVfU0FMRV9CT05VU19QRVJfQ0VOVCAqIHJhd1ZvdGUgLyAxIGV0aGVyIC8gMTAwOwogICAgICAgICAgICByZXR1cm4gcHJlc2FsZV9iYWxhbmNlICsgcHJlc2FsZV9ib251czsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gYXR0YWNoVG9Ub2tlbihNaW50YWJsZVRva2VuIHRva2VuQWRkcikgZXh0ZXJuYWwKICAgIGluU3RhdGUoU3RhdGUuQkVGT1JFX1NUQVJUKQogICAgb25seShvd25lcikKICAgIHsKICAgICAgICBUT0tFTiA9IHRva2VuQWRkcjsKICAgIH0KCiAgICBmdW5jdGlvbiBhYm9ydCgpIGV4dGVybmFsCiAgICBpblN0YXRlQmVmb3JlKFN0YXRlLlJFRlVORF9SVU5OSU5HKQogICAgb25seShvd25lcikKICAgIHsKICAgICAgICBpc0Fib3J0ZWQgPSB0cnVlOwogICAgfQoKICAgIC8vCiAgICAvLyA9PT09PT09IGltcGxlbWVudGF0aW9uIG1ldGhvZHMgPT09PT09PQogICAgLy8KCiAgICBmdW5jdGlvbiBfc2VuZFJlZnVuZCgpIHByaXZhdGUKICAgIHRva2VuSG9sZGVyc09ubHkKICAgIHsKICAgICAgICAvLyBsb2FkIGJhbGFuY2UgdG8gcmVmdW5kIHBsdXMgYW1vdW50IGN1cnJlbnRseSBzZW50CiAgICAgICAgdmFyIGFtb3VudF90b19yZWZ1bmQgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXSArIG1zZy52YWx1ZTsKICAgICAgICAvLyByZXNldCBiYWxhbmNlCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAwOwogICAgICAgIC8vIHNlbmQgcmVmdW5kIGJhY2sgdG8gc2VuZGVyCiAgICAgICAgaWYgKCFtc2cuc2VuZGVyLnNlbmQoYW1vdW50X3RvX3JlZnVuZCkpIHRocm93OwogICAgfQoKICAgIGZ1bmN0aW9uIF9yZWNlaXZlRnVuZHNVcFRvKHVpbnQgYW1vdW50KSBwcml2YXRlCiAgICBub3RUb29TbWFsbEFtb3VudE9ubHkKICAgIHsKICAgICAgICByZXF1aXJlIChhbW91bnQgPiAwKTsKICAgICAgICBpZiAobXNnLnZhbHVlID4gYW1vdW50KSB7CiAgICAgICAgICAgIC8vIGFjY2VwdCBhbW91bnQgb25seSBhbmQgcmV0dXJuIGNoYW5nZQogICAgICAgICAgICB2YXIgY2hhbmdlX3RvX3JldHVybiA9IG1zZy52YWx1ZSAtIGFtb3VudDsKICAgICAgICAgICAgaWYgKCFtc2cuc2VuZGVyLnNlbmQoY2hhbmdlX3RvX3JldHVybikpIHRocm93OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIGFjY2VwdCBmdWxsIGFtb3VudAogICAgICAgICAgICBhbW91bnQgPSBtc2cudmFsdWU7CiAgICAgICAgfQogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA9PSAwKSBpbnZlc3RvcnMucHVzaChtc2cuc2VuZGVyKTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSBhbW91bnQ7CiAgICAgICAgdG90YWxfcmVjZWl2ZWRfYW1vdW50ICs9IGFtb3VudDsKICAgICAgICBfbWludChhbW91bnQsbXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gX21pbnQodWludCBhbW91bnQsIGFkZHJlc3MgYWNjb3VudCkgcHJpdmF0ZSB7CiAgICAgICAgTWludGFibGVUb2tlbihUT0tFTikubWludChhbW91bnQgKiBUT0tFTl9QRVJfRVRILCBhY2NvdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiBjdXJyZW50U3RhdGUoKSBwcml2YXRlIGNvbnN0YW50CiAgICByZXR1cm5zIChTdGF0ZSkKICAgIHsKICAgICAgICBpZiAoaXNBYm9ydGVkKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmJhbGFuY2UgPiAwCiAgICAgICAgICAgICAgICAgICA/IFN0YXRlLlJFRlVORF9SVU5OSU5HCiAgICAgICAgICAgICAgICAgICA6IFN0YXRlLkNMT1NFRDsKICAgICAgICB9IGVsc2UgaWYgKGJsb2NrLm51bWJlciA8IENPTU1VTklUWV9TQUxFX1NUQVJUIHx8IGFkZHJlc3MoVE9LRU4pID09IDB4MCkgewogICAgICAgICAgICAgcmV0dXJuIFN0YXRlLkJFRk9SRV9TVEFSVDsKICAgICAgICB9IGVsc2UgaWYgKGJsb2NrLm51bWJlciA8IFBSSU9SSVRZX1NBTEVfU1RBUlQpIHsKICAgICAgICAgICAgcmV0dXJuIFN0YXRlLkNPTU1VTklUWV9TQUxFOwogICAgICAgIH0gZWxzZSBpZiAoYmxvY2subnVtYmVyIDwgUFVCTElDX1NBTEVfU1RBUlQpIHsKICAgICAgICAgICAgcmV0dXJuIHRvdGFsX3JlY2VpdmVkX2Ftb3VudCA8IENPTU1VTklUWV9QTFVTX1BSSU9SSVRZX1NBTEVfQ0FQCiAgICAgICAgICAgICAgICA/IFN0YXRlLlBSSU9SSVRZX1NBTEUKICAgICAgICAgICAgICAgIDogU3RhdGUuUFJJT1JJVFlfU0FMRV9GSU5JU0hFRDsKICAgICAgICB9IGVsc2UgaWYgKGJsb2NrLm51bWJlciA8PSBQVUJMSUNfU0FMRV9FTkQgJiYgdG90YWxfcmVjZWl2ZWRfYW1vdW50IDwgTUFYX1RPVEFMX0FNT1VOVF9UT19SRUNFSVZFKSB7CiAgICAgICAgICAgIHJldHVybiBTdGF0ZS5QVUJMSUNfU0FMRTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYmFsYW5jZSA9PSAwKSB7CiAgICAgICAgICAgIHJldHVybiBTdGF0ZS5DTE9TRUQ7CiAgICAgICAgfSBlbHNlIGlmIChibG9jay5udW1iZXIgPD0gV0lUSERSQVdBTF9FTkQgJiYgdG90YWxfcmVjZWl2ZWRfYW1vdW50ID49IE1JTl9UT1RBTF9BTU9VTlRfVE9fUkVDRUlWRSkgewogICAgICAgICAgICByZXR1cm4gYWxsQm9udXNlc0FyZU1pbnRlZAogICAgICAgICAgICAgICAgPyBTdGF0ZS5XSVRIRFJBV0FMX1JVTk5JTkcKICAgICAgICAgICAgICAgIDogU3RhdGUuQk9OVVNfTUlOVElORzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gU3RhdGUuUkVGVU5EX1JVTk5JTkc7CiAgICAgICAgfQogICAgfQoKICAgIC8vCiAgICAvLyA9PT09PT09PT09PT0gbW9kaWZpZXJzID09PT09PT09PT09PQogICAgLy8KCiAgICAvL2ZhaWxzIGlmIHN0YXRlIGRvc24ndCBtYXRjaAogICAgbW9kaWZpZXIgaW5TdGF0ZShTdGF0ZSBzdGF0ZSkgewogICAgICAgIGlmIChzdGF0ZSAhPSBjdXJyZW50U3RhdGUoKSkgdGhyb3c7CiAgICAgICAgXzsKICAgIH0KCiAgICAvL2ZhaWxzIGlmIHRoZSBjdXJyZW50IHN0YXRlIGlzIG5vdCBiZWZvcmUgdGhhbiB0aGUgZ2l2ZW4gb25lLgogICAgbW9kaWZpZXIgaW5TdGF0ZUJlZm9yZShTdGF0ZSBzdGF0ZSkgewogICAgICAgIGlmIChjdXJyZW50U3RhdGUoKSA+PSBzdGF0ZSkgdGhyb3c7CiAgICAgICAgXzsKICAgIH0KCiAgICAvL2FjY2VwdHMgY2FsbHMgZnJvbSB0b2tlbiBob2xkZXJzIG9ubHkKICAgIG1vZGlmaWVyIHRva2VuSG9sZGVyc09ubHkoKXsKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPT0gMCkgdGhyb3c7CiAgICAgICAgXzsKICAgIH0KCgogICAgLy8gZG9uYHQgYWNjZXB0IHRyYW5zYWN0aW9ucyB3aXRoIHZhbHVlIGxlc3MgdGhhbiBhbGxvd2VkIG1pbmltdW0KICAgIG1vZGlmaWVyIG5vdFRvb1NtYWxsQW1vdW50T25seSgpewogICAgICAgIGlmIChtc2cudmFsdWUgPCBNSU5fQUNDRVBURURfQU1PVU5UKSB0aHJvdzsKICAgICAgICBfOwogICAgfQoKICAgIC8vCiAgICAvLyA9PT09PT09PT09PT0gREFUQSA9PT09PT09PT09PT0KICAgIC8vCgogICAgYWRkcmVzc1tdIFBSRVNBTEVfQUREUkVTU0VTID0gWwogICAgICAgIDB4RjU1REZkMkIwMkNmMzI4MjY4MEM5NEJEMDFFOURhMDQ0MDQ0RTZBMiwKICAgICAgICAweDBENDBCNTM4Mjg5NDhiMzQwNjczNjc0QWU2NUVlN2Y1RDg0ODhlMzMsCiAgICAgICAgMHgwZWE2OTBkNDY2ZDZiYmQxOEYxMjRFMjA0RUE0ODZhNEJmOTM0Y2JBLAogICAgICAgIDB4NmQyNUI5ZjQwYjkyQ2NGMTU4MjUwNjI1QTE1MjU3NDYwMzQ2NTE5MiwKICAgICAgICAweDQ4MURhMEYxZTg5YzIwNjcxMkJDZUE0ZjdENkU2MGQ3YjQyZjZDNkMsCiAgICAgICAgMHg0MTZFRGE1RDZFZDI5Q0FjM2U2RDk3QzEwMmQ2MUJDNTc4QzVkQjg3LAogICAgICAgIDB4RDc4QWM2RkZjOTBFMDg0RjVmRDU2MzU2M0NjOWZEMzNlRTMwM2YxOCwKICAgICAgICAweGU2NzE0YWI1MjNhY0VjZjliODVkODgwNDkyQTJBY0RCZTQxODQ4OTIsCiAgICAgICAgMHgyODVBOWNBNWZFOWVlODU0NDU3MDE2YTdhNWQzQTNCQjk1NTM4MDkzLAogICAgICAgIDB4NjAwY2E2MzcyZjMxMkIwODEyMDVCMkMzZEE3MjUxN2E2MDNhMTVDYywKICAgICAgICAweDJiOGQ1QzkyMDlmQkQ1MDBGZDgxN0Q5NjA4MzBBQzY3MThiODgxMTIsCiAgICAgICAgMHg0QjE1RGQyM0U1ZjkwNjJlNEZCM2E5QjdERUNGNjUzQzAyMTVlNTYwLAogICAgICAgIDB4RDY3NDQ5ZTZBQjIzYzFmNDZkZWE3N2QzZjVFNUQ0N0ZmMzNEYzlhOSwKICAgICAgICAweGQwQURhRDdlZDgxQWZEYTAzOTk2OTU2NkNlYjg0MjNFMGFiMTRkOTAsCiAgICAgICAgMHgyNDVmMjc3OTZhNDRkN0UzRDMwNjU0ZUQ2Mjg1MGZmMDlFRTg1NjU2LAogICAgICAgIDB4NjM5RDZlQzJjZWY0ZDZmNzEzMGI0MDEzMkIzQjZGNWI2NjdlNTEwNSwKICAgICAgICAweDVlOWE2OUI4NjU2OTE0OTY1ZDY5ZDhkYTQ5YzM3MDlGMGJGMkI1RWYsCiAgICAgICAgMHgwODMyYzNCODAxMzE5YjYyYUIxRDM1MzU2MTVkMWZlOWFGYzMzOTdBLAogICAgICAgIDB4ZjZEZDYzMTI3OTM3NzIwNTgxOEMzYTY3MjVFZUVGQjlEMEY2YjlGMywKICAgICAgICAweDQ3Njk2MDU0ZTcxZTRjM2Y4OTkxMTk2MDFhMjU1YTcwNjVDMzA4N0IsCiAgICAgICAgMHhmMTA3YkU2YzY4MzNmNjFBMjRjNjRENjNjOEE3ZmNENzg0QWJmZjA2LAogICAgICAgIDB4MDU2ZjA3MkJkMjI0MDMxNWI3MDhEQkNiRERFODBkNDAwZjAzOTRhMSwKICAgICAgICAweDllNUJhZUMyNDREOGNDRDQ5NDc3MDM3RTI4ZWQ3MDU4NEVlQUQ5NTYsCiAgICAgICAgMHg0MEEwYjJjMUI0RTMwRjI3ZTIxREY5NGU3MzQ2NzE4NTZiNDg1OTY2LAogICAgICAgIDB4ODRmMDYyMEE1NDdhNEQxNEE3OTg3NzcwYzRGNUMyNWQ0ODhkNjMzNSwKICAgICAgICAweDAzNkFjMTFjMTYxQzA5ZDk0Y0EzOUY3QjI0QzFiQzgyMDQ2YzMzMkIsCiAgICAgICAgMHgyOTEyQTE4QzkwMmRFNmY5NTMyMUQ2ZDYzMDVEN0I4MEVlYzRDMDU1LAogICAgICAgIDB4RTFBZDMwOTcxYjgzYzE3RTJBMjRjMDMzNENCNDVmODA4QWJFQmM4NywKICAgICAgICAweDA3ZjM1YjdGRTczNWM0OUZENTA1MUQ1YTBDMmU3NGM5MTc3ZkVhNmQsCiAgICAgICAgMHgxMTY2OUNjZTZBRjNjZTFFZjM3Nzc3MjFmQ0MwZWVmMGVFNTdFYWJhLAogICAgICAgIDB4QkRiYUY2NDM0ZDQwRDYzNTVCMWU4MGU0MENjNEFCOUM2OEQ5NjExNiwKICAgICAgICAweDE3MTI1YjU5YWM1MWNFZTAyOUU0YkQ3OEQ3ZjU5NDdEMWVBNDlCQjIsCiAgICAgICAgMHhBMzgyQTNBNjVjM0Y4ZWUyYjcyNkEyNTM1QjNjMzRBODlEOTA5NEQ0LAogICAgICAgIDB4QUI3OGM4NzgxZkI2NEJlZDM3QjI3NEM1RUU3NTllRTMzNDY1ZjFmMywKICAgICAgICAweEU3NEYyMDYyNjEyRTNjQUU4YTkzRTI0YjJmMEQzYTIxMzMzNzM4ODQsCiAgICAgICAgMHg1MDUxMjA5NTdBOTgwNjgyN0Y4RjExMUExMjM1NjFFODJDNDBiQzc4LAogICAgICAgIDB4MDBBNDY5MjJCMUM1NEFlNmI1ODE4QzQ5Qjk3RTAzRUI0QkIzNTJlMSwKICAgICAgICAweEU3NmZFNTJhMjUxQzhGM2E1ZGNENjU3RTQ3QTZDOEQxNkZkZjRiRkEKICAgIF07Cgp9Ly8gQ3Jvd2RzYWxlTWludGVy'.
	

]
