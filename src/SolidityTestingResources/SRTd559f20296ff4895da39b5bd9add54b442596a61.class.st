Class {
	#name : #SRTd559f20296ff4895da39b5bd9add54b442596a61,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd559f20296ff4895da39b5bd9add54b442596a61 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBjZWkodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuICgoYSArIGIgLSAxKSAvIGIpICogYjsKICB9Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKiBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5LwogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKiBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5LwogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4KICogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS8KICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CgogICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQp9CgovKioKICogQHRpdGxlIFN0YW5kYXJkIEVSQzIwIHRva2VuCiAqCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIGJhc2ljIHN0YW5kYXJkIHRva2VuLgogKiBAZGV2IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKiBAZGV2IEJhc2VkIG9uIGNvZGUgYnkgRmlyc3RCbG9vZDogaHR0cHM6Ly9naXRodWIuY29tL0ZpcnN0Ymxvb2Rpby90b2tlbi9ibG9iL21hc3Rlci9zbWFydF9jb250cmFjdC9GaXJzdEJsb29kVG9rZW4uc29sCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBpbnRlcm5hbCBhbGxvd2VkOwoKCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW19mcm9tXSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CgogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICoKICAgKiBCZXdhcmUgdGhhdCBjaGFuZ2luZyBhbiBhbGxvd2FuY2Ugd2l0aCB0aGlzIG1ldGhvZCBicmluZ3MgdGhlIHJpc2sgdGhhdCBzb21lb25lIG1heSB1c2UgYm90aCB0aGUgb2xkCiAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAqIHJhY2UgY29uZGl0aW9uIGlzIHRvIGZpcnN0IHJlZHVjZSB0aGUgc3BlbmRlcidzIGFsbG93YW5jZSB0byAwIGFuZCBzZXQgdGhlIGRlc2lyZWQgdmFsdWUgYWZ0ZXJ3YXJkczoKICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZnlpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCiAgLyoqCiAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gaW5jcmVtZW50CiAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgKi8KICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXS5hZGQoX2FkZGVkVmFsdWUpOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICB9IGVsc2UgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgIH0KICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cgp9CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKiBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5LwogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPcGVyYXRpb25hbCBvd25lci4KICBhZGRyZXNzIHB1YmxpYyBtYXN0ZXJPd25lciA9IDB4NUQxRUM3NTU4QzhEMWM0MDQwNjkxM2FiNWRiQzBBYmYxQzk2QkE0MjsgIC8vIGZvciBvd25lcnNoaXAgdHJhbnNmZXIgc2VncmVnYXRpb24gb2YgZHV0eSwgaGFyZCBjb2RlZCB0byB3YWxsZXQgYWNjb3VudAoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUobWFzdGVyT3duZXIgPT0gbXNnLnNlbmRlcik7IC8vIG9ubHkgbWFzdGVyIG93bmVyIGNhbiBpbml0aWF0ZSBjaGFuZ2UgdG8gb3duZXJzaGlwZQogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKY29udHJhY3QgRlRYVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgT3duYWJsZSB7CgogICAgLyogbWV0YWRhdGEgKi8KICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJGaW50cnVYIE5ldHdvcmsiOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiRlRYIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgdmVyc2lvbiA9ICIxLjAiOwogICAgdWludDggcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CgogICAgLyogYWxsIGFjY291bnRzIGluIHdlaSAqLwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgSU5JVElBTF9TVVBQTFkgPSAxMDAwMDAwMDAgKiAxMCoqMTg7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBGSU5UUlVYX1JFU0VSVkVfRlRYID0gMTAwMDAwMDAgKiAxMCoqMTg7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBDUk9TU19SRVNFUlZFX0ZUWCA9IDUwMDAwMDAgKiAxMCoqMTg7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBURUFNX1JFU0VSVkVfRlRYID0gMTAwMDAwMDAgKiAxMCoqMTg7CgogICAgLy8gdGhlc2UgdGhyZWUgbXVsdGktc2lnIGFkZHJlc3NlcyB3aWxsIGJlIHJlcGxhY2VkIG9uIHByb2R1Y3Rpb246CiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBGSU5UUlVYX1JFU0VSVkUgPSAweDYzMzM0OGIwMUIzZjU5YzhBNDQ1MzY1RkIyZWRlODY1ZWNjOTRhMEI7CiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBDUk9TU19SRVNFUlZFID0gMHhFRDIwMEI3QkM3MDQ0MjkwYzk5OTkzMzQxYTgyYTIxYzRjNzcyNURCOwogICAgYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgVEVBTV9SRVNFUlZFID0gMHhmYzBEZDc3YzZiZDg4OTgxOUUzMjJGQjcyRDRhODY3NzZiMTYzMmQ1OwoKICAgIC8vIGFzc3VtaW5nIEZlYiAyOCwgMjAxOCA1OjAwIFBNIFVUQygxNTE5ODM3MjAwKSArIDEgeWVhciwgbWF5IGNoYW5nZSBmb3IgcHJvZHVjdGlvbjsgCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBWRVNUSU5HX0RBVEUgPSAxNTE5ODM3MjAwICsgMSB5ZWFyczsKCiAgICAvLyBtaW5pbXVtIEZUWCB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZCB0byBtYWtlIHRoZSBnYXMgd29ydGh3aGlsZSAoYXZvaWQgbWljcm8gdHJhbnNmZXIpLCBjYW5ub3QgYmUgaGlnaGVyIHRoYW4gbWluaW1hbCBzdWJzY3JpYmVkIGFtb3VudCBpbiBjcm93ZCBzYWxlLgogICAgdWludDI1NiBwdWJsaWMgdG9rZW40R2FzID0gMSoxMCoqMTg7CiAgICAvLyBnYXMgaW4gd2VpIHRvIHJlaW1idXJzZSBtdXN0IGJlIHRoZSBsb3dlc3QgbWluaW11bSAwLjZHd2VpICogODAwMDAgZ2FzIGxpbWl0LgogICAgdWludDI1NiBwdWJsaWMgZ2FzNFRva2VuID0gODAwMDAqMC42KjEwKio5OwogICAgLy8gbWluaW11bSB3ZWkgcmVxdWlyZWQgaW4gYW4gYWNjb3VudCB0byBwZXJmb3JtIGFuIGFjdGlvbiAoYXZnIGdhcyBwcmljZSA0R3dlaSAqIGF2ZyBnYXMgbGltaXQgODAwMDApLgogICAgdWludDI1NiBwdWJsaWMgbWluR2FzNEFjY3RzID0gODAwMDAqNCoxMCoqOTsKCiAgICBib29sIHB1YmxpYyBhbGxvd1RyYW5zZmVycyA9IGZhbHNlOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgdHJhbnNmZXJFeGNlcHRpb247CgogICAgZXZlbnQgV2l0aGRyYXcoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBHYXNSZWJhdGVGYWlsZWQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKCiAgICAvKioKICAgICogQGRldiBDb250cnVjdG9yIHRoYXQgZ2l2ZXMgbXNnLnNlbmRlciBhbGwgZXhpc3RpbmcgdG9rZW5zLiAKICAgICovCiAgICBmdW5jdGlvbiBGVFhUb2tlbigpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIHRvdGFsU3VwcGx5ID0gSU5JVElBTF9TVVBQTFk7CiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gSU5JVElBTF9TVVBQTFkgLSBGSU5UUlVYX1JFU0VSVkVfRlRYIC0gQ1JPU1NfUkVTRVJWRV9GVFggLSBURUFNX1JFU0VSVkVfRlRYOwogICAgICAgIFRyYW5zZmVyKGFkZHJlc3MoMCksIG93bmVyLCBiYWxhbmNlc1tvd25lcl0pOwogICAgICAgIGJhbGFuY2VzW0ZJTlRSVVhfUkVTRVJWRV0gPSBGSU5UUlVYX1JFU0VSVkVfRlRYOwogICAgICAgIFRyYW5zZmVyKGFkZHJlc3MoMCksIEZJTlRSVVhfUkVTRVJWRSwgYmFsYW5jZXNbRklOVFJVWF9SRVNFUlZFXSk7CiAgICAgICAgYmFsYW5jZXNbQ1JPU1NfUkVTRVJWRV0gPSBDUk9TU19SRVNFUlZFX0ZUWDsKICAgICAgICBUcmFuc2ZlcihhZGRyZXNzKDApLCBDUk9TU19SRVNFUlZFLCBiYWxhbmNlc1tDUk9TU19SRVNFUlZFXSk7CiAgICAgICAgYmFsYW5jZXNbVEVBTV9SRVNFUlZFXSA9IFRFQU1fUkVTRVJWRV9GVFg7CiAgICAgICAgVHJhbnNmZXIoYWRkcmVzcygwKSwgVEVBTV9SRVNFUlZFLCBiYWxhbmNlc1tURUFNX1JFU0VSVkVdKTsKICAgICAgICB0cmFuc2ZlckV4Y2VwdGlvbltvd25lcl0gPSB0cnVlOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShjYW5UcmFuc2ZlclRva2VucygpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRlYW0gdG9rZW5zIGxvY2sgMSB5ZWFyCiAgICAgICAgcmVxdWlyZShfdmFsdWUgPiAwICYmIF92YWx1ZSA+PSB0b2tlbjRHYXMpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmcgaWYgbGVzcyB0aGFuIGFsbG93ZWQgbWluaW11bSBidXQgZG8gbm90IGZhaWwKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOyAgICAgICAgICAgICAgICAgICAgLy8gaW5zdWZmaWNpZW50IHRva2VuIGJhbGFuY2Ugd291bGQgcmV2ZXJ0IGhlcmUgaW5zaWRlIHNhZmVtYXRoCiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIC8vIEtlZXAgYSBtaW5pbXVtIGJhbGFuY2Ugb2YgZ2FzIGluIGFsbCBzZW5kZXIgYWNjb3VudHMuIEl0IHdvdWxkIG5vdCBiZSBleGVjdXRlZCBpZiB0aGUgYWNjb3VudCBoYXMgZW5vdWdoIEVUSCBmb3IgbmV4dCBhY3Rpb24uCiAgICAgICAgaWYgKHRoaXMuYmFsYW5jZSA+IGdhczRUb2tlbiAmJiBtc2cuc2VuZGVyLmJhbGFuY2UgPCBtaW5HYXM0QWNjdHMpIHsKICAgICAgICAgICAgLy8gcmVpbWJ1cnNlIGdhcyBpbiBFVEggdG8ga2VlcCBhIG1pbmltYWwgYmFsYW5jZSBmb3IgbmV4dCB0cmFuc2FjdGlvbiwgdXNlIHNlbmQgaW5zdGVhZCBvZiB0cmFuc2ZlciB0aHVzIGlnbm9yZSBmYWlsZWQgcmViYXRlKG5vdCBlbm91Z2ggZXRoZXIgdG8gcmViYXRlIGV0Yy4pLgogICAgICAgICAgICBpZiAoIW1zZy5zZW5kZXIuc2VuZChnYXM0VG9rZW4pKSB7CiAgICAgICAgICAgICAgICBHYXNSZWJhdGVGYWlsZWQobXNnLnNlbmRlcixnYXM0VG9rZW4pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCiAgICAvKiBXaGVuIG5lY2Vzc2FyeSwgYWRqdXN0IG1pbmltdW0gRlRYIHRvIHRyYW5zZmVyIHRvIG1ha2UgdGhlIGdhcyB3b3J0aHdoaWxlICovCiAgICBmdW5jdGlvbiBzZXRUb2tlbjRHYXModWludDI1NiBuZXdGVFhBbW91bnQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobmV3RlRYQW1vdW50ID4gMCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcHBlciBib3VuZCBpcyBub3QgbmVjZXNzYXJ5LgogICAgICAgIHRva2VuNEdhcyA9IG5ld0ZUWEFtb3VudDsKICAgIH0KCiAgICAvKiBPbmx5IHdoZW4gbmVjZXNzYXJ5IHN1Y2ggYXMgZ2FzIHByaWNlIGNoYW5nZSwgYWRqdXN0IHRoZSBnYXMgdG8gYmUgcmVpbWJ1cnNlZCBvbiBldmVyeSB0cmFuc2ZlciB3aGVuIHNlbmRlciBhY2NvdW50IGJlbG93IG1pbmltdW0gKi8KICAgIGZ1bmN0aW9uIHNldEdhczRUb2tlbih1aW50MjU2IG5ld0dhc0luV2VpKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG5ld0dhc0luV2VpID4gMCAmJiBuZXdHYXNJbldlaSA8PSA4NDAwMDAqMTAqKjkpOyAgICAgICAgICAgIC8vIG11c3QgYmUgbGVzcyB0aGFuIGEgcmVhc29uYWJsZSBnYXMgdmFsdWUKICAgICAgICBnYXM0VG9rZW4gPSBuZXdHYXNJbldlaTsKICAgIH0KCiAgICAvKiBXaGVuIG5lY2Vzc2FyeSwgYWRqdXN0IHRoZSBtaW5pbXVtIHdlaSByZXF1aXJlZCBpbiBhbiBhY2NvdW50IGJlZm9yZSBhbiByZWltaWJ1c2VtZW50IG9mIGZlZSBpcyB0cmlnZ2VycmVkICovCiAgICBmdW5jdGlvbiBzZXRNaW5HYXM0QWNjdHModWludDI1NiBtaW5CYWxhbmNlSW5XZWkpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobWluQmFsYW5jZUluV2VpID4gMCAmJiBtaW5CYWxhbmNlSW5XZWkgPD0gODQwMDAwKjEwKio5KTsgICAgLy8gbXVzdCBiZSBsZXNzIHRoYW4gYSByZWFzb25hYmxlIGdhcyB2YWx1ZQogICAgICAgIG1pbkdhczRBY2N0cyA9IG1pbkJhbGFuY2VJbldlaTsKICAgIH0KCiAgICAvKiBUaGlzIHVubmFtZWQgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW5ldmVyIHRoZSBvd25lciBzZW5kIEV0aGVyIHRvIGZ1bmQgdGhlIGdhcyBmZWVzIGFuZCBnYXMgcmVpbWJ1cnNlbWVudCAqLwogICAgZnVuY3Rpb24oKSBwYXlhYmxlIHB1YmxpYyBvbmx5T3duZXIgewogICAgfQoKICAgIC8qIE93bmVyIHdpdGhkcmF3YWwgZm9yIGV4Y2Vzc2l2ZSBnYXMgZmVlcyBkZXBvc2l0ZWQgKi8KICAgIGZ1bmN0aW9uIHdpdGhkcmF3VG9Pd25lciAodWludDI1NiB3ZWlBbXQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUod2VpQW10ID4gMCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IGFsbG93IHplcm8gdHJhbnNmZXIKICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKHdlaUFtdCk7CiAgICAgICAgV2l0aGRyYXcodGhpcywgbXNnLnNlbmRlciwgd2VpQW10KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaWduYWwgdGhlIGV2ZW50IGZvciBjb21tdW5pY2F0aW9uIG9ubHkgaXQgaXMgbWVhbmluZ2Z1bAogICAgfQoKICAgIC8qCiAgICAgICAgYWxsb3cgZXZlcnlvbmUgdG8gc3RhcnQgdHJhbnNmZXJyaW5nIHRva2VucyBmcmVlbHkgYXQgdGhlIHNhbWUgbW9tZW50LiAKICAgICovCiAgICBmdW5jdGlvbiBzZXRBbGxvd1RyYW5zZmVycyhib29sIGJBbGxvd1RyYW5zZmVycykgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICBhbGxvd1RyYW5zZmVycyA9IGJBbGxvd1RyYW5zZmVyczsKICAgIH0KCiAgICAvKgogICAgICAgIGFkZCB0aGUgZXRoZXIgYWRkcmVzcyB0byB3aGl0ZWxpc3QgdG8gZW5hYmxlIHRyYW5zZmVyIG9mIHRva2VuLgogICAgKi8KICAgIGZ1bmN0aW9uIGFkZFRvRXhjZXB0aW9uKGFkZHJlc3MgYWRkcikgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKGFkZHIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZSghaXNFeGNlcHRpb24oYWRkcikpOwoKICAgICAgICB0cmFuc2ZlckV4Y2VwdGlvblthZGRyXSA9IHRydWU7CiAgICB9CgogICAgLyoKICAgICAgICByZW1vdmUgdGhlIGV0aGVyIGFkZHJlc3MgZnJvbSB3aGl0ZWxpc3QgaW4gY2FzZSBhIG1pc3Rha2Ugd2FzIG1hZGUuCiAgICAqLwogICAgZnVuY3Rpb24gZGVsRnJFeGNlcHRpb24oYWRkcmVzcyBhZGRyKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoYWRkciAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKHRyYW5zZmVyRXhjZXB0aW9uW2FkZHJdKTsKCiAgICAgICAgZGVsZXRlIHRyYW5zZmVyRXhjZXB0aW9uW2FkZHJdOwogICAgfQoKICAgIC8qIHJldHVybiB0cnVlIHdoZW4gdGhlIGFkZHJlc3MgaXMgaW4gdGhlIGV4Y2VwdGlvbiBsaXN0IGVnLiB0b2tlbiBkaXN0cmlidXRpb24gY29udHJhY3QgYW5kIHByaXZhdGUgc2FsZXMgYWRkcmVzc2VzICovCiAgICBmdW5jdGlvbiBpc0V4Y2VwdGlvbihhZGRyZXNzIGFkZHIpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gdHJhbnNmZXJFeGNlcHRpb25bYWRkcl07CiAgICB9CgogICAgLyogYmVsb3cgYXJlIGludGVybmFsIGZ1bmN0aW9ucyAqLwogICAgLyoKICAgICAgICByZXR1cm4gdHJ1ZSBpZiB0b2tlbiBjYW4gYmUgdHJhbnNmZXJyZWQuCiAgICAqLwogICAgZnVuY3Rpb24gY2FuVHJhbnNmZXJUb2tlbnMoKSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICBpZiAobXNnLnNlbmRlciA9PSBURUFNX1JFU0VSVkUpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBWZXN0aW5nIGZvciBGaW50cnVYIFRFQU0gaXMgMSB5ZWFyLgogICAgICAgICAgICByZXR1cm4gbm93ID49IFZFU1RJTkdfREFURTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBpZiB0cmFuc2ZlciBpcyBkaXNhYmxlZCwgb25seSBhbGxvdyBzcGVjaWFsIGFkZHJlc3NlcyB0byB0cmFuc2ZlciB0b2tlbnMuCiAgICAgICAgICAgIHJldHVybiBhbGxvd1RyYW5zZmVycyB8fCBpc0V4Y2VwdGlvbihtc2cuc2VuZGVyKTsKICAgICAgICB9CiAgICB9Cgp9'.
	

]
