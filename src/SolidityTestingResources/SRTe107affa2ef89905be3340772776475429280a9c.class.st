Class {
	#name : #SRTe107affa2ef89905be3340772776475429280a9c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe107affa2ef89905be3340772776475429280a9c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgaWYgKGEgPT0gMCkgewogICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgoKCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKCgpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewoKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKCiAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgc2l6ZSkgewogICAgICBpZiAobXNnLmRhdGEubGVuZ3RoIDwgc2l6ZSArIDQpIHsKICAgICAgcmV2ZXJ0KCk7CiAgICAgIH0KICAgICAgXzsKICB9CgoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKSByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKICAgIAogICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgZW1pdCBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCgovKgoqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKCiAgLyoKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgb25seVBheWxvYWRTaXplKDMgKiAzMikgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSk7CiAgICByZXF1aXJlKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUpOwogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgZW1pdCBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKChfdmFsdWUgPT0gMCkgfHwgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgZW1pdCBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoKICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQogIAogIC8qCiAgICovCiAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXS5hZGQoX2FkZGVkVmFsdWUpOwogICAgZW1pdCBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfSBlbHNlIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CiAgICBlbWl0IEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cgp9CgoKLyoKICovCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgoKICAvKgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSBpbnRlcm5hbCB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoKICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgoKICAvKgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIGVtaXQgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKLyoKICovCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgIHsKICAgIGV2ZW50IFBhdXNlKCk7CiAgICBldmVudCBVbnBhdXNlKCk7CiAgICBldmVudCBGcmVlemUgKCk7CiAgICBldmVudCBMb2dGcmVlemUoKTsKCiAgICBib29sIHB1YmxpYyBwYXVzZWQgPSBmYWxzZTsKCiAgICBhZGRyZXNzIHB1YmxpYyBmb3VuZGVyOwogICAgCiAgICAvKgogICAgKi8KICAgIG1vZGlmaWVyIHdoZW5Ob3RQYXVzZWQoKSB7CiAgICAgICAgcmVxdWlyZSghcGF1c2VkIHx8IG1zZy5zZW5kZXIgPT0gZm91bmRlcik7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKgogICAgKi8KICAgIG1vZGlmaWVyIHdoZW5QYXVzZWQoKSB7CiAgICAgICAgcmVxdWlyZShwYXVzZWQpOwogICAgICAgIF87CiAgICB9CgogICAgLyoKICAgICovCiAgICBmdW5jdGlvbiBwYXVzZSgpIHB1YmxpYyBvbmx5T3duZXIgd2hlbk5vdFBhdXNlZCB7CiAgICAgICAgcGF1c2VkID0gdHJ1ZTsKICAgICAgICBlbWl0IFBhdXNlKCk7CiAgICB9CiAgICAKCiAgICAvKgogICAgKi8KICAgIGZ1bmN0aW9uIHVucGF1c2UoKSBwdWJsaWMgb25seU93bmVyIHdoZW5QYXVzZWQgewogICAgICAgIHBhdXNlZCA9IGZhbHNlOwogICAgICAgIGVtaXQgVW5wYXVzZSgpOwogICAgfQp9Cgpjb250cmFjdCBQYXVzYWJsZVRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIFBhdXNhYmxlIHsKCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgd2hlbk5vdFBhdXNlZCBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKSByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHdoZW5Ob3RQYXVzZWQgb25seVBheWxvYWRTaXplKDMgKiAzMikgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpOwogIH0KCiAgLy9UaGUgZnVuY3Rpb25zIGJlbG93IHN1cnZlIG5vIHJlYWwgcHVycG9zZS4gRXZlbiBpZiBvbmUgd2VyZSB0byBhcHByb3ZlIGFub3RoZXIgdG8gc3BlbmQKICAvL3Rva2VucyBvbiB0aGVpciBiZWhhbGYsIHRob3NlIHRva2VucyB3aWxsIHN0aWxsIG9ubHkgYmUgdHJhbnNmZXJhYmxlIHdoZW4gdGhlIHRva2VuIGNvbnRyYWN0CiAgLy9pcyBub3QgcGF1c2VkLgoKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gc3VwZXIuYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgcHVibGljIHdoZW5Ob3RQYXVzZWQgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXR1cm4gc3VwZXIuaW5jcmVhc2VBcHByb3ZhbChfc3BlbmRlciwgX2FkZGVkVmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIHB1YmxpYyB3aGVuTm90UGF1c2VkIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmV0dXJuIHN1cGVyLmRlY3JlYXNlQXBwcm92YWwoX3NwZW5kZXIsIF9zdWJ0cmFjdGVkVmFsdWUpOwogIH0KfQoKY29udHJhY3QgTWludGFibGVUb2tlbiBpcyBQYXVzYWJsZVRva2VuIHsKICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwogIGV2ZW50IE1pbnRGaW5pc2hlZCgpOwoKICBib29sIHB1YmxpYyBtaW50aW5nRmluaXNoZWQgPSBmYWxzZTsKCgogIG1vZGlmaWVyIGNhbk1pbnQoKSB7CiAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOwogICAgXzsKICB9CgogIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIG9ubHlPd25lciBjYW5NaW50IHJldHVybnMgKGJvb2wpIHsKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9hbW91bnQpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgZW1pdCBNaW50KF90bywgX2Ftb3VudCk7CiAgICBlbWl0IFRyYW5zZmVyKGFkZHJlc3MoMCksIF90bywgX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcoKSBwdWJsaWMgb25seU93bmVyIGNhbk1pbnQgcmV0dXJucyAoYm9vbCkgewogICAgbWludGluZ0ZpbmlzaGVkID0gdHJ1ZTsKICAgIGVtaXQgTWludEZpbmlzaGVkKCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCmNvbnRyYWN0IFRva2VuQmFuayBpcyBNaW50YWJsZVRva2VuIHsKCiAgc3RyaW5nIHB1YmxpYyBuYW1lOwogIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKCiAgZXZlbnQgVG9rZW5zQnVybmVkKGFkZHJlc3MgaW5pdGlhdGlvciwgYWRkcmVzcyBpbmRleGVkIF9wYXJ0bmVyLCB1aW50MjU2IF90b2tlbnMpOwogCgogIC8qCiAgICovCiAgICBmdW5jdGlvbiBUb2tlbkJhbmsoKSBwdWJsaWMgewogICAgICAgIG5hbWUgPSAiVG9rZW4gQmFuayI7CiAgICAgICAgc3ltYm9sID0gIlRLQiI7CiAgICAgICAgZGVjaW1hbHMgPSA4OwogICAgICAgIHRvdGFsU3VwcGx5ID0gMTAwMDAwMDAwMGU4OwogICAgICAgIGZvdW5kZXIgPSAweGQ2MDZjODNCYzlDNzQwY0JmMzlhNDJlQjRjMzM4ODI4ZTkwRjQ1MWE7CiAgICAgICAgYmFsYW5jZXNbZm91bmRlcl0gPSB0b3RhbFN1cHBseTsKICAgICAgICBlbWl0IFRyYW5zZmVyKDB4MCwgZm91bmRlciwgdG90YWxTdXBwbHkpOwogICAgICAgIHBhdXNlKCk7CiAgICB9CgogICAgbW9kaWZpZXIgb25seUZvdW5kZXIgewogICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZm91bmRlcik7CiAgICAgIF87CiAgICB9CgogICAgZXZlbnQgTmV3Rm91bmRlckFkZHJlc3MoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0byk7CgogICAgZnVuY3Rpb24gY2hhbmdlRm91bmRlckFkZHJlc3MoYWRkcmVzcyBfbmV3Rm91bmRlcikgcHVibGljIG9ubHlGb3VuZGVyIHsKICAgICAgICByZXF1aXJlKF9uZXdGb3VuZGVyICE9IDB4MCk7CiAgICAgICAgZW1pdCBOZXdGb3VuZGVyQWRkcmVzcyhmb3VuZGVyLCBfbmV3Rm91bmRlcik7CiAgICAgICAgZm91bmRlciA9IF9uZXdGb3VuZGVyOwogICAgfQoKICAgIC8qCiAgICAqLwogICAgZnVuY3Rpb24gYnVyblRva2VucyhhZGRyZXNzIF9wYXJ0bmVyLCB1aW50MjU2IF90b2tlbnMpIHB1YmxpYyBvbmx5Rm91bmRlciB7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfcGFydG5lcl0gPj0gX3Rva2Vucyk7CiAgICAgICAgYmFsYW5jZXNbX3BhcnRuZXJdID0gYmFsYW5jZXNbX3BhcnRuZXJdLnN1YihfdG9rZW5zKTsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YihfdG9rZW5zKTsKICAgICAgICBlbWl0IFRva2Vuc0J1cm5lZChtc2cuc2VuZGVyLCBfcGFydG5lciwgX3Rva2Vucyk7CiAgICB9Cn0KCgpjb250cmFjdCBUb2tlbkJhbmtJQ08gaXMgT3duYWJsZSB7CgogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgVG9rZW5CYW5rIHB1YmxpYyB0b2tlbjsKCiAgICB1aW50MjU2IHB1YmxpYyBUb2tlbkJhbmtGaXJzdFN0YWdlOwogICAgdWludDI1NiBwdWJsaWMgVG9rZW5CYW5rU2Vjb25kU3RhZ2U7CiAgICB1aW50MjU2IHB1YmxpYyBUb2tlbkJhbmtUaGlyZFN0YWdlOwogICAgdWludDI1NiBwdWJsaWMgVG9rZW5CYW5rRm91cnRoU3RhZ2U7Cgl1aW50MjU2IHB1YmxpYyBUb2tlbkJhbmtGaWZ0aFN0YWdlOwogICAgdWludDI1NiBwdWJsaWMgVG9rZW5CYW5rRm9yU2FsZTsKICAgIHVpbnQyNTYgcHVibGljIHN0YXJ0VGltZTsKICAgIHVpbnQyNTYgcHVibGljIGVuZFRpbWU7CiAgICBhZGRyZXNzIHB1YmxpYyB3YWxsZXQ7CiAgICB1aW50MjU2IHB1YmxpYyByYXRlOwogICAgdWludDI1NiBwdWJsaWMgd2VpUmFpc2VkOwogICAgYm9vbCBwdWJsaWMgSUNPcGF1c2VkOwoKICAgIHVpbnQyNTZbNF0gcHVibGljIFRva2VuQmFua0JvbnVzU3RhZ2U7CgogICAgdWludDI1NiBwdWJsaWMgVG9rZW5CYW5rU29sZDsKCiAgICAvKgogICAgKi8KICAgIGV2ZW50IFRva2VuUHVyY2hhc2UoYWRkcmVzcyBpbmRleGVkIHB1cmNoYXNlciwgYWRkcmVzcyBpbmRleGVkIGJlbmVmaWNpYXJ5LCB1aW50MjU2IHZhbHVlLCB1aW50MjU2IGFtb3VudCk7CiAgICBldmVudCBJQ09TYWxlRXh0ZW5kZWQodWludDI1NiBuZXdFbmRUaW1lKTsKCiAgICBmdW5jdGlvbiBJQ08oKSBwdWJsaWMgewogICAgICAgIHRva2VuID0gbmV3IFRva2VuQmFuaygpOyAgCiAgICAgICAgc3RhcnRUaW1lID0gMTUyNTQ3ODQwMDsgCiAgICAgICAgcmF0ZSA9IDQwMDAwMDsKICAgICAgICB3YWxsZXQgPSAweGQ2MDZjODNCYzlDNzQwY0JmMzlhNDJlQjRjMzM4ODI4ZTkwRjQ1MWE7CiAgICAgICAgVG9rZW5CYW5rRm9yU2FsZSA9IDUwMDAwMDAwMGU4OwogICAgICAgIFRva2VuQmFua1NvbGQgPSAwOwoKICAgICAgICBUb2tlbkJhbmtGaXJzdFN0YWdlID0gMTAwMDAwMDAwZTg7CiAgICAgICAgVG9rZW5CYW5rU2Vjb25kU3RhZ2UgPSAyMDAwMDAwMDBlODsgIAogICAgICAgIFRva2VuQmFua1RoaXJkU3RhZ2UgPSAzMDAwMDAwMDBlODsgIAogICAgICAgIFRva2VuQmFua0ZvdXJ0aFN0YWdlID0gNDAwMDAwMDAwZTg7CgkJVG9rZW5CYW5rRmlmdGhTdGFnZSA9IDUwMDAwMDAwMGU4OwkJCiAgICAKICAgICAgICBUb2tlbkJhbmtCb251c1N0YWdlWzBdID0gbm93LmFkZCg1IGRheXMpOwogICAgICAgIGZvciAodWludCB5ID0gMTsgeSA8IFRva2VuQmFua0JvbnVzU3RhZ2UubGVuZ3RoOyB5KyspIHsKICAgICAgICAgICAgVG9rZW5CYW5rQm9udXNTdGFnZVt5XSA9IFRva2VuQmFua0JvbnVzU3RhZ2VbeSAtIDFdLmFkZCg1IGRheXMpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBlbmRUaW1lID0gVG9rZW5CYW5rQm9udXNTdGFnZVszXTsKICAgICAgICAKICAgICAgICBJQ09wYXVzZWQgPSBmYWxzZTsKICAgIH0KICAgIAogICAgbW9kaWZpZXIgd2hlbk5vdFBhdXNlZCB7CiAgICAgICAgcmVxdWlyZSghSUNPcGF1c2VkKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICAgICAgYnV5VG9rZW5zKG1zZy5zZW5kZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIGJ1eVRva2VucyhhZGRyZXNzIF9hZGRyKSBwdWJsaWMgcGF5YWJsZSB3aGVuTm90UGF1c2VkIHsKICAgICAgICByZXF1aXJlKHZhbGlkUHVyY2hhc2UoKSAmJiBUb2tlbkJhbmtTb2xkIDwgVG9rZW5CYW5rRm9yU2FsZSk7CiAgICAgICAgcmVxdWlyZShfYWRkciAhPSAweDAgJiYgbXNnLnZhbHVlID49IDEwMCBmaW5uZXkpOyAgCiAgICAgICAgdWludDI1NiB0b01pbnQ7CiAgICAgICAgdG9NaW50ID0gbXNnLnZhbHVlLm11bChnZXRSYXRlV2l0aEJvbnVzKCkpOwogICAgICAgIFRva2VuQmFua1NvbGQgPSBUb2tlbkJhbmtTb2xkLmFkZCh0b01pbnQpOwogICAgICAgIHRva2VuLm1pbnQoX2FkZHIsIHRvTWludCk7CiAgICAgICAgZm9yd2FyZEZ1bmRzKCk7CiAgICB9CgogICAgZnVuY3Rpb24gZm9yd2FyZEZ1bmRzKCkgaW50ZXJuYWwgewogICAgICAgIHdhbGxldC50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHByb2Nlc3NPZmZsaW5lUHVyY2hhc2UoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3RvTWludCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShUb2tlbkJhbmtTb2xkLmFkZChfdG9NaW50KSA8PSBUb2tlbkJhbmtGb3JTYWxlKTsKICAgICAgICByZXF1aXJlKF90b01pbnQgPiAwICYmIF90byAhPSAweDApOwogICAgICAgIFRva2VuQmFua1NvbGQgPSBUb2tlbkJhbmtTb2xkLmFkZChfdG9NaW50KTsKICAgICAgICB0b2tlbi5taW50KF90bywgX3RvTWludCk7CiAgICB9CiAgICAKICAgIAogICAgLyoKICAgICAqLwogICAgZnVuY3Rpb24gYWlyRHJvcChhZGRyZXNzW10gX2FkZHJzLCB1aW50MjU2W10gX3ZhbHVlcykgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgLy9yZXF1aXJlKF9hZGRycy5sZW5ndGggPiAwKTsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBfYWRkcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKF9hZGRyc1tpXSAhPSAweDAgJiYgX3ZhbHVlc1tpXSA+IDApIHsKICAgICAgICAgICAgICAgIHRva2VuLm1pbnQoX2FkZHJzW2ldLCBfdmFsdWVzW2ldKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCgogICAgZnVuY3Rpb24gdmFsaWRQdXJjaGFzZSgpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGJvb2wgd2l0aGluUGVyaW9kID0gbm93ID49IHN0YXJ0VGltZSAmJiBub3cgPD0gZW5kVGltZTsgCiAgICAgICAgYm9vbCBub25aZXJvUHVyY2hhc2UgPSBtc2cudmFsdWUgIT0gMDsgCiAgICAgICAgcmV0dXJuIHdpdGhpblBlcmlvZCAmJiBub25aZXJvUHVyY2hhc2U7CiAgICB9CgogICAgCiAgICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgdG9rZW4uZmluaXNoTWludGluZygpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBnZXRSYXRlV2l0aEJvbnVzKCkgaW50ZXJuYWwgdmlldyByZXR1cm5zICh1aW50MjU2IHJhdGVXaXRoRGlzY291bnQpIHsKICAgICAgICBpZiAoVG9rZW5CYW5rU29sZCA8IFRva2VuQmFua0ZvclNhbGUpIHsKICAgICAgICAgICAgcmV0dXJuIHJhdGUubXVsKGdldEN1cnJlbnRCb251cygpKS5kaXYoMTAwKS5hZGQocmF0ZSk7CiAgICAgICAgICAgIHJldHVybiByYXRlV2l0aERpc2NvdW50OwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmF0ZTsKICAgIH0KCiAgICAvKgogICAgKi8KICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRCb251cygpIGludGVybmFsIHZpZXcgcmV0dXJucyAodWludDI1NiBkaXNjb3VudCkgewogICAgICAgIHJlcXVpcmUoVG9rZW5CYW5rU29sZCA8IFRva2VuQmFua0ZpZnRoU3RhZ2UpOwogICAgICAgIHVpbnQyNTYgdGltZVN0YW1wID0gbm93OwogICAgICAgIHVpbnQyNTYgc3RhZ2U7CgogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IFRva2VuQmFua0JvbnVzU3RhZ2UubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKHRpbWVTdGFtcCA8PSBUb2tlbkJhbmtCb251c1N0YWdlW2ldKSB7CiAgICAgICAgICAgICAgICBzdGFnZSA9IGkgKyAxOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0gCiAgICAgICAgfSAKCiAgICAgICAgaWYoc3RhZ2UgPT0gMSAmJiBUb2tlbkJhbmtTb2xkIDwgVG9rZW5CYW5rRmlyc3RTdGFnZSkgeyBkaXNjb3VudCA9IDIwOyB9CiAgICAgICAgaWYoc3RhZ2UgPT0gMSAmJiBUb2tlbkJhbmtTb2xkID49IFRva2VuQmFua1NlY29uZFN0YWdlKSB7IGRpc2NvdW50ID0gMTU7IH0KICAgICAgICBpZihzdGFnZSA9PSAxICYmIFRva2VuQmFua1NvbGQgPj0gVG9rZW5CYW5rVGhpcmRTdGFnZSkgeyBkaXNjb3VudCA9IDEwOyB9CiAgICAgICAgaWYoc3RhZ2UgPT0gMSAmJiBUb2tlbkJhbmtTb2xkID49IFRva2VuQmFua0ZvdXJ0aFN0YWdlKSB7IGRpc2NvdW50ID0gNTsgfQoJCWlmKHN0YWdlID09IDEgJiYgVG9rZW5CYW5rU29sZCA+PSBUb2tlbkJhbmtGaWZ0aFN0YWdlKSB7IGRpc2NvdW50ID0gMDsgfQoJCQogICAgICAgIGlmKHN0YWdlID09IDIgJiYgVG9rZW5CYW5rU29sZCA8IFRva2VuQmFua1NlY29uZFN0YWdlKSB7IGRpc2NvdW50ID0gMTU7IH0KICAgICAgICBpZihzdGFnZSA9PSAyICYmIFRva2VuQmFua1NvbGQgPj0gVG9rZW5CYW5rVGhpcmRTdGFnZSkgeyBkaXNjb3VudCA9IDEwOyB9CiAgICAgICAgaWYoc3RhZ2UgPT0gMiAmJiBUb2tlbkJhbmtTb2xkID49IFRva2VuQmFua0ZvdXJ0aFN0YWdlKSB7IGRpc2NvdW50ID0gNTsgfQoJCWlmKHN0YWdlID09IDIgJiYgVG9rZW5CYW5rU29sZCA+PSBUb2tlbkJhbmtGaWZ0aFN0YWdlKSB7IGRpc2NvdW50ID0gMDsgfQoKICAgICAgICBpZihzdGFnZSA9PSAzICYmIFRva2VuQmFua1NvbGQgPCBUb2tlbkJhbmtUaGlyZFN0YWdlKSB7IGRpc2NvdW50ID0gMTA7IH0KICAgICAgICBpZihzdGFnZSA9PSAzICYmIFRva2VuQmFua1NvbGQgPj0gVG9rZW5CYW5rRm91cnRoU3RhZ2UpIHsgZGlzY291bnQgPSA1OyB9CgkJaWYoc3RhZ2UgPT0gMyAmJiBUb2tlbkJhbmtTb2xkID49IFRva2VuQmFua0ZpZnRoU3RhZ2UpIHsgZGlzY291bnQgPSAwOyB9CgkJCgkJaWYoc3RhZ2UgPT0gNCAmJiBUb2tlbkJhbmtTb2xkIDwgVG9rZW5CYW5rRm91cnRoU3RhZ2UpIHsgZGlzY291bnQgPSA1OyB9CiAgICAgICAgaWYoc3RhZ2UgPT0gNCAmJiBUb2tlbkJhbmtTb2xkID49IFRva2VuQmFua0ZpZnRoU3RhZ2UpIHsgZGlzY291bnQgPSAwOyB9CgogICAgICAgIGlmKHN0YWdlID09IDUpIHsgZGlzY291bnQgPSAwOyB9CgogICAgICAgIHJldHVybiBkaXNjb3VudDsKICAgIH0KCgoKICAgIGZ1bmN0aW9uIGV4dGVuZER1cmF0aW9uKHVpbnQyNTYgX25ld0VuZFRpbWUpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoZW5kVGltZSA8IF9uZXdFbmRUaW1lKTsKICAgICAgICBlbmRUaW1lID0gX25ld0VuZFRpbWU7CiAgICAgICAgZW1pdCBJQ09TYWxlRXh0ZW5kZWQoX25ld0VuZFRpbWUpOwogICAgfQoKCiAgICBmdW5jdGlvbiBoYXNFbmRlZCgpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wpIHsgCiAgICAgICAgcmV0dXJuIG5vdyA+IGVuZFRpbWU7CiAgICB9CgogICAgLyoqCiAgICAqIEFsbG93cyB0aGUgb3duZXIgb2YgdGhlIElDTyBjb250cmFjdCB0byB1bnBhdXNlIHRoZSB0b2tlbiBjb250cmFjdC4gVGhpcyBmdW5jdGlvbiBpcyBuZWVkZWQKICAgICogYmVjYXVzZSB0aGUgSUNPIGNvbnRyYWN0IGRlcGxveXMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIHRva2VuIGNvbnRyYWN0LCBhbmQgYnkgZGVmYXVsdCB0aGUgCiAgICAqIEVUSCBhZGRyZXNzIHdoaWNoIGRlcGxveXMgYSBjb250cmFjdCB3aGljaCBpcyBPd25hYmxlIGlzIGFzc2lnbmVkIG93bmVyc2hpcCBvZiB0aGUgY29udHJhY3QsCiAgICAqIHNvIHRoZSBJQ08gY29udHJhY3QgaXMgdGhlIG93bmVyIG9mIHRoZSB0b2tlbiBjb250cmFjdC4gU2luY2UgdW5wYXVzZSBpcyBhIGZ1bmN0aW9uIHdoaWNoIGNhbgogICAgKiBvbmx5IGJlIGV4ZWN1dGVkIGJ5IHRoZSBvd25lciwgYnkgYWRkaW5nIHRoaXMgZnVuY3Rpb24gaGVyZSwgdGhlbiB0aGUgb3duZXIgb2YgdGhlIElDTyBjb250cmFjdAogICAgKiBjYW4gY2FsbCB0aGlzIGFuZCB0aGVuIHRoZSBJQ08gY29udHJhY3Qgd2lsbCBpbnZva2UgdGhlIHVucGF1c2UgZnVuY3Rpb24gb2YgdGhlIHRva2VuIGNvbnRyYWN0CiAgICAqIGFuZCB0aHVzIHRoZSB0b2tlbiBjb250cmFjdCB3aWxsIHN1Y2Nlc3NmdWxseSB1bnBhdXNlIGFzIGl0cyBvd25lciB0aGUgSUNPIGNvbnRyYWN0IGludm9rZW5kCiAgICAqIHRoZSB0aGUgZnVuY3Rpb24uIAogICAgKi8KICAgIGZ1bmN0aW9uIHVucGF1c2VUb2tlbigpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHRva2VuLnVucGF1c2UoKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gcGF1c2VVbnBhdXNlSUNPKCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgaWYgKElDT3BhdXNlZCkgewogICAgICAgICAgICBJQ09wYXVzZWQgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBJQ09wYXVzZWQgPSB0cnVlOwogICAgICAgIH0KICAgIH0KfQ=='.
	

]
