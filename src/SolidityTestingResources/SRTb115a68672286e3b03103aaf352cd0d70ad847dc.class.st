Class {
	#name : #SRTb115a68672286e3b03103aaf352cd0d70ad847dc,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTb115a68672286e3b03103aaf352cd0d70ad847dc >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vICdDSTEwJyB0b2tlbiBjb250cmFjdAovLwovLyBTeW1ib2wgICAgICA6IENJMTAKLy8gTmFtZSAgICAgICAgOiBDb21wb3VuZCBJbnRlcmVzdCAxMHggcGVyIFllYXIKLy8gVG90YWwgc3VwcGx5OiAxLDAwMCwwMDAuMDAwMDAwMDAwMDAwMDAwMDAwCi8vIERlY2ltYWxzICAgIDogMTAKLy8KLy8gYmFzZWQgb24gdGhlICdGSVhFRCcgZXhhbXBsZSBmcm9tIGh0dHBzOi8vdGhlZXRoZXJldW0ud2lraS93L2luZGV4LnBocC9FUkMyMF9Ub2tlbl9TdGFuZGFyZAovLyAoYykgQm9ra3lQb29CYWggLyBCb2sgQ29uc3VsdGluZyBQdHkgTHRkIDIwMTcuIFRoZSBNSVQgTGljZW5jZS4KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gU2FmZSBtYXRocwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmxpYnJhcnkgU2FmZU1hdGggewogICAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgYykgewogICAgICAgIGMgPSBhICsgYjsKICAgICAgICByZXF1aXJlKGMgPj0gYSk7CiAgICB9CiAgICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCBjKSB7CiAgICAgICAgcmVxdWlyZShiIDw9IGEpOwogICAgICAgIGMgPSBhIC0gYjsKICAgIH0KICAgIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50IGMpIHsKICAgICAgICBjID0gYSAqIGI7CiAgICAgICAgcmVxdWlyZShhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICB9CiAgICBmdW5jdGlvbiBkaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCBjKSB7CiAgICAgICAgcmVxdWlyZShiID4gMCk7CiAgICAgICAgYyA9IGEgLyBiOwogICAgfQp9CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBFUkMgVG9rZW4gU3RhbmRhcmQgIzIwIEludGVyZmFjZQovLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9ibG9iL21hc3Rlci9FSVBTL2VpcC0yMC10b2tlbi1zdGFuZGFyZC5tZAovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvbnRyYWN0IEVSQzIwSW50ZXJmYWNlIHsKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgdG9rZW5Pd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgYmFsYW5jZSk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyB0b2tlbk93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IHJlbWFpbmluZyk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHRva2VucykgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB0b2tlbnMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB0b2tlbnMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdG9rZW5zKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCB0b2tlbk93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB0b2tlbnMpOwp9CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBDb250cmFjdCBmdW5jdGlvbiB0byByZWNlaXZlIGFwcHJvdmFsIGFuZCBleGVjdXRlIGZ1bmN0aW9uIGluIG9uZSBjYWxsCi8vCi8vIEJvcnJvd2VkIGZyb20gTWluaU1lVG9rZW4KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpjb250cmFjdCBBcHByb3ZlQW5kQ2FsbEZhbGxCYWNrIHsKICAgIGZ1bmN0aW9uIHJlY2VpdmVBcHByb3ZhbChhZGRyZXNzIGZyb20sIHVpbnQyNTYgdG9rZW5zLCBhZGRyZXNzIHRva2VuLCBieXRlcyBkYXRhKSBwdWJsaWM7Cn0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIE93bmVkIGNvbnRyYWN0Ci8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KY29udHJhY3QgT3duZWQgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgICBhZGRyZXNzIHB1YmxpYyBuZXdPd25lcjsKCiAgICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8pOwoKICAgIGZ1bmN0aW9uIE93bmVkKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgbW9kaWZpZXIgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIG5ld093bmVyID0gX25ld093bmVyOwogICAgfQogICAgZnVuY3Rpb24gYWNjZXB0T3duZXJzaGlwKCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gbmV3T3duZXIpOwogICAgICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgICAgICBuZXdPd25lciA9IGFkZHJlc3MoMCk7CiAgICB9Cn0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIEVSQzIwIFRva2VuLCB3aXRoIHRoZSBhZGRpdGlvbiBvZiBzeW1ib2wsIG5hbWUgYW5kIGRlY2ltYWxzIGFuZCBhbgovLyBpbml0aWFsIGZpeGVkIHN1cHBseQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvbnRyYWN0IENJMTBUb2tlbiBpcyBFUkMyMEludGVyZmFjZSwgT3duZWQgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CiAgICBzdHJpbmcgcHVibGljICBuYW1lOwogICAgdWludDggcHVibGljIGRlY2ltYWxzOwogICAgdWludCBwdWJsaWMgX3RvdGFsU3VwcGx5OwoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBzdGFydEJhbGFuY2VzOwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIHN0YXJ0QmxvY2tzOwogICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKCgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBDb25zdHJ1Y3RvcgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBDSTEwVG9rZW4oKSBwdWJsaWMgewogICAgICAgIHN5bWJvbCA9ICJDSTEwIjsKICAgICAgICBuYW1lID0gIkNvbXBvdW5kIEludGVyZXN0IDEweCBwZXIgWWVhciI7CiAgICAgICAgZGVjaW1hbHMgPSAxMDsKICAgICAgICBfdG90YWxTdXBwbHkgPSAxMDAwMDAwICogMTAqKnVpbnQoZGVjaW1hbHMpOwogICAgICAgIHN0YXJ0QmFsYW5jZXNbb3duZXJdID0gX3RvdGFsU3VwcGx5OwogICAgICAgIHN0YXJ0QmxvY2tzW293bmVyXSA9IGJsb2NrLm51bWJlcjsKICAgICAgICBUcmFuc2ZlcihhZGRyZXNzKDApLCBvd25lciwgX3RvdGFsU3VwcGx5KTsKICAgIH0KCgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBUb3RhbCBzdXBwbHkKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBfdG90YWxTdXBwbHk7CiAgICB9CgoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gQ29tcHV0ZXMgYGsgKiAoMSsxL3EpIF4gTmAsIHdpdGggcHJlY2lzaW9uIGBwYC4gVGhlIGhpZ2hlcgogICAgLy8gdGhlIHByZWNpc2lvbiwgdGhlIGhpZ2hlciB0aGUgZ2FzIGNvc3QuIEl0IHNob3VsZCBiZQogICAgLy8gc29tZXRoaW5nIGFyb3VuZCB0aGUgbG9nIG9mIGBuYC4gV2hlbiBgcCA9PSBuYCwgdGhlCiAgICAvLyBwcmVjaXNpb24gaXMgYWJzb2x1dGUgKHNhbnMgcG9zc2libGUgaW50ZWdlciBvdmVyZmxvd3MpLiA8ZWRpdDogTk9UIHRydWUsIHNlZSBjb21tZW50cz4KICAgIC8vIE11Y2ggc21hbGxlciB2YWx1ZXMgYXJlIHN1ZmZpY2llbnQgdG8gZ2V0IGEgZ3JlYXQgYXBwcm94aW1hdGlvbi4KICAgIC8vIGZyb20gaHR0cHM6Ly9ldGhlcmV1bS5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvMTA0MjUvaXMtdGhlcmUtYW55LWVmZmljaWVudC13YXktdG8tY29tcHV0ZS10aGUtZXhwb25lbnRpYXRpb24tb2YtYS1mcmFjdGlvbi1hbmQtYW4taW4KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gZnJhY0V4cCh1aW50IGssIHVpbnQgcSwgdWludCBuLCB1aW50IHApIHB1cmUgcHVibGljIHJldHVybnMgKHVpbnQpIHsKICAgICAgICB1aW50IHMgPSAwOwogICAgICAgIHVpbnQgTiA9IDE7CiAgICAgICAgdWludCBCID0gMTsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBwOyArK2kpIHsKICAgICAgICAgICAgcyArPSBrICogTiAvIEIgLyAocSoqaSk7CiAgICAgICAgICAgIE4gPSBOICogKG4taSk7CiAgICAgICAgICAgIEIgPSBCICogKGkrMSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBzOwogICAgfQoKCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIENvbXB1dGVzIHRoZSBjb21wb3VuZCBpbnRlcmVzdCBmb3IgYW4gYWNjb3VudCBzaW5jZSB0aGUgYmxvY2sgc3RvcmVkIGluIHN0YXJ0QmxvY2sKICAgIC8vIGFib3V0IGZhY3RvciAxMCBmb3IgMiBtaWxsaW9uIGJsb2NrcwogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBjb21wb3VuZEludGVyZXN0KGFkZHJlc3MgdG9rZW5Pd25lcikgdmlldyBwdWJsaWMgcmV0dXJucyAodWludCkgewogICAgICAgIHJlcXVpcmUoc3RhcnRCbG9ja3NbdG9rZW5Pd25lcl0gPiAwKTsKICAgICAgICB1aW50IHN0YXJ0QmxvY2sgPSBzdGFydEJsb2Nrc1t0b2tlbk93bmVyXTsKICAgICAgICB1aW50IGN1cnJlbnRCbG9jayA9IGJsb2NrLm51bWJlcjsKICAgICAgICB1aW50IGJsb2NrQ291bnQgPSBjdXJyZW50QmxvY2sgLSBzdGFydEJsb2NrOwogICAgICAgIHVpbnQgYmFsYW5jZSA9IHN0YXJ0QmFsYW5jZXNbdG9rZW5Pd25lcl07CiAgICAgICAgcmV0dXJuIGZyYWNFeHAoYmFsYW5jZSwgODY3NTk4LCBibG9ja0NvdW50LCA4KS5zdWIoYmFsYW5jZSk7CiAgICB9CgoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gR2V0IHRoZSB0b2tlbiBiYWxhbmNlIGZvciBhY2NvdW50IGB0b2tlbk93bmVyYAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB0b2tlbk93bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIHN0YXJ0QmFsYW5jZXNbdG9rZW5Pd25lcl0gKyBjb21wb3VuZEludGVyZXN0KHRva2VuT3duZXIpOwogICAgfQoKICAgIAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBBZGQgdGhlIGNvbXBvdW5kIGludGVyZXN0IHRvIHRoZSBzdGFydEJhbGFuY2UsIHVwZGF0ZSB0aGUgc3RhcnQgYmxvY2ssCiAgICAvLyBhbmQgdXBkYXRlIHRvdGFsU3VwcGx5CiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIHVwZGF0ZUJhbGFuY2UoYWRkcmVzcyB0b2tlbk93bmVyKSBwcml2YXRlIHsKICAgICAgICBpZiAoc3RhcnRCbG9ja3NbdG9rZW5Pd25lcl0gPT0gMCkgewogICAgICAgICAgICBzdGFydEJsb2Nrc1t0b2tlbk93bmVyXSA9IGJsb2NrLm51bWJlcjsKICAgICAgICB9CiAgICAgICAgdWludCBjaSA9IGNvbXBvdW5kSW50ZXJlc3QodG9rZW5Pd25lcik7CiAgICAgICAgc3RhcnRCYWxhbmNlc1t0b2tlbk93bmVyXSA9IHN0YXJ0QmFsYW5jZXNbdG9rZW5Pd25lcl0uYWRkKGNpKTsKICAgICAgICBfdG90YWxTdXBwbHkgPSBfdG90YWxTdXBwbHkuYWRkKGNpKTsKICAgICAgICBzdGFydEJsb2Nrc1t0b2tlbk93bmVyXSA9IGJsb2NrLm51bWJlcjsKICAgIH0KICAgIAogICAgCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFRyYW5zZmVyIHRoZSBiYWxhbmNlIGZyb20gdG9rZW4gb3duZXIncyBhY2NvdW50IHRvIGB0b2AgYWNjb3VudAogICAgLy8gLSBPd25lcidzIGFjY291bnQgbXVzdCBoYXZlIHN1ZmZpY2llbnQgYmFsYW5jZSB0byB0cmFuc2ZlcgogICAgLy8gLSAwIHZhbHVlIHRyYW5zZmVycyBhcmUgYWxsb3dlZAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHRva2VucykgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHVwZGF0ZUJhbGFuY2UobXNnLnNlbmRlcik7CiAgICAgICAgdXBkYXRlQmFsYW5jZSh0byk7CiAgICAgICAgc3RhcnRCYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHN0YXJ0QmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKHRva2Vucyk7CiAgICAgICAgc3RhcnRCYWxhbmNlc1t0b10gPSBzdGFydEJhbGFuY2VzW3RvXS5hZGQodG9rZW5zKTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCB0bywgdG9rZW5zKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBUb2tlbiBvd25lciBjYW4gYXBwcm92ZSBmb3IgYHNwZW5kZXJgIHRvIHRyYW5zZmVyRnJvbSguLi4pIGB0b2tlbnNgCiAgICAvLyBmcm9tIHRoZSB0b2tlbiBvd25lcidzIGFjY291bnQKICAgIC8vCiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9ibG9iL21hc3Rlci9FSVBTL2VpcC0yMC10b2tlbi1zdGFuZGFyZC5tZAogICAgLy8gcmVjb21tZW5kcyB0aGF0IHRoZXJlIGFyZSBubyBjaGVja3MgZm9yIHRoZSBhcHByb3ZhbCBkb3VibGUtc3BlbmQgYXR0YWNrCiAgICAvLyBhcyB0aGlzIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBpbiB1c2VyIGludGVyZmFjZXMgCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50IHRva2VucykgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bc3BlbmRlcl0gPSB0b2tlbnM7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgc3BlbmRlciwgdG9rZW5zKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBUcmFuc2ZlciBgdG9rZW5zYCBmcm9tIHRoZSBgZnJvbWAgYWNjb3VudCB0byB0aGUgYHRvYCBhY2NvdW50CiAgICAvLyAKICAgIC8vIFRoZSBjYWxsaW5nIGFjY291bnQgbXVzdCBhbHJlYWR5IGhhdmUgc3VmZmljaWVudCB0b2tlbnMgYXBwcm92ZSguLi4pLWQKICAgIC8vIGZvciBzcGVuZGluZyBmcm9tIHRoZSBgZnJvbWAgYWNjb3VudCBhbmQKICAgIC8vIC0gRnJvbSBhY2NvdW50IG11c3QgaGF2ZSBzdWZmaWNpZW50IGJhbGFuY2UgdG8gdHJhbnNmZXIKICAgIC8vIC0gU3BlbmRlciBtdXN0IGhhdmUgc3VmZmljaWVudCBhbGxvd2FuY2UgdG8gdHJhbnNmZXIKICAgIC8vIC0gMCB2YWx1ZSB0cmFuc2ZlcnMgYXJlIGFsbG93ZWQKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB0b2tlbnMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICB1cGRhdGVCYWxhbmNlKGZyb20pOwogICAgICAgIHVwZGF0ZUJhbGFuY2UodG8pOwogICAgICAgIHN0YXJ0QmFsYW5jZXNbZnJvbV0gPSBzdGFydEJhbGFuY2VzW2Zyb21dLnN1Yih0b2tlbnMpOwogICAgICAgIGFsbG93ZWRbZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW2Zyb21dW21zZy5zZW5kZXJdLnN1Yih0b2tlbnMpOwogICAgICAgIHN0YXJ0QmFsYW5jZXNbdG9dID0gc3RhcnRCYWxhbmNlc1t0b10uYWRkKHRva2Vucyk7CiAgICAgICAgVHJhbnNmZXIoZnJvbSwgdG8sIHRva2Vucyk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gUmV0dXJucyB0aGUgYW1vdW50IG9mIHRva2VucyBhcHByb3ZlZCBieSB0aGUgb3duZXIgdGhhdCBjYW4gYmUKICAgIC8vIHRyYW5zZmVycmVkIHRvIHRoZSBzcGVuZGVyJ3MgYWNjb3VudAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyB0b2tlbk93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IHJlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2VkW3Rva2VuT3duZXJdW3NwZW5kZXJdOwogICAgfQoKCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFRva2VuIG93bmVyIGNhbiBhcHByb3ZlIGZvciBgc3BlbmRlcmAgdG8gdHJhbnNmZXJGcm9tKC4uLikgYHRva2Vuc2AKICAgIC8vIGZyb20gdGhlIHRva2VuIG93bmVyJ3MgYWNjb3VudC4gVGhlIGBzcGVuZGVyYCBjb250cmFjdCBmdW5jdGlvbgogICAgLy8gYHJlY2VpdmVBcHByb3ZhbCguLi4pYCBpcyB0aGVuIGV4ZWN1dGVkCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3Mgc3BlbmRlciwgdWludCB0b2tlbnMsIGJ5dGVzIGRhdGEpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW3NwZW5kZXJdID0gdG9rZW5zOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIHNwZW5kZXIsIHRva2Vucyk7CiAgICAgICAgQXBwcm92ZUFuZENhbGxGYWxsQmFjayhzcGVuZGVyKS5yZWNlaXZlQXBwcm92YWwobXNnLnNlbmRlciwgdG9rZW5zLCB0aGlzLCBkYXRhKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBEb24ndCBhY2NlcHQgRVRICiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICByZXZlcnQoKTsKICAgIH0KCgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBPd25lciBjYW4gdHJhbnNmZXIgb3V0IGFueSBhY2NpZGVudGFsbHkgc2VudCBFUkMyMCB0b2tlbnMKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gdHJhbnNmZXJBbnlFUkMyMFRva2VuKGFkZHJlc3MgdG9rZW5BZGRyZXNzLCB1aW50IHRva2VucykgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXR1cm4gRVJDMjBJbnRlcmZhY2UodG9rZW5BZGRyZXNzKS50cmFuc2Zlcihvd25lciwgdG9rZW5zKTsKICAgIH0KfQ=='.
	

]
