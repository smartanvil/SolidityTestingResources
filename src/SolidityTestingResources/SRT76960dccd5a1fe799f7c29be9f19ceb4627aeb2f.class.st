Class {
	#name : #SRT76960dccd5a1fe799f7c29be9f19ceb4627aeb2f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT76960dccd5a1fe799f7c29be9f19ceb4627aeb2f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmIChhID09IDApIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKCmNvbnRyYWN0IFJFRFRva2VuIGlzIEVSQzIwLCBPd25hYmxlIHsKCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCi8qLS0tLS0tLS0tLS0tLS0tLS0gVG9rZW4gSW5mb3JtYXRpb24gLS0tLS0tLS0tLS0tLS0tLS0qLwoKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJSZWQgQ29tbXVuaXR5IFRva2VuIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIlJFRCI7CgogICAgdWludDggcHVibGljIGRlY2ltYWxzID0gMTg7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIChFUkMyMCBBUEkpIERlY2ltYWwgcHJlY2lzaW9uLCBmYWN0b3IgaXMgMWUxOAoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYW5nZWxzOyAgICAgICAgICAgICAgICAgICAvLyBBbmdlbHMgYWNjb3VudHMgdGFibGUgKGR1cmluZyBsb2NraW5nIHBlcmlvZCBvbmx5KQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBhY2NvdW50czsgICAgICAgICAgICAgICAgIC8vIFVzZXIncyBhY2NvdW50cyB0YWJsZQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOyAvLyBVc2VyJ3MgYWxsb3dhbmNlcyB0YWJsZQoKLyotLS0tLS0tLS0tLS0tLS0tLSBJQ08gSW5mb3JtYXRpb24gLS0tLS0tLS0tLS0tLS0tLS0qLwoKICAgIHVpbnQyNTYgcHVibGljIGFuZ2VsU3VwcGx5OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbmdlbHMgc2FsZSBzdXBwbHkKICAgIHVpbnQyNTYgcHVibGljIGVhcmx5QmlyZHNTdXBwbHk7ICAgICAgICAgICAgICAgICAgICAgICAvLyBFYXJseSBiaXJkcyBzdXBwbHkKICAgIHVpbnQyNTYgcHVibGljIHB1YmxpY1N1cHBseTsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPcGVuIHJvdW5kIHN1cHBseQogICAgdWludDI1NiBwdWJsaWMgZm91bmRhdGlvblN1cHBseTsgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlZCBGb3VuZGF0aW9uL0NvbW11bml0eSBzdXBwbHkKICAgIHVpbnQyNTYgcHVibGljIHJlZFRlYW1TdXBwbHk7ICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWQgdGVhbSBzdXBwbHkKICAgIHVpbnQyNTYgcHVibGljIG1hcmtldGluZ1N1cHBseTsgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXJrZXRpbmcgJiBzdHJhdGVnaWMgc3VwcGx5CgogICAgdWludDI1NiBwdWJsaWMgYW5nZWxBbW91bnRSZW1haW5pbmc7ICAgICAgICAgICAgICAgICAgIC8vIEFtb3VudCBvZiBwcml2YXRlIGFuZ2VscyB0b2tlbnMgcmVtYWluaW5nIGF0IGEgZ2l2ZW4gdGltZQogICAgdWludDI1NiBwdWJsaWMgaWNvU3RhcnRzQXQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyb3dkc2FsZSBlbmRpbmcgdGltZXN0YW1wCiAgICB1aW50MjU2IHB1YmxpYyBpY29FbmRzQXQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3Jvd2RzYWxlIGVuZGluZyB0aW1lc3RhbXAKICAgIHVpbnQyNTYgcHVibGljIHJlZFRlYW1Mb2NraW5nUGVyaW9kOyAgICAgICAgICAgICAgICAgICAvLyBMb2NraW5nIHBlcmlvZCBmb3IgUmVkIHRlYW0ncyBzdXBwbHkKICAgIHVpbnQyNTYgcHVibGljIGFuZ2VsTG9ja2luZ1BlcmlvZDsgICAgICAgICAgICAgICAgICAgICAvLyBMb2NraW5nIHBlcmlvZCBmb3IgQW5nZWwncyBzdXBwbHkKCiAgICBhZGRyZXNzIHB1YmxpYyBjcm93ZGZ1bmRBZGRyZXNzOyAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3Jvd2RmdW5kaW5nIGNvbnRyYWN0IGFkZHJlc3MKICAgIGFkZHJlc3MgcHVibGljIHJlZFRlYW1BZGRyZXNzOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWQgdGVhbSBhZGRyZXNzCiAgICBhZGRyZXNzIHB1YmxpYyBmb3VuZGF0aW9uQWRkcmVzczsgICAgICAgICAgICAgICAgICAgICAgLy8gRm91bmRhdGlvbiBhZGRyZXNzCiAgICBhZGRyZXNzIHB1YmxpYyBtYXJrZXRpbmdBZGRyZXNzOyAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJpdmF0ZSBlcXVpdHkgYWRkcmVzcwoKICAgIGJvb2wgcHVibGljIHVubG9jazIwRG9uZSA9IGZhbHNlOyAgICAgICAgICAgICAgICAgICAgICAvLyBBbGxvd3MgdGhlIDIwJSB1bmxvY2tpbmcgZm9yIGFuZ2VscyBvbmx5IG9uY2UKCiAgICBlbnVtIGljb1N0YWdlcyB7CiAgICAgICAgUmVhZHksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5pdGlhbCBzdGF0ZSBvbiBjb250cmFjdCdzIGNyZWF0aW9uCiAgICAgICAgRWFybHlCaXJkcywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRWFybHkgYmlyZHMgc3RhdGUKICAgICAgICBQdWJsaWNTYWxlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQdWJsaWMgY3Jvd2RzYWxlIHN0YXRlCiAgICAgICAgRG9uZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5kaW5nIHN0YXRlIGFmdGVyIElDTwogICAgfQogICAgaWNvU3RhZ2VzIHN0YWdlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyb3dkZnVuZGluZyBjdXJyZW50IHN0YXRlCgovKi0tLS0tLS0tLS0tLS0tLS0tIEV2ZW50cyAtLS0tLS0tLS0tLS0tLS0tLSovCgogICAgZXZlbnQgRWFybHlCaXJkc0ZpbmFsaXplZCh1aW50IHRva2Vuc1JlbWFpbmluZyk7ICAgICAgIC8vIEV2ZW50IGNhbGxlZCB3aGVuIGVhcmx5IGJpcmRzIHJvdW5kIGlzIGRvbmUKICAgIGV2ZW50IENyb3dkZnVuZEZpbmFsaXplZCh1aW50IHRva2Vuc1JlbWFpbmluZyk7ICAgICAgICAvLyBFdmVudCBjYWxsZWQgd2hlbiBjcm93ZGZ1bmQgaXMgZG9uZQoKLyotLS0tLS0tLS0tLS0tLS0tLSBNb2RpZmllcnMgLS0tLS0tLS0tLS0tLS0tLS0qLwoKICAgIG1vZGlmaWVyIG5vblplcm9BZGRyZXNzKGFkZHJlc3MgX3RvKSB7ICAgICAgICAgICAgICAgICAvLyBFbnN1cmVzIGFuIGFkZHJlc3MgaXMgcHJvdmlkZWQKICAgICAgICByZXF1aXJlKF90byAhPSAweDApOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgbm9uWmVyb0Ftb3VudCh1aW50IF9hbW91bnQpIHsgICAgICAgICAgICAgICAgIC8vIEVuc3VyZXMgYSBub24temVybyBhbW91bnQKICAgICAgICByZXF1aXJlKF9hbW91bnQgPiAwKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG5vblplcm9WYWx1ZSgpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmVzIGEgbm9uLXplcm8gdmFsdWUgaXMgcGFzc2VkCiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPiAwKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlEdXJpbmdDcm93ZGZ1bmQoKXsgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlcyBhY3Rpb25zIGNhbiBvbmx5IGhhcHBlbiBhZnRlciBjcm93ZGZ1bmQgZW5kcwogICAgICAgIHJlcXVpcmUoKG5vdyA+PSBpY29TdGFydHNBdCkgJiYgKG5vdyA8IGljb0VuZHNBdCkpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgbm90QmVmb3JlQ3Jvd2RmdW5kRW5kcygpeyAgICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZXMgYWN0aW9ucyBjYW4gb25seSBoYXBwZW4gYWZ0ZXIgY3Jvd2RmdW5kIGVuZHMKICAgICAgICByZXF1aXJlKG5vdyA+PSBpY29FbmRzQXQpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgY2hlY2tSZWRUZWFtTG9ja2luZ1BlcmlvZCgpIHsgICAgICAgICAgICAgICAgIC8vIEVuc3VyZXMgbG9ja2luZyBwZXJpb2QgaXMgb3ZlcgogICAgICAgIHJlcXVpcmUobm93ID49IHJlZFRlYW1Mb2NraW5nUGVyaW9kKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIGNoZWNrQW5nZWxzTG9ja2luZ1BlcmlvZCgpIHsgICAgICAgICAgICAgICAgICAvLyBFbnN1cmVzIGxvY2tpbmcgcGVyaW9kIGlzIG92ZXIKICAgICAgICByZXF1aXJlKG5vdyA+PSBhbmdlbExvY2tpbmdQZXJpb2QpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seUNyb3dkZnVuZCgpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZXMgb25seSBjcm93ZGZ1bmQgY2FuIGNhbGwgdGhlIGZ1bmN0aW9uCiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGNyb3dkZnVuZEFkZHJlc3MpOwogICAgICAgIF87CiAgICB9CgovKi0tLS0tLS0tLS0tLS0tLS0tIEVSQzIwIEFQSSAtLS0tLS0tLS0tLS0tLS0tLSovCgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gVHJhbnNmZXJzIGFtb3VudCB0byBhZGRyZXNzCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgbm90QmVmb3JlQ3Jvd2RmdW5kRW5kcyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKGFjY291bnRzW21zZy5zZW5kZXJdID49IF9hbW91bnQpOyAgICAgICAgIC8vIGNoZWNrIGFtb3VudCBvZiBiYWxhbmNlIGNhbiBiZSB0cmFuZmVyZWQKICAgICAgICBhZGRUb0JhbGFuY2UoX3RvLCBfYW1vdW50KTsKICAgICAgICBkZWNyZW1lbnRCYWxhbmNlKG1zZy5zZW5kZXIsIF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gVHJhbnNmZXJzIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlciAobmVlZCBhbGxvd2FuY2UgdG8gYmUgY2FsbGVkIGZpcnN0KQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYyBub3RCZWZvcmVDcm93ZGZ1bmRFbmRzIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoYWxsb3dhbmNlKF9mcm9tLCBtc2cuc2VuZGVyKSA+PSBfYW1vdW50KTsKICAgICAgICBkZWNyZW1lbnRCYWxhbmNlKF9mcm9tLCBfYW1vdW50KTsKICAgICAgICBhZGRUb0JhbGFuY2UoX3RvLCBfYW1vdW50KTsKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBBcHByb3ZlcyBhbm90aGVyIGFkZHJlc3MgYSBjZXJ0YWluIGFtb3VudCBvZiBSRUQKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKChfdmFsdWUgPT0gMCkgfHwgKGFsbG93YW5jZShtc2cuc2VuZGVyLCBfc3BlbmRlcikgPT0gMCkpOwogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIEdldHMgYW4gYWRkcmVzcydzIFJFRCBhbGxvd2FuY2UKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gR2V0cyB0aGUgUkVEIGJhbGFuY2Ugb2YgYW55IGFkZHJlc3MKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBhY2NvdW50c1tfb3duZXJdICsgYW5nZWxzW19vd25lcl07CiAgICB9CgoKLyotLS0tLS0tLS0tLS0tLS0tLSBUb2tlbiBBUEkgLS0tLS0tLS0tLS0tLS0tLS0qLwoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIENvbnRyYWN0J3MgY29uc3RydWN0b3IKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIFJFRFRva2VuKCkgcHVibGljIHsKICAgICAgICB0b3RhbFN1cHBseSAgICAgICAgID0gMjAwMDAwMDAwICogMWUxODsgICAgICAgICAgICAgLy8gMTAwJSAtIDIwMCBtaWxsaW9uIHRvdGFsIFJFRCB3aXRoIDE4IGRlY2ltYWxzCgogICAgICAgIGFuZ2VsU3VwcGx5ICAgICAgICAgPSAgMjAwMDAwMDAgKiAxZTE4OyAgICAgICAgICAgICAvLyAgMTAlIC0gIDIwIG1pbGxpb24gUkVEIGZvciBwcml2YXRlIGFuZ2VscyBzYWxlCiAgICAgICAgZWFybHlCaXJkc1N1cHBseSAgICA9ICA0ODAwMDAwMCAqIDFlMTg7ICAgICAgICAgICAgIC8vICAyNCUgLSAgNDggbWlsbGlvbiBSRUQgZm9yIGVhcmx5LWJpcmQgc2FsZQogICAgICAgIHB1YmxpY1N1cHBseSAgICAgICAgPSAgMTIwMDAwMDAgKiAxZTE4OyAgICAgICAgICAgICAvLyAgIDYlIC0gIDEyIG1pbGxpb24gUkVEIGZvciB0aGUgcHVibGljIGNyb3dkc2FsZQogICAgICAgIHJlZFRlYW1TdXBwbHkgICAgICAgPSAgMzAwMDAwMDAgKiAxZTE4OyAgICAgICAgICAgICAvLyAgMTUlIC0gIDMwIG1pbGxpb24gUkVEIGZvciBSZWQgdGVhbQogICAgICAgIGZvdW5kYXRpb25TdXBwbHkgICAgPSAgNzAwMDAwMDAgKiAxZTE4OyAgICAgICAgICAgICAvLyAgMzUlIC0gIDcwIG1pbGxpb24gUkVEIGZvciBmb3VuZGF0aW9uL2luY2VudGl2aXNpbmcgZWZmb3J0cwogICAgICAgIG1hcmtldGluZ1N1cHBseSAgICAgPSAgMjAwMDAwMDAgKiAxZTE4OyAgICAgICAgICAgICAvLyAgMTAlIC0gIDIwIG1pbGxpb24gUkVEIGZvciBjb3ZlcmluZyBtYXJrZXRpbmcgYW5kIHN0cmF0ZWdpYyBleHBlbnNlcwoKICAgICAgICBhbmdlbEFtb3VudFJlbWFpbmluZyA9IGFuZ2VsU3VwcGx5OyAgICAgICAgICAgICAgICAgLy8gRGVjcmVhc2VkIG92ZXIgdGhlIGNvdXJzZSBvZiB0aGUgcHJpdmF0ZSBhbmdlbCBzYWxlCiAgICAgICAgcmVkVGVhbUFkZHJlc3MgICAgICAgPSAweDMxYWE1MDdjMTQwRTAxMmQwRGNBZjA0MWQ0ODJlMDRGMzYzMjNCMDM7ICAgICAgIC8vIFJlZCBUZWFtIGFkZHJlc3MKICAgICAgICBmb3VuZGF0aW9uQWRkcmVzcyAgICA9IDB4OTNlM0FGNDI5MzlDMTYzRWU0MTQ2RjYzNjQ2RmI0QzI4NkNEYkZlQzsgICAgICAgLy8gRm91bmRhdGlvbi9Db21tdW5pdHkgYWRkcmVzcwogICAgICAgIG1hcmtldGluZ0FkZHJlc3MgICAgID0gMHgwOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXJrZXRpbmcvU3RyYXRlZ2ljIGFkZHJlc3MKCiAgICAgICAgaWNvU3RhcnRzQXQgICAgICAgICAgPSAxNTE1Mzk4NDAwOyAgICAgICAgICAgICAgICAgIC8vIEphbiA4dGggMjAxOCwgMTY6MDAsIEdNVCs4CiAgICAgICAgaWNvRW5kc0F0ICAgICAgICAgICAgPSAxNTE3Mzg1NjAwOyAgICAgICAgICAgICAgICAgIC8vIEphbiAzMXRoIDIwMTgsIDE2OjAwLCBHTVQrOAogICAgICAgIGFuZ2VsTG9ja2luZ1BlcmlvZCAgID0gaWNvRW5kc0F0LmFkZCg5MCBkYXlzKTsgICAgICAvLyAgMyBtb250aHMgbG9ja2luZyBwZXJpb2QKICAgICAgICByZWRUZWFtTG9ja2luZ1BlcmlvZCA9IGljb0VuZHNBdC5hZGQoMzY1IGRheXMpOyAgICAgLy8gMTIgbW9udGhzIGxvY2tpbmcgcGVyaW9kCgogICAgICAgIGFkZFRvQmFsYW5jZShmb3VuZGF0aW9uQWRkcmVzcywgZm91bmRhdGlvblN1cHBseSk7CgogICAgICAgIHN0YWdlID0gaWNvU3RhZ2VzLlJlYWR5OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbml0aWFsaXplcyBzdGF0ZQogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIE9wZW5zIGVhcmx5IGJpcmRzIHNhbGUKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIHN0YXJ0Q3Jvd2RmdW5kKCkgZXh0ZXJuYWwgb25seUNyb3dkZnVuZCBvbmx5RHVyaW5nQ3Jvd2RmdW5kIHJldHVybnMoYm9vbCkgewogICAgICAgIHJlcXVpcmUoc3RhZ2UgPT0gaWNvU3RhZ2VzLlJlYWR5KTsKICAgICAgICBzdGFnZSA9IGljb1N0YWdlcy5FYXJseUJpcmRzOwogICAgICAgIGFkZFRvQmFsYW5jZShjcm93ZGZ1bmRBZGRyZXNzLCBlYXJseUJpcmRzU3VwcGx5KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBSZXR1cm5zIFRSVUUgaWYgZWFybHkgYmlyZHMgcm91bmQgaXMgY3VycmVudGx5IGdvaW5nIG9uCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBpc0Vhcmx5QmlyZHNTdGFnZSgpIGV4dGVybmFsIHZpZXcgcmV0dXJucyhib29sKSB7CiAgICAgICAgcmV0dXJuIChzdGFnZSA9PSBpY29TdGFnZXMuRWFybHlCaXJkcyk7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gU2V0cyB0aGUgY3Jvd2RmdW5kIGFkZHJlc3MsIGNhbiBvbmx5IGJlIGRvbmUgb25jZQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gc2V0Q3Jvd2RmdW5kQWRkcmVzcyhhZGRyZXNzIF9jcm93ZGZ1bmRBZGRyZXNzKSBleHRlcm5hbCBvbmx5T3duZXIgbm9uWmVyb0FkZHJlc3MoX2Nyb3dkZnVuZEFkZHJlc3MpIHsKICAgICAgICByZXF1aXJlKGNyb3dkZnVuZEFkZHJlc3MgPT0gMHgwKTsKICAgICAgICBjcm93ZGZ1bmRBZGRyZXNzID0gX2Nyb3dkZnVuZEFkZHJlc3M7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gRnVuY3Rpb24gZm9yIHRoZSBDcm93ZGZ1bmQgdG8gdHJhbnNmZXIgdG9rZW5zCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb21Dcm93ZGZ1bmQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgZXh0ZXJuYWwgb25seUNyb3dkZnVuZCBub25aZXJvQW1vdW50KF9hbW91bnQpIG5vblplcm9BZGRyZXNzKF90bykgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2YoY3Jvd2RmdW5kQWRkcmVzcykgPj0gX2Ftb3VudCk7CiAgICAgICAgZGVjcmVtZW50QmFsYW5jZShjcm93ZGZ1bmRBZGRyZXNzLCBfYW1vdW50KTsKICAgICAgICBhZGRUb0JhbGFuY2UoX3RvLCBfYW1vdW50KTsKICAgICAgICBUcmFuc2ZlcigweDAsIF90bywgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gUmVsZWFzZXMgUmVkIHRlYW0gc3VwcGx5IGFmdGVyIGxvY2tpbmcgcGVyaW9kIGlzIHBhc3NlZAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gcmVsZWFzZVJlZFRlYW1Ub2tlbnMoKSBleHRlcm5hbCBjaGVja1JlZFRlYW1Mb2NraW5nUGVyaW9kIG9ubHlPd25lciByZXR1cm5zKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUocmVkVGVhbVN1cHBseSA+IDApOwogICAgICAgIGFkZFRvQmFsYW5jZShyZWRUZWFtQWRkcmVzcywgcmVkVGVhbVN1cHBseSk7CiAgICAgICAgVHJhbnNmZXIoMHgwLCByZWRUZWFtQWRkcmVzcywgcmVkVGVhbVN1cHBseSk7CiAgICAgICAgcmVkVGVhbVN1cHBseSA9IDA7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gUmVsZWFzZXMgTWFya2V0aW5nICYgc3RyYXRlZ2ljIHN1cHBseQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gcmVsZWFzZU1hcmtldGluZ1Rva2VucygpIGV4dGVybmFsIG9ubHlPd25lciByZXR1cm5zKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUobWFya2V0aW5nU3VwcGx5ID4gMCk7CiAgICAgICAgYWRkVG9CYWxhbmNlKG1hcmtldGluZ0FkZHJlc3MsIG1hcmtldGluZ1N1cHBseSk7CiAgICAgICAgVHJhbnNmZXIoMHgwLCBtYXJrZXRpbmdBZGRyZXNzLCBtYXJrZXRpbmdTdXBwbHkpOwogICAgICAgIG1hcmtldGluZ1N1cHBseSA9IDA7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gRmluYWxpemVzIGVhcmx5IGJpcmRzIHJvdW5kLiBJZiBzb21lIFJFRCBhcmUgbGVmdCwgbGV0IHRoZW0gb3ZlcmZsb3cgdG8gdGhlIGNyb3dkZnVuZAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gZmluYWxpemVFYXJseUJpcmRzKCkgZXh0ZXJuYWwgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoc3RhZ2UgPT0gaWNvU3RhZ2VzLkVhcmx5QmlyZHMpOwogICAgICAgIHVpbnQyNTYgYW1vdW50ID0gYmFsYW5jZU9mKGNyb3dkZnVuZEFkZHJlc3MpOwogICAgICAgIGFkZFRvQmFsYW5jZShjcm93ZGZ1bmRBZGRyZXNzLCBwdWJsaWNTdXBwbHkpOwogICAgICAgIHN0YWdlID0gaWNvU3RhZ2VzLlB1YmxpY1NhbGU7CiAgICAgICAgRWFybHlCaXJkc0ZpbmFsaXplZChhbW91bnQpOyAgICAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnQgbG9nCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gRmluYWxpemVzIGNyb3dkZnVuZC4gSWYgdGhlcmUgYXJlIGxlZnRvdmVyIFJFRCwgbGV0IHRoZW0gb3ZlcmZsb3cgdG8gZm91bmRhdGlvbgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gZmluYWxpemVDcm93ZGZ1bmQoKSBleHRlcm5hbCBvbmx5Q3Jvd2RmdW5kIHsKICAgICAgICByZXF1aXJlKHN0YWdlID09IGljb1N0YWdlcy5QdWJsaWNTYWxlKTsKICAgICAgICB1aW50MjU2IGFtb3VudCA9IGJhbGFuY2VPZihjcm93ZGZ1bmRBZGRyZXNzKTsKICAgICAgICBpZiAoYW1vdW50ID4gMCkgewogICAgICAgICAgICBhY2NvdW50c1tjcm93ZGZ1bmRBZGRyZXNzXSA9IDA7CiAgICAgICAgICAgIGFkZFRvQmFsYW5jZShmb3VuZGF0aW9uQWRkcmVzcywgYW1vdW50KTsKICAgICAgICAgICAgVHJhbnNmZXIoY3Jvd2RmdW5kQWRkcmVzcywgZm91bmRhdGlvbkFkZHJlc3MsIGFtb3VudCk7CiAgICAgICAgfQogICAgICAgIHN0YWdlID0gaWNvU3RhZ2VzLkRvbmU7CiAgICAgICAgQ3Jvd2RmdW5kRmluYWxpemVkKGFtb3VudCk7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnQgbG9nCiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gQ2hhbmdlcyBSZWQgVGVhbSB3YWxsZXQKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGNoYW5nZVJlZFRlYW1BZGRyZXNzKGFkZHJlc3MgX3dhbGxldCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICByZWRUZWFtQWRkcmVzcyA9IF93YWxsZXQ7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gQ2hhbmdlcyBNYXJrZXRpbmcmU3RyYXRlZ2ljIHdhbGxldAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gY2hhbmdlTWFya2V0aW5nQWRkcmVzcyhhZGRyZXNzIF93YWxsZXQpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgbWFya2V0aW5nQWRkcmVzcyA9IF93YWxsZXQ7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gRnVuY3Rpb24gdG8gdW5sb2NrIDIwJSBSRUQgdG8gcHJpdmF0ZSBhbmdlbHMgaW52ZXN0b3JzCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBwYXJ0aWFsVW5sb2NrQW5nZWxzQWNjb3VudHMoYWRkcmVzc1tdIF9iYXRjaE9mQWRkcmVzc2VzKSBleHRlcm5hbCBvbmx5T3duZXIgbm90QmVmb3JlQ3Jvd2RmdW5kRW5kcyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKHVubG9jazIwRG9uZSA9PSBmYWxzZSk7CiAgICAgICAgdWludDI1NiBhbW91bnQ7CiAgICAgICAgYWRkcmVzcyBob2xkZXI7CiAgICAgICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgX2JhdGNoT2ZBZGRyZXNzZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaG9sZGVyID0gX2JhdGNoT2ZBZGRyZXNzZXNbaV07CiAgICAgICAgICAgIGFtb3VudCA9IGFuZ2Vsc1tob2xkZXJdLm11bCgyMCkuZGl2KDEwMCk7CiAgICAgICAgICAgIGFuZ2Vsc1tob2xkZXJdID0gYW5nZWxzW2hvbGRlcl0uc3ViKGFtb3VudCk7CiAgICAgICAgICAgIGFkZFRvQmFsYW5jZShob2xkZXIsIGFtb3VudCk7CiAgICAgICAgfQogICAgICAgIHVubG9jazIwRG9uZSA9IHRydWU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gRnVuY3Rpb24gdG8gdW5sb2NrIGFsbCByZW1haW5pbmcgUkVEIHRvIHByaXZhdGUgYW5nZWxzIGludmVzdG9ycyAoYWZ0ZXIgMyBtb250aHMpCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBmdWxsVW5sb2NrQW5nZWxzQWNjb3VudHMoYWRkcmVzc1tdIF9iYXRjaE9mQWRkcmVzc2VzKSBleHRlcm5hbCBvbmx5T3duZXIgY2hlY2tBbmdlbHNMb2NraW5nUGVyaW9kIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHVpbnQyNTYgYW1vdW50OwogICAgICAgIGFkZHJlc3MgaG9sZGVyOwogICAgICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IF9iYXRjaE9mQWRkcmVzc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGhvbGRlciA9IF9iYXRjaE9mQWRkcmVzc2VzW2ldOwogICAgICAgICAgICBhbW91bnQgPSBhbmdlbHNbaG9sZGVyXTsKICAgICAgICAgICAgYW5nZWxzW2hvbGRlcl0gPSAwOwogICAgICAgICAgICBhZGRUb0JhbGFuY2UoaG9sZGVyLCBhbW91bnQpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBGdW5jdGlvbiB0byByZXNlcnZlIFJFRCB0byBwcml2YXRlIGFuZ2VscyBpbnZlc3RvcnMgKGluaXRpYWxseSBsb2NrZWQpCiAgICAvLyB0aGUgYW1vdW50IG9mIFJFRCBpcyBpbiBXZWkKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGRlbGl2ZXJBbmdlbHNSRURBY2NvdW50cyhhZGRyZXNzW10gX2JhdGNoT2ZBZGRyZXNzZXMsIHVpbnRbXSBfYW1vdW50T2ZSRUQpIGV4dGVybmFsIG9ubHlPd25lciBvbmx5RHVyaW5nQ3Jvd2RmdW5kIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IF9iYXRjaE9mQWRkcmVzc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGRlbGl2ZXJBbmdlbHNSRURCYWxhbmNlKF9iYXRjaE9mQWRkcmVzc2VzW2ldLCBfYW1vdW50T2ZSRURbaV0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KLyotLS0tLS0tLS0tLS0tLS0tLSBIZWxwZXIgZnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tKi8KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIElmIG9uZSBhZGRyZXNzIGhhcyBjb250cmlidXRlZCBtb3JlIHRoYW4gb25jZSwKICAgIC8vIHRoZSBjb250cmlidXRpb25zIHdpbGwgYmUgYWdncmVnYXRlZAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gZGVsaXZlckFuZ2Vsc1JFREJhbGFuY2UoYWRkcmVzcyBfYWNjb3VudEhvbGRlciwgdWludCBfYW1vdW50T2ZCb3VnaHRSRUQpIGludGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShhbmdlbEFtb3VudFJlbWFpbmluZyA+IDApOwogICAgICAgIGFuZ2Vsc1tfYWNjb3VudEhvbGRlcl0gPSBhbmdlbHNbX2FjY291bnRIb2xkZXJdLmFkZChfYW1vdW50T2ZCb3VnaHRSRUQpOwogICAgICAgIFRyYW5zZmVyKDB4MCwgX2FjY291bnRIb2xkZXIsIF9hbW91bnRPZkJvdWdodFJFRCk7CiAgICAgICAgYW5nZWxBbW91bnRSZW1haW5pbmcgPSBhbmdlbEFtb3VudFJlbWFpbmluZy5zdWIoX2Ftb3VudE9mQm91Z2h0UkVEKTsKICAgIH0KCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBBZGRzIHRvIGJhbGFuY2UKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGFkZFRvQmFsYW5jZShhZGRyZXNzIF9hZGRyZXNzLCB1aW50IF9hbW91bnQpIGludGVybmFsIHsKICAgICAgICBhY2NvdW50c1tfYWRkcmVzc10gPSBhY2NvdW50c1tfYWRkcmVzc10uYWRkKF9hbW91bnQpOwogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFJlbW92ZXMgZnJvbSBiYWxhbmNlCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBkZWNyZW1lbnRCYWxhbmNlKGFkZHJlc3MgX2FkZHJlc3MsIHVpbnQgX2Ftb3VudCkgaW50ZXJuYWwgewogICAgICAgIGFjY291bnRzW19hZGRyZXNzXSA9IGFjY291bnRzW19hZGRyZXNzXS5zdWIoX2Ftb3VudCk7CiAgICB9Cn0='.
	

]
