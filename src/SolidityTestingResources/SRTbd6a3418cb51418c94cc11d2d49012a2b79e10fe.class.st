Class {
	#name : #SRTbd6a3418cb51418c94cc11d2d49012a2b79e10fe,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTbd6a3418cb51418c94cc11d2d49012a2b79e10fe >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBPd25hYmxlIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIGFkZHJlc3MgcHVibGljIG1hbmFnZXIgPSAweGNFZDI1OWRCMzQzNUJjYkM2M2VDODBBMjQ0MEY5NGExYzk1QzY5QmI7CgogICAgZnVuY3Rpb24gZ2V0T3duZXIoKSB2aWV3IGV4dGVybmFsIHJldHVybnMgKGFkZHJlc3MpIHsKICAgICAgICByZXR1cm4gb3duZXI7CiAgICB9CgogICAgLy8vIEBub3RpY2UgY2hlY2sgaWYgdGhlIGNhbGxlciBpcyB0aGUgb3duZXIgb2YgdGhlIGNvbnRyYWN0CiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5TWFuYWdlciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG1hbmFnZXIpOwogICAgICAgIF87CiAgICB9CgogICAgYm9vbCBsb2NrZWQ7CiAgICBtb2RpZmllciBub1JlZW50cmFuY3koKSB7CiAgICAgICAgcmVxdWlyZSghbG9ja2VkKTsKICAgICAgICBsb2NrZWQgPSB0cnVlOwogICAgICAgIF87CiAgICAgICAgbG9ja2VkID0gZmFsc2U7CiAgICB9CgogICAgLy8vIEBub3RpY2UgY2hhbmdlIHRoZSBvd25lciBvZiB0aGUgY29udHJhY3QKICAgIC8vLyBAcGFyYW0gX25ld093bmVyIHRoZSBhZGRyZXNzIG9mIHRoZSBuZXcgb3duZXIgb2YgdGhlIGNvbnRyYWN0LgogICAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYwogICAgb25seU93bmVyCiAgICB7CiAgICAgICAgcmVxdWlyZShfbmV3T3duZXIgIT0gMHgwKTsKICAgICAgICBvd25lciA9IF9uZXdPd25lcjsKICAgIH0KfQoKY29udHJhY3QgV2VhcG9uc0NvcmUgaXMgT3duYWJsZQp7CiAgICBzdHJ1Y3QgV2VhcG9uTW9kZWwgewogICAgICAgIHVpbnQgaWQ7CiAgICAgICAgdWludCB3ZWFwb25UeXBlOwogICAgICAgIHVpbnQgZ2VuZXJhdGlvbjsKICAgICAgICB1aW50IHByaWNlOwogICAgfQoKICAgIHN0cnVjdCBXZWFwb25FbnRpdHkgewogICAgICAgIHVpbnQgbW9kZWxJZDsKICAgICAgICB1aW50IHdlYXBvblR5cGU7CiAgICAgICAgdWludCBnZW5lcmF0aW9uOwogICAgICAgIHVpbnQgZG5hOwogICAgfQoKICAgIHVpbnQ4IHB1YmxpYyBuZXh0V2VhcG9uSUQgPSAxOyAvLyBJRCBmb3IgdGhlIG5leHQgd2VhcG9uCgogICAgV2VhcG9uTW9kZWxbXSBwdWJsaWMgd2VhcG9uTW9kZWxzOwogICAgV2VhcG9uRW50aXR5W10gcHVibGljIHdlYXBvbkVudGl0aWVzOwogICAgbWFwcGluZyh1aW50MjU2ID0+IGFkZHJlc3MpIHB1YmxpYyB3ZWFwb25Ub093bmVyOwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTZbXSkgaW50ZXJuYWwgb3duZXJUb1dlYXBvbnM7CiAgICBtYXBwaW5nKHVpbnQyNTYgPT4gYWRkcmVzcykgcHVibGljIHdlYXBvblRvQXBwcm92ZWQ7CgogICAgZnVuY3Rpb24gV2VhcG9uc0NvcmUoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgLy9yZWdpc3RlcmluZyBzd29yZHMgKHR5cGUgMCkKICAgICAgICBfcmVnaXN0ZXJXZWFwb24oMCwgMCwgMCwgMC4wMSBldGhlcik7CiAgICAgICAgX3JlZ2lzdGVyV2VhcG9uKDEsIDAsIDEsIDAuMDUgZXRoZXIpOwogICAgICAgIF9yZWdpc3RlcldlYXBvbigyLCAwLCAyLCAwLjEgZXRoZXIpOwogICAgICAgIF9yZWdpc3RlcldlYXBvbigzLCAwLCAzLCAwLjI1IGV0aGVyKTsKICAgICAgICBfcmVnaXN0ZXJXZWFwb24oNCwgMCwgNCwgMC41IGV0aGVyKTsKCiAgICAgICAgLy9yZWdpc3RlcmluZyBheGVzICh0eXBlIDEpCiAgICAgICAgX3JlZ2lzdGVyV2VhcG9uKDUsIDEsIDAsIDAuMDEgZXRoZXIpOwogICAgICAgIF9yZWdpc3RlcldlYXBvbig2LCAxLCAxLCAwLjA1IGV0aGVyKTsKICAgICAgICBfcmVnaXN0ZXJXZWFwb24oNywgMSwgMiwgMC4xIGV0aGVyKTsKICAgICAgICBfcmVnaXN0ZXJXZWFwb24oOCwgMSwgMywgMC4yNSBldGhlcik7CiAgICAgICAgX3JlZ2lzdGVyV2VhcG9uKDksIDEsIDQsIDAuNSBldGhlcik7CgogICAgICAgIC8vcmVnaXN0ZXJpbmcgaGFtbWVycyAodHlwZSAyKQogICAgICAgIF9yZWdpc3RlcldlYXBvbigxMCwgMiwgMCwgMC4wMSBldGhlcik7CiAgICAgICAgX3JlZ2lzdGVyV2VhcG9uKDExLCAyLCAxLCAwLjA1IGV0aGVyKTsKICAgICAgICBfcmVnaXN0ZXJXZWFwb24oMTIsIDIsIDIsIDAuMSBldGhlcik7CiAgICAgICAgX3JlZ2lzdGVyV2VhcG9uKDEzLCAyLCAzLCAwLjI1IGV0aGVyKTsKICAgICAgICBfcmVnaXN0ZXJXZWFwb24oMTQsIDIsIDQsIDAuNSBldGhlcik7CgogICAgICAgIC8vcmVnaXN0ZXJpbmcgYm93cyAodHlwZSAzKQogICAgICAgIF9yZWdpc3RlcldlYXBvbigxNSwgMywgMCwgMC4wMSBldGhlcik7CiAgICAgICAgX3JlZ2lzdGVyV2VhcG9uKDE2LCAzLCAxLCAwLjA1IGV0aGVyKTsKICAgICAgICBfcmVnaXN0ZXJXZWFwb24oMTcsIDMsIDIsIDAuMSBldGhlcik7CiAgICAgICAgX3JlZ2lzdGVyV2VhcG9uKDE4LCAzLCAzLCAwLjI1IGV0aGVyKTsKICAgICAgICBfcmVnaXN0ZXJXZWFwb24oMTksIDMsIDQsIDAuNSBldGhlcik7CiAgICB9CgogICAgZnVuY3Rpb24gX3JlZ2lzdGVyV2VhcG9uKHVpbnQgX2lkLCB1aW50IF90eXBlLCB1aW50IF9nZW5lcmF0aW9uLCB1aW50IF9wcmljZSkgcHJpdmF0ZSB7CiAgICAgICAgV2VhcG9uTW9kZWwgbWVtb3J5IHdlYXBvbk1vZGVsID0gV2VhcG9uTW9kZWwoX2lkLCBfdHlwZSwgX2dlbmVyYXRpb24sIF9wcmljZSk7CiAgICAgICAgd2VhcG9uTW9kZWxzLnB1c2god2VhcG9uTW9kZWwpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFdlYXBvbkVudGl0eSh1aW50MjU2IGlkKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQsIHVpbnQsIHVpbnQsIHVpbnQpIHsKICAgICAgICBXZWFwb25FbnRpdHkgbWVtb3J5IHdlYXBvbiA9IHdlYXBvbkVudGl0aWVzW2lkXTsKCiAgICAgICAgcmV0dXJuICh3ZWFwb24ubW9kZWxJZCwgd2VhcG9uLndlYXBvblR5cGUsIHdlYXBvbi5nZW5lcmF0aW9uLCB3ZWFwb24uZG5hKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRXZWFwb25Nb2RlbCh1aW50MjU2IGlkKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQsIHVpbnQsIHVpbnQsIHVpbnQpIHsKICAgICAgICBXZWFwb25Nb2RlbCBtZW1vcnkgd2VhcG9uID0gd2VhcG9uTW9kZWxzW2lkXTsKCiAgICAgICAgcmV0dXJuICh3ZWFwb24uaWQsIHdlYXBvbi53ZWFwb25UeXBlLCB3ZWFwb24uZ2VuZXJhdGlvbiwgd2VhcG9uLnByaWNlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRXZWFwb25JZHMoKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnRbXSkgewogICAgICAgIHVpbnQgd2VhcG9uc0NvdW50ID0gbmV4dFdlYXBvbklEIC0gMTsKICAgICAgICB1aW50W10gbWVtb3J5IF93ZWFwb25zTGlzdCA9IG5ldyB1aW50W10od2VhcG9uc0NvdW50KTsKICAgICAgICBmb3IgKHVpbnQgd2VhcG9uSWQgPSAwOyB3ZWFwb25JZCA8IHdlYXBvbnNDb3VudDsgd2VhcG9uSWQrKykgewogICAgICAgICAgICBfd2VhcG9uc0xpc3Rbd2VhcG9uSWRdID0gd2VhcG9uSWQ7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gX3dlYXBvbnNMaXN0OwogICAgfQoKICAgIC8qCiAgICBmdW5jdGlvbiBuZXdXZWFwb24odWludDggX2lkLCB1aW50OCBfd2VhcG9uVHlwZSwgdWludDggX2F0dGFjaywgdWludDggX2RlZmVuc2UsIHVpbnQ4IF9hY2N1cmFjeSwgdWludDggX3NwZWVkLCB1aW50OCBfbGV2ZWxSZXF1aXJlZCwgdWludDggX2NyaXRpY2FsSGl0Q2hhbmNlLCB1aW50OCBfbWF4RHVyYWJpbGl0eSwgdWludDggX2R1cmFiaWxpdHksIHVpbnQyNTYgX3Byb2ZpdCwgdWludCBfcHJpY2UpIGV4dGVybmFsIHBheWFibGUgbm9SZWVudHJhbmN5IG9ubHlPd25lciB7CiAgICAgICAgd2VhcG9uTW9kZWxzW25leHRXZWFwb25JRCsrXSA9IFdlYXBvbk1vZGVsKF9pZCwgX3dlYXBvblR5cGUsIF9hdHRhY2ssIF9kZWZlbnNlLCBfYWNjdXJhY3ksIF9zcGVlZCwgX2xldmVsUmVxdWlyZWQsIF9jcml0aWNhbEhpdENoYW5jZSwgX21heER1cmFiaWxpdHksIF9kdXJhYmlsaXR5LCBfcHJvZml0LCBfcHJpY2UpOwogICAgfQogICAgKi8KCiAgICBmdW5jdGlvbiBfZ2VuZXJhdGVXZWFwb24oYWRkcmVzcyBfb3duZXIsIHVpbnQyNTYgX3dlYXBvbklkKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IGlkKSB7CiAgICAgICAgcmVxdWlyZSh3ZWFwb25Nb2RlbHNbX3dlYXBvbklkXS5wcmljZSA+IDApOwogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID09IHdlYXBvbk1vZGVsc1tfd2VhcG9uSWRdLnByaWNlKTsKCiAgICAgICAgaWQgPSB3ZWFwb25FbnRpdGllcy5sZW5ndGg7CiAgICAgICAgdWludDI1NiBjcmVhdGVUaW1lID0gYmxvY2sudGltZXN0YW1wOwoKICAgICAgICAvLyBJbnNlY3VyZSBSTkcsIGJ1dCBnb29kIGVub3VnaCBmb3Igb3VyIHB1cnBvc2VzIC0gYm9ycm93ZWQgZnJvbSBFdGhlclR1bGlwcwogICAgICAgIHVpbnQyNTYgc2VlZCA9IHVpbnQoYmxvY2suYmxvY2toYXNoKGJsb2NrLm51bWJlciAtIDEpKSArIHVpbnQoYmxvY2suYmxvY2toYXNoKGJsb2NrLm51bWJlciAtIDEwMCkpCiAgICAgICAgKyB1aW50KGJsb2NrLmNvaW5iYXNlKSArIGNyZWF0ZVRpbWUgKyBpZDsKICAgICAgICB1aW50MjU2IGRuYSA9IHVpbnQyNTYoa2VjY2FrMjU2KHNlZWQpKSAlIDEwMDAwMDAwMDAwMDAwMDA7CgogICAgICAgIFdlYXBvbk1vZGVsIG1lbW9yeSB3ZWFwb25Nb2RlbCA9IHdlYXBvbk1vZGVsc1tfd2VhcG9uSWRdOwogICAgICAgIFdlYXBvbkVudGl0eSBtZW1vcnkgbmV3V2VhcG9uID0gV2VhcG9uRW50aXR5KF93ZWFwb25JZCwgd2VhcG9uTW9kZWwud2VhcG9uVHlwZSwgd2VhcG9uTW9kZWwuZ2VuZXJhdGlvbiwgZG5hKTsKICAgICAgICB3ZWFwb25FbnRpdGllcy5wdXNoKG5ld1dlYXBvbik7CiAgICAgICAgd2VhcG9uVG9Pd25lcltpZF0gPSBfb3duZXI7CiAgICAgICAgb3duZXJUb1dlYXBvbnNbX293bmVyXS5wdXNoKGlkKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfdHJhbnNmZXJXZWFwb24oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2lkKSBpbnRlcm5hbCB7CiAgICAgICAgd2VhcG9uVG9Pd25lcltfaWRdID0gX3RvOwogICAgICAgIG93bmVyVG9XZWFwb25zW190b10ucHVzaChfaWQpOwogICAgICAgIHdlYXBvblRvQXBwcm92ZWRbX2lkXSA9IGFkZHJlc3MoMCk7CgogICAgICAgIHVpbnQyNTZbXSBzdG9yYWdlIGZyb21XZWFwb25zID0gb3duZXJUb1dlYXBvbnNbX2Zyb21dOwogICAgICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IGZyb21XZWFwb25zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChmcm9tV2VhcG9uc1tpXSA9PSBfaWQpIHsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGFzc2VydChpIDwgZnJvbVdlYXBvbnMubGVuZ3RoKTsKCiAgICAgICAgZnJvbVdlYXBvbnNbaV0gPSBmcm9tV2VhcG9uc1tmcm9tV2VhcG9ucy5sZW5ndGggLSAxXTsKICAgICAgICBkZWxldGUgZnJvbVdlYXBvbnNbZnJvbVdlYXBvbnMubGVuZ3RoIC0gMV07CiAgICAgICAgZnJvbVdlYXBvbnMubGVuZ3RoLS07CiAgICB9Cn0KCmNvbnRyYWN0IEVSQzcyMSB7CiAgICAvLyBSZXF1aXJlZCBGdW5jdGlvbnMKICAgIGZ1bmN0aW9uIGltcGxlbWVudHNFUkM3MjEoKSBwdWJsaWMgcHVyZSByZXR1cm5zIChib29sKTsKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gb3duZXJPZih1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgdmlldyByZXR1cm5zIChhZGRyZXNzKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF90b2tlbklkKSBwdWJsaWM7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBwdWJsaWM7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYzsKCiAgICAvLyBPcHRpb25hbCBGdW5jdGlvbnMKICAgIGZ1bmN0aW9uIG5hbWUoKSBwdWJsaWMgcHVyZSByZXR1cm5zIChzdHJpbmcpOwogICAgZnVuY3Rpb24gc3ltYm9sKCkgcHVibGljIHB1cmUgcmV0dXJucyAoc3RyaW5nKTsKICAgIGZ1bmN0aW9uIHRva2VuT2ZPd25lckJ5SW5kZXgoYWRkcmVzcyBfb3duZXIsIHVpbnQyNTYgX2luZGV4KSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICAgIC8vIGZ1bmN0aW9uIHRva2VuTWV0YWRhdGEodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoc3RyaW5nIGluZm9VcmwpOwoKICAgIC8vIFJlcXVpcmVkIEV2ZW50cwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBpbmRleGVkIHRva2VuSWQpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgYXBwcm92ZWQsIHVpbnQyNTYgaW5kZXhlZCB0b2tlbklkKTsKfQoKCmNvbnRyYWN0IFdlYXBvblRva2VuIGlzIFdlYXBvbnNDb3JlLCBFUkM3MjEgewoKICAgIGZ1bmN0aW9uIGltcGxlbWVudHNFUkM3MjEoKSBwdWJsaWMgcHVyZSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIHdlYXBvbkVudGl0aWVzLmxlbmd0aDsKICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBvd25lclRvV2VhcG9uc1tfb3duZXJdLmxlbmd0aDsKICAgIH0KCiAgICBmdW5jdGlvbiBvd25lck9mKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKGFkZHJlc3Mgb3duZXIpIHsKICAgICAgICBvd25lciA9IHdlYXBvblRvT3duZXJbX3Rva2VuSWRdOwogICAgICAgIHJlcXVpcmUob3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZSh3ZWFwb25Ub093bmVyW190b2tlbklkXSA9PSBtc2cuc2VuZGVyKTsKCiAgICAgICAgX3RyYW5zZmVyV2VhcG9uKG1zZy5zZW5kZXIsIF90bywgX3Rva2VuSWQpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3Rva2VuSWQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZSh3ZWFwb25Ub093bmVyW190b2tlbklkXSA9PSBtc2cuc2VuZGVyKTsKICAgICAgICB3ZWFwb25Ub0FwcHJvdmVkW190b2tlbklkXSA9IF90bzsKCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3RvLCBfdG9rZW5JZCk7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUod2VhcG9uVG9BcHByb3ZlZFtfdG9rZW5JZF0gPT0gbXNnLnNlbmRlcik7CiAgICAgICAgcmVxdWlyZSh3ZWFwb25Ub093bmVyW190b2tlbklkXSA9PSBfZnJvbSk7CgogICAgICAgIF90cmFuc2ZlcldlYXBvbihfZnJvbSwgX3RvLCBfdG9rZW5JZCk7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3Rva2VuSWQpOwogICAgfQoKICAgIGZ1bmN0aW9uIG5hbWUoKSBwdWJsaWMgcHVyZSByZXR1cm5zIChzdHJpbmcpIHsKICAgICAgICByZXR1cm4gIkdsYWRpRXRoZXIgV2VhcG9uIjsKICAgIH0KCiAgICBmdW5jdGlvbiBzeW1ib2woKSBwdWJsaWMgcHVyZSByZXR1cm5zIChzdHJpbmcpIHsKICAgICAgICByZXR1cm4gIkdFVyI7CiAgICB9CgogICAgZnVuY3Rpb24gdG9rZW5PZk93bmVyQnlJbmRleChhZGRyZXNzIF9vd25lciwgdWludDI1NiBfaW5kZXgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXF1aXJlKF9pbmRleCA8IG93bmVyVG9XZWFwb25zW19vd25lcl0ubGVuZ3RoKTsKICAgICAgICByZXR1cm4gb3duZXJUb1dlYXBvbnNbX293bmVyXVtfaW5kZXhdOwogICAgfQoKICAgIC8vIGZ1bmN0aW9uIHRva2VuTWV0YWRhdGEodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoc3RyaW5nIGluZm9VcmwpOwp9CgoKY29udHJhY3QgV2VhcG9uU2FsZXMgaXMgV2VhcG9uVG9rZW4gewogICAgZXZlbnQgUHVyY2hhc2UoYWRkcmVzcyBpbmRleGVkIG93bmVyLCB1aW50MjU2IHVuaXRQcmljZSwgdWludDMyIGFtb3VudCk7CgogICAgZnVuY3Rpb24gYnV5V2VhcG9uKHVpbnQyNTYgX3dlYXBvbklkKSBwdWJsaWMgcGF5YWJsZSByZXR1cm5zICh1aW50MjU2IGlkKSB7CiAgICAgICAgaWQgPSBfZ2VuZXJhdGVXZWFwb24obXNnLnNlbmRlciwgX3dlYXBvbklkKTsKICAgICAgICBUcmFuc2ZlcihhZGRyZXNzKDApLCBtc2cuc2VuZGVyLCBpZCk7CiAgICAgICAgUHVyY2hhc2UobXNnLnNlbmRlciwgd2VhcG9uTW9kZWxzW193ZWFwb25JZF0ucHJpY2UsIDEpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdpdGhkcmF3QmFsYW5jZSh1aW50MjU2IF9hbW91bnQpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShfYW1vdW50IDw9IHRoaXMuYmFsYW5jZSk7CgogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoX2Ftb3VudCk7CiAgICB9Cn0KCgpjb250cmFjdCBHbGFkaUV0aGVyIGlzIFdlYXBvblNhbGVzCnsKICAgIGZ1bmN0aW9uIEdsYWRpRXRoZXIoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFdlYXBvbih1aW50IHdlYXBvbklkKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50IG1vZGVsSWQsIHVpbnQgd2VhcG9uVHlwZSwgdWludCBnZW5lcmF0aW9uLCB1aW50IGRuYSkgewogICAgICAgIFdlYXBvbkVudGl0eSBtZW1vcnkgd2VhcG9uID0gd2VhcG9uRW50aXRpZXNbd2VhcG9uSWRdOwoKICAgICAgICByZXR1cm4gKHdlYXBvbi5tb2RlbElkLCB3ZWFwb24ud2VhcG9uVHlwZSwgd2VhcG9uLmdlbmVyYXRpb24sIHdlYXBvbi5kbmEpOwogICAgfQoKICAgIGZ1bmN0aW9uIG15V2VhcG9ucygpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTZbXSkgewogICAgICAgIHVpbnQyNTZbXSBtZW1vcnkgd2VhcG9uc01lbW9yeSA9IG93bmVyVG9XZWFwb25zW21zZy5zZW5kZXJdOwogICAgICAgIHJldHVybiB3ZWFwb25zTWVtb3J5OwogICAgfQoKICAgIGZ1bmN0aW9uIGtpbGwoKSBwdWJsaWMgewogICAgICAgIGlmIChtc2cuc2VuZGVyID09IG93bmVyKSBzZWxmZGVzdHJ1Y3Qob3duZXIpOwogICAgfQp9'.
	

]
