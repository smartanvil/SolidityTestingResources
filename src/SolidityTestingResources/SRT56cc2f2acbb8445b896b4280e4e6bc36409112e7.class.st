Class {
	#name : #SRT56cc2f2acbb8445b896b4280e4e6bc36409112e7,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT56cc2f2acbb8445b896b4280e4e6bc36409112e7 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuODsKCmNvbnRyYWN0IEVSQzIwIHsKICAgIC8vIFN0YW5kYXJkIGludGVyZmFjZQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2IF90b3RhbFN1cHBseSk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYgYmFsYW5jZSk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyhib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyhib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnModWludCByZW1haW5pbmcpOwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsKfQoKY29udHJhY3QgU01TQ29pbiBpcyBFUkMyMCB7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiU3BlZWQgTWluaW5nIFNlcnZpY2UiOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiU01TIjsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMzsKCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBVTklUID0gMTAgKiogZGVjaW1hbHM7CgogICAgdWludCBwdWJsaWMgdG90YWxTdXBwbHkgPSAwOyAvLyAoaW5pdGlhbCB3aXRoIDApLCB0YXJnZXRlZCAyLjkgTWlsbGlvbiBTTVMKCiAgICB1aW50IHRva2VuU2FsZUxvdDEgPSAxNTAwMDAgKiBVTklUOwogICAgdWludCByZXNlcnZlZEJvbnVzTG90MSA9IDQ1MDAwICogVU5JVDsgLy8gNDUsMDAwIHRva2VucyBhcmUgdGhlIG1heGltdW0gcG9zc2libGUgYm9udXMgZnJvbSAzMCUgb2YgMTUwLDAwMCB0b2tlbnMgaW4gdGhlIGJvbnVzIHBoYXNlCiAgICB1aW50IHRva2VuU2FsZUxvdDIgPSA1MDAwMCAqIFVOSVQ7CiAgICB1aW50IHRva2VuU2FsZUxvdDMgPSA1MDAwMCAqIFVOSVQ7CgogICAgc3RydWN0IEJvbnVzU3RydWN0IHsKICAgICAgICB1aW50OCByYXRpbzE7CiAgICAgICAgdWludDggcmF0aW8yOwogICAgICAgIHVpbnQ4IHJhdGlvMzsKICAgICAgICB1aW50OCByYXRpbzQ7CiAgICB9CiAgICBCb251c1N0cnVjdCBib251c1JhdGlvOwoKICAgIHVpbnQgcHVibGljIHNhbGVDb3VudGVyID0gMDsKCiAgICB1aW50IHB1YmxpYyBsaW1pdGVkU2FsZSA9IDA7CgogICAgdWludCBwdWJsaWMgc2VudEJvbnVzID0gMDsKCiAgICB1aW50IHB1YmxpYyBzb2xkVG9rZW4gPSAwOwoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBiYWxhbmNlczsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpKSBhbGxvd2VkOwoKICAgIGFkZHJlc3NbXSBhZGRyZXNzZXM7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IGFkZHJlc3MpIHByaXZhdGUgdXNlclN0cnVjdHM7CgogICAgYWRkcmVzcyBvd25lcjsKCiAgICBhZGRyZXNzIG1pbnQgPSBhZGRyZXNzKHRoaXMpOyAgIC8vIENvbnRyYWN0IGFkZHJlc3MgYXMgYSBtaW50ZXIKICAgIAogICAgYWRkcmVzcyBnZW5lc2lzID0gMHgwOwoKICAgIC8vdWludDI1NiBwdWJsaWMgdG9rZW5QcmljZSA9IDAuMDAxIGV0aGVyOyAvLyBUZXN0CiAgICB1aW50MjU2IHB1YmxpYyB0b2tlblByaWNlID0gMC44IGV0aGVyOwoKICAgIGV2ZW50IExvZyh1aW50IGUpOwoKICAgIGV2ZW50IFRPS0VOKHN0cmluZyBlKTsKCiAgICBib29sIGljb09uUGF1c2VkID0gZmFsc2U7CgogICAgdWludDI1NiBzdGFydERhdGU7CgogICAgdWludDI1NiBlbmREYXRlOwoKICAgIHVpbnQgY3VycmVudFBoYXNlID0gMDsKCiAgICBib29sIG5lZWRUb0J1cm4gPSBmYWxzZTsKCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgfQogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gU01TQ29pbigpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIC8qKgogICAgICogRGl2aWRlIHdpdGggc2FmZXR5IGNoZWNrCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNhZmVEaXYodWludCBhLCB1aW50IGIpIHB1cmUgaW50ZXJuYWwgcmV0dXJucyh1aW50KSB7CiAgICAgICAgLy9vdmVyZmxvdyBjaGVjazsgYiBtdXN0IG5vdCBiZSAwCiAgICAgICAgYXNzZXJ0KGIgPiAwKTsKICAgICAgICB1aW50IGMgPSBhIC8gYjsKICAgICAgICBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICAvKioKICAgICAqIE11bHRpcGxpY2F0aW9uIHdpdGggc2FmZXR5IGNoZWNrCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNhZmVNdWwodWludCBhLCB1aW50IGIpIHB1cmUgaW50ZXJuYWwgcmV0dXJucyh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSAqIGI7CiAgICAgICAgLy9jaGVjayByZXN1bHQgc2hvdWxkIG5vdCBiZSBvdGhlciB3aXNlIHVudGlsIGE9MAogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgLyoqCiAgICAgKiBBZGQgd2l0aCBzYWZldHkgY2hlY2sKICAgICAqLwogICAgZnVuY3Rpb24gc2FmZUFkZCh1aW50IGEsIHVpbnQgYikgcHVyZSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgYXNzZXJ0IChhICsgYiA+PSBhKTsKICAgICAgICByZXR1cm4gYSArIGI7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0Qm9udXModWludDggcmF0aW8xLCB1aW50OCByYXRpbzIsIHVpbnQ4IHJhdGlvMywgdWludDggcmF0aW80KSBwcml2YXRlIHsKICAgICAgICBib251c1JhdGlvLnJhdGlvMSA9IHJhdGlvMTsKICAgICAgICBib251c1JhdGlvLnJhdGlvMiA9IHJhdGlvMjsKICAgICAgICBib251c1JhdGlvLnJhdGlvMyA9IHJhdGlvMzsKICAgICAgICBib251c1JhdGlvLnJhdGlvNCA9IHJhdGlvNDsKICAgIH0KCiAgICBmdW5jdGlvbiBjYWxjQm9udXModWludDI1NiBzZW5kaW5nU01TVG9rZW4pIHZpZXcgcHJpdmF0ZSByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IHNlbmRpbmdTTVNCb251czsKCiAgICAgICAgLy8gQ2FsY3VsYXRpbmcgYm9udXMKICAgICAgICBpZiAoc2VuZGluZ1NNU1Rva2VuIDwgKDEwICogVU5JVCkpIHsgICAgICAgICAgICAvLyAwLTkKICAgICAgICAgICAgc2VuZGluZ1NNU0JvbnVzID0gKHNlbmRpbmdTTVNUb2tlbiAqIGJvbnVzUmF0aW8ucmF0aW8xKSAvIDEwMDsKICAgICAgICB9IGVsc2UgaWYgKHNlbmRpbmdTTVNUb2tlbiA8ICg1MCAqIFVOSVQpKSB7ICAgICAvLyAxMC00OQogICAgICAgICAgICBzZW5kaW5nU01TQm9udXMgPSAoc2VuZGluZ1NNU1Rva2VuICogYm9udXNSYXRpby5yYXRpbzIpIC8gMTAwOwogICAgICAgIH0gZWxzZSBpZiAoc2VuZGluZ1NNU1Rva2VuIDwgKDEwMCAqIFVOSVQpKSB7ICAgIC8vIDUwLTk5CiAgICAgICAgICAgIHNlbmRpbmdTTVNCb251cyA9IChzZW5kaW5nU01TVG9rZW4gKiBib251c1JhdGlvLnJhdGlvMykgLyAxMDA7CiAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMTAwKwogICAgICAgICAgICBzZW5kaW5nU01TQm9udXMgPSAoc2VuZGluZ1NNU1Rva2VuICogYm9udXNSYXRpby5yYXRpbzQpIC8gMTAwOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHNlbmRpbmdTTVNCb251czsKICAgIH0KCiAgICAvLyBTZWxsaW5nIFNNUyB0b2tlbgogICAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewogICAgICAgIHVpbnQyNTYgcmVjZWl2ZWRFVEggPSAwOwogICAgICAgIHVpbnQyNTYgc2VuZGluZ1NNU1Rva2VuID0gMDsKICAgICAgICB1aW50MjU2IHNlbmRpbmdTTVNCb251cyA9IDA7CiAgICAgICAgTG9nKG1zZy52YWx1ZSk7CgogICAgICAgIC8vIE9ubHkgZm9yIHNlbGxpbmcgdG8gaW52ZXN0b3JzCiAgICAgICAgaWYgKCFpY29PblBhdXNlZCAmJiBtc2cuc2VuZGVyICE9IG93bmVyKSB7CiAgICAgICAgICAgIGlmIChub3cgPD0gZW5kRGF0ZSkgewogICAgICAgICAgICAgICAgLy8gQWxsIHRoZSBwaGFzZXMKICAgICAgICAgICAgICAgIExvZyhjdXJyZW50UGhhc2UpOwoKICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0aW5nIFNNUwogICAgICAgICAgICAgICAgcmVjZWl2ZWRFVEggPSAobXNnLnZhbHVlICogVU5JVCk7CiAgICAgICAgICAgICAgICBzZW5kaW5nU01TVG9rZW4gPSBzYWZlRGl2KHJlY2VpdmVkRVRILCB0b2tlblByaWNlKTsKICAgICAgICAgICAgICAgIExvZyhzZW5kaW5nU01TVG9rZW4pOwoKICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0aW5nIEJvbnVzCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBoYXNlID09IDEgfHwgY3VycmVudFBoYXNlID09IDIgfHwgY3VycmVudFBoYXNlID09IDMpIHsKICAgICAgICAgICAgICAgICAgICAvLyBQaGFzZSAxLTMgd2l0aCBCb251cyAxCiAgICAgICAgICAgICAgICAgICAgc2VuZGluZ1NNU0JvbnVzID0gY2FsY0JvbnVzKHNlbmRpbmdTTVNUb2tlbik7CiAgICAgICAgICAgICAgICAgICAgTG9nKHNlbmRpbmdTTVNCb251cyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gR2l2aW5nIFNNUyArIEJvbnVzIChpZiBhbnkpCiAgICAgICAgICAgICAgICBMb2coc2VuZGluZ1NNU1Rva2VuKTsKICAgICAgICAgICAgICAgIGlmICghdHJhbnNmZXJUb2tlbnMobXNnLnNlbmRlciwgc2VuZGluZ1NNU1Rva2VuLCBzZW5kaW5nU01TQm9udXMpKQogICAgICAgICAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgfQogICAgfQoKICAgIC8vID09PT09PT09IEJvbnVzIFBlcmlvZCAxID09PT09PT09CiAgICAvLyAtLS0gQm9udXMgLS0tCiAgICAvLyAwLTkgU01TIC0+IDUlCiAgICAvLyAxMC00OSBTTVMgLT4gMTAlCiAgICAvLyA1MC05OSBTTVMgLT4gMjAlCiAgICAvLyAxMDB+IFNNUyAtPiAzMCUKICAgIC8vIC0tLSBUaW1lIC0tLSAoMiBkYXlzIDkgaG91cnMgNTkgbWludXRlcyA1OSBzZWNvbmRzICkKICAgIC8vIEZyb20gMjcgT2N0IDIwMTcsIDE0OjAwIFBNIEpTVCAoMjcgT2N0IDIwMTcsIDU6MDAgQU0gR01UKQogICAgLy8gVG8gICAyOSBPY3QgMjAxNywgMjM6NTkgUE0gSlNUICgyOSBPY3QgMjAxNywgMTQ6NTkgUE0gR01UKQogICAgZnVuY3Rpb24gc3RhcnQxQm9udXNQZXJpb2QxKCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICAvLyBTdXBwbHkgc2V0dGluZyAob25seSBvbmNlKQogICAgICAgIGlmIChjdXJyZW50UGhhc2UgPT0gMCkgewogICAgICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSB0b2tlblNhbGVMb3QxOyAvLyBTdGFydCBiYWxhbmNlIGZvciBTcGVlZE1pbmluZyBDby4sIEx0ZC4KICAgICAgICAgICAgYmFsYW5jZXNbYWRkcmVzcyh0aGlzKV0gPSB0b2tlblNhbGVMb3QxOyAgLy8gU3RhcnQgYmFsYW5jZSBmb3IgU01TQ29pbiAoZm9yIGludmVzdG9ycykKICAgICAgICAgICAgdG90YWxTdXBwbHkgPSBiYWxhbmNlc1tvd25lcl0gKyBiYWxhbmNlc1thZGRyZXNzKHRoaXMpXTsKICAgICAgICAgICAgc2FsZUNvdW50ZXIgPSAwOwogICAgICAgICAgICBsaW1pdGVkU2FsZSA9IHRva2VuU2FsZUxvdDE7CgogICAgICAgICAgICAvLyBBZGQgb3duZXIgYWRkcmVzcyBpbnRvIHRoZSBsaXN0IGFzIHRoZSBmaXJzdCB3YWxsZXQgd2hvIG93biB0b2tlbihzKQogICAgICAgICAgICBhZGRBZGRyZXNzKG93bmVyKTsKCiAgICAgICAgICAgIC8vIFNlbmQgb3duZXIgYWNjb3VudCB0aGUgaW5pdGlhbCB0b2tlbnMgKHJhdGhlciB0aGFuIG9ubHkgYSBjb250cmFjdCBhZGRyZXNzKQogICAgICAgICAgICBUcmFuc2ZlcihhZGRyZXNzKHRoaXMpLCBvd25lciwgYmFsYW5jZXNbb3duZXJdKTsKCiAgICAgICAgICAgIC8vIFNldCBidXJuaW5nIGlzIG5lZWRlZAogICAgICAgICAgICBuZWVkVG9CdXJuID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIC8vIElDTyBzdGFnZSBpbml0CiAgICAgICAgaWNvT25QYXVzZWQgPSBmYWxzZTsKICAgICAgICBjdXJyZW50UGhhc2UgPSAxOwogICAgICAgIHN0YXJ0RGF0ZSA9IGJsb2NrLnRpbWVzdGFtcDsKICAgICAgICBlbmREYXRlID0gc3RhcnREYXRlICsgMiBkYXlzICsgOSBob3VycyArIDU5IG1pbnV0ZXMgKyA1OSBzZWNvbmRzOwoKICAgICAgICAvLyBCb251cyBzZXR0aW5nIAogICAgICAgIHNldEJvbnVzKDUsIDEwLCAyMCwgMzApOwogICAgfQoKICAgIC8vID09PT09PT09IEJvbnVzIFBlcmlvZCAyID09PT09PT09CiAgICAvLyAtLS0gQm9udXMgLS0tCiAgICAvLyAwLTkgU01TIC0+IDMlCiAgICAvLyAxMC00OSBTTVMgLT4gNSUKICAgIC8vIDUwLTk5IFNNUyAtPiAxMCUKICAgIC8vIDEwMH4gU01TIC0+IDE1JQogICAgLy8gLS0tIFRpbWUgLS0tICgxMSBkYXlzIDkgaG91cnMgNTkgbWludXRlcyA1OSBzZWNvbmRzKQogICAgLy8gRnJvbSAzMCBPY3QgMjAxNywgMTQ6MDAgUE0gSlNUICgzMCBPY3QgMjAxNywgNTowMCBBTSBHTVQpCiAgICAvLyBUbyAgIDEwIE5vdiAyMDE3LCAyMzo1OSBQTSBKU1QgKDEwIE5vdiAyMDE3LCAxNDo1OSBQTSBHTVQpCiAgICBmdW5jdGlvbiBzdGFydDJCb251c1BlcmlvZDIoKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIC8vIElDTyBzdGFnZSBpbml0CiAgICAgICAgaWNvT25QYXVzZWQgPSBmYWxzZTsKICAgICAgICBjdXJyZW50UGhhc2UgPSAyOwogICAgICAgIHN0YXJ0RGF0ZSA9IGJsb2NrLnRpbWVzdGFtcDsKICAgICAgICBlbmREYXRlID0gc3RhcnREYXRlICsgMTEgZGF5cyArIDkgaG91cnMgKyA1OSBtaW51dGVzICsgNTkgc2Vjb25kczsKCiAgICAgICAgLy8gQm9udXMgc2V0dGluZyAKICAgICAgICBzZXRCb251cygzLCA1LCAxMCwgMTUpOwogICAgfQoKICAgIC8vID09PT09PT09IEJvbnVzIFBlcmlvZCAzID09PT09PT09CiAgICAvLyAtLS0gQm9udXMgLS0tCiAgICAvLyAwLTkgU01TIC0+IDElCiAgICAvLyAxMC00OSBTTVMgLT4gMyUKICAgIC8vIDUwLTk5IFNNUyAtPiA1JQogICAgLy8gMTAwfiBTTVMgLT4gOCUKICAgIC8vIC0tLSBUaW1lIC0tLSAoNTEgZGF5cykKICAgIC8vIEZyb20gMTEgTm92IDIwMTcsIDAwOjAwIEFNIEpTVCAoMTAgTm92IDIwMTcsIDE1OjAwIFBNIEdNVCkKICAgIC8vIFRvICAgMzEgRGVjIDIwMTcsIDIzOjU5IFBNIEpTVCAoMzEgRGVjIDIwMTcsIDE0OjU5IFBNIEdNVCkKICAgIGZ1bmN0aW9uIHN0YXJ0M0JvbnVzUGVyaW9kMygpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgLy8gSUNPIHN0YWdlIGluaXQKICAgICAgICBpY29PblBhdXNlZCA9IGZhbHNlOwogICAgICAgIGN1cnJlbnRQaGFzZSA9IDM7CiAgICAgICAgc3RhcnREYXRlID0gYmxvY2sudGltZXN0YW1wOwogICAgICAgIGVuZERhdGUgPSBzdGFydERhdGUgKyA1MSBkYXlzOwoKICAgICAgICAvLyBCb251cyBzZXR0aW5nIAogICAgICAgIHNldEJvbnVzKDEsIDMsIDUsIDgpOwogICAgfQoKICAgIC8vID09PT09PT09IE5vcm1hbCBQZXJpb2QgMSAoMjAxOCkgPT09PT09PT0KICAgIC8vIC0tLSBUaW1lIC0tLSAoMzEgZGF5cykKICAgIC8vIEZyb20gMSBKYW4gMjAxOCwgMDA6MDAgQU0gSlNUICgzMSBEZWMgMjAxNywgMTU6MDAgUE0gR01UKQogICAgLy8gVG8gICAzMSBKYW4gMjAxOCwgMjM6NTkgUE0gSlNUICgzMSBKYW4gMjAxOCwgMTQ6NTkgUE0gR01UKQogICAgZnVuY3Rpb24gc3RhcnQ0Tm9ybWFsUGVyaW9kKCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICAvLyBJQ08gc3RhZ2UgaW5pdAogICAgICAgIGljb09uUGF1c2VkID0gZmFsc2U7CiAgICAgICAgY3VycmVudFBoYXNlID0gNDsKICAgICAgICBzdGFydERhdGUgPSBibG9jay50aW1lc3RhbXA7CiAgICAgICAgZW5kRGF0ZSA9IHN0YXJ0RGF0ZSArIDMxIGRheXM7CgogICAgICAgIC8vIFJlc2V0IGJvbnVzCiAgICAgICAgc2V0Qm9udXMoMCwgMCwgMCwgMCk7CiAgICB9CgogICAgLy8gPT09PT09PT0gTm9ybWFsIFBlcmlvZCAyICgyMDIwKSA9PT09PT09PQogICAgLy8gLS0tIEJvbnVzIC0tLQogICAgLy8gM1gKICAgIC8vIC0tLSBUaW1lIC0tLSAoNyBkYXlzKQogICAgLy8gRnJvbSAyIEphbiAyMDIwLCAwMDowMCBBTSBKU1QgKDEgSmFuIDIwMjAsIDE1OjAwIFBNIEdNVCkKICAgIC8vIFRvICAgOCBKYW4gMjAyMCwgMjM6NTkgUE0gSlNUICg4IE9jdCAyMDIwLCAxNDo1OSBQTSBHTVQpCiAgICBmdW5jdGlvbiBzdGFydDVQaGFzZTIwMjAoKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIC8vIFN1cHBseSBzZXR0aW5nIChvbmx5IGFmdGVyIHBoYXNlIDQpCiAgICAgICAgaWYgKGN1cnJlbnRQaGFzZSA9PSA0KSB7CiAgICAgICAgICAgIC8vIEJ1cm4gU01TIGlmIGl0IHdhcyBub3QgZG9uZSB5ZXQKICAgICAgICAgICAgaWYgKG5lZWRUb0J1cm4pCiAgICAgICAgICAgICAgICBidXJuU01TUHJvY2VzcygpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIGJhbGFuY2VzW2FkZHJlc3ModGhpcyldID0gdG9rZW5TYWxlTG90MjsKICAgICAgICAgICAgdG90YWxTdXBwbHkgPSAzICogdG90YWxTdXBwbHk7CiAgICAgICAgICAgIHRvdGFsU3VwcGx5ICs9IGJhbGFuY2VzW2FkZHJlc3ModGhpcyldOwogICAgICAgICAgICBzYWxlQ291bnRlciA9IDA7CiAgICAgICAgICAgIGxpbWl0ZWRTYWxlID0gdG9rZW5TYWxlTG90MjsKCiAgICAgICAgICAgIC8vIEJvbnVzCiAgICAgICAgICAgIHgzVG9rZW4oKTsgLy8gM1ggZGlzdHJpYnV0aW9ucyB0byB0b2tlbiBob2xkZXJzCgogICAgICAgICAgICAvLyBNaW50IG5ldyB0b2tlbnMgZm9yIDIwMjAKICAgICAgICAgICAgVHJhbnNmZXIobWludCwgYWRkcmVzcyh0aGlzKSwgYmFsYW5jZXNbYWRkcmVzcyh0aGlzKV0pOwoKICAgICAgICAgICAgLy8gU2V0IGJ1cm5pbmcgaXMgbmVlZGVkCiAgICAgICAgICAgIG5lZWRUb0J1cm4gPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgLy8gSUNPIHN0YWdlIGluaXQKICAgICAgICBpY29PblBhdXNlZCA9IGZhbHNlOwogICAgICAgIGN1cnJlbnRQaGFzZSA9IDU7CiAgICAgICAgc3RhcnREYXRlID0gYmxvY2sudGltZXN0YW1wOwogICAgICAgIGVuZERhdGUgPSBzdGFydERhdGUgKyA3IGRheXM7CiAgICB9CgogICAgLy8gPT09PT09PT0gTm9ybWFsIFBlcmlvZCAzICgyMDI1KSA9PT09PT09PQogICAgLy8gLS0tIEJvbnVzIC0tLQogICAgLy8gM1gKICAgIC8vIC0tLSBUaW1lIC0tLSAoNyBkYXlzKQogICAgLy8gRnJvbSAyIEphbiAyMDI1LCAwMDowMCBBTSBKU1QgKDEgSmFuIDIwMjUsIDE1OjAwIFBNIEdNVCkKICAgIC8vIFRvICAgOCBKYW4gMjAyNSwgMjM6NTkgUE0gSlNUICg4IE9jdCAyMDI1LCAxNDo1OSBQTSBHTVQpCiAgICBmdW5jdGlvbiBzdGFydDZQaGFzZTIwMjUoKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIC8vIFN1cHBseSBzZXR0aW5nIChvbmx5IGFmdGVyIHBoYXNlIDUpCiAgICAgICAgaWYgKGN1cnJlbnRQaGFzZSA9PSA1KSB7CiAgICAgICAgICAgIC8vIEJ1cm4gU01TIGlmIGl0IHdhcyBub3QgZG9uZSB5ZXQKICAgICAgICAgICAgaWYgKG5lZWRUb0J1cm4pCiAgICAgICAgICAgICAgICBidXJuU01TUHJvY2VzcygpOwoKICAgICAgICAgICAgYmFsYW5jZXNbYWRkcmVzcyh0aGlzKV0gPSB0b2tlblNhbGVMb3QzOwogICAgICAgICAgICB0b3RhbFN1cHBseSA9IDMgKiB0b3RhbFN1cHBseTsKICAgICAgICAgICAgdG90YWxTdXBwbHkgKz0gYmFsYW5jZXNbYWRkcmVzcyh0aGlzKV07CiAgICAgICAgICAgIHNhbGVDb3VudGVyID0gMDsKICAgICAgICAgICAgbGltaXRlZFNhbGUgPSB0b2tlblNhbGVMb3QzOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQm9udXMKICAgICAgICAgICAgeDNUb2tlbigpOyAvLyAzWCBkaXN0cmlidXRpb25zIHRvIHRva2VuIGhvbGRlcnMKCiAgICAgICAgICAgIC8vIE1pbnQgbmV3IHRva2VucyBmb3IgMjAyNQogICAgICAgICAgICBUcmFuc2ZlcihtaW50LCBhZGRyZXNzKHRoaXMpLCBiYWxhbmNlc1thZGRyZXNzKHRoaXMpXSk7CgogICAgICAgICAgICAvLyBTZXQgYnVybmluZyBpcyBuZWVkZWQKICAgICAgICAgICAgbmVlZFRvQnVybiA9IHRydWU7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIElDTyBzdGFnZSBpbml0CiAgICAgICAgaWNvT25QYXVzZWQgPSBmYWxzZTsKICAgICAgICBjdXJyZW50UGhhc2UgPSA2OwogICAgICAgIHN0YXJ0RGF0ZSA9IGJsb2NrLnRpbWVzdGFtcDsKICAgICAgICBlbmREYXRlID0gc3RhcnREYXRlICsgNyBkYXlzOwogICAgfQoKICAgIGZ1bmN0aW9uIHgzVG9rZW4oKSBwcml2YXRlIHsKICAgICAgICAvLyBNdWx0aXBseSB0b2tlbiBieSAzIHRvIGFsbCB0aGUgY3VycmVudCBhZGRyZXNzZXMKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBhZGRyZXNzZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdWludCBjdXJyMVhCYWxhbmNlID0gYmFsYW5jZXNbYWRkcmVzc2VzW2ldXTsKICAgICAgICAgICAgLy8gSW4gdG90YWwgM1gsIHRoZW4gYWxzbyBjYWxjdWxhdGUgdmFsdWUgdG8gYmFsYW5jZXMKICAgICAgICAgICAgYmFsYW5jZXNbYWRkcmVzc2VzW2ldXSA9IDMgKiBjdXJyMVhCYWxhbmNlOwogICAgICAgICAgICAvLyBUcmFuc2ZlciAyWCBmcm9tIE1pbnQgdG8gYWRkIHdpdGggdGhlIGV4aXN0aW5nIDFYCiAgICAgICAgICAgIFRyYW5zZmVyKG1pbnQsIGFkZHJlc3Nlc1tpXSwgMiAqIGN1cnIxWEJhbGFuY2UpOwogICAgICAgICAgICAvLyBUbyBrZWVwIHRyYWNraW5nIGJvbnVzIGRpc3RyaWJ1dGlvbgogICAgICAgICAgICBzZW50Qm9udXMgKz0gKDIgKiBjdXJyMVhCYWxhbmNlKTsKICAgICAgICB9CiAgICB9CgogICAgLy8gQ2FsbGVkIGJ5IHRoZSBvd25lciwgdG8gZW1lcmdlbmN5IHBhdXNlIHRoZSBjdXJyZW50IHBoYXNlCiAgICBmdW5jdGlvbiBwYXVzZVBoYXNlKCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICBpY29PblBhdXNlZCA9IHRydWU7CiAgICB9CgogICAgLy8gQ2FsbGVkIGJ5IHRoZSBvd25lciwgdG8gcmVzdW1lcyB0aGUgcGF1c2VkIHBoYXNlCiAgICBmdW5jdGlvbiByZXN1bWVQaGFzZSgpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgaWNvT25QYXVzZWQgPSBmYWxzZTsKICAgIH0KCiAgICAvLyBTdGFuZGFyZCBpbnRlcmZhY2UKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnModWludDI1NiBfdG90YWxTdXBwbHkpIHsKICAgICAgICByZXR1cm4gdG90YWxTdXBwbHk7CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgc2VuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbc2VuZGVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBzb2xkVG9rZW4oKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2IF9zb2xkVG9rZW4pIHsKICAgICAgICByZXR1cm4gc29sZFRva2VuOwogICAgfQoKICAgIGZ1bmN0aW9uIHNlbnRCb251cygpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYgX3NlbnRCb251cykgewogICAgICAgIHJldHVybiBzZW50Qm9udXM7CiAgICB9CgogICAgZnVuY3Rpb24gc2FsZUNvdW50ZXIoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2IF9zYWxlQ291bnRlcikgewogICAgICAgIHJldHVybiBzYWxlQ291bnRlcjsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfYW1vdW50ICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF9hbW91bnQgJiYgX2Ftb3VudCA+IDAgJiYgYmFsYW5jZXNbX3RvXSArIF9hbW91bnQgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF9hbW91bnQ7CiAgICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF9hbW91bnQ7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX2Ftb3VudDsKICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLy8gUHJpY2Ugc2hvdWxkIGJlIGVudGVyZWQgaW4gbXVsdGlwbGUgb2YgMTAwMDAncwogICAgLy8gRS5nLiBmb3IgLjAwMDEgZXRoZXIgZW50ZXIgMSwgZm9yIDUgZXRoZXIgcHJpY2UgZW50ZXIgNTAwMDAgCiAgICBmdW5jdGlvbiBzZXRUb2tlblByaWNlKHVpbnQgZXRoUmF0ZSkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICB0b2tlblByaWNlID0gKGV0aFJhdGUgKiAxMCAqKiAxOCkgLyAxMDAwMDsgLy8gKENvbnZlcnQgdG8gZXRoZXIgdW5pdCB0aGVuIG1ha2UgNCBkZWNpbWFscykKICAgIH0KCiAgICAvLyBBbGxvdyBfc3BlbmRlciB0byB3aXRoZHJhdyBmcm9tIHlvdXIgYWNjb3VudCwgbXVsdGlwbGUgdGltZXMsIHVwIHRvIHRoZSBfdmFsdWUgYW1vdW50LgogICAgLy8gSWYgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYWdhaW4gaXQgb3ZlcndyaXRlcyB0aGUgY3VycmVudCBhbGxvd2FuY2Ugd2l0aCBfdmFsdWUuCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfYW1vdW50OwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgLy8gVHJhbnNmZXIgdGhlIGJhbGFuY2UgZnJvbSBjYWxsZXIncyB3YWxsZXQgYWRkcmVzcyB0byBpbnZlc3RvcidzIHdhbGxldCBhZGRyZXNzCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyhib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCAmJiBfYW1vdW50ID4gMCAmJiBiYWxhbmNlc1tfdG9dICsgX2Ftb3VudCA+IGJhbGFuY2VzW190b10pIHsKCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF9hbW91bnQ7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX2Ftb3VudDsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfYW1vdW50KTsKCiAgICAgICAgICAgIC8vIEFkZCBkZXN0aW5hdGlvbiB3YWxsZXQgYWRkcmVzcyB0byB0aGUgbGlzdAogICAgICAgICAgICBhZGRBZGRyZXNzKF90byk7CgogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIC8vIFRyYW5zZmVyIHRoZSBiYWxhbmNlIGZyb20gU01TJ3MgY29udHJhY3QgYWRkcmVzcyB0byBhbiBpbnZlc3RvcidzIHdhbGxldCBhY2NvdW50CiAgICBmdW5jdGlvbiB0cmFuc2ZlclRva2VucyhhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50LCB1aW50MjU2IF9ib251cykgcHJpdmF0ZSByZXR1cm5zKGJvb2wgc3VjY2VzcykgewogICAgICAgIGlmIChfYW1vdW50ID4gMCAmJiBiYWxhbmNlc1thZGRyZXNzKHRoaXMpXSA+PSBfYW1vdW50ICYmIGJhbGFuY2VzW2FkZHJlc3ModGhpcyldIC0gX2Ftb3VudCA+PSAwICYmIHNvbGRUb2tlbiArIF9hbW91bnQgPiBzb2xkVG9rZW4gJiYgc2FsZUNvdW50ZXIgKyBfYW1vdW50IDw9IGxpbWl0ZWRTYWxlICYmIGJhbGFuY2VzW190b10gKyBfYW1vdW50ID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgICAgICAKICAgICAgICAgICAgLy8gVHJhbnNmZXIgdG9rZW4gZnJvbSBjb250cmFjdCB0byB0YXJnZXQKICAgICAgICAgICAgYmFsYW5jZXNbYWRkcmVzcyh0aGlzKV0gLT0gX2Ftb3VudDsKICAgICAgICAgICAgc29sZFRva2VuICs9IF9hbW91bnQ7CiAgICAgICAgICAgIHNhbGVDb3VudGVyICs9IF9hbW91bnQ7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX2Ftb3VudDsKICAgICAgICAgICAgVHJhbnNmZXIoYWRkcmVzcyh0aGlzKSwgX3RvLCBfYW1vdW50KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFRyYW5zZmVyIGJvbnVzIHRva2VuIGZyb20gb3duZXIgdG8gdGFyZ2V0CiAgICAgICAgICAgIGlmIChjdXJyZW50UGhhc2UgPD0gMyAmJiBfYm9udXMgPiAwICYmIGJhbGFuY2VzW293bmVyXSAtIF9ib251cyA+PSAwICYmIHNlbnRCb251cyArIF9ib251cyA+IHNlbnRCb251cyAmJiBzZW50Qm9udXMgKyBfYm9udXMgPD0gcmVzZXJ2ZWRCb251c0xvdDEgJiYgYmFsYW5jZXNbX3RvXSArIF9ib251cyA+IGJhbGFuY2VzW190b10pIHsKCiAgICAgICAgICAgICAgICAvLyBUcmFuc2ZlciB3aXRoIGJvbnVzCiAgICAgICAgICAgICAgICBiYWxhbmNlc1tvd25lcl0gLT0gX2JvbnVzOwogICAgICAgICAgICAgICAgc2VudEJvbnVzICs9IF9ib251czsKICAgICAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX2JvbnVzOwogICAgICAgICAgICAgICAgVHJhbnNmZXIob3duZXIsIF90bywgX2JvbnVzKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gQWRkIGludmVzdG9yIHdhbGxldCBhZGRyZXNzIHRvIHRoZSBsaXN0CiAgICAgICAgICAgIGFkZEFkZHJlc3MoX3RvKTsKCiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLy8gQWRkIHdhbGxldCBhZGRyZXNzIHdpdGggZXhpc3RpbmcgY2hlY2sKICAgIGZ1bmN0aW9uIGFkZEFkZHJlc3MoYWRkcmVzcyBfdG8pIHByaXZhdGUgewogICAgICAgIGlmIChhZGRyZXNzZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBpZiAodXNlclN0cnVjdHNbX3RvXSAhPSBfdG8pIHsKICAgICAgICAgICAgICAgIHVzZXJTdHJ1Y3RzW190b10gPSBfdG87CiAgICAgICAgICAgICAgICBhZGRyZXNzZXMucHVzaChfdG8pOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdXNlclN0cnVjdHNbX3RvXSA9IF90bzsKICAgICAgICAgICAgYWRkcmVzc2VzLnB1c2goX3RvKTsKICAgICAgICB9CiAgICB9CgogICAgLy8gRHJhaW4gYWxsIHRoZSBhdmFpbGFibGUgRVRIIGZyb20gdGhlIGNvbnRyYWN0IGJhY2sgdG8gb3duZXIncyB3YWxsZXQKICAgIGZ1bmN0aW9uIGRyYWluRVRIKCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICBvd25lci50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgfQoKICAgIC8vIEJ1cm4gYWxsIHRoZSBhdmFpbGFibGUgU01TIGZyb20gdGhlIGNvbnRyYWN0IGFuZCBmcm9tIG93bmVyIHRvIG1ha2UgaXQgZXF1YWwgdG8gaW52ZXN0b3JzCiAgICAvLyBUaGlzIHdpbGwgYnVybiBvbmx5IHRoZSBhdmFpbGFibGUgdG9rZW4gdXAgdG8gdGhlIGN1cnJlbnQgcGhhc2UKICAgIC8vIEEgYnVybmluZyBmdW5jdGlvbiAKICAgIGZ1bmN0aW9uIGJ1cm5TTVNQcm9jZXNzKCkgcHJpdmF0ZSB7CiAgICAgICAgLy8gQWxsb3cgdG8gYnVybiBsZWZ0IFNNUyBvbmx5IG9uIHBoYXNlIDQsIDUsIDYKICAgICAgICBpZiAoY3VycmVudFBoYXNlID49IDQpIHsKICAgICAgICAgICAgLy8gQnVybiBhbGwgYXZhaWxhYmxlIHRva2VucwogICAgICAgICAgICAvLyBGcm9tIFNNUyBjb250cmFjdAogICAgICAgICAgICBpZiAoYmFsYW5jZXNbYWRkcmVzcyh0aGlzKV0gPiAwKSB7CiAgICAgICAgICAgICAgICB1aW50IHRvQmVCdXJuZWRGcm9tQ29udHJhY3QgPSBiYWxhbmNlc1thZGRyZXNzKHRoaXMpXTsKICAgICAgICAgICAgICAgIFRyYW5zZmVyKGFkZHJlc3ModGhpcyksIGdlbmVzaXMsIHRvQmVCdXJuZWRGcm9tQ29udHJhY3QpOwogICAgICAgICAgICAgICAgYmFsYW5jZXNbYWRkcmVzcyh0aGlzKV0gPSAwOwogICAgICAgICAgICAgICAgdG90YWxTdXBwbHkgLT0gdG9CZUJ1cm5lZEZyb21Db250cmFjdDsKCiAgICAgICAgICAgICAgICAvLyBCdXJuIGZyb20gb3duZXIgd2FsbGV0IG9ubHkgaW4gcGhhc2UgNAogICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQaGFzZSA9PSA0KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGJhbGFuY2VzW293bmVyXSA+IHNvbGRUb2tlbikgewogICAgICAgICAgICAgICAgICAgICAgICB1aW50IHRvQmVCdXJuZWRGcm9tT3duZXIgPSBiYWxhbmNlc1tvd25lcl0gLSBzb2xkVG9rZW47CiAgICAgICAgICAgICAgICAgICAgICAgIFRyYW5zZmVyKG93bmVyLCBnZW5lc2lzLCB0b0JlQnVybmVkRnJvbU93bmVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gYmFsYW5jZXNbb3duZXJdIC0gdG9CZUJ1cm5lZEZyb21Pd25lcjsKICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxTdXBwbHkgLT0gdG9CZUJ1cm5lZEZyb21Pd25lcjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gQ2xlYXIgYnVybmluZyBzdGF0dXMKICAgICAgICAgICAgICAgIG5lZWRUb0J1cm4gPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvLyBGdW5jdGlvbiB1c2VkIGluIFJld2FyZCBjb250cmFjdCB0byBrbm93IGFkZHJlc3Mgb2YgdG9rZW4gaG9sZGVyCiAgICBmdW5jdGlvbiBnZXRBZGRyZXNzKHVpbnQgaSkgcHVibGljIGNvbnN0YW50IHJldHVybnMoYWRkcmVzcykgewogICAgICAgIHJldHVybiBhZGRyZXNzZXNbaV07CiAgICB9CgogICAgLy8gRnVuY3Rpb24gdXNlZCBpbiBSZXdhcmQgY29udHJhY3QgdG8gZ2V0IHRvIGtub3cgdGhlIGFkZHJlc3MgYXJyYXkgbGVuZ3RoCiAgICBmdW5jdGlvbiBnZXRBZGRyZXNzU2l6ZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQpIHsKICAgICAgICByZXR1cm4gYWRkcmVzc2VzLmxlbmd0aDsKCiAgICB9Cn0='.
	

]
