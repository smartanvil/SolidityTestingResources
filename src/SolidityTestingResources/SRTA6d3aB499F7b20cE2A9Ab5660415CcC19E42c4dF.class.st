Class {
	#name : #SRTA6d3aB499F7b20cE2A9Ab5660415CcC19E42c4dF,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTA6d3aB499F7b20cE2A9Ab5660415CcC19E42c4dF >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTQ7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbCAKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4gCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIC8qKiAKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiByZXZlcnQoKXMgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLiAKICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgewogICAgICByZXZlcnQoKTsKICAgIH0KICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLiAKICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9Cgp9CgoKCi8qKgogKiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICAKICAKICBmdW5jdGlvbiBtdWwyNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXF1aXJlKGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSByZXZlcnQoKXMgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1YjI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgcmVxdWlyZShiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfSAgCiAgCgogIGZ1bmN0aW9uIG1heDY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW42NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtYXgyNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQp9CgoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKCgoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBFUkMyMCBpbnRlcmZhY2Ugd2l0aCBhbGxvd2FuY2VzLiAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKCgoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLiAKICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgICogQGRldiBGaXggZm9yIHRoZSBFUkMyMCBzaG9ydCBhZGRyZXNzIGF0dGFjay4KICAgKi8KICBtb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludCBzaXplKSB7CiAgICAgaWYobXNnLmRhdGEubGVuZ3RoIDwgc2l6ZSArIDQpIHsKICAgICAgIHJldmVydCgpOwogICAgIH0KICAgICBfOwogIH0KCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YjI1NihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkMjU2KF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4gCiAgKiBAcmV0dXJuIEFuIHVpbnQgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCgoKCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICogQGRldiBJbXBsZW1hbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcnQgdG9rZW4uCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEJhc2ljVG9rZW4sIEVSQzIwIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludCB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMyAqIDMyKSB7CiAgICB2YXIgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgcmV2ZXJ0KCkgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldAogICAgLy8gaWYgKF92YWx1ZSA+IF9hbGxvd2FuY2UpIHJldmVydCgpOwoKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZDI1NihfdmFsdWUpOwogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YjI1NihfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YjI1NihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICB9CgogIC8qKgogICAqIEBkZXYgQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgewoKICAgIC8vICBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIGlmICgoX3ZhbHVlICE9IDApICYmIChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSAhPSAwKSkgcmV2ZXJ0KCk7CgogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhbiBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCgp9CgoKCi8qKgogKiBAdGl0bGUgVGV1VG9rZW4KICogQGRldiBUaGUgbWFpbiBURVUgdG9rZW4gY29udHJhY3QKICogCiAqLwogCmNvbnRyYWN0IFRldVRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIE93bmFibGV7CiAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIjIwLWZvb3RFcXZVbml0IjsKICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJURVUiOwogIHVpbnQgcHVibGljIGRlY2ltYWxzID0gMTg7CgogIGV2ZW50IFRva2VuQnVybmVkKHVpbnQyNTYgdmFsdWUpOwogIAogIGZ1bmN0aW9uIFRldVRva2VuKCkgewogICAgdG90YWxTdXBwbHkgPSAoMTAgKiogOCkgKiAoMTAgKiogZGVjaW1hbHMpOwogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSB0b3RhbFN1cHBseTsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBvd25lciB0byBidXJuIHRoZSB0b2tlbgogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0byBiZSBidXJuZWQuCiAgICovCiAgZnVuY3Rpb24gYnVybih1aW50IF92YWx1ZSkgb25seU93bmVyIHsKICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKTsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViMjU2KF92YWx1ZSk7CiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YjI1NihfdmFsdWUpOwogICAgVG9rZW5CdXJuZWQoX3ZhbHVlKTsKICB9Cgp9CgovKioKICogQHRpdGxlIHRldVRva2VuUHJlU2FsZQogKiBAZGV2IFRoZSBURVUgdG9rZW4gUHJlc2FsZSBjb250cmFjdAogKiAKICovCmNvbnRyYWN0IHRldVRva2VuUHJlU2FsZSBpcyBPd25hYmxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICBldmVudCBMb2dQZXJpb2RTdGFydCh1aW50IHBlcmlvZCk7CiAgZXZlbnQgTG9nQ29sbGVjdGlvblN0YXJ0KHVpbnQgcGVyaW9kKTsKICBldmVudCBMb2dDb250cmlidXRpb24oYWRkcmVzcyBpbmRleGVkIGNvbnRyaWJ1dG9yQWRkcmVzcywgdWludDI1NiB3ZWlBbW91bnQsIHVpbnQgcGVyaW9kKTsKICBldmVudCBMb2dDb2xsZWN0KGFkZHJlc3MgaW5kZXhlZCBjb250cmlidXRvckFkZHJlc3MsIHVpbnQyNTYgdG9rZW5BbW91bnQsIHVpbnQgcGVyaW9kKTsgCgogIHVpbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpdmF0ZSAgcGVyaW9kMV9jb250cmlidXRpb25JbnRlcnZhbDsKICBUZXVUb2tlbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaXZhdGUgIHRva2VuOyAKICBtYXBwaW5nKHVpbnQgPT4gYWRkcmVzcykgICAgICAgICAgICAgICAgICAgICAgIHByaXZhdGUgIHdhbGxldE9mUGVyaW9kOwogIHVpbnQyNTYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpdmF0ZSAgbWluQ29udHJpYnV0aW9uOwogIHVpbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpdmF0ZSAgc2FsZVN0YXJ0OwogIGJvb2wgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpdmF0ZSAgaXNUb2tlbkNvbGxlY3RhYmxlID0gZmFsc2U7CiAgbWFwcGluZyh1aW50ID0+IHVpbnQpICAgICAgICAgICAgICAgICAgICAgICAgICBwcml2YXRlICBwZXJpb2RTdGFydDsKICBtYXBwaW5nKHVpbnQgPT4gdWludCkgICAgICAgICAgICAgICAgICAgICAgICAgIHByaXZhdGUgIHBlcmlvZERlYWRsaW5lOwogIG1hcHBpbmcodWludCA9PiB1aW50MjU2KSAgICAgICAgICAgICAgICAgICAgICAgcHJpdmF0ZSAgcGVyaW9kVG9rZW5Qb29sOwoKICBtYXBwaW5nKHVpbnQgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgIHByaXZhdGUgIGNvbnRyaWJ1dGlvbjsgIAogIG1hcHBpbmcodWludCA9PiB1aW50MjU2KSAgICAgICAgICAgICAgICAgICAgICAgcHJpdmF0ZSAgcGVyaW9kQ29udHJpYnV0aW9uOyAgCiAgbWFwcGluZyh1aW50ID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkpICAgICBwcml2YXRlICBjb2xsZWN0ZWQ7ICAKICBtYXBwaW5nKHVpbnQgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgIHByaXZhdGUgIHRva2VuQ29sbGVjdGVkOyAgCiAgCiAgdWludCBwdWJsaWMgdG90YWxQZXJpb2QgPSAwOwogIHVpbnQgcHVibGljIGN1cnJlbnRQZXJpb2QgPSAwOwogIHVpbnQyNTYgcHVibGljIG1heFRhcmdldDsKCgogIC8qKgogICAqIEBkZXYgSW5pdGlhbGlzZSB0aGUgY29udHJhY3QKICAgKiBAcGFyYW0gX3Rva2VuQWRkcmVzcyBhZGRyZXNzIG9mIFRFVSB0b2tlbgogICAqIEBwYXJhbSBfd2FsbGV0UGVyaW9kMSBhZGRyZXNzIG9mIHBlcmlvZCAxIHdhbGxldAogICAqIEBwYXJhbSBfdG9rZW5Qb29sUGVyaW9kMSBhbW91bnQgb2YgcG9vbCBvZiB0b2tlbiBpbiBwZXJpb2QgMQogICAqIEBwYXJhbSBfc2FsZVN0YXJ0RGF0ZSBzdGFydCBkYXRlIC8gdGltZSBvZiB0aGUgdG9rZW4gc2FsZQogICAqIEBwYXJhbSBfcGVyaW9kMV9jb250cmlJbnRlcnZhbCBjb250cmlidXRpb24gcGVyaW9kIChpbiBob3Vycykgb2YgcGVyaW9kIDEKICAgKiBAcGFyYW0gX21heFRhcmdldCBtYXhUYXJnZXQgb2YgYWxsIHBlcmlvZHMgKGluIGZpbm5leSkKICAgKiBAcGFyYW0gX21pbkNvbnRyaWJ1dGlvbiBtaW4gY29udHJpYnV0aW9uIHBlciB0cmFuc2FjdGlvbiAoaW4gZmlubmV5KQogICAqLwogIGZ1bmN0aW9uIGluaXRUb2tlblNhbGUgKGFkZHJlc3MgX3Rva2VuQWRkcmVzcwogICwgYWRkcmVzcyBfd2FsbGV0UGVyaW9kMQogICwgdWludDI1NiBfdG9rZW5Qb29sUGVyaW9kMQogICwgdWludCBfc2FsZVN0YXJ0RGF0ZQogICwgdWludCBfcGVyaW9kMV9jb250cmlJbnRlcnZhbAogICwgdWludDI1NiBfbWF4VGFyZ2V0CiAgLCB1aW50MjU2IF9taW5Db250cmlidXRpb24pIG9ubHlPd25lciB7CiAgICBhc3NlcnQodG90YWxQZXJpb2QgPT0gMCk7CiAgICBhc3NlcnQoX3Rva2VuQWRkcmVzcyAhPSBhZGRyZXNzKDApKTsKICAgIGFzc2VydChfd2FsbGV0UGVyaW9kMSAhPSBhZGRyZXNzKDApKTsKICAgIHdhbGxldE9mUGVyaW9kWzFdID0gX3dhbGxldFBlcmlvZDE7CiAgICBwZXJpb2RUb2tlblBvb2xbMV0gPSBfdG9rZW5Qb29sUGVyaW9kMTsKICAgIHRva2VuID0gVGV1VG9rZW4oX3Rva2VuQWRkcmVzcyk7CiAgICAvL2Fzc2VydCh0b2tlbi5vd25lcigpID09IG93bmVyKTsgICAgCglwZXJpb2QxX2NvbnRyaWJ1dGlvbkludGVydmFsID0gX3BlcmlvZDFfY29udHJpSW50ZXJ2YWwgKiA2MCAqIDYwOwoJc2V0UGVyaW9kU3RhcnQoX3NhbGVTdGFydERhdGUpOwoJCgltYXhUYXJnZXQgPSBfbWF4VGFyZ2V0ICogKDEwICoqIDE1KTsKICAgIG1pbkNvbnRyaWJ1dGlvbiA9IF9taW5Db250cmlidXRpb24gKiAoMTAgKiogMTUpOwoKICB9CiAgCiAgCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIG93bmVyIHRvIHNldCB0aGUgc3RhcnRpbmcgdGltZS4KICAgKiBAcGFyYW0gX3NhbGVTdGFydERhdGUgdGhlIG5ldyBzYWxlcyBzdGFydCBkYXRlIC8gdGltZQogICAqLyAgCiAgZnVuY3Rpb24gc2V0UGVyaW9kU3RhcnQodWludCBfc2FsZVN0YXJ0RGF0ZSkgb25seU93bmVyIGJlZm9yZVNhbGVTdGFydCBwcml2YXRlIHsKICAgIHRvdGFsUGVyaW9kID0gMDsKICAgIHNhbGVTdGFydCA9IF9zYWxlU3RhcnREYXRlOwogICAgCiAgICBhZGRQZXJpb2Qoc2FsZVN0YXJ0LCBzYWxlU3RhcnQgKyBwZXJpb2QxX2NvbnRyaWJ1dGlvbkludGVydmFsKTsKICAgIGN1cnJlbnRQZXJpb2QgPSAxOyAgICAKICB9IAogIAogIGZ1bmN0aW9uIGFkZFBlcmlvZCh1aW50IF9wZXJpb2RTdGFydCwgdWludCBfcGVyaW9kRGVhZGxpbmUpIG9ubHlPd25lciBiZWZvcmVTYWxlRW5kIHByaXZhdGUgewogICAgcmVxdWlyZShfcGVyaW9kU3RhcnQgPj0gbm93ICYmIF9wZXJpb2REZWFkbGluZSA+IF9wZXJpb2RTdGFydCAmJiAodG90YWxQZXJpb2QgPT0gMCB8fCBfcGVyaW9kU3RhcnQgPiBwZXJpb2REZWFkbGluZVt0b3RhbFBlcmlvZF0pKTsKICAgIHRvdGFsUGVyaW9kID0gdG90YWxQZXJpb2QgKyAxOwogICAgcGVyaW9kU3RhcnRbdG90YWxQZXJpb2RdID0gX3BlcmlvZFN0YXJ0OwogICAgcGVyaW9kRGVhZGxpbmVbdG90YWxQZXJpb2RdID0gX3BlcmlvZERlYWRsaW5lOwogICAgcGVyaW9kQ29udHJpYnV0aW9uW3RvdGFsUGVyaW9kXSA9IDA7CiAgfQoKCiAgLyoqCiAgICogQGRldiBDYWxsIHRoaXMgbWV0aG9kIHRvIGxldCB0aGUgY29udHJhY3QgdG8gZ28gaW50byBuZXh0IHBlcmlvZCBvZiBzYWxlcwogICAqLwogIGZ1bmN0aW9uIGdvTmV4dFBlcmlvZCgpIG9ubHlPd25lciBwdWJsaWMgewogICAgZm9yICh1aW50IGkgPSAxOyBpIDw9IHRvdGFsUGVyaW9kOyBpKyspIHsKICAgICAgICBpZiAoY3VycmVudFBlcmlvZCA8IHRvdGFsUGVyaW9kICYmIG5vdyA+PSBwZXJpb2RTdGFydFtjdXJyZW50UGVyaW9kICsgMV0pIHsKICAgICAgICAgICAgY3VycmVudFBlcmlvZCA9IGN1cnJlbnRQZXJpb2QgKyAxOwogICAgICAgICAgICBpc1Rva2VuQ29sbGVjdGFibGUgPSBmYWxzZTsKICAgICAgICAgICAgTG9nUGVyaW9kU3RhcnQoY3VycmVudFBlcmlvZCk7CiAgICAgICAgfQogICAgfQogICAgCiAgfQoKICAvKioKICAgKiBAZGV2IENhbGwgdGhpcyBtZXRob2QgdG8gbGV0IHRoZSBjb250cmFjdCB0byBhbGxvdyB0b2tlbiBjb2xsZWN0aW9uIGFmdGVyIHRoZSBjb250cmlidXRpb24gcGVyaW9kCiAgICovICAKICBmdW5jdGlvbiBnb1Rva2VuQ29sbGVjdGlvbigpIG9ubHlPd25lciBwdWJsaWMgewogICAgcmVxdWlyZShjdXJyZW50UGVyaW9kID4gMCAmJiBub3cgPiBwZXJpb2REZWFkbGluZVtjdXJyZW50UGVyaW9kXSAmJiAhaXNUb2tlbkNvbGxlY3RhYmxlKTsKICAgIGlzVG9rZW5Db2xsZWN0YWJsZSA9IHRydWU7CiAgICBMb2dDb2xsZWN0aW9uU3RhcnQoY3VycmVudFBlcmlvZCk7CiAgfQoKICAvKioKICAgKiBAZGV2IG1vZGlmaWVyIHRvIGFsbG93IGNvbnRyaWJ1dGlvbiBvbmx5IHdoZW4gdGhlIHNhbGUgaXMgT04KICAgKi8KICBtb2RpZmllciBzYWxlSXNPbigpIHsKICAgIHJlcXVpcmUoY3VycmVudFBlcmlvZCA+IDAgJiYgbm93ID49IHBlcmlvZFN0YXJ0W2N1cnJlbnRQZXJpb2RdICYmIG5vdyA8IHBlcmlvZERlYWRsaW5lW2N1cnJlbnRQZXJpb2RdKTsKICAgIF87CiAgfQogIAogIC8qKgogICAqIEBkZXYgbW9kaWZpZXIgdG8gYWxsb3cgY29sbGVjdGlvbiBvbmx5IHdoZW4gdGhlIGNvbGxlY3Rpb24gaXMgT04KICAgKi8KICBtb2RpZmllciBjb2xsZWN0SXNPbigpIHsKICAgIHJlcXVpcmUoaXNUb2tlbkNvbGxlY3RhYmxlICYmIGN1cnJlbnRQZXJpb2QgPiAwICYmIG5vdyA+IHBlcmlvZERlYWRsaW5lW2N1cnJlbnRQZXJpb2RdICYmIChjdXJyZW50UGVyaW9kID09IHRvdGFsUGVyaW9kIHx8IG5vdyA8IHBlcmlvZFN0YXJ0W2N1cnJlbnRQZXJpb2QgKyAxXSkpOwogICAgXzsKICB9CiAgCiAgLyoqCiAgICogQGRldiBtb2RpZmllciB0byBlbnN1cmUgaXQgaXMgYmVmb3JlIHN0YXJ0IG9mIGZpcnN0IHBlcmlvZCBvZiBzYWxlCiAgICovICAKICBtb2RpZmllciBiZWZvcmVTYWxlU3RhcnQoKSB7CiAgICByZXF1aXJlKHRvdGFsUGVyaW9kID09IDAgfHwgbm93IDwgcGVyaW9kU3RhcnRbMV0pOwogICAgXzsgIAogIH0KICAvKioKICAgKiBAZGV2IG1vZGlmaWVyIHRvIGVuc3VyZSBpdCBpcyBiZWZvcmUgdGhlIGRlYWRsaW5lIG9mIGxhc3Qgc2FsZSBwZXJpb2QKICAgKi8gIAogICAKICBtb2RpZmllciBiZWZvcmVTYWxlRW5kKCkgewogICAgcmVxdWlyZShjdXJyZW50UGVyaW9kID09IDAgfHwgbm93IDwgcGVyaW9kRGVhZGxpbmVbdG90YWxQZXJpb2RdKTsKICAgIF87CiAgfQogIC8qKgogICAqIEBkZXYgbW9kaWZpZXIgdG8gZW5zdXJlIGl0IGlzIGFmdGVyIHRoZSBkZWFkbGluZSBvZiBsYXN0IHNhbGUgcGVyaW9kCiAgICovIAogIG1vZGlmaWVyIGFmdGVyU2FsZUVuZCgpIHsKICAgIHJlcXVpcmUoY3VycmVudFBlcmlvZCA+IDAgJiYgbm93ID4gcGVyaW9kRGVhZGxpbmVbdG90YWxQZXJpb2RdKTsKICAgIF87CiAgfQogIAogIG1vZGlmaWVyIG92ZXJNaW5Db250cmlidXRpb24oKSB7CiAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBtaW5Db250cmlidXRpb24pOwogICAgXzsKICB9CgogIG1vZGlmaWVyIHVuZGVyTWF4VGFyZ2V0KCkgewogICAgcmVxdWlyZShjdXJyZW50UGVyaW9kID4gMCAmJiAobWF4VGFyZ2V0ID09IDAgfHwgcGVyaW9kQ29udHJpYnV0aW9uW2N1cnJlbnRQZXJpb2RdICsgbXNnLnZhbHVlIDw9IG1heFRhcmdldCkpOwogICAgXzsKICB9ICAKICAKICAvKioKICAgKiBAZGV2IHJlY29yZCB0aGUgY29udHJpYnV0aW9uIG9mIGEgY29udHJpYnV0aW9uIAogICAqLwogIGZ1bmN0aW9uIGNvbnRyaWJ1dGUoKSBwcml2YXRlIHNhbGVJc09uIG92ZXJNaW5Db250cmlidXRpb24gdW5kZXJNYXhUYXJnZXQgewogICAgY29udHJpYnV0aW9uW2N1cnJlbnRQZXJpb2RdW21zZy5zZW5kZXJdID0gY29udHJpYnV0aW9uW2N1cnJlbnRQZXJpb2RdW21zZy5zZW5kZXJdLmFkZDI1Nihtc2cudmFsdWUpOwogICAgcGVyaW9kQ29udHJpYnV0aW9uW2N1cnJlbnRQZXJpb2RdID0gcGVyaW9kQ29udHJpYnV0aW9uW2N1cnJlbnRQZXJpb2RdLmFkZDI1Nihtc2cudmFsdWUpOwogICAgYXNzZXJ0KHdhbGxldE9mUGVyaW9kW2N1cnJlbnRQZXJpb2RdLnNlbmQobXNnLnZhbHVlKSk7CiAgICBMb2dDb250cmlidXRpb24obXNnLnNlbmRlciwgbXNnLnZhbHVlLCBjdXJyZW50UGVyaW9kKTsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIGNvbnRyaWJ1dG9yIHRvIGNvbGxlY3QgYWxsIHRva2VuIGFsbG90ZWQgZm9yIGFsbCBwZXJpb2QgYWZ0ZXIgcHJlaW9kIGRlYWRsaW5lCiAgICovCiAgZnVuY3Rpb24gY29sbGVjdFRva2VuKCkgcHVibGljIGNvbGxlY3RJc09uIHsKICAgIHVpbnQyNTYgX3Rva2VuQ29sbGVjdGVkID0gMDsKICAgIGZvciAodWludCBpID0gMTsgaSA8PSB0b3RhbFBlcmlvZDsgaSsrKSB7CiAgICAgICAgaWYgKCFjb2xsZWN0ZWRbaV1bbXNnLnNlbmRlcl0gJiYgY29udHJpYnV0aW9uW2ldW21zZy5zZW5kZXJdID4gMCkKICAgICAgICB7CiAgICAgICAgICAgIF90b2tlbkNvbGxlY3RlZCA9IGNvbnRyaWJ1dGlvbltpXVttc2cuc2VuZGVyXS5tdWwyNTYocGVyaW9kVG9rZW5Qb29sW2ldKS5kaXYyNTYocGVyaW9kQ29udHJpYnV0aW9uW2ldKTsKCiAgICAgICAgICAgIGNvbGxlY3RlZFtpXVttc2cuc2VuZGVyXSA9IHRydWU7CiAgICAgICAgICAgIHRva2VuLnRyYW5zZmVyKG1zZy5zZW5kZXIsIF90b2tlbkNvbGxlY3RlZCk7CgogICAgICAgICAgICB0b2tlbkNvbGxlY3RlZFtpXVttc2cuc2VuZGVyXSA9IF90b2tlbkNvbGxlY3RlZDsKICAgICAgICAgICAgTG9nQ29sbGVjdChtc2cuc2VuZGVyLCBfdG9rZW5Db2xsZWN0ZWQsIGkpOwogICAgICAgIH0KICAgIH0KICB9CgoKICAvKioKICAgKiBAZGV2IEFsbG93IG93bmVyIHRvIHRyYW5zZmVyIG91dCB0aGUgdG9rZW4gaW4gdGhlIGNvbnRyYWN0CiAgICogQHBhcmFtIF90byBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF9hbW91bnQgYW1vdW50IHRvIHRyYW5zZmVyCiAgICovICAKICBmdW5jdGlvbiB0cmFuc2ZlclRva2VuT3V0KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgdG9rZW4udHJhbnNmZXIoX3RvLCBfYW1vdW50KTsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3cgb3duZXIgdG8gdHJhbnNmZXIgb3V0IHRoZSBldGhlciBpbiB0aGUgY29udHJhY3QKICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX2Ftb3VudCBhbW91bnQgdG8gdHJhbnNmZXIKICAgKi8gIAogIGZ1bmN0aW9uIHRyYW5zZmVyRXRoZXJPdXQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIG9ubHlPd25lciB7CiAgICBhc3NlcnQoX3RvLnNlbmQoX2Ftb3VudCkpOwogIH0gIAoKICAvKioKICAgKiBAZGV2IHRvIGdldCB0aGUgY29udHJpYnV0aW9uIGFtb3VudCBvZiBhbnkgY29udHJpYnV0b3IgdW5kZXIgZGlmZmVyZW50IHBlcmlvZAogICAqIEBwYXJhbSBfcGVyaW9kIHBlcmlvZCB0byBnZXQgdGhlIGNvbnRyaWJ1dGlvbiBhbW91bnQKICAgKiBAcGFyYW0gX2NvbnRyaWJ1dG9yIGNvbnRyaWJ1dG9yIHRvIGdldCB0aGUgY29ucmlidXRpb24gYW1vdW50CiAgICovICAKICBmdW5jdGlvbiBjb250cmlidXRpb25PZih1aW50IF9wZXJpb2QsIGFkZHJlc3MgX2NvbnRyaWJ1dG9yKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGNvbnRyaWJ1dGlvbltfcGVyaW9kXVtfY29udHJpYnV0b3JdIDsKICB9CgogIC8qKgogICAqIEBkZXYgdG8gZ2V0IHRoZSB0b3RhbCBjb250cmlidXRpb24gYW1vdW50IG9mIGEgZ2l2ZW4gcGVyaW9kCiAgICogQHBhcmFtIF9wZXJpb2QgcGVyaW9kIHRvIGdldCB0aGUgY29udHJpYnV0aW9uIGFtb3VudAogICAqLyAgCiAgZnVuY3Rpb24gcGVyaW9kQ29udHJpYnV0aW9uT2YodWludCBfcGVyaW9kKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIHBlcmlvZENvbnRyaWJ1dGlvbltfcGVyaW9kXTsKICB9CgogIC8qKgogICAqIEBkZXYgdG8gY2hlY2sgaWYgdG9rZW4gaXMgY29sbGVjdGVkIGJ5IGFueSBjb250cmlidXRvciB1bmRlciBkaWZmZXJlbnQgcGVyaW9kCiAgICogQHBhcmFtIF9wZXJpb2QgcGVyaW9kIHRvIGdldCB0aGUgY29sbGVjdGVkIHN0YXR1cwogICAqIEBwYXJhbSBfY29udHJpYnV0b3IgY29udHJpYnV0b3IgdG8gZ2V0IGNvbGxlY3RlZCBzdGF0dXMKICAgKi8gIAogIGZ1bmN0aW9uIGlzVG9rZW5Db2xsZWN0ZWQodWludCBfcGVyaW9kLCBhZGRyZXNzIF9jb250cmlidXRvcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBjb2xsZWN0ZWRbX3BlcmlvZF1bX2NvbnRyaWJ1dG9yXSA7CiAgfQogIAogIC8qKgogICAqIEBkZXYgdG8gZ2V0IHRoZSBhbW91bnQgb2YgdG9rZW4gY29sbGVjdGVkIGJ5IGFueSBjb250cmlidXRvciB1bmRlciBkaWZmZXJlbnQgcGVyaW9kCiAgICogQHBhcmFtIF9wZXJpb2QgcGVyaW9kIHRvIGdldCB0aGUgYW1vdW50CiAgICogQHBhcmFtIF9jb250cmlidXRvciBjb250cmlidXRvciB0byBnZXQgYW1vbnQKICAgKi8gIAogIGZ1bmN0aW9uIHRva2VuQ29sbGVjdGVkT2YodWludCBfcGVyaW9kLCBhZGRyZXNzIF9jb250cmlidXRvcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiB0b2tlbkNvbGxlY3RlZFtfcGVyaW9kXVtfY29udHJpYnV0b3JdIDsKICB9CgogIC8qKgogICAqIEBkZXYgRmFsbGJhY2sgZnVuY3Rpb24gd2hpY2ggcmVjZWl2ZXMgZXRoZXIgYW5kIGNyZWF0ZSB0aGUgYXBwcm9wcmlhdGUgbnVtYmVyIG9mIHRva2VucyBmb3IgdGhlIAogICAqIG1zZy5zZW5kZXIuCiAgICovCiAgZnVuY3Rpb24oKSBleHRlcm5hbCBwYXlhYmxlIHsKICAgIGNvbnRyaWJ1dGUoKTsKICB9Cgp9'.
	

]
