Class {
	#name : #SRT5fc5e27d5f22e609d80fd4b5df02740f73c57fe4,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5fc5e27d5f22e609d80fd4b5df02740f73c57fe4 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogSU11bHRpT3duZWQKICoKICogSW50ZXJmYWNlIHRoYXQgYWxsb3dzIG11bHRpcGxlIG93bmVycwogKgogKiAjY3JlYXRlZCAwOS8xMC8yMDE3CiAqICNhdXRob3IgRnJhbmsgQm9ubmV0CiAqLwppbnRlcmZhY2UgSU11bHRpT3duZWQgewoKICAgIC8qKgogICAgICogUmV0dXJucyB0cnVlIGlmIGBfYWNjb3VudGAgaXMgYW4gb3duZXIKICAgICAqCiAgICAgKiBAcGFyYW0gX2FjY291bnQgVGhlIGFkZHJlc3MgdG8gdGVzdCBhZ2FpbnN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIGlzT3duZXIoYWRkcmVzcyBfYWNjb3VudCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCk7CgoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgYW1vdW50IG9mIG93bmVycwogICAgICoKICAgICAqIEByZXR1cm4gVGhlIGFtb3VudCBvZiBvd25lcnMKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0T3duZXJDb3VudCgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpOwoKCiAgICAvKioKICAgICAqIEdldHMgdGhlIG93bmVyIGF0IGBfaW5kZXhgCiAgICAgKgogICAgICogQHBhcmFtIF9pbmRleCBUaGUgaW5kZXggb2YgdGhlIG93bmVyCiAgICAgKiBAcmV0dXJuIFRoZSBhZGRyZXNzIG9mIHRoZSBvd25lciBmb3VuZCBhdCBgX2luZGV4YAogICAgICovCiAgICBmdW5jdGlvbiBnZXRPd25lckF0KHVpbnQgX2luZGV4KSBwdWJsaWMgdmlldyByZXR1cm5zIChhZGRyZXNzKTsKCgogICAgIC8qKgogICAgICogQWRkcyBgX2FjY291bnRgIGFzIGEgbmV3IG93bmVyCiAgICAgKgogICAgICogQHBhcmFtIF9hY2NvdW50IFRoZSBhY2NvdW50IHRvIGFkZCBhcyBhbiBvd25lcgogICAgICovCiAgICBmdW5jdGlvbiBhZGRPd25lcihhZGRyZXNzIF9hY2NvdW50KSBwdWJsaWM7CgoKICAgIC8qKgogICAgICogUmVtb3ZlcyBgX2FjY291bnRgIGFzIGFuIG93bmVyCiAgICAgKgogICAgICogQHBhcmFtIF9hY2NvdW50IFRoZSBhY2NvdW50IHRvIHJlbW92ZSBhcyBhbiBvd25lcgogICAgICovCiAgICBmdW5jdGlvbiByZW1vdmVPd25lcihhZGRyZXNzIF9hY2NvdW50KSBwdWJsaWM7Cn0KCgovKioKICogTXVsdGlPd25lZAogKgogKiBBbGxvd3MgbXVsdGlwbGUgb3duZXJzCiAqCiAqICNjcmVhdGVkIDA5LzEwLzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmNvbnRyYWN0IE11bHRpT3duZWQgaXMgSU11bHRpT3duZWQgewoKICAgIC8vIE93bmVycwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBwcml2YXRlIG93bmVyczsKICAgIGFkZHJlc3NbXSBwcml2YXRlIG93bmVyc0luZGV4OwoKCiAgICAgLyoqCiAgICAgKiBBY2Nlc3MgaXMgcmVzdHJpY3RlZCB0byBvd25lcnMgb25seQogICAgICovCiAgICBtb2RpZmllciBvbmx5X293bmVyKCkgewogICAgICAgIHJlcXVpcmUoaXNPd25lcihtc2cuc2VuZGVyKSk7CiAgICAgICAgXzsKICAgIH0KCgogICAgLyoqCiAgICAgKiBUaGUgcHVibGlzaGVyIGlzIHRoZSBpbml0aWFsIG93bmVyCiAgICAgKi8KICAgIGZ1bmN0aW9uIE11bHRpT3duZWQoKSBwdWJsaWMgewogICAgICAgIG93bmVyc0luZGV4LnB1c2gobXNnLnNlbmRlcik7CiAgICAgICAgb3duZXJzW21zZy5zZW5kZXJdID0gMDsKICAgIH0KCgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRydWUgaWYgYF9hY2NvdW50YCBpcyB0aGUgY3VycmVudCBvd25lcgogICAgICoKICAgICAqIEBwYXJhbSBfYWNjb3VudCBUaGUgYWRkcmVzcyB0byB0ZXN0IGFnYWluc3QKICAgICAqLwogICAgZnVuY3Rpb24gaXNPd25lcihhZGRyZXNzIF9hY2NvdW50KSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIG93bmVyc1tfYWNjb3VudF0gPCBvd25lcnNJbmRleC5sZW5ndGggJiYgX2FjY291bnQgPT0gb3duZXJzSW5kZXhbb3duZXJzW19hY2NvdW50XV07CiAgICB9CgoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgYW1vdW50IG9mIG93bmVycwogICAgICoKICAgICAqIEByZXR1cm4gVGhlIGFtb3VudCBvZiBvd25lcnMKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0T3duZXJDb3VudCgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gb3duZXJzSW5kZXgubGVuZ3RoOwogICAgfQoKCiAgICAvKioKICAgICAqIEdldHMgdGhlIG93bmVyIGF0IGBfaW5kZXhgCiAgICAgKgogICAgICogQHBhcmFtIF9pbmRleCBUaGUgaW5kZXggb2YgdGhlIG93bmVyCiAgICAgKiBAcmV0dXJuIFRoZSBhZGRyZXNzIG9mIHRoZSBvd25lciBmb3VuZCBhdCBgX2luZGV4YAogICAgICovCiAgICBmdW5jdGlvbiBnZXRPd25lckF0KHVpbnQgX2luZGV4KSBwdWJsaWMgdmlldyByZXR1cm5zIChhZGRyZXNzKSB7CiAgICAgICAgcmV0dXJuIG93bmVyc0luZGV4W19pbmRleF07CiAgICB9CgoKICAgIC8qKgogICAgICogQWRkcyBgX2FjY291bnRgIGFzIGEgbmV3IG93bmVyCiAgICAgKgogICAgICogQHBhcmFtIF9hY2NvdW50IFRoZSBhY2NvdW50IHRvIGFkZCBhcyBhbiBvd25lcgogICAgICovCiAgICBmdW5jdGlvbiBhZGRPd25lcihhZGRyZXNzIF9hY2NvdW50KSBwdWJsaWMgb25seV9vd25lciB7CiAgICAgICAgaWYgKCFpc093bmVyKF9hY2NvdW50KSkgewogICAgICAgICAgICBvd25lcnNbX2FjY291bnRdID0gb3duZXJzSW5kZXgucHVzaChfYWNjb3VudCkgLSAxOwogICAgICAgIH0KICAgIH0KCgogICAgLyoqCiAgICAgKiBSZW1vdmVzIGBfYWNjb3VudGAgYXMgYW4gb3duZXIKICAgICAqCiAgICAgKiBAcGFyYW0gX2FjY291bnQgVGhlIGFjY291bnQgdG8gcmVtb3ZlIGFzIGFuIG93bmVyCiAgICAgKi8KICAgIGZ1bmN0aW9uIHJlbW92ZU93bmVyKGFkZHJlc3MgX2FjY291bnQpIHB1YmxpYyBvbmx5X293bmVyIHsKICAgICAgICBpZiAoaXNPd25lcihfYWNjb3VudCkpIHsKICAgICAgICAgICAgdWludCBpbmRleFRvRGVsZXRlID0gb3duZXJzW19hY2NvdW50XTsKICAgICAgICAgICAgYWRkcmVzcyBrZXlUb01vdmUgPSBvd25lcnNJbmRleFtvd25lcnNJbmRleC5sZW5ndGggLSAxXTsKICAgICAgICAgICAgb3duZXJzSW5kZXhbaW5kZXhUb0RlbGV0ZV0gPSBrZXlUb01vdmU7CiAgICAgICAgICAgIG93bmVyc1trZXlUb01vdmVdID0gaW5kZXhUb0RlbGV0ZTsgCiAgICAgICAgICAgIG93bmVyc0luZGV4Lmxlbmd0aC0tOwogICAgICAgIH0KICAgIH0KfQoKCi8qKgogKiBJT2JzZXJ2YWJsZQogKgogKiBBbGxvd3Mgb2JzZXJ2ZXJzIHRvIHJlZ2lzdGVyIGFuZCB1bnJlZ2lzdGVyIHdpdGggdGhlIAogKiBpbXBsZW1lbnRpbmcgc21hcnQtY29udHJhY3QgdGhhdCBpcyBvYnNlcnZhYmxlCiAqCiAqICNjcmVhdGVkIDA5LzEwLzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmludGVyZmFjZSBJT2JzZXJ2YWJsZSB7CgoKICAgIC8qKgogICAgICogUmV0dXJucyB0cnVlIGlmIGBfYWNjb3VudGAgaXMgYSByZWdpc3RlcmVkIG9ic2VydmVyCiAgICAgKiAKICAgICAqIEBwYXJhbSBfYWNjb3VudCBUaGUgYWNjb3VudCB0byB0ZXN0IGFnYWluc3QKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgYWNjb3VudCBpcyBhIHJlZ2lzdGVyZWQgb2JzZXJ2ZXIKICAgICAqLwogICAgZnVuY3Rpb24gaXNPYnNlcnZlcihhZGRyZXNzIF9hY2NvdW50KSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sKTsKCgogICAgLyoqCiAgICAgKiBHZXRzIHRoZSBhbW91bnQgb2YgcmVnaXN0ZXJlZCBvYnNlcnZlcnMKICAgICAqIAogICAgICogQHJldHVybiBUaGUgYW1vdW50IG9mIHJlZ2lzdGVyZWQgb2JzZXJ2ZXJzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldE9ic2VydmVyQ291bnQoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KTsKCgogICAgLyoqCiAgICAgKiBHZXRzIHRoZSBvYnNlcnZlciBhdCBgX2luZGV4YAogICAgICogCiAgICAgKiBAcGFyYW0gX2luZGV4IFRoZSBpbmRleCBvZiB0aGUgb2JzZXJ2ZXIKICAgICAqIEByZXR1cm4gVGhlIG9ic2VydmVycyBhZGRyZXNzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldE9ic2VydmVyQXRJbmRleCh1aW50IF9pbmRleCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcyk7CgoKICAgIC8qKgogICAgICogUmVnaXN0ZXIgYF9vYnNlcnZlcmAgYXMgYW4gb2JzZXJ2ZXIKICAgICAqIAogICAgICogQHBhcmFtIF9vYnNlcnZlciBUaGUgYWNjb3VudCB0byBhZGQgYXMgYW4gb2JzZXJ2ZXIKICAgICAqLwogICAgZnVuY3Rpb24gcmVnaXN0ZXJPYnNlcnZlcihhZGRyZXNzIF9vYnNlcnZlcikgcHVibGljOwoKCiAgICAvKioKICAgICAqIFVucmVnaXN0ZXIgYF9vYnNlcnZlcmAgYXMgYW4gb2JzZXJ2ZXIKICAgICAqIAogICAgICogQHBhcmFtIF9vYnNlcnZlciBUaGUgYWNjb3VudCB0byByZW1vdmUgYXMgYW4gb2JzZXJ2ZXIKICAgICAqLwogICAgZnVuY3Rpb24gdW5yZWdpc3Rlck9ic2VydmVyKGFkZHJlc3MgX29ic2VydmVyKSBwdWJsaWM7Cn0KCgovKioKICogQWJzdHJhY3QgT2JzZXJ2YWJsZQogKgogKiBBbGxvd3Mgb2JzZXJ2ZXJzIHRvIHJlZ2lzdGVyIGFuZCB1bnJlZ2lzdGVyIHdpdGggdGhlIHRoZSAKICogaW1wbGVtZW50aW5nIHNtYXJ0LWNvbnRyYWN0IHRoYXQgaXMgb2JzZXJ2YWJsZQogKgogKiAjY3JlYXRlZCAwOS8xMC8yMDE3CiAqICNhdXRob3IgRnJhbmsgQm9ubmV0CiAqLwpjb250cmFjdCBPYnNlcnZhYmxlIGlzIElPYnNlcnZhYmxlIHsKCgogICAgLy8gT2JzZXJ2ZXJzCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHByaXZhdGUgb2JzZXJ2ZXJzOwogICAgYWRkcmVzc1tdIHByaXZhdGUgb2JzZXJ2ZXJJbmRleDsKCgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRydWUgaWYgYF9hY2NvdW50YCBpcyBhIHJlZ2lzdGVyZWQgb2JzZXJ2ZXIKICAgICAqIAogICAgICogQHBhcmFtIF9hY2NvdW50IFRoZSBhY2NvdW50IHRvIHRlc3QgYWdhaW5zdAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSBhY2NvdW50IGlzIGEgcmVnaXN0ZXJlZCBvYnNlcnZlcgogICAgICovCiAgICBmdW5jdGlvbiBpc09ic2VydmVyKGFkZHJlc3MgX2FjY291bnQpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gb2JzZXJ2ZXJzW19hY2NvdW50XSA8IG9ic2VydmVySW5kZXgubGVuZ3RoICYmIF9hY2NvdW50ID09IG9ic2VydmVySW5kZXhbb2JzZXJ2ZXJzW19hY2NvdW50XV07CiAgICB9CgoKICAgIC8qKgogICAgICogR2V0cyB0aGUgYW1vdW50IG9mIHJlZ2lzdGVyZWQgb2JzZXJ2ZXJzCiAgICAgKiAKICAgICAqIEByZXR1cm4gVGhlIGFtb3VudCBvZiByZWdpc3RlcmVkIG9ic2VydmVycwogICAgICovCiAgICBmdW5jdGlvbiBnZXRPYnNlcnZlckNvdW50KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBvYnNlcnZlckluZGV4Lmxlbmd0aDsKICAgIH0KCgogICAgLyoqCiAgICAgKiBHZXRzIHRoZSBvYnNlcnZlciBhdCBgX2luZGV4YAogICAgICogCiAgICAgKiBAcGFyYW0gX2luZGV4IFRoZSBpbmRleCBvZiB0aGUgb2JzZXJ2ZXIKICAgICAqIEByZXR1cm4gVGhlIG9ic2VydmVycyBhZGRyZXNzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldE9ic2VydmVyQXRJbmRleCh1aW50IF9pbmRleCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHJldHVybiBvYnNlcnZlckluZGV4W19pbmRleF07CiAgICB9CgoKICAgIC8qKgogICAgICogUmVnaXN0ZXIgYF9vYnNlcnZlcmAgYXMgYW4gb2JzZXJ2ZXIKICAgICAqIAogICAgICogQHBhcmFtIF9vYnNlcnZlciBUaGUgYWNjb3VudCB0byBhZGQgYXMgYW4gb2JzZXJ2ZXIKICAgICAqLwogICAgZnVuY3Rpb24gcmVnaXN0ZXJPYnNlcnZlcihhZGRyZXNzIF9vYnNlcnZlcikgcHVibGljIHsKICAgICAgICByZXF1aXJlKGNhblJlZ2lzdGVyT2JzZXJ2ZXIoX29ic2VydmVyKSk7CiAgICAgICAgaWYgKCFpc09ic2VydmVyKF9vYnNlcnZlcikpIHsKICAgICAgICAgICAgb2JzZXJ2ZXJzW19vYnNlcnZlcl0gPSBvYnNlcnZlckluZGV4LnB1c2goX29ic2VydmVyKSAtIDE7CiAgICAgICAgfQogICAgfQoKCiAgICAvKioKICAgICAqIFVucmVnaXN0ZXIgYF9vYnNlcnZlcmAgYXMgYW4gb2JzZXJ2ZXIKICAgICAqIAogICAgICogQHBhcmFtIF9vYnNlcnZlciBUaGUgYWNjb3VudCB0byByZW1vdmUgYXMgYW4gb2JzZXJ2ZXIKICAgICAqLwogICAgZnVuY3Rpb24gdW5yZWdpc3Rlck9ic2VydmVyKGFkZHJlc3MgX29ic2VydmVyKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoY2FuVW5yZWdpc3Rlck9ic2VydmVyKF9vYnNlcnZlcikpOwogICAgICAgIGlmIChpc09ic2VydmVyKF9vYnNlcnZlcikpIHsKICAgICAgICAgICAgdWludCBpbmRleFRvRGVsZXRlID0gb2JzZXJ2ZXJzW19vYnNlcnZlcl07CiAgICAgICAgICAgIGFkZHJlc3Mga2V5VG9Nb3ZlID0gb2JzZXJ2ZXJJbmRleFtvYnNlcnZlckluZGV4Lmxlbmd0aCAtIDFdOwogICAgICAgICAgICBvYnNlcnZlckluZGV4W2luZGV4VG9EZWxldGVdID0ga2V5VG9Nb3ZlOwogICAgICAgICAgICBvYnNlcnZlcnNba2V5VG9Nb3ZlXSA9IGluZGV4VG9EZWxldGU7CiAgICAgICAgICAgIG9ic2VydmVySW5kZXgubGVuZ3RoLS07CiAgICAgICAgfQogICAgfQoKCiAgICAvKioKICAgICAqIFJldHVybnMgd2hldGhlciBpdCBpcyBhbGxvd2VkIHRvIHJlZ2lzdGVyIGBfb2JzZXJ2ZXJgIGJ5IGNhbGxpbmcgCiAgICAgKiBjYW5SZWdpc3Rlck9ic2VydmVyKCkgaW4gdGhlIGltcGxlbWVudGluZyBzbWFydC1jb250cmFjdAogICAgICoKICAgICAqIEBwYXJhbSBfb2JzZXJ2ZXIgVGhlIGFkZHJlc3MgdG8gcmVnaXN0ZXIgYXMgYW4gb2JzZXJ2ZXIKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgc2VuZGVyIGlzIGFsbG93ZWQgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIGNhblJlZ2lzdGVyT2JzZXJ2ZXIoYWRkcmVzcyBfb2JzZXJ2ZXIpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCk7CgoKICAgIC8qKgogICAgICogUmV0dXJucyB3aGV0aGVyIGl0IGlzIGFsbG93ZWQgdG8gdW5yZWdpc3RlciBgX29ic2VydmVyYCBieSBjYWxsaW5nIAogICAgICogY2FuUmVnaXN0ZXJPYnNlcnZlcigpIGluIHRoZSBpbXBsZW1lbnRpbmcgc21hcnQtY29udHJhY3QKICAgICAqCiAgICAgKiBAcGFyYW0gX29ic2VydmVyIFRoZSBhZGRyZXNzIHRvIHVucmVnaXN0ZXIgYXMgYW4gb2JzZXJ2ZXIKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgc2VuZGVyIGlzIGFsbG93ZWQgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIGNhblVucmVnaXN0ZXJPYnNlcnZlcihhZGRyZXNzIF9vYnNlcnZlcikgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKTsKfQoKCgovKioKICogSVRva2VuT2JzZXJ2ZXIKICoKICogQWxsb3dzIGEgdG9rZW4gc21hcnQtY29udHJhY3QgdG8gbm90aWZ5IG9ic2VydmVycyAKICogd2hlbiB0b2tlbnMgYXJlIHJlY2VpdmVkCiAqCiAqICNjcmVhdGVkIDA5LzEwLzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmludGVyZmFjZSBJVG9rZW5PYnNlcnZlciB7CgoKICAgIC8qKgogICAgICogQ2FsbGVkIGJ5IHRoZSBvYnNlcnZlZCB0b2tlbiBzbWFydC1jb250cmFjdCBpbiBvcmRlciAKICAgICAqIHRvIG5vdGlmeSB0aGUgdG9rZW4gb2JzZXJ2ZXIgd2hlbiB0b2tlbnMgYXJlIHJlY2VpdmVkCiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIHRoYXQgdGhlIHRva2VucyB3aGVyZSBzZW5kIGZyb20KICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCB3YXMgcmVjZWl2ZWQKICAgICAqLwogICAgZnVuY3Rpb24gbm90aWZ5VG9rZW5zUmVjZWl2ZWQoYWRkcmVzcyBfZnJvbSwgdWludCBfdmFsdWUpIHB1YmxpYzsKfQoKCi8qKgogKiBUb2tlbk9ic2VydmVyCiAqCiAqIEFsbG93cyBvYnNlcnZlcnMgdG8gYmUgbm90aWZpZWQgYnkgYW4gb2JzZXJ2ZWQgdG9rZW4gc21hcnQtY29udHJhY3QKICogd2hlbiB0b2tlbnMgYXJlIHJlY2VpdmVkCiAqCiAqICNjcmVhdGVkIDA5LzEwLzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmNvbnRyYWN0IFRva2VuT2JzZXJ2ZXIgaXMgSVRva2VuT2JzZXJ2ZXIgewoKCiAgICAvKioKICAgICAqIENhbGxlZCBieSB0aGUgb2JzZXJ2ZWQgdG9rZW4gc21hcnQtY29udHJhY3QgaW4gb3JkZXIgCiAgICAgKiB0byBub3RpZnkgdGhlIHRva2VuIG9ic2VydmVyIHdoZW4gdG9rZW5zIGFyZSByZWNlaXZlZAogICAgICoKICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyB0aGF0IHRoZSB0b2tlbnMgd2hlcmUgc2VuZCBmcm9tCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgd2FzIHJlY2VpdmVkCiAgICAgKi8KICAgIGZ1bmN0aW9uIG5vdGlmeVRva2Vuc1JlY2VpdmVkKGFkZHJlc3MgX2Zyb20sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgewogICAgICAgIG9uVG9rZW5zUmVjZWl2ZWQobXNnLnNlbmRlciwgX2Zyb20sIF92YWx1ZSk7CiAgICB9CgoKICAgIC8qKgogICAgICogRXZlbnQgaGFuZGxlcgogICAgICogCiAgICAgKiBDYWxsZWQgYnkgYF90b2tlbmAgd2hlbiBhIHRva2VuIGFtb3VudCBpcyByZWNlaXZlZAogICAgICoKICAgICAqIEBwYXJhbSBfdG9rZW4gVGhlIHRva2VuIGNvbnRyYWN0IHRoYXQgcmVjZWl2ZWQgdGhlIHRyYW5zYWN0aW9uCiAgICAgKiBAcGFyYW0gX2Zyb20gVGhlIGFjY291bnQgb3IgY29udHJhY3QgdGhhdCBzZW5kIHRoZSB0cmFuc2FjdGlvbgogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgdmFsdWUgb2YgdG9rZW5zIHRoYXQgd2hlcmUgcmVjZWl2ZWQKICAgICAqLwogICAgZnVuY3Rpb24gb25Ub2tlbnNSZWNlaXZlZChhZGRyZXNzIF90b2tlbiwgYWRkcmVzcyBfZnJvbSwgdWludCBfdmFsdWUpIGludGVybmFsOwp9CgoKLyoqCiAqIElUb2tlblJldHJpZXZlcgogKgogKiBBbGxvd3MgdG9rZW5zIHRvIGJlIHJldHJpZXZlZCBmcm9tIGEgY29udHJhY3QKICoKICogI2NyZWF0ZWQgMjkvMDkvMjAxNwogKiAjYXV0aG9yIEZyYW5rIEJvbm5ldAogKi8KaW50ZXJmYWNlIElUb2tlblJldHJpZXZlciB7CgogICAgLyoqCiAgICAgKiBFeHRyYWN0cyB0b2tlbnMgZnJvbSB0aGUgY29udHJhY3QKICAgICAqCiAgICAgKiBAcGFyYW0gX3Rva2VuQ29udHJhY3QgVGhlIGFkZHJlc3Mgb2YgRVJDMjAgY29tcGF0aWJsZSB0b2tlbgogICAgICovCiAgICBmdW5jdGlvbiByZXRyaWV2ZVRva2VucyhhZGRyZXNzIF90b2tlbkNvbnRyYWN0KSBwdWJsaWM7Cn0KCgovKioKICogVG9rZW5SZXRyaWV2ZXIKICoKICogQWxsb3dzIHRva2VucyB0byBiZSByZXRyaWV2ZWQgZnJvbSBhIGNvbnRyYWN0CiAqCiAqICNjcmVhdGVkIDE4LzEwLzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmNvbnRyYWN0IFRva2VuUmV0cmlldmVyIGlzIElUb2tlblJldHJpZXZlciB7CgogICAgLyoqCiAgICAgKiBFeHRyYWN0cyB0b2tlbnMgZnJvbSB0aGUgY29udHJhY3QKICAgICAqCiAgICAgKiBAcGFyYW0gX3Rva2VuQ29udHJhY3QgVGhlIGFkZHJlc3Mgb2YgRVJDMjAgY29tcGF0aWJsZSB0b2tlbgogICAgICovCiAgICBmdW5jdGlvbiByZXRyaWV2ZVRva2VucyhhZGRyZXNzIF90b2tlbkNvbnRyYWN0KSBwdWJsaWMgewogICAgICAgIElUb2tlbiB0b2tlbkluc3RhbmNlID0gSVRva2VuKF90b2tlbkNvbnRyYWN0KTsKICAgICAgICB1aW50IHRva2VuQmFsYW5jZSA9IHRva2VuSW5zdGFuY2UuYmFsYW5jZU9mKHRoaXMpOwogICAgICAgIGlmICh0b2tlbkJhbGFuY2UgPiAwKSB7CiAgICAgICAgICAgIHRva2VuSW5zdGFuY2UudHJhbnNmZXIobXNnLnNlbmRlciwgdG9rZW5CYWxhbmNlKTsKICAgICAgICB9CiAgICB9Cn0KCgovKioKICogSW5wdXQgdmFsaWRhdGlvbgogKgogKiBWYWxpZGF0ZXMgYXJndW1lbnQgbGVuZ3RoCiAqCiAqICNjcmVhdGVkIDAxLzEwLzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmNvbnRyYWN0IElucHV0VmFsaWRhdG9yIHsKCgogICAgLyoqCiAgICAgKiBFUkMyMCBTaG9ydCBBZGRyZXNzIEF0dGFjayBmaXgKICAgICAqLwogICAgbW9kaWZpZXIgc2FmZV9hcmd1bWVudHModWludCBfbnVtQXJncykgewogICAgICAgIGFzc2VydChtc2cuZGF0YS5sZW5ndGggPT0gX251bUFyZ3MgKiAzMiArIDQpOwogICAgICAgIF87CiAgICB9Cn0KCgovKioKICogRVJDMjAgY29tcGF0aWJsZSB0b2tlbiBpbnRlcmZhY2UKICoKICogLSBJbXBsZW1lbnRzIEVSQyAyMCBUb2tlbiBzdGFuZGFyZAogKiAtIEltcGxlbWVudHMgc2hvcnQgYWRkcmVzcyBhdHRhY2sgZml4CiAqCiAqICNjcmVhdGVkIDI5LzA5LzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmludGVyZmFjZSBJVG9rZW4geyAKCiAgICAvKiogCiAgICAgKiBHZXQgdGhlIHRvdGFsIHN1cHBseSBvZiB0b2tlbnMKICAgICAqIAogICAgICogQHJldHVybiBUaGUgdG90YWwgc3VwcGx5CiAgICAgKi8KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCk7CgoKICAgIC8qKiAKICAgICAqIEdldCBiYWxhbmNlIG9mIGBfb3duZXJgIAogICAgICogCiAgICAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIGZyb20gd2hpY2ggdGhlIGJhbGFuY2Ugd2lsbCBiZSByZXRyaWV2ZWQKICAgICAqIEByZXR1cm4gVGhlIGJhbGFuY2UKICAgICAqLwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KTsKCgogICAgLyoqIAogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYAogICAgICogCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CgoKICAgIC8qKiAKICAgICAqIFNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgICogCiAgICAgKiBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKCgogICAgLyoqIAogICAgICogYG1zZy5zZW5kZXJgIGFwcHJvdmVzIGBfc3BlbmRlcmAgdG8gc3BlbmQgYF92YWx1ZWAgdG9rZW5zCiAgICAgKiAKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CgoKICAgIC8qKiAKICAgICAqIEdldCB0aGUgYW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgdGhhdCBgX3NwZW5kZXJgIGlzIGFsbG93ZWQgdG8gc3BlbmQgZnJvbSBgX293bmVyYAogICAgICogCiAgICAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IG93bmluZyB0b2tlbnMKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgICAqIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudAogICAgICovCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpOwp9CgoKLyoqCiAqIEVSQzIwIGNvbXBhdGlibGUgdG9rZW4KICoKICogLSBJbXBsZW1lbnRzIEVSQyAyMCBUb2tlbiBzdGFuZGFyZAogKiAtIEltcGxlbWVudHMgc2hvcnQgYWRkcmVzcyBhdHRhY2sgZml4CiAqCiAqICNjcmVhdGVkIDI5LzA5LzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmNvbnRyYWN0IFRva2VuIGlzIElUb2tlbiwgSW5wdXRWYWxpZGF0b3IgewoKICAgIC8vIEV0aGVyZXVtIHRva2VuIHN0YW5kYXJkCiAgICBzdHJpbmcgcHVibGljIHN0YW5kYXJkID0gIlRva2VuIDAuMy4xIjsKICAgIHN0cmluZyBwdWJsaWMgbmFtZTsgICAgICAgIAogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7CgogICAgLy8gVG9rZW4gc3RhdGUKICAgIHVpbnQgaW50ZXJuYWwgdG90YWxUb2tlblN1cHBseTsKCiAgICAvLyBUb2tlbiBiYWxhbmNlcwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBpbnRlcm5hbCBiYWxhbmNlczsKCiAgICAvLyBUb2tlbiBhbGxvd2FuY2VzCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIGludGVybmFsIGFsbG93ZWQ7CgoKICAgIC8vIEV2ZW50cwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKTsKCiAgICAvKiogCiAgICAgKiBDb25zdHJ1Y3QgRVJDMjAgdG9rZW4KICAgICAqIAogICAgICogQHBhcmFtIF9uYW1lIFRoZSBmdWxsIHRva2VuIG5hbWUKICAgICAqIEBwYXJhbSBfc3ltYm9sIFRoZSB0b2tlbiBzeW1ib2wgKGFiZXJyYXRpb24pCiAgICAgKiBAcGFyYW0gX2RlY2ltYWxzIFRoZSB0b2tlbiBwcmVjaXNpb24KICAgICAqLwogICAgZnVuY3Rpb24gVG9rZW4oc3RyaW5nIF9uYW1lLCBzdHJpbmcgX3N5bWJvbCwgdWludDggX2RlY2ltYWxzKSBwdWJsaWMgewogICAgICAgIG5hbWUgPSBfbmFtZTsKICAgICAgICBzeW1ib2wgPSBfc3ltYm9sOwogICAgICAgIGRlY2ltYWxzID0gX2RlY2ltYWxzOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gMDsKICAgICAgICB0b3RhbFRva2VuU3VwcGx5ID0gMDsKICAgIH0KCgogICAgLyoqIAogICAgICogR2V0IHRoZSB0b3RhbCB0b2tlbiBzdXBwbHkKICAgICAqIAogICAgICogQHJldHVybiBUaGUgdG90YWwgc3VwcGx5CiAgICAgKi8KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiB0b3RhbFRva2VuU3VwcGx5OwogICAgfQoKCiAgICAvKiogCiAgICAgKiBHZXQgYmFsYW5jZSBvZiBgX293bmVyYCAKICAgICAqIAogICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICAgKiBAcmV0dXJuIFRoZSBiYWxhbmNlCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKCiAgICAvKiogCiAgICAgKiBTZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYG1zZy5zZW5kZXJgCiAgICAgKiAKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHB1YmxpYyBzYWZlX2FyZ3VtZW50cygyKSByZXR1cm5zIChib29sKSB7CgogICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaCB0b2tlbnMKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSk7ICAgCgogICAgICAgIC8vIENoZWNrIGZvciBvdmVyZmxvd3MKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW190b10gKyBfdmFsdWUgPj0gYmFsYW5jZXNbX3RvXSk7CgogICAgICAgIC8vIFRyYW5zZmVyIHRva2VucwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKCiAgICAgICAgLy8gTm90aWZ5IGxpc3RlbmVycwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgLyoqIAogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBfZnJvbWAgb24gdGhlIGNvbmRpdGlvbiBpdCBpcyBhcHByb3ZlZCBieSBgX2Zyb21gCiAgICAgKiAKICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QgCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHB1YmxpYyBzYWZlX2FyZ3VtZW50cygzKSByZXR1cm5zIChib29sKSB7CgogICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSk7CgogICAgICAgIC8vIENoZWNrIGZvciBvdmVyZmxvd3MKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW190b10gKyBfdmFsdWUgPj0gYmFsYW5jZXNbX3RvXSk7CgogICAgICAgIC8vIENoZWNrIGFsbG93YW5jZQogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsKCiAgICAgICAgLy8gVHJhbnNmZXIgdG9rZW5zCiAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKCiAgICAgICAgLy8gVXBkYXRlIGFsbG93YW5jZQogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKCiAgICAgICAgLy8gTm90aWZ5IGxpc3RlbmVycwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIC8qKiAKICAgICAqIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX3NwZW5kZXJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogICAgICogCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2ZlcgogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSBhcHByb3ZhbCB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgcHVibGljIHNhZmVfYXJndW1lbnRzKDIpIHJldHVybnMgKGJvb2wpIHsKCiAgICAgICAgLy8gVXBkYXRlIGFsbG93YW5jZQogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwoKICAgICAgICAvLyBOb3RpZnkgbGlzdGVuZXJzCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIC8qKiAKICAgICAqIEdldCB0aGUgYW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgdGhhdCBgX3NwZW5kZXJgIGlzIGFsbG93ZWQgdG8gc3BlbmQgZnJvbSBgX293bmVyYAogICAgICogCiAgICAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IG93bmluZyB0b2tlbnMKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgICAqIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudAogICAgICovCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpIHsKICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9Cn0KCgoKLyoqCiAqIElNYW5hZ2VkVG9rZW4KICoKICogQWRkcyB0aGUgZm9sbG93aW5nIGZ1bmN0aW9uYWxpdHkgdG8gdGhlIGJhc2ljIEVSQzIwIHRva2VuCiAqIC0gTG9ja2luZwogKiAtIElzc3VpbmcKICogLSBCdXJuaW5nIAogKgogKiAjY3JlYXRlZCAyOS8wOS8yMDE3CiAqICNhdXRob3IgRnJhbmsgQm9ubmV0CiAqLwppbnRlcmZhY2UgSU1hbmFnZWRUb2tlbiB7IAoKICAgIC8qKiAKICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdG9rZW4gaXMgbG9ja2VkCiAgICAgKiAKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgdG9rZW4gaXMgbG9ja2VkCiAgICAgKi8KICAgIGZ1bmN0aW9uIGlzTG9ja2VkKCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCk7CgoKICAgIC8qKgogICAgICogTG9ja3MgdGhlIHRva2VuIHNvIHRoYXQgdGhlIHRyYW5zZmVyaW5nIG9mIHZhbHVlIGlzIGRpc2FibGVkIAogICAgICoKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgdW5sb2NraW5nIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgICovCiAgICBmdW5jdGlvbiBsb2NrKCkgcHVibGljIHJldHVybnMgKGJvb2wpOwoKCiAgICAvKioKICAgICAqIFVubG9ja3MgdGhlIHRva2VuIHNvIHRoYXQgdGhlIHRyYW5zZmVyaW5nIG9mIHZhbHVlIGlzIGVuYWJsZWQgCiAgICAgKgogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB1bmxvY2tpbmcgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIHVubG9jaygpIHB1YmxpYyByZXR1cm5zIChib29sKTsKCgogICAgLyoqCiAgICAgKiBJc3N1ZXMgYF92YWx1ZWAgbmV3IHRva2VucyB0byBgX3RvYAogICAgICoKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gd2hpY2ggdGhlIHRva2VucyB3aWxsIGJlIGlzc3VlZAogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIG5ldyB0b2tlbnMgdG8gaXNzdWUKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgdG9rZW5zIHdoZXJlIHN1Y2Vzc2Z1bGx5IGlzc3VlZCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gaXNzdWUoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CgoKICAgIC8qKgogICAgICogQnVybnMgYF92YWx1ZWAgdG9rZW5zIG9mIGBfZnJvbWAKICAgICAqCiAgICAgKiBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3MgdGhhdCBvd25zIHRoZSB0b2tlbnMgdG8gYmUgYnVybmVkCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIGJ1cm5lZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB0b2tlbnMgd2hlcmUgc3VjZXNzZnVsbHkgYnVybmVkIG9yIG5vdCAKICAgICAqLwogICAgZnVuY3Rpb24gYnVybihhZGRyZXNzIF9mcm9tLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwp9CgoKLyoqCiAqIE1hbmFnZWRUb2tlbgogKgogKiBBZGRzIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25hbGl0eSB0byB0aGUgYmFzaWMgRVJDMjAgdG9rZW4KICogLSBMb2NraW5nCiAqIC0gSXNzdWluZwogKiAtIEJ1cm5pbmcgCiAqCiAqICNjcmVhdGVkIDI5LzA5LzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmNvbnRyYWN0IE1hbmFnZWRUb2tlbiBpcyBJTWFuYWdlZFRva2VuLCBUb2tlbiwgTXVsdGlPd25lZCB7CgogICAgLy8gVG9rZW4gc3RhdGUKICAgIGJvb2wgaW50ZXJuYWwgbG9ja2VkOwoKCiAgICAvKioKICAgICAqIEFsbG93IGFjY2VzcyBvbmx5IHdoZW4gbm90IGxvY2tlZAogICAgICovCiAgICBtb2RpZmllciBvbmx5X3doZW5fdW5sb2NrZWQoKSB7CiAgICAgICAgcmVxdWlyZSghbG9ja2VkKTsKICAgICAgICBfOwogICAgfQoKCiAgICAvKiogCiAgICAgKiBDb25zdHJ1Y3QgbWFuYWdlZCBFUkMyMCB0b2tlbgogICAgICogCiAgICAgKiBAcGFyYW0gX25hbWUgVGhlIGZ1bGwgdG9rZW4gbmFtZQogICAgICogQHBhcmFtIF9zeW1ib2wgVGhlIHRva2VuIHN5bWJvbCAoYWJlcnJhdGlvbikKICAgICAqIEBwYXJhbSBfZGVjaW1hbHMgVGhlIHRva2VuIHByZWNpc2lvbgogICAgICogQHBhcmFtIF9sb2NrZWQgV2hldGhlciB0aGUgdG9rZW4gc2hvdWxkIGJlIGxvY2tlZCBpbml0aWFsbHkKICAgICAqLwogICAgZnVuY3Rpb24gTWFuYWdlZFRva2VuKHN0cmluZyBfbmFtZSwgc3RyaW5nIF9zeW1ib2wsIHVpbnQ4IF9kZWNpbWFscywgYm9vbCBfbG9ja2VkKSBwdWJsaWMgCiAgICAgICAgVG9rZW4oX25hbWUsIF9zeW1ib2wsIF9kZWNpbWFscykgewogICAgICAgIGxvY2tlZCA9IF9sb2NrZWQ7CiAgICB9CgoKICAgIC8qKiAKICAgICAqIFNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgICAqIAogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIG9ubHlfd2hlbl91bmxvY2tlZCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICAgIH0KCgogICAgLyoqIAogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBfZnJvbWAgb24gdGhlIGNvbmRpdGlvbiBpdCBpcyBhcHByb3ZlZCBieSBgX2Zyb21gCiAgICAgKiAKICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIG9ubHlfd2hlbl91bmxvY2tlZCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgfQoKCiAgICAvKiogCiAgICAgKiBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9zcGVuZGVyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMKICAgICAqIAogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXIKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHN1cGVyLmFwcHJvdmUoX3NwZW5kZXIsIF92YWx1ZSk7CiAgICB9CgoKICAgIC8qKiAKICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdG9rZW4gaXMgbG9ja2VkCiAgICAgKiAKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgdG9rZW4gaXMgbG9ja2VkCiAgICAgKi8KICAgIGZ1bmN0aW9uIGlzTG9ja2VkKCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBsb2NrZWQ7CiAgICB9CgoKICAgIC8qKgogICAgICogTG9ja3MgdGhlIHRva2VuIHNvIHRoYXQgdGhlIHRyYW5zZmVyaW5nIG9mIHZhbHVlIGlzIGVuYWJsZWQgCiAgICAgKgogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSBsb2NraW5nIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgICovCiAgICBmdW5jdGlvbiBsb2NrKCkgcHVibGljIG9ubHlfb3duZXIgcmV0dXJucyAoYm9vbCkgIHsKICAgICAgICBsb2NrZWQgPSB0cnVlOwogICAgICAgIHJldHVybiBsb2NrZWQ7CiAgICB9CgoKICAgIC8qKgogICAgICogVW5sb2NrcyB0aGUgdG9rZW4gc28gdGhhdCB0aGUgdHJhbnNmZXJpbmcgb2YgdmFsdWUgaXMgZW5hYmxlZCAKICAgICAqCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHVubG9ja2luZyB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gdW5sb2NrKCkgcHVibGljIG9ubHlfb3duZXIgcmV0dXJucyAoYm9vbCkgIHsKICAgICAgICBsb2NrZWQgPSBmYWxzZTsKICAgICAgICByZXR1cm4gIWxvY2tlZDsKICAgIH0KCgogICAgLyoqCiAgICAgKiBJc3N1ZXMgYF92YWx1ZWAgbmV3IHRva2VucyB0byBgX3RvYAogICAgICoKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gd2hpY2ggdGhlIHRva2VucyB3aWxsIGJlIGlzc3VlZAogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIG5ldyB0b2tlbnMgdG8gaXNzdWUKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIGlzc3VlKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIG9ubHlfb3duZXIgc2FmZV9hcmd1bWVudHMoMikgcmV0dXJucyAoYm9vbCkgewogICAgICAgIAogICAgICAgIC8vIENoZWNrIGZvciBvdmVyZmxvd3MKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW190b10gKyBfdmFsdWUgPj0gYmFsYW5jZXNbX3RvXSk7CgogICAgICAgIC8vIENyZWF0ZSB0b2tlbnMKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICB0b3RhbFRva2VuU3VwcGx5ICs9IF92YWx1ZTsKCiAgICAgICAgLy8gTm90aWZ5IGxpc3RlbmVycyAKICAgICAgICBUcmFuc2ZlcigwLCB0aGlzLCBfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKHRoaXMsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBCdXJucyBgX3ZhbHVlYCB0b2tlbnMgb2YgYF9yZWNpcGllbnRgCiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIHRoYXQgb3ducyB0aGUgdG9rZW5zIHRvIGJlIGJ1cm5lZAogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBidXJuZWQKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgdG9rZW5zIHdoZXJlIHN1Y2Vzc2Z1bGx5IGJ1cm5lZCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gYnVybihhZGRyZXNzIF9mcm9tLCB1aW50IF92YWx1ZSkgcHVibGljIG9ubHlfb3duZXIgc2FmZV9hcmd1bWVudHMoMikgcmV0dXJucyAoYm9vbCkgewoKICAgICAgICAvLyBDaGVjayBpZiB0aGUgdG9rZW4gb3duZXIgaGFzIGVub3VnaCB0b2tlbnMKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUpOwoKICAgICAgICAvLyBDaGVjayBmb3Igb3ZlcmZsb3dzCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfZnJvbV0gLSBfdmFsdWUgPD0gYmFsYW5jZXNbX2Zyb21dKTsKCiAgICAgICAgLy8gQnVybiB0b2tlbnMKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgIHRvdGFsVG9rZW5TdXBwbHkgLT0gX3ZhbHVlOwoKICAgICAgICAvLyBOb3RpZnkgbGlzdGVuZXJzIAogICAgICAgIFRyYW5zZmVyKF9mcm9tLCAwLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9CgoKLyoqCiAqIEtBVE0gVXRpbGl0eSB0b2tlbiAoS0FUWCkKICoKICogS0FUWCBhcyBpbmRpY2F0ZWQgYnkgaXRzIOKAmFjigJkgZGVzaWduYXRpb24gaXMgdGhlIHV0aWxpdHkgdG9rZW4gZm9yIHRob3NlIHdobyBhcmUgdW5kZXIgc3RyaWN0IAogKiBjb21wbGlhbmNlIHdpdGhpbiB0aGVpciBjb3VudHJ5IG9mIHJlc2lkZW5jZSwgYW5kIGRvZXMgbm90IGVudGl0bGUgaG9sZGVycyB0byBwcm9maXQgc2hhcmluZy4KICoKICogI2NyZWF0ZWQgMzAvMTAvMjAxNwogKiAjYXV0aG9yIEZyYW5rIEJvbm5ldAogKi8KY29udHJhY3QgS0FUWFRva2VuIGlzIE1hbmFnZWRUb2tlbiwgT2JzZXJ2YWJsZSwgVG9rZW5SZXRyaWV2ZXIgewoKCiAgICAvKioKICAgICAqIENvbnN0cnVjdCB0aGUgbWFuYWdlZCB1dGlsaXR5IHRva2VuCiAgICAgKi8KICAgIGZ1bmN0aW9uIEtBVFhUb2tlbigpIHB1YmxpYyBNYW5hZ2VkVG9rZW4oIktBVE0gVXRpbGl0eSIsICJLQVRYIiwgOCwgZmFsc2UpIHt9CgoKICAgIC8qKgogICAgICogUmV0dXJucyB3aGV0aGVyIHNlbmRlciBpcyBhbGxvd2VkIHRvIHJlZ2lzdGVyIGBfb2JzZXJ2ZXJgCiAgICAgKgogICAgICogQHBhcmFtIF9vYnNlcnZlciBUaGUgYWRkcmVzcyB0byByZWdpc3RlciBhcyBhbiBvYnNlcnZlcgogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSBzZW5kZXIgaXMgYWxsb3dlZCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gY2FuUmVnaXN0ZXJPYnNlcnZlcihhZGRyZXNzIF9vYnNlcnZlcikgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIF9vYnNlcnZlciAhPSBhZGRyZXNzKHRoaXMpICYmIGlzT3duZXIobXNnLnNlbmRlcik7CiAgICB9CgoKICAgIC8qKgogICAgICogUmV0dXJucyB3aGV0aGVyIHNlbmRlciBpcyBhbGxvd2VkIHRvIHVucmVnaXN0ZXIgYF9vYnNlcnZlcmAKICAgICAqCiAgICAgKiBAcGFyYW0gX29ic2VydmVyIFRoZSBhZGRyZXNzIHRvIHVucmVnaXN0ZXIgYXMgYW4gb2JzZXJ2ZXIKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgc2VuZGVyIGlzIGFsbG93ZWQgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIGNhblVucmVnaXN0ZXJPYnNlcnZlcihhZGRyZXNzIF9vYnNlcnZlcikgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIG1zZy5zZW5kZXIgPT0gX29ic2VydmVyIHx8IGlzT3duZXIobXNnLnNlbmRlcik7CiAgICB9CgoKICAgIC8qKiAKICAgICAqIFNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgICAqIC0gTm90aWZpZXMgcmVnaXN0ZXJlZCBvYnNlcnZlcnMgd2hlbiB0aGUgb2JzZXJ2ZXIgcmVjZWl2ZXMgdG9rZW5zCiAgICAgKiAKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgYm9vbCByZXN1bHQgPSBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgICAgICAgaWYgKGlzT2JzZXJ2ZXIoX3RvKSkgewogICAgICAgICAgICBJVG9rZW5PYnNlcnZlcihfdG8pLm5vdGlmeVRva2Vuc1JlY2VpdmVkKG1zZy5zZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKCiAgICAvKiogCiAgICAgKiBTZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYF9mcm9tYCBvbiB0aGUgY29uZGl0aW9uIGl0IGlzIGFwcHJvdmVkIGJ5IGBfZnJvbWAKICAgICAqIC0gTm90aWZpZXMgcmVnaXN0ZXJlZCBvYnNlcnZlcnMgd2hlbiB0aGUgb2JzZXJ2ZXIgcmVjZWl2ZXMgdG9rZW5zCiAgICAgKiAKICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBib29sIHJlc3VsdCA9IHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIGlmIChpc09ic2VydmVyKF90bykpIHsKICAgICAgICAgICAgSVRva2VuT2JzZXJ2ZXIoX3RvKS5ub3RpZnlUb2tlbnNSZWNlaXZlZChfZnJvbSwgX3ZhbHVlKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgoKICAgIC8qKgogICAgICogRmFpbHNhZmUgbWVjaGFuaXNtCiAgICAgKiAKICAgICAqIEFsbG93cyB0aGUgb3duZXIgdG8gcmV0cmlldmUgdG9rZW5zIGZyb20gdGhlIGNvbnRyYWN0IHRoYXQgCiAgICAgKiBtaWdodCBoYXZlIGJlZW4gc2VuZCB0aGVyZSBieSBhY2NpZGVudAogICAgICoKICAgICAqIEBwYXJhbSBfdG9rZW5Db250cmFjdCBUaGUgYWRkcmVzcyBvZiBFUkMyMCBjb21wYXRpYmxlIHRva2VuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHJldHJpZXZlVG9rZW5zKGFkZHJlc3MgX3Rva2VuQ29udHJhY3QpIHB1YmxpYyBvbmx5X293bmVyIHsKICAgICAgICBzdXBlci5yZXRyaWV2ZVRva2VucyhfdG9rZW5Db250cmFjdCk7CiAgICB9CgoKICAgIC8qKgogICAgICogUHJldmVudHMgdGhlIGFjY2lkZW50YWwgc2VuZGluZyBvZiBldGhlcgogICAgICovCiAgICBmdW5jdGlvbiAoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgcmV2ZXJ0KCk7CiAgICB9Cn0='.
	

]
