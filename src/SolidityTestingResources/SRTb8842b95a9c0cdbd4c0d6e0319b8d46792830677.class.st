Class {
	#name : #SRTb8842b95a9c0cdbd4c0d6e0319b8d46792830677,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTb8842b95a9c0cdbd4c0d6e0319b8d46792830677 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovLyBNTU1NV0trazBLTk1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1XTktPa09LV01NTU1NTSAvLwovLyBNTU1NWGwuLi4uLixjZE9YV01NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1XWE9vOiwuLi4uLmROTU1NTSAvLwovLyBNTU1XZC4gICAgICAgIC4nY3hLV01NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1XMGQ6Jy4gICAgICAgIC54TU1NTSAvLwovLyBNTU1LLCAgIC4uLi4uLiAgIC4uOnhYV01NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1XS2Q7LiAgICAuLi4uLiAgICA6WE1NTSAvLwovLyBNTVdkLiAgIC47OzssLCcuLiAgIC4nbGtYTldXTk5OV01NTU1NTU1NTU1XTk5XV1dOS2tjLi4gIC4uLicsOzs7LC4gICAua01NTSAvLwovLyBNTU5jICAgLiw6Ojo6Ojo7LCcuLiAgIC4uLDs7LCxkTk1NTU1NTU1NTU1YbCw7OzssLi4gICAuLic7Ozo6Ojo6OicuICAubFdNTSAvLwovLyBNTTAnICAgLjs6Ojo6Ojo6OzsnLi4gICAgICAgIDswTU1NTU1NTU1NTU1XTycgICAgICAgIC4uLDs7Ojo6Ojo6OjsuICAgO0tNTSAvLwovLyBNTXguICAuJzs6Ojo6OywnLi4uICAgICAgICAuOjBNTU1NTU1NTU1NTU1NV087LiAgICAgICAgLi4uJzs7Ojo6OjsuLiAgLk9NTSAvLwovLyBNV2QuICAuLDo6OjsnLi4gICAgICAgICAgLix4Tk1NTU1NTU1NTU1NTU1NTU1YZCcuICAgICAgICAgIC4uLDs6OjonLiAgLnhNTSAvLwovLyBNTmwuICAuLDo7Jy4uICAgICAgICAgLixja05NTU1NTU1NTU1NTU1NTU1NTU1NTVh4YycuICAgICAgICAgLi4nOzosLiAgLmRXTSAvLwovLyBNTmMgICAuLCwuLiAgICAuOzpjbG94ME5XWFhXTU1NTU1NTU1NTU1NTU1NTU1NV1hYV1hPeG9sYzo7LiAgICAuLiwnLiAgLm9XTSAvLwovLyBNTmMgICAuLi4gICAgIC5vV01NTU5YTk1XMG9kWE1NTU1NTU1NTU1NTU1NTU1Lb29LV01OWE5NTU1OYy4gICAgIC4uLiAgLm9XTSAvLwovLyBNTmMuICAgICAgICAgIDtLTU1NTU5rb2tOTVhsY0tNTU1NTU1NTU1NTU1NTTBjb05NTnhvT1dNTU1NMCwgICAgICAgICAgLm9XTSAvLwovLyBNTmMgICAgICAgICAuOzBNTU1NTU1XTzpkTk1Ob3hXTU1NTU1NTU1NTU1NTmRkTk1Ob2NLTU1NTU1NV08sICAgICAgICAgLm9XTSAvLwovLyBNWDogICAgICAgIC5sWE1NTU1NTU1NTTBsT01NTlhXTU1NTU1NTU1NTU1NV1hOTU1rbEtNTU1NTU1NTU0wOi4gICAgICAgLmxOTSAvLwovLyBNWDsgICAgICAuO2tXTU1NTU1NTU1NTU1YTk1NTU1NTU1NTU1NTU1NTU1NTU1NTU1OTk1NTU1NTU1NTU1NTngsLiAgICAgIGNOTSAvLwovLyBNTy4gICAgLjprTk1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1OeDouICAuICwwTSAvLwovLyBXbC4uJzpkS1dNTU1NTU1NV05LMDAwS05NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NV05LMDAwS05NTU1NTU1NTVcwbzsuLi5kVyAvLwovLyBOeGRPWFdNTU1NTU1NVzBvbGNjOjo7LCxjeFhXTU1NTU1NTU1NTU1NTU1NTU1NV0tkOiwsOzo6Y2NsZDBXTU1NTU1NTVdLa29rVyAvLwovLyBNTU1NTU1NTU1NTVdPbGNkMFhXV1dOMHg6LixPTU1NTU1NTU1NTU1NTU1NTU1XaywnY3hLTldXV1hPZGNsME1NTU1NTU1NTU1NTSAvLwovLyBNTU1NTU1NTU1NTVdLS1dNTU1NTU1NTU1XSzBYTU1NTU1NTU1NTU1NTU1NTU1NWE9YV01NTU1NTU1NTU4wWE1NTU1NTU1NTU1NTSAvLwovLyBNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTVdLME9PT08wS1dNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTSAvLwovLyBNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTm8uLi4uLi4uJ3hXTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTSAvLwovLyBNTU1OS09ra2trMFhOTU1NTU1NTU1NTU1NTU1NTU1NV087LiAgICAuOjBXTU1NTU1NTU1NTU1NTU1NTU1XTktPa2tra09LTk1NTSAvLwovLyBNTVdYT2t4ZGRvZGR4eGtLV01NTU1NTU1NTU1NTU1NTU1Yby4uLidkTk1NTU1NTU1NTU1NTU1NTU1OMGt4eGRvZGRkeGswWE1NTSAvLwovLyBNTU1NTU1NTU1NTU1XTktLTk1NTU1NTU1NTU1NTU1NTU1XT2MsLGMwV01NTU1NTU1NTU1NTU1NTU1YS0tOV01NTU1NTU1NTU1NTSAvLwovLyBNTU1NTU1NTVdYS0tYWE5XTU1NTU1NTU1NTVdXV1dXWDB4Y2NsYzpjeEtOV1dXV1dNTU1NTU1NTU1NV05YWEtLWFdNTU1NTU1NTSAvLwovLyBNTU1XWE94ZG9vb2RkeGtPME5NTU1NTU1NV0treHhkbGxveEtOWDBkb2xvZHh4a1hNTU1NTU1NV1gwT2t4ZGRvb2RkeE9YV01NTSAvLwovLyBNTU1XWEtLTk5XTU1NTU1XV1dNTU1NTU1NTU1XTlhYWE5XTU1NTU1NV1hYWFhOV01NTU1NTU1NTVdXV01NTU1XV05YS0tOV01NTSAvLwovLyBNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTSAvLwovLyBNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTSAvLwovLyBNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gTHVja3kgIE1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTSAvLwovLyBNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gTnVtYmVyIE1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTSAvLwovLyBNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLS0tLS0tIE1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTSAvLwovLyBNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gUmFuZG9tIE1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTSAvLwovLyBNTSBDb250cmFjdCBkZXNpZ24gYnkgTU1NTU1NTU1NTU0gTGVkZ2VyIE1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTSAvLwovLyA9PiAweDdDNjAxRDVEQ2Q5N0I2ODBkZDYyM2ZmODE2RDIzMzg5OGU2QUQ4ZEMgPD1NTU1NTU1NICsuKy4rLiAtPiBNTVhWSUkgTSAvLwovLyBNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTSAvLwoKCi8vIE1hbmFnZXMgY29udHJhY3Qgb3duZXJzaGlwLgpjb250cmFjdCBPd25lZCB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIGZ1bmN0aW9uIG93bmVkKCkgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICAgICAgb3duZXIgPSBfbmV3T3duZXI7CiAgICB9Cn0KCmNvbnRyYWN0IE1vcnRhbCBpcyBPd25lZCB7CiAgICAvKiBGdW5jdGlvbiB0byByZWNvdmVyIHRoZSBmdW5kcyBvbiB0aGUgY29udHJhY3QgKi8KICAgIGZ1bmN0aW9uIGtpbGwoKSBvbmx5T3duZXIgewogICAgICAgIHNlbGZkZXN0cnVjdChvd25lcik7CiAgICB9Cn0KCi8qIHRha2luZyBpZGVhcyBmcm9tIEZpcnN0Qmxvb2QgdG9rZW4gKi8KY29udHJhY3QgU2FmZU1hdGggewogICAgZnVuY3Rpb24gc2FmZUFkZCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgaW50ZXJuYWwgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiB6ID0geCArIHk7CiAgICAgICAgYXNzZXJ0KCh6ID49IHgpICYmICh6ID49IHkpKTsKICAgICAgICByZXR1cm4gejsKICAgIH0KICAgIGZ1bmN0aW9uIHNhZmVTdWJ0cmFjdCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgaW50ZXJuYWwgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KHggPj0geSk7CiAgICAgICAgdWludDI1NiB6ID0geCAtIHk7CiAgICAgICAgcmV0dXJuIHo7CiAgICB9CiAgICBmdW5jdGlvbiBzYWZlTXVsdCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgaW50ZXJuYWwgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiB6ID0geCAqIHk7CiAgICAgICAgYXNzZXJ0KCh4ID09IDApfHwoei94ID09IHkpKTsKICAgICAgICByZXR1cm4gejsKICAgIH0KfQoKLy8gUmFuZG9tIGlzIGEgYmxvY2sgaGFzaCBiYXNlZCByYW5kb20gbnVtYmVyIGdlbmVyYXRvci4KLy8gdGhpcyBpcyBwdWJsaWMgc28gcmVxdWVzdG9ycyBjYW4gdmFsaWRhdGUgdGhpZXIgbnVtYmVycwovLyBpbmRlcGVuZGVudCBvZiB0aGUgbmF0aXZlIHVzZXIgaW50ZXJmYWNlCmNvbnRyYWN0IFJhbmRvbSBpcyBTYWZlTWF0aCB7CiAgICAvLyBHZW5lcmF0ZXMgYSByYW5kb20gbnVtYmVyIGZyb20gMSB0byBtYXggYmFzZWQgb24gdGhlIGxhc3QgYmxvY2sgaGFzaC4KICAgIGZ1bmN0aW9uIGdldFJhbmQodWludCBibG9ja051bWJlciwgdWludCBtYXgpCiAgICBwdWJsaWMKICAgIGNvbnN0YW50IAogICAgcmV0dXJucyh1aW50KSB7CiAgICAgICAgLy8gYmxvY2suYmxvY2toYXNoKHVpbnQgYmxvY2tOdW1iZXIpIHJldHVybnMgKGJ5dGVzMzIpOiBoYXNoIG9mIHRoZSBnaXZlbiBibG9jawogICAgICAgIC8vIG9ubHkgd29ya3MgZm9yIDI1NiBtb3N0IHJlY2VudCBibG9ja3MgZXhjbHVkaW5nIGN1cnJlbnQKICAgICAgICByZXR1cm4oc2FmZUFkZCh1aW50KHNoYTMoYmxvY2suYmxvY2toYXNoKGJsb2NrTnVtYmVyKSkpICUgbWF4LCAxKSk7CiAgICB9Cn0KCi8vIEx1Y2t5TnVtYmVyIGlzIHRoZSBtYWluIHB1YmxpYyBpbnRlcmZhY2UgZm9yIGEgcmFuZG9tIG51bWJlciBsZWRnZXIuCi8vIFRvIG1ha2UgYSByZXF1ZXN0OgovLyAgIFN0ZXAgMTogQ2FsbCByZXF1ZXN0TnVtYmVyIHdpdGggdGhlIGBjb3N0YCBhcyB0aGUgdmFsdWUKLy8gICBTdGVwIDI6IFdhaXQgd2FpdFRpbWUgaW4gYmxvY2tzIHBhc3QgdGhlIGJsb2NrIHdoaWNoIG1pbmVzIHRyYW5zYWN0aW9uIGZvciByZXF1ZXN0TnVtYmVyCi8vICAgU3RlcCAzOiBDYWxsIHJldmVhbE51bWJlcigpIHRvIGdlbmVyYXRlIHRoZSBudW1iZXIsIGFuZCBtYWtlIGl0IHB1YmxpY2x5IGFjY2Vzc2FibGUgaW4gdGhlIFVJLgovLyAgICAgICAgICAgdGhpcyBpcyByZXF1aXJlZCB0byBjcmVhdGUgdGhlIEV2ZW50cyB3aGljaCBnZW5lcmF0ZSB0aGUgTGVkZ2VyLiAKY29udHJhY3QgTHVja3lOdW1iZXIgaXMgT3duZWQgewogICAgLy8gY29zdCB0byBnZW5lcmF0ZSBhIHJhbmRvbSBudW1iZXIgaW4gV2VpLgogICAgdWludDI1NiBwdWJsaWMgY29zdDsKICAgIC8vIHdhaXRUaW1lIGlzIHRoZSBudW1iZXIgb2YgYmxvY2tzIGJlZm9yZSByYW5kb20gaXMgZ2VuZXJhdGVkLgogICAgdWludDggcHVibGljIHdhaXRUaW1lOwogICAgLy8gc2V0IGRlZmF1bHQgbWF4CiAgICB1aW50MjU2IHB1YmxpYyBtYXg7CgogICAgLy8gUGVuZGluZ051bWJlciByZXByZXNlbnRzIG9uZSBudW1iZXIuCiAgICBzdHJ1Y3QgUGVuZGluZ051bWJlciB7CiAgICAgICAgYWRkcmVzcyBwcm94eTsKICAgICAgICB1aW50MjU2IHJlbmRlcmVkTnVtYmVyOwogICAgICAgIHVpbnQyNTYgY3JlYXRpb25CbG9ja051bWJlcjsKICAgICAgICB1aW50MjU2IG1heDsKICAgICAgICAvLyBibG9jayB0byB3YWl0CiAgICAgICAgLy8gdGhpcyB3aWxsIGFsc28gYmUgdXNlZCBhcwogICAgICAgIC8vIGFuIGFjdGl2ZSBib29sIHRvIHNhdmUgc29tZSBzdG9yYWdlCiAgICAgICAgdWludDggd2FpdFRpbWU7CiAgICB9CgogICAgLy8gZm9yIE51bWJlciBDb25maWcKICAgIGV2ZW50IEV2ZW50THVja3lOdW1iZXJVcGRhdGVkKHVpbnQyNTYgY29zdCwgdWludDI1NiBtYXgsIHVpbnQ4IHdhaXRUaW1lKTsKICAgIC8vIGZvciBOdW1iZXIgTGVkZ2VyCiAgICBldmVudCBFdmVudEx1Y2t5TnVtYmVyUmVxdWVzdGVkKGFkZHJlc3MgcmVxdWVzdG9yLCB1aW50MjU2IG1heCwgdWludDI1NiBjcmVhdGlvbkJsb2NrTnVtYmVyLCB1aW50OCB3YWl0VGltZSk7CiAgICBldmVudCBFdmVudEx1Y2t5TnVtYmVyUmV2ZWFsZWQoYWRkcmVzcyByZXF1ZXN0b3IsIHVpbnQyNTYgbWF4LCB1aW50MjU2IHJlbmRlcmVkTnVtYmVyKTsKICAgIAogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBQZW5kaW5nTnVtYmVyKSBwdWJsaWMgcGVuZGluZ051bWJlcnM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyB3aGl0ZUxpc3Q7CgogICAgZnVuY3Rpb24gcmVxdWVzdE51bWJlcihhZGRyZXNzIF9yZXF1ZXN0b3IsIHVpbnQyNTYgX21heCwgdWludDggX3dhaXRUaW1lKSBwYXlhYmxlIHB1YmxpYzsKICAgIGZ1bmN0aW9uIHJldmVhbE51bWJlcihhZGRyZXNzIF9yZXF1ZXN0b3IpIHBheWFibGUgcHVibGljOwp9CgovLyBMdWNreU51bWJlciBJbXBsZW1lbnRhdGlvbgpjb250cmFjdCBMdWNreU51bWJlckltcCBpcyBMdWNreU51bWJlciwgTW9ydGFsLCBSYW5kb20gewogICAgCiAgICAvLyBJbml0aWFsaXplIHN0YXRlICsuKy4rLgogICAgZnVuY3Rpb24gTHVja3lOdW1iZXJJbXAoKSB7CiAgICAgICAgb3duZWQoKTsKICAgICAgICAvLyBkZWZhdWx0cwogICAgICAgIGNvc3QgPSAyMDAwMDAwMDAwMDAwMDAwMDsgLy8gMC4wMiBldGhlciAvLyAyMCBmaW5uZXkKICAgICAgICBtYXggPSAxNTsgLy8gZ2VuZXJhdGUgbnVtYmVyIGJldHdlZW4gMSBhbmQgMTUKICAgICAgICB3YWl0VGltZSA9IDM7IC8vIDMgYmxvY2tzCiAgICB9CgogICAgLy8gQWxsb3cgdGhlIG93bmVyIHRvIHNldCBwcm94eSBjb250cmFjdHMKICAgIC8vIHdoaWNoIGNhbiBhY2NlcHQgdG9rZW5zCiAgICAvLyBvbiBiZWhhbGYgb2YgdGhpcyBjb250cmFjdAogICAgZnVuY3Rpb24gZW5hYmxlUHJveHkoYWRkcmVzcyBfcHJveHkpCiAgICBvbmx5T3duZXIKICAgIHB1YmxpYwogICAgcmV0dXJucyAoYm9vbCkgewogICAgICAgIC8vIF9jb3N0CiAgICAgICAgd2hpdGVMaXN0W19wcm94eV0gPSB0cnVlOwogICAgICAgIHJldHVybiB3aGl0ZUxpc3RbX3Byb3h5XTsKICAgIH0KCiAgICBmdW5jdGlvbiByZW1vdmVQcm94eShhZGRyZXNzIF9wcm94eSkKICAgIG9ubHlPd25lcgogICAgcHVibGljCiAgICByZXR1cm5zIChib29sKSB7CiAgICAgICAgZGVsZXRlIHdoaXRlTGlzdFtfcHJveHldOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIEFsbG93IHRoZSBvd25lciB0byBzZXQgbWF4LgogICAgZnVuY3Rpb24gc2V0TWF4KHVpbnQyNTYgX21heCkKICAgIG9ubHlPd25lcgogICAgcHVibGljCiAgICByZXR1cm5zIChib29sKSB7CiAgICAgICAgbWF4ID0gX21heDsKICAgICAgICBFdmVudEx1Y2t5TnVtYmVyVXBkYXRlZChjb3N0LCBtYXgsIHdhaXRUaW1lKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBBbGxvdyB0aGUgb3duZXIgdG8gc2V0IHdhaXRUaW1lLiAoaW4gYmxvY2tzKQogICAgZnVuY3Rpb24gc2V0V2FpdFRpbWUodWludDggX3dhaXRUaW1lKQogICAgb25seU93bmVyCiAgICBwdWJsaWMKICAgIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB3YWl0VGltZSA9IF93YWl0VGltZTsKICAgICAgICBFdmVudEx1Y2t5TnVtYmVyVXBkYXRlZChjb3N0LCBtYXgsIHdhaXRUaW1lKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBBbGxvdyB0aGUgb3duZXIgdG8gc2V0IGNvc3QuCiAgICBmdW5jdGlvbiBzZXRDb3N0KHVpbnQyNTYgX2Nvc3QpCiAgICBvbmx5T3duZXIKICAgIHB1YmxpYwogICAgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGNvc3QgPSBfY29zdDsKICAgICAgICBFdmVudEx1Y2t5TnVtYmVyVXBkYXRlZChjb3N0LCBtYXgsIHdhaXRUaW1lKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgLy8gQWxsb3cgdGhlIG93bmVyIHRvIGNhc2ggb3V0IHRoZSBob2xkaW5ncyBvZiB0aGlzIGNvbnRyYWN0LgogICAgZnVuY3Rpb24gd2l0aGRyYXcoYWRkcmVzcyBfcmVjaXBpZW50LCB1aW50MjU2IF9iYWxhbmNlKQogICAgb25seU93bmVyCiAgICBwdWJsaWMKICAgIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBfcmVjaXBpZW50LnRyYW5zZmVyKF9iYWxhbmNlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBBc3N1bWUgdGhhdCBzaW1wbGUgdHJhbnNhY3Rpb25zIGFyZSB0cnlpbmcgdG8gcmVxdWVzdCBhIG51bWJlciwgdW5sZXNzIGl0IGlzCiAgICAvLyBmcm9tIHRoZSBvd25lci4KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgcHVibGljIHsKICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgewogICAgICAgICAgICByZXF1ZXN0TnVtYmVyKG1zZy5zZW5kZXIsIG1heCwgd2FpdFRpbWUpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgLy8gUmVxdWVzdCBhIE51bWJlci4KICAgIGZ1bmN0aW9uIHJlcXVlc3ROdW1iZXIoYWRkcmVzcyBfcmVxdWVzdG9yLCB1aW50MjU2IF9tYXgsIHVpbnQ4IF93YWl0VGltZSkKICAgIHBheWFibGUgCiAgICBwdWJsaWMgewogICAgICAgIC8vIGV4dGVybmFsIHJlcXVpcmVtZW50OiAKICAgICAgICAvLyB2YWx1ZSBtdXN0IGV4Y2VlZCBjb3N0CiAgICAgICAgLy8gdW5sZXNzIGFkZHJlc3MgaXMgd2hpdGVsaXN0ZWQKICAgICAgICBpZiAoIXdoaXRlTGlzdFttc2cuc2VuZGVyXSkgewogICAgICAgICAgICByZXF1aXJlKCEobXNnLnZhbHVlIDwgY29zdCkpOwogICAgICAgIH0KCiAgICAgICAgLy8gaW50ZXJuYWwgcmVxdWlyZW1lbnQ6IAogICAgICAgIC8vIHJlcXVlc3QgYWRkcmVzcyBtdXN0IG5vdCBoYXZlIHBlbmRpbmcgbnVtYmVyCiAgICAgICAgYXNzZXJ0KCFjaGVja051bWJlcihfcmVxdWVzdG9yKSk7CiAgICAgICAgLy8gc2V0IHBlbmRpbmcgbnVtYmVyCiAgICAgICAgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0gPSBQZW5kaW5nTnVtYmVyKHsKICAgICAgICAgICAgcHJveHk6IHR4Lm9yaWdpbiwKICAgICAgICAgICAgcmVuZGVyZWROdW1iZXI6IDAsCiAgICAgICAgICAgIG1heDogbWF4LAogICAgICAgICAgICBjcmVhdGlvbkJsb2NrTnVtYmVyOiBibG9jay5udW1iZXIsCiAgICAgICAgICAgIHdhaXRUaW1lOiB3YWl0VGltZQogICAgICAgIH0pOwogICAgICAgIGlmIChfbWF4ID4gMSkgewogICAgICAgICAgICBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS5tYXggPSBfbWF4OwogICAgICAgIH0KICAgICAgICAvLyBtYXggMjUwIHdhaXQgdG8gbGVhdmUgYSBmZXcgYmxvY2tzCiAgICAgICAgLy8gZm9yIHRoZSByZXZlYWwgdHJhbnNjdGlvbiB0byBvY2N1cgogICAgICAgIC8vIGFuZCB3cml0ZSBmcm9tIHRoZSBwZW5kaW5nIG51bWJlcnMgYmxvY2sKICAgICAgICAvLyBiZWZvcmUgaXQgZXhwaXJlcwogICAgICAgIGlmIChfd2FpdFRpbWUgPiAwICYmIF93YWl0VGltZSA8IDI1MCkgewogICAgICAgICAgICBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS53YWl0VGltZSA9IF93YWl0VGltZTsKICAgICAgICB9CiAgICAgICAgRXZlbnRMdWNreU51bWJlclJlcXVlc3RlZChfcmVxdWVzdG9yLCBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS5tYXgsIHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLmNyZWF0aW9uQmxvY2tOdW1iZXIsIHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLndhaXRUaW1lKTsKICAgIH0KCiAgICAvLyBPbmx5IHJlcXVlc3RvciBvciBwcm94eSBjYW4gZ2VuZXJhdGUgdGhlIG51bWJlcgogICAgZnVuY3Rpb24gcmV2ZWFsTnVtYmVyKGFkZHJlc3MgX3JlcXVlc3RvcikKICAgIHB1YmxpYwogICAgcGF5YWJsZSB7CiAgICAgICAgYXNzZXJ0KF9jYW5SZXZlYWwoX3JlcXVlc3RvciwgbXNnLnNlbmRlcikpOwogICAgICAgIF9yZXZlYWxOdW1iZXIoX3JlcXVlc3Rvcik7CiAgICB9CgogICAgLy8gSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gb2YgcmV2ZWFsTnVtYmVyKCkuCiAgICBmdW5jdGlvbiBfcmV2ZWFsTnVtYmVyKGFkZHJlc3MgX3JlcXVlc3RvcikgCiAgICBpbnRlcm5hbCB7CiAgICAgICAgLy8gd2FpdFRpbWUgaGFzIHBhc3NlZCwgcmVuZGVyIHRoaXMgcmVxdWVzdG9yJ3MgbnVtYmVyLgogICAgICAgIHVpbnQyNTYgbHVja3lCbG9jayA9IF9yZXZlYWxCbG9jayhfcmVxdWVzdG9yKTsKICAgICAgICAvLyAKICAgICAgICAvLyBUSU1FIExJTUlUQVRJT046CiAgICAgICAgLy8gYmxvY2tzIG9sZGVyIHRoYW4gKGN1cnJlbnRCbG9jayAtIDI1NikgCiAgICAgICAgLy8gImV4cGlyZSIgYW5kIHJlYWQgdGhlIHNhbWUgaGFzaCBhcyBtb3N0IHJlY2VudCB2YWxpZCBibG9jawogICAgICAgIC8vIAogICAgICAgIHVpbnQyNTYgbHVja3lOdW1iZXIgPSBnZXRSYW5kKGx1Y2t5QmxvY2ssIHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLm1heCk7CgogICAgICAgIC8vIHNldCBuZXcgdmFsdWVzCiAgICAgICAgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0ucmVuZGVyZWROdW1iZXIgPSBsdWNreU51bWJlcjsKICAgICAgICAvLyBldmVudAogICAgICAgIEV2ZW50THVja3lOdW1iZXJSZXZlYWxlZChfcmVxdWVzdG9yLCBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS5jcmVhdGlvbkJsb2NrTnVtYmVyLCBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS5yZW5kZXJlZE51bWJlcik7CiAgICAgICAgLy8gemVybyBvdXQgd2FpdCBibG9ja3Mgc2luY2UgdGhpcyBpcyBub3cgaW5hY3RpdmUKICAgICAgICBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS53YWl0VGltZSA9IDA7CiAgICAgICAgLy8gdXBkYXRlIGNyZWF0aW9uIGJsb2NrIGFzIG9uZSB1c2UgZm9yIG51bWJlciAocmVjb3JkIGtlZXBpbmcpCiAgICAgICAgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0uY3JlYXRpb25CbG9ja051bWJlciA9IDA7CiAgICB9CgogICAgZnVuY3Rpb24gY2FuUmV2ZWFsKGFkZHJlc3MgX3JlcXVlc3RvcikKICAgIHB1YmxpYwogICAgY29uc3RhbnQKICAgIHJldHVybnMgKGJvb2wsIHVpbnQsIHVpbnQsIGFkZHJlc3MsIGFkZHJlc3MpIHsKICAgICAgICByZXR1cm4gKF9jYW5SZXZlYWwoX3JlcXVlc3RvciwgbXNnLnNlbmRlciksIF9yZW1haW5pbmdCbG9ja3MoX3JlcXVlc3RvciksIF9yZXZlYWxCbG9jayhfcmVxdWVzdG9yKSwgX3JlcXVlc3RvciwgbXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gX2NhblJldmVhbChhZGRyZXNzIF9yZXF1ZXN0b3IsIGFkZHJlc3MgX3Byb3h5KSAKICAgIGludGVybmFsCiAgICBjb25zdGFudAogICAgcmV0dXJucyAoYm9vbCkgewogICAgICAgIC8vIGNoZWNrIGZvciBwZW5kaW5nIG51bWJlciByZXF1ZXN0CiAgICAgICAgaWYgKGNoZWNrTnVtYmVyKF9yZXF1ZXN0b3IpKSB7CiAgICAgICAgICAgIC8vIGNoZWNrIGZvciBubyByZW1haW5pbmcgYmxvY2tzIHRvIGJlIG1pbmVkCiAgICAgICAgICAgIC8vIG11c3Qgd2FpdCBmb3IgYHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLndhaXRUaW1lYCB0byBiZSBleGNjZWVkZWQKICAgICAgICAgICAgaWYgKF9yZW1haW5pbmdCbG9ja3MoX3JlcXVlc3RvcikgPT0gMCkgewogICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIG93bmVyc2hpcAogICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLnByb3h5ID09IF9yZXF1ZXN0b3IgfHwgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0ucHJveHkgPT0gX3Byb3h5KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIGZ1bmN0aW9uIF9yZW1haW5pbmdCbG9ja3MoYWRkcmVzcyBfcmVxdWVzdG9yKQogICAgaW50ZXJuYWwKICAgIGNvbnN0YW50CiAgICByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludDI1NiByZXZlYWxCbG9jayA9IHNhZmVBZGQocGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0uY3JlYXRpb25CbG9ja051bWJlciwgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0ud2FpdFRpbWUpOwogICAgICAgIHVpbnQyNTYgcmVtYWluaW5nQmxvY2tzID0gMDsKICAgICAgICBpZiAocmV2ZWFsQmxvY2sgPiBibG9jay5udW1iZXIpIHsKICAgICAgICAgICAgcmVtYWluaW5nQmxvY2tzID0gc2FmZVN1YnRyYWN0KHJldmVhbEJsb2NrLCBibG9jay5udW1iZXIpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVtYWluaW5nQmxvY2tzOwogICAgfQoKICAgIGZ1bmN0aW9uIF9yZXZlYWxCbG9jayhhZGRyZXNzIF9yZXF1ZXN0b3IpCiAgICBpbnRlcm5hbAogICAgY29uc3RhbnQKICAgIHJldHVybnMgKHVpbnQpIHsKICAgICAgICAvLyBhZGQgd2FpdCBibG9jayB0aW1lCiAgICAgICAgLy8gdG8gY3JlYXRpb24gYmxvY2sgdGltZQogICAgICAgIC8vIHRoZW4gc3VidHJhY3QgMQogICAgICAgIHJldHVybiBzYWZlQWRkKHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLmNyZWF0aW9uQmxvY2tOdW1iZXIsIHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLndhaXRUaW1lKTsKICAgIH0KCgogICAgZnVuY3Rpb24gZ2V0TnVtYmVyKGFkZHJlc3MgX3JlcXVlc3RvcikKICAgIHB1YmxpYwogICAgY29uc3RhbnQKICAgIHJldHVybnMgKHVpbnQsIHVpbnQsIHVpbnQsIGFkZHJlc3MpIHsKICAgICAgICByZXR1cm4gKHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLnJlbmRlcmVkTnVtYmVyLCBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS5tYXgsIHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLmNyZWF0aW9uQmxvY2tOdW1iZXIsIF9yZXF1ZXN0b3IpOwogICAgfQoKICAgIC8vIGlzIGEgbnVtYmVyIHBlbmRpbmcgZm9yIHRoaXMgcmVxdWVzdG9yPwogICAgLy8gVFJVRTogdGhlcmUgaXMgYSBudW1iZXIgcGVuZGluZwogICAgLy8gY2FuIG5vdCByZXF1ZXN0LCBjYW4gcmV2ZWFsCiAgICAvLyBGQUxTRTogdGhlcmUgaXMgbm90IGEgbnVtYmVyIHlldCBwZW5kaW5nCiAgICBmdW5jdGlvbiBjaGVja051bWJlcihhZGRyZXNzIF9yZXF1ZXN0b3IpCiAgICBwdWJsaWMKICAgIGNvbnN0YW50CiAgICByZXR1cm5zIChib29sKSB7CiAgICAgICAgaWYgKHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLnJlbmRlcmVkTnVtYmVyID09IDAgJiYgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0ud2FpdFRpbWUgPiAwKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9Ci8vIDB4TU1XS2trMEtOTT5IQkJpXE1BU1NhXERBTlRpXExBTlRlbi5NSS5NSS5NSS5NKy4rLisuTS0+TU1NV05LT2tPS1dKLkouSi5NIC8vCn0='.
	

]
