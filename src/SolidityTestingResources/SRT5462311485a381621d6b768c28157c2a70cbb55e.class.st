Class {
	#name : #SRT5462311485a381621d6b768c28157c2a70cbb55e,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5462311485a381621d6b768c28157c2a70cbb55e >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIFRva2VuTGliCiAqIEBhdXRob3IgTWFqb29sci5pbwogKgogKiB2ZXJzaW9uIDEuMi4xCiAqIENvcHlyaWdodCAoYykgMjAxNyBNYWpvb2xyLCBMTEMKICogVGhlIE1JVCBMaWNlbnNlIChNSVQpCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9NYWpvb2xyL2V0aGVyZXVtLWxpYnJhcmllcy9ibG9iL21hc3Rlci9MSUNFTlNFCiAqCiAqIFRoZSBUb2tlbiBMaWJyYXJ5IHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gY3JlYXRlIGEgdmFyaWV0eSBvZiBFUkMyMCB0b2tlbnMuCiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vTWFqb29sci9ldGhlcmV1bS1jb250cmFjdHMgZm9yIGFuIGV4YW1wbGUgb2YgaG93IHRvCiAqIGNyZWF0ZSBhIGJhc2ljIEVSQzIwIHRva2VuLgogKgogKiBNYWpvb2xyIHdvcmtzIG9uIG9wZW4gc291cmNlIHByb2plY3RzIGluIHRoZSBFdGhlcmV1bSBjb21tdW5pdHkgd2l0aCB0aGUKICogcHVycG9zZSBvZiB0ZXN0aW5nLCBkb2N1bWVudGluZywgYW5kIGRlcGxveWluZyByZXVzYWJsZSBjb2RlIG9udG8gdGhlCiAqIGJsb2NrY2hhaW4gdG8gaW1wcm92ZSBzZWN1cml0eSBhbmQgdXNhYmlsaXR5IG9mIHNtYXJ0IGNvbnRyYWN0cy4gTWFqb29scgogKiBhbHNvIHN0cml2ZXMgdG8gZWR1Y2F0ZSBub24tcHJvZml0cywgc2Nob29scywgYW5kIG90aGVyIGNvbW11bml0eSBtZW1iZXJzCiAqIGFib3V0IHRoZSBhcHBsaWNhdGlvbiBvZiBibG9ja2NoYWluIHRlY2hub2xvZ3kuCiAqIEZvciBmdXJ0aGVyIGluZm9ybWF0aW9uOiBtYWpvb2xyLmlvCiAqCiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTCiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YKICogTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULgogKiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWQogKiBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULAogKiBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRQogKiBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4KICovCgpsaWJyYXJ5IFRva2VuTGliIHsKICB1c2luZyBCYXNpY01hdGhMaWIgZm9yIHVpbnQyNTY7CgogIHN0cnVjdCBUb2tlblN0b3JhZ2UgewogICAgYm9vbCBpbml0aWFsaXplZDsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgogICAgc3RyaW5nIG5hbWU7CiAgICBzdHJpbmcgc3ltYm9sOwogICAgdWludDI1NiB0b3RhbFN1cHBseTsKICAgIHVpbnQyNTYgaW5pdGlhbFN1cHBseTsKICAgIGFkZHJlc3Mgb3duZXI7CiAgICB1aW50OCBkZWNpbWFsczsKICAgIGJvb2wgc3RpbGxNaW50aW5nOwogIH0KCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7CiAgZXZlbnQgT3duZXJDaGFuZ2UoYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvKTsKICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBidXJuZXIsIHVpbnQyNTYgdmFsdWUpOwogIGV2ZW50IE1pbnRpbmdDbG9zZWQoYm9vbCBtaW50aW5nQ2xvc2VkKTsKCiAgLy8vIEBkZXYgQ2FsbGVkIGJ5IHRoZSBTdGFuZGFyZCBUb2tlbiB1cG9uIGNyZWF0aW9uLgogIC8vLyBAcGFyYW0gc2VsZiBTdG9yZWQgdG9rZW4gZnJvbSB0b2tlbiBjb250cmFjdAogIC8vLyBAcGFyYW0gX25hbWUgTmFtZSBvZiB0aGUgbmV3IHRva2VuCiAgLy8vIEBwYXJhbSBfc3ltYm9sIFN5bWJvbCBvZiB0aGUgbmV3IHRva2VuCiAgLy8vIEBwYXJhbSBfZGVjaW1hbHMgRGVjaW1hbCBwbGFjZXMgZm9yIHRoZSB0b2tlbiByZXByZXNlbnRlZAogIC8vLyBAcGFyYW0gX2luaXRpYWxfc3VwcGx5IFRoZSBpbml0aWFsIHRva2VuIHN1cHBseQogIC8vLyBAcGFyYW0gX2FsbG93TWludGluZyBUcnVlIGlmIGFkZGl0aW9uYWwgdG9rZW5zIGNhbiBiZSBjcmVhdGVkLCBmYWxzZSBvdGhlcndpc2UKICBmdW5jdGlvbiBpbml0KFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYsCiAgICAgICAgICAgICAgICBhZGRyZXNzIF9vd25lciwKICAgICAgICAgICAgICAgIHN0cmluZyBfbmFtZSwKICAgICAgICAgICAgICAgIHN0cmluZyBfc3ltYm9sLAogICAgICAgICAgICAgICAgdWludDggX2RlY2ltYWxzLAogICAgICAgICAgICAgICAgdWludDI1NiBfaW5pdGlhbF9zdXBwbHksCiAgICAgICAgICAgICAgICBib29sIF9hbGxvd01pbnRpbmcpCiAgICAgICAgICAgICAgICBwdWJsaWMKICB7CiAgICByZXF1aXJlKCFzZWxmLmluaXRpYWxpemVkKTsKICAgIHNlbGYuaW5pdGlhbGl6ZWQgPSB0cnVlOwogICAgc2VsZi5uYW1lID0gX25hbWU7CiAgICBzZWxmLnN5bWJvbCA9IF9zeW1ib2w7CiAgICBzZWxmLnRvdGFsU3VwcGx5ID0gX2luaXRpYWxfc3VwcGx5OwogICAgc2VsZi5pbml0aWFsU3VwcGx5ID0gX2luaXRpYWxfc3VwcGx5OwogICAgc2VsZi5kZWNpbWFscyA9IF9kZWNpbWFsczsKICAgIHNlbGYub3duZXIgPSBfb3duZXI7CiAgICBzZWxmLnN0aWxsTWludGluZyA9IF9hbGxvd01pbnRpbmc7CiAgICBzZWxmLmJhbGFuY2VzW19vd25lcl0gPSBfaW5pdGlhbF9zdXBwbHk7CiAgfQoKICAvLy8gQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBjYWxsZXIncyBhY2NvdW50IHRvIGFub3RoZXIgYWNjb3VudC4KICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QKICAvLy8gQHBhcmFtIF90byBBZGRyZXNzIHRvIHNlbmQgdG9rZW5zCiAgLy8vIEBwYXJhbSBfdmFsdWUgTnVtYmVyIG9mIHRva2VucyB0byBzZW5kCiAgLy8vIEByZXR1cm4gVHJ1ZSBpZiBjb21wbGV0ZWQKICBmdW5jdGlvbiB0cmFuc2ZlcihUb2tlblN0b3JhZ2Ugc3RvcmFnZSBzZWxmLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIGJvb2wgZXJyOwogICAgdWludDI1NiBiYWxhbmNlOwoKICAgIChlcnIsYmFsYW5jZSkgPSBzZWxmLmJhbGFuY2VzW21zZy5zZW5kZXJdLm1pbnVzKF92YWx1ZSk7CiAgICByZXF1aXJlKCFlcnIpOwogICAgc2VsZi5iYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2U7CiAgICAvL0l0J3Mgbm90IHBvc3NpYmxlIHRvIG92ZXJmbG93IHRva2VuIHN1cHBseQogICAgc2VsZi5iYWxhbmNlc1tfdG9dID0gc2VsZi5iYWxhbmNlc1tfdG9dICsgX3ZhbHVlOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvLy8gQGRldiBBdXRob3JpemVkIGNhbGxlciB0cmFuc2ZlcnMgdG9rZW5zIGZyb20gb25lIGFjY291bnQgdG8gYW5vdGhlcgogIC8vLyBAcGFyYW0gc2VsZiBTdG9yZWQgdG9rZW4gZnJvbSB0b2tlbiBjb250cmFjdAogIC8vLyBAcGFyYW0gX2Zyb20gQWRkcmVzcyB0byBzZW5kIHRva2VucyBmcm9tCiAgLy8vIEBwYXJhbSBfdG8gQWRkcmVzcyB0byBzZW5kIHRva2VucyB0bwogIC8vLyBAcGFyYW0gX3ZhbHVlIE51bWJlciBvZiB0b2tlbnMgdG8gc2VuZAogIC8vLyBAcmV0dXJuIFRydWUgaWYgY29tcGxldGVkCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYsCiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgX2Zyb20sCiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgX3RvLAogICAgICAgICAgICAgICAgICAgICAgICB1aW50MjU2IF92YWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgcHVibGljCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybnMgKGJvb2wpCiAgewogICAgdmFyIF9hbGxvd2FuY2UgPSBzZWxmLmFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwogICAgYm9vbCBlcnI7CiAgICB1aW50MjU2IGJhbGFuY2VPd25lcjsKICAgIHVpbnQyNTYgYmFsYW5jZVNwZW5kZXI7CgogICAgKGVycixiYWxhbmNlT3duZXIpID0gc2VsZi5iYWxhbmNlc1tfZnJvbV0ubWludXMoX3ZhbHVlKTsKICAgIHJlcXVpcmUoIWVycik7CgogICAgKGVycixiYWxhbmNlU3BlbmRlcikgPSBfYWxsb3dhbmNlLm1pbnVzKF92YWx1ZSk7CiAgICByZXF1aXJlKCFlcnIpOwoKICAgIHNlbGYuYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZU93bmVyOwogICAgc2VsZi5hbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGJhbGFuY2VTcGVuZGVyOwogICAgc2VsZi5iYWxhbmNlc1tfdG9dID0gc2VsZi5iYWxhbmNlc1tfdG9dICsgX3ZhbHVlOwoKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8vLyBAZGV2IFJldHJpZXZlIHRva2VuIGJhbGFuY2UgZm9yIGFuIGFjY291bnQKICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QKICAvLy8gQHBhcmFtIF9vd25lciBBZGRyZXNzIHRvIHJldHJpZXZlIGJhbGFuY2Ugb2YKICAvLy8gQHJldHVybiBiYWxhbmNlIFRoZSBudW1iZXIgb2YgdG9rZW5zIGluIHRoZSBzdWJqZWN0IGFjY291bnQKICBmdW5jdGlvbiBiYWxhbmNlT2YoVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwgYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIHNlbGYuYmFsYW5jZXNbX293bmVyXTsKICB9CgogIC8vLyBAZGV2IEF1dGhvcml6ZSBhbiBhY2NvdW50IHRvIHNlbmQgdG9rZW5zIG9uIGNhbGxlcidzIGJlaGFsZgogIC8vLyBAcGFyYW0gc2VsZiBTdG9yZWQgdG9rZW4gZnJvbSB0b2tlbiBjb250cmFjdAogIC8vLyBAcGFyYW0gX3NwZW5kZXIgQWRkcmVzcyB0byBhdXRob3JpemUKICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIGF1dGhvcml6ZWQgYWNjb3VudCBtYXkgc2VuZAogIC8vLyBAcmV0dXJuIFRydWUgaWYgY29tcGxldGVkCiAgZnVuY3Rpb24gYXBwcm92ZShUb2tlblN0b3JhZ2Ugc3RvcmFnZSBzZWxmLCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIC8vIG11c3Qgc2V0IHRvIHplcm8gYmVmb3JlIGNoYW5naW5nIGFwcHJvdmFsIGFtb3VudCBpbiBhY2NvcmRhbmNlIHdpdGggc3BlYwogICAgcmVxdWlyZSgoX3ZhbHVlID09IDApIHx8IChzZWxmLmFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKCiAgICBzZWxmLmFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8vLyBAZGV2IFJlbWFpbmluZyB0b2tlbnMgdGhpcmQgcGFydHkgc3BlbmRlciBoYXMgdG8gc2VuZAogIC8vLyBAcGFyYW0gc2VsZiBTdG9yZWQgdG9rZW4gZnJvbSB0b2tlbiBjb250cmFjdAogIC8vLyBAcGFyYW0gX293bmVyIEFkZHJlc3Mgb2YgdG9rZW4gaG9sZGVyCiAgLy8vIEBwYXJhbSBfc3BlbmRlciBBZGRyZXNzIG9mIGF1dGhvcml6ZWQgc3BlbmRlcgogIC8vLyBAcmV0dXJuIHJlbWFpbmluZyBOdW1iZXIgb2YgdG9rZW5zIHNwZW5kZXIgaGFzIGxlZnQgaW4gb3duZXIncyBhY2NvdW50CiAgZnVuY3Rpb24gYWxsb3dhbmNlKFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYsIGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKQogICAgICAgICAgICAgICAgICAgICBwdWJsaWMKICAgICAgICAgICAgICAgICAgICAgdmlldwogICAgICAgICAgICAgICAgICAgICByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIHNlbGYuYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9CgogIC8vLyBAZGV2IEF1dGhvcml6ZSB0aGlyZCBwYXJ0eSB0cmFuc2ZlciBieSBpbmNyZWFzaW5nL2RlY3JlYXNpbmcgYWxsb3dlZCByYXRoZXIgdGhhbiBzZXR0aW5nIGl0CiAgLy8vIEBwYXJhbSBzZWxmIFN0b3JlZCB0b2tlbiBmcm9tIHRva2VuIGNvbnRyYWN0CiAgLy8vIEBwYXJhbSBfc3BlbmRlciBBZGRyZXNzIHRvIGF1dGhvcml6ZQogIC8vLyBAcGFyYW0gX3ZhbHVlQ2hhbmdlIEluY3JlYXNlIG9yIGRlY3JlYXNlIGluIG51bWJlciBvZiB0b2tlbnMgYXV0aG9yaXplZCBhY2NvdW50IG1heSBzZW5kCiAgLy8vIEBwYXJhbSBfaW5jcmVhc2UgVHJ1ZSBpZiBpbmNyZWFzaW5nIGFsbG93YW5jZSwgZmFsc2UgaWYgZGVjcmVhc2luZyBhbGxvd2FuY2UKICAvLy8gQHJldHVybiBUcnVlIGlmIGNvbXBsZXRlZAogIGZ1bmN0aW9uIGFwcHJvdmVDaGFuZ2UgKFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlQ2hhbmdlLCBib29sIF9pbmNyZWFzZSkKICAgICAgICAgICAgICAgICAgICAgICAgICBwdWJsaWMgcmV0dXJucyAoYm9vbCkKICB7CiAgICB1aW50MjU2IF9uZXdBbGxvd2VkOwogICAgYm9vbCBlcnI7CgogICAgaWYoX2luY3JlYXNlKSB7CiAgICAgIChlcnIsIF9uZXdBbGxvd2VkKSA9IHNlbGYuYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0ucGx1cyhfdmFsdWVDaGFuZ2UpOwogICAgICByZXF1aXJlKCFlcnIpOwoKICAgICAgc2VsZi5hbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF9uZXdBbGxvd2VkOwogICAgfSBlbHNlIHsKICAgICAgaWYgKF92YWx1ZUNoYW5nZSA+IHNlbGYuYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pIHsKICAgICAgICBzZWxmLmFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgICAgfSBlbHNlIHsKICAgICAgICBfbmV3QWxsb3dlZCA9IHNlbGYuYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gLSBfdmFsdWVDaGFuZ2U7CiAgICAgICAgc2VsZi5hbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF9uZXdBbGxvd2VkOwogICAgICB9CiAgICB9CgogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9uZXdBbGxvd2VkKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8vIEBkZXYgQ2hhbmdlIG93bmluZyBhZGRyZXNzIG9mIHRoZSB0b2tlbiBjb250cmFjdCwgc3BlY2lmaWNhbGx5IGZvciBtaW50aW5nCiAgLy8vIEBwYXJhbSBzZWxmIFN0b3JlZCB0b2tlbiBmcm9tIHRva2VuIGNvbnRyYWN0CiAgLy8vIEBwYXJhbSBfbmV3T3duZXIgQWRkcmVzcyBmb3IgdGhlIG5ldyBvd25lcgogIC8vLyBAcmV0dXJuIFRydWUgaWYgY29tcGxldGVkCiAgZnVuY3Rpb24gY2hhbmdlT3duZXIoVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwgYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKChzZWxmLm93bmVyID09IG1zZy5zZW5kZXIpICYmIChfbmV3T3duZXIgPiAwKSk7CgogICAgc2VsZi5vd25lciA9IF9uZXdPd25lcjsKICAgIE93bmVyQ2hhbmdlKG1zZy5zZW5kZXIsIF9uZXdPd25lcik7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8vLyBAZGV2IE1pbnRzIGFkZGl0aW9uYWwgdG9rZW5zLCBuZXcgdG9rZW5zIGdvIHRvIG93bmVyCiAgLy8vIEBwYXJhbSBzZWxmIFN0b3JlZCB0b2tlbiBmcm9tIHRva2VuIGNvbnRyYWN0CiAgLy8vIEBwYXJhbSBfYW1vdW50IE51bWJlciBvZiB0b2tlbnMgdG8gbWludAogIC8vLyBAcmV0dXJuIFRydWUgaWYgY29tcGxldGVkCiAgZnVuY3Rpb24gbWludFRva2VuKFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYsIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoKHNlbGYub3duZXIgPT0gbXNnLnNlbmRlcikgJiYgc2VsZi5zdGlsbE1pbnRpbmcpOwogICAgdWludDI1NiBfbmV3QW1vdW50OwogICAgYm9vbCBlcnI7CgogICAgKGVyciwgX25ld0Ftb3VudCkgPSBzZWxmLnRvdGFsU3VwcGx5LnBsdXMoX2Ftb3VudCk7CiAgICByZXF1aXJlKCFlcnIpOwoKICAgIHNlbGYudG90YWxTdXBwbHkgPSAgX25ld0Ftb3VudDsKICAgIHNlbGYuYmFsYW5jZXNbc2VsZi5vd25lcl0gPSBzZWxmLmJhbGFuY2VzW3NlbGYub3duZXJdICsgX2Ftb3VudDsKICAgIFRyYW5zZmVyKDB4MCwgc2VsZi5vd25lciwgX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8vLyBAZGV2IFBlcm1hbmVudCBzdG9wcyBtaW50aW5nCiAgLy8vIEBwYXJhbSBzZWxmIFN0b3JlZCB0b2tlbiBmcm9tIHRva2VuIGNvbnRyYWN0CiAgLy8vIEByZXR1cm4gVHJ1ZSBpZiBjb21wbGV0ZWQKICBmdW5jdGlvbiBjbG9zZU1pbnQoVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZikgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoc2VsZi5vd25lciA9PSBtc2cuc2VuZGVyKTsKCiAgICBzZWxmLnN0aWxsTWludGluZyA9IGZhbHNlOwogICAgTWludGluZ0Nsb3NlZCh0cnVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8vIEBkZXYgUGVybWFuZW50bHkgYnVybiB0b2tlbnMKICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QKICAvLy8gQHBhcmFtIF9hbW91bnQgQW1vdW50IG9mIHRva2VucyB0byBidXJuCiAgLy8vIEByZXR1cm4gVHJ1ZSBpZiBjb21wbGV0ZWQKICBmdW5jdGlvbiBidXJuVG9rZW4oVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICB1aW50MjU2IF9uZXdCYWxhbmNlOwogICAgICBib29sIGVycjsKCiAgICAgIChlcnIsIF9uZXdCYWxhbmNlKSA9IHNlbGYuYmFsYW5jZXNbbXNnLnNlbmRlcl0ubWludXMoX2Ftb3VudCk7CiAgICAgIHJlcXVpcmUoIWVycik7CgogICAgICBzZWxmLmJhbGFuY2VzW21zZy5zZW5kZXJdID0gX25ld0JhbGFuY2U7CiAgICAgIHNlbGYudG90YWxTdXBwbHkgPSBzZWxmLnRvdGFsU3VwcGx5IC0gX2Ftb3VudDsKICAgICAgQnVybihtc2cuc2VuZGVyLCBfYW1vdW50KTsKICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgMHgwLCBfYW1vdW50KTsKICAgICAgcmV0dXJuIHRydWU7CiAgfQp9CgpsaWJyYXJ5IEJhc2ljTWF0aExpYiB7CiAgLy8vIEBkZXYgTXVsdGlwbGllcyB0d28gbnVtYmVycyBhbmQgY2hlY2tzIGZvciBvdmVyZmxvdyBiZWZvcmUgcmV0dXJuaW5nLgogIC8vLyBEb2VzIG5vdCB0aHJvdy4KICAvLy8gQHBhcmFtIGEgRmlyc3QgbnVtYmVyCiAgLy8vIEBwYXJhbSBiIFNlY29uZCBudW1iZXIKICAvLy8gQHJldHVybiBlcnIgRmFsc2Ugbm9ybWFsbHksIG9yIHRydWUgaWYgdGhlcmUgaXMgb3ZlcmZsb3cKICAvLy8gQHJldHVybiByZXMgVGhlIHByb2R1Y3Qgb2YgYSBhbmQgYiwgb3IgMCBpZiB0aGVyZSBpcyBvdmVyZmxvdwogIGZ1bmN0aW9uIHRpbWVzKHVpbnQyNTYgYSwgdWludDI1NiBiKSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sIGVycix1aW50MjU2IHJlcykgewogICAgYXNzZW1ibHl7CiAgICAgIHJlcyA6PSBtdWwoYSxiKQogICAgICBzd2l0Y2ggb3IoaXN6ZXJvKGIpLCBlcShkaXYocmVzLGIpLCBhKSkKICAgICAgY2FzZSAwIHsKICAgICAgICBlcnIgOj0gMQogICAgICAgIHJlcyA6PSAwCiAgICAgIH0KICAgIH0KICB9CgogIC8vLyBAZGV2IERpdmlkZXMgdHdvIG51bWJlcnMgYnV0IGNoZWNrcyBmb3IgMCBpbiB0aGUgZGl2aXNvciBmaXJzdC4KICAvLy8gRG9lcyBub3QgdGhyb3cuCiAgLy8vIEBwYXJhbSBhIEZpcnN0IG51bWJlcgogIC8vLyBAcGFyYW0gYiBTZWNvbmQgbnVtYmVyCiAgLy8vIEByZXR1cm4gZXJyIEZhbHNlIG5vcm1hbGx5LCBvciB0cnVlIGlmIGBiYCBpcyAwCiAgLy8vIEByZXR1cm4gcmVzIFRoZSBxdW90aWVudCBvZiBhIGFuZCBiLCBvciAwIGlmIGBiYCBpcyAwCiAgZnVuY3Rpb24gZGl2aWRlZEJ5KHVpbnQyNTYgYSwgdWludDI1NiBiKSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sIGVycix1aW50MjU2IGkpIHsKICAgIHVpbnQyNTYgcmVzOwogICAgYXNzZW1ibHl7CiAgICAgIHN3aXRjaCBpc3plcm8oYikKICAgICAgY2FzZSAwIHsKICAgICAgICByZXMgOj0gZGl2KGEsYikKICAgICAgICBsZXQgbG9jIDo9IG1sb2FkKDB4NDApCiAgICAgICAgbXN0b3JlKGFkZChsb2MsMHgyMCkscmVzKQogICAgICAgIGkgOj0gbWxvYWQoYWRkKGxvYywweDIwKSkKICAgICAgfQogICAgICBkZWZhdWx0IHsKICAgICAgICBlcnIgOj0gMQogICAgICAgIGkgOj0gMAogICAgICB9CiAgICB9CiAgfQoKICAvLy8gQGRldiBBZGRzIHR3byBudW1iZXJzIGFuZCBjaGVja3MgZm9yIG92ZXJmbG93IGJlZm9yZSByZXR1cm5pbmcuCiAgLy8vIERvZXMgbm90IHRocm93LgogIC8vLyBAcGFyYW0gYSBGaXJzdCBudW1iZXIKICAvLy8gQHBhcmFtIGIgU2Vjb25kIG51bWJlcgogIC8vLyBAcmV0dXJuIGVyciBGYWxzZSBub3JtYWxseSwgb3IgdHJ1ZSBpZiB0aGVyZSBpcyBvdmVyZmxvdwogIC8vLyBAcmV0dXJuIHJlcyBUaGUgc3VtIG9mIGEgYW5kIGIsIG9yIDAgaWYgdGhlcmUgaXMgb3ZlcmZsb3cKICBmdW5jdGlvbiBwbHVzKHVpbnQyNTYgYSwgdWludDI1NiBiKSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sIGVyciwgdWludDI1NiByZXMpIHsKICAgIGFzc2VtYmx5ewogICAgICByZXMgOj0gYWRkKGEsYikKICAgICAgc3dpdGNoIGFuZChlcShzdWIocmVzLGIpLCBhKSwgb3IoZ3QocmVzLGIpLGVxKHJlcyxiKSkpCiAgICAgIGNhc2UgMCB7CiAgICAgICAgZXJyIDo9IDEKICAgICAgICByZXMgOj0gMAogICAgICB9CiAgICB9CiAgfQoKICAvLy8gQGRldiBTdWJ0cmFjdHMgdHdvIG51bWJlcnMgYW5kIGNoZWNrcyBmb3IgdW5kZXJmbG93IGJlZm9yZSByZXR1cm5pbmcuCiAgLy8vIERvZXMgbm90IHRocm93IGJ1dCByYXRoZXIgbG9ncyBhbiBFcnIgZXZlbnQgaWYgdGhlcmUgaXMgdW5kZXJmbG93LgogIC8vLyBAcGFyYW0gYSBGaXJzdCBudW1iZXIKICAvLy8gQHBhcmFtIGIgU2Vjb25kIG51bWJlcgogIC8vLyBAcmV0dXJuIGVyciBGYWxzZSBub3JtYWxseSwgb3IgdHJ1ZSBpZiB0aGVyZSBpcyB1bmRlcmZsb3cKICAvLy8gQHJldHVybiByZXMgVGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBhIGFuZCBiLCBvciAwIGlmIHRoZXJlIGlzIHVuZGVyZmxvdwogIGZ1bmN0aW9uIG1pbnVzKHVpbnQyNTYgYSwgdWludDI1NiBiKSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sIGVycix1aW50MjU2IHJlcykgewogICAgYXNzZW1ibHl7CiAgICAgIHJlcyA6PSBzdWIoYSxiKQogICAgICBzd2l0Y2ggZXEoYW5kKGVxKGFkZChyZXMsYiksIGEpLCBvcihsdChyZXMsYSksIGVxKHJlcyxhKSkpLCAxKQogICAgICBjYXNlIDAgewogICAgICAgIGVyciA6PSAxCiAgICAgICAgcmVzIDo9IDAKICAgICAgfQogICAgfQogIH0KfQ=='.
	

]
