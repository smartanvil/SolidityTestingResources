Class {
	#name : #SRT50fd51b624ca86be3dbc640515ebc407a163cd6c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT50fd51b624ca86be3dbc640515ebc407a163cd6c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7Cgpjb250cmFjdCBWZXJzaW9uYWJsZSB7CiAgICBzdHJpbmcgcHVibGljIHZlcnNpb25Db2RlOwoKICAgIGZ1bmN0aW9uIGdldFZlcnNpb25CeXRlKHVpbnQgaW5kZXgpIGNvbnN0YW50IHJldHVybnMgKGJ5dGVzMSkgeyAKICAgICAgICByZXR1cm4gYnl0ZXModmVyc2lvbkNvZGUpW2luZGV4XTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRWZXJzaW9uTGVuZ3RoKCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBieXRlcyh2ZXJzaW9uQ29kZSkubGVuZ3RoOwogICAgfQp9CgoKY29udHJhY3QgVG9rZW4gewogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKfQoKY29udHJhY3QgQ29udHJhY3RDYXRhbG9nIHsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFZFUlNJT04gPSAzOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBTRVBBUkFUT1IgPSAiLSI7CgogICAgVG9rZW4gcHVibGljIHRva2VuOwogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgICAKICAgIGV2ZW50IFJlZ2lzdGVyZWRQcmVmaXgoc3RyaW5nIF9wcmVmaXgsIGFkZHJlc3MgX293bmVyKTsKICAgIGV2ZW50IFRyYW5zZmVycmVkUHJlZml4KHN0cmluZyBfcHJlZml4LCBhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90byk7CiAgICBldmVudCBVbnJlZ2lzdGVyZWRQcmVmaXgoc3RyaW5nIF9wcmVmaXgsIGFkZHJlc3MgX2Zyb20pOwogICAgZXZlbnQgTmV3UHJlZml4UHJpY2UodWludDI1NiBfbGVuZ3RoLCB1aW50MjU2IF9wcmljZSk7CiAgICBldmVudCBSZWdpc3RlcmVkQ29udHJhY3Qoc3RyaW5nIF92ZXJzaW9uLCBhZGRyZXNzIF9ieSk7CgogICAgc3RydWN0IENvbnRyYWN0VHlwZSB7CiAgICAgICAgc3RyaW5nIGNvZGU7CiAgICAgICAgYWRkcmVzcyBzYW1wbGU7CiAgICB9CgogICAgZnVuY3Rpb24gQ29udHJhY3RDYXRhbG9nKCkgewogICAgICAgIHRva2VuID0gVG9rZW4oYWRkcmVzcygweEY5NzBiOEUzNmUyM0Y3ZkMzRkQ3NTJFZUE4NmY4QmU4RDgzMzc1QTYpKTsKICAgICAgICBvd25lciA9IGFkZHJlc3MoMHhBMTA5MTQ4MUFFZGU0YWREZTAwQzFhMjY5OTJBRTQ5YTdlMEUxRkIwKTsKCiAgICAgICAgLy8gU2V0IHVwIGFsbCBmb3JnaXZlZCBjaGFycwogICAgICAgIGFkZEZvcmdpdmVkQ2hhcigiICIpOwogICAgICAgIGFkZEZvcmdpdmVkQ2hhcigi4oCQIik7CiAgICAgICAgYWRkRm9yZ2l2ZWRDaGFyKCLigJEiKTsKICAgICAgICBhZGRGb3JnaXZlZENoYXIoIuKAkiIpOwogICAgICAgIGFkZEZvcmdpdmVkQ2hhcigi4oCTIik7CiAgICAgICAgYWRkRm9yZ2l2ZWRDaGFyKCLvuZgiKTsKICAgICAgICBhZGRGb3JnaXZlZENoYXIoItuUIik7CiAgICAgICAgYWRkRm9yZ2l2ZWRDaGFyKCLigYMiKTsKICAgICAgICBhZGRGb3JnaXZlZENoYXIoIsuXIik7CiAgICAgICAgYWRkRm9yZ2l2ZWRDaGFyKCLiiJIiKTsKICAgICAgICBhZGRGb3JnaXZlZENoYXIoIuKeliIpOwogICAgICAgIGFkZEZvcmdpdmVkQ2hhcigi4rK6Iik7CiAgICB9CgogICAgbWFwcGluZyhzdHJpbmcgPT4gQ29udHJhY3RUeXBlKSB0eXBlczsKICAgIG1hcHBpbmcoc3RyaW5nID0+IGFkZHJlc3MpIHByZWZpeGVzOwogICAgbWFwcGluZyh1aW50MjU2ID0+IHVpbnQyNTYpIHByZWZpeGVzUHJpY2VzOwoKICAgIHN0cmluZ1tdIHB1YmxpYyBmb3JnaXZlZENoYXJzOwoKICAgIGZ1bmN0aW9uIGdldFByZWZpeE93bmVyKHN0cmluZyBwcmVmaXgpIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MpIHsKICAgICAgICByZXR1cm4gcHJlZml4ZXNbcHJlZml4XTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRQcmVmaXhQcmljZShzdHJpbmcgcHJlZml4KSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7IAogICAgICAgIHJldHVybiBwcmVmaXhlc1ByaWNlc1tzdHJpbmdMZW4ocHJlZml4KV07CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bykgewogICAgICAgIHJlcXVpcmUodG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBvd25lciA9IHRvOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlcGxhY2VUb2tlbihUb2tlbiBfdG9rZW4pIHsKICAgICAgICByZXF1aXJlKF90b2tlbiAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIHRva2VuID0gX3Rva2VuOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFByZWZpeFByaWNlKHVpbnQyNTYgbGVuZ2h0LCB1aW50MjU2IHByaWNlKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICByZXF1aXJlKGxlbmdodCAhPSAwKTsKICAgICAgICBwcmVmaXhlc1ByaWNlc1tsZW5naHRdID0gcHJpY2U7CiAgICAgICAgTmV3UHJlZml4UHJpY2UobGVuZ2h0LCBwcmljZSk7CiAgICB9CgogICAgZnVuY3Rpb24gbG9hZFZlcnNpb24oVmVyc2lvbmFibGUgZnJvbSkgcHJpdmF0ZSByZXR1cm5zIChzdHJpbmcpIHsKICAgICAgICB1aW50IHNpemUgPSBmcm9tLmdldFZlcnNpb25MZW5ndGgoKTsKICAgICAgICBieXRlcyBtZW1vcnkgb3V0ID0gbmV3IGJ5dGVzKHNpemUpOwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IHNpemU7IGkrKykgewogICAgICAgICAgICBvdXRbaV0gPSBmcm9tLmdldFZlcnNpb25CeXRlKGkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc3RyaW5nKG91dCk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Q29udHJhY3RPd25lcihzdHJpbmcgY29kZSkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHN0cmluZyBtZW1vcnkgcHJlZml4ID0gc3BsaXRGaXJzdChjb2RlLCAiLSIpOwogICAgICAgIHJldHVybiBwcmVmaXhlc1twcmVmaXhdOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldENvbnRyYWN0U2FtcGxlKHN0cmluZyBjb2RlKSBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzKSB7CiAgICAgICAgcmV0dXJuIHR5cGVzW2NvZGVdLnNhbXBsZTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRDb250cmFjdEJ5dGVjb2RlKHN0cmluZyBjb2RlKSBjb25zdGFudCByZXR1cm5zIChieXRlcykgewogICAgICAgIHJldHVybiBnZXRDb250cmFjdENvZGUodHlwZXNbY29kZV0uc2FtcGxlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBoYXNGb3JnaXZlZENoYXIoc3RyaW5nIHMpIHByaXZhdGUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IGZvcmdpdmVkQ2hhcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKHN0cmluZ0NvbnRhaW5zKHMsIGZvcmdpdmVkQ2hhcnNbaV0pKQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGFkZEZvcmdpdmVkQ2hhcihzdHJpbmcgYykgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lciB8fCBtc2cuc2VuZGVyID09IGFkZHJlc3ModGhpcykpOwogICAgICAgIGlmICghaGFzRm9yZ2l2ZWRDaGFyKGMpKSB7CiAgICAgICAgICAgIGZvcmdpdmVkQ2hhcnMucHVzaChjKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlRm9yZ2l2ZWRDaGFyKHVpbnQyNTYgaW5kZXgsIHN0cmluZyBjaGFyKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICByZXF1aXJlKHN0cmluZ0VxdWFscyhjaGFyLCBmb3JnaXZlZENoYXJzW2luZGV4XSkpOwogICAgICAgIHN0cmluZyBzdG9yYWdlIGxhc3RDaGFyID0gZm9yZ2l2ZWRDaGFyc1tmb3JnaXZlZENoYXJzLmxlbmd0aCAtIDFdOwogICAgICAgIGRlbGV0ZSBmb3JnaXZlZENoYXJzW2ZvcmdpdmVkQ2hhcnMubGVuZ3RoIC0gMV07CiAgICAgICAgZm9yZ2l2ZWRDaGFyc1tpbmRleF0gPSBsYXN0Q2hhcjsKICAgIH0KCiAgICBmdW5jdGlvbiByZWdpc3RlclByZWZpeChzdHJpbmcgcHJlZml4KSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZSghc3RyaW5nQ29udGFpbnMocHJlZml4LCBTRVBBUkFUT1IpKTsKICAgICAgICByZXF1aXJlKCFoYXNGb3JnaXZlZENoYXIocHJlZml4KSk7CiAgICAgICAgcmVxdWlyZShwcmVmaXhlc1twcmVmaXhdID09IGFkZHJlc3MoMCkpOwogICAgICAgIFJlZ2lzdGVyZWRQcmVmaXgocHJlZml4LCBtc2cuc2VuZGVyKTsKICAgICAgICBpZiAobXNnLnNlbmRlciA9PSBvd25lcikgewogICAgICAgICAgICBwcmVmaXhlc1twcmVmaXhdID0gb3duZXI7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHVpbnQyNTYgcHJpY2UgPSBwcmVmaXhlc1ByaWNlc1tzdHJpbmdMZW4ocHJlZml4KV07CiAgICAgICAgICAgIHJlcXVpcmUocHJpY2UgIT0gMCk7CiAgICAgICAgICAgIHJlcXVpcmUodG9rZW4udHJhbnNmZXJGcm9tKG1zZy5zZW5kZXIsIG93bmVyLCBwcmljZSkpOwogICAgICAgICAgICBwcmVmaXhlc1twcmVmaXhdID0gbXNnLnNlbmRlcjsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyUHJlZml4KHN0cmluZyBwcmVmaXgsIGFkZHJlc3MgdG8pIHsKICAgICAgICByZXF1aXJlKHRvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUocHJlZml4ZXNbcHJlZml4XSA9PSBtc2cuc2VuZGVyKTsKICAgICAgICBwcmVmaXhlc1twcmVmaXhdID0gdG87CiAgICAgICAgVHJhbnNmZXJyZWRQcmVmaXgocHJlZml4LCBtc2cuc2VuZGVyLCB0byk7CiAgICB9CgogICAgZnVuY3Rpb24gdW5yZWdpc3RlclByZWZpeChzdHJpbmcgcHJlZml4KSB7CiAgICAgICAgcmVxdWlyZShwcmVmaXhlc1twcmVmaXhdID09IG1zZy5zZW5kZXIpOwogICAgICAgIHByZWZpeGVzW3ByZWZpeF0gPSBhZGRyZXNzKDApOwogICAgICAgIFVucmVnaXN0ZXJlZFByZWZpeChwcmVmaXgsIG1zZy5zZW5kZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQ29udHJhY3Qoc3RyaW5nIGNvZGUsIGFkZHJlc3Mgc2FtcGxlKSB7CiAgICAgICAgdmFyIHByZWZpeCA9IHNwbGl0Rmlyc3QoY29kZSwgU0VQQVJBVE9SKTsKICAgICAgICByZXF1aXJlKHByZWZpeGVzW3ByZWZpeF0gPT0gbXNnLnNlbmRlcik7CiAgICAgICAgcmVxdWlyZSh0eXBlc1tjb2RlXS5zYW1wbGUgPT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShnZXRDb250cmFjdENvZGUoc2FtcGxlKS5sZW5ndGggIT0gMCk7CiAgICAgICAgdHlwZXNbY29kZV0gPSBDb250cmFjdFR5cGUoY29kZSwgc2FtcGxlKTsKICAgICAgICBSZWdpc3RlcmVkQ29udHJhY3QoY29kZSwgbXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gdmFsaWRhdGVDb250cmFjdChWZXJzaW9uYWJsZSB0YXJnZXQpIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gdmFsaWRhdGVDb250cmFjdFdpdGhDb2RlKHRhcmdldCwgbG9hZFZlcnNpb24odGFyZ2V0KSk7CiAgICB9CgogICAgZnVuY3Rpb24gdmFsaWRhdGVDb250cmFjdFdpdGhDb2RlKGFkZHJlc3MgdGFyZ2V0LCBzdHJpbmcgY29kZSkgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoc3RyaW5nRXF1YWxzKHR5cGVzW2NvZGVdLmNvZGUsIGNvZGUpKTsgLy8gU2FuaXR5IGNoZWNrCiAgICAgICAgYnl0ZXMgbWVtb3J5IGV4cGVjdGVkID0gZ2V0Q29udHJhY3RDb2RlKHR5cGVzW2NvZGVdLnNhbXBsZSk7CiAgICAgICAgYnl0ZXMgbWVtb3J5IGJ5dGVjb2RlID0gZ2V0Q29udHJhY3RDb2RlKHRhcmdldCk7CiAgICAgICAgcmVxdWlyZShleHBlY3RlZC5sZW5ndGggIT0gMCk7CiAgICAgICAgaWYgKGJ5dGVjb2RlLmxlbmd0aCAhPSBleHBlY3RlZC5sZW5ndGgpIHJldHVybiBmYWxzZTsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBleHBlY3RlZC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoYnl0ZWNvZGVbaV0gIT0gZXhwZWN0ZWRbaV0pIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Q29udHJhY3RDb2RlKGFkZHJlc3MgX2FkZHIpIHByaXZhdGUgcmV0dXJucyAoYnl0ZXMgb19jb2RlKSB7CiAgICAgICAgYXNzZW1ibHkgewogICAgICAgICAgbGV0IHNpemUgOj0gZXh0Y29kZXNpemUoX2FkZHIpCiAgICAgICAgICBvX2NvZGUgOj0gbWxvYWQoMHg0MCkKICAgICAgICAgIG1zdG9yZSgweDQwLCBhZGQob19jb2RlLCBhbmQoYWRkKGFkZChzaXplLCAweDIwKSwgMHgxZiksIG5vdCgweDFmKSkpKQogICAgICAgICAgbXN0b3JlKG9fY29kZSwgc2l6ZSkKICAgICAgICAgIGV4dGNvZGVjb3B5KF9hZGRyLCBhZGQob19jb2RlLCAweDIwKSwgMCwgc2l6ZSkKICAgICAgICB9CiAgICB9CgogICAgLy8gQGRldiBSZXR1cm5zIHRoZSBmaXJzdCBzbGljZSBvZiBhIHNwbGl0CiAgICBmdW5jdGlvbiBzcGxpdEZpcnN0KHN0cmluZyBzb3VyY2UsIHN0cmluZyBwb2ludCkgcHJpdmF0ZSByZXR1cm5zIChzdHJpbmcpIHsKICAgICAgICBieXRlcyBtZW1vcnkgcyA9IGJ5dGVzKHNvdXJjZSk7CiAgICAgICAgaWYgKHMubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGludCBpbmRleCA9IHN0cmluZ0luZGV4T2Yoc291cmNlLCBwb2ludCk7CiAgICAgICAgICAgIGlmIChpbmRleCA9PSAtIDEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGJ5dGVzIG1lbW9yeSBvdXRwdXQgPSBuZXcgYnl0ZXModWludChpbmRleCkpOwogICAgICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBpbmRleDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W3VpbnQoaSldID0gc1t1aW50KGkpXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmcob3V0cHV0KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBzdHJpbmdUb0J5dGVzMzIoc3RyaW5nIG1lbW9yeSBzb3VyY2UpIHByaXZhdGUgcmV0dXJucyAoYnl0ZXMzMiByZXN1bHQpIHsKICAgICAgICBhc3NlbWJseSB7CiAgICAgICAgICAgIHJlc3VsdCA6PSBtbG9hZChhZGQoc291cmNlLCAzMikpCiAgICAgICAgfQogICAgfQoKICAgICAgICAvKgogICAgICogQGRldiBSZXR1cm5zIHRoZSBsZW5ndGggb2YgYSBudWxsLXRlcm1pbmF0ZWQgYnl0ZXMzMiBzdHJpbmcuCiAgICAgKiBAcGFyYW0gc2VsZiBUaGUgdmFsdWUgdG8gZmluZCB0aGUgbGVuZ3RoIG9mLgogICAgICogQHJldHVybiBUaGUgbGVuZ3RoIG9mIHRoZSBzdHJpbmcsIGZyb20gMCB0byAzMi4KICAgICAqLwogICAgZnVuY3Rpb24gc3RyaW5nTGVuKHN0cmluZyBzKSBwcml2YXRlIHJldHVybnMgKHVpbnQpIHsKICAgICAgICB2YXIgc2VsZiA9IHN0cmluZ1RvQnl0ZXMzMihzKTsKICAgICAgICB1aW50IHJldDsKICAgICAgICBpZiAoc2VsZiA9PSAwKQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICBpZiAoc2VsZiAmIDB4ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYgPT0gMCkgewogICAgICAgICAgICByZXQgKz0gMTY7CiAgICAgICAgICAgIHNlbGYgPSBieXRlczMyKHVpbnQoc2VsZikgLyAweDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCk7CiAgICAgICAgfQogICAgICAgIGlmIChzZWxmICYgMHhmZmZmZmZmZmZmZmZmZmZmID09IDApIHsKICAgICAgICAgICAgcmV0ICs9IDg7CiAgICAgICAgICAgIHNlbGYgPSBieXRlczMyKHVpbnQoc2VsZikgLyAweDEwMDAwMDAwMDAwMDAwMDAwKTsKICAgICAgICB9CiAgICAgICAgaWYgKHNlbGYgJiAweGZmZmZmZmZmID09IDApIHsKICAgICAgICAgICAgcmV0ICs9IDQ7CiAgICAgICAgICAgIHNlbGYgPSBieXRlczMyKHVpbnQoc2VsZikgLyAweDEwMDAwMDAwMCk7CiAgICAgICAgfQogICAgICAgIGlmIChzZWxmICYgMHhmZmZmID09IDApIHsKICAgICAgICAgICAgcmV0ICs9IDI7CiAgICAgICAgICAgIHNlbGYgPSBieXRlczMyKHVpbnQoc2VsZikgLyAweDEwMDAwKTsKICAgICAgICB9CiAgICAgICAgaWYgKHNlbGYgJiAweGZmID09IDApIHsKICAgICAgICAgICAgcmV0ICs9IDE7CiAgICAgICAgfQogICAgICAgIHJldHVybiAzMiAtIHJldDsKICAgIH0KCiAgICAvLy8gQGRldiBGaW5kcyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgX25lZWRsZSBpbiBfaGF5c3RhY2sKICAgIGZ1bmN0aW9uIHN0cmluZ0luZGV4T2Yoc3RyaW5nIF9oYXlzdGFjaywgc3RyaW5nIF9uZWVkbGUpIHByaXZhdGUgcmV0dXJucyAoaW50KSB7CiAgICAJYnl0ZXMgbWVtb3J5IGggPSBieXRlcyhfaGF5c3RhY2spOwogICAgCWJ5dGVzIG1lbW9yeSBuID0gYnl0ZXMoX25lZWRsZSk7CiAgICAJaWYgKGgubGVuZ3RoIDwgMSB8fCBuLmxlbmd0aCA8IDEgfHwgKG4ubGVuZ3RoID4gaC5sZW5ndGgpKSB7CiAgICAJCXJldHVybiAtMTsKICAgIAl9IGVsc2UgaWYgKGgubGVuZ3RoID4gKDIqKjEyOCAtIDEpKSB7IC8vIHNpbmNlIHdlIGhhdmUgdG8gYmUgYWJsZSB0byByZXR1cm4gLTEgKGlmIHRoZSBjaGFyIGlzbid0IGZvdW5kIG9yIGlucHV0IGVycm9yKSwgdGhpcyBmdW5jdGlvbiBtdXN0IHJldHVybiBhbiAiaW50IiB0eXBlIHdpdGggYSBtYXggbGVuZ3RoIG9mICgyXjEyOCAtIDEpCiAgICAJCXJldHVybiAtMTsJCQkJCQkJCQkKICAgIAl9IGVsc2UgewogICAgCQl1aW50IHN1YmluZGV4ID0gMDsKICAgIAkJZm9yICh1aW50IGkgPSAwOyBpIDwgaC5sZW5ndGg7IGkgKyspIHsKICAgIAkJCWlmIChoW2ldID09IG5bMF0pIHsgLy8gZm91bmQgdGhlIGZpcnN0IGNoYXIgb2YgYgogICAgCQkJCXN1YmluZGV4ID0gMTsKICAgIAkJCQl3aGlsZSAoc3ViaW5kZXggPCBuLmxlbmd0aCAmJiAoaSArIHN1YmluZGV4KSA8IGgubGVuZ3RoICYmIGhbaSArIHN1YmluZGV4XSA9PSBuW3N1YmluZGV4XSkgeyAvLyBzZWFyY2ggdW50aWwgdGhlIGNoYXJzIGRvbid0IG1hdGNoIG9yIHVudGlsIHdlIHJlYWNoIHRoZSBlbmQgb2YgYSBvciBiCiAgICAJCQkJCXN1YmluZGV4Kys7CiAgICAJCQkJfQkKICAgIAkJCQlpZiAoc3ViaW5kZXggPT0gbi5sZW5ndGgpCiAgICAJCQkJCXJldHVybiBpbnQoaSk7CiAgICAJCQl9CiAgICAJCX0KICAgIAkJcmV0dXJuIC0xOwogICAgCX0JCiAgICB9CgogICAgZnVuY3Rpb24gc3RyaW5nRXF1YWxzKHN0cmluZyBfYSwgc3RyaW5nIF9iKSBwcml2YXRlIHJldHVybnMgKGJvb2wpIHsKICAgIAlieXRlcyBtZW1vcnkgYSA9IGJ5dGVzKF9hKTsKICAgIAlieXRlcyBtZW1vcnkgYiA9IGJ5dGVzKF9iKTsKICAgICAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChhW2ldICE9IGJbaV0pIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gc3RyaW5nQ29udGFpbnMoc3RyaW5nIHNlbGYsIHN0cmluZyBuZWVkbGUpIHByaXZhdGUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdHJpbmdJbmRleE9mKHNlbGYsIG5lZWRsZSkgIT0gaW50KC0xKTsKICAgIH0KfQ=='.
	

]
