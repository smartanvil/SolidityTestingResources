Class {
	#name : #SRT53c347888c54519820249ee629b30316f3b79974,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT53c347888c54519820249ee629b30316f3b79974 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgovKgogKiBDcmVhdG9yOiBVQyAoVW5pY29ybkNoYWluKSAKICovCgovKgogKiBBYnN0cmFjdCBUb2tlbiBTbWFydCBDb250cmFjdAogKgogKi8KCiAKIC8qCiAqIFNhZmUgTWF0aCBTbWFydCBDb250cmFjdC4gCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvYmxvYi9tYXN0ZXIvY29udHJhY3RzL21hdGgvU2FmZU1hdGguc29sCiAqLwoKY29udHJhY3QgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHNhZmVEaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHNhZmVTdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCgoKCi8qKgogKiBFUkMtMjAgc3RhbmRhcmQgdG9rZW4gaW50ZXJmYWNlLCBhcyBkZWZpbmVkCiAqIDxhIGhyZWY9Imh0dHA6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwIj5oZXJlPC9hPi4KICovCmNvbnRyYWN0IFRva2VuIHsKICAKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgc3VwcGx5KTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKfQoKCgovKioKICogQWJzdHJhY3QgVG9rZW4gU21hcnQgQ29udHJhY3QgdGhhdCBjb3VsZCBiZSB1c2VkIGFzIGEgYmFzZSBjb250cmFjdCBmb3IKICogRVJDLTIwIHRva2VuIGNvbnRyYWN0cy4KICovCmNvbnRyYWN0IEFic3RyYWN0VG9rZW4gaXMgVG9rZW4sIFNhZmVNYXRoIHsKICAvKioKICAgKiBDcmVhdGUgbmV3IEFic3RyYWN0IFRva2VuIGNvbnRyYWN0LgogICAqLwogIGZ1bmN0aW9uIEFic3RyYWN0VG9rZW4gKCkgewogICAgLy8gRG8gbm90aGluZwogIH0KICAKICAvKioKICAgKiBHZXQgbnVtYmVyIG9mIHRva2VucyBjdXJyZW50bHkgYmVsb25naW5nIHRvIGdpdmVuIG93bmVyLgogICAqCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIHRvIGdldCBudW1iZXIgb2YgdG9rZW5zIGN1cnJlbnRseSBiZWxvbmdpbmcgdG8gdGhlCiAgICogICAgICAgIG93bmVyIG9mCiAgICogQHJldHVybiBudW1iZXIgb2YgdG9rZW5zIGN1cnJlbnRseSBiZWxvbmdpbmcgdG8gdGhlIG93bmVyIG9mIGdpdmVuIGFkZHJlc3MKICAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGFjY291bnRzIFtfb3duZXJdOwogIH0KCiAgLyoqCiAgICogVHJhbnNmZXIgZ2l2ZW4gbnVtYmVyIG9mIHRva2VucyBmcm9tIG1lc3NhZ2Ugc2VuZGVyIHRvIGdpdmVuIHJlY2lwaWVudC4KICAgKgogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMgdG8gdGhlIG93bmVyIG9mCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyIHRvIHRoZSBvd25lciBvZiBnaXZlbiBhZGRyZXNzCiAgICogQHJldHVybiB0cnVlIGlmIHRva2VucyB3ZXJlIHRyYW5zZmVycmVkIHN1Y2Nlc3NmdWxseSwgZmFsc2Ugb3RoZXJ3aXNlCiAgICogYWNjb3VudHMgW190b10gKyBfdmFsdWUgPiBhY2NvdW50cyBbX3RvXSBmb3Igb3ZlcmZsb3cgY2hlY2sKICAgKiB3aGljaCBpcyBhbHJlYWR5IGluIHNhZmVNYXRoCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgaWYgKGFjY291bnRzIFttc2cuc2VuZGVyXSA8IF92YWx1ZSkgcmV0dXJuIGZhbHNlOwogICAgaWYgKF92YWx1ZSA+IDAgJiYgbXNnLnNlbmRlciAhPSBfdG8pIHsKICAgICAgYWNjb3VudHMgW21zZy5zZW5kZXJdID0gc2FmZVN1YiAoYWNjb3VudHMgW21zZy5zZW5kZXJdLCBfdmFsdWUpOwogICAgICBhY2NvdW50cyBbX3RvXSA9IHNhZmVBZGQgKGFjY291bnRzIFtfdG9dLCBfdmFsdWUpOwogICAgfQogICAgVHJhbnNmZXIgKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogVHJhbnNmZXIgZ2l2ZW4gbnVtYmVyIG9mIHRva2VucyBmcm9tIGdpdmVuIG93bmVyIHRvIGdpdmVuIHJlY2lwaWVudC4KICAgKgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRva2VucyBmcm9tIHRoZSBvd25lciBvZgogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMgdG8gdGhlIG93bmVyIG9mCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyIGZyb20gZ2l2ZW4gb3duZXIgdG8gZ2l2ZW4KICAgKiAgICAgICAgcmVjaXBpZW50CiAgICogQHJldHVybiB0cnVlIGlmIHRva2VucyB3ZXJlIHRyYW5zZmVycmVkIHN1Y2Nlc3NmdWxseSwgZmFsc2Ugb3RoZXJ3aXNlCiAgICogYWNjb3VudHMgW190b10gKyBfdmFsdWUgPiBhY2NvdW50cyBbX3RvXSBmb3Igb3ZlcmZsb3cgY2hlY2sKICAgKiB3aGljaCBpcyBhbHJlYWR5IGluIHNhZmVNYXRoCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkKICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgaWYgKGFsbG93YW5jZXMgW19mcm9tXVttc2cuc2VuZGVyXSA8IF92YWx1ZSkgcmV0dXJuIGZhbHNlOwogICAgaWYgKGFjY291bnRzIFtfZnJvbV0gPCBfdmFsdWUpIHJldHVybiBmYWxzZTsgCgogICAgaWYgKF92YWx1ZSA+IDAgJiYgX2Zyb20gIT0gX3RvKSB7CgkgIGFsbG93YW5jZXMgW19mcm9tXVttc2cuc2VuZGVyXSA9IHNhZmVTdWIgKGFsbG93YW5jZXMgW19mcm9tXVttc2cuc2VuZGVyXSwgX3ZhbHVlKTsKICAgICAgYWNjb3VudHMgW19mcm9tXSA9IHNhZmVTdWIgKGFjY291bnRzIFtfZnJvbV0sIF92YWx1ZSk7CiAgICAgIGFjY291bnRzIFtfdG9dID0gc2FmZUFkZCAoYWNjb3VudHMgW190b10sIF92YWx1ZSk7CiAgICB9CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBBbGxvdyBnaXZlbiBzcGVuZGVyIHRvIHRyYW5zZmVyIGdpdmVuIG51bWJlciBvZiB0b2tlbnMgZnJvbSBtZXNzYWdlIHNlbmRlci4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyB0byBhbGxvdyB0aGUgb3duZXIgb2YgdG8gdHJhbnNmZXIgdG9rZW5zIGZyb20gbWVzc2FnZSBzZW5kZXIKICAgKiBAcGFyYW0gX3ZhbHVlIG51bWJlciBvZiB0b2tlbnMgdG8gYWxsb3cgdG8gdHJhbnNmZXIKICAgKiBAcmV0dXJuIHRydWUgaWYgdG9rZW4gdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWxseSBhcHByb3ZlZCwgZmFsc2Ugb3RoZXJ3aXNlCiAgICovCiAgIGZ1bmN0aW9uIGFwcHJvdmUgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGFsbG93YW5jZXMgW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsIChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogVGVsbCBob3cgbWFueSB0b2tlbnMgZ2l2ZW4gc3BlbmRlciBpcyBjdXJyZW50bHkgYWxsb3dlZCB0byB0cmFuc2ZlciBmcm9tCiAgICogZ2l2ZW4gb3duZXIuCiAgICoKICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgdG8gZ2V0IG51bWJlciBvZiB0b2tlbnMgYWxsb3dlZCB0byBiZSB0cmFuc2ZlcnJlZAogICAqICAgICAgICBmcm9tIHRoZSBvd25lciBvZgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIHRvIGdldCBudW1iZXIgb2YgdG9rZW5zIGFsbG93ZWQgdG8gYmUgdHJhbnNmZXJyZWQKICAgKiAgICAgICAgYnkgdGhlIG93bmVyIG9mCiAgICogQHJldHVybiBudW1iZXIgb2YgdG9rZW5zIGdpdmVuIHNwZW5kZXIgaXMgY3VycmVudGx5IGFsbG93ZWQgdG8gdHJhbnNmZXIKICAgKiAgICAgICAgIGZyb20gZ2l2ZW4gb3duZXIKICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50CiAgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2FuY2VzIFtfb3duZXJdW19zcGVuZGVyXTsKICB9CgogIC8qKgogICAqIE1hcHBpbmcgZnJvbSBhZGRyZXNzZXMgb2YgdG9rZW4gaG9sZGVycyB0byB0aGUgbnVtYmVycyBvZiB0b2tlbnMgYmVsb25naW5nCiAgICogdG8gdGhlc2UgdG9rZW4gaG9sZGVycy4KICAgKi8KICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGFjY291bnRzOwoKICAvKioKICAgKiBNYXBwaW5nIGZyb20gYWRkcmVzc2VzIG9mIHRva2VuIGhvbGRlcnMgdG8gdGhlIG1hcHBpbmcgb2YgYWRkcmVzc2VzIG9mCiAgICogc3BlbmRlcnMgdG8gdGhlIGFsbG93YW5jZXMgc2V0IGJ5IHRoZXNlIHRva2VuIGhvbGRlcnMgdG8gdGhlc2Ugc3BlbmRlcnMuCiAgICovCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBwcml2YXRlIGFsbG93YW5jZXM7CiAgCn0KCgovKioKICogVW5pY29ybkNoYWluIHRva2VuIHNtYXJ0IGNvbnRyYWN0LgogKi8KY29udHJhY3QgVUNUb2tlbiBpcyBBYnN0cmFjdFRva2VuIHsKICAvKioKICAgKiBNYXhpbXVtIGFsbG93ZWQgbnVtYmVyIG9mIHRva2VucyBpbiBjaXJjdWxhdGlvbi4KICAgKiB0b2tlblN1cHBseSA9IHRva2Vuc0lBY3R1YWxseVdhbnQgKiAoMTAgXiBkZWNpbWFscykKICAgKi8KICAgCiAgIAogIHVpbnQyNTYgY29uc3RhbnQgTUFYX1RPS0VOX0NPVU5UID0gNzAwMDAwMDAgKiAoMTAqKjE4KTsKICAgCiAgLyoqCiAgICogQWRkcmVzcyBvZiB0aGUgb3duZXIgb2YgdGhpcyBzbWFydCBjb250cmFjdC4KICAgKi8KICBhZGRyZXNzIHByaXZhdGUgb3duZXI7CiAgCiAgLyoqCiAgICogRnJvemVuIGFjY291bnQgbGlzdCBob2xkZXIKICAgKi8KICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHByaXZhdGUgZnJvemVuQWNjb3VudDsKCiAgLyoqCiAgICogQ3VycmVudCBudW1iZXIgb2YgdG9rZW5zIGluIGNpcmN1bGF0aW9uLgogICAqLwogIHVpbnQyNTYgdG9rZW5Db3VudCA9IDA7CiAgCiAKICAvKioKICAgKiBUcnVlIGlmIHRva2VucyB0cmFuc2ZlcnMgYXJlIGN1cnJlbnRseSBmcm96ZW4sIGZhbHNlIG90aGVyd2lzZS4KICAgKi8KICBib29sIGZyb3plbiA9IGZhbHNlOwogIAogCiAgLyoqCiAgICogQ3JlYXRlIG5ldyB0b2tlbiBzbWFydCBjb250cmFjdCBhbmQgbWFrZSBtc2cuc2VuZGVyIHRoZQogICAqIG93bmVyIG9mIHRoaXMgc21hcnQgY29udHJhY3QuCiAgICovCiAgZnVuY3Rpb24gVUNUb2tlbiAoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKICAvKioKICAgKiBHZXQgdG90YWwgbnVtYmVyIG9mIHRva2VucyBpbiBjaXJjdWxhdGlvbi4KICAgKgogICAqIEByZXR1cm4gdG90YWwgbnVtYmVyIG9mIHRva2VucyBpbiBjaXJjdWxhdGlvbgogICAqLwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpIHsKICAgIHJldHVybiB0b2tlbkNvdW50OwogIH0KCiAgc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBuYW1lID0gIlVuaWNvcm5DaGFpbiI7CiAgc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBzeW1ib2wgPSAiVUMiOwogIHVpbnQ4IGNvbnN0YW50IHB1YmxpYyBkZWNpbWFscyA9IDE4OwogIAogIC8qKgogICAqIFRyYW5zZmVyIGdpdmVuIG51bWJlciBvZiB0b2tlbnMgZnJvbSBtZXNzYWdlIHNlbmRlciB0byBnaXZlbiByZWNpcGllbnQuCiAgICogQHBhcmFtIF90byBhZGRyZXNzIHRvIHRyYW5zZmVyIHRva2VucyB0byB0aGUgb3duZXIgb2YKICAgKiBAcGFyYW0gX3ZhbHVlIG51bWJlciBvZiB0b2tlbnMgdG8gdHJhbnNmZXIgdG8gdGhlIG93bmVyIG9mIGdpdmVuIGFkZHJlc3MKICAgKiBAcmV0dXJuIHRydWUgaWYgdG9rZW5zIHdlcmUgdHJhbnNmZXJyZWQgc3VjY2Vzc2Z1bGx5LCBmYWxzZSBvdGhlcndpc2UKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmVxdWlyZSghZnJvemVuQWNjb3VudFttc2cuc2VuZGVyXSk7CglpZiAoZnJvemVuKSByZXR1cm4gZmFsc2U7CiAgICBlbHNlIHJldHVybiBBYnN0cmFjdFRva2VuLnRyYW5zZmVyIChfdG8sIF92YWx1ZSk7CiAgfQoKICAvKioKICAgKiBUcmFuc2ZlciBnaXZlbiBudW1iZXIgb2YgdG9rZW5zIGZyb20gZ2l2ZW4gb3duZXIgdG8gZ2l2ZW4gcmVjaXBpZW50LgogICAqCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG9rZW5zIGZyb20gdGhlIG93bmVyIG9mCiAgICogQHBhcmFtIF90byBhZGRyZXNzIHRvIHRyYW5zZmVyIHRva2VucyB0byB0aGUgb3duZXIgb2YKICAgKiBAcGFyYW0gX3ZhbHVlIG51bWJlciBvZiB0b2tlbnMgdG8gdHJhbnNmZXIgZnJvbSBnaXZlbiBvd25lciB0byBnaXZlbgogICAqICAgICAgICByZWNpcGllbnQKICAgKiBAcmV0dXJuIHRydWUgaWYgdG9rZW5zIHdlcmUgdHJhbnNmZXJyZWQgc3VjY2Vzc2Z1bGx5LCBmYWxzZSBvdGhlcndpc2UKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CglyZXF1aXJlKCFmcm96ZW5BY2NvdW50W19mcm9tXSk7CiAgICBpZiAoZnJvemVuKSByZXR1cm4gZmFsc2U7CiAgICBlbHNlIHJldHVybiBBYnN0cmFjdFRva2VuLnRyYW5zZmVyRnJvbSAoX2Zyb20sIF90bywgX3ZhbHVlKTsKICB9CgogICAvKioKICAgKiBDaGFuZ2UgaG93IG1hbnkgdG9rZW5zIGdpdmVuIHNwZW5kZXIgaXMgYWxsb3dlZCB0byB0cmFuc2ZlciBmcm9tIG1lc3NhZ2UKICAgKiBzcGVuZGVyLiAgSW4gb3JkZXIgdG8gcHJldmVudCBkb3VibGUgc3BlbmRpbmcgb2YgYWxsb3dhbmNlLAogICAqIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICogYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAqIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyB0byBhbGxvdyB0aGUgb3duZXIgb2YgdG8gdHJhbnNmZXIgdG9rZW5zIGZyb20KICAgKiAgICAgICAgbWVzc2FnZSBzZW5kZXIKICAgKiBAcGFyYW0gX3ZhbHVlIG51bWJlciBvZiB0b2tlbnMgdG8gYWxsb3cgdG8gdHJhbnNmZXIKICAgKiBAcmV0dXJuIHRydWUgaWYgdG9rZW4gdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWxseSBhcHByb3ZlZCwgZmFsc2Ugb3RoZXJ3aXNlCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZSAoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCXJlcXVpcmUoYWxsb3dhbmNlIChtc2cuc2VuZGVyLCBfc3BlbmRlcikgPT0gMCB8fCBfdmFsdWUgPT0gMCk7CiAgICByZXR1cm4gQWJzdHJhY3RUb2tlbi5hcHByb3ZlIChfc3BlbmRlciwgX3ZhbHVlKTsKICB9CgogIC8qKgogICAqIENyZWF0ZSBfdmFsdWUgbmV3IHRva2VucyBhbmQgZ2l2ZSBuZXcgY3JlYXRlZCB0b2tlbnMgdG8gbXNnLnNlbmRlci4KICAgKiBNYXkgb25seSBiZSBjYWxsZWQgYnkgc21hcnQgY29udHJhY3Qgb3duZXIuCiAgICoKICAgKiBAcGFyYW0gX3ZhbHVlIG51bWJlciBvZiB0b2tlbnMgdG8gY3JlYXRlCiAgICogQHJldHVybiB0cnVlIGlmIHRva2VucyB3ZXJlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LCBmYWxzZSBvdGhlcndpc2UKICAgKi8KICBmdW5jdGlvbiBjcmVhdGVUb2tlbnModWludDI1NiBfdmFsdWUpCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJlcXVpcmUgKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoKICAgIGlmIChfdmFsdWUgPiAwKSB7CiAgICAgIGlmIChfdmFsdWUgPiBzYWZlU3ViIChNQVhfVE9LRU5fQ09VTlQsIHRva2VuQ291bnQpKSByZXR1cm4gZmFsc2U7CgkgIAogICAgICBhY2NvdW50cyBbbXNnLnNlbmRlcl0gPSBzYWZlQWRkIChhY2NvdW50cyBbbXNnLnNlbmRlcl0sIF92YWx1ZSk7CiAgICAgIHRva2VuQ291bnQgPSBzYWZlQWRkICh0b2tlbkNvdW50LCBfdmFsdWUpOwoJICAKCSAgLy8gYWRkaW5nIHRyYW5zZmVyIGV2ZW50IGFuZCBfZnJvbSBhZGRyZXNzIGFzIG51bGwgYWRkcmVzcwoJICBUcmFuc2ZlcigweDAsIG1zZy5zZW5kZXIsIF92YWx1ZSk7CgkgIAoJICByZXR1cm4gdHJ1ZTsKICAgIH0KCQoJICByZXR1cm4gZmFsc2U7CiAgICAKICB9CiAgCgogIC8qKgogICAqIFNldCBuZXcgb3duZXIgZm9yIHRoZSBzbWFydCBjb250cmFjdC4KICAgKiBNYXkgb25seSBiZSBjYWxsZWQgYnkgc21hcnQgY29udHJhY3Qgb3duZXIuCiAgICoKICAgKiBAcGFyYW0gX25ld093bmVyIGFkZHJlc3Mgb2YgbmV3IG93bmVyIG9mIHRoZSBzbWFydCBjb250cmFjdAogICAqLwogIGZ1bmN0aW9uIHNldE93bmVyKGFkZHJlc3MgX25ld093bmVyKSB7CiAgICByZXF1aXJlIChtc2cuc2VuZGVyID09IG93bmVyKTsKCiAgICBvd25lciA9IF9uZXdPd25lcjsKICB9CgogIC8qKgogICAqIEZyZWV6ZSBBTEwgdG9rZW4gdHJhbnNmZXJzLgogICAqIE1heSBvbmx5IGJlIGNhbGxlZCBieSBzbWFydCBjb250cmFjdCBvd25lci4KICAgKi8KICBmdW5jdGlvbiBmcmVlemVUcmFuc2ZlcnMgKCkgewogICAgcmVxdWlyZSAobXNnLnNlbmRlciA9PSBvd25lcik7CgogICAgaWYgKCFmcm96ZW4pIHsKICAgICAgZnJvemVuID0gdHJ1ZTsKICAgICAgRnJlZXplICgpOwogICAgfQogIH0KCiAgLyoqCiAgICogVW5mcmVlemUgQUxMIHRva2VuIHRyYW5zZmVycy4KICAgKiBNYXkgb25seSBiZSBjYWxsZWQgYnkgc21hcnQgY29udHJhY3Qgb3duZXIuCiAgICovCiAgZnVuY3Rpb24gdW5mcmVlemVUcmFuc2ZlcnMgKCkgewogICAgcmVxdWlyZSAobXNnLnNlbmRlciA9PSBvd25lcik7CgogICAgaWYgKGZyb3plbikgewogICAgICBmcm96ZW4gPSBmYWxzZTsKICAgICAgVW5mcmVlemUgKCk7CiAgICB9CiAgfQogIAogIAogIC8qQSB1c2VyIGlzIGFibGUgdG8gdW5pbnRlbnRpb25hbGx5IHNlbmQgdG9rZW5zIHRvIGEgY29udHJhY3QgCiAgKiBhbmQgaWYgdGhlIGNvbnRyYWN0IGlzIG5vdCBwcmVwYXJlZCB0byByZWZ1bmQgdGhlbSB0aGV5IHdpbGwgZ2V0IHN0dWNrIGluIHRoZSBjb250cmFjdC4gCiAgKiBUaGUgc2FtZSBpc3N1ZSB1c2VkIHRvIGhhcHBlbiBmb3IgRXRoZXIgdG9vIGJ1dCBuZXcgU29saWRpdHkgdmVyc2lvbnMgYWRkZWQgdGhlIHBheWFibGUgbW9kaWZpZXIgdG8KICAqIHByZXZlbnQgdW5pbnRlbmRlZCBFdGhlciB0cmFuc2ZlcnMuIEhvd2V2ZXIsIHRoZXJl4oCZcyBubyBzdWNoIG1lY2hhbmlzbSBmb3IgdG9rZW4gdHJhbnNmZXJzLgogICogc28gdGhlIGJlbG93IGZ1bmN0aW9uIGlzIGNyZWF0ZWQKICAqLwogIAogIGZ1bmN0aW9uIHJlZnVuZFRva2VucyhhZGRyZXNzIF90b2tlbiwgYWRkcmVzcyBfcmVmdW5kLCB1aW50MjU2IF92YWx1ZSkgewogICAgcmVxdWlyZSAobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICByZXF1aXJlKF90b2tlbiAhPSBhZGRyZXNzKHRoaXMpKTsKICAgIEFic3RyYWN0VG9rZW4gdG9rZW4gPSBBYnN0cmFjdFRva2VuKF90b2tlbik7CiAgICB0b2tlbi50cmFuc2ZlcihfcmVmdW5kLCBfdmFsdWUpOwogICAgUmVmdW5kVG9rZW5zKF90b2tlbiwgX3JlZnVuZCwgX3ZhbHVlKTsKICB9CiAgCiAgLyoqCiAgICogRnJlZXplIHNwZWNpZmljIGFjY291bnQKICAgKiBNYXkgb25seSBiZSBjYWxsZWQgYnkgc21hcnQgY29udHJhY3Qgb3duZXIuCiAgICovCiAgZnVuY3Rpb24gZnJlZXplQWNjb3VudChhZGRyZXNzIF90YXJnZXQsIGJvb2wgZnJlZXplKSB7CiAgICAgIHJlcXVpcmUgKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoJICByZXF1aXJlIChtc2cuc2VuZGVyICE9IF90YXJnZXQpOwogICAgICBmcm96ZW5BY2NvdW50W190YXJnZXRdID0gZnJlZXplOwogICAgICBGcm96ZW5GdW5kcyhfdGFyZ2V0LCBmcmVlemUpOwogfQoKICAvKioKICAgKiBMb2dnZWQgd2hlbiB0b2tlbiB0cmFuc2ZlcnMgd2VyZSBmcm96ZW4uCiAgICovCiAgZXZlbnQgRnJlZXplICgpOwoKICAvKioKICAgKiBMb2dnZWQgd2hlbiB0b2tlbiB0cmFuc2ZlcnMgd2VyZSB1bmZyb3plbi4KICAgKi8KICBldmVudCBVbmZyZWV6ZSAoKTsKICAKICAvKioKICAgKiBMb2dnZWQgd2hlbiBhIHBhcnRpY3VsYXIgYWNjb3VudCBpcyBmcm96ZW4uCiAgICovCiAgCiAgZXZlbnQgRnJvemVuRnVuZHMoYWRkcmVzcyB0YXJnZXQsIGJvb2wgZnJvemVuKTsKCgogIAogIC8qKgogICAqIHdoZW4gYWNjaWRlbnRhbGx5IHNlbmQgb3RoZXIgdG9rZW5zIGFyZSByZWZ1bmRlZAogICAqLwogIAogIGV2ZW50IFJlZnVuZFRva2VucyhhZGRyZXNzIF90b2tlbiwgYWRkcmVzcyBfcmVmdW5kLCB1aW50MjU2IF92YWx1ZSk7Cn0='.
	

]
