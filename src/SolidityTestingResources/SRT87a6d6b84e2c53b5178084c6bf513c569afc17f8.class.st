Class {
	#name : #SRT87a6d6b84e2c53b5178084c6bf513c569afc17f8,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT87a6d6b84e2c53b5178084c6bf513c569afc17f8 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBUb2tlbiB7CiAgLy8vIEByZXR1cm4gdG90YWwgYW1vdW50IG9mIHRva2VucwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpIHt9CgogIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIGZyb20gd2hpY2ggdGhlIGJhbGFuY2Ugd2lsbCBiZSByZXRyaWV2ZWQKICAvLy8gQHJldHVybiBUaGUgYmFsYW5jZQogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7fQoKICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYG1zZy5zZW5kZXJgCiAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90byx1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQoKICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYF9mcm9tYCBvbiB0aGUgY29uZGl0aW9uIGl0IGlzIGFwcHJvdmVkIGJ5IGBfZnJvbWAKICAvLy8gQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLGFkZHJlc3MgX3RvLHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9CgogIC8vLyBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX2FkZHJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB3ZWkgdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9CgogIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IG93bmluZyB0b2tlbnMKICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHt9CgogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSxhZGRyZXNzIGluZGV4ZWQgX3RvLHVpbnQyNTYgX3ZhbHVlKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlcix1aW50MjU2IF92YWx1ZSk7CgogIHVpbnQgZGVjaW1hbHM7CiAgc3RyaW5nIG5hbWU7Cn0KCmNvbnRyYWN0IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBzYWZlTXVsKHVpbnQgYSx1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCgogIGZ1bmN0aW9uIHNhZmVEaXYodWludCBhLHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAvIGI7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHNhZmVTdWIodWludCBhLHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQgYSx1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGM+PWEgJiYgYz49Yik7CiAgICByZXR1cm4gYzsKICB9Cgp9Cgpjb250cmFjdCBTaG9ydE9yZGVyIGlzIFNhZmVNYXRoIHsKCiAgYWRkcmVzcyBhZG1pbjsKCiAgc3RydWN0IE9yZGVyIHsKICAgIHVpbnQgY291cG9uOwogICAgdWludCBiYWxhbmNlOwogICAgYm9vbCB0b2tlbkRlcG9zaXQ7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHNob3J0QmFsYW5jZTsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgbG9uZ0JhbGFuY2U7CiAgfQoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGJ5dGVzMzIgPT4gT3JkZXIpKSBvcmRlclJlY29yZDsKCiAgZXZlbnQgVG9rZW5GdWxmaWxsbWVudChhZGRyZXNzWzJdIHRva2VuVXNlcix1aW50WzddIG1pbk1heERXQ1BOb25jZSx1aW50OCB2LGJ5dGVzMzJbMl0gcnMsdWludCBhbW91bnQpOwogIGV2ZW50IENvdXBvbkRlcG9zaXQoYWRkcmVzc1syXSB0b2tlblVzZXIsdWludFs3XSBtaW5NYXhEV0NQTm9uY2UsdWludDggdixieXRlczMyWzJdIHJzLHVpbnQgdmFsdWUpOwogIGV2ZW50IExvbmdQbGFjZShhZGRyZXNzWzJdIHRva2VuVXNlcix1aW50WzddIG1pbk1heERXQ1BOb25jZSx1aW50OCB2LGJ5dGVzMzJbMl0gcnMsdWludCB2YWx1ZSk7CiAgZXZlbnQgTG9uZ0JvdWdodChhZGRyZXNzWzJdIHNlbGxlclNob3J0LHVpbnRbMl0gYW1vdW50Tm9uY2UsdWludDggdixieXRlczMyWzNdIGhhc2hSUyx1aW50IHZhbHVlKTsKICBldmVudCBUb2tlbkxvbmdFeGVyY2lzZWQoYWRkcmVzc1syXSB0b2tlblVzZXIsdWludFs3XSBtaW5NYXhEV0NQTm9uY2UsdWludDggdixieXRlczMyWzJdIHJzLHVpbnQgY291cG9uQW1vdW50LHVpbnQgYW1vdW50KTsKICBldmVudCBFdGhMb25nRXhlcmNpc2VkKGFkZHJlc3NbMl0gdG9rZW5Vc2VyLHVpbnRbN10gbWluTWF4RFdDUE5vbmNlLHVpbnQ4IHYsYnl0ZXMzMlsyXSBycyx1aW50IGNvdXBvbkFtb3VudCx1aW50IGFtb3VudCk7CiAgZXZlbnQgRG9uYXRpb25DbGFpbWVkKGFkZHJlc3NbMl0gdG9rZW5Vc2VyLHVpbnRbN10gbWluTWF4RFdDUE5vbmNlLHVpbnQ4IHYsYnl0ZXMzMlsyXSBycyx1aW50IGNvdXBvbix1aW50IGJhbGFuY2UpOwogIGV2ZW50IE5vbkFjdGl2YXRpb25XaXRoZHJhd2FsKGFkZHJlc3NbMl0gdG9rZW5Vc2VyLHVpbnRbN10gbWluTWF4RFdDUE5vbmNlLHVpbnQ4IHYsYnl0ZXMzMlsyXSBycyx1aW50IGNvdXBvbik7CiAgZXZlbnQgQWN0aXZhdGlvbldpdGhkcmF3YWwoYWRkcmVzc1syXSB0b2tlblVzZXIsdWludFs3XSBtaW5NYXhEV0NQTm9uY2UsdWludDggdixieXRlczMyWzJdIHJzLHVpbnQgYmFsYW5jZSk7CgogIG1vZGlmaWVyIG9ubHlBZG1pbigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBhZG1pbik7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gU2hvcnRPcmRlcigpIHsKICAgIGFkbWluID0gbXNnLnNlbmRlcjsKICB9CgogIGZ1bmN0aW9uIGNoYW5nZUFkbWluKGFkZHJlc3MgX2FkbWluKSBleHRlcm5hbCBvbmx5QWRtaW4gewogICAgYWRtaW4gPSBfYWRtaW47CiAgfQoKICBmdW5jdGlvbiB0b2tlbkZ1bGZpbGxtZW50RGVwb3NpdChhZGRyZXNzWzJdIHRva2VuVXNlcix1aW50IGFtb3VudCx1aW50WzddIG1pbk1heERXQ1BOb25jZSx1aW50OCB2LGJ5dGVzMzJbMl0gcnMpIGV4dGVybmFsIHsKICAgIGJ5dGVzMzIgb3JkZXJIYXNoID0gc2hhMjU2KHRva2VuVXNlcixtaW5NYXhEV0NQTm9uY2UpOwogICAgcmVxdWlyZSgKICAgICAgZWNyZWNvdmVyKGtlY2NhazI1NigiXHgxOUV0aGVyZXVtIFNpZ25lZCBNZXNzYWdlOlxuMzIiLG9yZGVySGFzaCksdixyc1swXSxyc1sxXSkgPT0gbXNnLnNlbmRlciAmJgogICAgICBibG9jay5udW1iZXIgPiBtaW5NYXhEV0NQTm9uY2VbMl0gJiYKICAgICAgYmxvY2subnVtYmVyIDw9IG1pbk1heERXQ1BOb25jZVszXSAmJiAKICAgICAgb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmJhbGFuY2UgPj0gbWluTWF4RFdDUE5vbmNlWzBdICYmCiAgICAgIGFtb3VudCA+PSBzYWZlTXVsKG9yZGVyUmVjb3JkW21zZy5zZW5kZXJdW29yZGVySGFzaF0uYmFsYW5jZSxtaW5NYXhEV0NQTm9uY2VbNV0pICYmCiAgICAgICFvcmRlclJlY29yZFttc2cuc2VuZGVyXVtvcmRlckhhc2hdLnRva2VuRGVwb3NpdAogICAgKTsKICAgIFRva2VuKHRva2VuVXNlclswXSkudHJhbnNmZXJGcm9tKG1zZy5zZW5kZXIsdGhpcyxhbW91bnQpOwogICAgb3JkZXJSZWNvcmRbbXNnLnNlbmRlcl1bb3JkZXJIYXNoXS5zaG9ydEJhbGFuY2VbdG9rZW5Vc2VyWzBdXSA9IHNhZmVBZGQob3JkZXJSZWNvcmRbbXNnLnNlbmRlcl1bb3JkZXJIYXNoXS5zaG9ydEJhbGFuY2VbdG9rZW5Vc2VyWzBdXSxhbW91bnQpOwogICAgb3JkZXJSZWNvcmRbbXNnLnNlbmRlcl1bb3JkZXJIYXNoXS50b2tlbkRlcG9zaXQgPSB0cnVlOwogICAgVG9rZW5GdWxmaWxsbWVudCh0b2tlblVzZXIsbWluTWF4RFdDUE5vbmNlLHYscnMsYW1vdW50KTsKICB9CiAKICBmdW5jdGlvbiBkZXBvc2l0Q291cG9uKGFkZHJlc3NbMl0gdG9rZW5Vc2VyLHVpbnRbN10gbWluTWF4RFdDUE5vbmNlLHVpbnQ4IHYsYnl0ZXMzMlsyXSBycykgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICBieXRlczMyIG9yZGVySGFzaCA9IHNoYTI1Nih0b2tlblVzZXIsbWluTWF4RFdDUE5vbmNlKTsKICAgIHJlcXVpcmUoCiAgICAgIGVjcmVjb3ZlcihrZWNjYWsyNTYoIlx4MTlFdGhlcmV1bSBTaWduZWQgTWVzc2FnZTpcbjMyIixvcmRlckhhc2gpLHYscnNbMF0scnNbMV0pID09IG1zZy5zZW5kZXIgJiYKICAgICAgbXNnLnZhbHVlID49IG1pbk1heERXQ1BOb25jZVs0XQogICAgKTsKICAgIG9yZGVyUmVjb3JkW21zZy5zZW5kZXJdW29yZGVySGFzaF0uY291cG9uID0gc2FmZUFkZChvcmRlclJlY29yZFttc2cuc2VuZGVyXVtvcmRlckhhc2hdLmNvdXBvbixtc2cudmFsdWUpOwogICAgQ291cG9uRGVwb3NpdCh0b2tlblVzZXIsbWluTWF4RFdDUE5vbmNlLHYscnMsbXNnLnZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIHBsYWNlTG9uZyhhZGRyZXNzWzJdIHRva2VuVXNlcix1aW50WzddIG1pbk1heERXQ1BOb25jZSx1aW50OCB2LGJ5dGVzMzJbMl0gcnMpIGV4dGVybmFsIHBheWFibGUgewogICAgYnl0ZXMzMiBvcmRlckhhc2ggPSBzaGEyNTYodG9rZW5Vc2VyLG1pbk1heERXQ1BOb25jZSk7CiAgICByZXF1aXJlKAogICAgICBlY3JlY292ZXIoa2VjY2FrMjU2KCJceDE5RXRoZXJldW0gU2lnbmVkIE1lc3NhZ2U6XG4zMiIsb3JkZXJIYXNoKSx2LHJzWzBdLHJzWzFdKSA9PSB0b2tlblVzZXJbMV0gJiYKICAgICAgYmxvY2subnVtYmVyIDw9IG1pbk1heERXQ1BOb25jZVsyXSAmJgogICAgICBvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uYmFsYW5jZSA8PSBtaW5NYXhEV0NQTm9uY2VbMV0KICAgICk7CiAgICBvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0ubG9uZ0JhbGFuY2VbbXNnLnNlbmRlcl0gPSBzYWZlQWRkKG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5sb25nQmFsYW5jZVttc2cuc2VuZGVyXSxtc2cudmFsdWUpOwogICAgb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmJhbGFuY2UgPSBzYWZlQWRkKG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5iYWxhbmNlLG1zZy52YWx1ZSk7CiAgICBMb25nUGxhY2UodG9rZW5Vc2VyLG1pbk1heERXQ1BOb25jZSx2LHJzLG1zZy52YWx1ZSk7CiAgfQogIAogIGZ1bmN0aW9uIGJ1eUxvbmcoYWRkcmVzc1syXSBzZWxsZXJTaG9ydCx1aW50WzJdIGFtb3VudE5vbmNlLHVpbnQ4IHYsYnl0ZXMzMlszXSBoYXNoUlMpIGV4dGVybmFsIHBheWFibGUgewogICAgYnl0ZXMzMiBsb25nVHJhbnNmZXJIYXNoID0gc2hhMjU2KHNlbGxlclNob3J0WzBdLGFtb3VudE5vbmNlKTsKICAgIHJlcXVpcmUoCiAgICAgIGVjcmVjb3ZlcihrZWNjYWsyNTYoIlx4MTlFdGhlcmV1bSBTaWduZWQgTWVzc2FnZTpcbjMyIixsb25nVHJhbnNmZXJIYXNoWzBdKSx2LGhhc2hSU1sxXSxoYXNoUlNbMl0pID09IHNlbGxlclNob3J0WzFdICYmCiAgICAgIG1zZy52YWx1ZSA+PSBhbW91bnROb25jZVswXSAKICAgICk7CiAgICBzZWxsZXJTaG9ydFswXS50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgb3JkZXJSZWNvcmRbc2VsbGVyU2hvcnRbMV1dW2hhc2hSU1swXV0ubG9uZ0JhbGFuY2VbbXNnLnNlbmRlcl0gPSBvcmRlclJlY29yZFtzZWxsZXJTaG9ydFsxXV1baGFzaFJTWzBdXS5sb25nQmFsYW5jZVtzZWxsZXJTaG9ydFswXV07CiAgICBvcmRlclJlY29yZFtzZWxsZXJTaG9ydFsxXV1baGFzaFJTWzBdXS5sb25nQmFsYW5jZVtzZWxsZXJTaG9ydFswXV0gPSB1aW50KDApOwogICAgTG9uZ0JvdWdodChzZWxsZXJTaG9ydCxhbW91bnROb25jZSx2LGhhc2hSUyxtc2cudmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gZXhlcmNpc2VMb25nKGFkZHJlc3NbMl0gdG9rZW5Vc2VyLHVpbnRbN10gbWluTWF4RFdDUE5vbmNlLHVpbnQ4IHYsYnl0ZXMzMlsyXSBycykgZXh0ZXJuYWwgewogICAgYnl0ZXMzMiBvcmRlckhhc2ggPSBzaGEyNTYodG9rZW5Vc2VyLG1pbk1heERXQ1BOb25jZSk7CiAgICByZXF1aXJlKAogICAgICBlY3JlY292ZXIoa2VjY2FrMjU2KCJceDE5RXRoZXJldW0gU2lnbmVkIE1lc3NhZ2U6XG4zMiIsb3JkZXJIYXNoKSx2LHJzWzBdLHJzWzFdKSA9PSB0b2tlblVzZXJbMV0gJiYKICAgICAgYmxvY2subnVtYmVyID4gbWluTWF4RFdDUE5vbmNlWzJdICYmCiAgICAgIGJsb2NrLm51bWJlciA8PSBtaW5NYXhEV0NQTm9uY2VbM10gJiYKICAgICAgb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmJhbGFuY2UgPj0gbWluTWF4RFdDUE5vbmNlWzBdICYmCiAgICAgIG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5sb25nQmFsYW5jZVttc2cuc2VuZGVyXSA+IHVpbnQoMCkKICAgICk7CiAgICB1aW50IGNvdXBvblByb3BvcnRpb24gPSBzYWZlRGl2KG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5sb25nQmFsYW5jZVttc2cuc2VuZGVyXSxvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uYmFsYW5jZSk7CiAgICB1aW50IGNvdXBvbkFtb3VudDsKICAgIGlmKG9yZGVyUmVjb3JkW21zZy5zZW5kZXJdW29yZGVySGFzaF0udG9rZW5EZXBvc2l0KSB7CiAgICAgIGNvdXBvbkFtb3VudCA9IHNhZmVNdWwob3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmNvdXBvbixjb3Vwb25Qcm9wb3J0aW9uKTsKICAgICAgdWludCBhbW91bnQgPSBzYWZlTXVsKG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5sb25nQmFsYW5jZVttc2cuc2VuZGVyXSxtaW5NYXhEV0NQTm9uY2VbNV0pOwogICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGNvdXBvbkFtb3VudCk7CiAgICAgIFRva2VuKHRva2VuVXNlclswXSkudHJhbnNmZXIobXNnLnNlbmRlcixhbW91bnQpOwogICAgICBvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uY291cG9uID0gc2FmZVN1YihvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uY291cG9uLGNvdXBvbkFtb3VudCk7CiAgICAgIG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5iYWxhbmNlID0gc2FmZVN1YihvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uYmFsYW5jZSxvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0ubG9uZ0JhbGFuY2VbbXNnLnNlbmRlcl0pOwogICAgICBvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uc2hvcnRCYWxhbmNlW3Rva2VuVXNlclswXV0gPSBzYWZlU3ViKG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5zaG9ydEJhbGFuY2VbdG9rZW5Vc2VyWzBdXSxhbW91bnQpOwogICAgICBvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0ubG9uZ0JhbGFuY2VbbXNnLnNlbmRlcl0gPSB1aW50KDApOwogICAgICBUb2tlbkxvbmdFeGVyY2lzZWQodG9rZW5Vc2VyLG1pbk1heERXQ1BOb25jZSx2LHJzLGNvdXBvbkFtb3VudCxhbW91bnQpOwogICAgfQogICAgZWxzZSB7CiAgICAgIGNvdXBvbkFtb3VudCA9IHNhZmVNdWwob3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmNvdXBvbixjb3Vwb25Qcm9wb3J0aW9uKTsKICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihzYWZlQWRkKGNvdXBvbkFtb3VudCxvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0ubG9uZ0JhbGFuY2VbbXNnLnNlbmRlcl0pKTsKICAgICAgb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmNvdXBvbiA9IHNhZmVTdWIob3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmNvdXBvbixjb3Vwb25BbW91bnQpOwogICAgICBvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uYmFsYW5jZSA9IHNhZmVTdWIob3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmJhbGFuY2Usb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmxvbmdCYWxhbmNlW21zZy5zZW5kZXJdKTsKICAgICAgb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmxvbmdCYWxhbmNlW21zZy5zZW5kZXJdID0gdWludCgwKTsgCiAgICAgIEV0aExvbmdFeGVyY2lzZWQodG9rZW5Vc2VyLG1pbk1heERXQ1BOb25jZSx2LHJzLGNvdXBvbkFtb3VudCxvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0ubG9uZ0JhbGFuY2VbbXNnLnNlbmRlcl0pOwogICAgfQogIH0KCiAgZnVuY3Rpb24gY2xhaW1Eb25hdGlvbnMoYWRkcmVzc1syXSB0b2tlblVzZXIsdWludFs3XSBtaW5NYXhEV0NQTm9uY2UsdWludDggdixieXRlczMyWzJdIHJzKSBleHRlcm5hbCBvbmx5QWRtaW4gewogICAgYnl0ZXMzMiBvcmRlckhhc2ggPSBzaGEyNTYodG9rZW5Vc2VyLG1pbk1heERXQ1BOb25jZSk7CiAgICByZXF1aXJlKAogICAgICBlY3JlY292ZXIoa2VjY2FrMjU2KCJceDE5RXRoZXJldW0gU2lnbmVkIE1lc3NhZ2U6XG4zMiIsb3JkZXJIYXNoKSx2LHJzWzBdLHJzWzFdKSA9PSB0b2tlblVzZXJbMV0gJiYKICAgICAgYmxvY2subnVtYmVyID4gbWluTWF4RFdDUE5vbmNlWzNdCiAgICApOwogICAgYWRtaW4udHJhbnNmZXIoc2FmZUFkZChvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uY291cG9uLG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5iYWxhbmNlKSk7CiAgICBUb2tlbih0b2tlblVzZXJbMF0pLnRyYW5zZmVyKGFkbWluLG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5zaG9ydEJhbGFuY2VbdG9rZW5Vc2VyWzBdXSk7CiAgICBvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uYmFsYW5jZSA9IHVpbnQoMCk7CiAgICBvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uY291cG9uID0gdWludCgwKTsKICAgIG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5zaG9ydEJhbGFuY2VbdG9rZW5Vc2VyWzBdXSA9IHVpbnQoMCk7CiAgICBEb25hdGlvbkNsYWltZWQodG9rZW5Vc2VyLG1pbk1heERXQ1BOb25jZSx2LHJzLG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5jb3Vwb24sb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmJhbGFuY2UpOwogIH0KCiAgZnVuY3Rpb24gbm9uQWN0aXZhdGlvblNob3J0V2l0aGRyYXdhbChhZGRyZXNzWzJdIHRva2VuVXNlcix1aW50WzddIG1pbk1heERXQ1BOb25jZSx1aW50OCB2LGJ5dGVzMzJbMl0gcnMpIGV4dGVybmFsIHsKICAgIGJ5dGVzMzIgb3JkZXJIYXNoID0gc2hhMjU2KHRva2VuVXNlcixtaW5NYXhEV0NQTm9uY2UpOwogICAgcmVxdWlyZSgKICAgICAgZWNyZWNvdmVyKGtlY2NhazI1NigiXHgxOUV0aGVyZXVtIFNpZ25lZCBNZXNzYWdlOlxuMzIiLG9yZGVySGFzaCksdixyc1swXSxyc1sxXSkgPT0gbXNnLnNlbmRlciAmJgogICAgICBibG9jay5udW1iZXIgPiBtaW5NYXhEV0NQTm9uY2VbMl0gJiYKICAgICAgYmxvY2subnVtYmVyIDw9IG1pbk1heERXQ1BOb25jZVszXSAmJgogICAgICBvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uYmFsYW5jZSA8IG1pbk1heERXQ1BOb25jZVswXQogICAgKTsKICAgIG1zZy5zZW5kZXIudHJhbnNmZXIob3JkZXJSZWNvcmRbbXNnLnNlbmRlcl1bb3JkZXJIYXNoXS5jb3Vwb24pOwogICAgb3JkZXJSZWNvcmRbbXNnLnNlbmRlcl1bb3JkZXJIYXNoXS5jb3Vwb24gPSB1aW50KDApOwogICAgTm9uQWN0aXZhdGlvbldpdGhkcmF3YWwodG9rZW5Vc2VyLG1pbk1heERXQ1BOb25jZSx2LHJzLG9yZGVyUmVjb3JkW21zZy5zZW5kZXJdW29yZGVySGFzaF0uY291cG9uKTsKICB9CgogIGZ1bmN0aW9uIG5vbkFjdGl2YXRpb25XaXRoZHJhd2FsKGFkZHJlc3NbMl0gdG9rZW5Vc2VyLHVpbnRbN10gbWluTWF4RFdDUE5vbmNlLHVpbnQ4IHYsYnl0ZXMzMlsyXSBycykgZXh0ZXJuYWwgewogICAgYnl0ZXMzMiBvcmRlckhhc2ggPSBzaGEyNTYodG9rZW5Vc2VyLG1pbk1heERXQ1BOb25jZSk7CiAgICByZXF1aXJlKAogICAgICBlY3JlY292ZXIoa2VjY2FrMjU2KCJceDE5RXRoZXJldW0gU2lnbmVkIE1lc3NhZ2U6XG4zMiIsb3JkZXJIYXNoKSx2LHJzWzBdLHJzWzFdKSA9PSB0b2tlblVzZXJbMV0gJiYKICAgICAgYmxvY2subnVtYmVyID4gbWluTWF4RFdDUE5vbmNlWzJdICYmCiAgICAgIGJsb2NrLm51bWJlciA8PSBtaW5NYXhEV0NQTm9uY2VbM10gJiYKICAgICAgb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmJhbGFuY2UgPCBtaW5NYXhEV0NQTm9uY2VbMF0KICAgICk7CiAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5sb25nQmFsYW5jZVttc2cuc2VuZGVyXSk7CiAgICBvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uYmFsYW5jZSA9IHNhZmVTdWIob3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmJhbGFuY2Usb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmxvbmdCYWxhbmNlW21zZy5zZW5kZXJdKTsKICAgIG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5sb25nQmFsYW5jZVttc2cuc2VuZGVyXSA9IHVpbnQoMCk7CiAgICBBY3RpdmF0aW9uV2l0aGRyYXdhbCh0b2tlblVzZXIsbWluTWF4RFdDUE5vbmNlLHYscnMsb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmxvbmdCYWxhbmNlW21zZy5zZW5kZXJdKTsKICB9CgogIGZ1bmN0aW9uIHJldHVybkJhbGFuY2UoYWRkcmVzc1syXSB0b2tlblVzZXIsdWludFs3XSBtaW5NYXhEV0NQTm9uY2UsdWludDggdixieXRlczMyWzJdIHJzKSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICBieXRlczMyIG9yZGVySGFzaCA9IHNoYTI1Nih0b2tlblVzZXIsbWluTWF4RFdDUE5vbmNlKTsKICAgIHJlcXVpcmUoZWNyZWNvdmVyKGtlY2NhazI1NigiXHgxOUV0aGVyZXVtIFNpZ25lZCBNZXNzYWdlOlxuMzIiLG9yZGVySGFzaCksdixyc1swXSxyc1sxXSkgPT0gdG9rZW5Vc2VyWzFdKTsKICAgIHJldHVybiBvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uYmFsYW5jZTsKICB9CgogIGZ1bmN0aW9uIHJldHVyblRva2VuQmFsYW5jZShhZGRyZXNzWzJdIHRva2VuVXNlcix1aW50WzddIG1pbk1heERXQ1BOb25jZSx1aW50OCB2LGJ5dGVzMzJbMl0gcnMpIGV4dGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgIGJ5dGVzMzIgb3JkZXJIYXNoID0gc2hhMjU2KHRva2VuVXNlcixtaW5NYXhEV0NQTm9uY2UpOwogICAgcmVxdWlyZShlY3JlY292ZXIoa2VjY2FrMjU2KCJceDE5RXRoZXJldW0gU2lnbmVkIE1lc3NhZ2U6XG4zMiIsb3JkZXJIYXNoKSx2LHJzWzBdLHJzWzFdKSA9PSB0b2tlblVzZXJbMV0pOwogICAgcmV0dXJuIG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5zaG9ydEJhbGFuY2VbdG9rZW5Vc2VyWzFdXTsKICB9CgogIGZ1bmN0aW9uIHJldHVyblVzZXJCYWxhbmNlKGFkZHJlc3MgX3VzZXIsYWRkcmVzc1syXSB0b2tlblVzZXIsdWludFs3XSBtaW5NYXhEV0NQTm9uY2UsdWludDggdixieXRlczMyWzJdIHJzKSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICBieXRlczMyIG9yZGVySGFzaCA9IHNoYTI1Nih0b2tlblVzZXIsbWluTWF4RFdDUE5vbmNlKTsKICAgIHJlcXVpcmUoZWNyZWNvdmVyKGtlY2NhazI1NigiXHgxOUV0aGVyZXVtIFNpZ25lZCBNZXNzYWdlOlxuMzIiLG9yZGVySGFzaCksdixyc1swXSxyc1sxXSkgPT0gdG9rZW5Vc2VyWzFdKTsKICAgIHJldHVybiBvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0ubG9uZ0JhbGFuY2VbX3VzZXJdOwogIH0KCiAgZnVuY3Rpb24gcmV0dXJuQ291cG9uKGFkZHJlc3NbMl0gdG9rZW5Vc2VyLHVpbnRbN10gbWluTWF4RFdDUE5vbmNlLHVpbnQ4IHYsYnl0ZXMzMlsyXSBycykgZXh0ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgYnl0ZXMzMiBvcmRlckhhc2ggPSBzaGEyNTYodG9rZW5Vc2VyLG1pbk1heERXQ1BOb25jZSk7CiAgICByZXF1aXJlKGVjcmVjb3ZlcihrZWNjYWsyNTYoIlx4MTlFdGhlcmV1bSBTaWduZWQgTWVzc2FnZTpcbjMyIixvcmRlckhhc2gpLHYscnNbMF0scnNbMV0pID09IHRva2VuVXNlclsxXSk7CiAgICByZXR1cm4gb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmNvdXBvbjsKICB9CgogIGZ1bmN0aW9uIHJldHVyblRva2VuRGVwb3NpdFN0YXRlKGFkZHJlc3NbMl0gdG9rZW5Vc2VyLHVpbnRbN10gbWluTWF4RFdDUE5vbmNlLHVpbnQ4IHYsYnl0ZXMzMlsyXSBycykgZXh0ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgYnl0ZXMzMiBvcmRlckhhc2ggPSBzaGEyNTYodG9rZW5Vc2VyLG1pbk1heERXQ1BOb25jZSk7CiAgICByZXF1aXJlKGVjcmVjb3ZlcihrZWNjYWsyNTYoIlx4MTlFdGhlcmV1bSBTaWduZWQgTWVzc2FnZTpcbjMyIixvcmRlckhhc2gpLHYscnNbMF0scnNbMV0pID09IHRva2VuVXNlclsxXSk7CiAgICByZXR1cm4gb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLnRva2VuRGVwb3NpdDsKICB9CiAKfQ=='.
	

]
