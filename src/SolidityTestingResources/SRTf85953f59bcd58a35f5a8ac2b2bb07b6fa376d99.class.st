Class {
	#name : #SRTf85953f59bcd58a35f5a8ac2b2bb07b6fa376d99,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTf85953f59bcd58a35f5a8ac2b2bb07b6fa376d99 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgppbnRlcmZhY2UgdG9rZW5SZWNpcGllbnQgeyBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWM7IH0KCmNvbnRyYWN0IE95c3RlclNoZWxsIHsKICAgIC8vIFB1YmxpYyB2YXJpYWJsZXMgb2YgU0hMCiAgICBzdHJpbmcgcHVibGljIG5hbWU7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgYWRkcmVzcyBwdWJsaWMgZGlyZWN0b3I7CiAgICBib29sIHB1YmxpYyBkaXJlY3RvckxvY2s7CiAgICB1aW50MjU2IHB1YmxpYyBmZWVBbW91bnQ7CiAgICB1aW50MjU2IHB1YmxpYyByZXRlbnRpb25NaW47CiAgICB1aW50MjU2IHB1YmxpYyByZXRlbnRpb25NYXg7CgogICAgLy8gQXJyYXkgZGVmaW5pdGlvbnMKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dhbmNlOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgbG9ja2VkOwoKICAgIC8vIEVSQzIwIGV2ZW50CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIAogICAgLy8gRVJDMjAgZXZlbnQKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwoKICAgIC8vIFRoaXMgbm90aWZpZXMgY2xpZW50cyBhYm91dCB0aGUgYW1vdW50IGJ1cm50CiAgICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgdWludDI1NiBfdmFsdWUpOwogICAgCiAgICAvLyBUaGlzIG5vdGlmaWVzIGNsaWVudHMgYWJvdXQgYW4gYWRkcmVzcyBnZXR0aW5nIGxvY2tlZAogICAgZXZlbnQgTG9jayhhZGRyZXNzIGluZGV4ZWQgX3RhcmdldCwgdWludDI1NiBfdmFsdWUsIHVpbnQyNTYgX2ludGVydmFsKTsKICAgIAogICAgLy8gVGhpcyBub3RpZmllcyBjbGllbnRzIGFib3V0IGEgY2xhaW0gYmVpbmcgbWFkZSBvbiBhIGxvY2tlZCBhZGRyZXNzCiAgICBldmVudCBDbGFpbShhZGRyZXNzIGluZGV4ZWQgX3RhcmdldCwgYWRkcmVzcyBpbmRleGVkIF9wYXlvdXQsIGFkZHJlc3MgaW5kZXhlZCBfZmVlKTsKCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yIGZ1bmN0aW9uCiAgICAgKgogICAgICogSW5pdGlhbGl6ZXMgY29udHJhY3QKICAgICAqLwogICAgZnVuY3Rpb24gT3lzdGVyU2hlbGwoKSBwdWJsaWMgewogICAgICAgIGRpcmVjdG9yID0gbXNnLnNlbmRlcjsKICAgICAgICBuYW1lID0gIk95c3RlciBTaGVsbCBURVNUIjsKICAgICAgICBzeW1ib2wgPSAiUFJFU0hMIjsKICAgICAgICBkZWNpbWFscyA9IDE4OwogICAgICAgIGRpcmVjdG9yTG9jayA9IGZhbHNlOwogICAgICAgIHRvdGFsU3VwcGx5ID0gOTg1OTI2OTI7CiAgICAgICAgCiAgICAgICAgLy8gQXNzaWduIHRvdGFsIFNITCBzdXBwbHkgdG8gdGhlIGRpcmVjdG9yCiAgICAgICAgYmFsYW5jZXNbZGlyZWN0b3JdID0gdG90YWxTdXBwbHk7CiAgICAgICAgCiAgICAgICAgLy8gU0hMIGZlZSBwYWlkIHRvIGJyb2tlcnMKICAgICAgICBmZWVBbW91bnQgPSAxMDsKICAgICAgICAKICAgICAgICAvLyBNYXhpbXVtIHRpbWUgZm9yIGEgc2VjdG9yIHRvIHJlbWFpbiBzdG9yZWQKICAgICAgICByZXRlbnRpb25NaW4gPSAyMDsKICAgICAgICAKICAgICAgICAvLyBNYXhpbXVtIHRpbWUgZm9yIGEgc2VjdG9yIHRvIHJlbWFpbiBzdG9yZWQKICAgICAgICByZXRlbnRpb25NYXggPSAyMDA7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogRVJDMjAgYmFsYW5jZSBmdW5jdGlvbgogICAgICovCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KICAgIAogICAgbW9kaWZpZXIgb25seURpcmVjdG9yIHsKICAgICAgICAvLyBEaXJlY3RvciBjYW4gbG9jayB0aGVtc2VsdmVzIG91dCB0byBjb21wbGV0ZSBkZWNlbnRyYWxpemF0aW9uIG9mIE95c3RlciBuZXR3b3JrCiAgICAgICAgLy8gQW4gYWx0ZXJuYXRpdmUgaXMgdGhhdCBhbm90aGVyIHNtYXJ0IGNvbnRyYWN0IGNvdWxkIGJlY29tZSB0aGUgZGVjZW50cmFsaXplZCBkaXJlY3RvcgogICAgICAgIHJlcXVpcmUoIWRpcmVjdG9yTG9jayk7CiAgICAgICAgCiAgICAgICAgLy8gT25seSB0aGUgZGlyZWN0b3IgaXMgcGVybWl0dGVkCiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGRpcmVjdG9yKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICBtb2RpZmllciBvbmx5RGlyZWN0b3JGb3JjZSB7CiAgICAgICAgLy8gT25seSB0aGUgZGlyZWN0b3IgaXMgcGVybWl0dGVkCiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGRpcmVjdG9yKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICAvKioKICAgICAqIFRyYW5zZmVycyB0aGUgZGlyZWN0b3IgdG8gYSBuZXcgYWRkcmVzcwogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckRpcmVjdG9yKGFkZHJlc3MgbmV3RGlyZWN0b3IpIHB1YmxpYyBvbmx5RGlyZWN0b3JGb3JjZSB7CiAgICAgICAgZGlyZWN0b3IgPSBuZXdEaXJlY3RvcjsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBXaXRoZHJhdyBmdW5kcyBmcm9tIHRoZSBjb250cmFjdAogICAgICovCiAgICBmdW5jdGlvbiB3aXRoZHJhd0Z1bmRzKCkgcHVibGljIG9ubHlEaXJlY3RvckZvcmNlIHsKICAgICAgICBkaXJlY3Rvci50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgfQogICAgCiAgICAvKioKICAgICAqIFBlcm1hbmVudGx5IGxvY2sgb3V0IHRoZSBkaXJlY3RvciB0byBkZWNlbnRyYWxpemUgT3lzdGVyCiAgICAgKiBJbnZvY2F0aW9uIGlzIGRpc2NyZXRpb25hcnkgYmVjYXVzZSBPeXN0ZXIgbWlnaHQgYmUgYmV0dGVyIHN1aXRlZCB0bwogICAgICogdHJhbnNpdGlvbiB0byBhbiBhcnRpZmljaWFsbHkgaW50ZWxsaWdlbnQgc21hcnQgY29udHJhY3QgZGlyZWN0b3IKICAgICAqLwogICAgZnVuY3Rpb24gc2VsZkxvY2soKSBwdWJsaWMgcGF5YWJsZSBvbmx5RGlyZWN0b3IgewogICAgICAgIC8vIFByZXZlbnRzIGFjY2lkZW50YWwgbG9ja291dAogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID09IDEwIGV0aGVyKTsKICAgICAgICAKICAgICAgICAvLyBQZXJtYW5lbnRseSBsb2NrIG91dCB0aGUgZGlyZWN0b3IKICAgICAgICBkaXJlY3RvckxvY2sgPSB0cnVlOwogICAgfQogICAgCiAgICAvKioKICAgICAqIERpcmVjdG9yIGNhbiBhbHRlciB0aGUgYnJva2VyIGZlZSByYXRlCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFtZW5kRmVlKHVpbnQyNTYgZmVlQW1vdW50U2V0KSBwdWJsaWMgb25seURpcmVjdG9yIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGZlZUFtb3VudCA9IGZlZUFtb3VudFNldDsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBEaXJlY3RvciBjYW4gYWx0ZXIgdGhlIG1heGltdW0gdGltZSBvZiBzdG9yYWdlIHJldGVudGlvbgogICAgICovCiAgICBmdW5jdGlvbiBhbWVuZFJldGVudGlvbih1aW50MjU2IHJldGVudGlvbk1pblNldCwgdWludDI1NiByZXRlbnRpb25NYXhTZXQpIHB1YmxpYyBvbmx5RGlyZWN0b3IgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy8gU2V0IHJldGVudGlvbk1pbgogICAgICAgIHJldGVudGlvbk1pbiA9IHJldGVudGlvbk1pblNldDsKICAgICAgICAKICAgICAgICAvLyBTZXQgcmV0ZW50aW9uTWF4CiAgICAgICAgcmV0ZW50aW9uTWF4ID0gcmV0ZW50aW9uTWF4U2V0OwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCiAgICAvKioKICAgICAqIE95c3RlciBQcm90b2NvbCBGdW5jdGlvbgogICAgICogTW9yZSBpbmZvcm1hdGlvbiBhdCBodHRwczovL295c3Rlci53cy9PeXN0ZXJXaGl0ZXBhcGVyLnBkZgogICAgICogCiAgICAgKiBMb2NrIGFuIGFkZHJlc3MKICAgICAqCiAgICAgKiBXaGVuIGFuIGFkZHJlc3MgaXMgbG9ja2VkOyBvbmx5IGNsYWltQW1vdW50IGNhbiBiZSB3aXRoZHJhd24gb25jZSBwZXIgZXBvY2gKICAgICAqLwogICAgZnVuY3Rpb24gbG9jayh1aW50MjU2IGludGVydmFsKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy8gVGhlIGFkZHJlc3MgbXVzdCBiZSBwcmV2aW91c2x5IHVubG9ja2VkCiAgICAgICAgcmVxdWlyZShsb2NrZWRbbXNnLnNlbmRlcl0gPT0gMCk7CiAgICAgICAgCiAgICAgICAgLy8gQW4gYWRkcmVzcyBtdXN0IGhhdmUgYXQgbGVhc3QgcmV0ZW50aW9uTWluIHRvIGJlIGxvY2tlZAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gcmV0ZW50aW9uTWluKTsKICAgICAgICAKICAgICAgICAvLyBQcmV2ZW50IGFkZHJlc3NlcyB3aXRoIGxhcmdlIGJhbGFuY2VzIGZyb20gZ2V0dGluZyBidXJpZWQKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdIDw9IHJldGVudGlvbk1heCk7CiAgICAgICAgCiAgICAgICAgLy8gU2V0IGxvY2tlZCBzdGF0ZSB0byB0cnVlCiAgICAgICAgbG9ja2VkW21zZy5zZW5kZXJdID0gaW50ZXJ2YWw7CiAgICAgICAgCiAgICAgICAgLy8gRXhlY3V0ZSBhbiBldmVudCByZWZsZWN0aW5nIHRoZSBjaGFuZ2UKICAgICAgICBMb2NrKG1zZy5zZW5kZXIsIGJhbGFuY2VzW21zZy5zZW5kZXJdLCBpbnRlcnZhbCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogT3lzdGVyIFByb3RvY29sIEZ1bmN0aW9uCiAgICAgKiBNb3JlIGluZm9ybWF0aW9uIGF0IGh0dHBzOi8vb3lzdGVyLndzL095c3RlcldoaXRlcGFwZXIucGRmCiAgICAgKiAKICAgICAqIENsYWltIGFsbCBTSEwgZnJvbSBhIGxvY2tlZCBhZGRyZXNzCiAgICAgKgogICAgICogSWYgYSBwcmlvciBjbGFpbSB3YXNuJ3QgbWFkZSBkdXJpbmcgdGhlIGN1cnJlbnQgZXBvY2gsIHRoZW4gY2xhaW1BbW91bnQgY2FuIGJlIHdpdGhkcmF3bgogICAgICoKICAgICAqIEBwYXJhbSBfcGF5b3V0IHRoZSBhZGRyZXNzIG9mIHRoZSB3ZWJzaXRlIG93bmVyCiAgICAgKiBAcGFyYW0gX2ZlZSB0aGUgYWRkcmVzcyBvZiB0aGUgYnJva2VyIG5vZGUKICAgICAqLwogICAgZnVuY3Rpb24gY2xhaW0oYWRkcmVzcyBfcGF5b3V0LCBhZGRyZXNzIF9mZWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBUaGUgY2xhaW1lZCBhZGRyZXNzIG11c3QgaGF2ZSBhbHJlYWR5IGJlZW4gbG9ja2VkCiAgICAgICAgcmVxdWlyZShsb2NrZWRbbXNnLnNlbmRlcl0gPj0gYmxvY2sudGltZXN0YW1wKTsKICAgICAgICAKICAgICAgICAvLyBUaGUgcGF5b3V0IGFuZCBmZWUgYWRkcmVzc2VzIG11c3QgYmUgZGlmZmVyZW50CiAgICAgICAgcmVxdWlyZShfcGF5b3V0ICE9IF9mZWUpOwogICAgICAgIAogICAgICAgIC8vIFRoZSBjbGFpbWVkIGFkZHJlc3MgY2Fubm90IHBheSBpdHNlbGYKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgIT0gX3BheW91dCk7CiAgICAgICAgCiAgICAgICAgLy8gVGhlIGNsYWltZWQgYWRkcmVzcyBjYW5ub3QgcGF5IGl0c2VsZgogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSBfZmVlKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBpZiB0aGUgbG9ja2VkIGFkZHJlc3MgaGFzIGVub3VnaAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gcmV0ZW50aW9uTWluKTsKICAgICAgICAKICAgICAgICAvLyBTYXZlIHRoaXMgZm9yIGFuIGFzc2VydGlvbiBpbiB0aGUgZnV0dXJlCiAgICAgICAgdWludDI1NiBwcmV2aW91c0JhbGFuY2VzID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0gKyBiYWxhbmNlc1tfcGF5b3V0XSArIGJhbGFuY2VzW19mZWVdOwogICAgICAgIAogICAgICAgIC8vIENhbGN1bGF0ZSBhbW91bnQgdG8gYmUgcGFpZCB0byBfcGF5b3V0CiAgICAgICAgdWludDI1NiBwYXlBbW91bnQgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtIGZlZUFtb3VudDsKICAgICAgICAKICAgICAgICAvLyBSZW1vdmUgY2xhaW1BbW91bnQgZnJvbSB0aGUgYnVyaWVkIGFkZHJlc3MKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IDA7CiAgICAgICAgCiAgICAgICAgLy8gUGF5IHRoZSB3ZWJzaXRlIG93bmVyIHRoYXQgaW52b2tlZCB0aGUgd2ViIG5vZGUgdGhhdCBmb3VuZCB0aGUgUFJMIHNlZWQga2V5CiAgICAgICAgYmFsYW5jZXNbX3BheW91dF0gKz0gcGF5QW1vdW50OwogICAgICAgIAogICAgICAgIC8vIFBheSB0aGUgYnJva2VyIG5vZGUgdGhhdCB1bmxvY2tlZCB0aGUgUFJMCiAgICAgICAgYmFsYW5jZXNbX2ZlZV0gKz0gZmVlQW1vdW50OwogICAgICAgIAogICAgICAgIC8vIEV4ZWN1dGUgZXZlbnRzIHRvIHJlZmxlY3QgdGhlIGNoYW5nZXMKICAgICAgICBDbGFpbShtc2cuc2VuZGVyLCBfcGF5b3V0LCBfZmVlKTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfcGF5b3V0LCBwYXlBbW91bnQpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF9mZWUsIGZlZUFtb3VudCk7CiAgICAgICAgCiAgICAgICAgLy8gRmFpbHNhZmUgbG9naWMgdGhhdCBzaG91bGQgbmV2ZXIgYmUgZmFsc2UKICAgICAgICBhc3NlcnQoYmFsYW5jZXNbbXNnLnNlbmRlcl0gKyBiYWxhbmNlc1tfcGF5b3V0XSArIGJhbGFuY2VzW19mZWVdID09IHByZXZpb3VzQmFsYW5jZXMpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCiAgICAvKioKICAgICAqIENyb3dkc2FsZSBmdW5jdGlvbgogICAgICovCiAgICBmdW5jdGlvbiAoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgLy8gUHJldmVudCBFVEggZnJvbSBnZXR0aW5nIHNlbnQgdG8gY29udHJhY3QKICAgICAgICByZXF1aXJlKGZhbHNlKTsKICAgIH0KCiAgICAvKioKICAgICAqIEludGVybmFsIHRyYW5zZmVyLCBjYW4gYmUgY2FsbGVkIGJ5IHRoaXMgY29udHJhY3Qgb25seQogICAgICovCiAgICBmdW5jdGlvbiBfdHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBpbnRlcm5hbCB7CiAgICAgICAgLy8gU2VuZGluZyBhZGRyZXNzZXMgY2Fubm90IGJlIGxvY2tlZAogICAgICAgIHJlcXVpcmUobG9ja2VkW19mcm9tXSA9PSAwKTsKICAgICAgICAKICAgICAgICAvLyBJZiB0aGUgcmVjZWl2aW5nIGFkZHJlc3MgaXMgbG9ja2VkLCBpdCBjYW5ub3QgZXhjZWVkIHJldGVudGlvbk1heAogICAgICAgIGlmIChsb2NrZWRbX3RvXSA+IDApIHsKICAgICAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfdG9dICsgX3ZhbHVlIDw9IHJldGVudGlvbk1heCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIFByZXZlbnQgdHJhbnNmZXIgdG8gMHgwIGFkZHJlc3MsIHVzZSBidXJuKCkgaW5zdGVhZAogICAgICAgIHJlcXVpcmUoX3RvICE9IDB4MCk7CiAgICAgICAgCiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBmb3Igb3ZlcmZsb3dzCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSk7CiAgICAgICAgCiAgICAgICAgLy8gU2F2ZSB0aGlzIGZvciBhbiBhc3NlcnRpb24gaW4gdGhlIGZ1dHVyZQogICAgICAgIHVpbnQyNTYgcHJldmlvdXNCYWxhbmNlcyA9IGJhbGFuY2VzW19mcm9tXSArIGJhbGFuY2VzW190b107CiAgICAgICAgCiAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICAKICAgICAgICAvLyBBZGQgdGhlIHNhbWUgdG8gdGhlIHJlY2lwaWVudAogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgCiAgICAgICAgLy8gRmFpbHNhZmUgbG9naWMgdGhhdCBzaG91bGQgbmV2ZXIgYmUgZmFsc2UKICAgICAgICBhc3NlcnQoYmFsYW5jZXNbX2Zyb21dICsgYmFsYW5jZXNbX3RvXSA9PSBwcmV2aW91c0JhbGFuY2VzKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRyYW5zZmVyIHRva2VucwogICAgICoKICAgICAqIFNlbmQgYF92YWx1ZWAgdG9rZW5zIHRvIGBfdG9gIGZyb20geW91ciBhY2NvdW50CiAgICAgKgogICAgICogQHBhcmFtIF90byB0aGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBhbW91bnQgdG8gc2VuZAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyB7CiAgICAgICAgX3RyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRyYW5zZmVyIHRva2VucyBmcm9tIG90aGVyIGFkZHJlc3MKICAgICAqCiAgICAgKiBTZW5kIGBfdmFsdWVgIHRva2VucyB0byBgX3RvYCBpbiBiZWhhbGYgb2YgYF9mcm9tYAogICAgICoKICAgICAqIEBwYXJhbSBfZnJvbSB0aGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAgKiBAcGFyYW0gX3RvIHRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIGFtb3VudCB0byBzZW5kCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBDaGVjayBhbGxvd2FuY2UKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdKTsKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICBfdHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBhbGxvd2FuY2UgZm9yIG90aGVyIGFkZHJlc3MKICAgICAqCiAgICAgKiBBbGxvd3MgYF9zcGVuZGVyYCB0byBzcGVuZCBubyBtb3JlIHRoYW4gYF92YWx1ZWAgdG9rZW5zIG9uIHlvdXIgYmVoYWxmCiAgICAgKgogICAgICogQHBhcmFtIF9zcGVuZGVyIHRoZSBhZGRyZXNzIGF1dGhvcml6ZWQgdG8gc3BlbmQKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIG1heCBhbW91bnQgdGhleSBjYW4gc3BlbmQKICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIExvY2tlZCBhZGRyZXNzZXMgY2Fubm90IGJlIGFwcHJvdmVkCiAgICAgICAgcmVxdWlyZShsb2NrZWRbbXNnLnNlbmRlcl0gPT0gMCk7CiAgICAgICAgCiAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBhbGxvd2FuY2UgZm9yIG90aGVyIGFkZHJlc3MgYW5kIG5vdGlmeQogICAgICoKICAgICAqIEFsbG93cyBgX3NwZW5kZXJgIHRvIHNwZW5kIG5vIG1vcmUgdGhhbiBgX3ZhbHVlYCB0b2tlbnMgb24geW91ciBiZWhhbGYsIGFuZCB0aGVuIHBpbmcgdGhlIGNvbnRyYWN0IGFib3V0IGl0CiAgICAgKgogICAgICogQHBhcmFtIF9zcGVuZGVyIHRoZSBhZGRyZXNzIGF1dGhvcml6ZWQgdG8gc3BlbmQKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIG1heCBhbW91bnQgdGhleSBjYW4gc3BlbmQKICAgICAqIEBwYXJhbSBfZXh0cmFEYXRhIHNvbWUgZXh0cmEgaW5mb3JtYXRpb24gdG8gc2VuZCB0byB0aGUgYXBwcm92ZWQgY29udHJhY3QKICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9leHRyYURhdGEpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICB0b2tlblJlY2lwaWVudCBzcGVuZGVyID0gdG9rZW5SZWNpcGllbnQoX3NwZW5kZXIpOwogICAgICAgIGlmIChhcHByb3ZlKF9zcGVuZGVyLCBfdmFsdWUpKSB7CiAgICAgICAgICAgIHNwZW5kZXIucmVjZWl2ZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIERlc3Ryb3kgdG9rZW5zCiAgICAgKgogICAgICogUmVtb3ZlIGBfdmFsdWVgIHRva2VucyBmcm9tIHRoZSBzeXN0ZW0gaXJyZXZlcnNpYmx5CiAgICAgKgogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IG9mIG1vbmV5IHRvIGJ1cm4KICAgICAqLwogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIEJ1cmllZCBhZGRyZXNzZXMgY2Fubm90IGJlIGJ1cm50CiAgICAgICAgcmVxdWlyZShsb2NrZWRbbXNnLnNlbmRlcl0gPT0gMCk7CiAgICAgICAgCiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUpOwogICAgICAgIAogICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAKICAgICAgICAvLyBVcGRhdGVzIHRvdGFsU3VwcGx5CiAgICAgICAgdG90YWxTdXBwbHkgLT0gX3ZhbHVlOwogICAgICAgIEJ1cm4obXNnLnNlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIERlc3Ryb3kgdG9rZW5zIGZyb20gb3RoZXIgYWNjb3VudAogICAgICoKICAgICAqIFJlbW92ZSBgX3ZhbHVlYCB0b2tlbnMgZnJvbSB0aGUgc3lzdGVtIGlycmV2ZXJzaWJseSBvbiBiZWhhbGYgb2YgYF9mcm9tYC4KICAgICAqCiAgICAgKiBAcGFyYW0gX2Zyb20gdGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IG9mIG1vbmV5IHRvIGJ1cm4KICAgICAqLwogICAgZnVuY3Rpb24gYnVybkZyb20oYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBCdXJpZWQgYWRkcmVzc2VzIGNhbm5vdCBiZSBidXJudAogICAgICAgIHJlcXVpcmUobG9ja2VkW19mcm9tXSA9PSAwKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBpZiB0aGUgdGFyZ2V0ZWQgYmFsYW5jZSBpcyBlbm91Z2gKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUpOwogICAgICAgIAogICAgICAgIC8vIENoZWNrIGFsbG93YW5jZQogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0pOwogICAgICAgIAogICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHRhcmdldGVkIGJhbGFuY2UKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgIAogICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcidzIGFsbG93YW5jZQogICAgICAgIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIAogICAgICAgIC8vIFVwZGF0ZSB0b3RhbFN1cHBseQogICAgICAgIHRvdGFsU3VwcGx5IC09IF92YWx1ZTsKICAgICAgICBCdXJuKF9mcm9tLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9'.
	

]
