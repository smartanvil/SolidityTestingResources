Class {
	#name : #SRTF352D33dC7e5828F47f3DbF7e6d30F8D3f9aA60C,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTF352D33dC7e5828F47f3DbF7e6d30F8D3f9aA60C >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyBPd25lZCBjb250cmFjdAovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvbnRyYWN0IE93bmVkIHsKICAgIGFkZHJlc3Mgb3duZXI7CiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQogICAgZnVuY3Rpb24gT3duZWQoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIF9uZXdPd25lcikgcHVibGljIG9ubHlPd25lcnsKICAgICAgICBvd25lciA9IF9uZXdPd25lcjsKICAgIH0KfQoKCi8vIFNhZmUgbWF0aHMsIGJvcnJvd2VkIGZyb20gT3BlblplcHBlbGluCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KbGlicmFyeSBTYWZlTWF0aCB7CgogIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cgp9Cgpjb250cmFjdCB0b2tlblJlY2lwaWVudCB7CiAgZnVuY3Rpb24gcmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlLCBhZGRyZXNzIF90b2tlbiwgYnl0ZXMgX2V4dHJhRGF0YSkgcHVibGljOwp9Cgpjb250cmFjdCBFUkMyMFRva2VuIHsKICAgIC8qIFRoaXMgaXMgYSBzbGlnaHQgY2hhbmdlIHRvIHRoZSBFUkMyMCBiYXNlIHN0YW5kYXJkLgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSk7CiAgICBpcyByZXBsYWNlZCB3aXRoOgogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICBUaGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBhIGdldHRlciBmdW5jdGlvbiBmb3IgdGhlIHRvdGFsU3VwcGx5LgogICAgVGhpcyBpcyBtb3ZlZCB0byB0aGUgYmFzZSBjb250cmFjdCBzaW5jZSBwdWJsaWMgZ2V0dGVyIGZ1bmN0aW9ucyBhcmUgbm90CiAgICBjdXJyZW50bHkgcmVjb2duaXNlZCBhcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgbWF0Y2hpbmcgYWJzdHJhY3QKICAgIGZ1bmN0aW9uIGJ5IHRoZSBjb21waWxlci4KICAgICovCiAgICAvLy8gdG90YWwgYW1vdW50IG9mIHRva2VucwogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgZnJvbSB3aGljaCB0aGUgYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZAogICAgLy8vIEByZXR1cm4gVGhlIGJhbGFuY2UKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CgogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYAogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX3NwZW5kZXJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2ZlcgogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgLy8vIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudAogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cn0KCmNvbnRyYWN0IGxpbWl0ZWRGYWN0b3IgewogICAgdWludDI1NiBwdWJsaWMgc3RhcnRUaW1lOwogICAgdWludDI1NiBwdWJsaWMgc3RvcFRpbWU7CiAgICBhZGRyZXNzIHB1YmxpYyB3YWxsZXRBZGRyZXNzOwogICAgYWRkcmVzcyBwdWJsaWMgdGVhbUFkZHJlc3M7CiAgICBhZGRyZXNzIHB1YmxpYyBjb250cmlidXRvcnNBZGRyZXNzOwogICAgYm9vbCBwdWJsaWMgdG9rZW5Gcm96ZW4gPSB0cnVlOwogICAgbW9kaWZpZXIgdGVhbUFjY291bnROZWVkRnJlZXplT25lWWVhcihhZGRyZXNzIF9hZGRyZXNzKSB7CiAgICAgICAgaWYoX2FkZHJlc3MgPT0gdGVhbUFkZHJlc3MpIHsKICAgICAgICAgICAgcmVxdWlyZShub3cgPiBzdGFydFRpbWUgKyAxIHllYXJzKTsKICAgICAgICB9CiAgICAgICAgXzsKICAgIH0KICAgIAogICAgbW9kaWZpZXIgVG9rZW5VbkZyZWV6ZSgpIHsKICAgICAgICByZXF1aXJlKCF0b2tlbkZyb3plbik7CiAgICAgICAgXzsKICAgIH0gCn0KY29udHJhY3Qgc3RhbmRhcmRUb2tlbiBpcyBFUkMyMFRva2VuLCBsaW1pdGVkRmFjdG9yIHsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93YW5jZXM7CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIC8qIFRyYW5zZmVycyB0b2tlbnMgZnJvbSB5b3VyIGFkZHJlc3MgdG8gb3RoZXIgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIFRva2VuVW5GcmVlemUgdGVhbUFjY291bnROZWVkRnJlZXplT25lWWVhcihtc2cuc2VuZGVyKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+IF92YWx1ZSk7ICAgICAgICAgICAvLyBUaHJvdyBpZiBzZW5kZXIgaGFzIGluc3VmZmljaWVudCBiYWxhbmNlCiAgICAgICAgcmVxdWlyZSAoYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pOyAgLy8gVGhyb3cgaWYgb3dlcmZsb3cgZGV0ZWN0ZWQKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgLy8gRGVkdWN0IHNlbmRlcnMgYmFsYW5jZQogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgcmVjaXZlcnMgYmxhYW5jZQogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsgICAgICAgICAgICAgICAgICAvLyBSYWlzZSBUcmFuc2ZlciBldmVudAogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qIEFwcHJvdmUgb3RoZXIgYWRkcmVzcyB0byBzcGVuZCB0b2tlbnMgb24geW91ciBhY2NvdW50ICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgVG9rZW5VbkZyZWV6ZSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2FuY2VzW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsgICAgICAgICAgLy8gU2V0IGFsbG93YW5jZQogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOyAgICAgICAgICAgICAvLyBSYWlzZSBBcHByb3ZhbCBldmVudAogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qIEFwcHJvdmUgYW5kIHRoZW4gY29tbXVuaWNhdGUgdGhlIGFwcHJvdmVkIGNvbnRyYWN0IGluIGEgc2luZ2xlIHR4ICovCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSkgcHVibGljIFRva2VuVW5GcmVlemUgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgdG9rZW5SZWNpcGllbnQgc3BlbmRlciA9IHRva2VuUmVjaXBpZW50KF9zcGVuZGVyKTsgICAgICAgICAgICAgIC8vIENhc3Qgc3BlbmRlciB0byB0b2tlblJlY2lwaWVudCBjb250cmFjdAogICAgICAgIGFwcHJvdmUoX3NwZW5kZXIsIF92YWx1ZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgYXBwcm92YWwgdG8gY29udHJhY3QgZm9yIF92YWx1ZQogICAgICAgIHNwZW5kZXIucmVjZWl2ZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSk7ICAvLyBSYWlzZSBtZXRob2Qgb24gX3NwZW5kZXIgY29udHJhY3QKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKiBBIGNvbnRyYWN0IGF0dGVtcHRzIHRvIGdldCB0aGUgY29pbnMgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyBUb2tlblVuRnJlZXplIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUgKGJhbGFuY2VzW19mcm9tXSA+IF92YWx1ZSk7ICAgICAgICAgICAgICAgIC8vIFRocm93IGlmIHNlbmRlciBkb2VzIG5vdCBoYXZlIGVub3VnaCBiYWxhbmNlCiAgICAgICAgcmVxdWlyZSAoYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pOyAgLy8gVGhyb3cgaWYgb3ZlcmZsb3cgZGV0ZWN0ZWQKICAgICAgICByZXF1aXJlIChfdmFsdWUgPD0gYWxsb3dhbmNlc1tfZnJvbV1bbXNnLnNlbmRlcl0pOyAgLy8gVGhyb3cgaWYgeW91IGRvIG5vdCBoYXZlIGFsbG93YW5jZQogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWR1Y3Qgc2VuZGVycyBiYWxhbmNlCiAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCByZWNpcGllbnQgYmxhYW5jZQogICAgICAgIGFsbG93YW5jZXNbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsgICAgICAgICAgICAvLyBEZWR1Y3QgYWxsb3dhbmNlIGZvciB0aGlzIGFkZHJlc3MKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOyAgICAgICAgICAgICAgICAgICAgICAgLy8gUmFpc2UgVHJhbnNmZXIgZXZlbnQKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKiBHZXQgdGhlIGFtb3VudCBvZiBhbGxvd2VkIHRva2VucyB0byBzcGVuZCAqLwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCBwdWJsaWMgVG9rZW5VbkZyZWV6ZSByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2FuY2VzW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKfQoKY29udHJhY3QgRmFuc0NoYWluVG9rZW4gaXMgc3RhbmRhcmRUb2tlbixPd25lZCB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgICBzdHJpbmcgY29uc3RhbnQgcHVibGljIG5hbWU9IkZhbnNDaGFpbiI7CiAgICBzdHJpbmcgY29uc3RhbnQgcHVibGljIHN5bWJvbD0iRkFOU0MiOwogICAgdWludDI1NiBjb25zdGFudCBwdWJsaWMgZGVjaW1hbHM9MTg7CiAgICAKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5ID0gMDsKICAgIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIHRvcFRvdGFsU3VwcGx5ID0gMjQqMTAqKjcqMTAqKmRlY2ltYWxzOwogICAgdWludDI1NiBwdWJsaWMgdGVhbVN1cHBseSA9IHBlcmNlbnQoMjUpOwogICAgdWludDI1NiBwdWJsaWMgcHJpdmF0ZUZ1bmRTdXBwbHkgPSBwZXJjZW50KDI1KTsKICAgIHVpbnQyNTYgcHVibGljIHByaXZhdGVGdW5kaW5nU3VwcGx5ID0gMDsKICAgIHVpbnQyNTYgcHVibGljIElDT3RvdGFsU3VwcGx5ID0gcGVyY2VudCgyMCk7CiAgICB1aW50MjU2IHB1YmxpYyBJQ09TdXBwbHkgPSAwOwogICAgdWludDI1NiBwdWJsaWMgQ29udHJpYnV0b3JzU3VwcGx5ID0gcGVyY2VudCgzMCk7CiAgICB1aW50MjU2IHB1YmxpYyBleGNoYW5nZVJhdGU7CiAgICBib29sICAgIHB1YmxpYyBJQ09TdGFydDsKICAgIAogICAgCiAgICAvLy8gQGRldiBGYWxsYmFjayB0byBjYWxsaW5nIGRlcG9zaXQgd2hlbiBldGhlciBpcyBzZW50IGRpcmVjdGx5IHRvIGNvbnRyYWN0LgogICAgZnVuY3Rpb24oKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZSAoSUNPU3RhcnQpOwogICAgICAgIGRlcG9zaXRUb2tlbihtc2cudmFsdWUpOwogICAgfQogICAgCiAgICAKICAgIGZ1bmN0aW9uIEZhbnNDaGFpblRva2VuKCkgcHVibGljIHsKICAgICAgICBvd25lcj1tc2cuc2VuZGVyOwogICAgfQogICAgCiAgICAvLy8gQGRldiBCdXlzIHRva2VucyB3aXRoIEV0aGVyLgogICAgZnVuY3Rpb24gZGVwb3NpdFRva2VuKHVpbnQyNTYgX3ZhbHVlKSBpbnRlcm5hbCB7CiAgICAgICAgdWludDI1NiB0b2tlbkFsbG9jID0gYnV5UHJpY2VBdChnZXRUaW1lKCkpICogX3ZhbHVlOwogICAgICAgIElDT1N1cHBseSA9IElDT1N1cHBseS5hZGQodG9rZW5BbGxvYyk7CiAgICAgICAgcmVxdWlyZSAoSUNPU3VwcGx5IDwgSUNPdG90YWxTdXBwbHkpOwogICAgICAgIG1pbnRUb2tlbnMgKG1zZy5zZW5kZXIsIHRva2VuQWxsb2MpOwogICAgICAgIGZvcndhcmRGdW5kcygpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBmb3J3YXJkRnVuZHMoKSBpbnRlcm5hbCB7CiAgICAgICAgcmVxdWlyZSh3YWxsZXRBZGRyZXNzICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHdhbGxldEFkZHJlc3MudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgIH0KICAgIAogICAgLy8vIEBkZXYgSXNzdWUgbmV3IHRva2VucwogICAgZnVuY3Rpb24gbWludFRva2VucyhhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBpbnRlcm5hbCB7CiAgICAgICAgcmVxdWlyZSAoYmFsYW5jZXNbX3RvXSArIF9hbW91bnQgPiBiYWxhbmNlc1tfdG9dKTsgICAgICAvLyBDaGVjayBmb3Igb3ZlcmZsb3dzCiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOyAgICAgICAgICAgICAvLyBTZXQgbWludGVkIGNvaW5zIHRvIHRhcmdldAogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKDB4MCwgX3RvLCBfYW1vdW50KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIFRyYW5zZmVyIGV2ZW50IGZyb20gMHgKICAgIH0KICAgIAogICAgLy8vIEBkZXYgQ2FsY3VsYXRlIGV4Y2hhbmdlCiAgICBmdW5jdGlvbiBidXlQcmljZUF0KHVpbnQyNTYgX3RpbWUpIGludGVybmFsIGNvbnN0YW50IHJldHVybnModWludDI1NikgewogICAgICAgIGlmIChfdGltZSA+PSBzdGFydFRpbWUgJiYgX3RpbWUgPD0gc3RvcFRpbWUpIHsKICAgICAgICAgICAgcmV0dXJuIGV4Y2hhbmdlUmF0ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IEdldCB0aW1lCiAgICBmdW5jdGlvbiBnZXRUaW1lKCkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIG5vdzsKICAgIH0KICAgIAogICAgLy8vIEBkZXYgc2V0IGluaXRpYWwgbWVzc2FnZQogICAgZnVuY3Rpb24gc2V0SW5pdGlhbFZhcmlibGVzKAogICAgICAgIHVpbnQyNTYgX2ljb1N0b3BUaW1lLAogICAgICAgIHVpbnQyNTYgX2V4Y2hhbmdlUmF0ZSwKICAgICAgICBhZGRyZXNzIF93YWxsZXRBZGRyZXNzLAogICAgICAgIGFkZHJlc3MgX3RlYW1BZGRyZXNzLAogICAgICAgIGFkZHJlc3MgX2NvbnRyaWJ1dG9yc0FkZHJlc3MKICAgICAgICApCiAgICAgICAgcHVibGljCiAgICAgICAgb25seU93bmVyIHsKICAgICAgICAgICAgc3RvcFRpbWUgPSBfaWNvU3RvcFRpbWU7CiAgICAgICAgICAgIGV4Y2hhbmdlUmF0ZT1fZXhjaGFuZ2VSYXRlOwogICAgICAgICAgICB3YWxsZXRBZGRyZXNzID0gX3dhbGxldEFkZHJlc3M7CiAgICAgICAgICAgIHRlYW1BZGRyZXNzID0gX3RlYW1BZGRyZXNzOwogICAgICAgICAgICBjb250cmlidXRvcnNBZGRyZXNzID0gX2NvbnRyaWJ1dG9yc0FkZHJlc3M7CiAgICAgICAgfQogICAgCiAgICAvLy8gQGRldiBzZXQgSUNPIHN0YXJ0IG9yIHN0b3AKICAgIGZ1bmN0aW9uIHNldElDT1N0YXJ0KGJvb2wgX3N0YXJ0KSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBJQ09TdGFydCA9IF9zdGFydDsKICAgICAgICBzdGFydFRpbWUgPSBub3c7CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IHdpdGhEcmF3IEV0aGVyIHRvIGEgU2FmZSBXYWxsZXQKICAgIGZ1bmN0aW9uIHdpdGhEcmF3KCkgcHVibGljIHBheWFibGUgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlIChtc2cuc2VuZGVyICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUgKGdldFRpbWUoKSA+IHN0b3BUaW1lKTsKICAgICAgICB3YWxsZXRBZGRyZXNzLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IHVuZnJlZXplIGlmIElDTyBzdWNjZWVkCiAgICBmdW5jdGlvbiB1bmZyZWV6ZVRva2VuVHJhbnNmZXIoYm9vbCBfZnJlZXplKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICB0b2tlbkZyb3plbiA9ICFfZnJlZXplOwogICAgfQogICAgCiAgICAvLy8gQGRldiBhbGxvY2F0ZSBUb2tlbgogICAgZnVuY3Rpb24gYWxsb2NhdGVUb2tlbnMoYWRkcmVzc1tdIF9vd25lcnMsIHVpbnQyNTZbXSBfdmFsdWVzKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlIChfb3duZXJzLmxlbmd0aCA9PSBfdmFsdWVzLmxlbmd0aCk7CiAgICAgICAgZm9yKHVpbnQyNTYgaSA9IDA7IGkgPCBfb3duZXJzLmxlbmd0aCA7IGkrKyl7CiAgICAgICAgICAgIGFkZHJlc3Mgb3duZXIgPSBfb3duZXJzW2ldOwogICAgICAgICAgICB1aW50MjU2IHZhbHVlID0gX3ZhbHVlc1tpXTsKICAgICAgICAgICAgSUNPU3VwcGx5ID0gSUNPU3VwcGx5LmFkZCh2YWx1ZSk7CiAgICAgICAgICAgIHJlcXVpcmUodG90YWxTdXBwbHkgPCBJQ090b3RhbFN1cHBseSk7CiAgICAgICAgICAgIG1pbnRUb2tlbnMob3duZXIsIHZhbHVlKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IGNhbGN1dGUgdGhlIHRva2VucwogICAgZnVuY3Rpb24gcGVyY2VudCh1aW50MjU2IHBlcmNlbnRhZ2UpIGludGVybmFsICBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gcGVyY2VudGFnZS5tdWwodG9wVG90YWxTdXBwbHkpLmRpdigxMDApOwogICAgfQogICAgIAogICAgIC8vLyBAZGV2IGFsbG9jYXRlIHRva2VuIGZvciBUZWFtIEFkZHJlc3MKICAgIGZ1bmN0aW9uIGFsbG9jYXRlVGVhbVRva2VuKCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgbWludFRva2Vucyh0ZWFtQWRkcmVzcywgdGVhbVN1cHBseSk7CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IGFsbG9jYXRlIHRva2VuIGZvciBQcml2YXRlIEFkZHJlc3MKICAgIGZ1bmN0aW9uIGFsbG9jYXRlUHJpdmF0ZVRva2VuKGFkZHJlc3NbXSBfcHJpdmF0ZUZ1bmRpbmdBZGRyZXNzLCB1aW50MjU2W10gX2Ftb3VudCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZSAoX3ByaXZhdGVGdW5kaW5nQWRkcmVzcy5sZW5ndGggPT0gX2Ftb3VudC5sZW5ndGgpOwogICAgICAgIGZvcih1aW50MjU2IGkgPSAwOyBpIDwgX3ByaXZhdGVGdW5kaW5nQWRkcmVzcy5sZW5ndGggOyBpKyspewogICAgICAgICAgICBhZGRyZXNzIG93bmVyID0gX3ByaXZhdGVGdW5kaW5nQWRkcmVzc1tpXTsKICAgICAgICAgICAgdWludDI1NiB2YWx1ZSA9IF9hbW91bnRbaV07CiAgICAgICAgICAgIHByaXZhdGVGdW5kaW5nU3VwcGx5ID0gcHJpdmF0ZUZ1bmRpbmdTdXBwbHkuYWRkKHZhbHVlKTsKICAgICAgICAgICAgcmVxdWlyZShwcml2YXRlRnVuZGluZ1N1cHBseSA8PSBwcml2YXRlRnVuZFN1cHBseSk7CiAgICAgICAgICAgIG1pbnRUb2tlbnMob3duZXIsIHZhbHVlKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IGFsbG9jYXRlIHRva2VuIGZvciBjb250cmlidXRvcnMgQWRkcmVzcwogICAgZnVuY3Rpb24gYWxsb2NhdGVDb250cmlidXRvcnNUb2tlbigpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIG1pbnRUb2tlbnMoY29udHJpYnV0b3JzQWRkcmVzcywgQ29udHJpYnV0b3JzU3VwcGx5KTsKICAgIH0KfQ=='.
	

]
