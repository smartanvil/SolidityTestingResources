Class {
	#name : #SRT9c0e795ddf3b0655ab378a3551b36a036e93dc18,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9c0e795ddf3b0655ab378a3551b36a036e93dc18 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogSU11bHRpT3duZWQKICoKICogSW50ZXJmYWNlIHRoYXQgYWxsb3dzIG11bHRpcGxlIG93bmVycwogKgogKiAjY3JlYXRlZCAwOS8xMC8yMDE3CiAqICNhdXRob3IgRnJhbmsgQm9ubmV0CiAqLwppbnRlcmZhY2UgSU11bHRpT3duZWQgewoKICAgIC8qKgogICAgICogUmV0dXJucyB0cnVlIGlmIGBfYWNjb3VudGAgaXMgYW4gb3duZXIKICAgICAqCiAgICAgKiBAcGFyYW0gX2FjY291bnQgVGhlIGFkZHJlc3MgdG8gdGVzdCBhZ2FpbnN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIGlzT3duZXIoYWRkcmVzcyBfYWNjb3VudCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCk7CgoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgYW1vdW50IG9mIG93bmVycwogICAgICoKICAgICAqIEByZXR1cm4gVGhlIGFtb3VudCBvZiBvd25lcnMKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0T3duZXJDb3VudCgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpOwoKCiAgICAvKioKICAgICAqIEdldHMgdGhlIG93bmVyIGF0IGBfaW5kZXhgCiAgICAgKgogICAgICogQHBhcmFtIF9pbmRleCBUaGUgaW5kZXggb2YgdGhlIG93bmVyCiAgICAgKiBAcmV0dXJuIFRoZSBhZGRyZXNzIG9mIHRoZSBvd25lciBmb3VuZCBhdCBgX2luZGV4YAogICAgICovCiAgICBmdW5jdGlvbiBnZXRPd25lckF0KHVpbnQgX2luZGV4KSBwdWJsaWMgdmlldyByZXR1cm5zIChhZGRyZXNzKTsKCgogICAgIC8qKgogICAgICogQWRkcyBgX2FjY291bnRgIGFzIGEgbmV3IG93bmVyCiAgICAgKgogICAgICogQHBhcmFtIF9hY2NvdW50IFRoZSBhY2NvdW50IHRvIGFkZCBhcyBhbiBvd25lcgogICAgICovCiAgICBmdW5jdGlvbiBhZGRPd25lcihhZGRyZXNzIF9hY2NvdW50KSBwdWJsaWM7CgoKICAgIC8qKgogICAgICogUmVtb3ZlcyBgX2FjY291bnRgIGFzIGFuIG93bmVyCiAgICAgKgogICAgICogQHBhcmFtIF9hY2NvdW50IFRoZSBhY2NvdW50IHRvIHJlbW92ZSBhcyBhbiBvd25lcgogICAgICovCiAgICBmdW5jdGlvbiByZW1vdmVPd25lcihhZGRyZXNzIF9hY2NvdW50KSBwdWJsaWM7Cn0KCgovKioKICogTXVsdGlPd25lZAogKgogKiBBbGxvd3MgbXVsdGlwbGUgb3duZXJzCiAqCiAqICNjcmVhdGVkIDA5LzEwLzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmNvbnRyYWN0IE11bHRpT3duZWQgaXMgSU11bHRpT3duZWQgewoKICAgIC8vIE93bmVycwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBwcml2YXRlIG93bmVyczsKICAgIGFkZHJlc3NbXSBwcml2YXRlIG93bmVyc0luZGV4OwoKCiAgICAgLyoqCiAgICAgKiBBY2Nlc3MgaXMgcmVzdHJpY3RlZCB0byBvd25lcnMgb25seQogICAgICovCiAgICBtb2RpZmllciBvbmx5X293bmVyKCkgewogICAgICAgIHJlcXVpcmUoaXNPd25lcihtc2cuc2VuZGVyKSk7CiAgICAgICAgXzsKICAgIH0KCgogICAgLyoqCiAgICAgKiBUaGUgcHVibGlzaGVyIGlzIHRoZSBpbml0aWFsIG93bmVyCiAgICAgKi8KICAgIGZ1bmN0aW9uIE11bHRpT3duZWQoKSBwdWJsaWMgewogICAgICAgIG93bmVyc0luZGV4LnB1c2gobXNnLnNlbmRlcik7CiAgICAgICAgb3duZXJzW21zZy5zZW5kZXJdID0gMDsKICAgIH0KCgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRydWUgaWYgYF9hY2NvdW50YCBpcyB0aGUgY3VycmVudCBvd25lcgogICAgICoKICAgICAqIEBwYXJhbSBfYWNjb3VudCBUaGUgYWRkcmVzcyB0byB0ZXN0IGFnYWluc3QKICAgICAqLwogICAgZnVuY3Rpb24gaXNPd25lcihhZGRyZXNzIF9hY2NvdW50KSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIG93bmVyc1tfYWNjb3VudF0gPCBvd25lcnNJbmRleC5sZW5ndGggJiYgX2FjY291bnQgPT0gb3duZXJzSW5kZXhbb3duZXJzW19hY2NvdW50XV07CiAgICB9CgoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgYW1vdW50IG9mIG93bmVycwogICAgICoKICAgICAqIEByZXR1cm4gVGhlIGFtb3VudCBvZiBvd25lcnMKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0T3duZXJDb3VudCgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gb3duZXJzSW5kZXgubGVuZ3RoOwogICAgfQoKCiAgICAvKioKICAgICAqIEdldHMgdGhlIG93bmVyIGF0IGBfaW5kZXhgCiAgICAgKgogICAgICogQHBhcmFtIF9pbmRleCBUaGUgaW5kZXggb2YgdGhlIG93bmVyCiAgICAgKiBAcmV0dXJuIFRoZSBhZGRyZXNzIG9mIHRoZSBvd25lciBmb3VuZCBhdCBgX2luZGV4YAogICAgICovCiAgICBmdW5jdGlvbiBnZXRPd25lckF0KHVpbnQgX2luZGV4KSBwdWJsaWMgdmlldyByZXR1cm5zIChhZGRyZXNzKSB7CiAgICAgICAgcmV0dXJuIG93bmVyc0luZGV4W19pbmRleF07CiAgICB9CgoKICAgIC8qKgogICAgICogQWRkcyBgX2FjY291bnRgIGFzIGEgbmV3IG93bmVyCiAgICAgKgogICAgICogQHBhcmFtIF9hY2NvdW50IFRoZSBhY2NvdW50IHRvIGFkZCBhcyBhbiBvd25lcgogICAgICovCiAgICBmdW5jdGlvbiBhZGRPd25lcihhZGRyZXNzIF9hY2NvdW50KSBwdWJsaWMgb25seV9vd25lciB7CiAgICAgICAgaWYgKCFpc093bmVyKF9hY2NvdW50KSkgewogICAgICAgICAgICBvd25lcnNbX2FjY291bnRdID0gb3duZXJzSW5kZXgucHVzaChfYWNjb3VudCkgLSAxOwogICAgICAgIH0KICAgIH0KCgogICAgLyoqCiAgICAgKiBSZW1vdmVzIGBfYWNjb3VudGAgYXMgYW4gb3duZXIKICAgICAqCiAgICAgKiBAcGFyYW0gX2FjY291bnQgVGhlIGFjY291bnQgdG8gcmVtb3ZlIGFzIGFuIG93bmVyCiAgICAgKi8KICAgIGZ1bmN0aW9uIHJlbW92ZU93bmVyKGFkZHJlc3MgX2FjY291bnQpIHB1YmxpYyBvbmx5X293bmVyIHsKICAgICAgICBpZiAoaXNPd25lcihfYWNjb3VudCkpIHsKICAgICAgICAgICAgdWludCBpbmRleFRvRGVsZXRlID0gb3duZXJzW19hY2NvdW50XTsKICAgICAgICAgICAgYWRkcmVzcyBrZXlUb01vdmUgPSBvd25lcnNJbmRleFtvd25lcnNJbmRleC5sZW5ndGggLSAxXTsKICAgICAgICAgICAgb3duZXJzSW5kZXhbaW5kZXhUb0RlbGV0ZV0gPSBrZXlUb01vdmU7CiAgICAgICAgICAgIG93bmVyc1trZXlUb01vdmVdID0gaW5kZXhUb0RlbGV0ZTsgCiAgICAgICAgICAgIG93bmVyc0luZGV4Lmxlbmd0aC0tOwogICAgICAgIH0KICAgIH0KfQoKCi8qKgogKiBJT2JzZXJ2YWJsZQogKgogKiBBbGxvd3Mgb2JzZXJ2ZXJzIHRvIHJlZ2lzdGVyIGFuZCB1bnJlZ2lzdGVyIHdpdGggdGhlIAogKiBpbXBsZW1lbnRpbmcgc21hcnQtY29udHJhY3QgdGhhdCBpcyBvYnNlcnZhYmxlCiAqCiAqICNjcmVhdGVkIDA5LzEwLzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmludGVyZmFjZSBJT2JzZXJ2YWJsZSB7CgoKICAgIC8qKgogICAgICogUmV0dXJucyB0cnVlIGlmIGBfYWNjb3VudGAgaXMgYSByZWdpc3RlcmVkIG9ic2VydmVyCiAgICAgKiAKICAgICAqIEBwYXJhbSBfYWNjb3VudCBUaGUgYWNjb3VudCB0byB0ZXN0IGFnYWluc3QKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgYWNjb3VudCBpcyBhIHJlZ2lzdGVyZWQgb2JzZXJ2ZXIKICAgICAqLwogICAgZnVuY3Rpb24gaXNPYnNlcnZlcihhZGRyZXNzIF9hY2NvdW50KSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sKTsKCgogICAgLyoqCiAgICAgKiBHZXRzIHRoZSBhbW91bnQgb2YgcmVnaXN0ZXJlZCBvYnNlcnZlcnMKICAgICAqIAogICAgICogQHJldHVybiBUaGUgYW1vdW50IG9mIHJlZ2lzdGVyZWQgb2JzZXJ2ZXJzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldE9ic2VydmVyQ291bnQoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KTsKCgogICAgLyoqCiAgICAgKiBHZXRzIHRoZSBvYnNlcnZlciBhdCBgX2luZGV4YAogICAgICogCiAgICAgKiBAcGFyYW0gX2luZGV4IFRoZSBpbmRleCBvZiB0aGUgb2JzZXJ2ZXIKICAgICAqIEByZXR1cm4gVGhlIG9ic2VydmVycyBhZGRyZXNzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldE9ic2VydmVyQXRJbmRleCh1aW50IF9pbmRleCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcyk7CgoKICAgIC8qKgogICAgICogUmVnaXN0ZXIgYF9vYnNlcnZlcmAgYXMgYW4gb2JzZXJ2ZXIKICAgICAqIAogICAgICogQHBhcmFtIF9vYnNlcnZlciBUaGUgYWNjb3VudCB0byBhZGQgYXMgYW4gb2JzZXJ2ZXIKICAgICAqLwogICAgZnVuY3Rpb24gcmVnaXN0ZXJPYnNlcnZlcihhZGRyZXNzIF9vYnNlcnZlcikgcHVibGljOwoKCiAgICAvKioKICAgICAqIFVucmVnaXN0ZXIgYF9vYnNlcnZlcmAgYXMgYW4gb2JzZXJ2ZXIKICAgICAqIAogICAgICogQHBhcmFtIF9vYnNlcnZlciBUaGUgYWNjb3VudCB0byByZW1vdmUgYXMgYW4gb2JzZXJ2ZXIKICAgICAqLwogICAgZnVuY3Rpb24gdW5yZWdpc3Rlck9ic2VydmVyKGFkZHJlc3MgX29ic2VydmVyKSBwdWJsaWM7Cn0KCgovKioKICogQWJzdHJhY3QgT2JzZXJ2YWJsZQogKgogKiBBbGxvd3Mgb2JzZXJ2ZXJzIHRvIHJlZ2lzdGVyIGFuZCB1bnJlZ2lzdGVyIHdpdGggdGhlIHRoZSAKICogaW1wbGVtZW50aW5nIHNtYXJ0LWNvbnRyYWN0IHRoYXQgaXMgb2JzZXJ2YWJsZQogKgogKiAjY3JlYXRlZCAwOS8xMC8yMDE3CiAqICNhdXRob3IgRnJhbmsgQm9ubmV0CiAqLwpjb250cmFjdCBPYnNlcnZhYmxlIGlzIElPYnNlcnZhYmxlIHsKCgogICAgLy8gT2JzZXJ2ZXJzCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHByaXZhdGUgb2JzZXJ2ZXJzOwogICAgYWRkcmVzc1tdIHByaXZhdGUgb2JzZXJ2ZXJJbmRleDsKCgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRydWUgaWYgYF9hY2NvdW50YCBpcyBhIHJlZ2lzdGVyZWQgb2JzZXJ2ZXIKICAgICAqIAogICAgICogQHBhcmFtIF9hY2NvdW50IFRoZSBhY2NvdW50IHRvIHRlc3QgYWdhaW5zdAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSBhY2NvdW50IGlzIGEgcmVnaXN0ZXJlZCBvYnNlcnZlcgogICAgICovCiAgICBmdW5jdGlvbiBpc09ic2VydmVyKGFkZHJlc3MgX2FjY291bnQpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gb2JzZXJ2ZXJzW19hY2NvdW50XSA8IG9ic2VydmVySW5kZXgubGVuZ3RoICYmIF9hY2NvdW50ID09IG9ic2VydmVySW5kZXhbb2JzZXJ2ZXJzW19hY2NvdW50XV07CiAgICB9CgoKICAgIC8qKgogICAgICogR2V0cyB0aGUgYW1vdW50IG9mIHJlZ2lzdGVyZWQgb2JzZXJ2ZXJzCiAgICAgKiAKICAgICAqIEByZXR1cm4gVGhlIGFtb3VudCBvZiByZWdpc3RlcmVkIG9ic2VydmVycwogICAgICovCiAgICBmdW5jdGlvbiBnZXRPYnNlcnZlckNvdW50KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBvYnNlcnZlckluZGV4Lmxlbmd0aDsKICAgIH0KCgogICAgLyoqCiAgICAgKiBHZXRzIHRoZSBvYnNlcnZlciBhdCBgX2luZGV4YAogICAgICogCiAgICAgKiBAcGFyYW0gX2luZGV4IFRoZSBpbmRleCBvZiB0aGUgb2JzZXJ2ZXIKICAgICAqIEByZXR1cm4gVGhlIG9ic2VydmVycyBhZGRyZXNzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldE9ic2VydmVyQXRJbmRleCh1aW50IF9pbmRleCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHJldHVybiBvYnNlcnZlckluZGV4W19pbmRleF07CiAgICB9CgoKICAgIC8qKgogICAgICogUmVnaXN0ZXIgYF9vYnNlcnZlcmAgYXMgYW4gb2JzZXJ2ZXIKICAgICAqIAogICAgICogQHBhcmFtIF9vYnNlcnZlciBUaGUgYWNjb3VudCB0byBhZGQgYXMgYW4gb2JzZXJ2ZXIKICAgICAqLwogICAgZnVuY3Rpb24gcmVnaXN0ZXJPYnNlcnZlcihhZGRyZXNzIF9vYnNlcnZlcikgcHVibGljIHsKICAgICAgICByZXF1aXJlKGNhblJlZ2lzdGVyT2JzZXJ2ZXIoX29ic2VydmVyKSk7CiAgICAgICAgaWYgKCFpc09ic2VydmVyKF9vYnNlcnZlcikpIHsKICAgICAgICAgICAgb2JzZXJ2ZXJzW19vYnNlcnZlcl0gPSBvYnNlcnZlckluZGV4LnB1c2goX29ic2VydmVyKSAtIDE7CiAgICAgICAgfQogICAgfQoKCiAgICAvKioKICAgICAqIFVucmVnaXN0ZXIgYF9vYnNlcnZlcmAgYXMgYW4gb2JzZXJ2ZXIKICAgICAqIAogICAgICogQHBhcmFtIF9vYnNlcnZlciBUaGUgYWNjb3VudCB0byByZW1vdmUgYXMgYW4gb2JzZXJ2ZXIKICAgICAqLwogICAgZnVuY3Rpb24gdW5yZWdpc3Rlck9ic2VydmVyKGFkZHJlc3MgX29ic2VydmVyKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoY2FuVW5yZWdpc3Rlck9ic2VydmVyKF9vYnNlcnZlcikpOwogICAgICAgIGlmIChpc09ic2VydmVyKF9vYnNlcnZlcikpIHsKICAgICAgICAgICAgdWludCBpbmRleFRvRGVsZXRlID0gb2JzZXJ2ZXJzW19vYnNlcnZlcl07CiAgICAgICAgICAgIGFkZHJlc3Mga2V5VG9Nb3ZlID0gb2JzZXJ2ZXJJbmRleFtvYnNlcnZlckluZGV4Lmxlbmd0aCAtIDFdOwogICAgICAgICAgICBvYnNlcnZlckluZGV4W2luZGV4VG9EZWxldGVdID0ga2V5VG9Nb3ZlOwogICAgICAgICAgICBvYnNlcnZlcnNba2V5VG9Nb3ZlXSA9IGluZGV4VG9EZWxldGU7CiAgICAgICAgICAgIG9ic2VydmVySW5kZXgubGVuZ3RoLS07CiAgICAgICAgfQogICAgfQoKCiAgICAvKioKICAgICAqIFJldHVybnMgd2hldGhlciBpdCBpcyBhbGxvd2VkIHRvIHJlZ2lzdGVyIGBfb2JzZXJ2ZXJgIGJ5IGNhbGxpbmcgCiAgICAgKiBjYW5SZWdpc3Rlck9ic2VydmVyKCkgaW4gdGhlIGltcGxlbWVudGluZyBzbWFydC1jb250cmFjdAogICAgICoKICAgICAqIEBwYXJhbSBfb2JzZXJ2ZXIgVGhlIGFkZHJlc3MgdG8gcmVnaXN0ZXIgYXMgYW4gb2JzZXJ2ZXIKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgc2VuZGVyIGlzIGFsbG93ZWQgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIGNhblJlZ2lzdGVyT2JzZXJ2ZXIoYWRkcmVzcyBfb2JzZXJ2ZXIpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCk7CgoKICAgIC8qKgogICAgICogUmV0dXJucyB3aGV0aGVyIGl0IGlzIGFsbG93ZWQgdG8gdW5yZWdpc3RlciBgX29ic2VydmVyYCBieSBjYWxsaW5nIAogICAgICogY2FuUmVnaXN0ZXJPYnNlcnZlcigpIGluIHRoZSBpbXBsZW1lbnRpbmcgc21hcnQtY29udHJhY3QKICAgICAqCiAgICAgKiBAcGFyYW0gX29ic2VydmVyIFRoZSBhZGRyZXNzIHRvIHVucmVnaXN0ZXIgYXMgYW4gb2JzZXJ2ZXIKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgc2VuZGVyIGlzIGFsbG93ZWQgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIGNhblVucmVnaXN0ZXJPYnNlcnZlcihhZGRyZXNzIF9vYnNlcnZlcikgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKTsKfQoKCgovKioKICogSVRva2VuT2JzZXJ2ZXIKICoKICogQWxsb3dzIGEgdG9rZW4gc21hcnQtY29udHJhY3QgdG8gbm90aWZ5IG9ic2VydmVycyAKICogd2hlbiB0b2tlbnMgYXJlIHJlY2VpdmVkCiAqCiAqICNjcmVhdGVkIDA5LzEwLzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmludGVyZmFjZSBJVG9rZW5PYnNlcnZlciB7CgoKICAgIC8qKgogICAgICogQ2FsbGVkIGJ5IHRoZSBvYnNlcnZlZCB0b2tlbiBzbWFydC1jb250cmFjdCBpbiBvcmRlciAKICAgICAqIHRvIG5vdGlmeSB0aGUgdG9rZW4gb2JzZXJ2ZXIgd2hlbiB0b2tlbnMgYXJlIHJlY2VpdmVkCiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIHRoYXQgdGhlIHRva2VucyB3aGVyZSBzZW5kIGZyb20KICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCB3YXMgcmVjZWl2ZWQKICAgICAqLwogICAgZnVuY3Rpb24gbm90aWZ5VG9rZW5zUmVjZWl2ZWQoYWRkcmVzcyBfZnJvbSwgdWludCBfdmFsdWUpIHB1YmxpYzsKfQoKCi8qKgogKiBUb2tlbk9ic2VydmVyCiAqCiAqIEFsbG93cyBvYnNlcnZlcnMgdG8gYmUgbm90aWZpZWQgYnkgYW4gb2JzZXJ2ZWQgdG9rZW4gc21hcnQtY29udHJhY3QKICogd2hlbiB0b2tlbnMgYXJlIHJlY2VpdmVkCiAqCiAqICNjcmVhdGVkIDA5LzEwLzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmNvbnRyYWN0IFRva2VuT2JzZXJ2ZXIgaXMgSVRva2VuT2JzZXJ2ZXIgewoKCiAgICAvKioKICAgICAqIENhbGxlZCBieSB0aGUgb2JzZXJ2ZWQgdG9rZW4gc21hcnQtY29udHJhY3QgaW4gb3JkZXIgCiAgICAgKiB0byBub3RpZnkgdGhlIHRva2VuIG9ic2VydmVyIHdoZW4gdG9rZW5zIGFyZSByZWNlaXZlZAogICAgICoKICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyB0aGF0IHRoZSB0b2tlbnMgd2hlcmUgc2VuZCBmcm9tCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgd2FzIHJlY2VpdmVkCiAgICAgKi8KICAgIGZ1bmN0aW9uIG5vdGlmeVRva2Vuc1JlY2VpdmVkKGFkZHJlc3MgX2Zyb20sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgewogICAgICAgIG9uVG9rZW5zUmVjZWl2ZWQobXNnLnNlbmRlciwgX2Zyb20sIF92YWx1ZSk7CiAgICB9CgoKICAgIC8qKgogICAgICogRXZlbnQgaGFuZGxlcgogICAgICogCiAgICAgKiBDYWxsZWQgYnkgYF90b2tlbmAgd2hlbiBhIHRva2VuIGFtb3VudCBpcyByZWNlaXZlZAogICAgICoKICAgICAqIEBwYXJhbSBfdG9rZW4gVGhlIHRva2VuIGNvbnRyYWN0IHRoYXQgcmVjZWl2ZWQgdGhlIHRyYW5zYWN0aW9uCiAgICAgKiBAcGFyYW0gX2Zyb20gVGhlIGFjY291bnQgb3IgY29udHJhY3QgdGhhdCBzZW5kIHRoZSB0cmFuc2FjdGlvbgogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgdmFsdWUgb2YgdG9rZW5zIHRoYXQgd2hlcmUgcmVjZWl2ZWQKICAgICAqLwogICAgZnVuY3Rpb24gb25Ub2tlbnNSZWNlaXZlZChhZGRyZXNzIF90b2tlbiwgYWRkcmVzcyBfZnJvbSwgdWludCBfdmFsdWUpIGludGVybmFsOwp9CgoKCi8qKgogKiBJVG9rZW5SZXRyaWV2ZXIKICoKICogQWxsb3dzIHRva2VucyB0byBiZSByZXRyaWV2ZWQgZnJvbSBhIGNvbnRyYWN0CiAqCiAqICNjcmVhdGVkIDI5LzA5LzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmludGVyZmFjZSBJVG9rZW5SZXRyaWV2ZXIgewoKICAgIC8qKgogICAgICogRXh0cmFjdHMgdG9rZW5zIGZyb20gdGhlIGNvbnRyYWN0CiAgICAgKgogICAgICogQHBhcmFtIF90b2tlbkNvbnRyYWN0IFRoZSBhZGRyZXNzIG9mIEVSQzIwIGNvbXBhdGlibGUgdG9rZW4KICAgICAqLwogICAgZnVuY3Rpb24gcmV0cmlldmVUb2tlbnMoYWRkcmVzcyBfdG9rZW5Db250cmFjdCkgcHVibGljOwp9CgoKLyoqCiAqIFRva2VuUmV0cmlldmVyCiAqCiAqIEFsbG93cyB0b2tlbnMgdG8gYmUgcmV0cmlldmVkIGZyb20gYSBjb250cmFjdAogKgogKiAjY3JlYXRlZCAxOC8xMC8yMDE3CiAqICNhdXRob3IgRnJhbmsgQm9ubmV0CiAqLwpjb250cmFjdCBUb2tlblJldHJpZXZlciBpcyBJVG9rZW5SZXRyaWV2ZXIgewoKICAgIC8qKgogICAgICogRXh0cmFjdHMgdG9rZW5zIGZyb20gdGhlIGNvbnRyYWN0CiAgICAgKgogICAgICogQHBhcmFtIF90b2tlbkNvbnRyYWN0IFRoZSBhZGRyZXNzIG9mIEVSQzIwIGNvbXBhdGlibGUgdG9rZW4KICAgICAqLwogICAgZnVuY3Rpb24gcmV0cmlldmVUb2tlbnMoYWRkcmVzcyBfdG9rZW5Db250cmFjdCkgcHVibGljIHsKICAgICAgICBJVG9rZW4gdG9rZW5JbnN0YW5jZSA9IElUb2tlbihfdG9rZW5Db250cmFjdCk7CiAgICAgICAgdWludCB0b2tlbkJhbGFuY2UgPSB0b2tlbkluc3RhbmNlLmJhbGFuY2VPZih0aGlzKTsKICAgICAgICBpZiAodG9rZW5CYWxhbmNlID4gMCkgewogICAgICAgICAgICB0b2tlbkluc3RhbmNlLnRyYW5zZmVyKG1zZy5zZW5kZXIsIHRva2VuQmFsYW5jZSk7CiAgICAgICAgfQogICAgfQp9CgoKLyoqCiAqIElucHV0IHZhbGlkYXRpb24KICoKICogVmFsaWRhdGVzIGFyZ3VtZW50IGxlbmd0aAogKgogKiAjY3JlYXRlZCAwMS8xMC8yMDE3CiAqICNhdXRob3IgRnJhbmsgQm9ubmV0CiAqLwpjb250cmFjdCBJbnB1dFZhbGlkYXRvciB7CgoKICAgIC8qKgogICAgICogRVJDMjAgU2hvcnQgQWRkcmVzcyBBdHRhY2sgZml4CiAgICAgKi8KICAgIG1vZGlmaWVyIHNhZmVfYXJndW1lbnRzKHVpbnQgX251bUFyZ3MpIHsKICAgICAgICBhc3NlcnQobXNnLmRhdGEubGVuZ3RoID09IF9udW1BcmdzICogMzIgKyA0KTsKICAgICAgICBfOwogICAgfQp9CgoKLyoqCiAqIEVSQzIwIGNvbXBhdGlibGUgdG9rZW4gaW50ZXJmYWNlCiAqCiAqIC0gSW1wbGVtZW50cyBFUkMgMjAgVG9rZW4gc3RhbmRhcmQKICogLSBJbXBsZW1lbnRzIHNob3J0IGFkZHJlc3MgYXR0YWNrIGZpeAogKgogKiAjY3JlYXRlZCAyOS8wOS8yMDE3CiAqICNhdXRob3IgRnJhbmsgQm9ubmV0CiAqLwppbnRlcmZhY2UgSVRva2VuIHsgCgogICAgLyoqIAogICAgICogR2V0IHRoZSB0b3RhbCBzdXBwbHkgb2YgdG9rZW5zCiAgICAgKiAKICAgICAqIEByZXR1cm4gVGhlIHRvdGFsIHN1cHBseQogICAgICovCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpOwoKCiAgICAvKiogCiAgICAgKiBHZXQgYmFsYW5jZSBvZiBgX293bmVyYCAKICAgICAqIAogICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICAgKiBAcmV0dXJuIFRoZSBiYWxhbmNlCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludCk7CgoKICAgIC8qKiAKICAgICAqIFNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgICAqIAogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwoKCiAgICAvKiogCiAgICAgKiBTZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYF9mcm9tYCBvbiB0aGUgY29uZGl0aW9uIGl0IGlzIGFwcHJvdmVkIGJ5IGBfZnJvbWAKICAgICAqIAogICAgICogQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CgoKICAgIC8qKiAKICAgICAqIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX3NwZW5kZXJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogICAgICogCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2ZlcgogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSBhcHByb3ZhbCB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwoKCiAgICAvKiogCiAgICAgKiBHZXQgdGhlIGFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIHRoYXQgYF9zcGVuZGVyYCBpcyBhbGxvd2VkIHRvIHNwZW5kIGZyb20gYF9vd25lcmAKICAgICAqIAogICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAgKiBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgICAqLwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KTsKfQoKCi8qKgogKiBFUkMyMCBjb21wYXRpYmxlIHRva2VuCiAqCiAqIC0gSW1wbGVtZW50cyBFUkMgMjAgVG9rZW4gc3RhbmRhcmQKICogLSBJbXBsZW1lbnRzIHNob3J0IGFkZHJlc3MgYXR0YWNrIGZpeAogKgogKiAjY3JlYXRlZCAyOS8wOS8yMDE3CiAqICNhdXRob3IgRnJhbmsgQm9ubmV0CiAqLwpjb250cmFjdCBUb2tlbiBpcyBJVG9rZW4sIElucHV0VmFsaWRhdG9yIHsKCiAgICAvLyBFdGhlcmV1bSB0b2tlbiBzdGFuZGFyZAogICAgc3RyaW5nIHB1YmxpYyBzdGFuZGFyZCA9ICJUb2tlbiAwLjMuMSI7CiAgICBzdHJpbmcgcHVibGljIG5hbWU7ICAgICAgICAKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgdWludDggcHVibGljIGRlY2ltYWxzOwoKICAgIC8vIFRva2VuIHN0YXRlCiAgICB1aW50IGludGVybmFsIHRvdGFsVG9rZW5TdXBwbHk7CgogICAgLy8gVG9rZW4gYmFsYW5jZXMKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgaW50ZXJuYWwgYmFsYW5jZXM7CgogICAgLy8gVG9rZW4gYWxsb3dhbmNlcwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSBpbnRlcm5hbCBhbGxvd2VkOwoKCiAgICAvLyBFdmVudHMKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludCBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50IF92YWx1ZSk7CgogICAgLyoqIAogICAgICogQ29uc3RydWN0IEVSQzIwIHRva2VuCiAgICAgKiAKICAgICAqIEBwYXJhbSBfbmFtZSBUaGUgZnVsbCB0b2tlbiBuYW1lCiAgICAgKiBAcGFyYW0gX3N5bWJvbCBUaGUgdG9rZW4gc3ltYm9sIChhYmVycmF0aW9uKQogICAgICogQHBhcmFtIF9kZWNpbWFscyBUaGUgdG9rZW4gcHJlY2lzaW9uCiAgICAgKi8KICAgIGZ1bmN0aW9uIFRva2VuKHN0cmluZyBfbmFtZSwgc3RyaW5nIF9zeW1ib2wsIHVpbnQ4IF9kZWNpbWFscykgcHVibGljIHsKICAgICAgICBuYW1lID0gX25hbWU7CiAgICAgICAgc3ltYm9sID0gX3N5bWJvbDsKICAgICAgICBkZWNpbWFscyA9IF9kZWNpbWFsczsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IDA7CiAgICAgICAgdG90YWxUb2tlblN1cHBseSA9IDA7CiAgICB9CgoKICAgIC8qKiAKICAgICAqIEdldCB0aGUgdG90YWwgdG9rZW4gc3VwcGx5CiAgICAgKiAKICAgICAqIEByZXR1cm4gVGhlIHRvdGFsIHN1cHBseQogICAgICovCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gdG90YWxUb2tlblN1cHBseTsKICAgIH0KCgogICAgLyoqIAogICAgICogR2V0IGJhbGFuY2Ugb2YgYF9vd25lcmAgCiAgICAgKiAKICAgICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgZnJvbSB3aGljaCB0aGUgYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZAogICAgICogQHJldHVybiBUaGUgYmFsYW5jZQogICAgICovCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCgogICAgLyoqIAogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYAogICAgICogCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgc2FmZV9hcmd1bWVudHMoMikgcmV0dXJucyAoYm9vbCkgewoKICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2ggdG9rZW5zCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUpOyAgIAoKICAgICAgICAvLyBDaGVjayBmb3Igb3ZlcmZsb3dzCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID49IGJhbGFuY2VzW190b10pOwoKICAgICAgICAvLyBUcmFuc2ZlciB0b2tlbnMKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CgogICAgICAgIC8vIE5vdGlmeSBsaXN0ZW5lcnMKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIC8qKiAKICAgICAqIFNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgICogCiAgICAgKiBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90IAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgc2FmZV9hcmd1bWVudHMoMykgcmV0dXJucyAoYm9vbCkgewoKICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUpOwoKICAgICAgICAvLyBDaGVjayBmb3Igb3ZlcmZsb3dzCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID49IGJhbGFuY2VzW190b10pOwoKICAgICAgICAvLyBDaGVjayBhbGxvd2FuY2UKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CgogICAgICAgIC8vIFRyYW5zZmVyIHRva2VucwogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CgogICAgICAgIC8vIFVwZGF0ZSBhbGxvd2FuY2UKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CgogICAgICAgIC8vIE5vdGlmeSBsaXN0ZW5lcnMKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICAvKiogCiAgICAgKiBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9zcGVuZGVyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMKICAgICAqIAogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXIKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHB1YmxpYyBzYWZlX2FyZ3VtZW50cygyKSByZXR1cm5zIChib29sKSB7CgogICAgICAgIC8vIFVwZGF0ZSBhbGxvd2FuY2UKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKCiAgICAgICAgLy8gTm90aWZ5IGxpc3RlbmVycwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICAvKiogCiAgICAgKiBHZXQgdGhlIGFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIHRoYXQgYF9zcGVuZGVyYCBpcyBhbGxvd2VkIHRvIHNwZW5kIGZyb20gYF9vd25lcmAKICAgICAqIAogICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAgKiBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgICAqLwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQp9CgoKCi8qKgogKiBJTWFuYWdlZFRva2VuCiAqCiAqIEFkZHMgdGhlIGZvbGxvd2luZyBmdW5jdGlvbmFsaXR5IHRvIHRoZSBiYXNpYyBFUkMyMCB0b2tlbgogKiAtIExvY2tpbmcKICogLSBJc3N1aW5nCiAqIC0gQnVybmluZyAKICoKICogI2NyZWF0ZWQgMjkvMDkvMjAxNwogKiAjYXV0aG9yIEZyYW5rIEJvbm5ldAogKi8KaW50ZXJmYWNlIElNYW5hZ2VkVG9rZW4geyAKCiAgICAvKiogCiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHRva2VuIGlzIGxvY2tlZAogICAgICogCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHRva2VuIGlzIGxvY2tlZAogICAgICovCiAgICBmdW5jdGlvbiBpc0xvY2tlZCgpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wpOwoKCiAgICAvKioKICAgICAqIExvY2tzIHRoZSB0b2tlbiBzbyB0aGF0IHRoZSB0cmFuc2ZlcmluZyBvZiB2YWx1ZSBpcyBkaXNhYmxlZCAKICAgICAqCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHVubG9ja2luZyB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gbG9jaygpIHB1YmxpYyByZXR1cm5zIChib29sKTsKCgogICAgLyoqCiAgICAgKiBVbmxvY2tzIHRoZSB0b2tlbiBzbyB0aGF0IHRoZSB0cmFuc2ZlcmluZyBvZiB2YWx1ZSBpcyBlbmFibGVkIAogICAgICoKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgdW5sb2NraW5nIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgICovCiAgICBmdW5jdGlvbiB1bmxvY2soKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CgoKICAgIC8qKgogICAgICogSXNzdWVzIGBfdmFsdWVgIG5ldyB0b2tlbnMgdG8gYF90b2AKICAgICAqCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHdoaWNoIHRoZSB0b2tlbnMgd2lsbCBiZSBpc3N1ZWQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiBuZXcgdG9rZW5zIHRvIGlzc3VlCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHRva2VucyB3aGVyZSBzdWNlc3NmdWxseSBpc3N1ZWQgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIGlzc3VlKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwoKCiAgICAvKioKICAgICAqIEJ1cm5zIGBfdmFsdWVgIHRva2VucyBvZiBgX2Zyb21gCiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIHRoYXQgb3ducyB0aGUgdG9rZW5zIHRvIGJlIGJ1cm5lZAogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBidXJuZWQKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgdG9rZW5zIHdoZXJlIHN1Y2Vzc2Z1bGx5IGJ1cm5lZCBvciBub3QgCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJ1cm4oYWRkcmVzcyBfZnJvbSwgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKfQoKCi8qKgogKiBNYW5hZ2VkVG9rZW4KICoKICogQWRkcyB0aGUgZm9sbG93aW5nIGZ1bmN0aW9uYWxpdHkgdG8gdGhlIGJhc2ljIEVSQzIwIHRva2VuCiAqIC0gTG9ja2luZwogKiAtIElzc3VpbmcKICogLSBCdXJuaW5nIAogKgogKiAjY3JlYXRlZCAyOS8wOS8yMDE3CiAqICNhdXRob3IgRnJhbmsgQm9ubmV0CiAqLwpjb250cmFjdCBNYW5hZ2VkVG9rZW4gaXMgSU1hbmFnZWRUb2tlbiwgVG9rZW4sIE11bHRpT3duZWQgewoKICAgIC8vIFRva2VuIHN0YXRlCiAgICBib29sIGludGVybmFsIGxvY2tlZDsKCgogICAgLyoqCiAgICAgKiBBbGxvdyBhY2Nlc3Mgb25seSB3aGVuIG5vdCBsb2NrZWQKICAgICAqLwogICAgbW9kaWZpZXIgb25seV93aGVuX3VubG9ja2VkKCkgewogICAgICAgIHJlcXVpcmUoIWxvY2tlZCk7CiAgICAgICAgXzsKICAgIH0KCgogICAgLyoqIAogICAgICogQ29uc3RydWN0IG1hbmFnZWQgRVJDMjAgdG9rZW4KICAgICAqIAogICAgICogQHBhcmFtIF9uYW1lIFRoZSBmdWxsIHRva2VuIG5hbWUKICAgICAqIEBwYXJhbSBfc3ltYm9sIFRoZSB0b2tlbiBzeW1ib2wgKGFiZXJyYXRpb24pCiAgICAgKiBAcGFyYW0gX2RlY2ltYWxzIFRoZSB0b2tlbiBwcmVjaXNpb24KICAgICAqIEBwYXJhbSBfbG9ja2VkIFdoZXRoZXIgdGhlIHRva2VuIHNob3VsZCBiZSBsb2NrZWQgaW5pdGlhbGx5CiAgICAgKi8KICAgIGZ1bmN0aW9uIE1hbmFnZWRUb2tlbihzdHJpbmcgX25hbWUsIHN0cmluZyBfc3ltYm9sLCB1aW50OCBfZGVjaW1hbHMsIGJvb2wgX2xvY2tlZCkgcHVibGljIAogICAgICAgIFRva2VuKF9uYW1lLCBfc3ltYm9sLCBfZGVjaW1hbHMpIHsKICAgICAgICBsb2NrZWQgPSBfbG9ja2VkOwogICAgfQoKCiAgICAvKiogCiAgICAgKiBTZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYG1zZy5zZW5kZXJgCiAgICAgKiAKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHB1YmxpYyBvbmx5X3doZW5fdW5sb2NrZWQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgICB9CgoKICAgIC8qKiAKICAgICAqIFNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgICogCiAgICAgKiBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHB1YmxpYyBvbmx5X3doZW5fdW5sb2NrZWQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KCgogICAgLyoqIAogICAgICogYG1zZy5zZW5kZXJgIGFwcHJvdmVzIGBfc3BlbmRlcmAgdG8gc3BlbmQgYF92YWx1ZWAgdG9rZW5zCiAgICAgKiAKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci5hcHByb3ZlKF9zcGVuZGVyLCBfdmFsdWUpOwogICAgfQoKCiAgICAvKiogCiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHRva2VuIGlzIGxvY2tlZAogICAgICogCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHRva2VuIGlzIGxvY2tlZAogICAgICovCiAgICBmdW5jdGlvbiBpc0xvY2tlZCgpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gbG9ja2VkOwogICAgfQoKCiAgICAvKioKICAgICAqIExvY2tzIHRoZSB0b2tlbiBzbyB0aGF0IHRoZSB0cmFuc2ZlcmluZyBvZiB2YWx1ZSBpcyBlbmFibGVkIAogICAgICoKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgbG9ja2luZyB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gbG9jaygpIHB1YmxpYyBvbmx5X293bmVyIHJldHVybnMgKGJvb2wpICB7CiAgICAgICAgbG9ja2VkID0gdHJ1ZTsKICAgICAgICByZXR1cm4gbG9ja2VkOwogICAgfQoKCiAgICAvKioKICAgICAqIFVubG9ja3MgdGhlIHRva2VuIHNvIHRoYXQgdGhlIHRyYW5zZmVyaW5nIG9mIHZhbHVlIGlzIGVuYWJsZWQgCiAgICAgKgogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB1bmxvY2tpbmcgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIHVubG9jaygpIHB1YmxpYyBvbmx5X293bmVyIHJldHVybnMgKGJvb2wpICB7CiAgICAgICAgbG9ja2VkID0gZmFsc2U7CiAgICAgICAgcmV0dXJuICFsb2NrZWQ7CiAgICB9CgoKICAgIC8qKgogICAgICogSXNzdWVzIGBfdmFsdWVgIG5ldyB0b2tlbnMgdG8gYF90b2AKICAgICAqCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHdoaWNoIHRoZSB0b2tlbnMgd2lsbCBiZSBpc3N1ZWQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiBuZXcgdG9rZW5zIHRvIGlzc3VlCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgICovCiAgICBmdW5jdGlvbiBpc3N1ZShhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHB1YmxpYyBvbmx5X293bmVyIHNhZmVfYXJndW1lbnRzKDIpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBmb3Igb3ZlcmZsb3dzCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID49IGJhbGFuY2VzW190b10pOwoKICAgICAgICAvLyBDcmVhdGUgdG9rZW5zCiAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgdG90YWxUb2tlblN1cHBseSArPSBfdmFsdWU7CgogICAgICAgIC8vIE5vdGlmeSBsaXN0ZW5lcnMgCiAgICAgICAgVHJhbnNmZXIoMCwgdGhpcywgX3ZhbHVlKTsKICAgICAgICBUcmFuc2Zlcih0aGlzLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIC8qKgogICAgICogQnVybnMgYF92YWx1ZWAgdG9rZW5zIG9mIGBfcmVjaXBpZW50YAogICAgICoKICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyB0aGF0IG93bnMgdGhlIHRva2VucyB0byBiZSBidXJuZWQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgYnVybmVkCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHRva2VucyB3aGVyZSBzdWNlc3NmdWxseSBidXJuZWQgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIGJ1cm4oYWRkcmVzcyBfZnJvbSwgdWludCBfdmFsdWUpIHB1YmxpYyBvbmx5X293bmVyIHNhZmVfYXJndW1lbnRzKDIpIHJldHVybnMgKGJvb2wpIHsKCiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRva2VuIG93bmVyIGhhcyBlbm91Z2ggdG9rZW5zCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlKTsKCiAgICAgICAgLy8gQ2hlY2sgZm9yIG92ZXJmbG93cwogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dIC0gX3ZhbHVlIDw9IGJhbGFuY2VzW19mcm9tXSk7CgogICAgICAgIC8vIEJ1cm4gdG9rZW5zCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICB0b3RhbFRva2VuU3VwcGx5IC09IF92YWx1ZTsKCiAgICAgICAgLy8gTm90aWZ5IGxpc3RlbmVycyAKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgMCwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKCi8qKgogKiBBVE0gU2VjdXJpdHkgdG9rZW4gKEtBVE0pCiAqCiAqIEtBVE0gbWFpbnRhaW5pbmcgdGhlIHByaW1hcnkgc2VjdXJpdHkgZnVuY3Rpb25zIG9mIHRoZSBBVE0gdG9rZW4gYXMgCiAqIG91dGxpbmVkIHdpdGhpbiB0aGUgd2hpdGVwYXBlci4KICoKICogVGhvc2Ugd2hvIGJlYXIgQVRNUyB3aWxsIGJlIGVudGl0bGVkIHRvIHByb2ZpdCBzaGFyaW5nIGluIHRoZSBmb3JtIG9mIGRpdmlkZW5kcywgCiAqIGFuZCBpcyBjb25zaWRlcmVkIHRoZSAiU2VjdXJpdHkiIHRva2VuLgogKgogKiAjY3JlYXRlZCAzMC8xMC8yMDE3CiAqICNhdXRob3IgRnJhbmsgQm9ubmV0CiAqLwpjb250cmFjdCBLQVRNVG9rZW4gaXMgTWFuYWdlZFRva2VuLCBPYnNlcnZhYmxlLCBUb2tlblJldHJpZXZlciB7CgogICAgCiAgICAvKioKICAgICAqIENvbnN0cnVjdCB0aGUgbWFuYWdlZCBzZWN1cml0eSB0b2tlbgogICAgICovCiAgICBmdW5jdGlvbiBLQVRNVG9rZW4oKSBwdWJsaWMgTWFuYWdlZFRva2VuKCJLQVRNIFNlY3VyaXR5IiwgIktBVE0iLCA4LCBmYWxzZSkge30KCgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgc2VuZGVyIGlzIGFsbG93ZWQgdG8gcmVnaXN0ZXIgYF9vYnNlcnZlcmAKICAgICAqCiAgICAgKiBAcGFyYW0gX29ic2VydmVyIFRoZSBhZGRyZXNzIHRvIHJlZ2lzdGVyIGFzIGFuIG9ic2VydmVyCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHNlbmRlciBpcyBhbGxvd2VkIG9yIG5vdAogICAgICovCiAgICBmdW5jdGlvbiBjYW5SZWdpc3Rlck9ic2VydmVyKGFkZHJlc3MgX29ic2VydmVyKSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gX29ic2VydmVyICE9IGFkZHJlc3ModGhpcykgJiYgaXNPd25lcihtc2cuc2VuZGVyKTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgc2VuZGVyIGlzIGFsbG93ZWQgdG8gdW5yZWdpc3RlciBgX29ic2VydmVyYAogICAgICoKICAgICAqIEBwYXJhbSBfb2JzZXJ2ZXIgVGhlIGFkZHJlc3MgdG8gdW5yZWdpc3RlciBhcyBhbiBvYnNlcnZlcgogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSBzZW5kZXIgaXMgYWxsb3dlZCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gY2FuVW5yZWdpc3Rlck9ic2VydmVyKGFkZHJlc3MgX29ic2VydmVyKSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gbXNnLnNlbmRlciA9PSBfb2JzZXJ2ZXIgfHwgaXNPd25lcihtc2cuc2VuZGVyKTsKICAgIH0KCgogICAgLyoqIAogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYAogICAgICogLSBOb3RpZmllcyByZWdpc3RlcmVkIG9ic2VydmVycyB3aGVuIHRoZSBvYnNlcnZlciByZWNlaXZlcyB0b2tlbnMKICAgICAqIAogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBib29sIHJlc3VsdCA9IHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICAgICAgICBpZiAoaXNPYnNlcnZlcihfdG8pKSB7CiAgICAgICAgICAgIElUb2tlbk9ic2VydmVyKF90bykubm90aWZ5VG9rZW5zUmVjZWl2ZWQobXNnLnNlbmRlciwgX3ZhbHVlKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgoKICAgIC8qKiAKICAgICAqIFNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgICogLSBOb3RpZmllcyByZWdpc3RlcmVkIG9ic2VydmVycyB3aGVuIHRoZSBvYnNlcnZlciByZWNlaXZlcyB0b2tlbnMKICAgICAqIAogICAgICogQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGJvb2wgcmVzdWx0ID0gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgaWYgKGlzT2JzZXJ2ZXIoX3RvKSkgewogICAgICAgICAgICBJVG9rZW5PYnNlcnZlcihfdG8pLm5vdGlmeVRva2Vuc1JlY2VpdmVkKF9mcm9tLCBfdmFsdWUpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCgogICAgLyoqCiAgICAgKiBGYWlsc2FmZSBtZWNoYW5pc20KICAgICAqIAogICAgICogQWxsb3dzIHRoZSBvd25lciB0byByZXRyaWV2ZSB0b2tlbnMgZnJvbSB0aGUgY29udHJhY3QgdGhhdCAKICAgICAqIG1pZ2h0IGhhdmUgYmVlbiBzZW5kIHRoZXJlIGJ5IGFjY2lkZW50CiAgICAgKgogICAgICogQHBhcmFtIF90b2tlbkNvbnRyYWN0IFRoZSBhZGRyZXNzIG9mIEVSQzIwIGNvbXBhdGlibGUgdG9rZW4KICAgICAqLwogICAgZnVuY3Rpb24gcmV0cmlldmVUb2tlbnMoYWRkcmVzcyBfdG9rZW5Db250cmFjdCkgcHVibGljIG9ubHlfb3duZXIgewogICAgICAgIHN1cGVyLnJldHJpZXZlVG9rZW5zKF90b2tlbkNvbnRyYWN0KTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBQcmV2ZW50cyB0aGUgYWNjaWRlbnRhbCBzZW5kaW5nIG9mIGV0aGVyCiAgICAgKi8KICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICByZXZlcnQoKTsKICAgIH0KfQ=='.
	

]
