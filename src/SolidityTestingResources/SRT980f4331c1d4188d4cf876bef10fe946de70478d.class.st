Class {
	#name : #SRT980f4331c1d4188d4cf876bef10fe946de70478d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT980f4331c1d4188d4cf876bef10fe946de70478d >> base64 [
	^ 'Ly8gQ29weXJpZ2h0IChDKSAyMDE3IERhcHBIdWIsIExMQwoKLy8gQ29weXJpZ2h0IChDKSAyMDE3IERhcHBIdWIsIExMQwoKcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovL2ltcG9ydCAiZHMtZXhlYy9leGVjLnNvbCI7Cgpjb250cmFjdCBEU0V4ZWMgewogICAgZnVuY3Rpb24gdHJ5RXhlYyggYWRkcmVzcyB0YXJnZXQsIGJ5dGVzIGNhbGxkYXRhLCB1aW50IHZhbHVlKQogICAgaW50ZXJuYWwKICAgIHJldHVybnMgKGJvb2wgY2FsbF9yZXQpCiAgICB7CiAgICAgICAgcmV0dXJuIHRhcmdldC5jYWxsLnZhbHVlKHZhbHVlKShjYWxsZGF0YSk7CiAgICB9CiAgICBmdW5jdGlvbiBleGVjKCBhZGRyZXNzIHRhcmdldCwgYnl0ZXMgY2FsbGRhdGEsIHVpbnQgdmFsdWUpCiAgICBpbnRlcm5hbAogICAgewogICAgICAgIGlmKCF0cnlFeGVjKHRhcmdldCwgY2FsbGRhdGEsIHZhbHVlKSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICB9CgogICAgLy8gQ29udmVuaWVuY2UgYWxpYXNlcwogICAgZnVuY3Rpb24gZXhlYyggYWRkcmVzcyB0LCBieXRlcyBjICkKICAgIGludGVybmFsCiAgICB7CiAgICAgICAgZXhlYyh0LCBjLCAwKTsKICAgIH0KICAgIGZ1bmN0aW9uIGV4ZWMoIGFkZHJlc3MgdCwgdWludDI1NiB2ICkKICAgIGludGVybmFsCiAgICB7CiAgICAgICAgYnl0ZXMgbWVtb3J5IGM7IGV4ZWModCwgYywgdik7CiAgICB9CiAgICBmdW5jdGlvbiB0cnlFeGVjKCBhZGRyZXNzIHQsIGJ5dGVzIGMgKQogICAgaW50ZXJuYWwKICAgIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgcmV0dXJuIHRyeUV4ZWModCwgYywgMCk7CiAgICB9CiAgICBmdW5jdGlvbiB0cnlFeGVjKCBhZGRyZXNzIHQsIHVpbnQyNTYgdiApCiAgICBpbnRlcm5hbAogICAgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICBieXRlcyBtZW1vcnkgYzsgcmV0dXJuIHRyeUV4ZWModCwgYywgdik7CiAgICB9Cn0KCi8vaW1wb3J0ICJkcy1hdXRoL2F1dGguc29sIjsKY29udHJhY3QgRFNBdXRob3JpdHkgewogICAgZnVuY3Rpb24gY2FuQ2FsbCgKICAgIGFkZHJlc3Mgc3JjLCBhZGRyZXNzIGRzdCwgYnl0ZXM0IHNpZwogICAgKSBjb25zdGFudCByZXR1cm5zIChib29sKTsKfQoKY29udHJhY3QgRFNBdXRoRXZlbnRzIHsKICAgIGV2ZW50IExvZ1NldEF1dGhvcml0eSAoYWRkcmVzcyBpbmRleGVkIGF1dGhvcml0eSk7CiAgICBldmVudCBMb2dTZXRPd25lciAgICAgKGFkZHJlc3MgaW5kZXhlZCBvd25lcik7Cn0KCmNvbnRyYWN0IERTQXV0aCBpcyBEU0F1dGhFdmVudHMgewogICAgRFNBdXRob3JpdHkgIHB1YmxpYyAgYXV0aG9yaXR5OwogICAgYWRkcmVzcyAgICAgIHB1YmxpYyAgb3duZXI7CgogICAgZnVuY3Rpb24gRFNBdXRoKCkgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICBMb2dTZXRPd25lcihtc2cuc2VuZGVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRPd25lcihhZGRyZXNzIG93bmVyXykKICAgIGF1dGgKICAgIHsKICAgICAgICBvd25lciA9IG93bmVyXzsKICAgICAgICBMb2dTZXRPd25lcihvd25lcik7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0QXV0aG9yaXR5KERTQXV0aG9yaXR5IGF1dGhvcml0eV8pCiAgICBhdXRoCiAgICB7CiAgICAgICAgYXV0aG9yaXR5ID0gYXV0aG9yaXR5XzsKICAgICAgICBMb2dTZXRBdXRob3JpdHkoYXV0aG9yaXR5KTsKICAgIH0KCiAgICBtb2RpZmllciBhdXRoIHsKICAgICAgICBhc3NlcnQoaXNBdXRob3JpemVkKG1zZy5zZW5kZXIsIG1zZy5zaWcpKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzQXV0aG9yaXplZChhZGRyZXNzIHNyYywgYnl0ZXM0IHNpZykgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGlmIChzcmMgPT0gYWRkcmVzcyh0aGlzKSkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKHNyYyA9PSBvd25lcikgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKGF1dGhvcml0eSA9PSBEU0F1dGhvcml0eSgwKSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGF1dGhvcml0eS5jYW5DYWxsKHNyYywgdGhpcywgc2lnKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgeCkgaW50ZXJuYWwgewogICAgICAgIGlmICgheCkgdGhyb3c7CiAgICB9Cn0KCi8vaW1wb3J0ICJkcy1ub3RlL25vdGUuc29sIjsKY29udHJhY3QgRFNOb3RlIHsKICAgIGV2ZW50IExvZ05vdGUoCiAgICBieXRlczQgICBpbmRleGVkICBzaWcsCiAgICBhZGRyZXNzICBpbmRleGVkICBndXksCiAgICBieXRlczMyICBpbmRleGVkICBmb28sCiAgICBieXRlczMyICBpbmRleGVkICBiYXIsCiAgICB1aW50ICAgICAgICB3YWQsCiAgICBieXRlcyAgICAgICAgICAgICBmYXgKICAgICkgYW5vbnltb3VzOwoKICAgIG1vZGlmaWVyIG5vdGUgewogICAgICAgIGJ5dGVzMzIgZm9vOwogICAgICAgIGJ5dGVzMzIgYmFyOwoKICAgICAgICBhc3NlbWJseSB7CiAgICAgICAgZm9vIDo9IGNhbGxkYXRhbG9hZCg0KQogICAgICAgIGJhciA6PSBjYWxsZGF0YWxvYWQoMzYpCiAgICAgICAgfQoKICAgICAgICBMb2dOb3RlKG1zZy5zaWcsIG1zZy5zZW5kZXIsIGZvbywgYmFyLCBtc2cudmFsdWUsIG1zZy5kYXRhKTsKCiAgICAgICAgXzsKICAgIH0KfQoKCi8vaW1wb3J0ICJkcy1tYXRoL21hdGguc29sIjsKY29udHJhY3QgRFNNYXRoIHsKCiAgICAvKgogICAgc3RhbmRhcmQgdWludDI1NiBmdW5jdGlvbnMKICAgICAqLwoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgYXNzZXJ0KCh6ID0geCArIHkpID49IHgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgYXNzZXJ0KCh6ID0geCAtIHkpIDw9IHgpOwogICAgfQoKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgeiA9IHggKiB5OwogICAgICAgIGFzc2VydCh4ID09IDAgfHwgeiAvIHggPT0geSk7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICB6ID0geCAvIHk7CiAgICB9CgogICAgZnVuY3Rpb24gbWluKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICByZXR1cm4geCA8PSB5ID8geCA6IHk7CiAgICB9CiAgICBmdW5jdGlvbiBtYXgodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgewogICAgICAgIHJldHVybiB4ID49IHkgPyB4IDogeTsKICAgIH0KCiAgICAvKgogICAgdWludDEyOCBmdW5jdGlvbnMgKGggaXMgZm9yIGhhbGYpCiAgICAgKi8KCgogICAgZnVuY3Rpb24gaGFkZCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgYXNzZXJ0KCh6ID0geCArIHkpID49IHgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGhzdWIodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIGFzc2VydCgoeiA9IHggLSB5KSA8PSB4KTsKICAgIH0KCiAgICBmdW5jdGlvbiBobXVsKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICB6ID0geCAqIHk7CiAgICAgICAgYXNzZXJ0KHggPT0gMCB8fCB6IC8geCA9PSB5KTsKICAgIH0KCiAgICBmdW5jdGlvbiBoZGl2KHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICB6ID0geCAvIHk7CiAgICB9CgogICAgZnVuY3Rpb24gaG1pbih1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgcmV0dXJuIHggPD0geSA/IHggOiB5OwogICAgfQogICAgZnVuY3Rpb24gaG1heCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgcmV0dXJuIHggPj0geSA/IHggOiB5OwogICAgfQoKCiAgICAvKgogICAgaW50MjU2IGZ1bmN0aW9ucwogICAgICovCgogICAgZnVuY3Rpb24gaW1pbihpbnQyNTYgeCwgaW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKGludDI1NiB6KSB7CiAgICAgICAgcmV0dXJuIHggPD0geSA/IHggOiB5OwogICAgfQogICAgZnVuY3Rpb24gaW1heChpbnQyNTYgeCwgaW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKGludDI1NiB6KSB7CiAgICAgICAgcmV0dXJuIHggPj0geSA/IHggOiB5OwogICAgfQoKICAgIC8qCiAgICBXQUQgbWF0aAogICAgICovCgogICAgdWludDEyOCBjb25zdGFudCBXQUQgPSAxMCAqKiAxODsKCiAgICBmdW5jdGlvbiB3YWRkKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4KSB7CiAgICAgICAgcmV0dXJuIGhhZGQoeCwgeSk7CiAgICB9CgogICAgZnVuY3Rpb24gd3N1Yih1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCkgewogICAgICAgIHJldHVybiBoc3ViKHgsIHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdtdWwodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIHogPSBjYXN0KCh1aW50MjU2KHgpICogeSArIFdBRCAvIDIpIC8gV0FEKTsKICAgIH0KCiAgICBmdW5jdGlvbiB3ZGl2KHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICB6ID0gY2FzdCgodWludDI1Nih4KSAqIFdBRCArIHkgLyAyKSAvIHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdtaW4odWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjgpIHsKICAgICAgICByZXR1cm4gaG1pbih4LCB5KTsKICAgIH0KICAgIGZ1bmN0aW9uIHdtYXgodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjgpIHsKICAgICAgICByZXR1cm4gaG1heCh4LCB5KTsKICAgIH0KCiAgICAvKgogICAgUkFZIG1hdGgKICAgICAqLwoKICAgIHVpbnQxMjggY29uc3RhbnQgUkFZID0gMTAgKiogMjc7CgogICAgZnVuY3Rpb24gcmFkZCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCkgewogICAgICAgIHJldHVybiBoYWRkKHgsIHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJzdWIodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjgpIHsKICAgICAgICByZXR1cm4gaHN1Yih4LCB5KTsKICAgIH0KCiAgICBmdW5jdGlvbiBybXVsKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICB6ID0gY2FzdCgodWludDI1Nih4KSAqIHkgKyBSQVkgLyAyKSAvIFJBWSk7CiAgICB9CgogICAgZnVuY3Rpb24gcmRpdih1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgeiA9IGNhc3QoKHVpbnQyNTYoeCkgKiBSQVkgKyB5IC8gMikgLyB5KTsKICAgIH0KCiAgICBmdW5jdGlvbiBycG93KHVpbnQxMjggeCwgdWludDY0IG4pIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIC8vIFRoaXMgZmFtb3VzIGFsZ29yaXRobSBpcyBjYWxsZWQgImV4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nIgogICAgICAgIC8vIGFuZCBjYWxjdWxhdGVzIHhebiB3aXRoIHggYXMgZml4ZWQtcG9pbnQgYW5kIG4gYXMgcmVndWxhciB1bnNpZ25lZC4KICAgICAgICAvLwogICAgICAgIC8vIEl0J3MgTyhsb2cgbiksIGluc3RlYWQgb2YgTyhuKSBmb3IgbmFpdmUgcmVwZWF0ZWQgbXVsdGlwbGljYXRpb24uCiAgICAgICAgLy8KICAgICAgICAvLyBUaGVzZSBmYWN0cyBhcmUgd2h5IGl0IHdvcmtzOgogICAgICAgIC8vCiAgICAgICAgLy8gIElmIG4gaXMgZXZlbiwgdGhlbiB4Xm4gPSAoeF4yKV4obi8yKS4KICAgICAgICAvLyAgSWYgbiBpcyBvZGQsICB0aGVuIHhebiA9IHggKiB4XihuLTEpLAogICAgICAgIC8vICAgYW5kIGFwcGx5aW5nIHRoZSBlcXVhdGlvbiBmb3IgZXZlbiB4IGdpdmVzCiAgICAgICAgLy8gICAgeF5uID0geCAqICh4XjIpXigobi0xKSAvIDIpLgogICAgICAgIC8vCiAgICAgICAgLy8gIEFsc28sIEVWTSBkaXZpc2lvbiBpcyBmbG9vcmluZyBhbmQKICAgICAgICAvLyAgICBmbG9vclsobi0xKSAvIDJdID0gZmxvb3JbbiAvIDJdLgoKICAgICAgICB6ID0gbiAlIDIgIT0gMCA/IHggOiBSQVk7CgogICAgICAgIGZvciAobiAvPSAyOyBuICE9IDA7IG4gLz0gMikgewogICAgICAgICAgICB4ID0gcm11bCh4LCB4KTsKCiAgICAgICAgICAgIGlmIChuICUgMiAhPSAwKSB7CiAgICAgICAgICAgICAgICB6ID0gcm11bCh6LCB4KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBybWluKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4KSB7CiAgICAgICAgcmV0dXJuIGhtaW4oeCwgeSk7CiAgICB9CiAgICBmdW5jdGlvbiBybWF4KHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4KSB7CiAgICAgICAgcmV0dXJuIGhtYXgoeCwgeSk7CiAgICB9CgogICAgZnVuY3Rpb24gY2FzdCh1aW50MjU2IHgpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIGFzc2VydCgoeiA9IHVpbnQxMjgoeCkpID09IHgpOwogICAgfQoKfQoKLy9pbXBvcnQgImVyYzIwL2VyYzIwLnNvbCI7CmNvbnRyYWN0IEVSQzIwIHsKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludCBzdXBwbHkpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKCBhZGRyZXNzIHdobyApIGNvbnN0YW50IHJldHVybnMgKHVpbnQgdmFsdWUpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKCBhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIgKSBjb25zdGFudCByZXR1cm5zICh1aW50IF9hbGxvd2FuY2UpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zIChib29sIG9rKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbSggYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zIChib29sIG9rKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoIGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSApIHJldHVybnMgKGJvb2wgb2spOwoKICAgIGV2ZW50IFRyYW5zZmVyKCBhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKCBhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsKfQoKCgovL2ltcG9ydCAiZHMtdG9rZW4vYmFzZS5zb2wiOwpjb250cmFjdCBEU1Rva2VuQmFzZSBpcyBFUkMyMCwgRFNNYXRoIHsKICAgIHVpbnQyNTYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdXBwbHk7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpICAgICAgICAgICAgICAgICAgICAgICBfYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpICBfYXBwcm92YWxzOwoKICAgIGZ1bmN0aW9uIERTVG9rZW5CYXNlKHVpbnQyNTYgc3VwcGx5KSB7CiAgICAgICAgX2JhbGFuY2VzW21zZy5zZW5kZXJdID0gc3VwcGx5OwogICAgICAgIF9zdXBwbHkgPSBzdXBwbHk7CiAgICB9CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIF9zdXBwbHk7CiAgICB9CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBzcmMpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gX2JhbGFuY2VzW3NyY107CiAgICB9CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBzcmMsIGFkZHJlc3MgZ3V5KSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIF9hcHByb3ZhbHNbc3JjXVtndXldOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgZHN0LCB1aW50IHdhZCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGFzc2VydChfYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gd2FkKTsKCiAgICAgICAgX2JhbGFuY2VzW21zZy5zZW5kZXJdID0gc3ViKF9iYWxhbmNlc1ttc2cuc2VuZGVyXSwgd2FkKTsKICAgICAgICBfYmFsYW5jZXNbZHN0XSA9IGFkZChfYmFsYW5jZXNbZHN0XSwgd2FkKTsKCiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgZHN0LCB3YWQpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBzcmMsIGFkZHJlc3MgZHN0LCB1aW50IHdhZCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGFzc2VydChfYmFsYW5jZXNbc3JjXSA+PSB3YWQpOwogICAgICAgIGFzc2VydChfYXBwcm92YWxzW3NyY11bbXNnLnNlbmRlcl0gPj0gd2FkKTsKCiAgICAgICAgX2FwcHJvdmFsc1tzcmNdW21zZy5zZW5kZXJdID0gc3ViKF9hcHByb3ZhbHNbc3JjXVttc2cuc2VuZGVyXSwgd2FkKTsKICAgICAgICBfYmFsYW5jZXNbc3JjXSA9IHN1YihfYmFsYW5jZXNbc3JjXSwgd2FkKTsKICAgICAgICBfYmFsYW5jZXNbZHN0XSA9IGFkZChfYmFsYW5jZXNbZHN0XSwgd2FkKTsKCiAgICAgICAgVHJhbnNmZXIoc3JjLCBkc3QsIHdhZCk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBndXksIHVpbnQyNTYgd2FkKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgX2FwcHJvdmFsc1ttc2cuc2VuZGVyXVtndXldID0gd2FkOwoKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBndXksIHdhZCk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKfQoKCi8vaW1wb3J0ICJkcy1zdG9wL3N0b3Auc29sIjsKY29udHJhY3QgRFNTdG9wIGlzIERTQXV0aCwgRFNOb3RlIHsKCiAgICBib29sIHB1YmxpYyBzdG9wcGVkOwoKICAgIG1vZGlmaWVyIHN0b3BwYWJsZSB7CiAgICAgICAgYXNzZXJ0ICghc3RvcHBlZCk7CiAgICAgICAgXzsKICAgIH0KICAgIGZ1bmN0aW9uIHN0b3AoKSBhdXRoIG5vdGUgewogICAgICAgIHN0b3BwZWQgPSB0cnVlOwogICAgfQogICAgZnVuY3Rpb24gc3RhcnQoKSBhdXRoIG5vdGUgewogICAgICAgIHN0b3BwZWQgPSBmYWxzZTsKICAgIH0KCn0KCgovL2ltcG9ydCAiZHMtdG9rZW4vdG9rZW4uc29sIjsKY29udHJhY3QgRFNUb2tlbiBpcyBEU1Rva2VuQmFzZSgwKSwgRFNTdG9wIHsKCiAgICBieXRlczMyICBwdWJsaWMgIHN5bWJvbDsKICAgIHVpbnQyNTYgIHB1YmxpYyAgZGVjaW1hbHMgPSAxODsgLy8gc3RhbmRhcmQgdG9rZW4gcHJlY2lzaW9uLiBvdmVycmlkZSB0byBjdXN0b21pemUKICAgIGFkZHJlc3MgIHB1YmxpYyAgZ2VuZXJhdG9yOwoKICAgIG1vZGlmaWVyIG9ubHlHZW5lcmF0b3IgewogICAgICAgIGlmKG1zZy5zZW5kZXIhPWdlbmVyYXRvcikgdGhyb3c7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBEU1Rva2VuKGJ5dGVzMzIgc3ltYm9sXykgewogICAgICAgIHN5bWJvbCA9IHN5bWJvbF87CiAgICAgICAgZ2VuZXJhdG9yPW1zZy5zZW5kZXI7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBkc3QsIHVpbnQgd2FkKSBzdG9wcGFibGUgbm90ZSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKGRzdCwgd2FkKTsKICAgIH0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbSgKICAgIGFkZHJlc3Mgc3JjLCBhZGRyZXNzIGRzdCwgdWludCB3YWQKICAgICkgc3RvcHBhYmxlIG5vdGUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oc3JjLCBkc3QsIHdhZCk7CiAgICB9CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgZ3V5LCB1aW50IHdhZCkgc3RvcHBhYmxlIG5vdGUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci5hcHByb3ZlKGd1eSwgd2FkKTsKICAgIH0KCiAgICBmdW5jdGlvbiBwdXNoKGFkZHJlc3MgZHN0LCB1aW50MTI4IHdhZCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiB0cmFuc2Zlcihkc3QsIHdhZCk7CiAgICB9CiAgICBmdW5jdGlvbiBwdWxsKGFkZHJlc3Mgc3JjLCB1aW50MTI4IHdhZCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiB0cmFuc2ZlckZyb20oc3JjLCBtc2cuc2VuZGVyLCB3YWQpOwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbnQodWludDEyOCB3YWQpIGF1dGggc3RvcHBhYmxlIG5vdGUgewogICAgICAgIF9iYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGFkZChfYmFsYW5jZXNbbXNnLnNlbmRlcl0sIHdhZCk7CiAgICAgICAgX3N1cHBseSA9IGFkZChfc3VwcGx5LCB3YWQpOwogICAgfQogICAgZnVuY3Rpb24gYnVybih1aW50MTI4IHdhZCkgYXV0aCBzdG9wcGFibGUgbm90ZSB7CiAgICAgICAgX2JhbGFuY2VzW21zZy5zZW5kZXJdID0gc3ViKF9iYWxhbmNlc1ttc2cuc2VuZGVyXSwgd2FkKTsKICAgICAgICBfc3VwcGx5ID0gc3ViKF9zdXBwbHksIHdhZCk7CiAgICB9CgogICAgLy8gb3duZXIgY2FuIHRyYW5zZmVyIHRva2VuIGV2ZW4gc3RvcCwKICAgIGZ1bmN0aW9uIGdlbmVyYXRvclRyYW5zZmVyKGFkZHJlc3MgZHN0LCB1aW50IHdhZCkgb25seUdlbmVyYXRvciBub3RlIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoZHN0LCB3YWQpOwogICAgfQoKICAgIC8vIE9wdGlvbmFsIHRva2VuIG5hbWUKCiAgICBieXRlczMyICAgcHVibGljICBuYW1lID0gIiI7CgogICAgZnVuY3Rpb24gc2V0TmFtZShieXRlczMyIG5hbWVfKSBhdXRoIHsKICAgICAgICBuYW1lID0gbmFtZV87CiAgICB9Cgp9CgoKCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCi8vCi8vaW1wb3J0ICJkcy10b2tlbi90b2tlbi5zb2wiOwovLwovLyAgICBpbXBvcnQgImRzLXN0b3Avc3RvcC5zb2wiOwovLyAgICAgICAgaW1wb3J0ICJkcy1hdXRoL2F1dGguc29sIjsKLy8gICAgICAgIGltcG9ydCAiZHMtbm90ZS9ub3RlLnNvbCI7Ci8vCi8vICAgIGltcG9ydCAiZHMtdG9rZW4vYmFzZS5zb2wiOwovLyAgICAgICAgaW1wb3J0ICJlcmMyMC9lcmMyMC5zb2wiOwovLyAgICAgICAgaW1wb3J0ICJkcy1tYXRoL21hdGguc29sIjsKLy8KLy9pbXBvcnQgImRzLWV4ZWMvZXhlYy5zb2wiOwovL2ltcG9ydCAiZHMtYXV0aC9hdXRoLnNvbCI7Ci8vaW1wb3J0ICJkcy1ub3RlL25vdGUuc29sIjsKLy9pbXBvcnQgImRzLW1hdGgvbWF0aC5zb2wiOwoKCgpjb250cmFjdCBLa2tUb2tlblNhbGUgaXMgRFNTdG9wLCBEU01hdGgsIERTRXhlYyB7CgogICAgRFNUb2tlbiBwdWJsaWMga2V5OwoKICAgIC8vIEtFWSBQUklDRVMgKEVUSC9LRVkpCiAgICB1aW50MTI4IHB1YmxpYyBjb25zdGFudCBQVUJMSUNfU0FMRV9QUklDRSA9IDIwMDAwMCBldGhlcjsKCiAgICB1aW50MTI4IHB1YmxpYyBjb25zdGFudCBUT1RBTF9TVVBQTFkgPSAxMCAqKiAxMSAqIDEgZXRoZXI7ICAvLyAxMDAgYmlsbGlvbiBLRVkgaW4gdG90YWwKCiAgICB1aW50MTI4IHB1YmxpYyBjb25zdGFudCBTRUxMX1NPRlRfTElNSVQgPSBUT1RBTF9TVVBQTFkgKiAxMiAvIDEwMDsgLy8gc29mdCBsaW1pdCBpcyAxMiUgLCA2MDAwMCBldGgKICAgIHVpbnQxMjggcHVibGljIGNvbnN0YW50IFNFTExfSEFSRF9MSU1JVCA9IFRPVEFMX1NVUFBMWSAqIDE2IC8gMTAwOyAvLyBoYXJkIGxpbWl0IGlzIDE2JSAsIDgwMDAwIGV0aAoKICAgIHVpbnQxMjggcHVibGljIGNvbnN0YW50IEZVVFVSRV9ESVNUUklCVVRFX0xJTUlUID0gVE9UQUxfU1VQUExZICogODQgLyAxMDA7IC8vIDg0JSBmb3IgZnV0dXJlIGRpc3RyaWJ1dGlvbgoKICAgIHVpbnQxMjggcHVibGljIGNvbnN0YW50IFVTRVJfQlVZX0xJTUlUID0gNTAwIGV0aGVyOyAvLyA1MDAgZXRoZXIgbGltaXQKICAgIHVpbnQxMjggcHVibGljIGNvbnN0YW50IE1BWF9HQVNfUFJJQ0UgPSA1MDAwMDAwMDAwMDsgIC8vIDUwR1dlaQoKICAgIHVpbnQgcHVibGljIHN0YXJ0VGltZTsKICAgIHVpbnQgcHVibGljIGVuZFRpbWU7CgogICAgYm9vbCBwdWJsaWMgbW9yZVRoYW5Tb2Z0TGltaXQ7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSAgcHVibGljICB1c2VyQnV5czsgLy8gbGltaXQgdG8gNTAwIGV0aAoKICAgIGFkZHJlc3MgcHVibGljIGRlc3RGb3VuZGF0aW9uOyAvL211bHRpc2lnIGFjY291bnQgLCA0LW9mLTYKCiAgICB1aW50MTI4IHB1YmxpYyBzb2xkOwogICAgdWludDEyOCBwdWJsaWMgY29uc3RhbnQgc29sZEJ5Q2hhbm5lbHMgPSA0MDAwMCAqIDIwMDAwMCBldGhlcjsgLy8gMiBJQ08gd2Vic2l0ZXMsIGVhY2ggMjAwMDAgZXRoCgogICAgZnVuY3Rpb24gS2trVG9rZW5TYWxlKHVpbnQgc3RhcnRUaW1lXywgYWRkcmVzcyBkZXN0Rm91bmRhdGlvbl8pIHsKCiAgICAgICAga2V5ID0gbmV3IERTVG9rZW4oIktLSyIpOwovLyAgICAgICAga2V5ID0gbmV3IERTVG9rZW4oIktFWSIpOwoKICAgICAgICBkZXN0Rm91bmRhdGlvbiA9IGRlc3RGb3VuZGF0aW9uXzsKCiAgICAgICAgc3RhcnRUaW1lID0gc3RhcnRUaW1lXzsKICAgICAgICBlbmRUaW1lID0gc3RhcnRUaW1lICsgMTQgZGF5czsKCiAgICAgICAgc29sZCA9IHNvbGRCeUNoYW5uZWxzOyAvLyBzb2xkIGJ5IDNyZCBwYXJ0eSBJQ08gd2Vic2l0ZXM7CiAgICAgICAga2V5Lm1pbnQoVE9UQUxfU1VQUExZKTsKCiAgICAgICAga2V5LnRyYW5zZmVyKGRlc3RGb3VuZGF0aW9uLCBGVVRVUkVfRElTVFJJQlVURV9MSU1JVCk7CiAgICAgICAga2V5LnRyYW5zZmVyKGRlc3RGb3VuZGF0aW9uLCBzb2xkQnlDaGFubmVscyk7CgogICAgICAgIC8vZGlzYWJsZSB0cmFuc2ZlcgogICAgICAgIGtleS5zdG9wKCk7CiAgICB9CgogICAgLy8gb3ZlcnJpZGVhYmxlIGZvciBlYXN5IHRlc3RpbmcKICAgIGZ1bmN0aW9uIHRpbWUoKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIG5vdzsKICAgIH0KCiAgICBmdW5jdGlvbiBpc0NvbnRyYWN0KGFkZHJlc3MgX2FkZHIpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMoYm9vbCkgewogICAgICAgIHVpbnQgc2l6ZTsKICAgICAgICBpZiAoX2FkZHIgPT0gMCkgcmV0dXJuIGZhbHNlOwogICAgICAgIGFzc2VtYmx5IHsKICAgICAgICBzaXplIDo9IGV4dGNvZGVzaXplKF9hZGRyKQogICAgICAgIH0KICAgICAgICByZXR1cm4gc2l6ZSA+IDA7CiAgICB9CgogICAgZnVuY3Rpb24gY2FuQnV5KHVpbnQgdG90YWwpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gdG90YWwgPD0gVVNFUl9CVVlfTElNSVQ7CiAgICB9CgogICAgZnVuY3Rpb24oKSBwYXlhYmxlIHN0b3BwYWJsZSBub3RlIHsKCiAgICAgICAgcmVxdWlyZSghaXNDb250cmFjdChtc2cuc2VuZGVyKSk7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPj0gMC4wMSBldGhlcik7CiAgICAgICAgcmVxdWlyZSh0eC5nYXNwcmljZSA8PSBNQVhfR0FTX1BSSUNFKTsKCiAgICAgICAgYXNzZXJ0KHRpbWUoKSA+PSBzdGFydFRpbWUgJiYgdGltZSgpIDwgZW5kVGltZSk7CgogICAgICAgIHZhciB0b0Z1bmQgPSBjYXN0KG1zZy52YWx1ZSk7CgogICAgICAgIHZhciByZXF1ZXN0ZWQgPSB3bXVsKHRvRnVuZCwgUFVCTElDX1NBTEVfUFJJQ0UpOwoKICAgICAgICAvLyBzZWxsaW5nIFNFTExfSEFSRF9MSU1JVCB0b2tlbnMgZW5kcyB0aGUgc2FsZQogICAgICAgIGlmKCBhZGQoc29sZCwgcmVxdWVzdGVkKSA+PSBTRUxMX0hBUkRfTElNSVQpIHsKICAgICAgICAgICAgcmVxdWVzdGVkID0gU0VMTF9IQVJEX0xJTUlUIC0gc29sZDsKICAgICAgICAgICAgdG9GdW5kID0gd2RpdihyZXF1ZXN0ZWQsIFBVQkxJQ19TQUxFX1BSSUNFKTsKCiAgICAgICAgICAgIGVuZFRpbWUgPSB0aW1lKCk7CiAgICAgICAgfQoKICAgICAgICAvLyBVc2VyIGNhbm5vdCBidXkgbW9yZSB0aGFuIFVTRVJfQlVZX0xJTUlUCiAgICAgICAgdmFyIHRvdGFsVXNlckJ1eSA9IGFkZCh1c2VyQnV5c1ttc2cuc2VuZGVyXSwgdG9GdW5kKTsKICAgICAgICBhc3NlcnQoY2FuQnV5KHRvdGFsVXNlckJ1eSkpOwogICAgICAgIHVzZXJCdXlzW21zZy5zZW5kZXJdID0gdG90YWxVc2VyQnV5OwoKICAgICAgICBzb2xkID0gaGFkZChzb2xkLCByZXF1ZXN0ZWQpOwoKICAgICAgICAvLyBTb2Z0IGxpbWl0IHRyaWdnZXJzIHRoZSBzYWxlIHRvIGNsb3NlIGluIDI0IGhvdXJzCiAgICAgICAgaWYoICFtb3JlVGhhblNvZnRMaW1pdCAmJiBzb2xkID49IFNFTExfU09GVF9MSU1JVCApIHsKICAgICAgICAgICAgbW9yZVRoYW5Tb2Z0TGltaXQgPSB0cnVlOwogICAgICAgICAgICBlbmRUaW1lID0gdGltZSgpICsgMjQgaG91cnM7IC8vIGxhc3QgMjQgaG91cnMgYWZ0ZXIgc29mdCBsaW1pdCwKICAgICAgICB9CgogICAgICAgIGtleS5zdGFydCgpOwogICAgICAgIGtleS50cmFuc2Zlcihtc2cuc2VuZGVyLCByZXF1ZXN0ZWQpOwogICAgICAgIGtleS5zdG9wKCk7CgogICAgICAgIGV4ZWMoZGVzdEZvdW5kYXRpb24sIHRvRnVuZCk7IC8vIHNlbmQgY29sbGVjdGVkIEVUSCB0byBtdWx0aXNpZwoKICAgICAgICAvLyByZXR1cm4gZXhjZXNzIEVUSCB0byB0aGUgdXNlcgogICAgICAgIHVpbnQgdG9SZXR1cm4gPSBzdWIobXNnLnZhbHVlLCB0b0Z1bmQpOwogICAgICAgIGlmKHRvUmV0dXJuID4gMCkgewogICAgICAgICAgICBleGVjKG1zZy5zZW5kZXIsIHRvUmV0dXJuKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gc2V0U3RhcnRUaW1lKHVpbnQgc3RhcnRUaW1lXykgYXV0aCBub3RlIHsKICAgICAgICByZXF1aXJlKHRpbWUoKSA8PSBzdGFydFRpbWUgJiYgdGltZSgpIDw9IHN0YXJ0VGltZV8pOwoKICAgICAgICBzdGFydFRpbWUgPSBzdGFydFRpbWVfOwogICAgICAgIGVuZFRpbWUgPSBzdGFydFRpbWUgKyAxNCBkYXlzOwogICAgfQoKICAgIGZ1bmN0aW9uIGZpbmFsaXplKCkgYXV0aCBub3RlIHsKICAgICAgICByZXF1aXJlKHRpbWUoKSA+PSBlbmRUaW1lKTsKCiAgICAgICAgLy8gZW5hYmxlIHRyYW5zZmVyCiAgICAgICAga2V5LnN0YXJ0KCk7CgogICAgICAgIC8vIHRyYW5zZmVyIHVuZGlzdHJpYnV0ZWQgS0VZCiAgICAgICAga2V5LnRyYW5zZmVyKGRlc3RGb3VuZGF0aW9uLCBrZXkuYmFsYW5jZU9mKHRoaXMpKTsKCiAgICAgICAgLy8gb3duZXIgLT4gZGVzdEZvdW5kYXRpb24KICAgICAgICBrZXkuc2V0T3duZXIoZGVzdEZvdW5kYXRpb24pOwogICAgfQoKCiAgICAvLyBAbm90aWNlIFRoaXMgbWV0aG9kIGNhbiBiZSB1c2VkIGJ5IHRoZSBjb250cm9sbGVyIHRvIGV4dHJhY3QgbWlzdGFrZW5seQogICAgLy8gIHNlbnQgdG9rZW5zIHRvIHRoaXMgY29udHJhY3QuCiAgICAvLyBAcGFyYW0gZHN0IFRoZSBhZGRyZXNzIHRoYXQgd2lsbCBiZSByZWNlaXZpbmcgdGhlIHRva2VucwogICAgLy8gQHBhcmFtIHdhZCBUaGUgYW1vdW50IG9mIHRva2VucyB0byB0cmFuc2ZlcgogICAgLy8gQHBhcmFtIF90b2tlbiBUaGUgYWRkcmVzcyBvZiB0aGUgdG9rZW4gY29udHJhY3QgdGhhdCB5b3Ugd2FudCB0byByZWNvdmVyCiAgICBmdW5jdGlvbiB0cmFuc2ZlclRva2VucyhhZGRyZXNzIGRzdCwgdWludCB3YWQsIGFkZHJlc3MgX3Rva2VuKSBwdWJsaWMgYXV0aCBub3RlIHsKICAgICAgICBFUkMyMCB0b2tlbiA9IEVSQzIwKF90b2tlbik7CiAgICAgICAgdG9rZW4udHJhbnNmZXIoZHN0LCB3YWQpOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1bW1hcnkoKWNvbnN0YW50IHJldHVybnMoCiAgICAgICAgdWludDEyOCBfc29sZCwKICAgICAgICB1aW50IF9zdGFydFRpbWUsCiAgICAgICAgdWludCBfZW5kVGltZSkKICAgICAgICB7CiAgICAgICAgX3NvbGQgPSBzb2xkOwogICAgICAgIF9zdGFydFRpbWUgPSBzdGFydFRpbWU7CiAgICAgICAgX2VuZFRpbWUgPSBlbmRUaW1lOwogICAgICAgIHJldHVybjsKICAgIH0KCn0='.
	

]
