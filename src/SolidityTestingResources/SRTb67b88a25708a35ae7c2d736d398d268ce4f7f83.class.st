Class {
	#name : #SRTb67b88a25708a35ae7c2d736d398d268ce4f7f83,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTb67b88a25708a35ae7c2d736d398d268ce4f7f83 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgovLyBjb3B5cmlnaHQgPHNwYW4gY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSJhYWM5YzVjNGRlY2JjOWRlZWFlZmRlYzJjZmQ4Y2ZjN2M1YzQ4NGM5YzVjNyI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvc3Bhbj4KCmNvbnRyYWN0IFNhZmVNYXRoIHsKCiAgICAvKiBmdW5jdGlvbiBhc3NlcnQoYm9vbCBhc3NlcnRpb24pIGludGVybmFsIHsgKi8KICAgIC8qICAgaWYgKCFhc3NlcnRpb24pIHsgKi8KICAgIC8qICAgICB0aHJvdzsgKi8KICAgIC8qICAgfSAqLwogICAgLyogfSAgICAgIC8vIGFzc2VydCBubyBsb25nZXIgbmVlZGVkIG9uY2Ugc29saWRpdHkgaXMgb24gMC40LjEwICovCgogICAgZnVuY3Rpb24gc2FmZUFkZCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgcHVyZSBpbnRlcm5hbCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgdWludDI1NiB6ID0geCArIHk7CiAgICAgIGFzc2VydCgoeiA+PSB4KSAmJiAoeiA+PSB5KSk7CiAgICAgIHJldHVybiB6OwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVTdWJ0cmFjdCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgcHVyZSBpbnRlcm5hbCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgYXNzZXJ0KHggPj0geSk7CiAgICAgIHVpbnQyNTYgeiA9IHggLSB5OwogICAgICByZXR1cm4gejsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlTXVsdCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgcHVyZSBpbnRlcm5hbCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgdWludDI1NiB6ID0geCAqIHk7CiAgICAgIGFzc2VydCgoeCA9PSAwKXx8KHoveCA9PSB5KSk7CiAgICAgIHJldHVybiB6OwogICAgfQoKfQoKY29udHJhY3QgQmFzaWNBY2Nlc3NDb250cm9sIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgLy8gYWRkcmVzc1tdIHB1YmxpYyBtb2RlcmF0b3JzOwogICAgdWludDE2IHB1YmxpYyB0b3RhbE1vZGVyYXRvcnMgPSAwOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgbW9kZXJhdG9yczsKICAgIGJvb2wgcHVibGljIGlzTWFpbnRhaW5pbmcgPSB0cnVlOwoKICAgIGZ1bmN0aW9uIEJhc2ljQWNjZXNzQ29udHJvbCgpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlNb2RlcmF0b3JzKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lciB8fCBtb2RlcmF0b3JzW21zZy5zZW5kZXJdID09IHRydWUpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgaXNBY3RpdmUgewogICAgICAgIHJlcXVpcmUoIWlzTWFpbnRhaW5pbmcpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gQ2hhbmdlT3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGlmIChfbmV3T3duZXIgIT0gYWRkcmVzcygwKSkgewogICAgICAgICAgICBvd25lciA9IF9uZXdPd25lcjsKICAgICAgICB9CiAgICB9CgoKICAgIGZ1bmN0aW9uIEFkZE1vZGVyYXRvcihhZGRyZXNzIF9uZXdNb2RlcmF0b3IpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGlmIChtb2RlcmF0b3JzW19uZXdNb2RlcmF0b3JdID09IGZhbHNlKSB7CiAgICAgICAgICAgIG1vZGVyYXRvcnNbX25ld01vZGVyYXRvcl0gPSB0cnVlOwogICAgICAgICAgICB0b3RhbE1vZGVyYXRvcnMgKz0gMTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIFJlbW92ZU1vZGVyYXRvcihhZGRyZXNzIF9vbGRNb2RlcmF0b3IpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGlmIChtb2RlcmF0b3JzW19vbGRNb2RlcmF0b3JdID09IHRydWUpIHsKICAgICAgICAgICAgbW9kZXJhdG9yc1tfb2xkTW9kZXJhdG9yXSA9IGZhbHNlOwogICAgICAgICAgICB0b3RhbE1vZGVyYXRvcnMgLT0gMTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gVXBkYXRlTWFpbnRhaW5pbmcoYm9vbCBfaXNNYWludGFpbmluZykgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgaXNNYWludGFpbmluZyA9IF9pc01haW50YWluaW5nOwogICAgfQp9CgppbnRlcmZhY2UgVG9rZW5SZWNpcGllbnQgeyAKICAgIGZ1bmN0aW9uIHJlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW4sIGJ5dGVzIF9leHRyYURhdGEpIHB1YmxpYzsgCn0KCmNvbnRyYWN0IFRva2VuRVJDMjAgewogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZU9mOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dhbmNlOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludDI1NiB2YWx1ZSk7CgogICAgZnVuY3Rpb24gX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaW50ZXJuYWwgewogICAgICAgIHJlcXVpcmUoX3RvICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbX2Zyb21dID49IF92YWx1ZSk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VPZltfdG9dKTsKICAgICAgICB1aW50IHByZXZpb3VzQmFsYW5jZXMgPSBiYWxhbmNlT2ZbX2Zyb21dICsgYmFsYW5jZU9mW190b107CiAgICAgICAgYmFsYW5jZU9mW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgYmFsYW5jZU9mW190b10gKz0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgYXNzZXJ0KGJhbGFuY2VPZltfZnJvbV0gKyBiYWxhbmNlT2ZbX3RvXSA9PSBwcmV2aW91c0JhbGFuY2VzKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyB7CiAgICAgICAgX3RyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSk7CiAgICAgICAgYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgX3RyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7IAogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2FuY2VbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgVG9rZW5SZWNpcGllbnQgc3BlbmRlciA9IFRva2VuUmVjaXBpZW50KF9zcGVuZGVyKTsKICAgICAgICBpZiAoYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKSkgewogICAgICAgICAgICBzcGVuZGVyLnJlY2VpdmVBcHByb3ZhbChtc2cuc2VuZGVyLCBfdmFsdWUsIHRoaXMsIF9leHRyYURhdGEpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW21zZy5zZW5kZXJdID49IF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICB0b3RhbFN1cHBseSAtPSBfdmFsdWU7CiAgICAgICAgQnVybihtc2cuc2VuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGJ1cm5Gcm9tKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbX2Zyb21dID49IF92YWx1ZSk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSk7CiAgICAgICAgYmFsYW5jZU9mW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgdG90YWxTdXBwbHkgLT0gX3ZhbHVlOwogICAgICAgIEJ1cm4oX2Zyb20sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0KCmNvbnRyYWN0IFBheW1lbnRJbnRlcmZhY2UgewogICAgZnVuY3Rpb24gY3JlYXRlQ2FzdGxlKGFkZHJlc3MgX3RyYWluZXIsIHVpbnQgX3Rva2Vucywgc3RyaW5nIF9uYW1lLCB1aW50NjQgX2ExLCB1aW50NjQgX2EyLCB1aW50NjQgX2EzLCB1aW50NjQgX3MxLCB1aW50NjQgX3MyLCB1aW50NjQgX3MzKSBwdWJsaWMgcmV0dXJucyh1aW50KTsKICAgIGZ1bmN0aW9uIGNhdGNoTW9uc3RlcihhZGRyZXNzIF90cmFpbmVyLCB1aW50IF90b2tlbnMsIHVpbnQzMiBfY2xhc3NJZCwgc3RyaW5nIF9uYW1lKSBwdWJsaWMgcmV0dXJucyh1aW50KTsKICAgIGZ1bmN0aW9uIHBheVNlcnZpY2UoYWRkcmVzcyBfdHJhaW5lciwgdWludCBfdG9rZW5zLCB1aW50MzIgX3R5cGUsIHN0cmluZyBfdGV4dCwgdWludDY0IF9wYXJhbTEsIHVpbnQ2NCBfcGFyYW0yLCB1aW50NjQgX3BhcmFtMykgcHVibGljIHJldHVybnModWludCk7Cn0KCmNvbnRyYWN0IEV0aGVyZW1vblRva2VuIGlzIEJhc2ljQWNjZXNzQ29udHJvbCwgVG9rZW5FUkMyMCB7CiAgICAvLyBtZXRhZGF0YQogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkV0aGVyZW1vbiI7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJFTU9OIjsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gODsKICAgIHN0cmluZyBwdWJsaWMgdmVyc2lvbiA9ICIxLjAiOwogICAgCiAgICAvLyBkZXBvc2l0IGFkZHJlc3MKICAgIGFkZHJlc3MgcHVibGljIGluR2FtZVJld2FyZEFkZHJlc3M7CiAgICBhZGRyZXNzIHB1YmxpYyB1c2VyR3Jvd1Bvb2xBZGRyZXNzOwogICAgYWRkcmVzcyBwdWJsaWMgZGV2ZWxvcGVyQWRkcmVzczsKICAgIAogICAgLy8gRXRoZXJlbW9uIHBheW1lbnQKICAgIGFkZHJlc3MgcHVibGljIHBheW1lbnRDb250cmFjdDsKICAgIAogICAgLy8gZm9yIGZ1dHVyZSBmZWF0dXJlCiAgICB1aW50MjU2IHB1YmxpYyBzZWxsUHJpY2U7CiAgICB1aW50MjU2IHB1YmxpYyBidXlQcmljZTsKICAgIGJvb2wgcHVibGljIHRyYWRpbmcgPSBmYWxzZTsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGZyb3plbkFjY291bnQ7CiAgICBldmVudCBGcm96ZW5GdW5kcyhhZGRyZXNzIHRhcmdldCwgYm9vbCBmcm96ZW4pOwogICAgCiAgICBtb2RpZmllciBpc1RyYWRpbmcgewogICAgICAgIHJlcXVpcmUodHJhZGluZyA9PSB0cnVlIHx8IG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIG1vZGlmaWVyIHJlcXVpcmVQYXltZW50Q29udHJhY3QgewogICAgICAgIHJlcXVpcmUocGF5bWVudENvbnRyYWN0ICE9IGFkZHJlc3MoMCkpOwogICAgICAgIF87ICAgICAgICAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSBwdWJsaWMge30KCiAgICAvLyBjb25zdHJ1Y3RvciAgICAKICAgIGZ1bmN0aW9uIEV0aGVyZW1vblRva2VuKGFkZHJlc3MgX2luR2FtZVJld2FyZEFkZHJlc3MsIGFkZHJlc3MgX3VzZXJHcm93UG9vbEFkZHJlc3MsIGFkZHJlc3MgX2RldmVsb3BlckFkZHJlc3MsIGFkZHJlc3MgX3BheW1lbnRDb250cmFjdCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKF9pbkdhbWVSZXdhcmRBZGRyZXNzICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoX3VzZXJHcm93UG9vbEFkZHJlc3MgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfZGV2ZWxvcGVyQWRkcmVzcyAhPSBhZGRyZXNzKDApKTsKICAgICAgICBpbkdhbWVSZXdhcmRBZGRyZXNzID0gX2luR2FtZVJld2FyZEFkZHJlc3M7CiAgICAgICAgdXNlckdyb3dQb29sQWRkcmVzcyA9IF91c2VyR3Jvd1Bvb2xBZGRyZXNzOwogICAgICAgIGRldmVsb3BlckFkZHJlc3MgPSBfZGV2ZWxvcGVyQWRkcmVzczsKCiAgICAgICAgYmFsYW5jZU9mW2luR2FtZVJld2FyZEFkZHJlc3NdID0gMTQwMDAwMDAgKiAxMCoqdWludChkZWNpbWFscyk7CiAgICAgICAgYmFsYW5jZU9mW3VzZXJHcm93UG9vbEFkZHJlc3NdID0gNTAwMDAwMCAqIDEwKip1aW50KGRlY2ltYWxzKTsKICAgICAgICBiYWxhbmNlT2ZbZGV2ZWxvcGVyQWRkcmVzc10gPSAxMDAwMDAwICogMTAqKnVpbnQoZGVjaW1hbHMpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gYmFsYW5jZU9mW2luR2FtZVJld2FyZEFkZHJlc3NdICsgYmFsYW5jZU9mW3VzZXJHcm93UG9vbEFkZHJlc3NdICsgYmFsYW5jZU9mW2RldmVsb3BlckFkZHJlc3NdOwogICAgICAgIHBheW1lbnRDb250cmFjdCA9IF9wYXltZW50Q29udHJhY3Q7CiAgICB9CiAgICAKICAgIC8vIG1vZGVyYXRvcnMKICAgIGZ1bmN0aW9uIHNldEFkZHJlc3MoYWRkcmVzcyBfaW5HYW1lUmV3YXJkQWRkcmVzcywgYWRkcmVzcyBfdXNlckdyb3dQb29sQWRkcmVzcywgYWRkcmVzcyBfZGV2ZWxvcGVyQWRkcmVzcywgYWRkcmVzcyBfcGF5bWVudENvbnRyYWN0KSBvbmx5TW9kZXJhdG9ycyBleHRlcm5hbCB7CiAgICAgICAgaW5HYW1lUmV3YXJkQWRkcmVzcyA9IF9pbkdhbWVSZXdhcmRBZGRyZXNzOwogICAgICAgIHVzZXJHcm93UG9vbEFkZHJlc3MgPSBfdXNlckdyb3dQb29sQWRkcmVzczsKICAgICAgICBkZXZlbG9wZXJBZGRyZXNzID0gX2RldmVsb3BlckFkZHJlc3M7CiAgICAgICAgcGF5bWVudENvbnRyYWN0ID0gX3BheW1lbnRDb250cmFjdDsKICAgIH0KICAgIAogICAgLy8gcHVibGljCiAgICBmdW5jdGlvbiB3aXRoZHJhd0V0aGVyKGFkZHJlc3MgX3NlbmRUbywgdWludCBfYW1vdW50KSBvbmx5TW9kZXJhdG9ycyBleHRlcm5hbCB7CiAgICAgICAgaWYgKF9hbW91bnQgPiB0aGlzLmJhbGFuY2UpIHsKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgfQogICAgICAgIF9zZW5kVG8udHJhbnNmZXIoX2Ftb3VudCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGludGVybmFsIHsKICAgICAgICByZXF1aXJlIChfdG8gIT0gMHgwKTsKICAgICAgICByZXF1aXJlIChiYWxhbmNlT2ZbX2Zyb21dID4gX3ZhbHVlKTsKICAgICAgICByZXF1aXJlIChiYWxhbmNlT2ZbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VPZltfdG9dKTsKICAgICAgICByZXF1aXJlKCFmcm96ZW5BY2NvdW50W19mcm9tXSk7CiAgICAgICAgcmVxdWlyZSghZnJvemVuQWNjb3VudFtfdG9dKTsKICAgICAgICBiYWxhbmNlT2ZbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICBiYWxhbmNlT2ZbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZnJlZXplQWNjb3VudChhZGRyZXNzIF90YXJnZXQsIGJvb2wgX2ZyZWV6ZSkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgZnJvemVuQWNjb3VudFtfdGFyZ2V0XSA9IF9mcmVlemU7CiAgICAgICAgRnJvemVuRnVuZHMoX3RhcmdldCwgX2ZyZWV6ZSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGJ1eSgpIHBheWFibGUgaXNUcmFkaW5nIHB1YmxpYyB7CiAgICAgICAgdWludCBhbW91bnQgPSBtc2cudmFsdWUgLyBidXlQcmljZTsKICAgICAgICBfdHJhbnNmZXIodGhpcywgbXNnLnNlbmRlciwgYW1vdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZWxsKHVpbnQyNTYgYW1vdW50KSBpc1RyYWRpbmcgcHVibGljIHsKICAgICAgICByZXF1aXJlKHRoaXMuYmFsYW5jZSA+PSBhbW91bnQgKiBzZWxsUHJpY2UpOwogICAgICAgIF90cmFuc2Zlcihtc2cuc2VuZGVyLCB0aGlzLCBhbW91bnQpOwogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoYW1vdW50ICogc2VsbFByaWNlKTsKICAgIH0KICAgIAogICAgLy8gRXRoZXJlbW9uIAogICAgZnVuY3Rpb24gY3JlYXRlQ2FzdGxlKHVpbnQgX3Rva2Vucywgc3RyaW5nIF9uYW1lLCB1aW50NjQgX2ExLCB1aW50NjQgX2EyLCB1aW50NjQgX2EzLCB1aW50NjQgX3MxLCB1aW50NjQgX3MyLCB1aW50NjQgX3MzKSBpc0FjdGl2ZSByZXF1aXJlUGF5bWVudENvbnRyYWN0IGV4dGVybmFsIHsKICAgICAgICBpZiAoX3Rva2VucyA+IGJhbGFuY2VPZlttc2cuc2VuZGVyXSkKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgUGF5bWVudEludGVyZmFjZSBwYXltZW50ID0gUGF5bWVudEludGVyZmFjZShwYXltZW50Q29udHJhY3QpOwogICAgICAgIHVpbnQgZGVkdWN0ZWRUb2tlbnMgPSBwYXltZW50LmNyZWF0ZUNhc3RsZShtc2cuc2VuZGVyLCBfdG9rZW5zLCBfbmFtZSwgX2ExLCBfYTIsIF9hMywgX3MxLCBfczIsIF9zMyk7CiAgICAgICAgaWYgKGRlZHVjdGVkVG9rZW5zID09IDAgfHwgZGVkdWN0ZWRUb2tlbnMgPiBfdG9rZW5zKQogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgaW5HYW1lUmV3YXJkQWRkcmVzcywgZGVkdWN0ZWRUb2tlbnMpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBjYXRjaE1vbnN0ZXIodWludCBfdG9rZW5zLCB1aW50MzIgX2NsYXNzSWQsIHN0cmluZyBfbmFtZSkgaXNBY3RpdmUgcmVxdWlyZVBheW1lbnRDb250cmFjdCBleHRlcm5hbCB7CiAgICAgICAgaWYgKF90b2tlbnMgPiBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0pCiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIFBheW1lbnRJbnRlcmZhY2UgcGF5bWVudCA9IFBheW1lbnRJbnRlcmZhY2UocGF5bWVudENvbnRyYWN0KTsKICAgICAgICB1aW50IGRlZHVjdGVkVG9rZW5zID0gcGF5bWVudC5jYXRjaE1vbnN0ZXIobXNnLnNlbmRlciwgX3Rva2VucywgX2NsYXNzSWQsIF9uYW1lKTsKICAgICAgICBpZiAoZGVkdWN0ZWRUb2tlbnMgPT0gMCB8fCBkZWR1Y3RlZFRva2VucyA+IF90b2tlbnMpCiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIF90cmFuc2Zlcihtc2cuc2VuZGVyLCBpbkdhbWVSZXdhcmRBZGRyZXNzLCBkZWR1Y3RlZFRva2Vucyk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHBheVNlcnZpY2UodWludCBfdG9rZW5zLCB1aW50MzIgX3R5cGUsIHN0cmluZyBfdGV4dCwgdWludDY0IF9wYXJhbTEsIHVpbnQ2NCBfcGFyYW0yLCB1aW50NjQgX3BhcmFtMykgaXNBY3RpdmUgcmVxdWlyZVBheW1lbnRDb250cmFjdCBleHRlcm5hbCB7CiAgICAgICAgaWYgKF90b2tlbnMgPiBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0pCiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIFBheW1lbnRJbnRlcmZhY2UgcGF5bWVudCA9IFBheW1lbnRJbnRlcmZhY2UocGF5bWVudENvbnRyYWN0KTsKICAgICAgICB1aW50IGRlZHVjdGVkVG9rZW5zID0gcGF5bWVudC5wYXlTZXJ2aWNlKG1zZy5zZW5kZXIsIF90b2tlbnMsIF90eXBlLCBfdGV4dCwgX3BhcmFtMSwgX3BhcmFtMiwgX3BhcmFtMyk7CiAgICAgICAgaWYgKGRlZHVjdGVkVG9rZW5zID09IDAgfHwgZGVkdWN0ZWRUb2tlbnMgPiBfdG9rZW5zKQogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgaW5HYW1lUmV3YXJkQWRkcmVzcywgZGVkdWN0ZWRUb2tlbnMpOwogICAgfQp9'.
	

]
