Class {
	#name : #SRTf528d0e1e11edee40ca3724bd9fd923bb0235cc3,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTf528d0e1e11edee40ca3724bd9fd923bb0235cc3 >> base64 [
	^ 'LyoKCiAgQ29weXJpZ2h0IDIwMTcgVEdDIEZvdW5kYXRpb24uCgogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCiAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCiovCnByYWdtYSBzb2xpZGl0eSBeMC40LjExOwovKioKICogTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcwogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIG1heDY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW42NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtYXgyNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBhc3NlcnQoYm9vbCBhc3NlcnRpb24pIGludGVybmFsIHsKICAgIGlmICghYXNzZXJ0aW9uKSB7CiAgICAgIHRocm93OwogICAgfQogIH0KfQovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKfQovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50IHZhbHVlKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLiAKICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBiYWxhbmNlczsKCiAgLyoqCiAgICogQGRldiBGaXggZm9yIHRoZSBFUkMyMCBzaG9ydCBhZGRyZXNzIGF0dGFjay4KICAgKi8KICBtb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludCBzaXplKSB7CiAgICAgaWYobXNnLmRhdGEubGVuZ3RoIDwgc2l6ZSArIDQpIHsKICAgICAgIHRocm93OwogICAgIH0KICAgICBfOwogIH0KCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4gCiAgKiBAcmV0dXJuIEFuIHVpbnQgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1hbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcnQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgQmFzaWNUb2tlbiwgRVJDMjAgewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIGFsbG93ZWQ7CgoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgzICogMzIpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAvLyBpZiAoX3ZhbHVlID4gX2FsbG93YW5jZSkgdGhyb3c7CgogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWFobGYgb2YgbXNnLnNlbmRlci4KICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSB7CgogICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAvLyAgYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgaWYgKChfdmFsdWUgIT0gMCkgJiYgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdICE9IDApKSB0aHJvdzsKCiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGFuIGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcmV0dXJuIEEgdWludCBzcGVjaWZpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKfQoKCi8vLyBAdGl0bGUgVEdDIFByb3RvY29sIFRva2VuLgovLy8gRm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhpcyB0b2tlbiBzYWxlLCBwbGVhc2UgdmlzaXQgaHR0cDovL21panVueXVuLmNvbQovLy8gQGF1dGhvciBsZW5nZmVuZyAtIDw8YSBocmVmPSIvY2RuLWNnaS9sL2VtYWlsLXByb3RlY3Rpb24iIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iYzBhY2E1YWVhN2E2YTVhZWE3ODBhZGE5YWFiNWFlYjliNWFlZWVhM2FmYWQiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L2E+PiwgdGlhbmxvbmcgLSA8PGEgaHJlZj0iL2Nkbi1jZ2kvbC9lbWFpbC1wcm90ZWN0aW9uIiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9ImY2ODI5Zjk3OTg5YTk5OTg5MWI2OWI5ZjljODM5ODhmODM5OGQ4OTU5OTliIj5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9hPj4uCmNvbnRyYWN0IFRHQ1Rva2VuIGlzIFN0YW5kYXJkVG9rZW4gewogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBOQU1FID0gIlRpZ2VyY29pbiI7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IFNZTUJPTCA9ICJUR0MiOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgREVDSU1BTFMgPSAxODsKCiAgICAvLy8gRHVyaW5nIHRva2VuIHNhbGUsIHdlIHVzZSBvbmUgY29uc2lzdGVudCBwcmljZTogMTAwMCBUR0MvRVRILgogICAgLy8vIFdlIHNwbGl0IHRoZSBlbnRpcmUgdG9rZW4gc2FsZSBwZXJpb2QgaW50byAzIHBoYXNlcywgZWFjaAogICAgLy8vIHBoYXNlIGhhcyBhIGRpZmZlcmVudCBib251cyBzZXR0aW5nIGFzIHNwZWNpZmllZCBpbiBgYm9udXNQZXJjZW50YWdlc2AuCiAgICAvLy8gVGhlIHJlYWwgcHJpY2UgZm9yIHBoYXNlIGkgaXMgYCgxICsgYm9udXNQZXJjZW50YWdlc1tpXS8xMDAuMCkgKiBCQVNFX1JBVEVgLgogICAgLy8vIFRoZSBmaXJzdCBwaGFzZSBvciBlYXJseS1iaXJkIHBoYXNlIGhhcyBhIG11Y2ggaGlnaGVyIGJvbnVzLgogICAgdWludDhbMTBdIHB1YmxpYyBib251c1BlcmNlbnRhZ2VzID0gWwogICAgICAgIDIwLAogICAgICAgIDEwLAogICAgICAgIDAKICAgIF07CgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgTlVNX09GX1BIQVNFID0gMzsKICAKICAgIC8vLyBFYWNoIHBoYXNlIGNvbnRhaW5zIGV4YWN0bHkgMjkwMDAgRXRoZXJldW0gYmxvY2tzLCB3aGljaCBpcyByb3VnaGx5IDcgZGF5cywKICAgIC8vLyB3aGljaCBtYWtlcyB0aGlzIDMtcGhhc2Ugc2FsZSBwZXJpb2Qgcm91Z2hseSAyMSBkYXlzLgogICAgLy8vIFNlZSBodHRwczovL3d3dy5ldGhlcmV1bS5vcmcvY3Jvd2RzYWxlI3NjaGVkdWxpbmctYS1jYWxsCiAgICB1aW50MTYgcHVibGljIGNvbnN0YW50IEJMT0NLU19QRVJfUEhBU0UgPSAyOTAwMDsKCiAgICAvLy8gVGhpcyBpcyB3aGVyZSB3ZSBob2xkIEVUSCBkdXJpbmcgdGhpcyB0b2tlbiBzYWxlLiBXZSB3aWxsIG5vdCB0cmFuc2ZlciBhbnkgRXRoZXIKICAgIC8vLyBvdXQgb2YgdGhpcyBhZGRyZXNzIGJlZm9yZSB3ZSBpbnZvY2F0ZSB0aGUgYGNsb3NlYCBmdW5jdGlvbiB0byBmaW5hbGl6ZSB0aGUgc2FsZS4gCiAgICAvLy8gVGhpcyBwcm9taXNlIGlzIG5vdCBndWFucmFudGVlZCBieSBzbWFydCBjb250cmFjdCBieSBjYW4gYmUgdmVyaWZpZWQgd2l0aCBwdWJsaWMKICAgIC8vLyBFdGhlcmV1bSB0cmFuc2FjdGlvbnMgZGF0YSBhdmFpbGFibGUgb24gc2V2ZXJhbCBibG9ja2NoYWluIGJyb3dzZXJzLgogICAgLy8vIFRoaXMgaXMgdGhlIG9ubHkgYWRkcmVzcyBmcm9tIHdoaWNoIGBzdGFydGAgYW5kIGBjbG9zZWAgY2FuIGJlIGludm9jYXRlZC4KICAgIC8vLwogICAgLy8vIE5vdGU6IHRoaXMgd2lsbCBiZSBpbml0aWFsaXplZCBkdXJpbmcgdGhlIGNvbnRyYWN0IGRlcGxveW1lbnQuCiAgICBhZGRyZXNzIHB1YmxpYyB0YXJnZXQ7CgogICAgLy8vIGBmaXJzdGJsb2NrYCBzcGVjaWZpZXMgZnJvbSB3aGljaCBibG9jayBvdXIgdG9rZW4gc2FsZSBzdGFydHMuCiAgICAvLy8gVGhpcyBjYW4gb25seSBiZSBtb2RpZmllZCBvbmNlIGJ5IHRoZSBvd25lciBvZiBgdGFyZ2V0YCBhZGRyZXNzLgogICAgdWludCBwdWJsaWMgZmlyc3RibG9jayA9IDA7CgogICAgLy8vIEluZGljYXRlcyB3aGV0aGVyIHVuc29sZCB0b2tlbiBoYXZlIGJlZW4gaXNzdWVkLiBUaGlzIHBhcnQgb2YgVEdDIHRva2VuCiAgICAvLy8gaXMgbWFuYWdlZCBieSB0aGUgcHJvamVjdCB0ZWFtIGFuZCBpcyBpc3N1ZWQgZGlyZWN0bHkgdG8gYHRhcmdldGAuCiAgICBib29sIHB1YmxpYyB1bnNvbGRUb2tlbklzc3VlZCA9IGZhbHNlOwoKICAgIC8vLyBNaW5pbXVtIGFtb3VudCBvZiBmdW5kcyB0byBiZSByYWlzZWQgZm9yIHRoZSBzYWxlIHRvIHN1Y2NlZWQuIAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgR09BTCA9IDMwMDAgZXRoZXI7CgogICAgLy8vIE1heGltdW0gYW1vdW50IG9mIGZ1bmQgdG8gYmUgcmFpc2VkLCB0aGUgc2FsZSBlbmRzIG9uIHJlYWNoaW5nIHRoaXMgYW1vdW50LgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgSEFSRF9DQVAgPSA0NTAwIGV0aGVyOwoKICAgIC8vLyBCYXNlIGV4Y2hhbmdlIHJhdGUgaXMgc2V0IHRvIDEgRVRIID0gMTAwMDAgVEdDLgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgQkFTRV9SQVRFID0gMTAwMDA7CgogICAgLy8vIEEgc2ltcGxlIHN0YXQgZm9yIGVtaXR0aW5nIGV2ZW50cy4KICAgIHVpbnQgcHVibGljIHRvdGFsRXRoUmVjZWl2ZWQgPSAwOwoKICAgIC8vLyBJc3N1ZSBldmVudCBpbmRleCBzdGFydGluZyBmcm9tIDAuCiAgICB1aW50IHB1YmxpYyBpc3N1ZUluZGV4ID0gMDsKCiAgICAvKiAKICAgICAqIEVWRU5UUwogICAgICovCgogICAgLy8vIEVtaXR0ZWQgb25seSBvbmNlIGFmdGVyIHRva2VuIHNhbGUgc3RhcnRzLgogICAgZXZlbnQgU2FsZVN0YXJ0ZWQoKTsKCiAgICAvLy8gRW1pdHRlZCBvbmx5IG9uY2UgYWZ0ZXIgdG9rZW4gc2FsZSBlbmRlZCAoYWxsIHRva2VuIGlzc3VlZCkuCiAgICBldmVudCBTYWxlRW5kZWQoKTsKCiAgICAvLy8gRW1pdHRlZCB3aGVuIGEgZnVuY3Rpb24gaXMgaW52b2NhdGVkIGJ5IHVuYXV0aG9yaXplZCBhZGRyZXNzZXMuCiAgICBldmVudCBJbnZhbGlkQ2FsbGVyKGFkZHJlc3MgY2FsbGVyKTsKCiAgICAvLy8gRW1pdHRlZCB3aGVuIGEgZnVuY3Rpb24gaXMgaW52b2NhdGVkIHdpdGhvdXQgdGhlIHNwZWNpZmllZCBwcmVjb25kaXRpb25zLgogICAgLy8vIFRoaXMgZXZlbnQgd2lsbCBub3QgY29tZSBhbG9uZSB3aXRoIGFuIGV4Y2VwdGlvbi4KICAgIGV2ZW50IEludmFsaWRTdGF0ZShieXRlcyBtc2cpOwoKICAgIC8vLyBFbWl0dGVkIGZvciBlYWNoIHN1Y3Vlc3NmdWwgdG9rZW4gcHVyY2hhc2UuCiAgICBldmVudCBJc3N1ZSh1aW50IGlzc3VlSW5kZXgsIGFkZHJlc3MgYWRkciwgdWludCBldGhBbW91bnQsIHVpbnQgdG9rZW5BbW91bnQpOwoKICAgIC8vLyBFbWl0dGVkIGlmIHRoZSB0b2tlbiBzYWxlIHN1Y2NlZWRlZC4KICAgIGV2ZW50IFNhbGVTdWNjZWVkZWQoKTsKCiAgICAvLy8gRW1pdHRlZCBpZiB0aGUgdG9rZW4gc2FsZSBmYWlsZWQuCiAgICAvLy8gV2hlbiB0b2tlbiBzYWxlIGZhaWxlZCwgYWxsIEV0aGVyIHdpbGwgYmUgcmV0dXJuIHRvIHRoZSBvcmlnaW5hbCBwdXJjaGFzaW5nCiAgICAvLy8gYWRkcmVzcyB3aXRoIGEgbWlub3IgZGVkdWN0aW9uIG9mIHRyYW5zYWN0aW9uIGZlZe+8iGdhcykKICAgIGV2ZW50IFNhbGVGYWlsZWQoKTsKCiAgICAvKgogICAgICogTU9ESUZJRVJTCiAgICAgKi8KCiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIGlmICh0YXJnZXQgPT0gbXNnLnNlbmRlcikgewogICAgICAgICAgICBfOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEludmFsaWRDYWxsZXIobXNnLnNlbmRlcik7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgIH0KCiAgICBtb2RpZmllciBiZWZvcmVTdGFydCB7CiAgICAgICAgaWYgKCFzYWxlU3RhcnRlZCgpKSB7CiAgICAgICAgICAgIF87CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgSW52YWxpZFN0YXRlKCJTYWxlIGhhcyBub3Qgc3RhcnRlZCB5ZXQiKTsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgfQoKICAgIG1vZGlmaWVyIGluUHJvZ3Jlc3MgewogICAgICAgIGlmIChzYWxlU3RhcnRlZCgpICYmICFzYWxlRW5kZWQoKSkgewogICAgICAgICAgICBfOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEludmFsaWRTdGF0ZSgiU2FsZSBpcyBub3QgaW4gcHJvZ3Jlc3MiKTsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgfQoKICAgIG1vZGlmaWVyIGFmdGVyRW5kIHsKICAgICAgICBpZiAoc2FsZUVuZGVkKCkpIHsKICAgICAgICAgICAgXzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBJbnZhbGlkU3RhdGUoIlNhbGUgaXMgbm90IGVuZGVkIHlldCIpOwogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBDT05TVFJVQ1RPUiAKICAgICAqIAogICAgICogQGRldiBJbml0aWFsaXplIHRoZSBUR0MgVG9rZW4KICAgICAqIEBwYXJhbSBfdGFyZ2V0IFRoZSBlc2Nyb3cgYWNjb3VudCBhZGRyZXNzLCBhbGwgZXRoZXJzIHdpbGwKICAgICAqIGJlIHNlbnQgdG8gdGhpcyBhZGRyZXNzLgogICAgICogVGhpcyBhZGRyZXNzIHdpbGwgYmUgOiAweDc3OGI4MGE1QTYzZmYwOTYyNzQwNzNCMEViNGQyREFFRTdiMDU5NjcKICAgICAqLwogICAgZnVuY3Rpb24gVEdDVG9rZW4oYWRkcmVzcyBfdGFyZ2V0KSB7CiAgICAgICAgdGFyZ2V0ID0gX3RhcmdldDsKICAgICAgICB0b3RhbFN1cHBseSA9IDEwICoqIDI2OwogICAgICAgIGJhbGFuY2VzW3RhcmdldF0gPSB0b3RhbFN1cHBseTsKICAgIH0KCiAgICAvKgogICAgICogUFVCTElDIEZVTkNUSU9OUwogICAgICovCgogICAgLy8vIEBkZXYgU3RhcnQgdGhlIHRva2VuIHNhbGUuCiAgICAvLy8gQHBhcmFtIF9maXJzdGJsb2NrIFRoZSBibG9jayBmcm9tIHdoaWNoIHRoZSBzYWxlIHdpbGwgc3RhcnQuCiAgICBmdW5jdGlvbiBzdGFydCh1aW50IF9maXJzdGJsb2NrKSBwdWJsaWMgb25seU93bmVyIGJlZm9yZVN0YXJ0IHsKICAgICAgICBpZiAoX2ZpcnN0YmxvY2sgPD0gYmxvY2subnVtYmVyKSB7CiAgICAgICAgICAgIC8vIE11c3Qgc3BlY2lmeSBhIGJsb2NrIGluIHRoZSBmdXR1cmUuCiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KCiAgICAgICAgZmlyc3RibG9jayA9IF9maXJzdGJsb2NrOwogICAgICAgIFNhbGVTdGFydGVkKCk7CiAgICB9CgogICAgLy8vIEBkZXYgVHJpZ2dlcnMgdW5zb2xkIHRva2VucyB0byBiZSBpc3N1ZWQgdG8gYHRhcmdldGAgYWRkcmVzcy4KICAgIGZ1bmN0aW9uIGNsb3NlKCkgcHVibGljIG9ubHlPd25lciBhZnRlckVuZCB7CiAgICAgICAgaWYgKHRvdGFsRXRoUmVjZWl2ZWQgPCBHT0FMKSB7CiAgICAgICAgICAgIFNhbGVGYWlsZWQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBTYWxlU3VjY2VlZGVkKCk7CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBAZGV2IFJldHVybnMgdGhlIGN1cnJlbnQgcHJpY2UuCiAgICBmdW5jdGlvbiBwcmljZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IHRva2VucykgewogICAgICAgIHJldHVybiBjb21wdXRlVG9rZW5BbW91bnQoMSBldGhlcik7CiAgICB9CgogICAgLy8vIEBkZXYgVGhpcyBkZWZhdWx0IGZ1bmN0aW9uIGFsbG93cyB0b2tlbiB0byBiZSBwdXJjaGFzZWQgYnkgZGlyZWN0bHkKICAgIC8vLyBzZW5kaW5nIGV0aGVyIHRvIHRoaXMgc21hcnQgY29udHJhY3QuCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsKICAgICAgICBpc3N1ZVRva2VuKG1zZy5zZW5kZXIpOwogICAgfQoKICAgIC8vLyBAZGV2IElzc3VlIHRva2VuIGJhc2VkIG9uIEV0aGVyIHJlY2VpdmVkLgogICAgLy8vIEBwYXJhbSByZWNpcGllbnQgQWRkcmVzcyB0aGF0IG5ld2x5IGlzc3VlZCB0b2tlbiB3aWxsIGJlIHNlbnQgdG8uCiAgICBmdW5jdGlvbiBpc3N1ZVRva2VuKGFkZHJlc3MgcmVjaXBpZW50KSBwYXlhYmxlIGluUHJvZ3Jlc3MgewogICAgICAgIC8vIFdlIG9ubHkgYWNjZXB0IG1pbmltdW0gcHVyY2hhc2Ugb2YgMC4wMSBFVEguCiAgICAgICAgYXNzZXJ0KG1zZy52YWx1ZSA+PSAwLjAxIGV0aGVyKTsKCiAgICAgICAgLy8gV2Ugb25seSBhY2NlcHQgbWF4aW11bSBwdXJjaGFzZSBvZiAzNSBFVEguCiAgICAgICAgYXNzZXJ0KG1zZy52YWx1ZSA8PSAzNSBldGhlcik7CgogICAgICAgIC8vIFdlIG9ubHkgYWNjZXB0IHRvdGFsRXRoUmVjZWl2ZWQgPCBIQVJEX0NBUAogICAgICAgIHVpbnQgZXRoUmVjZWl2ZWQgPSB0b3RhbEV0aFJlY2VpdmVkICsgbXNnLnZhbHVlOwogICAgICAgIGFzc2VydChldGhSZWNlaXZlZCA8PSBIQVJEX0NBUCk7CgogICAgICAgIHVpbnQgdG9rZW5zID0gY29tcHV0ZVRva2VuQW1vdW50KG1zZy52YWx1ZSk7CiAgICAgICAgdG90YWxFdGhSZWNlaXZlZCA9IHRvdGFsRXRoUmVjZWl2ZWQuYWRkKG1zZy52YWx1ZSk7CiAgICAgICAgCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQodG9rZW5zKTsKICAgICAgICBiYWxhbmNlc1t0YXJnZXRdID0gYmFsYW5jZXNbdGFyZ2V0XS5zdWIodG9rZW5zKTsKCiAgICAgICAgSXNzdWUoCiAgICAgICAgICAgIGlzc3VlSW5kZXgrKywKICAgICAgICAgICAgcmVjaXBpZW50LAogICAgICAgICAgICBtc2cudmFsdWUsCiAgICAgICAgICAgIHRva2VucwogICAgICAgICk7CgogICAgICAgIGlmICghdGFyZ2V0LnNlbmQobXNnLnZhbHVlKSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICB9CgogICAgLyoKICAgICAqIElOVEVSTkFMIEZVTkNUSU9OUwogICAgICovCiAgCiAgICAvLy8gQGRldiBDb21wdXRlIHRoZSBhbW91bnQgb2YgVEdDIHRva2VuIHRoYXQgY2FuIGJlIHB1cmNoYXNlZC4KICAgIC8vLyBAcGFyYW0gZXRoQW1vdW50IEFtb3VudCBvZiBFdGhlciB0byBwdXJjaGFzZSBUR0MuCiAgICAvLy8gQHJldHVybiBBbW91bnQgb2YgVEdDIHRva2VuIHRvIHB1cmNoYXNlCiAgICBmdW5jdGlvbiBjb21wdXRlVG9rZW5BbW91bnQodWludCBldGhBbW91bnQpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQgdG9rZW5zKSB7CiAgICAgICAgdWludCBwaGFzZSA9IChibG9jay5udW1iZXIgLSBmaXJzdGJsb2NrKS5kaXYoQkxPQ0tTX1BFUl9QSEFTRSk7CgogICAgICAgIC8vIEEgc2FmZSBjaGVjawogICAgICAgIGlmIChwaGFzZSA+PSBib251c1BlcmNlbnRhZ2VzLmxlbmd0aCkgewogICAgICAgICAgICBwaGFzZSA9IGJvbnVzUGVyY2VudGFnZXMubGVuZ3RoIC0gMTsKICAgICAgICB9CgogICAgICAgIHVpbnQgdG9rZW5CYXNlID0gZXRoQW1vdW50Lm11bChCQVNFX1JBVEUpOwogICAgICAgIHVpbnQgdG9rZW5Cb251cyA9IHRva2VuQmFzZS5tdWwoYm9udXNQZXJjZW50YWdlc1twaGFzZV0pLmRpdigxMDApOwoKICAgICAgICB0b2tlbnMgPSB0b2tlbkJhc2UuYWRkKHRva2VuQm9udXMpOwogICAgfQoKICAgIC8vLyBAcmV0dXJuIHRydWUgaWYgc2FsZSBoYXMgc3RhcnRlZCwgZmFsc2Ugb3RoZXJ3aXNlLgogICAgZnVuY3Rpb24gc2FsZVN0YXJ0ZWQoKSBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIChmaXJzdGJsb2NrID4gMCAmJiBibG9jay5udW1iZXIgPj0gZmlyc3RibG9jayk7CiAgICB9CgogICAgLy8vIEByZXR1cm4gdHJ1ZSBpZiBzYWxlIGhhcyBlbmRlZCwgZmFsc2Ugb3RoZXJ3aXNlLgogICAgZnVuY3Rpb24gc2FsZUVuZGVkKCkgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBmaXJzdGJsb2NrID4gMCAmJiAoc2FsZUR1ZSgpIHx8IGhhcmRDYXBSZWFjaGVkKCkpOwogICAgfQoKICAgIC8vLyBAcmV0dXJuIHRydWUgaWYgc2FsZSBpcyBkdWUgd2hlbiB0aGUgbGFzdCBwaGFzZSBpcyBmaW5pc2hlZC4KICAgIGZ1bmN0aW9uIHNhbGVEdWUoKSBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIGJsb2NrLm51bWJlciA+PSBmaXJzdGJsb2NrICsgQkxPQ0tTX1BFUl9QSEFTRSAqIE5VTV9PRl9QSEFTRTsKICAgIH0KCiAgICAvLy8gQHJldHVybiB0cnVlIGlmIHRoZSBoYXJkIGNhcCBpcyByZWFjaGVkLgogICAgZnVuY3Rpb24gaGFyZENhcFJlYWNoZWQoKSBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHRvdGFsRXRoUmVjZWl2ZWQgPj0gSEFSRF9DQVA7CiAgICB9Cn0='.
	

]
