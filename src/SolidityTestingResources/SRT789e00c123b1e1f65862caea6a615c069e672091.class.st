Class {
	#name : #SRT789e00c123b1e1f65862caea6a615c069e672091,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT789e00c123b1e1f65862caea6a615c069e672091 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbCAKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4gCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIC8qKiAKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLiAKICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgewogICAgICB0aHJvdzsKICAgIH0KICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLiAKICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9Cgp9CgoKLyoqCiAqIEB0aXRsZSBQYXVzYWJsZQogKiBAZGV2IEJhc2UgY29udHJhY3Qgd2hpY2ggYWxsb3dzIGNoaWxkcmVuIHRvIGltcGxlbWVudCBhbiBlbWVyZ2VuY3kgc3RvcCBtZWNoYW5pc20uCiAqLwpjb250cmFjdCBQYXVzYWJsZSBpcyBPd25hYmxlIHsKICBldmVudCBQYXVzZSgpOwogIGV2ZW50IFVucGF1c2UoKTsKCiAgYm9vbCBwdWJsaWMgcGF1c2VkID0gZmFsc2U7CgoKICAvKioKICAgKiBAZGV2IG1vZGlmaWVyIHRvIGFsbG93IGFjdGlvbnMgb25seSB3aGVuIHRoZSBjb250cmFjdCBJUyBwYXVzZWQKICAgKi8KICBtb2RpZmllciB3aGVuTm90UGF1c2VkKCkgewogICAgaWYgKHBhdXNlZCkgdGhyb3c7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgTk9UIHBhdXNlZAogICAqLwogIG1vZGlmaWVyIHdoZW5QYXVzZWQgewogICAgaWYgKCFwYXVzZWQpIHRocm93OwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byBwYXVzZSwgdHJpZ2dlcnMgc3RvcHBlZCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHBhdXNlKCkgb25seU93bmVyIHdoZW5Ob3RQYXVzZWQgcmV0dXJucyAoYm9vbCkgewogICAgcGF1c2VkID0gdHJ1ZTsKICAgIFBhdXNlKCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byB1bnBhdXNlLCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHVucGF1c2UoKSBvbmx5T3duZXIgd2hlblBhdXNlZCByZXR1cm5zIChib29sKSB7CiAgICBwYXVzZWQgPSBmYWxzZTsKICAgIFVucGF1c2UoKTsKICAgIHJldHVybiB0cnVlOwogIH0KfQoKCgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKCi8qKgogKiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gbWF4NjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1heDI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9Cgp9CgoKCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4gCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIC8qKgogICAqIEBkZXYgRml4IGZvciB0aGUgRVJDMjAgc2hvcnQgYWRkcmVzcyBhdHRhY2suCiAgICovCiAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQyNTYgc2l6ZSkgewogICAgIGlmKG1zZy5kYXRhLmxlbmd0aCA8IHNpemUgKyA0KSB7CiAgICAgICB0aHJvdzsKICAgICB9CiAgICAgXzsKICB9CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgb25seVBheWxvYWRTaXplKDIgKiAzMikgewogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuIAogICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9Cgp9CgoKCi8qKgogKiBAdGl0bGUgSGVscHMgY29udHJhY3RzIGd1YXJkIGFnYWlucyByZW50cmFuY3kgYXR0YWNrcy4KICogQGF1dGhvciBSZW1jbyBCbG9lbWVuIDw8YSBocmVmPSIvY2RuLWNnaS9sL2VtYWlsLXByb3RlY3Rpb24iIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iZWU5YzhiODM4ZDgxYWVkYyI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvYT7PgC5jb20+CiAqIEBub3RpY2UgSWYgeW91IG1hcmsgYSBmdW5jdGlvbiBgbm9uUmVlbnRyYW50YCwgeW91IHNob3VsZCBhbHNvCiAqIG1hcmsgaXQgYGV4dGVybmFsYC4KICovCmNvbnRyYWN0IFJlZW50cmFuY3lHdWFyZCB7CgogIC8qKgogICAqIEBkZXYgV2UgdXNlIGEgc2luZ2xlIGxvY2sgZm9yIHRoZSB3aG9sZSBjb250cmFjdC4gCiAgICovCiAgYm9vbCBwcml2YXRlIHJlbnRyYW5jeV9sb2NrID0gZmFsc2U7CgogIC8qKgogICAqIEBkZXYgUHJldmVudHMgYSBjb250cmFjdCBmcm9tIGNhbGxpbmcgaXRzZWxmLCBkaXJlY3RseSBvciBpbmRpcmVjdGx5LgogICAqIEBub3RpY2UgSWYgeW91IG1hcmsgYSBmdW5jdGlvbiBgbm9uUmVlbnRyYW50YCwgeW91IHNob3VsZCBhbHNvCiAgICogbWFyayBpdCBgZXh0ZXJuYWxgLiBDYWxsaW5nIG9uZSBub25SZWVudHJhbnQgZnVuY3Rpb24gZnJvbQogICAqIGFub3RoZXIgaXMgbm90IHN1cHBvcnRlZC4gSW5zdGVhZCwgeW91IGNhbiBpbXBsZW1lbnQgYQogICAqIGBwcml2YXRlYCBmdW5jdGlvbiBkb2luZyB0aGUgYWN0dWFsIHdvcmssIGFuZCBhIGBleHRlcm5hbGAKICAgKiB3cmFwcGVyIG1hcmtlZCBhcyBgbm9uUmVlbnRyYW50YC4KICAgKi8KICBtb2RpZmllciBub25SZWVudHJhbnQoKSB7CiAgICBpZihyZW50cmFuY3lfbG9jayA9PSBmYWxzZSkgewogICAgICByZW50cmFuY3lfbG9jayA9IHRydWU7CiAgICAgIF87CiAgICAgIHJlbnRyYW5jeV9sb2NrID0gZmFsc2U7CiAgICB9IGVsc2UgewogICAgICB0aHJvdzsKICAgIH0KICB9Cgp9Cgpjb250cmFjdCBFdGNoUmV3YXJkIGlzIFBhdXNhYmxlLCBCYXNpY1Rva2VuLCBSZWVudHJhbmN5R3VhcmQgewoKICAgIC8vIGFkZHJlc3MgcHVibGljIG93bmVyOyAgICAgICAgICAgICAgICAvLyBPd25hYmxlCiAgICAvLyBib29sIHB1YmxpYyBwYXVzZWQgPSBmYWxzZTsgICAgICAgICAgLy8gUGF1c2FibGUKICAgIC8vIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBiYWxhbmNlczsgICAvLyBCYXNpY1Rva2VuCiAgICAvLyB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsgICAgICAgICAgICAgLy8gRVJDMjBCYXNpYwogICAgLy8gYm9vbCBwcml2YXRlIHJlbnRyYW5jeV9sb2NrID0gZmFsc2U7IC8vIFJlZW50cmFuY3lHdWFyZAoKICAgIC8vCiAgICAvLyBAZGV2IGNvbnN0YW50cwogICAgLy8KICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSAgID0gIkV0Y2ggUmV3YXJkIFRva2VuIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkVUQ0hSIjsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CgogICAgLy8KICAgIC8vIEBkZXYgdGhlIG1haW4gYWRkcmVzcyB0byBiZSBmb3J3YXJkZWQgYWxsIGV0aGVyCiAgICAvLwogICAgYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgQkVORUZJQ0lBUlkgPSAweDY1MUEzNzMxZjcxN2ExNzc3N2M5RDhkNmYxNTJBYTkyODQ5NzhFYTM7CgogICAgLy8gQGRldiBudW1iZXIgb2YgdG9rZW5zIG9uZSByZWNlaXZlcyBmb3IgZXZlcnkgMSBldGhlciB0aGV5IHNlbmQKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFBSSUNFID0gODsKCiAgICAvLyBhdmcgYmxvY2sgdGltZSA9IDE1LjI1NjkgaHR0cHM6Ly9ldGhlcnNjYW4uaW8vY2hhcnQvYmxvY2t0aW1lCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBBVkdfQkxPQ0tTXzI0SCA9IDU2NjM7ICAvLyAzNjAwICogMjQgLyAxNS4yNTY5ID0gNTY2My4wMTE0ODk4ODMyNjYKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IEFWR19CTE9DS1NfMDJXID0gNzkyODI7IC8vIDM2MDAgKiAyNCAqIDE0IC8gMTUuMjU2OSA9ICA3OTI4Mi4xNjA4NTgzNjU3MgoKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IE1BWF9FVEhFUl8yNEggPSA0MCBldGhlcjsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IEVUSEVSX0NBUCAgICAgPSAyNjYwIGV0aGVyOwoKICAgIHVpbnQgcHVibGljIHRvdGFsRXRoZXIgPSAwOwogICAgdWludCBwdWJsaWMgYmxvY2tTdGFydCA9IDA7CiAgICB1aW50IHB1YmxpYyBibG9jazI0aCAgID0gMDsKICAgIHVpbnQgcHVibGljIGJsb2NrMDJ3ICAgPSAwOwoKICAgIC8vIEBkZXYgYWRkcmVzcyBvZiB0aGUgYWN0dWFsIElDTyBjb250cmFjdCB0byBiZSBkZXBsb3llZCBsYXRlcgogICAgYWRkcmVzcyBwdWJsaWMgaWNvQ29udHJhY3QgPSAweDA7CgogICAgLy8KICAgIC8vIEBkZXYgb3duZXIgYXV0aG9yaXplZCBhZGRyZXNzZXMgdG8gcGFydGljaXBhdGUgaW4gdGhpcyBwcmUtaWNvCiAgICAvLwogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIGNvbnRyaWJ1dG9yczsKCgogICAgLy8gQGRldiBjb25zdHJ1Y3RvciBmdW5jdGlvbgogICAgZnVuY3Rpb24gRXRjaFJld2FyZCh1aW50IF9ibG9ja1N0YXJ0KSB7CiAgICAgICAgYmxvY2tTdGFydCAgPSBfYmxvY2tTdGFydDsKICAgICAgICBibG9jazI0aCA9IGJsb2NrU3RhcnQgKyBBVkdfQkxPQ0tTXzI0SDsKICAgICAgICBibG9jazAydyA9IGJsb2NrU3RhcnQgKyBBVkdfQkxPQ0tTXzAyVzsKICAgIH0KCiAgICAvLwogICAgLy8gQG5vdGljZSB0aGUgYWJpbGl0eSB0byB0cmFuc2ZlciB0b2tlbnMgaXMgZGlzYWJsZWQKICAgIC8vCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzLCB1aW50KSB7CiAgICAgICAgdGhyb3c7CiAgICB9CgogICAgLy8KICAgIC8vIEBub3RpY2Ugd2UgRE8gYWxsb3cgc2VuZGluZyBldGhlciBkaXJlY3RseSB0byB0aGUgY29udHJhY3QgYWRkcmVzcwogICAgLy8KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgewogICAgICAgIGJ1eSgpOwogICAgfQoKICAgIC8vCiAgICAvLyBAZGV2IG1vZGlmaWVycwogICAgLy8KICAgIG1vZGlmaWVyIG9ubHlDb250cmlidXRvcnMoKSB7CiAgICAgICAgaWYoY29udHJpYnV0b3JzW21zZy5zZW5kZXJdICE9IHRydWUpIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seUljb0NvbnRyYWN0KCkgewogICAgICAgIGlmKGljb0NvbnRyYWN0ID09IDB4MCB8fCBtc2cuc2VuZGVyICE9IGljb0NvbnRyYWN0KSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgICAgICBfOwogICAgfQoKICAgIC8vCiAgICAvLyBAZGV2IGNhbGwgdGhpcyB0byBhdXRob3JpemUgcGFydGljaXBhbnRzIHRvIHRoaXMgcHJlLWljbyBzYWxlCiAgICAvLyBAcGFyYW0gdGhlIGF1dGhvcml6ZWQgcGFydGljaXBhbnQgYWRkcmVzcwogICAgLy8KICAgIGZ1bmN0aW9uIGFkZENvbnRyaWJ1dG9yKGFkZHJlc3MgX3dobykgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgY29udHJpYnV0b3JzW193aG9dID0gdHJ1ZTsKICAgIH0KCiAgICAvLyBAZGV2IHVzZWZ1bCBmb3IgY29udHJpYnV0b3IgdG8gY2hlY2sgYmVmb3JlIHNlbmRpbmcgZXRoZXIKICAgIGZ1bmN0aW9uIGlzQ29udHJpYnV0b3IoYWRkcmVzcyBfd2hvKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyhib29sKSB7CiAgICAgICAgcmV0dXJuIGNvbnRyaWJ1dG9yc1tfd2hvXTsKICAgIH0KCiAgICAvLwogICAgLy8gQGRldiB0aGlzIHdpbGwgYmUgbGF0ZXIgc2V0IGJ5IHRoZSBvd25lciBvZiB0aGlzIGNvbnRyYWN0CiAgICAvLwogICAgZnVuY3Rpb24gc2V0SWNvQ29udHJhY3QoYWRkcmVzcyBfY29udHJhY3QpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIGljb0NvbnRyYWN0ID0gX2NvbnRyYWN0OwogICAgfQoKICAgIC8vCiAgICAvLyBAZGV2IGZ1bmN0aW9uIGNhbGxlZCBieSB0aGUgSUNPIGNvbnRyYWN0IHRvIHRyYW5zZm9ybSB0aGUgdG9rZW5zIGludG8gRVRDSCB0b2tlbnMKICAgIC8vCiAgICBmdW5jdGlvbiBtaWdyYXRlKGFkZHJlc3MgX2NvbnRyaWJ1dG9yKSBwdWJsaWMKICAgIG9ubHlJY29Db250cmFjdAogICAgd2hlbk5vdFBhdXNlZCB7CgogICAgICAgIGlmKGdldEJsb2NrKCkgPCBibG9jazAydykgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5zdWIoYmFsYW5jZXNbX2NvbnRyaWJ1dG9yXSk7CiAgICAgICAgYmFsYW5jZXNbX2NvbnRyaWJ1dG9yXSA9IDA7CiAgICB9CgogICAgZnVuY3Rpb24gYnV5KCkgcGF5YWJsZQogICAgbm9uUmVlbnRyYW50CiAgICBvbmx5Q29udHJpYnV0b3JzCiAgICB3aGVuTm90UGF1c2VkIHsKCiAgICAgICAgYWRkcmVzcyBfcmVjaXBpZW50ID0gbXNnLnNlbmRlcjsKICAgICAgICB1aW50IGJsb2NrTm93ID0gZ2V0QmxvY2soKTsKCiAgICAgICAgLy8gYXJlIHdlIGJlZm9yZSBvciBhZnRlciB0aGUgc2FsZSBwZXJpb2Q/CiAgICAgICAgaWYoYmxvY2tOb3cgPCBibG9ja1N0YXJ0IHx8IGJsb2NrMDJ3IDw9IGJsb2NrTm93KSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KCiAgICAgICAgaWYgKGJsb2NrTm93IDwgYmxvY2syNGgpIHsKCiAgICAgICAgICAgIC8vIG9ubHkgb25lIHRyYW5zYWN0aW9uIGlzIGF1dGhvcml6ZWQKICAgICAgICAgICAgaWYgKGJhbGFuY2VzW19yZWNpcGllbnRdID4gMCkgewogICAgICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIG9ubHkgYWxsb3dlZCB0byBidXkgYSBjZXJ0YWluIGFtb3VudAogICAgICAgICAgICBpZiAobXNnLnZhbHVlID4gTUFYX0VUSEVSXzI0SCkgewogICAgICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBkb24ndCBnbyBvdmVyIHRoZSBldGhlciBjYXAKICAgICAgICBpZiAodG90YWxFdGhlci5hZGQobXNnLnZhbHVlKSA+IEVUSEVSX0NBUCkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CgogICAgICAgIHVpbnQgdG9rZW5zID0gbXNnLnZhbHVlLm11bChQUklDRSk7CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQodG9rZW5zKTsKCiAgICAgICAgYmFsYW5jZXNbX3JlY2lwaWVudF0gPSBiYWxhbmNlc1tfcmVjaXBpZW50XS5hZGQodG9rZW5zKTsKICAgICAgICB0b3RhbEV0aGVyLmFkZChtc2cudmFsdWUpOwoKICAgICAgICBpZiAoIUJFTkVGSUNJQVJZLnNlbmQobXNnLnZhbHVlKSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICB9CgogICAgdWludCBwdWJsaWMgYmxvY2tOdW1iZXIgPSAwOwoKICAgIGZ1bmN0aW9uIGdldEJsb2NrKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICBpZihibG9ja051bWJlciAhPSAwKSB7CiAgICAgICAgICAgIHJldHVybiBibG9ja051bWJlcjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGJsb2NrLm51bWJlcjsKICAgIH0KCn0='.
	

]
