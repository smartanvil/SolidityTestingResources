Class {
	#name : #SRTdf05f539d535b0d8b62145b9d5ffeeda6ef720c4,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTdf05f539d535b0d8b62145b9d5ffeeda6ef720c4 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKCiAgLy8gV2UgdXNlIGBwdXJlYCBiYmVjYXVzZSBpdCBwcm9taXNlcyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlIGZ1bmN0aW9uIGRlcGVuZHMgT05MWQogIC8vIG9uIHRoZSBmdW5jdGlvbiBhcmd1bWVudHMKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgcmVxdWlyZShhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJlcXVpcmUoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIHJlcXVpcmUoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgQWRtaW5pc3RyYXRpb24gewoKICAgIGFkZHJlc3MgICAgIHB1YmxpYyBvd25lcjsKICAgIAogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgbW9kZXJhdG9yczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gc3RyaW5nKSBwcml2aWxlZ2VTdGF0dXM7CgogICAgZXZlbnQgQWRkTW9kKGFkZHJlc3MgaW5kZXhlZCBfaW52b2tlciwgYWRkcmVzcyBpbmRleGVkIF9uZXdNb2QsIGJvb2wgaW5kZXhlZCBfbW9kQWRkZWQpOwogICAgZXZlbnQgUmVtb3ZlTW9kKGFkZHJlc3MgaW5kZXhlZCBfaW52b2tlciwgYWRkcmVzcyBpbmRleGVkIF9yZW1vdmVNb2QsIGJvb2wgaW5kZXhlZCBfbW9kUmVtb3ZlZCk7CgogICAgZnVuY3Rpb24gQWRtaW5pc3RyYXRpb24oKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5QWRtaW4oKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyIHx8IG1vZGVyYXRvcnNbbXNnLnNlbmRlcl0gPT0gdHJ1ZSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykKICAgIHsKICAgICAgICBvd25lciA9IF9uZXdPd25lcjsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAKICAgIH0KCiAgICBmdW5jdGlvbiBhZGRNb2RlcmF0b3IoYWRkcmVzcyBfbmV3TW9kKQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgICAgIHJldHVybnMgKGJvb2wgYWRkZWQpCiAgICAgewogICAgICAgIHJlcXVpcmUoX25ld01vZCAhPSBhZGRyZXNzKDB4MCkpOwogICAgICAgIG1vZGVyYXRvcnNbX25ld01vZF0gPSB0cnVlOwogICAgICAgIEFkZE1vZChtc2cuc2VuZGVyLCBfbmV3TW9kLCB0cnVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gcmVtb3ZlTW9kZXJhdG9yKGFkZHJlc3MgX3JlbW92ZU1vZCkKICAgICAgICBwdWJsaWMKICAgICAgICBvbmx5T3duZXIKICAgICAgICByZXR1cm5zIChib29sIHJlbW92ZWQpCiAgICB7CiAgICAgICAgcmVxdWlyZShfcmVtb3ZlTW9kICE9IGFkZHJlc3MoMHgwKSk7CiAgICAgICAgbW9kZXJhdG9yc1tfcmVtb3ZlTW9kXSA9IGZhbHNlOwogICAgICAgIFJlbW92ZU1vZChtc2cuc2VuZGVyLCBfcmVtb3ZlTW9kLCB0cnVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRSb2xlU3RhdHVzKGFkZHJlc3MgX2FkZHIpCiAgICAgICAgcHVibGljCiAgICAgICAgdmlldyAgLy8gV2UgdXNlIHZpZXcgYXMgd2UgcHJvbWlzZSB0byBub3QgY2hhbmdlIHN0YXRlLCBidXQgYXJlIHJlYWRpbmcgZnJvbSBhIHN0YXRlIHZhcmlhYmxlCiAgICAgICAgcmV0dXJucyAoc3RyaW5nIF9yb2xlKQogICAgewogICAgICAgIHJldHVybiBwcml2aWxlZ2VTdGF0dXNbX2FkZHJdOwogICAgfQp9Cgpjb250cmFjdCBDb2luTWFya2V0QWxlcnQgaXMgQWRtaW5pc3RyYXRpb24gewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgYWRkcmVzc1tdICAgcHVibGljICAgICAgdXNlckFkZHJlc3NlczsKICAgIHVpbnQyNTYgICAgIHB1YmxpYyAgICAgIHRvdGFsU3VwcGx5OwogICAgdWludDI1NiAgICAgcHVibGljICAgICAgdXNlcnNSZWdpc3RlcmVkOwogICAgdWludDggICAgICAgcHVibGljICAgICAgZGVjaW1hbHM7CiAgICBzdHJpbmcgICAgICBwdWJsaWMgICAgICBuYW1lOwogICAgc3RyaW5nICAgICAgcHVibGljICAgICAgc3ltYm9sOwogICAgYm9vbCAgICAgICAgcHVibGljICAgICAgdG9rZW5UcmFuc2ZlcnNGcm96ZW47CiAgICBib29sICAgICAgICBwdWJsaWMgICAgICB0b2tlbk1pbnRpbmdFbmFibGVkOwogICAgYm9vbCAgICAgICAgcHVibGljICAgICAgY29udHJhY3RMYXVuY2hlZDsKCgogICAgc3RydWN0IEFsZXJ0Q3JlYXRvclN0cnVjdCB7CiAgICAgICAgYWRkcmVzcyBhbGVydENyZWF0b3I7CiAgICAgICAgdWludDI1NiBhbGVydHNDcmVhdGVkOwogICAgfQoKICAgIEFsZXJ0Q3JlYXRvclN0cnVjdFtdICAgcHVibGljICAgICAgYWxlcnRDcmVhdG9yczsKICAgIAogICAgLy8gQWxlcnQgQ3JlYXRvciBFbnRlcmVkIChVc2VkIHRvIHByZXZldG50IGR1cGxpY2F0ZXMgaW4gY3JlYXRvciBhcnJheSkKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIHVzZXJSZWdpc3RlcmVkOwogICAgLy8gVHJhY2tzIGFwcHJvdmFsCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2FuY2U7CiAgICAvL1thZGRyXVtiYWxhbmNlXQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZXM7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF9hbW91bnQpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF9hbW91bnQpOwogICAgZXZlbnQgTWludFRva2VucyhhZGRyZXNzIGluZGV4ZWQgX21pbnRlciwgdWludDI1NiBfYW1vdW50TWludGVkLCBib29sIGluZGV4ZWQgTWludGVkKTsKICAgIGV2ZW50IEZyZWV6ZVRyYW5zZmVycyhhZGRyZXNzIGluZGV4ZWQgX2ZyZWV6ZXIsIGJvb2wgaW5kZXhlZCBfZnJvemVuKTsKICAgIGV2ZW50IFRoYXdUcmFuc2ZlcnMoYWRkcmVzcyBpbmRleGVkIF90aGF3ZXIsIGJvb2wgaW5kZXhlZCBfdGhhd2VkKTsKICAgIGV2ZW50IFRva2VuQnVybihhZGRyZXNzIGluZGV4ZWQgX2J1cm5lciwgdWludDI1NiBfYW1vdW50LCBib29sIGluZGV4ZWQgX2J1cm5lZCk7CiAgICBldmVudCBFbmFibGVUb2tlbk1pbnRpbmcoYm9vbCBFbmFibGVkKTsKCiAgICBmdW5jdGlvbiBDb2luTWFya2V0QWxlcnQoKQogICAgICAgIHB1YmxpYyB7CiAgICAgICAgc3ltYm9sID0gIkNNQSI7CiAgICAgICAgbmFtZSA9ICJDb2luIE1hcmtldCBBbGVydCI7CiAgICAgICAgZGVjaW1hbHMgPSAxODsKICAgICAgICAvLyA1MCBNaWwgaW4gd2VpCiAgICAgICAgdG90YWxTdXBwbHkgPSA1MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IDUwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOwogICAgICAgIHRva2VuVHJhbnNmZXJzRnJvemVuID0gdHJ1ZTsKICAgICAgICB0b2tlbk1pbnRpbmdFbmFibGVkID0gZmFsc2U7CiAgICB9CgogICAgLy8vIEBub3RpY2UgVXNlZCB0byBsYXVuY2ggc3RhcnQgdGhlIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBsYXVuY2hDb250cmFjdCgpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seUFkbWluCiAgICAgICAgcmV0dXJucyAoYm9vbCBsYXVuY2hlZCkKICAgIHsKICAgICAgICByZXF1aXJlKCFjb250cmFjdExhdW5jaGVkKTsKICAgICAgICB0b2tlblRyYW5zZmVyc0Zyb3plbiA9IGZhbHNlOwogICAgICAgIHRva2VuTWludGluZ0VuYWJsZWQgPSB0cnVlOwogICAgICAgIGNvbnRyYWN0TGF1bmNoZWQgPSB0cnVlOwogICAgICAgIEVuYWJsZVRva2VuTWludGluZyh0cnVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgLy8vIEBkZXYga2VlcHMgYSBsaXN0IG9mIGFkZHJlc3NlcyB0aGF0IGFyZSBwYXJ0aWNpcGF0aW5nIGluIHRoZSBzaXRlCiAgICBmdW5jdGlvbiByZWdpc3RlclVzZXIoYWRkcmVzcyBfdXNlcikgCiAgICAgICAgcHJpdmF0ZQogICAgICAgIHJldHVybnMgKGJvb2wgcmVnaXN0ZXJlZCkKICAgIHsKICAgICAgICB1c2Vyc1JlZ2lzdGVyZWQgPSB1c2Vyc1JlZ2lzdGVyZWQuYWRkKDEpOwogICAgICAgIEFsZXJ0Q3JlYXRvclN0cnVjdCBtZW1vcnkgYWNzOwogICAgICAgIGFjcy5hbGVydENyZWF0b3IgPSBfdXNlcjsKICAgICAgICBhbGVydENyZWF0b3JzLnB1c2goYWNzKTsKICAgICAgICB1c2VyQWRkcmVzc2VzLnB1c2goX3VzZXIpOwogICAgICAgIHVzZXJSZWdpc3RlcmVkW191c2VyXSA9IHRydWU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBub3RpY2UgTWFudWFsIHBheW91dCBmb3Igc2l0ZSB1c2VycwogICAgLy8vIEBwYXJhbSBfdXNlciBFdGhlcmV1bSBhZGRyZXNzIG9mIHRoZSB1c2VyCiAgICAvLy8gQHBhcmFtIF9hbW91bnQgVGhlIG1vdW50IG9mIENNQSB0b2tlbnMgaW4gd2VpIHRvIHNlbmQKICAgIGZ1bmN0aW9uIHNpbmdsZVBheW91dChhZGRyZXNzIF91c2VyLCB1aW50MjU2IF9hbW91bnQpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seUFkbWluCiAgICAgICAgcmV0dXJucyAoYm9vbCBwYWlkKQogICAgewogICAgICAgIHJlcXVpcmUoIXRva2VuVHJhbnNmZXJzRnJvemVuKTsKICAgICAgICByZXF1aXJlKF9hbW91bnQgPiAwKTsKICAgICAgICByZXF1aXJlKHRyYW5zZmVyQ2hlY2sob3duZXIsIF91c2VyLCBfYW1vdW50KSk7CiAgICAgICAgaWYgKCF1c2VyUmVnaXN0ZXJlZFtfdXNlcl0pIHsKICAgICAgICAgICAgcmVnaXN0ZXJVc2VyKF91c2VyKTsKICAgICAgICB9CiAgICAgICAgYmFsYW5jZXNbX3VzZXJdID0gYmFsYW5jZXNbX3VzZXJdLmFkZChfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSBiYWxhbmNlc1tvd25lcl0uYWRkKF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKG93bmVyLCBfdXNlciwgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBkZXYgbG93LWxldmVsIG1pbnRpbmcgZnVuY3Rpb24gbm90IGFjY2Vzc2libGUgZXh0ZXJuYWxseQogICAgZnVuY3Rpb24gdG9rZW5NaW50KGFkZHJlc3MgX2ludm9rZXIsIHVpbnQyNTYgX2Ftb3VudCkgCiAgICAgICAgcHJpdmF0ZQogICAgICAgIHJldHVybnMgKGJvb2wgcmFpc2VkKQogICAgewogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbb3duZXJdLmFkZChfYW1vdW50KSA+IGJhbGFuY2VzW293bmVyXSk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tvd25lcl0uYWRkKF9hbW91bnQpID4gMCk7CiAgICAgICAgcmVxdWlyZSh0b3RhbFN1cHBseS5hZGQoX2Ftb3VudCkgPiAwKTsKICAgICAgICByZXF1aXJlKHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KSA+IHRvdGFsU3VwcGx5KTsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSBiYWxhbmNlc1tvd25lcl0uYWRkKF9hbW91bnQpOwogICAgICAgIE1pbnRUb2tlbnMoX2ludm9rZXIsIF9hbW91bnQsIHRydWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFVzZWQgdG8gbWludCB0b2tlbnMsIG9ubHkgdXNhYmxlIGJ5IHRoZSBjb250cmFjdCBvd25lcgogICAgLy8vIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgb2YgQ01BIHRva2VucyBpbiB3ZWkgdG8gbWludAogICAgZnVuY3Rpb24gdG9rZW5GYWN0b3J5KHVpbnQyNTYgX2Ftb3VudCkKICAgICAgICBwdWJsaWMKICAgICAgICBvbmx5QWRtaW4KICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpCiAgICB7CiAgICAgICAgcmVxdWlyZShfYW1vdW50ID4gMCk7CiAgICAgICAgcmVxdWlyZSh0b2tlbk1pbnRpbmdFbmFibGVkKTsKICAgICAgICByZXF1aXJlKHRva2VuTWludChtc2cuc2VuZGVyLCBfYW1vdW50KSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBub3RpY2UgVXNlZCB0byBidXJuIHRva2VucwogICAgLy8vIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgb2YgQ01BIHRva2VucyBpbiB3ZWkgdG8gYnVybgogICAgZnVuY3Rpb24gdG9rZW5CdXJuKHVpbnQyNTYgX2Ftb3VudCkKICAgICAgICBwdWJsaWMKICAgICAgICBvbmx5QWRtaW4KICAgICAgICByZXR1cm5zIChib29sIGJ1cm5lZCkKICAgIHsKICAgICAgICByZXF1aXJlKF9hbW91bnQgPiAwKTsKICAgICAgICByZXF1aXJlKF9hbW91bnQgPCB0b3RhbFN1cHBseSk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tvd25lcl0gPiBfYW1vdW50KTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW293bmVyXS5zdWIoX2Ftb3VudCkgPj0gMCk7CiAgICAgICAgcmVxdWlyZSh0b3RhbFN1cHBseS5zdWIoX2Ftb3VudCkgPj0gMCk7CiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gYmFsYW5jZXNbb3duZXJdLnN1YihfYW1vdW50KTsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YihfYW1vdW50KTsKICAgICAgICBUb2tlbkJ1cm4obXNnLnNlbmRlciwgX2Ftb3VudCwgdHJ1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBub3RpY2UgVXNlZCB0byBmcmVlemUgdG9rZW4gdHJhbnNmZXJzCiAgICBmdW5jdGlvbiBmcmVlemVUcmFuc2ZlcnMoKQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlBZG1pbgogICAgICAgIHJldHVybnMgKGJvb2wgZnJvemVuKQogICAgewogICAgICAgIHRva2VuVHJhbnNmZXJzRnJvemVuID0gdHJ1ZTsKICAgICAgICBGcmVlemVUcmFuc2ZlcnMobXNnLnNlbmRlciwgdHJ1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBub3RpY2UgVXNlZCB0byB0aGF3IHRva2VuIHRyYW5zZmVycwogICAgZnVuY3Rpb24gdGhhd1RyYW5zZmVycygpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seUFkbWluCiAgICAgICAgcmV0dXJucyAoYm9vbCB0aGF3ZWQpCiAgICB7CiAgICAgICAgdG9rZW5UcmFuc2ZlcnNGcm96ZW4gPSBmYWxzZTsKICAgICAgICBUaGF3VHJhbnNmZXJzKG1zZy5zZW5kZXIsIHRydWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFVzZWQgdG8gdHJhbnNmZXIgZnVuZHMKICAgIC8vLyBAcGFyYW0gX3JlY2VpdmVyIFRoZSBkZXN0aW5hdGlvbiBldGhlcmV1bSBhZGRyZXNzCiAgICAvLy8gQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBvZiBDTUEgdG9rZW5zIGluIHdlaSB0byBzZW5kCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF9yZWNlaXZlciwgdWludDI1NiBfYW1vdW50KQogICAgICAgIHB1YmxpYwogICAgICAgIHJldHVybnMgKGJvb2wgX3RyYW5zZmVycmVkKQogICAgewogICAgICAgIHJlcXVpcmUoIXRva2VuVHJhbnNmZXJzRnJvemVuKTsKICAgICAgICByZXF1aXJlKHRyYW5zZmVyQ2hlY2sobXNnLnNlbmRlciwgX3JlY2VpdmVyLCBfYW1vdW50KSk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbX3JlY2VpdmVyXSA9IGJhbGFuY2VzW19yZWNlaXZlcl0uYWRkKF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF9yZWNlaXZlciwgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBub3RpY2UgVXNlZCB0byB0cmFuc2ZlciBmdW5kcyBvbiBiZWhhbGYgb2Ygb25lIHBlcnNvbgogICAgLy8vIEBwYXJhbSBfb3duZXIgUGVyc29uIHlvdSBhcmUgYWxsb3dlZCB0byBzcGVuZCBmdW5kcyBvbiBiZWhhbGYgb2YKICAgIC8vLyBAcGFyYW0gX3JlY2VpdmVyIFBlcnNvbiB0byByZWNlaXZlIHRoZSBmdW5kcwogICAgLy8vIEBwYXJhbSBfYW1vdW50IEFtb3VuIG9mIENNQSB0b2tlbnMgaW4gd2VpIHRvIHNlbmQKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfcmVjZWl2ZXIsIHVpbnQyNTYgX2Ftb3VudCkKICAgICAgICBwdWJsaWMKICAgICAgICByZXR1cm5zIChib29sIF90cmFuc2ZlcnJlZEZyb20pCiAgICB7CiAgICAgICAgcmVxdWlyZSghdG9rZW5UcmFuc2ZlcnNGcm96ZW4pOwogICAgICAgIHJlcXVpcmUoYWxsb3dhbmNlW19vd25lcl1bbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpID49IDApOwogICAgICAgIHJlcXVpcmUodHJhbnNmZXJDaGVjayhfb3duZXIsIF9yZWNlaXZlciwgX2Ftb3VudCkpOwogICAgICAgIGJhbGFuY2VzW19vd25lcl0gPSBiYWxhbmNlc1tfb3duZXJdLnN1YihfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfcmVjZWl2ZXJdID0gYmFsYW5jZXNbX3JlY2VpdmVyXS5hZGQoX2Ftb3VudCk7CiAgICAgICAgYWxsb3dhbmNlW19vd25lcl1bbXNnLnNlbmRlcl0gPSBhbGxvd2FuY2VbX293bmVyXVttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgVHJhbnNmZXIoX293bmVyLCBfcmVjZWl2ZXIsIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFVzZWQgdG8gYXBwcm92ZSBhIHRoaXJkLXBhcnR5IHRvIHNlbmQgZnVuZHMgb24geW91ciBiZWhhbGYKICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIHBlcnNvbiB5b3UgYXJlIGFsbG93aW5nIHRvIHNwZW5kIG9uIHlvdXIgYmVoYWxmCiAgICAvLy8gQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBvZiBDTUEgdG9rZW5zIGluIHdlaSB0aGV5IGFyZSBhbGxvd2VkIHRvIHNwZW5kCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudCkKICAgICAgICBwdWJsaWMKICAgICAgICByZXR1cm5zIChib29sIGFwcHJvdmVkKQogICAgewogICAgICAgIHJlcXVpcmUoX2Ftb3VudCA+IDApOwogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPiAwKTsKICAgICAgICBhbGxvd2FuY2VbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX2Ftb3VudDsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgIC8vR0VUVEVSUy8vCiAgICAvLy8vLy8vLy8vLwoKICAgIAogICAgLy8vIEBkZXYgbG93IGxldmVsIGZ1bmN0aW9uIHVzZWQgdG8gZG8gYSBzYW5pdHkgY2hlY2sgb2YgaW5wdXQgZGF0YSBmb3IgQ01BIHRva2VuIHRyYW5zZmVycwogICAgLy8vIEBwYXJhbSBfc2VuZGVyIFRoaXMgaXMgdGhlIG1zZy5zZW5kZXIsIHRoZSBwZXJzb24gc2VuZGluZyB0aGUgQ01BIHRva2VucwogICAgLy8vIEBwYXJhbSBfcmVjZWl2ZXIgVGhpcyBpcyB0aGUgYWRkcmVzcyByZWNlaXZpbmcgdGhlIENNQSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoaXMgaXMgdGhlIGFtb3VudCBvZiBDTUEgdG9rZW5zIGluIHdlaSB0byBzZW5kCiAgICBmdW5jdGlvbiB0cmFuc2ZlckNoZWNrKGFkZHJlc3MgX3NlbmRlciwgYWRkcmVzcyBfcmVjZWl2ZXIsIHVpbnQyNTYgX3ZhbHVlKSAKICAgICAgICBwcml2YXRlCiAgICAgICAgdmlldwogICAgICAgIHJldHVybnMgKGJvb2wgc2FmZSkgCiAgICB7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPiAwKTsKICAgICAgICByZXF1aXJlKF9yZWNlaXZlciAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19zZW5kZXJdLnN1YihfdmFsdWUpID49IDApOwogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX3JlY2VpdmVyXS5hZGQoX3ZhbHVlKSA+IGJhbGFuY2VzW19yZWNlaXZlcl0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFVzZWQgdG8gcmV0cmlldmUgdG90YWwgc3VwcGx5CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpCiAgICAgICAgcHVibGljCiAgICAgICAgdmlldwogICAgICAgIHJldHVybnMgKHVpbnQyNTYgX3RvdGFsU3VwcGx5KQogICAgewogICAgICAgIHJldHVybiB0b3RhbFN1cHBseTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBVc2VkIHRvIGxvb2sgdXAgYmFsYW5jZSBvZiBhIHVzZXIKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9wZXJzb24pCiAgICAgICAgcHVibGljCiAgICAgICAgdmlldwogICAgICAgIHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkKICAgIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX3BlcnNvbl07CiAgICB9CgogICAgLy8vIEBub3RpY2UgVXNlZCB0byBsb29rIHVwIGFsbG93YW5jZSBvZiBhIHVzZXIKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikKICAgICAgICBwdWJsaWMKICAgICAgICB2aWV3CiAgICAgICAgcmV0dXJucyAodWludDI1NiBhbGxvd2VkKQogICAgewogICAgICAgIHJldHVybiBhbGxvd2FuY2VbX293bmVyXVtfc3BlbmRlcl07CiAgICB9Cn0='.
	

]
