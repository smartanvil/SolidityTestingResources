Class {
	#name : #SRT55AE5792903b179915E10065E26610435832A3F7,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT55AE5792903b179915E10065E26610435832A3F7 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7Cgpjb250cmFjdCBvd25lZCB7CgoJYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoJZnVuY3Rpb24gb3duZWQoKSB7CgkJb3duZXIgPSBtc2cuc2VuZGVyOwoJfQoKCW1vZGlmaWVyIG9ubHlPd25lciB7CgkJaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHRocm93OwoJCV87Cgl9CgoJZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKCQlvd25lciA9IG5ld093bmVyOwoJfQp9Cgpjb250cmFjdCB0b2tlblJlY2lwaWVudCB7IGZ1bmN0aW9uIHJlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW4sIGJ5dGVzIF9leHRyYURhdGEpOyB9Cgpjb250cmFjdCBJQ29mb3VuZGl0VG9rZW4gewoJZnVuY3Rpb24gbWludFRva2VucyhhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50LCBzdHJpbmcgX3JlYXNvbik7CglmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG90YWxTdXBwbHkpOwp9Cgpjb250cmFjdCBDb2ZvdW5kaXRJQ08gaXMgb3duZWR7CgoJdWludDI1NiBwdWJsaWMgc3RhcnRCbG9jazsKCXVpbnQyNTYgcHVibGljIGVuZEJsb2NrOwoJdWludDI1NiBwdWJsaWMgbWluRXRoVG9SYWlzZTsKCXVpbnQyNTYgcHVibGljIG1heEV0aFRvUmFpc2U7Cgl1aW50MjU2IHB1YmxpYyB0b3RhbEV0aFJhaXNlZDsKCWFkZHJlc3MgcHVibGljIG11bHRpc2lnQWRkcmVzczsKCgl1aW50MjU2IHB1YmxpYyBpY29TdXBwbHk7Cgl1aW50MjU2IHB1YmxpYyBzdHJhdGVnaWNSZXNlcnZlU3VwcGx5OwoJdWludDI1NiBwdWJsaWMgY2FzaGlsYVRva2VuU3VwcGx5OwoJdWludDI1NiBwdWJsaWMgaWNvbm9taVRva2VuU3VwcGx5OwoJdWludDI1NiBwdWJsaWMgY29yZVRlYW1Ub2tlblN1cHBseTsKCglJQ29mb3VuZGl0VG9rZW4gY29mb3VuZGl0VG9rZW5Db250cmFjdDsJCgltYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHByZXNhbGVDb250cmlidXRvckFsbG93YW5jZTsKCXVpbnQyNTYgbmV4dEZyZWVQYXJ0aWNpcGFudEluZGV4OwoJbWFwcGluZyAodWludCA9PiBhZGRyZXNzKSBwYXJ0aWNpcGFudEluZGV4OwoJbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwYXJ0aWNpcGFudENvbnRyaWJ1dGlvbjsKCgl1aW50MjU2IHVzZWRJY29TdXBwbHk7Cgl1aW50MjU2IHVzZWRTdHJhdGVnaWNSZXNlcnZlU3VwcGx5OwoJdWludDI1NiB1c2VkQ2FzaGlsYVRva2VuU3VwcGx5OwoJdWludDI1NiB1c2VkSWNvbm9taVRva2VuU3VwcGx5OwoJdWludDI1NiB1c2VkQ29yZVRlYW1Ub2tlblN1cHBseTsKCglib29sIGljb0hhc1N0YXJ0ZWQ7Cglib29sIG1pblRyZXNob2xkUmVhY2hlZDsKCWJvb2wgaWNvSGFzU3VjZXNzZnVseUVuZGVkOwoKCXVpbnQyNTYgbGFzdEV0aFJldHVybkluZGV4OwoJbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBoYXNDbGFpbWVkRXRoV2hlbkZhaWw7Cgl1aW50MjU2IGxhc3RDZmlJc3N1YW5jZUluZGV4OwoKCXN0cmluZyBpY29TdGFydGVkTWVzc2FnZSA9ICJDb2ZvdW5kaXQgaXMgbGF1bmNoaW5nISI7CglzdHJpbmcgaWNvTWluVHJlc2hvbGRSZWFjaGVkTWVzc2FnZSA9ICJGaXJpbmcgU3RhZ2UgMiEiOwoJc3RyaW5nIGljb0VuZGVkU3VjY2Vzc2Z1bHlNZXNzYWdlID0gIk9yYml0IGFjaGlldmVkISI7CglzdHJpbmcgaWNvRW5kZWRTdWNjZXNzZnVseVdpdGhDYXBNZXNzYWdlID0gIkxlYXZpbmcgRWFydGggb3JiaXQhIjsKCXN0cmluZyBpY29GYWlsZWRNZXNzYWdlID0gIlJvY2tldCBjcmFzaGVkLiI7CgoJZXZlbnQgSUNPU3RhcnRlZCh1aW50MjU2IF9ibG9ja051bWJlciwgc3RyaW5nIF9tZXNzYWdlKTsKCWV2ZW50IElDT01pblRyZXNob2xkUmVhY2hlZCh1aW50MjU2IF9ibG9ja051bWJlciwgc3RyaW5nIF9tZXNzYWdlKTsKCWV2ZW50IElDT0VuZGVkU3VjY2Vzc2Z1bHkodWludDI1NiBfYmxvY2tOdW1iZXIsIHVpbnQyNTYgX2Ftb3VudFJhaXNlZCwgc3RyaW5nIF9tZXNzYWdlKTsKCWV2ZW50IElDT0ZhaWxlZCh1aW50MjU2IF9ibG9ja051bWJlciwgdWludDI1NiBfYW1tb3VudFJhaXNlZCwgc3RyaW5nIF9tZXNzYWdlKTsKCWV2ZW50IEVycm9yU2VuZGluZ0VUSChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF9hbW91bnQpOwoKCWZ1bmN0aW9uIENvZm91bmRpdElDTyh1aW50MjU2IF9zdGFydEJsb2NrLCB1aW50MjU2IF9lbmRCbG9jaywgYWRkcmVzcyBfbXVsdGlzaWdBZGRyZXNzKSB7CgkJc3RhcnRCbG9jayA9IF9zdGFydEJsb2NrOwoJCWVuZEJsb2NrID0gX2VuZEJsb2NrOwoJCW1pbkV0aFRvUmFpc2UgPSA0NTI1ICogMTAqKjE4OwoJCW1heEV0aFRvUmFpc2UgPSA1NjU2NSAqIDEwKioxODsKCQltdWx0aXNpZ0FkZHJlc3MgPSBfbXVsdGlzaWdBZGRyZXNzOwoKCQlpY29TdXBwbHkgPQkgCQkJCTEyNTAwMDAwMCAqIDEwKioxODsKCQlzdHJhdGVnaWNSZXNlcnZlU3VwcGx5ID0gCTEyNTAwMDAwMCAqIDEwKioxODsKCQljYXNoaWxhVG9rZW5TdXBwbHkgPSAJCTEwMDAwMDAwMCAqIDEwKioxODsKCQlpY29ub21pVG9rZW5TdXBwbHkgPSAJCTUwMDAwMDAwICogMTAqKjE4OwoJCWNvcmVUZWFtVG9rZW5TdXBwbHkgPQkJMTAwMDAwMDAwICogMTAqKjE4OwoJfQoKCS8vIAkKCS8qIFVzZXIgYWNjZXNzaWJsZSBtZXRob2RzICovIAkKCS8vIAkKCgkvKiBVc2VycyBzZW5kIEVUSCBhbmQgZW50ZXIgdGhlIGNyb3dkc2FsZSovIAkKCWZ1bmN0aW9uICgpIHBheWFibGUgeyAJCQoJCWlmIChtc2cudmFsdWUgPT0gMCkgdGhyb3c7ICAJCQkJCQkJCQkJCQkvLyBDaGVjayBpZiBiYWxhbmNlIGlzIG5vdCAwIAkJCgkJaWYgKGljb0hhc1N1Y2Vzc2Z1bHlFbmRlZCB8fCBibG9jay5udW1iZXIgPiBlbmRCbG9jaykgdGhyb3c7CQkJCS8vIFRocm93IGlmIGljbyBoYXMgYWxyZWFkeSBlbmRlZCAJCQoJCWlmICghaWNvSGFzU3RhcnRlZCl7CQkJCQkJCQkJCQkJCQkvLyBDaGVjayBpZiB0aGlzIGlzIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBvZiBpY28gCQkJCgkJCWlmIChibG9jay5udW1iZXIgPCBzdGFydEJsb2NrKXsJCQkJCQkJCQkJCS8vIENoZWNrIGlmIGljbyBzaG91bGQgc3RhcnQgCQkJCQoJCQkJaWYgKCFwcmVzYWxlQ29udHJpYnV0b3JBbGxvd2FuY2VbbXNnLnNlbmRlcl0pIHRocm93OwkJCQkvLyBDaGVjayBpZiB0aGlzIGFkZHJlc3MgaXMgcGFydCBvZiBwcmVzYWxlIGNvbnRyaWJ1dG9ycyAJCQkKCQkJfSAJCQkKCQkJZWxzZXsJCQkJCQkJCQkJCQkJCQkJCS8vIElmIElDTyBzaG91bGQgc3RhcnQgCQkJCQoJCQkJaWNvSGFzU3RhcnRlZCA9IHRydWU7CQkJCQkJCQkJCQkJLy8gU2V0IHRoYXQgaWNvIGhhcyBzdGFydGVkIAkJCQkKCQkJCUlDT1N0YXJ0ZWQoYmxvY2subnVtYmVyLCBpY29TdGFydGVkTWVzc2FnZSk7CQkJCQkJLy8gUmFpc2UgZXZlbnQgCQkJCgkJCX0gCQkKCQl9IAkJCgkJaWYgKHBhcnRpY2lwYW50Q29udHJpYnV0aW9uW21zZy5zZW5kZXJdID09IDApeyAJCQkJCQkJCS8vIENoZWNrIGlmIHNlbmRlciBpcyBhIG5ldyB1c2VyIAkJCQoJCQlwYXJ0aWNpcGFudEluZGV4W25leHRGcmVlUGFydGljaXBhbnRJbmRleF0gPSBtc2cuc2VuZGVyOwkJCQkvLyBBZGQgbmV3IHVzZXIgdG8gcGFydGljaXBhbnQgZGF0YSBzdHJ1Y3R1cmUgCQkJCgkJCW5leHRGcmVlUGFydGljaXBhbnRJbmRleCArPSAxOyAJCQoJCX0gCQkKCQlpZiAobWF4RXRoVG9SYWlzZSA+ICh0b3RhbEV0aFJhaXNlZCArIG1zZy52YWx1ZSkpewkJCQkJCQkvLyBDaGVjayBpZiB1c2VyIHNlbnQgdG8gbXVjaCBldGggCQkJCgkJCXBhcnRpY2lwYW50Q29udHJpYnV0aW9uW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZTsJCQkJCQkvLyBBZGQgYWNjb3VudHMgY29udHJpYnV0aW9uIAkJCQoJCQl0b3RhbEV0aFJhaXNlZCArPSBtc2cudmFsdWU7CQkJCQkJCQkJCQkvLyBBZGQgdG8gdG90YWwgZXRoIFJhaXNlZCAJCQkKCQkJaWYgKCFtaW5UcmVzaG9sZFJlYWNoZWQgJiYgdG90YWxFdGhSYWlzZWQgPj0gbWluRXRoVG9SYWlzZSl7CQkJLy8gQ2hlY2sgaWYgbWluIHRyZXNob2xkIGhhcyBiZWVuIHJlYWNoZWQoRG8gdGhhdCBvbmUgdGltZSkgCQkJCQoJCQkJSUNPTWluVHJlc2hvbGRSZWFjaGVkKGJsb2NrLm51bWJlciwgaWNvTWluVHJlc2hvbGRSZWFjaGVkTWVzc2FnZSk7CS8vIFJhaXNlIGV2ZW50IAkJCQkKCQkJCW1pblRyZXNob2xkUmVhY2hlZCA9IHRydWU7CQkJCQkJCQkJCQkvLyBTZXQgdGhhdCB0cmVzaG9sZCBoYXMgYmVlbiByZWFjaGVkIAkJCQoJCQl9IAkJCgkJfWVsc2V7CQkJCQkJCQkJCQkJCQkJCQkJLy8gSWYgdXNlciBzZW50IHRvIG11Y2ggZXRoIAkJCQoJCQl1aW50IG1heENvbnRyaWJ1dGlvbiA9IG1heEV0aFRvUmFpc2UgLSB0b3RhbEV0aFJhaXNlZDsgCQkJCQkvLyBDYWxjdWxhdGUgbWF4IGNvbnRyaWJ1dGlvbiAJCQkKCQkJcGFydGljaXBhbnRDb250cmlidXRpb25bbXNnLnNlbmRlcl0gKz0gbWF4Q29udHJpYnV0aW9uOwkJCQkJLy8gQWRkIG1heCBjb250cmlidXRpb24gdG8gYWNjb3VudCAJCQkKCQkJdG90YWxFdGhSYWlzZWQgKz0gbWF4Q29udHJpYnV0aW9uOwkJCQkJCQkJCQkJCQkKCQkJdWludCB0b1JldHVybiA9IG1zZy52YWx1ZSAtIG1heENvbnRyaWJ1dGlvbjsJCQkJCQkJLy8gQ2FsY3VsYXRlIGhvdyBtdWNoIHVzZXIgc2hvdWxkIGdldCBiYWNrIAkJCQoJCQlpY29IYXNTdWNlc3NmdWx5RW5kZWQgPSB0cnVlOwkJCQkJCQkJCQkJLy8gU2V0IHRoYXQgaWNvIGhhcyBzdWNjZXNzZnVsbHlFbmRlZCAJCQkKCQkJSUNPRW5kZWRTdWNjZXNzZnVseShibG9jay5udW1iZXIsIHRvdGFsRXRoUmFpc2VkLCBpY29FbmRlZFN1Y2Nlc3NmdWx5V2l0aENhcE1lc3NhZ2UpOyAJCQkKCQkJaWYoIW1zZy5zZW5kZXIuc2VuZCh0b1JldHVybikpewkJCQkJCQkJCQkJLy8gUmVmb3VuZCBiYWxhbmNlIHRoYXQgaXMgb3ZlciB0aGUgY2FwIAkJCQkKCQkJCUVycm9yU2VuZGluZ0VUSChtc2cuc2VuZGVyLCB0b1JldHVybik7CQkJCQkJCQkvLyBSYWlzZSBldmVudCBmb3IgbWFudWFsIHJldHVybiBpZiB0cmFuc2FjdGlvbiB0aHJvd3MgCQkJCgkJCX0gCQkKCQl9CQkJCQkJCQkJCQkJCQkJCQkJCS8vIEZlZWwgZ29vZCBhYm91dCBhY2hpdmluZyB0aGUgY2FwIAkKCX0gCQoKCS8qIFVzZXJzIGNhbiBjbGFpbSBldGggYnkgdGhlbXNlbGYgaWYgdGhleSB3YW50IHRvIGluIGluc3RhbmNlIG9mIGV0aCBmYWxpdXJlKi8gCQoJZnVuY3Rpb24gY2xhaW1FdGhJZkZhaWxlZCgpeyAJCQoJCWlmIChibG9jay5udW1iZXIgPD0gZW5kQmxvY2sgfHwgdG90YWxFdGhSYWlzZWQgPj0gbWluRXRoVG9SYWlzZSkgdGhyb3c7CS8vIENoZWNrIHRoYXQgaWNvIGhhcyBmYWlsZWQgOiggCQkKCQlpZiAocGFydGljaXBhbnRDb250cmlidXRpb25bbXNnLnNlbmRlcl0gPT0gMCkgdGhyb3c7CQkJCQkvLyBDaGVjayBpZiB1c2VyIGhhcyBldmVuIGJlZW4gYXQgY3Jvd2RzYWxlIAkJCgkJaWYgKGhhc0NsYWltZWRFdGhXaGVuRmFpbFttc2cuc2VuZGVyXSkgdGhyb3c7CQkJCQkJCS8vIENoZWNrIGlmIHRoaXMgYWNjb3VudCBoYXMgYWxyZWFkeSBjbGFpbWVkIGl0cyBldGggCQkKCQl1aW50MjU2IGV0aENvbnRyaWJ1dGVkID0gcGFydGljaXBhbnRDb250cmlidXRpb25bbXNnLnNlbmRlcl07CQkJLy8gR2V0IHBhcnRpY2lwYW50IGV0aCBDb250cmlidXRpb24gCQkKCQloYXNDbGFpbWVkRXRoV2hlbkZhaWxbbXNnLnNlbmRlcl0gPSB0cnVlOyAJCQoJCWlmICghbXNnLnNlbmRlci5zZW5kKGV0aENvbnRyaWJ1dGVkKSl7IAkJCQoJCQlFcnJvclNlbmRpbmdFVEgobXNnLnNlbmRlciwgZXRoQ29udHJpYnV0ZWQpOwkJCQkJCS8vIFJhaXNlIGV2ZW50IGlmIHNlbmQgZmFpbGVkIGFuZCByZXNvbHZlIG1hbnVhbGx5IAkJCgkJfSAJCgl9IAkKCgkvLyAJCgkvKiBPbmx5IG93bmVyIG1ldGhvZHMgKi8gCQoJLy8gCQoKCS8qIEFkZHMgYWRkcmVzc2VzIHRoYXQgYXJlIGFsbG93ZWQgdG8gdGFrZSBwYXJ0IGluIHByZXNhbGUgKi8gCQoJZnVuY3Rpb24gYWRkUHJlc2FsZUNvbnRyaWJ1dG9ycyhhZGRyZXNzW10gX3ByZXNhbGVDb250cmlidXRvcnMpIG9ubHlPd25lciB7IAkJCgkJZm9yICh1aW50IGNudCA9IDA7IGNudCA8IF9wcmVzYWxlQ29udHJpYnV0b3JzLmxlbmd0aDsgY250KyspeyAJCQkKCQkJcHJlc2FsZUNvbnRyaWJ1dG9yQWxsb3dhbmNlW19wcmVzYWxlQ29udHJpYnV0b3JzW2NudF1dID0gdHJ1ZTsgCQkKCQl9IAkKCX0gCQoKCS8qIE93bmVyIGNhbiBpc3N1ZSBuZXcgdG9rZW5zIGluIHRva2VuIGNvbnRyYWN0ICovIAkKCWZ1bmN0aW9uIGJhdGNoSXNzdWVUb2tlbnModWludDI1NiBfbnVtYmVyT2ZJc3N1YW5jZXMpIG9ubHlPd25lcnsgCQkKCQlpZiAoIWljb0hhc1N1Y2Vzc2Z1bHlFbmRlZCkgdGhyb3c7CQkJCQkJCQkJCQkJCQkJCQkJCQkvLyBDaGVjayBpZiBpY28gaGFzIGVuZGVkIAkJCgkJYWRkcmVzcyBjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzOyAJCQoJCXVpbnQyNTYgdG9rZW5zVG9CZUlzc3VlZDsgCQkKCQlmb3IgKHVpbnQgY250ID0gMDsgY250IDwgX251bWJlck9mSXNzdWFuY2VzOyBjbnQrKyl7IAkJCQoJCQljdXJyZW50UGFydGljaXBhbnRBZGRyZXNzID0gcGFydGljaXBhbnRJbmRleFtsYXN0Q2ZpSXNzdWFuY2VJbmRleF07CS8vIEdldCBuZXh0IHBhcnRpY2lwYW50IGFkZHJlc3MKCQkJaWYgKGN1cnJlbnRQYXJ0aWNpcGFudEFkZHJlc3MgPT0gMHgwKSBjb250aW51ZTsgCQkJCgkJCXRva2Vuc1RvQmVJc3N1ZWQgPSBpY29TdXBwbHkgKiBwYXJ0aWNpcGFudENvbnRyaWJ1dGlvbltjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzXSAvIHRvdGFsRXRoUmFpc2VkOwkJLy8gQ2FsY3VsYXRlIGhvdyBtdWNoIHRva2VucyB3aWxsIGFkZHJlc3MgZ2V0IAkJCQoJCQljb2ZvdW5kaXRUb2tlbkNvbnRyYWN0Lm1pbnRUb2tlbnMoY3VycmVudFBhcnRpY2lwYW50QWRkcmVzcywgdG9rZW5zVG9CZUlzc3VlZCwgIkljbyBwYXJ0aWNpcGF0aW9uIG1pbnQiKTsJLy8gTWludCB0b2tlbnMgQCBDb2ZvdW5kaXRUb2tlbiAJCQkKCQkJbGFzdENmaUlzc3VhbmNlSW5kZXggKz0gMTsJCgkJfSAKCgkJaWYgKHBhcnRpY2lwYW50SW5kZXhbbGFzdENmaUlzc3VhbmNlSW5kZXhdID09IDB4MCAmJiBjb2ZvdW5kaXRUb2tlbkNvbnRyYWN0LnRvdGFsU3VwcGx5KCkgPCBpY29TdXBwbHkpewoJCQl1aW50IGRpdmlzaW9uRGlmZmVyZW5jZSA9IGljb1N1cHBseSAtIGNvZm91bmRpdFRva2VuQ29udHJhY3QudG90YWxTdXBwbHkoKTsKCQkJY29mb3VuZGl0VG9rZW5Db250cmFjdC5taW50VG9rZW5zKG11bHRpc2lnQWRkcmVzcywgZGl2aXNpb25EaWZmZXJlbmNlLCAiTWludCBkaXZpc2lvbiBlcnJvciIpOwkvLyBNaW50IGRpdmlzb24gZGlmZmVyZW5jZSBAIENvZm91bmRpdFRva2VuIHNvIHRoYXQgdG90YWwgc3VwcGx5IGlzIHdob2xlIG51bWJlcgkJCQoJCX0KCX0gCQoKCS8qIE93bmVyIGNhbiByZXR1cm4gZXRoIGZvciBtdWx0aXBsZSB1c2VycyBpbiBvbmUgY2FsbCovIAkKCWZ1bmN0aW9uIGJhdGNoUmV0dXJuRXRoSWZGYWlsZWQodWludDI1NiBfbnVtYmVyT2ZSZXR1cm5zKSBvbmx5T3duZXJ7IAkJCgkJaWYgKGJsb2NrLm51bWJlciA8IGVuZEJsb2NrIHx8IHRvdGFsRXRoUmFpc2VkID49IG1pbkV0aFRvUmFpc2UpIHRocm93OwkJLy8gQ2hlY2sgdGhhdCBpY28gaGFzIGZhaWxlZCA6KCAJCQoJCWFkZHJlc3MgY3VycmVudFBhcnRpY2lwYW50QWRkcmVzczsgCQkKCQl1aW50MjU2IGNvbnRyaWJ1dGlvbjsKCQlmb3IgKHVpbnQgY250ID0gMDsgY250IDwgX251bWJlck9mUmV0dXJuczsgY250KyspeyAJCQkKCQkJY3VycmVudFBhcnRpY2lwYW50QWRkcmVzcyA9IHBhcnRpY2lwYW50SW5kZXhbbGFzdEV0aFJldHVybkluZGV4XTsJCS8vIEdldCBuZXh0IGFjY291bnQgCQkJCgkJCWlmIChjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzID09IDB4MCkgcmV0dXJuOwkJCQkJCQkvLyBJZiBhbGwgdGhlIHBhcnRpY2lwYW50cyB3ZXJlIHJlaW5idXJzZWQgcmV0dXJuIAkJCQoJCQlpZiAoIWhhc0NsYWltZWRFdGhXaGVuRmFpbFtjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzXSkgewkJCQkvLyBDaGVjayBpZiB1c2VyIGhhcyBtYW51YWxseSByZWNvdmVyZWQgZXRoIAkJCQkKCQkJCWNvbnRyaWJ1dGlvbiA9IHBhcnRpY2lwYW50Q29udHJpYnV0aW9uW2N1cnJlbnRQYXJ0aWNpcGFudEFkZHJlc3NdOwkvLyBHZXQgYWNjb3VudHMgY29udHJpYnV0aW9uIAkJCQkKCQkJCWhhc0NsYWltZWRFdGhXaGVuRmFpbFttc2cuc2VuZGVyXSA9IHRydWU7CQkJCQkJCS8vIFNldCB0aGF0IHVzZXIgZ290IGhpcyBldGggYmFjayAJCQkJCgkJCQlpZiAoIWN1cnJlbnRQYXJ0aWNpcGFudEFkZHJlc3Muc2VuZChjb250cmlidXRpb24pKXsJCQkJCS8vIFNlbmQgZnVuZCBiYWNrIHRvIGFjY291bnQgCQkJCQkKCQkJCQlFcnJvclNlbmRpbmdFVEgoY3VycmVudFBhcnRpY2lwYW50QWRkcmVzcywgY29udHJpYnV0aW9uKTsJCS8vIFJhaXNlIGV2ZW50IGlmIHNlbmQgZmFpbGVkIGFuZCByZXNvbHZlIG1hbnVhbGx5IAkJCQkKCQkJCX0gCQkJCgkJCX0gCQkJCgkJCWxhc3RFdGhSZXR1cm5JbmRleCArPSAxOyAJCQoJCX0gCQoJfSAJCgoJLyogT3duZXIgc2V0cyBuZXcgYWRkcmVzcyBvZiBDb2ZvdW5kaXRUb2tlbiAqLwoJZnVuY3Rpb24gY2hhbmdlTXVsdGlzaWdBZGRyZXNzKGFkZHJlc3MgX25ld0FkZHJlc3MpIG9ubHlPd25lciB7IAkJCgkJbXVsdGlzaWdBZGRyZXNzID0gX25ld0FkZHJlc3M7Cgl9IAkKCgkvKiBPd25lciBjYW4gY2xhaW0gcmVzZXJ2ZWQgdG9rZW5zIG9uIHRoZSBlbmQgb2YgY3Jvd3NhbGUgKi8gCQoJZnVuY3Rpb24gY2xhaW1SZXNlcnZlZFRva2VucyhzdHJpbmcgX3doaWNoLCBhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50LCBzdHJpbmcgX3JlYXNvbikgb25seU93bmVyeyAJCQoJCWlmICghaWNvSGFzU3VjZXNzZnVseUVuZGVkKSB0aHJvdzsgICAgICAgICAgICAgICAgIAoJCWJ5dGVzMzIgaGFzaGVkU3RyID0gc2hhMyhfd2hpY2gpOwkJCQkKCQlpZiAoaGFzaGVkU3RyID09IHNoYTMoIlJlc2VydmUiKSl7IAkJCQoJCQlpZiAoX2Ftb3VudCA+IHN0cmF0ZWdpY1Jlc2VydmVTdXBwbHkgLSB1c2VkU3RyYXRlZ2ljUmVzZXJ2ZVN1cHBseSkgdGhyb3c7IAkJCQoJCQljb2ZvdW5kaXRUb2tlbkNvbnRyYWN0Lm1pbnRUb2tlbnMoX3RvLCBfYW1vdW50LCBfcmVhc29uKTsgCQkJCgkJCXVzZWRTdHJhdGVnaWNSZXNlcnZlU3VwcGx5ICs9IF9hbW91bnQ7IAkJCgkJfSAJCQoJCWVsc2UgaWYgKGhhc2hlZFN0ciA9PSBzaGEzKCJDYXNoaWxhIikpeyAJCQkKCQkJaWYgKF9hbW91bnQgPiBjYXNoaWxhVG9rZW5TdXBwbHkgLSB1c2VkQ2FzaGlsYVRva2VuU3VwcGx5KSB0aHJvdzsgCQkJCgkJCWNvZm91bmRpdFRva2VuQ29udHJhY3QubWludFRva2VucyhfdG8sIF9hbW91bnQsICJSZXNlcnZlZCB0b2tlbnMgZm9yIGNhc2hpbGEiKTsgCQkJCgkJCXVzZWRDYXNoaWxhVG9rZW5TdXBwbHkgKz0gX2Ftb3VudDsgCQl9IAkJCgkJZWxzZSBpZiAoaGFzaGVkU3RyID09IHNoYTMoIkljb25vbWkiKSl7IAkJCQoJCQlpZiAoX2Ftb3VudCA+IGljb25vbWlUb2tlblN1cHBseSAtIHVzZWRJY29ub21pVG9rZW5TdXBwbHkpIHRocm93OyAJCQkKCQkJY29mb3VuZGl0VG9rZW5Db250cmFjdC5taW50VG9rZW5zKF90bywgX2Ftb3VudCwgIlJlc2VydmVkIHRva2VucyBmb3IgaWNvbm9taSIpOyAJCQkKCQkJdXNlZEljb25vbWlUb2tlblN1cHBseSArPSBfYW1vdW50OyAJCQoJCX0KCQllbHNlIGlmIChoYXNoZWRTdHIgPT0gc2hhMygiQ29yZSIpKXsgCQkJCgkJCWlmIChfYW1vdW50ID4gY29yZVRlYW1Ub2tlblN1cHBseSAtIHVzZWRDb3JlVGVhbVRva2VuU3VwcGx5KSB0aHJvdzsgCQkJCgkJCWNvZm91bmRpdFRva2VuQ29udHJhY3QubWludFRva2VucyhfdG8sIF9hbW91bnQsICJSZXNlcnZlZCB0b2tlbnMgZm9yIGNvZm91bmRpdCB0ZWFtIik7IAkJCQoJCQl1c2VkQ29yZVRlYW1Ub2tlblN1cHBseSArPSBfYW1vdW50OyAJCQoJCX0gCQkKCQllbHNlIHRocm93OyAJCgl9IAkKCgkvKiBPd25lciBjYW4gcmVtb3ZlIGFsbG93YW5jZSBvZiBkZXNpZ25hdGVkIHByZXNhbGUgY29udHJpYnV0b3IgKi8gCQoJZnVuY3Rpb24gcmVtb3ZlUHJlc2FsZUNvbnRyaWJ1dG9yKGFkZHJlc3MgX3ByZXNhbGVDb250cmlidXRvcikgb25seU93bmVyIHsgCQkKCQlwcmVzYWxlQ29udHJpYnV0b3JBbGxvd2FuY2VbX3ByZXNhbGVDb250cmlidXRvcl0gPSBmYWxzZTsgCQoJfSAJCgoJLyogU2V0IHRva2VuIGNvbnRyYWN0IHdoZXJlIG1pbnRzIHdpbGwgYmUgZG9uZSAodG9rZW5zIHdpbGwgYmUgaXNzdWVkKSovIAkKCWZ1bmN0aW9uIHNldFRva2VuQ29udHJhY3QoYWRkcmVzcyBfY29mb3VuZGl0Q29udHJhY3RBZGRyZXNzKSBvbmx5T3duZXIgeyAJCQoJCWNvZm91bmRpdFRva2VuQ29udHJhY3QgPSBJQ29mb3VuZGl0VG9rZW4oX2NvZm91bmRpdENvbnRyYWN0QWRkcmVzcyk7IAkKCX0gCQoKCS8qIFdpdGhkcmF3IGZ1bmRzIGZyb20gY29udHJhY3QgKi8gCQoJZnVuY3Rpb24gd2l0aGRyYXdFdGgoKSBvbmx5T3duZXJ7IAkJCgkJaWYgKHRoaXMuYmFsYW5jZSA9PSAwKSB0aHJvdzsJCQkJLy8gQ2hlY2sgaWYgdGhlcmUgaXMgc29tZXRoaW5nIG9uIHRoZSBjb250cmFjdCAJCQoJCWlmICh0b3RhbEV0aFJhaXNlZCA8IG1pbkV0aFRvUmFpc2UpIHRocm93OwkvLyBDaGVjayBpZiBtaW5FdGggdHJlc2hvbGQgaXMgc3VycGFzc2VkIAkJCgkJaWYgKGJsb2NrLm51bWJlciA+IGVuZEJsb2NrKXsJCQkJLy8gQ2hlY2sgaWYgaWNvIGhhcyBlbmRlZCB3aXRob3V0aCByZWFjaGluZyB0aGUgbWF4Q2FwIAkJCQoJCQlpY29IYXNTdWNlc3NmdWx5RW5kZWQgPSB0cnVlOyAJCQkKCQkJSUNPRW5kZWRTdWNjZXNzZnVseShibG9jay5udW1iZXIsIHRvdGFsRXRoUmFpc2VkLCBpY29FbmRlZFN1Y2Nlc3NmdWx5TWVzc2FnZSk7IAkJCgkJfSAJCQoJCWlmKG11bHRpc2lnQWRkcmVzcy5zZW5kKHRoaXMuYmFsYW5jZSkpe30JCS8vIFNlbmQgY29udHJhY3RzIHdob2xlIGJhbGFuY2UgdG8gbXVsdGlzaWcgYWRkcmVzcyAJCgl9IAkKCgkvKiBXaXRoZHJhdyByZW1haW5pbmcgYmFsYW5jZSB0byBtYW51YWxseSByZXR1cm4gd2hlcmUgY29udHJhY3RzIHNlbmQgaGFzIGZhaWxlZCAqLyAJCglmdW5jdGlvbiB3aXRoZHJhd1JlbWFpbmluZ0JhbGFuY2VGb3JNYW51YWxSZWNvdmVyeSgpIG9ubHlPd25lcnsgCQkKCQlpZiAodGhpcy5iYWxhbmNlID09IDApIHRocm93OwkJCQkJCQkJCQkJLy8gQ2hlY2sgaWYgdGhlcmUgaXMgc29tZXRoaW5nIG9uIHRoZSBjb250cmFjdCAJCQoJCWlmIChibG9jay5udW1iZXIgPCBlbmRCbG9jayB8fCB0b3RhbEV0aFJhaXNlZCA+PSBtaW5FdGhUb1JhaXNlKSB0aHJvdzsJLy8gQ2hlY2sgaWYgaWNvIGhhcyBmYWlsZWQgOiggCQkKCQlpZiAocGFydGljaXBhbnRJbmRleFtsYXN0RXRoUmV0dXJuSW5kZXhdICE9IDB4MCkgdGhyb3c7CQkJCQkvLyBDaGVjayBpZiBhbGwgdGhlIHBhcnRpY2lwYW50cyBoYXMgYmVlbiByZWluYnVyc2VkIAkJCgkJaWYobXVsdGlzaWdBZGRyZXNzLnNlbmQodGhpcy5iYWxhbmNlKSl7fQkJCQkJCQkJLy8gU2VuZCByZW1haW5kZXIgc28gaXQgY2FuIGJlIG1hbnVhbGx5IHByb2Nlc3NlZCAJCgl9IAkKCgkvLyAJCgkvKiBHZXR0ZXJzICovIAkKCS8vIAkKCglmdW5jdGlvbiBnZXRDZmlFc3RpbWF0aW9uKGFkZHJlc3MgX3F1ZXJyeUFkZHJlc3MpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYW5zd2VyKXsgCQkKCQlyZXR1cm4gaWNvU3VwcGx5ICogcGFydGljaXBhbnRDb250cmlidXRpb25bX3F1ZXJyeUFkZHJlc3NdIC8gdG90YWxFdGhSYWlzZWQ7IAkKCX0gCQoKCWZ1bmN0aW9uIGdldENvZm91bmRpdFRva2VuQWRkcmVzcygpIGNvbnN0YW50IHJldHVybnMoYWRkcmVzcyBfdG9rZW5BZGRyZXNzKXsgCQkKCQlyZXR1cm4gYWRkcmVzcyhjb2ZvdW5kaXRUb2tlbkNvbnRyYWN0KTsgCQoJfSAJCgoJZnVuY3Rpb24gaWNvSW5Qcm9ncmVzcygpIGNvbnN0YW50IHJldHVybnMgKGJvb2wgYW5zd2VyKXsgCQkKCQlyZXR1cm4gaWNvSGFzU3RhcnRlZCAmJiAhaWNvSGFzU3VjZXNzZnVseUVuZGVkOyAJCgl9IAkKCglmdW5jdGlvbiBpc0FkZHJlc3NBbGxvd2VkSW5QcmVzYWxlKGFkZHJlc3MgX3F1ZXJyeUFkZHJlc3MpIGNvbnN0YW50IHJldHVybnMgKGJvb2wgYW5zd2VyKXsgCQkKCQlyZXR1cm4gcHJlc2FsZUNvbnRyaWJ1dG9yQWxsb3dhbmNlW19xdWVycnlBZGRyZXNzXTsgCQoJfSAJCgoJZnVuY3Rpb24gcGFydGljaXBhbnRDb250cmlidXRpb25JbkV0aChhZGRyZXNzIF9xdWVycnlBZGRyZXNzKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGFuc3dlcil7IAkJCgkJcmV0dXJuIHBhcnRpY2lwYW50Q29udHJpYnV0aW9uW19xdWVycnlBZGRyZXNzXTsgCQoJfQoKCS8vCgkvKiBUaGlzIHBhcnQgaXMgaGVyZSBvbmx5IGZvciB0ZXN0aW5nIGFuZCB3aWxsIG5vdCBiZSBpbmNsdWRlZCBpbnRvIGZpbmFsIHZlcnNpb24gKi8KCS8vCgkvL2Z1bmN0aW9uIGtpbGxDb250cmFjdCgpIG9ubHlPd25lcnsKCS8vCXNlbGZkZXN0cnVjdChtc2cuc2VuZGVyKTsKCS8vfQp9'.
	

]
