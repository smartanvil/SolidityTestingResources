Class {
	#name : #SRT59af705aE5c1a41CF7b50Fd374dE359Eb2c7Cf5c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT59af705aE5c1a41CF7b50Fd374dE359Eb2c7Cf5c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTA7Cgpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9Cgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoKICAgIHVpbnQyNTYgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9CgogIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICB9IGVsc2UgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgIH0KICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cgp9Cgpjb250cmFjdCBDY2NUb2tlbkljbyBpcyBTdGFuZGFyZFRva2VuIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIkNyeXB0byBDcmVkaXQgQ2FyZCBUb2tlbiI7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJDQ0NSIjsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDY7CiAgICAKICAgIHVpbnQyNTYgcHVibGljIGNudE1lbWJlcnMgPSAwOwogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHkgPSAyMDAwMDAwMDAgKiAodWludDI1NigxMCkgKiogZGVjaW1hbHMpOwogICAgdWludDI1NiBwdWJsaWMgdG90YWxSYWlzZWQ7CgogICAgdWludDI1NiBwdWJsaWMgc3RhcnRUaW1lc3RhbXA7CiAgICB1aW50MjU2IHB1YmxpYyBkdXJhdGlvblNlY29uZHMgPSB1aW50MjU2KDg2NDAwICogNyAqIDExKTsKCiAgICB1aW50MjU2IHB1YmxpYyBtaW5DYXAgPSAzMDAwMDAwICogKHVpbnQyNTYoMTApICoqIGRlY2ltYWxzKTsKICAgIHVpbnQyNTYgcHVibGljIG1heENhcCA9IDIwMDAwMDAwMCAqICh1aW50MjU2KDEwKSAqKiBkZWNpbWFscyk7CiAgICAKICAgIHVpbnQyNTYgcHVibGljIGF2Z1JhdGUgPSB1aW50MjU2KHVpbnQyNTYoMTApKiooMTgtZGVjaW1hbHMpKS5kaXYoNDYwKTsKCiAgICBhZGRyZXNzIHB1YmxpYyBzdHVmZiA9IDB4MENjQ2I5YkFBZEQ2MUY5ZTBhYjI1YkQ3ODI3NjUwMTM4MTc4MjFiRDsKICAgIGFkZHJlc3MgcHVibGljIHRlYW1hID0gMHhmYzY4NTEzMjRlMjkwMWIzZWE2MTcwYTkwQ2M0M0JGZTY2N0Q2MTdBOwogICAgYWRkcmVzcyBwdWJsaWMgdGVhbWIgPSAweDIxZjBGNUU4MUJFRjRkYzY5NkM2QkYwMTk2YzYwYTFhQzc5N2Y5NTM7CiAgICBhZGRyZXNzIHB1YmxpYyB0ZWFtYyA9IDB4RTg3MjY5NDJhNDZFNkM2QjNDMUYwNjFjMTRhMTVjMDA1M0E5N0I2YjsKICAgIGFkZHJlc3MgcHVibGljIGZvdW5kZXIgPSAweGJiMmVmRmFiOTMyYTRjMmY3N0ZjMTYxN0MxYTU2MzczOEQ3MUIwYTc7CiAgICBhZGRyZXNzIHB1YmxpYyBiYXNlb3duZXI7CgogICAgZXZlbnQgTG9nVHJhbnNmZXIoYWRkcmVzcyBzZW5kZXIsIGFkZHJlc3MgdG8sIHVpbnQgYW1vdW50KTsKICAgIGV2ZW50IENsZWFyaW5nKGFkZHJlc3MgdG8sIHVpbnQyNTYgYW1vdW50KTsKCiAgICBmdW5jdGlvbiBDY2NUb2tlbkljbygKICAgICkgCiAgICB7CiAgICAgICAgY250TWVtYmVycyA9IDA7CiAgICAgICAgc3RhcnRUaW1lc3RhbXAgPSBub3cgLSAxNCBkYXlzOwogICAgICAgIGJhc2Vvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgYmFsYW5jZXNbYmFzZW93bmVyXSA9IHRvdGFsU3VwcGx5OwogICAgICAgIFRyYW5zZmVyKDB4MCwgYmFzZW93bmVyLCB0b3RhbFN1cHBseSk7CiAgICB9CgogICAgZnVuY3Rpb24gYnZhKGFkZHJlc3MgcGFydG5lciwgdWludDI1NiB2YWx1ZSwgdWludDI1NiByYXRlLCBhZGRyZXNzIGFkdmlzZXIpIGlzSWNvT3BlbiBwYXlhYmxlIHB1YmxpYyAKICAgIHsKICAgICAgdWludDI1NiB0b2tlbkFtb3VudCA9IGNhbGN1bGF0ZVRva2VuQW1vdW50KHZhbHVlKTsKICAgICAgaWYobXNnLnZhbHVlICE9IDApCiAgICAgIHsKICAgICAgICB0b2tlbkFtb3VudCA9IGNhbGN1bGF0ZVRva2VuQ291bnQobXNnLnZhbHVlLGF2Z1JhdGUpOwogICAgICB9ZWxzZQogICAgICB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHN0dWZmKTsKICAgICAgICBhdmdSYXRlID0gYXZnUmF0ZS5hZGQocmF0ZSkuZGl2KDIpOwogICAgICB9CiAgICAgIGlmKG1zZy52YWx1ZSAhPSAwKQogICAgICB7CiAgICAgICAgQ2xlYXJpbmcodGVhbWEsIG1zZy52YWx1ZS5tdWwoNykuZGl2KDEwMCkpOwogICAgICAgIHRlYW1hLnRyYW5zZmVyKG1zZy52YWx1ZS5tdWwoNykuZGl2KDEwMCkpOwogICAgICAgIENsZWFyaW5nKHRlYW1iLCBtc2cudmFsdWUubXVsKDEyKS5kaXYoMTAwMCkpOwogICAgICAgIHRlYW1iLnRyYW5zZmVyKG1zZy52YWx1ZS5tdWwoMTIpLmRpdigxMDAwKSk7CiAgICAgICAgQ2xlYXJpbmcodGVhbWMsIG1zZy52YWx1ZS5tdWwoOSkuZGl2KDEwMDApKTsKICAgICAgICB0ZWFtYy50cmFuc2Zlcihtc2cudmFsdWUubXVsKDkpLmRpdigxMDAwKSk7CiAgICAgICAgQ2xlYXJpbmcoc3R1ZmYsIG1zZy52YWx1ZS5tdWwoOSkuZGl2KDEwMDApKTsKICAgICAgICBzdHVmZi50cmFuc2Zlcihtc2cudmFsdWUubXVsKDkpLmRpdigxMDAwKSk7CiAgICAgICAgQ2xlYXJpbmcoZm91bmRlciwgbXNnLnZhbHVlLm11bCg3MCkuZGl2KDEwMCkpOwogICAgICAgIGZvdW5kZXIudHJhbnNmZXIobXNnLnZhbHVlLm11bCg3MCkuZGl2KDEwMCkpOwogICAgICAgIGlmKHBhcnRuZXIgIT0gYWR2aXNlcikKICAgICAgICB7CiAgICAgICAgICBDbGVhcmluZyhhZHZpc2VyLCBtc2cudmFsdWUubXVsKDIwKS5kaXYoMTAwKSk7CiAgICAgICAgICBhZHZpc2VyLnRyYW5zZmVyKG1zZy52YWx1ZS5tdWwoMjApLmRpdigxMDApKTsKICAgICAgICB9ZWxzZQogICAgICAgIHsKICAgICAgICAgIENsZWFyaW5nKGZvdW5kZXIsIG1zZy52YWx1ZS5tdWwoMjApLmRpdigxMDApKTsKICAgICAgICAgIGZvdW5kZXIudHJhbnNmZXIobXNnLnZhbHVlLm11bCgyMCkuZGl2KDEwMCkpOwogICAgICAgIH0gCiAgICAgIH0KICAgICAgdG90YWxSYWlzZWQgPSB0b3RhbFJhaXNlZC5hZGQodG9rZW5BbW91bnQpOwogICAgICBiYWxhbmNlc1tiYXNlb3duZXJdID0gYmFsYW5jZXNbYmFzZW93bmVyXS5zdWIodG9rZW5BbW91bnQpOwogICAgICBiYWxhbmNlc1twYXJ0bmVyXSA9IGJhbGFuY2VzW3BhcnRuZXJdLmFkZCh0b2tlbkFtb3VudCk7CiAgICAgIFRyYW5zZmVyKGJhc2Vvd25lciwgcGFydG5lciwgdG9rZW5BbW91bnQpOwogICAgICBjbnRNZW1iZXJzID0gY250TWVtYmVycy5hZGQoMSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uKCkgaXNJY29PcGVuIHBheWFibGUgcHVibGljCiAgICB7CiAgICAgIGlmKG1zZy52YWx1ZSAhPSAwKQogICAgICB7CiAgICAgICAgdWludDI1NiB0b2tlbkFtb3VudCA9IGNhbGN1bGF0ZVRva2VuQ291bnQobXNnLnZhbHVlLGF2Z1JhdGUpOwogICAgICAgIENsZWFyaW5nKHRlYW1hLCBtc2cudmFsdWUubXVsKDcpLmRpdigxMDApKTsKICAgICAgICB0ZWFtYS50cmFuc2Zlcihtc2cudmFsdWUubXVsKDcpLmRpdigxMDApKTsKICAgICAgICBDbGVhcmluZyh0ZWFtYiwgbXNnLnZhbHVlLm11bCgxMikuZGl2KDEwMDApKTsKICAgICAgICB0ZWFtYi50cmFuc2Zlcihtc2cudmFsdWUubXVsKDEyKS5kaXYoMTAwMCkpOwogICAgICAgIENsZWFyaW5nKHRlYW1jLCBtc2cudmFsdWUubXVsKDkpLmRpdigxMDAwKSk7CiAgICAgICAgdGVhbWMudHJhbnNmZXIobXNnLnZhbHVlLm11bCg5KS5kaXYoMTAwMCkpOwogICAgICAgIENsZWFyaW5nKHN0dWZmLCBtc2cudmFsdWUubXVsKDkpLmRpdigxMDAwKSk7CiAgICAgICAgc3R1ZmYudHJhbnNmZXIobXNnLnZhbHVlLm11bCg5KS5kaXYoMTAwMCkpOwogICAgICAgIENsZWFyaW5nKGZvdW5kZXIsIG1zZy52YWx1ZS5tdWwoOTApLmRpdigxMDApKTsKICAgICAgICBmb3VuZGVyLnRyYW5zZmVyKG1zZy52YWx1ZS5tdWwoOTApLmRpdigxMDApKTsKICAgICAgICB0b3RhbFJhaXNlZCA9IHRvdGFsUmFpc2VkLmFkZCh0b2tlbkFtb3VudCk7CiAgICAgICAgYmFsYW5jZXNbYmFzZW93bmVyXSA9IGJhbGFuY2VzW2Jhc2Vvd25lcl0uc3ViKHRva2VuQW1vdW50KTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLmFkZCh0b2tlbkFtb3VudCk7CiAgICAgICAgVHJhbnNmZXIoYmFzZW93bmVyLCBtc2cuc2VuZGVyLCB0b2tlbkFtb3VudCk7CiAgICAgICAgY250TWVtYmVycyA9IGNudE1lbWJlcnMuYWRkKDEpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gY2FsY3VsYXRlVG9rZW5BbW91bnQodWludDI1NiBjb3VudCkgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSAKICAgIHsKICAgICAgICB1aW50MjU2IGljb0RlZmxhdG9yID0gZ2V0SWNvRGVmbGF0b3IoKTsKICAgICAgICByZXR1cm4gY291bnQubXVsKGljb0RlZmxhdG9yKS5kaXYoMTAwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjYWxjdWxhdGVUb2tlbkNvdW50KHVpbnQyNTYgd2VpQW1vdW50LCB1aW50MjU2IHJhdGUpIGNvbnN0YW50IHJldHVybnModWludDI1NikgCiAgICB7CiAgICAgICAgaWYocmF0ZT09MClyZXZlcnQoKTsKICAgICAgICB1aW50MjU2IGljb0RlZmxhdG9yID0gZ2V0SWNvRGVmbGF0b3IoKTsKICAgICAgICByZXR1cm4gd2VpQW1vdW50LmRpdihyYXRlKS5tdWwoaWNvRGVmbGF0b3IpLmRpdigxMDApOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEljb0RlZmxhdG9yKCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikKICAgIHsKICAgICAgICBpZiAobm93IDw9IHN0YXJ0VGltZXN0YW1wICsgMTUgZGF5cykgCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gMTM4OwogICAgICAgIH1lbHNlIGlmIChub3cgPD0gc3RhcnRUaW1lc3RhbXAgKyAyOSBkYXlzKSAKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiAxMjM7CiAgICAgICAgfWVsc2UgaWYgKG5vdyA8PSBzdGFydFRpbWVzdGFtcCArIDQzIGRheXMpIAogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIDExNTsKICAgICAgICB9ZWxzZSAKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiAxMDk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGZpbmFsaXplKHVpbnQyNTYgd2VpQW1vdW50KSBpc0ljb0ZpbmlzaGVkIGlzU3R1ZmYgcGF5YWJsZSBwdWJsaWMKICAgIHsKICAgICAgaWYobXNnLnNlbmRlciA9PSBmb3VuZGVyKQogICAgICB7CiAgICAgICAgZm91bmRlci50cmFuc2Zlcih3ZWlBbW91bnQpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBpc0ljb0ZpbmlzaGVkIHJldHVybnMgKGJvb2wpIAogICAgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaXNJY29GaW5pc2hlZCByZXR1cm5zIChib29sKSAKICAgIHsKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgbW9kaWZpZXIgaXNTdHVmZigpIAogICAgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBzdHVmZiB8fCBtc2cuc2VuZGVyID09IGZvdW5kZXIpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgaXNJY29PcGVuKCkgCiAgICB7CiAgICAgICAgcmVxdWlyZShub3cgPj0gc3RhcnRUaW1lc3RhbXApOy8vMTUuMTEtMjkuMTEgcHJlIElDTwogICAgICAgIHJlcXVpcmUobm93IDw9IHN0YXJ0VGltZXN0YW1wICsgMTQgZGF5cyB8fCBub3cgPj0gc3RhcnRUaW1lc3RhbXAgKyAxOSBkYXlzKTsvL2dhcCAyOS4xMS0wNC4xMgogICAgICAgIHJlcXVpcmUobm93IDw9IChzdGFydFRpbWVzdGFtcCArIGR1cmF0aW9uU2Vjb25kcykgfHwgdG90YWxSYWlzZWQgPCBtaW5DYXApOy8vMDQuMTItMDIuMDIgSUNPCiAgICAgICAgcmVxdWlyZSh0b3RhbFJhaXNlZCA8PSBtYXhDYXApOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgaXNJY29GaW5pc2hlZCgpIAogICAgewogICAgICAgIHJlcXVpcmUobm93ID49IHN0YXJ0VGltZXN0YW1wKTsKICAgICAgICByZXF1aXJlKHRvdGFsUmFpc2VkID49IG1heENhcCB8fCAobm93ID49IChzdGFydFRpbWVzdGFtcCArIGR1cmF0aW9uU2Vjb25kcykgJiYgdG90YWxSYWlzZWQgPj0gbWluQ2FwKSk7CiAgICAgICAgXzsKICAgIH0KCn0='.
	

]
