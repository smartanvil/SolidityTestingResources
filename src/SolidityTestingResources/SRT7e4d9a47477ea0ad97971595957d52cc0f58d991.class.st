Class {
	#name : #SRT7e4d9a47477ea0ad97971595957d52cc0f58d991,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT7e4d9a47477ea0ad97971595957d52cc0f58d991 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgppbnRlcmZhY2UgQ29uZmxpY3RSZXNvbHV0aW9uSW50ZXJmYWNlIHsKICAgIGZ1bmN0aW9uIG1pbkhvdXNlU3Rha2UodWludCBhY3RpdmVHYW1lcykgcHVibGljIHB1cmUgcmV0dXJucyh1aW50KTsKCiAgICBmdW5jdGlvbiBtYXhCYWxhbmNlKCkgcHVibGljIHB1cmUgcmV0dXJucyhpbnQpOwoKICAgIGZ1bmN0aW9uIGlzVmFsaWRCZXQodWludDggX2dhbWVUeXBlLCB1aW50IF9iZXROdW0sIHVpbnQgX2JldFZhbHVlKSBwdWJsaWMgcHVyZSByZXR1cm5zKGJvb2wpOwoKICAgIGZ1bmN0aW9uIGVuZEdhbWVDb25mbGljdCgKICAgICAgICB1aW50OCBfZ2FtZVR5cGUsCiAgICAgICAgdWludCBfYmV0TnVtLAogICAgICAgIHVpbnQgX2JldFZhbHVlLAogICAgICAgIGludCBfYmFsYW5jZSwKICAgICAgICB1aW50IF9zdGFrZSwKICAgICAgICBieXRlczMyIF9zZXJ2ZXJTZWVkLAogICAgICAgIGJ5dGVzMzIgX3BsYXllclNlZWQKICAgICkKICAgICAgICBwdWJsaWMKICAgICAgICB2aWV3CiAgICAgICAgcmV0dXJucyhpbnQpOwoKICAgIGZ1bmN0aW9uIHNlcnZlckZvcmNlR2FtZUVuZCgKICAgICAgICB1aW50OCBnYW1lVHlwZSwKICAgICAgICB1aW50IF9iZXROdW0sCiAgICAgICAgdWludCBfYmV0VmFsdWUsCiAgICAgICAgaW50IF9iYWxhbmNlLAogICAgICAgIHVpbnQgX3N0YWtlLAogICAgICAgIHVpbnQgX2VuZEluaXRpYXRlZFRpbWUKICAgICkKICAgICAgICBwdWJsaWMKICAgICAgICB2aWV3CiAgICAgICAgcmV0dXJucyhpbnQpOwoKICAgIGZ1bmN0aW9uIHBsYXllckZvcmNlR2FtZUVuZCgKICAgICAgICB1aW50OCBfZ2FtZVR5cGUsCiAgICAgICAgdWludCBfYmV0TnVtLAogICAgICAgIHVpbnQgX2JldFZhbHVlLAogICAgICAgIGludCBfYmFsYW5jZSwKICAgICAgICB1aW50IF9zdGFrZSwKICAgICAgICB1aW50IF9lbmRJbml0aWF0ZWRUaW1lCiAgICApCiAgICAgICAgcHVibGljCiAgICAgICAgdmlldwogICAgICAgIHJldHVybnMoaW50KTsKfQoKY29udHJhY3QgQ29uZmxpY3RSZXNvbHV0aW9uIGlzIENvbmZsaWN0UmVzb2x1dGlvbkludGVyZmFjZSB7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBESUNFX1JBTkdFID0gMTAwOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgSE9VU0VfRURHRSA9IDE1MDsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IEhPVVNFX0VER0VfRElWSVNPUiA9IDEwMDAwOwoKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFNFUlZFUl9USU1FT1VUID0gMiBkYXlzOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgUExBWUVSX1RJTUVPVVQgPSAxIGRheXM7CgogICAgdWludDggcHVibGljIGNvbnN0YW50IEdBTUVfVFlQRV9ESUNFID0gMTsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IE1BWF9CRVRfVkFMVUUgPSAxZTE2OyAvLy8gbWF4IDAuMDEgZXRoZXIgYmV0CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBNSU5fQkVUX1ZBTFVFID0gMWUxMzsgLy8vIG1pbiAwLjAwMDAxIGV0aGVyIGJldAoKICAgIGludCBwdWJsaWMgY29uc3RhbnQgTk9UX0VOREVEX0ZJTkUgPSAxZTE1OyAvLy8gMC4wMDEgZXRoZXIKCiAgICBpbnQgcHVibGljIGNvbnN0YW50IE1BWF9CQUxBTkNFID0gaW50KE1BWF9CRVRfVkFMVUUpICogMTAwICogNTsKCiAgICBtb2RpZmllciBvbmx5VmFsaWRCZXQodWludDggX2dhbWVUeXBlLCB1aW50IF9iZXROdW0sIHVpbnQgX2JldFZhbHVlKSB7CiAgICAgICAgcmVxdWlyZShpc1ZhbGlkQmV0KF9nYW1lVHlwZSwgX2JldE51bSwgX2JldFZhbHVlKSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5VmFsaWRCYWxhbmNlKGludCBfYmFsYW5jZSwgdWludCBfZ2FtZVN0YWtlKSB7CiAgICAgICAgLy8gc2FmZSB0byBjYXN0IGdhbWVTdGFrZSBhcyByYW5nZSBpcyBmaXhlZAogICAgICAgIHJlcXVpcmUoLWludChfZ2FtZVN0YWtlKSA8PSBfYmFsYW5jZSAmJiBfYmFsYW5jZSA8IE1BWF9CQUxBTkNFKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBDaGVjayBpZiBiZXQgaXMgdmFsaWQuCiAgICAgKiBAcGFyYW0gX2dhbWVUeXBlIEdhbWUgdHlwZS4KICAgICAqIEBwYXJhbSBfYmV0TnVtIE51bWJlciBvZiBiZXQuCiAgICAgKiBAcGFyYW0gX2JldFZhbHVlIFZhbHVlIG9mIGJldC4KICAgICAqIEByZXR1cm4gVHJ1ZSBpZiBiZXQgaXMgdmFsaWQgZmFsc2Ugb3RoZXJ3aXNlLgogICAgICovCiAgICBmdW5jdGlvbiBpc1ZhbGlkQmV0KHVpbnQ4IF9nYW1lVHlwZSwgdWludCBfYmV0TnVtLCB1aW50IF9iZXRWYWx1ZSkgcHVibGljIHB1cmUgcmV0dXJucyhib29sKSB7CiAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgKF9nYW1lVHlwZSA9PSBHQU1FX1RZUEVfRElDRSkgJiYKICAgICAgICAgICAgKF9iZXROdW0gPiAwICYmIF9iZXROdW0gPCBESUNFX1JBTkdFKSAmJgogICAgICAgICAgICAoTUlOX0JFVF9WQUxVRSA8PSBfYmV0VmFsdWUgJiYgX2JldFZhbHVlIDw9IE1BWF9CRVRfVkFMVUUpCiAgICAgICAgKTsKICAgIH0KCiAgICAvKioKICAgICAqIEByZXR1cm4gTWF4IGJhbGFuY2UuCiAgICAgKi8KICAgIGZ1bmN0aW9uIG1heEJhbGFuY2UoKSBwdWJsaWMgcHVyZSByZXR1cm5zKGludCkgewogICAgICAgIHJldHVybiBNQVhfQkFMQU5DRTsKICAgIH0KCiAgICAvKioKICAgICAqIENhbGN1bGF0ZSBtaW5pbXVtIG5lZWRlZCBob3VzZSBzdGFrZS4KICAgICAqLwogICAgZnVuY3Rpb24gbWluSG91c2VTdGFrZSh1aW50IGFjdGl2ZUdhbWVzKSBwdWJsaWMgcHVyZSByZXR1cm5zKHVpbnQpIHsKICAgICAgICByZXR1cm4gIE1hdGhVdGlsLm1pbihhY3RpdmVHYW1lcywgMSkgKiBNQVhfQkVUX1ZBTFVFICogNDAwOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBDYWxjdWxhdGVzIGdhbWUgcmVzdWx0IGFuZCByZXR1cm5zIG5ldyBiYWxhbmNlLgogICAgICogQHBhcmFtIF9nYW1lVHlwZSBUeXBlIG9mIGdhbWUuCiAgICAgKiBAcGFyYW0gX2JldE51bSBCZXQgbnVtYmVyLgogICAgICogQHBhcmFtIF9iZXRWYWx1ZSBWYWx1ZSBvZiBiZXQuCiAgICAgKiBAcGFyYW0gX2JhbGFuY2UgQ3VycmVudCBiYWxhbmNlLgogICAgICogQHBhcmFtIF9zZXJ2ZXJTZWVkIFNlcnZlcidzIHNlZWQgb2YgY3VycmVudCByb3VuZC4KICAgICAqIEBwYXJhbSBfcGxheWVyU2VlZCBQbGF5ZXIncyBzZWVkIG9mIGN1cnJlbnQgcm91bmQuCiAgICAgKiBAcmV0dXJuIE5ldyBnYW1lIHNlc3Npb24gYmFsYW5jZS4KICAgICAqLwogICAgZnVuY3Rpb24gZW5kR2FtZUNvbmZsaWN0KAogICAgICAgIHVpbnQ4IF9nYW1lVHlwZSwKICAgICAgICB1aW50IF9iZXROdW0sCiAgICAgICAgdWludCBfYmV0VmFsdWUsCiAgICAgICAgaW50IF9iYWxhbmNlLAogICAgICAgIHVpbnQgX3N0YWtlLAogICAgICAgIGJ5dGVzMzIgX3NlcnZlclNlZWQsCiAgICAgICAgYnl0ZXMzMiBfcGxheWVyU2VlZAogICAgKQogICAgICAgIHB1YmxpYwogICAgICAgIHZpZXcKICAgICAgICBvbmx5VmFsaWRCZXQoX2dhbWVUeXBlLCBfYmV0TnVtLCBfYmV0VmFsdWUpCiAgICAgICAgb25seVZhbGlkQmFsYW5jZShfYmFsYW5jZSwgX3N0YWtlKQogICAgICAgIHJldHVybnMoaW50KQogICAgewogICAgICAgIGFzc2VydChfc2VydmVyU2VlZCAhPSAwICYmIF9wbGF5ZXJTZWVkICE9IDApOwoKICAgICAgICBpbnQgbmV3QmFsYW5jZSA9ICBwcm9jZXNzRGljZUJldChfYmV0TnVtLCBfYmV0VmFsdWUsIF9iYWxhbmNlLCBfc2VydmVyU2VlZCwgX3BsYXllclNlZWQpOwoKICAgICAgICAvLyBkbyBub3QgYWxsb3cgYmFsYW5jZSBiZWxvdyBwbGF5ZXIgc3Rha2UKICAgICAgICBpbnQgc3Rha2UgPSBpbnQoX3N0YWtlKTsKICAgICAgICBpZiAobmV3QmFsYW5jZSA8IC1zdGFrZSkgewogICAgICAgICAgICBuZXdCYWxhbmNlID0gLXN0YWtlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG5ld0JhbGFuY2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEZvcmNlIGVuZCBvZiBnYW1lIGlmIHBsYXllciBkb2VzIG5vdCByZXNwb25kLiBPbmx5IHBvc3NpYmxlIGFmdGVyIGEgdGltZSBwZXJpb2QuCiAgICAgKiB0byBnaXZlIHRoZSBwbGF5ZXIgYSBjaGFuY2UgdG8gcmVzcG9uZC4KICAgICAqIEBwYXJhbSBfZ2FtZVR5cGUgR2FtZSB0eXBlLgogICAgICogQHBhcmFtIF9iZXROdW0gQmV0IG51bWJlci4KICAgICAqIEBwYXJhbSBfYmV0VmFsdWUgQmV0IHZhbHVlLgogICAgICogQHBhcmFtIF9iYWxhbmNlIEN1cnJlbnQgYmFsYW5jZS4KICAgICAqIEBwYXJhbSBfc3Rha2UgUGxheWVyIHN0YWtlLgogICAgICogQHBhcmFtIF9lbmRJbml0aWF0ZWRUaW1lIFRpbWUgc2VydmVyIGluaXRpYXRlZCBlbmQuCiAgICAgKiBAcmV0dXJuIE5ldyBnYW1lIHNlc3Npb24gYmFsYW5jZS4KICAgICAqLwogICAgZnVuY3Rpb24gc2VydmVyRm9yY2VHYW1lRW5kKAogICAgICAgIHVpbnQ4IF9nYW1lVHlwZSwKICAgICAgICB1aW50IF9iZXROdW0sCiAgICAgICAgdWludCBfYmV0VmFsdWUsCiAgICAgICAgaW50IF9iYWxhbmNlLAogICAgICAgIHVpbnQgX3N0YWtlLAogICAgICAgIHVpbnQgX2VuZEluaXRpYXRlZFRpbWUKICAgICkKICAgICAgICBwdWJsaWMKICAgICAgICB2aWV3CiAgICAgICAgb25seVZhbGlkQmFsYW5jZShfYmFsYW5jZSwgX3N0YWtlKQogICAgICAgIHJldHVybnMoaW50KQogICAgewogICAgICAgIHJlcXVpcmUoX2VuZEluaXRpYXRlZFRpbWUgKyBTRVJWRVJfVElNRU9VVCA8PSBibG9jay50aW1lc3RhbXApOwogICAgICAgIHJlcXVpcmUoaXNWYWxpZEJldChfZ2FtZVR5cGUsIF9iZXROdW0sIF9iZXRWYWx1ZSkKICAgICAgICAgICAgICAgIHx8IChfZ2FtZVR5cGUgPT0gMCAmJiBfYmV0TnVtID09IDAgJiYgX2JldFZhbHVlID09IDAgJiYgX2JhbGFuY2UgPT0gMCkpOwoKCiAgICAgICAgLy8gZm9sbG93aW5nIGNhc3RzIGFuZCBjYWxjdWxhdGlvbnMgYXJlIHNhZmUgYXMgcmFuZ2VzIGFyZSBmaXhlZAogICAgICAgIC8vIGFzc3VtZSBwbGF5ZXIgaGFzIGxvc3QKICAgICAgICBpbnQgbmV3QmFsYW5jZSA9IF9iYWxhbmNlIC0gaW50KF9iZXRWYWx1ZSk7CgogICAgICAgIC8vIHBlbmFsaXplIHBsYXllciBhcyBoZSBkaWRuJ3QgZW5kIGdhbWUKICAgICAgICBuZXdCYWxhbmNlIC09IE5PVF9FTkRFRF9GSU5FOwoKICAgICAgICAvLyBkbyBub3QgYWxsb3cgYmFsYW5jZSBiZWxvdyBwbGF5ZXIgc3Rha2UKICAgICAgICBpbnQgc3Rha2UgPSBpbnQoX3N0YWtlKTsKICAgICAgICBpZiAobmV3QmFsYW5jZSA8IC1zdGFrZSkgewogICAgICAgICAgICBuZXdCYWxhbmNlID0gLXN0YWtlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG5ld0JhbGFuY2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEZvcmNlIGVuZCBvZiBnYW1lIGlmIHNlcnZlciBkb2VzIG5vdCByZXNwb25kLiBPbmx5IHBvc3NpYmxlIGFmdGVyIGEgdGltZSBwZXJpb2QKICAgICAqIHRvIGdpdmUgdGhlIHNlcnZlciBhIGNoYW5jZSB0byByZXNwb25kLgogICAgICogQHBhcmFtIF9nYW1lVHlwZSBHYW1lIHR5cGUuCiAgICAgKiBAcGFyYW0gX2JldE51bSBCZXQgbnVtYmVyLgogICAgICogQHBhcmFtIF9iZXRWYWx1ZSBWYWx1ZSBvZiBiZXQuCiAgICAgKiBAcGFyYW0gX2JhbGFuY2UgQ3VycmVudCBiYWxhbmNlLgogICAgICogQHBhcmFtIF9lbmRJbml0aWF0ZWRUaW1lIFRpbWUgc2VydmVyIGluaXRpYXRlZCBlbmQuCiAgICAgKiBAcmV0dXJuIE5ldyBnYW1lIHNlc3Npb24gYmFsYW5jZS4KICAgICAqLwogICAgZnVuY3Rpb24gcGxheWVyRm9yY2VHYW1lRW5kKAogICAgICAgIHVpbnQ4IF9nYW1lVHlwZSwKICAgICAgICB1aW50IF9iZXROdW0sCiAgICAgICAgdWludCBfYmV0VmFsdWUsCiAgICAgICAgaW50IF9iYWxhbmNlLAogICAgICAgIHVpbnQgIF9zdGFrZSwKICAgICAgICB1aW50IF9lbmRJbml0aWF0ZWRUaW1lCiAgICApCiAgICAgICAgcHVibGljCiAgICAgICAgdmlldwogICAgICAgIG9ubHlWYWxpZEJhbGFuY2UoX2JhbGFuY2UsIF9zdGFrZSkKICAgICAgICByZXR1cm5zKGludCkKICAgIHsKICAgICAgICByZXF1aXJlKF9lbmRJbml0aWF0ZWRUaW1lICsgUExBWUVSX1RJTUVPVVQgPD0gYmxvY2sudGltZXN0YW1wKTsKICAgICAgICByZXF1aXJlKGlzVmFsaWRCZXQoX2dhbWVUeXBlLCBfYmV0TnVtLCBfYmV0VmFsdWUpIHx8CiAgICAgICAgICAgICAgICAoX2dhbWVUeXBlID09IDAgJiYgX2JldE51bSA9PSAwICYmIF9iZXRWYWx1ZSA9PSAwICYmIF9iYWxhbmNlID09IDApKTsKCiAgICAgICAgaW50IHByb2ZpdCA9IDA7CiAgICAgICAgaWYgKF9nYW1lVHlwZSA9PSAwICYmIF9iZXROdW0gPT0gMCAmJiBfYmV0VmFsdWUgPT0gMCAmJiBfYmFsYW5jZSA9PSAwKSB7CiAgICAgICAgICAgIC8vIHBsYXllciBjYW5jZWxsZWQgZ2FtZSB3aXRob3V0IHBsYXlpbmcKICAgICAgICAgICAgcHJvZml0ID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwcm9maXQgPSBjYWxjdWxhdGVEaWNlUHJvZml0KF9iZXROdW0sIF9iZXRWYWx1ZSk7CiAgICAgICAgfQoKICAgICAgICAvLyBwZW5hbGl6ZSBzZXJ2ZXIgYXMgaXQgZGlkbid0IGVuZCBnYW1lCiAgICAgICAgcHJvZml0ICs9IE5PVF9FTkRFRF9GSU5FOwoKICAgICAgICByZXR1cm4gX2JhbGFuY2UgKyBwcm9maXQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IENhbGN1bGF0ZSBuZXcgYmFsYW5jZSBhZnRlciBleGVjdXRpbmcgYmV0LgogICAgICogQHBhcmFtIF9zZXJ2ZXJTZWVkIFNlcnZlcidzIHNlZWQKICAgICAqIEBwYXJhbSBfcGxheWVyU2VlZCBQbGF5ZXIncyBzZWVkCiAgICAgKiBAcGFyYW0gX2JldE51bSBCZXQgTnVtYmVyLgogICAgICogQHBhcmFtIF9iZXRWYWx1ZSBWYWx1ZSBvZiBiZXQuCiAgICAgKiBAcGFyYW0gX2JhbGFuY2UgQ3VycmVudCBiYWxhbmNlLgogICAgICovCiAgICBmdW5jdGlvbiBwcm9jZXNzRGljZUJldCgKICAgICAgICB1aW50IF9iZXROdW0sCiAgICAgICAgdWludCBfYmV0VmFsdWUsCiAgICAgICAgaW50IF9iYWxhbmNlLAogICAgICAgIGJ5dGVzMzIgX3NlcnZlclNlZWQsCiAgICAgICAgYnl0ZXMzMiBfcGxheWVyU2VlZAogICAgKQogICAgICAgIHByaXZhdGUKICAgICAgICBwdXJlCiAgICAgICAgcmV0dXJucyAoaW50KQogICAgewogICAgICAgIGFzc2VydChfYmV0TnVtID4gMCAmJiBfYmV0TnVtIDwgRElDRV9SQU5HRSk7CgogICAgICAgIC8vIGNoZWNrIHdobyBoYXMgd29uCiAgICAgICAgYm9vbCBwbGF5ZXJXb24gPSBjYWxjdWxhdGVEaWNlV2lubmVyKF9zZXJ2ZXJTZWVkLCBfcGxheWVyU2VlZCwgX2JldE51bSk7CgogICAgICAgIGlmIChwbGF5ZXJXb24pIHsKICAgICAgICAgICAgaW50IHByb2ZpdCA9IGNhbGN1bGF0ZURpY2VQcm9maXQoX2JldE51bSwgX2JldFZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIF9iYWxhbmNlICsgcHJvZml0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBfYmFsYW5jZSAtIGludChfYmV0VmFsdWUpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQ2FsY3VsYXRlIHBsYXllciBwcm9maXQgaWYgcGxheWVyIGhhcyB3b24uCiAgICAgKiBAcGFyYW0gX2JldE51bSBCZXQgbnVtYmVyIG9mIHBsYXllci4KICAgICAqIEBwYXJhbSBfYmV0VmFsdWUgVmFsdWUgb2YgYmV0LnNhZmUKICAgICAqIEByZXR1cm4gUGxheWVycycgcHJvZml0LgogICAgICovCiAgICBmdW5jdGlvbiBjYWxjdWxhdGVEaWNlUHJvZml0KHVpbnQgX2JldE51bSwgdWludCBfYmV0VmFsdWUpIHByaXZhdGUgcHVyZSByZXR1cm5zKGludCkgewogICAgICAgIGFzc2VydChfYmV0TnVtID4gMCAmJiBfYmV0TnVtIDwgRElDRV9SQU5HRSk7CgogICAgICAgIC8vIGNvbnZlcnQgdG8gZ3dlaSBhcyB3ZSB1c2UgZ3dlaSBhcyBsb3dlc3QgdW5pdAogICAgICAgIHVpbnQgYmV0VmFsdWUgPSBfYmV0VmFsdWUgLyAxZTk7CgogICAgICAgIC8vIHNhZmUgd2l0aG91dCBzYWZlIG1hdGggYXMgcmFuZ2VzIGFyZSBmaXhlZAogICAgICAgIHVpbnQgdG90YWxXb24gPSBiZXRWYWx1ZSAqIERJQ0VfUkFOR0UgLyBfYmV0TnVtOwogICAgICAgIHVpbnQgaG91c2VFZGdlVmFsdWUgPSB0b3RhbFdvbiAqIEhPVVNFX0VER0UgLyBIT1VTRV9FREdFX0RJVklTT1I7CiAgICAgICAgaW50IHByb2ZpdCA9IGludCh0b3RhbFdvbikgLSBpbnQoaG91c2VFZGdlVmFsdWUpIC0gaW50KGJldFZhbHVlKTsKCiAgICAgICAgLy8gY29udmVydCBiYWNrIHRvIHdlaSBhbmQgcmV0dXJuCiAgICAgICAgcmV0dXJuIHByb2ZpdCAqIDFlOTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQ2FsY3VsYXRlIHdpbm5lciBvZiBkaWNlIGdhbWUuCiAgICAgKiBAcGFyYW0gX3NlcnZlclNlZWQgU2VydmVyIHNlZWQgb2YgYmV0LgogICAgICogQHBhcmFtIF9wbGF5ZXJTZWVkIFBsYXllciBzZWVkIG9mIGJldC4KICAgICAqIEBwYXJhbSBfYmV0TnVtIEJldCBudW1iZXIuCiAgICAgKiBAcmV0dXJuIFRydWUgaWYgcGxheWVyIGhhcyB3b24gZmFsc2UgaWYgaGUgbG9zdC4KICAgICAqLwogICAgZnVuY3Rpb24gY2FsY3VsYXRlRGljZVdpbm5lcigKICAgICAgICBieXRlczMyIF9zZXJ2ZXJTZWVkLAogICAgICAgIGJ5dGVzMzIgX3BsYXllclNlZWQsCiAgICAgICAgdWludCBfYmV0TnVtCiAgICApCiAgICAgICAgcHJpdmF0ZQogICAgICAgIHB1cmUKICAgICAgICByZXR1cm5zKGJvb2wpCiAgICB7CiAgICAgICAgYXNzZXJ0KF9iZXROdW0gPiAwICYmIF9iZXROdW0gPCBESUNFX1JBTkdFKTsKCiAgICAgICAgYnl0ZXMzMiBjb21iaW5lZEhhc2ggPSBrZWNjYWsyNTYoX3NlcnZlclNlZWQsIF9wbGF5ZXJTZWVkKTsKICAgICAgICB1aW50IHJhbmRvbU51bWJlciA9IHVpbnQoY29tYmluZWRIYXNoKSAlIERJQ0VfUkFOR0U7IC8vIGJpYXMgaXMgbmVnbGlnaWJsZQogICAgICAgIHJldHVybiByYW5kb21OdW1iZXIgPCBfYmV0TnVtOwogICAgfQp9CgpsaWJyYXJ5IE1hdGhVdGlsIHsKICAgIC8qKgogICAgICogQGRldiBSZXR1cm5zIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiBfdmFsLgogICAgICogQHBhcmFtIF92YWwgdmFsdWUKICAgICAqIEByZXR1cm4gVGhlIGFic29sdXRlIHZhbHVlIG9mIF92YWwuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFicyhpbnQgX3ZhbCkgaW50ZXJuYWwgcHVyZSByZXR1cm5zKHVpbnQpIHsKICAgICAgICBpZiAoX3ZhbCA8IDApIHsKICAgICAgICAgICAgcmV0dXJuIHVpbnQoLV92YWwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB1aW50KF92YWwpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQ2FsY3VsYXRlIG1heGltdW0uCiAgICAgKi8KICAgIGZ1bmN0aW9uIG1heCh1aW50IF92YWwxLCB1aW50IF92YWwyKSBpbnRlcm5hbCBwdXJlIHJldHVybnModWludCkgewogICAgICAgIHJldHVybiBfdmFsMSA+PSBfdmFsMiA/IF92YWwxIDogX3ZhbDI7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IENhbGN1bGF0ZSBtaW5pbXVtLgogICAgICovCiAgICBmdW5jdGlvbiBtaW4odWludCBfdmFsMSwgdWludCBfdmFsMikgaW50ZXJuYWwgcHVyZSByZXR1cm5zKHVpbnQpIHsKICAgICAgICByZXR1cm4gX3ZhbDEgPD0gX3ZhbDIgPyBfdmFsMSA6IF92YWwyOwogICAgfQp9'.
	

]
