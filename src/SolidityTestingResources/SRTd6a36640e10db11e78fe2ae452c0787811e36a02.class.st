Class {
	#name : #SRTd6a36640e10db11e78fe2ae452c0787811e36a02,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd6a36640e10db11e78fe2ae452c0787811e36a02 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7Cgpjb250cmFjdCBUb2tlbiB7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwp9Cgpjb250cmFjdCBWZXJzaW9uYWJsZSB7CiAgICBzdHJpbmcgcHVibGljIHZlcnNpb25Db2RlOwoKICAgIGZ1bmN0aW9uIGdldFZlcnNpb25CeXRlKHVpbnQgaW5kZXgpIGNvbnN0YW50IHJldHVybnMgKGJ5dGVzMSkgeyAKICAgICAgICByZXR1cm4gYnl0ZXModmVyc2lvbkNvZGUpW2luZGV4XTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRWZXJzaW9uTGVuZ3RoKCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBieXRlcyh2ZXJzaW9uQ29kZSkubGVuZ3RoOwogICAgfQp9Cgpjb250cmFjdCBDb250cmFjdENhdGFsb2cgewogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgVkVSU0lPTiA9IDE7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IFNFUEFSQVRPUiA9ICItIjsKCiAgICBUb2tlbiBwdWJsaWMgdG9rZW47CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIAogICAgZXZlbnQgUmVnaXN0ZXJlZFByZWZpeChzdHJpbmcgX3ByZWZpeCwgYWRkcmVzcyBfb3duZXIpOwogICAgZXZlbnQgVHJhbnNmZXJyZWRQcmVmaXgoc3RyaW5nIF9wcmVmaXgsIGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvKTsKICAgIGV2ZW50IFVucmVnaXN0ZXJlZFByZWZpeChzdHJpbmcgX3ByZWZpeCwgYWRkcmVzcyBfZnJvbSk7CiAgICBldmVudCBOZXdQcmVmaXhQcmljZSh1aW50MjU2IF9sZW5ndGgsIHVpbnQyNTYgX3ByaWNlKTsKICAgIGV2ZW50IFJlZ2lzdGVyZWRDb250cmFjdChzdHJpbmcgX3ZlcnNpb24sIGFkZHJlc3MgX2J5KTsKICAgIAogICAgc3RydWN0IENvbnRyYWN0VHlwZSB7CiAgICAgICAgc3RyaW5nIGNvZGU7CiAgICAgICAgYnl0ZXMgYnl0ZWNvZGU7CiAgICB9CgogICAgZnVuY3Rpb24gQ29udHJhY3RDYXRhbG9nKCkgewogICAgICAgIHRva2VuID0gVG9rZW4oYWRkcmVzcygweEY5NzBiOEUzNmUyM0Y3ZkMzRkQ3NTJFZUE4NmY4QmU4RDgzMzc1QTYpKTsKICAgICAgICBvd25lciA9IGFkZHJlc3MoMHhBMTA5MTQ4MUFFZGU0YWREZTAwQzFhMjY5OTJBRTQ5YTdlMEUxRkIwKTsKCiAgICAgICAgLy8gU2V0IHVwIGFsbCBmb3JnaXZlZCBjaGFycwogICAgICAgIGFkZEZvcmdpdmVkQ2hhcigiICIpOwogICAgICAgIGFkZEZvcmdpdmVkQ2hhcigi4oCQIik7CiAgICAgICAgYWRkRm9yZ2l2ZWRDaGFyKCLigJEiKTsKICAgICAgICBhZGRGb3JnaXZlZENoYXIoIuKAkiIpOwogICAgICAgIGFkZEZvcmdpdmVkQ2hhcigi4oCTIik7CiAgICAgICAgYWRkRm9yZ2l2ZWRDaGFyKCLvuZgiKTsKICAgICAgICBhZGRGb3JnaXZlZENoYXIoItuUIik7CiAgICAgICAgYWRkRm9yZ2l2ZWRDaGFyKCLigYMiKTsKICAgICAgICBhZGRGb3JnaXZlZENoYXIoIsuXIik7CiAgICAgICAgYWRkRm9yZ2l2ZWRDaGFyKCLiiJIiKTsKICAgICAgICBhZGRGb3JnaXZlZENoYXIoIuKeliIpOwogICAgICAgIGFkZEZvcmdpdmVkQ2hhcigi4rK6Iik7CiAgICB9CgogICAgbWFwcGluZyhzdHJpbmcgPT4gQ29udHJhY3RUeXBlKSB0eXBlczsKICAgIG1hcHBpbmcoc3RyaW5nID0+IGFkZHJlc3MpIHByZWZpeGVzOwogICAgbWFwcGluZyh1aW50MjU2ID0+IHVpbnQyNTYpIHByZWZpeGVzUHJpY2VzOwoKICAgIHN0cmluZ1tdIHByaXZhdGUgZm9yZ2l2ZWRDaGFyczsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvKSB7CiAgICAgICAgcmVxdWlyZSh0byAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIG93bmVyID0gdG87CiAgICB9CgogICAgZnVuY3Rpb24gcmVwbGFjZVRva2VuKFRva2VuIF90b2tlbikgewogICAgICAgIHJlcXVpcmUoX3Rva2VuICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgdG9rZW4gPSBfdG9rZW47CiAgICB9CgogICAgZnVuY3Rpb24gc2V0UHJlZml4UHJpY2UodWludDI1NiBsZW5naHQsIHVpbnQyNTYgcHJpY2UpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIHJlcXVpcmUobGVuZ2h0ICE9IDApOwogICAgICAgIHByZWZpeGVzUHJpY2VzW2xlbmdodF0gPSBwcmljZTsKICAgICAgICBOZXdQcmVmaXhQcmljZShsZW5naHQsIHByaWNlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBsb2FkVmVyc2lvbihWZXJzaW9uYWJsZSBmcm9tKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcpIHsKICAgICAgICB1aW50IHNpemUgPSBmcm9tLmdldFZlcnNpb25MZW5ndGgoKTsKICAgICAgICBieXRlcyBtZW1vcnkgb3V0ID0gbmV3IGJ5dGVzKHNpemUpOwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IHNpemU7IGkrKykgewogICAgICAgICAgICBvdXRbaV0gPSBmcm9tLmdldFZlcnNpb25CeXRlKGkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc3RyaW5nKG91dCk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Q29udHJhY3RPd25lcihzdHJpbmcgY29kZSkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHN0cmluZyBtZW1vcnkgcHJlZml4ID0gc3BsaXRGaXJzdChjb2RlLCAiLSIpOwogICAgICAgIHJldHVybiBwcmVmaXhlc1twcmVmaXhdOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldENvbnRyYWN0Qnl0ZWNvZGUoc3RyaW5nIGNvZGUpIGNvbnN0YW50IHJldHVybnMgKGJ5dGVzKSB7CiAgICAgICAgcmV0dXJuIHR5cGVzW2NvZGVdLmJ5dGVjb2RlOwogICAgfQoKICAgIGZ1bmN0aW9uIGhhc0ZvcmdpdmVkQ2hhcihzdHJpbmcgcykgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IGZvcmdpdmVkQ2hhcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKHN0cmluZ0NvbnRhaW5zKHMsIGZvcmdpdmVkQ2hhcnNbaV0pKQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGFkZEZvcmdpdmVkQ2hhcihzdHJpbmcgYykgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lciB8fCBtc2cuc2VuZGVyID09IGFkZHJlc3ModGhpcykpOwogICAgICAgIGlmICghaGFzRm9yZ2l2ZWRDaGFyKGMpKSB7CiAgICAgICAgICAgIGZvcmdpdmVkQ2hhcnMucHVzaChjKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlRm9yZ2l2ZWRDaGFyKHVpbnQyNTYgaW5kZXgsIHN0cmluZyBjaGFyKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICByZXF1aXJlKHN0cmluZ0VxdWFscyhjaGFyLCBmb3JnaXZlZENoYXJzW2luZGV4XSkpOwogICAgICAgIHN0cmluZyBzdG9yYWdlIGxhc3RDaGFyID0gZm9yZ2l2ZWRDaGFyc1tmb3JnaXZlZENoYXJzLmxlbmd0aCAtIDFdOwogICAgICAgIGRlbGV0ZSBmb3JnaXZlZENoYXJzW2ZvcmdpdmVkQ2hhcnMubGVuZ3RoIC0gMV07CiAgICAgICAgZm9yZ2l2ZWRDaGFyc1tpbmRleF0gPSBsYXN0Q2hhcjsKICAgIH0KCiAgICBmdW5jdGlvbiByZWdpc3RlclByZWZpeChzdHJpbmcgcHJlZml4KSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZSghc3RyaW5nQ29udGFpbnMocHJlZml4LCBTRVBBUkFUT1IpKTsKICAgICAgICByZXF1aXJlKCFoYXNGb3JnaXZlZENoYXIocHJlZml4KSk7CiAgICAgICAgcmVxdWlyZShwcmVmaXhlc1twcmVmaXhdID09IGFkZHJlc3MoMCkpOwogICAgICAgIGlmIChtc2cuc2VuZGVyID09IG93bmVyKSB7CiAgICAgICAgICAgIHByZWZpeGVzW3ByZWZpeF0gPSBvd25lcjsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdWludDI1NiBwcmljZSA9IHByZWZpeGVzUHJpY2VzW3N0cmluZ0xlbihwcmVmaXgpXTsKICAgICAgICAgICAgcmVxdWlyZShwcmljZSAhPSAwKTsKICAgICAgICAgICAgcmVxdWlyZSh0b2tlbi50cmFuc2ZlckZyb20obXNnLnNlbmRlciwgb3duZXIsIHByaWNlKSk7CiAgICAgICAgICAgIHByZWZpeGVzW3ByZWZpeF0gPSBvd25lcjsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIFJlZ2lzdGVyZWRQcmVmaXgocHJlZml4LCBtc2cuc2VuZGVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlclByZWZpeChzdHJpbmcgcHJlZml4LCBhZGRyZXNzIHRvKSB7CiAgICAgICAgcmVxdWlyZSh0byAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKHByZWZpeGVzW3ByZWZpeF0gPT0gbXNnLnNlbmRlcik7CiAgICAgICAgcHJlZml4ZXNbcHJlZml4XSA9IHRvOwogICAgICAgIFRyYW5zZmVycmVkUHJlZml4KHByZWZpeCwgbXNnLnNlbmRlciwgdG8pOwogICAgfQoKICAgIGZ1bmN0aW9uIHVucmVnaXN0ZXJQcmVmaXgoc3RyaW5nIHByZWZpeCkgewogICAgICAgIHJlcXVpcmUocHJlZml4ZXNbcHJlZml4XSA9PSBtc2cuc2VuZGVyKTsKICAgICAgICBwcmVmaXhlc1twcmVmaXhdID09IGFkZHJlc3MoMCk7CiAgICAgICAgVW5yZWdpc3RlcmVkUHJlZml4KHByZWZpeCwgbXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gcmVnaXN0ZXJDb250cmFjdChzdHJpbmcgY29kZSwgYnl0ZXMgYnl0ZWNvZGUpIHsKICAgICAgICB2YXIgcHJlZml4ID0gc3BsaXRGaXJzdChjb2RlLCBTRVBBUkFUT1IpOwogICAgICAgIHJlcXVpcmUocHJlZml4ZXNbcHJlZml4XSA9PSBtc2cuc2VuZGVyKTsKICAgICAgICByZXF1aXJlKHR5cGVzW2NvZGVdLmJ5dGVjb2RlLmxlbmd0aCA9PSAwKTsKICAgICAgICByZXF1aXJlKGJ5dGVjb2RlLmxlbmd0aCAhPSAwKTsKICAgICAgICB0eXBlc1tjb2RlXSA9IENvbnRyYWN0VHlwZShjb2RlLCBieXRlY29kZSk7CiAgICAgICAgUmVnaXN0ZXJlZENvbnRyYWN0KGNvZGUsIG1zZy5zZW5kZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIHZhbGlkYXRlQ29udHJhY3QoVmVyc2lvbmFibGUgdGFyZ2V0KSBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHZhbGlkYXRlQ29udHJhY3RXaXRoQ29kZSh0YXJnZXQsIGxvYWRWZXJzaW9uKHRhcmdldCkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHZhbGlkYXRlQ29udHJhY3RXaXRoQ29kZShhZGRyZXNzIHRhcmdldCwgc3RyaW5nIGNvZGUpIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKHN0cmluZ0VxdWFscyh0eXBlc1tjb2RlXS5jb2RlLCBjb2RlKSk7IC8vIFNhbml0eSBjaGVjawogICAgICAgIGJ5dGVzIG1lbW9yeSBleHBlY3RlZCA9IHR5cGVzW2NvZGVdLmJ5dGVjb2RlOwogICAgICAgIGJ5dGVzIG1lbW9yeSBieXRlY29kZSA9IGdldENvbnRyYWN0Q29kZSh0YXJnZXQpOwogICAgICAgIGlmIChieXRlY29kZS5sZW5ndGggIT0gZXhwZWN0ZWQubGVuZ3RoKSByZXR1cm4gZmFsc2U7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgZXhwZWN0ZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGJ5dGVjb2RlW2ldICE9IGV4cGVjdGVkW2ldKSByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldENvbnRyYWN0Q29kZShhZGRyZXNzIF9hZGRyKSBjb25zdGFudCByZXR1cm5zIChieXRlcyBvX2NvZGUpIHsKICAgICAgICBhc3NlbWJseSB7CiAgICAgICAgICBsZXQgc2l6ZSA6PSBleHRjb2Rlc2l6ZShfYWRkcikKICAgICAgICAgIG9fY29kZSA6PSBtbG9hZCgweDQwKQogICAgICAgICAgbXN0b3JlKDB4NDAsIGFkZChvX2NvZGUsIGFuZChhZGQoYWRkKHNpemUsIDB4MjApLCAweDFmKSwgbm90KDB4MWYpKSkpCiAgICAgICAgICBtc3RvcmUob19jb2RlLCBzaXplKQogICAgICAgICAgZXh0Y29kZWNvcHkoX2FkZHIsIGFkZChvX2NvZGUsIDB4MjApLCAwLCBzaXplKQogICAgICAgIH0KICAgIH0KCiAgICAvLyBAZGV2IFJldHVybnMgdGhlIGZpcnN0IHNsaWNlIG9mIGEgc3BsaXQKICAgIGZ1bmN0aW9uIHNwbGl0Rmlyc3Qoc3RyaW5nIHNvdXJjZSwgc3RyaW5nIHBvaW50KSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcpIHsKICAgICAgICBieXRlcyBtZW1vcnkgcyA9IGJ5dGVzKHNvdXJjZSk7CiAgICAgICAgaWYgKHMubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGludCBpbmRleCA9IHN0cmluZ0luZGV4T2Yoc291cmNlLCBwb2ludCk7CiAgICAgICAgICAgIGlmIChpbmRleCA9PSAtIDEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGJ5dGVzIG1lbW9yeSBvdXRwdXQgPSBuZXcgYnl0ZXModWludChpbmRleCkpOwogICAgICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBpbmRleDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W3VpbnQoaSldID0gc1t1aW50KGkpXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmcob3V0cHV0KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBzdHJpbmdUb0J5dGVzMzIoc3RyaW5nIG1lbW9yeSBzb3VyY2UpIHJldHVybnMgKGJ5dGVzMzIgcmVzdWx0KSB7CiAgICAgICAgYXNzZW1ibHkgewogICAgICAgICAgICByZXN1bHQgOj0gbWxvYWQoYWRkKHNvdXJjZSwgMzIpKQogICAgICAgIH0KICAgIH0KCiAgICAgICAgLyoKICAgICAqIEBkZXYgUmV0dXJucyB0aGUgbGVuZ3RoIG9mIGEgbnVsbC10ZXJtaW5hdGVkIGJ5dGVzMzIgc3RyaW5nLgogICAgICogQHBhcmFtIHNlbGYgVGhlIHZhbHVlIHRvIGZpbmQgdGhlIGxlbmd0aCBvZi4KICAgICAqIEByZXR1cm4gVGhlIGxlbmd0aCBvZiB0aGUgc3RyaW5nLCBmcm9tIDAgdG8gMzIuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHN0cmluZ0xlbihzdHJpbmcgcykgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIHZhciBzZWxmID0gc3RyaW5nVG9CeXRlczMyKHMpOwogICAgICAgIHVpbnQgcmV0OwogICAgICAgIGlmIChzZWxmID09IDApCiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIGlmIChzZWxmICYgMHhmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZiA9PSAwKSB7CiAgICAgICAgICAgIHJldCArPSAxNjsKICAgICAgICAgICAgc2VsZiA9IGJ5dGVzMzIodWludChzZWxmKSAvIDB4MTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwKTsKICAgICAgICB9CiAgICAgICAgaWYgKHNlbGYgJiAweGZmZmZmZmZmZmZmZmZmZmYgPT0gMCkgewogICAgICAgICAgICByZXQgKz0gODsKICAgICAgICAgICAgc2VsZiA9IGJ5dGVzMzIodWludChzZWxmKSAvIDB4MTAwMDAwMDAwMDAwMDAwMDApOwogICAgICAgIH0KICAgICAgICBpZiAoc2VsZiAmIDB4ZmZmZmZmZmYgPT0gMCkgewogICAgICAgICAgICByZXQgKz0gNDsKICAgICAgICAgICAgc2VsZiA9IGJ5dGVzMzIodWludChzZWxmKSAvIDB4MTAwMDAwMDAwKTsKICAgICAgICB9CiAgICAgICAgaWYgKHNlbGYgJiAweGZmZmYgPT0gMCkgewogICAgICAgICAgICByZXQgKz0gMjsKICAgICAgICAgICAgc2VsZiA9IGJ5dGVzMzIodWludChzZWxmKSAvIDB4MTAwMDApOwogICAgICAgIH0KICAgICAgICBpZiAoc2VsZiAmIDB4ZmYgPT0gMCkgewogICAgICAgICAgICByZXQgKz0gMTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIDMyIC0gcmV0OwogICAgfQoKICAgIC8vLyBAZGV2IEZpbmRzIHRoZSBpbmRleCBvZiB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBfbmVlZGxlIGluIF9oYXlzdGFjawogICAgZnVuY3Rpb24gc3RyaW5nSW5kZXhPZihzdHJpbmcgX2hheXN0YWNrLCBzdHJpbmcgX25lZWRsZSkgcmV0dXJucyAoaW50KSB7CiAgICAJYnl0ZXMgbWVtb3J5IGggPSBieXRlcyhfaGF5c3RhY2spOwogICAgCWJ5dGVzIG1lbW9yeSBuID0gYnl0ZXMoX25lZWRsZSk7CiAgICAJaWYgKGgubGVuZ3RoIDwgMSB8fCBuLmxlbmd0aCA8IDEgfHwgKG4ubGVuZ3RoID4gaC5sZW5ndGgpKSB7CiAgICAJCXJldHVybiAtMTsKICAgIAl9IGVsc2UgaWYgKGgubGVuZ3RoID4gKDIqKjEyOCAtIDEpKSB7IC8vIHNpbmNlIHdlIGhhdmUgdG8gYmUgYWJsZSB0byByZXR1cm4gLTEgKGlmIHRoZSBjaGFyIGlzbid0IGZvdW5kIG9yIGlucHV0IGVycm9yKSwgdGhpcyBmdW5jdGlvbiBtdXN0IHJldHVybiBhbiAiaW50IiB0eXBlIHdpdGggYSBtYXggbGVuZ3RoIG9mICgyXjEyOCAtIDEpCiAgICAJCXJldHVybiAtMTsJCQkJCQkJCQkKICAgIAl9IGVsc2UgewogICAgCQl1aW50IHN1YmluZGV4ID0gMDsKICAgIAkJZm9yICh1aW50IGkgPSAwOyBpIDwgaC5sZW5ndGg7IGkgKyspIHsKICAgIAkJCWlmIChoW2ldID09IG5bMF0pIHsgLy8gZm91bmQgdGhlIGZpcnN0IGNoYXIgb2YgYgogICAgCQkJCXN1YmluZGV4ID0gMTsKICAgIAkJCQl3aGlsZSAoc3ViaW5kZXggPCBuLmxlbmd0aCAmJiAoaSArIHN1YmluZGV4KSA8IGgubGVuZ3RoICYmIGhbaSArIHN1YmluZGV4XSA9PSBuW3N1YmluZGV4XSkgeyAvLyBzZWFyY2ggdW50aWwgdGhlIGNoYXJzIGRvbid0IG1hdGNoIG9yIHVudGlsIHdlIHJlYWNoIHRoZSBlbmQgb2YgYSBvciBiCiAgICAJCQkJCXN1YmluZGV4Kys7CiAgICAJCQkJfQkKICAgIAkJCQlpZiAoc3ViaW5kZXggPT0gbi5sZW5ndGgpCiAgICAJCQkJCXJldHVybiBpbnQoaSk7CiAgICAJCQl9CiAgICAJCX0KICAgIAkJcmV0dXJuIC0xOwogICAgCX0JCiAgICB9CgogICAgZnVuY3Rpb24gc3RyaW5nRXF1YWxzKHN0cmluZyBfYSwgc3RyaW5nIF9iKSByZXR1cm5zIChib29sKSB7CiAgICAJYnl0ZXMgbWVtb3J5IGEgPSBieXRlcyhfYSk7CiAgICAJYnl0ZXMgbWVtb3J5IGIgPSBieXRlcyhfYik7CiAgICAgICAgaWYgKGEubGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoYVtpXSAhPSBiW2ldKSByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHN0cmluZ0NvbnRhaW5zKHN0cmluZyBzZWxmLCBzdHJpbmcgbmVlZGxlKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHN0cmluZ0luZGV4T2Yoc2VsZiwgbmVlZGxlKSAhPSBpbnQoLTEpOwogICAgfQp9'.
	

]
