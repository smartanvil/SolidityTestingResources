Class {
	#name : #SRT7cb6db24d356a0ba98bf837cec40b403d1f0a239,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT7cb6db24d356a0ba98bf837cec40b403d1f0a239 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgovL1Rva2VuIENvbnRyYWN0CmNvbnRyYWN0IExvdmVMb2NrQ2hhaW4gewoKCWFkZHJlc3MgcHJpdmF0ZSBjb25zdGFudCBfY2VvID0gMHg0MTMyMWQxNjM5QkE2NTg3MTg1QzEwYjhlNTg5NDE4RjQ2YzY5OEM2OwoJbW9kaWZpZXIgb3duZXJGdW5jIHsKCQlyZXF1aXJlKF9jZW8gPT0gbXNnLnNlbmRlcik7CgkJXzsKCX0KCgogICAgZnVuY3Rpb24gTG92ZUxvY2tDaGFpbigpIHB1YmxpYyBvd25lckZ1bmMgewogICAgICAgIGZvcih1aW50OCBpID0gMTsgaTw9MzsgaSsrKXsKICAgICAgICAgICAgZ3JhbnRUb2tlbihfY2VvKTsKICAgICAgICAgICAgbmV3QXVjdGlvbihsYXN0QXVjdGlvbklkKzEsY3VycmVudFN0YXJ0UHJpY2UsIGN1cnJlbnRNaW5QcmljZSwgY3VycmVudFNwYXduRHVyYXRpb24sIExhc3RUb2tlbklkLF9jZW8pOwogICAgICAgICAgICBBdWN0aW9uSWRzW2xhc3RBdWN0aW9uSWQrMV0uaXNTcGF3biA9IHRydWU7CiAgICAgICAgICAgIGxhc3RBdWN0aW9uSWQgPSBsYXN0QXVjdGlvbklkICsxOwogICAgICAgIH0KICAgIH0KCgogICAgLy8gVG9rZW4gSW5mbwoJc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkxvdmUgTG9ja3MiOwoJc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiTE9DS1MiOwoJdWludDggcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMDsKCXVpbnQ2NCBwdWJsaWMgdG90YWxTdXBwbHkgPSAwOwoJdWludDY0IHB1YmxpYyBMYXN0VG9rZW5JZCA9IDA7Cgl1aW50NjQgcHVibGljIGNvbnN0YW50IG1heFN1cHBseSA9IDUyMDsKCQoJCgkvLyBTcGF3biB2YXJzCiAgICB1aW50MjU2IHByaXZhdGUgY29uc3RhbnQgY3VycmVudFN0YXJ0UHJpY2UgPSAwLjEgZXRoZXI7CiAgICB1aW50MjU2IHByaXZhdGUgY29uc3RhbnQgY3VycmVudE1pblByaWNlID0gMC4wMSBldGhlcjsKICAgIHVpbnQyNTYgcHJpdmF0ZSBjb25zdGFudCBjdXJyZW50U3Bhd25EdXJhdGlvbiA9IDYwIG1pbnV0ZXMgOy8vNjAgbWludXRlczsKCiAgICAvLyBEZXNnaWduIGF0dHJpYnV0ZXMKCW1hcHBpbmcodWludDY0ID0+IHVpbnQxNikgcHJpdmF0ZSB0b2tlbkJhY2tncm91bmQ7CgltYXBwaW5nKHVpbnQ2NCA9PiB1aW50MTYpIHByaXZhdGUgdG9rZW5Mb2NrOwoJbWFwcGluZyh1aW50NjQgPT4gdWludDE2KSBwcml2YXRlIHRva2VuTm90ZTsKCXVpbnQxNiBwcml2YXRlIG1heElkQmFja2dyb3VuZCA9IDE5OwoJdWludDE2IHByaXZhdGUgbWF4SWRMb2NrID0gMTg7Cgl1aW50MTYgcHJpdmF0ZSBtYXhJZE5vdGUgPSAyMjsKCgkvLyBVc2VyIFdhbGxldAoJbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50NjRbXSkgcHJpdmF0ZSBUb2tlbkJhbGFuY2VPZjsKCW1hcHBpbmcgKHVpbnQ2NCA9PiB1aW50NjQpIHByaXZhdGUgVG9rZW5CYWxhbmNlSW5kZXg7IC8vIFRva2VuSUQgPT4gVG9rZW5CYWxhbmNlSW5kZXgKCW1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDY0KSBwdWJsaWMgYmFsYW5jZU9mOwoJbWFwcGluZyAodWludDY0ID0+IE1lc3NhZ2UpIGludGVybmFsIExvdmVMb2NrczsKCW1hcHBpbmcgKHVpbnQ2NCA9PiBhZGRyZXNzKSBwcml2YXRlIFRva2VuczsKCW1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDY0W10pIHByaXZhdGUgX3VzZXJMb3ZlTG9ja3M7CgoJLy8gQXVjdGlvbiBTdG9yYWdlIAoJbWFwcGluZyAodWludDY0ID0+IHVpbnQ2NCkgcHJpdmF0ZSB0b2tlbkF1Y3Rpb25zOwogICAgbWFwcGluZyAodWludDY0ID0+IEF1Y3Rpb24pIHByaXZhdGUgQXVjdGlvbklkczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDY0W10pIHByaXZhdGUgdXNlckF1Y3Rpb25JZHM7CiAgICB1aW50NjQgcHJpdmF0ZSBsYXN0QXVjdGlvbklkID0gMDsKCgkvLyBFdmVudHMKCWV2ZW50IFNwZW5kKHVpbnQ2NCBpbmRleGVkIF9Ub2tlbklkLCBhZGRyZXNzIF9mcm9tLCBzdHJpbmcgX01lc3NhZ2UpOwoJZXZlbnQgUHJpY2VDaGFuZ2VkKHVpbnQgaW5kZXhlZCBfdGltZSwgdWludDY0IG5ld1ByaWNlKTsKCWV2ZW50IEF1Y3Rpb25TdGFydGVkKHVpbnQ2NCBpbmRleGVkIF9BdWN0aW9uSWQsIHVpbnQ2NCBfVG9rZW5JZCwgYWRkcmVzcyBfZnJvbSk7CglldmVudCBBdWN0aW9uV29uKHVpbnQ2NCBpbmRleGVkIF9BdWN0aW9uSWQsIHVpbnQ2NCBfVG9rZW5JZCwgYWRkcmVzcyBfd2lubmVyLCB1aW50MjU2IHByaWNlKTsKCWV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQ2NCBfVG9rZW5JZCk7CgogICAgLy8gQmFsYW5jZSBmdW5jdGlvbgoJZnVuY3Rpb24gVG9rZW5CYWxhbmNlKGFkZHJlc3MgX2FkZHIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQ2NFtdKXsKCQlyZXR1cm4gVG9rZW5CYWxhbmNlT2ZbX2FkZHJdOwoJfQogICAgCiAgICAvLyBVc2VyIExvdmUgTG9ja3MKCWZ1bmN0aW9uIHVzZXJMb3ZlTG9ja3MoYWRkcmVzcyBfYWRkcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDY0W10pewoJCXJldHVybiBfdXNlckxvdmVMb2Nrc1tfYWRkcl07Cgl9CgoKCS8vIEdyYW50cyB0b2tlbgoJZnVuY3Rpb24gZ3JhbnRUb2tlbihhZGRyZXNzIF90bykgcHJpdmF0ZSB7CgkJdWludDY0IF9Ub2tlbklkID0gTGFzdFRva2VuSWQgKyAxOwoJCUxhc3RUb2tlbklkICs9IDE7CgkJQWRkVG9rZW5JZChfdG8sIF9Ub2tlbklkKTsKCQl0b3RhbFN1cHBseSArPSAxOwoKCX0KCgkvLyBUcmFuc2ZlciBUb2tlbgoJZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQ2NCBfVG9rZW5JZCkgcHVibGljIHsKCQlfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfVG9rZW5JZCk7Cgl9CgoJZnVuY3Rpb24gX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50NjQgX1Rva2VuSWQpIGludGVybmFsIHsKCQlyZXF1aXJlKF90byAhPSAweDApOy8vIFByZXZlbnQgdHJhbnNmZXIgdG8gMHgwIGFkZHJlc3MuIFVzZSBidXJuKCkgaW5zdGVhZAoJCXJlcXVpcmUoUmVtb3ZlVG9rZW5JZChfZnJvbSxfVG9rZW5JZCkpOwoJCXJlcXVpcmUoIUhhc0xpdmVBdWN0aW9uKF9Ub2tlbklkKSk7CgkJQWRkVG9rZW5JZChfdG8sX1Rva2VuSWQpOwoKCQlUcmFuc2ZlcihfZnJvbSwgX3RvLCBfVG9rZW5JZCk7IC8vIEV2ZW50Cgl9CgkvLyBUb2tlbiBTcGVuZGluZzoKCS8vIFRPRE86IFJldHVybiBib29sCglmdW5jdGlvbiBzZW5kTG92ZVRva2VuKCB1aW50NjQgX1Rva2VuSWQsIHN0cmluZyBfTWVzc2FnZSxzdHJpbmcgX1RvLCBzdHJpbmcgX0Zyb20pIHB1YmxpYyB7CgkJcmVxdWlyZShSZW1vdmVUb2tlbklkKG1zZy5zZW5kZXIsX1Rva2VuSWQpKTsKCQlyZXF1aXJlKCFIYXNMaXZlQXVjdGlvbihfVG9rZW5JZCkpOwoKCQlMb3ZlTG9ja3NbX1Rva2VuSWRdLl9UbyA9IF9UbzsKCQlMb3ZlTG9ja3NbX1Rva2VuSWRdLl9Gcm9tID0gX0Zyb207CgkJTG92ZUxvY2tzW19Ub2tlbklkXS5fTWVzc2FnZSA9IF9NZXNzYWdlOwoKCQlfdXNlckxvdmVMb2Nrc1ttc2cuc2VuZGVyXS5wdXNoKF9Ub2tlbklkKTsKCQlTcGVuZChfVG9rZW5JZCwgbXNnLnNlbmRlciwgX01lc3NhZ2UpOwoJfQoKICAgIC8vIEdldCBMb3ZlTG9jawoJZnVuY3Rpb24gZ2V0TG92ZUxvY2sodWludDY0IF9Ub2tlbklkKQoJcHVibGljIHZpZXcKCXJldHVybnMgKHN0cmluZyBfVG8sIHN0cmluZyBfRnJvbSwgc3RyaW5nIF9NZXNzYWdlLCB1aW50MTYgX2JhY2tncm91bmQsIHVpbnQxNiBfbG9jaywgdWludDE2IF9ub3RlKXsKCSAgICBfVG8gPSBMb3ZlTG9ja3NbX1Rva2VuSWRdLl9UbzsKCSAgICBfRnJvbSA9IExvdmVMb2Nrc1tfVG9rZW5JZF0uX0Zyb207CgkgICAgX01lc3NhZ2UgPSBMb3ZlTG9ja3NbX1Rva2VuSWRdLl9NZXNzYWdlOwoJICAgIF9iYWNrZ3JvdW5kID0gdG9rZW5CYWNrZ3JvdW5kW19Ub2tlbklkXTsKCSAgICBfbG9jayA9ICB0b2tlbkxvY2tbX1Rva2VuSWRdOwoJICAgIF9ub3RlID0gIHRva2VuTm90ZVtfVG9rZW5JZF07Cgl9CgogICAgLy8gTGFzdCBBdWN0aW9uIElkIG5lZWVkZWQgZm9yIGV4dGVybmFsIGxvb3BzCiAgICBmdW5jdGlvbiBnZXRMYXN0QXVjdGlvbklkKCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDY0KXsKICAgICAgICByZXR1cm4gbGFzdEF1Y3Rpb25JZDsKICAgIH0KCiAgICAvLyBVc2VyJ3MgQXVjdGlvbnMgdXNlZCBmb3Igd2FsbGV0CglmdW5jdGlvbiBnZXRVc2VyQXVjdGlvbklkcyhhZGRyZXNzIF9hZGRyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50NjRbXSl7CgkgICAgcmV0dXJuIHVzZXJBdWN0aW9uSWRzW19hZGRyXTsKCX0KCgogICAgLy8gR2V0IEF1Y3Rpb24gSW5mbwoJZnVuY3Rpb24gZ2V0QXVjdGlvbkJ5QXVjdGlvbklkKHVpbnQ2NCBfQXVjdGlvbklkKQoJcHVibGljIHZpZXcgCglyZXR1cm5zCgkodWludDY0IF9Ub2tlbklkLCB1aW50MjU2IF9zdGFydFRpbWUsIHVpbnQyNTYgX2VuZFRpbWUsCglib29sIF9zb2xkLCB1aW50MjU2IF9maW5hbFByaWNlLCB1aW50MjU2IF9zdGFydFByaWNlLAl1aW50MjU2IF9taW5QcmljZSwgdWludDI1NiBfY3VycmVudFByaWNlLAoJYm9vbCBfY2FuY2VsbGVkLCBib29sIF9leHBpcmVkLCB1aW50MTZbM10gcHJldmlldyApewoJICAgICAgLy9vYmplY3QgYXVjdGlvbjoge1Rva2VuSWQsIHN0YXJ0dGltZSwgZW5kdGltZSwgc29sZCwgZmluYWxQcmljZX0KCSAgICAgIEF1Y3Rpb24gc3RvcmFnZSBhdWMgPSBBdWN0aW9uSWRzW19BdWN0aW9uSWRdOwoJICAgICAgX1Rva2VuSWQgPSBhdWMuVG9rZW5JZDsKCSAgICAgIAoJICAgICAgCgkgICAgICBfc29sZCA9IGF1Yy5zb2xkOwoJICAgICAgX2ZpbmFsUHJpY2UgPSBhdWMuZmluYWxQcmljZTsKCSAgICAgIF9zdGFydFByaWNlID0gYXVjLnN0YXJ0UHJpY2U7CgkgICAgICBfbWluUHJpY2UgPSBhdWMubWluUHJpY2U7CgkgICAgICBfY2FuY2VsbGVkID0gYXVjLmNhbmNlbGxlZDsKCSAgICAgCgkgICAgICBfY3VycmVudFByaWNlID0gYXVjdGlvbkN1cnJlbnRQcmljZShfQXVjdGlvbklkKTsKCiAgICAgICAgICAgIGlmKGF1Yy5pc1NwYXduKXsKICAgICAgICAgICAgICAgIF9zdGFydFRpbWUgPSBhdWMuc3RhcnRUaW1lICsgYXVjLmR1cmF0aW9uICogU3Bhd25DeWNsZXMoX0F1Y3Rpb25JZCk7IAogICAgICAgICAgICAgICAgX2V4cGlyZWQ9ZmFsc2U7CiAgICAgICAgICAgICAgICB2YXIgYSA9IHVpbnQ2NChfVG9rZW5JZCArIFNwYXduQ3ljbGVzKF9BdWN0aW9uSWQpKTsKICAgICAgICAgICAgICAgIHByZXZpZXdbMF0gPSByYW5kKDEsIG1heElkQmFja2dyb3VuZCwgYSk7CiAgICAgICAgCQlwcmV2aWV3WzFdID0gcmFuZCgxLCBtYXhJZExvY2ssIGEpOwogICAgICAgIAkJcHJldmlld1syXSA9IHJhbmQoMSwgbWF4SWROb3RlLCBhKTsKICAgICAgICAgICAgfSBlbHNlewogICAgICAgICAgICAgICAgX3N0YXJ0VGltZSA9IGF1Yy5zdGFydFRpbWU7CiAgICAgICAgICAgICAgICBfZXhwaXJlZCA9IGlzRXhwaXJlZChfQXVjdGlvbklkKTsKICAgICAgICAgICAgCXByZXZpZXdbMF0gPSB0b2tlbkJhY2tncm91bmRbX1Rva2VuSWRdOwogICAgICAgICAgICAgICAgcHJldmlld1sxXSA9IHRva2VuTG9ja1tfVG9rZW5JZF07CiAgICAgICAgICAgICAgICBwcmV2aWV3WzJdID0gdG9rZW5Ob3RlW19Ub2tlbklkXTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgX2VuZFRpbWUgPSBhdWMuZHVyYXRpb24gKyBfc3RhcnRUaW1lOwoKCX0KCgogICAgLy8gU3RhcnQgYW4gYXVjdGlvbgoJZnVuY3Rpb24gc3RhcnROZXdBdWN0aW9uKHVpbnQ2NCBfc3RhcnRQcmljZSwgdWludDY0IF9taW5QcmljZSwgdWludDY0IF9kdXJhdGlvbiwgdWludDY0IF9Ub2tlbklkKSBwdWJsaWMgewoJCWFkZHJlc3MgX2Zyb20gPSBtc2cuc2VuZGVyOwoJCXJlcXVpcmUoSGFzVG9rZW5JZChfZnJvbSwgX1Rva2VuSWQpKTsgLy8gdXNlciBoYXMgdG9rZW4KCQlyZXF1aXJlKCFIYXNMaXZlQXVjdGlvbihfVG9rZW5JZCkpOyAvLyBubyBjb25jdXJyZW50IGF1Y3Rpb25zCgoKCQluZXdBdWN0aW9uKGxhc3RBdWN0aW9uSWQrMSxfc3RhcnRQcmljZSwgX21pblByaWNlLCBfZHVyYXRpb24sIF9Ub2tlbklkLF9mcm9tKTsKCQlsYXN0QXVjdGlvbklkID0gbGFzdEF1Y3Rpb25JZCArMTsKCgoJCUF1Y3Rpb25TdGFydGVkKGxhc3RBdWN0aW9uSWQsIF9Ub2tlbklkLCBfZnJvbSApOwoJfQoKICAgIC8vIEJ1eSBmcm9tIGF1Y3Rpb24KCWZ1bmN0aW9uIHBsYWNlQmlkKHVpbnQ2NCBfQXVjdGlvbklkKSBwdWJsaWMgcGF5YWJsZSB7CgkJcmVxdWlyZShfcGxhY2VCaWQoX0F1Y3Rpb25JZCxtc2cudmFsdWUpKTsKCgkJLy8gTWFrZSB0cmFkZQogICAgICAgIHVpbnQyNTYgZmluYWxQcmljZSA9IEF1Y3Rpb25JZHNbX0F1Y3Rpb25JZF0uZmluYWxQcmljZTsKICAgICAgICBhZGRyZXNzIF9vd25lciA9IEF1Y3Rpb25JZHNbX0F1Y3Rpb25JZF0ub3duZXI7CiAgICAgICAgdWludDY0IF9Ub2tlbklkID0gQXVjdGlvbklkc1tfQXVjdGlvbklkXS5Ub2tlbklkOwoKCQltc2cuc2VuZGVyLnRyYW5zZmVyKG1zZy52YWx1ZSAtIGZpbmFsUHJpY2UpOwoJCV9vd25lci50cmFuc2ZlcihmaW5hbFByaWNlKTsKCQlfdHJhbnNmZXIoX293bmVyLCBtc2cuc2VuZGVyLCBfVG9rZW5JZCk7CgoJCUF1Y3Rpb25Xb24oX0F1Y3Rpb25JZCwgX1Rva2VuSWQsIG1zZy5zZW5kZXIsIGZpbmFsUHJpY2UpOwoJfQoKICAgIC8vIFJ1biBiaWQgb24gYXVjdGlvbgoJZnVuY3Rpb24gX3BsYWNlQmlkKHVpbnQ2NCBfQXVjdGlvbklkLCB1aW50MjU2IF9iaWQpIHByaXZhdGUgcmV0dXJucyAoYm9vbCkgewoJCWlmKHNldEJpZChfQXVjdGlvbklkLCBfYmlkKSl7CgkJICAgIHZhciBTb2xkQXVjID0gQXVjdGlvbklkc1tfQXVjdGlvbklkXTsKCQkgICAgaWYoU29sZEF1Yy5pc1NwYXduKXsKCQkgICAgICB2YXIgU29sZFRva2VuSWQgPSBTb2xkQXVjLlRva2VuSWQ7CiAgICAgICAgICAgICAgICB0b2tlbkJhY2tncm91bmRbU29sZFRva2VuSWRdICAgID0gcmFuZCgxLCBtYXhJZEJhY2tncm91bmQsIHVpbnQ2NChTb2xkVG9rZW5JZCArIFNwYXduQ3ljbGVzKF9BdWN0aW9uSWQpKSk7CiAgICAgICAgCQl0b2tlbkxvY2tbU29sZFRva2VuSWRdICAgICAgICAgID0gcmFuZCgxLCBtYXhJZExvY2ssIHVpbnQ2NChTb2xkVG9rZW5JZCArIFNwYXduQ3ljbGVzKF9BdWN0aW9uSWQpKSk7CiAgICAgICAgCQl0b2tlbk5vdGVbU29sZFRva2VuSWRdICAgICAgICAgID0gcmFuZCgxLCBtYXhJZE5vdGUsIHVpbnQ2NChTb2xkVG9rZW5JZCArIFNwYXduQ3ljbGVzKF9BdWN0aW9uSWQpKSk7CgkJICAgICAgICAKCQkgICAgICAgIC8vU3Bhd24gbmV3CgkJICAgICAgICBpZihMYXN0VG9rZW5JZCA8bWF4U3VwcGx5KXsKICAgIAkJICAgICAgICBncmFudFRva2VuKF9jZW8pOwogICAgCQkgICAgICAgIG5ld0F1Y3Rpb24obGFzdEF1Y3Rpb25JZCsxLGN1cnJlbnRTdGFydFByaWNlLCBjdXJyZW50TWluUHJpY2UsIGN1cnJlbnRTcGF3bkR1cmF0aW9uLCBMYXN0VG9rZW5JZCxfY2VvKTsKICAgICAgICAgICAgICAgICAgICBBdWN0aW9uSWRzW2xhc3RBdWN0aW9uSWQrMV0uaXNTcGF3biA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgbGFzdEF1Y3Rpb25JZCA9IGxhc3RBdWN0aW9uSWQgKzE7CgkJICAgICAgICB9CgkJICAgIH0KCQkgICAgCgkJCXJldHVybiB0cnVlOwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9CgoJLy8gTWlzYyBoZWxwIGZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJZnVuY3Rpb24gQWRkVG9rZW5JZChhZGRyZXNzIF9hZGRyLCB1aW50NjQgX1Rva2VuSWQpIGludGVybmFsIHJldHVybnMgKGJvb2wpewoJCVRva2Vuc1tfVG9rZW5JZF0gPSBfYWRkcjsgLy8gU2V0IHRva2VuIGJlbG9uZ2luZyB0byBuZXcgdXNlcgoJCXVpbnQ2NFtdIHN0b3JhZ2UgY3VyVXNlclRva2VuQmFsYW5jZT1Ub2tlbkJhbGFuY2VPZltfYWRkcl07CgkJdWludDY0IFVzZXJCYWxhbmNlID0gdWludDY0KGN1clVzZXJUb2tlbkJhbGFuY2UubGVuZ3RoKTsKCQliYWxhbmNlT2ZbX2FkZHJdID0gYmFsYW5jZU9mW19hZGRyXSsxOwoJCWN1clVzZXJUb2tlbkJhbGFuY2UucHVzaChfVG9rZW5JZCk7CgkJVG9rZW5CYWxhbmNlSW5kZXhbX1Rva2VuSWRdID0gVXNlckJhbGFuY2U7CgkJcmV0dXJuIHRydWU7Cgl9CgoJZnVuY3Rpb24gSGFzVG9rZW5JZChhZGRyZXNzIF9hZGRyICwgdWludDY0IF9Ub2tlbklkKSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKGJvb2wpewoJCWlmKFRva2Vuc1tfVG9rZW5JZF0gPT0gX2FkZHIpCXJldHVybiB0cnVlOwoJCXJldHVybiBmYWxzZTsKCX0KCglmdW5jdGlvbiBSZW1vdmVUb2tlbklkKGFkZHJlc3MgX2FkZHIgLCB1aW50NjQgX1Rva2VuSWQpIGludGVybmFsIHJldHVybnMgKGJvb2wpewoJCWlmKFRva2Vuc1tfVG9rZW5JZF0gIT0gX2FkZHIpCXJldHVybiBmYWxzZTsKCQlUb2tlbnNbX1Rva2VuSWRdID0gYWRkcmVzcygwKTsKCQliYWxhbmNlT2ZbX2FkZHJdID0gYmFsYW5jZU9mW19hZGRyXS0xOwoKCQl1aW50NjQgY3VySW5kZXggPSBUb2tlbkJhbGFuY2VJbmRleFtfVG9rZW5JZF07CgkJVG9rZW5CYWxhbmNlT2ZbX2FkZHJdW2N1ckluZGV4XSA9IDA7CgkJcmV0dXJuIHRydWU7Cgl9CgoJZnVuY3Rpb24gSGFzTGl2ZUF1Y3Rpb24odWludDY0IF9Ub2tlbklkKSBpbnRlcm5hbCB2aWV3IHJldHVybnMoYm9vbCkgewoJICAgIHVpbnQ2NCBfQXVjdGlvbklkID0gdG9rZW5BdWN0aW9uc1tfVG9rZW5JZF07CgkgICAgaWYoIUF1Y3Rpb25JZHNbX0F1Y3Rpb25JZF0uY3JlYXRlZCkgcmV0dXJuIGZhbHNlOwoJCWlmKGlzRXhwaXJlZChfQXVjdGlvbklkKSkgcmV0dXJuIGZhbHNlOwoJCXJldHVybiB0cnVlOwoJfQoKCglzdHJ1Y3QgQXVjdGlvbiB7CgkgICAgdWludDY0IEF1Y3Rpb25JZDsKICAgIAl1aW50MjU2IHN0YXJ0VGltZTsKICAgIAl1aW50MjU2IGR1cmF0aW9uOwoKICAgIAl1aW50NjQgVG9rZW5JZDsKICAgIAl1aW50MjU2IHN0YXJ0UHJpY2U7CiAgICAJdWludDI1NiBtaW5QcmljZTsKICAgIAlib29sIGNyZWF0ZWQ7CiAgICAJYm9vbCBjYW5jZWxsZWQ7CiAgICAJYm9vbCBzb2xkOwogICAgCXVpbnQyNTYgZmluYWxQcmljZTsKICAgIAlhZGRyZXNzIG93bmVyOwogICAgCWJvb2wgaXNTcGF3bjsKCX0KCgoKCWZ1bmN0aW9uIG5ld0F1Y3Rpb24odWludDY0IF9BdWN0aW9uSWQsdWludDI1NiBfc3RhcnRQcmljZSwgdWludDI1NiBfbWluUHJpY2UsIHVpbnQyNTYgX2R1cmF0aW9uLCB1aW50NjQgX1Rva2VuSWQsIGFkZHJlc3MgX293bmVyKSBpbnRlcm5hbCByZXR1cm5zIChBdWN0aW9uIF9vdXQpewoJCXJlcXVpcmUoX2R1cmF0aW9uID49IDYwMCAmJiBfZHVyYXRpb24gPD0gMjQgaG91cnMgKTsgLy8xMG1pbiB0byAxIGRheQoJCXJlcXVpcmUoX1Rva2VuSWQgPiAwKTsKCQlyZXF1aXJlKF9taW5QcmljZSA+IDApOwoJCXJlcXVpcmUoX3N0YXJ0UHJpY2UgPiBfbWluUHJpY2UpOwoKICAgICAgICBfb3V0LkF1Y3Rpb25JZCA9IF9BdWN0aW9uSWQ7CgkJX291dC5zdGFydFRpbWUgPSBibG9jay50aW1lc3RhbXA7CgkJX291dC5kdXJhdGlvbiA9IF9kdXJhdGlvbjsKCQlfb3V0Lm1pblByaWNlID0gX21pblByaWNlOwoJCV9vdXQuc3RhcnRQcmljZSA9IF9zdGFydFByaWNlOwoJCV9vdXQuVG9rZW5JZCA9IF9Ub2tlbklkOwoJCV9vdXQub3duZXIgPSBfb3duZXI7CgkJX291dC5jcmVhdGVkID0gdHJ1ZTsKCQlfb3V0LmNhbmNlbGxlZCA9IGZhbHNlOwoJCQkKCgkJQXVjdGlvbklkc1tfQXVjdGlvbklkXSA9IF9vdXQ7CgkJdG9rZW5BdWN0aW9uc1tfVG9rZW5JZF0gPSBfQXVjdGlvbklkOwoJCXVzZXJBdWN0aW9uSWRzW19vd25lcl0ucHVzaChfQXVjdGlvbklkKTsKCgl9CgoJZnVuY3Rpb24gc2V0QmlkKHVpbnQ2NCBfQXVjdGlvbklkLCB1aW50MjU2IGJpZCkgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCkgewoJCXJlcXVpcmUoYmlkPjApOwoJCXJlcXVpcmUoQXVjdGlvbklkc1tfQXVjdGlvbklkXS5jcmVhdGVkKTsKCQlyZXF1aXJlKCFBdWN0aW9uSWRzW19BdWN0aW9uSWRdLnNvbGQpOwoJCXJlcXVpcmUoIUF1Y3Rpb25JZHNbX0F1Y3Rpb25JZF0uY2FuY2VsbGVkKTsKCQl1aW50MjU2IGN1clByaWNlID0gYXVjdGlvbkN1cnJlbnRQcmljZShfQXVjdGlvbklkKTsKCQlpZihiaWQgPiBjdXJQcmljZSl7CgkJCUF1Y3Rpb25JZHNbX0F1Y3Rpb25JZF0uc29sZCA9IHRydWU7CgkJCUF1Y3Rpb25JZHNbX0F1Y3Rpb25JZF0uZmluYWxQcmljZSA9IGN1clByaWNlOwoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgkJcmV0dXJuIGZhbHNlOwoJfQoKCWZ1bmN0aW9uIGF1Y3Rpb25DdXJyZW50UHJpY2UodWludDY0IF9BdWN0aW9uSWQpIGludGVybmFsIHZpZXcgcmV0dXJucyAodWludDI1Nil7CgkgICAgcmVxdWlyZShBdWN0aW9uSWRzW19BdWN0aW9uSWRdLmNyZWF0ZWQpOwoKCQl1aW50MjU2IERlbHRhUCA9IChBdWN0aW9uSWRzW19BdWN0aW9uSWRdLnN0YXJ0UHJpY2UgLSBBdWN0aW9uSWRzW19BdWN0aW9uSWRdLm1pblByaWNlKTsKCQl1aW50MjU2IERlbHRhVCA9IChub3cgLSBBdWN0aW9uSWRzW19BdWN0aW9uSWRdLnN0YXJ0VGltZSkgJSBBdWN0aW9uSWRzW19BdWN0aW9uSWRdLmR1cmF0aW9uIDsKCQkKCQkKCQlyZXR1cm4gQXVjdGlvbklkc1tfQXVjdGlvbklkXS5zdGFydFByaWNlIC0gKERlbHRhVCogRGVsdGFQKS9BdWN0aW9uSWRzW19BdWN0aW9uSWRdLmR1cmF0aW9uOwoJfQoKCglmdW5jdGlvbiBpc0V4cGlyZWQodWludDY0IF9BdWN0aW9uSWQpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCkgewoJCWlmKEF1Y3Rpb25JZHNbX0F1Y3Rpb25JZF0uc29sZCkgcmV0dXJuIHRydWU7CgkJaWYoQXVjdGlvbklkc1tfQXVjdGlvbklkXS5jYW5jZWxsZWQpIHJldHVybiB0cnVlOwoJCWlmKEF1Y3Rpb25JZHNbX0F1Y3Rpb25JZF0uaXNTcGF3bikgcmV0dXJuIGZhbHNlOwoJCWlmKGJsb2NrLnRpbWVzdGFtcCA+PSBBdWN0aW9uSWRzW19BdWN0aW9uSWRdLmR1cmF0aW9uICsgQXVjdGlvbklkc1tfQXVjdGlvbklkXS5zdGFydFRpbWUpIHJldHVybiB0cnVlOwoJCXJldHVybiBmYWxzZTsKCX0KCglmdW5jdGlvbiBjYW5jZWxBdWN0aW9uKHVpbnQ2NCBfQXVjdGlvbklkKSBwdWJsaWMgewoJICAgIHJlcXVpcmUoQXVjdGlvbklkc1tfQXVjdGlvbklkXS5jcmVhdGVkKTsKCSAgICByZXF1aXJlKCFBdWN0aW9uSWRzW19BdWN0aW9uSWRdLnNvbGQpOwoJICAgIHJlcXVpcmUoIUF1Y3Rpb25JZHNbX0F1Y3Rpb25JZF0uY2FuY2VsbGVkKTsKCSAgICByZXF1aXJlKEF1Y3Rpb25JZHNbX0F1Y3Rpb25JZF0ub3duZXIgPT0gbXNnLnNlbmRlcik7CgkgICAgQXVjdGlvbklkc1tfQXVjdGlvbklkXS5jYW5jZWxsZWQgPSB0cnVlOwoJfQoKCXN0cnVjdCBNZXNzYWdlIHsKCSAgICBzdHJpbmcgX01lc3NhZ2U7CgkgICAgc3RyaW5nIF9UbzsKCSAgICBzdHJpbmcgX0Zyb207Cgl9CgoJZnVuY3Rpb24gc2V0VG9rZW5UeXBlcyh1aW50MTYgX21heElkQmFja2dyb3VuZCwgdWludDE2IF9tYXhJZExvY2ssdWludDE2IF9tYXhJZE5vdGUpIHB1YmxpYyBvd25lckZ1bmMgewoJICAgIHJlcXVpcmUoX21heElkQmFja2dyb3VuZCA+PSBtYXhJZEJhY2tncm91bmQpOwoJICAgIHJlcXVpcmUoX21heElkTG9jayA+PSBtYXhJZExvY2spOwoJICAgIHJlcXVpcmUoX21heElkTm90ZSA+PSBtYXhJZE5vdGUpOwoJICAgIG1heElkQmFja2dyb3VuZCA9IF9tYXhJZEJhY2tncm91bmQ7CgkgICAgbWF4SWRMb2NrID0gX21heElkTG9jazsKICAgICAgICBtYXhJZE5vdGUgPSBfbWF4SWROb3RlOwoJfQoKCiAgICBmdW5jdGlvbiByYW5kKHVpbnQxNiBtaW4sIHVpbnQxNiBtYXgsdWludDY0IF9zZWVkKSBwcml2YXRlIHB1cmUgcmV0dXJucyAodWludDE2KXsKICAgICAgICByZXR1cm4gKHVpbnQxNihrZWNjYWsyNTYoX3NlZWQrbWF4KSkgJSAobWF4LW1pbisxKSkrbWluOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBTcGF3bkN5Y2xlcyh1aW50NjQgX0F1Y3Rpb25JZCkgcHJpdmF0ZSB2aWV3IHJldHVybnMgKHVpbnQyNTYpewogICAgICAgIHZhciBhID0gQXVjdGlvbklkc1tfQXVjdGlvbklkXTsKICAgICAgICByZXR1cm4gKChub3ctYS5zdGFydFRpbWUpL2EuZHVyYXRpb24pOwogICAgfQoKCgoKCn0='.
	

]
