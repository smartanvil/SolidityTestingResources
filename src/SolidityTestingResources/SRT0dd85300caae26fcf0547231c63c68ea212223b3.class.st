Class {
	#name : #SRT0dd85300caae26fcf0547231c63c68ea212223b3,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT0dd85300caae26fcf0547231c63c68ea212223b3 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgovKioKICogQHRpdGxlIFByb3ZpZGVzIG92ZXJmbG93IHNhZmUgYXJpdGhtZXRpYwogKi8KbGlicmFyeSBTYWZlTWF0aCB7CgogICAgLyoqCiAgICAgKiBAZGV2IERvZXMgc3VidHJhY3QgaW4gc2FmZSBtYW5uZXIKICAgICAqCiAgICAgKiBAcmV0dXJuIHJlc3VsdCBvZiAoX3N1YnRyYWhlbmQgLSBfc3VidHJhY3Rvcikgb3IgMCBpZiBvdmVyZmxvdyBvY2N1cnMKICAgICAqLwogICAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgX3N1YnRyYWhlbmQsIHVpbnQyNTYgX3N1YnRyYWN0b3IpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKCiAgICAgICAgLy8gb3ZlcmZsb3cgY2hlY2sKICAgICAgICBpZiAoX3N1YnRyYWN0b3IgPiBfc3VidHJhaGVuZCkKICAgICAgICAgICAgcmV0dXJuIDA7CgogICAgICAgIHJldHVybiBfc3VidHJhaGVuZCAtIF9zdWJ0cmFjdG9yOwogICAgfQp9CgovKioKICogQHRpdGxlIENvbnRyYWN0IG93bmVyIGRlZmluaXRpb24KICovCmNvbnRyYWN0IE93bmVkIHsKCiAgICAvKiBPd25lcidzIGFkZHJlc3MgKi8KICAgIGFkZHJlc3Mgb3duZXI7CgogICAgLyoqCiAgICAgKiBAZGV2IENvbnN0cnVjdG9yLCByZWNvcmRzIG1zZy5zZW5kZXIgYXMgY29udHJhY3Qgb3duZXIKICAgICAqLwogICAgZnVuY3Rpb24gT3duZWQoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBWYWxpZGF0ZXMgaWYgbXNnLnNlbmRlciBpcyBhbiBvd25lcgogICAgICovCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQp9CgovKiogCiAqIEB0aXRsZSBTdGFuZGFyZCB0b2tlbiBpbnRlcmZhY2UgKEVSQyAyMCkKICogCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KaW50ZXJmYWNlIEVSQzIwIHsKICAgIAovLyBGdW5jdGlvbnM6CiAgICAKICAgIC8qKgogICAgICogQHJldHVybiB0b3RhbCBhbW91bnQgb2YgdG9rZW5zCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CgogICAgLyoqIAogICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICAgKiBAcmV0dXJuIFRoZSBiYWxhbmNlCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CgogICAgLyoqIAogICAgICogQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYG1zZy5zZW5kZXJgCiAgICAgKiAKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpOwoKICAgIC8qKiAKICAgICAqIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBfZnJvbWAgb24gdGhlIGNvbmRpdGlvbiBpdCBpcyBhcHByb3ZlZCBieSBgX2Zyb21gCiAgICAgKiAKICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCk7CgogICAgLyoqIAogICAgICogQG5vdGljZSBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9hZGRyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMKICAgICAqIAogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHdlaSB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXIKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpOwoKICAgIC8qKiAKICAgICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgICogQHJldHVybiBBbW91bnQgb2YgcmVtYWluaW5nIHRva2VucyBhbGxvd2VkIHRvIHNwZW50CiAgICAgKi8KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CgovLyBFdmVudHM6CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKfQoKCi8qKgogKiBAdGl0bGUgSW1wbGVtZW50YXRpb24gb2YgRVJDIDIwIGludGVyZmFjZSB3aXRoIGhvbGRlcnMgbGlzdAogKi8KY29udHJhY3QgVG9rZW4gaXMgRVJDMjAgewoKICAgIC8vLyBOYW1lIG9mIHRoZSB0b2tlbgogICAgc3RyaW5nIHB1YmxpYyBuYW1lOwogICAgLy8vIFRva2VuIHN5bWJvbAogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CgogICAgLy8vIEZpeGVkIHBvaW50IGRlc2NyaXB0aW9uCiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7CgogICAgLy8vIFF0eSBvZiBzdXBwbGllZCB0b2tlbnMKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIC8vLyBUb2tlbiBob2xkZXJzIGxpc3QKICAgIGFkZHJlc3NbXSBwdWJsaWMgaG9sZGVyczsKICAgIC8qIGFkZHJlc3MgPT4gaW5kZXggaW4gYXJyYXkgb2YgaG9kbGVycywgaW5kZXggc3RhcnRzIGZyb20gMSAqLwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGluZGV4OwoKICAgIC8qIFRva2VuIGhvbGRlcnMgbWFwICovCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICAvKiBUb2tlbiB0cmFuc2ZlciBhcHByb3ZhbHMgKi8KICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93YW5jZXM7CgogICAgLyoqCiAgICAgKiBAZGV2IENvbnN0cnVjdHMgVG9rZW4gd2l0aCBnaXZlbiBgX25hbWVgLCBgX3N5bWJvbGAgYW5kIGBfZGVjaW1hbHNgCiAgICAgKi8KICAgIGZ1bmN0aW9uIFRva2VuKHN0cmluZyBfbmFtZSwgc3RyaW5nIF9zeW1ib2wsIHVpbnQ4IF9kZWNpbWFscykgewogICAgICAgIG5hbWUgPSBfbmFtZTsKICAgICAgICBzeW1ib2wgPSBfc3ltYm9sOwogICAgICAgIGRlY2ltYWxzID0gX2RlY2ltYWxzOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBHZXQgYmFsYW5jZSBvZiBnaXZlbiBhZGRyZXNzCiAgICAgKgogICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byByZXF1ZXN0IGJhbGFuY2UgZnJvbQogICAgICogQHJldHVybiBUaGUgYmFsYW5jZQogICAgICovCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgVHJhbnNmZXIgb3duIHRva2VucyB0byBnaXZlbiBhZGRyZXNzCiAgICAgKiBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgICAqCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CgogICAgICAgIC8vIGJhbGFuY2UgY2hlY2sKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKSB7CgogICAgICAgICAgICAvLyB0cmFuc2ZlcgogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwoKICAgICAgICAgICAgLy8gcHVzaCBuZXcgaG9sZGVyIGlmIF92YWx1ZSA+IDAKICAgICAgICAgICAgaWYgKF92YWx1ZSA+IDAgJiYgaW5kZXhbX3RvXSA9PSAwKSB7CiAgICAgICAgICAgICAgICBpbmRleFtfdG9dID0gaG9sZGVycy5wdXNoKF90byk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKCiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgYmV0d2VlbiBhZGRyZXNzZXMgdXNpbmcgYXBwcm92YWxzCiAgICAgKiBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgICoKICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewoKICAgICAgICAvLyBhcHByb3ZlZCBiYWxhbmNlIGNoZWNrCiAgICAgICAgaWYgKGFsbG93YW5jZXNbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJgogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICkgewoKICAgICAgICAgICAgLy8gaGl0IGFwcHJvdmVkIGFtb3VudAogICAgICAgICAgICBhbGxvd2FuY2VzW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CgogICAgICAgICAgICAvLyB0cmFuc2ZlcgogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKCiAgICAgICAgICAgIC8vIHB1c2ggbmV3IGhvbGRlciBpZiBfdmFsdWUgPiAwCiAgICAgICAgICAgIGlmIChfdmFsdWUgPiAwICYmIGluZGV4W190b10gPT0gMCkgewogICAgICAgICAgICAgICAgaW5kZXhbX3RvXSA9IGhvbGRlcnMucHVzaChfdG8pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwoKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEFwcHJvdmUgdG9rZW4gdHJhbnNmZXIgd2l0aCBzcGVjaWZpYyBhbW91bnQKICAgICAqIEBub3RpY2UgYG1zZy5zZW5kZXJgIGFwcHJvdmVzIGBfYWRkcmAgdG8gc3BlbmQgYF92YWx1ZWAgdG9rZW5zCiAgICAgKgogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHdlaSB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXIKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBhbGxvd2FuY2VzW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgR2V0IGFtb3VudCBvZiB0b2tlbnMgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgICAgKgogICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAgKiBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgICAqLwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGFsbG93YW5jZXNbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IENvbnZlbmllbnQgd2F5IHRvIHJlc2V0IGFwcHJvdmFsIGZvciBnaXZlbiBhZGRyZXNzLCBub3QgYSBwYXJ0IG9mIEVSQzIwCiAgICAgKgogICAgICogQHBhcmFtIF9zcGVuZGVyIHRoZSBhZGRyZXNzCiAgICAgKi8KICAgIGZ1bmN0aW9uIHVuYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyKSB7CiAgICAgICAgYWxsb3dhbmNlc1ttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfQoKICAgIC8qKgogICAgICogQHJldHVybiB0b3RhbCBhbW91bnQgb2YgdG9rZW5zCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiB0b3RhbFN1cHBseTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgUmV0dXJucyBjb3VudCBvZiB0b2tlbiBob2xkZXJzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGhvbGRlckNvdW50KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBob2xkZXJzLmxlbmd0aDsKICAgIH0KfQoKCi8qKgogKiBAdGl0bGUgQ2F0J3MgVG9rZW4sIG1pYW93ISEhCiAqCiAqIEBkZXYgRGVmaW5lcyB0b2tlbiB3aXRoIG5hbWUgIkNhdCdzIFRva2VuIiwgc3ltYm9sICJDVFMiCiAqIGFuZCAzIGRpZ2l0cyBhZnRlciB0aGUgcG9pbnQKICovCmNvbnRyYWN0IENhdCBpcyBUb2tlbigiQ2F0J3MgVG9rZW4iLCAiQ1RTIiwgMyksIE93bmVkIHsKCiAgICAvKioKICAgICAqIEBkZXYgRW1pdHMgc3BlY2lmaWVkIG51bWJlciBvZiB0b2tlbnMuIE9ubHkgb3duZXIgY2FuIGVtaXQuCiAgICAgKiBFbWl0dGVkIHRva2VucyBhcmUgY3JlZGl0ZWQgdG8gb3duZXIncyBhY2NvdW50CiAgICAgKgogICAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgZW1pdHRpbmcgdG9rZW5zCiAgICAgKiBAcmV0dXJuIHRydWUgaWYgZW1pc3Npb24gc3VjY2VlZGVkLCBmYWxzZSBvdGhlcndpc2UKICAgICAqLwogICAgZnVuY3Rpb24gZW1pdCh1aW50MjU2IF92YWx1ZSkgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKCiAgICAgICAgLy8gb3ZlcmZsb3cgY2hlY2sKICAgICAgICBhc3NlcnQodG90YWxTdXBwbHkgKyBfdmFsdWUgPj0gdG90YWxTdXBwbHkpOwoKICAgICAgICAvLyBlbWlzc2lvbgogICAgICAgIHRvdGFsU3VwcGx5ICs9IF92YWx1ZTsKICAgICAgICBiYWxhbmNlc1tvd25lcl0gKz0gX3ZhbHVlOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKLyoqCiAqIEB0aXRsZSBEcml2ZXMgQ2F0J3MgVG9rZW4gSUNPCiAqLwpjb250cmFjdCBDYXRJQ08gewoKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIC8vLyBTdGFydHMgYXQgMjEgU2VwIDIwMTcgMDU6MDA6MDAgVVRDCiAgICB1aW50MjU2IHB1YmxpYyBzdGFydCA9IDE1MDU5NzAwMDA7CiAgICAvLy8gRW5kcyBhdCAyMSBOb3YgMjAxNyAwNTowMDowMCBVVEMKICAgIHVpbnQyNTYgcHVibGljIGVuZCA9IDE1MTEyNDA0MDA7CgogICAgLy8vIEtlZXBzIHN1cHBsaWVkIGV0aGVyCiAgICBhZGRyZXNzIHB1YmxpYyB3YWxsZXQ7CgogICAgLy8vIENhdCdzIFRva2VuCiAgICBDYXQgcHVibGljIGNhdDsKCiAgICBzdHJ1Y3QgU3RhZ2UgewogICAgICAgIC8qIHByaWNlIGluIHdlaXMgZm9yIG9uZSBtaWxsaUNUUyAqLwogICAgICAgIHVpbnQyNTYgcHJpY2U7CiAgICAgICAgLyogc3VwcGx5IGNhcCBpbiBtaWxsaUNUUyAqLwogICAgICAgIHVpbnQyNTYgY2FwOwogICAgfQoKICAgIC8qIFN0YWdlIDE6IENhdCBTaW11bGF0b3IgKi8KICAgIFN0YWdlIHNpbXVsYXRvciA9IFN0YWdlKDAuMDEgZXRoZXIgLyAxMDAwLCA5MDAwMDAwMDApOwogICAgLyogU3RhZ2UgMjogQ2F0cyBPbmxpbmUgKi8KICAgIFN0YWdlIG9ubGluZSA9IFN0YWdlKDAuMDEyNSBldGhlciAvIDEwMDAsIDI1MDAwMDAwMDApOwogICAgLyogU3RhZ2UgMzogQ2F0IFNlcXVlbHMgKi8KICAgIFN0YWdlIHNlcXVlbHMgPSBTdGFnZSgwLjAxNiBldGhlciAvIDEwMDAsIDM3NTAwMDAwMDApOwoKICAgIC8qKgogICAgICogQGRldiBDYXQncyBJQ08gY29uc3RydWN0b3IuIEl0IHNwYXducyBhIENhdCBjb250cmFjdC4KICAgICAqCiAgICAgKiBAcGFyYW0gX3dhbGxldCB0aGUgYWRkcmVzcyBvZiB0aGUgSUNPIHdhbGxldAogICAgICovCiAgICBmdW5jdGlvbiBDYXRJQ08oYWRkcmVzcyBfd2FsbGV0KSB7CiAgICAgICAgY2F0ID0gbmV3IENhdCgpOwogICAgICAgIHdhbGxldCA9IF93YWxsZXQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEZhbGxiYWNrIGZ1bmN0aW9uLCB3b3JrcyBvbmx5IGlmIElDTyBpcyBydW5uaW5nCiAgICAgKi8KICAgIGZ1bmN0aW9uKCkgcGF5YWJsZSBvbmx5UnVubmluZyB7CgogICAgICAgIHZhciBzdXBwbGllZCA9IGNhdC50b3RhbFN1cHBseSgpOwogICAgICAgIHZhciB0b2tlbnMgPSB0b2tlbkVtaXNzaW9uKG1zZy52YWx1ZSwgc3VwcGxpZWQpOwoKICAgICAgICAvLyByZXZlcnQgaWYgbm90aGluZyB0byBlbWl0CiAgICAgICAgcmVxdWlyZSh0b2tlbnMgPiAwKTsKCiAgICAgICAgLy8gZW1pdCB0b2tlbnMKICAgICAgICBib29sIHN1Y2Nlc3MgPSBjYXQuZW1pdCh0b2tlbnMpOwogICAgICAgIGFzc2VydChzdWNjZXNzKTsKCiAgICAgICAgLy8gdHJhbnNmZXIgbmV3IHRva2VucyB0byBpdHMgb3duZXIKICAgICAgICBzdWNjZXNzID0gY2F0LnRyYW5zZmVyKG1zZy5zZW5kZXIsIHRva2Vucyk7CiAgICAgICAgYXNzZXJ0KHN1Y2Nlc3MpOwoKICAgICAgICAvLyBzZW5kIHZhbHVlIHRvIHRoZSB3YWxsZXQKICAgICAgICB3YWxsZXQudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQ2FsY3VsYXRlcyBudW1iZXIgb2YgdG9rZW5zIHRvIGVtaXQKICAgICAqCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHJlY2VpdmVkIEVUSAogICAgICogQHBhcmFtIF9zdXBwbGllZCB0b2tlbnMgcXR5IHN1cHBsaWVkIGF0IHRoZSBtb21lbnQKICAgICAqIEByZXR1cm4gdG9rZW5zIGNvdW50IHdoaWNoIGlzIGFjY2VwdGVkIGZvciBlbWlzc2lvbgogICAgICovCiAgICBmdW5jdGlvbiB0b2tlbkVtaXNzaW9uKHVpbnQyNTYgX3ZhbHVlLCB1aW50MjU2IF9zdXBwbGllZCkgcHJpdmF0ZSByZXR1cm5zICh1aW50MjU2KSB7CgogICAgICAgIHVpbnQyNTYgZW1pc3Npb24gPSAwOwogICAgICAgIHVpbnQyNTYgc3RhZ2VUb2tlbnM7CgogICAgICAgIFN0YWdlWzNdIG1lbW9yeSBzdGFnZXMgPSBbc2ltdWxhdG9yLCBvbmxpbmUsIHNlcXVlbHNdOwoKICAgICAgICAvKiBTdGFnZSAxIGFuZCAyICovCiAgICAgICAgZm9yICh1aW50OCBpID0gMDsgaSA8IDI7IGkrKykgewogICAgICAgICAgICAoc3RhZ2VUb2tlbnMsIF92YWx1ZSwgX3N1cHBsaWVkKSA9IHN0YWdlRW1pc3Npb24oX3ZhbHVlLCBfc3VwcGxpZWQsIHN0YWdlc1tpXSk7CiAgICAgICAgICAgIGVtaXNzaW9uICs9IHN0YWdlVG9rZW5zOwogICAgICAgIH0KCiAgICAgICAgLyogU3RhZ2UgMywgc3BlbmQgcmVtYWluZGVyIHZhbHVlICovCiAgICAgICAgZW1pc3Npb24gKz0gX3ZhbHVlIC8gc3RhZ2VzWzJdLnByaWNlOwoKICAgICAgICByZXR1cm4gZW1pc3Npb247CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IENhbGN1bGF0ZXMgdG9rZW4gZW1pc3Npb24gaW4gdGVybXMgb2YgZ2l2ZW4gc3RhZ2UKICAgICAqCiAgICAgKiBAcGFyYW0gX3ZhbHVlIGNvbnN1bWluZyBFVEggdmFsdWUKICAgICAqIEBwYXJhbSBfc3VwcGxpZWQgdG9rZW5zIHF0eSBzdXBwbGllZCB3aXRoaW4gdG9rZW5zIHN1cHBsaWVkIGZvciBwcmV2IHN0YWdlcwogICAgICogQHBhcmFtIF9zdGFnZSB0aGUgc3RhZ2UKICAgICAqCiAgICAgKiBAcmV0dXJuIHRva2VucyBlbWl0dGVkIGluIHRoZSBzdGFnZSwgcmV0dXJucyAwIGlmIHN0YWdlIGlzIHBhc3NlZCBvciBub3QgZW5vdWdoIF92YWx1ZQogICAgICogQHJldHVybiB2YWx1ZVJlbWFpbmRlciB0aGUgdmFsdWUgcmVtYWluaW5nIGFmdGVyIGVtaXNzaW9uIGluIHRoZSBzdGFnZQogICAgICogQHJldHVybiBuZXdTdXBwbHkgdG90YWwgc3VwcGxpZWQgdG9rZW5zIGFmdGVyIGVtaXNzaW9uIGluIHRoZSBzdGFnZQogICAgICovCiAgICBmdW5jdGlvbiBzdGFnZUVtaXNzaW9uKHVpbnQyNTYgX3ZhbHVlLCB1aW50MjU2IF9zdXBwbGllZCwgU3RhZ2UgX3N0YWdlKQogICAgICAgIHByaXZhdGUKICAgICAgICByZXR1cm5zICh1aW50MjU2IHRva2VucywgdWludDI1NiB2YWx1ZVJlbWFpbmRlciwgdWludDI1NiBuZXdTdXBwbHkpCiAgICB7CgogICAgICAgIC8qIENoZWNrIGlmIHRoZXJlIGlzIHNwYWNlIGxlZnQgaW4gdGhlIHN0YWdlICovCiAgICAgICAgaWYgKF9zdXBwbGllZCA+PSBfc3RhZ2UuY2FwKSB7CiAgICAgICAgICAgIHJldHVybiAoMCwgX3ZhbHVlLCBfc3VwcGxpZWQpOwogICAgICAgIH0KCiAgICAgICAgLyogQ2hlY2sgaWYgdGhlcmUgaXMgZW5vdWdoIHZhbHVlIGZvciBhdCBsZWFzdCBvbmUgbWlsbGlDVFMgKi8KICAgICAgICBpZiAoX3ZhbHVlIDwgX3N0YWdlLnByaWNlKSB7CiAgICAgICAgICAgIHJldHVybiAoMCwgX3ZhbHVlLCBfc3VwcGxpZWQpOwogICAgICAgIH0KCiAgICAgICAgLyogUG90ZW50aWFsIGVtaXNzaW9uICovCiAgICAgICAgdmFyIF90b2tlbnMgPSBfdmFsdWUgLyBfc3RhZ2UucHJpY2U7CgogICAgICAgIC8qIEFkanVzdCB0byB0aGUgc3BhY2UgbGVmdCBpbiB0aGUgc3RhZ2UgKi8KICAgICAgICB2YXIgcmVtYWluZGVyID0gX3N0YWdlLmNhcC5zdWIoX3N1cHBsaWVkKTsKICAgICAgICBfdG9rZW5zID0gX3Rva2VucyA+IHJlbWFpbmRlciA/IHJlbWFpbmRlciA6IF90b2tlbnM7CgogICAgICAgIC8qIFVwZGF0ZSB2YWx1ZSBhbmQgc3VwcGx5ICovCiAgICAgICAgdmFyIF92YWx1ZVJlbWFpbmRlciA9IF92YWx1ZS5zdWIoX3Rva2VucyAqIF9zdGFnZS5wcmljZSk7CiAgICAgICAgdmFyIF9uZXdTdXBwbHkgPSBfc3VwcGxpZWQgKyBfdG9rZW5zOwoKICAgICAgICByZXR1cm4gKF90b2tlbnMsIF92YWx1ZVJlbWFpbmRlciwgX25ld1N1cHBseSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IENoZWNrcyBpZiBJQ08gaXMgc3RpbGwgcnVubmluZwogICAgICoKICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBJQ08gaXMgcnVubmluZywgZmFsc2Ugb3RoZXJ3aXNlCiAgICAgKi8KICAgIGZ1bmN0aW9uIGlzUnVubmluZygpIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKCiAgICAgICAgLyogVGltZWZyYW1lcyAqLwogICAgICAgIGlmIChub3cgPCBzdGFydCkgcmV0dXJuIGZhbHNlOwogICAgICAgIGlmIChub3cgPj0gZW5kKSByZXR1cm4gZmFsc2U7CgogICAgICAgIC8qIFRvdGFsIGNhcCwgaGVsZCBieSBTdGFnZSAzICovCiAgICAgICAgaWYgKGNhdC50b3RhbFN1cHBseSgpID49IHNlcXVlbHMuY2FwKSByZXR1cm4gZmFsc2U7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBWYWxpZGF0ZXMgSUNPIHRpbWVmcmFtZXMgYW5kIHRvdGFsIGNhcAogICAgICovCiAgICBtb2RpZmllciBvbmx5UnVubmluZygpIHsKCiAgICAgICAgLyogQ2hlY2sgdGltZWZyYW1lcyAqLwogICAgICAgIHJlcXVpcmUobm93ID49IHN0YXJ0KTsKICAgICAgICByZXF1aXJlKG5vdyA8IGVuZCk7CgogICAgICAgIC8qIENoZWNrIFN0YWdlIDMgY2FwICovCiAgICAgICAgcmVxdWlyZShjYXQudG90YWxTdXBwbHkoKSA8IHNlcXVlbHMuY2FwKTsKCiAgICAgICAgXzsKICAgIH0KfQ=='.
	

]
