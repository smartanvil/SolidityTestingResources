Class {
	#name : #SRT1eb0d4794d4067ed004c9d55ff6eb50620b27c58,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT1eb0d4794d4067ed004c9d55ff6eb50620b27c58 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTQ7Cgpjb250cmFjdCBEU01hdGggewogICAgCiAgICAvKgogICAgc3RhbmRhcmQgdWludDI1NiBmdW5jdGlvbnMKICAgICAqLwoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgYXNzZXJ0KCh6ID0geCArIHkpID49IHgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgYXNzZXJ0KCh6ID0geCAtIHkpIDw9IHgpOwogICAgfQoKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgYXNzZXJ0KCh6ID0geCAqIHkpID49IHgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGRpdih1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgeiA9IHggLyB5OwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbih1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgcmV0dXJuIHggPD0geSA/IHggOiB5OwogICAgfQogICAgZnVuY3Rpb24gbWF4KHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICByZXR1cm4geCA+PSB5ID8geCA6IHk7CiAgICB9CgogICAgLyoKICAgIHVpbnQxMjggZnVuY3Rpb25zIChoIGlzIGZvciBoYWxmKQogICAgICovCgoKICAgIGZ1bmN0aW9uIGhhZGQodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIGFzc2VydCgoeiA9IHggKyB5KSA+PSB4KTsKICAgIH0KCiAgICBmdW5jdGlvbiBoc3ViKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICBhc3NlcnQoKHogPSB4IC0geSkgPD0geCk7CiAgICB9CgogICAgZnVuY3Rpb24gaG11bCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgYXNzZXJ0KCh6ID0geCAqIHkpID49IHgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGhkaXYodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIHogPSB4IC8geTsKICAgIH0KCiAgICBmdW5jdGlvbiBobWluKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICByZXR1cm4geCA8PSB5ID8geCA6IHk7CiAgICB9CiAgICBmdW5jdGlvbiBobWF4KHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICByZXR1cm4geCA+PSB5ID8geCA6IHk7CiAgICB9CgoKICAgIC8qCiAgICBpbnQyNTYgZnVuY3Rpb25zCiAgICAgKi8KCiAgICBmdW5jdGlvbiBpbWluKGludDI1NiB4LCBpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAoaW50MjU2IHopIHsKICAgICAgICByZXR1cm4geCA8PSB5ID8geCA6IHk7CiAgICB9CiAgICBmdW5jdGlvbiBpbWF4KGludDI1NiB4LCBpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAoaW50MjU2IHopIHsKICAgICAgICByZXR1cm4geCA+PSB5ID8geCA6IHk7CiAgICB9CgogICAgLyoKICAgIFdBRCBtYXRoCiAgICAgKi8KCiAgICB1aW50MTI4IGNvbnN0YW50IFdBRCA9IDEwICoqIDE4OwoKICAgIGZ1bmN0aW9uIHdhZGQodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjgpIHsKICAgICAgICByZXR1cm4gaGFkZCh4LCB5KTsKICAgIH0KCiAgICBmdW5jdGlvbiB3c3ViKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4KSB7CiAgICAgICAgcmV0dXJuIGhzdWIoeCwgeSk7CiAgICB9CgogICAgZnVuY3Rpb24gd211bCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgeiA9IGNhc3QoKHVpbnQyNTYoeCkgKiB5ICsgV0FEIC8gMikgLyBXQUQpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdkaXYodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIHogPSBjYXN0KCh1aW50MjU2KHgpICogV0FEICsgeSAvIDIpIC8geSk7CiAgICB9CgogICAgZnVuY3Rpb24gd21pbih1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCkgewogICAgICAgIHJldHVybiBobWluKHgsIHkpOwogICAgfQogICAgZnVuY3Rpb24gd21heCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCkgewogICAgICAgIHJldHVybiBobWF4KHgsIHkpOwogICAgfQoKICAgIC8qCiAgICBSQVkgbWF0aAogICAgICovCgogICAgdWludDEyOCBjb25zdGFudCBSQVkgPSAxMCAqKiAyNzsKCiAgICBmdW5jdGlvbiByYWRkKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4KSB7CiAgICAgICAgcmV0dXJuIGhhZGQoeCwgeSk7CiAgICB9CgogICAgZnVuY3Rpb24gcnN1Yih1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCkgewogICAgICAgIHJldHVybiBoc3ViKHgsIHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJtdWwodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIHogPSBjYXN0KCh1aW50MjU2KHgpICogeSArIFJBWSAvIDIpIC8gUkFZKTsKICAgIH0KCiAgICBmdW5jdGlvbiByZGl2KHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICB6ID0gY2FzdCgodWludDI1Nih4KSAqIFJBWSArIHkgLyAyKSAvIHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJwb3codWludDEyOCB4LCB1aW50NjQgbikgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgLy8gVGhpcyBmYW1vdXMgYWxnb3JpdGhtIGlzIGNhbGxlZCAiZXhwb25lbnRpYXRpb24gYnkgc3F1YXJpbmciCiAgICAgICAgLy8gYW5kIGNhbGN1bGF0ZXMgeF5uIHdpdGggeCBhcyBmaXhlZC1wb2ludCBhbmQgbiBhcyByZWd1bGFyIHVuc2lnbmVkLgogICAgICAgIC8vCiAgICAgICAgLy8gSXQncyBPKGxvZyBuKSwgaW5zdGVhZCBvZiBPKG4pIGZvciBuYWl2ZSByZXBlYXRlZCBtdWx0aXBsaWNhdGlvbi4KICAgICAgICAvLwogICAgICAgIC8vIFRoZXNlIGZhY3RzIGFyZSB3aHkgaXQgd29ya3M6CiAgICAgICAgLy8KICAgICAgICAvLyAgSWYgbiBpcyBldmVuLCB0aGVuIHhebiA9ICh4XjIpXihuLzIpLgogICAgICAgIC8vICBJZiBuIGlzIG9kZCwgIHRoZW4geF5uID0geCAqIHheKG4tMSksCiAgICAgICAgLy8gICBhbmQgYXBwbHlpbmcgdGhlIGVxdWF0aW9uIGZvciBldmVuIHggZ2l2ZXMKICAgICAgICAvLyAgICB4Xm4gPSB4ICogKHheMileKChuLTEpIC8gMikuCiAgICAgICAgLy8KICAgICAgICAvLyAgQWxzbywgRVZNIGRpdmlzaW9uIGlzIGZsb29yaW5nIGFuZAogICAgICAgIC8vICAgIGZsb29yWyhuLTEpIC8gMl0gPSBmbG9vcltuIC8gMl0uCgogICAgICAgIHogPSBuICUgMiAhPSAwID8geCA6IFJBWTsKCiAgICAgICAgZm9yIChuIC89IDI7IG4gIT0gMDsgbiAvPSAyKSB7CiAgICAgICAgICAgIHggPSBybXVsKHgsIHgpOwoKICAgICAgICAgICAgaWYgKG4gJSAyICE9IDApIHsKICAgICAgICAgICAgICAgIHogPSBybXVsKHosIHgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHJtaW4odWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjgpIHsKICAgICAgICByZXR1cm4gaG1pbih4LCB5KTsKICAgIH0KICAgIGZ1bmN0aW9uIHJtYXgodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjgpIHsKICAgICAgICByZXR1cm4gaG1heCh4LCB5KTsKICAgIH0KCiAgICBmdW5jdGlvbiBjYXN0KHVpbnQyNTYgeCkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgYXNzZXJ0KCh6ID0gdWludDEyOCh4KSkgPT0geCk7CiAgICB9Cgp9Cgpjb250cmFjdCBPd25lZAp7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIAogICAgZnVuY3Rpb24gT3duZWQoKQogICAgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KICAgIAogICAgbW9kaWZpZXIgb25seU93bmVyKCkKICAgIHsKICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgcmV2ZXJ0KCk7CiAgICAgICAgXzsKICAgIH0KfQoKY29udHJhY3QgUHJvc3BlY3RvcnNDcm93ZHNhbGUgaXMgT3duZWQsIERTTWF0aAp7CiAgICBQcm9zcGVjdG9yc0dvbGRUb2tlbiBwdWJsaWMgdG9rZW47CiAgICBhZGRyZXNzIHB1YmxpYyBkZXZfbXVsdGlzaWc7IC8vbXVsdGlzaWduYXR1cmUgd2FsbGV0IHRvIGNvbGxlY3QgZnVuZHMKICAgIAogICAgdWludCBwdWJsaWMgdG90YWxfcmFpc2VkOyAvL2Nyb3dkc2FsZSB0b3RhbCBmdW5kcyByYWlzZWQKICAgIHVpbnQgcHVibGljIGNvbnRyaWJ1dG9yc19jb3VudCA9IDA7IC8vY3Jvd2RzYWxlIHRvdGFsIGZ1bmRzIHJhaXNlZAogICAgCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBzdGFydF90aW1lID0gMTUwMjM3NzIwMDsgLy9jcm93ZHNhbGUgc3RhcnQgdGltZSAtIEF1Z3VzdCAxMCwgMTU6MDAgVVRDCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBlbmRfdGltZSA9IDE1MDUwNTU2MDA7IC8vY3Jvd2RzYWxlIGVuZCB0aW1lIC0gU2VwdGVtcGJlciAxMCwgMTU6MDAgVVRDCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBib251c19hbW91bnQgPSAxMDAwMDAwMCAqIDEwKioxODsgLy9hbW91bnQgb2YgdG9rZW5zIGJ5IGJvbnVzIHByaWNlCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBzdGFydF9hbW91bnQgPSA2MDAwMDAwMCAqIDEwKioxODsgLy90b2tlbnMgYW1vdW50IGFsbG9jYXRlZCBmb3IgY3Jvd2RzYWxlCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBwcmljZSA9ICAwLjAwMDUgKiAxMCoqMTg7IC8vc3RhbmRhcnQgdG9rZW4gcHJpY2UgaW4gRVRIIAogICAgdWludCBwdWJsaWMgY29uc3RhbnQgYm9udXNfcHJpY2UgPSAwLjAwMDQgKiAxMCoqMTg7IC8vYm9udXMgdG9rZW4gcHJpY2UgaW4gRVRICiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBnb2FsID0gMjAwMCBldGhlcjsgLy9zb2Z0IGNyb3dkc2FsZSBjYXAuIElmIG5vdCByZWFjaGVkIGZ1bmRzIHdpbGwgYmUgcmV0dXJuZWQKICAgIGJvb2wgcHJpdmF0ZSBjbG9zZWQgPSBmYWxzZTsgLy9jYW4gYmUgdHJ1ZSBhZnRlciBlbmRfdGltZSBvciB3aGVuIGFsbCB0b2tlbnMgc29sZAogICAgCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgZnVuZGVkOyAvL25lZWRlZCB0byBzYXZlIGFtb3VudHMgb2YgRVRIIGZvciByZWZ1bmQKICAgIAogICAgbW9kaWZpZXIgaW5fdGltZSAvL2FsbG93cyBzZW5kIGV0aCBvbmx5IHdoZW4gY3Jvd2RzYWxlIGlzIGFjdGl2ZQogICAgewogICAgICAgIGlmICh0aW1lKCkgPCBzdGFydF90aW1lIHx8IHRpbWUoKSA+IGVuZF90aW1lKSAgcmV2ZXJ0KCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBpc19zdWNjZXNzKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgcmV0dXJuIGNsb3NlZCA9PSB0cnVlICYmIHRvdGFsX3JhaXNlZCA+PSBnb2FsOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB0aW1lKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpCiAgICB7CiAgICAgICAgcmV0dXJuIGJsb2NrLnRpbWVzdGFtcDsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gbXlfdG9rZW5fYmFsYW5jZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KQogICAgewogICAgICAgIHJldHVybiB0b2tlbi5iYWxhbmNlT2YodGhpcyk7CiAgICB9CiAgICAKICAgIC8vdG9rZW5zIGFtb3VudCBhdmFpbGFibGUgYnkgYm9udXMgcHJpY2UKICAgIGZ1bmN0aW9uIGF2YWlsYWJsZV93aXRoX2JvbnVzKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpCiAgICB7CiAgICAgICAgcmV0dXJuIG15X3Rva2VuX2JhbGFuY2UoKSA+PSAgbWluX2JhbGFuY2VfZm9yX2JvbnVzKCkgPyAKICAgICAgICAgICAgICAgIG15X3Rva2VuX2JhbGFuY2UoKSAtIG1pbl9iYWxhbmNlX2Zvcl9ib251cygpIAogICAgICAgICAgICAgICAgOiAKICAgICAgICAgICAgICAgIDA7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGF2YWlsYWJsZV93aXRob3V0X2JvbnVzKCkgcHJpdmF0ZSBjb25zdGFudCByZXR1cm5zICh1aW50KQogICAgewogICAgICAgIHJldHVybiBtaW4obXlfdG9rZW5fYmFsYW5jZSgpLCAgbWluX2JhbGFuY2VfZm9yX2JvbnVzKCkpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBtaW5fYmFsYW5jZV9mb3JfYm9udXMoKSBwcml2YXRlIGNvbnN0YW50IHJldHVybnMgKHVpbnQpCiAgICB7CiAgICAgICAgcmV0dXJuIHN0YXJ0X2Ftb3VudCAtIGJvbnVzX2Ftb3VudDsKICAgIH0KICAgIAogICAgLy9wcmV2ZW50IHNlbmQgbGVzcyB0aGFuIDAuMDEgRVRICiAgICBtb2RpZmllciBoYXNfdmFsdWUKICAgIHsKICAgICAgICBpZiAobXNnLnZhbHVlIDwgMC4wMSBldGhlcikgcmV2ZXJ0KCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBpbml0KGFkZHJlc3MgX3Rva2VuX2FkZHJlc3MsIGFkZHJlc3MgX2Rldl9tdWx0aXNpZykgb25seU93bmVyCiAgICB7CiAgICAgICAgaWYgKGFkZHJlc3MoMCkgIT0gYWRkcmVzcyh0b2tlbikpIHJldmVydCgpOwogICAgICAgIHRva2VuID0gUHJvc3BlY3RvcnNHb2xkVG9rZW4oX3Rva2VuX2FkZHJlc3MpOwogICAgICAgIGRldl9tdWx0aXNpZyA9IF9kZXZfbXVsdGlzaWc7CiAgICB9CiAgICAKICAgIC8vbWFpbiBjb250cmlidXRlIGZ1bmN0aW9uCiAgICBmdW5jdGlvbiBwYXJ0aWNpcGF0ZSgpIGluX3RpbWUgaGFzX3ZhbHVlIHByaXZhdGUgewogICAgICAgIGlmIChteV90b2tlbl9iYWxhbmNlKCkgPT0gMCB8fCBjbG9zZWQgPT0gdHJ1ZSkgcmV2ZXJ0KCk7CgogICAgICAgIHZhciByZW1haW5zID0gbXNnLnZhbHVlOwogICAgICAgIAogICAgICAgICAvL2NhbGN1bGF0ZSB0b2tlbnMgYW1vdW50IGJ5IGJvbnVzIHByaWNlCiAgICAgICAgdmFyIGNhbl93aXRoX2JvbnVzID0gd2RpdihjYXN0KHJlbWFpbnMpLCBjYXN0KGJvbnVzX3ByaWNlKSk7CiAgICAgICAgdmFyIGJ1eV9hbW91bnQgPSBjYXN0KG1pbihjYW5fd2l0aF9ib251cywgYXZhaWxhYmxlX3dpdGhfYm9udXMoKSkpOwogICAgICAgIHJlbWFpbnMgPSBzdWIocmVtYWlucywgd211bChidXlfYW1vdW50LCBjYXN0KGJvbnVzX3ByaWNlKSkpOwogICAgICAgIAogICAgICAgIGlmIChidXlfYW1vdW50IDwgY2FuX3dpdGhfYm9udXMpIC8vY2FsY3VsYXRlIHRva2VucyBhbW91bnQgYnkgc3RhbmRhcnQgcHJpY2UgaWYgdG9rZW5zIHdpdGggYm9udXMgZG9uJ3QgY292ZXIgZXRoIGFtb3VudAogICAgICAgIHsKICAgICAgICAgICAgdmFyIGNhbl93aXRob3V0X2JvbnVzID0gd2RpdihjYXN0KHJlbWFpbnMpLCBjYXN0KHByaWNlKSk7CiAgICAgICAgICAgIHZhciBidXlfd2l0aG91dF9ib251cyA9IGNhc3QobWluKGNhbl93aXRob3V0X2JvbnVzLCBhdmFpbGFibGVfd2l0aG91dF9ib251cygpKSk7CiAgICAgICAgICAgIHJlbWFpbnMgPSBzdWIocmVtYWlucywgd211bChidXlfd2l0aG91dF9ib251cywgY2FzdChwcmljZSkpKTsKICAgICAgICAgICAgYnV5X2Ftb3VudCA9IGhhZGQoYnV5X2Ftb3VudCwgYnV5X3dpdGhvdXRfYm9udXMpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJlbWFpbnMgPiAwKSByZXZlcnQoKTsKCiAgICAgICAgdG90YWxfcmFpc2VkID0gYWRkKHRvdGFsX3JhaXNlZCwgbXNnLnZhbHVlKTsKICAgICAgICBpZiAoZnVuZGVkW21zZy5zZW5kZXJdID09IDApIGNvbnRyaWJ1dG9yc19jb3VudCsrOwogICAgICAgIGZ1bmRlZFttc2cuc2VuZGVyXSA9IGFkZChmdW5kZWRbbXNnLnNlbmRlcl0sIG1zZy52YWx1ZSk7CgogICAgICAgIHRva2VuLnRyYW5zZmVyKG1zZy5zZW5kZXIsIGJ1eV9hbW91bnQpOyAvL3RyYW5zZmVyIHRva2VucyB0byBwYXJ0aWNpcGFudAogICAgfQogICAgCiAgICBmdW5jdGlvbiByZWZ1bmQoKSAvL2FsbG93cyBnZXQgZXRoIGJhY2sgaWYgbWluIGdvYWwgbm90IHJlYWNoZWQKICAgIHsKICAgICAgICBpZiAodG90YWxfcmFpc2VkID49IGdvYWwgfHwgY2xvc2VkID09IGZhbHNlKSByZXZlcnQoKTsKICAgICAgICB2YXIgYW1vdW50ID0gZnVuZGVkW21zZy5zZW5kZXJdOwogICAgICAgIGlmIChhbW91bnQgPiAwKQogICAgICAgIHsKICAgICAgICAgICAgZnVuZGVkW21zZy5zZW5kZXJdID0gMDsKICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihhbW91bnQpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gY2xvc2VDcm93ZHNhbGUoKSAvL2Nsb3NlIGNyb3dkc2FsZS4gdGhpcyBhY3Rpb24gdW5sb2NrcyByZWZ1bmRzIG9yIHRva2VuIHRyYW5zZmVycwogICAgewogICAgICAgIGlmIChjbG9zZWQgPT0gZmFsc2UgJiYgdGltZSgpID4gc3RhcnRfdGltZSAmJiAodGltZSgpID4gZW5kX3RpbWUgfHwgbXlfdG9rZW5fYmFsYW5jZSgpID09IDApKQogICAgICAgIHsKICAgICAgICAgICAgY2xvc2VkID0gdHJ1ZTsKICAgICAgICAgICAgaWYgKGlzX3N1Y2Nlc3MoKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdG9rZW4udW5sb2NrKCk7IC8vdW5sb2NrIHRva2VuIHRyYW5zZmVycwogICAgICAgICAgICAgICAgaWYgKG15X3Rva2VuX2JhbGFuY2UoKSA+IDApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdG9rZW4udHJhbnNmZXIoMHhiMSwgbXlfdG9rZW5fYmFsYW5jZSgpKTsgLy9tb3ZlIG5vdCBzYWxlZCB0b2tlbnMgdG8gZ2FtZSBiYWxhbmNlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiBjb2xsZWN0KCkgLy9jb2xsZWN0IGV0aCBieSBkZXZzIGlmIG1pbiBnb2FsIHJlYWNoZWQKICAgIHsKICAgICAgICBpZiAodG90YWxfcmFpc2VkIDwgZ29hbCkgcmV2ZXJ0KCk7CiAgICAgICAgZGV2X211bHRpc2lnLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICB9CgogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSBleHRlcm5hbCAKICAgIHsKICAgICAgICBwYXJ0aWNpcGF0ZSgpOwogICAgfQogICAgCiAgICAvL2FsbG93cyBkZXN0cm95IHRoaXMgd2hpdGhpbiAxODAgZGF5cyBhZnRlciBjcm93ZHNhbGUgZW5kcwogICAgZnVuY3Rpb24gZGVzdHJveSgpIG9ubHlPd25lcgogICAgewogICAgICAgIGlmICh0aW1lKCkgPiBlbmRfdGltZSArIDE4MCBkYXlzKQogICAgICAgIHsKICAgICAgICAgICAgc2VsZmRlc3RydWN0KGRldl9tdWx0aXNpZyk7CiAgICAgICAgfQogICAgfQp9Cgpjb250cmFjdCBQcm9zcGVjdG9yc0dvbGRUb2tlbiB7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoIGFkZHJlc3Mgd2hvICkgY29uc3RhbnQgcmV0dXJucyAodWludCB2YWx1ZSk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlciggYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7CiAgICBmdW5jdGlvbiB1bmxvY2soKSByZXR1cm5zIChib29sIG9rKTsKfQ=='.
	

]
