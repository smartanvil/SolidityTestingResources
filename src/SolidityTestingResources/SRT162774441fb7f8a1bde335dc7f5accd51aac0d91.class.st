Class {
	#name : #SRT162774441fb7f8a1bde335dc7f5accd51aac0d91,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT162774441fb7f8a1bde335dc7f5accd51aac0d91 >> base64 [
	^ 'LyoKQ29weXJpZ2h0IChjKSAyMDE1LTIwMTYgT3JhY2xpemUgU1JMCkNvcHlyaWdodCAoYykgMjAxNi0yMDE3IE9yYWNsaXplIExURAoqLwoKLyoKT3JhY2xpemUgQ29ubmVjdG9yIHYxLjIuMAoqLwoKLy8gJ2NvbXByZXNzZWQnIGFsdGVybmF0aXZlLCB3aGVyZSBhbGwgbW9kaWZpZXJzIGhhdmUgYmVlbiBjaGFuZ2VkIHRvIEZVTkNUSU9OUwovLyB3aGljaCBpcyBjaGVhcGVyIGZvciBkZXBsb3ltZW50LCBwb3RlbnRpYWxseSBjaGVhcGVyIGV4ZWN1dGlvbgoKcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7Cgpjb250cmFjdCBPcmFjbGl6ZSB7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHJlcWM7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBieXRlKSBwdWJsaWMgY2JBZGRyZXNzZXM7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgb2ZmY2hhaW5QYXltZW50OwoKICAgIGV2ZW50IExvZzEoYWRkcmVzcyBzZW5kZXIsIGJ5dGVzMzIgY2lkLCB1aW50IHRpbWVzdGFtcCwgc3RyaW5nIGRhdGFzb3VyY2UsIHN0cmluZyBhcmcsIHVpbnQgZ2FzbGltaXQsIGJ5dGUgcHJvb2ZUeXBlLCB1aW50IGdhc1ByaWNlLCB1aW50IHF1ZXJ5Q29zdCk7CiAgICBldmVudCBMb2cyKGFkZHJlc3Mgc2VuZGVyLCBieXRlczMyIGNpZCwgdWludCB0aW1lc3RhbXAsIHN0cmluZyBkYXRhc291cmNlLCBzdHJpbmcgYXJnMSwgc3RyaW5nIGFyZzIsIHVpbnQgZ2FzbGltaXQsIGJ5dGUgcHJvb2ZUeXBlLCB1aW50IGdhc1ByaWNlLCB1aW50IHF1ZXJ5Q29zdCk7CiAgICBldmVudCBMb2dOKGFkZHJlc3Mgc2VuZGVyLCBieXRlczMyIGNpZCwgdWludCB0aW1lc3RhbXAsIHN0cmluZyBkYXRhc291cmNlLCBieXRlcyBhcmdzLCB1aW50IGdhc2xpbWl0LCBieXRlIHByb29mVHlwZSwgdWludCBnYXNQcmljZSwgdWludCBxdWVyeUNvc3QpOwogICAgZXZlbnQgTG9nMV9mbmMoYWRkcmVzcyBzZW5kZXIsIGJ5dGVzMzIgY2lkLCB1aW50IHRpbWVzdGFtcCwgc3RyaW5nIGRhdGFzb3VyY2UsIHN0cmluZyBhcmcsIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgY2FsbGJhY2ssIHVpbnQgZ2FzbGltaXQsIGJ5dGUgcHJvb2ZUeXBlLCB1aW50IGdhc1ByaWNlLCB1aW50IHF1ZXJ5Q29zdCk7CiAgICBldmVudCBMb2cyX2ZuYyhhZGRyZXNzIHNlbmRlciwgYnl0ZXMzMiBjaWQsIHVpbnQgdGltZXN0YW1wLCBzdHJpbmcgZGF0YXNvdXJjZSwgc3RyaW5nIGFyZzEsIHN0cmluZyBhcmcyLCBmdW5jdGlvbigpIGV4dGVybmFsIGNhbGxiYWNrLCB1aW50IGdhc2xpbWl0LCBieXRlIHByb29mVHlwZSwgdWludCBnYXNQcmljZSwgdWludCBxdWVyeUNvc3QpOwogICAgZXZlbnQgTG9nTl9mbmMoYWRkcmVzcyBzZW5kZXIsIGJ5dGVzMzIgY2lkLCB1aW50IHRpbWVzdGFtcCwgc3RyaW5nIGRhdGFzb3VyY2UsIGJ5dGVzIGFyZ3MsIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgY2FsbGJhY2ssIHVpbnQgZ2FzbGltaXQsIGJ5dGUgcHJvb2ZUeXBlLCB1aW50IGdhc1ByaWNlLCB1aW50IHF1ZXJ5Q29zdCk7CgogICAgZXZlbnQgRW1pdF9PZmZjaGFpblBheW1lbnRGbGFnKGFkZHJlc3MgaW5kZXhlZCBpZHhfc2VuZGVyLCBhZGRyZXNzIHNlbmRlciwgYm9vbCBpbmRleGVkIGlkeF9mbGFnLCBib29sIGZsYWcpOwoKICAgIGFkZHJlc3Mgb3duZXI7CiAgICBhZGRyZXNzIHBheW1lbnRGbGFnZ2VyOwoKICAgIGZ1bmN0aW9uIGNoYW5nZUFkbWluKGFkZHJlc3MgX25ld0FkbWluKQogICAgZXh0ZXJuYWwKICAgIHsKICAgICAgICBvbmx5YWRtaW4oKTsKICAgICAgICBvd25lciA9IF9uZXdBZG1pbjsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VQYXltZW50RmxhZ2dlcihhZGRyZXNzIF9uZXdGbGFnZ2VyKQogICAgZXh0ZXJuYWwKICAgIHsKICAgICAgICBvbmx5YWRtaW4oKTsKICAgICAgICBwYXltZW50RmxhZ2dlciA9IF9uZXdGbGFnZ2VyOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZENiQWRkcmVzcyhhZGRyZXNzIG5ld0NiQWRkcmVzcywgYnl0ZSBhZGRyZXNzVHlwZSkKICAgIGV4dGVybmFsCiAgICB7CiAgICAgICAgb25seWFkbWluKCk7CiAgICAgICAgLy9ieXRlcyBtZW1vcnkgbmlsID0gJyc7CiAgICAgICAgYWRkQ2JBZGRyZXNzKG5ld0NiQWRkcmVzcywgYWRkcmVzc1R5cGUsIGhleCcnKTsKICAgIH0KCiAgICAvLyBwcm9vZiBpcyBjdXJyZW50bHkgYSBwbGFjZWhvbGRlciBmb3Igd2hlbiBhc3NvY2lhdGVkIHByb29mIGZvciBhZGRyZXNzVHlwZSBpcyBhZGRlZAogICAgZnVuY3Rpb24gYWRkQ2JBZGRyZXNzKGFkZHJlc3MgbmV3Q2JBZGRyZXNzLCBieXRlIGFkZHJlc3NUeXBlLCBieXRlcyBwcm9vZikKICAgIHB1YmxpYwogICAgewogICAgICAgIG9ubHlhZG1pbigpOwogICAgICAgIGNiQWRkcmVzc2VzW25ld0NiQWRkcmVzc10gPSBhZGRyZXNzVHlwZTsKICAgIH0KCiAgICBmdW5jdGlvbiByZW1vdmVDYkFkZHJlc3MoYWRkcmVzcyBuZXdDYkFkZHJlc3MpCiAgICBleHRlcm5hbAogICAgewogICAgICAgIG9ubHlhZG1pbigpOwogICAgICAgIGRlbGV0ZSBjYkFkZHJlc3Nlc1tuZXdDYkFkZHJlc3NdOwogICAgfQoKICAgIGZ1bmN0aW9uIGNiQWRkcmVzcygpCiAgICBjb25zdGFudAogICAgcmV0dXJucyAoYWRkcmVzcyBfY2JBZGRyZXNzKQogICAgewogICAgICAgIGlmIChjYkFkZHJlc3Nlc1t0eC5vcmlnaW5dICE9IDApCiAgICAgICAgICAgIF9jYkFkZHJlc3MgPSB0eC5vcmlnaW47CiAgICB9CgogICAgZnVuY3Rpb24gYWRkRFNvdXJjZShzdHJpbmcgZHNuYW1lLCB1aW50IG11bHRpcGxpZXIpCiAgICBleHRlcm5hbAogICAgewogICAgICAgIGFkZERTb3VyY2UoZHNuYW1lLCAweDAwLCBtdWx0aXBsaWVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGREU291cmNlKHN0cmluZyBkc25hbWUsIGJ5dGUgcHJvb2ZUeXBlLCB1aW50IG11bHRpcGxpZXIpCiAgICBwdWJsaWMKICAgIHsKICAgICAgICBvbmx5YWRtaW4oKTsKICAgICAgICBieXRlczMyIGRzbmFtZV9oYXNoID0gc2hhMyhkc25hbWUsIHByb29mVHlwZSk7CiAgICAgICAgZHNvdXJjZXNbZHNvdXJjZXMubGVuZ3RoKytdID0gZHNuYW1lX2hhc2g7CiAgICAgICAgcHJpY2VfbXVsdGlwbGllcltkc25hbWVfaGFzaF0gPSBtdWx0aXBsaWVyOwogICAgfQoKICAgIC8vIFV0aWxpemVkIGJ5IGJyaWRnZQogICAgZnVuY3Rpb24gbXVsdGlBZGREU291cmNlKGJ5dGVzMzJbXSBkc0hhc2gsIHVpbnQyNTZbXSBtdWx0aXBsaWVyKQogICAgZXh0ZXJuYWwKICAgIHsKICAgICAgICBvbmx5YWRtaW4oKTsKICAgICAgICAvLyBkc0hhc2ggLT4gc2hhMyhEQVRBU09VUkNFX05BTUUsIFBST09GX1RZUEUpOwogICAgICAgIGZvciAodWludCBpPTA7IGk8ZHNIYXNoLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGRzb3VyY2VzW2Rzb3VyY2VzLmxlbmd0aCsrXSA9IGRzSGFzaFtpXTsKICAgICAgICAgICAgcHJpY2VfbXVsdGlwbGllcltkc0hhc2hbaV1dID0gbXVsdGlwbGllcltpXTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gbXVsdGlzZXRQcm9vZlR5cGUodWludFtdIF9wcm9vZlR5cGUsIGFkZHJlc3NbXSBfYWRkcikKICAgIGV4dGVybmFsCiAgICB7CiAgICAgICAgb25seWFkbWluKCk7CiAgICAgICAgZm9yICh1aW50IGk9MDsgaTxfYWRkci5sZW5ndGg7IGkrKykgYWRkcl9wcm9vZlR5cGVbX2FkZHJbaV1dID0gYnl0ZShfcHJvb2ZUeXBlW2ldKTsKICAgIH0KCiAgICBmdW5jdGlvbiBtdWx0aXNldEN1c3RvbUdhc1ByaWNlKHVpbnRbXSBfZ2FzUHJpY2UsIGFkZHJlc3NbXSBfYWRkcikKICAgIGV4dGVybmFsCiAgICB7CiAgICAgICAgb25seWFkbWluKCk7CiAgICAgICAgZm9yICh1aW50IGk9MDsgaTxfYWRkci5sZW5ndGg7IGkrKykgYWRkcl9nYXNQcmljZVtfYWRkcltpXV0gPSBfZ2FzUHJpY2VbaV07CiAgICB9CgogICAgdWludCBnYXNwcmljZSA9IDIwMDAwMDAwMDAwOwoKICAgIGZ1bmN0aW9uIHNldEdhc1ByaWNlKHVpbnQgbmV3Z2FzcHJpY2UpCiAgICBleHRlcm5hbAogICAgewogICAgICAgIG9ubHlhZG1pbigpOwogICAgICAgIGdhc3ByaWNlID0gbmV3Z2FzcHJpY2U7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0QmFzZVByaWNlKHVpbnQgbmV3X2Jhc2VwcmljZSkKICAgIGV4dGVybmFsCiAgICB7IC8vMC4wMDEgdXNkIGluIGV0aGVyCiAgICAgICAgb25seWFkbWluKCk7CiAgICAgICAgYmFzZXByaWNlID0gbmV3X2Jhc2VwcmljZTsKICAgICAgICBmb3IgKHVpbnQgaT0wOyBpPGRzb3VyY2VzLmxlbmd0aDsgaSsrKSBwcmljZVtkc291cmNlc1tpXV0gPSBuZXdfYmFzZXByaWNlKnByaWNlX211bHRpcGxpZXJbZHNvdXJjZXNbaV1dOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldEJhc2VQcmljZSh1aW50IG5ld19iYXNlcHJpY2UsIGJ5dGVzIHByb29mSUQpCiAgICBleHRlcm5hbAogICAgeyAvLzAuMDAxIHVzZCBpbiBldGhlcgogICAgICAgIG9ubHlhZG1pbigpOwogICAgICAgIGJhc2VwcmljZSA9IG5ld19iYXNlcHJpY2U7CiAgICAgICAgZm9yICh1aW50IGk9MDsgaTxkc291cmNlcy5sZW5ndGg7IGkrKykgcHJpY2VbZHNvdXJjZXNbaV1dID0gbmV3X2Jhc2VwcmljZSpwcmljZV9tdWx0aXBsaWVyW2Rzb3VyY2VzW2ldXTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRPZmZjaGFpblBheW1lbnQoYWRkcmVzcyBfYWRkciwgYm9vbCBfZmxhZykKICAgIGV4dGVybmFsCiAgICB7CiAgICAgIGlmIChtc2cuc2VuZGVyICE9IHBheW1lbnRGbGFnZ2VyKSB0aHJvdzsKICAgICAgb2ZmY2hhaW5QYXltZW50W19hZGRyXSA9IF9mbGFnOwogICAgICBFbWl0X09mZmNoYWluUGF5bWVudEZsYWcoX2FkZHIsIF9hZGRyLCBfZmxhZywgX2ZsYWcpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdpdGhkcmF3RnVuZHMoYWRkcmVzcyBfYWRkcikKICAgIGV4dGVybmFsCiAgICB7CiAgICAgICAgb25seWFkbWluKCk7CiAgICAgICAgX2FkZHIuc2VuZCh0aGlzLmJhbGFuY2UpOwogICAgfQoKICAgIC8vIHVubmVjZXNzYXJ5PwogICAgLy9mdW5jdGlvbigpIHt9CgogICAgZnVuY3Rpb24gT3JhY2xpemUoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIC8vIFBlc3Vkby1tb2RpZmllcnMKCiAgICBmdW5jdGlvbiBvbmx5YWRtaW4oKQogICAgcHJpdmF0ZSB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHRocm93OwogICAgfQoKICAgIGZ1bmN0aW9uIGNvc3RzKHN0cmluZyBkYXRhc291cmNlLCB1aW50IGdhc2xpbWl0KQogICAgcHJpdmF0ZQogICAgcmV0dXJucyAodWludCBwcmljZSkgewogICAgICAgIHByaWNlID0gZ2V0UHJpY2UoZGF0YXNvdXJjZSwgZ2FzbGltaXQsIG1zZy5zZW5kZXIpOwoKICAgICAgICBpZiAobXNnLnZhbHVlID49IHByaWNlKXsKICAgICAgICAgICAgdWludCBkaWZmID0gbXNnLnZhbHVlIC0gcHJpY2U7CiAgICAgICAgICAgIGlmIChkaWZmID4gMCkgewogICAgICAgICAgICAgICAgLy8gYWRkZWQgZm9yIGNvcnJlY3QgcXVlcnkgY29zdCB0byBiZSByZXR1cm5lZAogICAgICAgICAgICAgICAgaWYoIW1zZy5zZW5kZXIuc2VuZChkaWZmKSkgewogICAgICAgICAgICAgICAgICAgIHRocm93OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHRocm93OwogICAgfQoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYnl0ZSkgYWRkcl9wcm9vZlR5cGU7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIGFkZHJfZ2FzUHJpY2U7CiAgICB1aW50IHB1YmxpYyBiYXNlcHJpY2U7CiAgICBtYXBwaW5nIChieXRlczMyID0+IHVpbnQpIHByaWNlOwogICAgbWFwcGluZyAoYnl0ZXMzMiA9PiB1aW50KSBwcmljZV9tdWx0aXBsaWVyOwogICAgYnl0ZXMzMltdIGRzb3VyY2VzOwoKICAgIGJ5dGVzMzJbXSBwdWJsaWMgcmFuZG9tRFNfc2Vzc2lvblB1YktleXNIYXNoOwoKICAgIGZ1bmN0aW9uIHJhbmRvbURTX3VwZGF0ZVNlc3Npb25QdWJLZXlzSGFzaChieXRlczMyW10gX25ld1Nlc3Npb25QdWJLZXlzSGFzaCkKICAgIGV4dGVybmFsCiAgICB7CiAgICAgICAgb25seWFkbWluKCk7CiAgICAgICAgcmFuZG9tRFNfc2Vzc2lvblB1YktleXNIYXNoLmxlbmd0aCA9IDA7CiAgICAgICAgZm9yICh1aW50IGk9MDsgaTxfbmV3U2Vzc2lvblB1YktleXNIYXNoLmxlbmd0aDsgaSsrKSByYW5kb21EU19zZXNzaW9uUHViS2V5c0hhc2gucHVzaChfbmV3U2Vzc2lvblB1YktleXNIYXNoW2ldKTsKICAgIH0KCiAgICBmdW5jdGlvbiByYW5kb21EU19nZXRTZXNzaW9uUHViS2V5SGFzaCgpCiAgICBleHRlcm5hbAogICAgY29uc3RhbnQKICAgIHJldHVybnMgKGJ5dGVzMzIpIHsKICAgICAgICB1aW50IGkgPSB1aW50KHNoYTMocmVxY1ttc2cuc2VuZGVyXSkpJXJhbmRvbURTX3Nlc3Npb25QdWJLZXlzSGFzaC5sZW5ndGg7CiAgICAgICAgcmV0dXJuIHJhbmRvbURTX3Nlc3Npb25QdWJLZXlzSGFzaFtpXTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRQcm9vZlR5cGUoYnl0ZSBfcHJvb2ZUeXBlKQogICAgZXh0ZXJuYWwKICAgIHsKICAgICAgICBhZGRyX3Byb29mVHlwZVttc2cuc2VuZGVyXSA9IF9wcm9vZlR5cGU7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0Q3VzdG9tR2FzUHJpY2UodWludCBfZ2FzUHJpY2UpCiAgICBleHRlcm5hbAogICAgewogICAgICAgIGFkZHJfZ2FzUHJpY2VbbXNnLnNlbmRlcl0gPSBfZ2FzUHJpY2U7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UHJpY2Uoc3RyaW5nIF9kYXRhc291cmNlKQogICAgcHVibGljCiAgICByZXR1cm5zICh1aW50IF9kc3ByaWNlKQogICAgewogICAgICAgIHJldHVybiBnZXRQcmljZShfZGF0YXNvdXJjZSwgbXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UHJpY2Uoc3RyaW5nIF9kYXRhc291cmNlLCB1aW50IF9nYXNsaW1pdCkKICAgIHB1YmxpYwogICAgcmV0dXJucyAodWludCBfZHNwcmljZSkKICAgIHsKICAgICAgICByZXR1cm4gZ2V0UHJpY2UoX2RhdGFzb3VyY2UsIF9nYXNsaW1pdCwgbXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UHJpY2Uoc3RyaW5nIF9kYXRhc291cmNlLCBhZGRyZXNzIF9hZGRyKQogICAgcHJpdmF0ZQogICAgcmV0dXJucyAodWludCBfZHNwcmljZSkKICAgIHsKICAgICAgICByZXR1cm4gZ2V0UHJpY2UoX2RhdGFzb3VyY2UsIDIwMDAwMCwgX2FkZHIpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFByaWNlKHN0cmluZyBfZGF0YXNvdXJjZSwgdWludCBfZ2FzbGltaXQsIGFkZHJlc3MgX2FkZHIpCiAgICBwcml2YXRlCiAgICByZXR1cm5zICh1aW50IF9kc3ByaWNlKQogICAgewogICAgICAgIHVpbnQgZ2FzcHJpY2VfID0gYWRkcl9nYXNQcmljZVtfYWRkcl07CiAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgKG9mZmNoYWluUGF5bWVudFtfYWRkcl0pCiAgICAgICAgICAgIHx8KAogICAgICAgICAgICAgICAgKF9nYXNsaW1pdCA8PSAyMDAwMDApJiYKICAgICAgICAgICAgICAgIChyZXFjW19hZGRyXSA9PSAwKSYmCiAgICAgICAgICAgICAgICAoZ2FzcHJpY2VfIDw9IGdhc3ByaWNlKSYmCiAgICAgICAgICAgICAgICAodHgub3JpZ2luICE9IGNiQWRkcmVzcygpKQogICAgICAgICAgICApCiAgICAgICAgKSByZXR1cm4gMDsKCiAgICAgICAgaWYgKGdhc3ByaWNlXyA9PSAwKSBnYXNwcmljZV8gPSBnYXNwcmljZTsKICAgICAgICBfZHNwcmljZSA9IHByaWNlW3NoYTMoX2RhdGFzb3VyY2UsIGFkZHJfcHJvb2ZUeXBlW19hZGRyXSldOwogICAgICAgIF9kc3ByaWNlICs9IF9nYXNsaW1pdCpnYXNwcmljZV87CiAgICAgICAgcmV0dXJuIF9kc3ByaWNlOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldENvZGVTaXplKGFkZHJlc3MgX2FkZHIpCiAgICBwcml2YXRlCiAgICBjb25zdGFudAogICAgcmV0dXJucyh1aW50IF9zaXplKQogICAgewogICAgICAgIGFzc2VtYmx5IHsKICAgICAgICAgICAgX3NpemUgOj0gZXh0Y29kZXNpemUoX2FkZHIpCiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHF1ZXJ5KHN0cmluZyBfZGF0YXNvdXJjZSwgc3RyaW5nIF9hcmcpCiAgICBwYXlhYmxlCiAgICBleHRlcm5hbAogICAgcmV0dXJucyAoYnl0ZXMzMiBfaWQpCiAgICB7CiAgICAgICAgcmV0dXJuIHF1ZXJ5MSgwLCBfZGF0YXNvdXJjZSwgX2FyZywgMjAwMDAwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBxdWVyeTEoc3RyaW5nIF9kYXRhc291cmNlLCBzdHJpbmcgX2FyZykKICAgIHBheWFibGUKICAgIGV4dGVybmFsCiAgICByZXR1cm5zIChieXRlczMyIF9pZCkKICAgIHsKICAgICAgICByZXR1cm4gcXVlcnkxKDAsIF9kYXRhc291cmNlLCBfYXJnLCAyMDAwMDApOwogICAgfQoKICAgIGZ1bmN0aW9uIHF1ZXJ5MihzdHJpbmcgX2RhdGFzb3VyY2UsIHN0cmluZyBfYXJnMSwgc3RyaW5nIF9hcmcyKQogICAgcGF5YWJsZQogICAgZXh0ZXJuYWwKICAgIHJldHVybnMgKGJ5dGVzMzIgX2lkKQogICAgewogICAgICAgIHJldHVybiBxdWVyeTIoMCwgX2RhdGFzb3VyY2UsIF9hcmcxLCBfYXJnMiwgMjAwMDAwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBxdWVyeU4oc3RyaW5nIF9kYXRhc291cmNlLCBieXRlcyBfYXJncykKICAgIHBheWFibGUKICAgIGV4dGVybmFsCiAgICByZXR1cm5zIChieXRlczMyIF9pZCkKICAgIHsKICAgICAgICByZXR1cm4gcXVlcnlOKDAsIF9kYXRhc291cmNlLCBfYXJncywgMjAwMDAwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBxdWVyeSh1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgc3RyaW5nIF9hcmcpCiAgICBwYXlhYmxlCiAgICBleHRlcm5hbAogICAgcmV0dXJucyAoYnl0ZXMzMiBfaWQpCiAgICB7CiAgICAgICAgcmV0dXJuIHF1ZXJ5MShfdGltZXN0YW1wLCBfZGF0YXNvdXJjZSwgX2FyZywgMjAwMDAwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBxdWVyeTEodWludCBfdGltZXN0YW1wLCBzdHJpbmcgX2RhdGFzb3VyY2UsIHN0cmluZyBfYXJnKQogICAgcGF5YWJsZQogICAgZXh0ZXJuYWwKICAgIHJldHVybnMgKGJ5dGVzMzIgX2lkKQogICAgewogICAgICAgIHJldHVybiBxdWVyeTEoX3RpbWVzdGFtcCwgX2RhdGFzb3VyY2UsIF9hcmcsIDIwMDAwMCk7CiAgICB9CgogICAgZnVuY3Rpb24gcXVlcnkyKHVpbnQgX3RpbWVzdGFtcCwgc3RyaW5nIF9kYXRhc291cmNlLCBzdHJpbmcgX2FyZzEsIHN0cmluZyBfYXJnMikKICAgIHBheWFibGUKICAgIGV4dGVybmFsCiAgICByZXR1cm5zIChieXRlczMyIF9pZCkKICAgIHsKICAgICAgICByZXR1cm4gcXVlcnkyKF90aW1lc3RhbXAsIF9kYXRhc291cmNlLCBfYXJnMSwgX2FyZzIsIDIwMDAwMCk7CiAgICB9CgogICAgZnVuY3Rpb24gcXVlcnlOKHVpbnQgX3RpbWVzdGFtcCwgc3RyaW5nIF9kYXRhc291cmNlLCBieXRlcyBfYXJncykKICAgIHBheWFibGUKICAgIGV4dGVybmFsCiAgICByZXR1cm5zIChieXRlczMyIF9pZCkKICAgIHsKICAgICAgICByZXR1cm4gcXVlcnlOKF90aW1lc3RhbXAsIF9kYXRhc291cmNlLCBfYXJncywgMjAwMDAwKTsKICAgIH0KCi8qICBOZWVkbGVzcz8KICAgIGZ1bmN0aW9uIHF1ZXJ5KHVpbnQgX3RpbWVzdGFtcCwgc3RyaW5nIF9kYXRhc291cmNlLCBzdHJpbmcgX2FyZywgdWludCBfZ2FzbGltaXQpCiAgICBwYXlhYmxlCiAgICBleHRlcm5hbAogICAgcmV0dXJucyAoYnl0ZXMzMiBfaWQpCiAgICB7CiAgICAgICAgcmV0dXJuIHF1ZXJ5MShfdGltZXN0YW1wLCBfZGF0YXNvdXJjZSwgX2FyZywgX2dhc2xpbWl0KTsKICAgIH0KKi8KICAgIGZ1bmN0aW9uIHF1ZXJ5X3dpdGhHYXNMaW1pdCh1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgc3RyaW5nIF9hcmcsIHVpbnQgX2dhc2xpbWl0KQogICAgcGF5YWJsZQogICAgZXh0ZXJuYWwKICAgIHJldHVybnMgKGJ5dGVzMzIgX2lkKQogICAgewogICAgICAgIHJldHVybiBxdWVyeTEoX3RpbWVzdGFtcCwgX2RhdGFzb3VyY2UsIF9hcmcsIF9nYXNsaW1pdCk7CiAgICB9CgogICAgZnVuY3Rpb24gcXVlcnkxX3dpdGhHYXNMaW1pdCh1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgc3RyaW5nIF9hcmcsIHVpbnQgX2dhc2xpbWl0KQogICAgcGF5YWJsZQogICAgZXh0ZXJuYWwKICAgIHJldHVybnMgKGJ5dGVzMzIgX2lkKQogICAgewogICAgICAgIHJldHVybiBxdWVyeTEoX3RpbWVzdGFtcCwgX2RhdGFzb3VyY2UsIF9hcmcsIF9nYXNsaW1pdCk7CiAgICB9CgogICAgZnVuY3Rpb24gcXVlcnkyX3dpdGhHYXNMaW1pdCh1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgc3RyaW5nIF9hcmcxLCBzdHJpbmcgX2FyZzIsIHVpbnQgX2dhc2xpbWl0KQogICAgcGF5YWJsZQogICAgZXh0ZXJuYWwKICAgIHJldHVybnMgKGJ5dGVzMzIgX2lkKQogICAgewogICAgICAgIHJldHVybiBxdWVyeTIoX3RpbWVzdGFtcCwgX2RhdGFzb3VyY2UsIF9hcmcxLCBfYXJnMiwgX2dhc2xpbWl0KTsKICAgIH0KCiAgICBmdW5jdGlvbiBxdWVyeU5fd2l0aEdhc0xpbWl0KHVpbnQgX3RpbWVzdGFtcCwgc3RyaW5nIF9kYXRhc291cmNlLCBieXRlcyBfYXJncywgdWludCBfZ2FzbGltaXQpCiAgICBwYXlhYmxlCiAgICBleHRlcm5hbAogICAgcmV0dXJucyAoYnl0ZXMzMiBfaWQpCiAgICB7CiAgICAgICAgcmV0dXJuIHF1ZXJ5TihfdGltZXN0YW1wLCBfZGF0YXNvdXJjZSwgX2FyZ3MsIF9nYXNsaW1pdCk7CiAgICB9CgogICAgZnVuY3Rpb24gcXVlcnkxKHVpbnQgX3RpbWVzdGFtcCwgc3RyaW5nIF9kYXRhc291cmNlLCBzdHJpbmcgX2FyZywgdWludCBfZ2FzbGltaXQpCiAgICBwYXlhYmxlCiAgICBwdWJsaWMKICAgIHJldHVybnMgKGJ5dGVzMzIgX2lkKQogICAgewogICAgICAgIHVpbnQgcXVlcnlDb3N0ID0gY29zdHMoX2RhdGFzb3VyY2UsIF9nYXNsaW1pdCk7CiAgICAJaWYgKChfdGltZXN0YW1wID4gbm93KzM2MDAqMjQqNjApfHwoX2dhc2xpbWl0ID4gYmxvY2suZ2FzbGltaXQpKSB0aHJvdzsKCiAgICAgICAgX2lkID0gc2hhMyh0aGlzLCBtc2cuc2VuZGVyLCByZXFjW21zZy5zZW5kZXJdKTsKICAgICAgICByZXFjW21zZy5zZW5kZXJdKys7CiAgICAgICAgTG9nMShtc2cuc2VuZGVyLCBfaWQsIF90aW1lc3RhbXAsIF9kYXRhc291cmNlLCBfYXJnLCBfZ2FzbGltaXQsIGFkZHJfcHJvb2ZUeXBlW21zZy5zZW5kZXJdLCBhZGRyX2dhc1ByaWNlW21zZy5zZW5kZXJdLCBxdWVyeUNvc3QpOwogICAgICAgIHJldHVybiBfaWQ7CiAgICB9CgogICAgZnVuY3Rpb24gcXVlcnkyKHVpbnQgX3RpbWVzdGFtcCwgc3RyaW5nIF9kYXRhc291cmNlLCBzdHJpbmcgX2FyZzEsIHN0cmluZyBfYXJnMiwgdWludCBfZ2FzbGltaXQpCiAgICBwYXlhYmxlCiAgICBwdWJsaWMKICAgIHJldHVybnMgKGJ5dGVzMzIgX2lkKQogICAgewogICAgICAgIHVpbnQgcXVlcnlDb3N0ID0gY29zdHMoX2RhdGFzb3VyY2UsIF9nYXNsaW1pdCk7CiAgICAJaWYgKChfdGltZXN0YW1wID4gbm93KzM2MDAqMjQqNjApfHwoX2dhc2xpbWl0ID4gYmxvY2suZ2FzbGltaXQpKSB0aHJvdzsKCiAgICAgICAgX2lkID0gc2hhMyh0aGlzLCBtc2cuc2VuZGVyLCByZXFjW21zZy5zZW5kZXJdKTsKICAgICAgICByZXFjW21zZy5zZW5kZXJdKys7CiAgICAgICAgTG9nMihtc2cuc2VuZGVyLCBfaWQsIF90aW1lc3RhbXAsIF9kYXRhc291cmNlLCBfYXJnMSwgX2FyZzIsIF9nYXNsaW1pdCwgYWRkcl9wcm9vZlR5cGVbbXNnLnNlbmRlcl0sIGFkZHJfZ2FzUHJpY2VbbXNnLnNlbmRlcl0sIHF1ZXJ5Q29zdCk7CiAgICAgICAgcmV0dXJuIF9pZDsKICAgIH0KCiAgICBmdW5jdGlvbiBxdWVyeU4odWludCBfdGltZXN0YW1wLCBzdHJpbmcgX2RhdGFzb3VyY2UsIGJ5dGVzIF9hcmdzLCB1aW50IF9nYXNsaW1pdCkKICAgIHBheWFibGUKICAgIHB1YmxpYwogICAgcmV0dXJucyAoYnl0ZXMzMiBfaWQpCiAgICB7CiAgICAgICAgdWludCBxdWVyeUNvc3QgPSBjb3N0cyhfZGF0YXNvdXJjZSwgX2dhc2xpbWl0KTsKICAgIAlpZiAoKF90aW1lc3RhbXAgPiBub3crMzYwMCoyNCo2MCl8fChfZ2FzbGltaXQgPiBibG9jay5nYXNsaW1pdCkpIHRocm93OwoKICAgICAgICBfaWQgPSBzaGEzKHRoaXMsIG1zZy5zZW5kZXIsIHJlcWNbbXNnLnNlbmRlcl0pOwogICAgICAgIHJlcWNbbXNnLnNlbmRlcl0rKzsKICAgICAgICBMb2dOKG1zZy5zZW5kZXIsIF9pZCwgX3RpbWVzdGFtcCwgX2RhdGFzb3VyY2UsIF9hcmdzLCBfZ2FzbGltaXQsIGFkZHJfcHJvb2ZUeXBlW21zZy5zZW5kZXJdLCBhZGRyX2dhc1ByaWNlW21zZy5zZW5kZXJdLCBxdWVyeUNvc3QpOwogICAgICAgIHJldHVybiBfaWQ7CiAgICB9CgogICAgZnVuY3Rpb24gcXVlcnkxX2ZuYyh1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgc3RyaW5nIF9hcmcsIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgX2ZuYywgdWludCBfZ2FzbGltaXQpCiAgICBwYXlhYmxlCiAgICBwdWJsaWMKICAgIHJldHVybnMgKGJ5dGVzMzIgX2lkKQogICAgewogICAgICAgIHVpbnQgcXVlcnlDb3N0ID0gY29zdHMoX2RhdGFzb3VyY2UsIF9nYXNsaW1pdCk7CiAgICAgICAgaWYgKChfdGltZXN0YW1wID4gbm93KzM2MDAqMjQqNjApfHwoX2dhc2xpbWl0ID4gYmxvY2suZ2FzbGltaXQpfHxhZGRyZXNzKF9mbmMpICE9IG1zZy5zZW5kZXIpIHRocm93OwoKICAgICAgICBfaWQgPSBzaGEzKHRoaXMsIG1zZy5zZW5kZXIsIHJlcWNbbXNnLnNlbmRlcl0pOwogICAgICAgIHJlcWNbbXNnLnNlbmRlcl0rKzsKICAgICAgICBMb2cxX2ZuYyhtc2cuc2VuZGVyLCBfaWQsIF90aW1lc3RhbXAsIF9kYXRhc291cmNlLCBfYXJnLCBfZm5jLCBfZ2FzbGltaXQsIGFkZHJfcHJvb2ZUeXBlW21zZy5zZW5kZXJdLCBhZGRyX2dhc1ByaWNlW21zZy5zZW5kZXJdLCBxdWVyeUNvc3QpOwogICAgICAgIHJldHVybiBfaWQ7CiAgICB9CgogICAgZnVuY3Rpb24gcXVlcnkyX2ZuYyh1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgc3RyaW5nIF9hcmcxLCBzdHJpbmcgX2FyZzIsIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgX2ZuYywgdWludCBfZ2FzbGltaXQpCiAgICBwYXlhYmxlCiAgICBwdWJsaWMKICAgIHJldHVybnMgKGJ5dGVzMzIgX2lkKQogICAgewogICAgICAgIHVpbnQgcXVlcnlDb3N0ID0gY29zdHMoX2RhdGFzb3VyY2UsIF9nYXNsaW1pdCk7CiAgICAgICAgaWYgKChfdGltZXN0YW1wID4gbm93KzM2MDAqMjQqNjApfHwoX2dhc2xpbWl0ID4gYmxvY2suZ2FzbGltaXQpfHxhZGRyZXNzKF9mbmMpICE9IG1zZy5zZW5kZXIpIHRocm93OwoKICAgICAgICBfaWQgPSBzaGEzKHRoaXMsIG1zZy5zZW5kZXIsIHJlcWNbbXNnLnNlbmRlcl0pOwogICAgICAgIHJlcWNbbXNnLnNlbmRlcl0rKzsKICAgICAgICBMb2cyX2ZuYyhtc2cuc2VuZGVyLCBfaWQsIF90aW1lc3RhbXAsIF9kYXRhc291cmNlLCBfYXJnMSwgX2FyZzIsIF9mbmMsICBfZ2FzbGltaXQsIGFkZHJfcHJvb2ZUeXBlW21zZy5zZW5kZXJdLCBhZGRyX2dhc1ByaWNlW21zZy5zZW5kZXJdLCBxdWVyeUNvc3QpOwogICAgICAgIHJldHVybiBfaWQ7CiAgICB9CgogICAgZnVuY3Rpb24gcXVlcnlOX2ZuYyh1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgYnl0ZXMgX2FyZ3MsIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgX2ZuYywgdWludCBfZ2FzbGltaXQpCiAgICBwYXlhYmxlCiAgICBwdWJsaWMKICAgIHJldHVybnMgKGJ5dGVzMzIgX2lkKQogICAgewogICAgICAgIHVpbnQgcXVlcnlDb3N0ID0gY29zdHMoX2RhdGFzb3VyY2UsIF9nYXNsaW1pdCk7CiAgICAgICAgaWYgKChfdGltZXN0YW1wID4gbm93KzM2MDAqMjQqNjApfHwoX2dhc2xpbWl0ID4gYmxvY2suZ2FzbGltaXQpfHxhZGRyZXNzKF9mbmMpICE9IG1zZy5zZW5kZXIpIHRocm93OwoKICAgICAgICBfaWQgPSBzaGEzKHRoaXMsIG1zZy5zZW5kZXIsIHJlcWNbbXNnLnNlbmRlcl0pOwogICAgICAgIHJlcWNbbXNnLnNlbmRlcl0rKzsKICAgICAgICBMb2dOX2ZuYyhtc2cuc2VuZGVyLCBfaWQsIF90aW1lc3RhbXAsIF9kYXRhc291cmNlLCBfYXJncywgX2ZuYywgX2dhc2xpbWl0LCBhZGRyX3Byb29mVHlwZVttc2cuc2VuZGVyXSwgYWRkcl9nYXNQcmljZVttc2cuc2VuZGVyXSwgcXVlcnlDb3N0KTsKICAgICAgICByZXR1cm4gX2lkOwogICAgfQp9'.
	

]
