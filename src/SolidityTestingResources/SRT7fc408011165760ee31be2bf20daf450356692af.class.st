Class {
	#name : #SRT7fc408011165760ee31be2bf20daf450356692af,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT7fc408011165760ee31be2bf20daf450356692af >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgoKCmNvbnRyYWN0IG93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIGZ1bmN0aW9uIG93bmVkKCkgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9Cn0KCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9Cgpjb250cmFjdCB0b2tlblJlY2lwaWVudCB7IGZ1bmN0aW9uIHJlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW4sIGJ5dGVzIF9leHRyYURhdGEpOyB9Cgpjb250cmFjdCBQYXJlbnRUb2tlbiB7CgogICAgIC8qIGxpYnJhcnkgdXNlZCBmb3IgY2FsY3VsYXRpb25zICovCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsgCgogICAgLyogUHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4gKi8KICAgIHN0cmluZyBwdWJsaWMgbmFtZTsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgdWludDggcHVibGljIGRlY2ltYWxzOwogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwogICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcoYWRkcmVzcz0+dWludCkpIGFsbG93YW5jZTsgICAgICAgIAoKCgogICAgLyogSW5pdGlhbGl6ZXMgY29udHJhY3Qgd2l0aCBpbml0aWFsIHN1cHBseSB0b2tlbnMgdG8gdGhlIGNyZWF0b3Igb2YgdGhlIGNvbnRyYWN0ICovCiAgICBmdW5jdGlvbiBQYXJlbnRUb2tlbih1aW50MjU2IGN1cnJlbnRTdXBwbHksCiAgICAgICAgc3RyaW5nIHRva2VuTmFtZSwKICAgICAgICB1aW50OCBkZWNpbWFsVW5pdHMsCiAgICAgICAgc3RyaW5nIHRva2VuU3ltYm9sKXsKICAgICAgICAgICAgCiAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9ICBjdXJyZW50U3VwcGx5OyAgICAvLyBHaXZlIHRoZSBjcmVhdG9yIGFsbCBpbml0aWFsIHRva2VucyAgCiAgICAgICB0b3RhbFN1cHBseSA9IGN1cnJlbnRTdXBwbHk7ICAgICAgICAgICAgICAvLyBVcGRhdGUgdG90YWwgc3VwcGx5IAogICAgICAgbmFtZSA9IHRva2VuTmFtZTsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBuYW1lIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICBkZWNpbWFscyA9IGRlY2ltYWxVbml0czsgICAgICAgICAgICAgICAgICAvLyBEZWNpbWFscyBmb3IgdGhlIHRva2VucwogICAgICAgc3ltYm9sID0gdG9rZW5TeW1ib2w7CQkJCQkvLyBTZXQgdGhlIHN5bWJvbCBmb3IgZGlzcGxheSBwdXJwb3NlcwkKICAgIH0KICAgIAogICAgCgogICAvLy9Abm90aWNlIFRyYW5zZmVyIHRva2VucyB0byB0aGUgYmVuZWZpY2lhcnkgYWNjb3VudAogICAvLy9AcGFyYW0gIHRvIFRoZSBiZW5lZmljaWFyeSBhY2NvdW50CiAgIC8vL0BwYXJhbSAgdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZCAgCiAgICAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpewogICAgICAgIHJlcXVpcmUoCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID49IHZhbHVlIAogICAgICAgICAgICAmJiB2YWx1ZSA+IDAgCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKHZhbHVlKTsgICAgCiAgICAgICAgICAgIGJhbGFuY2VzW3RvXSA9IGJhbGFuY2VzW3RvXS5hZGQodmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAoJLy8vQG5vdGljZSBBbGxvdyBhbm90aGVyIGNvbnRyYWN0IHRvIHNwZW5kIHNvbWUgdG9rZW5zIGluIHlvdXIgYmVoYWxmCgkvLy9AcGFyYW0gIHNwZW5kZXIgVGhlIGFkZHJlc3MgYXV0aG9yaXplZCB0byBzcGVuZCAKCS8vL0BwYXJhbSAgdmFsdWUgVGhlIGFtb3VudCB0byBiZSBhcHByb3ZlZCAKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKQogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93YW5jZVttc2cuc2VuZGVyXVtzcGVuZGVyXSA9IHZhbHVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vL0Bub3RpY2UgQXBwcm92ZSBhbmQgdGhlbiBjb21tdW5pY2F0ZSB0aGUgYXBwcm92ZWQgY29udHJhY3QgaW4gYSBzaW5nbGUgdHgKCS8vL0BwYXJhbSAgc3BlbmRlciBUaGUgYWRkcmVzcyBhdXRob3JpemVkIHRvIHNwZW5kIAoJLy8vQHBhcmFtICB2YWx1ZSBUaGUgYW1vdW50IHRvIGJlIGFwcHJvdmVkIAogICAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlLCBieXRlcyBleHRyYURhdGEpCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7ICAgIAogICAgICAgIHRva2VuUmVjaXBpZW50IHJlY1NwZW5kZXIgPSB0b2tlblJlY2lwaWVudChzcGVuZGVyKTsKICAgICAgICBpZiAoYXBwcm92ZShzcGVuZGVyLCB2YWx1ZSkpIHsKICAgICAgICAgICAgcmVjU3BlbmRlci5yZWNlaXZlQXBwcm92YWwobXNnLnNlbmRlciwgdmFsdWUsIHRoaXMsIGV4dHJhRGF0YSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0KCgoKICAgLy8vQG5vdGljZSBUcmFuc2ZlciB0b2tlbnMgYmV0d2VlbiBhY2NvdW50cwogICAvLy9AcGFyYW0gIGZyb20gVGhlIGJlbmVmYWN0b3Ivc2VuZGVyIGFjY291bnQuCiAgIC8vL0BwYXJhbSAgdG8gVGhlIGJlbmVmaWNpYXJ5IGFjY291bnQKICAgLy8vQHBhcmFtICB2YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVyZWQgIAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKXsKICAgICAgICAKICAgICAgICByZXF1aXJlKAogICAgICAgICAgICBhbGxvd2FuY2VbZnJvbV1bbXNnLnNlbmRlcl0gPj0gdmFsdWUKICAgICAgICAgICAgJiZiYWxhbmNlc1tmcm9tXSA+PSB2YWx1ZQogICAgICAgICAgICAmJiB2YWx1ZSA+IDAKICAgICAgICAgICAgKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGJhbGFuY2VzW2Zyb21dID0gYmFsYW5jZXNbZnJvbV0uc3ViKHZhbHVlKTsKICAgICAgICAgICAgYmFsYW5jZXNbdG9dID0gIGJhbGFuY2VzW3RvXS5hZGQodmFsdWUpOwogICAgICAgICAgICBhbGxvd2FuY2VbZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2FuY2VbZnJvbV1bbXNnLnNlbmRlcl0uc3ViKHZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIAp9CgoKY29udHJhY3QgTWl0cmF2IGlzIG93bmVkLFBhcmVudFRva2VuewoKICAgICAvKiBsaWJyYXJ5IHVzZWQgZm9yIGNhbGN1bGF0aW9ucyAqLwogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7IAoKICAgICAvKiBQdWJsaWMgdmFyaWFibGVzIG9mIHRoZSB0b2tlbiAqLwogICAgc3RyaW5nIHB1YmxpYyBzdGFuZGFyZCA9ICdUb2tlbiAwLjEnOyAgCiAgICB1aW50MjU2IHB1YmxpYyBjdXJyZW50U3VwcGx5PSAxMDAwMDAwMDAwMDAwMDAwMDsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIk1UUiI7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHRva2VuTmFtZSA9ICJNaXRyYXYiOwogICAgdWludDggcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gODsKCiAgICAKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBmcm96ZW5BY2NvdW50OwoKCiAgLy8vQG5vdGljZSBEZWZhdWx0IGZ1bmN0aW9uIHVzZWQgZm9yIGFueSBwYXltZW50cyBtYWRlLgogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7CiAgICAgICAgYWNjZXB0UGF5bWVudCgpOyAgICAKICAgIH0KICAgCgogICAvLy9Abm90aWNlIEFjY2VwdCBwYXltZW50IGFuZCB0cmFuc2ZlciB0byBvd25lciBhY2NvdW50LiAKICAgIGZ1bmN0aW9uIGFjY2VwdFBheW1lbnQoKSBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZT4wKTsKICAgICAgICAKICAgICAgICBvd25lci50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgfQoKCgogICAgZnVuY3Rpb24gTWl0cmF2KClQYXJlbnRUb2tlbihjdXJyZW50U3VwcGx5LHRva2VuTmFtZSxkZWNpbWFscyxzeW1ib2wpe30KCgogICAvLy9Abm90aWNlIFByb3ZpZGVzIGJhbGFuY2Ugb2YgdGhlIGFjY291bnQgcmVxdWVzdGVkIAogICAvLy9AcGFyYW0gIGFkZCBBZGRyZXNzIG9mIHRoZSBhY2NvdW50IGZvciB3aGljaCBiYWxhbmNlIGlzIGJlaW5nIGVucXVpcmVkCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBhZGQpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgYmFsYW5jZSl7CiAgICAgICByZXR1cm4gYmFsYW5jZXNbYWRkXTsKICAgIH0KICAgIAogICAgCiAgICAKICAgLy8vQG5vdGljZSBUcmFuc2ZlciB0b2tlbnMgdG8gdGhlIGJlbmVmaWNpYXJ5IGFjY291bnQKICAgLy8vQHBhcmFtICB0byBUaGUgYmVuZWZpY2lhcnkgYWNjb3VudAogICAvLy9AcGFyYW0gIHZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQgCiAgICAgICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKXsKICAgICAgICByZXF1aXJlKAogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSB2YWx1ZSAKICAgICAgICAgICAgJiYgdmFsdWUgPiAwIAogICAgICAgICAgICAmJiAoIWZyb3plbkFjY291bnRbbXNnLnNlbmRlcl0pIAkJCQkJCQkJCQkvLyBBbGxvdyB0cmFuc2ZlciBvbmx5IGlmIGFjY291bnQgaXMgbm90IGZyb3plbgogICAgICAgICAgICApOwogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1Yih2YWx1ZSk7ICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgYmFsYW5jZXNbdG9dID0gYmFsYW5jZXNbdG9dLmFkZCh2YWx1ZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgYmFsYW5jZSBvZiBiZW5lZmljaWFyeSBhY2NvdW50CgkJCVRyYW5zZmVyKG1zZy5zZW5kZXIsdG8sdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgCgogICAvLy9Abm90aWNlIFRyYW5zZmVyIHRva2VucyBiZXR3ZWVuIGFjY291bnRzCiAgIC8vL0BwYXJhbSAgZnJvbSBUaGUgYmVuZWZhY3Rvci9zZW5kZXIgYWNjb3VudC4KICAgLy8vQHBhcmFtICB0byBUaGUgYmVuZWZpY2lhcnkgYWNjb3VudAogICAvLy9AcGFyYW0gIHZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJlZCAgCiAgICAgICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKXsKICAgICAgICAKICAgICAgICAgICAgcmVxdWlyZSgKICAgICAgICAgICAgYWxsb3dhbmNlW2Zyb21dW21zZy5zZW5kZXJdID49IHZhbHVlCiAgICAgICAgICAgICYmYmFsYW5jZXNbZnJvbV0gPj0gdmFsdWUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9DaGVjayBpZiB0aGUgYmVuZWZhY3RvciBoYXMgc3VmZmljaWVudCBiYWxhbmNlCiAgICAgICAgICAgICYmIHZhbHVlID4gMCAKICAgICAgICAgICAgJiYgKCFmcm96ZW5BY2NvdW50W21zZy5zZW5kZXJdKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyB0cmFuc2ZlciBvbmx5IGlmIGFjY291bnQgaXMgbm90IGZyb3plbgogICAgICAgICAgICApOwogICAgICAgICAgICAKICAgICAgICAgICAgYmFsYW5jZXNbZnJvbV0gPSBiYWxhbmNlc1tmcm9tXS5zdWIodmFsdWUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWR1Y3QgZnJvbSB0aGUgYmVuZWZhY3RvciBhY2NvdW50CiAgICAgICAgICAgIGJhbGFuY2VzW3RvXSA9ICBiYWxhbmNlc1t0b10uYWRkKHZhbHVlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBiYWxhbmNlIG9mIGJlbmVmaWNpYXJ5IGFjY291bnQKICAgICAgICAgICAgYWxsb3dhbmNlW2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dhbmNlW2Zyb21dW21zZy5zZW5kZXJdLnN1Yih2YWx1ZSk7CiAgICAgICAgICAgIFRyYW5zZmVyKGZyb20sdG8sdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgCiAgICAKCiAgIC8vL0Bub3RpY2UgSW5jcmVhc2UgdGhlIG51bWJlciBvZiBjb2lucwogICAvLy9AcGFyYW0gIHRhcmdldCBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCB3aGVyZSB0aGUgY29pbnMgd291bGQgYmUgYWRkZWQuCiAgIC8vL0BwYXJhbSAgbWludGVkQW1vdW50IFRoZSBhbW91bnQgb2YgY29pbnMgdG8gYmUgYWRkZWQKICAgICAgICBmdW5jdGlvbiBtaW50VG9rZW4oYWRkcmVzcyB0YXJnZXQsIHVpbnQyNTYgbWludGVkQW1vdW50KSBvbmx5T3duZXIgewogICAgICAgIGJhbGFuY2VzW3RhcmdldF0gPSBiYWxhbmNlc1t0YXJnZXRdLmFkZChtaW50ZWRBbW91bnQpOyAgICAgIC8vQWRkIHRoZSBhbW91bnQgb2YgY29pbnMgdG8gYmUgaW5jcmVhc2VkIHRvIHRoZSBiYWxhbmNlCiAgICAgICAgY3VycmVudFN1cHBseSA9IGN1cnJlbnRTdXBwbHkuYWRkKG1pbnRlZEFtb3VudCk7ICAgICAgICAgICAgLy9BZGQgdGhlIGFtb3VudCBvZiBjb2lucyB0byBiZSBpbmNyZWFzZWQgdG8gdGhlIHN1cHBseQogICAgICAgIFRyYW5zZmVyKDAsIHRoaXMsIG1pbnRlZEFtb3VudCk7CiAgICAgICAgVHJhbnNmZXIodGhpcywgdGFyZ2V0LCBtaW50ZWRBbW91bnQpOwogICAgfQoKICAgLy8vQG5vdGljZSBGcmVlemUgdGhlIGFjY291bnQgYXQgdGhlIHRhcmdldCBhZGRyZXNzCiAgIC8vL0BwYXJhbSAgdGFyZ2V0IFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IHRvIGJlIGZyb3plbgogICAgZnVuY3Rpb24gZnJlZXplQWNjb3VudChhZGRyZXNzIHRhcmdldCwgYm9vbCBmcmVlemUpIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShmcmVlemUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQ2hlY2sgaWYgYWNjb3VudCBoYXMgdG8gYmUgZnJlZXplZAogICAgICAgIGZyb3plbkFjY291bnRbdGFyZ2V0XSA9IGZyZWV6ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0ZyZWV6ZSB0aGUgYWNjb3VudCAgCiAgICAgICAgRnJvemVuRnVuZHModGFyZ2V0LCBmcmVlemUpOwogICAgfQoKCiAgIC8vLyBAbm90aWNlIFJlbW92ZSB0b2tlbnMgZnJvbSB0aGUgc3lzdGVtIGlycmV2ZXJzaWJseQogICAgLy8vIEBwYXJhbSB2YWx1ZSBUaGUgYW1vdW50IG9mIG1vbmV5IHRvIGJ1cm4KICAgIGZ1bmN0aW9uIGJ1cm4odWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZSAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPiB2YWx1ZSAmJiB2YWx1ZT4wKTsgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2ggYmFsYW5jZQogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKHZhbHVlKTsgICAgICAgLy8gRGVkdWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIGN1cnJlbnRTdXBwbHkgPSBjdXJyZW50U3VwcGx5LnN1Yih2YWx1ZSk7ICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGN1cnJlbnRTdXBwbHkKICAgICAgICBCdXJuKG1zZy5zZW5kZXIsIHZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBidXJuRnJvbShhZGRyZXNzIGZyb20sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbZnJvbV0gPj0gdmFsdWUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRhcmdldGVkIGJhbGFuY2UgaXMgZW5vdWdoCiAgICAgICAgcmVxdWlyZSh2YWx1ZSA8PSBhbGxvd2FuY2VbZnJvbV1bbXNnLnNlbmRlcl0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBhbGxvd2FuY2UKICAgICAgICBiYWxhbmNlc1tmcm9tXSA9IGJhbGFuY2VzW2Zyb21dLnN1Yih2YWx1ZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlZHVjdCBmcm9tIHRoZSB0YXJnZXRlZCBiYWxhbmNlCiAgICAgICAgYWxsb3dhbmNlW2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dhbmNlW2Zyb21dW21zZy5zZW5kZXJdLnN1Yih2YWx1ZSk7ICAgICAvLyBEZWR1Y3QgZnJvbSB0aGUgc2VuZGVyJ3MgYWxsb3dhbmNlCiAgICAgICAgY3VycmVudFN1cHBseSA9IGN1cnJlbnRTdXBwbHkuc3ViKHZhbHVlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgY3VycmVudFN1cHBseQogICAgICAgIEJ1cm4oZnJvbSwgdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCgogIC8qIFRoaXMgbm90aWZpZXMgY2xpZW50cyBhYm91dCB0aGUgYW1vdW50IHRyYW5zZmVyZWQgKi8KCWV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90byx1aW50MjU2IF92YWx1ZSk7ICAgICAKCiAgLyogVGhpcyBub3RpZmllcyBjbGllbnRzIGFib3V0IHRoZSBhbW91bnQgYXBwcm92ZWQgKi8KCWV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlcix1aW50MjU2IF92YWx1ZSk7CgogIC8qIFRoaXMgbm90aWZpZXMgY2xpZW50cyBhYm91dCB0aGUgYWNjb3VudCBmcmVlemUgKi8KCWV2ZW50IEZyb3plbkZ1bmRzKGFkZHJlc3MgdGFyZ2V0LCBib29sIGZyb3plbik7CiAgICAKICAvKiBUaGlzIG5vdGlmaWVzIGNsaWVudHMgYWJvdXQgdGhlIGFtb3VudCBidXJudCAqLwogICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50MjU2IHZhbHVlKTsKCn0='.
	

]
