Class {
	#name : #SRT6d2e76213615925c5fc436565b5ee788ee0e86dc,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT6d2e76213615925c5fc436565b5ee788ee0e86dc >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7Cgpjb250cmFjdCBBY2Nlc3NDb250cm9sIHsKICAgIGFkZHJlc3MgcHVibGljIGNyZWF0b3JBZGRyZXNzOwogICAgdWludDE2IHB1YmxpYyB0b3RhbFNlcmFwaGltcyA9IDA7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBzZXJhcGhpbXM7CgogICAgYm9vbCBwdWJsaWMgaXNNYWludGVuYW5jZU1vZGUgPSB0cnVlOwogCiAgICBtb2RpZmllciBvbmx5Q1JFQVRPUigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gY3JlYXRvckFkZHJlc3MpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seVNFUkFQSElNKCkgewogICAgICAgIHJlcXVpcmUoc2VyYXBoaW1zW21zZy5zZW5kZXJdID09IHRydWUpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIG1vZGlmaWVyIGlzQ29udHJhY3RBY3RpdmUgewogICAgICAgIHJlcXVpcmUoIWlzTWFpbnRlbmFuY2VNb2RlKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICAvLyBDb25zdHJ1Y3RvcgogICAgZnVuY3Rpb24gQWNjZXNzQ29udHJvbCgpIHB1YmxpYyB7CiAgICAgICAgY3JlYXRvckFkZHJlc3MgPSBtc2cuc2VuZGVyOwogICAgfQogICAgCgogICAgZnVuY3Rpb24gYWRkU0VSQVBISU0oYWRkcmVzcyBfbmV3U2VyYXBoaW0pIG9ubHlDUkVBVE9SIHB1YmxpYyB7CiAgICAgICAgaWYgKHNlcmFwaGltc1tfbmV3U2VyYXBoaW1dID09IGZhbHNlKSB7CiAgICAgICAgICAgIHNlcmFwaGltc1tfbmV3U2VyYXBoaW1dID0gdHJ1ZTsKICAgICAgICAgICAgdG90YWxTZXJhcGhpbXMgKz0gMTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHJlbW92ZVNFUkFQSElNKGFkZHJlc3MgX29sZFNlcmFwaGltKSBvbmx5Q1JFQVRPUiBwdWJsaWMgewogICAgICAgIGlmIChzZXJhcGhpbXNbX29sZFNlcmFwaGltXSA9PSB0cnVlKSB7CiAgICAgICAgICAgIHNlcmFwaGltc1tfb2xkU2VyYXBoaW1dID0gZmFsc2U7CiAgICAgICAgICAgIHRvdGFsU2VyYXBoaW1zIC09IDE7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHVwZGF0ZU1haW50ZW5hbmNlTW9kZShib29sIF9pc01haW50YWluaW5nKSBvbmx5Q1JFQVRPUiBwdWJsaWMgewogICAgICAgIGlzTWFpbnRlbmFuY2VNb2RlID0gX2lzTWFpbnRhaW5pbmc7CiAgICB9CgogIAp9IApjb250cmFjdCBTYWZlTWF0aCB7CiAgICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQgeCwgdWludCB5KSBwdXJlIGludGVybmFsIHJldHVybnModWludCkgewogICAgICB1aW50IHogPSB4ICsgeTsKICAgICAgYXNzZXJ0KCh6ID49IHgpICYmICh6ID49IHkpKTsKICAgICAgcmV0dXJuIHo7CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZVN1YnRyYWN0KHVpbnQgeCwgdWludCB5KSBwdXJlIGludGVybmFsIHJldHVybnModWludCkgewogICAgICBhc3NlcnQoeCA+PSB5KTsKICAgICAgdWludCB6ID0geCAtIHk7CiAgICAgIHJldHVybiB6OwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVNdWx0KHVpbnQgeCwgdWludCB5KSBwdXJlIGludGVybmFsIHJldHVybnModWludCkgewogICAgICB1aW50IHogPSB4ICogeTsKICAgICAgYXNzZXJ0KCh4ID09IDApfHwoei94ID09IHkpKTsKICAgICAgcmV0dXJuIHo7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UmFuZG9tTnVtYmVyKHVpbnQxNiBtYXhSYW5kb20sIHVpbnQ4IG1pbiwgYWRkcmVzcyBwcml2YXRlQWRkcmVzcykgY29uc3RhbnQgcHVibGljIHJldHVybnModWludDgpIHsKICAgICAgICB1aW50MjU2IGdlbk51bSA9IHVpbnQyNTYoYmxvY2suYmxvY2toYXNoKGJsb2NrLm51bWJlci0xKSkgKyB1aW50MjU2KHByaXZhdGVBZGRyZXNzKTsKICAgICAgICByZXR1cm4gdWludDgoZ2VuTnVtICUgKG1heFJhbmRvbSAtIG1pbiArIDEpK21pbik7CiAgICB9Cn0KCmNvbnRyYWN0IEVudW1zIHsKICAgIGVudW0gUmVzdWx0Q29kZSB7CiAgICAgICAgU1VDQ0VTUywKICAgICAgICBFUlJPUl9DTEFTU19OT1RfRk9VTkQsCiAgICAgICAgRVJST1JfTE9XX0JBTEFOQ0UsCiAgICAgICAgRVJST1JfU0VORF9GQUlMLAogICAgICAgIEVSUk9SX05PVF9PV05FUiwKICAgICAgICBFUlJPUl9OT1RfRU5PVUdIX01PTkVZLAogICAgICAgIEVSUk9SX0lOVkFMSURfQU1PVU5UCiAgICB9CgogICAgZW51bSBBbmdlbEF1cmEgeyAKICAgICAgICBCbHVlLCAKICAgICAgICBZZWxsb3csIAogICAgICAgIFB1cnBsZSwgCiAgICAgICAgT3JhbmdlLCAKICAgICAgICBSZWQsIAogICAgICAgIEdyZWVuIAogICAgfQp9Cgpjb250cmFjdCBJQW5nZWxDYXJkRGF0YSBpcyBBY2Nlc3NDb250cm9sLCBFbnVtcyB7CiAgICB1aW50OCBwdWJsaWMgdG90YWxBbmdlbENhcmRTZXJpZXM7CiAgICB1aW50NjQgcHVibGljIHRvdGFsQW5nZWxzOwoKICAgIAogICAgLy8gd3JpdGUKICAgIC8vIGFuZ2VscwogICAgZnVuY3Rpb24gY3JlYXRlQW5nZWxDYXJkU2VyaWVzKHVpbnQ4IF9hbmdlbENhcmRTZXJpZXNJZCwgdWludCBfYmFzZVByaWNlLCAgdWludDY0IF9tYXhUb3RhbCwgdWludDggX2Jhc2VBdXJhLCB1aW50MTYgX2Jhc2VCYXR0bGVQb3dlciwgdWludDY0IF9saXZlVGltZSkgb25seUNSRUFUT1IgZXh0ZXJuYWwgcmV0dXJucyh1aW50OCk7CiAgICBmdW5jdGlvbiB1cGRhdGVBbmdlbENhcmRTZXJpZXModWludDggX2FuZ2VsQ2FyZFNlcmllc0lkLCB1aW50NjQgX25ld1ByaWNlLCB1aW50NjQgX25ld01heFRvdGFsKSBvbmx5Q1JFQVRPUiBleHRlcm5hbDsKICAgIGZ1bmN0aW9uIHNldEFuZ2VsKHVpbnQ4IF9hbmdlbENhcmRTZXJpZXNJZCwgYWRkcmVzcyBfb3duZXIsIHVpbnQgX3ByaWNlLCB1aW50MTYgX2JhdHRsZVBvd2VyKSBvbmx5U0VSQVBISU0gZXh0ZXJuYWwgcmV0dXJucyh1aW50NjQpOwogICAgZnVuY3Rpb24gYWRkVG9BbmdlbEV4cGVyaWVuY2VMZXZlbCh1aW50NjQgX2FuZ2VsSWQsIHVpbnQgX3ZhbHVlKSBvbmx5U0VSQVBISU0gZXh0ZXJuYWw7CiAgICBmdW5jdGlvbiBzZXRBbmdlbExhc3RCYXR0bGVUaW1lKHVpbnQ2NCBfYW5nZWxJZCkgb25seVNFUkFQSElNIGV4dGVybmFsOwogICAgZnVuY3Rpb24gc2V0QW5nZWxMYXN0VnNCYXR0bGVUaW1lKHVpbnQ2NCBfYW5nZWxJZCkgb25seVNFUkFQSElNIGV4dGVybmFsOwogICAgZnVuY3Rpb24gc2V0TGFzdEJhdHRsZVJlc3VsdCh1aW50NjQgX2FuZ2VsSWQsIHVpbnQxNiBfdmFsdWUpIG9ubHlTRVJBUEhJTSBleHRlcm5hbDsKICAgIGZ1bmN0aW9uIGFkZEFuZ2VsSWRNYXBwaW5nKGFkZHJlc3MgX293bmVyLCB1aW50NjQgX2FuZ2VsSWQpIHByaXZhdGU7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckFuZ2VsKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50NjQgX2FuZ2VsSWQpIG9ubHlTRVJBUEhJTSBwdWJsaWMgcmV0dXJucyhSZXN1bHRDb2RlKTsKICAgIGZ1bmN0aW9uIG93bmVyQW5nZWxUcmFuc2ZlciAoYWRkcmVzcyBfdG8sIHVpbnQ2NCBfYW5nZWxJZCkgIHB1YmxpYzsKICAgIGZ1bmN0aW9uIHVwZGF0ZUFuZ2VsTG9jayAodWludDY0IF9hbmdlbElkLCBib29sIG5ld1ZhbHVlKSBwdWJsaWM7CiAgICBmdW5jdGlvbiByZW1vdmVDcmVhdG9yKCkgb25seUNSRUFUT1IgZXh0ZXJuYWw7CgogICAgLy8gcmVhZAogICAgZnVuY3Rpb24gZ2V0QW5nZWxDYXJkU2VyaWVzKHVpbnQ4IF9hbmdlbENhcmRTZXJpZXNJZCkgY29uc3RhbnQgcHVibGljIHJldHVybnModWludDggYW5nZWxDYXJkU2VyaWVzSWQsIHVpbnQ2NCBjdXJyZW50QW5nZWxUb3RhbCwgdWludCBiYXNlUHJpY2UsIHVpbnQ2NCBtYXhBbmdlbFRvdGFsLCB1aW50OCBiYXNlQXVyYSwgdWludCBiYXNlQmF0dGxlUG93ZXIsIHVpbnQ2NCBsYXN0U2VsbFRpbWUsIHVpbnQ2NCBsaXZlVGltZSk7CiAgICBmdW5jdGlvbiBnZXRBbmdlbCh1aW50NjQgX2FuZ2VsSWQpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zKHVpbnQ2NCBhbmdlbElkLCB1aW50OCBhbmdlbENhcmRTZXJpZXNJZCwgdWludDE2IGJhdHRsZVBvd2VyLCB1aW50OCBhdXJhLCB1aW50MTYgZXhwZXJpZW5jZSwgdWludCBwcmljZSwgdWludDY0IGNyZWF0ZWRUaW1lLCB1aW50NjQgbGFzdEJhdHRsZVRpbWUsIHVpbnQ2NCBsYXN0VnNCYXR0bGVUaW1lLCB1aW50MTYgbGFzdEJhdHRsZVJlc3VsdCwgYWRkcmVzcyBvd25lcik7CiAgICBmdW5jdGlvbiBnZXRPd25lckFuZ2VsQ291bnQoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zKHVpbnQpOwogICAgZnVuY3Rpb24gZ2V0QW5nZWxCeUluZGV4KGFkZHJlc3MgX293bmVyLCB1aW50IF9pbmRleCkgY29uc3RhbnQgcHVibGljIHJldHVybnModWludDY0KTsKICAgIGZ1bmN0aW9uIGdldFRvdGFsQW5nZWxDYXJkU2VyaWVzKCkgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQ4KTsKICAgIGZ1bmN0aW9uIGdldFRvdGFsQW5nZWxzKCkgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQ2NCk7CiAgICBmdW5jdGlvbiBnZXRBbmdlbExvY2tTdGF0dXModWludDY0IF9hbmdlbElkKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAoYm9vbCk7Cn0KCmNvbnRyYWN0IEFuZ2VsQ2FyZERhdGEgaXMgSUFuZ2VsQ2FyZERhdGEsIFNhZmVNYXRoIHsKICAgIC8qKiogRVZFTlRTICoqKi8KICAgIGV2ZW50IENyZWF0ZWRBbmdlbCh1aW50NjQgYW5nZWxJZCk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGluZGV4ZWQgdG9rZW5JZCk7CgogICAgLyoqKiBEQVRBIFRZUEVTICoqKi8KICAgIHN0cnVjdCBBbmdlbENhcmRTZXJpZXMgewogICAgICAgIHVpbnQ4IGFuZ2VsQ2FyZFNlcmllc0lkOwogICAgICAgIHVpbnQgYmFzZVByaWNlOyAKICAgICAgICB1aW50NjQgY3VycmVudEFuZ2VsVG90YWw7CiAgICAgICAgdWludDY0IG1heEFuZ2VsVG90YWw7CiAgICAgICAgQW5nZWxBdXJhIGJhc2VBdXJhOwogICAgICAgIHVpbnQgYmFzZUJhdHRsZVBvd2VyOwogICAgICAgIHVpbnQ2NCBsYXN0U2VsbFRpbWU7CiAgICAgICAgdWludDY0IGxpdmVUaW1lOwogICAgfQoKICAgIHN0cnVjdCBBbmdlbCB7CiAgICAgICAgdWludDY0IGFuZ2VsSWQ7CiAgICAgICAgdWludDggYW5nZWxDYXJkU2VyaWVzSWQ7CiAgICAgICAgYWRkcmVzcyBvd25lcjsKICAgICAgICB1aW50MTYgYmF0dGxlUG93ZXI7CiAgICAgICAgQW5nZWxBdXJhIGF1cmE7CiAgICAgICAgdWludDE2IGV4cGVyaWVuY2U7CiAgICAgICAgdWludCBwcmljZTsKICAgICAgICB1aW50NjQgY3JlYXRlZFRpbWU7CiAgICAgICAgdWludDY0IGxhc3RCYXR0bGVUaW1lOwogICAgICAgIHVpbnQ2NCBsYXN0VnNCYXR0bGVUaW1lOwogICAgICAgIHVpbnQxNiBsYXN0QmF0dGxlUmVzdWx0OwogICAgICAgIGJvb2wgb3duZXJMb2NrOwogICAgfQoKICAgIC8qKiogU1RPUkFHRSAqKiovCgogICAgbWFwcGluZyh1aW50OCA9PiBBbmdlbENhcmRTZXJpZXMpIHB1YmxpYyBhbmdlbENhcmRTZXJpZXNDb2xsZWN0aW9uOwogICAgbWFwcGluZyh1aW50NjQgPT4gQW5nZWwpIHB1YmxpYyBhbmdlbENvbGxlY3Rpb247CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDY0W10pIHB1YmxpYyBvd25lckFuZ2VsQ29sbGVjdGlvbjsKICAgIHVpbnQyNTYgcHVibGljIHByZXZTZXJpZXNTZWxsb3V0SG91cnM7CiAgICAKICAgIC8qKiogRlVOQ1RJT05TICoqKi8KICAgIC8vKioqIFdyaXRlIEFjY2VzcyAqKiovLwogICAgZnVuY3Rpb24gQW5nZWxDYXJkRGF0YSgpIHB1YmxpYyB7CiAgICAgICAgCiAgICB9CiAgCgogICAgZnVuY3Rpb24gY3JlYXRlQW5nZWxDYXJkU2VyaWVzKHVpbnQ4IF9hbmdlbENhcmRTZXJpZXNJZCwgdWludCBfYmFzZVByaWNlLCAgdWludDY0IF9tYXhUb3RhbCwgdWludDggX2Jhc2VBdXJhLCB1aW50MTYgX2Jhc2VCYXR0bGVQb3dlciwgdWludDY0IF9saXZlVGltZSkgb25seUNSRUFUT1IgZXh0ZXJuYWwgcmV0dXJucyh1aW50OCkgewogICAgICAgICBpZiAoKG5vdyA+IDE1MTcxODkyMDEpIHx8ICh0b3RhbEFuZ2VsQ2FyZFNlcmllcyA+PSAyNCkpIHtyZXZlcnQoKTt9CiAgICAgICAgLy9UaGlzIGNvbmZpcm1zIHRoYXQgbm8gb25lLCBldmVuIHRoZSBkZXZlbG9vcGVycywgY2FuIGNyZWF0ZSBhbnkgYW5nZWwgc2VyaWVzIGFmdGVyIEpBTi8yOS8yMDE4IEAgMToyNiBhbSAoVVRDKSBvciBtb3JlIHRoYW4gdGhlIG9yaWdpbmFsIDI0IHNlcmllcy4KCiAgICAgICAgQW5nZWxDYXJkU2VyaWVzIHN0b3JhZ2UgYW5nZWxDYXJkU2VyaWVzID0gYW5nZWxDYXJkU2VyaWVzQ29sbGVjdGlvbltfYW5nZWxDYXJkU2VyaWVzSWRdOwogICAgICAgIGFuZ2VsQ2FyZFNlcmllcy5hbmdlbENhcmRTZXJpZXNJZCA9IF9hbmdlbENhcmRTZXJpZXNJZDsKICAgICAgICBhbmdlbENhcmRTZXJpZXMuYmFzZVByaWNlID0gX2Jhc2VQcmljZTsgCiAgICAgICAgYW5nZWxDYXJkU2VyaWVzLm1heEFuZ2VsVG90YWwgPSBfbWF4VG90YWw7CiAgICAgICAgYW5nZWxDYXJkU2VyaWVzLmJhc2VBdXJhID0gQW5nZWxBdXJhKF9iYXNlQXVyYSk7CiAgICAgICAgYW5nZWxDYXJkU2VyaWVzLmJhc2VCYXR0bGVQb3dlciA9IF9iYXNlQmF0dGxlUG93ZXI7CiAgICAgICAgYW5nZWxDYXJkU2VyaWVzLmxhc3RTZWxsVGltZSA9IDA7CiAgICAgICAgYW5nZWxDYXJkU2VyaWVzLmxpdmVUaW1lID0gX2xpdmVUaW1lOwoKICAgICAgICB0b3RhbEFuZ2VsQ2FyZFNlcmllcyArPSAxOwogICAgICAgIHJldHVybiB0b3RhbEFuZ2VsQ2FyZFNlcmllczsKICAgIH0KCiAgLy8gVGhpcyBpcyBjYWxsZWQgZXZlcnkgNSBkYXlzIHRvIHNldCB0aGUgYmFzZVByaWNlIGFuZCBtYXhBbmdlbFRvdGFsIGZvciB0aGUgYW5nZWwgc2VyaWVzIGJhc2VkIG9uIGJ1eSBwcmVzc3VyZSBvZiB0aGUgbGFzdCBjYXJkCiAgICBmdW5jdGlvbiB1cGRhdGVBbmdlbENhcmRTZXJpZXModWludDggX2FuZ2VsQ2FyZFNlcmllc0lkLCB1aW50NjQgX25ld1ByaWNlLCB1aW50NjQgX25ld01heFRvdGFsKSBvbmx5Q1JFQVRPUiBleHRlcm5hbCB7CiAgICAgICAgLy8gUmVxdWlyZSB0aGF0IHRoZSBzZXJpZXMgaXMgYWJvdmUgdGhlIEFyZWwgY2FyZAogICAgICAgIGlmIChfYW5nZWxDYXJkU2VyaWVzSWQgPCA0KSB7cmV2ZXJ0KCk7fQogICAgICAgIC8vKFRoZSBvcmdpbmFsLCBwb3dlcmZ1bCBzZXJpZXMgY2FuJ3QgYmUgYWx0ZXJlZC4gCiAgICAgICAgaWYgKChfbmV3TWF4VG90YWwgPDQ1KSB8fCAoX25ld01heFRvdGFsID40NTApKSB7cmV2ZXJ0KCk7fQogICAgICAgLy9zZXJpZXMgY2FuIG9ubHkgYmUgYWRqdXN0ZWQgd2l0aGluIGEgY2VydGFpbiBuYXJyb3cgcmFuZ2UuIAogICAgICAgIEFuZ2VsQ2FyZFNlcmllcyBzdG9yYWdlIHNlcmllc1N0b3JhZ2UgPSBhbmdlbENhcmRTZXJpZXNDb2xsZWN0aW9uW19hbmdlbENhcmRTZXJpZXNJZF07CiAgICAgICAgc2VyaWVzU3RvcmFnZS5tYXhBbmdlbFRvdGFsID0gX25ld01heFRvdGFsOwogICAgICAgc2VyaWVzU3RvcmFnZS5iYXNlUHJpY2UgPSBfbmV3UHJpY2U7CiAgICAgICAgc2VyaWVzU3RvcmFnZS5sYXN0U2VsbFRpbWUgPSB1aW50NjQobm93KTsKICAgIH0KCgoKICAgIGZ1bmN0aW9uIHNldEFuZ2VsKHVpbnQ4IF9hbmdlbENhcmRTZXJpZXNJZCwgYWRkcmVzcyBfb3duZXIsIHVpbnQgX3ByaWNlLCB1aW50MTYgX2JhdHRsZVBvd2VyKSBvbmx5U0VSQVBISU0gZXh0ZXJuYWwgcmV0dXJucyh1aW50NjQpIHsKICAgICAgICBBbmdlbENhcmRTZXJpZXMgc3RvcmFnZSBzZXJpZXMgPSBhbmdlbENhcmRTZXJpZXNDb2xsZWN0aW9uW19hbmdlbENhcmRTZXJpZXNJZF07CiAgICAKICAgICAgICBpZiAoc2VyaWVzLmN1cnJlbnRBbmdlbFRvdGFsID49IHNlcmllcy5tYXhBbmdlbFRvdGFsKSB7CiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIH0KICAgICAgIGVsc2UgeyAKICAgICAgICB0b3RhbEFuZ2VscyArPSAxOwogICAgICAgIEFuZ2VsIHN0b3JhZ2UgYW5nZWwgPSBhbmdlbENvbGxlY3Rpb25bdG90YWxBbmdlbHNdOwogICAgICAgIHNlcmllcy5jdXJyZW50QW5nZWxUb3RhbCArPSAxOwogICAgICAgIHNlcmllcy5sYXN0U2VsbFRpbWUgPSB1aW50NjQobm93KTsKICAgICAgICBhbmdlbC5hbmdlbElkID0gdG90YWxBbmdlbHM7CiAgICAgICAgYW5nZWwuYW5nZWxDYXJkU2VyaWVzSWQgPSBfYW5nZWxDYXJkU2VyaWVzSWQ7CiAgICAgICAgYW5nZWwub3duZXIgPSBfb3duZXI7CiAgICAgICAgYW5nZWwuYmF0dGxlUG93ZXIgPSBfYmF0dGxlUG93ZXI7IAogICAgICAgIGFuZ2VsLmF1cmEgPSBzZXJpZXMuYmFzZUF1cmE7CiAgICAgICAgYW5nZWwuZXhwZXJpZW5jZSA9IDA7CiAgICAgICAgYW5nZWwucHJpY2UgPSBfcHJpY2U7CiAgICAgICAgYW5nZWwuY3JlYXRlZFRpbWUgPSB1aW50NjQobm93KTsKICAgICAgICBhbmdlbC5sYXN0QmF0dGxlVGltZSA9IDA7CiAgICAgICAgYW5nZWwubGFzdFZzQmF0dGxlVGltZSA9IDA7CiAgICAgICAgYW5nZWwubGFzdEJhdHRsZVJlc3VsdCA9IDA7CiAgICAgICAgYWRkQW5nZWxJZE1hcHBpbmcoX293bmVyLCBhbmdlbC5hbmdlbElkKTsKICAgICAgICBhbmdlbC5vd25lckxvY2sgPSB0cnVlOwogICAgICAgIHJldHVybiBhbmdlbC5hbmdlbElkOwogICAgICAgfQogICAgfQogICAgIAogICAgZnVuY3Rpb24gYWRkVG9BbmdlbEV4cGVyaWVuY2VMZXZlbCh1aW50NjQgX2FuZ2VsSWQsIHVpbnQgX3ZhbHVlKSBvbmx5U0VSQVBISU0gZXh0ZXJuYWwgewogICAgICAgIEFuZ2VsIHN0b3JhZ2UgYW5nZWwgPSBhbmdlbENvbGxlY3Rpb25bX2FuZ2VsSWRdOwogICAgICAgIGlmIChhbmdlbC5hbmdlbElkID09IF9hbmdlbElkKSB7CiAgICAgICAgICAgIGFuZ2VsLmV4cGVyaWVuY2UgPSB1aW50MTYoc2FmZUFkZChhbmdlbC5leHBlcmllbmNlLCBfdmFsdWUpKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gc2V0QW5nZWxMYXN0QmF0dGxlVGltZSh1aW50NjQgX2FuZ2VsSWQpIG9ubHlTRVJBUEhJTSBleHRlcm5hbCB7CiAgICAgICAgQW5nZWwgc3RvcmFnZSBhbmdlbCA9IGFuZ2VsQ29sbGVjdGlvbltfYW5nZWxJZF07CiAgICAgICAgaWYgKGFuZ2VsLmFuZ2VsSWQgPT0gX2FuZ2VsSWQpIHsKICAgICAgICAgICAgYW5nZWwubGFzdEJhdHRsZVRpbWUgPSB1aW50NjQobm93KTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gc2V0QW5nZWxMYXN0VnNCYXR0bGVUaW1lKHVpbnQ2NCBfYW5nZWxJZCkgb25seVNFUkFQSElNIGV4dGVybmFsIHsKICAgICAgICBBbmdlbCBzdG9yYWdlIGFuZ2VsID0gYW5nZWxDb2xsZWN0aW9uW19hbmdlbElkXTsKICAgICAgICBpZiAoYW5nZWwuYW5nZWxJZCA9PSBfYW5nZWxJZCkgewogICAgICAgICAgICBhbmdlbC5sYXN0VnNCYXR0bGVUaW1lID0gdWludDY0KG5vdyk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHNldExhc3RCYXR0bGVSZXN1bHQodWludDY0IF9hbmdlbElkLCB1aW50MTYgX3ZhbHVlKSBvbmx5U0VSQVBISU0gZXh0ZXJuYWwgewogICAgICAgIEFuZ2VsIHN0b3JhZ2UgYW5nZWwgPSBhbmdlbENvbGxlY3Rpb25bX2FuZ2VsSWRdOwogICAgICAgIGlmIChhbmdlbC5hbmdlbElkID09IF9hbmdlbElkKSB7CiAgICAgICAgICAgIGFuZ2VsLmxhc3RCYXR0bGVSZXN1bHQgPSBfdmFsdWU7CiAgICAgICAgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiBhZGRBbmdlbElkTWFwcGluZyhhZGRyZXNzIF9vd25lciwgdWludDY0IF9hbmdlbElkKSBwcml2YXRlIHsKICAgICAgICAgICAgdWludDY0W10gc3RvcmFnZSBvd25lcnMgPSBvd25lckFuZ2VsQ29sbGVjdGlvbltfb3duZXJdOwogICAgICAgICAgICBvd25lcnMucHVzaChfYW5nZWxJZCk7CiAgICAgICAgICAgIEFuZ2VsIHN0b3JhZ2UgYW5nZWwgPSBhbmdlbENvbGxlY3Rpb25bX2FuZ2VsSWRdOwogICAgICAgICAgICBhbmdlbC5vd25lciA9IF9vd25lcjsKICAgIH0KLy9BbnlvbmUgY2FuIHRyYW5zZmVyIHRoZWlyIG93biBhbmdlbCBieSBzZW5kaW5nIGEgdHJhbnNhY3Rpb24gd2l0aCB0aGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0byBmcm9tIHRoZSBhZGRyZXNzIHRoYXQgb3ducyBpdC4gCiAgICBmdW5jdGlvbiBvd25lckFuZ2VsVHJhbnNmZXIgKGFkZHJlc3MgX3RvLCB1aW50NjQgX2FuZ2VsSWQpICBwdWJsaWMgIHsKICAgICAgICAKICAgICAgIGlmICgoX2FuZ2VsSWQgPiB0b3RhbEFuZ2VscykgfHwgKF9hbmdlbElkID09IDApKSB7cmV2ZXJ0KCk7fQogICAgICAgQW5nZWwgc3RvcmFnZSBhbmdlbCA9IGFuZ2VsQ29sbGVjdGlvbltfYW5nZWxJZF07CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgPT0gX3RvKSB7cmV2ZXJ0KCk7fQogICAgICAgIGlmIChhbmdlbC5vd25lciAhPSBtc2cuc2VuZGVyKSB7CiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICBhbmdlbC5vd25lciA9IF90bzsKICAgICAgICBhZGRBbmdlbElkTWFwcGluZyhfdG8sIF9hbmdlbElkKTsKICAgICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiB0cmFuc2ZlckFuZ2VsKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50NjQgX2FuZ2VsSWQpIG9ubHlTRVJBUEhJTSBwdWJsaWMgcmV0dXJucyhSZXN1bHRDb2RlKSB7CiAgICAgICAgQW5nZWwgc3RvcmFnZSBhbmdlbCA9IGFuZ2VsQ29sbGVjdGlvbltfYW5nZWxJZF07CiAgICAgICAgaWYgKF9mcm9tID09IF90bykge3JldmVydCgpO30KICAgICAgICBpZiAoYW5nZWwub3duZXJMb2NrID09IHRydWUpIHtyZXZlcnQoKTt9IC8vbXVzdCBiZSB1bmxvY2tlZCBiZWZvcmUgdHJhbnNmZXJpbmcuIAogICAgICAgIGlmIChhbmdlbC5vd25lciAhPSBfZnJvbSkgewogICAgICAgICAgICByZXR1cm4gUmVzdWx0Q29kZS5FUlJPUl9OT1RfT1dORVI7CiAgICAgICAgfQogICAgICAgIGFuZ2VsLm93bmVyID0gX3RvOwogICAgICAgIGFkZEFuZ2VsSWRNYXBwaW5nKF90bywgX2FuZ2VsSWQpOwogICAgICAgIGFuZ2VsLm93bmVyTG9jayA9IHRydWU7CiAgICAgICAgcmV0dXJuIFJlc3VsdENvZGUuU1VDQ0VTUzsKICAgIH0KCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUFuZ2VsTG9jayAodWludDY0IF9hbmdlbElkLCBib29sIG5ld1ZhbHVlKSBwdWJsaWMgewogICAgICAgIGlmICgoX2FuZ2VsSWQgPiB0b3RhbEFuZ2VscykgfHwgKF9hbmdlbElkID09IDApKSB7cmV2ZXJ0KCk7fQogICAgICAgIEFuZ2VsIHN0b3JhZ2UgYW5nZWwgPSBhbmdlbENvbGxlY3Rpb25bX2FuZ2VsSWRdOwogICAgICAgIGlmIChhbmdlbC5vd25lciAhPSBtc2cuc2VuZGVyKSB7IHJldmVydCgpO30KICAgICAgICBhbmdlbC5vd25lckxvY2sgPSBuZXdWYWx1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gcmVtb3ZlQ3JlYXRvcigpIG9ubHlDUkVBVE9SIGV4dGVybmFsIHsKICAgICAgICAvL3RoaXMgZnVuY3Rpb24gaXMgbWVhbnQgdG8gYmUgY2FsbGVkIG9uY2UgYWxsIG1vZHVsZXMgZm9yIHRoZSBnYW1lIGFyZSBpbiBwbGFjZS4gSXQgd2lsbCByZW1vdmUgb3VyIGFiaWxpdHkgdG8gYWRkIGFueSBuZXcgbW9kdWxlcyBhbmQgbWFrZSB0aGUgZ2FtZSBmdWxseSBkZWNlbnRyYWxpemVkLiAKICAgICAgICBjcmVhdG9yQWRkcmVzcyA9IGFkZHJlc3MoMCk7CiAgICB9CiAgIAogICAgLy8qKiogUmVhZCBBY2Nlc3MgKioqLy8KICAgIGZ1bmN0aW9uIGdldEFuZ2VsQ2FyZFNlcmllcyh1aW50OCBfYW5nZWxDYXJkU2VyaWVzSWQpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zKHVpbnQ4IGFuZ2VsQ2FyZFNlcmllc0lkLCB1aW50NjQgY3VycmVudEFuZ2VsVG90YWwsIHVpbnQgYmFzZVByaWNlLCB1aW50NjQgbWF4QW5nZWxUb3RhbCwgdWludDggYmFzZUF1cmEsIHVpbnQgYmFzZUJhdHRsZVBvd2VyLCB1aW50NjQgbGFzdFNlbGxUaW1lLCB1aW50NjQgbGl2ZVRpbWUpIHsKICAgICAgICBBbmdlbENhcmRTZXJpZXMgbWVtb3J5IHNlcmllcyA9IGFuZ2VsQ2FyZFNlcmllc0NvbGxlY3Rpb25bX2FuZ2VsQ2FyZFNlcmllc0lkXTsKICAgICAgICBhbmdlbENhcmRTZXJpZXNJZCA9IHNlcmllcy5hbmdlbENhcmRTZXJpZXNJZDsKICAgICAgICBjdXJyZW50QW5nZWxUb3RhbCA9IHNlcmllcy5jdXJyZW50QW5nZWxUb3RhbDsKICAgICAgICBiYXNlUHJpY2UgPSBzZXJpZXMuYmFzZVByaWNlOwogICAgICAgIG1heEFuZ2VsVG90YWwgPSBzZXJpZXMubWF4QW5nZWxUb3RhbDsKICAgICAgICBiYXNlQXVyYSA9IHVpbnQ4KHNlcmllcy5iYXNlQXVyYSk7CiAgICAgICAgYmFzZUJhdHRsZVBvd2VyID0gc2VyaWVzLmJhc2VCYXR0bGVQb3dlcjsKICAgICAgICBsYXN0U2VsbFRpbWUgPSBzZXJpZXMubGFzdFNlbGxUaW1lOwogICAgICAgIGxpdmVUaW1lID0gc2VyaWVzLmxpdmVUaW1lOwogICAgfQoKCiAgICBmdW5jdGlvbiBnZXRBbmdlbCh1aW50NjQgX2FuZ2VsSWQpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zKHVpbnQ2NCBhbmdlbElkLCB1aW50OCBhbmdlbENhcmRTZXJpZXNJZCwgdWludDE2IGJhdHRsZVBvd2VyLCB1aW50OCBhdXJhLCB1aW50MTYgZXhwZXJpZW5jZSwgdWludCBwcmljZSwgdWludDY0IGNyZWF0ZWRUaW1lLCB1aW50NjQgbGFzdEJhdHRsZVRpbWUsIHVpbnQ2NCBsYXN0VnNCYXR0bGVUaW1lLCB1aW50MTYgbGFzdEJhdHRsZVJlc3VsdCwgYWRkcmVzcyBvd25lcikgewogICAgICAgIEFuZ2VsIG1lbW9yeSBhbmdlbCA9IGFuZ2VsQ29sbGVjdGlvbltfYW5nZWxJZF07CiAgICAgICAgYW5nZWxJZCA9IGFuZ2VsLmFuZ2VsSWQ7CiAgICAgICAgYW5nZWxDYXJkU2VyaWVzSWQgPSBhbmdlbC5hbmdlbENhcmRTZXJpZXNJZDsKICAgICAgICBiYXR0bGVQb3dlciA9IGFuZ2VsLmJhdHRsZVBvd2VyOwogICAgICAgIGF1cmEgPSB1aW50OChhbmdlbC5hdXJhKTsKICAgICAgICBleHBlcmllbmNlID0gYW5nZWwuZXhwZXJpZW5jZTsKICAgICAgICBwcmljZSA9IGFuZ2VsLnByaWNlOwogICAgICAgIGNyZWF0ZWRUaW1lID0gYW5nZWwuY3JlYXRlZFRpbWU7CiAgICAgICAgbGFzdEJhdHRsZVRpbWUgPSBhbmdlbC5sYXN0QmF0dGxlVGltZTsKICAgICAgICBsYXN0VnNCYXR0bGVUaW1lID0gYW5nZWwubGFzdFZzQmF0dGxlVGltZTsKICAgICAgICBsYXN0QmF0dGxlUmVzdWx0ID0gYW5nZWwubGFzdEJhdHRsZVJlc3VsdDsKICAgICAgICBvd25lciA9IGFuZ2VsLm93bmVyOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldE93bmVyQW5nZWxDb3VudChhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcHVibGljIHJldHVybnModWludCkgewogICAgICAgIHJldHVybiBvd25lckFuZ2VsQ29sbGVjdGlvbltfb3duZXJdLmxlbmd0aDsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ2V0QW5nZWxMb2NrU3RhdHVzKHVpbnQ2NCBfYW5nZWxJZCkgY29uc3RhbnQgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBpZiAoKF9hbmdlbElkID4gdG90YWxBbmdlbHMpIHx8IChfYW5nZWxJZCA9PSAwKSkge3JldmVydCgpO30KICAgICAgIEFuZ2VsIHN0b3JhZ2UgYW5nZWwgPSBhbmdlbENvbGxlY3Rpb25bX2FuZ2VsSWRdOwogICAgICAgcmV0dXJuIGFuZ2VsLm93bmVyTG9jazsKICAgIH0KICAgIAoKICAgIGZ1bmN0aW9uIGdldEFuZ2VsQnlJbmRleChhZGRyZXNzIF9vd25lciwgdWludCBfaW5kZXgpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zKHVpbnQ2NCkgewogICAgICAgIGlmIChfaW5kZXggPj0gb3duZXJBbmdlbENvbGxlY3Rpb25bX293bmVyXS5sZW5ndGgpIHsKICAgICAgICAgICAgcmV0dXJuIDA7IH0KICAgICAgICByZXR1cm4gb3duZXJBbmdlbENvbGxlY3Rpb25bX293bmVyXVtfaW5kZXhdOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFRvdGFsQW5nZWxDYXJkU2VyaWVzKCkgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQ4KSB7CiAgICAgICAgcmV0dXJuIHRvdGFsQW5nZWxDYXJkU2VyaWVzOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFRvdGFsQW5nZWxzKCkgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQ2NCkgewogICAgICAgIHJldHVybiB0b3RhbEFuZ2VsczsKICAgIH0KfQ=='.
	

]
