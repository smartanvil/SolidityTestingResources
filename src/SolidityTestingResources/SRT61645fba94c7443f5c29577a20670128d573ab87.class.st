Class {
	#name : #SRT61645fba94c7443f5c29577a20670128d573ab87,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT61645fba94c7443f5c29577a20670128d573ab87 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKgoqICdMT09LJyB0b2tlbiBzYWxlIGNvbnRyYWN0CioKKiBSZWZlciB0byBodHRwczovL2xvb2tzY29pbi5jb20vIGZvciBtb3JlIGluZm9ybWF0aW9uLgoqIAoqIERldmVsb3BlcjogTG9va1JldgoqCiovCgovKgogKiBFUkMyMCBUb2tlbiBTdGFuZGFyZAogKi8KY29udHJhY3QgRVJDMjAgewogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIG9rKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgb2spOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwp9CgogIC8qKgogICAqIFByb3ZpZGVzIG1ldGhvZHMgdG8gc2FmZWx5IGFkZCwgc3VidHJhY3QgYW5kIG11bHRpcGx5IHVpbnQyNTYgbnVtYmVycy4KICAgKi8KY29udHJhY3QgU2FmZU1hdGggewogICAgdWludDI1NiBjb25zdGFudCBwcml2YXRlIE1BWF9VSU5UMjU2ID0KICAgIDB4RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjsKCiAgICAvKioKICAgICAqIEFkZCB0d28gdWludDI1NiB2YWx1ZXMsIHJldmVydCBpbiBjYXNlIG9mIG92ZXJmbG93LgogICAgICoKICAgICAqIEBwYXJhbSBhIGZpcnN0IHZhbHVlIHRvIGFkZAogICAgICogQHBhcmFtIGIgc2Vjb25kIHZhbHVlIHRvIGFkZAogICAgICogQHJldHVybiBhICsgYgogICAgICovCiAgICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmVxdWlyZSAoYSA8PSBNQVhfVUlOVDI1NiAtIGIpOwogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIC8qKgogICAgICogU3VidHJhY3Qgb25lIHVpbnQyNTYgdmFsdWUgZnJvbSBhbm90aGVyLCB0aHJvdyBpbiBjYXNlIG9mIHVuZGVyZmxvdy4KICAgICAqCiAgICAgKiBAcGFyYW0gYSB2YWx1ZSB0byBzdWJ0cmFjdCBmcm9tCiAgICAgKiBAcGFyYW0gYiB2YWx1ZSB0byBzdWJ0cmFjdAogICAgICogQHJldHVybiBhIC0gYgogICAgICovCiAgICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGEgPj0gYik7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIC8qKgogICAgICogTXVsdGlwbHkgdHdvIHVpbnQyNTYgdmFsdWVzLCB0aHJvdyBpbiBjYXNlIG9mIG92ZXJmbG93LgogICAgICoKICAgICAqIEBwYXJhbSBhIGZpcnN0IHZhbHVlIHRvIG11bHRpcGx5CiAgICAgKiBAcGFyYW0gYiBzZWNvbmQgdmFsdWUgdG8gbXVsdGlwbHkKICAgICAqIEByZXR1cm4gYSAqIGIKICAgICAqLwogICAgZnVuY3Rpb24gc2FmZU11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGlmIChhID09IDAgfHwgYiA9PSAwKSByZXR1cm4gMDsKICAgICAgICByZXF1aXJlIChhIDw9IE1BWF9VSU5UMjU2IC8gYik7CiAgICAgICAgcmV0dXJuIGEgKiBiOwogICAgfQp9CgovKgogICAgUHJvdmlkZXMgc3VwcG9ydCBhbmQgdXRpbGl0aWVzIGZvciBjb250cmFjdCBvd25lcnNoaXAKKi8KY29udHJhY3QgT3duYWJsZSB7CiAgICBhZGRyZXNzIG93bmVyOwogICAgYWRkcmVzcyBuZXdPd25lcjsKCiAgICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICAvKioKICAgICAqIEFsbG93cyBleGVjdXRpb24gYnkgdGhlIG93bmVyIG9ubHkuCiAgICAgKi8KICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNmZXJyaW5nIHRoZSBjb250cmFjdCBvd25lcnNoaXAgdG8gdGhlIG5ldyBvd25lci4KICAgICAqCiAgICAgKiBAcGFyYW0gX25ld093bmVyIG5ldyBjb250cmFjdG9yIG93bmVyCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBvbmx5T3duZXIgewogICAgICAgIGlmIChfbmV3T3duZXIgIT0gYWRkcmVzcygwKSkgewogICAgICAgICAgbmV3T3duZXIgPSBfbmV3T3duZXI7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogQWNjZXB0IHRoZSBjb250cmFjdCBvd25lcnNoaXAgYnkgdGhlIG5ldyBvd25lci4KICAgICAqCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFjY2VwdE93bmVyc2hpcCgpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gbmV3T3duZXIpOwogICAgICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgICAgICBuZXdPd25lciA9IDB4MDsKICAgIH0KICAgIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90byk7Cn0KCi8qKgoqIFN0YW5kYXJkIFRva2VuIFNtYXJ0IENvbnRyYWN0IHRoYXQgY291bGQgYmUgdXNlZCBhcyBhIGJhc2UgY29udHJhY3QgZm9yCiogRVJDLTIwIHRva2VuIGNvbnRyYWN0cy4KKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgT3duYWJsZSwgU2FmZU1hdGggewoKICAgIC8qKgogICAgICogTWFwcGluZyBmcm9tIGFkZHJlc3NlcyBvZiB0b2tlbiBob2xkZXJzIHRvIHRoZSBudW1iZXJzIG9mIHRva2VucyBiZWxvbmdpbmcKICAgICAqIHRvIHRoZXNlIHRva2VuIGhvbGRlcnMuCiAgICAgKi8KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogICAgLyoqCiAgICAgKiBNYXBwaW5nIGZyb20gYWRkcmVzc2VzIG9mIHRva2VuIGhvbGRlcnMgdG8gdGhlIG1hcHBpbmcgb2YgYWRkcmVzc2VzIG9mCiAgICAgKiBzcGVuZGVycyB0byB0aGUgYWxsb3dhbmNlcyBzZXQgYnkgdGhlc2UgdG9rZW4gaG9sZGVycyB0byB0aGVzZSBzcGVuZGVycy4KICAgICAqLwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAgIC8qKgogICAgICogQ3JlYXRlIG5ldyBTdGFuZGFyZCBUb2tlbiBjb250cmFjdC4KICAgICAqLwogICAgZnVuY3Rpb24gU3RhbmRhcmRUb2tlbigpIHsKICAgICAgLy8gRG8gbm90aGluZwogICAgfQoKICAgIC8qKgogICAgICogR2V0IG51bWJlciBvZiB0b2tlbnMgY3VycmVudGx5IGJlbG9uZ2luZyB0byBnaXZlbiBvd25lci4KICAgICAqCiAgICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgdG8gZ2V0IG51bWJlciBvZiB0b2tlbnMgY3VycmVudGx5IGJlbG9uZ2luZyB0byB0aGUKICAgICAqICAgICAgICBvd25lciBvZgogICAgICogQHJldHVybiBudW1iZXIgb2YgdG9rZW5zIGN1cnJlbnRseSBiZWxvbmdpbmcgdG8gdGhlIG93bmVyIG9mIGdpdmVuIGFkZHJlc3MKICAgICAqLwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICAvKioKICAgICAqIFRyYW5zZmVyIGdpdmVuIG51bWJlciBvZiB0b2tlbnMgZnJvbSBtZXNzYWdlIHNlbmRlciB0byBnaXZlbiByZWNpcGllbnQuCiAgICAgKgogICAgICogQHBhcmFtIF90byBhZGRyZXNzIHRvIHRyYW5zZmVyIHRva2VucyB0byB0aGUgb3duZXIgb2YKICAgICAqIEBwYXJhbSBfYW1vdW50IG51bWJlciBvZiB0b2tlbnMgdG8gdHJhbnNmZXIgdG8gdGhlIG93bmVyIG9mIGdpdmVuIGFkZHJlc3MKICAgICAqIEByZXR1cm4gdHJ1ZSBpZiB0b2tlbnMgd2VyZSB0cmFuc2ZlcnJlZCBzdWNjZXNzZnVsbHksIGZhbHNlIG90aGVyd2lzZQogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBhdm9pZCB3YXN0aW5nIGdhcyBvbiAwIHRva2VuIHRyYW5zZmVycwogICAgICAgIGlmKF9hbW91bnQgPD0gMCkgcmV0dXJuIGZhbHNlOwogICAgICAgIGlmIChtc2cuc2VuZGVyID09IF90bykgcmV0dXJuIGZhbHNlOwogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA8IF9hbW91bnQpIHJldHVybiBmYWxzZTsKICAgICAgICBpZiAoYmFsYW5jZXNbX3RvXSArIF9hbW91bnQgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2FmZVN1YihiYWxhbmNlc1ttc2cuc2VuZGVyXSxfYW1vdW50KTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZXNbX3RvXSxfYW1vdW50KTsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfYW1vdW50KTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvKioKICAgICAqIFRyYW5zZmVyIGdpdmVuIG51bWJlciBvZiB0b2tlbnMgZnJvbSBnaXZlbiBvd25lciB0byBnaXZlbiByZWNpcGllbnQuCiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG9rZW5zIGZyb20gdGhlIG93bmVyIG9mCiAgICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG9rZW5zIHRvIHRoZSBvd25lciBvZgogICAgICogQHBhcmFtIF9hbW91bnQgbnVtYmVyIG9mIHRva2VucyB0byB0cmFuc2ZlciBmcm9tIGdpdmVuIG93bmVyIHRvIGdpdmVuCiAgICAgKiAgICAgICAgcmVjaXBpZW50CiAgICAgKiBAcmV0dXJuIHRydWUgaWYgdG9rZW5zIHdlcmUgdHJhbnNmZXJyZWQgc3VjY2Vzc2Z1bGx5LCBmYWxzZSBvdGhlcndpc2UKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIGF2b2lkIHdhc3RpbmcgZ2FzIG9uIDAgdG9rZW4gdHJhbnNmZXJzCiAgICAgICAgaWYoX2Ftb3VudCA8PSAwKSByZXR1cm4gZmFsc2U7CiAgICAgICAgaWYoX2Zyb20gPT0gX3RvKSByZXR1cm4gZmFsc2U7CiAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA8IF9hbW91bnQpIHJldHVybiBmYWxzZTsKICAgICAgICBpZiAoX2Ftb3VudCA+IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKSByZXR1cm4gZmFsc2U7CgogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IHNhZmVTdWIoYmFsYW5jZXNbX2Zyb21dLF9hbW91bnQpOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gc2FmZVN1YihhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSxfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF9hbW91bnQpOwoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBBbGxvdyBnaXZlbiBzcGVuZGVyIHRvIHRyYW5zZmVyIGdpdmVuIG51bWJlciBvZiB0b2tlbnMgZnJvbSBtZXNzYWdlIHNlbmRlci4KICAgICAqCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyB0byBhbGxvdyB0aGUgb3duZXIgb2YgdG8gdHJhbnNmZXIgdG9rZW5zIGZyb20KICAgICAqICAgICAgICBtZXNzYWdlIHNlbmRlcgogICAgICogQHBhcmFtIF9hbW91bnQgbnVtYmVyIG9mIHRva2VucyB0byBhbGxvdyB0byB0cmFuc2ZlcgogICAgICogQHJldHVybiB0cnVlIGlmIHRva2VuIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsbHkgYXBwcm92ZWQsIGZhbHNlIG90aGVyd2lzZQogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgogICAgICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAgICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgICAgICAvLyAgYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgICAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgICAgICBpZiAoKF9hbW91bnQgIT0gMCkgJiYgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdICE9IDApKSB7CiAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPCBfYW1vdW50KSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfYW1vdW50OwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICB9CgogICAgLyoqCiAgICAgKiBUZWxsIGhvdyBtYW55IHRva2VucyBnaXZlbiBzcGVuZGVyIGlzIGN1cnJlbnRseSBhbGxvd2VkIHRvIHRyYW5zZmVyIGZyb20KICAgICAqIGdpdmVuIG93bmVyLgogICAgICoKICAgICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyB0byBnZXQgbnVtYmVyIG9mIHRva2VucyBhbGxvd2VkIHRvIGJlIHRyYW5zZmVycmVkCiAgICAgKiAgICAgICAgZnJvbSB0aGUgb3duZXIgb2YKICAgICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIHRvIGdldCBudW1iZXIgb2YgdG9rZW5zIGFsbG93ZWQgdG8gYmUgdHJhbnNmZXJyZWQKICAgICAqICAgICAgICBieSB0aGUgb3duZXIgb2YKICAgICAqIEByZXR1cm4gbnVtYmVyIG9mIHRva2VucyBnaXZlbiBzcGVuZGVyIGlzIGN1cnJlbnRseSBhbGxvd2VkIHRvIHRyYW5zZmVyCiAgICAgKiAgICAgICAgIGZyb20gZ2l2ZW4gb3duZXIKICAgICAqLwogICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgIH0KfQoKLyoqCiAqIExPT0sgVG9rZW4gU2FsZSBDb250cmFjdAogKgogKiBUaGUgdG9rZW4gc2FsZSBjb250cm9sbGVyLCBhbGxvd3MgY29udHJpYnV0aW5nIGV0aGVyIGluIGV4Y2hhbmdlIGZvciBMT09LIGNvaW5zLgogKiBUaGUgcHJpY2UgKGV4Y2hhbmdlIHJhdGUgd2l0aCBFVEgpIHJlbWFpbnMgZml4ZWQgZm9yIHRoZSBlbnRpcmUgZHVyYXRpb24gb2YgdGhlIHRva2VuIHNhbGUuCiAqIFZJUCByYW5raW5nIGlzIHJlY29yZGVkIGF0IHRoZSB0aW1lIHdoZW4gdGhlIHRva2VuIGhvbGRpbmcgYWRkcmVzcyBmaXJzdCBtZWV0IFZJUCBob2xkaW5nIGxldmVsLgogKiBWSVAgcmFua2luZyBpcyB2YWxpZCBmb3IgdGhlIGxpZmV0aW1lIG9mIGEgdG9rZW4gd2FsbGV0IGFkZHJlc3MsIGFzIGxvbmcgYXMgaXQgbWVldHMgVklQIGhvbGRpbmcgbGV2ZWwuCiAqIFZJUCByYW5raW5nIGlzIHVzZWQgdG8gY2FsY3VsYXRlIHByaW9yaXR5IHdoZW4gY29tcGV0aW5nIHdpdGggb3RoZXIgYmlkcyBmb3IgdGhlCiAqIHNhbWUgcHJvZHVjdCBvciBzZXJ2aWNlIG9uIHRoZSBwbGF0Zm9ybS4gCiAqIEhpZ2hlciBWSVAgcmFua2luZyAod2l0aCBlYXJsaWVyIHRpbWVzdGFtcCkgaGFzIGhpZ2hlciBwcmlvcml0eS4KICogSGlnaGVyIFZJUCByYW5raW5nIGFkZHJlc3MgY2FuIG91dGJpZCBvdGhlciBsb3dlciByYW5raW5nIGFkZHJlc3NlcyBvbmNlIHBlciBzZWxsaW5nIHdpbmRvdyBvciBwcm9tb3Rpb24gcGVyaW9kLgogKiBVc2FnZSBvZiB0aGUgTE9PSyB0b2tlbiwgVklQIHJhbmtpbmcgYW5kIGJpZCBwcmlvcml0eSB3aWxsIGJlIGRlc2NyaWJlZCBvbiB0b2tlbiB3ZWJzaXRlLgogKgogKi8KY29udHJhY3QgTG9va3NDb2luIGlzIFN0YW5kYXJkVG9rZW4gewoKICAgIC8qKgogICAgICogQWRkcmVzcyBvZiB0aGUgb3duZXIgb2YgdGhpcyBzbWFydCBjb250cmFjdC4KICAgICAqLwogICAgYWRkcmVzcyB3YWxsZXQgPSAweDA7CgogICAgLyoqCiAgICAqIE1hcHBpbmcgZm9yIFZJUCByYW5rIGZvciBxdWFsaWZpZWQgdG9rZW4gaG9sZGVycwogICAgKiBIaWdoZXIgVklQIHJhbmtpbmcgKHdpdGggZWFybGllciB0aW1lc3RhbXApIGhhcyBoaWdoZXIgYmlkZGluZyBwcmlvcml0eSB3aGVuIGNvbXBldGluZyAKICAgICogZm9yIHRoZSBzYW1lIGl0ZW0gb24gcGxhdGZvcm0uIAogICAgKiBIaWdoZXIgVklQIHJhbmtpbmcgYWRkcmVzcyBjYW4gb3V0YmlkIG90aGVyIGxvd2VyIHJhbmtpbmcgYWRkcmVzc2VzIG9uY2UgcGVyIHNlbGxpbmcgd2luZG93IG9yIHByb21vdGlvbiBwZXJpb2QuCiAgICAqIFVzYWdlIG9mIHRoZSBWSVAgcmFua2luZyBhbmQgYmlkIHByaW9yaXR5IHdpbGwgYmUgZGVzY3JpYmVkIG9uIHRva2VuIHdlYnNpdGUuCiAgICAqLwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSB2aXByYW5rOwoKICAgIC8qKgogICAgICogTWluaW1pdW0gY29udHJpYnV0aW9uIHRvIHJlY29yZCBhIFZJUCBibG9jawogICAgICogVG9rZW4gaG9sZGluZyBhZGRyZXNzIG5lZWRzIGF0IGxlYXN0IDEwIEVUSCB3b3J0aCBvZiBMT09LIHRva2VucyB0byBiZSByYW5rZWQgYXMgVklQCiAgICAqLwogICAgdWludDI1NiBwdWJsaWMgVklQX01JTklNVU0gPSAxMDAwMDAwOwoKICAgIC8qKgogICAgICogSW5pdGlhbCBudW1iZXIgb2YgdG9rZW5zLgogICAgICovCiAgICB1aW50MjU2IGNvbnN0YW50IElOSVRJQUxfVE9LRU5TX0NPVU5UID0gMjAwMDAwMDAwMDA7CgogICAgLyoqCiAgICAgKiBUb3RhbCBudW1iZXIgb2YgdG9rZW5zIGlucyBjaXJjdWxhdGlvbi4KICAgICAqLwogICAgdWludDI1NiB0b2tlbnNDb3VudDsKCiAgICAvLyBpbml0aWFsIHByaWNlIGluIHdlaSAobnVtZXJhdG9yKQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgVE9LRU5fUFJJQ0VfTiA9IDFlMTM7CiAgICAvLyBpbml0aWFsIHByaWNlIGluIHdlaSAoZGVub21pbmF0b3IpCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBUT0tFTl9QUklDRV9EID0gMTsKICAgIC8vIDEgRVRIID0gMTAwMDAwIExPT0sgY29pbnMKCiAgICAvKioKICAgICAqIENyZWF0ZSBuZXcgTE9PSyB0b2tlbiBTbWFydCBDb250cmFjdCwgbWFrZSBtZXNzYWdlIHNlbmRlciB0byBiZSB0aGUKICAgICAqIG93bmVyIG9mIHNtYXJ0IGNvbnRyYWN0LCBpc3N1ZSBnaXZlbiBudW1iZXIgb2YgdG9rZW5zIGFuZCBnaXZlIHRoZW0gdG8KICAgICAqIG1lc3NhZ2Ugc2VuZGVyLgogICAgICovCiAgICBmdW5jdGlvbiBMb29rc0NvaW4oKSBwYXlhYmxlIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgd2FsbGV0ID0gbXNnLnNlbmRlcjsKICAgICAgICB0b2tlbnNDb3VudCA9IElOSVRJQUxfVE9LRU5TX0NPVU5UOwogICAgICAgIGJhbGFuY2VzW293bmVyXSA9IHRva2Vuc0NvdW50OwogICAgfQoKICAgIC8qKgogICAgICogR2V0IG5hbWUgb2YgdGhpcyB0b2tlbi4KICAgICAqCiAgICAgKiBAcmV0dXJuIG5hbWUgb2YgdGhpcyB0b2tlbgogICAgICovCiAgICBmdW5jdGlvbiBuYW1lKCkgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nIG5hbWUpIHsKICAgICAgcmV0dXJuICJMT09LIjsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCBzeW1ib2wgb2YgdGhpcyB0b2tlbi4KICAgICAqCiAgICAgKiBAcmV0dXJuIHN5bWJvbCBvZiB0aGlzIHRva2VuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHN5bWJvbCgpIGNvbnN0YW50IHJldHVybnMgKHN0cmluZyBzeW1ib2wpIHsKICAgICAgcmV0dXJuICJMT09LIjsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCBudW1iZXIgb2YgZGVjaW1hbHMgZm9yIHRoaXMgdG9rZW4uCiAgICAgKgogICAgICogQHJldHVybiBudW1iZXIgb2YgZGVjaW1hbHMgZm9yIHRoaXMgdG9rZW4KICAgICAqLwogICAgZnVuY3Rpb24gZGVjaW1hbHMoKSBjb25zdGFudCByZXR1cm5zICh1aW50OCBkZWNpbWFscykgewogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCB0b3RhbCBudW1iZXIgb2YgdG9rZW5zIGluIGNpcmN1bGF0aW9uLgogICAgICoKICAgICAqIEByZXR1cm4gdG90YWwgbnVtYmVyIG9mIHRva2VucyBpbiBjaXJjdWxhdGlvbgogICAgICovCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgc3VwcGx5KSB7CiAgICAgIHJldHVybiB0b2tlbnNDb3VudDsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBuZXcgd2FsbGV0IGFkZHJlc3MgZm9yIHRoZSBzbWFydCBjb250cmFjdC4KICAgICAqIE1heSBvbmx5IGJlIGNhbGxlZCBieSBzbWFydCBjb250cmFjdCBvd25lci4KICAgICAqCiAgICAgKiBAcGFyYW0gX3dhbGxldCBuZXcgd2FsbGV0IGFkZHJlc3Mgb2YgdGhlIHNtYXJ0IGNvbnRyYWN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldFdhbGxldChhZGRyZXNzIF93YWxsZXQpIG9ubHlPd25lciB7CiAgICAgICAgd2FsbGV0ID0gX3dhbGxldDsKICAgICAgICBXYWxsZXRVcGRhdGVkKHdhbGxldCk7CiAgICB9CiAgICBldmVudCBXYWxsZXRVcGRhdGVkKGFkZHJlc3MgbmV3V2FsbGV0KTsKCiAgICAvKioKICAgICAqIEdldCBWSVAgcmFuayBvZiBhIGdpdmVuIG93bmVyLgogICAgICogVklQIHJhbmtpbmcgaXMgdmFsaWQgZm9yIHRoZSBsaWZldGltZSBvZiBhIHRva2VuIHdhbGxldCBhZGRyZXNzLCBhcyBsb25nIGFzIGl0IG1lZXRzIFZJUCBob2xkaW5nIGxldmVsLgogICAgICoKICAgICAqIEBwYXJhbSBwYXJ0aWNpcGFudCBhZGRyZXNzIHRvIGdldCB0aGUgdmlwIHJhbmsKICAgICAqIEByZXR1cm4gdmlwIHJhbmsgb2YgdGhlIG93bmVyIG9mIGdpdmVuIGFkZHJlc3MKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0VklQUmFuayhhZGRyZXNzIHBhcnRpY2lwYW50KSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJhbmspIHsKICAgICAgICBpZiAoYmFsYW5jZXNbcGFydGljaXBhbnRdIDwgVklQX01JTklNVU0pIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIHJldHVybiB2aXByYW5rW3BhcnRpY2lwYW50XTsKICAgIH0KCiAgICAvLyBmYWxsYmFjawogICAgZnVuY3Rpb24oKSBwYXlhYmxlIHsKICAgICAgICBidXlUb2tlbigpOwogICAgfQoKICAgIC8qKgogICAgICogQWNjZXB0IGV0aGVycyBhbmQgb3RoZXIgY3VycmVuY2llcyB0byBidXkgdG9rZW5zIGR1cmluZyB0aGUgdG9rZW4gc2FsZQogICAgICovCiAgICBmdW5jdGlvbiBidXlUb2tlbigpIHB1YmxpYyBwYXlhYmxlIHJldHVybnMgKHVpbnQyNTYgYW1vdW50KQogICAgewogICAgICAgIC8vIENhbGN1bGF0ZSBudW1iZXIgb2YgdG9rZW5zIGZvciBjb250cmlidXRlZCBFVEgKICAgICAgICB1aW50MjU2IHRva2VucyA9IHNhZmVNdWwobXNnLnZhbHVlLCBUT0tFTl9QUklDRV9EKSAvIFRPS0VOX1BSSUNFX047CgogICAgICAgIC8vIEFkZCB0b2tlbnMgcHVyY2hhc2VkIHRvIGFjY291bnQncyBiYWxhbmNlIGFuZCB0b3RhbCBzdXBwbHkKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHNhZmVBZGQoYmFsYW5jZXNbbXNnLnNlbmRlcl0sdG9rZW5zKTsKICAgICAgICB0b2tlbnNDb3VudCA9IHNhZmVBZGQodG9rZW5zQ291bnQsdG9rZW5zKTsKCiAgICAgICAgLy8gTG9nIHRoZSB0b2tlbnMgcHVyY2hhc2VkIAogICAgICAgIFRyYW5zZmVyKDB4MCwgbXNnLnNlbmRlciwgdG9rZW5zKTsKICAgICAgICAvLyAtIGJ1eWVyID0gcGFydGljaXBhbnQKICAgICAgICAvLyAtIGV0aGVycyA9IG1zZy52YWx1ZQogICAgICAgIC8vIC0gcGFydGljaXBhbnRUb2tlbkJhbGFuY2UgPSBiYWxhbmNlc1twYXJ0aWNpcGFudF0KICAgICAgICAvLyAtIHRva2VucyA9IHRva2VucwogICAgICAgIC8vIC0gdG90YWxUb2tlbnNDb3VudCA9IHRva2Vuc0NvdW50CiAgICAgICAgVG9rZW5zQm91Z2h0KG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgYmFsYW5jZXNbbXNnLnNlbmRlcl0sIHRva2VucywgdG9rZW5zQ291bnQpOwoKICAgICAgICAvLyBDb250cmlidXRpb24gdGltZXN0YW1wIGlzIHJlY29yZGVkIGZvciBWSVAgcmFuawogICAgICAgIC8vIFJlY29yZGVkIHRpbWVzdGFtcCBmb3IgVklQIHJhbmtpbmcgc2hvdWxkIGFsd2F5cyBiZSBlYXJsaWVyIHRoYW4gdGhlIGN1cnJlbnQgdGltZQogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBWSVBfTUlOSU1VTSAmJiB2aXByYW5rW21zZy5zZW5kZXJdID09IDApIHsKICAgICAgICAgICAgdmlwcmFua1ttc2cuc2VuZGVyXSA9IG5vdzsKICAgICAgICB9CgogICAgICAgIC8vIFRyYW5zZmVyIHRoZSBjb250cmlidXRlZCBldGhlcnMgdG8gdGhlIGNyb3dkc2FsZSB3YWxsZXQKICAgICAgICBhc3NlcnQod2FsbGV0LnNlbmQobXNnLnZhbHVlKSk7CiAgICAgICAgcmV0dXJuIHRva2VuczsKICAgIH0KCiAgICBldmVudCBUb2tlbnNCb3VnaHQoYWRkcmVzcyBpbmRleGVkIGJ1eWVyLCB1aW50MjU2IGV0aGVycywgCiAgICAgICAgdWludDI1NiBwYXJ0aWNpcGFudFRva2VuQmFsYW5jZSwgdWludDI1NiB0b2tlbnMsIHVpbnQyNTYgdG90YWxUb2tlbnNDb3VudCk7CgogICAgLyoqCiAgICAgKiBUcmFuc2ZlciBnaXZlbiBudW1iZXIgb2YgdG9rZW5zIGZyb20gbWVzc2FnZSBzZW5kZXIgdG8gZ2l2ZW4gcmVjaXBpZW50LgogICAgICoKICAgICAqIEBwYXJhbSBfdG8gYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMgdG8gdGhlIG93bmVyIG9mCiAgICAgKiBAcGFyYW0gX2Ftb3VudCBudW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyIHRvIHRoZSBvd25lciBvZiBnaXZlbiBhZGRyZXNzCiAgICAgKiBAcmV0dXJuIHRydWUgaWYgdG9rZW5zIHdlcmUgdHJhbnNmZXJyZWQgc3VjY2Vzc2Z1bGx5LCBmYWxzZSBvdGhlcndpc2UKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmV0dXJuIFN0YW5kYXJkVG9rZW4udHJhbnNmZXIoX3RvLCBfYW1vdW50KTsKICAgIH0KCiAgICAvKioKICAgICAqIFRyYW5zZmVyIGdpdmVuIG51bWJlciBvZiB0b2tlbnMgZnJvbSBnaXZlbiBvd25lciB0byBnaXZlbiByZWNpcGllbnQuCiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG9rZW5zIGZyb20gdGhlIG93bmVyIG9mCiAgICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG9rZW5zIHRvIHRoZSBvd25lciBvZgogICAgICogQHBhcmFtIF9hbW91bnQgbnVtYmVyIG9mIHRva2VucyB0byB0cmFuc2ZlciBmcm9tIGdpdmVuIG93bmVyIHRvIGdpdmVuCiAgICAgKiAgICAgICAgcmVjaXBpZW50CiAgICAgKiBAcmV0dXJuIHRydWUgaWYgdG9rZW5zIHdlcmUgdHJhbnNmZXJyZWQgc3VjY2Vzc2Z1bGx5LCBmYWxzZSBvdGhlcndpc2UKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2VzcykKICAgIHsKICAgICAgICByZXR1cm4gU3RhbmRhcmRUb2tlbi50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBCdXJuIGdpdmVuIG51bWJlciBvZiB0b2tlbnMgYmVsb25naW5nIHRvIG1lc3NhZ2Ugc2VuZGVyLgogICAgICoKICAgICAqIEBwYXJhbSBfYW1vdW50IG51bWJlciBvZiB0b2tlbnMgdG8gYnVybgogICAgICogQHJldHVybiB0cnVlIG9uIHN1Y2Nlc3MsIGZhbHNlIG9uIGVycm9yCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJ1cm5Ub2tlbnModWludDI1NiBfYW1vdW50KSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoX2Ftb3VudCA8PSAwKSByZXR1cm4gZmFsc2U7CiAgICAgICAgaWYgKF9hbW91bnQgPiB0b2tlbnNDb3VudCkgcmV0dXJuIGZhbHNlOwogICAgICAgIGlmIChfYW1vdW50ID4gYmFsYW5jZXNbbXNnLnNlbmRlcl0pIHJldHVybiBmYWxzZTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHNhZmVTdWIoYmFsYW5jZXNbbXNnLnNlbmRlcl0sX2Ftb3VudCk7CiAgICAgICAgdG9rZW5zQ291bnQgPSBzYWZlU3ViKHRva2Vuc0NvdW50LF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIDB4MCwgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0='.
	

]
