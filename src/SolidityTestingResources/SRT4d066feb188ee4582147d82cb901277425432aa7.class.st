Class {
	#name : #SRT4d066feb188ee4582147d82cb901277425432aa7,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4d066feb188ee4582147d82cb901277425432aa7 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IEVSQzIwIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKICAgIAp9Cgpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCiAgICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgKi8KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KICAgIAoKICAgIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICovCgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsKICAgICAgICB1aW50MjU2IF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9Cn0KCgogICAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuIAogICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9CgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKCiAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICByZXF1aXJlKChfdmFsdWUgPT0gMCkgfHwgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKCiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9CgoKfQoKCmNvbnRyYWN0IERPV1Rva2VuIGlzIEJhc2ljVG9rZW4gewoKdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgpzdHJpbmcgcHVibGljIG5hbWUgPSAiRE9XIjsgICAgICAgICAgICAgICAgICAgICAgICAvL25hbWUgb2YgdGhlIHRva2VuCnN0cmluZyBwdWJsaWMgc3ltYm9sID0gImRvdyI7ICAgICAgICAgICAgICAgICAgICAgIC8vIHN5bWJvbCBvZiB0aGUgdG9rZW4KdWludDggcHVibGljIGRlY2ltYWxzID0gMTg7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVjaW1hbHMKdWludDI1NiBwdWJsaWMgaW5pdGlhbFN1cHBseSA9IDIwMDAwMDAwMDAgKiAxMCoqMTg7ICAvLyB0b3RhbCBzdXBwbHkgb2YgZG93IFRva2VucyAgCgovLyB2YXJpYWJsZXMKdWludDI1NiBwdWJsaWMgZm91bmRlcnNBbGxvY2F0aW9uOyAgICAgICAgICAgICAgICAgIC8vIGZ1bmQgYWxsb2NhdGVkIHRvIGZvdW5kZXJzCnVpbnQyNTYgcHVibGljIGRldkFsbG9jYXRpb247ICAgICAgICAgICAgICAgICAgICAgICAvLyBmdW5kIGFsbG9jYXRlZCB0byBkZXZlbG9wZXJzIAp1aW50MjU2IHB1YmxpYyB0b3RhbEFsbG9jYXRlZFRva2VuczsgICAgICAgICAgICAgICAgLy8gdmFyaWFibGUgdG8ga2VlcCB0cmFjayBvZiBmdW5kcyBhbGxvY2F0ZWQKdWludDI1NiBwdWJsaWMgdG9rZW5zQWxsb2NhdGVkVG9Dcm93ZEZ1bmQ7ICAgICAgICAgIC8vIGZ1bmRzIGFsbG9jYXRlZCB0byBjcm93ZGZ1bmQKLy8gYWRkcmVzc2VzCgphZGRyZXNzIHB1YmxpYyBmb3VuZGVyTXVsdGlTaWdBZGRyZXNzOyAgICAgICAgICAgICAgLy8gTXVsdGkgc2lnbiBhZGRyZXNzIG9mIGZvdW5kZXJzIHdoaWNoIGhvbGQgCmFkZHJlc3MgcHVibGljIGRldlRlYW1BZGRyZXNzOyAgICAgICAgICAgICAgICAgICAgICAvLyBEZXZlbG9wZW1udCB0ZWFtIGFkZHJlc3Mgd2hpY2ggaG9sZCBkZXZBbGxvY2F0aW9uIGZ1bmRzCmFkZHJlc3MgcHVibGljIGNyb3dkRnVuZEFkZHJlc3M7ICAgICAgICAgICAgICAgICAgICAvLyBBZGRyZXNzIG9mIGNyb3dkZnVuZCBjb250cmFjdAoKCgovL2V2ZW50cwoKZXZlbnQgQ2hhbmdlRm91bmRlcnNXYWxsZXRBZGRyZXNzKHVpbnQyNTYgIF9ibG9ja1RpbWVTdGFtcCwgYWRkcmVzcyBpbmRleGVkIF9mb3VuZGVyc1dhbGxldEFkZHJlc3MpOwoKLy9tb2RpZmllcnMKCiAgbW9kaWZpZXIgb25seUNyb3dkRnVuZEFkZHJlc3MoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gY3Jvd2RGdW5kQWRkcmVzcyk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgbm9uWmVyb0FkZHJlc3MoYWRkcmVzcyBfdG8pIHsKICAgIHJlcXVpcmUoX3RvICE9IDB4MCk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgb25seUZvdW5kZXJzKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGZvdW5kZXJNdWx0aVNpZ0FkZHJlc3MpOwogICAgXzsKICB9CgogIAogICAvLyBjcmVhdGlvbiBvZiB0aGUgdG9rZW4gY29udHJhY3QgCiAgIGZ1bmN0aW9uIERPV1Rva2VuIChhZGRyZXNzIF9jcm93ZEZ1bmRBZGRyZXNzLCBhZGRyZXNzIF9mb3VuZGVyTXVsdGlTaWdBZGRyZXNzLCBhZGRyZXNzIF9kZXZUZWFtQWRkcmVzcykgewogICAgY3Jvd2RGdW5kQWRkcmVzcyA9IF9jcm93ZEZ1bmRBZGRyZXNzOwogICAgZm91bmRlck11bHRpU2lnQWRkcmVzcyA9IF9mb3VuZGVyTXVsdGlTaWdBZGRyZXNzOwogICAgZGV2VGVhbUFkZHJlc3MgPSBfZGV2VGVhbUFkZHJlc3M7CgogICAgLy8gVG9rZW4gRGlzdHJpYnV0aW9uIAogICAgZm91bmRlcnNBbGxvY2F0aW9uID0gNTAgKiAxMCAqKiAyNTsgICAgICAgICAgICAgICAvLyAyNSAlIGFsbG9jYXRpb24gb2YgaW5pdGlhbFN1cHBseSAKICAgIGRldkFsbG9jYXRpb24gPSAzMCAqIDEwICoqIDI1OyAgICAgICAgICAgICAgICAgICAgLy8gMTUgJSBhbGxvY2F0aW9uIG9mIGluaXRpYWxTdXBwbHkgCiAgICB0b2tlbnNBbGxvY2F0ZWRUb0Nyb3dkRnVuZCA9IDEyMCAqIDEwICoqIDI1OyAgICAgIC8vIDYwICUgYWxsb2NhdGlvbiBvZiBpbml0aWFsU3VwcGx5CiAgIAogICAgLy8gQXNzaWduZWQgYmFsYW5jZXMgdG8gcmVzcGVjdGl2ZSBzdGFrZWhvbGRlcnMKICAgIGJhbGFuY2VzW2ZvdW5kZXJNdWx0aVNpZ0FkZHJlc3NdID0gZm91bmRlcnNBbGxvY2F0aW9uOwogICAgYmFsYW5jZXNbZGV2VGVhbUFkZHJlc3NdID0gZGV2QWxsb2NhdGlvbjsKICAgIGJhbGFuY2VzW2Nyb3dkRnVuZEFkZHJlc3NdID0gdG9rZW5zQWxsb2NhdGVkVG9Dcm93ZEZ1bmQ7CgogICAgdG90YWxBbGxvY2F0ZWRUb2tlbnMgPSBiYWxhbmNlc1tmb3VuZGVyTXVsdGlTaWdBZGRyZXNzXSArIGJhbGFuY2VzW2RldlRlYW1BZGRyZXNzXTsKICB9CgoKLy8gZnVuY3Rpb24gdG8ga2VlcCB0cmFjayBvZiB0aGUgdG90YWwgdG9rZW4gYWxsb2NhdGlvbgogIGZ1bmN0aW9uIGFkZFRvQWxsb2NhdGlvbih1aW50MjU2IF9hbW91bnQpIG9ubHlDcm93ZEZ1bmRBZGRyZXNzIHsKICAgIHRvdGFsQWxsb2NhdGVkVG9rZW5zID0gdG90YWxBbGxvY2F0ZWRUb2tlbnMuYWRkKF9hbW91bnQpOwogIH0KCi8vIGZ1bmN0aW9uIHRvIGNoYW5nZSBmb3VuZGVyIG11bHRpc2lnIHdhbGxldCBhZGRyZXNzICAgICAgICAgICAgCiAgZnVuY3Rpb24gY2hhbmdlRm91bmRlck11bHRpU2lnQWRkcmVzcyhhZGRyZXNzIF9uZXdGb3VuZGVyTXVsdGlTaWdBZGRyZXNzKSBvbmx5Rm91bmRlcnMgbm9uWmVyb0FkZHJlc3MoX25ld0ZvdW5kZXJNdWx0aVNpZ0FkZHJlc3MpIHsKICAgIGZvdW5kZXJNdWx0aVNpZ0FkZHJlc3MgPSBfbmV3Rm91bmRlck11bHRpU2lnQWRkcmVzczsKICAgIENoYW5nZUZvdW5kZXJzV2FsbGV0QWRkcmVzcyhub3csIGZvdW5kZXJNdWx0aVNpZ0FkZHJlc3MpOwogIH0KCi8vIGZhbGxiYWNrIGZ1bmN0aW9uIHRvIHJlc3RyaWN0IGRpcmVjdCBzZW5kaW5nIG9mIGV0aGVyCiAgZnVuY3Rpb24gKCkgewogICAgcmV2ZXJ0KCk7CiAgfQoKfQoKCmNvbnRyYWN0IERPV0Nyb3dkZnVuZCB7CgogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CiAgICAKICAgIERPV1Rva2VuIHB1YmxpYyB0b2tlbjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUb2tlbiBjb250cmFjdCByZWZlcmVuY2UKCiAgICAvL3ZhcmlhYmxlcwogICAgdWludDI1NiBwdWJsaWMgY3Jvd2RmdW5kU3RhcnRUaW1lOyAgICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0aW5nIHRpbWUgb2YgQ3Jvd2RGdW5kCiAgICB1aW50MjU2IHB1YmxpYyBjcm93ZGZ1bmRFbmRUaW1lOyAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5kIHRpbWUgb2YgQ3Jvd2RmdW5kCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFdlaVJhaXNlZDsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ291bnRlciB0byB0cmFjayB0aGUgYW1vdW50IHJhaXNlZAogICAgdWludDI1NiBwdWJsaWMgd2Vla09uZVJhdGUgPSAzMDAwOyAgICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZWQgdXNpbmcgcHJpY2VPZkV0aGVySW5VU0QvcHJpY2VPZkRPV1Rva2VuIAogICAgdWludDI1NiBwdWJsaWMgd2Vla1R3b1JhdGUgPSAyMDAwOyAgICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZWQgdXNpbmcgcHJpY2VPZkV0aGVySW5VU0QvcHJpY2VPZkRPV1Rva2VuIAogICAgdWludDI1NiBwdWJsaWMgd2Vla1RocmVlUmF0ZSA9IDE1MDA7ICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZWQgdXNpbmcgcHJpY2VPZkV0aGVySW5VU0QvcHJpY2VPZkRPV1Rva2VuIAogICAgdWludDI1NiBwdWJsaWMgd2Vla0ZvdXJ0aFJhdGUgPSAxMjAwOyAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZWQgdXNpbmcgcHJpY2VPZkV0aGVySW5VU0QvcHJpY2VPZkRPV1Rva2VuIAogICAgdWludDI1NiBtaW5pbXVtRnVuZGluZ0dvYWwgPSA1MDAwICogMSBldGhlcjsgICAgICAgICAgIC8vIE1pbmltdW0gYW1vdW50IG9mIGV0aGVycyByZXF1aXJlZCBmb3IgYSBzdWNjZXNzIG9mIHRoZSBjcm93ZHNhbGUKICAgIHVpbnQyNTYgTUFYX0ZVTkRJTkdfR09BTCA9IDQwMDAwMCAqIDEgZXRoZXI7ICAgICAgICAgICAvLyBNYXhpbXVtIGFtb3VudCBvZiBldGhlcnMgY2FuIGludmVzdGVkIGluIHRoZSBjcm93ZHNhbGUKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsRG93U29sZCA9IDA7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lciA9IDB4MDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkcmVzcyBvZiB0aGUgb3duZXIgb3IgdGhlIGRlcGxveWVyIAoKICAgIGJvb2wgIGludGVybmFsIGlzVG9rZW5EZXBsb3llZCA9IGZhbHNlOyAgICAgICAgICAgICAgICAvLyBGbGFnIHRvIHRyYWNrIHRoZSB0b2tlbiBkZXBsb3ltZW50IC0tIG9ubHkgY2FuIGJlIHNldCBvbmNlCgogICAgLy8gYWRkcmVzc2VzCiAgICBhZGRyZXNzIHB1YmxpYyBmb3VuZGVyTXVsdGlTaWdBZGRyZXNzOyAgICAgICAgICAgICAgICAgLy8gRm91bmRlcnMgbXVsdGlzaWcgYWRkcmVzcwogICAgYWRkcmVzcyBwdWJsaWMgcmVtYWluaW5nVG9rZW5Ib2xkZXI7ICAgICAgICAgICAgICAgICAgIC8vIFJlbWFpbmluZyB0b2tlbiBob2xkZXIgYWRkcmVzcwogICAgLy9ldmVudHMKICAgIGV2ZW50IFRva2VuUHVyY2hhc2UoYWRkcmVzcyBpbmRleGVkIGJlbmVmaWNpYXJ5LCB1aW50MjU2IHZhbHVlLCB1aW50MjU2IGFtb3VudCk7IAogICAgZXZlbnQgQ3Jvd2RGdW5kQ2xvc2VkKHVpbnQyNTYgX2Jsb2NrVGltZVN0YW1wKTsKICAgIGV2ZW50IENoYW5nZUZvdW5kZXJzV2FsbGV0QWRkcmVzcyh1aW50MjU2IF9ibG9ja1RpbWVTdGFtcCwgYWRkcmVzcyBpbmRleGVkIF9mb3VuZGVyc1dhbGxldEFkZHJlc3MpOwogICAKICAgIC8vTW9kaWZpZXJzCiAgICBtb2RpZmllciB0b2tlbklzRGVwbG95ZWQoKSB7CiAgICAgICAgcmVxdWlyZShpc1Rva2VuRGVwbG95ZWQgPT0gdHJ1ZSk7CiAgICAgICAgXzsKICAgIH0KICAgICBtb2RpZmllciBub25aZXJvRXRoKCkgewogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID4gMCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBub25aZXJvQWRkcmVzcyhhZGRyZXNzIF90bykgewogICAgICAgIHJlcXVpcmUoX3RvICE9IDB4MCk7CiAgICAgICAgXzsKICAgIH0KCgogICAgbW9kaWZpZXIgb25seUZvdW5kZXJzKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBmb3VuZGVyTXVsdGlTaWdBZGRyZXNzKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlQdWJsaWMoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyICE9IGZvdW5kZXJNdWx0aVNpZ0FkZHJlc3MpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgaXNCZXR3ZWVuKCkgewogICAgICAgIHJlcXVpcmUobm93ID49IGNyb3dkZnVuZFN0YXJ0VGltZSAmJiBub3cgPD0gY3Jvd2RmdW5kRW5kVGltZSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vIENvbnN0cnVjdG9yIHRvIGluaXRpYWxpemUgdGhlIGxvY2FsIHZhcmlhYmxlcyAKICAgIGZ1bmN0aW9uIERPV0Nyb3dkZnVuZCAoYWRkcmVzcyBfZm91bmRlcldhbGxldEFkZHJlc3MsIGFkZHJlc3MgX3JlbWFpbmluZ1Rva2VuSG9sZGVyKSB7CiAgICAgICAgZm91bmRlck11bHRpU2lnQWRkcmVzcyA9IF9mb3VuZGVyV2FsbGV0QWRkcmVzczsKICAgICAgICByZW1haW5pbmdUb2tlbkhvbGRlciA9IF9yZW1haW5pbmdUb2tlbkhvbGRlcjsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgY3Jvd2RmdW5kU3RhcnRUaW1lID0gMTUxMDI3MjAwMTsgIC8vRnJpZGF5LCAxMC1Ob3YtMTcgMDA6MDA6MDEgVVRDIAogICAgICAgIGNyb3dkZnVuZEVuZFRpbWUgPSAxNTEyOTUwMzk5OyAgICAvL1N1bmRheSwgMTAtRGVjLTE3IDIzOjU5OjU5IFVUQyAKICAgIH0KCgogICAgLy8gRnVuY3Rpb24gdG8gY2hhbmdlIHRoZSBmb3VuZGVycyBtdWx0aXNpZyBhZGRyZXNzIAogICAgZnVuY3Rpb24gQ2hhbmdlRm91bmRlck11bHRpU2lnQWRkcmVzcyhhZGRyZXNzIF9uZXdGb3VuZGVyQWRkcmVzcykgb25seUZvdW5kZXJzIG5vblplcm9BZGRyZXNzKF9uZXdGb3VuZGVyQWRkcmVzcykgewogICAgICAgIGZvdW5kZXJNdWx0aVNpZ0FkZHJlc3MgPSBfbmV3Rm91bmRlckFkZHJlc3M7CiAgICAgICAgQ2hhbmdlRm91bmRlcnNXYWxsZXRBZGRyZXNzKG5vdywgZm91bmRlck11bHRpU2lnQWRkcmVzcyk7CiAgICB9CgogICAgLy8gQXR0YWNoIHRoZSB0b2tlbiBjb250cmFjdCwgY2FuIG9ubHkgYmUgZG9uZSBvbmNlICAgICAKICAgIGZ1bmN0aW9uIHNldFRva2VuQWRkcmVzcyhhZGRyZXNzIF90b2tlbkFkZHJlc3MpIGV4dGVybmFsIG9ubHlPd25lciBub25aZXJvQWRkcmVzcyhfdG9rZW5BZGRyZXNzKSB7CiAgICAgICAgcmVxdWlyZShpc1Rva2VuRGVwbG95ZWQgPT0gZmFsc2UpOwogICAgICAgIHRva2VuID0gRE9XVG9rZW4oX3Rva2VuQWRkcmVzcyk7CiAgICAgICAgaXNUb2tlbkRlcGxveWVkID0gdHJ1ZTsKICAgIH0KCgogICAgLy8gZnVuY3Rpb24gY2FsbCBhZnRlciBjcm93ZEZ1bmRFbmRUaW1lLgogICAgLy8gSXQgdHJhbnNmZXJzIHRoZSByZW1haW5pbmcgdG9rZW5zIHRvIHJlbWFpbmluZ1Rva2VuSG9sZGVyIGFkZHJlc3MKICAgIGZ1bmN0aW9uIGVuZENyb3dkZnVuZCgpIG9ubHlGb3VuZGVycyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShub3cgPiBjcm93ZGZ1bmRFbmRUaW1lKTsKICAgICAgICB1aW50MjU2IHJlbWFpbmluZ1Rva2VuID0gdG9rZW4uYmFsYW5jZU9mKHRoaXMpOyAgLy8gcmVtYWluaW5nIHRva2VucwoKICAgICAgICBpZiAocmVtYWluaW5nVG9rZW4gIT0gMCkgewogICAgICAgICAgdG9rZW4udHJhbnNmZXIocmVtYWluaW5nVG9rZW5Ib2xkZXIsIHJlbWFpbmluZ1Rva2VuKTsgCiAgICAgICAgICBDcm93ZEZ1bmRDbG9zZWQobm93KTsKICAgICAgICAgIHJldHVybiB0cnVlOyAKICAgICAgICB9IAogICAgICAgIENyb3dkRnVuZENsb3NlZChub3cpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgIAogICAgfQoKICAgIC8vIEJ1eSB0b2tlbiBmdW5jdGlvbiBjYWxsIG9ubHkgaW4gZHVyYXRpb24gb2YgY3Jvd2RmdW5kIGFjdGl2ZSAKICAgIGZ1bmN0aW9uIGJ1eVRva2VucyhhZGRyZXNzIGJlbmVmaWNpYXJ5KSAKICAgIG5vblplcm9FdGggCiAgICB0b2tlbklzRGVwbG95ZWQgCiAgICBvbmx5UHVibGljCiAgICBpc0JldHdlZW4gCiAgICBub25aZXJvQWRkcmVzcyhiZW5lZmljaWFyeSkgCiAgICBwYXlhYmxlIAogICAgcmV0dXJucyhib29sKSAKICAgIHsKICAgICAgICBpZiAodG90YWxXZWlSYWlzZWQuYWRkKG1zZy52YWx1ZSkgPiBNQVhfRlVORElOR19HT0FMKSAKICAgICAgICAgICAgcmV2ZXJ0KCk7CgogICAgICAgICAgICBmdW5kVHJhbnNmZXIobXNnLnZhbHVlKTsKICAgICAgICAgICAgdWludDI1NiBhbW91bnQgPSBnZXROb09mVG9rZW5zKG1zZy52YWx1ZSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAodG9rZW4udHJhbnNmZXIoYmVuZWZpY2lhcnksIGFtb3VudCkpIHsKICAgICAgICAgICAgICAgIHRva2VuLmFkZFRvQWxsb2NhdGlvbihhbW91bnQpOyAKICAgICAgICAgICAgICAgIHRvdGFsRG93U29sZCA9IHRvdGFsRG93U29sZC5hZGQoYW1vdW50KTsKICAgICAgICAgICAgICAgIHRvdGFsV2VpUmFpc2VkID0gdG90YWxXZWlSYWlzZWQuYWRkKG1zZy52YWx1ZSk7CiAgICAgICAgICAgICAgICBUb2tlblB1cmNoYXNlKGJlbmVmaWNpYXJ5LCBtc2cudmFsdWUsIGFtb3VudCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfSAKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAvLyBmdW5jdGlvbiB0byB0cmFuc2ZlciB0aGUgZnVuZHMgdG8gZm91bmRlcnMgYWNjb3VudAogICAgZnVuY3Rpb24gZnVuZFRyYW5zZmVyKHVpbnQyNTYgd2VpQW1vdW50KSBpbnRlcm5hbCB7CiAgICAgICAgZm91bmRlck11bHRpU2lnQWRkcmVzcy50cmFuc2Zlcih3ZWlBbW91bnQpOwogICAgfQoKLy8gR2V0IGZ1bmN0aW9ucwoKICAgIC8vIGZ1bmN0aW9uIHByb3ZpZGUgdGhlIHRva2VuCiAgICBmdW5jdGlvbiBnZXROb09mVG9rZW5zKHVpbnQyNTYgaW52ZXN0ZWRBbW91bnQpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAKICAgICAgICBpZiAoIG5vdyA+IGNyb3dkZnVuZFN0YXJ0VGltZSArIDMgd2Vla3MgJiYgbm93IDwgY3Jvd2RmdW5kRW5kVGltZSkgewogICAgICAgICAgICByZXR1cm4gIGludmVzdGVkQW1vdW50Lm11bCh3ZWVrRm91cnRoUmF0ZSk7CiAgICAgICAgfQogICAgICAgIGlmIChub3cgPiBjcm93ZGZ1bmRTdGFydFRpbWUgKyAyIHdlZWtzKSB7CiAgICAgICAgICAgIHJldHVybiBpbnZlc3RlZEFtb3VudC5tdWwod2Vla1RocmVlUmF0ZSk7CiAgICAgICAgfQogICAgICAgIGlmIChub3cgPiBjcm93ZGZ1bmRTdGFydFRpbWUgKyAxIHdlZWtzKSB7CiAgICAgICAgICAgIHJldHVybiBpbnZlc3RlZEFtb3VudC5tdWwod2Vla1R3b1JhdGUpOwogICAgICAgIH0KICAgICAgICBpZiAobm93ID4gY3Jvd2RmdW5kU3RhcnRUaW1lKSB7CiAgICAgICAgICAgIHJldHVybiBpbnZlc3RlZEFtb3VudC5tdWwod2Vla09uZVJhdGUpOwogICAgICAgIH0KICAgIH0KCiAgICAKICAgIC8vIENyb3dkZnVuZCBlbnRyeQogICAgLy8gc2VuZCBldGhlciB0byB0aGUgY29udHJhY3QgYWRkcmVzcwogICAgLy8gV2l0aCBhdCBsZWFzdCAyMDAgMDAwIGdhcwogICAgZnVuY3Rpb24oKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgYnV5VG9rZW5zKG1zZy5zZW5kZXIpOwogICAgfQp9'.
	

]
