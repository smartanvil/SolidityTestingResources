Class {
	#name : #SRT8a7041e2d84ac0425aca4077ff5041bebaeb8168,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT8a7041e2d84ac0425aca4077ff5041bebaeb8168 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKCgkvKioKCSogQGRldiBNdWx0aXBsaWVzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCgkqLwoJZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKCQlpZiAoYSA9PSAwKSB7CgkJCXJldHVybiAwOwoJCX0KCQl1aW50MjU2IGMgPSBhICogYjsKCQlhc3NlcnQoYyAvIGEgPT0gYik7CgkJcmV0dXJuIGM7Cgl9CgoJLyoqCgkqIEBkZXYgSW50ZWdlciBkaXZpc2lvbiBvZiB0d28gbnVtYmVycywgdHJ1bmNhdGluZyB0aGUgcXVvdGllbnQuCgkqLwoJZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKCQkvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKCQl1aW50MjU2IGMgPSBhIC8gYjsKCQkvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAoJCXJldHVybiBjOwoJfQoKCS8qKgoJKiBAZGV2IFN1YnN0cmFjdHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdyAoaS5lLiBpZiBzdWJ0cmFoZW5kIGlzIGdyZWF0ZXIgdGhhbiBtaW51ZW5kKS4KCSovCglmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewoJCWFzc2VydChiIDw9IGEpOwoJCXJldHVybiBhIC0gYjsKCX0KCgkvKioKCSogQGRldiBBZGRzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCgkqLwoJZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKCQl1aW50MjU2IGMgPSBhICsgYjsKCQlhc3NlcnQoYyA+PSBhKTsKCQlyZXR1cm4gYzsKCX0KfQoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewoJYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoJZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgoJLyoqCgkgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKCSAqIGFjY291bnQuCgkgKi8KCWZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewoJCW93bmVyID0gbXNnLnNlbmRlcjsKCX0KCgkvKioKCSAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KCSAqLwoJbW9kaWZpZXIgb25seU93bmVyKCkgewoJCXJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CgkJXzsKCX0KCgkvKioKCSAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCgkgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgoJICovCglmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKCQlyZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwoJCU93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CgkJb3duZXIgPSBuZXdPd25lcjsKCX0KCn0KCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CglmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwoJZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKCWZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKCWV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewoJZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CglmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CglmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwoJZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewoJdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgoJbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKCXVpbnQyNTYgdG90YWxTdXBwbHlfOwoKCS8qKgoJKiBAZGV2IHRvdGFsIG51bWJlciBvZiB0b2tlbnMgaW4gZXhpc3RlbmNlCgkqLwoJZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CgkJcmV0dXJuIHRvdGFsU3VwcGx5XzsKCX0KCgkvKioKCSogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwoJKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgoJKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCgkqLwoJZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewoJCXJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoJCXJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKCgkJLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgoJCWJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CgkJYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CgkJVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwoJCXJldHVybiB0cnVlOwoJfQoKCS8qKgoJKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgoJKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KCSogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KCSovCglmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewoJCXJldHVybiBiYWxhbmNlc1tfb3duZXJdOwoJfQoKfQoKCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKCW1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgaW50ZXJuYWwgYWxsb3dlZDsKCgoJLyoqCgkgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKCSAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KCSAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwoJICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCgkgKi8KCWZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CgkJcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CgkJcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbX2Zyb21dKTsKCQlyZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CgoJCWJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKCQliYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKCQlhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwoJCVRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CgkJcmV0dXJuIHRydWU7Cgl9CgoJLyoqCgkgKiBAZGV2IEFwcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KCSAqCgkgKiBCZXdhcmUgdGhhdCBjaGFuZ2luZyBhbiBhbGxvd2FuY2Ugd2l0aCB0aGlzIG1ldGhvZCBicmluZ3MgdGhlIHJpc2sgdGhhdCBzb21lb25lIG1heSB1c2UgYm90aCB0aGUgb2xkCgkgKiBhbmQgdGhlIG5ldyBhbGxvd2FuY2UgYnkgdW5mb3J0dW5hdGUgdHJhbnNhY3Rpb24gb3JkZXJpbmcuIE9uZSBwb3NzaWJsZSBzb2x1dGlvbiB0byBtaXRpZ2F0ZSB0aGlzCgkgKiByYWNlIGNvbmRpdGlvbiBpcyB0byBmaXJzdCByZWR1Y2UgdGhlIHNwZW5kZXIncyBhbGxvd2FuY2UgdG8gMCBhbmQgc2V0IHRoZSBkZXNpcmVkIHZhbHVlIGFmdGVyd2FyZHM6CgkgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQoJICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgoJICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KCSAqLwoJZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKCQlhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKCQlBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKCQlyZXR1cm4gdHJ1ZTsKCX0KCgkvKioKCSAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KCSAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KCSAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgoJICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmeWluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgoJICovCglmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKCQlyZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKCX0KCgkvKioKCSAqIEBkZXYgSW5jcmVhc2UgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KCSAqCgkgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKCSAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsCgkgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCgkgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAoJICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgoJICogQHBhcmFtIF9hZGRlZFZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGluY3JlYXNlIHRoZSBhbGxvd2FuY2UgYnkuCgkgKi8KCWZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKCQlhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CgkJQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKCQlyZXR1cm4gdHJ1ZTsKCX0KCgkvKioKCSAqIEBkZXYgRGVjcmVhc2UgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KCSAqCgkgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBkZWNyZW1lbnQKCSAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsCgkgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCgkgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAoJICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgoJICogQHBhcmFtIF9zdWJ0cmFjdGVkVmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gZGVjcmVhc2UgdGhlIGFsbG93YW5jZSBieS4KCSAqLwoJZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CgkJdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwoJCWlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKCQkJYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwoJCX0gZWxzZSB7CgkJCWFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOwoJCX0KCQlBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwoJCXJldHVybiB0cnVlOwoJfQoKfQoKLyoqCiAqIEB0aXRsZSBTZWJhc3RpYW4KICogQGRldiBWZXJ5IHNpbXBsZSBFUkMyMCBUb2tlbiBleGFtcGxlLCB3aGVyZSBhbGwgdG9rZW5zIGFyZSBwcmUtYXNzaWduZWQgdG8gdGhlIGNyZWF0b3IuCiAqIE5vdGUgdGhleSBjYW4gbGF0ZXIgZGlzdHJpYnV0ZSB0aGVzZSB0b2tlbnMgYXMgdGhleSB3aXNoIHVzaW5nIGB0cmFuc2ZlcmAgYW5kIG90aGVyCiAqIGBTdGFuZGFyZFRva2VuYCBmdW5jdGlvbnMuCiAqLwpjb250cmFjdCBTZWJhc3RpYW5Ub2tlbiBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKCXVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKCXN0cmluZyBwdWJsaWMgbmFtZSA9ICJTZWJhc3RpYW4iOwoJc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiU0VCIjsKCXVpbnQyNTYgcHVibGljIGRlY2ltYWxzID0gNTsKCgl1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseSA9IDEwMDAwMDAwMDAgKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpOwoKCS8qKgoJICogQGRldiBDb25zdHJ1Y3RvciB0aGF0IGdpdmVzIG1zZy5zZW5kZXIgYWxsIG9mIGV4aXN0aW5nIHRva2Vucy4KCSAqLwoJZnVuY3Rpb24gU2ViYXN0aWFuVG9rZW4oc3RyaW5nIF9uYW1lLCBzdHJpbmcgX3N5bWJvbCwgdWludDI1NiBfZGVjaW1hbHMsIHVpbnQyNTYgX3RvdGFsU3VwcGx5KSBwdWJsaWMgewoJCW5hbWUgPSBfbmFtZTsKCQlzeW1ib2wgPSBfc3ltYm9sOwoJCWRlY2ltYWxzID0gX2RlY2ltYWxzOwoJCXRvdGFsU3VwcGx5ID0gX3RvdGFsU3VwcGx5OwoKCQl0b3RhbFN1cHBseV8gPSBfdG90YWxTdXBwbHk7CgkJYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSB0b3RhbFN1cHBseTsKCX0KCgkvKioKCSAqIEBkZXYgaWYgZXRoZXIgaXMgc2VudCB0byB0aGlzIGFkZHJlc3MsIHNlbmQgaXQgYmFjay4KCSAqLwoJZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewoJCXJldmVydCgpOwoJfQp9CgovKioKICogQHRpdGxlIFNlYmFzdGlhblRva2VuU2FsZQogKiBAZGV2IElDTyBDb250cmFjdAogKi8KY29udHJhY3QgU2ViYXN0aWFuVG9rZW5TYWxlIGlzIE93bmFibGUgewoKCXVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKCS8vIFRoZSB0b2tlbiBiZWluZyBzb2xkLCB0aGlzIGhvbGRzIHJlZmVyZW5jZSB0byBtYWluIHRva2VuIGNvbnRyYWN0CglTZWJhc3RpYW5Ub2tlbiBwdWJsaWMgdG9rZW47CgoJLy8gdGltZXN0YW1wIHdoZW4gc2FsZSBzdGFydHMKCXVpbnQyNTYgcHVibGljIHN0YXJ0aW5nVGltZXN0YW1wID0gMTUxODY5NjAwMDsKCgkvLyB0aW1lc3RhbXAgd2hlbiBzYWxlIGVuZHMKCXVpbnQyNTYgcHVibGljIGVuZGluZ1RpbWVzdGFtcCA9IDE1MjExMTUyMDA7CgoJLy8gaG93IG1hbnkgdG9rZW4gdW5pdHMgYSBidXllciBnZXRzIHBlciBldGhlcgoJdWludDI1NiBwdWJsaWMgdG9rZW5QcmljZUluRXRoID0gMC4wMDAxIGV0aGVyOwoKCS8vIGFtb3VudCBvZiB0b2tlbiB0byBiZSBzb2xkIG9uIHNhbGUKCXVpbnQyNTYgcHVibGljIHRva2Vuc0ZvclNhbGUgPSA0MDAwMDAwMDAgKiAxRTU7CgoJLy8gYW1vdW50IG9mIHRva2VuIHNvbGQgc28gZmFyCgl1aW50MjU2IHB1YmxpYyB0b3RhbFRva2VuU29sZDsKCgkvLyBhbW91bnQgb2YgZXRoZXIgcmFpc2VkIGluIHNhbGUKCXVpbnQyNTYgcHVibGljIHRvdGFsRXRoZXJSYWlzZWQ7CgoJLy8gZXRoZXIgcmFpc2VkIHBlciB3YWxsZXQKCW1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgZXRoZXJSYWlzZWRQZXJXYWxsZXQ7CgoJLy8gd2FsbGV0IHdoaWNoIHdpbGwgcmVjZWl2ZSB0aGUgZXRoZXIgZnVuZGluZwoJYWRkcmVzcyBwdWJsaWMgd2FsbGV0OwoKCS8vIGlzIGNvbnRyYWN0IGNsb3NlIGFuZCBlbmRlZAoJYm9vbCBpbnRlcm5hbCBpc0Nsb3NlID0gZmFsc2U7CgoJLy8gd2FsbGV0IGNoYW5nZWQKCWV2ZW50IFdhbGxldENoYW5nZShhZGRyZXNzIF93YWxsZXQsIHVpbnQyNTYgX3RpbWVzdGFtcCk7CgoJLy8gdG9rZW4gcHVyY2hhc2UgZXZlbnQKCWV2ZW50IFRva2VuUHVyY2hhc2UoYWRkcmVzcyBpbmRleGVkIF9wdXJjaGFzZXIsIGFkZHJlc3MgaW5kZXhlZCBfYmVuZWZpY2lhcnksIHVpbnQyNTYgX3ZhbHVlLCB1aW50MjU2IF9hbW91bnQsIHVpbnQyNTYgX3RpbWVzdGFtcCk7CgoJLy8gbWFudWFsIHRyYW5zZmVyIGJ5IG93bmVyIGZvciBleHRlcm5hbCBwdXJjaGFzZQoJZXZlbnQgVHJhbnNmZXJNYW51YWwoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSwgc3RyaW5nIF9tZXNzYWdlKTsKCgkvKioKCSAqIEBkZXYgQ29uc3RydWN0b3IgdGhhdCBpbml0aWFsaXplcyB0b2tlbiBjb250cmFjdCB3aXRoIHRva2VuIGFkZHJlc3MgaW4gcGFyYW1ldGVyCgkgKgoJICogQHBhcmFtIF90b2tlbiBBZGRyZXNzIG9mIFRva2VuIENvbnRyYWN0CgkgKiBAcGFyYW0gX3N0YXJ0aW5nVGltZXN0YW1wIFN0YXJ0IHRpbWUgb2YgU2FsZSBpbiBUaW1lc3RhbXAuCgkgKiBAcGFyYW0gX2VuZGluZ1RpbWVzdGFtcCBFbmQgdGltZSBvZiBTYWxlIGluIFRpbWVzdGFtcC4KCSAqIEBwYXJhbSBfdG9rZW5zUGVyRXRoIE51bWJlciBvZiBUb2tlbnMgdG8gY29udmVydCBwZXIgMSBFVEguCgkgKiBAcGFyYW0gX3Rva2Vuc0ZvclNhbGUgTnVtYmVyIG9mIFRva2VucyBhdmFpbGFibGUgZm9yIHNhbGUuCgkgKiBAcGFyYW0gX3dhbGxldCBCYWNrdXAgV2FsbGV0IEFkZHJlc3Mgd2hlcmUgZnVuZHMgc2hvdWxkIGJlIHRyYW5zZmVyZWQgd2hlbiBjb250cmFjdCBpcyBjbG9zZWQgb3IgT3duZXIgd2FudHMgdG8gV2l0aGRyYXcuCgkgKgoJICovCglmdW5jdGlvbiBTZWJhc3RpYW5Ub2tlblNhbGUoYWRkcmVzcyBfdG9rZW4sIHVpbnQyNTYgX3N0YXJ0aW5nVGltZXN0YW1wLCB1aW50MjU2IF9lbmRpbmdUaW1lc3RhbXAsIHVpbnQyNTYgX3Rva2Vuc1BlckV0aCwgdWludDI1NiBfdG9rZW5zRm9yU2FsZSwgYWRkcmVzcyBfd2FsbGV0KSBwdWJsaWMgewoJCS8vIHNldCB0b2tlbgoJCXRva2VuID0gU2ViYXN0aWFuVG9rZW4oX3Rva2VuKTsKCgkJc3RhcnRpbmdUaW1lc3RhbXAgPSBfc3RhcnRpbmdUaW1lc3RhbXA7CgkJZW5kaW5nVGltZXN0YW1wID0gX2VuZGluZ1RpbWVzdGFtcDsKCQl0b2tlblByaWNlSW5FdGggPSAgMUUxOCAvIF90b2tlbnNQZXJFdGg7IC8vIENhbGN1bGF0aW5nIFByaWNlIG9mIDEgVG9rZW4gaW4gRVRIIAoJCXRva2Vuc0ZvclNhbGUgPSBfdG9rZW5zRm9yU2FsZTsKCgkJLy8gc2V0IHdhbGxldAoJCXdhbGxldCA9IF93YWxsZXQ7Cgl9CgoJLyoqCgkgKiBAZGV2IEZ1bmN0aW9uIHRoYXQgdmFsaWRhdGVzIGlmIHRoZSBwdXJjaGFzZSBpcyB2YWxpZCBieSB2ZXJpZnlpbmcgdGhlIHBhcmFtZXRlcnMKCSAqCgkgKiBAcGFyYW0gdmFsdWUgQW1vdW50IG9mIGV0aGVycyBzZW50CgkgKiBAcGFyYW0gYW1vdW50IFRvdGFsIG51bWJlciBvZiB0b2tlbnMgdXNlciBpcyB0cnlpbmcgdG8gYnV5LgoJICoKCSAqIEByZXR1cm4gY2hlY2tzIHZhcmlvdXMgY29uZGl0aW9ucyBhbmQgcmV0dXJucyB0aGUgYm9vbCByZXN1bHQgaW5kaWNhdGluZyB2YWxpZGl0eS4KCSAqLwoJZnVuY3Rpb24gaXNWYWxpZFB1cmNoYXNlKHVpbnQyNTYgdmFsdWUsIHVpbnQyNTYgYW1vdW50KSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zIChib29sKSB7CgkJLy8gY2hlY2sgaWYgdGltZXN0YW1wIGlzIGZhbGxpbmcgaW4gdGhlIHJhbmdlCgkJYm9vbCB2YWxpZFRpbWVzdGFtcCA9IHN0YXJ0aW5nVGltZXN0YW1wIDw9IGJsb2NrLnRpbWVzdGFtcCAmJiBlbmRpbmdUaW1lc3RhbXAgPj0gYmxvY2sudGltZXN0YW1wOwoKCQkvLyBjaGVjayBpZiB2YWx1ZSBvZiB0aGUgZXRoZXIgaXMgdmFsaWQKCQlib29sIHZhbGlkVmFsdWUgPSB2YWx1ZSAhPSAwOwoKCQkvLyBjaGVjayBpZiByYXRlIG9mIHRoZSB0b2tlbiBpcyBjbGVhcmx5IGRlZmluZWQKCQlib29sIHZhbGlkUmF0ZSA9IHRva2VuUHJpY2VJbkV0aCA+IDA7CgoJCS8vIGNoZWNrIGlmIHRoZSB0b2tlbnMgYXZhaWxhYmxlIGluIGNvbnRyYWN0IGZvciBzYWxlCgkJYm9vbCB2YWxpZEFtb3VudCA9IHRva2Vuc0ZvclNhbGUuc3ViKHRvdGFsVG9rZW5Tb2xkKSA+PSBhbW91bnQgJiYgYW1vdW50ID4gMDsKCgkJLy8gdmFsaWRhdGUgaWYgYWxsIGNvbmRpdGlvbnMgYXJlIG1ldAoJCXJldHVybiB2YWxpZFRpbWVzdGFtcCAmJiB2YWxpZFZhbHVlICYmIHZhbGlkUmF0ZSAmJiB2YWxpZEFtb3VudCAmJiAhaXNDbG9zZTsKCX0KCgkKCS8qKgoJICogQGRldiBGdW5jdGlvbiB0aGF0IGFjY2VwdHMgZXRoZXIgdmFsdWUgYW5kIHJldHVybnMgdGhlIHRva2VuIGFtb3VudAoJICoKCSAqIEBwYXJhbSB2YWx1ZSBBbW91bnQgb2YgZXRoZXJzIHNlbnQKCSAqCgkgKiBAcmV0dXJuIGNoZWNrcyB2YXJpb3VzIGNvbmRpdGlvbnMgYW5kIHJldHVybnMgdGhlIGJvb2wgcmVzdWx0IGluZGljYXRpbmcgdmFsaWRpdHkuCgkgKi8KCWZ1bmN0aW9uIGNhbGN1bGF0ZSh1aW50MjU2IHZhbHVlKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewoJCXVpbnQyNTYgdG9rZW5EZWNpbWFscyA9IHRva2VuLmRlY2ltYWxzKCk7CgkJdWludDI1NiB0b2tlbnMgPSB2YWx1ZS5tdWwoMTAgKiogdG9rZW5EZWNpbWFscykuZGl2KHRva2VuUHJpY2VJbkV0aCk7CgkJcmV0dXJuIHRva2VuczsKCX0KCQoJLyoqCgkgKiBAZGV2IERlZmF1bHQgZmFsbGJhY2sgbWV0aG9kIHdoaWNoIHdpbGwgYmUgY2FsbGVkIHdoZW4gYW55IGV0aGVycyBhcmUgc2VudCB0byBjb250cmFjdAoJICovCglmdW5jdGlvbigpIHB1YmxpYyBwYXlhYmxlIHsKCQlidXlUb2tlbnMobXNnLnNlbmRlcik7Cgl9CgoJLyoqCgkgKiBAZGV2IEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIGVpdGhlciBleHRlcm5hbGx5IG9yIGJ5IGRlZmF1bHQgcGF5YWJsZSBtZXRob2QKCSAqCgkgKiBAcGFyYW0gYmVuZWZpY2lhcnkgd2hvIHNob3VsZCByZWNlaXZlIHRva2VucwoJICovCglmdW5jdGlvbiBidXlUb2tlbnMoYWRkcmVzcyBiZW5lZmljaWFyeSkgcHVibGljIHBheWFibGUgewoJCXJlcXVpcmUoYmVuZWZpY2lhcnkgIT0gYWRkcmVzcygwKSk7CgoJCS8vIGFtb3VudCBvZiBldGhlcnMgc2VudAoJCXVpbnQyNTYgdmFsdWUgPSBtc2cudmFsdWU7CgoJCS8vIGNhbGN1bGF0ZSB0b2tlbiBhbW91bnQgZnJvbSB0aGUgZXRoZXJzIHNlbnQKCQl1aW50MjU2IHRva2VucyA9IGNhbGN1bGF0ZSh2YWx1ZSk7CgoJCS8vIHZhbGlkYXRlIHRoZSBwdXJjaGFzZQoJCXJlcXVpcmUoaXNWYWxpZFB1cmNoYXNlKHZhbHVlICwgdG9rZW5zKSk7CgoJCS8vIHVwZGF0ZSB0aGUgc3RhdGUgdG8gbG9nIHRoZSBzb2xkIHRva2VucyBhbmQgcmFpc2VkIGV0aGVycy4KCQl0b3RhbFRva2VuU29sZCA9IHRvdGFsVG9rZW5Tb2xkLmFkZCh0b2tlbnMpOwoJCXRvdGFsRXRoZXJSYWlzZWQgPSB0b3RhbEV0aGVyUmFpc2VkLmFkZCh2YWx1ZSk7CgkJZXRoZXJSYWlzZWRQZXJXYWxsZXRbbXNnLnNlbmRlcl0gPSBldGhlclJhaXNlZFBlcldhbGxldFttc2cuc2VuZGVyXS5hZGQodmFsdWUpOwoKCQkvLyB0cmFuc2ZlciB0b2tlbnMgZnJvbSBjb250cmFjdCBiYWxhbmNlIHRvIGJlbmVmaWNpYXJ5IGFjY291bnQuIGNhbGxpbmcgRVJDMjIzIG1ldGhvZAoJCXRva2VuLnRyYW5zZmVyKGJlbmVmaWNpYXJ5LCB0b2tlbnMpOwoJCQoJCS8vIGxvZyBldmVudCBmb3IgdG9rZW4gcHVyY2hhc2UKCQlUb2tlblB1cmNoYXNlKG1zZy5zZW5kZXIsIGJlbmVmaWNpYXJ5LCB2YWx1ZSwgdG9rZW5zLCBub3cpOwoJfQoKCS8qKgoJKiBAZGV2IHRyYW5zbWl0IHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzLiAKCSogVGhpcyBpcyBvd25lciBvbmx5IG1ldGhvZCBhbmQgc2hvdWxkIGJlIGNhbGxlZCB1c2luZyB3ZWIzLmpzIGlmIHNvbWVvbmUgaXMgdHJ5aW5nIHRvIGJ1eSB0b2tlbiB1c2luZyBiaXRjb2luIG9yIGFueSBvdGhlciBhbHRjb2luLgoJKiAKCSogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc21pdCB0by4KCSogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgoJKiBAcGFyYW0gX21lc3NhZ2UgbWVzc2FnZSB0byBsb2cgYWZ0ZXIgdHJhbnNmZXIuCgkqLwoJZnVuY3Rpb24gdHJhbnNmZXJNYW51YWwoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlLCBzdHJpbmcgX21lc3NhZ2UpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewoJCXJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoKCQkvLyB0cmFuc2ZlciB0b2tlbnMgbWFudWFsbHkgZnJvbSBjb250cmFjdCBiYWxhbmNlCgkJdG9rZW4udHJhbnNmZXIoX3RvICwgX3ZhbHVlKTsKCQlUcmFuc2Zlck1hbnVhbChtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSwgX21lc3NhZ2UpOwoJCXJldHVybiB0cnVlOwoJfQoKCS8qKgoJKiBAZGV2IHdpdGhkcmF3IGZ1bmRzIAoJKiBUaGlzIHdpbGwgc2V0IHRoZSB3aXRoZHJhd2FsIHdhbGxldAoJKiAKCSogQHBhcmFtIF93YWxsZXQgVGhlIGFkZHJlc3MgdG8gdHJhbnNtaXQgdG8uCgkqLwkKCWZ1bmN0aW9uIHNldFdhbGxldChhZGRyZXNzIF93YWxsZXQpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyhib29sKSB7CgkJLy8gc2V0IHdhbGxldCAKCQl3YWxsZXQgPSBfd2FsbGV0OwoJCVdhbGxldENoYW5nZShfd2FsbGV0ICwgbm93KTsKCQlyZXR1cm4gdHJ1ZTsKCX0KCgkvKioKCSogQGRldiBNZXRob2QgY2FsbGVkIGJ5IG93bmVyIG9mIGNvbnRyYWN0IHRvIHdpdGhkcmF3IGZ1bmRzCgkqLwoJZnVuY3Rpb24gd2l0aGRyYXcoKSBvbmx5T3duZXIgcHVibGljIHsKCQl3YWxsZXQudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKCX0KCgkvKioKCSogQGRldiBjbG9zZSBjb250cmFjdCAKCSogVGhpcyB3aWxsIHNlbmQgcmVtYWluaW5nIHRva2VuIGJhbGFuY2UgdG8gb3duZXIKCSogVGhpcyB3aWxsIGRpc3RyaWJ1dGUgYXZhaWxhYmxlIGZ1bmRzIGFjcm9zcyB0ZWFtIG1lbWJlcnMKCSovCQoJZnVuY3Rpb24gY2xvc2UoKSBvbmx5T3duZXIgcHVibGljIHsKCQkvLyBzZW5kIHJlbWFpbmluZyB0b2tlbnMgYmFjayB0byBvd25lci4KCQl1aW50MjU2IHRva2VucyA9IHRva2VuLmJhbGFuY2VPZih0aGlzKTsgCgkJdG9rZW4udHJhbnNmZXIob3duZXIgLCB0b2tlbnMpOwoKCQkvLyB3aXRoZHJhdyBmdW5kcyAKCQl3aXRoZHJhdygpOwoKCQkvLyBtYXJrIHRoZSBmbGFnIHRvIGluZGljYXRlIGNsb3N1cmUgb2YgdGhlIGNvbnRyYWN0CgkJaXNDbG9zZSA9IHRydWU7Cgl9Cn0='.
	

]
