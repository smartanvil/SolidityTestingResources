Class {
	#name : #SRT4c478ac32725872e30bca49957abc7dbb325cb21,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4c478ac32725872e30bca49957abc7dbb325cb21 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIC8v0JHQtdC30L7Qv9Cw0YHQvdC+0LUg0YPQvNC90L7QttC10L3QuNC1LgoJLy9TYWZlIG11bHRpcGxpY2F0aW9uLgogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoJLy/QkdC10LfQvtC/0LDRgdC90L7QtSDQtNC10LvQtdC90LjQtS4KCS8vU2FmZSBkaXZpc2lvbi4KICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoJLy/QkdC10LfQvtC/0LDRgdC90L7QtSDQstGL0YfQuNGC0LDQvdC40LUuCgkvL1NhZmUgc3VidHJhY3Rpb24uCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgkvL9CR0LXQt9C+0L/QsNGB0L3QvtC1INGB0LvQvtC20LXQvdC40LUuCgkvL1NhZmUgYWRkaXRpb24uCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9Cgpjb250cmFjdCBPd25hYmxlIHsKICAKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOyAgICAgIAogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cgp9Cgpjb250cmFjdCBDT0lOIGlzIE93bmFibGUgewogICAgCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCQoJc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gImRhb1Rva2VuIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gImRhbyI7CiAgICB1aW50OCBjb25zdGFudCBkZWNpbWFscyA9IDE4OwogICAgCiAgICBieXRlczMyIGNvbnN0YW50IHBhc3N3b3JkID0ga2VjY2FrMjU2KCIuLi5BbmQgSnVzdGljZSBGb3IgQWxsISIpOwoJYnl0ZXMzMiBjb25zdGFudCBmaW4gPSBrZWNjYWsyNTYoIi4uLkkgU2F3IFRoZSBUaHJvbmUgT2YgR29kcy4uLiIpOwogICAgCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHkgPSAwOwogICAgYm9vbCBwdWJsaWMgbWludGluZ0ZpbmlzaGVkID0gZmFsc2U7CiAgICAKICAgIG1vZGlmaWVyIGNhbk1pbnQoKSB7CiAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOwogICAgXzsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gQ09JTigpewogICAgICAgIG1pbnRpbmdGaW5pc2hlZCA9IGZhbHNlOwogICAgICAgIHRvdGFsU3VwcGx5ID0gMDsKICAgIH0KICAKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwogICAgCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG90YWxfU3VwcGx5KSB7CiAgICAgICAgcmV0dXJuIHRvdGFsU3VwcGx5OwogICAgfQogICAgCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KICAKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciljb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQogIAogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSlyZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKChfdmFsdWUgPT0gMCkgfHwgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKCiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQogIAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSlyZXR1cm5zIChib29sKSB7CiAgICB2YXIgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldAogICAgLy8gcmVxdWlyZSAoX3ZhbHVlIDw9IF9hbGxvd2FuY2UpOwoKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0gCiAgCiAgICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciBjYW5NaW50IHJldHVybnMgKGJvb2wpIHsKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9hbW91bnQpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgTWludChfdG8sIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQogIAogICAgZnVuY3Rpb24gcGFzc3dvcmRNaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQsIGJ5dGVzMzIgX3Bzd2QpIGNhbk1pbnQgcmV0dXJucyAoYm9vbCkgewoJcmVxdWlyZShfcHN3ZCA9PSBwYXNzd29yZCk7CQkKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9hbW91bnQpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgTWludChfdG8sIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAgIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcoKSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCkgewogICAgbWludGluZ0ZpbmlzaGVkID0gdHJ1ZTsKICAgIE1pbnRGaW5pc2hlZCgpOwogICAgcmV0dXJuIHRydWU7CiAgfQogICAgCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgTWludChhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgYW1vdW50KTsKICAgIGV2ZW50IE1pbnRGaW5pc2hlZCgpOwp9CgovKmNvbnRyYWN0IERBT2NvaW4gaXMgQ29pbiB7CiAgCiAgICAgIAogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkRhb1Rva2VuIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkRBTyI7CiAgICB1aW50OCBjb25zdGFudCBkZWNpbWFscyA9IDE4OwogICAgZnVuY3Rpb24gREFPY29pbigpe30KfSovCgpjb250cmFjdCBkYW9jcm93ZHNhbGUgaXMgT3duYWJsZSB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICAgIGJ5dGVzMzIgY29uc3RhbnQgcGFzc3dvcmQgPSBrZWNjYWsyNTYoIi4uLkFuZCBKdXN0aWNlIEZvciBBbGwhIik7CglieXRlczMyIGNvbnN0YW50IGZpbiA9IGtlY2NhazI1NigiLi4uSSBTYXcgVGhlIFRocm9uZSBPZiBHb2RzLi4uIik7CgkKCUNPSU4gcHVibGljIERBTzsKICAgIAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgcHJpY2UgPSA1MDAgZmlubmV5OwoJICAKICAgIGVudW0gU3RhdGUge1JFQURZLCBMQVVOQ0hFRCwgU1RBR0UxLCBTVEFHRTIsIFNUQUdFMywgRkFJTH0KICAgIAogICAgc3RydWN0IHZhbHVlcyB7CiAgICAgICAgdWludDI1NiBoYXJkY2FwOwogICAgICAgIHVpbnQyNTYgaW5zdXJhbmNlRnVuZHM7CiAgICAgICAgdWludDI1NiBwcmVtaWFsOwogICAgICAgIHVpbnQyNTYgcmVzZXJ2YW5jZTsKICAgIH0gIAogICAgIAogICAgU3RhdGUgY3VycmVudFN0YXRlOwogICAgdWludDI1NiB0aW1lT2ZOZXh0U2hpZnQ7CiAgICB1aW50MjU2IHRpbWVPZlByZXZpb3VzU2hpZnQ7CgogICAgdmFsdWVzIHB1YmxpYyBWYWx1ZXM7IAogICAgCiAgICAKICAgIGZ1bmN0aW9uIGRhb2Nyb3dkc2FsZShhZGRyZXNzIF90b2tlbil7CgkJREFPID0gQ09JTihfdG9rZW4pOwogICAgICAgIFZhbHVlcy5oYXJkY2FwID0gNDM4MjAwOwogICAgICAgIGFzc2VydChEQU8ucGFzc3dvcmRNaW50KG93bmVyLCA1MDAyLCBwYXNzd29yZCkpOwogICAgICAgIFZhbHVlcy5pbnN1cmFuY2VGdW5kcyA9IDUwMDI7CiAgICAgICAgYXNzZXJ0KERBTy5wYXNzd29yZE1pbnQob3duZXIsIDEzMDAwLCBwYXNzd29yZCkpOwogICAgICAgIFZhbHVlcy5wcmVtaWFsID0gMTMwMDA7CiAgICAgICAgYXNzZXJ0KERBTy5wYXNzd29yZE1pbnQob3duZXIsIDIwMCwgcGFzc3dvcmQpKTsKICAgICAgICBWYWx1ZXMucmVzZXJ2YW5jZSA9IDIwMDsKICAgICAgICBjdXJyZW50U3RhdGUgPSBTdGF0ZS5MQVVOQ0hFRDsKICAgICAgICB0aW1lT2ZQcmV2aW91c1NoaWZ0ID0gbm93OwogICAgICAgIHRpbWVPZk5leHRTaGlmdCA9IChub3cgKyAzMCAqICgxIGRheXMpKTsKICAgICB9CiAgICAgCiAgICBmdW5jdGlvbiBTdGF0ZVNoaWZ0KHN0cmluZyBfcmVhc29uKSBwcml2YXRlIHJldHVybnMgKGJvb2wpewogICAgICAgIHJlcXVpcmUoIShjdXJyZW50U3RhdGUgPT0gU3RhdGUuRkFJTCkpOwogICAgICAgIGlmIChjdXJyZW50U3RhdGUgPT0gU3RhdGUuU1RBR0UzKSByZXR1cm4gZmFsc2U7CiAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PSBTdGF0ZS5TVEFHRTIpIHsKICAgICAgICAgICAgY3VycmVudFN0YXRlID0gU3RhdGUuU1RBR0UzOwogICAgICAgICAgICB0aW1lT2ZQcmV2aW91c1NoaWZ0ID0gYmxvY2sudGltZXN0YW1wOwogICAgICAgICAgICB0aW1lT2ZOZXh0U2hpZnQgPSAobm93ICsgMzY1MCAqICgxIGRheXMpKTsKICAgICAgICAgICAgU3RhdGVDaGFuZ2VkKFN0YXRlLlNUQUdFMywgbm93LCBfcmVhc29uKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIGlmIChjdXJyZW50U3RhdGUgPT0gU3RhdGUuU1RBR0UxKSB7CiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IFN0YXRlLlNUQUdFMjsKICAgICAgICAgICAgdGltZU9mUHJldmlvdXNTaGlmdCA9IGJsb2NrLnRpbWVzdGFtcDsKICAgICAgICAgICAgdGltZU9mTmV4dFNoaWZ0ID0gKG5vdyArIDMwICogKDEgZGF5cykpOwogICAgICAgICAgICBTdGF0ZUNoYW5nZWQoU3RhdGUuU1RBR0UyLCBub3csIF9yZWFzb24pOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PSBTdGF0ZS5MQVVOQ0hFRCkgewogICAgICAgICAgICBjdXJyZW50U3RhdGUgPSBTdGF0ZS5TVEFHRTE7CiAgICAgICAgICAgIHRpbWVPZlByZXZpb3VzU2hpZnQgPSBibG9jay50aW1lc3RhbXA7CiAgICAgICAgICAgIHRpbWVPZk5leHRTaGlmdCA9IChub3cgKyAzMCAqICgxIGRheXMpKTsKICAgICAgICAgICAgU3RhdGVDaGFuZ2VkKFN0YXRlLlNUQUdFMSwgbm93LCBfcmVhc29uKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiBHZXRDdXJyZW50U3RhdGUoKSBjb25zdGFudCByZXR1cm5zIChTdGF0ZSl7CiAgICAgICAgcmV0dXJuIGN1cnJlbnRTdGF0ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gVGltZUNoZWNrKCkgcHJpdmF0ZSBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgaWYgKHRpbWVPZk5leHRTaGlmdCA+IGJsb2NrLnRpbWVzdGFtcCkgcmV0dXJuIHRydWU7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBTdGFydE5ld1N0YWdlKCkgcHJpdmF0ZSByZXR1cm5zIChib29sKXsKICAgICAgICBWYWx1ZXMuaGFyZGNhcCA9IFZhbHVlcy5oYXJkY2FwLmFkZCg0MzgyMDApOwogICAgICAgIFZhbHVlcy5pbnN1cmFuY2VGdW5kcyA9IFZhbHVlcy5pbnN1cmFuY2VGdW5kcy5hZGQoNTAwMik7CiAgICAgICAgVmFsdWVzLnByZW1pYWwgPSBWYWx1ZXMucHJlbWlhbC5hZGQoMTMwMCk7CiAgICAgICAgVmFsdWVzLnJlc2VydmFuY2UgPSBWYWx1ZXMucmVzZXJ2YW5jZS5hZGQoMjAwKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgbW9kaWZpZXIgSXNPdXRkYXRlZCgpIHsKICAgICAgICBpZighVGltZUNoZWNrKCkpewogICAgICAgICAgICBfOwogICAgICAgICAgICBTdGF0ZVNoaWZ0KCJPVVREQVRFRCIpOwogICAgICAgIH0KICAgICAgICBlbHNlIF87CiAgICB9CiAgICAKICAgIG1vZGlmaWVyIElzQm91Z2h0KHVpbnQyNTYgX2Ftb3VudCwgdWludDI1NiBfdG90YWwpewogICAgICAgIGlmKF9hbW91bnQgPj0gX3RvdGFsKXsKICAgICAgICBfOwogICAgICAgIFN0YXRlU2hpZnQoIlNVQ0NFRUQiKTsKICAgICAgICBTdGFydE5ld1N0YWdlKCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgXzsKICAgIH0KICAgIAogIC8qICBmdW5jdGlvbiBtYXN0ZXJNaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIElzT3V0ZGF0ZWQgSXNCb3VnaHQodG90YWxTdXBwbHkoKSwgVmFsdWVzLmhhcmRjYXApIHByaXZhdGUgcmV0dXJucyAoYm9vbCkgewogICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX2Ftb3VudCk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CiAgICBNaW50KF90bywgX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9ICovCiAgICAKICAgIGZ1bmN0aW9uIG1hc3RlckJhbGFuY2VPZihieXRlczMyIF9wc3dkLCBhZGRyZXNzIF9vd25lcikgSXNPdXRkYXRlZCBJc0JvdWdodChEQU8udG90YWxTdXBwbHkoKSwgVmFsdWVzLmhhcmRjYXApIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewoJcmVxdWlyZShfcHN3ZCA9PSBwYXNzd29yZCk7CiAgICAgICAgcmV0dXJuIERBTy5iYWxhbmNlT2YoX293bmVyKTsKICAgIH0KCQoJZnVuY3Rpb24gdG90YWxDb2luU3VwcGx5KCljb25zdGFudCByZXR1cm5zICh1aW50MjU2KXsKCQlyZXR1cm4gREFPLnRvdGFsU3VwcGx5KCk7Cgl9CgkKICAgIGZ1bmN0aW9uIGJ1eSAodWludDI1NiBfYW1vdW50KSBJc091dGRhdGVkIElzQm91Z2h0KERBTy50b3RhbFN1cHBseSgpLCBWYWx1ZXMuaGFyZGNhcCkgcGF5YWJsZSByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKChtc2cudmFsdWUgPT0gcHJpY2UqX2Ftb3VudCkmJihfYW1vdW50IDw9IChWYWx1ZXMuaGFyZGNhcCAtIERBTy50b3RhbFN1cHBseSgpKSkpOwoJb3duZXIudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgIERBTy5wYXNzd29yZE1pbnQobXNnLnNlbmRlciwgX2Ftb3VudCwgcGFzc3dvcmQpOwogICAgRGVhbChtc2cuc2VuZGVyLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogICB9CiAgIAogICAgZnVuY3Rpb24gbWFzdGVyRm5zKGJ5dGVzMzIgX3Bzd2QpIHJldHVybnMgKGJvb2wpewoJcmVxdWlyZShfcHN3ZCA9PSBmaW4pOwogICAgc2VsZmRlc3RydWN0KG1zZy5zZW5kZXIpOwogICB9CgpmdW5jdGlvbigpcGF5YWJsZXsKICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IHByaWNlKTsKCWFkZHJlc3MgYnV5ZXIgPSBtc2cuc2VuZGVyOwogICAgdWludDI1NiByZWZ1bmQgPSAobXNnLnZhbHVlKSAlIHByaWNlOwogICAgdWludDI1NiBhY2NlcHRlZCA9IChtc2cudmFsdWUpIC8gcHJpY2U7CiAgICBhc3NlcnQoYWNjZXB0ZWQgKyBEQU8udG90YWxTdXBwbHkoKSA8PSBWYWx1ZXMuaGFyZGNhcCk7CiAgICBpZiAocmVmdW5kICE9IDApewogICAgICAgIGJ1eWVyLnRyYW5zZmVyKHJlZnVuZCk7CiAgICB9CglpZiAoYWNjZXB0ZWQgIT0gMCl7CgkJb3duZXIudHJhbnNmZXIobXNnLnZhbHVlKTsKCQlEQU8ucGFzc3dvcmRNaW50KGJ1eWVyLCBhY2NlcHRlZCwgcGFzc3dvcmQpOwoJfQoJRGVhbCAoYnV5ZXIsIGFjY2VwdGVkKTsKICAgfQogICAgZXZlbnQgU3RhdGVDaGFuZ2VkIChTdGF0ZSBpbmRleGVkIF9jdXJyZW50U3RhdGUsIHVpbnQyNTYgX3RpbWUsIHN0cmluZyBfcmVhc29uKTsKICAgIGV2ZW50IERlYWwoYWRkcmVzcyBpbmRleGVkIF90cmFkZXIsIHVpbnQyNTYgX2Ftb3VudCk7Cn0='.
	

]
