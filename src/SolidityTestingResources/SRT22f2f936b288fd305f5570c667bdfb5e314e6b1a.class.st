Class {
	#name : #SRT22f2f936b288fd305f5570c667bdfb5e314e6b1a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT22f2f936b288fd305f5570c667bdfb5e314e6b1a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgoKCi8qKgoKCgogKiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzCgoKCiAqLwoKCgpjb250cmFjdCBCYXNlU2FmZU1hdGggewoKCgoKCiAgICAvKgoKCgogICAgc3RhbmRhcmQgdWludDI1NiBmdW5jdGlvbnMKCgoKICAgICAqLwoKCgoKCgoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgY29uc3RhbnQgaW50ZXJuYWwKCgoKICAgIHJldHVybnMgKHVpbnQyNTYpIHsKCgoKICAgICAgICB1aW50MjU2IGMgPSBhICsgYjsKCgoKICAgICAgICBhc3NlcnQoYyA+PSBhKTsKCgoKICAgICAgICByZXR1cm4gYzsKCgoKICAgIH0KCgoKCgogICAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBjb25zdGFudCBpbnRlcm5hbAoKCgogICAgcmV0dXJucyAodWludDI1NikgewoKCgogICAgICAgIGFzc2VydChiIDw9IGEpOwoKCgogICAgICAgIHJldHVybiBhIC0gYjsKCgoKICAgIH0KCgoKCgogICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBjb25zdGFudCBpbnRlcm5hbAoKCgogICAgcmV0dXJucyAodWludDI1NikgewoKCgogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwoKCgogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CgoKCiAgICAgICAgcmV0dXJuIGM7CgoKCiAgICB9CgoKCgoKICAgIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgY29uc3RhbnQgaW50ZXJuYWwKCgoKICAgIHJldHVybnMgKHVpbnQyNTYpIHsKCgoKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKCgoKICAgICAgICByZXR1cm4gYzsKCgoKICAgIH0KCgoKCgogICAgZnVuY3Rpb24gbWluKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbAoKCgogICAgcmV0dXJucyAodWludDI1NiB6KSB7CgoKCiAgICAgICAgcmV0dXJuIHggPD0geSA/IHggOiB5OwoKCgogICAgfQoKCgoKCiAgICBmdW5jdGlvbiBtYXgodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsCgoKCiAgICByZXR1cm5zICh1aW50MjU2IHopIHsKCgoKICAgICAgICByZXR1cm4geCA+PSB5ID8geCA6IHk7CgoKCiAgICB9CgoKCgoKCgogICAgLyoKCgoKICAgIHVpbnQxMjggZnVuY3Rpb25zCgoKCiAgICAgKi8KCgoKCgoKCiAgICBmdW5jdGlvbiBtYWRkKHVpbnQxMjggYSwgdWludDEyOCBiKSBjb25zdGFudCBpbnRlcm5hbAoKCgogICAgcmV0dXJucyAodWludDEyOCkgewoKCgogICAgICAgIHVpbnQxMjggYyA9IGEgKyBiOwoKCgogICAgICAgIGFzc2VydChjID49IGEpOwoKCgogICAgICAgIHJldHVybiBjOwoKCgogICAgfQoKCgoKCiAgICBmdW5jdGlvbiBtc3ViKHVpbnQxMjggYSwgdWludDEyOCBiKSBjb25zdGFudCBpbnRlcm5hbAoKCgogICAgcmV0dXJucyAodWludDEyOCkgewoKCgogICAgICAgIGFzc2VydChiIDw9IGEpOwoKCgogICAgICAgIHJldHVybiBhIC0gYjsKCgoKICAgIH0KCgoKCgogICAgZnVuY3Rpb24gbW11bCh1aW50MTI4IGEsIHVpbnQxMjggYikgY29uc3RhbnQgaW50ZXJuYWwKCgoKICAgIHJldHVybnMgKHVpbnQxMjgpIHsKCgoKICAgICAgICB1aW50MTI4IGMgPSBhICogYjsKCgoKICAgICAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwoKCgogICAgICAgIHJldHVybiBjOwoKCgogICAgfQoKCgoKCiAgICBmdW5jdGlvbiBtZGl2KHVpbnQxMjggYSwgdWludDEyOCBiKSBjb25zdGFudCBpbnRlcm5hbAoKCgogICAgcmV0dXJucyAodWludDEyOCkgewoKCgogICAgICAgIHVpbnQxMjggYyA9IGEgLyBiOwoKCgogICAgICAgIHJldHVybiBjOwoKCgogICAgfQoKCgoKCiAgICBmdW5jdGlvbiBtbWluKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbAoKCgogICAgcmV0dXJucyAodWludDEyOCB6KSB7CgoKCiAgICAgICAgcmV0dXJuIHggPD0geSA/IHggOiB5OwoKCgogICAgfQoKCgoKCiAgICBmdW5jdGlvbiBtbWF4KHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbAoKCgogICAgcmV0dXJucyAodWludDEyOCB6KSB7CgoKCiAgICAgICAgcmV0dXJuIHggPj0geSA/IHggOiB5OwoKCgogICAgfQoKCgoKCgoKICAgIC8qCgoKCiAgICB1aW50NjQgZnVuY3Rpb25zCgoKCiAgICAgKi8KCgoKCgoKCiAgICBmdW5jdGlvbiBtaWFkZCh1aW50NjQgYSwgdWludDY0IGIpIGNvbnN0YW50IGludGVybmFsCgoKCiAgICByZXR1cm5zICh1aW50NjQpIHsKCgoKICAgICAgICB1aW50NjQgYyA9IGEgKyBiOwoKCgogICAgICAgIGFzc2VydChjID49IGEpOwoKCgogICAgICAgIHJldHVybiBjOwoKCgogICAgfQoKCgoKCiAgICBmdW5jdGlvbiBtaXN1Yih1aW50NjQgYSwgdWludDY0IGIpIGNvbnN0YW50IGludGVybmFsCgoKCiAgICByZXR1cm5zICh1aW50NjQpIHsKCgoKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKCgoKICAgICAgICByZXR1cm4gYSAtIGI7CgoKCiAgICB9CgoKCgoKICAgIGZ1bmN0aW9uIG1pbXVsKHVpbnQ2NCBhLCB1aW50NjQgYikgY29uc3RhbnQgaW50ZXJuYWwKCgoKICAgIHJldHVybnMgKHVpbnQ2NCkgewoKCgogICAgICAgIHVpbnQ2NCBjID0gYSAqIGI7CgoKCiAgICAgICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKCgoKICAgICAgICByZXR1cm4gYzsKCgoKICAgIH0KCgoKCgogICAgZnVuY3Rpb24gbWlkaXYodWludDY0IGEsIHVpbnQ2NCBiKSBjb25zdGFudCBpbnRlcm5hbAoKCgogICAgcmV0dXJucyAodWludDY0KSB7CgoKCiAgICAgICAgdWludDY0IGMgPSBhIC8gYjsKCgoKICAgICAgICByZXR1cm4gYzsKCgoKICAgIH0KCgoKCgogICAgZnVuY3Rpb24gbWltaW4odWludDY0IHgsIHVpbnQ2NCB5KSBjb25zdGFudCBpbnRlcm5hbAoKCgogICAgcmV0dXJucyAodWludDY0IHopIHsKCgoKICAgICAgICByZXR1cm4geCA8PSB5ID8geCA6IHk7CgoKCiAgICB9CgoKCgoKICAgIGZ1bmN0aW9uIG1pbWF4KHVpbnQ2NCB4LCB1aW50NjQgeSkgY29uc3RhbnQgaW50ZXJuYWwKCgoKICAgIHJldHVybnMgKHVpbnQ2NCB6KSB7CgoKCiAgICAgICAgcmV0dXJuIHggPj0geSA/IHggOiB5OwoKCgogICAgfQoKCgoKCn0KCgoKCgovLyBBYnN0cmFjdCBjb250cmFjdCBmb3IgdGhlIGZ1bGwgRVJDIDIwIFRva2VuIHN0YW5kYXJkCgoKCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAoKCgoKCgoKY29udHJhY3QgQmFzZUVSQzIwIHsKCgoKICAgIC8vIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuCgogICAgc3RyaW5nIHB1YmxpYyBuYW1lOwoKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwoKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKCiAgICAvLyAxOCBkZWNpbWFscyBpcyB0aGUgc3Ryb25nbHkgc3VnZ2VzdGVkIGRlZmF1bHQsIGF2b2lkIGNoYW5naW5nIGl0CgogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgoKCiAgICAvLyBUaGlzIGNyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgYmFsYW5jZXMKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VPZjsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dhbmNlOwoKCgogICAgLy8gVGhpcyBnZW5lcmF0ZXMgYSBwdWJsaWMgZXZlbnQgb24gdGhlIGJsb2NrY2hhaW4gdGhhdCB3aWxsIG5vdGlmeSBjbGllbnRzCgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CgoKCiAgICAvLyBUaGlzIG5vdGlmaWVzIGNsaWVudHMgYWJvdXQgdGhlIGFtb3VudCBidXJudAoKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGZyb20sIHVpbnQyNTYgdmFsdWUpOwoKCgogICAgLyoqCgogICAgICogSW50ZXJuYWwgdHJhbnNmZXIsIG9ubHkgY2FuIGJlIGNhbGxlZCBieSB0aGlzIGNvbnRyYWN0CgogICAgICovCgogICAgZnVuY3Rpb24gX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaW50ZXJuYWw7CgoKCiAgICAvKioKCiAgICAgKiBUcmFuc2ZlciB0b2tlbnMKCiAgICAgKgoKICAgICAqIFNlbmQgYF92YWx1ZWAgdG9rZW5zIHRvIGBfdG9gIGZyb20geW91ciBhY2NvdW50CgogICAgICoKCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBhbW91bnQgdG8gc2VuZAoKICAgICAqLwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljOwoKCgogICAgLyoqCgogICAgICogVHJhbnNmZXIgdG9rZW5zIGZyb20gb3RoZXIgYWRkcmVzcwoKICAgICAqCgogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbnMgdG8gYF90b2Agb24gYmVoYWxmIG9mIGBfZnJvbWAKCiAgICAgKgoKICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCgogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CgogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IHRvIHNlbmQKCiAgICAgKi8KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCgoKICAgIC8qKgoKICAgICAqIFNldCBhbGxvd2FuY2UgZm9yIG90aGVyIGFkZHJlc3MKCiAgICAgKgoKICAgICAqIEFsbG93cyBgX3NwZW5kZXJgIHRvIHNwZW5kIG5vIG1vcmUgdGhhbiBgX3ZhbHVlYCB0b2tlbnMgb24geW91ciBiZWhhbGYKCiAgICAgKgoKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBhdXRob3JpemVkIHRvIHNwZW5kCgogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgbWF4IGFtb3VudCB0aGV5IGNhbiBzcGVuZAoKICAgICAqLwoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKCgogICAgLyoqCgogICAgICogU2V0IGFsbG93YW5jZSBmb3Igb3RoZXIgYWRkcmVzcyBhbmQgbm90aWZ5CgogICAgICoKCiAgICAgKiBBbGxvd3MgYF9zcGVuZGVyYCB0byBzcGVuZCBubyBtb3JlIHRoYW4gYF92YWx1ZWAgdG9rZW5zIG9uIHlvdXIgYmVoYWxmLCBhbmQgdGhlbiBwaW5nIHRoZSBjb250cmFjdCBhYm91dCBpdAoKICAgICAqCgogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIGF1dGhvcml6ZWQgdG8gc3BlbmQKCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBtYXggYW1vdW50IHRoZXkgY2FuIHNwZW5kCgogICAgICogQHBhcmFtIF9leHRyYURhdGEgc29tZSBleHRyYSBpbmZvcm1hdGlvbiB0byBzZW5kIHRvIHRoZSBhcHByb3ZlZCBjb250cmFjdAoKICAgICAqLwoKICAgIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCgoKICAgIC8qKgoKICAgICAqIERlc3Ryb3kgdG9rZW5zCgogICAgICoKCiAgICAgKiBSZW1vdmUgYF92YWx1ZWAgdG9rZW5zIGZyb20gdGhlIHN5c3RlbSBpcnJldmVyc2libHkKCiAgICAgKgoKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIGFtb3VudCBvZiBtb25leSB0byBidXJuCgogICAgICovCgogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgoKCiAgICAvKioKCiAgICAgKiBEZXN0cm95IHRva2VucyBmcm9tIG90aGVyIGFjY291bnQKCiAgICAgKgoKICAgICAqIFJlbW92ZSBgX3ZhbHVlYCB0b2tlbnMgZnJvbSB0aGUgc3lzdGVtIGlycmV2ZXJzaWJseSBvbiBiZWhhbGYgb2YgYF9mcm9tYC4KCiAgICAgKgoKICAgICAqIEBwYXJhbSBfZnJvbSB0aGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCgogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IG9mIG1vbmV5IHRvIGJ1cm4KCiAgICAgKi8KCiAgICBmdW5jdGlvbiBidXJuRnJvbShhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgoKCn0KCgoKCgovKioKCgoKICogQHRpdGxlIFN0YW5kYXJkIEVSQzIwIHRva2VuCgoKCiAqCgoKCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIGJhc2ljIHN0YW5kYXJkIHRva2VuLgoKCgogKiBAZGV2IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAoKCgogKiBAZGV2IEJhc2VkIG9uIGNvZGUgYnkgRmlyc3RCbG9vZDogaHR0cHM6Ly9naXRodWIuY29tL0ZpcnN0Ymxvb2Rpby90b2tlbi9ibG9iL21hc3Rlci9zbWFydF9jb250cmFjdC9GaXJzdEJsb29kVG9rZW4uc29sCgoKCiAqLwoKCgppbnRlcmZhY2UgdG9rZW5SZWNpcGllbnQge2Z1bmN0aW9uIHJlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW4sIGJ5dGVzIF9leHRyYURhdGEpIHB1YmxpYzt9CgoKCgoKY29udHJhY3QgV0ZlZSBpcyBCYXNlRVJDMjAsIEJhc2VTYWZlTWF0aCB7CgogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIldGZWUiOwoKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIldGRUUiOwoKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDE4OwoKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5ID0gMTAwMDAwMDAwMDA7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2Y7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSkgcHVibGljIGFsbG93YW5jZTsKCgoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwoKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGZyb20sIHVpbnQyNTYgdmFsdWUpOwoKCgogICAgZnVuY3Rpb24gV0ZlZSgpIHB1YmxpYyB7CgogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkgKiAxMCAqKiB1aW50MjU2KGRlY2ltYWxzKTsKCiAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdID0gdG90YWxTdXBwbHk7CgogICAgfQoKCgogICAgZnVuY3Rpb24gX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaW50ZXJuYWwgewoKICAgICAgICAvLyBQcmV2ZW50IHRyYW5zZmVyIHRvIDB4MCBhZGRyZXNzLiBVc2UgYnVybigpIGluc3RlYWQKCiAgICAgICAgcmVxdWlyZShfdG8gIT0gMHgwKTsKCiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCgogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW19mcm9tXSA+PSBfdmFsdWUpOwoKICAgICAgICAvLyBDaGVjayBmb3Igb3ZlcmZsb3dzCgogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW190b10gKyBfdmFsdWUgPiBiYWxhbmNlT2ZbX3RvXSk7CgogICAgICAgIC8vIFNhdmUgdGhpcyBmb3IgYW4gYXNzZXJ0aW9uIGluIHRoZSBmdXR1cmUKCiAgICAgICAgdWludCBwcmV2aW91c0JhbGFuY2VzID0gYmFsYW5jZU9mW19mcm9tXSArIGJhbGFuY2VPZltfdG9dOwoKICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIKCiAgICAgICAgYmFsYW5jZU9mW19mcm9tXSAtPSBfdmFsdWU7CgogICAgICAgIC8vIEFkZCB0aGUgc2FtZSB0byB0aGUgcmVjaXBpZW50CgogICAgICAgIGJhbGFuY2VPZltfdG9dICs9IF92YWx1ZTsKCiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKCiAgICAgICAgLy8gQXNzZXJ0cyBhcmUgdXNlZCB0byB1c2Ugc3RhdGljIGFuYWx5c2lzIHRvIGZpbmQgYnVncyBpbiB5b3VyIGNvZGUuIFRoZXkgc2hvdWxkIG5ldmVyIGZhaWwKCiAgICAgICAgYXNzZXJ0KGJhbGFuY2VPZltfZnJvbV0gKyBiYWxhbmNlT2ZbX3RvXSA9PSBwcmV2aW91c0JhbGFuY2VzKTsKCiAgICB9CgoKCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyB7CgogICAgICAgIF90cmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CgogICAgfQoKCgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdKTsKCiAgICAgICAgLy8gQ2hlY2sgYWxsb3dhbmNlCgogICAgICAgIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwoKICAgICAgICBfdHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgfQoKCgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljCgogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgogICAgICAgIGFsbG93YW5jZVttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CgogICAgICAgIHJldHVybiB0cnVlOwoKICAgIH0KCgoKICAgIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZXh0cmFEYXRhKQoKICAgIHB1YmxpYwoKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoKICAgICAgICB0b2tlblJlY2lwaWVudCBzcGVuZGVyID0gdG9rZW5SZWNpcGllbnQoX3NwZW5kZXIpOwoKICAgICAgICBpZiAoYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKSkgewoKICAgICAgICAgICAgc3BlbmRlci5yZWNlaXZlQXBwcm92YWwobXNnLnNlbmRlciwgX3ZhbHVlLCB0aGlzLCBfZXh0cmFEYXRhKTsKCiAgICAgICAgICAgIHJldHVybiB0cnVlOwoKICAgICAgICB9CgogICAgfQoKCgogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoKICAgICAgICByZXF1aXJlKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA+PSBfdmFsdWUpOwoKICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKCiAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKCiAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCgogICAgICAgIHRvdGFsU3VwcGx5IC09IF92YWx1ZTsKCiAgICAgICAgLy8gVXBkYXRlcyB0b3RhbFN1cHBseQoKICAgICAgICBCdXJuKG1zZy5zZW5kZXIsIF92YWx1ZSk7CgogICAgICAgIHJldHVybiB0cnVlOwoKICAgIH0KCgoKICAgIGZ1bmN0aW9uIGJ1cm5Gcm9tKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW19mcm9tXSA+PSBfdmFsdWUpOwoKICAgICAgICAvLyBDaGVjayBpZiB0aGUgdGFyZ2V0ZWQgYmFsYW5jZSBpcyBlbm91Z2gKCiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSk7CgogICAgICAgIC8vIENoZWNrIGFsbG93YW5jZQoKICAgICAgICBiYWxhbmNlT2ZbX2Zyb21dIC09IF92YWx1ZTsKCiAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgdGFyZ2V0ZWQgYmFsYW5jZQoKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKCiAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyJ3MgYWxsb3dhbmNlCgogICAgICAgIHRvdGFsU3VwcGx5IC09IF92YWx1ZTsKCiAgICAgICAgLy8gVXBkYXRlIHRvdGFsU3VwcGx5CgogICAgICAgIEJ1cm4oX2Zyb20sIF92YWx1ZSk7CgogICAgICAgIHJldHVybiB0cnVlOwoKICAgIH0KCn0='.
	

]
