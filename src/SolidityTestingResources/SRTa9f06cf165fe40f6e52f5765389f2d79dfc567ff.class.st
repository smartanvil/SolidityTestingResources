Class {
	#name : #SRTa9f06cf165fe40f6e52f5765389f2d79dfc567ff,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTa9f06cf165fe40f6e52f5765389f2d79dfc567ff >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CiAgICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgICByZXR1cm4gYzsKICAgIH0KICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9CmNvbnRyYWN0IEZ1ZWxkVG9rZW57CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKLy8gb3duYWJsZQogICAgYWRkcmVzcyBwdWJsaWMgbXVsdGlzaWc7CiAgICBhZGRyZXNzIHB1YmxpYyBtdWx0aXNpZ1ByZUlDTzsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgYWRkcmVzcyBwdWJsaWMgZXh0T3duZXI7CgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQoKICAgIGV2ZW50IE11bHRpc2lnc0NoYW5nZWQoYWRkcmVzcyBfbXVsdGlzaWcsIGFkZHJlc3MgX211bHRpc2lnUHJlSUNPKTsKICAgIGZ1bmN0aW9uIGNoYW5nZU11bHRpc2lncyhhZGRyZXNzIF9tdWx0aXNpZywgYWRkcmVzcyBfbXVsdGlzaWdQcmVJQ08pIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX211bHRpc2lnICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoX211bHRpc2lnUHJlSUNPICE9IGFkZHJlc3MoMCkpOwogICAgICAgIG11bHRpc2lnID0gX211bHRpc2lnOwogICAgICAgIG11bHRpc2lnUHJlSUNPID0gX211bHRpc2lnUHJlSUNPOwogICAgICAgIE11bHRpc2lnc0NoYW5nZWQobXVsdGlzaWcsIG11bHRpc2lnUHJlSUNPKTsKICAgIH0KCi8vIHNlbGYgdHJhbnNmZXIKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgovLyBhbGxvd2VkIHRyYW5zZmVyCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXJfLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgdWludDI1NiBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOyB9IAogICAgICAgIGVsc2Uge2FsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOyB9CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCi8vIG1pbnRhYmxlCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseSA9IDIwMDAwMDAwMDsgLy8gbWludGluZyBpbiBjb25zdHJ1Y3RvcgovLyBzYWxlCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBwcml2YXRlUHJlSUNPZGVwb3NpdG9yczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIHByZUlDT2RlcG9zaXRvcnM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBJQ09kZXBvc2l0b3JzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgSUNPYmFsYW5jZXM7CiAgICAKICAgIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIHNvZnRDYXAgPSA2NzAwIGV0aGVyOwogICAgdWludDI1NiBjb25zdGFudCBwdWJsaWMgaGFyZENhcCA9IDY3MDAwIGV0aGVyOwogICAgdWludDI1NiBjb25zdGFudCBwdWJsaWMgcHJpY2UgPSA0NTYwMDAwMDAwMDAwMDAgd2VpOyAvLyAwLjAwMDAwMDQ1NiBFVEggKiAxMCoqMTgKICAgIAogICAgdWludDI1NiBjb25zdGFudCBwdWJsaWMgbWF4UHJlSUNPU3VwcGx5ID0gMTM1MDAwMDA7IC8vIGluY2x1ZGluZyBmcmVlIGJvbnVzIHRva2VucwogICAgdWludDI1NiBjb25zdGFudCBwdWJsaWMgbWF4UHJlSUNPYW5kSUNPU3VwcGx5ID0gMTUwMDAwMDAwOwoKICAgIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIHByaXZhdGVQcmVJQ09GcmVlQm9udXNQZXJjZW50ID0gMzU7CiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBwcmVJQ09GcmVlQm9udXNQZXJjZW50ID0gMzA7CiAgICAKICAgIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIHByaXZhdGVQcmVJQ09Cb251c1BlcmNlbnQgPSAwOwogICAgdWludDI1NiBjb25zdGFudCBwdWJsaWMgcHJlSUNPQm9udXNQZXJjZW50ID0gMDsKICAgIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIElDT0JvbnVzUGVyY2VudDF3ZWVrID0gMTU7CiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBJQ09Cb251c1BlcmNlbnQyd2VlayA9IDEwOwogICAgdWludDI1NiBjb25zdGFudCBwdWJsaWMgSUNPQm9udXNQZXJjZW50M3dlZWsgPSA1OwogICAgdWludDI1NiBjb25zdGFudCBwdWJsaWMgcmVzdHJpY3RlZFBlcmNlbnQgPSAyNTsKCiAgICB1aW50MjU2IHB1YmxpYyBzdGFydFRpbWVQcml2YXRlUHJlSUNPID0gMDsKICAgIHVpbnQyNTYgcHVibGljIHN0YXJ0VGltZVByZUlDTyA9IDA7CiAgICB1aW50MjU2IHB1YmxpYyBzdGFydFRpbWVJQ08gPSAwOwogICAgdWludDI1NiBwdWJsaWMgc29sZFRva2VuQ291bnQgPSAwOwogICAgdWludDI1NiBwdWJsaWMgY2FwID0gMDsKICAgIHVpbnQyNTYgcHVibGljIGNhcFByZUlDTyA9IDA7CiAgICB1aW50MjU2IHB1YmxpYyBjYXBQcmVJQ09UcmFzZmVycmVkID0gMDsKICAgIHVpbnQyNTYgcHVibGljIGNhcEZpYXQgPSAwOwogICAgdWludDI1NiBwdWJsaWMgY2FwRmlhdEFuZEVUSCA9IDA7CiAgICBib29sIHB1YmxpYyBjYXBSZWFjaGVkID0gZmFsc2U7CgogICAgLy8gc2FsZQogICAgZXZlbnQgU2FsZVN0YXR1cyhzdHJpbmcgaW5kZXhlZCBzdGF0dXMsIHVpbnQyNTYgaW5kZXhlZCBfZGF0ZSk7CgogICAgZnVuY3Rpb24gc3RhcnRQcml2YXRlUHJlSUNPKCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShzdGFydFRpbWVJQ08gPT0gMCAmJiBzdGFydFRpbWVQcmVJQ08gPT0gMCk7CiAgICAgICAgc3RhcnRUaW1lUHJlSUNPID0gbm93OwogICAgICAgIHN0YXJ0VGltZVByaXZhdGVQcmVJQ08gPSBzdGFydFRpbWVQcmVJQ087CiAgICAgICAgU2FsZVN0YXR1cygnUHJpdmF0ZSBQcmUgSUNPIHN0YXJ0ZWQnLCBzdGFydFRpbWVQcmVJQ08pOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBzdGFydFByZUlDTygpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoc3RhcnRUaW1lSUNPID09IDAgJiYgc3RhcnRUaW1lUHJlSUNPID09IDApOwogICAgICAgIHN0YXJ0VGltZVByZUlDTyA9IG5vdzsKICAgICAgICBTYWxlU3RhdHVzKCdQdWJsaWMgUHJlIElDTyBzdGFydGVkJywgc3RhcnRUaW1lUHJlSUNPKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzdGFydElDTygpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoc3RhcnRUaW1lSUNPID09IDAgJiYgc3RhcnRUaW1lUHJlSUNPID09IDApOwogICAgICAgIHN0YXJ0VGltZUlDTyA9IG5vdzsKICAgICAgICBTYWxlU3RhdHVzKCdzdGFydCBJQ08nLCBzdGFydFRpbWVQcmVJQ08pOwogICAgfQoKICAgIGZ1bmN0aW9uIHN0b3BTYWxlKCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShzdGFydFRpbWVJQ08gPiAwIHx8IHN0YXJ0VGltZVByZUlDTyA+IDApOwogICAgICAgIGlmIChzdGFydFRpbWVJQ08gPiAwKXsKICAgICAgICAgICAgU2FsZVN0YXR1cygnSUNPIHN0b3BwZWQnLCBub3cpOwogICAgICAgIH0KICAgICAgICBlbHNlewogICAgICAgICAgICBtdWx0aXNpZ1ByZUlDTy50cmFuc2ZlcihjYXBQcmVJQ08pOwogICAgICAgICAgICBjYXBQcmVJQ09UcmFzZmVycmVkID0gY2FwUHJlSUNPVHJhc2ZlcnJlZC5hZGQoY2FwUHJlSUNPKTsKICAgICAgICAgICAgY2FwUHJlSUNPID0gMDsKICAgICAgICAgICAgU2FsZVN0YXR1cygnUHJlIElDTyBzdG9wcGVkJywgbm93KTsKICAgICAgICB9CiAgICAgICAgc3RhcnRUaW1lSUNPID0gMDsKICAgICAgICBzdGFydFRpbWVQcmVJQ08gPSAwOwogICAgICAgIHN0YXJ0VGltZVByaXZhdGVQcmVJQ08gPSAwOwogICAgfQoKICAgIGZ1bmN0aW9uIGN1cnJlbnRCb251c1BlcmNlbnQoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2IGJvbnVzX3BlcmNlbnQpIHsKICAgICAgICByZXF1aXJlKHN0YXJ0VGltZUlDTyA+IDAgfHwgc3RhcnRUaW1lUHJlSUNPID4gMCk7CiAgICAgICAgdWludDI1NiBjdXJyZW50X2RhdGUgPSBub3c7CiAgICAgICAgdWludDI1NiBib251c1BlcmNlbnQgPSAwOwogICAgICAgIGlmIChzdGFydFRpbWVJQ08gPiAwKXsKICAgICAgICAgICAgaWYgKGN1cnJlbnRfZGF0ZSA+IHN0YXJ0VGltZUlDTyAmJiBjdXJyZW50X2RhdGUgPD0gKHN0YXJ0VGltZUlDTy5hZGQoMSB3ZWVrcykpKXsgYm9udXNQZXJjZW50ID0gSUNPQm9udXNQZXJjZW50MXdlZWs7IH0KICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgIGlmIChjdXJyZW50X2RhdGUgPiBzdGFydFRpbWVJQ08gJiYgY3VycmVudF9kYXRlIDw9IChzdGFydFRpbWVJQ08uYWRkKDIgd2Vla3MpKSl7IGJvbnVzUGVyY2VudCA9IElDT0JvbnVzUGVyY2VudDJ3ZWVrOyB9CiAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50X2RhdGUgPiBzdGFydFRpbWVJQ08gJiYgY3VycmVudF9kYXRlIDw9IChzdGFydFRpbWVJQ08uYWRkKDMgd2Vla3MpKSl7IGJvbnVzUGVyY2VudCA9IElDT0JvbnVzUGVyY2VudDN3ZWVrOyB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgICAgaWYoc3RhcnRUaW1lUHJpdmF0ZVByZUlDTyA+IDApIHsKICAgICAgICAgICAgICAgIGJvbnVzUGVyY2VudCA9IHByaXZhdGVQcmVJQ09Cb251c1BlcmNlbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBib251c1BlcmNlbnQgPSBwcmVJQ09Cb251c1BlcmNlbnQ7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGJvbnVzUGVyY2VudDsKICAgIH0KCiAgICBldmVudCBUb2tlblB1cmNoYXNlKGFkZHJlc3MgaW5kZXhlZCBwdXJjaGFzZXIsIGFkZHJlc3MgaW5kZXhlZCBiZW5lZmljaWFyeSwgdWludDI1NiB2YWx1ZSwgdWludDI1NiBhbW91bnQpOwogICAgZnVuY3Rpb24oKSBwYXlhYmxlIHB1YmxpYyB7IAogICAgICAgIHJlcXVpcmUoc3RhcnRUaW1lSUNPID4gMCB8fCBzdGFydFRpbWVQcmVJQ08gPiAwKTsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPiAwKTsKICAgICAgICByZXF1aXJlKGNhcCA8IGhhcmRDYXApOwogICAgICAgIHVpbnQyNTYgYm9udXNQZXJjZW50ID0gY3VycmVudEJvbnVzUGVyY2VudCgpOwogICAgICAgIHVpbnQyNTYgY3VycmVudFByaWNlID0gcHJpY2UubXVsKDEwMCAtIGJvbnVzUGVyY2VudCkuZGl2KDEwMCk7CiAgICAgICAgYWRkcmVzcyBkZXBvc2l0b3IgPSBtc2cuc2VuZGVyOwogICAgICAgIHVpbnQyNTYgZGVwb3NpdCA9IG1zZy52YWx1ZTsKICAgICAgICB1aW50MjU2IHRva2VucyA9IGRlcG9zaXQvY3VycmVudFByaWNlOwogICAgICAgIGlmIChzdGFydFRpbWVJQ08gPiAwKXsKICAgICAgICAgICAgcmVxdWlyZShzb2xkVG9rZW5Db3VudC5hZGQodG9rZW5zKSA8PSBtYXhQcmVJQ09hbmRJQ09TdXBwbHkpOwogICAgICAgIH0KICAgICAgICBlbHNlewogICAgICAgICAgICBpZihzdGFydFRpbWVQcml2YXRlUHJlSUNPID4gMCkgewogICAgICAgICAgICAgICAgdG9rZW5zID0gKHRva2VucyAqICgxMDAgKyBwcml2YXRlUHJlSUNPRnJlZUJvbnVzUGVyY2VudCkpIC8gMTAwOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgdG9rZW5zID0gKHRva2VucyAqICgxMDAgKyBwcmVJQ09GcmVlQm9udXNQZXJjZW50KSkgLyAxMDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVxdWlyZShzb2xkVG9rZW5Db3VudC5hZGQodG9rZW5zKSA8PSBtYXhQcmVJQ09TdXBwbHkpOwogICAgICAgIH0KCiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gYmFsYW5jZXNbb3duZXJdLnN1Yih0b2tlbnMpOwogICAgICAgIGJhbGFuY2VzW2RlcG9zaXRvcl0gPSBiYWxhbmNlc1tkZXBvc2l0b3JdLmFkZCh0b2tlbnMpOwogICAgICAgIHNvbGRUb2tlbkNvdW50ID0gc29sZFRva2VuQ291bnQuYWRkKHRva2Vucyk7CiAgICAgICAgaWYgKHN0YXJ0VGltZUlDTyA+IDApewogICAgICAgICAgICBJQ09iYWxhbmNlc1tkZXBvc2l0b3JdID0gSUNPYmFsYW5jZXNbZGVwb3NpdG9yXS5hZGQodG9rZW5zKTsKICAgICAgICB9CgogICAgICAgIGlmIChzdGFydFRpbWVJQ08gPiAwKXsKICAgICAgICAgICAgSUNPZGVwb3NpdG9yc1tkZXBvc2l0b3JdID0gSUNPZGVwb3NpdG9yc1tkZXBvc2l0b3JdLmFkZChkZXBvc2l0KTsKICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgICAgaWYoc3RhcnRUaW1lUHJpdmF0ZVByZUlDTyA+IDApIHsKICAgICAgICAgICAgICAgIHByaXZhdGVQcmVJQ09kZXBvc2l0b3JzW2RlcG9zaXRvcl0gPSBwcml2YXRlUHJlSUNPZGVwb3NpdG9yc1tkZXBvc2l0b3JdLmFkZChkZXBvc2l0KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHByZUlDT2RlcG9zaXRvcnNbZGVwb3NpdG9yXSA9IHByZUlDT2RlcG9zaXRvcnNbZGVwb3NpdG9yXS5hZGQoZGVwb3NpdCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgY2FwID0gY2FwLmFkZChkZXBvc2l0KTsKICAgICAgICBpZihzdGFydFRpbWVQcmVJQ08gPiAwKSB7CiAgICAgICAgICAgIGNhcFByZUlDTyA9IGNhcFByZUlDTy5hZGQoZGVwb3NpdCk7CiAgICAgICAgfQoKICAgICAgICBjYXBGaWF0QW5kRVRIID0gY2FwRmlhdC5hZGQoY2FwKTsKICAgICAgICBpZihjYXBGaWF0QW5kRVRIID49IHNvZnRDYXApIHsKICAgICAgICAgICAgY2FwUmVhY2hlZCA9IHRydWU7CiAgICAgICAgfQogICAgICAgIFRva2VuUHVyY2hhc2Uob3duZXIsIGRlcG9zaXRvciwgZGVwb3NpdCwgdG9rZW5zKTsKICAgIH0KCiAgICBldmVudCBFeHRUb2tlblB1cmNoYXNlKGFkZHJlc3MgaW5kZXhlZCBwdXJjaGFzZXIsIGFkZHJlc3MgaW5kZXhlZCBiZW5lZmljaWFyeSwgdWludDI1NiBhbW91bnQpOwogICAgZnVuY3Rpb24gZXh0QnV5VG9rZW5zKGFkZHJlc3MgYmVuZWZpY2lhcnlfLCB1aW50MjU2IHRva2Vuc0Ftb3VudF8sIHVpbnQyNTYgYW1vdW50RVRIXykgcHVibGljIHsgCiAgICAgICAgcmVxdWlyZShzdGFydFRpbWVJQ08gPiAwIHx8IHN0YXJ0VGltZVByZUlDTyA+IDApOwogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZXh0T3duZXIpOwogICAgICAgIGFkZHJlc3MgZGVwb3NpdG9yID0gYmVuZWZpY2lhcnlfOwogICAgICAgIHVpbnQyNTYgdG9rZW5zID0gdG9rZW5zQW1vdW50XzsKICAgICAgICB1aW50MjU2IGFtb3VudEVUSCA9IGFtb3VudEVUSF87CgogICAgICAgIGJhbGFuY2VzW293bmVyXSA9IGJhbGFuY2VzW293bmVyXS5zdWIodG9rZW5zKTsKICAgICAgICBiYWxhbmNlc1tkZXBvc2l0b3JdID0gYmFsYW5jZXNbZGVwb3NpdG9yXS5hZGQodG9rZW5zKTsKICAgICAgICBzb2xkVG9rZW5Db3VudCA9IHNvbGRUb2tlbkNvdW50LmFkZCh0b2tlbnMpOwoKICAgICAgICBjYXBGaWF0ID0gY2FwRmlhdC5hZGQoYW1vdW50RVRIKTsKICAgICAgICBjYXBGaWF0QW5kRVRIID0gY2FwRmlhdC5hZGQoY2FwKTsKICAgICAgICBpZihjYXBGaWF0QW5kRVRIID49IHNvZnRDYXApIHsKICAgICAgICAgICAgY2FwUmVhY2hlZCA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICBFeHRUb2tlblB1cmNoYXNlKG93bmVyLCBkZXBvc2l0b3IsIHRva2Vucyk7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJFeHRPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcl8pIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGV4dE93bmVyID0gbmV3T3duZXJfOwogICAgfQoKLy8gcmVmdW5kCiAgICBib29sIHB1YmxpYyByZWZ1bmRDb21wbGV0ZWQgPSBmYWxzZTsKICAgIHVpbnQyNTYgcHVibGljIHN0YXJ0VGltZVJlZnVuZCA9IDA7CgogICAgZnVuY3Rpb24gc3RhcnRSZWZ1bmQoKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKHN0YXJ0VGltZUlDTyA9PSAwICYmIHN0YXJ0VGltZVByZUlDTyA9PSAwKTsKICAgICAgICBzdGFydFRpbWVSZWZ1bmQgPSBub3c7CiAgICAgICAgU2FsZVN0YXR1cygnUmVmdW5kIHN0YXJ0ZWQnLCBzdGFydFRpbWVSZWZ1bmQpOwogICAgfQoKICAgIGZ1bmN0aW9uIHN0b3BSZWZ1bmQoKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKHN0YXJ0VGltZVJlZnVuZCA+IDApOwogICAgICAgIHN0YXJ0VGltZVJlZnVuZCA9IDA7CiAgICAgICAgcmVmdW5kQ29tcGxldGVkID0gdHJ1ZTsKICAgICAgICBTYWxlU3RhdHVzKCdSZWZ1bmQgc3RvcHBlZCcsIG5vdyk7CiAgICB9CgogICAgZXZlbnQgUmVmdW5kZWQoYWRkcmVzcyBpbmRleGVkIGRlcG9zaXRvciwgdWludDI1NiBpbmRleGVkIGRlcG9zaXQsIHVpbnQyNTYgaW5kZXhlZCB0b2tlbnMpOwogICAgZnVuY3Rpb24gcmVmdW5kKCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKGNhcEZpYXRBbmRFVEggPCBzb2Z0Q2FwKTsKICAgICAgICByZXF1aXJlKHN0YXJ0VGltZVJlZnVuZCA+IDApOwogICAgICAgIGFkZHJlc3MgZGVwb3NpdG9yID0gbXNnLnNlbmRlcjsKICAgICAgICB1aW50MjU2IGRlcG9zaXQgPSBJQ09kZXBvc2l0b3JzW2RlcG9zaXRvcl07CiAgICAgICAgdWludDI1NiB0b2tlbnMgPSBJQ09iYWxhbmNlc1tkZXBvc2l0b3JdOyAgICAKICAgICAgICBJQ09kZXBvc2l0b3JzW2RlcG9zaXRvcl0gPSAwOwogICAgICAgIElDT2JhbGFuY2VzW2RlcG9zaXRvcl0gPSAwOwogICAgICAgIGJhbGFuY2VzW2RlcG9zaXRvcl0gPSBiYWxhbmNlc1tkZXBvc2l0b3JdLnN1Yih0b2tlbnMpOwogICAgICAgIGRlcG9zaXRvci50cmFuc2ZlcihkZXBvc2l0KTsKICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSBiYWxhbmNlc1tvd25lcl0uYWRkKHRva2Vucyk7CiAgICAgICAgY2FwID0gY2FwLnN1YihkZXBvc2l0KTsKICAgICAgICBjYXBGaWF0QW5kRVRIID0gY2FwRmlhdEFuZEVUSC5zdWIoZGVwb3NpdCk7CiAgICAgICAgc29sZFRva2VuQ291bnQgPSBzb2xkVG9rZW5Db3VudC5zdWIodG9rZW5zKTsKICAgICAgICBSZWZ1bmRlZChkZXBvc2l0b3IsIGRlcG9zaXQsIHRva2Vucyk7CiAgICB9CgogICAgYm9vbCBwdWJsaWMgZml4U2FsZUNvbXBsZXRlZCA9IGZhbHNlOwogICAgZnVuY3Rpb24gZml4U2FsZSgpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUocmVmdW5kQ29tcGxldGVkID09IHRydWUpOwogICAgICAgIHJlcXVpcmUoc3RhcnRUaW1lSUNPID09IDAgJiYgc3RhcnRUaW1lUHJlSUNPID09IDAgJiYgc3RhcnRUaW1lUmVmdW5kID09IDApOwogICAgICAgIHJlcXVpcmUobXVsdGlzaWcgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgdWludDI1NiByZXN0cmljdGVkVG9rZW5zID0gc29sZFRva2VuQ291bnQgKiAodG90YWxTdXBwbHkgLSBtYXhQcmVJQ09hbmRJQ09TdXBwbHkpIC8gbWF4UHJlSUNPYW5kSUNPU3VwcGx5OwogICAgICAgIHRyYW5zZmVyKG11bHRpc2lnLCByZXN0cmljdGVkVG9rZW5zKTsKICAgICAgICBtdWx0aXNpZy50cmFuc2ZlcihjYXAuc3ViKGNhcFByZUlDT1RyYXNmZXJyZWQpKTsKICAgICAgICBzb2xkVG9rZW5Db3VudCA9IDA7CiAgICAgICAgZml4U2FsZUNvbXBsZXRlZCA9IHRydWU7CiAgICB9CgovLyBidXJuYWJsZQogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgYnVybmVyLCB1aW50IGluZGV4ZWQgdmFsdWUpOwogICAgZnVuY3Rpb24gYnVybih1aW50IF92YWx1ZSkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShmaXhTYWxlQ29tcGxldGVkID09IHRydWUpOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CiAgICAgICAgYWRkcmVzcyBidXJuZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIGJhbGFuY2VzW2J1cm5lcl0gPSBiYWxhbmNlc1tidXJuZXJdLnN1YihfdmFsdWUpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKF92YWx1ZSk7CiAgICAgICAgcmVmdW5kQ29tcGxldGVkID0gZmFsc2U7CiAgICAgICAgZml4U2FsZUNvbXBsZXRlZCA9IGZhbHNlOwogICAgICAgIEJ1cm4oYnVybmVyLCBfdmFsdWUpOwogICAgfQoKLy8gY29uc3RydWN0b3IKICAgIHN0cmluZyBjb25zdGFudCBwdWJsaWMgbmFtZSA9ICJGVUVMRCI7CiAgICBzdHJpbmcgY29uc3RhbnQgcHVibGljIHN5bWJvbCA9ICJGTEQiOwogICAgdWludDMyIGNvbnN0YW50IHB1YmxpYyBkZWNpbWFscyA9IDE4OwoKICAgIGZ1bmN0aW9uIEZ1ZWxkVG9rZW4oKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSB0b3RhbFN1cHBseTsKICAgIH0KfQ=='.
	

]
