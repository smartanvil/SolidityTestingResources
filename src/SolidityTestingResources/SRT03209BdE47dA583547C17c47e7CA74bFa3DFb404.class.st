Class {
	#name : #SRT03209BdE47dA583547C17c47e7CA74bFa3DFb404,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT03209BdE47dA583547C17c47e7CA74bFa3DFb404 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4gMC40IC4xMTsKCi8qKgogKiBPdmVyZmxvdyBhd2FyZSB1aW50IG1hdGggZnVuY3Rpb25zLgogKgogKiBJbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vTWFrZXJEQU8vbWFrZXItb3RjL2Jsb2IvbWFzdGVyL2NvbnRyYWN0cy9zaW1wbGVfbWFya2V0LnNvbAogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnModWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9Cn0KCmNvbnRyYWN0IE93bmFibGUgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICAgIC8qKiAKICAgICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAgICogYWNjb3VudC4KICAgICAqLwogICAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgoKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgewogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgICAgIGlmIChuZXdPd25lciAhPSBhZGRyZXNzKDApKSB7CiAgICAgICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICAgICAgfQogICAgfQoKCn0KCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KTsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KTsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKTsKCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLiAKICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgICB1c2luZyBTYWZlTWF0aAogICAgZm9yIHVpbnQyNTY7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgoJLyoqCgkgICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwoJICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCgkgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgoJICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSB7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICB9CgkKCS8qKgoJICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCgkgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuIAoJICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCgkgICovCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnModWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9Cgp9Cgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoJCgkvKioKCSAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCgkgICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KCSAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCgkgICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKCSAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSB7CiAgICAgICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAgICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAgICAgLy8gaWYgKF92YWx1ZSA+IF9hbGxvd2FuY2UpIHRocm93OwoKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICB9CgoJICAvKioKCSAgICogQGRldiBBcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KCSAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgoJICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgoJICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHsKCiAgICAgICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgICAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgICAgIGlmICgoX3ZhbHVlICE9IDApICYmIChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSAhPSAwKSkgcmV2ZXJ0KCk7CgogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgfQoKCS8qKgoJICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCgkgICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KCSAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCgkgICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpYmxlIGZvciB0aGUgc3BlbmRlci4KCSAgICovCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnModWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCn0KCmNvbnRyYWN0IE1pbnRhYmxlVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgT3duYWJsZSB7CiAgICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwogICAgZXZlbnQgTWludEZpbmlzaGVkKCk7CiAgICBldmVudCBNaW50U3RhcnRlZCgpOwoKICAgIGJvb2wgcHVibGljIG1pbnRpbmdGaW5pc2hlZCA9IHRydWU7CiAgICBib29sIHB1YmxpYyBnb2FsUmVhY2hlZCA9IGZhbHNlOwogICAgdWludCBwdWJsaWMgbWludGluZ1N0YXJ0VGltZSA9IDA7CiAgICB1aW50IHB1YmxpYyBtYXhNaW50aW5nVGltZSA9IDMwIGRheXM7CiAgICB1aW50IHB1YmxpYyBtaW50aW5nR29hbCA9IDUwMCBldGhlcjsKCiAgICBhZGRyZXNzIHB1YmxpYyB0aXRzVG9rZW5BdXRob3IgPSAweDE4OTg5MWQwMjQ0NUQ4N2U3MGQ1MTVmRDIxNTk0MTZmMDIzQjAwODc7CgoJLyoqCgkgICAqIEBkZXYgRmVsbCBmcmUgdG8gZG9uYXRlIEF1dGhvciBpZiBZb3UgbGlrZSB3aGF0IGlzIHByZXNlbnRlZCBoZXJlCgkgICAqLwogICAgZnVuY3Rpb24gZG9uYXRlQXV0aG9yKCkgcGF5YWJsZSB7CiAgICAgICAgdGl0c1Rva2VuQXV0aG9yLnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgICB9CgogICAgYm9vbCBwdWJsaWMgYWxyZWFkeU1pbnRlZE9uY2UgPSBmYWxzZTsKCiAgICBtb2RpZmllciBtaW50aW5nQ2xvc2VkKCkgewogICAgICAgIGlmIChtaW50aW5nRmluaXNoZWQgPT0gZmFsc2UgfHwgYWxyZWFkeU1pbnRlZE9uY2UgPT0gZmFsc2UpIHJldmVydCgpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgbm90TWludGVkWWV0KCkgewogICAgICAgIGlmIChhbHJlYWR5TWludGVkT25jZSA9PSB0cnVlKSByZXZlcnQoKTsKICAgICAgICBfOwogICAgfQoKICAgIAoJLyoqCgkgICAqIEBkZXYgUHJlbWl1bSBmb3IgYnV5aW5nIFRJVFMgYXQgdGhlIGJlZ2luaW5nIG9mIElDTyAKCSAgICogQHJldHVybiBib29sIFRydWUgaWYgbm8gZXJyb3JzCgkgICAqLwogICAgZnVuY3Rpb24gZmFzdEJ1eUJvbnVzKCkgcHJpdmF0ZSByZXR1cm5zKHVpbnQpIHsKICAgICAgICB1aW50IHBlcmlvZCA9IG5vdyAtIG1pbnRpbmdTdGFydFRpbWU7CiAgICAgICAgaWYgKHBlcmlvZCA8IDEgZGF5cykgewogICAgICAgICAgICByZXR1cm4gNTAwMDsKICAgICAgICB9CiAgICAgICAgaWYgKHBlcmlvZCA8IDIgZGF5cykgewogICAgICAgICAgICByZXR1cm4gNDAwMDsKICAgICAgICB9CiAgICAgICAgaWYgKHBlcmlvZCA8IDMgZGF5cykgewogICAgICAgICAgICByZXR1cm4gMzAwMDsKICAgICAgICB9CiAgICAgICAgaWYgKHBlcmlvZCA8IDcgZGF5cykgewogICAgICAgICAgICByZXR1cm4gMjYwMDsKICAgICAgICB9CiAgICAgICAgaWYgKHBlcmlvZCA8IDEwIGRheXMpIHsKICAgICAgICAgICAgcmV0dXJuIDI0MDA7CiAgICAgICAgfQogICAgICAgIGlmIChwZXJpb2QgPCAxMiBkYXlzKSB7CiAgICAgICAgICAgIHJldHVybiAyMjAwOwogICAgICAgIH0KICAgICAgICBpZiAocGVyaW9kIDwgMTQgZGF5cykgewogICAgICAgICAgICByZXR1cm4gMjAwMDsKICAgICAgICB9CiAgICAgICAgaWYgKHBlcmlvZCA8IDE3IGRheXMpIHsKICAgICAgICAgICAgcmV0dXJuIDE4MDA7CiAgICAgICAgfQogICAgICAgIGlmIChwZXJpb2QgPCAxOSBkYXlzKSB7CiAgICAgICAgICAgIHJldHVybiAxNjAwOwogICAgICAgIH0KICAgICAgICBpZiAocGVyaW9kIDwgMjEgZGF5cykgewogICAgICAgICAgICByZXR1cm4gMTQwMDsKICAgICAgICB9CiAgICAgICAgaWYgKHBlcmlvZCA8IDIzIGRheXMpIHsKICAgICAgICAgICAgcmV0dXJuIDEyMDA7CiAgICAgICAgfQogICAgICAgIHJldHVybiAxMDAwOwogICAgfQoKCS8qKgoJICAgKiBAZGV2IEFsbG93cyB0byBidXkgc2hhcmVzCgkgICAqIEByZXR1cm4gYm9vbCBUcnVlIGlmIG5vIGVycm9ycwoJICAgKi8KICAgIGZ1bmN0aW9uIGJ1eSgpIHBheWFibGUgcmV0dXJucyhib29sKSB7CiAgICAgICAgaWYgKG1pbnRpbmdGaW5pc2hlZCkgewogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICB9CgogICAgICAgIHVpbnQgX2Ftb3VudCA9IDA7CiAgICAgICAgX2Ftb3VudCA9IG1zZy52YWx1ZSAqIGZhc3RCdXlCb251cygpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9hbW91bnQpOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKF9hbW91bnQpOwogICAgICAgIGJhbGFuY2VzW293bmVyXSA9IGJhbGFuY2VzW293bmVyXS5hZGQoX2Ftb3VudCAvIDg1ICogMTUpOyAvLzE1JSBzaGFyZXMgb2Ygb3duZXIKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgkvKioKCSAgICogQGRldiBPcGVucyBJQ08gKG9ubHkgb3duZXIpCgkgICAqIEByZXR1cm4gYm9vbCBUcnVlIGlmIG5vIGVycm9ycwoJICAgKi8KICAgIGZ1bmN0aW9uIHN0YXJ0TWludGluZygpIG9ubHlPd25lciByZXR1cm5zKGJvb2wpIHsKICAgICAgICBtaW50aW5nU3RhcnRUaW1lID0gbm93OwogICAgICAgIGlmIChhbHJlYWR5TWludGVkT25jZSkgewogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICB9CiAgICAgICAgYWxyZWFkeU1pbnRlZE9uY2UgPSB0cnVlOwogICAgICAgIG1pbnRpbmdGaW5pc2hlZCA9IGZhbHNlOwogICAgICAgIE1pbnRTdGFydGVkKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoJLyoqCgkgICAqIEBkZXYgQ2xvc2VzIElDTyAtIGFueW9uZSBjYW4gaW52b2tlIGlmIGludm9rZWQgdG8gc29vbiwgdGFrZXMgbm8gYWN0aW9ucwoJICAgKiBAcmV0dXJuIGJvb2wgVHJ1ZSBpZiBubyBlcnJvcnMKCSAgICovCiAgICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgcmV0dXJucyhib29sKSB7CiAgICAgICAgaWYgKG1pbnRpbmdGaW5pc2hlZCA9PSBmYWxzZSkgewogICAgICAgICAgICBpZiAobm93IC0gbWludGluZ1N0YXJ0VGltZSA+IG1heE1pbnRpbmdUaW1lKSB7CiAgICAgICAgICAgICAgICBtaW50aW5nRmluaXNoZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgTWludEZpbmlzaGVkKCk7CiAgICAgICAgICAgICAgICBnb2FsUmVhY2hlZCA9ICh0aGlzLmJhbGFuY2UgPiBtaW50aW5nR29hbCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgoJLyoqCgkgICAqIEBkZXYgRnVuY3Rpb24gcmVmdW5kcyBjb250cmlidXRvcnMgaWYgSUNPIHdhcyB1bnN1Y2Nlc2Z1bCAKCSAgICogQHJldHVybiBib29sIFRydWUgaWYgY29uZGl0aW9ucyBmb3IgcmVmdW5kIGFyZSBtZXQgZmFsc2Ugb3RoZXJ3aXNlLgoJICAgKi8KICAgIGZ1bmN0aW9uIHJlZnVuZCgpIHJldHVybnMoYm9vbCkgewogICAgICAgIGlmIChtaW50aW5nRmluaXNoZWQgPT0gdHJ1ZSAmJiBnb2FsUmVhY2hlZCA9PSBmYWxzZSAmJiBhbHJlYWR5TWludGVkT25jZSA9PSB0cnVlKSB7CiAgICAgICAgICAgIHVpbnQgdmFsdWVPZkFzc2V0cyA9IHRoaXMuYmFsYW5jZS5tdWwoYmFsYW5jZXNbbXNnLnNlbmRlcl0pLmRpdih0b3RhbFN1cHBseS5zdWIoYmFsYW5jZXNbb3duZXJdKSk7CiAgICAgICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAwOwogICAgICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKHZhbHVlT2ZBc3NldHMpOwoJCQlyZXR1cm4gdHJ1ZTsKICAgICAgICB9CgkJcmV0dXJuIGZhbHNlOwogICAgfQogCiAKCS8qKgoJICAgKiBAZGV2IEFsbG93cyB0byByZW1vdmUgYnVnZ3kgY29udHJhY3QgYmVmb3JlIElDTyBsYXVuY2gKCSAgICovCiAgICBmdW5jdGlvbiBkZXN0cm95VXNlbGVzc0NvbnRyYWN0KCkgb25seU93bmVyIG5vdE1pbnRlZFlldCB7CiAgICAgICAgc2VsZmRlc3RydWN0KG93bmVyKTsKICAgIH0KfQoKY29udHJhY3QgVGl0c1Rva2VuIGlzIE1pbnRhYmxlVG9rZW4gewogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIlRydXRoIEluIFRoZSBTb3VyY2Vjb2RlIjsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIlRJVFMiOwogICAgdWludCBwdWJsaWMgZGVjaW1hbHMgPSAxODsKICAgIHVpbnQgcHVibGljIHZvaXRpbmdTdGFydFRpbWU7CiAgICBhZGRyZXNzIHB1YmxpYyB2b3RlZEFkZHJlc3M7CiAgICB1aW50IHB1YmxpYyB2b3RlZFllcyA9IDE7CiAgICB1aW50IHB1YmxpYyB2b3RlZE5vID0gMDsKICAgIGV2ZW50IFZvdGVPblRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBiZW5lZmljaWFyeUNvbnRyYWN0KTsKICAgIGV2ZW50IFJvZ2lzdGVyVG9Wb3RlT25UcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgYmVuZWZpY2lhcnlDb250cmFjdCk7CiAgICBldmVudCBWb3RpbmdFbmRlZChhZGRyZXNzIGluZGV4ZWQgYmVuZWZpY2lhcnlDb250cmFjdCwgYm9vbCByZXN1bHQpOwoKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFZPVElOR19QUkVQQVJFX1RJTUVTUEFOID0gNyBkYXlzOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgVk9USU5HX1RJTUVTUEFOID0gIDcgZGF5czsKICAgIHVpbnQgcHVibGljIGZhaWxlZFZvdGluZ0NvdW50ID0gMDsKICAgIGJvb2wgcHVibGljIGlzVm90aW5nID0gZmFsc2U7CiAgICBib29sIHB1YmxpYyBpc1ZvdGluZ1ByZXBhcmUgPSBmYWxzZTsKCiAgICBhZGRyZXNzIHB1YmxpYyBiZW5lZmljaWFyeUNvbnRyYWN0ID0gMDsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1Nikgdm90ZXNBdmFpbGFibGU7CiAgICBhZGRyZXNzW10gcHVibGljIHZvdGVyczsKICAgIHVpbnQgdm90ZXJzQ291bnQgPSAwOwoKCS8qKgoJICAgKiBAZGV2IHZvdGluZyBsb25nIGVub3VnaHQgdG8gZ28gdG8gbmV4dCBwaGFzZSAKCSAgICovCiAgICBtb2RpZmllciB2b3RpbmdMb25nKCkgewogICAgICAgIGlmIChub3cgLSB2b2l0aW5nU3RhcnRUaW1lIDwgVk9USU5HX1RJTUVTUEFOKSByZXZlcnQoKTsKICAgICAgICBfOwogICAgfQoKCS8qKgoJICAgKiBAZGV2IHByZXBhcmF0aW9uIGZvciB2b3RpbmcgKGFwcGxpY2F0aW9uIGZvciB2b3RpbmcpIGxvbmcgZW5vdWdodCB0byBnbyB0byBuZXh0IHBoYXNlIAoJICAgKi8KICAgIG1vZGlmaWVyIHZvdGluZ1ByZXBhcmVMb25nKCkgewogICAgICAgIGlmIChub3cgLSB2b2l0aW5nU3RhcnRUaW1lIDwgVk9USU5HX1BSRVBBUkVfVElNRVNQQU4pIHJldmVydCgpOwogICAgICAgIF87CiAgICB9CgoJLyoqCgkgICAqIEBkZXYgVm90aW5nIHN0YXJ0ZWQgYW5kIGluIHByb2dyZXNzCgkgICAqLwogICAgbW9kaWZpZXIgdm90aW5nSW5Qcm9ncmVzcygpIHsKICAgICAgICBpZiAoaXNWb3RpbmcgPT0gZmFsc2UpIHJldmVydCgpOwogICAgICAgIF87CiAgICB9CgoJLyoqCgkgICAqIEBkZXYgVm90aW5nIHByZXBhcmF0aW9uIHN0YXJ0ZWQgYW5kIGluIHByb2dyZXNzCgkgICAqLwogICAgbW9kaWZpZXIgdm90aW5nUHJlcGFyZUluUHJvZ3Jlc3MoKSB7CiAgICAgICAgaWYgKGlzVm90aW5nUHJlcGFyZSA9PSBmYWxzZSkgcmV2ZXJ0KCk7CiAgICAgICAgXzsKICAgIH0KCgkvKioKCSAgICogQGRldiBWb3RlcnMgYWdyZWVkIG9uIHByb3Bvc2VkIGNvbnRyYWN0IGFuZCBFdGhlcmV1bSBpcyBiZWluZyBzZW5kIHRvIHRoYXQgY29udHJhY3QKCSAgICovCiAgICBmdW5jdGlvbiBzZW5kVG9CZW5lZmljaWFyeUNvbnRyYWN0KCkgIHsKICAgICAgICBpZiAoYmVuZWZpY2lhcnlDb250cmFjdCAhPSAwKSB7CiAgICAgICAgICAgIGJlbmVmaWNpYXJ5Q29udHJhY3QudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICB9CiAgICB9CgkJCgkvKioKCSAgICogQGRldiBjYW4gYmUgY2FsbGVkIGJ5IGFueW9uZSwgaWYgdGltZXNwYW4gd2l0aG91IGFjY2VwdGVkIHByb3Bvc2FsIGxvbmcgZW5vdWdodCAKCSAgICogZW5hYmxlcyByZWZ1bmQKCSAgICovCglmdW5jdGlvbiByZWdpc3RlclZvdGluZ1ByZXBhcmVGYWlsdXJlKCkgbWludGluZ0Nsb3NlZHsKCQlpZihub3ctbWludGluZ1N0YXJ0VGltZT4oMitmYWlsZWRWb3RpbmdDb3VudCkqbWF4TWludGluZ1RpbWUgKXsKCQkJZmFpbGVkVm90aW5nQ291bnQ9ZmFpbGVkVm90aW5nQ291bnQrMTsKICAgICAgICAgICAgaWYgKGZhaWxlZFZvdGluZ0NvdW50ID09IDEwKSB7CiAgICAgICAgICAgICAgICBnb2FsUmVhY2hlZCA9IGZhbHNlOwogICAgICAgICAgICB9CgkJfQoJfQoKCS8qKgoJICAgKiBAZGV2IG9wZW5zIHByZXBhcmF0aW9uIGZvciBuZXcgdm90aW5nIG9uIHByb3Bvc2VkIExvdHRlcnkgQ29udHJhY3QgYWRkcmVzcwoJICAgKi8KICAgIGZ1bmN0aW9uIHN0YXJ0Vm90aW5nUHJlcGFyZShhZGRyZXNzIHZvdGVkQWRkcmVzc0FyZykgbWludGluZ0Nsb3NlZCBvbmx5T3duZXJ7CiAgICAgICAgaXNWb3RpbmcgPSBmYWxzZTsKICAgICAgICBSb2dpc3RlclRvVm90ZU9uVHJhbnNmZXIodm90ZWRBZGRyZXNzQXJnKTsKICAgICAgICB2b3RlZEFkZHJlc3MgPSB2b3RlZEFkZHJlc3NBcmc7CiAgICAgICAgdm9pdGluZ1N0YXJ0VGltZSA9IG5vdzsKICAgICAgICBpc1ZvdGluZ1ByZXBhcmUgPSB0cnVlOwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IHZvdGVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBkZWxldGUgdm90ZXJzW2ldOwogICAgICAgIH0KICAgICAgICBkZWxldGUgdm90ZXJzOwogICAgICAgIHZvdGVyc0NvdW50ID0gMDsKICAgIH0KCgkvKioKCSAgICogQGRldiBwYXlhYmxlIHNvIGF0dGVuZGFuY2Ugb25seSBvZiBwZW9wbGUgd2hvIHJlYWxseSBjYXJlCgkgICAqIHJlZ2lzdGVycyBZb3UgYXMgYSB2b3RlcjsKCSAgICovCiAgICBmdW5jdGlvbiByZWdpc3RlckZvclZvdGluZygpIHBheWFibGUgdm90aW5nUHJlcGFyZUluUHJvZ3Jlc3MgewogICAgICAgIGlmIChtc2cudmFsdWUgPj0gMTAgZmlubmV5KSB7CiAgICAgICAgICAgIHZvdGVycy5wdXNoKG1zZy5zZW5kZXIpOwogICAgICAgICAgICB2b3RlcnNDb3VudCA9IHZvdGVyc0NvdW50ICsgMTsKICAgICAgICB9CgkJZWxzZXsKCQkJcmV2ZXJ0KCk7CgkJfQogICAgfQoKCS8qKgoJICAgKiBAZGV2IG9wZW5zIHZvdGluZyBvbiBwcm9wb3NlZCBMb3R0ZXJ5IENvbnRyYWN0IGFkZHJlc3MKCSAgICovCiAgICBmdW5jdGlvbiBzdGFydFZvdGluZygpIHZvdGluZ1ByZXBhcmVJblByb2dyZXNzIHZvdGluZ1ByZXBhcmVMb25nIHsKICAgICAgICBWb3RlT25UcmFuc2Zlcih2b3RlZEFkZHJlc3MpOwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IHZvdGVyc0NvdW50OyBpKyspIHsKICAgICAgICAgICAgdm90ZXNBdmFpbGFibGVbdm90ZXJzW2ldXSA9IGJhbGFuY2VPZih2b3RlcnNbaV0pOwogICAgICAgIH0KICAgICAgICBpc1ZvdGluZyA9IHRydWU7CiAgICAgICAgdm9pdGluZ1N0YXJ0VGltZSA9IG5vdzsKICAgICAgICBpc1ZvdGluZ1ByZXBhcmUgPSBmYWxzZTsKICAgICAgICB2b3RlcnNDb3VudCA9IDA7CiAgICB9CgoJLyoqCgkgICAqIEBkZXYgY2xvc2VzIHZvdGluZyBvbiBwcm9wb3NlZCBMb3R0ZXJ5IENvbnRyYWN0IGFkZHJlc3MKCSAgICogY2hlY2tzIGlmIGZhaWxlZCAtIGlmIE5vIHZvdGVzIGlzIG1vcmUgY29tbW9uIHRoYW4geWVzIGluY3JlYXNlIGZhaWxlZCB2b3RpbmcgY291bnQgYW5kIGlmIGl0IHJlYWNoZXMgMTAgCgkgICAqIHJlYWNoIG9mIGdvYWwgaXMgZmFpbGluZyBhbmQgaW52ZXN0b3JzIGNhbiB3aXRoZHJhdyB0aGVpciBtb25leQoJICAgKi8KICAgIGZ1bmN0aW9uIGNsb3NlVm9yaW5nKCkgdm90aW5nSW5Qcm9ncmVzcyB2b3RpbmdMb25nIHsKICAgICAgICBWb3RpbmdFbmRlZCh2b3RlZEFkZHJlc3MsIHZvdGVkWWVzID4gdm90ZWRObyk7CiAgICAgICAgaXNWb3RpbmcgPSBmYWxzZTsKICAgICAgICBpc1ZvdGluZ1ByZXBhcmUgPSBmYWxzZTsKICAgICAgICBpZiAodm90ZWRZZXMgPiB2b3RlZE5vKSB7CiAgICAgICAgICAgIGJlbmVmaWNpYXJ5Q29udHJhY3QgPSB2b3RlZEFkZHJlc3M7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZmFpbGVkVm90aW5nQ291bnQgPSBmYWlsZWRWb3RpbmdDb3VudCArIDE7CiAgICAgICAgICAgIGlmIChmYWlsZWRWb3RpbmdDb3VudCA9PSAxMCkgewogICAgICAgICAgICAgICAgZ29hbFJlYWNoZWQgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCgkvKioKCSAgICogQGRldiB2b3RlcyBvbiBjb250cmFjdCBwcm9wb3NhbAoJICAgKiBwYXlhYmxlIHRvIGVuc3VyZSBvbmx5IHNlcmlvdXMgdm90ZXJzIHdpbGwgYXR0ZW5kIAoJICAgKi8KICAgIGZ1bmN0aW9uIHZvdGUoYm9vbCBpc1ZvdGVZZXMpIHBheWFibGUgewoKICAgICAgICBpZiAobXNnLnZhbHVlID49IDEwIGZpbm5leSkgewogICAgICAgICAgICB2YXIgdm90ZXMgPSB2b3Rlc0F2YWlsYWJsZVttc2cuc2VuZGVyXTsKICAgICAgICAgICAgdm90ZXNBdmFpbGFibGVbbXNnLnNlbmRlcl0gPSAwOwogICAgICAgICAgICBpZiAoaXNWb3RlWWVzKSB7CiAgICAgICAgICAgICAgICB2b3RlZFllcy5hZGQodm90ZXMpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdm90ZWROby5hZGQodm90ZXMpOwogICAgICAgICAgICB9CiAgICAgICAgfQoJCWVsc2V7CgkJCXJldmVydCgpOwoJCX0KICAgIH0KfQ=='.
	

]
