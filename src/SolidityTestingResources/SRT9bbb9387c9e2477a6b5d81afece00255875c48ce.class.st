Class {
	#name : #SRT9bbb9387c9e2477a6b5d81afece00255875c48ce,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9bbb9387c9e2477a6b5d81afece00255875c48ce >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyBGaWxlOiB6ZXBwZWxpbi1zb2xpZGl0eS9jb250cmFjdHMvbWF0aC9TYWZlTWF0aC5zb2wKCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCi8vIEZpbGU6IHplcHBlbGluLXNvbGlkaXR5L2NvbnRyYWN0cy9vd25lcnNoaXAvT3duYWJsZS5zb2wKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCi8vIEZpbGU6IHplcHBlbGluLXNvbGlkaXR5L2NvbnRyYWN0cy90b2tlbi9FUkMyMEJhc2ljLnNvbAoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKLy8gRmlsZTogemVwcGVsaW4tc29saWRpdHkvY29udHJhY3RzL3Rva2VuL0Jhc2ljVG9rZW4uc29sCgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwoKICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCi8vIEZpbGU6IGNvbnRyYWN0cy9JbmtQdWJsaWNQcmVzYWxlLnNvbAoKY29udHJhY3QgSW5rUHVibGljUHJlc2FsZSBpcyBPd25hYmxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgLy8gRmxhZyB0byBpbmRpY2F0ZSB3aGV0aGVyIG9yIG5vdCB0aGUgcHJlc2FsZSBpcyBjdXJyZW50bHkgYWN0aXZlIG9yIGlzIHBhdXNlZC4KICAvLyBUaGlzIGZsYWcgaXMgdXNlZCBib3RoIGJlZm9yZSB0aGUgcHJlc2FsZSBpcyBmaW5hbGl6ZWQgYXMgd2VsbCBhcyBhZnRlci4KICAvLyBQYXVzaW5nIHRoZSBwcmVzYWxlIGJlZm9yZSBmaW5hbGl6ZSBtZWFucyB0aGF0IG5vIGZ1cnRoZXIgY29udHJpYnV0aW9ucyBjYW4KICAvLyBiZSBtYWRlLiBQYXVzaW5nIHRoZSBwcmVzYWxlIGFmdGVyIGZpbmFsaXplIG1lYW5zIHRoYXQgbm8gb25lIGNhbiBjbGFpbQogIC8vIFhOSyB0b2tlbnMuCiAgYm9vbCBwdWJsaWMgYWN0aXZlOwoKICAvLyBGbGFnIHRvIGluZGljYXRlIHdoZXRoZXIgb3Igbm90IGNvbnRyaWJ1dGlvbnMgY2FuIGJlIHJlZnVuZGVkLgogIGJvb2wgcHJpdmF0ZSByZWZ1bmRhYmxlOwoKICAvLyBUaGUgZ2xvYmFsIG1pbmltdW0gY29udHJpYnV0aW9uIChpbiBXZWkpIGltcG9zZWQgb24gYWxsIGNvbnRyaWJ1dG9ycy4KICB1aW50MjU2IHB1YmxpYyBnbG9iYWxNaW47CiAgLy8gVGhlIGdsb2JhbCBtYXhpbXVtIGNvbnRyaWJ1dGlvbiAoaW4gV2VpKSBpbXBvc2VkIG9uIGFsbCBjb250cmlidXRvcnMuCiAgLy8gQ29udHJpYnV0b3IgYWxzbyBoYXZlIGEgcGVyc29uYWwgbWF4LiBXaGVuIGV2YWx1YXRpbmcgd2hldGhlciBvciBub3QgdGhleQogIC8vIGNhbiBtYWtlIGEgY29udHJpYnV0aW9uLCB0aGUgbG93ZXIgb2YgdGhlIGdsb2JhbCBtYXggYW5kIHBlcnNvbmFsIG1heCBpcwogIC8vIHVzZWQuCiAgdWludDI1NiBwdWJsaWMgZ2xvYmFsTWF4OwogIC8vIFRoZSBtYXggYW1vdW50IG9mIEV0aGVyIChpbiBXZWkpIHRoYXQgaXMgYXZhaWxhYmxlIGZvciBjb250cmlidXRpb24uCiAgdWludDI1NiBwdWJsaWMgZXRoZXJDYXA7CiAgLy8gVGhlIHJ1bm5pbmcgY291bnQgb2YgRXRoZXIgKGluIFdlaSkgdGhhdCBpcyBhbHJlYWR5IGNvbnRyaWJ1dGVkLgogIHVpbnQyNTYgcHJpdmF0ZSBldGhlckNvbnRyaWJ1dGVkOwogIC8vIFRoZSBydW5uaW5nIGNvdW50IG9mIFhOSyB0aGF0IGlzIHB1cmNoYXNlZCBieSBjb250cmlidXRvcnMuCiAgdWludDI1NiBwcml2YXRlIHhua1B1cmNoYXNlZDsKICAvLyBUaGUgYWRkcmVzcyBvZiB0aGUgWE5LIHRva2VuIGNvbnRyYWN0LiBXaGVuIHRoaXMgYWRkcmVzcyBpcyBzZXQsIHRoZQogIC8vIHByZXNhbGUgaXMgY29uc2lkZXJlZCBmaW5hbGl6ZWQgYW5kIG5vIGZ1cnRoZXIgY29udHJpYnV0aW9ucyBjYW4gYmUgbWFkZS4KICBhZGRyZXNzIHB1YmxpYyB0b2tlbkFkZHJlc3M7CiAgLy8gTWF4IGdhcyBwcmljZSBmb3IgY29udHJpYnV0aW5nIHRyYW5zYWN0aW9ucy4KICB1aW50MjU2IHB1YmxpYyBtYXhHYXNQcmljZTsKCiAgLy8gQ29udHJpYnV0b3JzIHN0b3JhZ2UgbWFwcGluZy4KICBtYXBwaW5nKGFkZHJlc3MgPT4gQ29udHJpYnV0b3IpIHByaXZhdGUgY29udHJpYnV0b3JzOwoKICBzdHJ1Y3QgQ29udHJpYnV0b3IgewogICAgYm9vbCB3aGl0ZWxpc3RlZDsKICAgIC8vIFRoZSBpbmRpdmlkdWFsIHJhdGUgKGluIFhOSykuCiAgICB1aW50MjU2IHJhdGU7CiAgICAvLyBUaGUgaW5kaXZpZHVhbCBtYXggY29udHJpYnV0aW9uIChpbiBXZWkpLgogICAgdWludDI1NiBtYXg7CiAgICAvLyBUaGUgYW1vdW50IChpbiBXZWkpIHRoZSBjb250cmlidXRvciBoYXMgY29udHJpYnV0ZWQuCiAgICB1aW50MjU2IGJhbGFuY2U7CiAgfQoKICAvLyBUaGUgcHJlc2FsZSBpcyBjb25zaWRlcmVkIGZpbmFsaXplZCB3aGVuIHRoZSB0b2tlbiBhZGRyZXNzIGlzIHNldC4KICBtb2RpZmllciBmaW5hbGl6ZWQgewogICAgcmVxdWlyZSh0b2tlbkFkZHJlc3MgIT0gYWRkcmVzcygwKSk7CiAgICBfOwogIH0KCiAgLy8gVGhlIHByZXNhbGUgaXMgY29uc2lkZXJlZCBub3QgZmluYWxpemVkIHdoZW4gdGhlIHRva2VuIGFkZHJlc3MgaXMgbm90IHNldC4KICBtb2RpZmllciBub3RGaW5hbGl6ZWQgewogICAgcmVxdWlyZSh0b2tlbkFkZHJlc3MgPT0gYWRkcmVzcygwKSk7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gSW5rUHVibGljUHJlc2FsZSgpIHB1YmxpYyB7CiAgICBnbG9iYWxNYXggPSAxMDAwMDAwMDAwMDAwMDAwMDAwOyAvLyAxLjAgRXRoZXIKICAgIGdsb2JhbE1pbiA9IDEwMDAwMDAwMDAwMDAwMDAwMDsgIC8vIDAuMSBFdGhlcgogICAgbWF4R2FzUHJpY2UgPSA0MDAwMDAwMDAwMDsgICAgICAgLy8gNDAgR3dlaQogIH0KCiAgZnVuY3Rpb24gdXBkYXRlTWF4R2FzUHJpY2UodWludDI1NiBfbWF4R2FzUHJpY2UpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShfbWF4R2FzUHJpY2UgPiAwKTsKCiAgICBtYXhHYXNQcmljZSA9IF9tYXhHYXNQcmljZTsKICB9CgogIC8vIFJldHVybnMgdGhlIGFtb3VudCBvZiBFdGhlciBjb250cmlidXRlZCBieSBhbGwgY29udHJpYnV0b3JzLgogIGZ1bmN0aW9uIGdldEV0aGVyQ29udHJpYnV0ZWQoKSBwdWJsaWMgdmlldyBvbmx5T3duZXIgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGV0aGVyQ29udHJpYnV0ZWQ7CiAgfQoKICAvLyBSZXR1cm5zIHRoZSBhbW91bnQgb2YgWE5LIHB1cmNoYXNlZCBieSBhbGwgY29udHJpYnV0ZXMuCiAgZnVuY3Rpb24gZ2V0WE5LUHVyY2hhc2VkKCkgcHVibGljIHZpZXcgb25seU93bmVyIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiB4bmtQdXJjaGFzZWQ7CiAgfQoKICAvLyBVcGRhdGUgdGhlIGdsb2JhbCBldGhlciBjYXAuIElmIHRoZSBuZXcgY2FwIGlzIHNldCB0byBzb21ldGhpbmcgbGVzcyB0aGFuCiAgLy8gb3IgZXF1YWwgdG8gdGhlIGN1cnJlbnQgY29udHJpYnV0ZWQgZXRoZXIgKGV0aGVyQ29udHJpYnV0ZWQpLCB0aGVuIG5vCiAgLy8gbmV3IGNvbnRyaWJ1dGlvbnMgY2FuIGJlIG1hZGUuCiAgZnVuY3Rpb24gdXBkYXRlRXRoZXJDYXAodWludDI1NiBfbmV3RXRoZXJDYXApIHB1YmxpYyBub3RGaW5hbGl6ZWQgb25seU93bmVyIHsKICAgIGV0aGVyQ2FwID0gX25ld0V0aGVyQ2FwOwogIH0KCiAgLy8gVXBkYXRlIHRoZSBnbG9iYWwgbWF4IGNvbnRyaWJ1dGlvbi4KICBmdW5jdGlvbiB1cGRhdGVHbG9iYWxNYXgodWludDI1NiBfZ2xvYmFsTWF4KSBwdWJsaWMgbm90RmluYWxpemVkIG9ubHlPd25lciB7CiAgICByZXF1aXJlKF9nbG9iYWxNYXggPiBnbG9iYWxNaW4pOwoKICAgIGdsb2JhbE1heCA9IF9nbG9iYWxNYXg7CiAgfQoKICAvLyBVcGRhdGUgdGhlIGdsb2JhbCBtaW5pbXVtIGNvbnRyaWJ1dGlvbi4KICBmdW5jdGlvbiB1cGRhdGVHbG9iYWxNaW4odWludDI1NiBfZ2xvYmFsTWluKSBwdWJsaWMgbm90RmluYWxpemVkIG9ubHlPd25lciB7CiAgICByZXF1aXJlKF9nbG9iYWxNaW4gPiAwKTsKICAgIHJlcXVpcmUoX2dsb2JhbE1pbiA8IGdsb2JhbE1heCk7CgogICAgZ2xvYmFsTWluID0gX2dsb2JhbE1pbjsKICB9CgogIGZ1bmN0aW9uIHVwZGF0ZVRva2VuQWRkcmVzcyhhZGRyZXNzIF90b2tlbkFkZHJlc3MpIHB1YmxpYyBmaW5hbGl6ZWQgb25seU93bmVyIHsKICAgIHJlcXVpcmUoX3Rva2VuQWRkcmVzcyAhPSBhZGRyZXNzKDApKTsKCiAgICB0b2tlbkFkZHJlc3MgPSBfdG9rZW5BZGRyZXNzOwogIH0KCiAgLy8gUGF1c2UgdGhlIHByZXNhbGUgKGRpc2FibGVzIGNvbnRyaWJ1dGlvbnMgYW5kIHRva2VuIGNsYWltaW5nKS4KICBmdW5jdGlvbiBwYXVzZSgpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShhY3RpdmUpOwogICAgYWN0aXZlID0gZmFsc2U7CiAgfQoKICAvLyBSZXN1bWUgdGhlIHByZXNhbGUgKGVuYWJsZXMgY29udHJpYnV0aW9ucyBhbmQgdG9rZW4gY2xhaW1pbmcpLgogIGZ1bmN0aW9uIHJlc3VtZSgpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZSghYWN0aXZlKTsKICAgIGFjdGl2ZSA9IHRydWU7CiAgfQoKICAvLyBBbGxvdyBjb250cmlidXRvcnMgdG8gY2FsbCB0aGUgcmVmdW5kIGZ1bmN0aW9uIHRvIGdldCB0aGVpciBjb250cmlidXRpb25zCiAgLy8gcmV0dXJuZWQgdG8gdGhlaXIgd2hpdGVsaXN0ZWQgYWRkcmVzcy4KICBmdW5jdGlvbiBlbmFibGVSZWZ1bmQoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoIXJlZnVuZGFibGUpOwogICAgcmVmdW5kYWJsZSA9IHRydWU7CiAgfQoKICAvLyBEaXNhbGxvdyByZWZ1bmRzICh0aGlzIGlzIHRoZSBjYXNlIGJ5IGRlZmF1bHQpLgogIGZ1bmN0aW9uIGRpc2FibGVSZWZ1bmQoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUocmVmdW5kYWJsZSk7CiAgICByZWZ1bmRhYmxlID0gZmFsc2U7CiAgfQoKICAvLyBBZGQgYSBjb250cmlidXRvciB0byB0aGUgd2hpdGVsaXN0LgogIGZ1bmN0aW9uIGFkZENvbnRyaWJ1dG9yKGFkZHJlc3MgX2FjY291bnQsIHVpbnQyNTYgX3JhdGUsIHVpbnQyNTYgX21heCkgcHVibGljIG9ubHlPd25lciBub3RGaW5hbGl6ZWQgewogICAgcmVxdWlyZShfYWNjb3VudCAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3JhdGUgPiAwKTsKICAgIHJlcXVpcmUoX21heCA+PSBnbG9iYWxNaW4pOwogICAgcmVxdWlyZSghY29udHJpYnV0b3JzW19hY2NvdW50XS53aGl0ZWxpc3RlZCk7CgogICAgY29udHJpYnV0b3JzW19hY2NvdW50XS53aGl0ZWxpc3RlZCA9IHRydWU7CiAgICBjb250cmlidXRvcnNbX2FjY291bnRdLm1heCA9IF9tYXg7CiAgICBjb250cmlidXRvcnNbX2FjY291bnRdLnJhdGUgPSBfcmF0ZTsKICB9CgogIC8vIFVwZGF0ZXMgYSBjb250cmlidXRvcidzIHJhdGUgYW5kL29yIG1heC4KICBmdW5jdGlvbiB1cGRhdGVDb250cmlidXRvcihhZGRyZXNzIF9hY2NvdW50LCB1aW50MjU2IF9uZXdSYXRlLCB1aW50MjU2IF9uZXdNYXgpIHB1YmxpYyBvbmx5T3duZXIgbm90RmluYWxpemVkIHsKICAgIHJlcXVpcmUoX2FjY291bnQgIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF9uZXdSYXRlID4gMCk7CiAgICByZXF1aXJlKF9uZXdNYXggPj0gZ2xvYmFsTWluKTsKICAgIHJlcXVpcmUoY29udHJpYnV0b3JzW19hY2NvdW50XS53aGl0ZWxpc3RlZCk7CgogICAgLy8gQWNjb3VudCBmb3IgYW55IGNoYW5nZXMgaW4gcmF0ZSBzaW5jZSB3ZSBhcmUga2VlcGluZyB0cmFjayBvZiB0b3RhbCBYTksKICAgIC8vIHB1cmNoYXNlZC4KICAgIGlmIChjb250cmlidXRvcnNbX2FjY291bnRdLmJhbGFuY2UgPiAwICYmIGNvbnRyaWJ1dG9yc1tfYWNjb3VudF0ucmF0ZSAhPSBfbmV3UmF0ZSkgewogICAgICAvLyBQdXQgYmFjayB0aGUgcHVyY2hhc2VkIFhOSyBmb3IgdGhlIG9sZCByYXRlLgogICAgICB4bmtQdXJjaGFzZWQgPSB4bmtQdXJjaGFzZWQuc3ViKGNvbnRyaWJ1dG9yc1tfYWNjb3VudF0uYmFsYW5jZS5tdWwoY29udHJpYnV0b3JzW19hY2NvdW50XS5yYXRlKSk7CgogICAgICAvLyBQdXJjaGFzZSBYTksgYXQgdGhlIG5ldyByYXRlLgogICAgICB4bmtQdXJjaGFzZWQgPSB4bmtQdXJjaGFzZWQuYWRkKGNvbnRyaWJ1dG9yc1tfYWNjb3VudF0uYmFsYW5jZS5tdWwoX25ld1JhdGUpKTsKICAgIH0KCiAgICBjb250cmlidXRvcnNbX2FjY291bnRdLnJhdGUgPSBfbmV3UmF0ZTsKICAgIGNvbnRyaWJ1dG9yc1tfYWNjb3VudF0ubWF4ID0gX25ld01heDsKICB9CgogIC8vIFJlbW92ZSB0aGUgY29udHJpYnV0b3IgZnJvbSB0aGUgd2hpdGVsaXN0LiBUaGlzIGFsc28gcmVmdW5kcyB0aGVpcgogIC8vIGNvbnRyaWJ1dGlvbiBpZiB0aGV5IGhhdmUgbWFkZSBhbnkuCiAgZnVuY3Rpb24gcmVtb3ZlQ29udHJpYnV0b3IoYWRkcmVzcyBfYWNjb3VudCkgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKF9hY2NvdW50ICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShjb250cmlidXRvcnNbX2FjY291bnRdLndoaXRlbGlzdGVkKTsKCiAgICAvLyBSZW1vdmUgZnJvbSB3aGl0ZWxpc3QuCiAgICBjb250cmlidXRvcnNbX2FjY291bnRdLndoaXRlbGlzdGVkID0gZmFsc2U7CgogICAgLy8gSWYgY29udHJpYnV0aW9ucyB3ZXJlIG1hZGUsIHJlZnVuZCBpdC4KICAgIGlmIChjb250cmlidXRvcnNbX2FjY291bnRdLmJhbGFuY2UgPiAwKSB7CiAgICAgIHVpbnQyNTYgYmFsYW5jZSA9IGNvbnRyaWJ1dG9yc1tfYWNjb3VudF0uYmFsYW5jZTsKCiAgICAgIGNvbnRyaWJ1dG9yc1tfYWNjb3VudF0uYmFsYW5jZSA9IDA7CiAgICAgIHhua1B1cmNoYXNlZCA9IHhua1B1cmNoYXNlZC5zdWIoYmFsYW5jZS5tdWwoY29udHJpYnV0b3JzW19hY2NvdW50XS5yYXRlKSk7CiAgICAgIGV0aGVyQ29udHJpYnV0ZWQgPSBldGhlckNvbnRyaWJ1dGVkLnN1YihiYWxhbmNlKTsKCiAgICAgIC8vIFhYWDogVGhlIGV4Y2xhbWF0aW9uIHBvaW50IGRvZXMgbm90aGluZy4gV2UganVzdCB3YW50IHRvIGdldCByaWQgb2YgdGhlCiAgICAgIC8vIGNvbXBpbGVyIHdhcm5pbmcgdGhhdCB3ZSdyZSBub3QgdXNpbmcgdGhlIHJldHVybmVkIHZhbHVlIG9mIHRoZSBFdGhlcgogICAgICAvLyB0cmFuc2Zlci4gVGhlIHRyYW5zZmVyICpjYW4qIGZhaWwgYnV0IHdlIGRvbid0IHdhbnQgaXQgdG8gc3RvcCB0aGUKICAgICAgLy8gcmVtb3ZhbCBvZiB0aGUgY29udHJpYnV0b3IuIFdlIHdpbGwgZGVhbCBpZiB0aGUgdHJhbnNmZXIgZmFpbHVyZQogICAgICAvLyBtYW51YWxseSBvdXRzaWRlIHRoaXMgY29udHJhY3QuCiAgICAgICFfYWNjb3VudC5jYWxsLnZhbHVlKGJhbGFuY2UpKCk7CiAgICB9CgogICAgZGVsZXRlIGNvbnRyaWJ1dG9yc1tfYWNjb3VudF07CiAgfQoKICBmdW5jdGlvbiB3aXRoZHJhd1hOSyhhZGRyZXNzIF90bykgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCiAgICBCYXNpY1Rva2VuIHRva2VuID0gQmFzaWNUb2tlbih0b2tlbkFkZHJlc3MpOwogICAgYXNzZXJ0KHRva2VuLnRyYW5zZmVyKF90bywgdG9rZW4uYmFsYW5jZU9mKHRoaXMpKSk7CiAgfQoKICBmdW5jdGlvbiB3aXRoZHJhd0V0aGVyKGFkZHJlc3MgX3RvKSBwdWJsaWMgZmluYWxpemVkIG9ubHlPd25lciB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCiAgICBhc3NlcnQoX3RvLmNhbGwudmFsdWUodGhpcy5iYWxhbmNlKSgpKTsKICB9CgogIC8vIFJldHVybnMgYSBjb250cmlidXRvcidzIGJhbGFuY2UuCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX2FjY291bnQpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJlcXVpcmUoX2FjY291bnQgIT0gYWRkcmVzcygwKSk7CgogICAgcmV0dXJuIGNvbnRyaWJ1dG9yc1tfYWNjb3VudF0uYmFsYW5jZTsKICB9CgogIC8vIFdoZW4gcmVmdW5kcyBhcmUgZW5hYmxlZCwgY29udHJpYnV0b3JzIGNhbiBjYWxsIHRoaXMgZnVuY3Rpb24gZ2V0IHRoZWlyCiAgLy8gY29udHJpYnV0ZWQgRXRoZXIgYmFjay4gVGhlIGNvbnRyaWJ1dG9yIG11c3Qgc3RpbGwgYmUgd2hpdGVsaXN0ZWQuCiAgZnVuY3Rpb24gcmVmdW5kKCkgcHVibGljIHsKICAgIHJlcXVpcmUoYWN0aXZlKTsKICAgIHJlcXVpcmUocmVmdW5kYWJsZSk7CiAgICByZXF1aXJlKGNvbnRyaWJ1dG9yc1ttc2cuc2VuZGVyXS53aGl0ZWxpc3RlZCk7CgogICAgdWludDI1NiBiYWxhbmNlID0gY29udHJpYnV0b3JzW21zZy5zZW5kZXJdLmJhbGFuY2U7CgogICAgcmVxdWlyZShiYWxhbmNlID4gMCk7CgogICAgY29udHJpYnV0b3JzW21zZy5zZW5kZXJdLmJhbGFuY2UgPSAwOwogICAgZXRoZXJDb250cmlidXRlZCA9IGV0aGVyQ29udHJpYnV0ZWQuc3ViKGJhbGFuY2UpOwogICAgeG5rUHVyY2hhc2VkID0geG5rUHVyY2hhc2VkLnN1YihiYWxhbmNlLm11bChjb250cmlidXRvcnNbbXNnLnNlbmRlcl0ucmF0ZSkpOwoKICAgIGFzc2VydChtc2cuc2VuZGVyLmNhbGwudmFsdWUoYmFsYW5jZSkoKSk7CiAgfQoKICBmdW5jdGlvbiBhaXJkcm9wKGFkZHJlc3MgX2FjY291bnQpIHB1YmxpYyBmaW5hbGl6ZWQgb25seU93bmVyIHsKICAgIF9wcm9jZXNzUGF5b3V0KF9hY2NvdW50KTsKICB9CgogIC8vIEZpbmFsaXplIHRoZSBwcmVzYWxlIGJ5IHNwZWNpZnlpbmcgdGhlIFhOSyB0b2tlbidzIGNvbnRyYWN0IGFkZHJlc3MuCiAgLy8gTm8gZnVydGhlciBjb250cmlidXRpb25zIGNhbiBiZSBtYWRlLiBUaGUgcHJlc2FsZSB3aWxsIGJlIGluIHRoZQogIC8vICJ0b2tlbiBjbGFpbWluZyIgcGhhc2UuCiAgZnVuY3Rpb24gZmluYWxpemUoYWRkcmVzcyBfdG9rZW5BZGRyZXNzKSBwdWJsaWMgbm90RmluYWxpemVkIG9ubHlPd25lciB7CiAgICByZXF1aXJlKF90b2tlbkFkZHJlc3MgIT0gYWRkcmVzcygwKSk7CgogICAgdG9rZW5BZGRyZXNzID0gX3Rva2VuQWRkcmVzczsKICB9CgogIC8vIEZhbGxiYWNrL3BheWFibGUgbWV0aG9kIGZvciBjb250cmlidXRpb25zIGFuZCB0b2tlbiBjbGFpbWluZy4KICBmdW5jdGlvbiAoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAvLyBBbGxvdyB0aGUgb3duZXIgdG8gc2VuZCBFdGhlciB0byB0aGUgY29udHJhY3QgYXJiaXRyYXJpbHkuCiAgICBpZiAobXNnLnNlbmRlciA9PSBvd25lciAmJiBtc2cudmFsdWUgPiAwKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICByZXF1aXJlKGFjdGl2ZSk7CiAgICByZXF1aXJlKGNvbnRyaWJ1dG9yc1ttc2cuc2VuZGVyXS53aGl0ZWxpc3RlZCk7CgogICAgaWYgKHRva2VuQWRkcmVzcyA9PSBhZGRyZXNzKDApKSB7CiAgICAgIC8vIFByZXNhbGUgaXMgc3RpbGwgYWNjZXB0aW5nIGNvbnRyaWJ1dGlvbnMuCiAgICAgIF9wcm9jZXNzQ29udHJpYnV0aW9uKCk7CiAgICB9IGVsc2UgewogICAgICAvLyBQcmVzYWxlIGhhcyBiZWVuIGZpbmFsaXplZCBhbmQgdGhlIHVzZXIgaXMgYXR0ZW1wdGluZyB0byBjbGFpbQogICAgICAvLyBYTksgdG9rZW5zLgogICAgICBfcHJvY2Vzc1BheW91dChtc2cuc2VuZGVyKTsKICAgIH0KICB9CgogIC8vIFByb2Nlc3MgdGhlIGNvbnRyaWJ1dGlvbi4KICBmdW5jdGlvbiBfcHJvY2Vzc0NvbnRyaWJ1dGlvbigpIHByaXZhdGUgewogICAgLy8gTXVzdCBiZSBjb250cmlidXRpbmcgYSBwb3NpdGl2ZSBhbW91bnQuCiAgICByZXF1aXJlKG1zZy52YWx1ZSA+IDApOwogICAgLy8gTGltaXQgdGhlIHRyYW5zYWN0aW9uJ3MgZ2FzIHByaWNlLgogICAgcmVxdWlyZSh0eC5nYXNwcmljZSA8PSBtYXhHYXNQcmljZSk7CiAgICAvLyBUaGUgc3VtIG9mIHRoZSBjb250cmlidXRvcidzIHRvdGFsIGNvbnRyaWJ1dGlvbnMgbXVzdCBiZSBoaWdoZXIgdGhhbiB0aGUKICAgIC8vIGdsb2JhbCBtaW5pbXVtLgogICAgcmVxdWlyZShjb250cmlidXRvcnNbbXNnLnNlbmRlcl0uYmFsYW5jZS5hZGQobXNnLnZhbHVlKSA+PSBnbG9iYWxNaW4pOwogICAgLy8gVGhlIGdsb2JhbCBjb250cmlidXRpb24gY2FwIG11c3QgYmUgaGlnaGVyIHRoYW4gd2hhdCBoYXMgYmVlbiBjb250cmlidXRlZAogICAgLy8gYnkgZXZlcnlvbmUuIE90aGVyd2lzZSwgdGhlcmUncyB6ZXJvIHJvb20gZm9yIGFueSBjb250cmlidXRpb24uCiAgICByZXF1aXJlKGV0aGVyQ2FwID4gZXRoZXJDb250cmlidXRlZCk7CiAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGlzIHNwZWNpZmljIGNvbnRyaWJ1dGlvbiBkb2VzIG5vdCB0YWtlIHRoZSB0b3RhbAogICAgLy8gY29udHJpYnV0aW9uIGJ5IGV2ZXJ5b25lIG92ZXIgdGhlIGdsb2JhbCBjb250cmlidXRpb24gY2FwLgogICAgcmVxdWlyZShtc2cudmFsdWUgPD0gZXRoZXJDYXAuc3ViKGV0aGVyQ29udHJpYnV0ZWQpKTsKCiAgICB1aW50MjU2IG5ld0JhbGFuY2UgPSBjb250cmlidXRvcnNbbXNnLnNlbmRlcl0uYmFsYW5jZS5hZGQobXNnLnZhbHVlKTsKCiAgICAvLyBXZSBsaW1pdCB0aGUgaW5kaXZpZHVhbCdzIGNvbnRyaWJ1dGlvbiBiYXNlZCBvbiB3aGljaGV2ZXIgaXMgbG93ZXIKICAgIC8vIGJldHdlZW4gdGhlaXIgaW5kaXZpZHVhbCBtYXggb3IgdGhlIGdsb2JhbCBtYXguCiAgICBpZiAoZ2xvYmFsTWF4IDw9IGNvbnRyaWJ1dG9yc1ttc2cuc2VuZGVyXS5tYXgpIHsKICAgICAgcmVxdWlyZShuZXdCYWxhbmNlIDw9IGdsb2JhbE1heCk7CiAgICB9IGVsc2UgewogICAgICByZXF1aXJlKG5ld0JhbGFuY2UgPD0gY29udHJpYnV0b3JzW21zZy5zZW5kZXJdLm1heCk7CiAgICB9CgogICAgLy8gSW5jcmVtZW50IHRoZSBjb250cmlidXRvcidzIGJhbGFuY2UuCiAgICBjb250cmlidXRvcnNbbXNnLnNlbmRlcl0uYmFsYW5jZSA9IG5ld0JhbGFuY2U7CiAgICAvLyBJbmNyZW1lbnQgdGhlIHRvdGFsIGFtb3VudCBvZiBFdGhlciBjb250cmlidXRlZCBieSBldmVyeW9uZS4KICAgIGV0aGVyQ29udHJpYnV0ZWQgPSBldGhlckNvbnRyaWJ1dGVkLmFkZChtc2cudmFsdWUpOwogICAgLy8gSW5jcmVtZW50IHRoZSB0b3RhbCBhbW91bnQgb2YgWE5LIHB1cmNoYXNlZCBieSBldmVyeW9uZS4KICAgIHhua1B1cmNoYXNlZCA9IHhua1B1cmNoYXNlZC5hZGQobXNnLnZhbHVlLm11bChjb250cmlidXRvcnNbbXNnLnNlbmRlcl0ucmF0ZSkpOwogIH0KCiAgLy8gUHJvY2VzcyB0aGUgdG9rZW4gY2xhaW0uCiAgZnVuY3Rpb24gX3Byb2Nlc3NQYXlvdXQoYWRkcmVzcyBfcmVjaXBpZW50KSBwcml2YXRlIHsKICAgIC8vIFRoZSB0cmFuc2FjdGlvbiBtdXN0IGJlIDAgRXRoZXIuCiAgICByZXF1aXJlKG1zZy52YWx1ZSA9PSAwKTsKCiAgICB1aW50MjU2IGJhbGFuY2UgPSBjb250cmlidXRvcnNbX3JlY2lwaWVudF0uYmFsYW5jZTsKCiAgICAvLyBUaGUgY29udHJpYnV0b3IgbXVzdCBoYXZlIGNvbnRyaWJ1dGVkIHNvbWV0aGluZy4KICAgIHJlcXVpcmUoYmFsYW5jZSA+IDApOwoKICAgIC8vIEZpZ3VyZSBvdXQgdGhlIGFtb3VudCBvZiBYTksgdGhlIGNvbnRyaWJ1dG9yIHdpbGwgcmVjZWl2ZS4KICAgIHVpbnQyNTYgYW1vdW50ID0gYmFsYW5jZS5tdWwoY29udHJpYnV0b3JzW19yZWNpcGllbnRdLnJhdGUpOwoKICAgIC8vIFplcm8gb3V0IHRoZSBjb250cmlidXRvcidzIGJhbGFuY2UgdG8gZGVub3RlIHRoYXQgdGhleSBoYXZlIHJlY2VpdmVkCiAgICAvLyB0aGVpciB0b2tlbnMuCiAgICBjb250cmlidXRvcnNbX3JlY2lwaWVudF0uYmFsYW5jZSA9IDA7CgogICAgLy8gVHJhbnNmZXIgWE5LIHRvIHRoZSBjb250cmlidXRvci4KICAgIGFzc2VydChCYXNpY1Rva2VuKHRva2VuQWRkcmVzcykudHJhbnNmZXIoX3JlY2lwaWVudCwgYW1vdW50KSk7CiAgfQp9'.
	

]
