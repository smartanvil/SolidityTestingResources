Class {
	#name : #SRT2e7dd1c675b6918c51eee53d95435239eb01ce7d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT2e7dd1c675b6918c51eee53d95435239eb01ce7d >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7Cgpjb250cmFjdCBEU0F1dGhvcml0eSB7CiAgICBmdW5jdGlvbiBjYW5DYWxsKAogICAgICAgIGFkZHJlc3Mgc3JjLCBhZGRyZXNzIGRzdCwgYnl0ZXM0IHNpZwogICAgKSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sKTsKfQoKY29udHJhY3QgRFNBdXRoRXZlbnRzIHsKICAgIGV2ZW50IExvZ1NldEF1dGhvcml0eSAoYWRkcmVzcyBpbmRleGVkIGF1dGhvcml0eSk7CiAgICBldmVudCBMb2dTZXRPd25lciAgICAgKGFkZHJlc3MgaW5kZXhlZCBvd25lcik7Cn0KCmNvbnRyYWN0IERTQXV0aCBpcyBEU0F1dGhFdmVudHMgewogICAgRFNBdXRob3JpdHkgIHB1YmxpYyAgYXV0aG9yaXR5OwogICAgYWRkcmVzcyAgICAgIHB1YmxpYyAgb3duZXI7CgogICAgZnVuY3Rpb24gRFNBdXRoKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgTG9nU2V0T3duZXIobXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0T3duZXIoYWRkcmVzcyBvd25lcl8pCiAgICAgICAgcHVibGljCiAgICAgICAgYXV0aAogICAgewogICAgICAgIG93bmVyID0gb3duZXJfOwogICAgICAgIExvZ1NldE93bmVyKG93bmVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRBdXRob3JpdHkoRFNBdXRob3JpdHkgYXV0aG9yaXR5XykKICAgICAgICBwdWJsaWMKICAgICAgICBhdXRoCiAgICB7CiAgICAgICAgYXV0aG9yaXR5ID0gYXV0aG9yaXR5XzsKICAgICAgICBMb2dTZXRBdXRob3JpdHkoYXV0aG9yaXR5KTsKICAgIH0KCiAgICBtb2RpZmllciBhdXRoIHsKICAgICAgICByZXF1aXJlKGlzQXV0aG9yaXplZChtc2cuc2VuZGVyLCBtc2cuc2lnKSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBpc0F1dGhvcml6ZWQoYWRkcmVzcyBzcmMsIGJ5dGVzNCBzaWcpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGlmIChzcmMgPT0gYWRkcmVzcyh0aGlzKSkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKHNyYyA9PSBvd25lcikgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKGF1dGhvcml0eSA9PSBEU0F1dGhvcml0eSgwKSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGF1dGhvcml0eS5jYW5DYWxsKHNyYywgdGhpcywgc2lnKTsKICAgICAgICB9CiAgICB9Cn0KCmNvbnRyYWN0IERTTm90ZSB7CiAgICBldmVudCBMb2dOb3RlKAogICAgICAgIGJ5dGVzNCAgIGluZGV4ZWQgIHNpZywKICAgICAgICBhZGRyZXNzICBpbmRleGVkICBndXksCiAgICAgICAgYnl0ZXMzMiAgaW5kZXhlZCAgZm9vLAogICAgICAgIGJ5dGVzMzIgIGluZGV4ZWQgIGJhciwKICAgICAgICB1aW50ICAgICAgICAgICAgICB3YWQsCiAgICAgICAgYnl0ZXMgICAgICAgICAgICAgZmF4CiAgICApIGFub255bW91czsKCiAgICBtb2RpZmllciBub3RlIHsKICAgICAgICBieXRlczMyIGZvbzsKICAgICAgICBieXRlczMyIGJhcjsKCiAgICAgICAgYXNzZW1ibHkgewogICAgICAgICAgICBmb28gOj0gY2FsbGRhdGFsb2FkKDQpCiAgICAgICAgICAgIGJhciA6PSBjYWxsZGF0YWxvYWQoMzYpCiAgICAgICAgfQoKICAgICAgICBMb2dOb3RlKG1zZy5zaWcsIG1zZy5zZW5kZXIsIGZvbywgYmFyLCBtc2cudmFsdWUsIG1zZy5kYXRhKTsKCiAgICAgICAgXzsKICAgIH0KfQoKLy8gVG9rZW4gc3RhbmRhcmQgQVBJCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAoKY29udHJhY3QgRVJDMjAgewogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50IHN1cHBseSk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoIGFkZHJlc3Mgd2hvICkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCB2YWx1ZSk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoIGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlciApIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgX2FsbG93YW5jZSk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIG9rKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbSggYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBvayk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKCBhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdmFsdWUgKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBvayk7CgogICAgZXZlbnQgVHJhbnNmZXIoIGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoIGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwp9Cgpjb250cmFjdCBEU1N0b3AgaXMgRFNOb3RlLCBEU0F1dGggewoKICAgIGJvb2wgcHVibGljIHN0b3BwZWQ7CgogICAgbW9kaWZpZXIgc3RvcHBhYmxlIHsKICAgICAgICByZXF1aXJlKCFzdG9wcGVkKTsKICAgICAgICBfOwogICAgfQogICAgZnVuY3Rpb24gc3RvcCgpIHB1YmxpYyBhdXRoIG5vdGUgewogICAgICAgIHN0b3BwZWQgPSB0cnVlOwogICAgfQogICAgZnVuY3Rpb24gc3RhcnQoKSBwdWJsaWMgYXV0aCBub3RlIHsKICAgICAgICBzdG9wcGVkID0gZmFsc2U7CiAgICB9Cgp9CgovKioKICogTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcwogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIG1heDY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW42NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtYXgyNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQp9Cgpjb250cmFjdCBUb2tlblRyYW5zZmVyR3VhcmQgewogICAgZnVuY3Rpb24gb25Ub2tlblRyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sKTsKfQoKY29udHJhY3QgUmV3YXJkU2hhcmVkUG9vbCBpcyBEU1N0b3AgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgdWludCBwdWJsaWMgbWF4UmV3YXJkICAgICAgPSAxMDAwMDAwIGV0aGVyOwoKICAgIHVpbnQgcHVibGljIGNvbnN1bWVkICAgPSAwOwoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgY29uc3VtZXJzOwoKICAgIG1vZGlmaWVyIG9ubHlDb25zdW1lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyIHx8IGNvbnN1bWVyc1ttc2cuc2VuZGVyXSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBSZXdhcmRTaGFyZWRQb29sKCkKICAgIHsKICAgIH0KCiAgICBmdW5jdGlvbiBjb25zdW1lKHVpbnQgYW1vdW50KSBvbmx5Q29uc3VtZXIgcHVibGljIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgcmVxdWlyZShhdmFpbGFibGUoYW1vdW50KSk7CgogICAgICAgIGNvbnN1bWVkID0gY29uc3VtZWQuYWRkKGFtb3VudCk7CgogICAgICAgIENvbnN1bWUobXNnLnNlbmRlciwgYW1vdW50KTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYXZhaWxhYmxlKHVpbnQgYW1vdW50KSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICByZXR1cm4gY29uc3VtZWQuYWRkKGFtb3VudCkgPD0gbWF4UmV3YXJkOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoYW5nZU1heFJld2FyZCh1aW50IF9tYXhSZXdhcmQpIGF1dGggcHVibGljCiAgICB7CiAgICAgICAgbWF4UmV3YXJkID0gX21heFJld2FyZDsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGRDb25zdW1lcihhZGRyZXNzIGNvbnN1bWVyKSBwdWJsaWMgYXV0aAogICAgewogICAgICAgIGNvbnN1bWVyc1tjb25zdW1lcl0gPSB0cnVlOwoKICAgICAgICBDb25zdW1lckFkZGl0aW9uKGNvbnN1bWVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiByZW1vdmVDb25zdW1lcihhZGRyZXNzIGNvbnN1bWVyKSBwdWJsaWMgYXV0aAogICAgewogICAgICAgIGNvbnN1bWVyc1tjb25zdW1lcl0gPSBmYWxzZTsKCiAgICAgICAgQ29uc3VtZXJSZW1vdmFsKGNvbnN1bWVyKTsKICAgIH0KCiAgICBldmVudCBDb25zdW1lKGFkZHJlc3MgaW5kZXhlZCBfc2VuZGVyLCB1aW50IF92YWx1ZSk7CiAgICBldmVudCBDb25zdW1lckFkZGl0aW9uKGFkZHJlc3MgaW5kZXhlZCBfY29uc3VtZXIpOwogICAgZXZlbnQgQ29uc3VtZXJSZW1vdmFsKGFkZHJlc3MgaW5kZXhlZCBfY29uc3VtZXIpOwp9Cgpjb250cmFjdCBBVE5Mb25nVGVybUhvbGRpbmcgaXMgRFNTdG9wLCBUb2tlblRyYW5zZmVyR3VhcmQgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgREVQT1NJVF9XSU5ET1cgICAgICAgICAgICAgICAgID0gNjAgZGF5czsKCiAgICAvLyBUaGVyZSBhcmUgdGhyZWUga2luZHMgb2Ygb3B0aW9uczogMS4gezEwNSwgMTIwIGRheXN9LCAyLiB7MTEwLCAyNDAgZGF5c30sIDMuIHsxMTUsIDM2MCBkYXlzfQogICAgdWludCBwdWJsaWMgcmF0ZSA9IDEwNTsKICAgIHVpbnQgcHVibGljIHdpdGhkcmF3YWxfZGVsYXkgICAgPSAxMjAgZGF5czsKCiAgICB1aW50IHB1YmxpYyBhZ3RBdG5SZWNlaXZlZCAgICAgID0gMDsKICAgIHVpbnQgcHVibGljIGF0blNlbnQgICAgICAgICAgICAgPSAwOwoKICAgIHVpbnQgcHVibGljIGRlcG9zaXRTdGFydFRpbWUgICAgPSAwOwogICAgdWludCBwdWJsaWMgZGVwb3NpdFN0b3BUaW1lICAgICA9IDA7CgogICAgUmV3YXJkU2hhcmVkUG9vbCBwdWJsaWMgcG9vbDsKCiAgICBzdHJ1Y3QgUmVjb3JkIHsKICAgICAgICB1aW50IGFndEF0bkFtb3VudDsKICAgICAgICB1aW50IHRpbWVzdGFtcDsKICAgIH0KCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IFJlY29yZCkgcHVibGljIHJlY29yZHM7CgogICAgRVJDMjAgcHVibGljIEFHVDsKICAgIEVSQzIwIHB1YmxpYyBBVE47CgogICAgdWludCBwdWJsaWMgZ2FzUmVxdWlyZWQ7CgogICAgZnVuY3Rpb24gQVROTG9uZ1Rlcm1Ib2xkaW5nKGFkZHJlc3MgX2FndCwgYWRkcmVzcyBfYXRuLCBhZGRyZXNzIF9wb29sQWRkcmVzcywgdWludCBfcmF0ZSwgdWludCBfZGVsYXlEYXlzKQogICAgewogICAgICAgIEFHVCA9IEVSQzIwKF9hZ3QpOwogICAgICAgIEFUTiA9IEVSQzIwKF9hdG4pOwoKICAgICAgICBwb29sID0gUmV3YXJkU2hhcmVkUG9vbChfcG9vbEFkZHJlc3MpOwoKICAgICAgICByZXF1aXJlKF9yYXRlID4gMTAwKTsKCiAgICAgICAgcmF0ZSA9IF9yYXRlOwogICAgICAgIHdpdGhkcmF3YWxfZGVsYXkgPSBfZGVsYXlEYXlzICogMSBkYXlzOwogICAgfQoKICAgIGZ1bmN0aW9uIHN0YXJ0KCkgcHVibGljIGF1dGggewogICAgICAgIHJlcXVpcmUoZGVwb3NpdFN0YXJ0VGltZSA9PSAwKTsKCiAgICAgICAgZGVwb3NpdFN0YXJ0VGltZSA9IG5vdzsKICAgICAgICBkZXBvc2l0U3RvcFRpbWUgID0gbm93ICsgREVQT1NJVF9XSU5ET1c7CgogICAgICAgIFN0YXJ0ZWQoZGVwb3NpdFN0YXJ0VGltZSk7CiAgICB9CgogICAgZnVuY3Rpb24gY2hhbmdlRGVwb3NpdFN0b3BUaW1lRnJvbU5vdyh1aW50IF9kYXlzRnJvbU5vdykgcHVibGljIGF1dGggewogICAgICAgIGRlcG9zaXRTdG9wVGltZSA9IG5vdyArIF9kYXlzRnJvbU5vdyAqIDEgZGF5czsKICAgIH0KCiAgICBmdW5jdGlvbiB0b2tlbkZhbGxiYWNrKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZGF0YSkgcHVibGljCiAgICB7CiAgICAgICAgdG9rZW5GYWxsYmFjayhfZnJvbSwgX3ZhbHVlKTsKICAgIH0KCiAgICAvLyBUT0RPOiBUbyB0ZXN0IHRoZSBzdG9wcGFibGUgY2FuIHdvcmsgb3Igbm90CiAgICBmdW5jdGlvbiB0b2tlbkZhbGxiYWNrKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgc3RvcHBhYmxlCiAgICB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgPT0gYWRkcmVzcyhBR1QpIHx8IG1zZy5zZW5kZXIgPT0gYWRkcmVzcyhBVE4pKQogICAgICAgIHsKICAgICAgICAgICAgLy8gdGhlIG93bmVyIGlzIG5vdCBjb3VudCBpbiB0aGUgc3RhdGlzdGljcwogICAgICAgICAgICAvLyBPbmx5IG93bmVyIGNhbiB1c2UgdG8gZGVwb3NpdCB0aGUgQVROIHJld2FyZCB0aGluZ3MuCiAgICAgICAgICAgIGlmIChfZnJvbSA9PSBvd25lcikKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXF1aXJlKG5vdyA8PSBkZXBvc2l0U3RvcFRpbWUpOwoKICAgICAgICAgICAgdmFyIHJlY29yZCA9IHJlY29yZHNbX2Zyb21dOwoKICAgICAgICAgICAgcmVjb3JkLmFndEF0bkFtb3VudCArPSBfdmFsdWU7CiAgICAgICAgICAgIHJlY29yZC50aW1lc3RhbXAgPSBub3c7CiAgICAgICAgICAgIHJlY29yZHNbX2Zyb21dID0gcmVjb3JkOwoKICAgICAgICAgICAgYWd0QXRuUmVjZWl2ZWQgKz0gX3ZhbHVlOwoKICAgICAgICAgICAgcG9vbC5jb25zdW1lKCBfdmFsdWUubXVsKHJhdGUgLSAxMDAgKS5kaXYoMTAwKSApOwoKICAgICAgICAgICAgRGVwb3NpdChkZXBvc2l0SWQrKywgX2Zyb20sIF92YWx1ZSk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIG9uVG9rZW5UcmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICBpZiAoX3RvID09IGFkZHJlc3ModGhpcykgJiYgX2Zyb20gIT0gb3duZXIpCiAgICAgICAgewogICAgICAgICAgICBpZiAobXNnLmdhcyA8IGdhc1JlcXVpcmVkKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoc3RvcHBlZCkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBpZiAobm93ID4gZGVwb3NpdFN0b3BUaW1lKSByZXR1cm4gZmFsc2U7CgogICAgICAgICAgICAvLyBlYWNoIGFkZHJlc3MgY2FuIG9ubHkgZGVwb3NpdCBvbmNlLgogICAgICAgICAgICBpZiAocmVjb3Jkc1tfZnJvbV0udGltZXN0YW1wID4gMCApIHJldHVybiBmYWxzZTsKCiAgICAgICAgICAgIC8vIGNhbiBub3Qgb3ZlciB0aGUgbGltaXQgb2YgbWF4aW11bSByZXdhcmQgYW1vdW50CiAgICAgICAgICAgIGlmICggIXBvb2wuYXZhaWxhYmxlKCBfYW1vdW50Lm11bChyYXRlIC0gMTAwICkuZGl2KDEwMCkgKSApIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHdpdGhkcmF3QVROKCkgcHVibGljIHN0b3BwYWJsZSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyICE9IG93bmVyKTsKCiAgICAgICAgUmVjb3JkIHJlY29yZCA9IHJlY29yZHNbbXNnLnNlbmRlcl07CgogICAgICAgIHJlcXVpcmUocmVjb3JkLnRpbWVzdGFtcCA+IDApOwoKICAgICAgICByZXF1aXJlKG5vdyA+PSByZWNvcmQudGltZXN0YW1wICsgd2l0aGRyYXdhbF9kZWxheSk7CgogICAgICAgIHdpdGhkcmF3Rm9yKG1zZy5zZW5kZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdpdGhkcmF3QVROKGFkZHJlc3MgX2FkZHIpIHB1YmxpYyBzdG9wcGFibGUgewogICAgICAgIHJlcXVpcmUoX2FkZHIgIT0gb3duZXIpOwoKICAgICAgICBSZWNvcmQgcmVjb3JkID0gcmVjb3Jkc1tfYWRkcl07CgogICAgICAgIHJlcXVpcmUocmVjb3JkLnRpbWVzdGFtcCA+IDApOwoKICAgICAgICByZXF1aXJlKG5vdyA+PSByZWNvcmQudGltZXN0YW1wICsgd2l0aGRyYXdhbF9kZWxheSk7CgogICAgICAgIHdpdGhkcmF3Rm9yKF9hZGRyKTsKICAgIH0KCiAgICBmdW5jdGlvbiB3aXRoZHJhd0ZvcihhZGRyZXNzIF9hZGRyKSBpbnRlcm5hbCB7CiAgICAgICAgUmVjb3JkIHJlY29yZCA9IHJlY29yZHNbX2FkZHJdOwogICAgICAgIAogICAgICAgIHVpbnQgYXRuQW1vdW50ID0gcmVjb3JkLmFndEF0bkFtb3VudC5tdWwocmF0ZSkuZGl2KDEwMCk7CgogICAgICAgIHJlcXVpcmUoQVROLnRyYW5zZmVyKF9hZGRyLCBhdG5BbW91bnQpKTsKCiAgICAgICAgYXRuU2VudCArPSBhdG5BbW91bnQ7CgogICAgICAgIGRlbGV0ZSByZWNvcmRzW19hZGRyXTsKCiAgICAgICAgV2l0aGRyYXdhbCgKICAgICAgICAgICAgICAgICAgIHdpdGhkcmF3SWQrKywKICAgICAgICAgICAgICAgICAgIF9hZGRyLAogICAgICAgICAgICAgICAgICAgYXRuQW1vdW50CiAgICAgICAgICAgICAgICAgICApOwogICAgfQoKICAgIGZ1bmN0aW9uIGJhdGNoV2l0aGRyYXcoYWRkcmVzc1tdIF9hZGRyTGlzdCkgcHVibGljIHN0b3BwYWJsZSB7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgX2FkZHJMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChyZWNvcmRzW19hZGRyTGlzdFtpXV0udGltZXN0YW1wID4gMCAmJiBub3cgPj0gcmVjb3Jkc1tfYWRkckxpc3RbaV1dLnRpbWVzdGFtcCArIHdpdGhkcmF3YWxfZGVsYXkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHdpdGhkcmF3Rm9yKF9hZGRyTGlzdFtpXSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gY2hhbmdlR2FzUmVxdWlyZWQodWludCBfZ2FzUmVxdWlyZWQpIHB1YmxpYyBhdXRoIHsKICAgICAgICBnYXNSZXF1aXJlZCA9IF9nYXNSZXF1aXJlZDsKICAgICAgICBDaGFuZ2VHYXNSZXF1aXJlZChfZ2FzUmVxdWlyZWQpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFRoaXMgbWV0aG9kIGNhbiBiZSB1c2VkIGJ5IHRoZSBjb250cm9sbGVyIHRvIGV4dHJhY3QgbWlzdGFrZW5seQogICAgLy8vICBzZW50IHRva2VucyB0byB0aGlzIGNvbnRyYWN0LgogICAgLy8vIEBwYXJhbSBfdG9rZW4gVGhlIGFkZHJlc3Mgb2YgdGhlIHRva2VuIGNvbnRyYWN0IHRoYXQgeW91IHdhbnQgdG8gcmVjb3ZlcgogICAgLy8vICBzZXQgdG8gMCBpbiBjYXNlIHlvdSB3YW50IHRvIGV4dHJhY3QgZXRoZXIuCiAgICBmdW5jdGlvbiBjbGFpbVRva2VucyhhZGRyZXNzIF90b2tlbikgcHVibGljIGF1dGggewogICAgICAgIGlmIChfdG9rZW4gPT0gMHgwKSB7CiAgICAgICAgICAgIG93bmVyLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgRVJDMjAgdG9rZW4gPSBFUkMyMChfdG9rZW4pOwogICAgICAgIAogICAgICAgIHVpbnQyNTYgYmFsYW5jZSA9IHRva2VuLmJhbGFuY2VPZih0aGlzKTsKICAgICAgICAKICAgICAgICB0b2tlbi50cmFuc2Zlcihvd25lciwgYmFsYW5jZSk7CiAgICAgICAgQ2xhaW1lZFRva2VucyhfdG9rZW4sIG93bmVyLCBiYWxhbmNlKTsKICAgIH0KCiAgICBldmVudCBDbGFpbWVkVG9rZW5zKGFkZHJlc3MgaW5kZXhlZCBfdG9rZW4sIGFkZHJlc3MgaW5kZXhlZCBfY29udHJvbGxlciwgdWludDI1NiBfYW1vdW50KTsKCiAgICAvKgogICAgICogRVZFTlRTCiAgICAgKi8KICAgIC8vLyBFbWl0dGVkIHdoZW4gcHJvZ3JhbSBzdGFydHMuCiAgICBldmVudCBTdGFydGVkKHVpbnQgX3RpbWUpOwoKICAgIC8vLyBFbWl0dGVkIGZvciBlYWNoIHN1Y3Vlc3NmdWwgZGVwb3NpdC4KICAgIHVpbnQgcHVibGljIGRlcG9zaXRJZCA9IDA7CiAgICBldmVudCBEZXBvc2l0KHVpbnQgX2RlcG9zaXRJZCwgYWRkcmVzcyBpbmRleGVkIF9hZGRyLCB1aW50IGFndEF0bkFtb3VudCk7CgogICAgLy8vIEVtaXR0ZWQgZm9yIGVhY2ggc3VjdWVzc2Z1bCB3aXRoZHJhd2FsLgogICAgdWludCBwdWJsaWMgd2l0aGRyYXdJZCA9IDA7CiAgICBldmVudCBXaXRoZHJhd2FsKHVpbnQgX3dpdGhkcmF3SWQsIGFkZHJlc3MgaW5kZXhlZCBfYWRkciwgdWludCBfYXRuQW1vdW50KTsKCiAgICBldmVudCBDaGFuZ2VHYXNSZXF1aXJlZCh1aW50IF9nYXNSZXF1aXJlZCk7Cn0='.
	

]
