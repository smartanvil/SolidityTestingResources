Class {
	#name : #SRTf3e827ee018007603899170f0d4b80076dfa469e,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTf3e827ee018007603899170f0d4b80076dfa469e >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTI7CgoKCi8qKgoKICogQHRpdGxlIFNhZmVNYXRoCgogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgoKICovCgpsaWJyYXJ5IFNhZmVNYXRoIHsKCiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CgogICAgdWludDI1NiBjID0gYSAqIGI7CgogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKCiAgICByZXR1cm4gYzsKCiAgfQoKCgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewoKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAoKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwoKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCgogICAgcmV0dXJuIGM7CgogIH0KCgoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKCiAgICBhc3NlcnQoYiA8PSBhKTsKCiAgICByZXR1cm4gYSAtIGI7CgogIH0KCgoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKCiAgICB1aW50MjU2IGMgPSBhICsgYjsKCiAgICBhc3NlcnQoYyA+PSBhKTsKCiAgICByZXR1cm4gYzsKCiAgfQoKfQoKCgoKCi8qKgoKICogQHRpdGxlIE93bmFibGUKCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCgogKi8KCmNvbnRyYWN0IE93bmFibGUgewoKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgoKCgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKCgoKCiAgLyoqCgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgoKICAgKiBhY2NvdW50LgoKICAgKi8KCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsKCiAgICBvd25lciA9IG1zZy5zZW5kZXI7CgogIH0KCgoKCgogIC8qKgoKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCgogICAqLwoKICBtb2RpZmllciBvbmx5T3duZXIoKSB7CgogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKCiAgICBfOwoKICB9CgoKCgoKICAvKioKCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KCiAgICovCgogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewoKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CgogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKCiAgICBvd25lciA9IG5ld093bmVyOwoKICB9Cgp9CgoKCi8qKgoKICogQHRpdGxlIEVSQzIwQmFzaWMKCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQoKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQoKICovCgpjb250cmFjdCBFUkMyMEJhc2ljIHsKCiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CgogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwoKfQoKCgoKCi8qKgoKICogQHRpdGxlIEJhc2ljIHRva2VuCgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLgoKICovCgpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewoKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCgoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgoKCiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgogICAgbWFwcGluZyhhZGRyZXNzPT51aW50MjU2KSBwdWJsaWMgaW5kZXhlczsKCiAgICBtYXBwaW5nKHVpbnQyNTY9PmFkZHJlc3MpIHB1YmxpYyBhZGRyZXNzZXM7CgogICAgdWludDI1NiBwdWJsaWMgbGFzdEluZGV4ID0gMDsKCiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgoKCiAgLyoqCgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwoKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgoKICAqLwoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CgogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CgoKCiAgICAvLyBTYWZlTWF0aC5zdWIgd2lsbCB0aHJvdyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJhbGFuY2UuCgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKCiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKCiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CgogICAgaWYoX3ZhbHVlID4gMCl7CgogICAgICAgIGlmKGJhbGFuY2VzW21zZy5zZW5kZXJdID09IDApewoKICAgICAgICAgICAgYWRkcmVzc2VzW2luZGV4ZXNbbXNnLnNlbmRlcl1dID0gYWRkcmVzc2VzW2xhc3RJbmRleF07CgogICAgICAgICAgICBpbmRleGVzW2FkZHJlc3Nlc1tsYXN0SW5kZXhdXSA9IGluZGV4ZXNbbXNnLnNlbmRlcl07CgogICAgICAgICAgICBpbmRleGVzW21zZy5zZW5kZXJdID0gMDsKCiAgICAgICAgICAgIGRlbGV0ZSBhZGRyZXNzZXNbbGFzdEluZGV4XTsKCiAgICAgICAgICAgIGxhc3RJbmRleC0tOwoKICAgICAgICB9CgogICAgICAgIGlmKGluZGV4ZXNbX3RvXT09MCl7CgogICAgICAgICAgICBsYXN0SW5kZXgrKzsKCiAgICAgICAgICAgIGFkZHJlc3Nlc1tsYXN0SW5kZXhdID0gX3RvOwoKICAgICAgICAgICAgaW5kZXhlc1tfdG9dID0gbGFzdEluZGV4OwoKICAgICAgICB9CgogICAgfQoKICAgIHJldHVybiB0cnVlOwoKICB9CgoKCiAgLyoqCgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgoKICAqLwoKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKCiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKCiAgfQoKfQoKCgovKioKCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAoKICovCgpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CgogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwoKfQoKCgoKCi8qKgoKICogQHRpdGxlIFN0YW5kYXJkIEVSQzIwIHRva2VuCgogKgoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCgogKiBAZGV2IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAoKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAoKICovCgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCgoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgoKCgoKICAvKioKCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCgogICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZAoKICAgKi8KCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKCiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCgoKICAgIHVpbnQyNTYgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKCgogICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CgogICAgLy8gcmVxdWlyZSAoX3ZhbHVlIDw9IF9hbGxvd2FuY2UpOwoKCgogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwoKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwoKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKCiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwoKICAgIHJldHVybiB0cnVlOwoKICB9CgoKCiAgLyoqCgogICAqIEBkZXYgQXBwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgoKICAgKgoKICAgKiBCZXdhcmUgdGhhdCBjaGFuZ2luZyBhbiBhbGxvd2FuY2Ugd2l0aCB0aGlzIG1ldGhvZCBicmluZ3MgdGhlIHJpc2sgdGhhdCBzb21lb25lIG1heSB1c2UgYm90aCB0aGUgb2xkCgogICAqIGFuZCB0aGUgbmV3IGFsbG93YW5jZSBieSB1bmZvcnR1bmF0ZSB0cmFuc2FjdGlvbiBvcmRlcmluZy4gT25lIHBvc3NpYmxlIHNvbHV0aW9uIHRvIG1pdGlnYXRlIHRoaXMKCiAgICogcmFjZSBjb25kaXRpb24gaXMgdG8gZmlyc3QgcmVkdWNlIHRoZSBzcGVuZGVyJ3MgYWxsb3dhbmNlIHRvIDAgYW5kIHNldCB0aGUgZGVzaXJlZCB2YWx1ZSBhZnRlcndhcmRzOgoKICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQoKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCgogICAqLwoKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwoKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwoKICAgIHJldHVybiB0cnVlOwoKICB9CgoKCiAgLyoqCgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgoKICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmeWluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgoKICAgKi8KCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKCiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKCiAgfQoKCgogIC8qKgoKICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKCiAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKCiAgICogdGhlIGZpcnN0IHRyYW5zYWN0aW9uIGlzIG1pbmVkKQoKICAgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAoKICAgKi8KCiAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkKCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CgogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKCiAgICByZXR1cm4gdHJ1ZTsKCiAgfQoKCgogIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkKCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCiAgICB1aW50IG9sZFZhbHVlID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl07CgogICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewoKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwoKICAgIH0gZWxzZSB7CgogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKCiAgICB9CgogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKCiAgICByZXR1cm4gdHJ1ZTsKCiAgfQoKfQoKCgpjb250cmFjdCBNaW5heGlzICBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKCgoKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJNaW5heGlzIjsKCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJNSU4iOwoKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgaW5pdGlhbFN1cHBseSA9IDEwMDAwMDAwICogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKTsKCgoKICAgIHVpbnQgcHVibGljIHRvdGFsV2VpVG9CZURpc3RyaWJ1dGVkID0gMDsKCgoKICAgIC8vIENvbnN0cnVjdG9yCgogICAgZnVuY3Rpb24gTWluYXhpcyAoKSB7CgogICAgICAgIHRvdGFsU3VwcGx5ID0gaW5pdGlhbFN1cHBseTsKCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBpbml0aWFsU3VwcGx5OyAvLyBTZW5kIGFsbCB0b2tlbnMgdG8gb3duZXIKCiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKICAgICAgICBhZGRyZXNzZXNbMV0gPSBtc2cuc2VuZGVyOwoKICAgICAgICBpbmRleGVzW21zZy5zZW5kZXJdID0gMTsKCiAgICAgICAgbGFzdEluZGV4ID0gMTsKCiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKICAgIH0KCgoKICAgIGZ1bmN0aW9uIGdldEFkZHJlc3NlcygpIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3NbXSl7CgogICAgICAgIGFkZHJlc3NbXSBtZW1vcnkgYWRkcnMgPSBuZXcgYWRkcmVzc1tdKGxhc3RJbmRleCk7CgogICAgICAgIGZvcih1aW50IGkgPSAwOyBpIDwgbGFzdEluZGV4OyBpKyspewoKICAgICAgICAgICAgYWRkcnNbaV0gPSBhZGRyZXNzZXNbaSsxXTsKCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYWRkcnM7CgogICAgfQoKCgogICAgZnVuY3Rpb24gc2V0VG90YWxXZWlUb0JlRGlzdHJpYnV0ZWQodWludCBfdG90YWxXZWkpIG9ubHlPd25lciB7CgogICAgICB0b3RhbFdlaVRvQmVEaXN0cmlidXRlZCA9IF90b3RhbFdlaTsKCiAgICB9CgoKCiAgICBmdW5jdGlvbiBkaXN0cmlidXRlRXRoKHVpbnQgc3RhcnRJbmRleCwgdWludCBlbmRJbmRleCkgb25seU93bmVyIHsKCiAgICAgIGZvcih1aW50IGkgPSBzdGFydEluZGV4OyBpIDwgZW5kSW5kZXg7ICsraSl7CgogICAgICAgIGFkZHJlc3MgaG9sZGVyID0gYWRkcmVzc2VzW2krMV07CgogICAgICAgIHVpbnQgcmV3YXJkID0gKGJhbGFuY2VzW2hvbGRlcl0qdG90YWxXZWlUb0JlRGlzdHJpYnV0ZWQpLyh0b3RhbFN1cHBseSk7CgogICAgICAgIGlmKCFob2xkZXIuc2VuZChyZXdhcmQpKSB0aHJvdzsKCiAgICAgIH0KCiAgICB9CgoKCiAgICBmdW5jdGlvbiB3aXRoZHJhd0V0aCgpIG9ubHlPd25lciB7CgogICAgICBpZighb3duZXIuc2VuZCh0aGlzLmJhbGFuY2UpKSB0aHJvdzsKCiAgICB9CgoKCiAgICBmdW5jdGlvbigpIHBheWFibGUge30KCn0='.
	

]
