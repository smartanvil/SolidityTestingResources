Class {
	#name : #SRT397c7f9c38e09b7024063e6879d45b58e5effdbf,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT397c7f9c38e09b7024063e6879d45b58e5effdbf >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7CgoKLyoqIEB0aXRsZSBNYW5hZ2VyCiAgKiBAYXV0aG9yIE0uSC4gS2FuZwogICovCmNvbnRyYWN0IE1hbmFnZWQgewoKICBldmVudCBDb21taXNzaW9uKHVpbnQyNTYgYmFzaXNQb2ludCk7CgogIGFkZHJlc3MgcHVibGljIG1hbmFnZXI7CiAgdWludDI1NiBwdWJsaWMgY29tbWlzc2lvbjsKCiAgZnVuY3Rpb24gTWFuYWdlZCgpIHB1YmxpYyB7CiAgICBtYW5hZ2VyID0gbXNnLnNlbmRlcjsKICB9CgogIGZ1bmN0aW9uKCkgcHVibGljIHBheWFibGUge30KCiAgLyogRlVOQ1RJT04gKi8KCiAgZnVuY3Rpb24gc2V0Q29tbWlzc2lvbih1aW50MjU2IF9jb21taXNzaW9uKSBleHRlcm5hbCB7CiAgICByZXF1aXJlKF9jb21taXNzaW9uIDwgMTAwMDApOwogICAgY29tbWlzc2lvbiA9IF9jb21taXNzaW9uOwoKICAgIGVtaXQgQ29tbWlzc2lvbihjb21taXNzaW9uKTsKICB9CgogIGZ1bmN0aW9uIHdpdGhkcmF3QmFsYW5jZSgpIGV4dGVybmFsIHsKICAgIG1hbmFnZXIudHJhbnNmZXIoYWRkcmVzcyh0aGlzKS5iYWxhbmNlKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyUG93ZXIoYWRkcmVzcyBfbmV3TWFuYWdlcikgZXh0ZXJuYWwgb25seU1hbmFnZXIgewogICAgbWFuYWdlciA9IF9uZXdNYW5hZ2VyOwogIH0KCiAgZnVuY3Rpb24gY2FsbEZvcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIHVpbnQyNTYgX2dhcywgYnl0ZXMgX2NvZGUpCiAgICBleHRlcm5hbAogICAgcGF5YWJsZQogICAgb25seU1hbmFnZXIKICAgIHJldHVybnMgKGJvb2wpCiAgewogICAgcmV0dXJuIF90by5jYWxsLnZhbHVlKF92YWx1ZSkuZ2FzKF9nYXMpKF9jb2RlKTsKICB9CgogIC8qIE1PRElGSUVSICovCgogIG1vZGlmaWVyIG9ubHlNYW5hZ2VyCiAgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG1hbmFnZXIpOwogICAgXzsKICB9Cgp9CgoKLyoqIEB0aXRsZSBFdGhlcm5hbWVSYXcKICAqIEBhdXRob3IgTS5ILiBLYW5nCiAgKi8KY29udHJhY3QgRXRoZXJuYW1lUmF3IGlzIE1hbmFnZWQgewoKICAvKiBFVkVOVCAqLwoKICBldmVudCBUcmFuc2ZlcigKICAgIGFkZHJlc3MgaW5kZXhlZCBmcm9tLAogICAgYWRkcmVzcyBpbmRleGVkIHRvLAogICAgYnl0ZXMzMiBpbmRleGVkIG5hbWUKICApOwogIGV2ZW50IEFwcHJvdmFsKAogICAgYWRkcmVzcyBpbmRleGVkIG93bmVyLAogICAgYWRkcmVzcyBpbmRleGVkIGFwcHJvdmVkLAogICAgYnl0ZXMzMiBpbmRleGVkIG5hbWUKICApOwogIGV2ZW50IFNlbmRFdGhlcigKICAgIGFkZHJlc3MgaW5kZXhlZCBmcm9tLAogICAgYWRkcmVzcyBpbmRleGVkIHRvLAogICAgYnl0ZXMzMiBzZW5kZXIsCiAgICBieXRlczMyIHJlY2lwaWVudCwKICAgIHVpbnQyNTYgdmFsdWUKICApOwogIGV2ZW50IE5hbWUoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBieXRlczMyIGluZGV4ZWQgbmFtZSk7CiAgZXZlbnQgUHJpY2UoYnl0ZXMzMiBpbmRleGVkIG5hbWUsIHVpbnQyNTYgcHJpY2UpOwogIGV2ZW50IEJ1eShieXRlczMyIGluZGV4ZWQgbmFtZSwgYWRkcmVzcyBidXllciwgdWludDI1NiBwcmljZSk7CiAgZXZlbnQgQXR0cmlidXRlKGJ5dGVzMzIgaW5kZXhlZCBuYW1lLCBieXRlczMyIGtleSk7CgogIC8qIERBVEEgU1RSVUNUICovCgogIHN0cnVjdCBSZWNvcmQgewogICAgYWRkcmVzcyBvd25lcjsKICAgIHVpbnQyNTYgcHJpY2U7CiAgICBtYXBwaW5nIChieXRlczMyID0+IGJ5dGVzKSBhdHRyczsKICB9CgogIC8qIFNUT1JBR0UgKi8KCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkV0aGVybmFtZSI7CiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiRU5NIjsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBieXRlczMyKSBwdWJsaWMgb3duZXJUb05hbWU7CiAgbWFwcGluZyAoYnl0ZXMzMiA9PiBSZWNvcmQpIHB1YmxpYyBuYW1lVG9SZWNvcmQ7CiAgbWFwcGluZyAoYnl0ZXMzMiA9PiBhZGRyZXNzKSBwdWJsaWMgbmFtZVRvQXBwcm92ZWQ7CgogIC8qIEZVTkNUSU9OICovCgogIGZ1bmN0aW9uIHJhd1JlZ2lzdGVyKGJ5dGVzMzIgX25hbWUpIHB1YmxpYyBwYXlhYmxlIHsKICAgIF9yZWdpc3RlcihfbmFtZSwgbXNnLnNlbmRlcik7CiAgfQoKICBmdW5jdGlvbiByYXdUcmFuc2ZlcihhZGRyZXNzIF90bywgYnl0ZXMzMiBfbmFtZSkKICAgIHB1YmxpYwogICAgb25seU93bmVyKG1zZy5zZW5kZXIsIF9uYW1lKQogIHsKICAgIF90cmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF9uYW1lKTsKICB9CgogIGZ1bmN0aW9uIHJhd0FwcHJvdmUoYWRkcmVzcyBfdG8sIGJ5dGVzMzIgX25hbWUpCiAgICBwdWJsaWMKICAgIG9ubHlPd25lcihtc2cuc2VuZGVyLCBfbmFtZSkKICB7CiAgICBfYXBwcm92ZShtc2cuc2VuZGVyLCBfdG8sIF9uYW1lKTsKICB9CgogIGZ1bmN0aW9uIHJhd1RyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgYnl0ZXMzMiBfbmFtZSkKICAgIHB1YmxpYwogICAgb25seU93bmVyKF9mcm9tLCBfbmFtZSkKICAgIG9ubHlBcHByb3ZlZChtc2cuc2VuZGVyLCBfbmFtZSkKICB7CiAgICBfdHJhbnNmZXIoX2Zyb20sIF90bywgX25hbWUpOwogIH0KCiAgZnVuY3Rpb24gcmF3U2V0UHJpY2UoYnl0ZXMzMiBfbmFtZSwgdWludDI1NiBfcHJpY2UpCiAgICBwdWJsaWMKICAgIG9ubHlPd25lcihtc2cuc2VuZGVyLCBfbmFtZSkKICB7CiAgICByZXF1aXJlKF9wcmljZSA9PSB1aW50MjU2KHVpbnQxMjgoX3ByaWNlKSkpOwogICAgbmFtZVRvUmVjb3JkW19uYW1lXS5wcmljZSA9IF9wcmljZTsKCiAgICBlbWl0IFByaWNlKF9uYW1lLCBfcHJpY2UpOwogIH0KCiAgZnVuY3Rpb24gcmF3QnV5KGJ5dGVzMzIgX25hbWUpIHB1YmxpYyBwYXlhYmxlIHsKICAgIFJlY29yZCBtZW1vcnkgX3JlY29yZCA9IG5hbWVUb1JlY29yZFtfbmFtZV07CiAgICByZXF1aXJlKF9yZWNvcmQucHJpY2UgPiAwKTsKICAgIHVpbnQyNTYgX3ByaWNlID0gX2NvbXB1dGVQcmljZShfcmVjb3JkLnByaWNlKTsKICAgIHJlcXVpcmUobXNnLnZhbHVlID49IF9wcmljZSk7CgogICAgX3JlY29yZC5vd25lci50cmFuc2ZlcihfcmVjb3JkLnByaWNlKTsKICAgIF90cmFuc2ZlcihfcmVjb3JkLm93bmVyLCBtc2cuc2VuZGVyLCBfbmFtZSk7CiAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKG1zZy52YWx1ZSAtIF9wcmljZSk7CgogICAgZW1pdCBCdXkoX25hbWUsIG1zZy5zZW5kZXIsIF9wcmljZSk7CiAgfQoKICBmdW5jdGlvbiByYXdVc2VOYW1lKGJ5dGVzMzIgX25hbWUpIHB1YmxpYyBvbmx5T3duZXIobXNnLnNlbmRlciwgX25hbWUpIHsKICAgIF91c2VOYW1lKG1zZy5zZW5kZXIsIF9uYW1lKTsKICB9CgogIGZ1bmN0aW9uIHJhd1NldEF0dHJpYnV0ZShieXRlczMyIF9uYW1lLCBieXRlczMyIF9rZXksIGJ5dGVzIF92YWx1ZSkKICAgIHB1YmxpYwogICAgb25seU93bmVyKG1zZy5zZW5kZXIsIF9uYW1lKQogIHsKICAgIG5hbWVUb1JlY29yZFtfbmFtZV0uYXR0cnNbX2tleV0gPSBfdmFsdWU7CgogICAgZW1pdCBBdHRyaWJ1dGUoX25hbWUsIF9rZXkpOwogIH0KCiAgZnVuY3Rpb24gcmF3V2lwZUF0dHJpYnV0ZXMoYnl0ZXMzMiBfbmFtZSwgYnl0ZXMzMltdIF9rZXlzKQogICAgcHVibGljCiAgICBvbmx5T3duZXIobXNnLnNlbmRlciwgX25hbWUpCiAgewogICAgbWFwcGluZyAoYnl0ZXMzMiA9PiBieXRlcykgYXR0cnMgPSBuYW1lVG9SZWNvcmRbX25hbWVdLmF0dHJzOwoJCWZvciAodWludCBpID0gMDsgaSA8IF9rZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGRlbGV0ZSBhdHRyc1tfa2V5c1tpXV07CgogICAgICBlbWl0IEF0dHJpYnV0ZShfbmFtZSwgX2tleXNbaV0pOwoJCX0KICB9CgogIGZ1bmN0aW9uIHJhd1NlbmRFdGhlcihieXRlczMyIF9uYW1lKSBwdWJsaWMgcGF5YWJsZSByZXR1cm5zIChib29sIF9yZXN1bHQpIHsKICAgIGFkZHJlc3MgX3RvID0gbmFtZVRvUmVjb3JkW19uYW1lXS5vd25lcjsKICAgIF9yZXN1bHQgPSAoX25hbWUgIT0gYnl0ZXMzMigwKSkgJiYKICAgICAgKF90byAhPSBhZGRyZXNzKDApKSAmJgogICAgICBfdG8uc2VuZChtc2cudmFsdWUpOwogICAgaWYgKF9yZXN1bHQpIHsKICAgICAgZW1pdCBTZW5kRXRoZXIoCiAgICAgICAgbXNnLnNlbmRlciwKICAgICAgICBfdG8sCiAgICAgICAgcmF3TmFtZU9mKG1zZy5zZW5kZXIpLAogICAgICAgIF9uYW1lLAogICAgICAgIG1zZy52YWx1ZQogICAgICApOwogICAgfQogIH0KCiAgLyogVklFVyBGVU5DVElPTiAqLwoKICBmdW5jdGlvbiByYXdOYW1lT2YoYWRkcmVzcyBfYWRkcmVzcykgcHVibGljIHZpZXcgcmV0dXJucyAoYnl0ZXMzMiBfbmFtZSkgewogICAgX25hbWUgPSBvd25lclRvTmFtZVtfYWRkcmVzc107CiAgfQoKICBmdW5jdGlvbiByYXdPd25lck9mKGJ5dGVzMzIgX25hbWUpIHB1YmxpYyB2aWV3IHJldHVybnMgKGFkZHJlc3MgX293bmVyKSB7CiAgICBfb3duZXIgPSBuYW1lVG9SZWNvcmRbX25hbWVdLm93bmVyOwogIH0KCiAgZnVuY3Rpb24gcmF3RGV0YWlsc09mKGJ5dGVzMzIgX25hbWUsIGJ5dGVzMzIgX2tleSkKICAgIHB1YmxpYwogICAgdmlldwogICAgcmV0dXJucyAoYWRkcmVzcyBfb3duZXIsIHVpbnQyNTYgX3ByaWNlLCBieXRlcyBfdmFsdWUpCiAgewogICAgX293bmVyID0gbmFtZVRvUmVjb3JkW19uYW1lXS5vd25lcjsKICAgIF9wcmljZSA9IF9jb21wdXRlUHJpY2UobmFtZVRvUmVjb3JkW19uYW1lXS5wcmljZSk7CiAgICBfdmFsdWUgPSBuYW1lVG9SZWNvcmRbX25hbWVdLmF0dHJzW19rZXldOwogIH0KCiAgLyogSU5URVJOQUwgRlVOQ1RJT04gKi8KCiAgZnVuY3Rpb24gX3JlZ2lzdGVyKGJ5dGVzMzIgX25hbWUsIGFkZHJlc3MgX3RvKSBpbnRlcm5hbCB7CiAgICByZXF1aXJlKG5hbWVUb1JlY29yZFtfbmFtZV0ub3duZXIgPT0gYWRkcmVzcygwKSk7CgkJZm9yICh1aW50IGkgPSAwOyBpIDwgX25hbWUubGVuZ3RoOyBpKyspIHsKCQkgCXJlcXVpcmUoKF9uYW1lW2ldID09IDApIHx8CiAgICAgICAgICAgICAgKF9uYW1lW2ldID4gOTYgJiYgX25hbWVbaV0gPCAxMjMpIHx8CiAgICAgICAgICAgICAgKF9uYW1lW2ldID4gNDcgJiYgX25hbWVbaV0gPCA1OCkpOwoJCX0KCiAgICBfdHJhbnNmZXIoMCwgX3RvLCBfbmFtZSk7CiAgfQoKICAvKioKICAgKiBAZGV2IFdoZW4gdHJhbnNmZXJyZWQsCiAgICogIHByaWNlIGFuZCBhcHByb3ZlZCBhcmUgc2V0IHRvIDAgYnV0IGF0dHJzIHJlbWFpbnMuCiAgICovCiAgZnVuY3Rpb24gX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCBieXRlczMyIF9uYW1lKSBpbnRlcm5hbCB7CiAgICBhZGRyZXNzIF9udWxsID0gYWRkcmVzcygwKTsKCiAgICBpZiAobmFtZVRvQXBwcm92ZWRbX25hbWVdICE9IF9udWxsKSB7CiAgICAgIF9hcHByb3ZlKF9mcm9tLCBfbnVsbCwgX25hbWUpOwogICAgfQoKICAgIGlmIChvd25lclRvTmFtZVtfZnJvbV0gPT0gX25hbWUpIHsKICAgICAgX3VzZU5hbWUoX2Zyb20sIDApOwogICAgfQoKICAgIG5hbWVUb1JlY29yZFtfbmFtZV0gPSBSZWNvcmQoX3RvLCAwKTsKCiAgICBpZiAob3duZXJUb05hbWVbX3RvXSA9PSBieXRlczMyKDApKSB7CiAgICAgIF91c2VOYW1lKF90bywgX25hbWUpOwogICAgfQoKICAgIGVtaXQgVHJhbnNmZXIoX2Zyb20sIF90bywgX25hbWUpOwogIH0KCiAgZnVuY3Rpb24gX2FwcHJvdmUoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3RvLCBieXRlczMyIF9uYW1lKSBpbnRlcm5hbCB7CiAgICBuYW1lVG9BcHByb3ZlZFtfbmFtZV0gPSBfdG87CiAgICBlbWl0IEFwcHJvdmFsKF9vd25lciwgX3RvLCBfbmFtZSk7CiAgfQoKICBmdW5jdGlvbiBfdXNlTmFtZShhZGRyZXNzIF9vd25lciwgYnl0ZXMzMiBfbmFtZSkgaW50ZXJuYWwgewogICAgb3duZXJUb05hbWVbX293bmVyXSA9IF9uYW1lOwogICAgZW1pdCBOYW1lKF9vd25lciwgX25hbWUpOwogIH0KCiAgZnVuY3Rpb24gX2NvbXB1dGVQcmljZSh1aW50MjU2IF9wcmljZSkgaW50ZXJuYWwgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gX3ByaWNlICogKDEwMDAwICsgY29tbWlzc2lvbikgLyAxMDAwMDsKICB9CgogIGZ1bmN0aW9uIF9zdHJpbmdUb0J5dGVzMzIoc3RyaW5nIF9zdHJpbmcpCiAgICBpbnRlcm5hbAogICAgcHVyZQogICAgcmV0dXJucyAoYnl0ZXMzMiBfYnl0ZXMzMikKICB7CiAgICByZXF1aXJlKGJ5dGVzKF9zdHJpbmcpLmxlbmd0aCA8IDMzKTsKICAgIGFzc2VtYmx5IHsKICAgICAgX2J5dGVzMzIgOj0gbWxvYWQoYWRkKF9zdHJpbmcsIDB4MjApKQogICAgfQogIH0KCiAgZnVuY3Rpb24gX2J5dGVzMzJUb1N0cmluZyhieXRlczMyIF9ieXRlczMyKQogICAgaW50ZXJuYWwKICAgIHB1cmUKICAgIHJldHVybnMgKHN0cmluZyBfc3RyaW5nKQogIHsKICAgIGFzc2VtYmx5IHsKICAgICAgbGV0IG0gOj0gbWxvYWQoMHg0MCkKICAgICAgbXN0b3JlKG0sIDB4MjApCiAgICAgIG1zdG9yZShhZGQobSwgMHgyMCksIF9ieXRlczMyKQogICAgICBtc3RvcmUoMHg0MCwgYWRkKG0sIDB4NDApKQogICAgICBfc3RyaW5nIDo9IG0KICAgIH0KICB9CgogIC8qIE1PRElGSUVSICovCgogIG1vZGlmaWVyIG9ubHlPd25lcihhZGRyZXNzIF9jbGFpbWFudCwgYnl0ZXMzMiBfbmFtZSkgewogICAgcmVxdWlyZShuYW1lVG9SZWNvcmRbX25hbWVdLm93bmVyID09IF9jbGFpbWFudCk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgb25seUFwcHJvdmVkKGFkZHJlc3MgX2NsYWltYW50LCBieXRlczMyIF9uYW1lKSB7CiAgICByZXF1aXJlKG5hbWVUb0FwcHJvdmVkW19uYW1lXSA9PSBfY2xhaW1hbnQpOwogICAgXzsKICB9Cgp9CgovKiogQHRpdGxlIEV0aGVybmFtZQogICogQGF1dGhvciBNLkguIEthbmcKICAqIEBub3RpY2UgVGhpcyBjb250cmFjdCBpcyBkZXNpZ25lZCBmb3IgYW55IERBUFBzIHRvIGhhdmUKICAqICB1c2VybmFtZSBmZWF0dXJlIHdpdGhvdXQgYWRkaXRpb25hbCBpbXBsZW1lbnRhdGlvbi4KICAqLwpjb250cmFjdCBFdGhlcm5hbWUgaXMgRXRoZXJuYW1lUmF3IHsKCiAgLyogQ09OU1RSVUNUT1IgKi8KCiAgZnVuY3Rpb24gRXRoZXJuYW1lKCkgcHVibGljIHsKICAgIGNvbW1pc3Npb24gPSAyMDA7CgogICAgLy8gcmVzZXJ2ZWQgd29yZAogICAgbmFtZVRvUmVjb3JkW2J5dGVzMzIoJycpXSA9IFJlY29yZCh0aGlzLCAwKTsKCiAgICAvLyBpbml0aWFsIHJlZ2lzdGVyCiAgICBfcmVnaXN0ZXIoYnl0ZXMzMignZXRoZXJuYW1lJyksIHRoaXMpOwogICAgX3JlZ2lzdGVyKGJ5dGVzMzIoJ3Jvb3QnKSwgbXNnLnNlbmRlcik7CiAgfQoKCiAgLyogRlVOQ1RJT04gKi8KCiAgZnVuY3Rpb24gcmVnaXN0ZXIoc3RyaW5nIF9uYW1lKSBleHRlcm5hbCBwYXlhYmxlIHsKICAgIHJhd1JlZ2lzdGVyKF9zdHJpbmdUb0J5dGVzMzIoX25hbWUpKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCBzdHJpbmcgX25hbWUpIGV4dGVybmFsIHsKICAgIHJhd1RyYW5zZmVyKF90bywgX3N0cmluZ1RvQnl0ZXMzMihfbmFtZSkpOwogIH0KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF90bywgc3RyaW5nIF9uYW1lKSBleHRlcm5hbCB7CiAgICByYXdBcHByb3ZlKF90bywgX3N0cmluZ1RvQnl0ZXMzMihfbmFtZSkpOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCBzdHJpbmcgX25hbWUpIGV4dGVybmFsIHsKICAgIHJhd1RyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfc3RyaW5nVG9CeXRlczMyKF9uYW1lKSk7CiAgfQoKICBmdW5jdGlvbiBzZXRQcmljZShzdHJpbmcgX25hbWUsIHVpbnQyNTYgX3ByaWNlKSBleHRlcm5hbCB7CiAgICByYXdTZXRQcmljZShfc3RyaW5nVG9CeXRlczMyKF9uYW1lKSwgX3ByaWNlKTsKICB9CgogIGZ1bmN0aW9uIGJ1eShzdHJpbmcgX25hbWUpIGV4dGVybmFsIHBheWFibGUgewogICAgcmF3QnV5KF9zdHJpbmdUb0J5dGVzMzIoX25hbWUpKTsKICB9CgogIGZ1bmN0aW9uIHVzZU5hbWUoc3RyaW5nIF9uYW1lKSBleHRlcm5hbCB7CiAgICByYXdVc2VOYW1lKF9zdHJpbmdUb0J5dGVzMzIoX25hbWUpKTsKICB9CgogIGZ1bmN0aW9uIHNldEF0dHJpYnV0ZShzdHJpbmcgX25hbWUsIHN0cmluZyBfa2V5LCBieXRlcyBfdmFsdWUpIGV4dGVybmFsIHsKICAgIHJhd1NldEF0dHJpYnV0ZShfc3RyaW5nVG9CeXRlczMyKF9uYW1lKSwgX3N0cmluZ1RvQnl0ZXMzMihfa2V5KSwgX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIHdpcGVBdHRyaWJ1dGVzKHN0cmluZyBfbmFtZSwgYnl0ZXMzMltdIF9rZXlzKSBleHRlcm5hbCB7CiAgICByYXdXaXBlQXR0cmlidXRlcyhfc3RyaW5nVG9CeXRlczMyKF9uYW1lKSwgX2tleXMpOwogIH0KCiAgZnVuY3Rpb24gc2VuZEV0aGVyKHN0cmluZyBfbmFtZSkgZXh0ZXJuYWwgcGF5YWJsZSByZXR1cm5zIChib29sIF9yZXN1bHQpIHsKICAgIF9yZXN1bHQgPSByYXdTZW5kRXRoZXIoX3N0cmluZ1RvQnl0ZXMzMihfbmFtZSkpOwogIH0KCiAgLyogVklFVyBGVU5DVElPTiAqLwoKICBmdW5jdGlvbiBuYW1lT2YoYWRkcmVzcyBfYWRkcmVzcykgZXh0ZXJuYWwgdmlldyByZXR1cm5zIChzdHJpbmcgX25hbWUpIHsKICAgIF9uYW1lID0gX2J5dGVzMzJUb1N0cmluZyhyYXdOYW1lT2YoX2FkZHJlc3MpKTsKICB9CgogIGZ1bmN0aW9uIG93bmVyT2Yoc3RyaW5nIF9uYW1lKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKGFkZHJlc3MgX293bmVyKSB7CiAgICBfb3duZXIgPSByYXdPd25lck9mKF9zdHJpbmdUb0J5dGVzMzIoX25hbWUpKTsKICB9CgogIGZ1bmN0aW9uIGRldGFpbHNPZihzdHJpbmcgX25hbWUsIHN0cmluZyBfa2V5KQogICAgZXh0ZXJuYWwKICAgIHZpZXcKICAgIHJldHVybnMgKGFkZHJlc3MgX293bmVyLCB1aW50MjU2IF9wcmljZSwgYnl0ZXMgX3ZhbHVlKQogIHsKICAgIHJldHVybiByYXdEZXRhaWxzT2YoX3N0cmluZ1RvQnl0ZXMzMihfbmFtZSksIF9zdHJpbmdUb0J5dGVzMzIoX2tleSkpOwogIH0KCn0='.
	

]
