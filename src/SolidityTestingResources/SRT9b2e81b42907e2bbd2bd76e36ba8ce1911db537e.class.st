Class {
	#name : #SRT9b2e81b42907e2bbd2bd76e36ba8ce1911db537e,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9b2e81b42907e2bbd2bd76e36ba8ce1911db537e >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovLyNpbXBvcnRSZWdpb24KICAgIC8qKgogICAgICogQHRpdGxlIFNhZmVNYXRoCiAgICAgKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogICAgICovCiAgICBsaWJyYXJ5IFNhZmVNYXRoIHsKICAgICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICAgICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAgICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgICAgICByZXR1cm4gYzsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgICB9CgogICAgICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgICAgICBhc3NlcnQoYyA+PSBhKTsKICAgICAgICByZXR1cm4gYzsKICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogQHRpdGxlIEVSQzIwQmFzaWMKICAgICAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogICAgICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogICAgICovCiAgICBjb250cmFjdCBFUkMyMEJhc2ljIHsKICAgICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogICAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICAgICAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogICAgICovCiAgICBjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICAgICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogICAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwogICAgfQoKICAgIC8qKgogICAgICogQHRpdGxlIEJhc2ljIHRva2VuCiAgICAgKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLiAKICAgICAqLwogICAgY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICAgICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogICAgICAvKioKICAgICAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgICAgICovCiAgICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoKICAgICAgICAvLyBTYWZlTWF0aC5zdWIgd2lsbCB0aHJvdyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJhbGFuY2UuCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIC8qKgogICAgICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuIAogICAgICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgICAgICovCiAgICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICAgIH0KCiAgICB9CgogICAgLyoqCiAgICAgKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICAgICAqCiAgICAgKiBAZGV2IEltcGxlbWVudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFyZCB0b2tlbi4KICAgICAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAgICAgKiBAZGV2IEJhc2VkIG9uIGNvZGUgYnkgRmlyc3RCbG9vZDogaHR0cHM6Ly9naXRodWIuY29tL0ZpcnN0Ymxvb2Rpby90b2tlbi9ibG9iL21hc3Rlci9zbWFydF9jb250cmFjdC9GaXJzdEJsb29kVG9rZW4uc29sCiAgICAgKi8KICAgIGNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICAgICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKCiAgICAgIC8qKgogICAgICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgICAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAgICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgICAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICAgICAqLwogICAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CgogICAgICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldAogICAgICAgIC8vIHJlcXVpcmUgKF92YWx1ZSA8PSBfYWxsb3dhbmNlKTsKCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICAvKioKICAgICAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgICAgICovCiAgICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKCiAgICAgICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgICAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgLyoqCiAgICAgICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgICAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAgICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmeWluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgogICAgICAgKi8KICAgICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgICB9CiAgICAgIAogICAgICAvKioKICAgICAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gaW5jcmVtZW50CiAgICAgICAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsIAogICAgICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICAgICAqIEZyb20gTW9ub2xpdGhEQU8gVG9rZW4uc29sCiAgICAgICAqLwogICAgICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSAKICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSAKICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICB1aW50IG9sZFZhbHVlID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl07CiAgICAgICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgICAgICB9CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgIH0KCiAgICAvKioKICAgICAqIEB0aXRsZSBPd25hYmxlCiAgICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAgICAgKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogICAgICovCiAgICBjb250cmFjdCBPd25hYmxlIHsKICAgICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICAgICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgoKICAgICAgLyoqCiAgICAgICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAgICAgKiBhY2NvdW50LgogICAgICAgKi8KICAgICAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgIH0KCgogICAgICAvKioKICAgICAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAgICAgKi8KICAgICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgICAgfQoKCiAgICAgIC8qKgogICAgICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAgICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAgICAgKi8KICAgICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOyAgICAgIAogICAgICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgICAgfQoKICAgIH0KLy8jZW5kSW1wb3J0UmVnaW9uCgpjb250cmFjdCBSZXdhcmRUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKICAgIGJvb2wgcHVibGljIHBheW1lbnRzID0gZmFsc2U7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIHJld2FyZHM7CiAgICB1aW50IHB1YmxpYyBwYXltZW50X3RpbWUgPSAwOwogICAgdWludCBwdWJsaWMgcGF5bWVudF9hbW91bnQgPSAwOwoKICAgIGV2ZW50IFJld2FyZChhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwoKICAgIGZ1bmN0aW9uIHBheW1lbnQoKSBwYXlhYmxlIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShwYXltZW50cyk7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPj0gMC4wMSAqIDEgZXRoZXIpOwoKICAgICAgICBwYXltZW50X3RpbWUgPSBub3c7CiAgICAgICAgcGF5bWVudF9hbW91bnQgPSB0aGlzLmJhbGFuY2U7CiAgICB9CgogICAgZnVuY3Rpb24gX3Jld2FyZChhZGRyZXNzIF90bykgcHJpdmF0ZSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShwYXltZW50cyk7CiAgICAgICAgcmVxdWlyZShyZXdhcmRzW190b10gPCBwYXltZW50X3RpbWUpOwoKICAgICAgICBpZihiYWxhbmNlc1tfdG9dID4gMCkgewoJCQl1aW50IGFtb3VudCA9IHBheW1lbnRfYW1vdW50ICogYmFsYW5jZXNbX3RvXSAvIHRvdGFsU3VwcGx5OwoKCQkJcmVxdWlyZShfdG8uc2VuZChhbW91bnQpKTsKCgkJCVJld2FyZChfdG8sIGFtb3VudCk7CgkJfQoKICAgICAgICByZXdhcmRzW190b10gPSBwYXltZW50X3RpbWU7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHJld2FyZCgpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gX3Jld2FyZChtc2cuc2VuZGVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKCQlpZihwYXltZW50cykgewoJCQlpZihyZXdhcmRzW21zZy5zZW5kZXJdIDwgcGF5bWVudF90aW1lKSByZXF1aXJlKF9yZXdhcmQobXNnLnNlbmRlcikpOwoJCQlpZihyZXdhcmRzW190b10gPCBwYXltZW50X3RpbWUpIHJlcXVpcmUoX3Jld2FyZChfdG8pKTsKCQl9CgogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgICB9CgoJZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewoJCWlmKHBheW1lbnRzKSB7CgkJCWlmKHJld2FyZHNbX2Zyb21dIDwgcGF5bWVudF90aW1lKSByZXF1aXJlKF9yZXdhcmQoX2Zyb20pKTsKCQkJaWYocmV3YXJkc1tfdG9dIDwgcGF5bWVudF90aW1lKSByZXF1aXJlKF9yZXdhcmQoX3RvKSk7CgkJfQoKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICB9Cn0KCmNvbnRyYWN0IExvcmlUb2tlbiBpcyBSZXdhcmRUb2tlbiB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAiTE9SSSBJbnZlc3QgVG9rZW4iOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiTE9SSSI7CiAgICB1aW50MjU2IHB1YmxpYyBkZWNpbWFscyA9IDE4OwoKICAgIGJvb2wgcHVibGljIG1pbnRpbmdGaW5pc2hlZCA9IGZhbHNlOwogICAgYm9vbCBwdWJsaWMgY29tbWFuZEdldEJvbnVzID0gZmFsc2U7CiAgICB1aW50IHB1YmxpYyBjb21tYW5kR2V0Qm9udXNUaW1lID0gMTU0MzkzMjAwMDsgICAgICAgLy8gMDQuMTIuMjAxOCAxNDowMCArMAoKICAgIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIGhvbGRlciwgdWludDI1NiB0b2tlbkFtb3VudCk7CiAgICBldmVudCBNaW50RmluaXNoZWQoKTsKICAgIGV2ZW50IE1pbnRDb21tYW5kQm9udXMoKTsKCiAgICBmdW5jdGlvbiBfbWludChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBvbmx5T3duZXIgcHJpdmF0ZSByZXR1cm5zKGJvb2wpIHsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CgogICAgICAgIE1pbnQoX3RvLCBfYW1vdW50KTsKICAgICAgICBUcmFuc2ZlcihhZGRyZXNzKDApLCBfdG8sIF9hbW91bnQpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciByZXR1cm5zKGJvb2wpIHsKICAgICAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOwogICAgICAgIHJldHVybiBfbWludChfdG8sIF9hbW91bnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcoKSBvbmx5T3duZXIgcmV0dXJucyhib29sKSB7CiAgICAgICAgbWludGluZ0ZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICBwYXltZW50cyA9IHRydWU7CgogICAgICAgIE1pbnRGaW5pc2hlZCgpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBjb21tYW5kTWludEJvbnVzKGFkZHJlc3MgX3RvKSBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobWludGluZ0ZpbmlzaGVkICYmICFjb21tYW5kR2V0Qm9udXMpOwogICAgICAgIHJlcXVpcmUobm93ID4gY29tbWFuZEdldEJvbnVzVGltZSk7CgogICAgICAgIGNvbW1hbmRHZXRCb251cyA9IHRydWU7CgogICAgICAgIHJlcXVpcmUoX21pbnQoX3RvLCB0b3RhbFN1cHBseSAqIDUgLyAxMDApKTsKCiAgICAgICAgTWludENvbW1hbmRCb251cygpOwogICAgfQp9Cgpjb250cmFjdCBDcm93ZHNhbGUgaXMgT3duYWJsZSB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgICBMb3JpVG9rZW4gcHVibGljIHRva2VuOwogICAgYWRkcmVzcyBwdWJsaWMgYmVuZWZpY2lhcnkgPSAweGRBNjI3M0NCRjhERkIyMmY0QTU1QTZGODdiYjFBOTFDNTdlNTc4ZGI7CgogICAgdWludCBwdWJsaWMgY29sbGVjdGVkOwoKICAgIHVpbnQgcHVibGljIHByZUlDT3N0YXJ0VGltZSA9IDE1MDc2NDQwMDA7ICAgICAvLyAxMC4xMC4yMDE3IDE0OjAwICswCiAgICB1aW50IHB1YmxpYyBwcmVJQ09lbmRUaW1lID0gMTUwODg1MzYwMDsgICAgIC8vIDI0LjEwLjIwMTcgMTQ6MDAgKzAKICAgIHVpbnQgcHVibGljIElDT3N0YXJ0VGltZSA9IDE1MTAzMjI0MDA7ICAgIC8vIDEwLjExLjIwMTcgMTQ6MDAgKzAKICAgIHVpbnQgcHVibGljIElDT2VuZFRpbWUgPSAxNTEyMzk2MDAwOyAgICAgICAvLyAwNC4xMi4yMDE3IDE0OjAwICswCiAgICBib29sIHB1YmxpYyBjcm93ZHNhbGVGaW5pc2hlZCA9IGZhbHNlOwoKICAgIGV2ZW50IE5ld0NvbnRyaWJ1dGlvbihhZGRyZXNzIGluZGV4ZWQgaG9sZGVyLCB1aW50MjU2IHRva2VuQW1vdW50LCB1aW50MjU2IGV0aGVyQW1vdW50KTsKCiAgICBmdW5jdGlvbiBDcm93ZHNhbGUoKSB7CiAgICAgICAgdG9rZW4gPSBuZXcgTG9yaVRva2VuKCk7CiAgICB9CgogICAgZnVuY3Rpb24oKSBwYXlhYmxlIHsKICAgICAgICBkb1B1cmNoYXNlKCk7CiAgICB9CgogICAgZnVuY3Rpb24gZG9QdXJjaGFzZSgpIHBheWFibGUgewogICAgICAgIGFzc2VydCgobm93ID4gcHJlSUNPc3RhcnRUaW1lICYmIG5vdyA8IHByZUlDT2VuZFRpbWUpIHx8IChub3cgPiBJQ09zdGFydFRpbWUgJiYgbm93IDwgSUNPZW5kVGltZSkpOwogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IDAuMDEgKiAxIGV0aGVyKTsKICAgICAgICByZXF1aXJlKCFjcm93ZHNhbGVGaW5pc2hlZCk7CgogICAgICAgIHVpbnQgdG9rZW5zID0gbXNnLnZhbHVlICogKG5vdyA+PSBJQ09zdGFydFRpbWUgPyAxMDAgOiAxMjApOwoKICAgICAgICByZXF1aXJlKHRva2VuLm1pbnQobXNnLnNlbmRlciwgdG9rZW5zKSk7CiAgICAgICAgcmVxdWlyZShiZW5lZmljaWFyeS5zZW5kKG1zZy52YWx1ZSkpOwoKICAgICAgICBjb2xsZWN0ZWQgPSBjb2xsZWN0ZWQuYWRkKG1zZy52YWx1ZSk7CgogICAgICAgIE5ld0NvbnRyaWJ1dGlvbihtc2cuc2VuZGVyLCB0b2tlbnMsIG1zZy52YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gd2l0aGRyYXcoKSBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUodG9rZW4uZmluaXNoTWludGluZygpKTsKICAgICAgICByZXF1aXJlKGJlbmVmaWNpYXJ5LnNlbmQodGhpcy5iYWxhbmNlKSk7CiAgICAgICAgdG9rZW4udHJhbnNmZXJPd25lcnNoaXAoYmVuZWZpY2lhcnkpOwoKICAgICAgICBjcm93ZHNhbGVGaW5pc2hlZCA9IHRydWU7CiAgICB9Cn0='.
	

]
