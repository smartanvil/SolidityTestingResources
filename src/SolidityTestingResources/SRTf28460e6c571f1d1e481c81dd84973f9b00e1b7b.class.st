Class {
	#name : #SRTf28460e6c571f1d1e481c81dd84973f9b00e1b7b,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTf28460e6c571f1d1e481c81dd84973f9b00e1b7b >> base64 [
	^ 'Ly8gS3BvcEl0ZW0gaXMgYSBFUkMtNzIxIGl0ZW0gKGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9laXBzL2lzc3Vlcy83MjEpCi8vIEVhY2ggS3BvcEl0ZW0gaGFzIGl0cyBjb25uZWN0ZWQgS3BvcFRva2VuIGl0ZW1yaXR5IGNhcmQKLy8gS3BvcC5pbyBpcyB0aGUgb2ZmaWNpYWwgd2Vic2l0ZQoKcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CgogIC8qKgogICogQGRldiBNdWx0aXBsaWVzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICAvKioKICAqIEBkZXYgSW50ZWdlciBkaXZpc2lvbiBvZiB0d28gbnVtYmVycywgdHJ1bmNhdGluZyB0aGUgcXVvdGllbnQuCiAgKi8KICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIC8qKgogICogQGRldiBTdWJzdHJhY3RzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cgKGkuZS4gaWYgc3VidHJhaGVuZCBpcyBncmVhdGVyIHRoYW4gbWludWVuZCkuCiAgKi8KICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICAvKioKICAqIEBkZXYgQWRkcyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93LgogICovCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IEVSQzcyMSB7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF90bywgdWludCBfaXRlbUlkKSBwdWJsaWM7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50IGJhbGFuY2UpOwogIGZ1bmN0aW9uIGltcGxlbWVudHNFUkM3MjEoKSBwdWJsaWMgcHVyZSByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBvd25lck9mKHVpbnQgX2l0ZW1JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcyBhZGRyKTsKICBmdW5jdGlvbiB0YWtlT3duZXJzaGlwKHVpbnQgX2l0ZW1JZCkgcHVibGljOwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCB0b3RhbCk7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF9pdGVtSWQpIHB1YmxpYzsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfaXRlbUlkKSBwdWJsaWM7CgogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgaXRlbUlkKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBhcHByb3ZlZCwgdWludCBpdGVtSWQpOwp9Cgpjb250cmFjdCBLcG9wQ2VsZWIgaXMgRVJDNzIxIHsKICBmdW5jdGlvbiBvd25lck9mKHVpbnQgX2NlbGViSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKGFkZHJlc3MgYWRkcik7Cn0KCmNvbnRyYWN0IEtwb3BJdGVtIGlzIEVSQzcyMSB7CiAgYWRkcmVzcyBwdWJsaWMgYXV0aG9yOwogIGFkZHJlc3MgcHVibGljIGNvYXV0aG9yOwogIGFkZHJlc3MgcHVibGljIG1hbnVmYWN0dXJlcjsKCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBOQU1FID0gIktwb3BJdGVtIjsKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IFNZTUJPTCA9ICJLcG9wSXRlbSI7CgogIHVpbnQgcHVibGljIEdST1dUSF9CVU1QID0gMC40IGV0aGVyOwogIHVpbnQgcHVibGljIE1JTl9TVEFSVElOR19QUklDRSA9IDAuMDAxIGV0aGVyOwogIHVpbnQgcHVibGljIFBSSUNFX0lOQ1JFQVNFX1NDQUxFID0gMTIwOyAvLyAxMjAlIG9mIHByZXZpb3VzIHByaWNlCiAgdWludCBwdWJsaWMgRElWSURFTkQgPSAzOwoKICBhZGRyZXNzIHB1YmxpYyBLUE9QX0NFTEVCX0NPTlRSQUNUX0FERFJFU1MgPSAweDA7CiAgYWRkcmVzcyBwdWJsaWMgS1BPUF9BUkVOQV9DT05UUkFDVF9BRERSRVNTID0gMHgwOwoKICBzdHJ1Y3QgSXRlbSB7CiAgICBzdHJpbmcgbmFtZTsKICB9CgogIEl0ZW1bXSBwdWJsaWMgaXRlbXM7CgogIG1hcHBpbmcodWludCA9PiBhZGRyZXNzKSBwdWJsaWMgaXRlbUlkVG9Pd25lcjsKICBtYXBwaW5nKHVpbnQgPT4gdWludCkgcHVibGljIGl0ZW1JZFRvUHJpY2U7CiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyB1c2VyVG9OdW1JdGVtczsKICBtYXBwaW5nKHVpbnQgPT4gYWRkcmVzcykgcHVibGljIGl0ZW1JZFRvQXBwcm92ZWRSZWNpcGllbnQ7CiAgbWFwcGluZyh1aW50ID0+IHVpbnRbNl0pIHB1YmxpYyBpdGVtSWRUb1RyYWl0VmFsdWVzOwogIG1hcHBpbmcodWludCA9PiB1aW50KSBwdWJsaWMgaXRlbUlkVG9DZWxlYklkOwoKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IGl0ZW1JZCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgYXBwcm92ZWQsIHVpbnQgaXRlbUlkKTsKICBldmVudCBJdGVtU29sZCh1aW50IGl0ZW1JZCwgdWludCBvbGRQcmljZSwgdWludCBuZXdQcmljZSwgc3RyaW5nIGl0ZW1OYW1lLCBhZGRyZXNzIHByZXZPd25lciwgYWRkcmVzcyBuZXdPd25lcik7CiAgZXZlbnQgVHJhbnNmZXJUb1dpbm5lcih1aW50IGl0ZW1JZCwgdWludCBvbGRQcmljZSwgdWludCBuZXdQcmljZSwgc3RyaW5nIGl0ZW1OYW1lLCBhZGRyZXNzIHByZXZPd25lciwgYWRkcmVzcyBuZXdPd25lcik7CgogIGZ1bmN0aW9uIEtwb3BJdGVtKCkgcHVibGljIHsKICAgIGF1dGhvciA9IG1zZy5zZW5kZXI7CiAgICBjb2F1dGhvciA9IG1zZy5zZW5kZXI7CiAgfQoKICBmdW5jdGlvbiBfdHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2l0ZW1JZCkgcHJpdmF0ZSB7CiAgICByZXF1aXJlKG93bmVyT2YoX2l0ZW1JZCkgPT0gX2Zyb20pOwogICAgcmVxdWlyZSghaXNOdWxsQWRkcmVzcyhfdG8pKTsKICAgIHJlcXVpcmUoYmFsYW5jZU9mKF9mcm9tKSA+IDApOwoKICAgIHVpbnQgcHJldkJhbGFuY2VzID0gYmFsYW5jZU9mKF9mcm9tKSArIGJhbGFuY2VPZihfdG8pOwogICAgaXRlbUlkVG9Pd25lcltfaXRlbUlkXSA9IF90bzsKICAgIHVzZXJUb051bUl0ZW1zW19mcm9tXS0tOwogICAgdXNlclRvTnVtSXRlbXNbX3RvXSsrOwoKICAgIGRlbGV0ZSBpdGVtSWRUb0FwcHJvdmVkUmVjaXBpZW50W19pdGVtSWRdOwoKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF9pdGVtSWQpOwoKICAgIGFzc2VydChiYWxhbmNlT2YoX2Zyb20pICsgYmFsYW5jZU9mKF90bykgPT0gcHJldkJhbGFuY2VzKTsKICB9CgogIGZ1bmN0aW9uIGJ1eSh1aW50IF9pdGVtSWQpIHBheWFibGUgcHVibGljIHsKICAgIGFkZHJlc3MgcHJldk93bmVyID0gb3duZXJPZihfaXRlbUlkKTsKICAgIHVpbnQgY3VycmVudFByaWNlID0gaXRlbUlkVG9QcmljZVtfaXRlbUlkXTsKCiAgICByZXF1aXJlKHByZXZPd25lciAhPSBtc2cuc2VuZGVyKTsKICAgIHJlcXVpcmUoIWlzTnVsbEFkZHJlc3MobXNnLnNlbmRlcikpOwogICAgcmVxdWlyZShtc2cudmFsdWUgPj0gY3VycmVudFByaWNlKTsKCiAgICAvLyBTZXQgZGl2aWRlbmQKICAgIHVpbnQgZGl2aWRlbmQgPSB1aW50KFNhZmVNYXRoLmRpdihTYWZlTWF0aC5tdWwoY3VycmVudFByaWNlLCBESVZJREVORCksIDEwMCkpOwoKICAgIC8vIFRha2UgYSBjdXQKICAgIHVpbnQgcGF5bWVudCA9IHVpbnQoU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChjdXJyZW50UHJpY2UsIDkwKSwgMTAwKSk7CgogICAgdWludCBsZWZ0b3ZlciA9IFNhZmVNYXRoLnN1Yihtc2cudmFsdWUsIGN1cnJlbnRQcmljZSk7CiAgICB1aW50IG5ld1ByaWNlOwoKICAgIF90cmFuc2ZlcihwcmV2T3duZXIsIG1zZy5zZW5kZXIsIF9pdGVtSWQpOwoKICAgIGlmIChjdXJyZW50UHJpY2UgPCBHUk9XVEhfQlVNUCkgewogICAgICBuZXdQcmljZSA9IFNhZmVNYXRoLm11bChjdXJyZW50UHJpY2UsIDIpOwogICAgfSBlbHNlIHsKICAgICAgbmV3UHJpY2UgPSBTYWZlTWF0aC5kaXYoU2FmZU1hdGgubXVsKGN1cnJlbnRQcmljZSwgUFJJQ0VfSU5DUkVBU0VfU0NBTEUpLCAxMDApOwogICAgfQoKICAgIGl0ZW1JZFRvUHJpY2VbX2l0ZW1JZF0gPSBuZXdQcmljZTsKCiAgICAvLyBQYXkgdGhlIHByZXYgb3duZXIgb2YgdGhlIGl0ZW0KICAgIGlmIChwcmV2T3duZXIgIT0gYWRkcmVzcyh0aGlzKSkgewogICAgICBwcmV2T3duZXIudHJhbnNmZXIocGF5bWVudCk7CiAgICB9CgogICAgLy8gUGF5IGRpdmlkZW5kIHRvIHRoZSBjdXJyZW50IG93bmVyIG9mIHRoZSBjZWxlYiB0aGF0J3MgY29ubmVjdGVkIHRvIHRoZSBpdGVtCiAgICB1aW50IGNlbGViSWQgPSBjZWxlYk9mKF9pdGVtSWQpOwogICAgS3BvcENlbGViIEtQT1BfQ0VMRUIgPSBLcG9wQ2VsZWIoS1BPUF9DRUxFQl9DT05UUkFDVF9BRERSRVNTKTsKICAgIGFkZHJlc3MgY2VsZWJPd25lciA9IEtQT1BfQ0VMRUIub3duZXJPZihjZWxlYklkKTsKICAgIGlmIChjZWxlYk93bmVyICE9IGFkZHJlc3ModGhpcykgJiYgIWlzTnVsbEFkZHJlc3MoY2VsZWJPd25lcikpIHsKICAgICAgY2VsZWJPd25lci50cmFuc2ZlcihkaXZpZGVuZCk7CiAgICB9CgogICAgSXRlbVNvbGQoX2l0ZW1JZCwgY3VycmVudFByaWNlLCBuZXdQcmljZSwKICAgICAgaXRlbXNbX2l0ZW1JZF0ubmFtZSwgcHJldk93bmVyLCBtc2cuc2VuZGVyKTsKCiAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGxlZnRvdmVyKTsKICB9CgogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICByZXR1cm4gdXNlclRvTnVtSXRlbXNbX293bmVyXTsKICB9CgogIGZ1bmN0aW9uIG93bmVyT2YodWludCBfaXRlbUlkKSBwdWJsaWMgdmlldyByZXR1cm5zIChhZGRyZXNzIGFkZHIpIHsKICAgIHJldHVybiBpdGVtSWRUb093bmVyW19pdGVtSWRdOwogIH0KCiAgZnVuY3Rpb24gY2VsZWJPZih1aW50IF9pdGVtSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgY2VsZWJJZCkgewogICAgcmV0dXJuIGl0ZW1JZFRvQ2VsZWJJZFtfaXRlbUlkXTsKICB9CgogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCB0b3RhbCkgewogICAgcmV0dXJuIGl0ZW1zLmxlbmd0aDsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF9pdGVtSWQpIHB1YmxpYyB7CiAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfaXRlbUlkKTsKICB9CgogIC8qKiBTVEFSVCBGVU5DVElPTlMgRk9SIEFVVEhPUlMgKiovCgogIGZ1bmN0aW9uIGNyZWF0ZUl0ZW0oc3RyaW5nIF9uYW1lLCB1aW50IF9wcmljZSwgdWludCBfY2VsZWJJZCwgYWRkcmVzcyBfb3duZXIsIHVpbnRbNl0gX3RyYWl0VmFsdWVzKSBwdWJsaWMgb25seU1hbnVmYWN0dXJlciB7CiAgICByZXF1aXJlKF9wcmljZSA+PSBNSU5fU1RBUlRJTkdfUFJJQ0UpOwoKICAgIGFkZHJlc3Mgb3duZXIgPSBfb3duZXIgPT0gMHgwID8gYXV0aG9yIDogX293bmVyOwogICAgdWludCBpdGVtSWQgPSBpdGVtcy5wdXNoKEl0ZW0oX25hbWUpKSAtIDE7CiAgICBpdGVtSWRUb093bmVyW2l0ZW1JZF0gPSBvd25lcjsKICAgIGl0ZW1JZFRvUHJpY2VbaXRlbUlkXSA9IF9wcmljZTsKICAgIGl0ZW1JZFRvQ2VsZWJJZFtpdGVtSWRdID0gX2NlbGViSWQ7CiAgICBpdGVtSWRUb1RyYWl0VmFsdWVzW2l0ZW1JZF0gPSBfdHJhaXRWYWx1ZXM7IC8vIFRPRE86IGZldGNoIGNlbGViIHRyYWl0cyBsYXRlcgogICAgdXNlclRvTnVtSXRlbXNbb3duZXJdKys7CiAgfQoKICBmdW5jdGlvbiB1cGRhdGVJdGVtKHVpbnQgX2l0ZW1JZCwgc3RyaW5nIF9uYW1lLCB1aW50WzZdIF90cmFpdFZhbHVlcykgcHVibGljIG9ubHlBdXRob3JzIHsKICAgIHJlcXVpcmUoX2l0ZW1JZCA+PSAwICYmIF9pdGVtSWQgPCB0b3RhbFN1cHBseSgpKTsKCiAgICBpdGVtc1tfaXRlbUlkXS5uYW1lID0gX25hbWU7CiAgICBpdGVtSWRUb1RyYWl0VmFsdWVzW19pdGVtSWRdID0gX3RyYWl0VmFsdWVzOwogIH0KCiAgZnVuY3Rpb24gd2l0aGRyYXcodWludCBfYW1vdW50LCBhZGRyZXNzIF90bykgcHVibGljIG9ubHlBdXRob3JzIHsKICAgIHJlcXVpcmUoIWlzTnVsbEFkZHJlc3MoX3RvKSk7CiAgICByZXF1aXJlKF9hbW91bnQgPD0gdGhpcy5iYWxhbmNlKTsKCiAgICBfdG8udHJhbnNmZXIoX2Ftb3VudCk7CiAgfQoKICBmdW5jdGlvbiB3aXRoZHJhd0FsbCgpIHB1YmxpYyBvbmx5QXV0aG9ycyB7CiAgICByZXF1aXJlKGF1dGhvciAhPSAweDApOwogICAgcmVxdWlyZShjb2F1dGhvciAhPSAweDApOwoKICAgIHVpbnQgaGFsZkJhbGFuY2UgPSB1aW50KFNhZmVNYXRoLmRpdih0aGlzLmJhbGFuY2UsIDIpKTsKCiAgICBhdXRob3IudHJhbnNmZXIoaGFsZkJhbGFuY2UpOwogICAgY29hdXRob3IudHJhbnNmZXIoaGFsZkJhbGFuY2UpOwogIH0KCiAgZnVuY3Rpb24gc2V0Q29BdXRob3IoYWRkcmVzcyBfY29hdXRob3IpIHB1YmxpYyBvbmx5QXV0aG9yIHsKICAgIHJlcXVpcmUoIWlzTnVsbEFkZHJlc3MoX2NvYXV0aG9yKSk7CgogICAgY29hdXRob3IgPSBfY29hdXRob3I7CiAgfQoKICBmdW5jdGlvbiBzZXRNYW51ZmFjdHVyZXIoYWRkcmVzcyBfbWFudWZhY3R1cmVyKSBwdWJsaWMgb25seUF1dGhvcnMgewogICAgcmVxdWlyZSghaXNOdWxsQWRkcmVzcyhfbWFudWZhY3R1cmVyKSk7CgogICAgbWFudWZhY3R1cmVyID0gX21hbnVmYWN0dXJlcjsKICB9CgogIC8qKiBFTkQgRlVOQ1RJT05TIEZPUiBBVVRIT1JTICoqLwoKICBmdW5jdGlvbiBnZXRJdGVtKHVpbnQgX2l0ZW1JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoCiAgICBzdHJpbmcgbmFtZSwKICAgIHVpbnQgcHJpY2UsCiAgICBhZGRyZXNzIG93bmVyLAogICAgdWludFs2XSB0cmFpdFZhbHVlcywKICAgIHVpbnQgY2VsZWJJZAogICkgewogICAgbmFtZSA9IGl0ZW1zW19pdGVtSWRdLm5hbWU7CiAgICBwcmljZSA9IGl0ZW1JZFRvUHJpY2VbX2l0ZW1JZF07CiAgICBvd25lciA9IGl0ZW1JZFRvT3duZXJbX2l0ZW1JZF07CiAgICB0cmFpdFZhbHVlcyA9IGl0ZW1JZFRvVHJhaXRWYWx1ZXNbX2l0ZW1JZF07CiAgICBjZWxlYklkID0gY2VsZWJPZihfaXRlbUlkKTsKICB9CgogIC8qKiBTVEFSVCBGVU5DVElPTlMgUkVMQVRFRCBUTyBFWFRFUk5BTCBDT05UUkFDVCBJTlRFUkFDVElPTlMgKiovCgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfdG8sIHVpbnQgX2l0ZW1JZCkgcHVibGljIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lck9mKF9pdGVtSWQpKTsKCiAgICBpdGVtSWRUb0FwcHJvdmVkUmVjaXBpZW50W19pdGVtSWRdID0gX3RvOwoKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF90bywgX2l0ZW1JZCk7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2l0ZW1JZCkgcHVibGljIHsKICAgIHJlcXVpcmUob3duZXJPZihfaXRlbUlkKSA9PSBfZnJvbSk7CiAgICByZXF1aXJlKGlzQXBwcm92ZWQoX3RvLCBfaXRlbUlkKSk7CiAgICByZXF1aXJlKCFpc051bGxBZGRyZXNzKF90bykpOwoKICAgIF90cmFuc2ZlcihfZnJvbSwgX3RvLCBfaXRlbUlkKTsKICB9CgogIGZ1bmN0aW9uIHRha2VPd25lcnNoaXAodWludCBfaXRlbUlkKSBwdWJsaWMgewogICAgcmVxdWlyZSghaXNOdWxsQWRkcmVzcyhtc2cuc2VuZGVyKSk7CiAgICByZXF1aXJlKGlzQXBwcm92ZWQobXNnLnNlbmRlciwgX2l0ZW1JZCkpOwoKICAgIGFkZHJlc3MgY3VycmVudE93bmVyID0gaXRlbUlkVG9Pd25lcltfaXRlbUlkXTsKCiAgICBfdHJhbnNmZXIoY3VycmVudE93bmVyLCBtc2cuc2VuZGVyLCBfaXRlbUlkKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyVG9XaW5uZXIoYWRkcmVzcyBfd2lubmVyLCBhZGRyZXNzIF9sb3NlciwgdWludCBfaXRlbUlkKSBwdWJsaWMgb25seUFyZW5hIHsKICAgIHJlcXVpcmUoIWlzTnVsbEFkZHJlc3MoX3dpbm5lcikpOwogICAgcmVxdWlyZSghaXNOdWxsQWRkcmVzcyhfbG9zZXIpKTsKICAgIHJlcXVpcmUob3duZXJPZihfaXRlbUlkKSA9PSBfbG9zZXIpOwoKICAgIC8vIFJlc2V0IGl0ZW0gcHJpY2UKICAgIHVpbnQgb2xkUHJpY2UgPSBpdGVtSWRUb1ByaWNlW19pdGVtSWRdOwogICAgdWludCBuZXdQcmljZSA9IE1JTl9TVEFSVElOR19QUklDRTsKICAgIGl0ZW1JZFRvUHJpY2VbX2l0ZW1JZF0gPSBuZXdQcmljZTsKCiAgICBfdHJhbnNmZXIoX2xvc2VyLCBfd2lubmVyLCBfaXRlbUlkKTsKCiAgICBUcmFuc2ZlclRvV2lubmVyKF9pdGVtSWQsIG9sZFByaWNlLCBuZXdQcmljZSwgaXRlbXNbX2l0ZW1JZF0ubmFtZSwgX2xvc2VyLCBfd2lubmVyKTsKICB9CgogIC8qKiBFTkQgRlVOQ1RJT05TIFJFTEFURUQgVE8gRVhURVJOQUwgQ09OVFJBQ1QgSU5URVJBQ1RJT05TICoqLwoKICBmdW5jdGlvbiBpbXBsZW1lbnRzRVJDNzIxKCkgcHVibGljIHB1cmUgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKiogTU9ESUZJRVJTICoqLwoKICBtb2RpZmllciBvbmx5QXV0aG9yKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGF1dGhvcik7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgb25seUF1dGhvcnMoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gYXV0aG9yIHx8IG1zZy5zZW5kZXIgPT0gY29hdXRob3IpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIG9ubHlNYW51ZmFjdHVyZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gYXV0aG9yIHx8IG1zZy5zZW5kZXIgPT0gY29hdXRob3IgfHwgbXNnLnNlbmRlciA9PSBtYW51ZmFjdHVyZXIpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIG9ubHlBcmVuYSgpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBLUE9QX0FSRU5BX0NPTlRSQUNUX0FERFJFU1MpOwogICAgXzsKICB9CgogIC8qKiBGVU5DVElPTlMgVEhBVCBXT05UIEJFIFVTRUQgRlJFUVVFTlRMWSAqKi8KCiAgZnVuY3Rpb24gc2V0TWluU3RhcnRpbmdQcmljZSh1aW50IF9wcmljZSkgcHVibGljIG9ubHlBdXRob3JzIHsKICAgIE1JTl9TVEFSVElOR19QUklDRSA9IF9wcmljZTsKICB9CgogIGZ1bmN0aW9uIHNldEdyb3d0aEJ1bXAodWludCBfYnVtcCkgcHVibGljIG9ubHlBdXRob3JzIHsKICAgIEdST1dUSF9CVU1QID0gX2J1bXA7CiAgfQoKICBmdW5jdGlvbiBzZXREaXZpZGVuZCh1aW50IF9kaXZpZGVuZCkgcHVibGljIG9ubHlBdXRob3JzIHsKICAgIERJVklERU5EID0gX2RpdmlkZW5kOwogIH0KCiAgZnVuY3Rpb24gc2V0UHJpY2VJbmNyZWFzZVNjYWxlKHVpbnQgX3NjYWxlKSBwdWJsaWMgb25seUF1dGhvcnMgewogICAgUFJJQ0VfSU5DUkVBU0VfU0NBTEUgPSBfc2NhbGU7CiAgfQoKICBmdW5jdGlvbiBzZXRLcG9wQ2VsZWJDb250cmFjdEFkZHJlc3MoYWRkcmVzcyBfYWRkcmVzcykgcHVibGljIG9ubHlBdXRob3JzIHsKICAgIEtQT1BfQ0VMRUJfQ09OVFJBQ1RfQUREUkVTUyA9IF9hZGRyZXNzOwogIH0KCiAgZnVuY3Rpb24gc2V0S3BvcEFyZW5hQ29udHJhY3RBZGRyZXNzKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyBvbmx5QXV0aG9ycyB7CiAgICBLUE9QX0FSRU5BX0NPTlRSQUNUX0FERFJFU1MgPSBfYWRkcmVzczsKICB9CgogIC8qKiBQUklWQVRFIEZVTkNUSU9OUyAqKi8KCiAgZnVuY3Rpb24gaXNBcHByb3ZlZChhZGRyZXNzIF90bywgdWludCBfaXRlbUlkKSBwcml2YXRlIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIGl0ZW1JZFRvQXBwcm92ZWRSZWNpcGllbnRbX2l0ZW1JZF0gPT0gX3RvOwogIH0KCiAgZnVuY3Rpb24gaXNOdWxsQWRkcmVzcyhhZGRyZXNzIF9hZGRyKSBwcml2YXRlIHB1cmUgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIF9hZGRyID09IDB4MDsKICB9Cn0='.
	

]
