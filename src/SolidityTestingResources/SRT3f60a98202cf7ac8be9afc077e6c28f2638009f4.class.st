Class {
	#name : #SRT3f60a98202cf7ac8be9afc077e6c28f2638009f4,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT3f60a98202cf7ac8be9afc077e6c28f2638009f4 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7IC8vTU1NTU1NTSp+Kz4gU2VsZi1kb2N1bWVudGluZyBzbWFydCBjb250cmFjdC4gPCt+Kk0gLy8KLy8gTU1NTVdLa2swS05NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NV05LT2tPS1dNTU1NTU0gLy8KLy8gTU1NTVhsLi4uLi4sY2RPWFdNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NV1hPbzosLi4uLi5kTk1NTU0gLy8KLy8gTU1NV2QuICAgICAgICAuJ2N4S1dNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NVzBkOicuICAgICAgICAueE1NTU0gLy8KLy8gTU1NSywgICAuLi4uLi4gICAuLjp4WFdNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NV0tkOy4gICAgLi4uLi4gICAgOlhNTU0gLy8KLy8gTU1XZC4gICAuOzs7LCwnLi4gICAuJ2xrWE5XV05OTldNTU1NTU1NTU1NV05OV1dXTktrYy4uICAuLi4nLDs7OywuICAgLmtNTU0gLy8KLy8gTU1OYyAgIC4sOjo6Ojo6OywnLi4gICAuLiw7OywsZE5NTU1NTU1NTU1NWGwsOzs7LC4uICAgLi4nOzs6Ojo6OjonLiAgLmxXTU0gLy8KLy8gTU0wJyAgIC47Ojo6Ojo6Ojs7Jy4uICAgICAgICA7ME1NTU1NTU1NTU1NV08nICAgICAgICAuLiw7Ozo6Ojo6Ojo7LiAgIDtLTU0gLy8KLy8gTU14LiAgLic7Ojo6OjssJy4uLiAgICAgICAgLjowTU1NTU1NTU1NTU1NTVdPOy4gICAgICAgIC4uLic7Ozo6Ojo7Li4gIC5PTU0gLy8KLy8gTVdkLiAgLiw6Ojo7Jy4uICAgICAgICAgIC4seE5NTU1NTU1NTU1NTU1NTU1NWGQnLiAgICAgICAgICAuLiw7Ojo6Jy4gIC54TU0gLy8KLy8gTU5sLiAgLiw6OycuLiAgICAgICAgIC4sY2tOTU1NTU1NTU1NTU1NTU1NTU1NTU1YeGMnLiAgICAgICAgIC4uJzs6LC4gIC5kV00gLy8KLy8gTU5jICAgLiwsLi4gICAgLjs6Y2xveDBOV1hYV01NTU1NTU1NTU1NTU1NTU1NTVdYWFdYT3hvbGM6Oy4gICAgLi4sJy4gIC5vV00gLy8KLy8gTU5jICAgLi4uICAgICAub1dNTU1OWE5NVzBvZFhNTU1NTU1NTU1NTU1NTU1NS29vS1dNTlhOTU1NTmMuICAgICAuLi4gIC5vV00gLy8KLy8gTU5jLiAgICAgICAgICA7S01NTU1Oa29rTk1YbGNLTU1NTU1NTU1NTU1NTU0wY29OTU54b09XTU1NTTAsICAgICAgICAgIC5vV00gLy8KLy8gTU5jICAgICAgICAgLjswTU1NTU1NV086ZE5NTm94V01NTU1NTU1NTU1NTU5kZE5NTm9jS01NTU1NTVdPLCAgICAgICAgIC5vV00gLy8KLy8gTVg6ICAgICAgICAubFhNTU1NTU1NTU0wbE9NTU5YV01NTU1NTU1NTU1NTVdYTk1Na2xLTU1NTU1NTU1NMDouICAgICAgIC5sTk0gLy8KLy8gTVg7ICAgICAgLjtrV01NTU1NTU1NTU1NWE5NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTk5NTU1NTU1NTU1NTU54LC4gICAgICBjTk0gLy8KLy8gTU8uICAgIC46a05NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTng6LiAgLiAsME0gLy8KLy8gV2wuLic6ZEtXTU1NTU1NTVdOSzAwMEtOTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTVdOSzAwMEtOTU1NTU1NTU1XMG87Li4uZFcgLy8KLy8gTnhkT1hXTU1NTU1NTVcwb2xjYzo6OywsY3hYV01NTU1NTU1NTU1NTU1NTU1NTVdLZDosLDs6OmNjbGQwV01NTU1NTU1XS2tva1cgLy8KLy8gTU1NTU1NTU1NTU1XT2xjZDBYV1dXTjB4Oi4sT01NTU1NTU1NTU1NTU1NTU1NV2ssJ2N4S05XV1dYT2RjbDBNTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1XS0tXTU1NTU1NTU1NV0swWE1NTU1NTU1NTU1NTU1NTU1NTVhPWFdNTU1NTU1NTU1OMFhNTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1XSzBPT09PMEtXTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU5vLi4uLi4uLid4V01NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NTktPa2trazBYTk1NTU1NTU1NTU1NTU1NTU1NTVdPOy4gICAgLjowV01NTU1NTU1NTU1NTU1NTU1NV05LT2tra2tPS05NTU0gLy8KLy8gTU1XWE9reGRkb2RkeHhrS1dNTU1NTU1NTU1NTU1NTU1NWG8uLi4nZE5NTU1NTU1NTU1NTU1NTU1NTjBreHhkb2RkZHhrMFhNTU0gLy8KLy8gTU1NTU1NTU1NTU1NV05LS05NTU1NTU1NTU1NTU1NTU1NV09jLCxjMFdNTU1NTU1NTU1NTU1NTU1NWEtLTldNTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1XWEtLWFhOV01NTU1NTU1NTU1XV1dXV1gweGNjbGM6Y3hLTldXV1dXTU1NTU1NTU1NTVdOWFhLS1hXTU1NTU1NTU0gLy8KLy8gTU1NV1hPeGRvb29kZHhrTzBOTU1NTU1NTVdLa2ZvYWhoZWl0TlgwR2xpa2tkYWtYTU1NTU1NTVdYME9reGRkb29kZHhPWFdNTU0gLy8KLy8gTU1NV1hLS05OV01NTU1NV1dXTU1NTU1NTU1NV05YWFhOV01NTU1NTVdYWFhYTldNTU1NTU1NTU1XV1dNTU1NV1dOWEtLTldNTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NIEx1Y2t5KiBNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NPiAqfis+IHdlIGFyZSB0aGUgTU1NTU1NTU1NTU1NIE51bWJlciBNTU1NTU1NPiB3ZSBhcmUgdGhlIDwrfiogPE1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTT4gbXVzaWMgPE1NTU1NTU1NTU1NTU1NIC0tLS0tLSBNTU1NTU1NTU1NPiBkcmVhbWVyIDxNTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU0+ICp+Kz4gbWFrZXJzIDxNTU1NTTxNTU1NIFJhbmRvbSBNTU1NTU1NTU1NTU1NPiBvZiA8TU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NIExlZGdlciBNTU1NTU1NTU1NTU1NTT4gZHJlYW1zLiA8K34qIDxNTU0gLy8KLy8gTT4gcGFsaW1wc2VzdCBieSA8TU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gfj4gYXJraW1lZGVzLmV0aCA8fit+K34rfn4rfit+K35+K34rfit+fit+K34rfn4rfit+K34+IFZJSUkqWFhJSSpNTVhWSUkgPH4gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KCi8qKgogKiBNYW5hZ2VzIGNvbnRyYWN0IG93bmVyc2hpcC4KICovCmNvbnRyYWN0IE93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgZnVuY3Rpb24gb3duZWQoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQogICAgbW9kaWZpZXIgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIF9uZXdPd25lcikgb25seU93bmVyIHsKICAgICAgICBvd25lciA9IF9uZXdPd25lcjsKICAgIH0KfQoKLyoqCiAqIFNhZmVNYXRoCiAqIE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvci4KICogVGFraW5nIGlkZWFzIGZyb20gRmlyc3RCbG9vZCB0b2tlbi4gRW5oYW5jZWQgYnkgT3BlblplcHBlbGluLgogKi8KY29udHJhY3QgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikKICBpbnRlcm5hbAogIGNvbnN0YW50CiAgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikKICBpbnRlcm5hbAogIGNvbnN0YW50CiAgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKQogIGludGVybmFsCiAgY29uc3RhbnQKICByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKQogIGludGVybmFsCiAgY29uc3RhbnQKICByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgovKioKICogUmFuZG9tIG51bWJlciBnZW5lcmF0b3IgZnJvbSBtaW5lZCBibG9jayBoYXNoLgogKi8KY29udHJhY3QgUmFuZG9tIGlzIFNhZmVNYXRoIHsKICAgIC8vIEdlbmVyYXRlcyBhIHJhbmRvbSBudW1iZXIgZnJvbSAxIHRvIG1heCBiYXNlZCBvbiB0aGUgbGFzdCBibG9jayBoYXNoLgogICAgZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21OdW1iZXIodWludCBibG9ja051bWJlciwgdWludCBtYXgpCiAgICBwdWJsaWMKICAgIGNvbnN0YW50IAogICAgcmV0dXJucyh1aW50KSB7CiAgICAgICAgLy8KICAgICAgICAvLyBibG9jay5ibG9ja2hhc2godWludCBibG9ja051bWJlcikKICAgICAgICAvLyByZXR1cm5zCiAgICAgICAgLy8gKGJ5dGVzMzIpOiBoYXNoIG9mIHRoZSBnaXZlbiBibG9jawogICAgICAgIC8vIAogICAgICAgIC8vICshKyErISBvbmx5IHdvcmtzIGZvciAyNTYgbW9zdCByZWNlbnQgYmxvY2tzIGV4Y2x1ZGluZyBjdXJyZW50ICErISshKwogICAgICAgIC8vIAogICAgICAgIC8vIHJlcXVlc3RzIGdlbmVyYXRlZCBmcm9tIGV4cGlyZWQgYmxvY2tzCiAgICAgICAgLy8gd2lsbCBzdGlsbCBnZXQgYSByYW5kb20gbnVtYmVyLAogICAgICAgIC8vIGJ1dCB0aGV5IHdpbGwgYmUgY29uc2lkZXJlZCBsZXNzIHNlY3VyZQogICAgICAgIC8vIGFzIGl0IGludHJvZHVjZXMgYSBwb3RlbnRpYWwgdnVsbmVyYWJpbGl0eS4KICAgICAgICAvLyAKICAgICAgICByZXR1cm4oYWRkKHVpbnQoc2hhMyhibG9jay5ibG9ja2hhc2goYmxvY2tOdW1iZXIpKSkgJSBtYXgsIDEpKTsKICAgIH0KfQoKLyoqCiAqIFJldHVybnMgbW9zdCByZWNlbnQgZXhwaXJlZCBibG9jay4gCiAqIEtub3cgaWYgdGhlIGJsb2NrIG51bWJlciB1c2Ugd2l0aCBnZW5lcmF0ZVJhbmRvbU51bWJlcgogKiBpcyBhY3R1YWxseSB0aGUgaGFzaCB0aGF0IGdlbmVyYXRlcyB0aGUgbnVtYmVyLgogKi8KY29udHJhY3QgRnJlc2ggaXMgU2FmZU1hdGggewogICAgZnVuY3Rpb24gZXhwaXJlZEJsb2NrKCkKICAgIGludGVybmFsCiAgICBjb25zdGFudCAKICAgIHJldHVybnModWludCkgewogICAgICAgIHVpbnQyNTYgZXhwaXJlZCA9IGJsb2NrLm51bWJlcjsKICAgICAgICBpZiAoZXhwaXJlZCA+IDI1NikgewogICAgICAgICAgICBleHBpcmVkID0gc3ViKGV4cGlyZWQsIDI1Nik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBleHBpcmVkOwogICAgfQp9CgovKioKICogUmFuZG9tTGVkZ2VyIGlzIHRoZSBtYWluIHB1YmxpYyBpbnRlcmZhY2UgZm9yIGEgcmFuZG9tIG51bWJlciBsZWRnZXIuCiAqIAogKiBUaGUgbGVkZ2VyIGZlYXR1cmUgZW1icmFjZXMgdGhlIGJsb2NrY2hhaW4gY2FwYWJsaXRpZXMsCiAqIGxldmVhZ2VkIGJ5IHRoZSBFdmVudCBsb2dzIGdlbmVyYXRlZCBieSBFdGhlcmV1bSBTbWFydCBDb250cmFjdHMuCiAqICJFdmVudHMgYXJlIGluaGVyaXRhYmxlIG1lbWJlcnMgb2YgY29udHJhY3RzLiBXaGVuIHRoZXkgYXJlIGNhbGxlZCwKICogdGhleSBjYXVzZSB0aGUgYXJndW1lbnRzIHRvIGJlIHN0b3JlZCBpbiB0aGUgdHJhbnNhY3Rpb24ncyBsb2cgCiAqIC0gYSBzcGVjaWFsIGRhdGEgc3RydWN0dXJlIGluIHRoZSBibG9ja2NoYWluLiBUaGVzZSBsb2dzIGFyZSBhc3NvY2lhdGVkIHdpdGggCiAqIHRoZSBhZGRyZXNzIG9mIHRoZSBjb250cmFjdCBhbmQgd2lsbCBiZSBpbmNvcnBvcmF0ZWQgaW50byB0aGUgYmxvY2tjaGFpbiBhbmQgCiAqIHN0YXkgdGhlcmUgYXMgbG9uZyBhcyBhIGJsb2NrIGlzIGFjY2Vzc2libGUgKGZvcmV2ZXIgYXMgb2YgRnJvbnRpZXIgCiAqIGFuZCBIb21lc3RlYWQsIGJ1dCB0aGlzIG1pZ2h0IGNoYW5nZSB3aXRoIFNlcmVuaXR5KS4iIAogKiArKyBSZWFkIG1vcmUgaW4gdGhlIHNvbGlkaXR5I2V2ZW50cyBkb2N1bWVudGF0aW9uLiArKwogKiAKICogVG8gbWFrZSBhIHJlcXVlc3Q6CiAqIFN0ZXAgMTogQ2FsbCByZXF1ZXN0TnVtYmVyIHdpdGggdGhlIGBjb3N0YCBhcyB0aGUgdmFsdWUKICogU3RlcCAyOiBXYWl0IHdhaXRUaW1lIGluIGJsb2NrcyBwYXN0IHRoZSBibG9jayB3aGljaCBtaW5lcyB0cmFuc2FjdGlvbiBmb3IgcmVxdWVzdE51bWJlcgogKiBTdGVwIDM6IENhbGwgcmV2ZWFsTnVtYmVyIHRvIGdlbmVyYXRlIHRoZSBudW1iZXIsIGFuZCBtYWtlIGl0IHB1YmxpY2x5IGFjY2Vzc2FibGUgaW4gdGhlIFVJLgogKiAgICAgICAgIHRoaXMgaXMgcmVxdWlyZWQgdG8gY3JlYXRlIHRoZSBFdmVudHMgd2hpY2ggZ2VuZXJhdGUgdGhlIExlZGdlci4gCiAqLwpjb250cmFjdCBSYW5kb21MZWRnZXIgaXMgT3duZWQgewogICAgLy8gfj4gY29zdCB0byBnZW5lcmF0ZSBhIHJhbmRvbSBudW1iZXIgaW4gV2VpLgogICAgdWludDI1NiBwdWJsaWMgY29zdDsKICAgIC8vIH4+IHdhaXRUaW1lIGlzIHRoZSBudW1iZXIgb2YgYmxvY2tzIGJlZm9yZSByYW5kb20gaXMgZ2VuZXJhdGVkLgogICAgdWludDggcHVibGljIGRlZmF1bHRXYWl0VGltZTsKICAgIC8vIH4+IHNldCBkZWZhdWx0IG1heAogICAgdWludDI1NiBwdWJsaWMgZGVmYXVsdE1heDsKICAgIC8vCiAgICAvLyBSYW5kb21OdW1iZXIgcmVwcmVzZW50cyBvbmUgbnVtYmVyLgogICAgc3RydWN0IFJhbmRvbU51bWJlciB7CiAgICAgICAgYWRkcmVzcyByZXF1ZXN0UHJveHk7CiAgICAgICAgdWludDI1NiByZW5kZXJlZE51bWJlcjsKICAgICAgICB1aW50MjU2IG9yaWdpbkJsb2NrOwogICAgICAgIHVpbnQyNTYgbWF4OwogICAgICAgIC8vIGJsb2NrcyB0byB3YWl0LAogICAgICAgIC8vIGFsc28gbWFpbnRhaW5zIHBlbmRpbmcgc3RhdGUKICAgICAgICB1aW50OCB3YWl0VGltZTsKICAgICAgICAvLyB3YXMgdGhlIG51bWJlciByZXZlYWxlZCB3aXRoaW4gdGhlIDI1NiBibG9jayB3aW5kb3cKICAgICAgICB1aW50MjU2IGV4cGlyZWQ7CiAgICB9CiAgICAvLwogICAgLy8gZm9yIE51bWJlciBMZWRnZXIKICAgIGV2ZW50IEV2ZW50UmFuZG9tTGVkZ2VyUmVxdWVzdGVkKGFkZHJlc3MgcmVxdWVzdG9yLCB1aW50MjU2IG1heCwgdWludDI1NiBvcmlnaW5CbG9jaywgdWludDggd2FpdFRpbWUsIGFkZHJlc3MgaW5kZXhlZCByZXF1ZXN0UHJveHkpOwogICAgZXZlbnQgRXZlbnRSYW5kb21MZWRnZXJSZXZlYWxlZChhZGRyZXNzIHJlcXVlc3RvciwgdWludDI1NiBvcmlnaW5CbG9jaywgdWludDI1NiByZW5kZXJlZE51bWJlciwgdWludDI1NiBleHBpcmVkQmxvY2ssIGFkZHJlc3MgaW5kZXhlZCByZXF1ZXN0UHJveHkpOwogICAgCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IFJhbmRvbU51bWJlcikgcHVibGljIHJhbmRvbU51bWJlcnM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyB3aGl0ZUxpc3Q7CgogICAgZnVuY3Rpb24gcmVxdWVzdE51bWJlcihhZGRyZXNzIF9yZXF1ZXN0b3IsIHVpbnQyNTYgX21heCwgdWludDggX3dhaXRUaW1lKSBwYXlhYmxlIHB1YmxpYzsKICAgIGZ1bmN0aW9uIHJldmVhbE51bWJlcihhZGRyZXNzIF9yZXF1ZXN0b3IpIHBheWFibGUgcHVibGljOwp9CgovKioKICogTHVja3kgTnVtYmVyIDo6IFJhbmRvbSBMZWRnZXIgW051bWJlciBHZW5lcmF0b3JdIFNlcnZpY2UgKn4rPgogKiBBbnkgY29udHJhY3Qgb3IgYWRkcmVzcyBjYW4gbWFrZSBhIHJlcXVlc3QgZnJvbSB0aGlzIGltcGxlbWVudGF0aW9uCiAqIG9uIGJlaGFsZiBvZiBhbnkgb3RoZXIgYWRkcmVzcyBhcyBhIHJlcXVlc3RQcm94eS4KICovCmNvbnRyYWN0IFJhbmRvbUxlZGdlclNlcnZpY2UgaXMgUmFuZG9tTGVkZ2VyLCBSYW5kb20sIEZyZXNoIHsKCiAgICAvLyBJbml0aWFsaXplIHN0YXRlICsuKy4rLgogICAgZnVuY3Rpb24gUmFuZG9tTGVkZ2VyU2VydmljZSgpIHsKICAgICAgICBvd25lZCgpOwogICAgICAgIGNvc3QgPSAyMDAwMDAwMDAwMDAwMDAwMDsgLy8gMC4wMiBldGhlciAvLyAyMCBmaW5uZXkKICAgICAgICBkZWZhdWx0TWF4ID0gMTU7IC8vIGdlbmVyYXRlIG51bWJlciBiZXR3ZWVuIDEgYW5kIDE1CiAgICAgICAgZGVmYXVsdFdhaXRUaW1lID0gMzsgLy8gMyBibG9ja3MKICAgIH0KCiAgICAvLyBMZXQgb3duZXIgY3VzdG9taXplIGRlZmF1dHMuCiAgICAvLyBBbGxvdyB0aGUgb3duZXIgdG8gc2V0IG1heC4KICAgIGZ1bmN0aW9uIHNldE1heCh1aW50MjU2IF9tYXgpCiAgICBvbmx5T3duZXIKICAgIHB1YmxpYwogICAgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGRlZmF1bHRNYXggPSBfbWF4OwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIEFsbG93IHRoZSBvd25lciB0byBzZXQgd2FpdFRpbWUuIChpbiBibG9ja3MpCiAgICBmdW5jdGlvbiBzZXRXYWl0VGltZSh1aW50OCBfd2FpdFRpbWUpCiAgICBvbmx5T3duZXIKICAgIHB1YmxpYwogICAgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGRlZmF1bHRXYWl0VGltZSA9IF93YWl0VGltZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBBbGxvdyB0aGUgb3duZXIgdG8gc2V0IGNvc3QuCiAgICBmdW5jdGlvbiBzZXRDb3N0KHVpbnQyNTYgX2Nvc3QpCiAgICBvbmx5T3duZXIKICAgIHB1YmxpYwogICAgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGNvc3QgPSBfY29zdDsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBBbGxvdyB0aGUgb3duZXIgdG8gc2V0IGEgdHJhbnNhY3Rpb24gcHJveHkKICAgIC8vIHdoaWNoIGNhbiBwZXJmb3JtIHZhbHVlIGV4Y2hhbmdlcyBvbiBiZWhhbGYgb2YgdGhpcyBjb250cmFjdC4KICAgIC8vICh1bnJlbGF0ZWQgdG8gdGhlIHJlcXVlc3RQcm94eSB3aGljaCBpcyBub3Qgd2hpdGVMaXN0KQogICAgZnVuY3Rpb24gZW5hYmxlUHJveHkoYWRkcmVzcyBfcHJveHkpCiAgICBvbmx5T3duZXIKICAgIHB1YmxpYwogICAgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHdoaXRlTGlzdFtfcHJveHldID0gdHJ1ZTsKICAgICAgICByZXR1cm4gd2hpdGVMaXN0W19wcm94eV07CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlUHJveHkoYWRkcmVzcyBfcHJveHkpCiAgICBvbmx5T3duZXIKICAgIHB1YmxpYwogICAgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGRlbGV0ZSB3aGl0ZUxpc3RbX3Byb3h5XTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBBbGxvdyB0aGUgb3duZXIgdG8gY2FzaCBvdXQgdGhlIGhvbGRpbmdzIG9mIHRoaXMgY29udHJhY3QuCiAgICBmdW5jdGlvbiB3aXRoZHJhdyhhZGRyZXNzIF9yZWNpcGllbnQsIHVpbnQyNTYgX2JhbGFuY2UpCiAgICBvbmx5T3duZXIKICAgIHB1YmxpYwogICAgcmV0dXJucyAoYm9vbCkgewogICAgICAgIF9yZWNpcGllbnQudHJhbnNmZXIoX2JhbGFuY2UpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIEFzc3VtZSB0aGF0IHNpbXBsZSB0cmFuc2FjdGlvbnMgYXJlIHRyeWluZyB0byByZXF1ZXN0IGEgbnVtYmVyLAogICAgLy8gdW5sZXNzIGl0IGlzIGZyb20gdGhlIG93bmVyLgogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSBwdWJsaWMgewogICAgICAgIGFzc2VydChtc2cuc2VuZGVyICE9IG93bmVyKTsKICAgICAgICAvLyBtYWtlIGEgcXVpY2sgcmVxdWVzdAogICAgICAgIC8vICp+Kz4gdXNlIGRlZmF1bHQgbWF4IGFuZCB3YWl0VGltZQogICAgICAgIHJlcXVlc3ROdW1iZXIobXNnLnNlbmRlciwgZGVmYXVsdE1heCwgZGVmYXVsdFdhaXRUaW1lKTsKICAgIH0KICAgIAogICAgLy8gUmVxdWVzdCBhIE51bWJlciAuLi4gKn4+CiAgICBmdW5jdGlvbiByZXF1ZXN0TnVtYmVyKGFkZHJlc3MgX3JlcXVlc3RvciwgdWludDI1NiBfbWF4LCB1aW50OCBfd2FpdFRpbWUpCiAgICBwYXlhYmxlIAogICAgcHVibGljIHsKICAgICAgICAvLyBleHRlcm5hbCByZXF1aXJlbWVudDogCiAgICAgICAgLy8gdmFsdWUgbXVzdCBleGNlZWQgY29zdAogICAgICAgIC8vIHVubGVzcyBhZGRyZXNzIGlzIHdoaXRlbGlzdGVkCiAgICAgICAgaWYgKCF3aGl0ZUxpc3RbbXNnLnNlbmRlcl0pIHsKICAgICAgICAgICAgcmVxdWlyZSghKG1zZy52YWx1ZSA8IGNvc3QpKTsKICAgICAgICB9CiAgICAgICAgLy8gaW50ZXJuYWwgcmVxdWlyZW1lbnQ6IAogICAgICAgIC8vIHJlcXVlc3QgYWRkcmVzcyBtdXN0IG5vdCBoYXZlIHBlbmRpbmcgbnVtYmVyCiAgICAgICAgYXNzZXJ0KCFpc1JlcXVlc3RQZW5kaW5nKF9yZXF1ZXN0b3IpKTsKICAgICAgICAvLyBzZXQgcGVuZGluZyBudW1iZXIgd2l0aCBkZWZhdWx0IG1heCBhbmQgd2FpdFRpbWUKICAgICAgICByYW5kb21OdW1iZXJzW19yZXF1ZXN0b3JdID0gUmFuZG9tTnVtYmVyKHsKICAgICAgICAgICAgcmVxdWVzdFByb3h5OiB0eC5vcmlnaW4sIC8vIHJlcXVlc3RQcm94eTogb3JpZ2luYWwgYWRkcmVzcyB0aGF0IGtpY2tlZCBvZmYgdGhlIHRyYW5zYWN0aW9uCiAgICAgICAgICAgIHJlbmRlcmVkTnVtYmVyOiAwLAogICAgICAgICAgICBtYXg6IGRlZmF1bHRNYXgsCiAgICAgICAgICAgIG9yaWdpbkJsb2NrOiBibG9jay5udW1iZXIsCiAgICAgICAgICAgIGV4cGlyZWQ6IDAsCiAgICAgICAgICAgIHdhaXRUaW1lOiBkZWZhdWx0V2FpdFRpbWUKICAgICAgICB9KTsKICAgICAgICAvLyBjdXN0b20gbnVtYmVyIGNvbmZpZ3VyYXRpb25zCiAgICAgICAgaWYgKF9tYXggPiAxKSB7CiAgICAgICAgICAgIHJhbmRvbU51bWJlcnNbX3JlcXVlc3Rvcl0ubWF4ID0gX21heDsKICAgICAgICB9CiAgICAgICAgLy8gbWF4IDI1MCB3YWl0IHRvIGxlYXZlIGEgZmV3IGJsb2NrcwogICAgICAgIC8vIGZvciB0aGUgcmV2ZWFsIHRyYW5zY3Rpb24gdG8gb2NjdXIKICAgICAgICAvLyBhbmQgd3JpdGUgZnJvbSB0aGUgcGVuZGluZyBudW1iZXJzIGJsb2NrCiAgICAgICAgLy8gYmVmb3JlIGl0IGV4cGlyZXMKICAgICAgICBpZiAoX3dhaXRUaW1lID4gMCAmJiBfd2FpdFRpbWUgPCAyNTApIHsKICAgICAgICAgICAgcmFuZG9tTnVtYmVyc1tfcmVxdWVzdG9yXS53YWl0VGltZSA9IF93YWl0VGltZTsKICAgICAgICB9CiAgICAgICAgLy8gbG9nIGV2ZW50ICsuKy4rLgogICAgICAgIEV2ZW50UmFuZG9tTGVkZ2VyUmVxdWVzdGVkKF9yZXF1ZXN0b3IsIHJhbmRvbU51bWJlcnNbX3JlcXVlc3Rvcl0ubWF4LCByYW5kb21OdW1iZXJzW19yZXF1ZXN0b3JdLm9yaWdpbkJsb2NrLCByYW5kb21OdW1iZXJzW19yZXF1ZXN0b3JdLndhaXRUaW1lLCByYW5kb21OdW1iZXJzW19yZXF1ZXN0b3JdLnJlcXVlc3RQcm94eSk7CiAgICB9CgogICAgLy8gUmV2ZWFsIHlvdXIgbnVtYmVyIC4uLiAqfj4KICAgIC8vIE9ubHkgcmVxdWVzdG9yIG9yIHByb3h5IGNhbiBnZW5lcmF0ZSB0aGUgbnVtYmVyCiAgICBmdW5jdGlvbiByZXZlYWxOdW1iZXIoYWRkcmVzcyBfcmVxdWVzdG9yKQogICAgcHVibGljCiAgICBwYXlhYmxlIHsKICAgICAgICBhc3NlcnQoX2NhblJldmVhbChfcmVxdWVzdG9yLCBtc2cuc2VuZGVyKSk7CiAgICAgICAgLy8gd2FpdFRpbWUgaGFzIHBhc3NlZCwgcmVuZGVyIHRoaXMgcmVxdWVzdG9yJ3MgbnVtYmVyLgogICAgICAgIF9yZXZlYWxOdW1iZXIoX3JlcXVlc3Rvcik7CiAgICB9CgogICAgLy8gSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gb2YgcmV2ZWFsTnVtYmVyKCkuCiAgICBmdW5jdGlvbiBfcmV2ZWFsTnVtYmVyKGFkZHJlc3MgX3JlcXVlc3RvcikgCiAgICBpbnRlcm5hbCB7CiAgICAgICAgdWludDI1NiBsdWNreUJsb2NrID0gX3JldmVhbEJsb2NrKF9yZXF1ZXN0b3IpOwogICAgICAgIC8vCiAgICAgICAgLy8gVElNRSBMSU1JVEFUSU9OIH4+IHNob3VsZCBoYW5kbGUgaW4gdXNlciBpbnRlcmZhY2UKICAgICAgICAvLyBibG9ja3Mgb2xkZXIgdGhhbiAoY3VycmVudEJsb2NrIC0gMjU2KSAKICAgICAgICAvLyAiZXhwaXJlIiBhbmQgcmVhZCB0aGUgc2FtZSBoYXNoIGFzIG1vc3QgcmVjZW50IHZhbGlkIGJsb2NrCiAgICAgICAgcmFuZG9tTnVtYmVyc1tfcmVxdWVzdG9yXS5leHBpcmVkID0gZXhwaXJlZEJsb2NrKCk7CiAgICAgICAgLy8gKn4rPiBnZXQgbnVtYmVyIQogICAgICAgIHJhbmRvbU51bWJlcnNbX3JlcXVlc3Rvcl0ucmVuZGVyZWROdW1iZXIgPSBnZW5lcmF0ZVJhbmRvbU51bWJlcihsdWNreUJsb2NrLCByYW5kb21OdW1iZXJzW19yZXF1ZXN0b3JdLm1heCk7CiAgICAgICAgLy8gbG9nIGV2ZW50ICsuKy4rLgogICAgICAgIEV2ZW50UmFuZG9tTGVkZ2VyUmV2ZWFsZWQoX3JlcXVlc3RvciwgcmFuZG9tTnVtYmVyc1tfcmVxdWVzdG9yXS5vcmlnaW5CbG9jaywgcmFuZG9tTnVtYmVyc1tfcmVxdWVzdG9yXS5yZW5kZXJlZE51bWJlciwgcmFuZG9tTnVtYmVyc1tfcmVxdWVzdG9yXS5leHBpcmVkLCByYW5kb21OdW1iZXJzW19yZXF1ZXN0b3JdLnJlcXVlc3RQcm94eSk7CiAgICAgICAgLy8gemVybyBvdXQgd2FpdCBibG9ja3Mgc2luY2UgdGhpcyBpcyBub3cgaW5hY3RpdmUgKGZvciBzdGF0ZSBtYW5hZ2VtZW50KQogICAgICAgIHJhbmRvbU51bWJlcnNbX3JlcXVlc3Rvcl0ud2FpdFRpbWUgPSAwOwogICAgfQoKICAgIGZ1bmN0aW9uIGNhblJldmVhbChhZGRyZXNzIF9yZXF1ZXN0b3IpCiAgICBwdWJsaWMKICAgIGNvbnN0YW50CiAgICByZXR1cm5zIChib29sLCB1aW50LCB1aW50KSB7CiAgICAgICAgcmV0dXJuIChfY2FuUmV2ZWFsKF9yZXF1ZXN0b3IsIG1zZy5zZW5kZXIpLCBfcmVtYWluaW5nQmxvY2tzKF9yZXF1ZXN0b3IpLCBfcmV2ZWFsQmxvY2soX3JlcXVlc3RvcikpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9jYW5SZXZlYWwoYWRkcmVzcyBfcmVxdWVzdG9yLCBhZGRyZXNzIF9wcm94eSkgCiAgICBpbnRlcm5hbAogICAgY29uc3RhbnQKICAgIHJldHVybnMgKGJvb2wpIHsKICAgICAgICAvLyBjaGVjayBmb3IgcGVuZGluZyBudW1iZXIgcmVxdWVzdAogICAgICAgIGlmIChpc1JlcXVlc3RQZW5kaW5nKF9yZXF1ZXN0b3IpKSB7CiAgICAgICAgICAgIC8vIGNoZWNrIGZvciBubyByZW1haW5pbmcgYmxvY2tzIHRvIGJlIG1pbmVkCiAgICAgICAgICAgIC8vIG11c3Qgd2FpdCBmb3IgYHJhbmRvbU51bWJlcnNbX3JlcXVlc3Rvcl0ud2FpdFRpbWVgIHRvIGJlIGV4Y2NlZWRlZAogICAgICAgICAgICBpZiAoX3JlbWFpbmluZ0Jsb2NrcyhfcmVxdWVzdG9yKSA9PSAwKSB7CiAgICAgICAgICAgICAgICAvLyBjaGVjayBmb3Igb3duZXJzaGlwCiAgICAgICAgICAgICAgICBpZiAocmFuZG9tTnVtYmVyc1tfcmVxdWVzdG9yXS5yZXF1ZXN0UHJveHkgPT0gX3JlcXVlc3RvciB8fCByYW5kb21OdW1iZXJzW19yZXF1ZXN0b3JdLnJlcXVlc3RQcm94eSA9PSBfcHJveHkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgZnVuY3Rpb24gX3JlbWFpbmluZ0Jsb2NrcyhhZGRyZXNzIF9yZXF1ZXN0b3IpCiAgICBpbnRlcm5hbAogICAgY29uc3RhbnQKICAgIHJldHVybnMgKHVpbnQpIHsKICAgICAgICB1aW50MjU2IHJldmVhbEJsb2NrID0gYWRkKHJhbmRvbU51bWJlcnNbX3JlcXVlc3Rvcl0ub3JpZ2luQmxvY2ssIHJhbmRvbU51bWJlcnNbX3JlcXVlc3Rvcl0ud2FpdFRpbWUpOwogICAgICAgIHVpbnQyNTYgcmVtYWluaW5nQmxvY2tzID0gMDsKICAgICAgICBpZiAocmV2ZWFsQmxvY2sgPiBibG9jay5udW1iZXIpIHsKICAgICAgICAgICAgcmVtYWluaW5nQmxvY2tzID0gc3ViKHJldmVhbEJsb2NrLCBibG9jay5udW1iZXIpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVtYWluaW5nQmxvY2tzOwogICAgfQoKICAgIGZ1bmN0aW9uIF9yZXZlYWxCbG9jayhhZGRyZXNzIF9yZXF1ZXN0b3IpCiAgICBpbnRlcm5hbAogICAgY29uc3RhbnQKICAgIHJldHVybnMgKHVpbnQpIHsKICAgICAgICAvLyBhZGQgd2FpdCBibG9jayB0aW1lCiAgICAgICAgLy8gdG8gY3JlYXRpb24gYmxvY2sgdGltZQogICAgICAgIC8vIHRoZW4gc3VidHJhY3QgMQogICAgICAgIHJldHVybiBhZGQocmFuZG9tTnVtYmVyc1tfcmVxdWVzdG9yXS5vcmlnaW5CbG9jaywgcmFuZG9tTnVtYmVyc1tfcmVxdWVzdG9yXS53YWl0VGltZSk7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGdldE51bWJlcihhZGRyZXNzIF9yZXF1ZXN0b3IpCiAgICBwdWJsaWMKICAgIGNvbnN0YW50CiAgICByZXR1cm5zICh1aW50LCB1aW50LCB1aW50LCB1aW50KSB7CiAgICAgICAgcmV0dXJuIChyYW5kb21OdW1iZXJzW19yZXF1ZXN0b3JdLnJlbmRlcmVkTnVtYmVyLCByYW5kb21OdW1iZXJzW19yZXF1ZXN0b3JdLm1heCwgcmFuZG9tTnVtYmVyc1tfcmVxdWVzdG9yXS5vcmlnaW5CbG9jaywgcmFuZG9tTnVtYmVyc1tfcmVxdWVzdG9yXS5leHBpcmVkKTsKICAgIH0KCiAgICAvLyBpcyBhIG51bWJlciByZXF1ZXN0IHBlbmRpbmcgZm9yIHRoZSBhZGRyZXNzCiAgICBmdW5jdGlvbiBpc1JlcXVlc3RQZW5kaW5nKGFkZHJlc3MgX3JlcXVlc3RvcikKICAgIHB1YmxpYwogICAgY29uc3RhbnQKICAgIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBpZiAocmFuZG9tTnVtYmVyc1tfcmVxdWVzdG9yXS5yZW5kZXJlZE51bWJlciA9PSAwICYmIHJhbmRvbU51bWJlcnNbX3JlcXVlc3Rvcl0ud2FpdFRpbWUgPiAwKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9Ci8vIDB4TU1XS2trMEtOLz5IQkJpL01BU1NhL0RBTlRpL0xBTlRlbi5NSS5NSS5NSS5NKy4rLisuTS0+TU1XTktPa09LV0ouSi5KLk0qfis+Cn0='.
	

]
