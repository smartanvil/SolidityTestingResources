Class {
	#name : #SRTc3909eb09ccda9e9622fbfca8e6583bd1a5dfb4d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc3909eb09ccda9e9622fbfca8e6583bd1a5dfb4d >> base64 [
	^ 'LyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpwcmFnbWEgc29saWRpdHkgXjAuNC4xODsKCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9Cgpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKbGlicmFyeSBTYWZlTWF0aCB7CiAgICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9Cn0KCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgICAvLyB0aW1lc3RhbXBzIGZvciBQUkUtSUNPIHBoYXNlCiAgICB1aW50IHB1YmxpYyBwcmVpY29TdGFydERhdGU7CiAgICB1aW50IHB1YmxpYyBwcmVpY29FbmREYXRlOwogICAgLy8gdGltZXN0YW1wcyBmb3IgSUNPIHBoYXNlCiAgICB1aW50IHB1YmxpYyBpY29TdGFydERhdGU7CiAgICB1aW50IHB1YmxpYyBpY29FbmREYXRlOwogICAgCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogICAgLyoqCiAgICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKG5vdyA+IGljb0VuZERhdGUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAgICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAgICovCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCn0KCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCgogICAgLyoqCiAgICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldAogICAgICAgIC8vIHJlcXVpcmUgKF92YWx1ZSA8PSBfYWxsb3dhbmNlKTsKCiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBBcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CgogICAgICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAgICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgICAgICAvLyAgYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgICAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgICAgICByZXF1aXJlKChfdmFsdWUgPT0gMCkgfHwgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKCiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpYmxlIGZvciB0aGUgc3BlbmRlci4KICAgICAqLwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCn0KCmNvbnRyYWN0IE93bmFibGUgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgLyoqCiAgICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgICAqIGFjY291bnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgICAqLwogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIGFzc2VydChtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIGlmIChuZXdPd25lciAhPSBhZGRyZXNzKDApKSB7CiAgICAgICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICAgICAgfQogICAgfQp9Cgpjb250cmFjdCBUaGVNb3ZlVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgT3duYWJsZSB7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiTU9WRSBUb2tlbiI7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJNT1ZFIjsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICAgIC8vIGFkZHJlc3Mgd2hlcmUgZnVuZHMgYXJlIGNvbGxlY3RlZAogICAgYWRkcmVzcyBwdWJsaWMgd2FsbGV0OwogICAgLy8gaG93IG1hbnkgdG9rZW4gdW5pdHMgYSBidXllciBnZXRzIHBlciB3ZWkKICAgIHVpbnQyNTYgcHVibGljIHJhdGU7CiAgICB1aW50MjU2IHB1YmxpYyBtaW5UcmFuc2FjdGlvbkFtb3VudDsKICAgIHVpbnQyNTYgcHVibGljIHJhaXNlZEZvckV0aGVyID0gMDsKICAgIHVpbnQyNTYgcHJpdmF0ZSBwcmVpY29TdXBwbHkgPSAzMDcyMDAwMDAwMDAwMDAwMDAwMDAwMDAwOwogICAgdWludDI1NiBwcml2YXRlIGljb1N1cHBseSA9IDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOwogICAgdWludDI1NiBwcml2YXRlIGJvbnVzZXNTdXBwbHkgPSAzMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOwoKICAgIHVpbnQyNTYgcHVibGljIGJvbnVzZXNTb2xkID0gMDsKICAgIHVpbnQyNTYgcHVibGljIHRva2Vuc1NvbGQgPSAwOwoKICAgIC8vIFBSRS1JQ08gc3RhZ2VzCiAgICB1aW50MjU2IHB1YmxpYyBzdGFnZTEgPSAyNDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA7CiAgICB1aW50MjU2IHB1YmxpYyBzdGFnZTIgPSAzNjAwMDAwMDAwMDAwMDAwMDAwMDAwMDA7CiAgICB1aW50MjU2IHB1YmxpYyBzdGFnZTMgPSA5NjAwMDAwMDAwMDAwMDAwMDAwMDAwMDA7CiAgICB1aW50MjU2IHB1YmxpYyBzdGFnZTQgPSAxNTEyMDAwMDAwMDAwMDAwMDAwMDAwMDAwOwoKICAgIG1vZGlmaWVyIGluQWN0aXZlUGVyaW9kKCkgewoJICAgcmVxdWlyZSgocHJlaWNvU3RhcnREYXRlIDwgbm93ICYmIG5vdyA8PSBwcmVpY29FbmREYXRlKSB8fCAoaWNvU3RhcnREYXRlIDwgbm93ICYmIG5vdyA8PSBpY29FbmREYXRlKSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBUaGVNb3ZlVG9rZW4odWludCBfcHJlaWNvc3RhcnQsIHVpbnQgX3ByZWljb2VuZCx1aW50IF9pY29zdGFydCwgdWludCBfaWNvZW5kLCBhZGRyZXNzIF93YWxsZXQpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfd2FsbGV0ICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZShfcHJlaWNvc3RhcnQgPCBfcHJlaWNvZW5kKTsKICAgICAgICByZXF1aXJlKF9wcmVpY29lbmQgPCBfaWNvc3RhcnQpOwogICAgICAgIHJlcXVpcmUoX2ljb3N0YXJ0IDwgX2ljb2VuZCk7CgogICAgICAgIHRvdGFsU3VwcGx5ID0gMjExNzIwMDAwMDAwMDAwMDAwMDAwMDAwMDA7CiAgICAgICAgcmF0ZSA9IDYwMDsKCiAgICAgICAgLy8gbWluaW1hbCBpbnZlc3QKICAgICAgICBtaW5UcmFuc2FjdGlvbkFtb3VudCA9IDAuMSBldGhlcjsKICAgICAgICBpY29TdGFydERhdGUgPSBfaWNvc3RhcnQ7CiAgICAgICAgaWNvRW5kRGF0ZSA9IF9pY29lbmQ7CiAgICAgICAgcHJlaWNvU3RhcnREYXRlID0gX3ByZWljb3N0YXJ0OwogICAgICAgIHByZWljb0VuZERhdGUgPSBfcHJlaWNvZW5kOwogICAgICAgIHdhbGxldCA9IF93YWxsZXQ7CgoJICAgLy8gU3RvcmUgdGhlIGljbyBmdW5kcyBpbiB0aGUgY29udHJhY3QgYW5kIHNlbmQgdGhlIHJlc3QgdG8gdGhlIGRldmVsb3BlciB3YWxsZXQKICAgICAgIHVpbnQyNTYgYW1vdW50SW5Db250cmFjdCA9IHByZWljb1N1cHBseSArIGljb1N1cHBseSArIGJvbnVzZXNTdXBwbHk7CgoJICAgYmFsYW5jZXNbdGhpc10gPSBiYWxhbmNlc1t0aGlzXS5hZGQoYW1vdW50SW5Db250cmFjdCk7CiAgICAgICBiYWxhbmNlc1tfd2FsbGV0XSA9IGJhbGFuY2VzW193YWxsZXRdLmFkZCh0b3RhbFN1cHBseSAtIGFtb3VudEluQ29udHJhY3QpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldHVwUFJFSUNPUGVyaW9kKHVpbnQgX3N0YXJ0LCB1aW50IF9lbmQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoX3N0YXJ0IDwgX2VuZCk7CiAgICAgICAgcHJlaWNvU3RhcnREYXRlID0gX3N0YXJ0OwogICAgICAgIHByZWljb0VuZERhdGUgPSBfZW5kOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldHVwSUNPUGVyaW9kKHVpbnQgX3N0YXJ0LCB1aW50IF9lbmQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoX3N0YXJ0IDwgX2VuZCk7CiAgICAgICAgaWNvU3RhcnREYXRlID0gX3N0YXJ0OwogICAgICAgIGljb0VuZERhdGUgPSBfZW5kOwogICAgfQoKICAgIC8vIGZhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGJ1eSB0b2tlbnMKICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBpbkFjdGl2ZVBlcmlvZCBwYXlhYmxlIHsKICAgICAgICBidXlUb2tlbnMobXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gYnVyblBSRUlDT1Rva2VucygpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIGludDI1NiBhbW91bnRUb0J1cm4gPSBpbnQyNTYocHJlaWNvU3VwcGx5KSAtIGludDI1Nih0b2tlbnNTb2xkKTsKICAgICAgICBpZiAoYW1vdW50VG9CdXJuID4gMCkgewogICAgICAgICAgICBiYWxhbmNlc1t0aGlzXSA9IGJhbGFuY2VzW3RoaXNdLnN1Yih1aW50MjU2KGFtb3VudFRvQnVybikpOwogICAgICAgIH0KICAgIH0KCiAgICAvLyBVc2Ugd2l0aCBleHRyZW1lIGNhdXRpb24gdGhpcyB3aWxsIGJ1cm4gdGhlIHJlc3Qgb2YgdGhlIHRva2VucyBpbiB0aGUgY29udHJhY3QKICAgIGZ1bmN0aW9uIGJ1cm5JQ09Ub2tlbnMoKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBiYWxhbmNlc1t0aGlzXSA9IDA7CiAgICB9CgogICAgZnVuY3Rpb24gYnVybkJvbnVzZXMoKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBpbnQyNTYgYW1vdW50VG9CdXJuID0gaW50MjU2KGJvbnVzZXNTdXBwbHkpIC0gaW50MjU2KGJvbnVzZXNTb2xkKTsKICAgICAgICBpZiAoYW1vdW50VG9CdXJuID4gMCkgewogICAgICAgICAgICBiYWxhbmNlc1t0aGlzXSA9IGJhbGFuY2VzW3RoaXNdLnN1Yih1aW50MjU2KGFtb3VudFRvQnVybikpOwogICAgICAgIH0KICAgIH0KCiAgICAvLyBsb3cgbGV2ZWwgdG9rZW4gcHVyY2hhc2UgZnVuY3Rpb24KICAgIGZ1bmN0aW9uIGJ1eVRva2VucyhhZGRyZXNzIF9zZW5kZXIpIHB1YmxpYyBpbkFjdGl2ZVBlcmlvZCBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKF9zZW5kZXIgIT0gMHgwKTsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBtaW5UcmFuc2FjdGlvbkFtb3VudCk7CgogICAgICAgIHVpbnQyNTYgd2VpQW1vdW50ID0gbXNnLnZhbHVlOwoKICAgICAgICByYWlzZWRGb3JFdGhlciA9IHJhaXNlZEZvckV0aGVyLmFkZCh3ZWlBbW91bnQpOwoKICAgICAgICAvLyBjYWxjdWxhdGUgdG9rZW4gYW1vdW50IHRvIGJlIGlzc3VlZAogICAgICAgIHVpbnQyNTYgdG9rZW5zID0gd2VpQW1vdW50Lm11bChyYXRlKTsKICAgICAgICB0b2tlbnMgKz0gZ2V0Qm9udXModG9rZW5zKTsKCiAgICAgICAgaWYgKGlzUFJFSUNPKCkpIHsKICAgICAgICAgICAgcmVxdWlyZSh0b2tlbnNTb2xkICsgdG9rZW5zIDwgcHJlaWNvU3VwcGx5KTsKICAgICAgICB9IGVsc2UgaWYgKGlzSUNPKCkpIHsKICAgICAgICAgICAgcmVxdWlyZSh0b2tlbnNTb2xkICsgdG9rZW5zIDw9IChpY29TdXBwbHkgKyBib251c2VzU3VwcGx5KSk7CiAgICAgICAgfQoKICAgICAgICBpc3N1ZVRva2Vucyhfc2VuZGVyLCB0b2tlbnMpOwogICAgICAgIHRva2Vuc1NvbGQgKz0gdG9rZW5zOwogICAgfQogICAgCiAgICAvLyBIaWdoIGxldmVsIHRva2VuIGlzc3VlIGZ1bmN0aW9uCiAgICAvLyBUaGlzIHdpbGwgYmUgdXNlZCBieSB0aGUgc2NyaXB0IHdoaWNoIGRpc3RyaWJ1dGVzIHRva2VucwogICAgLy8gdG8gdGhvc2Ugd2hvIGNvbnRyaWJ1dGVkIGluIEJUQyBvciBMVEMuCiAgICBmdW5jdGlvbiBzZW5kVG9rZW5zKGFkZHJlc3MgX3NlbmRlciwgdWludDI1NiBhbW91bnQpIHB1YmxpYyBpbkFjdGl2ZVBlcmlvZCBvbmx5T3duZXIgewogICAgICAgIC8vIGNhbGN1bGF0ZSB0b2tlbiBhbW91bnQgdG8gYmUgaXNzdWVkCiAgICAgICAgdWludDI1NiB0b2tlbnMgPSBhbW91bnQubXVsKHJhdGUpOwogICAgICAgIHRva2VucyArPSBnZXRCb251cyh0b2tlbnMpOwoKICAgICAgICBpZiAoaXNQUkVJQ08oKSkgewogICAgICAgICAgICByZXF1aXJlKHRva2Vuc1NvbGQgKyB0b2tlbnMgPCBwcmVpY29TdXBwbHkpOwogICAgICAgIH0gZWxzZSBpZiAoaXNJQ08oKSkgewogICAgICAgICAgICByZXF1aXJlKHRva2Vuc1NvbGQgKyB0b2tlbnMgPD0gKGljb1N1cHBseSArIGJvbnVzZXNTdXBwbHkpKTsKICAgICAgICB9CgogICAgICAgIGlzc3VlVG9rZW5zKF9zZW5kZXIsIHRva2Vucyk7CiAgICAgICAgdG9rZW5zU29sZCArPSB0b2tlbnM7CiAgICB9CgogICAgZnVuY3Rpb24gd2l0aGRyYXdFdGhlcih1aW50MjU2IGFtb3VudCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICBvd25lci50cmFuc2ZlcihhbW91bnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzUFJFSUNPKCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiAocHJlaWNvU3RhcnREYXRlIDwgbm93ICYmIG5vdyA8PSBwcmVpY29FbmREYXRlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBpc0lDTygpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gKGljb1N0YXJ0RGF0ZSA8IG5vdyAmJiBub3cgPD0gaWNvRW5kRGF0ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Qm9udXModWludDI1NiBfdG9rZW5zKSBwdWJsaWMgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJlcXVpcmUoX3Rva2VucyAhPSAwKTsKICAgICAgICB1aW50MjU2IGJvbnVzZXMgPSAwOwogICAgICAgIHVpbnQyNTYgbXVsdGlwbGllciA9IDA7CgogICAgICAgIC8vIEZpcnN0IGNhc2UgaWYgUFJFLUlDTyBpcyBoYXBwZW5pbmcKICAgICAgICBpZiAoaXNQUkVJQ08oKSkgewogICAgICAgICAgICAvLyBCb251cyBkZXBlbmRzIG9uIHRoZSBhbW91bnQgb2YgdG9rZW5zIHNvbGQuCiAgICAgICAgICAgIGlmICh0b2tlbnNTb2xkIDwgc3RhZ2UxKSB7CiAgICAgICAgICAgICAgICAvLyAxMDAlIGJvbnVzIGZvciBzdGFnZTEKICAgICAgICAgICAgICAgIG11bHRpcGxpZXIgPSAxMDA7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UxIDwgdG9rZW5zU29sZCAmJiB0b2tlbnNTb2xkIDwgKHN0YWdlMSArIHN0YWdlMikpIHsKICAgICAgICAgICAgICAgIC8vIDgwJSBib251cyBmb3Igc3RhZ2UyCiAgICAgICAgICAgICAgICBtdWx0aXBsaWVyID0gODA7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoKHN0YWdlMSArIHN0YWdlMikgPCB0b2tlbnNTb2xkICYmIHRva2Vuc1NvbGQgPCAoc3RhZ2UxICsgc3RhZ2UyICsgc3RhZ2UzKSkgewogICAgICAgICAgICAgICAgLy8gNjAlIGJvbnVzIGZvciBzdGFnZTIKICAgICAgICAgICAgICAgIG11bHRpcGxpZXIgPSA2MDsKICAgICAgICAgICAgfSBlbHNlIGlmICgoc3RhZ2UxICsgc3RhZ2UyICsgc3RhZ2UzKSA8IHRva2Vuc1NvbGQgJiYgdG9rZW5zU29sZCA8IChzdGFnZTEgKyBzdGFnZTIgKyBzdGFnZTMgKyBzdGFnZTQpKSB7CiAgICAgICAgICAgICAgICAvLyA0MCUgYm9udXMgZm9yIHN0YWdlMgogICAgICAgICAgICAgICAgbXVsdGlwbGllciA9IDQwOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJvbnVzZXMgPSBfdG9rZW5zLm11bChtdWx0aXBsaWVyKS5kaXYoMTAwKTsKCiAgICAgICAgICAgIHJldHVybiBib251c2VzOwogICAgICAgIH0KCiAgICAgICAgCiAgICAgICAgLy8gU2Vjb25kIGNhc2UgaWYgSUNPIGlzIGhhcHBlbmluZwogICAgICAgIGVsc2UgaWYgKGlzSUNPKCkpIHsKICAgICAgICAgICAgLy8gQm9udXMgZGVwZW5kcyBvbiB0aGUgd2VlayBvZiB0aGUgSUNPIGFuZCB0aGUgYm9udXMgc3VwcGx5CiAgICAgICAgICAgIGlmIChpY29TdGFydERhdGUgPCBub3cgJiYgbm93IDw9IGljb1N0YXJ0RGF0ZSArIDcgZGF5cykgewogICAgICAgICAgICAgICAgLy8gMjAlIGJvbnVzIHdlZWsgMQogICAgICAgICAgICAgICAgbXVsdGlwbGllciA9IDIwOwogICAgICAgICAgICB9IGVsc2UgaWYgKGljb1N0YXJ0RGF0ZSArIDcgZGF5cyA8IG5vdyAmJiBub3cgPD0gaWNvU3RhcnREYXRlICsgMTQgZGF5cyApIHsKICAgICAgICAgICAgICAgIC8vIDEwJSBib251cyB3ZWVrIDIKICAgICAgICAgICAgICAgIG11bHRpcGxpZXIgPSAxMDsKICAgICAgICAgICAgfSBlbHNlIGlmIChpY29TdGFydERhdGUgKyAxNCBkYXlzIDwgbm93ICYmIG5vdyA8PSBpY29TdGFydERhdGUgKyAyMSBkYXlzICkgewogICAgICAgICAgICAgICAgLy8gNSUgYm9udXMgd2VlayAzCiAgICAgICAgICAgICAgICBtdWx0aXBsaWVyID0gNTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYm9udXNlcyA9IF90b2tlbnMubXVsKG11bHRpcGxpZXIpLmRpdigxMDApOwoKICAgICAgICAgICAgLy8gQm9udXMgc3VwcGx5IGxpbWl0IHJlYWNoZWQuCiAgICAgICAgICAgIGlmIChib251c2VzU29sZCArIGJvbnVzZXMgPiBib251c2VzU3VwcGx5KSB7CiAgICAgICAgICAgICAgICBib251c2VzID0gMDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGJvbnVzZXNTb2xkICs9IGJvbnVzZXM7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGJvbnVzZXM7CiAgICAgICAgfSAKICAgIH0KCiAgICAvLyBUaGlzIGZ1bmN0aW9uIHRyYW5zZmVycyB0b2tlbnMgdG8gdGhlIGNvbnRyaWJ1dG9yJ3MgYWNjb3VudC4KICAgIGZ1bmN0aW9uIGlzc3VlVG9rZW5zKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW3RoaXNdID0gYmFsYW5jZXNbdGhpc10uc3ViKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9'.
	

]
