Class {
	#name : #SRT81a3fd2fce64c595d04a47706b5079aaec8b67cb,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT81a3fd2fce64c595d04a47706b5079aaec8b67cb >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovLyA9PT09PT09PT09PT09PT09PSBPd25hYmxlIENvbnRyYWN0IHN0YXJ0ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8qCiAqIE93bmFibGUKICoKICogQmFzZSBjb250cmFjdCB3aXRoIGFuIG93bmVyLgogKiBQcm92aWRlcyBvbmx5T3duZXIgbW9kaWZpZXIsIHdoaWNoIHByZXZlbnRzIGZ1bmN0aW9uIGZyb20gcnVubmluZyBpZiBpdCBpcyBjYWxsZWQgYnkgYW55b25lIG90aGVyIHRoYW4gdGhlIG93bmVyLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICBpZiAobmV3T3duZXIgIT0gYWRkcmVzcygwKSkgewogICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQogIH0KfQovLyA9PT09PT09PT09PT09PT09PSBPd25hYmxlIENvbnRyYWN0IGVuZCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgovLyA9PT09PT09PT09PT09PT09PSBTYWZlbWF0aCBDb250cmFjdCBzdGFydCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8qIHRha2luZyBpZGVhcyBmcm9tIEZpcnN0Qmxvb2QgdG9rZW4gKi8KY29udHJhY3QgU2FmZU1hdGggewoKICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQyNTYgeCwgdWludDI1NiB5KSBpbnRlcm5hbCByZXR1cm5zKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgeiA9IHggKyB5OwogICAgYXNzZXJ0KCh6ID49IHgpICYmICh6ID49IHkpKTsKICAgIHJldHVybiB6OwogIH0KCiAgZnVuY3Rpb24gc2FmZVN1YnRyYWN0KHVpbnQyNTYgeCwgdWludDI1NiB5KSBpbnRlcm5hbCByZXR1cm5zKHVpbnQyNTYpIHsKICAgIGFzc2VydCh4ID49IHkpOwogICAgdWludDI1NiB6ID0geCAtIHk7CiAgICByZXR1cm4gejsKICB9CgogIGZ1bmN0aW9uIHNhZmVNdWx0KHVpbnQyNTYgeCwgdWludDI1NiB5KSBpbnRlcm5hbCByZXR1cm5zKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgeiA9IHggKiB5OwogICAgYXNzZXJ0KCh4ID09IDApfHwoei94ID09IHkpKTsKICAgIHJldHVybiB6OwogIH0KfQovLyA9PT09PT09PT09PT09PT09PSBTYWZlbWF0aCBDb250cmFjdCBlbmQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgovLyA9PT09PT09PT09PT09PT09PSBFUkMyMCBUb2tlbiBDb250cmFjdCBzdGFydCA9PT09PT09PT09PT09PT09PT09PT09PT09Ci8qCiAqIEVSQzIwIGludGVyZmFjZQogKiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdmFsdWUpIHJldHVybnMgKGJvb2wgb2spOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwp9Ci8vID09PT09PT09PT09PT09PT09IEVSQzIwIFRva2VuIENvbnRyYWN0IGVuZCA9PT09PT09PT09PT09PT09PT09PT09PT09PT0KCi8vID09PT09PT09PT09PT09PT09IFN0YW5kYXJkIFRva2VuIENvbnRyYWN0IHN0YXJ0ID09PT09PT09PT09PT09PT09PT09PT0KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgU2FmZU1hdGggewoKICAvKioKICAqIEBkZXYgRml4IGZvciB0aGUgRVJDMjAgc2hvcnQgYWRkcmVzcyBhdHRhY2suCiAgICovCiAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgc2l6ZSkgewogICAgcmVxdWlyZShtc2cuZGF0YS5sZW5ndGggPj0gc2l6ZSArIDQpIDsKICAgIF87CiAgfQoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgYmFsYW5jZXM7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSBhbGxvd2VkOwoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgyICogMzIpICByZXR1cm5zIChib29sIHN1Y2Nlc3MpewogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzYWZlU3VidHJhY3QoYmFsYW5jZXNbbXNnLnNlbmRlcl0sIF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLCBfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMyAqIDMyKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZXNbX3RvXSwgX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IHNhZmVTdWJ0cmFjdChiYWxhbmNlc1tfZnJvbV0sIF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IHNhZmVTdWJ0cmFjdChfYWxsb3dhbmNlLCBfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9Cgp9Ci8vID09PT09PT09PT09PT09PT09IFN0YW5kYXJkIFRva2VuIENvbnRyYWN0IGVuZCA9PT09PT09PT09PT09PT09PT09PT09PT0KCi8vID09PT09PT09PT09PT09PT09IFBhdXNhYmxlIFRva2VuIENvbnRyYWN0IHN0YXJ0ID09PT09PT09PT09PT09PT09PT09PT0KLyoqCiAqIEB0aXRsZSBQYXVzYWJsZQogKiBAZGV2IEJhc2UgY29udHJhY3Qgd2hpY2ggYWxsb3dzIGNoaWxkcmVuIHRvIGltcGxlbWVudCBhbiBlbWVyZ2VuY3kgc3RvcCBtZWNoYW5pc20uCiAqLwpjb250cmFjdCBQYXVzYWJsZSBpcyBPd25hYmxlIHsKICBldmVudCBQYXVzZSgpOwogIGV2ZW50IFVucGF1c2UoKTsKCiAgYm9vbCBwdWJsaWMgcGF1c2VkID0gZmFsc2U7CgoKICAvKioKICAqIEBkZXYgbW9kaWZpZXIgdG8gYWxsb3cgYWN0aW9ucyBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IElTIHBhdXNlZAogICovCiAgbW9kaWZpZXIgd2hlbk5vdFBhdXNlZCgpIHsKICAgIHJlcXVpcmUgKCFwYXVzZWQpOwogICAgXzsKICB9CgogIC8qKgogICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgTk9UIHBhdXNlZAogICovCiAgbW9kaWZpZXIgd2hlblBhdXNlZCB7CiAgICByZXF1aXJlIChwYXVzZWQpIDsKICAgIF87CiAgfQoKICAvKioKICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byBwYXVzZSwgdHJpZ2dlcnMgc3RvcHBlZCBzdGF0ZQogICovCiAgZnVuY3Rpb24gcGF1c2UoKSBvbmx5T3duZXIgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sKSB7CiAgICBwYXVzZWQgPSB0cnVlOwogICAgUGF1c2UoKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gdW5wYXVzZSwgcmV0dXJucyB0byBub3JtYWwgc3RhdGUKICAqLwogIGZ1bmN0aW9uIHVucGF1c2UoKSBvbmx5T3duZXIgd2hlblBhdXNlZCByZXR1cm5zIChib29sKSB7CiAgICBwYXVzZWQgPSBmYWxzZTsKICAgIFVucGF1c2UoKTsKICAgIHJldHVybiB0cnVlOwogIH0KfQovLyA9PT09PT09PT09PT09PT09PSBQYXVzYWJsZSBUb2tlbiBDb250cmFjdCBlbmQgPT09PT09PT09PT09PT09PT09PT09PT09CgovLyA9PT09PT09PT09PT09PT09PSBJY29Ub2tlbiAgc3RhcnQgPT09PT09PT09PT09PT09PT09PT09PT0KY29udHJhY3QgSWNvVG9rZW4gaXMgU2FmZU1hdGgsIFN0YW5kYXJkVG9rZW4sIFBhdXNhYmxlIHsKICBzdHJpbmcgcHVibGljIG5hbWU7CiAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CiAgdWludDI1NiBwdWJsaWMgZGVjaW1hbHM7CiAgc3RyaW5nIHB1YmxpYyB2ZXJzaW9uOwogIGFkZHJlc3MgcHVibGljIGljb0NvbnRyYWN0OwoKICBmdW5jdGlvbiBJY29Ub2tlbigKICAgIHN0cmluZyBfbmFtZSwKICAgIHN0cmluZyBfc3ltYm9sLAogICAgdWludDI1NiBfZGVjaW1hbHMsCiAgICBzdHJpbmcgX3ZlcnNpb24KICApCiAgewogICAgbmFtZSA9IF9uYW1lOwogICAgc3ltYm9sID0gX3N5bWJvbDsKICAgIGRlY2ltYWxzID0gX2RlY2ltYWxzOwogICAgdmVyc2lvbiA9IF92ZXJzaW9uOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSB3aGVuTm90UGF1c2VkIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90byxfdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJldHVybiBzdXBlci5hcHByb3ZlKF9zcGVuZGVyLF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgYmFsYW5jZSkgewogICAgcmV0dXJuIHN1cGVyLmJhbGFuY2VPZihfb3duZXIpOwogIH0KCiAgZnVuY3Rpb24gc2V0SWNvQ29udHJhY3QoYWRkcmVzcyBfaWNvQ29udHJhY3QpIG9ubHlPd25lciB7CiAgICBpZiAoX2ljb0NvbnRyYWN0ICE9IGFkZHJlc3MoMCkpIHsKICAgICAgaWNvQ29udHJhY3QgPSBfaWNvQ29udHJhY3Q7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBzZWxsKGFkZHJlc3MgX3JlY2lwaWVudCwgdWludDI1NiBfdmFsdWUpIHdoZW5Ob3RQYXVzZWQgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgIGFzc2VydChfdmFsdWUgPiAwKTsKICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGljb0NvbnRyYWN0KTsKCiAgICAgIGJhbGFuY2VzW19yZWNpcGllbnRdICs9IF92YWx1ZTsKICAgIAogICAgLyogIHRvdGFsU3VwcGx5ICs9IF92YWx1ZTsqLwoKICAgICAgVHJhbnNmZXIoMHgwLCBvd25lciwgX3ZhbHVlKTsKICAgICAgVHJhbnNmZXIob3duZXIsIF9yZWNpcGllbnQsIF92YWx1ZSk7CiAgICAgIHJldHVybiB0cnVlOwogIH0KCn0KCmNvbnRyYWN0IFJlZG5lY2tfQ29pbiBpcyBTdGFuZGFyZFRva2VuIHsKICBzdHJpbmcgcHVibGljIG5hbWUgPSAnUmVkbmVjayBDb2luJzsKICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICdSRUROJzsKICBhZGRyZXNzIHB1YmxpYyBvd25lciA9IDB4RDNGNjg3OUMwODY1NzM2ODY4OUU4Nzk4RWJGQzNBYTk3N0UwMzI1RjsKICB1aW50IHB1YmxpYyBkZWNpbWFscyA9IDE4OwogIHVpbnQgcHVibGljIElOSVRJQUxfU1VQUExZID0gOTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOwogIHVpbnQgcHVibGljIENVUlJFTlRMWV9JU1NVRUQgPSAwOyAKCiAgZnVuY3Rpb24gUmVkbmVja19Db2luKCkgewogICAgdG90YWxTdXBwbHkgPSBJTklUSUFMX1NVUFBMWTsKICB9CgogIGZ1bmN0aW9uKCkgcGF5YWJsZSB7IGRlcG9zaXQoKTsgfQoKCiAgZnVuY3Rpb24gZGVwb3NpdCgpIHBheWFibGUgewogICAgICAKICAgIG93bmVyLnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgICB1aW50IG5ld1Rva2VucyA9IChtc2cudmFsdWUgKiAyNTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDApIC8gMSBldGhlcjsKICAgIAogICAgQ1VSUkVOVExZX0lTU1VFRCA9IENVUlJFTlRMWV9JU1NVRUQgKyBuZXdUb2tlbnM7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdICsgbmV3VG9rZW5zOwogICAgaWYoQ1VSUkVOVExZX0lTU1VFRD50b3RhbFN1cHBseSkKICAgICAgICB0b3RhbFN1cHBseT1DVVJSRU5UTFlfSVNTVUVEOwoKICB9Cn0KCi8vID09PT09PT09PT09PT09PT09IEljbyBUb2tlbiBDb250cmFjdCBlbmQgPT09PT09PT09PT09PT09PT09PT09PT0KCi8vID09PT09PT09PT09PT09PT09IEFjdHVhbCBTYWxlIENvbnRyYWN0IFN0YXJ0ID09PT09PT09PT09PT09PT09PT09CmNvbnRyYWN0IEljb0NvbnRyYWN0IGlzIFNhZmVNYXRoLCBQYXVzYWJsZSB7CiAgSWNvVG9rZW4gcHVibGljIGljbzsKCiAgdWludDI1NiBwdWJsaWMgdG9rZW5DcmVhdGlvbkNhcDsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgYWRkcmVzcyBwdWJsaWMgZXRoRnVuZERlcG9zaXQ7CiAgYWRkcmVzcyBwdWJsaWMgaWNvQWRkcmVzczsKCiAgdWludDI1NiBwdWJsaWMgZnVuZGluZ1N0YXJ0VGltZTsKICB1aW50MjU2IHB1YmxpYyBmdW5kaW5nRW5kVGltZTsKICB1aW50MjU2IHB1YmxpYyBtaW5Db250cmlidXRpb247CgogIGJvb2wgcHVibGljIGlzRmluYWxpemVkOwogIHVpbnQyNTYgcHVibGljIHRva2VuRXhjaGFuZ2VSYXRlOwoKICBldmVudCBMb2dDcmVhdGVJQ08oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbCk7CgogIGZ1bmN0aW9uIENyZWF0ZUlDTyhhZGRyZXNzIHRvLCB1aW50MjU2IHZhbCkgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBMb2dDcmVhdGVJQ08oMHgwLCB0bywgdmFsKTsKICAgIHJldHVybiBpY28uc2VsbCh0bywgdmFsKTsKICB9CgogIGZ1bmN0aW9uIEljb0NvbnRyYWN0KAogICAgYWRkcmVzcyBfZXRoRnVuZERlcG9zaXQsCiAgICBhZGRyZXNzIF9pY29BZGRyZXNzLAogICAgdWludDI1NiBfdG9rZW5DcmVhdGlvbkNhcCwKICAgIHVpbnQyNTYgX3Rva2VuRXhjaGFuZ2VSYXRlLAogICAgdWludDI1NiBfZnVuZGluZ1N0YXJ0VGltZSwKICAgIHVpbnQyNTYgX2Z1bmRpbmdFbmRUaW1lLAogICAgdWludDI1NiBfbWluQ29udHJpYnV0aW9uCiAgKQogIHsKICAgIGV0aEZ1bmREZXBvc2l0ID0gX2V0aEZ1bmREZXBvc2l0OwogICAgaWNvQWRkcmVzcyA9IF9pY29BZGRyZXNzOwogICAgdG9rZW5DcmVhdGlvbkNhcCA9IF90b2tlbkNyZWF0aW9uQ2FwOwogICAgdG9rZW5FeGNoYW5nZVJhdGUgPSBfdG9rZW5FeGNoYW5nZVJhdGU7CiAgICBmdW5kaW5nU3RhcnRUaW1lID0gX2Z1bmRpbmdTdGFydFRpbWU7CiAgICBtaW5Db250cmlidXRpb24gPSBfbWluQ29udHJpYnV0aW9uOwogICAgZnVuZGluZ0VuZFRpbWUgPSBfZnVuZGluZ0VuZFRpbWU7CiAgICBpY28gPSBJY29Ub2tlbihpY29BZGRyZXNzKTsKICAgIGlzRmluYWxpemVkID0gZmFsc2U7CiAgfQoKICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsgICAgCiAgICBjcmVhdGVUb2tlbnMobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsKICB9CgogIC8vLyBAZGV2IEFjY2VwdHMgZXRoZXIgYW5kIGNyZWF0ZXMgbmV3IElDTyB0b2tlbnMuCiAgZnVuY3Rpb24gY3JlYXRlVG9rZW5zKGFkZHJlc3MgX2JlbmVmaWNpYXJ5LCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgd2hlbk5vdFBhdXNlZCB7CiAgICByZXF1aXJlICh0b2tlbkNyZWF0aW9uQ2FwID4gdG90YWxTdXBwbHkpOwogICAgcmVxdWlyZSAobm93ID49IGZ1bmRpbmdTdGFydFRpbWUpOwogICAgcmVxdWlyZSAobm93IDw9IGZ1bmRpbmdFbmRUaW1lKTsKICAgIHJlcXVpcmUgKF92YWx1ZSA+PSBtaW5Db250cmlidXRpb24pOwogICAgcmVxdWlyZSAoIWlzRmluYWxpemVkKTsKCiAgICB1aW50MjU2IHRva2VucyA9IHNhZmVNdWx0KF92YWx1ZSwgdG9rZW5FeGNoYW5nZVJhdGUpOwogICAgdWludDI1NiBjaGVja2VkU3VwcGx5ID0gc2FmZUFkZCh0b3RhbFN1cHBseSwgdG9rZW5zKTsKCiAgICBpZiAodG9rZW5DcmVhdGlvbkNhcCA8IGNoZWNrZWRTdXBwbHkpIHsgICAgICAgIAogICAgICB1aW50MjU2IHRva2Vuc1RvQWxsb2NhdGUgPSBzYWZlU3VidHJhY3QodG9rZW5DcmVhdGlvbkNhcCwgdG90YWxTdXBwbHkpOwogICAgICB1aW50MjU2IHRva2Vuc1RvUmVmdW5kICAgPSBzYWZlU3VidHJhY3QodG9rZW5zLCB0b2tlbnNUb0FsbG9jYXRlKTsKICAgICAgdG90YWxTdXBwbHkgPSB0b2tlbkNyZWF0aW9uQ2FwOwogICAgICB1aW50MjU2IGV0aGVyVG9SZWZ1bmQgPSB0b2tlbnNUb1JlZnVuZCAvIHRva2VuRXhjaGFuZ2VSYXRlOwoKICAgICAgcmVxdWlyZShDcmVhdGVJQ08oX2JlbmVmaWNpYXJ5LCB0b2tlbnNUb0FsbG9jYXRlKSk7CiAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoZXRoZXJUb1JlZnVuZCk7CiAgICAgIGV0aEZ1bmREZXBvc2l0LnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB0b3RhbFN1cHBseSA9IGNoZWNrZWRTdXBwbHk7CgogICAgcmVxdWlyZShDcmVhdGVJQ08oX2JlbmVmaWNpYXJ5LCB0b2tlbnMpKTsgCiAgICBldGhGdW5kRGVwb3NpdC50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogIH0KCiAgLy8vIEBkZXYgRW5kcyB0aGUgZnVuZGluZyBwZXJpb2QgYW5kIHNlbmRzIHRoZSBFVEggaG9tZQogIGZ1bmN0aW9uIGZpbmFsaXplKCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgIHJlcXVpcmUgKCFpc0ZpbmFsaXplZCk7CiAgICAvLyBtb3ZlIHRvIG9wZXJhdGlvbmFsCiAgICBpc0ZpbmFsaXplZCA9IHRydWU7CiAgICBldGhGdW5kRGVwb3NpdC50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogIH0KfQ=='.
	

]
