Class {
	#name : #SRT39139b54e733d01fd0b46fdb32cf45e08696541c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT39139b54e733d01fd0b46fdb32cf45e08696541c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbCAKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4gCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIC8qKiAKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLiAKICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgewogICAgICB0aHJvdzsKICAgIH0KICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLiAKICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9Cgp9CgovKioKICogTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcwogKi8KY29udHJhY3QgU2FmZU1hdGggewogIGZ1bmN0aW9uIHNhZmVNdWwodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc2FmZVN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICsgYjsKICAgIGFzc2VydChjPj1hICYmIGM+PWIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBhc3NlcnQoYm9vbCBhc3NlcnRpb24pIGludGVybmFsIHsKICAgIGlmICghYXNzZXJ0aW9uKSB0aHJvdzsKICB9Cn0KCmNvbnRyYWN0IEVSQzIwIHsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgc3RyaW5nIHB1YmxpYyBuYW1lOwogICAgdWludDI1NiBwdWJsaWMgZGVjaW1hbHM7CiAgICB1aW50MjU2IF90b3RhbFN1cHBseTsKICAgIAogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CiAgICAKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB0b3RhbFN1cHBseSk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CiAgICAKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cn0KCiAKY29udHJhY3QgUmVkdm9sdXRpb24gaXMgT3duYWJsZSwgU2FmZU1hdGgsIEVSQzIwIHsKICAgIC8vIEVSQzIwIGNvbnN0YW50cwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiUkVEViI7CiAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAiUmVkdm9sdXRpb24iOwogICAgdWludDI1NiBjb25zdGFudCBkZWNpbWFscyA9IDg7CiAgICB1aW50MjU2IF90b3RhbFN1cHBseSA9IDIxMDAwMDAwKigxMCoqZGVjaW1hbHMpOwogICAgCiAgICAvLyBDb25zdGFudHMKICAgIHVpbnQgcHVibGljIHByaWNlUGVyTWVzc2FnZSA9IDUqKDEwKipkZWNpbWFscyk7CiAgICB1aW50IHB1YmxpYyBwcmljZUNyZWF0aW5nQ2hhbm5lbCA9IDUwMDAqKDEwKipkZWNpbWFscyk7CiAgICB1aW50IHB1YmxpYyBtYXhDaGFyYWN0ZXJzID0gMzAwOwogICAgdWludCBwdWJsaWMgbWV0YWRhdGFTaXplID0gMTAwMDsKICAgIHVpbnQgcHVibGljIGNoYW5uZWxNYXhTaXplID0gMjU7CiAgICAKICAgIC8vIENoYW5uZWxzCiAgICBtYXBwaW5nKHN0cmluZyA9PiBhZGRyZXNzKSBjaGFubmVsT3duZXI7CiAgICBtYXBwaW5nKHN0cmluZyA9PiB1aW50MjU2KSBjaGFubmVsc09uU2FsZTsKICAgIG1hcHBpbmcoc3RyaW5nID0+IHN0cmluZykgbWV0YWRhdGFDaGFubmVsOwogICAgbWFwcGluZyhhZGRyZXNzID0+IHN0cmluZykgbWV0YWRhdGFVc2VyOwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHJhbmtzOwogICAgCiAgICAvLyBFdmVudHMKICAgIGV2ZW50IE1lc3NhZ2VTZW50KGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiBib251cywgc3RyaW5nIG1lc3NhZ2VDb250ZW50LCBzdHJpbmcgbWVzc2FnZVRpdGxlLCB1aW50MjU2IHRpbWVzdGFtcCk7CiAgICBldmVudCBNZXNzYWdlU2VudFRvQ2hhbm5lbChhZGRyZXNzIGZyb20sIHN0cmluZyBjaGFubmVsLCBzdHJpbmcgbWVzc2FnZUNvbnRlbnQsIHVpbnQyNTYgdGltZXN0YW1wKTsKICAgIGV2ZW50IHByaWNlUGVyTWVzc2FnZUNoYW5nZWQodWludDI1NiBsYXN0T25lLCB1aW50MjU2IG5ld09uZSk7CiAgICBldmVudCBwcmljZUNyZWF0aW5nQ2hhbm5lbENoYW5nZWQodWludDI1NiBsYXN0T25lLCB1aW50MjU2IG5ld09uZSk7CiAgICBldmVudCBDaGFubmVsQm91Z2h0KHN0cmluZyBjaGFubmVsTmFtZSwgYWRkcmVzcyBidXllciwgYWRkcmVzcyBzZWxsZXIpOwogICAgZXZlbnQgQ2hhbm5lbENyZWF0ZWQoc3RyaW5nIGNoYW5uZWxOYW1lLCBhZGRyZXNzIGNyZWF0b3IpOwogICAgCiAgICBmdW5jdGlvbiBSZWR2b2x1dGlvbigpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBfdG90YWxTdXBwbHk7CiAgICAgICAgY2hhbm5lbE93bmVyWyJnZW5lcmFsIl0gPSBvd25lcjsKICAgICAgICBjaGFubmVsT3duZXJbIkdlbmVyYWwiXSA9IG93bmVyOwogICAgICAgIGNoYW5uZWxPd25lclsicmVkdm9sdXRpb24iXSA9IG93bmVyOwogICAgICAgIGNoYW5uZWxPd25lclsiUmVkdm9sdXRpb24iXSA9IG93bmVyOwogICAgICAgIGNoYW5uZWxPd25lclsiUkVEViJdID0gb3duZXI7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHNlbmRNZXNzYWdlKGFkZHJlc3MgdG8sIHN0cmluZyBtZXNzYWdlQ29udGVudCwgc3RyaW5nIG1lc3NhZ2VUaXRsZSwgdWludDI1NiBhbW91bnRCb251c1Rva2VuKXsKICAgICAgICBhc3NlcnQoYnl0ZXMobWVzc2FnZUNvbnRlbnQpLmxlbmd0aCA8PSBtYXhDaGFyYWN0ZXJzKTsKICAgICAgICB0cmFuc2Zlcih0byxhbW91bnRCb251c1Rva2VuK3ByaWNlUGVyTWVzc2FnZSk7CiAgICAgICAgTWVzc2FnZVNlbnQobXNnLnNlbmRlcix0byxhbW91bnRCb251c1Rva2VuLG1lc3NhZ2VDb250ZW50LG1lc3NhZ2VUaXRsZSxibG9jay50aW1lc3RhbXApOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBzZW5kTXVsdGlwbGVNZXNzYWdlcyhhZGRyZXNzW10gdG8sIHN0cmluZyBtZXNzYWdlQ29udGVudCwgc3RyaW5nIG1lc3NhZ2VUaXRsZSwgdWludDI1NiBhbW91bnRCb251c1Rva2VuKXsKICAgICAgICBmb3IodWludCBpPTA7aTx0by5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgc2VuZE1lc3NhZ2UodG9baV0sbWVzc2FnZUNvbnRlbnQsbWVzc2FnZVRpdGxlLGFtb3VudEJvbnVzVG9rZW4pOwogICAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gc2VuZE1lc3NhZ2VUb0NoYW5uZWwoc3RyaW5nIGNoYW5uZWxOYW1lLCBzdHJpbmcgbWVzc2FnZUNvbnRlbnQpeyAvLyBvbmx5IG93bmVycyBjYW4gc2VuZCBtZXNzYWdlcyB0byBjaGFubmVscwogICAgICAgIGFzc2VydChieXRlcyhtZXNzYWdlQ29udGVudCkubGVuZ3RoIDw9IG1heENoYXJhY3RlcnMpOwogICAgICAgIGFzc2VydChieXRlcyhjaGFubmVsTmFtZSkubGVuZ3RoIDw9IGNoYW5uZWxNYXhTaXplKTsKICAgICAgICBhc3NlcnQobXNnLnNlbmRlciA9PSBjaGFubmVsT3duZXJbY2hhbm5lbE5hbWVdKTsKICAgICAgICAKICAgICAgICBNZXNzYWdlU2VudFRvQ2hhbm5lbChtc2cuc2VuZGVyLGNoYW5uZWxOYW1lLG1lc3NhZ2VDb250ZW50LCBibG9jay50aW1lc3RhbXApOwogICAgfQogICAgCiAgICAvKioKICAgICAqIFNhbGVzIG9mIENoYW5uZWxzIAogICAgICovCiAgICAgCiAgICBmdW5jdGlvbiBzZWxsQ2hhbm5lbChzdHJpbmcgY2hhbm5lbE5hbWUsIHVpbnQyNTYgcHJpY2UpewogICAgICAgIGFzc2VydChieXRlcyhjaGFubmVsTmFtZSkubGVuZ3RoIDw9IGNoYW5uZWxNYXhTaXplKTsKICAgICAgICBhc3NlcnQoY2hhbm5lbE93bmVyW2NoYW5uZWxOYW1lXSAhPSAwKTsKICAgICAgICBhc3NlcnQobXNnLnNlbmRlciA9PSBjaGFubmVsT3duZXJbY2hhbm5lbE5hbWVdKTsKICAgICAgICAKICAgICAgICBjaGFubmVsc09uU2FsZVtjaGFubmVsTmFtZV0gPSBwcmljZTsKICAgIH0gCiAgICAKICAgIGZ1bmN0aW9uIGJ1eUNoYW5uZWwoc3RyaW5nIGNoYW5uZWxOYW1lKXsKICAgICAgICBhc3NlcnQoYnl0ZXMoY2hhbm5lbE5hbWUpLmxlbmd0aCA8PSBjaGFubmVsTWF4U2l6ZSk7CiAgICAgICAgYXNzZXJ0KGNoYW5uZWxzT25TYWxlW2NoYW5uZWxOYW1lXSA+IDApOwogICAgICAgIGFzc2VydChjaGFubmVsT3duZXJbY2hhbm5lbE5hbWVdICE9IDApOwogICAgICAgIAogICAgICAgIHRyYW5zZmVyKGNoYW5uZWxPd25lcltjaGFubmVsTmFtZV0sY2hhbm5lbHNPblNhbGVbY2hhbm5lbE5hbWVdKTsKICAgICAgICAKICAgICAgICBDaGFubmVsQm91Z2h0KGNoYW5uZWxOYW1lLG1zZy5zZW5kZXIsY2hhbm5lbE93bmVyW2NoYW5uZWxOYW1lXSk7CiAgICAgICAgY2hhbm5lbE93bmVyW2NoYW5uZWxOYW1lXSA9IG1zZy5zZW5kZXI7CiAgICAgICAgY2hhbm5lbHNPblNhbGVbY2hhbm5lbE5hbWVdID0gMDsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY3JlYXRlQ2hhbm5lbChzdHJpbmcgY2hhbm5lbE5hbWUpewogICAgICAgIGFzc2VydChjaGFubmVsT3duZXJbY2hhbm5lbE5hbWVdID09IDApOwogICAgICAgIGFzc2VydChieXRlcyhjaGFubmVsTmFtZSkubGVuZ3RoIDw9IGNoYW5uZWxNYXhTaXplKTsKICAgICAgICAKICAgICAgICBidXJuKHByaWNlQ3JlYXRpbmdDaGFubmVsKTsKICAgICAgICBjaGFubmVsT3duZXJbY2hhbm5lbE5hbWVdID0gbXNnLnNlbmRlcjsKICAgICAgICBDaGFubmVsQ3JlYXRlZChjaGFubmVsTmFtZSxtc2cuc2VuZGVyKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBHZW5lcmFsIHNldHRlcnMKICAgICAqLwogICAgIAogICAgZnVuY3Rpb24gc2V0TWV0YWRhdGFVc2VyKHN0cmluZyBtZXRhZGF0YSkgewogICAgICAgIGFzc2VydChieXRlcyhtZXRhZGF0YSkubGVuZ3RoIDw9IG1ldGFkYXRhU2l6ZSk7CiAgICAgICAgbWV0YWRhdGFVc2VyW21zZy5zZW5kZXJdID0gbWV0YWRhdGE7ICAgIAogICAgfQogICAgCiAgICBmdW5jdGlvbiBzZXRNZXRhZGF0YUNoYW5uZWxzKHN0cmluZyBjaGFubmVsTmFtZSwgc3RyaW5nIG1ldGFkYXRhKXsgLy8gbWV0YWRhdGEgY2FuIGJlIHVzZWQgZm9yIGEgbG90IG9mIHRoaW5ncyBzdWNoIGFzIHJlZGlyZWN0aW9uIG9yIGRpc3BsYXlpbmcgYW4gaW1hZ2UKICAgICAgICBhc3NlcnQobXNnLnNlbmRlciA9PSBjaGFubmVsT3duZXJbY2hhbm5lbE5hbWVdKTsKICAgICAgICBhc3NlcnQoYnl0ZXMobWV0YWRhdGEpLmxlbmd0aCA8PSBtZXRhZGF0YVNpemUpOwogICAgICAgIAogICAgICAgIG1ldGFkYXRhQ2hhbm5lbFtjaGFubmVsTmFtZV0gPSBtZXRhZGF0YTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBHZW5lcmFsIGdldHRlcnMKICAgICAqLwogICAgCiAgICBmdW5jdGlvbiBnZXRPd25lcihzdHJpbmcgY2hhbm5lbCkgY29uc3RhbnQgcmV0dXJucyhhZGRyZXNzIG93bmVyT2ZDaGFubmVsKXsKICAgICAgICByZXR1cm4gY2hhbm5lbE93bmVyW2NoYW5uZWxdOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBnZXRQcmljZUNoYW5uZWwoc3RyaW5nIGNoYW5uZWwpIGNvbnN0YW50IHJldHVybnModWludDI1NiBwcmljZSl7CiAgICAgICAgcmV0dXJuIGNoYW5uZWxzT25TYWxlW2NoYW5uZWxdOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBnZXRNZXRhZGF0YUNoYW5uZWwoc3RyaW5nIGNoYW5uZWwpIGNvbnN0YW50IHJldHVybnMoc3RyaW5nIG1ldGFkYXRhT2ZDaGFubmVsKXsKICAgICAgICByZXR1cm4gbWV0YWRhdGFDaGFubmVsW2NoYW5uZWxdOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBnZXRNZXRhZGF0YVVzZXIoYWRkcmVzcyB1c2VyKSBjb25zdGFudCByZXR1cm5zKHN0cmluZyBtZXRhZGF0YU9mVXNlcil7CiAgICAgICAgcmV0dXJuIG1ldGFkYXRhVXNlclt1c2VyXTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ2V0UmFuayhhZGRyZXNzIHVzZXIpIGNvbnN0YW50IHJldHVybnModWludDI1Nil7CiAgICAgICAgcmV0dXJuIHJhbmtzW3VzZXJdOwogICAgfQogICAgCiAgICAvKioKICAgICAqIFVwZGF0ZSB0aGUgY29uc3RhbnRzIG9mIHRoZSBuZXR3b3JrIGlmIG5lY2Vzc2FyeQogICAgICovCiAgICAKICAgIGZ1bmN0aW9uIHNldFByaWNlUGVyTWVzc2FnZSh1aW50MjU2IG5ld1ByaWNlKSBvbmx5T3duZXIgewogICAgICAgIHByaWNlUGVyTWVzc2FnZUNoYW5nZWQocHJpY2VQZXJNZXNzYWdlLG5ld1ByaWNlKTsKICAgICAgICBwcmljZVBlck1lc3NhZ2UgPSBuZXdQcmljZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gc2V0UHJpY2VDcmVhdGluZ0NoYW5uZWwodWludDI1NiBuZXdQcmljZSkgb25seU93bmVyIHsKICAgICAgICBwcmljZUNyZWF0aW5nQ2hhbm5lbENoYW5nZWQocHJpY2VDcmVhdGluZ0NoYW5uZWwsbmV3UHJpY2UpOwogICAgICAgIHByaWNlQ3JlYXRpbmdDaGFubmVsID0gbmV3UHJpY2U7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHNldFByaWNlQ2hhbm5lbE1heFNpemUodWludDI1NiBuZXdTaXplKSBvbmx5T3duZXIgewogICAgICAgIGNoYW5uZWxNYXhTaXplID0gbmV3U2l6ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gc2V0TWV0YWRhdGFTaXplKHVpbnQyNTYgbmV3U2l6ZSkgb25seU93bmVyIHsKICAgICAgICBtZXRhZGF0YVNpemUgPSBuZXdTaXplOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBzZXRNYXhDaGFyYWN0ZXJzKHVpbnQyNTYgbmV3TWF4KSBvbmx5T3duZXIgewogICAgICAgIG1heENoYXJhY3RlcnMgPSBuZXdNYXg7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHNldFN5bWJvbChzdHJpbmcgbmV3U3ltYm9sKSBvbmx5T3duZXIgewogICAgICAgIHN5bWJvbCA9IG5ld1N5bWJvbDsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gc2V0TmFtZShzdHJpbmcgbmV3TmFtZSkgb25seU93bmVyIHsKICAgICAgICBuYW1lID0gbmV3TmFtZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gc2V0UmFuayhhZGRyZXNzIHVzZXIsIHVpbnQyNTYgbmV3UmFuaykgb25seU93bmVyIHsKICAgICAgICByYW5rc1t1c2VyXSA9IG5ld1Jhbms7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogT3RoZXJzCiAgICAgKi8KICAgICAKICAgIGZ1bmN0aW9uIGJ1cm4odWludDI1NiBhbW91bnQpewogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2FmZVN1YihiYWxhbmNlc1ttc2cuc2VuZGVyXSxhbW91bnQpOwogICAgICAgIF90b3RhbFN1cHBseSA9IHNhZmVTdWIoX3RvdGFsU3VwcGx5LGFtb3VudCk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogRVJDMjAgZnVuY3Rpb25zCiAgICAgKi8KICAgIAogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHRvdGFsU3VwcGx5KSB7CiAgICAgICAgdG90YWxTdXBwbHkgPSBfdG90YWxTdXBwbHk7CiAgICB9CiAgCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQogCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCAKICAgICAgICAgICAgJiYgX2Ftb3VudCA+IDAKICAgICAgICAgICAgJiYgYmFsYW5jZXNbX3RvXSArIF9hbW91bnQgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2FmZVN1YihiYWxhbmNlc1ttc2cuc2VuZGVyXSxfYW1vdW50KTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZXNbX3RvXSxfYW1vdW50KTsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfYW1vdW50KTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KICAgICAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbSgKICAgICAgICBhZGRyZXNzIF9mcm9tLAogICAgICAgIGFkZHJlc3MgX3RvLAogICAgICAgIHVpbnQyNTYgX2Ftb3VudAogICAgKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF9hbW91bnQKICAgICAgICAgICAgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX2Ftb3VudAogICAgICAgICAgICAmJiBfYW1vdW50ID4gMAogICAgICAgICAgICAmJiBiYWxhbmNlc1tfdG9dICsgX2Ftb3VudCA+IGJhbGFuY2VzW190b10pIHsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBzYWZlU3ViKGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLF9hbW91bnQpOwogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBzYWZlU3ViKGJhbGFuY2VzW19mcm9tXSxfYW1vdW50KTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZXNbX3RvXSxfYW1vdW50KTsKICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CiAKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50KSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF9hbW91bnQ7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogIAogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQogICAgCiAgICAvKioKICAgICogQGRldiBUcmFuc2ZlciBhbiBfYW1vdW50IHRvIG11bHRpcGxlIGFkZHJlc3NlcywgdXNlZCBmb3IgYWlyZHJvcAogICAgKiBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVyZWQKICAgICogQHBhcmFtIGFkZHJlc3NlcyBUaGUgYXJyYXkgb2YgYWRkcmVzc2VzIHRvIHdoaWNoIHRoZSB0b2tlbnMgd2lsbCBiZSBzZW50CiAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJNdWx0aXBsZSh1aW50MjU2IF9hbW91bnQsIGFkZHJlc3NbXSBhZGRyZXNzZXMpIG9ubHlPd25lciB7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgYWRkcmVzc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHRyYW5zZmVyKGFkZHJlc3Nlc1tpXSxfYW1vdW50KTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyTXVsdGlwbGVEaWZmZXJlbnRWYWx1ZXModWludDI1NltdIGFtb3VudHMsIGFkZHJlc3NbXSBhZGRyZXNzZXMpIG9ubHlPd25lciB7CiAgICAgICAgYXNzZXJ0KGFtb3VudHMubGVuZ3RoID09IGFkZHJlc3Nlcy5sZW5ndGgpOwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IGFkZHJlc3Nlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB0cmFuc2ZlcihhZGRyZXNzZXNbaV0sYW1vdW50c1tpXSk7CiAgICAgICAgfQogICAgfQp9'.
	

]
