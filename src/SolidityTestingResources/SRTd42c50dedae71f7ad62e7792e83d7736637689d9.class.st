Class {
	#name : #SRTd42c50dedae71f7ad62e7792e83d7736637689d9,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd42c50dedae71f7ad62e7792e83d7736637689d9 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgoKY29udHJhY3QgT3duZWQKewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgbW9kaWZpZXIgb25seU93bmVyCgl7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIoKQoJewogICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9Cn0KCgpjb250cmFjdCBBZ3JpY29pbiBpcyBPd25lZAp7CiAgICAvLyBEaXZpZGVuZHMgcGF5b3V0IHN0cnVjdC4KICAgIHN0cnVjdCBEaXZpZGVuZFBheW91dAogICAgewogICAgICAgIHVpbnQgYW1vdW50OyAgICAgICAgICAgIC8vIFZhbHVlIG9mIGRpdmlkZW5kIHBheW91dC4KICAgICAgICB1aW50IG1vbWVudFRvdGFsU3VwcGx5OyAvLyBUb3RhbCBzdXBwbHkgaW4gcGF5b3V0IG1vbWVudCwKICAgIH0KCiAgICAvLyBSZWRlbXB0aW9uIHBheW91dCBzdHJ1Y3QuCiAgICBzdHJ1Y3QgUmVkZW1wdGlvblBheW91dAogICAgewogICAgICAgIHVpbnQgYW1vdW50OyAgICAgICAgICAgIC8vIFZhbHVlIG9mIHJlZGVtcHRpb24gcGF5b3V0LgogICAgICAgIHVpbnQgbW9tZW50VG90YWxTdXBwbHk7IC8vIFRvdGFsIHN1cHBseSBpbiBwYXlvdXQgbW9tZW50LgogICAgICAgIHVpbnQgcHJpY2U7ICAgICAgICAgICAgIC8vIFByaWNlIG9mIEFncmljb2luIGluIHdlaXMuCiAgICB9CgogICAgLy8gQmFsYW5jZSBzdHJ1Y3Qgd2l0aCBkaXZpZGVuZHMgYW5kIHJlZGVtcHRpb25zIHJlY29yZC4KICAgIHN0cnVjdCBCYWxhbmNlCiAgICB7CiAgICAgICAgdWludCBpY29CYWxhbmNlOwogICAgICAgIHVpbnQgYmFsYW5jZTsgICAgICAgICAgICAgICAgICAgICAgIC8vIEFncmljb2luIGJhbGFuY2UuCiAgICAgICAgdWludCBwb3NpYmxlRGl2aWRlbmRzOyAgICAgICAgICAgICAgLy8gRGl2aWRlbmQgbnVtYmVyLCB3aGljaCB1c2VyIGNhbiBnZXQuCiAgICAgICAgdWludCBsYXN0RGl2aWRlbnNQYXlvdXROdW1iZXI7ICAgICAgLy8gTGFzdCBkaXZpZGVuZCBwYXlvdXQgaW5kZXgsIHdoaWNoIHVzZXIgaGFzIGdvdHRlbi4KICAgICAgICB1aW50IHBvc2libGVSZWRlbXB0aW9uOyAgICAgICAgICAgICAvLyBSZWRlbXB0aW9uIHZhbHVlIGluIHdlaXMsIHdoaWNoIHVzZXIgY2FuIHVzZS4KICAgICAgICB1aW50IGxhc3RSZWRlbXB0aW9uUGF5b3V0TnVtYmVyOyAgICAvLyBMYXN0IHJlZGVtcHRpb24gcGF5b3V0IGluZGV4LCB3aGljaCB1c2VyIGhhcyB1c2VkLgogICAgfQoKICAgIC8vIENhbiBhY3Qgb25seSBvbmUgZnJvbSBwYXllcnMuCiAgICBtb2RpZmllciBvbmx5UGF5ZXIoKQogICAgewogICAgICAgIHJlcXVpcmUocGF5ZXJzW21zZy5zZW5kZXJdKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICAvLyBDYW4gYWN0IG9ubHkgYWZ0ZXIgdG9rZW4gYWN0aXZhdGlvbi4KICAgIG1vZGlmaWVyIG9ubHlBY3RpdmF0ZWQoKQogICAgewogICAgICAgIHJlcXVpcmUoaXNBY3RpdmUpOwogICAgICAgIF87CiAgICB9CgogICAgLy8gVHJhbnNmZXIgZXZlbnQuCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQgX3ZhbHVlKTsgICAgCgogICAgLy8gQXBwcm92ZSBldmVudC4KICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludCBfdmFsdWUpOwoKICAgIC8vIEFjdGl2YXRlIGV2ZW50LgogICAgZXZlbnQgQWN0aXZhdGUoYm9vbCBpY29TdWNjZXNzZnVsKTsKCiAgICAvLyBEaXZpZGVuZFBheW91dCBkaXZpZGVuZHMgZXZlbnQuCiAgICBldmVudCBQYXlvdXREaXZpZGVuZHModWludCBldGhlckFtb3VudCwgdWludCBpbmRleGVkIGlkKTsKCiAgICAvLyBEaXZpZGVuZFBheW91dCByZWRlbXB0aW9uIGV2ZW50LgogICAgZXZlbnQgUGF5b3V0UmVkZW1wdGlvbih1aW50IGV0aGVyQW1vdW50LCB1aW50IGluZGV4ZWQgaWQsIHVpbnQgcHJpY2UpOwoKICAgIC8vIEdldCB1bnBhaWQgZXZlbnQuCiAgICBldmVudCBHZXRVbnBhaWQodWludCBldGhlckFtb3VudCk7CgogICAgLy8gR2V0IGRpdmlkZW5kcy4KICAgIGV2ZW50IEdldERpdmlkZW5kcyhhZGRyZXNzIGluZGV4ZWQgaW52ZXN0b3IsIHVpbnQgZXRoZXJBbW91bnQpOwoKICAgIC8vIENvbnN0cnVjdG9yLgogICAgZnVuY3Rpb24gQWdyaWNvaW4odWludCBwYXlvdXRfcGVyaW9kX3N0YXJ0LCB1aW50IHBheW91dF9wZXJpb2RfZW5kLCBhZGRyZXNzIF9wYXllcikgcHVibGljCiAgICB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOy8vIFNhdmUgdGhlIG93bmVyLgoKICAgICAgICAvLyBTZXQgcGF5b3V0IHBlcmlvZC4KICAgICAgICBwYXlvdXRQZXJpb2RTdGFydCA9IHBheW91dF9wZXJpb2Rfc3RhcnQ7CiAgICAgICAgcGF5b3V0UGVyaW9kRW5kID0gcGF5b3V0X3BlcmlvZF9lbmQ7CgogICAgICAgIHBheWVyc1tfcGF5ZXJdID0gdHJ1ZTsKICAgIH0KCiAgICAvLyBBY3RpdmF0ZSB0b2tlbi4KCWZ1bmN0aW9uIGFjdGl2YXRlKGJvb2wgaWNvU3VjY2Vzc2Z1bCkgb25seU93bmVyKCkgZXh0ZXJuYWwgcmV0dXJucyAoYm9vbCkKCXsKCQlyZXF1aXJlKCFpc0FjdGl2ZSk7Ly8gQ2hlY2sgb25jZSBhY3RpdmF0aW9uLgoKICAgICAgICBzdGFydERhdGUgPSBub3c7Ly8gU2F2ZSBhY3RpdmF0aW9uIGRhdGUuCgkJaXNBY3RpdmUgPSB0cnVlOy8vIE1ha2UgdG9rZW4gYWN0aXZlLgoJCW93bmVyID0gMHgwMDsvLyBTZXQgb3duZXIgdG8gbnVsbC4KCQkKICAgICAgICBpZiAoaWNvU3VjY2Vzc2Z1bCkKICAgICAgICB7CiAgICAgICAgICAgIGlzU3VjY2Vzc2Z1bEljbyA9IHRydWU7CiAgICAgICAgICAgIHRvdGFsU3VwcGx5ICs9IHRvdGFsU3VwcGx5T25JY287CiAgICAgICAgICAgIEFjdGl2YXRlKHRydWUpOy8vIENhbGwgYWN0aXZhdGlvbiBldmVudC4KICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgQWN0aXZhdGUoZmFsc2UpOy8vIENhbGwgYWN0aXZhdGlvbiBldmVudC4KICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwoJfQoKICAgIC8vIEFkZCBuZXcgcGF5ZXIgYnkgcGF5ZXIuCiAgICBmdW5jdGlvbiBhZGRQYXllcihhZGRyZXNzIHBheWVyKSBvbmx5UGF5ZXIoKSBleHRlcm5hbAogICAgewogICAgICAgIHBheWVyc1twYXllcl0gPSB0cnVlOwogICAgfQoKICAgIC8vIEdldCBiYWxhbmNlIG9mIGFkZHJlc3MuCglmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBvd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludCkKCXsKCQlyZXR1cm4gYmFsYW5jZXNbb3duZXJdLmJhbGFuY2U7Cgl9CgogICAgLy8gR2V0IHBvc2libGUgZGl2aWRlbmRzIHZhbHVlLgogICAgZnVuY3Rpb24gcG9zaWJsZURpdmlkZW5kc09mKGFkZHJlc3Mgb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpCiAgICB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW293bmVyXS5wb3NpYmxlRGl2aWRlbmRzOwogICAgfQoKICAgIC8vIEdldCBwb3NpYmxlIHJlZGVtcHRpb24gdmFsdWUuCiAgICBmdW5jdGlvbiBwb3NpYmxlUmVkZW1wdGlvbk9mKGFkZHJlc3Mgb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpCiAgICB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW293bmVyXS5wb3NpYmxlUmVkZW1wdGlvbjsKICAgIH0KCiAgICAvLyBUcmFuc2ZlciBfdmFsdWUgZXRoZXJlcyB0byBfdG8uCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlBY3RpdmF0ZWQoKSBleHRlcm5hbCByZXR1cm5zIChib29sKQogICAgewogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mKG1zZy5zZW5kZXIpID49IF92YWx1ZSk7CgogICAgICAgIHJlY2FsY3VsYXRlKG1zZy5zZW5kZXIpOy8vIFJlY2FsY3VsYXRlIHVzZXIncyBzdHJ1Y3QuCiAgICAgICAgCiAgICAgICAgaWYgKF90byAhPSAweDAwKS8vIEZvciBub3JtYWwgdHJhbnNmZXIuCiAgICAgICAgewogICAgICAgICAgICByZWNhbGN1bGF0ZShfdG8pOy8vIFJlY2FsY3VsYXRlIHJlY2lwaWVudCdzIHN0cnVjdC4KCiAgICAgICAgICAgIC8vIENoYW5nZSBiYWxhbmNlcy4KICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0uYmFsYW5jZSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10uYmFsYW5jZSArPSBfdmFsdWU7CgogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7Ly8gQ2FsbCB0cmFuc2ZlciBldmVudC4KICAgICAgICB9CiAgICAgICAgZWxzZS8vIEZvciByZWRlbXB0aW9uIHRyYW5zZmVyLgogICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZShwYXlvdXRQZXJpb2RTdGFydCA8PSBub3cgJiYgbm93ID49IHBheW91dFBlcmlvZEVuZCk7Ly8gQ2hlY2sgcmVkZW1wdGlvbiBwZXJpb2QuCiAgICAgICAgICAgIAogICAgICAgICAgICB1aW50IGFtb3VudCA9IF92YWx1ZSAqIHJlZGVtcHRpb25QYXlvdXRzW2Ftb3VudE9mUmVkZW1wdGlvblBheW91dHNdLnByaWNlOy8vIENhbGN1bGF0ZSBhbW91bnQgb2Ygd2VpcyBpbiByZWRlbXB0aW9uLgoKICAgICAgICAgICAgcmVxdWlyZShhbW91bnQgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0ucG9zaWJsZVJlZGVtcHRpb24pOy8vIENoZWNrIHJlZGVtcHRpb24gbGltaXRzLgoKICAgICAgICAgICAgLy8gQ2hhbmdlIHVzZXIncyBzdHJ1Y3QuCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdLnBvc2libGVSZWRlbXB0aW9uIC09IGFtb3VudDsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0uYmFsYW5jZSAtPSBfdmFsdWU7CgogICAgICAgICAgICB0b3RhbFN1cHBseSAtPSBfdmFsdWU7Ly8gRGVjcmVhc2UgdG90YWwgc3VwcGx5LgoKICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihhbW91bnQpOy8vIFRyYW5zZmVyIHJlZGVtcHRpb24gdG8gdXNlci4KCiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsvLyBDYWxsIHRyYW5zZmVyIGV2ZW50LgogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gVHJhbnNmZXIgZnJvbSBfZnJvbSB0byBfdG8gX3ZhbHVlIHRva2Vucy4KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlBY3RpdmF0ZWQoKSBleHRlcm5hbCByZXR1cm5zIChib29sKQogICAgewogICAgICAgIC8vIENoZWNrIHRyYW5zZmVyIHBvc2liaWxpdHkuCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfZnJvbV0uYmFsYW5jZSA+PSBfdmFsdWUpOwogICAgICAgIHJlcXVpcmUoYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKTsKICAgICAgICByZXF1aXJlKF90byAhPSAweDAwKTsKCiAgICAgICAgLy8gUmVjYWxjdWxhdGUgc3RydWN0cy4KICAgICAgICByZWNhbGN1bGF0ZShfZnJvbSk7CiAgICAgICAgcmVjYWxjdWxhdGUoX3RvKTsKCiAgICAgICAgLy8gQ2hhbmdlIGJhbGFuY2VzLgogICAgICAgIGJhbGFuY2VzW19mcm9tXS5iYWxhbmNlIC09IF92YWx1ZTsKICAgICAgICBiYWxhbmNlc1tfdG9dLmJhbGFuY2UgKz0gX3ZhbHVlOwogICAgICAgIAogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7Ly8gQ2FsbCB0cmFuZmVyIGV2ZW50LgogICAgICAgIAogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIEFwcHJvdmUgZm9yIHRyYW5zZmVycy4KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIG9ubHlBY3RpdmF0ZWQoKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICAvLyBSZWNhbGN1bGF0ZSBzdHJ1Y3RzLgogICAgICAgIHJlY2FsY3VsYXRlKG1zZy5zZW5kZXIpOwogICAgICAgIHJlY2FsY3VsYXRlKF9zcGVuZGVyKTsKCiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7Ly8gU2V0IGFsbG93ZWQuCiAgICAgICAgCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7Ly8gQ2FsbCBhcHByb3ZhbCBldmVudC4KICAgICAgICAKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBHZXQgYWxsb3dhbmNlLgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBvbmx5QWN0aXZhdGVkKCkgZXh0ZXJuYWwgdmlldyByZXR1cm5zICh1aW50KQogICAgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIC8vIE1pbnQgX3ZhbHVlIHRva2VucyB0byBfdG8gYWRkcmVzcy4KICAgIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlLCBib29sIGljb01pbnRpbmcpIG9ubHlPd25lcigpIGV4dGVybmFsIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgcmVxdWlyZSghaXNBY3RpdmUpOy8vIENoZWNrIG5vIGFjdGl2YXRpb24uCgogICAgICAgIGlmIChpY29NaW50aW5nKQogICAgICAgIHsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXS5pY29CYWxhbmNlICs9IF92YWx1ZTsKICAgICAgICAgICAgdG90YWxTdXBwbHlPbkljbyArPSBfdmFsdWU7CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10uYmFsYW5jZSArPSBfdmFsdWU7Ly8gSW5jcmVhc2UgdXNlcidzIGJhbGFuY2UuCiAgICAgICAgICAgIHRvdGFsU3VwcGx5ICs9IF92YWx1ZTsvLyBJbmNyZWFzZSB0b3RhbCBzdXBwbHkuCgogICAgICAgICAgICBUcmFuc2ZlcigweDAwLCBfdG8sIF92YWx1ZSk7Ly8gQ2FsbCB0cmFuc2ZlciBldmVudC4KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gUGF5IGRpdmlkZW5kcy4KICAgIGZ1bmN0aW9uIHBheURpdmlkZW5kcygpIG9ubHlQYXllcigpIG9ubHlBY3RpdmF0ZWQoKSBleHRlcm5hbCBwYXlhYmxlIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgcmVxdWlyZShub3cgPj0gcGF5b3V0UGVyaW9kU3RhcnQgJiYgbm93IDw9IHBheW91dFBlcmlvZEVuZCk7Ly8gQ2hlY2sgcGF5b3V0IHBlcmlvZC4KCiAgICAgICAgZGl2aWRlbmRQYXlvdXRzW2Ftb3VudE9mRGl2aWRlbmRzUGF5b3V0c10uYW1vdW50ID0gbXNnLnZhbHVlOy8vIFNldCBwYXlvdXQgYW1vdW50IGluIHdlaXMuCiAgICAgICAgZGl2aWRlbmRQYXlvdXRzW2Ftb3VudE9mRGl2aWRlbmRzUGF5b3V0c10ubW9tZW50VG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseTsvLyBTYXZlIHRvdGFsIHN1cHBseSBvbiB0aGF0IG1vbWVudC4KICAgICAgICAKICAgICAgICBQYXlvdXREaXZpZGVuZHMobXNnLnZhbHVlLCBhbW91bnRPZkRpdmlkZW5kc1BheW91dHMpOy8vIENhbGwgZGl2aWRlbmQgcGF5b3V0IGV2ZW50LgoKICAgICAgICBhbW91bnRPZkRpdmlkZW5kc1BheW91dHMrKzsvLyBJbmNyZW1lbnQgZGl2aWRlbmQgcGF5b3V0cyBhbW91bnQuCgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIFBheSByZWRlbXB0aW9uLgogICAgZnVuY3Rpb24gcGF5UmVkZW1wdGlvbih1aW50IHByaWNlKSBvbmx5UGF5ZXIoKSBvbmx5QWN0aXZhdGVkKCkgZXh0ZXJuYWwgcGF5YWJsZSByZXR1cm5zIChib29sKQogICAgewogICAgICAgIHJlcXVpcmUobm93ID49IHBheW91dFBlcmlvZFN0YXJ0ICYmIG5vdyA8PSBwYXlvdXRQZXJpb2RFbmQpOy8vIENoZWNrIHBheW91dCBwZXJpb2QuCgogICAgICAgIHJlZGVtcHRpb25QYXlvdXRzW2Ftb3VudE9mUmVkZW1wdGlvblBheW91dHNdLmFtb3VudCA9IG1zZy52YWx1ZTsvLyBTZXQgcGF5b3V0IGFtb3VudCBpbiB3ZWlzLgogICAgICAgIHJlZGVtcHRpb25QYXlvdXRzW2Ftb3VudE9mUmVkZW1wdGlvblBheW91dHNdLm1vbWVudFRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHk7Ly8gU2F2ZSB0b3RhbCBzdXBwbHkgb24gdGhhdCBtb21lbnQuCiAgICAgICAgcmVkZW1wdGlvblBheW91dHNbYW1vdW50T2ZSZWRlbXB0aW9uUGF5b3V0c10ucHJpY2UgPSBwcmljZTsvLyBTZXQgcHJpY2Ugb2YgQWdyaWNvaW4gaW4gd2VpcyBhdCB0aGlzIHJlZGVtcHRpb24gbW9tZW50LgoKICAgICAgICBQYXlvdXRSZWRlbXB0aW9uKG1zZy52YWx1ZSwgYW1vdW50T2ZSZWRlbXB0aW9uUGF5b3V0cywgcHJpY2UpOy8vIENhbGwgcmVkZW1wdGlvbiBwYXlvdXQgZXZlbnQuCgogICAgICAgIGFtb3VudE9mUmVkZW1wdGlvblBheW91dHMrKzsvLyBJbmNyZW1lbnQgcmVkZW1wdGlvbiBwYXlvdXRzIGFtb3VudC4KCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gR2V0IGJhY2sgdW5wYWlkIGRpdmlkZW5kcyBhbmQgcmVkZW1wdGlvbi4KICAgIGZ1bmN0aW9uIGdldFVucGFpZCgpIG9ubHlQYXllcigpIG9ubHlBY3RpdmF0ZWQoKSBleHRlcm5hbCByZXR1cm5zIChib29sKQogICAgewogICAgICAgIHJlcXVpcmUobm93ID49IHBheW91dFBlcmlvZEVuZCk7Ly8gQ2hlY2sgZW5kIHBheW91dCBwZXJpb2QuCgogICAgICAgIEdldFVucGFpZCh0aGlzLmJhbGFuY2UpOy8vIENhbGwgZ2V0dGluZyB1bnBhaWQgZXRoZXIgZXZlbnQuCgogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsvLyBUcmFuc2ZlciBhbGwgZXRoZXJzIGJhY2sgdG8gcGF5ZXIuCgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIFJlY2FsY3VsYXRlcyBkaXZpZGVuZHMgYW5kIHJlZHVtcHRpb25zLgogICAgZnVuY3Rpb24gcmVjYWxjdWxhdGUoYWRkcmVzcyB1c2VyKSBvbmx5QWN0aXZhdGVkKCkgcHVibGljIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgaWYgKGlzU3VjY2Vzc2Z1bEljbykKICAgICAgICB7CiAgICAgICAgICAgIGlmIChiYWxhbmNlc1t1c2VyXS5pY29CYWxhbmNlICE9IDApCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGJhbGFuY2VzW3VzZXJdLmJhbGFuY2UgKz0gYmFsYW5jZXNbdXNlcl0uaWNvQmFsYW5jZTsKICAgICAgICAgICAgICAgIFRyYW5zZmVyKDB4MDAsIHVzZXIsIGJhbGFuY2VzW3VzZXJdLmljb0JhbGFuY2UpOwogICAgICAgICAgICAgICAgYmFsYW5jZXNbdXNlcl0uaWNvQmFsYW5jZSA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIENoZWNrIGZvciBuZWNlc3NpdHkgb2YgcmVjYWxjdWxhdGlvbi4KICAgICAgICBpZiAoYmFsYW5jZXNbdXNlcl0ubGFzdERpdmlkZW5zUGF5b3V0TnVtYmVyID09IGFtb3VudE9mRGl2aWRlbmRzUGF5b3V0cyAmJgogICAgICAgICAgICBiYWxhbmNlc1t1c2VyXS5sYXN0UmVkZW1wdGlvblBheW91dE51bWJlciA9PSBhbW91bnRPZlJlZGVtcHRpb25QYXlvdXRzKQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICB1aW50IGFkZGVkRGl2aWRlbmQgPSAwOwoKICAgICAgICAvLyBGb3IgZGl2aWRlbmRzLgogICAgICAgIGZvciAodWludCBpID0gYmFsYW5jZXNbdXNlcl0ubGFzdERpdmlkZW5zUGF5b3V0TnVtYmVyOyBpIDwgYW1vdW50T2ZEaXZpZGVuZHNQYXlvdXRzOyBpKyspCiAgICAgICAgewogICAgICAgICAgICBhZGRlZERpdmlkZW5kICs9IChiYWxhbmNlc1t1c2VyXS5iYWxhbmNlICogZGl2aWRlbmRQYXlvdXRzW2ldLmFtb3VudCkgLyBkaXZpZGVuZFBheW91dHNbaV0ubW9tZW50VG90YWxTdXBwbHk7CiAgICAgICAgfQoKICAgICAgICBiYWxhbmNlc1t1c2VyXS5wb3NpYmxlRGl2aWRlbmRzICs9IGFkZGVkRGl2aWRlbmQ7CiAgICAgICAgYmFsYW5jZXNbdXNlcl0ubGFzdERpdmlkZW5zUGF5b3V0TnVtYmVyID0gYW1vdW50T2ZEaXZpZGVuZHNQYXlvdXRzOwoKICAgICAgICB1aW50IGFkZGVkUmVkZW1wdGlvbiA9IDA7CgogICAgICAgIC8vIEZvciByZWRlbXB0aW9uLgogICAgICAgIGZvciAodWludCBqID0gYmFsYW5jZXNbdXNlcl0ubGFzdFJlZGVtcHRpb25QYXlvdXROdW1iZXI7IGogPCBhbW91bnRPZlJlZGVtcHRpb25QYXlvdXRzOyBqKyspCiAgICAgICAgewogICAgICAgICAgICBhZGRlZFJlZGVtcHRpb24gKz0gKGJhbGFuY2VzW3VzZXJdLmJhbGFuY2UgKiByZWRlbXB0aW9uUGF5b3V0c1tqXS5hbW91bnQpIC8gcmVkZW1wdGlvblBheW91dHNbal0ubW9tZW50VG90YWxTdXBwbHk7CiAgICAgICAgfQoKICAgICAgICBiYWxhbmNlc1t1c2VyXS5wb3NpYmxlUmVkZW1wdGlvbiArPSBhZGRlZFJlZGVtcHRpb247CiAgICAgICAgYmFsYW5jZXNbdXNlcl0ubGFzdFJlZGVtcHRpb25QYXlvdXROdW1iZXIgPSBhbW91bnRPZlJlZGVtcHRpb25QYXlvdXRzOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBHZXQgZGl2aWRlbmRzLgogICAgZnVuY3Rpb24gKCkgZXh0ZXJuYWwgcGF5YWJsZQogICAgewogICAgICAgIGlmIChwYXlvdXRQZXJpb2RTdGFydCA+PSBub3cgJiYgbm93IDw9IHBheW91dFBlcmlvZEVuZCkvLyBDaGVjayBwYXlvdXQgcGVyaW9kLgogICAgICAgIHsKICAgICAgICAgICAgaWYgKHBvc2libGVEaXZpZGVuZHNPZihtc2cuc2VuZGVyKSA+IDApLy8gQ2hlY2sgcG9zaWJsZSBkaXZpZGVuZHMuCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHVpbnQgZGl2aWRlbmRzQW1vdW50ID0gcG9zaWJsZURpdmlkZW5kc09mKG1zZy5zZW5kZXIpOy8vIEdldCBwb3NpYmxlIGRpdmlkZW5kcyBhbW91bnQuCgogICAgICAgICAgICAgICAgR2V0RGl2aWRlbmRzKG1zZy5zZW5kZXIsIGRpdmlkZW5kc0Ftb3VudCk7Ly8gQ2FsbCBnZXR0aW5nIGRpdmlkZW5kcyBldmVudC4KCiAgICAgICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXS5wb3NpYmxlRGl2aWRlbmRzID0gMDsvLyBTZXQgYmFsYW5jZSB0byB6ZXJvLgoKICAgICAgICAgICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoZGl2aWRlbmRzQW1vdW50KTsvLyBUcmFuc2ZlciBkaXZpZGVuZHMgYW1vdW50LgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIC8vIFRva2VuIG5hbWUuCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiQWdyaWNvaW4iOwogICAgCiAgICAvLyBUb2tlbiBtYXJrZXQgc3ltYm9sLgogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiQUdSIjsKICAgIAogICAgLy8gQW1vdW50IG9mIGRpZ2l0cyBhZnRlciBjb21tYS4KICAgIHVpbnQgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMjsKCiAgICAvLyBUb3RhbCBzdXBwbHkuCiAgICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICAvLyBUb3RhbCBzdXBwbHkgb24gSUNPIG9ubHk7CiAgICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseU9uSWNvOwogICAgICAgCiAgICAvLyBBY3RpdmF0aW9uIGRhdGUuCiAgICB1aW50IHB1YmxpYyBzdGFydERhdGU7CiAgICAKICAgIC8vIFBheW1lbnQgcGVyaW9kIHN0YXJ0IGRhdGUsIHNldHRlZCBieSBJQ08gY29udHJhY3QgYmVmb3JlIGFjdGl2YXRpb24uCiAgICB1aW50IHB1YmxpYyBwYXlvdXRQZXJpb2RTdGFydDsKICAgIAogICAgLy8gUGF5bWVudCBwZXJpb2QgbGFzdCBkYXRlLCBzZXR0ZWQgYnkgSUNPIGNvbnRyYWN0IGJlZm9yZSBhY3RpdmF0aW9uLgogICAgdWludCBwdWJsaWMgcGF5b3V0UGVyaW9kRW5kOwogICAgCiAgICAvLyBEaXZpZGVuZHMgRGl2aWRlbmRQYXlvdXQgY291bnRlci4KICAgIHVpbnQgcHVibGljIGFtb3VudE9mRGl2aWRlbmRzUGF5b3V0cyA9IDA7CgogICAgLy8gUmVkZW1wdGlvbiBEaXZpZGVuZFBheW91dCBjb3VudGVyLgogICAgdWludCBwdWJsaWMgYW1vdW50T2ZSZWRlbXB0aW9uUGF5b3V0cyA9IDA7CgogICAgLy8gRGl2aWRlbmQgcGF5b3V0cy4KICAgIG1hcHBpbmcgKHVpbnQgPT4gRGl2aWRlbmRQYXlvdXQpIHB1YmxpYyBkaXZpZGVuZFBheW91dHM7CiAgICAKICAgIC8vIFJlZGVtcHRpb24gcGF5b3V0cy4KICAgIG1hcHBpbmcgKHVpbnQgPT4gUmVkZW1wdGlvblBheW91dCkgcHVibGljIHJlZGVtcHRpb25QYXlvdXRzOwoKICAgIC8vIERpdmlkZW5kIGFuZCByZWRlbXB0aW9uIHBheWVycy4KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIHBheWVyczsKCiAgICAvLyBCYWxhbmNlIHJlY29yZHMuCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IEJhbGFuY2UpIHB1YmxpYyBiYWxhbmNlczsKCiAgICAvLyBBbGxvd2VkIGJhbGFuY2VzLgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSBwdWJsaWMgYWxsb3dlZDsKCiAgICAvLyBTZXQgdHJ1ZSBmb3IgYWN0aXZhdGluZyB0b2tlbi4gSWYgZmFsc2UgdGhlbiB0b2tlbiBpc24ndCB3b3JraW5nLgogICAgYm9vbCBwdWJsaWMgaXNBY3RpdmUgPSBmYWxzZTsKCiAgICAvLyBTZXQgdHJ1ZSBmb3IgYWN0aXZhdGUgaWNvIG1pbnRlZCB0b2tlbnMuCiAgICBib29sIHB1YmxpYyBpc1N1Y2Nlc3NmdWxJY28gPSBmYWxzZTsKfQ=='.
	

]
