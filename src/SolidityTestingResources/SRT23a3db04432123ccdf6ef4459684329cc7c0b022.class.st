Class {
	#name : #SRT23a3db04432123ccdf6ef4459684329cc7c0b022,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT23a3db04432123ccdf6ef4459684329cc7c0b022 >> base64 [
	^ 'LyoqCiAqIEVkZ2VsZXNzIENhc2lubyBQcm94eSBDb250cmFjdC4gU2VydmVzIGFzIGEgcHJveHkgZm9yIGdhbWUgZnVuY3Rpb25hbGl0eS4KICogQWxsb3dzIHRoZSBwbGF5ZXJzIHRvIGRlcG9zaXQgYW5kIHdpdGhkcmF3IGZ1bmRzLgogKiBBbGxvd3MgYXV0aG9yaXplZCBhZGRyZXNzZXMgdG8gbWFrZSBnYW1lIHRyYW5zYWN0aW9ucy4KICogYXV0aG9yOiBKdWxpYSBBbHRlbnJpZWQKICoqLwoKcHJhZ21hIHNvbGlkaXR5IF4gMC40IC4xNzsKCgpjb250cmFjdCB0b2tlbiB7CglmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBzZW5kZXIsIGFkZHJlc3MgcmVjZWl2ZXIsIHVpbnQgYW1vdW50KSBwdWJsaWMgcmV0dXJucyhib29sIHN1Y2Nlc3MpIHt9CgoJZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyByZWNlaXZlciwgdWludCBhbW91bnQpIHB1YmxpYyByZXR1cm5zKGJvb2wgc3VjY2Vzcykge30KCglmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBob2xkZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQpIHt9Cn0KCmNvbnRyYWN0IG93bmVkIHsKCWFkZHJlc3MgcHVibGljIG93bmVyOwoJbW9kaWZpZXIgb25seU93bmVyIHsKCQlyZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoJCV87Cgl9CgoJZnVuY3Rpb24gb3duZWQoKSBwdWJsaWMgewoJCW93bmVyID0gbXNnLnNlbmRlcjsKCX0KCglmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgcHVibGljIHsKCQlvd25lciA9IG5ld093bmVyOwoJfQp9Cgpjb250cmFjdCBzYWZlTWF0aCB7CgkvL2ludGVybmFscwoJZnVuY3Rpb24gc2FmZVN1Yih1aW50IGEsIHVpbnQgYikgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyh1aW50KSB7CgkJYXNzZXJ0KGIgPD0gYSk7CgkJcmV0dXJuIGEgLSBiOwoJfQoKCWZ1bmN0aW9uIHNhZmVBZGQodWludCBhLCB1aW50IGIpIGNvbnN0YW50IGludGVybmFsIHJldHVybnModWludCkgewoJCXVpbnQgYyA9IGEgKyBiOwoJCWFzc2VydChjID49IGEgJiYgYyA+PSBiKTsKCQlyZXR1cm4gYzsKCX0KCglmdW5jdGlvbiBzYWZlTXVsKHVpbnQgYSwgdWludCBiKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zKHVpbnQpIHsKCQl1aW50IGMgPSBhICogYjsKCQlhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwoJCXJldHVybiBjOwoJfQp9Cgpjb250cmFjdCBjYXNpbm9CYW5rIGlzIG93bmVkLCBzYWZlTWF0aCB7CgkvKiogdGhlIHRvdGFsIGJhbGFuY2Ugb2YgYWxsIHBsYXllcnMgd2l0aCA0IHZpcnR1YWwgZGVjaW1hbHMgKiovCgl1aW50IHB1YmxpYyBwbGF5ZXJCYWxhbmNlOwoJLyoqIHRoZSBiYWxhbmNlIHBlciBwbGF5ZXIgaW4gZWRnZWxlc3MgdG9rZW5zIHdpdGggNCB2aXJ0dWFsIGRlY2ltYWxzICovCgltYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcHVibGljIGJhbGFuY2VPZjsKCS8qKiBpbiBjYXNlIHRoZSB1c2VyIHdhbnRzL25lZWRzIHRvIGNhbGwgdGhlIHdpdGhkcmF3IGZ1bmN0aW9uIGZyb20gaGlzIG93biB3YWxsZXQsIGhlIGZpcnN0IG5lZWRzIHRvIHJlcXVlc3QgYSB3aXRoZHJhd2FsICovCgltYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcHVibGljIHdpdGhkcmF3QWZ0ZXI7CgkvKiogdGhlIHByaWNlIHBlciBrZ2FzIGluIHRva2VucyAoNCBkZWNpbWFscykgKi8KCXVpbnQgcHVibGljIGdhc1ByaWNlID0gMjA7CgkvKiogdGhlIGVkZ2VsZXNzIHRva2VuIGNvbnRyYWN0ICovCgl0b2tlbiBlZGc7CgkvKiogb3duZXIgc2hvdWxkIGJlIGFibGUgdG8gY2xvc2UgdGhlIGNvbnRyYWN0IGlzIG5vYm9keSBoYXMgYmVlbiB1c2luZyBpdCBmb3IgYXQgbGVhc3QgMzAgZGF5cyAqLwoJdWludCBwdWJsaWMgY2xvc2VBdDsKCS8qKiBpbmZvcm1zIGxpc3RlbmVycyBob3cgbWFueSB0b2tlbnMgd2VyZSBkZXBvc2l0ZWQgZm9yIGEgcGxheWVyICovCglldmVudCBEZXBvc2l0KGFkZHJlc3MgX3BsYXllciwgdWludCBfbnVtVG9rZW5zLCBib29sIF9jaGFyZ2VHYXMpOwoJLyoqIGluZm9ybXMgbGlzdGVuZXJzIGhvdyBtYW55IHRva2VucyB3ZXJlIHdpdGhkcmF3biBmcm9tIHRoZSBwbGF5ZXIgdG8gdGhlIHJlY2VpdmVyIGFkZHJlc3MgKi8KCWV2ZW50IFdpdGhkcmF3YWwoYWRkcmVzcyBfcGxheWVyLCBhZGRyZXNzIF9yZWNlaXZlciwgdWludCBfbnVtVG9rZW5zKTsKCglmdW5jdGlvbiBjYXNpbm9CYW5rKGFkZHJlc3MgdG9rZW5Db250cmFjdCkgcHVibGljIHsKCQllZGcgPSB0b2tlbih0b2tlbkNvbnRyYWN0KTsKCX0KCgkvKioKCSAqIGFjY2VwdHMgZGVwb3NpdHMgZm9yIGFuIGFyYml0cmFyeSBhZGRyZXNzLgoJICogcmV0cmlldmVzIHRva2VucyBmcm9tIHRoZSBtZXNzYWdlIHNlbmRlciBhbmQgYWRkcyB0aGVtIHRvIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KCSAqIGVkZ2VsZXNzIHRva2VucyBkbyBub3QgaGF2ZSBhbnkgZGVjaW1hbHMsIGJ1dCBhcmUgcmVwcmVzZW50ZWQgb24gdGhpcyBjb250cmFjdCB3aXRoIDQgZGVjaW1hbHMuCgkgKiBAcGFyYW0gcmVjZWl2ZXIgIGFkZHJlc3Mgb2YgdGhlIHJlY2VpdmVyCgkgKiAgICAgICAgbnVtVG9rZW5zIG51bWJlciBvZiB0b2tlbnMgdG8gZGVwb3NpdCAoMCBkZWNpbWFscykKCSAqCQkJCSBjaGFyZ2VHYXMgaW5kaWNhdGVzIGlmIHRoZSBnYXMgY29zdCBpcyBzdWJ0cmFjdGVkIGZyb20gdGhlIHVzZXIncyBlZGdlbGVzcyB0b2tlbiBiYWxhbmNlCgkgKiovCglmdW5jdGlvbiBkZXBvc2l0KGFkZHJlc3MgcmVjZWl2ZXIsIHVpbnQgbnVtVG9rZW5zLCBib29sIGNoYXJnZUdhcykgcHVibGljIGlzQWxpdmUgewoJCXJlcXVpcmUobnVtVG9rZW5zID4gMCk7CgkJdWludCB2YWx1ZSA9IHNhZmVNdWwobnVtVG9rZW5zLCAxMDAwMCk7CgkJaWYgKGNoYXJnZUdhcykgdmFsdWUgPSBzYWZlU3ViKHZhbHVlLCBtc2cuZ2FzIC8gMTAwMCAqIGdhc1ByaWNlKTsKCQlhc3NlcnQoZWRnLnRyYW5zZmVyRnJvbShtc2cuc2VuZGVyLCBhZGRyZXNzKHRoaXMpLCBudW1Ub2tlbnMpKTsKCQliYWxhbmNlT2ZbcmVjZWl2ZXJdID0gc2FmZUFkZChiYWxhbmNlT2ZbcmVjZWl2ZXJdLCB2YWx1ZSk7CgkJcGxheWVyQmFsYW5jZSA9IHNhZmVBZGQocGxheWVyQmFsYW5jZSwgdmFsdWUpOwoJCURlcG9zaXQocmVjZWl2ZXIsIG51bVRva2VucywgY2hhcmdlR2FzKTsKCX0KCgkvKioKCSAqIElmIHRoZSB1c2VyIHdhbnRzL25lZWRzIHRvIHdpdGhkcmF3IGhpcyBmdW5kcyBoaW1zZWxmLCBoZSBuZWVkcyB0byByZXF1ZXN0IHRoZSB3aXRoZHJhd2FsIGZpcnN0LgoJICogVGhpcyBtZXRob2Qgc2V0cyB0aGUgZWFybGllc3QgcG9zc2libGUgd2l0aGRyYXdhbCBkYXRlIHRvIDcgbWludXRlcyBmcm9tIG5vdy4gCgkgKiBSZWFzb246IFRoZSB1c2VyIHNob3VsZCBub3QgYmUgYWJsZSB0byB3aXRoZHJhdyBoaXMgZnVuZHMsIHdoaWxlIHRoZSB0aGUgbGFzdCBnYW1lIG1ldGhvZHMgaGF2ZSBub3QgeWV0IGJlZW4gbWluZWQuCgkgKiovCglmdW5jdGlvbiByZXF1ZXN0V2l0aGRyYXdhbCgpIHB1YmxpYyB7CgkJd2l0aGRyYXdBZnRlclttc2cuc2VuZGVyXSA9IG5vdyArIDcgbWludXRlczsKCX0KCgkvKioKCSAqIEluIGNhc2UgdGhlIHVzZXIgcmVxdWVzdGVkIGEgd2l0aGRyYXdhbCBhbmQgY2hhbmdlcyBoaXMgbWluZC4KCSAqIE5lY2Vzc2FyeSB0byBiZSBhYmxlIHRvIGNvbnRpbnVlIHBsYXlpbmcuCgkgKiovCglmdW5jdGlvbiBjYW5jZWxXaXRoZHJhd2FsUmVxdWVzdCgpIHB1YmxpYyB7CgkJd2l0aGRyYXdBZnRlclttc2cuc2VuZGVyXSA9IDA7Cgl9CgoJLyoqCgkgKiB3aXRoZHJhd3MgYW4gYW1vdW50IGZyb20gdGhlIHVzZXIgYmFsYW5jZSBpZiA3IG1pbnV0ZXMgcGFzc2VkIHNpbmNlIHRoZSByZXF1ZXN0LgoJICogQHBhcmFtIGFtb3VudCB0aGUgYW1vdW50IG9mIHRva2VucyB0byB3aXRoZHJhdwoJICoqLwoJZnVuY3Rpb24gd2l0aGRyYXcodWludCBhbW91bnQpIHB1YmxpYyBrZWVwQWxpdmUgewoJCXJlcXVpcmUod2l0aGRyYXdBZnRlclttc2cuc2VuZGVyXSA+IDAgJiYgbm93ID4gd2l0aGRyYXdBZnRlclttc2cuc2VuZGVyXSk7CgkJd2l0aGRyYXdBZnRlclttc2cuc2VuZGVyXSA9IDA7CgkJdWludCB2YWx1ZSA9IHNhZmVNdWwoYW1vdW50LCAxMDAwMCk7CgkJYmFsYW5jZU9mW21zZy5zZW5kZXJdID0gc2FmZVN1YihiYWxhbmNlT2ZbbXNnLnNlbmRlcl0sIHZhbHVlKTsKCQlwbGF5ZXJCYWxhbmNlID0gc2FmZVN1YihwbGF5ZXJCYWxhbmNlLCB2YWx1ZSk7CgkJYXNzZXJ0KGVkZy50cmFuc2Zlcihtc2cuc2VuZGVyLCBhbW91bnQpKTsKCQlXaXRoZHJhd2FsKG1zZy5zZW5kZXIsIG1zZy5zZW5kZXIsIGFtb3VudCk7Cgl9CgoJLyoqCgkgKiBsZXRzIHRoZSBvd25lciB3aXRoZHJhdyBmcm9tIHRoZSBiYW5rcm9sbAoJICogQHBhcmFtIG51bVRva2VucyB0aGUgbnVtYmVyIG9mIHRva2VucyB0byB3aXRoZHJhdyAoMCBkZWNpbWFscykKCSAqKi8KCWZ1bmN0aW9uIHdpdGhkcmF3QmFua3JvbGwodWludCBudW1Ub2tlbnMpIHB1YmxpYyBvbmx5T3duZXIgewoJCXJlcXVpcmUobnVtVG9rZW5zIDw9IGJhbmtyb2xsKCkpOwoJCWFzc2VydChlZGcudHJhbnNmZXIob3duZXIsIG51bVRva2VucykpOwoJfQoKCS8qKgoJICogcmV0dXJucyB0aGUgY3VycmVudCBiYW5rcm9sbCBpbiB0b2tlbnMgd2l0aCAwIGRlY2ltYWxzCgkgKiovCglmdW5jdGlvbiBiYW5rcm9sbCgpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zKHVpbnQpIHsKCQlyZXR1cm4gc2FmZVN1YihlZGcuYmFsYW5jZU9mKGFkZHJlc3ModGhpcykpLCBwbGF5ZXJCYWxhbmNlIC8gMTAwMDApOwoJfQoKCS8qKiAKCSAqIGxldHMgdGhlIG93bmVyIGNsb3NlIHRoZSBjb250cmFjdCBpZiB0aGVyZSBhcmUgbm8gcGxheWVyIGZ1bmRzIG9uIGl0IG9yIGlmIG5vYm9keSBoYXMgYmVlbiB1c2luZyBpdCBmb3IgYXQgbGVhc3QgMzAgZGF5cyAKCSAqLwoJZnVuY3Rpb24gY2xvc2UoKSBvbmx5T3duZXIgcHVibGljIHsKCQlpZiAocGxheWVyQmFsYW5jZSA9PSAwKSBzZWxmZGVzdHJ1Y3Qob3duZXIpOwoJCWlmIChjbG9zZUF0ID09IDApIGNsb3NlQXQgPSBub3cgKyAzMCBkYXlzOwoJCWVsc2UgaWYgKGNsb3NlQXQgPCBub3cpIHNlbGZkZXN0cnVjdChvd25lcik7Cgl9CgoJLyoqCgkgKiBpbiBjYXNlIGNsb3NlIGhhcyBiZWVuIGNhbGxlZCBhY2NpZGVudGFsbHkuCgkgKiovCglmdW5jdGlvbiBvcGVuKCkgb25seU93bmVyIHB1YmxpYyB7CgkJY2xvc2VBdCA9IDA7Cgl9CgoJLyoqCgkgKiBtYWtlIHN1cmUgdGhlIGNvbnRyYWN0IGlzIG5vdCBpbiBwcm9jZXNzIG9mIGJlaW5nIGNsb3NlZC4KCSAqKi8KCW1vZGlmaWVyIGlzQWxpdmUgewoJCXJlcXVpcmUoY2xvc2VBdCA9PSAwKTsKCQlfOwoJfQoKCS8qKgoJICogZGVsYXlzIHRoZSB0aW1lIG9mIGNsb3NpbmcuCgkgKiovCgltb2RpZmllciBrZWVwQWxpdmUgewoJCWlmIChjbG9zZUF0ID4gMCkgY2xvc2VBdCA9IG5vdyArIDMwIGRheXM7CgkJXzsKCX0KfQoKY29udHJhY3QgY2FzaW5vUHJveHkgaXMgY2FzaW5vQmFuayB7CgkvKiogaW5kaWNhdGVzIGlmIGFuIGFkZHJlc3MgaXMgYXV0aG9yaXplZCB0byBjYWxsIGdhbWUgZnVuY3Rpb25zICAqLwoJbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBhdXRob3JpemVkOwoJLyoqIGxpc3Qgb2YgY2FzaW5vIGdhbWUgY29udHJhY3QgYWRkcmVzc2VzICovCglhZGRyZXNzW10gcHVibGljIGNhc2lub0dhbWVzOwoJLyoqIGEgbnVtYmVyIHRvIGNvdW50IHdpdGhkcmF3YWwgc2lnbmF0dXJlcyB0byBlbnN1cmUgZWFjaCBzaWduYXR1cmUgaXMgZGlmZmVyZW50IGV2ZW4gaWYgd2l0aGRyYXdpbmcgdGhlIHNhbWUgYW1vdW50IHRvIHRoZSBzYW1lIGFkZHJlc3MgKi8KCW1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgY291bnQ7CgoJbW9kaWZpZXIgb25seUF1dGhvcml6ZWQgewoJCXJlcXVpcmUoYXV0aG9yaXplZFttc2cuc2VuZGVyXSk7CgkJXzsKCX0KCgltb2RpZmllciBvbmx5Q2FzaW5vR2FtZXMgewoJCWJvb2wgaXNDYXNpbm87CgkJZm9yICh1aW50IGkgPSAwOyBpIDwgY2FzaW5vR2FtZXMubGVuZ3RoOyBpKyspIHsKCQkJaWYgKG1zZy5zZW5kZXIgPT0gY2FzaW5vR2FtZXNbaV0pIHsKCQkJCWlzQ2FzaW5vID0gdHJ1ZTsKCQkJCWJyZWFrOwoJCQl9CgkJfQoJCXJlcXVpcmUoaXNDYXNpbm8pOwoJCV87Cgl9CgoJLyoqCgkgKiBjcmVhdGVzIGEgbmV3IGNhc2lubyB3YWxsZXQuCgkgKiBAcGFyYW0gYXV0aG9yaXplZEFkZHJlc3MgdGhlIGFkZHJlc3Mgd2hpY2ggbWF5IHNlbmQgdHJhbnNhY3Rpb25zIHRvIHRoZSBFZGdlbGVzcyBDYXNpbm8KCSAqICAgICAgICBibGFja2phY2tBZGRyZXNzICB0aGUgYWRkcmVzcyBvZiB0aGUgRWRnZWxlc3MgYmxhY2tqYWNrIGNvbnRyYWN0CgkgKgkJCQkgdG9rZW5Db250cmFjdCAgICAgdGhlIGFkZHJlc3Mgb2YgdGhlIEVkZ2VsZXNzIHRva2VuIGNvbnRyYWN0CgkgKiovCglmdW5jdGlvbiBjYXNpbm9Qcm94eShhZGRyZXNzIGF1dGhvcml6ZWRBZGRyZXNzLCBhZGRyZXNzIGJsYWNramFja0FkZHJlc3MsIGFkZHJlc3MgdG9rZW5Db250cmFjdCkgY2FzaW5vQmFuayh0b2tlbkNvbnRyYWN0KSBwdWJsaWMgewoJCWF1dGhvcml6ZWRbYXV0aG9yaXplZEFkZHJlc3NdID0gdHJ1ZTsKCQljYXNpbm9HYW1lcy5wdXNoKGJsYWNramFja0FkZHJlc3MpOwoJfQoKCS8qKgoJICogc2hpZnRzIHRva2VucyBmcm9tIHRoZSBjb250cmFjdCBiYWxhbmNlIHRvIHRoZSByZWNlaXZlci4KCSAqIG9ubHkgY2FsbGFibGUgZnJvbSBhbiBlZGdlbGVzcyBjYXNpbm8gY29udHJhY3QuCgkgKiBAcGFyYW0gcmVjZWl2ZXIgdGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2VpdmVyCgkgKiAgICAgICAgbnVtVG9rZW5zIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIHNoaWZ0IHdpdGggNCBkZWNpbWFscwoJICoqLwoJZnVuY3Rpb24gc2hpZnQoYWRkcmVzcyByZWNlaXZlciwgdWludCBudW1Ub2tlbnMpIHB1YmxpYyBvbmx5Q2FzaW5vR2FtZXMgewoJCWJhbGFuY2VPZltyZWNlaXZlcl0gPSBzYWZlQWRkKGJhbGFuY2VPZltyZWNlaXZlcl0sIG51bVRva2Vucyk7CgkJcGxheWVyQmFsYW5jZSA9IHNhZmVBZGQocGxheWVyQmFsYW5jZSwgbnVtVG9rZW5zKTsKCX0KCgkvKioKCSAqIHRyYW5zZmVycyBhbiBhbW91bnQgZnJvbSB0aGUgY29udHJhY3QgYmFsYW5jZSB0byB0aGUgb3duZXIncyB3YWxsZXQuCgkgKiBAcGFyYW0gcmVjZWl2ZXIgdGhlIHJlY2VpdmVyIGFkZHJlc3MKCSAqCQkJCSBhbW91bnQgICB0aGUgYW1vdW50IG9mIHRva2VucyB0byB3aXRoZHJhdyAoMCBkZWNpbWFscykKCSAqCQkJCSB2LHIscyAJCXRoZSBzaWduYXR1cmUgb2YgdGhlIHBsYXllcgoJICoqLwoJZnVuY3Rpb24gd2l0aGRyYXdGb3IoYWRkcmVzcyByZWNlaXZlciwgdWludCBhbW91bnQsIHVpbnQ4IHYsIGJ5dGVzMzIgciwgYnl0ZXMzMiBzKSBwdWJsaWMgb25seUF1dGhvcml6ZWQga2VlcEFsaXZlIHsKCQl1aW50IGdhc0Nvc3QgPSBtc2cuZ2FzIC8gMTAwMCAqIGdhc1ByaWNlOwoJCXZhciBwbGF5ZXIgPSBlY3JlY292ZXIoa2VjY2FrMjU2KHJlY2VpdmVyLCBhbW91bnQsIGNvdW50W3JlY2VpdmVyXSksIHYsIHIsIHMpOwoJCWNvdW50W3JlY2VpdmVyXSsrOwoJCXVpbnQgdmFsdWUgPSBzYWZlQWRkKHNhZmVNdWwoYW1vdW50LCAxMDAwMCksIGdhc0Nvc3QpOwoJCWJhbGFuY2VPZltwbGF5ZXJdID0gc2FmZVN1YihiYWxhbmNlT2ZbcGxheWVyXSwgdmFsdWUpOwoJCXBsYXllckJhbGFuY2UgPSBzYWZlU3ViKHBsYXllckJhbGFuY2UsIHZhbHVlKTsKCQlhc3NlcnQoZWRnLnRyYW5zZmVyKHJlY2VpdmVyLCBhbW91bnQpKTsKCQlXaXRoZHJhd2FsKHBsYXllciwgcmVjZWl2ZXIsIGFtb3VudCk7Cgl9CgoJLyoqCgkgKiB1cGRhdGUgYSBjYXNpbm8gZ2FtZSBhZGRyZXNzIGluIGNhc2Ugb2YgYSBuZXcgY29udHJhY3Qgb3IgYSBuZXcgY2FzaW5vIGdhbWUKCSAqIEBwYXJhbSBnYW1lICAgICAgIHRoZSBpbmRleCBvZiB0aGUgZ2FtZSAKCSAqICAgICAgICBuZXdBZGRyZXNzIHRoZSBuZXcgYWRkcmVzcyBvZiB0aGUgZ2FtZQoJICoqLwoJZnVuY3Rpb24gc2V0R2FtZUFkZHJlc3ModWludDggZ2FtZSwgYWRkcmVzcyBuZXdBZGRyZXNzKSBwdWJsaWMgb25seU93bmVyIHsKCQlpZiAoZ2FtZSA8IGNhc2lub0dhbWVzLmxlbmd0aCkgY2FzaW5vR2FtZXNbZ2FtZV0gPSBuZXdBZGRyZXNzOwoJCWVsc2UgY2FzaW5vR2FtZXMucHVzaChuZXdBZGRyZXNzKTsKCX0KCgkvKioKCSAqIGF1dGhvcml6ZSBhIGFkZHJlc3MgdG8gY2FsbCBnYW1lIGZ1bmN0aW9ucy4KCSAqIEBwYXJhbSBhZGRyIHRoZSBhZGRyZXNzIHRvIGJlIGF1dGhvcml6ZWQKCSAqKi8KCWZ1bmN0aW9uIGF1dGhvcml6ZShhZGRyZXNzIGFkZHIpIHB1YmxpYyBvbmx5T3duZXIgewoJCWF1dGhvcml6ZWRbYWRkcl0gPSB0cnVlOwoJfQoKCS8qKgoJICogZGVhdXRob3JpemUgYSBhZGRyZXNzIHRvIGNhbGwgZ2FtZSBmdW5jdGlvbnMuCgkgKiBAcGFyYW0gYWRkciB0aGUgYWRkcmVzcyB0byBiZSBkZWF1dGhvcml6ZWQKCSAqKi8KCWZ1bmN0aW9uIGRlYXV0aG9yaXplKGFkZHJlc3MgYWRkcikgcHVibGljIG9ubHlPd25lciB7CgkJYXV0aG9yaXplZFthZGRyXSA9IGZhbHNlOwoJfQoKCS8qKgoJICogdXBkYXRlcyB0aGUgcHJpY2UgcGVyIDEwMDAgZ2FzIGluIEVERy4KCSAqIEBwYXJhbSBwcmljZSB0aGUgbmV3IGdhcyBwcmljZSAoNCBkZWNpbWFscywgbWF4IDAuMDI1NiBFREcpCgkgKiovCglmdW5jdGlvbiBzZXRHYXNQcmljZSh1aW50OCBwcmljZSkgcHVibGljIG9ubHlPd25lciB7CgkJZ2FzUHJpY2UgPSBwcmljZTsKCX0KCgkvKioKCSAqIEZvcndhcmRzIGEgbW92ZSB0byB0aGUgY29ycmVzcG9uZGluZyBnYW1lIGNvbnRyYWN0IGlmIHRoZSBkYXRhIGhhcyBiZWVuIHNpZ25lZCBieSB0aGUgY2xpZW50LgoJICogVGhlIGNhc2lubyBjb250cmFjdCBlbnN1cmVzIGl0IGlzIG5vIGR1cGxpY2F0ZSBtb3ZlLgoJICogQHBhcmFtIGdhbWUgIHNwZWNpZmllcyB3aGljaCBnYW1lIGNvbnRyYWN0IHRvIGNhbGwKCSAqICAgICAgICB2YWx1ZSB0aGUgdmFsdWUgdG8gc2VuZCB0byB0aGUgY29udHJhY3QgaW4gdG9rZW5zIHdpdGggNCBkZWNpbWFscwoJICogICAgICAgIGRhdGEgIHRoZSBmdW5jdGlvbiBjYWxsCgkgKiAgICAgICAgdixyLHMgdGhlIHBsYXllcidzIHNpZ25hdHVyZSBvZiB0aGUgZGF0YQoJICoqLwoJZnVuY3Rpb24gbW92ZSh1aW50OCBnYW1lLCB1aW50IHZhbHVlLCBieXRlcyBkYXRhLCB1aW50OCB2LCBieXRlczMyIHIsIGJ5dGVzMzIgcykgcHVibGljIG9ubHlBdXRob3JpemVkIGlzQWxpdmUgewoJCXJlcXVpcmUoZ2FtZSA8IGNhc2lub0dhbWVzLmxlbmd0aCk7CgkJcmVxdWlyZShzYWZlTXVsKGJhbmtyb2xsKCksIDEwMDAwKSA+IHZhbHVlICogOCk7IC8vbWFrZSBzdXJlLCB0aGUgY2FzaW5vIGNhbiBhbHdheXMgcGF5IG91dCB0aGUgcGxheWVyCgkJdmFyIHBsYXllciA9IGVjcmVjb3ZlcihrZWNjYWsyNTYoZGF0YSksIHYsIHIsIHMpOwoJCXJlcXVpcmUod2l0aGRyYXdBZnRlcltwbGF5ZXJdID09IDAgfHwgbm93IDwgd2l0aGRyYXdBZnRlcltwbGF5ZXJdKTsKCQl2YWx1ZSA9IHNhZmVBZGQodmFsdWUsIG1zZy5nYXMgLyAxMDAwICogZ2FzUHJpY2UpOwoJCWJhbGFuY2VPZltwbGF5ZXJdID0gc2FmZVN1YihiYWxhbmNlT2ZbcGxheWVyXSwgdmFsdWUpOwoJCXBsYXllckJhbGFuY2UgPSBzYWZlU3ViKHBsYXllckJhbGFuY2UsIHZhbHVlKTsKCQlhc3NlcnQoY2FzaW5vR2FtZXNbZ2FtZV0uY2FsbChkYXRhKSk7Cgl9CgoKfQ=='.
	

]
