Class {
	#name : #SRTc1ec40b714281519ea367eb06429d1701ed18b5f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc1ec40b714281519ea367eb06429d1701ed18b5f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjA7CgoKbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmIChhID09IDApIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIHJlcXVpcmUoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJlcXVpcmUoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIHJlcXVpcmUoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKCgoKY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIHN0cmluZyBwdWJsaWMgbmFtZTsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgdWludDMyIHB1YmxpYyBkZWNpbWFsczsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCgoKCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHVpbnQyNTYgX3ZhbHVlID0gX2Ftb3VudDsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwoKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGVtaXQgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CiAgCiAgICAKCn0KCgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBpbnRlcm5hbCBhbGxvd2VkOwoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1tfZnJvbV0pOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0pOwoKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGVtaXQgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgZW1pdCBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9CgogIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgIGVtaXQgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICB1aW50IG9sZFZhbHVlID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl07CiAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgfQogICAgZW1pdCBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKfQoKCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZSggbmV3T3duZXIgIT0gYWRkcmVzcygwKSApOwogICAgZW1pdCBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cgp9CgoKCgoKCgoKCgoKCgoKCmNvbnRyYWN0IEF0aENyb3dkc2FsZUludGVyZmFjZQp7CiAgICBmdW5jdGlvbiBpbnZlc3RvcnNDb3VudCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKCB1aW50MjU2ICk7CiAgICAKICAgIGZ1bmN0aW9uIGludmVzdG9yc0FkZHJlc3MoIHVpbnQyNTYgX2kgKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyggYWRkcmVzcyApOwogICAgCiAgICBmdW5jdGlvbiBpbnZlc3RvcnNJbmZvKCBhZGRyZXNzIF9hICkgcHVibGljIGNvbnN0YW50IHJldHVybnMoIHVpbnQyNTYsIHVpbnQyNTYgKTsKICAgIAogICAgZnVuY3Rpb24gaW52ZXN0b3JzU3RvY2tJbmZvKCBhZGRyZXNzIF9hICkgcHVibGljIGNvbnN0YW50IHJldHVybnMoIHVpbnQyNTYgKTsKICAgIAogICAgZnVuY3Rpb24gZ2V0T3duZXJzKHVpbnQ4KSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyggYWRkcmVzcyApOwp9CiAKIAoKCmNvbnRyYWN0IEF0aFRva2VuQmFzZSBpcyBPd25hYmxlLCBTdGFuZGFyZFRva2VuewogICAgCiAgICBhZGRyZXNzIGNyb3dkc2FsZTsKICAgIEF0aENyb3dkc2FsZUludGVyZmFjZSBjcm93ZHNhbGVJbnRlcmZhY2U7CiAgICAKICAgIAogICAgdWludDI1NiBwdWJsaWMgcmVkZW1wdGlvbkZ1bmQgPSAwOwogICAgdWludDI1NiBwdWJsaWMgcmVkZW1wdGlvbkZ1bmRUb3RhbCA9IDA7CiAgICB1aW50MjU2IHB1YmxpYyByZWRlbXB0aW9uUHJpY2UgPSAwOwogICAgCiAgICBtb2RpZmllciBvbmx5Q3Jvd2RzYWxlKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBjcm93ZHNhbGUpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIEF0aFRva2VuQmFzZSgpIHB1YmxpYyAKICAgIHsKICAgICAgICBuYW1lICAgICAgICAgICAgICAgICAgICA9ICJFdGhlcmV1bSBBbm9ueW1pemVyIjsKICAgICAgICBzeW1ib2wgICAgICAgICAgICAgICAgICA9ICJBVEgiOwogICAgICAgIGRlY2ltYWxzICAgICAgICAgICAgICAgID0gMTg7CiAgICAgICAgdG90YWxTdXBwbHkgICAgICAgICAgICAgPSAyMTAwMDAwMCBldGhlcjsKICAgICAgICBiYWxhbmNlc1thZGRyZXNzKHRoaXMpXSA9IHRvdGFsU3VwcGx5OwogICAgfQogICAgCiAgICAKICAgIAogICAgZnVuY3Rpb24gc2V0Q3Jvd2RzYWxlKCBhZGRyZXNzIF9hICkgcHVibGljIG9ubHlPd25lciByZXR1cm5zKCBib29sICkKICAgIHsKICAgICAgICBjcm93ZHNhbGUgPSBfYTsKICAgICAgICBjcm93ZHNhbGVJbnRlcmZhY2UgPSBBdGhDcm93ZHNhbGVJbnRlcmZhY2UoIF9hICk7CiAgICB9CiAgICAKCiAgICBmdW5jdGlvbiBkZWxpdmVyeSggYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCApIHB1YmxpYyBvbmx5Q3Jvd2RzYWxlIHJldHVybnMoIGJvb2wgKQogICAgewogICAgICAgIHJlcXVpcmUoIF90byAhPSBhZGRyZXNzKDApICk7CiAgICAgICAgcmVxdWlyZShfYW1vdW50IDw9IGJhbGFuY2VzW2FkZHJlc3ModGhpcyldICk7CiAgICAgICAgYmFsYW5jZXNbYWRkcmVzcyh0aGlzKV0gPSBiYWxhbmNlc1thZGRyZXNzKHRoaXMpXS5zdWIoIF9hbW91bnQgKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoIF9hbW91bnQgKTsKICAgICAgICAKICAgICAgICBlbWl0IFRyYW5zZmVyKCBhZGRyZXNzKHRoaXMpLCBfdG8sIF9hbW91bnQgKTsKICAgICAgICAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY3VycmVudEJhbGFuY2UoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyggdWludDI1NiApCiAgICB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzWyBhZGRyZXNzKHRoaXMpIF07CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGFmdGVySWNvKCB1aW50MjU2IF9yZWRlbXB0aW9uUHJpY2UgKSBwdWJsaWMgb25seUNyb3dkc2FsZSByZXR1cm5zKCBib29sICkKICAgIHsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YiggYmFsYW5jZXNbIGFkZHJlc3ModGhpcykgXSApOwogICAgICAgIGJhbGFuY2VzW2FkZHJlc3ModGhpcyldID0gMDsKICAgICAgICByZWRlbXB0aW9uUHJpY2UgPSBfcmVkZW1wdGlvblByaWNlOwogICAgfQogICAgCgogICAKfQoKCgoKCgpjb250cmFjdCBIZWxwZXJ7CiAgICBmdW5jdGlvbiBnZW5lcmF0ZVBBU1MxKCBhZGRyZXNzICkgcHVibGljIHB1cmUgcmV0dXJucyggYnl0ZXMzMiApOwogICAgZnVuY3Rpb24gZ2VuZXJhdGVQQVNTMiggYnl0ZXMzMiwgYWRkcmVzcyApIHB1YmxpYyBwdXJlIHJldHVybnMoIGJ5dGVzMzIgKTsKICAgIGZ1bmN0aW9uIGdlbmVyYXRlUEFTUzMoIGJ5dGVzMzIgKSBwdWJsaWMgcHVyZSByZXR1cm5zKCBieXRlczMyICk7CiAgICBmdW5jdGlvbiBnZW5lcmF0ZU5VTUVSSUModWludCkgcHVibGljIGNvbnN0YW50IHJldHVybnMoIHVpbnQgKTsKICAgIGZ1bmN0aW9uIGVuY3J5cHRDb3VudGVyKCB1aW50IGNvdW50ICkgcHVibGljIGNvbnN0YW50IHJldHVybnMoIHVpbnQgKTsKICAgIGZ1bmN0aW9uIGVuY29kZUFtb3VudCh1aW50LCB1aW50KSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyggdWludCApOwogICAgZnVuY3Rpb24gZGVjb2RlQW1vdW50KHVpbnQsIHVpbnQpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKCB1aW50ICk7Cn0KCgoKY29udHJhY3QgQXRoVG9rZW4gaXMgQXRoVG9rZW5CYXNlewogICAgCiAgICBIZWxwZXIgaGVscGVyOwogICAgCiAgICAKICAgIAogICAgdWludDI1NiBwcml2YXRlIF9lbmNyeXB0Q291bnRlciA9IDE7CiAgICAKICAgIHVpbnQ4IHB1YmxpYyBldGhQcmljZUluICA9IDk4OwogICAgLy8gdWludDggcHVibGljIHRva2VuUHJpY2VJbiAgPSA5ODsKICAgIAogICAgdWludDI1NiBwdWJsaWMgcmFuc29tID0gMDsKICAgIAogICAgbWFwcGluZyggYWRkcmVzcyA9PiB1aW50MjU2ICkgZXRoQmFsYW5jZXM7CiAgICBtYXBwaW5nKCBhZGRyZXNzID0+IG1hcHBpbmcoIGFkZHJlc3MgPT4gdWludDI1NiApICkgdG9rZW5CYWxhbmNlczsKICAgIAogICAgCiAgICBzdHJ1Y3QgSW52b2ljZXsKICAgICAgICBhZGRyZXNzIGJ1eWVyOwogICAgICAgIGFkZHJlc3Mgc2VsbGVyOwogICAgICAgIHVpbnQyNTYgdG9rZW5OdW1lcmljOwogICAgICAgIHVpbnQyNTYgdG9rZW5zOwogICAgICAgIGJ5dGVzMSBzdGF0ZTsKICAgICAgICBieXRlczEgbWV0aG9kOwogICAgICAgIGFkZHJlc3MgdG9rZW47CiAgICB9CiAgICAKICAgIAogICAgCiAgICB1aW50IGNvbnN0YW50IGludm9pY2VzU3RhY2tMaW1pdCA9IDUwOwogICAgYnl0ZXMzMls1MF0gaW52b2ljZXNTdGFjazsKICAgIHVpbnQgcHVibGljIGludm9pY2VzU3RhY2tDb3VudDsKICAgIAogICAgCiAgICAKICAgIG1hcHBpbmcoIGJ5dGVzMzIgPT4gSW52b2ljZSApIGludm9pY2VzOwogICAgbWFwcGluZyggYWRkcmVzcyA9PiBieXRlczMyICkgYnV5ZXJzUEFTUzE7CiAgICBtYXBwaW5nKCBhZGRyZXNzID0+IGJ5dGVzMzIgKSBidXllcnNQQVNTMzsKICAgIG1hcHBpbmcoIGJ5dGVzMzIgPT4gYnl0ZXMzMiApIFBBU1MzdG9QQVNTMTsKICAgIG1hcHBpbmcoIGJ5dGVzMzIgPT4gYnl0ZXMzMiApIHNlbGxlcnNQQVNTMjsKICAgIAogICAgCiAgICAKICAgCiAgIAogICBmdW5jdGlvbiBzZWxsQXRoKCB1aW50MjU2IF9hbW91bnQgKSBwdWJsaWMgcmV0dXJucyggYm9vbCApCiAgIHsgICAgLy9pbnZlc3RvcnMKICAgICAgcmVxdWlyZSggcmVkZW1wdGlvbkZ1bmQgPj0gX2Ftb3VudCAmJiByZWRlbXB0aW9uUHJpY2UgPiAwICYmIGNyb3dkc2FsZUludGVyZmFjZS5pbnZlc3RvcnNTdG9ja0luZm8oIG1zZy5zZW5kZXIgKSA+IDAgKTsKICAgICAgIAogICAgICAgdWludDI1NiB0bXAgPSAgX2Ftb3VudC5tdWwoIHJlZGVtcHRpb25QcmljZSApIDsKICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoIHRtcCApOwogICAgICAgYmFsYW5jZXNbIG1zZy5zZW5kZXIgXSA9IGJhbGFuY2VzWyBtc2cuc2VuZGVyIF0uc3ViKCBfYW1vdW50ICk7CiAgICAgICAKICAgICAgIHJlZGVtcHRpb25GdW5kID0gcmVkZW1wdGlvbkZ1bmQuc3ViKCB0bXAgKTsKICAgICAgIAogICAgICBiYWxhbmNlc1tjcm93ZHNhbGVJbnRlcmZhY2UuZ2V0T3duZXJzKCAwICldID0gYmFsYW5jZXNbY3Jvd2RzYWxlSW50ZXJmYWNlLmdldE93bmVycyggMCApXS5hZGQoIF9hbW91bnQuZGl2KDIpICk7CiAgICAgIGJhbGFuY2VzW2Nyb3dkc2FsZUludGVyZmFjZS5nZXRPd25lcnMoIDEgKV0gPSBiYWxhbmNlc1tjcm93ZHNhbGVJbnRlcmZhY2UuZ2V0T3duZXJzKCAxICldLmFkZCggX2Ftb3VudC5kaXYoMikgKTsKICAgfQogICAKICAgCiAgIAogICBmdW5jdGlvbiByZXBsZW5pc2hFdGgoKSBwdWJsaWMgcGF5YWJsZQogICB7CiAgICAKICAgICAgIHVpbnQgdG1wID0gbXNnLnZhbHVlLm11bCggZXRoUHJpY2VJbiApLmRpdiggMTAwICk7CiAgICAgICAKICAgICAgIGV0aEJhbGFuY2VzW21zZy5zZW5kZXJdKz0gdG1wOwogICAgICAgCiAgICAgICB1aW50MjU2IHJlbWFpbmRlciA9IG1zZy52YWx1ZS5zdWIoIHRtcCApOwogICAgICAgCiAgICAgICAKICAgICAgIGlmKCByZWRlbXB0aW9uRnVuZFRvdGFsIDwgdG90YWxTdXBwbHkgKXsKICAgICAgICAgICAKICAgICAgICAgICByZWRlbXB0aW9uRnVuZCA9IHJlZGVtcHRpb25GdW5kLmFkZCggcmVtYWluZGVyICk7CiAgICAgICAgICAgcmVkZW1wdGlvbkZ1bmRUb3RhbCA9IHJlZGVtcHRpb25GdW5kVG90YWwuYWRkKCByZW1haW5kZXIgKTsKICAgICAgICAgICAKICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgCiAgICAgICAgICAgZm9yKCB1aW50MjU2IGkgPSAwOyBpIDw9IGNyb3dkc2FsZUludGVyZmFjZS5pbnZlc3RvcnNDb3VudCgpIC0gMTsgaSsrICl7CiAgICAgICAgICAgICAgIGNyb3dkc2FsZUludGVyZmFjZS5pbnZlc3RvcnNBZGRyZXNzKGkpLnRyYW5zZmVyKCAgcmVtYWluZGVyLm11bCggY3Jvd2RzYWxlSW50ZXJmYWNlLmludmVzdG9yc1N0b2NrSW5mbyhjcm93ZHNhbGVJbnRlcmZhY2UuaW52ZXN0b3JzQWRkcmVzcyhpKSkgKS5kaXYoIDIwMCApICApOwogICAgICAgICAgIH0KICAgICAgICAgICAKICAgICAgICAgICBjcm93ZHNhbGVJbnRlcmZhY2UuZ2V0T3duZXJzKCAwICkudHJhbnNmZXIoIHJlbWFpbmRlci5kaXYoIDQgKSApOwogICAgICAgICAgIGNyb3dkc2FsZUludGVyZmFjZS5nZXRPd25lcnMoIDEgKS50cmFuc2ZlciggcmVtYWluZGVyLmRpdiggNCApICk7CiAgICAgICAgICAgCiAgICAgICB9CiAgICAgICAKICAgICAgIAogICAgICAgCiAgICAgICAKICAgICAgIAogICB9CiAgIAoKICAgCiAgIGZ1bmN0aW9uIHJlcGxlbmlzaFRva2VucyhhZGRyZXNzIF9hLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYwogICB7CiAgICAgICBTdGFuZGFyZFRva2VuIHRva2VuID0gU3RhbmRhcmRUb2tlbiggX2EgKTsKICAgICAgIHJlcXVpcmUoIF9hbW91bnQgPD0gdG9rZW4uYmFsYW5jZU9mKCBtc2cuc2VuZGVyICkgKTsKICAgICAgIHRva2VuLnRyYW5zZmVyRnJvbSggbXNnLnNlbmRlciwgdGhpcywgX2Ftb3VudCk7CiAgICAgICAKICAgICAgIHRva2VuQmFsYW5jZXNbbXNnLnNlbmRlcl1bX2FdID0gdG9rZW5CYWxhbmNlc1ttc2cuc2VuZGVyXVtfYV0uYWRkKCBfYW1vdW50ICk7CiAgICAgICAKICAgfQogICAKICAgZnVuY3Rpb24gdG9rZW5CYWxhbmNlKGFkZHJlc3MgX2EpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYpCiAgIHsKICAgICAgIHJldHVybiAoIHRva2VuQmFsYW5jZXNbbXNnLnNlbmRlcl1bX2FdICk7CiAgIH0KICAgCiAgIGZ1bmN0aW9uIGV0aEJhbGFuY2UoYWRkcmVzcyBfYSkgcHVibGljIGNvbnN0YW50IHJldHVybnModWludDI1NikKICAgewogICAgICAgcmV0dXJuICggZXRoQmFsYW5jZXNbX2FdICk7CiAgIH0KICAgZnVuY3Rpb24gZXRoQ29udHJhY3RCYWxhbmNlKCkgcHVibGljIGNvbnN0YW50IHJldHVybnModWludDI1NikKICAgewogICAgICAgcmV0dXJuIGFkZHJlc3ModGhpcykuYmFsYW5jZTsKICAgfQogICBmdW5jdGlvbiBldGhCYXNlQmFsYW5jZShhZGRyZXNzIF9hKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KQogICB7CiAgICAgICByZXR1cm4gKCBfYS5iYWxhbmNlICk7CiAgIH0KICAgZnVuY3Rpb24gd2l0aGRyYXdFdGgoIHVpbnQyNTYgX2Ftb3VudCApIHB1YmxpYwogICB7CiAgICAgICByZXF1aXJlKCBfYW1vdW50IDw9IGV0aEJhbGFuY2VzW21zZy5zZW5kZXJdICk7CiAgICAgICAKICAgICAgIGV0aEJhbGFuY2VzW21zZy5zZW5kZXJdID0gZXRoQmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKCBfYW1vdW50ICk7CiAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKCBfYW1vdW50ICk7CiAgIH0KCiAgICBmdW5jdGlvbiB3aXRoZHJhd1Rva2VuKCBhZGRyZXNzIF9hLCB1aW50MjU2IF9hbW91bnQgKSBwdWJsaWMKICAgewogICAgICAgcmVxdWlyZSggX2Ftb3VudCA8PSB0b2tlbkJhbGFuY2VzW21zZy5zZW5kZXJdW19hXSApOwogICAgICAgCiAgICAgICBTdGFuZGFyZFRva2VuIHRva2VuID0gU3RhbmRhcmRUb2tlbiggX2EgKTsKICAgICAgIAogICAgICAgdG9rZW5CYWxhbmNlc1ttc2cuc2VuZGVyXVtfYV0gPSB0b2tlbkJhbGFuY2VzW21zZy5zZW5kZXJdW19hXS5zdWIoIF9hbW91bnQgKTsKICAgICAgIHRva2VuLnRyYW5zZmVyKCBtc2cuc2VuZGVyLCBfYW1vdW50ICk7CiAgIH0KICAgIAogICBmdW5jdGlvbiBzZXRFdGhQcmljaWVzKHVpbnQ4IF9pbikgcHVibGljIG9ubHlPd25lcgogICB7CiAgICAgICBldGhQcmljZUluICA9IF9pbjsKICAgfQogICAgCiAgICAKICAgIAogICAgZnVuY3Rpb24gU0VMTEVSX1NURVBfMV9PUEVOKCkgcHVibGljIHJldHVybnMoIGJvb2wgKQogICAgewogICAgICAgIGFkZHJlc3Mgc2VuZGVyID0gbXNnLnNlbmRlcjsKICAgICAgICAKICAgICAgICBfZW5jcnlwdENvdW50ZXIgPSBoZWxwZXIuZW5jcnlwdENvdW50ZXIoIF9lbmNyeXB0Q291bnRlciApOwogICAgICAgIAogICAgICAgIGJ5dGVzMzIgUEFTUzEgPSBoZWxwZXIuZ2VuZXJhdGVQQVNTMSggc2VuZGVyICk7CiAgICAgICAgYnl0ZXMzMiBQQVNTMyA9IGhlbHBlci5nZW5lcmF0ZVBBU1MzKCBQQVNTMSApOwogICAgICAgIAogICAgICAgIGludm9pY2VzU3RhY2tbaW52b2ljZXNTdGFja0NvdW50XSA9IFBBU1MxOwogICAgCiAgICAgICAgCiAgICAgICAgaW52b2ljZXNTdGFja0NvdW50Kys7CiAgICAgICAgaWYoIGludm9pY2VzU3RhY2tDb3VudCA+PSBpbnZvaWNlc1N0YWNrTGltaXQgKSBpbnZvaWNlc1N0YWNrQ291bnQgPSAwOwogICAgICAgIAogICAgICAgIGludm9pY2VzWyBQQVNTMSBdLnNlbGxlciAgICAgPSBzZW5kZXI7CiAgICAgICAgaW52b2ljZXNbIFBBU1MxIF0uc3RhdGUgICAgICA9IDB4MTsKICAgICAgICBidXllcnNQQVNTMVtzZW5kZXJdICAgICAgICAgID0gUEFTUzE7CiAgICAgICAgYnV5ZXJzUEFTUzNbc2VuZGVyXSAgICAgICAgICA9IFBBU1MzOwogICAgICAgIFBBU1MzdG9QQVNTMVtQQVNTM10gICAgICAgICAgPSBQQVNTMTsKICAgICAgICAKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gU0VMTEVSX1NURVBfMl9HRVRfUEFTUygpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKCBieXRlczMyLGJ5dGVzMzIgKQogICAgewogICAgICAgIHJldHVybiAoIGJ1eWVyc1BBU1MxW21zZy5zZW5kZXJdLCBidXllcnNQQVNTM1ttc2cuc2VuZGVyXSk7CiAgICB9CiAgICAKCgoKCgogICAgCiAgICBmdW5jdGlvbiBTRUxMRVJfU1RFUF80X0FDQ0VQVCggYnl0ZXMzMiBQQVNTMyApIHB1YmxpYwogICAgewogICAgICAgIHJlcXVpcmUoIGludm9pY2VzWyBQQVNTM3RvUEFTUzFbIFBBU1MzIF0gXS5zZWxsZXIgPT0gbXNnLnNlbmRlciApOwogICAgICAgIAogICAgICAgIGlmKCBpbnZvaWNlc1sgUEFTUzN0b1BBU1MxWyBQQVNTMyBdIF0ubWV0aG9kID09IDB4MSApIHsKICAgICAgICAgICAgCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKCBpbnZvaWNlc1sgUEFTUzN0b1BBU1MxWyBQQVNTMyBdIF0udG9rZW5zICk7CiAgICAgICAgICAgIGludm9pY2VzWyBQQVNTM3RvUEFTUzFbIFBBU1MzIF0gXS50b2tlbnMgPSAwOwogICAgICAgICAgICBpbnZvaWNlc1sgUEFTUzN0b1BBU1MxWyBQQVNTMyBdIF0uc3RhdGUgPSAweDU7CiAgICAgICAgICAgIAogICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgaWYoIGludm9pY2VzWyBQQVNTM3RvUEFTUzFbIFBBU1MzIF0gXS5tZXRob2QgPT0gMHgyICkgewogICAgICAgICAgICAKICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlciggaW52b2ljZXNbIFBBU1MzdG9QQVNTMVsgUEFTUzMgXSBdLnRva2VucyApOwogICAgICAgICAgICBpbnZvaWNlc1sgUEFTUzN0b1BBU1MxWyBQQVNTMyBdIF0udG9rZW5zID0gMDsKICAgICAgICAgICAgaW52b2ljZXNbIFBBU1MzdG9QQVNTMVsgUEFTUzMgXSBdLnN0YXRlID0gMHg1OwogICAgICAgICAgICAKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYoIGludm9pY2VzWyBQQVNTM3RvUEFTUzFbIFBBU1MzIF0gXS5tZXRob2QgPT0gMHgzICkgewogICAgICAgICAgICAKICAgICAgICAgICAgdG9rZW5CYWxhbmNlc1ttc2cuc2VuZGVyXVtpbnZvaWNlc1sgUEFTUzN0b1BBU1MxWyBQQVNTMyBdIF0udG9rZW5dID0gdG9rZW5CYWxhbmNlc1ttc2cuc2VuZGVyXVtpbnZvaWNlc1sgUEFTUzN0b1BBU1MxWyBQQVNTMyBdIF0udG9rZW5dLmFkZCggaW52b2ljZXNbIFBBU1MzdG9QQVNTMVsgUEFTUzMgXSBdLnRva2VucyApOwogICAgICAgICAgICBpbnZvaWNlc1sgUEFTUzN0b1BBU1MxWyBQQVNTMyBdIF0udG9rZW5zID0gMDsKICAgICAgICAgICAgaW52b2ljZXNbIFBBU1MzdG9QQVNTMVsgUEFTUzMgXSBdLnN0YXRlID0gMHg1OwogICAgICAgICAgICAKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgCiAgICB9CgogICAgCiAgICBmdW5jdGlvbiBCVVlFUl9TVEVQXzEoIGJ5dGVzMzIgUEFTUzEgKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyggYnl0ZXMzMiApCiAgICB7CiAgICAgICAgcmV0dXJuIGhlbHBlci5nZW5lcmF0ZVBBU1MyKCBQQVNTMSwgbXNnLnNlbmRlciApOwogICAgfQogICAgCiAgICAKICAgIGZ1bmN0aW9uIEJVWUVSX1NURVBfMiggYnl0ZXMzMiBQQVNTMiApIHB1YmxpYwogICAgewogICAgICAgIGFkZHJlc3MgYnV5ZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIGJvb2wgZmluZCA9IGZhbHNlOwogICAgICAgIAogICAgICAgIGZvciggdWludCBpID0gMDsgaSA8IGludm9pY2VzU3RhY2subGVuZ3RoOyBpKysgKXsKICAgICAgICAgICAgaWYoIGhlbHBlci5nZW5lcmF0ZVBBU1MyKCBpbnZvaWNlc1N0YWNrW2ldLCBidXllciApID09IFBBU1MyICkgewogICAgICAgICAgICAgICAgZmluZCA9IHRydWU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXF1aXJlKCBmaW5kICk7CiAgICAgICAgCiAgICAgICAgc2VsbGVyc1BBU1MyWyBQQVNTMiBdID0gaW52b2ljZXNTdGFja1tpXTsKICAgICAgICBpbnZvaWNlc1sgc2VsbGVyc1BBU1MyWyBQQVNTMiBdIF0udG9rZW5OdW1lcmljID0gaGVscGVyLmdlbmVyYXRlTlVNRVJJQyggX2VuY3J5cHRDb3VudGVyICk7CiAgICAgICAgaW52b2ljZXNbIHNlbGxlcnNQQVNTMlsgUEFTUzIgXSBdLmJ1eWVyID0gYnV5ZXI7CiAgICAgICAgaW52b2ljZXNbIHNlbGxlcnNQQVNTMlsgUEFTUzIgXSBdLnN0YXRlID0gMHgyOwogICAgfQogICAgCiAgICAKICAgIGZ1bmN0aW9uIEJVWUVSX1NURVBfMyggYnl0ZXMzMiBQQVNTMiwgdWludCBfYW1vdW50KSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyggdWludCApCiAgICB7CiAgICAgICAgcmVxdWlyZSggaW52b2ljZXNbIHNlbGxlcnNQQVNTMlsgUEFTUzIgXSBdLmJ1eWVyID09IG1zZy5zZW5kZXIgKTsKICAgICAgICAKICAgICAgICByZXR1cm4gKCBoZWxwZXIuZW5jb2RlQW1vdW50KCBpbnZvaWNlc1sgc2VsbGVyc1BBU1MyWyBQQVNTMiBdIF0udG9rZW5OdW1lcmljLCBfYW1vdW50ICkgKTsKICAgIH0KICAgIAogICAgCiAgICAKICAgIAogICAgZnVuY3Rpb24gQlVZRVJfU1RFUF80KCBieXRlczMyIFBBU1MyLCB1aW50IF9hbW91bnQsIGJ5dGVzMSBfbWV0aG9kLCBhZGRyZXNzIF90b2tlbiApIHB1YmxpYyBwYXlhYmxlCiAgICB7CiAgICAgICAgcmVxdWlyZSggaW52b2ljZXNbIHNlbGxlcnNQQVNTMlsgUEFTUzIgXSBdLmJ1eWVyID09IG1zZy5zZW5kZXIgKTsKICAgICAgICAKICAgICAgICB1aW50IGFtb3VudCA9IGhlbHBlci5kZWNvZGVBbW91bnQoIF9hbW91bnQsIGludm9pY2VzWyBzZWxsZXJzUEFTUzJbIFBBU1MyIF0gXS50b2tlbk51bWVyaWMgKTsKICAgICAgICAKICAgICAgICAvL2F0aAogICAgICAgIGlmKCBfbWV0aG9kID09IDB4MSApIHsKICAgICAgICAgICAgCiAgICAgICAgICAgIHJlcXVpcmUoIGFtb3VudCA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSApOwogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihhbW91bnQpOwogICAgICAgICAgICBpbnZvaWNlc1sgc2VsbGVyc1BBU1MyWyBQQVNTMiBdIF0udG9rZW5zID0gYW1vdW50OwogICAgICAgICAgICBpbnZvaWNlc1sgc2VsbGVyc1BBU1MyWyBQQVNTMiBdIF0ubWV0aG9kID0gMHgxOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvL2V0aGVyCiAgICAgICAgaWYoIF9tZXRob2QgPT0gMHgyICkgewogICAgICAgICAgICAKICAgICAgICAgICAgcmVxdWlyZSggYW1vdW50IDw9IGV0aEJhbGFuY2VzW21zZy5zZW5kZXJdICk7CiAgICAgICAgICAgIGV0aEJhbGFuY2VzW21zZy5zZW5kZXJdID0gZXRoQmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKGFtb3VudCk7CiAgICAgICAgICAgIGludm9pY2VzWyBzZWxsZXJzUEFTUzJbIFBBU1MyIF0gXS50b2tlbnMgPSBhbW91bnQ7CiAgICAgICAgICAgIGludm9pY2VzWyBzZWxsZXJzUEFTUzJbIFBBU1MyIF0gXS5tZXRob2QgPSAweDI7CiAgICAgICAgICAgIAogICAgICAgIH0KICAgICAgICAKICAgICAgICAvL2FueSB0b2tlbgogICAgICAgIGlmKCBfbWV0aG9kID09IDB4MyApIHsKICAgICAgICAgICAgCiAgICAgICAgICAgIHJlcXVpcmUoIGFtb3VudCA8PSB0b2tlbkJhbGFuY2VzW21zZy5zZW5kZXJdW190b2tlbl0gKTsKICAgICAgICAgICAgdG9rZW5CYWxhbmNlc1ttc2cuc2VuZGVyXVtfdG9rZW5dID0gdG9rZW5CYWxhbmNlc1ttc2cuc2VuZGVyXVtfdG9rZW5dLnN1YihhbW91bnQpOwogICAgICAgICAgICBpbnZvaWNlc1sgc2VsbGVyc1BBU1MyWyBQQVNTMiBdIF0udG9rZW5zID0gYW1vdW50OwogICAgICAgICAgICBpbnZvaWNlc1sgc2VsbGVyc1BBU1MyWyBQQVNTMiBdIF0udG9rZW4gPSBfdG9rZW47CiAgICAgICAgICAgIGludm9pY2VzWyBzZWxsZXJzUEFTUzJbIFBBU1MyIF0gXS5tZXRob2QgPSAweDM7CiAgICAgICAgICAgIAogICAgICAgIH0KICAgICAgICAKICAgICAgICBpbnZvaWNlc1sgc2VsbGVyc1BBU1MyWyBQQVNTMiBdIF0uc3RhdGUgPSAweDM7CiAgICAgICAgCiAgICB9CgogICAgCiAgICBmdW5jdGlvbiBCVVlFUl9TVEVQXzVfQ0FOQ0VMKCBieXRlczMyIFBBU1MyICkgcHVibGljCiAgICB7CiAgICAgICAgcmVxdWlyZSggaW52b2ljZXNbIHNlbGxlcnNQQVNTMlsgUEFTUzIgXSBdLmJ1eWVyID09IG1zZy5zZW5kZXIgKTsKICAgICAgICAKICAgICAgICBpZiggaW52b2ljZXNbIHNlbGxlcnNQQVNTMlsgUEFTUzIgXSBdLm1ldGhvZCA9PSAweDEgKXsKICAgICAgICAgICAgCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKCBpbnZvaWNlc1sgc2VsbGVyc1BBU1MyWyBQQVNTMiBdIF0udG9rZW5zICk7CiAgICAgICAgICAgIAogICAgICAgIH0KICAgICAgICBpZiggaW52b2ljZXNbIHNlbGxlcnNQQVNTMlsgUEFTUzIgXSBdLm1ldGhvZCA9PSAweDIgKXsKICAgICAgICAgICAgCiAgICAgICAgICAgIGV0aEJhbGFuY2VzW21zZy5zZW5kZXJdID0gZXRoQmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKGludm9pY2VzWyBzZWxsZXJzUEFTUzJbIFBBU1MyIF0gXS50b2tlbnMpOwogICAgICAgICAgICAKICAgICAgICB9CiAgICAgICAgaWYoIGludm9pY2VzWyBzZWxsZXJzUEFTUzJbIFBBU1MyIF0gXS5tZXRob2QgPT0gMHgzICl7CiAgICAgICAgICAgIAogICAgICAgICAgICB0b2tlbkJhbGFuY2VzW21zZy5zZW5kZXJdW2ludm9pY2VzWyBzZWxsZXJzUEFTUzJbIFBBU1MyIF0gXS50b2tlbl0gPSB0b2tlbkJhbGFuY2VzW21zZy5zZW5kZXJdW2ludm9pY2VzWyBzZWxsZXJzUEFTUzJbIFBBU1MyIF0gXS50b2tlbl0uYWRkKGludm9pY2VzWyBzZWxsZXJzUEFTUzJbIFBBU1MyIF0gXS50b2tlbnMpOwogICAgICAgICAgICAKICAgICAgICB9CiAgICAgICAgaW52b2ljZXNbIHNlbGxlcnNQQVNTMlsgUEFTUzIgXSBdLnRva2VucyA9IDA7CiAgICAgICAgaW52b2ljZXNbIHNlbGxlcnNQQVNTMlsgUEFTUzIgXSBdLnN0YXRlID0gMHg0OwogICAgfQogICAgCiAgICBmdW5jdGlvbiBTRUxMRVJfQ0hFQ0tfU1RFUCggYnl0ZXMzMiBQQVNTMyApIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKCBieXRlczEsIGJ5dGVzMSwgYWRkcmVzcywgdWludDI1NiApCiAgICB7CiAgICAgICAgcmVxdWlyZSggaW52b2ljZXNbIFBBU1MzdG9QQVNTMVsgUEFTUzMgXSBdLnNlbGxlciA9PSBtc2cuc2VuZGVyICk7CiAgICAgICAgcmV0dXJuICggaW52b2ljZXNbIFBBU1MzdG9QQVNTMVsgUEFTUzMgXSBdLnN0YXRlLCBpbnZvaWNlc1sgUEFTUzN0b1BBU1MxWyBQQVNTMyBdIF0ubWV0aG9kLCBpbnZvaWNlc1sgUEFTUzN0b1BBU1MxWyBQQVNTMyBdIF0udG9rZW4sIGludm9pY2VzWyBQQVNTM3RvUEFTUzFbIFBBU1MzIF0gXS50b2tlbnMgKTsgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIEJVWUVSX0NIRUNLX1NURVAoIGJ5dGVzMzIgUEFTUzIgKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyggYnl0ZXMxLCBieXRlczEsIGFkZHJlc3MsIHVpbnQyNTYgICkKICAgIHsKICAgICAgICByZXF1aXJlKCBpbnZvaWNlc1sgc2VsbGVyc1BBU1MyWyBQQVNTMiBdIF0uYnV5ZXIgPT0gbXNnLnNlbmRlciApOwogICAgICAgIHJldHVybiAoIGludm9pY2VzWyBzZWxsZXJzUEFTUzJbIFBBU1MyIF0gXS5zdGF0ZSwgaW52b2ljZXNbIHNlbGxlcnNQQVNTMlsgUEFTUzIgXSBdLm1ldGhvZCwgaW52b2ljZXNbIHNlbGxlcnNQQVNTMlsgUEFTUzIgXSBdLnRva2VuLCBpbnZvaWNlc1sgc2VsbGVyc1BBU1MyWyBQQVNTMiBdIF0udG9rZW5zICk7CiAgICB9CiAgICAKICAgIAogICAgZnVuY3Rpb24gc2V0RW5jcnlwdENvbnRyYWN0KCBhZGRyZXNzIF9hICkgcHVibGljIG9ubHlPd25lcgogICAgewogICAgICAgICBoZWxwZXIgPSBIZWxwZXIoIF9hICk7CiAgICB9CiAgICAKfQ=='.
	

]
