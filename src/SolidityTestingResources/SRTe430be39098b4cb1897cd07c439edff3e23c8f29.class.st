Class {
	#name : #SRTe430be39098b4cb1897cd07c439edff3e23c8f29,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe430be39098b4cb1897cd07c439edff3e23c8f29 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQp9CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBQYXVzYWJsZQogKiBAZGV2IEJhc2UgY29udHJhY3Qgd2hpY2ggYWxsb3dzIGNoaWxkcmVuIHRvIGltcGxlbWVudCBhbiBlbWVyZ2VuY3kgc3RvcCBtZWNoYW5pc20uCiAqLwpjb250cmFjdCBQYXVzYWJsZSBpcyBPd25hYmxlIHsKICBldmVudCBQYXVzZSgpOwogIGV2ZW50IFVucGF1c2UoKTsKCiAgYm9vbCBwdWJsaWMgcGF1c2VkID0gZmFsc2U7CgoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRvIG1ha2UgYSBmdW5jdGlvbiBjYWxsYWJsZSBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IGlzIG5vdCBwYXVzZWQuCiAgICovCiAgbW9kaWZpZXIgd2hlbk5vdFBhdXNlZCgpIHsKICAgIHJlcXVpcmUoIXBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBNb2RpZmllciB0byBtYWtlIGEgZnVuY3Rpb24gY2FsbGFibGUgb25seSB3aGVuIHRoZSBjb250cmFjdCBpcyBwYXVzZWQuCiAgICovCiAgbW9kaWZpZXIgd2hlblBhdXNlZCgpIHsKICAgIHJlcXVpcmUocGF1c2VkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gcGF1c2UsIHRyaWdnZXJzIHN0b3BwZWQgc3RhdGUKICAgKi8KICBmdW5jdGlvbiBwYXVzZSgpIG9ubHlPd25lciB3aGVuTm90UGF1c2VkIHB1YmxpYyB7CiAgICBwYXVzZWQgPSB0cnVlOwogICAgUGF1c2UoKTsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byB1bnBhdXNlLCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHVucGF1c2UoKSBvbmx5T3duZXIgd2hlblBhdXNlZCBwdWJsaWMgewogICAgcGF1c2VkID0gZmFsc2U7CiAgICBVbnBhdXNlKCk7CiAgfQp9Cgpjb250cmFjdCBGaW5hbGl6YWJsZSBpcyBPd25hYmxlIHsKICBib29sIHB1YmxpYyBjb250cmFjdEZpbmFsaXplZDsKCiAgbW9kaWZpZXIgbm90RmluYWxpemVkKCkgewogICAgcmVxdWlyZSghY29udHJhY3RGaW5hbGl6ZWQpOwogICAgXzsKICB9CgogIGZ1bmN0aW9uIGZpbmFsaXplQ29udHJhY3QoKSBvbmx5T3duZXIgewogICAgY29udHJhY3RGaW5hbGl6ZWQgPSB0cnVlOwogIH0KfQoKY29udHJhY3QgU2hhcmVkIGlzIE93bmFibGUsIEZpbmFsaXphYmxlIHsKICB1aW50IGludGVybmFsIGNvbnN0YW50IERFQ0lNQUxTID0gODsKICAKICBhZGRyZXNzIGludGVybmFsIGNvbnN0YW50IFJFV0FSRFNfV0FMTEVUID0gMHgzMGIwMDJkM0FmQ2I3RjkzODIzOTRmN2M4MDNmYUZCYjUwMDg3MkQ4OwogIGFkZHJlc3MgaW50ZXJuYWwgY29uc3RhbnQgQ1JPV0RTQUxFX1dBTExFVCA9IDB4MDI4ZTFDZTY5RTM3OWIxNjc4Mjc4NjQwYzczODdlY2M0MERBYTg5NTsKICBhZGRyZXNzIGludGVybmFsIGNvbnN0YW50IExJRkVfQ0hBTkdFX1dBTExFVCA9IDB4RWU0Mjg0Zjk4RDA1NjhjN2Y2NTY4OGYxOEEyRjc0MzU0RTE3QjMxYTsKICBhZGRyZXNzIGludGVybmFsIGNvbnN0YW50IExJRkVfQ0hBTkdFX1ZFU1RJTkdfV0FMTEVUID0gMHgyRDM1NGJENjc3MDcyMjNDOWFDMDIzMmNkMEU1NGYyMmIwMzQ4M0NmOwp9Cgpjb250cmFjdCBMZWRnZXIgaXMgU2hhcmVkIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgYWRkcmVzcyBwdWJsaWMgY29udHJvbGxlcjsKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcHVibGljIGJhbGFuY2VPZjsKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIHB1YmxpYyBhbGxvd2VkOwogIHVpbnQgcHVibGljIHRvdGFsU3VwcGx5OwoKICBmdW5jdGlvbiBzZXRDb250cm9sbGVyKGFkZHJlc3MgX2FkZHJlc3MpIG9ubHlPd25lciBub3RGaW5hbGl6ZWQgewogICAgY29udHJvbGxlciA9IF9hZGRyZXNzOwogIH0KCiAgbW9kaWZpZXIgb25seUNvbnRyb2xsZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gY29udHJvbGxlcik7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5Q29udHJvbGxlciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGJhbGFuY2VPZltfZnJvbV0gPSBiYWxhbmNlT2ZbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZU9mW190b10gPSBiYWxhbmNlT2ZbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX3NwZW5kZXIsIGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seUNvbnRyb2xsZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICB2YXIgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW19zcGVuZGVyXTsKICAgIGJhbGFuY2VPZltfdG9dID0gYmFsYW5jZU9mW190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlT2ZbX2Zyb21dID0gYmFsYW5jZU9mW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW19zcGVuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSBvbmx5Q29udHJvbGxlciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXSA9PSAwKSk7CiAgICBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIG9ubHlDb250cm9sbGVyIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9CgogIGZ1bmN0aW9uIGJ1cm4oYWRkcmVzcyBfZnJvbSwgdWludCBfYW1vdW50KSBvbmx5Q29udHJvbGxlciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGJhbGFuY2VPZltfZnJvbV0gPSBiYWxhbmNlT2ZbX2Zyb21dLnN1YihfYW1vdW50KTsKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIG9ubHlDb250cm9sbGVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgYmFsYW5jZU9mW190b10gKz0gX2Ftb3VudDsKICAgIHRvdGFsU3VwcGx5ICs9IF9hbW91bnQ7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCmNvbnRyYWN0IENvbnRyb2xsZXIgaXMgU2hhcmVkLCBQYXVzYWJsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogIGJvb2wgcHVibGljIGluaXRpYWxpemVkOwoKICBDaHJpc3RDb2luIHB1YmxpYyB0b2tlbjsKICBMZWRnZXIgcHVibGljIGxlZGdlcjsKICBhZGRyZXNzIHB1YmxpYyBjcm93ZHNhbGU7CgogIHVpbnQgcHVibGljIHZlc3RpbmdBbW91bnQ7CiAgdWludCBwdWJsaWMgdmVzdGluZ1BhaWQ7CiAgdWludCBwdWJsaWMgdmVzdGluZ1N0YXJ0OwogIHVpbnQgcHVibGljIHZlc3RpbmdEdXJhdGlvbjsKCiAgZnVuY3Rpb24gQ29udHJvbGxlcihhZGRyZXNzIF90b2tlbiwgYWRkcmVzcyBfbGVkZ2VyLCBhZGRyZXNzIF9jcm93ZHNhbGUpIHsKICAgIHRva2VuID0gQ2hyaXN0Q29pbihfdG9rZW4pOwogICAgbGVkZ2VyID0gTGVkZ2VyKF9sZWRnZXIpOwogICAgY3Jvd2RzYWxlID0gX2Nyb3dkc2FsZTsKICB9CgogIGZ1bmN0aW9uIHNldFRva2VuKGFkZHJlc3MgX2FkZHJlc3MpIG9ubHlPd25lciBub3RGaW5hbGl6ZWQgewogICAgdG9rZW4gPSBDaHJpc3RDb2luKF9hZGRyZXNzKTsKICB9CgogIGZ1bmN0aW9uIHNldExlZGdlcihhZGRyZXNzIF9hZGRyZXNzKSBvbmx5T3duZXIgbm90RmluYWxpemVkIHsKICAgIGxlZGdlciA9IExlZGdlcihfYWRkcmVzcyk7CiAgfQoKICBmdW5jdGlvbiBzZXRDcm93ZHNhbGUoYWRkcmVzcyBfYWRkcmVzcykgb25seU93bmVyIG5vdEZpbmFsaXplZCB7CiAgICBjcm93ZHNhbGUgPSBfYWRkcmVzczsKICB9CgogIG1vZGlmaWVyIG9ubHlUb2tlbigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBhZGRyZXNzKHRva2VuKSk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgb25seUNyb3dkc2FsZSgpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBjcm93ZHNhbGUpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIG9ubHlUb2tlbk9yQ3Jvd2RzYWxlKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGFkZHJlc3ModG9rZW4pIHx8IG1zZy5zZW5kZXIgPT0gY3Jvd2RzYWxlKTsKICAgIF87CiAgfQoKICBtb2RpZmllciBub3RWZXN0aW5nKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyICE9IExJRkVfQ0hBTkdFX1ZFU1RJTkdfV0FMTEVUKTsKICAgIF87CiAgfQoKICBmdW5jdGlvbiBpbml0KCkgb25seU93bmVyIHsKICAgIHJlcXVpcmUoIWluaXRpYWxpemVkKTsKICAgIG1pbnRXaXRoRXZlbnQoUkVXQVJEU19XQUxMRVQsIDkgKiAoMTAgKiogKDkgKyBERUNJTUFMUykpKTsgLy8gOSBiaWxsaW9uCiAgICBtaW50V2l0aEV2ZW50KENST1dEU0FMRV9XQUxMRVQsIDkwMCAqICgxMCAqKiAoNiArIERFQ0lNQUxTKSkpOyAvLyA5MDAgbWlsbGlvbgogICAgbWludFdpdGhFdmVudChMSUZFX0NIQU5HRV9XQUxMRVQsIDEwMCAqICgxMCAqKiAoNiArIERFQ0lNQUxTKSkpOyAvLyAxMDAgbWlsbGlvbgogICAgaW5pdGlhbGl6ZWQgPSB0cnVlOwogIH0KCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBvbmx5VG9rZW4gY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgcmV0dXJuIGxlZGdlci50b3RhbFN1cHBseSgpOwogIH0KCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBvbmx5VG9rZW5PckNyb3dkc2FsZSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICByZXR1cm4gbGVkZ2VyLmJhbGFuY2VPZihfb3duZXIpOwogIH0KCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBvbmx5VG9rZW4gY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgcmV0dXJuIGxlZGdlci5hbGxvd2FuY2UoX293bmVyLCBfc3BlbmRlcik7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlUb2tlbiBub3RWZXN0aW5nIHdoZW5Ob3RQYXVzZWQgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXR1cm4gbGVkZ2VyLnRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlcldpdGhFdmVudChhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlDcm93ZHNhbGUgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBzdWNjZXNzID0gbGVkZ2VyLnRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICBpZiAoc3VjY2VzcykgewogICAgICB0b2tlbi5jb250cm9sbGVyVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX3NwZW5kZXIsIGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seVRva2VuIG5vdFZlc3Rpbmcgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJldHVybiBsZWRnZXIudHJhbnNmZXJGcm9tKF9zcGVuZGVyLCBfZnJvbSwgX3RvLCBfdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIG9ubHlUb2tlbiBub3RWZXN0aW5nIHdoZW5Ob3RQYXVzZWQgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXR1cm4gbGVkZ2VyLmFwcHJvdmUoX293bmVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIGJ1cm4oYWRkcmVzcyBfb3duZXIsIHVpbnQgX2Ftb3VudCkgb25seVRva2VuIHdoZW5Ob3RQYXVzZWQgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXR1cm4gbGVkZ2VyLmJ1cm4oX293bmVyLCBfYW1vdW50KTsKICB9CgogIGZ1bmN0aW9uIG1pbnRXaXRoRXZlbnQoYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBzdWNjZXNzID0gbGVkZ2VyLm1pbnQoX3RvLCBfYW1vdW50KTsKICAgIGlmIChzdWNjZXNzKSB7CiAgICAgIHRva2VuLmNvbnRyb2xsZXJUcmFuc2ZlcigweDAsIF90bywgX2Ftb3VudCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBzdGFydFZlc3RpbmcodWludCBfYW1vdW50LCB1aW50IF9kdXJhdGlvbikgb25seUNyb3dkc2FsZSB7CiAgICByZXF1aXJlKHZlc3RpbmdBbW91bnQgPT0gMCk7CiAgICB2ZXN0aW5nQW1vdW50ID0gX2Ftb3VudDsKICAgIHZlc3RpbmdQYWlkID0gMDsKICAgIHZlc3RpbmdTdGFydCA9IG5vdzsKICAgIHZlc3RpbmdEdXJhdGlvbiA9IF9kdXJhdGlvbjsKICB9CgogIGZ1bmN0aW9uIHdpdGhkcmF3VmVzdGVkKGFkZHJlc3MgX3dpdGhkcmF3VG8pIHJldHVybnMgKHVpbnQgYW1vdW50V2l0aGRyYXduKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gTElGRV9DSEFOR0VfVkVTVElOR19XQUxMRVQpOwogICAgcmVxdWlyZSh2ZXN0aW5nQW1vdW50ID4gMCk7CiAgICAKICAgIHVpbnQgX2VsYXBzZWQgPSBub3cuc3ViKHZlc3RpbmdTdGFydCk7CiAgICB1aW50IF9yYXRlID0gdmVzdGluZ0Ftb3VudC5kaXYodmVzdGluZ0R1cmF0aW9uKTsKICAgIHVpbnQgX3VubG9ja2VkID0gX3JhdGUubXVsKF9lbGFwc2VkKTsKCiAgICBpZiAoX3VubG9ja2VkID4gdmVzdGluZ0Ftb3VudCkgewogICAgICAgX3VubG9ja2VkID0gdmVzdGluZ0Ftb3VudDsKICAgIH0KCiAgICBpZiAoX3VubG9ja2VkIDw9IHZlc3RpbmdQYWlkKSB7CiAgICAgIGFtb3VudFdpdGhkcmF3biA9IDA7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBhbW91bnRXaXRoZHJhd24gPSBfdW5sb2NrZWQuc3ViKHZlc3RpbmdQYWlkKTsKICAgIHZlc3RpbmdQYWlkID0gdmVzdGluZ1BhaWQuYWRkKGFtb3VudFdpdGhkcmF3bik7CgogICAgbGVkZ2VyLnRyYW5zZmVyKExJRkVfQ0hBTkdFX1ZFU1RJTkdfV0FMTEVULCBfd2l0aGRyYXdUbywgYW1vdW50V2l0aGRyYXduKTsKICAgIHRva2VuLmNvbnRyb2xsZXJUcmFuc2ZlcihMSUZFX0NIQU5HRV9WRVNUSU5HX1dBTExFVCwgX3dpdGhkcmF3VG8sIGFtb3VudFdpdGhkcmF3bik7CiAgfQp9Cgpjb250cmFjdCBDaHJpc3RDb2luIGlzIFNoYXJlZCB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJDaHJpc3QgQ29pbiI7CiAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiQ0NMQyI7CiAgdWludDggcHVibGljIGRlY2ltYWxzID0gODsKCiAgQ29udHJvbGxlciBwdWJsaWMgY29udHJvbGxlcjsKCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50IF92YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50IF92YWx1ZSk7CgogIGZ1bmN0aW9uIHNldENvbnRyb2xsZXIoYWRkcmVzcyBfYWRkcmVzcykgb25seU93bmVyIG5vdEZpbmFsaXplZCB7CiAgICBjb250cm9sbGVyID0gQ29udHJvbGxlcihfYWRkcmVzcyk7CiAgfQoKICBtb2RpZmllciBvbmx5Q29udHJvbGxlcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBhZGRyZXNzKGNvbnRyb2xsZXIpKTsKICAgIF87CiAgfQoKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgIHJldHVybiBjb250cm9sbGVyLmJhbGFuY2VPZihfb3duZXIpOwogIH0KCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICByZXR1cm4gY29udHJvbGxlci50b3RhbFN1cHBseSgpOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHN1Y2Nlc3MgPSBjb250cm9sbGVyLnRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIGlmIChzdWNjZXNzKSB7CiAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgc3VjY2VzcyA9IGNvbnRyb2xsZXIudHJhbnNmZXJGcm9tKG1zZy5zZW5kZXIsIF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICBpZiAoc3VjY2VzcykgewogICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBzdWNjZXNzID0gY29udHJvbGxlci5hcHByb3ZlKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgaWYgKHN1Y2Nlc3MpIHsKICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgIHJldHVybiBjb250cm9sbGVyLmFsbG93YW5jZShfb3duZXIsIF9zcGVuZGVyKTsKICB9CgogIGZ1bmN0aW9uIGJ1cm4odWludCBfYW1vdW50KSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBzdWNjZXNzID0gY29udHJvbGxlci5idXJuKG1zZy5zZW5kZXIsIF9hbW91bnQpOwogICAgaWYgKHN1Y2Nlc3MpIHsKICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgMHgwLCBfYW1vdW50KTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGNvbnRyb2xsZXJUcmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlDb250cm9sbGVyIHsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiBjb250cm9sbGVyQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIG9ubHlDb250cm9sbGVyIHsKICAgIEFwcHJvdmFsKF9mcm9tLCBfc3BlbmRlciwgX3ZhbHVlKTsKICB9Cn0='.
	

]
