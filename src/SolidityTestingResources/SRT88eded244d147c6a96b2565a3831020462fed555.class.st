Class {
	#name : #SRT88eded244d147c6a96b2565a3831020462fed555,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT88eded244d147c6a96b2565a3831020462fed555 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgoKCmxpYnJhcnkgU2FmZU1hdGggewoKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGlmIChhID09IDApIHsKCQkJcmV0dXJuIDA7CgkJfQoJCXVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEgJiYgYyA+PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCQoJZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CgkJYXNzZXJ0KGIgPD0gYSk7CgkJcmV0dXJuIGEgLSBiOwoJfQoKfQoKCgpjb250cmFjdCBUb2tlbiB7CgogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwoKfQoKCgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIFRva2VuIHsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCXJlcXVpcmUoIG1zZy5kYXRhLmxlbmd0aCA+PSAoMiAqIDMyKSArIDQgKTsKCQlyZXF1aXJlKCBfdmFsdWUgPiAwICk7CgkJcmVxdWlyZSggYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICk7CgkJcmVxdWlyZSggYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10gKTsKCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCQlyZXF1aXJlKCBtc2cuZGF0YS5sZW5ndGggPj0gKDMgKiAzMikgKyA0ICk7CgkJcmVxdWlyZSggX3ZhbHVlID4gMCApOwoJCXJlcXVpcmUoIGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgKTsKCQlyZXF1aXJlKCBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgKTsKCQlyZXF1aXJlKCBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSApOwoKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwoJCWFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKCQliYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgkJcmVxdWlyZSggX3ZhbHVlID09IDAgfHwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCApOwoKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCn0KCgoKY29udHJhY3QgV2hhbGVUb2tlbiBpcyBTdGFuZGFyZFRva2VuIHsKCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCglzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiV2hhbGVGVU5EIjsJCQkJCQkJCS8vIFdIQUxFIHRva2VucyBuYW1lCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJXSEFMRSI7CQkJCQkJCQkvLyBXSEFMRSB0b2tlbnMgdGlja2VyCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwkJCQkJCQkJCS8vIFdIQUxFIHRva2VucyBkZWNpbWFscwoJc3RyaW5nIHB1YmxpYyB2ZXJzaW9uID0gIjEuMCI7CQkJCQkJCQkJCQkvLyBXSEFMRSB2ZXJzaW9uCgoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgbWF4aW11bVN1cHBseSA9ICA4MDAgKiAoMTAqKjMpICogMTAqKmRlY2ltYWxzOwkvLyBNYXhpbXVtIDgwMGsgV2hhbGUgdG9rZW5zCgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBvcGVyYXRpbmdGdW5kID0gMTUyICogKDEwKiozKSAqIDEwKipkZWNpbWFsczsJLy8gMTklIC0gMTUyayBXSEFMRSByZXNlcnZlZCBmb3Igb3BlcmF0aW5nIGV4cGVuc2VzCgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCB0ZWFtRnVuZCA9IDEyMCAqICgxMCoqMykgKiAxMCoqZGVjaW1hbHM7CQkvLyAxNSUgLSAxMjBrIFdIQUxFIHJlc2VydmVkIGZvciBXaGFsZUZVTkQgdGVhbQoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgcGFydG5lcnNGdW5kID0gMjQgKiAoMTAqKjMpICogMTAqKmRlY2ltYWxzOwkJLy8gMyUgLSAyNGsgV0hBTEUgcmVzZXJ2ZWQgZm9yIHBhcnRuZXIgcHJvZ3JhbQoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgYm91bnR5RnVuZCA9IDI0ICogKDEwKiozKSAqIDEwKipkZWNpbWFsczsJCS8vIDMlIC0gMjRrIFdIQUxFIHJlc2VydmVkIGZvciBib3VudHkgcHJvZ3JhbQoJCgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCB3aGFsZUV4Y2hhbmdlUmF0ZSA9IDEwMDsJCQkJCQkvLyAxMDAgV0hBTEUgdG9rZW5zIHBlciAxIEVUSAoJCgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBwcmVJY29Cb251cyA9IDE1OwkJCQkJCQkJLy8gUHJlSUNPIGJvbnVzIDE1JQoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgaWNvVGhyZXNob2xkMSA9IDQyMCAqICgxMCoqMykgKiAxMCoqZGVjaW1hbHM7CS8vIDwxMDBrIHNvbGQgV0hBTEUgdG9rZW5zLCB3aXRob3V0IDE1MmsrMTIwaysyNGsrMjRrPTMyMGsgcmVzZXJ2ZWQgdG9rZW5zCgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBpY29UaHJlc2hvbGQyID0gNTIwICogKDEwKiozKSAqIDEwKipkZWNpbWFsczsJLy8gPjEwMGsgJiYgPDIwMGsgc29sZCBXSEFMRSB0b2tlbnMsIHdpdGhvdXQgMTUyaysxMjBrKzI0aysyNGs9MzIwayByZXNlcnZlZCB0b2tlbnMKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IGljb1RocmVzaG9sZDMgPSA2MjAgKiAoMTAqKjMpICogMTAqKmRlY2ltYWxzOwkvLyA+MjAwayAmJiA8MzAwayBzb2xkIFdIQUxFIHRva2Vucywgd2l0aG91dCAxNTJrKzEyMGsrMjRrKzI0az0zMjBrIHJlc2VydmVkIHRva2VucwoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgaWNvVGhyZXNob2xkQm9udXMxID0gMTA7CQkJCQkJLy8gSUNPIHRocmVzaG9sZCBib251cyAxMCUKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IGljb1RocmVzaG9sZEJvbnVzMiA9IDU7CQkJCQkJCS8vIElDTyB0aHJlc2hvbGQgYm9udXMgNSUKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IGljb1RocmVzaG9sZEJvbnVzMyA9IDM7CQkJCQkJCS8vIElDTyB0aHJlc2hvbGQgYm9udXMgMyUKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IGljb0Ftb3VudEJvbnVzMSA9IDI7CQkJCQkJCS8vIElDTyBhbW91bnQgYm9udXMgMiUKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IGljb0Ftb3VudEJvbnVzMiA9IDM7CQkJCQkJCS8vIElDTyBhbW91bnQgYm9udXMgMyUKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IGljb0Ftb3VudEJvbnVzMyA9IDU7CQkJCQkJCS8vIElDTyBhbW91bnQgYm9udXMgNSUKCiAgICBhZGRyZXNzIHB1YmxpYyBldGhlckFkZHJlc3M7CiAgICBhZGRyZXNzIHB1YmxpYyBvcGVyYXRpbmdGdW5kQWRkcmVzczsKCWFkZHJlc3MgcHVibGljIHRlYW1GdW5kQWRkcmVzczsKCWFkZHJlc3MgcHVibGljIHBhcnRuZXJzRnVuZEFkZHJlc3M7CglhZGRyZXNzIHB1YmxpYyBib3VudHlGdW5kQWRkcmVzczsKCWFkZHJlc3MgcHVibGljIGRpdmlkZW5kRnVuZEFkZHJlc3M7CgogICAgYm9vbCBwdWJsaWMgaXNGaW5hbGl6ZWQ7Cgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBjcm93ZHNhbGVTdGFydCA9IDE1MTExMzYwMDA7CQkJCQkvLyBNb25kYXksIDIwIE5vdmVtYmVyIDIwMTcsIDAwOjAwOjAwIFVUQwoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgY3Jvd2RzYWxlRW5kID0gMTUxMzU1NTIwMDsJCQkJCQkvLyBNb25kYXksIDE4IERlY2VtYmVyIDIwMTcsIDAwOjAwOjAwIFVUQwoKICAgIGV2ZW50IGNyZWF0ZVdoYWxlVG9rZW5zKGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKCgogICAgZnVuY3Rpb24gV2hhbGVUb2tlbigKICAgICAgICBhZGRyZXNzIF9ldGhlckFkZHJlc3MsCiAgICAgICAgYWRkcmVzcyBfb3BlcmF0aW5nRnVuZEFkZHJlc3MsCgkJYWRkcmVzcyBfdGVhbUZ1bmRBZGRyZXNzLAoJCWFkZHJlc3MgX3BhcnRuZXJzRnVuZEFkZHJlc3MsCgkJYWRkcmVzcyBfYm91bnR5RnVuZEFkZHJlc3MsCgkJYWRkcmVzcyBfZGl2aWRlbmRGdW5kQWRkcmVzcwoJKQogICAgewoKICAgICAgICBpc0ZpbmFsaXplZCA9IGZhbHNlOwoKICAgICAgICBldGhlckFkZHJlc3MgPSBfZXRoZXJBZGRyZXNzOwogICAgICAgIG9wZXJhdGluZ0Z1bmRBZGRyZXNzID0gX29wZXJhdGluZ0Z1bmRBZGRyZXNzOwoJCXRlYW1GdW5kQWRkcmVzcyA9IF90ZWFtRnVuZEFkZHJlc3M7CgkgICAgcGFydG5lcnNGdW5kQWRkcmVzcyA9IF9wYXJ0bmVyc0Z1bmRBZGRyZXNzOwoJCWJvdW50eUZ1bmRBZGRyZXNzID0gX2JvdW50eUZ1bmRBZGRyZXNzOwoJCWRpdmlkZW5kRnVuZEFkZHJlc3MgPSBfZGl2aWRlbmRGdW5kQWRkcmVzczsKCQkKCQl0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChvcGVyYXRpbmdGdW5kKS5hZGQodGVhbUZ1bmQpLmFkZChwYXJ0bmVyc0Z1bmQpLmFkZChib3VudHlGdW5kKTsKCgkJYmFsYW5jZXNbb3BlcmF0aW5nRnVuZEFkZHJlc3NdID0gb3BlcmF0aW5nRnVuZDsJCQkJCQkvLyBVcGRhdGUgb3BlcmF0aW5nIGZ1bmRzIGJhbGFuY2UKCQljcmVhdGVXaGFsZVRva2VucyhvcGVyYXRpbmdGdW5kQWRkcmVzcywgb3BlcmF0aW5nRnVuZCk7CQkJCS8vIENyZWF0ZSBvcGVyYXRpbmcgZnVuZHMgdG9rZW5zCgoJCWJhbGFuY2VzW3RlYW1GdW5kQWRkcmVzc10gPSB0ZWFtRnVuZDsJCQkJCQkJCS8vIFVwZGF0ZSB0ZWFtIGZ1bmRzIGJhbGFuY2UKCQljcmVhdGVXaGFsZVRva2Vucyh0ZWFtRnVuZEFkZHJlc3MsIHRlYW1GdW5kKTsJCQkJCQkvLyBDcmVhdGUgdGVhbSBmdW5kcyB0b2tlbnMKCgkJYmFsYW5jZXNbcGFydG5lcnNGdW5kQWRkcmVzc10gPSBwYXJ0bmVyc0Z1bmQ7CQkJCQkJLy8gVXBkYXRlIHBhcnRuZXIgcHJvZ3JhbSBmdW5kcyBiYWxhbmNlCgkJY3JlYXRlV2hhbGVUb2tlbnMocGFydG5lcnNGdW5kQWRkcmVzcywgcGFydG5lcnNGdW5kKTsJCQkJLy8gQ3JlYXRlIHBhcnRuZXIgcHJvZ3JhbSBmdW5kcyB0b2tlbnMKCQkKCQliYWxhbmNlc1tib3VudHlGdW5kQWRkcmVzc10gPSBib3VudHlGdW5kOwkJCQkJCQkvLyBVcGRhdGUgYm91bnR5IHByb2dyYW0gZnVuZHMgYmFsYW5jZQoJCWNyZWF0ZVdoYWxlVG9rZW5zKGJvdW50eUZ1bmRBZGRyZXNzLCBib3VudHlGdW5kKTsJCQkJCS8vIENyZWF0ZSBib3VudHkgcHJvZ3JhbSBmdW5kcyB0b2tlbnMKCgl9CgoKICAgIGZ1bmN0aW9uIG1ha2VUb2tlbnMoKSBwYXlhYmxlICB7CgoJCXJlcXVpcmUoICFpc0ZpbmFsaXplZCApOwoJCXJlcXVpcmUoIG5vdyA+PSBjcm93ZHNhbGVTdGFydCApOwoJCXJlcXVpcmUoIG5vdyA8IGNyb3dkc2FsZUVuZCApOwoJCQoJCWlmIChub3cgPCBjcm93ZHNhbGVTdGFydCArIDcgZGF5cykgewoJCQlyZXF1aXJlKCBtc2cudmFsdWUgPj0gMzAwMCBmaW5uZXkgKTsKCQl9IGVsc2UgaWYgKG5vdyA+PSBjcm93ZHNhbGVTdGFydCArIDcgZGF5cykgewoJCQlyZXF1aXJlKCBtc2cudmFsdWUgPj0gMTAgZmlubmV5ICk7CgkJfQoKCgkJdWludDI1NiBidXllZFRva2VucyA9IDA7CgkJdWludDI1NiBib251c1Rva2VucyA9IDA7CgkJdWludDI1NiBib251c1RocmVzaG9sZFRva2VucyA9IDA7CgkJdWludDI1NiBib251c0Ftb3VudFRva2VucyA9IDA7CgkJdWludDI1NiB0b2tlbnMgPSAwOwoKCgkJaWYgKG5vdyA8IGNyb3dkc2FsZVN0YXJ0ICsgNyBkYXlzKSB7CgoJCQlidXllZFRva2VucyA9IG1zZy52YWx1ZS5tdWwod2hhbGVFeGNoYW5nZVJhdGUpOwkJCQkJCQkJLy8gQnV5ZWQgV0hBTEUgdG9rZW5zIHdpdGhvdXQgYm9udXNlcwoJCQlib251c1Rva2VucyA9IGJ1eWVkVG9rZW5zLm11bChwcmVJY29Cb251cykuZGl2KDEwMCk7CQkJCQkJLy8gcHJlSUNPIGJvbnVzIDE1JQoJCQl0b2tlbnMgPSBidXllZFRva2Vucy5hZGQoYm9udXNUb2tlbnMpOwkJCQkJCQkJCQkvLyBCdXllZCBXSEFMRSB0b2tlbnMgd2l0aCBib251c2VzCgkKCQl9IGVsc2UgewoJCQoJCQlidXllZFRva2VucyA9IG1zZy52YWx1ZS5tdWwod2hhbGVFeGNoYW5nZVJhdGUpOwkJCQkJCQkJLy8gQnV5ZWQgV0hBTEUgdG9rZW5zIHdpdGhvdXQgYm9udXNlcwoKCQkJaWYgKHRvdGFsU3VwcGx5IDw9IGljb1RocmVzaG9sZDEpIHsKCQkJCWJvbnVzVGhyZXNob2xkVG9rZW5zID0gYnV5ZWRUb2tlbnMubXVsKGljb1RocmVzaG9sZEJvbnVzMSkuZGl2KDEwMCk7CS8vIElDTyB0aHJlc2hvbGQgYm9udXMgMTAlCgkJCX0gZWxzZSBpZiAodG90YWxTdXBwbHkgPiBpY29UaHJlc2hvbGQxICYmIHRvdGFsU3VwcGx5IDw9IGljb1RocmVzaG9sZDIpIHsKCQkJCWJvbnVzVGhyZXNob2xkVG9rZW5zID0gYnV5ZWRUb2tlbnMubXVsKGljb1RocmVzaG9sZEJvbnVzMikuZGl2KDEwMCk7CS8vIElDTyB0aHJlc2hvbGQgYm9udXMgNSUKCQkJfSBlbHNlIGlmICh0b3RhbFN1cHBseSA+IGljb1RocmVzaG9sZDIgJiYgdG90YWxTdXBwbHkgPD0gaWNvVGhyZXNob2xkMykgewoJCQkJYm9udXNUaHJlc2hvbGRUb2tlbnMgPSBidXllZFRva2Vucy5tdWwoaWNvVGhyZXNob2xkQm9udXMzKS5kaXYoMTAwKTsJLy8gSUNPIHRocmVzaG9sZCBib251cyAzJQoJCQl9IGVsc2UgaWYgKHRvdGFsU3VwcGx5ID4gaWNvVGhyZXNob2xkMykgewoJCQkJYm9udXNUaHJlc2hvbGRUb2tlbnMgPSAwOwkJCQkJCQkJCQkJCS8vIElDTyB0aHJlc2hvbGQgYm9udXMgMCUKCQkJfQoKCQkJaWYgKG1zZy52YWx1ZSA8IDEwMDAwIGZpbm5leSkgewoJCQkJYm9udXNBbW91bnRUb2tlbnMgPSAwOwkJCQkJCQkJCQkJCQkvLyBJQ08gYW1vdW50IGJvbnVzIDAlCgkJCX0gZWxzZSBpZiAobXNnLnZhbHVlID49IDEwMDAwIGZpbm5leSAmJiBtc2cudmFsdWUgPCAxMDAwMTAgZmlubmV5KSB7CgkJCQlib251c0Ftb3VudFRva2VucyA9IGJ1eWVkVG9rZW5zLm11bChpY29BbW91bnRCb251czEpLmRpdigxMDApOwkJCS8vIElDTyBhbW91bnQgYm9udXMgMiUKCQkJfSBlbHNlIGlmIChtc2cudmFsdWUgPj0gMTAwMDEwIGZpbm5leSAmJiBtc2cudmFsdWUgPCAzMDAwMTAgZmlubmV5KSB7CgkJCQlib251c0Ftb3VudFRva2VucyA9IGJ1eWVkVG9rZW5zLm11bChpY29BbW91bnRCb251czIpLmRpdigxMDApOwkJCS8vIElDTyBhbW91bnQgYm9udXMgMyUKCQkJfSBlbHNlIGlmIChtc2cudmFsdWUgPj0gMzAwMDEwIGZpbm5leSkgewoJCQkJYm9udXNBbW91bnRUb2tlbnMgPSBidXllZFRva2Vucy5tdWwoaWNvQW1vdW50Qm9udXMzKS5kaXYoMTAwKTsJCQkvLyBJQ08gYW1vdW50IGJvbnVzIDUlCgkJCX0KCgkJCXRva2VucyA9IGJ1eWVkVG9rZW5zLmFkZChib251c1RocmVzaG9sZFRva2VucykuYWRkKGJvbnVzQW1vdW50VG9rZW5zKTsJCS8vIEJ1eWVkIFdIQUxFIHRva2VucyB3aXRoIGJvbnVzZXMKCgkJfQoKCSAgICB1aW50MjU2IGN1cnJlbnRTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQodG9rZW5zKTsKCgkJcmVxdWlyZSggbWF4aW11bVN1cHBseSA+PSBjdXJyZW50U3VwcGx5ICk7CgogICAgICAgIHRvdGFsU3VwcGx5ID0gY3VycmVudFN1cHBseTsKCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gdG9rZW5zOwkJCQkJCQkJCQkvLyBVcGRhdGUgYnV5ZXIgYmFsYW5jZSAKICAgICAgICBjcmVhdGVXaGFsZVRva2Vucyhtc2cuc2VuZGVyLCB0b2tlbnMpOwkJCQkJCQkJLy8gQ3JlYXRlIGJ1eWVkIHRva2VucwoJCQoJCWV0aGVyQWRkcmVzcy50cmFuc2Zlcihtc2cudmFsdWUpOwkJCQkJCQkJCS8vIFRyYW5zZmVyIEVUSCB0byBNdWx0aVNpZyBBZGRyZXNzCgogICAgfQoKCiAgICBmdW5jdGlvbigpIHBheWFibGUgewoKICAgICAgICBtYWtlVG9rZW5zKCk7CgogICAgfQoKCiAgICBmdW5jdGlvbiBmaW5hbGl6ZUNyb3dkc2FsZSgpIGV4dGVybmFsIHsKCgkJcmVxdWlyZSggIWlzRmluYWxpemVkICk7CQkJCQkJCQkJCQkvLyBSZXF1aXJlZCBjcm93ZHNhbGUgc3RhdGUgRkFMU0UKCQlyZXF1aXJlKCBtc2cuc2VuZGVyID09IHRlYW1GdW5kQWRkcmVzcyApOwkJCQkJCQkvLyBSZXF1aXJlZCBjYWxsIGZyb20gdGVhbSBmdW5kIGFkZHJlc3MKCQlyZXF1aXJlKCBub3cgPiBjcm93ZHNhbGVFbmQgfHwgdG90YWxTdXBwbHkgPT0gbWF4aW11bVN1cHBseSApOwkJLy8gUmVxdWlyZWQgY3Jvd2RzYWxlIGVuZGVkIG9yIG1heGltdW0gc3VwcGx5IHJlYWNoZWQKCQkKCQl1aW50MjU2IHJlbWFpbmluZ1N1cHBseSA9IG1heGltdW1TdXBwbHkuc3ViKHRvdGFsU3VwcGx5KTsJCQkvLyBSZW1haW5pbmcgdG9rZW5zIHRvIHJlYWNoIG1heGltdW0gc3VwcGx5CgkJaWYgKHJlbWFpbmluZ1N1cHBseSA+IDApIHsKCQkJdWludDI1NiB1cGRhdGVkU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKHJlbWFpbmluZ1N1cHBseSk7CQkvLyBOZXcgdG90YWwgc3VwcGx5CgkJCXRvdGFsU3VwcGx5ID0gdXBkYXRlZFN1cHBseTsJCQkJCQkJCQkvLyBVcGRhdGUgdG90YWwgc3VwcGx5CgkJCWJhbGFuY2VzW2RpdmlkZW5kRnVuZEFkZHJlc3NdICs9IHJlbWFpbmluZ1N1cHBseTsJCQkJLy8gVXBkYXRlIGRpdmlkZW5kIGZ1bmRzIGJhbGFuY2UKCQkJY3JlYXRlV2hhbGVUb2tlbnMoZGl2aWRlbmRGdW5kQWRkcmVzcywgcmVtYWluaW5nU3VwcGx5KTsJCS8vIENyZWF0ZSBkaXZpZGVuZCBmdW5kcyB0b2tlbnMKCQl9CgogICAgICAgIGlzRmluYWxpemVkID0gdHJ1ZTsJCQkJCQkJCQkJCQkJLy8gU2V0IGNyb3dkc2FsZSBzdGF0ZSBUUlVFCgogICAgfQoKfQ=='.
	

]
