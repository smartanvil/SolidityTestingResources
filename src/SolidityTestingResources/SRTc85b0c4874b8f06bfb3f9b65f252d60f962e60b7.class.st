Class {
	#name : #SRTc85b0c4874b8f06bfb3f9b65f252d60f962e60b7,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc85b0c4874b8f06bfb3f9b65f252d60f962e60b7 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMDsKCmNvbnRyYWN0IFNhZmVNYXRoIHsKICAvL2ludGVybmFscwoKICBmdW5jdGlvbiBzYWZlTXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IGMpIHsKICAgIGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgfQoKICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IGMpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgYyA9IGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gc2FmZUFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiBjKSB7CiAgICBjID0gYSArIGI7CiAgICBhc3NlcnQoYz49YSAmJiBjPj1iKTsKICB9CgogIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgewogICAgaWYgKCFhc3NlcnRpb24pIHRocm93OwogIH0KfQoKY29udHJhY3QgVG9rZW4gewogIC8vLyBAcmV0dXJuIHRvdGFsIGFtb3VudCBvZiB0b2tlbnMKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgc3VwcGx5KSB7fQoKICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgLy8vIEByZXR1cm4gVGhlIGJhbGFuY2UKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkge30KCiAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYAogIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9CgogIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogIC8vLyBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQoKICAvLy8gQG5vdGljZSBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9hZGRyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMKICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2Ygd2VpIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2ZlcgogIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykge30KCiAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgLy8vIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudAogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHt9CgogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwoKICB1aW50IHB1YmxpYyBkZWNpbWFsczsKICBzdHJpbmcgcHVibGljIG5hbWU7Cn0KCmNvbnRyYWN0IFZhbHVlVG9rZW4gaXMgU2FmZU1hdGgsVG9rZW57CiAgICAKICAgIHN0cmluZyBuYW1lID0gIlZhbHVlIjsKICAgIHVpbnQgZGVjaW1hbHMgPSAwOwogICAgCiAgICB1aW50MjU2IHN1cHBseU5vdyA9IDA7IAogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBpbnRlcm5hbCBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKICAgIAogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHRvdGFsU3VwcGx5KXsKICAgICAgICByZXR1cm4gc3VwcGx5Tm93OwogICAgfQogICAgCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSl7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKXsKICAgICAgICBpZiAoYmFsYW5jZU9mKG1zZy5zZW5kZXIpID49IF92YWx1ZSkgewogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHNhZmVTdWIoYmFsYW5jZU9mKG1zZy5zZW5kZXIpLCBfdmFsdWUpOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlT2YoX3RvKSwgX3ZhbHVlKTsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0KICAgICAgICAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKXsKICAgICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUpIHsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZU9mKF90byksIF92YWx1ZSk7CiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IHNhZmVTdWIoYmFsYW5jZU9mKF9mcm9tKSwgX3ZhbHVlKTsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBzYWZlU3ViKGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLCBfdmFsdWUpOwogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKXsKICAgICAgICBpZihiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUpewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKXsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY3JlYXRlVmFsdWUoYWRkcmVzcyBfb3duZXIsIHVpbnQyNTYgX3ZhbHVlKSBpbnRlcm5hbCByZXR1cm5zIChib29sIHN1Y2Nlc3MpewogICAgICAgIGJhbGFuY2VzW19vd25lcl0gPSBzYWZlQWRkKGJhbGFuY2VzW19vd25lcl0sIF92YWx1ZSk7CiAgICAgICAgc3VwcGx5Tm93ID0gc2FmZUFkZChzdXBwbHlOb3csIF92YWx1ZSk7CiAgICAgICAgTWludChfb3duZXIsIF92YWx1ZSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGRlc3Ryb3lWYWx1ZShhZGRyZXNzIF9vd25lciwgdWludDI1NiBfdmFsdWUpIGludGVybmFsIHJldHVybnMgKGJvb2wgc3VjY2Vzcyl7CiAgICAgICAgYmFsYW5jZXNbX293bmVyXSA9IHNhZmVTdWIoYmFsYW5jZXNbX293bmVyXSwgX3ZhbHVlKTsKICAgICAgICBzdXBwbHlOb3cgPSBzYWZlU3ViKHN1cHBseU5vdywgX3ZhbHVlKTsKICAgICAgICBCdXJuKF9vd25lciwgX3ZhbHVlKTsKICAgIH0KICAgIAogICAgZXZlbnQgTWludChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCB1aW50MjU2IF92YWx1ZSk7CiAgICAKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIF9vd25lciwgdWludDI1NiBfdmFsdWUpOwogICAgCn0KCi8vLyBAdGl0bGUgUXVpY2sgdHJhZGluZyBhbmQgaW50ZXJlc3QteWllbGRpbmcgc2F2aW5ncy4KY29udHJhY3QgVmFsdWVUcmFkZXIgaXMgU2FmZU1hdGgsVmFsdWVUb2tlbnsKICAgIAogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7CiAgICAgICAgLy8gdGhpcyBjb250cmFjdCBlYXRzIGFueSBtb25leSBzZW50IHRvIGl0IGluY29ycmVjdGx5LgogICAgICAgIC8vIHRoYW5rIHlvdSBmb3IgdGhlIGRvbmF0aW9uLgogICAgfQogICAgCiAgICAvLyB1c2UgdGhpcyB0byBtYW5hZ2UgdG9rZW5zCiAgICBzdHJ1Y3QgVG9rZW5EYXRhIHsKICAgICAgICBib29sIGlzVmFsaWQ7IC8vIGlzIHRoaXMgdG9rZW4gY3VycmVudGx5IGFjY2VwdGVkCiAgICAgICAgdWludDI1NiBiYXNlUHJpY2U7IC8vYmFzZSBwcmljZSBvZiB0aGlzIHRva2VuCiAgICAgICAgdWludDI1NiBiYXNlTGlxdWlkaXR5OyAvL3RhcmdldCBsaXF1aWRpdHkgb2YgdGhpcyB0b2tlbiAocHJpY2UgPSBiYXNlUHJpY2UgK3BzZikKICAgICAgICB1aW50MjU2IHByaWNlU2NhbGVGYWN0b3I7IC8vaG93IHF1aWNrbHkgZG9lcyBwcmljZSBpbmNyZWFzZSBhYm92ZSBiYXNlCiAgICAgICAgYm9vbCBoYXNEaXZpZGVuZDsKICAgICAgICBhZGRyZXNzIGRpdkNvbnRyYWN0QWRkcmVzczsKICAgICAgICBieXRlcyBkaXZEYXRhOwogICAgfQogICAgCiAgICBhZGRyZXNzIG93bmVyOwogICAgYWRkcmVzcyBldGhlckNvbnRyYWN0OwogICAgdWludDI1NiB0cmFkZUNvZWZmaWNpZW50OyAvLyAxLSh0aGlzLzEwMDAwKSA9IGZlZSBmb3IgaW5zdGFudCB0cmFkZXMsICJuZWdhdGl2ZSIgZmVlcyBwb3NzaWJsZS4KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gVG9rZW5EYXRhKSB0b2tlbk1hbmFnZTsKICAgIGJvb2wgcHVibGljIGJ1cm5pbmcgPSBmYWxzZTsgLy9hZnRlciBkcmFpbmluZyBpcyBmaW5pc2hlZCwgYnVybiB0byByZXRyaWV2ZSB0b2tlbnMsIGFsbG93IHN1aWNpZGUuCiAgICBib29sIHB1YmxpYyBkcmFpbmluZyA9IGZhbHNlOyAvL3ByZXZlbnQgY3JlYXRpb24gb2YgbmV3IHZhbHVlCiAgICAKICAgIG1vZGlmaWVyIG93bmVkKCl7CiAgICAgICAgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIG1vZGlmaWVyIGJ1cm5CbG9jaygpewogICAgICAgIGFzc2VydCghYnVybmluZyk7CiAgICAgICAgXzsKICAgIH0KICAgIAogICAgbW9kaWZpZXIgZHJhaW5CbG9jaygpewogICAgICAgIGFzc2VydCghZHJhaW5pbmcpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIC8veW91IGNhbm5vdCB0dXJuIG9mZiBkcmFpbmluZyB3aXRob3V0IHR1cm5pbmcgb2ZmIGJ1cm5pbmcgZmlyc3QuCiAgICBmdW5jdGlvbiB0b2dnbGVEcmFpbigpIGJ1cm5CbG9jayBvd25lZCB7CiAgICAgICAgZHJhaW5pbmcgPSAhZHJhaW5pbmc7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHRvZ2dsZUJ1cm4oKSBvd25lZCB7CiAgICAgICAgYXNzZXJ0KGRyYWluaW5nKTsKICAgICAgICBhc3NlcnQoYmFsYW5jZU9mKG93bmVyKSA9PSBzdXBwbHlOb3cpOwogICAgICAgIGJ1cm5pbmcgPSAhYnVybmluZzsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZGllKCkgb3duZWQgYnVybkJsb2NrewogICAgICAgIC8vTUFLRSBTVVJFIFRPIFJFVFJJRVZFIFRPS0VOIEJBTEFOQ0VTIEJFRk9SRSBET0lORyBUSElTIQogICAgICAgIHNlbGZkZXN0cnVjdChvd25lcik7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHZhbGlkYXRlVG9rZW4oYWRkcmVzcyB0b2tlbl8sIHVpbnQyNTYgYlBfLCB1aW50MjU2IGJMXywgdWludDI1NiBwRl8pIG93bmVkIHsKICAgICAgICAKICAgICAgICB0b2tlbk1hbmFnZVt0b2tlbl9dLmlzVmFsaWQgPSB0cnVlOwogICAgICAgIHRva2VuTWFuYWdlW3Rva2VuX10uYmFzZVByaWNlID0gYlBfOwogICAgICAgIHRva2VuTWFuYWdlW3Rva2VuX10uYmFzZUxpcXVpZGl0eSA9IGJMXzsKICAgICAgICB0b2tlbk1hbmFnZVt0b2tlbl9dLnByaWNlU2NhbGVGYWN0b3IgPSBwRl87CiAgICAgICAgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZVRva2VuRGl2aWRlbmQoYWRkcmVzcyB0b2tlbl8sIGJvb2wgaERfLCBhZGRyZXNzIGRBXywgYnl0ZXMgZERfKSBvd25lZCB7CiAgICAKICAgICAgICB0b2tlbk1hbmFnZVt0b2tlbl9dLmhhc0RpdmlkZW5kID0gaERfOwogICAgICAgIHRva2VuTWFuYWdlW3Rva2VuX10uZGl2Q29udHJhY3RBZGRyZXNzID0gZEFfOwogICAgICAgIHRva2VuTWFuYWdlW3Rva2VuX10uZGl2RGF0YSA9IGREXzsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY2FsbERpdmlkZW5kKGFkZHJlc3MgdG9rZW5fKSBvd25lZCB7CiAgICAgICAgLy90aGlzIGlzIGEgZGFuZ2Vyb3VzIGFuZCBpcnJlc3BvbnNpYmxlIGZlYXR1cmUsCiAgICAgICAgLy9naXZlcyBvd25lciBhYmlsaXR5IHRvIGRvIHZpcnR1YWxseSBhbnl0aGluZyAKICAgICAgICAvLyhiYXIgcnVubmluZyBhd2F5IHdpdGggYWxsIHRoZSBldGhlcikKICAgICAgICAvL0kgY2FuJ3QgdGhpbmsgb2YgYSBiZXR0ZXIgc29sdXRpb24gdW50aWwgdGhlcmUgaXMgYSBzdGFuZGFyZCBmb3IgZGl2aWRlbmQtcGF5aW5nIGNvbnRyYWN0cy4KICAgICAgICBhc3NlcnQodG9rZW5NYW5hZ2VbdG9rZW5fXS5oYXNEaXZpZGVuZCk7CiAgICAgICAgYXNzZXJ0KHRva2VuTWFuYWdlW3Rva2VuX10uZGl2Q29udHJhY3RBZGRyZXNzLmNhbGwudmFsdWUoMCkodG9rZW5NYW5hZ2VbdG9rZW5fXS5kaXZEYXRhKSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGludmFsaWRhdGVUb2tlbihhZGRyZXNzIHRva2VuXykgb3duZWQgewogICAgICAgIHRva2VuTWFuYWdlW3Rva2VuX10uaXNWYWxpZCA9IGZhbHNlOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIG93bmVyXykgb3duZWQgewogICAgICAgIG93bmVyID0gb3duZXJfOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBjaGFuZ2VGZWUodWludDI1NiB0cmFkZUZlZSkgb3duZWQgewogICAgICAgIHRyYWRlQ29lZmZpY2llbnQgPSB0cmFkZUZlZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY2hhbmdlRXRoZXJDb250cmFjdChhZGRyZXNzIGVDKSBvd25lZCB7CiAgICAgICAgZXRoZXJDb250cmFjdCA9IGVDOwogICAgfQogICAgCiAgICBldmVudCBCdXkoYWRkcmVzcyB0b2tlbkFkZHJlc3MsIGFkZHJlc3MgYnV5ZXIsIHVpbnQyNTYgYW1vdW50LCB1aW50MjU2IHJlbWFpbmluZyk7CiAgICBldmVudCBTZWxsKGFkZHJlc3MgdG9rZW5BZGRyZXNzLCBhZGRyZXNzIGJ1eWVyLCB1aW50MjU2IGFtb3VudCwgdWludDI1NiByZW1haW5pbmcpOwogICAgZXZlbnQgVHJhZGUoYWRkcmVzcyBmcm9tVG9rQWRkcmVzcywgYWRkcmVzcyB0b1Rva0FkZHJlc3MsIGFkZHJlc3MgYnV5ZXIsIHVpbnQyNTYgYW1vdW50KTsKCiAgICBmdW5jdGlvbiBWYWx1ZVRyYWRlcigpewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICBidXJuaW5nID0gZmFsc2U7CiAgICAgICAgZHJhaW5pbmcgPSBmYWxzZTsKICAgIH0KICAgIAogICAgCiAgICAKICAgIGZ1bmN0aW9uIHZhbHVlV2l0aEZlZSh1aW50MjU2IHRlbXBWYWx1ZSkgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiBkb25lVmFsdWUpewogICAgICAgIGRvbmVWYWx1ZSA9IHNhZmVNdWwodGVtcFZhbHVlLHRyYWRlQ29lZmZpY2llbnQpLzEwMDAwOwogICAgICAgIGlmKHRyYWRlQ29lZmZpY2llbnQgPCAxMDAwMCl7CiAgICAgICAgICAgIC8vc2VuZCBmZWVzIHRvIG93bmVyIChpbiB2YWx1ZSB0b2tlbnMpLgogICAgICAgICAgICBjcmVhdGVWYWx1ZShvd25lcixzYWZlU3ViKHRlbXBWYWx1ZSxkb25lVmFsdWUpKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGN1cnJlbnRQcmljZShhZGRyZXNzIHRva2VuKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHByaWNlKXsKICAgICAgICBpZihkcmFpbmluZyl7CiAgICAgICAgICAgIHByaWNlID0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgIGFzc2VydCh0b2tlbk1hbmFnZVt0b2tlbl0uaXNWYWxpZCk7CiAgICAgICAgdWludDI1NiBiYXNlUHJpY2UgPSB0b2tlbk1hbmFnZVt0b2tlbl0uYmFzZVByaWNlOwogICAgICAgIHVpbnQyNTYgYmFzZUxpcXVpZGl0eSA9IHRva2VuTWFuYWdlW3Rva2VuXS5iYXNlTGlxdWlkaXR5OwogICAgICAgIHVpbnQyNTYgcHJpY2VTY2FsZUZhY3RvciA9IHRva2VuTWFuYWdlW3Rva2VuXS5wcmljZVNjYWxlRmFjdG9yOwogICAgICAgIHVpbnQyNTYgY3VycmVudExpcXVpZGl0eTsKICAgICAgICBpZih0b2tlbiA9PSBldGhlckNvbnRyYWN0KXsKICAgICAgICAgICAgY3VycmVudExpcXVpZGl0eSA9IHRoaXMuYmFsYW5jZTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgY3VycmVudExpcXVpZGl0eSA9IFRva2VuKHRva2VuKS5iYWxhbmNlT2YodGhpcyk7CiAgICAgICAgfQogICAgICAgIHByaWNlID0gc2FmZUFkZChiYXNlUHJpY2Usc2FmZU11bChwcmljZVNjYWxlRmFjdG9yLGJhc2VMaXF1aWRpdHkvY3VycmVudExpcXVpZGl0eSkpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gY3VycmVudExpcXVpZGl0eShhZGRyZXNzIHRva2VuKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGxpcXVpZGl0eSl7CiAgICAgICAgbGlxdWlkaXR5ID0gVG9rZW4odG9rZW4pLmJhbGFuY2VPZih0aGlzKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gdmFsdWVUb1Rva2VuKGFkZHJlc3MgdG9rZW4sIHVpbnQyNTYgYW1vdW50KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHZhbHVlKXsKICAgICAgICB2YWx1ZSA9IGFtb3VudC9jdXJyZW50UHJpY2UodG9rZW4pOwogICAgICAgIGFzc2VydCh2YWx1ZSAhPSAwKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gdG9rZW5Ub1ZhbHVlKGFkZHJlc3MgdG9rZW4sIHVpbnQyNTYgYW1vdW50KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHZhbHVlKXsKICAgICAgICB2YWx1ZSA9IHNhZmVNdWwoYW1vdW50LGN1cnJlbnRQcmljZSh0b2tlbikpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBzZWxsVG9rZW4oYWRkcmVzcyB0b2tlbiwgdWludDI1NiBhbW91bnQpIGRyYWluQmxvY2sgewogICAgLy9yZW1lbWJlciB0byBjYWxsIFRva2VuKGFkZHJlc3MpLmFwcHJvdmUodGhpcywgYW1vdW50KSBvciB0aGlzIGNvbnRyYWN0IHdpbGwgbm90IGJlIGFibGUgdG8gZG8gdGhlIHRyYW5zZmVyIG9uIHlvdXIgYmVoYWxmLgogICAgICAgIGFzc2VydCh2ZXJpZmllZFRyYW5zZmVyRnJvbSh0b2tlbixtc2cuc2VuZGVyLGFtb3VudCkpOwogICAgICAgIGFzc2VydChjcmVhdGVWYWx1ZShtc2cuc2VuZGVyLCB0b2tlblRvVmFsdWUodG9rZW4sYW1vdW50KSkpOwogICAgICAgIFNlbGwodG9rZW4sIG1zZy5zZW5kZXIsIGFtb3VudCwgYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwogICAgfQoKICAgIGZ1bmN0aW9uIGJ1eVRva2VuKGFkZHJlc3MgdG9rZW4sIHVpbnQyNTYgYW1vdW50KSB7CiAgICAgICAgYXNzZXJ0KCEodmFsdWVUb1Rva2VuKHRva2VuLGJhbGFuY2VzW21zZy5zZW5kZXJdKSA8IGFtb3VudCkpOwogICAgICAgIGFzc2VydChkZXN0cm95VmFsdWUobXNnLnNlbmRlciwgdG9rZW5Ub1ZhbHVlKHRva2VuLGFtb3VudCkpKTsKICAgICAgICBhc3NlcnQoVG9rZW4odG9rZW4pLnRyYW5zZmVyKG1zZy5zZW5kZXIsIGFtb3VudCkpOwogICAgICAgIEJ1eSh0b2tlbiwgbXNnLnNlbmRlciwgYW1vdW50LCBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHNlbGxFdGhlcigpIHBheWFibGUgZHJhaW5CbG9jayB7CiAgICAgICAgYXNzZXJ0KGNyZWF0ZVZhbHVlKG1zZy5zZW5kZXIsIHRva2VuVG9WYWx1ZShldGhlckNvbnRyYWN0LG1zZy52YWx1ZSkpKTsKICAgICAgICBTZWxsKGV0aGVyQ29udHJhY3QsIG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBidXlFdGhlcih1aW50MjU2IGFtb3VudCkgewogICAgICAgIGFzc2VydCh2YWx1ZVRvVG9rZW4oZXRoZXJDb250cmFjdCxiYWxhbmNlc1ttc2cuc2VuZGVyXSkgPj0gYW1vdW50KTsKICAgICAgICBhc3NlcnQoZGVzdHJveVZhbHVlKG1zZy5zZW5kZXIsIHRva2VuVG9WYWx1ZShldGhlckNvbnRyYWN0LGFtb3VudCkpKTsKICAgICAgICBhc3NlcnQobXNnLnNlbmRlci5jYWxsLnZhbHVlKGFtb3VudCkoKSk7CiAgICAgICAgQnV5KGV0aGVyQ29udHJhY3QsIG1zZy5zZW5kZXIsIGFtb3VudCwgYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwogICAgfQogICAgCiAgICAvL2lucHV0IGEgbWl4dHVyZSBvZiBhIHRva2VuIGFuZCBldGhlciwgcmVjaWV2ZSB0aGUgb3V0cHV0IHRva2VuCiAgICBmdW5jdGlvbiBxdWlja1RyYWRlKGFkZHJlc3MgdG9rZW5Gcm9tLCBhZGRyZXNzIHRva2VuVG8sIHVpbnQyNTYgaW5wdXQpIHBheWFibGUgZHJhaW5CbG9jayB7CiAgICAgICAgLy9yZW1lbWJlciB0byBjYWxsIFRva2VuKGFkZHJlc3MpLmFwcHJvdmUodGhpcywgYW1vdW50KSBvciB0aGlzIGNvbnRyYWN0IHdpbGwgbm90IGJlIGFibGUgdG8gZG8gdGhlICh0b2tlbikgdHJhbnNmZXIgb24geW91ciBiZWhhbGYuCiAgICAgICAgdWludDI1NiBpblZhbHVlOwogICAgICAgIHVpbnQyNTYgdGVtcEluVmFsdWUgPSBzYWZlQWRkKHRva2VuVG9WYWx1ZShldGhlckNvbnRyYWN0LG1zZy52YWx1ZSksCiAgICAgICAgdG9rZW5Ub1ZhbHVlKHRva2VuRnJvbSxpbnB1dCkpOwogICAgICAgIGluVmFsdWUgPSB2YWx1ZVdpdGhGZWUodGVtcEluVmFsdWUpOwogICAgICAgIHVpbnQyNTYgb3V0VmFsdWUgPSB2YWx1ZVRvVG9rZW4odG9rZW5UbyxpblZhbHVlKTsKICAgICAgICBhc3NlcnQodmVyaWZpZWRUcmFuc2ZlckZyb20odG9rZW5Gcm9tLG1zZy5zZW5kZXIsaW5wdXQpKTsKICAgICAgICBpZiAodG9rZW5UbyA9PSBldGhlckNvbnRyYWN0KXsKICAgICAgICAgIGFzc2VydChtc2cuc2VuZGVyLmNhbGwudmFsdWUob3V0VmFsdWUpKCkpOyAgCiAgICAgICAgfSBlbHNlIGFzc2VydChUb2tlbih0b2tlblRvKS50cmFuc2Zlcihtc2cuc2VuZGVyLCBvdXRWYWx1ZSkpOwogICAgICAgIFRyYWRlKHRva2VuRnJvbSwgdG9rZW5UbywgbXNnLnNlbmRlciwgaW5WYWx1ZSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHZlcmlmaWVkVHJhbnNmZXJGcm9tKGFkZHJlc3MgdG9rZW5Gcm9tLCBhZGRyZXNzIHNlbmRlckFkZCwgdWludDI1NiBhbW91bnQpIGludGVybmFsIHJldHVybnMgKGJvb2wgc3VjY2Vzcyl7CiAgICB1aW50MjU2IGJhbGFuY2VCZWZvcmUgPSBUb2tlbih0b2tlbkZyb20pLmJhbGFuY2VPZih0aGlzKTsKICAgIHN1Y2Nlc3MgPSBUb2tlbih0b2tlbkZyb20pLnRyYW5zZmVyRnJvbShzZW5kZXJBZGQsIHRoaXMsIGFtb3VudCk7CiAgICB1aW50MjU2IGJhbGFuY2VBZnRlciA9IFRva2VuKHRva2VuRnJvbSkuYmFsYW5jZU9mKHRoaXMpOwogICAgYXNzZXJ0KChzYWZlU3ViKGJhbGFuY2VBZnRlcixiYWxhbmNlQmVmb3JlKT09YW1vdW50KSk7CiAgICB9CgogICAgCn0KCi8vbWFuYWdlIFZhbHVlVHJhZGVyIGluIGFuIGF1dG9tYXRlZCB3YXkhCi8vZml4ZWQgYW1vdW50IG9mICgyKSBob2xkZXJzL21hbmFnZXJzLAovL2JlY2F1c2UgSSdtIHRvbyBsYXp5IHRvIG1ha2UgYW55dGhpbmcgbW9yZSBjb21wbGV4Lgpjb250cmFjdCBTaG9wS2VlcGVyIGlzIFNhZmVNYXRoewogICAgCiAgICBWYWx1ZVRyYWRlciBwdWJsaWMgc2hvcDsKICAgIGFkZHJlc3MgaG9sZGVyQTsgLy9hY3R1YWxseSBtYW5hZ2VzIHRoZSB0cmFkZXIsIHJlY2lldmVzIGVxdWFsIHNoYXJlIG9mIHByb2ZpdHMKICAgIGFkZHJlc3MgaG9sZGVyQjsgLy9vbmx5IHJlY2lldmVzIG1hbmFnZXMgb3duIHByb2ZpdHMsIChmb3IgcHJvZml0LWNvbnRhaW5lciB0eXBlIGNvbnRyYWN0cykKICAgIAogICAgCiAgICBtb2RpZmllciBvbmx5SG9sZGVycygpewogICAgICAgIGFzc2VydChtc2cuc2VuZGVyID09IGhvbGRlckEgfHwgbXNnLnNlbmRlciA9PSBob2xkZXJCKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICBtb2RpZmllciBvbmx5QSgpewogICAgICAgIGFzc2VydChtc2cuc2VuZGVyID09IGhvbGRlckEpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uKCl7CiAgICAgICAgLy90aGlzIGNvbnRyYWN0IGlzIG5vdCBncmVlZHksIHNob3VsZCBub3QgaG9sZCBhbnkgdmFsdWUuCiAgICAgICAgdGhyb3c7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIFNob3BLZWVwZXIoYWRkcmVzcyBvdGhlcil7CiAgICAgICAgc2hvcCA9IG5ldyBWYWx1ZVRyYWRlcigpOwogICAgICAgIGhvbGRlckEgPSBtc2cuc2VuZGVyOwogICAgICAgIGhvbGRlckIgPSBvdGhlcjsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ2l2ZUF3YXlPd25lcnNoaXAoYWRkcmVzcyBuZXdIb2xkZXIpIG9ubHlIb2xkZXJzIHsKICAgICAgICBpZihtc2cuc2VuZGVyID09IGhvbGRlckIpewogICAgICAgICAgICBob2xkZXJCID0gbmV3SG9sZGVyOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGhvbGRlckEgPSBuZXdIb2xkZXI7CiAgICAgICAgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiBzcGxpdFByb2ZpdHMoKXsKICAgICAgICB1aW50MjU2IHVucHJvY2Vzc2VkUHJvZml0ID0gc2hvcC5iYWxhbmNlT2YodGhpcyk7CiAgICAgICAgdWludDI1NiBlcXVhbFNoYXJlID0gdW5wcm9jZXNzZWRQcm9maXQvMjsKICAgICAgICBhc3NlcnQoc2hvcC50cmFuc2Zlcihob2xkZXJBLGVxdWFsU2hhcmUpKTsKICAgICAgICBhc3NlcnQoc2hvcC50cmFuc2Zlcihob2xkZXJCLGVxdWFsU2hhcmUpKTsKICAgIH0KICAgIAogICAgLy9NYW5hZ2VtZW50IGludGVyZmFjZSBiZWxvdwogICAgCiAgICBmdW5jdGlvbiB0b2dnbGVEcmFpbigpIG9ubHlBIHsKICAgICAgICBzaG9wLnRvZ2dsZURyYWluKCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHRvZ2dsZUJ1cm4oKSBvbmx5QSB7CiAgICAgICAgc2hvcC50b2dnbGVCdXJuKCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGRpZSgpIG9ubHlBIHsKICAgICAgICBzaG9wLmRpZSgpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB2YWxpZGF0ZVRva2VuKGFkZHJlc3MgdG9rZW5fLCB1aW50MjU2IGJQXywgdWludDI1NiBiTF8sIHVpbnQyNTYgcEZfKSBvbmx5SG9sZGVycyB7CiAgICAgICAgc2hvcC52YWxpZGF0ZVRva2VuKHRva2VuXyxiUF8sYkxfLHBGXyk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZVRva2VuRGl2aWRlbmQoYWRkcmVzcyB0b2tlbl8sIGJvb2wgaERfLCBhZGRyZXNzIGRBXywgYnl0ZXMgZERfKSBvbmx5QSB7CiAgICAgICAgc2hvcC5jb25maWd1cmVUb2tlbkRpdmlkZW5kKHRva2VuXyxoRF8sZEFfLGREXyk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNhbGxEaXZpZGVuZChhZGRyZXNzIHRva2VuXykgb25seUEgewogICAgICAgIHNob3AuY2FsbERpdmlkZW5kKHRva2VuXyk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGludmFsaWRhdGVUb2tlbihhZGRyZXNzIHRva2VuXykgb25seUhvbGRlcnMgewogICAgICAgIHNob3AuaW52YWxpZGF0ZVRva2VuKHRva2VuXyk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNoYW5nZU93bmVyKGFkZHJlc3Mgb3duZXJfKSBvbmx5QSB7CiAgICAgICAgaWYoaG9sZGVyQiA9PSBob2xkZXJBKXsgCiAgICAgICAgICAgIC8vaWYgaG9sZGVyIGhhcyBmdWxsIG93bmVyc2hpcCwgdGhleSBjYW4gZGlzY2FyZCB0aGlzIG1hbmFnZW1lbnQgY29udHJhY3QKICAgICAgICAgICAgc2hvcC5jaGFuZ2VPd25lcihvd25lcl8pOyAKICAgICAgICB9CiAgICAgICAgaG9sZGVyQSA9IG93bmVyXzsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY2hhbmdlU2hvcChhZGRyZXNzIG5ld1Nob3ApIG9ubHlBIHsKICAgICAgICBpZihob2xkZXJCID09IGhvbGRlckEpewogICAgICAgICAgICAvL2lmIGhvbGRlciBoYXMgZnVsbCBvd25lcnNoaXAsIHRoZXkgY2FuIHJlZW5nYWdlIHRoZSBzaG9wIGNvbnRyYWN0CiAgICAgICAgICAgIHNob3AgPSBWYWx1ZVRyYWRlcihuZXdTaG9wKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNoYW5nZUZlZSh1aW50MjU2IHRyYWRlRmVlKSBvbmx5SG9sZGVycyB7CiAgICAgICAgc2hvcC5jaGFuZ2VGZWUodHJhZGVGZWUpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBjaGFuZ2VFdGhlckNvbnRyYWN0KGFkZHJlc3MgZUMpIG9ubHlIb2xkZXJzIHsKICAgICAgICBzaG9wLmNoYW5nZUV0aGVyQ29udHJhY3QoZUMpOwogICAgfQp9CgovL3RoaXMgY29udHJhY3Qgc2hvdWxkIGJlIGhvbGRlckIgaW4gdGhlIHNob3BLZWVwZXIgY29udHJhY3QuCmNvbnRyYWN0IFByb2ZpdENvbnRhaW5lckFkYXB0ZXIgaXMgU2FmZU1hdGh7CiAgICAKICAgIGFkZHJlc3Mgb3duZXI7CiAgICBhZGRyZXNzIHNob3BMb2NhdGlvbjsKICAgIGFkZHJlc3Mgc2hvcEtlZXBlckxvY2F0aW9uOwogICAgYWRkcmVzcyBwcm9maXRDb250YWluZXJMb2NhdGlvbjsKICAgIAogICAgbW9kaWZpZXIgb3duZWQoKXsKICAgICAgICBhc3NlcnQobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY2hhbmdlU2hvcChhZGRyZXNzIG5ld1Nob3ApIG93bmVkIHsKICAgICAgICBzaG9wTG9jYXRpb24gPSBuZXdTaG9wOwogICAgfQogICAgCiAgICAKICAgIGZ1bmN0aW9uIGNoYW5nZUtlZXBlcihhZGRyZXNzIG5ld0tlZXBlcikgb3duZWQgewogICAgICAgIHNob3BLZWVwZXJMb2NhdGlvbiA9IG5ld0tlZXBlcjsKICAgIH0KICAgIAogICAgCiAgICBmdW5jdGlvbiBjaGFuZ2VDb250YWluZXIoYWRkcmVzcyBuZXdDb250YWluZXIpIG93bmVkIHsKICAgICAgICBwcm9maXRDb250YWluZXJMb2NhdGlvbiA9IG5ld0NvbnRhaW5lcjsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gUHJvZml0Q29udGFpbmVyQWRhcHRlcihhZGRyZXNzIHNMLCBhZGRyZXNzIHNLTCwgYWRkcmVzcyBwQ0wpewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICBzaG9wTG9jYXRpb24gPSBzTDsKICAgICAgICBzaG9wS2VlcGVyTG9jYXRpb24gPSBzS0w7CiAgICAgICAgcHJvZml0Q29udGFpbmVyTG9jYXRpb24gPSBwQ0w7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHRha2VFdGhlclByb2ZpdHMoKXsKICAgICAgICBTaG9wS2VlcGVyKHNob3BLZWVwZXJMb2NhdGlvbikuc3BsaXRQcm9maXRzKCk7CiAgICAgICAgVmFsdWVUcmFkZXIgc2hvcCA9IFZhbHVlVHJhZGVyKHNob3BMb2NhdGlvbik7CiAgICAgICAgc2hvcC5idXlFdGhlcihzaG9wLmJhbGFuY2VPZih0aGlzKSk7CiAgICAgICAgYXNzZXJ0KHByb2ZpdENvbnRhaW5lckxvY2F0aW9uLmNhbGwudmFsdWUodGhpcy5iYWxhbmNlKSgpKTsKICAgIH0KICAgIAogICAgLy93YXJuaW5nOiB5b3VyIHByb2ZpdCBjb250YWluZXIgbmVlZHMgdG8gYmUgYWJsZSB0byBoYW5kbGUgdG9rZW5zIG9yIHRoaXMgaXMgbG9zdCBmb3JldmVyCiAgICBmdW5jdGlvbiB0YWtlVG9rZW5Qcm9maXRzKGFkZHJlc3MgdG9rZW4pewogICAgICAgIFNob3BLZWVwZXIoc2hvcEtlZXBlckxvY2F0aW9uKS5zcGxpdFByb2ZpdHMoKTsKICAgICAgICBWYWx1ZVRyYWRlciBzaG9wID0gVmFsdWVUcmFkZXIoc2hvcExvY2F0aW9uKTsKICAgICAgICBzaG9wLmJ1eVRva2VuKHRva2VuLHNob3AuYmFsYW5jZU9mKHRoaXMpKTsKICAgICAgICBhc3NlcnQoVG9rZW4odG9rZW4pLnRyYW5zZmVyKHByb2ZpdENvbnRhaW5lckxvY2F0aW9uLFRva2VuKHRva2VuKS5iYWxhbmNlT2YodGhpcykpKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ2l2ZUF3YXlIb2xkZXJzaGlwKGFkZHJlc3MgaG9sZGVyQikgb3duZWQgewogICAgICAgIFNob3BLZWVwZXIoc2hvcEtlZXBlckxvY2F0aW9uKS5naXZlQXdheU93bmVyc2hpcChob2xkZXJCKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ2l2ZUF3YXlPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb3duZWQgewogICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9CiAgICAKfQ=='.
	

]
