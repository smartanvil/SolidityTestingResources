Class {
	#name : #SRT55F93985431Fc9304077687a35A1BA103dC1e081,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT55F93985431Fc9304077687a35A1BA103dC1e081 >> base64 [
	^ 'Ly8gQWJzdHJhY3QgY29udHJhY3QgZm9yIHRoZSBmdWxsIEVSQyAyMCBUb2tlbiBzdGFuZGFyZAovLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7Cgpjb250cmFjdCBUb2tlbiB7CiAgICAvKiBUaGlzIGlzIGEgc2xpZ2h0IGNoYW5nZSB0byB0aGUgRVJDMjAgYmFzZSBzdGFuZGFyZC4qLwogICAgLy8vIHRvdGFsIGFtb3VudCBvZiB0b2tlbnMKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIGZyb20gd2hpY2ggdGhlIGJhbGFuY2Ugd2lsbCBiZSByZXRyaWV2ZWQKICAgIC8vLyBAcmV0dXJuIFRoZSBiYWxhbmNlCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYF9mcm9tYCBvbiB0aGUgY29uZGl0aW9uIGl0IGlzIGFwcHJvdmVkIGJ5IGBfZnJvbWAKICAgIC8vLyBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQG5vdGljZSBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9zcGVuZGVyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXIKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwp9Cgpjb250cmFjdCBPd25lZCB7CgogICAgLy8vIGBvd25lcmAgaXMgdGhlIG9ubHkgYWRkcmVzcyB0aGF0IGNhbiBjYWxsIGEgZnVuY3Rpb24gd2l0aCB0aGlzCiAgICAvLy8gbW9kaWZpZXIKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgLy8vIEBub3RpY2UgVGhlIENvbnN0cnVjdG9yIGFzc2lnbnMgdGhlIG1lc3NhZ2Ugc2VuZGVyIHRvIGJlIGBvd25lcmAKICAgIGZ1bmN0aW9uIE93bmVkKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgYWRkcmVzcyBuZXdPd25lcj0weDA7CgogICAgZXZlbnQgT3duZXJVcGRhdGUoYWRkcmVzcyBfcHJldk93bmVyLCBhZGRyZXNzIF9uZXdPd25lcik7CgogICAgLy8vY2hhbmdlIHRoZSBvd25lcgogICAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoX25ld093bmVyICE9IG93bmVyKTsKICAgICAgICBuZXdPd25lciA9IF9uZXdPd25lcjsKICAgIH0KCiAgICAvLy8gYWNjZXB0IHRoZSBvd25lcnNoaXAKICAgIGZ1bmN0aW9uIGFjY2VwdE93bmVyc2hpcCgpIHB1YmxpY3sKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gbmV3T3duZXIpOwogICAgICAgIE93bmVyVXBkYXRlKG93bmVyLCBuZXdPd25lcik7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgICAgICBuZXdPd25lciA9IDB4MDsKICAgIH0KfQoKY29udHJhY3QgQ29udHJvbGxlZCBpcyBPd25lZHsKCiAgICBmdW5jdGlvbiBDb250cm9sbGVkKCkgcHVibGljIHsKICAgICAgIHNldEV4Y2x1ZGUobXNnLnNlbmRlcik7CiAgICB9CgogICAgLy8gRmxhZyB0aGF0IGRldGVybWluZXMgaWYgdGhlIHRva2VuIGlzIHRyYW5zZmVyYWJsZSBvciBub3QuCiAgICBib29sIHB1YmxpYyB0cmFuc2ZlckVuYWJsZWQgPSBmYWxzZTsKCiAgICAvLyBmbGFnIHRoYXQgbWFrZXMgbG9ja2VkIGFkZHJlc3MgZWZmZWN0CiAgICBib29sIGxvY2tGbGFnPXRydWU7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgbG9ja2VkOwogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIGV4Y2x1ZGU7CgogICAgZnVuY3Rpb24gZW5hYmxlVHJhbnNmZXIoYm9vbCBfZW5hYmxlKSBwdWJsaWMgb25seU93bmVyewogICAgICAgIHRyYW5zZmVyRW5hYmxlZD1fZW5hYmxlOwogICAgfQoKICAgIGZ1bmN0aW9uIGRpc2FibGVMb2NrKGJvb2wgX2VuYWJsZSkgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sIHN1Y2Nlc3MpewogICAgICAgIGxvY2tGbGFnPV9lbmFibGU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkTG9jayhhZGRyZXNzIF9hZGRyKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2Vzcyl7CiAgICAgICAgcmVxdWlyZShfYWRkciE9bXNnLnNlbmRlcik7CiAgICAgICAgbG9ja2VkW19hZGRyXT10cnVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldEV4Y2x1ZGUoYWRkcmVzcyBfYWRkcikgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sIHN1Y2Nlc3MpewogICAgICAgIGV4Y2x1ZGVbX2FkZHJdPXRydWU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlTG9jayhhZGRyZXNzIF9hZGRyKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2Vzcyl7CiAgICAgICAgbG9ja2VkW19hZGRyXT1mYWxzZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBtb2RpZmllciB0cmFuc2ZlckFsbG93ZWQoYWRkcmVzcyBfYWRkcikgewogICAgICAgIGlmICghZXhjbHVkZVtfYWRkcl0pIHsKICAgICAgICAgICAgYXNzZXJ0KHRyYW5zZmVyRW5hYmxlZCk7CiAgICAgICAgICAgIGlmKGxvY2tGbGFnKXsKICAgICAgICAgICAgICAgIGFzc2VydCghbG9ja2VkW19hZGRyXSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgXzsKICAgIH0KCn0KCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgVG9rZW4sQ29udHJvbGxlZCB7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgdHJhbnNmZXJBbGxvd2VkKG1zZy5zZW5kZXIpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vRGVmYXVsdCBhc3N1bWVzIHRvdGFsU3VwcGx5IGNhbid0IGJlIG92ZXIgbWF4ICgyXjI1NiAtIDEpLgogICAgICAgIC8vSWYgeW91ciB0b2tlbiBsZWF2ZXMgb3V0IHRvdGFsU3VwcGx5IGFuZCBjYW4gaXNzdWUgbW9yZSB0b2tlbnMgYXMgdGltZSBnb2VzIG9uLCB5b3UgbmVlZCB0byBjaGVjayBpZiBpdCBkb2Vzbid0IHdyYXAuCiAgICAgICAgLy9SZXBsYWNlIHRoZSBpZiB3aXRoIHRoaXMgb25lIGluc3RlYWQuCiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyB0cmFuc2ZlckFsbG93ZWQoX2Zyb20pIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vc2FtZSBhcyBhYm92ZS4gUmVwbGFjZSB0aGlzIGxpbmUgd2l0aCB0aGUgZm9sbG93aW5nIGlmIHlvdSB3YW50IHRvIHByb3RlY3QgYWdhaW5zdCB3cmFwcGluZyB1aW50cy4KICAgICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7Cn0KCmNvbnRyYWN0IFNNVCBpcyBTdGFuZGFyZFRva2VuIHsKCiAgICBmdW5jdGlvbiAoKSBwdWJsaWMgewogICAgICAgIHJldmVydCgpOwogICAgfQoKICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJTbWFydE1lc2ggVG9rZW4iOyAgICAgICAgICAgICAgICAgICAvL2ZhbmN5IG5hbWUKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDE4OyAgICAgICAgICAgICAgICAvL0hvdyBtYW55IGRlY2ltYWxzIHRvIHNob3cuIGllLiBUaGVyZSBjb3VsZCAxMDAwIGJhc2UgdW5pdHMgd2l0aCAzIGRlY2ltYWxzLiBNZWFuaW5nIDAuOTgwIFNCWCA9IDk4MCBiYXNlIHVuaXRzLiBJdCdzIGxpa2UgY29tcGFyaW5nIDEgd2VpIHRvIDEgZXRoZXIuCiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJTTVQiOyAgICAgICAgICAgICAgICAgLy9BbiBpZGVudGlmaWVyCiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAndjAuMSc7ICAgICAgIC8vU01UIDAuMSBzdGFuZGFyZC4gSnVzdCBhbiBhcmJpdHJhcnkgdmVyc2lvbmluZyBzY2hlbWUuCiAgICB1aW50MjU2IHB1YmxpYyBhbGxvY2F0ZUVuZFRpbWU7CgogICAgCiAgICAvLyBUaGUgbm9uY2UgZm9yIGF2b2lkIHRyYW5zZmVyIHJlcGxheSBhdHRhY2tzCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1Nikgbm9uY2VzOwoKICAgIGZ1bmN0aW9uIFNNVCgpIHB1YmxpYyB7CiAgICAgICAgYWxsb2NhdGVFbmRUaW1lID0gbm93ICsgMSBkYXlzOwogICAgfQoKICAgIC8qCiAgICAgKiBQcm94eSB0cmFuc2ZlciBTbWFydE1lc2ggdG9rZW4uIFdoZW4gc29tZSB1c2VycyBvZiB0aGUgZXRoZXJldW0gYWNjb3VudCBoYXMgbm8gZXRoZXIsCiAgICAgKiBoZSBvciBzaGUgY2FuIGF1dGhvcml6ZSB0aGUgYWdlbnQgZm9yIGJyb2FkY2FzdCB0cmFuc2FjdGlvbnMsIGFuZCBhZ2VudHMgbWF5IGNoYXJnZSBhZ2VuY3kgZmVlcwogICAgICogQHBhcmFtIF9mcm9tCiAgICAgKiBAcGFyYW0gX3RvCiAgICAgKiBAcGFyYW0gX3ZhbHVlCiAgICAgKiBAcGFyYW0gZmVlU210CiAgICAgKiBAcGFyYW0gX3YKICAgICAqIEBwYXJhbSBfcgogICAgICogQHBhcmFtIF9zCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyUHJveHkoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlLCB1aW50MjU2IF9mZWVTbXQsCiAgICAgICAgdWludDggX3YsYnl0ZXMzMiBfciwgYnl0ZXMzMiBfcykgcHVibGljIHRyYW5zZmVyQWxsb3dlZChfZnJvbSkgcmV0dXJucyAoYm9vbCl7CgogICAgICAgIGlmKGJhbGFuY2VzW19mcm9tXSA8IF9mZWVTbXQgKyBfdmFsdWUpIHJldmVydCgpOwoKICAgICAgICB1aW50MjU2IG5vbmNlID0gbm9uY2VzW19mcm9tXTsKICAgICAgICBieXRlczMyIGggPSBrZWNjYWsyNTYoX2Zyb20sX3RvLF92YWx1ZSxfZmVlU210LG5vbmNlKTsKICAgICAgICBpZihfZnJvbSAhPSBlY3JlY292ZXIoaCxfdixfcixfcykpIHJldmVydCgpOwoKICAgICAgICBpZihiYWxhbmNlc1tfdG9dICsgX3ZhbHVlIDwgYmFsYW5jZXNbX3RvXQogICAgICAgICAgICB8fCBiYWxhbmNlc1ttc2cuc2VuZGVyXSArIF9mZWVTbXQgPCBiYWxhbmNlc1ttc2cuc2VuZGVyXSkgcmV2ZXJ0KCk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gX2ZlZVNtdDsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgbXNnLnNlbmRlciwgX2ZlZVNtdCk7CgogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWUgKyBfZmVlU210OwogICAgICAgIG5vbmNlc1tfZnJvbV0gPSBub25jZSArIDE7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoKICAgICAqIFByb3h5IGFwcHJvdmUgdGhhdCBzb21lIG9uZSBjYW4gYXV0aG9yaXplIHRoZSBhZ2VudCBmb3IgYnJvYWRjYXN0IHRyYW5zYWN0aW9uCiAgICAgKiB3aGljaCBjYWxsIGFwcHJvdmUgbWV0aG9kLCBhbmQgYWdlbnRzIG1heSBjaGFyZ2UgYWdlbmN5IGZlZXMKICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyB3aGljaCBzaG91bGQgdHJhbmZlciBTTVQgdG8gb3RoZXJzCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIHNwZW5kZXIgd2hvIGFsbG93ZWQgYnkgX2Zyb20KICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIHZhbHVlIHRoYXQgc2hvdWxkIGJlIHRyYW5mZXJlZC4KICAgICAqIEBwYXJhbSBfdgogICAgICogQHBhcmFtIF9yCiAgICAgKiBAcGFyYW0gX3MKICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZVByb3h5KGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlLAogICAgICAgIHVpbnQ4IF92LGJ5dGVzMzIgX3IsIGJ5dGVzMzIgX3MpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCiAgICAgICAgdWludDI1NiBub25jZSA9IG5vbmNlc1tfZnJvbV07CiAgICAgICAgYnl0ZXMzMiBoYXNoID0ga2VjY2FrMjU2KF9mcm9tLF9zcGVuZGVyLF92YWx1ZSxub25jZSk7CiAgICAgICAgaWYoX2Zyb20gIT0gZWNyZWNvdmVyKGhhc2gsX3YsX3IsX3MpKSByZXZlcnQoKTsKICAgICAgICBhbGxvd2VkW19mcm9tXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwoX2Zyb20sIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIG5vbmNlc1tfZnJvbV0gPSBub25jZSArIDE7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIC8qCiAgICAgKiBHZXQgdGhlIG5vbmNlCiAgICAgKiBAcGFyYW0gX2FkZHIKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0Tm9uY2UoYWRkcmVzcyBfYWRkcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpewogICAgICAgIHJldHVybiBub25jZXNbX2FkZHJdOwogICAgfQoKICAgIC8qIEFwcHJvdmVzIGFuZCB0aGVuIGNhbGxzIHRoZSByZWNlaXZpbmcgY29udHJhY3QgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CgogICAgICAgIC8vY2FsbCB0aGUgcmVjZWl2ZUFwcHJvdmFsIGZ1bmN0aW9uIG9uIHRoZSBjb250cmFjdCB5b3Ugd2FudCB0byBiZSBub3RpZmllZC4gVGhpcyBjcmFmdHMgdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZSBtYW51YWxseSBzbyBvbmUgZG9lc24ndCBoYXZlIHRvIGluY2x1ZGUgYSBjb250cmFjdCBpbiBoZXJlIGp1c3QgZm9yIHRoaXMuCiAgICAgICAgLy9yZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuQ29udHJhY3QsIGJ5dGVzIF9leHRyYURhdGEpCiAgICAgICAgLy9pdCBpcyBhc3N1bWVkIHRoYXQgd2hlbiBkb2VzIHRoaXMgdGhhdCB0aGUgY2FsbCAqc2hvdWxkKiBzdWNjZWVkLCBvdGhlcndpc2Ugb25lIHdvdWxkIHVzZSB2YW5pbGxhIGFwcHJvdmUgaW5zdGVhZC4KICAgICAgICBpZighX3NwZW5kZXIuY2FsbChieXRlczQoYnl0ZXMzMihrZWNjYWsyNTYoInJlY2VpdmVBcHByb3ZhbChhZGRyZXNzLHVpbnQyNTYsYWRkcmVzcyxieXRlcykiKSkpLCBtc2cuc2VuZGVyLCBfdmFsdWUsIHRoaXMsIF9leHRyYURhdGEpKSB7IHJldmVydCgpOyB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyogQXBwcm92ZXMgYW5kIHRoZW4gY2FsbHMgdGhlIGNvbnRyYWN0IGNvZGUqLwogICAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGxjb2RlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CgogICAgICAgIC8vQ2FsbCB0aGUgY29udHJhY3QgY29kZQogICAgICAgIGlmKCFfc3BlbmRlci5jYWxsKF9leHRyYURhdGEpKSB7IHJldmVydCgpOyB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gQWxsb2NhdGUgdG9rZW5zIHRvIHRoZSB1c2VycwogICAgLy8gQHBhcmFtIF9vd25lcnMgVGhlIG93bmVycyBsaXN0IG9mIHRoZSB0b2tlbgogICAgLy8gQHBhcmFtIF92YWx1ZXMgVGhlIHZhbHVlIGxpc3Qgb2YgdGhlIHRva2VuCiAgICBmdW5jdGlvbiBhbGxvY2F0ZVRva2VucyhhZGRyZXNzW10gX293bmVycywgdWludDI1NltdIF92YWx1ZXMpIHB1YmxpYyBvbmx5T3duZXIgewoKICAgICAgICBpZihhbGxvY2F0ZUVuZFRpbWUgPCBub3cpIHJldmVydCgpOwogICAgICAgIGlmKF9vd25lcnMubGVuZ3RoICE9IF92YWx1ZXMubGVuZ3RoKSByZXZlcnQoKTsKCiAgICAgICAgZm9yKHVpbnQyNTYgaSA9IDA7IGkgPCBfb3duZXJzLmxlbmd0aCA7IGkrKyl7CiAgICAgICAgICAgIGFkZHJlc3MgdG8gPSBfb3duZXJzW2ldOwogICAgICAgICAgICB1aW50MjU2IHZhbHVlID0gX3ZhbHVlc1tpXTsKICAgICAgICAgICAgaWYodG90YWxTdXBwbHkgKyB2YWx1ZSA8PSB0b3RhbFN1cHBseSB8fCBiYWxhbmNlc1t0b10gKyB2YWx1ZSA8PSBiYWxhbmNlc1t0b10pIHJldmVydCgpOwogICAgICAgICAgICB0b3RhbFN1cHBseSArPSB2YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbdG9dICs9IHZhbHVlOwogICAgICAgIH0KICAgIH0KfQ=='.
	

]
