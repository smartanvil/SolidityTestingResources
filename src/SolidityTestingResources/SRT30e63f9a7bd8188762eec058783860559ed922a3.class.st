Class {
	#name : #SRT30e63f9a7bd8188762eec058783860559ed922a3,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT30e63f9a7bd8188762eec058783860559ed922a3 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7IAoKY29udHJhY3QgRVJDMjBJbnRlcmZhY2UgewogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBvd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKfQoKCgpjb250cmFjdCBWUkNvaW5Dcm93ZHNhbGUgewogICAgLy8gSW5mb3JtYXRpb24gYWJvdXQgYSBzaW5nbGUgcGVyaW9kCiAgICBzdHJ1Y3QgUGVyaW9kCiAgICB7CiAgICAgICAgIHVpbnQgc3RhcnQ7CiAgICAgICAgIHVpbnQgZW5kOwogICAgICAgICB1aW50IHByaWNlSW5XZWk7CiAgICAgICAgIHVpbnQgdG9rZW5Ub0Rpc3RpYnV0ZTsKICAgIH0KCiAgICAvLyBTb21lIGNvbnN0YW50IGFib3V0IG91ciBleHBlY3RlZCB0b2tlbiBkaXN0cmlidXRpb24KICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFZSQ09JTl9ERUNJTUFMUyA9IDk7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBUT1RBTF9UT0tFTlNfVE9fRElTVFJJQlVURSA9IDc1MDAwMCAqICgxMCAqKiBWUkNPSU5fREVDSU1BTFMpOyAvLyA3NTAwMDAgVlJ0b2tlbmMKICAgIAogICAgdWludCBwdWJsaWMgZXhjaGFuZ2VSYXRlID0gODUzOwogICAgCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsgLy8gVGhlIG93bmVyIG9mIHRoZSBjcm93ZHNhbGUKICAgIGJvb2wgcHVibGljIGhhc1N0YXJ0ZWQ7IC8vIEhhcyB0aGUgY3Jvd2RzYWxlIHN0YXJ0ZWQ/CiAgICBQZXJpb2QgcHVibGljIHNhbGU7IC8vIFRoZSBjb25maWd1cmVkIHBlcmlvZHMgZm9yIHRoaXMgY3Jvd2RzYWxlCiAgICBFUkMyMEludGVyZmFjZSBwdWJsaWMgdG9rZW5XYWxsZXQ7IC8vIFRoZSB0b2tlbiB3YWxsZXQgY29udHJhY3QgdXNlZCBmb3IgdGhpcyBjcm93ZHNhbGUKCiAgICAvLyBUaGUgbXVsdGlwbGllciBuZWNlc3NhcnkgdG8gY2hhbmdlIGEgY29pbiBhbW91bnQgdG8gdGhlIHRva2VuIGFtb3VudAogICAgdWludCBjb2luVG9Ub2tlbkZhY3RvciA9IDEwICoqIFZSQ09JTl9ERUNJTUFMUzsKICAgIAogICAgLy8gRmlyZWQgb25jZSB0aGUgdHJhbnNmZXIgdG9rZW5zIHRvIGNvbnRyYWN0IHdhcyBzdWNjZXNzZnVsbAogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCBhbW91bnQpOwoKICAgIC8vIEZpcmVkIG9uY2UgdGhlIHNhbGUgc3RhcnRzCiAgICBldmVudCBTdGFydCh1aW50IHRpbWVzdGFtcCk7CgogICAgLy8gRmlyZWQgd2hlbmV2ZXIgYSBjb250cmlidXRpb24gaXMgbWFkZQogICAgZXZlbnQgQ29udHJpYnV0aW9uKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50IHdlaUNvbnRyaWJ1dGVkLCB1aW50IHRva2Vuc1JlY2VpdmVkKTsKCiAgICBmdW5jdGlvbiBWUkNvaW5Dcm93ZHNhbGUoYWRkcmVzcyB3YWxsZXRBZGRyZXNzKQogICAgewogICAgICAgICAvLyBTZXR1cCB0aGUgb3duZXIgYW5kIHdhbGxldAogICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgIHRva2VuV2FsbGV0ID0gRVJDMjBJbnRlcmZhY2Uod2FsbGV0QWRkcmVzcyk7CgogICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHByb3ZpZGVkIHRva2VuIGhhcyB0aGUgZXhwZWN0ZWQgbnVtYmVyIG9mIHRva2VucyB0byBkaXN0cmlidXRlCiAgICAgICAgIHJlcXVpcmUodG9rZW5XYWxsZXQudG90YWxTdXBwbHkoKSA+PSBUT1RBTF9UT0tFTlNfVE9fRElTVFJJQlVURSk7CgogICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIG93bmVyIGFjdHVhbGx5IGNvbnRyb2xzIGFsbCB0aGUgdG9rZW5zCiAgICAgICAgIHJlcXVpcmUodG9rZW5XYWxsZXQuYmFsYW5jZU9mKG93bmVyKSA+PSBUT1RBTF9UT0tFTlNfVE9fRElTVFJJQlVURSk7CgogICAgICAgICAvLyBXZSBoYXZlbid0IHN0YXJ0ZWQgeWV0CiAgICAgICAgIGhhc1N0YXJ0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAKICAgICAgICAgc2FsZS5zdGFydCA9IDE1MjEyMzQwMDE7IC8vIDAwOjAwOjAxLCBNYXJjaCAwNSwgMjAxOCBVVEMKICAgICAgICAgc2FsZS5lbmQgPSAxNTI1MTIyMDAxOyAvLyAwMDowMDowMSwgQXBsIDMwLCAyMDE4IFVUQwogICAgICAgICBzYWxlLnByaWNlSW5XZWkgPSAoMSBldGhlcikgLyAoZXhjaGFuZ2VSYXRlICogY29pblRvVG9rZW5GYWN0b3IpOyAvLyAxIEVUSCA9IDc1MCBWUkNvaW4KICAgICAgICAgc2FsZS50b2tlblRvRGlzdGlidXRlID0gVE9UQUxfVE9LRU5TX1RPX0RJU1RSSUJVVEU7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHVwZGF0ZVByaWNlKCkgewogICAgICAgICAvLyBPbmx5IHRoZSBvd25lciBjYW4gZG8gdGhpcwogICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIAogICAgICAgICAvLyBVcGRhdGUgcHJpY2UKICAgICAgICAgc2FsZS5wcmljZUluV2VpID0gKDEgZXRoZXIpIC8gKGV4Y2hhbmdlUmF0ZSAqIGNvaW5Ub1Rva2VuRmFjdG9yKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gc2V0RXhjaGFuZ2VSYXRlKHVpbnQyNTYgX3JhdGUpIHsKICAgICAgICAgLy8gT25seSB0aGUgb3duZXIgY2FuIGRvIHRoaXMKICAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsgICAgICAgIAogICAgICAgIAogICAgICAgICAvLyBUaGUgZXRoZXIgaW4gJCBkb2xsYXIgCiAgICAgICAgIGV4Y2hhbmdlUmF0ZSA9IF9yYXRlOwogICAgfQoKICAgIC8vIFN0YXJ0IHRoZSBjcm93ZHNhbGUKICAgIGZ1bmN0aW9uIHN0YXJ0U2FsZSgpCiAgICB7CiAgICAgICAgIC8vIE9ubHkgdGhlIG93bmVyIGNhbiBkbyB0aGlzCiAgICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgIAogICAgICAgICAvLyBDYW5ub3Qgc3RhcnQgaWYgYWxyZWFkeSBzdGFydGVkCiAgICAgICAgIHJlcXVpcmUoaGFzU3RhcnRlZCA9PSBmYWxzZSk7CgogICAgICAgICAvLyBBdHRlbXB0IHRvIHRyYW5zZmVyIGFsbCB0b2tlbnMgdG8gdGhlIGNyb3dkc2FsZSBjb250cmFjdAogICAgICAgICAvLyBUaGUgb3duZXIgbmVlZHMgdG8gYXBwcm92ZSgpIHRoZSB0cmFuc2ZlciBvZiBhbGwgdG9rZW5zIHRvIHRoaXMgY29udHJhY3QKICAgICAgICAgaWYgKCF0b2tlbldhbGxldC50cmFuc2ZlckZyb20ob3duZXIsIHRoaXMsIHNhbGUudG9rZW5Ub0Rpc3RpYnV0ZSkpCiAgICAgICAgIHsKICAgICAgICAgICAgLy8gU29tZXRoaW5nIGhhcyBnb25lIHdyb25nLCB0aGUgb3duZXIgbm8gbG9uZ2VyIGNvbnRyb2xzIGFsbCB0aGUgdG9rZW5zPwogICAgICAgICAgICAvLyBXZSBjYW5ub3QgcHJvY2VlZAogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIFRyYW5zZmVyKHRoaXMsIHNhbGUudG9rZW5Ub0Rpc3RpYnV0ZSk7CiAgICAgICAgIH0KCiAgICAgICAgIC8vIFNhbml0eSBjaGVjazogdmVyaWZ5IHRoZSBjcm93ZHNhbGUgY29udHJvbHMgYWxsIHRva2VucwogICAgICAgICByZXF1aXJlKHRva2VuV2FsbGV0LmJhbGFuY2VPZih0aGlzKSA+PSBzYWxlLnRva2VuVG9EaXN0aWJ1dGUpOwoKICAgICAgICAgLy8gVGhlIHNhbGUgY2FuIGJlZ2luCiAgICAgICAgIGhhc1N0YXJ0ZWQgPSB0cnVlOwoKICAgICAgICAgLy8gRmlyZSBldmVudCB0aGF0IHRoZSBzYWxlIGhhcyBiZWd1bgogICAgICAgICBTdGFydChibG9jay50aW1lc3RhbXApOwogICAgfQoKICAgIC8vIEFsbG93IHRoZSBjdXJyZW50IG93bmVyIHRvIGNoYW5nZSB0aGUgb3duZXIgb2YgdGhlIGNyb3dkc2FsZQogICAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBuZXdPd25lcikgcHVibGljCiAgICB7CiAgICAgICAgIC8vIE9ubHkgdGhlIG93bmVyIGNhbiBkbyB0aGlzCiAgICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CgogICAgICAgICAvLyBDaGFuZ2UgdGhlIG93bmVyCiAgICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9CgogICAgLy8gQWxsb3cgdGhlIG93bmVyIHRvIGNoYW5nZSB0aGUgdG9rZW5zIGZvciBzYWxlIG51bWJlcgogICAgLy8gQnV0IG9ubHkgaWYgdGhlIHNhbGUgaGFzIG5vdCBiZWd1biB5ZXQKICAgIGZ1bmN0aW9uIGNoYW5nZVRva2VuRm9yU2FsZSh1aW50IG5ld0Ftb3VudCkgcHVibGljCiAgICB7CiAgICAgICAgIC8vIE9ubHkgdGhlIG93bmVyIGNhbiBkbyB0aGlzCiAgICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgIAogICAgICAgICAvLyBXZSBjYW4gY2hhbmdlIHBlcmlvZCBkZXRhaWxzIGFzIGxvbmcgYXMgdGhlIHNhbGUgaGFzbid0IHN0YXJ0ZWQgeWV0CiAgICAgICAgIHJlcXVpcmUoaGFzU3RhcnRlZCA9PSBmYWxzZSk7CiAgICAgICAgIAogICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHByb3ZpZGVkIHRva2VuIGhhcyB0aGUgZXhwZWN0ZWQgbnVtYmVyIG9mIHRva2VucyB0byBkaXN0cmlidXRlCiAgICAgICAgIHJlcXVpcmUodG9rZW5XYWxsZXQudG90YWxTdXBwbHkoKSA+PSBuZXdBbW91bnQpOwoKICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBvd25lciBhY3R1YWxseSBjb250cm9scyBhbGwgdGhlIHRva2VucwogICAgICAgICByZXF1aXJlKHRva2VuV2FsbGV0LmJhbGFuY2VPZihvd25lcikgPj0gbmV3QW1vdW50KTsKCgogICAgICAgICAvLyBDaGFuZ2UgdGhlIHByaWNlIGZvciB0aGlzIHBlcmlvZAogICAgICAgICBzYWxlLnRva2VuVG9EaXN0aWJ1dGUgPSBuZXdBbW91bnQ7CiAgICB9CgogICAgLy8gQWxsb3cgdGhlIG93bmVyIHRvIGNoYW5nZSB0aGUgc3RhcnQvZW5kIHRpbWUgZm9yIGEgcGVyaW9kCiAgICAvLyBCdXQgb25seSBpZiB0aGUgc2FsZSBoYXMgbm90IGJlZ3VuIHlldAogICAgZnVuY3Rpb24gY2hhbmdlUGVyaW9kVGltZSh1aW50IHN0YXJ0LCB1aW50IGVuZCkgcHVibGljCiAgICB7CiAgICAgICAgIC8vIE9ubHkgdGhlIG93bmVyIGNhbiBkbyB0aGlzCiAgICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CgogICAgICAgICAvLyBXZSBjYW4gY2hhbmdlIHBlcmlvZCBkZXRhaWxzIGFzIGxvbmcgYXMgdGhlIHNhbGUgaGFzbid0IHN0YXJ0ZWQgeWV0CiAgICAgICAgIHJlcXVpcmUoaGFzU3RhcnRlZCA9PSBmYWxzZSk7CgogICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGlucHV0IGlzIHZhbGlkCiAgICAgICAgIHJlcXVpcmUoc3RhcnQgPCBlbmQpOwoKICAgICAgICAgLy8gRXZlcnl0aGluZyBjaGVja3Mgb3V0LCB1cGRhdGUgdGhlIHBlcmlvZCBzdGFydC9lbmQgdGltZQogICAgICAgICBzYWxlLnN0YXJ0ID0gc3RhcnQ7CiAgICAgICAgIHNhbGUuZW5kID0gZW5kOwogICAgfQoKICAgIC8vIEFsbG93IHRoZSBvd25lciB0byB3aXRoZHJhdyBhbGwgdGhlIHRva2VucyByZW1haW5pbmcgYWZ0ZXIgdGhlCiAgICAvLyBjcm93ZHNhbGUgaXMgb3ZlcgogICAgZnVuY3Rpb24gd2l0aGRyYXdUb2tlbnNSZW1haW5pbmcoKSBwdWJsaWMKICAgICAgICAgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICAgLy8gT25seSB0aGUgb3duZXIgY2FuIGRvIHRoaXMKICAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKCiAgICAgICAgIC8vIEdldCB0aGUgZW5kaW5nIHRpbWVzdGFtcCBvZiB0aGUgY3Jvd2RzYWxlCiAgICAgICAgIHVpbnQgY3Jvd2RzYWxlRW5kID0gc2FsZS5lbmQ7CgogICAgICAgICAvLyBUaGUgY3Jvd3NhbGUgbXVzdCBiZSBvdmVyIHRvIHBlcmZvcm0gdGhpcyBvcGVyYXRpb24KICAgICAgICAgcmVxdWlyZShibG9jay50aW1lc3RhbXAgPiBjcm93ZHNhbGVFbmQpOwoKICAgICAgICAgLy8gR2V0IHRoZSByZW1haW5pbmcgdG9rZW5zIG93bmVkIGJ5IHRoZSBjcm93ZHNhbGUKICAgICAgICAgdWludCB0b2tlbnNSZW1haW5pbmcgPSBnZXRUb2tlbnNSZW1haW5pbmcoKTsKCiAgICAgICAgIC8vIFRyYW5zZmVyIHRoZW0gYWxsIHRvIHRoZSBvd25lcgogICAgICAgICByZXR1cm4gdG9rZW5XYWxsZXQudHJhbnNmZXIob3duZXIsIHRva2Vuc1JlbWFpbmluZyk7CiAgICB9CgogICAgLy8gQWxsb3cgdGhlIG93bmVyIHRvIHdpdGhkcmF3IGFsbCBldGhlciBmcm9tIHRoZSBjb250cmFjdCBhZnRlciB0aGUKICAgIC8vIGNyb3dkc2FsZSBpcyBvdmVyCiAgICBmdW5jdGlvbiB3aXRoZHJhd0V0aGVyUmVtYWluaW5nKCkgcHVibGljCiAgICAgICAgIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgIC8vIE9ubHkgdGhlIG93bmVyIGNhbiBkbyB0aGlzCiAgICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CgogICAgICAgICAvLyBUcmFuc2ZlciB0aGVtIGFsbCB0byB0aGUgb3duZXIKICAgICAgICAgb3duZXIudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKCiAgICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIENoZWNrIGhvdyBtYW55IHRva2VucyBhcmUgcmVtYWluaW5nIGZvciBkaXN0cmlidXRpb24KICAgIGZ1bmN0aW9uIGdldFRva2Vuc1JlbWFpbmluZygpIHB1YmxpYyBjb25zdGFudAogICAgICAgICByZXR1cm5zICh1aW50MjU2KQogICAgewogICAgICAgICByZXR1cm4gdG9rZW5XYWxsZXQuYmFsYW5jZU9mKHRoaXMpOwogICAgfQoKICAgIC8vIENhbGN1bGF0ZSBob3cgbWFueSB0b2tlbnMgY2FuIGJlIGRpc3RyaWJ1dGVkIGZvciB0aGUgZ2l2ZW4gY29udHJpYnV0aW9uCiAgICBmdW5jdGlvbiBnZXRUb2tlbnNGb3JDb250cmlidXRpb24odWludCB3ZWlDb250cmlidXRpb24pIHB1YmxpYyBjb25zdGFudCAKICAgICAgICAgcmV0dXJucyh1aW50IHRva2VuQW1vdW50LCB1aW50IHdlaVJlbWFpbmRlcikKICAgIHsKICAgICAgICAgLy8gVGhlIGJvbnVzIGZvciBjb250cmlidXRvcgogICAgICAgICB1aW50MjU2IGJvbnVzID0gMDsKICAgICAgICAgCiAgICAgICAgIC8vIEdldCB0aGUgZW5kaW5nIHRpbWVzdGFtcCBvZiB0aGUgY3Jvd2RzYWxlCiAgICAgICAgIHVpbnQgY3Jvd2RzYWxlRW5kID0gc2FsZS5lbmQ7CiAgICAgICAgCiAgICAgICAgIC8vIFRoZSBjcm93c2FsZSBtdXN0IGJlIGdvaW5nIHRvIHBlcmZvcm0gdGhpcyBvcGVyYXRpb24KICAgICAgICAgcmVxdWlyZShibG9jay50aW1lc3RhbXAgPD0gY3Jvd2RzYWxlRW5kKTsKCiAgICAgICAgIC8vIEdldCB0aGUgcHJpY2UgZm9yIHRoaXMgY3VycmVudCBwZXJpb2QKICAgICAgICAgdWludCBwZXJpb2RQcmljZUluV2VpID0gc2FsZS5wcmljZUluV2VpOwoKICAgICAgICAgLy8gUmV0dXJuIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgY2FuIGJlIHB1cmNoYXNlZAogICAgICAgICAKICAgICAgICAgdG9rZW5BbW91bnQgPSB3ZWlDb250cmlidXRpb24gLyBwZXJpb2RQcmljZUluV2VpOwogICAgICAgICAKCSAJCiAgICAgICAgICAgIGlmIChibG9jay50aW1lc3RhbXAgPCAxNTIxMjM0MDAxKSB7CiAgICAgICAgICAgICAgICAvLyBib251cyBmb3IgY29udHJpYnV0b3IgZnJvbSA1LjAzLjIwMTggdG8gMTYuMDMuMjAxOCAKICAgICAgICAgICAgICAgIGJvbnVzID0gdG9rZW5BbW91bnQgKiAyMCAvIDEwMDsKICAgICAgICAgICAgfSBlbHNlIGlmIChibG9jay50aW1lc3RhbXAgPCAxNTIxOTI1MjAxKSB7CiAgICAgICAgICAgICAgICAvLyBib251cyBmb3IgY29udHJpYnV0b3IgZnJvbSAxNy4wMy4yMDE4IHRvIDI0LjAzLjIwMTggCiAgICAgICAgICAgICAgICBib251cyA9IHRva2VuQW1vdW50ICogMTUgLyAxMDA7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBib251cyBmb3IgY29udHJpYnV0b3IKICAgICAgICAgICAgICAgIGJvbnVzID0gdG9rZW5BbW91bnQgKiAxMCAvIDEwMDsKICAgICAgICAgICAgfQoJCSAKCiAgICAgICAgICAgIAogICAgICAgIHRva2VuQW1vdW50ID0gdG9rZW5BbW91bnQgKyBib251czsKICAgICAgICAKICAgICAgICAgLy8gUmV0dXJuIHRoZSBhbW91bnQgb2Ygd2VpIHRoYXQgd291bGQgYmUgbGVmdCBvdmVyCiAgICAgICAgIHdlaVJlbWFpbmRlciA9IHdlaUNvbnRyaWJ1dGlvbiAlIHBlcmlvZFByaWNlSW5XZWk7CiAgICB9CiAgICAKICAgIC8vIEFsbG93IGEgdXNlciB0byBjb250cmlidXRlIHRvIHRoZSBjcm93ZHNhbGUKICAgIGZ1bmN0aW9uIGNvbnRyaWJ1dGUoKSBwdWJsaWMgcGF5YWJsZQogICAgewogICAgICAgICAvLyBDYW5ub3QgY29udHJpYnV0ZSBpZiB0aGUgc2FsZSBoYXNuJ3Qgc3RhcnRlZAogICAgICAgICByZXF1aXJlKGhhc1N0YXJ0ZWQgPT0gdHJ1ZSk7CgogICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHRva2VucyB0byBiZSBkaXN0cmlidXRlZCBiYXNlZCBvbiB0aGUgY29udHJpYnV0aW9uIGFtb3VudAogICAgICAgICB2YXIgKHRva2VuQW1vdW50LCB3ZWlSZW1haW5kZXIpID0gZ2V0VG9rZW5zRm9yQ29udHJpYnV0aW9uKG1zZy52YWx1ZSk7CgogICAgICAgICAvLyBOZWVkIHRvIGNvbnRyaWJ1dGUgZW5vdWdoIGZvciBhdCBsZWFzdCAxIHRva2VuCiAgICAgICAgIHJlcXVpcmUodG9rZW5BbW91bnQgPiAwKTsKICAgICAgICAgCiAgICAgICAgIC8vIFNhbml0eSBjaGVjazogbWFrZSBzdXJlIHRoZSByZW1haW5kZXIgaXMgbGVzcyBvciBlcXVhbCB0byB3aGF0IHdhcyBzZW50IHRvIHVzCiAgICAgICAgIHJlcXVpcmUod2VpUmVtYWluZGVyIDw9IG1zZy52YWx1ZSk7CgogICAgICAgICAvLyBNYWtlIHN1cmUgdGhlcmUgYXJlIGVub3VnaCB0b2tlbnMgbGVmdCB0byBidXkKICAgICAgICAgdWludCB0b2tlbnNSZW1haW5pbmcgPSBnZXRUb2tlbnNSZW1haW5pbmcoKTsKICAgICAgICAgcmVxdWlyZSh0b2tlbnNSZW1haW5pbmcgPj0gdG9rZW5BbW91bnQpOwoKICAgICAgICAgLy8gVHJhbnNmZXIgdGhlIHRva2VuIGFtb3VudCBmcm9tIHRoZSBjcm93ZCBzYWxlJ3MgdG9rZW4gd2FsbGV0IHRvIHRoZQogICAgICAgICAvLyBzZW5kZXIncyB0b2tlbiB3YWxsZXQKICAgICAgICAgaWYgKCF0b2tlbldhbGxldC50cmFuc2Zlcihtc2cuc2VuZGVyLCB0b2tlbkFtb3VudCkpCiAgICAgICAgIHsKICAgICAgICAgICAgLy8gVW5hYmxlIHRvIHRyYW5zZmVyIGZ1bmRzLCBhYm9ydCB0cmFuc2FjdGlvbgogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICAgfQoKICAgICAgICAgLy8gUmV0dXJuIHRoZSByZW1haW5kZXIgdG8gdGhlIHNlbmRlcgogICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKHdlaVJlbWFpbmRlcik7CgogICAgICAgICAvLyBTaW5jZSB3ZSByZWZ1bmRlZCB0aGUgcmVtYWluZGVyLCB0aGUgYWN0dWFsIGNvbnRyaWJ1dGlvbiBpcyB0aGUgYW1vdW50IHNlbnQKICAgICAgICAgLy8gbWludXMgdGhlIHJlbWFpbmRlcgogICAgICAgICB1aW50IGFjdHVhbENvbnRyaWJ1dGlvbiA9IG1zZy52YWx1ZSAtIHdlaVJlbWFpbmRlcjsKCiAgICAgICAgIC8vIFJlY29yZCB0aGUgZXZlbnQKICAgICAgICAgQ29udHJpYnV0aW9uKG1zZy5zZW5kZXIsIGFjdHVhbENvbnRyaWJ1dGlvbiwgdG9rZW5BbW91bnQpOwogICAgfQogICAgCiAgICBmdW5jdGlvbigpIHBheWFibGUKICAgIHsKICAgICAgICBjb250cmlidXRlKCk7CiAgICB9IAp9'.
	

]
