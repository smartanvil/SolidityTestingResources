Class {
	#name : #SRTeA13644b32E570C95B767849011B48Bbb0E6bBB9,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTeA13644b32E570C95B767849011B48Bbb0E6bBB9 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBDcm93ZHNhbGVQYXJhbWV0ZXJzIHsKICAgIC8vIEFjY291bnRzICgyMDE3LTExLTMwKQogICAgYWRkcmVzcyBpbnRlcm5hbCBjb25zdGFudCBwcmVzYWxlUG9vbEFkZHJlc3MgICAgICAgID0gMHhGMzczQmZEMDVDODAzNWJFNmRjQjQ0Q0FCZDE3NTU3ZTQ5RDUzNjRDOwogICAgYWRkcmVzcyBpbnRlcm5hbCBjb25zdGFudCBmb3VuZGVyc0FkZHJlc3MgICAgICAgICAgID0gMHgwRUQzNzVkZDk0Yzg3ODcwMzE0NzU4MEYwNDRCNkIxQ0U2YTdGMDUzOwogICAgYWRkcmVzcyBpbnRlcm5hbCBjb25zdGFudCBpbmNlbnRpdmVSZXNlcnZlQWRkcmVzcyAgID0gMHhEMzQxMjFFODUzYWYyOTBlNjFhMEYwMzEzQjk5YWJiMjRENERjNmVhOwogICAgYWRkcmVzcyBpbnRlcm5hbCBjb25zdGFudCBnZW5lcmFsU2FsZUFkZHJlc3MgICAgICAgID0gMHhDMTA3RUMyMDc3QkE3ZDY1OTQ0MjY3QjY0RjAwNTQ3MUE2YzA1NjkyOwogICAgYWRkcmVzcyBpbnRlcm5hbCBjb25zdGFudCBsb3R0ZXJ5QWRkcmVzcyAgICAgICAgICAgID0gMHg5ODYzMWI2ODhCY2Y3OEQyMzNDNDhFNDY0ZkNmZTZkQzdhQmQzMkE3OwogICAgYWRkcmVzcyBpbnRlcm5hbCBjb25zdGFudCBtYXJrZXRpbmdBZGRyZXNzICAgICAgICAgID0gMHgyQzFDOTE2YTRhQzNkMGYyNDQyRmUwQTliOWU1NzBlQjY1NjU4MmQ4OwoKICAgIC8vIFByZUlDTyBhbmQgTWFpbiBzYWxlIElDTyBUaW1pbmcgcGVyIHJlcXVpcmVtZW50cwogICAgdWludDI1NiBpbnRlcm5hbCBjb25zdGFudCBwcmVzYWxlU3RhcnREYXRlICAgICAgPSAxNTEyMTIxNTAwOyAvLyAyMDE3LTEyLTAxIDA5OjQ1IEdNVAogICAgdWludDI1NiBpbnRlcm5hbCBjb25zdGFudCBwcmVzYWxlRW5kRGF0ZSAgICAgICAgPSAxNTEzMzgyNDMwOyAvLyAyMDE3LTEyLTE2IDAwOjAwOjMwIEdNVAogICAgdWludDI1NiBpbnRlcm5hbCBjb25zdGFudCBnZW5lcmFsU2FsZVN0YXJ0RGF0ZSAgPSAxNTE1MzE5MjAwOyAvLyAyMDE4LTAxLTA3IDEwOjAwIEdNVAogICAgdWludDI1NiBpbnRlcm5hbCBjb25zdGFudCBnZW5lcmFsU2FsZUVuZERhdGUgICAgPSAxNTE4NjAyNDAwOyAvLyAyMDE4LTAyLTE0IDEwOjAwIEdNVAp9Cgpjb250cmFjdCBUb2tlblJlY2lwaWVudCB7CiAgICBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWM7Cn0KCmNvbnRyYWN0IE93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKICAgIC8qKgogICAgKiAgQ29uc3RydWN0b3IKICAgICoKICAgICogIFNldHMgY29udHJhY3Qgb3duZXIgdG8gYWRkcmVzcyBvZiBjb25zdHJ1Y3RvciBjYWxsZXIKICAgICovCiAgICBmdW5jdGlvbiBPd25lZCgpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAqICBDaGFuZ2UgT3duZXIKICAgICoKICAgICogIENoYW5nZXMgb3duZXJzaGlwIG9mIHRoaXMgY29udHJhY3QuIE9ubHkgb3duZXIgY2FuIGNhbGwgdGhpcyBtZXRob2QuCiAgICAqCiAgICAqIEBwYXJhbSBuZXdPd25lciAtIG5ldyBvd25lcidzIGFkZHJlc3MKICAgICovCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUobmV3T3duZXIgIT0gb3duZXIpOwogICAgICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KfQoKY29udHJhY3QgU2VlZFRva2VuIGlzIE93bmVkLCBDcm93ZHNhbGVQYXJhbWV0ZXJzIHsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyAgcmV0dXJucyAodWludDI1NiByZXN1bHQpOwoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgZnVuY3Rpb24gYWNjb3VudEJhbGFuY2UoYWRkcmVzcyBfYWRkcmVzcykgcHVibGljIHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7Cn0KCmNvbnRyYWN0IExpdmVUcmVlQ3Jvd2RzYWxlIGlzIE93bmVkLCBDcm93ZHNhbGVQYXJhbWV0ZXJzIHsKICAgIHVpbnRbXSBwdWJsaWMgSUNPU3RhZ2VQZXJpb2Q7CgogICAgYm9vbCBwdWJsaWMgaWNvQ2xvc2VkTWFudWFsbHkgPSBmYWxzZTsKCiAgICBib29sIHB1YmxpYyBhbGxvd1JlZnVuZHMgPSBmYWxzZTsKCiAgICB1aW50IHB1YmxpYyB0b3RhbENvbGxlY3RlZCA9IDA7CgogICAgYWRkcmVzcyBwcml2YXRlIHNhbGVXYWxsZXRBZGRyZXNzOwoKICAgIGFkZHJlc3MgcHJpdmF0ZSBwcmVzYWxlV2FsbGV0QWRkcmVzczsKCiAgICB1aW50IHByaXZhdGUgdG9rZW5NdWx0aXBsaWVyID0gMTA7CgogICAgU2VlZFRva2VuIHByaXZhdGUgdG9rZW5SZXdhcmQ7CgogICAgdWludCBwcml2YXRlIHJlYXNvbmFibGVDb3N0c1BlcmNlbnRhZ2U7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwcml2YXRlIGludmVzdG1lbnRSZWNvcmRzOwoKICAgIGV2ZW50IEZ1bmRUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQgX3ZhbHVlKTsKCiAgICBldmVudCBUb2tlblRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBiYWtlciwgdWludCB0b2tlbkFtb3VudCwgdWludCBwcmljZVBlclRva2VuKTsKCiAgICBldmVudCBSZWZ1bmQoYWRkcmVzcyBpbmRleGVkIGJhY2tlciwgdWludCBhbW91bnQpOwoKICAgIGVudW0gU3RhZ2UgeyBQcmVTYWxlLCBHZW5lcmFsU2FsZSwgSW5hY3RpdmUgfQoKICAgIC8qKgogICAgKiBDb25zdHJ1Y3RvcgogICAgKgogICAgKiBAcGFyYW0gX3Rva2VuQWRkcmVzcyAtIGFkZHJlc3Mgb2YgU0VEIHRva2VuIChkZXBsb3llZCBiZWZvcmUgdGhpcyBjb250cmFjdCkKICAgICovCiAgICBmdW5jdGlvbiBMaXZlVHJlZUNyb3dkc2FsZShhZGRyZXNzIF90b2tlbkFkZHJlc3MpIHB1YmxpYyB7CiAgICAgICAgdG9rZW5SZXdhcmQgPSBTZWVkVG9rZW4oX3Rva2VuQWRkcmVzcyk7CiAgICAgICAgdG9rZW5NdWx0aXBsaWVyID0gdG9rZW5NdWx0aXBsaWVyICoqIHRva2VuUmV3YXJkLmRlY2ltYWxzKCk7CiAgICAgICAgc2FsZVdhbGxldEFkZHJlc3MgPSBDcm93ZHNhbGVQYXJhbWV0ZXJzLmdlbmVyYWxTYWxlQWRkcmVzczsKICAgICAgICBwcmVzYWxlV2FsbGV0QWRkcmVzcyA9IENyb3dkc2FsZVBhcmFtZXRlcnMucHJlc2FsZVBvb2xBZGRyZXNzOwoKICAgICAgICBJQ09TdGFnZVBlcmlvZC5wdXNoKENyb3dkc2FsZVBhcmFtZXRlcnMucHJlc2FsZVN0YXJ0RGF0ZSk7CiAgICAgICAgSUNPU3RhZ2VQZXJpb2QucHVzaChDcm93ZHNhbGVQYXJhbWV0ZXJzLnByZXNhbGVFbmREYXRlKTsKICAgICAgICBJQ09TdGFnZVBlcmlvZC5wdXNoKENyb3dkc2FsZVBhcmFtZXRlcnMuZ2VuZXJhbFNhbGVTdGFydERhdGUpOwogICAgICAgIElDT1N0YWdlUGVyaW9kLnB1c2goQ3Jvd2RzYWxlUGFyYW1ldGVycy5nZW5lcmFsU2FsZUVuZERhdGUpOwogICAgfQoKICAgIC8qKgogICAgKiBHZXQgYWN0aXZlIHN0YWdlIChwcmUtc2FsZSBvciBnZW5lcmFsIHNhbGUpCiAgICAqCiAgICAqIEByZXR1cm4gc3RhZ2UgLSBhY3RpdmUgc3RhZ2UKICAgICovCiAgICBmdW5jdGlvbiBnZXRBY3RpdmVTdGFnZSgpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKFN0YWdlKSB7CiAgICAgICAgaWYgKElDT1N0YWdlUGVyaW9kWzBdIDw9IG5vdyAmJiBub3cgPCBJQ09TdGFnZVBlcmlvZFsxXSkKICAgICAgICAgICAgcmV0dXJuIFN0YWdlLlByZVNhbGU7CgogICAgICAgIGlmIChJQ09TdGFnZVBlcmlvZFsyXSA8PSBub3cgJiYgbm93IDwgSUNPU3RhZ2VQZXJpb2RbM10pCiAgICAgICAgICAgIHJldHVybiBTdGFnZS5HZW5lcmFsU2FsZTsKCiAgICAgICAgcmV0dXJuIFN0YWdlLkluYWN0aXZlOwogICAgfQoKICAgIC8qKgogICAgKiAgUHJvY2VzcyByZWNlaXZlZCBwYXltZW50CiAgICAqCiAgICAqICBEZXRlcm1pbmUgdGhlIG51bWJlciBvZiB0b2tlbnMgdGhhdCB3YXMgcHVyY2hhc2VkIGNvbnNpZGVyaW5nIGN1cnJlbnQKICAgICogIHN0YWdlLCBib251cyB0aWVyIGFuZCByZW1haW5pbmcgYW1vdW50IG9mIHRva2VucyBpbiB0aGUgc2FsZSB3YWxsZXQuCiAgICAqICBUcmFuc2ZlciBwdXJjaGFzZWQgdG9rZW5zIHRvIGJha2VyQWRkcmVzcyBhbmQgcmV0dXJuIHVudXNlZCBwb3J0aW9uIG9mCiAgICAqICBldGhlciAoY2hhbmdlKQogICAgKgogICAgKiBAcGFyYW0gYmFrZXJBZGRyZXNzIC0gYWRkcmVzcyB0aGF0IGV0aGVyIHdhcyBzZW50IGZyb20KICAgICogQHBhcmFtIGFtb3VudCAtIGFtb3VudCBvZiBXZWkgcmVjZWl2ZWQKICAgICovCiAgICBmdW5jdGlvbiBwcm9jZXNzUGF5bWVudChhZGRyZXNzIGJha2VyQWRkcmVzcywgdWludCBhbW91bnQpIGludGVybmFsIHsKICAgICAgICAvLyBDaGVjayBjdXJyZW50IHN0YWdlLCBlaXRoZXIgcHJlLXNhbGUgb3IgZ2VuZXJhbCBzYWxlIHNob3VsZCBiZSBhY3RpdmUKICAgICAgICBTdGFnZSBjdXJyZW50U3RhZ2UgPSBnZXRBY3RpdmVTdGFnZSgpOwogICAgICAgIHJlcXVpcmUoY3VycmVudFN0YWdlICE9IFN0YWdlLkluYWN0aXZlKTsKCiAgICAgICAgLy8gVmFsaWRhdGUgaWYgSUNPIGlzIG5vdCBjbG9zZWQgbWFudWFsbHkgb3IgcmVhY2hlZCB0aGUgdGhyZXNob2xkCiAgICAgICAgcmVxdWlyZSghaWNvQ2xvc2VkTWFudWFsbHkpOwoKICAgICAgICAvLyBCZWZvcmUgTWV0cm9wb2xpcyB1cGRhdGUgcmVxdWlyZSB3aWxsIG5vdCByZWZ1bmQgZ2FzLCBidXQKICAgICAgICAvLyBmb3Igc29tZSByZWFzb24gcmVxdWlyZSBzdGF0ZW1lbnQgYXJvdW5kIG1zZy52YWx1ZSBhbHdheXMgdGhyb3dzCiAgICAgICAgYXNzZXJ0KGFtb3VudCA+IDAgZmlubmV5KTsKCiAgICAgICAgLy8gVmFsaWRhdGUgdGhhdCB3ZSByZWNlaXZlZCBsZXNzIHRoYW4gYSBiaWxsaW9uIEVUSCB0byBwcmV2ZW50IG92ZXJmbG93CiAgICAgICAgcmVxdWlyZShhbW91bnQgPCAxZTI3KTsKCiAgICAgICAgLy8gVGVsbCBldmVyeW9uZSBhYm91dCB0aGUgdHJhbnNmZXIKICAgICAgICBGdW5kVHJhbnNmZXIoYmFrZXJBZGRyZXNzLCBhZGRyZXNzKHRoaXMpLCBhbW91bnQpOwoKICAgICAgICAvLyBDYWxjdWxhdGUgdG9rZW5zIHBlciBFVEggZm9yIHRoaXMgdGllcgogICAgICAgIHVpbnQgdG9rZW5zUGVyRXRoID0gMTEzMDsKCiAgICAgICAgaWYgKGFtb3VudCA8IDEuNSBldGhlcikKICAgICAgICAgICAgdG9rZW5zUGVyRXRoID0gMTAwMDsKICAgICAgICBlbHNlIGlmIChhbW91bnQgPCAzIGV0aGVyKQogICAgICAgICAgICB0b2tlbnNQZXJFdGggPSAxMDA1OwogICAgICAgIGVsc2UgaWYgKGFtb3VudCA8IDUgZXRoZXIpCiAgICAgICAgICAgIHRva2Vuc1BlckV0aCA9IDEwMTA7CiAgICAgICAgZWxzZSBpZiAoYW1vdW50IDwgNyBldGhlcikKICAgICAgICAgICAgdG9rZW5zUGVyRXRoID0gMTAxNTsKICAgICAgICBlbHNlIGlmIChhbW91bnQgPCAxMCBldGhlcikKICAgICAgICAgICAgdG9rZW5zUGVyRXRoID0gMTAyMDsKICAgICAgICBlbHNlIGlmIChhbW91bnQgPCAxNSBldGhlcikKICAgICAgICAgICAgdG9rZW5zUGVyRXRoID0gMTAyNTsKICAgICAgICBlbHNlIGlmIChhbW91bnQgPCAyMCBldGhlcikKICAgICAgICAgICAgdG9rZW5zUGVyRXRoID0gMTAzMDsKICAgICAgICBlbHNlIGlmIChhbW91bnQgPCAzMCBldGhlcikKICAgICAgICAgICAgdG9rZW5zUGVyRXRoID0gMTAzNTsKICAgICAgICBlbHNlIGlmIChhbW91bnQgPCA1MCBldGhlcikKICAgICAgICAgICAgdG9rZW5zUGVyRXRoID0gMTA0MDsKICAgICAgICBlbHNlIGlmIChhbW91bnQgPCA3NSBldGhlcikKICAgICAgICAgICAgdG9rZW5zUGVyRXRoID0gMTA0NTsKICAgICAgICBlbHNlIGlmIChhbW91bnQgPCAxMDAgZXRoZXIpCiAgICAgICAgICAgIHRva2Vuc1BlckV0aCA9IDEwNTA7CiAgICAgICAgZWxzZSBpZiAoYW1vdW50IDwgMTUwIGV0aGVyKQogICAgICAgICAgICB0b2tlbnNQZXJFdGggPSAxMDU1OwogICAgICAgIGVsc2UgaWYgKGFtb3VudCA8IDI1MCBldGhlcikKICAgICAgICAgICAgdG9rZW5zUGVyRXRoID0gMTA2MDsKICAgICAgICBlbHNlIGlmIChhbW91bnQgPCAzNTAgZXRoZXIpCiAgICAgICAgICAgIHRva2Vuc1BlckV0aCA9IDEwNzA7CiAgICAgICAgZWxzZSBpZiAoYW1vdW50IDwgNTAwIGV0aGVyKQogICAgICAgICAgICB0b2tlbnNQZXJFdGggPSAxMDc1OwogICAgICAgIGVsc2UgaWYgKGFtb3VudCA8IDc1MCBldGhlcikKICAgICAgICAgICAgdG9rZW5zUGVyRXRoID0gMTA4MDsKICAgICAgICBlbHNlIGlmIChhbW91bnQgPCAxMDAwIGV0aGVyKQogICAgICAgICAgICB0b2tlbnNQZXJFdGggPSAxMDkwOwogICAgICAgIGVsc2UgaWYgKGFtb3VudCA8IDE1MDAgZXRoZXIpCiAgICAgICAgICAgIHRva2Vuc1BlckV0aCA9IDExMDA7CiAgICAgICAgZWxzZSBpZiAoYW1vdW50IDwgMjAwMCBldGhlcikKICAgICAgICAgICAgdG9rZW5zUGVyRXRoID0gMTExMDsKICAgICAgICBlbHNlIGlmIChhbW91bnQgPCAzNTAwIGV0aGVyKQogICAgICAgICAgICB0b2tlbnNQZXJFdGggPSAxMTIwOwoKICAgICAgICBpZiAoY3VycmVudFN0YWdlID09IFN0YWdlLlByZVNhbGUpCiAgICAgICAgICAgIHRva2Vuc1BlckV0aCA9IHRva2Vuc1BlckV0aCAqIDI7CgogICAgICAgIC8vIENhbGN1bGF0ZSB0b2tlbiBhbW91bnQgdGhhdCBpcyBwdXJjaGFzZWQsCiAgICAgICAgLy8gdHJ1bmNhdGUgdG8gaW50ZWdlcgogICAgICAgIHVpbnQgd2VpUGVyRXRoID0gMWUxODsKICAgICAgICB1aW50IHRva2VuQW1vdW50ID0gYW1vdW50ICogdG9rZW5zUGVyRXRoICogdG9rZW5NdWx0aXBsaWVyIC8gd2VpUGVyRXRoOwoKICAgICAgICAvLyBDaGVjayB0aGF0IHN0YWdlIHdhbGxldCBoYXMgZW5vdWdoIHRva2Vucy4gSWYgbm90LCBzZWxsIHRoZSByZXN0IGFuZAogICAgICAgIC8vIHJldHVybiBjaGFuZ2UuCiAgICAgICAgYWRkcmVzcyB0b2tlblNhbGVXYWxsZXQgPSBjdXJyZW50U3RhZ2UgPT0gU3RhZ2UuUHJlU2FsZSA/IHByZXNhbGVXYWxsZXRBZGRyZXNzIDogc2FsZVdhbGxldEFkZHJlc3M7CiAgICAgICAgdWludCByZW1haW5pbmdUb2tlbkJhbGFuY2UgPSB0b2tlblJld2FyZC5hY2NvdW50QmFsYW5jZSh0b2tlblNhbGVXYWxsZXQpOwogICAgICAgIGlmIChyZW1haW5pbmdUb2tlbkJhbGFuY2UgPCB0b2tlbkFtb3VudCkgewogICAgICAgICAgICB0b2tlbkFtb3VudCA9IHJlbWFpbmluZ1Rva2VuQmFsYW5jZTsKICAgICAgICB9CgogICAgICAgIC8vIENhbGN1bGF0ZSBXZWkgYW1vdW50IHRoYXQgd2FzIHJlY2VpdmVkIGluIHRoaXMgdHJhbnNhY3Rpb24KICAgICAgICAvLyBhZGp1c3RlZCB0byByb3VuZGluZyBhbmQgcmVtYWluaW5nIHRva2VuIGFtb3VudAogICAgICAgIHVpbnQgYWNjZXB0ZWRBbW91bnQgPSB0b2tlbkFtb3VudCAqIHdlaVBlckV0aCAvICh0b2tlbnNQZXJFdGggKiB0b2tlbk11bHRpcGxpZXIpOwoKICAgICAgICAvLyBUcmFuc2ZlciB0b2tlbnMgdG8gYmFrZXIgYW5kIHJldHVybiBFVEggY2hhbmdlCiAgICAgICAgdG9rZW5SZXdhcmQudHJhbnNmZXJGcm9tKHRva2VuU2FsZVdhbGxldCwgYmFrZXJBZGRyZXNzLCB0b2tlbkFtb3VudCk7CgogICAgICAgIFRva2VuVHJhbnNmZXIoYmFrZXJBZGRyZXNzLCB0b2tlbkFtb3VudCwgdG9rZW5zUGVyRXRoKTsKCiAgICAgICAgdWludCBjaGFuZ2UgPSBhbW91bnQgLSBhY2NlcHRlZEFtb3VudDsKICAgICAgICBpZiAoY2hhbmdlID4gMCkgewogICAgICAgICAgICBpZiAoYmFrZXJBZGRyZXNzLnNlbmQoY2hhbmdlKSkgewogICAgICAgICAgICAgICAgRnVuZFRyYW5zZmVyKGFkZHJlc3ModGhpcyksIGJha2VyQWRkcmVzcywgY2hhbmdlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICB9CgogICAgICAgIC8vIFVwZGF0ZSBjcm93ZHNhbGUgcGVyZm9ybWFuY2UKICAgICAgICBpbnZlc3RtZW50UmVjb3Jkc1tiYWtlckFkZHJlc3NdICs9IGFjY2VwdGVkQW1vdW50OwogICAgICAgIHRvdGFsQ29sbGVjdGVkICs9IGFjY2VwdGVkQW1vdW50OwogICAgfQoKICAgIC8qKgogICAgKiBDaGFuZ2UgcHJlLXNhbGUgZW5kIGRhdGUKICAgICoKICAgICogQHBhcmFtIGVuZERhdGUgLSBlbmQgZGF0ZSBvZiBwcmUtc2FsZSBpbiBtaWxsaXNlY29uZHMgZnJvbSB1bml4IGVwb2NoCiAgICAqLwogICAgZnVuY3Rpb24gY2hhbmdlUHJlc2FsZUVuZERhdGUodWludDI1NiBlbmREYXRlKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoSUNPU3RhZ2VQZXJpb2RbMF0gPCBlbmREYXRlKTsKICAgICAgICByZXF1aXJlKElDT1N0YWdlUGVyaW9kWzJdID49IGVuZERhdGUpOwoKICAgICAgICBJQ09TdGFnZVBlcmlvZFsxXSA9IGVuZERhdGU7CiAgICB9CgogICAgLyoqCiAgICAqIENoYW5nZSBnZW5lcmFsIHNhbGUgc3RhcnQgZGF0ZQogICAgKgogICAgKiBAcGFyYW0gc3RhcnREYXRlIC0gc3RhcnQgZGF0ZSBvZiBnZW5lcmFsIHNhbGUgaW4gbWlsbGlzZWNvbmRzIGZyb20gdW5peCBlcG9jaAogICAgKi8KICAgIGZ1bmN0aW9uIGNoYW5nZUdlbmVyYWxTYWxlU3RhcnREYXRlKHVpbnQyNTYgc3RhcnREYXRlKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobm93IDwgc3RhcnREYXRlKTsKICAgICAgICByZXF1aXJlKElDT1N0YWdlUGVyaW9kWzFdIDw9IHN0YXJ0RGF0ZSk7CgogICAgICAgIElDT1N0YWdlUGVyaW9kWzJdID0gc3RhcnREYXRlOwogICAgfQoKICAgIC8qKgogICAgKiBDaGFuZ2UgZ2VuZXJhbCBzYWxlIGVuZCBkYXRlCiAgICAqCiAgICAqIEBwYXJhbSBlbmREYXRlIC0gZW5kIGRhdGUgb2YgZ2VuZXJhbCBzYWxlIGluIG1pbGxpc2Vjb25kcyBmcm9tIHVuaXggZXBvY2gKICAgICovCiAgICBmdW5jdGlvbiBjaGFuZ2VHZW5lcmFsU2FsZUVuZERhdGUodWludDI1NiBlbmREYXRlKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoSUNPU3RhZ2VQZXJpb2RbMl0gPCBlbmREYXRlKTsKCiAgICAgICAgSUNPU3RhZ2VQZXJpb2RbM10gPSBlbmREYXRlOwogICAgfQoKICAgIC8qKgogICAgKiBTdG9wIElDTyBtYW51YWxseQogICAgKi8KICAgIGZ1bmN0aW9uIHBhdXNlSUNPKCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKCFpY29DbG9zZWRNYW51YWxseSk7CgogICAgICAgIGljb0Nsb3NlZE1hbnVhbGx5ID0gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICogUmVvcGVuIElDTwogICAgKi8KICAgIGZ1bmN0aW9uIHVucGF1c2VJQ08oKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoaWNvQ2xvc2VkTWFudWFsbHkpOwoKICAgICAgICBpY29DbG9zZWRNYW51YWxseSA9IGZhbHNlOwogICAgfQoKICAgIC8qKgogICAgKiBDbG9zZSBtYWluIHNhbGUgYW5kIGRlc3Ryb3kgdW5zb2xkIHRva2VucwogICAgKi8KICAgIGZ1bmN0aW9uIGNsb3NlTWFpblNhbGVJQ08oKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIHZhciBhbW91bnRUb0Rlc3Ryb3kgPSB0b2tlblJld2FyZC5iYWxhbmNlT2YoQ3Jvd2RzYWxlUGFyYW1ldGVycy5nZW5lcmFsU2FsZUFkZHJlc3MpOwogICAgICAgIHRva2VuUmV3YXJkLnRyYW5zZmVyRnJvbShDcm93ZHNhbGVQYXJhbWV0ZXJzLmdlbmVyYWxTYWxlQWRkcmVzcywgMCwgYW1vdW50VG9EZXN0cm95KTsKICAgICAgICBJQ09TdGFnZVBlcmlvZFszXSA9IG5vdzsKICAgICAgICBUb2tlblRyYW5zZmVyKDAsIGFtb3VudFRvRGVzdHJveSwgMCk7CiAgICB9CgogICAgLyoqCiAgICAqIENsb3NlIHByZSBJQ08gYW5kIHRyYW5zZmVyIGFsbCB1bnNvbGQgdG9rZW5zIHRvIG1haW4gc2FsZSB3YWxsZXQKICAgICovCiAgICBmdW5jdGlvbiBjbG9zZVByZUlDTygpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgdmFyIGFtb3VudFRvVHJhbnNmZXIgPSB0b2tlblJld2FyZC5iYWxhbmNlT2YoQ3Jvd2RzYWxlUGFyYW1ldGVycy5wcmVzYWxlUG9vbEFkZHJlc3MpOwogICAgICAgIElDT1N0YWdlUGVyaW9kWzFdID0gbm93OwogICAgICAgIHRva2VuUmV3YXJkLnRyYW5zZmVyRnJvbShDcm93ZHNhbGVQYXJhbWV0ZXJzLnByZXNhbGVQb29sQWRkcmVzcywgQ3Jvd2RzYWxlUGFyYW1ldGVycy5nZW5lcmFsU2FsZUFkZHJlc3MsIGFtb3VudFRvVHJhbnNmZXIpOwogICAgfQoKCiAgICAvKioKICAgICogQWxsb3cgb3IgZGlzYWxsb3cgcmVmdW5kcwogICAgKgogICAgKiBAcGFyYW0gdmFsdWUgLSBpZiB0cnVlLCByZWZ1bmRzIHdpbGwgYmUgYWxsb3dlZDsgaWYgZmFsc2UsIGRpc2FsbG93ZWQKICAgICogQHBhcmFtIF9yZWFzb25hYmxlQ29zdHNQZXJjZW50YWdlIC0gbm9uLXJlZnVuZGFibGUgZnJhY3Rpb24gb2YgdG90YWwKICAgICogICAgICAgIGNvbGxlY3Rpb25zIGluIHRlbnMgb2YgYSBwZXJjZW50LiBWYWxpZCByYW5nZSBpcyAwIHRvIDEwMDA6CiAgICAqICAgICAgICAwID0gMC4wJSwgMTIzID0gMTIuMyUsIDEwMDAgPSAxMDAuMCUKICAgICovCiAgICBmdW5jdGlvbiBzZXRBbGxvd1JlZnVuZHMoYm9vbCB2YWx1ZSwgdWludCBfcmVhc29uYWJsZUNvc3RzUGVyY2VudGFnZSkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKGlzSUNPQ2xvc2VkKCkpOwogICAgICAgIHJlcXVpcmUoX3JlYXNvbmFibGVDb3N0c1BlcmNlbnRhZ2UgPj0gMSAmJiBfcmVhc29uYWJsZUNvc3RzUGVyY2VudGFnZSA8PSA5OTkpOwoKICAgICAgICBhbGxvd1JlZnVuZHMgPSB2YWx1ZTsKICAgICAgICByZWFzb25hYmxlQ29zdHNQZXJjZW50YWdlID0gX3JlYXNvbmFibGVDb3N0c1BlcmNlbnRhZ2U7CiAgICB9CgogICAgLyoqCiAgICAqICBUcmFuc2ZlciBFVEggYW1vdW50IGZyb20gY29udHJhY3QgdG8gb3duZXIncyBhZGRyZXNzLgogICAgKgogICAgKiBAcGFyYW0gYW1vdW50IC0gRVRIIGFtb3VudCB0byB0cmFuc2ZlciBpbiBXZWkKICAgICovCiAgICBmdW5jdGlvbiBzYWZlV2l0aGRyYXdhbCh1aW50IGFtb3VudCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKHRoaXMuYmFsYW5jZSA+PSBhbW91bnQpOwoKICAgICAgICBpZiAob3duZXIuc2VuZChhbW91bnQpKQogICAgICAgICAgICBGdW5kVHJhbnNmZXIoYWRkcmVzcyh0aGlzKSwgb3duZXIsIGFtb3VudCk7CiAgICB9CgogICAgLyoqCiAgICBmdW5jdGlvbgogICAgKiBJcyBJQ08gY2xvc2VkIChlaXRoZXIgY2xvc2VkIG1hbnVhbGx5IG9yIG5vdCBzdGFydGVkKQogICAgKgogICAgKiBAcmV0dXJuIHRydWUgaWYgSUNPIGlzIGNsb3NlZCBtYW51YWxseSBvciBzdGFnZSBpcyAiSW5hY3RpdmUiLCBvdGhlcndpc2UgZmFsc2UKICAgICovCiAgICBmdW5jdGlvbiBpc0lDT0Nsb3NlZCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sIGNsb3NlZCkgewogICAgICAgIFN0YWdlIGN1cnJlbnRTdGFnZSA9IGdldEFjdGl2ZVN0YWdlKCk7CiAgICAgICAgcmV0dXJuIGljb0Nsb3NlZE1hbnVhbGx5IHx8IGN1cnJlbnRTdGFnZSA9PSBTdGFnZS5JbmFjdGl2ZTsKICAgIH0KCiAgICAvKioKICAgICogIERlZmF1bHQgbWV0aG9kCiAgICAqCiAgICAqICBQcm9jZXNzZXMgYWxsIEVUSCB0aGF0IGl0IHJlY2VpdmVzIGFuZCBjcmVkaXRzIFNFRCB0b2tlbnMgdG8gc2VuZGVyCiAgICAqICBhY2NvcmRpbmcgdG8gY3VycmVudCBzdGFnZSBhbmQgdGllciBib251cwogICAgKi8KICAgIGZ1bmN0aW9uICgpIGV4dGVybmFsIHBheWFibGUgewogICAgICAgIHByb2Nlc3NQYXltZW50KG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgICB9CgogICAgLyoqCiAgICAqICBLaWxsIG1ldGhvZAogICAgKgogICAgKiAgRGVzdHJ1Y3RzIHRoaXMgY29udHJhY3QKICAgICovCiAgICBmdW5jdGlvbiBraWxsKCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKGlzSUNPQ2xvc2VkKCkpOwoKICAgICAgICBzZWxmZGVzdHJ1Y3Qob3duZXIpOwogICAgfQoKICAgIC8qKgogICAgKiAgUmVmdW5kCiAgICAqCiAgICAqICBTZW5kcyBhIHBhcnRpYWwgcmVmdW5kIHRvIHRoZSBzZW5kZXIgd2hvIGNhbGxzIHRoaXMgbWV0aG9kLgogICAgKiAgRnJhY3Rpb24gb2YgY29sbGVjdGVkIGFtb3VudCB3aWxsIG5vdCBiZSByZWZ1bmRlZAogICAgKi8KICAgIGZ1bmN0aW9uIHJlZnVuZCgpIGV4dGVybmFsIHsKICAgICAgICByZXF1aXJlKGlzSUNPQ2xvc2VkKCkgJiYgYWxsb3dSZWZ1bmRzICYmIGludmVzdG1lbnRSZWNvcmRzW21zZy5zZW5kZXJdID4gMCk7CgogICAgICAgIHZhciBhbW91bnRUb1JldHVybiA9IGludmVzdG1lbnRSZWNvcmRzW21zZy5zZW5kZXJdICogKDEwMDAgLSByZWFzb25hYmxlQ29zdHNQZXJjZW50YWdlKSAvIDEwMDA7CgogICAgICAgIHJlcXVpcmUodGhpcy5iYWxhbmNlID49IGFtb3VudFRvUmV0dXJuKTsKCiAgICAgICAgaW52ZXN0bWVudFJlY29yZHNbbXNnLnNlbmRlcl0gPSAwOwogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoYW1vdW50VG9SZXR1cm4pOwogICAgICAgIFJlZnVuZChtc2cuc2VuZGVyLCBhbW91bnRUb1JldHVybik7CiAgICB9Cn0='.
	

]
