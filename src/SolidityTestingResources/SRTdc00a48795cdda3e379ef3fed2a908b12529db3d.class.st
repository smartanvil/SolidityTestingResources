Class {
	#name : #SRTdc00a48795cdda3e379ef3fed2a908b12529db3d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTdc00a48795cdda3e379ef3fed2a908b12529db3d >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9Cgp9Cgpjb250cmFjdCBDaGFtcGlvbiBpcyBPd25hYmxlIHsKICAgIHVpbnQ4IGNvbnN0YW50IE5VTUJFUiA9IDE7CiAgICB1aW50OCBjb25zdGFudCBTVFJJTkcgPSAwOwogICAgCiAgICB1aW50OCBjb25zdGFudCBHU19OT1RfU1RBUlRFRCA9IDA7CiAgICB1aW50OCBjb25zdGFudCBHU19JTl9QUk9DRVNTID0gMTsKICAgIHVpbnQ4IGNvbnN0YW50IEdTX1dBSVRJTkdfVVNFUlMgPSAyOwogICAgdWludDggY29uc3RhbnQgQklMTElPTlNfU1RFUCA9IDM1OyAKICAgIAogICAgdWludDI1NiBwdWJsaWMgZ2FtZSA9IDA7CiAgICAKICAgIHVpbnQ4IHB1YmxpYyBjdXJyZW50R2FtZVN0YXR1czsKICAgIAogICAgdWludDI1NiBwdWJsaWMgY3VycmVudEdhbWVCbG9ja051bWJlcjsKICAgIAogICAgdWludDI1NltdIHB1YmxpYyBhbGxHYW1lczsKICAgIAogICAgbWFwcGluZyh1aW50MjU2ID0+IHVpbnQyNTYpIGludGVybmFsIGdhbWVTdGFydEJsb2NrOwogICAgCiAgICBtYXBwaW5nKHVpbnQyNTYgPT4gYWRkcmVzc1tdKSBpbnRlcm5hbCBnYW1lUGxheWVyczsKICAgIAogICAgbWFwcGluZyh1aW50MjU2ID0+IGFkZHJlc3MpIHB1YmxpYyB3aW5uZXJzOwogICAgCiAgICBtYXBwaW5nKHVpbnQyNTYgPT4gbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTZbXSkpIGludGVybmFsIHBsYXllck51bWJlcnNJbkdhbWU7CgogICAgbWFwcGluZyh1aW50MjU2ID0+IHVpbnQyNTYpIGdhbWVQcml6ZTsKICAgIAogICAgZnVuY3Rpb24gQ2hhbXBpb24oKSB7CiAgICAgICAgY3VycmVudEdhbWVTdGF0dXMgPSBHU19OT1RfU1RBUlRFRDsKICAgICAgICBnYW1lID0gYmxvY2subnVtYmVyOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEFsbEdhbWVzQ291bnQoKSBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYWxsR2FtZXMubGVuZ3RoOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFdpbm5lcih1aW50MjU2IF9nYW1lKSBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzKSB7CiAgICAgICAgcmV0dXJuIHdpbm5lcnNbX2dhbWVdOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBzZXRXaW5uZXIodWludDI1NiBfZ2FtZSwgYWRkcmVzcyBfd2lubmVyKSBwcml2YXRlIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB3aW5uZXJzW19nYW1lXSA9IF93aW5uZXI7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdldFN0YXJ0QmxvY2sodWludDI1NiBfZ2FtZSkgCiAgICAgICAgICAgIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIAogICAgewogICAgICAgIHJldHVybiBnYW1lU3RhcnRCbG9ja1tfZ2FtZV07CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UGxheWVyc0NvdW50QnlHYW1lKHVpbnQyNTYgX2dhbWUpIAogICAgICAgICAgICBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KQogICAgewogICAgICAgIHJldHVybiBnYW1lUGxheWVyc1tfZ2FtZV0ubGVuZ3RoOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBnZXRQbGF5ZXJOdW1iZXJzSW5HYW1lKHVpbnQyNTYgX2dhbWVCbG9jaywgYWRkcmVzcyBfcGFsYXllcikgCiAgICAgICAgICAgIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTZbXSkKICAgIHsKICAgICAgICByZXR1cm4gcGxheWVyTnVtYmVyc0luR2FtZVtfZ2FtZUJsb2NrXVtfcGFsYXllcl07CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0R2FtZVByaXplKHVpbnQyNTYgX2dhbWUpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gZ2FtZVByaXplW19nYW1lXTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gc2V0R2FtZVByaXplKHVpbnQyNTYgX2dhbWUsIHVpbnQyNTYgX2Ftb3VudCkgb25seU93bmVyIHsKICAgICAgICBnYW1lUHJpemVbX2dhbWVdID0gX2Ftb3VudDsKICAgIH0KCiAgICBmdW5jdGlvbiBpc051bWJlcih1aW50MjU2IF9nYW1lKSBwcml2YXRlIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICBieXRlczMyIGhhc2ggPSBibG9jay5ibG9ja2hhc2goX2dhbWUpOwogICAgICAgIHJlcXVpcmUoaGFzaCAhPSAweDApOwogICAgICAgIAogICAgICAgIGJ5dGUgYiA9IGJ5dGUoaGFzaFszMV0pOwogICAgICAgIHVpbnQgaGkgPSB1aW50OChiKSAvIDE2OwogICAgICAgIHVpbnQgbG8gPSB1aW50OChiKSAtIDE2ICogdWludDgoaGkpOwogICAgICAgIAogICAgICAgIGlmIChsbyA8PSA5KSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHN0YXJ0R2FtZSgpIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShjdXJyZW50R2FtZVN0YXR1cyA9PSBHU19XQUlUSU5HX1VTRVJTKTsKICAgICAgICBjdXJyZW50R2FtZVN0YXR1cyA9IEdTX0lOX1BST0NFU1M7CiAgICAgICAgY3VycmVudEdhbWVCbG9ja051bWJlciA9IGdhbWU7CiAgICAgICAgZ2FtZSA9IGJsb2NrLm51bWJlcjsKICAgICAgICAKICAgICAgICBhbGxHYW1lcy5wdXNoKGN1cnJlbnRHYW1lQmxvY2tOdW1iZXIpOwogICAgICAgIAogICAgICAgIHVpbnQyNTYgc3RhcnRCbG9jayA9IGJsb2NrLm51bWJlciAtIDE7CiAgICAgICAgZ2FtZVN0YXJ0QmxvY2tbY3VycmVudEdhbWVCbG9ja051bWJlcl0gPSBzdGFydEJsb2NrOwogICAgICAgIAogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGZpbmlzaEN1cnJlbnRHYW1lKCkgb25seU93bmVyIHJldHVybnMgKGFkZHJlc3MpIHsKICAgICAgICByZXR1cm4gZmluaXNoR2FtZShjdXJyZW50R2FtZUJsb2NrTnVtYmVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBmaW5pc2hHYW1lKHVpbnQyNTYgX2dhbWUpIG9ubHlPd25lciByZXR1cm5zIChhZGRyZXNzKSB7CiAgICAgICAgcmVxdWlyZShfZ2FtZSAhPSAwKTsKICAgICAgICByZXF1aXJlKHdpbm5lcnNbX2dhbWVdID09IDB4MCk7CiAgICAgICAgcmVxdWlyZShjdXJyZW50R2FtZVN0YXR1cyA9PSBHU19JTl9QUk9DRVNTKTsKCiAgICAgICAgdWludDI1NiBzdGVwcyA9IGdldEN1cnJlbnRHYW1lU3RlcHMoKTsKICAgICAgICB1aW50MjU2IHN0YXJ0QmxvY2sgPSBnZXRTdGFydEJsb2NrKF9nYW1lKTsKICAgICAgICByZXF1aXJlKHN0YXJ0QmxvY2sgKyBzdGVwcyA8IGJsb2NrLm51bWJlcik7CiAgICAgICAgCiAgICAgICAgdWludDI1NiBsTWluID0gMDsKICAgICAgICB1aW50MjU2IGxNYXggPSAwOwogICAgICAgIHVpbnQyNTYgck1pbiA9IDA7CiAgICAgICAgdWludDI1NiByTWF4ID0gMDsKICAgICAgICAKICAgICAgICAobE1pbiwgbE1heCwgck1pbiwgck1heCkgPSBwcm9jZXNzU3RlcHMoX2dhbWUpOwogICAgICAgIAogICAgICAgIGFkZHJlc3Mgd2lubmVyID0gZ2FtZVBsYXllcnNbX2dhbWVdW3JNYXhdOwogICAgICAgICAgICAKICAgICAgICBzZXRXaW5uZXIoCiAgICAgICAgICAgIF9nYW1lLCAKICAgICAgICAgICAgd2lubmVyCiAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgY3VycmVudEdhbWVCbG9ja051bWJlciA9IDA7CiAgICAgICAgY3VycmVudEdhbWVTdGF0dXMgPSBHU19XQUlUSU5HX1VTRVJTOwogICAgICAgIAogICAgICAgIHJldHVybiB3aW5uZXI7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRHYW1lU3RlcHMoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGdldFN0ZXBzQ291bnQoY3VycmVudEdhbWVCbG9ja051bWJlcik7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0U3RlcHNDb3VudCh1aW50MjU2IF9nYW1lKSAKICAgICAgICAgICAgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB5KSB7CiAgICAgICAgdWludDI1NiB4ID0gZ2V0UGxheWVyc0NvdW50QnlHYW1lKF9nYW1lKTsKICAgICAgICBhc3NlbWJseSB7CiAgICAgICAgICAgIGxldCBhcmcgOj0geAogICAgICAgICAgICB4IDo9IHN1Yih4LDEpCiAgICAgICAgICAgIHggOj0gb3IoeCwgZGl2KHgsIDB4MDIpKQogICAgICAgICAgICB4IDo9IG9yKHgsIGRpdih4LCAweDA0KSkKICAgICAgICAgICAgeCA6PSBvcih4LCBkaXYoeCwgMHgxMCkpCiAgICAgICAgICAgIHggOj0gb3IoeCwgZGl2KHgsIDB4MTAwKSkKICAgICAgICAgICAgeCA6PSBvcih4LCBkaXYoeCwgMHgxMDAwMCkpCiAgICAgICAgICAgIHggOj0gb3IoeCwgZGl2KHgsIDB4MTAwMDAwMDAwKSkKICAgICAgICAgICAgeCA6PSBvcih4LCBkaXYoeCwgMHgxMDAwMDAwMDAwMDAwMDAwMCkpCiAgICAgICAgICAgIHggOj0gb3IoeCwgZGl2KHgsIDB4MTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwKSkKICAgICAgICAgICAgeCA6PSBhZGQoeCwgMSkKICAgICAgICAgICAgbGV0IG0gOj0gbWxvYWQoMHg0MCkKICAgICAgICAgICAgbXN0b3JlKG0sICAgICAgICAgICAweGY4ZjljYmZhZTZjYzc4ZmJlZmU3Y2RjM2ExNzkzZGZjZjRmMGU4YmJkOGNlYzQ3MGI2YTI4YTdhNWEzZTFlZmQpCiAgICAgICAgICAgIG1zdG9yZShhZGQobSwweDIwKSwgMHhmNWVjZjFiM2U5ZGViYzY4ZTFkOWNmYWJjNTk5NzEzNWJmYjdhN2EzOTM4YjdiNjA2YjViNGIzZjJmMWYwZmZlKQogICAgICAgICAgICBtc3RvcmUoYWRkKG0sMHg0MCksIDB4ZjZlNGVkOWZmMmQ2YjQ1OGVhZGNkZjk3YmQ5MTY5MmRlMmQ0ZGE4ZmQyZDBhYzUwYzZhZTlhODI3MjUyMzYxNikKICAgICAgICAgICAgbXN0b3JlKGFkZChtLDB4NjApLCAweGM4YzBiODg3YjBhOGE0NDg5Yzk0OGM3Zjg0N2M2MTI1NzQ2YzY0NWM1NDRjNDQ0MDM4MzAyODIwMTgxMDA4ZmYpCiAgICAgICAgICAgIG1zdG9yZShhZGQobSwweDgwKSwgMHhmN2NhZTU3N2VlYzJhMDNjZjNiYWQ3NmZiNTg5NTkxZGViYjJkZDY3ZTBhYTk4MzRiZWE2OTI1ZjZhNGEyZTBlKQogICAgICAgICAgICBtc3RvcmUoYWRkKG0sMHhhMCksIDB4ZTM5ZWQ1NTdkYjk2OTAyY2QzOGVkMTRmYWQ4MTUxMTVjNzg2YWY0NzliN2U4MzI0NzM2MzUzNDMzNzI3MTcwNykKICAgICAgICAgICAgbXN0b3JlKGFkZChtLDB4YzApLCAweGM5NzZjMTNiYjk2ZTg4MWNiMTY2YTkzM2E1NWU0OTBkOWQ1Njk1MmI4ZDRlODAxNDg1NDY3ZDIzNjI0MjI2MDYpCiAgICAgICAgICAgIG1zdG9yZShhZGQobSwweGUwKSwgMHg3NTNhNmQxYjY1MzI1ZDBjNTUyYTRkMTM0NTIyNDEwNTM5MWEzMTBiMjkxMjIxMDQxOTBhMTEwMzA5MDIwMTAwKQogICAgICAgICAgICBtc3RvcmUoMHg0MCwgYWRkKG0sIDB4MTAwKSkKICAgICAgICAgICAgbGV0IHZhbHVlIDo9IDB4ODE4MjgzODQ4NTg2ODc4ODk4YThiOGM4ZDhlOGY5MjkzOTU5Njk3OTlhOWI5ZDllOWZhYWViNmJlZGVlZmYKICAgICAgICAgICAgbGV0IHNoaWZ0IDo9IDB4MTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwCiAgICAgICAgICAgIGxldCBhIDo9IGRpdihtdWwoeCwgdmFsdWUpLCBzaGlmdCkKICAgICAgICAgICAgeSA6PSBkaXYobWxvYWQoYWRkKG0sc3ViKDI1NSxhKSkpLCBzaGlmdCkKICAgICAgICAgICAgeSA6PSBhZGQoeSwgbXVsKDI1NiwgZ3QoYXJnLCAweDgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDApKSkKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdldEdhbWVSdWxlcyh1aW50MjU2IF9nYW1lKSAKICAgICAgICAgICAgY29uc3RhbnQgcmV0dXJucyAodWludDggbGVmdCwgdWludDggcmlnaHQpIHsKICAgICAgICBpZiAoaXNOdW1iZXIoX2dhbWUpKSB7CiAgICAgICAgICAgIGxlZnQgPSBOVU1CRVI7CiAgICAgICAgICAgIHJpZ2h0ID0gU1RSSU5HOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxlZnQgPSBTVFJJTkc7CiAgICAgICAgICAgIHJpZ2h0ID0gTlVNQkVSOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChsZWZ0LCByaWdodCk7CiAgICB9CgogICAgZnVuY3Rpb24gcHJvY2Vzc1N0ZXBzKHVpbnQyNTYgX2dhbWVCbG9jaykgCiAgICAgICAgICAgIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgbE1pbiwgdWludDI1NiBsTWF4LCB1aW50MjU2IHJNaW4sIHVpbnQyNTYgck1heCkgewogICAgICAgIHJlcXVpcmUoX2dhbWVCbG9jayAhPSAwKTsKICAgICAgICAKICAgICAgICBsTWluID0gMDsKICAgICAgICBsTWF4ID0gMDsKICAgICAgICByTWluID0gMDsKICAgICAgICByTWF4ID0gZ2FtZVBsYXllcnNbX2dhbWVCbG9ja10ubGVuZ3RoIC0gMTsKICAgICAgICAKICAgICAgICBpZiAoaXNFdmVuTnVtYmVyKHJNYXgpKSB7CiAgICAgICAgICAgIGxNYXggPSByTWF4IC8gMjsKICAgICAgICAgICAgck1pbiA9IHJNYXggLyAyICsgMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsTWF4ID0gck1heCAvIDI7CiAgICAgICAgICAgIHJNaW4gPSByTWF4IC8gMiArIDE7CiAgICAgICAgfQoKICAgICAgICB1aW50OCBsZWZ0ID0gMDsKICAgICAgICB1aW50OCByaWdodCA9IDA7CiAgICAgICAgKGxlZnQsIHJpZ2h0KSA9IGdldEdhbWVSdWxlcyhfZ2FtZUJsb2NrKTsKCiAgICAgICAgZm9yICh1aW50OCBpID0gMTsgaSA8PSBCSUxMSU9OU19TVEVQOyBpKyspIHsKICAgICAgICAgICAgYm9vbCBpc051bWJlclJlcyA9IGlzTnVtYmVyKGdldFN0YXJ0QmxvY2soX2dhbWVCbG9jaykgKyBpKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICgoaXNOdW1iZXJSZXMgJiYgbGVmdCA9PSBOVU1CRVIpIHx8CiAgICAgICAgICAgICAgICAoIWlzTnVtYmVyUmVzICYmIGxlZnQgPT0gU1RSSU5HKQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIGlmIChsTWluID09IGxNYXgpIHsKICAgICAgICAgICAgICAgICAgICByTWluID0gbE1pbjsKICAgICAgICAgICAgICAgICAgICByTWF4ID0gbE1heDsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgck1heCA9IGxNYXg7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNOdW1iZXJSZXMgJiYgcmlnaHQgPT0gTlVNQkVSIHx8CiAgICAgICAgICAgICAgICAoIWlzTnVtYmVyUmVzICYmIHJpZ2h0ID09IFNUUklORykKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICBpZiAock1pbiA9PSByTWF4KSB7CiAgICAgICAgICAgICAgICAgICAgbE1pbiA9IHJNaW47CiAgICAgICAgICAgICAgICAgICAgbE1heCA9IHJNYXg7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxNaW4gPSByTWluOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAock1heCAtIGxNaW4gIT0gMSkgewogICAgICAgICAgICAgICAgbE1heCA9IGxNaW4gKyAock1heCAtIGxNaW4pIC8gMjsKICAgICAgICAgICAgICAgIHJNaW4gPSBsTWluICsgKHJNYXggLSBsTWluKSAvIDIgKyAxOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbE1heCA9IGxNaW47CiAgICAgICAgICAgICAgICByTWluID0gck1heDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXR1cm4gKGxNaW4sIGxNYXgsIHJNaW4sIHJNYXgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHByb2Nlc3NTdGVwc0J5U3RlcCh1aW50MjU2IF9nYW1lQmxvY2ssIHVpbnQyNTYgc3RlcCkgCiAgICAgICAgICAgIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgbE1pbiwgdWludDI1NiBsTWF4LCB1aW50MjU2IHJNaW4sIHVpbnQyNTYgck1heCkgewogICAgICAgIHJlcXVpcmUoX2dhbWVCbG9jayAhPSAwKTsKICAgICAgICByZXF1aXJlKChnZXRTdGFydEJsb2NrKF9nYW1lQmxvY2spICsgaSkgPCBibG9jay5udW1iZXIpOwogICAgICAgIAogICAgICAgIGxNaW4gPSAwOwogICAgICAgIGxNYXggPSAwOwogICAgICAgIHJNaW4gPSAwOwogICAgICAgIHJNYXggPSBnYW1lUGxheWVyc1tfZ2FtZUJsb2NrXS5sZW5ndGggLSAxOwogICAgICAgIAogICAgICAgIGlmIChpc0V2ZW5OdW1iZXIock1heCkpIHsKICAgICAgICAgICAgbE1heCA9IHJNYXggLyAyOwogICAgICAgICAgICByTWluID0gck1heCAvIDIgKyAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxNYXggPSByTWF4IC8gMjsKICAgICAgICAgICAgck1pbiA9IHJNYXggLyAyICsgMTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKHN0ZXAgPT0gMCkgewogICAgICAgICAgICByZXR1cm4gKGxNaW4sIGxNYXgsIHJNaW4sIHJNYXgpOwogICAgICAgIH0gCiAgICAgICAgCiAgICAgICAgdWludDggbGVmdCA9IDA7CiAgICAgICAgdWludDggcmlnaHQgPSAwOwogICAgICAgIChsZWZ0LCByaWdodCkgPSBnZXRHYW1lUnVsZXMoX2dhbWVCbG9jayk7CgogICAgICAgIGZvciAodWludCBpID0gMTsgaSA8PSBzdGVwOyBpKyspIHsKICAgICAgICAgICAgYm9vbCBpc051bWJlclJlcyA9IGlzTnVtYmVyKGdldFN0YXJ0QmxvY2soX2dhbWVCbG9jaykgKyBpKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICgoaXNOdW1iZXJSZXMgJiYgbGVmdCA9PSBOVU1CRVIpIHx8CiAgICAgICAgICAgICAgICAoIWlzTnVtYmVyUmVzICYmIGxlZnQgPT0gU1RSSU5HKQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIGlmIChsTWluID09IGxNYXgpIHsKICAgICAgICAgICAgICAgICAgICByTWluID0gbE1pbjsKICAgICAgICAgICAgICAgICAgICByTWF4ID0gbE1heDsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgck1heCA9IGxNYXg7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNOdW1iZXJSZXMgJiYgcmlnaHQgPT0gTlVNQkVSIHx8CiAgICAgICAgICAgICAgICAoIWlzTnVtYmVyUmVzICYmIHJpZ2h0ID09IFNUUklORykKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICBpZiAock1pbiA9PSByTWF4KSB7CiAgICAgICAgICAgICAgICAgICAgbE1pbiA9IHJNaW47CiAgICAgICAgICAgICAgICAgICAgbE1heCA9IHJNYXg7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxNaW4gPSByTWluOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAock1heCAtIGxNaW4gIT0gMSkgewogICAgICAgICAgICAgICAgbE1heCA9IGxNaW4gKyAock1heCAtIGxNaW4pIC8gMjsKICAgICAgICAgICAgICAgIHJNaW4gPSBsTWluICsgKHJNYXggLSBsTWluKSAvIDIgKyAxOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbE1heCA9IGxNaW47CiAgICAgICAgICAgICAgICByTWluID0gck1heDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXR1cm4gKGxNaW4sIGxNYXgsIHJNaW4sIHJNYXgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzRXZlbk51bWJlcih1aW50IF92MSkgCiAgICAgICAgICAgIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICB1aW50IHYxdSA9IF92MSAqIDEwMDsKICAgICAgICB1aW50IHYyID0gMjsKICAgICAgICAKICAgICAgICB1aW50IHZ1UmVzdWx0ID0gdjF1IC8gdjI7CiAgICAgICAgdWludCB2UmVzdWx0ID0gX3YxIC8gdjI7CiAgICAgICAgCiAgICAgICAgaWYgKHZ1UmVzdWx0ICE9IHZSZXN1bHQgKiAxMDApIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYnV5VGlja2V0KGFkZHJlc3MgX3BsYXllcikgb25seU93bmVyIAogICAgICAgICAgICByZXR1cm5zICh1aW50MjU2IHBsYXllck51bWJlciwgdWludDI1NiBnYW1lTnVtYmVyKSB7CiAgICAgICAgaWYgKGN1cnJlbnRHYW1lU3RhdHVzID09IEdTX05PVF9TVEFSVEVEKSB7CiAgICAgICAgICAgIGN1cnJlbnRHYW1lU3RhdHVzID0gR1NfV0FJVElOR19VU0VSUzsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcGxheWVyTnVtYmVyID0gZ2FtZVBsYXllcnNbZ2FtZV0ubGVuZ3RoOwoKICAgICAgICBnYW1lUGxheWVyc1tnYW1lXS5wdXNoKF9wbGF5ZXIpOwogICAgICAgIAogICAgICAgIHBsYXllck51bWJlcnNJbkdhbWVbZ2FtZV1bX3BsYXllcl0ucHVzaChwbGF5ZXJOdW1iZXIpOwogICAgICAgICAgICAgICAgCiAgICAgICAgcmV0dXJuIChwbGF5ZXJOdW1iZXIsIGdhbWUpOwogICAgfQp9'.
	

]
