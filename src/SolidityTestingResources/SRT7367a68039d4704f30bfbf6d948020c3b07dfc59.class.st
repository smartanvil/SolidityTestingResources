Class {
	#name : #SRT7367a68039d4704f30bfbf6d948020c3b07dfc59,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT7367a68039d4704f30bfbf6d948020c3b07dfc59 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgoKLyoqCiAqIEEgY29udHJhY3QgY29udGFpbmluZyB0aGUgZnVuZGFtZW50YWwgc3RhdGUgdmFyaWFibGVzIG9mIHRoZSBCZWVyY29pbgogKi8KY29udHJhY3QgSW50ZXJuYWxCZWVyY29pbiB7CiAgICAvLyBBcyAxOCBkZWNpbWFsIHBsYWNlcyB3aWxsIGJlIHVzZWQsIHRoZSBjb25zdGFudHMgYXJlIG11bHRpcGxpZWQgYnkgMTBeMTgKICAgIHVpbnQyNTYgaW50ZXJuYWwgY29uc3RhbnQgSU5JVElBTF9TVVBQTFkgPSAxNTQ5NjAwMDAwMCAqIDEwKioxODsKICAgIHVpbnQyNTYgaW50ZXJuYWwgY29uc3RhbnQgRElBTU9ORF9WQUxVRSA9IDEwMDAwICogMTAqKjE4OwogICAgdWludDI1NiBpbnRlcm5hbCBjb25zdGFudCBHT0xEX1ZBTFVFID0gMTAwICogMTAqKjE4OwogICAgdWludDI1NiBpbnRlcm5hbCBjb25zdGFudCBTSUxWRVJfVkFMVUUgPSAxMCAqIDEwKioxODsKICAgIHVpbnQyNTYgaW50ZXJuYWwgY29uc3RhbnQgQlJPTlpFX1ZBTFVFID0gMSAqIDEwKioxODsKCiAgICAvLyBJbiBhZGRpdGlvbiB0byB0aGUgaW5pdGlhbCB0b3RhbCBzdXBwbHkgb2YgMTU0OTYwMDAwMDAgQmVlcmNvaW5zLAogICAgLy8gbW9yZSBCZWVyY29pbnMgd2lsbCBvbmx5IGJlIGFkZGVkIGJ5IHNjYW5uaW5nIGJvdHRsZSBjYXBzLgogICAgLy8gMjA4MDAwMDAwMDAgYm90dGxlIGNhcHMgd2lsbCBiZSBldmVudHVhbGx5IHByb2R1Y2VkLgogICAgLy8KICAgIC8vIFdpdGhpbiAxMDAwMCBib3R0bGUgY2FwcywKICAgIC8vIDEgKGkuZS4gZXZlcnkgMTAwMDB0aCBjYXAgaW4gdG90YWwpIGhhcyBhIHZhbHVlIG9mIDEwMDAwICgiRGlhbW9uZCIpIEJlZXJjb2lucywKICAgIC8vIDkgKGkuZS4gZXZlcnkgMTAwMHRoIGNhcCBpbiB0b3RhbCkgaGF2ZSBhIHZhbHVlIG9mIDEwMCAoIkdvbGQiKSBCZWVyY29pbnMsCiAgICAvLyA5OTAgKGkuZS4gZXZlcnkgMTB0aCBjYXAgaW4gdG90YWwpIGhhdmUgYSB2YWx1ZSBvZiAxMCAoIlNpbHZlciIpIEJlZXJjb2lucywKICAgIC8vIDkwMDAgKGkuZS4gZXZlcnkgcmVtYWluaW5nIGNhcCkgaGF2ZSBhIHZhbHVlIG9mIDEgKCJCcm9uemUiKSBCZWVyY29pbi4KICAgIC8vCiAgICAvLyBUaGVyZWZvcmUgb25lIGJvdHRsZSBjYXAgaGFzIGFuIGF2ZXJhZ2UgQmVlcmNvaW4gdmFsdWUgb2YKICAgIC8vICgxICogMTAwMDAgKyA5ICogMTAwICsgOTkwICogMTAgKyA5MDAwICogMSkgLyAxMDAwMCA9IDIuOTguCiAgICAvLwogICAgLy8gVGhpcyBtZWFucyB0aGUgdG90YWwgQmVlcmNvaW4gdmFsdWUgb2YgYWxsIGJvdHRsZSBjYXBzIHRoYXQgd2lsbAogICAgLy8gYmUgZXZlbnR1YWxseSBwcm9kdWNlZCBlcXVhbHMgMjA4MDAwMDAwMDAgKiAyLjk4ID0gNjE5ODQwMDAwMDAuCiAgICB1aW50NjQgaW50ZXJuYWwgcHJvZHVjaWJsZUNhcHMgPSAyMDgwMDAwMDAwMDsKCiAgICAvLyBUaGUgIGFtb3VudHMgb2YgZGlhbW9uZCwgZ29sZCwgc2lsdmVyLCBhbmQgYnJvbnplIGNhcHMgYXJlIHN0b3JlZAogICAgLy8gYXMgYSBzaW5nbGUgMjU2LWJpdCB2YWx1ZSBkaXZpZGVkIGludG8gZm91ciBzZWN0aW9ucyBvZiA2NCBiaXRzLgogICAgLy8KICAgIC8vIEJpdHMgMjU1IHRvIDE5MiBhcmUgdXNlZCBmb3IgdGhlIGFtb3VudCBvZiBkaWFtb25kIGNhcHMsCiAgICAvLyBiaXRzIDE5MSB0byAxMjggYXJlIHVzZWQgZm9yIHRoZSBhbW91bnQgb2YgZ29sZCBjYXBzLAogICAgLy8gYml0cyAxMjcgdG8gNjQgYXJlIHVzZWQgZm9yIHRoZSBhbW91bnQgb2Ygc2lsdmVyIGNhcHMsCiAgICAvLyBiaXRzIDYzIHRvIDAgYXJlIHVzZWQgZm9yIHRoZSBhbW91bnQgb2YgYnJvbnplIGNhcHMuCiAgICAvLwogICAgLy8gRm9yIGV4YW1wbGUsIHRoZSBmb2xsb3dpbmcgbnVtYmVycyByZXByZXNlbnQgYSBzaW5nbGUgY2FwIG9mIGEgY2VydGFpbiB0eXBlOgogICAgLy8gMHgwMDAwMDAwMDAwMDAwMDAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwIChkaWFtb25kKQogICAgLy8gMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwIChnb2xkKQogICAgLy8gMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEwMDAwMDAwMDAwMDAwMDAwIChzaWx2ZXIpCiAgICAvLyAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEgKGJyb256ZSkKICAgIHVpbnQyNTYgaW50ZXJuYWwgcGFja2VkUHJvZHVjZWRDYXBzID0gMDsKICAgIHVpbnQyNTYgaW50ZXJuYWwgcGFja2VkU2Nhbm5lZENhcHMgPSAwOwoKICAgIC8vIFRoZSBhbW91bnQgb2YgaXJyZXZlcnNpYmx5IGJ1cm50IEJlZXJjb2lucwogICAgdWludDI1NiBpbnRlcm5hbCBidXJudFZhbHVlID0gMDsKfQoKCi8qKgogKiBBIGNvbnRyYWN0IGNvbnRhaW5pbmcgZnVuY3Rpb25zIHRvIHVuZGVyc3RhbmQgdGhlIHBhY2tlZCBsb3ctbGV2ZWwgZGF0YQogKi8KY29udHJhY3QgRXhwbG9yYWJsZUJlZXJjb2luIGlzIEludGVybmFsQmVlcmNvaW4gewogICAgLyoqCiAgICAgKiBUaGUgYW1vdW50IG9mIGNhcHMgdGhhdCBjYW4gc3RpbGwgYmUgcHJvZHVjZWQKICAgICAqLwogICAgZnVuY3Rpb24gdW5wcm9kdWNlZENhcHMoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50NjQpIHsKICAgICAgICByZXR1cm4gcHJvZHVjaWJsZUNhcHM7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgYW1vdW50IG9mIGNhcHMgdGhhdCBpcyBwcm9kdWNlZCBidXQgbm90IHlldCBzY2FubmVkCiAgICAgKi8KICAgIGZ1bmN0aW9uIHVuc2Nhbm5lZENhcHMoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50NjQpIHsKICAgICAgICB1aW50MjU2IGNhcHMgPSBwYWNrZWRQcm9kdWNlZENhcHMgLSBwYWNrZWRTY2FubmVkQ2FwczsKICAgICAgICB1aW50NjQgYW1vdW50ID0gdWludDY0KGNhcHMgPj4gMTkyKTsKICAgICAgICBhbW91bnQgKz0gdWludDY0KGNhcHMgPj4gMTI4KTsKICAgICAgICBhbW91bnQgKz0gdWludDY0KGNhcHMgPj4gNjQpOwogICAgICAgIGFtb3VudCArPSB1aW50NjQoY2Fwcyk7CiAgICAgICAgcmV0dXJuIGFtb3VudDsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBhbW91bnQgb2YgYWxsIGNhcHMgcHJvZHVjZWQgc28gZmFyCiAgICAgKi8KICAgIGZ1bmN0aW9uIHByb2R1Y2VkQ2FwcygpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQ2NCkgewogICAgICAgIHVpbnQyNTYgY2FwcyA9IHBhY2tlZFByb2R1Y2VkQ2FwczsKICAgICAgICB1aW50NjQgYW1vdW50ID0gdWludDY0KGNhcHMgPj4gMTkyKTsKICAgICAgICBhbW91bnQgKz0gdWludDY0KGNhcHMgPj4gMTI4KTsKICAgICAgICBhbW91bnQgKz0gdWludDY0KGNhcHMgPj4gNjQpOwogICAgICAgIGFtb3VudCArPSB1aW50NjQoY2Fwcyk7CiAgICAgICAgcmV0dXJuIGFtb3VudDsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBhbW91bnQgb2YgYWxsIGNhcHMgc2Nhbm5lZCBzbyBmYXIKICAgICAqLwogICAgZnVuY3Rpb24gc2Nhbm5lZENhcHMoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50NjQpIHsKICAgICAgICB1aW50MjU2IGNhcHMgPSBwYWNrZWRTY2FubmVkQ2FwczsKICAgICAgICB1aW50NjQgYW1vdW50ID0gdWludDY0KGNhcHMgPj4gMTkyKTsKICAgICAgICBhbW91bnQgKz0gdWludDY0KGNhcHMgPj4gMTI4KTsKICAgICAgICBhbW91bnQgKz0gdWludDY0KGNhcHMgPj4gNjQpOwogICAgICAgIGFtb3VudCArPSB1aW50NjQoY2Fwcyk7CiAgICAgICAgcmV0dXJuIGFtb3VudDsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBhbW91bnQgb2YgZGlhbW9uZCBjYXBzIHByb2R1Y2VkIHNvIGZhcgogICAgICovCiAgICBmdW5jdGlvbiBwcm9kdWNlZERpYW1vbmRDYXBzKCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDY0KSB7CiAgICAgICAgcmV0dXJuIHVpbnQ2NChwYWNrZWRQcm9kdWNlZENhcHMgPj4gMTkyKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBhbW91bnQgb2YgZGlhbW9uZCBjYXBzIHNjYW5uZWQgc28gZmFyCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNjYW5uZWREaWFtb25kQ2FwcygpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQ2NCkgewogICAgICAgIHJldHVybiB1aW50NjQocGFja2VkU2Nhbm5lZENhcHMgPj4gMTkyKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBhbW91bnQgb2YgZ29sZCBjYXBzIHByb2R1Y2VkIHNvIGZhcgogICAgICovCiAgICBmdW5jdGlvbiBwcm9kdWNlZEdvbGRDYXBzKCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDY0KSB7CiAgICAgICAgcmV0dXJuIHVpbnQ2NChwYWNrZWRQcm9kdWNlZENhcHMgPj4gMTI4KTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBhbW91bnQgb2YgZ29sZCBjYXBzIHNjYW5uZWQgc28gZmFyCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNjYW5uZWRHb2xkQ2FwcygpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQ2NCkgewogICAgICAgIHJldHVybiB1aW50NjQocGFja2VkU2Nhbm5lZENhcHMgPj4gMTI4KTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBhbW91bnQgb2Ygc2lsdmVyIGNhcHMgcHJvZHVjZWQgc28gZmFyCiAgICAgKi8KICAgIGZ1bmN0aW9uIHByb2R1Y2VkU2lsdmVyQ2FwcygpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQ2NCkgewogICAgICAgIHJldHVybiB1aW50NjQocGFja2VkUHJvZHVjZWRDYXBzID4+IDY0KTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBhbW91bnQgb2Ygc2lsdmVyIGNhcHMgc2Nhbm5lZCBzbyBmYXIKICAgICAqLwogICAgZnVuY3Rpb24gc2Nhbm5lZFNpbHZlckNhcHMoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50NjQpIHsKICAgICAgICByZXR1cm4gdWludDY0KHBhY2tlZFNjYW5uZWRDYXBzID4+IDY0KTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBhbW91bnQgb2YgYnJvbnplIGNhcHMgcHJvZHVjZWQgc28gZmFyCiAgICAgKi8KICAgIGZ1bmN0aW9uIHByb2R1Y2VkQnJvbnplQ2FwcygpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQ2NCkgewogICAgICAgIHJldHVybiB1aW50NjQocGFja2VkUHJvZHVjZWRDYXBzKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBhbW91bnQgb2YgYnJvbnplIGNhcHMgc2Nhbm5lZCBzbyBmYXIKICAgICAqLwogICAgZnVuY3Rpb24gc2Nhbm5lZEJyb256ZUNhcHMoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50NjQpIHsKICAgICAgICByZXR1cm4gdWludDY0KHBhY2tlZFNjYW5uZWRDYXBzKTsKICAgIH0KfQoKCi8qKgogKiBBIGNvbnRyYWN0IGltcGxlbWVudGluZyBhbGwgc3RhbmRhcmQgRVJDMjAgZnVuY3Rpb25hbGl0eSBmb3IgdGhlIEJlZXJjb2luCiAqLwpjb250cmFjdCBFUkMyMEJlZXJjb2luIGlzIEV4cGxvcmFibGVCZWVyY29pbiB7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgaW50ZXJuYWwgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGludGVybmFsIGFsbG93YW5jZXM7CgogICAgLyoqCiAgICAgKiBCZWVyY29pbidzIG5hbWUKICAgICAqLwogICAgZnVuY3Rpb24gbmFtZSgpIHB1YmxpYyBwdXJlIHJldHVybnMgKHN0cmluZykgewogICAgICAgIHJldHVybiAiQmVlcmNvaW4iOwogICAgfQoKICAgIC8qKgogICAgICogQmVlcmNvaW4ncyBzeW1ib2wKICAgICAqLwogICAgZnVuY3Rpb24gc3ltYm9sKCkgcHVibGljIHB1cmUgcmV0dXJucyAoc3RyaW5nKSB7CiAgICAgICAgcmV0dXJuICImIzEyNzg2NjsiOwogICAgfQoKICAgIC8qKgogICAgICogQmVlcmNvaW4ncyBkZWNpbWFsIHBsYWNlcwogICAgICovCiAgICBmdW5jdGlvbiBkZWNpbWFscygpIHB1YmxpYyBwdXJlIHJldHVybnMgKHVpbnQ4KSB7CiAgICAgICAgcmV0dXJuIDE4OwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGN1cnJlbnQgdG90YWwgc3VwcGx5IG9mIEJlZXJjb2lucwogICAgICovCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGNhcHMgPSBwYWNrZWRTY2FubmVkQ2FwczsKICAgICAgICB1aW50MjU2IHN1cHBseSA9IElOSVRJQUxfU1VQUExZOwogICAgICAgIHN1cHBseSArPSAoY2FwcyA+PiAxOTIpICogRElBTU9ORF9WQUxVRTsKICAgICAgICBzdXBwbHkgKz0gKChjYXBzID4+IDEyOCkgJiAweEZGRkZGRkZGRkZGRkZGRkYpICogR09MRF9WQUxVRTsKICAgICAgICBzdXBwbHkgKz0gKChjYXBzID4+IDY0KSAmIDB4RkZGRkZGRkZGRkZGRkZGRikgKiBTSUxWRVJfVkFMVUU7CiAgICAgICAgc3VwcGx5ICs9IChjYXBzICYgMHhGRkZGRkZGRkZGRkZGRkZGKSAqIEJST05aRV9WQUxVRTsKICAgICAgICByZXR1cm4gc3VwcGx5IC0gYnVybnRWYWx1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIENoZWNrIHRoZSBiYWxhbmNlIG9mIGEgQmVlcmNvaW4gdXNlcgogICAgICoKICAgICAqIEBwYXJhbSBfb3duZXIgdGhlIHVzZXIgdG8gY2hlY2sKICAgICAqLwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgLyoqCiAgICAgKiBUcmFuc2ZlciBCZWVyY29pbnMgdG8gYW5vdGhlciB1c2VyCiAgICAgKgogICAgICogQHBhcmFtIF90byB0aGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBhbW91bnQgdG8gc2VuZAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gMHgwKTsKCiAgICAgICAgdWludDI1NiBiYWxhbmNlRnJvbSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdOwoKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlRnJvbSk7CgogICAgICAgIHVpbnQyNTYgb2xkQmFsYW5jZVRvID0gYmFsYW5jZXNbX3RvXTsKICAgICAgICB1aW50MjU2IG5ld0JhbGFuY2VUbyA9IG9sZEJhbGFuY2VUbyArIF92YWx1ZTsKCiAgICAgICAgcmVxdWlyZShvbGRCYWxhbmNlVG8gPD0gbmV3QmFsYW5jZVRvKTsKCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlRnJvbSAtIF92YWx1ZTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gbmV3QmFsYW5jZVRvOwoKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNmZXIgQmVlcmNvaW5zIGZyb20gb3RoZXIgYWRkcmVzcyBpZiBhIHJlc3BlY3RpdmUgYWxsb3dhbmNlIGV4aXN0cwogICAgICoKICAgICAqIEBwYXJhbSBfZnJvbSB0aGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAgKiBAcGFyYW0gX3RvIHRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIGFtb3VudCB0byBzZW5kCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gMHgwKTsKCiAgICAgICAgdWludDI1NiBiYWxhbmNlRnJvbSA9IGJhbGFuY2VzW19mcm9tXTsKICAgICAgICB1aW50MjU2IGFsbG93YW5jZUZyb20gPSBhbGxvd2FuY2VzW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZUZyb20pOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93YW5jZUZyb20pOwoKICAgICAgICB1aW50MjU2IG9sZEJhbGFuY2VUbyA9IGJhbGFuY2VzW190b107CiAgICAgICAgdWludDI1NiBuZXdCYWxhbmNlVG8gPSBvbGRCYWxhbmNlVG8gKyBfdmFsdWU7CgogICAgICAgIHJlcXVpcmUob2xkQmFsYW5jZVRvIDw9IG5ld0JhbGFuY2VUbyk7CgogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VGcm9tIC0gX3ZhbHVlOwogICAgICAgIGJhbGFuY2VzW190b10gPSBuZXdCYWxhbmNlVG87CiAgICAgICAgYWxsb3dhbmNlc1tfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2FuY2VGcm9tIC0gX3ZhbHVlOwoKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEFsbG93IGFub3RoZXIgdXNlciB0byBzcGVuZCBhIGNlcnRhaW4gYW1vdW50IG9mIEJlZXJjb2lucyBvbiB5b3VyIGJlaGFsZgogICAgICoKICAgICAqIEBwYXJhbSBfc3BlbmRlciB0aGUgYWRkcmVzcyBvZiB0aGUgdXNlciBhdXRob3JpemVkIHRvIHNwZW5kCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBtYXhpbXVtIGFtb3VudCB0aGF0IGNhbiBiZSBzcGVudCBvbiB5b3VyIGJlaGFsZgogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGFsbG93YW5jZXNbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGFtb3VudCBvZiBCZWVyY29pbnMgdGhhdCBjYW4gYmUgc3BlbnQgYnkgYSB1c2VyIG9uIGJlaGFsZiBvZiBhbm90aGVyCiAgICAgKgogICAgICogQHBhcmFtIF9vd25lciB0aGUgYWRkcmVzcyBvZiB0aGUgdXNlciB1c2VyIHdob3NlIEJlZXJjb2lucyBhcmUgc3BlbnQKICAgICAqIEBwYXJhbSBfc3BlbmRlciB0aGUgYWRkcmVzcyBvZiB0aGUgdXNlciB3aG8gZXhlY3V0ZXMgdGhlIHRyYW5zYWN0aW9uCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBhbGxvd2FuY2VzW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQp9CgoKLyoqCiAqIEEgY29udHJhY3QgdGhhdCBkZWZpbmVzIGEgbWFzdGVyIHdpdGggc3BlY2lhbCBkZWJpdGluZyBhYmlsaXRpZXMKICogcmVxdWlyZWQgZm9yIG9wZXJhdGluZyBhIHVzZXItZnJpZW5kbHkgQmVlcmNvaW4gcmVkZW1wdGlvbiBzeXN0ZW0KICovCmNvbnRyYWN0IE1hc3RlcmVkQmVlcmNvaW4gaXMgRVJDMjBCZWVyY29pbiB7CiAgICBhZGRyZXNzIGludGVybmFsIGJlZXJjb2luTWFzdGVyOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBpbnRlcm5hbCBkaXJlY3REZWJpdEFsbG93YW5jZXM7CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3QgdGhlIE1hc3RlcmVkQmVlcmNvaW4gY29udHJhY3QKICAgICAqIGFuZCBtYWtlIHRoZSBzZW5kZXIgdGhlIG1hc3RlcgogICAgICovCiAgICBmdW5jdGlvbiBNYXN0ZXJlZEJlZXJjb2luKCkgcHVibGljIHsKICAgICAgICBiZWVyY29pbk1hc3RlciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXN0cmljdCB0byB0aGUgbWFzdGVyIG9ubHkKICAgICAqLwogICAgbW9kaWZpZXIgb25seU1hc3RlciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGJlZXJjb2luTWFzdGVyKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIG1hc3RlciBvZiB0aGUgQmVlcmNvaW4KICAgICAqLwogICAgZnVuY3Rpb24gbWFzdGVyKCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHJldHVybiBiZWVyY29pbk1hc3RlcjsKICAgIH0KCiAgICAvKioKICAgICAqIERlY2xhcmUgYSBtYXN0ZXIgYXQgYW5vdGhlciBhZGRyZXNzCiAgICAgKgogICAgICogQHBhcmFtIG5ld01hc3RlciB0aGUgbmV3IG93bmVyJ3MgYWRkcmVzcwogICAgICovCiAgICBmdW5jdGlvbiBkZWNsYXJlTmV3TWFzdGVyKGFkZHJlc3MgbmV3TWFzdGVyKSBwdWJsaWMgb25seU1hc3RlciB7CiAgICAgICAgYmVlcmNvaW5NYXN0ZXIgPSBuZXdNYXN0ZXI7CiAgICB9CgogICAgLyoqCiAgICAgKiBBbGxvdyB0aGUgbWFzdGVyIHRvIHdpdGhkcmF3IEJlZXJjb2lucyBmcm9tIHlvdXIKICAgICAqIGFjY291bnQgc28geW91IGRvbid0IGhhdmUgdG8gc2VuZCBCZWVyY29pbnMgeW91cnNlbGYKICAgICAqLwogICAgZnVuY3Rpb24gYWxsb3dEaXJlY3REZWJpdCgpIHB1YmxpYyB7CiAgICAgICAgZGlyZWN0RGViaXRBbGxvd2FuY2VzW21zZy5zZW5kZXJdID0gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEZvcmJpZCB0aGUgbWFzdGVyIHRvIHdpdGhkcmF3IEJlZXJjb2lucyBmcm9tIHlvdSBhY2NvdW50CiAgICAgKi8KICAgIGZ1bmN0aW9uIGZvcmJpZERpcmVjdERlYml0KCkgcHVibGljIHsKICAgICAgICBkaXJlY3REZWJpdEFsbG93YW5jZXNbbXNnLnNlbmRlcl0gPSBmYWxzZTsKICAgIH0KCiAgICAvKioKICAgICAqIENoZWNrIHdoZXRoZXIgYSB1c2VyIGFsbG93cyBkaXJlY3QgZGViaXRzIGJ5IHRoZSBtYXN0ZXIKICAgICAqCiAgICAgKiBAcGFyYW0gdXNlciB0aGUgdXNlciB0byBjaGVjawogICAgICovCiAgICBmdW5jdGlvbiBkaXJlY3REZWJpdEFsbG93YW5jZShhZGRyZXNzIHVzZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gZGlyZWN0RGViaXRBbGxvd2FuY2VzW3VzZXJdOwogICAgfQoKICAgIC8qKgogICAgICogV2l0aGRyYXcgQmVlcmNvaW5zIGZyb20gbXVsdGlwbGUgdXNlcnMKICAgICAqCiAgICAgKiBCZWVyY29pbnMgYXJlIG9ubHkgd2l0aGRyYXduIHRoaXMgd2F5IGlmIGFuZCBvbmx5IGlmCiAgICAgKiBhIHVzZXIgZGVsaWJlcmF0ZWx5IHdhbnRzIGl0IHRvIGhhcHBlbiBieSBpbml0aWF0aW5nCiAgICAgKiBhIHRyYW5zYWN0aW9uIG9uIGEgcGxhdHRmb3JtIG9wZXJhdGVkIGJ5IHRoZSBvd25lcgogICAgICoKICAgICAqIEBwYXJhbSB1c2VycyB0aGUgYWRkcmVzc2VzIG9mIHRoZSB1c2VycyB0byB0YWtlIEJlZXJjb2lucyBmcm9tCiAgICAgKiBAcGFyYW0gdmFsdWVzIHRoZSByZXNwZWN0aXZlIGFtb3VudHMgdG8gdGFrZQogICAgICovCiAgICBmdW5jdGlvbiBkZWJpdChhZGRyZXNzW10gdXNlcnMsIHVpbnQyNTZbXSB2YWx1ZXMpIHB1YmxpYyBvbmx5TWFzdGVyIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKHVzZXJzLmxlbmd0aCA9PSB2YWx1ZXMubGVuZ3RoKTsKCiAgICAgICAgdWludDI1NiBvbGRCYWxhbmNlID0gYmFsYW5jZXNbbXNnLnNlbmRlcl07CiAgICAgICAgdWludDI1NiBuZXdCYWxhbmNlID0gb2xkQmFsYW5jZTsKCiAgICAgICAgYWRkcmVzcyBjdXJyZW50VXNlcjsKICAgICAgICB1aW50MjU2IGN1cnJlbnRWYWx1ZTsKICAgICAgICB1aW50MjU2IGN1cnJlbnRCYWxhbmNlOwogICAgICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IHVzZXJzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgIGN1cnJlbnRVc2VyID0gdXNlcnNbaV07CiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IHZhbHVlc1tpXTsKICAgICAgICAgICAgY3VycmVudEJhbGFuY2UgPSBiYWxhbmNlc1tjdXJyZW50VXNlcl07CgogICAgICAgICAgICByZXF1aXJlKGRpcmVjdERlYml0QWxsb3dhbmNlc1tjdXJyZW50VXNlcl0pOwogICAgICAgICAgICByZXF1aXJlKGN1cnJlbnRWYWx1ZSA8PSBjdXJyZW50QmFsYW5jZSk7CiAgICAgICAgICAgIGJhbGFuY2VzW2N1cnJlbnRVc2VyXSA9IGN1cnJlbnRCYWxhbmNlIC0gY3VycmVudFZhbHVlOwogICAgICAgICAgICAKICAgICAgICAgICAgbmV3QmFsYW5jZSArPSBjdXJyZW50VmFsdWU7CgogICAgICAgICAgICBUcmFuc2ZlcihjdXJyZW50VXNlciwgbXNnLnNlbmRlciwgY3VycmVudFZhbHVlKTsKICAgICAgICB9CgogICAgICAgIHJlcXVpcmUob2xkQmFsYW5jZSA8PSBuZXdCYWxhbmNlKTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IG5ld0JhbGFuY2U7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogV2l0aGRyYXcgQmVlcmNvaW5zIGZyb20gbXVsdGlwbGUgdXNlcnMKICAgICAqCiAgICAgKiBCZWVyY29pbnMgYXJlIG9ubHkgd2l0aGRyYXduIHRoaXMgd2F5IGlmIGFuZCBvbmx5IGlmCiAgICAgKiBhIHVzZXIgZGVsaWJlcmF0ZWx5IHdhbnRzIGl0IHRvIGhhcHBlbiBieSBpbml0aWF0aW5nCiAgICAgKiBhIHRyYW5zYWN0aW9uIG9uIGEgcGxhdHRmb3JtIG9wZXJhdGVkIGJ5IHRoZSBvd25lcgogICAgICoKICAgICAqIEBwYXJhbSB1c2VycyB0aGUgYWRkcmVzc2VzIG9mIHRoZSB1c2VycyB0byB0YWtlIEJlZXJjb2lucyBmcm9tCiAgICAgKiBAcGFyYW0gdmFsdWUgdGhlIGFtb3VudCB0byB0YWtlIGZyb20gZWFjaCB1c2VyCiAgICAgKi8KICAgIGZ1bmN0aW9uIGRlYml0RXF1YWxseShhZGRyZXNzW10gdXNlcnMsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyBvbmx5TWFzdGVyIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB1aW50MjU2IG9sZEJhbGFuY2UgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXTsKICAgICAgICB1aW50MjU2IG5ld0JhbGFuY2UgPSBvbGRCYWxhbmNlICsgKHVzZXJzLmxlbmd0aCAqIHZhbHVlKTsKCiAgICAgICAgcmVxdWlyZShvbGRCYWxhbmNlIDw9IG5ld0JhbGFuY2UpOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gbmV3QmFsYW5jZTsKCiAgICAgICAgYWRkcmVzcyBjdXJyZW50VXNlcjsKICAgICAgICB1aW50MjU2IGN1cnJlbnRCYWxhbmNlOwogICAgICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IHVzZXJzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgIGN1cnJlbnRVc2VyID0gdXNlcnNbaV07CiAgICAgICAgICAgIGN1cnJlbnRCYWxhbmNlID0gYmFsYW5jZXNbY3VycmVudFVzZXJdOwoKICAgICAgICAgICAgcmVxdWlyZShkaXJlY3REZWJpdEFsbG93YW5jZXNbY3VycmVudFVzZXJdKTsKICAgICAgICAgICAgcmVxdWlyZSh2YWx1ZSA8PSBjdXJyZW50QmFsYW5jZSk7CiAgICAgICAgICAgIGJhbGFuY2VzW2N1cnJlbnRVc2VyXSA9IGN1cnJlbnRCYWxhbmNlIC0gdmFsdWU7CgogICAgICAgICAgICBUcmFuc2ZlcihjdXJyZW50VXNlciwgbXNnLnNlbmRlciwgdmFsdWUpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZW5kIEJlZXJjb2lucyB0byBtdWx0aXBsZSB1c2VycwogICAgICoKICAgICAqIEBwYXJhbSB1c2VycyB0aGUgYWRkcmVzc2VzIG9mIHRoZSB1c2VycyB0byBzZW5kIEJlZXJjb2lucyB0bwogICAgICogQHBhcmFtIHZhbHVlcyB0aGUgcmVzcGVjdGl2ZSBhbW91bnRzIHRvIHNlbmQKICAgICAqLwogICAgZnVuY3Rpb24gY3JlZGl0KGFkZHJlc3NbXSB1c2VycywgdWludDI1NltdIHZhbHVlcykgcHVibGljIG9ubHlNYXN0ZXIgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUodXNlcnMubGVuZ3RoID09IHZhbHVlcy5sZW5ndGgpOwoKICAgICAgICB1aW50MjU2IGJhbGFuY2UgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXTsKICAgICAgICB1aW50MjU2IHRvdGFsVmFsdWUgPSAwOwoKICAgICAgICBhZGRyZXNzIGN1cnJlbnRVc2VyOwogICAgICAgIHVpbnQyNTYgY3VycmVudFZhbHVlOwogICAgICAgIHVpbnQyNTYgY3VycmVudE9sZEJhbGFuY2U7CiAgICAgICAgdWludDI1NiBjdXJyZW50TmV3QmFsYW5jZTsKICAgICAgICBmb3IgKHVpbnQyNTYgaSA9IDA7IGkgPCB1c2Vycy5sZW5ndGg7ICsraSkgewogICAgICAgICAgICBjdXJyZW50VXNlciA9IHVzZXJzW2ldOwogICAgICAgICAgICBjdXJyZW50VmFsdWUgPSB2YWx1ZXNbaV07CiAgICAgICAgICAgIGN1cnJlbnRPbGRCYWxhbmNlID0gYmFsYW5jZXNbY3VycmVudFVzZXJdOwogICAgICAgICAgICBjdXJyZW50TmV3QmFsYW5jZSA9IGN1cnJlbnRPbGRCYWxhbmNlICsgY3VycmVudFZhbHVlOwoKICAgICAgICAgICAgcmVxdWlyZShjdXJyZW50T2xkQmFsYW5jZSA8PSBjdXJyZW50TmV3QmFsYW5jZSk7CiAgICAgICAgICAgIGJhbGFuY2VzW2N1cnJlbnRVc2VyXSA9IGN1cnJlbnROZXdCYWxhbmNlOwoKICAgICAgICAgICAgdG90YWxWYWx1ZSArPSBjdXJyZW50VmFsdWU7CgogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBjdXJyZW50VXNlciwgY3VycmVudFZhbHVlKTsKICAgICAgICB9CgogICAgICAgIHJlcXVpcmUodG90YWxWYWx1ZSA8PSBiYWxhbmNlKTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2UgLSB0b3RhbFZhbHVlOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNlbmQgQmVlcmNvaW5zIHRvIG11bHRpcGxlIHVzZXJzCiAgICAgKgogICAgICogQHBhcmFtIHVzZXJzIHRoZSBhZGRyZXNzZXMgb2YgdGhlIHVzZXJzIHRvIHNlbmQgQmVlcmNvaW5zIHRvCiAgICAgKiBAcGFyYW0gdmFsdWUgdGhlIGFtb3VudHMgdG8gc2VuZCB0byBlYWNoIHVzZXIKICAgICAqLwogICAgZnVuY3Rpb24gY3JlZGl0RXF1YWxseShhZGRyZXNzW10gdXNlcnMsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyBvbmx5TWFzdGVyIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB1aW50MjU2IGJhbGFuY2UgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXTsKICAgICAgICB1aW50MjU2IHRvdGFsVmFsdWUgPSB1c2Vycy5sZW5ndGggKiB2YWx1ZTsKCiAgICAgICAgcmVxdWlyZSh0b3RhbFZhbHVlIDw9IGJhbGFuY2UpOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZSAtIHRvdGFsVmFsdWU7CgogICAgICAgIGFkZHJlc3MgY3VycmVudFVzZXI7CiAgICAgICAgdWludDI1NiBjdXJyZW50T2xkQmFsYW5jZTsKICAgICAgICB1aW50MjU2IGN1cnJlbnROZXdCYWxhbmNlOwogICAgICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IHVzZXJzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgIGN1cnJlbnRVc2VyID0gdXNlcnNbaV07CiAgICAgICAgICAgIGN1cnJlbnRPbGRCYWxhbmNlID0gYmFsYW5jZXNbY3VycmVudFVzZXJdOwogICAgICAgICAgICBjdXJyZW50TmV3QmFsYW5jZSA9IGN1cnJlbnRPbGRCYWxhbmNlICsgdmFsdWU7CgogICAgICAgICAgICByZXF1aXJlKGN1cnJlbnRPbGRCYWxhbmNlIDw9IGN1cnJlbnROZXdCYWxhbmNlKTsKICAgICAgICAgICAgYmFsYW5jZXNbY3VycmVudFVzZXJdID0gY3VycmVudE5ld0JhbGFuY2U7CgogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBjdXJyZW50VXNlciwgdmFsdWUpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0KCgovKioKICogQSBjb250cmFjdCB0aGF0IGRlZmluZXMgdGhlIGNlbnRyYWwgYnVzaW5lc3MgbG9naWMKICogd2hpY2ggYWxzbyBtaXJyb3JzIHRoZSBsaWZlIG9mIGEgQmVlcmNvaW4KICovCmNvbnRyYWN0IEJlZXJjb2luIGlzIE1hc3RlcmVkQmVlcmNvaW4gewogICAgZXZlbnQgUHJvZHVjZSh1aW50MjU2IG5ld0NhcHMpOwogICAgZXZlbnQgU2NhbihhZGRyZXNzW10gdXNlcnMsIHVpbnQyNTZbXSBjYXBzKTsKICAgIGV2ZW50IEJ1cm4odWludDI1NiB2YWx1ZSk7CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3QgdGhlIEJlZXJjb2luIGNvbnRyYWN0IGFuZAogICAgICogYXNzaWduIHRoZSBpbml0aWFsIHN1cHBseSB0byB0aGUgY3JlYXRvcgogICAgICovCiAgICBmdW5jdGlvbiBCZWVyY29pbigpIHB1YmxpYyB7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBJTklUSUFMX1NVUFBMWTsKICAgIH0KCiAgICAvKioKICAgICAqIEluY3JlYXNlIHRoZSBhbW91bnRzIG9mIHByb2R1Y2VkIGRpYW1vbmQsIGdvbGQsIHNpbHZlciwgYW5kCiAgICAgKiBicm9uemUgYm90dGxlIGNhcHMgaW4gcmVzcGVjdCB0byB0aGVpciBvY2N1cnJlbmNlIHByb2JhYmlsaXRpZXMKICAgICAqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBpZiBhbmQgb25seSBpZiBhIGJyZXdlcnkgaGFzIGFjdHVhbGx5CiAgICAgKiBvcmRlcmVkIGNvZGVzIHRvIHByb2R1Y2UgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgYm90dGxlIGNhcHMKICAgICAqCiAgICAgKiBAcGFyYW0gbnVtYmVyT2ZDYXBzIHRoZSBudW1iZXIgb2YgYm90dGxlIGNhcHMgdG8gYmUgcHJvZHVjZWQKICAgICAqLwogICAgZnVuY3Rpb24gcHJvZHVjZSh1aW50NjQgbnVtYmVyT2ZDYXBzKSBwdWJsaWMgb25seU1hc3RlciByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShudW1iZXJPZkNhcHMgPD0gcHJvZHVjaWJsZUNhcHMpOwoKICAgICAgICB1aW50MjU2IHByb2R1Y2VkQ2FwcyA9IHBhY2tlZFByb2R1Y2VkQ2FwczsKCiAgICAgICAgdWludDY0IHRhcmdldFRvdGFsQ2FwcyA9IG51bWJlck9mQ2FwczsKICAgICAgICB0YXJnZXRUb3RhbENhcHMgKz0gdWludDY0KHByb2R1Y2VkQ2FwcyA+PiAxOTIpOwogICAgICAgIHRhcmdldFRvdGFsQ2FwcyArPSB1aW50NjQocHJvZHVjZWRDYXBzID4+IDEyOCk7CiAgICAgICAgdGFyZ2V0VG90YWxDYXBzICs9IHVpbnQ2NChwcm9kdWNlZENhcHMgPj4gNjQpOwogICAgICAgIHRhcmdldFRvdGFsQ2FwcyArPSB1aW50NjQocHJvZHVjZWRDYXBzKTsKCiAgICAgICAgdWludDY0IHRhcmdldERpYW1vbmRDYXBzID0gKHRhcmdldFRvdGFsQ2FwcyAtICh0YXJnZXRUb3RhbENhcHMgJSAxMDAwMCkpIC8gMTAwMDA7CiAgICAgICAgdWludDY0IHRhcmdldEdvbGRDYXBzID0gKCh0YXJnZXRUb3RhbENhcHMgLSAodGFyZ2V0VG90YWxDYXBzICUgMTAwMCkpIC8gMTAwMCkgLSB0YXJnZXREaWFtb25kQ2FwczsKICAgICAgICB1aW50NjQgdGFyZ2V0U2lsdmVyQ2FwcyA9ICgodGFyZ2V0VG90YWxDYXBzIC0gKHRhcmdldFRvdGFsQ2FwcyAlIDEwKSkgLyAxMCkgLSB0YXJnZXREaWFtb25kQ2FwcyAtIHRhcmdldEdvbGRDYXBzOwogICAgICAgIHVpbnQ2NCB0YXJnZXRCcm9uemVDYXBzID0gdGFyZ2V0VG90YWxDYXBzIC0gdGFyZ2V0RGlhbW9uZENhcHMgLSB0YXJnZXRHb2xkQ2FwcyAtIHRhcmdldFNpbHZlckNhcHM7CgogICAgICAgIHVpbnQyNTYgdGFyZ2V0UHJvZHVjZWRDYXBzID0gMDsKICAgICAgICB0YXJnZXRQcm9kdWNlZENhcHMgfD0gdWludDI1Nih0YXJnZXREaWFtb25kQ2FwcykgPDwgMTkyOwogICAgICAgIHRhcmdldFByb2R1Y2VkQ2FwcyB8PSB1aW50MjU2KHRhcmdldEdvbGRDYXBzKSA8PCAxMjg7CiAgICAgICAgdGFyZ2V0UHJvZHVjZWRDYXBzIHw9IHVpbnQyNTYodGFyZ2V0U2lsdmVyQ2FwcykgPDwgNjQ7CiAgICAgICAgdGFyZ2V0UHJvZHVjZWRDYXBzIHw9IHVpbnQyNTYodGFyZ2V0QnJvbnplQ2Fwcyk7CgogICAgICAgIHByb2R1Y2libGVDYXBzIC09IG51bWJlck9mQ2FwczsKICAgICAgICBwYWNrZWRQcm9kdWNlZENhcHMgPSB0YXJnZXRQcm9kdWNlZENhcHM7CgogICAgICAgIFByb2R1Y2UodGFyZ2V0UHJvZHVjZWRDYXBzIC0gcHJvZHVjZWRDYXBzKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBBcHByb3ZlIHNjYW5zIG9mIG11bHRpcGxlIHVzZXJzIGFuZCBncmFudCBCZWVyY29pbnMKICAgICAqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBwZXJpb2RpY2FsbHkgdG8gbWFzcy10cmFuc2ZlciBCZWVyY29pbnMgdG8KICAgICAqIG11bHRpcGxlIHVzZXJzIGlmIGFuZCBvbmx5IGlmIGVhY2ggb2YgdGhlbSBoYXMgc2Nhbm5lZCBjb2RlcyB0aGF0CiAgICAgKiBvdXIgc2VydmVyIGhhcyBuZXZlciB2ZXJpZmllZCBiZWZvcmUgZm9yIHRoZSBzYW1lIG9yIGFub3RoZXIgdXNlcgogICAgICoKICAgICAqIEBwYXJhbSB1c2VycyB0aGUgYWRkcmVzc2VzIG9mIHRoZSB1c2VycyB3aG8gc2Nhbm5lZCB2YWxpZCBjb2RlcwogICAgICogQHBhcmFtIGNhcHMgdGhlIGFtb3VudHMgb2YgY2FwcyB0aGUgdXNlcnMgaGF2ZSBzY2FubmVkIGFzIHNpbmdsZSAyNTYtYml0IHZhbHVlcwogICAgICovCiAgICBmdW5jdGlvbiBzY2FuKGFkZHJlc3NbXSB1c2VycywgdWludDI1NltdIGNhcHMpIHB1YmxpYyBvbmx5TWFzdGVyIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKHVzZXJzLmxlbmd0aCA9PSBjYXBzLmxlbmd0aCk7CgogICAgICAgIHVpbnQyNTYgc2Nhbm5lZENhcHMgPSBwYWNrZWRTY2FubmVkQ2FwczsKCiAgICAgICAgdWludDI1NiBjdXJyZW50Q2FwczsKICAgICAgICB1aW50MjU2IGNhcHNWYWx1ZTsKICAgICAgICBmb3IgKHVpbnQyNTYgaSA9IDA7IGkgPCB1c2Vycy5sZW5ndGg7ICsraSkgewogICAgICAgICAgICBjdXJyZW50Q2FwcyA9IGNhcHNbaV07CgogICAgICAgICAgICBjYXBzVmFsdWUgPSBESUFNT05EX1ZBTFVFICogKGN1cnJlbnRDYXBzID4+IDE5Mik7CiAgICAgICAgICAgIGNhcHNWYWx1ZSArPSBHT0xEX1ZBTFVFICogKChjdXJyZW50Q2FwcyA+PiAxMjgpICYgMHhGRkZGRkZGRkZGRkZGRkZGKTsKICAgICAgICAgICAgY2Fwc1ZhbHVlICs9IFNJTFZFUl9WQUxVRSAqICgoY3VycmVudENhcHMgPj4gNjQpICYgMHhGRkZGRkZGRkZGRkZGRkZGKTsKICAgICAgICAgICAgY2Fwc1ZhbHVlICs9IEJST05aRV9WQUxVRSAqIChjdXJyZW50Q2FwcyAmIDB4RkZGRkZGRkZGRkZGRkZGRik7CgogICAgICAgICAgICBiYWxhbmNlc1t1c2Vyc1tpXV0gKz0gY2Fwc1ZhbHVlOwogICAgICAgICAgICBzY2FubmVkQ2FwcyArPSBjdXJyZW50Q2FwczsKICAgICAgICB9CgogICAgICAgIHJlcXVpcmUoc2Nhbm5lZENhcHMgPD0gcGFja2VkUHJvZHVjZWRDYXBzKTsKICAgICAgICBwYWNrZWRTY2FubmVkQ2FwcyA9IHNjYW5uZWRDYXBzOwoKICAgICAgICBTY2FuKHVzZXJzLCBjYXBzKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZW1vdmUgQmVlcmNvaW5zIGZyb20gdGhlIHN5c3RlbSBpcnJldmVyc2libHkKICAgICAqCiAgICAgKiBAcGFyYW0gdmFsdWUgdGhlIGFtb3VudCBvZiBCZWVyY29pbnMgdG8gYnVybgogICAgICovCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgdmFsdWUpIHB1YmxpYyBvbmx5TWFzdGVyIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB1aW50MjU2IGJhbGFuY2UgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXTsKICAgICAgICByZXF1aXJlKHZhbHVlIDw9IGJhbGFuY2UpOwoKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2UgLSB2YWx1ZTsKICAgICAgICBidXJudFZhbHVlICs9IHZhbHVlOwoKICAgICAgICBCdXJuKHZhbHVlKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0='.
	

]
