Class {
	#name : #SRT9B60874D7bc4e4fBDd142e0F5a12002e4F7715a6,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9B60874D7bc4e4fBDd142e0F5a12002e4F7715a6 >> base64 [
	^ 'bGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IElUb2tlbiB7CiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHRvdGFsU3VwcGx5KTsKICBmdW5jdGlvbiBtaW50VG9rZW5zKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHt9Cn0KY29udHJhY3QgSU1pbnRhYmxlVG9rZW4gewogIGZ1bmN0aW9uIG1pbnRUb2tlbnMoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCl7fQp9CmNvbnRyYWN0IElFUkMyMFRva2VuIHsKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG90YWxTdXBwbHkpOwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7fQogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykge30KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykge30KCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cn0KCmNvbnRyYWN0IEl0b2tlblJlY2lwaWVudCB7CiAgZnVuY3Rpb24gcmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlLCBhZGRyZXNzIF90b2tlbiwgYnl0ZXMgX2V4dHJhRGF0YSk7Cn0KCmNvbnRyYWN0IE93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgYWRkcmVzcyBwdWJsaWMgbmV3T3duZXI7CgogICAgZnVuY3Rpb24gT3duZWQoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoX25ld093bmVyICE9IG93bmVyKTsKICAgICAgICBuZXdPd25lciA9IF9uZXdPd25lcjsKICAgIH0KCiAgICBmdW5jdGlvbiBhY2NlcHRPd25lcnNoaXAoKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBuZXdPd25lcik7CiAgICAgICAgT3duZXJVcGRhdGUob3duZXIsIG5ld093bmVyKTsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgICAgIG5ld093bmVyID0gMHgwOwogICAgfQoKICAgIGV2ZW50IE93bmVyVXBkYXRlKGFkZHJlc3MgX3ByZXZPd25lciwgYWRkcmVzcyBfbmV3T3duZXIpOwp9CmNvbnRyYWN0IFJlZW50cm5hY3lIYW5kbGluZ0NvbnRyYWN0ewoKICAgIGJvb2wgbG9ja2VkOwoKICAgIG1vZGlmaWVyIG5vUmVlbnRyYW5jeSgpIHsKICAgICAgICByZXF1aXJlKCFsb2NrZWQpOwogICAgICAgIGxvY2tlZCA9IHRydWU7CiAgICAgICAgXzsKICAgICAgICBsb2NrZWQgPSBmYWxzZTsKICAgIH0KfQoKY29udHJhY3QgTG9ja2FibGUgaXMgT3duZWR7CgogIHVpbnQyNTYgcHVibGljIGxvY2tlZFVudGlsQmxvY2s7CgogIGV2ZW50IENvbnRyYWN0TG9ja2VkKHVpbnQyNTYgX3VudGlsQmxvY2ssIHN0cmluZyBfcmVhc29uKTsKCiAgbW9kaWZpZXIgbG9ja0FmZmVjdGVkIHsKICAgICAgcmVxdWlyZShibG9jay5udW1iZXIgPiBsb2NrZWRVbnRpbEJsb2NrKTsKICAgICAgXzsKICB9CgogIGZ1bmN0aW9uIGxvY2tGcm9tU2VsZih1aW50MjU2IF91bnRpbEJsb2NrLCBzdHJpbmcgX3JlYXNvbikgaW50ZXJuYWwgewogICAgbG9ja2VkVW50aWxCbG9jayA9IF91bnRpbEJsb2NrOwogICAgQ29udHJhY3RMb2NrZWQoX3VudGlsQmxvY2ssIF9yZWFzb24pOwogIH0KCgogIGZ1bmN0aW9uIGxvY2tVbnRpbCh1aW50MjU2IF91bnRpbEJsb2NrLCBzdHJpbmcgX3JlYXNvbikgb25seU93bmVyIHsKICAgIGxvY2tlZFVudGlsQmxvY2sgPSBfdW50aWxCbG9jazsKICAgIENvbnRyYWN0TG9ja2VkKF91bnRpbEJsb2NrLCBfcmVhc29uKTsKICB9Cn0KCmNvbnRyYWN0IENyb3dkc2FsZSBpcyBSZWVudHJuYWN5SGFuZGxpbmdDb250cmFjdCwgT3duZWR7CgogIHN0cnVjdCBDb250cmlidXRvckRhdGF7CiAgICB1aW50IHByaW9yaXR5UGFzc0FsbG93YW5jZTsKICAgIGJvb2wgaXNBY3RpdmU7CiAgICB1aW50IGNvbnRyaWJ1dGlvbkFtb3VudDsKICAgIHVpbnQgdG9rZW5zSXNzdWVkOwogIH0KCiAgbWFwcGluZyhhZGRyZXNzID0+IENvbnRyaWJ1dG9yRGF0YSkgcHVibGljIGNvbnRyaWJ1dG9yTGlzdDsKICB1aW50IG5leHRDb250cmlidXRvckluZGV4OwogIG1hcHBpbmcodWludCA9PiBhZGRyZXNzKSBjb250cmlidXRvckluZGV4ZXM7CgogIHN0YXRlIHB1YmxpYyBjcm93ZHNhbGVTdGF0ZSA9IHN0YXRlLnBlbmRpbmdTdGFydDsKICBlbnVtIHN0YXRlIHsgcGVuZGluZ1N0YXJ0LCBwcmlvcml0eVBhc3MsIG9wZW5lZFByaW9yaXR5UGFzcywgY3Jvd2RzYWxlLCBjcm93ZHNhbGVFbmRlZCB9CgogIHVpbnQgcHVibGljIHByZXNhbGVTdGFydEJsb2NrOwogIHVpbnQgcHVibGljIHByZXNhbGVVbmxpbWl0ZWRTdGFydEJsb2NrOwogIHVpbnQgcHVibGljIGNyb3dkc2FsZVN0YXJ0QmxvY2s7CiAgdWludCBwdWJsaWMgY3Jvd2RzYWxlRW5kZWRCbG9jazsKCiAgZXZlbnQgUHJlc2FsZVN0YXJ0ZWQodWludCBibG9ja051bWJlcik7CiAgZXZlbnQgUHJlc2FsZVVubGltaXRlZFN0YXJ0ZWQodWludCBibG9ja051bWJlcik7CiAgZXZlbnQgQ3Jvd2RzYWxlU3RhcnRlZCh1aW50IGJsb2NrTnVtYmVyKTsKICBldmVudCBDcm93ZHNhbGVFbmRlZCh1aW50IGJsb2NrTnVtYmVyKTsKICBldmVudCBFcnJvclNlbmRpbmdFVEgoYWRkcmVzcyB0bywgdWludCBhbW91bnQpOwogIGV2ZW50IE1pbkNhcFJlYWNoZWQodWludCBibG9ja051bWJlcik7CiAgZXZlbnQgTWF4Q2FwUmVhY2hlZCh1aW50IGJsb2NrTnVtYmVyKTsKCiAgSVRva2VuIHRva2VuID0gSVRva2VuKDB4MCk7CiAgdWludCBldGhUb1Rva2VuQ29udmVyc2lvbjsKCiAgdWludCBwdWJsaWMgbWluQ2FwOwogIHVpbnQgcHVibGljIG1heFAxQ2FwOwogIHVpbnQgcHVibGljIG1heENhcDsKICB1aW50IHB1YmxpYyBldGhSYWlzZWQ7CgogIGFkZHJlc3MgcHVibGljIG11bHRpc2lnQWRkcmVzczsKCiAgdWludCBuZXh0Q29udHJpYnV0b3JUb0NsYWltOwogIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSBoYXNDbGFpbWVkRXRoV2hlbkZhaWw7CgogIHVpbnQgbWF4VG9rZW5TdXBwbHk7CiAgYm9vbCBvd25lckhhc0NsYWltZWRUb2tlbnM7CiAgdWludCBjb2ZvdW5kaXRSZXdhcmQ7CiAgYWRkcmVzcyBjb2ZvdW5kaXRBZGRyZXNzOwogIGJvb2wgY29mb3VuZGl0SGFzQ2xhaW1lZFRva2VuczsKCiAgLy8KICAvLyBVbm5hbWVkIGZ1bmN0aW9uIHRoYXQgcnVucyB3aGVuIGV0aCBpcyBzZW50IHRvIHRoZSBjb250cmFjdAogIC8vCiAgZnVuY3Rpb24oKSBub1JlZW50cmFuY3kgcGF5YWJsZXsKICAgIHJlcXVpcmUobXNnLnZhbHVlICE9IDApOyAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRocm93IGlmIHZhbHVlIGlzIDAKICAgIHJlcXVpcmUoY3Jvd2RzYWxlU3RhdGUgIT0gc3RhdGUuY3Jvd2RzYWxlRW5kZWQpOy8vIENoZWNrIGlmIGNyb3dkc2FsZSBoYXMgZW5kZWQKCiAgICBib29sIHN0YXRlQ2hhbmdlZCA9IGNoZWNrQ3Jvd2RzYWxlU3RhdGUoKTsgICAgICAvLyBDaGVjayBibG9ja3MgYW5kIGNhbGlicmF0ZSBjcm93ZHNhbGUgc3RhdGUKCiAgICBpZiAoY3Jvd2RzYWxlU3RhdGUgPT0gc3RhdGUucHJpb3JpdHlQYXNzKXsKICAgICAgaWYgKGNvbnRyaWJ1dG9yTGlzdFttc2cuc2VuZGVyXS5pc0FjdGl2ZSl7ICAgIC8vIENoZWNrIGlmIGNvbnRyaWJ1dG9yIGlzIGluIHByaW9yaXR5UGFzcwogICAgICAgIHByb2Nlc3NUcmFuc2FjdGlvbihtc2cuc2VuZGVyLCBtc2cudmFsdWUpOyAgLy8gUHJvY2VzcyB0cmFuc2FjdGlvbiBhbmQgaXNzdWUgdG9rZW5zCiAgICAgIH1lbHNlewogICAgICAgIHJlZnVuZFRyYW5zYWN0aW9uKHN0YXRlQ2hhbmdlZCk7ICAgICAgICAgICAgLy8gU2V0IHN0YXRlIGFuZCByZXR1cm4gZnVuZHMgb3IgdGhyb3cKICAgICAgfQogICAgfQogICAgZWxzZSBpZihjcm93ZHNhbGVTdGF0ZSA9PSBzdGF0ZS5vcGVuZWRQcmlvcml0eVBhc3MpewogICAgICBpZiAoY29udHJpYnV0b3JMaXN0W21zZy5zZW5kZXJdLmlzQWN0aXZlKXsgICAgLy8gQ2hlY2sgaWYgY29udHJpYnV0b3IgaXMgaW4gcHJpb3JpdHlQYXNzCiAgICAgICAgcHJvY2Vzc1RyYW5zYWN0aW9uKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7ICAvLyBQcm9jZXNzIHRyYW5zYWN0aW9uIGFuZCBpc3N1ZSB0b2tlbnMKICAgICAgfWVsc2V7CiAgICAgICAgcmVmdW5kVHJhbnNhY3Rpb24oc3RhdGVDaGFuZ2VkKTsgICAgICAgICAgICAvLyBTZXQgc3RhdGUgYW5kIHJldHVybiBmdW5kcyBvciB0aHJvdwogICAgICB9CiAgICB9CiAgICBlbHNlIGlmKGNyb3dkc2FsZVN0YXRlID09IHN0YXRlLmNyb3dkc2FsZSl7CiAgICAgIHByb2Nlc3NUcmFuc2FjdGlvbihtc2cuc2VuZGVyLCBtc2cudmFsdWUpOyAgICAvLyBQcm9jZXNzIHRyYW5zYWN0aW9uIGFuZCBpc3N1ZSB0b2tlbnMKICAgIH0KICAgIGVsc2V7CiAgICAgIHJlZnVuZFRyYW5zYWN0aW9uKHN0YXRlQ2hhbmdlZCk7ICAgICAgICAgICAgICAvLyBTZXQgc3RhdGUgYW5kIHJldHVybiBmdW5kcyBvciB0aHJvdwogICAgfQogIH0KCiAgLy8KICAvLyBDaGVjayBjcm93ZHNhbGUgc3RhdGUgYW5kIGNhbGlicmF0ZSBpdAogIC8vCiAgZnVuY3Rpb24gY2hlY2tDcm93ZHNhbGVTdGF0ZSgpIGludGVybmFsIHJldHVybnMgKGJvb2wpewogICAgaWYgKGV0aFJhaXNlZCA9PSBtYXhDYXAgJiYgY3Jvd2RzYWxlU3RhdGUgIT0gc3RhdGUuY3Jvd2RzYWxlRW5kZWQpeyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBtYXggY2FwIGlzIHJlYWNoZWQKICAgICAgY3Jvd2RzYWxlU3RhdGUgPSBzdGF0ZS5jcm93ZHNhbGVFbmRlZDsKICAgICAgTWF4Q2FwUmVhY2hlZChibG9jay5udW1iZXIpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xvc2UgdGhlIGNyb3dkc2FsZQogICAgICBDcm93ZHNhbGVFbmRlZChibG9jay5udW1iZXIpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSYWlzZSBldmVudAogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBpZiAoYmxvY2subnVtYmVyID4gcHJlc2FsZVN0YXJ0QmxvY2sgJiYgYmxvY2subnVtYmVyIDw9IHByZXNhbGVVbmxpbWl0ZWRTdGFydEJsb2NrKXsgIC8vIENoZWNrIGlmIHdlIGFyZSBpbiBwcmVzYWxlIHBoYXNlCiAgICAgIGlmIChjcm93ZHNhbGVTdGF0ZSAhPSBzdGF0ZS5wcmlvcml0eVBhc3MpeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHN0YXRlIG5lZWRzIHRvIGJlIGNoYW5nZWQKICAgICAgICBjcm93ZHNhbGVTdGF0ZSA9IHN0YXRlLnByaW9yaXR5UGFzczsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IG5ldyBzdGF0ZQogICAgICAgIFByZXNhbGVTdGFydGVkKGJsb2NrLm51bWJlcik7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSYWlzZSBldmVudAogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9ZWxzZSBpZihibG9jay5udW1iZXIgPiBwcmVzYWxlVW5saW1pdGVkU3RhcnRCbG9jayAmJiBibG9jay5udW1iZXIgPD0gY3Jvd2RzYWxlU3RhcnRCbG9jayl7IC8vIENoZWNrIGlmIHdlIGFyZSBpbiBwcmVzYWxlIHVubGltaXRlZCBwaGFzZQogICAgICBpZiAoY3Jvd2RzYWxlU3RhdGUgIT0gc3RhdGUub3BlbmVkUHJpb3JpdHlQYXNzKXsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBzdGF0ZSBuZWVkcyB0byBiZSBjaGFuZ2VkCiAgICAgICAgY3Jvd2RzYWxlU3RhdGUgPSBzdGF0ZS5vcGVuZWRQcmlvcml0eVBhc3M7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCBuZXcgc3RhdGUKICAgICAgICBQcmVzYWxlVW5saW1pdGVkU3RhcnRlZChibG9jay5udW1iZXIpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmFpc2UgZXZlbnQKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfWVsc2UgaWYoYmxvY2subnVtYmVyID4gY3Jvd2RzYWxlU3RhcnRCbG9jayAmJiBibG9jay5udW1iZXIgPD0gY3Jvd2RzYWxlRW5kZWRCbG9jayl7ICAgICAgICAvLyBDaGVjayBpZiB3ZSBhcmUgaW4gY3Jvd2RzYWxlIHN0YXRlCiAgICAgIGlmIChjcm93ZHNhbGVTdGF0ZSAhPSBzdGF0ZS5jcm93ZHNhbGUpeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHN0YXRlIG5lZWRzIHRvIGJlIGNoYW5nZWQKICAgICAgICBjcm93ZHNhbGVTdGF0ZSA9IHN0YXRlLmNyb3dkc2FsZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IG5ldyBzdGF0ZQogICAgICAgIENyb3dkc2FsZVN0YXJ0ZWQoYmxvY2subnVtYmVyKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSYWlzZSBldmVudAogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9ZWxzZXsKICAgICAgaWYgKGNyb3dkc2FsZVN0YXRlICE9IHN0YXRlLmNyb3dkc2FsZUVuZGVkICYmIGJsb2NrLm51bWJlciA+IGNyb3dkc2FsZUVuZGVkQmxvY2speyAgICAgICAgLy8gQ2hlY2sgaWYgY3Jvd2RzYWxlIGlzIG92ZXIKICAgICAgICBjcm93ZHNhbGVTdGF0ZSA9IHN0YXRlLmNyb3dkc2FsZUVuZGVkOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IG5ldyBzdGF0ZQogICAgICAgIENyb3dkc2FsZUVuZGVkKGJsb2NrLm51bWJlcik7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSYWlzZSBldmVudAogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICAvLwogIC8vIERlY2lkZSBpZiB0aHJvdyBvciBvbmx5IHJldHVybiBldGhlcgogIC8vCiAgZnVuY3Rpb24gcmVmdW5kVHJhbnNhY3Rpb24oYm9vbCBfc3RhdGVDaGFuZ2VkKSBpbnRlcm5hbHsKICAgIGlmIChfc3RhdGVDaGFuZ2VkKXsKICAgICAgbXNnLnNlbmRlci50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgfWVsc2V7CiAgICAgIHJldmVydCgpOwogICAgfQogIH0KCiAgLy8KICAvLyBDYWxjdWxhdGUgaG93IG11Y2ggdXNlciBjYW4gY29udHJpYnV0ZQogIC8vCiAgZnVuY3Rpb24gY2FsY3VsYXRlTWF4Q29udHJpYnV0aW9uKGFkZHJlc3MgX2NvbnRyaWJ1dG9yKSBjb25zdGFudCByZXR1cm5zICh1aW50IG1heENvbnRyaWJ1dGlvbil7CiAgICB1aW50IG1heENvbnRyaWI7CiAgICBpZiAoY3Jvd2RzYWxlU3RhdGUgPT0gc3RhdGUucHJpb3JpdHlQYXNzKXsgICAgLy8gQ2hlY2sgaWYgd2UgYXJlIGluIHByaW9yaXR5IHBhc3MKICAgICAgbWF4Q29udHJpYiA9IGNvbnRyaWJ1dG9yTGlzdFtfY29udHJpYnV0b3JdLnByaW9yaXR5UGFzc0FsbG93YW5jZSAtIGNvbnRyaWJ1dG9yTGlzdFtfY29udHJpYnV0b3JdLmNvbnRyaWJ1dGlvbkFtb3VudDsKICAgICAgaWYgKG1heENvbnRyaWIgPiAobWF4UDFDYXAgLSBldGhSYWlzZWQpKXsgICAvLyBDaGVjayBpZiBtYXggY29udHJpYnV0aW9uIGlzIG1vcmUgdGhhdCBtYXggY2FwCiAgICAgICAgbWF4Q29udHJpYiA9IG1heFAxQ2FwIC0gZXRoUmFpc2VkOyAgICAgICAgLy8gQWx0ZXIgbWF4IGNhcAogICAgICB9CiAgICB9CiAgICBlbHNlewogICAgICBtYXhDb250cmliID0gbWF4Q2FwIC0gZXRoUmFpc2VkOyAgICAgICAgICAgIC8vIEFsdGVyIG1heCBjYXAKICAgIH0KICAgIHJldHVybiBtYXhDb250cmliOwogIH0KCiAgLy8KICAvLyBJc3N1ZSB0b2tlbnMgYW5kIHJldHVybiBpZiB0aGVyZSBpcyBvdmVyZmxvdwogIC8vCiAgZnVuY3Rpb24gcHJvY2Vzc1RyYW5zYWN0aW9uKGFkZHJlc3MgX2NvbnRyaWJ1dG9yLCB1aW50IF9hbW91bnQpIGludGVybmFsewogICAgdWludCBtYXhDb250cmlidXRpb24gPSBjYWxjdWxhdGVNYXhDb250cmlidXRpb24oX2NvbnRyaWJ1dG9yKTsgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBtYXggdXNlcnMgY29udHJpYnV0aW9uCiAgICB1aW50IGNvbnRyaWJ1dGlvbkFtb3VudCA9IF9hbW91bnQ7CiAgICB1aW50IHJldHVybkFtb3VudCA9IDA7CiAgICBpZiAobWF4Q29udHJpYnV0aW9uIDwgX2Ftb3VudCl7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbWF4IGNvbnRyaWJ1dGlvbiBpcyBsb3dlciB0aGFuIF9hbW91bnQgc2VudAogICAgICBjb250cmlidXRpb25BbW91bnQgPSBtYXhDb250cmlidXRpb247ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGF0IHVzZXIgY29udGlidXRlcyBoaXMgbWF4aW11bSBhbG93ZWQgY29udHJpYnV0aW9uCiAgICAgIHJldHVybkFtb3VudCA9IF9hbW91bnQgLSBtYXhDb250cmlidXRpb247ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGhvd211Y2ggaGUgbXVzdCBnZXQgYmFjawogICAgfQoKICAgIGlmIChldGhSYWlzZWQgKyBjb250cmlidXRpb25BbW91bnQgPiBtaW5DYXAgJiYgbWluQ2FwID4gZXRoUmFpc2VkKSBNaW5DYXBSZWFjaGVkKGJsb2NrLm51bWJlcik7CgogICAgaWYgKGNvbnRyaWJ1dG9yTGlzdFtfY29udHJpYnV0b3JdLmlzQWN0aXZlID09IGZhbHNlKXsgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGNvbnRyaWJ1dG9yIGhhcyBhbHJlYWR5IGNvbnRyaWJ1dGVkCiAgICAgIGNvbnRyaWJ1dG9yTGlzdFtfY29udHJpYnV0b3JdLmlzQWN0aXZlID0gdHJ1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGhpcyBhY3Rpdml0eSB0byB0cnVlCiAgICAgIGNvbnRyaWJ1dG9yTGlzdFtfY29udHJpYnV0b3JdLmNvbnRyaWJ1dGlvbkFtb3VudCA9IGNvbnRyaWJ1dGlvbkFtb3VudDsgICAgLy8gU2V0IGhpcyBjb250cmlidXRpb24KICAgICAgY29udHJpYnV0b3JJbmRleGVzW25leHRDb250cmlidXRvckluZGV4XSA9IF9jb250cmlidXRvcjsgICAgICAgICAgICAgICAgICAvLyBTZXQgY29udHJpYnV0b3JzIGluZGV4CiAgICAgIG5leHRDb250cmlidXRvckluZGV4Kys7CiAgICB9CiAgICBlbHNlewogICAgICBjb250cmlidXRvckxpc3RbX2NvbnRyaWJ1dG9yXS5jb250cmlidXRpb25BbW91bnQgKz0gY29udHJpYnV0aW9uQW1vdW50OyAgIC8vIEFkZCBjb250cmlidXRpb24gYW1vdW50IHRvIGV4aXN0aW5nIGNvbnRyaWJ1dG9yCiAgICB9CiAgICBldGhSYWlzZWQgKz0gY29udHJpYnV0aW9uQW1vdW50OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRvIGV0aCByYWlzZWQKCiAgICB1aW50IHRva2VuQW1vdW50ID0gY29udHJpYnV0aW9uQW1vdW50ICogZXRoVG9Ub2tlbkNvbnZlcnNpb247ICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGhvdyBtdWNoIHRva2VucyBtdXN0IGNvbnRyaWJ1dG9yIGdldAogICAgaWYgKHRva2VuQW1vdW50ID4gMCl7CiAgICAgIHRva2VuLm1pbnRUb2tlbnMoX2NvbnRyaWJ1dG9yLCB0b2tlbkFtb3VudCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJc3N1ZSBuZXcgdG9rZW5zCiAgICAgIGNvbnRyaWJ1dG9yTGlzdFtfY29udHJpYnV0b3JdLnRva2Vuc0lzc3VlZCArPSB0b2tlbkFtb3VudDsgICAgICAgICAgICAgICAgICAvLyBsb2cgdG9rZW4gaXNzdWFuY2UKICAgIH0KICAgIGlmIChyZXR1cm5BbW91bnQgIT0gMCkgX2NvbnRyaWJ1dG9yLnRyYW5zZmVyKHJldHVybkFtb3VudCk7ICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gb3ZlcmZsb3cgb2YgZXRoZXIKICB9CgogIC8vCiAgLy8gUHVzaCBjb250cmlidXRvciBkYXRhIHRvIHRoZSBjb250cmFjdCBiZWZvcmUgdGhlIGNyb3dkc2FsZSBzbyB0aGF0IHRoZXkgYXJlIGVsaWdpYmxlIGZvciBwcmlvcml0IHBhc3MKICAvLwogIGZ1bmN0aW9uIGVkaXRDb250cmlidXRvcnMoYWRkcmVzc1tdIF9jb250cmlidXRvckFkZHJlc3NlcywgdWludFtdIF9jb250cmlidXRvclBQQWxsb3dhbmNlcykgb25seU93bmVyewogICAgcmVxdWlyZShfY29udHJpYnV0b3JBZGRyZXNzZXMubGVuZ3RoID09IF9jb250cmlidXRvclBQQWxsb3dhbmNlcy5sZW5ndGgpOyAvLyBDaGVjayBpZiBpbnB1dCBkYXRhIGlzIGNvcnJlY3QKCiAgICBmb3IodWludCBjbnQgPSAwOyBjbnQgPCBfY29udHJpYnV0b3JBZGRyZXNzZXMubGVuZ3RoOyBjbnQrKyl7CiAgICAgIGlmIChjb250cmlidXRvckxpc3RbX2NvbnRyaWJ1dG9yQWRkcmVzc2VzW2NudF1dLmlzQWN0aXZlKXsKICAgICAgICBjb250cmlidXRvckxpc3RbX2NvbnRyaWJ1dG9yQWRkcmVzc2VzW2NudF1dLnByaW9yaXR5UGFzc0FsbG93YW5jZSA9IF9jb250cmlidXRvclBQQWxsb3dhbmNlc1tjbnRdOwogICAgICB9CiAgICAgIGVsc2V7CiAgICAgICAgY29udHJpYnV0b3JMaXN0W19jb250cmlidXRvckFkZHJlc3Nlc1tjbnRdXS5pc0FjdGl2ZSA9IHRydWU7CiAgICAgICAgY29udHJpYnV0b3JMaXN0W19jb250cmlidXRvckFkZHJlc3Nlc1tjbnRdXS5wcmlvcml0eVBhc3NBbGxvd2FuY2UgPSBfY29udHJpYnV0b3JQUEFsbG93YW5jZXNbY250XTsKICAgICAgICBjb250cmlidXRvckluZGV4ZXNbbmV4dENvbnRyaWJ1dG9ySW5kZXhdID0gX2NvbnRyaWJ1dG9yQWRkcmVzc2VzW2NudF07CiAgICAgICAgbmV4dENvbnRyaWJ1dG9ySW5kZXgrKzsKICAgICAgfQogICAgfQogIH0KCiAgLy8KICAvLyBNZXRob2QgaXMgbmVlZGVkIGZvciByZWNvdmVyaW5nIHRva2VucyBhY2NlZGVudGFseSBzZW50IHRvIHRva2VuIGFkZHJlc3MKICAvLwogIGZ1bmN0aW9uIHNhbHZhZ2VUb2tlbnNGcm9tQ29udHJhY3QoYWRkcmVzcyBfdG9rZW5BZGRyZXNzLCBhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBvbmx5T3duZXJ7CiAgICBJRVJDMjBUb2tlbihfdG9rZW5BZGRyZXNzKS50cmFuc2ZlcihfdG8sIF9hbW91bnQpOwogIH0KCiAgLy8KICAvLyB3aXRoZHJhd0V0aCB3aGVuIG1pbmltdW0gY2FwIGlzIHJlYWNoZWQKICAvLwogIGZ1bmN0aW9uIHdpdGhkcmF3RXRoKCkgb25seU93bmVyewogICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgIT0gMCk7CiAgICByZXF1aXJlKGV0aFJhaXNlZCA+PSBtaW5DYXApOwoKICAgIHBlbmRpbmdFdGhXaXRoZHJhd2FsID0gdGhpcy5iYWxhbmNlOwogIH0KICB1aW50IHBlbmRpbmdFdGhXaXRoZHJhd2FsOwogIGZ1bmN0aW9uIHNhbml0eUNoZWNrKCl7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gbXVsdGlzaWdBZGRyZXNzKTsKICAgIHJlcXVpcmUocGVuZGluZ0V0aFdpdGhkcmF3YWwgPiAwKTsKCiAgICBtdWx0aXNpZ0FkZHJlc3MudHJhbnNmZXIocGVuZGluZ0V0aFdpdGhkcmF3YWwpOwogICAgcGVuZGluZ0V0aFdpdGhkcmF3YWwgPSAwOwogIH0KCiAgLy8KICAvLyBVc2VycyBjYW4gY2xhaW0gdGhlaXIgY29udHJpYnV0aW9uIGlmIG1pbiBjYXAgaXMgbm90IHJhaXNlZAogIC8vCiAgZnVuY3Rpb24gY2xhaW1FdGhJZkZhaWxlZCgpewogICAgcmVxdWlyZShibG9jay5udW1iZXIgPiBjcm93ZHNhbGVFbmRlZEJsb2NrICYmIGV0aFJhaXNlZCA8IG1pbkNhcCk7ICAgIC8vIENoZWNrIGlmIGNyb3dkc2FsZSBoYXMgZmFpbGVkCiAgICByZXF1aXJlKGNvbnRyaWJ1dG9yTGlzdFttc2cuc2VuZGVyXS5jb250cmlidXRpb25BbW91bnQgPiAwKTsgICAgICAgICAgLy8gQ2hlY2sgaWYgY29udHJpYnV0b3IgaGFzIGNvbnRyaWJ1dGVkIHRvIGNyb3dkc2FsZUVuZGVkQmxvY2sKICAgIHJlcXVpcmUoIWhhc0NsYWltZWRFdGhXaGVuRmFpbFttc2cuc2VuZGVyXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBjb250cmlidXRvciBoYXMgYWxyZWFkeSBjbGFpbWVkIGhpcyBldGgKCiAgICB1aW50IGV0aENvbnRyaWJ1dGVkID0gY29udHJpYnV0b3JMaXN0W21zZy5zZW5kZXJdLmNvbnRyaWJ1dGlvbkFtb3VudDsgLy8gR2V0IGNvbnRyaWJ1dG9ycyBjb250cmlidXRpb24KICAgIGhhc0NsYWltZWRFdGhXaGVuRmFpbFttc2cuc2VuZGVyXSA9IHRydWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhhdCBoZSBoYXMgY2xhaW1lZAogICAgaWYgKCFtc2cuc2VuZGVyLnNlbmQoZXRoQ29udHJpYnV0ZWQpKXsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlZnVuZCBldGgKICAgICAgRXJyb3JTZW5kaW5nRVRIKG1zZy5zZW5kZXIsIGV0aENvbnRyaWJ1dGVkKTsgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbiBpc3N1ZSByYWlzZSBldmVudCBmb3IgbWFudWFsIHJlY292ZXJ5CiAgICB9CiAgfQoKICAvLwogIC8vIE93bmVyIGNhbiBiYXRjaCByZXR1cm4gY29udHJpYnV0b3JzIGNvbnRyaWJ1dGlvbnMoZXRoKQogIC8vCiAgZnVuY3Rpb24gYmF0Y2hSZXR1cm5FdGhJZkZhaWxlZCh1aW50IF9udW1iZXJPZlJldHVybnMpIG9ubHlPd25lcnsKICAgIHJlcXVpcmUoYmxvY2subnVtYmVyID4gY3Jvd2RzYWxlRW5kZWRCbG9jayAmJiBldGhSYWlzZWQgPCBtaW5DYXApOyAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBjcm93ZHNhbGUgaGFzIGZhaWxlZAogICAgYWRkcmVzcyBjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzOwogICAgdWludCBjb250cmlidXRpb247CiAgICBmb3IgKHVpbnQgY250ID0gMDsgY250IDwgX251bWJlck9mUmV0dXJuczsgY250KyspewogICAgICBjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzID0gY29udHJpYnV0b3JJbmRleGVzW25leHRDb250cmlidXRvclRvQ2xhaW1dOyAgICAgICAgIC8vIEdldCBuZXh0IHVuY2xhaW1lZCBwYXJ0aWNpcGFudAogICAgICBpZiAoY3VycmVudFBhcnRpY2lwYW50QWRkcmVzcyA9PSAweDApIHJldHVybjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGFsbCB0aGUgcGFydGljaXBhbnRzIHdlcmUgY29tcGVuc2F0ZWQKICAgICAgaWYgKCFoYXNDbGFpbWVkRXRoV2hlbkZhaWxbY3VycmVudFBhcnRpY2lwYW50QWRkcmVzc10pIHsgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBwYXJ0aWNpcGFudCBoYXMgYWxyZWFkeSBjbGFpbWVkCiAgICAgICAgY29udHJpYnV0aW9uID0gY29udHJpYnV0b3JMaXN0W2N1cnJlbnRQYXJ0aWNpcGFudEFkZHJlc3NdLmNvbnRyaWJ1dGlvbkFtb3VudDsgLy8gR2V0IGNvbnRyaWJ1dGlvbiBvZiBwYXJ0aWNpcGFudAogICAgICAgIGhhc0NsYWltZWRFdGhXaGVuRmFpbFtjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzXSA9IHRydWU7ICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGF0IGhlIGhhcyBjbGFpbWVkCiAgICAgICAgaWYgKCFjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzLnNlbmQoY29udHJpYnV0aW9uKSl7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVmdW5kIGV0aAogICAgICAgICAgRXJyb3JTZW5kaW5nRVRIKGN1cnJlbnRQYXJ0aWNpcGFudEFkZHJlc3MsIGNvbnRyaWJ1dGlvbik7ICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGlzc3VlIHJhaXNlIGV2ZW50IGZvciBtYW51YWwgcmVjb3ZlcnkKICAgICAgICB9CiAgICAgIH0KICAgICAgbmV4dENvbnRyaWJ1dG9yVG9DbGFpbSArPSAxOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXBlYXQKICAgIH0KICB9CgogIC8vCiAgLy8gSWYgdGhlcmUgd2VyZSBhbnkgaXNzdWUvYXR0YWNoIHdpdGggcmVmdW5kIG93bmVyIGNhbiB3aXRocmF3IGV0aCBhdCB0aGUgZW5kIGZvciBtYW51YWwgcmVjb3ZlcnkKICAvLwogIGZ1bmN0aW9uIHdpdGhkcmF3UmVtYWluaW5nQmFsYW5jZUZvck1hbnVhbFJlY292ZXJ5KCkgb25seU93bmVyewogICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgIT0gMCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGFyZSBhbnkgZXRoIHRvIGNsYWltCiAgICByZXF1aXJlKGJsb2NrLm51bWJlciA+IGNyb3dkc2FsZUVuZGVkQmxvY2spOyAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgY3Jvd2RzYWxlIGlzIG92ZXIKICAgIHJlcXVpcmUoY29udHJpYnV0b3JJbmRleGVzW25leHRDb250cmlidXRvclRvQ2xhaW1dID09IDB4MCk7ICAvLyBDaGVjayBpZiBhbGwgdGhlIHVzZXJzIHdlcmUgcmVmdW5kZWQKICAgIG11bHRpc2lnQWRkcmVzcy50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOyAgICAgICAgICAgICAgICAgICAgICAvLyBXaXRoZHJhdyB0byBtdWx0aXNpZwogIH0KCiAgLy8KICAvLyBPd25lciBjYW4gc2V0IG11bHRpc2lnIGFkZHJlc3MgZm9yIGNyb3dkc2FsZQogIC8vCiAgZnVuY3Rpb24gc2V0TXVsdGlzaWdBZGRyZXNzKGFkZHJlc3MgX25ld0FkZHJlc3MpIG9ubHlPd25lcnsKICAgIG11bHRpc2lnQWRkcmVzcyA9IF9uZXdBZGRyZXNzOwogIH0KCiAgLy8KICAvLyBPd25lciBjYW4gc2V0IHRva2VuIGFkZHJlc3Mgd2hlcmUgbWludHMgd2lsbCBoYXBwZW4KICAvLwogIGZ1bmN0aW9uIHNldFRva2VuKGFkZHJlc3MgX25ld0FkZHJlc3MpIG9ubHlPd25lcnsKICAgIHRva2VuID0gSVRva2VuKF9uZXdBZGRyZXNzKTsKICB9CgogIC8vCiAgLy8gT3duZXIgY2FuIGNsYWltIHRlYW1zIHRva2VucyB3aGVuIGNyb3dkc2FsZSBoYXMgc3VjY2Vzc2Z1bGx5IGVuZGVkCiAgLy8KICBmdW5jdGlvbiBjbGFpbUNvcmVUZWFtc1Rva2VucyhhZGRyZXNzIF90bykgb25seU93bmVyewogICAgcmVxdWlyZShjcm93ZHNhbGVTdGF0ZSA9PSBzdGF0ZS5jcm93ZHNhbGVFbmRlZCk7ICAgICAgICAgICAgICAvLyBDaGVjayBpZiBjcm93ZHNhbGUgaGFzIGVuZGVkCiAgICByZXF1aXJlKCFvd25lckhhc0NsYWltZWRUb2tlbnMpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIG93bmVyIGhhcyBhbGxyZWFkeSBjbGFpbWVkIHRva2VucwoKICAgIHVpbnQgZGV2UmV3YXJkID0gbWF4VG9rZW5TdXBwbHkgLSB0b2tlbi50b3RhbFN1cHBseSgpOwogICAgaWYgKCFjb2ZvdW5kaXRIYXNDbGFpbWVkVG9rZW5zKSBkZXZSZXdhcmQgLT0gY29mb3VuZGl0UmV3YXJkOyAvLyBJZiBjb2ZvdW5kaXQgaGFzIGNsYWltZWQgdG9rZW5zIGl0cyBvayBpZiBub3Qgc2V0IGFzaWRlIGNvZm91bmRpdFJld2FyZAogICAgdG9rZW4ubWludFRva2VucyhfdG8sIGRldlJld2FyZCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJc3N1ZSBUZWFtcyB0b2tlbnMKICAgIG93bmVySGFzQ2xhaW1lZFRva2VucyA9IHRydWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmxvY2sgZnVydGhlciBtaW50cyBmcm9tIHRoaXMgbWV0aG9kCiAgfQoKICAvLwogIC8vIENvZm91bmRpdCBjYW4gY2xhaW0gdGhlaXIgdG9rZW5zCiAgLy8KICBmdW5jdGlvbiBjbGFpbUNvZm91bmRpdFRva2VucyhhZGRyZXNzIF90byl7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gY29mb3VuZGl0QWRkcmVzcyk7ICAgICAgICAgICAgLy8gQ2hlY2sgaWYgc2VuZGVyIGlzIGNvZm91bmRpdAogICAgcmVxdWlyZShjcm93ZHNhbGVTdGF0ZSA9PSBzdGF0ZS5jcm93ZHNhbGVFbmRlZCk7ICAgIC8vIENoZWNrIGlmIGNyb3dkc2FsZSBoYXMgZW5kZWQKICAgIHJlcXVpcmUoIWNvZm91bmRpdEhhc0NsYWltZWRUb2tlbnMpOyAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBjb2ZvdW5kaXQgaGFzIGFsbHJlYWR5IGNsYWltZWQgdG9rZW5zCgogICAgdG9rZW4ubWludFRva2VucyhfdG8sIGNvZm91bmRpdFJld2FyZCk7ICAgICAgICAgICAgIC8vIElzc3VlIGNvZm91bmRpdCB0b2tlbnMKICAgIGNvZm91bmRpdEhhc0NsYWltZWRUb2tlbnMgPSB0cnVlOyAgICAgICAgICAgICAgICAgICAvLyBCbG9jayBmdXJ0aGVyIG1pbnRzIGZyb20gdGhpcyBtZXRob2QKICB9CgogIGZ1bmN0aW9uIGdldFRva2VuQWRkcmVzcygpIGNvbnN0YW50IHJldHVybnMoYWRkcmVzcyl7CiAgICByZXR1cm4gYWRkcmVzcyh0b2tlbik7CiAgfQp9CgoKCmNvbnRyYWN0IE1hZWNlbmFzQ3Jvd2RzYWxlIGlzIENyb3dkc2FsZSB7CiAgZnVuY3Rpb24gTWFlY2VuYXNDcm93ZHNhbGUoKXsKICAgIHByZXNhbGVTdGFydEJsb2NrID0gNDI0MTQ4MzsKICAgIHByZXNhbGVVbmxpbWl0ZWRTdGFydEJsb2NrID0gNDI0NTA1NTsKICAgIGNyb3dkc2FsZVN0YXJ0QmxvY2sgPSA0MjQ4NjI3OwogICAgY3Jvd2RzYWxlRW5kZWRCbG9jayA9IDQzNDg2MzU7CgogICAgbWluQ2FwID0gOTM3NSAqIDEwKioxODsKICAgIG1heFAxQ2FwID0gMzEyNTAgKiAxMCoqMTg7CiAgICBtYXhDYXAgPSA2MjUwMCAqIDEwKioxODsKCiAgICBldGhUb1Rva2VuQ29udmVyc2lvbiA9IDQ4MDsKCiAgICBtYXhUb2tlblN1cHBseSA9IDEwMDAwMDAwMCAqIDEwKioxODsKICAgIGNvZm91bmRpdFJld2FyZCA9IDQwMDAwMDAgKiAxMCoqMTg7CiAgICBjb2ZvdW5kaXRBZGRyZXNzID0gMHg5ODhjM2VBNTU1NGYzRDJmQjVFQ0I0ZEM1YzM1MTI2ZUVmM0I4YTVEOwogIH0KfQ=='.
	

]
