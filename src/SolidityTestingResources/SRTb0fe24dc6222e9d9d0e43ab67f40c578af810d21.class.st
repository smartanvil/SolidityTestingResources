Class {
	#name : #SRTb0fe24dc6222e9d9d0e43ab67f40c578af810d21,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTb0fe24dc6222e9d9d0e43ab67f40c578af810d21 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgovKgogKiBDcmVhdG9yOiBJTlYgKEludmVzdGFjb2luKSAKICovCgovKgogKiBBYnN0cmFjdCBUb2tlbiBTbWFydCBDb250cmFjdAogKgogKi8KCiAKIC8qCiAqIFNhZmUgTWF0aCBTbWFydCBDb250cmFjdC4gCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvYmxvYi9tYXN0ZXIvY29udHJhY3RzL21hdGgvU2FmZU1hdGguc29sCiAqLwoKY29udHJhY3QgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHNhZmVEaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHNhZmVTdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCgoKCi8qKgogKiBFUkMtMjAgc3RhbmRhcmQgdG9rZW4gaW50ZXJmYWNlLCBhcyBkZWZpbmVkCiAqIDxhIGhyZWY9Imh0dHA6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwIj5oZXJlPC9hPi4KICovCmNvbnRyYWN0IFRva2VuIHsKICAKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgc3VwcGx5KTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKfQoKCgovKioKICogQWJzdHJhY3QgVG9rZW4gU21hcnQgQ29udHJhY3QgdGhhdCBjb3VsZCBiZSB1c2VkIGFzIGEgYmFzZSBjb250cmFjdCBmb3IKICogRVJDLTIwIHRva2VuIGNvbnRyYWN0cy4KICovCmNvbnRyYWN0IEFic3RyYWN0VG9rZW4gaXMgVG9rZW4sIFNhZmVNYXRoIHsKICAvKioKICAgKiBDcmVhdGUgbmV3IEFic3RyYWN0IFRva2VuIGNvbnRyYWN0LgogICAqLwogIGZ1bmN0aW9uIEFic3RyYWN0VG9rZW4gKCkgewogICAgLy8gRG8gbm90aGluZwogIH0KICAKICAvKioKICAgKiBHZXQgbnVtYmVyIG9mIHRva2VucyBjdXJyZW50bHkgYmVsb25naW5nIHRvIGdpdmVuIG93bmVyLgogICAqCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIHRvIGdldCBudW1iZXIgb2YgdG9rZW5zIGN1cnJlbnRseSBiZWxvbmdpbmcgdG8gdGhlCiAgICogICAgICAgIG93bmVyIG9mCiAgICogQHJldHVybiBudW1iZXIgb2YgdG9rZW5zIGN1cnJlbnRseSBiZWxvbmdpbmcgdG8gdGhlIG93bmVyIG9mIGdpdmVuIGFkZHJlc3MKICAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGFjY291bnRzIFtfb3duZXJdOwogIH0KCiAgLyoqCiAgICogVHJhbnNmZXIgZ2l2ZW4gbnVtYmVyIG9mIHRva2VucyBmcm9tIG1lc3NhZ2Ugc2VuZGVyIHRvIGdpdmVuIHJlY2lwaWVudC4KICAgKgogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMgdG8gdGhlIG93bmVyIG9mCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyIHRvIHRoZSBvd25lciBvZiBnaXZlbiBhZGRyZXNzCiAgICogQHJldHVybiB0cnVlIGlmIHRva2VucyB3ZXJlIHRyYW5zZmVycmVkIHN1Y2Nlc3NmdWxseSwgZmFsc2Ugb3RoZXJ3aXNlCiAgICogYWNjb3VudHMgW190b10gKyBfdmFsdWUgPiBhY2NvdW50cyBbX3RvXSBmb3Igb3ZlcmZsb3cgY2hlY2sKICAgKiB3aGljaCBpcyBhbHJlYWR5IGluIHNhZmVNYXRoCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgaWYgKGFjY291bnRzIFttc2cuc2VuZGVyXSA8IF92YWx1ZSkgcmV0dXJuIGZhbHNlOwogICAgaWYgKF92YWx1ZSA+IDAgJiYgbXNnLnNlbmRlciAhPSBfdG8pIHsKICAgICAgYWNjb3VudHMgW21zZy5zZW5kZXJdID0gc2FmZVN1YiAoYWNjb3VudHMgW21zZy5zZW5kZXJdLCBfdmFsdWUpOwogICAgICBhY2NvdW50cyBbX3RvXSA9IHNhZmVBZGQgKGFjY291bnRzIFtfdG9dLCBfdmFsdWUpOwogICAgfQogICAgVHJhbnNmZXIgKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogVHJhbnNmZXIgZ2l2ZW4gbnVtYmVyIG9mIHRva2VucyBmcm9tIGdpdmVuIG93bmVyIHRvIGdpdmVuIHJlY2lwaWVudC4KICAgKgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRva2VucyBmcm9tIHRoZSBvd25lciBvZgogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMgdG8gdGhlIG93bmVyIG9mCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyIGZyb20gZ2l2ZW4gb3duZXIgdG8gZ2l2ZW4KICAgKiAgICAgICAgcmVjaXBpZW50CiAgICogQHJldHVybiB0cnVlIGlmIHRva2VucyB3ZXJlIHRyYW5zZmVycmVkIHN1Y2Nlc3NmdWxseSwgZmFsc2Ugb3RoZXJ3aXNlCiAgICogYWNjb3VudHMgW190b10gKyBfdmFsdWUgPiBhY2NvdW50cyBbX3RvXSBmb3Igb3ZlcmZsb3cgY2hlY2sKICAgKiB3aGljaCBpcyBhbHJlYWR5IGluIHNhZmVNYXRoCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkKICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgaWYgKGFsbG93YW5jZXMgW19mcm9tXVttc2cuc2VuZGVyXSA8IF92YWx1ZSkgcmV0dXJuIGZhbHNlOwogICAgaWYgKGFjY291bnRzIFtfZnJvbV0gPCBfdmFsdWUpIHJldHVybiBmYWxzZTsgCgogICAgaWYgKF92YWx1ZSA+IDAgJiYgX2Zyb20gIT0gX3RvKSB7CgkgIGFsbG93YW5jZXMgW19mcm9tXVttc2cuc2VuZGVyXSA9IHNhZmVTdWIgKGFsbG93YW5jZXMgW19mcm9tXVttc2cuc2VuZGVyXSwgX3ZhbHVlKTsKICAgICAgYWNjb3VudHMgW19mcm9tXSA9IHNhZmVTdWIgKGFjY291bnRzIFtfZnJvbV0sIF92YWx1ZSk7CiAgICAgIGFjY291bnRzIFtfdG9dID0gc2FmZUFkZCAoYWNjb3VudHMgW190b10sIF92YWx1ZSk7CiAgICB9CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBBbGxvdyBnaXZlbiBzcGVuZGVyIHRvIHRyYW5zZmVyIGdpdmVuIG51bWJlciBvZiB0b2tlbnMgZnJvbSBtZXNzYWdlIHNlbmRlci4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyB0byBhbGxvdyB0aGUgb3duZXIgb2YgdG8gdHJhbnNmZXIgdG9rZW5zIGZyb20gbWVzc2FnZSBzZW5kZXIKICAgKiBAcGFyYW0gX3ZhbHVlIG51bWJlciBvZiB0b2tlbnMgdG8gYWxsb3cgdG8gdHJhbnNmZXIKICAgKiBAcmV0dXJuIHRydWUgaWYgdG9rZW4gdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWxseSBhcHByb3ZlZCwgZmFsc2Ugb3RoZXJ3aXNlCiAgICovCiAgIGZ1bmN0aW9uIGFwcHJvdmUgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGFsbG93YW5jZXMgW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsIChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogVGVsbCBob3cgbWFueSB0b2tlbnMgZ2l2ZW4gc3BlbmRlciBpcyBjdXJyZW50bHkgYWxsb3dlZCB0byB0cmFuc2ZlciBmcm9tCiAgICogZ2l2ZW4gb3duZXIuCiAgICoKICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgdG8gZ2V0IG51bWJlciBvZiB0b2tlbnMgYWxsb3dlZCB0byBiZSB0cmFuc2ZlcnJlZAogICAqICAgICAgICBmcm9tIHRoZSBvd25lciBvZgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIHRvIGdldCBudW1iZXIgb2YgdG9rZW5zIGFsbG93ZWQgdG8gYmUgdHJhbnNmZXJyZWQKICAgKiAgICAgICAgYnkgdGhlIG93bmVyIG9mCiAgICogQHJldHVybiBudW1iZXIgb2YgdG9rZW5zIGdpdmVuIHNwZW5kZXIgaXMgY3VycmVudGx5IGFsbG93ZWQgdG8gdHJhbnNmZXIKICAgKiAgICAgICAgIGZyb20gZ2l2ZW4gb3duZXIKICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50CiAgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2FuY2VzIFtfb3duZXJdW19zcGVuZGVyXTsKICB9CgogIC8qKgogICAqIE1hcHBpbmcgZnJvbSBhZGRyZXNzZXMgb2YgdG9rZW4gaG9sZGVycyB0byB0aGUgbnVtYmVycyBvZiB0b2tlbnMgYmVsb25naW5nCiAgICogdG8gdGhlc2UgdG9rZW4gaG9sZGVycy4KICAgKi8KICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGFjY291bnRzOwoKICAvKioKICAgKiBNYXBwaW5nIGZyb20gYWRkcmVzc2VzIG9mIHRva2VuIGhvbGRlcnMgdG8gdGhlIG1hcHBpbmcgb2YgYWRkcmVzc2VzIG9mCiAgICogc3BlbmRlcnMgdG8gdGhlIGFsbG93YW5jZXMgc2V0IGJ5IHRoZXNlIHRva2VuIGhvbGRlcnMgdG8gdGhlc2Ugc3BlbmRlcnMuCiAgICovCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBwcml2YXRlIGFsbG93YW5jZXM7CiAgCn0KCgovKioKICogSW52ZXN0YSB0b2tlbiBzbWFydCBjb250cmFjdC4KICovCmNvbnRyYWN0IElOVlRva2VuIGlzIEFic3RyYWN0VG9rZW4gewogIC8qKgogICAqIE1heGltdW0gYWxsb3dlZCBudW1iZXIgb2YgdG9rZW5zIGluIGNpcmN1bGF0aW9uLgogICAqIHRva2VuU3VwcGx5ID0gdG9rZW5zSUFjdHVhbGx5V2FudCAqICgxMCBeIGRlY2ltYWxzKQogICAqLwogICAKICAgCiAgdWludDI1NiBjb25zdGFudCBNQVhfVE9LRU5fQ09VTlQgPSA1MDAwMDAwMCAqICgxMCoqOCk7CiAgIAogIC8qKgogICAqIEFkZHJlc3Mgb2YgdGhlIG93bmVyIG9mIHRoaXMgc21hcnQgY29udHJhY3QuCiAgICovCiAgYWRkcmVzcyBwcml2YXRlIG93bmVyOwogIAogIC8qKgogICAqIEZyb3plbiBhY2NvdW50IGxpc3QgaG9sZGVyCiAgICovCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwcml2YXRlIGZyb3plbkFjY291bnQ7CgogIC8qKgogICAqIEN1cnJlbnQgbnVtYmVyIG9mIHRva2VucyBpbiBjaXJjdWxhdGlvbi4KICAgKi8KICB1aW50MjU2IHRva2VuQ291bnQgPSAwOwogIAogCiAgLyoqCiAgICogVHJ1ZSBpZiB0b2tlbnMgdHJhbnNmZXJzIGFyZSBjdXJyZW50bHkgZnJvemVuLCBmYWxzZSBvdGhlcndpc2UuCiAgICovCiAgYm9vbCBmcm96ZW4gPSBmYWxzZTsKICAKIAogIC8qKgogICAqIENyZWF0ZSBuZXcgdG9rZW4gc21hcnQgY29udHJhY3QgYW5kIG1ha2UgbXNnLnNlbmRlciB0aGUKICAgKiBvd25lciBvZiB0aGlzIHNtYXJ0IGNvbnRyYWN0LgogICAqLwogIGZ1bmN0aW9uIElOVlRva2VuICgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIC8qKgogICAqIEdldCB0b3RhbCBudW1iZXIgb2YgdG9rZW5zIGluIGNpcmN1bGF0aW9uLgogICAqCiAgICogQHJldHVybiB0b3RhbCBudW1iZXIgb2YgdG9rZW5zIGluIGNpcmN1bGF0aW9uCiAgICovCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSkgewogICAgcmV0dXJuIHRva2VuQ291bnQ7CiAgfQoKICBzdHJpbmcgY29uc3RhbnQgcHVibGljIG5hbWUgPSAiSW52ZXN0YWNvaW4iOwogIHN0cmluZyBjb25zdGFudCBwdWJsaWMgc3ltYm9sID0gIklOViI7CiAgdWludDggY29uc3RhbnQgcHVibGljIGRlY2ltYWxzID0gODsKICAKICAvKioKICAgKiBUcmFuc2ZlciBnaXZlbiBudW1iZXIgb2YgdG9rZW5zIGZyb20gbWVzc2FnZSBzZW5kZXIgdG8gZ2l2ZW4gcmVjaXBpZW50LgogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMgdG8gdGhlIG93bmVyIG9mCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyIHRvIHRoZSBvd25lciBvZiBnaXZlbiBhZGRyZXNzCiAgICogQHJldHVybiB0cnVlIGlmIHRva2VucyB3ZXJlIHRyYW5zZmVycmVkIHN1Y2Nlc3NmdWxseSwgZmFsc2Ugb3RoZXJ3aXNlCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJlcXVpcmUoIWZyb3plbkFjY291bnRbbXNnLnNlbmRlcl0pOwoJaWYgKGZyb3plbikgcmV0dXJuIGZhbHNlOwogICAgZWxzZSByZXR1cm4gQWJzdHJhY3RUb2tlbi50cmFuc2ZlciAoX3RvLCBfdmFsdWUpOwogIH0KCiAgLyoqCiAgICogVHJhbnNmZXIgZ2l2ZW4gbnVtYmVyIG9mIHRva2VucyBmcm9tIGdpdmVuIG93bmVyIHRvIGdpdmVuIHJlY2lwaWVudC4KICAgKgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRva2VucyBmcm9tIHRoZSBvd25lciBvZgogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMgdG8gdGhlIG93bmVyIG9mCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyIGZyb20gZ2l2ZW4gb3duZXIgdG8gZ2l2ZW4KICAgKiAgICAgICAgcmVjaXBpZW50CiAgICogQHJldHVybiB0cnVlIGlmIHRva2VucyB3ZXJlIHRyYW5zZmVycmVkIHN1Y2Nlc3NmdWxseSwgZmFsc2Ugb3RoZXJ3aXNlCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJcmVxdWlyZSghZnJvemVuQWNjb3VudFtfZnJvbV0pOwogICAgaWYgKGZyb3plbikgcmV0dXJuIGZhbHNlOwogICAgZWxzZSByZXR1cm4gQWJzdHJhY3RUb2tlbi50cmFuc2ZlckZyb20gKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICAgLyoqCiAgICogQ2hhbmdlIGhvdyBtYW55IHRva2VucyBnaXZlbiBzcGVuZGVyIGlzIGFsbG93ZWQgdG8gdHJhbnNmZXIgZnJvbSBtZXNzYWdlCiAgICogc3BlbmRlci4gIEluIG9yZGVyIHRvIHByZXZlbnQgZG91YmxlIHNwZW5kaW5nIG9mIGFsbG93YW5jZSwKICAgKiBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAqIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgKiBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgdG8gYWxsb3cgdGhlIG93bmVyIG9mIHRvIHRyYW5zZmVyIHRva2VucyBmcm9tCiAgICogICAgICAgIG1lc3NhZ2Ugc2VuZGVyCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIGFsbG93IHRvIHRyYW5zZmVyCiAgICogQHJldHVybiB0cnVlIGlmIHRva2VuIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsbHkgYXBwcm92ZWQsIGZhbHNlIG90aGVyd2lzZQogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CglyZXF1aXJlKGFsbG93YW5jZSAobXNnLnNlbmRlciwgX3NwZW5kZXIpID09IDAgfHwgX3ZhbHVlID09IDApOwogICAgcmV0dXJuIEFic3RyYWN0VG9rZW4uYXBwcm92ZSAoX3NwZW5kZXIsIF92YWx1ZSk7CiAgfQoKICAvKioKICAgKiBDcmVhdGUgX3ZhbHVlIG5ldyB0b2tlbnMgYW5kIGdpdmUgbmV3IGNyZWF0ZWQgdG9rZW5zIHRvIG1zZy5zZW5kZXIuCiAgICogTWF5IG9ubHkgYmUgY2FsbGVkIGJ5IHNtYXJ0IGNvbnRyYWN0IG93bmVyLgogICAqCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIGNyZWF0ZQogICAqIEByZXR1cm4gdHJ1ZSBpZiB0b2tlbnMgd2VyZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseSwgZmFsc2Ugb3RoZXJ3aXNlCiAgICovCiAgZnVuY3Rpb24gY3JlYXRlVG9rZW5zKHVpbnQyNTYgX3ZhbHVlKQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXF1aXJlIChtc2cuc2VuZGVyID09IG93bmVyKTsKCiAgICBpZiAoX3ZhbHVlID4gMCkgewogICAgICBpZiAoX3ZhbHVlID4gc2FmZVN1YiAoTUFYX1RPS0VOX0NPVU5ULCB0b2tlbkNvdW50KSkgcmV0dXJuIGZhbHNlOwoJICAKICAgICAgYWNjb3VudHMgW21zZy5zZW5kZXJdID0gc2FmZUFkZCAoYWNjb3VudHMgW21zZy5zZW5kZXJdLCBfdmFsdWUpOwogICAgICB0b2tlbkNvdW50ID0gc2FmZUFkZCAodG9rZW5Db3VudCwgX3ZhbHVlKTsKCSAgCgkgIC8vIGFkZGluZyB0cmFuc2ZlciBldmVudCBhbmQgX2Zyb20gYWRkcmVzcyBhcyBudWxsIGFkZHJlc3MKCSAgVHJhbnNmZXIoMHgwLCBtc2cuc2VuZGVyLCBfdmFsdWUpOwoJICAKCSAgcmV0dXJuIHRydWU7CiAgICB9CgkKCSAgcmV0dXJuIGZhbHNlOwogICAgCiAgfQogIAoKICAvKioKICAgKiBTZXQgbmV3IG93bmVyIGZvciB0aGUgc21hcnQgY29udHJhY3QuCiAgICogTWF5IG9ubHkgYmUgY2FsbGVkIGJ5IHNtYXJ0IGNvbnRyYWN0IG93bmVyLgogICAqCiAgICogQHBhcmFtIF9uZXdPd25lciBhZGRyZXNzIG9mIG5ldyBvd25lciBvZiB0aGUgc21hcnQgY29udHJhY3QKICAgKi8KICBmdW5jdGlvbiBzZXRPd25lcihhZGRyZXNzIF9uZXdPd25lcikgewogICAgcmVxdWlyZSAobXNnLnNlbmRlciA9PSBvd25lcik7CgogICAgb3duZXIgPSBfbmV3T3duZXI7CiAgfQoKICAvKioKICAgKiBGcmVlemUgQUxMIHRva2VuIHRyYW5zZmVycy4KICAgKiBNYXkgb25seSBiZSBjYWxsZWQgYnkgc21hcnQgY29udHJhY3Qgb3duZXIuCiAgICovCiAgZnVuY3Rpb24gZnJlZXplVHJhbnNmZXJzICgpIHsKICAgIHJlcXVpcmUgKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoKICAgIGlmICghZnJvemVuKSB7CiAgICAgIGZyb3plbiA9IHRydWU7CiAgICAgIEZyZWV6ZSAoKTsKICAgIH0KICB9CgogIC8qKgogICAqIFVuZnJlZXplIEFMTCB0b2tlbiB0cmFuc2ZlcnMuCiAgICogTWF5IG9ubHkgYmUgY2FsbGVkIGJ5IHNtYXJ0IGNvbnRyYWN0IG93bmVyLgogICAqLwogIGZ1bmN0aW9uIHVuZnJlZXplVHJhbnNmZXJzICgpIHsKICAgIHJlcXVpcmUgKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoKICAgIGlmIChmcm96ZW4pIHsKICAgICAgZnJvemVuID0gZmFsc2U7CiAgICAgIFVuZnJlZXplICgpOwogICAgfQogIH0KICAKICAKICAvKkEgdXNlciBpcyBhYmxlIHRvIHVuaW50ZW50aW9uYWxseSBzZW5kIHRva2VucyB0byBhIGNvbnRyYWN0IAogICogYW5kIGlmIHRoZSBjb250cmFjdCBpcyBub3QgcHJlcGFyZWQgdG8gcmVmdW5kIHRoZW0gdGhleSB3aWxsIGdldCBzdHVjayBpbiB0aGUgY29udHJhY3QuIAogICogVGhlIHNhbWUgaXNzdWUgdXNlZCB0byBoYXBwZW4gZm9yIEV0aGVyIHRvbyBidXQgbmV3IFNvbGlkaXR5IHZlcnNpb25zIGFkZGVkIHRoZSBwYXlhYmxlIG1vZGlmaWVyIHRvCiAgKiBwcmV2ZW50IHVuaW50ZW5kZWQgRXRoZXIgdHJhbnNmZXJzLiBIb3dldmVyLCB0aGVyZeKAmXMgbm8gc3VjaCBtZWNoYW5pc20gZm9yIHRva2VuIHRyYW5zZmVycy4KICAqIHNvIHRoZSBiZWxvdyBmdW5jdGlvbiBpcyBjcmVhdGVkCiAgKi8KICAKICBmdW5jdGlvbiByZWZ1bmRUb2tlbnMoYWRkcmVzcyBfdG9rZW4sIGFkZHJlc3MgX3JlZnVuZCwgdWludDI1NiBfdmFsdWUpIHsKICAgIHJlcXVpcmUgKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgcmVxdWlyZShfdG9rZW4gIT0gYWRkcmVzcyh0aGlzKSk7CiAgICBBYnN0cmFjdFRva2VuIHRva2VuID0gQWJzdHJhY3RUb2tlbihfdG9rZW4pOwogICAgdG9rZW4udHJhbnNmZXIoX3JlZnVuZCwgX3ZhbHVlKTsKICAgIFJlZnVuZFRva2VucyhfdG9rZW4sIF9yZWZ1bmQsIF92YWx1ZSk7CiAgfQogIAogIC8qKgogICAqIEZyZWV6ZSBzcGVjaWZpYyBhY2NvdW50CiAgICogTWF5IG9ubHkgYmUgY2FsbGVkIGJ5IHNtYXJ0IGNvbnRyYWN0IG93bmVyLgogICAqLwogIGZ1bmN0aW9uIGZyZWV6ZUFjY291bnQoYWRkcmVzcyBfdGFyZ2V0LCBib29sIGZyZWV6ZSkgewogICAgICByZXF1aXJlIChtc2cuc2VuZGVyID09IG93bmVyKTsKCSAgcmVxdWlyZSAobXNnLnNlbmRlciAhPSBfdGFyZ2V0KTsKICAgICAgZnJvemVuQWNjb3VudFtfdGFyZ2V0XSA9IGZyZWV6ZTsKICAgICAgRnJvemVuRnVuZHMoX3RhcmdldCwgZnJlZXplKTsKIH0KCiAgLyoqCiAgICogTG9nZ2VkIHdoZW4gdG9rZW4gdHJhbnNmZXJzIHdlcmUgZnJvemVuLgogICAqLwogIGV2ZW50IEZyZWV6ZSAoKTsKCiAgLyoqCiAgICogTG9nZ2VkIHdoZW4gdG9rZW4gdHJhbnNmZXJzIHdlcmUgdW5mcm96ZW4uCiAgICovCiAgZXZlbnQgVW5mcmVlemUgKCk7CiAgCiAgLyoqCiAgICogTG9nZ2VkIHdoZW4gYSBwYXJ0aWN1bGFyIGFjY291bnQgaXMgZnJvemVuLgogICAqLwogIAogIGV2ZW50IEZyb3plbkZ1bmRzKGFkZHJlc3MgdGFyZ2V0LCBib29sIGZyb3plbik7CgoKICAKICAvKioKICAgKiB3aGVuIGFjY2lkZW50YWxseSBzZW5kIG90aGVyIHRva2VucyBhcmUgcmVmdW5kZWQKICAgKi8KICAKICBldmVudCBSZWZ1bmRUb2tlbnMoYWRkcmVzcyBfdG9rZW4sIGFkZHJlc3MgX3JlZnVuZCwgdWludDI1NiBfdmFsdWUpOwp9'.
	

]
