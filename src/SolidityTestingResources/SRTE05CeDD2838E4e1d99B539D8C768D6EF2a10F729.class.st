Class {
	#name : #SRTE05CeDD2838E4e1d99B539D8C768D6EF2a10F729,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTE05CeDD2838E4e1d99B539D8C768D6EF2a10F729 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuODsKCgpjb250cmFjdCBTYWZlTWF0aCB7CgogIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgewogICAgaWYgKCFhc3NlcnRpb24pIHRocm93OwogIH0KCiAgZnVuY3Rpb24gc2FmZU11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzYWZlRGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICBhc3NlcnQoYiA+IDApOwogICAgdWludCBjID0gYSAvIGI7CiAgICBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsKICAgIHJldHVybiBjOwogIH0KCn0KCgpjb250cmFjdCBTdGFuZGFyZFRva2VuUHJvdG9jb2wgewoKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB0b3RhbFN1cHBseSkge30KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7fQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfcmVjaXBpZW50LCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3JlY2lwaWVudCwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykge30KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykge30KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHt9CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3JlY2lwaWVudCwgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cgp9CgoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBTdGFuZGFyZFRva2VuUHJvdG9jb2wgewoKICAgIG1vZGlmaWVyIHdoZW5fY2FuX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKSB7CiAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUpIF87CiAgICB9CgogICAgbW9kaWZpZXIgd2hlbl9jYW5fcmVjZWl2ZShhZGRyZXNzIF9yZWNpcGllbnQsIHVpbnQyNTYgX3ZhbHVlKSB7CiAgICAgICAgaWYgKGJhbGFuY2VzW19yZWNpcGllbnRdICsgX3ZhbHVlID4gYmFsYW5jZXNbX3JlY2lwaWVudF0pIF87CiAgICB9CgogICAgbW9kaWZpZXIgd2hlbl9pc19hbGxvd2VkKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX2RlbGVnYXRlLCB1aW50MjU2IF92YWx1ZSkgewogICAgICAgIGlmIChhbGxvd2VkW19mcm9tXVtfZGVsZWdhdGVdID49IF92YWx1ZSkgXzsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF9yZWNpcGllbnQsIHVpbnQyNTYgX3ZhbHVlKQogICAgICAgIHdoZW5fY2FuX3RyYW5zZmVyKG1zZy5zZW5kZXIsIF92YWx1ZSkKICAgICAgICB3aGVuX2Nhbl9yZWNlaXZlKF9yZWNpcGllbnQsIF92YWx1ZSkKICAgICAgICByZXR1cm5zIChib29sIG9fc3VjY2VzcykKICAgIHsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgYmFsYW5jZXNbX3JlY2lwaWVudF0gKz0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF9yZWNpcGllbnQsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3JlY2lwaWVudCwgdWludDI1NiBfdmFsdWUpCiAgICAgICAgd2hlbl9jYW5fdHJhbnNmZXIoX2Zyb20sIF92YWx1ZSkKICAgICAgICB3aGVuX2Nhbl9yZWNlaXZlKF9yZWNpcGllbnQsIF92YWx1ZSkKICAgICAgICB3aGVuX2lzX2FsbG93ZWQoX2Zyb20sIG1zZy5zZW5kZXIsIF92YWx1ZSkKICAgICAgICByZXR1cm5zIChib29sIG9fc3VjY2VzcykKICAgIHsKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICBiYWxhbmNlc1tfcmVjaXBpZW50XSArPSBfdmFsdWU7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF9yZWNpcGllbnQsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIG9fc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBvX3JlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCn0KCmNvbnRyYWN0IEdVUFRva2VuIGlzIFN0YW5kYXJkVG9rZW4gewoKCS8vRklFTERTCglzdHJpbmcgcHVibGljIG5hbWUgPSAiR3VwcHkiOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiR1VQIjsKICAgIHVpbnQgcHVibGljIGRlY2ltYWxzID0gMzsKCgkvL0NPTlNUQU5UUwoJdWludCBwdWJsaWMgY29uc3RhbnQgTE9DS09VVF9QRVJJT0QgPSAxIHllYXJzOyAvL3RpbWUgYWZ0ZXIgZW5kIGRhdGUgdGhhdCBpbGxpcXVpZCBHVVAgY2FuIGJlIHRyYW5zZmVycmVkCgoJLy9BU1NJR05FRCBJTiBJTklUSUFMSVpBVElPTgoJdWludCBwdWJsaWMgZW5kTWludGluZ1RpbWU7IC8vVGltZXN0YW1wIGFmdGVyIHdoaWNoIG5vIG1vcmUgdG9rZW5zIGNhbiBiZSBjcmVhdGVkCglhZGRyZXNzIHB1YmxpYyBtaW50ZXI7IC8vYWRkcmVzcyBvZiB0aGUgYWNjb3VudCB3aGljaCBtYXkgbWludCBuZXcgdG9rZW5zCgoJbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgaWxsaXF1aWRCYWxhbmNlOyAvL0JhbGFuY2Ugb2YgJ0Zyb3plbiBmdW5kcycKCgkvL01PRElGSUVSUwoJLy9DYW4gb25seSBiZSBjYWxsZWQgYnkgY29udHJpYnV0aW9uIGNvbnRyYWN0LgoJbW9kaWZpZXIgb25seV9taW50ZXIgewoJCWlmIChtc2cuc2VuZGVyICE9IG1pbnRlcikgdGhyb3c7CgkJXzsKCX0KCgkvLyBDYW4gb25seSBiZSBjYWxsZWQgaWYgaWxsaXF1aWQgdG9rZW5zIG1heSBiZSB0cmFuc2Zvcm1lZCBpbnRvIGxpcXVpZC4KCS8vIFRoaXMgaGFwcGVucyB3aGVuIGBMT0NLT1VUX1BFUklPRGAgb2YgdGltZSBwYXNzZXMgYWZ0ZXIgYGVuZE1pbnRpbmdUaW1lYC4KCW1vZGlmaWVyIHdoZW5fdGhhd2FibGUgewoJCWlmIChub3cgPCBlbmRNaW50aW5nVGltZSArIExPQ0tPVVRfUEVSSU9EKSB0aHJvdzsKCQlfOwoJfQoKCS8vIENhbiBvbmx5IGJlIGNhbGxlZCBpZiAobGlxdWlkKSB0b2tlbnMgbWF5IGJlIHRyYW5zZmVycmVkLiBIYXBwZW5zCgkvLyBpbW1lZGlhdGVseSBhZnRlciBgZW5kTWludGluZ1RpbWVgLgoJbW9kaWZpZXIgd2hlbl90cmFuc2ZlcmFibGUgewoJCWlmIChub3cgPCBlbmRNaW50aW5nVGltZSkgdGhyb3c7CgkJXzsKCX0KCgkvLyBDYW4gb25seSBiZSBjYWxsZWQgaWYgdGhlIGBjcm93ZGZ1bmRlcmAgaXMgYWxsb3dlZCB0byBtaW50IHRva2Vucy4gQW55CgkvLyB0aW1lIGJlZm9yZSBgZW5kTWludGluZ1RpbWVgLgoJbW9kaWZpZXIgd2hlbl9taW50YWJsZSB7CgkJaWYgKG5vdyA+PSBlbmRNaW50aW5nVGltZSkgdGhyb3c7CgkJXzsKCX0KCgkvLyBJbml0aWFsaXphdGlvbiBjb250cmFjdCBhc3NpZ25zIGFkZHJlc3Mgb2YgY3Jvd2RmdW5kIGNvbnRyYWN0IGFuZCBlbmQgdGltZS4KCWZ1bmN0aW9uIEdVUFRva2VuKGFkZHJlc3MgX21pbnRlciwgdWludCBfZW5kTWludGluZ1RpbWUpIHsKCQllbmRNaW50aW5nVGltZSA9IF9lbmRNaW50aW5nVGltZTsKCQltaW50ZXIgPSBfbWludGVyOwoJfQoKCS8vIENyZWF0ZSBuZXcgdG9rZW5zIHdoZW4gY2FsbGVkIGJ5IHRoZSBjcm93ZGZ1bmQgY29udHJhY3QuCgkvLyBPbmx5IGNhbGxhYmxlIGJlZm9yZSB0aGUgZW5kIHRpbWUuCglmdW5jdGlvbiBjcmVhdGVUb2tlbihhZGRyZXNzIF9yZWNpcGllbnQsIHVpbnQgX3ZhbHVlKQoJCXdoZW5fbWludGFibGUKCQlvbmx5X21pbnRlcgoJCXJldHVybnMgKGJvb2wgb19zdWNjZXNzKQoJewoJCWJhbGFuY2VzW19yZWNpcGllbnRdICs9IF92YWx1ZTsKCQl0b3RhbFN1cHBseSArPSBfdmFsdWU7CgkJcmV0dXJuIHRydWU7Cgl9CgoJLy8gQ3JlYXRlIGFuIGlsbGlxdWlkQmFsYW5jZSB3aGljaCBjYW5ub3QgYmUgdHJhZGVkIHVudGlsIGVuZCBvZiBsb2Nrb3V0IHBlcmlvZC4KCS8vIENhbiBvbmx5IGJlIGNhbGxlZCBieSBjcm93ZGZ1bmQgY29udHJhY3QgYmVmb3JlIHRoZSBlbmQgdGltZS4KCWZ1bmN0aW9uIGNyZWF0ZUlsbGlxdWlkVG9rZW4oYWRkcmVzcyBfcmVjaXBpZW50LCB1aW50IF92YWx1ZSkKCQl3aGVuX21pbnRhYmxlCgkJb25seV9taW50ZXIKCQlyZXR1cm5zIChib29sIG9fc3VjY2VzcykKCXsKCQlpbGxpcXVpZEJhbGFuY2VbX3JlY2lwaWVudF0gKz0gX3ZhbHVlOwoJCXRvdGFsU3VwcGx5ICs9IF92YWx1ZTsKCQlyZXR1cm4gdHJ1ZTsKCX0KCgkvLyBNYWtlIHNlbmRlcidzIGlsbGlxdWlkIGJhbGFuY2UgbGlxdWlkIHdoZW4gY2FsbGVkIGFmdGVyIGxvY2tvdXQgcGVyaW9kLgoJZnVuY3Rpb24gbWFrZUxpcXVpZCgpCgkJd2hlbl90aGF3YWJsZQoJewoJCWJhbGFuY2VzW21zZy5zZW5kZXJdICs9IGlsbGlxdWlkQmFsYW5jZVttc2cuc2VuZGVyXTsKCQlpbGxpcXVpZEJhbGFuY2VbbXNnLnNlbmRlcl0gPSAwOwoJfQoKCS8vIFRyYW5zZmVyIGFtb3VudCBvZiB0b2tlbnMgZnJvbSBzZW5kZXIgYWNjb3VudCB0byByZWNpcGllbnQuCgkvLyBPbmx5IGNhbGxhYmxlIGFmdGVyIHRoZSBjcm93ZCBmdW5kIGVuZCBkYXRlLgoJZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfcmVjaXBpZW50LCB1aW50IF9hbW91bnQpCgkJd2hlbl90cmFuc2ZlcmFibGUKCQlyZXR1cm5zIChib29sIG9fc3VjY2VzcykKCXsKCQlyZXR1cm4gc3VwZXIudHJhbnNmZXIoX3JlY2lwaWVudCwgX2Ftb3VudCk7Cgl9CgoJLy8gVHJhbnNmZXIgYW1vdW50IG9mIHRva2VucyBmcm9tIGEgc3BlY2lmaWVkIGFkZHJlc3MgdG8gYSByZWNpcGllbnQuCgkvLyBPbmx5IGNhbGxhYmxlIGFmdGVyIHRoZSBjcm93ZCBmdW5kIGVuZCBkYXRlLgoJZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3JlY2lwaWVudCwgdWludCBfYW1vdW50KQoJCXdoZW5fdHJhbnNmZXJhYmxlCgkJcmV0dXJucyAoYm9vbCBvX3N1Y2Nlc3MpCgl7CgkJcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3JlY2lwaWVudCwgX2Ftb3VudCk7Cgl9Cn0KCgpjb250cmFjdCBDb250cmlidXRpb24gaXMgU2FmZU1hdGggewoKCS8vRklFTERTCgoJLy9DT05TVEFOVFMKCS8vVGltZSBsaW1pdHMKCXVpbnQgcHVibGljIGNvbnN0YW50IFNUQUdFX09ORV9USU1FX0VORCA9IDUgaG91cnM7Cgl1aW50IHB1YmxpYyBjb25zdGFudCBTVEFHRV9UV09fVElNRV9FTkQgPSA3MiBob3VyczsKCXVpbnQgcHVibGljIGNvbnN0YW50IFNUQUdFX1RIUkVFX1RJTUVfRU5EID0gMiB3ZWVrczsKCXVpbnQgcHVibGljIGNvbnN0YW50IFNUQUdFX0ZPVVJfVElNRV9FTkQgPSA0IHdlZWtzOwoJLy9QcmljZXMgb2YgR1VQCgl1aW50IHB1YmxpYyBjb25zdGFudCBQUklDRV9TVEFHRV9PTkUgICA9IDQ4MDAwMDsKCXVpbnQgcHVibGljIGNvbnN0YW50IFBSSUNFX1NUQUdFX1RXTyAgID0gNDQwMDAwOwoJdWludCBwdWJsaWMgY29uc3RhbnQgUFJJQ0VfU1RBR0VfVEhSRUUgPSA0MDAwMDA7Cgl1aW50IHB1YmxpYyBjb25zdGFudCBQUklDRV9TVEFHRV9GT1VSICA9IDM2MDAwMDsKCXVpbnQgcHVibGljIGNvbnN0YW50IFBSSUNFX0JUQ1MgICAgICAgID0gNDgwMDAwOwoJLy9HVVAgVG9rZW4gTGltaXRzCgl1aW50IHB1YmxpYyBjb25zdGFudCBNQVhfU1VQUExZID0gICAgICAgIDEwMDAwMDAwMDAwMDsKCXVpbnQgcHVibGljIGNvbnN0YW50IEFMTE9DX0lMTElRVUlEX1RFQU0gPSA4MDAwMDAwMDAwOwoJdWludCBwdWJsaWMgY29uc3RhbnQgQUxMT0NfTElRVUlEX1RFQU0gPSAgMTMwMDAwMDAwMDA7Cgl1aW50IHB1YmxpYyBjb25zdGFudCBBTExPQ19CT1VOVElFUyA9ICAgICAgMjAwMDAwMDAwMDsKCXVpbnQgcHVibGljIGNvbnN0YW50IEFMTE9DX05FV19VU0VSUyA9ICAgIDE3MDAwMDAwMDAwOwoJdWludCBwdWJsaWMgY29uc3RhbnQgQUxMT0NfQ1JPV0RTQUxFID0gICAgNjAwMDAwMDAwMDA7Cgl1aW50IHB1YmxpYyBjb25zdGFudCBCVENTX1BPUlRJT05fTUFYID0gMzEyNTAgKiBQUklDRV9CVENTOwoJLy9BU1NJR05FRCBJTiBJTklUSUFMSVpBVElPTgoJLy9TdGFydCBhbmQgZW5kIHRpbWVzCgl1aW50IHB1YmxpYyBwdWJsaWNTdGFydFRpbWU7IC8vVGltZSBpbiBzZWNvbmRzIHB1YmxpYyBjcm93ZCBmdW5kIHN0YXJ0cy4KCXVpbnQgcHVibGljIHByaXZhdGVTdGFydFRpbWU7IC8vVGltZSBpbiBzZWNvbmRzIHdoZW4gQlRDU3Vpc3NlIGNhbiBwdXJjaGFzZSB1cCB0byAzMTI1MCBFVEggd29ydGggb2YgR1VQOwoJdWludCBwdWJsaWMgcHVibGljRW5kVGltZTsgLy9UaW1lIGluIHNlY29uZHMgY3Jvd2RzYWxlIGVuZHMKCS8vU3BlY2lhbCBBZGRyZXNzZXMKCWFkZHJlc3MgcHVibGljIGJ0Y3NBZGRyZXNzOyAvL0FkZHJlc3MgdXNlZCBieSBCVENTdWlzc2UKCWFkZHJlc3MgcHVibGljIG11bHRpc2lnQWRkcmVzczsgLy9BZGRyZXNzIHRvIHdoaWNoIGFsbCBldGhlciBmbG93cy4KCWFkZHJlc3MgcHVibGljIG1hdGNocG9vbEFkZHJlc3M7IC8vQWRkcmVzcyB0byB3aGljaCBBTExPQ19CT1VOVElFUywgQUxMT0NfTElRVUlEX1RFQU0sIEFMTE9DX05FV19VU0VSUywgQUxMT0NfSUxMSVFVSURfVEVBTSBpcyBzZW50IHRvLgoJYWRkcmVzcyBwdWJsaWMgb3duZXJBZGRyZXNzOyAvL0FkZHJlc3Mgb2YgdGhlIGNvbnRyYWN0IG93bmVyLiBDYW4gaGFsdCB0aGUgY3Jvd2RzYWxlLgoJLy9Db250cmFjdHMKCUdVUFRva2VuIHB1YmxpYyBndXBUb2tlbjsgLy9FeHRlcm5hbCB0b2tlbiBjb250cmFjdCBob2xsZGluZyB0aGUgR1VQCgkvL1J1bm5pbmcgdG90YWxzCgl1aW50IHB1YmxpYyBldGhlclJhaXNlZDsgLy9Ub3RhbCBFdGhlciByYWlzZWQuCgl1aW50IHB1YmxpYyBndXBTb2xkOyAvL1RvdGFsIEdVUCBjcmVhdGVkCgl1aW50IHB1YmxpYyBidGNzUG9ydGlvblRvdGFsOyAvL1RvdGFsIG9mIFRva2VucyBwdXJjaGFzZWQgYnkgQlRDIFN1aXNzZS4gTm90IHRvIGV4Y2VlZCBCVENTX1BPUlRJT05fTUFYLgoJLy9ib29sZWFucwoJYm9vbCBwdWJsaWMgaGFsdGVkOyAvL2hhbHRzIHRoZSBjcm93ZCBzYWxlIGlmIHRydWUuCgoJLy9GVU5DVElPTiBNT0RJRklFUlMKCgkvL0lzIGN1cnJlbnRseSBpbiB0aGUgcGVyaW9kIGFmdGVyIHRoZSBwcml2YXRlIHN0YXJ0IHRpbWUgYW5kIGJlZm9yZSB0aGUgcHVibGljIHN0YXJ0IHRpbWUuCgltb2RpZmllciBpc19wcmVfY3Jvd2RmdW5kX3BlcmlvZCgpIHsKCQlpZiAobm93ID49IHB1YmxpY1N0YXJ0VGltZSB8fCBub3cgPCBwcml2YXRlU3RhcnRUaW1lKSB0aHJvdzsKCQlfOwoJfQoKCS8vSXMgY3VycmVudGx5IHRoZSBjcm93ZGZ1bmQgcGVyaW9kCgltb2RpZmllciBpc19jcm93ZGZ1bmRfcGVyaW9kKCkgewoJCWlmIChub3cgPCBwdWJsaWNTdGFydFRpbWUgfHwgbm93ID49IHB1YmxpY0VuZFRpbWUpIHRocm93OwoJCV87Cgl9CgoJLy9NYXkgb25seSBiZSBjYWxsZWQgYnkgQlRDIFN1aXNzZQoJbW9kaWZpZXIgb25seV9idGNzKCkgewoJCWlmIChtc2cuc2VuZGVyICE9IGJ0Y3NBZGRyZXNzKSB0aHJvdzsKCQlfOwoJfQoKCS8vTWF5IG9ubHkgYmUgY2FsbGVkIGJ5IHRoZSBvd25lciBhZGRyZXNzCgltb2RpZmllciBvbmx5X293bmVyKCkgewoJCWlmIChtc2cuc2VuZGVyICE9IG93bmVyQWRkcmVzcykgdGhyb3c7CgkJXzsKCX0KCgkvL01heSBvbmx5IGJlIGNhbGxlZCBpZiB0aGUgY3Jvd2RmdW5kIGhhcyBub3QgYmVlbiBoYWx0ZWQKCW1vZGlmaWVyIGlzX25vdF9oYWx0ZWQoKSB7CgkJaWYgKGhhbHRlZCkgdGhyb3c7CgkJXzsKCX0KCgkvLyBFVkVOVFMKCglldmVudCBQcmVCdXkodWludCBfYW1vdW50KTsKCWV2ZW50IEJ1eShhZGRyZXNzIGluZGV4ZWQgX3JlY2lwaWVudCwgdWludCBfYW1vdW50KTsKCgoJLy8gRlVOQ1RJT05TCgoJLy9Jbml0aWFsaXphdGlvbiBmdW5jdGlvbi4gRGVwbG95cyBHVVBUb2tlbiBjb250cmFjdCBhc3NpZ25zIHZhbHVlcywgdG8gYWxsIHJlbWFpbmluZyBmaWVsZHMsIGNyZWF0ZXMgZmlyc3QgZW50aXRsZW1lbnRzIGluIHRoZSBHVVAgVG9rZW4gY29udHJhY3QuCglmdW5jdGlvbiBDb250cmlidXRpb24oCgkJYWRkcmVzcyBfYnRjcywKCQlhZGRyZXNzIF9tdWx0aXNpZywKCQlhZGRyZXNzIF9tYXRjaHBvb2wsCgkJdWludCBfcHVibGljU3RhcnRUaW1lLAoJCXVpbnQgX3ByaXZhdGVTdGFydFRpbWUKCSkgewoJCW93bmVyQWRkcmVzcyA9IG1zZy5zZW5kZXI7CgkJcHVibGljU3RhcnRUaW1lID0gX3B1YmxpY1N0YXJ0VGltZTsKCQlwcml2YXRlU3RhcnRUaW1lID0gX3ByaXZhdGVTdGFydFRpbWU7CgkJcHVibGljRW5kVGltZSA9IF9wdWJsaWNTdGFydFRpbWUgKyA0IHdlZWtzOwoJCWJ0Y3NBZGRyZXNzID0gX2J0Y3M7CgkJbXVsdGlzaWdBZGRyZXNzID0gX211bHRpc2lnOwoJCW1hdGNocG9vbEFkZHJlc3MgPSBfbWF0Y2hwb29sOwoJCWd1cFRva2VuID0gbmV3IEdVUFRva2VuKHRoaXMsIHB1YmxpY0VuZFRpbWUpOwoJCWd1cFRva2VuLmNyZWF0ZUlsbGlxdWlkVG9rZW4obWF0Y2hwb29sQWRkcmVzcywgQUxMT0NfSUxMSVFVSURfVEVBTSk7CgkJZ3VwVG9rZW4uY3JlYXRlVG9rZW4obWF0Y2hwb29sQWRkcmVzcywgQUxMT0NfQk9VTlRJRVMpOwoJCWd1cFRva2VuLmNyZWF0ZVRva2VuKG1hdGNocG9vbEFkZHJlc3MsIEFMTE9DX0xJUVVJRF9URUFNKTsKCQlndXBUb2tlbi5jcmVhdGVUb2tlbihtYXRjaHBvb2xBZGRyZXNzLCBBTExPQ19ORVdfVVNFUlMpOwoJfQoKCS8vTWF5IGJlIHVzZWQgYnkgb3duZXIgb2YgY29udHJhY3QgdG8gaGFsdCBjcm93ZHNhbGUgYW5kIG5vIGxvbmdlciBleGNlcHQgZXRoZXIuCglmdW5jdGlvbiB0b2dnbGVIYWx0KGJvb2wgX2hhbHRlZCkKCQlvbmx5X293bmVyCgl7CgkJaGFsdGVkID0gX2hhbHRlZDsKCX0KCgkvL2NvbnN0YW50IGZ1bmN0aW9uIHJldHVybnMgdGhlIGN1cnJlbnQgR1VQIHByaWNlLgoJZnVuY3Rpb24gZ2V0UHJpY2VSYXRlKCkKCQljb25zdGFudAoJCXJldHVybnMgKHVpbnQgb19yYXRlKQoJewoJCWlmIChub3cgPD0gcHVibGljU3RhcnRUaW1lICsgU1RBR0VfT05FX1RJTUVfRU5EKSByZXR1cm4gUFJJQ0VfU1RBR0VfT05FOwoJCWlmIChub3cgPD0gcHVibGljU3RhcnRUaW1lICsgU1RBR0VfVFdPX1RJTUVfRU5EKSByZXR1cm4gUFJJQ0VfU1RBR0VfVFdPOwoJCWlmIChub3cgPD0gcHVibGljU3RhcnRUaW1lICsgU1RBR0VfVEhSRUVfVElNRV9FTkQpIHJldHVybiBQUklDRV9TVEFHRV9USFJFRTsKCQlpZiAobm93IDw9IHB1YmxpY1N0YXJ0VGltZSArIFNUQUdFX0ZPVVJfVElNRV9FTkQpIHJldHVybiBQUklDRV9TVEFHRV9GT1VSOwoJCWVsc2UgcmV0dXJuIDA7Cgl9CgoJLy8gR2l2ZW4gdGhlIHJhdGUgb2YgYSBwdXJjaGFzZSBhbmQgdGhlIHJlbWFpbmluZyB0b2tlbnMgaW4gdGhpcyB0cmFuY2hlLCBpdAoJLy8gd2lsbCB0aHJvdyBpZiB0aGUgc2FsZSB3b3VsZCB0YWtlIGl0IHBhc3QgdGhlIGxpbWl0IG9mIHRoZSB0cmFuY2hlLgoJLy8gSXQgZXhlY3V0ZXMgdGhlIHB1cmNoYXNlIGZvciB0aGUgYXBwcm9wcmlhdGUgYW1vdW50IG9mIHRva2Vucywgd2hpY2gKCS8vIGludm9sdmVzIGFkZGluZyBpdCB0byB0aGUgdG90YWwsIG1pbnRpbmcgR1VQIHRva2VucyBhbmQgc3Rhc2hpbmcgdGhlCgkvLyBldGhlci4KCS8vIFJldHVybnMgYGFtb3VudGAgaW4gc2NvcGUgYXMgdGhlIG51bWJlciBvZiBHVVAgdG9rZW5zIHRoYXQgaXQgd2lsbAoJLy8gcHVyY2hhc2UuCglmdW5jdGlvbiBwcm9jZXNzUHVyY2hhc2UodWludCBfcmF0ZSwgdWludCBfcmVtYWluaW5nKQoJCWludGVybmFsCgkJcmV0dXJucyAodWludCBvX2Ftb3VudCkKCXsKCQlvX2Ftb3VudCA9IHNhZmVEaXYoc2FmZU11bChtc2cudmFsdWUsIF9yYXRlKSwgMSBldGhlcik7CgkJaWYgKG9fYW1vdW50ID4gX3JlbWFpbmluZykgdGhyb3c7CgkJaWYgKCFtdWx0aXNpZ0FkZHJlc3Muc2VuZChtc2cudmFsdWUpKSB0aHJvdzsKCQlpZiAoIWd1cFRva2VuLmNyZWF0ZVRva2VuKG1zZy5zZW5kZXIsIG9fYW1vdW50KSkgdGhyb3c7CgkJZ3VwU29sZCArPSBvX2Ftb3VudDsKCQlldGhlclJhaXNlZCArPSBtc2cudmFsdWU7Cgl9CgoJLy9TcGVjaWFsIEZ1bmN0aW9uIGNhbiBvbmx5IGJlIGNhbGxlZCBieSBCVEMgU3Vpc3NlIGFuZCBvbmx5IGR1cmluZyB0aGUgcHJlLWNyb3dkc2FsZSBwZXJpb2QuCgkvL0FsbG93cyB0aGUgcHVyY2hhc2Ugb2YgdXAgdG8gMTI1MDAwIEV0aGVyIHdvcnRoIG9mIEdVUCBUb2tlbnMuCglmdW5jdGlvbiBwcmVCdXkoKQoJCXBheWFibGUKCQlpc19wcmVfY3Jvd2RmdW5kX3BlcmlvZAoJCW9ubHlfYnRjcwoJCWlzX25vdF9oYWx0ZWQKCXsKCQl1aW50IGFtb3VudCA9IHByb2Nlc3NQdXJjaGFzZShQUklDRV9CVENTLCBCVENTX1BPUlRJT05fTUFYIC0gYnRjc1BvcnRpb25Ub3RhbCk7CgkJYnRjc1BvcnRpb25Ub3RhbCArPSBhbW91bnQ7CgkJUHJlQnV5KGFtb3VudCk7Cgl9CgoJLy9EZWZhdWx0IGZ1bmN0aW9uIGNhbGxlZCBieSBzZW5kaW5nIEV0aGVyIHRvIHRoaXMgYWRkcmVzcyB3aXRoIG5vIGFyZ3VtZW50cy4KCS8vUmVzdWx0cyBpbiBjcmVhdGlvbiBvZiBuZXcgR1VQIFRva2VucyBpZiB0cmFuc2FjdGlvbiB3b3VsZCBub3QgZXhjZWVkIGhhcmQgbGltaXQgb2YgR1VQIFRva2VuLgoJZnVuY3Rpb24oKQoJCXBheWFibGUKCQlpc19jcm93ZGZ1bmRfcGVyaW9kCgkJaXNfbm90X2hhbHRlZAoJewoJCXVpbnQgYW1vdW50ID0gcHJvY2Vzc1B1cmNoYXNlKGdldFByaWNlUmF0ZSgpLCBBTExPQ19DUk9XRFNBTEUgLSBndXBTb2xkKTsKCQlCdXkobXNnLnNlbmRlciwgYW1vdW50KTsKCX0KCgkvL2ZhaWxzYWZlIGRyYWluCglmdW5jdGlvbiBkcmFpbigpCgkJb25seV9vd25lcgoJewoJCWlmICghb3duZXJBZGRyZXNzLnNlbmQodGhpcy5iYWxhbmNlKSkgdGhyb3c7Cgl9Cn0='.
	

]
