Class {
	#name : #SRTd553e590e105f5bd6720d92cf9edc4c2c305f6eb,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd553e590e105f5bd6720d92cf9edc4c2c305f6eb >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBQYXVzYWJsZQogKiBAZGV2IEJhc2UgY29udHJhY3Qgd2hpY2ggYWxsb3dzIGNoaWxkcmVuIHRvIGltcGxlbWVudCBhbiBlbWVyZ2VuY3kgc3RvcCBtZWNoYW5pc20uCiAqLwpjb250cmFjdCBQYXVzYWJsZSBpcyBPd25hYmxlIHsKICBldmVudCBQYXVzZSgpOwogIGV2ZW50IFVucGF1c2UoKTsKCiAgYm9vbCBwdWJsaWMgcGF1c2VkID0gZmFsc2U7CgoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRvIG1ha2UgYSBmdW5jdGlvbiBjYWxsYWJsZSBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IGlzIG5vdCBwYXVzZWQuCiAgICovCiAgbW9kaWZpZXIgd2hlbk5vdFBhdXNlZCgpIHsKICAgIHJlcXVpcmUoIXBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBNb2RpZmllciB0byBtYWtlIGEgZnVuY3Rpb24gY2FsbGFibGUgb25seSB3aGVuIHRoZSBjb250cmFjdCBpcyBwYXVzZWQuCiAgICovCiAgbW9kaWZpZXIgd2hlblBhdXNlZCgpIHsKICAgIHJlcXVpcmUocGF1c2VkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gcGF1c2UsIHRyaWdnZXJzIHN0b3BwZWQgc3RhdGUKICAgKi8KICBmdW5jdGlvbiBwYXVzZSgpIG9ubHlPd25lciB3aGVuTm90UGF1c2VkIHB1YmxpYyB7CiAgICBwYXVzZWQgPSB0cnVlOwogICAgUGF1c2UoKTsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byB1bnBhdXNlLCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHVucGF1c2UoKSBvbmx5T3duZXIgd2hlblBhdXNlZCBwdWJsaWMgewogICAgcGF1c2VkID0gZmFsc2U7CiAgICBVbnBhdXNlKCk7CiAgfQp9CgovKioKICogQHRpdGxlIENvbnRhY3RhYmxlIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBhIGNvbnRhY3RhYmxlIGNvbnRyYWN0LCBhbGxvd2luZyB0aGUgb3duZXIgdG8gcHJvdmlkZSBhIHN0cmluZyB3aXRoIHRoZWlyCiAqIGNvbnRhY3QgaW5mb3JtYXRpb24uCiAqLwpjb250cmFjdCBDb250YWN0YWJsZSBpcyBPd25hYmxlewoKICAgIHN0cmluZyBwdWJsaWMgY29udGFjdEluZm9ybWF0aW9uOwoKICAgIC8qKgogICAgICogQGRldiBBbGxvd3MgdGhlIG93bmVyIHRvIHNldCBhIHN0cmluZyB3aXRoIHRoZWlyIGNvbnRhY3QgaW5mb3JtYXRpb24uCiAgICAgKiBAcGFyYW0gaW5mbyBUaGUgY29udGFjdCBpbmZvcm1hdGlvbiB0byBhdHRhY2ggdG8gdGhlIGNvbnRyYWN0LgogICAgICovCiAgICBmdW5jdGlvbiBzZXRDb250YWN0SW5mb3JtYXRpb24oc3RyaW5nIGluZm8pIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgICBjb250YWN0SW5mb3JtYXRpb24gPSBpbmZvOwogICAgIH0KfQoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9Cgpjb250cmFjdCBMb2NrYWJsZVRva2VuIGlzIEVSQzIwIHsKICAgIGZ1bmN0aW9uIGFkZFRvVGltZUxvY2tlZExpc3QoYWRkcmVzcyBhZGRyKSBleHRlcm5hbCByZXR1cm5zIChib29sKTsKfQoKY29udHJhY3QgUHJpY2luZ1N0cmF0ZWd5IHsKCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgICB1aW50WzZdIHB1YmxpYyBsaW1pdHM7CiAgICB1aW50WzZdIHB1YmxpYyByYXRlczsKCiAgICBmdW5jdGlvbiBQcmljaW5nU3RyYXRlZ3koCiAgICAgICAgdWludFs2XSBfbGltaXRzLAogICAgICAgIHVpbnRbNl0gX3JhdGVzCiAgICApIHB1YmxpYyAKICAgIHsKICAgICAgICByZXF1aXJlKF9saW1pdHMubGVuZ3RoID09IF9yYXRlcy5sZW5ndGgpOwogICAgICAgIAogICAgICAgIGxpbWl0cyA9IF9saW1pdHM7CiAgICAgICAgcmF0ZXMgPSBfcmF0ZXM7CiAgICB9CgogICAgLyoqIEludGVyZmFjZSBkZWNsYXJhdGlvbi4gKi8KICAgIGZ1bmN0aW9uIGlzUHJpY2luZ1N0cmF0ZWd5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKiogQ2FsY3VsYXRlIHRoZSBjdXJyZW50IHByaWNlIGZvciBidXkgaW4gYW1vdW50LiAqLwogICAgZnVuY3Rpb24gY2FsY3VsYXRlVG9rZW5BbW91bnQodWludCB3ZWlBbW91bnQsIHVpbnQgdG9rZW5zU29sZCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgdG9rZW5BbW91bnQpIHsKICAgICAgICB1aW50IHJhdGUgPSAwOwoKICAgICAgICBmb3IgKHVpbnQ4IGkgPSAwOyBpIDwgbGltaXRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmICh0b2tlbnNTb2xkID49IGxpbWl0c1tpXSkgewogICAgICAgICAgICAgICAgcmF0ZSA9IHJhdGVzW2ldOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gd2VpQW1vdW50Lm11bChyYXRlKTsKICAgIH0KfQoKLyoqCiAqIEB0aXRsZSBQcmVzYWxlCiAqIEBkZXYgUHJlc2FsZSBpcyBhIGNvbnRyYWN0IGZvciBtYW5hZ2luZyBhIHRva2VuIGNyb3dkc2FsZS4KICogUHJlc2FsZXMgaGF2ZSBhIHN0YXJ0IGFuZCBlbmQgdGltZXN0YW1wcywgd2hlcmUgaW52ZXN0b3JzIGNhbiBtYWtlCiAqIHRva2VuIHB1cmNoYXNlcyBhbmQgdGhlIGNyb3dkc2FsZSB3aWxsIGFzc2lnbiB0aGVtIHRva2VucyBiYXNlZAogKiBvbiBhIHRva2VuIHBlciBFVEggcmF0ZS4gRnVuZHMgY29sbGVjdGVkIGFyZSBmb3J3YXJkZWQgdG8gYSB3YWxsZXQKICogYXMgdGhleSBhcnJpdmUuCiAqLwpjb250cmFjdCBQcmVzYWxlIGlzIFBhdXNhYmxlLCBDb250YWN0YWJsZSB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKICAKICAgIC8vIFRoZSB0b2tlbiBiZWluZyBzb2xkCiAgICBMb2NrYWJsZVRva2VuIHB1YmxpYyB0b2tlbjsKICAKICAgIC8vIHN0YXJ0IGFuZCBlbmQgdGltZXN0YW1wcyB3aGVyZSBpbnZlc3RtZW50cyBhcmUgYWxsb3dlZCAoYm90aCBpbmNsdXNpdmUpCiAgICB1aW50IHB1YmxpYyBzdGFydFRpbWU7CiAgICB1aW50IHB1YmxpYyBlbmRUaW1lOwogIAogICAgLy8gYWRkcmVzcyB3aGVyZSBmdW5kcyBhcmUgY29sbGVjdGVkCiAgICBhZGRyZXNzIHB1YmxpYyB3YWxsZXQ7CiAgCiAgICAvLyB0aGUgY29udHJhY3QsIHdoaWNoIGRldGVybWluZSBob3cgbWFueSB0b2tlbiB1bml0cyBhIGJ1eWVyIGdldHMgcGVyIHdlaQogICAgUHJpY2luZ1N0cmF0ZWd5IHB1YmxpYyBwcmljaW5nU3RyYXRlZ3k7CiAgCiAgICAvLyBhbW91bnQgb2YgcmFpc2VkIG1vbmV5IGluIHdlaQogICAgdWludCBwdWJsaWMgd2VpUmFpc2VkOwoKICAgIC8vIGFtb3VudCBvZiB0b2tlbnMgdGhhdCB3YXMgc29sZCBvbiB0aGUgY3Jvd2RzYWxlCiAgICB1aW50IHB1YmxpYyB0b2tlbnNTb2xkOwoKICAgIC8vIG1heGltdW0gYW1vdW50IG9mIHdlaSBpbiB0b3RhbCwgdGhhdCBjYW4gYmUgaW52ZXN0ZWQKICAgIHVpbnQgcHVibGljIHdlaU1heGltdW1Hb2FsOwoKICAgIC8vIGlmIHdlaU1pbmltdW1Hb2FsIHdpbGwgbm90IGJlIHJlYWNoZWQgdGlsbCBlbmRUaW1lLCBpbnZlc3RvcnMgd2lsbCBiZSBhYmxlIHRvIHJlZnVuZCBFVEgKICAgIHVpbnQgcHVibGljIHdlaU1pbmltdW1Hb2FsOwoKICAgIC8vIG1pbmltYWwgYW1vdW50IG9mIGV0aGVyLCB0aGF0IGludmVzdG9yIGNhbiBpbnZlc3QKICAgIHVpbnQgcHVibGljIG1pbkFtb3VudDsKCiAgICAvLyBIb3cgbWFueSBkaXN0aW5jdCBhZGRyZXNzZXMgaGF2ZSBpbnZlc3RlZAogICAgdWludCBwdWJsaWMgaW52ZXN0b3JDb3VudDsKCiAgICAvLyBob3cgbXVjaCB3ZWkgd2UgaGF2ZSByZXR1cm5lZCBiYWNrIHRvIHRoZSBjb250cmFjdCBhZnRlciBhIGZhaWxlZCBjcm93ZGZ1bmQKICAgIHVpbnQgcHVibGljIGxvYWRlZFJlZnVuZDsKCiAgICAvLyBob3cgbXVjaCB3ZWkgd2UgaGF2ZSBnaXZlbiBiYWNrIHRvIGludmVzdG9ycwogICAgdWludCBwdWJsaWMgd2VpUmVmdW5kZWQ7CgogICAgLy9Ib3cgbXVjaCBFVEggZWFjaCBhZGRyZXNzIGhhcyBpbnZlc3RlZCB0byB0aGlzIGNyb3dkc2FsZQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgaW52ZXN0ZWRBbW91bnRPZjsKCiAgICAvLyBBZGRyZXNzZXMgdGhhdCBhcmUgYWxsb3dlZCB0byBpbnZlc3QgYmVmb3JlIElDTyBvZmZpY2FsIG9wZW5zCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBlYXJseVBhcnRpY2lwYW50V2hpdGVsaXN0OwogIAogICAgLyoqCiAgICAgKiBldmVudCBmb3IgdG9rZW4gcHVyY2hhc2UgbG9nZ2luZwogICAgICogQHBhcmFtIHB1cmNoYXNlciB3aG8gcGFpZCBmb3IgdGhlIHRva2VucwogICAgICogQHBhcmFtIGJlbmVmaWNpYXJ5IHdobyBnb3QgdGhlIHRva2VucwogICAgICogQHBhcmFtIHZhbHVlIHdlaXMgcGFpZCBmb3IgcHVyY2hhc2UKICAgICAqIEBwYXJhbSB0b2tlbkFtb3VudCBhbW91bnQgb2YgdG9rZW5zIHB1cmNoYXNlZAogICAgICovCiAgICBldmVudCBUb2tlblB1cmNoYXNlKAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBwdXJjaGFzZXIsCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIGJlbmVmaWNpYXJ5LAogICAgICAgIHVpbnQgdmFsdWUsCiAgICAgICAgdWludCB0b2tlbkFtb3VudAogICAgKTsKCiAgICAvLyBhIHJlZnVuZCB3YXMgcHJvY2Vzc2VkIGZvciBhbiBpbnZlc3RvcgogICAgZXZlbnQgUmVmdW5kKGFkZHJlc3MgaW52ZXN0b3IsIHVpbnQgd2VpQW1vdW50KTsKCiAgICBmdW5jdGlvbiBQcmVzYWxlKAogICAgICAgIHVpbnQgX3N0YXJ0VGltZSwKICAgICAgICB1aW50IF9lbmRUaW1lLAogICAgICAgIFByaWNpbmdTdHJhdGVneSBfcHJpY2luZ1N0cmF0ZWd5LAogICAgICAgIExvY2thYmxlVG9rZW4gX3Rva2VuLAogICAgICAgIGFkZHJlc3MgX3dhbGxldCwKICAgICAgICB1aW50IF93ZWlNYXhpbXVtR29hbCwKICAgICAgICB1aW50IF93ZWlNaW5pbXVtR29hbCwKICAgICAgICB1aW50IF9taW5BbW91bnQKICAgICkgewogICAgICAgIHJlcXVpcmUoX3N0YXJ0VGltZSA+PSBub3cpOwogICAgICAgIHJlcXVpcmUoX2VuZFRpbWUgPj0gX3N0YXJ0VGltZSk7CiAgICAgICAgcmVxdWlyZShfcHJpY2luZ1N0cmF0ZWd5LmlzUHJpY2luZ1N0cmF0ZWd5KCkpOwogICAgICAgIHJlcXVpcmUoYWRkcmVzcyhfdG9rZW4pICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZShfd2FsbGV0ICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZShfd2VpTWF4aW11bUdvYWwgPiAwKTsKICAgICAgICByZXF1aXJlKF93ZWlNaW5pbXVtR29hbCA+IDApOwoKICAgICAgICBzdGFydFRpbWUgPSBfc3RhcnRUaW1lOwogICAgICAgIGVuZFRpbWUgPSBfZW5kVGltZTsKICAgICAgICBwcmljaW5nU3RyYXRlZ3kgPSBfcHJpY2luZ1N0cmF0ZWd5OwogICAgICAgIHRva2VuID0gX3Rva2VuOwogICAgICAgIHdhbGxldCA9IF93YWxsZXQ7CiAgICAgICAgd2VpTWF4aW11bUdvYWwgPSBfd2VpTWF4aW11bUdvYWw7CiAgICAgICAgd2VpTWluaW11bUdvYWwgPSBfd2VpTWluaW11bUdvYWw7CiAgICAgICAgbWluQW1vdW50ID0gX21pbkFtb3VudDsKfQoKICAgIC8vIGZhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGJ1eSB0b2tlbnMKICAgIGZ1bmN0aW9uICgpIGV4dGVybmFsIHBheWFibGUgewogICAgICAgIGJ1eVRva2Vucyhtc2cuc2VuZGVyKTsKICAgIH0KCiAgICAvLyBsb3cgbGV2ZWwgdG9rZW4gcHVyY2hhc2UgZnVuY3Rpb24KICAgIGZ1bmN0aW9uIGJ1eVRva2VucyhhZGRyZXNzIGJlbmVmaWNpYXJ5KSBwdWJsaWMgd2hlbk5vdFBhdXNlZCBwYXlhYmxlIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKGJlbmVmaWNpYXJ5ICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZSh2YWxpZFB1cmNoYXNlKCkpOwogICAgCiAgICAgICAgdWludCB3ZWlBbW91bnQgPSBtc2cudmFsdWU7CiAgICAKICAgICAgICAvLyBjYWxjdWxhdGUgdG9rZW4gYW1vdW50IHRvIGJlIGNyZWF0ZWQKICAgICAgICB1aW50IHRva2VuQW1vdW50ID0gcHJpY2luZ1N0cmF0ZWd5LmNhbGN1bGF0ZVRva2VuQW1vdW50KHdlaUFtb3VudCwgdG9rZW5zU29sZCk7CiAgICAKICAgICAgICAvLyB1cGRhdGUgc3RhdGUKICAgICAgICBpZiAoaW52ZXN0ZWRBbW91bnRPZltiZW5lZmljaWFyeV0gPT0gMCkgewogICAgICAgICAgICAvLyBBIG5ldyBpbnZlc3RvcgogICAgICAgICAgICBpbnZlc3RvckNvdW50Kys7CiAgICAgICAgfQogICAgICAgIGludmVzdGVkQW1vdW50T2ZbYmVuZWZpY2lhcnldID0gaW52ZXN0ZWRBbW91bnRPZltiZW5lZmljaWFyeV0uYWRkKHdlaUFtb3VudCk7CiAgICAgICAgd2VpUmFpc2VkID0gd2VpUmFpc2VkLmFkZCh3ZWlBbW91bnQpOwogICAgICAgIHRva2Vuc1NvbGQgPSB0b2tlbnNTb2xkLmFkZCh0b2tlbkFtb3VudCk7CiAgICAKICAgICAgICB0b2tlbi50cmFuc2ZlckZyb20ob3duZXIsIGJlbmVmaWNpYXJ5LCB0b2tlbkFtb3VudCk7CiAgICAgICAgVG9rZW5QdXJjaGFzZShtc2cuc2VuZGVyLCBiZW5lZmljaWFyeSwgd2VpQW1vdW50LCB0b2tlbkFtb3VudCk7CiAgICAgICAgdG9rZW4uYWRkVG9UaW1lTG9ja2VkTGlzdChiZW5lZmljaWFyeSk7CgogICAgICAgIHdhbGxldC50cmFuc2Zlcihtc2cudmFsdWUpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyByZXR1cm4gdHJ1ZSBpZiB0aGUgdHJhbnNhY3Rpb24gY2FuIGJ1eSB0b2tlbnMKICAgIGZ1bmN0aW9uIHZhbGlkUHVyY2hhc2UoKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgYm9vbCB3aXRoaW5QZXJpb2QgPSAobm93ID49IHN0YXJ0VGltZSB8fCBlYXJseVBhcnRpY2lwYW50V2hpdGVsaXN0W21zZy5zZW5kZXJdKSAmJiBub3cgPD0gZW5kVGltZTsKICAgICAgICBib29sIG5vblplcm9QdXJjaGFzZSA9IG1zZy52YWx1ZSAhPSAwOwogICAgICAgIGJvb2wgd2l0aGluQ2FwID0gd2VpUmFpc2VkLmFkZChtc2cudmFsdWUpIDw9IHdlaU1heGltdW1Hb2FsOwogICAgICAgIGJvb2wgbW9yZVRoZW5NaW5pbWFsID0gbXNnLnZhbHVlID49IG1pbkFtb3VudDsKCiAgICAgICAgcmV0dXJuIHdpdGhpblBlcmlvZCAmJiBub25aZXJvUHVyY2hhc2UgJiYgd2l0aGluQ2FwICYmIG1vcmVUaGVuTWluaW1hbDsKICAgIH0KCiAgICAvLyByZXR1cm4gdHJ1ZSBpZiBjcm93ZHNhbGUgZXZlbnQgaGFzIGVuZGVkCiAgICBmdW5jdGlvbiBoYXNFbmRlZCgpIGV4dGVybmFsIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICBib29sIGNhcFJlYWNoZWQgPSB3ZWlSYWlzZWQgPj0gd2VpTWF4aW11bUdvYWw7CiAgICAgICAgYm9vbCBhZnRlckVuZFRpbWUgPSBub3cgPiBlbmRUaW1lOwogICAgICAgIAogICAgICAgIHJldHVybiBjYXBSZWFjaGVkIHx8IGFmdGVyRW5kVGltZTsKICAgIH0KCiAgICAvLyBnZXQgdGhlIGFtb3VudCBvZiB1bnNvbGQgdG9rZW5zIGFsbG9jYXRlZCB0byB0aGlzIGNvbnRyYWN0OwogICAgZnVuY3Rpb24gZ2V0V2VpTGVmdCgpIGV4dGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gd2VpTWF4aW11bUdvYWwgLSB3ZWlSYWlzZWQ7CiAgICB9CgogICAgLy8gcmV0dXJuIHRydWUgaWYgdGhlIGNyb3dkc2FsZSBoYXMgcmFpc2VkIGVub3VnaCBtb25leSB0byBiZSBhIHN1Y2Nlc3NmdWwuCiAgICBmdW5jdGlvbiBpc01pbmltdW1Hb2FsUmVhY2hlZCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHdlaVJhaXNlZCA+PSB3ZWlNaW5pbXVtR29hbDsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBhbGxvd3MgdG8gYWRkIGFuZCBleGNsdWRlIGFkZHJlc3NlcyBmcm9tIGVhcmx5UGFydGljaXBhbnRXaGl0ZWxpc3QgZm9yIG93bmVyCiAgICAgKiBAcGFyYW0gaXNXaGl0ZWxpc3RlZCBpcyB0cnVlIGZvciBhZGRpbmcgYWRkcmVzcyBpbnRvIHdoaXRlbGlzdCwgZmFsc2UgLSB0byBleGNsdWRlCiAgICAgKi8KICAgIGZ1bmN0aW9uIGVkaXRFYXJseVBhcmljaXBhbnRXaGl0ZWxpc3QoYWRkcmVzcyBhZGRyLCBib29sIGlzV2hpdGVsaXN0ZWQpIGV4dGVybmFsIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CiAgICAgICAgZWFybHlQYXJ0aWNpcGFudFdoaXRlbGlzdFthZGRyXSA9IGlzV2hpdGVsaXN0ZWQ7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gYWxsb3dzIHRvIHVwZGF0ZSB0b2tlbnMgcmF0ZSBmb3Igb3duZXIKICAgIGZ1bmN0aW9uIHNldFByaWNpbmdTdHJhdGVneShQcmljaW5nU3RyYXRlZ3kgX3ByaWNpbmdTdHJhdGVneSkgZXh0ZXJuYWwgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBwcmljaW5nU3RyYXRlZ3kgPSBfcHJpY2luZ1N0cmF0ZWd5OwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgKiBBbGxvdyBsb2FkIHJlZnVuZHMgYmFjayBvbiB0aGUgY29udHJhY3QgZm9yIHRoZSByZWZ1bmRpbmcuCiAgICAqCiAgICAqIFRoZSB0ZWFtIGNhbiB0cmFuc2ZlciB0aGUgZnVuZHMgYmFjayBvbiB0aGUgc21hcnQgY29udHJhY3QgaW4gdGhlIGNhc2UgdGhlIG1pbmltdW0gZ29hbCB3YXMgbm90IHJlYWNoZWQuLgogICAgKi8KICAgIGZ1bmN0aW9uIGxvYWRSZWZ1bmQoKSBleHRlcm5hbCBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+IDApOwogICAgICAgIHJlcXVpcmUoIWlzTWluaW11bUdvYWxSZWFjaGVkKCkpOwogICAgICAgIAogICAgICAgIGxvYWRlZFJlZnVuZCA9IGxvYWRlZFJlZnVuZC5hZGQobXNnLnZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgICogSW52ZXN0b3JzIGNhbiBjbGFpbSByZWZ1bmQuCiAgICAqCiAgICAqIE5vdGUgdGhhdCBhbnkgcmVmdW5kcyBmcm9tIHByb3h5IGJ1eWVycyBzaG91bGQgYmUgaGFuZGxlZCBzZXBhcmF0ZWx5LAogICAgKiBhbmQgbm90IHRocm91Z2ggdGhpcyBjb250cmFjdC4KICAgICovCiAgICBmdW5jdGlvbiByZWZ1bmQoKSBleHRlcm5hbCB7CiAgICAgICAgcmVxdWlyZSghaXNNaW5pbXVtR29hbFJlYWNoZWQoKSAmJiBsb2FkZWRSZWZ1bmQgPiAwKTsKICAgICAgICB1aW50MjU2IHdlaVZhbHVlID0gaW52ZXN0ZWRBbW91bnRPZlttc2cuc2VuZGVyXTsKICAgICAgICByZXF1aXJlKHdlaVZhbHVlID4gMCk7CiAgICAgICAgCiAgICAgICAgaW52ZXN0ZWRBbW91bnRPZlttc2cuc2VuZGVyXSA9IDA7CiAgICAgICAgd2VpUmVmdW5kZWQgPSB3ZWlSZWZ1bmRlZC5hZGQod2VpVmFsdWUpOwogICAgICAgIFJlZnVuZChtc2cuc2VuZGVyLCB3ZWlWYWx1ZSk7CiAgICAgICAgbXNnLnNlbmRlci50cmFuc2Zlcih3ZWlWYWx1ZSk7CiAgICB9Cn0='.
	

]
