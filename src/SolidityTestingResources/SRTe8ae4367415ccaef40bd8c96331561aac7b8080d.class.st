Class {
	#name : #SRTe8ae4367415ccaef40bd8c96331561aac7b8080d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe8ae4367415ccaef40bd8c96331561aac7b8080d >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgoKCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCgoKCgoKCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCgpjb250cmFjdCBIaXZlIGlzIEVSQzIwIHsKCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJVSElWRSI7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJIVkUiOyAgICAKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CiAgICB1aW50MjU2IF90b3RhbFN1cHBseSA9IDgwMDAwMDAwMDAwICogKDEwKipkZWNpbWFscyk7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgZnJvemVuQWNjb3VudDsKICAgIGV2ZW50IEZyb3plbkZ1bmRzKGFkZHJlc3MgdGFyZ2V0LCBib29sIGZyb3plbik7CgogICAgLy8gQmFsYW5jZXMgZm9yIGVhY2ggYWNjb3VudAogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAgIC8vIE93bmVyIG9mIGFjY291bnQgYXBwcm92ZXMgdGhlIHRyYW5zZmVyIG9mIGFuIGFtb3VudCB0byBhbm90aGVyIGFjY291bnQKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAgIC8vIE93bmVyIG9mIHRoaXMgY29udHJhY3QKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIC8vIEZ1bmN0aW9ucyB3aXRoIHRoaXMgbW9kaWZpZXIgY2FuIG9ubHkgYmUgZXhlY3V0ZWQgYnkgdGhlIG93bmVyCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoYW5nZU93bmVyKGFkZHJlc3MgX25ld093bmVyKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKF9uZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgICAgICBvd25lciA9IF9uZXdPd25lcjsKICAgIH0KCiAgICBmdW5jdGlvbiBmcmVlemVBY2NvdW50KGFkZHJlc3MgdGFyZ2V0LCBib29sIGZyZWV6ZSkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgZnJvemVuQWNjb3VudFt0YXJnZXRdID0gZnJlZXplOwogICAgICAgIEZyb3plbkZ1bmRzKHRhcmdldCwgZnJlZXplKTsKICAgIH0KCiAgICBmdW5jdGlvbiBpc0Zyb3plbkFjY291bnQoYWRkcmVzcyBfYWRkcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gZnJvemVuQWNjb3VudFtfYWRkcl07CiAgICB9CgogICAgZnVuY3Rpb24gZGVzdHJveUNvaW5zKGFkZHJlc3MgYWRkcmVzc1RvRGVzdHJveSwgdWludDI1NiBhbW91bnQpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoYWRkcmVzc1RvRGVzdHJveSAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKGFtb3VudCA+IDApOwogICAgICAgIHJlcXVpcmUoYW1vdW50IDw9IGJhbGFuY2VzW2FkZHJlc3NUb0Rlc3Ryb3ldKTsKICAgICAgICBiYWxhbmNlc1thZGRyZXNzVG9EZXN0cm95XSAtPSBhbW91bnQ7ICAgIAogICAgICAgIF90b3RhbFN1cHBseSAtPSBhbW91bnQ7CiAgICB9CgogICAgLy8gQ29uc3RydWN0b3IKICAgIGZ1bmN0aW9uIEhpdmUoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSBfdG90YWxTdXBwbHk7CiAgICB9CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpIHsKICAgICAgICBzdXBwbHkgPSBfdG90YWxTdXBwbHk7CiAgICB9CgogICAgLy8gV2hhdCBpcyB0aGUgYmFsYW5jZSBvZiBhIHBhcnRpY3VsYXIgYWNjb3VudD8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQogICAgCiAgICAvLyBUcmFuc2ZlciB0aGUgYmFsYW5jZSBmcm9tIG93bmVyJ3MgYWNjb3VudCB0byBhbm90aGVyIGFjY291bnQKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgeyAgICAgICAgCiAgICAgICAgaWYgKF90byAhPSBhZGRyZXNzKDApICYmIGlzRnJvemVuQWNjb3VudChtc2cuc2VuZGVyKSA9PSBmYWxzZSAmJiBiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCAmJiBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIC8vIFNlbmQgX3ZhbHVlIGFtb3VudCBvZiB0b2tlbnMgZnJvbSBhZGRyZXNzIF9mcm9tIHRvIGFkZHJlc3MgX3RvCiAgICAvLyBUaGUgdHJhbnNmZXJGcm9tIG1ldGhvZCBpcyB1c2VkIGZvciBhIHdpdGhkcmF3IHdvcmtmbG93LCBhbGxvd2luZyBjb250cmFjdHMgdG8gc2VuZAogICAgLy8gdG9rZW5zIG9uIHlvdXIgYmVoYWxmLCBmb3IgZXhhbXBsZSB0byAiZGVwb3NpdCIgdG8gYSBjb250cmFjdCBhZGRyZXNzIGFuZC9vciB0byBjaGFyZ2UKICAgIC8vIGZlZXMgaW4gc3ViLWN1cnJlbmNpZXM7IHRoZSBjb21tYW5kIHNob3VsZCBmYWlsIHVubGVzcyB0aGUgX2Zyb20gYWNjb3VudCBoYXMKICAgIC8vIGRlbGliZXJhdGVseSBhdXRob3JpemVkIHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UgdmlhIHNvbWUgbWVjaGFuaXNtOyB3ZSBwcm9wb3NlCiAgICAvLyB0aGVzZSBzdGFuZGFyZGl6ZWQgQVBJcyBmb3IgYXBwcm92YWw6CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSxhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoX3RvICE9IGFkZHJlc3MoMCkgJiYgaXNGcm96ZW5BY2NvdW50KF9mcm9tKSA9PSBmYWxzZSAmJiBiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwICYmIGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSkgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLy8gQWxsb3cgX3NwZW5kZXIgdG8gd2l0aGRyYXcgZnJvbSB5b3VyIGFjY291bnQsIG11bHRpcGxlIHRpbWVzLCB1cCB0byB0aGUgX3ZhbHVlIGFtb3VudC4KICAgIC8vIElmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGFnYWluIGl0IG92ZXJ3cml0ZXMgdGhlIGN1cnJlbnQgYWxsb3dhbmNlIHdpdGggX3ZhbHVlLgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQogICAgCn0KCmNvbnRyYWN0IEhpdmVQcmVTYWxlIHsKCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICAgIC8vIFRoZSB0b2tlbiBiZWluZyBzb2xkCiAgICBIaXZlIHB1YmxpYyB0b2tlbjsKCiAgICAvLyBBZGRyZXNzIHdoZXJlIGZ1bmRzIGFyZSBjb2xsZWN0ZWQKICAgIGFkZHJlc3MgcHVibGljIHZhdWx0V2FsbGV0OwoKICAgIC8vIEhvdyBtYW55IHRva2VuIHVuaXRzIGEgYnV5ZXIgZ2V0cyBwZXIgd2VpCiAgICB1aW50MjU2IHB1YmxpYyBoaXZlUGVyRXRoZXI7CgogICAgLy8gSG93IG11Y2ggaGl2ZSBjb3N0IHBlciBVU0QKICAgIHVpbnQyNTYgcHVibGljIGhpdmVQZXJVU0Q7CgogICAgLy8gT3duZXIgb2YgdGhpcyBjb250cmFjdAogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgLy9GbGFnIHBhdXNlZCBzYWxlCiAgICBib29sIHB1YmxpYyBwYXVzZWQ7CgogICAgdWludDI1NiBwdWJsaWMgb3BlbmluZ1RpbWU7CiAgICB1aW50MjU2IHB1YmxpYyBjbG9zaW5nVGltZTsKCiAgICB1aW50MjU2IHB1YmxpYyBtaW5pbXVtV2VpOwoKICAgIC8qKgogICAgKiBAZGV2IFJldmVydHMgaWYgbm90IGluIGNyb3dkc2FsZSB0aW1lIHJhbmdlLiAKICAgICovCiAgICBtb2RpZmllciBvbmx5V2hpbGVPcGVuIHsKICAgICAgICByZXF1aXJlKG5vdyA+PSBvcGVuaW5nVGltZSAmJiBub3cgPD0gY2xvc2luZ1RpbWUgJiYgcGF1c2VkID09IGZhbHNlKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vIEZ1bmN0aW9ucyB3aXRoIHRoaXMgbW9kaWZpZXIgY2FuIG9ubHkgYmUgZXhlY3V0ZWQgYnkgdGhlIG93bmVyCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIEhpdmVQcmVTYWxlKHVpbnQyNTYgX2hpdmVQZXJFdGhlciwgYWRkcmVzcyBfdmF1bHRXYWxsZXQsIEhpdmUgX3Rva2VuLCB1aW50MjU2IF9vcGVuaW5nVGltZSwgdWludDI1NiBfY2xvc2luZ1RpbWUpIHB1YmxpYyB7CiAgICAgICAgaGl2ZVBlckV0aGVyID0gX2hpdmVQZXJFdGhlcjsKICAgICAgICB2YXVsdFdhbGxldCA9IF92YXVsdFdhbGxldDsKICAgICAgICB0b2tlbiA9IF90b2tlbjsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgb3BlbmluZ1RpbWUgPSBfb3BlbmluZ1RpbWU7CiAgICAgICAgY2xvc2luZ1RpbWUgPSBfY2xvc2luZ1RpbWU7CiAgICAgICAgcGF1c2VkID0gZmFsc2U7CiAgICAgICAgaGl2ZVBlclVTRCA9IDY2NzsgLy9lYWNoIGhpdmUgaXMgMC4wMDE1JAogICAgICAgIG1pbmltdW1XZWkgPSAxMDAwMDAwMDAwMDAwMDAwMDA7IC8vMC4xIEV0aGVyCiAgICB9CgogICAgZnVuY3Rpb24gKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICAgICAgYnV5VG9rZW5zKG1zZy5zZW5kZXIpOwogICAgfQogICAgCiAgICAvKioKICAgICogRXZlbnQgZm9yIHRva2VuIHB1cmNoYXNlIGxvZ2dpbmcKICAgICogQHBhcmFtIHB1cmNoYXNlciB3aG8gcGFpZCBmb3IgdGhlIHRva2VucwogICAgKiBAcGFyYW0gYmVuZWZpY2lhcnkgd2hvIGdvdCB0aGUgdG9rZW5zCiAgICAqIEBwYXJhbSB2YWx1ZSB3ZWlzIHBhaWQgZm9yIHB1cmNoYXNlCiAgICAqIEBwYXJhbSBhbW91bnQgYW1vdW50IG9mIHRva2VucyBwdXJjaGFzZWQKICAgICovCiAgICBldmVudCBUb2tlblB1cmNoYXNlKGFkZHJlc3MgaW5kZXhlZCBwdXJjaGFzZXIsIGFkZHJlc3MgaW5kZXhlZCBiZW5lZmljaWFyeSwgdWludDI1NiB2YWx1ZSwgdWludDI1NiBhbW91bnQpOwoKICAgIC8qKgogICAgKiBAZGV2IENoZWNrcyB3aGV0aGVyIHRoZSBwZXJpb2QgaW4gd2hpY2ggdGhlIGNyb3dkc2FsZSBpcyBvcGVuIGhhcyBhbHJlYWR5IGVsYXBzZWQuCiAgICAqIEByZXR1cm4gV2hldGhlciBjcm93ZHNhbGUgcGVyaW9kIGhhcyBlbGFwc2VkCiAgICAqLwogICAgZnVuY3Rpb24gaGFzQ2xvc2VkKCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBub3cgPiBjbG9zaW5nVGltZTsKICAgIH0KCgogICAgLyoqCiAgICAqIEBkZXYgbG93IGxldmVsIHRva2VuIHB1cmNoYXNlICoqKkRPIE5PVCBPVkVSUklERSoqKgogICAgKiBAcGFyYW0gX2JlbmVmaWNpYXJ5IEFkZHJlc3MgcGVyZm9ybWluZyB0aGUgdG9rZW4gcHVyY2hhc2UKICAgICovCiAgICBmdW5jdGlvbiBidXlUb2tlbnMoYWRkcmVzcyBfYmVuZWZpY2lhcnkpIHB1YmxpYyBwYXlhYmxlIG9ubHlXaGlsZU9wZW4gewoKICAgICAgICB1aW50MjU2IHdlaUFtb3VudCA9IG1zZy52YWx1ZTsKICAgICAgICBfcHJlVmFsaWRhdGVQdXJjaGFzZShfYmVuZWZpY2lhcnksIHdlaUFtb3VudCk7CgogICAgICAgIC8vIGNhbGN1bGF0ZSB0b2tlbiBhbW91bnQgdG8gYmUgY3JlYXRlZAogICAgICAgIHVpbnQyNTYgdG9rZW5zID0gX2dldFRva2VuQW1vdW50KHdlaUFtb3VudCk7CiAgICAgICAgX3ZlcmlmeUF2YWlsYWJpbGl0eSh0b2tlbnMpOwoKICAgICAgICBfcHJvY2Vzc1B1cmNoYXNlKF9iZW5lZmljaWFyeSwgdG9rZW5zKTsKICAgICAgICBUb2tlblB1cmNoYXNlKG1zZy5zZW5kZXIsIF9iZW5lZmljaWFyeSwgd2VpQW1vdW50LCB0b2tlbnMpOwogICAgICAgIF9mb3J3YXJkRnVuZHMoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VSYXRlKHVpbnQyNTYgX25ld1JhdGUpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX25ld1JhdGUgPiAwKTsKICAgICAgICBoaXZlUGVyRXRoZXIgPSBfbmV3UmF0ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VNaW5pbXVtV2VpKHVpbnQyNTYgX25ld01pbmltdW1XZWkpIG9ubHlPd25lciBwdWJsaWMgeyAgICAgICAgCiAgICAgICAgbWluaW11bVdlaSA9IF9uZXdNaW5pbXVtV2VpOwogICAgfQoKICAgIGZ1bmN0aW9uIGV4dGVuZFNhbGUodWludDI1NiBfbmV3Q2xvc2luZ1RpbWUpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX25ld0Nsb3NpbmdUaW1lID4gY2xvc2luZ1RpbWUpOwogICAgICAgIGNsb3NpbmdUaW1lID0gX25ld0Nsb3NpbmdUaW1lOwogICAgfQoKICAgIGZ1bmN0aW9uIGhhbHRTYWxlKCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcGF1c2VkID0gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiByZXN1bWVTYWxlKCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcGF1c2VkID0gZmFsc2U7CiAgICB9CgogICAgLy9DYWxsZWQgZnJvbSBvdXRzaWRlIHRvIGF1dG8gaGFuZGxlIEJUQyBhbmQgRklBVCBwdXJjaGFzZXMKICAgIGZ1bmN0aW9uIGZvcndhcmRUb2tlbnMoYWRkcmVzcyBfYmVuZWZpY2lhcnksIHVpbnQyNTYgdG90YWxUb2tlbnMpIG9ubHlPd25lciBvbmx5V2hpbGVPcGVuIHB1YmxpYyB7ICAgICAgICAKICAgICAgICBfcHJlVmFsaWRhdGVUb2tlblRyYW5zZmVyKF9iZW5lZmljaWFyeSwgdG90YWxUb2tlbnMpOwogICAgICAgIF9kZWxpdmVyVG9rZW5zKF9iZW5lZmljaWFyeSwgdG90YWxUb2tlbnMpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoYW5nZU93bmVyKGFkZHJlc3MgX25ld093bmVyKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKF9uZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgICAgICBvd25lciA9IF9uZXdPd25lcjsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VWYXVsdFdhbGxldChhZGRyZXNzIF9uZXdWYXVsdFdhbGxldCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfbmV3VmF1bHRXYWxsZXQgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgdmF1bHRXYWxsZXQgPSBfbmV3VmF1bHRXYWxsZXQ7CiAgICB9CgogICAgLy9DYWxsZWQgYWZ0ZXIgdGhlIHNhbGUgZW5kcyB0byB3aXRoZHJhdyByZW1haW5pbmcgdW5zb2xkIHRva2VucwogICAgZnVuY3Rpb24gd2l0aGRyYXdVbnNvbGRUb2tlbnMoKSBvbmx5T3duZXIgcHVibGljIHsgICAgCiAgICAgICAgdWludDI1NiB1bnNvbGQgPSB0b2tlbi5iYWxhbmNlT2YodGhpcyk7CiAgICAgICAgdG9rZW4udHJhbnNmZXIob3duZXIsIHVuc29sZCk7CiAgICB9CgogICAgZnVuY3Rpb24gdGVybWluYXRlKCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgc2VsZmRlc3RydWN0KG93bmVyKTsKICAgIH0KCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gSW50ZXJuYWwgaW50ZXJmYWNlIChleHRlbnNpYmxlKQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAvKioKICAgICogQGRldiBWYWxpZGF0aW9uIG9mIGFuIGluY29taW5nIHB1cmNoYXNlLgogICAgKiBAcGFyYW0gX2JlbmVmaWNpYXJ5IEFkZHJlc3MgcGVyZm9ybWluZyB0aGUgdG9rZW4gcHVyY2hhc2UKICAgICogQHBhcmFtIF93ZWlBbW91bnQgVmFsdWUgaW4gd2VpIGludm9sdmVkIGluIHRoZSBwdXJjaGFzZQogICAgKi8KICAgIGZ1bmN0aW9uIF9wcmVWYWxpZGF0ZVB1cmNoYXNlKGFkZHJlc3MgX2JlbmVmaWNpYXJ5LCB1aW50MjU2IF93ZWlBbW91bnQpIGludGVybmFsIHZpZXcgewogICAgICAgIHJlcXVpcmUoaGFzQ2xvc2VkKCkgPT0gZmFsc2UpOwogICAgICAgIHJlcXVpcmUocGF1c2VkID09IGZhbHNlKTsKICAgICAgICByZXF1aXJlKF9iZW5lZmljaWFyeSAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF93ZWlBbW91bnQgPj0gbWluaW11bVdlaSk7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgVmFsaWRhdGlvbiBvZiBhIHRva2VuIHRyYW5zZmVyLCB1c2VkIHdpdGggQlRDIHB1cmNoYXNlLgogICAgKiBAcGFyYW0gX2JlbmVmaWNpYXJ5IEFkZHJlc3MgcGVyZm9ybWluZyB0aGUgdG9rZW4gcHVyY2hhc2UKICAgICogQHBhcmFtIF90b2tlbkFtb3VudCBOdW1iZXIgdG8gdG9rZW5zIHRvIHRyYW5zZmVyCiAgICAqLwogICAgZnVuY3Rpb24gX3ByZVZhbGlkYXRlVG9rZW5UcmFuc2ZlcihhZGRyZXNzIF9iZW5lZmljaWFyeSwgdWludDI1NiBfdG9rZW5BbW91bnQpIGludGVybmFsIHZpZXcgewogICAgICAgIHJlcXVpcmUoaGFzQ2xvc2VkKCkgPT0gZmFsc2UpOwogICAgICAgIHJlcXVpcmUocGF1c2VkID09IGZhbHNlKTsKICAgICAgICByZXF1aXJlKF9iZW5lZmljaWFyeSAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF90b2tlbkFtb3VudCA+IDApOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IFNvdXJjZSBvZiB0b2tlbnMuIE92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIG1vZGlmeSB0aGUgd2F5IGluIHdoaWNoIHRoZSBjcm93ZHNhbGUgdWx0aW1hdGVseSBnZXRzIGFuZCBzZW5kcyBpdHMgdG9rZW5zLgogICAgKiBAcGFyYW0gX2JlbmVmaWNpYXJ5IEFkZHJlc3MgcGVyZm9ybWluZyB0aGUgdG9rZW4gcHVyY2hhc2UKICAgICogQHBhcmFtIF90b2tlbkFtb3VudCBOdW1iZXIgb2YgdG9rZW5zIHRvIGJlIGVtaXR0ZWQKICAgICovCiAgICBmdW5jdGlvbiBfZGVsaXZlclRva2VucyhhZGRyZXNzIF9iZW5lZmljaWFyeSwgdWludDI1NiBfdG9rZW5BbW91bnQpIHByaXZhdGUgewogICAgICAgIHRva2VuLnRyYW5zZmVyKF9iZW5lZmljaWFyeSwgX3Rva2VuQW1vdW50KTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBFeGVjdXRlZCB3aGVuIGEgcHVyY2hhc2UgaGFzIGJlZW4gdmFsaWRhdGVkIGFuZCBpcyByZWFkeSB0byBiZSBleGVjdXRlZC4gTm90IG5lY2Vzc2FyaWx5IGVtaXRzL3NlbmRzIHRva2Vucy4KICAgICogQHBhcmFtIF9iZW5lZmljaWFyeSBBZGRyZXNzIHJlY2VpdmluZyB0aGUgdG9rZW5zCiAgICAqIEBwYXJhbSBfdG9rZW5BbW91bnQgTnVtYmVyIG9mIHRva2VucyB0byBiZSBwdXJjaGFzZWQKICAgICovCiAgICBmdW5jdGlvbiBfcHJvY2Vzc1B1cmNoYXNlKGFkZHJlc3MgX2JlbmVmaWNpYXJ5LCB1aW50MjU2IF90b2tlbkFtb3VudCkgcHJpdmF0ZSB7CiAgICAgICAgX2RlbGl2ZXJUb2tlbnMoX2JlbmVmaWNpYXJ5LCBfdG9rZW5BbW91bnQpOwogICAgfQogIAoKICAgIC8qKgogICAgKiBAZGV2IE92ZXJyaWRlIHRvIGV4dGVuZCB0aGUgd2F5IGluIHdoaWNoIGV0aGVyIGlzIGNvbnZlcnRlZCB0byB0b2tlbnMuCiAgICAqIEBwYXJhbSBfd2VpQW1vdW50IFZhbHVlIGluIHdlaSB0byBiZSBjb252ZXJ0ZWQgaW50byB0b2tlbnMKICAgICogQHJldHVybiBOdW1iZXIgb2YgdG9rZW5zIHRoYXQgY2FuIGJlIHB1cmNoYXNlZCB3aXRoIHRoZSBzcGVjaWZpZWQgX3dlaUFtb3VudAogICAgKi8KICAgIGZ1bmN0aW9uIF9nZXRUb2tlbkFtb3VudCh1aW50MjU2IF93ZWlBbW91bnQpIHByaXZhdGUgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIF93ZWlBbW91bnQubXVsKGhpdmVQZXJFdGhlcik7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgRGV0ZXJtaW5lcyBob3cgRVRIIGlzIHN0b3JlZC9mb3J3YXJkZWQgb24gcHVyY2hhc2VzLgogICAgKi8KICAgIGZ1bmN0aW9uIF9mb3J3YXJkRnVuZHMoKSBwcml2YXRlIHsKICAgICAgICB2YXVsdFdhbGxldC50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIF92ZXJpZnlBdmFpbGFiaWxpdHkodWludDI1NiBfcmVxdWVzdGVkQW1vdW50KSBwcml2YXRlIHZpZXcgewogICAgICAgIHVpbnQyNTYgcmVtYWluaW5nID0gdG9rZW4uYmFsYW5jZU9mKHRoaXMpOwogICAgICAgIHJlcXVpcmUocmVtYWluaW5nID49IF9yZXF1ZXN0ZWRBbW91bnQpOwogICAgfQp9'.
	

]
