Class {
	#name : #SRT967081d634f01003b2c5b3d8ea5aa2c55000722e,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT967081d634f01003b2c5b3d8ea5aa2c55000722e >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9Cgpjb250cmFjdCBFUkMyMCB7CiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKXB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgdG90YWxfU3VwcGx5KTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcilwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKXB1YmxpYyByZXR1cm5zIChib29sIG9rKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSlwdWJsaWMgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSlwdWJsaWMgcmV0dXJucyAoYm9vbCBvayk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB2YWx1ZSk7Cn0KCgpjb250cmFjdCBaRVJPQ29pbiBpcyBFUkMyMAp7IHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogICAgLy8gTmFtZSBvZiB0aGUgdG9rZW4KICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJaRVJPQ29pbiI7CgogICAgLy8gU3ltYm9sIG9mIHRva2VuCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJaRVJPIjsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwogICAgdWludCBwdWJsaWMgX3RvdGFsc3VwcGx5ID0gMTI5NTAwMDAwMCAqIDEwICoqIDE4OyAvLyAxLjI5NSBiaWxsaW9uIHRvdGFsIHN1cHBseSAvLyBtdWxpcGxpZXMgZHVlcyB0byBkZWNpbWFsIHByZWNpc2lvbgogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7ICAgICAgICAgICAgICAgICAgICAvLyBPd25lciBvZiB0aGlzIGNvbnRyYWN0CiAgICB1aW50MjU2IHB1YmxpYyBfcHJpY2VfdG9rbl9QUkUgPSAzODAwMDsgIC8vIDEgRXRoZXIgPSAzODAwMCBjb2lucwogICAgdWludDI1NiBwdWJsaWMgX3ByaWNlX3Rva25fSUNPPSAyNDAwMDsgICAvLyAxIEV0aGVyID0gMjQwMDAgY29pbnMKICAgIHVpbnQyNTYgbm9fb2ZfdG9rZW5zOwogICAgdWludDI1NiBib251c190b2tlbjsKICAgIHVpbnQyNTYgdG90YWxfdG9rZW47CiAgICBib29sIHN0b3BwZWQgPSBmYWxzZTsKICAgIHVpbnQyNTYgcHVibGljIHByZV9zdGFydGRhdGU7CiAgICB1aW50MjU2IHB1YmxpYyBpY28xX3N0YXJ0ZGF0ZTsKICAgIHVpbnQyNTYgaWNvX2ZpcnN0OwogICAgdWludDI1NiBpY29fc2Vjb25kOwogICAgdWludDI1NiBpY29fdGhpcmQ7CiAgICB1aW50MjU2IGljb19mb3VydGg7CiAgICB1aW50MjU2IHByZV9lbmRkYXRlOwogIAogICAgdWludDI1NiBwdWJsaWMgZXRoX3JlY2VpdmVkOyAvLyB0b3RhbCBldGhlciByZWNlaXZlZCBpbiB0aGUgY29udHJhY3QKICAgIHVpbnQyNTYgbWF4Q2FwX3B1YmxpYyA9IDc3NzAwMDAwMCAqIDEwICoqMTg7ICAvLyAgNzc3IG1pbGxpb24gaW4gUHVibGljIFNhbGUKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBiYWxhbmNlczsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkpIGFsbG93ZWQ7CgogICAgCiAgICAgZW51bSBTdGFnZXMgewogICAgICAgIE5PVFNUQVJURUQsCiAgICAgICAgUFJFSUNPLAogICAgICAgIElDTywKICAgICAgICBQQVVTRUQsCiAgICAgICAgRU5ERUQKICAgIH0KICAgIFN0YWdlcyBwdWJsaWMgc3RhZ2U7CiAgICAKICAgIG1vZGlmaWVyIGF0U3RhZ2UoU3RhZ2VzIF9zdGFnZSkgewogICAgICAgIGlmIChzdGFnZSAhPSBfc3RhZ2UpCiAgICAgICAgICAgIC8vIENvbnRyYWN0IG5vdCBpbiBleHBlY3RlZCBzdGF0ZQogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB7CiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIH0KICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIFpFUk9Db2luKCkgcHVibGljCiAgICB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIGJhbGFuY2VzW293bmVyXSA9IDUxODAwMDAwMCAqIDEwICoqMTg7IC8vIDUxOCBtaWxsaW9uIHRvIG93bmVyCiAgICAgICAgc3RhZ2UgPSBTdGFnZXMuTk9UU1RBUlRFRDsKICAgICAgICBUcmFuc2ZlcigwLCBvd25lciwgYmFsYW5jZXNbb3duZXJdKTsKICAgIH0KICAKICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIAogICAgewogICAgICAgIHJlcXVpcmUoc3RhZ2UgIT0gU3RhZ2VzLkVOREVEKTsKICAgICAgICByZXF1aXJlKCFzdG9wcGVkICYmIG1zZy5zZW5kZXIgIT0gb3duZXIpOwogICAgICAgICAgICBpZiggc3RhZ2UgPT0gU3RhZ2VzLlBSRUlDTyAmJiBub3cgPD0gcHJlX2VuZGRhdGUgKQogICAgICAgICAgICB7IAogICAgICAgICAgICAgICAgcmVxdWlyZSAoZXRoX3JlY2VpdmVkIDw9IDE1MDAgZXRoZXIpOwogICAgICAgICAgICAgIGV0aF9yZWNlaXZlZCA9IChldGhfcmVjZWl2ZWQpLmFkZChtc2cudmFsdWUpOwogICAgICAgICAgICAgICAgbm9fb2ZfdG9rZW5zID0oKG1zZy52YWx1ZSkubXVsKF9wcmljZV90b2tuX1BSRSkpOwogICAgICAgICAgICAgICAgYm9udXNfdG9rZW4gPSAoKG5vX29mX3Rva2VucykubXVsKDU4KSkuZGl2KDEwMCk7IC8vIDU4IHBlcmNlbnQgYm9udXMgdG9rZW4KICAgICAgICAgICAgICAgIHRvdGFsX3Rva2VuID0gbm9fb2ZfdG9rZW5zICsgYm9udXNfdG9rZW47CiAgICAgICAgICAgICAgICB0cmFuc2ZlclRva2Vucyhtc2cuc2VuZGVyLHRvdGFsX3Rva2VuKTsKICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAKICAgICAgICAgICAgIGVsc2UgaWYoc3RhZ2UgPT0gU3RhZ2VzLklDTyAmJiBub3cgPD0gaWNvX2ZvdXJ0aCApewogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYoIG5vdyA8IGljb19maXJzdCApCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBub19vZl90b2tlbnMgPShtc2cudmFsdWUpLm11bChfcHJpY2VfdG9rbl9JQ08pOwogICAgICAgICAgICAgICAgYm9udXNfdG9rZW4gPSAoKG5vX29mX3Rva2VucykubXVsKDE1KSkuZGl2KDEwMCk7IC8vIDE1JSBib251cwogICAgICAgICAgICAgICAgdG90YWxfdG9rZW4gPSBub19vZl90b2tlbnMgKyBib251c190b2tlbjsKICAgICAgICAgICAgICAgIHRyYW5zZmVyVG9rZW5zKG1zZy5zZW5kZXIsdG90YWxfdG9rZW4pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfSAgIAogICAgICAgICAgICAKICAgICAgICAgICAgICBlbHNlIGlmKG5vdyA+PSBpY29fZmlyc3QgJiYgbm93IDwgaWNvX3NlY29uZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgbm9fb2ZfdG9rZW5zID0obXNnLnZhbHVlKS5tdWwoX3ByaWNlX3Rva25fSUNPKTsKICAgICAgICAgICAgICAgIGJvbnVzX3Rva2VuID0gKChub19vZl90b2tlbnMpLm11bCgxMCkpLmRpdigxMDApOyAvLyAxMCUgYm9udXMKICAgICAgICAgICAgICAgIHRvdGFsX3Rva2VuID0gbm9fb2ZfdG9rZW5zICsgYm9udXNfdG9rZW47CiAgICAgICAgICAgICAgICB0cmFuc2ZlclRva2Vucyhtc2cuc2VuZGVyLHRvdGFsX3Rva2VuKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICAgICAgIGVsc2UgaWYobm93ID49IGljb19zZWNvbmQgJiYgbm93IDwgaWNvX3RoaXJkKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgIG5vX29mX3Rva2VucyA9KG1zZy52YWx1ZSkubXVsKF9wcmljZV90b2tuX0lDTyk7CiAgICAgICAgICAgICAgICBib251c190b2tlbiA9ICgobm9fb2ZfdG9rZW5zKS5tdWwoNSkpLmRpdigxMDApOyAvLyA1JSBib251cwogICAgICAgICAgICAgICAgdG90YWxfdG9rZW4gPSBub19vZl90b2tlbnMgKyBib251c190b2tlbjsKICAgICAgICAgICAgICAgIHRyYW5zZmVyVG9rZW5zKG1zZy5zZW5kZXIsdG90YWxfdG9rZW4pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgIGVsc2UgaWYobm93ID49IGljb190aGlyZCAmJiBub3cgPCBpY29fZm91cnRoKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgbm9fb2ZfdG9rZW5zID0obXNnLnZhbHVlKS5tdWwoX3ByaWNlX3Rva25fSUNPKTsgICAgICAvLyAwJSBCb251cwogICAgICAgICAgICAgICAgdG90YWxfdG9rZW4gPSBub19vZl90b2tlbnM7CiAgICAgICAgICAgICAgICB0cmFuc2ZlclRva2Vucyhtc2cuc2VuZGVyLHRvdGFsX3Rva2VuKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICB9CiAgICAKICAgIH0KICAgICBmdW5jdGlvbiBzdGFydF9QUkVJQ08oKSBwdWJsaWMgb25seU93bmVyIGF0U3RhZ2UoU3RhZ2VzLk5PVFNUQVJURUQpCiAgICAgIHsKICAgICAgICAgIHN0YWdlID0gU3RhZ2VzLlBSRUlDTzsKICAgICAgICAgIHN0b3BwZWQgPSBmYWxzZTsKICAgICAgICAgICBiYWxhbmNlc1thZGRyZXNzKHRoaXMpXSA9ICBtYXhDYXBfcHVibGljOwogICAgICAgICAgcHJlX3N0YXJ0ZGF0ZSA9IG5vdzsKICAgICAgICAgIHByZV9lbmRkYXRlID0gbm93ICsgMTYgZGF5czsKICAgICAgICAgIFRyYW5zZmVyKDAsIGFkZHJlc3ModGhpcyksIGJhbGFuY2VzW2FkZHJlc3ModGhpcyldKTsKICAgICAgICAgIH0KICAgICAgCiAgICAgIGZ1bmN0aW9uIHN0YXJ0X0lDTygpIHB1YmxpYyBvbmx5T3duZXIgYXRTdGFnZShTdGFnZXMuUFJFSUNPKQogICAgICB7CiAgICAgICAgICByZXF1aXJlKG5vdyA+IHByZV9lbmRkYXRlIHx8IGV0aF9yZWNlaXZlZCA+PSAxNTAwIGV0aGVyKTsKICAgICAgICAgIHN0YWdlID0gU3RhZ2VzLklDTzsKICAgICAgICAgIHN0b3BwZWQgPSBmYWxzZTsKICAgICAgICAgIGljbzFfc3RhcnRkYXRlID0gbm93OwogICAgICAgICAgIGljb19maXJzdCA9IG5vdyArIDE1IGRheXM7CiAgICAgICAgICBpY29fc2Vjb25kID0gaWNvX2ZpcnN0ICsgMTUgZGF5czsKICAgICAgICAgIGljb190aGlyZCA9IGljb19zZWNvbmQgKyAxNSBkYXlzOwogICAgICAgICAgaWNvX2ZvdXJ0aCA9IGljb190aGlyZCArIDE1IGRheXM7CiAgICAgICAgICBUcmFuc2ZlcigwLCBhZGRyZXNzKHRoaXMpLCBiYWxhbmNlc1thZGRyZXNzKHRoaXMpXSk7CiAgICAgIH0KICAgIAogICAgLy8gY2FsbGVkIGJ5IHRoZSBvd25lciwgcGF1c2UgSUNPCiAgICBmdW5jdGlvbiBQYXVzZUlDTygpIGV4dGVybmFsIG9ubHlPd25lcgogICAgewogICAgICAgIHN0b3BwZWQgPSB0cnVlOwogICAgICAgfQoKICAgIC8vIGNhbGxlZCBieSB0aGUgb3duZXIgLCByZXN1bWVzIElDTwogICAgZnVuY3Rpb24gUmVzdW1lSUNPKCkgZXh0ZXJuYWwgb25seU93bmVyCiAgICB7CiAgICAgICAgc3RvcHBlZCA9IGZhbHNlOwogICAgICB9CiAgIAogICAgIAogICAgIAogICAgIGZ1bmN0aW9uIGVuZF9JQ08oKSBleHRlcm5hbCBvbmx5T3duZXIgYXRTdGFnZShTdGFnZXMuSUNPKQogICAgIHsKICAgICAgICAgcmVxdWlyZShub3cgPiBpY29fZm91cnRoKTsKICAgICAgICAgc3RhZ2UgPSBTdGFnZXMuRU5ERUQ7CiAgICAgICAgIF90b3RhbHN1cHBseSA9IChfdG90YWxzdXBwbHkpLnN1YihiYWxhbmNlc1thZGRyZXNzKHRoaXMpXSk7CiAgICAgICAgIGJhbGFuY2VzW2FkZHJlc3ModGhpcyldID0gMDsKICAgICAgICAgVHJhbnNmZXIoYWRkcmVzcyh0aGlzKSwgMCAsIGJhbGFuY2VzW2FkZHJlc3ModGhpcyldKTsKICAgICAgICAgCiAgICAgfQoKICAgIC8vIHdoYXQgaXMgdGhlIHRvdGFsIHN1cHBseSBvZiB0aGUgZWNoIHRva2VucwogICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiB0b3RhbF9TdXBwbHkpIHsKICAgICAgICAgdG90YWxfU3VwcGx5ID0gX3RvdGFsc3VwcGx5OwogICAgIH0KICAgIAogICAgLy8gV2hhdCBpcyB0aGUgYmFsYW5jZSBvZiBhIHBhcnRpY3VsYXIgYWNjb3VudD8KICAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgIH0KICAgIAogICAgLy8gU2VuZCBfdmFsdWUgYW1vdW50IG9mIHRva2VucyBmcm9tIGFkZHJlc3MgX2Zyb20gdG8gYWRkcmVzcyBfdG8KICAgICAvLyBUaGUgdHJhbnNmZXJGcm9tIG1ldGhvZCBpcyB1c2VkIGZvciBhIHdpdGhkcmF3IHdvcmtmbG93LCBhbGxvd2luZyBjb250cmFjdHMgdG8gc2VuZAogICAgIC8vIHRva2VucyBvbiB5b3VyIGJlaGFsZiwgZm9yIGV4YW1wbGUgdG8gImRlcG9zaXQiIHRvIGEgY29udHJhY3QgYWRkcmVzcyBhbmQvb3IgdG8gY2hhcmdlCiAgICAgLy8gZmVlcyBpbiBzdWItY3VycmVuY2llczsgdGhlIGNvbW1hbmQgc2hvdWxkIGZhaWwgdW5sZXNzIHRoZSBfZnJvbSBhY2NvdW50IGhhcwogICAgIC8vIGRlbGliZXJhdGVseSBhdXRob3JpemVkIHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UgdmlhIHNvbWUgbWVjaGFuaXNtOyB3ZSBwcm9wb3NlCiAgICAgLy8gdGhlc2Ugc3RhbmRhcmRpemVkIEFQSXMgZm9yIGFwcHJvdmFsOgogICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbSggYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCApcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgIHJlcXVpcmUoIF90byAhPSAweDApOwogICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF9hbW91bnQgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCAmJiBfYW1vdW50ID49IDApOwogICAgIGJhbGFuY2VzW19mcm9tXSA9IChiYWxhbmNlc1tfZnJvbV0pLnN1YihfYW1vdW50KTsKICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IChhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSkuc3ViKF9hbW91bnQpOwogICAgIGJhbGFuY2VzW190b10gPSAoYmFsYW5jZXNbX3RvXSkuYWRkKF9hbW91bnQpOwogICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF9hbW91bnQpOwogICAgIHJldHVybiB0cnVlOwogICAgICAgICB9CiAgICAKICAgLy8gQWxsb3cgX3NwZW5kZXIgdG8gd2l0aGRyYXcgZnJvbSB5b3VyIGFjY291bnQsIG11bHRpcGxlIHRpbWVzLCB1cCB0byB0aGUgX3ZhbHVlIGFtb3VudC4KICAgICAvLyBJZiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBhZ2FpbiBpdCBvdmVyd3JpdGVzIHRoZSBjdXJyZW50IGFsbG93YW5jZSB3aXRoIF92YWx1ZS4KICAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudClwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgIHJlcXVpcmUoIF9zcGVuZGVyICE9IDB4MCk7CiAgICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX2Ftb3VudDsKICAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9hbW91bnQpOwogICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICB9CiAgCiAgICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKXB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICAgIHJlcXVpcmUoIF9vd25lciAhPSAweDAgJiYgX3NwZW5kZXIgIT0weDApOwogICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgfQoKICAgICAvLyBUcmFuc2ZlciB0aGUgYmFsYW5jZSBmcm9tIG93bmVyJ3MgYWNjb3VudCB0byBhbm90aGVyIGFjY291bnQKICAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KXB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKCBfdG8gIT0gMHgwKTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF9hbW91bnQgJiYgX2Ftb3VudCA+PSAwKTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IChiYWxhbmNlc1ttc2cuc2VuZGVyXSkuc3ViKF9hbW91bnQpOwogICAgICAgIGJhbGFuY2VzW190b10gPSAoYmFsYW5jZXNbX3RvXSkuYWRkKF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7CiAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgfQogICAgCiAgICAgICAgICAvLyBUcmFuc2ZlciB0aGUgYmFsYW5jZSBmcm9tIG93bmVyJ3MgYWNjb3VudCB0byBhbm90aGVyIGFjY291bnQKICAgIGZ1bmN0aW9uIHRyYW5zZmVyVG9rZW5zKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHByaXZhdGUgcmV0dXJucyhib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKCBfdG8gIT0gMHgwKTsgICAgICAgCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1thZGRyZXNzKHRoaXMpXSA+PSBfYW1vdW50ICYmIF9hbW91bnQgPiAwKTsKICAgICAgICBiYWxhbmNlc1thZGRyZXNzKHRoaXMpXSA9IChiYWxhbmNlc1thZGRyZXNzKHRoaXMpXSkuc3ViKF9hbW91bnQpOwogICAgICAgIGJhbGFuY2VzW190b10gPSAoYmFsYW5jZXNbX3RvXSkuYWRkKF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKGFkZHJlc3ModGhpcyksIF90bywgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogCiAgICAKICAgIGZ1bmN0aW9uIGRyYWluKCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICBvd25lci50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgfQogICAgCn0='.
	

]
