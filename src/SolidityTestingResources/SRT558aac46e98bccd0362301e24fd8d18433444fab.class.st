Class {
	#name : #SRT558aac46e98bccd0362301e24fd8d18433444fab,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT558aac46e98bccd0362301e24fd8d18433444fab >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7Cgpjb250cmFjdCBXb2xrZXIgewogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBhbGxvY2F0aW9uczsKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpKSBhdXRob3JpemVkOyAvL3RydXN0ZWUKCiAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwKSB7CiAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2FmZVN1YihiYWxhbmNlc1ttc2cuc2VuZGVyXSwgX3ZhbHVlKTsKICAgICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZXNbX3RvXSwgX3ZhbHVlKTsKICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUsIGJhbGFuY2VzW21zZy5zZW5kZXJdLCBiYWxhbmNlc1tfdG9dKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgewogICAgICB0aHJvdzsKICAgIH0KICB9CiAgCiAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CiAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCkgewogICAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLCBfdmFsdWUpOwogICAgICBiYWxhbmNlc1tfZnJvbV0gPSBzYWZlU3ViKGJhbGFuY2VzW19mcm9tXSwgX3ZhbHVlKTsKICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBzYWZlU3ViKF9hbGxvd2FuY2UsIF92YWx1ZSk7CiAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSwgYmFsYW5jZXNbX2Zyb21dLCBiYWxhbmNlc1tfdG9dKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgewogICAgICB0aHJvdzsKICAgIH0KICB9CiAKICAvLy8gQHJldHVybiB0b3RhbCBhbW91bnQgb2YgdG9rZW5zCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGdlbmVyYWxUb2tlbnMgKyByZXNlcnZlZFRva2VuczsKICB9CiAKICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgLy8vIEByZXR1cm4gVGhlIGJhbGFuY2UKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKCiAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIFdvbGsgdG9rZW4gdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKCiAgLy8vIEBwYXJhbSBfdHJ1c3RlZSBHcmFudCB0cnVzdGVlIHBlcm1pc3Npb24gdG8gc2V0dGxlIG1lZGlhIHNwZW5kCiAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgYXV0aG9yaXphdGlvbiB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICBmdW5jdGlvbiBhdXRob3JpemUoYWRkcmVzcyBfdHJ1c3RlZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBhdXRob3JpemVkW21zZy5zZW5kZXJdW190cnVzdGVlXSA9IHRydWU7CiAgICBBdXRob3JpemF0aW9uKG1zZy5zZW5kZXIsIF90cnVzdGVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8vIEBwYXJhbSBfdHJ1c3RlZV90b19yZW1vdmUgUmV2b2tlIHRydXN0ZWUncyBwZXJtaXNzaW9uIG9uIHNldHRsZSBtZWRpYSBzcGVuZCAKICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSBkZWF1dGhvcml6YXRpb24gd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgZnVuY3Rpb24gZGVhdXRob3JpemUoYWRkcmVzcyBfdHJ1c3RlZV90b19yZW1vdmUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgYXV0aG9yaXplZFttc2cuc2VuZGVyXVtfdHJ1c3RlZV90b19yZW1vdmVdID0gZmFsc2U7CiAgICBEZWF1dGhvcml6YXRpb24obXNnLnNlbmRlciwgX3RydXN0ZWVfdG9fcmVtb3ZlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8gQHBhcmFtIF9vd25lcgogIC8vIEBwYXJhbSBfdHJ1c3RlZQogIC8vIEByZXR1cm4gYXV0aG9yaXphdGlvbl9zdGF0dXMgZm9yIHBsYXRmb3JtIHNldHRsZW1lbnQgCiAgZnVuY3Rpb24gY2hlY2tfYXV0aG9yaXphdGlvbihhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfdHJ1c3RlZSkgY29uc3RhbnQgcmV0dXJucyAoYm9vbCBhdXRob3JpemF0aW9uX3N0YXR1cykgewogICAgcmV0dXJuIGF1dGhvcml6ZWRbX293bmVyXVtfdHJ1c3RlZV07CiAgfQoKICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zCiAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAvLy8gQHJldHVybiBBbW91bnQgb2YgcmVtYWluaW5nIHRva2VucyBhbGxvd2VkIHRvIHNwZW50CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKCiAgLy8qKioqIEVSQzIwIFRPSyBFdmVudHM6CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSwgdWludCBmcm9tX2ZpbmFsX3RvaywgdWludCB0b19maW5hbF90b2spOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwogIGV2ZW50IEF1dGhvcml6YXRpb24oYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF90cnVzdGVlKTsKICBldmVudCBEZWF1dGhvcml6YXRpb24oYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF90cnVzdGVlX3RvX3JlbW92ZSk7CgogIGV2ZW50IE5ld093bmVyKGFkZHJlc3MgX25ld093bmVyKTsKICBldmVudCBNaW50RXZlbnQodWludCByZXdhcmRfdG9rLCBhZGRyZXNzIHJlY2lwaWVudCk7CiAgZXZlbnQgTG9nUmVmdW5kKGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICBldmVudCBDcmVhdGVXb2xrKGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICBldmVudCBWZXN0ZWQoYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwoKICBtb2RpZmllciBvbmx5T3duZXIgewogICAgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIGlzT3BlcmF0aW9uYWwoKSB7CiAgICBhc3NlcnQoaXNGaW5hbGl6ZWQpOwogICAgXzsKICB9CgoKICAvLyoqKiogRVJDMjAgVE9LIGZpZWxkczoKICBzdHJpbmcgIHB1YmxpYyBjb25zdGFudCBuYW1lID0gJ1dvbGsnOwogIHN0cmluZyAgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJXT0xLIjsKICBzdHJpbmcgIHB1YmxpYyBjb25zdGFudCB2ZXJzaW9uID0gIjAuMiI7CiAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCB3b2xrRnVuZCAgPSAgMTAgKiAxMCoqMSAqIDEwKipkZWNpbWFsczsgICAgICAgIC8vICAxMDAgV29sayBpbiBvcGVyYXRpb24gRnVuZAogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHRva2VuQ3JlYXRpb25NaW4gPSAgMjAgKiAxMCoqMSAqIDEwKipkZWNpbWFsczsgLy8gIDIwMCBXb2xrIE1pbgogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHRva2VuQ3JlYXRpb25NYXggPSAxMDAgKiAxMCoqMSAqIDEwKipkZWNpbWFsczsgLy8gMTAwMCBXb2xrIE1heAogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHRva2VuRXhjaGFuZ2VSYXRlID0gMTAwMDA7ICAgLy8gMTAwMDAgV29sayBwZXIgMSBFVEgKICB1aW50MjU2IHB1YmxpYyBnZW5lcmFsVG9rZW5zID0gd29sa0Z1bmQ7IC8vIHRva2VucyBpbiBjaXJjdWxhdGlvbgogIHVpbnQyNTYgcHVibGljIHJlc2VydmVkVG9rZW5zOyAKCiAgLy9hZGRyZXNzIHB1YmxpYyBvd25lciA9IG1zZy5zZW5kZXI7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXIgPSAweEMyOGRBNGQ0Mjg2Njc1OGQwRmM0OWE1QTM5NDhBMWY0M2RlNDkxZTk7IC8vIG1pY2hhZWwgLSBtYWluCiAgYWRkcmVzcyBwdWJsaWMgbXVsdGlzaWdfb3duZXIgPSAweDY5NjhhOWI5MDI0NWNCOWJEMjUwNkI5NDYwZTNEMTNFRDRCMkZEMWU7IC8vIG5ldyBtdWx0aS1zaWcKCiAgYm9vbCBwdWJsaWMgaXNGaW5hbGl6ZWQgPSBmYWxzZTsgICAgICAgICAgLy8gYWZ0ZXIgdG9rZW4gc2FsZSBzdWNjZXNzLCB0aGlzIGlzIHRydWUKICB1aW50IHB1YmxpYyBjb25zdGFudCBkdXN0ID0gMTAwMDAwMCB3ZWk7IAogIGJvb2wgcHVibGljIGZhaXJzYWxlX3Byb3RlY3Rpb24gPSB0cnVlOwoKICAKICAgICAvLyBBY3R1YWwgY3Jvd2RzYWxlCiAgdWludDI1NiBwdWJsaWMgc3RhcnRfYmxvY2s7ICAgICAgICAgICAgICAgIC8vIFN0YXJ0aW5nIGJsb2NrCiAgdWludDI1NiBwdWJsaWMgZW5kX2Jsb2NrOyAgICAgICAgICAgICAgICAgIC8vIEVuZGluZyBibG9jawogIHVpbnQyNTYgcHVibGljIHVubG9ja2VkQXQ7ICAgICAgICAgICAgICAgICAvLyBVbmxvY2tpbmcgYmxvY2sgCiAKICB1aW50MjU2IHB1YmxpYyBlbmRfdHM7ICAgICAgICAgICAgICAgICAgICAgLy8gVW5peCBFbmQgdGltZQoKCiAgLy8gbWludGluZyBzdXBwb3J0CiAgLy91aW50IHB1YmxpYyBtYXhfY3JlYXRpb25fcmF0ZV9wZXJfc2Vjb25kOyAvLyBNYXhpbXVtIHRva2VuIGNyZWF0aW9uIHJhdGUgcGVyIHNlY29uZAogIC8vYWRkcmVzcyBwdWJsaWMgbWludGVyX2FkZHJlc3M7ICAgICAgICAgICAgLy8gSGFzIHBlcm1pc3Npb24gdG8gbWludAoKICAvLyBtaWdyYXRpb24gc3VwcG9ydAogIC8vYWRkcmVzcyBtaWdyYXRpb25NYXN0ZXI7CgoKICAvLyoqKiogQ29uc3RydWN0b3I6CiAgZnVuY3Rpb24gV29saygpIAogIHsKCiAgICAvLyBBY3R1YWwgY3Jvd2RzYWxlCiAgICBzdGFydF9ibG9jayA9IDM4MzEzMDA7CiAgICBlbmRfYmxvY2sgPSAzODMxOTAwOwoKICAgIC8vIHdvbGtGdW5kIGlzIDEwMAogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSB3b2xrRnVuZDsKCiAgICAvLyBXb2xrIEluYyBoYXMgMjVNTSBXb2xrLCA1TU0gb2Ygd2hpY2ggaXMgYWxsb2NhdGVkIGZvciBXb2xrIEluYyBGb3VuZGluZyBzdGFmZiwgd2hvIHZlc3QgYXQgInVubG9ja2VkQXQiIHRpbWUKICAgIHJlc2VydmVkVG9rZW5zID0gMjUgKiAxMCoqZGVjaW1hbHM7CiAgICBhbGxvY2F0aW9uc1sweDU2NGEzZjdkOThFYjVCMTc5MTEzMkY4ODc1ZmVmNTgyZDUyOGQ1Q2ZdID0gMjA7IC8vIHVuYXNzaWduZWQKICAgIGFsbG9jYXRpb25zWzB4N2Y1MTJDQ0ZFRjA1RjY1MUE3MEZhMzIyQ2UyN0Y0YWQ3OWI3NGZmZV0gPSAxOyAgLy8gU291cmFiaAogICAgYWxsb2NhdGlvbnNbMHg5RDIwM0EzNmNkNjFiMjFCN0M4YzdEYTFkOGVlQjEzZjA0YmIyNEQ5XSA9IDI7ICAvLyBNaWNoYWVsIC0gVGVzdAogICAgYWxsb2NhdGlvbnNbMHg1ZmNmNzAwNjU0QjgwNjJCNzA5YTQxNTI3RkFmQ2RhMzY3ZGFFN2IxXSA9IDE7ICAvLyBNaWNoYWVsIC0gTWFpbgogICAgYWxsb2NhdGlvbnNbMHhDMjhkQTRkNDI4NjY3NThkMEZjNDlhNUEzOTQ4QTFmNDNkZTQ5MWU5XSA9IDE7ICAvLyBVcm1pCiAgICAKICAgIAogICAgQ3JlYXRlV29sayhtc2cuc2VuZGVyLCB3b2xrRnVuZCk7IAogIH0KCiAgLy8gKioqKioqIFZFU1RJTkcgU1VQUE9SVAogIC8vLyBAbm90aWNlIEFsbG93IGRldmVsb3BlciB0byB1bmxvY2sgYWxsb2NhdGVkIHRva2VucyBieSB0cmFuc2ZlcnJpbmcgdGhlbSB0byBkZXZlbG9wZXIncyBhZGRyZXNzIG9uIHZlc3Rpbmcgc2NoZWR1bGUgb2YgInZlc3RlZCAxMDAlIG9uIDEgeWVhcikKICBmdW5jdGlvbiB1bmxvY2soKSBleHRlcm5hbCB7CiAgICBpZiAobm93IDwgdW5sb2NrZWRBdCkgdGhyb3c7CiAgICB1aW50MjU2IHZlc3RlZCA9IGFsbG9jYXRpb25zW21zZy5zZW5kZXJdICogMTAqKmRlY2ltYWxzOwogICAgaWYgKHZlc3RlZCA8IDAgKSB0aHJvdzsgLy8gV2lsbCBmYWlsIGlmIGFsbG9jYXRpb24gKGFuZCB0aGVyZWZvcmUgdG9UcmFuc2ZlcikgaXMgMC4KICAgIGFsbG9jYXRpb25zW21zZy5zZW5kZXJdID0gMDsKICAgIHJlc2VydmVkVG9rZW5zID0gc2FmZVN1YihyZXNlcnZlZFRva2VucywgdmVzdGVkKTsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2FmZUFkZChiYWxhbmNlc1ttc2cuc2VuZGVyXSwgdmVzdGVkKTsgCiAgICBWZXN0ZWQobXNnLnNlbmRlciwgdmVzdGVkKTsKICB9CgogIC8vICoqKioqKiogQ1JPV0RTQUxFIFNVUFBPUlQKICAvLyBBY2NlcHRzIEVUSCBhbmQgY3JlYXRlcyBXT0xLCiAgZnVuY3Rpb24gY3JlYXRlVG9rZW5zKCkgcGF5YWJsZSBleHRlcm5hbCBpc19ub3RfZHVzdCB7CiAgICBpZiAoaXNGaW5hbGl6ZWQpIHRocm93OwogICAgaWYgKGJsb2NrLm51bWJlciA8IHN0YXJ0X2Jsb2NrKSB0aHJvdzsKICAgIGlmIChibG9jay5udW1iZXIgPiBlbmRfYmxvY2spIHRocm93OwogICAgaWYgKG1zZy52YWx1ZSA9PSAwKSB0aHJvdzsKICAgIGlmICh0eC5nYXNwcmljZSA+IDAuMDIxIHN6YWJvICYmIGZhaXJzYWxlX3Byb3RlY3Rpb24pIHRocm93OyAKICAgIGlmIChtc2cudmFsdWUgPiAwLjA0IGV0aGVyICYmIGZhaXJzYWxlX3Byb3RlY3Rpb24pIHRocm93OyAKCiAgICB1aW50MjU2IHRva2VucyA9IHNhZmVNdWwobXNnLnZhbHVlLCB0b2tlbkV4Y2hhbmdlUmF0ZSk7IC8vIGNoZWNrIHRoYXQgd2UncmUgbm90IG92ZXIgdG90YWxzCiAgICB1aW50MjU2IGNoZWNrZWRTdXBwbHkgPSBzYWZlQWRkKGdlbmVyYWxUb2tlbnMsIHRva2Vucyk7CiAgICBpZiAoIGNoZWNrZWRTdXBwbHkgPiB0b2tlbkNyZWF0aW9uTWF4KSB7IAogICAgICB0aHJvdzsgLy8gdGhleSBuZWVkIHRvIGdldCB0aGVpciBtb25leSBiYWNrIGlmIHNvbWV0aGluZyBnb2VzIHdyb25nCiAgICB9IGVsc2UgewogICAgICBnZW5lcmFsVG9rZW5zID0gY2hlY2tlZFN1cHBseTsKICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzYWZlQWRkKGJhbGFuY2VzW21zZy5zZW5kZXJdLCB0b2tlbnMpOyAgIC8vIHNhZmVBZGQgbm90IG5lZWRlZDsgYmFkIHNlbWFudGljcyB0byB1c2UgaGVyZQogICAgICBDcmVhdGVXb2xrKG1zZy5zZW5kZXIsIHRva2Vucyk7IC8vIGxvZ3MgdG9rZW4gY3JlYXRpb24KICAgIH0KICB9CiAgCiAgLy8gVGhlIHZhbHVlIG9mIHRoZSBtZXNzYWdlIG11c3QgYmUgc3VmZmljaWVudGx5IGxhcmdlIHRvIG5vdCBiZSBjb25zaWRlcmVkIGR1c3QuCiAgbW9kaWZpZXIgaXNfbm90X2R1c3QgeyBpZiAobXNnLnZhbHVlIDwgZHVzdCkgdGhyb3c7IF87IH0KCiAgLy8gRGlzYWJsaW5nIGZhaXJzYWxlIHByb3RlY3Rpb24gIAogIGZ1bmN0aW9uIGZhaXJzYWxlX3Byb3RlY3Rpb25PRkYoKSBleHRlcm5hbCB7CiAgICBpZiAoIGJsb2NrLm51bWJlciAtIHN0YXJ0X2Jsb2NrIDwgMjAwKSB0aHJvdzsgLy8gZmFpcnNhbGUgd2luZG93IGlzIHN0cmljdGx5IGVuZm9yY2VkCiAgICBpZiAoIG1zZy5zZW5kZXIgIT0gb3duZXIgKSB0aHJvdzsKICAgIGZhaXJzYWxlX3Byb3RlY3Rpb24gPSBmYWxzZTsKICB9CgogIC8vIEZpbmFsaXppbmcgdGhlIGNyb3dkc2FsZQogIGZ1bmN0aW9uIGZpbmFsaXplKCkgZXh0ZXJuYWwgewogICAgaWYgKCBpc0ZpbmFsaXplZCApIHRocm93OwogICAgaWYgKCBtc2cuc2VuZGVyICE9IG93bmVyICkgdGhyb3c7ICAvLyBsb2NrcyBmaW5hbGl6ZSB0byBFVEggb3duZXIKICAgIGlmICggZ2VuZXJhbFRva2VucyA8IHRva2VuQ3JlYXRpb25NaW4gKSB0aHJvdzsgLy8gaGF2ZSB0byBzZWxsIHRva2VuQ3JlYXRpb25NaW4gdG8gZmluYWxpemUKICAgIGlmICggYmxvY2subnVtYmVyIDwgZW5kX2Jsb2NrICkgdGhyb3c7ICAKICAgIGlzRmluYWxpemVkID0gdHJ1ZTsKICAgIGVuZF90cyA9IG5vdzsKICAgIHVubG9ja2VkQXQgPSBlbmRfdHMgKyAyIG1pbnV0ZXM7CiAgICBpZiAoICEgbXVsdGlzaWdfb3duZXIuc2VuZCh0aGlzLmJhbGFuY2UpICkgdGhyb3c7CiAgfQoKICBmdW5jdGlvbiByZWZ1bmQoKSBleHRlcm5hbCB7CiAgICBpZiAoIGlzRmluYWxpemVkICkgdGhyb3c7IAogICAgaWYgKCBibG9jay5udW1iZXIgPCBlbmRfYmxvY2sgKSB0aHJvdzsgICAKICAgIGlmICggZ2VuZXJhbFRva2VucyA+PSB0b2tlbkNyZWF0aW9uTWluICkgdGhyb3c7ICAKICAgIGlmICggbXNnLnNlbmRlciA9PSBvd25lciApIHRocm93OwogICAgdWludDI1NiBWYWwgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXTsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gMDsKICAgIGdlbmVyYWxUb2tlbnMgPSBzYWZlU3ViKGdlbmVyYWxUb2tlbnMsIFZhbCk7CiAgICB1aW50MjU2IGV0aFZhbCA9IHNhZmVEaXYoVmFsLCB0b2tlbkV4Y2hhbmdlUmF0ZSk7CiAgICBMb2dSZWZ1bmQobXNnLnNlbmRlciwgZXRoVmFsKTsKICAgIGlmICggISBtc2cuc2VuZGVyLnNlbmQoZXRoVmFsKSApIHRocm93OwogIH0KICAgIAogIC8vICoqKioqKiBQbGF0Zm9ybSBTZXR0bGVtZW50CiAgZnVuY3Rpb24gc2V0dGxlRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGlzT3BlcmF0aW9uYWwoKSBleHRlcm5hbCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGlmICggbXNnLnNlbmRlciAhPSBvd25lciApIHRocm93OwogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKICAgIGlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIChhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgfHwgYXV0aG9yaXplZFtfZnJvbV1bbXNnLnNlbmRlcl0gPT0gdHJ1ZSApICYmIF92YWx1ZSA+IDApIHsKICAgICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZXNbX3RvXSwgX3ZhbHVlKTsKICAgICAgYmFsYW5jZXNbX2Zyb21dID0gc2FmZVN1YihiYWxhbmNlc1tfZnJvbV0sIF92YWx1ZSk7CiAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gc2FmZVN1YihfYWxsb3dhbmNlLCBfdmFsdWUpOwogICAgICBpZiAoIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIDwgMCApewogICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IDA7CiAgICAgIH0KICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlLCBiYWxhbmNlc1tfZnJvbV0sIGJhbGFuY2VzW190b10pOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93OwogICAgfQogIH0KCiAgLy8gKioqKioqIE1JTlRJTkcgU1VQUE9SVAogIC8vIE1pbnQgbmV3IHRva2VucwogIG1vZGlmaWVyIG9ubHlfbWludGVyIHsKICAgIGFzc2VydChtc2cuc2VuZGVyID09IG1pbnRlcl9hZGRyZXNzKTsKICAgIF87CiAgfQogIAogIGFkZHJlc3MgcHVibGljIG1pbnRlcl9hZGRyZXNzID0gb3duZXI7ICAgICAgICAgICAgLy8gSGFzIHBlcm1pc3Npb24gdG8gbWludAoKICBmdW5jdGlvbiBtaW50VG9rZW5zKHVpbnQgcmV3YXJkX3RvaywgYWRkcmVzcyByZWNpcGllbnQpIGV4dGVybmFsIHBheWFibGUgb25seV9taW50ZXIKICB7CiAgICBiYWxhbmNlc1tyZWNpcGllbnRdID0gc2FmZUFkZChiYWxhbmNlc1tyZWNpcGllbnRdLCByZXdhcmRfdG9rKTsKICAgIGdlbmVyYWxUb2tlbnMgPSBzYWZlQWRkKGdlbmVyYWxUb2tlbnMsIHJld2FyZF90b2spOwogICAgTWludEV2ZW50KHJld2FyZF90b2ssIHJlY2lwaWVudCk7CiAgfQoKICBmdW5jdGlvbiBjaGFuZ2VNaW50aW5nQWRkcmVzcyhhZGRyZXNzIG5ld0FkZHJlc3MpIG9ubHlPd25lciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsgCiAgICBtaW50ZXJfYWRkcmVzcyA9IG5ld0FkZHJlc3M7IAogICAgcmV0dXJuIHRydWU7CiAgfQoKICAKICAvLyoqKiogU2FmZU1hdGg6CiAgZnVuY3Rpb24gc2FmZU11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQogIAogIGZ1bmN0aW9uIHNhZmVEaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiID4gMCk7CiAgICB1aW50IGMgPSBhIC8gYjsKICAgIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOwogICAgcmV0dXJuIGM7CiAgfQogIAogIGZ1bmN0aW9uIHNhZmVTdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KICAKICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICsgYjsKICAgIGFzc2VydChjPj1hICYmIGM+PWIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBhc3NlcnQoYm9vbCBhc3NlcnRpb24pIGludGVybmFsIHsKICAgIGlmICghYXNzZXJ0aW9uKSB0aHJvdzsKICB9Cn0='.
	

]
