Class {
	#name : #SRT24b995ac53f7916923bc594d506ffc34fe3fc78c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT24b995ac53f7916923bc594d506ffc34fe3fc78c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wgCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuIAogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICAvKiogCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4gCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsKICAgICAgdGhyb3c7CiAgICB9CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4gCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgIGlmIChuZXdPd25lciAhPSBhZGRyZXNzKDApKSB7CiAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9CiAgfQoKfQoKCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCgpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLiAKICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLiAKICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAvLyBpZiAoX3ZhbHVlID4gX2FsbG93YW5jZSkgdGhyb3c7CgogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKCiAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICBpZiAoKF92YWx1ZSAhPSAwKSAmJiAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gIT0gMCkpIHRocm93OwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCn0KCgpjb250cmFjdCBHZW5lc2lzVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgT3duYWJsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIC8vIG1ldGFkYXRhCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gJ0dlbmVzaXMnOwogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gJ0dOUyc7CiAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAnMC4wLjEnOwoKICAvLyBldmVudHMKICBldmVudCBFYXJuZWRHTlMoYWRkcmVzcyBpbmRleGVkIGNvbnRyaWJ1dG9yLCB1aW50MjU2IGFtb3VudCk7CiAgZXZlbnQgVHJhbnNmZXJyZWRHTlMoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CgogIC8vIGNvbnN0cnVjdG9yCiAgZnVuY3Rpb24gR2VuZXNpc1Rva2VuKAogICAgYWRkcmVzcyBfb3duZXIsCiAgICB1aW50MjU2IGluaXRpYWxCYWxhbmNlKQogIHsKICAgIG93bmVyID0gX293bmVyOwogICAgdG90YWxTdXBwbHkgPSBpbml0aWFsQmFsYW5jZTsKICAgIGJhbGFuY2VzW19vd25lcl0gPSBpbml0aWFsQmFsYW5jZTsKICAgIEVhcm5lZEdOUyhfb3duZXIsIGluaXRpYWxCYWxhbmNlKTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gbWludCB0b2tlbnMKICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRoYXQgd2lsbCByZWNpZXZlIHRoZSBtaW50ZWQgdG9rZW5zLgogICAqIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIG1pbnQuCiAgICogQHJldHVybiBBIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgKi8KICBmdW5jdGlvbiBnaXZlVG9rZW5zKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgIEVhcm5lZEdOUyhfdG8sIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQp9CgovKioKICogVGhpcyBjb250cmFjdCBob2xkcyBhbGwgdGhlIHJldmVudWVzIGdlbmVyYXRlZCBieSB0aGUgREFPLCBhbmQgcGF5cyBvdXQgdG8KICogdG9rZW4gaG9sZGVycyBvbiBhIHBlcmlvZGljIGJhc2lzLgogKi8KY29udHJhY3QgQ3Jvd2RXYWxsZXQgaXMgT3duYWJsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogIHN0cnVjdCBEZXBvc2l0IHsKICAgIHVpbnQgYW1vdW50OwogICAgdWludCBibG9jazsKICB9CgogIHN0cnVjdCBQYXlvdXQgewogICAgdWludCBhbW91bnQ7CiAgICB1aW50IGJsb2NrOwogIH0KCiAgLy8gR2VuZXNpcyBUb2tlbnMgZGV0ZXJtaW5lIHRoZSBwYXlvdXQgZm9yIGVhY2ggY29udHJpYnV0b3IuCiAgR2VuZXNpc1Rva2VuIHB1YmxpYyB0b2tlbjsKCiAgLy8gVHJhY2sgZGVwb3NpdHMvcGF5b3V0cyBieSBhZGRyZXNzCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBEZXBvc2l0W10pIHB1YmxpYyBkZXBvc2l0czsKICBtYXBwaW5nIChhZGRyZXNzID0+IFBheW91dFtdKSBwdWJsaWMgcGF5b3V0czsKCiAgLy8gVHJhY2sgdGhlIHN1bSBvZiBhbGwgcGF5b3V0cyAmIGRlcG9zaXRzIGV2ZXIgbWFkZSB0byB0aGlzIGNvbnRyYWN0LgogIHVpbnQgcHVibGljIGxpZmV0aW1lRGVwb3NpdHM7CiAgdWludCBwdWJsaWMgbGlmZXRpbWVQYXlvdXRzOwoKICAvLyBUaW1lIGJldHdlZW4gcGF5IHBlcmlvZHMgYXJlIGRlZmluZWQgYXMgYSBudW1iZXIgb2YgYmxvY2tzLgogIHVpbnQgcHVibGljIGJsb2Nrc1BlclBheVBlcmlvZCA9IDE3MjgwMDsgLy8gfjMwIGRheXMKICB1aW50IHB1YmxpYyBwcmV2aW91c1BheW91dEJsb2NrOwogIHVpbnQgcHVibGljIG5leHRQYXlvdXRCbG9jazsKCiAgLy8gVGhlIGJhbGFuY2UgYXQgdGhlIGVuZCBvZiBlYWNoIHBlcmlvZCBpcyBzYXZlZCBoZXJlIGFuZCBhbGxvY2F0ZWQgdG8gdG9rZW4KICAvLyBob2xkZXJzIGZyb20gdGhlIHByZXZpb3VzIHBlcmlvZC4KICB1aW50IHB1YmxpYyBwYXlvdXRQb29sOwoKICAvLyBGb3IgZG9pbmcgZGl2aXNpb24uIE51bWVyYXRvciBzaG91bGQgYmUgbXVsdGlwbGllZCBieSB0aGlzLgogIHVpbnQgbXVsdGlwbGllciA9IDEwKioxODsKCiAgLy8gU2V0IGEgbWluaW11bSB0aGF0IGEgdXNlciBtdXN0IGhhdmUgZWFybmVkIGluIG9yZGVyIHRvIHdpdGhkcmF3IGl0LgogIHVpbnQgcHVibGljIG1pbldpdGhkcmF3YWxUaHJlc2hvbGQgPSAxMDAwMDAwMDAwMDAwMDAwMDA7IC8vIDAuMSBFVEggaW4gd2VpCgogIC8vIEV2ZW50cwogIGV2ZW50IG9uRGVwb3NpdChhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIHVpbnQgX2Ftb3VudCk7CiAgZXZlbnQgb25QYXlvdXQoYWRkcmVzcyBpbmRleGVkIF90bywgdWludCBfYW1vdW50KTsKICBldmVudCBvblBheW91dEZhaWx1cmUoYWRkcmVzcyBpbmRleGVkIF90bywgdWludCBhbW91bnQpOwoKICAvKioKICAgKiBDb25zdHJ1Y3RvciAtIHNldCB0aGUgR05TIHRva2VuIGFkZHJlc3MgYW5kIHRoZSBpbml0aWFsIG51bWJlciBvZiBibG9ja3MKICAgKiBpbi1iZXR3ZWVuIGVhY2ggcGF5IHBlcmlvZC4KICAgKi8KICBmdW5jdGlvbiBDcm93ZFdhbGxldChhZGRyZXNzIF9nbnMsIGFkZHJlc3MgX293bmVyLCB1aW50IF9ibG9ja3NQZXJQYXlQZXJpb2QpIHsKICAgIHRva2VuID0gR2VuZXNpc1Rva2VuKF9nbnMpOwogICAgb3duZXIgPSBfb3duZXI7CiAgICBibG9ja3NQZXJQYXlQZXJpb2QgPSBfYmxvY2tzUGVyUGF5UGVyaW9kOwogICAgbmV4dFBheW91dEJsb2NrID0gbm93LmFkZChibG9ja3NQZXJQYXlQZXJpb2QpOwogIH0KCiAgZnVuY3Rpb24gc2V0TWluaW11bVdpdGhkcmF3YWwodWludCBfd2VpQW1vdW50KSBvbmx5T3duZXIgewogICAgbWluV2l0aGRyYXdhbFRocmVzaG9sZCA9IF93ZWlBbW91bnQ7CiAgfQoKICBmdW5jdGlvbiBzZXRCbG9ja3NQZXJQYXlQZXJpb2QodWludCBfYmxvY2tzUGVyUGF5UGVyaW9kKSBvbmx5T3duZXIgewogICAgYmxvY2tzUGVyUGF5UGVyaW9kID0gX2Jsb2Nrc1BlclBheVBlcmlvZDsKICB9CgogIC8qKgogICAqIFRvIHByZXZlbnQgY2hlYXRpbmcsIHdoZW4gYSB3aXRoZHJhd2FsIGlzIG1hZGUsIHRoZSB0b2tlbnMgZm9yIHRoYXQgYWRkcmVzcwogICAqIGJlY29tZSBpbW1lZGlhdGVseSBsb2NrZWQgdW50aWwgdGhlIG5leHQgcGVyaW9kLiBPdGhlcndpc2UsIHRoZXkgY291bGQgc2VuZAogICAqIHRoZWlyIHRva2VucyB0byBhbm90aGVyIHdhbGxldCBhbmQgd2l0aGRyYXcgYWdhaW4uCiAgICovCiAgZnVuY3Rpb24gd2l0aGRyYXcoKSB7CiAgICByZXF1aXJlKHByZXZpb3VzUGF5b3V0QmxvY2sgPiAwKTsKCiAgICAvLyBFbnN1cmUgdGhlIHVzZXIgaGFzIG5vdCBhbHJlYWR5IG1hZGUgYSB3aXRoZHJhd2FsIHRoaXMgcGVyaW9kLgogICAgcmVxdWlyZSghaXNBZGRyZXNzTG9ja2VkKG1zZy5zZW5kZXIpKTsKCiAgICB1aW50IHBheW91dEFtb3VudCA9IGNhbGN1bGF0ZVBheW91dEZvckFkZHJlc3MobXNnLnNlbmRlcik7CgogICAgLy8gRW5zdXJlIHVzZXIncyBwYXlvdXQgaXMgYWJvdmUgdGhlIG1pbmltdW0gdGhyZXNob2xkIGZvciB3aXRoZHJhd2Fscy4KICAgIHJlcXVpcmUocGF5b3V0QW1vdW50ID4gbWluV2l0aGRyYXdhbFRocmVzaG9sZCk7CgogICAgLy8gVXNlciBxdWFsaWZpZXMuIFNhdmUgdGhlIHRyYW5zYWN0aW9uIHdpdGggdGhlIGN1cnJlbnQgYmxvY2sgbnVtYmVyLAogICAgLy8gZWZmZWN0aXZlbHkgbG9ja2luZyB0aGVpciB0b2tlbnMgdW50aWwgdGhlIG5leHQgcGF5b3V0IGRhdGUuCiAgICBwYXlvdXRzW21zZy5zZW5kZXJdLnB1c2goUGF5b3V0KHsgYW1vdW50OiBwYXlvdXRBbW91bnQsIGJsb2NrOiBub3cgfSkpOwoKICAgIHJlcXVpcmUodGhpcy5iYWxhbmNlID49IHBheW91dEFtb3VudCk7CgogICAgb25QYXlvdXQobXNnLnNlbmRlciwgcGF5b3V0QW1vdW50KTsKCiAgICBsaWZldGltZVBheW91dHMgKz0gcGF5b3V0QW1vdW50OwoKICAgIG1zZy5zZW5kZXIudHJhbnNmZXIocGF5b3V0QW1vdW50KTsKICB9CgogIC8qKgogICAqIE9uY2UgYSB1c2VyIGdldHMgcGFpZCBvdXQgZm9yIGEgcGVyaW9kLCB3ZSBsb2NrIHVwIHRoZSB0b2tlbnMgdGhleSBvd24KICAgKiB1bnRpbCB0aGUgbmV4dCBwZXJpb2QuIE90aGVyd2lzZSwgdGhleSBjYW4gc2VuZCB0aGVpciB0b2tlbnMgdG8gYSBmcmVzaAogICAqIGFkZHJlc3MgYW5kIHRoZW4gZG91YmxlIGRpcC4KICAgKi8KICBmdW5jdGlvbiBpc0FkZHJlc3NMb2NrZWQoYWRkcmVzcyBjb250cmlidXRvcikgY29uc3RhbnQgcmV0dXJucyhib29sKSB7CiAgICB2YXIgcGF5bWVudEhpc3RvcnkgPSBwYXlvdXRzW2NvbnRyaWJ1dG9yXTsKCiAgICBpZiAocGF5bWVudEhpc3RvcnkubGVuZ3RoID09IDApIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHZhciBsYXN0UGF5bWVudCA9IHBheW1lbnRIaXN0b3J5W3BheW1lbnRIaXN0b3J5Lmxlbmd0aCAtIDFdOwoKICAgIHJldHVybiAobGFzdFBheW1lbnQuYmxvY2sgPj0gcHJldmlvdXNQYXlvdXRCbG9jaykgJiYgKGxhc3RQYXltZW50LmJsb2NrIDwgbmV4dFBheW91dEJsb2NrKTsKICB9CgogIC8qKgogICAqIENoZWNrIGlmIHdlIGFyZSBpbiBhIG5ldyBwYXlvdXQgY3ljbGUuCiAgICovCiAgZnVuY3Rpb24gaXNOZXdQYXlvdXRQZXJpb2QoKSBjb25zdGFudCByZXR1cm5zKGJvb2wpIHsKICAgIHJldHVybiBub3cgPj0gbmV4dFBheW91dEJsb2NrOwogIH0KCiAgLyoqCiAgICogU3RhcnQgYSBuZXcgcGF5b3V0IGN5Y2xlCiAgICovCiAgZnVuY3Rpb24gc3RhcnROZXdQYXlvdXRQZXJpb2QoKSB7CiAgICByZXF1aXJlKGlzTmV3UGF5b3V0UGVyaW9kKCkpOwoKICAgIHByZXZpb3VzUGF5b3V0QmxvY2sgPSBuZXh0UGF5b3V0QmxvY2s7CiAgICBuZXh0UGF5b3V0QmxvY2sgPSBuZXh0UGF5b3V0QmxvY2suYWRkKGJsb2Nrc1BlclBheVBlcmlvZCk7CiAgICBwYXlvdXRQb29sID0gdGhpcy5iYWxhbmNlOwogIH0KCiAgLyoqCiAgICogRGV0ZXJtaW5lIHRoZSBhbW91bnQgdGhhdCBzaG91bGQgYmUgcGFpZCBvdXQuCiAgICovCiAgZnVuY3Rpb24gY2FsY3VsYXRlUGF5b3V0Rm9yQWRkcmVzcyhhZGRyZXNzIHBheWVlKSBjb25zdGFudCByZXR1cm5zKHVpbnQpIHsKICAgIHVpbnQgb3duZWRBbW91bnQgPSB0b2tlbi5iYWxhbmNlT2YocGF5ZWUpOwogICAgdWludCB0b3RhbFN1cHBseSA9IHRva2VuLnRvdGFsU3VwcGx5KCk7CiAgICB1aW50IHBlcmNlbnRhZ2UgPSAob3duZWRBbW91bnQgKiBtdWx0aXBsaWVyKSAvIHRvdGFsU3VwcGx5OwogICAgdWludCBwYXlvdXQgPSAocGF5b3V0UG9vbCAqIHBlcmNlbnRhZ2UpIC8gbXVsdGlwbGllcjsKCiAgICByZXR1cm4gcGF5b3V0OwogIH0KCiAgLyoqCiAgICogQ2hlY2sgdGhlIGNvbnRyYWN0J3MgRVRIIGJhbGFuY2UuCiAgICovCiAgZnVuY3Rpb24gZXRoQmFsYW5jZSgpIGNvbnN0YW50IHJldHVybnModWludCkgewogICAgcmV0dXJuIHRoaXMuYmFsYW5jZTsKICB9CgogIC8qKgogICAqIEluY29tZSBzaG91bGQgZ28gaGVyZS4KICAgKi8KICBmdW5jdGlvbiBkZXBvc2l0KCkgcGF5YWJsZSB7CiAgICBvbkRlcG9zaXQobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsKICAgIGxpZmV0aW1lRGVwb3NpdHMgKz0gbXNnLnZhbHVlOwogICAgZGVwb3NpdHNbbXNnLnNlbmRlcl0ucHVzaChEZXBvc2l0KHsgYW1vdW50OiBtc2cudmFsdWUsIGJsb2NrOiBub3cgfSkpOwogIH0KCiAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7CiAgICBkZXBvc2l0KCk7CiAgfQp9'.
	

]
