Class {
	#name : #SRTd2943044a142895fe07650c3bcd70bd2e17885d9,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd2943044a142895fe07650c3bcd70bd2e17885d9 >> base64 [
	^ 'Ly8gQXV0aG9yIDogc2hpZnQKCnByYWdtYSBzb2xpZGl0eSBeMC40LjE4OwoKLy8tLS0tLS0tLS0gT3BlblplcHBlbGluJ3MgU2FmZSBNYXRoCi8vU291cmNlIDogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9ibG9iL21hc3Rlci9jb250cmFjdHMvbWF0aC9TYWZlTWF0aC5zb2wKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmIChhID09IDApIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgovLyBFUkMyMCBJbnRlcmZhY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMApjb250cmFjdCBFUkMyMCB7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwp9CgovKgogIFRoaXMgY29udHJhY3Qgc3RvcmVzIHR3aWNlIGV2ZXJ5IGtleSB2YWx1ZSBpbiBvcmRlciB0byBiZSBhYmxlIHRvIHJlZGlzdHJpYnV0ZSBmdW5kcwogIHdoZW4gdGhlIGJvbnVzIHRva2VucyBhcmUgcmVjZWl2ZWQgKHdoaWNoIGlzIHR5cGljYWxseSBYIG1vbnRocyBhZnRlciB0aGUgaW5pdGlhbCBidXkpLgoqLwoKY29udHJhY3QgTW9vbmdhbmcgewoKICBtb2RpZmllciBvbmx5T3duZXIgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKICBtb2RpZmllciBtaW5BbW91bnRSZWFjaGVkIHsKICAgIC8vSW4gcmVhbGl0eSwgdGhlIGNvcnJlY3QgYW1vdW50IGlzIHRoZSBhbW91bnQgKyAxJQogICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgPj0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChtaW5fYW1vdW50LCAxMDApLCA5OSkpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIHVuZGVyTWF4QW1vdW50IHsKICAgIHJlcXVpcmUobWF4X2Ftb3VudCA9PSAwIHx8IHRoaXMuYmFsYW5jZSA8PSBtYXhfYW1vdW50KTsKICAgIF87CiAgfQoKICAvL0NvbnN0YW50cyBvZiB0aGUgY29udHJhY3QKICB1aW50MjU2IGNvbnN0YW50IEZFRSA9IDEwMDsgICAgLy8xJSBmZWUKICAvL1NhZmVNYXRoLmRpdigyMCwgMykgPSA2CiAgdWludDI1NiBjb25zdGFudCBGRUVfREVWID0gNjsgLy8xNSUgb24gdGhlIDElIGZlZQogIHVpbnQyNTYgY29uc3RhbnQgRkVFX0FVRElUID0gMTI7IC8vNy41JSBvbiB0aGUgMSUgZmVlCiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgYWRkcmVzcyBjb25zdGFudCBwdWJsaWMgZGV2ZWxvcGVyID0gMHhFRTA2QmREYWZGQTU2YTMwMzcxOERFNTNBNWJjMzQ3RWZiRTRDNjhmOwogIGFkZHJlc3MgY29uc3RhbnQgcHVibGljIGF1ZGl0b3IgPSAweDYzRjc1NDdBYzI3N2VhMEI1MkEwQjA2MEJlNmFmOEM1OTA0OTUzYWE7CiAgdWludDI1NiBwdWJsaWMgaW5kaXZpZHVhbF9jYXA7CgogIC8vVmFyaWFibGVzIHN1YmplY3QgdG8gY2hhbmdlcwogIHVpbnQyNTYgcHVibGljIG1heF9hbW91bnQ7ICAvLzAgbWVhbnMgdGhlcmUgaXMgbm8gbGltaXQKICB1aW50MjU2IHB1YmxpYyBtaW5fYW1vdW50OwoKICAvL1N0b3JlIHRoZSBhbW91bnQgb2YgRVRIIGRlcG9zaXRlZCBieSBlYWNoIGFjY291bnQuCiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZXM7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZXNfYm9udXM7CiAgLy93aGl0ZWxpc3QKICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyB3aGl0ZWxpc3Q7CiAgLy8gVHJhY2sgd2hldGhlciB0aGUgY29udHJhY3QgaGFzIGJvdWdodCB0aGUgdG9rZW5zIHlldC4KICBib29sIHB1YmxpYyBib3VnaHRfdG9rZW5zOwogIC8vIFJlY29yZCBFVEggdmFsdWUgb2YgdG9rZW5zIGN1cnJlbnRseSBoZWxkIGJ5IGNvbnRyYWN0LgogIHVpbnQyNTYgcHVibGljIGNvbnRyYWN0X2V0aF92YWx1ZTsKICB1aW50MjU2IHB1YmxpYyBjb250cmFjdF9ldGhfdmFsdWVfYm9udXM7CiAgLy9TZXQgYnkgdGhlIG93bmVyIGluIG9yZGVyIHRvIGFsbG93IHRoZSB3aXRoZHJhd2FsIG9mIGJvbnVzIHRva2Vucy4KICBib29sIHB1YmxpYyBib251c19yZWNlaXZlZDsKICAvL1RoZSBhZGRyZXNzIG9mIHRoZSBjb250YWN0LgogIGFkZHJlc3MgcHVibGljIHNhbGU7CiAgLy9Ub2tlbiBhZGRyZXNzCiAgRVJDMjAgcHVibGljIHRva2VuOwogIC8vUmVjb3JkcyB0aGUgZmVlcyB0aGF0IGhhdmUgdG8gYmUgc2VudAogIHVpbnQyNTYgZmVlczsKICAvL1NldCBieSB0aGUgb3duZXIuIEFsbG93cyBwZW9wbGUgdG8gcmVmdW5kIHRvdGFsbHkgb3IgcGFydGlhbGx5LgogIGJvb2wgcHVibGljIGFsbG93X3JlZnVuZHM7CiAgLy9UaGUgcmVkdWN0aW9uIG9mIHRoZSBhbGxvY2F0aW9uIGluICUgfCBleGFtcGxlIDogNDAgLT4gNDAlIHJlZHVjdGlvbgogIHVpbnQyNTYgcHVibGljIHBlcmNlbnRfcmVkdWN0aW9uOwogIC8vZmxhZyBjb250cm9sbGVkIGJ5IG93bmVyIHRvIGVuYWJsZS9kaXNhYmxlIHdoaXRlbGlzdHMKICBib29sIHB1YmxpYyB3aGl0ZWxpc3RfZW5hYmxlZDsKCiAgLy9JbnRlcm5hbCBmdW5jdGlvbnMKICBmdW5jdGlvbiBNb29uZ2FuZyh1aW50MjU2IG1heCwgdWludDI1NiBtaW4sIHVpbnQyNTYgY2FwKSB7CiAgICAvKgogICAgQ29uc3RydWN0b3IKICAgICovCiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICBtYXhfYW1vdW50ID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChtYXgsIDEwMCksIDk5KTsKICAgIG1pbl9hbW91bnQgPSBtaW47CiAgICBpbmRpdmlkdWFsX2NhcCA9IGNhcDsKICAgIC8vZW5hYmxlIHdoaXRlbGlzdCBieSBkZWZhdWx0CiAgICB3aGl0ZWxpc3RfZW5hYmxlZCA9IHRydWU7CiAgfQoKICAvL0Z1bmN0aW9ucyBmb3IgdGhlIG93bmVyCgogIC8vIEJ1eSB0aGUgdG9rZW5zLiBTZW5kcyBFVEggdG8gdGhlIHByZXNhbGUgd2FsbGV0IGFuZCByZWNvcmRzIHRoZSBFVEggYW1vdW50IGhlbGQgaW4gdGhlIGNvbnRyYWN0LgogIGZ1bmN0aW9uIGJ1eV90aGVfdG9rZW5zKCkgb25seU93bmVyIG1pbkFtb3VudFJlYWNoZWQgewogICAgLy9Bdm9pZHMgYnVybmluZyB0aGUgZnVuZHMKICAgIHJlcXVpcmUoIWJvdWdodF90b2tlbnMgJiYgc2FsZSAhPSAweDApOwogICAgLy9SZWNvcmQgdGhhdCB0aGUgY29udHJhY3QgaGFzIGJvdWdodCB0aGUgdG9rZW5zLgogICAgYm91Z2h0X3Rva2VucyA9IHRydWU7CiAgICAvL1NlbmRzIHRoZSBmZWUgYmVmb3JlIHNvIHRoZSBjb250cmFjdF9ldGhfdmFsdWUgY29udGFpbnMgdGhlIGNvcnJlY3QgYmFsYW5jZQogICAgdWludDI1NiBkZXZfZmVlID0gU2FmZU1hdGguZGl2KGZlZXMsIEZFRV9ERVYpOwogICAgdWludDI1NiBhdWRpdF9mZWUgPSBTYWZlTWF0aC5kaXYoZmVlcywgRkVFX0FVRElUKTsKICAgIG93bmVyLnRyYW5zZmVyKFNhZmVNYXRoLnN1YihTYWZlTWF0aC5zdWIoZmVlcywgZGV2X2ZlZSksIGF1ZGl0X2ZlZSkpOwogICAgZGV2ZWxvcGVyLnRyYW5zZmVyKGRldl9mZWUpOwogICAgYXVkaXRvci50cmFuc2ZlcihhdWRpdF9mZWUpOwogICAgLy9SZWNvcmQgdGhlIGFtb3VudCBvZiBFVEggc2VudCBhcyB0aGUgY29udHJhY3QncyBjdXJyZW50IHZhbHVlLgogICAgY29udHJhY3RfZXRoX3ZhbHVlID0gdGhpcy5iYWxhbmNlOwogICAgY29udHJhY3RfZXRoX3ZhbHVlX2JvbnVzID0gdGhpcy5iYWxhbmNlOwogICAgLy8gVHJhbnNmZXIgYWxsIHRoZSBmdW5kcyB0byB0aGUgY3Jvd2RzYWxlIGFkZHJlc3MuCiAgICBzYWxlLnRyYW5zZmVyKGNvbnRyYWN0X2V0aF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiBmb3JjZV9yZWZ1bmQoYWRkcmVzcyBfdG9fcmVmdW5kKSBvbmx5T3duZXIgewogICAgcmVxdWlyZSghYm91Z2h0X3Rva2Vucyk7CiAgICB1aW50MjU2IGV0aF90b193aXRoZHJhdyA9IFNhZmVNYXRoLmRpdihTYWZlTWF0aC5tdWwoYmFsYW5jZXNbX3RvX3JlZnVuZF0sIDEwMCksIDk5KTsKICAgIGJhbGFuY2VzW190b19yZWZ1bmRdID0gMDsKICAgIGJhbGFuY2VzX2JvbnVzW190b19yZWZ1bmRdID0gMDsKICAgIGZlZXMgPSBTYWZlTWF0aC5zdWIoZmVlcywgU2FmZU1hdGguZGl2KGV0aF90b193aXRoZHJhdywgRkVFKSk7CiAgICBfdG9fcmVmdW5kLnRyYW5zZmVyKGV0aF90b193aXRoZHJhdyk7CiAgfQoKICBmdW5jdGlvbiBmb3JjZV9wYXJ0aWFsX3JlZnVuZChhZGRyZXNzIF90b19yZWZ1bmQpIG9ubHlPd25lciB7CiAgICByZXF1aXJlKHBlcmNlbnRfcmVkdWN0aW9uID4gMCk7CiAgICAvL0Ftb3VudCB0byByZWZ1bmQgaXMgdGhlIGFtb3VudCBtaW51cyB0aGUgWCUgb2YgdGhlIHJlZHVjdGlvbgogICAgLy9hbW91bnRfdG9fcmVmdW5kID0gYmFsYW5jZSpYCiAgICB1aW50MjU2IGJhc2ljX2Ftb3VudCA9IFNhZmVNYXRoLmRpdihTYWZlTWF0aC5tdWwoYmFsYW5jZXNbX3RvX3JlZnVuZF0sIHBlcmNlbnRfcmVkdWN0aW9uKSwgMTAwKTsKICAgIHVpbnQyNTYgZXRoX3RvX3dpdGhkcmF3ID0gYmFzaWNfYW1vdW50OwogICAgaWYgKCFib3VnaHRfdG9rZW5zKSB7CiAgICAgIC8vV2UgaGF2ZSB0byB0YWtlIGluIGFjY291bnQgdGhlIHBhcnRpYWwgcmVmdW5kIG9mIHRoZSBmZWUgdG9vIGlmIHRoZSB0b2tlbnMgd2VyZW4ndCBib3VnaHQgeWV0CiAgICAgIGV0aF90b193aXRoZHJhdyA9IFNhZmVNYXRoLmRpdihTYWZlTWF0aC5tdWwoYmFzaWNfYW1vdW50LCAxMDApLCA5OSk7CiAgICAgIGZlZXMgPSBTYWZlTWF0aC5zdWIoZmVlcywgU2FmZU1hdGguZGl2KGV0aF90b193aXRoZHJhdywgRkVFKSk7CiAgICB9CiAgICBiYWxhbmNlc1tfdG9fcmVmdW5kXSA9IFNhZmVNYXRoLnN1YihiYWxhbmNlc1tfdG9fcmVmdW5kXSwgZXRoX3RvX3dpdGhkcmF3KTsKICAgIGJhbGFuY2VzX2JvbnVzW190b19yZWZ1bmRdID0gYmFsYW5jZXNbX3RvX3JlZnVuZF07CiAgICBfdG9fcmVmdW5kLnRyYW5zZmVyKGV0aF90b193aXRoZHJhdyk7CiAgfQoKICBmdW5jdGlvbiB3aGl0ZWxpc3RfYWRkeXMoYWRkcmVzc1tdIF9hZGR5cykgb25seU93bmVyIHsKICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IF9hZGR5cy5sZW5ndGg7IGkrKykgewogICAgICB3aGl0ZWxpc3RbX2FkZHlzW2ldXSA9IHRydWU7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBibGFja2xpc3RfYWRkeXMoYWRkcmVzc1tdIF9hZGR5cykgb25seU93bmVyIHsKICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IF9hZGR5cy5sZW5ndGg7IGkrKykgewogICAgICB3aGl0ZWxpc3RbX2FkZHlzW2ldXSA9IGZhbHNlOwogICAgfQogIH0KCiAgZnVuY3Rpb24gc2V0X3NhbGVfYWRkcmVzcyhhZGRyZXNzIF9zYWxlKSBvbmx5T3duZXIgewogICAgLy9Bdm9pZCBtaXN0YWtlIG9mIHB1dHRpbmcgMHgwIGFuZCBjYW4ndCBjaGFuZ2UgdHdpY2UgdGhlIHNhbGUgYWRkcmVzcwogICAgcmVxdWlyZShfc2FsZSAhPSAweDApOwogICAgc2FsZSA9IF9zYWxlOwogIH0KCiAgZnVuY3Rpb24gc2V0X3Rva2VuX2FkZHJlc3MoYWRkcmVzcyBfdG9rZW4pIG9ubHlPd25lciB7CiAgICByZXF1aXJlKF90b2tlbiAhPSAweDApOwogICAgdG9rZW4gPSBFUkMyMChfdG9rZW4pOwogIH0KCiAgZnVuY3Rpb24gc2V0X2JvbnVzX3JlY2VpdmVkKGJvb2wgX2Jvb2xlYW4pIG9ubHlPd25lciB7CiAgICBib251c19yZWNlaXZlZCA9IF9ib29sZWFuOwogIH0KCiAgZnVuY3Rpb24gc2V0X2FsbG93X3JlZnVuZHMoYm9vbCBfYm9vbGVhbikgb25seU93bmVyIHsKICAgIC8qCiAgICBJbiBjYXNlLCBmb3Igc29tZSByZWFzb25zLCB0aGUgcHJvamVjdCByZWZ1bmRzIHRoZSBtb25leQogICAgKi8KICAgIGFsbG93X3JlZnVuZHMgPSBfYm9vbGVhbjsKICB9CgogIGZ1bmN0aW9uIHNldF9wZXJjZW50X3JlZHVjdGlvbih1aW50MjU2IF9yZWR1Y3Rpb24pIG9ubHlPd25lciB7CiAgICByZXF1aXJlKF9yZWR1Y3Rpb24gPD0gMTAwKTsKICAgIHBlcmNlbnRfcmVkdWN0aW9uID0gX3JlZHVjdGlvbjsKICB9CgogIGZ1bmN0aW9uIHNldF93aGl0ZWxpc3RfZW5hYmxlZChib29sIF9ib29sZWFuKSBvbmx5T3duZXIgewogICAgd2hpdGVsaXN0X2VuYWJsZWQgPSBfYm9vbGVhbjsKICB9CgogIGZ1bmN0aW9uIGNoYW5nZV9pbmRpdmlkdWFsX2NhcCh1aW50MjU2IF9jYXApIG9ubHlPd25lciB7CiAgICBpbmRpdmlkdWFsX2NhcCA9IF9jYXA7CiAgfQoKICBmdW5jdGlvbiBjaGFuZ2Vfb3duZXIoYWRkcmVzcyBuZXdfb3duZXIpIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5ld19vd25lciAhPSAweDApOwogICAgb3duZXIgPSBuZXdfb3duZXI7CiAgfQoKICBmdW5jdGlvbiBjaGFuZ2VfbWF4X2Ftb3VudCh1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciB7CiAgICAgIC8vQVRURU5USU9OISBUaGUgbmV3IGFtb3VudCBzaG91bGQgYmUgaW4gd2VpCiAgICAgIC8vVXNlIGh0dHBzOi8vZXRoZXJjb252ZXJ0ZXIub25saW5lLwogICAgICBtYXhfYW1vdW50ID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChfYW1vdW50LCAxMDApLCA5OSk7CiAgfQoKICBmdW5jdGlvbiBjaGFuZ2VfbWluX2Ftb3VudCh1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciB7CiAgICAgIC8vQVRURU5USU9OISBUaGUgbmV3IGFtb3VudCBzaG91bGQgYmUgaW4gd2VpCiAgICAgIC8vVXNlIGh0dHBzOi8vZXRoZXJjb252ZXJ0ZXIub25saW5lLwogICAgICBtaW5fYW1vdW50ID0gX2Ftb3VudDsKICB9CgogIC8vUHVibGljIGZ1bmN0aW9ucwoKICAvLyBBbGxvd3MgYW55IHVzZXIgdG8gd2l0aGRyYXcgaGlzIHRva2Vucy4KICBmdW5jdGlvbiB3aXRoZHJhdygpIHsKICAgIC8vIERpc2FsbG93IHdpdGhkcmF3IGlmIHRva2VucyBoYXZlbid0IGJlZW4gYm91Z2h0IHlldC4KICAgIHJlcXVpcmUoYm91Z2h0X3Rva2Vucyk7CiAgICB1aW50MjU2IGNvbnRyYWN0X3Rva2VuX2JhbGFuY2UgPSB0b2tlbi5iYWxhbmNlT2YoYWRkcmVzcyh0aGlzKSk7CiAgICAvLyBEaXNhbGxvdyB0b2tlbiB3aXRoZHJhd2FscyBpZiB0aGVyZSBhcmUgbm8gdG9rZW5zIHRvIHdpdGhkcmF3LgogICAgcmVxdWlyZShjb250cmFjdF90b2tlbl9iYWxhbmNlICE9IDApOwogICAgdWludDI1NiB0b2tlbnNfdG9fd2l0aGRyYXcgPSBTYWZlTWF0aC5kaXYoU2FmZU1hdGgubXVsKGJhbGFuY2VzW21zZy5zZW5kZXJdLCBjb250cmFjdF90b2tlbl9iYWxhbmNlKSwgY29udHJhY3RfZXRoX3ZhbHVlKTsKICAgIC8vIFVwZGF0ZSB0aGUgdmFsdWUgb2YgdG9rZW5zIGN1cnJlbnRseSBoZWxkIGJ5IHRoZSBjb250cmFjdC4KICAgIGNvbnRyYWN0X2V0aF92YWx1ZSA9IFNhZmVNYXRoLnN1Yihjb250cmFjdF9ldGhfdmFsdWUsIGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKICAgIC8vIFVwZGF0ZSB0aGUgdXNlcidzIGJhbGFuY2UgcHJpb3IgdG8gc2VuZGluZyB0byBwcmV2ZW50IHJlY3Vyc2l2ZSBjYWxsLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAwOwogICAgLy8gU2VuZCB0aGUgZnVuZHMuICBUaHJvd3Mgb24gZmFpbHVyZSB0byBwcmV2ZW50IGxvc3Mgb2YgZnVuZHMuCiAgICByZXF1aXJlKHRva2VuLnRyYW5zZmVyKG1zZy5zZW5kZXIsIHRva2Vuc190b193aXRoZHJhdykpOwogIH0KCiAgZnVuY3Rpb24gd2l0aGRyYXdfYm9udXMoKSB7CiAgLyoKICAgIFNwZWNpYWwgZnVuY3Rpb24gdG8gd2l0aGRyYXcgdGhlIGJvbnVzIHRva2VucyBhZnRlciB0aGUgNiBtb250aHMgbG9ja3VwLgogICAgYm9udXNfcmVjZWl2ZWQgaGFzIHRvIGJlIHNldCB0byB0cnVlLgogICovCiAgICByZXF1aXJlKGJvdWdodF90b2tlbnMgJiYgYm9udXNfcmVjZWl2ZWQpOwogICAgdWludDI1NiBjb250cmFjdF90b2tlbl9iYWxhbmNlID0gdG9rZW4uYmFsYW5jZU9mKGFkZHJlc3ModGhpcykpOwogICAgcmVxdWlyZShjb250cmFjdF90b2tlbl9iYWxhbmNlICE9IDApOwogICAgdWludDI1NiB0b2tlbnNfdG9fd2l0aGRyYXcgPSBTYWZlTWF0aC5kaXYoU2FmZU1hdGgubXVsKGJhbGFuY2VzX2JvbnVzW21zZy5zZW5kZXJdLCBjb250cmFjdF90b2tlbl9iYWxhbmNlKSwgY29udHJhY3RfZXRoX3ZhbHVlX2JvbnVzKTsKICAgIGNvbnRyYWN0X2V0aF92YWx1ZV9ib251cyA9IFNhZmVNYXRoLnN1Yihjb250cmFjdF9ldGhfdmFsdWVfYm9udXMsIGJhbGFuY2VzX2JvbnVzW21zZy5zZW5kZXJdKTsKICAgIGJhbGFuY2VzX2JvbnVzW21zZy5zZW5kZXJdID0gMDsKICAgIHJlcXVpcmUodG9rZW4udHJhbnNmZXIobXNnLnNlbmRlciwgdG9rZW5zX3RvX3dpdGhkcmF3KSk7CiAgfQoKICAvLyBBbGxvd3MgYW55IHVzZXIgdG8gZ2V0IGhpcyBldGggcmVmdW5kZWQgYmVmb3JlIHRoZSBwdXJjaGFzZSBpcyBtYWRlLgogIGZ1bmN0aW9uIHJlZnVuZCgpIHsKICAgIHJlcXVpcmUoIWJvdWdodF90b2tlbnMgJiYgYWxsb3dfcmVmdW5kcyAmJiBwZXJjZW50X3JlZHVjdGlvbiA9PSAwKTsKICAgIC8vYmFsYW5jZSBvZiBjb250cmlidXRvciA9IGNvbnRyaWJ1dGlvbiAqIDAuOTkKICAgIC8vc28gY29udHJpYnV0aW9uID0gYmFsYW5jZS8wLjk5CiAgICB1aW50MjU2IGV0aF90b193aXRoZHJhdyA9IFNhZmVNYXRoLmRpdihTYWZlTWF0aC5tdWwoYmFsYW5jZXNbbXNnLnNlbmRlcl0sIDEwMCksIDk5KTsKICAgIC8vIFVwZGF0ZSB0aGUgdXNlcidzIGJhbGFuY2UgcHJpb3IgdG8gc2VuZGluZyBFVEggdG8gcHJldmVudCByZWN1cnNpdmUgY2FsbC4KICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gMDsKICAgIC8vVXBkYXRlcyB0aGUgYmFsYW5jZXNfYm9udXMgdG9vCiAgICBiYWxhbmNlc19ib251c1ttc2cuc2VuZGVyXSA9IDA7CiAgICAvL1VwZGF0ZXMgdGhlIGZlZXMgdmFyaWFibGUgYnkgc3Vic3RyYWN0aW5nIHRoZSByZWZ1bmRlZCBmZWUKICAgIGZlZXMgPSBTYWZlTWF0aC5zdWIoZmVlcywgU2FmZU1hdGguZGl2KGV0aF90b193aXRoZHJhdywgRkVFKSk7CiAgICAvLyBSZXR1cm4gdGhlIHVzZXIncyBmdW5kcy4gIFRocm93cyBvbiBmYWlsdXJlIHRvIHByZXZlbnQgbG9zcyBvZiBmdW5kcy4KICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoZXRoX3RvX3dpdGhkcmF3KTsKICB9CgogIC8vQWxsb3dzIGFueSB1c2VyIHRvIGdldCBhIHBhcnQgb2YgaGlzIEVUSCByZWZ1bmRlZCwgaW4gcHJvcG9ydGlvbgogIC8vdG8gdGhlICUgcmVkdWNlZCBvZiB0aGUgYWxsb2NhdGlvbgogIGZ1bmN0aW9uIHBhcnRpYWxfcmVmdW5kKCkgewogICAgcmVxdWlyZShhbGxvd19yZWZ1bmRzICYmIHBlcmNlbnRfcmVkdWN0aW9uID4gMCk7CiAgICAvL0Ftb3VudCB0byByZWZ1bmQgaXMgdGhlIGFtb3VudCBtaW51cyB0aGUgWCUgb2YgdGhlIHJlZHVjdGlvbgogICAgLy9hbW91bnRfdG9fcmVmdW5kID0gYmFsYW5jZSpYCiAgICB1aW50MjU2IGJhc2ljX2Ftb3VudCA9IFNhZmVNYXRoLmRpdihTYWZlTWF0aC5tdWwoYmFsYW5jZXNbbXNnLnNlbmRlcl0sIHBlcmNlbnRfcmVkdWN0aW9uKSwgMTAwKTsKICAgIHVpbnQyNTYgZXRoX3RvX3dpdGhkcmF3ID0gYmFzaWNfYW1vdW50OwogICAgaWYgKCFib3VnaHRfdG9rZW5zKSB7CiAgICAgIC8vV2UgaGF2ZSB0byB0YWtlIGluIGFjY291bnQgdGhlIHBhcnRpYWwgcmVmdW5kIG9mIHRoZSBmZWUgdG9vIGlmIHRoZSB0b2tlbnMgd2VyZW4ndCBib3VnaHQgeWV0CiAgICAgIGV0aF90b193aXRoZHJhdyA9IFNhZmVNYXRoLmRpdihTYWZlTWF0aC5tdWwoYmFzaWNfYW1vdW50LCAxMDApLCA5OSk7CiAgICAgIGZlZXMgPSBTYWZlTWF0aC5zdWIoZmVlcywgU2FmZU1hdGguZGl2KGV0aF90b193aXRoZHJhdywgRkVFKSk7CiAgICB9CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IFNhZmVNYXRoLnN1YihiYWxhbmNlc1ttc2cuc2VuZGVyXSwgZXRoX3RvX3dpdGhkcmF3KTsKICAgIGJhbGFuY2VzX2JvbnVzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl07CiAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGV0aF90b193aXRoZHJhdyk7CiAgfQoKICAvLyBEZWZhdWx0IGZ1bmN0aW9uLiAgQ2FsbGVkIHdoZW4gYSB1c2VyIHNlbmRzIEVUSCB0byB0aGUgY29udHJhY3QuCiAgZnVuY3Rpb24gKCkgcGF5YWJsZSB1bmRlck1heEFtb3VudCB7CiAgICByZXF1aXJlKCFib3VnaHRfdG9rZW5zKTsKICAgIGlmICh3aGl0ZWxpc3RfZW5hYmxlZCkgewogICAgICByZXF1aXJlKHdoaXRlbGlzdFttc2cuc2VuZGVyXSk7CiAgICB9CiAgICAvLzElIGZlZSBpcyB0YWtlbiBvbiB0aGUgRVRICiAgICB1aW50MjU2IGZlZSA9IFNhZmVNYXRoLmRpdihtc2cudmFsdWUsIEZFRSk7CiAgICBmZWVzID0gU2FmZU1hdGguYWRkKGZlZXMsIGZlZSk7CiAgICAvL1VwZGF0ZXMgYm90aCBvZiB0aGUgYmFsYW5jZXMKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gU2FmZU1hdGguYWRkKGJhbGFuY2VzW21zZy5zZW5kZXJdLCBTYWZlTWF0aC5zdWIobXNnLnZhbHVlLCBmZWUpKTsKICAgIC8vQ2hlY2tzIGlmIHRoZSBpbmRpdmlkdWFsIGNhcCBpcyByZXNwZWN0ZWQKICAgIC8vSWYgaXQncyBub3QsIGNoYW5nZXMgYXJlIHJldmVydGVkCiAgICByZXF1aXJlKGluZGl2aWR1YWxfY2FwID09IDAgfHwgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPD0gaW5kaXZpZHVhbF9jYXApOwogICAgYmFsYW5jZXNfYm9udXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXTsKICB9Cn0='.
	

]
