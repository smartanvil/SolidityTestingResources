Class {
	#name : #SRT2584f892a2e50b5493ed108fa61888ba373ec02d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT2584f892a2e50b5493ed108fa61888ba373ec02d >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIHVpbnQgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICAgICAgdWludCBjID0gYSAvIGI7CiAgICAgICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gbWF4NjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgICAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgICB9CgogICAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgICAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICAgIH0KCiAgICBmdW5jdGlvbiBtYXgyNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgICB9CgogICAgZnVuY3Rpb24gbWluMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgICB9Cn0KCi8vLyBAZGV2IGBPd25lZGAgaXMgYSBiYXNlIGxldmVsIGNvbnRyYWN0IHRoYXQgYXNzaWducyBhbiBgb3duZXJgIHRoYXQgY2FuIGJlCi8vLyAgbGF0ZXIgY2hhbmdlZApjb250cmFjdCBPd25lZCB7CgogICAgLy8vIEBkZXYgYG93bmVyYCBpcyB0aGUgb25seSBhZGRyZXNzIHRoYXQgY2FuIGNhbGwgYSBmdW5jdGlvbiB3aXRoIHRoaXMKICAgIC8vLyBtb2RpZmllcgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIGlmKG1zZy5zZW5kZXIgIT0gb3duZXIpIHRocm93OwogICAgICAgIF87CiAgICB9CgogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgLy8vIEBub3RpY2UgVGhlIENvbnN0cnVjdG9yIGFzc2lnbnMgdGhlIG1lc3NhZ2Ugc2VuZGVyIHRvIGJlIGBvd25lcmAKICAgIGZ1bmN0aW9uIE93bmVkKCkgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICBhZGRyZXNzIHB1YmxpYyBuZXdPd25lcjsKCiAgICAvLy8gQG5vdGljZSBgb3duZXJgIGNhbiBzdGVwIGRvd24gYW5kIGFzc2lnbiBzb21lIG90aGVyIGFkZHJlc3MgdG8gdGhpcyByb2xlCiAgICAvLy8gQHBhcmFtIF9uZXdPd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgbmV3IG93bmVyLiAweDAgY2FuIGJlIHVzZWQgdG8gY3JlYXRlCiAgICAvLy8gIGFuIHVub3duZWQgbmV1dHJhbCB2YXVsdCwgaG93ZXZlciB0aGF0IGNhbm5vdCBiZSB1bmRvbmUKICAgIGZ1bmN0aW9uIGNoYW5nZU93bmVyKGFkZHJlc3MgX25ld093bmVyKSBvbmx5T3duZXIgewogICAgICAgIG5ld093bmVyID0gX25ld093bmVyOwogICAgfQoKCiAgICBmdW5jdGlvbiBhY2NlcHRPd25lcnNoaXAoKSB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgPT0gbmV3T3duZXIpIHsKICAgICAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgICAgICB9CiAgICB9Cn0KCmNvbnRyYWN0IEVSQzIwVG9rZW4gewogICAgLyogVGhpcyBpcyBhIHNsaWdodCBjaGFuZ2UgdG8gdGhlIEVSQzIwIGJhc2Ugc3RhbmRhcmQuCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgc3VwcGx5KTsKICAgIGlzIHJlcGxhY2VkIHdpdGg6CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIFRoaXMgYXV0b21hdGljYWxseSBjcmVhdGVzIGEgZ2V0dGVyIGZ1bmN0aW9uIGZvciB0aGUgdG90YWxTdXBwbHkuCiAgICBUaGlzIGlzIG1vdmVkIHRvIHRoZSBiYXNlIGNvbnRyYWN0IHNpbmNlIHB1YmxpYyBnZXR0ZXIgZnVuY3Rpb25zIGFyZSBub3QKICAgIGN1cnJlbnRseSByZWNvZ25pc2VkIGFzIGFuIGltcGxlbWVudGF0aW9uIG9mIHRoZSBtYXRjaGluZyBhYnN0cmFjdAogICAgZnVuY3Rpb24gYnkgdGhlIGNvbXBpbGVyLgogICAgKi8KICAgIC8vLyB0b3RhbCBhbW91bnQgb2YgdG9rZW5zCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICAvLy8gQHJldHVybiBUaGUgYmFsYW5jZQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8vIEBub3RpY2UgYG1zZy5zZW5kZXJgIGFwcHJvdmVzIGBfc3BlbmRlcmAgdG8gc3BlbmQgYF92YWx1ZWAgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSBhcHByb3ZhbCB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cn0KY29udHJhY3QgQ29udHJvbGxlZCB7CiAgICAvLy8gQG5vdGljZSBUaGUgYWRkcmVzcyBvZiB0aGUgY29udHJvbGxlciBpcyB0aGUgb25seSBhZGRyZXNzIHRoYXQgY2FuIGNhbGwKICAgIC8vLyAgYSBmdW5jdGlvbiB3aXRoIHRoaXMgbW9kaWZpZXIKICAgIG1vZGlmaWVyIG9ubHlDb250cm9sbGVyIHsgaWYgKG1zZy5zZW5kZXIgIT0gY29udHJvbGxlcikgdGhyb3c7IF87IH0KCiAgICBhZGRyZXNzIHB1YmxpYyBjb250cm9sbGVyOwoKICAgIGZ1bmN0aW9uIENvbnRyb2xsZWQoKSB7IGNvbnRyb2xsZXIgPSBtc2cuc2VuZGVyO30KCiAgICAvLy8gQG5vdGljZSBDaGFuZ2VzIHRoZSBjb250cm9sbGVyIG9mIHRoZSBjb250cmFjdAogICAgLy8vIEBwYXJhbSBfbmV3Q29udHJvbGxlciBUaGUgbmV3IGNvbnRyb2xsZXIgb2YgdGhlIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBjaGFuZ2VDb250cm9sbGVyKGFkZHJlc3MgX25ld0NvbnRyb2xsZXIpIG9ubHlDb250cm9sbGVyIHsKICAgICAgICBjb250cm9sbGVyID0gX25ld0NvbnRyb2xsZXI7CiAgICB9Cn0KCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjBUb2tlbiAsQ29udHJvbGxlZHsKCiAgICBib29sIHB1YmxpYyBzaG93VmFsdWU9dHJ1ZTsKCiAgICAvLyBGbGFnIHRoYXQgZGV0ZXJtaW5lcyBpZiB0aGUgdG9rZW4gaXMgdHJhbnNmZXJhYmxlIG9yIG5vdC4KICAgIGJvb2wgcHVibGljIHRyYW5zZmVyc0VuYWJsZWQ7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCiAgICAgICAgaWYoIXRyYW5zZmVyc0VuYWJsZWQpIHRocm93OwoKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoKICAgICAgICBpZighdHJhbnNmZXJzRW5hYmxlZCkgdGhyb3c7CiAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIGlmKCFzaG93VmFsdWUpCiAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYoIXRyYW5zZmVyc0VuYWJsZWQpIHRocm93OwogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICBpZighdHJhbnNmZXJzRW5hYmxlZCkgdGhyb3c7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgLy8vIEBub3RpY2UgRW5hYmxlcyB0b2tlbiBob2xkZXJzIHRvIHRyYW5zZmVyIHRoZWlyIHRva2VucyBmcmVlbHkgaWYgdHJ1ZQogICAgLy8vIEBwYXJhbSBfdHJhbnNmZXJzRW5hYmxlZCBUcnVlIGlmIHRyYW5zZmVycyBhcmUgYWxsb3dlZCBpbiB0aGUgY2xvbmUKICAgIGZ1bmN0aW9uIGVuYWJsZVRyYW5zZmVycyhib29sIF90cmFuc2ZlcnNFbmFibGVkKSBvbmx5Q29udHJvbGxlciB7CiAgICAgICAgdHJhbnNmZXJzRW5hYmxlZCA9IF90cmFuc2ZlcnNFbmFibGVkOwogICAgfQogICAgZnVuY3Rpb24gZW5hYmxlU2hvd1ZhbHVlKGJvb2wgX3Nob3dWYWx1ZSkgb25seUNvbnRyb2xsZXIgewogICAgICAgIHNob3dWYWx1ZSA9IF9zaG93VmFsdWU7CiAgICB9CgogICAgZnVuY3Rpb24gZ2VuZXJhdGVUb2tlbnMoYWRkcmVzcyBfb3duZXIsIHVpbnQgX2Ftb3VudAogICAgKSBvbmx5Q29udHJvbGxlciByZXR1cm5zIChib29sKSB7CiAgICAgICAgdWludCBjdXJUb3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5OwogICAgICAgIGlmIChjdXJUb3RhbFN1cHBseSArIF9hbW91bnQgPCBjdXJUb3RhbFN1cHBseSkgdGhyb3c7IC8vIENoZWNrIGZvciBvdmVyZmxvdwogICAgICAgIHRvdGFsU3VwcGx5PWN1clRvdGFsU3VwcGx5ICsgX2Ftb3VudDsKCiAgICAgICAgYmFsYW5jZXNbX293bmVyXSs9X2Ftb3VudDsKCiAgICAgICAgVHJhbnNmZXIoMCwgX293bmVyLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7Cn0KCmNvbnRyYWN0IE1pbmlNZVRva2VuU2ltcGxlIGlzIFN0YW5kYXJkVG9rZW4gewoKICAgIHN0cmluZyBwdWJsaWMgbmFtZTsgICAgICAgICAgICAgICAgLy9UaGUgVG9rZW4ncyBuYW1lOiBlLmcuIERpZ2l4REFPIFRva2VucwogICAgdWludDggcHVibGljIGRlY2ltYWxzOyAgICAgICAgICAgICAvL051bWJlciBvZiBkZWNpbWFscyBvZiB0aGUgc21hbGxlc3QgdW5pdAogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7ICAgICAgICAgICAgICAvL0FuIGlkZW50aWZpZXI6IGUuZy4gUkVQCiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAnTU1UXzAuMSc7IC8vQW4gYXJiaXRyYXJ5IHZlcnNpb25pbmcgc2NoZW1lCgoKICAgIC8vIGBwYXJlbnRUb2tlbmAgaXMgdGhlIFRva2VuIGFkZHJlc3MgdGhhdCB3YXMgY2xvbmVkIHRvIHByb2R1Y2UgdGhpcyB0b2tlbjsKICAgIC8vICBpdCB3aWxsIGJlIDB4MCBmb3IgYSB0b2tlbiB0aGF0IHdhcyBub3QgY2xvbmVkCiAgICBhZGRyZXNzIHB1YmxpYyBwYXJlbnRUb2tlbjsKCiAgICAvLyBgcGFyZW50U25hcFNob3RCbG9ja2AgaXMgdGhlIGJsb2NrIG51bWJlciBmcm9tIHRoZSBQYXJlbnQgVG9rZW4gdGhhdCB3YXMKICAgIC8vICB1c2VkIHRvIGRldGVybWluZSB0aGUgaW5pdGlhbCBkaXN0cmlidXRpb24gb2YgdGhlIENsb25lIFRva2VuCiAgICB1aW50IHB1YmxpYyBwYXJlbnRTbmFwU2hvdEJsb2NrOwoKICAgIC8vIGBjcmVhdGlvbkJsb2NrYCBpcyB0aGUgYmxvY2sgbnVtYmVyIHRoYXQgdGhlIENsb25lIFRva2VuIHdhcyBjcmVhdGVkCiAgICB1aW50IHB1YmxpYyBjcmVhdGlvbkJsb2NrOwoKICAgIC8vIFRoZSBmYWN0b3J5IHVzZWQgdG8gY3JlYXRlIG5ldyBjbG9uZSB0b2tlbnMKICAgIGFkZHJlc3MgcHVibGljIHRva2VuRmFjdG9yeTsKCiAgICAvLy8vLy8vLy8vLy8vLy8vCiAgICAvLyBDb25zdHJ1Y3RvcgogICAgLy8vLy8vLy8vLy8vLy8vLwoKICAgIC8vLyBAbm90aWNlIENvbnN0cnVjdG9yIHRvIGNyZWF0ZSBhIE1pbmlNZVRva2VuU2ltcGxlCiAgICAvLy8gQHBhcmFtIF90b2tlbkZhY3RvcnkgVGhlIGFkZHJlc3Mgb2YgdGhlIE1pbmlNZVRva2VuRmFjdG9yeSBjb250cmFjdCB0aGF0CiAgICAvLy8gIHdpbGwgY3JlYXRlIHRoZSBDbG9uZSB0b2tlbiBjb250cmFjdHMsIHRoZSB0b2tlbiBmYWN0b3J5IG5lZWRzIHRvIGJlCiAgICAvLy8gIGRlcGxveWVkIGZpcnN0CiAgICAvLy8gQHBhcmFtIF9wYXJlbnRUb2tlbiBBZGRyZXNzIG9mIHRoZSBwYXJlbnQgdG9rZW4sIHNldCB0byAweDAgaWYgaXQgaXMgYQogICAgLy8vICBuZXcgdG9rZW4KICAgIC8vLyBAcGFyYW0gX3BhcmVudFNuYXBTaG90QmxvY2sgQmxvY2sgb2YgdGhlIHBhcmVudCB0b2tlbiB0aGF0IHdpbGwKICAgIC8vLyAgZGV0ZXJtaW5lIHRoZSBpbml0aWFsIGRpc3RyaWJ1dGlvbiBvZiB0aGUgY2xvbmUgdG9rZW4sIHNldCB0byAwIGlmIGl0CiAgICAvLy8gIGlzIGEgbmV3IHRva2VuCiAgICAvLy8gQHBhcmFtIF90b2tlbk5hbWUgTmFtZSBvZiB0aGUgbmV3IHRva2VuCiAgICAvLy8gQHBhcmFtIF9kZWNpbWFsVW5pdHMgTnVtYmVyIG9mIGRlY2ltYWxzIG9mIHRoZSBuZXcgdG9rZW4KICAgIC8vLyBAcGFyYW0gX3Rva2VuU3ltYm9sIFRva2VuIFN5bWJvbCBmb3IgdGhlIG5ldyB0b2tlbgogICAgLy8vIEBwYXJhbSBfdHJhbnNmZXJzRW5hYmxlZCBJZiB0cnVlLCB0b2tlbnMgd2lsbCBiZSBhYmxlIHRvIGJlIHRyYW5zZmVycmVkCiAgICBmdW5jdGlvbiBNaW5pTWVUb2tlblNpbXBsZSgKICAgIGFkZHJlc3MgX3Rva2VuRmFjdG9yeSwKICAgIGFkZHJlc3MgX3BhcmVudFRva2VuLAogICAgdWludCBfcGFyZW50U25hcFNob3RCbG9jaywKICAgIHN0cmluZyBfdG9rZW5OYW1lLAogICAgdWludDggX2RlY2ltYWxVbml0cywKICAgIHN0cmluZyBfdG9rZW5TeW1ib2wsCiAgICBib29sIF90cmFuc2ZlcnNFbmFibGVkCiAgICApIHsKICAgICAgICB0b2tlbkZhY3RvcnkgPSBfdG9rZW5GYWN0b3J5OwogICAgICAgIG5hbWUgPSBfdG9rZW5OYW1lOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgbmFtZQogICAgICAgIGRlY2ltYWxzID0gX2RlY2ltYWxVbml0czsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgZGVjaW1hbHMKICAgICAgICBzeW1ib2wgPSBfdG9rZW5TeW1ib2w7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIHN5bWJvbAogICAgICAgIHBhcmVudFRva2VuID0gX3BhcmVudFRva2VuOwogICAgICAgIHBhcmVudFNuYXBTaG90QmxvY2sgPSBfcGFyZW50U25hcFNob3RCbG9jazsKICAgICAgICB0cmFuc2ZlcnNFbmFibGVkID0gX3RyYW5zZmVyc0VuYWJsZWQ7CiAgICAgICAgY3JlYXRpb25CbG9jayA9IGJsb2NrLm51bWJlcjsKICAgIH0KICAgIC8vLy8vLy8vLy8KICAgIC8vIFNhZmV0eSBNZXRob2RzCiAgICAvLy8vLy8vLy8vCgogICAgLy8vIEBub3RpY2UgVGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgYnkgdGhlIGNvbnRyb2xsZXIgdG8gZXh0cmFjdCBtaXN0YWtlbmx5CiAgICAvLy8gIHNlbnQgdG9rZW5zIHRvIHRoaXMgY29udHJhY3QuCiAgICAvLy8gQHBhcmFtIF90b2tlbiBUaGUgYWRkcmVzcyBvZiB0aGUgdG9rZW4gY29udHJhY3QgdGhhdCB5b3Ugd2FudCB0byByZWNvdmVyCiAgICAvLy8gIHNldCB0byAwIGluIGNhc2UgeW91IHdhbnQgdG8gZXh0cmFjdCBldGhlci4KICAgIGZ1bmN0aW9uIGNsYWltVG9rZW5zKGFkZHJlc3MgX3Rva2VuKSBvbmx5Q29udHJvbGxlciB7CiAgICAgICAgaWYgKF90b2tlbiA9PSAweDApIHsKICAgICAgICAgICAgY29udHJvbGxlci50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBFUkMyMFRva2VuIHRva2VuID0gRVJDMjBUb2tlbihfdG9rZW4pOwogICAgICAgIHVpbnQgYmFsYW5jZSA9IHRva2VuLmJhbGFuY2VPZih0aGlzKTsKICAgICAgICB0b2tlbi50cmFuc2Zlcihjb250cm9sbGVyLCBiYWxhbmNlKTsKICAgICAgICBDbGFpbWVkVG9rZW5zKF90b2tlbiwgY29udHJvbGxlciwgYmFsYW5jZSk7CiAgICB9CgogICAgZXZlbnQgQ2xhaW1lZFRva2VucyhhZGRyZXNzIGluZGV4ZWQgX3Rva2VuLCBhZGRyZXNzIGluZGV4ZWQgX2NvbnRyb2xsZXIsIHVpbnQgX2Ftb3VudCk7Cgp9CgoKY29udHJhY3QgUEZDQ29udHJpYnV0aW9uIGlzIE93bmVkIHsKCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICAgIE1pbmlNZVRva2VuU2ltcGxlIHB1YmxpYyBQRkM7CiAgICB1aW50MjU2IHB1YmxpYyByYXRpbz0yNTAwMDsKCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBNSU5fRlVORCA9ICgwLjAwMSBldGhlcik7CgogICAgdWludDI1NiBwdWJsaWMgc3RhcnRUaW1lPTAgOwogICAgdWludDI1NiBwdWJsaWMgZW5kVGltZSA9MDsKICAgIHVpbnQyNTYgcHVibGljIGZpbmFsaXplZEJsb2NrPTA7CiAgICB1aW50MjU2IHB1YmxpYyBmaW5hbGl6ZWRUaW1lPTA7CgogICAgYm9vbCBwdWJsaWMgaXNGaW5hbGl6ZSA9IGZhbHNlOwoKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsQ29udHJpYnV0ZWRFVEggPSAwOwogICAgdWludDI1NiBwdWJsaWMgdG90YWxUb2tlblNhbGVkPTA7CgogICAgdWludDI1NiBwdWJsaWMgTWF4RXRoPTE1MDAwIGV0aGVyOwoKCiAgICBhZGRyZXNzIHB1YmxpYyBwZmNDb250cm9sbGVyOwogICAgYWRkcmVzcyBwdWJsaWMgZGVzdEV0aEZvdW5kYXRpb247CgogICAgYm9vbCBwdWJsaWMgcGF1c2VkOwoKICAgIG1vZGlmaWVyIGluaXRpYWxpemVkKCkgewogICAgICAgIHJlcXVpcmUoYWRkcmVzcyhQRkMpICE9IDB4MCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBjb250cmlidXRpb25PcGVuKCkgewogICAgICAgIHJlcXVpcmUodGltZSgpID49IHN0YXJ0VGltZSAmJgogICAgICAgIHRpbWUoKSA8PSBlbmRUaW1lICYmCiAgICAgICAgZmluYWxpemVkQmxvY2sgPT0gMCAmJgogICAgICAgIGFkZHJlc3MoUEZDKSAhPSAweDApOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgbm90UGF1c2VkKCkgewogICAgICAgIHJlcXVpcmUoIXBhdXNlZCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBQRkNDQ29udHJpYnV0aW9uKCkgewogICAgICAgIHBhdXNlZCA9IGZhbHNlOwogICAgfQoKCiAgICAvLy8gQG5vdGljZSBUaGlzIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIGJ5IHRoZSBvd25lciBiZWZvcmUgdGhlIGNvbnRyaWJ1dGlvbgogICAgLy8vICBwZXJpb2Qgc3RhcnRzIFRoaXMgaW5pdGlhbGl6ZXMgbW9zdCBvZiB0aGUgcGFyYW1ldGVycwogICAgLy8vIEBwYXJhbSBfcGZjIEFkZHJlc3Mgb2YgdGhlIFBGQyB0b2tlbiBjb250cmFjdAogICAgLy8vIEBwYXJhbSBfcGZjQ29udHJvbGxlciBUb2tlbiBjb250cm9sbGVyIGZvciB0aGUgUEZDIHRoYXQgd2lsbCBiZSB0cmFuc2ZlcnJlZCBhZnRlcgogICAgLy8vICB0aGUgY29udHJpYnV0aW9uIGZpbmFsaXplcy4KICAgIC8vLyBAcGFyYW0gX3N0YXJ0VGltZSBUaW1lIHdoZW4gdGhlIGNvbnRyaWJ1dGlvbiBwZXJpb2Qgc3RhcnRzCiAgICAvLy8gQHBhcmFtIF9lbmRUaW1lIFRoZSB0aW1lIHRoYXQgdGhlIGNvbnRyaWJ1dGlvbiBwZXJpb2QgZW5kcwogICAgLy8vIEBwYXJhbSBfZGVzdEV0aEZvdW5kYXRpb24gRGVzdGluYXRpb24gYWRkcmVzcyB3aGVyZSB0aGUgY29udHJpYnV0aW9uIGV0aGVyIGlzIHNlbnQKICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoCiAgICBhZGRyZXNzIF9wZmMsCiAgICBhZGRyZXNzIF9wZmNDb250cm9sbGVyLAogICAgdWludDI1NiBfc3RhcnRUaW1lLAogICAgdWludDI1NiBfZW5kVGltZSwKICAgIGFkZHJlc3MgX2Rlc3RFdGhGb3VuZGF0aW9uLAogICAgdWludDI1NiBfbWF4RXRoCiAgICApIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIC8vIEluaXRpYWxpemUgb25seSBvbmNlCiAgICAgICAgcmVxdWlyZShhZGRyZXNzKFBGQykgPT0gMHgwKTsKCiAgICAgICAgUEZDID0gTWluaU1lVG9rZW5TaW1wbGUoX3BmYyk7CiAgICAgICAgcmVxdWlyZShQRkMudG90YWxTdXBwbHkoKSA9PSAwKTsKICAgICAgICByZXF1aXJlKFBGQy5jb250cm9sbGVyKCkgPT0gYWRkcmVzcyh0aGlzKSk7CiAgICAgICAgcmVxdWlyZShQRkMuZGVjaW1hbHMoKSA9PSAxOCk7ICAvLyBTYW1lIGFtb3VudCBvZiBkZWNpbWFscyBhcyBFVEgKCiAgICAgICAgc3RhcnRUaW1lID0gX3N0YXJ0VGltZTsKICAgICAgICBlbmRUaW1lID0gX2VuZFRpbWU7CgogICAgICAgIGFzc2VydChzdGFydFRpbWUgPCBlbmRUaW1lKTsKCiAgICAgICAgcmVxdWlyZShfcGZjQ29udHJvbGxlciAhPSAweDApOwogICAgICAgIHBmY0NvbnRyb2xsZXIgPSBfcGZjQ29udHJvbGxlcjsKCiAgICAgICAgcmVxdWlyZShfZGVzdEV0aEZvdW5kYXRpb24gIT0gMHgwKTsKICAgICAgICBkZXN0RXRoRm91bmRhdGlvbiA9IF9kZXN0RXRoRm91bmRhdGlvbjsKCiAgICAgICAgcmVxdWlyZShfbWF4RXRoID4xIGV0aGVyKTsKICAgICAgICBNYXhFdGg9X21heEV0aDsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBJZiBhbnlib2R5IHNlbmRzIEV0aGVyIGRpcmVjdGx5IHRvIHRoaXMgY29udHJhY3QsIGNvbnNpZGVyIGhlIGlzCiAgICAvLy8gIGdldHRpbmcgUEZDcy4KICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIG5vdFBhdXNlZCB7CgogICAgICAgIGlmKHRvdGFsQ29udHJpYnV0ZWRFVEg+PU1heEV0aCkgdGhyb3c7CiAgICAgICAgcHJveHlQYXltZW50KG1zZy5zZW5kZXIpOwogICAgfQoKCiAgICAvLy8vLy8vLy8vCiAgICAvLyBNaW5pTWUgQ29udHJvbGxlciBmdW5jdGlvbnMKICAgIC8vLy8vLy8vLy8KCiAgICAvLy8gQG5vdGljZSBUaGlzIG1ldGhvZCB3aWxsIGdlbmVyYWxseSBiZSBjYWxsZWQgYnkgdGhlIFBGQyB0b2tlbiBjb250cmFjdCB0bwogICAgLy8vICBhY3F1aXJlIFBGQ3MuIE9yIGRpcmVjdGx5IGZyb20gdGhpcmQgcGFydGllcyB0aGF0IHdhbnQgdG8gYWNxdWlyZSBQRkNzIGluCiAgICAvLy8gIGJlaGFsZiBvZiBhIHRva2VuIGhvbGRlci4KICAgIC8vLyBAcGFyYW0gX2FjY291bnQgUEZDIGhvbGRlciB3aGVyZSB0aGUgUEZDIHdpbGwgYmUgbWludGVkLgogICAgZnVuY3Rpb24gcHJveHlQYXltZW50KGFkZHJlc3MgX2FjY291bnQpIHB1YmxpYyBwYXlhYmxlIGluaXRpYWxpemVkIGNvbnRyaWJ1dGlvbk9wZW4gcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX2FjY291bnQgIT0gMHgwKTsKCiAgICAgICAgcmVxdWlyZSggbXNnLnZhbHVlID49IE1JTl9GVU5EICk7CgogICAgICAgIHVpbnQyNTYgdG9rZW5TYWxpbmc7CiAgICAgICAgdWludDI1NiByVmFsdWU7CiAgICAgICAgdWludDI1NiB0X3RvdGFsQ29udHJpYnV0ZWRFdGg9dG90YWxDb250cmlidXRlZEVUSCttc2cudmFsdWU7CiAgICAgICAgdWludDI1NiByZUZ1bmQ9MDsKICAgICAgICBpZih0X3RvdGFsQ29udHJpYnV0ZWRFdGg+TWF4RXRoKSB7CiAgICAgICAgICAgIHJlRnVuZD10X3RvdGFsQ29udHJpYnV0ZWRFdGgtTWF4RXRoOwogICAgICAgIH0KICAgICAgICByVmFsdWU9bXNnLnZhbHVlLXJlRnVuZDsKICAgICAgICB0b2tlblNhbGluZz1yVmFsdWUubXVsKHJhdGlvKTsKICAgICAgICBpZihyZUZ1bmQ+MCkKICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKHJlRnVuZCk7CiAgICAgICAgYXNzZXJ0KFBGQy5nZW5lcmF0ZVRva2VucyhfYWNjb3VudCx0b2tlblNhbGluZykpOwogICAgICAgIGRlc3RFdGhGb3VuZGF0aW9uLnRyYW5zZmVyKHJWYWx1ZSk7CgogICAgICAgIHRvdGFsQ29udHJpYnV0ZWRFVEggKz1yVmFsdWU7CiAgICAgICAgdG90YWxUb2tlblNhbGVkKz10b2tlblNhbGluZzsKCiAgICAgICAgTmV3U2FsZShtc2cuc2VuZGVyLCByVmFsdWUsdG9rZW5TYWxpbmcpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldE1heEV0aCh1aW50MjU2IF9tYXhFdGgpIG9ubHlPd25lciBpbml0aWFsaXplZHsKICAgICAgICBNYXhFdGg9X21heEV0aDsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRSYXRpbyh1aW50MjU2IF9yYXRpbykgb25seU93bmVyIGluaXRpYWxpemVkewogICAgICAgIHJhdGlvPV9yYXRpbzsKICAgIH0KCiAgICBmdW5jdGlvbiBpc3N1ZVRva2VuVG9BZGRyZXNzKGFkZHJlc3MgX2FjY291bnQsIHVpbnQyNTYgX2Ftb3VudCkgb25seU93bmVyIGluaXRpYWxpemVkIHsKCgogICAgICAgIGFzc2VydChQRkMuZ2VuZXJhdGVUb2tlbnMoX2FjY291bnQsIF9hbW91bnQpKTsKCiAgICAgICAgdG90YWxUb2tlblNhbGVkICs9X2Ftb3VudDsKCiAgICAgICAgTmV3SXNzdWUoX2FjY291bnQsIF9hbW91bnQpOwoKICAgIH0KCiAgICBmdW5jdGlvbiBmaW5hbGl6ZSgpIHB1YmxpYyBvbmx5T3duZXIgaW5pdGlhbGl6ZWQgewogICAgICAgIHJlcXVpcmUodGltZSgpID49IHN0YXJ0VGltZSk7CgogICAgICAgIHJlcXVpcmUoZmluYWxpemVkQmxvY2sgPT0gMCk7CgogICAgICAgIGZpbmFsaXplZEJsb2NrID0gZ2V0QmxvY2tOdW1iZXIoKTsKICAgICAgICBmaW5hbGl6ZWRUaW1lID0gbm93OwoKICAgICAgICBQRkMuY2hhbmdlQ29udHJvbGxlcihwZmNDb250cm9sbGVyKTsKICAgICAgICBpc0ZpbmFsaXplPXRydWU7CiAgICAgICAgRmluYWxpemVkKCk7CiAgICB9CgogICAgZnVuY3Rpb24gdGltZSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gYmxvY2sudGltZXN0YW1wOwogICAgfQoKICAgIC8vLy8vLy8vLy8KICAgIC8vIENvbnN0YW50IGZ1bmN0aW9ucwogICAgLy8vLy8vLy8vLwoKICAgIC8vLyBAcmV0dXJuIFRvdGFsIHRva2VucyBpc3N1ZWQgaW4gd2Vpcy4KICAgIGZ1bmN0aW9uIHRva2Vuc0lzc3VlZCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIFBGQy50b3RhbFN1cHBseSgpOwogICAgfQoKICAgIC8vLy8vLy8vLy8KICAgIC8vIFRlc3Rpbmcgc3BlY2lmaWMgbWV0aG9kcwogICAgLy8vLy8vLy8vLwoKICAgIC8vLyBAbm90aWNlIFRoaXMgZnVuY3Rpb24gaXMgb3ZlcnJpZGRlbiBieSB0aGUgdGVzdCBNb2Nrcy4KICAgIGZ1bmN0aW9uIGdldEJsb2NrTnVtYmVyKCkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBibG9jay5udW1iZXI7CiAgICB9CgogICAgLy8vLy8vLy8vLwogICAgLy8gU2FmZXR5IE1ldGhvZHMKICAgIC8vLy8vLy8vLy8KCiAgICAvLy8gQG5vdGljZSBUaGlzIG1ldGhvZCBjYW4gYmUgdXNlZCBieSB0aGUgY29udHJvbGxlciB0byBleHRyYWN0IG1pc3Rha2VubHkKICAgIC8vLyAgc2VudCB0b2tlbnMgdG8gdGhpcyBjb250cmFjdC4KICAgIC8vLyBAcGFyYW0gX3Rva2VuIFRoZSBhZGRyZXNzIG9mIHRoZSB0b2tlbiBjb250cmFjdCB0aGF0IHlvdSB3YW50IHRvIHJlY292ZXIKICAgIC8vLyAgc2V0IHRvIDAgaW4gY2FzZSB5b3Ugd2FudCB0byBleHRyYWN0IGV0aGVyLgogICAgZnVuY3Rpb24gY2xhaW1Ub2tlbnMoYWRkcmVzcyBfdG9rZW4pIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIGlmIChQRkMuY29udHJvbGxlcigpID09IGFkZHJlc3ModGhpcykpIHsKICAgICAgICAgICAgUEZDLmNsYWltVG9rZW5zKF90b2tlbik7CiAgICAgICAgfQogICAgICAgIGlmIChfdG9rZW4gPT0gMHgwKSB7CiAgICAgICAgICAgIG93bmVyLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIEVSQzIwVG9rZW4gdG9rZW4gPSBFUkMyMFRva2VuKF90b2tlbik7CiAgICAgICAgdWludDI1NiBiYWxhbmNlID0gdG9rZW4uYmFsYW5jZU9mKHRoaXMpOwogICAgICAgIHRva2VuLnRyYW5zZmVyKG93bmVyLCBiYWxhbmNlKTsKICAgICAgICBDbGFpbWVkVG9rZW5zKF90b2tlbiwgb3duZXIsIGJhbGFuY2UpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFBhdXNlcyB0aGUgY29udHJpYnV0aW9uIGlmIHRoZXJlIGlzIGFueSBpc3N1ZQogICAgZnVuY3Rpb24gcGF1c2VDb250cmlidXRpb24oKSBvbmx5T3duZXIgewogICAgICAgIHBhdXNlZCA9IHRydWU7CiAgICB9CgogICAgLy8vIEBub3RpY2UgUmVzdW1lcyB0aGUgY29udHJpYnV0aW9uCiAgICBmdW5jdGlvbiByZXN1bWVDb250cmlidXRpb24oKSBvbmx5T3duZXIgewogICAgICAgIHBhdXNlZCA9IGZhbHNlOwogICAgfQoKICAgIGV2ZW50IENsYWltZWRUb2tlbnMoYWRkcmVzcyBpbmRleGVkIF90b2tlbiwgYWRkcmVzcyBpbmRleGVkIF9jb250cm9sbGVyLCB1aW50MjU2IF9hbW91bnQpOwogICAgZXZlbnQgTmV3U2FsZShhZGRyZXNzIF9hY2NvdW50LCB1aW50MjU2IF9hbW91bnQsdWludDI1NiBfdG9rZW5BbW91bnQpOwogICAgZXZlbnQgTmV3SXNzdWUoYWRkcmVzcyBpbmRleGVkIF90aCwgdWludDI1NiBfYW1vdW50KTsKICAgIGV2ZW50IEZpbmFsaXplZCgpOwp9'.
	

]
