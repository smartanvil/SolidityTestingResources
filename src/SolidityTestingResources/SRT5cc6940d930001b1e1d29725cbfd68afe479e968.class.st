Class {
	#name : #SRT5cc6940d930001b1e1d29725cbfd68afe479e968,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5cc6940d930001b1e1d29725cbfd68afe479e968 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKiBFdGhhcnQgdW5pbmRleGVkIEZhY3RvcnkgQ29udHJhY3Q6CgoJRXRoYXJ0IEFSQ0hJVEVDVFVSRQoJLS0tLS0tLS0tLS0tLS0tLS0tLQoJCQkJCQlfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwoJCQkJCQlWCQkJCQkJCQkJCVYKCUNvbnRyb2xsZXIgLS0+IFJlZ2lzdHJhciA8LS0+IEZhY3RvcnkgQ29udHJhY3QxIC0tPiBBcnR3b3JrIENvbnRyYWN0MQoJCQkJCQkJCSAgRmFjdG9yeSBDb250cmFjdDIJICAgIEFydHdvcmsgQ29udHJhY3QyCgkJCQkJCQkJICAJCS4uLgkJCQkJLi4uCgkJCQkJCQkJICBGYWN0b3J5IENvbnRyYWN0TgkgICAgQXJ0d29yayBDb250cmFjdE4KCglDb250cm9sbGVyOiBUaGUgY29udHJvbGVyIGNvbnRyYWN0IGlzIHRoZSBvd25lciBvZiB0aGUgUmVnaXN0cmFyIGNvbnRyYWN0IGFuZCBjYW4KCQktIFNldCBhIG5ldyBvd25lcgoJCS0gQ29udHJvbGwgdGhlIGFzc2V0cyBvZiB0aGUgUmVnaXN0cmFyICh3aXRoZHJhdyBFVEgsIHRyYW5zZmVyLCBzZWxsLCBidXJuIHBpZWNlcyBvd25lZCBieSB0aGUgUmVnaXN0cmFyKQoJCS0gVGhlIHBsYW4gaXMgdG8gcmVwbGFjZSB0aGUgY29udHJvbGxlciBjb250cmFjdCB3aXRoIGEgREFPIGluIHByZXBlcmF0aW9uIGZvciBhIHBvc3NpYmxlIElDTwoJCglSZWdpc3RyYXI6CgkJLSBUaGUgUmVnaXN0cmFyIGNvbnRyYWN0IGF0Y3MgYXMgdGhlIGNlbnRyYWwgcmVnaXN0cnkgZm9yIGFsbCBzaGEyNTYgaGFzaGVzIGluIHRoZSBFdGhhcnQgZmFjdG9yeSBjb250cmFjdCBuZXR3b3JrLgoJCS0gQXBwcm92ZWQgRmFjdG9yeSBDb250cmFjdHMgY2FuIHJlZ2lzdGVyIHNoYTI1NiBoYXNoZXMgdXNpbmcgdGhlIFJlZ2lzdHJhciBpbnRlcmZhY2UuCgkJLSAyLjUlIG9mIHRoZSBhcnQgcHJvZHVjZWQgYW5kIDIuNSUgb2YgdHVybm92ZXIgb2YgdGhlIGNvbnRyYWN0IG5ldHdvcmsgd2lsbCBiZSB0cmFuc2ZlcmVkIHRvIHRoZSBSZWdpc3RyYXIuCgkKCUZhY3RvcnkgQ29udHJhY3RzOgoJCS0gRmFjdG9yeSBDb250cmFjdHMgY2FuIHNwYXduIEFydHdvcmsgQ29udHJhY3RzIGluIGxpbmUgd2l0aCBhcnRpc3RzIHNwZWNpZmljYXRpb25zCgkJLSBGYWN0b3J5IENvbnRyYWN0cyB3aWxsIG9ubHkgc3Bhd24gQXJ0d29yayBDb250cmFjdHMgd2hvJ3Mgc2hhMjU2IGhhc2hlcyBhcmUgdW5pcXVlIHBlciB0aGUgUmVnaXN0cmFyJ3Mgc2hhMjU2IHJlZ2lzdHJ5CgkJLSBGYWN0b3J5IENvbnRyYWN0cyB3aWxsIHJlZ2lzdGVyIGV2ZXJ5IG5ldyBBcnR3b3JrIENvbnRyYWN0IHdpdGggaXQncyBkZXRhaWxzIHdpdGggdGhlIFJlZ2lzdHJhciBjb250cmFjdAoJCglBcnR3b3JrIENvbnRyYWN0czoKCQktIEFydHdvcmsgQ29udHJhY3RzIGFjdCBhcyBtaW5pbWFsaXN0IGRlY2VudHJhbGl6ZWQgZXhjaGFuZ2VzIGZvciB0aGVpciBwaWVjZXMgaW4gbGluZSB3aXRoIHNwZWNpZmllZCBjb25kaXRpb25zCgkJLSBBcnR3b3JrIENvbnRyYWN0cyB3aWxsIGludGVyYWN0IHdpdGggdGhlIFJlZ2lzdHJhciB0byBpc3N1ZSBidXllcnMgb2YgcGllY2VzIGEgcHJlZGV0ZXJtaW5lZCBhbW91bnQgb2YgUGF0cm9uIHRva2VucyBiYXNlZCBvbiB0aGUgdHJhbnNhY3Rpb24gdmFsdWUgCgkJLSBBcnR3b3JrIENvbnRyYWN0cyBjYW4gYmUgaW50ZXJhY3RlZCB3aXRoIGJ5IHRoZSBDb250cm9sbGVyIHZpYSB0aGUgUmVnaXN0cmFyIHVzaW5nIHRoZWlyIGludGVyZmFjZXMgdG8gdHJhbnNmZXIsIHNlbGwsIGJ1cm4gZXRjIHBpZWNlcwoJCgkoYykgU3RlZmFuIFBlcm5hciAyMDE3IC0gYWxsIHJpZ2h0cyByZXNlcnZlZAoJKGMpIEVSQzIwIGZ1bmN0aW9ucyBCb2treVBvb0JhaCAyMDE3LiBUaGUgTUlUIExpY2VuY2UuCiovCgpjb250cmFjdCBJbnRlcmZhY2UgewoKCS8vIEV0aGFydCBuZXR3b3JrIGludGVyZmFjZQoJZnVuY3Rpb24gcmVnaXN0ZXJBcnR3b3JrIChhZGRyZXNzIF9jb250cmFjdCwgYnl0ZXMzMiBfU0hBMjU2SGFzaCwgdWludDI1NiBfZWRpdGlvblNpemUsIHN0cmluZyBfdGl0bGUsIHN0cmluZyBfZmlsZUxpbmssIHVpbnQyNTYgX293bmVyQ29tbWlzc2lvbiwgYWRkcmVzcyBfYXJ0aXN0LCBib29sIF9pbmRleGVkLCBib29sIF9vdXJvYm9yb3MpOwoJZnVuY3Rpb24gaXNTSEEyNTZIYXNoUmVnaXN0ZXJlZCAoYnl0ZXMzMiBfU0hBMjU2SGFzaCkgcmV0dXJucyAoYm9vbCBfcmVnaXN0ZXJlZCk7CQkJLy8gQ2hlY2sgaWYgYSBzaGEyNTYgaGFzaCBpcyByZWdpc3RhcmVkCglmdW5jdGlvbiBpc0ZhY3RvcnlBcHByb3ZlZCAoYWRkcmVzcyBfZmFjdG9yeSkgcmV0dXJucyAoYm9vbCBfYXBwcm92ZWQpOwkJCQkJCS8vIENoZWNrIGlmIGFuIGFkZHJlc3MgaXMgYSByZWdpc3RyZWQgZmFjdG9yeSBjb250cmFjdAoJZnVuY3Rpb24gaXNzdWVQYXRyb25zIChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KTsJCQkJCQkJCQkJLy8gSXNzdWVzIFBhdHJvbiB0b2tlbnMgYWNjb3JkaW5nIHRvIGNvbmRpdGlvbnMgc3BlY2lmaWVkIGluIGZhY3RvcnkgY29udHJhY3RzCiAgICBmdW5jdGlvbiBhcHByb3ZlRmFjdG9yeUNvbnRyYWN0IChhZGRyZXNzIF9mYWN0b3J5Q29udHJhY3RBZGRyZXNzLCBib29sIF9hcHByb3ZlZCk7CQkJLy8gQXBwcm92ZXMvZGlzYXBwcm92ZXMgZmFjdG9yeSBjb250cmFjdHMuCglmdW5jdGlvbiBjaGFuZ2VPd25lciAoYWRkcmVzcyBuZXdPd25lcik7CQkJCQkJCQkJCQkJCS8vIENoYW5nZSB0aGUgcmVnaXN0cmFyJ3Mgb3duZXIuCgoJZnVuY3Rpb24gb2ZmZXJQaWVjZUZvclNhbGVCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0LCB1aW50MjU2IF9wcmljZSk7CQkJCQkvLyBTZWxsIGEgcGllY2Ugb3duZWQgYnkgdGhlIHJlZ2lzdHJhci4KCWZ1bmN0aW9uIG9mZmVyUGllY2VGb3JTYWxlICh1aW50MjU2IF9wcmljZSk7CglmdW5jdGlvbiBmaWxsQmlkQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCk7CQkJCQkJCQkJCQkJLy8gRmlsbCBhIGJpZCB3aXRoIGFuIHVuaW5kZXhlZCBwaWVjZSBvd25lZCBieSB0aGUgcmVnaXN0cmFyCglmdW5jdGlvbiBmaWxsQmlkKCk7CglmdW5jdGlvbiBjYW5jZWxTYWxlQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCk7CQkJCQkJCQkJCQkvLyBDYW5jZWwgdGhlIHNhbGUgb2YgYW4gdW5pbmRleGVkIHBpZWNlIG93bmVkIGJ5IHRoZSByZWdpc3RyYXIKCWZ1bmN0aW9uIGNhbmNlbFNhbGUoKTsKCWZ1bmN0aW9uIG9mZmVySW5kZXhlZFBpZWNlRm9yU2FsZUJ5QWRkcmVzcyAoYWRkcmVzcyBfY29udHJhY3QsIHVpbnQyNTYgX2luZGV4LCB1aW50MjU2IF9wcmljZSk7CQkJCS8vIFNlbGwgYW4gaW5kZXhlZCBwaWVjZSBvd25lZCBieSB0aGUgcmVnaXN0cmFyLgoJZnVuY3Rpb24gb2ZmZXJJbmRleGVkUGllY2VGb3JTYWxlKHVpbnQyNTYgX2luZGV4LCB1aW50MjU2IF9wcmljZSk7CglmdW5jdGlvbiBmaWxsSW5kZXhlZEJpZEJ5QWRkcmVzcyAoYWRkcmVzcyBfY29udHJhY3QsIHVpbnQyNTYgX2luZGV4KTsJCQkJCQkvLyBGaWxsIGEgYmlkIHdpdGggYW4gaW5kZXhlZCBwaWVjZSBvd25lZCBieSB0aGUgcmVnaXN0cmFyCglmdW5jdGlvbiBmaWxsSW5kZXhlZEJpZCAodWludDI1NiBfaW5kZXgpOwoJZnVuY3Rpb24gY2FuY2VsSW5kZXhlZFNhbGVCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0KTsJCQkJCQkJCQkvLyBDYW5jZWwgdGhlIHNhbGUgb2YgYW4gdW5pbmRleGVkIHBpZWNlIG93bmVkIGJ5IHRoZSByZWdpc3RyYXIKCWZ1bmN0aW9uIGNhbmNlbEluZGV4ZWRTYWxlKCk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXJCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0LCB1aW50MjU2IF9hbW91bnQsIGFkZHJlc3MgX3RvKTsJCQkJLy8gVHJhbnNmZXJzIHVuaW5kZXhlZCBwaWVjZXMgb3duZWQgYnkgdGhlIHJlZ2lzdHJhciBjb250cmFjdAogICAgZnVuY3Rpb24gdHJhbnNmZXJJbmRleGVkQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCwgdWludDI1NiBfaW5kZXgsIGFkZHJlc3MgX3RvKTsJCS8vIFRyYW5zZmVycyBpbmRleGVkIHBpZWNlcyBvd25lZCBieSB0aGUgcmVnaXN0cmFyIGNvbnRyYWN0CglmdW5jdGlvbiBhcHByb3ZlQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCwgYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50KTsJCQkvLyBTZXRzIGFuIGFsbG93YW5jZSBmb3IgdW5pbmRleGVkIHBpZWNlcyBvd25lZCBieSB0aGUgcmVnaXN0cmFyIGNvbnRyYWN0CglmdW5jdGlvbiBhcHByb3ZlSW5kZXhlZEJ5QWRkcmVzcyAoYWRkcmVzcyBfY29udHJhY3QsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2luZGV4KTsJCS8vIFNldHMgYW4gYWxsb3dhbmNlIGZvciBpbmRleGVkIHBpZWNlcyBvd25lZCBieSB0aGUgcmVnaXN0cmFyIGNvbnRyYWN0CglmdW5jdGlvbiBidXJuQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCwgdWludDI1NiBfYW1vdW50KTsJCQkJCQkJCS8vIEJ1cm4gYW4gdW5pbmRleGVkIHBpZWNlIG93bmVkIGJ5IHRoZSByZWdpc3RyYXIgY29udHJhY3QKCWZ1bmN0aW9uIGJ1cm5Gcm9tQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCwgdWludDI1NiBfYW1vdW50LCBhZGRyZXNzIF9mcm9tKTsJCQkJLy8gQnVybiBhbiB1bmluZGV4ZWQgcGllY2Ugb3duZWQgYnkgYW5ub3RoZXIgYWRkcmVzcwoJZnVuY3Rpb24gYnVybkluZGV4ZWRCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0LCB1aW50MjU2IF9pbmRleCk7CQkJCQkJCS8vIEJ1cm4gYW4gaW5kZXhlZCBwaWVjZSBvd25lZCBieSB0aGUgcmVnaXN0cmFyIGNvbnRyYWN0CglmdW5jdGlvbiBidXJuSW5kZXhlZEZyb21CeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0LCBhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF9pbmRleCk7CQkvLyBCdXJuIGFuIGluZGV4ZWQgcGllY2Ugb3duZWQgYnkgYW5vdGhlciBhZGRyZXNzCgoJLy8gRVJDMjAgaW50ZXJmYWNlCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG90YWxTdXBwbHkpOwkJCQkJCQkJCS8vIFJldHVybnMgdGhlIHRvdGFsIHN1cHBseSBvZiBhbiBhcnR3b3JrIG9yIHRva2VuCglmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CQkJCQkJCS8vIFJldHVybnMgYW4gYWRkcmVzcycgYmFsYW5jZSBvZiBhbiBhcnR3b3JrIG9yIHRva2VuCiAJZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwkJCQkJCQkvLyBUcmFuc2ZlcnMgcGllY2VzIG9mIGFydCBvciB0b2tlbnMgdG8gYW4gYWRkcmVzcwogCWZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CQkvLyBUcmFuc2ZlcnMgcGllY2VzIG9mIGFydCBvZiB0b2tlbnMgb3duZWQgYnkgYW5vdGhlciBhZGRyZXNzIHRvIGFuIGFkZHJlc3MKCWZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CQkJCQkJLy8gU2V0cyBhbiBhbGxvd2FuY2UgZm9yIGFuIGFkZHJlc3MKCWZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwkJLy8gUmV0dXJucyB0aGUgYWxsb3dhbmNlIG9mIGFuIGFkZHJlc3MgZm9yIGFub3RoZXIgYWRkcmVzcwoKCS8vIEFkZGl0aW9uYWwgdG9rZW4gZnVuY3Rpb25zCglmdW5jdGlvbiBidXJuKHVpbnQyNTYgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsJCQkJCQkJCQkJLy8gQnVybnMgKHJlbW92ZXMgZnJvbSBjaXJjdWxhdGlvbikgdW5pbmRleGVkIHBpZWNlcyBvZiBhcnQgb3IgdG9rZW5zLgoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkvLyBJbiB0aGUgY2FzZSBvZiAnb3Vyb2Jvcm9zJyBwaWVjZXMgdGhpcyBmdW5jdGlvbiBhbHNvIHJldHVybnMgdGhlIHBpZWNlJ3MKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJLy8gY29tcG9uZW50cyB0byB0aGUgbWVzc2FnZSBzZW5kZXIKCQoJZnVuY3Rpb24gYnVybkZyb20oYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfYW1vdW50KSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwkJCQkJLy8gQnVybnMgKHJlbW92ZXMgZnJvbSBjaXJjdWxhdGlvbikgdW5pbmRleGVkIHBpZWNlcyBvZiBhcnQgb3IgdG9rZW5zCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCS8vIG93bmVkIGJ5IGFub3RoZXIgYWRkcmVzcy4gSW4gdGhlIGNhc2Ugb2YgJ291cm9ib3JvcycgcGllY2VzIHRoaXMKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJLy8gZnVuY3Rpb24gYWxzbyByZXR1cm5zIHRoZSBwaWVjZSdzIGNvbXBvbmVudHMgdG8gdGhlIG1lc3NhZ2Ugc2VuZGVyCgkKCS8vIEV4dGVuZGVkIEVSQzIwIGludGVyZmFjZSBmb3IgaW5kZXhlZCBwaWVjZXMKCWZ1bmN0aW9uIHRyYW5zZmVySW5kZXhlZCAoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX19pbmRleCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsJCQkvLyBUcmFuc2ZlcnMgYW4gaW5kZXhlZCBwaWVjZSBvZiBhcnQKCWZ1bmN0aW9uIHRyYW5zZmVyRnJvbUluZGV4ZWQgKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF9pbmRleCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsJLy8gVHJhbnNmZXJzIGFuIGluZGV4ZWQgcGllY2Ugb2YgYXJ0IGZyb20gYW5vdGhlciBhZGRyZXNzCglmdW5jdGlvbiBhcHByb3ZlSW5kZXhlZCAoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfaW5kZXgpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CQkJLy8gU2V0cyBhbiBhbGxvd2FuY2UgZm9yIGFuIGluZGV4ZWQgcGllY2Ugb2YgYXJ0IGZvciBhbm90aGVyIGFkZHJlc3MKCWZ1bmN0aW9uIGJ1cm5JbmRleGVkICh1aW50MjU2IF9pbmRleCk7CQkJCQkJCQkJCQkJCQkvLyBCdXJucyAocmVtb3ZlcyBmcm9tIGNpcmN1bGF0aW9uKSBpbmRleGVkIHBpZWNlcyBvZiBhcnQgb3IgdG9rZW5zLgoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkvLyBJbiB0aGUgY2FzZSBvZiAnb3Vyb2Jvcm9zJyBwaWVjZXMgdGhpcyBmdW5jdGlvbiBhbHNvIHJldHVybnMgdGhlCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCS8vIHBpZWNlJ3MgY29tcG9uZW50cyB0byB0aGUgbWVzc2FnZSBzZW5kZXIKCQoJZnVuY3Rpb24gYnVybkluZGV4ZWRGcm9tIChhZGRyZXNzIF9vd25lciwgdWludDI1NiBfaW5kZXgpOwkJCQkJCQkJCS8vIEJ1cm5zIChyZW1vdmVzIGZyb20gY2lyY3VsYXRpb24pIGluZGV4ZWQgcGllY2VzIG9mIGFydCBvciB0b2tlbnMKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJLy8gb3duZWQgYnkgYW5vdGhlciBhZGRyZXNzLiBJbiB0aGUgY2FzZSBvZiAnb3Vyb2Jvcm9zJyBwaWVjZXMgdGhpcwoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkvLyBmdW5jdGlvbiBhbHNvIHJldHVybnMgdGhlIHBpZWNlJ3MgY29tcG9uZW50cyB0byB0aGUgbWVzc2FnZSBzZW5kZXIKCn0KCmNvbnRyYWN0IFJlZ2lzdHJhciB7CgoJLy8gUGF0cm9uIHRva2VuIEVSQzIwIHB1YmxpYyB2YXJpYWJsZXMKCXN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkFSVCI7CglzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiUGF0cm9uIC0gRXRoYXJ0IE5ldHdvcmsgVG9rZW4iOwoJdWludDggcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7Cgl1aW50MjU2IF90b3RhbFBhdHJvblN1cHBseTsKCglldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSk7CglldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7CglldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIHVpbnQyNTYgX2Ftb3VudCk7CgogICAgLy8gUGF0cm9uIHRva2VuIGJhbGFuY2VzIGZvciBlYWNoIGFjY291bnQKCW1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZXM7CQkJCQkJLy8gUGF0cm9uIHRva2VuIGJhbGFuY2VzCgoJZXZlbnQgTmV3QXJ0d29yayhhZGRyZXNzIF9jb250cmFjdCwgYnl0ZXMzMiBfU0hBMjU2SGFzaCwgdWludDI1NiBfZWRpdGlvblNpemUsIHN0cmluZyBfdGl0bGUsIHN0cmluZyBfZmlsZUxpbmssIHVpbnQyNTYgX293bmVyQ29tbWlzc2lvbiwgYWRkcmVzcyBfYXJ0aXN0LCBib29sIF9pbmRleGVkLCBib29sIF9vdXJvYm9yb3MpOwoKCiAJLy8gT3duZXIgb2YgYWNjb3VudCBhcHByb3ZlcyB0aGUgdHJhbnNmZXIgb2YgYW4gYW1vdW50IG9mIFBhdHJvbiB0b2tlbnMgdG8gYW5vdGhlciBhY2NvdW50CiAJbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CQkJLy8gUGF0cm9uIHRva2VuIGFsbG93YW5jZXMKCQoJLy8gQkVHSU4gRVJDMjAgZnVuY3Rpb25zIChjKSBCb2treVBvb0JhaCAyMDE3LiBUaGUgTUlUIExpY2VuY2UuCgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHRvdGFsUGF0cm9uU3VwcGx5KSB7CgkJdG90YWxQYXRyb25TdXBwbHkgPSBfdG90YWxQYXRyb25TdXBwbHk7CgkJfQoKCS8vIFdoYXQgaXMgdGhlIGJhbGFuY2Ugb2YgYSBwYXJ0aWN1bGFyIGFjY291bnQ/CglmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogCQlyZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKCQl9CgoJLy8gVHJhbnNmZXIgdGhlIGJhbGFuY2UgZnJvbSBvd25lcidzIGFjY291bnQgdG8gYW5vdGhlciBhY2NvdW50CglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCQlpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCAKCQkJJiYgX2Ftb3VudCA+IDAKIAkJICAgCSYmIGJhbGFuY2VzW190b10gKyBfYW1vdW50ID4gYmFsYW5jZXNbX3RvXQoJCQkmJiBfdG8gIT0gMHgwKQkJCQkJCQkJCQkvLyB1c2UgYnVybigpIGluc3RlYWQKCQkJewoJCQliYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfYW1vdW50OwoJCQliYWxhbmNlc1tfdG9dICs9IF9hbW91bnQ7CgkJCVRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7CiAJCSAgIAlyZXR1cm4gdHJ1ZTsKCQkJfQoJCQllbHNlIHsgcmV0dXJuIGZhbHNlO30KIAkJIH0KCgkvLyBTZW5kIF92YWx1ZSBhbW91bnQgb2YgdG9rZW5zIGZyb20gYWRkcmVzcyBfZnJvbSB0byBhZGRyZXNzIF90bwoJLy8gVGhlIHRyYW5zZmVyRnJvbSBtZXRob2QgaXMgdXNlZCBmb3IgYSB3aXRoZHJhdyB3b3JrZmxvdywgYWxsb3dpbmcgY29udHJhY3RzIHRvIHNlbmQKIAkvLyB0b2tlbnMgb24geW91ciBiZWhhbGYsIGZvciBleGFtcGxlIHRvICJkZXBvc2l0IiB0byBhIGNvbnRyYWN0IGFkZHJlc3MgYW5kL29yIHRvIGNoYXJnZQogCS8vIGZlZXMgaW4gc3ViLWN1cnJlbmNpZXM7IHRoZSBjb21tYW5kIHNob3VsZCBmYWlsIHVubGVzcyB0aGUgX2Zyb20gYWNjb3VudCBoYXMKIAkvLyBkZWxpYmVyYXRlbHkgYXV0aG9yaXplZCB0aGUgc2VuZGVyIG9mIHRoZSBtZXNzYWdlIHZpYSBzb21lIG1lY2hhbmlzbTsgd2UgcHJvcG9zZQogCS8vIHRoZXNlIHN0YW5kYXJkaXplZCBBUElzIGZvciBhcHByb3ZhbDoKIAlmdW5jdGlvbiB0cmFuc2ZlckZyb20oIGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2VzcykKCQl7CgkJCWlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX2Ftb3VudAoJCQkJJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX2Ftb3VudAoJCQkJJiYgX2Ftb3VudCA+IDAKCQkJCSYmIGJhbGFuY2VzW190b10gKyBfYW1vdW50ID4gYmFsYW5jZXNbX3RvXQoJCQkJJiYgX3RvICE9IDB4MCkJCQkJCQkJCQkJLy8gdXNlIGJ1cm4oKSBpbnN0ZWFkCgkJCQkJewoJCQkJCWJhbGFuY2VzW19mcm9tXSAtPSBfYW1vdW50OwoJCQkJCWFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF9hbW91bnQ7CgkJCQkJYmFsYW5jZXNbX3RvXSArPSBfYW1vdW50OwoJCQkJCVRyYW5zZmVyKF9mcm9tLCBfdG8sIF9hbW91bnQpOwoJCQkJCXJldHVybiB0cnVlOwoJCQkJCX0gZWxzZSB7cmV0dXJuIGZhbHNlO30KCQl9CgoJLy8gQWxsb3cgX3NwZW5kZXIgdG8gd2l0aGRyYXcgZnJvbSB5b3VyIGFjY291bnQsIG11bHRpcGxlIHRpbWVzLCB1cCB0byB0aGUgX3ZhbHVlIGFtb3VudC4KCS8vIElmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGFnYWluIGl0IG92ZXJ3cml0ZXMgdGhlIGN1cnJlbnQgYWxsb3dhbmNlIHdpdGggX3ZhbHVlLgoJZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCWFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX2Ftb3VudDsKCQlBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX2Ftb3VudCk7CgkJcmV0dXJuIHRydWU7CgkJfQoKCWZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKCQlyZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKCQl9CgoJLy8gRU5EIEVSQzIwIGZ1bmN0aW9ucyAoYykgQm9ra3lQb29CYWggMjAxNy4gVGhlIE1JVCBMaWNlbmNlLgoJCgkvLyBBZGRpdGlvbmFsIFBhdHJvbiB0b2tlbiBmdW5jdGlvbnMKCQoJZnVuY3Rpb24gYnVybih1aW50MjU2IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCQlpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCkgewoJCQkJYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX2Ftb3VudDsKCQkJCV90b3RhbFBhdHJvblN1cHBseSAtPSBfYW1vdW50OwoJCQkJQnVybihtc2cuc2VuZGVyLCBfYW1vdW50KTsKCQkJCXJldHVybiB0cnVlOwoJCQl9CgkJCWVsc2Uge3Rocm93O30KCQl9CgoJZnVuY3Rpb24gYnVybkZyb20oYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCWlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSkgewoJCQliYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwoJCQlhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CgkJCV90b3RhbFBhdHJvblN1cHBseSAtPSBfdmFsdWU7CgkJCUJ1cm4oX2Zyb20sIF92YWx1ZSk7CgkJCXJldHVybiB0cnVlOwoJCX0KCQllbHNlIHt0aHJvdzt9Cgl9CgoJLy8gRXRoYXJ0IHZhcmlhYmxlcwogICAgbWFwcGluZyAoYnl0ZXMzMiA9PiBhZGRyZXNzKSBwdWJsaWMgU0hBMjU2SGFzaFJlZ2lzdGVyOwkJLy8gUmVnaXN0ZXIgb2YgYWxsIFNIQTI1NiBIYXNoZXMKCW1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGFwcHJvdmVkRmFjdG9yaWVzOwkJCS8vIFJlZ2lzdGVyIG9mIGFsbCBhcHByb3ZlZCBmYWN0b3J5IGNvbnRyYWN0cwoJbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgYXBwcm92ZWRDb250cmFjdHM7CQkJLy8gUmVnaXN0ZXIgb2YgYWxsIGFwcHJvdmVkIGFydHdvcmsgY29udHJhY3RzCgltYXBwaW5nIChhZGRyZXNzID0+IGFkZHJlc3MpIHB1YmxpYyByZWZlcnJlZDsJCQkJLy8gUmVnaXN0ZXIgb2YgYWxsIHJlZmVycmVycyAocmVmZXJyZWUgPT4gcmVmZXJyZXIpIHVzZWQgZm9yIHRoZSBhZmZpbGlhdGUgcHJvZ3JhbQoJbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgY2FudFNldFJlZmVycmVyOwkJCS8vIFJlZmVycmVyIGZvciBhbiBhcnRpc3QgaGFzIHRvIGJlIHNldCBfYmVmb3JlXyB0aGUgZmlyc3QgcGllY2UgaGFzIGJlZW4gY3JlYXRlZCBieSBhbiBhZGRyZXNzCgoJc3RydWN0IGFydHdvcmsgewoJCWJ5dGVzMzIgU0hBMjU2SGFzaDsKCQl1aW50MjU2IGVkaXRpb25TaXplOwoJCXN0cmluZyB0aXRsZTsKCQlzdHJpbmcgZmlsZUxpbms7CgkJdWludDI1NiBvd25lckNvbW1pc3Npb247CgkJYWRkcmVzcyBhcnRpc3Q7CgkJYWRkcmVzcyBmYWN0b3J5OwoJCWJvb2wgaXNJbmRleGVkOwoJCWJvb2wgaXNPdXJvYm9yb3M7fQoJCgltYXBwaW5nIChhZGRyZXNzID0+IGFydHdvcmspIHB1YmxpYyBhcnR3b3JrUmVnaXN0ZXI7CQkvLyBSZWdpc3RlciBvZiBhbGwgYXJ0d29ya3MgYW5kIHRoZWlyIGRldGFpbHMKCgkvLyBBbiBpbmRleGVkIHJlZ2lzdGVyIG9mIGFsbCBvZiBhbiBhcnRpc3QncyBhcnR3b3JrcwoJbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcgKHVpbnQyNTYgPT4gYWRkcmVzcykpIHB1YmxpYyBhcnRpc3RzQXJ0d29ya3M7CS8vIEVudGVyIGFydGlzdCBhZGRyZXNzIGFuZCBhIHJ1bm5pbmcgbnVtYmVyIHRvIGdldCB0aGUgYXJ0aXN0J3MgYXJ0d29yayBhZGRyZXNzZXMuCgltYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGFydGlzdHNBcnR3b3JrQ291bnQ7CQkJCQkJLy8gQSBydW5uaW5nIG51bWJlciBjb3VudGluZyBhbiBhcnRpc3QncyBhcnR3b3JrcwoJbWFwcGluZyhhZGRyZXNzID0+IGFkZHJlc3MpIHB1YmxpYyBhcnR3b3Jrc0ZhY3Rvcnk7CQkJCQkJCS8vIE1hcHMgYWxsIGFydHdvcmtzIHRvIHRoZWlyIHJlc3BlY3RpdmUgZmFjdG9yeSBjb250cmFjdHMKCgl1aW50MjU2IGFydHdvcmtDb3VudDsJCQkJCQkJCQkJLy8gS2VlcHMgdHJhY2sgb2YgdGhlIG51bWJlciBvZiBhcnR3b3JrIGNvbnRyYWN0cyBpbiB0aGUgbmV0d29yawoJCgltYXBwaW5nICh1aW50MjU2ID0+IGFkZHJlc3MpIHB1YmxpYyBhcnR3b3JrSW5kZXg7CQkJLy8gQW4gaW5kZXggb2YgYWxsIHRoZSBhcnR3b3JrIGNvbnRyYWN0cyBpbiB0aGUgbmV0d29yawoKCWFkZHJlc3MgcHVibGljIG93bmVyOwkJCQkJCQkJCQkvLyBUaGUgYWRkcmVzcyBvZiB0aGUgY29udHJhY3Qgb3duZXIKCQoJdWludDI1NiBwdWJsaWMgZG9uYXRpb25NdWx0aXBsaWVyOwoKICAgIC8vIEZ1bmN0aW9ucyB3aXRoIHRoaXMgbW9kaWZpZXIgY2FuIG9ubHkgYmUgZXhlY3V0ZWQgYnkgYSBzcGVjaWZpYyBhZGRyZXNzCiAgICBtb2RpZmllciBvbmx5QnkgKGFkZHJlc3MgX2FjY291bnQpCiAgICB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IF9hY2NvdW50KTsKICAgICAgICBfOwogICAgfQoKICAgIC8vIEZ1bmN0aW9ucyB3aXRoIHRoaXMgbW9kaWZpZXIgY2FuIG9ubHkgYmUgZXhlY3V0ZWQgYnkgYXBwcm92ZWQgZmFjdG9yeSBjb250cmFjdHMKICAgIG1vZGlmaWVyIHJlZ2lzdGVyZEZhY3Rvcmllc09ubHkgKCkKICAgIHsKICAgICAgICByZXF1aXJlKGFwcHJvdmVkRmFjdG9yaWVzW21zZy5zZW5kZXJdKTsKICAgICAgICBfOwogICAgfQoKCW1vZGlmaWVyIGFwcHJvdmVkQ29udHJhY3RzT25seSAoKQoJewoJCXJlcXVpcmUoYXBwcm92ZWRDb250cmFjdHNbbXNnLnNlbmRlcl0pOwoJCV87Cgl9CgoJZnVuY3Rpb24gc2V0UmVmZXJyZXIgKGFkZHJlc3MgX3JlZmVycmVyKQoJCXsKCQkJaWYgKHJlZmVycmVkW21zZy5zZW5kZXJdID09IDB4MCAmJiAhY2FudFNldFJlZmVycmVyW21zZy5zZW5kZXJdKQoJCQl7CgkJCQlyZWZlcnJlZFttc2cuc2VuZGVyXSA9IF9yZWZlcnJlcjsKCQkJfQoJCX0KCglmdW5jdGlvbiBSZWdpc3RyYXIgKCkgewoJCW93bmVyID0gbXNnLnNlbmRlcjsKCQlkb25hdGlvbk11bHRpcGxpZXIgPSAxMDA7Cgl9CgoJLy8gYWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIGFzc2lnbiBhIG5ldyBvd25lcgoJZnVuY3Rpb24gY2hhbmdlT3duZXIgKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlCeSAob3duZXIpIAoJCXsKCQkJb3duZXIgPSBuZXdPd25lcjsKCQl9CgoJZnVuY3Rpb24gaXNzdWVQYXRyb25zIChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBhcHByb3ZlZENvbnRyYWN0c09ubHkKCQl7CgkJCWJhbGFuY2VzW190b10gKz0gX2Ftb3VudDsKCQkJX3RvdGFsUGF0cm9uU3VwcGx5ICs9IF9hbW91bnQ7CgkJfQoKCWZ1bmN0aW9uIHNldERvbmF0aW9uUmV3YXJkICh1aW50MjU2IF9tdWx0aXBsaWVyKSBvbmx5QnkgKG93bmVyKQoJCXsKCQkJZG9uYXRpb25NdWx0aXBsaWVyID0gX211bHRpcGxpZXI7CgkJfQoKCWZ1bmN0aW9uIGRvbmF0ZSAoKSBwYXlhYmxlCgkJewoJCQliYWxhbmNlc1ttc2cuc2VuZGVyXSArPSBtc2cudmFsdWUgKiBkb25hdGlvbk11bHRpcGxpZXI7CgkJCV90b3RhbFBhdHJvblN1cHBseSArPSBtc2cudmFsdWUgKiBkb25hdGlvbk11bHRpcGxpZXI7CgkJfQoKCWZ1bmN0aW9uIHJlZ2lzdGVyQXJ0d29yayAoYWRkcmVzcyBfY29udHJhY3QsIGJ5dGVzMzIgX1NIQTI1Nkhhc2gsIHVpbnQyNTYgX2VkaXRpb25TaXplLCBzdHJpbmcgX3RpdGxlLCBzdHJpbmcgX2ZpbGVMaW5rLCB1aW50MjU2IF9vd25lckNvbW1pc3Npb24sIGFkZHJlc3MgX2FydGlzdCwgYm9vbCBfaW5kZXhlZCwgYm9vbCBfb3Vyb2Jvcm9zKSByZWdpc3RlcmRGYWN0b3JpZXNPbmx5CgkJewoJCWlmIChTSEEyNTZIYXNoUmVnaXN0ZXJbX1NIQTI1Nkhhc2hdID09IDB4MCkgewoJCSAgIAlTSEEyNTZIYXNoUmVnaXN0ZXJbX1NIQTI1Nkhhc2hdID0gX2NvbnRyYWN0OwoJCQlhcHByb3ZlZENvbnRyYWN0c1tfY29udHJhY3RdID0gdHJ1ZTsKCQkJY2FudFNldFJlZmVycmVyW19hcnRpc3RdID0gdHJ1ZTsKCQkJYXJ0d29ya1JlZ2lzdGVyW19jb250cmFjdF0uU0hBMjU2SGFzaCA9IF9TSEEyNTZIYXNoOwoJCQlhcnR3b3JrUmVnaXN0ZXJbX2NvbnRyYWN0XS5lZGl0aW9uU2l6ZSA9IF9lZGl0aW9uU2l6ZTsKCQkJYXJ0d29ya1JlZ2lzdGVyW19jb250cmFjdF0udGl0bGUgPSBfdGl0bGU7CgkJCWFydHdvcmtSZWdpc3RlcltfY29udHJhY3RdLmZpbGVMaW5rID0gX2ZpbGVMaW5rOwoJCQlhcnR3b3JrUmVnaXN0ZXJbX2NvbnRyYWN0XS5vd25lckNvbW1pc3Npb24gPSBfb3duZXJDb21taXNzaW9uOwoJCQlhcnR3b3JrUmVnaXN0ZXJbX2NvbnRyYWN0XS5hcnRpc3QgPSBfYXJ0aXN0OwoJCQlhcnR3b3JrUmVnaXN0ZXJbX2NvbnRyYWN0XS5mYWN0b3J5ID0gbXNnLnNlbmRlcjsKCQkJYXJ0d29ya1JlZ2lzdGVyW19jb250cmFjdF0uaXNJbmRleGVkID0gX2luZGV4ZWQ7CgkJCWFydHdvcmtSZWdpc3RlcltfY29udHJhY3RdLmlzT3Vyb2Jvcm9zID0gX291cm9ib3JvczsKCQkJYXJ0d29ya0luZGV4W2FydHdvcmtDb3VudF0gPSBfY29udHJhY3Q7CgkJCWFydGlzdHNBcnR3b3Jrc1tfYXJ0aXN0XVthcnRpc3RzQXJ0d29ya0NvdW50W19hcnRpc3RdXSA9IF9jb250cmFjdDsKCQkJYXJ0aXN0c0FydHdvcmtDb3VudFtfYXJ0aXN0XSsrOwoJCQlhcnR3b3Jrc0ZhY3RvcnlbX2NvbnRyYWN0XSA9IG1zZy5zZW5kZXI7CgkJCU5ld0FydHdvcmsgKF9jb250cmFjdCwgX1NIQTI1Nkhhc2gsIF9lZGl0aW9uU2l6ZSwgX3RpdGxlLCBfZmlsZUxpbmssIF9vd25lckNvbW1pc3Npb24sIF9hcnRpc3QsIF9pbmRleGVkLCBfb3Vyb2Jvcm9zKTsKCQkJYXJ0d29ya0NvdW50Kys7CgkJCX0KCQkJZWxzZSB7dGhyb3c7fQoJCX0KCglmdW5jdGlvbiBpc1NIQTI1Nkhhc2hSZWdpc3RlcmVkIChieXRlczMyIF9TSEEyNTZIYXNoKSByZXR1cm5zIChib29sIF9yZWdpc3RlcmVkKQoJCXsKCQlpZiAoU0hBMjU2SGFzaFJlZ2lzdGVyW19TSEEyNTZIYXNoXSA9PSAweDApCgkJCXtyZXR1cm4gZmFsc2U7fQoJCWVsc2Uge3JldHVybiB0cnVlO30KCQl9CgoKCWZ1bmN0aW9uIGFwcHJvdmVGYWN0b3J5Q29udHJhY3QgKGFkZHJlc3MgX2ZhY3RvcnlDb250cmFjdEFkZHJlc3MsIGJvb2wgX2FwcHJvdmVkKSBvbmx5QnkgKG93bmVyKQoJCXsKCQkJYXBwcm92ZWRGYWN0b3JpZXNbX2ZhY3RvcnlDb250cmFjdEFkZHJlc3NdID0gX2FwcHJvdmVkOwoJCX0KCglmdW5jdGlvbiBpc0ZhY3RvcnlBcHByb3ZlZCAoYWRkcmVzcyBfZmFjdG9yeSkgcmV0dXJucyAoYm9vbCBfYXBwcm92ZWQpCgkJewoJCQlpZiAoYXBwcm92ZWRGYWN0b3JpZXNbX2ZhY3RvcnldKQoJCQl7CgkJCQlyZXR1cm4gdHJ1ZTsKCQkJfQoJCQllbHNlIHtyZXR1cm4gZmFsc2U7fQoJCX0KCglmdW5jdGlvbiB3aXRoZHJhd0Z1bmRzICh1aW50MjU2IF9FVEhBbW91bnQsIGFkZHJlc3MgX3RvKSBvbmx5QnkgKG93bmVyKQoJCXsKCQkJaWYgKHRoaXMuYmFsYW5jZSA+PSBfRVRIQW1vdW50KQoJCQl7CgkJCQlfdG8udHJhbnNmZXIoX0VUSEFtb3VudCk7CgkJCX0KCQkJZWxzZSB7dGhyb3c7fQoJCX0KCglmdW5jdGlvbiB0cmFuc2ZlckJ5QWRkcmVzcyAoYWRkcmVzcyBfY29udHJhY3QsIHVpbnQyNTYgX2Ftb3VudCwgYWRkcmVzcyBfdG8pIG9ubHlCeSAob3duZXIpIAoJCXsKCQkJSW50ZXJmYWNlIGMgPSBJbnRlcmZhY2UoX2NvbnRyYWN0KTsKCQkJYy50cmFuc2ZlcihfdG8sIF9hbW91bnQpOwoJCX0KCglmdW5jdGlvbiB0cmFuc2ZlckluZGV4ZWRCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0LCB1aW50MjU2IF9pbmRleCwgYWRkcmVzcyBfdG8pIG9ubHlCeSAob3duZXIpCgkJewoJCQlJbnRlcmZhY2UgYyA9IEludGVyZmFjZShfY29udHJhY3QpOwoJCQljLnRyYW5zZmVySW5kZXhlZChfdG8sIF9pbmRleCk7CgkJfQoKCWZ1bmN0aW9uIGFwcHJvdmVCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0LCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF9hbW91bnQpIG9ubHlCeSAob3duZXIpCgkJewoJCQlJbnRlcmZhY2UgYyA9IEludGVyZmFjZShfY29udHJhY3QpOwoJCQljLmFwcHJvdmUoX3NwZW5kZXIsIF9hbW91bnQpOwoJCX0JCgoJZnVuY3Rpb24gYXBwcm92ZUluZGV4ZWRCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0LCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF9pbmRleCkgb25seUJ5IChvd25lcikKCQl7CgkJCUludGVyZmFjZSBjID0gSW50ZXJmYWNlKF9jb250cmFjdCk7CgkJCWMuYXBwcm92ZUluZGV4ZWQoX3NwZW5kZXIsIF9pbmRleCk7CgkJfQoKCWZ1bmN0aW9uIGJ1cm5CeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0LCB1aW50MjU2IF9hbW91bnQpIG9ubHlCeSAob3duZXIpCgkJewoJCQlJbnRlcmZhY2UgYyA9IEludGVyZmFjZShfY29udHJhY3QpOwoJCQljLmJ1cm4oX2Ftb3VudCk7CgkJfQoKCWZ1bmN0aW9uIGJ1cm5Gcm9tQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCwgdWludDI1NiBfYW1vdW50LCBhZGRyZXNzIF9mcm9tKSBvbmx5QnkgKG93bmVyKQoJCXsKCQkJSW50ZXJmYWNlIGMgPSBJbnRlcmZhY2UoX2NvbnRyYWN0KTsKCQkJYy5idXJuRnJvbSAoX2Zyb20sIF9hbW91bnQpOwoJCX0KCglmdW5jdGlvbiBidXJuSW5kZXhlZEJ5QWRkcmVzcyAoYWRkcmVzcyBfY29udHJhY3QsIHVpbnQyNTYgX2luZGV4KSBvbmx5QnkgKG93bmVyKQoJCXsKCQkJSW50ZXJmYWNlIGMgPSBJbnRlcmZhY2UoX2NvbnRyYWN0KTsKCQkJYy5idXJuSW5kZXhlZChfaW5kZXgpOwoJCX0KCglmdW5jdGlvbiBidXJuSW5kZXhlZEZyb21CeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0LCBhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF9pbmRleCkgb25seUJ5IChvd25lcikKCQl7CgkJCUludGVyZmFjZSBjID0gSW50ZXJmYWNlKF9jb250cmFjdCk7CgkJCWMuYnVybkluZGV4ZWRGcm9tKF9mcm9tLCBfaW5kZXgpOwoJCX0KCglmdW5jdGlvbiBvZmZlclBpZWNlRm9yU2FsZUJ5QWRkcmVzcyAoYWRkcmVzcyBfY29udHJhY3QsIHVpbnQyNTYgX3ByaWNlKSBvbmx5QnkgKG93bmVyKQoJCXsKCQkJSW50ZXJmYWNlIGMgPSBJbnRlcmZhY2UoX2NvbnRyYWN0KTsKCQkJYy5vZmZlclBpZWNlRm9yU2FsZShfcHJpY2UpOwoJCX0KCglmdW5jdGlvbiBmaWxsQmlkQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCkgb25seUJ5IChvd25lcikJCQkJCQkJLy8gRmlsbCBhIGJpZCB3aXRoIGFuIHVuaW5kZXhlZCBwaWVjZSBvd25lZCBieSB0aGUgcmVnaXN0cmFyCgkJewoJCQlJbnRlcmZhY2UgYyA9IEludGVyZmFjZShfY29udHJhY3QpOwoJCQljLmZpbGxCaWQoKTsKCQl9CgoJZnVuY3Rpb24gY2FuY2VsU2FsZUJ5QWRkcmVzcyAoYWRkcmVzcyBfY29udHJhY3QpIG9ubHlCeSAob3duZXIpCQkJCQkJCS8vIENhbmNlbCB0aGUgc2FsZSBvZiBhbiB1bmluZGV4ZWQgcGllY2Ugb3duZWQgYnkgdGhlIHJlZ2lzdHJhcgoJCXsKCQkJSW50ZXJmYWNlIGMgPSBJbnRlcmZhY2UoX2NvbnRyYWN0KTsKCQkJYy5jYW5jZWxTYWxlKCk7CgkJfQoKCWZ1bmN0aW9uIG9mZmVySW5kZXhlZFBpZWNlRm9yU2FsZUJ5QWRkcmVzcyAoYWRkcmVzcyBfY29udHJhY3QsIHVpbnQyNTYgX2luZGV4LCB1aW50MjU2IF9wcmljZSkgb25seUJ5IChvd25lcikJCQkvLyBTZWxsIGFuIGluZGV4ZWQgcGllY2Ugb3duZWQgYnkgdGhlIHJlZ2lzdHJhci4KCQl7CgkJCUludGVyZmFjZSBjID0gSW50ZXJmYWNlKF9jb250cmFjdCk7CgkJCWMub2ZmZXJJbmRleGVkUGllY2VGb3JTYWxlKF9pbmRleCwgX3ByaWNlKTsKCQl9CgoJZnVuY3Rpb24gZmlsbEluZGV4ZWRCaWRCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0LCB1aW50MjU2IF9pbmRleCkgb25seUJ5IChvd25lcikJCQkJCS8vIEZpbGwgYSBiaWQgd2l0aCBhbiBpbmRleGVkIHBpZWNlIG93bmVkIGJ5IHRoZSByZWdpc3RyYXIKCQl7CgkJCUludGVyZmFjZSBjID0gSW50ZXJmYWNlKF9jb250cmFjdCk7CgkJCWMuZmlsbEluZGV4ZWRCaWQoX2luZGV4KTsKCQl9CgoJZnVuY3Rpb24gY2FuY2VsSW5kZXhlZFNhbGVCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0KSBvbmx5QnkgKG93bmVyKQkJCQkJCQkJLy8gQ2FuY2VsIHRoZSBzYWxlIG9mIGFuIHVuaW5kZXhlZCBwaWVjZSBvd25lZCBieSB0aGUgcmVnaXN0cmFyCgkJewoJCQlJbnRlcmZhY2UgYyA9IEludGVyZmFjZShfY29udHJhY3QpOwoJCQljLmNhbmNlbEluZGV4ZWRTYWxlKCk7CgkJfQoJCglmdW5jdGlvbigpIHBheWFibGUKCQl7CgkJCWlmICghYXBwcm92ZWRDb250cmFjdHNbbXNnLnNlbmRlcl0pIHt0aHJvdzt9CQkJCQkJLy8gdXNlIGRvbmF0ZSAoKSBmb3IgZG9uYXRpb25zIGFuZCB5b3Ugd2lsbCBnZXQgZG9uYXRpb25NdWx0aXBsaWVyICogeW91ciBkb25hdGlvbiBpbiBQYXRyb24gdG9rZW5zLiBZYXkhCgkJfQoKCS8vIFNlbWkgdWludmVyc2FsIGNhbGwgZnVuY3Rpb24gZm9yIHVuZm9yc2VlbiBmdXR1cmUgRXRoYXJ0IG5ldHdvcmsgY29udHJhY3QgdHlwZXMgYW5kIHVzZSBjYXNlcy4gU3RyaW5nIGZvcm1hdDogIjxmdW5jdGlvbk5hbWU+KGFkZHJlc3MsYWRkcmVzcyx1aW50MjU2LHVpbnQyNTYsYm9vbCxzdHJpbmcsYnl0ZXMzMikiCglmdW5jdGlvbiBjYWxsQ29udHJhY3RGdW5jdGlvbkJ5QWRkcmVzcyhhZGRyZXNzIF9jb250cmFjdCwgc3RyaW5nIGZ1bmN0aW9uTmFtZUFuZFR5cGVzLCBhZGRyZXNzIF9hZGRyZXNzMSwgYWRkcmVzcyBfYWRkcmVzczIsIHVpbnQyNTYgX3ZhbHVlMSwgdWludDI1NiBfdmFsdWUyLCBib29sIF9ib29sLCBzdHJpbmcgX3N0cmluZywgYnl0ZXMzMiBfYnl0ZXMzMikgb25seUJ5IChvd25lcikKCXsKCQlpZighX2NvbnRyYWN0LmNhbGwoYnl0ZXM0KHNoYTMoZnVuY3Rpb25OYW1lQW5kVHlwZXMpKSxfYWRkcmVzczEsIF9hZGRyZXNzMiwgX3ZhbHVlMSwgX3ZhbHVlMiwgX2Jvb2wsIF9zdHJpbmcsIF9ieXRlczMyKSkge3Rocm93O30KCX0KfQ=='.
	

]
