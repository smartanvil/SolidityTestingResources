Class {
	#name : #SRT6750c97aa8a1b388ed560a06aefd64d457455ba7,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT6750c97aa8a1b388ed560a06aefd64d457455ba7 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLiAKICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqICAgCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4gCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgoKLyoqCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBAZGV2IEltcGxlbWVudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFyZCB0b2tlbi4KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgewogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgIC8vIGlmIChfdmFsdWUgPiBfYWxsb3dhbmNlKSB0aHJvdzsKCiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHsKCiAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICBpZiAoKF92YWx1ZSAhPSAwKSAmJiAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gIT0gMCkpIHRocm93OwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9Cgp9CgoKLyoqCiAqIEB0aXRsZSBCbG9ja3RpeCBUb2tlbiBHZW5lcmF0aW9uIEV2ZW50IGNvbnRyYWN0CiAqCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBCQVQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9icmF2ZS1pbnRsL2Jhc2ljLWF0dGVudGlvbi10b2tlbi1jcm93ZHNhbGUvYmxvYi9tYXN0ZXIvY29udHJhY3RzL0JBVG9rZW4uc29sCiAqLwpjb250cmFjdCBUSVhHZW5lcmF0aW9uIGlzIFN0YW5kYXJkVG9rZW4gewogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkJsb2NrdGl4IFRva2VuIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIlRJWCI7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwogICAgc3RyaW5nIHB1YmxpYyB2ZXJzaW9uID0gIjEuMCI7CgogICAgLy8gY3Jvd2RzYWxlIHBhcmFtZXRlcnMKICAgIGJvb2wgcHVibGljIGlzRmluYWxpemVkOyAgICAgICAgICAgICAgLy8gc3dpdGNoZWQgdG8gdHJ1ZSBpbiBvcGVyYXRpb25hbCBzdGF0ZQogICAgdWludDI1NiBwdWJsaWMgc3RhcnRUaW1lID0gMDsgICAgICAgICAvLyBjcm93ZHNhbGUgc3RhcnQgdGltZSAoaW4gc2Vjb25kcykKICAgIHVpbnQyNTYgcHVibGljIGVuZFRpbWUgPSAwOyAgICAgICAgICAgLy8gY3Jvd2RzYWxlIGVuZCB0aW1lIChpbiBzZWNvbmRzKQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgdG9rZW5HZW5lcmF0aW9uQ2FwID0gIDYyLjUgKiAoMTAqKjYpICogMTAqKmRlY2ltYWxzOyAvLyA2Mi41bSBUSVgKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHQydG9rZW5FeGNoYW5nZVJhdGUgPSAxMjUwOwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgdDN0b2tlbkV4Y2hhbmdlUmF0ZSA9IDEwNDE7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCB0aXhGdW5kID0gdG9rZW5HZW5lcmF0aW9uQ2FwIC8gMTAwICogMjQ7ICAgICAvLyAyNCUKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHRpeEZvdW5kZXJzID0gdG9rZW5HZW5lcmF0aW9uQ2FwIC8gMTAwICogMTA7IC8vIDEwJQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgdGl4UHJvbW8gPSB0b2tlbkdlbmVyYXRpb25DYXAgLyAxMDAgKiAyOyAgICAgLy8gMiUKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHRpeFByZXNhbGUgPSAyOS4xNiAqICgxMCoqNikgKiAxMCoqZGVjaW1hbHM7ICAgIC8vIDI5LjE2bSBUSVggUHJlc2FsZQoKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGZpbmFsVGllciA9IDUyLjUgKiAoMTAqKjYpICogMTAqKmRlY2ltYWxzOyAvLyBsYXN0IDEwbQogICAgdWludDI1NiBwdWJsaWMgdG9rZW5FeGNoYW5nZVJhdGUgPSB0MnRva2VuRXhjaGFuZ2VSYXRlOwoKICAgIC8vIGFkZHJlc3NlcwogICAgYWRkcmVzcyBwdWJsaWMgZXRoRnVuZERlcG9zaXQ7ICAgICAgLy8gZGVwb3NpdCBhZGRyZXNzIGZvciBFVEggZm9yIEJsb2NrdGl4CiAgICBhZGRyZXNzIHB1YmxpYyB0aXhGdW5kRGVwb3NpdDsgICAgICAvLyBkZXBvc2l0IGFkZHJlc3MgZm9yIFRJWCBmb3IgQmxvY2t0aXgKICAgIGFkZHJlc3MgcHVibGljIHRpeEZvdW5kZXJzRGVwb3NpdDsgIC8vIGRlcG9zaXQgYWRkcmVzcyBmb3IgVElYIGZvciBGb3VuZGVycwogICAgYWRkcmVzcyBwdWJsaWMgdGl4UHJvbW9EZXBvc2l0OyAgICAgLy8gZGVwb3NpdCBhZGRyZXNzIGZvciBUSVggZm9yIFByb21vdGlvbgogICAgYWRkcmVzcyBwdWJsaWMgdGl4UHJlc2FsZURlcG9zaXQ7ICAgLy8gZGVwb3NpdCBhZGRyZXNzIGZvciBUSVggZm9yIFByZXNhbGUKCiAgICAvKioKICAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgZmluYWxpemVkCiAgICAqLwogICAgbW9kaWZpZXIgd2hlbkZpbmFsaXplZCgpIHsKICAgICAgICBpZiAoIWlzRmluYWxpemVkKSB0aHJvdzsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IG1vZGlmaWVyIHRvIGFsbG93IGFjdGlvbnMgb25seSB3aGVuIHRoZSBjb250cmFjdCBJUyBOT1QgZmluYWxpemVkCiAgICAqLwogICAgbW9kaWZpZXIgd2hlbk5vdEZpbmFsaXplZCgpIHsKICAgICAgICBpZiAoaXNGaW5hbGl6ZWQpIHRocm93OwogICAgICAgIF87CiAgICB9CgogICAgLy8gZW5zdXJlcyB0aGF0IHRoZSBjdXJyZW50IHRpbWUgaXMgYmV0d2VlbiBfc3RhcnRUaW1lIChpbmNsdXNpdmUpIGFuZCBfZW5kVGltZSAoZXhjbHVzaXZlKQogICAgbW9kaWZpZXIgYmV0d2Vlbih1aW50MjU2IF9zdGFydFRpbWUsIHVpbnQyNTYgX2VuZFRpbWUpIHsKICAgICAgICBhc3NlcnQobm93ID49IF9zdGFydFRpbWUgJiYgbm93IDwgX2VuZFRpbWUpOwogICAgICAgIF87CiAgICB9CgogICAgLy8gdmVyaWZpZXMgdGhhdCBhbiBhbW91bnQgaXMgZ3JlYXRlciB0aGFuIHplcm8KICAgIG1vZGlmaWVyIHZhbGlkQW1vdW50KCkgewogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID4gMCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLyB2YWxpZGF0ZXMgYW4gYWRkcmVzcyAtIGN1cnJlbnRseSBvbmx5IGNoZWNrcyB0aGF0IGl0IGlzbid0IG51bGwKICAgIG1vZGlmaWVyIHZhbGlkQWRkcmVzcyhhZGRyZXNzIF9hZGRyZXNzKSB7CiAgICAgICAgcmVxdWlyZShfYWRkcmVzcyAhPSAweDApOwogICAgICAgIF87CiAgICB9CgogICAgLy8gZXZlbnRzCiAgICBldmVudCBDcmVhdGVUSVgoYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwoKICAgIC8qKgogICAgKiBAZGV2IENvbnRydWN0b3IgdGhhdCBhc3NpZ25zIGFsbCBwcmVzYWxlIHRva2VucyBhbmQgc3RhcnRzIHRoZSBzYWxlCiAgICAqLwogICAgZnVuY3Rpb24gVElYR2VuZXJhdGlvbigKICAgICAgICBhZGRyZXNzIF9ldGhGdW5kRGVwb3NpdCwKICAgICAgICBhZGRyZXNzIF90aXhGdW5kRGVwb3NpdCwKICAgICAgICBhZGRyZXNzIF90aXhGb3VuZGVyc0RlcG9zaXQsCiAgICAgICAgYWRkcmVzcyBfdGl4UHJvbW9EZXBvc2l0LAogICAgICAgIGFkZHJlc3MgX3RpeFByZXNhbGVEZXBvc2l0LAogICAgICAgIHVpbnQyNTYgX3N0YXJ0VGltZSwKICAgICAgICB1aW50MjU2IF9lbmRUaW1lKQogICAgewogICAgICAgIGlzRmluYWxpemVkID0gZmFsc2U7IC8vIEluaXRpYWxpemUgcHJlc2FsZQoKICAgICAgICBldGhGdW5kRGVwb3NpdCA9IF9ldGhGdW5kRGVwb3NpdDsKICAgICAgICB0aXhGdW5kRGVwb3NpdCA9IF90aXhGdW5kRGVwb3NpdDsKICAgICAgICB0aXhGb3VuZGVyc0RlcG9zaXQgPSBfdGl4Rm91bmRlcnNEZXBvc2l0OwogICAgICAgIHRpeFByb21vRGVwb3NpdCA9IF90aXhQcm9tb0RlcG9zaXQ7CiAgICAgICAgdGl4UHJlc2FsZURlcG9zaXQgPSBfdGl4UHJlc2FsZURlcG9zaXQ7CgogICAgICAgIHN0YXJ0VGltZSA9IF9zdGFydFRpbWU7CiAgICAgICAgZW5kVGltZSA9IF9lbmRUaW1lOwoKICAgICAgICAvLyBBbGxvY2F0ZSBwcmVzYWxlIGFuZCBmb3VuZGVycyB0aXgKICAgICAgICB0b3RhbFN1cHBseSA9IHRpeEZ1bmQ7CiAgICAgICAgdG90YWxTdXBwbHkgKz0gdGl4Rm91bmRlcnM7CiAgICAgICAgdG90YWxTdXBwbHkgKz0gdGl4UHJvbW87CiAgICAgICAgdG90YWxTdXBwbHkgKz0gdGl4UHJlc2FsZTsKICAgICAgICBiYWxhbmNlc1t0aXhGdW5kRGVwb3NpdF0gPSB0aXhGdW5kOyAgICAgICAgIC8vIERlcG9zaXQgVElYIGZvciBCbG9ja3RpeAogICAgICAgIGJhbGFuY2VzW3RpeEZvdW5kZXJzRGVwb3NpdF0gPSB0aXhGb3VuZGVyczsgLy8gRGVwb3NpdCBUSVggZm9yIEZvdW5kZXJzCiAgICAgICAgYmFsYW5jZXNbdGl4UHJvbW9EZXBvc2l0XSA9IHRpeFByb21vOyAgICAgICAvLyBEZXBvc2l0IFRJWCBmb3IgUHJvbW90aW9uCiAgICAgICAgYmFsYW5jZXNbdGl4UHJlc2FsZURlcG9zaXRdID0gdGl4UHJlc2FsZTsgICAvLyBEZXBvc2l0IFRJWCBmb3IgUHJlc2FsZQogICAgICAgIENyZWF0ZVRJWCh0aXhGdW5kRGVwb3NpdCwgdGl4RnVuZCk7ICAgICAgICAgLy8gbG9ncyBUSVggZm9yIEJsb2NrdGl4CiAgICAgICAgQ3JlYXRlVElYKHRpeEZvdW5kZXJzRGVwb3NpdCwgdGl4Rm91bmRlcnMpOyAvLyBsb2dzIFRJWCBmb3IgRm91bmRlcnMKICAgICAgICBDcmVhdGVUSVgodGl4UHJvbW9EZXBvc2l0LCB0aXhQcm9tbyk7ICAgICAgIC8vIGxvZ3MgVElYIGZvciBQcm9tb3Rpb24KICAgICAgICBDcmVhdGVUSVgodGl4UHJlc2FsZURlcG9zaXQsIHRpeFByZXNhbGUpOyAgIC8vIGxvZ3MgVElYIGZvciBQcmVzYWxlCgogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAgICoKICAgICogY2FuIG9ubHkgYmUgY2FsbGVkIGR1cmluZyBvbmNlIHRoZSB0aGUgZnVuZGluZyBwZXJpb2QgaGFzIGJlZW4gZmluYWxpemVkCiAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSB3aGVuRmluYWxpemVkIHsKICAgICAgICBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICAqCiAgICAqIGNhbiBvbmx5IGJlIGNhbGxlZCBkdXJpbmcgb25jZSB0aGUgdGhlIGZ1bmRpbmcgcGVyaW9kIGhhcyBiZWVuIGZpbmFsaXplZAogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHdoZW5GaW5hbGl6ZWQgewogICAgICAgIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBBY2NlcHRzIEVUSCBhbmQgZ2VuZXJhdGVzIFRJWCB0b2tlbnMKICAgICAqCiAgICAgKiBjYW4gb25seSBiZSBjYWxsZWQgZHVyaW5nIHRoZSBjcm93ZHNhbGUKICAgICAqLwogICAgZnVuY3Rpb24gZ2VuZXJhdGVUb2tlbnMoKQogICAgICAgIHB1YmxpYwogICAgICAgIHBheWFibGUKICAgICAgICB3aGVuTm90RmluYWxpemVkCiAgICAgICAgYmV0d2VlbihzdGFydFRpbWUsIGVuZFRpbWUpCiAgICAgICAgdmFsaWRBbW91bnQKICAgIHsKICAgICAgICBpZiAodG90YWxTdXBwbHkgPT0gdG9rZW5HZW5lcmF0aW9uQ2FwKQogICAgICAgICAgICB0aHJvdzsKCiAgICAgICAgdWludDI1NiB0b2tlbnMgPSBTYWZlTWF0aC5tdWwobXNnLnZhbHVlLCB0b2tlbkV4Y2hhbmdlUmF0ZSk7IC8vIGNoZWNrIHRoYXQgd2UncmUgbm90IG92ZXIgdG90YWxzCiAgICAgICAgdWludDI1NiBjaGVja2VkU3VwcGx5ID0gU2FmZU1hdGguYWRkKHRvdGFsU3VwcGx5LCB0b2tlbnMpOwogICAgICAgIHVpbnQyNTYgZGlmZjsKCiAgICAgICAgLy8gc3dpdGNoIHRvIG5leHQgdGllcgogICAgICAgIGlmICh0b2tlbkV4Y2hhbmdlUmF0ZSAhPSB0M3Rva2VuRXhjaGFuZ2VSYXRlICYmIGZpbmFsVGllciA8IGNoZWNrZWRTdXBwbHkpCiAgICAgICAgewogICAgICAgICAgICBkaWZmID0gU2FmZU1hdGguc3ViKGNoZWNrZWRTdXBwbHksIGZpbmFsVGllcik7CiAgICAgICAgICAgIHRva2VucyA9IFNhZmVNYXRoLnN1Yih0b2tlbnMsIGRpZmYpOwogICAgICAgICAgICB1aW50MjU2IGV0aGRpZmYgPSBTYWZlTWF0aC5kaXYoZGlmZiwgdDJ0b2tlbkV4Y2hhbmdlUmF0ZSk7CiAgICAgICAgICAgIHRva2VuRXhjaGFuZ2VSYXRlID0gdDN0b2tlbkV4Y2hhbmdlUmF0ZTsKICAgICAgICAgICAgdG9rZW5zID0gU2FmZU1hdGguYWRkKHRva2VucywgU2FmZU1hdGgubXVsKGV0aGRpZmYsIHRva2VuRXhjaGFuZ2VSYXRlKSk7CiAgICAgICAgICAgIGNoZWNrZWRTdXBwbHkgPSBTYWZlTWF0aC5hZGQodG90YWxTdXBwbHksIHRva2Vucyk7CiAgICAgICAgfQoKICAgICAgICAvLyByZXR1cm4gbW9uZXkgaWYgc29tZXRoaW5nIGdvZXMgd3JvbmcKICAgICAgICBpZiAodG9rZW5HZW5lcmF0aW9uQ2FwIDwgY2hlY2tlZFN1cHBseSkKICAgICAgICB7CiAgICAgICAgICAgIGRpZmYgPSBTYWZlTWF0aC5zdWIoY2hlY2tlZFN1cHBseSwgdG9rZW5HZW5lcmF0aW9uQ2FwKTsKICAgICAgICAgICAgaWYgKGRpZmYgPiAxMCoqMTIpCiAgICAgICAgICAgICAgICB0aHJvdzsKICAgICAgICAgICAgY2hlY2tlZFN1cHBseSA9IFNhZmVNYXRoLnN1YihjaGVja2VkU3VwcGx5LCBkaWZmKTsKICAgICAgICAgICAgdG9rZW5zID0gU2FmZU1hdGguc3ViKHRva2VucywgZGlmZik7CiAgICAgICAgfQoKICAgICAgICB0b3RhbFN1cHBseSA9IGNoZWNrZWRTdXBwbHk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gdG9rZW5zOwogICAgICAgIENyZWF0ZVRJWChtc2cuc2VuZGVyLCB0b2tlbnMpOyAvLyBsb2dzIHRva2VuIGNyZWF0aW9uCiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgRW5kcyB0aGUgZnVuZGluZyBwZXJpb2QgYW5kIHNlbmRzIHRoZSBFVEggaG9tZQogICAgKi8KICAgIGZ1bmN0aW9uIGZpbmFsaXplKCkKICAgICAgICBleHRlcm5hbAogICAgICAgIHdoZW5Ob3RGaW5hbGl6ZWQKICAgIHsKICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBldGhGdW5kRGVwb3NpdCkgdGhyb3c7IC8vIGxvY2tzIGZpbmFsaXplIHRvIHRoZSB1bHRpbWF0ZSBFVEggb3duZXIKICAgICAgICBpZiAobm93IDw9IGVuZFRpbWUgJiYgdG90YWxTdXBwbHkgIT0gdG9rZW5HZW5lcmF0aW9uQ2FwKSB0aHJvdzsKICAgICAgICAvLyBtb3ZlIHRvIG9wZXJhdGlvbmFsCiAgICAgICAgaXNGaW5hbGl6ZWQgPSB0cnVlOwogICAgICAgIGlmKCFldGhGdW5kRGVwb3NpdC5zZW5kKHRoaXMuYmFsYW5jZSkpIHRocm93OyAgLy8gc2VuZCB0aGUgZXRoIHRvIEJsb2NrdGl4CiAgICB9CgogICAgLy8gZmFsbGJhY2sKICAgIGZ1bmN0aW9uKCkKICAgICAgICBwYXlhYmxlCiAgICAgICAgd2hlbk5vdEZpbmFsaXplZAogICAgewogICAgICAgIGdlbmVyYXRlVG9rZW5zKCk7CiAgICB9Cn0='.
	

]
