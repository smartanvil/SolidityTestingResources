Class {
	#name : #SRT13f11C9905A08ca76e3e853bE63D4f0944326C72,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT13f11C9905A08ca76e3e853bE63D4f0944326C72 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7Cgpjb250cmFjdCBTYWZlTWF0aCB7CgogICAgZnVuY3Rpb24gc2FmZUFkZCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgaW50ZXJuYWwgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgIHVpbnQyNTYgeiA9IHggKyB5OwogICAgICBhc3NlcnQoKHogPj0geCkpOwogICAgICByZXR1cm4gejsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlU3VidHJhY3QodWludDI1NiB4LCB1aW50MjU2IHkpIGludGVybmFsIGNvbnN0YW50IHJldHVybnModWludDI1NikgewogICAgICBhc3NlcnQoeCA+PSB5KTsKICAgICAgcmV0dXJuIHggLSB5OwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVNdWx0KHVpbnQyNTYgeCwgdWludDI1NiB5KSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgdWludDI1NiB6ID0geCAqIHk7CiAgICAgIGFzc2VydCgoeCA9PSAwKXx8KHoveCA9PSB5KSk7CiAgICAgIHJldHVybiB6OwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVEaXYodWludDI1NiB4LCB1aW50MjU2IHkpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgdWludDI1NiB6ID0geCAvIHk7CiAgICAgIHJldHVybiB6OwogICAgfQoKfQoKY29udHJhY3QgVG9rZW4gewogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKfQoKCi8qICBFUkMgMjAgdG9rZW4gKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBUb2tlbiB7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwp9Cgpjb250cmFjdCBESVZYVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgU2FmZU1hdGggewoKICAgIC8vIG1ldGFkYXRhCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiRGl2aSBFeGNoYW5nZSBUb2tlbiI7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJESVZYIjsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAiMS4wIjsKCiAgICAvLyBvd25lciBhZGRyZXNzCiAgICBhZGRyZXNzIHB1YmxpYyBmdW5kRGVwb3NpdDsgICAgICAvLyBkZXBvc2l0IGFkZHJlc3MgZm9yIEVUSCBhbmQgRElWWCBmb3IgdGhlIHByb2plY3QKCiAgICAvLyBjcm93ZHNhbGUgcGFyYW1ldGVycwogICAgYm9vbCBwdWJsaWMgaXNQYXVzZWQ7CiAgICBib29sIHB1YmxpYyBpc1JlZGVlbWluZzsKICAgIHVpbnQyNTYgcHVibGljIGZ1bmRpbmdTdGFydEJsb2NrOwogICAgdWludDI1NiBwdWJsaWMgZmlyc3RYUkNoYW5nZUJsb2NrOwogICAgdWludDI1NiBwdWJsaWMgc2Vjb25kWFJDaGFuZ2VCbG9jazsKICAgIHVpbnQyNTYgcHVibGljIHRoaXJkWFJDaGFuZ2VCbG9jazsKICAgIHVpbnQyNTYgcHVibGljIGZ1bmRpbmdFbmRCbG9jazsKCiAgICAvLyBTaW5jZSB3ZSBoYXZlIGRpZmZlcmVudCBleGNoYW5nZSByYXRlcyBhdCBkaWZmZXJlbnQgc3RhZ2VzLCB3ZSBuZWVkIHRvIGtlZXAgdHJhY2sKICAgIC8vIG9mIGhvdyBtdWNoIGV0aGVyIChpbiB1bml0cyBvZiBXZWkpIGVhY2ggYWRkcmVzcyBjb250cmlidXRlZCBpbiBjYXNlIHRoYXQgd2UgbmVlZAogICAgLy8gdG8gaXNzdWUgYSByZWZ1bmQKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHJpdmF0ZSB3ZWlCYWxhbmNlczsKCiAgICAvLyBXZSBuZWVkIHRvIGtlZXAgdHJhY2sgb2YgaG93IG11Y2ggZXRoZXIgKGluIHVuaXRzIG9mIFdlaSkgaGFzIGJlZW4gY29udHJpYnV0ZWQKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsUmVjZWl2ZWRXZWk7CgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgcHJpdmF0ZUV4Y2hhbmdlUmF0ZSAgPSAxMDAwOyAvLyAxMDAwIERJVlggdG9rZW5zIHBlciAxIEVUSAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZmlyc3RFeGNoYW5nZVJhdGUgICAgPSAgNjUwOyAvLyAgNjUwIERJVlggdG9rZW5zIHBlciAxIEVUSAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgc2Vjb25kRXhjaGFuZ2VSYXRlICAgPSAgNTc1OyAvLyAgNTc1IERJVlggdG9rZW5zIHBlciAxIEVUSAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgdGhpcmRFeGNoYW5nZVJhdGUgICAgPSAgNTAwOyAvLyAgNTAwIERJVlggdG9rZW5zIHBlciAxIEVUSAoKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHJlY2VpdmVkV2VpQ2FwID0gIDEwMCAqICgxMCoqMykgKiAxMCoqZGVjaW1hbHM7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCByZWNlaXZlZFdlaU1pbiA9ICAgIDUgKiAoMTAqKjMpICogMTAqKmRlY2ltYWxzOwoKICAgIC8vIGV2ZW50cwogICAgZXZlbnQgTG9nQ3JlYXRlKGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlLCB1aW50MjU2IF90b2tlblZhbHVlKTsKICAgIGV2ZW50IExvZ1JlZnVuZChhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSwgdWludDI1NiBfdG9rZW5WYWx1ZSk7CiAgICBldmVudCBMb2dSZWRlZW0oYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUsIGJ5dGVzMzIgX2RpdmlBZGRyZXNzKTsKCiAgICAvLyBtb2RpZmllcnMKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGZ1bmREZXBvc2l0KTsKICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBpc05vdFBhdXNlZCgpIHsKICAgICAgcmVxdWlyZShpc1BhdXNlZCA9PSBmYWxzZSk7CiAgICAgIF87CiAgICB9CgogICAgLy8gY29uc3RydWN0b3IKICAgIGZ1bmN0aW9uIERJVlhUb2tlbigKICAgICAgICBhZGRyZXNzIF9mdW5kRGVwb3NpdCwKICAgICAgICB1aW50MjU2IF9mdW5kaW5nU3RhcnRCbG9jaywKICAgICAgICB1aW50MjU2IF9maXJzdFhSQ2hhbmdlQmxvY2ssCiAgICAgICAgdWludDI1NiBfc2Vjb25kWFJDaGFuZ2VCbG9jaywKICAgICAgICB1aW50MjU2IF90aGlyZFhSQ2hhbmdlQmxvY2ssCiAgICAgICAgdWludDI1NiBfZnVuZGluZ0VuZEJsb2NrKSB7CgogICAgICBpc1BhdXNlZCAgICA9IGZhbHNlOwogICAgICBpc1JlZGVlbWluZyA9IGZhbHNlOwoKICAgICAgdG90YWxTdXBwbHkgICAgICA9IDA7CiAgICAgIHRvdGFsUmVjZWl2ZWRXZWkgPSAwOwoKICAgICAgZnVuZERlcG9zaXQgPSBfZnVuZERlcG9zaXQ7CgogICAgICBmdW5kaW5nU3RhcnRCbG9jayAgID0gX2Z1bmRpbmdTdGFydEJsb2NrOwogICAgICBmaXJzdFhSQ2hhbmdlQmxvY2sgID0gX2ZpcnN0WFJDaGFuZ2VCbG9jazsKICAgICAgc2Vjb25kWFJDaGFuZ2VCbG9jayA9IF9zZWNvbmRYUkNoYW5nZUJsb2NrOwogICAgICB0aGlyZFhSQ2hhbmdlQmxvY2sgID0gX3RoaXJkWFJDaGFuZ2VCbG9jazsKICAgICAgZnVuZGluZ0VuZEJsb2NrICAgICA9IF9mdW5kaW5nRW5kQmxvY2s7CiAgICB9CgogICAgLy8gb3ZlcnJpZGVuIG1ldGhvZHMKCiAgICAvLyBPdmVycmlkZGVuIG1ldGhvZCB0byBjaGVjayB0aGF0IHRoZSBtaW5pbXVtIHdhcyByZWFjaGVkIChubyByZWZ1bmQgaXMgcG9zc2libGUKICAgIC8vIGFmdGVyIHRoYXQsIHNvIHRyYW5zZmVyIG9mIHRva2VucyBzaG91bGRuJ3QgYmUgYSBwcm9ibGVtKQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgcmVxdWlyZSh0b3RhbFJlY2VpdmVkV2VpID49IHJlY2VpdmVkV2VpTWluKTsKICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICAvLyBPdmVycmlkZGVuIG1ldGhvZCB0byBjaGVjayB0aGF0IHRoZSBtaW5pbXVtIHdhcyByZWFjaGVkIChubyByZWZ1bmQgaXMgcG9zc2libGUKICAgIC8vIGFmdGVyIHRoYXQsIHNvIHRyYW5zZmVyIG9mIHRva2VucyBzaG91bGRuJ3QgYmUgYSBwcm9ibGVtKQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgIHJlcXVpcmUodG90YWxSZWNlaXZlZFdlaSA+PSByZWNlaXZlZFdlaU1pbik7CiAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICAvLy8gQGRldiBBY2NlcHRzIGV0aGVyIGFuZCBjcmVhdGVzIG5ldyBESVZYIHRva2Vucy4KICAgIGZ1bmN0aW9uIGNyZWF0ZVRva2VucygpIHBheWFibGUgZXh0ZXJuYWwgaXNOb3RQYXVzZWQgewogICAgICByZXF1aXJlKGJsb2NrLm51bWJlciA+PSBmdW5kaW5nU3RhcnRCbG9jayk7CiAgICAgIHJlcXVpcmUoYmxvY2subnVtYmVyIDw9IGZ1bmRpbmdFbmRCbG9jayk7CiAgICAgIHJlcXVpcmUobXNnLnZhbHVlID4gMCk7CgogICAgICAvLyBDaGVjayB0aGF0IHRoaXMgdHJhbnNhY3Rpb24gd291bGRuJ3QgZXhjZWVkIHRoZSBFVEggY2FwCiAgICAgIHVpbnQyNTYgY2hlY2tlZFJlY2VpdmVkV2VpID0gc2FmZUFkZCh0b3RhbFJlY2VpdmVkV2VpLCBtc2cudmFsdWUpOwogICAgICByZXF1aXJlKGNoZWNrZWRSZWNlaXZlZFdlaSA8PSByZWNlaXZlZFdlaUNhcCk7CgogICAgICAvLyBDYWxjdWxhdGUgaG93IG1hbnkgdG9rZW5zIChpbiB1bml0cyBvZiBXZWkpIHNob3VsZCBiZSBhd2FyZGVkCiAgICAgIC8vIG9uIHRoaXMgdHJhbnNhY3Rpb24KICAgICAgdWludDI1NiB0b2tlbnMgPSBzYWZlTXVsdChtc2cudmFsdWUsIGdldEN1cnJlbnRUb2tlblByaWNlKCkpOwoKICAgICAgLy8gQ2FsY3VsYXRlIGhvdyBtYW55IHRva2VucyAoaW4gdW5pdHMgb2YgV2VpKSBzaG91bGQgYmUgYXdhcmRlZCB0byB0aGUgcHJvamVjdCAoMjAlKQogICAgICB1aW50MjU2IHByb2plY3RUb2tlbnMgPSBzYWZlRGl2KHRva2VucywgNSk7CgogICAgICAvLyBJbmNyZW1lbnQgdGhlIHRvdGFsIHJlY2VpdmVkIEVUSAogICAgICB0b3RhbFJlY2VpdmVkV2VpID0gY2hlY2tlZFJlY2VpdmVkV2VpOwoKICAgICAgLy8gT25seSB1cGRhdGUgb3VyIGFjY291bnRpbmcgb2YgaG93IG11Y2ggRVRIIHRoaXMgY29udHJpYnV0b3IgaGFzIHNlbnQgdXMgaWYKICAgICAgLy8gd2UncmUgYWxyZWFkeSBvbiB0aGUgcHVibGljIHNhbGUgKHNpbmNlIHByaXZhdGUgc2FsZSBjb250cmlidXRpb25zIGFyZSBnb2luZwogICAgICAvLyB0byBiZSB1c2VkIGJlZm9yZSB0aGUgZW5kIG9mIGVuZCBvZiB0aGUgc2FsZSBwZXJpb2QsIHRoZXkgZG9uJ3QgZ2V0IGEgcmVmdW5kKQogICAgICBpZiAoYmxvY2subnVtYmVyID49IGZpcnN0WFJDaGFuZ2VCbG9jaykgd2VpQmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gbXNnLnZhbHVlOwoKICAgICAgLy8gSW5jcmVtZW50IHRoZSB0b3RhbCBzdXBwbHkgb2YgdG9rZW5zIGFuZCB0aGVuIGRlcG9zaXQgdGhlIHRva2VucwogICAgICAvLyB0byB0aGUgY29udHJpYnV0b3IKICAgICAgdG90YWxTdXBwbHkgPSBzYWZlQWRkKHRvdGFsU3VwcGx5LCB0b2tlbnMpOwogICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSB0b2tlbnM7CgogICAgICAvLyBJbmNyZW1lbnQgdGhlIHRvdGFsIHN1cHBseSBvZiB0b2tlbnMgYW5kIHRoZW4gZGVwb3NpdCB0aGUgdG9rZW5zCiAgICAgIC8vIHRvIHRoZSBwcm9qZWN0CiAgICAgIHRvdGFsU3VwcGx5ID0gc2FmZUFkZCh0b3RhbFN1cHBseSwgcHJvamVjdFRva2Vucyk7CiAgICAgIGJhbGFuY2VzW2Z1bmREZXBvc2l0XSArPSBwcm9qZWN0VG9rZW5zOwoKICAgICAgTG9nQ3JlYXRlKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgdG9rZW5zKTsgIC8vIGxvZ3MgdG9rZW4gY3JlYXRpb24KICAgIH0KCiAgICAvLy8gQGRldiBBbGxvd3MgdG8gdHJhbnNmZXIgZXRoZXIgZnJvbSB0aGUgY29udHJhY3QgdG8gdGhlIG11bHRpc2lnIHdhbGxldAogICAgZnVuY3Rpb24gd2l0aGRyYXdXZWkodWludDI1NiBfdmFsdWUpIGV4dGVybmFsIG9ubHlPd25lciBpc05vdFBhdXNlZCB7CiAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IHRoaXMuYmFsYW5jZSk7CgogICAgICAvLyBBbGxvdyB3aXRoZHJhd2FsIGR1cmluZyB0aGUgcHJpdmF0ZSBzYWxlLCBidXQgYWZ0ZXIgdGhhdCwgb25seSBhbGxvdwogICAgICAvLyB3aXRoZHJhd2FsIGlmIHdlIGFscmVhZHkgbWV0IHRoZSBtaW5pbXVtCiAgICAgIHJlcXVpcmUoKGJsb2NrLm51bWJlciA8IGZpcnN0WFJDaGFuZ2VCbG9jaykgfHwgKHRvdGFsUmVjZWl2ZWRXZWkgPj0gcmVjZWl2ZWRXZWlNaW4pKTsKCiAgICAgIC8vIHNlbmQgdGhlIGV0aCB0byB0aGUgcHJvamVjdCBtdWx0aXNpZyB3YWxsZXQKICAgICAgZnVuZERlcG9zaXQudHJhbnNmZXIoX3ZhbHVlKTsKICAgIH0KCiAgICAvLy8gQGRldiBQYXVzZXMgdGhlIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBwYXVzZSgpIGV4dGVybmFsIG9ubHlPd25lciBpc05vdFBhdXNlZCB7CiAgICAgIC8vIE1vdmUgdGhlIGNvbnRyYWN0IHRvIFBhdXNlZCBzdGF0ZQogICAgICBpc1BhdXNlZCA9IHRydWU7CiAgICB9CgogICAgLy8vIEBkZXYgUmVzdW1lIHRoZSBjb250cmFjdAogICAgZnVuY3Rpb24gcmVzdW1lKCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgLy8gTW92ZSB0aGUgY29udHJhY3Qgb3V0IG9mIHRoZSBQYXVzZWQgc3RhdGUKICAgICAgaXNQYXVzZWQgPSBmYWxzZTsKICAgIH0KCiAgICAvLy8gQGRldiBTdGFydHMgdGhlIHJlZGVlbWluZyBwaGFzZSBvZiB0aGUgY29udHJhY3QKICAgIGZ1bmN0aW9uIHN0YXJ0UmVkZWVtaW5nKCkgZXh0ZXJuYWwgb25seU93bmVyIGlzTm90UGF1c2VkIHsKICAgICAgLy8gTW92ZSB0aGUgY29udHJhY3QgdG8gUmVkZWVtaW5nIHN0YXRlCiAgICAgIGlzUmVkZWVtaW5nID0gdHJ1ZTsKICAgIH0KCiAgICAvLy8gQGRldiBTdG9wcyB0aGUgcmVkZWVtaW5nIHBoYXNlIG9mIHRoZSBjb250cmFjdAogICAgZnVuY3Rpb24gc3RvcFJlZGVlbWluZygpIGV4dGVybmFsIG9ubHlPd25lciBpc05vdFBhdXNlZCB7CiAgICAgIC8vIE1vdmUgdGhlIGNvbnRyYWN0IG91dCBvZiB0aGUgUmVkZWVtaW5nIHN0YXRlCiAgICAgIGlzUmVkZWVtaW5nID0gZmFsc2U7CiAgICB9CgogICAgLy8vIEBkZXYgQWxsb3dzIGNvbnRyaWJ1dG9ycyB0byByZWNvdmVyIHRoZWlyIGV0aGVyIGluIHRoZSBjYXNlIG9mIGEgZmFpbGVkIGZ1bmRpbmcgY2FtcGFpZ24KICAgIGZ1bmN0aW9uIHJlZnVuZCgpIGV4dGVybmFsIHsKICAgICAgLy8gcHJldmVudHMgcmVmdW5kIHVudGlsIHNhbGUgcGVyaW9kIGlzIG92ZXIKICAgICAgcmVxdWlyZShibG9jay5udW1iZXIgPiBmdW5kaW5nRW5kQmxvY2spOwogICAgICAvLyBSZWZ1bmRzIGFyZSBvbmx5IGF2YWlsYWJsZSBpZiB0aGUgbWluaW11bSB3YXMgbm90IHJlYWNoZWQKICAgICAgcmVxdWlyZSh0b3RhbFJlY2VpdmVkV2VpIDwgcmVjZWl2ZWRXZWlNaW4pOwoKICAgICAgLy8gUmV0cmlldmUgaG93IG11Y2ggRElWWCAoaW4gdW5pdHMgb2YgV2VpKSB0aGlzIGFjY291bnQgaGFzCiAgICAgICB1aW50MjU2IGRpdnhWYWwgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXTsKICAgICAgIHJlcXVpcmUoZGl2eFZhbCA+IDApOwoKICAgICAgLy8gUmV0cmlldmUgaG93IG11Y2ggRVRIIChpbiB1bml0cyBvZiBXZWkpIHRoaXMgYWNjb3VudCBjb250cmlidXRlZAogICAgICB1aW50MjU2IHdlaVZhbCA9IHdlaUJhbGFuY2VzW21zZy5zZW5kZXJdOwogICAgICByZXF1aXJlKHdlaVZhbCA+IDApOwoKICAgICAgLy8gRGVzdHJveSB0aGlzIGNvbnRyaWJ1dG9yJ3MgdG9rZW5zIGFuZCByZWR1Y2UgdGhlIHRvdGFsIHN1cHBseQogICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IDA7CiAgICAgIHRvdGFsU3VwcGx5ID0gc2FmZVN1YnRyYWN0KHRvdGFsU3VwcGx5LCBkaXZ4VmFsKTsKCiAgICAgIC8vIExvZyB0aGlzIHJlZnVuZCBvcGVyYXRpb24KICAgICAgTG9nUmVmdW5kKG1zZy5zZW5kZXIsIHdlaVZhbCwgZGl2eFZhbCk7CgogICAgICAvLyBTZW5kIHRoZSBtb25leSBiYWNrCiAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIod2VpVmFsKTsKICAgIH0KCiAgICAvLy8gQGRldiBSZWRlZW1zIHRva2VucyBhbmQgcmVjb3JkcyB0aGUgYWRkcmVzcyB0aGF0IHRoZSBzZW5kZXIgY3JlYXRlZCBpbiB0aGUgbmV3IGJsb2NrY2hhaW4KICAgIGZ1bmN0aW9uIHJlZGVlbShieXRlczMyIGRpdmlBZGRyZXNzKSBleHRlcm5hbCB7CiAgICAgIC8vIE9ubHkgYWxsb3cgdGhpcyBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBvbiB0aGUgcmVkZWVtaW5nIHN0YXRlCiAgICAgIHJlcXVpcmUoaXNSZWRlZW1pbmcpOwoKICAgICAgLy8gUmV0cmlldmUgaG93IG11Y2ggRElWWCAoaW4gdW5pdHMgb2YgV2VpKSB0aGlzIGFjY291bnQgaGFzCiAgICAgIHVpbnQyNTYgZGl2eFZhbCA9IGJhbGFuY2VzW21zZy5zZW5kZXJdOwogICAgICAgcmVxdWlyZShkaXZ4VmFsID4gMCk7CgogICAgICAvLyBNb3ZlIHRoZSB0b2tlbnMgb2YgdGhlIGNhbGxlciB0byB0aGUgcHJvamVjdCdzIGFkZHJlc3MKICAgICAgYXNzZXJ0KHN1cGVyLnRyYW5zZmVyKGZ1bmREZXBvc2l0LCBkaXZ4VmFsKSk7CgogICAgICAvLyBMb2cgdGhlIHJlZGVlbWluZyBvZiB0aGlzIHRva2VucwogICAgICBMb2dSZWRlZW0obXNnLnNlbmRlciwgZGl2eFZhbCwgZGl2aUFkZHJlc3MpOwogICAgfQoKICAgIC8vLyBAZGV2IFJldHVybnMgdGhlIGN1cnJlbnQgdG9rZW4gcHJpY2UKICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRUb2tlblByaWNlKCkgcHJpdmF0ZSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGN1cnJlbnRQcmljZSkgewogICAgICBpZiAoYmxvY2subnVtYmVyIDwgZmlyc3RYUkNoYW5nZUJsb2NrKSB7CiAgICAgICAgcmV0dXJuIHByaXZhdGVFeGNoYW5nZVJhdGU7CiAgICAgIH0gZWxzZSBpZiAoYmxvY2subnVtYmVyIDwgc2Vjb25kWFJDaGFuZ2VCbG9jaykgewogICAgICAgIHJldHVybiBmaXJzdEV4Y2hhbmdlUmF0ZTsKICAgICAgfSBlbHNlIGlmIChibG9jay5udW1iZXIgPCB0aGlyZFhSQ2hhbmdlQmxvY2spIHsKICAgICAgICByZXR1cm4gc2Vjb25kRXhjaGFuZ2VSYXRlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlyZEV4Y2hhbmdlUmF0ZTsKICAgICAgfQogICAgfQp9'.
	

]
