Class {
	#name : #SRT9220d625bd6bea95c865b3c4faf273bfbd6bc48a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9220d625bd6bea95c865b3c4faf273bfbd6bc48a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuNjsKY29udHJhY3Qgb3duZWQgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgZnVuY3Rpb24gb3duZWQoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHRocm93OwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQp9Cgpjb250cmFjdCB0b2tlblJlY2lwaWVudCB7IGZ1bmN0aW9uIHJlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW4sIGJ5dGVzIF9leHRyYURhdGEpOyB9Cgpjb250cmFjdCBTd2FwVG9rZW4gaXMgb3duZWQgewogICAgLyogUHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4gKi8KICAgIAogICAgc3RyaW5nIHB1YmxpYyBzdGFuZGFyZCA9ICdUb2tlbiAwLjEnOwoKICAgIC8vIGJ1eWVyIHRva2VucwogICAgc3RyaW5nIHB1YmxpYyBidXllclRva2VuTmFtZTsKICAgIHN0cmluZyBwdWJsaWMgYnV5ZXJTeW1ib2w7CiAgICB1aW50OCBwdWJsaWMgYnV5ZXJEZWNpbWFsczsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsQnV5ZXJTdXBwbHk7CiAgICAKICAgIC8vIGlzc3VlciB0b2tlbnMKICAgIHN0cmluZyBwdWJsaWMgaXNzdWVyVG9rZW5OYW1lOwogICAgc3RyaW5nIHB1YmxpYyBpc3N1ZXJTeW1ib2w7CiAgICB1aW50OCBwdWJsaWMgaXNzdWVyRGVjaW1hbHM7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbElzc3VlclN1cHBseTsKICAgIAogICAgLy8gbW9yZSB2YXJpYWJsZXMKICAgIHVpbnQyNTYgcHVibGljIGJ1eVByaWNlOwogICAgdWludDI1NiBwdWJsaWMgaXNzdWVQcmljZTsKICAgIHVpbnQyNTYgcHVibGljIGNQVDsKICAgIGJvb2wgcHVibGljIGNyZWRpdFN0YXR1czsKICAgIGFkZHJlc3MgcHVibGljIHByb2plY3Rfd2FsbGV0OwogICAgYWRkcmVzcyBwdWJsaWMgY29sbGVjdGlvbkZ1bmRzOwogICAgLy91aW50IHB1YmxpYyBzdGFydEJsb2NrOwogICAgLy91aW50IHB1YmxpYyBlbmRCbG9jazsKICAgIAogICAgLyogU2V0cyB0aGUgY29uc3RydWN0b3IgdmFyaWFibGVzICovCiAgICBmdW5jdGlvbiBTd2FwVG9rZW4oCiAgICAgICAgc3RyaW5nIF9idXllclRva2VuTmFtZSwKICAgICAgICBzdHJpbmcgX2J1eWVyU3ltYm9sLAogICAgICAgIHVpbnQ4IF9idXllckRlY2ltYWxzLAogICAgICAgIHN0cmluZyBfaXNzdWVyVG9rZW5OYW1lLAogICAgICAgIHN0cmluZyBfaXNzdWVyU3ltYm9sLAogICAgICAgIHVpbnQ4IF9pc3N1ZXJEZWNpbWFscywKICAgICAgICBhZGRyZXNzIF9jb2xsZWN0aW9uRnVuZHMsCiAgICAgICAgdWludCBfc3RhcnRCbG9jaywKICAgICAgICB1aW50IF9lbmRCbG9jawogICAgICAgICkgewogICAgICAgIGJ1eWVyVG9rZW5OYW1lID0gX2J1eWVyVG9rZW5OYW1lOwogICAgICAgIGJ1eWVyU3ltYm9sID0gX2J1eWVyU3ltYm9sOwogICAgICAgIGJ1eWVyRGVjaW1hbHMgPSBfYnV5ZXJEZWNpbWFsczsKICAgICAgICBpc3N1ZXJUb2tlbk5hbWUgPSBfaXNzdWVyVG9rZW5OYW1lOwogICAgICAgIGlzc3VlclN5bWJvbCA9IF9pc3N1ZXJTeW1ib2w7CiAgICAgICAgaXNzdWVyRGVjaW1hbHMgPSBfaXNzdWVyRGVjaW1hbHM7CiAgICAgICAgY29sbGVjdGlvbkZ1bmRzID0gX2NvbGxlY3Rpb25GdW5kczsKICAgICAgICAvL3N0YXJ0QmxvY2sgPSBfc3RhcnRCbG9jazsKICAgICAgICAvL2VuZEJsb2NrID0gX2VuZEJsb2NrOwogICAgfQoKICAgIC8qIFRoaXMgY3JlYXRlcyBhbiBhcnJheSB3aXRoIGFsbCBiYWxhbmNlcyAqLwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZU9mQnV5ZXI7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2ZJc3N1ZXI7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2FuY2U7CgogICAgLyogVGhpcyBnZW5lcmF0ZXMgYSBwdWJsaWMgZXZlbnQgb24gdGhlIGJsb2NrY2hhaW4gdGhhdCB3aWxsIG5vdGlmeSBjbGllbnRzICovCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKCiAgICAvKiBJbml0aWFsaXplcyBjb250cmFjdCB3aXRoIGluaXRpYWwgc3VwcGx5IHRva2VucyB0byB0aGUgY3JlYXRvciBvZiB0aGUgY29udHJhY3QgCiAgICBmdW5jdGlvbiB0b2tlbigKICAgICAgICB1aW50MjU2IGluaXRpYWxTdXBwbHksCiAgICAgICAgc3RyaW5nIHRva2VuTmFtZSwKICAgICAgICB1aW50OCBkZWNpbWFsVW5pdHMsCiAgICAgICAgc3RyaW5nIHRva2VuU3ltYm9sCiAgICAgICAgKSB7CiAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdID0gaW5pdGlhbFN1cHBseTsgICAgICAgICAgICAgIC8vIEdpdmUgdGhlIGNyZWF0b3IgYWxsIGluaXRpYWwgdG9rZW5zCiAgICAgICAgdG90YWxTdXBwbHkgPSBpbml0aWFsU3VwcGx5OyAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0b3RhbCBzdXBwbHkKICAgICAgICBuYW1lID0gdG9rZW5OYW1lOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBuYW1lIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgc3ltYm9sID0gdG9rZW5TeW1ib2w7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgc3ltYm9sIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgZGVjaW1hbHMgPSBkZWNpbWFsVW5pdHM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFtb3VudCBvZiBkZWNpbWFscyBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgfQogICAgKi8KICAgIAogICAgLyogQ2hlY2sgaWYgY29udHJhY3QgaGFzIHN0YXJ0ZWQgKi8KICAgIC8qZnVuY3Rpb24gaGFzX2NvbnRyYWN0X3N0YXJ0ZWQoKSBwcml2YXRlIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKCSAgICByZXR1cm4gYmxvY2subnVtYmVyID49IHN0YXJ0QmxvY2s7CiAgICB9Ki8KICAgIAogICAgLyogQ2hlY2sgaWYgY29udHJhY3QgaGFzIGVuZGVkICovCiAgICAvKmZ1bmN0aW9uIGhhc19jb250cmFjdF9lbmRlZCgpIHByaXZhdGUgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBibG9jay5udW1iZXIgPiBlbmRCbG9jazsKICAgIH0qLwogICAgCiAgICAvKiBTZXQgYSBwcm9qZWN0IFdhbGxldCAqLwogICAgZnVuY3Rpb24gZGVmaW5lUHJvamVjdFdhbGxldChhZGRyZXNzIHRhcmdldCkgb25seU93bmVyIHsKICAgICAgICBwcm9qZWN0X3dhbGxldCA9IHRhcmdldDsKICAgIH0KICAgIAogICAgLyogTWludCBjb2lucyAqLwogICAgCiAgICAvLyBidXllciB0b2tlbnMKICAgIGZ1bmN0aW9uIG1pbnRCdXllclRva2VuKGFkZHJlc3MgdGFyZ2V0LCB1aW50MjU2IG1pbnRlZEFtb3VudCkgb25seU93bmVyIHsKICAgICAgICBiYWxhbmNlT2ZCdXllclt0YXJnZXRdICs9IG1pbnRlZEFtb3VudDsKICAgICAgICB0b3RhbEJ1eWVyU3VwcGx5ICs9IG1pbnRlZEFtb3VudDsKICAgICAgICBUcmFuc2ZlcigwLCB0aGlzLCBtaW50ZWRBbW91bnQpOwogICAgICAgIFRyYW5zZmVyKHRoaXMsIHRhcmdldCwgbWludGVkQW1vdW50KTsKICAgIH0KICAgIAogICAgLy8gaXNzdWVyIHRva2VucwogICAgZnVuY3Rpb24gbWludElzc3VlclRva2VuKGFkZHJlc3MgdGFyZ2V0LCB1aW50MjU2IG1pbnRlZEFtb3VudCkgb25seU93bmVyIHsKICAgICAgICBiYWxhbmNlT2ZJc3N1ZXJbdGFyZ2V0XSArPSBtaW50ZWRBbW91bnQ7CiAgICAgICAgdG90YWxJc3N1ZXJTdXBwbHkgKz0gbWludGVkQW1vdW50OwogICAgICAgIFRyYW5zZmVyKDAsIHRoaXMsIG1pbnRlZEFtb3VudCk7CiAgICAgICAgVHJhbnNmZXIodGhpcywgdGFyZ2V0LCBtaW50ZWRBbW91bnQpOwogICAgfQogICAgCiAgICAvKiBEaXN0cm95IGNvaW5zICovCiAgICAKICAgIC8vIERpc3Ryb3kgYnV5ZXIgY29pbnMgZm9yIHNhbGUgaW4gY29udHJhY3QgCiAgICBmdW5jdGlvbiBkaXN0cm95QnV5ZXJUb2tlbih1aW50MjU2IGJ1cm5BbW91bnQpIG9ubHlPd25lciB7CiAgICAgICAgYmFsYW5jZU9mQnV5ZXJbdGhpc10gLT0gYnVybkFtb3VudDsKICAgICAgICB0b3RhbEJ1eWVyU3VwcGx5IC09IGJ1cm5BbW91bnQ7CiAgICB9CiAgICAKICAgIC8vIERpc3Ryb3kgaXNzdWVyIGNvaW5zIGZvciBzYWxlIGluIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBkaXN0cm95SXNzdWVyVG9rZW4odWludDI1NiBidXJuQW1vdW50KSBvbmx5T3duZXIgewogICAgICAgIGJhbGFuY2VPZklzc3Vlclt0aGlzXSAtPSBidXJuQW1vdW50OwogICAgICAgIHRvdGFsSXNzdWVyU3VwcGx5IC09IGJ1cm5BbW91bnQ7CiAgICB9CgogICAgLyogU2VuZCBjb2lucyAqLwogICAgCiAgICAvLyBzZW5kIGJ1eWVyIGNvaW5zCiAgICBmdW5jdGlvbiB0cmFuc2ZlckJ1eWVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgewogICAgICAgIGlmIChiYWxhbmNlT2ZCdXllclttc2cuc2VuZGVyXSA8IF92YWx1ZSkgdGhyb3c7ICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICBpZiAoYmFsYW5jZU9mQnV5ZXJbX3RvXSArIF92YWx1ZSA8IGJhbGFuY2VPZkJ1eWVyW190b10pIHRocm93OyAvLyBDaGVjayBmb3Igb3ZlcmZsb3dzCiAgICAgICAgYmFsYW5jZU9mQnV5ZXJbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIGJhbGFuY2VPZkJ1eWVyW190b10gKz0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHNhbWUgdG8gdGhlIHJlY2lwaWVudAogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsgICAgICAgICAgICAgICAgICAgLy8gTm90aWZ5IGFueW9uZSBsaXN0ZW5pbmcgdGhhdCB0aGlzIHRyYW5zZmVyIHRvb2sgcGxhY2UKICAgIH0KICAgIAogICAgLy8gc2VuZCBpc3N1ZXIgY29pbnMKICAgIGZ1bmN0aW9uIHRyYW5zZmVySXNzdWUoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSB7CiAgICAgICAgaWYgKGJhbGFuY2VPZklzc3Vlclttc2cuc2VuZGVyXSA8IF92YWx1ZSkgdGhyb3c7CiAgICAgICAgaWYgKGJhbGFuY2VPZklzc3VlcltfdG9dICsgX3ZhbHVlIDwgYmFsYW5jZU9mSXNzdWVyW190b10pIHRocm93OwogICAgICAgIGJhbGFuY2VPZklzc3Vlclttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgYmFsYW5jZU9mSXNzdWVyW190b10gKz0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIH0KICAgIAogICAgLyogQWxsb3cgYW5vdGhlciBjb250cmFjdCB0byBzcGVuZCBzb21lIHRva2VucyBpbiB5b3VyIGJlaGFsZiAqLwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkKICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2FuY2VbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIHRva2VuUmVjaXBpZW50IHNwZW5kZXIgPSB0b2tlblJlY2lwaWVudChfc3BlbmRlcik7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyogQXBwcm92ZSBhbmQgdGhlbiBjb211bmljYXRlIHRoZSBhcHByb3ZlZCBjb250cmFjdCBpbiBhIHNpbmdsZSB0eCAqLwogICAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9leHRyYURhdGEpCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7ICAgIAogICAgICAgIHRva2VuUmVjaXBpZW50IHNwZW5kZXIgPSB0b2tlblJlY2lwaWVudChfc3BlbmRlcik7CiAgICAgICAgaWYgKGFwcHJvdmUoX3NwZW5kZXIsIF92YWx1ZSkpIHsKICAgICAgICAgICAgc3BlbmRlci5yZWNlaXZlQXBwcm92YWwobXNnLnNlbmRlciwgX3ZhbHVlLCB0aGlzLCBfZXh0cmFEYXRhKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgfQoKICAgIC8qIEEgY29udHJhY3QgYXR0ZW1wdHMgdG8gZ2V0IHRoZSBjb2lucyAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGlmIChiYWxhbmNlT2ZCdXllcltfZnJvbV0gPCBfdmFsdWUpIHRocm93OyAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCiAgICAgICAgaWYgKGJhbGFuY2VPZkJ1eWVyW190b10gKyBfdmFsdWUgPCBiYWxhbmNlT2ZCdXllcltfdG9dKSB0aHJvdzsgIC8vIENoZWNrIGZvciBvdmVyZmxvd3MKICAgICAgICBpZiAoX3ZhbHVlID4gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSkgdGhyb3c7ICAgLy8gQ2hlY2sgYWxsb3dhbmNlCiAgICAgICAgYmFsYW5jZU9mQnV5ZXJbX2Zyb21dIC09IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIGJhbGFuY2VPZkJ1eWVyW190b10gKz0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHNhbWUgdG8gdGhlIHJlY2lwaWVudAogICAgICAgIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAqLwogICAgCiAgICAvKiBTZXQgdG9rZW4gcHJpY2UgKi8KICAgIGZ1bmN0aW9uIHNldFByaWNlcyh1aW50MjU2IG5ld0J1eVByaWNlLCB1aW50MjU2IG5ld0lzc3VlUHJpY2UsIHVpbnQyNTYgY292ZXJhZ2VQZXJUb2tlbikgb25seU93bmVyIHsKICAgICAgICBidXlQcmljZSA9IG5ld0J1eVByaWNlOwogICAgICAgIGlzc3VlUHJpY2UgPSBuZXdJc3N1ZVByaWNlOwogICAgICAgIGNQVCA9IGNvdmVyYWdlUGVyVG9rZW47CiAgICB9CgogICAgLyogQnV5IHRva2VucyAqLwogICAgCiAgICAvLyBidXkgYnV5ZXIgdG9rZW5zCiAgICBmdW5jdGlvbiBidXlCdXllclRva2VucygpIHBheWFibGUgewogICAgICAgIC8vaWYoIWhhc19jb250cmFjdF9zdGFydGVkKCkpIHRocm93OyAgICAgICAgICAgICAgICAgIC8vIGNoZWNrcyBpZiB0aGUgY29udHJhY3QgaGFzIHN0YXJ0ZWQKICAgICAgICAvL2lmKGhhc19jb250cmFjdF9lbmRlZCgpKSB0aHJvdzsgICAgICAgICAgICAgICAgICAgICAvLyBjaGVja3MgaWYgdGhlIGNvbnRyYWN0IGhhcyBlbmRlZCAKICAgICAgICB1aW50IGFtb3VudCA9IG1zZy52YWx1ZSAvIGJ1eVByaWNlOyAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGVzIHRoZSBhbW91bnQKICAgICAgICBpZiAoYmFsYW5jZU9mQnV5ZXJbdGhpc10gPCBhbW91bnQpIHRocm93OyAgICAgICAgICAgICAgIC8vIGNoZWNrcyBpZiBpdCBoYXMgZW5vdWdoIHRvIHNlbGwKICAgICAgICBiYWxhbmNlT2ZCdXllclttc2cuc2VuZGVyXSArPSBhbW91bnQ7ICAgICAgICAgICAgICAgICAgIC8vIGFkZHMgdGhlIGFtb3VudCB0byBidXllcidzIGJhbGFuY2UKICAgICAgICBiYWxhbmNlT2ZCdXllclt0aGlzXSAtPSBhbW91bnQ7ICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN1YnRyYWN0cyBhbW91bnQgZnJvbSBzZWxsZXIncyBiYWxhbmNlCiAgICAgICAgVHJhbnNmZXIodGhpcywgbXNnLnNlbmRlciwgYW1vdW50KTsgICAgICAgICAgICAgICAgLy8gZXhlY3V0ZSBhbiBldmVudCByZWZsZWN0aW5nIHRoZSBjaGFuZ2UKICAgIH0KICAgIAogICAgLy8gYnV5IGlzc3VlciB0b2tlbnMKICAgIGZ1bmN0aW9uIGJ1eUlzc3VlclRva2VucygpIHBheWFibGUgewogICAgICAgIHVpbnQgYW1vdW50ID0gbXNnLnZhbHVlIC8gaXNzdWVQcmljZTsKICAgICAgICBpZiAoYmFsYW5jZU9mSXNzdWVyW3RoaXNdIDwgYW1vdW50KSB0aHJvdzsKICAgICAgICBiYWxhbmNlT2ZJc3N1ZXJbbXNnLnNlbmRlcl0gKz0gYW1vdW50OwogICAgICAgIGJhbGFuY2VPZklzc3Vlclt0aGlzXSAtPSBhbW91bnQ7CiAgICAgICAgVHJhbnNmZXIodGhpcywgbXNnLnNlbmRlciwgYW1vdW50KTsKICAgIH0KICAgIAogICAgCiAgICAvKiBDcmVkaXQgU3RhdHVzIEV2ZW50ICovCiAgICBmdW5jdGlvbiBzZXRDcmVkaXRTdGF0dXMoYm9vbCBfc3RhdHVzKSBvbmx5T3duZXIgewogICAgICAgIGNyZWRpdFN0YXR1cyA9IF9zdGF0dXM7CiAgICB9CgogICAgLyogQ29sbGVjdGlvbiAqLwogICAgCiAgICAvLyBidXllciBjb2xsZWN0aW9uIHNhbGUKICAgIGZ1bmN0aW9uIHNlbGxCdXllclRva2Vucyh1aW50IGFtb3VudCkgcmV0dXJucyAodWludCByZXZlbnVlKXsKICAgICAgICBpZiAoY3JlZGl0U3RhdHVzID09IGZhbHNlKSB0aHJvdzsgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrcyBpZiBidXllciBpcyBlbGlnaWJsZSBmb3IgYSBjbGFpbQogICAgICAgIGlmIChiYWxhbmNlT2ZCdXllclttc2cuc2VuZGVyXSA8IGFtb3VudCApIHRocm93OyAgICAgICAgLy8gY2hlY2tzIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaCB0byBzZWxsCiAgICAgICAgYmFsYW5jZU9mQnV5ZXJbdGhpc10gKz0gYW1vdW50OyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGRzIHRoZSBhbW91bnQgdG8gb3duZXIncyBiYWxhbmNlCiAgICAgICAgYmFsYW5jZU9mQnV5ZXJbbXNnLnNlbmRlcl0gLT0gYW1vdW50OyAgICAgICAgICAgICAgICAgICAvLyBzdWJ0cmFjdHMgdGhlIGFtb3VudCBmcm9tIHNlbGxlcidzIGJhbGFuY2UKICAgICAgICByZXZlbnVlID0gYW1vdW50ICogY1BUOwogICAgICAgIGlmICghbXNnLnNlbmRlci5zZW5kKHJldmVudWUpKSB7ICAgICAgICAgICAgICAgICAgIC8vIHNlbmRzIGV0aGVyIHRvIHRoZSBzZWxsZXI6IGl0J3MgaW1wb3J0YW50CiAgICAgICAgICAgIHRocm93OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gZG8gdGhpcyBsYXN0IHRvIHByZXZlbnQgcmVjdXJzaW9uIGF0dGFja3MKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCB0aGlzLCBhbW91bnQpOyAgICAgICAgICAgICAvLyBleGVjdXRlcyBhbiBldmVudCByZWZsZWN0aW5nIG9uIHRoZSBjaGFuZ2UKICAgICAgICAgICAgcmV0dXJuIHJldmVudWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5kcyBmdW5jdGlvbiBhbmQgcmV0dXJucwogICAgICAgIH0KICAgIH0KICAgIAogICAgLyogQWZ0ZXIgY29udHJhY3QgZW5kcyBtb3ZlIGZ1bmRzICovCiAgICBmdW5jdGlvbiBtb3ZlRnVuZHMoKSBvbmx5T3duZXIgewogICAgICAgIC8vaWYgKCFoYXNfY29udHJhY3RfZW5kZWQoKSkgdGhyb3c7CiAgICAgICAgaWYgKCFwcm9qZWN0X3dhbGxldC5zZW5kKHRoaXMuYmFsYW5jZSkpIHRocm93OwogICAgfQoKICAgIC8qIFRoaXMgdW5uYW1lZCBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbmV2ZXIgc29tZW9uZSB0cmllcyB0byBzZW5kIGV0aGVyIHRvIGl0ICovCiAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhyb3c7ICAgICAvLyBQcmV2ZW50cyBhY2NpZGVudGFsIHNlbmRpbmcgb2YgZXRoZXIKICAgIH0KfQ=='.
	

]
