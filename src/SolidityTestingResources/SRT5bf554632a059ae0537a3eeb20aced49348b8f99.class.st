Class {
	#name : #SRT5bf554632a059ae0537a3eeb20aced49348b8f99,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5bf554632a059ae0537a3eeb20aced49348b8f99 >> base64 [
	^ 'LyoKKiBUaGlzIGlzIHRoZSBzb3VyY2UgY29kZSBvZiB0aGUgc21hcnQgY29udHJhY3QgZm9yIHRoZSBTT1VMIHRva2VuLCBha2EgU291bCBOYXBraW5zLgoqIENvcHlyaWdodCAyMDE3IGFuZCBhbGwgcmlnaHRzIHJlc2VydmVkIGJ5IHRoZSBvd25lciBvZiB0aGUgZm9sbG93aW5nIEV0aGVyZXVtIGFkZHJlc3M6CiogMHgxMEU0NEM2YmM2ODVjNEU0ZUFCZGEzMjZjMjExNTYxZDUzNjdFRWVjCiovCgpwcmFnbWEgc29saWRpdHkgXjAuNC4xNzsKCi8vIEVSQyBUb2tlbiBzdGFuZGFyZCAjMjAgSW50ZXJmYWNlCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMApjb250cmFjdCBFUkMyMEludGVyZmFjZSB7CgogICAgLy8gVG9rZW4gc3ltYm9sCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJUQkEiOwoKICAgIC8vIE5hbWUgb2YgdG9rZW4KICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9IlRCQSI7CgogICAgLy8gRGVjaW1hbHMgb2YgdG9rZW4KICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwoKICAgIC8vIFRvdGFsIHRva2VuIHN1cHBseQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpOwoKICAgIC8vIFRoZSBiYWxhbmNlIG9mIGFjY291bnQgd2l0aCBhZGRyZXNzIF9vd25lcgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKCiAgICAvLyBTZW5kIF92YWx1ZSB0b2tlbnMgdG8gYWRkcmVzcyBfdG8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8gU2VuZCBfdmFsdWUgdG9rZW5zIGZyb20gYWRkcmVzcyBfZnJvbSB0byBhZGRyZXNzIF90bwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8gQWxsb3cgX3NwZW5kZXIgdG8gd2l0aGRyYXcgZnJvbSB5b3VyIGFjY291bnQsIG11bHRpcGxlIHRpbWVzLCB1cCB0byB0aGUgX3ZhbHVlIGFtb3VudC4KICAgIC8vIElmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGFnYWluIGl0IG92ZXJ3cml0ZXMgdGhlIGN1cnJlbnQgYWxsb3dhbmNlIHdpdGggX3ZhbHVlLgogICAgLy8gdGhpcyBmdW5jdGlvbiBpcyByZXF1aXJlZCBmb3Igc29tZSBERVggZnVuY3Rpb25hbGl0eQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8gUmV0dXJucyB0aGUgYW1vdW50IHdoaWNoIF9zcGVuZGVyIGlzIHN0aWxsIGFsbG93ZWQgdG8gd2l0aGRyYXcgZnJvbSBfb3duZXIKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsKCiAgICAvLyBUcmlnZ2VyZWQgd2hlbiB0b2tlbnMgYXJlIHRyYW5zZmVycmVkLgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CgogICAgLy8gVHJpZ2dlcmVkIHdoZW5ldmVyIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIGlzIGNhbGxlZC4KICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwp9CgoKLy8gSW1wbGVtZW50YXRpb24gb2YgRVJDMjBJbnRlcmZhY2UKY29udHJhY3QgRVJDMjBUb2tlbiBpcyBFUkMyMEludGVyZmFjZXsKCiAgICAvLyBhY2NvdW50IGJhbGFuY2VzCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogICAgLy8gT3duZXIgb2YgYWNjb3VudCBhcHByb3ZlcyB0aGUgdHJhbnNmZXIgb2YgYW1vdW50IHRvIGFub3RoZXIgYWNjb3VudAogICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgogICAgLy8gRnVuY3Rpb24gdG8gYWNjZXNzIGFjb3VudCBiYWxhbmNlcwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIC8vIFRyYW5zZmVyIHRoZSBfYW1vdW50IGZyb20gbXNnLnNlbmRlciB0byBfdG8gYWNjb3VudAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCAmJiBfYW1vdW50ID4gMAogICAgICAgICAgICAgICAgJiYgYmFsYW5jZXNbX3RvXSArIF9hbW91bnQgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF9hbW91bnQ7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX2Ftb3VudDsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfYW1vdW50KTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICAvLyBTZW5kIF92YWx1ZSBhbW91bnQgb2YgdG9rZW5zIGZyb20gYWRkcmVzcyBfZnJvbSB0byBhZGRyZXNzIF90bwogICAgLy8gVGhlIHRyYW5zZmVyRnJvbSBtZXRob2QgaXMgdXNlZCBmb3IgYSB3aXRoZHJhdyB3b3JrZmxvdywgYWxsb3dpbmcgY29udHJhY3RzIHRvIHNlbmQKICAgIC8vIHRva2VucyBvbiB5b3VyIGJlaGFsZiwgZm9yIGV4YW1wbGUgdG8gImRlcG9zaXQiIHRvIGEgY29udHJhY3QgYWRkcmVzcyBhbmQvb3IgdG8gY2hhcmdlCiAgICAvLyBmZWVzIGluIHN1Yi1jdXJyZW5jaWVzOyB0aGUgY29tbWFuZCBzaG91bGQgZmFpbCB1bmxlc3MgdGhlIF9mcm9tIGFjY291bnQgaGFzCiAgICAvLyBkZWxpYmVyYXRlbHkgYXV0aG9yaXplZCB0aGUgc2VuZGVyIG9mIHRoZSBtZXNzYWdlIHZpYSBzb21lIG1lY2hhbmlzbTsgd2UgcHJvcG9zZQogICAgLy8gdGhlc2Ugc3RhbmRhcmRpemVkIEFQSXMgZm9yIGFwcHJvdmFsOgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKAogICAgICAgIGFkZHJlc3MgX2Zyb20sCiAgICAgICAgYWRkcmVzcyBfdG8sCiAgICAgICAgdWludDI1NiBfYW1vdW50CiAgICApIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfYW1vdW50CiAgICAgICAgICAgICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF9hbW91bnQgJiYgX2Ftb3VudCA+IDAKICAgICAgICAgICAgICAgICYmIGJhbGFuY2VzW190b10gKyBfYW1vdW50ID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX2Ftb3VudDsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX2Ftb3VudDsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfYW1vdW50OwogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICAvLyBBbGxvdyBfc3BlbmRlciB0byB3aXRoZHJhdyBmcm9tIHlvdXIgYWNjb3VudCwgbXVsdGlwbGUgdGltZXMsIHVwIHRvIHRoZSBfdmFsdWUgYW1vdW50LgogICAgLy8gSWYgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYWdhaW4gaXQgb3ZlcndyaXRlcyB0aGUgY3VycmVudCBhbGxvd2FuY2Ugd2l0aCBfdmFsdWUuCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF9hbW91bnQ7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIEZ1bmN0aW9uIHRvIHNwZWNpZnkgaG93IG11Y2ggX3NwZW5kZXIgaXMgYWxsb3dlZCB0byB0cmFuc2ZlciBvbiBfb3duZXIncyBiZWhhbGYKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCn0KCgovLyBUb2tlbiBpbXBsZW1lbnRhdGlvbiB0aGF0IGFsbG93cyBzZWxsaW5nIG9mIHNvdWxzIGFuZCBkaXN0cmlidXRpb24gb2YgbmFwa2lucwpjb250cmFjdCBTb3VsVG9rZW4gaXMgRVJDMjBUb2tlbnsKCiAgICAvLyBUaGUgdGhyZWUgbGV0dGVyIHN5bWJvbCBvZiB0b2tlbgogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiU09VTCI7CgogICAgLy8gTmFtZSBvZiB0b2tlbgogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIlNvdWwgTmFwa2lucyI7CgogICAgLy8gNiBpcyBhIGhvbHkgbnVtYmVyICgyKjMpIHNvIHRoZXJlIGFyZSA2IGRlY2ltYWxzCiAgICB1aW50OCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSA2OwoKICAgIC8vIFdpdGggNiBkZWNpbWFscywgYSBzaW5nbGUgdW5pdCBpcyAxMCoqNgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgdW5pdCA9IDEwMDAwMDA7CgogICAgLy8gZmVlIHRvIHBheSB0byB0cmFuc2ZlciBzb3VsLCAxMCUgbGlrZSB0aGUgZWNjbGVzaWFzdGljYWwgdGl0aGUKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBvYm9sID0gMTA7CgogICAgLy8gcHJpY2UgcGVyIHRva2VuLCAxMDAgbmFwa2lucyBwZXIgRXRoZXIKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IG5hcGtpblByaWNlID0gMTAgZmlubmV5IC8gdW5pdDsKCiAgICAvLyBUb3RhbCBudW1iZXIgb2YgbmFwa2lucyBhdmFpbGFibGUKICAgIC8vIDE0NCwwMDAgKGdldCBpdD8pCiAgICB1aW50MjU2IGNvbnN0YW50IHRvdGFsU3VwcGx5XyA9IDE0NDAwMCAqIHVuaXQ7CgogICAgLy8gbWFwcGluZyB0byBrZWVwIHRoZSByZWFzb24gb2YgdGhlIHNvdWwgc2FsZSEKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBzdHJpbmcpIHJlYXNvbnM7CgogICAgLy8gcHJpY2VzIHRoYXQgcGVvcGxlIHB1dCB1cCBmb3IgdGhlaXIgc291bAogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHNvdWxQcmljZXM7CgogICAgLy8gd2hvIG93bnMgYSBwYXJ0aWN1bGFyIHNvdWwKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBhZGRyZXNzKSBvd25lZEJ5OwoKICAgIC8vIG51bWJlciBvZiBzb3VscyBvd25lZCBieSBzb21lb25lCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1Nikgc291bHNPd25lZDsKCiAgICAvLyBib29rIG9mIHNvdWxzLCBsaXN0aW5nIGFsbCBzb3VscyBvbiBzYWxlIGFuZCBzb2xkCiAgICBtYXBwaW5nKHVpbnQyNTYgPT4gYWRkcmVzcykgc291bEJvb2s7CgogICAgLy8gb3duZXIgb2YgdGhlIGNvbnRyYWN0CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICAvLyBBZGRyZXNzIHdoZXJlIHNvdWwgb2JvbCBpcyBkdWUgdG8KICAgIGFkZHJlc3MgcHVibGljIGNoYXJvbnNCb2F0OwoKICAgIC8vIHNtYWxsIGZlZSB0byBpbnNlcnQgc291bCBpbnRvIHNvdWxib29rCiAgICB1aW50MjU2IHB1YmxpYyBib29raW5nRmVlOwoKICAgIC8vIHNvdWxzIGZvciBzYWxlCiAgICB1aW50MjU2IHB1YmxpYyBzb3Vsc0ZvclNhbGU7CgogICAgLy8gc291bHMgYWxyZWFkeSBzb2xkCiAgICB1aW50MjU2IHB1YmxpYyBzb3Vsc1NvbGQ7CgogICAgLy8gdG90YWwgYW1vdW50IG9mIFdlaSBjb2xsZWN0ZWQgYnkgQ2hhcm9uCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbE9ib2w7CgogICAgLy8gTG9ncyBhIHNvdWwgdHJhbnNmZXIKICAgIGV2ZW50IFNvdWxUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8pOwoKICAgIGZ1bmN0aW9uIFNvdWxUb2tlbigpIHB1YmxpY3sKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgY2hhcm9uc0JvYXQgPSBtc2cuc2VuZGVyOwogICAgICAgIC8vIGZlZSBmb3IgaW5zZXJ0aW5nIGludG8gc291bGJvb2ssIHVuaG9seSAxMyBmaW5uZXkKICAgICAgICBib29raW5nRmVlID0gMTMgZmlubmV5OwogICAgICAgIHNvdWxzRm9yU2FsZSA9IDA7CiAgICAgICAgc291bHNTb2xkID0gMDsKICAgICAgICB0b3RhbE9ib2wgPSAwOwogICAgICAgIC8vIGFsbCBuYXBraW5zIGJlbG9uZyB0byB0aGUgY29udHJhY3QgYXQgZmlyc3Q6CiAgICAgICAgYmFsYW5jZXNbdGhpc10gPSB0b3RhbFN1cHBseV87CiAgICAgICAgLy8gMTExMSBuYXBraW5zIGZvciB0aGUgZGV2IDstKQogICAgICAgIHBheU91dE5hcGtpbnMoMTExMSAqIHVuaXQpOwogICAgfQoKICAgIC8vIGZhbGxiYWNrIGZ1bmN0aW9uLCBDaGFyb24gc2VsbHMgbmFwa2lucyBhcyBtZXJjaGFuZGlzZSEKICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICB1aW50MjU2IGFtb3VudDsKICAgICAgICB1aW50MjU2IGNoZWNrZWRBbW91bnQ7CiAgICAgICAgLy8gZ2l2ZSBhd2F5IHNvbWUgbmFwa2lucyBpbiByZXR1cm4gcHJvcG9ydGlvbmFsIHRvIHZhbHVlCiAgICAgICAgYW1vdW50ID0gbXNnLnZhbHVlIC8gbmFwa2luUHJpY2U7CiAgICAgICAgY2hlY2tlZEFtb3VudCA9IGNoZWNrQW1vdW50KGFtb3VudCk7CiAgICAgICAgLy8gb25seSBwYXlvdXQgbmFwa2lucyBpZiB0aGVyZSBpcyB0aGUgYXBwcm9wcmlhdGUgYW1vdW50IGF2YWlsYWJsZQogICAgICAgIC8vIGVsc2UgdGhyb3cKICAgICAgICByZXF1aXJlKGFtb3VudCA9PSBjaGVja2VkQW1vdW50KTsKICAgICAgICAvLyBmb3J3YXJkIG1vbmV5IHRvIENoYXJvbgogICAgICAgIHBheUNoYXJvbihtc2cudmFsdWUpOwogICAgICAgIC8vIGZpbmFsbHkgcGF5b3V0IG5hcGtpbnMKICAgICAgICBwYXlPdXROYXBraW5zKGNoZWNrZWRBbW91bnQpOwogICAgfQoKICAgIC8vIGFsbG93cyBjaGFuZ2luZyBvZiB0aGUgYm9va2luZyBmZWUsIG5vdGUgb2JvbCBhbmQgdG9rZW4gcHJpY2UgYXJlIGZpeGVkIGFuZCBjYW5ub3QgY2hhbmdlCiAgICBmdW5jdGlvbiBjaGFuZ2VCb29raW5nRmVlKHVpbnQyNTYgZmVlKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgYm9va2luZ0ZlZSA9IGZlZTsKICAgIH0KCiAgICAvLyBjaGFuZ2VzIENoYXJvbidzIGJvYXQsIGkuZS4gdGhlIGFkZHJlc3Mgd2hlcmUgdGhlIG9ib2wgaXMgcGFpZCB0bwogICAgZnVuY3Rpb24gY2hhbmdlQm9hdChhZGRyZXNzIG5ld0JvYXQpIHB1YmxpY3sKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIGNoYXJvbnNCb2F0ID0gbmV3Qm9hdDsKICAgIH0KCiAgICAvLyB0b3RhbCBudW1iZXIgb2YgbmFwa2lucyBkaXN0cmlidXRlZCBieSBDaGFyb24KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpewogICAgICAgIHJldHVybiB0b3RhbFN1cHBseV87CiAgICB9CgogICAgLy8gcmV0dXJucyB0aGUgcmVhc29uIGZvciB0aGUgc2VsbGluZyBvZiBvbmUncyBzb3VsCiAgICBmdW5jdGlvbiBzb2xkU291bEJlY2F1c2UoYWRkcmVzcyBub1NvdWxNYXRlKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyhzdHJpbmcpewogICAgICAgIHJldHVybiByZWFzb25zW25vU291bE1hdGVdOwogICAgfQoKICAgIC8vIHJldHVybnMgdGhlIG93bmVyIG9mIGEgc291bAogICAgZnVuY3Rpb24gc291bElzT3duZWRCeShhZGRyZXNzIG5vU291bE1hdGUpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKGFkZHJlc3MpewogICAgICAgIHJldHVybiBvd25lZEJ5W25vU291bE1hdGVdOwogICAgfQoKICAgIC8vIHJldHVybnMgbnVtYmVyIG9mIHNvdWxzIG93bmVkIGJ5IHNvbWVvbmUKICAgIGZ1bmN0aW9uIG93bnNTb3VscyhhZGRyZXNzIHNvdWxPd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnModWludDI1Nil7CiAgICAgICAgcmV0dXJuIHNvdWxzT3duZWRbc291bE93bmVyXTsKICAgIH0KCiAgICAvLyByZXR1cm5zIHByaWNlIG9mIGEgc291bAogICAgZnVuY3Rpb24gc29sZFNvdWxGb3IoYWRkcmVzcyBub1NvdWxNYXRlKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KXsKICAgICAgICByZXR1cm4gc291bFByaWNlc1tub1NvdWxNYXRlXTsKICAgIH0KCiAgICAvLyByZXR1cm5zIHRoZSBudGggZW50cnkgaW4gdGhlIHNvdWxib29rCiAgICBmdW5jdGlvbiBzb3VsQm9va1BhZ2UodWludDI1NiBwYWdlKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyhhZGRyZXNzKXsKICAgICAgICByZXR1cm4gc291bEJvb2tbcGFnZV07CiAgICB9CgogICAgLy8gc2VsbHMgeW91ciBzb3VsIGZvciBhIGdpdmVuIHByaWNlIGFuZCBhIGdpdmVuIHJlYXNvbiEKICAgIGZ1bmN0aW9uIHNlbGxTb3VsKHN0cmluZyByZWFzb24sIHVpbnQyNTYgcHJpY2UpIHB1YmxpYyBwYXlhYmxlewogICAgICAgIHVpbnQyNTYgY2hhcm9uc09ib2w7CiAgICAgICAgc3RyaW5nIHN0b3JhZ2UgaGFzX3JlYXNvbiA9IHJlYXNvbnNbbXNnLnNlbmRlcl07CgogICAgICAgIC8vIHJlcXVpcmUgdGhhdCB1c2VyIGdpdmVzIGEgcmVhc29uCiAgICAgICAgcmVxdWlyZShieXRlcyhyZWFzb24pLmxlbmd0aCA+IDApOwoKICAgICAgICAvLyByZXF1aXJlIHRvIHBheSBib29raW5nRmVlCiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPj0gYm9va2luZ0ZlZSk7CgogICAgICAgIC8vIHlvdSBjYW5ub3QgZ2l2ZSBhd2F5IHlvdXIgc291bCBmb3IgZnJlZSwgYXQgbGVhc3QgQ2hhcm9uIHdhbnRzIHNvbWUgc2hhcmUKICAgICAgICBjaGFyb25zT2JvbCA9IHByaWNlIC8gb2JvbDsKICAgICAgICByZXF1aXJlKGNoYXJvbnNPYm9sID4gMCk7CgogICAgICAgIC8vIGFzc2VydCBoYXMgbm90IHNvbGQgaGVyIG9yIGhpcyBzb3VsLCB5ZXQKICAgICAgICByZXF1aXJlKGJ5dGVzKGhhc19yZWFzb24pLmxlbmd0aCA9PSAwKTsKICAgICAgICByZXF1aXJlKHNvdWxQcmljZXNbbXNnLnNlbmRlcl0gPT0gMCk7CiAgICAgICAgcmVxdWlyZShvd25lZEJ5W21zZy5zZW5kZXJdID09IGFkZHJlc3MoMCkpOwoKICAgICAgICAvLyBwYXkgYm9vayBrZWVwaW5nIGZlZQogICAgICAgIHBheUNoYXJvbihtc2cudmFsdWUpOwoKICAgICAgICAvLyBzdG9yZSB0aGUgcmVhc29uIGZvcmV2ZXIgb24gdGhlIGJsb2NrY2hhaW4KICAgICAgICByZWFzb25zW21zZy5zZW5kZXJdID0gcmVhc29uOwogICAgICAgIC8vIGFsc28gdGhlIHByaWNlIGlzIGZvcmV2ZXIga2VwdCBvbiB0aGUgYmxvY2tjaGFpbiwgc28gZG8gbm90IGJlIHRvbyBjaGVhcAogICAgICAgIHNvdWxQcmljZXNbbXNnLnNlbmRlcl0gPSBwcmljZTsKICAgICAgICAvLyBhbmQga2VlcCB0aGUgc291bCBpbiB0aGUgc291bCBib29rCiAgICAgICAgc291bEJvb2tbc291bHNGb3JTYWxlICsgc291bHNTb2xkXSA9IG1zZy5zZW5kZXI7CiAgICAgICAgc291bHNGb3JTYWxlICs9IDE7CiAgICB9CgogICAgLy8gYnV5cyBtc2cuc2VuZGVyIGEgc291bCBhbmQgcmV3YXJkcyBoaW0gd2l0aCB0b2tlbnMhCiAgICBmdW5jdGlvbiBidXlTb3VsKGFkZHJlc3Mgbm9Tb3VsTWF0ZSkgcHVibGljIHBheWFibGUgcmV0dXJucyh1aW50MjU2IGFtb3VudCl7CiAgICAgICAgdWludDI1NiBjaGFyb25zT2JvbDsKICAgICAgICB1aW50MjU2IHByaWNlOwoKICAgICAgICAvLyB5b3UgY2Fubm90IGJ1eSBhbiBvd25lZCBzb3VsOgogICAgICAgIHJlcXVpcmUob3duZWRCeVtub1NvdWxNYXRlXSA9PSBhZGRyZXNzKDApKTsKICAgICAgICAvLyBnZXQgdGhlIHByaWNlIG9mIHRoZSBzb3VsCiAgICAgICAgcHJpY2UgPSBzb3VsUHJpY2VzW25vU291bE1hdGVdOwogICAgICAgIC8vIFNvdWwgbXVzdCBiZSBmb3Igc2FsZQogICAgICAgIHJlcXVpcmUocHJpY2UgPiAwKTsKICAgICAgICByZXF1aXJlKGJ5dGVzKHJlYXNvbnNbbm9Tb3VsTWF0ZV0pLmxlbmd0aCA+IDApOwogICAgICAgIC8vIE1zZyBzZW5kZXIgbmVlZHMgdG8gcGF5IHRoZSBzb3VsIHByaWNlCiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPj0gcHJpY2UpOwogICAgICAgIGNoYXJvbnNPYm9sID0gbXNnLnZhbHVlIC8gb2JvbDsKCiAgICAgICAgLy8gY2hlY2sgZm9yIHdyYXAgYXJvdW5kCiAgICAgICAgcmVxdWlyZShzb3Vsc093bmVkW21zZy5zZW5kZXJdICsgMSA+IHNvdWxzT3duZWRbbXNnLnNlbmRlcl0pOwoKICAgICAgICAvLyBwYXkgQ2hhcm9uCiAgICAgICAgcGF5Q2hhcm9uKGNoYXJvbnNPYm9sKTsKICAgICAgICAvLyBwYXkgdGhlIHNvdWwgb3duZXIKICAgICAgICBub1NvdWxNYXRlLnRyYW5zZmVyKG1zZy52YWx1ZSAtIGNoYXJvbnNPYm9sKTsKCiAgICAgICAgLy8gVXBkYXRlIHRoZSBzb3VsIHN0YXRzCiAgICAgICAgc291bHNGb3JTYWxlIC09IDE7CiAgICAgICAgc291bHNTb2xkICs9IDE7CiAgICAgICAgLy8gSW5jcmVhc2UgdGhlIHNlbmRlcidzIGJhbGFuY2UgYnkgdGhlIGFwcHJvcHJpYXRlIGFtb3VudCBvZiBzb3VscyA7LSkKICAgICAgICBzb3Vsc093bmVkW21zZy5zZW5kZXJdICs9IDE7CiAgICAgICAgb3duZWRCeVtub1NvdWxNYXRlXSA9IG1zZy5zZW5kZXI7CiAgICAgICAgLy8gbG9nIHRoZSB0cmFuc2ZlcgogICAgICAgIFNvdWxUcmFuc2Zlcihub1NvdWxNYXRlLCBtc2cuc2VuZGVyKTsKCiAgICAgICAgLy8gYW5kIGdpdmUgYXdheSBuYXBraW5zIHByb3BvcnRpb25hbCB0byBvYm9sIHBsdXMgMSBib251cyBuYXBraW4gOy0pCiAgICAgICAgYW1vdW50ID0gY2hhcm9uc09ib2wgLyBuYXBraW5QcmljZSArIHVuaXQ7CiAgICAgICAgYW1vdW50ID0gY2hlY2tBbW91bnQoYW1vdW50KTsKICAgICAgICBpZiAoYW1vdW50ID4gMCl7CiAgICAgICAgICAgIC8vIG9ubHkgcGF5b3V0IG5hcGtpbnMgaWYgdGhleSBhcmUgYXZhaWxhYmxlCiAgICAgICAgICAgIHBheU91dE5hcGtpbnMoYW1vdW50KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBhbW91bnQ7CiAgICB9CgogICAgLy8gY2FuIHRyYW5zZmVyIGEgc291bCB0byBhIGRpZmZlcmVudCBhY2NvdW50LCBidXQgYmV3YXJlIHlvdSBoYXZlIHRvIHBheSBDaGFyb24gYWdhaW4hCiAgICBmdW5jdGlvbiB0cmFuc2ZlclNvdWwoYWRkcmVzcyBfdG8sIGFkZHJlc3Mgbm9Tb3VsTWF0ZSkgcHVibGljIHBheWFibGV7CiAgICAgICAgdWludDI1NiBjaGFyb25zT2JvbDsKCiAgICAgICAgLy8gcmVxdWlyZSBjb3JyZWN0IG93bmVyc2hpcAogICAgICAgIHJlcXVpcmUob3duZWRCeVtub1NvdWxNYXRlXSA9PSBtc2cuc2VuZGVyKTsKICAgICAgICByZXF1aXJlKHNvdWxzT3duZWRbX3RvXSArIDEgPiBzb3Vsc093bmVkW190b10pOwogICAgICAgIC8vIHJlcXVpcmUgdHJhbnNmZXIgZmVlIGlzIHBheWVkIGFnYWluCiAgICAgICAgY2hhcm9uc09ib2wgPSBzb3VsUHJpY2VzW25vU291bE1hdGVdIC8gb2JvbDsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBjaGFyb25zT2JvbCk7CiAgICAgICAgLy8gcGF5IENoYXJvbgogICAgICAgIHBheUNoYXJvbihtc2cudmFsdWUpOwogICAgICAgIC8vIHRyYW5zZmVyIHRoZSBzb3VsCiAgICAgICAgc291bHNPd25lZFttc2cuc2VuZGVyXSAtPSAxOwogICAgICAgIHNvdWxzT3duZWRbX3RvXSArPSAxOwogICAgICAgIG93bmVkQnlbbm9Tb3VsTWF0ZV0gPSBfdG87CgogICAgICAgIC8vIExvZyB0aGUgc291bCB0cmFuc2ZlcgogICAgICAgIFNvdWxUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8pOwogICAgfQoKICAgIC8vIGxvZ3MgYW5kIHBheXMgY2hhcm9uIGZlZXMKICAgIGZ1bmN0aW9uIHBheUNoYXJvbih1aW50MjU2IG9ib2xWYWx1ZSkgaW50ZXJuYWx7CiAgICAgICAgdG90YWxPYm9sICs9IG9ib2xWYWx1ZTsKICAgICAgICBjaGFyb25zQm9hdC50cmFuc2ZlcihvYm9sVmFsdWUpOwogICAgfQoKICAgIC8vIGNoZWNrcyBpZiBuYXBraW5zIGFyZSBzdGlsbCBhdmFpbGFibGUgYW5kIGFkanVzdHMgYW1vdW50IGFjY29yZGluZ2x5CiAgICBmdW5jdGlvbiBjaGVja0Ftb3VudCh1aW50MjU2IGFtb3VudCkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2IGNoZWNrZWRBbW91bnQpewoKICAgICAgICBpZiAoYW1vdW50ID4gYmFsYW5jZXNbdGhpc10pewogICAgICAgICAgICBjaGVja2VkQW1vdW50ID0gYmFsYW5jZXNbdGhpc107CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2hlY2tlZEFtb3VudCA9IGFtb3VudDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBjaGVja2VkQW1vdW50OwogICAgfQoKICAgIC8vIHRyYW5zZmVycyBuYXBraW5zIHRvIHBlb3BsZQogICAgZnVuY3Rpb24gcGF5T3V0TmFwa2lucyh1aW50MjU2IGFtb3VudCkgaW50ZXJuYWx7CiAgICAgICAgLy8gY2hlY2sgZm9yIGFtb3VudCBhbmQgd3JhcCBhcm91bmQKICAgICAgICByZXF1aXJlKGFtb3VudCA+IDApOwogICAgICAgIC8vIHllYWggc29tZSBzYW5pdHkgY2hlY2sKICAgICAgICByZXF1aXJlKGFtb3VudCA8PSBiYWxhbmNlc1t0aGlzXSk7CgogICAgICAgIC8vIHNlbmQgbmFwa2lucyBmcm9tIGNvbnRyYWN0IHRvIG1zZy5zZW5kZXIKICAgICAgICBiYWxhbmNlc1t0aGlzXSAtPSBhbW91bnQ7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gYW1vdW50OwogICAgICAgIC8vIGxvZyBuYXBraW4gdHJhbnNmZXIKICAgICAgICBUcmFuc2Zlcih0aGlzLCBtc2cuc2VuZGVyLCBhbW91bnQpOwogICAgfQoKfQ=='.
	

]
