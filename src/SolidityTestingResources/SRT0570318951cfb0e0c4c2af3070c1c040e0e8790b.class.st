Class {
	#name : #SRT0570318951cfb0e0c4c2af3070c1c040e0e8790b,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT0570318951cfb0e0c4c2af3070c1c040e0e8790b >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgpsaWJyYXJ5IE1hdGggewogIGZ1bmN0aW9uIG1heDY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW42NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtYXgyNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQp9CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgpsaWJyYXJ5IFNhZmVFUkMyMCB7CiAgZnVuY3Rpb24gc2FmZVRyYW5zZmVyKEVSQzIwQmFzaWMgdG9rZW4sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIGludGVybmFsIHsKICAgIGFzc2VydCh0b2tlbi50cmFuc2Zlcih0bywgdmFsdWUpKTsKICB9CgogIGZ1bmN0aW9uIHNhZmVUcmFuc2ZlckZyb20oRVJDMjAgdG9rZW4sIGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgaW50ZXJuYWwgewogICAgYXNzZXJ0KHRva2VuLnRyYW5zZmVyRnJvbShmcm9tLCB0bywgdmFsdWUpKTsKICB9CgogIGZ1bmN0aW9uIHNhZmVBcHByb3ZlKEVSQzIwIHRva2VuLCBhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIGludGVybmFsIHsKICAgIGFzc2VydCh0b2tlbi5hcHByb3ZlKHNwZW5kZXIsIHZhbHVlKSk7CiAgfQp9Cgpjb250cmFjdCBSZXR1cm5WZXN0aW5nUmVnaXN0cnkgaXMgT3duYWJsZSB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gYWRkcmVzcykgcHVibGljIHJldHVybkFkZHJlc3M7CgogIGZ1bmN0aW9uIHJlY29yZChhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8pIG9ubHlPd25lciBwdWJsaWMgewogICAgcmVxdWlyZShmcm9tICE9IDApOwoKICAgIHJldHVybkFkZHJlc3NbZnJvbV0gPSB0bzsKICB9Cn0KCmNvbnRyYWN0IFRlcnJhZm9ybVJlc2VydmUgaXMgT3duYWJsZSB7CgogIC8qIFN0b3JpbmcgYSBiYWxhbmNlIGZvciBlYWNoIHVzZXIgKi8KICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBsb2NrZWRCYWxhbmNlOwoKICAvKiBTdG9yZSB0aGUgdG90YWwgc3VtIGxvY2tlZCAqLwogIHVpbnQgcHVibGljIHRvdGFsTG9ja2VkOwoKICAvKiBSZWZlcmVuY2UgdG8gdGhlIHRva2VuICovCiAgRVJDMjAgcHVibGljIG1hbmFUb2tlbjsKCiAgLyogQ29udHJhY3QgdGhhdCB3aWxsIGFzc2lnbiB0aGUgTEFORCBhbmQgYnVybi9yZXR1cm4gdG9rZW5zICovCiAgYWRkcmVzcyBwdWJsaWMgbGFuZENsYWltOwoKICAvKiBQcmV2ZW50IHRoZSB0b2tlbiBmcm9tIGFjY2VwdGluZyBkZXBvc2l0cyAqLwogIGJvb2wgcHVibGljIGFjY2VwdGluZ0RlcG9zaXRzOwoKICBldmVudCBMb2NrZWRCYWxhbmNlKGFkZHJlc3MgdXNlciwgdWludCBtYW5hKTsKICBldmVudCBMYW5kQ2xhaW1Db250cmFjdFNldChhZGRyZXNzIHRhcmdldCk7CiAgZXZlbnQgTGFuZENsYWltRXhlY3V0ZWQoYWRkcmVzcyB1c2VyLCB1aW50IHZhbHVlLCBieXRlcyBkYXRhKTsKICBldmVudCBBY2NlcHRpbmdEZXBvc2l0c0NoYW5nZWQoYm9vbCBfYWNjZXB0aW5nRGVwb3NpdHMpOwoKICBmdW5jdGlvbiBUZXJyYWZvcm1SZXNlcnZlKGFkZHJlc3MgX3Rva2VuKSB7CiAgICByZXF1aXJlKF90b2tlbiAhPSAwKTsKICAgIG1hbmFUb2tlbiA9IEVSQzIwKF90b2tlbik7CiAgICBhY2NlcHRpbmdEZXBvc2l0cyA9IHRydWU7CiAgfQoKICAvKioKICAgKiBMb2NrIE1BTkEgaW50byB0aGUgY29udHJhY3QuCiAgICogVGhpcyBjb250cmFjdCBkb2VzIG5vdCBoYXZlIGFub3RoZXIgd2F5IHRvIHRha2UgdGhlIHRva2VucyBvdXQgb3RoZXIgdGhhbgogICAqIHRocm91Z2ggdGhlIHRhcmdldCBjb250cmFjdC4KICAgKi8KICBmdW5jdGlvbiBsb2NrTWFuYShhZGRyZXNzIF9mcm9tLCB1aW50MjU2IG1hbmEpIHB1YmxpYyB7CiAgICByZXF1aXJlKGFjY2VwdGluZ0RlcG9zaXRzKTsKICAgIHJlcXVpcmUobWFuYSA+PSAxMDAwICogMWUxOCk7CiAgICByZXF1aXJlKG1hbmFUb2tlbi50cmFuc2ZlckZyb20oX2Zyb20sIHRoaXMsIG1hbmEpKTsKCiAgICBsb2NrZWRCYWxhbmNlW19mcm9tXSArPSBtYW5hOwogICAgdG90YWxMb2NrZWQgKz0gbWFuYTsKICAgIExvY2tlZEJhbGFuY2UoX2Zyb20sIG1hbmEpOwogIH0KCiAgLyoqCiAgICogQWxsb3dzIHRoZSBvd25lciBvZiB0aGUgY29udHJhY3QgdG8gcGF1c2UgYWNjZXB0aW5nRGVwb3NpdHMKICAgKi8KICBmdW5jdGlvbiBjaGFuZ2VDb250cmFjdFN0YXRlKGJvb2wgX2FjY2VwdGluZ0RlcG9zaXRzKSBwdWJsaWMgb25seU93bmVyIHsKICAgIGFjY2VwdGluZ0RlcG9zaXRzID0gX2FjY2VwdGluZ0RlcG9zaXRzOwogICAgQWNjZXB0aW5nRGVwb3NpdHNDaGFuZ2VkKGFjY2VwdGluZ0RlcG9zaXRzKTsKICB9CgogIC8qKgogICAqIFNldCB0aGUgY29udHJhY3QgdGhhdCBjYW4gbW92ZSB0aGUgc3Rha2VkIE1BTkEuCiAgICogQ2FsbHMgdGhlIGBhcHByb3ZlYCBmdW5jdGlvbiBvZiB0aGUgRVJDMjAgdG9rZW4gd2l0aCB0aGUgdG90YWwgYW1vdW50LgogICAqLwogIGZ1bmN0aW9uIHNldFRhcmdldENvbnRyYWN0KGFkZHJlc3MgdGFyZ2V0KSBwdWJsaWMgb25seU93bmVyIHsKICAgIGxhbmRDbGFpbSA9IHRhcmdldDsKICAgIG1hbmFUb2tlbi5hcHByb3ZlKGxhbmRDbGFpbSwgdG90YWxMb2NrZWQpOwogICAgTGFuZENsYWltQ29udHJhY3RTZXQodGFyZ2V0KTsKICB9CgogIC8qKgogICAqIFByZXZlbnQgcGF5bWVudHMgdG8gdGhlIGNvbnRyYWN0CiAgICovCiAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewogICAgcmV2ZXJ0KCk7CiAgfQp9Cgpjb250cmFjdCBUb2tlblZlc3RpbmcgaXMgT3duYWJsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CiAgdXNpbmcgU2FmZUVSQzIwIGZvciBFUkMyMDsKCiAgZXZlbnQgUmVsZWFzZWQodWludDI1NiBhbW91bnQpOwogIGV2ZW50IFJldm9rZWQoKTsKCiAgLy8gYmVuZWZpY2lhcnkgb2YgdG9rZW5zIGFmdGVyIHRoZXkgYXJlIHJlbGVhc2VkCiAgYWRkcmVzcyBwdWJsaWMgYmVuZWZpY2lhcnk7CgogIHVpbnQyNTYgcHVibGljIGNsaWZmOwogIHVpbnQyNTYgcHVibGljIHN0YXJ0OwogIHVpbnQyNTYgcHVibGljIGR1cmF0aW9uOwoKICBib29sIHB1YmxpYyByZXZvY2FibGU7CiAgYm9vbCBwdWJsaWMgcmV2b2tlZDsKCiAgdWludDI1NiBwdWJsaWMgcmVsZWFzZWQ7CgogIEVSQzIwIHB1YmxpYyB0b2tlbjsKCiAgLyoqCiAgICogQGRldiBDcmVhdGVzIGEgdmVzdGluZyBjb250cmFjdCB0aGF0IHZlc3RzIGl0cyBiYWxhbmNlIG9mIGFueSBFUkMyMCB0b2tlbiB0byB0aGUKICAgKiBfYmVuZWZpY2lhcnksIGdyYWR1YWxseSBpbiBhIGxpbmVhciBmYXNoaW9uIHVudGlsIF9zdGFydCArIF9kdXJhdGlvbi4gQnkgdGhlbiBhbGwKICAgKiBvZiB0aGUgYmFsYW5jZSB3aWxsIGhhdmUgdmVzdGVkLgogICAqIEBwYXJhbSBfYmVuZWZpY2lhcnkgYWRkcmVzcyBvZiB0aGUgYmVuZWZpY2lhcnkgdG8gd2hvbSB2ZXN0ZWQgdG9rZW5zIGFyZSB0cmFuc2ZlcnJlZAogICAqIEBwYXJhbSBfY2xpZmYgZHVyYXRpb24gaW4gc2Vjb25kcyBvZiB0aGUgY2xpZmYgaW4gd2hpY2ggdG9rZW5zIHdpbGwgYmVnaW4gdG8gdmVzdAogICAqIEBwYXJhbSBfZHVyYXRpb24gZHVyYXRpb24gaW4gc2Vjb25kcyBvZiB0aGUgcGVyaW9kIGluIHdoaWNoIHRoZSB0b2tlbnMgd2lsbCB2ZXN0CiAgICogQHBhcmFtIF9yZXZvY2FibGUgd2hldGhlciB0aGUgdmVzdGluZyBpcyByZXZvY2FibGUgb3Igbm90CiAgICogQHBhcmFtIF90b2tlbiBhZGRyZXNzIG9mIHRoZSBFUkMyMCB0b2tlbiBjb250cmFjdAogICAqLwogIGZ1bmN0aW9uIFRva2VuVmVzdGluZygKICAgIGFkZHJlc3MgX2JlbmVmaWNpYXJ5LAogICAgdWludDI1NiBfc3RhcnQsCiAgICB1aW50MjU2IF9jbGlmZiwKICAgIHVpbnQyNTYgX2R1cmF0aW9uLAogICAgYm9vbCAgICBfcmV2b2NhYmxlLAogICAgYWRkcmVzcyBfdG9rZW4KICApIHsKICAgIHJlcXVpcmUoX2JlbmVmaWNpYXJ5ICE9IDB4MCk7CiAgICByZXF1aXJlKF9jbGlmZiA8PSBfZHVyYXRpb24pOwoKICAgIGJlbmVmaWNpYXJ5ID0gX2JlbmVmaWNpYXJ5OwogICAgc3RhcnQgICAgICAgPSBfc3RhcnQ7CiAgICBjbGlmZiAgICAgICA9IF9zdGFydC5hZGQoX2NsaWZmKTsKICAgIGR1cmF0aW9uICAgID0gX2R1cmF0aW9uOwogICAgcmV2b2NhYmxlICAgPSBfcmV2b2NhYmxlOwogICAgdG9rZW4gICAgICAgPSBFUkMyMChfdG9rZW4pOwogIH0KCiAgLyoqCiAgICogQG5vdGljZSBPbmx5IGFsbG93IGNhbGxzIGZyb20gdGhlIGJlbmVmaWNpYXJ5IG9mIHRoZSB2ZXN0aW5nIGNvbnRyYWN0CiAgICovCiAgbW9kaWZpZXIgb25seUJlbmVmaWNpYXJ5KCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGJlbmVmaWNpYXJ5KTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAbm90aWNlIEFsbG93IHRoZSBiZW5lZmljaWFyeSB0byBjaGFuZ2UgaXRzIGFkZHJlc3MKICAgKiBAcGFyYW0gdGFyZ2V0IHRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRoZSByaWdodCB0bwogICAqLwogIGZ1bmN0aW9uIGNoYW5nZUJlbmVmaWNpYXJ5KGFkZHJlc3MgdGFyZ2V0KSBvbmx5QmVuZWZpY2lhcnkgcHVibGljIHsKICAgIHJlcXVpcmUodGFyZ2V0ICE9IDApOwogICAgYmVuZWZpY2lhcnkgPSB0YXJnZXQ7CiAgfQoKICAvKioKICAgKiBAbm90aWNlIFRyYW5zZmVycyB2ZXN0ZWQgdG9rZW5zIHRvIGJlbmVmaWNpYXJ5LgogICAqLwogIGZ1bmN0aW9uIHJlbGVhc2UoKSBvbmx5QmVuZWZpY2lhcnkgcHVibGljIHsKICAgIHJlcXVpcmUobm93ID49IGNsaWZmKTsKICAgIF9yZWxlYXNlVG8oYmVuZWZpY2lhcnkpOwogIH0KCiAgLyoqCiAgICogQG5vdGljZSBUcmFuc2ZlcnMgdmVzdGVkIHRva2VucyB0byBhIHRhcmdldCBhZGRyZXNzLgogICAqIEBwYXJhbSB0YXJnZXQgdGhlIGFkZHJlc3MgdG8gc2VuZCB0aGUgdG9rZW5zIHRvCiAgICovCiAgZnVuY3Rpb24gcmVsZWFzZVRvKGFkZHJlc3MgdGFyZ2V0KSBvbmx5QmVuZWZpY2lhcnkgcHVibGljIHsKICAgIHJlcXVpcmUobm93ID49IGNsaWZmKTsKICAgIF9yZWxlYXNlVG8odGFyZ2V0KTsKICB9CgogIC8qKgogICAqIEBub3RpY2UgVHJhbnNmZXJzIHZlc3RlZCB0b2tlbnMgdG8gYmVuZWZpY2lhcnkuCiAgICovCiAgZnVuY3Rpb24gX3JlbGVhc2VUbyhhZGRyZXNzIHRhcmdldCkgaW50ZXJuYWwgewogICAgdWludDI1NiB1bnJlbGVhc2VkID0gcmVsZWFzYWJsZUFtb3VudCgpOwoKICAgIHJlbGVhc2VkID0gcmVsZWFzZWQuYWRkKHVucmVsZWFzZWQpOwoKICAgIHRva2VuLnNhZmVUcmFuc2Zlcih0YXJnZXQsIHVucmVsZWFzZWQpOwoKICAgIFJlbGVhc2VkKHJlbGVhc2VkKTsKICB9CgogIC8qKgogICAqIEBub3RpY2UgQWxsb3dzIHRoZSBvd25lciB0byByZXZva2UgdGhlIHZlc3RpbmcuIFRva2VucyBhbHJlYWR5IHZlc3RlZCBhcmUgc2VudCB0byB0aGUgYmVuZWZpY2lhcnkuCiAgICovCiAgZnVuY3Rpb24gcmV2b2tlKCkgb25seU93bmVyIHB1YmxpYyB7CiAgICByZXF1aXJlKHJldm9jYWJsZSk7CiAgICByZXF1aXJlKCFyZXZva2VkKTsKCiAgICAvLyBSZWxlYXNlIGFsbCB2ZXN0ZWQgdG9rZW5zCiAgICBfcmVsZWFzZVRvKGJlbmVmaWNpYXJ5KTsKCiAgICAvLyBTZW5kIHRoZSByZW1haW5kZXIgdG8gdGhlIG93bmVyCiAgICB0b2tlbi5zYWZlVHJhbnNmZXIob3duZXIsIHRva2VuLmJhbGFuY2VPZih0aGlzKSk7CgogICAgcmV2b2tlZCA9IHRydWU7CgogICAgUmV2b2tlZCgpOwogIH0KCgogIC8qKgogICAqIEBkZXYgQ2FsY3VsYXRlcyB0aGUgYW1vdW50IHRoYXQgaGFzIGFscmVhZHkgdmVzdGVkIGJ1dCBoYXNuJ3QgYmVlbiByZWxlYXNlZCB5ZXQuCiAgICovCiAgZnVuY3Rpb24gcmVsZWFzYWJsZUFtb3VudCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gdmVzdGVkQW1vdW50KCkuc3ViKHJlbGVhc2VkKTsKICB9CgogIC8qKgogICAqIEBkZXYgQ2FsY3VsYXRlcyB0aGUgYW1vdW50IHRoYXQgaGFzIGFscmVhZHkgdmVzdGVkLgogICAqLwogIGZ1bmN0aW9uIHZlc3RlZEFtb3VudCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGN1cnJlbnRCYWxhbmNlID0gdG9rZW4uYmFsYW5jZU9mKHRoaXMpOwogICAgdWludDI1NiB0b3RhbEJhbGFuY2UgPSBjdXJyZW50QmFsYW5jZS5hZGQocmVsZWFzZWQpOwoKICAgIGlmIChub3cgPCBjbGlmZikgewogICAgICByZXR1cm4gMDsKICAgIH0gZWxzZSBpZiAobm93ID49IHN0YXJ0LmFkZChkdXJhdGlvbikgfHwgcmV2b2tlZCkgewogICAgICByZXR1cm4gdG90YWxCYWxhbmNlOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHRvdGFsQmFsYW5jZS5tdWwobm93LnN1YihzdGFydCkpLmRpdihkdXJhdGlvbik7CiAgICB9CiAgfQoKICAvKioKICAgKiBAbm90aWNlIEFsbG93IHdpdGhkcmF3aW5nIGFueSB0b2tlbiBvdGhlciB0aGFuIHRoZSByZWxldmFudCBvbmUKICAgKi8KICBmdW5jdGlvbiByZWxlYXNlRm9yZWlnblRva2VuKEVSQzIwIF90b2tlbiwgdWludDI1NiBhbW91bnQpIG9ubHlPd25lciB7CiAgICByZXF1aXJlKF90b2tlbiAhPSB0b2tlbik7CiAgICBfdG9rZW4udHJhbnNmZXIob3duZXIsIGFtb3VudCk7CiAgfQp9Cgpjb250cmFjdCBEZWNlbnRyYWxhbmRWZXN0aW5nIGlzIFRva2VuVmVzdGluZyB7CiAgdXNpbmcgU2FmZUVSQzIwIGZvciBFUkMyMDsKCiAgZXZlbnQgTG9ja2VkTUFOQSh1aW50MjU2IGFtb3VudCk7CgogIFJldHVyblZlc3RpbmdSZWdpc3RyeSBwdWJsaWMgcmV0dXJuVmVzdGluZzsKICBUZXJyYWZvcm1SZXNlcnZlIHB1YmxpYyB0ZXJyYWZvcm1SZXNlcnZlOwoKICBmdW5jdGlvbiBEZWNlbnRyYWxhbmRWZXN0aW5nKAogICAgYWRkcmVzcyAgICAgICAgICAgICAgIF9iZW5lZmljaWFyeSwKICAgIHVpbnQyNTYgICAgICAgICAgICAgICBfc3RhcnQsCiAgICB1aW50MjU2ICAgICAgICAgICAgICAgX2NsaWZmLAogICAgdWludDI1NiAgICAgICAgICAgICAgIF9kdXJhdGlvbiwKICAgIGJvb2wgICAgICAgICAgICAgICAgICBfcmV2b2NhYmxlLAogICAgRVJDMjAgICAgICAgICAgICAgICAgIF90b2tlbiwKICAgIFJldHVyblZlc3RpbmdSZWdpc3RyeSBfcmV0dXJuVmVzdGluZywKICAgIFRlcnJhZm9ybVJlc2VydmUgICAgICBfdGVycmFmb3JtUmVzZXJ2ZQogICkKICAgIFRva2VuVmVzdGluZyhfYmVuZWZpY2lhcnksIF9zdGFydCwgX2NsaWZmLCBfZHVyYXRpb24sIF9yZXZvY2FibGUsIF90b2tlbikKICB7CiAgICByZXR1cm5WZXN0aW5nICAgID0gUmV0dXJuVmVzdGluZ1JlZ2lzdHJ5KF9yZXR1cm5WZXN0aW5nKTsKICAgIHRlcnJhZm9ybVJlc2VydmUgPSBUZXJyYWZvcm1SZXNlcnZlKF90ZXJyYWZvcm1SZXNlcnZlKTsKICB9CgogIGZ1bmN0aW9uIGxvY2tNYW5hKHVpbnQyNTYgYW1vdW50KSBvbmx5QmVuZWZpY2lhcnkgcHVibGljIHsKICAgIC8vIFJlcXVpcmUgYWxsb3dhbmNlIHRvIGJlIGVub3VnaAogICAgcmVxdWlyZSh0b2tlbi5hbGxvd2FuY2UoYmVuZWZpY2lhcnksIHRlcnJhZm9ybVJlc2VydmUpID49IGFtb3VudCk7CgogICAgLy8gQ2hlY2sgdGhlIGJhbGFuY2Ugb2YgdGhlIHZlc3RpbmcgY29udHJhY3QKICAgIHJlcXVpcmUoYW1vdW50IDw9IHRva2VuLmJhbGFuY2VPZih0aGlzKSk7CgogICAgLy8gQ2hlY2sgdGhlIHJlZ2lzdHJ5IG9mIHRoZSBiZW5lZmljaWFyeSBpcyBmaXhlZCB0byByZXR1cm4gdG8gdGhpcyBjb250cmFjdAogICAgcmVxdWlyZShyZXR1cm5WZXN0aW5nLnJldHVybkFkZHJlc3MoYmVuZWZpY2lhcnkpID09IGFkZHJlc3ModGhpcykpOwoKICAgIC8vIFRyYW5zZmVyIGFuZCBsb2NrCiAgICB0b2tlbi5zYWZlVHJhbnNmZXIoYmVuZWZpY2lhcnksIGFtb3VudCk7CiAgICB0ZXJyYWZvcm1SZXNlcnZlLmxvY2tNYW5hKGJlbmVmaWNpYXJ5LCBhbW91bnQpOwoKICAgIExvY2tlZE1BTkEoYW1vdW50KTsKICB9Cn0='.
	

]
