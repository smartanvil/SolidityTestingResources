Class {
	#name : #SRTe7d7b37e72510309db27c460378f957b1b04bd5d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe7d7b37e72510309db27c460378f957b1b04bd5d >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgoKCgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKCiAgLyoqCiAgKiBAZGV2IE11bHRpcGxpZXMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAqLwogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIC8qKgogICogQGRldiBJbnRlZ2VyIGRpdmlzaW9uIG9mIHR3byBudW1iZXJzLCB0cnVuY2F0aW5nIHRoZSBxdW90aWVudC4KICAqLwogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIC8vIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBhIC8gYjsKICB9CgogIC8qKgogICogQGRldiBTdWJ0cmFjdHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdyAoaS5lLiBpZiBzdWJ0cmFoZW5kIGlzIGdyZWF0ZXIgdGhhbiBtaW51ZW5kKS4KICAqLwogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIC8qKgogICogQGRldiBBZGRzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKCmNvbnRyYWN0IE93bmVkIHsKCWFkZHJlc3MgcHJpdmF0ZSBPd25lcjsKCQoJZnVuY3Rpb24gT3duZWQoKSBwdWJsaWN7CgkgICAgCgkgICAgT3duZXIgPSBtc2cuc2VuZGVyOwoJfQogICAgCglmdW5jdGlvbiBJc093bmVyKGFkZHJlc3MgYWRkcikgdmlldyBwdWJsaWMgcmV0dXJucyhib29sKQoJewoJICAgIHJldHVybiBPd25lciA9PSBhZGRyOwoJfQoJCglmdW5jdGlvbiBUcmFuc2Zlck93bmVyKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIKCXsKCSAgICBPd25lciA9IG5ld093bmVyOwoJfQoJCglmdW5jdGlvbiBUZXJtaW5hdGUoKSBwdWJsaWMgb25seU93bmVyCgl7CgkgICAgc2VsZmRlc3RydWN0KE93bmVyKTsKCX0KCQoJbW9kaWZpZXIgb25seU93bmVyKCl7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IE93bmVyKTsKICAgICAgICBfOwogICAgfQp9Cgpjb250cmFjdCBFTVBSIGlzIE93bmVkIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gImVtcG93ciI7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJFTVBSIjsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7ICAvLyAxOCBpcyB0aGUgbW9zdCBjb21tb24gbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzCiAgICBib29sIHByaXZhdGUgdHJhZGVhYmxlOwogICAgdWludDI1NiBwcml2YXRlIGN1cnJlbnRTdXBwbHk7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHJpdmF0ZSBiYWxhbmNlczsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nKGFkZHJlc3M9PiB1aW50MjU2KSkgcHJpdmF0ZSBhbGxvd2VkOwogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIHByaXZhdGUgbG9ja2VkQWNjb3VudHM7ICAKCQoJLyoKCQlJbmNvbWluZyBFdGhlcgoJKi8JCiAgICBldmVudCBSZWNlaXZlZEV0aChhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKTsKCS8vdGhpcyBpcyB0aGUgZmFsbGJhY2sKCWZ1bmN0aW9uICgpIHBheWFibGUgcHVibGljIHsKCQllbWl0IFJlY2VpdmVkRXRoKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CQkKCX0KCQoJZXZlbnQgVHJhbnNmZXJyZWRFdGgoYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwoJZnVuY3Rpb24gRm91bmRhdGlvblRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IGFtdEV0aCwgdWludDI1NiBhbXRUb2tlbikgcHVibGljIG9ubHlPd25lcgoJewoJCXJlcXVpcmUoYWRkcmVzcyh0aGlzKS5iYWxhbmNlID49IGFtdEV0aCAmJiBiYWxhbmNlc1t0aGlzXSA+PSBhbXRUb2tlbiApOwoJCQoJCWlmKGFtdEV0aCA+MCkKCQl7CgkJCV90by50cmFuc2ZlcihhbXRFdGgpOwoJCQllbWl0IFRyYW5zZmVycmVkRXRoKF90bywgYW10RXRoKTsKCQl9CgkJCgkJaWYoYW10VG9rZW4gPiAwKQoJCXsKCQkJcmVxdWlyZShiYWxhbmNlc1tfdG9dICsgYW10VG9rZW4gPiBiYWxhbmNlc1tfdG9dKTsKCQkJYmFsYW5jZXNbdGhpc10gLT0gYW10VG9rZW47CgkJCWJhbGFuY2VzW190b10gKz0gYW10VG9rZW47CgkJCWVtaXQgVHJhbnNmZXIodGhpcywgX3RvLCBhbXRUb2tlbik7CgkJfQoJCQoJCQoJfQkKCS8qCgkJRW5kIEluY29taW5nIEV0aGVyCgkqLwoJCgkKCQogICAgZnVuY3Rpb24gRU1QUiggKSBwdWJsaWMKICAgIHsKICAgICAgICB1aW50MjU2IGluaXRpYWxUb3RhbFN1cHBseSA9IDUwMDAwMDAwMDsKICAgICAgICBiYWxhbmNlc1t0aGlzXSA9IGluaXRpYWxUb3RhbFN1cHBseSAqICgxMCoqZGVjaW1hbHMpOwogICAgICAgIAogICAgICAgIGN1cnJlbnRTdXBwbHkgPSAgaW5pdGlhbFRvdGFsU3VwcGx5ICogKDEwKipkZWNpbWFscyk7CgkgICAgZW1pdCBUcmFuc2ZlcihhZGRyZXNzKDApLCB0aGlzLCBjdXJyZW50U3VwcGx5KTsKICAgICAgICAKICAgIH0KICAKCXVpbnQyNTYgY29uc3RhbnQgc3RhcnRUaW1lID0gMTUyNTEzMjgwMDsgLy8gRGF0ZS5VVEMoMjAxOCwgNCwgMSkgYXMgc2Vjb25kcwoJdWludDI1NiBjb25zdGFudCBzdGFydEFtdCA9IDk1MDAwMDAwOwoJdWludDI1NiBfbGFzdERheVBhaWQgPSAwOwoJdWludDI1NiBfY3VycmVudE1vbnRoID0gMDsKCXVpbnQyNTYgZmFjdG9yID0gMTAwMDAwMDA7CgkKICAgIGV2ZW50IERheU1pbnRlZCh1aW50MjU2IGRheSx1aW50MjU2IHZhbCwgdWludDI1NiBub3cpOwogICAgZnVuY3Rpb24gRGFpbHlNaW50KCkgcHVibGljIHsKICAgICAgICB1aW50MjU2IGRheSA9IChub3ctc3RhcnRUaW1lKS8oNjAqNjAqMjQpOwogICAgICAgIHJlcXVpcmUoc3RhcnRUaW1lIDw9IG5vdyk7CiAgICAgICAgcmVxdWlyZShkYXkgPj0gX2xhc3REYXlQYWlkKTsKICAgICAgICB1aW50MjU2IG1vbnRoID0gX2xhc3REYXlQYWlkLzMwOwogICAgICAgIGlmKG1vbnRoID4gX2N1cnJlbnRNb250aCl7CiAgICAgICAgICAgIF9jdXJyZW50TW9udGggKz0gMTsKICAgICAgICAgICAgZmFjdG9yID0gKGZhY3RvciAqIDk5KS8xMDA7CiAgICAgICAgfQogICAgICAgIHVpbnQyNTYgdG9kYXlzUGF5b3V0ID0gKCgoZmFjdG9yICogc3RhcnRBbXQgKS8xMDAwMDAwMCkvMzApKiAoMTAqKmRlY2ltYWxzKTsKICAgICAgICBiYWxhbmNlc1t0aGlzXSArPXRvZGF5c1BheW91dDsKICAgICAgICBjdXJyZW50U3VwcGx5ICs9IHRvZGF5c1BheW91dDsKICAgICAgICBlbWl0IFRyYW5zZmVyKGFkZHJlc3MoMCksIHRoaXMsIHRvZGF5c1BheW91dCk7CiAgICAgICAgZW1pdCBEYXlNaW50ZWQoX2xhc3REYXlQYWlkLCB0b2RheXNQYXlvdXQsIG5vdyk7CiAgICAgICAgX2xhc3REYXlQYWlkKz0xOwoJCiAgICB9CiAgICBmdW5jdGlvbiBsYXN0RGF5UGFpZCgpIHB1YmxpYyB2aWV3IHJldHVybnModWludDI1Nil7CiAgICAgICAgcmV0dXJuIF9sYXN0RGF5UGFpZDsKICAgIH0KICAgIAoKICAgIAogICAgCglmdW5jdGlvbiBNaW50VG9rZW4odWludDI1NiBhbXQpIHB1YmxpYyBvbmx5T3duZXIgewoJICAgIGN1cnJlbnRTdXBwbHkgKz0gYW10OwoJICAgIGJhbGFuY2VzW3RoaXNdICs9IGFtdDsKCSAgICBlbWl0IFRyYW5zZmVyKGFkZHJlc3MoMCksIHRoaXMsIGFtdCk7Cgl9CgkKCWZ1bmN0aW9uIERlc3Ryb3lUb2tlbih1aW50MjU2IGFtdCkgcHVibGljIG9ubHlPd25lciB7CgkgICAgcmVxdWlyZSAoIGJhbGFuY2VzW3RoaXNdID49IGFtdCk7CgkgICAgY3VycmVudFN1cHBseSAtPSBhbXQ7CgkgICAgYmFsYW5jZXNbdGhpc10gLT0gYW10OwoJICAgIGVtaXQgVHJhbnNmZXIodGhpcyxhZGRyZXNzKDApLCBhbXQpOwoJfQoJCgkKCQogICAgZXZlbnQgU29sZFRva2VuKGFkZHJlc3MgX2J1eWVyLCB1aW50MjU2IF92YWx1ZSwgc3RyaW5nIG5vdGUpOwogICAgZnVuY3Rpb24gQnV5VG9rZW4oYWRkcmVzcyBfYnV5ZXIsIHVpbnQyNTYgX3ZhbHVlLCBzdHJpbmcgbm90ZSkgcHVibGljIG9ubHlPd25lcgogICAgewoJCXJlcXVpcmUoYmFsYW5jZXNbdGhpc10gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW19idXllcl0gKyBfdmFsdWUgPiBiYWxhbmNlc1tfYnV5ZXJdKTsKCQkKICAgICAgICBlbWl0IFNvbGRUb2tlbiggX2J1eWVyLCAgX3ZhbHVlLCAgbm90ZSk7CiAgICAgICAgYmFsYW5jZXNbdGhpc10gLT0gX3ZhbHVlOwogICAgICAgIGJhbGFuY2VzW19idXllcl0gKz0gX3ZhbHVlOwogICAgICAgIGVtaXQgVHJhbnNmZXIodGhpcywgX2J1eWVyLCBfdmFsdWUpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBMb2NrQWNjb3VudChhZGRyZXNzIHRvTG9jaykgcHVibGljIG9ubHlPd25lcgogICAgewogICAgICAgIGxvY2tlZEFjY291bnRzW3RvTG9ja10gPSB0cnVlOwogICAgfQogICAgZnVuY3Rpb24gVW5sb2NrQWNjb3VudChhZGRyZXNzIHRvVW5sb2NrKSBwdWJsaWMgb25seU93bmVyCiAgICB7CiAgICAgICAgZGVsZXRlIGxvY2tlZEFjY291bnRzW3RvVW5sb2NrXTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gU2V0VHJhZGVhYmxlKGJvb2wgdCkgcHVibGljIG9ubHlPd25lcgogICAgewogICAgICAgIHRyYWRlYWJsZSA9IHQ7CiAgICB9CiAgICBmdW5jdGlvbiBJc1RyYWRlYWJsZSgpIHB1YmxpYyB2aWV3IHJldHVybnMoYm9vbCkKICAgIHsKICAgICAgICByZXR1cm4gdHJhZGVhYmxlOwogICAgfQogICAgCiAgICAKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQyNTYpCiAgICB7CiAgICAgICAgcmV0dXJuIGN1cnJlbnRTdXBwbHk7CiAgICB9CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpCiAgICB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyBub3RMb2NrZWQgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZSh0cmFkZWFibGUpOwogICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgICBlbWl0IFRyYW5zZmVyKCBtc2cuc2VuZGVyLCBfdG8sICBfdmFsdWUpOwogICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgfQogICAgIH0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpcHVibGljIG5vdExvY2tlZCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKCFsb2NrZWRBY2NvdW50c1tfZnJvbV0gJiYgIWxvY2tlZEFjY291bnRzW190b10pOwoJCXJlcXVpcmUodHJhZGVhYmxlKTsKICAgICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZQogICAgICAgICAgICAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUKICAgICAgICAgICAgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICBlbWl0IFRyYW5zZmVyKCBfZnJvbSwgX3RvLCAgX3ZhbHVlKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQogICAgCiAgICAgLyoqCiAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICoKICAgKiBCZXdhcmUgdGhhdCBjaGFuZ2luZyBhbiBhbGxvd2FuY2Ugd2l0aCB0aGlzIG1ldGhvZCBicmluZ3MgdGhlIHJpc2sgdGhhdCBzb21lb25lIG1heSB1c2UgYm90aCB0aGUgb2xkCiAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAqIHJhY2UgY29uZGl0aW9uIGlzIHRvIGZpcnN0IHJlZHVjZSB0aGUgc3BlbmRlcidzIGFsbG93YW5jZSB0byAwIGFuZCBzZXQgdGhlIGRlc2lyZWQgdmFsdWUgYWZ0ZXJ3YXJkczoKICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIGVtaXQgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmeWluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICAvKioKICAgKiBAZGV2IEluY3JlYXNlIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICoKICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKICAgKiBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbAogICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX2FkZGVkVmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gaW5jcmVhc2UgdGhlIGFsbG93YW5jZSBieS4KICAgKi8KICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICBlbWl0IEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRGVjcmVhc2UgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKgogICAqIGFwcHJvdmUgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFsbG93ZWRbX3NwZW5kZXJdID09IDAuIFRvIGRlY3JlbWVudAogICAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsCiAgICogdGhlIGZpcnN0IHRyYW5zYWN0aW9uIGlzIG1pbmVkKQogICAqIEZyb20gTW9ub2xpdGhEQU8gVG9rZW4uc29sCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3VidHJhY3RlZFZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGRlY3JlYXNlIHRoZSBhbGxvd2FuY2UgYnkuCiAgICovCiAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICB1aW50IG9sZFZhbHVlID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl07CiAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgfQogICAgZW1pdCBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKTsKICAgCiAgIG1vZGlmaWVyIG5vdExvY2tlZCgpewogICAgICAgcmVxdWlyZSAoIWxvY2tlZEFjY291bnRzW21zZy5zZW5kZXJdKTsKICAgICAgIF87CiAgIH0KfQ=='.
	

]
