Class {
	#name : #SRT486cf19a550e2814aef970b14e509e93209a0151,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT486cf19a550e2814aef970b14e509e93209a0151 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhICogYjsKICAgICAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9CgoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgLyoqCiAgICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgICAqIGFjY291bnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAgICovCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgICAgICBhc3NlcnQobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KfQoKCi8qCiAqIEB0aXRsZSBIYWx0YWJsZQogKiBAZGV2IEFic3RyYWN0IGNvbnRyYWN0IHRoYXQgYWxsb3dzIGNoaWxkcmVuIHRvIGltcGxlbWVudCBhbiBlbWVyZ2VuY3kgc3RvcCBtZWNoYW5pc20uCiAqIEBkZXYgRGlmZmVycyBmcm9tIFBhdXNhYmxlIGJ5IGNhdXNpbmcgYSB0aHJvdyB3aGVuIGluIGhhbHQgbW9kZS4KICovCmNvbnRyYWN0IEhhbHRhYmxlIGlzIE93bmFibGUgewogICAgYm9vbCBwdWJsaWMgaGFsdGVkOwoKICAgIG1vZGlmaWVyIHN0b3BJbkVtZXJnZW5jeSB7CiAgICAgICAgYXNzZXJ0KCFoYWx0ZWQpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seUluRW1lcmdlbmN5IHsKICAgICAgICBhc3NlcnQoaGFsdGVkKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBDYWxsZWQgYnkgdGhlIG93bmVyIG9uIGVtZXJnZW5jeSwgdHJpZ2dlcnMgc3RvcHBlZCBzdGF0ZS4KICAgICAqLwogICAgZnVuY3Rpb24gaGFsdCgpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgaGFsdGVkID0gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQ2FsbGVkIGJ5IHRoZSBvd25lciBvbiBlbmQgb2YgZW1lcmdlbmN5LCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZS4KICAgICAqLwogICAgZnVuY3Rpb24gdW5oYWx0KCkgZXh0ZXJuYWwgb25seU93bmVyIG9ubHlJbkVtZXJnZW5jeSB7CiAgICAgICAgaGFsdGVkID0gZmFsc2U7CiAgICB9Cn0KCgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4KICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogICAgLyoqCiAgICAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgyICogMzIpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgICAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAgICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEZpeCBmb3IgdGhlIEVSQzIwIHNob3J0IGFkZHJlc3MgYXR0YWNrCiAgICAgKiBAZGV2IHNlZTogaHR0cDovL3Zlc3NlbmVzLmNvbS90aGUtZXJjMjAtc2hvcnQtYWRkcmVzcy1hdHRhY2stZXhwbGFpbmVkLwogICAgICogQGRldiBzZWU6IGh0dHBzOi8vd3d3LnJlZGRpdC5jb20vci9ldGhlcmV1bS9jb21tZW50cy82M3M5MTcvd29ycnlzb21lX2J1Z19leHBsb2l0X3dpdGhfZXJjMjBfdG9rZW4vZGZ3bWhjMy8KICAgICAqLwogICAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgc2l6ZSkgewogICAgICAgIGFzc2VydCAobXNnLmRhdGEubGVuZ3RoID49IHNpemUgKyA0KTsKICAgICAgICBfOwogICAgfQp9CgoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAgIC8qKgogICAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CiAgICAgICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAgICAgLy8gYXNzZXJ0IChfdmFsdWUgPD0gX2FsbG93YW5jZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBBcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAgICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAgICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICAgICAgYXNzZXJ0KChfdmFsdWUgPT0gMCkgfHwgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKCiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgogICAgICovCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9Cn0KCgovKioKICogQHRpdGxlIE1pbnRhYmxlVG9rZW4KICogQGRldiBUb2tlbiB0aGF0IGNhbiBiZSBtaW50ZWQgYnkgYW5vdGhlciBjb250cmFjdCB1bnRpbCB0aGUgZGVmaW5lZCBjYXAgaXMgcmVhY2hlZC4KICogQGRldiBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vVG9rZW5NYXJrZXROZXQvaWNvL2Jsb2IvbWFzdGVyL2NvbnRyYWN0cy9NaW50YWJsZVRva2VuLnNvbAogKi8KY29udHJhY3QgTWludGFibGVUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICAgIHVpbnQyNTYgcHVibGljIG1pbnRhYmxlU3VwcGx5OwoKICAgIC8qKgogICAgICogQGRldiBMaXN0IG9mIGFnZW50cyB0aGF0IGFyZSBhbGxvd2VkIHRvIGNyZWF0ZSBuZXcgdG9rZW5zCiAgICAgKi8KICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgbWludEFnZW50czsKCiAgICBldmVudCBNaW50aW5nQWdlbnRDaGFuZ2VkKGFkZHJlc3MgYWRkciwgYm9vbCBzdGF0ZSk7CgogICAgLyoqCiAgICAgKiBAZGV2IE1pbnQgdG9rZW4gZnJvbSBwb29sIG9mIG1pbnRhYmxlIHRva2Vucy4KICAgICAqIEBkZXYgT25seSBjYWxsYWJsZSBieSB0aGUgbWludC1hZ2VudC4KICAgICAqLwogICAgZnVuY3Rpb24gbWludChhZGRyZXNzIHJlY2VpdmVyLCB1aW50MjU2IGFtb3VudCkgb25seVBheWxvYWRTaXplKDIgKiAzMikgb25seU1pbnRBZ2VudCBjYW5NaW50IHB1YmxpYyB7CiAgICAgICAgbWludGFibGVTdXBwbHkgPSBtaW50YWJsZVN1cHBseS5zdWIoYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tyZWNlaXZlcl0gPSBiYWxhbmNlc1tyZWNlaXZlcl0uYWRkKGFtb3VudCk7CiAgICAgICAgLy8gVGhpcyB3aWxsIG1ha2UgdGhlIG1pbnQgdHJhbnNhY3Rpb24gYXBwZWFyIGluIEV0aGVyU2Nhbi5pbwogICAgICAgIC8vIFdlIGNhbiByZW1vdmUgdGhpcyBhZnRlciB0aGVyZSBpcyBhIHN0YW5kYXJkaXplZCBtaW50aW5nIGV2ZW50CiAgICAgICAgVHJhbnNmZXIoMCwgcmVjZWl2ZXIsIGFtb3VudCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IE93bmVyIGNhbiBhbGxvdyBhIGNyb3dkc2FsZSBjb250cmFjdCB0byBtaW50IG5ldyB0b2tlbnMuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldE1pbnRBZ2VudChhZGRyZXNzIGFkZHIsIGJvb2wgc3RhdGUpIG9ubHlPd25lciBjYW5NaW50IHB1YmxpYyB7CiAgICAgICAgbWludEFnZW50c1thZGRyXSA9IHN0YXRlOwogICAgICAgIE1pbnRpbmdBZ2VudENoYW5nZWQoYWRkciwgc3RhdGUpOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlNaW50QWdlbnQoKSB7CiAgICAgICAgLy8gT25seSB0aGUgbWludC1hZ2VudCBpcyBhbGxvd2VkIHRvIG1pbnQgbmV3IHRva2VucwogICAgICAgIGFzc2VydCAobWludEFnZW50c1ttc2cuc2VuZGVyXSk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgTWFrZSBzdXJlIHdlIGFyZSBub3QgZG9uZSB5ZXQuCiAgICAgKi8KICAgIG1vZGlmaWVyIGNhbk1pbnQoKSB7CiAgICAgICAgYXNzZXJ0KG1pbnRhYmxlU3VwcGx5ID4gMCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgRml4IGZvciB0aGUgRVJDMjAgc2hvcnQgYWRkcmVzcyBhdHRhY2sKICAgICAqIEBkZXYgc2VlOiBodHRwOi8vdmVzc2VuZXMuY29tL3RoZS1lcmMyMC1zaG9ydC1hZGRyZXNzLWF0dGFjay1leHBsYWluZWQvCiAgICAgKiBAZGV2IHNlZTogaHR0cHM6Ly93d3cucmVkZGl0LmNvbS9yL2V0aGVyZXVtL2NvbW1lbnRzLzYzczkxNy93b3JyeXNvbWVfYnVnX2V4cGxvaXRfd2l0aF9lcmMyMF90b2tlbi9kZndtaGMzLwogICAgICovCiAgICBtb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludCBzaXplKSB7CiAgICAgICAgYXNzZXJ0IChtc2cuZGF0YS5sZW5ndGggPj0gc2l6ZSArIDQpOwogICAgICAgIF87CiAgICB9Cn0KCgovKgogKiBAdGl0bGUgUmVsZWFzYWJsZVRva2VuCiAqIEBkZXYgVG9rZW4gdGhhdCBtYXkgbm90IGJlIHRyYW5zZmVyZWQgdW50aWwgaXQgd2FzIHJlbGVhc2VkLgogKi8KY29udHJhY3QgUmVsZWFzYWJsZVRva2VuIGlzIEVSQzIwLCBPd25hYmxlIHsKICAgIGFkZHJlc3MgcHVibGljIHJlbGVhc2VBZ2VudDsKICAgIGJvb2wgcHVibGljIHJlbGVhc2VkID0gZmFsc2U7CgogICAgLyoqCiAgICAgKiBAZGV2IE9uZSB3YXkgZnVuY3Rpb24gdG8gcmVsZWFzZSB0aGUgdG9rZW5zIHRvIHRoZSB3aWxkLgogICAgICovCiAgICBmdW5jdGlvbiByZWxlYXNlVG9rZW4oKSBwdWJsaWMgb25seVJlbGVhc2VBZ2VudCB7CiAgICAgICAgcmVsZWFzZWQgPSB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBTZXQgdGhlIGNvbnRyYWN0IHRoYXQgbWF5IGNhbGwgdGhlIHJlbGVhc2UgZnVuY3Rpb24uCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldFJlbGVhc2VBZ2VudChhZGRyZXNzIGFkZHIpIG9ubHlPd25lciBpblJlbGVhc2VTdGF0ZShmYWxzZSkgcHVibGljIHsKICAgICAgICByZWxlYXNlQWdlbnQgPSBhZGRyOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaW5SZWxlYXNlU3RhdGUodHJ1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaW5SZWxlYXNlU3RhdGUodHJ1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgVGhlIGZ1bmN0aW9uIGNhbiBiZSBjYWxsZWQgb25seSBiZWZvcmUgb3IgYWZ0ZXIgdGhlIHRva2VucyBoYXZlIGJlZW4gcmVsZWFzZXNkCiAgICAgKi8KICAgIG1vZGlmaWVyIGluUmVsZWFzZVN0YXRlKGJvb2wgcmVsZWFzZVN0YXRlKSB7CiAgICAgICAgYXNzZXJ0KHJlbGVhc2VTdGF0ZSA9PSByZWxlYXNlZCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgVGhlIGZ1bmN0aW9uIGNhbiBiZSBjYWxsZWQgb25seSBieSBhIHdoaXRlbGlzdGVkIHJlbGVhc2UgYWdlbnQuCiAgICAgKi8KICAgIG1vZGlmaWVyIG9ubHlSZWxlYXNlQWdlbnQoKSB7CiAgICAgICAgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gcmVsZWFzZUFnZW50KTsKICAgICAgICBfOwogICAgfQp9CgoKLyoqCiAqIEB0aXRsZSBFdmVudENoYWluCiAqIEBkZXYgQ29udHJhY3QgZm9yIHRoZSBFdmVudENoYWluIHRva2VuLgogKi8KY29udHJhY3QgRXZlbnRDaGFpbiBpcyBSZWxlYXNhYmxlVG9rZW4sIE1pbnRhYmxlVG9rZW4gewogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIkV2ZW50Q2hhaW4iOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiRVZDIjsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDE4OwogICAgCiAgICBmdW5jdGlvbiBFdmVudENoYWluKCkgewogICAgICAgIC8vIHRvdGFsIHN1cHBseSBpcyA4NCBtaWxsaW9uIHRva2VucwogICAgICAgIHRvdGFsU3VwcGx5ID0gODQwMDAwMDAgZXRoZXI7CiAgICAgICAgbWludGFibGVTdXBwbHkgPSB0b3RhbFN1cHBseTsKICAgICAgICAvLyBhbGxvdyBkZXBsb3llciB0byB1bmxvY2sgdG9rZW4gdHJhbnNmZXIgYW5kIG1pbnQgdG9rZW5zCiAgICAgICAgc2V0UmVsZWFzZUFnZW50KG1zZy5zZW5kZXIpOwogICAgICAgIHNldE1pbnRBZ2VudChtc2cuc2VuZGVyLCB0cnVlKTsKICAgIH0KfQoKCi8qCiAqIEB0aXRsZSBDcm93ZHNhbGUKICogQGRldiBDb250cmFjdCB0byBtYW5hZ2UgdGhlIEVWQyBjcm93ZHNhbGUKICogQGRldiBVc2luZyBhc3NlcnQgb3ZlciBhc3NlcnQgd2l0aGluIHRoZSBjb250cmFjdCBpbiBvcmRlciB0byBnZW5lcmF0ZSBlcnJvciBvcHNjb2RlcyAoMHhmZSksIHRoYXQgd2lsbCBwcm9wZXJseSBzaG93IHVwIGluIGV0aGVyc2NhbgogKiBAZGV2IFRoZSBhc3NlcnQgZXJyb3Igb3BzY29kZSAoMHhmZCkgd2lsbCBzaG93IHVwIGluIGV0aGVyc2NhbiBhZnRlciB0aGUgbWV0cm9wb2xpcyByZWxlYXNlCiAqIEBkZXYgc2VlOiBodHRwczovL2V0aGVyZXVtLnN0YWNrZXhjaGFuZ2UuY29tL2EvMjQxODUKICovCmNvbnRyYWN0IEV2ZW50Q2hhaW5Dcm93ZHNhbGUgaXMgSGFsdGFibGUgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgZW51bSBTdGF0ZXtQcmVwYXJpbmcsIFByZXBhcmVkLCBQcmVzYWxlLCBQaGFzZTEsIFBoYXNlMiwgQ2xvc2VkfQoKICAgIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIFBSRVNBTEVfU1VQUExZID0gMTEwMDAwMDAgZXRoZXI7CiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBQSEFTRTFfU1VQUExZID0gMzYwMDAwMDAgZXRoZXI7CiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBQSEFTRTJfU1VQUExZID0gNzYwMDAwMCBldGhlcjsKCiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBQUkVTQUxFX1JBVEUgPSA1NzA7CiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBQSEFTRTFfUkFURSA9IDQ2MDsKICAgIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIFBIQVNFMl9SQVRFID0gMjMwOwoKICAgIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIE1JTl9JTlZFU1QgPSAxMCBmaW5uZXk7CiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBQUkVTQUxFX01JTl9JTlZFU1QgPSAxMCBldGhlcjsKICAgIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIEJUV09fQ0xBSU1fUEVSQ0VOVCA9IDM7CgogICAgRXZlbnRDaGFpbiBwdWJsaWMgZXZjOwogICAgYWRkcmVzcyBwdWJsaWMgYmVuZWZpY2lhcnk7CiAgICBhZGRyZXNzIHB1YmxpYyBiZW5lZmljaWFyeVR3bzsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsUmFpc2VkOwoKICAgIFN0YXRlIHB1YmxpYyBjdXJyZW50U3RhdGU7CiAgICB1aW50MjU2IHB1YmxpYyBjdXJyZW50UmF0ZTsKICAgIHVpbnQyNTYgcHVibGljIGN1cnJlbnRTdXBwbHk7CiAgICB1aW50MjU2IHB1YmxpYyBjdXJyZW50VG90YWxTdXBwbHk7CgogICAgZXZlbnQgU3RhdGVDaGFuZ2VkKFN0YXRlIGZyb20sIFN0YXRlIHRvKTsKICAgIGV2ZW50IFByZXNhbGVDbGFpbWVkKHVpbnQyNTYgY2xhaW0pOwogICAgZXZlbnQgSW52ZXN0bWVudE1hZGUoCiAgICAgICAgYWRkcmVzcyBpbnZlc3RvciwKICAgICAgICB1aW50MjU2IHdlaUFtb3VudCwKICAgICAgICB1aW50MjU2IHRva2VuQW1vdW50LAogICAgICAgIHN0cmluZyBjcm93ZHNhbGVQaGFzZSwKICAgICAgICBieXRlcyBjYWxsZGF0YQogICAgKTsKCiAgICBmdW5jdGlvbiBFdmVudENoYWluQ3Jvd2RzYWxlKEV2ZW50Q2hhaW4gX2V2YywgYWRkcmVzcyBfYmVuZWZpY2lhcnksIGFkZHJlc3MgX2JlbmVmaWNpYXJ5VHdvKSB7CiAgICAgICAgYXNzZXJ0KGFkZHJlc3MoX2V2YykgIT0gMHgwKTsKICAgICAgICBhc3NlcnQoYWRkcmVzcyhfYmVuZWZpY2lhcnkpICE9IDB4MCk7CiAgICAgICAgYXNzZXJ0KGFkZHJlc3MoX2JlbmVmaWNpYXJ5VHdvKSAhPSAweDApOwogICAgICAgIGJlbmVmaWNpYXJ5ID0gX2JlbmVmaWNpYXJ5OwogICAgICAgIGJlbmVmaWNpYXJ5VHdvID0gX2JlbmVmaWNpYXJ5VHdvOwogICAgICAgIGV2YyA9IF9ldmM7CiAgICB9CgogICAgZnVuY3Rpb24oKSBwYXlhYmxlIG9ubHlXaGVuQ3Jvd2RzYWxlSXNPcGVuIHJlcXVpcmVzTWluaW11bUludmVzdCBzdG9wSW5FbWVyZ2VuY3kgZXh0ZXJuYWwgewogICAgICAgIGFzc2VydChtc2cuZGF0YS5sZW5ndGggPD0gNjgpOyAvLyA2NCBieXRlcyBsaW1pdCBwbHVzIDQgZm9yIHRoZSBwcmVmaXgKICAgICAgICB1aW50MjU2IHRva2VucyA9IG1zZy52YWx1ZS5tdWwoY3VycmVudFJhdGUpOwogICAgICAgIGN1cnJlbnRTdXBwbHkgPSBjdXJyZW50U3VwcGx5LnN1Yih0b2tlbnMpOwogICAgICAgIGV2Yy5taW50KG1zZy5zZW5kZXIsIHRva2Vucyk7CiAgICAgICAgdG90YWxSYWlzZWQgPSB0b3RhbFJhaXNlZC5hZGQobXNnLnZhbHVlKTsKICAgICAgICBJbnZlc3RtZW50TWFkZSgKICAgICAgICAgICAgbXNnLnNlbmRlciwKICAgICAgICAgICAgbXNnLnZhbHVlLAogICAgICAgICAgICB0b2tlbnMsCiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZVRvU3RyaW5nKCksCiAgICAgICAgICAgIG1zZy5kYXRhCiAgICAgICAgKTsKICAgIH0KCiAgICBmdW5jdGlvbiBtaW50Rm91bmRlclRva2VucygpIG9ubHlPd25lciBpblN0YXRlKFN0YXRlLlByZXBhcmluZykgZXh0ZXJuYWwgewogICAgICAgIGFzc2VydChldmMubWludEFnZW50cyh0aGlzKSk7CiAgICAgICAgLy8gYWxsb2NhdGUgMzUlICgyOSw0IG1pbGxpb24pIG9mIHRoZSB0b3RhbCB0b2tlbiBzdXBwbHkgKDg0IG1pbGxpb24pIHRvIHRoZSBmb3VuZGVycwogICAgICAgIGV2Yy5taW50KGJlbmVmaWNpYXJ5LCAyOTQwMDAwMCBldGhlcik7CiAgICAgICAgY3VycmVudFN0YXRlID0gU3RhdGUuUHJlcGFyZWQ7CiAgICAgICAgU3RhdGVDaGFuZ2VkKFN0YXRlLlByZXBhcmluZywgY3VycmVudFN0YXRlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzdGFydFByZXNhbGUoKSBvbmx5T3duZXIgaW5TdGF0ZShTdGF0ZS5QcmVwYXJlZCkgZXh0ZXJuYWwgewogICAgICAgIGN1cnJlbnRUb3RhbFN1cHBseSA9IFBSRVNBTEVfU1VQUExZOwogICAgICAgIGN1cnJlbnRTdXBwbHkgPSBjdXJyZW50VG90YWxTdXBwbHk7CiAgICAgICAgY3VycmVudFJhdGUgPSBQUkVTQUxFX1JBVEU7CiAgICAgICAgY3VycmVudFN0YXRlID0gU3RhdGUuUHJlc2FsZTsKICAgICAgICBTdGF0ZUNoYW5nZWQoU3RhdGUuUHJlcGFyZWQsIGN1cnJlbnRTdGF0ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gc3RhcnRQaGFzZTEoKSBvbmx5T3duZXIgaW5TdGF0ZShTdGF0ZS5QcmVzYWxlKSBleHRlcm5hbCB7CiAgICAgICAgY3VycmVudFRvdGFsU3VwcGx5ID0gY3VycmVudFN1cHBseS5hZGQoUEhBU0UxX1NVUFBMWSk7CiAgICAgICAgY3VycmVudFN1cHBseSA9IGN1cnJlbnRUb3RhbFN1cHBseTsKICAgICAgICBjdXJyZW50UmF0ZSA9IFBIQVNFMV9SQVRFOwogICAgICAgIGN1cnJlbnRTdGF0ZSA9IFN0YXRlLlBoYXNlMTsKICAgICAgICB1aW50MjU2IGNsYWltID0gdGhpcy5iYWxhbmNlOwogICAgICAgIGJlbmVmaWNpYXJ5LnRyYW5zZmVyKGNsYWltKTsKICAgICAgICBQcmVzYWxlQ2xhaW1lZChjbGFpbSk7CiAgICAgICAgU3RhdGVDaGFuZ2VkKFN0YXRlLlByZXNhbGUsIGN1cnJlbnRTdGF0ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gc3RhcnRQaGFzZTIoKSBvbmx5T3duZXIgaW5TdGF0ZShTdGF0ZS5QaGFzZTEpIGV4dGVybmFsIHsKICAgICAgICBjdXJyZW50VG90YWxTdXBwbHkgPSBjdXJyZW50U3VwcGx5LmFkZChQSEFTRTJfU1VQUExZKTsKICAgICAgICBjdXJyZW50U3VwcGx5ID0gY3VycmVudFRvdGFsU3VwcGx5OwogICAgICAgIGN1cnJlbnRSYXRlID0gUEhBU0UyX1JBVEU7CiAgICAgICAgY3VycmVudFN0YXRlID0gU3RhdGUuUGhhc2UyOwogICAgICAgIFN0YXRlQ2hhbmdlZChTdGF0ZS5QaGFzZTEsIGN1cnJlbnRTdGF0ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gY2xvc2VDcm93ZHNhbGUoKSBvbmx5T3duZXIgaW5TdGF0ZShTdGF0ZS5QaGFzZTIpIGV4dGVybmFsIHsKICAgICAgICB1aW50MjU2IGJlbmVmaWNpYXJ5VHdvQ2xhaW0gPSB0b3RhbFJhaXNlZC5kaXYoMTAwKS5tdWwoQlRXT19DTEFJTV9QRVJDRU5UKTsKICAgICAgICBiZW5lZmljaWFyeVR3by50cmFuc2ZlcihiZW5lZmljaWFyeVR3b0NsYWltKTsKICAgICAgICBiZW5lZmljaWFyeS50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgICAgIGN1cnJlbnRUb3RhbFN1cHBseSA9IDA7CiAgICAgICAgY3VycmVudFN1cHBseSA9IDA7CiAgICAgICAgY3VycmVudFJhdGUgPSAwOwogICAgICAgIGN1cnJlbnRTdGF0ZSA9IFN0YXRlLkNsb3NlZDsKICAgICAgICBTdGF0ZUNoYW5nZWQoU3RhdGUuUGhhc2UyLCBjdXJyZW50U3RhdGUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGN1cnJlbnRTdGF0ZVRvU3RyaW5nKCkgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nKSB7CiAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PSBTdGF0ZS5QcmVwYXJpbmcpIHsKICAgICAgICAgICAgcmV0dXJuICJQcmVwYXJpbmciOwogICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFN0YXRlID09IFN0YXRlLlByZXBhcmVkKSB7CiAgICAgICAgICAgIHJldHVybiAiUHJlcGFyZWQiOwogICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFN0YXRlID09IFN0YXRlLlByZXNhbGUpIHsKICAgICAgICAgICAgcmV0dXJuICJQcmVzYWxlIjsKICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRTdGF0ZSA9PSBTdGF0ZS5QaGFzZTEpIHsKICAgICAgICAgICAgcmV0dXJuICJQaGFzZSAxIjsKICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRTdGF0ZSA9PSBTdGF0ZS5QaGFzZTIpIHsKICAgICAgICAgICAgcmV0dXJuICJQaGFzZSAyIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gIkNsb3NlZCI7CiAgICAgICAgfQogICAgfQoKICAgIG1vZGlmaWVyIGluU3RhdGUoU3RhdGUgX3N0YXRlKSB7CiAgICAgICAgYXNzZXJ0KGN1cnJlbnRTdGF0ZSA9PSBfc3RhdGUpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seVdoZW5Dcm93ZHNhbGVJc09wZW4oKSB7CiAgICAgICAgYXNzZXJ0KGN1cnJlbnRTdGF0ZSA9PSBTdGF0ZS5QcmVzYWxlIHx8IGN1cnJlbnRTdGF0ZSA9PSBTdGF0ZS5QaGFzZTEgfHwgY3VycmVudFN0YXRlID09IFN0YXRlLlBoYXNlMik7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciByZXF1aXJlc01pbmltdW1JbnZlc3QoKSB7CiAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PSBTdGF0ZS5QcmVzYWxlKSB7CiAgICAgICAgICAgIGFzc2VydChtc2cudmFsdWUgPj0gUFJFU0FMRV9NSU5fSU5WRVNUKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhc3NlcnQobXNnLnZhbHVlID49IE1JTl9JTlZFU1QpOwogICAgICAgIH0KICAgICAgICBfOwogICAgfQp9'.
	

]
