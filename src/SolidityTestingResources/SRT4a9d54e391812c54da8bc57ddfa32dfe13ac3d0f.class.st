Class {
	#name : #SRT4a9d54e391812c54da8bc57ddfa32dfe13ac3d0f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4a9d54e391812c54da8bc57ddfa32dfe13ac3d0f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKgoKICBaaWJlci5pbyBDb250cmFjdAogID09PT09PT09PT09PT09PT09PT09PT09PQogIEJ1eXMgWkJSIHRva2VucyBmcm9tIHRoZSBEQU8gY3Jvd2RzYWxlIG9uIHlvdXIgYmVoYWxmLgogIEF1dGhvcjogL3UvTGVvCgoqLwoKCi8vIEludGVyZmFjZSB0byBaQlIgSUNPIENvbnRyYWN0CmNvbnRyYWN0IERhb1Rva2VuIHsKICB1aW50MjU2IHB1YmxpYyBDQVA7CiAgdWludDI1NiBwdWJsaWMgdG90YWxFdGhlcnM7CiAgZnVuY3Rpb24gcHJveHlQYXltZW50KGFkZHJlc3MgcGFydGljaXBhbnQpIHBheWFibGU7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKfQoKY29udHJhY3QgWmliZXJUb2tlbiB7CiAgLy8gU3RvcmUgdGhlIGFtb3VudCBvZiBFVEggZGVwb3NpdGVkIGJ5IGVhY2ggYWNjb3VudC4KICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlczsKICAvLyBTdG9yZSB3aGV0aGVyIG9yIG5vdCBlYWNoIGFjY291bnQgd291bGQgaGF2ZSBtYWRlIGl0IGludG8gdGhlIGNyb3dkc2FsZS4KICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBjaGVja2VkX2luOwogIC8vIEJvdW50eSBmb3IgZXhlY3V0aW5nIGJ1eS4KICB1aW50MjU2IHB1YmxpYyBib3VudHk7CiAgLy8gVHJhY2sgd2hldGhlciB0aGUgY29udHJhY3QgaGFzIGJvdWdodCB0aGUgdG9rZW5zIHlldC4KICBib29sIHB1YmxpYyBib3VnaHRfdG9rZW5zOwogIC8vIFJlY29yZCB0aGUgdGltZSB0aGUgY29udHJhY3QgYm91Z2h0IHRoZSB0b2tlbnMuCiAgdWludDI1NiBwdWJsaWMgdGltZV9ib3VnaHQ7CiAgLy8gRW1lcmdlbmN5IGtpbGwgc3dpdGNoIGluIGNhc2UgYSBjcml0aWNhbCBidWcgaXMgZm91bmQuCiAgYm9vbCBwdWJsaWMga2lsbF9zd2l0Y2g7CiAgCiAgLyogUHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4gKi8KICBzdHJpbmcgcHVibGljIG5hbWU7CiAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CiAgdWludDggcHVibGljIGRlY2ltYWxzOwogIAogIC8vIFJhdGlvIG9mIFpCUiB0b2tlbnMgcmVjZWl2ZWQgdG8gRVRIIGNvbnRyaWJ1dGVkCiAgLy8gMS4wMDAuMDAwIEJHUCA9IDgwLjAwMC4wMDAgWkJSCiAgLy8gMUVUSCA9IDIxOCBCR1AgKDAzLjA3LjIwMTc6IGh0dHBzOi8vd3d3LmNvaW5nZWNrby5jb20vZW4vcHJpY2VfY2hhcnRzL2V0aGVyZXVtL2dicCkKICAvLyAxIEVUSCA9IDE3NDQwIFpCUgogIHVpbnQyNTYgWkJSX3Blcl9ldGggPSAxNzQ0MDsKICAvL1RvdGFsIFpCUiBUb2tlbnMgUmVzZXJ2ZQogIHVpbnQyNTYgWkJSX3RvdGFsX3Jlc2VydmUgPSAxMDAwMDAwMDA7CiAgLy8gWkJSIFRva2VucyBmb3IgRGV2ZWxvcGVycwogIHVpbnQyNTYgWkJSX2Rldl9yZXNlcnZlZCA9IDEwMDAwMDAwOwogIC8vIFpCUiBUb2tlbnMgZm9yIFNlbGxpbmcgb3ZlciBJQ08KICB1aW50MjU2IFpCUl9mb3Jfc2VsbGluZyA9IDgwMDAwMDAwOwogIC8vIFpCUiBUb2tlbnMgZm9yIEJvdW50eQogIHVpbnQyNTYgWkJSX2Zvcl9ib3VudHk9IDEwMDAwMDAwOwogIC8vIEVUSCBmb3IgYWN0aXZhdGUga2lsbC1zd2l0Y2ggaW4gY29udHJhY3QKICB1aW50MjU2IEVUSF90b19lbmQgPSA1MDAwMCBldGhlcjsKICB1aW50IHJlZ2lzdHJlZFRvOwogIHVpbnQyNTYgbG9hZGVkUmVmdW5kOwogIHVpbnQyNTYgX3N1cHBseTsKICBzdHJpbmcgX25hbWU7CiAgc3RyaW5nIF9zeW1ib2w7CiAgdWludDggX2RlY2ltYWxzOwoKICAvLyBUaGUgWkJSIFRva2VuIGFkZHJlc3MgYW5kIHNhbGUgYWRkcmVzcyBhcmUgdGhlIHNhbWUuCiAgRGFvVG9rZW4gcHVibGljIHRva2VuID0gRGFvVG9rZW4oMHhhOWQ1ODVDRTNCMjI3ZDY5OTg1YzNGN0E4NjZmRTdkMGU1MTBkYTUwKTsKICAvLyBUaGUgZGV2ZWxvcGVyIGFkZHJlc3MuCiAgYWRkcmVzcyBkZXZlbG9wZXJfYWRkcmVzcyA9IDB4NjUwODg3QjMzQkZBNDIzMjQwRUQ3QmM0QkQyNmM2NjA3NUUzYkVhZjsKCgogIC8qIFRoaXMgY3JlYXRlcyBhbiBhcnJheSB3aXRoIGFsbCBiYWxhbmNlcyAqLwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZU9mOwogICAgCiAgICAvKiBUaGlzIGdlbmVyYXRlcyBhIHB1YmxpYyBldmVudCBvbiB0aGUgYmxvY2tjaGFpbiB0aGF0IHdpbGwgbm90aWZ5IGNsaWVudHMgKi8KICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgCiAgICAvKiBJbml0aWFsaXplcyBjb250cmFjdCB3aXRoIGluaXRpYWwgc3VwcGx5IHRva2VucyB0byB0aGUgY3JlYXRvciBvZiB0aGUgY29udHJhY3QgKi8KICAgIGZ1bmN0aW9uIFppYmVyVG9rZW4oKSB7CiAgICAgICAgLyogaWYgc3VwcGx5IG5vdCBnaXZlbiB0aGVuIGdlbmVyYXRlIDEwMCBtaWxsaW9uIG9mIHRoZSBzbWFsbGVzdCB1bml0IG9mIHRoZSB0b2tlbiAqLwogICAgICAgIF9zdXBwbHkgPSAxMDAwMDAwMDAwMDsKICAgICAgICAKICAgICAgICAvKiBVbmxlc3MgeW91IGFkZCBvdGhlciBmdW5jdGlvbnMgdGhlc2UgdmFyaWFibGVzIHdpbGwgbmV2ZXIgY2hhbmdlICovCiAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdID0gX3N1cHBseTsKICAgICAgICBuYW1lID0gIlpJQkVSIENyb3dkc2FsZSBUb2tlbnMiOyAgICAgCiAgICAgICAgc3ltYm9sID0gIlpCUiI7CiAgICAgICAgCiAgICAgICAgLyogSWYgeW91IHdhbnQgYSBkaXZpc2libGUgdG9rZW4gdGhlbiBhZGQgdGhlIGFtb3VudCBvZiBkZWNpbWFscyB0aGUgYmFzZSB1bml0IGhhcyAgKi8KICAgICAgICBkZWNpbWFscyA9IDI7CiAgICB9CgoKICAgIC8vLyBTYWZlTWF0aCBjb250cmFjdCAtIG1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MKICAgIC8vLyBAYXV0aG9yIDxhIGhyZWY9Ii9jZG4tY2dpL2wvZW1haWwtcHJvdGVjdGlvbiIgY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSI4YmVmZWVmZGNiZjhlNmVhZjlmZmU4ZTRlNWZmZjllYWU4ZmZlZWVhZTZhNWU4ZTRlNiI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvYT4KICAgIGZ1bmN0aW9uIHNhZmVNdWwodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgdWludCBjID0gYSAqIGI7CiAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVEaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgYXNzZXJ0KGIgPiAwKTsKICAgICAgdWludCBjID0gYSAvIGI7CiAgICAgIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOwogICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICByZXR1cm4gYSAtIGI7CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZUFkZCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICB1aW50IGMgPSBhICsgYjsKICAgICAgYXNzZXJ0KGM+PWEgJiYgYz49Yik7CiAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIG1heDY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICAgIH0KCiAgICBmdW5jdGlvbiBtaW42NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICAgIH0KCiAgICBmdW5jdGlvbiBtYXgyNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbjI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICAgIH0KCiAgICBmdW5jdGlvbiBhc3NlcnQoYm9vbCBhc3NlcnRpb24pIGludGVybmFsIHsKICAgICAgaWYgKCFhc3NlcnRpb24pIHsKICAgICAgICB0aHJvdzsKICAgICAgfQogICAgfQoKCiAgICAvKioKICAgICogQWxsb3cgbG9hZCByZWZ1bmRzIGJhY2sgb24gdGhlIGNvbnRyYWN0IGZvciB0aGUgcmVmdW5kaW5nLgogICAgKgogICAgKiBUaGUgdGVhbSBjYW4gdHJhbnNmZXIgdGhlIGZ1bmRzIGJhY2sgb24gdGhlIHNtYXJ0IGNvbnRyYWN0IGluIHRoZSBjYXNlIHRoZSBtaW5pbXVtIGdvYWwgd2FzIG5vdCByZWFjaGVkLi4KICAgICovCiAgICBmdW5jdGlvbiBsb2FkUmVmdW5kKCkgcGF5YWJsZSB7CiAgICAgIGlmKG1zZy52YWx1ZSA9PSAwKSB0aHJvdzsKICAgICAgbG9hZGVkUmVmdW5kID0gc2FmZUFkZChsb2FkZWRSZWZ1bmQsIG1zZy52YWx1ZSk7CiAgICB9CgogICAgLyoqCiAgICAqIEludmVzdG9ycyBjYW4gY2xhaW0gcmVmdW5kLgogICAgKi8KICAgIGZ1bmN0aW9uIHJlZnVuZCgpIHByaXZhdGUgIHsKICAgICAgdWludDI1NiB3ZWlWYWx1ZSA9IHRoaXMuYmFsYW5jZTsKICAgICAgaWYgKHdlaVZhbHVlID09IDApIHRocm93OwogICAgICB1aW50MjU2IHdlaVJlZnVuZGVkOwogICAgICB3ZWlSZWZ1bmRlZCA9IHNhZmVBZGQod2VpUmVmdW5kZWQsIHdlaVZhbHVlKTsKICAgICAgcmVmdW5kKCk7CiAgICAgIGlmICghbXNnLnNlbmRlci5zZW5kKHdlaVZhbHVlKSkgdGhyb3c7CiAgICB9CgogICAgLyogU2VuZCBjb2lucyAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSB7CiAgICAgICAgLyogaWYgdGhlIHNlbmRlciBkb2Vuc3QgaGF2ZSBlbm91Z2ggYmFsYW5jZSB0aGVuIHN0b3AgKi8KICAgICAgICBpZiAoYmFsYW5jZU9mW21zZy5zZW5kZXJdIDwgX3ZhbHVlKSB0aHJvdzsKICAgICAgICBpZiAoYmFsYW5jZU9mW190b10gKyBfdmFsdWUgPCBiYWxhbmNlT2ZbX3RvXSkgdGhyb3c7CiAgICAgICAgCiAgICAgICAgLyogQWRkIGFuZCBzdWJ0cmFjdCBuZXcgYmFsYW5jZXMgKi8KICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIGJhbGFuY2VPZltfdG9dICs9IF92YWx1ZTsKICAgICAgICAKICAgICAgICAvKiBOb3RpZml5IGFueW9uZSBsaXN0ZW5pbmcgdGhhdCB0aGlzIHRyYW5zZmVyIHRvb2sgcGxhY2UgKi8KICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICB9CiAgCiAgLy8gQWxsb3dzIHRoZSBkZXZlbG9wZXIgdG8gc2h1dCBkb3duIGV2ZXJ5dGhpbmcgZXhjZXB0IHdpdGhkcmF3YWxzIGluIGVtZXJnZW5jaWVzLgogIGZ1bmN0aW9uIGFjdGl2YXRlX2tpbGxfc3dpdGNoKCkgewogICAgLy8gT25seSBhbGxvdyB0aGUgZGV2ZWxvcGVyIHRvIGFjdGl2YXRlIHRoZSBraWxsIHN3aXRjaC4KICAgIGlmIChtc2cuc2VuZGVyICE9IGRldmVsb3Blcl9hZGRyZXNzKSB0aHJvdzsKICAgIC8vIElycmV2ZXJzaWJseSBhY3RpdmF0ZSB0aGUga2lsbCBzd2l0Y2guCiAgICBraWxsX3N3aXRjaCA9IHRydWU7CiAgfQogIAogIC8vIFdpdGhkcmF3cyBhbGwgRVRIIGRlcG9zaXRlZCBvciBaQlIgcHVyY2hhc2VkIGJ5IHRoZSBzZW5kZXIuCiAgZnVuY3Rpb24gd2l0aGRyYXcoKXsKICAgIC8vIElmIGNhbGxlZCBiZWZvcmUgdGhlIElDTywgY2FuY2VsIGNhbGxlcidzIHBhcnRpY2lwYXRpb24gaW4gdGhlIHNhbGUuCiAgICBpZiAoIWJvdWdodF90b2tlbnMpIHsKICAgICAgLy8gU3RvcmUgdGhlIHVzZXIncyBiYWxhbmNlIHByaW9yIHRvIHdpdGhkcmF3YWwgaW4gYSB0ZW1wb3JhcnkgdmFyaWFibGUuCiAgICAgIHVpbnQyNTYgZXRoX2Ftb3VudCA9IGJhbGFuY2VzW21zZy5zZW5kZXJdOwogICAgICAvLyBVcGRhdGUgdGhlIHVzZXIncyBiYWxhbmNlIHByaW9yIHRvIHNlbmRpbmcgRVRIIHRvIHByZXZlbnQgcmVjdXJzaXZlIGNhbGwuCiAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gMDsKICAgICAgLy8gUmV0dXJuIHRoZSB1c2VyJ3MgZnVuZHMuICBUaHJvd3Mgb24gZmFpbHVyZSB0byBwcmV2ZW50IGxvc3Mgb2YgZnVuZHMuCiAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoZXRoX2Ftb3VudCk7CiAgICB9CiAgICAvLyBXaXRoZHJhdyB0aGUgc2VuZGVyJ3MgdG9rZW5zIGlmIHRoZSBjb250cmFjdCBoYXMgYWxyZWFkeSBwdXJjaGFzZWQgdGhlbS4KICAgIGVsc2UgewogICAgICAvLyBTdG9yZSB0aGUgdXNlcidzIFpCUiBiYWxhbmNlIGluIGEgdGVtcG9yYXJ5IHZhcmlhYmxlICgxIEVUSFdlaSAtPiAyMDAwIFpCUldlaSkuCiAgICAgIHVpbnQyNTYgWkJSX2Ftb3VudCA9IGJhbGFuY2VzW21zZy5zZW5kZXJdICogWkJSX3Blcl9ldGg7CiAgICAgIC8vIFVwZGF0ZSB0aGUgdXNlcidzIGJhbGFuY2UgcHJpb3IgdG8gc2VuZGluZyBaQlIgdG8gcHJldmVudCByZWN1cnNpdmUgY2FsbC4KICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAwOwogICAgICAvLyBObyBmZWUgZm9yIHdpdGhkcmF3aW5nIGlmIHRoZSB1c2VyIHdvdWxkIGhhdmUgbWFkZSBpdCBpbnRvIHRoZSBjcm93ZHNhbGUgYWxvbmUuCiAgICAgIHVpbnQyNTYgZmVlID0gMDsKICAgICAgLy8gMSUgZmVlIGlmIHRoZSB1c2VyIGRpZG4ndCBjaGVjayBpbiBkdXJpbmcgdGhlIGNyb3dkc2FsZS4KICAgICAgaWYgKCFjaGVja2VkX2luW21zZy5zZW5kZXJdKSB7CiAgICAgICAgZmVlID0gWkJSX2Ftb3VudCAvIDEwMDsKICAgICAgICAvLyBTZW5kIGFueSBub24temVybyBmZWVzIHRvIGRldmVsb3Blci4KICAgICAgICBpZighdG9rZW4udHJhbnNmZXIoZGV2ZWxvcGVyX2FkZHJlc3MsIGZlZSkpIHRocm93OwogICAgICB9CiAgICAgIC8vIFNlbmQgdGhlIHVzZXIgdGhlaXIgdG9rZW5zLiAgVGhyb3dzIGlmIHRoZSBjcm93ZHNhbGUgaXNuJ3Qgb3Zlci4KICAgICAgaWYoIXRva2VuLnRyYW5zZmVyKG1zZy5zZW5kZXIsIFpCUl9hbW91bnQgLSBmZWUpKSB0aHJvdzsKICAgIH0KICB9CiAgCiAgLy8gQWxsb3cgZGV2ZWxvcGVyIHRvIGFkZCBFVEggdG8gdGhlIGJ1eSBleGVjdXRpb24gYm91bnR5LgogIGZ1bmN0aW9uIGFkZF90b19ib3VudHkoKSBwYXlhYmxlIHsKICAgIC8vIE9ubHkgYWxsb3cgdGhlIGRldmVsb3BlciB0byBjb250cmlidXRlIHRvIHRoZSBidXkgZXhlY3V0aW9uIGJvdW50eS4KICAgIGlmIChtc2cuc2VuZGVyICE9IGRldmVsb3Blcl9hZGRyZXNzKSB0aHJvdzsKICAgIC8vIERpc2FsbG93IGFkZGluZyB0byBib3VudHkgaWYga2lsbCBzd2l0Y2ggaXMgYWN0aXZlLgogICAgaWYgKGtpbGxfc3dpdGNoKSB0aHJvdzsKICAgIC8vIERpc2FsbG93IGFkZGluZyB0byB0aGUgYm91bnR5IGlmIGNvbnRyYWN0IGhhcyBhbHJlYWR5IGJvdWdodCB0aGUgdG9rZW5zLgogICAgaWYgKGJvdWdodF90b2tlbnMpIHRocm93OwogICAgLy8gVXBkYXRlIGJvdW50eSB0byBpbmNsdWRlIHJlY2VpdmVkIGFtb3VudC4KICAgIGJvdW50eSArPSBtc2cudmFsdWU7CiAgfQogIAogIC8vIEJ1eXMgdG9rZW5zIGluIHRoZSBjcm93ZHNhbGUgYW5kIHJld2FyZHMgdGhlIGNhbGxlciwgY2FsbGFibGUgYnkgYW55b25lLgogIGZ1bmN0aW9uIGNsYWltX2JvdW50eSgpewogICAgLy8gU2hvcnQgY2lyY3VpdCB0byBzYXZlIGdhcyBpZiB0aGUgY29udHJhY3QgaGFzIGFscmVhZHkgYm91Z2h0IHRva2Vucy4KICAgIGlmIChib3VnaHRfdG9rZW5zKSByZXR1cm47CiAgICAvLyBEaXNhbGxvdyBidXlpbmcgaW50byB0aGUgY3Jvd2RzYWxlIGlmIGtpbGwgc3dpdGNoIGlzIGFjdGl2ZS4KICAgIGlmIChraWxsX3N3aXRjaCkgdGhyb3c7CiAgICAvLyBSZWNvcmQgdGhhdCB0aGUgY29udHJhY3QgaGFzIGJvdWdodCB0aGUgdG9rZW5zLgogICAgYm91Z2h0X3Rva2VucyA9IHRydWU7CiAgICAvLyBSZWNvcmQgdGhlIHRpbWUgdGhlIGNvbnRyYWN0IGJvdWdodCB0aGUgdG9rZW5zLgogICAgdGltZV9ib3VnaHQgPSBub3cgKyAxIGRheXM7CiAgICAvLyBUcmFuc2ZlciBhbGwgdGhlIGZ1bmRzIChsZXNzIHRoZSBib3VudHkpIHRvIHRoZSBaQlIgY3Jvd2RzYWxlIGNvbnRyYWN0CiAgICAvLyB0byBidXkgdG9rZW5zLiAgVGhyb3dzIGlmIHRoZSBjcm93ZHNhbGUgaGFzbid0IHN0YXJ0ZWQgeWV0IG9yIGhhcwogICAgLy8gYWxyZWFkeSBjb21wbGV0ZWQsIHByZXZlbnRpbmcgbG9zcyBvZiBmdW5kcy4KICAgIHRva2VuLnByb3h5UGF5bWVudC52YWx1ZSh0aGlzLmJhbGFuY2UgLSBib3VudHkpKGFkZHJlc3ModGhpcykpOwogICAgLy8gU2VuZCB0aGUgY2FsbGVyIHRoZWlyIGJvdW50eSBmb3IgYnV5aW5nIHRva2VucyBmb3IgdGhlIGNvbnRyYWN0LgogICAgaWYodGhpcy5iYWxhbmNlID4gRVRIX3RvX2VuZCkKICAgIHsKICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGJvdW50eSk7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICB0aW1lX2JvdWdodCA9IG5vdyArICAxIGRheXMgKiA5OwogICAgICAgIGlmKHRoaXMuYmFsYW5jZSA+IEVUSF90b19lbmQpIHsKICAgICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoYm91bnR5KTsKICAgICAgICB9CiAgICAgIH0KICB9CiAgCiAgLy8gQSBoZWxwZXIgZnVuY3Rpb24gZm9yIHRoZSBkZWZhdWx0IGZ1bmN0aW9uLCBhbGxvd2luZyBjb250cmFjdHMgdG8gaW50ZXJhY3QuCiAgZnVuY3Rpb24gZGVmYXVsdF9oZWxwZXIoKSBwYXlhYmxlIHsKICAgIC8vIFRyZWF0IG5lYXItemVybyBFVEggdHJhbnNhY3Rpb25zIGFzIGNoZWNrIGlucyBhbmQgd2l0aGRyYXdhbCByZXF1ZXN0cy4KICAgIGlmIChtc2cudmFsdWUgPD0gMSBmaW5uZXkpIHsKICAgICAgLy8gQ2hlY2sgaW4gZHVyaW5nIHRoZSBjcm93ZHNhbGUuCiAgICAgIGlmIChib3VnaHRfdG9rZW5zKSB7CiAgICAgICAgLy8gT25seSBhbGxvdyBjaGVja2luZyBpbiBiZWZvcmUgdGhlIGNyb3dkc2FsZSBoYXMgcmVhY2hlZCB0aGUgY2FwLgogICAgICAgIGlmICh0b2tlbi50b3RhbEV0aGVycygpID49IHRva2VuLkNBUCgpKSB0aHJvdzsKICAgICAgICAvLyBNYXJrIHVzZXIgYXMgY2hlY2tlZCBpbiwgbWVhbmluZyB0aGV5IHdvdWxkIGhhdmUgYmVlbiBhYmxlIHRvIGVudGVyIGFsb25lLgogICAgICAgIGNoZWNrZWRfaW5bbXNnLnNlbmRlcl0gPSB0cnVlOwogICAgICB9CiAgICAgIC8vIFdpdGhkcmF3IGZ1bmRzIGlmIHRoZSBjcm93ZHNhbGUgaGFzbid0IGJlZ3VuIHlldCBvciBpcyBhbHJlYWR5IG92ZXIuCiAgICAgIGVsc2UgewogICAgICAgIHdpdGhkcmF3KCk7CiAgICAgIH0KICAgIH0KICAgIC8vIERlcG9zaXQgdGhlIHVzZXIncyBmdW5kcyBmb3IgdXNlIGluIHB1cmNoYXNpbmcgdG9rZW5zLgogICAgZWxzZSB7CiAgICAgIC8vIERpc2FsbG93IGRlcG9zaXRzIGlmIGtpbGwgc3dpdGNoIGlzIGFjdGl2ZS4KICAgICAgaWYgKGtpbGxfc3dpdGNoKSB0aHJvdzsKICAgICAgLy8gT25seSBhbGxvdyBkZXBvc2l0cyBpZiB0aGUgY29udHJhY3QgaGFzbid0IGFscmVhZHkgcHVyY2hhc2VkIHRoZSB0b2tlbnMuCiAgICAgIGlmIChib3VnaHRfdG9rZW5zKSB0aHJvdzsKICAgICAgLy8gVXBkYXRlIHJlY29yZHMgb2YgZGVwb3NpdGVkIEVUSCB0byBpbmNsdWRlIHRoZSByZWNlaXZlZCBhbW91bnQuCiAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZTsKICAgIH0KICB9CiAgCiAgLy8gRGVmYXVsdCBmdW5jdGlvbi4gIENhbGxlZCB3aGVuIGEgdXNlciBzZW5kcyBFVEggdG8gdGhlIGNvbnRyYWN0LgogIGZ1bmN0aW9uICgpIHBheWFibGUgewogICAgLy8gRGVsZWdhdGUgdG8gdGhlIGhlbHBlciBmdW5jdGlvbi4KICAgIGRlZmF1bHRfaGVscGVyKCk7CiAgfQogIAogIC8vQ2hlY2sgaXMgbXNnX3NlbmRlciBpcyBjb250cmFjdCBkZXYKICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICBpZiAobXNnLnNlbmRlciAhPSBkZXZlbG9wZXJfYWRkcmVzcykgewogICAgICB0aHJvdzsKICAgIH0KICAgIF87CiAgfQogIAogIC8vIFNlbmQgZnVuZCB3aGVuIGljbyBlbmQKICBmdW5jdGlvbiB3aXRoZHJhd0V0aCgpIG9ubHlPd25lciB7ICAgICAgICAKICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgfQogIAogIC8vS2lsbCBjb250cmFjdAogIGZ1bmN0aW9uIGtpbGwoKSBvbmx5T3duZXIgeyAgICAgICAgCiAgICAgICAgc2VsZmRlc3RydWN0KGRldmVsb3Blcl9hZGRyZXNzKTsKICB9Cn0='.
	

]
