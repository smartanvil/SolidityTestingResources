Class {
	#name : #SRT4a527d8fc13c5203ab24ba0944f4cb14658d1db6,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4a527d8fc13c5203ab24ba0944f4cb14658d1db6 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKXsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLgogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKXsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQp9CgovKioKICogQHRpdGxlIFN0YW5kYXJkIEVSQzIwIHRva2VuCiAqCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIGJhc2ljIHN0YW5kYXJkIHRva2VuLgogKiBAZGV2IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKiBAZGV2IEJhc2VkIG9uIGNvZGUgYnkgRmlyc3RCbG9vZDogaHR0cHM6Ly9naXRodWIuY29tL0ZpcnN0Ymxvb2Rpby90b2tlbi9ibG9iL21hc3Rlci9zbWFydF9jb250cmFjdC9GaXJzdEJsb29kVG9rZW4uc29sCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGludGVybmFsIGFsbG93ZWQ7CgogIC8qKgogICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CgogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9Cn0KCi8qKgogKiBAdGl0bGUgTWludGFibGUgdG9rZW4KICogQGRldiBTaW1wbGUgRVJDMjAgVG9rZW4gZXhhbXBsZSwgd2l0aCBtaW50YWJsZSB0b2tlbiBjcmVhdGlvbgogKiBAZGV2IElzc3VlOiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvaXNzdWVzLzEyMAogKiBCYXNlZCBvbiBjb2RlIGJ5IFRva2VuTWFya2V0TmV0OiBodHRwczovL2dpdGh1Yi5jb20vVG9rZW5NYXJrZXROZXQvaWNvL2Jsb2IvbWFzdGVyL2NvbnRyYWN0cy9NaW50YWJsZVRva2VuLnNvbAogKi8KCmNvbnRyYWN0IE1pbnRhYmxlVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgT3duYWJsZSB7CiAgZXZlbnQgTWludChhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgYW1vdW50KTsKICBldmVudCBNaW50RmluaXNoZWQoKTsKCiAgYm9vbCBwdWJsaWMgbWludGluZ0ZpbmlzaGVkID0gZmFsc2U7CgogIG1vZGlmaWVyIGNhbk1pbnQoKSB7CiAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOwogICAgXzsKICB9CgogIC8qKgogICogQGRldiBGdW5jdGlvbiB0byBtaW50IHRva2VucwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0aGF0IHdpbGwgcmVjaWV2ZSB0aGUgbWludGVkIHRva2Vucy4KICAgICogQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gbWludC4KICAgICogQHJldHVybiBBIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgKi8KICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciBjYW5NaW50IHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgIFRyYW5zZmVyKDBYMCwgX3RvLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEZ1bmN0aW9uIHRvIHN0b3AgbWludGluZyBuZXcgdG9rZW5zLgogICogQHJldHVybiBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICovCiAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgbWludGluZ0ZpbmlzaGVkID0gdHJ1ZTsKICAgIE1pbnRGaW5pc2hlZCgpOwogICAgcmV0dXJuIHRydWU7CiAgfQp9Cgpjb250cmFjdCBNSVR4X1Rva2VuIGlzIE1pbnRhYmxlVG9rZW4gewogIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJNb3JwaGV1cyBJbmZyYXN0cnVjdHVyZSBUb2tlbiI7CiAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiTUlUeCI7CiAgdWludDI1NiBwdWJsaWMgZGVjaW1hbHMgPSAxODsKCiAgYm9vbCBwdWJsaWMgdHJhZGluZ1N0YXJ0ZWQgPSBmYWxzZTsKCiAgLyoqCiAgKiBAZGV2IG1vZGlmaWVyIHRoYXQgdGhyb3dzIGlmIHRyYWRpbmcgaGFzIG5vdCBzdGFydGVkIHlldAogICAqLwogIG1vZGlmaWVyIGhhc1N0YXJ0ZWRUcmFkaW5nKCkgewogICAgcmVxdWlyZSh0cmFkaW5nU3RhcnRlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgKiBAZGV2IEFsbG93cyB0aGUgb3duZXIgdG8gZW5hYmxlIHRoZSB0cmFkaW5nLiBUaGlzIGNhbiBub3QgYmUgdW5kb25lCiAgKi8KICBmdW5jdGlvbiBzdGFydFRyYWRpbmcoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHRyYWRpbmdTdGFydGVkID0gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIGFueW9uZSB0byB0cmFuc2ZlciB0aGUgTWlUIHRva2VucyBvbmNlIHRyYWRpbmcgaGFzIHN0YXJ0ZWQKICAgKiBAcGFyYW0gX3RvIHRoZSByZWNpcGllbnQgYWRkcmVzcyBvZiB0aGUgdG9rZW5zLgogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaGFzU3RhcnRlZFRyYWRpbmcgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgfQoKICAvKioKICAqIEBkZXYgQWxsb3dzIGFueW9uZSB0byB0cmFuc2ZlciB0aGUgTWlUIHRva2VucyBvbmNlIHRyYWRpbmcgaGFzIHN0YXJ0ZWQKICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICogQHBhcmFtIF92YWx1ZSB1aW50IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGhhc1N0YXJ0ZWRUcmFkaW5nIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiBlbWVyZ2VuY3lFUkMyMERyYWluKCBFUkMyMCBvZGRUb2tlbiwgdWludCBhbW91bnQgKSBwdWJsaWMgewogICAgb2RkVG9rZW4udHJhbnNmZXIob3duZXIsIGFtb3VudCk7CiAgfQp9Cgpjb250cmFjdCBNSVR4X1Rva2VuU2FsZSBpcyBPd25hYmxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgLy8gVGhlIHRva2VuIGJlaW5nIHNvbGQKICBNSVR4X1Rva2VuIHB1YmxpYyB0b2tlbjsKCiAgdWludDI1NiBwdWJsaWMgZGVjaW1hbHM7ICAKICB1aW50MjU2IHB1YmxpYyBvbmVDb2luOwoKICAvLyBzdGFydCBhbmQgZW5kIGJsb2NrIHdoZXJlIGludmVzdG1lbnRzIGFyZSBhbGxvd2VkIChib3RoIGluY2x1c2l2ZSkKICB1aW50MjU2IHB1YmxpYyBzdGFydFRpbWVzdGFtcDsKICB1aW50MjU2IHB1YmxpYyBlbmRUaW1lc3RhbXA7CiAgIC8vIHRpbWVzdGFtcHMgZm9yIHRpZXJzCiAgdWludDI1NiBwdWJsaWMgdGllcjFUaW1lc3RhbXA7CiAgdWludDI1NiBwdWJsaWMgdGllcjJUaW1lc3RhbXA7CiAgdWludDI1NiBwdWJsaWMgdGllcjNUaW1lc3RhbXA7CgogIC8vIGFkZHJlc3Mgd2hlcmUgZnVuZHMgYXJlIGNvbGxlY3RlZAogIGFkZHJlc3MgcHVibGljIG11bHRpU2lnOwoKICBmdW5jdGlvbiBzZXRXYWxsZXQoYWRkcmVzcyBfbmV3V2FsbGV0KSBwdWJsaWMgb25seU93bmVyIHsKICAgIG11bHRpU2lnID0gX25ld1dhbGxldDsKICB9CgogIC8vIFRoZXNlIHdpbGwgYmUgc2V0IGJ5IHNldFRpZXIoKQogIHVpbnQyNTYgcHVibGljIHJhdGU7IC8vIGhvdyBtYW55IHRva2VuIHVuaXRzIGEgYnV5ZXIgZ2V0cyBwZXIgd2VpCiAgdWludDI1NiBwdWJsaWMgbWluQ29udHJpYnV0aW9uID0gMC4wMDAxIGV0aGVyOyAgLy8gbWluaW11bSBjb250cmlidXRpbyB0byBwYXJ0aWNpcGF0ZSBpbiB0b2tlbnNhbGUKICB1aW50MjU2IHB1YmxpYyBtYXhDb250cmlidXRpb24gPSAyMDAwMDAgZXRoZXI7ICAvLyBkZWZhdWx0IGxpbWl0IHRvIHRva2VucyB0aGF0IHRoZSB1c2VycyBjYW4gYnV5CgogIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKgoKICAvLyBhbW91bnQgb2YgcmFpc2VkIG1vbmV5IGluIHdlaQogIHVpbnQyNTYgcHVibGljIHdlaVJhaXNlZDsKCiAgLy8gYW1vdW50IG9mIHJhaXNlZCB0b2tlbnMgCiAgdWludDI1NiBwdWJsaWMgdG9rZW5SYWlzZWQ7CgogIC8vIG1heGltdW0gYW1vdW50IG9mIHRva2VucyBiZWluZyBjcmVhdGVkCiAgdWludDI1NiBwdWJsaWMgbWF4VG9rZW5zOwoKICAvLyBtYXhpbXVtIGFtb3VudCBvZiB0b2tlbnMgZm9yIHNhbGUKICB1aW50MjU2IHB1YmxpYyB0b2tlbnNGb3JTYWxlOyAgCgogIC8vIG51bWJlciBvZiBwYXJ0aWNpcGFudHMgaW4gcHJlc2FsZQogIHVpbnQyNTYgcHVibGljIG51bWJlck9mUHVyY2hhc2VycyA9IDA7CgogIC8vICBmb3Igd2hpdGVsaXN0CiAgYWRkcmVzcyBwdWJsaWMgY3M7CgoKICAvLyBzd2l0Y2ggb24vb2ZmIHRoZSBhdXRob3Jpc2F0aW9uICwgZGVmYXVsdDogdHJ1ZQogIGJvb2wgICAgcHVibGljIGZyZWVGb3JBbGwgPSB0cnVlOwoKICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBhdXRob3Jpc2VkOyAvLyBqdXN0IHRvIGFubm95IHRoZSBoZWNrIG91dCBvZiBhbWVyaWNhbnMKCiAgZXZlbnQgVG9rZW5QdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgYmVuZWZpY2lhcnksIHVpbnQyNTYgdmFsdWUsIHVpbnQyNTYgYW1vdW50KTsKICBldmVudCBTYWxlQ2xvc2VkKCk7CgogIGZ1bmN0aW9uIE1JVHhfVG9rZW5TYWxlKCkgcHVibGljIHsKICAgIHN0YXJ0VGltZXN0YW1wID0gMTUxODQ1Mzc5NzsgLy8gMTUxODQ1Mzc5NyBjb252ZXJ0cyB0byBUdWVzZGF5IEZlYnJ1YXJ5IDEzLCAyMDE4IDAwOjQzOjE3IChhbSkgaW4gdGltZSB6b25lIEFzaWEvU2luZ2Fwb3JlICgrMDgpCiAgICAgICAgdGllcjFUaW1lc3RhbXAgPSAxNTE5NDAxNTk5OyAvLzE1MTk0MDE1OTkgY29udmVydHMgdG8gRnJpZGF5IEZlYnJ1YXJ5IDIzLCAyMDE4IDIzOjU5OjU5IChwbSkgaW4gdGltZSB6b25lIEFzaWEvU2luZ2Fwb3JlICgrMDgpCiAgICAgICAgdGllcjJUaW1lc3RhbXAgPSAxNTIwNjExMTk5IDsgLy8xNTIwNjExMTk5IGNvbnZlcnRzIHRvIEZyaWRheSBNYXJjaCAwOSwgMjAxOCAyMzo1OTo1OSAocG0pIGluIHRpbWUgem9uZSBBc2lhL1NpbmdhcG9yZSAoKzA4KQogICAgICAgIHRpZXIzVGltZXN0YW1wID0gMTUyMTgyMDc5OTsgLy8gMTUyMTgyMDc5OSBjb252ZXJ0cyB0byBGcmlkYXkgTWFyY2ggMjMsIDIwMTggMjM6NTk6NTkgKHBtKSBpbiB0aW1lIHpvbmUgQXNpYS9TaW5nYXBvcmUgKCswOCkgICAgICAgCiAgICBlbmRUaW1lc3RhbXAgPSAxNTIzODA3OTk5OyAgIC8vIDE1MjM4MDc5OTkgY29udmVydHMgdG8gU3VuZGF5IEFwcmlsIDE1LCAyMDE4IDIzOjU5OjU5IChwbSkgaW4gdGltZSB6b25lIEFzaWEvU2luZ2Fwb3JlICgrMDgpCiAgIAogICAgbXVsdGlTaWcgPSAweEQwMGQwODVGMTI1RUFGRUE5ZThjNUQzZjRiYzI1ZTZEMGM5M0FmMGU7CiAgICByYXRlID0gODAwMDsKICAgIHRva2VuID0gbmV3IE1JVHhfVG9rZW4oKTsKICAgIGRlY2ltYWxzID0gdG9rZW4uZGVjaW1hbHMoKTsKICAgIG9uZUNvaW4gPSAxMCAqKiBkZWNpbWFsczsKICAgIG1heFRva2VucyA9IDEwMDAgKiAoMTAqKjYpICogb25lQ29pbjsKICAgIHRva2Vuc0ZvclNhbGUgPSAzNzUgKiAoMTAqKjYpICogb25lQ29pbjsKICAgICAgICAKICB9CgogLyoqCiAgKiBAZGV2IENhbGN1bGF0ZXMgdGhlIGFtb3VudCBvZiBib251cyBjb2lucyB0aGUgYnV5ZXIgZ2V0cwogICovCiAgZnVuY3Rpb24gc2V0VGllcigpIGludGVybmFsIHsKIAogICAgaWYgKG5vdyA8PSB0aWVyMVRpbWVzdGFtcCkgeyAgLy8gZHVyaW5nIDF0aCBwZXJpb2QgdGhleSBnZXQgNTAlIGJvbnVzCiAgICAgIHJhdGUgPSA4MDAwOwogICAgICBtaW5Db250cmlidXRpb24gPSAxIGV0aGVyOwogICAgICBtYXhDb250cmlidXRpb24gPSAxMDAwMDAwIGV0aGVyOwogICAgfSBlbHNlIGlmIChub3cgPD0gdGllcjJUaW1lc3RhbXApIHsgLy8gZHVyaW5nIDJ0aCBwZXJpb2QgdGhleSBnZXQgMzUlIGJvbnVzCiAgICAgIHJhdGUgPSAxMDgwMDsKICAgICAgbWluQ29udHJpYnV0aW9uID0gMC4wMDEgZXRoZXI7CiAgICAgIG1heENvbnRyaWJ1dGlvbiA9IDEwMDAwMDAgZXRoZXI7CiAgICB9IGVsc2UgaWYgKG5vdyA8PSB0aWVyM1RpbWVzdGFtcCkgeyAvLyBkdXJpbmcgM3RoIHBlcmlvZCB0aGV5IGdldCAyMCUgYm9udXMKICAgICAgcmF0ZSA9IDk2MDA7CiAgICAgIG1pbkNvbnRyaWJ1dGlvbiA9IDAuMDAxIGV0aGVyOwogICAgICBtYXhDb250cmlidXRpb24gPSAxMDAwMDAwIGV0aGVyOwogICAgfSBlbHNlIHsgLy8gZHVyaW5nIDR0aCBwZXJpb2QgdGhleSBnZXQgMCUgYm9udXMKICAgICAgcmF0ZSA9IDgwMDA7CiAgICAgIG1pbkNvbnRyaWJ1dGlvbiA9IDAuMDAxIGV0aGVyOwogICAgICBtYXhDb250cmlidXRpb24gPSAxMDAwMDAwIGV0aGVyOwogICAgfQogIH0KICAvLyBAcmV0dXJuIHRydWUgaWYgY3Jvd2RzYWxlIGV2ZW50IGhhcyBlbmRlZAogIGZ1bmN0aW9uIGhhc0VuZGVkKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgIGlmIChub3cgPiBlbmRUaW1lc3RhbXApCiAgICAgIHJldHVybiB0cnVlOwogICAgaWYgKHRva2VuUmFpc2VkID49IHRva2Vuc0ZvclNhbGUpCiAgICAgIHJldHVybiB0cnVlOyAvLyBpZiB3ZSByZWFjaCB0aGUgdG9rZW5zRm9yU2FsZQogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgLyoqCiAgKiBAZGV2IHRocm93cyBpZiBwZXJzb24gc2VuZGluZyBpcyBub3QgY29udHJhY3Qgb3duZXIgb3IgY3Mgcm9sZQogICAqLwogIG1vZGlmaWVyIG9ubHlDU29yT3duZXIoKSB7CiAgICByZXF1aXJlKChtc2cuc2VuZGVyID09IG93bmVyKSB8fCAobXNnLnNlbmRlcj09Y3MpKTsKICAgIF87CiAgfQogICBtb2RpZmllciBvbmx5Q1MoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gY3MpOwogICAgXzsKICB9CgogIC8qKgogICogQGRldiB0aHJvd3MgaWYgcGVyc29uIHNlbmRpbmcgaXMgbm90IGF1dGhvcmlzZWQgb3Igc2VuZHMgbm90aGluZwogICovCiAgbW9kaWZpZXIgb25seUF1dGhvcmlzZWQoKSB7CiAgICByZXF1aXJlIChhdXRob3Jpc2VkW21zZy5zZW5kZXJdIHx8IGZyZWVGb3JBbGwpOwogICAgcmVxdWlyZSAobm93ID49IHN0YXJ0VGltZXN0YW1wKTsKICAgIHJlcXVpcmUgKCEoaGFzRW5kZWQoKSkpOwogICAgcmVxdWlyZSAobXVsdGlTaWcgIT0gMHgwKTsKICAgIHJlcXVpcmUodG9rZW5zRm9yU2FsZSA+IHRva2VuUmFpc2VkKTsgLy8gY2hlY2sgd2UgYXJlIG5vdCBvdmVyIHRoZSBudW1iZXIgb2YgdG9rZW5zRm9yU2FsZQogICAgXzsKICB9CgogIC8qKgogICogQGRldiBhdXRob3Jpc2UgYW4gYWNjb3VudCB0byBwYXJ0aWNpcGF0ZQogICovCiAgZnVuY3Rpb24gYXV0aG9yaXNlQWNjb3VudChhZGRyZXNzIHdob20pIG9ubHlDU29yT3duZXIgcHVibGljIHsKICAgIGF1dGhvcmlzZWRbd2hvbV0gPSB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IGF1dGhvcmlzZSBhIGxvdCBvZiBhY2NvdW50cyBpbiBvbmUgZ28KICAqLwogIGZ1bmN0aW9uIGF1dGhvcmlzZU1hbnlBY2NvdW50cyhhZGRyZXNzW10gbWFueSkgb25seUNTb3JPd25lciBwdWJsaWMgewogICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgbWFueS5sZW5ndGg7IGkrKykgewogICAgICBhdXRob3Jpc2VkW21hbnlbaV1dID0gdHJ1ZTsKICAgIH0KICB9CgogIC8qKgogICogQGRldiBiYW4gYW4gYWNjb3VudCBmcm9tIHBhcnRpY2lwYXRpb24gKGRlZmF1bHQpCiAgKi8KICBmdW5jdGlvbiBibG9ja0FjY291bnQoYWRkcmVzcyB3aG9tKSBvbmx5Q1Nvck93bmVyIHB1YmxpYyB7CiAgICBhdXRob3Jpc2VkW3dob21dID0gZmFsc2U7CiAgIH0gIAogICAgCiAgLyoqCiAgKiBAZGV2IHNldCBhIG5ldyBDUyByZXByZXNlbnRhdGl2ZQogICovCiAgZnVuY3Rpb24gc2V0Q1MoYWRkcmVzcyBuZXdDUykgb25seU93bmVyIHB1YmxpYyB7CiAgICBjcyA9IG5ld0NTOwogIH0KCiAgIC8qKgogICogQGRldiBzZXQgYSBmcmVlRm9yQWxsIHRvIHRydWUgKCBpbiBjYXNlIHlvdSBsZWF2ZSB0byBhbnlib2R5IHRvIHNlbmQgZXRoZXJzKQogICovCiAgZnVuY3Rpb24gc3dpdGNoT05mcmVlRm9yQWxsKCkgb25seUNTb3JPd25lciBwdWJsaWMgewogICAgZnJlZUZvckFsbCA9IHRydWU7CiAgfQogICAvKioKICAqIEBkZXYgc2V0IGEgZnJlZUZvckFsbCB0byBmYWxzZSAoIGluIGNhc2UgeW91IG5lZWQgdG8gYXV0aG9yaXNlIHRoZSBhY2NvbnRzKQogICovCiAgZnVuY3Rpb24gc3dpdGNoT0ZGZnJlZUZvckFsbCgpIG9ubHlDU29yT3duZXIgcHVibGljIHsKICAgIGZyZWVGb3JBbGwgPSBmYWxzZTsKICB9CgogIGZ1bmN0aW9uIHBsYWNlVG9rZW5zKGFkZHJlc3MgYmVuZWZpY2lhcnksIHVpbnQyNTYgX3Rva2Vucykgb25seUNTIHB1YmxpYyB7CiAgICAvL2NoZWNrIG1pbmltdW0gYW5kIG1heGltdW0gYW1vdW50CiAgICByZXF1aXJlKF90b2tlbnMgIT0gMCk7CiAgICByZXF1aXJlKCFoYXNFbmRlZCgpKTsKICAgIHJlcXVpcmUodG9rZW5SYWlzZWQgPD0gbWF4VG9rZW5zKTsKICAgIHJlcXVpcmUobm93IDw9IGVuZFRpbWVzdGFtcCk7CiAgICB1aW50MjU2IGFtb3VudCA9IDA7CiAgICBpZiAodG9rZW4uYmFsYW5jZU9mKGJlbmVmaWNpYXJ5KSA9PSAwKSB7CiAgICAgIG51bWJlck9mUHVyY2hhc2VycysrOwogICAgfQogICAgdG9rZW5SYWlzZWQgPSB0b2tlblJhaXNlZC5hZGQoX3Rva2Vucyk7IC8vIHNvIHdlIGNhbiBnbyBzbGlnaHRseSBvdmVyCiAgICB0b2tlbi5taW50KGJlbmVmaWNpYXJ5LCBfdG9rZW5zKTsKICAgIFRva2VuUHVyY2hhc2UoYmVuZWZpY2lhcnksIGFtb3VudCwgX3Rva2Vucyk7CiAgfQoKICAvLyBsb3cgbGV2ZWwgdG9rZW4gcHVyY2hhc2UgZnVuY3Rpb24KICBmdW5jdGlvbiBidXlUb2tlbnMoYWRkcmVzcyBiZW5lZmljaWFyeSwgdWludDI1NiBhbW91bnQpIG9ubHlBdXRob3Jpc2VkIGludGVybmFsIHsKCiAgICBzZXRUaWVyKCk7ICAgCiAgIAogICAgLy8gY2FsY3VsYXRlIHRva2VuIGFtb3VudCB0byBiZSBjcmVhdGVkCiAgICB1aW50MjU2IHRva2VucyA9IGFtb3VudC5tdWwocmF0ZSk7CgogICAgLy8gdXBkYXRlIHN0YXRlCiAgICB3ZWlSYWlzZWQgPSB3ZWlSYWlzZWQuYWRkKGFtb3VudCk7CiAgICBpZiAodG9rZW4uYmFsYW5jZU9mKGJlbmVmaWNpYXJ5KSA9PSAwKSB7CiAgICAgIG51bWJlck9mUHVyY2hhc2VycysrOwogICAgfQogICAgdG9rZW5SYWlzZWQgPSB0b2tlblJhaXNlZC5hZGQodG9rZW5zKTsgLy8gc28gd2UgY2FuIGdvIHNsaWdodGx5IG92ZXIKICAgIHRva2VuLm1pbnQoYmVuZWZpY2lhcnksIHRva2Vucyk7CiAgICBUb2tlblB1cmNoYXNlKGJlbmVmaWNpYXJ5LCBhbW91bnQsIHRva2Vucyk7CiAgICBtdWx0aVNpZy50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOyAvLyBiZXR0ZXIgaW4gY2FzZSBhbnkgb3RoZXIgZXRoZXIgZW5kcyB1cCBoZXJlCiAgfQoKICAvLyB0cmFuc2ZlciBvd25lcnNoaXAgb2YgdGhlIHRva2VuIHRvIHRoZSBvd25lciBvZiB0aGUgcHJlc2FsZSBjb250cmFjdAogIGZ1bmN0aW9uIGZpbmlzaFNhbGUoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoaGFzRW5kZWQoKSk7CgogICAgLy8gYXNzaWduIHRoZSByZXN0IG9mIHRoZSA2ME0gdG9rZW5zIHRvIHRoZSByZXNlcnZlCiAgICB1aW50IHVuYXNzaWduZWQ7CiAgICBpZihtYXhUb2tlbnMgPiB0b2tlblJhaXNlZCkgewogICAgICB1bmFzc2lnbmVkICA9IG1heFRva2Vucy5zdWIodG9rZW5SYWlzZWQpOwogICAgICB0b2tlbi5taW50KG11bHRpU2lnLHVuYXNzaWduZWQpOwogICAgfQogICAgdG9rZW4uZmluaXNoTWludGluZygpOwogICAgdG9rZW4udHJhbnNmZXJPd25lcnNoaXAob3duZXIpOwogICAgU2FsZUNsb3NlZCgpOwogIH0KCiAgLy8gZmFsbGJhY2sgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gYnV5IHRva2VucwogIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKICAgIGJ1eVRva2Vucyhtc2cuc2VuZGVyLCBtc2cudmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gZW1lcmdlbmN5RVJDMjBEcmFpbiggRVJDMjAgb2RkVG9rZW4sIHVpbnQgYW1vdW50ICkgcHVibGljIHsKICAgIG9kZFRva2VuLnRyYW5zZmVyKG93bmVyLCBhbW91bnQpOwogIH0KfQ=='.
	

]
