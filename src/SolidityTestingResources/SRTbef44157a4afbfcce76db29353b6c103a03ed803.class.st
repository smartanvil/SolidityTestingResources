Class {
	#name : #SRTbef44157a4afbfcce76db29353b6c103a03ed803,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTbef44157a4afbfcce76db29353b6c103a03ed803 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuOTsKCi8qKgogKiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gbWF4NjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1heDI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9Cgp9CgovKioKCSAqIEB0aXRsZSBFUkMyMEJhc2ljCgkgKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKCSAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAoJICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewoJICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCSAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKCSAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSk7CgkgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAvKioKICAgKiBAZGV2IEZpeCBmb3IgdGhlIEVSQzIwIHNob3J0IGFkZHJlc3MgYXR0YWNrLgogICAqLwogIG1vZGlmaWVyIG9ubHlQYXlsb2FkU2l6ZSh1aW50MjU2IHNpemUpIHsKICAgICByZXF1aXJlKCEobXNnLmRhdGEubGVuZ3RoIDwgc2l6ZSArIDQpKTsKICAgICBfOwogIH0KCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4gCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1hbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcnQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgQmFzaWNUb2tlbiwgRVJDMjAgewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgzICogMzIpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAvLyBpZiAoX3ZhbHVlID4gX2FsbG93YW5jZSkgdGhyb3c7CgogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWFobGYgb2YgbXNnLnNlbmRlci4KICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSB7CgogICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAvLyAgYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgcmVxdWlyZSghKChfdmFsdWUgIT0gMCkgJiYgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdICE9IDApKSApOwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYW4gYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9Cgp9Cgpjb250cmFjdCBQaXhpdV9CZXRhIGlzIFN0YW5kYXJkVG9rZW4gewoKICAgIHVpbnQgcHVibGljIGRlY2ltYWxzID0gNjsKICAgIGJvb2wgcHVibGljIGlzUGF5YWJsZSA9IHRydWU7CiAgICBib29sIHB1YmxpYyBpc1dpdGhkcmF3YWJsZSA9IHRydWU7CgkKICAgIHN0cnVjdCBleGNoYW5nZVJhdGUgewogICAgICAgIAogICAgICAgIHVpbnQgdGltZTE7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICB1aW50IHRpbWUyOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICB1aW50IHZhbHVlOwogICAgICAgIAogICAgfQogICAgCiAgICBzdHJ1Y3QgTWVtYmVyIHsKICAgICAgICAgCiAgICAgICAgYm9vbCBpc0V4aXN0czsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIGJvb2wgaXNEaXZpZGVuZDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBib29sIGlzV2l0aGRyYXc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIHVpbnQyNTYgZGl2aWRlbmQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICB1aW50MjU2IHdpdGhkcmF3OwogICAgICAgIAogICAgfQogICAgCiAgICBleGNoYW5nZVJhdGVbXSBwcml2YXRlIGV4Y2hhbmdlUmF0ZUFycmF5OyAgCgoJbWFwcGluZyAoYWRkcmVzcyA9PiBNZW1iZXIpIHByaXZhdGUgbWVtYmVyczsgCiAgICBhZGRyZXNzW10gcHJpdmF0ZSBhZG1pbkFycmF5OyAgIAogICAgYWRkcmVzc1tdIHByaXZhdGUgbWVtYmVyQXJyYXk7CgkKICAgIGFkZHJlc3MgcHJpdmF0ZSBkZXBvc2l0X2FkZHJlc3M7CiAgICB1aW50MjU2IHByaXZhdGUgSU5JVElBTF9TVVBQTFkgPSAyMTAwMDAwMDAwMDAwMDsKICAgIHVpbnQyNTYgcHJpdmF0ZSB0b2tlbkV4Y2hhbmdlUmF0ZUluV2VpID0gMDsKCgkvL+S4jeatuOmbtgoJdWludDI1NiBwcml2YXRlIHRvdGFsX3Rva2Vud2VpID0gMDsgCgoJLy8gZHJhd2FsbCDmrbjpm7YKCXVpbnQyNTYgcHJpdmF0ZSB0b3RhbF9kZXZpZGVuZCA9IDA7IC8vbWVtYmVyCgl1aW50MjU2IHByaXZhdGUgdG90YWxfd2l0aGRyYXcgPSAwOyAvL21lbWJlcgogICAgdWludDI1NiBwcml2YXRlIGRlcG9zaXRfYW1vdW50ID0gMDsgIC8vZGVwb3NpdAogICAgdWludDI1NiBwcml2YXRlIHdpdGhkcmF3X2Ftb3VudCA9IDA7IC8vZGVwb3NpdAogICAgdWludDI1NiBwcml2YXRlIGRpdmlkZW5kX2Ftb3VudCA9IDA7IC8vYWRtaW4gICAKICAgIAogICAgZnVuY3Rpb24gUGl4aXVfQmV0YSgpIHsKICAgICAKICAgICAgICB0b3RhbFN1cHBseSA9IElOSVRJQUxfU1VQUExZOyAKICAgICAgICBhZG1pbkFycmF5LnB1c2gobXNnLnNlbmRlcik7CiAgICAgICAgc2V0X2RlcG9zaXRfYWRkcmVzcyhtc2cuc2VuZGVyKTsKICAgICAgICBzZXRfZXhjaGFuZ2VfcmF0ZV9pbl9ldGgoMzAwKTsKICAgICAgICAgCiAgICB9CgogICAgbW9kaWZpZXIgb25seURlcG9zaXQoKSB7CiAgICAgICAgCiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGRlcG9zaXRfYWRkcmVzcyk7CiAgICAgICAgXzsKICAgICAgICAKICAgIH0KICAgIAogICAgbW9kaWZpZXIgb25seUFkbWluKCkgewogICAgICAgIAogICAgICAgIGJvb2wgb2sgPSBhZG1pbl9jaGVjayhtc2cuc2VuZGVyKTsKICAgICAgICByZXF1aXJlKG9rKTsKICAgICAgICBfOwogICAgICAgIAogICAgfQogICAgCiAgICBtb2RpZmllciBhZG1pbkV4aXN0cyhhZGRyZXNzIGFkbWluKSB7CgogICAgICAgIGJvb2wgb2sgPSBmYWxzZTsKICAgICAgICBpZihhZG1pbiAhPSBtc2cuc2VuZGVyKXsKICAgICAgICAgICAgCiAgICAgICAgICAgIG9rID0gYWRtaW5fY2hlY2soYWRtaW4pOwogICAgICAgIAogICAgICAgIH0KICAgICAgICByZXF1aXJlKG9rKTsKICAgICAgICBfOyAKICAgICAgICAKICAgIH0KICAgIAogICAgbW9kaWZpZXIgYWRtaW5Eb2VzTm90RXhpc3QoYWRkcmVzcyBhZG1pbikgewoKICAgICAgICBib29sIG9rID0gYWRtaW5fY2hlY2soYWRtaW4pOwogICAgICAgIHJlcXVpcmUoIW9rKTsKICAgICAgICBfOwogICAgICAgIAogICAgfQogICAgCiAgICBmdW5jdGlvbiBhZG1pbl9jaGVjayhhZGRyZXNzIGFkbWluKSBwcml2YXRlIGNvbnN0YW50IHJldHVybnMoYm9vbCl7CiAgICAgICAgCiAgICAgICAgYm9vbCBvayA9IGZhbHNlOwogICAgICAgIAogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IGFkbWluQXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGFkbWluID09IGFkbWluQXJyYXlbaV0pIHsKICAgICAgICAgICAgICAgIG9rID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJldHVybiBvazsKICAgICAgICAKICAgIH0KICAgIAogICAgbW9kaWZpZXIgbWVtYmVyRXhpc3RzKGFkZHJlc3MgbWVtYmVyKSB7CgogICAgICAgIGJvb2wgb2sgPSBmYWxzZTsKICAgICAgICBpZiAobWVtYmVyc1ttZW1iZXJdLmlzRXhpc3RzID09IHRydWUpIHsKICAgICAgICAgICAgCiAgICAgICAgICAgIG9rID0gdHJ1ZTsKICAgICAgICAgICAgCiAgICAgICAgfQogICAgICAgIHJlcXVpcmUob2spOwogICAgICAgIF87CiAgICAgICAgCiAgICB9CiAgICAKICAgIG1vZGlmaWVyIGlzTWVtYmVyKCkgewoKICAgICAgICBib29sIG9rID0gZmFsc2U7CiAgICAgICAgaWYgKG1lbWJlcnNbbXNnLnNlbmRlcl0uaXNFeGlzdHMgPT0gdHJ1ZSkgeyAgICAgICAgICAgIAogICAgICAgICAgICBvayA9IHRydWU7ICAgICAgICAgICAgCiAgICAgICAgfQogICAgICAgIHJlcXVpcmUob2spOwogICAgICAgIF87CiAgICAgICAgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGFkbWluX2RlcG9zaXQodWludCB4RXRoKSBvbmx5QWRtaW57CiAgICAgICAgCiAgICAgICAgdWludDI1NiB4d2VpID0geEV0aCAqIDEwKioxODsKICAgICAgICBkZXBvc2l0X2Ftb3VudCArPSB4d2VpOwogICAgICAgIAogICAgfQogICAgCiAgICAvKioJKgnnrqHnkIblk6HnmbzmlL7ogqHmga8JKgnmr4/lgIvmnIPlk6HogqHmga/kvp0gCSoJKi8KICAgIGZ1bmN0aW9uIGFkbWluX2RpdmlkZW5kKHVpbnQgeEV0aCkgb25seUFkbWluewogICAgICAgIAoJCXVpbnQyNTYgeHdlaSA9IHhFdGggKiAxMCoqMTg7CgkJcmVxdWlyZSh4d2VpIDw9IChkZXBvc2l0X2Ftb3VudC1kaXZpZGVuZF9hbW91bnQpICk7IAoKCQlkaXZpZGVuZF9hbW91bnQgKz0geHdlaTsKICAgICAgICB1aW50MjU2IGxlbiA9IG1lbWJlckFycmF5Lmxlbmd0aDsJCiAgICAgICAgdWludCBpID0gMDsKICAgICAgICBhZGRyZXNzIF9tZW1iZXI7CiAgICAgICAgCgkJdWludCB0b3RhbF9iYWxhbmNlX2RpdmlkZW5lZD0wOwogICAgICAgIGZvciggaSA9IDA7IGkgPCBsZW47IGkrKyl7ICAgICAgICAgICAgCiAgICAgICAgICAgIF9tZW1iZXIgPSBtZW1iZXJBcnJheVtpXTsKCQkJaWYobWVtYmVyc1tfbWVtYmVyXS5pc0RpdmlkZW5kKXsKCQkJCXRvdGFsX2JhbGFuY2VfZGl2aWRlbmVkID0gYmFsYW5jZXNbX21lbWJlcl07IAoJCQl9ICAgICAgICAgICAgCiAgICAgICAgfQoJCXVpbnQyNTYgcGVyVG9rZW5XZWkgPSB4d2VpIC8gKHRvdGFsX2JhbGFuY2VfZGl2aWRlbmVkIC8gMTAgKiogNik7CiAgICAgICAgICAgIAogICAgICAgIGZvciggaSA9IDA7IGkgPCBsZW47IGkrKyl7ICAgICAgICAgICAgCiAgICAgICAgICAgIF9tZW1iZXIgPSBtZW1iZXJBcnJheVtpXTsKCQkJaWYobWVtYmVyc1tfbWVtYmVyXS5pc0RpdmlkZW5kKXsKCQkJCXVpbnQyNTYgdGhpc1dlaSA9IChiYWxhbmNlc1tfbWVtYmVyXSAvIDEwICoqIDYpICogcGVyVG9rZW5XZWk7CgkJCQltZW1iZXJzW19tZW1iZXJdLmRpdmlkZW5kICs9IHRoaXNXZWk7IAoJCQkJdG90YWxfZGV2aWRlbmQgKz0gdGhpc1dlaTsKCQkJfSAgICAgICAgICAgIAogICAgICAgIH0KICAgIAogICAgfQogICAgCiAgICBmdW5jdGlvbiBzZXRfZXhjaGFuZ2VfcmF0ZSh1aW50W10gZXhjaGFuZ2VSYXRlcykgb25seUFkbWluewogICAgICAgICAKICAgICAgICB1aW50IGxlbiA9IGV4Y2hhbmdlUmF0ZXMubGVuZ3RoOwogICAgICAgIGV4Y2hhbmdlUmF0ZUFycmF5Lmxlbmd0aCA9IDA7CiAgICAgICAgCiAgICAgICAgZm9yKHVpbnQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMyl7CiAgICAgICAgICAgIAogICAgICAgICAgICB1aW50IHRpbWUxID0gZXhjaGFuZ2VSYXRlc1tpXTsKICAgICAgICAgICAgdWludCB0aW1lMiA9IGV4Y2hhbmdlUmF0ZXNbaSArIDFdOwogICAgICAgICAgICB1aW50IHZhbHVlID0gZXhjaGFuZ2VSYXRlc1tpICsgMl0qMTAwMDsKICAgICAgICAgICAgZXhjaGFuZ2VSYXRlQXJyYXkucHVzaChleGNoYW5nZVJhdGUodGltZTEsIHRpbWUyLCB2YWx1ZSkpOyAgICAgIAogICAgICAgICAgICAKICAgICAgICB9CiAgICAgICAgCiAgICB9CgoJZnVuY3Rpb24gZ2V0X2V4Y2hhbmdlX3dlaSgpIHJldHVybnModWludDI1Nil7CgogICAgICAgIAoJCXVpbnQgbGVuID0gZXhjaGFuZ2VSYXRlQXJyYXkubGVuZ3RoOyAgCgkJdWludCBub3dUaW1lID0gYmxvY2sudGltZXN0YW1wOwogICAgICAgIGZvcih1aW50IGkgPSAwOyBpIDwgbGVuOyBpICs9IDMpewogICAgICAgICAgICAKCQkJZXhjaGFuZ2VSYXRlIG1lbW9yeSByYXRlID0gZXhjaGFuZ2VSYXRlQXJyYXlbaV07CiAgICAgICAgICAgIHVpbnQgdGltZTEgPSByYXRlLnRpbWUxOwogICAgICAgICAgICB1aW50IHRpbWUyID0gcmF0ZS50aW1lMjsKICAgICAgICAgICAgdWludCB2YWx1ZSA9IHJhdGUudmFsdWU7CgkJCWlmIChub3dUaW1lPj0gdGltZTEgJiYgbm93VGltZTw9dGltZTIpIHsKCQkJCXRva2VuRXhjaGFuZ2VSYXRlSW5XZWkgPSB2YWx1ZTsKCQkJCXJldHVybiB2YWx1ZTsKCQkJfQogICAgICAgICAgICAKICAgICAgICB9CgkJcmV0dXJuIHRva2VuRXhjaGFuZ2VSYXRlSW5XZWk7Cgl9CiAgICAKICAgIGZ1bmN0aW9uIGdldF9hZG1pbl9saXN0KCkgY29uc3RhbnQgb25seUFkbWluIHJldHVybnMoYWRkcmVzc1tdKXsKICAgICAgICAKICAgICAgICByZXR1cm4gYWRtaW5BcnJheTsKICAgICAgICAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYWRkX2FkbWluKGFkZHJlc3MgYWRtaW4pIG9ubHlBZG1pbiBhZG1pbkRvZXNOb3RFeGlzdChhZG1pbil7CiAgICAgICAgCiAgICAgICAgYWRtaW5BcnJheS5wdXNoKGFkbWluKTsKICAgICAgICAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZGVsX2FkbWluKGFkZHJlc3MgYWRtaW4pIG9ubHlBZG1pbiBhZG1pbkV4aXN0cyhhZG1pbil7CiAgICAgICAgCiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgYWRtaW5BcnJheS5sZW5ndGggLSAxOyBpKyspCiAgICAgICAgICAgIGlmIChhZG1pbkFycmF5W2ldID09IGFkbWluKSB7CiAgICAgICAgICAgICAgICBhZG1pbkFycmF5W2ldID0gYWRtaW5BcnJheVthZG1pbkFycmF5Lmxlbmd0aCAtIDFdOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgYWRtaW5BcnJheS5sZW5ndGggLT0gMTsKICAgICAgICAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gc2V0X2RlcG9zaXRfYWRkcmVzcyhhZGRyZXNzIGFkZHIpIG9ubHlBZG1pbnsKICAgICAgICAKICAgICAgICBkZXBvc2l0X2FkZHJlc3MgPSBhZGRyOwogICAgICAgIAogICAgfQogICAgCiAgICBmdW5jdGlvbiBzZXRfZXhjaGFuZ2VfcmF0ZV9pbl9ldGgodWludDI1NiBfZXhjaGFuZ2VSYXRlSW5FdGgpIG9ubHlBZG1pbiB7CiAgICAgICAgCiAgICAgICAgcmVxdWlyZShfZXhjaGFuZ2VSYXRlSW5FdGggPiAwKTsKICAgICAgICB0b2tlbkV4Y2hhbmdlUmF0ZUluV2VpID0gX2V4Y2hhbmdlUmF0ZUluRXRoICogMTAqKjY7CiAgICAgICAgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGFjdGl2ZV9wYXlhYmxlKCkgb25seUFkbWluewogICAgCiAgICAgICAgaXNQYXlhYmxlID0gdHJ1ZTsKICAgICAgICAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gaW5hY3RpdmVfcGF5YWJsZSgpIG9ubHlBZG1pbnsKICAgICAgICAKICAgICAgICBpc1BheWFibGUgPSBmYWxzZTsKICAgICAgICAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYWN0aXZlX3dpdGhkcmF3YWJsZSgpIG9ubHlBZG1pbnsKICAgICAgICAKICAgICAgICBpc1dpdGhkcmF3YWJsZSA9IHRydWU7CiAgICAgICAgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGluYWN0aXZlX3dpdGhkcmF3YWJsZSgpIG9ubHlBZG1pbnsKICAgICAgICAKICAgICAgICBpc1dpdGhkcmF3YWJsZSA9IGZhbHNlOwogICAgICAgIAogICAgfQogICAgCiAgICBmdW5jdGlvbiBhY3RpdmVfZGl2aWRlbmQoYWRkcmVzcyBfbWVtYmVyKSBvbmx5QWRtaW4gbWVtYmVyRXhpc3RzKF9tZW1iZXIpewogICAgICAgIAogICAgICAgIG1lbWJlcnNbX21lbWJlcl0uaXNEaXZpZGVuZCA9IHRydWU7CiAgICAgICAgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGluYWN0aXZlX2RpdmlkZW5kKGFkZHJlc3MgX21lbWJlcikgb25seUFkbWluIG1lbWJlckV4aXN0cyhfbWVtYmVyKXsKICAgICAgICAKICAgICAgICBtZW1iZXJzW19tZW1iZXJdLmlzRGl2aWRlbmQgPSBmYWxzZTsKICAgICAgICAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYWN0aXZlX3dpdGhkcmF3KGFkZHJlc3MgX21lbWJlcikgb25seUFkbWluIG1lbWJlckV4aXN0cyhfbWVtYmVyKXsKICAgICAgICAKICAgICAgICBtZW1iZXJzW19tZW1iZXJdLmlzV2l0aGRyYXcgPSB0cnVlOwogICAgICAgIAogICAgfQogICAgCiAgICBmdW5jdGlvbiBpbmFjdGl2ZV93aXRoZHJhdyhhZGRyZXNzIF9tZW1iZXIpIG9ubHlBZG1pbiBtZW1iZXJFeGlzdHMoX21lbWJlcil7CiAgICAgICAgCiAgICAgICAgbWVtYmVyc1tfbWVtYmVyXS5pc1dpdGhkcmF3ID0gZmFsc2U7CiAgICAgICAgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdldF90b3RhbF9pbmZvKCkgb25seUFkbWluIHJldHVybnModWludDI1NltdKXsKCiAgICAgICAgdWludDI1NiB0b3RhbF9yZW1haW4gPSB0b3RhbF9kZXZpZGVuZCAtIHRvdGFsX3dpdGhkcmF3OwogICAgICAgIHVpbnQyNTZbXSBtZW1vcnkgaW5mbyA9IG5ldyB1aW50MjU2W10oNik7CiAgICAgICAgaW5mb1swXSA9IGRlcG9zaXRfYW1vdW50OwogICAgICAgIGluZm9bMV0gPSB0b3RhbF9kZXZpZGVuZDsKICAgICAgICBpbmZvWzJdID0gdG90YWxfcmVtYWluOwogICAgICAgIGluZm9bM10gPSB0b3RhbF93aXRoZHJhdzsKICAgICAgICAKICAgICAgICByZXR1cm4gaW5mbzsKICAgICAgICAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ2V0X21lbWJlcl9pbmZvKGFkZHJlc3MgX21lbWJlcikgb25seUFkbWluIG1lbWJlckV4aXN0cyhfbWVtYmVyKSByZXR1cm5zKHVpbnQyNTZbXSl7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIGdldF9pbmZvKF9tZW1iZXIpOwogICAgICAgIAogICAgfQogICAgCiAgICBmdW5jdGlvbiBnZXRfbXlfaW5mbygpIHJldHVybnModWludDI1NltdKXsKICAgICAgICAKICAgICAgICByZXR1cm4gZ2V0X2luZm8obXNnLnNlbmRlcik7CiAgICAgICAgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdldF9pbmZvKGFkZHJlc3MgX21lbWJlcikgcHJpdmF0ZSByZXR1cm5zICh1aW50MjU2W10pewogICAgICAgIAogICAgICAgIHVpbnQyNTYgX2RldmlkZW5kID0gbWVtYmVyc1tfbWVtYmVyXS5kaXZpZGVuZDsKICAgICAgICB1aW50MjU2IF93aXRoZHJhdyA9IG1lbWJlcnNbX21lbWJlcl0ud2l0aGRyYXc7CiAgICAgICAgdWludDI1NiBfcmVtYWluID0gX2RldmlkZW5kIC0gX3dpdGhkcmF3OwogICAgICAgIHVpbnQyNTYgX2JhbGFuY2UgPSBiYWxhbmNlc1tfbWVtYmVyXTsKICAgICAgICAKICAgICAgICB1aW50MjU2W10gbWVtb3J5IF9pbmZvID0gbmV3IHVpbnQyNTZbXSg0KTsKICAgICAgICBfaW5mb1swXSA9IF9iYWxhbmNlOwogICAgICAgIF9pbmZvWzFdID0gX2RldmlkZW5kOwogICAgICAgIF9pbmZvWzJdID0gX3JlbWFpbjsKICAgICAgICBfaW5mb1szXSA9IF93aXRoZHJhdzsKICAgICAgICAKICAgICAgICByZXR1cm4gX2luZm87CiAgICAgICAgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHdpdGhkcmF3KCkgaXNNZW1iZXIgewogICAgICAgIAogICAgICAgIHVpbnQyNTYgX3JlbWFpbiA9IG1lbWJlcnNbbXNnLnNlbmRlcl0uZGl2aWRlbmQgLSBtZW1iZXJzW21zZy5zZW5kZXJdLndpdGhkcmF3OwogICAgICAgIHJlcXVpcmUoX3JlbWFpbiA+IDApOwogICAgICAgIHJlcXVpcmUoaXNXaXRoZHJhd2FibGUpOwogICAgICAgIHJlcXVpcmUobWVtYmVyc1ttc2cuc2VuZGVyXS5pc1dpdGhkcmF3KTsKICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKF9yZW1haW4pOwogICAgICAgIG1lbWJlcnNbbXNnLnNlbmRlcl0ud2l0aGRyYXcgKz0gX3JlbWFpbjsgCiAgICAgICAgdG90YWxfd2l0aGRyYXcgKz0gX3JlbWFpbjsgICAgICAgICAgCgogICAgfQoKICAgIGZ1bmN0aW9uIHdpdGhkcmF3X2FkbWluKHVpbnQgeEV0aCkgb25seURlcG9zaXR7CgogICAgICAgIHVpbnQyNTYgX3dpdGhkcmF3ID0geEV0aCAqIDEwKioxODsKCQlyZXF1aXJlKCBtc2cuc2VuZGVyID09IGRlcG9zaXRfYWRkcmVzcyApOwoKCQlyZXF1aXJlKHRoaXMuYmFsYW5jZSA+IF93aXRoZHJhdyk7CgkJbXNnLnNlbmRlci50cmFuc2Zlcihfd2l0aGRyYXcpOwoKICAgICAgICB3aXRoZHJhd19hbW91bnQgKz0gX3dpdGhkcmF3OyAgCiAgICAgICAgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHdpdGhkcmF3X2FsbF9hZG1pbihhZGRyZXNzIF9kZXBvc2l0KSBvbmx5QWRtaW4gewogICAgICAgIAoJCXJlcXVpcmUoIF9kZXBvc2l0ID09IGRlcG9zaXRfYWRkcmVzcyApOyAKCgkJX2RlcG9zaXQudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKCgkJdG90YWxfZGV2aWRlbmQgPSAwOyAvL21lbWJlcgoJCXRvdGFsX3dpdGhkcmF3ID0gMDsgLy9tZW1iZXIKCQlkZXBvc2l0X2Ftb3VudCA9IDA7ICAvL2RlcG9zaXQKCQl3aXRoZHJhd19hbW91bnQgPSAwOyAvL2RlcG9zaXQKCQlkaXZpZGVuZF9hbW91bnQgPSAwOyAvL2FkbWluICAgCiAgICAgICAgCiAgICB9CiAKCSAKCWZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgb25seVBheWxvYWRTaXplKDIgKiAzMikgICAgIHsKCQlyZXF1aXJlKF90byAhPSBkZXBvc2l0X2FkZHJlc3MpOwogICAgICAgIHJlcXVpcmUoaXNQYXlhYmxlKTsKCQliYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwoJCWJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwoKCQlpZiAobWVtYmVyc1tfdG9dLmlzRXhpc3RzICE9IHRydWUpIHsJCQoJCQltZW1iZXJzW190b10uaXNFeGlzdHMgPSB0cnVlOwoJCQltZW1iZXJzW190b10uaXNEaXZpZGVuZCA9IHRydWU7CgkJCW1lbWJlcnNbX3RvXS5pc1dpdGhkcmF3ID0gdHJ1ZTsgCgkJCW1lbWJlckFycmF5LnB1c2goX3RvKTsJCQoJCX0gIAoKCQlUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7Cgl9CiAKCWZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgzICogMzIpICAgICB7CgkJcmVxdWlyZShfdG8gIT0gZGVwb3NpdF9hZGRyZXNzKTsKCQlyZXF1aXJlKF9mcm9tICE9IGRlcG9zaXRfYWRkcmVzcyk7CiAgICAgICAgcmVxdWlyZShpc1BheWFibGUpOwoJCXZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07IAoJCXJlcXVpcmUoX2FsbG93YW5jZSA+PSBfdmFsdWUpOwoKCQliYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKCQliYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CgkJYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwoJCQoJCWlmIChtZW1iZXJzW190b10uaXNFeGlzdHMgIT0gdHJ1ZSkgewkJCgkJCW1lbWJlcnNbX3RvXS5pc0V4aXN0cyA9IHRydWU7CgkJCW1lbWJlcnNbX3RvXS5pc0RpdmlkZW5kID0gdHJ1ZTsKCQkJbWVtYmVyc1tfdG9dLmlzV2l0aGRyYXcgPSB0cnVlOyAKCQkJbWVtYmVyQXJyYXkucHVzaChfdG8pOwkJCgkJfSAgCgoJCVRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7Cgl9CgogICAgCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsKICAgICAgICAKICAgICAgICBwYXkoKTsKICAgICAgICAKICAgIH0KICAKICAgIGZ1bmN0aW9uIHBheSgpIHB1YmxpYyBwYXlhYmxlIHJldHVybnMgKGJvb2wpIHsKICAgICAgICAKICAgICAgCiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPiAwKTsKICAgICAgICByZXF1aXJlKGlzUGF5YWJsZSk7CiAgICAgICAgCiAgICAgICAgLyoKICAgICAgICB1aW50MjU2IGFtb3VudCA9IG1zZy52YWx1ZTsKICAgICAgICB1aW50MjU2IHJlZnVuZCA9IGFtb3VudCAlIHRva2VuRXhjaGFuZ2VSYXRlSW5XZWk7CiAgICAgICAgdWludDI1NiB0b2tlbnMgPSAoYW1vdW50IC0gcmVmdW5kKSAvIHRva2VuRXhjaGFuZ2VSYXRlSW5XZWk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQodG9rZW5zKTsqLwogICAgICAgIAogICAgICAgIGlmKG1zZy5zZW5kZXIgPT0gZGVwb3NpdF9hZGRyZXNzKXsKICAgICAgICAgICAgIGRlcG9zaXRfYW1vdW50ICs9IG1zZy52YWx1ZTsKICAgICAgICB9ZWxzZXsKICAgICAgICAKICAgIAkJdWludDI1NiBleGNoYW5nZVdlaSA9IGdldF9leGNoYW5nZV93ZWkoKTsKICAgIAkJdWludDI1NiB0aGlzVG9rZW5XZWkgPSAgZXhjaGFuZ2VXZWkgKiBtc2cudmFsdWUgLyAxMCoqMTggOwogICAgICAgIAogICAgICAgICAgICBpZiAobWVtYmVyc1ttc2cuc2VuZGVyXS5pc0V4aXN0cyAhPSB0cnVlKSB7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIG1lbWJlcnNbbXNnLnNlbmRlcl0uaXNFeGlzdHMgPSB0cnVlOwogICAgICAgICAgICAgICAgbWVtYmVyc1ttc2cuc2VuZGVyXS5pc0RpdmlkZW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgIG1lbWJlcnNbbXNnLnNlbmRlcl0uaXNXaXRoZHJhdyA9IHRydWU7IAogICAgICAgICAgICAgICAgbWVtYmVyQXJyYXkucHVzaChtc2cuc2VuZGVyKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9ICAKICAgIAkJYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gdGhpc1Rva2VuV2VpOwogICAgCQl0b3RhbF90b2tlbndlaSArPSB0aGlzVG9rZW5XZWk7CgkJCiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJldHVybiB0cnVlOwogICAgCiAgICB9CiAgCiAgICBmdW5jdGlvbiBnZXRfYmFsYW5jZShhZGRyZXNzIGEpIHB1YmxpYyByZXR1cm5zKHVpbnQyNTYpewogICAgICAKICAgICAgICByZXR1cm4gYmFsYW5jZXNbYV07CiAgICAgIAogICAgfQogICAgICAgIAogICAgZnVuY3Rpb24gZ2V0X2JhbGFuY2UoKSBwdWJsaWMgcmV0dXJucyh1aW50MjU2KXsKICAgICAgCiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW21zZy5zZW5kZXJdOwogICAgICAKICAgIH0KICAgICAgICAgICAgCiAgICBmdW5jdGlvbiBnZXRfdGhpc19iYWxhbmNlKCkgcHVibGljIHJldHVybnModWludDI1Nil7CiAgICAgIAogICAgICAgIHJldHVybiB0aGlzLmJhbGFuY2U7CiAgICAgIAogICAgfQogICAgCn0='.
	

]
