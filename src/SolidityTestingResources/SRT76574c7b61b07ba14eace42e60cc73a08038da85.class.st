Class {
	#name : #SRT76574c7b61b07ba14eace42e60cc73a08038da85,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT76574c7b61b07ba14eace42e60cc73a08038da85 >> base64 [
	^ 'LyohIGFsbC5tZS5zb2wgfCAoYykgMjAxNyBEZXZlbG9wIGJ5IEJlbG92SVRMYWIsIGF1dG9yIG15LmxpZmUuY29va2llIHwgTGljZW5zZTogTUlUICovCgpwcmFnbWEgc29saWRpdHkgXjAuNC4xODsKCmxpYnJhcnkgU2FmZU1hdGggewogICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnModWludDI1NikgewogICAgICAgIGlmKGEgPT0gMCkgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgICAgICBhc3NlcnQoYyA+PSBhKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KfQoKY29udHJhY3QgT3duYWJsZSB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7IHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7IF87IH0KCiAgICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgICAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9Cn0KCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgewogICAgYm9vbCBwdWJsaWMgcGF1c2VkID0gZmFsc2U7CgogICAgZXZlbnQgUGF1c2UoKTsKICAgIGV2ZW50IFVucGF1c2UoKTsKCiAgICBtb2RpZmllciB3aGVuTm90UGF1c2VkKCkgeyByZXF1aXJlKCFwYXVzZWQpOyBfOyB9CiAgICBtb2RpZmllciB3aGVuUGF1c2VkKCkgeyByZXF1aXJlKHBhdXNlZCk7IF87IH0KCiAgICBmdW5jdGlvbiBwYXVzZSgpIG9ubHlPd25lciB3aGVuTm90UGF1c2VkIHB1YmxpYyB7CiAgICAgICAgcGF1c2VkID0gdHJ1ZTsKICAgICAgICBQYXVzZSgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHVucGF1c2UoKSBvbmx5T3duZXIgd2hlblBhdXNlZCBwdWJsaWMgewogICAgICAgIHBhdXNlZCA9IGZhbHNlOwogICAgICAgIFVucGF1c2UoKTsKICAgIH0KfQoKY29udHJhY3QgRVJDMjAgewogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnModWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyhib29sKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zKGJvb2wpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyhib29sKTsKfQoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGludGVybmFsIGFsbG93ZWQ7CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKCiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gbXVsdGlUcmFuc2ZlcihhZGRyZXNzW10gX3RvLCB1aW50MjU2W10gX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyhib29sKSB7CiAgICAgICAgcmVxdWlyZShfdG8ubGVuZ3RoID09IF92YWx1ZS5sZW5ndGgpOwoKICAgICAgICBmb3IodWludCBpID0gMDsgaSA8IF90by5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB0cmFuc2ZlcihfdG9baV0sIF92YWx1ZVtpXSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyhib29sKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbX2Zyb21dKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CgogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwoKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnModWludDI1NikgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zKGJvb2wpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgcHVibGljIHJldHVybnMoYm9vbCkgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zKGJvb2wpIHsKICAgICAgICB1aW50IG9sZFZhbHVlID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl07CgogICAgICAgIGlmKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICAgICAgfQoKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKY29udHJhY3QgTWludGFibGVUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKICAgIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CiAgICBldmVudCBNaW50RmluaXNoZWQoKTsKCiAgICBib29sIHB1YmxpYyBtaW50aW5nRmluaXNoZWQgPSBmYWxzZTsKCiAgICBtb2RpZmllciBjYW5NaW50KCkgeyByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOyBfOyB9CgogICAgZnVuY3Rpb24gbWludChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBvbmx5T3duZXIgY2FuTWludCBwdWJsaWMgcmV0dXJucyhib29sKSB7CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwoKICAgICAgICBNaW50KF90bywgX2Ftb3VudCk7CiAgICAgICAgVHJhbnNmZXIoYWRkcmVzcygwKSwgX3RvLCBfYW1vdW50KTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIG9ubHlPd25lciBjYW5NaW50IHB1YmxpYyByZXR1cm5zKGJvb2wpIHsKICAgICAgICBtaW50aW5nRmluaXNoZWQgPSB0cnVlOwoKICAgICAgICBNaW50RmluaXNoZWQoKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0KCmNvbnRyYWN0IENhcHBlZFRva2VuIGlzIE1pbnRhYmxlVG9rZW4gewogICAgdWludDI1NiBwdWJsaWMgY2FwOwoKICAgIGZ1bmN0aW9uIENhcHBlZFRva2VuKHVpbnQyNTYgX2NhcCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKF9jYXAgPiAwKTsKICAgICAgICBjYXAgPSBfY2FwOwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgb25seU93bmVyIGNhbk1pbnQgcHVibGljIHJldHVybnMoYm9vbCkgewogICAgICAgIHJlcXVpcmUodG90YWxTdXBwbHkuYWRkKF9hbW91bnQpIDw9IGNhcCk7CgogICAgICAgIHJldHVybiBzdXBlci5taW50KF90bywgX2Ftb3VudCk7CiAgICB9Cn0KCmNvbnRyYWN0IE1hbmFnZWFibGUgaXMgT3duYWJsZSB7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIG1hbmFnZXJzOwoKICAgIGV2ZW50IE1hbmFnZXJBZGRlZChhZGRyZXNzIGluZGV4ZWQgbWFuYWdlcik7CiAgICBldmVudCBNYW5hZ2VyUmVtb3ZlZChhZGRyZXNzIGluZGV4ZWQgbWFuYWdlcik7CgogICAgbW9kaWZpZXIgb25seU1hbmFnZXIoKSB7IHJlcXVpcmUobWFuYWdlcnNbbXNnLnNlbmRlcl0pOyBfOyB9CgogICAgZnVuY3Rpb24gYWRkTWFuYWdlcihhZGRyZXNzIF9tYW5hZ2VyKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKF9tYW5hZ2VyICE9IGFkZHJlc3MoMCkpOwoKICAgICAgICBtYW5hZ2Vyc1tfbWFuYWdlcl0gPSB0cnVlOwoKICAgICAgICBNYW5hZ2VyQWRkZWQoX21hbmFnZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZU1hbmFnZXIoYWRkcmVzcyBfbWFuYWdlcikgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfbWFuYWdlciAhPSBhZGRyZXNzKDApKTsKCiAgICAgICAgbWFuYWdlcnNbX21hbmFnZXJdID0gZmFsc2U7CgogICAgICAgIE1hbmFnZXJSZW1vdmVkKF9tYW5hZ2VyKTsKICAgIH0KfQoKLyoKICAgIElDTyBBbGwubWUKICAgIC0g0K3QvNC40YHRgdC40Y8g0YLQvtC60LXQvdC+0LIg0L7Qs9GA0LDQvdC40YfQtdC90LAgKNCy0YHQtdCz0L4gMTAgMDAwIDAwMCAwMDAg0YLQvtC60LXQvdC+0LIsINGC0L7QutC10L3RiyDQstGL0L/Rg9GB0LrQsNGO0YLRgdGPINCy0L4g0LLRgNC10LzRjyBDcm93ZHNhbGUpCiAgICAtINCm0LXQvdCwINGC0L7QutC10L3QsCDQstC+INCy0YDQtdC80Y8g0YHRgtCw0YDRgtCwOiAxIEVUSCA9IDIwMCDRgtC+0LrQtdC90L7QsiAo0YbQtdC90YMg0LzQvtC20L3QviDQuNC30LzQtdC90LjRgtGMINCy0L4g0LLRgNC10LzRjyBJQ08pCiAgICAtINCc0LjQvdC40LzQsNC70YzQvdCw0Y8g0YHRg9C80LzQsCDQv9C+0LrRg9C/0LrQuDogMC4wMDEgRVRICiAgICAtINCi0L7QutC10L3QvtCyINC90LAg0L/RgNC+0LTQsNC20YMgNyAwMDAgMDAwIDAwMAogICAgLSDQntGC0L/RgNCw0LLQu9GP0LXQvCDQsdC10L3QtdGE0LjRhtC40LDRgNGDIDMgMDAwIDAwMCAwMDAg0YLQvtC60LXQvdC+0LIg0LLQviDQstGA0LXQvNGPINGB0L7Qt9C00LDQvdC40Y8g0YLQvtC60LXQvdCwCiAgICAtINCh0YDQtdC00YHRgtCy0LAg0L7RgiDQv9C+0LrRg9C/0LrQuCDRgtC+0LrQtdC90L7QsiDQv9C10YDQtdC00LDRjtGC0YHRjyDQsdC10L3QtdGE0LjRhtC40LDRgNGDCiAgICAtINCX0LDQutGA0YvRgtC40LUgQ3Jvd2RzYWxlINC/0YDQvtC40YHRhdC+0LTQuNGCINGBINC/0L7QvNC+0YnRjNGOINGE0YPQvdC60YbQuNC4IGB3aXRoZHJhdygpYDog0YPQv9GA0LDQstC70LXQvdC40LUg0YLQvtC60LXQvdC+0Lwg0L/QtdGA0LXQtNCw0ZHRgtGB0Y8g0LHQtdC90LXRhNC40YbQuNCw0YDRgwogICAgLSDQmNC30LzQtdC90LjQtSDRhtC10L3RiyDRgtC+0LrQtdC90LAg0L/RgNC+0LjRgdGF0L7QtNC10YIg0YTRg9C90LrRhtC40LXQuSBgc2V0VG9rZW5QcmljZShfdmFsdWUpYCwg0LPQtNC1IGBfdmFsdWVgIC0g0LrQvtC7LdCy0L4g0YLQvtC60LXQvdC+0LIg0L/QvtC60YPQvNCw0LXQvNC+0LUg0LfQsCAxIEV0aGVyLCDRgdC80LXQvdCwINGB0YLQvtC40LzQvtGB0YLQuCDRgtC+0LrQtdC90LAg0LTQvtGB0YLRg9C/0L3QviDRgtC+0LvRjNC60L4g0LLQviDQstGA0LXQvNGPINC/0LDRg9C30Ysg0LDQtNC80LjQvdC40YHRgtGA0LDRgtC+0YDRgywg0L/QvtGB0LvQtSDQt9Cw0LLQtdGA0YjQtdC90LjRjyBDcm93ZHNhbGUg0YTRg9C90LrRhtC40Y8g0YHRgtCw0L3QvtCy0LjRgtGB0Y8g0L3QtdC00L7RgdGC0YPQv9C90L7QuQoqLwpjb250cmFjdCBUb2tlbiBpcyBDYXBwZWRUb2tlbiB7CiAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAiQUxMLk1FIjsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIk1FIjsKICAgIHVpbnQyNTYgcHVibGljIGRlY2ltYWxzID0gMTg7CgogICAgZnVuY3Rpb24gVG9rZW4oKSBDYXBwZWRUb2tlbigxMDAwMDAwMDAwMCAqIDEgZXRoZXIpIHB1YmxpYyB7ICAgICAgICAgICAgICAgICAgICAvLyBNYXhpbXVtIGFtb3VudCB0b2tlbnMKICAgIAogICAgfQp9Cgpjb250cmFjdCBDcm93ZHNhbGUgaXMgUGF1c2FibGUsIE1hbmFnZWFibGUgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogICAgVG9rZW4gcHVibGljIHRva2VuOwogICAgYWRkcmVzcyBwdWJsaWMgYmVuZWZpY2lhcnkgPSAweDE3MGNBYjJkODk4NzY0M2ZCNjg5ZDkwNDdlMjFiZDFBNzA3MTZlOTI7ICAgICAgICAvLyBCZW5lZmljaWFyeQoKICAgIHVpbnQgcHVibGljIGNvbGxlY3RlZFdlaTsKICAgIHVpbnQgcHVibGljIHRva2Vuc1NvbGQ7CgogICAgdWludCBwdWJsaWMgdG9rZW5zRm9yU2FsZSA9IDcwMDAwMDAwMDAgKiAxIGV0aGVyOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbW91bnQgdG9rZW5zIGZvciBzYWxlCiAgICB1aW50IHB1YmxpYyBwcmljZVRva2VuV2VpID0gMSBldGhlciAvIDIwMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IHRva2VuIHByaWNlCgogICAgYm9vbCBwdWJsaWMgY3Jvd2RzYWxlRmluaXNoZWQgPSBmYWxzZTsKCiAgICBldmVudCBOZXdDb250cmlidXRpb24oYWRkcmVzcyBpbmRleGVkIGhvbGRlciwgdWludDI1NiB0b2tlbkFtb3VudCwgdWludDI1NiBldGhlckFtb3VudCk7CiAgICBldmVudCBDcm93ZHNhbGVDbG9zZSgpOwoKICAgIGZ1bmN0aW9uIENyb3dkc2FsZSgpIHB1YmxpYyB7CiAgICAgICAgdG9rZW4gPSBuZXcgVG9rZW4oKTsKCiAgICAgICAgdG9rZW4ubWludCgweEQ3ZTg1Y2UwMkM0NDQ2QWE4N0UyZDE1NTE4OUMyOEUwN0M2QzA2YTAsIDMwMDAwMDAwMDAgKiAxIGV0aGVyKTsKCiAgICAgICAgYWRkTWFuYWdlcigweDdFYWRhN2U2MGJkNzE0ZDFhMzhkOWFiMzI5Yjg1RDBjNzUzMzQ4MTQpOyAgICAgICAgICAgICAgICAgICAgIC8vIE1hbmFnZXIKICAgIH0KCiAgICBmdW5jdGlvbigpIHBheWFibGUgcHVibGljIHsKICAgICAgICBwdXJjaGFzZSgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFRva2VuUHJpY2UodWludCBfdmFsdWUpIG9ubHlPd25lciB3aGVuUGF1c2VkIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZSghY3Jvd2RzYWxlRmluaXNoZWQpOwogICAgICAgIHByaWNlVG9rZW5XZWkgPSAxIGV0aGVyIC8gX3ZhbHVlOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBwdXJjaGFzZSgpIHdoZW5Ob3RQYXVzZWQgcGF5YWJsZSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoIWNyb3dkc2FsZUZpbmlzaGVkKTsKICAgICAgICByZXF1aXJlKHRva2Vuc1NvbGQgPCB0b2tlbnNGb3JTYWxlKTsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSAwLjAwMSBldGhlcik7CgogICAgICAgIHVpbnQgc3VtID0gbXNnLnZhbHVlOwogICAgICAgIHVpbnQgYW1vdW50ID0gc3VtLm11bCgxIGV0aGVyKS5kaXYocHJpY2VUb2tlbldlaSk7CiAgICAgICAgdWludCByZXRTdW0gPSAwOwogICAgICAgIAogICAgICAgIGlmKHRva2Vuc1NvbGQuYWRkKGFtb3VudCkgPiB0b2tlbnNGb3JTYWxlKSB7CiAgICAgICAgICAgIHVpbnQgcmV0QW1vdW50ID0gdG9rZW5zU29sZC5hZGQoYW1vdW50KS5zdWIodG9rZW5zRm9yU2FsZSk7CiAgICAgICAgICAgIHJldFN1bSA9IHJldEFtb3VudC5tdWwocHJpY2VUb2tlbldlaSkuZGl2KDEgZXRoZXIpOwoKICAgICAgICAgICAgYW1vdW50ID0gYW1vdW50LnN1YihyZXRBbW91bnQpOwogICAgICAgICAgICBzdW0gPSBzdW0uc3ViKHJldFN1bSk7CiAgICAgICAgfQoKICAgICAgICB0b2tlbnNTb2xkID0gdG9rZW5zU29sZC5hZGQoYW1vdW50KTsKICAgICAgICBjb2xsZWN0ZWRXZWkgPSBjb2xsZWN0ZWRXZWkuYWRkKHN1bSk7CgogICAgICAgIGJlbmVmaWNpYXJ5LnRyYW5zZmVyKHN1bSk7CiAgICAgICAgdG9rZW4ubWludChtc2cuc2VuZGVyLCBhbW91bnQpOwoKICAgICAgICBpZihyZXRTdW0gPiAwKSB7CiAgICAgICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIocmV0U3VtKTsKICAgICAgICB9CgogICAgICAgIE5ld0NvbnRyaWJ1dGlvbihtc2cuc2VuZGVyLCBhbW91bnQsIHN1bSk7CiAgICB9CgogICAgZnVuY3Rpb24gZXh0ZXJuYWxQdXJjaGFzZShhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHdoZW5Ob3RQYXVzZWQgb25seU1hbmFnZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKCFjcm93ZHNhbGVGaW5pc2hlZCk7CiAgICAgICAgcmVxdWlyZSh0b2tlbnNTb2xkLmFkZChfdmFsdWUpIDw9IHRva2Vuc0ZvclNhbGUpOwoKICAgICAgICB0b2tlbnNTb2xkID0gdG9rZW5zU29sZC5hZGQoX3ZhbHVlKTsKCiAgICAgICAgdG9rZW4ubWludChfdG8sIF92YWx1ZSk7CgogICAgICAgIE5ld0NvbnRyaWJ1dGlvbihfdG8sIF92YWx1ZSwgMCk7CiAgICB9CgogICAgZnVuY3Rpb24gY2xvc2VDcm93ZHNhbGUoKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKCFjcm93ZHNhbGVGaW5pc2hlZCk7CiAgICAgICAgCiAgICAgICAgdG9rZW4udHJhbnNmZXJPd25lcnNoaXAoYmVuZWZpY2lhcnkpOwoKICAgICAgICBjcm93ZHNhbGVGaW5pc2hlZCA9IHRydWU7CgogICAgICAgIENyb3dkc2FsZUNsb3NlKCk7CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiB0b2tlbi5iYWxhbmNlT2YoX293bmVyKTsKICAgIH0KfQ=='.
	

]
