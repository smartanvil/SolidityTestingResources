Class {
	#name : #SRTb8d24ac55866236b2c7b8fb046ca110d488fba02,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTb8d24ac55866236b2c7b8fb046ca110d488fba02 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgovKgoKICBaaWJlci5pbyBDb250cmFjdAogID09PT09PT09PT09PT09PT09PT09PT09PQogIEJ1eXMgWkJSIHRva2VucyBmcm9tIHRoZSBEQU8gY3Jvd2RzYWxlIG9uIHlvdXIgYmVoYWxmLgogIEF1dGhvcjogL3UvTGVvCgoqLwoKCi8vIEludGVyZmFjZSB0byBaQlIgSUNPIENvbnRyYWN0CmNvbnRyYWN0IERhb1Rva2VuIHsKICB1aW50MjU2IHB1YmxpYyBDQVA7CiAgdWludDI1NiBwdWJsaWMgdG90YWxFdGhlcnM7CiAgZnVuY3Rpb24gcHJveHlQYXltZW50KGFkZHJlc3MgcGFydGljaXBhbnQpIHBheWFibGU7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKfQoKY29udHJhY3QgWmliZXJUb2tlbiB7CiAgLy8gU3RvcmUgdGhlIGFtb3VudCBvZiBFVEggZGVwb3NpdGVkIGJ5IGVhY2ggYWNjb3VudC4KICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlczsKICAvLyBTdG9yZSB3aGV0aGVyIG9yIG5vdCBlYWNoIGFjY291bnQgd291bGQgaGF2ZSBtYWRlIGl0IGludG8gdGhlIGNyb3dkc2FsZS4KICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBjaGVja2VkX2luOwogIC8vIGljbyBmb3IgZXhlY3V0aW5nIGJ1eS4KICB1aW50MjU2IHB1YmxpYyBpY287CiAgLy8gVHJhY2sgd2hldGhlciB0aGUgY29udHJhY3QgaGFzIGJvdWdodCB0aGUgdG9rZW5zIHlldC4KICBib29sIHB1YmxpYyBib3VnaHRfdG9rZW5zOwogIC8vIFJlY29yZCB0aGUgdGltZSB0aGUgY29udHJhY3QgYm91Z2h0IHRoZSB0b2tlbnMuCiAgdWludDI1NiBwdWJsaWMgdGltZV9ib3VnaHQ7CiAgdWludDI1NiBwdWJsaWMgZXh0cmFfdGltZV9ib3VnaHQ7CiAgLy8gRW1lcmdlbmN5IGtpbGwgc3dpdGNoIGluIGNhc2UgYSBjcml0aWNhbCBidWcgaXMgZm91bmQuCiAgYm9vbCBwdWJsaWMga2lsbF9zd2l0Y2g7CiAgCiAgLyogUHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4gKi8KICBzdHJpbmcgcHVibGljIG5hbWU7CiAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CiAgdWludDggcHVibGljIGRlY2ltYWxzOwogIAogIC8vIFJhdGlvIG9mIFpCUiB0b2tlbnMgcmVjZWl2ZWQgdG8gRVRIIGNvbnRyaWJ1dGVkCiAgLy8gMS4wMDAuMDAwIEJHUCA9IDgwLjAwMC4wMDAgWkJSCiAgLy8gMUVUSCA9IDIxOCBCR1AgKDAzLjA3LjIwMTc6IGh0dHBzOi8vd3d3LmNvaW5nZWNrby5jb20vZW4vcHJpY2VfY2hhcnRzL2V0aGVyZXVtL2dicCkKICAvLyAxIEVUSCA9IDE3NDQwIFpCUgogIHVpbnQyNTYgWkJSX3Blcl9ldGggPSAxNzQ0MDsKICAvL1RvdGFsIFpCUiBUb2tlbnMgUmVzZXJ2ZQogIHVpbnQyNTYgWkJSX3RvdGFsX3Jlc2VydmUgPSAxMDAwMDAwMDA7CiAgLy8gWkJSIFRva2VucyBmb3IgRGV2ZWxvcGVycwogIHVpbnQyNTYgWkJSX2Rldl9yZXNlcnZlZCA9IDEwMDAwMDAwOwogIC8vIFpCUiBUb2tlbnMgZm9yIFNlbGxpbmcgb3ZlciBJQ08KICB1aW50MjU2IFpCUl9mb3Jfc2VsbGluZyA9IDgwMDAwMDAwOwogIC8vIFpCUiBUb2tlbnMgZm9yIGljbwogIHVpbnQyNTYgWkJSX2Zvcl9pY289IDEwMDAwMDAwOwogIC8vIEVUSCBmb3IgYWN0aXZhdGUga2lsbC1zd2l0Y2ggaW4gY29udHJhY3QKICB1aW50MjU2IG1pbl9ldGhfdG9fZW5kID0gNTAwMDAgZXRoZXI7CiAgdWludDI1NiBtYXhfZXRoX3RvX2VuZCA9IDEwMDAwMCBldGhlcjsKICB1aW50IHJlZ2lzdHJlZFRvOwogIHVpbnQyNTYgbG9hZGVkUmVmdW5kOwogIHVpbnQyNTYgX3N1cHBseTsKICBzdHJpbmcgX25hbWU7CiAgc3RyaW5nIF9zeW1ib2w7CiAgdWludDggX2RlY2ltYWxzOwoKICAvLyBUaGUgWkJSIFRva2VuIGFkZHJlc3MgYW5kIHNhbGUgYWRkcmVzcyBhcmUgdGhlIHNhbWUuCiAgRGFvVG9rZW4gcHVibGljIHRva2VuID0gRGFvVG9rZW4oMHhhOWQ1ODVDRTNCMjI3ZDY5OTg1YzNGN0E4NjZmRTdkMGU1MTBkYTUwKTsKICAvLyBUaGUgZGV2ZWxvcGVyIGFkZHJlc3MuCiAgYWRkcmVzcyBkZXZlbG9wZXJfYWRkcmVzcyA9IDB4MDA0Qjc0RWE3MzdBRkQyNWNlMDgzNTczZkI0NWE0OWRhNzYyYUNENDsgCgogIC8qIFRoaXMgY3JlYXRlcyBhbiBhcnJheSB3aXRoIGFsbCBiYWxhbmNlcyAqLwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VPZjsKICAgIAogIC8qIFRoaXMgZ2VuZXJhdGVzIGEgcHVibGljIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgY2xpZW50cyAqLwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgCiAgLyogSW5pdGlhbGl6ZXMgY29udHJhY3Qgd2l0aCBpbml0aWFsIHN1cHBseSB0b2tlbnMgdG8gdGhlIGNyZWF0b3Igb2YgdGhlIGNvbnRyYWN0ICovCiAgZnVuY3Rpb24gWmliZXJUb2tlbigpIHsKICAgICAgLyogaWYgc3VwcGx5IG5vdCBnaXZlbiB0aGVuIGdlbmVyYXRlIDEwMCBtaWxsaW9uIG9mIHRoZSBzbWFsbGVzdCB1bml0IG9mIHRoZSB0b2tlbiAqLwogICAgICBfc3VwcGx5ID0gMTAwMDAwMDAwMDA7CiAgICAgIAogICAgICAvKiBVbmxlc3MgeW91IGFkZCBvdGhlciBmdW5jdGlvbnMgdGhlc2UgdmFyaWFibGVzIHdpbGwgbmV2ZXIgY2hhbmdlICovCiAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSA9IF9zdXBwbHk7CiAgICAgIG5hbWUgPSAiWklCRVIgTFREIENyb3dkc2FsZSBUb2tlbnMiOyAgICAgCiAgICAgIHN5bWJvbCA9ICJaQlIiOwogICAgICAKICAgICAgLyogSWYgeW91IHdhbnQgYSBkaXZpc2libGUgdG9rZW4gdGhlbiBhZGQgdGhlIGFtb3VudCBvZiBkZWNpbWFscyB0aGUgYmFzZSB1bml0IGhhcyAgKi8KICAgICAgZGVjaW1hbHMgPSAyOwogIH0KCgogIC8vLyBTYWZlTWF0aCBjb250cmFjdCAtIG1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MKICAvLy8gQGF1dGhvciA8YSBocmVmPSIvY2RuLWNnaS9sL2VtYWlsLXByb3RlY3Rpb24iIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iODBlNGU1ZjZjMGYzZWRlMWYyZjRlM2VmZWVmNGYyZTFlM2Y0ZTVlMWVkYWVlM2VmZWQiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L2E+CiAgZnVuY3Rpb24gc2FmZU11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzYWZlRGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICBhc3NlcnQoYiA+IDApOwogICAgdWludCBjID0gYSAvIGI7CiAgICBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc2FmZVN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICsgYjsKICAgIGFzc2VydChjPj1hICYmIGM+PWIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgYXNzZXJ0aW9uKSBpbnRlcm5hbCB7CiAgICBpZiAoIWFzc2VydGlvbikgewogICAgICB0aHJvdzsKICAgIH0KICB9CgoKICAvKioKICAqIEFsbG93IGxvYWQgcmVmdW5kcyBiYWNrIG9uIHRoZSBjb250cmFjdCBmb3IgdGhlIHJlZnVuZGluZy4KICAqCiAgKiBUaGUgdGVhbSBjYW4gdHJhbnNmZXIgdGhlIGZ1bmRzIGJhY2sgb24gdGhlIHNtYXJ0IGNvbnRyYWN0IGluIHRoZSBjYXNlIHRoZSBtaW5pbXVtIGdvYWwgd2FzIG5vdCByZWFjaGVkLi4KICAqLwogIGZ1bmN0aW9uIGxvYWRSZWZ1bmQoKSBwYXlhYmxlIHsKICAgIGlmKG1zZy52YWx1ZSA9PSAwKSB0aHJvdzsKICAgIGxvYWRlZFJlZnVuZCA9IHNhZmVBZGQobG9hZGVkUmVmdW5kLCBtc2cudmFsdWUpOwogIH0KCiAgLyoqCiAgKiBJbnZlc3RvcnMgY2FuIGNsYWltIHJlZnVuZC4KICAqLwogIGZ1bmN0aW9uIHJlZnVuZCgpIHByaXZhdGUgIHsKICAgIHVpbnQyNTYgd2VpVmFsdWUgPSB0aGlzLmJhbGFuY2U7CiAgICBpZiAod2VpVmFsdWUgPT0gMCkgdGhyb3c7CiAgICB1aW50MjU2IHdlaVJlZnVuZGVkOwogICAgd2VpUmVmdW5kZWQgPSBzYWZlQWRkKHdlaVJlZnVuZGVkLCB3ZWlWYWx1ZSk7CiAgICByZWZ1bmQoKTsKICAgIGlmICghbXNnLnNlbmRlci5zZW5kKHdlaVZhbHVlKSkgdGhyb3c7CiAgfQoKICAvKiBTZW5kIGNvaW5zICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSB7CiAgICAgIC8qIGlmIHRoZSBzZW5kZXIgZG9lbnN0IGhhdmUgZW5vdWdoIGJhbGFuY2UgdGhlbiBzdG9wICovCiAgICAgIGlmIChiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPCBfdmFsdWUpIHRocm93OwogICAgICBpZiAoYmFsYW5jZU9mW190b10gKyBfdmFsdWUgPCBiYWxhbmNlT2ZbX3RvXSkgdGhyb3c7CiAgICAgIAogICAgICAvKiBBZGQgYW5kIHN1YnRyYWN0IG5ldyBiYWxhbmNlcyAqLwogICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICBiYWxhbmNlT2ZbX3RvXSArPSBfdmFsdWU7CiAgICAgIAogICAgICAvKiBOb3RpZml5IGFueW9uZSBsaXN0ZW5pbmcgdGhhdCB0aGlzIHRyYW5zZmVyIHRvb2sgcGxhY2UgKi8KICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogIH0KICAKICAvLyBBbGxvd3MgdGhlIGRldmVsb3BlciB0byBzaHV0IGRvd24gZXZlcnl0aGluZyBleGNlcHQgd2l0aGRyYXdhbHMgaW4gZW1lcmdlbmNpZXMuCiAgZnVuY3Rpb24gYWN0aXZhdGVfa2lsbF9zd2l0Y2goKSB7CiAgICAvLyBPbmx5IGFsbG93IHRoZSBkZXZlbG9wZXIgdG8gYWN0aXZhdGUgdGhlIGtpbGwgc3dpdGNoLgogICAgaWYgKG1zZy5zZW5kZXIgIT0gZGV2ZWxvcGVyX2FkZHJlc3MpIHRocm93OwogICAgLy8gSXJyZXZlcnNpYmx5IGFjdGl2YXRlIHRoZSBraWxsIHN3aXRjaC4KICAgIGtpbGxfc3dpdGNoID0gdHJ1ZTsKICB9CiAgCiAgLy8gV2l0aGRyYXdzIGFsbCBFVEggZGVwb3NpdGVkIG9yIFpCUiBwdXJjaGFzZWQgYnkgdGhlIHNlbmRlci4KICBmdW5jdGlvbiB3aXRoZHJhdygpewogICAgLy8gSWYgY2FsbGVkIGJlZm9yZSB0aGUgSUNPLCBjYW5jZWwgY2FsbGVyJ3MgcGFydGljaXBhdGlvbiBpbiB0aGUgc2FsZS4KICAgIGlmICghYm91Z2h0X3Rva2VucykgewogICAgICAvLyBTdG9yZSB0aGUgdXNlcidzIGJhbGFuY2UgcHJpb3IgdG8gd2l0aGRyYXdhbCBpbiBhIHRlbXBvcmFyeSB2YXJpYWJsZS4KICAgICAgdWludDI1NiBldGhfYW1vdW50ID0gYmFsYW5jZXNbbXNnLnNlbmRlcl07CiAgICAgIC8vIFVwZGF0ZSB0aGUgdXNlcidzIGJhbGFuY2UgcHJpb3IgdG8gc2VuZGluZyBFVEggdG8gcHJldmVudCByZWN1cnNpdmUgY2FsbC4KICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAwOwogICAgICAvLyBSZXR1cm4gdGhlIHVzZXIncyBmdW5kcy4gIFRocm93cyBvbiBmYWlsdXJlIHRvIHByZXZlbnQgbG9zcyBvZiBmdW5kcy4KICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihldGhfYW1vdW50KTsKICAgIH0KICAgIC8vIFdpdGhkcmF3IHRoZSBzZW5kZXIncyB0b2tlbnMgaWYgdGhlIGNvbnRyYWN0IGhhcyBhbHJlYWR5IHB1cmNoYXNlZCB0aGVtLgogICAgZWxzZSB7CiAgICAgIC8vIFN0b3JlIHRoZSB1c2VyJ3MgWkJSIGJhbGFuY2UgaW4gYSB0ZW1wb3JhcnkgdmFyaWFibGUgKDEgRVRIV2VpIC0+IDIwMDAgWkJSV2VpKS4KICAgICAgdWludDI1NiBaQlJfYW1vdW50ID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0gKiBaQlJfcGVyX2V0aDsKICAgICAgLy8gVXBkYXRlIHRoZSB1c2VyJ3MgYmFsYW5jZSBwcmlvciB0byBzZW5kaW5nIFpCUiB0byBwcmV2ZW50IHJlY3Vyc2l2ZSBjYWxsLgogICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IDA7CiAgICAgIC8vIE5vIGZlZSBmb3Igd2l0aGRyYXdpbmcgaWYgdGhlIHVzZXIgd291bGQgaGF2ZSBtYWRlIGl0IGludG8gdGhlIGNyb3dkc2FsZSBhbG9uZS4KICAgICAgdWludDI1NiBmZWUgPSAwOwogICAgICAvLyAxJSBmZWUgaWYgdGhlIHVzZXIgZGlkbid0IGNoZWNrIGluIGR1cmluZyB0aGUgY3Jvd2RzYWxlLgogICAgICBpZiAoIWNoZWNrZWRfaW5bbXNnLnNlbmRlcl0pIHsKICAgICAgICBmZWUgPSBaQlJfYW1vdW50IC8gMTAwOwogICAgICAgIC8vIFNlbmQgYW55IG5vbi16ZXJvIGZlZXMgdG8gZGV2ZWxvcGVyLgogICAgICAgIGlmKCF0b2tlbi50cmFuc2ZlcihkZXZlbG9wZXJfYWRkcmVzcywgZmVlKSkgdGhyb3c7CiAgICAgIH0KICAgICAgLy8gU2VuZCB0aGUgdXNlciB0aGVpciB0b2tlbnMuICBUaHJvd3MgaWYgdGhlIGNyb3dkc2FsZSBpc24ndCBvdmVyLgogICAgICBpZighdG9rZW4udHJhbnNmZXIobXNnLnNlbmRlciwgWkJSX2Ftb3VudCAtIGZlZSkpIHRocm93OwogICAgfQogIH0KICAKICAvLyBBbGxvdyBkZXZlbG9wZXIgdG8gYWRkIEVUSCB0byB0aGUgYnV5IGV4ZWN1dGlvbiBpY28uCiAgZnVuY3Rpb24gYWRkX3RvX2ljbygpIHBheWFibGUgewogICAgLy8gT25seSBhbGxvdyB0aGUgZGV2ZWxvcGVyIHRvIGNvbnRyaWJ1dGUgdG8gdGhlIGJ1eSBleGVjdXRpb24gaWNvLgogICAgaWYgKG1zZy5zZW5kZXIgIT0gZGV2ZWxvcGVyX2FkZHJlc3MpIHRocm93OwogICAgLy8gRGlzYWxsb3cgYWRkaW5nIHRvIGljbyBpZiBraWxsIHN3aXRjaCBpcyBhY3RpdmUuCiAgICBpZiAoa2lsbF9zd2l0Y2gpIHRocm93OwogICAgLy8gRGlzYWxsb3cgYWRkaW5nIHRvIHRoZSBpY28gaWYgY29udHJhY3QgaGFzIGFscmVhZHkgYm91Z2h0IHRoZSB0b2tlbnMuCiAgICBpZiAoYm91Z2h0X3Rva2VucykgdGhyb3c7CiAgICAvLyBVcGRhdGUgaWNvIHRvIGluY2x1ZGUgcmVjZWl2ZWQgYW1vdW50LgogICAgaWNvICs9IG1zZy52YWx1ZTsKICB9CiAgCiAgLy8gQnV5cyB0b2tlbnMgaW4gdGhlIGNyb3dkc2FsZSBhbmQgcmV3YXJkcyB0aGUgY2FsbGVyLCBjYWxsYWJsZSBieSBhbnlvbmUuCiAgZnVuY3Rpb24gY2xhaW1faWNvKCl7CiAgICAvLyBTaG9ydCBjaXJjdWl0IHRvIHNhdmUgZ2FzIGlmIHRoZSBjb250cmFjdCBoYXMgYWxyZWFkeSBib3VnaHQgdG9rZW5zLgogICAgaWYgKGJvdWdodF90b2tlbnMpIHJldHVybjsKICAgIC8vIERpc2FsbG93IGJ1eWluZyBpbnRvIHRoZSBjcm93ZHNhbGUgaWYga2lsbCBzd2l0Y2ggaXMgYWN0aXZlLgogICAgaWYgKGtpbGxfc3dpdGNoKSB0aHJvdzsKICAgIC8vIFJlY29yZCB0aGF0IHRoZSBjb250cmFjdCBoYXMgYm91Z2h0IHRoZSB0b2tlbnMuCiAgICBib3VnaHRfdG9rZW5zID0gdHJ1ZTsKICAgIC8vIFJlY29yZCB0aGUgdGltZSB0aGUgY29udHJhY3QgYm91Z2h0IHRoZSB0b2tlbnMuCiAgICB0aW1lX2JvdWdodCA9IG5vdyArIDEgZGF5czsKICAgIC8vIFRyYW5zZmVyIGFsbCB0aGUgZnVuZHMgKGxlc3MgdGhlIGljbykgdG8gdGhlIFpCUiBjcm93ZHNhbGUgY29udHJhY3QKICAgIC8vIHRvIGJ1eSB0b2tlbnMuICBUaHJvd3MgaWYgdGhlIGNyb3dkc2FsZSBoYXNuJ3Qgc3RhcnRlZCB5ZXQgb3IgaGFzCiAgICAvLyBhbHJlYWR5IGNvbXBsZXRlZCwgcHJldmVudGluZyBsb3NzIG9mIGZ1bmRzLgogICAgdG9rZW4ucHJveHlQYXltZW50LnZhbHVlKHRoaXMuYmFsYW5jZSAtIGljbykoYWRkcmVzcyh0aGlzKSk7CiAgICAvLyBTZW5kIHRoZSBjYWxsZXIgdGhlaXIgaWNvIGZvciBidXlpbmcgdG9rZW5zIGZvciB0aGUgY29udHJhY3QuCiAgICBpZih0aGlzLmJhbGFuY2UgPiBtYXhfZXRoX3RvX2VuZCkKICAgIHsKICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGljbyk7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICBleHRyYV90aW1lX2JvdWdodCA9IG5vdyArICAxIGRheXMgKiAxMDsKICAgICAgICBpZih0aGlzLmJhbGFuY2UgPCBtaW5fZXRoX3RvX2VuZCkgdGhyb3c7CiAgICAgICAgZWxzZSB7CiAgICAgICAgICBpZiAobm93ID4gZXh0cmFfdGltZV9ib3VnaHQpIHsKICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihpY28pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogIH0KCiAgICAvL0NoZWNrIGlzIG1zZ19zZW5kZXIgaXMgY29udHJhY3QgZGV2CiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgaWYgKG1zZy5zZW5kZXIgIT0gZGV2ZWxvcGVyX2FkZHJlc3MpIHsKICAgICAgdGhyb3c7CiAgICB9CiAgICBfOwogIH0KICAKICAvLyBTZW5kIGZ1bmQgd2hlbiBpY28gZW5kCiAgZnVuY3Rpb24gd2l0aGRyYXdFdGgoKSBvbmx5T3duZXIgeyAgICAgICAgCiAgICAgICAgbXNnLnNlbmRlci50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogIH0KICAKICAvL0tpbGwgY29udHJhY3QKICBmdW5jdGlvbiBraWxsKCkgb25seU93bmVyIHsgICAgICAgIAogICAgICAgIHNlbGZkZXN0cnVjdChkZXZlbG9wZXJfYWRkcmVzcyk7CiAgfQogIAogIC8vIEEgaGVscGVyIGZ1bmN0aW9uIGZvciB0aGUgZGVmYXVsdCBmdW5jdGlvbiwgYWxsb3dpbmcgY29udHJhY3RzIHRvIGludGVyYWN0LgogIGZ1bmN0aW9uIGRlZmF1bHRfaGVscGVyKCkgcGF5YWJsZSB7CiAgICAvLyBDaGVjayBpZiBJQ08gU3RhcnRlZDogMjcuMDcuMjAxNyAxMjowMCBHTVQgdG8gZ2V0IEVUSCAvLzE1MDExNTY4MDAKICAgIGlmIChub3cgPCAxNTAwNjU1MjAwICkgdGhyb3c7IAogICAgZWxzZSB7CiAgICAgIC8vIFRyZWF0IG5lYXItemVybyBFVEggdHJhbnNhY3Rpb25zIGFzIGNoZWNrIGlucyBhbmQgd2l0aGRyYXdhbCByZXF1ZXN0cy4KICAgICAgaWYgKG1zZy52YWx1ZSA8PSAxIGZpbm5leSkgewogICAgICAgIC8vIENoZWNrIGluIGR1cmluZyB0aGUgY3Jvd2RzYWxlLgogICAgICAgIGlmIChib3VnaHRfdG9rZW5zKSB7CiAgICAgICAgICAvLyBPbmx5IGFsbG93IGNoZWNraW5nIGluIGJlZm9yZSB0aGUgY3Jvd2RzYWxlIGhhcyByZWFjaGVkIHRoZSBjYXAuCiAgICAgICAgICBpZiAodG9rZW4udG90YWxFdGhlcnMoKSA+PSB0b2tlbi5DQVAoKSkgdGhyb3c7CiAgICAgICAgICAvLyBNYXJrIHVzZXIgYXMgY2hlY2tlZCBpbiwgbWVhbmluZyB0aGV5IHdvdWxkIGhhdmUgYmVlbiBhYmxlIHRvIGVudGVyIGFsb25lLgogICAgICAgICAgY2hlY2tlZF9pblttc2cuc2VuZGVyXSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIC8vIFdpdGhkcmF3IGZ1bmRzIGlmIHRoZSBjcm93ZHNhbGUgaGFzbid0IGJlZ3VuIHlldCBvciBpcyBhbHJlYWR5IG92ZXIuCiAgICAgICAgZWxzZSB7CiAgICAgICAgICB3aXRoZHJhdygpOwogICAgICAgIH0KICAgICAgfQogICAgICAvLyBEZXBvc2l0IHRoZSB1c2VyJ3MgZnVuZHMgZm9yIHVzZSBpbiBwdXJjaGFzaW5nIHRva2Vucy4KICAgICAgZWxzZSB7CiAgICAgICAgLy8gRGlzYWxsb3cgZGVwb3NpdHMgaWYga2lsbCBzd2l0Y2ggaXMgYWN0aXZlLgogICAgICAgIGlmIChraWxsX3N3aXRjaCkgdGhyb3c7CiAgICAgICAgLy8gT25seSBhbGxvdyBkZXBvc2l0cyBpZiB0aGUgY29udHJhY3QgaGFzbid0IGFscmVhZHkgcHVyY2hhc2VkIHRoZSB0b2tlbnMuCiAgICAgICAgaWYgKGJvdWdodF90b2tlbnMpIHRocm93OwogICAgICAgIC8vIFVwZGF0ZSByZWNvcmRzIG9mIGRlcG9zaXRlZCBFVEggdG8gaW5jbHVkZSB0aGUgcmVjZWl2ZWQgYW1vdW50LgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZTsKICAgICAgfQogICAgfQogIH0KICAKICAvLyBEZWZhdWx0IGZ1bmN0aW9uLiAgQ2FsbGVkIHdoZW4gYSB1c2VyIHNlbmRzIEVUSCB0byB0aGUgY29udHJhY3QuCiAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7CiAgICAvLyBEZWxlZ2F0ZSB0byB0aGUgaGVscGVyIGZ1bmN0aW9uLgogICAgZGVmYXVsdF9oZWxwZXIoKTsKICB9CiAgCn0='.
	

]
