Class {
	#name : #SRT1a136ae98b49b92841562b6574d1f3f5b0044e4c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT1a136ae98b49b92841562b6574d1f3f5b0044e4c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vICdQb1dBZHYgVG9rZW4nIGNvbnRyYWN0Ci8vIE1pbmVhYmxlIEVSQzIwIFRva2VuIHVzaW5nIFByb29mIE9mIFdvcmsKLy8KLy8gU3ltYm9sICAgICAgOiBQT1dBCi8vIE5hbWUgICAgICAgIDogUG9XQWR2IFRva2VuCi8vIFRvdGFsIHN1cHBseTogMTAwLDAwMCwwMDAuMDAKLy8gRGVjaW1hbHMgICAgOiA4Ci8vCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gU2FmZSBtYXRocwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmxpYnJhcnkgU2FmZU1hdGggewogICAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgYykgewogICAgICAgIGMgPSBhICsgYjsKICAgICAgICByZXF1aXJlKGMgPj0gYSk7CiAgICB9CgogICAgZnVuY3Rpb24gc3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgYykgewogICAgICAgIHJlcXVpcmUoYiA8PSBhKTsKICAgICAgICBjID0gYSAtIGI7CiAgICB9CgogICAgZnVuY3Rpb24gbXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgYykgewogICAgICAgIGMgPSBhICogYjsKICAgICAgICByZXF1aXJlKGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCBjKSB7CiAgICAgICAgcmVxdWlyZShiID4gMCk7CiAgICAgICAgYyA9IGEgLyBiOwogICAgfQp9CgpsaWJyYXJ5IEV4dGVuZGVkTWF0aCB7CiAgICAvL3JldHVybiB0aGUgc21hbGxlciBvZiB0aGUgdHdvIGlucHV0cyAoYSBvciBiKQogICAgZnVuY3Rpb24gbGltaXRMZXNzVGhhbih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50IGMpIHsKICAgICAgICBpZihhID4gYikgcmV0dXJuIGI7CiAgICAgICAgcmV0dXJuIGE7CiAgICB9Cn0KCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gRVJDIFRva2VuIFN0YW5kYXJkICMyMCBJbnRlcmZhY2UKLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvYmxvYi9tYXN0ZXIvRUlQUy9laXAtMjAtdG9rZW4tc3RhbmRhcmQubWQKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpjb250cmFjdCBFUkMyMEludGVyZmFjZSB7CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHRva2VuT3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgdG9rZW5Pd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB0b2tlbnMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdG9rZW5zKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdG9rZW5zKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHRva2Vucyk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgdG9rZW5Pd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdG9rZW5zKTsKfQoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBDb250cmFjdCBmdW5jdGlvbiB0byByZWNlaXZlIGFwcHJvdmFsIGFuZCBleGVjdXRlIGZ1bmN0aW9uIGluIG9uZSBjYWxsCi8vCi8vIEJvcnJvd2VkIGZyb20gTWluaU1lVG9rZW4KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpjb250cmFjdCBBcHByb3ZlQW5kQ2FsbEZhbGxCYWNrIHsKICAgIGZ1bmN0aW9uIHJlY2VpdmVBcHByb3ZhbChhZGRyZXNzIGZyb20sIHVpbnQyNTYgdG9rZW5zLCBhZGRyZXNzIHRva2VuLCBieXRlcyBkYXRhKSBwdWJsaWM7Cn0KCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gT3duZWQgY29udHJhY3QKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpjb250cmFjdCBPd25lZCB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIGFkZHJlc3MgcHVibGljIG5ld093bmVyOwoKICAgIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90byk7CgogICAgZnVuY3Rpb24gT3duZWQoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIF9uZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgbmV3T3duZXIgPSBfbmV3T3duZXI7CiAgICB9CgogICAgZnVuY3Rpb24gYWNjZXB0T3duZXJzaGlwKCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gbmV3T3duZXIpOwogICAgICAgIGVtaXQgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgICAgIG5ld093bmVyID0gYWRkcmVzcygwKTsKICAgIH0KfQoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBFUkMyMCBUb2tlbiwgd2l0aCB0aGUgYWRkaXRpb24gb2Ygc3ltYm9sLCBuYW1lIGFuZCBkZWNpbWFscyBhbmQgYW4KLy8gaW5pdGlhbCBmaXhlZCBzdXBwbHkKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpjb250cmFjdCBQb1dBZHZDb2luVG9rZW4gaXMgRVJDMjBJbnRlcmZhY2UsIE93bmVkIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwogICAgdXNpbmcgRXh0ZW5kZWRNYXRoIGZvciB1aW50OwoKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgc3RyaW5nIHB1YmxpYyAgbmFtZTsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKICAgIHVpbnQgcHVibGljIF90b3RhbFN1cHBseTsKCiAgICB1aW50IHB1YmxpYyBsYXRlc3REaWZmaWN1bHR5UGVyaW9kU3RhcnRlZDsKICAgIHVpbnQgcHVibGljIGZpcnN0VmFsaWRCbG9ja051bWJlcjsKCiAgICB1aW50IHB1YmxpYyBlcG9jaENvdW50OyAvL251bWJlciBvZiAnYmxvY2tzJyBtaW5lZAoKICAgIHVpbnQgcHVibGljIF9CTE9DS1NfUEVSX1JFQURKVVNUTUVOVCA9IDE2OwogICAgLy8gYXZnIEVUSCBibG9jayBwZXJpb2QgaXMgfjEwc2VjIHRoaXMgaXMgNjAgcm91Z2hseSBibG9jayBwZXIgMTBtaW4KICAgIHVpbnQgcHVibGljIF9UQVJHRVRfRVBPQ0hfUEVSX1BFRElPRCA9IF9CTE9DS1NfUEVSX1JFQURKVVNUTUVOVCAqIDYwOyAKICAgIHVpbnQgcHVibGljIF9CTE9DS19SRVdBUkQgPSAoMjUwICogMTAqKnVpbnQoOCkpOwogICAgLy9hIGxpdHRsZSBudW1iZXIKICAgIHVpbnQgcHVibGljICBfTUlOSU1VTV9UQVJHRVQgPSAyKioxNjsKICAgIC8vYSBiaWcgbnVtYmVyIGlzIGVhc2llciA7IGp1c3QgZmluZCBhIHNvbHV0aW9uIHRoYXQgaXMgc21hbGxlcgogICAgdWludCBwdWJsaWMgIF9NQVhJTVVNX1RBUkdFVCA9IDIqKjIzNDsKCiAgICB1aW50IHB1YmxpYyBtaW5pbmdUYXJnZXQ7CiAgICBieXRlczMyIHB1YmxpYyBjaGFsbGVuZ2VOdW1iZXI7ICAgLy9nZW5lcmF0ZSBhIG5ldyBvbmUgd2hlbiBhIG5ldyByZXdhcmQgaXMgbWludGVkCgogICAgYm9vbCBsb2NrZWQgPSBmYWxzZTsKCiAgICBtYXBwaW5nKGJ5dGVzMzIgPT4gYnl0ZXMzMikgc29sdXRpb25Gb3JDaGFsbGVuZ2U7CgogICAgdWludCBwdWJsaWMgdG9rZW5zTWludGVkOwoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBiYWxhbmNlczsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkpIGFsbG93ZWQ7CgogICAgZXZlbnQgTWludChhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludCByZXdhcmRfYW1vdW50LCB1aW50IGVwb2NoQ291bnQsIGJ5dGVzMzIgbmV3Q2hhbGxlbmdlTnVtYmVyKTsKCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIENvbnN0cnVjdG9yCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIFBvV0FkdkNvaW5Ub2tlbigpIHB1YmxpYyBvbmx5T3duZXIgewoKICAgICAgICBzeW1ib2wgPSAiUE9XQSI7CiAgICAgICAgbmFtZSA9ICJQb1dBZHYgVG9rZW4iOwogICAgICAgIGRlY2ltYWxzID0gODsKICAgICAgICBfdG90YWxTdXBwbHkgPSAxMDAwMDAwMDAgKiAxMCoqdWludChkZWNpbWFscyk7CgogICAgICAgIGlmKGxvY2tlZCkgCgkJCXJldmVydCgpOwoJCQkKICAgICAgICBsb2NrZWQgPSB0cnVlOwogICAgICAgIHRva2Vuc01pbnRlZCA9IDA7CiAgICAgICAgbWluaW5nVGFyZ2V0ID0gX01BWElNVU1fVEFSR0VUOwogICAgICAgIGxhdGVzdERpZmZpY3VsdHlQZXJpb2RTdGFydGVkID0gYmxvY2subnVtYmVyOwogICAgICAgIGZpcnN0VmFsaWRCbG9ja051bWJlciA9ICA1MzQ5NTExOwogICAgICAgIF9zdGFydE5ld01pbmluZ0Vwb2NoKCk7CgogICAgICAgIC8vIFN1bSBvZiB0b2tlbnMgbWluZWQgYmVmb3JlIGhhcmQgZm9yaywgd2lsbCBiZSBkaXN0cmlidXRlZCBtYW51YWxseQogICAgICAgIGVwb2NoQ291bnQgPSAzMDcxOwogICAgICAgIGJhbGFuY2VzW293bmVyXSA9IGVwb2NoQ291bnQgKiBfQkxPQ0tfUkVXQVJEOwogICAgICAgIHRva2Vuc01pbnRlZCA9IGVwb2NoQ291bnQgKiBfQkxPQ0tfUkVXQVJEOwogICAgfQogCglmdW5jdGlvbiBtaW50KHVpbnQyNTYgbm9uY2UsIGJ5dGVzMzIgY2hhbGxlbmdlX2RpZ2VzdCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoKICAgICAgICByZXF1aXJlKGJsb2NrLm51bWJlciA+IGZpcnN0VmFsaWRCbG9ja051bWJlcik7CiAgICAgICAgICAgIAoJCS8vdGhlIFBvVyBtdXN0IGNvbnRhaW4gd29yayB0aGF0IGluY2x1ZGVzIGEgcmVjZW50IGV0aGVyZXVtIGJsb2NrIGhhc2ggKGNoYWxsZW5nZSBudW1iZXIpIGFuZCB0aGUgbXNnLnNlbmRlcidzIGFkZHJlc3MgdG8gcHJldmVudCBNSVRNIGF0dGFja3MKCQlieXRlczMyIGRpZ2VzdCA9IGtlY2NhazI1NihjaGFsbGVuZ2VOdW1iZXIsIG1zZy5zZW5kZXIsIG5vbmNlKTsKCgkJLy90aGUgY2hhbGxlbmdlIGRpZ2VzdCBtdXN0IG1hdGNoIHRoZSBleHBlY3RlZAoJCWlmIChkaWdlc3QgIT0gY2hhbGxlbmdlX2RpZ2VzdCkgCgkJCXJldmVydCgpOwoKCQkvL3RoZSBkaWdlc3QgbXVzdCBiZSBzbWFsbGVyIHRoYW4gdGhlIHRhcmdldAoJCWlmKHVpbnQyNTYoZGlnZXN0KSA+IGRpc2NvdW50ZWRNaW5pbmdUYXJnZXQobXNnLnNlbmRlcikpIAoJCQlyZXZlcnQoKTsKCgkJLy9vbmx5IGFsbG93IG9uZSByZXdhcmQgZm9yIGVhY2ggY2hhbGxlbmdlCgkJYnl0ZXMzMiBzb2x1dGlvbiA9IHNvbHV0aW9uRm9yQ2hhbGxlbmdlW2NoYWxsZW5nZU51bWJlcl07CgkJc29sdXRpb25Gb3JDaGFsbGVuZ2VbY2hhbGxlbmdlTnVtYmVyXSA9IGRpZ2VzdDsKCQlpZihzb2x1dGlvbiAhPSAweDApIAoJCQlyZXZlcnQoKTsgIC8vcHJldmVudCB0aGUgc2FtZSBhbnN3ZXIgZnJvbSBhd2FyZGluZyB0d2ljZQoKCQl1aW50IHJld2FyZF9hbW91bnQgPSBfQkxPQ0tfUkVXQVJEOwoKCQliYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLmFkZChyZXdhcmRfYW1vdW50KTsKCiAgICAgICAgdG9rZW5zTWludGVkID0gdG9rZW5zTWludGVkLmFkZChyZXdhcmRfYW1vdW50KTsKICAgICAgICAKCQlhc3NlcnQodG9rZW5zTWludGVkIDw9IF90b3RhbFN1cHBseSk7CgkKCQlfc3RhcnROZXdNaW5pbmdFcG9jaCgpOwoKCQllbWl0IE1pbnQobXNnLnNlbmRlciwgcmV3YXJkX2Ftb3VudCwgZXBvY2hDb3VudCwgY2hhbGxlbmdlTnVtYmVyKTsKCgkJcmV0dXJuIHRydWU7Cgl9CgogICAgLy9hIG5ldyAnYmxvY2snIHRvIGJlIG1pbmVkCiAgICBmdW5jdGlvbiBfc3RhcnROZXdNaW5pbmdFcG9jaCgpIGludGVybmFsIHsKCQllcG9jaENvdW50ID0gZXBvY2hDb3VudC5hZGQoMSk7CgoJCS8vZXZlcnkgc28gb2Z0ZW4sIHJlYWRqdXN0IGRpZmZpY3VsdHkuIERvbnQgcmVhZGp1c3Qgd2hlbiBkZXBsb3lpbmcKCQlpZihlcG9jaENvdW50ICUgX0JMT0NLU19QRVJfUkVBREpVU1RNRU5UID09IDApCgkJCV9yZUFkanVzdERpZmZpY3VsdHkoKTsKCQkKCQkvL21ha2UgdGhlIGxhdGVzdCBldGhlcmV1bSBibG9jayBoYXNoIGEgcGFydCBvZiB0aGUgbmV4dCBjaGFsbGVuZ2UgZm9yIFBvVyB0byBwcmV2ZW50IHByZS1taW5pbmcgZnV0dXJlIGJsb2NrcwoJCS8vZG8gdGhpcyBsYXN0IHNpbmNlIHRoaXMgaXMgYSBwcm90ZWN0aW9uIG1lY2hhbmlzbSBpbiB0aGUgbWludCgpIGZ1bmN0aW9uCgkJY2hhbGxlbmdlTnVtYmVyID0gYmxvY2suYmxvY2toYXNoKGJsb2NrLm51bWJlciAtIDEpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9yZUFkanVzdERpZmZpY3VsdHkoKSBpbnRlcm5hbCB7CgogICAgICAgIHVpbnQgZXRoQmxvY2tzU2luY2VMYXN0RGlmZmljdWx0eVBlcmlvZCA9IGJsb2NrLm51bWJlciAtIGxhdGVzdERpZmZpY3VsdHlQZXJpb2RTdGFydGVkOwoKICAgICAgICAvL3dlIHdhbnQgbWluZXJzIHRvIHNwZW5kIDEwIG1pbnV0ZXMgdG8gbWluZSBlYWNoICdibG9jaycsIGFib3V0IDYwIGV0aGVyZXVtIGJsb2NrcyA9IG9uZSBQT1dBIGVwb2NoCiAgICAgICAgdWludCB0YXJnZXRFdGhCbG9ja3NQZXJEaWZmUGVyaW9kID0gX1RBUkdFVF9FUE9DSF9QRVJfUEVESU9EOyAvL3Nob3VsZCBiZSBYIHRpbWVzIHNsb3dlciB0aGFuIGV0aGVyZXVtCgogICAgICAgIC8vaWYgdGhlcmUgd2VyZSBsZXNzIGV0aCBibG9ja3MgcGFzc2VkIGluIHRpbWUgdGhhbiBleHBlY3RlZAogICAgICAgIGlmKGV0aEJsb2Nrc1NpbmNlTGFzdERpZmZpY3VsdHlQZXJpb2QgPCB0YXJnZXRFdGhCbG9ja3NQZXJEaWZmUGVyaW9kKQogICAgICAgIHsKCQkJdWludCBleGNlc3NfYmxvY2tfcGN0ID0gKHRhcmdldEV0aEJsb2Nrc1BlckRpZmZQZXJpb2QubXVsKDEwMCkpLmRpdihldGhCbG9ja3NTaW5jZUxhc3REaWZmaWN1bHR5UGVyaW9kKTsKCQkJdWludCBleGNlc3NfYmxvY2tfcGN0X2V4dHJhID0gZXhjZXNzX2Jsb2NrX3BjdC5zdWIoMTAwKS5saW1pdExlc3NUaGFuKDEwMDApOwoJCQoJCQkvL21ha2UgaXQgaGFyZGVyCgkJCW1pbmluZ1RhcmdldCA9IG1pbmluZ1RhcmdldC5zdWIobWluaW5nVGFyZ2V0LmRpdigyMDAwKS5tdWwoZXhjZXNzX2Jsb2NrX3BjdF9leHRyYSkpOyAgIC8vYnkgdXAgdG8gNTAgJQogICAgICAgIH1lbHNlewoJCQl1aW50IHNob3J0YWdlX2Jsb2NrX3BjdCA9IChldGhCbG9ja3NTaW5jZUxhc3REaWZmaWN1bHR5UGVyaW9kLm11bCgxMDApKS5kaXYodGFyZ2V0RXRoQmxvY2tzUGVyRGlmZlBlcmlvZCk7CgkJCXVpbnQgc2hvcnRhZ2VfYmxvY2tfcGN0X2V4dHJhID0gc2hvcnRhZ2VfYmxvY2tfcGN0LnN1YigxMDApLmxpbWl0TGVzc1RoYW4oMTAwMCk7IC8vYWx3YXlzIGJldHdlZW4gMCBhbmQgMTAwMAoKCQkJLy9tYWtlIGl0IGVhc2llcgoJCQltaW5pbmdUYXJnZXQgPSBtaW5pbmdUYXJnZXQuYWRkKG1pbmluZ1RhcmdldC5kaXYoMjAwMCkubXVsKHNob3J0YWdlX2Jsb2NrX3BjdF9leHRyYSkpOyAgLy9ieSB1cCB0byA1MCAlCiAgICAgICAgfQoKICAgICAgICBsYXRlc3REaWZmaWN1bHR5UGVyaW9kU3RhcnRlZCA9IGJsb2NrLm51bWJlcjsKCiAgICAgICAgaWYobWluaW5nVGFyZ2V0IDwgX01JTklNVU1fVEFSR0VUKSAvL3ZlcnkgZGlmZmljdWx0CiAgICAgICAgewoJCQltaW5pbmdUYXJnZXQgPSBfTUlOSU1VTV9UQVJHRVQ7CiAgICAgICAgfQoKICAgICAgICBpZihtaW5pbmdUYXJnZXQgPiBfTUFYSU1VTV9UQVJHRVQpIC8vdmVyeSBlYXN5CiAgICAgICAgewoJCQltaW5pbmdUYXJnZXQgPSBfTUFYSU1VTV9UQVJHRVQ7CiAgICAgICAgfQogICAgfQoKICAgIC8vdGhpcyBpcyBhIHJlY2VudCBldGhlcmV1bSBibG9jayBoYXNoLCB1c2VkIHRvIHByZXZlbnQgcHJlLW1pbmluZyBmdXR1cmUgYmxvY2tzCiAgICBmdW5jdGlvbiBnZXRDaGFsbGVuZ2VOdW1iZXIoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYnl0ZXMzMikgewogICAgICAgIHJldHVybiBjaGFsbGVuZ2VOdW1iZXI7CiAgICB9CgogICAgLy90aGUgbnVtYmVyIG9mIHplcm9lcyB0aGUgZGlnZXN0IG9mIHRoZSBQb1cgc29sdXRpb24gcmVxdWlyZXMuICBBdXRvIGFkanVzdHMKICAgICBmdW5jdGlvbiBnZXRNaW5pbmdEaWZmaWN1bHR5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gX01BWElNVU1fVEFSR0VULmRpdihtaW5pbmdUYXJnZXQpOwogICAgfQoKCWZ1bmN0aW9uIGdldE1pbmluZ1RhcmdldCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CgkJcmV0dXJuIG1pbmluZ1RhcmdldDsKCX0KCQogICAgZnVuY3Rpb24gZGlzY291bnRlZE1pbmluZ1RhcmdldChhZGRyZXNzIHNvbHZlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgZGlzY291bnRlZERpZmYpIHsKICAgICAgICAvLyB0aGUgbnVtYmVyIG9mIGNvaW5zIG93bmVkCiAgICAgICAgdWludDI1NiBtaW5lckJhbGFuY2UgPSB1aW50MjU2KGJhbGFuY2VPZihzb2x2ZXIpKTsKICAgICAgICAgCiAgICAgICAgaWYobWluZXJCYWxhbmNlIDw9IDIgKiBfQkxPQ0tfUkVXQVJEKQogICAgICAgICAgICByZXR1cm4gZ2V0TWluaW5nVGFyZ2V0KCk7CiAgICAgICAgICAgIAogICAgICAgIC8vIHRoZSBudW1iZXIgb2YgZnVsbCBibG9jayByZXdhcmRzIG93bmVkCiAgICAgICAgdWludDI1NiBtaW5lckRpc2NvdW50ID0gdWludDI1NihtaW5lckJhbGFuY2UuZGl2KF9CTE9DS19SRVdBUkQpKTsKICAgICAgICAgICAgCiAgICAgICAgZGlzY291bnRlZERpZmYgPSBtaW5pbmdUYXJnZXQubXVsKG1pbmVyRGlzY291bnQubXVsKG1pbmVyRGlzY291bnQpKTsKICAgICAgICAKICAgICAgICBpZihkaXNjb3VudGVkRGlmZiA+IF9NQVhJTVVNX1RBUkdFVCkgLy92ZXJ5IGVhc3kKICAgICAgICAgICAgZGlzY291bnRlZERpZmYgPSBfTUFYSU1VTV9UQVJHRVQ7CiAgICAgIAogICAgICAgIHJldHVybiBkaXNjb3VudGVkRGlmZjsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZGlzY291bnRlZE1pbmluZ0RpZmZpY3VsdHkoYWRkcmVzcyBzb2x2ZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGRpc2NvdW50ZWREaWZmKSB7CiAgICAgICAgcmV0dXJuIF9NQVhJTVVNX1RBUkdFVC5kaXYoZGlzY291bnRlZE1pbmluZ1RhcmdldChzb2x2ZXIpKTsKICAgIH0KCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFRvdGFsIHN1cHBseQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIF90b3RhbFN1cHBseSAtIGJhbGFuY2VzW2FkZHJlc3MoMCldOwogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gR2V0IHRoZSB0b2tlbiBiYWxhbmNlIGZvciBhY2NvdW50IGB0b2tlbk93bmVyYAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB0b2tlbk93bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW3Rva2VuT3duZXJdOwogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gVHJhbnNmZXIgdGhlIGJhbGFuY2UgZnJvbSB0b2tlbiBvd25lcidzIGFjY291bnQgdG8gYHRvYCBhY2NvdW50CiAgICAvLyAtIE93bmVyJ3MgYWNjb3VudCBtdXN0IGhhdmUgc3VmZmljaWVudCBiYWxhbmNlIHRvIHRyYW5zZmVyCiAgICAvLyAtIDAgdmFsdWUgdHJhbnNmZXJzIGFyZSBub3QgYWxsb3dlZAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHRva2VucykgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUodG8gIT0gMCk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIodG9rZW5zKTsKICAgICAgICBiYWxhbmNlc1t0b10gPSBiYWxhbmNlc1t0b10uYWRkKHRva2Vucyk7CiAgICAgICAgZW1pdCBUcmFuc2Zlcihtc2cuc2VuZGVyLCB0bywgdG9rZW5zKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFRva2VuIG93bmVyIGNhbiBhcHByb3ZlIGZvciBgc3BlbmRlcmAgdG8gdHJhbnNmZXJGcm9tKC4uLikgYHRva2Vuc2AKICAgIC8vIGZyb20gdGhlIHRva2VuIG93bmVyJ3MgYWNjb3VudAogICAgLy8KICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2Jsb2IvbWFzdGVyL0VJUFMvZWlwLTIwLXRva2VuLXN0YW5kYXJkLm1kCiAgICAvLyByZWNvbW1lbmRzIHRoYXQgdGhlcmUgYXJlIG5vIGNoZWNrcyBmb3IgdGhlIGFwcHJvdmFsIGRvdWJsZS1zcGVuZCBhdHRhY2sKICAgIC8vIGFzIHRoaXMgc2hvdWxkIGJlIGltcGxlbWVudGVkIGluIHVzZXIgaW50ZXJmYWNlcwogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB0b2tlbnMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW3NwZW5kZXJdID0gdG9rZW5zOwogICAgICAgIGVtaXQgQXBwcm92YWwobXNnLnNlbmRlciwgc3BlbmRlciwgdG9rZW5zKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBUcmFuc2ZlciBgdG9rZW5zYCBmcm9tIHRoZSBgZnJvbWAgYWNjb3VudCB0byB0aGUgYHRvYCBhY2NvdW50CiAgICAvLwogICAgLy8gVGhlIGNhbGxpbmcgYWNjb3VudCBtdXN0IGFscmVhZHkgaGF2ZSBzdWZmaWNpZW50IHRva2VucyBhcHByb3ZlKC4uLiktZAogICAgLy8gZm9yIHNwZW5kaW5nIGZyb20gdGhlIGBmcm9tYCBhY2NvdW50IGFuZAogICAgLy8gLSBGcm9tIGFjY291bnQgbXVzdCBoYXZlIHN1ZmZpY2llbnQgYmFsYW5jZSB0byB0cmFuc2ZlcgogICAgLy8gLSBTcGVuZGVyIG11c3QgaGF2ZSBzdWZmaWNpZW50IGFsbG93YW5jZSB0byB0cmFuc2ZlcgogICAgLy8gLSAwIHZhbHVlIHRyYW5zZmVycyBhcmUgYWxsb3dlZAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHRva2VucykgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGJhbGFuY2VzW2Zyb21dID0gYmFsYW5jZXNbZnJvbV0uc3ViKHRva2Vucyk7CiAgICAgICAgYWxsb3dlZFtmcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbZnJvbV1bbXNnLnNlbmRlcl0uc3ViKHRva2Vucyk7CiAgICAgICAgYmFsYW5jZXNbdG9dID0gYmFsYW5jZXNbdG9dLmFkZCh0b2tlbnMpOwogICAgICAgIGVtaXQgVHJhbnNmZXIoZnJvbSwgdG8sIHRva2Vucyk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBSZXR1cm5zIHRoZSBhbW91bnQgb2YgdG9rZW5zIGFwcHJvdmVkIGJ5IHRoZSBvd25lciB0aGF0IGNhbiBiZQogICAgLy8gdHJhbnNmZXJyZWQgdG8gdGhlIHNwZW5kZXIncyBhY2NvdW50CiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIHRva2VuT3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbdG9rZW5Pd25lcl1bc3BlbmRlcl07CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBUb2tlbiBvd25lciBjYW4gYXBwcm92ZSBmb3IgYHNwZW5kZXJgIHRvIHRyYW5zZmVyRnJvbSguLi4pIGB0b2tlbnNgCiAgICAvLyBmcm9tIHRoZSB0b2tlbiBvd25lcidzIGFjY291bnQuIFRoZSBgc3BlbmRlcmAgY29udHJhY3QgZnVuY3Rpb24KICAgIC8vIGByZWNlaXZlQXBwcm92YWwoLi4uKWAgaXMgdGhlbiBleGVjdXRlZAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdG9rZW5zLCBieXRlcyBkYXRhKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtzcGVuZGVyXSA9IHRva2VuczsKICAgICAgICBlbWl0IEFwcHJvdmFsKG1zZy5zZW5kZXIsIHNwZW5kZXIsIHRva2Vucyk7CiAgICAgICAgQXBwcm92ZUFuZENhbGxGYWxsQmFjayhzcGVuZGVyKS5yZWNlaXZlQXBwcm92YWwobXNnLnNlbmRlciwgdG9rZW5zLCB0aGlzLCBkYXRhKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIERvbid0IGFjY2VwdCBFVEgKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewogICAgICAgIHJldmVydCgpOwogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gT3duZXIgY2FuIHRyYW5zZmVyIG91dCBhbnkgYWNjaWRlbnRhbGx5IHNlbnQgRVJDMjAgdG9rZW5zCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyQW55RVJDMjBUb2tlbihhZGRyZXNzIHRva2VuQWRkcmVzcywgdWludCB0b2tlbnMpIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmV0dXJuIEVSQzIwSW50ZXJmYWNlKHRva2VuQWRkcmVzcykudHJhbnNmZXIob3duZXIsIHRva2Vucyk7CiAgICB9Cn0='.
	

]
