Class {
	#name : #SRTc0ffeee61948d8993864a73a099c0e38d887d3f4,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc0ffeee61948d8993864a73a099c0e38d887d3f4 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7Cgpjb250cmFjdCBFUkMyMCB7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wgb2spOyAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wgb2spOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wgb2spOwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKY29udHJhY3QgTXVsdGlTaWdUb2tlbldhbGxldCB7CgogICAgYWRkcmVzc1tdIHB1YmxpYyBvd25lcnM7CiAgICBhZGRyZXNzW10gcHVibGljIHRva2VuczsKICAgIG1hcHBpbmcgKHVpbnQgPT4gVHJhbnNhY3Rpb24pIHB1YmxpYyB0cmFuc2FjdGlvbnM7CiAgICBtYXBwaW5nICh1aW50ID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkpIHB1YmxpYyBjb25maXJtYXRpb25zOwogICAgdWludCBwdWJsaWMgdHJhbnNhY3Rpb25Db3VudDsKICAgIAogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgdG9rZW5CYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGlzT3duZXI7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGFkZHJlc3NbXSkgcHVibGljIHVzZXJMaXN0OwogICAgdWludCBwdWJsaWMgcmVxdWlyZWQ7CiAgICB1aW50IHB1YmxpYyBub25jZTsKCiAgICBzdHJ1Y3QgVHJhbnNhY3Rpb24gewogICAgICAgIGFkZHJlc3MgZGVzdGluYXRpb247CiAgICAgICAgdWludCB2YWx1ZTsKICAgICAgICBieXRlcyBkYXRhOwogICAgICAgIGJvb2wgZXhlY3V0ZWQ7CiAgICB9CgogICAgdWludCBjb25zdGFudCBwdWJsaWMgTUFYX09XTkVSX0NPVU5UID0gNTA7CgogICAgZXZlbnQgQ29uZmlybWF0aW9uKGFkZHJlc3MgaW5kZXhlZCBfc2VuZGVyLCB1aW50IGluZGV4ZWQgX3RyYW5zYWN0aW9uSWQpOwogICAgZXZlbnQgUmV2b2NhdGlvbihhZGRyZXNzIGluZGV4ZWQgX3NlbmRlciwgdWludCBpbmRleGVkIF90cmFuc2FjdGlvbklkKTsKICAgIGV2ZW50IFN1Ym1pc3Npb24odWludCBpbmRleGVkIF90cmFuc2FjdGlvbklkKTsKICAgIGV2ZW50IEV4ZWN1dGlvbih1aW50IGluZGV4ZWQgX3RyYW5zYWN0aW9uSWQpOwogICAgZXZlbnQgRXhlY3V0aW9uRmFpbHVyZSh1aW50IGluZGV4ZWQgX3RyYW5zYWN0aW9uSWQpOwogICAgZXZlbnQgRGVwb3NpdChhZGRyZXNzIGluZGV4ZWQgX3NlbmRlciwgdWludCBfdmFsdWUpOwogICAgZXZlbnQgVG9rZW5EZXBvc2l0KGFkZHJlc3MgX3Rva2VuLCBhZGRyZXNzIGluZGV4ZWQgX3NlbmRlciwgdWludCBfdmFsdWUpOwogICAgZXZlbnQgT3duZXJBZGRpdGlvbihhZGRyZXNzIGluZGV4ZWQgX293bmVyKTsKICAgIGV2ZW50IE93bmVyUmVtb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyKTsKICAgIGV2ZW50IFJlcXVpcmVtZW50Q2hhbmdlKHVpbnQgX3JlcXVpcmVkKTsKICAgIAogICAgbW9kaWZpZXIgb25seVdhbGxldCgpIHsKICAgICAgICByZXF1aXJlIChtc2cuc2VuZGVyID09IGFkZHJlc3ModGhpcykpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb3duZXJEb2VzTm90RXhpc3QoYWRkcmVzcyBvd25lcikgewogICAgICAgIHJlcXVpcmUgKCFpc093bmVyW293bmVyXSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvd25lckV4aXN0cyhhZGRyZXNzIG93bmVyKSB7CiAgICAgICAgcmVxdWlyZSAoaXNPd25lcltvd25lcl0pOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgdHJhbnNhY3Rpb25FeGlzdHModWludCB0cmFuc2FjdGlvbklkKSB7CiAgICAgICAgcmVxdWlyZSAodHJhbnNhY3Rpb25zW3RyYW5zYWN0aW9uSWRdLmRlc3RpbmF0aW9uICE9IDApOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgY29uZmlybWVkKHVpbnQgdHJhbnNhY3Rpb25JZCwgYWRkcmVzcyBvd25lcikgewogICAgICAgIHJlcXVpcmUgKGNvbmZpcm1hdGlvbnNbdHJhbnNhY3Rpb25JZF1bb3duZXJdKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG5vdENvbmZpcm1lZCh1aW50IHRyYW5zYWN0aW9uSWQsIGFkZHJlc3Mgb3duZXIpIHsKICAgICAgICByZXF1aXJlKCFjb25maXJtYXRpb25zW3RyYW5zYWN0aW9uSWRdW293bmVyXSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBub3RFeGVjdXRlZCh1aW50IHRyYW5zYWN0aW9uSWQpIHsKICAgICAgICByZXF1aXJlICghdHJhbnNhY3Rpb25zW3RyYW5zYWN0aW9uSWRdLmV4ZWN1dGVkKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG5vdE51bGwoYWRkcmVzcyBfYWRkcmVzcykgewogICAgICAgIHJlcXVpcmUgKF9hZGRyZXNzICE9IDApOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgdmFsaWRSZXF1aXJlbWVudCh1aW50IG93bmVyQ291bnQsIHVpbnQgX3JlcXVpcmVkKSB7CiAgICAgICAgcmVxdWlyZSAob3duZXJDb3VudCA8PSBNQVhfT1dORVJfQ09VTlQgJiYgX3JlcXVpcmVkIDw9IG93bmVyQ291bnQgJiYgX3JlcXVpcmVkICE9IDAgJiYgb3duZXJDb3VudCAhPSAwKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vLyBAZGV2IEZhbGxiYWNrIGZ1bmN0aW9uIGFsbG93cyB0byBkZXBvc2l0IGV0aGVyLgogICAgZnVuY3Rpb24oKQogICAgICAgIHBheWFibGUKICAgIHsKICAgICAgICBpZiAobXNnLnZhbHVlID4gMCkKICAgICAgICAgICAgRGVwb3NpdChtc2cuc2VuZGVyLCBtc2cudmFsdWUpOwogICAgfQoKICAgIC8qKgogICAgKiBQdWJsaWMgZnVuY3Rpb25zCiAgICAqIAogICAgKiovCiAgICAvLy8gQGRldiBDb250cmFjdCBjb25zdHJ1Y3RvciBzZXRzIGluaXRpYWwgb3duZXJzIGFuZCByZXF1aXJlZCBudW1iZXIgb2YgY29uZmlybWF0aW9ucy4KICAgIC8vLyBAcGFyYW0gX293bmVycyBMaXN0IG9mIGluaXRpYWwgb3duZXJzLgogICAgLy8vIEBwYXJhbSBfcmVxdWlyZWQgTnVtYmVyIG9mIHJlcXVpcmVkIGNvbmZpcm1hdGlvbnMuCiAgICBmdW5jdGlvbiBjb25zdHJ1Y3RvcihhZGRyZXNzW10gX293bmVycywgdWludCBfcmVxdWlyZWQpCiAgICAgICAgcHVibGljCiAgICAgICAgdmFsaWRSZXF1aXJlbWVudChfb3duZXJzLmxlbmd0aCwgX3JlcXVpcmVkKQogICAgewogICAgICAgIHJlcXVpcmUob3duZXJzLmxlbmd0aCA9PSAwICYmIHJlcXVpcmVkID09IDApOwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IF9vd25lcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgcmVxdWlyZSghaXNPd25lcltfb3duZXJzW2ldXSAmJiBfb3duZXJzW2ldICE9IDApOwogICAgICAgICAgICBpc093bmVyW19vd25lcnNbaV1dID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgb3duZXJzID0gX293bmVyczsKICAgICAgICByZXF1aXJlZCA9IF9yZXF1aXJlZDsKICAgIH0KCiAgICAvKioKICAgICogQG5vdGljZSBkZXBvc2l0IGEgRVJDMjAgdG9rZW4uIFRoZSBhbW91bnQgb2YgZGVwb3NpdCBpcyB0aGUgYWxsb3dhbmNlIHNldCB0byB0aGlzIGNvbnRyYWN0LgogICAgKiBAcGFyYW0gX3Rva2VuIHRoZSB0b2tlbiBjb250cmFjdCBhZGRyZXNzCiAgICAqIEBwYXJhbSBfZGF0YSBtaWdodCBiZSB1c2VkIGJ5IGNoaWxkIGltcGxlbWVudGF0aW9ucwogICAgKiovIAogICAgZnVuY3Rpb24gZGVwb3NpdFRva2VuKGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZGF0YSkgCiAgICAgICAgcHVibGljIAogICAgewogICAgICAgIGFkZHJlc3Mgc2VuZGVyID0gbXNnLnNlbmRlcjsKICAgICAgICB1aW50IGFtb3VudCA9IEVSQzIwKF90b2tlbikuYWxsb3dhbmNlKHNlbmRlciwgdGhpcyk7CiAgICAgICAgZGVwb3NpdChzZW5kZXIsIGFtb3VudCwgX3Rva2VuLCBfZGF0YSk7CiAgICB9CiAgICAgICAgCiAgICAvKioKICAgICogQG5vdGljZSBkZXBvc2l0IGEgRVJDMjAgdG9rZW4uIFRoZSBhbW91bnQgb2YgZGVwb3NpdCBpcyB0aGUgYWxsb3dhbmNlIHNldCB0byB0aGlzIGNvbnRyYWN0LgogICAgKiBAcGFyYW0gX3Rva2VuIHRoZSB0b2tlbiBjb250cmFjdCBhZGRyZXNzCiAgICAqIEBwYXJhbSBfZGF0YSBtaWdodCBiZSB1c2VkIGJ5IGNoaWxkIGltcGxlbWVudGF0aW9ucwogICAgKiovIAogICAgZnVuY3Rpb24gZGVwb3NpdChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF9hbW91bnQsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZGF0YSkgCiAgICAgICAgcHVibGljIAogICAgewogICAgICAgIGlmIChfZnJvbSA9PSBhZGRyZXNzKHRoaXMpKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdWludCBfbm9uY2UgPSBub25jZTsKICAgICAgICBib29sIHJlc3VsdCA9IEVSQzIwKF90b2tlbikudHJhbnNmZXJGcm9tKF9mcm9tLCB0aGlzLCBfYW1vdW50KTsKICAgICAgICBhc3NlcnQocmVzdWx0KTsKICAgICAgICAvL0VSQzIzIG5vdCBleGVjdXRlZCBfZGVwb3NpdGVkIHRva2VuRmFsbGJhY2sgYnkKICAgICAgICBpZiAobm9uY2UgPT0gX25vbmNlKSB7CiAgICAgICAgICAgIF9kZXBvc2l0ZWQoX2Zyb20sIF9hbW91bnQsIF90b2tlbiwgX2RhdGEpOwogICAgICAgIH0KICAgIH0KICAgIC8qKgogICAgKiBAbm90aWNlIHdhdGNoZXMgZm9yIGJhbGFuY2UgaW4gYSB0b2tlbiBjb250cmFjdAogICAgKiBAcGFyYW0gX3Rva2VuQWRkciB0aGUgdG9rZW4gY29udHJhY3QgYWRkcmVzcwogICAgKiovICAgCiAgICBmdW5jdGlvbiB3YXRjaChhZGRyZXNzIF90b2tlbkFkZHIpIAogICAgICAgIG93bmVyRXhpc3RzKG1zZy5zZW5kZXIpIAogICAgewogICAgICAgIHVpbnQgb2xkQmFsID0gdG9rZW5CYWxhbmNlc1tfdG9rZW5BZGRyXTsKICAgICAgICB1aW50IG5ld0JhbCA9IEVSQzIwKF90b2tlbkFkZHIpLmJhbGFuY2VPZih0aGlzKTsKICAgICAgICBpZiAobmV3QmFsID4gb2xkQmFsKSB7CiAgICAgICAgICAgIF9kZXBvc2l0ZWQoMHgwLCBuZXdCYWwtb2xkQmFsLCBfdG9rZW5BZGRyLCBuZXcgYnl0ZXMoMCkpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBzZXRNeVRva2VuTGlzdChhZGRyZXNzW10gX3Rva2VuTGlzdCkgCiAgICAgICAgcHVibGljCiAgICB7CiAgICAgICAgdXNlckxpc3RbbXNnLnNlbmRlcl0gPSBfdG9rZW5MaXN0OwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFRva2VuTGlzdChhZGRyZXNzW10gX3Rva2VuTGlzdCkgCiAgICAgICAgb25seVdhbGxldAogICAgewogICAgICAgIHRva2VucyA9IF90b2tlbkxpc3Q7CiAgICB9CiAgICAKICAgIC8qKgogICAgKiBAbm90aWNlIEVSQzIzIFRva2VuIGZhbGxiYWNrCiAgICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIGluY29taW5nIHRva2VuCiAgICAqIEBwYXJhbSBfYW1vdW50IGluY29taW5nIGFtb3VudAogICAgKiovICAgIAogICAgZnVuY3Rpb24gdG9rZW5GYWxsYmFjayhhZGRyZXNzIF9mcm9tLCB1aW50IF9hbW91bnQsIGJ5dGVzIF9kYXRhKSAKICAgICAgICBwdWJsaWMgCiAgICB7CiAgICAgICAgX2RlcG9zaXRlZChfZnJvbSwgX2Ftb3VudCwgbXNnLnNlbmRlciwgX2RhdGEpOwogICAgfQogICAgICAgIAogICAgLyoqIAogICAgKiBAbm90aWNlIENhbGxlZCBNaW5pTWVUb2tlbiBhcHByb3Zlc0FuZENhbGwgdG8gdGhpcyBjb250cmFjdCwgY2FsbHMgZGVwb3NpdC4KICAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgaW5jb21pbmcgdG9rZW4KICAgICogQHBhcmFtIF9hbW91bnQgaW5jb21pbmcgYW1vdW50CiAgICAqIEBwYXJhbSBfdG9rZW4gdGhlIHRva2VuIGNvbnRyYWN0IGFkZHJlc3MKICAgICogQHBhcmFtIF9kYXRhIChtaWdodCBiZSB1c2VkIGJ5IGNoaWxkIGNsYXNzZXMpCiAgICAqLyAKICAgIGZ1bmN0aW9uIHJlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF9hbW91bnQsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZGF0YSkgewogICAgICAgIGRlcG9zaXQoX2Zyb20sIF9hbW91bnQsIF90b2tlbiwgX2RhdGEpOwogICAgfQogICAgCgogICAgLy8vIEBkZXYgQWxsb3dzIHRvIGFkZCBhIG5ldyBvd25lci4gVHJhbnNhY3Rpb24gaGFzIHRvIGJlIHNlbnQgYnkgd2FsbGV0LgogICAgLy8vIEBwYXJhbSBvd25lciBBZGRyZXNzIG9mIG5ldyBvd25lci4KICAgIGZ1bmN0aW9uIGFkZE93bmVyKGFkZHJlc3Mgb3duZXIpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seVdhbGxldAogICAgICAgIG93bmVyRG9lc05vdEV4aXN0KG93bmVyKQogICAgICAgIG5vdE51bGwob3duZXIpCiAgICAgICAgdmFsaWRSZXF1aXJlbWVudChvd25lcnMubGVuZ3RoICsgMSwgcmVxdWlyZWQpCiAgICB7CiAgICAgICAgaXNPd25lcltvd25lcl0gPSB0cnVlOwogICAgICAgIG93bmVycy5wdXNoKG93bmVyKTsKICAgICAgICBPd25lckFkZGl0aW9uKG93bmVyKTsKICAgIH0KCiAgICAvLy8gQGRldiBBbGxvd3MgdG8gcmVtb3ZlIGFuIG93bmVyLiBUcmFuc2FjdGlvbiBoYXMgdG8gYmUgc2VudCBieSB3YWxsZXQuCiAgICAvLy8gQHBhcmFtIG93bmVyIEFkZHJlc3Mgb2Ygb3duZXIuCiAgICBmdW5jdGlvbiByZW1vdmVPd25lcihhZGRyZXNzIG93bmVyKQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlXYWxsZXQKICAgICAgICBvd25lckV4aXN0cyhvd25lcikKICAgIHsKICAgICAgICBpc093bmVyW293bmVyXSA9IGZhbHNlOwogICAgICAgIHVpbnQgX2xlbiA9IG93bmVycy5sZW5ndGggLSAxOwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IF9sZW47IGkrKykgewogICAgICAgICAgICBpZiAob3duZXJzW2ldID09IG93bmVyKSB7CiAgICAgICAgICAgICAgICBvd25lcnNbaV0gPSBvd25lcnNbb3duZXJzLmxlbmd0aCAtIDFdOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgb3duZXJzLmxlbmd0aCAtPSAxOwogICAgICAgIGlmIChyZXF1aXJlZCA+IG93bmVycy5sZW5ndGgpCiAgICAgICAgICAgIGNoYW5nZVJlcXVpcmVtZW50KG93bmVycy5sZW5ndGgpOwogICAgICAgIE93bmVyUmVtb3ZhbChvd25lcik7CiAgICB9CgogICAgLy8vIEBkZXYgQWxsb3dzIHRvIHJlcGxhY2UgYW4gb3duZXIgd2l0aCBhIG5ldyBvd25lci4gVHJhbnNhY3Rpb24gaGFzIHRvIGJlIHNlbnQgYnkgd2FsbGV0LgogICAgLy8vIEBwYXJhbSBvd25lciBBZGRyZXNzIG9mIG93bmVyIHRvIGJlIHJlcGxhY2VkLgogICAgLy8vIEBwYXJhbSBvd25lciBBZGRyZXNzIG9mIG5ldyBvd25lci4KICAgIGZ1bmN0aW9uIHJlcGxhY2VPd25lcihhZGRyZXNzIG93bmVyLCBhZGRyZXNzIG5ld093bmVyKQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlXYWxsZXQKICAgICAgICBvd25lckV4aXN0cyhvd25lcikKICAgICAgICBvd25lckRvZXNOb3RFeGlzdChuZXdPd25lcikKICAgIHsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBvd25lcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKG93bmVyc1tpXSA9PSBvd25lcikgewogICAgICAgICAgICAgICAgb3duZXJzW2ldID0gbmV3T3duZXI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpc093bmVyW293bmVyXSA9IGZhbHNlOwogICAgICAgIGlzT3duZXJbbmV3T3duZXJdID0gdHJ1ZTsKICAgICAgICBPd25lclJlbW92YWwob3duZXIpOwogICAgICAgIE93bmVyQWRkaXRpb24obmV3T3duZXIpOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IGdpdmVzIGZ1bGwgb3duZXJzaGlwIG9mIHRoaXMgd2FsbGV0IHRvIGBfZGVzdGAgcmVtb3Zpbmcgb2xkZXIgb3duZXJzIGZyb20gd2FsbGV0CiAgICAqIEBwYXJhbSBfZGVzdCB0aGUgYWRkcmVzcyBvZiBuZXcgY29udHJvbGxlcgogICAgKiovICAgIAogICAgZnVuY3Rpb24gcmVsZWFzZVdhbGxldChhZGRyZXNzIF9kZXN0KQogICAgICAgIHB1YmxpYwogICAgICAgIG5vdE51bGwoX2Rlc3QpCiAgICAgICAgb3duZXJEb2VzTm90RXhpc3QoX2Rlc3QpCiAgICAgICAgb25seVdhbGxldAogICAgewogICAgICAgIGFkZHJlc3NbXSBtZW1vcnkgX293bmVycyA9IG93bmVyczsKICAgICAgICB1aW50IG51bU93bmVycyA9IF9vd25lcnMubGVuZ3RoOwogICAgICAgIGFkZE93bmVyKF9kZXN0KTsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBudW1Pd25lcnM7IGkrKykgewogICAgICAgICAgICByZW1vdmVPd25lcihfb3duZXJzW2ldKTsKICAgICAgICB9CiAgICB9CgogICAgLy8vIEBkZXYgQWxsb3dzIHRvIGNoYW5nZSB0aGUgbnVtYmVyIG9mIHJlcXVpcmVkIGNvbmZpcm1hdGlvbnMuIFRyYW5zYWN0aW9uIGhhcyB0byBiZSBzZW50IGJ5IHdhbGxldC4KICAgIC8vLyBAcGFyYW0gX3JlcXVpcmVkIE51bWJlciBvZiByZXF1aXJlZCBjb25maXJtYXRpb25zLgogICAgZnVuY3Rpb24gY2hhbmdlUmVxdWlyZW1lbnQodWludCBfcmVxdWlyZWQpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seVdhbGxldAogICAgICAgIHZhbGlkUmVxdWlyZW1lbnQob3duZXJzLmxlbmd0aCwgX3JlcXVpcmVkKQogICAgewogICAgICAgIHJlcXVpcmVkID0gX3JlcXVpcmVkOwogICAgICAgIFJlcXVpcmVtZW50Q2hhbmdlKF9yZXF1aXJlZCk7CiAgICB9CgogICAgLy8vIEBkZXYgQWxsb3dzIGFuIG93bmVyIHRvIHN1Ym1pdCBhbmQgY29uZmlybSBhIHRyYW5zYWN0aW9uLgogICAgLy8vIEBwYXJhbSBkZXN0aW5hdGlvbiBUcmFuc2FjdGlvbiB0YXJnZXQgYWRkcmVzcy4KICAgIC8vLyBAcGFyYW0gdmFsdWUgVHJhbnNhY3Rpb24gZXRoZXIgdmFsdWUuCiAgICAvLy8gQHBhcmFtIGRhdGEgVHJhbnNhY3Rpb24gZGF0YSBwYXlsb2FkLgogICAgLy8vIEByZXR1cm4gUmV0dXJucyB0cmFuc2FjdGlvbiBJRC4KICAgIGZ1bmN0aW9uIHN1Ym1pdFRyYW5zYWN0aW9uKGFkZHJlc3MgZGVzdGluYXRpb24sIHVpbnQgdmFsdWUsIGJ5dGVzIGRhdGEpCiAgICAgICAgcHVibGljCiAgICAgICAgcmV0dXJucyAodWludCB0cmFuc2FjdGlvbklkKQogICAgewogICAgICAgIHRyYW5zYWN0aW9uSWQgPSBhZGRUcmFuc2FjdGlvbihkZXN0aW5hdGlvbiwgdmFsdWUsIGRhdGEpOwogICAgICAgIGNvbmZpcm1UcmFuc2FjdGlvbih0cmFuc2FjdGlvbklkKTsKICAgIH0KCiAgICAvLy8gQGRldiBBbGxvd3MgYW4gb3duZXIgdG8gY29uZmlybSBhIHRyYW5zYWN0aW9uLgogICAgLy8vIEBwYXJhbSB0cmFuc2FjdGlvbklkIFRyYW5zYWN0aW9uIElELgogICAgZnVuY3Rpb24gY29uZmlybVRyYW5zYWN0aW9uKHVpbnQgdHJhbnNhY3Rpb25JZCkKICAgICAgICBwdWJsaWMKICAgICAgICBvd25lckV4aXN0cyhtc2cuc2VuZGVyKQogICAgICAgIHRyYW5zYWN0aW9uRXhpc3RzKHRyYW5zYWN0aW9uSWQpCiAgICAgICAgbm90Q29uZmlybWVkKHRyYW5zYWN0aW9uSWQsIG1zZy5zZW5kZXIpCiAgICB7CiAgICAgICAgY29uZmlybWF0aW9uc1t0cmFuc2FjdGlvbklkXVttc2cuc2VuZGVyXSA9IHRydWU7CiAgICAgICAgQ29uZmlybWF0aW9uKG1zZy5zZW5kZXIsIHRyYW5zYWN0aW9uSWQpOwogICAgICAgIGV4ZWN1dGVUcmFuc2FjdGlvbih0cmFuc2FjdGlvbklkKTsKICAgIH0KCiAgICAvLy8gQGRldiBBbGxvd3MgYW4gb3duZXIgdG8gcmV2b2tlIGEgY29uZmlybWF0aW9uIGZvciBhIHRyYW5zYWN0aW9uLgogICAgLy8vIEBwYXJhbSB0cmFuc2FjdGlvbklkIFRyYW5zYWN0aW9uIElELgogICAgZnVuY3Rpb24gcmV2b2tlQ29uZmlybWF0aW9uKHVpbnQgdHJhbnNhY3Rpb25JZCkKICAgICAgICBwdWJsaWMKICAgICAgICBvd25lckV4aXN0cyhtc2cuc2VuZGVyKQogICAgICAgIGNvbmZpcm1lZCh0cmFuc2FjdGlvbklkLCBtc2cuc2VuZGVyKQogICAgICAgIG5vdEV4ZWN1dGVkKHRyYW5zYWN0aW9uSWQpCiAgICB7CiAgICAgICAgY29uZmlybWF0aW9uc1t0cmFuc2FjdGlvbklkXVttc2cuc2VuZGVyXSA9IGZhbHNlOwogICAgICAgIFJldm9jYXRpb24obXNnLnNlbmRlciwgdHJhbnNhY3Rpb25JZCk7CiAgICB9CgogICAgLy8vIEBkZXYgQWxsb3dzIGFueW9uZSB0byBleGVjdXRlIGEgY29uZmlybWVkIHRyYW5zYWN0aW9uLgogICAgLy8vIEBwYXJhbSB0cmFuc2FjdGlvbklkIFRyYW5zYWN0aW9uIElELgogICAgZnVuY3Rpb24gZXhlY3V0ZVRyYW5zYWN0aW9uKHVpbnQgdHJhbnNhY3Rpb25JZCkKICAgICAgICBwdWJsaWMKICAgICAgICBub3RFeGVjdXRlZCh0cmFuc2FjdGlvbklkKQogICAgewogICAgICAgIGlmIChpc0NvbmZpcm1lZCh0cmFuc2FjdGlvbklkKSkgewogICAgICAgICAgICBUcmFuc2FjdGlvbiBzdG9yYWdlIHR4eCA9IHRyYW5zYWN0aW9uc1t0cmFuc2FjdGlvbklkXTsKICAgICAgICAgICAgdHh4LmV4ZWN1dGVkID0gdHJ1ZTsKICAgICAgICAgICAgaWYgKHR4eC5kZXN0aW5hdGlvbi5jYWxsLnZhbHVlKHR4eC52YWx1ZSkodHh4LmRhdGEpKSB7CiAgICAgICAgICAgICAgICBFeGVjdXRpb24odHJhbnNhY3Rpb25JZCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBFeGVjdXRpb25GYWlsdXJlKHRyYW5zYWN0aW9uSWQpOwogICAgICAgICAgICAgICAgdHh4LmV4ZWN1dGVkID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgd2l0aGRyYXcgYWxsIHJlY29nbml6ZWQgdG9rZW5zIGJhbGFuY2VzIGFuZCBldGhlciB0byBgX2Rlc3RgCiAgICAqIEBwYXJhbSBfZGVzdCB0aGUgYWRkcmVzcyBvZiByZWNlaXZlcgogICAgKiovICAgIAogICAgZnVuY3Rpb24gd2l0aGRyYXdFdmVyeXRoaW5nKGFkZHJlc3MgX2Rlc3QpIAogICAgICAgIHB1YmxpYwogICAgICAgIG5vdE51bGwoX2Rlc3QpCiAgICAgICAgb25seVdhbGxldAogICAgewogICAgICAgIHdpdGhkcmF3QWxsVG9rZW5zKF9kZXN0KTsKICAgICAgICBfZGVzdC50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IHdpdGhkcmF3IGFsbCByZWNvZ25pemVkIHRva2VucyBiYWxhbmNlcyB0byBgX2Rlc3RgCiAgICAqIEBwYXJhbSBfZGVzdCB0aGUgYWRkcmVzcyBvZiByZWNlaXZlcgogICAgKiovICAgIAogICAgZnVuY3Rpb24gd2l0aGRyYXdBbGxUb2tlbnMoYWRkcmVzcyBfZGVzdCkgCiAgICAgICAgcHVibGljIAogICAgICAgIG5vdE51bGwoX2Rlc3QpCiAgICAgICAgb25seVdhbGxldAogICAgewogICAgICAgIGFkZHJlc3NbXSBtZW1vcnkgX3Rva2VuTGlzdDsKICAgICAgICBpZiAodXNlckxpc3RbX2Rlc3RdLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgX3Rva2VuTGlzdCA9IHVzZXJMaXN0W19kZXN0XTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdG9rZW5MaXN0ID0gdG9rZW5zOwogICAgICAgIH0KICAgICAgICB1aW50IGxlbiA9IF90b2tlbkxpc3QubGVuZ3RoOwogICAgICAgIGZvciAodWludCBpID0gMDtpIDwgbGVuOyBpKyspIHsKICAgICAgICAgICAgYWRkcmVzcyBfdG9rZW5BZGRyID0gX3Rva2VuTGlzdFtpXTsKICAgICAgICAgICAgdWludCBfYW1vdW50ID0gdG9rZW5CYWxhbmNlc1tfdG9rZW5BZGRyXTsKICAgICAgICAgICAgaWYgKF9hbW91bnQgPiAwKSB7CiAgICAgICAgICAgICAgICBkZWxldGUgdG9rZW5CYWxhbmNlc1tfdG9rZW5BZGRyXTsKICAgICAgICAgICAgICAgIEVSQzIwKF90b2tlbkFkZHIpLnRyYW5zZmVyKF9kZXN0LCBfYW1vdW50KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICogQGRldiB3aXRoZHJhdyBgX3Rva2VuQWRkcmAgYF9hbW91bnRgIHRvIGBfZGVzdGAKICAgICogQHBhcmFtIF90b2tlbkFkZHIgdGhlIGFkZHJlc3Mgb2YgdGhlIHRva2VuCiAgICAqIEBwYXJhbSBfZGVzdCB0aGUgYWRkcmVzcyBvZiByZWNlaXZlcgogICAgKiBAcGFyYW0gX2Ftb3VudCB0aGUgbnVtYmVyIG9mIHRva2VucyB0byBzZW5kCiAgICAqKi8KICAgIGZ1bmN0aW9uIHdpdGhkcmF3VG9rZW4oYWRkcmVzcyBfdG9rZW5BZGRyLCBhZGRyZXNzIF9kZXN0LCB1aW50IF9hbW91bnQpCiAgICAgICAgcHVibGljCiAgICAgICAgbm90TnVsbChfZGVzdCkKICAgICAgICBvbmx5V2FsbGV0IAogICAgewogICAgICAgIHJlcXVpcmUoX2Ftb3VudCA+IDApOwogICAgICAgIHVpbnQgX2JhbGFuY2UgPSB0b2tlbkJhbGFuY2VzW190b2tlbkFkZHJdOwogICAgICAgIHJlcXVpcmUoX2Ftb3VudCA8PSBfYmFsYW5jZSk7CiAgICAgICAgdG9rZW5CYWxhbmNlc1tfdG9rZW5BZGRyXSA9IF9iYWxhbmNlIC0gX2Ftb3VudDsKICAgICAgICBib29sIHJlc3VsdCA9IEVSQzIwKF90b2tlbkFkZHIpLnRyYW5zZmVyKF9kZXN0LCBfYW1vdW50KTsKICAgICAgICBhc3NlcnQocmVzdWx0KTsKICAgIH0KCiAgICAvLy8gQGRldiBSZXR1cm5zIHRoZSBjb25maXJtYXRpb24gc3RhdHVzIG9mIGEgdHJhbnNhY3Rpb24uCiAgICAvLy8gQHBhcmFtIHRyYW5zYWN0aW9uSWQgVHJhbnNhY3Rpb24gSUQuCiAgICAvLy8gQHJldHVybiBDb25maXJtYXRpb24gc3RhdHVzLgogICAgZnVuY3Rpb24gaXNDb25maXJtZWQodWludCB0cmFuc2FjdGlvbklkKQogICAgICAgIHB1YmxpYwogICAgICAgIGNvbnN0YW50CiAgICAgICAgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICB1aW50IGNvdW50ID0gMDsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBvd25lcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGNvbmZpcm1hdGlvbnNbdHJhbnNhY3Rpb25JZF1bb3duZXJzW2ldXSkKICAgICAgICAgICAgICAgIGNvdW50ICs9IDE7CiAgICAgICAgICAgIGlmIChjb3VudCA9PSByZXF1aXJlZCkKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0KCiAgICAvKgogICAgKiBJbnRlcm5hbCBmdW5jdGlvbnMKICAgICovCiAgICAvLy8gQGRldiBBZGRzIGEgbmV3IHRyYW5zYWN0aW9uIHRvIHRoZSB0cmFuc2FjdGlvbiBtYXBwaW5nLCBpZiB0cmFuc2FjdGlvbiBkb2VzIG5vdCBleGlzdCB5ZXQuCiAgICAvLy8gQHBhcmFtIGRlc3RpbmF0aW9uIFRyYW5zYWN0aW9uIHRhcmdldCBhZGRyZXNzLgogICAgLy8vIEBwYXJhbSB2YWx1ZSBUcmFuc2FjdGlvbiBldGhlciB2YWx1ZS4KICAgIC8vLyBAcGFyYW0gZGF0YSBUcmFuc2FjdGlvbiBkYXRhIHBheWxvYWQuCiAgICAvLy8gQHJldHVybiBSZXR1cm5zIHRyYW5zYWN0aW9uIElELgogICAgZnVuY3Rpb24gYWRkVHJhbnNhY3Rpb24oYWRkcmVzcyBkZXN0aW5hdGlvbiwgdWludCB2YWx1ZSwgYnl0ZXMgZGF0YSkKICAgICAgICBpbnRlcm5hbAogICAgICAgIG5vdE51bGwoZGVzdGluYXRpb24pCiAgICAgICAgcmV0dXJucyAodWludCB0cmFuc2FjdGlvbklkKQogICAgewogICAgICAgIHRyYW5zYWN0aW9uSWQgPSB0cmFuc2FjdGlvbkNvdW50OwogICAgICAgIHRyYW5zYWN0aW9uc1t0cmFuc2FjdGlvbklkXSA9IFRyYW5zYWN0aW9uKHsKICAgICAgICAgICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uLAogICAgICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgIGV4ZWN1dGVkOiBmYWxzZQogICAgICAgIH0pOwogICAgICAgIHRyYW5zYWN0aW9uQ291bnQgKz0gMTsKICAgICAgICBTdWJtaXNzaW9uKHRyYW5zYWN0aW9uSWQpOwogICAgfQogICAgCiAgICAvKioKICAgICogQGRldiByZWdpc3RlciB0aGUgZGVwb3NpdAogICAgKiovCiAgICBmdW5jdGlvbiBfZGVwb3NpdGVkKGFkZHJlc3MgX2Zyb20sICB1aW50IF9hbW91bnQsIGFkZHJlc3MgX3Rva2VuQWRkciwgYnl0ZXMpIAogICAgICAgIGludGVybmFsIAogICAgewogICAgICAgIFRva2VuRGVwb3NpdChfdG9rZW5BZGRyLF9mcm9tLF9hbW91bnQpOwogICAgICAgIG5vbmNlKys7CiAgICAgICAgaWYgKHRva2VuQmFsYW5jZXNbX3Rva2VuQWRkcl0gPT0gMCkgewogICAgICAgICAgICB0b2tlbnMucHVzaChfdG9rZW5BZGRyKTsgIAogICAgICAgICAgICB0b2tlbkJhbGFuY2VzW190b2tlbkFkZHJdID0gRVJDMjAoX3Rva2VuQWRkcikuYmFsYW5jZU9mKHRoaXMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRva2VuQmFsYW5jZXNbX3Rva2VuQWRkcl0gKz0gX2Ftb3VudDsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8qCiAgICAqIFdlYjMgY2FsbCBmdW5jdGlvbnMKICAgICovCiAgICAvLy8gQGRldiBSZXR1cm5zIG51bWJlciBvZiBjb25maXJtYXRpb25zIG9mIGEgdHJhbnNhY3Rpb24uCiAgICAvLy8gQHBhcmFtIHRyYW5zYWN0aW9uSWQgVHJhbnNhY3Rpb24gSUQuCiAgICAvLy8gQHJldHVybiBOdW1iZXIgb2YgY29uZmlybWF0aW9ucy4KICAgIGZ1bmN0aW9uIGdldENvbmZpcm1hdGlvbkNvdW50KHVpbnQgdHJhbnNhY3Rpb25JZCkKICAgICAgICBwdWJsaWMKICAgICAgICBjb25zdGFudAogICAgICAgIHJldHVybnMgKHVpbnQgY291bnQpCiAgICB7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgb3duZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChjb25maXJtYXRpb25zW3RyYW5zYWN0aW9uSWRdW293bmVyc1tpXV0pCiAgICAgICAgICAgICAgICBjb3VudCArPSAxOwogICAgICAgIH0KICAgIH0KCiAgICAvLy8gQGRldiBSZXR1cm5zIHRvdGFsIG51bWJlciBvZiB0cmFuc2FjdGlvbnMgYWZ0ZXIgZmlsdGVycyBhcmUgYXBwbGllZC4KICAgIC8vLyBAcGFyYW0gcGVuZGluZyBJbmNsdWRlIHBlbmRpbmcgdHJhbnNhY3Rpb25zLgogICAgLy8vIEBwYXJhbSBleGVjdXRlZCBJbmNsdWRlIGV4ZWN1dGVkIHRyYW5zYWN0aW9ucy4KICAgIC8vLyBAcmV0dXJuIFRvdGFsIG51bWJlciBvZiB0cmFuc2FjdGlvbnMgYWZ0ZXIgZmlsdGVycyBhcmUgYXBwbGllZC4KICAgIGZ1bmN0aW9uIGdldFRyYW5zYWN0aW9uQ291bnQoYm9vbCBwZW5kaW5nLCBib29sIGV4ZWN1dGVkKQogICAgICAgIHB1YmxpYwogICAgICAgIGNvbnN0YW50CiAgICAgICAgcmV0dXJucyAodWludCBjb3VudCkKICAgIHsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCB0cmFuc2FjdGlvbkNvdW50OyBpKyspIHsKICAgICAgICAgICAgaWYgKHBlbmRpbmcgJiYgIXRyYW5zYWN0aW9uc1tpXS5leGVjdXRlZCB8fCBleGVjdXRlZCAmJiB0cmFuc2FjdGlvbnNbaV0uZXhlY3V0ZWQpCiAgICAgICAgICAgICAgICBjb3VudCArPSAxOwogICAgICAgIH0KICAgIH0KCiAgICAvLy8gQGRldiBSZXR1cm5zIGxpc3Qgb2Ygb3duZXJzLgogICAgLy8vIEByZXR1cm4gTGlzdCBvZiBvd25lciBhZGRyZXNzZXMuCiAgICBmdW5jdGlvbiBnZXRPd25lcnMoKQogICAgICAgIHB1YmxpYwogICAgICAgIGNvbnN0YW50CiAgICAgICAgcmV0dXJucyAoYWRkcmVzc1tdKQogICAgewogICAgICAgIHJldHVybiBvd25lcnM7CiAgICB9CgogICAgLy8vIEBkZXYgUmV0dXJucyBsaXN0IG9mIHRva2Vucy4KICAgIC8vLyBAcmV0dXJuIExpc3Qgb2YgdG9rZW4gYWRkcmVzc2VzLgogICAgZnVuY3Rpb24gZ2V0VG9rZW5MaXN0KCkKICAgICAgICBwdWJsaWMKICAgICAgICBjb25zdGFudAogICAgICAgIHJldHVybnMgKGFkZHJlc3NbXSkKICAgIHsKICAgICAgICByZXR1cm4gdG9rZW5zOwogICAgfQoKICAgIC8vLyBAZGV2IFJldHVybnMgYXJyYXkgd2l0aCBvd25lciBhZGRyZXNzZXMsIHdoaWNoIGNvbmZpcm1lZCB0cmFuc2FjdGlvbi4KICAgIC8vLyBAcGFyYW0gdHJhbnNhY3Rpb25JZCBUcmFuc2FjdGlvbiBJRC4KICAgIC8vLyBAcmV0dXJuIFJldHVybnMgYXJyYXkgb2Ygb3duZXIgYWRkcmVzc2VzLgogICAgZnVuY3Rpb24gZ2V0Q29uZmlybWF0aW9ucyh1aW50IHRyYW5zYWN0aW9uSWQpCiAgICAgICAgcHVibGljCiAgICAgICAgY29uc3RhbnQKICAgICAgICByZXR1cm5zIChhZGRyZXNzW10gX2NvbmZpcm1hdGlvbnMpCiAgICB7CiAgICAgICAgYWRkcmVzc1tdIG1lbW9yeSBjb25maXJtYXRpb25zVGVtcCA9IG5ldyBhZGRyZXNzW10ob3duZXJzLmxlbmd0aCk7CiAgICAgICAgdWludCBjb3VudCA9IDA7CiAgICAgICAgdWludCBpOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBvd25lcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGNvbmZpcm1hdGlvbnNbdHJhbnNhY3Rpb25JZF1bb3duZXJzW2ldXSkgewogICAgICAgICAgICAgICAgY29uZmlybWF0aW9uc1RlbXBbY291bnRdID0gb3duZXJzW2ldOwogICAgICAgICAgICAgICAgY291bnQgKz0gMTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBfY29uZmlybWF0aW9ucyA9IG5ldyBhZGRyZXNzW10oY291bnQpOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgICAgIF9jb25maXJtYXRpb25zW2ldID0gY29uZmlybWF0aW9uc1RlbXBbaV07CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBAZGV2IFJldHVybnMgbGlzdCBvZiB0cmFuc2FjdGlvbiBJRHMgaW4gZGVmaW5lZCByYW5nZS4KICAgIC8vLyBAcGFyYW0gZnJvbSBJbmRleCBzdGFydCBwb3NpdGlvbiBvZiB0cmFuc2FjdGlvbiBhcnJheS4KICAgIC8vLyBAcGFyYW0gdG8gSW5kZXggZW5kIHBvc2l0aW9uIG9mIHRyYW5zYWN0aW9uIGFycmF5LgogICAgLy8vIEBwYXJhbSBwZW5kaW5nIEluY2x1ZGUgcGVuZGluZyB0cmFuc2FjdGlvbnMuCiAgICAvLy8gQHBhcmFtIGV4ZWN1dGVkIEluY2x1ZGUgZXhlY3V0ZWQgdHJhbnNhY3Rpb25zLgogICAgLy8vIEByZXR1cm4gUmV0dXJucyBhcnJheSBvZiB0cmFuc2FjdGlvbiBJRHMuCiAgICBmdW5jdGlvbiBnZXRUcmFuc2FjdGlvbklkcyh1aW50IGZyb20sIHVpbnQgdG8sIGJvb2wgcGVuZGluZywgYm9vbCBleGVjdXRlZCkKICAgICAgICBwdWJsaWMKICAgICAgICBjb25zdGFudAogICAgICAgIHJldHVybnMgKHVpbnRbXSBfdHJhbnNhY3Rpb25JZHMpCiAgICB7CiAgICAgICAgdWludFtdIG1lbW9yeSB0cmFuc2FjdGlvbklkc1RlbXAgPSBuZXcgdWludFtdKHRyYW5zYWN0aW9uQ291bnQpOwogICAgICAgIHVpbnQgY291bnQgPSAwOwogICAgICAgIHVpbnQgaTsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdHJhbnNhY3Rpb25Db3VudDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChwZW5kaW5nICYmICF0cmFuc2FjdGlvbnNbaV0uZXhlY3V0ZWQgfHwgZXhlY3V0ZWQgJiYgdHJhbnNhY3Rpb25zW2ldLmV4ZWN1dGVkKSB7CiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbklkc1RlbXBbY291bnRdID0gaTsKICAgICAgICAgICAgICAgIGNvdW50ICs9IDE7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgX3RyYW5zYWN0aW9uSWRzID0gbmV3IHVpbnRbXSh0byAtIGZyb20pOwogICAgICAgIGZvciAoaSA9IGZyb207IGkgPCB0bzsgaSsrKSB7CiAgICAgICAgICAgIF90cmFuc2FjdGlvbklkc1tpIC0gZnJvbV0gPSB0cmFuc2FjdGlvbklkc1RlbXBbaV07CiAgICAgICAgfQogICAgfQoKfQ=='.
	

]
