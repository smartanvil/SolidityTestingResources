Class {
	#name : #SRT2e62af2ad08239c528ee7ed72914dad6a897b1fd,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT2e62af2ad08239c528ee7ed72914dad6a897b1fd >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTA7CgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CglmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKCQl1aW50MjU2IGMgPSBhICogYjsKCQlhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwoJCXJldHVybiBjOwoJfQoKCWZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewoJCXVpbnQyNTYgYyA9IGEgLyBiOwoJCXJldHVybiBjOwoJfQoKCWZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewoJCWFzc2VydChiIDw9IGEpOwoJCXJldHVybiBhIC0gYjsKCX0KCglmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKCQl1aW50MjU2IGMgPSBhICsgYjsKCQlhc3NlcnQoYyA+PSBhKTsKCQlyZXR1cm4gYzsKCX0KfQoKLyoqCiAqIEB0aXRsZSBPd25lZAogKiBAZGV2IE93bmVyIGNvbnRyYWN0IHRvIGFkZCBvd25lciBjaGVja3MKICovCmNvbnRyYWN0IE93bmVkIHsKCWFkZHJlc3MgcHVibGljIG93bmVyOwoKCWZ1bmN0aW9uIE93bmVkICgpIHsKCQlvd25lciA9IG1zZy5zZW5kZXI7CQoJfQkKCglmdW5jdGlvbiB0cmFuc2Zlck93bmVyKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewoJCW93bmVyID0gbmV3T3duZXI7Cgl9CgoJbW9kaWZpZXIgb25seU93bmVyIHsKCQlyZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoJCV87Cgl9Cn0KCi8qKgogKiBAdGl0bGUgUGF5bG9hZAogKiBAZGV2IEZpeCBmb3IgdGhlIEVSQzIwIHNob3J0IGFkZHJlc3MgYXR0YWNrLgogKi8KY29udHJhY3QgUGF5bG9hZCB7Cgltb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludCBzaXplKSB7CgkJLy8gcmVxdWlyZShtc2cuZGF0YS5sZW5ndGggPj0gc2l6ZSArIDQpOwoJCV87CiAgCX0KfQoKY29udHJhY3QgQ3J5cHRvVG9rZW5Db25zdGFudHMgewoJdWludDI1NiBjb25zdGFudCBQUkVfSUNPX0FMTE9DQVRJT04gPSA2OwoJdWludDI1NiBjb25zdGFudCBJQ09fQUxMT0NBVElPTiA9IDc0OwoJdWludDI1NiBjb25zdGFudCBURUFNX0FMTE9DQVRJT04gPSAxMDsKCXVpbnQyNTYgY29uc3RhbnQgUkVTRVJWRURfQUxMT0NBVElPTiA9IDEwOwoKCXVpbnQyNTYgY29uc3RhbnQgUFJFX0lDT19CT05VUyA9IDUwOwoJdWludDI1NiBjb25zdGFudCBJQ09fUEhBU0VfMDFfQk9OVVMgPSAyMDsKCXVpbnQyNTYgY29uc3RhbnQgSUNPX1BIQVNFXzAyX0JPTlVTID0gMTA7Cgl1aW50MjU2IGNvbnN0YW50IElDT19QSEFTRV8wM19CT05VUyA9IDU7Cgl1aW50MjU2IGNvbnN0YW50IElDT19QSEFTRV8wNF9CT05VUyA9IDA7CgoJdWludDI1NiBjb25zdGFudCBCVVlfUkFURSA9IDE1MDA7IAoJdWludDI1NiBjb25zdGFudCBCVVlfUFJJQ0UgPSAoMTAgKiogMTgpIC8gQlVZX1JBVEU7CgoJLy8gMSBFVEggPSA/IGluRVRICgl1aW50MjU2IGNvbnN0YW50IFBSRV9JQ09fUkFURSA9IDIyNTA7Cgl1aW50MjU2IGNvbnN0YW50IElDT19QSEFTRV8wMV9SQVRFID0gMTgwMDsKCXVpbnQyNTYgY29uc3RhbnQgSUNPX1BIQVNFXzAyX1JBVEUgPSAxNjUwOwoJdWludDI1NiBjb25zdGFudCBJQ09fUEhBU0VfMDNfUkFURSA9IDE1NzU7Cgl1aW50MjU2IGNvbnN0YW50IElDT19QSEFTRV8wNF9SQVRFID0gMTUwMDsKCgkvLyAxIGluRVRIID0gPyBFVEgKCXVpbnQyNTYgY29uc3RhbnQgUFJFX0lDT19CVVlfUFJJQ0UgPSB1aW50MjU2KCgxMCAqKiAxOCkgLyAyMjUwKTsKCXVpbnQyNTYgY29uc3RhbnQgSUNPX1BIQVNFXzAxX0JVWV9QUklDRSA9IHVpbnQyNTYoKDEwICoqIDE4KSAvIDE4MDApOwoJdWludDI1NiBjb25zdGFudCBJQ09fUEhBU0VfMDJfQlVZX1BSSUNFID0gdWludDI1NigoMTAgKiogMTgpIC8gMTY1MCk7Cgl1aW50MjU2IGNvbnN0YW50IElDT19QSEFTRV8wM19CVVlfUFJJQ0UgPSB1aW50MjU2KCgxMCAqKiAxOCkgLyAxNTc1KTsKCXVpbnQyNTYgY29uc3RhbnQgSUNPX1BIQVNFXzA0X0JVWV9QUklDRSA9IHVpbnQyNTYoKDEwICoqIDE4KSAvIDE1MDApOwp9CgovKioKICogQHRpdGxlIENyeXB0b1Rva2VuCiAqIEBkZXYgQ3J5cHRvVG9rZW4gaW1wbGVtZW50YXRpb24KICovCmNvbnRyYWN0IENyeXB0b1Rva2VuIGlzIE93bmVkLCBQYXlsb2FkLCBDcnlwdG9Ub2tlbkNvbnN0YW50cyB7Cgl1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCglzdHJpbmcgcHVibGljIG5hbWU7CglzdHJpbmcgcHVibGljIHN5bWJvbDsKCXVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKCWFkZHJlc3MgcHVibGljIHdhbGxldDsKCgl1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCXVpbnQyNTYgcHVibGljIHRyYW5zU3VwcGx5OwoJdWludDI1NiBwdWJsaWMgYXZhaWxTdXBwbHk7CgoJdWludDI1NiBwdWJsaWMgdG90YWxDb250cmlidXRvcnM7Cgl1aW50MjU2IHB1YmxpYyB0b3RhbENvbnRyaWJ1dGlvbjsKCgltYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIGRldmVsb3BlcnM7CgltYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGNvbnRyaWJ1dGlvbnM7CgltYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoJbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKCW1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgZnJlZXplczsKCglzdHJ1Y3QgU3BlY2lhbFByaWNlIHsKICAgICAgICB1aW50MjU2IGJ1eVByaWNlOwogICAgICAgIHVpbnQyNTYgc2VsbFByaWNlOwogICAgICAgIGJvb2wgZXhpc3RzOwogICAgfQoKCW1hcHBpbmcgKGFkZHJlc3MgPT4gU3BlY2lhbFByaWNlKSBzcGVjaWFsUHJpY2VzOwoKCXVpbnQyNTYgcHVibGljIGJ1eVByaWNlOwoJdWludDI1NiBwdWJsaWMgc2VsbFByaWNlOwoKCWJvb2wgcHVibGljIHRva2VuU3RhdHVzID0gdHJ1ZTsKCWJvb2wgcHVibGljIHRyYW5zZmVyU3RhdHVzID0gdHJ1ZTsKCWJvb2wgcHVibGljIGJ1eVN0YXR1cyA9IHRydWU7Cglib29sIHB1YmxpYyBzZWxsU3RhdHVzID0gZmFsc2U7Cglib29sIHB1YmxpYyByZWZ1bmRTdGF0dXMgPSBmYWxzZTsKCglldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKCWV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBhcHByb3ZlciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwoJZXZlbnQgUHJpY2UodWludDI1NiBidXksIHVpbnQyNTYgc2VsbCk7CglldmVudCBCdXkoYWRkcmVzcyBpbmRleGVkIGFkZHIgLCB1aW50MjU2IHZhbHVlICwgdWludDI1NiB1bml0cyk7CglldmVudCBTZWxsKGFkZHJlc3MgaW5kZXhlZCBhZGRyICwgdWludDI1NiB2YWx1ZSAsIHVpbnQyNTYgdW5pdHMpOwoJZXZlbnQgUmVmdW5kKGFkZHJlc3MgaW5kZXhlZCBhZGRyICwgdWludDI1NiB2YWx1ZSk7CgoJZnVuY3Rpb24gQ3J5cHRvVG9rZW4gKHN0cmluZyBfbmFtZSwgc3RyaW5nIF9zeW1ib2wsIHVpbnQ4IF9kZWNpbWFscywgYWRkcmVzcyBfd2FsbGV0LCB1aW50MjU2IF90b3RhbFN1cHBseSwgdWludDI1NiBfYnV5UHJpY2UsIHVpbnQyNTYgX3NlbGxQcmljZSkgewoJCW5hbWUgPSBieXRlcyhfbmFtZSkubGVuZ3RoID4gMCA/IF9uYW1lIDogIkludGVsbGlFVEgiOwoJCXN5bWJvbCA9IGJ5dGVzKF9zeW1ib2wpLmxlbmd0aCA+IDAgPyBfc3ltYm9sIDogIklORVRIIjsKCQlkZWNpbWFscyA9IF9kZWNpbWFscyA+IDAgPyBfZGVjaW1hbHMgOiAxODsKCQl3YWxsZXQgPSBfd2FsbGV0ICE9IDB4MCA/IF93YWxsZXQgOiAweDYzNGRBNDg4ZTFFMTIyQTlmMkVEODNlOTFjY2I2RGIzNDE0ZTM5ODQ7CgkJCgkJX3RvdGFsU3VwcGx5ID0gX3RvdGFsU3VwcGx5ID4gMCA/IF90b3RhbFN1cHBseSA6IDUwMDAwMDAwMDsKCgkJdG90YWxTdXBwbHkgPSBfdG90YWxTdXBwbHkgKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpOwoJCWF2YWlsU3VwcGx5ID0gdG90YWxTdXBwbHk7CgkJdHJhbnNTdXBwbHkgPSAwOwoKCQliYWxhbmNlc1tvd25lcl0gPSB0b3RhbFN1cHBseTsKCgkJYnV5UHJpY2UgPSBfYnV5UHJpY2UgPiAwID8gX2J1eVByaWNlIDogNDQ0NDQ0NDQ0NDQ0NDQ0OwoJCXNlbGxQcmljZSA9IF9zZWxsUHJpY2UgPiAwID8gX3NlbGxQcmljZSA6IDA7CgoJCWRldmVsb3BlcnNbb3duZXJdID0gdHJ1ZTsKCQlkZXZlbG9wZXJzW3dhbGxldF0gPSB0cnVlOwoJfQkKCglmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBhZGRyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewoJCXJldHVybiBiYWxhbmNlc1thZGRyXTsKCX0KCglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgb25seVBheWxvYWRTaXplKDIgKiAzMikgcmV0dXJucyAoYm9vbCkgewoJCXJldHVybiBfdHJhbnNmZXIobXNnLnNlbmRlciwgdG8sIHZhbHVlKTsKCX0KCglmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBhcHByb3ZlciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewoJCXJldHVybiBhbGxvd2VkW2FwcHJvdmVyXVtzcGVuZGVyXTsKCX0KCglmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBhcHByb3ZlciwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIG9ubHlQYXlsb2FkU2l6ZSgzICogMzIpIHJldHVybnMgKGJvb2wpIHsKCQlyZXF1aXJlKGFsbG93ZWRbYXBwcm92ZXJdW21zZy5zZW5kZXJdIC0gdmFsdWUgPj0gMCk7CgkJcmVxdWlyZShhbGxvd2VkW2FwcHJvdmVyXVttc2cuc2VuZGVyXSAtIHZhbHVlIDwgYWxsb3dlZFthcHByb3Zlcl1bbXNnLnNlbmRlcl0pOwoKCQlhbGxvd2VkW2FwcHJvdmVyXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbYXBwcm92ZXJdW21zZy5zZW5kZXJdLnN1Yih2YWx1ZSk7CgkJcmV0dXJuIF90cmFuc2ZlcihhcHByb3ZlciwgdG8sIHZhbHVlKTsKCX0KCglmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKCQlyZXR1cm4gX2FwcHJvdmUobXNnLnNlbmRlciAsIHNwZW5kZXIgLCB2YWx1ZSk7Cgl9CgoJZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbChhZGRyZXNzIHNwZW5kZXIgLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewoJCXJlcXVpcmUodmFsdWUgPiAwKTsKCQlyZXF1aXJlKGFsbG93ZWRbbXNnLnNlbmRlcl1bc3BlbmRlcl0gKyB2YWx1ZSA+IGFsbG93ZWRbbXNnLnNlbmRlcl1bc3BlbmRlcl0pOwoKCQl2YWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bc3BlbmRlcl0uYWRkKHZhbHVlKTsKCQlyZXR1cm4gX2FwcHJvdmUobXNnLnNlbmRlciAsIHNwZW5kZXIgLCB2YWx1ZSk7Cgl9CgoJZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbChhZGRyZXNzIHNwZW5kZXIgLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewoJCXJlcXVpcmUodmFsdWUgPiAwKTsKCQlyZXF1aXJlKGFsbG93ZWRbbXNnLnNlbmRlcl1bc3BlbmRlcl0gLSB2YWx1ZSA+PSAwKTsJCgkJcmVxdWlyZShhbGxvd2VkW21zZy5zZW5kZXJdW3NwZW5kZXJdIC0gdmFsdWUgPCBhbGxvd2VkW21zZy5zZW5kZXJdW3NwZW5kZXJdKTsJCgoJCXZhbHVlID0gYWxsb3dlZFttc2cuc2VuZGVyXVtzcGVuZGVyXS5zdWIodmFsdWUpOwoJCXJldHVybiBfYXBwcm92ZShtc2cuc2VuZGVyICwgc3BlbmRlciAsIHZhbHVlKTsKCX0KCglmdW5jdGlvbiBmcmVlemUoYWRkcmVzcyBhZGRyLCBib29sIHN0YXR1cykgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CgkJZnJlZXplc1thZGRyXSA9IHN0YXR1czsKCQlyZXR1cm4gdHJ1ZTsKCX0KCglmdW5jdGlvbiBmcm96ZW4oYWRkcmVzcyBhZGRyKSBwdWJsaWMgY29uc3RhbnQgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKCQlyZXR1cm4gZnJlZXplc1thZGRyXTsKCX0KCglmdW5jdGlvbiBzZXRXYWxsZXQoYWRkcmVzcyBhZGRyKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKCQl3YWxsZXQgPSBhZGRyOwoJCXJldHVybiB0cnVlOwoJfQoKCWZ1bmN0aW9uIHNldERldmVsb3BlcihhZGRyZXNzIGFkZHIgLCBib29sIHN0YXR1cykgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CgkJZGV2ZWxvcGVyc1thZGRyXSA9IHN0YXR1czsKCQlyZXR1cm4gdHJ1ZTsKCX0KCglmdW5jdGlvbiBnZXREZXZlbG9wZXIoYWRkcmVzcyBhZGRyKSBwdWJsaWMgY29uc3RhbnQgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKCQlyZXR1cm4gZGV2ZWxvcGVyc1thZGRyXTsKCX0KCglmdW5jdGlvbiBnZXRDb250cmlidXRpb24oYWRkcmVzcyBhZGRyKSBwdWJsaWMgY29uc3RhbnQgb25seU93bmVyIHJldHVybnMgKHVpbnQyNTYpIHsKCQlyZXR1cm4gY29udHJpYnV0aW9uc1thZGRyXTsKCX0KCglmdW5jdGlvbiBzZXRTcGVjaWFsUHJpY2UoYWRkcmVzcyBhZGRyLCB1aW50MjU2IF9idXlQcmljZSwgdWludDI1NiBfc2VsbFByaWNlKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBzcGVjaWFsUHJpY2VzW2FkZHJdID0gU3BlY2lhbFByaWNlKF9idXlQcmljZSwgX3NlbGxQcmljZSwgdHJ1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gZGVsU3BlY2lhbFByaWNlKGFkZHJlc3MgYWRkcikgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CiAgICAgICAgZGVsZXRlIHNwZWNpYWxQcmljZXNbYWRkcl07CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoJZnVuY3Rpb24gcHJpY2UodWludDI1NiBfYnV5UHJpY2UsIHVpbnQyNTYgX3NlbGxQcmljZSkgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CgkJYnV5UHJpY2UgPSBfYnV5UHJpY2U7CgkJc2VsbFByaWNlID0gX3NlbGxQcmljZTsKCQlQcmljZShidXlQcmljZSwgc2VsbFByaWNlKTsKCQlyZXR1cm4gdHJ1ZTsKCX0KCglmdW5jdGlvbiBzZXRCdXlQcmljZSh1aW50MjU2IF9idXlQcmljZSkgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CgkJYnV5UHJpY2UgPSBfYnV5UHJpY2U7CgkJUHJpY2UoYnV5UHJpY2UsIHNlbGxQcmljZSk7CgkJcmV0dXJuIHRydWU7Cgl9CgoJZnVuY3Rpb24gc2V0U2VsbFByaWNlKHVpbnQyNTYgX3NlbGxQcmljZSkgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CgkJc2VsbFByaWNlID0gX3NlbGxQcmljZTsKCQlQcmljZShidXlQcmljZSwgc2VsbFByaWNlKTsKCQlyZXR1cm4gdHJ1ZTsKCX0KCglmdW5jdGlvbiBnZXRCdXlQcmljZShhZGRyZXNzIGFkZHIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CgkJU3BlY2lhbFByaWNlIG1lbW9yeSBzcGVjaWFsUHJpY2UgPSBzcGVjaWFsUHJpY2VzW2FkZHJdOwoJCWlmKHNwZWNpYWxQcmljZS5leGlzdHMpIHsKCQkJcmV0dXJuIHNwZWNpYWxQcmljZS5idXlQcmljZTsKCQl9CgkJcmV0dXJuIGJ1eVByaWNlOwoJfQoKCWZ1bmN0aW9uIGdldFNlbGxQcmljZShhZGRyZXNzIGFkZHIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CgkJU3BlY2lhbFByaWNlIG1lbW9yeSBzcGVjaWFsUHJpY2UgPSBzcGVjaWFsUHJpY2VzW2FkZHJdOwoJCWlmKHNwZWNpYWxQcmljZS5leGlzdHMpIHsKCQkJcmV0dXJuIHNwZWNpYWxQcmljZS5zZWxsUHJpY2U7CgkJfQoJCXJldHVybiBzZWxsUHJpY2U7Cgl9CgoJZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewoJCWJ1eSgpOwoJfQoKCWZ1bmN0aW9uIHdpdGhkcmF3KCkgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CgkJbXNnLnNlbmRlci50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwoJCXJldHVybiB0cnVlOwoJfQoKCWZ1bmN0aW9uIGJ1eSgpIHB1YmxpYyBwYXlhYmxlIHJldHVybnModWludDI1NikgewoJCXJlcXVpcmUobXNnLnZhbHVlID4gMCk7CgkJcmVxdWlyZSh0b2tlblN0YXR1cyA9PSB0cnVlIHx8IGRldmVsb3BlcnNbbXNnLnNlbmRlcl0gPT0gdHJ1ZSk7CgkJcmVxdWlyZShidXlTdGF0dXMgPT0gdHJ1ZSk7CgoJCXVpbnQyNTYgYnV5UHJpY2VTcGVjaWFsID0gZ2V0QnV5UHJpY2UobXNnLnNlbmRlcik7CgkJdWludDI1NiBiaWd2YWwgPSBtc2cudmFsdWUgKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpOwoJCXVpbnQyNTYgdW5pdHMgPSAgYmlndmFsIC8gYnV5UHJpY2VTcGVjaWFsOwoKCQlfdHJhbnNmZXIob3duZXIgLCBtc2cuc2VuZGVyICwgdW5pdHMpOwoJCUJ1eShtc2cuc2VuZGVyICwgbXNnLnZhbHVlICwgdW5pdHMpOwoJCQoJCXRvdGFsQ29udHJpYnV0b3JzID0gdG90YWxDb250cmlidXRvcnMuYWRkKDEpOwoJCXRvdGFsQ29udHJpYnV0aW9uID0gdG90YWxDb250cmlidXRpb24uYWRkKG1zZy52YWx1ZSk7CgkJY29udHJpYnV0aW9uc1ttc2cuc2VuZGVyXSA9IGNvbnRyaWJ1dGlvbnNbbXNnLnNlbmRlcl0uYWRkKG1zZy52YWx1ZSk7CgoJCV9mb3J3YXJkKG1zZy52YWx1ZSk7CgkJcmV0dXJuIHVuaXRzOwoJfQoKCWZ1bmN0aW9uIHNlbGwodWludDI1NiB1bml0cykgcHVibGljIHBheWFibGUgcmV0dXJucyh1aW50MjU2KSB7CgkJcmVxdWlyZSh1bml0cyA+IDApOwoJCXJlcXVpcmUodG9rZW5TdGF0dXMgPT0gdHJ1ZSB8fCBkZXZlbG9wZXJzW21zZy5zZW5kZXJdID09IHRydWUpOwoJCXJlcXVpcmUoc2VsbFN0YXR1cyA9PSB0cnVlKTsKCgkJdWludDI1NiBzZWxsUHJpY2VTcGVjaWFsID0gZ2V0U2VsbFByaWNlKG1zZy5zZW5kZXIpOwoJCXVpbnQyNTYgdmFsdWUgPSAoKHVuaXRzICogc2VsbFByaWNlU3BlY2lhbCkgLyAoMTAgKiogdWludDI1NihkZWNpbWFscykpKTsKCQlfdHJhbnNmZXIobXNnLnNlbmRlciAsIG93bmVyICwgdW5pdHMpOwoKCQlTZWxsKG1zZy5zZW5kZXIgLCB2YWx1ZSAsIHVuaXRzKTsKCQltc2cuc2VuZGVyLnRyYW5zZmVyKHZhbHVlKTsJCgkJcmV0dXJuIHZhbHVlOwoJfQoKCWZ1bmN0aW9uIHJlZnVuZCgpIHB1YmxpYyBwYXlhYmxlIHJldHVybnModWludDI1NikgewoJCXJlcXVpcmUoY29udHJpYnV0aW9uc1ttc2cuc2VuZGVyXSA+IDApOwoJCXJlcXVpcmUodG9rZW5TdGF0dXMgPT0gdHJ1ZSB8fCBkZXZlbG9wZXJzW21zZy5zZW5kZXJdID09IHRydWUpOwoJCXJlcXVpcmUocmVmdW5kU3RhdHVzID09IHRydWUpOwoKCQl1aW50MjU2IHZhbHVlID0gY29udHJpYnV0aW9uc1ttc2cuc2VuZGVyXTsKCQljb250cmlidXRpb25zW21zZy5zZW5kZXJdID0gMDsKCgkJUmVmdW5kKG1zZy5zZW5kZXIsIHZhbHVlKTsKCQltc2cuc2VuZGVyLnRyYW5zZmVyKHZhbHVlKTsJCgkJcmV0dXJuIHZhbHVlOwoJfQoKCWZ1bmN0aW9uIHNldFRva2VuU3RhdHVzKGJvb2wgX3Rva2VuU3RhdHVzKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKCQl0b2tlblN0YXR1cyA9IF90b2tlblN0YXR1czsKCQlyZXR1cm4gdHJ1ZTsKCX0KCglmdW5jdGlvbiBzZXRUcmFuc2ZlclN0YXR1cyhib29sIF90cmFuc2ZlclN0YXR1cykgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CgkJdHJhbnNmZXJTdGF0dXMgPSBfdHJhbnNmZXJTdGF0dXM7CgkJcmV0dXJuIHRydWU7Cgl9CgoJZnVuY3Rpb24gc2V0QnV5U3RhdHVzKGJvb2wgX2J1eVN0YXR1cykgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CgkJYnV5U3RhdHVzID0gX2J1eVN0YXR1czsKCQlyZXR1cm4gdHJ1ZTsKCX0KCglmdW5jdGlvbiBzZXRTZWxsU3RhdHVzKGJvb2wgX3NlbGxTdGF0dXMpIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCkgewoJCXNlbGxTdGF0dXMgPSBfc2VsbFN0YXR1czsKCQlyZXR1cm4gdHJ1ZTsKCX0KCglmdW5jdGlvbiBzZXRSZWZ1bmRTdGF0dXMoYm9vbCBfcmVmdW5kU3RhdHVzKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKCQlyZWZ1bmRTdGF0dXMgPSBfcmVmdW5kU3RhdHVzOwoJCXJldHVybiB0cnVlOwoJfQoKCWZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHByaXZhdGUgb25seVBheWxvYWRTaXplKDMgKiAzMikgcmV0dXJucyAoYm9vbCkgewoJCXJlcXVpcmUodG8gIT0gYWRkcmVzcygwKSk7CgkJcmVxdWlyZShmcm9tICE9IHRvKTsKCQlyZXF1aXJlKHZhbHVlID4gMCk7CgoJCXJlcXVpcmUoYmFsYW5jZXNbZnJvbV0gLSB2YWx1ZSA+PSAwKTsKCQlyZXF1aXJlKGJhbGFuY2VzW2Zyb21dIC0gdmFsdWUgPCBiYWxhbmNlc1tmcm9tXSk7CgkJcmVxdWlyZShiYWxhbmNlc1t0b10gKyB2YWx1ZSA+IGJhbGFuY2VzW3RvXSk7CgoJCXJlcXVpcmUoZnJlZXplc1tmcm9tXSA9PSBmYWxzZSk7CgkJcmVxdWlyZSh0b2tlblN0YXR1cyA9PSB0cnVlIHx8IGRldmVsb3BlcnNbbXNnLnNlbmRlcl0gPT0gdHJ1ZSk7CgkJcmVxdWlyZSh0cmFuc2ZlclN0YXR1cyA9PSB0cnVlKTsKCgkJYmFsYW5jZXNbZnJvbV0gPSBiYWxhbmNlc1tmcm9tXS5zdWIodmFsdWUpOwoJCWJhbGFuY2VzW3RvXSA9IGJhbGFuY2VzW3RvXS5hZGQodmFsdWUpOwoKCQlfYWRkU3VwcGx5KHRvLCB2YWx1ZSk7CgkJX3N1YlN1cHBseShmcm9tLCB2YWx1ZSk7CgkJCgkJVHJhbnNmZXIoZnJvbSwgdG8sIHZhbHVlKTsKCQlyZXR1cm4gdHJ1ZTsKCX0KCglmdW5jdGlvbiBfZm9yd2FyZCh1aW50MjU2IHZhbHVlKSBpbnRlcm5hbCByZXR1cm5zIChib29sKSB7CgkJd2FsbGV0LnRyYW5zZmVyKHZhbHVlKTsKCQlyZXR1cm4gdHJ1ZTsKCX0KCglmdW5jdGlvbiBfYXBwcm92ZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHByaXZhdGUgcmV0dXJucyAoYm9vbCkgewoJCXJlcXVpcmUodmFsdWUgPiAwKTsKCQlhbGxvd2VkW293bmVyXVtzcGVuZGVyXSA9IHZhbHVlOwoJCUFwcHJvdmFsKG93bmVyLCBzcGVuZGVyLCB2YWx1ZSk7CgkJcmV0dXJuIHRydWU7Cgl9CgoJZnVuY3Rpb24gX2FkZFN1cHBseShhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwcml2YXRlIHJldHVybnMgKGJvb2wpIHsKCQlpZihvd25lciA9PSB0bykgewoJCQlyZXF1aXJlKGF2YWlsU3VwcGx5ICsgdmFsdWUgPiBhdmFpbFN1cHBseSk7CgkJCXJlcXVpcmUodHJhbnNTdXBwbHkgLSB2YWx1ZSA+PSAwKTsKCQkJcmVxdWlyZSh0cmFuc1N1cHBseSAtIHZhbHVlIDwgdHJhbnNTdXBwbHkpOwoJCQlhdmFpbFN1cHBseSA9IGF2YWlsU3VwcGx5LmFkZCh2YWx1ZSk7CgkJCXRyYW5zU3VwcGx5ID0gdHJhbnNTdXBwbHkuc3ViKHZhbHVlKTsKCQkJcmVxdWlyZShiYWxhbmNlc1tvd25lcl0gPT0gYXZhaWxTdXBwbHkpOwoJCX0KCQlyZXR1cm4gdHJ1ZTsKCX0KCglmdW5jdGlvbiBfc3ViU3VwcGx5KGFkZHJlc3MgZnJvbSwgdWludDI1NiB2YWx1ZSkgcHJpdmF0ZSByZXR1cm5zIChib29sKSB7CgkJaWYob3duZXIgPT0gZnJvbSkgewoJCQlyZXF1aXJlKGF2YWlsU3VwcGx5IC0gdmFsdWUgPj0gMCk7CgkJCXJlcXVpcmUoYXZhaWxTdXBwbHkgLSB2YWx1ZSA8IGF2YWlsU3VwcGx5KTsKCQkJcmVxdWlyZSh0cmFuc1N1cHBseSArIHZhbHVlID4gdHJhbnNTdXBwbHkpOwoJCQlhdmFpbFN1cHBseSA9IGF2YWlsU3VwcGx5LnN1Yih2YWx1ZSk7CgkJCXRyYW5zU3VwcGx5ID0gdHJhbnNTdXBwbHkuYWRkKHZhbHVlKTsKCQkJcmVxdWlyZShiYWxhbmNlc1tvd25lcl0gPT0gYXZhaWxTdXBwbHkpOwoJCX0KCQlyZXR1cm4gdHJ1ZTsKCX0KfQ=='.
	

]
