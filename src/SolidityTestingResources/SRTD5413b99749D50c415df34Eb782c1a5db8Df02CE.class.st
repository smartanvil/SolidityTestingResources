Class {
	#name : #SRTD5413b99749D50c415df34Eb782c1a5db8Df02CE,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTD5413b99749D50c415df34Eb782c1a5db8Df02CE >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7Cgpjb250cmFjdCBFUkMyMCB7CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50IHRvdGFsU3VwcGx5KTsKCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgYmFsYW5jZSk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQgX3ZhbHVlKTsKCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKTsKCn0KCmNvbnRyYWN0IG93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIF9vd25lcjsKCiAgICBmdW5jdGlvbiBvd25lZCgpIHsKICAgICAgICBfb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IF9vd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgICAgIF9vd25lciA9IG5ld093bmVyOwogICAgfQp9Cgpjb250cmFjdCBtb3J0YWwgaXMgb3duZWQgewogICAgZnVuY3Rpb24gbW9ydGFsKCkgeyAKICAgIH0KCiAgICBmdW5jdGlvbiBraWxsKCkgb25seU93bmVyIHsKICAgICAgICBzZWxmZGVzdHJ1Y3QoX293bmVyKTsKICAgIH0KfQoKY29udHJhY3QgaGFja2V0aGVyZXVtSWNvIGlzIG1vcnRhbCB7CiAgICB1aW50MjU2IHB1YmxpYyBfYW1vdW50UmFpc2VkOwogICAgdWludDI1NiBwdWJsaWMgX2RlYWRsaW5lOwoKICAgIHVpbnQyNTYgcHJpdmF0ZSBfdGltZUJldHdlZW5XaXRoZHJhd0NhbGxzOwogICAgdWludDI1NiBwcml2YXRlIF90aW1lQmV0d2VlbkNvbnRyb2xGbGlwQ2FsbHM7CgogICAgdWludDI1NiBwcml2YXRlIF9wcmljZUluY3JlYXNlMTsKICAgIHVpbnQyNTYgcHJpdmF0ZSBfcHJpY2VJbmNyZWFzZTI7CgogICAgYm9vbCBwcml2YXRlIF9oYWNrZWRUZW51b3VzOwogICAgYm9vbCBwcml2YXRlIF9oYWNrZWRFZHVjYXRlZDsKICAgIGJvb2wgcHJpdmF0ZSBfaGFja2VkQWRlcHQ7CiAgICBib29sIHByaXZhdGUgX3doaXRlaGF0QWN0aXZlOwoKICAgIGJvb2wgcHJpdmF0ZSBfaW5pdGlhbGlzZWQ7CiAgICAKICAgIGFkZHJlc3MgcHJpdmF0ZSBfYmVuZWZpY2lhcnk7CiAgICBhZGRyZXNzIHByaXZhdGUgX2hhY2tlclRlbnVvdXM7CiAgICBhZGRyZXNzIHByaXZhdGUgX2hhY2tlckVkdWNhdGVkOwogICAgYWRkcmVzcyBwcml2YXRlIF9oYWNrZXJBZGVwdDsKICAgIGFkZHJlc3MgcHJpdmF0ZSBfaGFja2VyRGVjaXNpdmU7CiAgICBhZGRyZXNzIHByaXZhdGUgX3doaXRlaGF0OwoKICAgIHVpbnQyNTYgcHJpdmF0ZSBfbGFzdEhhY2s7CiAgICB1aW50MjU2IHByaXZhdGUgX2xhc3RXaGl0ZWhhdDsKICAgIHVpbnQyNTYgcHJpdmF0ZSBfbGFzdENvbnRyb2xGbGlwOwoKICAgIHVpbnQyNTYgcHJpdmF0ZSBfaW5pdGlhbFByaWNlOwoKICAgIHVpbnQyNTYgcHJpdmF0ZSBjb25zdGFudCBfcGFydGljaXBhdGlvblRocmVzaG9sZCA9ICA1MDAwMDAwMDAwMDAwMDAwMDsKICAgIHVpbnQyNTYgcHJpdmF0ZSBjb25zdGFudCBfcGFydGljaXBhdGlvbk1heCAgICAgICA9IDUwMDAwMDAwMDAwMDAwMDAwMDsKCiAgICB1aW50MjU2IHByaXZhdGUgY29uc3RhbnQgX2hhY2tUb2tlblRocmVzaG9sZCAgICAgPSAgMTAwMDAwMDAwMDAwMDAwMDA7CgogICAgaGFja29pbiBwdWJsaWMgX2hhY2tvaW5Ub2tlbjsKICAgIGhhY2tvaW4gcHVibGljIF90ZW51b3VzVG9rZW47CiAgICBoYWNrb2luIHB1YmxpYyBfZWR1Y2F0ZWRUb2tlbjsKICAgIGhhY2tvaW4gcHVibGljIF9hZGVwdFRva2VuOwoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwcml2YXRlIF9iYWxhbmNlT2Y7CgogICAgZXZlbnQgRnVuZFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBiYWNrZXIsIHN0cmluZyBpbmRleGVkIHRyYW5zZmVyVHlwZSwgdWludDI1NiBhbW91bnQpOwoKICAgIGZ1bmN0aW9uIGhhY2tldGhlcmV1bUljbygKICAgICAgICBhZGRyZXNzIGlmU3VjY2Vzc2Z1bFNlbmRUbywKICAgICAgICBhZGRyZXNzIGhhY2tlclRlbnVvdXNBZGRyZXNzLAogICAgICAgIGFkZHJlc3MgaGFja2VyRWR1Y2F0ZWRBZGRyZXNzLAogICAgICAgIGFkZHJlc3MgaGFja2VyQWRlcHRBZGRyZXNzLAogICAgICAgIGFkZHJlc3MgaGFja2VyRGVjaXNpdmVBZGRyZXNzLAogICAgICAgIGFkZHJlc3Mgd2hpdGVoYXRBZGRyZXNzCiAgICAgICAgLy8gdWludDI1NiBkdXJhdGlvbkluTWludXRlcywKICAgICAgICAvLyB1aW50MjU2IHRpbWVCZXR3ZWVuV2l0aGRyYXdNaW51dGVzLAogICAgICAgIC8vIHVpbnQyNTYgdGltZUJldHdlZW5GbGlwTWludXRlcwogICAgICAgIAogICAgKSB7CiAgICAgICAgX2JlbmVmaWNpYXJ5ID0gaWZTdWNjZXNzZnVsU2VuZFRvOwogICAgICAgIF9oYWNrZXJUZW51b3VzID0gaGFja2VyVGVudW91c0FkZHJlc3M7CiAgICAgICAgX2hhY2tlckVkdWNhdGVkID0gaGFja2VyRWR1Y2F0ZWRBZGRyZXNzOwogICAgICAgIF9oYWNrZXJBZGVwdCA9IGhhY2tlckFkZXB0QWRkcmVzczsKICAgICAgICBfaGFja2VyRGVjaXNpdmUgPSBoYWNrZXJEZWNpc2l2ZUFkZHJlc3M7CiAgICAgICAgX3doaXRlaGF0ID0gd2hpdGVoYXRBZGRyZXNzOwogICAgCiAgICAgICAgX2luaXRpYWxpc2VkID0gZmFsc2U7CiAgICB9CgogICAgZnVuY3Rpb24gaW5pdGlhbGlzZSgpIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZSghX2luaXRpYWxpc2VkKTsKCiAgICAgICAgX2RlYWRsaW5lID0gMTUwNDMwMTMzNzsgLy8gRnJpLCAwMSBTZXAgMjAxNyAyMToyODo1NyAvLyBub3cgKyBkdXJhdGlvbkluTWludXRlcyAqIDEgbWludXRlczsgLy8xNTA0MjMxMzM3CgogICAgICAgIF90aW1lQmV0d2VlbldpdGhkcmF3Q2FsbHMgPSAzMCBtaW51dGVzOwogICAgICAgIF90aW1lQmV0d2VlbkNvbnRyb2xGbGlwQ2FsbHMgPSAzMDAgbWludXRlczsKCiAgICAgICAgX3ByaWNlSW5jcmVhc2UyID0gX2RlYWRsaW5lIC0gNCBkYXlzOwogICAgICAgIF9wcmljZUluY3JlYXNlMSA9IF9wcmljZUluY3JlYXNlMiAtIDYgZGF5czsKCiAgICAgICAgX2xhc3RIYWNrID0gbm93Oy8vX2RlYWRsaW5lICsgMSBkYXlzOwogICAgICAgIF9sYXN0V2hpdGVoYXQgPSBub3c7Ly9fZGVhZGxpbmUgKyAxIGRheXM7CiAgICAgICAgX2xhc3RDb250cm9sRmxpcCA9IG5vdzsvL19kZWFkbGluZSArIDEgZGF5czsKCiAgICAgICAgX2luaXRpYWxQcmljZSA9IDE7CgogICAgICAgIGFkZHJlc3MgdG9rZW5Db250cmFjdEFkZHJlc3MgPSBuZXcgaGFja29pbigiSGFja29pbiIsICJISyIpOwogICAgICAgIF9oYWNrb2luVG9rZW4gPSBoYWNrb2luKHRva2VuQ29udHJhY3RBZGRyZXNzKTsKCiAgICAgICAgYWRkcmVzcyB0ZW51b3VzVG9rZW5Db250cmFjdEFkZHJlc3MgPSBuZXcgaGFja29pbigiSGFja29pbl9UZW51b3VzIiwgIkhLVCIpOwogICAgICAgIGFkZHJlc3MgZWR1Y2F0ZWRUb2tlbkNvbnRyYWN0QWRkcmVzcyA9IG5ldyBoYWNrb2luKCJIYWNrb2luX0VkdWNhdGVkIiwgIkhLRSIpOwogICAgICAgIGFkZHJlc3MgYWRlcHRUb2tlbkNvbnRyYWN0QWRkcmVzcyA9IG5ldyBoYWNrb2luKCJIYWNrb2luX0FkZXB0IiwgIkhLQSIpOwoKICAgICAgICBfdGVudW91c1Rva2VuID0gaGFja29pbih0ZW51b3VzVG9rZW5Db250cmFjdEFkZHJlc3MpOwogICAgICAgIF9lZHVjYXRlZFRva2VuID0gaGFja29pbihlZHVjYXRlZFRva2VuQ29udHJhY3RBZGRyZXNzKTsKICAgICAgICBfYWRlcHRUb2tlbiA9IGhhY2tvaW4oYWRlcHRUb2tlbkNvbnRyYWN0QWRkcmVzcyk7CgogICAgICAgIF9oYWNrb2luVG9rZW4ubWludFRva2VuKG1zZy5zZW5kZXIsIF9wYXJ0aWNpcGF0aW9uTWF4KjIpOwogICAgICAgIF90ZW51b3VzVG9rZW4ubWludFRva2VuKG1zZy5zZW5kZXIsIF9oYWNrVG9rZW5UaHJlc2hvbGQqMik7CiAgICAgICAgX2VkdWNhdGVkVG9rZW4ubWludFRva2VuKG1zZy5zZW5kZXIsIF9oYWNrVG9rZW5UaHJlc2hvbGQqMik7CiAgICAgICAgX2FkZXB0VG9rZW4ubWludFRva2VuKG1zZy5zZW5kZXIsIF9oYWNrVG9rZW5UaHJlc2hvbGQqMik7CiAgICAgICAgX2luaXRpYWxpc2VkID0gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGp1c3RUaW1pbmcodWludDI1NiB0aW1lQmV0d2VlbldpdGhkcmF3TWludXRlcywgdWludDI1NiB0aW1lQmV0d2VlbkZsaXBNaW51dGVzKSBvbmx5T3duZXIgewogICAgICAgIF90aW1lQmV0d2VlbldpdGhkcmF3Q2FsbHMgPSB0aW1lQmV0d2VlbldpdGhkcmF3TWludXRlcyAqIDEgbWludXRlczsKICAgICAgICBfdGltZUJldHdlZW5Db250cm9sRmxpcENhbGxzID0gdGltZUJldHdlZW5GbGlwTWludXRlcyAqIDEgbWludXRlczsKICAgIH0KCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKG5vdyA8IF9kZWFkbGluZSk7CgogICAgICAgIHVpbnQyNTYgYW1vdW50ID0gbXNnLnZhbHVlOwoKICAgICAgICB1aW50MjU2IGN1cnJlbnRQcmljZTsKICAgICAgICBpZihub3cgPCBfcHJpY2VJbmNyZWFzZTEpCiAgICAgICAgewogICAgICAgICAgICBjdXJyZW50UHJpY2UgPSBfaW5pdGlhbFByaWNlOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChub3cgPCBfcHJpY2VJbmNyZWFzZTIpCiAgICAgICAgewogICAgICAgICAgICBjdXJyZW50UHJpY2UgPSBfaW5pdGlhbFByaWNlICogMjsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgY3VycmVudFByaWNlID0gX2luaXRpYWxQcmljZSAqIDQ7CiAgICAgICAgfQoKICAgICAgICB1aW50MjU2IHRva2VuQW1vdW50ID0gYW1vdW50IC8gY3VycmVudFByaWNlOwoKICAgICAgICByZXF1aXJlKHRva2VuQW1vdW50ID4gMCk7CiAgICAgICAgcmVxdWlyZShfYmFsYW5jZU9mW21zZy5zZW5kZXJdICsgYW1vdW50ID49IF9iYWxhbmNlT2ZbbXNnLnNlbmRlcl0pOwogICAgICAgIHJlcXVpcmUodGhpcy5iYWxhbmNlICsgYW1vdW50ID49IHRoaXMuYmFsYW5jZSk7CgogICAgICAgIF9iYWxhbmNlT2ZbbXNnLnNlbmRlcl0gKz0gYW1vdW50OwogICAgICAgIF9hbW91bnRSYWlzZWQgKz0gYW1vdW50OwoKICAgICAgICBfaGFja29pblRva2VuLm1pbnRUb2tlbihtc2cuc2VuZGVyLCB0b2tlbkFtb3VudCk7CiAgICAgICAgRnVuZFRyYW5zZmVyKG1zZy5zZW5kZXIsICJUaWNrZXQgUHVyY2hhc2UiLCBhbW91bnQpOwogICAgfQoKICAgIG1vZGlmaWVyIGFmdGVyRGVhZGxpbmUoKQogICAgeyAKICAgICAgICByZXF1aXJlIChub3cgPj0gX2RlYWRsaW5lKTsgCiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiB3aXRoZHJhd0Z1bmRzKHVpbnQyNTYgYW1vdW50KSBhZnRlckRlYWRsaW5lIHsKICAgICAgICByZXF1aXJlKF9iZW5lZmljaWFyeSA9PSBtc2cuc2VuZGVyKTsKCiAgICAgICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgPiAwKTsKICAgICAgICByZXF1aXJlKGFtb3VudCA8PSB0aGlzLmJhbGFuY2UpOwoKICAgICAgICBpZiAoX2JlbmVmaWNpYXJ5LnNlbmQoYW1vdW50KSkKICAgICAgICB7CiAgICAgICAgICAgIEZ1bmRUcmFuc2ZlcihfYmVuZWZpY2lhcnksICJXaXRoZHJhd2FsIiwgYW1vdW50KTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaGFja0RlY2lzaXZlKGFkZHJlc3MgdGFyZ2V0QWRkcmVzcywgdWludDI1NiBhbW91bnQpIGFmdGVyRGVhZGxpbmUgewogICAgICAgIHJlcXVpcmUobXNnLmRhdGEubGVuZ3RoID09IDMyKjIrNCk7CiAgICAgICAgcmVxdWlyZShfaGFja2VyRGVjaXNpdmUgPT0gbXNnLnNlbmRlcik7CgogICAgICAgIHJlcXVpcmUoX2hhY2tvaW5Ub2tlbi5iYWxhbmNlT2YodGFyZ2V0QWRkcmVzcykgPj0gX3BhcnRpY2lwYXRpb25NYXgqMik7CgogICAgICAgIHJlcXVpcmUodGhpcy5iYWxhbmNlID4gMCk7CiAgICAgICAgcmVxdWlyZShhbW91bnQgPD0gdGhpcy5iYWxhbmNlKTsKCiAgICAgICAgaWYgKHRhcmdldEFkZHJlc3Muc2VuZChhbW91bnQpKQogICAgICAgIHsKICAgICAgICAgICAgRnVuZFRyYW5zZmVyKHRhcmdldEFkZHJlc3MsICJEZWNpc2l2ZSBoYWNrIiwgYW1vdW50KTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gd2hpdGVoYXRSZWNvdmVyKCkgYWZ0ZXJEZWFkbGluZSB7CiAgICAgICAgcmVxdWlyZShfd2hpdGVoYXQgPT0gbXNnLnNlbmRlcik7CiAgICAgICAgcmVxdWlyZShfd2hpdGVoYXRBY3RpdmUpOwoKICAgICAgICByZXF1aXJlKF9sYXN0V2hpdGVoYXQgKyBfdGltZUJldHdlZW5XaXRoZHJhd0NhbGxzIDwgbm93KTsKCiAgICAgICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgPiAwKTsKCiAgICAgICAgdWludCBhbW91bnQ7CiAgICAgICAgaWYoX2Ftb3VudFJhaXNlZCA+IDUwMCBldGhlcikKICAgICAgICB7CiAgICAgICAgICAgIGFtb3VudCA9IF9hbW91bnRSYWlzZWQgLyA1MDsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZihfYW1vdW50UmFpc2VkID4gMTAwIGV0aGVyKQogICAgICAgIHsKICAgICAgICAgICAgYW1vdW50ID0gX2Ftb3VudFJhaXNlZCAvIDIwOwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICBhbW91bnQgPSBfYW1vdW50UmFpc2VkIC8gMTA7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKGFtb3VudCA+IHRoaXMuYmFsYW5jZSkKICAgICAgICB7CiAgICAgICAgICAgIGFtb3VudCA9IHRoaXMuYmFsYW5jZTsKICAgICAgICB9CgogICAgICAgIF9sYXN0V2hpdGVoYXQgPSBub3c7CgogICAgICAgIGlmIChfd2hpdGVoYXQuc2VuZChhbW91bnQpKQogICAgICAgIHsKICAgICAgICAgICAgRnVuZFRyYW5zZmVyKF93aGl0ZWhhdCwgIldoaXRlaGF0IHJlY292ZXJ5IiwgYW1vdW50KTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaGFjayhhZGRyZXNzIHRhcmdldEFkZHJlc3MpIGFmdGVyRGVhZGxpbmUgewogICAgICAgIHJlcXVpcmUobXNnLmRhdGEubGVuZ3RoID09IDMyKzQpOwoKICAgICAgICByZXF1aXJlKF9oYWNrZXJUZW51b3VzID09IG1zZy5zZW5kZXIgfHwgX2hhY2tlckVkdWNhdGVkID09IG1zZy5zZW5kZXIgfHwgX2hhY2tlckFkZXB0ID09IG1zZy5zZW5kZXIpOwogICAgICAgIHJlcXVpcmUoX2hhY2tlZFRlbnVvdXMpOwogICAgICAgIHJlcXVpcmUoX2hhY2tlZEVkdWNhdGVkKTsKICAgICAgICByZXF1aXJlKF9oYWNrZWRBZGVwdCk7CiAgICAgICAgcmVxdWlyZSghX3doaXRlaGF0QWN0aXZlKTsKCiAgICAgICAgcmVxdWlyZShfbGFzdEhhY2sgKyBfdGltZUJldHdlZW5XaXRoZHJhd0NhbGxzIDwgbm93KTsKCiAgICAgICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgPiAwKTsKCiAgICAgICAgcmVxdWlyZShfaGFja29pblRva2VuLmJhbGFuY2VPZih0YXJnZXRBZGRyZXNzKSA+PSBfcGFydGljaXBhdGlvblRocmVzaG9sZCk7CgogICAgICAgIHJlcXVpcmUoX3RlbnVvdXNUb2tlbi5iYWxhbmNlT2YodGFyZ2V0QWRkcmVzcykgPj0gX2hhY2tUb2tlblRocmVzaG9sZCk7CiAgICAgICAgcmVxdWlyZShfZWR1Y2F0ZWRUb2tlbi5iYWxhbmNlT2YodGFyZ2V0QWRkcmVzcykgPj0gX2hhY2tUb2tlblRocmVzaG9sZCk7CiAgICAgICAgcmVxdWlyZShfYWRlcHRUb2tlbi5iYWxhbmNlT2YodGFyZ2V0QWRkcmVzcykgPj0gX2hhY2tUb2tlblRocmVzaG9sZCk7CgogICAgICAgIHVpbnQgbWluQW1vdW50OwogICAgICAgIGlmKF9hbW91bnRSYWlzZWQgPiA1MDAgZXRoZXIpCiAgICAgICAgewogICAgICAgICAgICBtaW5BbW91bnQgPSBfYW1vdW50UmFpc2VkIC8gNTAwOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmKF9hbW91bnRSYWlzZWQgPiAxMDAgZXRoZXIpCiAgICAgICAgewogICAgICAgICAgICBtaW5BbW91bnQgPSBfYW1vdW50UmFpc2VkIC8gMjAwOwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICBtaW5BbW91bnQgPSBfYW1vdW50UmFpc2VkIC8gMTAwOwogICAgICAgIH0KCgogICAgICAgIHVpbnQyNTYgcGFydGljaXBhdGlvbkFtb3VudCA9IF9oYWNrb2luVG9rZW4uYmFsYW5jZU9mKHRhcmdldEFkZHJlc3MpOwogICAgICAgIGlmKHBhcnRpY2lwYXRpb25BbW91bnQgPiBfcGFydGljaXBhdGlvbk1heCkKICAgICAgICB7CiAgICAgICAgICAgIHBhcnRpY2lwYXRpb25BbW91bnQgPSBfcGFydGljaXBhdGlvbk1heDsKICAgICAgICB9CgogICAgICAgIHVpbnQyNTYgcmF0aW8gPSBwYXJ0aWNpcGF0aW9uQW1vdW50IC8gX3BhcnRpY2lwYXRpb25UaHJlc2hvbGQ7CiAgICAgICAgdWludDI1NiBhbW91bnQgPSBtaW5BbW91bnQgKiByYXRpbzsKICAgICAgICAKICAgICAgICBpZihhbW91bnQgPiB0aGlzLmJhbGFuY2UpCiAgICAgICAgewogICAgICAgICAgICBhbW91bnQgPSB0aGlzLmJhbGFuY2U7CiAgICAgICAgfQoKICAgICAgICBfbGFzdEhhY2sgPSBub3c7CgogICAgICAgIGlmICh0YXJnZXRBZGRyZXNzLnNlbmQoYW1vdW50KSkKICAgICAgICB7CiAgICAgICAgICAgIEZ1bmRUcmFuc2Zlcih0YXJnZXRBZGRyZXNzLCAiSGFjayIsIGFtb3VudCk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGhhY2tUZW51b3VzKGFkZHJlc3MgdGFyZ2V0QWRkcmVzcykgYWZ0ZXJEZWFkbGluZSB7CiAgICAgICAgcmVxdWlyZShtc2cuZGF0YS5sZW5ndGggPT0gMzIrNCk7CiAgICAgICAgcmVxdWlyZShfaGFja2VyVGVudW91cyA9PSBtc2cuc2VuZGVyKTsKCiAgICAgICAgaWYoIV9oYWNrZWRUZW51b3VzKSB7CiAgICAgICAgICAgIHJlcXVpcmUoX2xhc3RDb250cm9sRmxpcCArIF90aW1lQmV0d2VlbkNvbnRyb2xGbGlwQ2FsbHMgPCBub3cpOwogICAgICAgIH0KCiAgICAgICAgX2hhY2tlZFRlbnVvdXMgPSB0cnVlOwoKICAgICAgICBpZihfdGVudW91c1Rva2VuLmJhbGFuY2VPZih0YXJnZXRBZGRyZXNzKSA9PSAwKSB7CiAgICAgICAgICAgIF90ZW51b3VzVG9rZW4ubWludFRva2VuKHRhcmdldEFkZHJlc3MsIF9oYWNrVG9rZW5UaHJlc2hvbGQpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBoYWNrRWR1Y2F0ZWQoYWRkcmVzcyB0YXJnZXRBZGRyZXNzKSBhZnRlckRlYWRsaW5lIHsKICAgICAgICByZXF1aXJlKG1zZy5kYXRhLmxlbmd0aCA9PSAzMis0KTsKICAgICAgICByZXF1aXJlKF9oYWNrZXJFZHVjYXRlZCA9PSBtc2cuc2VuZGVyKTsKICAgICAgICByZXF1aXJlKF9oYWNrZWRUZW51b3VzKTsKCiAgICAgICAgaWYoIV9oYWNrZWRFZHVjYXRlZCkgewogICAgICAgICAgICByZXF1aXJlKF9sYXN0Q29udHJvbEZsaXAgKyBfdGltZUJldHdlZW5Db250cm9sRmxpcENhbGxzIDwgbm93KTsKICAgICAgICB9CgogICAgICAgIF9oYWNrZWRFZHVjYXRlZCA9IHRydWU7CgogICAgICAgIGlmKF9lZHVjYXRlZFRva2VuLmJhbGFuY2VPZih0YXJnZXRBZGRyZXNzKSA9PSAwKSB7CiAgICAgICAgICAgIF9lZHVjYXRlZFRva2VuLm1pbnRUb2tlbih0YXJnZXRBZGRyZXNzLCBfaGFja1Rva2VuVGhyZXNob2xkKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaGFja0FkZXB0KGFkZHJlc3MgdGFyZ2V0QWRkcmVzcykgYWZ0ZXJEZWFkbGluZSB7CiAgICAgICAgcmVxdWlyZShtc2cuZGF0YS5sZW5ndGggPT0gMzIrNCk7CiAgICAgICAgcmVxdWlyZShfaGFja2VyQWRlcHQgPT0gbXNnLnNlbmRlcik7CiAgICAgICAgcmVxdWlyZShfaGFja2VkVGVudW91cyAmJiBfaGFja2VkRWR1Y2F0ZWQpOwoKICAgICAgICBpZighX2hhY2tlZEFkZXB0KSB7CiAgICAgICAgICAgIHJlcXVpcmUoX2xhc3RDb250cm9sRmxpcCArIF90aW1lQmV0d2VlbkNvbnRyb2xGbGlwQ2FsbHMgPCBub3cpOwogICAgICAgICAgICBfbGFzdENvbnRyb2xGbGlwID0gbm93OwogICAgICAgIH0KCiAgICAgICAgX3doaXRlaGF0QWN0aXZlID0gZmFsc2U7CiAgICAgICAgX2hhY2tlZEFkZXB0ID0gdHJ1ZTsKCiAgICAgICAgaWYoX2FkZXB0VG9rZW4uYmFsYW5jZU9mKHRhcmdldEFkZHJlc3MpID09IDApIHsKICAgICAgICAgICAgX2FkZXB0VG9rZW4ubWludFRva2VuKHRhcmdldEFkZHJlc3MsIF9oYWNrVG9rZW5UaHJlc2hvbGQpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiB3aGl0ZUhhdCgpIGFmdGVyRGVhZGxpbmUgewogICAgICAgIHJlcXVpcmUoX3doaXRlaGF0ID09IG1zZy5zZW5kZXIpOwogICAgICAgIHJlcXVpcmUoX2xhc3RDb250cm9sRmxpcCArIF90aW1lQmV0d2VlbkNvbnRyb2xGbGlwQ2FsbHMgPCBub3cpOwogICAgICAgIF9oYWNrZWRUZW51b3VzID0gZmFsc2U7CiAgICAgICAgX2hhY2tlZEVkdWNhdGVkID0gZmFsc2U7CiAgICAgICAgX2hhY2tlZEFkZXB0ID0gZmFsc2U7CgogICAgICAgIGlmKCFfd2hpdGVoYXRBY3RpdmUpewogICAgICAgICAgICBfbGFzdENvbnRyb2xGbGlwID0gbm93OwogICAgICAgIH0KCiAgICAgICAgX3doaXRlaGF0QWN0aXZlID0gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBraWxsKCkgb25seU93bmVyIHsKICAgICAgICBfaGFja29pblRva2VuLmtpbGwoKTsKICAgICAgICBfdGVudW91c1Rva2VuLmtpbGwoKTsKICAgICAgICBfZWR1Y2F0ZWRUb2tlbi5raWxsKCk7CiAgICAgICAgX2FkZXB0VG9rZW4ua2lsbCgpOwogICAgICAgIG1vcnRhbC5raWxsKCk7CiAgICB9CgogICAgLy8gZnVuY3Rpb24gdHJhbnNmZXJIYWNrb2luVG9rZW5Pd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIGFmdGVyRGVhZGxpbmUgewogICAgLy8gICAgIHJlcXVpcmUobXNnLmRhdGEubGVuZ3RoID09IDMyKzQpOwogICAgLy8gICAgIF9oYWNrb2luVG9rZW4udHJhbnNmZXJPd25lcnNoaXAobmV3T3duZXIpOwogICAgLy8gfQoKICAgIC8vIGZ1bmN0aW9uIHRyYW5zZmVyVGVudW91c1Rva2VuT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBhZnRlckRlYWRsaW5lIHsKICAgIC8vICAgICByZXF1aXJlKG1zZy5kYXRhLmxlbmd0aCA9PSAzMis0KTsKICAgIC8vICAgICBfdGVudW91c1Rva2VuLnRyYW5zZmVyT3duZXJzaGlwKG5ld093bmVyKTsKICAgIC8vIH0KCiAgICAvLyBmdW5jdGlvbiB0cmFuc2ZlckVkdWNhdGVkVG9rZW5Pd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIGFmdGVyRGVhZGxpbmUgewogICAgLy8gICAgIHJlcXVpcmUobXNnLmRhdGEubGVuZ3RoID09IDMyKzQpOwogICAgLy8gICAgIF9lZHVjYXRlZFRva2VuLnRyYW5zZmVyT3duZXJzaGlwKG5ld093bmVyKTsKICAgIC8vIH0KCiAgICAvLyBmdW5jdGlvbiB0cmFuc2ZlckFkZXB0VG9rZW5Pd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIGFmdGVyRGVhZGxpbmUgewogICAgLy8gICAgIHJlcXVpcmUobXNnLmRhdGEubGVuZ3RoID09IDMyKzQpOwogICAgLy8gICAgIF9hZGVwdFRva2VuLnRyYW5zZmVyT3duZXJzaGlwKG5ld093bmVyKTsKICAgIC8vIH0KfQoKY29udHJhY3QgaGFja29pbiBpcyBFUkMyMCwgb3duZWQsIG1vcnRhbCB7CiAgICBzdHJpbmcgcHVibGljIG5hbWU7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE2OwoKICAgIHVpbnQyNTYgcHVibGljIF90b3RhbFN1cHBseTsKCgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCiAgICBmdW5jdGlvbiBoYWNrb2luKHN0cmluZyBfbmFtZSwgc3RyaW5nIF9zeW1ib2wpIHsKICAgICAgICBuYW1lID0gX25hbWU7CiAgICAgICAgc3ltYm9sID0gX3N5bWJvbDsKICAgICAgICBfdG90YWxTdXBwbHkgPSAwOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShtc2cuZGF0YS5sZW5ndGggPT0gMzIqMis0KTsKCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUpOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID49IGJhbGFuY2VzW190b10pOwoKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CgogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShtc2cuZGF0YS5sZW5ndGggPT0gMzIqMys0KTsKCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfZnJvbV0gPj0gX2Ftb3VudCk7CiAgICAgICAgcmVxdWlyZShhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfYW1vdW50KTsKICAgICAgICByZXF1aXJlKF9hbW91bnQgPiAwKTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW190b10gKyBfYW1vdW50ID4gYmFsYW5jZXNbX3RvXSk7CgogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfYW1vdW50OwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF9hbW91bnQ7CiAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfYW1vdW50OwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbnRUb2tlbihhZGRyZXNzIHRhcmdldCwgdWludDI1NiBtaW50ZWRBbW91bnQpIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuZGF0YS5sZW5ndGggPT0gMzIqMis0KTsKCiAgICAgICAgYmFsYW5jZXNbdGFyZ2V0XSArPSBtaW50ZWRBbW91bnQ7CiAgICAgICAgX3RvdGFsU3VwcGx5ICs9IG1pbnRlZEFtb3VudDsKICAgICAgICBUcmFuc2ZlcigwLCBfb3duZXIsIG1pbnRlZEFtb3VudCk7CiAgICAgICAgVHJhbnNmZXIoX293bmVyLCB0YXJnZXQsIG1pbnRlZEFtb3VudCk7CiAgICB9CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHRvdGFsU3VwcGx5KSB7CiAgICAgICAgcmV0dXJuIF90b3RhbFN1cHBseTsKICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJlcXVpcmUobXNnLmRhdGEubGVuZ3RoID09IDMyKzQpOwogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUobXNnLmRhdGEubGVuZ3RoID09IDMyKjIrNCk7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICAgIHJlcXVpcmUobXNnLmRhdGEubGVuZ3RoID09IDMyKjIrNCk7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9Cn0='.
	

]
