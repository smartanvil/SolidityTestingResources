Class {
	#name : #SRT5Fe56CB82b3D88B6e37d3A9Dba8f5b40b28dDA7E,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5Fe56CB82b3D88B6e37d3A9Dba8f5b40b28dDA7E >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgoKbGlicmFyeSBTYWZlTWF0aCB7CgogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IE93bmVkSW50ZXJmYWNlIHsKICAgIGZ1bmN0aW9uIGdldE93bmVyKCkgcHVibGljIHZpZXcgcmV0dXJucyhhZGRyZXNzKTsKICAgIGZ1bmN0aW9uIGNoYW5nZU93bmVyKGFkZHJlc3MpIHB1YmxpYyByZXR1cm5zIChib29sKTsKfQoKY29udHJhY3QgT3duZWQgaXMgT3duZWRJbnRlcmZhY2UgewogICAgCiAgICBhZGRyZXNzIHByaXZhdGUgY29udHJhY3RPd25lcjsKICAKICAgIGV2ZW50IExvZ093bmVyQ2hhbmdlZCgKICAgICAgICBhZGRyZXNzIG9sZE93bmVyLCAKICAgICAgICBhZGRyZXNzIG5ld093bmVyKTsKCiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBjb250cmFjdE93bmVyKTsKICAgICAgICBfOwogICAgfSAKICAgCiAgICBmdW5jdGlvbiBPd25lZCgpIHB1YmxpYyB7CiAgICAgICAgY29udHJhY3RPd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdldE93bmVyKCkgcHVibGljIHZpZXcgcmV0dXJucyhhZGRyZXNzIG93bmVyKSB7CiAgICAgICAgcmV0dXJuIGNvbnRyYWN0T3duZXI7CiAgICB9CiAgCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIG5ld093bmVyKSAKICAgICAgICBwdWJsaWMgCiAgICAgICAgb25seU93bmVyIAogICAgICAgIHJldHVybnMoYm9vbCBzdWNjZXNzKSAKICAgIHsKICAgICAgICByZXF1aXJlKG5ld093bmVyICE9IDApOwogICAgICAgIExvZ093bmVyQ2hhbmdlZChjb250cmFjdE93bmVyLCBuZXdPd25lcik7CiAgICAgICAgY29udHJhY3RPd25lciA9IG5ld093bmVyOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9Cgpjb250cmFjdCBUaW1lTGltaXRlZFN0b3BwYWJsZUludGVyZmFjZSBpcyBPd25lZEludGVyZmFjZSAKewogIGZ1bmN0aW9uIGlzUnVubmluZygpIHB1YmxpYyB2aWV3IHJldHVybnMoYm9vbCBjb250cmFjdFJ1bm5pbmcpOwogIGZ1bmN0aW9uIHNldFJ1blN3aXRjaChib29sKSBwdWJsaWMgcmV0dXJucyhib29sIG9uT2ZmKTsKfQoKY29udHJhY3QgVGltZUxpbWl0ZWRTdG9wcGFibGUgaXMgVGltZUxpbWl0ZWRTdG9wcGFibGVJbnRlcmZhY2UsIE93bmVkIAp7CiAgYm9vbCBwcml2YXRlIHJ1bm5pbmc7CiAgdWludCBwcml2YXRlIGZpbmFsQmxvY2s7CgogIG1vZGlmaWVyIG9ubHlJZlJ1bm5pbmcKICB7CiAgICByZXF1aXJlKHJ1bm5pbmcpOwogICAgXzsKICB9CiAgCiAgZXZlbnQgTG9nU2V0UnVuU3dpdGNoKGFkZHJlc3Mgc2VuZGVyLCBib29sIGlzUnVubmluZyk7CiAgZXZlbnQgTG9nU2V0RmluYWxCbG9jayhhZGRyZXNzIHNlbmRlciwgdWludCBsYXN0QmxvY2spOwoKICBmdW5jdGlvbiBUaW1lTGltaXRlZFN0b3BwYWJsZSgpIHB1YmxpYyB7CiAgICBydW5uaW5nID0gdHJ1ZTsKICAgIGZpbmFsQmxvY2sgPSBub3cgKyAzOTAgZGF5czsKICAgIExvZ1NldFJ1blN3aXRjaChtc2cuc2VuZGVyLCB0cnVlKTsKICAgIExvZ1NldEZpbmFsQmxvY2sobXNnLnNlbmRlciwgZmluYWxCbG9jayk7CiAgfQoKICBmdW5jdGlvbiBpc1J1bm5pbmcoKSAKICAgIHB1YmxpYwogICAgdmlldyAKICAgIHJldHVybnMoYm9vbCBjb250cmFjdFJ1bm5pbmcpIAogIHsKICAgIHJldHVybiBydW5uaW5nICYmIG5vdyA8PSBmaW5hbEJsb2NrOwogIH0KCiAgZnVuY3Rpb24gZ2V0TGFzdEJsb2NrKCkgcHVibGljIHZpZXcgcmV0dXJucyh1aW50IGxhc3RCbG9jaykgewogICAgcmV0dXJuIGZpbmFsQmxvY2s7CiAgfQoKICBmdW5jdGlvbiBzZXRSdW5Td2l0Y2goYm9vbCBvbk9mZikgCiAgICBwdWJsaWMKICAgIG9ubHlPd25lcgogICAgcmV0dXJucyhib29sIHN1Y2Nlc3MpCiAgewogICAgTG9nU2V0UnVuU3dpdGNoKG1zZy5zZW5kZXIsIG9uT2ZmKTsKICAgIHJ1bm5pbmcgPSBvbk9mZjsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gU2V0RmluYWxCbG9jayh1aW50IGxhc3RCbG9jaykgCiAgICBwdWJsaWMgCiAgICBvbmx5T3duZXIgCiAgICByZXR1cm5zKGJvb2wgc3VjY2VzcykgCiAgewogICAgZmluYWxCbG9jayA9IGxhc3RCbG9jazsKICAgIExvZ1NldEZpbmFsQmxvY2sobXNnLnNlbmRlciwgZmluYWxCbG9jayk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cgp9Cgpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgdWludDI1NiB0b3RhbFN1cHBseV87CgogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIHRvdGFsU3VwcGx5XzsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwoKICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGludGVybmFsIGFsbG93ZWQ7CgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW19mcm9tXSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CgogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfSBlbHNlIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKfQoKbGlicmFyeSBTYWZlRVJDMjAgewogIGZ1bmN0aW9uIHNhZmVUcmFuc2ZlcihFUkMyMEJhc2ljIHRva2VuLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBpbnRlcm5hbCB7CiAgICBhc3NlcnQodG9rZW4udHJhbnNmZXIodG8sIHZhbHVlKSk7CiAgfQoKICBmdW5jdGlvbiBzYWZlVHJhbnNmZXJGcm9tKEVSQzIwIHRva2VuLCBhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIGludGVybmFsIHsKICAgIGFzc2VydCh0b2tlbi50cmFuc2ZlckZyb20oZnJvbSwgdG8sIHZhbHVlKSk7CiAgfQoKICBmdW5jdGlvbiBzYWZlQXBwcm92ZShFUkMyMCB0b2tlbiwgYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBpbnRlcm5hbCB7CiAgICBhc3NlcnQodG9rZW4uYXBwcm92ZShzcGVuZGVyLCB2YWx1ZSkpOwogIH0KfQoKY29udHJhY3QgQ2FuUmVjbGFpbVRva2VuIGlzIE93bmFibGUgewogIHVzaW5nIFNhZmVFUkMyMCBmb3IgRVJDMjBCYXNpYzsKCiAgZnVuY3Rpb24gcmVjbGFpbVRva2VuKEVSQzIwQmFzaWMgdG9rZW4pIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICB1aW50MjU2IGJhbGFuY2UgPSB0b2tlbi5iYWxhbmNlT2YodGhpcyk7CiAgICB0b2tlbi5zYWZlVHJhbnNmZXIob3duZXIsIGJhbGFuY2UpOwogIH0KCn0KCmNvbnRyYWN0IENNQ1RJbnRlcmZhY2UgaXMgRVJDMjAgewogIGZ1bmN0aW9uIGlzQ01DVCgpIHB1YmxpYyBwdXJlIHJldHVybnMoYm9vbCBpc0luZGVlZCk7Cn0KCmNvbnRyYWN0IENNQ1QgaXMgQ01DVEludGVyZmFjZSwgU3RhbmRhcmRUb2tlbiwgQ2FuUmVjbGFpbVRva2VuIHsKICBzdHJpbmcgcHVibGljIG5hbWUgPSAiQ3Jvd2QgTWFjaGluZSBDb21wdXRlIFRva2VuIjsKICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJDTUNUIjsKICB1aW50OCAgcHVibGljIGRlY2ltYWxzID0gODsKICB1aW50MjU2IHB1YmxpYyBJTklUSUFMX1NVUFBMWSA9IHVpbnQoMjAwMDAwMDAwMCkgKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpOwoKICBmdW5jdGlvbiBDTUNUKCkgcHVibGljIHsKICAgIHRvdGFsU3VwcGx5XyA9IElOSVRJQUxfU1VQUExZOwogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBJTklUSUFMX1NVUFBMWTsKICB9CiAgIAogIGZ1bmN0aW9uIGlzQ01DVCgpIHB1YmxpYyBwdXJlIHJldHVybnMoYm9vbCBpc0luZGVlZCkgewogICAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCmNvbnRyYWN0IENtY3RTYWxlSW50ZXJmYWNlIGlzIFRpbWVMaW1pdGVkU3RvcHBhYmxlSW50ZXJmYWNlLCBDYW5SZWNsYWltVG9rZW4gewogIAogIHN0cnVjdCBGdW5kZXJTdHJ1Y3QgewogICAgYm9vbCByZWdpc3RlcmVkOwogICAgYm9vbCBhcHByb3ZlZDsKICB9CiAgCiAgbWFwcGluZyhhZGRyZXNzID0+IEZ1bmRlclN0cnVjdCkgcHVibGljIGZ1bmRlclN0cnVjdHM7CiAgCiAgZnVuY3Rpb24gaXNVc2VyKGFkZHJlc3MgdXNlcikgcHVibGljIHZpZXcgcmV0dXJucyhib29sIGlzSW5kZWVkKTsKICBmdW5jdGlvbiBpc0FwcHJvdmVkKGFkZHJlc3MgdXNlcikgcHVibGljIHZpZXcgcmV0dXJucyhib29sIGlzSW5kZWVkKTsKICBmdW5jdGlvbiByZWdpc3RlclNlbGYoYnl0ZXMzMiB1aWQpIHB1YmxpYyByZXR1cm5zKGJvb2wgc3VjY2Vzcyk7CiAgZnVuY3Rpb24gcmVnaXN0ZXJVc2VyKGFkZHJlc3MgdXNlciwgYnl0ZXMzMiB1aWQpIHB1YmxpYyByZXR1cm5zKGJvb2wgc3VjY2Vzcyk7CiAgZnVuY3Rpb24gYXBwcm92ZVVzZXIoYWRkcmVzcyB1c2VyLCBieXRlczMyIHVpZCkgcHVibGljIHJldHVybnMoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiBkaXNhcHByb3ZlVXNlcihhZGRyZXNzIHVzZXIsIGJ5dGVzMzIgdWlkKSBwdWJsaWMgcmV0dXJucyhib29sIHN1Y2Nlc3MpOwogIGZ1bmN0aW9uIHdpdGhkcmF3RXRoKHVpbnQgYW1vdW50LCBhZGRyZXNzIHRvLCBieXRlczMyIHVpZCkgcHVibGljIHJldHVybnMoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiByZWxheUNNQ1QoYWRkcmVzcyByZWNlaXZlciwgdWludCBhbW91bnQsIGJ5dGVzMzIgdWlkKSBwdWJsaWMgcmV0dXJucyhib29sIHN1Y2Nlc3MpOwogIGZ1bmN0aW9uIGJ1bGtSZWxheUNNQ1QoYWRkcmVzc1tdIHJlY2VpdmVycywgdWludFtdIGFtb3VudHMsIGJ5dGVzMzIgdWlkKSBwdWJsaWMgcmV0dXJucyhib29sIHN1Y2Nlc3MpOwogIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlOwp9Cgpjb250cmFjdCBDbWN0U2FsZSBpcyBDbWN0U2FsZUludGVyZmFjZSwgVGltZUxpbWl0ZWRTdG9wcGFibGUgewogIAogIENNQ1RJbnRlcmZhY2UgY21jdFRva2VuOwogIAogIGV2ZW50IExvZ1NldFRva2VuQWRkcmVzcyhhZGRyZXNzIHNlbmRlciwgYWRkcmVzcyBjbWN0Q29udHJhY3QpOwogIGV2ZW50IExvZ1VzZXJSZWdpc3RlcmVkKGFkZHJlc3MgaW5kZXhlZCBzZW5kZXIsIGFkZHJlc3MgaW5kZXhlZCB1c2VyLCBieXRlczMyIGluZGV4ZWQgdWlkKTsKICBldmVudCBMb2dVc2VyQXBwcm92ZWQoYWRkcmVzcyBpbmRleGVkIHNlbmRlciwgYWRkcmVzcyB1c2VyLCBieXRlczMyIGluZGV4ZWQgdWlkKTsKICBldmVudCBMb2dVc2VyRGlzYXBwcm92ZWQoYWRkcmVzcyBpbmRleGVkIHNlbmRlciwgYWRkcmVzcyB1c2VyLCBieXRlczMyIGluZGV4ZWQgdWlkKTsKICBldmVudCBMb2dFdGhXaXRoZHJhd24oYWRkcmVzcyBpbmRleGVkIHNlbmRlciwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IGFtb3VudCwgYnl0ZXMzMiBpbmRleGVkIHVpZCk7CiAgZXZlbnQgTG9nQ01DVFJlbGF5RmFpbGVkKGFkZHJlc3MgaW5kZXhlZCBzZW5kZXIsIGFkZHJlc3MgaW5kZXhlZCByZWNlaXZlciwgdWludCBhbW91bnQsIGJ5dGVzMzIgaW5kZXhlZCB1aWQpOwogIGV2ZW50IExvZ0NNQ1RSZWxheWVkKGFkZHJlc3MgaW5kZXhlZCBzZW5kZXIsIGFkZHJlc3MgaW5kZXhlZCByZWNlaXZlciwgdWludCBhbW91bnQsIGJ5dGVzMzIgaW5kZXhlZCB1aWQpOwogIGV2ZW50IExvZ0V0aFJlY2VpdmVkKGFkZHJlc3MgaW5kZXhlZCBzZW5kZXIsIHVpbnQgYW1vdW50KTsKICAKICBtb2RpZmllciBvbmx5aWZJbml0aWFsaXplZCB7CiAgICAgIHJlcXVpcmUoY21jdFRva2VuLmlzQ01DVCgpKTsKICAgICAgXzsKICB9CgogIGZ1bmN0aW9uIAogICAgQ21jdFNhbGUoYWRkcmVzcyBjbWN0Q29udHJhY3QpIAogICAgcHVibGljIAogIHsKICAgIHJlcXVpcmUoY21jdENvbnRyYWN0ICE9IDApOwogICAgY21jdFRva2VuID0gQ01DVEludGVyZmFjZShjbWN0Q29udHJhY3QpOwogICAgTG9nU2V0VG9rZW5BZGRyZXNzKG1zZy5zZW5kZXIsIGNtY3RDb250cmFjdCk7CiAgIH0KCiAgZnVuY3Rpb24gc2V0VG9rZW5BZGRyZXNzKGFkZHJlc3MgY21jdENvbnRyYWN0KSBwdWJsaWMgb25seU93bmVyIHJldHVybnMoYm9vbCBzdWNjZXNzKSB7CiAgICAgIHJlcXVpcmUoY21jdENvbnRyYWN0ICE9IDApOwogICAgICBjbWN0VG9rZW4gPSBDTUNUSW50ZXJmYWNlKGNtY3RDb250cmFjdCk7CiAgICAgIExvZ1NldFRva2VuQWRkcmVzcyhtc2cuc2VuZGVyLCBjbWN0Q29udHJhY3QpOwogICAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGdldFRva2VuQWRkcmVzcygpIHB1YmxpYyB2aWV3IHJldHVybnMoYWRkcmVzcyBjbWN0Q29udHJhY3QpIHsKICAgIHJldHVybiBjbWN0VG9rZW47CiAgfQoKICBmdW5jdGlvbiBpc1VzZXIoYWRkcmVzcyB1c2VyKSBwdWJsaWMgdmlldyByZXR1cm5zKGJvb2wgaXNJbmRlZWQpIHsKICAgICAgcmV0dXJuIGZ1bmRlclN0cnVjdHNbdXNlcl0ucmVnaXN0ZXJlZDsKICB9CgogIGZ1bmN0aW9uIGlzQXBwcm92ZWQoYWRkcmVzcyB1c2VyKSBwdWJsaWMgdmlldyByZXR1cm5zKGJvb2wgaXNJbmRlZWQpIHsKICAgICAgaWYoIWlzVXNlcih1c2VyKSkgcmV0dXJuIGZhbHNlOwogICAgICByZXR1cm4oZnVuZGVyU3RydWN0c1t1c2VyXS5hcHByb3ZlZCk7CiAgfQoKICBmdW5jdGlvbiByZWdpc3RlclNlbGYoYnl0ZXMzMiB1aWQpIHB1YmxpYyBvbmx5SWZSdW5uaW5nIHJldHVybnMoYm9vbCBzdWNjZXNzKSB7CiAgICAgIHJlcXVpcmUoIWlzVXNlcihtc2cuc2VuZGVyKSk7CiAgICAgIGZ1bmRlclN0cnVjdHNbbXNnLnNlbmRlcl0ucmVnaXN0ZXJlZCA9IHRydWU7CiAgICAgIExvZ1VzZXJSZWdpc3RlcmVkKG1zZy5zZW5kZXIsIG1zZy5zZW5kZXIsIHVpZCk7CiAgICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gcmVnaXN0ZXJVc2VyKGFkZHJlc3MgdXNlciwgYnl0ZXMzMiB1aWQpIHB1YmxpYyBvbmx5T3duZXIgb25seUlmUnVubmluZyByZXR1cm5zKGJvb2wgc3VjY2VzcykgewogICAgICByZXF1aXJlKCFpc1VzZXIodXNlcikpOwogICAgICBmdW5kZXJTdHJ1Y3RzW3VzZXJdLnJlZ2lzdGVyZWQgPSB0cnVlOwogICAgICBMb2dVc2VyUmVnaXN0ZXJlZChtc2cuc2VuZGVyLCB1c2VyLCB1aWQpOwogICAgICByZXR1cm4gdHJ1ZTsgICAgICAKICB9CgogIGZ1bmN0aW9uIGFwcHJvdmVVc2VyKGFkZHJlc3MgdXNlciwgYnl0ZXMzMiB1aWQpIHB1YmxpYyBvbmx5T3duZXIgb25seUlmUnVubmluZyByZXR1cm5zKGJvb2wgc3VjY2VzcykgewogICAgICByZXF1aXJlKGlzVXNlcih1c2VyKSk7CiAgICAgIHJlcXVpcmUoIWlzQXBwcm92ZWQodXNlcikpOwogICAgICBmdW5kZXJTdHJ1Y3RzW3VzZXJdLmFwcHJvdmVkID0gdHJ1ZTsKICAgICAgTG9nVXNlckFwcHJvdmVkKG1zZy5zZW5kZXIsIHVzZXIsIHVpZCk7CiAgICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gZGlzYXBwcm92ZVVzZXIoYWRkcmVzcyB1c2VyLCBieXRlczMyIHVpZCkgcHVibGljIG9ubHlPd25lciBvbmx5SWZSdW5uaW5nIHJldHVybnMoYm9vbCBzdWNjZXNzKSB7CiAgICAgIHJlcXVpcmUoaXNVc2VyKHVzZXIpKTsKICAgICAgcmVxdWlyZShpc0FwcHJvdmVkKHVzZXIpKTsKICAgICAgZnVuZGVyU3RydWN0c1t1c2VyXS5hcHByb3ZlZCA9IGZhbHNlOwogICAgICBMb2dVc2VyRGlzYXBwcm92ZWQobXNnLnNlbmRlciwgdXNlciwgdWlkKTsKICAgICAgcmV0dXJuIHRydWU7ICAgICAgCiAgfQoKICBmdW5jdGlvbiB3aXRoZHJhd0V0aCh1aW50IGFtb3VudCwgYWRkcmVzcyB0bywgYnl0ZXMzMiB1aWQpIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyhib29sIHN1Y2Nlc3MpIHsKICAgICAgTG9nRXRoV2l0aGRyYXduKG1zZy5zZW5kZXIsIHRvLCBhbW91bnQsIHVpZCk7CiAgICAgIHRvLnRyYW5zZmVyKGFtb3VudCk7CiAgICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gcmVsYXlDTUNUKGFkZHJlc3MgcmVjZWl2ZXIsIHVpbnQgYW1vdW50LCBieXRlczMyIHVpZCkgcHVibGljIG9ubHlPd25lciBvbmx5SWZSdW5uaW5nIG9ubHlpZkluaXRpYWxpemVkIHJldHVybnMoYm9vbCBzdWNjZXNzKSB7CiAgICBpZighaXNBcHByb3ZlZChyZWNlaXZlcikpIHsKICAgICAgTG9nQ01DVFJlbGF5RmFpbGVkKG1zZy5zZW5kZXIsIHJlY2VpdmVyLCBhbW91bnQsIHVpZCk7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0gZWxzZSB7CiAgICAgIExvZ0NNQ1RSZWxheWVkKG1zZy5zZW5kZXIsIHJlY2VpdmVyLCBhbW91bnQsIHVpZCk7CiAgICAgIHJlcXVpcmUoY21jdFRva2VuLnRyYW5zZmVyKHJlY2VpdmVyLCBhbW91bnQpKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfQogCiAgZnVuY3Rpb24gYnVsa1JlbGF5Q01DVChhZGRyZXNzW10gcmVjZWl2ZXJzLCB1aW50W10gYW1vdW50cywgYnl0ZXMzMiB1aWQpIHB1YmxpYyBvbmx5T3duZXIgb25seUlmUnVubmluZyBvbmx5aWZJbml0aWFsaXplZCByZXR1cm5zKGJvb2wgc3VjY2VzcykgewogICAgZm9yKHVpbnQgaT0wOyBpPHJlY2VpdmVycy5sZW5ndGg7IGkrKykgewogICAgICBpZighaXNBcHByb3ZlZChyZWNlaXZlcnNbaV0pKSB7CiAgICAgICAgTG9nQ01DVFJlbGF5RmFpbGVkKG1zZy5zZW5kZXIsIHJlY2VpdmVyc1tpXSwgYW1vdW50c1tpXSwgdWlkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBMb2dDTUNUUmVsYXllZChtc2cuc2VuZGVyLCByZWNlaXZlcnNbaV0sIGFtb3VudHNbaV0sIHVpZCk7CiAgICAgICAgcmVxdWlyZShjbWN0VG9rZW4udHJhbnNmZXIocmVjZWl2ZXJzW2ldLCBhbW91bnRzW2ldKSk7CiAgICAgIH0gCiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uICgpIHB1YmxpYyBvbmx5SWZSdW5uaW5nIHBheWFibGUgewogICAgcmVxdWlyZShpc0FwcHJvdmVkKG1zZy5zZW5kZXIpKTsKICAgIExvZ0V0aFJlY2VpdmVkKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgfQp9'.
	

]
