Class {
	#name : #SRT5d51fcced3114a8bb5e90cdd0f9d682bcbcc5393,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5d51fcced3114a8bb5e90cdd0f9d682bcbcc5393 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgovLy8gQHRpdGxlIFNhZmVNYXRoCi8vLyBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9CgovLy8gQHRpdGxlIEVSQzIwIFN0YW5kYXJkIFRva2VuIGludGVyZmFjZQpjb250cmFjdCBJRVJDMjBUb2tlbiB7CiAgICBmdW5jdGlvbiBuYW1lKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHN0cmluZykgeyBuYW1lOyB9CiAgICBmdW5jdGlvbiBzeW1ib2woKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nKSB7IHN5bWJvbDsgfQogICAgZnVuY3Rpb24gZGVjaW1hbHMoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDgpIHsgZGVjaW1hbHM7IH0KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsgdG90YWxTdXBwbHk7IH0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgeyBfb3duZXI7IGJhbGFuY2U7IH0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7IF9vd25lcjsgX3NwZW5kZXI7IHJlbWFpbmluZzsgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwp9CgovLy8gQHRpdGxlIEVSQzIwIFN0YW5kYXJkIFRva2VuIGltcGxlbWVudGF0aW9uCmNvbnRyYWN0IEVSQzIwVG9rZW4gaXMgSUVSQzIwVG9rZW4gewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgc3RyaW5nIHB1YmxpYyBzdGFuZGFyZCA9ICdUb2tlbiAwLjEnOwogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gJyc7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICcnOwogICAgdWludDggcHVibGljIGRlY2ltYWxzID0gMDsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5ID0gMDsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VPZjsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgcHVibGljIGFsbG93YW5jZTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwoKICAgIGZ1bmN0aW9uIEVSQzIwVG9rZW4oc3RyaW5nIF9uYW1lLCBzdHJpbmcgX3N5bWJvbCwgdWludDggX2RlY2ltYWxzKSB7CiAgICAgICAgcmVxdWlyZShieXRlcyhfbmFtZSkubGVuZ3RoID4gMCAmJiBieXRlcyhfc3ltYm9sKS5sZW5ndGggPiAwKTsKICAgICAgICBuYW1lID0gX25hbWU7CiAgICAgICAgc3ltYm9sID0gX3N5bWJvbDsKICAgICAgICBkZWNpbWFscyA9IF9kZWNpbWFsczsKICAgIH0KCiAgICBtb2RpZmllciB2YWxpZEFkZHJlc3MoYWRkcmVzcyBfYWRkcmVzcykgewogICAgICAgIHJlcXVpcmUoX2FkZHJlc3MgIT0gMHgwKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHZhbGlkQWRkcmVzcyhfdG8pIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPSBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZU9mW190b10gPSBiYWxhbmNlT2ZbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHZhbGlkQWRkcmVzcyhfdG8pIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlT2ZbX2Zyb21dID0gYmFsYW5jZU9mW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlT2ZbX3RvXSA9IGJhbGFuY2VPZltfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHZhbGlkQWRkcmVzcyhfc3BlbmRlcikgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX3ZhbHVlID09IDAgfHwgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKTsKICAgICAgICBhbGxvd2FuY2VbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9Cgpjb250cmFjdCBJT3duZWQgewogICAgZnVuY3Rpb24gb3duZXIoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgeyBvd25lcjsgfQogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYzsKfQoKY29udHJhY3QgT3duZWQgaXMgSU93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgZnVuY3Rpb24gT3duZWQoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQogICAgbW9kaWZpZXIgdmFsaWRBZGRyZXNzKGFkZHJlc3MgX2FkZHJlc3MpIHsKICAgICAgICByZXF1aXJlKF9hZGRyZXNzICE9IDB4MCk7CiAgICAgICAgXzsKICAgIH0KICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIF9uZXdPd25lcikgdmFsaWRBZGRyZXNzKF9uZXdPd25lcikgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKF9uZXdPd25lciAhPSBvd25lcik7CiAgICAgICAgCiAgICAgICAgb3duZXIgPSBfbmV3T3duZXI7CiAgICB9Cn0KCi8vLyBAdGl0bGUgQjJCWCBjb250cmFjdCBpbnRlcmZhY2UKY29udHJhY3QgSVNtYXJ0VG9rZW4gewogICAgZnVuY3Rpb24gaW5pdGlhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7IGluaXRpYWxTdXBwbHk7IH0KCiAgICBmdW5jdGlvbiB0b3RhbFNvbGRUb2tlbnMoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgeyB0b3RhbFNvbGRUb2tlbnM7IH0KICAgIGZ1bmN0aW9uIHRvdGFsUHJvamVjdFRva2VuKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsgdG90YWxQcm9qZWN0VG9rZW47IH0KCiAgICBmdW5jdGlvbiBmdW5kaW5nRW5hYmxlZCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKSB7IGZ1bmRpbmdFbmFibGVkOyB9CiAgICBmdW5jdGlvbiB0cmFuc2ZlcnNFbmFibGVkKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsgdHJhbnNmZXJzRW5hYmxlZDsgfQp9CgovLy8gQHRpdGxlIEIyQlggY29udHJhY3QgLSBjcm93ZGZ1bmRpbmcgY29kZSBmb3IgQjJCWCBQcm9qZWN0CmNvbnRyYWN0IFNtYXJ0VG9rZW4gaXMgSVNtYXJ0VG9rZW4sIEVSQzIwVG9rZW4sIE93bmVkIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogCiAgICAvLyBUaGUgY3VycmVudCBpbml0aWFsIHRva2VuIHN1cHBseS4KICAgIHVpbnQyNTYgcHVibGljIGluaXRpYWxTdXBwbHkgPSA1MDAwMDAwMCBldGhlcjsKCiAgICAvLyBDb2xkIHdhbGxldCBmb3IgZGlzdHJpYnV0aW9uIG9mIHRva2Vucy4KICAgIGFkZHJlc3MgcHVibGljIGZ1bmRpbmdXYWxsZXQ7CgogICAgLy8gVGhlIGZsYWcgaW5kaWNhdGVzIGlmIHRoZSBCMkJYIGNvbnRyYWN0IGlzIGluIEZ1bmRpbmcgc3RhdGUuCiAgICBib29sIHB1YmxpYyBmdW5kaW5nRW5hYmxlZCA9IHRydWU7CgogICAgLy8gVGhlIG1heGltdW0gdG9rZW5zIGF2YWlsYWJsZSBmb3Igc2FsZS4KICAgIHVpbnQyNTYgcHVibGljIG1heFNhbGVUb2tlbjsKCiAgICAvLyBUb3RhbCBudW1iZXIgb2YgdG9rZW5zIHNvbGQuCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFNvbGRUb2tlbnM7CiAgICAvLyBUb3RhbCBudW1iZXIgb2YgdG9rZW5zIGZvciBCMkJYIFByb2plY3QuCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFByb2plY3RUb2tlbjsKICAgIHVpbnQyNTYgcHJpdmF0ZSB0b3RhbExvY2tUb2tlbjsKCiAgICAvLyBUaGUgZmxhZyBpbmRpY2F0ZXMgaWYgdGhlIEIyQlggY29udHJhY3QgaXMgaW4gZW5lYmxlIC8gZGlzYWJsZSB0cmFuc2ZlcnMuCiAgICBib29sIHB1YmxpYyB0cmFuc2ZlcnNFbmFibGVkID0gdHJ1ZTsgCgogICAgLy8gV2FsbGV0cywgd2hpY2ggYWxsb3dlZCB0aGUgdHJhbnNhY3Rpb24gZHVyaW5nIHRoZSBjcm93ZGZ1bmRpbmcuCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHByaXZhdGUgZnVuZGluZ1dhbGxldHM7CiAgICAvLyBXYWxsZXRzIEIyQlggUHJvamVjdCwgd2hpY2ggd2lsbCBiZSBsb2NrZWQgdGhlIHRva2VucwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBhbGxvY2F0aW9uTG9jaykgcHVibGljIGFsbG9jYXRpb25zOwoKICAgIHN0cnVjdCBhbGxvY2F0aW9uTG9jayB7CiAgICAgICAgdWludDI1NiB2YWx1ZTsKICAgICAgICB1aW50MjU2IGVuZDsKICAgICAgICBib29sIGxvY2tlZDsKICAgIH0KCiAgICBldmVudCBGaW5hbGl6ZShhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IExvY2soYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSwgdWludDI1NiBfZW5kKTsKICAgIGV2ZW50IFVubG9jayhhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IERpc2FibGVUcmFuc2ZlcnMoYWRkcmVzcyBpbmRleGVkIF9mcm9tKTsKCiAgICAvLy8gQG5vdGljZSBCMkJYIFByb2plY3QgLSBJbml0aWFsaXppbmcgY3Jvd2RmdW5kaW5nLgogICAgLy8vIEBkZXYgQ29uc3RydWN0b3IuCiAgICBmdW5jdGlvbiBTbWFydFRva2VuKCkgRVJDMjBUb2tlbigiQjJCWCIsICJCMkJYIiwgMTgpIHsKICAgICAgICAvLyBUaGUgbWFpbiwgY29sZCB3YWxsZXQgZm9yIHRoZSBkaXN0cmlidXRpb24gb2YgdG9rZW5zLgogICAgICAgIGZ1bmRpbmdXYWxsZXQgPSBtc2cuc2VuZGVyOyAKCiAgICAgICAgLy8gSW5pdGlhbGl6aW5nIDgwJSBvZiB0b2tlbnMgZm9yIHNhbGUuCiAgICAgICAgLy8gbWF4U2FsZVRva2VuID0gaW5pdGlhbFN1cHBseSAqIDgwIC8gMTAwICg4MCUgdGhpcyBpcyBtYXhTYWxlVG9rZW4gJiAxMDAlIHRoaXMgaXMgaW5pdGlhbFN1cHBseSkKICAgICAgICAvLyB0b3RhbFByb2plY3RUb2tlbiB3aWxsIGJlIGNhbGN1bGF0ZWQgaW4gZnVuY3Rpb24gZmluYWxpemUoKQogICAgICAgIC8vIAogICAgICAgIC8vIHwtLS0tLS0tLS0tLS1tYXhTYWxlVG9rZW4tLS0tLS10b3RhbFByb2plY3RUb2tlbnwKICAgICAgICAvLyB8PT09PT09PT09PT09PT09PTgwJT09PT09PT09PT09PT09PT18PT09PTIwJT09PT18CiAgICAgICAgLy8gfC0tLS0tLS0tLS0tLS0tLS0taW5pdGlhbFN1cHBseS0tLS0tLS0tLS0tLS0tLS0tfAogICAgICAgIG1heFNhbGVUb2tlbiA9IGluaXRpYWxTdXBwbHkubXVsKDgwKS5kaXYoMTAwKTsKCiAgICAgICAgYmFsYW5jZU9mW2Z1bmRpbmdXYWxsZXRdID0gbWF4U2FsZVRva2VuOwogICAgICAgIHRvdGFsU3VwcGx5ID0gaW5pdGlhbFN1cHBseTsKCiAgICAgICAgZnVuZGluZ1dhbGxldHNbZnVuZGluZ1dhbGxldF0gPSB0cnVlOwogICAgICAgIGZ1bmRpbmdXYWxsZXRzWzB4RUYwMkUxYTg3YzkxNDM1MzQ5NDM3ZjAzNUY4NUY1YTg1ZjZiMzlhZV0gPSB0cnVlOwogICAgICAgIGZ1bmRpbmdXYWxsZXRzWzB4YjBlNUUxN0I0M2RBRWNFNDdBQmUzZTgxOTM4MDYzNDMyQThENjgzZF0gPSB0cnVlOwogICAgICAgIGZ1bmRpbmdXYWxsZXRzWzB4Njc4MDU3MDFBNTA0NTA5Mjg4MmNCNGM3YjA2NkZGNzhCYjM2NTkzOF0gPSB0cnVlOwogICAgICAgIGZ1bmRpbmdXYWxsZXRzWzB4ODBDRDQzODhFN0M1NDc1OGFCMkIzZjFjODEwNjMwYWE2NTNBYzkzMl0gPSB0cnVlOwogICAgICAgIGZ1bmRpbmdXYWxsZXRzWzB4ZkU1MTU1NUFlYTkxNzY4RjBhQTJmQ2I1NTcwNWJkMUMzMzBGYjk3M10gPSB0cnVlOwogICAgfQoKICAgIC8vIFZhbGlkYXRlcyBhbiBhZGRyZXNzIC0gY3VycmVudGx5IG9ubHkgY2hlY2tzIHRoYXQgaXQgaXNuJ3QgbnVsbC4KICAgIG1vZGlmaWVyIHZhbGlkQWRkcmVzcyhhZGRyZXNzIF9hZGRyZXNzKSB7CiAgICAgICAgcmVxdWlyZShfYWRkcmVzcyAhPSAweDApOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgdHJhbnNmZXJzQWxsb3dlZChhZGRyZXNzIF9hZGRyZXNzKSB7CiAgICAgICAgaWYgKGZ1bmRpbmdFbmFibGVkKSB7CiAgICAgICAgICAgIHJlcXVpcmUoZnVuZGluZ1dhbGxldHNbX2FkZHJlc3NdKTsKICAgICAgICB9CgogICAgICAgIHJlcXVpcmUodHJhbnNmZXJzRW5hYmxlZCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBUaGlzIGZ1bmN0aW9uIGlzIGRpc2FibGVkIGR1cmluZyB0aGUgY3Jvd2RmdW5kaW5nLgogICAgLy8vIEBkZXYgU2VuZCB0b2tlbnMuCiAgICAvLy8gQHBhcmFtIF90byBhZGRyZXNzICAgICAgVGhlIGFkZHJlc3Mgb2YgdGhlIHRva2VucyByZWNpcGllbnQuCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBfdmFsdWUgICAgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZC4KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHZhbGlkQWRkcmVzcyhfdG8pIHRyYW5zZmVyc0FsbG93ZWQobXNnLnNlbmRlcikgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgLy8vIEBub3RpY2UgVGhpcyBmdW5jdGlvbiBpcyBkaXNhYmxlZCBkdXJpbmcgdGhlIGNyb3dkZnVuZGluZy4KICAgIC8vLyBAZGV2IFNlbmQgZnJvbSB0b2tlbnMuCiAgICAvLy8gQHBhcmFtIF9mcm9tIGFkZHJlc3MgICAgVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlciBvZiB0aGUgdG9rZW4KICAgIC8vLyBAcGFyYW0gX3RvIGFkZHJlc3MgICAgICBUaGUgYWRkcmVzcyBvZiB0aGUgdG9rZW5zIHJlY2lwaWVudC4KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIF92YWx1ZSAgICBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkLgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHZhbGlkQWRkcmVzcyhfdG8pIHRyYW5zZmVyc0FsbG93ZWQoX2Zyb20pIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgLy8vIEBub3RpY2UgVGhpcyBmdW5jdGlvbiBjYW4gYWNjZXB0IGZvciBibG9ja2luZyBubyBtb3JlIHRoYW4gInRvdGFsUHJvamVjdFRva2VuIi4KICAgIC8vLyBAZGV2IExvY2sgdG9rZW5zIHRvIGEgc3BlY2lmaWVkIGFkZHJlc3MuCiAgICAvLy8gQHBhcmFtIF90byBhZGRyZXNzICAgICAgVGhlIGFkZHJlc3MgdG8gbG9jayB0b2tlbnMgdG8uCiAgICAvLy8gQHBhcmFtIF92YWx1ZSB1aW50MjU2ICAgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgbG9ja2VkLgogICAgLy8vIEBwYXJhbSBfZW5kIHVpbnQyNTYgICAgIFRoZSBlbmQgb2YgdGhlIGxvY2sgcGVyaW9kLgogICAgZnVuY3Rpb24gbG9jayhhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIHVpbnQyNTYgX2VuZCkgaW50ZXJuYWwgdmFsaWRBZGRyZXNzKF90bykgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF92YWx1ZSA+IDApOwoKICAgICAgICBhc3NlcnQodG90YWxQcm9qZWN0VG9rZW4gPiAwKTsKCiAgICAgICAgLy8gQ2hlY2sgdGhhdCB0aGlzIGxvY2sgZG9lc24ndCBleGNlZWQgdGhlIHRvdGFsIGFtb3VudCBvZiB0b2tlbnMgY3VycmVudGx5IGF2YWlsYWJsZSBmb3IgdG90YWxQcm9qZWN0VG9rZW4uCiAgICAgICAgdG90YWxMb2NrVG9rZW4gPSB0b3RhbExvY2tUb2tlbi5hZGQoX3ZhbHVlKTsKICAgICAgICBhc3NlcnQodG90YWxQcm9qZWN0VG9rZW4gPj0gdG90YWxMb2NrVG9rZW4pOwoKICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBhIHNpbmdsZSBhZGRyZXNzIGNhbiBiZSBsb2NrZWQgdG9rZW5zIG9ubHkgb25jZS4KICAgICAgICByZXF1aXJlKGFsbG9jYXRpb25zW190b10udmFsdWUgPT0gMCk7CgogICAgICAgIC8vIEFzc2lnbiBhIG5ldyBsb2NrLgogICAgICAgIGFsbG9jYXRpb25zW190b10gPSBhbGxvY2F0aW9uTG9jayh7CiAgICAgICAgICAgIHZhbHVlOiBfdmFsdWUsCiAgICAgICAgICAgIGVuZDogX2VuZCwKICAgICAgICAgICAgbG9ja2VkOiB0cnVlCiAgICAgICAgfSk7CgogICAgICAgIExvY2sodGhpcywgX3RvLCBfdmFsdWUsIF9lbmQpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBPbmx5IHRoZSBvd25lciBvZiBhIGxvY2tlZCB3YWxsZXQgY2FuIHVubG9jayB0aGUgdG9rZW5zLgogICAgLy8vIEBkZXYgVW5sb2NrIHRva2VucyBhdCB0aGUgYWRkcmVzcyB0byB0aGUgY2FsbGVyIGZ1bmN0aW9uLgogICAgZnVuY3Rpb24gdW5sb2NrKCkgZXh0ZXJuYWwgewogICAgICAgIHJlcXVpcmUoYWxsb2NhdGlvbnNbbXNnLnNlbmRlcl0ubG9ja2VkKTsKICAgICAgICByZXF1aXJlKG5vdyA+PSBhbGxvY2F0aW9uc1ttc2cuc2VuZGVyXS5lbmQpOwogICAgICAgIAogICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSA9IGJhbGFuY2VPZlttc2cuc2VuZGVyXS5hZGQoYWxsb2NhdGlvbnNbbXNnLnNlbmRlcl0udmFsdWUpOwoKICAgICAgICBhbGxvY2F0aW9uc1ttc2cuc2VuZGVyXS5sb2NrZWQgPSBmYWxzZTsKCiAgICAgICAgVHJhbnNmZXIodGhpcywgbXNnLnNlbmRlciwgYWxsb2NhdGlvbnNbbXNnLnNlbmRlcl0udmFsdWUpOwogICAgICAgIFVubG9jayh0aGlzLCBtc2cuc2VuZGVyLCBhbGxvY2F0aW9uc1ttc2cuc2VuZGVyXS52YWx1ZSk7CiAgICB9CgogICAgLy8vIEBub3RpY2UgQjJCWCBBbGxvY2F0aW9uIC0gZmluYWxpemUgY3Jvd2RmdW5kaW5nICYgdGltZS1sb2NrZWQgdmF1bHQgb2YgdG9rZW5zIGFsbG9jYXRlZAogICAgLy8vIHRvIEIyQlggY29tcGFueSwgZGV2ZWxvcGVycyBhbmQgYm91bnR5IHByb2dyYW0uCiAgICBmdW5jdGlvbiBmaW5hbGl6ZSgpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShmdW5kaW5nRW5hYmxlZCk7CgogICAgICAgIC8vIEdldCB0b3RhbCBzb2xkIHRva2VucyBvbiB0aGUgZnVuZGluZ1dhbGxldC4KICAgICAgICAvLyB0b3RhbFNvbGRUb2tlbnMgaXMgODAlIG9mIHRoZSB0b3RhbCBudW1iZXIgb2YgdG9rZW5zLgogICAgICAgIHRvdGFsU29sZFRva2VucyA9IG1heFNhbGVUb2tlbi5zdWIoYmFsYW5jZU9mW2Z1bmRpbmdXYWxsZXRdKTsKCiAgICAgICAgLy8gdG90YWxQcm9qZWN0VG9rZW4gPSB0b3RhbFNvbGRUb2tlbnMgKiAyMCAvIDgwICgyMCUgdGhpcyBpcyBCMkJYIFByb2plY3QgJiA4MCUgdGhpcyBpcyB0b3RhbFNvbGRUb2tlbnMpCiAgICAgICAgLy8KICAgICAgICAvLyB8LS0tLS0tLS0tLXRvdGFsU29sZFRva2Vucy0tLS0tdG90YWxQcm9qZWN0VG9rZW58CiAgICAgICAgLy8gfD09PT09PT09PT09PT09PT04MCU9PT09PT09PT09PT09PT09fD09PT0yMCU9PT09fAogICAgICAgIC8vIHx0b3RhbFN1cHBseT0odG90YWxTb2xkVG9rZW5zK3RvdGFsUHJvamVjdFRva2VuKXwKICAgICAgICB0b3RhbFByb2plY3RUb2tlbiA9IHRvdGFsU29sZFRva2Vucy5tdWwoMjApLmRpdig4MCk7CgogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTb2xkVG9rZW5zLmFkZCh0b3RhbFByb2plY3RUb2tlbik7CgogICAgICAgIC8vIEIyQlggUHJvZGplY3QgYWxsb2NhdGlvbnMgdG9rZW5zLgogICAgICAgIC8vIDQwJSBvZiB0aGUgdG90YWxQcm9qZWN0VG9rZW4gdG9rZW5zICg9PSAxMCUgdG90YWxTdXBwbHkpIGdvIHRvIEIyQlggQ29tcGFueS4KICAgICAgICBsb2NrKDB4MzI0MDQ0ZTBmQjkzQTJEMDI3NDM0NUViYTBFNjA0QjZGMzU4MjZkMiwgdG90YWxQcm9qZWN0VG9rZW4ubXVsKDUwKS5kaXYoMTAwKSwgbm93KTsKICAgICAgICAvLyA0MCUgb2YgdGhlIHRvdGFsUHJvamVjdFRva2VuIHRva2VucyAoPT0gOCUgdG90YWxTdXBwbHkpIGdvIHRvIGRldmVsb3BlcnMuCiAgICAgICAgbG9jaygweDY2NTNmNWUwNEVENkVjNmYwMDREMzQ1ODY4ZjQ3ZjRDZWJBQTA5NWUsIHRvdGFsUHJvamVjdFRva2VuLm11bCg0MCkuZGl2KDEwMCksIChub3cgKyA2ICogMzAgZGF5cykpOwogICAgICAgIC8vIDEwJSBvZiB0aGUgdG90YWxQcm9qZWN0VG9rZW4gdG9rZW5zICg9PSAyJSB0b3RhbFN1cHBseSkgZ28gdG8gYm91bnR5IHByb2dyYW0uCiAgICAgICAgbG9jaygweDU5MWU3Q0Y1MkQ2YjNjY0M0NTJDZDQzNUUzZUE4OGMxMDMyYjBERTMsIHRvdGFsUHJvamVjdFRva2VuLm11bCgxMCkuZGl2KDEwMCksIG5vdyk7CiAgICAgICAgCiAgICAgICAgLy8gWmVyb2luZyBhIGNvbGQgd2FsbGV0LgogICAgICAgIGJhbGFuY2VPZltmdW5kaW5nV2FsbGV0XSA9IDA7CgogICAgICAgIC8vIEVuZCBvZiBjcm93ZGZ1bmRpbmcuCiAgICAgICAgZnVuZGluZ0VuYWJsZWQgPSBmYWxzZTsKCiAgICAgICAgLy8gRW5kIG9mIGNyb3dkZnVuZGluZy4KICAgICAgICBUcmFuc2Zlcih0aGlzLCBmdW5kaW5nV2FsbGV0LCAwKTsKICAgICAgICBGaW5hbGl6ZShtc2cuc2VuZGVyLCB0b3RhbFN1cHBseSk7CiAgICB9CgogICAgLy8vIEBub3RpY2UgRGlzYWJsZSBhbGwgdHJhbnNmZXJzIGluIGNhc2Ugb2YgYSB2dWxuZXJhYmlsaXR5IGZvdW5kIGluIHRoZSBjb250cmFjdCBvciBvdGhlciBzeXN0ZW1zLgogICAgLy8vIEBkZXYgRGlzYWJsZSB0cmFuc2ZlcnMgaW4gQjJCWCBjb250cmFjdC4KICAgIGZ1bmN0aW9uIGRpc2FibGVUcmFuc2ZlcnMoKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUodHJhbnNmZXJzRW5hYmxlZCk7CgogICAgICAgIHRyYW5zZmVyc0VuYWJsZWQgPSBmYWxzZTsKCiAgICAgICAgRGlzYWJsZVRyYW5zZmVycyhtc2cuc2VuZGVyKTsKICAgIH0KCiAgICAvLy8gQGRldiBEaXNhYmxlIHRoZSBob3Qgd2FsbGV0cyBmb3IgdHJhbnNmZXJzLgogICAgLy8vIEBwYXJhbSBfYWRkcmVzcyBhZGRyZXNzIEFkZHJlc3MgaW4gZnVuZGluZ1dhbGxldHNbXQogICAgZnVuY3Rpb24gZGlzYWJsZUZ1bmRpbmdXYWxsZXRzKGFkZHJlc3MgX2FkZHJlc3MpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShmdW5kaW5nRW5hYmxlZCk7CiAgICAgICAgcmVxdWlyZShmdW5kaW5nV2FsbGV0ICE9IF9hZGRyZXNzKTsKICAgICAgICByZXF1aXJlKGZ1bmRpbmdXYWxsZXRzW19hZGRyZXNzXSk7CgogICAgICAgIGZ1bmRpbmdXYWxsZXRzW19hZGRyZXNzXSA9IGZhbHNlOwogICAgfQp9'.
	

]
