Class {
	#name : #SRTa254e0528874bb14b45be4b0e21d31a965a9a4b1,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTa254e0528874bb14b45be4b0e21d31a965a9a4b1 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9Cgpjb250cmFjdCBFUkMyMCB7CiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKXB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgdG90YWxfU3VwcGx5KTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcilwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKXB1YmxpYyByZXR1cm5zIChib29sIG9rKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSlwdWJsaWMgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSlwdWJsaWMgcmV0dXJucyAoYm9vbCBvayk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB2YWx1ZSk7Cn0KCgpjb250cmFjdCBTQVRDb2luIGlzIEVSQzIwCnsgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CiAgICAvLyBOYW1lIG9mIHRoZSB0b2tlbgogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIlNBVENvaW4iOwoKICAgIC8vIFN5bWJvbCBvZiB0b2tlbgogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiU0FUIjsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDg7CiAgICB1aW50IHB1YmxpYyBfdG90YWxzdXBwbHkgPSAxMDAwMDAwMDAwICogMTAgKiogODsgLy8gMSBiaWxsaW9uIFNBVCBDb2lucwogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgICB1aW50MjU2IHB1YmxpYyBfcHJpY2VfdG9rbiA9IDcwMDAgOyAvLyAxIEV0aGVyID0gNzAwMCBjb2lucwogICAgdWludDI1NiBub19vZl90b2tlbnM7CiAgICB1aW50MjU2IGJvbnVzX3Rva2VuOwogICAgdWludDI1NiB0b3RhbF90b2tlbjsKICAgIGJvb2wgc3RvcHBlZCA9IGZhbHNlOwogICAgdWludDI1NiBwdWJsaWMgc3RhcnRkYXRlOwogICAgdWludDI1NiBpY29fZmlyc3Q7CiAgICB1aW50MjU2IGljb19zZWNvbmQ7CiAgICB1aW50MjU2IGljb190aGlyZDsKICAgIHVpbnQyNTYgaWNvX2ZvdXJ0aDsKICAgIGFkZHJlc3MgY2VudHJhbF9hY2NvdW50OwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwogICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKCiAgICAKICAgICBlbnVtIFN0YWdlcyB7CiAgICAgICAgTk9UU1RBUlRFRCwKICAgICAgICBJQ08sCiAgICAgICAgUEFVU0VELAogICAgICAgIEVOREVECiAgICB9CiAgICBTdGFnZXMgcHVibGljIHN0YWdlOwogICAgCiAgICBtb2RpZmllciBhdFN0YWdlKFN0YWdlcyBfc3RhZ2UpIHsKICAgICAgICBpZiAoc3RhZ2UgIT0gX3N0YWdlKQogICAgICAgICAgICAvLyBDb250cmFjdCBub3QgaW4gZXhwZWN0ZWQgc3RhdGUKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgXzsKICAgIH0KICAgIAogICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgewogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICB9CiAgICAgICAgXzsKICAgIH0KICAgIG1vZGlmaWVyIG9ubHljZW50cmFsQWNjb3VudCB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGNlbnRyYWxfYWNjb3VudCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBTQVRDb2luKCkgcHVibGljCiAgICB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIGJhbGFuY2VzW293bmVyXSA9IDM1MDAwMDAwMCAqIDEwICoqODsKICAgICAgICBiYWxhbmNlc1thZGRyZXNzKHRoaXMpXSA9IDY1MDAwMDAwMCAqMTAqKjg7CiAgICAgICAgc3RhZ2UgPSBTdGFnZXMuTk9UU1RBUlRFRDsKICAgICAgICBUcmFuc2ZlcigwLCBvd25lciwgYmFsYW5jZXNbb3duZXJdKTsKICAgICAgICBUcmFuc2ZlcigwLCBvd25lciwgYmFsYW5jZXNbYWRkcmVzcyh0aGlzKV0pOwogICAgfQogIAogICAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgYXRTdGFnZShTdGFnZXMuSUNPKQogICAgewogICAgICAgIHJlcXVpcmUoIXN0b3BwZWQgJiYgbXNnLnNlbmRlciAhPSBvd25lcik7CiAgICAgICAgcmVxdWlyZSAobm93IDw9IGljb19mb3VydGgpOwogICAgICAgICAgICBpZiggbm93IDwgaWNvX2ZpcnN0ICkKICAgICAgICAgICAgeyAKICAgICAgICAgICAgICAgIG5vX29mX3Rva2VucyA9KChtc2cudmFsdWUpLm11bChfcHJpY2VfdG9rbikpLmRpdigxMCAqKjEwKTsKICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZihub19vZl90b2tlbnMgPj0gKDUwMDAgKiAxMCoqOCkgJiYgbm9fb2ZfdG9rZW5zIDw9IDE1MDAwICogMTAgKio4KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGJvbnVzX3Rva2VuID0gKChub19vZl90b2tlbnMpLm11bCg1MCkpLmRpdigxMDApOyAgLy81MCUgYm9udXMKICAgICAgICAgICAgICAgICAgICB0b3RhbF90b2tlbiA9IG5vX29mX3Rva2VucyArIGJvbnVzX3Rva2VuOwogICAgICAgICAgICAgICAgICAgIHRyYW5zZmVyVG9rZW5zKG1zZy5zZW5kZXIsdG90YWxfdG9rZW4pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpZihub19vZl90b2tlbnMgPiAoMTUwMDAgKiAxMCoqOCkgJiYgbm9fb2ZfdG9rZW5zIDw9IDUwMDAwICogMTAgKio4KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGJvbnVzX3Rva2VuID0gKChub19vZl90b2tlbnMpLm11bCg1NSkpLmRpdigxMDApOyAgLy81NSUgYm9udXMKICAgICAgICAgICAgICAgICAgICB0b3RhbF90b2tlbiA9IG5vX29mX3Rva2VucyArIGJvbnVzX3Rva2VuOwogICAgICAgICAgICAgICAgICAgIHRyYW5zZmVyVG9rZW5zKG1zZy5zZW5kZXIsdG90YWxfdG9rZW4pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICBlbHNlIGlmIChub19vZl90b2tlbnMgPiAoNTAwMDAgKiAxMCoqOCkpewogICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIGJvbnVzX3Rva2VuID0gKChub19vZl90b2tlbnMpLm11bCg2MCkpLmRpdigxMDApOyAvLzYwJSBib251cwogICAgICAgICAgICAgICAgICAgIHRvdGFsX3Rva2VuID0gbm9fb2ZfdG9rZW5zICsgYm9udXNfdG9rZW47CiAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXJUb2tlbnMobXNnLnNlbmRlcix0b3RhbF90b2tlbik7CiAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICBib251c190b2tlbiA9ICgobm9fb2ZfdG9rZW5zKS5tdWwoNDUpKS5kaXYoMTAwKTsgLy8gNDUlIGJvbnVzCiAgICAgICAgICAgICAgICAgICAgdG90YWxfdG9rZW4gPSBub19vZl90b2tlbnMgKyBib251c190b2tlbjsKICAgICAgICAgICAgICAgICAgICB0cmFuc2ZlclRva2Vucyhtc2cuc2VuZGVyLHRvdGFsX3Rva2VuKTsKICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmKG5vdyA+PSBpY29fZmlyc3QgJiYgbm93IDwgaWNvX3NlY29uZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBub19vZl90b2tlbnMgPSgobXNnLnZhbHVlKS5tdWwoX3ByaWNlX3Rva24pKS5kaXYoMTAgKioxMCk7CiAgICAgICAgICAgICAgIGlmKG5vX29mX3Rva2VucyA+PSAoNTAwMCAqIDEwKio4KSAmJiBub19vZl90b2tlbnMgPD0gMTUwMDAgKiAxMCAqKjgpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgYm9udXNfdG9rZW4gPSAoKG5vX29mX3Rva2VucykubXVsKDQwKSkuZGl2KDEwMCk7ICAvLzQwJSBib251cwogICAgICAgICAgICAgICAgICAgIHRvdGFsX3Rva2VuID0gbm9fb2ZfdG9rZW5zICsgYm9udXNfdG9rZW47CiAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXJUb2tlbnMobXNnLnNlbmRlcix0b3RhbF90b2tlbik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmKG5vX29mX3Rva2VucyA+ICgxNTAwMCAqIDEwKio4KSAmJiBub19vZl90b2tlbnMgPD0gNTAwMDAgKiAxMCAqKjgpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgYm9udXNfdG9rZW4gPSAoKG5vX29mX3Rva2VucykubXVsKDQ1KSkuZGl2KDEwMCk7ICAvLzQ1JSBib251cwogICAgICAgICAgICAgICAgICAgIHRvdGFsX3Rva2VuID0gbm9fb2ZfdG9rZW5zICsgYm9udXNfdG9rZW47CiAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXJUb2tlbnMobXNnLnNlbmRlcix0b3RhbF90b2tlbik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vX29mX3Rva2VucyA+ICg1MDAwMCAqIDEwKio4KSl7CiAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgYm9udXNfdG9rZW4gPSAoKG5vX29mX3Rva2VucykubXVsKDUwKSkuZGl2KDEwMCk7IC8vNTAlIGJvbnVzCiAgICAgICAgICAgICAgICAgICAgdG90YWxfdG9rZW4gPSBub19vZl90b2tlbnMgKyBib251c190b2tlbjsKICAgICAgICAgICAgICAgICAgICB0cmFuc2ZlclRva2Vucyhtc2cuc2VuZGVyLHRvdGFsX3Rva2VuKTsKICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgIGJvbnVzX3Rva2VuID0gKChub19vZl90b2tlbnMpLm11bCgzNSkpLmRpdigxMDApOyAvLyAzNSUgYm9udXMKICAgICAgICAgICAgICAgICAgICB0b3RhbF90b2tlbiA9IG5vX29mX3Rva2VucyArIGJvbnVzX3Rva2VuOwogICAgICAgICAgICAgICAgICAgIHRyYW5zZmVyVG9rZW5zKG1zZy5zZW5kZXIsdG90YWxfdG9rZW4pOwogICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYobm93ID49IGljb19zZWNvbmQgJiYgbm93IDwgaWNvX3RoaXJkKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBub19vZl90b2tlbnMgPSgobXNnLnZhbHVlKS5tdWwoX3ByaWNlX3Rva24pKS5kaXYoMTAgKioxMCk7CiAgICAgICAgICAgICAgICBpZihub19vZl90b2tlbnMgPj0gKDUwMDAgKiAxMCoqOCkgJiYgbm9fb2ZfdG9rZW5zIDw9IDE1MDAwICogMTAgKio4KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGJvbnVzX3Rva2VuID0gKChub19vZl90b2tlbnMpLm11bCgzMCkpLmRpdigxMDApOyAgLy8zMCUgYm9udXMKICAgICAgICAgICAgICAgICAgICB0b3RhbF90b2tlbiA9IG5vX29mX3Rva2VucyArIGJvbnVzX3Rva2VuOwogICAgICAgICAgICAgICAgICAgIHRyYW5zZmVyVG9rZW5zKG1zZy5zZW5kZXIsdG90YWxfdG9rZW4pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpZihub19vZl90b2tlbnMgPiAoMTUwMDAgKiAxMCoqOCkgJiYgbm9fb2ZfdG9rZW5zIDw9IDUwMDAwICogMTAgKio4KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGJvbnVzX3Rva2VuID0gKChub19vZl90b2tlbnMpLm11bCgzNSkpLmRpdigxMDApOyAgLy8zNSUgYm9udXMKICAgICAgICAgICAgICAgICAgICB0b3RhbF90b2tlbiA9IG5vX29mX3Rva2VucyArIGJvbnVzX3Rva2VuOwogICAgICAgICAgICAgICAgICAgIHRyYW5zZmVyVG9rZW5zKG1zZy5zZW5kZXIsdG90YWxfdG9rZW4pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICBlbHNlIGlmIChub19vZl90b2tlbnMgPiAoNTAwMDAgKiAxMCoqOCkpewogICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIGJvbnVzX3Rva2VuID0gKChub19vZl90b2tlbnMpLm11bCg0MCkpLmRpdigxMDApOyAvLzQwJSBib251cwogICAgICAgICAgICAgICAgICAgIHRvdGFsX3Rva2VuID0gbm9fb2ZfdG9rZW5zICsgYm9udXNfdG9rZW47CiAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXJUb2tlbnMobXNnLnNlbmRlcix0b3RhbF90b2tlbik7CiAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICBib251c190b2tlbiA9ICgobm9fb2ZfdG9rZW5zKS5tdWwoMjUpKS5kaXYoMTAwKTsgLy8gMjUlIGJvbnVzCiAgICAgICAgICAgICAgICAgICAgdG90YWxfdG9rZW4gPSBub19vZl90b2tlbnMgKyBib251c190b2tlbjsKICAgICAgICAgICAgICAgICAgICB0cmFuc2ZlclRva2Vucyhtc2cuc2VuZGVyLHRvdGFsX3Rva2VuKTsKICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgIAogICAgICAgIGVsc2UgaWYobm93ID49IGljb190aGlyZCAmJiBub3cgPCBpY29fZm91cnRoKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBub19vZl90b2tlbnMgPSgobXNnLnZhbHVlKS5tdWwoX3ByaWNlX3Rva24pKS5kaXYoMTAgKioxMCk7CiAgICAgICAgICAgICAgICBpZihub19vZl90b2tlbnMgPj0gKDUwMDAgKiAxMCoqOCkgJiYgbm9fb2ZfdG9rZW5zIDw9IDE1MDAwICogMTAgKio4KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGJvbnVzX3Rva2VuID0gKChub19vZl90b2tlbnMpLm11bCgyMCkpLmRpdigxMDApOyAgLy8yMCUgYm9udXMKICAgICAgICAgICAgICAgICAgICB0b3RhbF90b2tlbiA9IG5vX29mX3Rva2VucyArIGJvbnVzX3Rva2VuOwogICAgICAgICAgICAgICAgICAgIHRyYW5zZmVyVG9rZW5zKG1zZy5zZW5kZXIsdG90YWxfdG9rZW4pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpZihub19vZl90b2tlbnMgPiAoMTUwMDAgKiAxMCoqOCkgJiYgbm9fb2ZfdG9rZW5zIDw9IDUwMDAwICogMTAgKio4KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGJvbnVzX3Rva2VuID0gKChub19vZl90b2tlbnMpLm11bCgyNSkpLmRpdigxMDApOyAgLy8yNSUgYm9udXMKICAgICAgICAgICAgICAgICAgICB0b3RhbF90b2tlbiA9IG5vX29mX3Rva2VucyArIGJvbnVzX3Rva2VuOwogICAgICAgICAgICAgICAgICAgIHRyYW5zZmVyVG9rZW5zKG1zZy5zZW5kZXIsdG90YWxfdG9rZW4pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICBlbHNlIGlmIChub19vZl90b2tlbnMgPiAoNTAwMDAgKiAxMCoqOCkpewogICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIGJvbnVzX3Rva2VuID0gKChub19vZl90b2tlbnMpLm11bCgzMCkpLmRpdigxMDApOyAvLzMwJSBib251cwogICAgICAgICAgICAgICAgICAgIHRvdGFsX3Rva2VuID0gbm9fb2ZfdG9rZW5zICsgYm9udXNfdG9rZW47CiAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXJUb2tlbnMobXNnLnNlbmRlcix0b3RhbF90b2tlbik7CiAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICBib251c190b2tlbiA9ICgobm9fb2ZfdG9rZW5zKS5tdWwoMTUpKS5kaXYoMTAwKTsgLy8gMTUlIGJvbnVzCiAgICAgICAgICAgICAgICAgICAgdG90YWxfdG9rZW4gPSBub19vZl90b2tlbnMgKyBib251c190b2tlbjsKICAgICAgICAgICAgICAgICAgICB0cmFuc2ZlclRva2Vucyhtc2cuc2VuZGVyLHRvdGFsX3Rva2VuKTsKICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgIGVsc2V7CiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIH0KICAgIH0KICAgICBmdW5jdGlvbiBzdGFydF9JQ08oKSBwdWJsaWMgb25seU93bmVyIGF0U3RhZ2UoU3RhZ2VzLk5PVFNUQVJURUQpCiAgICAgIHsKICAgICAgICAgIHN0YWdlID0gU3RhZ2VzLklDTzsKICAgICAgICAgIHN0b3BwZWQgPSBmYWxzZTsKICAgICAgICAgIHN0YXJ0ZGF0ZSA9IG5vdzsKICAgICAgICAgIGljb19maXJzdCA9IG5vdyArIDE0IGRheXM7CiAgICAgICAgICBpY29fc2Vjb25kID0gaWNvX2ZpcnN0ICsgMTQgZGF5czsKICAgICAgICAgIGljb190aGlyZCA9IGljb19zZWNvbmQgKyAxNCBkYXlzOwogICAgICAgICAgaWNvX2ZvdXJ0aCA9IGljb190aGlyZCArIDE0IGRheXM7CiAgICAgIH0KICAgIAogICAgLy8gY2FsbGVkIGJ5IHRoZSBvd25lciwgcGF1c2UgSUNPCiAgICBmdW5jdGlvbiBTdG9wSUNPKCkgZXh0ZXJuYWwgb25seU93bmVyIGF0U3RhZ2UoU3RhZ2VzLklDTykgewogICAgICAgIHN0b3BwZWQgPSB0cnVlOwogICAgICAgIHN0YWdlID0gU3RhZ2VzLlBBVVNFRDsKICAgIH0KCiAgICAvLyBjYWxsZWQgYnkgdGhlIG93bmVyICwgcmVzdW1lcyBJQ08KICAgIGZ1bmN0aW9uIHJlbGVhc2VJQ08oKSBleHRlcm5hbCBvbmx5T3duZXIgYXRTdGFnZShTdGFnZXMuUEFVU0VEKQogICAgewogICAgICAgIHN0b3BwZWQgPSBmYWxzZTsKICAgICAgICBzdGFnZSA9IFN0YWdlcy5JQ087CiAgICB9CiAgICAKICAgICBmdW5jdGlvbiBlbmRfSUNPKCkgZXh0ZXJuYWwgb25seU93bmVyIGF0U3RhZ2UoU3RhZ2VzLklDTykKICAgICB7CiAgICAgICAgIHJlcXVpcmUobm93ID4gaWNvX2ZvdXJ0aCk7CiAgICAgICAgIHN0YWdlID0gU3RhZ2VzLkVOREVEOwogICAgICAgICBfdG90YWxzdXBwbHkgPSAoX3RvdGFsc3VwcGx5KS5zdWIoYmFsYW5jZXNbYWRkcmVzcyh0aGlzKV0pOwogICAgICAgICBiYWxhbmNlc1thZGRyZXNzKHRoaXMpXSA9IDA7CiAgICAgICAgIFRyYW5zZmVyKGFkZHJlc3ModGhpcyksIDAgLCBiYWxhbmNlc1thZGRyZXNzKHRoaXMpXSk7CiAgICAgICAgIAogICAgIH0KICAgICAKICAgICBmdW5jdGlvbiBzZXRfY2VudHJhbEFjY291bnQoYWRkcmVzcyBjZW50cmFsX0FjY2NvdW50KSBleHRlcm5hbCBvbmx5T3duZXIKICAgIHsKICAgICAgICBjZW50cmFsX2FjY291bnQgPSBjZW50cmFsX0FjY2NvdW50OwogICAgfQoKCgogICAgLy8gd2hhdCBpcyB0aGUgdG90YWwgc3VwcGx5IG9mIHRoZSBlY2ggdG9rZW5zCiAgICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IHRvdGFsX1N1cHBseSkgewogICAgICAgICB0b3RhbF9TdXBwbHkgPSBfdG90YWxzdXBwbHk7CiAgICAgfQogICAgCiAgICAvLyBXaGF0IGlzIHRoZSBiYWxhbmNlIG9mIGEgcGFydGljdWxhciBhY2NvdW50PwogICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcilwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICAgfQogICAgCiAgICAvLyBTZW5kIF92YWx1ZSBhbW91bnQgb2YgdG9rZW5zIGZyb20gYWRkcmVzcyBfZnJvbSB0byBhZGRyZXNzIF90bwogICAgIC8vIFRoZSB0cmFuc2ZlckZyb20gbWV0aG9kIGlzIHVzZWQgZm9yIGEgd2l0aGRyYXcgd29ya2Zsb3csIGFsbG93aW5nIGNvbnRyYWN0cyB0byBzZW5kCiAgICAgLy8gdG9rZW5zIG9uIHlvdXIgYmVoYWxmLCBmb3IgZXhhbXBsZSB0byAiZGVwb3NpdCIgdG8gYSBjb250cmFjdCBhZGRyZXNzIGFuZC9vciB0byBjaGFyZ2UKICAgICAvLyBmZWVzIGluIHN1Yi1jdXJyZW5jaWVzOyB0aGUgY29tbWFuZCBzaG91bGQgZmFpbCB1bmxlc3MgdGhlIF9mcm9tIGFjY291bnQgaGFzCiAgICAgLy8gZGVsaWJlcmF0ZWx5IGF1dGhvcml6ZWQgdGhlIHNlbmRlciBvZiB0aGUgbWVzc2FnZSB2aWEgc29tZSBtZWNoYW5pc207IHdlIHByb3Bvc2UKICAgICAvLyB0aGVzZSBzdGFuZGFyZGl6ZWQgQVBJcyBmb3IgYXBwcm92YWw6CiAgICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKCBhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50IClwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgcmVxdWlyZSggX3RvICE9IDB4MCk7CiAgICAgcmVxdWlyZShiYWxhbmNlc1tfZnJvbV0gPj0gX2Ftb3VudCAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfYW1vdW50ICYmIF9hbW91bnQgPj0gMCk7CiAgICAgYmFsYW5jZXNbX2Zyb21dID0gKGJhbGFuY2VzW19mcm9tXSkuc3ViKF9hbW91bnQpOwogICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gKGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKS5zdWIoX2Ftb3VudCk7CiAgICAgYmFsYW5jZXNbX3RvXSA9IChiYWxhbmNlc1tfdG9dKS5hZGQoX2Ftb3VudCk7CiAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgIH0KICAgIAogICAvLyBBbGxvdyBfc3BlbmRlciB0byB3aXRoZHJhdyBmcm9tIHlvdXIgYWNjb3VudCwgbXVsdGlwbGUgdGltZXMsIHVwIHRvIHRoZSBfdmFsdWUgYW1vdW50LgogICAgIC8vIElmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGFnYWluIGl0IG92ZXJ3cml0ZXMgdGhlIGN1cnJlbnQgYWxsb3dhbmNlIHdpdGggX3ZhbHVlLgogICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50KXB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAgcmVxdWlyZSggX3NwZW5kZXIgIT0gMHgwKTsKICAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfYW1vdW50OwogICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX2Ftb3VudCk7CiAgICAgICAgIHJldHVybiB0cnVlOwogICAgIH0KICAKICAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICAgcmVxdWlyZSggX293bmVyICE9IDB4MCAmJiBfc3BlbmRlciAhPTB4MCk7CiAgICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICB9CgogICAgIC8vIFRyYW5zZmVyIHRoZSBiYWxhbmNlIGZyb20gb3duZXIncyBhY2NvdW50IHRvIGFub3RoZXIgYWNjb3VudAogICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoIF90byAhPSAweDApOwogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCAmJiBfYW1vdW50ID49IDApOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gKGJhbGFuY2VzW21zZy5zZW5kZXJdKS5zdWIoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IChiYWxhbmNlc1tfdG9dKS5hZGQoX2Ftb3VudCk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfYW1vdW50KTsKICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICB9CiAgICAKICAgICAgICAgIC8vIFRyYW5zZmVyIHRoZSBiYWxhbmNlIGZyb20gb3duZXIncyBhY2NvdW50IHRvIGFub3RoZXIgYWNjb3VudAogICAgZnVuY3Rpb24gdHJhbnNmZXJUb2tlbnMoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHJpdmF0ZSByZXR1cm5zKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoIF90byAhPSAweDApOyAgICAgICAKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW2FkZHJlc3ModGhpcyldID49IF9hbW91bnQgJiYgX2Ftb3VudCA+IDApOwogICAgICAgIGJhbGFuY2VzW2FkZHJlc3ModGhpcyldID0gKGJhbGFuY2VzW2FkZHJlc3ModGhpcyldKS5zdWIoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IChiYWxhbmNlc1tfdG9dKS5hZGQoX2Ftb3VudCk7CiAgICAgICAgVHJhbnNmZXIoYWRkcmVzcyh0aGlzKSwgX3RvLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyYnkoYWRkcmVzcyBfZnJvbSxhZGRyZXNzIF90byx1aW50MjU2IF9hbW91bnQpIGV4dGVybmFsIG9ubHljZW50cmFsQWNjb3VudCByZXR1cm5zKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoIF90byAhPSAweDApOyAKICAgICAgICByZXF1aXJlIChiYWxhbmNlc1tfZnJvbV0gPj0gX2Ftb3VudCAmJiBfYW1vdW50ID4gMCk7CiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gKGJhbGFuY2VzW19mcm9tXSkuc3ViKF9hbW91bnQpOwogICAgICAgIGJhbGFuY2VzW190b10gPSAoYmFsYW5jZXNbX3RvXSkuYWRkKF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCS8vSW4gY2FzZSB0aGUgb3duZXJzaGlwIG5lZWRzIHRvIGJlIHRyYW5zZmVycmVkCglmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKXB1YmxpYyBvbmx5T3duZXIKCXsKCSAgICBiYWxhbmNlc1tuZXdPd25lcl0gPSAoYmFsYW5jZXNbbmV3T3duZXJdKS5hZGQoYmFsYW5jZXNbb3duZXJdKTsKCSAgICBiYWxhbmNlc1tvd25lcl0gPSAwOwoJICAgIG93bmVyID0gbmV3T3duZXI7Cgl9CgogICAgCiAgICBmdW5jdGlvbiBkcmFpbigpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgb3duZXIudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICAgIH0KICAgIAp9'.
	

]
