Class {
	#name : #SRT42338FF7E4C3B999Eb69B521323657017cE08727,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT42338FF7E4C3B999Eb69B521323657017cE08727 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgoKLy8vIEB0aXRsZSBNdWx0aXNpZ25hdHVyZSB3YWxsZXQgLSBBbGxvd3MgbXVsdGlwbGUgcGFydGllcyB0byBhZ3JlZSBvbiB0cmFuc2FjdGlvbnMgYmVmb3JlIGV4ZWN1dGlvbgovLy8gQGF1dGhvciBTdGVmYW4gR2VvcmdlIC0gPDxzcGFuIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iYmRjZWM5ZDhkYmRjZDNmZGRhZDNkMmNlZDRjZTkzY2RkMCI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvc3Bhbj4+CmNvbnRyYWN0IE11bHRpU2lnV2FsbGV0IHsKCiAgLyoKICAgKiAgRXZlbnRzCiAgICovCiAgZXZlbnQgQ29uZmlybWF0aW9uKGFkZHJlc3MgaW5kZXhlZCBzZW5kZXIsIHVpbnQgaW5kZXhlZCB0cmFuc2FjdGlvbklkKTsKICBldmVudCBSZXZvY2F0aW9uKGFkZHJlc3MgaW5kZXhlZCBzZW5kZXIsIHVpbnQgaW5kZXhlZCB0cmFuc2FjdGlvbklkKTsKICBldmVudCBTdWJtaXNzaW9uKHVpbnQgaW5kZXhlZCB0cmFuc2FjdGlvbklkKTsKICBldmVudCBFeGVjdXRpb24odWludCBpbmRleGVkIHRyYW5zYWN0aW9uSWQpOwogIGV2ZW50IEV4ZWN1dGlvbkZhaWx1cmUodWludCBpbmRleGVkIHRyYW5zYWN0aW9uSWQpOwogIGV2ZW50IERlcG9zaXQoYWRkcmVzcyBpbmRleGVkIHNlbmRlciwgdWludCB2YWx1ZSk7CiAgZXZlbnQgT3duZXJBZGRpdGlvbihhZGRyZXNzIGluZGV4ZWQgb3duZXIpOwogIGV2ZW50IE93bmVyUmVtb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIpOwogIGV2ZW50IFJlcXVpcmVtZW50Q2hhbmdlKHVpbnQgcmVxdWlyZWQpOwoKICAvKgogICAqICBDb25zdGFudHMKICAgKi8KICB1aW50IHB1YmxpYyBjb25zdGFudCBNQVhfT1dORVJfQ09VTlQgPSA1MDsKCiAgLyoKICAgKiAgU3RvcmFnZQogICAqLwogIG1hcHBpbmcgKHVpbnQgPT4gVHJhbnNhY3Rpb24pIHB1YmxpYyB0cmFuc2FjdGlvbnM7CiAgbWFwcGluZyAodWludCA9PiBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpKSBwdWJsaWMgY29uZmlybWF0aW9uczsKICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBpc093bmVyOwogIGFkZHJlc3NbXSBwdWJsaWMgb3duZXJzOwogIHVpbnQgcHVibGljIHJlcXVpcmVkOwogIHVpbnQgcHVibGljIHRyYW5zYWN0aW9uQ291bnQ7CgogIHN0cnVjdCBUcmFuc2FjdGlvbiB7CiAgYWRkcmVzcyBkZXN0aW5hdGlvbjsKICB1aW50IHZhbHVlOwogIGJ5dGVzIGRhdGE7CiAgYm9vbCBleGVjdXRlZDsKICB9CgogIC8qCiAgICogIE1vZGlmaWVycwogICAqLwogIG1vZGlmaWVyIG9ubHlXYWxsZXQoKSB7CiAgICBpZiAobXNnLnNlbmRlciAhPSBhZGRyZXNzKHRoaXMpKQogICAgcmV2ZXJ0KCk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgb3duZXJEb2VzTm90RXhpc3QoYWRkcmVzcyBvd25lcikgewogICAgaWYgKGlzT3duZXJbb3duZXJdKQogICAgcmV2ZXJ0KCk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgb3duZXJFeGlzdHMoYWRkcmVzcyBvd25lcikgewogICAgaWYgKCFpc093bmVyW293bmVyXSkKICAgIHJldmVydCgpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIHRyYW5zYWN0aW9uRXhpc3RzKHVpbnQgdHJhbnNhY3Rpb25JZCkgewogICAgaWYgKHRyYW5zYWN0aW9uc1t0cmFuc2FjdGlvbklkXS5kZXN0aW5hdGlvbiA9PSAwKQogICAgcmV2ZXJ0KCk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgY29uZmlybWVkKHVpbnQgdHJhbnNhY3Rpb25JZCwgYWRkcmVzcyBvd25lcikgewogICAgaWYgKCFjb25maXJtYXRpb25zW3RyYW5zYWN0aW9uSWRdW293bmVyXSkKICAgIHJldmVydCgpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIG5vdENvbmZpcm1lZCh1aW50IHRyYW5zYWN0aW9uSWQsIGFkZHJlc3Mgb3duZXIpIHsKICAgIGlmIChjb25maXJtYXRpb25zW3RyYW5zYWN0aW9uSWRdW293bmVyXSkKICAgIHJldmVydCgpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIGV4ZWN1dGFibGUodWludCB0cmFuc2FjdGlvbklkKSB7CiAgICBpZiAoIWlzQ29uZmlybWVkKHRyYW5zYWN0aW9uSWQpKQogICAgcmV2ZXJ0KCk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgbm90RXhlY3V0ZWQodWludCB0cmFuc2FjdGlvbklkKSB7CiAgICBpZiAodHJhbnNhY3Rpb25zW3RyYW5zYWN0aW9uSWRdLmV4ZWN1dGVkKQogICAgcmV2ZXJ0KCk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgbm90TnVsbChhZGRyZXNzIF9hZGRyZXNzKSB7CiAgICBpZiAoX2FkZHJlc3MgPT0gMCkKICAgIHJldmVydCgpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIHZhbGlkUmVxdWlyZW1lbnQodWludCBvd25lckNvdW50LCB1aW50IF9yZXF1aXJlZCkgewogICAgaWYgKCAgIG93bmVyQ291bnQgPiBNQVhfT1dORVJfQ09VTlQKICAgIHx8IF9yZXF1aXJlZCA+IG93bmVyQ291bnQKICAgIHx8IF9yZXF1aXJlZCA9PSAwCiAgICB8fCBvd25lckNvdW50ID09IDApCiAgICByZXZlcnQoKTsKICAgIF87CiAgfQoKICAvLy8gQGRldiBGYWxsYmFjayBmdW5jdGlvbiBhbGxvd3MgdG8gZGVwb3NpdCBldGhlcgogIGZ1bmN0aW9uKCkKICBwdWJsaWMKICBwYXlhYmxlCiAgewogICAgaWYgKG1zZy52YWx1ZSA+IDApCiAgICBEZXBvc2l0KG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgfQoKICAvKgogICAqIFB1YmxpYyBmdW5jdGlvbnMKICAgKi8KICAvLy8gQGRldiBDb250cmFjdCBjb25zdHJ1Y3RvciBzZXRzIGluaXRpYWwgb3duZXJzIGFuZCByZXF1aXJlZCBudW1iZXIgb2YgY29uZmlybWF0aW9ucwogIC8vLyBAcGFyYW0gX293bmVycyBMaXN0IG9mIGluaXRpYWwgb3duZXJzCiAgLy8vIEBwYXJhbSBfcmVxdWlyZWQgTnVtYmVyIG9mIHJlcXVpcmVkIGNvbmZpcm1hdGlvbnMKICBmdW5jdGlvbiBNdWx0aVNpZ1dhbGxldChhZGRyZXNzW10gX293bmVycywgdWludCBfcmVxdWlyZWQpCiAgcHVibGljCiAgdmFsaWRSZXF1aXJlbWVudChfb3duZXJzLmxlbmd0aCwgX3JlcXVpcmVkKQogIHsKICAgIGZvciAodWludCBpPTA7IGk8X293bmVycy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaXNPd25lcltfb3duZXJzW2ldXSB8fCBfb3duZXJzW2ldID09IDApCiAgICAgIHJldmVydCgpOwogICAgICBpc093bmVyW19vd25lcnNbaV1dID0gdHJ1ZTsKICAgIH0KICAgIG93bmVycyA9IF9vd25lcnM7CiAgICByZXF1aXJlZCA9IF9yZXF1aXJlZDsKICB9CgogIC8vLyBAZGV2IEFsbG93cyB0byBhZGQgYSBuZXcgb3duZXIuIFRyYW5zYWN0aW9uIGhhcyB0byBiZSBzZW50IGJ5IHdhbGxldAogIC8vLyBAcGFyYW0gb3duZXIgQWRkcmVzcyBvZiBuZXcgb3duZXIKICBmdW5jdGlvbiBhZGRPd25lcihhZGRyZXNzIG93bmVyKQogIHB1YmxpYwogIG9ubHlXYWxsZXQKICBvd25lckRvZXNOb3RFeGlzdChvd25lcikKICBub3ROdWxsKG93bmVyKQogIHZhbGlkUmVxdWlyZW1lbnQob3duZXJzLmxlbmd0aCArIDEsIHJlcXVpcmVkKQogIHsKICAgIGlzT3duZXJbb3duZXJdID0gdHJ1ZTsKICAgIG93bmVycy5wdXNoKG93bmVyKTsKICAgIE93bmVyQWRkaXRpb24ob3duZXIpOwogIH0KCiAgLy8vIEBkZXYgQWxsb3dzIHRvIHJlbW92ZSBhbiBvd25lci4gVHJhbnNhY3Rpb24gaGFzIHRvIGJlIHNlbnQgYnkgd2FsbGV0CiAgLy8vIEBwYXJhbSBvd25lciBBZGRyZXNzIG9mIG93bmVyCiAgZnVuY3Rpb24gcmVtb3ZlT3duZXIoYWRkcmVzcyBvd25lcikKICBwdWJsaWMKICBvbmx5V2FsbGV0CiAgb3duZXJFeGlzdHMob3duZXIpCiAgewogICAgaXNPd25lcltvd25lcl0gPSBmYWxzZTsKICAgIGZvciAodWludCBpPTA7IGk8b3duZXJzLmxlbmd0aCAtIDE7IGkrKykKICAgIGlmIChvd25lcnNbaV0gPT0gb3duZXIpIHsKICAgICAgb3duZXJzW2ldID0gb3duZXJzW293bmVycy5sZW5ndGggLSAxXTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBvd25lcnMubGVuZ3RoIC09IDE7CiAgICBpZiAocmVxdWlyZWQgPiBvd25lcnMubGVuZ3RoKQogICAgY2hhbmdlUmVxdWlyZW1lbnQob3duZXJzLmxlbmd0aCk7CiAgICBPd25lclJlbW92YWwob3duZXIpOwogIH0KCiAgLy8vIEBkZXYgQWxsb3dzIHRvIHJlcGxhY2UgYW4gb3duZXIgd2l0aCBhIG5ldyBvd25lci4gVHJhbnNhY3Rpb24gaGFzIHRvIGJlIHNlbnQgYnkgd2FsbGV0CiAgLy8vIEBwYXJhbSBvd25lciBBZGRyZXNzIG9mIG93bmVyIHRvIGJlIHJlcGxhY2VkCiAgLy8vIEBwYXJhbSBuZXdPd25lciBBZGRyZXNzIG9mIG5ldyBvd25lcgogIGZ1bmN0aW9uIHJlcGxhY2VPd25lcihhZGRyZXNzIG93bmVyLCBhZGRyZXNzIG5ld093bmVyKQogIHB1YmxpYwogIG9ubHlXYWxsZXQKICBvd25lckV4aXN0cyhvd25lcikKICBvd25lckRvZXNOb3RFeGlzdChuZXdPd25lcikKICB7CiAgICBmb3IgKHVpbnQgaT0wOyBpPG93bmVycy5sZW5ndGg7IGkrKykKICAgIGlmIChvd25lcnNbaV0gPT0gb3duZXIpIHsKICAgICAgb3duZXJzW2ldID0gbmV3T3duZXI7CiAgICAgIGJyZWFrOwogICAgfQogICAgaXNPd25lcltvd25lcl0gPSBmYWxzZTsKICAgIGlzT3duZXJbbmV3T3duZXJdID0gdHJ1ZTsKICAgIE93bmVyUmVtb3ZhbChvd25lcik7CiAgICBPd25lckFkZGl0aW9uKG5ld093bmVyKTsKICB9CgogIC8vLyBAZGV2IEFsbG93cyB0byBjaGFuZ2UgdGhlIG51bWJlciBvZiByZXF1aXJlZCBjb25maXJtYXRpb25zLiBUcmFuc2FjdGlvbiBoYXMgdG8gYmUgc2VudCBieSB3YWxsZXQKICAvLy8gQHBhcmFtIF9yZXF1aXJlZCBOdW1iZXIgb2YgcmVxdWlyZWQgY29uZmlybWF0aW9ucwogIGZ1bmN0aW9uIGNoYW5nZVJlcXVpcmVtZW50KHVpbnQgX3JlcXVpcmVkKQogIHB1YmxpYwogIG9ubHlXYWxsZXQKICB2YWxpZFJlcXVpcmVtZW50KG93bmVycy5sZW5ndGgsIF9yZXF1aXJlZCkKICB7CiAgICByZXF1aXJlZCA9IF9yZXF1aXJlZDsKICAgIFJlcXVpcmVtZW50Q2hhbmdlKF9yZXF1aXJlZCk7CiAgfQoKICAvLy8gQGRldiBBbGxvd3MgYW4gb3duZXIgdG8gc3VibWl0IGFuZCBjb25maXJtIGEgdHJhbnNhY3Rpb24KICAvLy8gQHBhcmFtIGRlc3RpbmF0aW9uIFRyYW5zYWN0aW9uIHRhcmdldCBhZGRyZXNzCiAgLy8vIEBwYXJhbSB2YWx1ZSBUcmFuc2FjdGlvbiBldGhlciB2YWx1ZQogIC8vLyBAcGFyYW0gZGF0YSBUcmFuc2FjdGlvbiBkYXRhIHBheWxvYWQKICAvLy8gQHJldHVybiBSZXR1cm5zIHRyYW5zYWN0aW9uIElECiAgZnVuY3Rpb24gc3VibWl0VHJhbnNhY3Rpb24oYWRkcmVzcyBkZXN0aW5hdGlvbiwgdWludCB2YWx1ZSwgYnl0ZXMgZGF0YSkKICBwdWJsaWMKICByZXR1cm5zICh1aW50IHRyYW5zYWN0aW9uSWQpCiAgewogICAgdHJhbnNhY3Rpb25JZCA9IGFkZFRyYW5zYWN0aW9uKGRlc3RpbmF0aW9uLCB2YWx1ZSwgZGF0YSk7CiAgICBjb25maXJtVHJhbnNhY3Rpb24odHJhbnNhY3Rpb25JZCk7CiAgfQoKICAvLy8gQGRldiBBbGxvd3MgYW4gb3duZXIgdG8gY29uZmlybSBhIHRyYW5zYWN0aW9uCiAgLy8vIEBwYXJhbSB0cmFuc2FjdGlvbklkIFRyYW5zYWN0aW9uIElECiAgZnVuY3Rpb24gY29uZmlybVRyYW5zYWN0aW9uKHVpbnQgdHJhbnNhY3Rpb25JZCkKICBwdWJsaWMKICBvd25lckV4aXN0cyhtc2cuc2VuZGVyKQogIHRyYW5zYWN0aW9uRXhpc3RzKHRyYW5zYWN0aW9uSWQpCiAgbm90Q29uZmlybWVkKHRyYW5zYWN0aW9uSWQsIG1zZy5zZW5kZXIpCiAgewogICAgY29uZmlybWF0aW9uc1t0cmFuc2FjdGlvbklkXVttc2cuc2VuZGVyXSA9IHRydWU7CiAgICBDb25maXJtYXRpb24obXNnLnNlbmRlciwgdHJhbnNhY3Rpb25JZCk7CiAgICBpZiAoaXNDb25maXJtZWQodHJhbnNhY3Rpb25JZCkpCiAgICBleGVjdXRlVHJhbnNhY3Rpb24odHJhbnNhY3Rpb25JZCk7CiAgfQoKICAvLy8gQGRldiBBbGxvd3MgYW4gb3duZXIgdG8gcmV2b2tlIGEgY29uZmlybWF0aW9uIGZvciBhIHRyYW5zYWN0aW9uCiAgLy8vIEBwYXJhbSB0cmFuc2FjdGlvbklkIFRyYW5zYWN0aW9uIElECiAgZnVuY3Rpb24gcmV2b2tlQ29uZmlybWF0aW9uKHVpbnQgdHJhbnNhY3Rpb25JZCkKICBwdWJsaWMKICBvd25lckV4aXN0cyhtc2cuc2VuZGVyKQogIGNvbmZpcm1lZCh0cmFuc2FjdGlvbklkLCBtc2cuc2VuZGVyKQogIG5vdEV4ZWN1dGVkKHRyYW5zYWN0aW9uSWQpCiAgewogICAgY29uZmlybWF0aW9uc1t0cmFuc2FjdGlvbklkXVttc2cuc2VuZGVyXSA9IGZhbHNlOwogICAgUmV2b2NhdGlvbihtc2cuc2VuZGVyLCB0cmFuc2FjdGlvbklkKTsKICB9CgogIC8vLyBAZGV2IEFsbG93cyBhbnlvbmUgdG8gZXhlY3V0ZSBhIGNvbmZpcm1lZCB0cmFuc2FjdGlvbgogIC8vLyBAcGFyYW0gdHJhbnNhY3Rpb25JZCBUcmFuc2FjdGlvbiBJRAogIGZ1bmN0aW9uIGV4ZWN1dGVUcmFuc2FjdGlvbih1aW50IHRyYW5zYWN0aW9uSWQpCiAgcHVibGljCiAgb3duZXJFeGlzdHMobXNnLnNlbmRlcikKICBjb25maXJtZWQodHJhbnNhY3Rpb25JZCwgbXNnLnNlbmRlcikKICBub3RFeGVjdXRlZCh0cmFuc2FjdGlvbklkKQogIGV4ZWN1dGFibGUodHJhbnNhY3Rpb25JZCkKICB7CiAgICBUcmFuc2FjdGlvbiB0eFRvRXhlY3V0ZSA9IHRyYW5zYWN0aW9uc1t0cmFuc2FjdGlvbklkXTsKICAgIHR4VG9FeGVjdXRlLmV4ZWN1dGVkID0gdHJ1ZTsKICAgIGlmICh0eFRvRXhlY3V0ZS5kZXN0aW5hdGlvbi5jYWxsLnZhbHVlKHR4VG9FeGVjdXRlLnZhbHVlKSh0eFRvRXhlY3V0ZS5kYXRhKSkKICAgIEV4ZWN1dGlvbih0cmFuc2FjdGlvbklkKTsKICAgIGVsc2UgewogICAgICBFeGVjdXRpb25GYWlsdXJlKHRyYW5zYWN0aW9uSWQpOwogICAgICB0eFRvRXhlY3V0ZS5leGVjdXRlZCA9IGZhbHNlOwogICAgfQogIH0KCiAgLy8vIEBkZXYgUmV0dXJucyB0aGUgY29uZmlybWF0aW9uIHN0YXR1cyBvZiBhIHRyYW5zYWN0aW9uCiAgLy8vIEBwYXJhbSB0cmFuc2FjdGlvbklkIFRyYW5zYWN0aW9uIElECiAgLy8vIEByZXR1cm4gQ29uZmlybWF0aW9uIHN0YXR1cwogIGZ1bmN0aW9uIGlzQ29uZmlybWVkKHVpbnQgdHJhbnNhY3Rpb25JZCkKICBwdWJsaWMKICBjb25zdGFudAogIHJldHVybnMgKGJvb2wpCiAgewogICAgdWludCBjb3VudCA9IDA7CiAgICBmb3IgKHVpbnQgaT0wOyBpPG93bmVycy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoY29uZmlybWF0aW9uc1t0cmFuc2FjdGlvbklkXVtvd25lcnNbaV1dKQogICAgICBjb3VudCArPSAxOwogICAgICBpZiAoY291bnQgPT0gcmVxdWlyZWQpCiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0KCiAgLyoKICAgKiBJbnRlcm5hbCBmdW5jdGlvbnMKICAgKi8KICAvLy8gQGRldiBBZGRzIGEgbmV3IHRyYW5zYWN0aW9uIHRvIHRoZSB0cmFuc2FjdGlvbiBtYXBwaW5nLCBpZiB0cmFuc2FjdGlvbiBkb2VzIG5vdCBleGlzdCB5ZXQKICAvLy8gQHBhcmFtIGRlc3RpbmF0aW9uIFRyYW5zYWN0aW9uIHRhcmdldCBhZGRyZXNzCiAgLy8vIEBwYXJhbSB2YWx1ZSBUcmFuc2FjdGlvbiBldGhlciB2YWx1ZQogIC8vLyBAcGFyYW0gZGF0YSBUcmFuc2FjdGlvbiBkYXRhIHBheWxvYWQKICAvLy8gQHJldHVybiBSZXR1cm5zIHRyYW5zYWN0aW9uIElECiAgZnVuY3Rpb24gYWRkVHJhbnNhY3Rpb24oYWRkcmVzcyBkZXN0aW5hdGlvbiwgdWludCB2YWx1ZSwgYnl0ZXMgZGF0YSkKICBpbnRlcm5hbAogIG5vdE51bGwoZGVzdGluYXRpb24pCiAgcmV0dXJucyAodWludCB0cmFuc2FjdGlvbklkKQogIHsKICAgIHRyYW5zYWN0aW9uSWQgPSB0cmFuc2FjdGlvbkNvdW50OwogICAgdHJhbnNhY3Rpb25zW3RyYW5zYWN0aW9uSWRdID0gVHJhbnNhY3Rpb24oewogICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uLAogICAgdmFsdWU6IHZhbHVlLAogICAgZGF0YTogZGF0YSwKICAgIGV4ZWN1dGVkOiBmYWxzZQogICAgfSk7CiAgICB0cmFuc2FjdGlvbkNvdW50ICs9IDE7CiAgICBTdWJtaXNzaW9uKHRyYW5zYWN0aW9uSWQpOwogIH0KCiAgLyoKICAgKiBXZWIzIGNhbGwgZnVuY3Rpb25zCiAgICovCiAgLy8vIEBkZXYgUmV0dXJucyBudW1iZXIgb2YgY29uZmlybWF0aW9ucyBvZiBhIHRyYW5zYWN0aW9uCiAgLy8vIEBwYXJhbSB0cmFuc2FjdGlvbklkIFRyYW5zYWN0aW9uIElECiAgLy8vIEByZXR1cm4gTnVtYmVyIG9mIGNvbmZpcm1hdGlvbnMKICBmdW5jdGlvbiBnZXRDb25maXJtYXRpb25Db3VudCh1aW50IHRyYW5zYWN0aW9uSWQpCiAgcHVibGljCiAgY29uc3RhbnQKICByZXR1cm5zICh1aW50IGNvdW50KQogIHsKICAgIGZvciAodWludCBpPTA7IGk8b3duZXJzLmxlbmd0aDsgaSsrKQogICAgaWYgKGNvbmZpcm1hdGlvbnNbdHJhbnNhY3Rpb25JZF1bb3duZXJzW2ldXSkKICAgIGNvdW50ICs9IDE7CiAgfQoKICAvLy8gQGRldiBSZXR1cm5zIHRvdGFsIG51bWJlciBvZiB0cmFuc2FjdGlvbnMgYWZ0ZXIgZmlsZXJzIGFyZSBhcHBsaWVkCiAgLy8vIEBwYXJhbSBwZW5kaW5nIEluY2x1ZGUgcGVuZGluZyB0cmFuc2FjdGlvbnMKICAvLy8gQHBhcmFtIGV4ZWN1dGVkIEluY2x1ZGUgZXhlY3V0ZWQgdHJhbnNhY3Rpb25zCiAgLy8vIEByZXR1cm4gVG90YWwgbnVtYmVyIG9mIHRyYW5zYWN0aW9ucyBhZnRlciBmaWx0ZXJzIGFyZSBhcHBsaWVkCiAgZnVuY3Rpb24gZ2V0VHJhbnNhY3Rpb25Db3VudChib29sIHBlbmRpbmcsIGJvb2wgZXhlY3V0ZWQpCiAgcHVibGljCiAgY29uc3RhbnQKICByZXR1cm5zICh1aW50IGNvdW50KQogIHsKICAgIGZvciAodWludCBpPTA7IGk8dHJhbnNhY3Rpb25Db3VudDsgaSsrKQogICAgaWYgKCAgIHBlbmRpbmcgJiYgIXRyYW5zYWN0aW9uc1tpXS5leGVjdXRlZAogICAgfHwgZXhlY3V0ZWQgJiYgdHJhbnNhY3Rpb25zW2ldLmV4ZWN1dGVkKQogICAgY291bnQgKz0gMTsKICB9CgogIC8vLyBAZGV2IFJldHVybnMgbGlzdCBvZiBvd25lcnMKICAvLy8gQHJldHVybiBMaXN0IG9mIG93bmVyIGFkZHJlc3NlcwogIGZ1bmN0aW9uIGdldE93bmVycygpCiAgcHVibGljCiAgY29uc3RhbnQKICByZXR1cm5zIChhZGRyZXNzW10pCiAgewogICAgcmV0dXJuIG93bmVyczsKICB9CgogIC8vLyBAZGV2IFJldHVybnMgYXJyYXkgd2l0aCBvd25lciBhZGRyZXNzZXMsIHdoaWNoIGNvbmZpcm1lZCB0cmFuc2FjdGlvbgogIC8vLyBAcGFyYW0gdHJhbnNhY3Rpb25JZCBUcmFuc2FjdGlvbiBJRAogIC8vLyBAcmV0dXJuIFJldHVybnMgYXJyYXkgb2Ygb3duZXIgYWRkcmVzc2VzCiAgZnVuY3Rpb24gZ2V0Q29uZmlybWF0aW9ucyh1aW50IHRyYW5zYWN0aW9uSWQpCiAgcHVibGljCiAgY29uc3RhbnQKICByZXR1cm5zIChhZGRyZXNzW10gX2NvbmZpcm1hdGlvbnMpCiAgewogICAgYWRkcmVzc1tdIG1lbW9yeSBjb25maXJtYXRpb25zVGVtcCA9IG5ldyBhZGRyZXNzW10ob3duZXJzLmxlbmd0aCk7CiAgICB1aW50IGNvdW50ID0gMDsKICAgIHVpbnQgaTsKICAgIGZvciAoaT0wOyBpPG93bmVycy5sZW5ndGg7IGkrKykKICAgIGlmIChjb25maXJtYXRpb25zW3RyYW5zYWN0aW9uSWRdW293bmVyc1tpXV0pIHsKICAgICAgY29uZmlybWF0aW9uc1RlbXBbY291bnRdID0gb3duZXJzW2ldOwogICAgICBjb3VudCArPSAxOwogICAgfQogICAgX2NvbmZpcm1hdGlvbnMgPSBuZXcgYWRkcmVzc1tdKGNvdW50KTsKICAgIGZvciAoaT0wOyBpPGNvdW50OyBpKyspCiAgICBfY29uZmlybWF0aW9uc1tpXSA9IGNvbmZpcm1hdGlvbnNUZW1wW2ldOwogIH0KCiAgLy8vIEBkZXYgUmV0dXJucyBsaXN0IG9mIHRyYW5zYWN0aW9uIElEcyBpbiBkZWZpbmVkIHJhbmdlCiAgLy8vIEBwYXJhbSBmcm9tIEluZGV4IHN0YXJ0IHBvc2l0aW9uIG9mIHRyYW5zYWN0aW9uIGFycmF5CiAgLy8vIEBwYXJhbSB0byBJbmRleCBlbmQgcG9zaXRpb24gb2YgdHJhbnNhY3Rpb24gYXJyYXkKICAvLy8gQHBhcmFtIHBlbmRpbmcgSW5jbHVkZSBwZW5kaW5nIHRyYW5zYWN0aW9ucwogIC8vLyBAcGFyYW0gZXhlY3V0ZWQgSW5jbHVkZSBleGVjdXRlZCB0cmFuc2FjdGlvbnMKICAvLy8gQHJldHVybiBSZXR1cm5zIGFycmF5IG9mIHRyYW5zYWN0aW9uIElEcwogIGZ1bmN0aW9uIGdldFRyYW5zYWN0aW9uSWRzKHVpbnQgZnJvbSwgdWludCB0bywgYm9vbCBwZW5kaW5nLCBib29sIGV4ZWN1dGVkKQogIHB1YmxpYwogIGNvbnN0YW50CiAgcmV0dXJucyAodWludFtdIF90cmFuc2FjdGlvbklkcykKICB7CiAgICB1aW50W10gbWVtb3J5IHRyYW5zYWN0aW9uSWRzVGVtcCA9IG5ldyB1aW50W10odHJhbnNhY3Rpb25Db3VudCk7CiAgICB1aW50IGNvdW50ID0gMDsKICAgIHVpbnQgaTsKICAgIGZvciAoaT0wOyBpPHRyYW5zYWN0aW9uQ291bnQ7IGkrKykKICAgIGlmICggICBwZW5kaW5nICYmICF0cmFuc2FjdGlvbnNbaV0uZXhlY3V0ZWQKICAgIHx8IGV4ZWN1dGVkICYmIHRyYW5zYWN0aW9uc1tpXS5leGVjdXRlZCkKICAgIHsKICAgICAgdHJhbnNhY3Rpb25JZHNUZW1wW2NvdW50XSA9IGk7CiAgICAgIGNvdW50ICs9IDE7CiAgICB9CiAgICBfdHJhbnNhY3Rpb25JZHMgPSBuZXcgdWludFtdKHRvIC0gZnJvbSk7CiAgICBmb3IgKGk9ZnJvbTsgaTx0bzsgaSsrKQogICAgX3RyYW5zYWN0aW9uSWRzW2kgLSBmcm9tXSA9IHRyYW5zYWN0aW9uSWRzVGVtcFtpXTsKICB9Cn0='.
	

]
