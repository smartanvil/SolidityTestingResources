Class {
	#name : #SRT56ba2Ee7890461f463F7be02aAC3099f6d5811A8,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT56ba2Ee7890461f463F7be02aAC3099f6d5811A8 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMTsKCi8qKgogKiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gbWF4NjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1heDI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgewogICAgaWYgKCFhc3NlcnRpb24pIHsKICAgICAgdGhyb3c7CiAgICB9CiAgfQp9CgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4gCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgYmFsYW5jZXM7CgogIC8qKgogICAqIEBkZXYgRml4IGZvciB0aGUgRVJDMjAgc2hvcnQgYWRkcmVzcyBhdHRhY2suCiAgICovCiAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgc2l6ZSkgewogICAgIGlmKG1zZy5kYXRhLmxlbmd0aCA8IHNpemUgKyA0KSB7CiAgICAgICB0aHJvdzsKICAgICB9CiAgICAgXzsKICB9CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seVBheWxvYWRTaXplKDIgKiAzMikgewogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuIAogICogQHJldHVybiBBbiB1aW50IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9Cgp9CgoKLyoqCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBAZGV2IEltcGxlbWFudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFydCB0b2tlbi4KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBCYXNpY1Rva2VuLCBFUkMyMCB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seVBheWxvYWRTaXplKDMgKiAzMikgewogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgIC8vIGlmIChfdmFsdWUgPiBfYWxsb3dhbmNlKSB0aHJvdzsKCiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlYWhsZiBvZiBtc2cuc2VuZGVyLgogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHsKCiAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICBpZiAoKF92YWx1ZSAhPSAwKSAmJiAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gIT0gMCkpIHRocm93OwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYW4gYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9Cgp9CgoKY29udHJhY3QgQ0FUVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiB7Cgl1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCQoJLy8ga2VjY2FrMjU2IGhhc2ggb2YgaGlkZGVuIGNhcAoJc3RyaW5nIHB1YmxpYyBjb25zdGFudCBISURERU5fQ0FQID0gIjB4ZDIyZjE5ZDU0MTkzZmY1ZTA4ZTdiYTg4YzhlNTJlYzFiOWZjOGQ0ZTBjZjE3N2UxYmU4YTc2NGZhNWIzNzVmYSI7CgkKCS8vIEV2ZW50cwoJZXZlbnQgQ3JlYXRlZENBVChhZGRyZXNzIGluZGV4ZWQgX2NyZWF0b3IsIHVpbnQyNTYgX2Ftb3VudE9mQ0FUKTsKCWV2ZW50IENBVFJlZnVuZGVkRm9yV2VpKGFkZHJlc3MgaW5kZXhlZCBfcmVmdW5kZXIsIHVpbnQyNTYgX2Ftb3VudE9mV2VpKTsKCQoJLy8gVG9rZW4gZGF0YQoJc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkJsb2NrQ0FUIFRva2VuIjsKCXN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkNBVCI7Cgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OyAgLy8gU2luY2Ugb3VyIGRlY2ltYWxzIGVxdWFscyB0aGUgbnVtYmVyIG9mIHdlaSBwZXIgZXRoZXIsIHdlIG5lZWRuJ3QgbXVsdGlwbHkgc2VudCB2YWx1ZXMgd2hlbiBjb252ZXJ0aW5nIGJldHdlZW4gQ0FUIGFuZCBFVEguCglzdHJpbmcgcHVibGljIHZlcnNpb24gPSAiMS4wIjsKCQoJLy8gQWRkcmVzc2VzIGFuZCBjb250cmFjdHMKCWFkZHJlc3MgcHVibGljIGV4ZWN1dG9yOwoJYWRkcmVzcyBwdWJsaWMgZGV2RVRIRGVzdGluYXRpb247CglhZGRyZXNzIHB1YmxpYyBkZXZDQVREZXN0aW5hdGlvbjsKCWFkZHJlc3MgcHVibGljIHJlc2VydmVDQVREZXN0aW5hdGlvbjsKCQoJLy8gU2FsZSBkYXRhCglib29sIHB1YmxpYyBzYWxlSGFzRW5kZWQ7Cglib29sIHB1YmxpYyBtaW5DYXBSZWFjaGVkOwoJYm9vbCBwdWJsaWMgYWxsb3dSZWZ1bmQ7CgltYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBFVEhDb250cmlidXRlZDsKCXVpbnQyNTYgcHVibGljIHRvdGFsRVRIUmFpc2VkOwoJdWludDI1NiBwdWJsaWMgc2FsZVN0YXJ0QmxvY2s7Cgl1aW50MjU2IHB1YmxpYyBzYWxlRW5kQmxvY2s7Cgl1aW50MjU2IHB1YmxpYyBzYWxlRmlyc3RFYXJseUJpcmRFbmRCbG9jazsKCXVpbnQyNTYgcHVibGljIHNhbGVTZWNvbmRFYXJseUJpcmRFbmRCbG9jazsKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IERFVl9QT1JUSU9OID0gMjA7ICAvLyBJbiBwZXJjZW50YWdlCgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBSRVNFUlZFX1BPUlRJT04gPSAxOyAgLy8gSW4gcGVyY2VudGFnZQoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgQURESVRJT05BTF9QT1JUSU9OID0gREVWX1BPUlRJT04gKyBSRVNFUlZFX1BPUlRJT047Cgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBTRUNVUklUWV9FVEhFUl9DQVAgPSAxMDAwMDAwIGV0aGVyOwoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgQ0FUX1BFUl9FVEhfQkFTRV9SQVRFID0gMzAwOyAgLy8gMzAwIENBVCA9IDEgRVRIIGR1cmluZyBub3JtYWwgcGFydCBvZiB0b2tlbiBzYWxlCgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBDQVRfUEVSX0VUSF9GSVJTVF9FQVJMWV9CSVJEX1JBVEUgPSAzMzA7Cgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBDQVRfUEVSX0VUSF9TRUNPTkRfRUFSTFlfQklSRF9SQVRFID0gMzE1OwoJCglmdW5jdGlvbiBDQVRUb2tlbigKCQlhZGRyZXNzIF9kZXZFVEhEZXN0aW5hdGlvbiwKCQlhZGRyZXNzIF9kZXZDQVREZXN0aW5hdGlvbiwKCQlhZGRyZXNzIF9yZXNlcnZlQ0FURGVzdGluYXRpb24sCgkJdWludDI1NiBfc2FsZVN0YXJ0QmxvY2ssCgkJdWludDI1NiBfc2FsZUVuZEJsb2NrCgkpIHsKCQkvLyBSZWplY3Qgb24gaW52YWxpZCBFVEggZGVzdGluYXRpb24gYWRkcmVzcyBvciBDQVQgZGVzdGluYXRpb24gYWRkcmVzcwoJCWlmIChfZGV2RVRIRGVzdGluYXRpb24gPT0gYWRkcmVzcygweDApKSB0aHJvdzsKCQlpZiAoX2RldkNBVERlc3RpbmF0aW9uID09IGFkZHJlc3MoMHgwKSkgdGhyb3c7CgkJaWYgKF9yZXNlcnZlQ0FURGVzdGluYXRpb24gPT0gYWRkcmVzcygweDApKSB0aHJvdzsKCQkvLyBSZWplY3QgaWYgc2FsZSBlbmRzIGJlZm9yZSB0aGUgY3VycmVudCBibG9jawoJCWlmIChfc2FsZUVuZEJsb2NrIDw9IGJsb2NrLm51bWJlcikgdGhyb3c7CgkJLy8gUmVqZWN0IGlmIHRoZSBzYWxlIGVuZCB0aW1lIGlzIGxlc3MgdGhhbiB0aGUgc2FsZSBzdGFydCB0aW1lCgkJaWYgKF9zYWxlRW5kQmxvY2sgPD0gX3NhbGVTdGFydEJsb2NrKSB0aHJvdzsKCgkJZXhlY3V0b3IgPSBtc2cuc2VuZGVyOwoJCXNhbGVIYXNFbmRlZCA9IGZhbHNlOwoJCW1pbkNhcFJlYWNoZWQgPSBmYWxzZTsKCQlhbGxvd1JlZnVuZCA9IGZhbHNlOwoJCWRldkVUSERlc3RpbmF0aW9uID0gX2RldkVUSERlc3RpbmF0aW9uOwoJCWRldkNBVERlc3RpbmF0aW9uID0gX2RldkNBVERlc3RpbmF0aW9uOwoJCXJlc2VydmVDQVREZXN0aW5hdGlvbiA9IF9yZXNlcnZlQ0FURGVzdGluYXRpb247CgkJdG90YWxFVEhSYWlzZWQgPSAwOwoJCXNhbGVTdGFydEJsb2NrID0gX3NhbGVTdGFydEJsb2NrOwoJCXNhbGVFbmRCbG9jayA9IF9zYWxlRW5kQmxvY2s7CgkJc2FsZUZpcnN0RWFybHlCaXJkRW5kQmxvY2sgPSBzYWxlU3RhcnRCbG9jayArIDYxNzE7ICAvLyBFcXVpdmFsZW50IHRvIDI0IGhvdXJzIGxhdGVyLCBhc3N1bWluZyAxNCBzZWNvbmQgYmxvY2tzCgkJc2FsZVNlY29uZEVhcmx5QmlyZEVuZEJsb2NrID0gc2FsZUZpcnN0RWFybHlCaXJkRW5kQmxvY2sgKyAxMjM0MjsgIC8vIEVxdWl2YWxlbnQgdG8gNDggaG91cnMgbGF0ZXIgYWZ0ZXIgZmlyc3QgZWFybHkgYmlyZCwgYXNzdW1pbmcgMTQgc2Vjb25kIGJsb2NrcwoKCQl0b3RhbFN1cHBseSA9IDA7Cgl9CgkKCWZ1bmN0aW9uIGNyZWF0ZVRva2VucygpIHBheWFibGUgZXh0ZXJuYWwgewoJCS8vIElmIHNhbGUgaXMgbm90IGFjdGl2ZSwgZG8gbm90IGNyZWF0ZSBDQVQKCQlpZiAoc2FsZUhhc0VuZGVkKSB0aHJvdzsKCQlpZiAoYmxvY2subnVtYmVyIDwgc2FsZVN0YXJ0QmxvY2spIHRocm93OwoJCWlmIChibG9jay5udW1iZXIgPiBzYWxlRW5kQmxvY2spIHRocm93OwoJCS8vIENoZWNrIGlmIHRoZSBiYWxhbmNlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgc2VjdXJpdHkgY2FwCgkJdWludDI1NiBuZXdFdGhlckJhbGFuY2UgPSB0b3RhbEVUSFJhaXNlZC5hZGQobXNnLnZhbHVlKTsKCQlpZiAobmV3RXRoZXJCYWxhbmNlID4gU0VDVVJJVFlfRVRIRVJfQ0FQKSB0aHJvdzsgCgkJLy8gRG8gbm90IGRvIGFueXRoaW5nIGlmIHRoZSBhbW91bnQgb2YgZXRoZXIgc2VudCBpcyAwCgkJaWYgKDAgPT0gbXNnLnZhbHVlKSB0aHJvdzsKCQkKCQkvLyBDYWxjdWxhdGUgdGhlIENBVCB0byBFVEggcmF0ZSBmb3IgdGhlIGN1cnJlbnQgdGltZSBwZXJpb2Qgb2YgdGhlIHNhbGUKCQl1aW50MjU2IGN1clRva2VuUmF0ZSA9IENBVF9QRVJfRVRIX0JBU0VfUkFURTsKCQlpZiAoYmxvY2subnVtYmVyIDwgc2FsZUZpcnN0RWFybHlCaXJkRW5kQmxvY2spIHsKCQkJY3VyVG9rZW5SYXRlID0gQ0FUX1BFUl9FVEhfRklSU1RfRUFSTFlfQklSRF9SQVRFOwoJCX0KCQllbHNlIGlmIChibG9jay5udW1iZXIgPCBzYWxlU2Vjb25kRWFybHlCaXJkRW5kQmxvY2spIHsKCQkJY3VyVG9rZW5SYXRlID0gQ0FUX1BFUl9FVEhfU0VDT05EX0VBUkxZX0JJUkRfUkFURTsKCQl9CgkJCgkJLy8gQ2FsY3VsYXRlIHRoZSBhbW91bnQgb2YgQ0FUIGJlaW5nIHB1cmNoYXNlZAoJCXVpbnQyNTYgYW1vdW50T2ZDQVQgPSBtc2cudmFsdWUubXVsKGN1clRva2VuUmF0ZSk7CgkJCgkJLy8gRW5zdXJlIHRoYXQgdGhlIHRyYW5zYWN0aW9uIGlzIHNhZmUKCQl1aW50MjU2IHRvdGFsU3VwcGx5U2FmZSA9IHRvdGFsU3VwcGx5LmFkZChhbW91bnRPZkNBVCk7CgkJdWludDI1NiBiYWxhbmNlU2FmZSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLmFkZChhbW91bnRPZkNBVCk7CgkJdWludDI1NiBjb250cmlidXRlZFNhZmUgPSBFVEhDb250cmlidXRlZFttc2cuc2VuZGVyXS5hZGQobXNnLnZhbHVlKTsKCgkJLy8gVXBkYXRlIGluZGl2aWR1YWwgYW5kIHRvdGFsIGJhbGFuY2VzCgkJdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseVNhZmU7CgkJYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlU2FmZTsKCgkJdG90YWxFVEhSYWlzZWQgPSBuZXdFdGhlckJhbGFuY2U7CgkJRVRIQ29udHJpYnV0ZWRbbXNnLnNlbmRlcl0gPSBjb250cmlidXRlZFNhZmU7CgoJCUNyZWF0ZWRDQVQobXNnLnNlbmRlciwgYW1vdW50T2ZDQVQpOwoJfQoJCglmdW5jdGlvbiBlbmRTYWxlKCkgewoJCS8vIERvIG5vdCBlbmQgYW4gYWxyZWFkeSBlbmRlZCBzYWxlCgkJaWYgKHNhbGVIYXNFbmRlZCkgdGhyb3c7CgkJLy8gQ2FuJ3QgZW5kIGEgc2FsZSB0aGF0IGhhc24ndCBoaXQgaXRzIG1pbmltdW0gY2FwCgkJaWYgKCFtaW5DYXBSZWFjaGVkKSB0aHJvdzsKCQkvLyBPbmx5IGFsbG93IHRoZSBvd25lciB0byBlbmQgdGhlIHNhbGUKCQlpZiAobXNnLnNlbmRlciAhPSBleGVjdXRvcikgdGhyb3c7CgkJCgkJc2FsZUhhc0VuZGVkID0gdHJ1ZTsKCgkJLy8gQ2FsY3VsYXRlIGFuZCBjcmVhdGUgZGV2ZWxvcGVyIGFuZCByZXNlcnZlIHBvcnRpb24gb2YgQ0FUCgkJdWludDI1NiBhZGRpdGlvbmFsQ0FUID0gKHRvdGFsU3VwcGx5Lm11bChBRERJVElPTkFMX1BPUlRJT04pKS5kaXYoMTAwIC0gQURESVRJT05BTF9QT1JUSU9OKTsKCQl1aW50MjU2IHRvdGFsU3VwcGx5U2FmZSA9IHRvdGFsU3VwcGx5LmFkZChhZGRpdGlvbmFsQ0FUKTsKCgkJdWludDI1NiByZXNlcnZlU2hhcmUgPSAoYWRkaXRpb25hbENBVC5tdWwoUkVTRVJWRV9QT1JUSU9OKSkuZGl2KEFERElUSU9OQUxfUE9SVElPTik7CgkJdWludDI1NiBkZXZTaGFyZSA9IGFkZGl0aW9uYWxDQVQuc3ViKHJlc2VydmVTaGFyZSk7CgoJCXRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHlTYWZlOwoJCWJhbGFuY2VzW2RldkNBVERlc3RpbmF0aW9uXSA9IGRldlNoYXJlOwoJCWJhbGFuY2VzW3Jlc2VydmVDQVREZXN0aW5hdGlvbl0gPSByZXNlcnZlU2hhcmU7CgkJCgkJQ3JlYXRlZENBVChkZXZDQVREZXN0aW5hdGlvbiwgZGV2U2hhcmUpOwoJCUNyZWF0ZWRDQVQocmVzZXJ2ZUNBVERlc3RpbmF0aW9uLCByZXNlcnZlU2hhcmUpOwoKCQlpZiAodGhpcy5iYWxhbmNlID4gMCkgewoJCQlpZiAoIWRldkVUSERlc3RpbmF0aW9uLmNhbGwudmFsdWUodGhpcy5iYWxhbmNlKSgpKSB0aHJvdzsKCQl9Cgl9CgoJLy8gQWxsb3dzIEJsb2NrQ0FUIHRvIHdpdGhkcmF3IGZ1bmRzCglmdW5jdGlvbiB3aXRoZHJhd0Z1bmRzKCkgewoJCS8vIERpc2FsbG93IHdpdGhkcmF3IGlmIHRoZSBtaW5pbXVtIGhhc24ndCBiZWVuIHJlYWNoZWQKCQlpZiAoIW1pbkNhcFJlYWNoZWQpIHRocm93OwoJCWlmICgwID09IHRoaXMuYmFsYW5jZSkgdGhyb3c7CgoJCWlmICghZGV2RVRIRGVzdGluYXRpb24uY2FsbC52YWx1ZSh0aGlzLmJhbGFuY2UpKCkpIHRocm93OwoJfQoJCgkvLyBTaWduYWxzIHRoYXQgdGhlIHNhbGUgaGFzIHJlYWNoZWQgaXRzIG1pbmltdW0gZnVuZGluZyBnb2FsCglmdW5jdGlvbiB0cmlnZ2VyTWluQ2FwKCkgewoJCWlmIChtc2cuc2VuZGVyICE9IGV4ZWN1dG9yKSB0aHJvdzsKCgkJbWluQ2FwUmVhY2hlZCA9IHRydWU7Cgl9CgoJLy8gT3BlbnMgcmVmdW5kaW5nLgoJZnVuY3Rpb24gdHJpZ2dlclJlZnVuZCgpIHsKCQkvLyBObyByZWZ1bmRzIGlmIHRoZSBzYWxlIHdhcyBzdWNjZXNzZnVsCgkJaWYgKHNhbGVIYXNFbmRlZCkgdGhyb3c7CgkJLy8gTm8gcmVmdW5kcyBpZiBtaW5pbXVtIGNhcCBpcyBoaXQKCQlpZiAobWluQ2FwUmVhY2hlZCkgdGhyb3c7CgkJLy8gTm8gcmVmdW5kcyBpZiB0aGUgc2FsZSBpcyBzdGlsbCBwcm9ncmVzc2luZwoJCWlmIChibG9jay5udW1iZXIgPCBzYWxlRW5kQmxvY2spIHRocm93OwoJCWlmIChtc2cuc2VuZGVyICE9IGV4ZWN1dG9yKSB0aHJvdzsKCgkJYWxsb3dSZWZ1bmQgPSB0cnVlOwoJfQoKCWZ1bmN0aW9uIHJlZnVuZCgpIGV4dGVybmFsIHsKCQkvLyBObyByZWZ1bmRzIHVudGlsIGl0IGlzIGFwcHJvdmVkCgkJaWYgKCFhbGxvd1JlZnVuZCkgdGhyb3c7CgkJLy8gTm90aGluZyB0byByZWZ1bmQKCQlpZiAoMCA9PSBFVEhDb250cmlidXRlZFttc2cuc2VuZGVyXSkgdGhyb3c7CgoJCS8vIERvIHRoZSByZWZ1bmQuCgkJdWludDI1NiBldGhlckFtb3VudCA9IEVUSENvbnRyaWJ1dGVkW21zZy5zZW5kZXJdOwoJCUVUSENvbnRyaWJ1dGVkW21zZy5zZW5kZXJdID0gMDsKCgkJQ0FUUmVmdW5kZWRGb3JXZWkobXNnLnNlbmRlciwgZXRoZXJBbW91bnQpOwoJCWlmICghbXNnLnNlbmRlci5zZW5kKGV0aGVyQW1vdW50KSkgdGhyb3c7Cgl9CgoJZnVuY3Rpb24gY2hhbmdlRGV2ZWxvcGVyRVRIRGVzdGluYXRpb25BZGRyZXNzKGFkZHJlc3MgX25ld0FkZHJlc3MpIHsKCQlpZiAobXNnLnNlbmRlciAhPSBleGVjdXRvcikgdGhyb3c7CgkJZGV2RVRIRGVzdGluYXRpb24gPSBfbmV3QWRkcmVzczsKCX0KCQoJZnVuY3Rpb24gY2hhbmdlRGV2ZWxvcGVyQ0FURGVzdGluYXRpb25BZGRyZXNzKGFkZHJlc3MgX25ld0FkZHJlc3MpIHsKCQlpZiAobXNnLnNlbmRlciAhPSBleGVjdXRvcikgdGhyb3c7CgkJZGV2Q0FURGVzdGluYXRpb24gPSBfbmV3QWRkcmVzczsKCX0KCQoJZnVuY3Rpb24gY2hhbmdlUmVzZXJ2ZUNBVERlc3RpbmF0aW9uQWRkcmVzcyhhZGRyZXNzIF9uZXdBZGRyZXNzKSB7CgkJaWYgKG1zZy5zZW5kZXIgIT0gZXhlY3V0b3IpIHRocm93OwoJCXJlc2VydmVDQVREZXN0aW5hdGlvbiA9IF9uZXdBZGRyZXNzOwoJfQoJCglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHsKCQkvLyBDYW5ub3QgdHJhbnNmZXIgdW5sZXNzIHRoZSBtaW5pbXVtIGNhcCBpcyBoaXQKCQlpZiAoIW1pbkNhcFJlYWNoZWQpIHRocm93OwoJCQoJCXN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKCX0KCQoJZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgewoJCS8vIENhbm5vdCB0cmFuc2ZlciB1bmxlc3MgdGhlIG1pbmltdW0gY2FwIGlzIGhpdAoJCWlmICghbWluQ2FwUmVhY2hlZCkgdGhyb3c7CgkJCgkJc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7Cgl9Cn0='.
	

]
