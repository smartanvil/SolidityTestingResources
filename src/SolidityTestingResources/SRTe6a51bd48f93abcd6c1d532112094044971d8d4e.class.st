Class {
	#name : #SRTe6a51bd48f93abcd6c1d532112094044971d8d4e,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe6a51bd48f93abcd6c1d532112094044971d8d4e >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5ID49MC40LjQ7CgovL2Zyb20gWmVwcGVsaW4KY29udHJhY3QgU2FmZU1hdGggewogICAgZnVuY3Rpb24gc2FmZU11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIHVpbnQgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZVN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGM+PWEgJiYgYz49Yik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgYXNzZXJ0aW9uKSBpbnRlcm5hbCB7CiAgICAgICAgaWYgKCFhc3NlcnRpb24pIHRocm93OwogICAgfQp9Cgpjb250cmFjdCBPd25lZCB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICBmdW5jdGlvbiBPd25lZCgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB0aHJvdzsKICAgICAgICBfOwogICAgfQoKICAgIGFkZHJlc3MgbmV3T3duZXI7CgogICAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICAgICAgbmV3T3duZXIgPSBfbmV3T3duZXI7CiAgICB9CgogICAgZnVuY3Rpb24gYWNjZXB0T3duZXJzaGlwKCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyID09IG5ld093bmVyKSB7CiAgICAgICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICAgICAgfQogICAgfQp9Cgpjb250cmFjdCBGaW5hbGl6YWJsZSBpcyBPd25lZCB7CiAgICBib29sIHB1YmxpYyBmaW5hbGl6ZWQ7CgogICAgZnVuY3Rpb24gZmluYWxpemUoKSBvbmx5T3duZXIgewogICAgICAgIGZpbmFsaXplZCA9IHRydWU7CiAgICB9CgogICAgbW9kaWZpZXIgbm90RmluYWxpemVkKCkgewogICAgICAgIGlmIChmaW5hbGl6ZWQpIHRocm93OwogICAgICAgIF87CiAgICB9Cn0KCmNvbnRyYWN0IElUb2tlbiB7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgb3duZXIpIHJldHVybnModWludCk7Cn0KCmNvbnRyYWN0IFRva2VuUmVjZWl2YWJsZSBpcyBPd25lZCB7CiAgICBldmVudCBsb2dUb2tlblRyYW5zZmVyKGFkZHJlc3MgdG9rZW4sIGFkZHJlc3MgdG8sIHVpbnQgYW1vdW50KTsKCiAgICBmdW5jdGlvbiBjbGFpbVRva2VucyhhZGRyZXNzIF90b2tlbiwgYWRkcmVzcyBfdG8pIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CiAgICAgICAgSVRva2VuIHRva2VuID0gSVRva2VuKF90b2tlbik7CiAgICAgICAgdWludCBiYWxhbmNlID0gdG9rZW4uYmFsYW5jZU9mKHRoaXMpOwogICAgICAgIGlmICh0b2tlbi50cmFuc2ZlcihfdG8sIGJhbGFuY2UpKSB7CiAgICAgICAgICAgIGxvZ1Rva2VuVHJhbnNmZXIoX3Rva2VuLCBfdG8sIGJhbGFuY2UpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQp9Cgpjb250cmFjdCBFdmVudERlZmluaXRpb25zIHsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB2YWx1ZSk7Cn0KCmNvbnRyYWN0IFRva2VuIGlzIEZpbmFsaXphYmxlLCBUb2tlblJlY2VpdmFibGUsIFNhZmVNYXRoLCBFdmVudERlZmluaXRpb25zIHsKCiAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAiRnVuRmFpciI7CiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSA4OwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiRlVOIjsKCiAgICBDb250cm9sbGVyIGNvbnRyb2xsZXI7CiAgICBhZGRyZXNzIG93bmVyOwoKICAgIGZ1bmN0aW9uIHNldENvbnRyb2xsZXIoYWRkcmVzcyBfYykgb25seU93bmVyIG5vdEZpbmFsaXplZCB7CiAgICAgICAgY29udHJvbGxlciA9IENvbnRyb2xsZXIoX2MpOwogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIGEpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gY29udHJvbGxlci5iYWxhbmNlT2YoYSk7CiAgICB9CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIudG90YWxTdXBwbHkoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gY29udHJvbGxlci5hbGxvd2FuY2UoX293bmVyLCBfc3BlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKQogICAgb25seVBheWxvYWRTaXplKDIpCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgIHN1Y2Nlc3MgPSBjb250cm9sbGVyLnRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICBpZiAoc3VjY2VzcykgewogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpCiAgICBvbmx5UGF5bG9hZFNpemUoMykKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgc3VjY2VzcyA9IGNvbnRyb2xsZXIudHJhbnNmZXJGcm9tKG1zZy5zZW5kZXIsIF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgaWYgKHN1Y2Nlc3MpIHsKICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkKICAgIG9ubHlQYXlsb2FkU2l6ZSgyKQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy9wcm9tb3RlIHNhZmUgdXNlciBiZWhhdmlvcgogICAgICAgIGlmIChjb250cm9sbGVyLmFsbG93YW5jZShtc2cuc2VuZGVyLCBfc3BlbmRlcikgPiAwKSB0aHJvdzsKCiAgICAgICAgc3VjY2VzcyA9IGNvbnRyb2xsZXIuYXBwcm92ZShtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICBpZiAoc3VjY2VzcykgewogICAgICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkKICAgIG9ubHlQYXlsb2FkU2l6ZSgyKQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgc3VjY2VzcyA9IGNvbnRyb2xsZXIuaW5jcmVhc2VBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX2FkZGVkVmFsdWUpOwogICAgICAgIGlmIChzdWNjZXNzKSB7CiAgICAgICAgICAgIHVpbnQgbmV3dmFsID0gY29udHJvbGxlci5hbGxvd2FuY2UobXNnLnNlbmRlciwgX3NwZW5kZXIpOwogICAgICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgbmV3dmFsKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKQogICAgb25seVBheWxvYWRTaXplKDIpCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBzdWNjZXNzID0gY29udHJvbGxlci5kZWNyZWFzZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfc3VidHJhY3RlZFZhbHVlKTsKICAgICAgICBpZiAoc3VjY2VzcykgewogICAgICAgICAgICB1aW50IG5ld3ZhbCA9IGNvbnRyb2xsZXIuYWxsb3dhbmNlKG1zZy5zZW5kZXIsIF9zcGVuZGVyKTsKICAgICAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIG5ld3ZhbCk7CiAgICAgICAgfQogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlQYXlsb2FkU2l6ZSh1aW50IG51bXdvcmRzKSB7CiAgICBhc3NlcnQobXNnLmRhdGEubGVuZ3RoID09IG51bXdvcmRzICogMzIgKyA0KTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIGJ1cm4odWludCBfYW1vdW50KSB7CiAgICAgICAgY29udHJvbGxlci5idXJuKG1zZy5zZW5kZXIsIF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIDB4MCwgX2Ftb3VudCk7CiAgICB9Cn0KCmNvbnRyYWN0IENvbnRyb2xsZXIgaXMgT3duZWQsIEZpbmFsaXphYmxlIHsKICAgIExlZGdlciBwdWJsaWMgbGVkZ2VyOwogICAgYWRkcmVzcyBwdWJsaWMgdG9rZW47CgogICAgZnVuY3Rpb24gc2V0VG9rZW4oYWRkcmVzcyBfdG9rZW4pIG9ubHlPd25lciB7CiAgICAgICAgdG9rZW4gPSBfdG9rZW47CiAgICB9CgogICAgZnVuY3Rpb24gc2V0TGVkZ2VyKGFkZHJlc3MgX2xlZGdlcikgb25seU93bmVyIHsKICAgICAgICBsZWRnZXIgPSBMZWRnZXIoX2xlZGdlcik7CiAgICB9CgogICAgbW9kaWZpZXIgb25seVRva2VuKCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IHRva2VuKSB0aHJvdzsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBsZWRnZXIudG90YWxTdXBwbHkoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfYSkgb25seVRva2VuIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gTGVkZ2VyKGxlZGdlcikuYmFsYW5jZU9mKF9hKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpCiAgICBvbmx5VG9rZW4gY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBsZWRnZXIuYWxsb3dhbmNlKF9vd25lciwgX3NwZW5kZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkKICAgIG9ubHlUb2tlbgogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmV0dXJuIGxlZGdlci50cmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9zcGVuZGVyLCBhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpCiAgICBvbmx5VG9rZW4KICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJldHVybiBsZWRnZXIudHJhbnNmZXJGcm9tKF9zcGVuZGVyLCBfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKQogICAgb25seVRva2VuCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXR1cm4gbGVkZ2VyLmFwcHJvdmUoX293bmVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkKICAgIG9ubHlUb2tlbgogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmV0dXJuIGxlZGdlci5pbmNyZWFzZUFwcHJvdmFsKF9vd25lciwgX3NwZW5kZXIsIF9hZGRlZFZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKQogICAgb25seVRva2VuCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXR1cm4gbGVkZ2VyLmRlY3JlYXNlQXBwcm92YWwoX293bmVyLCBfc3BlbmRlciwgX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGJ1cm4oYWRkcmVzcyBfb3duZXIsIHVpbnQgX2Ftb3VudCkgb25seVRva2VuIHsKICAgICAgICBsZWRnZXIuYnVybihfb3duZXIsIF9hbW91bnQpOwogICAgfQp9Cgpjb250cmFjdCBMZWRnZXIgaXMgT3duZWQsIFNhZmVNYXRoLCBGaW5hbGl6YWJsZSB7CiAgICBhZGRyZXNzIHB1YmxpYyBjb250cm9sbGVyOwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBiYWxhbmNlT2Y7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIHB1YmxpYyBhbGxvd2FuY2U7CiAgICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICBmdW5jdGlvbiBzZXRDb250cm9sbGVyKGFkZHJlc3MgX2NvbnRyb2xsZXIpIG9ubHlPd25lciBub3RGaW5hbGl6ZWQgewogICAgICAgIGNvbnRyb2xsZXIgPSBfY29udHJvbGxlcjsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5Q29udHJvbGxlcigpIHsKICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBjb250cm9sbGVyKSB0aHJvdzsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkKICAgIG9ubHlDb250cm9sbGVyCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoYmFsYW5jZU9mW19mcm9tXSA8IF92YWx1ZSkgcmV0dXJuIGZhbHNlOwoKICAgICAgICBiYWxhbmNlT2ZbX2Zyb21dID0gc2FmZVN1YihiYWxhbmNlT2ZbX2Zyb21dLCBfdmFsdWUpOwogICAgICAgIGJhbGFuY2VPZltfdG9dID0gc2FmZUFkZChiYWxhbmNlT2ZbX3RvXSwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfc3BlbmRlciwgYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKQogICAgb25seUNvbnRyb2xsZXIKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGlmIChiYWxhbmNlT2ZbX2Zyb21dIDwgX3ZhbHVlKSByZXR1cm4gZmFsc2U7CgogICAgICAgIHZhciBhbGxvd2VkID0gYWxsb3dhbmNlW19mcm9tXVtfc3BlbmRlcl07CiAgICAgICAgaWYgKGFsbG93ZWQgPCBfdmFsdWUpIHJldHVybiBmYWxzZTsKCiAgICAgICAgYmFsYW5jZU9mW190b10gPSBzYWZlQWRkKGJhbGFuY2VPZltfdG9dLCBfdmFsdWUpOwogICAgICAgIGJhbGFuY2VPZltfZnJvbV0gPSBzYWZlU3ViKGJhbGFuY2VPZltfZnJvbV0sIF92YWx1ZSk7CiAgICAgICAgYWxsb3dhbmNlW19mcm9tXVtfc3BlbmRlcl0gPSBzYWZlU3ViKGFsbG93ZWQsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpCiAgICBvbmx5Q29udHJvbGxlcgogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy9yZXF1aXJlIHVzZXIgdG8gc2V0IHRvIHplcm8gYmVmb3JlIHJlc2V0dGluZyB0byBub256ZXJvCiAgICAgICAgaWYgKChfdmFsdWUgIT0gMCkgJiYgKGFsbG93YW5jZVtfb3duZXJdW19zcGVuZGVyXSAhPSAwKSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBhbGxvd2FuY2VbX293bmVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpCiAgICBvbmx5Q29udHJvbGxlcgogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgdWludCBvbGRWYWx1ZSA9IGFsbG93YW5jZVtfb3duZXJdW19zcGVuZGVyXTsKICAgICAgICBhbGxvd2FuY2VbX293bmVyXVtfc3BlbmRlcl0gPSBzYWZlQWRkKG9sZFZhbHVlLCBfYWRkZWRWYWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkKICAgIG9ubHlDb250cm9sbGVyCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICB1aW50IG9sZFZhbHVlID0gYWxsb3dhbmNlW19vd25lcl1bX3NwZW5kZXJdOwogICAgICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgICAgICAgYWxsb3dhbmNlW19vd25lcl1bX3NwZW5kZXJdID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGxvd2FuY2VbX293bmVyXVtfc3BlbmRlcl0gPSBzYWZlU3ViKG9sZFZhbHVlLCBfc3VidHJhY3RlZFZhbHVlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZXZlbnQgTG9nTWludChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIHVpbnQgYW1vdW50KTsKICAgIGV2ZW50IExvZ01pbnRpbmdTdG9wcGVkKCk7CgogICAgZnVuY3Rpb24gbWludChhZGRyZXNzIF9hLCB1aW50IF9hbW91bnQpIG9ubHlPd25lciBtaW50aW5nQWN0aXZlIHsKICAgICAgICBiYWxhbmNlT2ZbX2FdICs9IF9hbW91bnQ7CiAgICAgICAgdG90YWxTdXBwbHkgKz0gX2Ftb3VudDsKICAgICAgICBMb2dNaW50KF9hLCBfYW1vdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiBtdWx0aU1pbnQodWludFtdIGJpdHMpIG9ubHlPd25lciBtaW50aW5nQWN0aXZlIHsKICAgICAgICBmb3IgKHVpbnQgaT0wOyBpPGJpdHMubGVuZ3RoOyBpKyspIHsKCSAgICBhZGRyZXNzIGEgPSBhZGRyZXNzKGJpdHNbaV0+Pjk2KTsKCSAgICB1aW50IGFtb3VudCA9IGJpdHNbaV0mKCgxPDw5NikgLSAxKTsKCSAgICBtaW50KGEsIGFtb3VudCk7CiAgICAgICAgfQogICAgfQoKICAgIGJvb2wgcHVibGljIG1pbnRpbmdTdG9wcGVkOwoKICAgIGZ1bmN0aW9uIHN0b3BNaW50aW5nKCkgb25seU93bmVyIHsKICAgICAgICBtaW50aW5nU3RvcHBlZCA9IHRydWU7CiAgICAgICAgTG9nTWludGluZ1N0b3BwZWQoKTsKICAgIH0KCiAgICBtb2RpZmllciBtaW50aW5nQWN0aXZlKCkgewogICAgICAgIGlmIChtaW50aW5nU3RvcHBlZCkgdGhyb3c7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBidXJuKGFkZHJlc3MgX293bmVyLCB1aW50IF9hbW91bnQpIG9ubHlDb250cm9sbGVyIHsKICAgICAgICBiYWxhbmNlT2ZbX293bmVyXSA9IHNhZmVTdWIoYmFsYW5jZU9mW19vd25lcl0sIF9hbW91bnQpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gc2FmZVN1Yih0b3RhbFN1cHBseSwgX2Ftb3VudCk7CiAgICB9Cn0='.
	

]
