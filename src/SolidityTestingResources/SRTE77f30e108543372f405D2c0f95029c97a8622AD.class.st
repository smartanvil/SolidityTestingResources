Class {
	#name : #SRTE77f30e108543372f405D2c0f95029c97a8622AD,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTE77f30e108543372f405D2c0f95029c97a8622AD >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBTYWZlIG1hdGhzCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmIChhID09IDApIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gRVJDIFRva2VuIFN0YW5kYXJkICMyMCBJbnRlcmZhY2UKLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvYmxvYi9tYXN0ZXIvRUlQUy9laXAtMjAtdG9rZW4tc3RhbmRhcmQubWQKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpjb250cmFjdCBFUkMyMEludGVyZmFjZSB7CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHRva2VuT3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgdG9rZW5Pd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB0b2tlbnMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdG9rZW5zKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdG9rZW5zKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHRva2Vucyk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgdG9rZW5Pd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdG9rZW5zKTsKfQoKLyoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBDb250cmFjdCBmdW5jdGlvbiB0byByZWNlaXZlIGFwcHJvdmFsIGFuZCBleGVjdXRlIGZ1bmN0aW9uIGluIG9uZSBjYWxsCi8vCi8vIEJvcnJvd2VkIGZyb20gTWluaU1lVG9rZW4KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpjb250cmFjdCBBcHByb3ZlQW5kQ2FsbEZhbGxCYWNrIHsKICAgIGZ1bmN0aW9uIHJlY2VpdmVBcHByb3ZhbChhZGRyZXNzIGZyb20sIHVpbnQyNTYgdG9rZW5zLCBhZGRyZXNzIHRva2VuLCBieXRlcyBkYXRhKSBwdWJsaWM7Cn0KKi8KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIE93bmVkIGNvbnRyYWN0Ci8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KY29udHJhY3QgT3duZWQgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgICBhZGRyZXNzIHB1YmxpYyBuZXdPd25lcjsKCiAgICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8pOwoKICAgIGZ1bmN0aW9uIE93bmVkKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgbW9kaWZpZXIgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIG5ld093bmVyID0gX25ld093bmVyOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBhY2NlcHRPd25lcnNoaXAoKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBuZXdPd25lcik7CiAgICAgICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgICAgIG5ld093bmVyID0gYWRkcmVzcygwKTsKICAgIH0KfQoKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gRVJDMjAgVG9rZW4sIHdpdGggdGhlIGFkZGl0aW9uIG9mIHN5bWJvbCwgbmFtZSBhbmQgZGVjaW1hbHMgYW5kIGFuCi8vIGluaXRpYWwgZml4ZWQgc3VwcGx5Ci8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMEludGVyZmFjZSwgT3duZWQgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiYXN0IjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJBbGxTdG9ja3MgVG9rZW4iOwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKICAgIHVpbnQyNTYgcHVibGljIF90b3RhbFN1cHBseTsKCiAgICBib29sIHB1YmxpYyBpc0ZpbmFsaXplZDsgICAgICAgICAgICAgIC8vIHN3aXRjaGVkIHRvIHRydWUgaW4gb3BlcmF0aW9uYWwgc3RhdGUKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHJlZnVuZHM7CgoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gQ29uc3RydWN0b3IKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gU3RhbmRhcmRUb2tlbigpIHB1YmxpYyB7CgogICAgICAgIC8vX3RvdGFsU3VwcGx5ID0gMTAwMDAwMCAqIDEwKip1aW50KGRlY2ltYWxzKTsKICAgICAgICAvL2JhbGFuY2VzW293bmVyXSA9IF90b3RhbFN1cHBseTsKICAgICAgICAvL1RyYW5zZmVyKGFkZHJlc3MoMCksIG93bmVyLCBfdG90YWxTdXBwbHkpOwogICAgfQoKCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFRvdGFsIHN1cHBseQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIF90b3RhbFN1cHBseSAtIGJhbGFuY2VzW2FkZHJlc3MoMCldOwogICAgfQoKCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIEdldCB0aGUgdG9rZW4gYmFsYW5jZSBmb3IgYWNjb3VudCBgdG9rZW5Pd25lcmAKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgdG9rZW5Pd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1t0b2tlbk93bmVyXTsKICAgIH0KCgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBUcmFuc2ZlciB0aGUgYmFsYW5jZSBmcm9tIHRva2VuIG93bmVyJ3MgYWNjb3VudCB0byBgdG9gIGFjY291bnQKICAgIC8vIC0gT3duZXIncyBhY2NvdW50IG11c3QgaGF2ZSBzdWZmaWNpZW50IGJhbGFuY2UgdG8gdHJhbnNmZXIKICAgIC8vIC0gMCB2YWx1ZSB0cmFuc2ZlcnMgYXJlIGFsbG93ZWQKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB0b2tlbnMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAKICAgICAgICAvLyBQcmV2ZW50IHRyYW5zZmVyIHRvIDB4MCBhZGRyZXNzLiBVc2UgYnVybigpIGluc3RlYWQKICAgICAgICByZXF1aXJlKHRvICE9IDB4MCk7CiAgICAgICAgCiAgICAgICAgLy9hbGxvdyB0cmFkaW5nIGluIHRva2VucyBvbmx5IGlmIHNhbGUgZmhpbmVkIG9yIGJ5IHRva2VuIGNyZWF0b3IgKGZvciBib3VudHkgcHJvZ3JhbSkKICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikKICAgICAgICAgICAgcmVxdWlyZShpc0ZpbmFsaXplZCk7CiAgICAgICAgCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIodG9rZW5zKTsKICAgICAgICBiYWxhbmNlc1t0b10gPSBiYWxhbmNlc1t0b10uYWRkKHRva2Vucyk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgdG8sIHRva2Vucyk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBUb2tlbiBvd25lciBjYW4gYXBwcm92ZSBmb3IgYHNwZW5kZXJgIHRvIHRyYW5zZmVyRnJvbSguLi4pIGB0b2tlbnNgCiAgICAvLyBmcm9tIHRoZSB0b2tlbiBvd25lcidzIGFjY291bnQKICAgIC8vCiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9ibG9iL21hc3Rlci9FSVBTL2VpcC0yMC10b2tlbi1zdGFuZGFyZC5tZAogICAgLy8gcmVjb21tZW5kcyB0aGF0IHRoZXJlIGFyZSBubyBjaGVja3MgZm9yIHRoZSBhcHByb3ZhbCBkb3VibGUtc3BlbmQgYXR0YWNrCiAgICAvLyBhcyB0aGlzIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBpbiB1c2VyIGludGVyZmFjZXMgCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHRva2VucykgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vYWxsb3cgdHJhZGluZyBpbiB0b2tlbiBvbmx5IGlmIHNhbGUgZmhpbmVkIAogICAgICAgIHJlcXVpcmUoaXNGaW5hbGl6ZWQpOwoKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW3NwZW5kZXJdID0gdG9rZW5zOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIHNwZW5kZXIsIHRva2Vucyk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gVHJhbnNmZXIgYHRva2Vuc2AgZnJvbSB0aGUgYGZyb21gIGFjY291bnQgdG8gdGhlIGB0b2AgYWNjb3VudAogICAgLy8gCiAgICAvLyBUaGUgY2FsbGluZyBhY2NvdW50IG11c3QgYWxyZWFkeSBoYXZlIHN1ZmZpY2llbnQgdG9rZW5zIGFwcHJvdmUoLi4uKS1kCiAgICAvLyBmb3Igc3BlbmRpbmcgZnJvbSB0aGUgYGZyb21gIGFjY291bnQgYW5kCiAgICAvLyAtIEZyb20gYWNjb3VudCBtdXN0IGhhdmUgc3VmZmljaWVudCBiYWxhbmNlIHRvIHRyYW5zZmVyCiAgICAvLyAtIFNwZW5kZXIgbXVzdCBoYXZlIHN1ZmZpY2llbnQgYWxsb3dhbmNlIHRvIHRyYW5zZmVyCiAgICAvLyAtIDAgdmFsdWUgdHJhbnNmZXJzIGFyZSBhbGxvd2VkCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdG9rZW5zKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy9hbGxvdyB0cmFkaW5nIGluIHRva2VuIG9ubHkgaWYgc2FsZSBmaGluZWQgCiAgICAgICAgcmVxdWlyZShpc0ZpbmFsaXplZCk7CgogICAgICAgIGJhbGFuY2VzW2Zyb21dID0gYmFsYW5jZXNbZnJvbV0uc3ViKHRva2Vucyk7CiAgICAgICAgYWxsb3dlZFtmcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbZnJvbV1bbXNnLnNlbmRlcl0uc3ViKHRva2Vucyk7CiAgICAgICAgYmFsYW5jZXNbdG9dID0gYmFsYW5jZXNbdG9dLmFkZCh0b2tlbnMpOwogICAgICAgIFRyYW5zZmVyKGZyb20sIHRvLCB0b2tlbnMpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFJldHVybnMgdGhlIGFtb3VudCBvZiB0b2tlbnMgYXBwcm92ZWQgYnkgdGhlIG93bmVyIHRoYXQgY2FuIGJlCiAgICAvLyB0cmFuc2ZlcnJlZCB0byB0aGUgc3BlbmRlcidzIGFjY291bnQKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgdG9rZW5Pd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICAvL2FsbG93IHRyYWRpbmcgaW4gdG9rZW4gb25seSBpZiBzYWxlIGZoaW5lZCAKICAgICAgICByZXF1aXJlKGlzRmluYWxpemVkKTsKICAgICAgICAKICAgICAgICByZXR1cm4gYWxsb3dlZFt0b2tlbk93bmVyXVtzcGVuZGVyXTsKICAgIH0KCn0KCi8vIG5vdGUgaW50cm9kdWNlZCBvbmx5UGF5bG9hZFNpemUgaW4gU3RhbmRhcmRUb2tlbi5zb2wgdG8gcHJvdGVjdCBhZ2FpbnN0IHNob3J0IGFkZHJlc3MgYXR0YWNrcwoKY29udHJhY3QgQWxsc3RvY2tzVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiB7CiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAiMS4wIjsKCiAgICAvLyBjb250cmFjdHMKICAgIGFkZHJlc3MgcHVibGljIGV0aEZ1bmREZXBvc2l0OyAgICAgICAgLy8gZGVwb3NpdCBhZGRyZXNzIGZvciBFVEggZm9yIEFsbHN0b2NrcyBGdW5kCgogICAgLy8gY3Jvd2RzYWxlIHBhcmFtZXRlcnMKICAgIGJvb2wgcHVibGljIGlzQWN0aXZlOyAgICAgICAgICAgICAgICAgLy8gc3dpdGNoZWQgdG8gdHJ1ZSBpbiBhZnRlciBzZXR1cAogICAgdWludDI1NiBwdWJsaWMgZnVuZGluZ1N0YXJ0VGltZSA9IDA7CiAgICB1aW50MjU2IHB1YmxpYyBmdW5kaW5nRW5kVGltZSA9IDA7CiAgICB1aW50MjU2IHB1YmxpYyBhbGxzdG9ja3NGdW5kID0gMjUgKiAoMTAqKjYpICogMTAqKmRlY2ltYWxzOyAgICAgLy8gMjVtIHJlc2VydmVkIGZvciBBbGxzdG9ja3MgdXNlCiAgICB1aW50MjU2IHB1YmxpYyB0b2tlbkV4Y2hhbmdlUmF0ZSA9IDYyNTsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gNjI1IEFsbHN0b2NrcyB0b2tlbnMgcGVyIDEgRVRICiAgICB1aW50MjU2IHB1YmxpYyB0b2tlbkNyZWF0aW9uQ2FwID0gIDUwICogKDEwKio2KSAqIDEwKipkZWNpbWFsczsgLy8gNTBtIGhhcmQgY2FwCiAgICAKICAgIC8vdGhpcyBpcyBmb3IgcHJvZHVjdGlvbgogICAgdWludDI1NiBwdWJsaWMgdG9rZW5DcmVhdGlvbk1pbiA9ICAyNSAqICgxMCoqNSkgKiAxMCoqZGVjaW1hbHM7IC8vIDIuNW0gbWluaW11bQoKCiAgICAvLyBldmVudHMKICAgIGV2ZW50IExvZ1JlZnVuZChhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBDcmVhdGVBbGxzdG9ja3NUb2tlbihhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CgogICAgLy8gY29uc3RydWN0b3IKICAgIGZ1bmN0aW9uIEFsbHN0b2Nrc1Rva2VuKCkgcHVibGljIHsKICAgICAgaXNGaW5hbGl6ZWQgPSBmYWxzZTsgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb250cm9scyBwcmUgdGhyb3VnaCBjcm93ZHNhbGUgc3RhdGUKICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICBfdG90YWxTdXBwbHkgPSBhbGxzdG9ja3NGdW5kOwogICAgICBiYWxhbmNlc1tvd25lcl0gPSBhbGxzdG9ja3NGdW5kOyAgICAgICAgICAgICAvLyBEZXBvc2l0IEFsbHN0b2NrcyBzaGFyZQogICAgICBDcmVhdGVBbGxzdG9ja3NUb2tlbihvd25lciwgYWxsc3RvY2tzRnVuZCk7ICAvLyBsb2dzIEFsbHN0b2NrcyBmdW5kCiAgICB9CgogICAgZnVuY3Rpb24gc2V0dXAgKAogICAgICAgIHVpbnQyNTYgX2Z1bmRpbmdTdGFydFRpbWUsCiAgICAgICAgdWludDI1NiBfZnVuZGluZ0VuZFRpbWUpIG9ubHlPd25lciBleHRlcm5hbAogICAgewogICAgICByZXF1aXJlIChpc0FjdGl2ZSA9PSBmYWxzZSk7IAogICAgICByZXF1aXJlIChpc0ZpbmFsaXplZCA9PSBmYWxzZSk7IAkJCSAgICAgICAgCSAgIAogICAgICByZXF1aXJlIChtc2cuc2VuZGVyID09IG93bmVyKTsgICAgICAgICAgICAgICAgIC8vIGxvY2tzIGZpbmFsaXplIHRvIHRoZSB1bHRpbWF0ZSBFVEggb3duZXIKICAgICAgcmVxdWlyZSAoZnVuZGluZ1N0YXJ0VGltZSA9PSAwKTsgICAgICAgICAgICAgIC8vcnVuIG9uY2UKICAgICAgcmVxdWlyZSAoZnVuZGluZ0VuZFRpbWUgPT0gMCk7ICAgICAgICAgICAgICAgIC8vZmlyc3QgdGltZSAKICAgICAgcmVxdWlyZShfZnVuZGluZ1N0YXJ0VGltZSA+IDApOwogICAgICByZXF1aXJlKF9mdW5kaW5nRW5kVGltZSA+IDAgJiYgX2Z1bmRpbmdFbmRUaW1lID4gX2Z1bmRpbmdTdGFydFRpbWUpOwoKICAgICAgaXNGaW5hbGl6ZWQgPSBmYWxzZTsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udHJvbHMgcHJlIHRocm91Z2ggY3Jvd2RzYWxlIHN0YXRlCiAgICAgIGlzQWN0aXZlID0gdHJ1ZTsKICAgICAgZXRoRnVuZERlcG9zaXQgPSBvd25lcjsgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCBFVEggd2FsbGV0IG93bmVyIAogICAgICBmdW5kaW5nU3RhcnRUaW1lID0gX2Z1bmRpbmdTdGFydFRpbWU7CiAgICAgIGZ1bmRpbmdFbmRUaW1lID0gX2Z1bmRpbmdFbmRUaW1lOwogICAgfQoKICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsgICAgICAgCiAgICAgIGNyZWF0ZVRva2Vucyhtc2cudmFsdWUpOwogICAgfQoKICAgIC8vLyBAZGV2IEFjY2VwdHMgZXRoZXIgYW5kIGNyZWF0ZXMgbmV3IEFsbHN0b2NrcyB0b2tlbnMuCiAgICBmdW5jdGlvbiBjcmVhdGVUb2tlbnModWludDI1NiBfdmFsdWUpICBpbnRlcm5hbCB7CiAgICAgIHJlcXVpcmUoaXNGaW5hbGl6ZWQgPT0gZmFsc2UpOyAgICAKICAgICAgcmVxdWlyZShub3cgPj0gZnVuZGluZ1N0YXJ0VGltZSk7CiAgICAgIHJlcXVpcmUobm93IDwgZnVuZGluZ0VuZFRpbWUpOyAKICAgICAgcmVxdWlyZShtc2cudmFsdWUgPiAwKTsgICAgICAgICAKCiAgICAgIHVpbnQyNTYgdG9rZW5zID0gX3ZhbHVlLm11bCh0b2tlbkV4Y2hhbmdlUmF0ZSk7IC8vIGNoZWNrIHRoYXQgd2UncmUgbm90IG92ZXIgdG90YWxzCiAgICAgIHVpbnQyNTYgY2hlY2tlZFN1cHBseSA9IF90b3RhbFN1cHBseS5hZGQodG9rZW5zKTsKCiAgICAgIHJlcXVpcmUoY2hlY2tlZFN1cHBseSA8PSB0b2tlbkNyZWF0aW9uQ2FwKTsKCiAgICAgIF90b3RhbFN1cHBseSA9IGNoZWNrZWRTdXBwbHk7CiAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IHRva2VuczsgIC8vIHNhZmVBZGQgbm90IG5lZWRlZAoKICAgICAgLy9hZGQgc2VudCBldGggdG8gcmVmdW5kcyBsaXN0CiAgICAgIHJlZnVuZHNbbXNnLnNlbmRlcl0gPSBfdmFsdWUuYWRkKHJlZnVuZHNbbXNnLnNlbmRlcl0pOyAgLy8gc2FmZUFkZCAKCiAgICAgIENyZWF0ZUFsbHN0b2Nrc1Rva2VuKG1zZy5zZW5kZXIsIHRva2Vucyk7ICAvLyBsb2dzIHRva2VuIGNyZWF0aW9uCiAgICAgIFRyYW5zZmVyKGFkZHJlc3MoMCksIG93bmVyLCBfdG90YWxTdXBwbHkpOwogICAgfQoJCgkvL21ldGhvZCBmb3IgbWFuYWdlaW5nIGJvbnVzIHBoYXNlcyAKCWZ1bmN0aW9uIHNldFJhdGUodWludDI1NiBfdmFsdWUpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgIHJlcXVpcmUgKGlzRmluYWxpemVkID09IGZhbHNlKTsKICAgICAgcmVxdWlyZSAoaXNBY3RpdmUgPT0gdHJ1ZSk7CiAgICAgIHJlcXVpcmUgKF92YWx1ZSA+IDApOwogICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOyAvLyBBbGxzdG9ja3MgZG91YmxlIGNoYWNrIAogICAgICB0b2tlbkV4Y2hhbmdlUmF0ZSA9IF92YWx1ZTsKCiAgICB9CgogICAgLy8vIEBkZXYgRW5kcyB0aGUgZnVuZGluZyBwZXJpb2QgYW5kIHNlbmRzIHRoZSBFVEggaG9tZQogICAgZnVuY3Rpb24gZmluYWxpemUoKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICByZXF1aXJlIChpc0ZpbmFsaXplZCA9PSBmYWxzZSk7CiAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7IC8vIEFsbHN0b2NrcyBkb3VibGUgY2hhY2sgIAogICAgICByZXF1aXJlKF90b3RhbFN1cHBseSA+PSB0b2tlbkNyZWF0aW9uTWluICsgYWxsc3RvY2tzRnVuZCk7ICAvLyBoYXZlIHRvIHNlbGwgbWluaW11bSB0byBtb3ZlIHRvIG9wZXJhdGlvbmFsCiAgICAgIHJlcXVpcmUoX3RvdGFsU3VwcGx5ID4gMCk7CgogICAgICBpZiAobm93IDwgZnVuZGluZ0VuZFRpbWUpIHsgICAgLy9pZiB0cnkgdG8gY2xvc2UgYmVmb3JlIGVuZCB0aW1lLCBjaGVjayB0aGF0IHdlIHJlYWNoIHRhcmdldAogICAgICAgIHJlcXVpcmUoX3RvdGFsU3VwcGx5ID49IHRva2VuQ3JlYXRpb25DYXApOwogICAgICB9CiAgICAgIGVsc2UgCiAgICAgICAgcmVxdWlyZShub3cgPj0gZnVuZGluZ0VuZFRpbWUpOwogICAgICAKCSAgICAvLyBtb3ZlIHRvIG9wZXJhdGlvbmFsCiAgICAgIGlzRmluYWxpemVkID0gdHJ1ZTsKICAgICAgZXRoRnVuZERlcG9zaXQudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsgIC8vIHNlbmQgdGhlIGV0aCB0byBBbGxzdG9ja3MKICAgIH0KCiAgICAvLy8gQGRldiBzZW5kIGZ1bmRpbmcgdG8gc2FmZSB3YWxsZXQgaWYgbWluaW11bSBpcyByZWFjaGVkIAogICAgZnVuY3Rpb24gdmF1bHRGdW5kcygpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7ICAgICAgICAgICAgLy8gQWxsc3RvY2tzIGRvdWJsZSBjaGFjawogICAgICByZXF1aXJlKF90b3RhbFN1cHBseSA+PSB0b2tlbkNyZWF0aW9uTWluICsgYWxsc3RvY2tzRnVuZCk7IC8vIGhhdmUgdG8gc2VsbCBtaW5pbXVtIHRvIG1vdmUgdG8gb3BlcmF0aW9uYWwKICAgICAgZXRoRnVuZERlcG9zaXQudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsgIC8vIHNlbmQgdGhlIGV0aCB0byBBbGxzdG9ja3MKICAgIH0KCiAgICAvLy8gQGRldiBBbGxvd3MgY29udHJpYnV0b3JzIHRvIHJlY292ZXIgdGhlaXIgZXRoZXIgaW4gdGhlIGNhc2Ugb2YgYSBmYWlsZWQgZnVuZGluZyBjYW1wYWlnbi4KICAgIGZ1bmN0aW9uIHJlZnVuZCgpIGV4dGVybmFsIHsKICAgICAgcmVxdWlyZSAoaXNGaW5hbGl6ZWQgPT0gZmFsc2UpOyAgLy8gcHJldmVudHMgcmVmdW5kIGlmIG9wZXJhdGlvbmFsCiAgICAgIHJlcXVpcmUgKGlzQWN0aXZlID09IHRydWUpOwogICAgICByZXF1aXJlIChub3cgPiBmdW5kaW5nRW5kVGltZSk7IC8vIHByZXZlbnRzIHJlZnVuZCB1bnRpbCBzYWxlIHBlcmlvZCBpcyBvdmVyCiAgICAgCiAgICAgIHJlcXVpcmUoX3RvdGFsU3VwcGx5IDwgdG9rZW5DcmVhdGlvbk1pbiArIGFsbHN0b2Nrc0Z1bmQpOyAgLy8gbm8gcmVmdW5kcyBpZiB3ZSBzb2xkIGVub3VnaAogICAgICByZXF1aXJlKG1zZy5zZW5kZXIgIT0gb3duZXIpOyAvLyBBbGxzdG9ja3Mgbm90IGVudGl0bGVkIHRvIGEgcmVmdW5kCiAgICAgIAogICAgICB1aW50MjU2IGFsbHN0b2Nrc1ZhbCA9IGJhbGFuY2VzW21zZy5zZW5kZXJdOwogICAgICB1aW50MjU2IGV0aFZhbFJlZnVuZCA9IHJlZnVuZHNbbXNnLnNlbmRlcl07CiAgICAgCiAgICAgIHJlcXVpcmUoYWxsc3RvY2tzVmFsID4gMCk7ICAgCiAgICAgIHJlcXVpcmUoZXRoVmFsUmVmdW5kID4gMCk7ICAKICAgICAKICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAwOwogICAgICByZWZ1bmRzW21zZy5zZW5kZXJdID0gMDsKICAgICAgCiAgICAgIF90b3RhbFN1cHBseSA9IF90b3RhbFN1cHBseS5zdWIoYWxsc3RvY2tzVmFsKTsgLy8gZXh0cmEgc2FmZQogICAgICAKICAgICAgdWludDI1NiBldGhWYWxUb2tlbiA9IGFsbHN0b2Nrc1ZhbCAvIHRva2VuRXhjaGFuZ2VSYXRlOyAgICAgLy8gc2hvdWxkIGJlIHNhZmU7IHByZXZpb3VzIHRocm93cyBjb3ZlcnMgZWRnZXMKCiAgICAgIHJlcXVpcmUoZXRoVmFsUmVmdW5kIDw9IGV0aFZhbFRva2VuKTsKICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihldGhWYWxSZWZ1bmQpOyAgICAgICAgICAgICAgICAgLy8gaWYgeW91J3JlIHVzaW5nIGEgY29udHJhY3Q7IG1ha2Ugc3VyZSBpdCB3b3JrcyB3aXRoIC5zZW5kIGdhcyBsaW1pdHMKICAgICAgTG9nUmVmdW5kKG1zZy5zZW5kZXIsIGV0aFZhbFJlZnVuZCk7ICAgICAgICAgICAgICAgLy8gbG9nIGl0CiAgICB9Cn0='.
	

]
