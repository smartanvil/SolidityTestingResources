Class {
	#name : #SRTc2ee4954ea6e5164fa4ab8af4d326f6398c23299,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc2ee4954ea6e5164fa4ab8af4d326f6398c23299 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7CgovLyBGaWxlOiBjb250cmFjdHMvSW50ZXJmYWNlcy9NYXN0ZXJEZXBvc2l0SW50ZXJmYWNlLnNvbAoKLyoqCiAqIEBkZXYgSW50ZXJmYWNlIG9mIE1hc3RlckRlcG9zaXQgdGhhdCBzaG91bGQgYmUgdXNlZCBpbiBjaGlsZCBjb250cmFjdHMgCiAqIEBkZXYgdGhpcyBlbnN1cmVzIHRoYXQgbm8gZHVwbGljYXRpb24gb2YgY29kZSBhbmQgaW1wbGljaXQgZ2FzcHJpY2Ugd2lsbCBiZSB1c2VkIGZvciB0aGUgZHluYW1pYyBjcmVhdGlvbiBvZiBjaGlsZCBjb250cmFjdAogKi8KY29udHJhY3QgTWFzdGVyRGVwb3NpdEludGVyZmFjZSB7CiAgICBhZGRyZXNzIHB1YmxpYyBjb2xkV2FsbGV0MTsKICAgIGFkZHJlc3MgcHVibGljIGNvbGRXYWxsZXQyOwogICAgdWludCBwdWJsaWMgcGVyY2VudGFnZTsKICAgIGZ1bmN0aW9uIGZpcmVEZXBvc2l0VG9DaGlsZEV2ZW50KHVpbnQgX2Ftb3VudCkgcHVibGljOwp9CgovLyBGaWxlOiB6ZXBwZWxpbi1zb2xpZGl0eS9jb250cmFjdHMvbWF0aC9TYWZlTWF0aC5zb2wKCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewoKICAvKioKICAqIEBkZXYgTXVsdGlwbGllcyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93LgogICovCiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmIChhID09IDApIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgLyoqCiAgKiBAZGV2IEludGVnZXIgZGl2aXNpb24gb2YgdHdvIG51bWJlcnMsIHRydW5jYXRpbmcgdGhlIHF1b3RpZW50LgogICovCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICAvKioKICAqIEBkZXYgU3Vic3RyYWN0cyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93IChpLmUuIGlmIHN1YnRyYWhlbmQgaXMgZ3JlYXRlciB0aGFuIG1pbnVlbmQpLgogICovCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgLyoqCiAgKiBAZGV2IEFkZHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAqLwogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgovLyBGaWxlOiB6ZXBwZWxpbi1zb2xpZGl0eS9jb250cmFjdHMvdG9rZW4vRVJDMjAvRVJDMjBCYXNpYy5zb2wKCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKLy8gRmlsZTogemVwcGVsaW4tc29saWRpdHkvY29udHJhY3RzL3Rva2VuL0VSQzIwL0VSQzIwLnNvbAoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKLy8gRmlsZTogY29udHJhY3RzL0NoaWxkRGVwb3NpdC5zb2wKCi8qKgoqIEBkZXYgU2hvdWxkIGJlIGRpbmFtaWNhbGx5IGNyZWF0ZWQgZnJvbSBtYXN0ZXIgY29udHJhY3QgCiogQGRldiBtdWx0aXBsZSBwYXllcnMgY2FuIGNvbnRyaWJ1dGUgaGVyZSAKKi8KY29udHJhY3QgQ2hpbGREZXBvc2l0IHsKICAgIAogICAgLyoqCiAgICAqIEBkZXYgcHJldmVudHMgb3ZlciBhbmQgdW5kZXIgZmxvd3MKICAgICovCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKICAgIAogICAgLyoqCiAgICAqIEBkZXYgaW1wb3J0IG9ubHkgdGhlIGludGVyZmFjZSBmb3IgbG93IGdhcyBjb3N0CiAgICAqLwogICAgLy8gTWFzdGVyRGVwb3NpdEludGVyZmFjZSBwdWJsaWMgbWFzdGVyOwogICAgYWRkcmVzcyBtYXN0ZXJBZGRyZXNzOwoKICAgIGZ1bmN0aW9uIENoaWxkRGVwb3NpdCgpIHB1YmxpYyB7CiAgICAgICAgbWFzdGVyQWRkcmVzcyA9IG1zZy5zZW5kZXI7CiAgICAgICAgLy8gbWFzdGVyID0gTWFzdGVyRGVwb3NpdEludGVyZmFjZShtc2cuc2VuZGVyKTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBhbnkgRVRIIGluY29tZSB3aWxsIGZpcmUgYSBtYXN0ZXIgZGVwb3NpdCBjb250cmFjdCBldmVudAogICAgKiBAZGV2IHRoZSByZWRpcmVjdCBvZiBFVEggd2lsbCBiZSBzcGxpdCBpbiB0aGUgdHdvIHdhbGxldHMgcHJvdmlkZWQgYnkgdGhlIG1hc3RlciB3aXRoIHJlc3BlY3QgdG8gdGhlIHNoYXJlIHBlcmNlbnRhZ2Ugc2V0IGZvciB3YWxsZXQgMSAKICAgICovCiAgICBmdW5jdGlvbigpIHB1YmxpYyBwYXlhYmxlIHsKCiAgICAgICAgTWFzdGVyRGVwb3NpdEludGVyZmFjZSBtYXN0ZXIgPSBNYXN0ZXJEZXBvc2l0SW50ZXJmYWNlKG1hc3RlckFkZHJlc3MpOwogICAgICAgIC8vIGZpcmUgdHJhbnNmZXIgZXZlbnQKICAgICAgICBtYXN0ZXIuZmlyZURlcG9zaXRUb0NoaWxkRXZlbnQobXNnLnZhbHVlKTsKCiAgICAgICAgLy8gdHJhc25mZXIgb2YgRVRICiAgICAgICAgLy8gd2l0aCByZXNwZWN0IHRvIHRoZSBwZXJjZW50YWdlIHNldAogICAgICAgIHVpbnQgY29sZFdhbGxldDFTaGFyZSA9IG1zZy52YWx1ZS5tdWwobWFzdGVyLnBlcmNlbnRhZ2UoKSkuZGl2KDEwMCk7CiAgICAgICAgCiAgICAgICAgLy8gYWN0dWFsIHRyYW5zZmVyCiAgICAgICAgbWFzdGVyLmNvbGRXYWxsZXQxKCkudHJhbnNmZXIoY29sZFdhbGxldDFTaGFyZSk7CiAgICAgICAgbWFzdGVyLmNvbGRXYWxsZXQyKCkudHJhbnNmZXIobXNnLnZhbHVlLnN1Yihjb2xkV2FsbGV0MVNoYXJlKSk7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgZnVuY3Rpb24gdGhhdCBjYW4gb25seSBiZSBjYWxsZWQgYnkgdGhlIGNyZWF0b3Igb2YgdGhpcyBjb250cmFjdAogICAgKiBAZGV2IHRoZSBhY3R1YWwgY29uZGl0aW9uIG9mIHRyYW5zZmVyIGlzIGluIHRoZSBsb2dpYyBvZiB0aGUgbWFzdGVyIGNvbnRyYWN0CiAgICAqIEBwYXJhbSBfdmFsdWUgRVJDMjAgYW1vdW50IAogICAgKiBAcGFyYW0gX3Rva2VuQWRkcmVzcyBFUkMyMCBjb250cmFjdCBhZGRyZXNzIAogICAgKiBAcGFyYW0gX2Rlc3RpbmF0aW9uIHNob3VsZCBiZSBvbmJlIG9mIHRoZSAyIGNvbGR3YWxsZXRzCiAgICAqLwogICAgZnVuY3Rpb24gd2l0aGRyYXcoYWRkcmVzcyBfdG9rZW5BZGRyZXNzLCB1aW50IF92YWx1ZSwgYWRkcmVzcyBfZGVzdGluYXRpb24pIHB1YmxpYyBvbmx5TWFzdGVyIHsKICAgICAgICBFUkMyMChfdG9rZW5BZGRyZXNzKS50cmFuc2ZlcihfZGVzdGluYXRpb24sIF92YWx1ZSk7CiAgICB9CgogICAgbW9kaWZpZXIgb25seU1hc3RlcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gYWRkcmVzcyhtYXN0ZXJBZGRyZXNzKSk7CiAgICAgICAgXzsKICAgIH0KICAgIAp9CgovLyBGaWxlOiB6ZXBwZWxpbi1zb2xpZGl0eS9jb250cmFjdHMvUmVlbnRyYW5jeUd1YXJkLnNvbAoKLyoqCiAqIEB0aXRsZSBIZWxwcyBjb250cmFjdHMgZ3VhcmQgYWdhaW5zIHJlZW50cmFuY3kgYXR0YWNrcy4KICogQGF1dGhvciBSZW1jbyBCbG9lbWVuIDw8c3BhbiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9ImRmYWRiYWIyYmNiMDlmZWQiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L3NwYW4+JiMyMDc74oKsLmNvbT4KICogQG5vdGljZSBJZiB5b3UgbWFyayBhIGZ1bmN0aW9uIGBub25SZWVudHJhbnRgLCB5b3Ugc2hvdWxkIGFsc28KICogbWFyayBpdCBgZXh0ZXJuYWxgLgogKi8KY29udHJhY3QgUmVlbnRyYW5jeUd1YXJkIHsKCiAgLyoqCiAgICogQGRldiBXZSB1c2UgYSBzaW5nbGUgbG9jayBmb3IgdGhlIHdob2xlIGNvbnRyYWN0LgogICAqLwogIGJvb2wgcHJpdmF0ZSByZWVudHJhbmN5X2xvY2sgPSBmYWxzZTsKCiAgLyoqCiAgICogQGRldiBQcmV2ZW50cyBhIGNvbnRyYWN0IGZyb20gY2FsbGluZyBpdHNlbGYsIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkuCiAgICogQG5vdGljZSBJZiB5b3UgbWFyayBhIGZ1bmN0aW9uIGBub25SZWVudHJhbnRgLCB5b3Ugc2hvdWxkIGFsc28KICAgKiBtYXJrIGl0IGBleHRlcm5hbGAuIENhbGxpbmcgb25lIG5vblJlZW50cmFudCBmdW5jdGlvbiBmcm9tCiAgICogYW5vdGhlciBpcyBub3Qgc3VwcG9ydGVkLiBJbnN0ZWFkLCB5b3UgY2FuIGltcGxlbWVudCBhCiAgICogYHByaXZhdGVgIGZ1bmN0aW9uIGRvaW5nIHRoZSBhY3R1YWwgd29yaywgYW5kIGEgYGV4dGVybmFsYAogICAqIHdyYXBwZXIgbWFya2VkIGFzIGBub25SZWVudHJhbnRgLgogICAqLwogIG1vZGlmaWVyIG5vblJlZW50cmFudCgpIHsKICAgIHJlcXVpcmUoIXJlZW50cmFuY3lfbG9jayk7CiAgICByZWVudHJhbmN5X2xvY2sgPSB0cnVlOwogICAgXzsKICAgIHJlZW50cmFuY3lfbG9jayA9IGZhbHNlOwogIH0KCn0KCi8vIEZpbGU6IHplcHBlbGluLXNvbGlkaXR5L2NvbnRyYWN0cy9vd25lcnNoaXAvT3duYWJsZS5zb2wKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cgp9CgovLyBGaWxlOiB6ZXBwZWxpbi1zb2xpZGl0eS9jb250cmFjdHMvb3duZXJzaGlwL0NsYWltYWJsZS5zb2wKCi8qKgogKiBAdGl0bGUgQ2xhaW1hYmxlCiAqIEBkZXYgRXh0ZW5zaW9uIGZvciB0aGUgT3duYWJsZSBjb250cmFjdCwgd2hlcmUgdGhlIG93bmVyc2hpcCBuZWVkcyB0byBiZSBjbGFpbWVkLgogKiBUaGlzIGFsbG93cyB0aGUgbmV3IG93bmVyIHRvIGFjY2VwdCB0aGUgdHJhbnNmZXIuCiAqLwpjb250cmFjdCBDbGFpbWFibGUgaXMgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgcGVuZGluZ093bmVyOwoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgcGVuZGluZ093bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlQZW5kaW5nT3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gcGVuZGluZ093bmVyKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byBzZXQgdGhlIHBlbmRpbmdPd25lciBhZGRyZXNzLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICBwZW5kaW5nT3duZXIgPSBuZXdPd25lcjsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBwZW5kaW5nT3duZXIgYWRkcmVzcyB0byBmaW5hbGl6ZSB0aGUgdHJhbnNmZXIuCiAgICovCiAgZnVuY3Rpb24gY2xhaW1Pd25lcnNoaXAoKSBvbmx5UGVuZGluZ093bmVyIHB1YmxpYyB7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgcGVuZGluZ093bmVyKTsKICAgIG93bmVyID0gcGVuZGluZ093bmVyOwogICAgcGVuZGluZ093bmVyID0gYWRkcmVzcygwKTsKICB9Cn0KCi8vIEZpbGU6IGNvbnRyYWN0cy9NYXN0ZXJEZXBvc2l0LnNvbAoKLyoqCiogQGRldiBtYXN0ZXIgY29udHJhY3QgdGhhdCBjcmVhdGVzIENoaWxkRGVwb3NpdHMuIFJlc3BvbnNpYmxlIGZvciBjb250cm9sbGluZyBhbmQgc2V0dXAgb2YgZGVwb3NpdCBjaGFpbi4gIAoqIEBkZXYgYWxsIGZ1bmN0aW9ucyB0aGF0IHNob3VsZCBiZSBjYWxsZWQgZnJvbSBjaGlsZCBkZXBvc2l0cyBhcmUgc3BlY2lmaWVkIGluIHRoZSBNYXN0ZXJEZXBvc2l0SW50ZXJmYWNlIAoqLwpjb250cmFjdCBNYXN0ZXJEZXBvc2l0IGlzIE1hc3RlckRlcG9zaXRJbnRlcmZhY2UsIENsYWltYWJsZSwgUmVlbnRyYW5jeUd1YXJkIHsKICAgIAogICAgLyoqCiAgICAqIEBkZXYgcHJldmVudHMgb3ZlciBhbmQgdW5kZXIgZmxvd3MKICAgICovCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgICAvKioKICAgICogQGRldiBtYXBwaW5nIG9mIGFsbCBjcmVhdGVkIGNoaWxkIGRlcG9zaXRzCiAgICAqLwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgY2hpbGREZXBvc2l0czsKCiAgICAvKioKICAgICogQGRldiByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgZGVwb3NpdHMgKGluIHRoaXMgd2F5IHRoZSBvd25lciBpc24ndCBleHBvc2VkIHRvIGEgYXBpL3NlcnZlciBzZWN1cml0eSBicmVhY2gpCiAgICAqIEBkZXYgYnkgbG9vc2luZyB0aGUgZGVwb3NpdENyZWF0b3Iga2V5IGFuIGF0dGFja2VyIGNhbiBvbmx5IGNyZWF0ZSBkZXBvc2l0cyB0aGF0IHdpbGwgbm90IGJlIGEgcmVhbCB0aHJlYXQgYW5kIGFub3RoZXIgZGVwb3NpdENyZWF0b3IgY2FuIGJlIGFsbG9jYXRlZAogICAgKi8KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGRlcG9zaXRDcmVhdG9yczsKCiAgICAvKioKICAgICogQGRldiBGaXJlZCBhdCBjcmVhdGUgdGltZQogICAgKiBAcGFyYW0gX2RlcG9zaXRBZGRyZXNzIGJsb2NrY2hhaW4gYWRkcmVzcyBvZiB0aGUgbmV3bHkgY3JlYXRlZCBkZXBvc2l0IGNvbnRyYWN0CiAgICAqLwogICAgZXZlbnQgQ3JlYXRlZERlcG9zaXRFdmVudCAoCiAgICBhZGRyZXNzIGluZGV4ZWQgX2RlcG9zaXRBZGRyZXNzCiAgICApOwogICAgCiAgICAvKioKICAgICogQGRldiBGaXJlZCBhdCB0cmFuc2ZlciB0aW1lCiAgICAqIEBkZXYgRXZlbnQgdGhhdCBzaWduYWxzIHRoZSB0cmFuc2ZlciBvZiBhbiBFVEggYW1vdW50IAogICAgKiBAcGFyYW0gX2RlcG9zaXRBZGRyZXNzIGJsb2NrY2hhaW4gYWRkcmVzcyBvZiB0aGUgZGVwb3NpdCBjb250cmFjdCB0aGF0IHJlY2VpdmVkIEVUSAogICAgKiBAcGFyYW0gX2Ftb3VudCBvZiBFVEgKICAgICovCiAgICBldmVudCBEZXBvc2l0VG9DaGlsZEV2ZW50KAogICAgYWRkcmVzcyBpbmRleGVkIF9kZXBvc2l0QWRkcmVzcywgCiAgICB1aW50IF9hbW91bnQKICAgICk7CgoKICAgIC8qKgogICAgKiBAcGFyYW0gX3dhbGxldDEgcmVkaXJlY3Qgb2YgdG9rZW5zIChFUkMyMCkgb3IgRVRICiAgICAqIEBwYXJhbSBfd2FsbGV0MiByZWRpcmVjdCBvZiB0b2tlbnMgKEVSQzIwKSBvciBldGgKICAgICogQHBhcmFtIF9wZXJjZW50YWdlIF93YWxsZXQxIHNwbGl0IHBlcmNlbnRhZ2UgCiAgICAqLwogICAgZnVuY3Rpb24gTWFzdGVyRGVwb3NpdChhZGRyZXNzIF93YWxsZXQxLCBhZGRyZXNzIF93YWxsZXQyLCB1aW50IF9wZXJjZW50YWdlKSBvbmx5VmFsaWRQZXJjZW50YWdlKF9wZXJjZW50YWdlKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX3dhbGxldDEgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfd2FsbGV0MiAhPSBhZGRyZXNzKDApKTsKICAgICAgICBwZXJjZW50YWdlID0gX3BlcmNlbnRhZ2U7CiAgICAgICAgY29sZFdhbGxldDEgPSBfd2FsbGV0MTsKICAgICAgICBjb2xkV2FsbGV0MiA9IF93YWxsZXQyOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IGNyZWF0ZXMgYSBudW1iZXIgb2YgaW5zdGFuY2VzIG9mIENoaWxkRGVwb3NpdCBjb250cmFjdHMKICAgICogQHBhcmFtIF9jb3VudCBjcmVhdGVzIGEgc3BlY2lmaWVkIG51bWJlciBvZiBkZXBvc2l0IGNvbnRyYWN0cwogICAgKi8KICAgIGZ1bmN0aW9uIGNyZWF0ZUNoaWxkRGVwb3NpdHModWludCBfY291bnQpIHB1YmxpYyBvbmx5RGVwb3NpdENyZWF0b3JPck1hc3RlciB7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgX2NvdW50OyBpKyspIHsKICAgICAgICAgICAgQ2hpbGREZXBvc2l0IGNoaWxkRGVwb3NpdCA9IG5ldyBDaGlsZERlcG9zaXQoKTsKICAgICAgICAgICAgY2hpbGREZXBvc2l0c1thZGRyZXNzKGNoaWxkRGVwb3NpdCldID0gdHJ1ZTsKICAgICAgICAgICAgZW1pdCBDcmVhdGVkRGVwb3NpdEV2ZW50KGFkZHJlc3MoY2hpbGREZXBvc2l0KSk7ICAgIAogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICogQGRldiBhZGQgYW4gYWRkcmVzcyB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyBkZXBvc2l0cyAKICAgICovCiAgICBmdW5jdGlvbiBhZGREZXBvc2l0Q3JlYXRvcihhZGRyZXNzIF9kZXBvc2l0Q3JlYXRvcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShfZGVwb3NpdENyZWF0b3IgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgZGVwb3NpdENyZWF0b3JzIFtfZGVwb3NpdENyZWF0b3JdID0gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBhZGQgYW4gYWRkcmVzcyB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyBkZXBvc2l0cyAKICAgICovCiAgICBmdW5jdGlvbiByZW1vdmVEZXBvc2l0Q3JlYXRvcihhZGRyZXNzIF9kZXBvc2l0Q3JlYXRvcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShfZGVwb3NpdENyZWF0b3IgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgZGVwb3NpdENyZWF0b3JzIFtfZGVwb3NpdENyZWF0b3JdID0gZmFsc2U7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgU2V0dGVyIGZvciB0aGUgaW5jb21lIHBlcmNlbnRhZ2UgaW4gdGhlIGZpcnN0IGNvbGR3YWxsZXQgKG5vdCBzZXR0aW5nIHRoaXMgdGhlIHNlY29uZCB3YWxsZXQgd2lsbCByZWNlaXZlIGFsbCBpbmNvbWUpCiAgICAqLwogICAgZnVuY3Rpb24gc2V0Q29sZFdhbGxldDFTcGxpdFBlcmNlbnRhZ2UodWludCBfcGVyY2VudGFnZSkgcHVibGljIG9ubHlPd25lciBvbmx5VmFsaWRQZXJjZW50YWdlKF9wZXJjZW50YWdlKSB7CiAgICAgICAgcGVyY2VudGFnZSA9IF9wZXJjZW50YWdlOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IGZ1bmN0aW9uIGNyZWF0ZWQgdG8gZW1pdCB0aGUgRVRIIHRyYW5zZmVyIGV2ZW50IGZyb20gdGhlIGNoaWxkIGNvbnRyYWN0IG9ubHkKICAgICogQHBhcmFtIF9hbW91bnQgRVRIIGFtb3VudCAKICAgICovCiAgICBmdW5jdGlvbiBmaXJlRGVwb3NpdFRvQ2hpbGRFdmVudCh1aW50IF9hbW91bnQpIHB1YmxpYyBvbmx5Q2hpbGRDb250cmFjdCB7CiAgICAgICAgZW1pdCBEZXBvc2l0VG9DaGlsZEV2ZW50KG1zZy5zZW5kZXIsIF9hbW91bnQpOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IGNoYW5nZXMgdGhlIGNvbGR3YWxsZXQxIGFkZHJlc3MKICAgICovCiAgICBmdW5jdGlvbiBzZXRDb2xkV2FsbGV0MShhZGRyZXNzIF9jb2xkV2FsbGV0MSkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShfY29sZFdhbGxldDEgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgY29sZFdhbGxldDEgPSBfY29sZFdhbGxldDE7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgY2hhbmdlcyB0aGUgY29sZHdhbGxldDIgYWRkcmVzcwogICAgKi8KICAgIGZ1bmN0aW9uIHNldENvbGRXYWxsZXQyKGFkZHJlc3MgX2NvbGRXYWxsZXQyKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKF9jb2xkV2FsbGV0MiAhPSBhZGRyZXNzKDApKTsKICAgICAgICBjb2xkV2FsbGV0MiA9IF9jb2xkV2FsbGV0MjsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBmdW5jdGlvbiB0aGF0IGNhbiBiZSBjYWxsZWQgb25seSBieSBkZXBvc2l0IGNyZWF0b3IgZHVlIHRvIHNlY3VyaXR5IHJlYXNvbnMgYW5kIHdpbGwgd2l0aGRyYXcgdGhlIGFtb3VudCBvZiBFUkMyMCB0b2tlbnMKICAgICogQGRldiBmcm9tIHRoZSBkZXBvc2l0IGNvbnRyYWN0IGxpc3QgdG8gdGhlIGNvbGQgd2FsbGV0cyAKICAgICogQGRldiB0cmFuc2ZlcnMgb25seSB0aGUgRVJDMjAgdG9rZW5zLCBFVEggc2hvdWxkIGJlIHRyYW5zZmVycmVkIGF1dG9tYXRpY2FsbHkKICAgICogQHBhcmFtIF9kZXBvc2l0cyBiYXRjaCBsaXN0IHdpdGggYWxsIGRlcG9zaXQgY29udHJhY3RzIHRoYXQgbWlnaHQgaG9sZCBFUkMyMCB0b2tlbnMKICAgICogQHBhcmFtIF90b2tlbkNvbnRyYWN0QWRkcmVzcyBzcGVjaWZpZXMgd2hhdCB0b2tlbiB0byBiZSB0cmFuc2ZlcmVkIGZvcm0gZWFjaCBkZXBvc2l0IGZyb20gdGhlIGJhdGNoIHRvIHRoZSBjb2xkIHdhbGxldHMKICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlclRva2VucyhhZGRyZXNzW10gX2RlcG9zaXRzLCBhZGRyZXNzIF90b2tlbkNvbnRyYWN0QWRkcmVzcykgcHVibGljIG9ubHlEZXBvc2l0Q3JlYXRvck9yTWFzdGVyIG5vblJlZW50cmFudCB7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgX2RlcG9zaXRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGFkZHJlc3MgZGVwb3NpdCA9IF9kZXBvc2l0c1tpXTsKICAgICAgICAgICAgdWludCBlcmMyMEJhbGFuY2UgPSBFUkMyMChfdG9rZW5Db250cmFjdEFkZHJlc3MpLmJhbGFuY2VPZihkZXBvc2l0KTsKCiAgICAgICAgICAgIC8vIGlmIG5vIGJhbGFuY2UgZm91bmQganVzdCBza2lwCiAgICAgICAgICAgIGlmIChlcmMyMEJhbGFuY2UgPT0gMCkgewogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIHRyYXNuZmVyIG9mIGVyYzIwIHRva2VucwogICAgICAgICAgICAvLyB3aXRoIHJlc3BlY3QgdG8gdGhlIHBlcmNlbnRhZ2Ugc2V0CiAgICAgICAgICAgIHVpbnQgY29sZFdhbGxldDFTaGFyZSA9IGVyYzIwQmFsYW5jZS5tdWwocGVyY2VudGFnZSkuZGl2KDEwMCk7CiAgICAgICAgICAgIHVpbnQgY29sZFdhbGxldDJTaGFyZSA9IGVyYzIwQmFsYW5jZS5zdWIoY29sZFdhbGxldDFTaGFyZSk7IAogICAgICAgICAgICBDaGlsZERlcG9zaXQoZGVwb3NpdCkud2l0aGRyYXcoX3Rva2VuQ29udHJhY3RBZGRyZXNzLGNvbGRXYWxsZXQxU2hhcmUsIGNvbGRXYWxsZXQxKTsKICAgICAgICAgICAgQ2hpbGREZXBvc2l0KGRlcG9zaXQpLndpdGhkcmF3KF90b2tlbkNvbnRyYWN0QWRkcmVzcyxjb2xkV2FsbGV0MlNoYXJlLCBjb2xkV2FsbGV0Mik7CiAgICAgICAgfQogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlDaGlsZENvbnRyYWN0KCkgewogICAgICAgIHJlcXVpcmUoY2hpbGREZXBvc2l0c1ttc2cuc2VuZGVyXSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5RGVwb3NpdENyZWF0b3JPck1hc3RlcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgZGVwb3NpdENyZWF0b3JzW21zZy5zZW5kZXJdKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlWYWxpZFBlcmNlbnRhZ2UodWludCBfcGVyY2VudGFnZSkgewogICAgICAgIHJlcXVpcmUoX3BlcmNlbnRhZ2UgPj0wICYmIF9wZXJjZW50YWdlIDw9IDEwMCk7CiAgICAgICAgXzsKICAgIH0KCn0='.
	

]
