Class {
	#name : #SRT3a09769f27a6e4b01bc58b1273bcaa8159033ec5,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT3a09769f27a6e4b01bc58b1273bcaa8159033ec5 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuNjsKY29udHJhY3Qgb3duZWQgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgZnVuY3Rpb24gb3duZWQoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHRocm93OwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQp9Cgpjb250cmFjdCB0b2tlblJlY2lwaWVudCB7IGZ1bmN0aW9uIHJlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW4sIGJ5dGVzIF9leHRyYURhdGEpOyB9Cgpjb250cmFjdCBTd2FwVG9rZW4gaXMgb3duZWQgewogICAgLyogUHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4gKi8KICAgIAogICAgc3RyaW5nIHB1YmxpYyBzdGFuZGFyZCA9ICdUb2tlbiAwLjEnOwoKICAgIC8vIGJ1eWVyIHRva2VucwogICAgc3RyaW5nIHB1YmxpYyBidXllclRva2VuTmFtZTsKICAgIHN0cmluZyBwdWJsaWMgYnV5ZXJTeW1ib2w7CiAgICB1aW50OCBwdWJsaWMgYnV5ZXJEZWNpbWFsczsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsQnV5ZXJTdXBwbHk7CiAgICAKICAgIC8vIGlzc3VlciB0b2tlbnMKICAgIHN0cmluZyBwdWJsaWMgaXNzdWVyVG9rZW5OYW1lOwogICAgc3RyaW5nIHB1YmxpYyBpc3N1ZXJTeW1ib2w7CiAgICB1aW50OCBwdWJsaWMgaXNzdWVyRGVjaW1hbHM7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbElzc3VlclN1cHBseTsKICAgIAogICAgLy8gbW9yZSB2YXJpYWJsZXMKICAgIHVpbnQyNTYgcHVibGljIGJ1eVByaWNlOwogICAgdWludDI1NiBwdWJsaWMgaXNzdWVQcmljZTsKICAgIHVpbnQyNTYgcHVibGljIGNQVDsKICAgIHVpbnQyNTYgcHVibGljIHByZW1pdW07CiAgICBib29sIHB1YmxpYyBjcmVkaXRTdGF0dXM7CiAgICBhZGRyZXNzIHB1YmxpYyBwcm9qZWN0X3dhbGxldDsKICAgIGFkZHJlc3MgcHVibGljIGNvbGxlY3Rpb25GdW5kczsKICAgIC8vdWludCBwdWJsaWMgc3RhcnRCbG9jazsKICAgIC8vdWludCBwdWJsaWMgZW5kQmxvY2s7CiAgICAKICAgIC8qIFNldHMgdGhlIGNvbnN0cnVjdG9yIHZhcmlhYmxlcyAqLwogICAgZnVuY3Rpb24gU3dhcFRva2VuKAogICAgICAgIHN0cmluZyBfYnV5ZXJUb2tlbk5hbWUsCiAgICAgICAgc3RyaW5nIF9idXllclN5bWJvbCwKICAgICAgICB1aW50OCBfYnV5ZXJEZWNpbWFscywKICAgICAgICBzdHJpbmcgX2lzc3VlclRva2VuTmFtZSwKICAgICAgICBzdHJpbmcgX2lzc3VlclN5bWJvbCwKICAgICAgICB1aW50OCBfaXNzdWVyRGVjaW1hbHMsCiAgICAgICAgYWRkcmVzcyBfY29sbGVjdGlvbkZ1bmRzLAogICAgICAgIHVpbnQgX3N0YXJ0QmxvY2ssCiAgICAgICAgdWludCBfZW5kQmxvY2sKICAgICAgICApIHsKICAgICAgICBidXllclRva2VuTmFtZSA9IF9idXllclRva2VuTmFtZTsKICAgICAgICBidXllclN5bWJvbCA9IF9idXllclN5bWJvbDsKICAgICAgICBidXllckRlY2ltYWxzID0gX2J1eWVyRGVjaW1hbHM7CiAgICAgICAgaXNzdWVyVG9rZW5OYW1lID0gX2lzc3VlclRva2VuTmFtZTsKICAgICAgICBpc3N1ZXJTeW1ib2wgPSBfaXNzdWVyU3ltYm9sOwogICAgICAgIGlzc3VlckRlY2ltYWxzID0gX2lzc3VlckRlY2ltYWxzOwogICAgICAgIGNvbGxlY3Rpb25GdW5kcyA9IF9jb2xsZWN0aW9uRnVuZHM7CiAgICAgICAgLy9zdGFydEJsb2NrID0gX3N0YXJ0QmxvY2s7CiAgICAgICAgLy9lbmRCbG9jayA9IF9lbmRCbG9jazsKICAgIH0KCiAgICAvKiBUaGlzIGNyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgYmFsYW5jZXMgKi8KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VPZkJ1eWVyOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZU9mSXNzdWVyOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dhbmNlOwoKICAgIC8qIFRoaXMgZ2VuZXJhdGVzIGEgcHVibGljIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgY2xpZW50cyAqLwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CgogICAgLyogSW5pdGlhbGl6ZXMgY29udHJhY3Qgd2l0aCBpbml0aWFsIHN1cHBseSB0b2tlbnMgdG8gdGhlIGNyZWF0b3Igb2YgdGhlIGNvbnRyYWN0IAogICAgZnVuY3Rpb24gdG9rZW4oCiAgICAgICAgdWludDI1NiBpbml0aWFsU3VwcGx5LAogICAgICAgIHN0cmluZyB0b2tlbk5hbWUsCiAgICAgICAgdWludDggZGVjaW1hbFVuaXRzLAogICAgICAgIHN0cmluZyB0b2tlblN5bWJvbAogICAgICAgICkgewogICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSA9IGluaXRpYWxTdXBwbHk7ICAgICAgICAgICAgICAvLyBHaXZlIHRoZSBjcmVhdG9yIGFsbCBpbml0aWFsIHRva2VucwogICAgICAgIHRvdGFsU3VwcGx5ID0gaW5pdGlhbFN1cHBseTsgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdG90YWwgc3VwcGx5CiAgICAgICAgbmFtZSA9IHRva2VuTmFtZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgbmFtZSBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICAgIHN5bWJvbCA9IHRva2VuU3ltYm9sOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIHN5bWJvbCBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICAgIGRlY2ltYWxzID0gZGVjaW1hbFVuaXRzOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbW91bnQgb2YgZGVjaW1hbHMgZm9yIGRpc3BsYXkgcHVycG9zZXMKICAgIH0KICAgICovCiAgICAKICAgIC8qIENoZWNrIGlmIGNvbnRyYWN0IGhhcyBzdGFydGVkICovCiAgICAvKmZ1bmN0aW9uIGhhc19jb250cmFjdF9zdGFydGVkKCkgcHJpdmF0ZSBjb25zdGFudCByZXR1cm5zIChib29sKSB7CgkgICAgcmV0dXJuIGJsb2NrLm51bWJlciA+PSBzdGFydEJsb2NrOwogICAgfQogICAgCiAgICAvKiBDaGVjayBpZiBjb250cmFjdCBoYXMgZW5kZWQgKi8KICAgIC8qZnVuY3Rpb24gaGFzX2NvbnRyYWN0X2VuZGVkKCkgcHJpdmF0ZSBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIGJsb2NrLm51bWJlciA+IGVuZEJsb2NrOwogICAgfSovCiAgICAKICAgIC8qIFNldCBhIHByb2plY3QgV2FsbGV0ICovCiAgICBmdW5jdGlvbiBkZWZpbmVQcm9qZWN0V2FsbGV0KGFkZHJlc3MgdGFyZ2V0KSBvbmx5T3duZXIgewogICAgICAgIHByb2plY3Rfd2FsbGV0ID0gdGFyZ2V0OwogICAgfQogICAgCiAgICAvKiBNaW50IGNvaW5zICovCiAgICAKICAgIC8vIGJ1eWVyIHRva2VucwogICAgZnVuY3Rpb24gbWludEJ1eWVyVG9rZW4oYWRkcmVzcyB0YXJnZXQsIHVpbnQyNTYgbWludGVkQW1vdW50KSBvbmx5T3duZXIgewogICAgICAgIGJhbGFuY2VPZkJ1eWVyW3RhcmdldF0gKz0gbWludGVkQW1vdW50OwogICAgICAgIHRvdGFsQnV5ZXJTdXBwbHkgKz0gbWludGVkQW1vdW50OwogICAgICAgIFRyYW5zZmVyKDAsIHRoaXMsIG1pbnRlZEFtb3VudCk7CiAgICAgICAgVHJhbnNmZXIodGhpcywgdGFyZ2V0LCBtaW50ZWRBbW91bnQpOwogICAgfQogICAgCiAgICAvLyBpc3N1ZXIgdG9rZW5zCiAgICBmdW5jdGlvbiBtaW50SXNzdWVyVG9rZW4oYWRkcmVzcyB0YXJnZXQsIHVpbnQyNTYgbWludGVkQW1vdW50KSBvbmx5T3duZXIgewogICAgICAgIGJhbGFuY2VPZklzc3Vlclt0YXJnZXRdICs9IG1pbnRlZEFtb3VudDsKICAgICAgICB0b3RhbElzc3VlclN1cHBseSArPSBtaW50ZWRBbW91bnQ7CiAgICAgICAgVHJhbnNmZXIoMCwgdGhpcywgbWludGVkQW1vdW50KTsKICAgICAgICBUcmFuc2Zlcih0aGlzLCB0YXJnZXQsIG1pbnRlZEFtb3VudCk7CiAgICB9CiAgICAKICAgIC8qIERpc3Ryb3kgY29pbnMgKi8KICAgIAogICAgLy8gRGlzdHJveSBidXllciBjb2lucyBmb3Igc2FsZSBpbiBjb250cmFjdCAKICAgIGZ1bmN0aW9uIGRpc3Ryb3lCdXllclRva2VuKHVpbnQyNTYgYnVybkFtb3VudCkgb25seU93bmVyIHsKICAgICAgICBiYWxhbmNlT2ZCdXllclt0aGlzXSAtPSBidXJuQW1vdW50OwogICAgICAgIHRvdGFsQnV5ZXJTdXBwbHkgLT0gYnVybkFtb3VudDsKICAgIH0KICAgIAogICAgLy8gRGlzdHJveSBpc3N1ZXIgY29pbnMgZm9yIHNhbGUgaW4gY29udHJhY3QKICAgIGZ1bmN0aW9uIGRpc3Ryb3lJc3N1ZXJUb2tlbih1aW50MjU2IGJ1cm5BbW91bnQpIG9ubHlPd25lciB7CiAgICAgICAgYmFsYW5jZU9mSXNzdWVyW3RoaXNdIC09IGJ1cm5BbW91bnQ7CiAgICAgICAgdG90YWxJc3N1ZXJTdXBwbHkgLT0gYnVybkFtb3VudDsKICAgIH0KCiAgICAvKiBTZW5kIGNvaW5zICovCiAgICAKICAgIC8vIHNlbmQgYnV5ZXIgY29pbnMKICAgIGZ1bmN0aW9uIHRyYW5zZmVyQnV5ZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSB7CiAgICAgICAgaWYgKGJhbGFuY2VPZkJ1eWVyW21zZy5zZW5kZXJdIDwgX3ZhbHVlKSB0aHJvdzsgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaAogICAgICAgIGlmIChiYWxhbmNlT2ZCdXllcltfdG9dICsgX3ZhbHVlIDwgYmFsYW5jZU9mQnV5ZXJbX3RvXSkgdGhyb3c7IC8vIENoZWNrIGZvciBvdmVyZmxvd3MKICAgICAgICBiYWxhbmNlT2ZCdXllclttc2cuc2VuZGVyXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgYmFsYW5jZU9mQnV5ZXJbX3RvXSArPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgc2FtZSB0byB0aGUgcmVjaXBpZW50CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOyAgICAgICAgICAgICAgICAgICAvLyBOb3RpZnkgYW55b25lIGxpc3RlbmluZyB0aGF0IHRoaXMgdHJhbnNmZXIgdG9vayBwbGFjZQogICAgfQogICAgCiAgICAvLyBzZW5kIGlzc3VlciBjb2lucwogICAgZnVuY3Rpb24gdHJhbnNmZXJJc3N1ZShhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHsKICAgICAgICBpZiAoYmFsYW5jZU9mSXNzdWVyW21zZy5zZW5kZXJdIDwgX3ZhbHVlKSB0aHJvdzsKICAgICAgICBpZiAoYmFsYW5jZU9mSXNzdWVyW190b10gKyBfdmFsdWUgPCBiYWxhbmNlT2ZJc3N1ZXJbX3RvXSkgdGhyb3c7CiAgICAgICAgYmFsYW5jZU9mSXNzdWVyW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICBiYWxhbmNlT2ZJc3N1ZXJbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgfQogICAgCiAgICAvKiBBbGxvdyBhbm90aGVyIGNvbnRyYWN0IHRvIHNwZW5kIHNvbWUgdG9rZW5zIGluIHlvdXIgYmVoYWxmICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKQogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93YW5jZVttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgdG9rZW5SZWNpcGllbnQgc3BlbmRlciA9IHRva2VuUmVjaXBpZW50KF9zcGVuZGVyKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKiBBcHByb3ZlIGFuZCB0aGVuIGNvbXVuaWNhdGUgdGhlIGFwcHJvdmVkIGNvbnRyYWN0IGluIGEgc2luZ2xlIHR4ICovCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSkKICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsgICAgCiAgICAgICAgdG9rZW5SZWNpcGllbnQgc3BlbmRlciA9IHRva2VuUmVjaXBpZW50KF9zcGVuZGVyKTsKICAgICAgICBpZiAoYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKSkgewogICAgICAgICAgICBzcGVuZGVyLnJlY2VpdmVBcHByb3ZhbChtc2cuc2VuZGVyLCBfdmFsdWUsIHRoaXMsIF9leHRyYURhdGEpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICB9CgogICAgLyogQSBjb250cmFjdCBhdHRlbXB0cyB0byBnZXQgdGhlIGNvaW5zIAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYgKGJhbGFuY2VPZkJ1eWVyW19mcm9tXSA8IF92YWx1ZSkgdGhyb3c7ICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICBpZiAoYmFsYW5jZU9mQnV5ZXJbX3RvXSArIF92YWx1ZSA8IGJhbGFuY2VPZkJ1eWVyW190b10pIHRocm93OyAgLy8gQ2hlY2sgZm9yIG92ZXJmbG93cwogICAgICAgIGlmIChfdmFsdWUgPiBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdKSB0aHJvdzsgICAvLyBDaGVjayBhbGxvd2FuY2UKICAgICAgICBiYWxhbmNlT2ZCdXllcltfZnJvbV0gLT0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgYmFsYW5jZU9mQnV5ZXJbX3RvXSArPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgc2FtZSB0byB0aGUgcmVjaXBpZW50CiAgICAgICAgYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgICovCiAgICAKICAgIC8qIFNldCB0b2tlbiBwcmljZSAqLwogICAgZnVuY3Rpb24gc2V0UHJpY2VzKHVpbnQyNTYgbmV3QnV5UHJpY2UsIHVpbnQyNTYgbmV3SXNzdWVQcmljZSwgdWludDI1NiBjb3ZlcmFnZVBlclRva2VuKSBvbmx5T3duZXIgewogICAgICAgIGJ1eVByaWNlID0gbmV3QnV5UHJpY2U7CiAgICAgICAgaXNzdWVQcmljZSA9IG5ld0lzc3VlUHJpY2U7CiAgICAgICAgY1BUID0gY292ZXJhZ2VQZXJUb2tlbjsKICAgIH0KCiAgICAvKiBCdXkgdG9rZW5zICovCiAgICAKICAgIC8vIGJ1eSBidXllciB0b2tlbnMKICAgIGZ1bmN0aW9uIGJ1eUJ1eWVyVG9rZW5zKCkgcGF5YWJsZSB7CiAgICAgICAgLy9pZighaGFzX2NvbnRyYWN0X3N0YXJ0ZWQoKSkgdGhyb3c7ICAgICAgICAgICAgICAgICAgLy8gY2hlY2tzIGlmIHRoZSBjb250cmFjdCBoYXMgc3RhcnRlZAogICAgICAgIC8vaWYoaGFzX2NvbnRyYWN0X2VuZGVkKCkpIHRocm93OyAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrcyBpZiB0aGUgY29udHJhY3QgaGFzIGVuZGVkIAogICAgICAgIHVpbnQgYW1vdW50ID0gbXNnLnZhbHVlIC8gYnV5UHJpY2U7ICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZXMgdGhlIGFtb3VudAogICAgICAgIGlmIChiYWxhbmNlT2ZCdXllclt0aGlzXSA8IGFtb3VudCkgdGhyb3c7ICAgICAgICAgICAgICAgLy8gY2hlY2tzIGlmIGl0IGhhcyBlbm91Z2ggdG8gc2VsbAogICAgICAgIGJhbGFuY2VPZkJ1eWVyW21zZy5zZW5kZXJdICs9IGFtb3VudDsgICAgICAgICAgICAgICAgICAgLy8gYWRkcyB0aGUgYW1vdW50IHRvIGJ1eWVyJ3MgYmFsYW5jZQogICAgICAgIGJhbGFuY2VPZkJ1eWVyW3RoaXNdIC09IGFtb3VudDsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3VidHJhY3RzIGFtb3VudCBmcm9tIHNlbGxlcidzIGJhbGFuY2UKICAgICAgICBUcmFuc2Zlcih0aGlzLCBtc2cuc2VuZGVyLCBhbW91bnQpOyAgICAgICAgICAgICAgICAvLyBleGVjdXRlIGFuIGV2ZW50IHJlZmxlY3RpbmcgdGhlIGNoYW5nZQogICAgfQogICAgCiAgICAvLyBidXkgaXNzdWVyIHRva2VucwogICAgZnVuY3Rpb24gYnV5SXNzdWVyVG9rZW5zKCkgcGF5YWJsZSB7CiAgICAgICAgdWludCBhbW91bnQgPSBtc2cudmFsdWUgLyBpc3N1ZVByaWNlOwogICAgICAgIGlmIChiYWxhbmNlT2ZJc3N1ZXJbdGhpc10gPCBhbW91bnQpIHRocm93OwogICAgICAgIGJhbGFuY2VPZklzc3Vlclttc2cuc2VuZGVyXSArPSBhbW91bnQ7CiAgICAgICAgYmFsYW5jZU9mSXNzdWVyW3RoaXNdIC09IGFtb3VudDsKICAgICAgICBUcmFuc2Zlcih0aGlzLCBtc2cuc2VuZGVyLCBhbW91bnQpOwogICAgfQogICAgCiAgICAvKiBDcmVkaXQgU3RhdHVzIEV2ZW50ICovCiAgICBmdW5jdGlvbiBzZXRDcmVkaXRTdGF0dXMoYm9vbCBfc3RhdHVzKSBvbmx5T3duZXIgewogICAgICAgIGNyZWRpdFN0YXR1cyA9IF9zdGF0dXM7CiAgICB9CgogICAgLyogQ29sbGVjdGlvbiAqLwogICAgCiAgICAvLyBidXllciBjb2xsZWN0aW9uIHNhbGUKICAgIGZ1bmN0aW9uIHNlbGxCdXllclRva2Vucyh1aW50IGFtb3VudCkgcmV0dXJucyAodWludCByZXZlbnVlKXsKICAgICAgICBpZiAoY3JlZGl0U3RhdHVzID09IGZhbHNlKSB0aHJvdzsgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrcyBpZiBidXllciBpcyBlbGlnaWJsZSBmb3IgYSBjbGFpbQogICAgICAgIGlmIChiYWxhbmNlT2ZCdXllclttc2cuc2VuZGVyXSA8IGFtb3VudCApIHRocm93OyAgICAgICAgLy8gY2hlY2tzIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaCB0byBzZWxsCiAgICAgICAgYmFsYW5jZU9mQnV5ZXJbdGhpc10gKz0gYW1vdW50OyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGRzIHRoZSBhbW91bnQgdG8gb3duZXIncyBiYWxhbmNlCiAgICAgICAgYmFsYW5jZU9mQnV5ZXJbbXNnLnNlbmRlcl0gLT0gYW1vdW50OyAgICAgICAgICAgICAgICAgICAvLyBzdWJ0cmFjdHMgdGhlIGFtb3VudCBmcm9tIHNlbGxlcidzIGJhbGFuY2UKICAgICAgICByZXZlbnVlID0gYW1vdW50ICogY1BUOwogICAgICAgIGlmICghbXNnLnNlbmRlci5zZW5kKHJldmVudWUpKSB7ICAgICAgICAgICAgICAgICAgIC8vIHNlbmRzIGV0aGVyIHRvIHRoZSBzZWxsZXI6IGl0J3MgaW1wb3J0YW50CiAgICAgICAgICAgIHRocm93OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gZG8gdGhpcyBsYXN0IHRvIHByZXZlbnQgcmVjdXJzaW9uIGF0dGFja3MKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCB0aGlzLCBhbW91bnQpOyAgICAgICAgICAgICAvLyBleGVjdXRlcyBhbiBldmVudCByZWZsZWN0aW5nIG9uIHRoZSBjaGFuZ2UKICAgICAgICAgICAgcmV0dXJuIHJldmVudWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5kcyBmdW5jdGlvbiBhbmQgcmV0dXJucwogICAgICAgIH0KICAgIH0KICAgIAogICAgLy8gZ2V0IHByZW1pdW0sIG5vdGUgbm90IHRlc3RlZCB5ZXQKICAgIGZ1bmN0aW9uIGdldFByZW1pdW0oKSBwcml2YXRlIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcHJlbWl1bSkgewogICAgICAgIHByZW1pdW0gPSAoaXNzdWVQcmljZSAtIGNQVCkgKiA5OC8xMDA7CiAgICAgICAgcmV0dXJuIHByZW1pdW07CiAgICB9CiAgICAKICAgIC8vIGlzc3VlciBjb2xsZWN0aW9uIHNhbGUKICAgIGZ1bmN0aW9uIHNlbGxJc3N1ZXJUb2tlbnModWludCBhbW91bnQpIHJldHVybnMgKHVpbnQgcmV2ZW51ZSl7CiAgICAgICAgaWYgKGJhbGFuY2VPZklzc3Vlclttc2cuc2VuZGVyXSA8IGFtb3VudCApIHRocm93OwogICAgICAgIGJhbGFuY2VPZklzc3Vlclt0aGlzXSArPSBhbW91bnQ7CiAgICAgICAgYmFsYW5jZU9mSXNzdWVyW21zZy5zZW5kZXJdIC09IGFtb3VudDsKICAgICAgICByZXZlbnVlID0gYW1vdW50ICogZ2V0UHJlbWl1bSgpOwogICAgICAgIGlmICghbXNnLnNlbmRlci5zZW5kKHJldmVudWUpKSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIHRoaXMsIGFtb3VudCk7CiAgICAgICAgICAgIHJldHVybiByZXZlbnVlOwogICAgICAgIH0KICAgIH0KICAgIAogICAgLyogQWZ0ZXIgY29udHJhY3QgZW5kcyBtb3ZlIGZ1bmRzICovCiAgICBmdW5jdGlvbiBtb3ZlRnVuZHMoKSBvbmx5T3duZXIgewogICAgICAgIC8vaWYgKCFoYXNfY29udHJhY3RfZW5kZWQoKSkgdGhyb3c7CiAgICAgICAgaWYgKCFwcm9qZWN0X3dhbGxldC5zZW5kKHRoaXMuYmFsYW5jZSkpIHRocm93OwogICAgfQoKICAgIC8qIFRoaXMgdW5uYW1lZCBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbmV2ZXIgc29tZW9uZSB0cmllcyB0byBzZW5kIGV0aGVyIHRvIGl0ICovCiAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhyb3c7ICAgICAvLyBQcmV2ZW50cyBhY2NpZGVudGFsIHNlbmRpbmcgb2YgZXRoZXIKICAgIH0KfQ=='.
	

]
