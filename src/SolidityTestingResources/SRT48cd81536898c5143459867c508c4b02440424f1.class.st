Class {
	#name : #SRT48cd81536898c5143459867c508c4b02440424f1,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT48cd81536898c5143459867c508c4b02440424f1 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovKioKICogU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEJhc2VkIG9uIGNvZGUgYnkgRmlyc3RCbG9vZDoKICogaHR0cHM6Ly9naXRodWIuY29tL0ZpcnN0Ymxvb2Rpby90b2tlbi9ibG9iL21hc3Rlci9zbWFydF9jb250cmFjdC9GaXJzdEJsb29kVG9rZW4uc29sCiAqCiAqIFRoaXMgaXMgdGhlIHRva2VuIGNvbnRyYWN0IGZvciBFdGhpbm8sIHRoZSBmaXJzdCBhbmQgb25seSBFUkMyMCBFdGhlcmV1bSBDYXNpbm8uCiAqIEl0IHV0aWxpemVzIE1ham9vbHIncyBUb2tlbkxpYiBsaWJyYXJ5IHRvIHJlZHVjZSBjdXN0b20gc291cmNlIGNvZGUgc3VyZmFjZQogKiBhcmVhIGFuZCBpbmNyZWFzZSBvdmVyYWxsIHNlY3VyaXR5LiBNYWpvb2xyIHByb3ZpZGVzIHNtYXJ0IGNvbnRyYWN0IHNlcnZpY2VzCiAqIGFuZCBzZWN1cml0eSByZXZpZXdzIGZvciBjb250cmFjdCBkZXBsb3ltZW50cyBpbiBhZGRpdGlvbiB0byB3b3JraW5nIG9uIG9wZW4KICogc291cmNlIHByb2plY3RzIGluIHRoZSBFdGhlcmV1bSBjb21tdW5pdHkuCiAqIEZvciBmdXJ0aGVyIGluZm9ybWF0aW9uOiBldGhpbm8uY29tLCBtYWpvb2xyLmlvCiAqCiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTCiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YKICogTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULgogKiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWQogKiBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULAogKiBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRQogKiBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4KICovCgpjb250cmFjdCBFTk9Ub2tlbiB7CiAgdXNpbmcgVG9rZW5MaWIgZm9yIFRva2VuTGliLlRva2VuU3RvcmFnZTsKCiAgVG9rZW5MaWIuVG9rZW5TdG9yYWdlIHRva2VuOwoKICAvL1RoaXMgaW5zdGFuY2UgaXMgZm9yIHRoZSByb3BzdGVuIHRlc3RuZXQKICBmdW5jdGlvbiBFTk9Ub2tlbihhZGRyZXNzIG93bmVyLCAvLzB4MTBiOTgxMjNmODQ3MDNBNUNCODg0ZDI3MDU4RDM0MTVlMDNmMmY3MQogICAgICAgICAgICAgICAgICAgIHN0cmluZyBuYW1lLCAvL0V0aGlubwogICAgICAgICAgICAgICAgICAgIHN0cmluZyBzeW1ib2wsIC8vRU5PCiAgICAgICAgICAgICAgICAgICAgdWludDggZGVjaW1hbHMsIC8vMTgKICAgICAgICAgICAgICAgICAgICB1aW50MjU2IGluaXRpYWxTdXBwbHksIC8vMjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAKICAgICAgICAgICAgICAgICAgICBib29sIGFsbG93TWludGluZykgLy9mYWxzZQogIHsKICAgIHRva2VuLmluaXQob3duZXIsIG5hbWUsIHN5bWJvbCwgZGVjaW1hbHMsIGluaXRpYWxTdXBwbHksIGFsbG93TWludGluZyk7CiAgfQoKICBmdW5jdGlvbiBvd25lcigpIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MpIHsKICAgIHJldHVybiB0b2tlbi5vd25lcjsKICB9CgogIGZ1bmN0aW9uIG5hbWUoKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcpIHsKICAgIHJldHVybiB0b2tlbi5uYW1lOwogIH0KCiAgZnVuY3Rpb24gc3ltYm9sKCkgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nKSB7CiAgICByZXR1cm4gdG9rZW4uc3ltYm9sOwogIH0KCiAgZnVuY3Rpb24gZGVjaW1hbHMoKSBjb25zdGFudCByZXR1cm5zICh1aW50OCkgewogICAgcmV0dXJuIHRva2VuLmRlY2ltYWxzOwogIH0KCiAgZnVuY3Rpb24gaW5pdGlhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiB0b2tlbi5JTklUSUFMX1NVUFBMWTsKICB9CgogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIHRva2VuLnRvdGFsU3VwcGx5OwogIH0KCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gdG9rZW4uYmFsYW5jZU9mKHdobyk7CiAgfQoKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gdG9rZW4uYWxsb3dhbmNlKG93bmVyLCBzcGVuZGVyKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHJldHVybnMgKGJvb2wgb2spIHsKICAgIHJldHVybiB0b2tlbi50cmFuc2Zlcih0bywgdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvaykgewogICAgcmV0dXJuIHRva2VuLnRyYW5zZmVyRnJvbShmcm9tLCB0bywgdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdmFsdWUpIHJldHVybnMgKGJvb2wgb2spIHsKICAgIHJldHVybiB0b2tlbi5hcHByb3ZlKHNwZW5kZXIsIHZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIGNoYW5nZU93bmVyKGFkZHJlc3MgbmV3T3duZXIpIHJldHVybnMgKGJvb2wgb2spIHsKICAgIHJldHVybiB0b2tlbi5jaGFuZ2VPd25lcihuZXdPd25lcik7CiAgfQoKICBmdW5jdGlvbiBidXJuVG9rZW4odWludDI1NiBhbW91bnQpIHJldHVybnMgKGJvb2wgb2spIHsKICAgIHJldHVybiB0b2tlbi5idXJuVG9rZW4oYW1vdW50KTsKICB9Cn0KCnByYWdtYSBzb2xpZGl0eSBeMC40LjE1OwoKLyoqCiAqIEB0aXRsZSBUb2tlbkxpYgogKiBAYXV0aG9yIE1ham9vbHIuaW8KICoKICogdmVyc2lvbiAxLjEuMAogKiBDb3B5cmlnaHQgKGMpIDIwMTcgTWFqb29sciwgTExDCiAqIFRoZSBNSVQgTGljZW5zZSAoTUlUKQogKiBodHRwczovL2dpdGh1Yi5jb20vTWFqb29sci9ldGhlcmV1bS1saWJyYXJpZXMvYmxvYi9tYXN0ZXIvTElDRU5TRQogKgogKiBUaGUgVG9rZW4gTGlicmFyeSBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIGNyZWF0ZSBhIHZhcmlldHkgb2YgRVJDMjAgdG9rZW5zLgogKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL01ham9vbHIvZXRoZXJldW0tY29udHJhY3RzIGZvciBhbiBleGFtcGxlIG9mIGhvdyB0bwogKiBjcmVhdGUgYSBiYXNpYyBFUkMyMCB0b2tlbi4KICoKICogTWFqb29sciB3b3JrcyBvbiBvcGVuIHNvdXJjZSBwcm9qZWN0cyBpbiB0aGUgRXRoZXJldW0gY29tbXVuaXR5IHdpdGggdGhlCiAqIHB1cnBvc2Ugb2YgdGVzdGluZywgZG9jdW1lbnRpbmcsIGFuZCBkZXBsb3lpbmcgcmV1c2FibGUgY29kZSBvbnRvIHRoZQogKiBibG9ja2NoYWluIHRvIGltcHJvdmUgc2VjdXJpdHkgYW5kIHVzYWJpbGl0eSBvZiBzbWFydCBjb250cmFjdHMuIE1ham9vbHIKICogYWxzbyBzdHJpdmVzIHRvIGVkdWNhdGUgbm9uLXByb2ZpdHMsIHNjaG9vbHMsIGFuZCBvdGhlciBjb21tdW5pdHkgbWVtYmVycwogKiBhYm91dCB0aGUgYXBwbGljYXRpb24gb2YgYmxvY2tjaGFpbiB0ZWNobm9sb2d5LgogKiBGb3IgZnVydGhlciBpbmZvcm1hdGlvbjogbWFqb29sci5pbwogKgogKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUwogKiBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GCiAqIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4KICogSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkKICogQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwKICogVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUKICogU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCiAqLwoKbGlicmFyeSBUb2tlbkxpYiB7CiAgdXNpbmcgQmFzaWNNYXRoTGliIGZvciB1aW50MjU2OwoKICBzdHJ1Y3QgVG9rZW5TdG9yYWdlIHsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgogICAgc3RyaW5nIG5hbWU7CiAgICBzdHJpbmcgc3ltYm9sOwogICAgdWludDI1NiB0b3RhbFN1cHBseTsKICAgIHVpbnQyNTYgSU5JVElBTF9TVVBQTFk7CiAgICBhZGRyZXNzIG93bmVyOwogICAgdWludDggZGVjaW1hbHM7CiAgICBib29sIHN0aWxsTWludGluZzsKICB9CgogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwogIGV2ZW50IE93bmVyQ2hhbmdlKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0byk7CiAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgYnVybmVyLCB1aW50MjU2IHZhbHVlKTsKICBldmVudCBNaW50aW5nQ2xvc2VkKGJvb2wgbWludGluZ0Nsb3NlZCk7CgogIC8vLyBAZGV2IENhbGxlZCBieSB0aGUgU3RhbmRhcmQgVG9rZW4gdXBvbiBjcmVhdGlvbi4KICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QKICAvLy8gQHBhcmFtIF9uYW1lIE5hbWUgb2YgdGhlIG5ldyB0b2tlbgogIC8vLyBAcGFyYW0gX3N5bWJvbCBTeW1ib2wgb2YgdGhlIG5ldyB0b2tlbgogIC8vLyBAcGFyYW0gX2RlY2ltYWxzIERlY2ltYWwgcGxhY2VzIGZvciB0aGUgdG9rZW4gcmVwcmVzZW50ZWQKICAvLy8gQHBhcmFtIF9pbml0aWFsX3N1cHBseSBUaGUgaW5pdGlhbCB0b2tlbiBzdXBwbHkKICAvLy8gQHBhcmFtIF9hbGxvd01pbnRpbmcgVHJ1ZSBpZiBhZGRpdGlvbmFsIHRva2VucyBjYW4gYmUgY3JlYXRlZCwgZmFsc2Ugb3RoZXJ3aXNlCiAgZnVuY3Rpb24gaW5pdChUb2tlblN0b3JhZ2Ugc3RvcmFnZSBzZWxmLAogICAgICAgICAgICAgICAgYWRkcmVzcyBfb3duZXIsCiAgICAgICAgICAgICAgICBzdHJpbmcgX25hbWUsCiAgICAgICAgICAgICAgICBzdHJpbmcgX3N5bWJvbCwKICAgICAgICAgICAgICAgIHVpbnQ4IF9kZWNpbWFscywKICAgICAgICAgICAgICAgIHVpbnQyNTYgX2luaXRpYWxfc3VwcGx5LAogICAgICAgICAgICAgICAgYm9vbCBfYWxsb3dNaW50aW5nKQogIHsKICAgIHJlcXVpcmUoc2VsZi5JTklUSUFMX1NVUFBMWSA9PSAwKTsKICAgIHNlbGYubmFtZSA9IF9uYW1lOwogICAgc2VsZi5zeW1ib2wgPSBfc3ltYm9sOwogICAgc2VsZi50b3RhbFN1cHBseSA9IF9pbml0aWFsX3N1cHBseTsKICAgIHNlbGYuSU5JVElBTF9TVVBQTFkgPSBfaW5pdGlhbF9zdXBwbHk7CiAgICBzZWxmLmRlY2ltYWxzID0gX2RlY2ltYWxzOwogICAgc2VsZi5vd25lciA9IF9vd25lcjsKICAgIHNlbGYuc3RpbGxNaW50aW5nID0gX2FsbG93TWludGluZzsKICAgIHNlbGYuYmFsYW5jZXNbX293bmVyXSA9IF9pbml0aWFsX3N1cHBseTsKICB9CgogIC8vLyBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIGNhbGxlcidzIGFjY291bnQgdG8gYW5vdGhlciBhY2NvdW50LgogIC8vLyBAcGFyYW0gc2VsZiBTdG9yZWQgdG9rZW4gZnJvbSB0b2tlbiBjb250cmFjdAogIC8vLyBAcGFyYW0gX3RvIEFkZHJlc3MgdG8gc2VuZCB0b2tlbnMKICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIHRvIHNlbmQKICAvLy8gQHJldHVybiBUcnVlIGlmIGNvbXBsZXRlZAogIGZ1bmN0aW9uIHRyYW5zZmVyKFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYsIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgYm9vbCBlcnI7CiAgICB1aW50MjU2IGJhbGFuY2U7CgogICAgKGVycixiYWxhbmNlKSA9IHNlbGYuYmFsYW5jZXNbbXNnLnNlbmRlcl0ubWludXMoX3ZhbHVlKTsKICAgIHJlcXVpcmUoIWVycik7CiAgICBzZWxmLmJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZTsKICAgIC8vSXQncyBub3QgcG9zc2libGUgdG8gb3ZlcmZsb3cgdG9rZW4gc3VwcGx5CiAgICBzZWxmLmJhbGFuY2VzW190b10gPSBzZWxmLmJhbGFuY2VzW190b10gKyBfdmFsdWU7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8vLyBAZGV2IEF1dGhvcml6ZWQgY2FsbGVyIHRyYW5zZmVycyB0b2tlbnMgZnJvbSBvbmUgYWNjb3VudCB0byBhbm90aGVyCiAgLy8vIEBwYXJhbSBzZWxmIFN0b3JlZCB0b2tlbiBmcm9tIHRva2VuIGNvbnRyYWN0CiAgLy8vIEBwYXJhbSBfZnJvbSBBZGRyZXNzIHRvIHNlbmQgdG9rZW5zIGZyb20KICAvLy8gQHBhcmFtIF90byBBZGRyZXNzIHRvIHNlbmQgdG9rZW5zIHRvCiAgLy8vIEBwYXJhbSBfdmFsdWUgTnVtYmVyIG9mIHRva2VucyB0byBzZW5kCiAgLy8vIEByZXR1cm4gVHJ1ZSBpZiBjb21wbGV0ZWQKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwKICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyBfZnJvbSwKICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyBfdG8sCiAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQyNTYgX3ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5zIChib29sKQogIHsKICAgIHZhciBfYWxsb3dhbmNlID0gc2VsZi5hbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKICAgIGJvb2wgZXJyOwogICAgdWludDI1NiBiYWxhbmNlT3duZXI7CiAgICB1aW50MjU2IGJhbGFuY2VTcGVuZGVyOwoKICAgIChlcnIsYmFsYW5jZU93bmVyKSA9IHNlbGYuYmFsYW5jZXNbX2Zyb21dLm1pbnVzKF92YWx1ZSk7CiAgICByZXF1aXJlKCFlcnIpOwoKICAgIChlcnIsYmFsYW5jZVNwZW5kZXIpID0gX2FsbG93YW5jZS5taW51cyhfdmFsdWUpOwogICAgcmVxdWlyZSghZXJyKTsKCiAgICBzZWxmLmJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VPd25lcjsKICAgIHNlbGYuYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBiYWxhbmNlU3BlbmRlcjsKICAgIHNlbGYuYmFsYW5jZXNbX3RvXSA9IHNlbGYuYmFsYW5jZXNbX3RvXSArIF92YWx1ZTsKCiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvLy8gQGRldiBSZXRyaWV2ZSB0b2tlbiBiYWxhbmNlIGZvciBhbiBhY2NvdW50CiAgLy8vIEBwYXJhbSBzZWxmIFN0b3JlZCB0b2tlbiBmcm9tIHRva2VuIGNvbnRyYWN0CiAgLy8vIEBwYXJhbSBfb3duZXIgQWRkcmVzcyB0byByZXRyaWV2ZSBiYWxhbmNlIG9mCiAgLy8vIEByZXR1cm4gYmFsYW5jZSBUaGUgbnVtYmVyIG9mIHRva2VucyBpbiB0aGUgc3ViamVjdCBhY2NvdW50CiAgZnVuY3Rpb24gYmFsYW5jZU9mKFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYsIGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBzZWxmLmJhbGFuY2VzW19vd25lcl07CiAgfQoKICAvLy8gQGRldiBBdXRob3JpemUgYW4gYWNjb3VudCB0byBzZW5kIHRva2VucyBvbiBjYWxsZXIncyBiZWhhbGYKICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QKICAvLy8gQHBhcmFtIF9zcGVuZGVyIEFkZHJlc3MgdG8gYXV0aG9yaXplCiAgLy8vIEBwYXJhbSBfdmFsdWUgTnVtYmVyIG9mIHRva2VucyBhdXRob3JpemVkIGFjY291bnQgbWF5IHNlbmQKICAvLy8gQHJldHVybiBUcnVlIGlmIGNvbXBsZXRlZAogIGZ1bmN0aW9uIGFwcHJvdmUoVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwgYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIHNlbGYuYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8vIEBkZXYgUmVtYWluaW5nIHRva2VucyB0aGlyZCBwYXJ0eSBzcGVuZGVyIGhhcyB0byBzZW5kCiAgLy8vIEBwYXJhbSBzZWxmIFN0b3JlZCB0b2tlbiBmcm9tIHRva2VuIGNvbnRyYWN0CiAgLy8vIEBwYXJhbSBfb3duZXIgQWRkcmVzcyBvZiB0b2tlbiBob2xkZXIKICAvLy8gQHBhcmFtIF9zcGVuZGVyIEFkZHJlc3Mgb2YgYXV0aG9yaXplZCBzcGVuZGVyCiAgLy8vIEByZXR1cm4gcmVtYWluaW5nIE51bWJlciBvZiB0b2tlbnMgc3BlbmRlciBoYXMgbGVmdCBpbiBvd25lcidzIGFjY291bnQKICBmdW5jdGlvbiBhbGxvd2FuY2UoVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwgYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gc2VsZi5hbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCiAgLy8vIEBkZXYgQXV0aG9yaXplIHRoaXJkIHBhcnR5IHRyYW5zZmVyIGJ5IGluY3JlYXNpbmcvZGVjcmVhc2luZyBhbGxvd2VkIHJhdGhlciB0aGFuIHNldHRpbmcgaXQKICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QKICAvLy8gQHBhcmFtIF9zcGVuZGVyIEFkZHJlc3MgdG8gYXV0aG9yaXplCiAgLy8vIEBwYXJhbSBfdmFsdWVDaGFuZ2UgSW5jcmVhc2Ugb3IgZGVjcmVhc2UgaW4gbnVtYmVyIG9mIHRva2VucyBhdXRob3JpemVkIGFjY291bnQgbWF5IHNlbmQKICAvLy8gQHBhcmFtIF9pbmNyZWFzZSBUcnVlIGlmIGluY3JlYXNpbmcgYWxsb3dhbmNlLCBmYWxzZSBpZiBkZWNyZWFzaW5nIGFsbG93YW5jZQogIC8vLyBAcmV0dXJuIFRydWUgaWYgY29tcGxldGVkCiAgZnVuY3Rpb24gYXBwcm92ZUNoYW5nZSAoVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwgYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWVDaGFuZ2UsIGJvb2wgX2luY3JlYXNlKQogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybnMgKGJvb2wpCiAgewogICAgdWludDI1NiBfbmV3QWxsb3dlZDsKICAgIGJvb2wgZXJyOwoKICAgIGlmKF9pbmNyZWFzZSkgewogICAgICAoZXJyLCBfbmV3QWxsb3dlZCkgPSBzZWxmLmFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLnBsdXMoX3ZhbHVlQ2hhbmdlKTsKICAgICAgcmVxdWlyZSghZXJyKTsKCiAgICAgIHNlbGYuYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfbmV3QWxsb3dlZDsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChfdmFsdWVDaGFuZ2UgPiBzZWxmLmFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKSB7CiAgICAgICAgc2VsZi5hbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX25ld0FsbG93ZWQgPSBzZWxmLmFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdIC0gX3ZhbHVlQ2hhbmdlOwogICAgICAgIHNlbGYuYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfbmV3QWxsb3dlZDsKICAgICAgfQogICAgfQoKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfbmV3QWxsb3dlZCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8vLyBAZGV2IENoYW5nZSBvd25pbmcgYWRkcmVzcyBvZiB0aGUgdG9rZW4gY29udHJhY3QsIHNwZWNpZmljYWxseSBmb3IgbWludGluZwogIC8vLyBAcGFyYW0gc2VsZiBTdG9yZWQgdG9rZW4gZnJvbSB0b2tlbiBjb250cmFjdAogIC8vLyBAcGFyYW0gX25ld093bmVyIEFkZHJlc3MgZm9yIHRoZSBuZXcgb3duZXIKICAvLy8gQHJldHVybiBUcnVlIGlmIGNvbXBsZXRlZAogIGZ1bmN0aW9uIGNoYW5nZU93bmVyKFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYsIGFkZHJlc3MgX25ld093bmVyKSByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKChzZWxmLm93bmVyID09IG1zZy5zZW5kZXIpICYmIChfbmV3T3duZXIgPiAwKSk7CgogICAgc2VsZi5vd25lciA9IF9uZXdPd25lcjsKICAgIE93bmVyQ2hhbmdlKG1zZy5zZW5kZXIsIF9uZXdPd25lcik7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8vLyBAZGV2IE1pbnRzIGFkZGl0aW9uYWwgdG9rZW5zLCBuZXcgdG9rZW5zIGdvIHRvIG93bmVyCiAgLy8vIEBwYXJhbSBzZWxmIFN0b3JlZCB0b2tlbiBmcm9tIHRva2VuIGNvbnRyYWN0CiAgLy8vIEBwYXJhbSBfYW1vdW50IE51bWJlciBvZiB0b2tlbnMgdG8gbWludAogIC8vLyBAcmV0dXJuIFRydWUgaWYgY29tcGxldGVkCiAgZnVuY3Rpb24gbWludFRva2VuKFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYsIHVpbnQyNTYgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZSgoc2VsZi5vd25lciA9PSBtc2cuc2VuZGVyKSAmJiBzZWxmLnN0aWxsTWludGluZyk7CiAgICB1aW50MjU2IF9uZXdBbW91bnQ7CiAgICBib29sIGVycjsKCiAgICAoZXJyLCBfbmV3QW1vdW50KSA9IHNlbGYudG90YWxTdXBwbHkucGx1cyhfYW1vdW50KTsKICAgIHJlcXVpcmUoIWVycik7CgogICAgc2VsZi50b3RhbFN1cHBseSA9ICBfbmV3QW1vdW50OwogICAgc2VsZi5iYWxhbmNlc1tzZWxmLm93bmVyXSA9IHNlbGYuYmFsYW5jZXNbc2VsZi5vd25lcl0gKyBfYW1vdW50OwogICAgVHJhbnNmZXIoMHgwLCBzZWxmLm93bmVyLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8vIEBkZXYgUGVybWFuZW50IHN0b3BzIG1pbnRpbmcKICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QKICAvLy8gQHJldHVybiBUcnVlIGlmIGNvbXBsZXRlZAogIGZ1bmN0aW9uIGNsb3NlTWludChUb2tlblN0b3JhZ2Ugc3RvcmFnZSBzZWxmKSByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKHNlbGYub3duZXIgPT0gbXNnLnNlbmRlcik7CgogICAgc2VsZi5zdGlsbE1pbnRpbmcgPSBmYWxzZTsKICAgIE1pbnRpbmdDbG9zZWQodHJ1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8vLyBAZGV2IFBlcm1hbmVudGx5IGJ1cm4gdG9rZW5zCiAgLy8vIEBwYXJhbSBzZWxmIFN0b3JlZCB0b2tlbiBmcm9tIHRva2VuIGNvbnRyYWN0CiAgLy8vIEBwYXJhbSBfYW1vdW50IEFtb3VudCBvZiB0b2tlbnMgdG8gYnVybgogIC8vLyBAcmV0dXJuIFRydWUgaWYgY29tcGxldGVkCiAgZnVuY3Rpb24gYnVyblRva2VuKFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYsIHVpbnQyNTYgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCkgewogICAgICB1aW50MjU2IF9uZXdCYWxhbmNlOwogICAgICBib29sIGVycjsKCiAgICAgIChlcnIsIF9uZXdCYWxhbmNlKSA9IHNlbGYuYmFsYW5jZXNbbXNnLnNlbmRlcl0ubWludXMoX2Ftb3VudCk7CiAgICAgIHJlcXVpcmUoIWVycik7CgogICAgICBzZWxmLmJhbGFuY2VzW21zZy5zZW5kZXJdID0gX25ld0JhbGFuY2U7CiAgICAgIHNlbGYudG90YWxTdXBwbHkgPSBzZWxmLnRvdGFsU3VwcGx5IC0gX2Ftb3VudDsKICAgICAgQnVybihtc2cuc2VuZGVyLCBfYW1vdW50KTsKICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgMHgwLCBfYW1vdW50KTsKICAgICAgcmV0dXJuIHRydWU7CiAgfQp9CnByYWdtYSBzb2xpZGl0eSBeMC40LjEzOwoKLyoqCiAqIEB0aXRsZSBCYXNpYyBNYXRoIExpYnJhcnkKICogQGF1dGhvciBNYWpvb2xyLmlvCiAqCiAqIHZlcnNpb24gMS4xLjAKICogQ29weXJpZ2h0IChjKSAyMDE3IE1ham9vbHIsIExMQwogKiBUaGUgTUlUIExpY2Vuc2UgKE1JVCkKICogaHR0cHM6Ly9naXRodWIuY29tL01ham9vbHIvZXRoZXJldW0tbGlicmFyaWVzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UKICoKICogVGhlIEJhc2ljIE1hdGggTGlicmFyeSBpcyBpbnNwaXJlZCBieSB0aGUgU2FmZSBNYXRoIGxpYnJhcnkgd3JpdHRlbiBieQogKiBPcGVuWmVwcGVsaW4gYXQgaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS8gLgogKiBNYWpvb2xyIHdvcmtzIG9uIG9wZW4gc291cmNlIHByb2plY3RzIGluIHRoZSBFdGhlcmV1bSBjb21tdW5pdHkgd2l0aCB0aGUKICogcHVycG9zZSBvZiB0ZXN0aW5nLCBkb2N1bWVudGluZywgYW5kIGRlcGxveWluZyByZXVzYWJsZSBjb2RlIG9udG8gdGhlCiAqIGJsb2NrY2hhaW4gdG8gaW1wcm92ZSBzZWN1cml0eSBhbmQgdXNhYmlsaXR5IG9mIHNtYXJ0IGNvbnRyYWN0cy4gTWFqb29scgogKiBhbHNvIHN0cml2ZXMgdG8gZWR1Y2F0ZSBub24tcHJvZml0cywgc2Nob29scywgYW5kIG90aGVyIGNvbW11bml0eSBtZW1iZXJzCiAqIGFib3V0IHRoZSBhcHBsaWNhdGlvbiBvZiBibG9ja2NoYWluIHRlY2hub2xvZ3kuCiAqIEZvciBmdXJ0aGVyIGluZm9ybWF0aW9uOiBtYWpvb2xyLmlvLCBvcGVuemVwcGVsaW4ub3JnCiAqCiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTCiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YKICogTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULgogKiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWQogKiBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULAogKiBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRQogKiBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4KICovCgpsaWJyYXJ5IEJhc2ljTWF0aExpYiB7CiAgZXZlbnQgRXJyKHN0cmluZyB0eXBlRXJyKTsKCiAgLy8vIEBkZXYgTXVsdGlwbGllcyB0d28gbnVtYmVycyBhbmQgY2hlY2tzIGZvciBvdmVyZmxvdyBiZWZvcmUgcmV0dXJuaW5nLgogIC8vLyBEb2VzIG5vdCB0aHJvdyBidXQgcmF0aGVyIGxvZ3MgYW4gRXJyIGV2ZW50IGlmIHRoZXJlIGlzIG92ZXJmbG93LgogIC8vLyBAcGFyYW0gYSBGaXJzdCBudW1iZXIKICAvLy8gQHBhcmFtIGIgU2Vjb25kIG51bWJlcgogIC8vLyBAcmV0dXJuIGVyciBGYWxzZSBub3JtYWxseSwgb3IgdHJ1ZSBpZiB0aGVyZSBpcyBvdmVyZmxvdwogIC8vLyBAcmV0dXJuIHJlcyBUaGUgcHJvZHVjdCBvZiBhIGFuZCBiLCBvciAwIGlmIHRoZXJlIGlzIG92ZXJmbG93CiAgZnVuY3Rpb24gdGltZXModWludDI1NiBhLCB1aW50MjU2IGIpIGNvbnN0YW50IHJldHVybnMgKGJvb2wgZXJyLHVpbnQyNTYgcmVzKSB7CiAgICBhc3NlbWJseXsKICAgICAgcmVzIDo9IG11bChhLGIpCiAgICAgIHN3aXRjaCBvcihpc3plcm8oYiksIGVxKGRpdihyZXMsYiksIGEpKQogICAgICBjYXNlIDAgewogICAgICAgIGVyciA6PSAxCiAgICAgICAgcmVzIDo9IDAKICAgICAgfQogICAgfQogICAgaWYgKGVycikKICAgICAgRXJyKCJ0aW1lcyBmdW5jIG92ZXJmbG93Iik7CiAgfQoKICAvLy8gQGRldiBEaXZpZGVzIHR3byBudW1iZXJzIGJ1dCBjaGVja3MgZm9yIDAgaW4gdGhlIGRpdmlzb3IgZmlyc3QuCiAgLy8vIERvZXMgbm90IHRocm93IGJ1dCByYXRoZXIgbG9ncyBhbiBFcnIgZXZlbnQgaWYgMCBpcyBpbiB0aGUgZGl2aXNvci4KICAvLy8gQHBhcmFtIGEgRmlyc3QgbnVtYmVyCiAgLy8vIEBwYXJhbSBiIFNlY29uZCBudW1iZXIKICAvLy8gQHJldHVybiBlcnIgRmFsc2Ugbm9ybWFsbHksIG9yIHRydWUgaWYgYGJgIGlzIDAKICAvLy8gQHJldHVybiByZXMgVGhlIHF1b3RpZW50IG9mIGEgYW5kIGIsIG9yIDAgaWYgYGJgIGlzIDAKICBmdW5jdGlvbiBkaXZpZGVkQnkodWludDI1NiBhLCB1aW50MjU2IGIpIGNvbnN0YW50IHJldHVybnMgKGJvb2wgZXJyLHVpbnQyNTYgcmVzKSB7CiAgICBhc3NlbWJseXsKICAgICAgc3dpdGNoIGlzemVybyhiKQogICAgICBjYXNlIDAgewogICAgICAgIHJlcyA6PSBkaXYoYSxiKQogICAgICAgIG1zdG9yZShhZGQobWxvYWQoMHg0MCksMHgyMCkscmVzKQogICAgICAgIHJldHVybihtbG9hZCgweDQwKSwweDQwKQogICAgICB9CiAgICB9CiAgICBFcnIoInRyaWVkIHRvIGRpdmlkZSBieSB6ZXJvIik7CiAgICByZXR1cm4gKHRydWUsIDApOwogIH0KCiAgLy8vIEBkZXYgQWRkcyB0d28gbnVtYmVycyBhbmQgY2hlY2tzIGZvciBvdmVyZmxvdyBiZWZvcmUgcmV0dXJuaW5nLgogIC8vLyBEb2VzIG5vdCB0aHJvdyBidXQgcmF0aGVyIGxvZ3MgYW4gRXJyIGV2ZW50IGlmIHRoZXJlIGlzIG92ZXJmbG93LgogIC8vLyBAcGFyYW0gYSBGaXJzdCBudW1iZXIKICAvLy8gQHBhcmFtIGIgU2Vjb25kIG51bWJlcgogIC8vLyBAcmV0dXJuIGVyciBGYWxzZSBub3JtYWxseSwgb3IgdHJ1ZSBpZiB0aGVyZSBpcyBvdmVyZmxvdwogIC8vLyBAcmV0dXJuIHJlcyBUaGUgc3VtIG9mIGEgYW5kIGIsIG9yIDAgaWYgdGhlcmUgaXMgb3ZlcmZsb3cKICBmdW5jdGlvbiBwbHVzKHVpbnQyNTYgYSwgdWludDI1NiBiKSBjb25zdGFudCByZXR1cm5zIChib29sIGVyciwgdWludDI1NiByZXMpIHsKICAgIGFzc2VtYmx5ewogICAgICByZXMgOj0gYWRkKGEsYikKICAgICAgc3dpdGNoIGFuZChlcShzdWIocmVzLGIpLCBhKSwgb3IoZ3QocmVzLGIpLGVxKHJlcyxiKSkpCiAgICAgIGNhc2UgMCB7CiAgICAgICAgZXJyIDo9IDEKICAgICAgICByZXMgOj0gMAogICAgICB9CiAgICB9CiAgICBpZiAoZXJyKQogICAgICBFcnIoInBsdXMgZnVuYyBvdmVyZmxvdyIpOwogIH0KCiAgLy8vIEBkZXYgU3VidHJhY3RzIHR3byBudW1iZXJzIGFuZCBjaGVja3MgZm9yIHVuZGVyZmxvdyBiZWZvcmUgcmV0dXJuaW5nLgogIC8vLyBEb2VzIG5vdCB0aHJvdyBidXQgcmF0aGVyIGxvZ3MgYW4gRXJyIGV2ZW50IGlmIHRoZXJlIGlzIHVuZGVyZmxvdy4KICAvLy8gQHBhcmFtIGEgRmlyc3QgbnVtYmVyCiAgLy8vIEBwYXJhbSBiIFNlY29uZCBudW1iZXIKICAvLy8gQHJldHVybiBlcnIgRmFsc2Ugbm9ybWFsbHksIG9yIHRydWUgaWYgdGhlcmUgaXMgdW5kZXJmbG93CiAgLy8vIEByZXR1cm4gcmVzIFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gYSBhbmQgYiwgb3IgMCBpZiB0aGVyZSBpcyB1bmRlcmZsb3cKICBmdW5jdGlvbiBtaW51cyh1aW50MjU2IGEsIHVpbnQyNTYgYikgY29uc3RhbnQgcmV0dXJucyAoYm9vbCBlcnIsdWludDI1NiByZXMpIHsKICAgIGFzc2VtYmx5ewogICAgICByZXMgOj0gc3ViKGEsYikKICAgICAgc3dpdGNoIGVxKGFuZChlcShhZGQocmVzLGIpLCBhKSwgb3IobHQocmVzLGEpLCBlcShyZXMsYSkpKSwgMSkKICAgICAgY2FzZSAwIHsKICAgICAgICBlcnIgOj0gMQogICAgICAgIHJlcyA6PSAwCiAgICAgIH0KICAgIH0KICAgIGlmIChlcnIpCiAgICAgIEVycigibWludXMgZnVuYyB1bmRlcmZsb3ciKTsKICB9Cn0='.
	

]
