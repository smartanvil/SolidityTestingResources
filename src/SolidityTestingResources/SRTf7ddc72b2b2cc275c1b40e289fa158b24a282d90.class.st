Class {
	#name : #SRTf7ddc72b2b2cc275c1b40e289fa158b24a282d90,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTf7ddc72b2b2cc275c1b40e289fa158b24a282d90 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyBGaWxlOiB6ZXBwZWxpbi1zb2xpZGl0eS9jb250cmFjdHMvb3duZXJzaGlwL093bmFibGUuc29sCgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKLy8gRmlsZTogemVwcGVsaW4tc29saWRpdHkvY29udHJhY3RzL3Rva2VuL0VSQzcyMS9FUkM3MjEuc29sCgovKioKICogQHRpdGxlIEVSQzcyMSBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL2VpcHMvaXNzdWVzLzcyMQogKi8KY29udHJhY3QgRVJDNzIxIHsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfYXBwcm92ZWQsIHVpbnQyNTYgX3Rva2VuSWQpOwoKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgX2JhbGFuY2UpOwogIGZ1bmN0aW9uIG93bmVyT2YodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcyBfb3duZXIpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBwdWJsaWM7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgcHVibGljOwogIGZ1bmN0aW9uIHRha2VPd25lcnNoaXAodWludDI1NiBfdG9rZW5JZCkgcHVibGljOwp9CgovLyBGaWxlOiBjb250cmFjdHMvTWFya2V0cGxhY2Uuc29sCgpjb250cmFjdCBNYXJrZXRwbGFjZSBpcyBPd25hYmxlIHsKICAgIEVSQzcyMSBwdWJsaWMgbmZ0OwoKICAgIG1hcHBpbmcgKHVpbnQyNTYgPT4gTGlzdGluZykgcHVibGljIGxpc3RpbmdzOwoKICAgIHVpbnQyNTYgcHVibGljIG1pbkxpc3RpbmdTZWNvbmRzOwogICAgdWludDI1NiBwdWJsaWMgbWF4TGlzdGluZ1NlY29uZHM7CgogICAgc3RydWN0IExpc3RpbmcgewogICAgICAgIGFkZHJlc3Mgc2VsbGVyOwogICAgICAgIHVpbnQyNTYgc3RhcnRpbmdQcmljZTsKICAgICAgICB1aW50MjU2IG1pbmltdW1QcmljZTsKICAgICAgICB1aW50MjU2IGNyZWF0ZWRBdDsKICAgICAgICB1aW50MjU2IGR1cmF0aW9uU2Vjb25kczsKICAgIH0KCiAgICBldmVudCBUb2tlbkxpc3RlZCh1aW50MjU2IGluZGV4ZWQgX3Rva2VuSWQsIHVpbnQyNTYgX3N0YXJ0aW5nUHJpY2UsIHVpbnQyNTYgX21pbmltdW1QcmljZSwgdWludDI1NiBfZHVyYXRpb25TZWNvbmRzLCBhZGRyZXNzIF9zZWxsZXIpOwogICAgZXZlbnQgVG9rZW5Vbmxpc3RlZCh1aW50MjU2IGluZGV4ZWQgX3Rva2VuSWQsIGFkZHJlc3MgX3VubGlzdGVyKTsKICAgIGV2ZW50IFRva2VuU29sZCh1aW50MjU2IGluZGV4ZWQgX3Rva2VuSWQsIHVpbnQyNTYgX3ByaWNlLCB1aW50MjU2IF9wYWlkQW1vdW50LCBhZGRyZXNzIGluZGV4ZWQgX3NlbGxlciwgYWRkcmVzcyBfYnV5ZXIpOwoKICAgIG1vZGlmaWVyIG5mdE9ubHkoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGFkZHJlc3MobmZ0KSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBNYXJrZXRwbGFjZShFUkM3MjEgX25mdCwgdWludDI1NiBfbWluTGlzdGluZ1NlY29uZHMsIHVpbnQyNTYgX21heExpc3RpbmdTZWNvbmRzKSBwdWJsaWMgewogICAgICAgIG5mdCA9IF9uZnQ7CiAgICAgICAgbWluTGlzdGluZ1NlY29uZHMgPSBfbWluTGlzdGluZ1NlY29uZHM7CiAgICAgICAgbWF4TGlzdGluZ1NlY29uZHMgPSBfbWF4TGlzdGluZ1NlY29uZHM7CiAgICB9CgogICAgZnVuY3Rpb24gbGlzdChhZGRyZXNzIF90b2tlblNlbGxlciwgdWludDI1NiBfdG9rZW5JZCwgdWludDI1NiBfc3RhcnRpbmdQcmljZSwgdWludDI1NiBfbWluaW11bVByaWNlLCB1aW50MjU2IF9kdXJhdGlvblNlY29uZHMpIHB1YmxpYyBuZnRPbmx5IHsKICAgICAgICByZXF1aXJlKF9kdXJhdGlvblNlY29uZHMgPj0gbWluTGlzdGluZ1NlY29uZHMgJiYgX2R1cmF0aW9uU2Vjb25kcyA8PSBtYXhMaXN0aW5nU2Vjb25kcyk7CiAgICAgICAgcmVxdWlyZShfc3RhcnRpbmdQcmljZSA+PSBfbWluaW11bVByaWNlKTsKICAgICAgICByZXF1aXJlKCEgbGlzdGluZ0FjdGl2ZShfdG9rZW5JZCkpOwogICAgICAgIGxpc3RpbmdzW190b2tlbklkXSA9IExpc3RpbmcoX3Rva2VuU2VsbGVyLCBfc3RhcnRpbmdQcmljZSwgX21pbmltdW1QcmljZSwgbm93LCBfZHVyYXRpb25TZWNvbmRzKTsKICAgICAgICBuZnQudGFrZU93bmVyc2hpcChfdG9rZW5JZCk7CiAgICAgICAgVG9rZW5MaXN0ZWQoX3Rva2VuSWQsIF9zdGFydGluZ1ByaWNlLCBfbWluaW11bVByaWNlLCBfZHVyYXRpb25TZWNvbmRzLCBfdG9rZW5TZWxsZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIHVubGlzdChhZGRyZXNzIF9jYWxsZXIsIHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyBuZnRPbmx5IHsKICAgICAgICBhZGRyZXNzIF9zZWxsZXIgPSBsaXN0aW5nc1tfdG9rZW5JZF0uc2VsbGVyOwogICAgICAgIC8vIEFsbG93IG93bmVyIHRvIHVubGlzdCAodmlhIG5mdCkgZm9yIHdoZW4gaXQncyB0aW1lIHRvIHNodXQgdGhpcyBkb3duCiAgICAgICAgcmVxdWlyZShfc2VsbGVyID09IF9jYWxsZXIgfHwgYWRkcmVzcyhvd25lcikgPT0gX2NhbGxlcik7CiAgICAgICAgbmZ0LnRyYW5zZmVyKF9zZWxsZXIsIF90b2tlbklkKTsKICAgICAgICBkZWxldGUgbGlzdGluZ3NbX3Rva2VuSWRdOwogICAgICAgIFRva2VuVW5saXN0ZWQoX3Rva2VuSWQsIF9jYWxsZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIHB1cmNoYXNlKGFkZHJlc3MgX2NhbGxlciwgdWludDI1NiBfdG9rZW5JZCwgdWludDI1NiBfdG90YWxQYWlkKSBwdWJsaWMgcGF5YWJsZSBuZnRPbmx5IHsKICAgICAgICBMaXN0aW5nIG1lbW9yeSBfbGlzdGluZyA9IGxpc3RpbmdzW190b2tlbklkXTsKICAgICAgICBhZGRyZXNzIF9zZWxsZXIgPSBfbGlzdGluZy5zZWxsZXI7CgogICAgICAgIHJlcXVpcmUoX2NhbGxlciAhPSBfc2VsbGVyKTsgLy8gRG9lc24ndCBtYWtlIHNlbnNlIGZvciBzb21lb25lIHRvIGJ1eS9zZWxsIHRoZWlyIG93biB0b2tlbi4KICAgICAgICByZXF1aXJlKGxpc3RpbmdBY3RpdmUoX3Rva2VuSWQpKTsKCiAgICAgICAgdWludDI1NiBfcHJpY2UgPSBjdXJyZW50UHJpY2UoX3Rva2VuSWQpOwogICAgICAgIHJlcXVpcmUoX3RvdGFsUGFpZCA+PSBfcHJpY2UpOwoKICAgICAgICBkZWxldGUgbGlzdGluZ3NbX3Rva2VuSWRdOwoKICAgICAgICBuZnQudHJhbnNmZXIoX2NhbGxlciwgX3Rva2VuSWQpOwogICAgICAgIF9zZWxsZXIudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgICAgICBUb2tlblNvbGQoX3Rva2VuSWQsIF9wcmljZSwgX3RvdGFsUGFpZCwgX3NlbGxlciwgX2NhbGxlcik7CiAgICB9CgogICAgZnVuY3Rpb24gY3VycmVudFByaWNlKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBMaXN0aW5nIG1lbW9yeSBsaXN0aW5nID0gbGlzdGluZ3NbX3Rva2VuSWRdOwogICAgICAgIHJlcXVpcmUobm93ID49IGxpc3RpbmcuY3JlYXRlZEF0KTsKCiAgICAgICAgdWludDI1NiBfZGVhZGxpbmUgPSBsaXN0aW5nLmNyZWF0ZWRBdCArIGxpc3RpbmcuZHVyYXRpb25TZWNvbmRzOwogICAgICAgIHJlcXVpcmUobm93IDw9IF9kZWFkbGluZSk7CgogICAgICAgIHVpbnQyNTYgX2VsYXBzZWRUaW1lID0gbm93IC0gbGlzdGluZy5jcmVhdGVkQXQ7CiAgICAgICAgdWludDI1NiBfcHJvZ3Jlc3MgPSAoX2VsYXBzZWRUaW1lICogMTAwKSAvIGxpc3RpbmcuZHVyYXRpb25TZWNvbmRzOwogICAgICAgIHVpbnQyNTYgX2RlbHRhID0gbGlzdGluZy5zdGFydGluZ1ByaWNlIC0gbGlzdGluZy5taW5pbXVtUHJpY2U7CiAgICAgICAgcmV0dXJuIGxpc3Rpbmcuc3RhcnRpbmdQcmljZSAtICgoX2RlbHRhICogX3Byb2dyZXNzKSAvIDEwMCk7CiAgICB9CgogICAgZnVuY3Rpb24gbGlzdGluZ0FjdGl2ZSh1aW50MjU2IF90b2tlbklkKSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICBMaXN0aW5nIG1lbW9yeSBsaXN0aW5nID0gbGlzdGluZ3NbX3Rva2VuSWRdOwogICAgICAgIHJldHVybiBsaXN0aW5nLmNyZWF0ZWRBdCArIGxpc3RpbmcuZHVyYXRpb25TZWNvbmRzID49IG5vdyAmJiBub3cgPj0gbGlzdGluZy5jcmVhdGVkQXQ7CiAgICB9Cn0KCi8vIEZpbGU6IHplcHBlbGluLXNvbGlkaXR5L2NvbnRyYWN0cy9saWZlY3ljbGUvUGF1c2FibGUuc29sCgovKioKICogQHRpdGxlIFBhdXNhYmxlCiAqIEBkZXYgQmFzZSBjb250cmFjdCB3aGljaCBhbGxvd3MgY2hpbGRyZW4gdG8gaW1wbGVtZW50IGFuIGVtZXJnZW5jeSBzdG9wIG1lY2hhbmlzbS4KICovCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgewogIGV2ZW50IFBhdXNlKCk7CiAgZXZlbnQgVW5wYXVzZSgpOwoKICBib29sIHB1YmxpYyBwYXVzZWQgPSBmYWxzZTsKCgogIC8qKgogICAqIEBkZXYgTW9kaWZpZXIgdG8gbWFrZSBhIGZ1bmN0aW9uIGNhbGxhYmxlIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgaXMgbm90IHBhdXNlZC4KICAgKi8KICBtb2RpZmllciB3aGVuTm90UGF1c2VkKCkgewogICAgcmVxdWlyZSghcGF1c2VkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRvIG1ha2UgYSBmdW5jdGlvbiBjYWxsYWJsZSBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IGlzIHBhdXNlZC4KICAgKi8KICBtb2RpZmllciB3aGVuUGF1c2VkKCkgewogICAgcmVxdWlyZShwYXVzZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byBwYXVzZSwgdHJpZ2dlcnMgc3RvcHBlZCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHBhdXNlKCkgb25seU93bmVyIHdoZW5Ob3RQYXVzZWQgcHVibGljIHsKICAgIHBhdXNlZCA9IHRydWU7CiAgICBQYXVzZSgpOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHVucGF1c2UsIHJldHVybnMgdG8gbm9ybWFsIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gdW5wYXVzZSgpIG9ubHlPd25lciB3aGVuUGF1c2VkIHB1YmxpYyB7CiAgICBwYXVzZWQgPSBmYWxzZTsKICAgIFVucGF1c2UoKTsKICB9Cn0KCi8vIEZpbGU6IHplcHBlbGluLXNvbGlkaXR5L2NvbnRyYWN0cy9tYXRoL1NhZmVNYXRoLnNvbAoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CgogIC8qKgogICogQGRldiBNdWx0aXBsaWVzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICAvKioKICAqIEBkZXYgSW50ZWdlciBkaXZpc2lvbiBvZiB0d28gbnVtYmVycywgdHJ1bmNhdGluZyB0aGUgcXVvdGllbnQuCiAgKi8KICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIC8qKgogICogQGRldiBTdWJzdHJhY3RzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cgKGkuZS4gaWYgc3VidHJhaGVuZCBpcyBncmVhdGVyIHRoYW4gbWludWVuZCkuCiAgKi8KICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICAvKioKICAqIEBkZXYgQWRkcyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93LgogICovCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCi8vIEZpbGU6IHplcHBlbGluLXNvbGlkaXR5L2NvbnRyYWN0cy90b2tlbi9FUkM3MjEvRVJDNzIxVG9rZW4uc29sCgovKioKICogQHRpdGxlIEVSQzcyMVRva2VuCiAqIEdlbmVyaWMgaW1wbGVtZW50YXRpb24gZm9yIHRoZSByZXF1aXJlZCBmdW5jdGlvbmFsaXR5IG9mIHRoZSBFUkM3MjEgc3RhbmRhcmQKICovCmNvbnRyYWN0IEVSQzcyMVRva2VuIGlzIEVSQzcyMSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIC8vIFRvdGFsIGFtb3VudCBvZiB0b2tlbnMKICB1aW50MjU2IHByaXZhdGUgdG90YWxUb2tlbnM7CgogIC8vIE1hcHBpbmcgZnJvbSB0b2tlbiBJRCB0byBvd25lcgogIG1hcHBpbmcgKHVpbnQyNTYgPT4gYWRkcmVzcykgcHJpdmF0ZSB0b2tlbk93bmVyOwoKICAvLyBNYXBwaW5nIGZyb20gdG9rZW4gSUQgdG8gYXBwcm92ZWQgYWRkcmVzcwogIG1hcHBpbmcgKHVpbnQyNTYgPT4gYWRkcmVzcykgcHJpdmF0ZSB0b2tlbkFwcHJvdmFsczsKCiAgLy8gTWFwcGluZyBmcm9tIG93bmVyIHRvIGxpc3Qgb2Ygb3duZWQgdG9rZW4gSURzCiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2W10pIHByaXZhdGUgb3duZWRUb2tlbnM7CgogIC8vIE1hcHBpbmcgZnJvbSB0b2tlbiBJRCB0byBpbmRleCBvZiB0aGUgb3duZXIgdG9rZW5zIGxpc3QKICBtYXBwaW5nKHVpbnQyNTYgPT4gdWludDI1NikgcHJpdmF0ZSBvd25lZFRva2Vuc0luZGV4OwoKICAvKioKICAqIEBkZXYgR3VhcmFudGVlcyBtc2cuc2VuZGVyIGlzIG93bmVyIG9mIHRoZSBnaXZlbiB0b2tlbgogICogQHBhcmFtIF90b2tlbklkIHVpbnQyNTYgSUQgb2YgdGhlIHRva2VuIHRvIHZhbGlkYXRlIGl0cyBvd25lcnNoaXAgYmVsb25ncyB0byBtc2cuc2VuZGVyCiAgKi8KICBtb2RpZmllciBvbmx5T3duZXJPZih1aW50MjU2IF90b2tlbklkKSB7CiAgICByZXF1aXJlKG93bmVyT2YoX3Rva2VuSWQpID09IG1zZy5zZW5kZXIpOwogICAgXzsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSB0b3RhbCBhbW91bnQgb2YgdG9rZW5zIHN0b3JlZCBieSB0aGUgY29udHJhY3QKICAqIEByZXR1cm4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIHRvdGFsIGFtb3VudCBvZiB0b2tlbnMKICAqLwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIHRvdGFsVG9rZW5zOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgdG8gcXVlcnkgdGhlIGJhbGFuY2Ugb2YKICAqIEByZXR1cm4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MKICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIG93bmVkVG9rZW5zW19vd25lcl0ubGVuZ3RoOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGxpc3Qgb2YgdG9rZW5zIG93bmVkIGJ5IGEgZ2l2ZW4gYWRkcmVzcwogICogQHBhcmFtIF9vd25lciBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0b2tlbnMgb2YKICAqIEByZXR1cm4gdWludDI1NltdIHJlcHJlc2VudGluZyB0aGUgbGlzdCBvZiB0b2tlbnMgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzCiAgKi8KICBmdW5jdGlvbiB0b2tlbnNPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NltdKSB7CiAgICByZXR1cm4gb3duZWRUb2tlbnNbX293bmVyXTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBvd25lciBvZiB0aGUgc3BlY2lmaWVkIHRva2VuIElECiAgKiBAcGFyYW0gX3Rva2VuSWQgdWludDI1NiBJRCBvZiB0aGUgdG9rZW4gdG8gcXVlcnkgdGhlIG93bmVyIG9mCiAgKiBAcmV0dXJuIG93bmVyIGFkZHJlc3MgY3VycmVudGx5IG1hcmtlZCBhcyB0aGUgb3duZXIgb2YgdGhlIGdpdmVuIHRva2VuIElECiAgKi8KICBmdW5jdGlvbiBvd25lck9mKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKGFkZHJlc3MpIHsKICAgIGFkZHJlc3Mgb3duZXIgPSB0b2tlbk93bmVyW190b2tlbklkXTsKICAgIHJlcXVpcmUob3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICByZXR1cm4gb3duZXI7CiAgfQoKICAvKioKICAgKiBAZGV2IEdldHMgdGhlIGFwcHJvdmVkIGFkZHJlc3MgdG8gdGFrZSBvd25lcnNoaXAgb2YgYSBnaXZlbiB0b2tlbiBJRAogICAqIEBwYXJhbSBfdG9rZW5JZCB1aW50MjU2IElEIG9mIHRoZSB0b2tlbiB0byBxdWVyeSB0aGUgYXBwcm92YWwgb2YKICAgKiBAcmV0dXJuIGFkZHJlc3MgY3VycmVudGx5IGFwcHJvdmVkIHRvIHRha2Ugb3duZXJzaGlwIG9mIHRoZSBnaXZlbiB0b2tlbiBJRAogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmVkRm9yKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKGFkZHJlc3MpIHsKICAgIHJldHVybiB0b2tlbkFwcHJvdmFsc1tfdG9rZW5JZF07CiAgfQoKICAvKioKICAqIEBkZXYgVHJhbnNmZXJzIHRoZSBvd25lcnNoaXAgb2YgYSBnaXZlbiB0b2tlbiBJRCB0byBhbm90aGVyIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gYWRkcmVzcyB0byByZWNlaXZlIHRoZSBvd25lcnNoaXAgb2YgdGhlIGdpdmVuIHRva2VuIElECiAgKiBAcGFyYW0gX3Rva2VuSWQgdWludDI1NiBJRCBvZiB0aGUgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgb25seU93bmVyT2YoX3Rva2VuSWQpIHsKICAgIGNsZWFyQXBwcm92YWxBbmRUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF90b2tlbklkKTsKICB9CgogIC8qKgogICogQGRldiBBcHByb3ZlcyBhbm90aGVyIGFkZHJlc3MgdG8gY2xhaW0gZm9yIHRoZSBvd25lcnNoaXAgb2YgdGhlIGdpdmVuIHRva2VuIElECiAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgdG8gYmUgYXBwcm92ZWQgZm9yIHRoZSBnaXZlbiB0b2tlbiBJRAogICogQHBhcmFtIF90b2tlbklkIHVpbnQyNTYgSUQgb2YgdGhlIHRva2VuIHRvIGJlIGFwcHJvdmVkCiAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgb25seU93bmVyT2YoX3Rva2VuSWQpIHsKICAgIGFkZHJlc3Mgb3duZXIgPSBvd25lck9mKF90b2tlbklkKTsKICAgIHJlcXVpcmUoX3RvICE9IG93bmVyKTsKICAgIGlmIChhcHByb3ZlZEZvcihfdG9rZW5JZCkgIT0gMCB8fCBfdG8gIT0gMCkgewogICAgICB0b2tlbkFwcHJvdmFsc1tfdG9rZW5JZF0gPSBfdG87CiAgICAgIEFwcHJvdmFsKG93bmVyLCBfdG8sIF90b2tlbklkKTsKICAgIH0KICB9CgogIC8qKgogICogQGRldiBDbGFpbXMgdGhlIG93bmVyc2hpcCBvZiBhIGdpdmVuIHRva2VuIElECiAgKiBAcGFyYW0gX3Rva2VuSWQgdWludDI1NiBJRCBvZiB0aGUgdG9rZW4gYmVpbmcgY2xhaW1lZCBieSB0aGUgbXNnLnNlbmRlcgogICovCiAgZnVuY3Rpb24gdGFrZU93bmVyc2hpcCh1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgewogICAgcmVxdWlyZShpc0FwcHJvdmVkRm9yKG1zZy5zZW5kZXIsIF90b2tlbklkKSk7CiAgICBjbGVhckFwcHJvdmFsQW5kVHJhbnNmZXIob3duZXJPZihfdG9rZW5JZCksIG1zZy5zZW5kZXIsIF90b2tlbklkKTsKICB9CgogIC8qKgogICogQGRldiBNaW50IHRva2VuIGZ1bmN0aW9uCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRoYXQgd2lsbCBvd24gdGhlIG1pbnRlZCB0b2tlbgogICogQHBhcmFtIF90b2tlbklkIHVpbnQyNTYgSUQgb2YgdGhlIHRva2VuIHRvIGJlIG1pbnRlZCBieSB0aGUgbXNnLnNlbmRlcgogICovCiAgZnVuY3Rpb24gX21pbnQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIGludGVybmFsIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgYWRkVG9rZW4oX3RvLCBfdG9rZW5JZCk7CiAgICBUcmFuc2ZlcigweDAsIF90bywgX3Rva2VuSWQpOwogIH0KCiAgLyoqCiAgKiBAZGV2IEJ1cm5zIGEgc3BlY2lmaWMgdG9rZW4KICAqIEBwYXJhbSBfdG9rZW5JZCB1aW50MjU2IElEIG9mIHRoZSB0b2tlbiBiZWluZyBidXJuZWQgYnkgdGhlIG1zZy5zZW5kZXIKICAqLwogIGZ1bmN0aW9uIF9idXJuKHVpbnQyNTYgX3Rva2VuSWQpIG9ubHlPd25lck9mKF90b2tlbklkKSBpbnRlcm5hbCB7CiAgICBpZiAoYXBwcm92ZWRGb3IoX3Rva2VuSWQpICE9IDApIHsKICAgICAgY2xlYXJBcHByb3ZhbChtc2cuc2VuZGVyLCBfdG9rZW5JZCk7CiAgICB9CiAgICByZW1vdmVUb2tlbihtc2cuc2VuZGVyLCBfdG9rZW5JZCk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCAweDAsIF90b2tlbklkKTsKICB9CgogIC8qKgogICAqIEBkZXYgVGVsbHMgd2hldGhlciB0aGUgbXNnLnNlbmRlciBpcyBhcHByb3ZlZCBmb3IgdGhlIGdpdmVuIHRva2VuIElEIG9yIG5vdAogICAqIFRoaXMgZnVuY3Rpb24gaXMgbm90IHByaXZhdGUgc28gaXQgY2FuIGJlIGV4dGVuZGVkIGluIGZ1cnRoZXIgaW1wbGVtZW50YXRpb25zIGxpa2UgdGhlIG9wZXJhdGFibGUgRVJDNzIxCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIG9mIHRoZSBvd25lciB0byBxdWVyeSB0aGUgYXBwcm92YWwgb2YKICAgKiBAcGFyYW0gX3Rva2VuSWQgdWludDI1NiBJRCBvZiB0aGUgdG9rZW4gdG8gcXVlcnkgdGhlIGFwcHJvdmFsIG9mCiAgICogQHJldHVybiBib29sIHdoZXRoZXIgdGhlIG1zZy5zZW5kZXIgaXMgYXBwcm92ZWQgZm9yIHRoZSBnaXZlbiB0b2tlbiBJRCBvciBub3QKICAgKi8KICBmdW5jdGlvbiBpc0FwcHJvdmVkRm9yKGFkZHJlc3MgX293bmVyLCB1aW50MjU2IF90b2tlbklkKSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBhcHByb3ZlZEZvcihfdG9rZW5JZCkgPT0gX293bmVyOwogIH0KCiAgLyoqCiAgKiBAZGV2IEludGVybmFsIGZ1bmN0aW9uIHRvIGNsZWFyIGN1cnJlbnQgYXBwcm92YWwgYW5kIHRyYW5zZmVyIHRoZSBvd25lcnNoaXAgb2YgYSBnaXZlbiB0b2tlbiBJRAogICogQHBhcmFtIF9mcm9tIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICogQHBhcmFtIF90byBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRoZSB0b2tlbiB0bwogICogQHBhcmFtIF90b2tlbklkIHVpbnQyNTYgSUQgb2YgdGhlIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgKi8KICBmdW5jdGlvbiBjbGVhckFwcHJvdmFsQW5kVHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIGludGVybmFsIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShfdG8gIT0gb3duZXJPZihfdG9rZW5JZCkpOwogICAgcmVxdWlyZShvd25lck9mKF90b2tlbklkKSA9PSBfZnJvbSk7CgogICAgY2xlYXJBcHByb3ZhbChfZnJvbSwgX3Rva2VuSWQpOwogICAgcmVtb3ZlVG9rZW4oX2Zyb20sIF90b2tlbklkKTsKICAgIGFkZFRva2VuKF90bywgX3Rva2VuSWQpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3Rva2VuSWQpOwogIH0KCiAgLyoqCiAgKiBAZGV2IEludGVybmFsIGZ1bmN0aW9uIHRvIGNsZWFyIGN1cnJlbnQgYXBwcm92YWwgb2YgYSBnaXZlbiB0b2tlbiBJRAogICogQHBhcmFtIF90b2tlbklkIHVpbnQyNTYgSUQgb2YgdGhlIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgKi8KICBmdW5jdGlvbiBjbGVhckFwcHJvdmFsKGFkZHJlc3MgX293bmVyLCB1aW50MjU2IF90b2tlbklkKSBwcml2YXRlIHsKICAgIHJlcXVpcmUob3duZXJPZihfdG9rZW5JZCkgPT0gX293bmVyKTsKICAgIHRva2VuQXBwcm92YWxzW190b2tlbklkXSA9IDA7CiAgICBBcHByb3ZhbChfb3duZXIsIDAsIF90b2tlbklkKTsKICB9CgogIC8qKgogICogQGRldiBJbnRlcm5hbCBmdW5jdGlvbiB0byBhZGQgYSB0b2tlbiBJRCB0byB0aGUgbGlzdCBvZiBhIGdpdmVuIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gYWRkcmVzcyByZXByZXNlbnRpbmcgdGhlIG5ldyBvd25lciBvZiB0aGUgZ2l2ZW4gdG9rZW4gSUQKICAqIEBwYXJhbSBfdG9rZW5JZCB1aW50MjU2IElEIG9mIHRoZSB0b2tlbiB0byBiZSBhZGRlZCB0byB0aGUgdG9rZW5zIGxpc3Qgb2YgdGhlIGdpdmVuIGFkZHJlc3MKICAqLwogIGZ1bmN0aW9uIGFkZFRva2VuKGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBwcml2YXRlIHsKICAgIHJlcXVpcmUodG9rZW5Pd25lcltfdG9rZW5JZF0gPT0gYWRkcmVzcygwKSk7CiAgICB0b2tlbk93bmVyW190b2tlbklkXSA9IF90bzsKICAgIHVpbnQyNTYgbGVuZ3RoID0gYmFsYW5jZU9mKF90byk7CiAgICBvd25lZFRva2Vuc1tfdG9dLnB1c2goX3Rva2VuSWQpOwogICAgb3duZWRUb2tlbnNJbmRleFtfdG9rZW5JZF0gPSBsZW5ndGg7CiAgICB0b3RhbFRva2VucyA9IHRvdGFsVG9rZW5zLmFkZCgxKTsKICB9CgogIC8qKgogICogQGRldiBJbnRlcm5hbCBmdW5jdGlvbiB0byByZW1vdmUgYSB0b2tlbiBJRCBmcm9tIHRoZSBsaXN0IG9mIGEgZ2l2ZW4gYWRkcmVzcwogICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgcmVwcmVzZW50aW5nIHRoZSBwcmV2aW91cyBvd25lciBvZiB0aGUgZ2l2ZW4gdG9rZW4gSUQKICAqIEBwYXJhbSBfdG9rZW5JZCB1aW50MjU2IElEIG9mIHRoZSB0b2tlbiB0byBiZSByZW1vdmVkIGZyb20gdGhlIHRva2VucyBsaXN0IG9mIHRoZSBnaXZlbiBhZGRyZXNzCiAgKi8KICBmdW5jdGlvbiByZW1vdmVUb2tlbihhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF90b2tlbklkKSBwcml2YXRlIHsKICAgIHJlcXVpcmUob3duZXJPZihfdG9rZW5JZCkgPT0gX2Zyb20pOwoKICAgIHVpbnQyNTYgdG9rZW5JbmRleCA9IG93bmVkVG9rZW5zSW5kZXhbX3Rva2VuSWRdOwogICAgdWludDI1NiBsYXN0VG9rZW5JbmRleCA9IGJhbGFuY2VPZihfZnJvbSkuc3ViKDEpOwogICAgdWludDI1NiBsYXN0VG9rZW4gPSBvd25lZFRva2Vuc1tfZnJvbV1bbGFzdFRva2VuSW5kZXhdOwoKICAgIHRva2VuT3duZXJbX3Rva2VuSWRdID0gMDsKICAgIG93bmVkVG9rZW5zW19mcm9tXVt0b2tlbkluZGV4XSA9IGxhc3RUb2tlbjsKICAgIG93bmVkVG9rZW5zW19mcm9tXVtsYXN0VG9rZW5JbmRleF0gPSAwOwogICAgLy8gTm90ZSB0aGF0IHRoaXMgd2lsbCBoYW5kbGUgc2luZ2xlLWVsZW1lbnQgYXJyYXlzLiBJbiB0aGF0IGNhc2UsIGJvdGggdG9rZW5JbmRleCBhbmQgbGFzdFRva2VuSW5kZXggYXJlIGdvaW5nIHRvCiAgICAvLyBiZSB6ZXJvLiBUaGVuIHdlIGNhbiBtYWtlIHN1cmUgdGhhdCB3ZSB3aWxsIHJlbW92ZSBfdG9rZW5JZCBmcm9tIHRoZSBvd25lZFRva2VucyBsaXN0IHNpbmNlIHdlIGFyZSBmaXJzdCBzd2FwcGluZwogICAgLy8gdGhlIGxhc3RUb2tlbiB0byB0aGUgZmlyc3QgcG9zaXRpb24sIGFuZCB0aGVuIGRyb3BwaW5nIHRoZSBlbGVtZW50IHBsYWNlZCBpbiB0aGUgbGFzdCBwb3NpdGlvbiBvZiB0aGUgbGlzdAoKICAgIG93bmVkVG9rZW5zW19mcm9tXS5sZW5ndGgtLTsKICAgIG93bmVkVG9rZW5zSW5kZXhbX3Rva2VuSWRdID0gMDsKICAgIG93bmVkVG9rZW5zSW5kZXhbbGFzdFRva2VuXSA9IHRva2VuSW5kZXg7CiAgICB0b3RhbFRva2VucyA9IHRvdGFsVG9rZW5zLnN1YigxKTsKICB9Cn0KCi8vIEZpbGU6IGNvbnRyYWN0cy9QaW5lYXBwbGVBcmNhZGVUcm9waHkuc29sCgpjb250cmFjdCBQaW5lYXBwbGVBcmNhZGVUcm9waHkgaXMgRVJDNzIxVG9rZW4sIFBhdXNhYmxlIHsKICAgIC8vLyBAbm90aWNlIE5hbWUgYW5kIFN5bWJvbCBhcmUgcGFydCBvZiB0aGUgRVJDNzIxIHN0YW5kYXJkCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiUGluZWFwcGxlQXJjYWRlVHJvcGh5IjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkRFR0VOIjsKCiAgICBNYXJrZXRwbGFjZSBwdWJsaWMgbWFya2V0cGxhY2U7CiAgICB1aW50MjU2IHB1YmxpYyBtYXhUcm9waGllczsKCiAgICAvLy8gQGRldiB0cm9waHlJZCB0byB0cm9waHlOYW1lCiAgICBtYXBwaW5nICh1aW50MjU2ID0+IGJ5dGVzMzIpIHB1YmxpYyB0cm9waGllczsKCiAgICBmdW5jdGlvbiBQaW5lYXBwbGVBcmNhZGVUcm9waHkodWludDI1NiBfbWF4VHJvcGhpZXMpIHB1YmxpYyB7CiAgICAgICAgbWF4VHJvcGhpZXMgPSBfbWF4VHJvcGhpZXM7CiAgICAgICAgcGF1c2UoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRNYXJrZXRwbGFjZShNYXJrZXRwbGFjZSBfbWFya2V0cGxhY2UpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgbWFya2V0cGxhY2UgPSBfbWFya2V0cGxhY2U7CiAgICB9CgogICAgZnVuY3Rpb24gZ3JhbnRUcm9waHkoYWRkcmVzcyBfaW5pdGlhbE93bmVyLCBieXRlczMyIF90cm9waHlOYW1lKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUodG90YWxTdXBwbHkoKSA8IG1heFRyb3BoaWVzKTsKICAgICAgICByZXF1aXJlKF90cm9waHlOYW1lICE9IDB4MCk7CiAgICAgICAgdHJvcGhpZXNbbmV4dElkKCldID0gX3Ryb3BoeU5hbWU7CiAgICAgICAgX21pbnQoX2luaXRpYWxPd25lciwgbmV4dElkKCkpOwogICAgfQoKICAgIGZ1bmN0aW9uIGxpc3RUcm9waHkodWludDI1NiBfdHJvcGh5SWQsIHVpbnQyNTYgX3N0YXJ0aW5nUHJpY2VXZWksIHVpbnQyNTYgX21pbmltdW1QcmljZVdlaSwgdWludDI1NiBfZHVyYXRpb25TZWNvbmRzKSBleHRlcm5hbCB3aGVuTm90UGF1c2VkIHsKICAgICAgICBhZGRyZXNzIF90cm9waHlTZWxsZXIgPSBvd25lck9mKF90cm9waHlJZCk7CiAgICAgICAgcmVxdWlyZShfdHJvcGh5U2VsbGVyID09IG1zZy5zZW5kZXIpOwogICAgICAgIGFwcHJvdmUobWFya2V0cGxhY2UsIF90cm9waHlJZCk7CiAgICAgICAgbWFya2V0cGxhY2UubGlzdChfdHJvcGh5U2VsbGVyLCBfdHJvcGh5SWQsIF9zdGFydGluZ1ByaWNlV2VpLCBfbWluaW11bVByaWNlV2VpLCBfZHVyYXRpb25TZWNvbmRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiB1bmxpc3RUcm9waHkodWludDI1NiBfdHJvcGh5SWQpIGV4dGVybmFsIHsKICAgICAgICBtYXJrZXRwbGFjZS51bmxpc3QobXNnLnNlbmRlciwgX3Ryb3BoeUlkKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjdXJyZW50UHJpY2UodWludDI1NiBfdHJvcGh5SWQpIHB1YmxpYyB2aWV3IHJldHVybnModWludDI1NikgewogICAgICAgIHJldHVybiBtYXJrZXRwbGFjZS5jdXJyZW50UHJpY2UoX3Ryb3BoeUlkKTsKICAgIH0KCiAgICBmdW5jdGlvbiBwdXJjaGFzZVRyb3BoeSh1aW50MjU2IF90cm9waHlJZCkgZXh0ZXJuYWwgcGF5YWJsZSB3aGVuTm90UGF1c2VkIHsKICAgICAgICAvLyBCbG9ja2FkZSBjb2xsZWN0cyAzLjc1JSBvZiBlYWNoIG1hcmtldCB0cmFuc2FjdGlvbiwgcGFpZCBieSB0aGUgc2VsbGVyLgogICAgICAgIHVpbnQyNTYgX2Jsb2NrYWRlRmVlID0gKG1zZy52YWx1ZSAqIDM3NSkgLyAxMDAwMDsgLy8gTm90ZTogc21hbGwgdmFsdWVzIHByZXZlbnQgQmxvY2thZGUgZnJvbSBlYXJuaW5nIGFueXRoaW5nCiAgICAgICAgdWludDI1NiBfc2VsbGVyVGFrZSA9IG1zZy52YWx1ZSAtIF9ibG9ja2FkZUZlZTsKICAgICAgICBtYXJrZXRwbGFjZS5wdXJjaGFzZS52YWx1ZShfc2VsbGVyVGFrZSkobXNnLnNlbmRlciwgX3Ryb3BoeUlkLCBtc2cudmFsdWUpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFdpdGggZWFjaCBjYWxsIHRvIHB1cmNoYXNlVHJvcGh5LCBmZWVzIHdpbGwgYnVpbGQgdXAgaW4gdGhpcyBjb250cmFjdCdzIGJhbGFuY2UuCiAgICAvLy8gVGhpcyBtZXRob2QgYWxsb3dzIHRoZSBjb250cmFjdCBvd25lciB0byB0cmFuc2ZlciB0aGF0IGJhbGFuY2UgdG8gdGhlaXIgYWNjb3VudC4KICAgIGZ1bmN0aW9uIHdpdGhkcmF3QmFsYW5jZSgpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgb3duZXIudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBuZXh0SWQoKSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gdG90YWxTdXBwbHkoKSArIDE7CiAgICB9Cn0='.
	

]
