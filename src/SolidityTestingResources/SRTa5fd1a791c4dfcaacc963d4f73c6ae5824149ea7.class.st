Class {
	#name : #SRTa5fd1a791c4dfcaacc963d4f73c6ae5824149ea7,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTa5fd1a791c4dfcaacc963d4f73c6ae5824149ea7 >> base64 [
	^ 'LyogQXV0aG9yOiBWaWN0b3IgTWV6cmluICA8c3BhbiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9IjBiN2Q2MjY4N2Y2NDc5NGI2NjZlNzE3OTYyNjUyNTY4NjQ2NiI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvc3Bhbj4gKi8KCnByYWdtYSBzb2xpZGl0eSBeMC40LjE4OwoKCgovKioKICogQHRpdGxlIENvbW1vbk1vZGlmaWVycwogKiBAZGV2IEJhc2UgY29udHJhY3Qgd2hpY2ggY29udGFpbnMgY29tbW9uIGNoZWNrcy4KICovCmNvbnRyYWN0IENvbW1vbk1vZGlmaWVyc0ludGVyZmFjZSB7CgogIC8qKgogICAqIEBkZXYgQXNzZW1ibGUgdGhlIGdpdmVuIGFkZHJlc3MgYnl0ZWNvZGUuIElmIGJ5dGVjb2RlIGV4aXN0cyB0aGVuIHRoZSBfYWRkciBpcyBhIGNvbnRyYWN0LgogICAqLwogIGZ1bmN0aW9uIGlzQ29udHJhY3QoYWRkcmVzcyBfdGFyZ2V0QWRkcmVzcykgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAoYm9vbCk7CgogIC8qKgogICAqIEBkZXYgbW9kaWZpZXIgdG8gYWxsb3cgYWN0aW9ucyBvbmx5IHdoZW4gdGhlIF90YXJnZXRBZGRyZXNzIGlzIGEgY29udHJhY3QuCiAgICovCiAgbW9kaWZpZXIgb25seUNvbnRyYWN0QWRkcmVzcyhhZGRyZXNzIF90YXJnZXRBZGRyZXNzKSB7CiAgICByZXF1aXJlKGlzQ29udHJhY3QoX3RhcmdldEFkZHJlc3MpID09IHRydWUpOwogICAgXzsKICB9Cn0KCgoKLyoqCiAqIEB0aXRsZSBDb21tb25Nb2RpZmllcnMKICogQGRldiBCYXNlIGNvbnRyYWN0IHdoaWNoIGNvbnRhaW5zIGNvbW1vbiBjaGVja3MuCiAqLwpjb250cmFjdCBDb21tb25Nb2RpZmllcnMgaXMgQ29tbW9uTW9kaWZpZXJzSW50ZXJmYWNlIHsKCiAgLyoqCiAgICogQGRldiBBc3NlbWJsZSB0aGUgZ2l2ZW4gYWRkcmVzcyBieXRlY29kZS4gSWYgYnl0ZWNvZGUgZXhpc3RzIHRoZW4gdGhlIF9hZGRyIGlzIGEgY29udHJhY3QuCiAgICovCiAgZnVuY3Rpb24gaXNDb250cmFjdChhZGRyZXNzIF90YXJnZXRBZGRyZXNzKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlIChfdGFyZ2V0QWRkcmVzcyAhPSBhZGRyZXNzKDB4MCkpOwoKICAgIHVpbnQyNTYgbGVuZ3RoOwogICAgYXNzZW1ibHkgewogICAgICAvL3JldHJpZXZlIHRoZSBzaXplIG9mIHRoZSBjb2RlIG9uIHRhcmdldCBhZGRyZXNzLCB0aGlzIG5lZWRzIGFzc2VtYmx5CiAgICAgIGxlbmd0aCA6PSBleHRjb2Rlc2l6ZShfdGFyZ2V0QWRkcmVzcykKICAgIH0KICAgIHJldHVybiAobGVuZ3RoID4gMCk7CiAgfQp9CgoKCi8qKgogKiBAdGl0bGUgQXNzZXRJREludGVyZmFjZQogKiBAZGV2IEludGVyZmFjZSBvZiBhIGNvbnRyYWN0IHRoYXQgYXNzaWduZWQgdG8gYW4gYXNzZXQgKEpOVCwgalVTRCBldGMuKQogKiBAZGV2IENvbnRyYWN0cyBmb3IgdGhlIHNhbWUgYXNzZXQgKGxpa2UgSk5ULCBqVVNEIGV0Yy4pIHdpbGwgaGF2ZSB0aGUgc2FtZSBBc3NldElELgogKiBAZGV2IFRoaXMgd2lsbCBoZWxwIHRvIGF2b2lkIG1pc2NvbmZpZ3VyYXRpb24gb2YgY29udHJhY3RzCiAqLwpjb250cmFjdCBBc3NldElESW50ZXJmYWNlIHsKICBmdW5jdGlvbiBnZXRBc3NldElEKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHN0cmluZyk7CiAgZnVuY3Rpb24gZ2V0QXNzZXRJREhhc2goKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYnl0ZXMzMik7Cn0KCgoKLyoqCiAqIEB0aXRsZSBBc3NldElECiAqIEBkZXYgQmFzZSBjb250cmFjdCBpbXBsZW1lbnRpbmcgQXNzZXRJREludGVyZmFjZQogKi8KY29udHJhY3QgQXNzZXRJRCBpcyBBc3NldElESW50ZXJmYWNlIHsKCiAgLyogU3RvcmFnZSAqLwoKICBzdHJpbmcgYXNzZXRJRDsKCgogIC8qIENvbnN0cnVjdG9yICovCgogIGZ1bmN0aW9uIEFzc2V0SUQoc3RyaW5nIF9hc3NldElEKSBwdWJsaWMgewogICAgcmVxdWlyZShieXRlcyhfYXNzZXRJRCkubGVuZ3RoID4gMCk7CgogICAgYXNzZXRJRCA9IF9hc3NldElEOwogIH0KCgogIC8qIEdldHRlcnMgKi8KCiAgZnVuY3Rpb24gZ2V0QXNzZXRJRCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChzdHJpbmcpIHsKICAgIHJldHVybiBhc3NldElEOwogIH0KCiAgZnVuY3Rpb24gZ2V0QXNzZXRJREhhc2goKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYnl0ZXMzMikgewogICAgcmV0dXJuIGtlY2NhazI1Nihhc3NldElEKTsKICB9Cn0KCgoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGVJbnRlcmZhY2UgewoKICAvKioKICAgKiBAZGV2IFRoZSBnZXR0ZXIgZm9yICJvd25lciIgY29udHJhY3QgdmFyaWFibGUKICAgKi8KICBmdW5jdGlvbiBnZXRPd25lcigpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzKTsKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIGN1cnJlbnQgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZSAobXNnLnNlbmRlciA9PSBnZXRPd25lcigpKTsKICAgIF87CiAgfQp9CgoKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIGlzIE93bmFibGVJbnRlcmZhY2UgewoKICAvKiBTdG9yYWdlICovCgogIGFkZHJlc3Mgb3duZXIgPSBhZGRyZXNzKDB4MCk7CiAgYWRkcmVzcyBwcm9wb3NlZE93bmVyID0gYWRkcmVzcygweDApOwoKCiAgLyogRXZlbnRzICovCgogIGV2ZW50IE93bmVyQXNzaWduZWRFdmVudChhZGRyZXNzIGluZGV4ZWQgbmV3b3duZXIpOwogIGV2ZW50IE93bmVyc2hpcE9mZmVyQ3JlYXRlZEV2ZW50KGFkZHJlc3MgaW5kZXhlZCBjdXJyZW50b3duZXIsIGFkZHJlc3MgaW5kZXhlZCBwcm9wb3NlZG93bmVyKTsKICBldmVudCBPd25lcnNoaXBPZmZlckFjY2VwdGVkRXZlbnQoYWRkcmVzcyBpbmRleGVkIGN1cnJlbnRvd25lciwgYWRkcmVzcyBpbmRleGVkIHByb3Bvc2Vkb3duZXIpOwogIGV2ZW50IE93bmVyc2hpcE9mZmVyQ2FuY2VsbGVkRXZlbnQoYWRkcmVzcyBpbmRleGVkIGN1cnJlbnRvd25lciwgYWRkcmVzcyBpbmRleGVkIHByb3Bvc2Vkb3duZXIpOwoKCiAgLyoqCiAgICogQGRldiBUaGUgY29uc3RydWN0b3Igc2V0cyB0aGUgaW5pdGlhbCBgb3duZXJgIHRvIHRoZSBwYXNzZWQgYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKCiAgICBPd25lckFzc2lnbmVkRXZlbnQob3duZXIpOwogIH0KCgogIC8qKgogICAqIEBkZXYgT2xkIG93bmVyIHJlcXVlc3RzIHRyYW5zZmVyIG93bmVyc2hpcCB0byB0aGUgbmV3IG93bmVyLgogICAqIEBwYXJhbSBfcHJvcG9zZWRPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gY3JlYXRlT3duZXJzaGlwT2ZmZXIoYWRkcmVzcyBfcHJvcG9zZWRPd25lcikgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgIHJlcXVpcmUgKHByb3Bvc2VkT3duZXIgPT0gYWRkcmVzcygweDApKTsKICAgIHJlcXVpcmUgKF9wcm9wb3NlZE93bmVyICE9IGFkZHJlc3MoMHgwKSk7CiAgICByZXF1aXJlIChfcHJvcG9zZWRPd25lciAhPSBhZGRyZXNzKHRoaXMpKTsKCiAgICBwcm9wb3NlZE93bmVyID0gX3Byb3Bvc2VkT3duZXI7CgogICAgT3duZXJzaGlwT2ZmZXJDcmVhdGVkRXZlbnQob3duZXIsIF9wcm9wb3NlZE93bmVyKTsKICB9CgoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgbmV3IG93bmVyIHRvIGFjY2VwdCBhbiBvd25lcnNoaXAgb2ZmZXIgdG8gY29udHJhY3QgY29udHJvbC4KICAgKi8KICAvL25vaW5zcGVjdGlvbiBVbnByb3RlY3RlZEZ1bmN0aW9uCiAgZnVuY3Rpb24gYWNjZXB0T3duZXJzaGlwT2ZmZXIoKSBleHRlcm5hbCB7CiAgICByZXF1aXJlIChwcm9wb3NlZE93bmVyICE9IGFkZHJlc3MoMHgwKSk7CiAgICByZXF1aXJlIChtc2cuc2VuZGVyID09IHByb3Bvc2VkT3duZXIpOwoKICAgIGFkZHJlc3MgX29sZE93bmVyID0gb3duZXI7CiAgICBvd25lciA9IHByb3Bvc2VkT3duZXI7CiAgICBwcm9wb3NlZE93bmVyID0gYWRkcmVzcygweDApOwoKICAgIE93bmVyQXNzaWduZWRFdmVudChvd25lcik7CiAgICBPd25lcnNoaXBPZmZlckFjY2VwdGVkRXZlbnQoX29sZE93bmVyLCBvd25lcik7CiAgfQoKCiAgLyoqCiAgICogQGRldiBPbGQgb3duZXIgY2FuY2VscyB0cmFuc2ZlciBvd25lcnNoaXAgdG8gdGhlIG5ldyBvd25lci4KICAgKi8KICBmdW5jdGlvbiBjYW5jZWxPd25lcnNoaXBPZmZlcigpIGV4dGVybmFsIHsKICAgIHJlcXVpcmUgKHByb3Bvc2VkT3duZXIgIT0gYWRkcmVzcygweDApKTsKICAgIHJlcXVpcmUgKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgbXNnLnNlbmRlciA9PSBwcm9wb3NlZE93bmVyKTsKCiAgICBhZGRyZXNzIF9vbGRQcm9wb3NlZE93bmVyID0gcHJvcG9zZWRPd25lcjsKICAgIHByb3Bvc2VkT3duZXIgPSBhZGRyZXNzKDB4MCk7CgogICAgT3duZXJzaGlwT2ZmZXJDYW5jZWxsZWRFdmVudChvd25lciwgX29sZFByb3Bvc2VkT3duZXIpOwogIH0KCgogIC8qKgogICAqIEBkZXYgVGhlIGdldHRlciBmb3IgIm93bmVyIiBjb250cmFjdCB2YXJpYWJsZQogICAqLwogIGZ1bmN0aW9uIGdldE93bmVyKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MpIHsKICAgIHJldHVybiBvd25lcjsKICB9CgogIC8qKgogICAqIEBkZXYgVGhlIGdldHRlciBmb3IgInByb3Bvc2VkT3duZXIiIGNvbnRyYWN0IHZhcmlhYmxlCiAgICovCiAgZnVuY3Rpb24gZ2V0UHJvcG9zZWRPd25lcigpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzKSB7CiAgICByZXR1cm4gcHJvcG9zZWRPd25lcjsKICB9Cn0KCgoKLyoqCiAqIEB0aXRsZSBNYW5hZ2VhYmxlSW50ZXJmYWNlCiAqIEBkZXYgQ29udHJhY3QgdGhhdCBhbGxvd3MgdG8gZ3JhbnQgcGVybWlzc2lvbnMgdG8gYW55IGFkZHJlc3MKICogQGRldiBJbiByZWFsIGxpZmUgd2UgYXJlIG5vIGFibGUgdG8gcGVyZm9ybSBhbGwgYWN0aW9ucyB3aXRoIGp1c3Qgb25lIEV0aGVyZXVtIGFkZHJlc3MKICogQGRldiBiZWNhdXNlIHJpc2tzIGFyZSB0b28gaGlnaC4KICogQGRldiBJbnN0ZWFkIG93bmVyIGRlbGVnYXRlcyByaWdodHMgdG8gbWFuYWdlIGFuIGNvbnRyYWN0IHRvIHRoZSBkaWZmZXJlbnQgYWRkcmVzc2VzIGFuZAogKiBAZGV2IHN0YXkgYWJsZSB0byByZXZva2UgcGVybWlzc2lvbnMgYXQgYW55IHRpbWUuCiAqLwpjb250cmFjdCBNYW5hZ2VhYmxlSW50ZXJmYWNlIHsKCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayBpZiB0aGUgbWFuYWdlciBjYW4gcGVyZm9ybSB0aGUgYWN0aW9uIG9yIG5vdAogICAqIEBwYXJhbSBfbWFuYWdlciAgICAgICAgYWRkcmVzcyBNYW5hZ2VyYHMgYWRkcmVzcwogICAqIEBwYXJhbSBfcGVybWlzc2lvbk5hbWUgc3RyaW5nICBQZXJtaXNzaW9uIG5hbWUKICAgKiBAcmV0dXJuIFRydWUgaWYgbWFuYWdlciBpcyBlbmFibGVkIGFuZCBoYXMgYmVlbiBncmFudGVkIG5lZWRlZCBwZXJtaXNzaW9uCiAgICovCiAgZnVuY3Rpb24gaXNNYW5hZ2VyQWxsb3dlZChhZGRyZXNzIF9tYW5hZ2VyLCBzdHJpbmcgX3Blcm1pc3Npb25OYW1lKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCk7CgogIC8qKgogICAqIEBkZXYgTW9kaWZpZXIgdG8gdXNlIGluIGRlcml2ZWQgY29udHJhY3RzCiAgICovCiAgbW9kaWZpZXIgb25seUFsbG93ZWRNYW5hZ2VyKHN0cmluZyBfcGVybWlzc2lvbk5hbWUpIHsKICAgIHJlcXVpcmUoaXNNYW5hZ2VyQWxsb3dlZChtc2cuc2VuZGVyLCBfcGVybWlzc2lvbk5hbWUpID09IHRydWUpOwogICAgXzsKICB9Cn0KCgoKY29udHJhY3QgTWFuYWdlYWJsZSBpcyBPd25hYmxlSW50ZXJmYWNlLAogICAgICAgICAgICAgICAgICAgICAgIE1hbmFnZWFibGVJbnRlcmZhY2UgewoKICAvKiBTdG9yYWdlICovCgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgbWFuYWdlckVuYWJsZWQ7ICAvLyBoYXJkIHN3aXRjaCBmb3IgYSBtYW5hZ2VyIC0gb24vb2ZmCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChzdHJpbmcgPT4gYm9vbCkpIG1hbmFnZXJQZXJtaXNzaW9uczsgIC8vIGRldGFpbGVkIGluZm8gYWJvdXQgbWFuYWdlcmBzIHBlcm1pc3Npb25zCgoKICAvKiBFdmVudHMgKi8KCiAgZXZlbnQgTWFuYWdlckVuYWJsZWRFdmVudChhZGRyZXNzIGluZGV4ZWQgbWFuYWdlcik7CiAgZXZlbnQgTWFuYWdlckRpc2FibGVkRXZlbnQoYWRkcmVzcyBpbmRleGVkIG1hbmFnZXIpOwogIGV2ZW50IE1hbmFnZXJQZXJtaXNzaW9uR3JhbnRlZEV2ZW50KGFkZHJlc3MgaW5kZXhlZCBtYW5hZ2VyLCBzdHJpbmcgcGVybWlzc2lvbik7CiAgZXZlbnQgTWFuYWdlclBlcm1pc3Npb25SZXZva2VkRXZlbnQoYWRkcmVzcyBpbmRleGVkIG1hbmFnZXIsIHN0cmluZyBwZXJtaXNzaW9uKTsKCgogIC8qIENvbmZpZ3VyZSBjb250cmFjdCAqLwoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGFkZCBuZXcgbWFuYWdlcgogICAqIEBwYXJhbSBfbWFuYWdlciBhZGRyZXNzIE5ldyBtYW5hZ2VyCiAgICovCiAgZnVuY3Rpb24gZW5hYmxlTWFuYWdlcihhZGRyZXNzIF9tYW5hZ2VyKSBleHRlcm5hbCBvbmx5T3duZXIgb25seVZhbGlkTWFuYWdlckFkZHJlc3MoX21hbmFnZXIpIHsKICAgIHJlcXVpcmUobWFuYWdlckVuYWJsZWRbX21hbmFnZXJdID09IGZhbHNlKTsKCiAgICBtYW5hZ2VyRW5hYmxlZFtfbWFuYWdlcl0gPSB0cnVlOwogICAgTWFuYWdlckVuYWJsZWRFdmVudChfbWFuYWdlcik7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIHJlbW92ZSBleGlzdGluZyBtYW5hZ2VyCiAgICogQHBhcmFtIF9tYW5hZ2VyIGFkZHJlc3MgRXhpc3RpbmcgbWFuYWdlcgogICAqLwogIGZ1bmN0aW9uIGRpc2FibGVNYW5hZ2VyKGFkZHJlc3MgX21hbmFnZXIpIGV4dGVybmFsIG9ubHlPd25lciBvbmx5VmFsaWRNYW5hZ2VyQWRkcmVzcyhfbWFuYWdlcikgewogICAgcmVxdWlyZShtYW5hZ2VyRW5hYmxlZFtfbWFuYWdlcl0gPT0gdHJ1ZSk7CgogICAgbWFuYWdlckVuYWJsZWRbX21hbmFnZXJdID0gZmFsc2U7CiAgICBNYW5hZ2VyRGlzYWJsZWRFdmVudChfbWFuYWdlcik7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGdyYW50IG5ldyBwZXJtaXNzaW9uIHRvIHRoZSBtYW5hZ2VyCiAgICogQHBhcmFtIF9tYW5hZ2VyICAgICAgICBhZGRyZXNzIEV4aXN0aW5nIG1hbmFnZXIKICAgKiBAcGFyYW0gX3Blcm1pc3Npb25OYW1lIHN0cmluZyAgR3JhbnRlZCBwZXJtaXNzaW9uIG5hbWUKICAgKi8KICBmdW5jdGlvbiBncmFudE1hbmFnZXJQZXJtaXNzaW9uKAogICAgYWRkcmVzcyBfbWFuYWdlciwgc3RyaW5nIF9wZXJtaXNzaW9uTmFtZQogICkKICAgIGV4dGVybmFsCiAgICBvbmx5T3duZXIKICAgIG9ubHlWYWxpZE1hbmFnZXJBZGRyZXNzKF9tYW5hZ2VyKQogICAgb25seVZhbGlkUGVybWlzc2lvbk5hbWUoX3Blcm1pc3Npb25OYW1lKQogIHsKICAgIHJlcXVpcmUobWFuYWdlclBlcm1pc3Npb25zW19tYW5hZ2VyXVtfcGVybWlzc2lvbk5hbWVdID09IGZhbHNlKTsKCiAgICBtYW5hZ2VyUGVybWlzc2lvbnNbX21hbmFnZXJdW19wZXJtaXNzaW9uTmFtZV0gPSB0cnVlOwogICAgTWFuYWdlclBlcm1pc3Npb25HcmFudGVkRXZlbnQoX21hbmFnZXIsIF9wZXJtaXNzaW9uTmFtZSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIHJldm9rZSBwZXJtaXNzaW9uIG9mIHRoZSBtYW5hZ2VyCiAgICogQHBhcmFtIF9tYW5hZ2VyICAgICAgICBhZGRyZXNzIEV4aXN0aW5nIG1hbmFnZXIKICAgKiBAcGFyYW0gX3Blcm1pc3Npb25OYW1lIHN0cmluZyAgUmV2b2tlZCBwZXJtaXNzaW9uIG5hbWUKICAgKi8KICBmdW5jdGlvbiByZXZva2VNYW5hZ2VyUGVybWlzc2lvbigKICAgIGFkZHJlc3MgX21hbmFnZXIsIHN0cmluZyBfcGVybWlzc2lvbk5hbWUKICApCiAgICBleHRlcm5hbAogICAgb25seU93bmVyCiAgICBvbmx5VmFsaWRNYW5hZ2VyQWRkcmVzcyhfbWFuYWdlcikKICAgIG9ubHlWYWxpZFBlcm1pc3Npb25OYW1lKF9wZXJtaXNzaW9uTmFtZSkKICB7CiAgICByZXF1aXJlKG1hbmFnZXJQZXJtaXNzaW9uc1tfbWFuYWdlcl1bX3Blcm1pc3Npb25OYW1lXSA9PSB0cnVlKTsKCiAgICBtYW5hZ2VyUGVybWlzc2lvbnNbX21hbmFnZXJdW19wZXJtaXNzaW9uTmFtZV0gPSBmYWxzZTsKICAgIE1hbmFnZXJQZXJtaXNzaW9uUmV2b2tlZEV2ZW50KF9tYW5hZ2VyLCBfcGVybWlzc2lvbk5hbWUpOwogIH0KCgogIC8qIEdldHRlcnMgKi8KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayBtYW5hZ2VyIHN0YXR1cwogICAqIEBwYXJhbSBfbWFuYWdlciBhZGRyZXNzIE1hbmFnZXJgcyBhZGRyZXNzCiAgICogQHJldHVybiBUcnVlIGlmIG1hbmFnZXIgaXMgZW5hYmxlZAogICAqLwogIGZ1bmN0aW9uIGlzTWFuYWdlckVuYWJsZWQoCiAgICBhZGRyZXNzIF9tYW5hZ2VyCiAgKQogICAgcHVibGljCiAgICBjb25zdGFudAogICAgb25seVZhbGlkTWFuYWdlckFkZHJlc3MoX21hbmFnZXIpCiAgICByZXR1cm5zIChib29sKQogIHsKICAgIHJldHVybiBtYW5hZ2VyRW5hYmxlZFtfbWFuYWdlcl07CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHBlcm1pc3Npb25zIG9mIGEgbWFuYWdlcgogICAqIEBwYXJhbSBfbWFuYWdlciAgICAgICAgYWRkcmVzcyBNYW5hZ2VyYHMgYWRkcmVzcwogICAqIEBwYXJhbSBfcGVybWlzc2lvbk5hbWUgc3RyaW5nICBQZXJtaXNzaW9uIG5hbWUKICAgKiBAcmV0dXJuIFRydWUgaWYgbWFuYWdlciBoYXMgYmVlbiBncmFudGVkIG5lZWRlZCBwZXJtaXNzaW9uCiAgICovCiAgZnVuY3Rpb24gaXNQZXJtaXNzaW9uR3JhbnRlZCgKICAgIGFkZHJlc3MgX21hbmFnZXIsIHN0cmluZyBfcGVybWlzc2lvbk5hbWUKICApCiAgICBwdWJsaWMKICAgIGNvbnN0YW50CiAgICBvbmx5VmFsaWRNYW5hZ2VyQWRkcmVzcyhfbWFuYWdlcikKICAgIG9ubHlWYWxpZFBlcm1pc3Npb25OYW1lKF9wZXJtaXNzaW9uTmFtZSkKICAgIHJldHVybnMgKGJvb2wpCiAgewogICAgcmV0dXJuIG1hbmFnZXJQZXJtaXNzaW9uc1tfbWFuYWdlcl1bX3Blcm1pc3Npb25OYW1lXTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIG1hbmFnZXIgY2FuIHBlcmZvcm0gdGhlIGFjdGlvbiBvciBub3QKICAgKiBAcGFyYW0gX21hbmFnZXIgICAgICAgIGFkZHJlc3MgTWFuYWdlcmBzIGFkZHJlc3MKICAgKiBAcGFyYW0gX3Blcm1pc3Npb25OYW1lIHN0cmluZyAgUGVybWlzc2lvbiBuYW1lCiAgICogQHJldHVybiBUcnVlIGlmIG1hbmFnZXIgaXMgZW5hYmxlZCBhbmQgaGFzIGJlZW4gZ3JhbnRlZCBuZWVkZWQgcGVybWlzc2lvbgogICAqLwogIGZ1bmN0aW9uIGlzTWFuYWdlckFsbG93ZWQoCiAgICBhZGRyZXNzIF9tYW5hZ2VyLCBzdHJpbmcgX3Blcm1pc3Npb25OYW1lCiAgKQogICAgcHVibGljCiAgICBjb25zdGFudAogICAgb25seVZhbGlkTWFuYWdlckFkZHJlc3MoX21hbmFnZXIpCiAgICBvbmx5VmFsaWRQZXJtaXNzaW9uTmFtZShfcGVybWlzc2lvbk5hbWUpCiAgICByZXR1cm5zIChib29sKQogIHsKICAgIHJldHVybiAobWFuYWdlckVuYWJsZWRbX21hbmFnZXJdICYmIG1hbmFnZXJQZXJtaXNzaW9uc1tfbWFuYWdlcl1bX3Blcm1pc3Npb25OYW1lXSk7CiAgfQoKCiAgLyogSGVscGVycyAqLwoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRvIGNoZWNrIG1hbmFnZXIgYWRkcmVzcwogICAqLwogIG1vZGlmaWVyIG9ubHlWYWxpZE1hbmFnZXJBZGRyZXNzKGFkZHJlc3MgX21hbmFnZXIpIHsKICAgIHJlcXVpcmUoX21hbmFnZXIgIT0gYWRkcmVzcygweDApKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRvIGNoZWNrIG5hbWUgb2YgbWFuYWdlciBwZXJtaXNzaW9uCiAgICovCiAgbW9kaWZpZXIgb25seVZhbGlkUGVybWlzc2lvbk5hbWUoc3RyaW5nIF9wZXJtaXNzaW9uTmFtZSkgewogICAgcmVxdWlyZShieXRlcyhfcGVybWlzc2lvbk5hbWUpLmxlbmd0aCAhPSAwKTsKICAgIF87CiAgfQp9CgoKCi8qKgogKiBAdGl0bGUgUGF1c2FibGVJbnRlcmZhY2UKICogQGRldiBCYXNlIGNvbnRyYWN0IHdoaWNoIGFsbG93cyBjaGlsZHJlbiB0byBpbXBsZW1lbnQgYW4gZW1lcmdlbmN5IHN0b3AgbWVjaGFuaXNtLgogKiBAZGV2IEJhc2VkIG9uIHplcHBlbGluJ3MgUGF1c2FibGUsIGJ1dCBpbnRlZ3JhdGVkIHdpdGggTWFuYWdlYWJsZQogKiBAZGV2IENvbnRyYWN0IGlzIGluIHBhdXNlZCBzdGF0ZSBieSBkZWZhdWx0IGFuZCBzaG91bGQgYmUgZXhwbGljaXRseSB1bmxvY2tlZAogKi8KY29udHJhY3QgUGF1c2FibGVJbnRlcmZhY2UgewoKICAvKioKICAgKiBFdmVudHMKICAgKi8KCiAgZXZlbnQgUGF1c2VFdmVudCgpOwogIGV2ZW50IFVucGF1c2VFdmVudCgpOwoKCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG1hbmFnZXIgdG8gcGF1c2UsIHRyaWdnZXJzIHN0b3BwZWQgc3RhdGUKICAgKi8KICBmdW5jdGlvbiBwYXVzZUNvbnRyYWN0KCkgcHVibGljOwoKICAvKioKICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgbWFuYWdlciB0byB1bnBhdXNlLCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHVucGF1c2VDb250cmFjdCgpIHB1YmxpYzsKCiAgLyoqCiAgICogQGRldiBUaGUgZ2V0dGVyIGZvciAicGF1c2VkIiBjb250cmFjdCB2YXJpYWJsZQogICAqLwogIGZ1bmN0aW9uIGdldFBhdXNlZCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKTsKCgogIC8qKgogICAqIEBkZXYgbW9kaWZpZXIgdG8gYWxsb3cgYWN0aW9ucyBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IElTIHBhdXNlZAogICAqLwogIG1vZGlmaWVyIHdoZW5Db250cmFjdE5vdFBhdXNlZCgpIHsKICAgIHJlcXVpcmUoZ2V0UGF1c2VkKCkgPT0gZmFsc2UpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgbW9kaWZpZXIgdG8gYWxsb3cgYWN0aW9ucyBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IElTIE5PVCBwYXVzZWQKICAgKi8KICBtb2RpZmllciB3aGVuQ29udHJhY3RQYXVzZWQgewogICAgcmVxdWlyZShnZXRQYXVzZWQoKSA9PSB0cnVlKTsKICAgIF87CiAgfQp9CgoKCi8qKgogKiBAdGl0bGUgUGF1c2FibGUKICogQGRldiBCYXNlIGNvbnRyYWN0IHdoaWNoIGFsbG93cyBjaGlsZHJlbiB0byBpbXBsZW1lbnQgYW4gZW1lcmdlbmN5IHN0b3AgbWVjaGFuaXNtLgogKiBAZGV2IEJhc2VkIG9uIHplcHBlbGluJ3MgUGF1c2FibGUsIGJ1dCBpbnRlZ3JhdGVkIHdpdGggTWFuYWdlYWJsZQogKiBAZGV2IENvbnRyYWN0IGlzIGluIHBhdXNlZCBzdGF0ZSBieSBkZWZhdWx0IGFuZCBzaG91bGQgYmUgZXhwbGljaXRseSB1bmxvY2tlZAogKi8KY29udHJhY3QgUGF1c2FibGUgaXMgTWFuYWdlYWJsZUludGVyZmFjZSwKICAgICAgICAgICAgICAgICAgICAgUGF1c2FibGVJbnRlcmZhY2UgewoKICAvKioKICAgKiBTdG9yYWdlCiAgICovCgogIGJvb2wgcGF1c2VkID0gdHJ1ZTsKCgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBtYW5hZ2VyIHRvIHBhdXNlLCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gcGF1c2VDb250cmFjdCgpIHB1YmxpYyBvbmx5QWxsb3dlZE1hbmFnZXIoJ3BhdXNlX2NvbnRyYWN0Jykgd2hlbkNvbnRyYWN0Tm90UGF1c2VkIHsKICAgIHBhdXNlZCA9IHRydWU7CiAgICBQYXVzZUV2ZW50KCk7CiAgfQoKICAvKioKICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgbWFuYWdlciB0byB1bnBhdXNlLCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHVucGF1c2VDb250cmFjdCgpIHB1YmxpYyBvbmx5QWxsb3dlZE1hbmFnZXIoJ3VucGF1c2VfY29udHJhY3QnKSB3aGVuQ29udHJhY3RQYXVzZWQgewogICAgcGF1c2VkID0gZmFsc2U7CiAgICBVbnBhdXNlRXZlbnQoKTsKICB9CgogIC8qKgogICAqIEBkZXYgVGhlIGdldHRlciBmb3IgInBhdXNlZCIgY29udHJhY3QgdmFyaWFibGUKICAgKi8KICBmdW5jdGlvbiBnZXRQYXVzZWQoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIHBhdXNlZDsKICB9Cn0KCgoKLyoqCiAqIEB0aXRsZSBCeXRlY29kZUV4ZWN1dG9ySW50ZXJmYWNlIGludGVyZmFjZQogKiBAZGV2IEltcGxlbWVudGF0aW9uIG9mIGEgY29udHJhY3QgdGhhdCBleGVjdXRlIGFueSBieXRlY29kZSBvbiBiZWhhbGYgb2YgdGhlIGNvbnRyYWN0CiAqIEBkZXYgTGFzdCByZXNvcnQgZm9yIHRoZSBpbW11dGFibGUgYW5kIG5vdC1yZXBsYWNlYWJsZSBjb250cmFjdCA6KQogKi8KY29udHJhY3QgQnl0ZWNvZGVFeGVjdXRvckludGVyZmFjZSB7CgogIC8qIEV2ZW50cyAqLwoKICBldmVudCBDYWxsRXhlY3V0ZWRFdmVudChhZGRyZXNzIGluZGV4ZWQgdGFyZ2V0LAogICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQyNTYgc3VwcGxpZWRHYXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDI1NiBldGhWYWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBieXRlczMyIHRyYW5zYWN0aW9uQnl0ZWNvZGVIYXNoKTsKICBldmVudCBEZWxlZ2F0ZWNhbGxFeGVjdXRlZEV2ZW50KGFkZHJlc3MgaW5kZXhlZCB0YXJnZXQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MjU2IHN1cHBsaWVkR2FzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZXMzMiB0cmFuc2FjdGlvbkJ5dGVjb2RlSGFzaCk7CgoKICAvKiBGdW5jdGlvbnMgKi8KCiAgZnVuY3Rpb24gZXhlY3V0ZUNhbGwoYWRkcmVzcyBfdGFyZ2V0LCB1aW50MjU2IF9zdXBwbGllZEdhcywgdWludDI1NiBfZXRoVmFsdWUsIGJ5dGVzIF90cmFuc2FjdGlvbkJ5dGVjb2RlKSBleHRlcm5hbDsKICBmdW5jdGlvbiBleGVjdXRlRGVsZWdhdGVjYWxsKGFkZHJlc3MgX3RhcmdldCwgdWludDI1NiBfc3VwcGxpZWRHYXMsIGJ5dGVzIF90cmFuc2FjdGlvbkJ5dGVjb2RlKSBleHRlcm5hbDsKfQoKCgovKioKICogQHRpdGxlIEJ5dGVjb2RlRXhlY3V0b3IKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiBhIGNvbnRyYWN0IHRoYXQgZXhlY3V0ZSBhbnkgYnl0ZWNvZGUgb24gYmVoYWxmIG9mIHRoZSBjb250cmFjdAogKiBAZGV2IExhc3QgcmVzb3J0IGZvciB0aGUgaW1tdXRhYmxlIGFuZCBub3QtcmVwbGFjZWFibGUgY29udHJhY3QgOikKICovCmNvbnRyYWN0IEJ5dGVjb2RlRXhlY3V0b3IgaXMgTWFuYWdlYWJsZUludGVyZmFjZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCeXRlY29kZUV4ZWN1dG9ySW50ZXJmYWNlIHsKCiAgLyogU3RvcmFnZSAqLwoKICBib29sIHVuZGVyRXhlY3V0aW9uID0gZmFsc2U7CgoKICAvKiBCeXRlY29kZUV4ZWN1dG9ySW50ZXJmYWNlICovCgogIGZ1bmN0aW9uIGV4ZWN1dGVDYWxsKAogICAgYWRkcmVzcyBfdGFyZ2V0LAogICAgdWludDI1NiBfc3VwcGxpZWRHYXMsCiAgICB1aW50MjU2IF9ldGhWYWx1ZSwKICAgIGJ5dGVzIF90cmFuc2FjdGlvbkJ5dGVjb2RlCiAgKQogICAgZXh0ZXJuYWwKICAgIG9ubHlBbGxvd2VkTWFuYWdlcignZXhlY3V0ZV9jYWxsJykKICB7CiAgICByZXF1aXJlKHVuZGVyRXhlY3V0aW9uID09IGZhbHNlKTsKCiAgICB1bmRlckV4ZWN1dGlvbiA9IHRydWU7IC8vIEF2b2lkIHJlY3Vyc2l2ZSBjYWxsaW5nCiAgICBfdGFyZ2V0LmNhbGwuZ2FzKF9zdXBwbGllZEdhcykudmFsdWUoX2V0aFZhbHVlKShfdHJhbnNhY3Rpb25CeXRlY29kZSk7CiAgICB1bmRlckV4ZWN1dGlvbiA9IGZhbHNlOwoKICAgIENhbGxFeGVjdXRlZEV2ZW50KF90YXJnZXQsIF9zdXBwbGllZEdhcywgX2V0aFZhbHVlLCBrZWNjYWsyNTYoX3RyYW5zYWN0aW9uQnl0ZWNvZGUpKTsKICB9CgogIGZ1bmN0aW9uIGV4ZWN1dGVEZWxlZ2F0ZWNhbGwoCiAgICBhZGRyZXNzIF90YXJnZXQsCiAgICB1aW50MjU2IF9zdXBwbGllZEdhcywKICAgIGJ5dGVzIF90cmFuc2FjdGlvbkJ5dGVjb2RlCiAgKQogICAgZXh0ZXJuYWwKICAgIG9ubHlBbGxvd2VkTWFuYWdlcignZXhlY3V0ZV9kZWxlZ2F0ZWNhbGwnKQogIHsKICAgIHJlcXVpcmUodW5kZXJFeGVjdXRpb24gPT0gZmFsc2UpOwoKICAgIHVuZGVyRXhlY3V0aW9uID0gdHJ1ZTsgLy8gQXZvaWQgcmVjdXJzaXZlIGNhbGxpbmcKICAgIF90YXJnZXQuZGVsZWdhdGVjYWxsLmdhcyhfc3VwcGxpZWRHYXMpKF90cmFuc2FjdGlvbkJ5dGVjb2RlKTsKICAgIHVuZGVyRXhlY3V0aW9uID0gZmFsc2U7CgogICAgRGVsZWdhdGVjYWxsRXhlY3V0ZWRFdmVudChfdGFyZ2V0LCBfc3VwcGxpZWRHYXMsIGtlY2NhazI1NihfdHJhbnNhY3Rpb25CeXRlY29kZSkpOwogIH0KfQoKCgoKCi8qKgogKiBAdGl0bGUgQ3J5ZHJDb250cm9sbGVyRVJDMjBJbnRlcmZhY2UgaW50ZXJmYWNlCiAqIEBkZXYgSW50ZXJmYWNlIG9mIGEgY29udHJhY3QgdGhhdCBpbXBsZW1lbnQgYnVzaW5lc3MtbG9naWMgb2YgYW4gRVJDMjAgQ3J5RFIKICovCmNvbnRyYWN0IENyeWRyQ29udHJvbGxlckVSQzIwSW50ZXJmYWNlIHsKCiAgLyogRVJDMjAgc3VwcG9ydC4gX21zZ3NlbmRlciAtIGFjY291bnQgdGhhdCBpbnZva2VkIENyeWRyVmlldyAqLwoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF9tc2dzZW5kZXIsIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljOwogIGZ1bmN0aW9uIGdldFRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIGdldEJhbGFuY2UoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9tc2dzZW5kZXIsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWM7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX21zZ3NlbmRlciwgYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWM7CiAgZnVuY3Rpb24gZ2V0QWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7Cn0KCgoKCgpjb250cmFjdCBDcnlkclZpZXdCYXNlSW50ZXJmYWNlIHsKCiAgLyogRXZlbnRzICovCgogIGV2ZW50IENyeWRyQ29udHJvbGxlckNoYW5nZWRFdmVudChhZGRyZXNzIGluZGV4ZWQgY3J5ZHJjb250cm9sbGVyKTsKCgogIC8qIENvbmZpZ3VyYXRpb24gKi8KCiAgZnVuY3Rpb24gc2V0Q3J5ZHJDb250cm9sbGVyKGFkZHJlc3MgX2NyeWRyQ29udHJvbGxlcikgZXh0ZXJuYWw7CiAgZnVuY3Rpb24gZ2V0Q3J5ZHJDb250cm9sbGVyKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MpOwoKICBmdW5jdGlvbiBnZXRDcnlkclZpZXdTdGFuZGFyZE5hbWUoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nKTsKICBmdW5jdGlvbiBnZXRDcnlkclZpZXdTdGFuZGFyZE5hbWVIYXNoKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJ5dGVzMzIpOwp9CgoKCmNvbnRyYWN0IENyeWRyVmlld0Jhc2UgaXMgQ29tbW9uTW9kaWZpZXJzSW50ZXJmYWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgIEFzc2V0SURJbnRlcmZhY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgTWFuYWdlYWJsZUludGVyZmFjZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBQYXVzYWJsZUludGVyZmFjZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBDcnlkclZpZXdCYXNlSW50ZXJmYWNlIHsKCiAgLyogU3RvcmFnZSAqLwoKICBhZGRyZXNzIGNyeWRyQ29udHJvbGxlciA9IGFkZHJlc3MoMHgwKTsKICBzdHJpbmcgY3J5ZHJWaWV3U3RhbmRhcmROYW1lID0gJyc7CgoKICAvKiBDb25zdHJ1Y3RvciAqLwoKICBmdW5jdGlvbiBDcnlkclZpZXdCYXNlKHN0cmluZyBfY3J5ZHJWaWV3U3RhbmRhcmROYW1lKSBwdWJsaWMgewogICAgcmVxdWlyZShieXRlcyhfY3J5ZHJWaWV3U3RhbmRhcmROYW1lKS5sZW5ndGggPiAwKTsKCiAgICBjcnlkclZpZXdTdGFuZGFyZE5hbWUgPSBfY3J5ZHJWaWV3U3RhbmRhcmROYW1lOwogIH0KCgogIC8qIENyeWRyVmlld0Jhc2VJbnRlcmZhY2UgKi8KCiAgZnVuY3Rpb24gc2V0Q3J5ZHJDb250cm9sbGVyKAogICAgYWRkcmVzcyBfY3J5ZHJDb250cm9sbGVyCiAgKQogICAgZXh0ZXJuYWwKICAgIG9ubHlDb250cmFjdEFkZHJlc3MoX2NyeWRyQ29udHJvbGxlcikKICAgIG9ubHlBbGxvd2VkTWFuYWdlcignc2V0X2NyeWRyX2NvbnRyb2xsZXInKQogICAgd2hlbkNvbnRyYWN0UGF1c2VkCiAgewogICAgcmVxdWlyZShjcnlkckNvbnRyb2xsZXIgIT0gX2NyeWRyQ29udHJvbGxlcik7CgogICAgY3J5ZHJDb250cm9sbGVyID0gX2NyeWRyQ29udHJvbGxlcjsKICAgIENyeWRyQ29udHJvbGxlckNoYW5nZWRFdmVudChfY3J5ZHJDb250cm9sbGVyKTsKICB9CgogIGZ1bmN0aW9uIGdldENyeWRyQ29udHJvbGxlcigpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzKSB7CiAgICByZXR1cm4gY3J5ZHJDb250cm9sbGVyOwogIH0KCgogIGZ1bmN0aW9uIGdldENyeWRyVmlld1N0YW5kYXJkTmFtZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChzdHJpbmcpIHsKICAgIHJldHVybiBjcnlkclZpZXdTdGFuZGFyZE5hbWU7CiAgfQoKICBmdW5jdGlvbiBnZXRDcnlkclZpZXdTdGFuZGFyZE5hbWVIYXNoKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJ5dGVzMzIpIHsKICAgIHJldHVybiBrZWNjYWsyNTYoY3J5ZHJWaWV3U3RhbmRhcmROYW1lKTsKICB9CgoKICAvKiBQYXVzYWJsZUludGVyZmFjZSAqLwoKICAvKioKICAgKiBAZGV2IE92ZXJyaWRlIG1ldGhvZCB0byBlbnN1cmUgdGhhdCBjb250cmFjdCBwcm9wZXJseSBjb25maWd1cmVkIGJlZm9yZSBpdCBpcyB1bnBhdXNlZAogICAqLwogIGZ1bmN0aW9uIHVucGF1c2VDb250cmFjdCgpIHB1YmxpYyB7CiAgICByZXF1aXJlKGlzQ29udHJhY3QoY3J5ZHJDb250cm9sbGVyKSA9PSB0cnVlKTsKICAgIHJlcXVpcmUoZ2V0QXNzZXRJREhhc2goKSA9PSBBc3NldElESW50ZXJmYWNlKGNyeWRyQ29udHJvbGxlcikuZ2V0QXNzZXRJREhhc2goKSk7CgogICAgc3VwZXIudW5wYXVzZUNvbnRyYWN0KCk7CiAgfQp9CgoKCi8qKgogKiBAdGl0bGUgQ3J5ZHJWaWV3RVJDMjBJbnRlcmZhY2UKICogQGRldiBFUkMyMCBpbnRlcmZhY2UgdG8gdXNlIGluIGFwcGxpY2F0aW9ucwogKi8KY29udHJhY3QgQ3J5ZHJWaWV3RVJDMjBJbnRlcmZhY2UgewogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGV4dGVybmFsIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgZXh0ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKfQoKCgpjb250cmFjdCBDcnlkclZpZXdFUkMyMCBpcyBQYXVzYWJsZUludGVyZmFjZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3J5ZHJWaWV3QmFzZUludGVyZmFjZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3J5ZHJWaWV3RVJDMjBJbnRlcmZhY2UgewoKICAvKiBFUkMyMEludGVyZmFjZSAqLwoKICBmdW5jdGlvbiB0cmFuc2ZlcigKICAgIGFkZHJlc3MgX3RvLAogICAgdWludDI1NiBfdmFsdWUKICApCiAgICBleHRlcm5hbAogICAgd2hlbkNvbnRyYWN0Tm90UGF1c2VkCiAgICBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKQogICAgcmV0dXJucyAoYm9vbCkKICB7CiAgICBDcnlkckNvbnRyb2xsZXJFUkMyMEludGVyZmFjZShnZXRDcnlkckNvbnRyb2xsZXIoKSkudHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGV4dGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBDcnlkckNvbnRyb2xsZXJFUkMyMEludGVyZmFjZShnZXRDcnlkckNvbnRyb2xsZXIoKSkuZ2V0VG90YWxTdXBwbHkoKTsKICB9CgogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgZXh0ZXJuYWwgY29uc3RhbnQgb25seVBheWxvYWRTaXplKDEgKiAzMikgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIENyeWRyQ29udHJvbGxlckVSQzIwSW50ZXJmYWNlKGdldENyeWRyQ29udHJvbGxlcigpKS5nZXRCYWxhbmNlKF9vd25lcik7CiAgfQoKCiAgZnVuY3Rpb24gYXBwcm92ZSgKICAgIGFkZHJlc3MgX3NwZW5kZXIsCiAgICB1aW50MjU2IF92YWx1ZQogICkKICAgIGV4dGVybmFsCiAgICB3aGVuQ29udHJhY3ROb3RQYXVzZWQKICAgIG9ubHlQYXlsb2FkU2l6ZSgyICogMzIpCiAgICByZXR1cm5zIChib29sKQogIHsKICAgIENyeWRyQ29udHJvbGxlckVSQzIwSW50ZXJmYWNlKGdldENyeWRyQ29udHJvbGxlcigpKS5hcHByb3ZlKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oCiAgICBhZGRyZXNzIF9mcm9tLAogICAgYWRkcmVzcyBfdG8sCiAgICB1aW50MjU2IF92YWx1ZQogICkKICAgIGV4dGVybmFsCiAgICB3aGVuQ29udHJhY3ROb3RQYXVzZWQKICAgIG9ubHlQYXlsb2FkU2l6ZSgzICogMzIpCiAgICByZXR1cm5zIChib29sKQogIHsKICAgIENyeWRyQ29udHJvbGxlckVSQzIwSW50ZXJmYWNlKGdldENyeWRyQ29udHJvbGxlcigpKS50cmFuc2ZlckZyb20obXNnLnNlbmRlciwgX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gYWxsb3dhbmNlKAogICAgYWRkcmVzcyBfb3duZXIsCiAgICBhZGRyZXNzIF9zcGVuZGVyCiAgKQogICAgZXh0ZXJuYWwKICAgIGNvbnN0YW50CiAgICBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKQogICAgcmV0dXJucyAodWludDI1NikKICB7CiAgICByZXR1cm4gQ3J5ZHJDb250cm9sbGVyRVJDMjBJbnRlcmZhY2UoZ2V0Q3J5ZHJDb250cm9sbGVyKCkpLmdldEFsbG93YW5jZShfb3duZXIsIF9zcGVuZGVyKTsKICB9CgoKICAvKiBIZWxwZXJzICovCgogIC8qKgogICAqIEBkZXYgRml4IGZvciB0aGUgRVJDMjAgc2hvcnQgYWRkcmVzcyBhdHRhY2suCiAgICovCiAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQyNTYgc2l6ZSkgewogICAgcmVxdWlyZShtc2cuZGF0YS5sZW5ndGggPT0gKHNpemUgKyA0KSk7CiAgICBfOwogIH0KfQoKCgovKioKICogQHRpdGxlIENyeWRyVmlld0VSQzIwTG9nZ2FibGVJbnRlcmZhY2UKICogQGRldiBDb250cmFjdCBpcyBhYmxlIHRvIGNyZWF0ZSBUcmFuc2Zlci9BcHByb3ZhbCBldmVudHMgd2l0aCB0aGUgY2FsIGZyb20gY29udHJvbGxlcgogKi8KY29udHJhY3QgQ3J5ZHJWaWV3RVJDMjBMb2dnYWJsZUludGVyZmFjZSB7CgogIGZ1bmN0aW9uIGVtaXRUcmFuc2ZlckV2ZW50KGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWw7CiAgZnVuY3Rpb24gZW1pdEFwcHJvdmFsRXZlbnQoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBleHRlcm5hbDsKfQoKCgpjb250cmFjdCBDcnlkclZpZXdFUkMyMExvZ2dhYmxlIGlzIFBhdXNhYmxlSW50ZXJmYWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENyeWRyVmlld0Jhc2VJbnRlcmZhY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3J5ZHJWaWV3RVJDMjBJbnRlcmZhY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3J5ZHJWaWV3RVJDMjBMb2dnYWJsZUludGVyZmFjZSB7CgogIGZ1bmN0aW9uIGVtaXRUcmFuc2ZlckV2ZW50KAogICAgYWRkcmVzcyBfZnJvbSwKICAgIGFkZHJlc3MgX3RvLAogICAgdWludDI1NiBfdmFsdWUKICApCiAgICBleHRlcm5hbAogIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBnZXRDcnlkckNvbnRyb2xsZXIoKSk7CgogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIGVtaXRBcHByb3ZhbEV2ZW50KAogICAgYWRkcmVzcyBfb3duZXIsCiAgICBhZGRyZXNzIF9zcGVuZGVyLAogICAgdWludDI1NiBfdmFsdWUKICApCiAgICBleHRlcm5hbAogIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBnZXRDcnlkckNvbnRyb2xsZXIoKSk7CgogICAgQXBwcm92YWwoX293bmVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICB9Cn0KCgoKLyoqCiAqIEB0aXRsZSBDcnlkclZpZXdFUkMyME1pbnRhYmxlSW50ZXJmYWNlCiAqIEBkZXYgQ29udHJhY3QgaXMgYWJsZSB0byBjcmVhdGUgTWludC9CdXJuIGV2ZW50cyB3aXRoIHRoZSBjYWwgZnJvbSBjb250cm9sbGVyCiAqLwpjb250cmFjdCBDcnlkclZpZXdFUkMyME1pbnRhYmxlSW50ZXJmYWNlIHsKICBldmVudCBNaW50RXZlbnQoYWRkcmVzcyBpbmRleGVkIG93bmVyLCB1aW50MjU2IHZhbHVlKTsKICBldmVudCBCdXJuRXZlbnQoYWRkcmVzcyBpbmRleGVkIG93bmVyLCB1aW50MjU2IHZhbHVlKTsKCiAgZnVuY3Rpb24gZW1pdE1pbnRFdmVudChhZGRyZXNzIF9vd25lciwgdWludDI1NiBfdmFsdWUpIGV4dGVybmFsOwogIGZ1bmN0aW9uIGVtaXRCdXJuRXZlbnQoYWRkcmVzcyBfb3duZXIsIHVpbnQyNTYgX3ZhbHVlKSBleHRlcm5hbDsKfQoKCgpjb250cmFjdCBDcnlkclZpZXdFUkMyME1pbnRhYmxlIGlzIFBhdXNhYmxlSW50ZXJmYWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENyeWRyVmlld0Jhc2VJbnRlcmZhY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3J5ZHJWaWV3RVJDMjBNaW50YWJsZUludGVyZmFjZSB7CgogIGZ1bmN0aW9uIGVtaXRNaW50RXZlbnQoCiAgICBhZGRyZXNzIF9vd25lciwKICAgIHVpbnQyNTYgX3ZhbHVlCiAgKQogICAgZXh0ZXJuYWwKICB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZ2V0Q3J5ZHJDb250cm9sbGVyKCkpOwoKICAgIE1pbnRFdmVudChfb3duZXIsIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiBlbWl0QnVybkV2ZW50KAogICAgYWRkcmVzcyBfb3duZXIsCiAgICB1aW50MjU2IF92YWx1ZQogICkKICAgIGV4dGVybmFsCiAgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGdldENyeWRyQ29udHJvbGxlcigpKTsKCiAgICBCdXJuRXZlbnQoX293bmVyLCBfdmFsdWUpOwogIH0KfQoKCgovKioKICogQHRpdGxlIENyeWRyVmlld0VSQzIwTmFtZWRJbnRlcmZhY2UKICogQGRldiBDb250cmFjdCBpcyBhYmxlIHRvIHNldCBuYW1lL3N5bWJvbC9kZWNpbWFscwogKi8KY29udHJhY3QgQ3J5ZHJWaWV3RVJDMjBOYW1lZEludGVyZmFjZSB7CgogIGZ1bmN0aW9uIG5hbWUoKSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zIChzdHJpbmcpOwogIGZ1bmN0aW9uIHN5bWJvbCgpIGV4dGVybmFsIGNvbnN0YW50IHJldHVybnMgKHN0cmluZyk7CiAgZnVuY3Rpb24gZGVjaW1hbHMoKSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50OCk7CgogIGZ1bmN0aW9uIGdldE5hbWVIYXNoKCkgZXh0ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAoYnl0ZXMzMik7CiAgZnVuY3Rpb24gZ2V0U3ltYm9sSGFzaCgpIGV4dGVybmFsIGNvbnN0YW50IHJldHVybnMgKGJ5dGVzMzIpOwoKICBmdW5jdGlvbiBzZXROYW1lKHN0cmluZyBfbmFtZSkgZXh0ZXJuYWw7CiAgZnVuY3Rpb24gc2V0U3ltYm9sKHN0cmluZyBfc3ltYm9sKSBleHRlcm5hbDsKICBmdW5jdGlvbiBzZXREZWNpbWFscyh1aW50OCBfZGVjaW1hbHMpIGV4dGVybmFsOwp9CgoKCmNvbnRyYWN0IENyeWRyVmlld0VSQzIwTmFtZWQgaXMgTWFuYWdlYWJsZUludGVyZmFjZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXVzYWJsZUludGVyZmFjZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDcnlkclZpZXdFUkMyME5hbWVkSW50ZXJmYWNlIHsKCiAgLyogU3RvcmFnZSAqLwoKICBzdHJpbmcgdG9rZW5OYW1lID0gJyc7CiAgc3RyaW5nIHRva2VuU3ltYm9sID0gJyc7CiAgdWludDggdG9rZW5EZWNpbWFscyA9IDA7CgoKICAvKiBDb25zdHJ1Y3RvciAqLwoKICBmdW5jdGlvbiBDcnlkclZpZXdFUkMyME5hbWVkKHN0cmluZyBfbmFtZSwgc3RyaW5nIF9zeW1ib2wsIHVpbnQ4IF9kZWNpbWFscykgcHVibGljIHsKICAgIHJlcXVpcmUoYnl0ZXMoX25hbWUpLmxlbmd0aCA+IDApOwogICAgcmVxdWlyZShieXRlcyhfc3ltYm9sKS5sZW5ndGggPiAwKTsKCiAgICB0b2tlbk5hbWUgPSBfbmFtZTsKICAgIHRva2VuU3ltYm9sID0gX3N5bWJvbDsKICAgIHRva2VuRGVjaW1hbHMgPSBfZGVjaW1hbHM7CiAgfQoKCiAgLyogQ3J5ZHJWaWV3RVJDMjBOYW1lZEludGVyZmFjZSAqLwoKICBmdW5jdGlvbiBuYW1lKCkgZXh0ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nKSB7CiAgICByZXR1cm4gdG9rZW5OYW1lOwogIH0KCiAgZnVuY3Rpb24gc3ltYm9sKCkgZXh0ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nKSB7CiAgICByZXR1cm4gdG9rZW5TeW1ib2w7CiAgfQoKICBmdW5jdGlvbiBkZWNpbWFscygpIGV4dGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4KSB7CiAgICByZXR1cm4gdG9rZW5EZWNpbWFsczsKICB9CgoKICBmdW5jdGlvbiBnZXROYW1lSGFzaCgpIGV4dGVybmFsIGNvbnN0YW50IHJldHVybnMgKGJ5dGVzMzIpewogICAgcmV0dXJuIGtlY2NhazI1Nih0b2tlbk5hbWUpOwogIH0KCiAgZnVuY3Rpb24gZ2V0U3ltYm9sSGFzaCgpIGV4dGVybmFsIGNvbnN0YW50IHJldHVybnMgKGJ5dGVzMzIpewogICAgcmV0dXJuIGtlY2NhazI1Nih0b2tlblN5bWJvbCk7CiAgfQoKCiAgZnVuY3Rpb24gc2V0TmFtZSgKICAgIHN0cmluZyBfbmFtZQogICkKICAgIGV4dGVybmFsCiAgICB3aGVuQ29udHJhY3RQYXVzZWQKICAgIG9ubHlBbGxvd2VkTWFuYWdlcignc2V0X2NyeWRyX25hbWUnKQogIHsKICAgIHJlcXVpcmUoYnl0ZXMoX25hbWUpLmxlbmd0aCA+IDApOwoKICAgIHRva2VuTmFtZSA9IF9uYW1lOwogIH0KCiAgZnVuY3Rpb24gc2V0U3ltYm9sKAogICAgc3RyaW5nIF9zeW1ib2wKICApCiAgICBleHRlcm5hbAogICAgd2hlbkNvbnRyYWN0UGF1c2VkCiAgICBvbmx5QWxsb3dlZE1hbmFnZXIoJ3NldF9jcnlkcl9zeW1ib2wnKQogIHsKICAgIHJlcXVpcmUoYnl0ZXMoX3N5bWJvbCkubGVuZ3RoID4gMCk7CgogICAgdG9rZW5TeW1ib2wgPSBfc3ltYm9sOwogIH0KCiAgZnVuY3Rpb24gc2V0RGVjaW1hbHMoCiAgICB1aW50OCBfZGVjaW1hbHMKICApCiAgICBleHRlcm5hbAogICAgd2hlbkNvbnRyYWN0UGF1c2VkCiAgICBvbmx5QWxsb3dlZE1hbmFnZXIoJ3NldF9jcnlkcl9kZWNpbWFscycpCiAgewogICAgdG9rZW5EZWNpbWFscyA9IF9kZWNpbWFsczsKICB9Cn0KCgoKY29udHJhY3QgSkNhc2hDcnlkclZpZXdFUkMyMCBpcyBDb21tb25Nb2RpZmllcnMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXNzZXRJRCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPd25hYmxlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hbmFnZWFibGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGF1c2FibGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQnl0ZWNvZGVFeGVjdXRvciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDcnlkclZpZXdCYXNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENyeWRyVmlld0VSQzIwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENyeWRyVmlld0VSQzIwTG9nZ2FibGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3J5ZHJWaWV3RVJDMjBNaW50YWJsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDcnlkclZpZXdFUkMyME5hbWVkIHsKCiAgZnVuY3Rpb24gSkNhc2hDcnlkclZpZXdFUkMyMChzdHJpbmcgX2Fzc2V0SUQsIHN0cmluZyBfbmFtZSwgc3RyaW5nIF9zeW1ib2wsIHVpbnQ4IF9kZWNpbWFscykKICAgIHB1YmxpYwogICAgQXNzZXRJRChfYXNzZXRJRCkKICAgIENyeWRyVmlld0Jhc2UoJ2VyYzIwJykKICAgIENyeWRyVmlld0VSQzIwTmFtZWQoX25hbWUsIF9zeW1ib2wsIF9kZWNpbWFscykKICB7IH0KfQoKCgpjb250cmFjdCBKTlRWaWV3RVJDMjAgaXMgSkNhc2hDcnlkclZpZXdFUkMyMCB7CiAgZnVuY3Rpb24gSk5UVmlld0VSQzIwKCkgcHVibGljIEpDYXNoQ3J5ZHJWaWV3RVJDMjAoJ0pOVCcsICdKaWJyZWwgTmV0d29yayBUb2tlbicsICdKTlQnLCAxOCkge30KfQ=='.
	

]
