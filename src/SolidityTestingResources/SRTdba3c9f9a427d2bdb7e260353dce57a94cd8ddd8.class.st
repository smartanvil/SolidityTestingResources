Class {
	#name : #SRTdba3c9f9a427d2bdb7e260353dce57a94cd8ddd8,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTdba3c9f9a427d2bdb7e260353dce57a94cd8ddd8 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vCi8vIE93bmVkIGNvbnRyYWN0Ci8vCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmNvbnRyYWN0IE93bmVkIHsKCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIGFkZHJlc3MgcHVibGljIG5ld093bmVyOwoKICAgIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVyUHJvcG9zZWQoCiAgICAgIGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwKICAgICAgYWRkcmVzcyBpbmRleGVkIF90bwogICAgKTsKCiAgICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZCgKICAgICAgYWRkcmVzcyBpbmRleGVkIF9mcm9tLAogICAgICBhZGRyZXNzIGluZGV4ZWQgX3RvCiAgICApOwoKICAgIGZ1bmN0aW9uIE93bmVkKCkKICAgIHsKICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lcgogICAgewogICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBvbmx5T3duZXIKICAgIHsKICAgICAgcmVxdWlyZShfbmV3T3duZXIgIT0gYWRkcmVzcygweDApKTsKICAgICAgT3duZXJzaGlwVHJhbnNmZXJQcm9wb3NlZChvd25lciwgX25ld093bmVyKTsKICAgICAgbmV3T3duZXIgPSBfbmV3T3duZXI7CiAgICB9CgogICAgZnVuY3Rpb24gYWNjZXB0T3duZXJzaGlwKCkKICAgIHsKICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG5ld093bmVyKTsKICAgICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KCn0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vCi8vIFNhZmVNYXRoIGNvbnRyYWN0Ci8vCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmNvbnRyYWN0IFNhZmVNYXRoIHsKCiAgZnVuY3Rpb24gc2FmZUFkZCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwKICAgIHJldHVybnMgKHVpbnQpCiAgewogICAgdWludCBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhICYmIGMgPj0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHNhZmVTdWIodWludCBhLCB1aW50IGIpIGludGVybmFsCiAgICByZXR1cm5zICh1aW50KQogIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgdWludCBjID0gYSAtIGI7CiAgICBhc3NlcnQoYyA8PSBhKTsKICAgIHJldHVybiBjOwogIH0KCn0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vCi8vIEVSQyBUb2tlbiBTdGFuZGFyZCAjMjAgSW50ZXJmYWNlCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAovLwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpjb250cmFjdCBFUkMyMEludGVyZmFjZSB7CgogICAgZXZlbnQgTG9nVHJhbnNmZXIoCiAgICAgIGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwKICAgICAgYWRkcmVzcyBpbmRleGVkIF90bywKICAgICAgdWludDI1NiBfdmFsdWUKICAgICk7CiAgICAKICAgIGV2ZW50IExvZ0FwcHJvdmFsKAogICAgICBhZGRyZXNzIGluZGV4ZWQgX293bmVyLAogICAgICBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsCiAgICAgIHVpbnQyNTYgX3ZhbHVlCiAgICApOwoKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQKICAgICAgcmV0dXJucyAodWludDI1Nik7CiAgICAKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgCiAgICAgIHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CiAgICAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkKICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgCiAgICAgIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICAKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIAogICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IAogICAgICByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7Cgp9CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vCi8vIEVSQyBUb2tlbiBTdGFuZGFyZCAjMjAKLy8KLy8gbm90ZSB0aGF0IHRvdGFsU3VwcGx5KCkgaXMgbm90IGRlZmluZWQgaGVyZQovLwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpjb250cmFjdCBFUkMyMFRva2VuIGlzIEVSQzIwSW50ZXJmYWNlLCBPd25lZCwgU2FmZU1hdGggewoKICAgIC8vIEFjY291bnQgYmFsYW5jZXMKICAgIC8vCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogICAgLy8gQWNjb3VudCBob2xkZXIgYXBwcm92ZXMgdGhlIHRyYW5zZmVyIG9mIGFuIGFtb3VudCB0byBhbm90aGVyIGFjY291bnQKICAgIC8vCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCiAgICAvLyBHZXQgdGhlIGFjY291bnQgYmFsYW5jZSBmb3IgYW4gYWRkcmVzcwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCAKICAgICAgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKQogICAgewogICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFRyYW5zZmVyIHRoZSBiYWxhbmNlIGZyb20gb3duZXIncyBhY2NvdW50IHRvIGFub3RoZXIgYWNjb3VudAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSAKICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQogICAgewogICAgICByZXF1aXJlKCBfYW1vdW50ID4gMCApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vbi16ZXJvIHRyYW5zZmVyCiAgICAgIHJlcXVpcmUoIGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF9hbW91bnQgKTsgICAgICAgICAgLy8gVXNlciBoYXMgYmFsYW5jZQogICAgICByZXF1aXJlKCBiYWxhbmNlc1tfdG9dICsgX2Ftb3VudCA+IGJhbGFuY2VzW190b10gKTsgIC8vIE92ZXJmbG93IGNoZWNrCgogICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfYW1vdW50OwogICAgICBiYWxhbmNlc1tfdG9dICs9IF9hbW91bnQ7CiAgICAgIExvZ1RyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gQWxsb3cgX3NwZW5kZXIgdG8gd2l0aGRyYXcgZnJvbSB5b3VyIGFjY291bnQsIG11bHRpcGxlIHRpbWVzLCB1cCB0bwogICAgLy8gX2Ftb3VudC4gSWYgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYWdhaW4gaXQgb3ZlcndyaXRlcyB0aGUKICAgIC8vIGN1cnJlbnQgYWxsb3dhbmNlIHdpdGggX2Ftb3VudC4KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF9hbW91bnQpIAogICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpCiAgICB7CiAgICAgIC8vIGJlZm9yZSBjaGFuZ2luZyB0aGUgYXBwcm92ZSBhbW91bnQgZm9yIGFuIGFkZHJlc3MsIGl0cyBhbGxvd2FuY2UKICAgICAgLy8gbXVzdCBiZSByZXNldCB0byAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgICAgLy8gY2YgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgICAgcmVxdWlyZSggX2Ftb3VudCA9PSAwIHx8IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDAgKTsKICAgICAgICAKICAgICAgLy8gdGhlIGFwcHJvdmFsIGFtb3VudCBjYW5ub3QgZXhjZWVkIHRoZSBiYWxhbmNlCiAgICAgIHJlcXVpcmUgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF9hbW91bnQpOwogICAgICAgIAogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF9hbW91bnQ7CiAgICAgIExvZ0FwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfYW1vdW50KTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBTcGVuZGVyIG9mIHRva2VucyB0cmFuc2ZlciBhbiBhbW91bnQgb2YgdG9rZW5zIGZyb20gdGhlIHRva2VuIG93bmVyJ3MKICAgIC8vIGJhbGFuY2UgdG8gYW5vdGhlciBhY2NvdW50LiBUaGUgb3duZXIgb2YgdGhlIHRva2VucyBtdXN0IGFscmVhZHkKICAgIC8vIGhhdmUgYXBwcm92ZSguLi4pLWQgdGhpcyB0cmFuc2ZlcgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIAogICAgewogICAgICByZXF1aXJlKCBfYW1vdW50ID4gMCApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vbi16ZXJvIHRyYW5zZmVyCiAgICAgIHJlcXVpcmUoIGJhbGFuY2VzW19mcm9tXSA+PSBfYW1vdW50ICk7ICAgICAgICAgICAgICAgLy8gU3VmZmljaWVudCBiYWxhbmNlCiAgICAgIHJlcXVpcmUoIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF9hbW91bnQgKTsgICAgLy8gVHJhbnNmZXIgYXBwcm92ZWQKICAgICAgcmVxdWlyZSggYmFsYW5jZXNbX3RvXSArIF9hbW91bnQgPiBiYWxhbmNlc1tfdG9dICk7ICAvLyBPdmVyZmxvdyBjaGVjawoKICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF9hbW91bnQ7CiAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF9hbW91bnQ7CiAgICAgIGJhbGFuY2VzW190b10gKz0gX2Ftb3VudDsKICAgICAgTG9nVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gUmV0dXJucyB0aGUgYW1vdW50IG9mIHRva2VucyBhcHByb3ZlZCBieSB0aGUgb3duZXIgdGhhdCBjYW4gYmUKICAgIC8vIHRyYW5zZmVycmVkIGJ5IF9zcGVuZGVyCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IAogICAgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpCiAgICB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKfQoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLwovLyBHWlIgcHVibGljIHRva2VuIHNhbGUKLy8KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY29udHJhY3QgWm9ycm8wMlRva2VuIGlzIEVSQzIwVG9rZW4gewoKCiAgICAvLyBWQVJJQUJMRVMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCgogICAgLy8gYmFzaWMgdG9rZW4gZGF0YQoKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJab3JybzAyIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIlpPUlJPMDIiOwogICAgdWludDggcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IEdJVEhVQl9MSU5LID0gJ2h0cDovL2dpdGh1Yi5jb20vLi4nOwoKICAgIC8vIHdhbGxldCBhZGRyZXNzIChjYW4gYmUgcmVzZXQgYXQgYW55IHRpbWUgZHVyaW5nIElDTykKICAgIAogICAgYWRkcmVzcyBwdWJsaWMgd2FsbGV0OwoKICAgIC8vIElDTyB2YXJpYWJsZXMgdGhhdCBjYW4gYmUgcmVzZXQgYmVmb3JlIElDTyBzdGFydHMKCiAgICB1aW50IHB1YmxpYyB0b2tlbnNQZXJFdGggPSAxMDAwMDA7CiAgICB1aW50IHB1YmxpYyBpY29Ub2tlblN1cHBseSA9IDMwMDsKCiAgICAvLyBJQ08gY29uc3RhbnRzICMxCgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgVE9UQUxfVE9LRU5fU1VQUExZID0gMTAwMDsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IElDT19UUklHR0VSID0gMTA7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBNSU5fQ09OVFJJQlVUSU9OID0gMTAqKjE1OwogICAgCiAgICAvLyBJQ08gY29uc3RhbnRzICMyIDogSUNPIGRhdGVzCgogICAgLy8gU3RhcnQgLSBGcmlkYXksIDE1LVNlcC0xNyAwMDowMDowMCBVVEMKICAgIC8vIEVuZCAtIFN1bmRheSwgMTUtT2N0LTE3IDAwOjAwOjAwIFVUQwogICAgLy8gYXMgcGVyIGh0dHA6Ly93d3cudW5peHRpbWVzdGFtcC5jb20KICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFNUQVJUX0RBVEUgPSAxNTAyNzg3NjAwOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgRU5EX0RBVEUgPSAxNTAyNzkxMjAwOwoKICAgIC8vIElDTyB2YXJpYWJsZXMKCiAgICB1aW50IHB1YmxpYyBpY29Ub2tlbnNJc3N1ZWQgPSAwOwogICAgYm9vbCBwdWJsaWMgaWNvRmluaXNoZWQgPSBmYWxzZTsKICAgIGJvb2wgcHVibGljIHRyYWRlYWJsZSA9IGZhbHNlOwoKICAgIC8vIE1pbnRpbmcKICAgIAogICAgdWludCBwdWJsaWMgb3duZXJUb2tlbnNNaW50ZWQgPSAwOwogICAgCiAgICAvLyBvdGhlciB2YXJpYWJsZXMKICAgIAogICAgdWludDI1NiBjb25zdGFudCBNVUxUX0ZBQ1RPUiA9IDEwKioxODsKICAgIAoKICAgIC8vIEVWRU5UUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKICAgIAogICAgZXZlbnQgTG9nV2FsbGV0VXBkYXRlZCgKICAgICAgYWRkcmVzcyBuZXdXYWxsZXQKICAgICk7CiAgICAKICAgIGV2ZW50IExvZ1Rva2Vuc1BlckV0aFVwZGF0ZWQoCiAgICAgIHVpbnQgbmV3VG9rZW5zUGVyRXRoCiAgICApOwogICAgCiAgICBldmVudCBMb2dJY29Ub2tlblN1cHBseVVwZGF0ZWQoCiAgICAgIHVpbnQgbmV3SWNvVG9rZW5TdXBwbHkKICAgICk7CiAgICAKICAgIGV2ZW50IExvZ1Rva2Vuc0JvdWdodCgKICAgICAgYWRkcmVzcyBpbmRleGVkIGJ1eWVyLAogICAgICB1aW50IGV0aGVycywKICAgICAgdWludCB0b2tlbnMsIAogICAgICB1aW50IHBhcnRpY2lwYW50VG9rZW5CYWxhbmNlLCAKICAgICAgdWludCBuZXdJY29Ub2tlbnNJc3N1ZWQKICAgICk7CiAgICAKICAgIGV2ZW50IExvZ01pbnRpbmcoCiAgICAgIGFkZHJlc3MgaW5kZXhlZCBwYXJ0aWNpcGFudCwKICAgICAgdWludCB0b2tlbnMsCiAgICAgIHVpbnQgbmV3T3duZXJUb2tlbnNNaW50ZWQKICAgICk7CgoKICAgIC8vIEZVTkNUSU9OUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gaW5pdGlhbGl6ZQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBmdW5jdGlvbiBab3JybzAyVG9rZW4oKSB7CiAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgd2FsbGV0ID0gbXNnLnNlbmRlcjsKICAgIH0KCgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIGltcGxlbWVudCB0b3RhbFN1cHBseSgpIEVSQzIwIGZ1bmN0aW9uCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50CiAgICAgIHJldHVybnMgKHVpbnQyNTYpCiAgICB7CiAgICAgIHJldHVybiBUT1RBTF9UT0tFTl9TVVBQTFk7CiAgICB9CgoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBjaGFuZ2luZyBJQ08gcGFyYW1ldGVycwogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIAogICAgLy8gT3duZXIgY2FuIGNoYW5nZSB0aGUgY3Jvd2RzYWxlIHdhbGxldCBhZGRyZXNzIGF0IGFueSB0aW1lCiAgICAvLwogICAgZnVuY3Rpb24gc2V0V2FsbGV0KGFkZHJlc3MgX3dhbGxldCkgb25seU93bmVyCiAgICB7CiAgICAgIHdhbGxldCA9IF93YWxsZXQ7CiAgICAgIExvZ1dhbGxldFVwZGF0ZWQod2FsbGV0KTsKICAgIH0KICAgIAogICAgLy8gT3duZXIgY2FuIGNoYW5nZSB0aGUgbnVtYmVyIG9mIHRva2VucyBwZXIgRVRIIGJlZm9yZSB0aGUgSUNPIHN0YXJ0IGRhdGUKICAgIC8vCiAgICBmdW5jdGlvbiBzZXRUb2tlbnNQZXJFdGgodWludCBfdG9rZW5zUGVyRXRoKSBvbmx5T3duZXIKICAgIHsKICAgICAgcmVxdWlyZShub3cgPCBTVEFSVF9EQVRFKTsKICAgICAgcmVxdWlyZShfdG9rZW5zUGVyRXRoID4gMCk7CiAgICAgIHRva2Vuc1BlckV0aCA9IF90b2tlbnNQZXJFdGg7CiAgICAgIExvZ1Rva2Vuc1BlckV0aFVwZGF0ZWQodG9rZW5zUGVyRXRoKTsKICAgIH0KICAgICAgICAKCiAgICAvLyBPd25lciBjYW4gY2hhbmdlIHRoZSBudW1iZXIgYXZhaWxhYmxlIHRva2VucyBmb3IgdGhlIElDTwogICAgLy8gKG11c3QgYmUgYmVsb3cgNzAgbWlsbGlvbikgCiAgICAvLwogICAgZnVuY3Rpb24gc2V0SWNvVG9rZW5TdXBwbHkodWludCBfaWNvVG9rZW5TdXBwbHkpIG9ubHlPd25lcgogICAgewogICAgICAgIHJlcXVpcmUobm93IDwgU1RBUlRfREFURSk7CiAgICAgICAgcmVxdWlyZShfaWNvVG9rZW5TdXBwbHkgPCBUT1RBTF9UT0tFTl9TVVBQTFkpOwogICAgICAgIGljb1Rva2VuU3VwcGx5ID0gX2ljb1Rva2VuU3VwcGx5OwogICAgICAgIExvZ0ljb1Rva2VuU3VwcGx5VXBkYXRlZChpY29Ub2tlblN1cHBseSk7CiAgICB9CgoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBEZWZhdWx0IGZ1bmN0aW9uCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlCiAgICB7CiAgICAgICAgcHJveHlQYXltZW50KG1zZy5zZW5kZXIpOwogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBBY2NlcHQgRVRIIGR1cmluZyBjcm93ZHNhbGUKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZnVuY3Rpb24gcHJveHlQYXltZW50KGFkZHJlc3MgcGFydGljaXBhbnQpIHBheWFibGUKICAgIHsKICAgICAgICByZXF1aXJlKCFpY29GaW5pc2hlZCk7CiAgICAgICAgcmVxdWlyZShub3cgPj0gU1RBUlRfREFURSk7CiAgICAgICAgcmVxdWlyZShub3cgPD0gRU5EX0RBVEUpOwogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID4gTUlOX0NPTlRSSUJVVElPTik7CiAgICAgICAgCiAgICAgICAgLy8gZ2V0IG51bWJlciBvZiB0b2tlbnMKICAgICAgICB1aW50IHRva2VucyA9IG1zZy52YWx1ZSAqIHRva2Vuc1BlckV0aDsKICAgICAgICAKICAgICAgICAvLyBmaXJzdCBjaGVjayBpZiB0aGVyZSBpcyBlbm91Z2ggY2FwYWNpdHkKICAgICAgICB1aW50IGF2YWlsYWJsZSA9IGljb1Rva2VuU3VwcGx5IC0gaWNvVG9rZW5zSXNzdWVkOwogICAgICAgIHJlcXVpcmUgKHRva2VucyA8PSBhdmFpbGFibGUpOyAKCiAgICAgICAgLy8gb2sgaXQncyBwb3NzaWJsZSB0byBpc3N1ZSB0b2tlbnMgc28gbGV0J3MgZG8gaXQKICAgICAgICAKICAgICAgICAvLyBBZGQgdG9rZW5zIHB1cmNoYXNlZCB0byBhY2NvdW50J3MgYmFsYW5jZSBhbmQgdG90YWwgc3VwcGx5CiAgICAgICAgLy8gVE9ETyAtIHZlcmlmeSBTYWZlQWRkIGlzIG5vdCBuZWNlc3NhcnkKICAgICAgICBiYWxhbmNlc1twYXJ0aWNpcGFudF0gKz0gdG9rZW5zOwogICAgICAgIGljb1Rva2Vuc0lzc3VlZCArPSB0b2tlbnM7CgogICAgICAgIC8vIFRyYW5zZmVyIHRoZSB0b2tlbnMgdG8gdGhlIHBhcnRpY2lwYW50ICAKICAgICAgICBMb2dUcmFuc2ZlcigweDAsIHBhcnRpY2lwYW50LCB0b2tlbnMpOwogICAgICAgIAogICAgICAgIC8vIExvZyB0aGUgdG9rZW4gcHVyY2hhc2UKICAgICAgICBMb2dUb2tlbnNCb3VnaHQocGFydGljaXBhbnQsIG1zZy52YWx1ZSwgdG9rZW5zLCBiYWxhbmNlc1twYXJ0aWNpcGFudF0sIGljb1Rva2Vuc0lzc3VlZCk7CgogICAgICAgIC8vIFRyYW5zZmVyIHRoZSBjb250cmlidXRlZCBldGhlcnMgdG8gdGhlIGNyb3dkc2FsZSB3YWxsZXQKICAgICAgICAvLyB0aHJvdyBpcyBkZXByZWNhdGVkIHN0YXJ0aW5nIGZyb20gRXRoZXJldW0gdjAuOS4wCiAgICAgICAgd2FsbGV0LnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgICB9CgogICAgCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gTWludGluZyBvZiB0b2tlbnMgYnkgb3duZXIKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgLy8gVG9rZW5zIHJlbWFpbmluZyBhdmFpbGFibGUgdG8gbWludCBieSBvd25lcgogICAgLy8KICAgIGZ1bmN0aW9uIGF2YWlsYWJsZVRvTWludCgpCiAgICAgIHJldHVybnMgKHVpbnQpCiAgICB7CiAgICAgIGlmIChpY29GaW5pc2hlZCkgewogICAgICAgIHJldHVybiBUT1RBTF9UT0tFTl9TVVBQTFkgLSBpY29Ub2tlbnNJc3N1ZWQgLSBvd25lclRva2Vuc01pbnRlZDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gVE9UQUxfVE9LRU5fU1VQUExZIC0gaWNvVG9rZW5TdXBwbHkgLSBvd25lclRva2Vuc01pbnRlZDsgICAgICAgIAogICAgICB9CiAgICB9CgogICAgLy8gTWludGluZyBvZiB0b2tlbnMgYnkgb3duZXIKICAgIC8vICAgIAogICAgZnVuY3Rpb24gbWludChhZGRyZXNzIHBhcnRpY2lwYW50LCB1aW50MjU2IHRva2Vucykgb25seU93bmVyIAogICAgewogICAgICAgIHJlcXVpcmUoIHRva2VucyA8PSBhdmFpbGFibGVUb01pbnQoKSApOwogICAgICAgIGJhbGFuY2VzW3BhcnRpY2lwYW50XSArPSB0b2tlbnM7CiAgICAgICAgb3duZXJUb2tlbnNNaW50ZWQgKz0gdG9rZW5zOwogICAgICAgIExvZ1RyYW5zZmVyKDB4MCwgcGFydGljaXBhbnQsIHRva2Vucyk7CiAgICAgICAgTG9nTWludGluZyhwYXJ0aWNpcGFudCwgdG9rZW5zLCBvd25lclRva2Vuc01pbnRlZCk7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIERlY2xhcmUgSUNPIGZpbmlzaGVkCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgCiAgICBmdW5jdGlvbiBkZWNsYXJlSWNvRmluaXNoZWQoKSBvbmx5T3duZXIKICAgIHsKICAgICAgLy8gdGhlIHRva2VuIGNhbiBvbmx5IGJlIG1hZGUgdHJhZGVhYmxlIGFmdGVyIElDTyBmaW5pc2hlcwogICAgICByZXF1aXJlKCBub3cgPiBFTkRfREFURSB8fCBpY29Ub2tlblN1cHBseSAtIGljb1Rva2Vuc0lzc3VlZCA8IElDT19UUklHR0VSICk7CiAgICAgIGljb0ZpbmlzaGVkID0gdHJ1ZTsKICAgIH0KCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gTWFrZSB0b2tlbnMgdHJhZGVhYmxlCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgCiAgICBmdW5jdGlvbiB0cmFkZWFibGUoKSBvbmx5T3duZXIKICAgIHsKICAgICAgLy8gdGhlIHRva2VuIGNhbiBvbmx5IGJlIG1hZGUgdHJhZGVhYmxlIGFmdGVyIElDTyBmaW5pc2hlcwogICAgICByZXF1aXJlKGljb0ZpbmlzaGVkKTsKICAgICAgdHJhZGVhYmxlID0gdHJ1ZTsKICAgIH0KCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gVHJhbnNmZXJzCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIAogICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpCiAgICB7CiAgICAgIC8vIENhbm5vdCB0cmFuc2ZlciBvdXQgdW50aWwgdHJhZGVhYmxlLCBleGNlcHQgZm9yIG93bmVyCiAgICAgIHJlcXVpcmUodHJhZGVhYmxlIHx8IG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLCBfYW1vdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgCiAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykKICAgIHsKICAgICAgICAvLyBub3QgcG9zc2libGUgdW50aWwgdHJhZGVhYmxlCiAgICAgICAgcmVxdWlyZSh0cmFkZWFibGUpOwogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFZhcmlhCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIC8vIFRyYW5zZmVyIG91dCBhbnkgYWNjaWRlbnRhbGx5IHNlbnQgRVJDMjAgdG9rZW5zCiAgICBmdW5jdGlvbiB0cmFuc2ZlckFueUVSQzIwVG9rZW4oYWRkcmVzcyB0b2tlbkFkZHJlc3MsIHVpbnQgYW1vdW50KSBvbmx5T3duZXIgCiAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgCiAgICB7CiAgICAgICAgcmV0dXJuIEVSQzIwSW50ZXJmYWNlKHRva2VuQWRkcmVzcykudHJhbnNmZXIob3duZXIsIGFtb3VudCk7CiAgICB9Cgp9'.
	

]
