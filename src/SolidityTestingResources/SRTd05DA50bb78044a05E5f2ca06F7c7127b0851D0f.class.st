Class {
	#name : #SRTd05DA50bb78044a05E5f2ca06F7c7127b0851D0f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd05DA50bb78044a05E5f2ca06F7c7127b0851D0f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuOTsKCmNvbnRyYWN0IEVSQzIwIHsKCXN0cmluZyBwdWJsaWMgbmFtZTsKCXN0cmluZyBwdWJsaWMgc3ltYm9sOwoJdWludDggcHVibGljIGRlY2ltYWxzID0gODsKCgl1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsKCWZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgYmFsYW5jZSk7CglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoJZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CglmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCWZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsKCWV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwoJZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewoJZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CgkJdWludDI1NiBjID0gYSAqIGI7CgkJYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKCQlyZXR1cm4gYzsKCX0KCgkvKiBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKCQkvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKCQl1aW50MjU2IGMgPSBhIC8gYjsKCQkvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAoJCXJldHVybiBjOwoJfSAqLwoKCWZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewoJCWFzc2VydChiIDw9IGEpOwoJCXJldHVybiBhIC0gYjsKCX0KCglmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKCQl1aW50MjU2IGMgPSBhICsgYjsKCQlhc3NlcnQoYyA+PSBhKTsKCQlyZXR1cm4gYzsKCX0KfQoKY29udHJhY3Qgb3duZWQgewoJYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoJZnVuY3Rpb24gb3duZWQoKSBwdWJsaWMgewoJCW93bmVyID0gbXNnLnNlbmRlcjsKCX0KCgltb2RpZmllciBvbmx5T3duZXIgewoJCXJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CgkJXzsKCX0KCglmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKCQlvd25lciA9IG5ld093bmVyOwoJfQp9Cgpjb250cmFjdCBCYXppc3RhVG9rZW4gaXMgRVJDMjAsIG93bmVkIHsKCXVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKCXN0cmluZyBwdWJsaWMgbmFtZSA9ICdCYXppc3RhIFRva2VuJzsKCXN0cmluZyBwdWJsaWMgc3ltYm9sID0gJ0JaUyc7CgoJdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHkgPSA0NDAwMDAwMDAwMDAwMDAwMDsKCglhZGRyZXNzIHB1YmxpYyBpY29XYWxsZXQ7Cgl1aW50MjU2IHB1YmxpYyBpY29TdXBwbHkgPSAzMzQ0MDAwMDAwMDAwMDAwMDsKCglhZGRyZXNzIHB1YmxpYyBhZHZpc29yc1dhbGxldDsKCXVpbnQyNTYgcHVibGljIGFkdmlzb3JzU3VwcGx5ID0gMTMyMDAwMDAwMDAwMDAwMDsKCglhZGRyZXNzIHB1YmxpYyB0ZWFtV2FsbGV0OwoJdWludDI1NiBwdWJsaWMgdGVhbVN1cHBseSA9IDY2MDAwMDAwMDAwMDAwMDA7CgoJYWRkcmVzcyBwdWJsaWMgbWFya2V0aW5nV2FsbGV0OwoJdWludDI1NiBwdWJsaWMgbWFya2V0aW5nU3VwcGx5ID0gMTc2MDAwMDAwMDAwMDAwMDsKCglhZGRyZXNzIHB1YmxpYyBib3VudHlXYWxsZXQ7Cgl1aW50MjU2IHB1YmxpYyBib3VudHlTdXBwbHkgPSA4ODAwMDAwMDAwMDAwMDA7CgoJbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwoJbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKCW1vZGlmaWVyIG9ubHlQYXlsb2FkU2l6ZSh1aW50IHNpemUpIHsKCQlyZXF1aXJlKG1zZy5kYXRhLmxlbmd0aCA+PSAoc2l6ZSArIDQpKTsKCQlfOwoJfQoKCWZ1bmN0aW9uIEJhemlzdGFUb2tlbiAoKSBwdWJsaWMgewoJCWJhbGFuY2VzW3RoaXNdID0gdG90YWxTdXBwbHk7Cgl9CgoKCWZ1bmN0aW9uIHNldFdhbGxldHMoYWRkcmVzcyBfYWR2aXNvcnNXYWxsZXQsIGFkZHJlc3MgX3RlYW1XYWxsZXQsIGFkZHJlc3MgX21hcmtldGluZ1dhbGxldCwgYWRkcmVzcyBfYm91bnR5V2FsbGV0KSBwdWJsaWMgb25seU93bmVyIHsKCQlhZHZpc29yc1dhbGxldCA9IF9hZHZpc29yc1dhbGxldDsKCQlfdHJhbnNmZXJGcm9tKHRoaXMsIGFkdmlzb3JzV2FsbGV0LCBhZHZpc29yc1N1cHBseSk7CgoJCXRlYW1XYWxsZXQgPSBfdGVhbVdhbGxldDsKCQlfdHJhbnNmZXJGcm9tKHRoaXMsIHRlYW1XYWxsZXQsIHRlYW1TdXBwbHkpOwoKCQltYXJrZXRpbmdXYWxsZXQgPSBfbWFya2V0aW5nV2FsbGV0OwoJCV90cmFuc2ZlckZyb20odGhpcywgbWFya2V0aW5nV2FsbGV0LCBtYXJrZXRpbmdTdXBwbHkpOwoKCQlib3VudHlXYWxsZXQgPSBfYm91bnR5V2FsbGV0OwoJCV90cmFuc2ZlckZyb20odGhpcywgYm91bnR5V2FsbGV0LCBib3VudHlTdXBwbHkpOwoJfQoKCglmdW5jdGlvbiBzZXRJQ08oYWRkcmVzcyBfaWNvV2FsbGV0KSBwdWJsaWMgb25seU93bmVyIHsKCQlpY29XYWxsZXQgPSBfaWNvV2FsbGV0OwoJCV90cmFuc2ZlckZyb20odGhpcywgaWNvV2FsbGV0LCBpY29TdXBwbHkpOwoJfQoKCWZ1bmN0aW9uICgpIHB1YmxpY3sKCQlyZXZlcnQoKTsKCX0KCglmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpIHsKCQlyZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKCX0KCWZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CgkJcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07Cgl9CgoJZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgb25seVBheWxvYWRTaXplKDIgKiAzMikgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgkJX3RyYW5zZmVyRnJvbShtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CgkJcmV0dXJuIHRydWU7Cgl9CglmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgb25seVBheWxvYWRTaXplKDMgKiAzMikgcmV0dXJucyAoYm9vbCkgewoJCWFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CgkJX3RyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpOwoJCXJldHVybiB0cnVlOwoJfQoJZnVuY3Rpb24gX3RyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGludGVybmFsIHsKCQlyZXF1aXJlKF92YWx1ZSA+IDApOwoJCWJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKCQliYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKCQlUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwoJfQoKCWZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CgkJcmVxdWlyZSgoX3ZhbHVlID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CgkJYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CgkJQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CgkJcmV0dXJuIHRydWU7Cgl9Cn0KCmNvbnRyYWN0IEJhemlzdGFJQ08gaXMgb3duZWQgewoJZW51bSBTdGF0dXMge1dBSVRfUFJFU0FMRSwgUFJFU0FMRSwgV0FJVF9TQUxFLCBTQUxFLCBTVE9QLCBGSU5JU0gsIFJFRlVORH0KCXVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKCUJhemlzdGFUb2tlbiBwdWJsaWMgdG9rZW47CgoJU3RhdHVzIHB1YmxpYyBzdGF0dXMgPSBTdGF0dXMuV0FJVF9QUkVTQUxFOwoKCXVpbnQyNTYgcHVibGljIGNyb3dkc2FsZVRva2VucyA9IDMyMTIwMDAwMDAwMDAwMDAwOwoJdWludDI1NiBwdWJsaWMgcHJlc2FsZVRva2VucyA9IDEzMjAwMDAwMDAwMDAwMDA7CgoJdWludDI1NiBwdWJsaWMgd2lyZUxpbWl0ID0gNjY4ODAwMDAwMDAwMDAwMDsKCXVpbnQyNTYgcHVibGljIHNvbGRUb2tlbnMgPSAwOwoKCXVpbnQyNTYgcHVibGljIHByZXNhbGVTdGFydCA9IDE1MTA4MjI4MDA7CS8vMjAxNy0xMS0xNiAxMjowMDowMAoJdWludDI1NiBwdWJsaWMgcHJlc2FsZUVuZCA9IDE1MTEyNTQ4MDA7CQkvLzIwMTctMTEtMjEgMTI6MDA6MDAKCXVpbnQyNTYgcHVibGljIHNhbGVTdGFydCA9IDE1MTIzNzgwMDA7CQkvLzIwMTctMTItMDQgMTI6MDA6MDAKCXVpbnQyNTYgcHVibGljIHNhbGVFbmQgPSAxNTE0OTcwMDAwOwkJLy8yMDE4LTAxLTAzIDEyOjAwOjAwCgoJdWludDI1NiBwdWJsaWMgc2FsZVByaWNlID0gMTEwMDAwMDAwMDAwMDsKCXVpbnQyNTYgcHVibGljIG1pblRva2VucyA9IDQxODAwMDAwMDAwMDAwMDA7IC8vMzgwMCpzYWxlUHJpY2UKCXVpbnQyNTYgcHVibGljIG1heFdlaXMgPSAzMDMwMDAwMDAwMDAwMDAwMDAwMDAwMDsgLy8zMDMwMCBldGgKCgltYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgZGVwb3NpdHM7CgoJZnVuY3Rpb24gQmF6aXN0YUlDTyAoCgkJYWRkcmVzcyB0b2tlbkFkZHJlc3MsCgkJYWRkcmVzcyBfb3duZXIKCSkgcHVibGljIHsKCQlvd25lciA9IF9vd25lcjsKCQl0b2tlbiA9IEJhemlzdGFUb2tlbih0b2tlbkFkZHJlc3MpOwoJfQoKCWZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKCQlidXkoKTsKCX0KCglmdW5jdGlvbiBnZXREZXBvc2l0cyhhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgd2VpcykgewoJCXJldHVybiBkZXBvc2l0c1tfb3duZXJdOwoJfQoJZnVuY3Rpb24gZ2V0Qm9udXModWludDI1NiBhbW91bnQpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJvbnVzKSB7CgkJU3RhdHVzIF9zdGF0dXMgPSBnZXRTdGF0dXMoKTsKCQlpZihfc3RhdHVzID09IFN0YXR1cy5QUkVTQUxFKSB7CgkJCXJldHVybiBwZXJjZW50RnJvbShhbW91bnQsIDQ1KTsKCQl9CgoJCXJlcXVpcmUoX3N0YXR1cyA9PSBTdGF0dXMuU0FMRSk7CgoJCWlmKG5vdyA8IChzYWxlU3RhcnQgKyAzIGRheXMpKSB7CgkJCXJldHVybiBwZXJjZW50RnJvbShhbW91bnQsIDMwKTsKCQl9CgkJaWYobm93IDwgKHNhbGVTdGFydCArIDExIGRheXMpKSB7CgkJCXJldHVybiAoYW1vdW50IC8gNSk7IC8vMjAlCgkJfQoJCWlmKG5vdyA8IChzYWxlU3RhcnQgKyAxNyBkYXlzKSkgewoJCQlyZXR1cm4gcGVyY2VudEZyb20oYW1vdW50LCAxNSk7CgkJfQoJCWlmKG5vdyA8IChzYWxlU3RhcnQgKyAyMyBkYXlzKSkgewoJCQlyZXR1cm4gKGFtb3VudCAvIDEwKTsgLy8xMCUKCQl9CgkJaWYobm93IDwgKHNhbGVTdGFydCArIDI4IGRheXMpKSB7CgkJCXJldHVybiAoYW1vdW50IC8gMjApOyAvLzUlCgkJfQoKCQlyZXR1cm4gMDsKCX0KCglmdW5jdGlvbiBpY29GaW5pc2hlZCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sIHllcykgewoJCXJldHVybiAoc3RhdHVzID09IFN0YXR1cy5GSU5JU0ggfHwgKChzdGF0dXMgPT0gU3RhdHVzLlJFRlVORCkgJiYgKG5vdyA+IChzYWxlRW5kICsgMTQgZGF5cykpKSk7Cgl9CgoJZnVuY3Rpb24gc3RhdHVzKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKFN0YXR1cyBfc3RhdHVzKXsKCQlyZXR1cm4gZ2V0U3RhdHVzKCk7Cgl9CglmdW5jdGlvbiBnZXRTdGF0dXMoKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zIChTdGF0dXMgX3N0YXR1cyl7CgkJaWYoKHN0YXR1cyA9PSBTdGF0dXMuU1RPUCkgfHwgKHN0YXR1cyA9PSBTdGF0dXMuRklOSVNIKSB8fCAoc3RhdHVzID09IFN0YXR1cy5SRUZVTkQpKXsKCQkJcmV0dXJuIHN0YXR1czsKCQl9CgoJCWlmKG5vdyA8IHByZXNhbGVTdGFydCkgewoJCQlyZXR1cm4gU3RhdHVzLldBSVRfUFJFU0FMRTsKCQl9CgkJZWxzZSBpZigobm93ID4gcHJlc2FsZVN0YXJ0KSAmJiAobm93IDwgcHJlc2FsZUVuZCkpewoJCQlyZXR1cm4gU3RhdHVzLlBSRVNBTEU7CgkJfQoJCWVsc2UgaWYoKG5vdyA+IHByZXNhbGVFbmQpICYmICgobm93IDwgc2FsZVN0YXJ0KSkpewoJCQlyZXR1cm4gU3RhdHVzLldBSVRfU0FMRTsKCQl9CgkJZWxzZSBpZigobm93ID4gc2FsZVN0YXJ0KSAmJiAobm93IDwgc2FsZUVuZCkgJiYgKHRoaXMuYmFsYW5jZSA8IG1heFdlaXMpKXsKCQkJcmV0dXJuIFN0YXR1cy5TQUxFOwoJCX0KCQllbHNlIHsKCQkJcmV0dXJuIFN0YXR1cy5TVE9QOwoJCX0KCX0KCglmdW5jdGlvbiBwZXJjZW50RnJvbSh1aW50MjU2IGZyb20sIHVpbnQ4IHBlcmNlbnQpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdmFsKXsKCQl2YWwgPSBmcm9tLm11bChwZXJjZW50KSAvIDEwMDsKCX0KCWZ1bmN0aW9uIGNhbGNUb2tlbnModWludDI1NiBfd2VpKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHZhbCl7CgkJdmFsID0gX3dlaS5tdWwoc2FsZVByaWNlKSAvICgxIGV0aGVyKTsKCX0KCglmdW5jdGlvbiBjYW5CdXkoKSBpbnRlcm5hbCByZXR1cm5zIChib29sIGFwcGx5KXsKCQlzdGF0dXMgPSBnZXRTdGF0dXMoKTsKCgkJaWYoKHN0YXR1cyA9PSBTdGF0dXMuUFJFU0FMRSkpewoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgkJZWxzZSBpZigoc3RhdHVzID09IFN0YXR1cy5TQUxFKSkgewoJCQlpZihwcmVzYWxlVG9rZW5zPjApewoJCQkJY3Jvd2RzYWxlVG9rZW5zID0gY3Jvd2RzYWxlVG9rZW5zLmFkZChwcmVzYWxlVG9rZW5zKTsKCQkJCXByZXNhbGVUb2tlbnMgPSAwOwoJCQl9CgkJCXJldHVybiB0cnVlOwoJCX0KCQllbHNlewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJfQoKCWZ1bmN0aW9uIHN0b3BGb3JjZSgpIHB1YmxpYyBvbmx5T3duZXIgewoJCXJlcXVpcmUoZ2V0U3RhdHVzKCkgIT0gU3RhdHVzLlNUT1ApOwoJCXN0YXR1cyA9IFN0YXR1cy5TVE9QOwoJCXNhbGVFbmQgPSBub3c7Cgl9CgoJZnVuY3Rpb24gc2FsZVN0b3BwZWQoKSBwdWJsaWMgb25seU93bmVyIHsKCQlyZXF1aXJlKGdldFN0YXR1cygpID09IFN0YXR1cy5TVE9QKTsKCQlpZihzb2xkVG9rZW5zIDwgbWluVG9rZW5zKXsKCQkJc3RhdHVzID0gU3RhdHVzLlJFRlVORDsKCQl9CgkJZWxzZXsKCQkJc3RhdHVzID0gU3RhdHVzLkZJTklTSDsKCQl9Cgl9CgoJZnVuY3Rpb24gX3JlZnVuZChhZGRyZXNzIF90bykgaW50ZXJuYWwgewoJCXJlcXVpcmUoc3RhdHVzID09IFN0YXR1cy5SRUZVTkQpOwoJCXJlcXVpcmUoZGVwb3NpdHNbX3RvXT4wKTsKCQl1aW50MjU2IHZhbCA9IGRlcG9zaXRzW190b107CgkJZGVwb3NpdHNbX3RvXSA9IDA7CgkJcmVxdWlyZShfdG8uc2VuZCh2YWwpKTsKCX0KCWZ1bmN0aW9uIHJlZnVuZCgpIHB1YmxpYyB7CgkJX3JlZnVuZChtc2cuc2VuZGVyKTsKCX0KCWZ1bmN0aW9uIHJlZnVuZChhZGRyZXNzIF90bykgcHVibGljIG9ubHlPd25lciB7CgkJX3JlZnVuZChfdG8pOwoJfQoKCWZ1bmN0aW9uIGJ1eSgpIHB1YmxpYyBwYXlhYmxlIHJldHVybnMgKHVpbnQyNTYgdG9rZW5zKSB7CgkJcmVxdWlyZSgobXNnLnZhbHVlID4gMCkgJiYgY2FuQnV5KCkpOwoKCQl0b2tlbnMgPSBjYWxjVG9rZW5zKG1zZy52YWx1ZSk7CgkJc29sZFRva2VucyA9IHNvbGRUb2tlbnMuYWRkKHRva2Vucyk7CgkJdG9rZW5zID0gdG9rZW5zLmFkZChnZXRCb251cyh0b2tlbnMpKTsKCgkJcmVxdWlyZSh0b2tlbi50cmFuc2Zlcihtc2cuc2VuZGVyLCB0b2tlbnMpKTsKCgkJaWYoc3RhdHVzID09IFN0YXR1cy5QUkVTQUxFKSB7CgkJCXByZXNhbGVUb2tlbnMgPSBwcmVzYWxlVG9rZW5zLnN1Yih0b2tlbnMpOwoJCX0KCQlpZihzdGF0dXMgPT0gU3RhdHVzLlNBTEUpewoJCQljcm93ZHNhbGVUb2tlbnMgPSBjcm93ZHNhbGVUb2tlbnMuc3ViKHRva2Vucyk7CgkJfQoKCQlkZXBvc2l0c1ttc2cuc2VuZGVyXT1kZXBvc2l0c1ttc2cuc2VuZGVyXS5hZGQobXNnLnZhbHVlKTsKCX0KCWZ1bmN0aW9uIGFkZFdpcmUoYWRkcmVzcyBfdG8sIHVpbnQgdG9rZW5zLCB1aW50IGJvbnVzKSBwdWJsaWMgb25seU93bmVyIHsKCQlyZXF1aXJlKCh0b2tlbnMgPiAwKSAmJiAoYm9udXMgPj0gMCkgJiYgY2FuQnV5KCkpOwoKCQlzb2xkVG9rZW5zID0gc29sZFRva2Vucy5hZGQodG9rZW5zKTsKCgkJdG9rZW5zID0gdG9rZW5zLmFkZChib251cyk7CgkJd2lyZUxpbWl0ID0gd2lyZUxpbWl0LnN1Yih0b2tlbnMpOwoKCQlyZXF1aXJlKHdpcmVMaW1pdD49MCk7CgkJcmVxdWlyZSh0b2tlbi50cmFuc2ZlcihfdG8sIHRva2VucykpOwoKCQlpZihzdGF0dXMgPT0gU3RhdHVzLlBSRVNBTEUpIHsKCQkJcHJlc2FsZVRva2VucyA9IHByZXNhbGVUb2tlbnMuc3ViKHRva2Vucyk7CgkJfQoJCWlmKHN0YXR1cyA9PSBTdGF0dXMuU0FMRSl7CgkJCWNyb3dkc2FsZVRva2VucyA9IGNyb3dkc2FsZVRva2Vucy5zdWIodG9rZW5zKTsKCQl9Cgl9CgoJZnVuY3Rpb24gYWRkVW5zb2xkVG9rZW5zKCkgcHVibGljIG9ubHlPd25lciB7CgkJcmVxdWlyZSgobm93ID4gKHNhbGVFbmQgKyA2MCBkYXlzKSkgJiYgKHRva2VuLmJhbGFuY2VPZih0aGlzKSA+IDApKTsKCgkJcmVxdWlyZSh0b2tlbi50cmFuc2Zlcih0b2tlbi5tYXJrZXRpbmdXYWxsZXQoKSwgdG9rZW4uYmFsYW5jZU9mKHRoaXMpKSk7Cgl9CgoJZnVuY3Rpb24gc2VuZEFsbEZ1bmRzKGFkZHJlc3MgcmVjZWl2ZXIpIHB1YmxpYyBvbmx5T3duZXIgewoJCXNlbmRGdW5kcyh0aGlzLmJhbGFuY2UsIHJlY2VpdmVyKTsKCX0KCglmdW5jdGlvbiBzZW5kRnVuZHModWludCBhbW91bnQsIGFkZHJlc3MgcmVjZWl2ZXIpIHB1YmxpYyBvbmx5T3duZXIgewoJCXJlcXVpcmUoaWNvRmluaXNoZWQoKSk7CgkJaWYoc3RhdHVzID09IFN0YXR1cy5SRUZVTkQpewoJCQlzdGF0dXMgPT0gU3RhdHVzLkZJTklTSDsKCQl9CgkJcmVxdWlyZSgodGhpcy5iYWxhbmNlID49IGFtb3VudCkgJiYgcmVjZWl2ZXIuc2VuZChhbW91bnQpKTsKCX0KfQ=='.
	

]
