Class {
	#name : #SRT02575ca9424acd6aed8d8dc1b01fa7175000cef0,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT02575ca9424acd6aed8d8dc1b01fa7175000cef0 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICAvKioKICAgICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAgICogYWNjb3VudC4KICAgICAqLwogICAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpY3sKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICAgKi8KICAgIG1vZGlmaWVyIG9ubHlPd25lcigpewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgb25seU93bmVyewogICAgICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KfQoKY29udHJhY3QgRVJDNzIxSW50ZXJmYWNlIHsKICAgIC8vIFJlcXVpcmVkIG1ldGhvZHMKICAgIC8vIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiB0b3RhbCk7CiAgICAvLyBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CiAgICBmdW5jdGlvbiBvd25lck9mKHVpbnQyNTYgX3Rva2VuSWQpIGV4dGVybmFsIHZpZXcgcmV0dXJucyAoYWRkcmVzcyBvd25lcik7CiAgICAvLyBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBleHRlcm5hbDsKICAgIC8vIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBleHRlcm5hbDsKICAgIC8vIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgZXh0ZXJuYWw7Cn0KCi8qKiAKICogQGRldiBOYW1lIHByb3ZpZGVyIGNvbnRyYWN0CiAqIEFsbG93cyBzYXZpbmcgbmFtZXMgYW5kIGRlc2NyaXB0b25zIGZvciBzcGVjaWZpZWQgYWRkcmVzc2VzIGFuZCB0b2tlbnMKICovCmNvbnRyYWN0IE5hbWVQcm92aWRlciBpcyBPd25hYmxlIHsKICAgIAogICAgdWludDI1NiBwdWJsaWMgRkVFID0gMSBmaW5uZXk7CiAgICAKICAgIC8vbmFtZSBzdG9yYWdlIGZvciBhZGRyZXNzZXMKICAgIG1hcHBpbmcoYnl0ZXMzMiA9PiBtYXBwaW5nKGFkZHJlc3MgPT4gc3RyaW5nKSkgYWRkcmVzc05hbWVzOwogICAgCiAgICAvL21hcmtzIG5hbWVzcGFjZXMgYXMgYWxyZWFkeSB1c2VkIG9uIGZpcnN0IG5hbWUgc2F2ZSB0byBzcGVjaWZpZWQgbmFtZXNwYWNlCiAgICBtYXBwaW5nKGJ5dGVzMzIgPT4gYm9vbCkgdGFrZW5OYW1lc3BhY2VzOwogICAgCiAgICAvL25hbWUgc3RvcmFnZSBmb3IgdG9rZW5zCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyh1aW50MjU2ID0+IHN0cmluZykpIHRva2VuTmFtZXM7CiAgICAKICAgIC8vZGVzY3JpcHRpb24gc3RvcmFnZSBmb3IgdG9rZW5zCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyh1aW50MjU2ID0+IHN0cmluZykpIHRva2VuRGVzY3JpcHRpb25zOwogICAgCiAgICAvKiBFVkVOVFMgKi8KICAgIAogICAgZXZlbnQgTmFtZUNoYW5nZWQoYnl0ZXMzMiBuYW1lc3BhY2UsIGFkZHJlc3MgYWNjb3VudCwgc3RyaW5nIG5hbWUpOwogICAgCiAgICBldmVudCBUb2tlbk5hbWVDaGFuZ2VkKGFkZHJlc3MgdG9rZW5Qcm92aWRlciwgdWludDI1NiB0b2tlbklkLCBzdHJpbmcgbmFtZSk7CiAgICAKICAgIGV2ZW50IFRva2VuRGVzY3JpcHRpb25DaGFuZ2VkKGFkZHJlc3MgdG9rZW5Qcm92aWRlciwgdWludDI1NiB0b2tlbklkLCBzdHJpbmcgZGVzY3JpcHRpb24pOwogICAgCiAgICBmdW5jdGlvbiBOYW1lUHJvdmlkZXIoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfb3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgb3duZXIgPSBfb3duZXI7CiAgICB9CiAgICAKICAgIG1vZGlmaWVyIHNldFRva2VuVGV4dChhZGRyZXNzIF90b2tlbkludGVyZmFjZSwgdWludDI1NiBfdG9rZW5JZCwgc3RyaW5nIF90ZXh0KXsKICAgICAgICAvL2NoZWNrIGZlZQogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IEZFRSk7CiAgICAgICAgLy9ubyBlbXB0eSBzdHJpbmdzIGFsbG93ZWQKICAgICAgICByZXF1aXJlKGJ5dGVzKF90ZXh0KS5sZW5ndGggPiAwKTsKICAgICAgICAKICAgICAgICBFUkM3MjFJbnRlcmZhY2UgdG9rZW5JbnRlcmZhY2UgPSBFUkM3MjFJbnRlcmZhY2UoX3Rva2VuSW50ZXJmYWNlKTsKICAgICAgICAvL29ubHkgdG9rZW4gb3duZXIgY2FuIHNldCBpdHMgbmFtZQogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSB0b2tlbkludGVyZmFjZS5vd25lck9mKF90b2tlbklkKSk7CiAgICAgICAgCiAgICAgICAgXzsvL3NldCB0ZXh0IGNvZGUKICAgICAgICAKICAgICAgICAvL3JldHVybiBleGNlc3MKICAgICAgICBpZiAobXNnLnZhbHVlID4gRkVFKSB7CiAgICAgICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIobXNnLnZhbHVlIC0gRkVFKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8vQGRldiBzZXQgbmFtZSBmb3Igc3BlY2lmaWVkIHRva2VuLAogICAgLy8gTkIgbXNnLnNlbmRlciBtdXN0IGJlIG93bmVyIG9mIHRoZSBzcGVjaWZpZWQgdG9rZW4uCiAgICAvL0BwYXJhbSBfdG9rZW5JbnRlcmZhY2UgRVJDNzIxIHByb3RvY29sIHByb3ZpZGVyIGFkZHJlc3MKICAgIC8vQHBhcmFtIF90b2tlbklkIGlkIG9mIHRoZSB0b2tlbiwgd2hvc2UgbmFtZSB3aWxsIGJlIHNldAogICAgLy9AcGFyYW0gX25hbWUgc3RyaW5nIHRoYXQgd2lsbCBiZSBzZXQgYXMgbmV3IHRva2VuIG5hbWUKICAgIGZ1bmN0aW9uIHNldFRva2VuTmFtZShhZGRyZXNzIF90b2tlbkludGVyZmFjZSwgdWludDI1NiBfdG9rZW5JZCwgc3RyaW5nIF9uYW1lKSAKICAgIHNldFRva2VuVGV4dChfdG9rZW5JbnRlcmZhY2UsIF90b2tlbklkLCBfbmFtZSkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICAgICAgX3NldFRva2VuTmFtZShfdG9rZW5JbnRlcmZhY2UsIF90b2tlbklkLCBfbmFtZSk7CiAgICB9CiAgICAKICAgIC8vQGRldiBzZXQgZGVzY3JpcHRpb24gZm9yIHNwZWNpZmllZCB0b2tlbiwKICAgIC8vIE5CIG1zZy5zZW5kZXIgbXVzdCBiZSBvd25lciBvZiB0aGUgc3BlY2lmaWVkIHRva2VuLgogICAgLy9AcGFyYW0gX3Rva2VuSW50ZXJmYWNlIEVSQzcyMSBwcm90b2NvbCBwcm92aWRlciBhZGRyZXNzCiAgICAvL0BwYXJhbSBfdG9rZW5JZCBpZCBvZiB0aGUgdG9rZW4sIHdob3NlIGRlc2NyaXB0aW9uIHdpbGwgYmUgc2V0CiAgICAvL0BwYXJhbSBfZGVzY3JpcHRpb24gc3RyaW5nIHRoYXQgd2lsbCBiZSBzZXQgYXMgbmV3IHRva2VuIGRlc2NyaXB0aW9uCiAgICBmdW5jdGlvbiBzZXRUb2tlbkRlc2NyaXB0aW9uKGFkZHJlc3MgX3Rva2VuSW50ZXJmYWNlLCB1aW50MjU2IF90b2tlbklkLCBzdHJpbmcgX2Rlc2NyaXB0aW9uKQogICAgc2V0VG9rZW5UZXh0KF90b2tlbkludGVyZmFjZSwgX3Rva2VuSWQsIF9kZXNjcmlwdGlvbikgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICAgICAgX3NldFRva2VuRGVzY3JpcHRpb24oX3Rva2VuSW50ZXJmYWNlLCBfdG9rZW5JZCwgX2Rlc2NyaXB0aW9uKTsKICAgIH0KICAgIAogICAgLy9AZGV2IGdldCBuYW1lIG9mIHNwZWNpZmllZCB0b2tlbiwKICAgIC8vQHBhcmFtIF90b2tlbkludGVyZmFjZSBFUkM3MjEgcHJvdG9jb2wgcHJvdmlkZXIgYWRkcmVzcwogICAgLy9AcGFyYW0gX3Rva2VuSWQgaWQgb2YgdGhlIHRva2VuLCB3aG9zZSBuYW1lIHdpbGwgYmUgcmV0dXJuZWQKICAgIGZ1bmN0aW9uIGdldFRva2VuTmFtZShhZGRyZXNzIF90b2tlbkludGVyZmFjZSwgdWludDI1NiBfdG9rZW5JZCkgZXh0ZXJuYWwgdmlldyByZXR1cm5zKHN0cmluZykgewogICAgICAgIHJldHVybiB0b2tlbk5hbWVzW190b2tlbkludGVyZmFjZV1bX3Rva2VuSWRdOwogICAgfQogICAgCiAgICAvL0BkZXYgZ2V0IGRlc2NyaXB0aW9uIG9mIHNwZWNpZmllZCB0b2tlbiwKICAgIC8vQHBhcmFtIF90b2tlbkludGVyZmFjZSBFUkM3MjEgcHJvdG9jb2wgcHJvdmlkZXIgYWRkcmVzcwogICAgLy9AcGFyYW0gX3Rva2VuSWQgaWQgb2YgdGhlIHRva2VuLCB3aG9zZSBkZXNjcmlwdGlvbiB3aWxsIGJlIHJldHVybmVkCiAgICBmdW5jdGlvbiBnZXRUb2tlbkRlc2NyaXB0aW9uKGFkZHJlc3MgX3Rva2VuSW50ZXJmYWNlLCB1aW50MjU2IF90b2tlbklkKSBleHRlcm5hbCB2aWV3IHJldHVybnMoc3RyaW5nKSB7CiAgICAgICAgcmV0dXJuIHRva2VuRGVzY3JpcHRpb25zW190b2tlbkludGVyZmFjZV1bX3Rva2VuSWRdOwogICAgfQogICAgCiAgICAvL0BkZXYgc2V0IGdsb2JhbCBuYW1lIGZvciBtc2cuc2VuZGVyLAogICAgLy8gTkIgbXNnLnNlbmRlciBtdXN0IGJlIG93bmVyIG9mIHRoZSBzcGVjaWZpZWQgdG9rZW4uCiAgICAvL0BwYXJhbSBfbmFtZSBzdHJpbmcgdGhhdCB3aWxsIGJlIHNldCBhcyBuZXcgYWRkcmVzcyBuYW1lCiAgICBmdW5jdGlvbiBzZXROYW1lKHN0cmluZyBfbmFtZSkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICAgICAgc2V0U2VydmljZU5hbWUoYnl0ZXMzMigwKSwgX25hbWUpOwogICAgfQogICAgCiAgICAvL0BkZXYgc2V0IG5hbWUgZm9yIG1zZy5zZW5kZXIgaW4gY3BlY2lmaWVkIG5hbWVzcGFjZSwKICAgIC8vIE5CIG1zZy5zZW5kZXIgbXVzdCBiZSBvd25lciBvZiB0aGUgc3BlY2lmaWVkIHRva2VuLgogICAgLy9AcGFyYW0gX25hbWVzcGFjZSBieXRlczMyIHNlcnZpY2UgaWRlbnRpZmllcgogICAgLy9AcGFyYW0gX25hbWUgc3RyaW5nIHRoYXQgd2lsbCBiZSBzZXQgYXMgbmV3IGFkZHJlc3MgbmFtZQogICAgZnVuY3Rpb24gc2V0U2VydmljZU5hbWUoYnl0ZXMzMiBfbmFtZXNwYWNlLCBzdHJpbmcgbWVtb3J5IF9uYW1lKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgLy9jaGVjayBmZWUKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBGRUUpOwogICAgICAgIC8vc2V0IG5hbWUKICAgICAgICBfc2V0TmFtZShfbmFtZXNwYWNlLCBfbmFtZSk7CiAgICAgICAgLy9yZXR1cm4gZXhjZXNzCiAgICAgICAgaWYgKG1zZy52YWx1ZSA+IEZFRSkgewogICAgICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKG1zZy52YWx1ZSAtIEZFRSk7CiAgICAgICAgfQogICAgfQogICAgCiAgICAvL0BkZXYgZ2V0IGdsb2JhbCBuYW1lIGZvciBzcGVjaWZpZWQgYWRkcmVzcywKICAgIC8vQHBhcmFtIF9hZGRyZXNzIHRoZSBhZGRyZXNzIGZvciB3aG9tIG5hbWUgc3RyaW5nIHdpbGwgYmUgcmV0dXJuZWQKICAgIGZ1bmN0aW9uIGdldE5hbWVCeUFkZHJlc3MoYWRkcmVzcyBfYWRkcmVzcykgZXh0ZXJuYWwgdmlldyByZXR1cm5zKHN0cmluZykgewogICAgICAgIHJldHVybiBhZGRyZXNzTmFtZXNbYnl0ZXMzMigwKV1bX2FkZHJlc3NdOwogICAgfQogICAgCiAgICAvL0BkZXYgZ2V0IGdsb2JhbCBuYW1lIGZvciBtc2cuc2VuZGVyLAogICAgZnVuY3Rpb24gZ2V0TmFtZSgpIGV4dGVybmFsIHZpZXcgcmV0dXJucyhzdHJpbmcpIHsKICAgICAgICByZXR1cm4gYWRkcmVzc05hbWVzW2J5dGVzMzIoMCldW21zZy5zZW5kZXJdOwogICAgfQogICAgCiAgICAvL0BkZXYgZ2V0IG5hbWUgZm9yIHNwZWNpZmllZCBhZGRyZXNzIGFuZCBuYW1lc3BhY2UsCiAgICAvL0BwYXJhbSBfbmFtZXNwYWNlIGJ5dGVzMzIgc2VydmljZSBpZGVudGlmaWVyCiAgICAvL0BwYXJhbSBfYWRkcmVzcyB0aGUgYWRkcmVzcyBmb3Igd2hvbSBuYW1lIHN0cmluZyB3aWxsIGJlIHJldHVybmVkCiAgICBmdW5jdGlvbiBnZXRTZXJ2aWNlTmFtZUJ5QWRkcmVzcyhieXRlczMyIF9uYW1lc3BhY2UsIGFkZHJlc3MgX2FkZHJlc3MpIGV4dGVybmFsIHZpZXcgcmV0dXJucyhzdHJpbmcpIHsKICAgICAgICByZXR1cm4gYWRkcmVzc05hbWVzW19uYW1lc3BhY2VdW19hZGRyZXNzXTsKICAgIH0KICAgIAogICAgLy9AZGV2IGdldCBuYW1lIGZvciBzcGVjaWZpZWQgbmFtZXNwYWNlIGFuZCBtc2cuc2VuZGVyLAogICAgLy9AcGFyYW0gX25hbWVzcGFjZSBieXRlczMyIHNlcnZpY2UgaWRlbnRpZmllcgogICAgZnVuY3Rpb24gZ2V0U2VydmljZU5hbWUoYnl0ZXMzMiBfbmFtZXNwYWNlKSBleHRlcm5hbCB2aWV3IHJldHVybnMoc3RyaW5nKSB7CiAgICAgICAgcmV0dXJuIGFkZHJlc3NOYW1lc1tfbmFtZXNwYWNlXVttc2cuc2VuZGVyXTsKICAgIH0KICAgIAogICAgLy9AZGV2IGdldCBuYW1lcyBmb3Igc3BlY2lmaWVkIGFkZHJlc3NlcyBpbiBnbG9iYWwgbmFtZXNwYWNlIChieXRlczMyKDApKQogICAgLy9AcGFyYW0gX2FkZHJlc3MgYWRkcmVzc1tdIGFycmF5IG9mIGFkZHJlc3NlcyBmb3Igd2hvbSBuYW1lcyB3aWxsIGJlIHJldHVybmVkCiAgICAvL0ByZXR1cm4gbmFtZXNEYXRhIGJ5dGVzMzIgCiAgICAvL0ByZXR1cm4gbmFtZUxlbmd0aCBudW1iZXIgb2YgYnl0ZXMzMiBpbiBhZGRyZXNzIG5hbWUsIHN1bSBvZiBuYW1lTGVuZ3RoIHZhbHVlcyBlcXVhbHMgbmFtZXNEYXRhLmxlbmd0aCAoMSB0byAxIHdpdGggX2FkZHJlc3MpIAogICAgZnVuY3Rpb24gZ2V0TmFtZXMoYWRkcmVzc1tdIF9hZGRyZXNzKSBleHRlcm5hbCB2aWV3IHJldHVybnMoYnl0ZXMzMltdIG5hbWVzRGF0YSwgdWludDI1NltdIG5hbWVMZW5ndGgpIHsKICAgICAgICByZXR1cm4gZ2V0U2VydmljZU5hbWVzKGJ5dGVzMzIoMCksIF9hZGRyZXNzKTsKCX0KCQoJLy9AZGV2IGdldCBuYW1lcyBmb3Igc3BlY2lmaWVkIHRva2VucyAKICAgIC8vQHBhcmFtIF90b2tlbklkcyB1aW50MjU2W10gYXJyYXkgb2YgaWRzIGZvciB3aG9tIG5hbWVzIHdpbGwgYmUgcmV0dXJuZWQKICAgIC8vQHJldHVybiBuYW1lc0RhdGEgYnl0ZXMzMiAKICAgIC8vQHJldHVybiBuYW1lTGVuZ3RoIG51bWJlciBvZiBieXRlczMyIGluIHRva2VuIG5hbWUsIHN1bSBvZiBuYW1lTGVuZ3RoIHZhbHVlcyBlcXVhbHMgbmFtZXNEYXRhLmxlbmd0aCAoMSB0byAxIHdpdGggX3Rva2VuSWRzKSAKCWZ1bmN0aW9uIGdldFRva2VuTmFtZXMoYWRkcmVzcyBfdG9rZW5JbnRlcmZhY2UsIHVpbnQyNTZbXSBfdG9rZW5JZHMpIGV4dGVybmFsIHZpZXcgcmV0dXJucyhieXRlczMyW10gbWVtb3J5IG5hbWVzRGF0YSwgdWludDI1NltdIG1lbW9yeSBuYW1lTGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRUb2tlblRleHRzKF90b2tlbkludGVyZmFjZSwgX3Rva2VuSWRzLCB0cnVlKTsKCX0KCQoJLy9AZGV2IGdldCBuYW1lcyBmb3Igc3BlY2lmaWVkIHRva2VucyAKICAgIC8vQHBhcmFtIF90b2tlbklkcyB1aW50MjU2W10gYXJyYXkgb2YgaWRzIGZvciB3aG9tIGRlc2NyaXB0b25zIHdpbGwgYmUgcmV0dXJuZWQKICAgIC8vQHJldHVybiBkZXNjcmlwdG9uRGF0YSBieXRlczMyIAogICAgLy9AcmV0dXJuIGRlc2NyaXB0aW9uTGVuZ3RoIG51bWJlciBvZiBieXRlczMyIGluIHRva2VuIG5hbWUsIHN1bSBvZiBuYW1lTGVuZ3RoIHZhbHVlcyBlcXVhbHMgbmFtZXNEYXRhLmxlbmd0aCAoMSB0byAxIHdpdGggX3Rva2VuSWRzKSAKCWZ1bmN0aW9uIGdldFRva2VuRGVzY3JpcHRpb25zKGFkZHJlc3MgX3Rva2VuSW50ZXJmYWNlLCB1aW50MjU2W10gX3Rva2VuSWRzKSBleHRlcm5hbCB2aWV3IHJldHVybnMoYnl0ZXMzMltdIG1lbW9yeSBkZXNjcmlwdG9uRGF0YSwgdWludDI1NltdIG1lbW9yeSBkZXNjcmlwdGlvbkxlbmd0aCkgewogICAgICAgIHJldHVybiBfZ2V0VG9rZW5UZXh0cyhfdG9rZW5JbnRlcmZhY2UsIF90b2tlbklkcywgZmFsc2UpOwoJfQoJCgkvL0BkZXYgZ2V0IG5hbWVzIGZvciBzcGVjaWZpZWQgYWRkcmVzc2VzIGFuZCBuYW1lc3BhY2UKCS8vQHBhcmFtIF9uYW1lc3BhY2UgYnl0ZXMzMiBuYW1lc3BhY2UgaWRlbnRpZmllcgogICAgLy9AcGFyYW0gX2FkZHJlc3MgYWRkcmVzc1tdIGFycmF5IG9mIGFkZHJlc3NlcyBmb3Igd2hvbSBuYW1lcyB3aWxsIGJlIHJldHVybmVkCiAgICAvL0ByZXR1cm4gbmFtZXNEYXRhIGJ5dGVzMzIgCiAgICAvL0ByZXR1cm4gbmFtZUxlbmd0aCBudW1iZXIgb2YgYnl0ZXMzMiBpbiBhZGRyZXNzIG5hbWUsIHN1bSBvZiBuYW1lTGVuZ3RoIHZhbHVlcyBlcXVhbHMgbmFtZXNEYXRhLmxlbmd0aCAoMSB0byAxIHdpdGggX2FkZHJlc3MpIAogICAgZnVuY3Rpb24gZ2V0U2VydmljZU5hbWVzKGJ5dGVzMzIgX25hbWVzcGFjZSwgYWRkcmVzc1tdIF9hZGRyZXNzKSBwdWJsaWMgdmlldyByZXR1cm5zKGJ5dGVzMzJbXSBtZW1vcnkgbmFtZXNEYXRhLCB1aW50MjU2W10gbWVtb3J5IG5hbWVMZW5ndGgpIHsKICAgICAgICB1aW50MjU2IGxlbmd0aCA9IF9hZGRyZXNzLmxlbmd0aDsKICAgICAgICBuYW1lTGVuZ3RoID0gbmV3IHVpbnQyNTZbXShsZW5ndGgpOwogICAgICAgIAogICAgICAgIGJ5dGVzIG1lbW9yeSBzdHJpbmdCeXRlczsKICAgICAgICB1aW50MjU2IHNpemUgPSAwOwogICAgICAgIHVpbnQyNTYgaTsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICsrKSB7CiAgICAgICAgICAgIHN0cmluZ0J5dGVzID0gYnl0ZXMoYWRkcmVzc05hbWVzW19uYW1lc3BhY2VdW19hZGRyZXNzW2ldXSk7CiAgICAgICAgICAgIHNpemUgKz0gbmFtZUxlbmd0aFtpXSA9IHN0cmluZ0J5dGVzLmxlbmd0aCAlIDMyID09IDAgPyBzdHJpbmdCeXRlcy5sZW5ndGggLyAzMiA6IHN0cmluZ0J5dGVzLmxlbmd0aCAvIDMyICsgMTsKICAgICAgICB9CiAgICAgICAgbmFtZXNEYXRhID0gbmV3IGJ5dGVzMzJbXShzaXplKTsKICAgICAgICBzaXplID0gMDsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICsrKSB7CiAgICAgICAgICAgIHNpemUgKz0gX3N0cmluZ1RvQnl0ZXMzMihhZGRyZXNzTmFtZXNbX25hbWVzcGFjZV1bX2FkZHJlc3NbaV1dLCBuYW1lc0RhdGEsIHNpemUpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gbmFtZXNwYWNlVGFrZW4oYnl0ZXMzMiBfbmFtZXNwYWNlKSBleHRlcm5hbCB2aWV3IHJldHVybnMoYm9vbCkgewogICAgICAgIHJldHVybiB0YWtlbk5hbWVzcGFjZXNbX25hbWVzcGFjZV07CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHNldEZlZSh1aW50MjU2IF9mZWUpIG9ubHlPd25lciBleHRlcm5hbCB7CiAgICAgICAgRkVFID0gX2ZlZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gd2l0aGRyYXcoKSBvbmx5T3duZXIgZXh0ZXJuYWwgewogICAgICAgIG93bmVyLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIF9zZXROYW1lKGJ5dGVzMzIgX25hbWVzcGFjZSwgc3RyaW5nIF9uYW1lKSBpbnRlcm5hbCB7CiAgICAgICAgYWRkcmVzc05hbWVzW19uYW1lc3BhY2VdW21zZy5zZW5kZXJdID0gX25hbWU7CiAgICAgICAgaWYgKCF0YWtlbk5hbWVzcGFjZXNbX25hbWVzcGFjZV0pIHsKICAgICAgICAgICAgdGFrZW5OYW1lc3BhY2VzW19uYW1lc3BhY2VdID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgTmFtZUNoYW5nZWQoX25hbWVzcGFjZSwgbXNnLnNlbmRlciwgX25hbWUpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBfc2V0VG9rZW5OYW1lKGFkZHJlc3MgX3Rva2VuSW50ZXJmYWNlLCB1aW50MjU2IF90b2tlbklkLCBzdHJpbmcgX25hbWUpIGludGVybmFsIHsKICAgICAgICB0b2tlbk5hbWVzW190b2tlbkludGVyZmFjZV1bX3Rva2VuSWRdID0gX25hbWU7CiAgICAgICAgVG9rZW5OYW1lQ2hhbmdlZChfdG9rZW5JbnRlcmZhY2UsIF90b2tlbklkLCBfbmFtZSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIF9zZXRUb2tlbkRlc2NyaXB0aW9uKGFkZHJlc3MgX3Rva2VuSW50ZXJmYWNlLCB1aW50MjU2IF90b2tlbklkLCBzdHJpbmcgX2Rlc2NyaXB0aW9uKSBpbnRlcm5hbCB7CiAgICAgICAgdG9rZW5EZXNjcmlwdGlvbnNbX3Rva2VuSW50ZXJmYWNlXVtfdG9rZW5JZF0gPSBfZGVzY3JpcHRpb247CiAgICAgICAgVG9rZW5EZXNjcmlwdGlvbkNoYW5nZWQoX3Rva2VuSW50ZXJmYWNlLCBfdG9rZW5JZCwgX2Rlc2NyaXB0aW9uKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gX2dldFRva2VuVGV4dHMoYWRkcmVzcyBfdG9rZW5JbnRlcmZhY2UsIHVpbnQyNTZbXSBtZW1vcnkgX3Rva2VuSWRzLCBib29sIG5hbWVzKSBpbnRlcm5hbCB2aWV3IHJldHVybnMoYnl0ZXMzMltdIG1lbW9yeSBuYW1lc0RhdGEsIHVpbnQyNTZbXSBtZW1vcnkgbmFtZUxlbmd0aCkgewogICAgICAgIHVpbnQyNTYgbGVuZ3RoID0gX3Rva2VuSWRzLmxlbmd0aDsKICAgICAgICBuYW1lTGVuZ3RoID0gbmV3IHVpbnQyNTZbXShsZW5ndGgpOwogICAgICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nKHVpbnQyNTYgPT4gc3RyaW5nKSkgdGV4dE1hcCA9IG5hbWVzID8gdG9rZW5OYW1lcyA6IHRva2VuRGVzY3JpcHRpb25zOwogICAgICAgIAogICAgICAgIGJ5dGVzIG1lbW9yeSBzdHJpbmdCeXRlczsKICAgICAgICB1aW50MjU2IHNpemUgPSAwOwogICAgICAgIHVpbnQyNTYgaTsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICsrKSB7CiAgICAgICAgICAgIHN0cmluZ0J5dGVzID0gYnl0ZXModGV4dE1hcFtfdG9rZW5JbnRlcmZhY2VdW190b2tlbklkc1tpXV0pOwogICAgICAgICAgICBzaXplICs9IG5hbWVMZW5ndGhbaV0gPSBzdHJpbmdCeXRlcy5sZW5ndGggJSAzMiA9PSAwID8gc3RyaW5nQnl0ZXMubGVuZ3RoIC8gMzIgOiBzdHJpbmdCeXRlcy5sZW5ndGggLyAzMiArIDE7CiAgICAgICAgfQogICAgICAgIG5hbWVzRGF0YSA9IG5ldyBieXRlczMyW10oc2l6ZSk7CiAgICAgICAgc2l6ZSA9IDA7CiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArKykgewogICAgICAgICAgICBzaXplICs9IF9zdHJpbmdUb0J5dGVzMzIodGV4dE1hcFtfdG9rZW5JbnRlcmZhY2VdW190b2tlbklkc1tpXV0sIG5hbWVzRGF0YSwgc2l6ZSk7CiAgICAgICAgfQogICAgfQogICAgCiAgICAgICAgCiAgICBmdW5jdGlvbiBfc3RyaW5nVG9CeXRlczMyKHN0cmluZyBtZW1vcnkgc291cmNlLCBieXRlczMyW10gbWVtb3J5IG5hbWVzRGF0YSwgdWludDI1NiBfc3RhcnQpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGJ5dGVzIG1lbW9yeSBzdHJpbmdCeXRlcyA9IGJ5dGVzKHNvdXJjZSk7CiAgICAgICAgdWludDI1NiBsZW5ndGggPSBzdHJpbmdCeXRlcy5sZW5ndGg7CiAgICAgICAgYnl0ZXMzMltdIG1lbW9yeSByZXN1bHQgPSBuZXcgYnl0ZXMzMltdKGxlbmd0aCAlIDMyID09IDAgPyBsZW5ndGggLyAzMiA6IGxlbmd0aCAvIDMyICsgMSk7CiAgICAgICAgCiAgICAgICAgYnl0ZXMzMiB3b3JkOwogICAgICAgIHVpbnQyNTYgaW5kZXggPSAwOwogICAgICAgIHVpbnQyNTYgbGltaXQgPSAwOwogICAgICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAzMikgewogICAgICAgICAgICBsaW1pdCA9IGkgKyAzMjsKICAgICAgICAgICAgYXNzZW1ibHkgewogICAgICAgICAgICAgICAgd29yZCA6PSBtbG9hZChhZGQoc291cmNlLCBsaW1pdCkpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgbmFtZXNEYXRhW19zdGFydCArIGluZGV4KytdID0gd29yZDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlc3VsdC5sZW5ndGg7CiAgICB9Cn0='.
	

]
