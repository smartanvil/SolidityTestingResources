Class {
	#name : #SRTba5787e07a0636a756f4b4d517b595dba24239ef,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTba5787e07a0636a756f4b4d517b595dba24239ef >> base64 [
	^ 'LyoqCiAqICBOb3RhcnlQbGF0Zm9ybVRva2VuLnNvbCB2MS4wLjAKICogCiAqICBCaWxhbCBBcmlmIC0gaHR0cHM6Ly90d2l0dGVyLmNvbS9mdXJ1c2l5eWFfCiAqICBOb3RhcnkgUGxhdGZvcm0KICovCgpwcmFnbWEgc29saWRpdHkgXjAuNC4xNjsKCmxpYnJhcnkgU2FmZU1hdGggewogICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9Cn0KY29udHJhY3QgT3duYWJsZSB7CiAgICAgLyoKICAgICAgQHRpdGxlIE93bmFibGUKICAgICAgQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogICAgICBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogICAgKi8KCiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoYWRkcmVzcyBfb3duZXIpewogICAgb3duZXIgPSBfb3duZXI7CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQogIAogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9Cgp9CmNvbnRyYWN0IFJlZW50cmFuY3lHdWFyZCB7CgogIC8qKgogICAqIEBkZXYgV2UgdXNlIGEgc2luZ2xlIGxvY2sgZm9yIHRoZSB3aG9sZSBjb250cmFjdC4KICAgKi8KICBib29sIHByaXZhdGUgcmVudHJhbmN5X2xvY2sgPSBmYWxzZTsKCiAgLyoqCiAgICogQGRldiBQcmV2ZW50cyBhIGNvbnRyYWN0IGZyb20gY2FsbGluZyBpdHNlbGYsIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkuCiAgICogQG5vdGljZSBJZiB5b3UgbWFyayBhIGZ1bmN0aW9uIGBub25SZWVudHJhbnRgLCB5b3Ugc2hvdWxkIGFsc28KICAgKiBtYXJrIGl0IGBleHRlcm5hbGAuIENhbGxpbmcgb25lIG5vblJlZW50cmFudCBmdW5jdGlvbiBmcm9tCiAgICogYW5vdGhlciBpcyBub3Qgc3VwcG9ydGVkLiBJbnN0ZWFkLCB5b3UgY2FuIGltcGxlbWVudCBhCiAgICogYHByaXZhdGVgIGZ1bmN0aW9uIGRvaW5nIHRoZSBhY3R1YWwgd29yaywgYW5kIGEgYGV4dGVybmFsYAogICAqIHdyYXBwZXIgbWFya2VkIGFzIGBub25SZWVudHJhbnRgLgogICAqLwogIG1vZGlmaWVyIG5vblJlZW50cmFudCgpIHsKICAgIHJlcXVpcmUoIXJlbnRyYW5jeV9sb2NrKTsKICAgIHJlbnRyYW5jeV9sb2NrID0gdHJ1ZTsKICAgIF87CiAgICByZW50cmFuY3lfbG9jayA9IGZhbHNlOwogIH0KCn0KY29udHJhY3QgUGF1c2FibGUgaXMgT3duYWJsZSB7CiAgCiAgZXZlbnQgUGF1c2UoYm9vbCBpbmRleGVkIHN0YXRlKTsKCiAgYm9vbCBwcml2YXRlIHBhdXNlZCA9IGZhbHNlOwoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRvIG1ha2UgYSBmdW5jdGlvbiBjYWxsYWJsZSBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IGlzIG5vdCBwYXVzZWQuCiAgICovCiAgbW9kaWZpZXIgd2hlbk5vdFBhdXNlZCgpIHsKICAgIHJlcXVpcmUoIXBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBNb2RpZmllciB0byBtYWtlIGEgZnVuY3Rpb24gY2FsbGFibGUgb25seSB3aGVuIHRoZSBjb250cmFjdCBpcyBwYXVzZWQuCiAgICovCiAgbW9kaWZpZXIgd2hlblBhdXNlZCgpIHsKICAgIHJlcXVpcmUocGF1c2VkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IHJldHVybiB0aGUgY3VycmVudCBzdGF0ZSBvZiBjb250cmFjdAogICAqLwogIGZ1bmN0aW9uIFBhdXNlZCgpIGV4dGVybmFsIGNvbnN0YW50IHJldHVybnMoYm9vbCl7IHJldHVybiBwYXVzZWQ7IH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHBhdXNlIG9yIHVucGF1c2UsIHRyaWdnZXJzIHN0b3BwZWQgc3RhdGUKICAgKiBvbiBmaXJzdCBjYWxsIGFuZCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZSBvbiBzZWNvbmQgY2FsbAogICAqLwogIGZ1bmN0aW9uIHR3ZWFrU3RhdGUoKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgcGF1c2VkID0gIXBhdXNlZDsKICAgIFBhdXNlKHBhdXNlZCk7CiAgfQoKfQpjb250cmFjdCBBbGxvY2F0aW9uc3sKCgkvLyB0aW1lc3RhbXAgd2hlbiB0b2tlbiByZWxlYXNlIGlzIGVuYWJsZWQKICAJdWludDI1NiBwcml2YXRlIHJlbGVhc2VUaW1lOwoKCW1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHJpdmF0ZSBhbGxvY2F0aW9uczsKCglmdW5jdGlvbiBBbGxvY2F0aW9ucygpewoJCXJlbGVhc2VUaW1lID0gbm93ICsgMjAwIGRheXM7CgkJYWxsb2NhdGUoKTsKCX0KCgkvKioKCSAqIEBub3RpY2UgTlRSWSBUb2tlbiBkaXN0cmlidXRpb24gYmV0d2VlbiB0ZWFtIG1lbWJlcnMuCgkgKi8KICAgIGZ1bmN0aW9uIGFsbG9jYXRlKCkgcHJpdmF0ZSB7CiAgICAgIGFsbG9jYXRpb25zWzB4YWIxY2IxNzQwMzQ0QTkyODBkQzUwMkYzQjg1NDUyNDhEYzMwNDVlQV0gPSA0MDAwMDAwICogMSBldGhlcjsKICAgICAgYWxsb2NhdGlvbnNbMHgzMzA3MDlBNTlBYjJEMUUxMTA1NjgzRjkyYzFFRTgxNDM5NTVhMzU3XSA9IDQwMDAwMDAgKiAxIGV0aGVyOwogICAgICBhbGxvY2F0aW9uc1sweEFhMDg4N2ZjNmU4ODk2QzRBODBDYTMzNjhDRmQ1NkQyMDNkQjM5ZGJdID0gMzAwMDAwMCAqIDEgZXRoZXI7CiAgICAgIGFsbG9jYXRpb25zWzB4MWZiQTFkMjI0MzVERDNFN0ZhNWJhNGI0NDlDQzU1MGE5MzNFNzJiM10gPSAyMDAwMDAgKiAxIGV0aGVyOwogICAgICBhbGxvY2F0aW9uc1sweEM5ZDVFMmM3ZTQwMzczYWU1NzZhMzhjRDdlNjJFMjIzQzk1YUJGRDRdID0gMjAwMDAwICogMSBldGhlcjsKICAgICAgYWxsb2NhdGlvbnNbMHhhYmMwQjY0YTM4REU0Yjc2NzMxMzI2OEYwZGI1NEY0Y2Y4ODE2RDlDXSA9IDIyMDAwMCAqIDEgZXRoZXI7CiAgICAgIGFsbG9jYXRpb25zWzB4NWQ4NWJDRGU1MDYwQzVCZDAwREJlREY1RTA3RjQzQ0UzQ2NhZGU2Zl0gPSA1MDAwMCAqIDEgZXRoZXI7CiAgICAgIGFsbG9jYXRpb25zWzB4ZWNiMWIwMjMxQ0JDMEIwNDAxNUY5ZTUxMzJDNjI0NjVDMTI4QjU3OF0gPSA1MDAwMDAgKiAxIGV0aGVyOwogICAgICBhbGxvY2F0aW9uc1sweEZGMjJGQTJCM2U1RTIxODE3YjAyYTQ1QmE2OTNCN2FDMDE0ODVhOUNdID0gMjk1NTAwMCAqIDEgZXRoZXI7CiAgICB9CgoJLyoqCgkgKiBAbm90aWNlIFRyYW5zZmVycyB0b2tlbnMgaGVsZCBieSB0aW1lbG9jayB0byBiZW5lZmljaWFyeS4KCSAqLwoJZnVuY3Rpb24gcmVsZWFzZSgpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgYW1vdW50KXsKCQlhbW91bnQgPSBhbGxvY2F0aW9uc1ttc2cuc2VuZGVyXTsKCQlhbGxvY2F0aW9uc1ttc2cuc2VuZGVyXSA9IDA7CgkJcmV0dXJuIGFtb3VudDsKCX0KCgkvKioKICAJICogQGRldiByZXR1cm5zIHJlbGVhc2VUaW1lCiAgCSAqLwoJZnVuY3Rpb24gUmVhbGVhc2VUaW1lKCkgZXh0ZXJuYWwgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KXsgcmV0dXJuIHJlbGVhc2VUaW1lOyB9CgogICAgbW9kaWZpZXIgdGltZUxvY2soKSB7IAoJCXJlcXVpcmUobm93ID49IHJlbGVhc2VUaW1lKTsKCQlfOyAKCX0KCgltb2RpZmllciBpc1RlYW1NZW1iZXIoKSB7IAoJCXJlcXVpcmUoYWxsb2NhdGlvbnNbbXNnLnNlbmRlcl0gPj0gMTAwMDAgKiAxIGV0aGVyKTsgCgkJXzsgCgl9Cgp9CgoKY29udHJhY3QgTm90YXJ5UGxhdGZvcm1Ub2tlbiBpcyBQYXVzYWJsZSwgQWxsb2NhdGlvbnMsIFJlZW50cmFuY3lHdWFyZHsKCiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIHN0cmluZyBjb25zdGFudCBuYW1lID0gIk5vdGFyeSBQbGF0Zm9ybSBUb2tlbiI7CiAgc3RyaW5nIGNvbnN0YW50IHN5bWJvbCA9ICJOVFJZIjsKICB1aW50OCBjb25zdGFudCBkZWNpbWFscyA9IDE4OwogIHVpbnQyNTYgdG90YWxTdXBwbHkgPSAxNTAwMDAwMDAgKiAxIGV0aGVyOwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHJpdmF0ZSBiYWxhbmNlczsKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHByaXZhdGUgYWxsb3dlZDsKCiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CgogIGZ1bmN0aW9uIE5vdGFyeVBsYXRmb3JtVG9rZW4oKSBPd25hYmxlKDB4MTUzOEVGODAyMTNjZGUzMzlBMzMzRWU0MjBhODVjMjE5MDViMWIyRCl7CiAgICAvLyBBbGxvY2F0ZSBpbml0aWFsIGJhbGFuY2UgdG8gdGhlIG93bmVyIC8vCiAgICBiYWxhbmNlc1sweDI0NDA5MmEyRkVDRkM0ODI1OWNmODEwYjYzQkEzQjNjMEI4MTFEQ2VdID0gMTM0ODc1MDAwICogMSBldGhlcjsgIAogIH0KCgogIC8qKiBFeHRlcm5hbHMgKiovCgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwgd2hlbk5vdFBhdXNlZCBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKSByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGV4dGVybmFsIHdoZW5Ob3RQYXVzZWQgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CgogICAgdWludDI1NiBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KICAgKgogICAqIEJld2FyZSB0aGF0IGNoYW5naW5nIGFuIGFsbG93YW5jZSB3aXRoIHRoaXMgbWV0aG9kIGJyaW5ncyB0aGUgcmlzayB0aGF0IHNvbWVvbmUgbWF5IHVzZSBib3RoIHRoZSBvbGQKICAgKiBhbmQgdGhlIG5ldyBhbGxvd2FuY2UgYnkgdW5mb3J0dW5hdGUgdHJhbnNhY3Rpb24gb3JkZXJpbmcuIE9uZSBwb3NzaWJsZSBzb2x1dGlvbiB0byBtaXRpZ2F0ZSB0aGlzCiAgICogcmFjZSBjb25kaXRpb24gaXMgdG8gZmlyc3QgcmVkdWNlIHRoZSBzcGVuZGVyJ3MgYWxsb3dhbmNlIHRvIDAgYW5kIHNldCB0aGUgZGVzaXJlZCB2YWx1ZSBhZnRlcndhcmRzOgogICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZnlpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGV4dGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9CgogIC8qKgogICAqIGFwcHJvdmUgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFsbG93ZWRbX3NwZW5kZXJdID09IDAuIFRvIGluY3JlbWVudAogICAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsCiAgICogdGhlIGZpcnN0IHRyYW5zYWN0aW9uIGlzIG1pbmVkKQogICAqIEZyb20gTW9ub2xpdGhEQU8gVG9rZW4uc29sCiAgICovCiAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgZXh0ZXJuYWwgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgZXh0ZXJuYWwgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfSBlbHNlIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBub3RpY2UgVHJhbnNmZXJzIHRva2VucyBoZWxkIGJ5IHRpbWVsb2NrIHRvIGJlbmVmaWNpYXJ5LgogICovCiAgZnVuY3Rpb24gY2xhaW0oKSBleHRlcm5hbCB3aGVuTm90UGF1c2VkIG5vblJlZW50cmFudCB0aW1lTG9jayBpc1RlYW1NZW1iZXIgewogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQocmVsZWFzZSgpKTsKICB9CgogIC8qKgogICAqICAgICAgICAgICAgICAgICAgPT09PT09PT09PSBUb2tlbiBtaWdyYXRpb24gc3VwcG9ydCA9PT09PT09PQogICAqLwogIHVpbnQyNTYgcHVibGljIHRvdGFsTWlncmF0ZWQ7CiAgYm9vbCBwcml2YXRlIHVwZ3JhZGluZyA9IGZhbHNlOwogIE1pZ3JhdGlvbkFnZW50IHByaXZhdGUgYWdlbnQ7CiAgZXZlbnQgTWlncmF0ZShhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICBldmVudCBVcGdyYWRpbmcoYm9vbCBzdGF0dXMpOwoKICBmdW5jdGlvbiBtaWdyYXRpb25BZ2VudCgpIGV4dGVybmFsIGNvbnN0YW50IHJldHVybnMoYWRkcmVzcyl7IHJldHVybiBhZ2VudDsgfQogIGZ1bmN0aW9uIHVwZ3JhZGluZ0VuYWJsZWQoKSAgZXh0ZXJuYWwgY29uc3RhbnQgcmV0dXJucyhib29sKXsgcmV0dXJuIHVwZ3JhZGluZzsgfQoKICAvKioKICAgKiBAbm90aWNlIE1pZ3JhdGUgdG9rZW5zIHRvIHRoZSBuZXcgdG9rZW4gY29udHJhY3QuCiAgICogQGRldiBSZXF1aXJlZCBzdGF0ZTogT3BlcmF0aW9uYWwgTWlncmF0aW9uCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIG1pZ3JhdGVkCiAgICovCiAgZnVuY3Rpb24gbWlncmF0ZSh1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwgbm9uUmVlbnRyYW50IGlzVXBncmFkaW5nIHsKICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CiAgICByZXF1aXJlKGFnZW50LmlzTWlncmF0aW9uQWdlbnQoKSk7CgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKF92YWx1ZSk7CiAgICB0b3RhbE1pZ3JhdGVkID0gdG90YWxNaWdyYXRlZC5hZGQoX3ZhbHVlKTsKICAgIAogICAgaWYoIWFnZW50Lm1pZ3JhdGVGcm9tKG1zZy5zZW5kZXIsIF92YWx1ZSkpewogICAgICByZXZlcnQoKTsKICAgIH0KICAgIE1pZ3JhdGUobXNnLnNlbmRlciwgYWdlbnQsIF92YWx1ZSk7CiAgfQoKICAvKioKICAgKiBAbm90aWNlIFNldCBhZGRyZXNzIG9mIG1pZ3JhdGlvbiB0YXJnZXQgY29udHJhY3QgYW5kIGVuYWJsZSBtaWdyYXRpb24KICAgKiBwcm9jZXNzLgogICAqIEBwYXJhbSBfYWdlbnQgVGhlIGFkZHJlc3Mgb2YgdGhlIE1pZ3JhdGlvbkFnZW50IGNvbnRyYWN0CiAgICovCiAgZnVuY3Rpb24gc2V0TWlncmF0aW9uQWdlbnQoYWRkcmVzcyBfYWdlbnQpIGV4dGVybmFsIGlzVXBncmFkaW5nIG9ubHlPd25lciB7CiAgICByZXF1aXJlKF9hZ2VudCAhPSAweDAwKTsKICAgIGFnZW50ID0gTWlncmF0aW9uQWdlbnQoX2FnZW50KTsKICAgIGlmKCFhZ2VudC5pc01pZ3JhdGlvbkFnZW50KCkpewogICAgICByZXZlcnQoKTsKICAgIH0KICAgIAogICAgaWYoYWdlbnQub3JpZ2luYWxTdXBwbHkoKSAhPSB0b3RhbFN1cHBseSl7CiAgICAgIHJldmVydCgpOwogICAgfQogIH0KCiAgLyoqCiAgICogQG5vdGljZSBFbmFibGUgdXBncmFkaW5nIHRvIGFsbG93IHRva2VucyBtaWdyYXRpb24gdG8gbmV3IGNvbnRyYWN0CiAgICogcHJvY2Vzcy4KICAgKi8KICBmdW5jdGlvbiB0d2Vha1VwZ3JhZGluZygpIGV4dGVybmFsIG9ubHlPd25lcnsKICAgICAgdXBncmFkaW5nID0gIXVwZ3JhZGluZzsKICAgICAgVXBncmFkaW5nKHVwZ3JhZGluZyk7CiAgfQoKCiAgLyoqIEludGVyZmFjZSBtYXJrZXIgKi8KICBmdW5jdGlvbiBpc1Rva2VuQ29udHJhY3QoKSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIG1vZGlmaWVyIGlzVXBncmFkaW5nKCkgeyAKICAgIHJlcXVpcmUodXBncmFkaW5nKTsgCiAgICBfOyAKICB9CgoKICAvKioKICAgKiBGaXggZm9yIHRoZSBFUkMyMCBzaG9ydCBhZGRyZXNzIGF0dGFjawogICAqCiAgICogaHR0cDovL3Zlc3NlbmVzLmNvbS90aGUtZXJjMjAtc2hvcnQtYWRkcmVzcy1hdHRhY2stZXhwbGFpbmVkLwogICAqLwogIG1vZGlmaWVyIG9ubHlQYXlsb2FkU2l6ZSh1aW50IHNpemUpIHsKICAgICByZXF1aXJlKG1zZy5kYXRhLmxlbmd0aCA+IHNpemUgKyA0KTsKICAgICBfOwogIH0KCiAgZnVuY3Rpb24gKCkgewogICAgLy9pZiBldGhlciBpcyBzZW50IHRvIHRoaXMgYWRkcmVzcywgc2VuZCBpdCBiYWNrLgogICAgcmV2ZXJ0KCk7CiAgfQoKfQoKLy8vIEB0aXRsZSBNaWdyYXRpb24gQWdlbnQgaW50ZXJmYWNlCmNvbnRyYWN0IE1pZ3JhdGlvbkFnZW50IHsKCiAgdWludDI1NiBwdWJsaWMgb3JpZ2luYWxTdXBwbHk7CiAgCiAgZnVuY3Rpb24gbWlncmF0ZUZyb20oYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUpIGV4dGVybmFsIHJldHVybnMoYm9vbCk7CiAgCiAgLyoqIEludGVyZmFjZSBtYXJrZXIgKi8KICBmdW5jdGlvbiBpc01pZ3JhdGlvbkFnZW50KCkgZXh0ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIHRydWU7CiAgfQp9'.
	

]
