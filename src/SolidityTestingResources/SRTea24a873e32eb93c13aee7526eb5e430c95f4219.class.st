Class {
	#name : #SRTea24a873e32eb93c13aee7526eb5e430c95f4219,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTea24a873e32eb93c13aee7526eb5e430c95f4219 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgoKLyogSW50ZXJmYWNlIG9mIHRoZSBFUkMyMjMgdG9rZW4gKi8KY29udHJhY3QgRVJDMjIzVG9rZW5JbnRlcmZhY2UgewogICAgZnVuY3Rpb24gbmFtZSgpIGNvbnN0YW50IHJldHVybnMgKHN0cmluZyBfbmFtZSk7CiAgICBmdW5jdGlvbiBzeW1ib2woKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcgX3N5bWJvbCk7CiAgICBmdW5jdGlvbiBkZWNpbWFscygpIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4IF9kZWNpbWFscyk7CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgX3N1cHBseSk7CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IF9iYWxhbmNlKTsKCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIF9zdWNjZXNzKTsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IF9yZW1haW5pbmcpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBfc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9tZXRhZGF0YSkgcmV0dXJucyAoYm9vbCBfc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIF9zdWNjZXNzKTsKCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSwgYnl0ZXMgbWV0YWRhdGEpOwp9CgoKLyogSW50ZXJmYWNlIG9mIHRoZSBjb250cmFjdCB0aGF0IGlzIGdvaW5nIHRvIHJlY2VpdmUgRVJDMjIzIHRva2VucyAqLwpjb250cmFjdCBFUkMyMjNDb250cmFjdEludGVyZmFjZSB7CiAgICBmdW5jdGlvbiBlcmMyMjNGYWxsYmFjayhhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2RhdGEpewogICAgICAgIC8vIHRvIGF2b2lkIHdhcm5pbmdzIGR1cmluZyBjb21waWxhdGlvbgogICAgICAgIF9mcm9tID0gX2Zyb207CiAgICAgICAgX3ZhbHVlID0gX3ZhbHVlOwogICAgICAgIF9kYXRhID0gX2RhdGE7CiAgICAgICAgLy8gSW5jb21pbmcgdHJhbnNhY3Rpb24gY29kZSBoZXJlCiAgICAgICAgdGhyb3c7CiAgICB9Cn0KCgovKiBodHRwczovL2dpdGh1Yi5jb20vTHlra2VDaXR5L0V0aGVyZXVtQXBpRG90TmV0Q29yZS9ibG9iL21hc3Rlci9zcmMvQ29udHJhY3RCdWlsZGVyL2NvbnRyYWN0cy90b2tlbi9TYWZlTWF0aC5zb2wgKi8KY29udHJhY3QgU2FmZU1hdGggewogICAgdWludDI1NiBjb25zdGFudCBwdWJsaWMgTUFYX1VJTlQyNTYgPQogICAgMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGOwoKICAgIGZ1bmN0aW9uIHNhZmVBZGQodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgewogICAgICAgIGlmICh4ID4gTUFYX1VJTlQyNTYgLSB5KSB0aHJvdzsKICAgICAgICByZXR1cm4geCArIHk7CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZVN1Yih1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgaWYgKHggPCB5KSB0aHJvdzsKICAgICAgICByZXR1cm4geCAtIHk7CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZU11bCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgaWYgKHkgPT0gMCkgcmV0dXJuIDA7CiAgICAgICAgaWYgKHggPiBNQVhfVUlOVDI1NiAvIHkpIHRocm93OwogICAgICAgIHJldHVybiB4ICogeTsKICAgIH0KfQoKCmNvbnRyYWN0IEVSQzIyM1Rva2VuIGlzIEVSQzIyM1Rva2VuSW50ZXJmYWNlLCBTYWZlTWF0aCB7CgogICAgLyoKICAgICAgU3RvcmFnZSBvZiB0aGUgY29udHJhY3QKICAgICovCgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dhbmNlczsKCiAgICBzdHJpbmcgcHVibGljIG5hbWU7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKCiAgICAvKgogICAgICBHZXR0ZXJzCiAgICAqLwoKICAgIGZ1bmN0aW9uIG5hbWUoKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcgX25hbWUpIHsKICAgICAgICByZXR1cm4gbmFtZTsKICAgIH0KCiAgICBmdW5jdGlvbiBzeW1ib2woKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcgX3N5bWJvbCkgewogICAgICAgIHJldHVybiBzeW1ib2w7CiAgICB9CgogICAgZnVuY3Rpb24gZGVjaW1hbHMoKSBjb25zdGFudCByZXR1cm5zICh1aW50OCBfZGVjaW1hbHMpIHsKICAgICAgICByZXR1cm4gZGVjaW1hbHM7CiAgICB9CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IF9zdXBwbHkpIHsKICAgICAgICByZXR1cm4gdG90YWxTdXBwbHk7CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IF9iYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgoKICAgIC8qCiAgICAgIEFsbG93IHRvIHNwZW5kCiAgICAqLwoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgX3N1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2FuY2VzW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgX3JlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2FuY2VzW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKCiAgICAvKgogICAgICBUcmFuc2ZlcgogICAgKi8KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgX3N1Y2Nlc3MpIHsKICAgICAgICBieXRlcyBtZW1vcnkgZW1wdHlNZXRhZGF0YTsKICAgICAgICBfX3RyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlLCBlbXB0eU1ldGFkYXRhKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9tZXRhZGF0YSkgcmV0dXJucyAoYm9vbCBfc3VjY2VzcykKICAgIHsKICAgICAgICBfX3RyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlLCBfbWV0YWRhdGEpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlLCBfbWV0YWRhdGEpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgX3N1Y2Nlc3MpIHsKICAgICAgICBpZiAoYWxsb3dhbmNlc1tfZnJvbV1bbXNnLnNlbmRlcl0gPCBfdmFsdWUpIHRocm93OwoKICAgICAgICBhbGxvd2FuY2VzW19mcm9tXVttc2cuc2VuZGVyXSA9IHNhZmVTdWIoYWxsb3dhbmNlc1tfZnJvbV1bbXNnLnNlbmRlcl0sIF92YWx1ZSk7CiAgICAgICAgYnl0ZXMgbWVtb3J5IGVtcHR5TWV0YWRhdGE7CiAgICAgICAgX190cmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUsIGVtcHR5TWV0YWRhdGEpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIF9fdHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfbWV0YWRhdGEpIGludGVybmFsCiAgICB7CiAgICAgICAgaWYgKF9mcm9tID09IF90bykgdGhyb3c7CiAgICAgICAgaWYgKF92YWx1ZSA9PSAwKSB0aHJvdzsKICAgICAgICBpZiAoYmFsYW5jZU9mKF9mcm9tKSA8IF92YWx1ZSkgdGhyb3c7CgogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IHNhZmVTdWIoYmFsYW5jZU9mKF9mcm9tKSwgX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlT2YoX3RvKSwgX3ZhbHVlKTsKCiAgICAgICAgaWYgKGlzQ29udHJhY3QoX3RvKSkgewogICAgICAgICAgICBFUkMyMjNDb250cmFjdEludGVyZmFjZSByZWNlaXZlckNvbnRyYWN0ID0gRVJDMjIzQ29udHJhY3RJbnRlcmZhY2UoX3RvKTsKICAgICAgICAgICAgcmVjZWl2ZXJDb250cmFjdC5lcmMyMjNGYWxsYmFjayhfZnJvbSwgX3ZhbHVlLCBfbWV0YWRhdGEpOwogICAgICAgIH0KCiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KCgogICAgLyoKICAgICAgSGVscGVycwogICAgKi8KCiAgICAvLyBBc3NlbWJsZSB0aGUgZ2l2ZW4gYWRkcmVzcyBieXRlY29kZS4gSWYgYnl0ZWNvZGUgZXhpc3RzIHRoZW4gdGhlIF9hZGRyIGlzIGEgY29udHJhY3QuCiAgICBmdW5jdGlvbiBpc0NvbnRyYWN0KGFkZHJlc3MgX2FkZHIpIGludGVybmFsIHJldHVybnMgKGJvb2wgX2lzQ29udHJhY3QpIHsKICAgICAgICBfYWRkciA9IF9hZGRyOyAvLyB0byBhdm9pZCB3YXJuaW5ncyBkdXJpbmcgY29tcGlsYXRpb24KCiAgICAgICAgdWludDI1NiBsZW5ndGg7CiAgICAgICAgYXNzZW1ibHkgewogICAgICAgICAgICAvL3JldHJpZXZlIHRoZSBzaXplIG9mIHRoZSBjb2RlIG9uIHRhcmdldCBhZGRyZXNzLCB0aGlzIG5lZWRzIGFzc2VtYmx5CiAgICAgICAgICAgIGxlbmd0aCA6PSBleHRjb2Rlc2l6ZShfYWRkcikKICAgICAgICB9CiAgICAgICAgcmV0dXJuIChsZW5ndGggPiAwKTsKICAgIH0KfQoKCgovLyBFUkMyMjMgdG9rZW4gd2l0aCB0aGUgYWJpbGl0eSBmb3IgdGhlIG93bmVyIHRvIGJsb2NrIGFueSBhY2NvdW50CmNvbnRyYWN0IERBU1Rva2VuIGlzIEVSQzIyM1Rva2VuIHsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgYmxvY2tlZEFjY291bnRzOwogICAgYWRkcmVzcyBwdWJsaWMgc2VjcmV0YXJ5R2VuZXJhbDsKCgogICAgLy8gQ29uc3RydWN0b3IKICAgIGZ1bmN0aW9uIERBU1Rva2VuKAogICAgICAgICAgICBzdHJpbmcgX25hbWUsCiAgICAgICAgICAgIHN0cmluZyBfc3ltYm9sLAogICAgICAgICAgICB1aW50OCBfZGVjaW1hbHMsCiAgICAgICAgICAgIHVpbnQyNTYgX3RvdGFsU3VwcGx5LAogICAgICAgICAgICBhZGRyZXNzIF9pbml0aWFsVG9rZW5zSG9sZGVyKSB7CiAgICAgICAgc2VjcmV0YXJ5R2VuZXJhbCA9IG1zZy5zZW5kZXI7CiAgICAgICAgbmFtZSA9IF9uYW1lOwogICAgICAgIHN5bWJvbCA9IF9zeW1ib2w7CiAgICAgICAgZGVjaW1hbHMgPSBfZGVjaW1hbHM7CiAgICAgICAgdG90YWxTdXBwbHkgPSBfdG90YWxTdXBwbHk7CiAgICAgICAgYmFsYW5jZXNbX2luaXRpYWxUb2tlbnNIb2xkZXJdID0gX3RvdGFsU3VwcGx5OwogICAgfQoKCiAgICBtb2RpZmllciBvbmx5U2VjcmV0YXJ5R2VuZXJhbCB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gc2VjcmV0YXJ5R2VuZXJhbCkgdGhyb3c7CiAgICAgICAgXzsKICAgIH0KCgogICAgLy8gYmxvY2sgYWNjb3VudAogICAgZnVuY3Rpb24gYmxvY2tBY2NvdW50KGFkZHJlc3MgX2FjY291bnQpIG9ubHlTZWNyZXRhcnlHZW5lcmFsIHsKICAgICAgICBibG9ja2VkQWNjb3VudHNbX2FjY291bnRdID0gdHJ1ZTsKICAgIH0KCiAgICAvLyB1bmJsb2NrIGFjY291bnQKICAgIGZ1bmN0aW9uIHVuYmxvY2tBY2NvdW50KGFkZHJlc3MgX2FjY291bnQpIG9ubHlTZWNyZXRhcnlHZW5lcmFsIHsKICAgICAgICBibG9ja2VkQWNjb3VudHNbX2FjY291bnRdID0gZmFsc2U7CiAgICB9CgogICAgLy8gY2hlY2sgaXMgYWNjb3VudCBibG9ja2VkCiAgICBmdW5jdGlvbiBpc0FjY291bnRCbG9ja2VkKGFkZHJlc3MgX2FjY291bnQpIHJldHVybnMgKGJvb2wpewogICAgICAgIHJldHVybiBibG9ja2VkQWNjb3VudHNbX2FjY291bnRdOwogICAgfQoKICAgIC8vIG92ZXJyaWRlIHRyYW5zZmVyIG1ldGhvZHMgdG8gdGhyb3cgb24gYmxvY2tlZCBhY2NvdW50cwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIF9zdWNjZXNzKSB7CiAgICAgICAgaWYgKGJsb2NrZWRBY2NvdW50c1ttc2cuc2VuZGVyXSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9tZXRhZGF0YSkgcmV0dXJucyAoYm9vbCBfc3VjY2VzcykgewogICAgICAgIGlmIChibG9ja2VkQWNjb3VudHNbbXNnLnNlbmRlcl0pIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSwgX21ldGFkYXRhKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIF9zdWNjZXNzKSB7CiAgICAgICAgaWYgKGJsb2NrZWRBY2NvdW50c1tfZnJvbV0pIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KfQoKCgpjb250cmFjdCBEQVNDcm93ZHNhbGUgaXMgRVJDMjIzQ29udHJhY3RJbnRlcmZhY2UgewoKICAgIC8qIENvbnRyYWN0IHN0YXRlICovCiAgICAvLyBjb25maWd1cmF0aW9uCiAgICBhZGRyZXNzIHB1YmxpYyBzZWNyZXRhcnlHZW5lcmFsOwogICAgYWRkcmVzcyBwdWJsaWMgY3Jvd2RzYWxlQmVuZWZpY2lhcnk7CiAgICBhZGRyZXNzIHB1YmxpYyBjcm93ZHNhbGVEYXNUb2tlbnNDaGFuZ2VCZW5lZmljaWFyeTsKICAgIHVpbnQyNTYgcHVibGljIGNyb3dkc2FsZURlYWRsaW5lOwogICAgdWludDI1NiBwdWJsaWMgY3Jvd2RzYWxlVG9rZW5QcmljZTsKICAgIERBU1Rva2VuIHB1YmxpYyBkYXNUb2tlbjsKICAgIC8vIGNyb3dkc2FsZSByZXN1bHRzCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBldGhCYWxhbmNlT2Y7CiAgICB1aW50MjU2IGNyb3dkc2FsZUZ1bmRzUmFpc2VkOwoKCiAgICAvKiBDb250cmFjdCBldmVudHMgKi8KICAgIGV2ZW50IEZ1bmRzUmVjZWl2ZWQoYWRkcmVzcyBpbmRleGVkIGJhY2tlciwgdWludDI1NiBpbmRleGVkIGFtb3VudCk7CgoKICAgIC8qIENvbmZpZ3VyYXRpb24gKi8KICAgIGZ1bmN0aW9uIERBU0Nyb3dkc2FsZSgKICAgICAgICBhZGRyZXNzIF9zZWNyZXRhcnlHZW5lcmFsLAogICAgICAgIGFkZHJlc3MgX2Nyb3dkc2FsZUJlbmVmaWNpYXJ5LAogICAgICAgIGFkZHJlc3MgX2Nyb3dkc2FsZURhc1Rva2Vuc0NoYW5nZUJlbmVmaWNpYXJ5LAogICAgICAgIHVpbnQyNTYgX2R1cmF0aW9uSW5TZWNvbmRzLAogICAgICAgIHVpbnQyNTYgX2Nyb3dkc2FsZVRva2VuUHJpY2VJbldlaSwKICAgICAgICBhZGRyZXNzIF9kYXNUb2tlbkFkZHJlc3MKICAgICkgewogICAgICAgIHNlY3JldGFyeUdlbmVyYWwgPSBfc2VjcmV0YXJ5R2VuZXJhbDsKICAgICAgICBjcm93ZHNhbGVCZW5lZmljaWFyeSA9IF9jcm93ZHNhbGVCZW5lZmljaWFyeTsKICAgICAgICBjcm93ZHNhbGVEYXNUb2tlbnNDaGFuZ2VCZW5lZmljaWFyeSA9IF9jcm93ZHNhbGVEYXNUb2tlbnNDaGFuZ2VCZW5lZmljaWFyeTsKICAgICAgICBjcm93ZHNhbGVEZWFkbGluZSA9IG5vdyArIF9kdXJhdGlvbkluU2Vjb25kcyAqIDEgc2Vjb25kczsKICAgICAgICBjcm93ZHNhbGVUb2tlblByaWNlID0gX2Nyb3dkc2FsZVRva2VuUHJpY2VJbldlaTsKICAgICAgICBkYXNUb2tlbiA9IERBU1Rva2VuKF9kYXNUb2tlbkFkZHJlc3MpOwogICAgICAgIGNyb3dkc2FsZUZ1bmRzUmFpc2VkID0gMDsKICAgIH0KCiAgICBmdW5jdGlvbiBfX3NldFNlY3JldGFyeUdlbmVyYWwoYWRkcmVzcyBfc2VjcmV0YXJ5R2VuZXJhbCkgb25seVNlY3JldGFyeUdlbmVyYWwgewogICAgICAgIHNlY3JldGFyeUdlbmVyYWwgPSBfc2VjcmV0YXJ5R2VuZXJhbDsKICAgIH0KCiAgICBmdW5jdGlvbiBfX3NldEJlbmVmaWNpYXJ5KGFkZHJlc3MgX2Nyb3dkc2FsZUJlbmVmaWNpYXJ5KSBvbmx5QWZ0ZXJDcm93ZHNhbGVEZWFkbGluZSB7CiAgICAgICAgY3Jvd2RzYWxlQmVuZWZpY2lhcnkgPSBfY3Jvd2RzYWxlQmVuZWZpY2lhcnk7CiAgICB9CgogICAgZnVuY3Rpb24gX19zZXRCZW5lZmljaWFyeUZvckRhc1Rva2Vuc0NoYW5nZShhZGRyZXNzIF9jcm93ZHNhbGVEYXNUb2tlbnNDaGFuZ2VCZW5lZmljaWFyeSkgb25seVNlY3JldGFyeUdlbmVyYWwgewogICAgICAgIGNyb3dkc2FsZURhc1Rva2Vuc0NoYW5nZUJlbmVmaWNpYXJ5ID0gX2Nyb3dkc2FsZURhc1Rva2Vuc0NoYW5nZUJlbmVmaWNpYXJ5OwogICAgfQoKICAgIGZ1bmN0aW9uIF9fc2V0RGVhZGxpbmUodWludDI1NiBfZHVyYXRpb25JblNlY29uZHMpIG9ubHlTZWNyZXRhcnlHZW5lcmFsIHsKICAgICAgICBjcm93ZHNhbGVEZWFkbGluZSA9IG5vdyArIF9kdXJhdGlvbkluU2Vjb25kcyAqIDEgc2Vjb25kczsKICAgIH0KCiAgICBmdW5jdGlvbiBfX3NldFRva2VuUHJpY2UodWludDI1NiBfY3Jvd2RzYWxlVG9rZW5QcmljZUluV2VpKSBvbmx5U2VjcmV0YXJ5R2VuZXJhbCB7CiAgICAgICAgY3Jvd2RzYWxlVG9rZW5QcmljZSA9IF9jcm93ZHNhbGVUb2tlblByaWNlSW5XZWk7CiAgICB9CgoKICAgIC8qIERlcG9zaXQgZnVuZHMgKi8KICAgIGZ1bmN0aW9uKCkgcGF5YWJsZSBvbmx5QmVmb3JlQ3Jvd2RzYWxlRGVhZGxpbmUgewogICAgICAgIHVpbnQyNTYgcmVjZWl2ZWRBbW91bnQgPSBtc2cudmFsdWU7CgogICAgICAgIGV0aEJhbGFuY2VPZlttc2cuc2VuZGVyXSArPSByZWNlaXZlZEFtb3VudDsKICAgICAgICBjcm93ZHNhbGVGdW5kc1JhaXNlZCArPSByZWNlaXZlZEFtb3VudDsKCiAgICAgICAgZGFzVG9rZW4udHJhbnNmZXIobXNnLnNlbmRlciwgcmVjZWl2ZWRBbW91bnQgLyBjcm93ZHNhbGVUb2tlblByaWNlKTsKICAgICAgICBGdW5kc1JlY2VpdmVkKG1zZy5zZW5kZXIsIHJlY2VpdmVkQW1vdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiBlcmMyMjNGYWxsYmFjayhhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2RhdGEpIHsKICAgICAgICAvLyBibGFuayBFUkMyMjMgZmFsbGJhY2sgdG8gcmVjZWl2ZSBEQSQgdG9rZW5zCiAgICAgICAgLy8gdG8gYXZvaWQgd2FybmluZ3MgZHVyaW5nIGNvbXBpbGF0aW9uCiAgICAgICAgX2Zyb20gPSBfZnJvbTsKICAgICAgICBfdmFsdWUgPSBfdmFsdWU7CiAgICAgICAgX2RhdGEgPSBfZGF0YTsKICAgIH0KCgogICAgLyogRmluaXNoIHRoZSBjcm93ZHNhbGUgYW5kIHdpdGhkcmF3IGZ1bmRzICovCiAgICBmdW5jdGlvbiB3aXRoZHJhdygpIG9ubHlBZnRlckNyb3dkc2FsZURlYWRsaW5lIHsKICAgICAgICB1aW50MjU2IGV0aFRvV2l0aGRyYXcgPSBhZGRyZXNzKHRoaXMpLmJhbGFuY2U7CiAgICAgICAgdWludDI1NiBkYXNUb1dpdGhkcmF3ID0gZGFzVG9rZW4uYmFsYW5jZU9mKGFkZHJlc3ModGhpcykpOwoKICAgICAgICBpZiAoZXRoVG9XaXRoZHJhdyA9PSAwICYmIGRhc1RvV2l0aGRyYXcgPT0gMCkgdGhyb3c7CgogICAgICAgIGlmIChldGhUb1dpdGhkcmF3ID4gMCkgeyBjcm93ZHNhbGVCZW5lZmljaWFyeS50cmFuc2ZlcihldGhUb1dpdGhkcmF3KTsgfQogICAgICAgIGlmIChkYXNUb1dpdGhkcmF3ID4gMCkgeyBkYXNUb2tlbi50cmFuc2Zlcihjcm93ZHNhbGVEYXNUb2tlbnNDaGFuZ2VCZW5lZmljaWFyeSwgZGFzVG9XaXRoZHJhdyk7IH0KICAgIH0KCgogICAgLyogSGVscGVycyAqLwogICAgbW9kaWZpZXIgb25seUJlZm9yZUNyb3dkc2FsZURlYWRsaW5lIHsKICAgICAgICByZXF1aXJlKG5vdyA8PSBjcm93ZHNhbGVEZWFkbGluZSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5QWZ0ZXJDcm93ZHNhbGVEZWFkbGluZSB7CiAgICAgICAgcmVxdWlyZShub3cgPiBjcm93ZHNhbGVEZWFkbGluZSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5U2VjcmV0YXJ5R2VuZXJhbCB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gc2VjcmV0YXJ5R2VuZXJhbCkgdGhyb3c7CiAgICAgICAgXzsKICAgIH0KfQ=='.
	

]
