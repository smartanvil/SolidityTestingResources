Class {
	#name : #SRT6c543F2A4FAFCEBEef4C668538Ff75AE7600B047,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT6c543F2A4FAFCEBEef4C668538Ff75AE7600B047 >> base64 [
	^ 'Ly8gQ29weXJpZ2h0IChDKSAyMDE3IERhcHBIdWIsIExMQwoKcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovL2ltcG9ydCAiZHMtZXhlYy9leGVjLnNvbCI7Cgpjb250cmFjdCBEU0V4ZWMgewogICAgZnVuY3Rpb24gdHJ5RXhlYyggYWRkcmVzcyB0YXJnZXQsIGJ5dGVzIGNhbGxkYXRhLCB1aW50IHZhbHVlKQogICAgaW50ZXJuYWwKICAgIHJldHVybnMgKGJvb2wgY2FsbF9yZXQpCiAgICB7CiAgICAgICAgcmV0dXJuIHRhcmdldC5jYWxsLnZhbHVlKHZhbHVlKShjYWxsZGF0YSk7CiAgICB9CiAgICBmdW5jdGlvbiBleGVjKCBhZGRyZXNzIHRhcmdldCwgYnl0ZXMgY2FsbGRhdGEsIHVpbnQgdmFsdWUpCiAgICBpbnRlcm5hbAogICAgewogICAgICAgIGlmKCF0cnlFeGVjKHRhcmdldCwgY2FsbGRhdGEsIHZhbHVlKSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICB9CgogICAgLy8gQ29udmVuaWVuY2UgYWxpYXNlcwogICAgZnVuY3Rpb24gZXhlYyggYWRkcmVzcyB0LCBieXRlcyBjICkKICAgIGludGVybmFsCiAgICB7CiAgICAgICAgZXhlYyh0LCBjLCAwKTsKICAgIH0KICAgIGZ1bmN0aW9uIGV4ZWMoIGFkZHJlc3MgdCwgdWludDI1NiB2ICkKICAgIGludGVybmFsCiAgICB7CiAgICAgICAgYnl0ZXMgbWVtb3J5IGM7IGV4ZWModCwgYywgdik7CiAgICB9CiAgICBmdW5jdGlvbiB0cnlFeGVjKCBhZGRyZXNzIHQsIGJ5dGVzIGMgKQogICAgaW50ZXJuYWwKICAgIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgcmV0dXJuIHRyeUV4ZWModCwgYywgMCk7CiAgICB9CiAgICBmdW5jdGlvbiB0cnlFeGVjKCBhZGRyZXNzIHQsIHVpbnQyNTYgdiApCiAgICBpbnRlcm5hbAogICAgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICBieXRlcyBtZW1vcnkgYzsgcmV0dXJuIHRyeUV4ZWModCwgYywgdik7CiAgICB9Cn0KCi8vaW1wb3J0ICJkcy1hdXRoL2F1dGguc29sIjsKY29udHJhY3QgRFNBdXRob3JpdHkgewogICAgZnVuY3Rpb24gY2FuQ2FsbCgKICAgIGFkZHJlc3Mgc3JjLCBhZGRyZXNzIGRzdCwgYnl0ZXM0IHNpZwogICAgKSBjb25zdGFudCByZXR1cm5zIChib29sKTsKfQoKY29udHJhY3QgRFNBdXRoRXZlbnRzIHsKICAgIGV2ZW50IExvZ1NldEF1dGhvcml0eSAoYWRkcmVzcyBpbmRleGVkIGF1dGhvcml0eSk7CiAgICBldmVudCBMb2dTZXRPd25lciAgICAgKGFkZHJlc3MgaW5kZXhlZCBvd25lcik7Cn0KCmNvbnRyYWN0IERTQXV0aCBpcyBEU0F1dGhFdmVudHMgewogICAgRFNBdXRob3JpdHkgIHB1YmxpYyAgYXV0aG9yaXR5OwogICAgYWRkcmVzcyAgICAgIHB1YmxpYyAgb3duZXI7CgogICAgZnVuY3Rpb24gRFNBdXRoKCkgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICBMb2dTZXRPd25lcihtc2cuc2VuZGVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRPd25lcihhZGRyZXNzIG93bmVyXykKICAgIGF1dGgKICAgIHsKICAgICAgICBvd25lciA9IG93bmVyXzsKICAgICAgICBMb2dTZXRPd25lcihvd25lcik7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0QXV0aG9yaXR5KERTQXV0aG9yaXR5IGF1dGhvcml0eV8pCiAgICBhdXRoCiAgICB7CiAgICAgICAgYXV0aG9yaXR5ID0gYXV0aG9yaXR5XzsKICAgICAgICBMb2dTZXRBdXRob3JpdHkoYXV0aG9yaXR5KTsKICAgIH0KCiAgICBtb2RpZmllciBhdXRoIHsKICAgICAgICBhc3NlcnQoaXNBdXRob3JpemVkKG1zZy5zZW5kZXIsIG1zZy5zaWcpKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzQXV0aG9yaXplZChhZGRyZXNzIHNyYywgYnl0ZXM0IHNpZykgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGlmIChzcmMgPT0gYWRkcmVzcyh0aGlzKSkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKHNyYyA9PSBvd25lcikgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKGF1dGhvcml0eSA9PSBEU0F1dGhvcml0eSgwKSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGF1dGhvcml0eS5jYW5DYWxsKHNyYywgdGhpcywgc2lnKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgeCkgaW50ZXJuYWwgewogICAgICAgIGlmICgheCkgdGhyb3c7CiAgICB9Cn0KCi8vaW1wb3J0ICJkcy1ub3RlL25vdGUuc29sIjsKY29udHJhY3QgRFNOb3RlIHsKICAgIGV2ZW50IExvZ05vdGUoCiAgICBieXRlczQgICBpbmRleGVkICBzaWcsCiAgICBhZGRyZXNzICBpbmRleGVkICBndXksCiAgICBieXRlczMyICBpbmRleGVkICBmb28sCiAgICBieXRlczMyICBpbmRleGVkICBiYXIsCiAgICB1aW50ICAgICAgICB3YWQsCiAgICBieXRlcyAgICAgICAgICAgICBmYXgKICAgICkgYW5vbnltb3VzOwoKICAgIG1vZGlmaWVyIG5vdGUgewogICAgICAgIGJ5dGVzMzIgZm9vOwogICAgICAgIGJ5dGVzMzIgYmFyOwoKICAgICAgICBhc3NlbWJseSB7CiAgICAgICAgZm9vIDo9IGNhbGxkYXRhbG9hZCg0KQogICAgICAgIGJhciA6PSBjYWxsZGF0YWxvYWQoMzYpCiAgICAgICAgfQoKICAgICAgICBMb2dOb3RlKG1zZy5zaWcsIG1zZy5zZW5kZXIsIGZvbywgYmFyLCBtc2cudmFsdWUsIG1zZy5kYXRhKTsKCiAgICAgICAgXzsKICAgIH0KfQoKCi8vaW1wb3J0ICJkcy1tYXRoL21hdGguc29sIjsKY29udHJhY3QgRFNNYXRoIHsKCiAgICAvKgogICAgc3RhbmRhcmQgdWludDI1NiBmdW5jdGlvbnMKICAgICAqLwoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgYXNzZXJ0KCh6ID0geCArIHkpID49IHgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgYXNzZXJ0KCh6ID0geCAtIHkpIDw9IHgpOwogICAgfQoKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgeiA9IHggKiB5OwogICAgICAgIGFzc2VydCh4ID09IDAgfHwgeiAvIHggPT0geSk7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICB6ID0geCAvIHk7CiAgICB9CgogICAgZnVuY3Rpb24gbWluKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICByZXR1cm4geCA8PSB5ID8geCA6IHk7CiAgICB9CiAgICBmdW5jdGlvbiBtYXgodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgewogICAgICAgIHJldHVybiB4ID49IHkgPyB4IDogeTsKICAgIH0KCiAgICAvKgogICAgdWludDEyOCBmdW5jdGlvbnMgKGggaXMgZm9yIGhhbGYpCiAgICAgKi8KCgogICAgZnVuY3Rpb24gaGFkZCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgYXNzZXJ0KCh6ID0geCArIHkpID49IHgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGhzdWIodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIGFzc2VydCgoeiA9IHggLSB5KSA8PSB4KTsKICAgIH0KCiAgICBmdW5jdGlvbiBobXVsKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICB6ID0geCAqIHk7CiAgICAgICAgYXNzZXJ0KHggPT0gMCB8fCB6IC8geCA9PSB5KTsKICAgIH0KCiAgICBmdW5jdGlvbiBoZGl2KHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICB6ID0geCAvIHk7CiAgICB9CgogICAgZnVuY3Rpb24gaG1pbih1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgcmV0dXJuIHggPD0geSA/IHggOiB5OwogICAgfQogICAgZnVuY3Rpb24gaG1heCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgcmV0dXJuIHggPj0geSA/IHggOiB5OwogICAgfQoKCiAgICAvKgogICAgaW50MjU2IGZ1bmN0aW9ucwogICAgICovCgogICAgZnVuY3Rpb24gaW1pbihpbnQyNTYgeCwgaW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKGludDI1NiB6KSB7CiAgICAgICAgcmV0dXJuIHggPD0geSA/IHggOiB5OwogICAgfQogICAgZnVuY3Rpb24gaW1heChpbnQyNTYgeCwgaW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKGludDI1NiB6KSB7CiAgICAgICAgcmV0dXJuIHggPj0geSA/IHggOiB5OwogICAgfQoKICAgIC8qCiAgICBXQUQgbWF0aAogICAgICovCgogICAgdWludDEyOCBjb25zdGFudCBXQUQgPSAxMCAqKiAxODsKCiAgICBmdW5jdGlvbiB3YWRkKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4KSB7CiAgICAgICAgcmV0dXJuIGhhZGQoeCwgeSk7CiAgICB9CgogICAgZnVuY3Rpb24gd3N1Yih1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCkgewogICAgICAgIHJldHVybiBoc3ViKHgsIHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdtdWwodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIHogPSBjYXN0KCh1aW50MjU2KHgpICogeSArIFdBRCAvIDIpIC8gV0FEKTsKICAgIH0KCiAgICBmdW5jdGlvbiB3ZGl2KHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICB6ID0gY2FzdCgodWludDI1Nih4KSAqIFdBRCArIHkgLyAyKSAvIHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdtaW4odWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjgpIHsKICAgICAgICByZXR1cm4gaG1pbih4LCB5KTsKICAgIH0KICAgIGZ1bmN0aW9uIHdtYXgodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjgpIHsKICAgICAgICByZXR1cm4gaG1heCh4LCB5KTsKICAgIH0KCiAgICAvKgogICAgUkFZIG1hdGgKICAgICAqLwoKICAgIHVpbnQxMjggY29uc3RhbnQgUkFZID0gMTAgKiogMjc7CgogICAgZnVuY3Rpb24gcmFkZCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCkgewogICAgICAgIHJldHVybiBoYWRkKHgsIHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJzdWIodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjgpIHsKICAgICAgICByZXR1cm4gaHN1Yih4LCB5KTsKICAgIH0KCiAgICBmdW5jdGlvbiBybXVsKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICB6ID0gY2FzdCgodWludDI1Nih4KSAqIHkgKyBSQVkgLyAyKSAvIFJBWSk7CiAgICB9CgogICAgZnVuY3Rpb24gcmRpdih1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgeiA9IGNhc3QoKHVpbnQyNTYoeCkgKiBSQVkgKyB5IC8gMikgLyB5KTsKICAgIH0KCiAgICBmdW5jdGlvbiBycG93KHVpbnQxMjggeCwgdWludDY0IG4pIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIC8vIFRoaXMgZmFtb3VzIGFsZ29yaXRobSBpcyBjYWxsZWQgImV4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nIgogICAgICAgIC8vIGFuZCBjYWxjdWxhdGVzIHhebiB3aXRoIHggYXMgZml4ZWQtcG9pbnQgYW5kIG4gYXMgcmVndWxhciB1bnNpZ25lZC4KICAgICAgICAvLwogICAgICAgIC8vIEl0J3MgTyhsb2cgbiksIGluc3RlYWQgb2YgTyhuKSBmb3IgbmFpdmUgcmVwZWF0ZWQgbXVsdGlwbGljYXRpb24uCiAgICAgICAgLy8KICAgICAgICAvLyBUaGVzZSBmYWN0cyBhcmUgd2h5IGl0IHdvcmtzOgogICAgICAgIC8vCiAgICAgICAgLy8gIElmIG4gaXMgZXZlbiwgdGhlbiB4Xm4gPSAoeF4yKV4obi8yKS4KICAgICAgICAvLyAgSWYgbiBpcyBvZGQsICB0aGVuIHhebiA9IHggKiB4XihuLTEpLAogICAgICAgIC8vICAgYW5kIGFwcGx5aW5nIHRoZSBlcXVhdGlvbiBmb3IgZXZlbiB4IGdpdmVzCiAgICAgICAgLy8gICAgeF5uID0geCAqICh4XjIpXigobi0xKSAvIDIpLgogICAgICAgIC8vCiAgICAgICAgLy8gIEFsc28sIEVWTSBkaXZpc2lvbiBpcyBmbG9vcmluZyBhbmQKICAgICAgICAvLyAgICBmbG9vclsobi0xKSAvIDJdID0gZmxvb3JbbiAvIDJdLgoKICAgICAgICB6ID0gbiAlIDIgIT0gMCA/IHggOiBSQVk7CgogICAgICAgIGZvciAobiAvPSAyOyBuICE9IDA7IG4gLz0gMikgewogICAgICAgICAgICB4ID0gcm11bCh4LCB4KTsKCiAgICAgICAgICAgIGlmIChuICUgMiAhPSAwKSB7CiAgICAgICAgICAgICAgICB6ID0gcm11bCh6LCB4KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBybWluKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4KSB7CiAgICAgICAgcmV0dXJuIGhtaW4oeCwgeSk7CiAgICB9CiAgICBmdW5jdGlvbiBybWF4KHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4KSB7CiAgICAgICAgcmV0dXJuIGhtYXgoeCwgeSk7CiAgICB9CgogICAgZnVuY3Rpb24gY2FzdCh1aW50MjU2IHgpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIGFzc2VydCgoeiA9IHVpbnQxMjgoeCkpID09IHgpOwogICAgfQoKfQoKLy9pbXBvcnQgImVyYzIwL2VyYzIwLnNvbCI7CmNvbnRyYWN0IEVSQzIwIHsKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludCBzdXBwbHkpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKCBhZGRyZXNzIHdobyApIGNvbnN0YW50IHJldHVybnMgKHVpbnQgdmFsdWUpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKCBhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIgKSBjb25zdGFudCByZXR1cm5zICh1aW50IF9hbGxvd2FuY2UpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zIChib29sIG9rKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbSggYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zIChib29sIG9rKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoIGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSApIHJldHVybnMgKGJvb2wgb2spOwoKICAgIGV2ZW50IFRyYW5zZmVyKCBhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKCBhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsKfQoKCgovL2ltcG9ydCAiZHMtdG9rZW4vYmFzZS5zb2wiOwpjb250cmFjdCBEU1Rva2VuQmFzZSBpcyBFUkMyMCwgRFNNYXRoIHsKICAgIHVpbnQyNTYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdXBwbHk7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpICAgICAgICAgICAgICAgICAgICAgICBfYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpICBfYXBwcm92YWxzOwoKICAgIGZ1bmN0aW9uIERTVG9rZW5CYXNlKHVpbnQyNTYgc3VwcGx5KSB7CiAgICAgICAgX2JhbGFuY2VzW21zZy5zZW5kZXJdID0gc3VwcGx5OwogICAgICAgIF9zdXBwbHkgPSBzdXBwbHk7CiAgICB9CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIF9zdXBwbHk7CiAgICB9CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBzcmMpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gX2JhbGFuY2VzW3NyY107CiAgICB9CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBzcmMsIGFkZHJlc3MgZ3V5KSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIF9hcHByb3ZhbHNbc3JjXVtndXldOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgZHN0LCB1aW50IHdhZCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGFzc2VydChfYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gd2FkKTsKCiAgICAgICAgX2JhbGFuY2VzW21zZy5zZW5kZXJdID0gc3ViKF9iYWxhbmNlc1ttc2cuc2VuZGVyXSwgd2FkKTsKICAgICAgICBfYmFsYW5jZXNbZHN0XSA9IGFkZChfYmFsYW5jZXNbZHN0XSwgd2FkKTsKCiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgZHN0LCB3YWQpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBzcmMsIGFkZHJlc3MgZHN0LCB1aW50IHdhZCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGFzc2VydChfYmFsYW5jZXNbc3JjXSA+PSB3YWQpOwogICAgICAgIGFzc2VydChfYXBwcm92YWxzW3NyY11bbXNnLnNlbmRlcl0gPj0gd2FkKTsKCiAgICAgICAgX2FwcHJvdmFsc1tzcmNdW21zZy5zZW5kZXJdID0gc3ViKF9hcHByb3ZhbHNbc3JjXVttc2cuc2VuZGVyXSwgd2FkKTsKICAgICAgICBfYmFsYW5jZXNbc3JjXSA9IHN1YihfYmFsYW5jZXNbc3JjXSwgd2FkKTsKICAgICAgICBfYmFsYW5jZXNbZHN0XSA9IGFkZChfYmFsYW5jZXNbZHN0XSwgd2FkKTsKCiAgICAgICAgVHJhbnNmZXIoc3JjLCBkc3QsIHdhZCk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBndXksIHVpbnQyNTYgd2FkKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgX2FwcHJvdmFsc1ttc2cuc2VuZGVyXVtndXldID0gd2FkOwoKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBndXksIHdhZCk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKfQoKCi8vaW1wb3J0ICJkcy1zdG9wL3N0b3Auc29sIjsKY29udHJhY3QgRFNTdG9wIGlzIERTQXV0aCwgRFNOb3RlIHsKCiAgICBib29sIHB1YmxpYyBzdG9wcGVkOwoKICAgIG1vZGlmaWVyIHN0b3BwYWJsZSB7CiAgICAgICAgYXNzZXJ0ICghc3RvcHBlZCk7CiAgICAgICAgXzsKICAgIH0KICAgIGZ1bmN0aW9uIHN0b3AoKSBhdXRoIG5vdGUgewogICAgICAgIHN0b3BwZWQgPSB0cnVlOwogICAgfQogICAgZnVuY3Rpb24gc3RhcnQoKSBhdXRoIG5vdGUgewogICAgICAgIHN0b3BwZWQgPSBmYWxzZTsKICAgIH0KCn0KCgovL2ltcG9ydCAiZHMtdG9rZW4vdG9rZW4uc29sIjsKY29udHJhY3QgRFNUb2tlbiBpcyBEU1Rva2VuQmFzZSgwKSwgRFNTdG9wIHsKCiAgICBieXRlczMyICBwdWJsaWMgIHN5bWJvbDsKICAgIHVpbnQyNTYgIHB1YmxpYyAgZGVjaW1hbHMgPSAxODsgLy8gc3RhbmRhcmQgdG9rZW4gcHJlY2lzaW9uLiBvdmVycmlkZSB0byBjdXN0b21pemUKICAgIGFkZHJlc3MgIHB1YmxpYyAgZ2VuZXJhdG9yOwoKICAgIG1vZGlmaWVyIG9ubHlHZW5lcmF0b3IgewogICAgICAgIGlmKG1zZy5zZW5kZXIhPWdlbmVyYXRvcikgdGhyb3c7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBEU1Rva2VuKGJ5dGVzMzIgc3ltYm9sXykgewogICAgICAgIHN5bWJvbCA9IHN5bWJvbF87CiAgICAgICAgZ2VuZXJhdG9yPW1zZy5zZW5kZXI7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBkc3QsIHVpbnQgd2FkKSBzdG9wcGFibGUgbm90ZSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKGRzdCwgd2FkKTsKICAgIH0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbSgKICAgIGFkZHJlc3Mgc3JjLCBhZGRyZXNzIGRzdCwgdWludCB3YWQKICAgICkgc3RvcHBhYmxlIG5vdGUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oc3JjLCBkc3QsIHdhZCk7CiAgICB9CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgZ3V5LCB1aW50IHdhZCkgc3RvcHBhYmxlIG5vdGUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci5hcHByb3ZlKGd1eSwgd2FkKTsKICAgIH0KCiAgICBmdW5jdGlvbiBwdXNoKGFkZHJlc3MgZHN0LCB1aW50MTI4IHdhZCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiB0cmFuc2Zlcihkc3QsIHdhZCk7CiAgICB9CiAgICBmdW5jdGlvbiBwdWxsKGFkZHJlc3Mgc3JjLCB1aW50MTI4IHdhZCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiB0cmFuc2ZlckZyb20oc3JjLCBtc2cuc2VuZGVyLCB3YWQpOwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbnQodWludDEyOCB3YWQpIGF1dGggc3RvcHBhYmxlIG5vdGUgewogICAgICAgIF9iYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGFkZChfYmFsYW5jZXNbbXNnLnNlbmRlcl0sIHdhZCk7CiAgICAgICAgX3N1cHBseSA9IGFkZChfc3VwcGx5LCB3YWQpOwogICAgfQogICAgZnVuY3Rpb24gYnVybih1aW50MTI4IHdhZCkgYXV0aCBzdG9wcGFibGUgbm90ZSB7CiAgICAgICAgX2JhbGFuY2VzW21zZy5zZW5kZXJdID0gc3ViKF9iYWxhbmNlc1ttc2cuc2VuZGVyXSwgd2FkKTsKICAgICAgICBfc3VwcGx5ID0gc3ViKF9zdXBwbHksIHdhZCk7CiAgICB9CgogICAgLy8gb3duZXIgY2FuIHRyYW5zZmVyIHRva2VuIGV2ZW4gc3RvcCwKICAgIGZ1bmN0aW9uIGdlbmVyYXRvclRyYW5zZmVyKGFkZHJlc3MgZHN0LCB1aW50IHdhZCkgb25seUdlbmVyYXRvciBub3RlIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoZHN0LCB3YWQpOwogICAgfQoKICAgIC8vIE9wdGlvbmFsIHRva2VuIG5hbWUKCiAgICBieXRlczMyICAgcHVibGljICBuYW1lID0gIiI7CgogICAgZnVuY3Rpb24gc2V0TmFtZShieXRlczMyIG5hbWVfKSBhdXRoIHsKICAgICAgICBuYW1lID0gbmFtZV87CiAgICB9Cgp9CgoKCmNvbnRyYWN0IEtleVJld2FyZFBvb2wgaXMgRFNTdG9wICwgRFNNYXRoewoKICAgIERTVG9rZW4gcHVibGljIGtleTsKICAgIHVpbnQgcHVibGljIHJld2FyZFN0YXJ0VGltZTsKCiAgICB1aW50IGNvbnN0YW50IHB1YmxpYyB5ZWFybHlSZXdhcmRQZXJjZW50YWdlID0gMTA7IC8vIDEwJSBvZiByZW1haW5pbmcgdG9rZW5zCiAgICB1aW50IHB1YmxpYyB0b3RhbFJld2FyZFRoaXNZZWFyOwogICAgdWludCBwdWJsaWMgY29sbGVjdGVkVG9rZW5zOwogICAgYWRkcmVzcyBwdWJsaWMgd2l0aGRyYXdlcjsKCiAgICBldmVudCBUb2tlbnNXaXRoZHJhd24oYWRkcmVzcyBpbmRleGVkIF9ob2xkZXIsIHVpbnQgX2Ftb3VudCk7CiAgICBldmVudCBMb2dTZXRXaXRoZHJhd2VyKGFkZHJlc3MgaW5kZXhlZCBfd2l0aGRyYXdlcik7CgogICAgbW9kaWZpZXIgb25seVdpdGhkcmF3ZXIgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSB3aXRoZHJhd2VyKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIEtleVJld2FyZFBvb2wodWludCBfcmV3YXJkU3RhcnRUaW1lLCBhZGRyZXNzIF9rZXksIGFkZHJlc3MgX3dpdGhkcmF3ZXIpewogICAgICAgIHJlcXVpcmUoX3Jld2FyZFN0YXJ0VGltZSAhPSAwICk7CiAgICAgICAgcmVxdWlyZShfa2V5ICE9IGFkZHJlc3MoMCkgKTsKICAgICAgICByZXF1aXJlKF93aXRoZHJhd2VyICE9IGFkZHJlc3MoMCkgKTsKCiAgICAgICAgcmV3YXJkU3RhcnRUaW1lID0gX3Jld2FyZFN0YXJ0VGltZTsKICAgICAgICBrZXkgPSBEU1Rva2VuKF9rZXkpOwogICAgICAgIHdpdGhkcmF3ZXIgPSBfd2l0aGRyYXdlcjsKICAgIH0KCiAgICAvLyBAbm90aWNlIGNhbGwgdGhpcyBtZXRob2QgdG8gZXh0cmFjdCB0aGUgdG9rZW5zCiAgICBmdW5jdGlvbiBjb2xsZWN0VG9rZW4oKSBzdG9wcGFibGUgb25seVdpdGhkcmF3ZXJ7CiAgICAgICAgdWludCBfdGltZSA9IHRpbWUoKTsKICAgICAgICB2YXIgX2tleSA9IGtleTsgIC8vIGNyZWF0ZSBhIGluIG1lbW9yeSB2YXJpYWJsZSBmb3Igc3RvcmFnZSB2YXJpYWJsZSB3aWxsIHNhdmUgZ2FzIHVzYWdlLgoKICAgICAgICByZXF1aXJlKF90aW1lID4gcmV3YXJkU3RhcnRUaW1lKTsKCiAgICAgICAgdWludCBiYWxhbmNlID0gX2tleS5iYWxhbmNlT2YoYWRkcmVzcyh0aGlzKSk7CiAgICAgICAgdWludCB0b3RhbCA9IGFkZChjb2xsZWN0ZWRUb2tlbnMsIGJhbGFuY2UpOwoKICAgICAgICB1aW50IHJlbWFpbmluZ1Rva2VucyA9IHRvdGFsOwoKICAgICAgICB1aW50IHllYXJDb3VudCA9IHllYXJGb3IoX3RpbWUpOwoKICAgICAgICBmb3IodWludCBpID0gMDsgaSA8IHllYXJDb3VudDsgaSsrKSB7CiAgICAgICAgICAgIHJlbWFpbmluZ1Rva2VucyA9ICBkaXYoIG11bChyZW1haW5pbmdUb2tlbnMsIDEwMCAtIHllYXJseVJld2FyZFBlcmNlbnRhZ2UpLCAxMDApOwogICAgICAgIH0KICAgICAgICAvLwogICAgICAgIHRvdGFsUmV3YXJkVGhpc1llYXIgPSAgZGl2KCBtdWwocmVtYWluaW5nVG9rZW5zLCB5ZWFybHlSZXdhcmRQZXJjZW50YWdlKSwgMTAwKTsKCiAgICAgICAgLy8gdGhlIHJld2FyZCB3aWxsIGJlIGluY3JlYXNpbmcgbGluZWFybHkgaW4gb25lIHllYXIuCiAgICAgICAgdWludCBjYW5FeHRyYWN0VGhpc1llYXIgPSBkaXYoIG11bCh0b3RhbFJld2FyZFRoaXNZZWFyLCAoX3RpbWUgLSByZXdhcmRTdGFydFRpbWUpICAlIDM2NSBkYXlzKSwgMzY1IGRheXMpOwoKICAgICAgICB1aW50IGNhbkV4dHJhY3QgPSBjYW5FeHRyYWN0VGhpc1llYXIgKyB0b3RhbCAtIHJlbWFpbmluZ1Rva2VuczsKCiAgICAgICAgY2FuRXh0cmFjdCA9IHN1YihjYW5FeHRyYWN0LCBjb2xsZWN0ZWRUb2tlbnMpOwoKICAgICAgICBpZihjYW5FeHRyYWN0ID4gYmFsYW5jZSkgewogICAgICAgICAgICBjYW5FeHRyYWN0ID0gYmFsYW5jZTsKICAgICAgICB9CgogICAgICAgIAogICAgICAgIGNvbGxlY3RlZFRva2VucyA9IGFkZChjb2xsZWN0ZWRUb2tlbnMsIGNhbkV4dHJhY3QpOwoKICAgICAgICBhc3NlcnQoX2tleS50cmFuc2Zlcih3aXRoZHJhd2VyLCBjYW5FeHRyYWN0KSk7IC8vIEZpeCBwb3RlbnRpYWwgcmUtZW50cnkgYnVnLgogICAgICAgIFRva2Vuc1dpdGhkcmF3bih3aXRoZHJhd2VyLCBjYW5FeHRyYWN0KTsKICAgIH0KCgogICAgZnVuY3Rpb24geWVhckZvcih1aW50IHRpbWVzdGFtcCkgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICAgICAgcmV0dXJuIHRpbWVzdGFtcCA8IHJld2FyZFN0YXJ0VGltZQogICAgICAgICAgICA/IDAKICAgICAgICAgICAgOiBzdWIodGltZXN0YW1wLCByZXdhcmRTdGFydFRpbWUpIC8gKDM2NSBkYXlzKTsKICAgIH0KCiAgICAvLyBvdmVycmlkZWFibGUgZm9yIGVhc3kgdGVzdGluZwogICAgZnVuY3Rpb24gdGltZSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gbm93OwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFdpdGhkcmF3ZXIoYWRkcmVzcyBfd2l0aGRyYXdlcikgYXV0aCB7CiAgICAgICAgd2l0aGRyYXdlciA9IF93aXRoZHJhd2VyOwogICAgICAgIExvZ1NldFdpdGhkcmF3ZXIoX3dpdGhkcmF3ZXIpOwogICAgfQoKICAgIC8vIEBub3RpY2UgVGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgYnkgdGhlIGNvbnRyb2xsZXIgdG8gZXh0cmFjdCBtaXN0YWtlbmx5CiAgICAvLyAgc2VudCB0b2tlbnMgdG8gdGhpcyBjb250cmFjdC4KICAgIC8vIEBwYXJhbSBkc3QgVGhlIGFkZHJlc3MgdGhhdCB3aWxsIGJlIHJlY2VpdmluZyB0aGUgdG9rZW5zCiAgICAvLyBAcGFyYW0gd2FkIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIHRyYW5zZmVyCiAgICAvLyBAcGFyYW0gX3Rva2VuIFRoZSBhZGRyZXNzIG9mIHRoZSB0b2tlbiBjb250cmFjdCB0aGF0IHlvdSB3YW50IHRvIHJlY292ZXIKICAgIGZ1bmN0aW9uIHRyYW5zZmVyVG9rZW5zKGFkZHJlc3MgZHN0LCB1aW50IHdhZCwgYWRkcmVzcyBfdG9rZW4pIHB1YmxpYyBhdXRoIG5vdGUgewogICAgICAgIHJlcXVpcmUoIF90b2tlbiAhPSBhZGRyZXNzKGtleSkpOwogICAgICAgIGlmICh3YWQgPiAwKSB7CiAgICAgICAgICAgIEVSQzIwIHRva2VuID0gRVJDMjAoX3Rva2VuKTsKICAgICAgICAgICAgdG9rZW4udHJhbnNmZXIoZHN0LCB3YWQpOwogICAgICAgIH0KICAgIH0KCiAgICAKfQ=='.
	

]
