Class {
	#name : #SRT39a87dc12a7199aa012c18f114b763e27d0deca4,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT39a87dc12a7199aa012c18f114b763e27d0deca4 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CmxpYnJhcnkgU2FmZU1hdGggewogICAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgYykgewogICAgICAgIGMgPSBhICsgYjsKICAgICAgICByZXF1aXJlKGMgPj0gYSk7CiAgICB9CiAgICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCBjKSB7CiAgICAgICAgcmVxdWlyZShiIDw9IGEpOwogICAgICAgIGMgPSBhIC0gYjsKICAgIH0KICAgIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50IGMpIHsKICAgICAgICBjID0gYSAqIGI7CiAgICAgICAgcmVxdWlyZShhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICB9CiAgICBmdW5jdGlvbiBkaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCBjKSB7CiAgICAgICAgcmVxdWlyZShiID4gMCk7CiAgICAgICAgYyA9IGEgLyBiOwogICAgfQp9Ci8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gQmFzZWQgb24gdGhlIGZpbmFsIEVSQzIwIHNwZWNpZmljYXRpb24gYXQ6Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2Jsb2IvbWFzdGVyL0VJUFMvZWlwLTIwLXRva2VuLXN0YW5kYXJkLm1kCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KY29udHJhY3QgRVJDMjBJbnRlcmZhY2UgewoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7CgogICAgZnVuY3Rpb24gbmFtZSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHN0cmluZyk7CiAgICBmdW5jdGlvbiBzeW1ib2woKSBwdWJsaWMgdmlldyByZXR1cm5zIChzdHJpbmcpOwogICAgZnVuY3Rpb24gZGVjaW1hbHMoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50OCk7CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwp9Cgpjb250cmFjdCBFUkMyMFRva2VuIGlzIEVSQzIwSW50ZXJmYWNlIHsKCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBzdHJpbmcgIHByaXZhdGUgdG9rZW5OYW1lOwogICAgc3RyaW5nICBwcml2YXRlIHRva2VuU3ltYm9sOwogICAgdWludDggICBwcml2YXRlIHRva2VuRGVjaW1hbHM7CiAgICB1aW50MjU2IGludGVybmFsIHRva2VuVG90YWxTdXBwbHk7CiAgICB1aW50MjU2IHB1YmxpYyBwdWJsaWNSZXNlcnZlZFRva2VuOwogICAgdWludDI1NiBwdWJsaWMgdG9rZW5Db252ZXJzaW9uRmFjdG9yID0gMTAqKjQ7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgaW50ZXJuYWwgYmFsYW5jZXM7CgogICAgLy8gT3duZXIgb2YgYWNjb3VudCBhcHByb3ZlcyB0aGUgdHJhbnNmZXIgb2YgYW4gYW1vdW50IHRvIGFub3RoZXIgYWNjb3VudAogICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGludGVybmFsIGFsbG93ZWQ7CgoKICAgIGZ1bmN0aW9uIEVSQzIwVG9rZW4oc3RyaW5nIF9uYW1lLCBzdHJpbmcgX3N5bWJvbCwgdWludDggX2RlY2ltYWxzLCB1aW50MjU2IF90b3RhbFN1cHBseSxhZGRyZXNzIF9wdWJsaWNSZXNlcnZlZCx1aW50MjU2IF9wdWJsaWNSZXNlcnZlZFBlcnNlbnRhZ2UsYWRkcmVzc1tdIGJvYXJkUmVzZXJ2ZWQsdWludDI1NltdIGJvYXJkUmVzZXJ2ZWRQZXJzZW50YWdlKSBwdWJsaWMgewogICAgICAgIHRva2VuTmFtZSA9IF9uYW1lOwogICAgICAgIHRva2VuU3ltYm9sID0gX3N5bWJvbDsKICAgICAgICB0b2tlbkRlY2ltYWxzID0gX2RlY2ltYWxzOwogICAgICAgIHRva2VuVG90YWxTdXBwbHkgPSBfdG90YWxTdXBwbHk7CgogICAgICAgIC8vIFRoZSBpbml0aWFsIFB1YmxpYyBSZXNlcnZlZCBiYWxhbmNlIG9mIHRva2VucyBpcyBhc3NpZ25lZCB0byB0aGUgZ2l2ZW4gdG9rZW4gaG9sZGVyIGFkZHJlc3MuCiAgICAgICAgLy8gZnJvbSB0b3RhbCBzdXBwbGUgOTAlIHRva2VucyBhc3NpZ24gdG8gcHVibGljIHJlc2VydmVkICBob2xkZXIKICAgICAgICBwdWJsaWNSZXNlcnZlZFRva2VuID0gX3RvdGFsU3VwcGx5Lm11bChfcHVibGljUmVzZXJ2ZWRQZXJzZW50YWdlKS5kaXYodG9rZW5Db252ZXJzaW9uRmFjdG9yKTsKICAgICAgICBiYWxhbmNlc1tfcHVibGljUmVzZXJ2ZWRdID0gcHVibGljUmVzZXJ2ZWRUb2tlbjsKCiAgICAgICAgLy8xMCBwZXJzZW50YWdlIHRva2VuIGF2YWlsYWJsZSBmb3IgYm9hcmQgbWVtYmVycwogICAgICAgIHVpbnQyNTYgYm9hcmRSZXNlcnZlZFRva2VuID0gX3RvdGFsU3VwcGx5LnN1YihwdWJsaWNSZXNlcnZlZFRva2VuKTsKCiAgICAgICAgLy8gUGVyIEVJUDIwLCB0aGUgY29uc3RydWN0b3Igc2hvdWxkIGZpcmUgYSBUcmFuc2ZlciBldmVudCBpZiB0b2tlbnMgYXJlIGFzc2lnbmVkIHRvIGFuIGFjY291bnQuCiAgICAgICAgVHJhbnNmZXIoMHgwLCBfcHVibGljUmVzZXJ2ZWQsIHB1YmxpY1Jlc2VydmVkVG9rZW4pOwoKICAgICAgICAvLyBUaGUgaW5pdGlhbCBCb2FyZCBSZXNlcnZlZCBiYWxhbmNlIG9mIHRva2VucyBpcyBhc3NpZ25lZCB0byB0aGUgZ2l2ZW4gdG9rZW4gaG9sZGVyIGFkZHJlc3MuCiAgICAgICAgdWludDI1NiBwZXJzZW50YWdlU3VtID0gMDsKICAgICAgICBmb3IodWludCBpPTA7IGk8Ym9hcmRSZXNlcnZlZC5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgIC8vCiAgICAgICAgICAgIHBlcnNlbnRhZ2VTdW0gPSBwZXJzZW50YWdlU3VtLmFkZChib2FyZFJlc2VydmVkUGVyc2VudGFnZVtpXSk7CiAgICAgICAgICAgIHJlcXVpcmUocGVyc2VudGFnZVN1bSA8PSAxMDAwMCk7CiAgICAgICAgICAgIC8vYXNzaWduaW5nIGJvYXJkIG1lbWJlcnMgcGVyc2VudGFnZSB0b2tlbnMgdG8gcGFydGljdWxhciBib2FyZCBtZW1iZXIgYWRkcmVzcy4KICAgICAgICAgICAgdWludDI1NiB0b2tlbiA9IGJvYXJkUmVzZXJ2ZWRUb2tlbi5tdWwoYm9hcmRSZXNlcnZlZFBlcnNlbnRhZ2VbaV0pLmRpdih0b2tlbkNvbnZlcnNpb25GYWN0b3IpOwogICAgICAgICAgICBiYWxhbmNlc1tib2FyZFJlc2VydmVkW2ldXSA9IHRva2VuOwogICAgICAgICAgICBUcmFuc2ZlcigweDAsIGJvYXJkUmVzZXJ2ZWRbaV0sIHRva2VuKTsKICAgICAgICB9CgogICAgfQoKCiAgICBmdW5jdGlvbiBuYW1lKCkgcHVibGljIHZpZXcgcmV0dXJucyAoc3RyaW5nKSB7CiAgICAgICAgcmV0dXJuIHRva2VuTmFtZTsKICAgIH0KCgogICAgZnVuY3Rpb24gc3ltYm9sKCkgcHVibGljIHZpZXcgcmV0dXJucyAoc3RyaW5nKSB7CiAgICAgICAgcmV0dXJuIHRva2VuU3ltYm9sOwogICAgfQoKCiAgICBmdW5jdGlvbiBkZWNpbWFscygpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQ4KSB7CiAgICAgICAgcmV0dXJuIHRva2VuRGVjaW1hbHM7CiAgICB9CgoKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiB0b2tlblRvdGFsU3VwcGx5OwogICAgfQoKICAgIC8vIEdldCB0aGUgdG9rZW4gYmFsYW5jZSBmb3IgYWNjb3VudCBgdG9rZW5Pd25lcmAKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgdWludDI1NiBmcm9tQmFsYW5jZSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdOwogICAgICAgIGlmIChmcm9tQmFsYW5jZSA8IF92YWx1ZSkgcmV0dXJuIGZhbHNlOwogICAgICAgIGlmIChfdmFsdWUgPiAwICYmIG1zZy5zZW5kZXIgIT0gX3RvKSB7CiAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGZyb21CYWxhbmNlLnN1YihfdmFsdWUpOwogICAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgfQogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gU2VuZCBgdG9rZW5zYCBhbW91bnQgb2YgdG9rZW5zIGZyb20gYWRkcmVzcyBgZnJvbWAgdG8gYWRkcmVzcyBgdG9gCiAgICAvLyBUaGUgdHJhbnNmZXJGcm9tIG1ldGhvZCBpcyB1c2VkIGZvciBhIHdpdGhkcmF3IHdvcmtmbG93LCBhbGxvd2luZyBjb250cmFjdHMgdG8gc2VuZAogICAgLy8gdG9rZW5zIG9uIHlvdXIgYmVoYWxmLCBmb3IgZXhhbXBsZSB0byAiZGVwb3NpdCIgdG8gYSBjb250cmFjdCBhZGRyZXNzIGFuZC9vciB0byBjaGFyZ2UKICAgIC8vIGZlZXMgaW4gc3ViLWN1cnJlbmNpZXM7IHRoZSBjb21tYW5kIHNob3VsZCBmYWlsIHVubGVzcyB0aGUgX2Zyb20gYWNjb3VudCBoYXMKICAgIC8vIGRlbGliZXJhdGVseSBhdXRob3JpemVkIHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UgdmlhIHNvbWUgbWVjaGFuaXNtOyB3ZSBwcm9wb3NlCiAgICAvLyB0aGVzZSBzdGFuZGFyZGl6ZWQgQVBJcyBmb3IgYXBwcm92YWw6CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgCiAgICAgICAgdWludDI1NiBzcGVuZGVyQWxsb3dhbmNlID0gYWxsb3dlZCBbX2Zyb21dW21zZy5zZW5kZXJdOwogICAgICAgIGlmIChzcGVuZGVyQWxsb3dhbmNlIDwgX3ZhbHVlKSByZXR1cm4gZmFsc2U7CiAgICAgICAgdWludDI1NiBmcm9tQmFsYW5jZSA9IGJhbGFuY2VzIFtfZnJvbV07CiAgICAgICAgaWYgKGZyb21CYWxhbmNlIDwgX3ZhbHVlKSByZXR1cm4gZmFsc2U7CiAgICAKICAgICAgICBhbGxvd2VkIFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBzcGVuZGVyQWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgCiAgICAgICAgaWYgKF92YWx1ZSA+IDAgJiYgX2Zyb20gIT0gX3RvKSB7CiAgICAgICAgICBiYWxhbmNlcyBbX2Zyb21dID0gZnJvbUJhbGFuY2UuYWRkKF92YWx1ZSk7CiAgICAgICAgICBiYWxhbmNlcyBbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgfQoKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBBbGxvdyBgc3BlbmRlcmAgdG8gd2l0aGRyYXcgZnJvbSB5b3VyIGFjY291bnQsIG11bHRpcGxlIHRpbWVzLCB1cCB0byB0aGUgYHRva2Vuc2AgYW1vdW50LgogICAgLy8gSWYgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYWdhaW4gaXQgb3ZlcndyaXRlcyB0aGUgY3VycmVudCBhbGxvd2FuY2Ugd2l0aCBfdmFsdWUuCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CgogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKY29udHJhY3QgT3duZWQgewoKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgYWRkcmVzcyBwdWJsaWMgcHJvcG9zZWRPd25lciA9IGFkZHJlc3MoMCk7CgogICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJJbml0aWF0ZWQoYWRkcmVzcyBpbmRleGVkIF9wcm9wb3NlZE93bmVyKTsKICAgIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVyQ29tcGxldGVkKGFkZHJlc3MgaW5kZXhlZCBfbmV3T3duZXIpOwogICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJDYW5jZWxlZCgpOwoKCiAgICBmdW5jdGlvbiBPd25lZCgpIHB1YmxpYwogICAgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUoaXNPd25lcihtc2cuc2VuZGVyKSk7CiAgICAgICAgXzsKICAgIH0KCgogICAgZnVuY3Rpb24gaXNPd25lcihhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIChfYWRkcmVzcyA9PSBvd25lcik7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGluaXRpYXRlT3duZXJzaGlwVHJhbnNmZXIoYWRkcmVzcyBfcHJvcG9zZWRPd25lcikgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShfcHJvcG9zZWRPd25lciAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF9wcm9wb3NlZE93bmVyICE9IGFkZHJlc3ModGhpcykpOwogICAgICAgIHJlcXVpcmUoX3Byb3Bvc2VkT3duZXIgIT0gb3duZXIpOwoKICAgICAgICBwcm9wb3NlZE93bmVyID0gX3Byb3Bvc2VkT3duZXI7CgogICAgICAgIE93bmVyc2hpcFRyYW5zZmVySW5pdGlhdGVkKHByb3Bvc2VkT3duZXIpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgZnVuY3Rpb24gY2FuY2VsT3duZXJzaGlwVHJhbnNmZXIoKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKICAgICAgICAvL2lmIHByb3Bvc2VkT3duZXIgYWRkcmVzcyBhbHJlYWR5IGFkZHJlc3MoMCkgdGhlbiBpdCB3aWxsIHJldHVybiB0cnVlLgogICAgICAgIGlmIChwcm9wb3NlZE93bmVyID09IGFkZHJlc3MoMCkpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIC8vaWYgbm90IHRoZW4gZmlyc3QgaXQgd2lsbCBkbyBhZGRyZXNzKDApIHRoZW4gaXQgd2lsbCByZXR1cm4gdHJ1ZS4KICAgICAgICBwcm9wb3NlZE93bmVyID0gYWRkcmVzcygwKTsKCiAgICAgICAgT3duZXJzaGlwVHJhbnNmZXJDYW5jZWxlZCgpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgZnVuY3Rpb24gY29tcGxldGVPd25lcnNoaXBUcmFuc2ZlcigpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CgogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBwcm9wb3NlZE93bmVyKTsKCiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIHByb3Bvc2VkT3duZXIgPSBhZGRyZXNzKDApOwoKICAgICAgICBPd25lcnNoaXBUcmFuc2ZlckNvbXBsZXRlZChvd25lcik7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9Cgpjb250cmFjdCBGaW5hbGl6YWJsZVRva2VuIGlzIEVSQzIwVG9rZW4sIE93bmVkIHsKCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCgogICAgLyoqCiAgICAgICAgICogQGRldiBDYWxsIHB1YmxpY1Jlc2VydmVkQWRkcmVzcyAtIGxpYnJhcnkgZnVuY3Rpb24gZXhwb3NlZCBmb3IgdGVzdGluZy4KICAgICovCiAgICBhZGRyZXNzIHB1YmxpYyBwdWJsaWNSZXNlcnZlZEFkZHJlc3M7CgogICAgLy9ib2FyZCBtZW1iZXJzIHRpbWUgbGlzdAogICAgbWFwcGluZyhhZGRyZXNzPT51aW50KSBwcml2YXRlIGJvYXJkUmVzZXJ2ZWRBY2NvdW50OwogICAgdWludDI1NltdIHB1YmxpYyBCT0FSRF9SRVNFUlZFRF9ZRUFSUyA9IFsxIHllYXJzLDIgeWVhcnMsMyB5ZWFycyw0IHllYXJzLDUgeWVhcnMsNiB5ZWFycyw3IHllYXJzLDggeWVhcnMsOSB5ZWFycywxMCB5ZWFyc107CiAgICAKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGJ1cm5lcix1aW50MjU2IHZhbHVlKTsKCiAgICAvLyBUaGUgY29uc3RydWN0b3Igd2lsbCBhc3NpZ24gdGhlIGluaXRpYWwgdG9rZW4gc3VwcGx5IHRvIHRoZSBvd25lciAobXNnLnNlbmRlcikuCiAgICBmdW5jdGlvbiBGaW5hbGl6YWJsZVRva2VuKHN0cmluZyBfbmFtZSwgc3RyaW5nIF9zeW1ib2wsIHVpbnQ4IF9kZWNpbWFscywgdWludDI1NiBfdG90YWxTdXBwbHksYWRkcmVzcyBfcHVibGljUmVzZXJ2ZWQsdWludDI1NiBfcHVibGljUmVzZXJ2ZWRQZXJzZW50YWdlLGFkZHJlc3NbXSBfYm9hcmRSZXNlcnZlZCx1aW50MjU2W10gX2JvYXJkUmVzZXJ2ZWRQZXJzZW50YWdlKSBwdWJsaWMKICAgIEVSQzIwVG9rZW4oX25hbWUsIF9zeW1ib2wsIF9kZWNpbWFscywgX3RvdGFsU3VwcGx5LCBfcHVibGljUmVzZXJ2ZWQsIF9wdWJsaWNSZXNlcnZlZFBlcnNlbnRhZ2UsIF9ib2FyZFJlc2VydmVkLCBfYm9hcmRSZXNlcnZlZFBlcnNlbnRhZ2UpCiAgICBPd25lZCgpewogICAgICAgIHB1YmxpY1Jlc2VydmVkQWRkcmVzcyA9IF9wdWJsaWNSZXNlcnZlZDsKICAgICAgICBmb3IodWludCBpPTA7IGk8X2JvYXJkUmVzZXJ2ZWQubGVuZ3RoOyBpKyspewogICAgICAgICAgICBib2FyZFJlc2VydmVkQWNjb3VudFtfYm9hcmRSZXNlcnZlZFtpXV0gPSBjdXJyZW50VGltZSgpICsgQk9BUkRfUkVTRVJWRURfWUVBUlNbaV07CiAgICAgICAgfQogICAgfQoKCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKHZhbGlkYXRlVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvKSk7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICAgIH0KCgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUodmFsaWRhdGVUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8pKTsKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICB9CgoKICAgIGZ1bmN0aW9uIHZhbGlkYXRlVHJhbnNmZXIoYWRkcmVzcyBfc2VuZGVyLCBhZGRyZXNzIF90bykgcHJpdmF0ZSB2aWV3IHJldHVybnMoYm9vbCkgewogICAgICAgIC8vY2hlY2sgbnVsbCBhZGRyZXNzCiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgCiAgICAgICAgLy9jaGVjayBib2FyZCBtZW1iZXIgYWRkcmVzcwogICAgICAgIHVpbnQyNTYgdGltZSA9IGJvYXJkUmVzZXJ2ZWRBY2NvdW50W19zZW5kZXJdOwogICAgICAgIGlmICh0aW1lID09IDApIHsKICAgICAgICAgICAgLy9pZiBub3QgdGhlbiByZXR1cm4gYW5kIGFsbG93IGZvciB0cmFuc2ZlcgogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgLy8gZWxzZSAgdGhlbiBjaGVjayBhbGxvd2VkIHRva2VuIGZvciBib2FyZCBtZW1iZXIKICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRUaW1lKCkgPiB0aW1lOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQnVybnMgYSBzcGVjaWZpYyBhbW91bnQgb2YgdG9rZW5zLgogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIGJ1cm5lZC4KICAgICAqLwogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgcHVibGljIHsKICAgICAgICByZXF1aXJlKF92YWx1ZSA+IDApOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKCgogICAgICAgIGFkZHJlc3MgYnVybmVyID0gbXNnLnNlbmRlcjsKICAgICAgICBiYWxhbmNlc1tidXJuZXJdID0gYmFsYW5jZXNbYnVybmVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICB0b2tlblRvdGFsU3VwcGx5ID0gdG9rZW5Ub3RhbFN1cHBseS5zdWIoX3ZhbHVlKTsKICAgICAgICBCdXJuKGJ1cm5lciwgX3ZhbHVlKTsKICAgIH0KICAgIAogICAgIC8vZ2V0IGN1cnJlbnQgdGltZQogICAgZnVuY3Rpb24gY3VycmVudFRpbWUoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBub3c7CiAgICB9Cgp9Cgpjb250cmFjdCBET0NUb2tlbkNvbmZpZyB7CgogICAgc3RyaW5nICBwdWJsaWMgY29uc3RhbnQgVE9LRU5fU1lNQk9MICAgICAgPSAiRE9DIjsKICAgIHN0cmluZyAgcHVibGljIGNvbnN0YW50IFRPS0VOX05BTUUgICAgICAgID0gIkRPTVVTQ09JTlMgVG9rZW4iOwogICAgdWludDggICBwdWJsaWMgY29uc3RhbnQgVE9LRU5fREVDSU1BTFMgICAgPSAxODsKCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBERUNJTUFMU0ZBQ1RPUiAgICA9IDEwKip1aW50MjU2KFRPS0VOX0RFQ0lNQUxTKTsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFRPS0VOX1RPVEFMU1VQUExZID0gMTAwMDAwMDAwMCAqIERFQ0lNQUxTRkFDVE9SOwoKICAgIGFkZHJlc3MgcHVibGljIGNvbnN0YW50IFBVQkxJQ19SRVNFUlZFRCA9IDB4Y2Q2YjNkMGMwZGQ4NTBiYWQwNzFjZDIwZTQyODk0MGQyZTI1MTIwZjsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFBVQkxJQ19SRVNFUlZFRF9QRVJTRU5UQUdFID0gOTAwMDsKCiAgICBhZGRyZXNzW10gcHVibGljIEJPQVJEX1JFU0VSVkVEID0gWyAweDkxY2RiNGM5NmQ0MzU5MTQzMmZiYTE3OGI2NzI4MDBiMzAyNjZkNjMsCiAgICAweDVhNGRkOGY2ZmMwOTg4NjlmYTMwNmM0MTQzYjI4MWYyMTQzODRkZTQsCiAgICAweDJlMDY3NTkyMjgzYTQ2M2Y5YjQyNTE2NWMzYmRlNDBiYzZjZjgzMDksCiAgICAweDQ5Y2JkYzZjNzRiNTdlZWNjZDY0ODc5OTljMjE3MGE3MjMxOTM4NTEsCiAgICAweGQ2YzcyM2E1ZmJlODFlOTc0NGFjMWE3Mjc2N2JhMDc0NGY2N2U3MTMsCiAgICAweDgxNDA5OTcwZWQ4Yjc4NzY5ZWI1OGQ2MmMwYmYwMzcxZGFkNzcyZTEsCiAgICAweDEzNTA1ZTRmZTZiZGM2ODEzYjVlNmZiNjNjNDRhYzllZDRhYzQ0YWMsCiAgICAweDg3ZGExYTdlNmQ0NjBjYWQwNTc3NDBlZjU2ZjBjMjIzZGM1NzJlYmIsCiAgICAweDA1Y2I5MWExMmI4ZGExNjVmMTljZDRmODEwMDI1NjZiMDM4M2NlZjcsCiAgICAweGFmNjhiMmRjOTM3MzAxZDg0ZDZkMzUwZDliZWVjODgwNDQ4ZGJhYzAKICAgIF07CgogICAgdWludDI1NltdIHB1YmxpYyBCT0FSRF9SRVNFUlZFRF9QRVJTRU5UQUdFID0gWzIwMCwyMDAsMjAwLDUwMCw1MDAsMTAwMCwxMDAwLDIwMDAsMjAwMCwyNDAwXTsKCn0KCmNvbnRyYWN0IERPQ1Rva2VuIGlzIEZpbmFsaXphYmxlVG9rZW4sIERPQ1Rva2VuQ29uZmlnIHsKCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICAgIGV2ZW50IFRva2Vuc1JlY2xhaW1lZCh1aW50MjU2IF9hbW91bnQpOwoKICAgIGZ1bmN0aW9uIERPQ1Rva2VuKCkgcHVibGljCiAgICBGaW5hbGl6YWJsZVRva2VuKFRPS0VOX05BTUUsIFRPS0VOX1NZTUJPTCwgVE9LRU5fREVDSU1BTFMsIFRPS0VOX1RPVEFMU1VQUExZLCBQVUJMSUNfUkVTRVJWRUQsIFBVQkxJQ19SRVNFUlZFRF9QRVJTRU5UQUdFLCBCT0FSRF9SRVNFUlZFRCwgQk9BUkRfUkVTRVJWRURfUEVSU0VOVEFHRSkKICAgIHsKCiAgICB9CgoKICAgIC8vIEFsbG93cyB0aGUgb3duZXIgdG8gcmVjbGFpbSB0b2tlbnMgdGhhdCBoYXZlIGJlZW4gc2VudCB0byB0aGUgdG9rZW4gYWRkcmVzcyBpdHNlbGYuCiAgICBmdW5jdGlvbiByZWNsYWltVG9rZW5zKCkgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CgogICAgICAgIGFkZHJlc3MgYWNjb3VudCA9IGFkZHJlc3ModGhpcyk7CiAgICAgICAgdWludDI1NiBhbW91bnQgID0gYmFsYW5jZU9mKGFjY291bnQpOwoKICAgICAgICBpZiAoYW1vdW50ID09IDApIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgYmFsYW5jZXNbYWNjb3VudF0gPSBiYWxhbmNlc1thY2NvdW50XS5zdWIoYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSBiYWxhbmNlc1tvd25lcl0uYWRkKGFtb3VudCk7CgogICAgICAgIFRyYW5zZmVyKGFjY291bnQsIG93bmVyLCBhbW91bnQpOwoKICAgICAgICBUb2tlbnNSZWNsYWltZWQoYW1vdW50KTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0='.
	

]
