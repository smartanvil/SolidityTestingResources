Class {
	#name : #SRT4341852389bd149920cae3540dd88031ade8d0e6,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4341852389bd149920cae3540dd88031ade8d0e6 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4KICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CgogICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGludGVybmFsIGFsbG93ZWQ7CgoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbX2Zyb21dKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsKCiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KICAgKgogICAqIEJld2FyZSB0aGF0IGNoYW5naW5nIGFuIGFsbG93YW5jZSB3aXRoIHRoaXMgbWV0aG9kIGJyaW5ncyB0aGUgcmlzayB0aGF0IHNvbWVvbmUgbWF5IHVzZSBib3RoIHRoZSBvbGQKICAgKiBhbmQgdGhlIG5ldyBhbGxvd2FuY2UgYnkgdW5mb3J0dW5hdGUgdHJhbnNhY3Rpb24gb3JkZXJpbmcuIE9uZSBwb3NzaWJsZSBzb2x1dGlvbiB0byBtaXRpZ2F0ZSB0aGlzCiAgICogcmFjZSBjb25kaXRpb24gaXMgdG8gZmlyc3QgcmVkdWNlIHRoZSBzcGVuZGVyJ3MgYWxsb3dhbmNlIHRvIDAgYW5kIHNldCB0aGUgZGVzaXJlZCB2YWx1ZSBhZnRlcndhcmRzOgogICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmeWluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9CgogIC8qKgogICAqIGFwcHJvdmUgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFsbG93ZWRbX3NwZW5kZXJdID09IDAuIFRvIGluY3JlbWVudAogICAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsCiAgICogdGhlIGZpcnN0IHRyYW5zYWN0aW9uIGlzIG1pbmVkKQogICAqIEZyb20gTW9ub2xpdGhEQU8gVG9rZW4uc29sCiAgICovCiAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXS5hZGQoX2FkZGVkVmFsdWUpOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICB1aW50IG9sZFZhbHVlID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl07CiAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgfQogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewogICAgcmV2ZXJ0KCk7CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBNaW50YWJsZSB0b2tlbgogKiBAZGV2IFNpbXBsZSBFUkMyMCBUb2tlbiBleGFtcGxlLCB3aXRoIG1pbnRhYmxlIHRva2VuIGNyZWF0aW9uCiAqIEBkZXYgSXNzdWU6ICogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9pc3N1ZXMvMTIwCiAqIEJhc2VkIG9uIGNvZGUgYnkgVG9rZW5NYXJrZXROZXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9Ub2tlbk1hcmtldE5ldC9pY28vYmxvYi9tYXN0ZXIvY29udHJhY3RzL01pbnRhYmxlVG9rZW4uc29sCiAqLwoKY29udHJhY3QgTWludGFibGVUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwogIGV2ZW50IE1pbnRGaW5pc2hlZCgpOwoKICBib29sIHB1YmxpYyBtaW50aW5nRmluaXNoZWQgPSBmYWxzZTsKCgogIG1vZGlmaWVyIGNhbk1pbnQoKSB7CiAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gbWludCB0b2tlbnMKICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRoYXQgd2lsbCByZWNlaXZlIHRoZSBtaW50ZWQgdG9rZW5zLgogICAqIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIG1pbnQuCiAgICogQHJldHVybiBBIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgKi8KICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciBjYW5NaW50IHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgIE1pbnQoX3RvLCBfYW1vdW50KTsKICAgIFRyYW5zZmVyKGFkZHJlc3MoMCksIF90bywgX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gc3RvcCBtaW50aW5nIG5ldyB0b2tlbnMuCiAgICogQHJldHVybiBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICovCiAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgbWludGluZ0ZpbmlzaGVkID0gdHJ1ZTsKICAgIE1pbnRGaW5pc2hlZCgpOwogICAgcmV0dXJuIHRydWU7CiAgfQp9Cgpjb250cmFjdCBNaWxrQ29pblRva2VuIGlzIE1pbnRhYmxlVG9rZW4gewkKIAogIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGJ1cm5lciwgdWludDI1NiB2YWx1ZSk7CgogIHVpbnQgcHVibGljIGNvbnN0YW50IFBFUkNFTlRfUkFURSA9IDEwMDsKCiAgdWludCBwdWJsaWMgY29uc3RhbnQgQlVZX0JBQ0tfQk9OVVMgPSAyMDsKICAgCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIk1pbGtjb2luIjsKICAgCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiTUxDTiI7CiAgICAKICB1aW50OCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAyOwoKICB1aW50IHB1YmxpYyBpbnZlc3RlZDsKCiAgdWludCBwdWJsaWMgdG9rZW5zQWZ0ZXJDcm93ZHNhbGU7CgogIHVpbnQgcHVibGljIHN0YXJ0QnV5QmFja0RhdGU7CgogIHVpbnQgcHVibGljIGVuZEJ1eUJhY2tEYXRlOwoKICB1aW50IHB1YmxpYyB0b0J1eUJhY2s7CgogIGJvb2wgcHVibGljIGRpdmlkZW5kc0NhbGN1bGF0ZWQ7CgogIHVpbnQgcHVibGljIGRpdmlkZW5kc0luZGV4OwoKICB1aW50IHB1YmxpYyBkaXZpZGVuZHNQYXllZEluZGV4OwogICAgICAKICBib29sIHB1YmxpYyBkaXZpZGVuZHNQYXllZDsKCiAgdWludCBwdWJsaWMgZXRoVG9EaXZpZGVuZHNOZWVkczsKCiAgdWludCBwdWJsaWMgYnV5QmFja0ludmVzdGVkVmFsdWU7CgogIGFkZHJlc3NbXSBwdWJsaWMgYWRkcmVzc2VzOwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIHNhdmVkQWRkcmVzc2VzOwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcHVibGljIGRpdmlkZW5kczsKCiAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBsb2NrQWRkcmVzc2VzOwoKICBmdW5jdGlvbiBhZGRBZGRyZXNzKGFkZHJlc3MgYWRkcikgaW50ZXJuYWwgewogICAgaWYoIXNhdmVkQWRkcmVzc2VzW2FkZHJdKSB7CiAgICAgICBzYXZlZEFkZHJlc3Nlc1thZGRyXSA9IHRydWU7CiAgICAgICBhZGRyZXNzZXMucHVzaChhZGRyKTsgCiAgICB9CiAgfQoKICBmdW5jdGlvbiBjb3VudE9mQWRkcmVzc2VzKCkgcHVibGljIGNvbnN0YW50IHJldHVybnModWludCkgewogICAgcmV0dXJuIGFkZHJlc3Nlcy5sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciBjYW5NaW50IHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBib29sIHJlc3VsdCA9IHN1cGVyLm1pbnQoX3RvLCBfYW1vdW50KTsKICAgIGlmKHJlc3VsdCkgewogICAgICBhZGRBZGRyZXNzKF90byk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIHBvc3RQcm9jZXNzVHJhbnNmZXIoc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpLCBtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIHBvc3RQcm9jZXNzVHJhbnNmZXIoc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSksIF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiBwb3N0UHJvY2Vzc1RyYW5zZmVyKGJvb2wgcmVzdWx0LCBhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGludGVybmFsIHJldHVybnMgKGJvb2wpIHsKICAgIGlmKHJlc3VsdCkgewogICAgICBpZihfdG8gPT0gYWRkcmVzcyh0aGlzKSkgewogICAgICAgIGJ1eUJhY2soX2Zyb20sIF92YWx1ZSk7CiAgICAgIH0gZWxzZSB7IAogICAgICAgIGFkZEFkZHJlc3MoX3RvKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIGJ1eUJhY2soYWRkcmVzcyBmcm9tLCB1aW50IGFtb3VudCkgaW50ZXJuYWwgewogICAgaWYobm93ID4gZW5kQnV5QmFja0RhdGUpIHsKICAgICAgc3RhcnRCdXlCYWNrRGF0ZSA9IGVuZEJ1eUJhY2tEYXRlOwogICAgICBlbmRCdXlCYWNrRGF0ZSA9IHN0YXJ0QnV5QmFja0RhdGUgKyAxIHllYXJzOyAgICAgIAogICAgICB0b0J1eUJhY2sgPSB0b2tlbnNBZnRlckNyb3dkc2FsZS5kaXYoMTApOwogICAgfQogICAgcmVxdWlyZShub3cgPiBzdGFydEJ1eUJhY2tEYXRlICYmIG5vdyA8IGVuZEJ1eUJhY2tEYXRlICYmIGFtb3VudCA8PSB0b0J1eUJhY2spOyAKICAgIGJhbGFuY2VzW3RoaXNdID0gYmFsYW5jZXNbdGhpc10uc3ViKGFtb3VudCk7CiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YihhbW91bnQpOwogICAgQnVybih0aGlzLCBhbW91bnQpOwogICAgdG9CdXlCYWNrID0gdG9CdXlCYWNrLnN1YihhbW91bnQpOwogICAgdWludCB2YWx1ZUluV2VpID0gYW1vdW50Lm11bChidXlCYWNrSW52ZXN0ZWRWYWx1ZSkubXVsKFBFUkNFTlRfUkFURS5hZGQoQlVZX0JBQ0tfQk9OVVMpKS5kaXYoUEVSQ0VOVF9SQVRFKS5kaXYodG90YWxTdXBwbHkpOwogICAgYnV5QmFja0ludmVzdGVkVmFsdWUgPSBidXlCYWNrSW52ZXN0ZWRWYWx1ZS5zdWIoYW1vdW50Lm11bChidXlCYWNrSW52ZXN0ZWRWYWx1ZSkuZGl2KHRvdGFsU3VwcGx5KSk7CiAgICBmcm9tLnRyYW5zZmVyKHZhbHVlSW5XZWkpOwogIH0KCiAgZnVuY3Rpb24gcmV0cmlldmVUb2tlbnMoYWRkcmVzcyBhbm90aGVyVG9rZW4pIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShhbm90aGVyVG9rZW4gIT0gYWRkcmVzcyh0aGlzKSk7CiAgICBFUkMyMCBhbGllblRva2VuID0gRVJDMjAoYW5vdGhlclRva2VuKTsKICAgIGFsaWVuVG9rZW4udHJhbnNmZXIob3duZXIsIGFsaWVuVG9rZW4uYmFsYW5jZU9mKHRoaXMpKTsKICB9CgogIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcodWludCBuZXdJbnZlc3RlZCkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBpbnZlc3RlZCA9IG5ld0ludmVzdGVkOwogICAgYnV5QmFja0ludmVzdGVkVmFsdWUgPSBuZXdJbnZlc3RlZDsKICAgIHRva2Vuc0FmdGVyQ3Jvd2RzYWxlID0gdG90YWxTdXBwbHk7ICAgIAogICAgc3RhcnRCdXlCYWNrRGF0ZSA9IDE2MDk0NTkyMDA7CiAgICBlbmRCdXlCYWNrRGF0ZSA9IHN0YXJ0QnV5QmFja0RhdGUgKyAzNjUgKiAxIGRheXM7ICAgICAgCiAgICB0b0J1eUJhY2sgPSB0b2tlbnNBZnRlckNyb3dkc2FsZS5kaXYoMTApOwogICAgcmV0dXJuIHN1cGVyLmZpbmlzaE1pbnRpbmcoKTsKICB9CgogIGZ1bmN0aW9uIGxvY2tBZGRyZXNzKGFkZHJlc3MgdG9Mb2NrKSBwdWJsaWMgb25seU93bmVyIHsKICAgIGxvY2tBZGRyZXNzZXNbdG9Mb2NrXSA9IHRydWU7CiAgfQoKICBmdW5jdGlvbiB1bmxvY2tBZGRyZXNzKGFkZHJlc3MgdG9Mb2NrKSBwdWJsaWMgb25seU93bmVyIHsKICAgIGxvY2tBZGRyZXNzZXNbdG9Mb2NrXSA9IGZhbHNlOwogIH0KCiAgLy8gc2hvdWxkIHVzZSB3aGVuIHBheURpdmlkZW5kcyBpcyB1bmRlciByZS1lbnRyYW5jZSBmcmVlemUKICBmdW5jdGlvbiBwYXlEaXZpZGVuZHNNYW51YWxseSgpIHB1YmxpYyB7CiAgICByZXF1aXJlKGRpdmlkZW5kc1ttc2cuc2VuZGVyXSA+IDApOwogICAgdWludCBkaXZpZGVuZHNWYWx1ZSA9IGRpdmlkZW5kc1ttc2cuc2VuZGVyXTsKICAgIGRpdmlkZW5kc1ttc2cuc2VuZGVyXSA9IDA7CiAgICBldGhUb0RpdmlkZW5kc05lZWRzID0gZXRoVG9EaXZpZGVuZHNOZWVkcy5zdWIoZGl2aWRlbmRzVmFsdWUpOwogICAgbXNnLnNlbmRlci50cmFuc2ZlcihkaXZpZGVuZHNWYWx1ZSk7CiAgfQoKICAvLyBzaG91bGQgdXNlIHdoZW4gcGF5RGl2aWRlbmRzIGlzIHVuZGVyIHJlLWVudHJhbmNlIGZyZWV6ZQogIGZ1bmN0aW9uIHJlc2V0RGl2aWRlbmRzQ2FsY3VsYXRpb24oKSBwdWJsaWMgb25seU93bmVyIHsKICAgIGRpdmlkZW5kc0NhbGN1bGF0ZWQgPSBmYWxzZTsKICAgIGRpdmlkZW5kc1BheWVkID0gZmFsc2U7CiAgfQoKICAvLyByZS1lbnRyYW5jZSBhdHRhY2sgY2FuIGZyZWV6ZSBhbGwgZGl2aWRlbmRzIGNhbGN1bGF0aW9uCiAgZnVuY3Rpb24gcGF5RGl2aWRlbmRzKHVpbnQgY291bnQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZSghZGl2aWRlbmRzUGF5ZWQgJiYgZGl2aWRlbmRzQ2FsY3VsYXRlZCk7CiAgICBmb3IodWludCBpID0gMDsgZGl2aWRlbmRzUGF5ZWRJbmRleCA8IGFkZHJlc3Nlcy5sZW5ndGggJiYgaSA8IGNvdW50OyBpKyspIHsKICAgICAgYWRkcmVzcyB0b2tlbkhvbGRlciA9IGFkZHJlc3Nlc1tkaXZpZGVuZHNQYXllZEluZGV4XTsKICAgICAgaWYoIWxvY2tBZGRyZXNzZXNbdG9rZW5Ib2xkZXJdICYmIGRpdmlkZW5kc1t0b2tlbkhvbGRlcl0gIT0gMCkgewogICAgICAgIHVpbnQgdmFsdWUgPSBkaXZpZGVuZHNbdG9rZW5Ib2xkZXJdOwogICAgICAgIGRpdmlkZW5kc1t0b2tlbkhvbGRlcl0gPSAwOwogICAgICAgIGV0aFRvRGl2aWRlbmRzTmVlZHMgPSBldGhUb0RpdmlkZW5kc05lZWRzLnN1Yih2YWx1ZSk7CiAgICAgICAgdG9rZW5Ib2xkZXIudHJhbnNmZXIodmFsdWUpOwogICAgICB9CiAgICAgIGRpdmlkZW5kc1BheWVkSW5kZXgrKzsKICAgIH0KICAgIGlmKGRpdmlkZW5kc1BheWVkSW5kZXggPT0gYWRkcmVzc2VzLmxlbmd0aCkgeyAgCiAgICAgIGRpdmlkZW5kc1BheWVkSW5kZXggPSAwOwogICAgICBkaXZpZGVuZHNQYXllZCA9IHRydWU7CiAgICAgIGRpdmlkZW5kc0NhbGN1bGF0ZWQgPSBmYWxzZTsKICAgIH0KICB9CiAgCgogIC8vIHJlLWVudHJhbmNlIGF0dGFjayBjYW4gZnJlZXplIGFsbCBkaXZpZGVuZHMgY2FsY3VsYXRpb24KICBmdW5jdGlvbiBjYWxjdWxhdGVEaXZpZGVuZHModWludCBwZXJjZW50LCB1aW50IGNvdW50KSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoIWRpdmlkZW5kc0NhbGN1bGF0ZWQpOwogICAgZm9yKHVpbnQgaSA9IDA7IGRpdmlkZW5kc0luZGV4IDwgYWRkcmVzc2VzLmxlbmd0aCAmJiBpIDwgY291bnQ7IGkrKykgewogICAgICBhZGRyZXNzIHRva2VuSG9sZGVyID0gYWRkcmVzc2VzW2RpdmlkZW5kc0luZGV4XTsKICAgICAgaWYoYmFsYW5jZXNbdG9rZW5Ib2xkZXJdICE9IDApIHsKICAgICAgICB1aW50IHZhbHVlSW5XZWkgPSBiYWxhbmNlc1t0b2tlbkhvbGRlcl0ubXVsKGludmVzdGVkKS5tdWwocGVyY2VudCkuZGl2KFBFUkNFTlRfUkFURSkuZGl2KHRvdGFsU3VwcGx5KTsKICAgICAgICBldGhUb0RpdmlkZW5kc05lZWRzID0gZXRoVG9EaXZpZGVuZHNOZWVkcy5hZGQodmFsdWVJbldlaSk7CiAgICAgICAgZGl2aWRlbmRzW3Rva2VuSG9sZGVyXSA9IGRpdmlkZW5kc1t0b2tlbkhvbGRlcl0uYWRkKHZhbHVlSW5XZWkpOwogICAgICB9CiAgICAgIGRpdmlkZW5kc0luZGV4Kys7CiAgICB9CiAgICBpZihkaXZpZGVuZHNJbmRleCA9PSBhZGRyZXNzZXMubGVuZ3RoKSB7ICAKICAgICAgZGl2aWRlbmRzSW5kZXggPSAwOwogICAgICBkaXZpZGVuZHNDYWxjdWxhdGVkID0gdHJ1ZTsKICAgICAgZGl2aWRlbmRzUGF5ZWQgPSBmYWxzZTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHdpdGhkcmF3KCkgcHVibGljIG9ubHlPd25lciB7CiAgICBvd25lci50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogIH0KCiAgZnVuY3Rpb24gZGVwb3NpdCgpIHB1YmxpYyBwYXlhYmxlIHsKICB9CgogIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKICAgIGRlcG9zaXQoKTsKICB9Cgp9Cgpjb250cmFjdCBDb21tb25Dcm93ZHNhbGUgaXMgT3duYWJsZSB7CgogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogCiAgdWludCBwdWJsaWMgY29uc3RhbnQgRElWSURFUiA9IDEwMDAwMDAwMDAwMDAwMDAwOwoKICB1aW50IHB1YmxpYyBjb25zdGFudCBQRVJDRU5UX1JBVEUgPSAxMDA7CgogIHVpbnQgcHVibGljIHByaWNlID0gMTUwMDsKCiAgdWludCBwdWJsaWMgbWluSW52ZXN0ZWRMaW1pdCA9IDEwMDAwMDAwMDAwMDAwMDAwMDsKCiAgdWludCBwdWJsaWMgaGFyZGNhcCA9IDI1MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDsKCiAgdWludCBwdWJsaWMgc3RhcnQgPSAxNTEwNzU4MDAwOwoKICB1aW50IHB1YmxpYyBpbnZlc3RlZDsKCiAgYWRkcmVzcyBwdWJsaWMgd2FsbGV0OwoKICBzdHJ1Y3QgTWlsZXN0b25lIHsKICAgIHVpbnQgcGVyaW9kSW5EYXlzOwogICAgdWludCBib251czsKICB9CgogIE1pbGVzdG9uZVtdIHB1YmxpYyBtaWxlc3RvbmVzOwoKICBNaWxrQ29pblRva2VuIHB1YmxpYyB0b2tlbiA9IG5ldyBNaWxrQ29pblRva2VuKCk7CgogIGZ1bmN0aW9uIHNldEhhcmRjYXAodWludCBuZXdIYXJkY2FwKSBwdWJsaWMgb25seU93bmVyIHsgCiAgICBoYXJkY2FwID0gbmV3SGFyZGNhcDsKICB9CiAKICBmdW5jdGlvbiBzZXRTdGFydCh1aW50IG5ld1N0YXJ0KSBwdWJsaWMgb25seU93bmVyIHsgCiAgICBzdGFydCA9IG5ld1N0YXJ0OwogIH0KCiAgZnVuY3Rpb24gc2V0V2FsbGV0KGFkZHJlc3MgbmV3V2FsbGV0KSBwdWJsaWMgb25seU93bmVyIHsgCiAgICB3YWxsZXQgPSBuZXdXYWxsZXQ7CiAgfQoKICBmdW5jdGlvbiBzZXRQcmljZSh1aW50IG5ld1ByaWNlKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHByaWNlID0gbmV3UHJpY2U7CiAgfQoKICBmdW5jdGlvbiBzZXRNaW5JbnZlc3RlZExpbWl0KHVpbnQgbmV3TWluSW52ZXN0ZWRMaW1pdCkgcHVibGljIG9ubHlPd25lciB7CiAgICBtaW5JbnZlc3RlZExpbWl0ID0gbmV3TWluSW52ZXN0ZWRMaW1pdDsKICB9CiAKICBmdW5jdGlvbiBtaWxlc3RvbmVzQ291bnQoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICByZXR1cm4gbWlsZXN0b25lcy5sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiBhZGRNaWxlc3RvbmUodWludCBsaW1pdCwgdWludCBib251cykgcHVibGljIG9ubHlPd25lciB7CiAgICBtaWxlc3RvbmVzLnB1c2goTWlsZXN0b25lKGxpbWl0LCBib251cykpOwogIH0KCiAgZnVuY3Rpb24gZW5kKCkgcHVibGljIGNvbnN0YW50IHJldHVybnModWludCkgewogICAgdWludCBsYXN0ID0gc3RhcnQ7CiAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBtaWxlc3RvbmVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIE1pbGVzdG9uZSBzdG9yYWdlIG1pbGVzdG9uZSA9IG1pbGVzdG9uZXNbaV07CiAgICAgIGxhc3QgKz0gbWlsZXN0b25lLnBlcmlvZEluRGF5cyAqIDEgZGF5czsKICAgIH0KICAgIHJldHVybiBsYXN0OwogIH0KCiAgZnVuY3Rpb24gZ2V0TWlsZXN0b25lQm9udXMoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICB1aW50IHByZXZUaW1lTGltaXQgPSBzdGFydDsKICAgIGZvciAodWludCBpID0gMDsgaSA8IG1pbGVzdG9uZXMubGVuZ3RoOyBpKyspIHsKICAgICAgTWlsZXN0b25lIHN0b3JhZ2UgbWlsZXN0b25lID0gbWlsZXN0b25lc1tpXTsKICAgICAgcHJldlRpbWVMaW1pdCArPSBtaWxlc3RvbmUucGVyaW9kSW5EYXlzICogMSBkYXlzOwogICAgICBpZiAobm93IDwgcHJldlRpbWVMaW1pdCkKICAgICAgICByZXR1cm4gbWlsZXN0b25lLmJvbnVzOwogICAgfQogICAgcmV2ZXJ0KCk7CiAgfQoKICBmdW5jdGlvbiBjcmVhdGVUb2tlbnNNYW51YWxseShhZGRyZXNzIHRvLCB1aW50IGFtb3VudCkgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5vdyA+PSBzdGFydCAmJiBub3cgPCBlbmQoKSk7CiAgICB0b2tlbi5taW50KHRvLCBhbW91bnQpOwogIH0KCiAgZnVuY3Rpb24gY3JlYXRlVG9rZW5zKCkgcHVibGljIHBheWFibGUgewogICAgcmVxdWlyZShub3cgPj0gc3RhcnQgJiYgbm93IDwgZW5kKCkgJiYgaW52ZXN0ZWQgPCBoYXJkY2FwKTsKICAgIHdhbGxldC50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgaW52ZXN0ZWQgPSBpbnZlc3RlZC5hZGQobXNnLnZhbHVlKTsKICAgIHVpbnQgdG9rZW5zID0gcHJpY2UubXVsKG1zZy52YWx1ZSkuZGl2KERJVklERVIpOwogICAgdWludCBib251c1BlcmNlbnQgPSBnZXRNaWxlc3RvbmVCb251cygpOyAgICAKICAgIGlmKGJvbnVzUGVyY2VudCA+IDApIHsKICAgICAgdG9rZW5zID0gdG9rZW5zLmFkZCh0b2tlbnMubXVsKGJvbnVzUGVyY2VudCkuZGl2KFBFUkNFTlRfUkFURSkpOwogICAgfQogICAgdG9rZW4ubWludChtc2cuc2VuZGVyLCB0b2tlbnMpOwogIH0KCiAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIHB1YmxpYyBvbmx5T3duZXIgewogICAgdG9rZW4uZmluaXNoTWludGluZyhpbnZlc3RlZCk7CiAgICB0b2tlbi50cmFuc2Zlck93bmVyc2hpcChvd25lcik7CiAgfQoKICBmdW5jdGlvbigpIGV4dGVybmFsIHBheWFibGUgewogICAgY3JlYXRlVG9rZW5zKCk7CiAgfQoKICBmdW5jdGlvbiByZXRyaWV2ZVRva2VucyhhZGRyZXNzIGFub3RoZXJUb2tlbikgcHVibGljIG9ubHlPd25lciB7CiAgICBFUkMyMCBhbGllblRva2VuID0gRVJDMjAoYW5vdGhlclRva2VuKTsKICAgIGFsaWVuVG9rZW4udHJhbnNmZXIod2FsbGV0LCBhbGllblRva2VuLmJhbGFuY2VPZih0aGlzKSk7CiAgfQoKfQoKY29udHJhY3QgTWlsa0NvaW5Ub2tlbkNyb3dkc2FsZSBpcyBDb21tb25Dcm93ZHNhbGUgewoKICBmdW5jdGlvbiBNaWxrQ29pblRva2VuQ3Jvd2RzYWxlKCkgcHVibGljIHsKICAgIHNldEhhcmRjYXAoMjUwMDAwMDAwMDAwMDAwMDAwMDAwMDAwKTsKICAgIHNldFN0YXJ0KDE1MTA3NTgwMDApOwogICAgc2V0UHJpY2UoMTUwMCk7CiAgICBzZXRXYWxsZXQoMHg4NzEyN0NiMmE3M2VBOWJhODQyYjIwODQ1NWZhMDc2Y2FiMDNFODQ0KTsKICAgIGFkZE1pbGVzdG9uZSgzLCAxMDApOwogICAgYWRkTWlsZXN0b25lKDUsIDY3KTsKICAgIGFkZE1pbGVzdG9uZSg1LCA0Myk7CiAgICBhZGRNaWxlc3RvbmUoNSwgMjUpOwogICAgYWRkTWlsZXN0b25lKDEyLCAwKTsKICAgIHRyYW5zZmVyT3duZXJzaGlwKDB4Yjc5NEI2YzYxMWJGQzA5QUJEMjA2MTg0NDE3MDgyZDNDQTU3MEZCNyk7CiAgfQoKfQ=='.
	

]
