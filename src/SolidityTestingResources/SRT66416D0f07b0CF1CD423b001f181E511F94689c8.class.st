Class {
	#name : #SRT66416D0f07b0CF1CD423b001f181E511F94689c8,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT66416D0f07b0CF1CD423b001f181E511F94689c8 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuODsKCi8vIGZvbGlvLm5pbmphIEVSQzIwIFRva2VuICYgQ3Jvd2RzYWxlIENvbnRyYWN0Ci8vIENvbnRhY3Q6IDxzcGFuIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iMWU3NzcwNzg3MTVlNzg3MTcyNzc3MTMwNzA3NzcwNzQ3ZiI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvc3Bhbj4KLy8gQ2FwIG9mIDEyLDYzMiwwMDAgVG9rZW5zCi8vIDYzMiwwMDAgVG9rZW5zIHRvIEZvdW5kYXRpb24KLy8gMjUsMDAwIEVUSCBDYXAgdGhhdCBnb2VzIHRvIERldmVsb3BlcnMKLy8gQWxsb3dzIHN1YnNlcXVlbnQgY29udHJpYnV0aW9uIC8gbWludGluZyBpZiBjYXAgbm90IHJlYWNoZWQuCgpjb250cmFjdCBBc3NlcnRpdmUgewogIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgewogICAgICBpZiAoIWFzc2VydGlvbikgdGhyb3c7CiAgfQp9Cgpjb250cmFjdCBTYWZlTWF0aCBpcyBBc3NlcnRpdmV7CiAgICBmdW5jdGlvbiBzYWZlTXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVBZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICB1aW50IGMgPSBhICsgYjsKICAgICAgICBhc3NlcnQoYz49YSAmJiBjPj1iKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KfQoKY29udHJhY3QgRVJDMjBQcm90b2NvbCB7CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG90YWxTdXBwbHkpIHt9CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkge30KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykge30KCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwp9Cgpjb250cmFjdCBFUkMyMCBpcyBFUkMyMFByb3RvY29sIHsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7IAogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgeyAKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKfQoKLy8gRm9saW8gTmluamEgVG9rZW4gQ29udHJhY3QKY29udHJhY3QgRm9saW9OaW5qYVRva2VuIGlzIEVSQzIwLCBTYWZlTWF0aCB7CiAgICAvLyBDb25zYW50IHRva2VuIHNwZWNpZmljIGZpZWxkcwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gImZvbGlvLm5pbmphIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkZMTiI7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgTUFYX1RPVEFMX1RPS0VOX0FNT1VOVCA9IDEyNjMyMDAwICogMTAgKiogZGVjaW1hbHM7CgogICAgLy8gRmllbGRzIHRoYXQgYXJlIG9ubHkgY2hhbmdlZCBpbiBjb25zdHJ1Y3RvcgogICAgYWRkcmVzcyBwdWJsaWMgbWludGVyOyAvLyBDb250cmlidXRpb24gY29udHJhY3QKICAgIGFkZHJlc3MgcHVibGljIEZPVU5EQVRJT05fV0FMTEVUOyAvLyBDYW4gY2hhbmdlIHRvIG90aGVyIG1pbnRpbmcgY29udHJpYnV0aW9uIGNvbnRyYWN0cyBidXQgb25seSB1bnRpbCB0b3RhbCBhbW91bnQgb2YgdG9rZW4gbWludGVkCiAgICB1aW50IHB1YmxpYyBzdGFydFRpbWU7IC8vIENvbnRyaWJ1dGlvbiBzdGFydCB0aW1lIGluIHNlY29uZHMKICAgIHVpbnQgcHVibGljIGVuZFRpbWU7IC8vIENvbnRyaWJ1dGlvbiBlbmQgdGltZSBpbiBzZWNvbmRzCgogICAgLy8gTU9ESUZJRVJTCiAgICBtb2RpZmllciBvbmx5X21pbnRlciB7CiAgICAgICAgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gbWludGVyKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlfZm91bmRhdGlvbiB7CiAgICAgICAgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gRk9VTkRBVElPTl9XQUxMRVQpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgaXNfbGF0ZXJfdGhhbih1aW50IHgpIHsKICAgICAgICBhc3NlcnQobm93ID4geCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBtYXhfdG90YWxfdG9rZW5fYW1vdW50X25vdF9yZWFjaGVkKHVpbnQgYW1vdW50KSB7CiAgICAgICAgYXNzZXJ0KHNhZmVBZGQodG90YWxTdXBwbHksIGFtb3VudCkgPD0gTUFYX1RPVEFMX1RPS0VOX0FNT1VOVCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLyBNRVRIT0RTCiAgICBmdW5jdGlvbiBGb2xpb05pbmphVG9rZW4oYWRkcmVzcyBzZXRNaW50ZXIsIGFkZHJlc3Mgc2V0Rm91bmRhdGlvbiwgdWludCBzZXRTdGFydFRpbWUsIHVpbnQgc2V0RW5kVGltZSkgewogICAgICAgIG1pbnRlciA9IHNldE1pbnRlcjsKICAgICAgICBGT1VOREFUSU9OX1dBTExFVCA9IHNldEZvdW5kYXRpb247CiAgICAgICAgc3RhcnRUaW1lID0gc2V0U3RhcnRUaW1lOwogICAgICAgIGVuZFRpbWUgPSBzZXRFbmRUaW1lOwogICAgfQoKICAgIC8vLyBQcmU6IEFkZHJlc3Mgb2YgY29udHJpYnV0aW9uIGNvbnRyYWN0IChtaW50ZXIpIGlzIHNldAogICAgLy8vIFBvc3Q6IE1pbnRzIHRva2VuCiAgICBmdW5jdGlvbiBtaW50VG9rZW4oYWRkcmVzcyByZWNpcGllbnQsIHVpbnQgYW1vdW50KQogICAgICAgIGV4dGVybmFsCiAgICAgICAgb25seV9taW50ZXIKICAgICAgICBtYXhfdG90YWxfdG9rZW5fYW1vdW50X25vdF9yZWFjaGVkKGFtb3VudCkKICAgIHsKICAgICAgICBiYWxhbmNlc1tyZWNpcGllbnRdID0gc2FmZUFkZChiYWxhbmNlc1tyZWNpcGllbnRdLCBhbW91bnQpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gc2FmZUFkZCh0b3RhbFN1cHBseSwgYW1vdW50KTsKICAgIH0KCiAgICAvLy8gUHJlOiBQcmV2ZW50IHRyYW5zZmVycyB1bnRpbCBjb250cmlidXRpb24gcGVyaW9kIGlzIG92ZXIuCiAgICAvLy8gUG9zdDogVHJhbnNmZXIgRkxOIGZyb20gbXNnLnNlbmRlcgogICAgLy8vIE5vdGU6IEVSQzIwIGludGVyZmFjZQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyByZWNpcGllbnQsIHVpbnQgYW1vdW50KQogICAgICAgIGlzX2xhdGVyX3RoYW4oZW5kVGltZSkKICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpCiAgICB7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKHJlY2lwaWVudCwgYW1vdW50KTsKICAgIH0KCiAgICAvLy8gUHJlOiBQcmV2ZW50IHRyYW5zZmVycyB1bnRpbCBjb250cmlidXRpb24gcGVyaW9kIGlzIG92ZXIuCiAgICAvLy8gUG9zdDogVHJhbnNmZXIgRkxOIGZyb20gYXJiaXRyYXJ5IGFkZHJlc3MKICAgIC8vLyBOb3RlOiBFUkMyMCBpbnRlcmZhY2UKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIHNlbmRlciwgYWRkcmVzcyByZWNpcGllbnQsIHVpbnQgYW1vdW50KQogICAgICAgIGlzX2xhdGVyX3RoYW4oZW5kVGltZSkKICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpCiAgICB7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShzZW5kZXIsIHJlY2lwaWVudCwgYW1vdW50KTsKICAgIH0KCiAgICAvLy8gUHJlOiBtaW50aW5nIGFkZHJlc3MgaXMgc2V0LiBSZXN0cmljdGVkIHRvIGZvdW5kYXRpb24uCiAgICAvLy8gUG9zdDogTmV3IG1pbnRlciBjYW4gbm93IGNyZWF0ZSB0b2tlbnMgdXAgdG8gTUFYX1RPVEFMX1RPS0VOX0FNT1VOVC4KICAgIC8vLyBOb3RlOiBUaGlzIGFsbG93cyBhZGRpdGlvbmFsIGNvbnRyaWJ1dGlvbiBwZXJpb2RzIGF0IGEgbGF0ZXIgc3RhZ2UsIHdoaWxlIHN0aWxsIHVzaW5nIHRoZSBzYW1lIEVSQzIwIGNvbXBsaWFudCBjb250cmFjdC4KICAgIGZ1bmN0aW9uIGNoYW5nZU1pbnRpbmdBZGRyZXNzKGFkZHJlc3MgbmV3TWludGluZ0FkZHJlc3MpIG9ubHlfZm91bmRhdGlvbiB7IG1pbnRlciA9IG5ld01pbnRpbmdBZGRyZXNzOyB9CgogICAgLy8vIFByZTogZm91bmRhdGlvbiBhZGRyZXNzIGlzIHNldC4gUmVzdHJpY3RlZCB0byBmb3VuZGF0aW9uLgogICAgLy8vIFBvc3Q6IE5ldyBhZGRyZXNzIHNldC4gVGhpcyBhZGRyZXNzIGNvbnRyb2xzIHRoZSBzZXR0aW5nIG9mIHRoZSBtaW50ZXIgYWRkcmVzcwogICAgZnVuY3Rpb24gY2hhbmdlRm91bmRhdGlvbkFkZHJlc3MoYWRkcmVzcyBuZXdGb3VuZGF0aW9uQWRkcmVzcykgb25seV9mb3VuZGF0aW9uIHsgRk9VTkRBVElPTl9XQUxMRVQgPSBuZXdGb3VuZGF0aW9uQWRkcmVzczsgfQp9CgovLy8gQHRpdGxlIENvbnRyaWJ1dGlvbiBDb250cmFjdApjb250cmFjdCBDb250cmlidXRpb24gaXMgU2FmZU1hdGggewogICAgLy8gRklFTERTCgogICAgLy8gQ29uc3RhbnQgZmllbGRzCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBFVEhFUl9DQVAgPSAyNTAwMCBldGhlcjsgLy8gTWF4IGFtb3VudCByYWlzZWQgZHVyaW5nIGZpcnN0IGNvbnRyaWJ1dGlvbjsgdGFyZ2V0ZWQgYW1vdW50IEFVRCA3TQogICAgdWludCBwdWJsaWMgY29uc3RhbnQgTUFYX0NPTlRSSUJVVElPTl9EVVJBVElPTiA9IDggd2Vla3M7IC8vIE1heCBhbW91bnQgaW4gc2Vjb25kcyBvZiBjb250cmlidXRpb24gcGVyaW9kCgogICAgLy8gUHJpY2UgUmF0ZXMKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFBSSUNFX1JBVEVfRklSU1QgPSA0ODA7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBQUklDRV9SQVRFX1NFQ09ORCA9IDQ2MDsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFBSSUNFX1JBVEVfVEhJUkQgPSA0NDA7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBQUklDRV9SQVRFX0ZPVVJUSCA9IDQwMDsKCiAgICAvLyBGb3VuZGF0aW9uIEhvbGRpbmdzCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBGT1VOREFUSU9OX1RPS0VOUyA9IDYzMjAwMCBldGhlcjsKCiAgICAvLyBGaWVsZHMgdGhhdCBhcmUgb25seSBjaGFuZ2VkIGluIGNvbnN0cnVjdG9yCiAgICBhZGRyZXNzIHB1YmxpYyBGT1VOREFUSU9OX1dBTExFVDsgLy8gZm9saW8ubmluamEgZm91bmRhdGlvbiB3YWxsZXQKICAgIGFkZHJlc3MgcHVibGljIERFVl9XQUxMRVQ7IC8vIGZvbGlvLm5pbmphIG11bHRpc2lnIHdhbGxldAoKICAgIHVpbnQgcHVibGljIHN0YXJ0VGltZTsgLy8gQ29udHJpYnV0aW9uIHN0YXJ0IHRpbWUgaW4gc2Vjb25kcwogICAgdWludCBwdWJsaWMgZW5kVGltZTsgLy8gQ29udHJpYnV0aW9uIGVuZCB0aW1lIGluIHNlY29uZHMKCiAgICBGb2xpb05pbmphVG9rZW4gcHVibGljIGZvbGlvVG9rZW47IC8vIENvbnRyYWN0IG9mIHRoZSBFUkMyMCBjb21wbGlhbnQgZm9saW8ubmluamEgdG9rZW4KCiAgICAvLyBGaWVsZHMgdGhhdCBjYW4gYmUgY2hhbmdlZCBieSBmdW5jdGlvbnMKICAgIHVpbnQgcHVibGljIGV0aGVyUmFpc2VkOyAvLyBUaGlzIHdpbGwga2VlcCB0cmFjayBvZiB0aGUgRXRoZXIgcmFpc2VkIGR1cmluZyB0aGUgY29udHJpYnV0aW9uCiAgICBib29sIHB1YmxpYyBoYWx0ZWQ7IC8vIFRoZSBmb3VuZGF0aW9uIGFkZHJlc3MgY2FuIHNldCB0aGlzIHRvIHRydWUgdG8gaGFsdCB0aGUgY29udHJpYnV0aW9uIGR1ZSB0byBhbiBlbWVyZ2VuY3kKCiAgICAvLyBFVkVOVFMKICAgIGV2ZW50IFRva2Vuc0JvdWdodChhZGRyZXNzIGluZGV4ZWQgc2VuZGVyLCB1aW50IGV0aCwgdWludCBhbW91bnQpOwoKICAgIC8vIE1PRElGSUVSUwogICAgbW9kaWZpZXIgb25seV9mb3VuZGF0aW9uIHsKICAgICAgICBhc3NlcnQobXNnLnNlbmRlciA9PSBGT1VOREFUSU9OX1dBTExFVCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBpc19ub3RfaGFsdGVkIHsKICAgICAgICBhc3NlcnQoIWhhbHRlZCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBldGhlcl9jYXBfbm90X3JlYWNoZWQgewogICAgICAgIGFzc2VydChzYWZlQWRkKGV0aGVyUmFpc2VkLCBtc2cudmFsdWUpIDw9IEVUSEVSX0NBUCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBpc19ub3RfZWFybGllcl90aGFuKHVpbnQgeCkgewogICAgICAgIGFzc2VydChub3cgPj0geCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBpc19lYXJsaWVyX3RoYW4odWludCB4KSB7CiAgICAgICAgYXNzZXJ0KG5vdyA8IHgpOwogICAgICAgIF87CiAgICB9CgogICAgLy8gQ09OU1RBTlQgTUVUSE9EUwoKICAgIC8vLyBQcmU6IHN0YXJ0VGltZSwgZW5kVGltZSBzcGVjaWZpZWQgaW4gY29uc3RydWN0b3IsCiAgICAvLy8gUG9zdDogUHJpY2UgcmF0ZSBhdCBnaXZlbiBibG9ja1RpbWU7IE9uZSBldGhlciBlcXVhbHMgcHJpY2VSYXRlKCkgb2YgRkxOIHRva2VucwogICAgZnVuY3Rpb24gcHJpY2VSYXRlKCkgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIC8vIEZvdXIgcHJpY2UgdGllcnMKICAgICAgICBpZiAoc3RhcnRUaW1lIDw9IG5vdyAmJiBub3cgPCBzdGFydFRpbWUgKyAxIHdlZWtzKQogICAgICAgICAgICByZXR1cm4gUFJJQ0VfUkFURV9GSVJTVDsKICAgICAgICBpZiAoc3RhcnRUaW1lICsgMSB3ZWVrcyA8PSBub3cgJiYgbm93IDwgc3RhcnRUaW1lICsgMiB3ZWVrcykKICAgICAgICAgICAgcmV0dXJuIFBSSUNFX1JBVEVfU0VDT05EOwogICAgICAgIGlmIChzdGFydFRpbWUgKyAyIHdlZWtzIDw9IG5vdyAmJiBub3cgPCBzdGFydFRpbWUgKyAzIHdlZWtzKQogICAgICAgICAgICByZXR1cm4gUFJJQ0VfUkFURV9USElSRDsKICAgICAgICBpZiAoc3RhcnRUaW1lICsgMyB3ZWVrcyA8PSBub3cgJiYgbm93IDwgZW5kVGltZSkKICAgICAgICAgICAgcmV0dXJuIFBSSUNFX1JBVEVfRk9VUlRIOwogICAgICAgIC8vIFNob3VsZCBub3QgYmUgY2FsbGVkIGJlZm9yZSBvciBhZnRlciBjb250cmlidXRpb24gcGVyaW9kCiAgICAgICAgYXNzZXJ0KGZhbHNlKTsKICAgIH0KCiAgICAvLyBOT04tQ09OU1RBTlQgTUVUSE9EUwogICAgZnVuY3Rpb24gQ29udHJpYnV0aW9uKGFkZHJlc3Mgc2V0RGV2V2FsbGV0LCBhZGRyZXNzIHNldEZvdW5kYXRpb25XYWxsZXQsIHVpbnQgc2V0U3RhcnRUaW1lKSB7CiAgICAgICAgREVWX1dBTExFVCA9IHNldERldldhbGxldDsKICAgICAgICBGT1VOREFUSU9OX1dBTExFVCA9IHNldEZvdW5kYXRpb25XYWxsZXQ7CiAgICAgICAgc3RhcnRUaW1lID0gc2V0U3RhcnRUaW1lOwogICAgICAgIGVuZFRpbWUgPSBzdGFydFRpbWUgKyBNQVhfQ09OVFJJQlVUSU9OX0RVUkFUSU9OOwogICAgICAgIGZvbGlvVG9rZW4gPSBuZXcgRm9saW9OaW5qYVRva2VuKHRoaXMsIEZPVU5EQVRJT05fV0FMTEVULCBzdGFydFRpbWUsIGVuZFRpbWUpOyAvLyBDcmVhdGUgRm9saW8gTmluamEgVG9rZW4gQ29udHJhY3QKCiAgICAgICAgLy8gTWludCBmb2xpby5uaW5qYSBmb3VuZGF0aW9uIHRva2VucwogICAgICAgIGZvbGlvVG9rZW4ubWludFRva2VuKEZPVU5EQVRJT05fV0FMTEVULCBGT1VOREFUSU9OX1RPS0VOUyk7CiAgICB9CgogICAgLy8vIFByZTogTi9hCiAgICAvLy8gUG9zdDogQm91Z2h0IGZvbGlvLm5pbmphIHRva2VucyBhY2NvcmRpbmcgdG8gcHJpY2VSYXRlKCkgYW5kIG1zZy52YWx1ZQogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7IGJ1eVJlY2lwaWVudChtc2cuc2VuZGVyKTsgfQoKICAgIC8vLyBQcmU6IE4vYQogICAgLy8vIFBvc3Q6IEJvdWdodCBmb2xpbyBuaW5qYSB0b2tlbnMgYWNjb3JkaW5nIHRvIHByaWNlUmF0ZSgpIGFuZCBtc2cudmFsdWUgb24gYmVoYWxmIG9mIHJlY2lwaWVudAogICAgZnVuY3Rpb24gYnV5UmVjaXBpZW50KGFkZHJlc3MgcmVjaXBpZW50KQogICAgICAgIHBheWFibGUKICAgICAgICBpc19ub3RfZWFybGllcl90aGFuKHN0YXJ0VGltZSkKICAgICAgICBpc19lYXJsaWVyX3RoYW4oZW5kVGltZSkKICAgICAgICBpc19ub3RfaGFsdGVkCiAgICAgICAgZXRoZXJfY2FwX25vdF9yZWFjaGVkCiAgICB7CiAgICAgICAgdWludCBhbW91bnQgPSBzYWZlTXVsKG1zZy52YWx1ZSwgcHJpY2VSYXRlKCkpOwogICAgICAgIGZvbGlvVG9rZW4ubWludFRva2VuKHJlY2lwaWVudCwgYW1vdW50KTsKICAgICAgICBldGhlclJhaXNlZCA9IHNhZmVBZGQoZXRoZXJSYWlzZWQsIG1zZy52YWx1ZSk7CiAgICAgICAgYXNzZXJ0KERFVl9XQUxMRVQuc2VuZChtc2cudmFsdWUpKTsKICAgICAgICBUb2tlbnNCb3VnaHQocmVjaXBpZW50LCBtc2cudmFsdWUsIGFtb3VudCk7CiAgICB9CgogICAgLy8vIFByZTogRW1lcmdlbmN5IHNpdHVhdGlvbiB0aGF0IHJlcXVpcmVzIGNvbnRyaWJ1dGlvbiBwZXJpb2QgdG8gc3RvcC4KICAgIC8vLyBQb3N0OiBDb250cmlidXRpbmcgbm90IHBvc3NpYmxlIGFueW1vcmUuCiAgICBmdW5jdGlvbiBoYWx0KCkgb25seV9mb3VuZGF0aW9uIHsgaGFsdGVkID0gdHJ1ZTsgfQoKICAgIC8vLyBQcmU6IEVtZXJnZW5jeSBzaXR1YXRpb24gcmVzb2x2ZWQuCiAgICAvLy8gUG9zdDogQ29udHJpYnV0aW5nIGJlY29tZXMgcG9zc2libGUgYWdhaW4uCiAgICBmdW5jdGlvbiB1bmhhbHQoKSBvbmx5X2ZvdW5kYXRpb24geyBoYWx0ZWQgPSBmYWxzZTsgfQoKICAgIC8vLyBQcmU6IFJlc3RyaWN0ZWQgdG8gZm91bmRhdGlvbi4KICAgIC8vLyBQb3N0OiBOZXcgYWRkcmVzcyBzZXQuIFRvIGhhbHQgY29udHJpYnV0aW9uIGFuZC9vciBjaGFuZ2UgbWludGVyIGluIEZvbGlvTmluamFUb2tlbiBjb250cmFjdC4KICAgIGZ1bmN0aW9uIGNoYW5nZUZvdW5kYXRpb25BZGRyZXNzKGFkZHJlc3MgbmV3Rm91bmRhdGlvbkFkZHJlc3MpIG9ubHlfZm91bmRhdGlvbiB7IEZPVU5EQVRJT05fV0FMTEVUID0gbmV3Rm91bmRhdGlvbkFkZHJlc3M7IH0KCiAgICAvLy8gUHJlOiBSZXN0cmljdGVkIHRvIGZvdW5kYXRpb24uCiAgICAvLy8gUG9zdDogTmV3IGFkZHJlc3Mgc2V0LiBUbyBjaGFuZ2UgYmVuZWZpY2lhcnkgb2YgY29udHJpYnV0aW9ucwogICAgZnVuY3Rpb24gY2hhbmdlRGV2QWRkcmVzcyhhZGRyZXNzIG5ld0RldkFkZHJlc3MpIG9ubHlfZm91bmRhdGlvbiB7IERFVl9XQUxMRVQgPSBuZXdEZXZBZGRyZXNzOyB9Cn0='.
	

]
