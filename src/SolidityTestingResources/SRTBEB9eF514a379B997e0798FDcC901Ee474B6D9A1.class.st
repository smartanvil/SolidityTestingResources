Class {
	#name : #SRTBEB9eF514a379B997e0798FDcC901Ee474B6D9A1,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTBEB9eF514a379B997e0798FDcC901Ee474B6D9A1 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuODsKCi8vLyBAdGl0bGUgQXNzZXJ0aXZlIGNvbnRyYWN0Ci8vLyBAYXV0aG9yIE1lbG9ucG9ydCBBRyA8PHNwYW4gY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSJkZGE5YjhiY2IwOWRiMGI4YjFiMmIzYWRiMmFmYTlmM2JlYjJiMCI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvc3Bhbj4+Ci8vLyBAbm90aWNlIEFzc2VydHMgZnVuY3Rpb24KY29udHJhY3QgQXNzZXJ0aXZlIHsKCiAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgYXNzZXJ0aW9uKSBpbnRlcm5hbCB7CiAgICAgIGlmICghYXNzZXJ0aW9uKSB0aHJvdzsKICB9Cgp9CgovLy8gQHRpdGxlIE92ZXJmbG93IGF3YXJlIHVpbnQgbWF0aCBmdW5jdGlvbnMuCi8vLyBAYXV0aG9yIE1lbG9ucG9ydCBBRyA8PHNwYW4gY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSJhYmRmY2VjYWM2ZWJjNmNlYzdjNGM1ZGJjNGQ5ZGY4NWM4YzRjNiI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvc3Bhbj4+Ci8vLyBAbm90aWNlIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9NYWtlckRBTy9tYWtlci1vdGMvYmxvYi9tYXN0ZXIvY29udHJhY3RzL3NpbXBsZV9tYXJrZXQuc29sCmNvbnRyYWN0IFNhZmVNYXRoIGlzIEFzc2VydGl2ZXsKCiAgICBmdW5jdGlvbiBzYWZlTXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVBZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICB1aW50IGMgPSBhICsgYjsKICAgICAgICBhc3NlcnQoYz49YSAmJiBjPj1iKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCn0KCi8vLyBAdGl0bGUgRVJDMjAgVG9rZW4gUHJvdG9jb2wKLy8vIEBhdXRob3IgTWVsb25wb3J0IEFHIDw8c3BhbiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9IjkwZTRmNWYxZmRkMGZkZjVmY2ZmZmVlMGZmZTJlNGJlZjNmZmZkIj5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9zcGFuPj4KLy8vIEBub3RpY2UgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMApjb250cmFjdCBFUkMyMFByb3RvY29sIHsKCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG90YWxTdXBwbHkpIHt9CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkge30KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykge30KCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwoKfQoKLy8vIEB0aXRsZSBFUkMyMCBUb2tlbgovLy8gQGF1dGhvciBNZWxvbnBvcnQgQUcgPDxzcGFuIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iOTRlMGYxZjVmOWQ0ZjlmMWY4ZmJmYWU0ZmJlNmUwYmFmN2ZiZjkiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L3NwYW4+PgovLy8gQG5vdGljZSBPcmlnaW5hbCB0YWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAovLy8gQG5vdGljZSBDaGVja2VkIGFnYWluc3QgaW50ZWdlciBvdmVyZmxvdwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMFByb3RvY29sIHsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0KICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7Cgp9CgoKLy8vIEB0aXRsZSBNZWxvbiBUb2tlbiBDb250cmFjdAovLy8gQGF1dGhvciBNZWxvbnBvcnQgQUcgPDxzcGFuIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iMjc1MzQyNDY0YTY3NGE0MjRiNDg0OTU3NDg1NTUzMDk0NDQ4NGEiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L3NwYW4+Pgpjb250cmFjdCBNZWxvblRva2VuIGlzIEVSQzIwLCBTYWZlTWF0aCB7CgogICAgLy8gRklFTERTCgogICAgLy8gQ29uc3RhbnQgdG9rZW4gc3BlY2lmaWMgZmllbGRzCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiTWVsb24gVG9rZW4iOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiTUxOIjsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBUSEFXSU5HX0RVUkFUSU9OID0gMiB5ZWFyczsgLy8gVGltZSBuZWVkZWQgZm9yIGljZWQgdG9rZW5zIHRvIHRoYXcgaW50byBsaXF1aWQgdG9rZW5zCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBNQVhfVE9UQUxfVE9LRU5fQU1PVU5UX09GRkVSRURfVE9fUFVCTElDID0gMTAwMDAwMCAqIDEwICoqIGRlY2ltYWxzOyAvLyBNYXggYW1vdW50IG9mIHRva2VucyBvZmZlcmVkIHRvIHRoZSBwdWJsaWMKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IE1BWF9UT1RBTF9UT0tFTl9BTU9VTlQgPSAxMjUwMDAwICogMTAgKiogZGVjaW1hbHM7IC8vIE1heCBhbW91bnQgb2YgdG90YWwgdG9rZW5zIHJhaXNlZCBkdXJpbmcgYWxsIGNvbnRyaWJ1dGlvbnMgKGluY2x1ZGVzIHN0YWtlcyBvZiBwYXRyb25zKQoKICAgIC8vIEZpZWxkcyB0aGF0IGFyZSBvbmx5IGNoYW5nZWQgaW4gY29uc3RydWN0b3IKICAgIGFkZHJlc3MgcHVibGljIG1pbnRlcjsgLy8gQ29udHJpYnV0aW9uIGNvbnRyYWN0KHMpCiAgICBhZGRyZXNzIHB1YmxpYyBtZWxvbnBvcnQ7IC8vIENhbiBjaGFuZ2UgdG8gb3RoZXIgbWludGluZyBjb250cmlidXRpb24gY29udHJhY3RzIGJ1dCBvbmx5IHVudGlsIHRvdGFsIGFtb3VudCBvZiB0b2tlbiBtaW50ZWQKICAgIHVpbnQgcHVibGljIHN0YXJ0VGltZTsgLy8gQ29udHJpYnV0aW9uIHN0YXJ0IHRpbWUgaW4gc2Vjb25kcwogICAgdWludCBwdWJsaWMgZW5kVGltZTsgLy8gQ29udHJpYnV0aW9uIGVuZCB0aW1lIGluIHNlY29uZHMKCiAgICAvLyBGaWVsZHMgdGhhdCBjYW4gYmUgY2hhbmdlZCBieSBmdW5jdGlvbnMKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgbG9ja2VkQmFsYW5jZXM7CgogICAgLy8gTU9ESUZJRVJTCgogICAgbW9kaWZpZXIgb25seV9taW50ZXIgewogICAgICAgIGFzc2VydChtc2cuc2VuZGVyID09IG1pbnRlcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5X21lbG9ucG9ydCB7CiAgICAgICAgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gbWVsb25wb3J0KTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIGlzX2xhdGVyX3RoYW4odWludCB4KSB7CiAgICAgICAgYXNzZXJ0KG5vdyA+IHgpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgbWF4X3RvdGFsX3Rva2VuX2Ftb3VudF9ub3RfcmVhY2hlZCh1aW50IGFtb3VudCkgewogICAgICAgIGFzc2VydChzYWZlQWRkKHRvdGFsU3VwcGx5LCBhbW91bnQpIDw9IE1BWF9UT1RBTF9UT0tFTl9BTU9VTlQpOwogICAgICAgIF87CiAgICB9CgogICAgLy8gQ09OU1RBTlQgTUVUSE9EUwoKICAgIGZ1bmN0aW9uIGxvY2tlZEJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGxvY2tlZEJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgLy8gTUVUSE9EUwoKICAgIC8vLyBQcmU6IEFsbCBmaWVsZHMsIGV4Y2VwdCB7IG1pbnRlciwgbWVsb25wb3J0LCBzdGFydFRpbWUsIGVuZFRpbWUgfSBhcmUgdmFsaWQKICAgIC8vLyBQb3N0OiBBbGwgZmllbGRzLCBpbmNsdWRpbmcgeyBtaW50ZXIsIG1lbG9ucG9ydCwgc3RhcnRUaW1lLCBlbmRUaW1lIH0gYXJlIHZhbGlkCiAgICBmdW5jdGlvbiBNZWxvblRva2VuKGFkZHJlc3Mgc2V0TWludGVyLCBhZGRyZXNzIHNldE1lbG9ucG9ydCwgdWludCBzZXRTdGFydFRpbWUsIHVpbnQgc2V0RW5kVGltZSkgewogICAgICAgIG1pbnRlciA9IHNldE1pbnRlcjsKICAgICAgICBtZWxvbnBvcnQgPSBzZXRNZWxvbnBvcnQ7CiAgICAgICAgc3RhcnRUaW1lID0gc2V0U3RhcnRUaW1lOwogICAgICAgIGVuZFRpbWUgPSBzZXRFbmRUaW1lOwogICAgfQoKICAgIC8vLyBQcmU6IEFkZHJlc3Mgb2YgY29udHJpYnV0aW9uIGNvbnRyYWN0IChtaW50ZXIpIGlzIHNldAogICAgLy8vIFBvc3Q6IE1pbnRzIHRva2VuIGludG8gdHJhZGVhYmxlIHRyYW5jaGUKICAgIGZ1bmN0aW9uIG1pbnRMaXF1aWRUb2tlbihhZGRyZXNzIHJlY2lwaWVudCwgdWludCBhbW91bnQpCiAgICAgICAgZXh0ZXJuYWwKICAgICAgICBvbmx5X21pbnRlcgogICAgICAgIG1heF90b3RhbF90b2tlbl9hbW91bnRfbm90X3JlYWNoZWQoYW1vdW50KQogICAgewogICAgICAgIGJhbGFuY2VzW3JlY2lwaWVudF0gPSBzYWZlQWRkKGJhbGFuY2VzW3JlY2lwaWVudF0sIGFtb3VudCk7CiAgICAgICAgdG90YWxTdXBwbHkgPSBzYWZlQWRkKHRvdGFsU3VwcGx5LCBhbW91bnQpOwogICAgfQoKICAgIC8vLyBQcmU6IEFkZHJlc3Mgb2YgY29udHJpYnV0aW9uIGNvbnRyYWN0IChtaW50ZXIpIGlzIHNldAogICAgLy8vIFBvc3Q6IE1pbnRzIFRva2VuIGludG8gaWNlZCB0cmFuY2hlLiBCZWNvbWUgbGlxdWlkIGFmdGVyIGNvbXBsZXRpb24gb2YgdGhlIG1lbG9ucHJvamVjdCBvciB0d28geWVhcnMuCiAgICBmdW5jdGlvbiBtaW50SWNlZFRva2VuKGFkZHJlc3MgcmVjaXBpZW50LCB1aW50IGFtb3VudCkKICAgICAgICBleHRlcm5hbAogICAgICAgIG9ubHlfbWludGVyCiAgICAgICAgbWF4X3RvdGFsX3Rva2VuX2Ftb3VudF9ub3RfcmVhY2hlZChhbW91bnQpCiAgICB7CiAgICAgICAgbG9ja2VkQmFsYW5jZXNbcmVjaXBpZW50XSA9IHNhZmVBZGQobG9ja2VkQmFsYW5jZXNbcmVjaXBpZW50XSwgYW1vdW50KTsKICAgICAgICB0b3RhbFN1cHBseSA9IHNhZmVBZGQodG90YWxTdXBwbHksIGFtb3VudCk7CiAgICB9CgogICAgLy8vIFByZTogVGhhd2luZyBwZXJpb2QgaGFzIHBhc3NlZCAtIGljZWQgZnVuZHMgaGF2ZSB0dXJuZWQgaW50byBsaXF1aWQgb25lcwogICAgLy8vIFBvc3Q6IEFsbCBmdW5kcyBhdmFpbGFibGUgZm9yIHRyYWRlCiAgICBmdW5jdGlvbiB1bmxvY2tCYWxhbmNlKGFkZHJlc3MgcmVjaXBpZW50KQogICAgICAgIGlzX2xhdGVyX3RoYW4oZW5kVGltZSArIFRIQVdJTkdfRFVSQVRJT04pCiAgICB7CiAgICAgICAgYmFsYW5jZXNbcmVjaXBpZW50XSA9IHNhZmVBZGQoYmFsYW5jZXNbcmVjaXBpZW50XSwgbG9ja2VkQmFsYW5jZXNbcmVjaXBpZW50XSk7CiAgICAgICAgbG9ja2VkQmFsYW5jZXNbcmVjaXBpZW50XSA9IDA7CiAgICB9CgogICAgLy8vIFByZTogUHJldmVudCB0cmFuc2ZlcnMgdW50aWwgY29udHJpYnV0aW9uIHBlcmlvZCBpcyBvdmVyLgogICAgLy8vIFBvc3Q6IFRyYW5zZmVyIE1MTiBmcm9tIG1zZy5zZW5kZXIKICAgIC8vLyBOb3RlOiBFUkMyMCBpbnRlcmZhY2UKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgcmVjaXBpZW50LCB1aW50IGFtb3VudCkKICAgICAgICBpc19sYXRlcl90aGFuKGVuZFRpbWUpCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQogICAgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihyZWNpcGllbnQsIGFtb3VudCk7CiAgICB9CgogICAgLy8vIFByZTogUHJldmVudCB0cmFuc2ZlcnMgdW50aWwgY29udHJpYnV0aW9uIHBlcmlvZCBpcyBvdmVyLgogICAgLy8vIFBvc3Q6IFRyYW5zZmVyIE1MTiBmcm9tIGFyYml0cmFyeSBhZGRyZXNzCiAgICAvLy8gTm90ZTogRVJDMjAgaW50ZXJmYWNlCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBzZW5kZXIsIGFkZHJlc3MgcmVjaXBpZW50LCB1aW50IGFtb3VudCkKICAgICAgICBpc19sYXRlcl90aGFuKGVuZFRpbWUpCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQogICAgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oc2VuZGVyLCByZWNpcGllbnQsIGFtb3VudCk7CiAgICB9CgogICAgLy8vIFByZTogTWVsb25wb3J0IGFkZHJlc3MgaXMgc2V0LiBSZXN0cmljdGVkIHRvIG1lbG9ucG9ydC4KICAgIC8vLyBQb3N0OiBOZXcgbWludGVyIGNhbiBub3cgY3JlYXRlIHRva2VucyB1cCB0byBNQVhfVE9UQUxfVE9LRU5fQU1PVU5ULgogICAgLy8vIE5vdGU6IFRoaXMgYWxsb3dzIGFkZGl0aW9uYWwgY29udHJpYnV0aW9uIHBlcmlvZHMgYXQgYSBsYXRlciBzdGFnZSwgd2hpbGUgc3RpbGwgdXNpbmcgdGhlIHNhbWUgRVJDMjAgY29tcGxpYW50IGNvbnRyYWN0LgogICAgZnVuY3Rpb24gY2hhbmdlTWludGluZ0FkZHJlc3MoYWRkcmVzcyBuZXdBZGRyZXNzKSBvbmx5X21lbG9ucG9ydCB7IG1pbnRlciA9IG5ld0FkZHJlc3M7IH0KCiAgICAvLy8gUHJlOiBNZWxvbnBvcnQgYWRkcmVzcyBpcyBzZXQuIFJlc3RyaWN0ZWQgdG8gbWVsb25wb3J0LgogICAgLy8vIFBvc3Q6IE5ldyBhZGRyZXNzIHNldC4gVGhpcyBhZGRyZXNzIGNvbnRyb2xzIHRoZSBzZXR0aW5nIG9mIHRoZSBtaW50ZXIgYWRkcmVzcwogICAgZnVuY3Rpb24gY2hhbmdlTWVsb25wb3J0QWRkcmVzcyhhZGRyZXNzIG5ld0FkZHJlc3MpIG9ubHlfbWVsb25wb3J0IHsgbWVsb25wb3J0ID0gbmV3QWRkcmVzczsgfQp9CgoKLy8vIEB0aXRsZSBDb250cmlidXRpb24gQ29udHJhY3QKLy8vIEBhdXRob3IgTWVsb25wb3J0IEFHIDw8c3BhbiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9ImQ1YTFiMGI0Yjg5NWI4YjBiOWJhYmJhNWJhYTdhMWZiYjZiYWI4Ij5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9zcGFuPj4KLy8vIEBub3RpY2UgVGhpcyBmb2xsb3dzIENvbmRpdGlvbi1PcmllbnRhdGVkIFByb2dyYW1taW5nIGFzIG91dGxpbmVkIGhlcmU6Ci8vLyBAbm90aWNlICAgaHR0cHM6Ly9tZWRpdW0uY29tL0BnYXZvZnlvcmsvY29uZGl0aW9uLW9yaWVudGF0ZWQtcHJvZ3JhbW1pbmctOTY5ZjZiYTAxNjFhIy5zYWF2M2J2dmEKY29udHJhY3QgQ29udHJpYnV0aW9uIGlzIFNhZmVNYXRoIHsKCiAgICAvLyBGSUVMRFMKCiAgICAvLyBDb25zdGFudCBmaWVsZHMKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IEVUSEVSX0NBUCA9IDIyNzAwMCBldGhlcjsgLy8gTWF4IGFtb3VudCByYWlzZWQgZHVyaW5nIGZpcnN0IGNvbnRyaWJ1dGlvbjsgdGFyZ2V0ZWQgYW1vdW50IENIRiAyLjVNTgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgTUFYX0NPTlRSSUJVVElPTl9EVVJBVElPTiA9IDQgd2Vla3M7IC8vIE1heCBhbW91bnQgaW4gc2Vjb25kcyBvZiBjb250cmlidXRpb24gcGVyaW9kCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBCVENTX0VUSEVSX0NBUCA9IEVUSEVSX0NBUCAqIDI1IC8gMTAwOyAvLyBNYXggbWVsb24gdG9rZW4gYWxsb2NhdGlvbiBmb3IgYnRjcyBiZWZvcmUgY29udHJpYnV0aW9uIHBlcmlvZCBzdGFydHMKICAgIC8vIFByaWNlIFJhdGVzCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBQUklDRV9SQVRFX0ZJUlNUID0gMjIwMDsgLy8gRm91ciBwcmljZSB0aWVycywgZWFjaCB2YWxpZCBmb3IgdHdvIHdlZWtzCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBQUklDRV9SQVRFX1NFQ09ORCA9IDIxNTA7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBQUklDRV9SQVRFX1RISVJEID0gMjEwMDsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFBSSUNFX1JBVEVfRk9VUlRIID0gMjA1MDsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IERJVklTT1JfUFJJQ0UgPSAxMDAwOyAvLyBQcmljZSByYXRlcyBhcmUgZGl2aWRlZCBieSB0aGlzIG51bWJlcgogICAgLy8gQWRkcmVzc2VzIG9mIFBhdHJvbnMKICAgIGFkZHJlc3MgcHVibGljIGNvbnN0YW50IEZPVU5ERVJfT05FID0gMHgwMDliZUFFMDZCMGMwQzUzNmFkMWVBNDNENmY2MURDQ2YwNzQ4QjFmOwogICAgYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgRk9VTkRFUl9UV08gPSAweEIxRUZjYTYyQzU1NWI0OUU2NzM2M0I0OGFFNWI4QWYzQzdFM2U2NTY7CiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBFWFRfQ09NUEFOWV9PTkUgPSAweDAwNzc5ZTBlNGM2MDgzY2ZkMjZkRTc3QjRkYmMxMDdBN0ViQjk5ZDI7CiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBFWFRfQ09NUEFOWV9UV08gPSAweDFGMDZCOTc2MTM2ZTk0NzA0RDMyOEQ0ZDIzYWFlNzI1OUFhQzEyYTI7CiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBFWFRfQ09NUEFOWV9USFJFRSA9IDB4REQ5MTYxNUVhOERlOTRiQzQ4MjMxYzRhZTk0ODg4OTFGMTY0OGRjNTsKICAgIGFkZHJlc3MgcHVibGljIGNvbnN0YW50IEFEVklTT1JfT05FID0gMHgwMDAxMTI2RkM5NEFFMGJlMkI2ODViOGRFNDM0YTk5QjI1NTJBQWMzOwogICAgYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgQURWSVNPUl9UV08gPSAweDRmMkFGOGQyNjE0MTkwQ2M4MGM2RTk3NzJCMEMzNjdkYjhEOTc1M0M7CiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBBRFZJU09SX1RIUkVFID0gMHg3MTVhNzBhN2M3ZDc2YWNjOGQ1ODc0ODYyZTM4MWMxOTQwYzE5Y2NlOwogICAgYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgQURWSVNPUl9GT1VSID0gMHg4NjE1RjEzQzEyYzI0REZkY2EwYmEzMjUxMUUyODYxQkUwMmI5M2IyOwogICAgYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgQU1CQVNTQURPUl9PTkUgPSAweGQzODQxRkI4MENFNDA4Y2E3ZDBiNDFENzJhQTkxQ0E3NDY1MkFGNDc7CiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBBTUJBU1NBRE9SX1RXTyA9IDB4RGI3NzU1Nzc1MzgwMThhNjg5RTRBZDJlOGViNWE3QWU3YzM0NzIyQjsKICAgIGFkZHJlc3MgcHVibGljIGNvbnN0YW50IEFNQkFTU0FET1JfVEhSRUUgPSAweGFhOTY3ZTBjZTZBMUZmNUY5YzEyNEQxNUFEMDQxMkYxMzdDOTk3Njc7CiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBBTUJBU1NBRE9SX0ZPVVIgPSAweDkxMEI0MWE2NTY4YTY0NTQzN2JDMjg2QTVDNzMzZjNjNTAxZDhjODg7CiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBBTUJBU1NBRE9SX0ZJVkUgPSAweGIxZDE2QkZFODQwRTY2RTNjODE3ODU1NTE4MzJhQUFDQjRjZjY5ZjM7CiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBBTUJBU1NBRE9SX1NJWCA9IDB4NUY2ZmYxNjM2NEJmRWY1NDYyNzAzMjU2OTVCNmU5MGNjODlDNDk3YTsKICAgIGFkZHJlc3MgcHVibGljIGNvbnN0YW50IEFNQkFTU0FET1JfU0VWRU4gPSAweDU4NjU2ZTg4NzJCMGQyNjZjMmFjQ0QyNzZjRDIzRjRDMEI1ZkVmYjk7CiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBTUEVDSUFMSVNUX09ORSA9IDB4OGE4MTVlODE4RTYxN2QxZjkzQkU3NDc3RDE3OTI1OGFDMmQyNTMxMDsKICAgIGFkZHJlc3MgcHVibGljIGNvbnN0YW50IFNQRUNJQUxJU1RfVFdPID0gMHgxZWJhNjcwMmJhMjFjZmMxZjZjODdjNzI2MzY0YjYwYTVlNDQ0OTAxOwogICAgYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgU1BFQ0lBTElTVF9USFJFRSA9IDB4ODJlYWU2YzMwZWQ5NjA2ZTJiMzg5YWU2NTM5NTY0ODc0OGM2YTE3ZjsKICAgIC8vIFN0YWtlcyBvZiBQYXRyb25zCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBNRUxPTlBPUlRfQ09NUEFOWV9TVEFLRSA9IDEwMDA7IC8vIDEwJSBvZiBhbGwgY3JlYXRlZCBtZWxvbiB0b2tlbiBhbGxvY2F0ZWQgdG8gbWVsb25wb3J0IGNvbXBhbnkKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IEZPVU5ERVJfU1RBS0UgPSA0NDU7IC8vIDQuNDUlIG9mIGFsbCBjcmVhdGVkIG1lbG9uIHRva2VuIGFsbG9jYXRlZCB0byBmb3VuZGVyCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBFWFRfQ09NUEFOWV9TVEFLRV9PTkUgPSAxNTA7IC8vIDEuNSUgb2YgYWxsIGNyZWF0ZWQgbWVsb24gdG9rZW4gYWxsb2NhdGVkIHRvIGV4dGVybmFsIGNvbXBhbnkKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IEVYVF9DT01QQU5ZX1NUQUtFX1RXTyA9IDEwMDsgLy8gMSUgb2YgYWxsIGNyZWF0ZWQgbWVsb24gdG9rZW4gYWxsb2NhdGVkIHRvIGV4dGVybmFsIGNvbXBhbnkKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IEVYVF9DT01QQU5ZX1NUQUtFX1RIUkVFID0gNTA7IC8vIDAuNSUgb2YgYWxsIGNyZWF0ZWQgbWVsb24gdG9rZW4gYWxsb2NhdGVkIHRvIGV4dGVybmFsIGNvbXBhbnkKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IEFEVklTT1JfU1RBS0VfT05FID0gMTUwOyAvLyAxLjUlIG9mIGFsbCBjcmVhdGVkIG1lbG9uIHRva2VuIGFsbG9jYXRlZCB0byBhZHZpc29yCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBBRFZJU09SX1NUQUtFX1RXTyA9IDUwOyAvLyAwLjUlIG9mIGFsbCBjcmVhdGVkIG1lbG9uIHRva2VuIGFsbG9jYXRlZCB0byBhZHZpc29yCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBBRFZJU09SX1NUQUtFX1RIUkVFID0gMjU7IC8vIDAuMjUlIG9mIGFsbCBjcmVhdGVkIG1lbG9uIHRva2VuIGFsbG9jYXRlZCB0byBhZHZpc29yCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBBRFZJU09SX1NUQUtFX0ZPVVIgPSAxMDsgLy8gMC4xJSBvZiBhbGwgY3JlYXRlZCBtZWxvbiB0b2tlbiBhbGxvY2F0ZWQgdG8gYWR2aXNvcgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgQU1CQVNTQURPUl9TVEFLRSA9IDU7IC8vIDAuMDUlIG9mIGFsbCBjcmVhdGVkIG1lbG9uIHRva2VuIGFsbG9jYXRlZCB0byBhbWJhc3NhZG9ycwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgU1BFQ0lBTElTVF9TVEFLRV9PTkUgPSAyNTsgLy8gMC4yNSUgb2YgYWxsIGNyZWF0ZWQgbWVsb24gdG9rZW4gYWxsb2NhdGVkIHRvIHNwZWNpYWxpc3QKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFNQRUNJQUxJU1RfU1RBS0VfVFdPID0gMTA7IC8vIDAuMSUgb2YgYWxsIGNyZWF0ZWQgbWVsb24gdG9rZW4gYWxsb2NhdGVkIHRvIHNwZWNpYWxpc3QKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFNQRUNJQUxJU1RfU1RBS0VfVEhSRUUgPSA1OyAvLyAwLjA1JSBvZiBhbGwgY3JlYXRlZCBtZWxvbiB0b2tlbiBhbGxvY2F0ZWQgdG8gc3BlY2lhbGlzdAogICAgdWludCBwdWJsaWMgY29uc3RhbnQgRElWSVNPUl9TVEFLRSA9IDEwMDAwOyAvLyBTdGFrZXMgYXJlIGRpdmlkZWQgYnkgdGhpcyBudW1iZXI7IFJlc3VsdHMgdG8gb25lIGJhc2lzIHBvaW50CgogICAgLy8gRmllbGRzIHRoYXQgYXJlIG9ubHkgY2hhbmdlZCBpbiBjb25zdHJ1Y3RvcgogICAgYWRkcmVzcyBwdWJsaWMgbWVsb25wb3J0OyAvLyBBbGwgZGVwb3NpdGVkIEVUSCB3aWxsIGJlIGluc3RhbnRseSBmb3J3YXJkZWQgdG8gdGhpcyBhZGRyZXNzLgogICAgYWRkcmVzcyBwdWJsaWMgYnRjczsgLy8gQml0Y29pbiBTdWlzc2UgYWRkcmVzcyBmb3IgdGhlaXIgYWxsb2NhdGlvbiBvcHRpb24KICAgIGFkZHJlc3MgcHVibGljIHNpZ25lcjsgLy8gU2lnbmVyIGFkZHJlc3MgYXMgb24gaHR0cHM6Ly9jb250cmlidXRpb24ubWVsb25wb3J0LmNvbQogICAgdWludCBwdWJsaWMgc3RhcnRUaW1lOyAvLyBDb250cmlidXRpb24gc3RhcnQgdGltZSBpbiBzZWNvbmRzCiAgICB1aW50IHB1YmxpYyBlbmRUaW1lOyAvLyBDb250cmlidXRpb24gZW5kIHRpbWUgaW4gc2Vjb25kcwogICAgTWVsb25Ub2tlbiBwdWJsaWMgbWVsb25Ub2tlbjsgLy8gQ29udHJhY3Qgb2YgdGhlIEVSQzIwIGNvbXBsaWFudCBtZWxvbiB0b2tlbgoKICAgIC8vIEZpZWxkcyB0aGF0IGNhbiBiZSBjaGFuZ2VkIGJ5IGZ1bmN0aW9ucwogICAgdWludCBwdWJsaWMgZXRoZXJSYWlzZWQ7IC8vIFRoaXMgd2lsbCBrZWVwIHRyYWNrIG9mIHRoZSBFdGhlciByYWlzZWQgZHVyaW5nIHRoZSBjb250cmlidXRpb24KICAgIGJvb2wgcHVibGljIGhhbHRlZDsgLy8gVGhlIG1lbG9ucG9ydCBhZGRyZXNzIGNhbiBzZXQgdGhpcyB0byB0cnVlIHRvIGhhbHQgdGhlIGNvbnRyaWJ1dGlvbiBkdWUgdG8gYW4gZW1lcmdlbmN5CgogICAgLy8gRVZFTlRTCgogICAgZXZlbnQgVG9rZW5zQm91Z2h0KGFkZHJlc3MgaW5kZXhlZCBzZW5kZXIsIHVpbnQgZXRoLCB1aW50IGFtb3VudCk7CgogICAgLy8gTU9ESUZJRVJTCgogICAgbW9kaWZpZXIgaXNfc2lnbmVyX3NpZ25hdHVyZSh1aW50OCB2LCBieXRlczMyIHIsIGJ5dGVzMzIgcykgewogICAgICAgIGJ5dGVzMzIgaGFzaCA9IHNoYTI1Nihtc2cuc2VuZGVyKTsKICAgICAgICBhc3NlcnQoZWNyZWNvdmVyKGhhc2gsIHYsIHIsIHMpID09IHNpZ25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5X21lbG9ucG9ydCB7CiAgICAgICAgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gbWVsb25wb3J0KTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlfYnRjcyB7CiAgICAgICAgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gYnRjcyk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBpc19ub3RfaGFsdGVkIHsKICAgICAgICBhc3NlcnQoIWhhbHRlZCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBldGhlcl9jYXBfbm90X3JlYWNoZWQgewogICAgICAgIGFzc2VydChzYWZlQWRkKGV0aGVyUmFpc2VkLCBtc2cudmFsdWUpIDw9IEVUSEVSX0NBUCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBidGNzX2V0aGVyX2NhcF9ub3RfcmVhY2hlZCB7CiAgICAgICAgYXNzZXJ0KHNhZmVBZGQoZXRoZXJSYWlzZWQsIG1zZy52YWx1ZSkgPD0gQlRDU19FVEhFUl9DQVApOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgaXNfbm90X2VhcmxpZXJfdGhhbih1aW50IHgpIHsKICAgICAgICBhc3NlcnQobm93ID49IHgpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgaXNfZWFybGllcl90aGFuKHVpbnQgeCkgewogICAgICAgIGFzc2VydChub3cgPCB4KTsKICAgICAgICBfOwogICAgfQoKICAgIC8vIENPTlNUQU5UIE1FVEhPRFMKCiAgICAvLy8gUHJlOiBzdGFydFRpbWUsIGVuZFRpbWUgc3BlY2lmaWVkIGluIGNvbnN0cnVjdG9yLAogICAgLy8vIFBvc3Q6IFByaWNlIHJhdGUgYXQgZ2l2ZW4gYmxvY2tUaW1lOyBPbmUgZXRoZXIgZXF1YWxzIHByaWNlUmF0ZSgpIC8gRElWSVNPUl9QUklDRSBvZiBtZWxvbiB0b2tlbnMKICAgIGZ1bmN0aW9uIHByaWNlUmF0ZSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICAvLyBGb3VyIHByaWNlIHRpZXJzCiAgICAgICAgaWYgKHN0YXJ0VGltZSA8PSBub3cgJiYgbm93IDwgc3RhcnRUaW1lICsgMSB3ZWVrcykKICAgICAgICAgICAgcmV0dXJuIFBSSUNFX1JBVEVfRklSU1Q7CiAgICAgICAgaWYgKHN0YXJ0VGltZSArIDEgd2Vla3MgPD0gbm93ICYmIG5vdyA8IHN0YXJ0VGltZSArIDIgd2Vla3MpCiAgICAgICAgICAgIHJldHVybiBQUklDRV9SQVRFX1NFQ09ORDsKICAgICAgICBpZiAoc3RhcnRUaW1lICsgMiB3ZWVrcyA8PSBub3cgJiYgbm93IDwgc3RhcnRUaW1lICsgMyB3ZWVrcykKICAgICAgICAgICAgcmV0dXJuIFBSSUNFX1JBVEVfVEhJUkQ7CiAgICAgICAgaWYgKHN0YXJ0VGltZSArIDMgd2Vla3MgPD0gbm93ICYmIG5vdyA8IGVuZFRpbWUpCiAgICAgICAgICAgIHJldHVybiBQUklDRV9SQVRFX0ZPVVJUSDsKICAgICAgICAvLyBTaG91bGQgbm90IGJlIGNhbGxlZCBiZWZvcmUgb3IgYWZ0ZXIgY29udHJpYnV0aW9uIHBlcmlvZAogICAgICAgIGFzc2VydChmYWxzZSk7CiAgICB9CgogICAgLy8gTk9OLUNPTlNUQU5UIE1FVEhPRFMKCiAgICAvLy8gUHJlOiBBbGwgZmllbGRzLCBleGNlcHQgeyBtZWxvbnBvcnQsIGJ0Y3MsIHNpZ25lciwgc3RhcnRUaW1lIH0gYXJlIHZhbGlkCiAgICAvLy8gUG9zdDogQWxsIGZpZWxkcywgaW5jbHVkaW5nIHsgbWVsb25wb3J0LCBidGNzLCBzaWduZXIsIHN0YXJ0VGltZSB9IGFyZSB2YWxpZAogICAgZnVuY3Rpb24gQ29udHJpYnV0aW9uKGFkZHJlc3Mgc2V0TWVsb25wb3J0LCBhZGRyZXNzIHNldEJUQ1MsIGFkZHJlc3Mgc2V0U2lnbmVyLCB1aW50IHNldFN0YXJ0VGltZSkgewogICAgICAgIG1lbG9ucG9ydCA9IHNldE1lbG9ucG9ydDsKICAgICAgICBidGNzID0gc2V0QlRDUzsKICAgICAgICBzaWduZXIgPSBzZXRTaWduZXI7CiAgICAgICAgc3RhcnRUaW1lID0gc2V0U3RhcnRUaW1lOwogICAgICAgIGVuZFRpbWUgPSBzdGFydFRpbWUgKyBNQVhfQ09OVFJJQlVUSU9OX0RVUkFUSU9OOwogICAgICAgIG1lbG9uVG9rZW4gPSBuZXcgTWVsb25Ub2tlbih0aGlzLCBtZWxvbnBvcnQsIHN0YXJ0VGltZSwgZW5kVGltZSk7IC8vIENyZWF0ZSBNZWxvbiBUb2tlbiBDb250cmFjdAogICAgICAgIHZhciBtYXhUb3RhbFRva2VuQW1vdW50T2ZmZXJlZFRvUHVibGljID0gbWVsb25Ub2tlbi5NQVhfVE9UQUxfVE9LRU5fQU1PVU5UX09GRkVSRURfVE9fUFVCTElDKCk7CiAgICAgICAgdWludCBzdGFrZU11bHRpcGxpZXIgPSBtYXhUb3RhbFRva2VuQW1vdW50T2ZmZXJlZFRvUHVibGljIC8gRElWSVNPUl9TVEFLRTsKICAgICAgICAvLyBNaW50IGxpcXVpZCB0b2tlbnMgZm9yIG1lbG9ucG9ydCBjb21wYW55LCBsaXF1aWQgbWVhbnMgdHJhZGVhbGUKICAgICAgICBtZWxvblRva2VuLm1pbnRMaXF1aWRUb2tlbihtZWxvbnBvcnQsICAgICAgIE1FTE9OUE9SVF9DT01QQU5ZX1NUQUtFICogc3Rha2VNdWx0aXBsaWVyKTsKICAgICAgICAvLyBNaW50IGljZWQgdG9rZW5zIHRoYXQgYXJlIHVuYWJsZSB0byB0cmFkZSBmb3IgdHdvIHllYXJzIGFuZCBhbGxvY2F0ZSBhY2NvcmRpbmcgdG8gcmVsZXZhbnQgc3Rha2VzCiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKEZPVU5ERVJfT05FLCAgICAgICBGT1VOREVSX1NUQUtFICogICAgICAgICAgIHN0YWtlTXVsdGlwbGllcik7CiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKEZPVU5ERVJfVFdPLCAgICAgICBGT1VOREVSX1NUQUtFICogICAgICAgICAgIHN0YWtlTXVsdGlwbGllcik7CiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKEVYVF9DT01QQU5ZX09ORSwgICBFWFRfQ09NUEFOWV9TVEFLRV9PTkUgKiAgIHN0YWtlTXVsdGlwbGllcik7CiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKEVYVF9DT01QQU5ZX1RXTywgICBFWFRfQ09NUEFOWV9TVEFLRV9UV08gKiAgIHN0YWtlTXVsdGlwbGllcik7CiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKEVYVF9DT01QQU5ZX1RIUkVFLCBFWFRfQ09NUEFOWV9TVEFLRV9USFJFRSAqIHN0YWtlTXVsdGlwbGllcik7CiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKEFEVklTT1JfT05FLCAgICAgICBBRFZJU09SX1NUQUtFX09ORSAqICAgICAgIHN0YWtlTXVsdGlwbGllcik7CiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKEFEVklTT1JfVFdPLCAgICAgICBBRFZJU09SX1NUQUtFX1RXTyAqICAgICAgIHN0YWtlTXVsdGlwbGllcik7CiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKEFEVklTT1JfVEhSRUUsICAgICBBRFZJU09SX1NUQUtFX1RIUkVFICogICAgIHN0YWtlTXVsdGlwbGllcik7CiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKEFEVklTT1JfRk9VUiwgICAgICBBRFZJU09SX1NUQUtFX0ZPVVIgKiAgICAgIHN0YWtlTXVsdGlwbGllcik7CiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKEFNQkFTU0FET1JfT05FLCAgICBBTUJBU1NBRE9SX1NUQUtFICogICAgICAgIHN0YWtlTXVsdGlwbGllcik7CiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKEFNQkFTU0FET1JfVFdPLCAgICBBTUJBU1NBRE9SX1NUQUtFICogICAgICAgIHN0YWtlTXVsdGlwbGllcik7CiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKEFNQkFTU0FET1JfVEhSRUUsICBBTUJBU1NBRE9SX1NUQUtFICogICAgICAgIHN0YWtlTXVsdGlwbGllcik7CiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKEFNQkFTU0FET1JfRk9VUiwgICBBTUJBU1NBRE9SX1NUQUtFICogICAgICAgIHN0YWtlTXVsdGlwbGllcik7CiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKEFNQkFTU0FET1JfRklWRSwgICBBTUJBU1NBRE9SX1NUQUtFICogICAgICAgIHN0YWtlTXVsdGlwbGllcik7CiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKEFNQkFTU0FET1JfU0lYLCAgICBBTUJBU1NBRE9SX1NUQUtFICogICAgICAgIHN0YWtlTXVsdGlwbGllcik7CiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKEFNQkFTU0FET1JfU0VWRU4sICBBTUJBU1NBRE9SX1NUQUtFICogICAgICAgIHN0YWtlTXVsdGlwbGllcik7CiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKFNQRUNJQUxJU1RfT05FLCAgICBTUEVDSUFMSVNUX1NUQUtFX09ORSAqICAgIHN0YWtlTXVsdGlwbGllcik7CiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKFNQRUNJQUxJU1RfVFdPLCAgICBTUEVDSUFMSVNUX1NUQUtFX1RXTyAqICAgIHN0YWtlTXVsdGlwbGllcik7CiAgICAgICAgbWVsb25Ub2tlbi5taW50SWNlZFRva2VuKFNQRUNJQUxJU1RfVEhSRUUsICBTUEVDSUFMSVNUX1NUQUtFX1RIUkVFICogIHN0YWtlTXVsdGlwbGllcik7CiAgICB9CgogICAgLy8vIFByZTogVmFsaWQgc2lnbmF0dXJlIHJlY2VpdmVkIGZyb20gaHR0cHM6Ly9jb250cmlidXRpb24ubWVsb25wb3J0LmNvbQogICAgLy8vIFBvc3Q6IEJvdWdodCBtZWxvbiB0b2tlbnMgYWNjb3JkaW5nIHRvIHByaWNlUmF0ZSgpIGFuZCBtc2cudmFsdWUKICAgIGZ1bmN0aW9uIGJ1eSh1aW50OCB2LCBieXRlczMyIHIsIGJ5dGVzMzIgcykgcGF5YWJsZSB7IGJ1eVJlY2lwaWVudChtc2cuc2VuZGVyLCB2LCByLCBzKTsgfQoKICAgIC8vLyBQcmU6IFZhbGlkIHNpZ25hdHVyZSByZWNlaXZlZCBmcm9tIGh0dHBzOi8vY29udHJpYnV0aW9uLm1lbG9ucG9ydC5jb20KICAgIC8vLyBQb3N0OiBCb3VnaHQgbWVsb24gdG9rZW5zIGFjY29yZGluZyB0byBwcmljZVJhdGUoKSBhbmQgbXNnLnZhbHVlIG9uIGJlaGFsZiBvZiByZWNpcGllbnQKICAgIGZ1bmN0aW9uIGJ1eVJlY2lwaWVudChhZGRyZXNzIHJlY2lwaWVudCwgdWludDggdiwgYnl0ZXMzMiByLCBieXRlczMyIHMpCiAgICAgICAgcGF5YWJsZQogICAgICAgIGlzX3NpZ25lcl9zaWduYXR1cmUodiwgciwgcykKICAgICAgICBpc19ub3RfZWFybGllcl90aGFuKHN0YXJ0VGltZSkKICAgICAgICBpc19lYXJsaWVyX3RoYW4oZW5kVGltZSkKICAgICAgICBpc19ub3RfaGFsdGVkCiAgICAgICAgZXRoZXJfY2FwX25vdF9yZWFjaGVkCiAgICB7CiAgICAgICAgdWludCBhbW91bnQgPSBzYWZlTXVsKG1zZy52YWx1ZSwgcHJpY2VSYXRlKCkpIC8gRElWSVNPUl9QUklDRTsKICAgICAgICBtZWxvblRva2VuLm1pbnRMaXF1aWRUb2tlbihyZWNpcGllbnQsIGFtb3VudCk7CiAgICAgICAgZXRoZXJSYWlzZWQgPSBzYWZlQWRkKGV0aGVyUmFpc2VkLCBtc2cudmFsdWUpOwogICAgICAgIGFzc2VydChtZWxvbnBvcnQuc2VuZChtc2cudmFsdWUpKTsKICAgICAgICBUb2tlbnNCb3VnaHQocmVjaXBpZW50LCBtc2cudmFsdWUsIGFtb3VudCk7CiAgICB9CgogICAgLy8vIFByZTogQlRDUyBiZWZvcmUgY29udHJpYnV0aW9uIHBlcmlvZCwgQlRDUyBoYXMgZXhjbHVzaXZlIHJpZ2h0IHRvIGJ1eSB1cCB0byAyNSUgb2YgYWxsIG1lbG9uIHRva2VucwogICAgLy8vIFBvc3Q6IEJvdWdodCBtZWxvbiB0b2tlbnMgYWNjb3JkaW5nIHRvIFBSSUNFX1JBVEVfRklSU1QgYW5kIG1zZy52YWx1ZSBvbiBiZWhhbGYgb2YgcmVjaXBpZW50CiAgICBmdW5jdGlvbiBidGNzQnV5UmVjaXBpZW50KGFkZHJlc3MgcmVjaXBpZW50KQogICAgICAgIHBheWFibGUKICAgICAgICBvbmx5X2J0Y3MKICAgICAgICBpc19lYXJsaWVyX3RoYW4oc3RhcnRUaW1lKQogICAgICAgIGlzX25vdF9oYWx0ZWQKICAgICAgICBidGNzX2V0aGVyX2NhcF9ub3RfcmVhY2hlZAogICAgewogICAgICAgIHVpbnQgYW1vdW50ID0gc2FmZU11bChtc2cudmFsdWUsIFBSSUNFX1JBVEVfRklSU1QpIC8gRElWSVNPUl9QUklDRTsKICAgICAgICBtZWxvblRva2VuLm1pbnRMaXF1aWRUb2tlbihyZWNpcGllbnQsIGFtb3VudCk7CiAgICAgICAgZXRoZXJSYWlzZWQgPSBzYWZlQWRkKGV0aGVyUmFpc2VkLCBtc2cudmFsdWUpOwogICAgICAgIGFzc2VydChtZWxvbnBvcnQuc2VuZChtc2cudmFsdWUpKTsKICAgICAgICBUb2tlbnNCb3VnaHQocmVjaXBpZW50LCBtc2cudmFsdWUsIGFtb3VudCk7CiAgICB9CgogICAgLy8vIFByZTogRW1lcmdlbmN5IHNpdHVhdGlvbiB0aGF0IHJlcXVpcmVzIGNvbnRyaWJ1dGlvbiBwZXJpb2QgdG8gc3RvcC4KICAgIC8vLyBQb3N0OiBDb250cmlidXRpbmcgbm90IHBvc3NpYmxlIGFueW1vcmUuCiAgICBmdW5jdGlvbiBoYWx0KCkgb25seV9tZWxvbnBvcnQgeyBoYWx0ZWQgPSB0cnVlOyB9CgogICAgLy8vIFByZTogRW1lcmdlbmN5IHNpdHVhdGlvbiByZXNvbHZlZC4KICAgIC8vLyBQb3N0OiBDb250cmlidXRpbmcgYmVjb21lcyBwb3NzaWJsZSBhZ2FpbiB3aXRoaW5nIHRoZSBvdXRsaW5lZCByZXN0cmljdGlvbnMuCiAgICBmdW5jdGlvbiB1bmhhbHQoKSBvbmx5X21lbG9ucG9ydCB7IGhhbHRlZCA9IGZhbHNlOyB9CgogICAgLy8vIFByZTogUmVzdHJpY3RlZCB0byBtZWxvbnBvcnQuCiAgICAvLy8gUG9zdDogTmV3IGFkZHJlc3Mgc2V0LiBUbyBoYWx0IGNvbnRyaWJ1dGlvbiBhbmQvb3IgY2hhbmdlIG1pbnRlciBpbiBNZWxvblRva2VuIGNvbnRyYWN0LgogICAgZnVuY3Rpb24gY2hhbmdlTWVsb25wb3J0QWRkcmVzcyhhZGRyZXNzIG5ld0FkZHJlc3MpIG9ubHlfbWVsb25wb3J0IHsgbWVsb25wb3J0ID0gbmV3QWRkcmVzczsgfQp9'.
	

]
