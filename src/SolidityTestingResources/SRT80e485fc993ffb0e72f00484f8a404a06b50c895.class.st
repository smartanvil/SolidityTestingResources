Class {
	#name : #SRT80e485fc993ffb0e72f00484f8a404a06b50c895,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT80e485fc993ffb0e72f00484f8a404a06b50c895 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKbGlicmFyeSBTYWZlTWF0aCB7CiAgICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gbWF4NjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQ2NCkgewogICAgICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICAgIH0KCiAgICBmdW5jdGlvbiBtaW42NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDY0KSB7CiAgICAgICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgICB9CgogICAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgICB9CgogICAgZnVuY3Rpb24gbWluMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICAgIH0KfQoKCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgYm9vbCBwdWJsaWMgdHJhbnNmZXJzRW5hYmxlZDsKCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKCmNvbnRyYWN0IEVSQzIwIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIGJvb2wgcHVibGljIHRyYW5zZmVyc0VuYWJsZWQ7CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKfQoKCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAgIC8qKgogICAgKiBQcm90ZWN0aW9uIGFnYWluc3Qgc2hvcnQgYWRkcmVzcyBhdHRhY2sKICAgICovCiAgICBtb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludCBudW13b3JkcykgewogICAgICAgIGFzc2VydChtc2cuZGF0YS5sZW5ndGggPT0gbnVtd29yZHMgKiAzMiArIDQpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIG9ubHlQYXlsb2FkU2l6ZSgyKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwogICAgICAgIHJlcXVpcmUodHJhbnNmZXJzRW5hYmxlZCk7CgogICAgICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgICAqLwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9Cgp9CgoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBpbnRlcm5hbCBhbGxvd2VkOwoKICAgIC8qKgogICAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgb25seVBheWxvYWRTaXplKDMpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1tfZnJvbV0pOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsKICAgICAgICByZXF1aXJlKHRyYW5zZmVyc0VuYWJsZWQpOwoKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICAgKgogICAgICogQmV3YXJlIHRoYXQgY2hhbmdpbmcgYW4gYWxsb3dhbmNlIHdpdGggdGhpcyBtZXRob2QgYnJpbmdzIHRoZSByaXNrIHRoYXQgc29tZW9uZSBtYXkgdXNlIGJvdGggdGhlIG9sZAogICAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAgICogcmFjZSBjb25kaXRpb24gaXMgdG8gZmlyc3QgcmVkdWNlIHRoZSBzcGVuZGVyJ3MgYWxsb3dhbmNlIHRvIDAgYW5kIHNldCB0aGUgZGVzaXJlZCB2YWx1ZSBhZnRlcndhcmRzOgogICAgICogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZnlpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgICAqLwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgb25seVBheWxvYWRTaXplKDIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgLyoqCiAgICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKICAgICAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsCiAgICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICAgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAogICAgICovCiAgICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgICAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgICAgIH0KICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKfQoKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIGV2ZW50IE93bmVyQ2hhbmdlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCiAgICAvKioKICAgICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAgICogYWNjb3VudC4KICAgICAqLwogICAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICB9CgoKICAgIC8qKgogICAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAgICovCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKCiAgICAvKioKICAgICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICAgKiBAcGFyYW0gX25ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgICAqLwogICAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIG9ubHlPd25lciBpbnRlcm5hbCB7CiAgICAgICAgcmVxdWlyZShfbmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgT3duZXJDaGFuZ2VkKG93bmVyLCBfbmV3T3duZXIpOwogICAgICAgIG93bmVyID0gX25ld093bmVyOwogICAgfQoKfQoKCi8qKgogKiBAdGl0bGUgTWludGFibGUgdG9rZW4KICogQGRldiBTaW1wbGUgRVJDMjAgVG9rZW4gZXhhbXBsZSwgd2l0aCBtaW50YWJsZSB0b2tlbiBjcmVhdGlvbgogKiBAZGV2IElzc3VlOiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvaXNzdWVzLzEyMAogKiBCYXNlZCBvbiBjb2RlIGJ5IFRva2VuTWFya2V0TmV0OiBodHRwczovL2dpdGh1Yi5jb20vVG9rZW5NYXJrZXROZXQvaWNvL2Jsb2IvbWFzdGVyL2NvbnRyYWN0cy9NaW50YWJsZVRva2VuLnNvbAogKi8KCmNvbnRyYWN0IE1pbnRhYmxlVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgT3duYWJsZSB7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiQ0NvaW4iOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiQ0NOIjsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwoKICAgIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CiAgICBldmVudCBNaW50RmluaXNoZWQoKTsKCiAgICBib29sIHB1YmxpYyBtaW50aW5nRmluaXNoZWQ7CgogICAgbW9kaWZpZXIgY2FuTWludCgpIHsKICAgICAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEZ1bmN0aW9uIHRvIG1pbnQgdG9rZW5zCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRoYXQgd2lsbCByZWNlaXZlIHRoZSBtaW50ZWQgdG9rZW5zLgogICAgICogQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gbWludC4KICAgICAqIEByZXR1cm4gQSBib29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICAgKi8KICAgIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCwgYWRkcmVzcyBfb3duZXIpIGNhbk1pbnQgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfb3duZXJdID0gYmFsYW5jZXNbX293bmVyXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgTWludChfdG8sIF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKF9vd25lciwgX3RvLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgRnVuY3Rpb24gdG8gc3RvcCBtaW50aW5nIG5ldyB0b2tlbnMuCiAgICAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgICAqLwogICAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIG9ubHlPd25lciBjYW5NaW50IGludGVybmFsIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBtaW50aW5nRmluaXNoZWQgPSB0cnVlOwogICAgICAgIE1pbnRGaW5pc2hlZCgpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogUGV0ZXJzb24ncyBMYXcgUHJvdGVjdGlvbgogICAgICogQ2xhaW0gdG9rZW5zCiAgICAgKi8KICAgIGZ1bmN0aW9uIGNsYWltVG9rZW5zKGFkZHJlc3MgX3Rva2VuKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICAvL2Z1bmN0aW9uIGNsYWltVG9rZW5zKGFkZHJlc3MgX3Rva2VuKSBwdWJsaWMgeyAgLy9mb3IgdGVzdAogICAgICAgIGlmIChfdG9rZW4gPT0gMHgwKSB7CiAgICAgICAgICAgIG93bmVyLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgTWludGFibGVUb2tlbiB0b2tlbiA9IE1pbnRhYmxlVG9rZW4oX3Rva2VuKTsKICAgICAgICB1aW50MjU2IGJhbGFuY2UgPSB0b2tlbi5iYWxhbmNlT2YodGhpcyk7CiAgICAgICAgdG9rZW4udHJhbnNmZXIob3duZXIsIGJhbGFuY2UpOwogICAgICAgIFRyYW5zZmVyKF90b2tlbiwgb3duZXIsIGJhbGFuY2UpOwogICAgfQp9CgoKLyoqCiAqIEB0aXRsZSBDcm93ZHNhbGUKICogQGRldiBDcm93ZHNhbGUgaXMgYSBiYXNlIGNvbnRyYWN0IGZvciBtYW5hZ2luZyBhIHRva2VuIGNyb3dkc2FsZS4KICogQ3Jvd2RzYWxlcyBoYXZlIGEgc3RhcnQgYW5kIGVuZCB0aW1lc3RhbXBzLCB3aGVyZSBpbnZlc3RvcnMgY2FuIG1ha2UKICogdG9rZW4gcHVyY2hhc2VzLiBGdW5kcyBjb2xsZWN0ZWQgYXJlIGZvcndhcmRlZCB0byBhIHdhbGxldAogKiBhcyB0aGV5IGFycml2ZS4KICovCmNvbnRyYWN0IENyb3dkc2FsZSBpcyBPd25hYmxlIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogICAgLy8gYWRkcmVzcyB3aGVyZSBmdW5kcyBhcmUgY29sbGVjdGVkCiAgICBhZGRyZXNzIHB1YmxpYyB3YWxsZXQ7CgogICAgLy8gYW1vdW50IG9mIHJhaXNlZCBtb25leSBpbiB3ZWkKICAgIHVpbnQyNTYgcHVibGljIHdlaVJhaXNlZDsKICAgIHVpbnQyNTYgcHVibGljIHRva2VuQWxsb2NhdGVkOwoKICAgIGZ1bmN0aW9uIENyb3dkc2FsZSgKICAgICAgICBhZGRyZXNzIF93YWxsZXQKICAgICkKICAgIHB1YmxpYwogICAgewogICAgICAgIHJlcXVpcmUoX3dhbGxldCAhPSBhZGRyZXNzKDApKTsKICAgICAgICB3YWxsZXQgPSBfd2FsbGV0OwogICAgfQp9CgoKY29udHJhY3QgQ0NOQ3Jvd2RzYWxlIGlzIE93bmFibGUsIENyb3dkc2FsZSwgTWludGFibGVUb2tlbiB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICAvLyQwLjI1ID0gMSB0b2tlbiA9PiAkIDEsMDAwID0gMi41MDI4NzIwNDU2NyBFVEggPT4KICAgIC8vNCwwMDAgdG9rZW4gPSAyLjUwMjg3MjA0NTY3IEVUSCA9PiAxIEVUSCA9IDQsMDAwLzIuMDg4ODExMDYgPSAxOTE1CiAgICB1aW50MjU2IHB1YmxpYyByYXRlICA9IDE5MTU7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgZGVwb3NpdGVkOwogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyB3aGl0ZWxpc3Q7CgogICAgLy8gTGlzdCBvZiBhZG1pbnMKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGNvbnRyYWN0QWRtaW5zOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBhcHByb3ZlQWRtaW47CgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgSU5JVElBTF9TVVBQTFkgPSA5MCAqICgxMCAqKiA2KSAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSk7CiAgICB1aW50MjU2IHB1YmxpYyBmdW5kRm9yU2FsZSA9IDgxICogKDEwICoqIDYpICogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKTsKICAgIHVpbnQyNTYgcHVibGljIGZ1bmRGb3JUZWFtID0gIDkgKiAoMTAgKiogNikgKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpOwogICAgdWludDI1NiBwdWJsaWMgZnVuZFByZUljbyA9IDI3ICogKDEwICoqIDYpICogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKTsKICAgIHVpbnQyNTYgcHVibGljIGZ1bmRJY28gPSA1NCAqICgxMCAqKiA2KSAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSk7CiAgICBhZGRyZXNzW10gcHVibGljIGFkbWlucyA9IFsgMHgyZkRFNjNjRTkwRkIwMEM1MWYxM2I0MDFiMkM5MTBEOTBjOTJBM2U2LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NTg1NkZDRGJEMjkwMUU4YzdkMzhBQzdlYjA3NTZGN0IzNjY5ZUM2NywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDRjMTMxMEI1ODE3Yjc0NzIyQ2FkZTRFZTMzYmFDODNBREI5MUVhYmNdOwoKCiAgICB1aW50MjU2IHB1YmxpYyBjb3VudEludmVzdG9yOwoKICAgIGV2ZW50IFRva2VuUHVyY2hhc2UoYWRkcmVzcyBpbmRleGVkIGJlbmVmaWNpYXJ5LCB1aW50MjU2IHZhbHVlLCB1aW50MjU2IGFtb3VudCk7CiAgICBldmVudCBUb2tlbkxpbWl0UmVhY2hlZCh1aW50MjU2IHRva2VuUmFpc2VkLCB1aW50MjU2IHB1cmNoYXNlZFRva2VuKTsKCgogICAgZnVuY3Rpb24gQ0NOQ3Jvd2RzYWxlICgKICAgICAgICBhZGRyZXNzIF9vd25lcgogICAgKQogICAgcHVibGljCiAgICBDcm93ZHNhbGUoX293bmVyKQogICAgewogICAgICAgIHJlcXVpcmUoX293bmVyICE9IGFkZHJlc3MoMCkpOwogICAgICAgIG93bmVyID0gX293bmVyOwogICAgICAgIC8vb3duZXIgPSBtc2cuc2VuZGVyOyAvL2ZvciB0ZXN0J3MKICAgICAgICB0cmFuc2ZlcnNFbmFibGVkID0gdHJ1ZTsKICAgICAgICBtaW50aW5nRmluaXNoZWQgPSBmYWxzZTsKICAgICAgICB0b3RhbFN1cHBseSA9IElOSVRJQUxfU1VQUExZOwogICAgICAgIGJvb2wgcmVzdWx0TWludEZvck93bmVyID0gbWludEZvck93bmVyKG93bmVyKTsKICAgICAgICByZXF1aXJlKHJlc3VsdE1pbnRGb3JPd25lcik7CiAgICAgICAgZm9yKHVpbnQgaSA9IDA7IGkgPCAzOyBpKyspIHsKICAgICAgICAgICAgY29udHJhY3RBZG1pbnNbYWRtaW5zW2ldXSA9IHRydWU7CiAgICAgICAgfQogICAgfQoKICAgIC8vIGZhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGJ1eSB0b2tlbnMKICAgIGZ1bmN0aW9uKCkgcGF5YWJsZSBwdWJsaWMgewogICAgICAgYnV5VG9rZW5zKG1zZy5zZW5kZXIpOwogICAgfQoKICAgIC8vIGxvdyBsZXZlbCB0b2tlbiBwdXJjaGFzZSBmdW5jdGlvbgogICAgZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgX2ludmVzdG9yKSBwdWJsaWMgb25seVdoaXRlbGlzdCBwYXlhYmxlIHJldHVybnMgKHVpbnQyNTYpewogICAgICAgICByZXF1aXJlKF9pbnZlc3RvciAhPSBhZGRyZXNzKDApKTsKICAgICAgICAgdWludDI1NiB3ZWlBbW91bnQgPSBtc2cudmFsdWU7CiAgICAgICAgIHVpbnQyNTYgdG9rZW5zID0gdmFsaWRQdXJjaGFzZVRva2Vucyh3ZWlBbW91bnQpOwogICAgICAgICBpZiAodG9rZW5zID09IDApIHtyZXZlcnQoKTt9CiAgICAgICAgIHdlaVJhaXNlZCA9IHdlaVJhaXNlZC5hZGQod2VpQW1vdW50KTsKICAgICAgICAgdG9rZW5BbGxvY2F0ZWQgPSB0b2tlbkFsbG9jYXRlZC5hZGQodG9rZW5zKTsKICAgICAgICAgbWludChfaW52ZXN0b3IsIHRva2Vucywgb3duZXIpOwoKICAgICAgICAgVG9rZW5QdXJjaGFzZShfaW52ZXN0b3IsIHdlaUFtb3VudCwgdG9rZW5zKTsKICAgICAgICAgaWYgKGRlcG9zaXRlZFtfaW52ZXN0b3JdID09IDApIHsKICAgICAgICAgICAgY291bnRJbnZlc3RvciA9IGNvdW50SW52ZXN0b3IuYWRkKDEpOwogICAgICAgICB9CiAgICAgICAgIGRlcG9zaXQoX2ludmVzdG9yKTsKICAgICAgICAgd2FsbGV0LnRyYW5zZmVyKHdlaUFtb3VudCk7CiAgICAgICAgIHJldHVybiB0b2tlbnM7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0VG90YWxBbW91bnRPZlRva2Vucyh1aW50MjU2IF93ZWlBbW91bnQpIGludGVybmFsIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgICAgICB1aW50MjU2IGN1cnJlbnREYXRlID0gbm93OwogICAgICAgICAvL2N1cnJlbnREYXRlID0gMTUyNzM3OTIwMDsgLy9mb3IgdGVzdCdzCiAgICAgICAgIHVpbnQyNTYgY3VycmVudFBlcmlvZCA9IGdldFBlcmlvZChjdXJyZW50RGF0ZSk7CiAgICAgICAgIHVpbnQyNTYgYW1vdW50T2ZUb2tlbnMgPSAwOwogICAgICAgICB1aW50MjU2IGNoZWNrQW1vdW50ID0gMDsKICAgICAgICAgaWYoY3VycmVudFBlcmlvZCA8IDMpewogICAgICAgICAgICAgaWYod2hpdGVsaXN0W21zZy5zZW5kZXJdKXsKICAgICAgICAgICAgICAgICBhbW91bnRPZlRva2VucyA9IF93ZWlBbW91bnQubXVsKHJhdGUpOwogICAgICAgICAgICAgICAgIHJldHVybiBhbW91bnRPZlRva2VuczsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgIGFtb3VudE9mVG9rZW5zID0gX3dlaUFtb3VudC5tdWwocmF0ZSk7CiAgICAgICAgICAgICBjaGVja0Ftb3VudCA9IHRva2VuQWxsb2NhdGVkLmFkZChhbW91bnRPZlRva2Vucyk7CiAgICAgICAgICAgICBpZiAoY3VycmVudFBlcmlvZCA9PSAwKSB7CiAgICAgICAgICAgICAgICAgaWYgKGNoZWNrQW1vdW50ID4gZnVuZFByZUljbyl7CiAgICAgICAgICAgICAgICAgICAgIGFtb3VudE9mVG9rZW5zID0gMDsKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICBpZiAoY3VycmVudFBlcmlvZCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgaWYgKGNoZWNrQW1vdW50ID4gZnVuZEljbyl7CiAgICAgICAgICAgICAgICAgICAgYW1vdW50T2ZUb2tlbnMgPSAwOwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgIH0KICAgICAgICAgfQogICAgICAgICByZXR1cm4gYW1vdW50T2ZUb2tlbnM7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UGVyaW9kKHVpbnQyNTYgX2N1cnJlbnREYXRlKSBwdWJsaWMgcHVyZSByZXR1cm5zICh1aW50KSB7CiAgICAgICAgLy8xNTI1NzM3NjAwIC0gTWF5LCAwOCwgMjAxOCAwMDowMDowMCAmJiAxNTI3Mzc5MTk5IC0gTWF5LCAyNiwgMjAxOCAyMzo1OTo1OQogICAgICAgIC8vMTUyNzM3OTIwMCAtIE1heSwgMjcsIDIwMTggMDA6MDA6MDAgJiYgMTUzMDE0Mzk5OSAtIEp1biwgMjcsIDIwMTggMjM6NTk6NTkKICAgICAgICAvLzE1MzA0ODk2MDAgLSBKdWwsIDAyLCAyMDE4IDAwOjAwOjAwCgogICAgICAgIGlmKCAxNTI1NzM3NjAwIDw9IF9jdXJyZW50RGF0ZSAmJiBfY3VycmVudERhdGUgPD0gMTUyNzM3OTE5OSl7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgICAgICBpZiggMTUyNzM3OTIwMCA8PSBfY3VycmVudERhdGUgJiYgX2N1cnJlbnREYXRlIDw9IDE1MzAxNDM5OTkpewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9CiAgICAgICAgaWYoIDE1MzA0ODk2MDAgPD0gX2N1cnJlbnREYXRlKXsKICAgICAgICAgICByZXR1cm4gMjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIDEwOwogICAgfQoKICAgIGZ1bmN0aW9uIGRlcG9zaXQoYWRkcmVzcyBpbnZlc3RvcikgaW50ZXJuYWwgewogICAgICAgIGRlcG9zaXRlZFtpbnZlc3Rvcl0gPSBkZXBvc2l0ZWRbaW52ZXN0b3JdLmFkZChtc2cudmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbnRGb3JPd25lcihhZGRyZXNzIF93YWxsZXQpIGludGVybmFsIHJldHVybnMgKGJvb2wgcmVzdWx0KSB7CiAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgICAgcmVxdWlyZShfd2FsbGV0ICE9IGFkZHJlc3MoMCkpOwogICAgICAgIGJhbGFuY2VzW193YWxsZXRdID0gYmFsYW5jZXNbX3dhbGxldF0uYWRkKElOSVRJQUxfU1VQUExZKTsKICAgICAgICByZXN1bHQgPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldERlcG9zaXRlZChhZGRyZXNzIF9pbnZlc3RvcikgZXh0ZXJuYWwgdmlldyByZXR1cm5zICh1aW50MjU2KXsKICAgICAgICByZXR1cm4gZGVwb3NpdGVkW19pbnZlc3Rvcl07CiAgICB9CgogICAgZnVuY3Rpb24gdmFsaWRQdXJjaGFzZVRva2Vucyh1aW50MjU2IF93ZWlBbW91bnQpIHB1YmxpYyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBhZGRUb2tlbnMgPSBnZXRUb3RhbEFtb3VudE9mVG9rZW5zKF93ZWlBbW91bnQpOwogICAgICAgIGlmICh0b2tlbkFsbG9jYXRlZC5hZGQoYWRkVG9rZW5zKSA+IGZ1bmRGb3JTYWxlKSB7CiAgICAgICAgICAgIFRva2VuTGltaXRSZWFjaGVkKHRva2VuQWxsb2NhdGVkLCBhZGRUb2tlbnMpOwogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFkZFRva2VuczsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRSYXRlKHVpbnQyNTYgX25ld1JhdGUpIHB1YmxpYyBhcHByb3ZlQWxsQWRtaW4gcmV0dXJucyAoYm9vbCl7CiAgICAgICAgcmVxdWlyZShfbmV3UmF0ZSA+IDApOwogICAgICAgIHJhdGUgPSBfbmV3UmF0ZTsKICAgICAgICByZW1vdmVBbGxBcHByb3ZlKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgQWRkIGFuIGNvbnRyYWN0IGFkbWluCiAgICAqLwogICAgZnVuY3Rpb24gc2V0Q29udHJhY3RBZG1pbihhZGRyZXNzIF9hZG1pbiwgYm9vbCBfaXNBZG1pbiwgdWludCBfaW5kZXgpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShfYWRtaW4gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZSgwIDw9IF9pbmRleCAmJiBfaW5kZXggPCAzKTsKICAgICAgICBjb250cmFjdEFkbWluc1tfYWRtaW5dID0gX2lzQWRtaW47CiAgICAgICAgaWYoX2lzQWRtaW4pewogICAgICAgICAgICBhZG1pbnNbX2luZGV4XSA9IF9hZG1pbjsKICAgICAgICB9CiAgICB9CgogICAgbW9kaWZpZXIgYXBwcm92ZUFsbEFkbWluKCkgewogICAgICAgIGJvb2wgcmVzdWx0ID0gdHJ1ZTsKICAgICAgICBmb3IodWludCBpID0gMDsgaSA8IDM7IGkrKykgewogICAgICAgICAgICBpZiAoYXBwcm92ZUFkbWluW2FkbWluc1tpXV0gPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJlcXVpcmUocmVzdWx0ID09IHRydWUpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlQWxsQXBwcm92ZSgpIHB1YmxpYyBhcHByb3ZlQWxsQWRtaW4gewogICAgICAgIGZvcih1aW50IGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgICAgICAgIGFwcHJvdmVBZG1pblthZG1pbnNbaV1dID0gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHNldEFwcHJvdmUoYm9vbCBfaXNBcHByb3ZlKSBleHRlcm5hbCBvbmx5T3duZXJPckFueUFkbWluIHsKICAgICAgICBhcHByb3ZlQWRtaW5bbXNnLnNlbmRlcl0gPSBfaXNBcHByb3ZlOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IEFkZHMgc2luZ2xlIGFkZHJlc3MgdG8gd2hpdGVsaXN0LgogICAgKiBAcGFyYW0gX2JlbmVmaWNpYXJ5IEFkZHJlc3MgdG8gYmUgYWRkZWQgdG8gdGhlIHdoaXRlbGlzdAogICAgKi8KICAgIGZ1bmN0aW9uIGFkZFRvV2hpdGVsaXN0KGFkZHJlc3MgX2JlbmVmaWNpYXJ5KSBleHRlcm5hbCBvbmx5T3duZXJPckFueUFkbWluIHsKICAgICAgICB3aGl0ZWxpc3RbX2JlbmVmaWNpYXJ5XSA9IHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEFkZHMgbGlzdCBvZiBhZGRyZXNzZXMgdG8gd2hpdGVsaXN0LiBOb3Qgb3ZlcmxvYWRlZCBkdWUgdG8gbGltaXRhdGlvbnMgd2l0aCB0cnVmZmxlIHRlc3RpbmcuCiAgICAgKiBAcGFyYW0gX2JlbmVmaWNpYXJpZXMgQWRkcmVzc2VzIHRvIGJlIGFkZGVkIHRvIHRoZSB3aGl0ZWxpc3QKICAgICAqLwogICAgZnVuY3Rpb24gYWRkTWFueVRvV2hpdGVsaXN0KGFkZHJlc3NbXSBfYmVuZWZpY2lhcmllcykgZXh0ZXJuYWwgb25seU93bmVyT3JBbnlBZG1pbiB7CiAgICAgICAgcmVxdWlyZShfYmVuZWZpY2lhcmllcy5sZW5ndGggPCAxMDEpOwogICAgICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IF9iZW5lZmljaWFyaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHdoaXRlbGlzdFtfYmVuZWZpY2lhcmllc1tpXV0gPSB0cnVlOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgUmVtb3ZlcyBzaW5nbGUgYWRkcmVzcyBmcm9tIHdoaXRlbGlzdC4KICAgICAqIEBwYXJhbSBfYmVuZWZpY2lhcnkgQWRkcmVzcyB0byBiZSByZW1vdmVkIHRvIHRoZSB3aGl0ZWxpc3QKICAgICAqLwogICAgZnVuY3Rpb24gcmVtb3ZlRnJvbVdoaXRlbGlzdChhZGRyZXNzIF9iZW5lZmljaWFyeSkgZXh0ZXJuYWwgb25seU93bmVyT3JBbnlBZG1pbiB7CiAgICAgICAgd2hpdGVsaXN0W19iZW5lZmljaWFyeV0gPSBmYWxzZTsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5T3duZXJPckFueUFkbWluKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lciB8fCBjb250cmFjdEFkbWluc1ttc2cuc2VuZGVyXSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5V2hpdGVsaXN0KCkgewogICAgICAgIHJlcXVpcmUod2hpdGVsaXN0W21zZy5zZW5kZXJdKTsKICAgICAgICBfOwogICAgfQoKfQ=='.
	

]
