Class {
	#name : #SRT53926a4b6331128d77c6d73f4a7e5466af63baa6,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT53926a4b6331128d77c6d73f4a7e5466af63baa6 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CiAgCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBQYXVzYWJsZQogKiBAZGV2IEJhc2UgY29udHJhY3Qgd2hpY2ggYWxsb3dzIGNoaWxkcmVuIHRvIGltcGxlbWVudCBhbiBlbWVyZ2VuY3kgc3RvcCBtZWNoYW5pc20uCiAqLwpjb250cmFjdCBQYXVzYWJsZSBpcyBPd25hYmxlIHsKICBldmVudCBQYXVzZSgpOwogIGV2ZW50IFVucGF1c2UoKTsKCiAgYm9vbCBwdWJsaWMgcGF1c2VkID0gZmFsc2U7CgoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRvIG1ha2UgYSBmdW5jdGlvbiBjYWxsYWJsZSBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IGlzIG5vdCBwYXVzZWQuCiAgICovCiAgbW9kaWZpZXIgd2hlbk5vdFBhdXNlZCgpIHsKICAgIHJlcXVpcmUoIXBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBNb2RpZmllciB0byBtYWtlIGEgZnVuY3Rpb24gY2FsbGFibGUgb25seSB3aGVuIHRoZSBjb250cmFjdCBpcyBwYXVzZWQuCiAgICovCiAgbW9kaWZpZXIgd2hlblBhdXNlZCgpIHsKICAgIHJlcXVpcmUocGF1c2VkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gcGF1c2UsIHRyaWdnZXJzIHN0b3BwZWQgc3RhdGUKICAgKi8KICBmdW5jdGlvbiBwYXVzZSgpIG9ubHlPd25lciB3aGVuTm90UGF1c2VkIHB1YmxpYyB7CiAgICBwYXVzZWQgPSB0cnVlOwogICAgUGF1c2UoKTsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byB1bnBhdXNlLCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHVucGF1c2UoKSBvbmx5T3duZXIgd2hlblBhdXNlZCBwdWJsaWMgewogICAgcGF1c2VkID0gZmFsc2U7CiAgICBVbnBhdXNlKCk7CiAgfQp9Ci8qKgogKiBAdGl0bGUgRGVzdHJ1Y3RpYmxlCiAqIEBkZXYgQmFzZSBjb250cmFjdCB0aGF0IGNhbiBiZSBkZXN0cm95ZWQgYnkgb3duZXIuIEFsbCBmdW5kcyBpbiBjb250cmFjdCB3aWxsIGJlIHNlbnQgdG8gdGhlIG93bmVyLgogKi8KY29udHJhY3QgRGVzdHJ1Y3RpYmxlIGlzIE93bmFibGUgewoKICBmdW5jdGlvbiBEZXN0cnVjdGlibGUoKSBwdWJsaWMgcGF5YWJsZSB7IH0KCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlcnMgdGhlIGN1cnJlbnQgYmFsYW5jZSB0byB0aGUgb3duZXIgYW5kIHRlcm1pbmF0ZXMgdGhlIGNvbnRyYWN0LgogICAqLwogIGZ1bmN0aW9uIGRlc3Ryb3koKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHNlbGZkZXN0cnVjdChvd25lcik7CiAgfQoKICBmdW5jdGlvbiBkZXN0cm95QW5kU2VuZChhZGRyZXNzIF9yZWNpcGllbnQpIG9ubHlPd25lciBwdWJsaWMgewogICAgc2VsZmRlc3RydWN0KF9yZWNpcGllbnQpOwogIH0KfQoKCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMsIFBhdXNhYmxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICB1aW50MjU2IHB1YmxpYyBldGhlclJhaXNlZDsKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgYWRkcmVzcyBjb21wYW55UmVzZXJ2ZTsKICB1aW50MjU2IGRlcGxveVRpbWU7CiAgbW9kaWZpZXIgaXNVc2VyQWJsZVRvVHJhbnNmZXJDaGVjayh1aW50MjU2IF92YWx1ZSkgewogIGlmKG1zZy5zZW5kZXIgPT0gY29tcGFueVJlc2VydmUpewogICAgICAgICAgdWludDI1NiBiYWxhbmNlUmVtYWluaW5nID0gYmFsYW5jZU9mKGNvbXBhbnlSZXNlcnZlKTsKICAgICAgICAgIHVpbnQyNTYgdGltZURpZmYgPSBub3cgLSBkZXBsb3lUaW1lOwogICAgICAgICAgdWludDI1NiB0b3RhbE1vbnRocyA9IHRpbWVEaWZmIC8gMzAgZGF5czsKICAgICAgICAgIGlmKHRvdGFsTW9udGhzID09IDApewogICAgICAgICAgICAgIHRvdGFsTW9udGhzICA9IDE7CiAgICAgICAgICB9CiAgICAgICAgICB1aW50MjU2IHBlcmNlbnRUb1dpdGRyYXcgPSB0b3RhbE1vbnRocyAqIDU7CiAgICAgICAgICB1aW50MjU2IHRva2Vuc1RvV2l0aGRyYXcgPSAoKDI1MDAwMDAwICogKDEwKioxOCkpICogcGVyY2VudFRvV2l0ZHJhdykvMTAwOwogICAgICAgICAgdWludDI1NiBzcGVudFRva2VucyA9ICgyNTAwMDAwMCAqICgxMCoqMTgpKSAtIGJhbGFuY2VSZW1haW5pbmc7CiAgICAgICAgICBpZihzcGVudFRva2VucyArIF92YWx1ZSA8PSB0b2tlbnNUb1dpdGhkcmF3KXsKICAgICAgICAgICAgICBfOwogICAgICAgICAgfQogICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICAgIH0KICAgICAgICB9ZWxzZXsKICAgICAgICAgICBfOwogICAgICAgIH0KICAgIH0KICAgIAogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljICBpc1VzZXJBYmxlVG9UcmFuc2ZlckNoZWNrKF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CgogICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAgIAogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLgogICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CmNvbnRyYWN0IEJ1cm5hYmxlVG9rZW4gaXMgQmFzaWNUb2tlbiB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBidXJuZXIsIHVpbnQyNTYgdmFsdWUpOwoKICAvKioKICAgKiBAZGV2IEJ1cm5zIGEgc3BlY2lmaWMgYW1vdW50IG9mIHRva2Vucy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgYnVybmVkLgogICAqLwogIGZ1bmN0aW9uIGJ1cm4odWludDI1NiBfdmFsdWUpIHB1YmxpYyB7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CiAgICAvLyBubyBuZWVkIHRvIHJlcXVpcmUgdmFsdWUgPD0gdG90YWxTdXBwbHksIHNpbmNlIHRoYXQgd291bGQgaW1wbHkgdGhlCiAgICAvLyBzZW5kZXIncyBiYWxhbmNlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdG90YWxTdXBwbHksIHdoaWNoICpzaG91bGQqIGJlIGFuIGFzc2VydGlvbiBmYWlsdXJlCgogICAgYWRkcmVzcyBidXJuZXIgPSBtc2cuc2VuZGVyOwogICAgYmFsYW5jZXNbYnVybmVyXSA9IGJhbGFuY2VzW2J1cm5lcl0uc3ViKF92YWx1ZSk7CiAgICB0b3RhbFN1cHBseT0gdG90YWxTdXBwbHkuc3ViKF92YWx1ZSk7CiAgICBCdXJuKGJ1cm5lciwgX3ZhbHVlKTsKICB9Cn0KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQnVybmFibGVUb2tlbiB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgaW50ZXJuYWwgYWxsb3dlZDsKCiAgCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyBpc1VzZXJBYmxlVG9UcmFuc2ZlckNoZWNrKF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1tfZnJvbV0pOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0pOwoKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQXBwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqCiAgICogQmV3YXJlIHRoYXQgY2hhbmdpbmcgYW4gYWxsb3dhbmNlIHdpdGggdGhpcyBtZXRob2QgYnJpbmdzIHRoZSByaXNrIHRoYXQgc29tZW9uZSBtYXkgdXNlIGJvdGggdGhlIG9sZAogICAqIGFuZCB0aGUgbmV3IGFsbG93YW5jZSBieSB1bmZvcnR1bmF0ZSB0cmFuc2FjdGlvbiBvcmRlcmluZy4gT25lIHBvc3NpYmxlIHNvbHV0aW9uIHRvIG1pdGlnYXRlIHRoaXMKICAgKiByYWNlIGNvbmRpdGlvbiBpcyB0byBmaXJzdCByZWR1Y2UgdGhlIHNwZW5kZXIncyBhbGxvd2FuY2UgdG8gMCBhbmQgc2V0IHRoZSBkZXNpcmVkIHZhbHVlIGFmdGVyd2FyZHM6CiAgICogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCiAgLyoqCiAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gaW5jcmVtZW50CiAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgKi8KICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfSBlbHNlIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKfQoKCmNvbnRyYWN0IFBPVEVOVElBTSBpcyBTdGFuZGFyZFRva2VuLCBEZXN0cnVjdGlibGUgewogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIlBPVEVOVElBTSI7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJQVE0iOwogICAgdWludCBwdWJsaWMgcHJpY2VPZlRva2VuPTI1MDAwMDAwMDAwMDAwMDsvLzEgZXRoID0gNDAwMCBQVE0KICAgIGFkZHJlc3NbXSBhbGxQYXJ0aWNpcGFudHM7CiAgIAogICAgdWludCB0b2tlblNhbGVzPTA7CiAgICB1aW50MjU2IHB1YmxpYyBmaXJzdFdlZWtQcmVJQ09Cb251c0VzdGltYXRlOwogICAgdWludDI1NiAgcHVibGljIHNlY29uZFdlZWtQcmVJQ09Cb251c0VzdGltYXRlOwogICAgdWludDI1NiAgcHVibGljIGZpcnN0V2Vla01haW5JQ09Cb251c0VzdGltYXRlOwogICAgdWludDI1NiBwdWJsaWMgc2Vjb25kV2Vla01haW5JQ09Cb251c0VzdGltYXRlOwogICAgdWludDI1NiBwdWJsaWMgdGhpcmRXZWVrTWFpbklDT0JvbnVzRXN0aW1hdGU7CiAgICB1aW50MjU2IHB1YmxpYyBmb3J0aFdlZWtNYWluSUNPQm9udXNFc3RpbWF0ZTsKICAgIHVpbnQyNTYgcHVibGljIGZpcnN0V2Vla1ByZUlDT0JvbnVzUmF0ZTsKICAgIHVpbnQyNTYgc2Vjb25kV2Vla1ByZUlDT0JvbnVzUmF0ZTsKICAgIHVpbnQyNTYgZmlyc3RXZWVrTWFpbklDT0JvbnVzUmF0ZTsKICAgIHVpbnQyNTYgc2Vjb25kV2Vla01haW5JQ09Cb251c1JhdGU7CiAgICB1aW50MjU2IHRoaXJkV2Vla01haW5JQ09Cb251c1JhdGU7CiAgICB1aW50MjU2IGZvcnRoV2Vla01haW5JQ09Cb251c1JhdGU7CiAgICB1aW50MjU2IHRvdGFsV2VpUmFpc2VkID0gMDsKICAgIGZ1bmN0aW9uIFBPVEVOVElBTSgpICBwdWJsaWMgewogICAgICAgdG90YWxTdXBwbHkgPSAxMDAwMDAwMDAgKiAoMTAqKmRlY2ltYWxzKTsgIC8vIAogICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgY29tcGFueVJlc2VydmUgPSAgIDB4ZDMxMWNCN0Q5NjFCNDY0MjhkNzY2ZGYwZWFFN0ZFODNGYzhCN0I1YzsKICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IDc1MDAwMDAwICogKDEwICoqZGVjaW1hbHMpOwogICAgICAgYmFsYW5jZXNbY29tcGFueVJlc2VydmVdICArPSAyNTAwMDAwMCAqICgxMCoqZGVjaW1hbHMpOwogICAgICAgZmlyc3RXZWVrUHJlSUNPQm9udXNFc3RpbWF0ZSA9IG5vdyArIDcgZGF5czsKICAgICAgIGRlcGxveVRpbWUgPSBmaXJzdFdlZWtQcmVJQ09Cb251c0VzdGltYXRlOwogICAgICAgc2Vjb25kV2Vla1ByZUlDT0JvbnVzRXN0aW1hdGUgPSBmaXJzdFdlZWtQcmVJQ09Cb251c0VzdGltYXRlICsgNyBkYXlzOwogICAgICAgZmlyc3RXZWVrTWFpbklDT0JvbnVzRXN0aW1hdGUgPSBmaXJzdFdlZWtQcmVJQ09Cb251c0VzdGltYXRlICsgMTQgZGF5czsKICAgICAgIHNlY29uZFdlZWtNYWluSUNPQm9udXNFc3RpbWF0ZSA9IGZpcnN0V2Vla1ByZUlDT0JvbnVzRXN0aW1hdGUgKyAyMSBkYXlzOwogICAgICAgdGhpcmRXZWVrTWFpbklDT0JvbnVzRXN0aW1hdGUgPSBmaXJzdFdlZWtQcmVJQ09Cb251c0VzdGltYXRlICsgMjggZGF5czsKICAgICAgIGZvcnRoV2Vla01haW5JQ09Cb251c0VzdGltYXRlID0gZmlyc3RXZWVrUHJlSUNPQm9udXNFc3RpbWF0ZSArIDM1IGRheXM7CiAgICAgICBmaXJzdFdlZWtQcmVJQ09Cb251c1JhdGUgPSAyMDsKICAgICAgIHNlY29uZFdlZWtQcmVJQ09Cb251c1JhdGUgPSAxODsKICAgICAgIGZpcnN0V2Vla01haW5JQ09Cb251c1JhdGUgPSAxMjsKICAgICAgIHNlY29uZFdlZWtNYWluSUNPQm9udXNSYXRlID0gODsKICAgICAgIHRoaXJkV2Vla01haW5JQ09Cb251c1JhdGUgPSA0OwogICAgICAgZm9ydGhXZWVrTWFpbklDT0JvbnVzUmF0ZSA9IDA7CiAgICB9CgogICAgZnVuY3Rpb24oKSAgcHVibGljIHdoZW5Ob3RQYXVzZWQgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWU+MCk7CiAgICAgICAgcmVxdWlyZShub3c8PWZvcnRoV2Vla01haW5JQ09Cb251c0VzdGltYXRlKTsKICAgICAgICByZXF1aXJlKHRva2VuU2FsZXMgPCAoNjAwMDAwMDAgKiAoMTAgKipkZWNpbWFscykpKTsKICAgICAgICB1aW50MjU2IGJvbnVzID0gMDsKICAgICAgICBpZihub3c8PWZpcnN0V2Vla1ByZUlDT0JvbnVzRXN0aW1hdGUgJiYgdG90YWxXZWlSYWlzZWQgPCA1MDAwIGV0aGVyKXsKICAgICAgICAgICAgYm9udXMgPSBmaXJzdFdlZWtQcmVJQ09Cb251c1JhdGU7CiAgICAgICAgfWVsc2UgaWYobm93IDw9c2Vjb25kV2Vla1ByZUlDT0JvbnVzRXN0aW1hdGUgJiYgdG90YWxXZWlSYWlzZWQgPCA2MDAwIGV0aGVyKXsKICAgICAgICAgICAgYm9udXMgPSBzZWNvbmRXZWVrUHJlSUNPQm9udXNSYXRlOwogICAgICAgIH1lbHNlIGlmKG5vdzw9Zmlyc3RXZWVrTWFpbklDT0JvbnVzRXN0aW1hdGUgJiYgdG90YWxXZWlSYWlzZWQgPCA5MDAwIGV0aGVyKXsKICAgICAgICAgICAgYm9udXMgPSBmaXJzdFdlZWtNYWluSUNPQm9udXNSYXRlOwogICAgICAgIH1lbHNlIGlmKG5vdzw9c2Vjb25kV2Vla01haW5JQ09Cb251c0VzdGltYXRlICYmIHRvdGFsV2VpUmFpc2VkIDwgMTIwMDAgZXRoZXIpewogICAgICAgICAgICBib251cyA9IHNlY29uZFdlZWtNYWluSUNPQm9udXNSYXRlOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmKG5vdzw9dGhpcmRXZWVrTWFpbklDT0JvbnVzRXN0aW1hdGUgJiYgdG90YWxXZWlSYWlzZWQgPDE0MDAwIGV0aGVyKXsKICAgICAgICAgICAgYm9udXMgPSB0aGlyZFdlZWtNYWluSUNPQm9udXNSYXRlOwogICAgICAgIH0KICAgICAgICB1aW50MjU2IHRva2VucyA9IChtc2cudmFsdWUgKiAoMTAgKiogZGVjaW1hbHMpKSAvIHByaWNlT2ZUb2tlbjsKICAgICAgICB1aW50MjU2IGJvbnVzVG9rZW5zID0gKCh0b2tlbnMgKiBib251cykgLzEwMCk7IAogICAgICAgIHRva2VucyArPWJvbnVzVG9rZW5zOwogICAgICAgICAgaWYoYmFsYW5jZXNbb3duZXJdIDx0b2tlbnMpIC8vY2hlY2sgZXRpaGVyIG93bmVyIGNhbiBoYXZlIHRva2VuIG90aGVyd2lzZSByZWplY3QgdHJhbnNhY3Rpb24gYW5kIGV0aGVyCiAgICAgICAgewogICAgICAgICAgIHJldmVydCgpOwogICAgICAgIH0KICAgICAgICBhbGxvd2VkW293bmVyXVttc2cuc2VuZGVyXSArPSB0b2tlbnM7CiAgICAgICAgYm9vbCB0cmFuc2ZlclJlcz10cmFuc2ZlckZyb20ob3duZXIsIG1zZy5zZW5kZXIsIHRva2Vucyk7CiAgICAgICAgaWYgKCF0cmFuc2ZlclJlcykgewogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgICAgdG9rZW5TYWxlcyArPSB0b2tlbnM7CiAgICAgICAgICAgIGV0aGVyUmFpc2VkICs9IG1zZy52YWx1ZTsKICAgICAgICAgICAgdG90YWxXZWlSYWlzZWQgKz1tc2cudmFsdWU7CiAgICAgICAgfQogICAgfS8vZW5kIG9mIGZhbGxiYWNrCiAgICAvKioKICAgICogVHJhbnNmZXIgZW50aXJlIGJhbGFuY2UgdG8gYW55IGFjY291bnQgKGJ5IG93bmVyIGFuZCBhZG1pbiBvbmx5KQogICAgKiovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZ1bmRUb0FjY291bnQoYWRkcmVzcyBfYWNjb3VudEJ5T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoZXRoZXJSYWlzZWQgPiAwKTsKICAgICAgICBfYWNjb3VudEJ5T3duZXIudHJhbnNmZXIoZXRoZXJSYWlzZWQpOwogICAgICAgIGV0aGVyUmFpc2VkID0gMDsKICAgIH0KCiAgICBmdW5jdGlvbiByZXNldFRva2VuT2ZBZGRyZXNzKGFkZHJlc3MgX3VzZXJBZGRyLCB1aW50MjU2IF90b2tlbnMpIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAodWludDI1Nil7CiAgICAgICByZXF1aXJlKF91c2VyQWRkciAhPTApOyAKICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mKF91c2VyQWRkcik+PV90b2tlbnMpOwogICAgICAgIGJhbGFuY2VzW191c2VyQWRkcl0gPSBiYWxhbmNlc1tfdXNlckFkZHJdLnN1YihfdG9rZW5zKTsKICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSBiYWxhbmNlc1tvd25lcl0uYWRkKF90b2tlbnMpOwogICAgICAgIHJldHVybiBiYWxhbmNlc1tfdXNlckFkZHJdOwogICAgfQogICAKICAgIC8qKgogICAgKiBUcmFuc2ZlciBwYXJ0IG9mIGJhbGFuY2UgdG8gYW55IGFjY291bnQgKGJ5IG93bmVyIGFuZCBhZG1pbiBvbmx5KQogICAgKiovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckxpbWl0ZWRGdW5kVG9BY2NvdW50KGFkZHJlc3MgX2FjY291bnRCeU93bmVyLCB1aW50MjU2IGJhbGFuY2VUb1RyYW5zZmVyKSBwdWJsaWMgb25seU93bmVyICAgewogICAgICAgIHJlcXVpcmUoZXRoZXJSYWlzZWQgPiBiYWxhbmNlVG9UcmFuc2Zlcik7CiAgICAgICAgX2FjY291bnRCeU93bmVyLnRyYW5zZmVyKGJhbGFuY2VUb1RyYW5zZmVyKTsKICAgICAgICBldGhlclJhaXNlZCAtPSBiYWxhbmNlVG9UcmFuc2ZlcjsKICAgIH0KICAKfQ=='.
	

]
