Class {
	#name : #SRT4f6Fe3bBEfDB17E23D6e74a33482413c961569C3,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4f6Fe3bBEfDB17E23D6e74a33482413c961569C3 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7Cgpjb250cmFjdCBvd25lZCB7CiAgICAKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgCiAgICBldmVudCBDb250cmFjdE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgbmV3T3duZXIpOwogICAgCiAgICBmdW5jdGlvbiBvd25lZCgpIHsgb3duZXIgPSBtc2cuc2VuZGVyOyB9CiAgICAKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7IAogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7IAogICAgICAgIF87IAogICAgfQogICAgCiAgICBmdW5jdGlvbiBzZXRDb250cmFjdE93bmVyKGFkZHJlc3MgbmV3T3duZXIpIGV4dGVybmFsIG9ubHlPd25lciAgewogICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICAgICAgQ29udHJhY3RPd25lcnNoaXBUcmFuc2ZlcnJlZChuZXdPd25lcik7CiAgICB9Cn0KCi8vLyBDaWxsaW9uYWlyZSBpcyBhIGxvdHRlcnkgd2hlcmUgcGVvcGxlIGNhbiBwYXJ0aWNpcGF0ZSB1bnRpbCBhIHBvdCBsaW1pdCBpcyByZWFjaGVkLiBUaGVuLCBhIHJhbmRvbSBwYXJ0aWNpcGFudCBpcyBjaG9zZW4gdG8gYmUgdGhlIHdpbm5lci4KLy8vIAovLy8gUmFuZG9tbmVzcyBpcyBhY2hpZXZlZCBieSBYT1InaW5nIHRoZSBmb2xsb3dpbmcgdHdvIG51bWJlcnM6Ci8vLyBvd25lclJhbmRvbU51bWJlciAuLi4gYSByYW5kb20gbnVtYmVyIHN1cHBsaWVkIGJ5IHRoZSBjb250cmFjdCBvd25lciBhbmQgc3VibWl0dGVkIHVwb24gYHN0YXJ0YCBhcyBhIGhhc2gsIG11Y2ggbGlrZSBhIGNvbmNlYWxlZCBiaWQgaW4gYW4gYXVjdGlvbi4KLy8vIG1pbmVyUmFuZG9tTnVtYmVyIC4uLiB0aW1lc3RhbXAgb2YgdGhlIGJsb2NrIHRoYXQgY29udGFpbnMgdGhlIGxhc3QgcGFydGljaXBhbnQncyBgcGFydGljcGF0ZWAgdHJhbnNhY3Rpb24uCi8vLyBOZWl0aGVyIGNhbiB0aGUgb3duZXIga25vdyB0aGUgbWluZXJSYW5kb21OdW1iZXIsIG5vciBjYW4gdGhlIG1pbmVyIGtub3cgdGhlIG93bmVyUmFuZG9tTnVtYmVyICh1bmxlc3MgdGhlIG93bmVyIHN1cHBsaWVzIGEgYnJlYWthYmxlIGhhc2gsIGUuaC4ga2VjY2FrMjU2KDEpKS4KLy8vCi8vLyBNYW55IHNhZmVndWFyZHMgYXJlIGluIHBsYWNlIHRvIHByZXZlbnQgbG9zcyBvZiBwYXJ0aWNpcGFudHMnIHN0YWtlcyBhbmQgZW5zdXJlIGZhaXJuZXNzOgovLy8gLSBUaGUgb3duZXIgY2FuIGBjYW5jZWxgLCBpbiB3aGljaCBjYXNlIHBhcnRpY2lwYW50cyBtdXN0IGJlIHJlZnVuZGVkLgovLy8gLSBJZiB0aGUgb3duZXIgZG9lcyBub3QgZW5kIHRoZSBnYW1lIHZpYSBgY2hvb3NlV2lubmVyYCB3aXRoaW4gMjQgaG91cnMgYWZ0ZXIgUEFSVElDSVBBVElPTiBgc3RhdGVgIGVuZGVkLCB0aGVuIGFueW9uZSBjYW4gYGNhbmNlbGAuCi8vLyAtIFRoZSBjb250cmFjdCBoYXMgbm8gYGtpbGxgIGZ1bmN0aW9uIHdoaWNoIHdvdWxkIGFsbG93IHRoZSBvd25lciB0byBydW4gb2ZmIHdpdGggdGhlIHBvdC4KLy8vIC0gR2FtZSBwYXJhbWV0ZXJzIGNhbm5vdCBiZSBjaGFuZ2VkIHdoZW4gYSBnYW1lIGlzIG9uZ29pbmcKLy8vIC0gTG9nZ2luZyBvZiByZWxldmFudCBldmVudHMgdG8gaW5jcmVhc2UgdHJhbnNwYXJlbmN5CmNvbnRyYWN0IENpbGxpb25haXJlIGlzIG93bmVkIHsKICAgIAogICAgZW51bSBTdGF0ZSB7IEVOREVELCBQQVJUSUNJUEFUSU9OLCBDSE9PU0VfV0lOTkVSLCBSRUZVTkQgfQoKICAgIC8vLyBUYXJnZXQgYW1vdW50IG9mIGV0aGVyLiBBcyBsb25nIGFzIHRoZSBgcG90VGFyZ2V0YCBpcyBub3QgcmVhY2hlZCwgcGVvcGxlIGNhbiBgcGFydGljaXBhdGVgIHdoZW4gdGhlIGNvbnRyYWN0IGlzIGluIFBBUlRJQ0lQQVRJT04gYHN0YXRlYC4KICAgIHVpbnQgcHVibGljIHBvdFRhcmdldDsKICAgIC8vLyBBbW91bnQgb2YgZXRoZXIgdGhhdCB3aWxsIGJlIHVzZWQgdG8gYHBhcnRpY2lwYXRlYC4KICAgIHVpbnQgcHVibGljIHN0YWtlOwogICAgLy8vIEFtb3VudCBvZiBldGhlciB0aGF0IHdpbGwgYmUgdGFrZW4gZnJvbSBgc3Rha2VgIGFzIGEgZmVlIGZvciB0aGUgb3duZXIuCiAgICB1aW50IHB1YmxpYyBmZWU7CiAgICAKICAgIFN0YXRlIHB1YmxpYyBzdGF0ZTsKICAgIGFkZHJlc3NbXSBwdWJsaWMgcGFydGljaXBhbnRzOwogICAgYnl0ZXMzMiBwdWJsaWMgb3duZXJSYW5kb21IYXNoOwogICAgdWludCBwdWJsaWMgbWluZXJSYW5kb21OdW1iZXI7CiAgICB1aW50IHB1YmxpYyBvd25lclJhbmRvbU51bWJlcjsKICAgIHVpbnQgcHVibGljIHBhcnRpY2lwYXRpb25FbmRUaW1lc3RhbXA7CiAgICB1aW50IHB1YmxpYyBwb3Q7CiAgICBhZGRyZXNzIHB1YmxpYyB3aW5uZXI7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBmdW5kczsKICAgIHVpbnQgcHVibGljIGZlZXM7CiAgICB1aW50IHB1YmxpYyBsYXN0UmVmdW5kZWRJbmRleDsKICAgIAogICAgZXZlbnQgU3RhdGVDaGFuZ2UoU3RhdGUgbmV3U3RhdGUpOwogICAgZXZlbnQgTmV3UGFydGljaXBhbnQoYWRkcmVzcyBwYXJ0aWNpcGFudCwgdWludCB0b3RhbCwgdWludCBzdGFrZUFmdGVyRmVlLCB1aW50IHJlZnVuZE5vdyk7CiAgICBldmVudCBNaW5lclJhbmRvbU51bWJlcih1aW50IG51bWJlcik7CiAgICBldmVudCBPd25lclJhbmRvbU51bWJlcih1aW50IG51bWJlcik7CiAgICBldmVudCBSYW5kb21OdW1iZXIodWludCByYW5kb21OdW1iZXIpOwogICAgZXZlbnQgV2lubmVySW5kZXgodWludCB3aW5uZXJJbmRleCk7CiAgICBldmVudCBXaW5uZXIoYWRkcmVzcyBfd2lubmVyLCB1aW50IGFtb3VudCk7CiAgICBldmVudCBSZWZ1bmQoYWRkcmVzcyBwYXJ0aWNpcGFudCwgdWludCBhbW91bnQpOwogICAgZXZlbnQgQ2FuY2VsbGVkKGFkZHJlc3MgY2FuY2VsbGVkQnkpOwogICAgZXZlbnQgUGFyYW1ldGVyc0NoYW5nZWQodWludCBuZXdQb3RUYXJnZXQsIHVpbnQgbmV3U3Rha2UsIHVpbnQgbmV3RmVlKTsKICAgIAogICAgbW9kaWZpZXIgb25seVN0YXRlKFN0YXRlIF9zdGF0ZSkgeyAKICAgICAgICByZXF1aXJlKHN0YXRlID09IF9zdGF0ZSk7IAogICAgICAgIF87IAogICAgfQogICAgCiAgICAvLyBUYWtlbiBmcm9tOiBodHRwczovL3NvbGlkaXR5LnJlYWR0aGVkb2NzLmlvL2VuL2RldmVsb3AvY29tbW9uLXBhdHRlcm5zLmh0bWwKICAgIC8vIFRoaXMgbW9kaWZpZXIgcmVxdWlyZXMgYSBjZXJ0YWluCiAgICAvLyBmZWUgYmVpbmcgYXNzb2NpYXRlZCB3aXRoIGEgZnVuY3Rpb24gY2FsbC4KICAgIC8vIElmIHRoZSBjYWxsZXIgc2VudCB0b28gbXVjaCwgaGUgb3Igc2hlIGlzCiAgICAvLyByZWZ1bmRlZCwgYnV0IG9ubHkgYWZ0ZXIgdGhlIGZ1bmN0aW9uIGJvZHkuCiAgICAvLyBUaGlzIHdhcyBkYW5nZXJvdXMgYmVmb3JlIFNvbGlkaXR5IHZlcnNpb24gMC40LjAsCiAgICAvLyB3aGVyZSBpdCB3YXMgcG9zc2libGUgdG8gc2tpcCB0aGUgcGFydCBhZnRlciBgXztgLgogICAgbW9kaWZpZXIgY29zdHModWludCBfYW1vdW50KSB7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPj0gX2Ftb3VudCk7CiAgICAgICAgXzsKICAgICAgICBpZiAobXNnLnZhbHVlID4gX2Ftb3VudCkgewogICAgICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKG1zZy52YWx1ZSAtIF9hbW91bnQpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gQ2lsbGlvbmFpcmUoKSB7CiAgICAgICAgc3RhdGUgPSBTdGF0ZS5FTkRFRDsKICAgICAgICBwb3RUYXJnZXQgPSAwLjEgZXRoZXI7CiAgICAgICAgc3Rha2UgPSAwLjA1IGV0aGVyOwogICAgICAgIGZlZSA9IDA7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHNldFN0YXRlKFN0YXRlIF9zdGF0ZSkgaW50ZXJuYWwgewogICAgICAgIHN0YXRlID0gX3N0YXRlOwogICAgICAgIFN0YXRlQ2hhbmdlKHN0YXRlKTsKICAgIH0KICAgIAogICAgLy8vIFN0YXJ0cyB0aGUgZ2FtZSwgaS5lLiByZXNldHMgZ2FtZSB2YXJpYWJsZXMgYW5kIHRyYW5zaXRpb25zIHRvIHN0YXRlIGBQQVJUSUNJUEFUSU9OYAogICAgLy8vIGBfb3duZXJSYW5kb21IYXNoYCBpcyB0aGUgb3duZXIncyBjb25jZWFsZWQgcmFuZG9tIG51bWJlci4gCiAgICAvLy8gSXQgbXVzdCBiZSBhIGtlY2NhazI1NiBoYXNoIHRoYXQgY2FuIGJlIHZlcmZpZWQgaW4gYGNob29zZVdpbm5lcmAuCiAgICBmdW5jdGlvbiBzdGFydChieXRlczMyIF9vd25lclJhbmRvbUhhc2gpIGV4dGVybmFsIG9ubHlPd25lciBvbmx5U3RhdGUoU3RhdGUuRU5ERUQpIHsKICAgICAgICBvd25lclJhbmRvbUhhc2ggPSBfb3duZXJSYW5kb21IYXNoOwogICAgICAgIG1pbmVyUmFuZG9tTnVtYmVyID0gMDsKICAgICAgICBvd25lclJhbmRvbU51bWJlciA9IDA7CiAgICAgICAgcGFydGljaXBhdGlvbkVuZFRpbWVzdGFtcCA9IDA7CiAgICAgICAgd2lubmVyID0gMDsKICAgICAgICBwb3QgPSAwOwogICAgICAgIGxhc3RSZWZ1bmRlZEluZGV4ID0gMDsKICAgICAgICBkZWxldGUgcGFydGljaXBhbnRzOwogICAgICAgIHNldFN0YXRlKFN0YXRlLlBBUlRJQ0lQQVRJT04pOwogICAgfQogICAgCiAgICAvLy8gUGFydGljaXBhdGUgaW4gdGhlIGdhbWUuCiAgICAvLy8gWW91IG11c3Qgc2VuZCBhdCBsZWFzdCBgc3Rha2VgIGFtb3VudCBvZiBldGhlci4gU3VycGx1cyBldGhlciBpcyByZWZ1bmRlZCBhdXRvbWF0aWNhbGx5IGFuZCBpbW1lZGlhdGVseS4KICAgIC8vLyBUaGlzIGZ1bmN0aW9uIHdpbGwgb25seSB3b3JrIHdoZW4gdGhlIGNvbnRyYWN0IGlzIGluIGBzdGF0ZWAgUEFSVElDSVBBVElPTi4KICAgIC8vLyBPbmNlIHRoZSBgcG90VGFyZ2V0YCBpcyByZWFjaGVkLCB0aGUgYHN0YXRlYCB0cmFuc2l0aW9ucyB0byBDSE9PU0VfV0lOTkVSLgogICAgZnVuY3Rpb24gcGFydGljaXBhdGUoKSBleHRlcm5hbCBwYXlhYmxlIG9ubHlTdGF0ZShTdGF0ZS5QQVJUSUNJUEFUSU9OKSBjb3N0cyhzdGFrZSkgewogICAgICAgIHBhcnRpY2lwYW50cy5wdXNoKG1zZy5zZW5kZXIpOwogICAgICAgIHVpbnQgc3Rha2VBZnRlckZlZSA9IHN0YWtlIC0gZmVlOwogICAgICAgIHBvdCArPSBzdGFrZUFmdGVyRmVlOwogICAgICAgIGZlZXMgKz0gZmVlOwogICAgICAgIE5ld1BhcnRpY2lwYW50KG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgc3Rha2VBZnRlckZlZSwgbXNnLnZhbHVlIC0gc3Rha2UpOwogICAgICAgIGlmIChwb3QgPj0gcG90VGFyZ2V0KSB7CiAgICAgICAgICAgIHBhcnRpY2lwYXRpb25FbmRUaW1lc3RhbXAgPSBibG9jay50aW1lc3RhbXA7CiAgICAgICAgICAgIG1pbmVyUmFuZG9tTnVtYmVyID0gYmxvY2sudGltZXN0YW1wOwogICAgICAgICAgICBNaW5lclJhbmRvbU51bWJlcihtaW5lclJhbmRvbU51bWJlcik7CiAgICAgICAgICAgIHNldFN0YXRlKFN0YXRlLkNIT09TRV9XSU5ORVIpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgLy8vIFJldmVhbCB0aGUgb3duZXIncyByYW5kb20gbnVtYmVyIGFuZCBjaG9vc2UgYSB3aW5uZXIgdXNpbmcgYWxsIHRocmVlIHJhbmRvbSBudW1iZXJzLgogICAgLy8vIFRoZSB3aW5uZXIgaXMgY3JlZGl0ZWQgdGhlIHBvdCBhbmQgY2FuIGdldCB0aGVpciBmdW5kcyB1c2luZyBgd2l0aGRyYXdgLgogICAgLy8vIFRoaXMgZnVuY3Rpb24gd2lsbCBvbmx5IHdvcmsgd2hlbiB0aGUgY29udHJhY3QgaXMgaW4gYHN0YXRlYCBDSE9PU0VfV0lOTkVSLgogICAgZnVuY3Rpb24gY2hvb3NlV2lubmVyKHN0cmluZyBfb3duZXJSYW5kb21OdW1iZXIsIHN0cmluZyBfb3duZXJSYW5kb21TZWNyZXQpIGV4dGVybmFsIG9ubHlPd25lciBvbmx5U3RhdGUoU3RhdGUuQ0hPT1NFX1dJTk5FUikgewogICAgICAgIHJlcXVpcmUoa2VjY2FrMjU2KF9vd25lclJhbmRvbU51bWJlciwgX293bmVyUmFuZG9tU2VjcmV0KSA9PSBvd25lclJhbmRvbUhhc2gpOwogICAgICAgIHJlcXVpcmUoIXN0YXJ0c1dpdGhEaWdpdChfb3duZXJSYW5kb21TZWNyZXQpKTsgLy8gVGhpcyBpcyBuZWVkZWQgYmVjYXVzZSBrZWNjYWsyNTYoIjEyIiwgIjM0IikgPT0ga2VjY2FrMjU2KCIxIiwgIjIzNCIpIHRvIHByZXZlbnQgb3duZXIgZnJvbSBjaGFuZ2luZyBoaXMgaW5pdGlhbGx5IGNvbWl0dGVkIHJhbmRvbSBudW1iZXIKICAgICAgICBvd25lclJhbmRvbU51bWJlciA9IHBhcnNlSW50KF9vd25lclJhbmRvbU51bWJlcik7CiAgICAgICAgT3duZXJSYW5kb21OdW1iZXIob3duZXJSYW5kb21OdW1iZXIpOwogICAgICAgIHVpbnQgcmFuZG9tTnVtYmVyID0gb3duZXJSYW5kb21OdW1iZXIgXiBtaW5lclJhbmRvbU51bWJlcjsKICAgICAgICBSYW5kb21OdW1iZXIocmFuZG9tTnVtYmVyKTsKICAgICAgICB1aW50IHdpbm5lckluZGV4ID0gcmFuZG9tTnVtYmVyICUgcGFydGljaXBhbnRzLmxlbmd0aDsKICAgICAgICBXaW5uZXJJbmRleCh3aW5uZXJJbmRleCk7CiAgICAgICAgd2lubmVyID0gcGFydGljaXBhbnRzW3dpbm5lckluZGV4XTsKICAgICAgICBmdW5kc1t3aW5uZXJdICs9IHBvdDsKICAgICAgICBXaW5uZXIod2lubmVyLCBwb3QpOwogICAgICAgIHNldFN0YXRlKFN0YXRlLkVOREVEKTsKICAgIH0KICAgIAogICAgLy8vIENhbmNlbCB0aGUgZ2FtZS4KICAgIC8vLyBQYXJ0aWNpcGFudHMnIHN0YWtlcyAoaW5jbHVkaW5nIGZlZSkgYXJlIHJlZnVuZGVkLiBVc2UgdGhlIGB3aXRoZHJhd2AgZnVuY3Rpb24gdG8gZ2V0IHRoZSByZWZ1bmQuCiAgICAvLy8gT3duZXIgY2FuIGNhbmNlbCBhdCBhbnkgdGltZSBpbiBgc3RhdGVgIFBBUlRJQ0lQQVRJT04gb3IgQ0hPT1NFX1dJTk5FUgogICAgLy8vIEFueW9uZSBjYW4gY2FuY2VsIDI0aCBhZnRlciBgc3RhdGVgIFBBUlRJQ0lQQVRJT04gZW5kZWQuIFRoaXMgaXMgdG8gbWFrZSBzdXJlIG5vIGZ1bmRzIGdldCBsb2NrZWQgdXAgZHVlIHRvIGluYWN0aXZpdHkgb2YgdGhlIG93bmVyLgogICAgZnVuY3Rpb24gY2FuY2VsKCkgZXh0ZXJuYWwgewogICAgICAgIGlmIChtc2cuc2VuZGVyID09IG93bmVyKSB7CiAgICAgICAgICAgIHJlcXVpcmUoc3RhdGUgPT0gU3RhdGUuUEFSVElDSVBBVElPTiB8fCBzdGF0ZSA9PSBTdGF0ZS5DSE9PU0VfV0lOTkVSKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXF1aXJlKChzdGF0ZSA9PSBTdGF0ZS5DSE9PU0VfV0lOTkVSKSAmJiAocGFydGljaXBhdGlvbkVuZFRpbWVzdGFtcCAhPSAwKSAmJiAoYmxvY2sudGltZXN0YW1wID4gcGFydGljaXBhdGlvbkVuZFRpbWVzdGFtcCArIDEgZGF5cykpOwogICAgICAgIH0KICAgICAgICBDYW5jZWxsZWQobXNnLnNlbmRlcik7CiAgICAgICAgLy8gcmVmdW5kIGluZGV4IDAgc28gbGFzdFJlZnVuZGVkSW5kZXg9MCBpcyBjb3JyZWN0CiAgICAgICAgaWYgKHBhcnRpY2lwYW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGZ1bmRzW3BhcnRpY2lwYW50c1swXV0gKz0gc3Rha2U7CiAgICAgICAgICAgIGZlZXMgLT0gZmVlOwogICAgICAgICAgICBsYXN0UmVmdW5kZWRJbmRleCA9IDA7CiAgICAgICAgICAgIFJlZnVuZChwYXJ0aWNpcGFudHNbMF0sIHN0YWtlKTsKICAgICAgICAgICAgaWYgKHBhcnRpY2lwYW50cy5sZW5ndGggPT0gMSkgewogICAgICAgICAgICAgICAgc2V0U3RhdGUoU3RhdGUuRU5ERUQpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2V0U3RhdGUoU3RhdGUuUkVGVU5EKTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIG5vdGhpbmcgdG8gcmVmdW5kCiAgICAgICAgICAgIHNldFN0YXRlKFN0YXRlLkVOREVEKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8vLyBSZWZ1bmQgYSBudW1iZXIgb2YgYWNjb3VudHMgc3BlY2lmaWVkIGJ5IGBfY291bnRgLCBiZWdpbm5pbmcgYXQgdGhlIG5leHQgdW4tcmVmdW5kZWQgaW5kZXggd2hpY2ggaXMgbGFzdFJlZnVuZGVkSW5kZXhgKzEuCiAgICAvLy8gVGhpcyBpcyBzbyB0aGF0IHJlZnVuZHMgY2FuIGJlIGRpbWVuc2lvbmVkIHN1Y2ggdGhhdCB0aGV5IGRvbid0IGV4Y2VlZCBibG9jayBnYXMgbGltaXQuCiAgICAvLy8gT25jZSBhbGwgcGFydGljaXBhbnRzIGFyZSByZWZ1bmRlZCBgc3RhdGVgIHRyYW5zaXRpb25zIHRvIEVOREVELgogICAgLy8vIEFueSB1c2VyIGNhbiBkbyB0aGUgcmVmdW5kcy4KICAgIGZ1bmN0aW9uIHJlZnVuZCh1aW50IF9jb3VudCkgb25seVN0YXRlKFN0YXRlLlJFRlVORCkgewogICAgICAgIHJlcXVpcmUocGFydGljaXBhbnRzLmxlbmd0aCA+IDApOwogICAgICAgIHVpbnQgZmlyc3QgPSBsYXN0UmVmdW5kZWRJbmRleCArIDE7CiAgICAgICAgdWludCBsYXN0ID0gbGFzdFJlZnVuZGVkSW5kZXggKyBfY291bnQ7CiAgICAgICAgaWYgKGxhc3QgPiBwYXJ0aWNpcGFudHMubGVuZ3RoIC0gMSkgewogICAgICAgICAgICBsYXN0ID0gcGFydGljaXBhbnRzLmxlbmd0aCAtIDE7CiAgICAgICAgfQogICAgICAgIGZvciAodWludCBpID0gZmlyc3Q7IGkgPD0gbGFzdDsgaSsrKSB7CiAgICAgICAgICAgIGZ1bmRzW3BhcnRpY2lwYW50c1tpXV0gKz0gc3Rha2U7CiAgICAgICAgICAgIGZlZXMgLT0gZmVlOwogICAgICAgICAgICBSZWZ1bmQocGFydGljaXBhbnRzW2ldLCBzdGFrZSk7CiAgICAgICAgfQogICAgICAgIGxhc3RSZWZ1bmRlZEluZGV4ID0gbGFzdDsKICAgICAgICBpZiAobGFzdFJlZnVuZGVkSW5kZXggPj0gcGFydGljaXBhbnRzLmxlbmd0aCAtIDEpIHsKICAgICAgICAgICAgc2V0U3RhdGUoU3RhdGUuRU5ERUQpOwogICAgICAgIH0KICAgIH0KCiAgICAvLy8gV2l0aGRyYXcgeW91ciBmdW5kcywgaS5lLiB3aW5uaW5ncyBhbmQgcmVmdW5kcy4KICAgIC8vLyBUaGlzIGZ1bmN0aW9uIGNhbiBiZSBjYWxsZWQgaW4gYW55IHN0YXRlIGFuZCB3aWxsIHdpdGhkcmF3IGFsbCB3aW5uaW5ncyBhcyB3ZWxsIGFzIHJlZnVuZHMuIAogICAgZnVuY3Rpb24gd2l0aGRyYXcoKSBleHRlcm5hbCB7CiAgICAgICAgdWludCBhbW91bnQgPSBmdW5kc1ttc2cuc2VuZGVyXTsKICAgICAgICBmdW5kc1ttc2cuc2VuZGVyXSA9IDA7CiAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihhbW91bnQpOwogICAgfQogICAgCiAgICAvLy8gV2l0aGRyYXcgYWNjdW11bGF0ZWQgZmVlcy4gCiAgICAvLy8gVXNhYmxlIGJ5IGNvbnRyYWN0IG93bmVyIHdoZW4gYHN0YXRlYCBpcyBFTkRFRC4KICAgIGZ1bmN0aW9uIHdpdGhkcmF3RmVlcygpIGV4dGVybmFsIG9ubHlPd25lciBvbmx5U3RhdGUoU3RhdGUuRU5ERUQpIHsKICAgICAgICB1aW50IGFtb3VudCA9IGZlZXM7CiAgICAgICAgZmVlcyA9IDA7CiAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihhbW91bnQpOwogICAgfQogICAgCiAgICAvLy8gQWRqdXN0IGdhbWUgcGFyYW1ldGVycy4gQWxsIHBhcmFtZXRlcnMgYXJlIGluIFdlaS4KICAgIC8vLyBDYW4gYmUgY2FsbGVkIGJ5IHRoZSBjb250cmFjdCBvd25lciBpbiBgc3RhdGVgIEVOREVELgogICAgZnVuY3Rpb24gc2V0UGFyYW1zKHVpbnQgX3BvdFRhcmdldCwgdWludCBfc3Rha2UsIHVpbnQgX2ZlZSkgZXh0ZXJuYWwgb25seU93bmVyIG9ubHlTdGF0ZShTdGF0ZS5FTkRFRCkgewogICAgICAgIHJlcXVpcmUoX2ZlZSA8IF9zdGFrZSk7CiAgICAgICAgcG90VGFyZ2V0ID0gX3BvdFRhcmdldDsKICAgICAgICBzdGFrZSA9IF9zdGFrZTsgCiAgICAgICAgZmVlID0gX2ZlZTsKICAgICAgICBQYXJhbWV0ZXJzQ2hhbmdlZChwb3RUYXJnZXQsIHN0YWtlLCBmZWUpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBzdGFydHNXaXRoRGlnaXQoc3RyaW5nIHN0cikgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGJ5dGVzIG1lbW9yeSBiID0gYnl0ZXMoc3RyKTsKICAgICAgICByZXR1cm4gYlswXSA+PSA0OCAmJiBiWzBdIDw9IDU3OyAvLyAwLTk7IHNlZSBodHRwOi8vZGV2Lm5ldHdvcmtlcnJvci5vcmcvdXRmOC8KICAgIH0KICAgIAogICAgLy8gcGFyc2VJbnQgCiAgICAvLyBDb3B5cmlnaHQgKGMpIDIwMTUtMjAxNiBPcmFjbGl6ZSBTUkwKICAgIC8vIENvcHlyaWdodCAoYykgMjAxNiBPcmFjbGl6ZSBMVEQKICAgIC8vIFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL29yYWNsaXplL2V0aGVyZXVtLWFwaS9ibG9iL21hc3Rlci9vcmFjbGl6ZUFQSV8wLjQuc29sCiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcgX2EpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gcGFyc2VJbnQoX2EsIDApOwogICAgfQoKICAgIC8vIHBhcnNlSW50KHBhcnNlRmxvYXQqMTBeX2IpCiAgICAvLyBDb3B5cmlnaHQgKGMpIDIwMTUtMjAxNiBPcmFjbGl6ZSBTUkwKICAgIC8vIENvcHlyaWdodCAoYykgMjAxNiBPcmFjbGl6ZSBMVEQKICAgIC8vIFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL29yYWNsaXplL2V0aGVyZXVtLWFwaS9ibG9iL21hc3Rlci9vcmFjbGl6ZUFQSV8wLjQuc29sCiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcgX2EsIHVpbnQgX2IpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICBieXRlcyBtZW1vcnkgYnJlc3VsdCA9IGJ5dGVzKF9hKTsKICAgICAgICB1aW50IG1pbnQgPSAwOwogICAgICAgIGJvb2wgZGVjaW1hbHMgPSBmYWxzZTsKICAgICAgICBmb3IgKHVpbnQgaT0wOyBpPGJyZXN1bHQubGVuZ3RoOyBpKyspewogICAgICAgICAgICBpZiAoKGJyZXN1bHRbaV0gPj0gNDgpJiYoYnJlc3VsdFtpXSA8PSA1NykpewogICAgICAgICAgICAgICAgaWYgKGRlY2ltYWxzKXsKICAgICAgICAgICAgICAgICAgIGlmIChfYiA9PSAwKSBicmVhazsKICAgICAgICAgICAgICAgICAgICBlbHNlIF9iLS07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBtaW50ICo9IDEwOwogICAgICAgICAgICAgICAgbWludCArPSB1aW50KGJyZXN1bHRbaV0pIC0gNDg7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoYnJlc3VsdFtpXSA9PSA0NikgZGVjaW1hbHMgPSB0cnVlOwogICAgICAgIH0KICAgICAgICBpZiAoX2IgPiAwKSBtaW50ICo9IDEwKipfYjsKICAgICAgICByZXR1cm4gbWludDsKICAgIH0KCn0='.
	

]
