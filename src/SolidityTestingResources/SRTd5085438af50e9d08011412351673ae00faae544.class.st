Class {
	#name : #SRTd5085438af50e9d08011412351673ae00faae544,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd5085438af50e9d08011412351673ae00faae544 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMDsKCgovL0RhcHAgYXQgaHR0cDovL3d3dy5zdGF0aWNvaW4uY29tCi8vaHR0cHM6Ly9naXRodWIuY29tL2dlbmtpZnMvc3RhdGljb2luCgovKiogQHRpdGxlIG93bmVkLiAqLwpjb250cmFjdCBvd25lZCAgewogIGFkZHJlc3Mgb3duZXI7CiAgZnVuY3Rpb24gb3duZWQoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQogIGZ1bmN0aW9uIGNoYW5nZU93bmVyKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXI9PW93bmVyKTsgCiAgICBfOwogIH0KfQoKLyoqIEB0aXRsZSBJX1ByaWNlci4gKi8KY29udHJhY3QgSV9QcmljZXIgewogICAgdWludDEyOCBwdWJsaWMgbGFzdFByaWNlOwogICAgSV9taW50ZXIgcHVibGljIG1pbnQ7CiAgICBzdHJpbmcgcHVibGljIHNVUkw7CiAgICBtYXBwaW5nIChieXRlczMyID0+IHVpbnQpIFJldlRyYW5zYWN0aW9uOwogICAgZnVuY3Rpb24gX19jYWxsYmFjayhieXRlczMyIG15aWQsIHN0cmluZyByZXN1bHQpIHt9CiAgICBmdW5jdGlvbiBxdWVyeUNvc3QoKSBjb25zdGFudCByZXR1cm5zICh1aW50MTI4IF92YWx1ZSkge30KICAgIGZ1bmN0aW9uIFF1aWNrUHJpY2UoKSBwYXlhYmxlIHt9CiAgICBmdW5jdGlvbiByZXF1ZXN0UHJpY2UodWludCBfYWN0aW9uSUQpIHBheWFibGUgcmV0dXJucyAodWludCBfVHJhc0lEKSB7fQogICAgZnVuY3Rpb24gY29sbGVjdEZlZSgpIHJldHVybnMoYm9vbCkge30KICAgIGZ1bmN0aW9uICgpIHsKICAgICAgICAvL2lmIGV0aGVyIGlzIHNlbnQgdG8gdGhpcyBhZGRyZXNzLCBzZW5kIGl0IGJhY2suCiAgICAgICAgcmV2ZXJ0KCk7CiAgICB9Cn0KICAgIAoKLyoqIEB0aXRsZSBJX2NvaW4uICovCmNvbnRyYWN0IElfY29pbiB7CgogICAgZXZlbnQgRXZlbnRDbGVhcigpOwoKCUlfbWludGVyIHB1YmxpYyBtaW50OwogICAgc3RyaW5nIHB1YmxpYyBuYW1lOyAgICAgICAgICAgICAgICAgICAvL2ZhbmN5IG5hbWU6IGVnIFNpbW9uIEJ1Y2tzCiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHM9MTg7ICAgICAgICAgICAgICAgIC8vSG93IG1hbnkgZGVjaW1hbHMgdG8gc2hvdy4gaWUuIFRoZXJlIGNvdWxkIDEwMDAgYmFzZSB1bml0cyB3aXRoIDMgZGVjaW1hbHMuIE1lYW5pbmcgMC45ODAgU0JYID0gOTgwIGJhc2UgdW5pdHMuIEl0J3MgbGlrZSBjb21wYXJpbmcgMSB3ZWkgdG8gMSBldGhlci4KICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOyAgICAgICAgICAgICAgICAgLy9BbiBpZGVudGlmaWVyOiBlZyBTQlgKICAgIHN0cmluZyBwdWJsaWMgdmVyc2lvbiA9ICcnOyAgICAgICAvL2h1bWFuIDAuMSBzdGFuZGFyZC4gSnVzdCBhbiBhcmJpdHJhcnkgdmVyc2lvbmluZyBzY2hlbWUuCgkKICAgIGZ1bmN0aW9uIG1pbnRDb2luKGFkZHJlc3MgdGFyZ2V0LCB1aW50MjU2IG1pbnRlZEFtb3VudCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQogICAgZnVuY3Rpb24gbWVsdENvaW4oYWRkcmVzcyB0YXJnZXQsIHVpbnQyNTYgbWVsdGVkQW1vdW50KSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9CiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSl7fQoKICAgIGZ1bmN0aW9uIHNldE1pbnRlcihhZGRyZXNzIF9taW50ZXIpIHt9ICAgCglmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF9hZGRlZFZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9ICAgIAoJZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfc3VidHJhY3RlZFZhbHVlKSAJcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fSAKCiAgICAvLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIGZyb20gd2hpY2ggdGhlIGJhbGFuY2Ugd2lsbCBiZSByZXRyaWV2ZWQKICAgIC8vIEByZXR1cm4gVGhlIGJhbGFuY2UKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7fSAgICAKCgogICAgLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYG1zZy5zZW5kZXJgCiAgICAvLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQoKCiAgICAvLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgLy8gQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgIC8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQoKICAgIC8vIEBub3RpY2UgYG1zZy5zZW5kZXJgIGFwcHJvdmVzIGBfYWRkcmAgdG8gc3BlbmQgYF92YWx1ZWAgdG9rZW5zCiAgICAvLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAvLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2Ygd2VpIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2ZlcgogICAgLy8gQHJldHVybiBXaGV0aGVyIHRoZSBhcHByb3ZhbCB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykge30KCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwoJCgkvLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IG93bmluZyB0b2tlbnMKICAgIC8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudAogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykge30KCQoJbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCgkvLyBAcmV0dXJuIHRvdGFsIGFtb3VudCBvZiB0b2tlbnMKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5Owp9CgovKiogQHRpdGxlIElfbWludGVyLiAqLwpjb250cmFjdCBJX21pbnRlciB7IAogICAgZXZlbnQgRXZlbnRDcmVhdGVTdGF0aWMoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCB1aW50MTI4IF92YWx1ZSwgdWludCBfdHJhbnNhY3Rpb25JRCwgdWludCBfUHJpY2UpOyAKICAgIGV2ZW50IEV2ZW50UmVkZWVtU3RhdGljKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgdWludDEyOCBfdmFsdWUsIHVpbnQgX3RyYW5zYWN0aW9uSUQsIHVpbnQgX1ByaWNlKTsgCiAgICBldmVudCBFdmVudENyZWF0ZVJpc2soYWRkcmVzcyBpbmRleGVkIF9mcm9tLCB1aW50MTI4IF92YWx1ZSwgdWludCBfdHJhbnNhY3Rpb25JRCwgdWludCBfUHJpY2UpOyAKICAgIGV2ZW50IEV2ZW50UmVkZWVtUmlzayhhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIHVpbnQxMjggX3ZhbHVlLCB1aW50IF90cmFuc2FjdGlvbklELCB1aW50IF9QcmljZSk7IAogICAgZXZlbnQgRXZlbnRCYW5rcnVwdCgpOwogICAgCgl1aW50MTI4IHB1YmxpYyBQZW5kaW5nRVRIOyAKICAgIHVpbnQgcHVibGljIFRyYW5zQ29tcGxldGVkOwoJCiAgICBmdW5jdGlvbiBMZXZlcmFnZSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQxMjgpICB7fQogICAgZnVuY3Rpb24gUmlza1ByaWNlKHVpbnQxMjggX2N1cnJlbnRQcmljZSx1aW50MTI4IF9TdGF0aWNUb3RhbCx1aW50MTI4IF9SaXNrVG90YWwsIHVpbnQxMjggX0VUSFRvdGFsKSBjb25zdGFudCByZXR1cm5zICh1aW50MTI4IHByaWNlKSAge30KICAgIGZ1bmN0aW9uIFJpc2tQcmljZSh1aW50MTI4IF9jdXJyZW50UHJpY2UpIGNvbnN0YW50IHJldHVybnMgKHVpbnQxMjggcHJpY2UpICB7fSAgICAgCiAgICBmdW5jdGlvbiBQcmljZVJldHVybih1aW50IF9UcmFuc0lELHVpbnQxMjggX1ByaWNlKSB7fQoJZnVuY3Rpb24gU3RhdGljRXRoQXZhaWxhYmxlKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQxMjggU3RhdGljRXRoQXZhaWxhYmxlKSB7fQogICAgZnVuY3Rpb24gTmV3U3RhdGljKCkgZXh0ZXJuYWwgcGF5YWJsZSByZXR1cm5zICh1aW50IF9UcmFuc0lEKSAge30KICAgIGZ1bmN0aW9uIE5ld1N0YXRpY0FkcihhZGRyZXNzIF9SaXNrKSBleHRlcm5hbCBwYXlhYmxlIHJldHVybnMgKHVpbnQgX1RyYW5zSUQpICB7fQogICAgZnVuY3Rpb24gTmV3UmlzaygpIGV4dGVybmFsIHBheWFibGUgcmV0dXJucyAodWludCBfVHJhbnNJRCkgIHt9CiAgICBmdW5jdGlvbiBOZXdSaXNrQWRyKGFkZHJlc3MgX1Jpc2spIGV4dGVybmFsIHBheWFibGUgcmV0dXJucyAodWludCBfVHJhbnNJRCkgIHt9CiAgICBmdW5jdGlvbiBSZXRSaXNrKHVpbnQxMjggX1F1YW50aXR5KSBleHRlcm5hbCBwYXlhYmxlIHJldHVybnMgKHVpbnQgX1RyYW5zSUQpICB7fQogICAgZnVuY3Rpb24gUmV0U3RhdGljKHVpbnQxMjggX1F1YW50aXR5KSBleHRlcm5hbCBwYXlhYmxlIHJldHVybnMgKHVpbnQgX1RyYW5zSUQpICB7fQogICAgZnVuY3Rpb24gU3RyaWtlKCkgY29uc3RhbnQgcmV0dXJucyAodWludDEyOCkgIHt9Cn0KCmNvbnRyYWN0IFN0YXRpY29pblN1bW1hcnkgaXMgb3duZWR7CgogICAgZnVuY3Rpb24gU3RhdGljb2luU3VtbWFyeSgpe30KCglhZGRyZXNzW10gcHVibGljIG1pbnRzOwoJYWRkcmVzc1tdIHB1YmxpYyBzdGF0aWNvaW5zOyAKCWFkZHJlc3NbXSBwdWJsaWMgcmlza2NvaW5zOwoJYWRkcmVzc1tdIHB1YmxpYyBwcmljZXJzOwoKICAgIGZ1bmN0aW9uIFNldEFkZHJlc3NlcyhhZGRyZXNzW10gX21pbnRzLCBhZGRyZXNzW10gX3N0YXRpY29pbnMsIGFkZHJlc3NbXSBfcmlza2NvaW5zLCAgYWRkcmVzc1tdIF9wcmljZXJzKSBvbmx5T3duZXIgZXh0ZXJuYWwgewoJCXJlcXVpcmUoX21pbnRzLmxlbmd0aCA+IDApOwoJCXJlcXVpcmUoX3N0YXRpY29pbnMubGVuZ3RoID09IF9taW50cy5sZW5ndGgpOwogICAgICAgIHJlcXVpcmUoX3Jpc2tjb2lucy5sZW5ndGggPT0gX21pbnRzLmxlbmd0aCk7CgkJcmVxdWlyZShfcHJpY2Vycy5sZW5ndGggPT0gX21pbnRzLmxlbmd0aCk7CgkJbWludHM9X21pbnRzOwoJCXN0YXRpY29pbnM9X3N0YXRpY29pbnM7CgkJcmlza2NvaW5zPV9yaXNrY29pbnM7CgkJcHJpY2Vycz1fcHJpY2VyczsKCX0KCglmdW5jdGlvbiBiYWxhbmNlc1N0YXRpY29pbigpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnRbXSkgewoJCXJldHVybiBiYWxhbmNlcyhtc2cuc2VuZGVyLCBzdGF0aWNvaW5zKTsKCX0KCglmdW5jdGlvbiBiYWxhbmNlc1N0YXRpY29pbihhZGRyZXNzIHVzZXIpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnRbXSkgewoJCXJldHVybiBiYWxhbmNlcyh1c2VyLCBzdGF0aWNvaW5zKTsKCX0KCglmdW5jdGlvbiBiYWxhbmNlc1Jpc2tjb2lucygpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnRbXSkgewoJCXJldHVybiBiYWxhbmNlcyhtc2cuc2VuZGVyLCByaXNrY29pbnMpOwoJfQoJCglmdW5jdGlvbiBiYWxhbmNlc1Jpc2tjb2lucyhhZGRyZXNzIHVzZXIpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnRbXSkgewoJCXJldHVybiBiYWxhbmNlcyh1c2VyLCByaXNrY29pbnMpOwoJfQoJCiAgICBmdW5jdGlvbiBiYWxhbmNlcyhhZGRyZXNzIHVzZXIsICBhZGRyZXNzW10gX2NvaW5zKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50W10pIHsKICAgICAgICByZXF1aXJlKF9jb2lucy5sZW5ndGggPiAwKTsKICAgICAgICB1aW50W10gbWVtb3J5IGJhbGFuY2VzID0gbmV3IHVpbnRbXShfY29pbnMubGVuZ3RoKTsKCiAgICAgICAgLy9hcyB0aGlzIGlzIGEgY2FsbCgpIGZ1bmN0aW9uLCB3ZSBkb24ndCByZWFsbHkgY2FyZSBhYm91dCBnYXMgY29zdCwganVzdCBkb250IG1ha2UgdGhlIGFycmF5IHRvbyBsYXJnZQogICAgICAgIGZvcih1aW50IGkgPSAwOyBpPCBfY29pbnMubGVuZ3RoOyBpKyspeyAKICAgICAgICAgICAgSV9jb2luIGNvaW4gPSBJX2NvaW4oX2NvaW5zW2ldKTsKICAgICAgICAgICAgYmFsYW5jZXNbaV0gPSBjb2luLmJhbGFuY2VPZih1c2VyKTsKICAgICAgICB9ICAgIAogICAgICAgIHJldHVybiBiYWxhbmNlczsKICAgIH0KICAKICAgIGZ1bmN0aW9uIFRvdGFsYmFsYW5jZSgpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnQpIHsKCQlyZXR1cm4gVG90YWxiYWxhbmNlKG1pbnRzKTsKCX0gIAogICAgCiAgICBmdW5jdGlvbiBUb3RhbGJhbGFuY2UoYWRkcmVzc1tdIF9taW50cykgdmlldyBwdWJsaWMgcmV0dXJucyAodWludCkgewogICAgICAgIHJlcXVpcmUoX21pbnRzLmxlbmd0aCA+IDApOwogICAgICAgIHVpbnQgYmFsYW5jZTsKCiAgICAgICAgLy9hcyB0aGlzIGlzIGEgY2FsbCgpIGZ1bmN0aW9uLCB3ZSBkb24ndCByZWFsbHkgY2FyZSBhYm91dCBnYXMgY29zdCwganVzdCBkb250IG1ha2UgdGhlIGFycmF5IHRvbyBsYXJnZQogICAgICAgIGZvcih1aW50IGkgPSAwOyBpPCBfbWludHMubGVuZ3RoOyBpKyspeyAKICAgICAgICAgICAgSV9taW50ZXIgY29pbiA9IElfbWludGVyKF9taW50c1tpXSk7CiAgICAgICAgICAgIGJhbGFuY2UgKz0gY29pbi5iYWxhbmNlOwogICAgICAgIH0gICAgCiAgICAgICAgcmV0dXJuIGJhbGFuY2U7CiAgICB9CgoJZnVuY3Rpb24gdG90YWxTdGF0aWNvaW5TdXBwbHlzKCkgdmlldyBwdWJsaWMgcmV0dXJucyAodWludFtdKSB7CgkJcmV0dXJuIHRvdGFsU3VwcGx5cyhzdGF0aWNvaW5zKTsKCX0KCQoJZnVuY3Rpb24gdG90YWxyaXNrY29pbnNTdXBwbHlzKCkgdmlldyBwdWJsaWMgcmV0dXJucyAodWludFtdKSB7CgkJcmV0dXJuIHRvdGFsU3VwcGx5cyhyaXNrY29pbnMpOwoJfQoJCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseXMoYWRkcmVzc1tdIF9jb2lucykgdmlldyBwdWJsaWMgcmV0dXJucyAodWludFtdKSB7CiAgICAgICAgcmVxdWlyZShfY29pbnMubGVuZ3RoID4gMCk7CiAgICAgICAgdWludFtdIG1lbW9yeSB0b3RhbFN1cHBseXMgPSBuZXcgdWludFtdKF9jb2lucy5sZW5ndGgpOwoKICAgICAgICBmb3IodWludCBpID0gMDsgaTwgX2NvaW5zLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgSV9jb2luIGNvaW4gPSBJX2NvaW4oX2NvaW5zW2ldKTsKICAgICAgICAgICAgdG90YWxTdXBwbHlzW2ldID0gY29pbi50b3RhbFN1cHBseSgpOwogICAgICAgIH0gICAgCiAgICAgICAgcmV0dXJuIHRvdGFsU3VwcGx5czsKICAgIH0KIAogICAgZnVuY3Rpb24gTGV2ZXJhZ2VzKCkgdmlldyBwdWJsaWMgcmV0dXJucyAodWludDEyOFtdKSB7CgkJcmV0dXJuIExldmVyYWdlcyhtaW50cyk7Cgl9CiAKICAgIGZ1bmN0aW9uIExldmVyYWdlcyhhZGRyZXNzW10gX21pbnRzKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50MTI4W10pIHsKICAgICAgICByZXF1aXJlKF9taW50cy5sZW5ndGggPiAwKTsKICAgICAgICB1aW50MTI4W10gbWVtb3J5IExldmVyYWdlcyA9IG5ldyB1aW50MTI4W10oX21pbnRzLmxlbmd0aCk7CgogICAgICAgIGZvcih1aW50IGkgPSAwOyBpPCBfbWludHMubGVuZ3RoOyBpKyspewogICAgICAgICAgICBJX21pbnRlciBtaW50ID0gSV9taW50ZXIoX21pbnRzW2ldKTsKICAgICAgICAgICAgTGV2ZXJhZ2VzW2ldID0gbWludC5MZXZlcmFnZSgpOwogICAgICAgIH0gICAgCiAgICAgICAgcmV0dXJuIExldmVyYWdlczsKICAgIH0KCiAgICBmdW5jdGlvbiBTdHJpa2VzKCkgdmlldyBwdWJsaWMgcmV0dXJucyAodWludDEyOFtdKSB7CgkJcmV0dXJuIFN0cmlrZXMobWludHMpOwoJfQoJCiAgICBmdW5jdGlvbiBTdHJpa2VzKGFkZHJlc3NbXSBfbWludHMpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnQxMjhbXSkgewogICAgICAgIHJlcXVpcmUoX21pbnRzLmxlbmd0aCA+IDApOwogICAgICAgIHVpbnQxMjhbXSBtZW1vcnkgU3RyaWtlcyA9IG5ldyB1aW50MTI4W10oX21pbnRzLmxlbmd0aCk7CgogICAgICAgIGZvcih1aW50IGkgPSAwOyBpPCBfbWludHMubGVuZ3RoOyBpKyspewogICAgICAgICAgICBJX21pbnRlciBtaW50ID0gSV9taW50ZXIoX21pbnRzW2ldKTsKICAgICAgICAgICAgU3RyaWtlc1tpXSA9IG1pbnQuU3RyaWtlKCk7CiAgICAgICAgfSAgICAKICAgICAgICByZXR1cm4gU3RyaWtlczsKICAgIH0gICAKICAgIAoJZnVuY3Rpb24gU3RhdGljRXRoQXZhaWxhYmxlcygpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnQxMjhbXSkgewoJCXJldHVybiBTdGF0aWNFdGhBdmFpbGFibGVzKG1pbnRzKTsKCX0KCQogICAgZnVuY3Rpb24gU3RhdGljRXRoQXZhaWxhYmxlcyhhZGRyZXNzW10gX21pbnRzKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50MTI4W10pIHsKICAgICAgICByZXF1aXJlKF9taW50cy5sZW5ndGggPiAwKTsKICAgICAgICB1aW50MTI4W10gbWVtb3J5IFN0YXRpY0V0aEF2YWlsYWJsZXMgPSBuZXcgdWludDEyOFtdKF9taW50cy5sZW5ndGgpOwoKICAgICAgICBmb3IodWludCBpID0gMDsgaTwgX21pbnRzLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgSV9taW50ZXIgbWludCA9IElfbWludGVyKF9taW50c1tpXSk7CiAgICAgICAgICAgIFN0YXRpY0V0aEF2YWlsYWJsZXNbaV0gPSBtaW50LlN0YXRpY0V0aEF2YWlsYWJsZSgpOwogICAgICAgIH0gICAgCiAgICAgICAgcmV0dXJuIFN0YXRpY0V0aEF2YWlsYWJsZXM7CiAgICB9CgogICAgZnVuY3Rpb24gUGVuZGluZ0VUSHMoKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50MTI4W10pIHsKCQlyZXR1cm4gUGVuZGluZ0VUSHMobWludHMpOwoJfQoJCiAgICBmdW5jdGlvbiBQZW5kaW5nRVRIcyhhZGRyZXNzW10gX21pbnRzKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50MTI4W10pIHsKICAgICAgICByZXF1aXJlKF9taW50cy5sZW5ndGggPiAwKTsKICAgICAgICB1aW50MTI4W10gbWVtb3J5IFBlbmRpbmdFVEhzID0gbmV3IHVpbnQxMjhbXShfbWludHMubGVuZ3RoKTsKCiAgICAgICAgZm9yKHVpbnQgaSA9IDA7IGk8IF9taW50cy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgIElfbWludGVyIG1pbnQgPSBJX21pbnRlcihfbWludHNbaV0pOwogICAgICAgICAgICBQZW5kaW5nRVRIc1tpXSA9IG1pbnQuUGVuZGluZ0VUSCgpOwogICAgICAgIH0gICAgCiAgICAgICAgcmV0dXJuIFBlbmRpbmdFVEhzOwogICAgfQoKCWZ1bmN0aW9uIFJpc2tQcmljZXModWludDEyOFtdIHByaWNlcykgdmlldyBwdWJsaWMgcmV0dXJucyAodWludFtdKSB7CgkJcmV0dXJuIFJpc2tQcmljZXMobWludHMscHJpY2VzKTsKCX0KCQogICAgZnVuY3Rpb24gUmlza1ByaWNlcyhhZGRyZXNzW10gX21pbnRzLCB1aW50MTI4W10gcHJpY2VzKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50W10pIHsKICAgICAgICByZXF1aXJlKF9taW50cy5sZW5ndGggPiAwKTsKICAgICAgICByZXF1aXJlKF9taW50cy5sZW5ndGggPT0gcHJpY2VzLmxlbmd0aCk7CiAgICAgICAgdWludFtdIG1lbW9yeSBSaXNrUHJpY2VzID0gbmV3IHVpbnRbXShfbWludHMubGVuZ3RoKTsKCiAgICAgICAgZm9yKHVpbnQgaSA9IDA7IGk8IF9taW50cy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgIElfbWludGVyIG1pbnQgPSBJX21pbnRlcihfbWludHNbaV0pOwogICAgICAgICAgICBSaXNrUHJpY2VzW2ldID0gbWludC5SaXNrUHJpY2UocHJpY2VzW2ldKTsKICAgICAgICB9ICAgIAogICAgICAgIHJldHVybiBSaXNrUHJpY2VzOwogICAgfQogCiAgICBmdW5jdGlvbiBUcmFuc0NvbXBsZXRlZHMoKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50W10pIHsKCQlyZXR1cm4gVHJhbnNDb21wbGV0ZWRzKG1pbnRzKTsKCX0KCiAgICBmdW5jdGlvbiBUcmFuc0NvbXBsZXRlZHMoYWRkcmVzc1tdIF9taW50cykgdmlldyBwdWJsaWMgcmV0dXJucyAodWludFtdKSB7CiAgICAgICAgcmVxdWlyZShfbWludHMubGVuZ3RoID4gMCk7CiAgICAgICAgdWludFtdIG1lbW9yeSBUcmFuc0NvbXBsZXRlZHMgPSBuZXcgdWludFtdKF9taW50cy5sZW5ndGgpOwoKICAgICAgICBmb3IodWludCBpID0gMDsgaTwgX21pbnRzLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgSV9taW50ZXIgbWludCA9IElfbWludGVyKF9taW50c1tpXSk7CiAgICAgICAgICAgIFRyYW5zQ29tcGxldGVkc1tpXSA9IG1pbnQuVHJhbnNDb21wbGV0ZWQoKTsKICAgICAgICB9ICAgIAogICAgICAgIHJldHVybiBUcmFuc0NvbXBsZXRlZHM7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHF1ZXJ5Q29zdCgpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnRbXSkgewogICAgICAgIHJldHVybiBxdWVyeUNvc3QocHJpY2Vycyk7CiAgICB9CgogICAgZnVuY3Rpb24gcXVlcnlDb3N0KGFkZHJlc3NbXSBfcHJpY2VycykgdmlldyBwdWJsaWMgcmV0dXJucyAodWludFtdKSB7CiAgICAgICAgcmVxdWlyZShfcHJpY2Vycy5sZW5ndGggPiAwKTsKICAgICAgICB1aW50W10gbWVtb3J5IHF1ZXJ5Q29zdHMgPSBuZXcgdWludFtdKF9wcmljZXJzLmxlbmd0aCk7CgogICAgICAgIGZvcih1aW50IGkgPSAwOyBpPCBfcHJpY2Vycy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgIElfUHJpY2VyIFByaWNlciA9IElfUHJpY2VyKF9wcmljZXJzW2ldKTsKICAgICAgICAgICAgcXVlcnlDb3N0c1tpXSA9IFByaWNlci5xdWVyeUNvc3QoKTsKICAgICAgICB9ICAgIAogICAgICAgIHJldHVybiBxdWVyeUNvc3RzOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBUb3RhbEZlZSgpIHZpZXcgcmV0dXJucyh1aW50KSB7CiAgICAgICAgcmV0dXJuIFRvdGFsRmVlKHByaWNlcnMpOwogICAgfQoKCWZ1bmN0aW9uIFRvdGFsRmVlKGFkZHJlc3NbXSBfcHJpY2VycykgdmlldyByZXR1cm5zKHVpbnQpIHsKCQl1aW50IHNpemUgPSAoX3ByaWNlcnMubGVuZ3RoKTsKCQl1aW50IGZlZTsKCQlmb3IodWludCBpID0gMDsgaTwgc2l6ZTsgaSsrKXsKCQkJSV9QcmljZXIgcHJpY2VyID0gSV9QcmljZXIoX3ByaWNlcnNbaV0pOwoJCQlmZWUgKz0gcHJpY2VyLmJhbGFuY2U7CgkJfQoJCXJldHVybiBmZWU7Cgl9CgoJZnVuY3Rpb24gY29sbGVjdEZlZSgpIG9ubHlPd25lciByZXR1cm5zKGJvb2wpIHsKCQlyZXR1cm4gY29sbGVjdEZlZShwcmljZXJzKTsKCX0KCQoJZnVuY3Rpb24gY29sbGVjdEZlZShhZGRyZXNzW10gX3ByaWNlcnMpIG9ubHlPd25lciByZXR1cm5zKGJvb2wpIHsKCQl1aW50IHNpemUgPSAoX3ByaWNlcnMubGVuZ3RoKTsKCQlib29sIGFucyA9IHRydWU7CgkJZm9yKHVpbnQgaSA9IDA7IGk8IHNpemU7IGkrKyl7CgkJCUlfUHJpY2VyIHByaWNlciA9IElfUHJpY2VyKF9wcmljZXJzW2ldKTsKCQkJYW5zID0gYW5zICYmIHByaWNlci5jb2xsZWN0RmVlKCk7CgkJfQoJCXJldHVybiBhbnM7Cgl9CgogICAgZnVuY3Rpb24gU3VtbWFyeShhZGRyZXNzIHVzZXIsIHVpbnQxMjhbXSBfcHJpY2VzKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50W10pewoJCXJldHVybiBTdW1tYXJ5KHVzZXIsIG1pbnRzLCBzdGF0aWNvaW5zLCByaXNrY29pbnMsIF9wcmljZXMpOwoJfQogICAgCiAgICBmdW5jdGlvbiBTdW1tYXJ5KGFkZHJlc3MgdXNlciwgYWRkcmVzc1tdIF9taW50cywgYWRkcmVzc1tdIF9zdGF0aWNvaW5zLCBhZGRyZXNzW10gX3Jpc2tjb2lucywgdWludDEyOFtdIF9wcmljZXMpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnRbXSkgewogICAgICAgIHVpbnQgc2l6ZSA9IChfbWludHMubGVuZ3RoKTsKCQlyZXF1aXJlKHNpemUgPiAwKTsKICAgICAgICByZXF1aXJlKF9zdGF0aWNvaW5zLmxlbmd0aCA9PSBzaXplKTsKICAgICAgICByZXF1aXJlKF9yaXNrY29pbnMubGVuZ3RoID09IHNpemUpOwogICAgICAgIHJlcXVpcmUoX3ByaWNlcy5sZW5ndGggPT0gc2l6ZSk7CiAgICAgICAgdWludCBzdGVwID0gMTE7CiAgICAgICAgdWludFtdIG1lbW9yeSBTdW1tYXJ5cyA9IG5ldyB1aW50W10oc2l6ZSpzdGVwKzEpOwogICAgICAgIElfUHJpY2VyIHByaWNlciA9IElfUHJpY2VyKHByaWNlcnNbMF0pOwoJCVN1bW1hcnlzWzBdID0gcHJpY2VyLnF1ZXJ5Q29zdCgpOyAvL2NhbiBvbmx5IHBhc3MgaW4gNCBhcnJheXMgdG8gdGhlIGZ1bmN0aW9uLiAgVGhpcyBub3cgYXNzdW1lcyB0aGF0IGFsbCBwcmljZXJzIGhhdmUgdGhlIHNhbWUgcXVlcnkgY29zdAoKICAgICAgICBmb3IodWludCBpID0gMDsgaTwgc2l6ZTsgaSsrKXsKICAgICAgICAgICAgSV9jb2luIHN0YXRpY29pbiA9IElfY29pbihfc3RhdGljb2luc1tpXSk7CiAgICAgICAgICAgIElfY29pbiByaXNrY29pbiA9IElfY29pbihfcmlza2NvaW5zW2ldKTsKICAgICAgICAgICAgSV9taW50ZXIgbWludCA9IElfbWludGVyKF9taW50c1tpXSk7CiAgICAgICAgICAgIFN1bW1hcnlzW2kqc3RlcCsxXSAgPSBzdGF0aWNvaW4uYmFsYW5jZU9mKHVzZXIpOwogICAgICAgICAgICBTdW1tYXJ5c1tpKnN0ZXArMl0gID0gcmlza2NvaW4uYmFsYW5jZU9mKHVzZXIpOwogICAgICAgICAgICBTdW1tYXJ5c1tpKnN0ZXArM10gID0gc3RhdGljb2luLnRvdGFsU3VwcGx5KCk7CiAgICAgICAgICAgIFN1bW1hcnlzW2kqc3RlcCs0XSAgPSByaXNrY29pbi50b3RhbFN1cHBseSgpOwogICAgICAgICAgICBTdW1tYXJ5c1tpKnN0ZXArNV0gID0gbWludC5MZXZlcmFnZSgpOwogICAgICAgICAgICBTdW1tYXJ5c1tpKnN0ZXArNl0gID0gbWludC5TdHJpa2UoKTsKICAgICAgICAgICAgU3VtbWFyeXNbaSpzdGVwKzddICA9IG1pbnQuU3RhdGljRXRoQXZhaWxhYmxlKCk7CiAgICAgICAgICAgIFN1bW1hcnlzW2kqc3RlcCs4XSAgPSBtaW50LlBlbmRpbmdFVEgoKTsKICAgICAgICAgICAgU3VtbWFyeXNbaSpzdGVwKzldICA9IG1pbnQuUmlza1ByaWNlKF9wcmljZXNbaV0pOwogICAgICAgICAgICBTdW1tYXJ5c1tpKnN0ZXArMTBdICA9IG1pbnQuVHJhbnNDb21wbGV0ZWQoKTsKICAgICAgICAgICAgU3VtbWFyeXNbaSpzdGVwKzExXSA9IG1pbnQuYmFsYW5jZTsKICAgICAgICB9ICAgIAogICAgICAgIHJldHVybiBTdW1tYXJ5czsKICAgIH0KCQoJZnVuY3Rpb24gKCkgewogICAgICAgIHJldmVydCgpOwogICAgfQoKfQ=='.
	

]
