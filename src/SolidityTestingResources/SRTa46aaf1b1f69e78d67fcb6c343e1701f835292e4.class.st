Class {
	#name : #SRTa46aaf1b1f69e78d67fcb6c343e1701f835292e4,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTa46aaf1b1f69e78d67fcb6c343e1701f835292e4 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7Cgpjb250cmFjdCBUb2tlbiB7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwp9Cgpjb250cmFjdCBWZXJzaW9uYWJsZSB7CiAgICBzdHJpbmcgcHVibGljIHZlcnNpb25Db2RlOwoKICAgIGZ1bmN0aW9uIGdldFZlcnNpb25CeXRlKHVpbnQgaW5kZXgpIGNvbnN0YW50IHJldHVybnMgKGJ5dGVzMSkgeyAKICAgICAgICByZXR1cm4gYnl0ZXModmVyc2lvbkNvZGUpW2luZGV4XTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRWZXJzaW9uTGVuZ3RoKCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBieXRlcyh2ZXJzaW9uQ29kZSkubGVuZ3RoOwogICAgfQp9Cgpjb250cmFjdCBDb250cmFjdENhdGFsb2cgewogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgVkVSU0lPTiA9IDI7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IFNFUEFSQVRPUiA9ICItIjsKCiAgICBUb2tlbiBwdWJsaWMgdG9rZW47CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIAogICAgZXZlbnQgUmVnaXN0ZXJlZFByZWZpeChzdHJpbmcgX3ByZWZpeCwgYWRkcmVzcyBfb3duZXIpOwogICAgZXZlbnQgVHJhbnNmZXJyZWRQcmVmaXgoc3RyaW5nIF9wcmVmaXgsIGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvKTsKICAgIGV2ZW50IFVucmVnaXN0ZXJlZFByZWZpeChzdHJpbmcgX3ByZWZpeCwgYWRkcmVzcyBfZnJvbSk7CiAgICBldmVudCBOZXdQcmVmaXhQcmljZSh1aW50MjU2IF9sZW5ndGgsIHVpbnQyNTYgX3ByaWNlKTsKICAgIGV2ZW50IFJlZ2lzdGVyZWRDb250cmFjdChzdHJpbmcgX3ZlcnNpb24sIGFkZHJlc3MgX2J5KTsKCiAgICBzdHJ1Y3QgQ29udHJhY3RUeXBlIHsKICAgICAgICBzdHJpbmcgY29kZTsKICAgICAgICBhZGRyZXNzIHNhbXBsZTsKICAgIH0KCiAgICBmdW5jdGlvbiBDb250cmFjdENhdGFsb2coKSB7CiAgICAgICAgdG9rZW4gPSBUb2tlbihhZGRyZXNzKDB4Rjk3MGI4RTM2ZTIzRjdmQzNGRDc1MkVlQTg2ZjhCZThEODMzNzVBNikpOwogICAgICAgIG93bmVyID0gYWRkcmVzcygweEExMDkxNDgxQUVkZTRhZERlMDBDMWEyNjk5MkFFNDlhN2UwRTFGQjApOwoKICAgICAgICAvLyBTZXQgdXAgYWxsIGZvcmdpdmVkIGNoYXJzCiAgICAgICAgYWRkRm9yZ2l2ZWRDaGFyKCIgIik7CiAgICAgICAgYWRkRm9yZ2l2ZWRDaGFyKCLigJAiKTsKICAgICAgICBhZGRGb3JnaXZlZENoYXIoIuKAkSIpOwogICAgICAgIGFkZEZvcmdpdmVkQ2hhcigi4oCSIik7CiAgICAgICAgYWRkRm9yZ2l2ZWRDaGFyKCLigJMiKTsKICAgICAgICBhZGRGb3JnaXZlZENoYXIoIu+5mCIpOwogICAgICAgIGFkZEZvcmdpdmVkQ2hhcigi25QiKTsKICAgICAgICBhZGRGb3JnaXZlZENoYXIoIuKBgyIpOwogICAgICAgIGFkZEZvcmdpdmVkQ2hhcigiy5ciKTsKICAgICAgICBhZGRGb3JnaXZlZENoYXIoIuKIkiIpOwogICAgICAgIGFkZEZvcmdpdmVkQ2hhcigi4p6WIik7CiAgICAgICAgYWRkRm9yZ2l2ZWRDaGFyKCLisroiKTsKICAgIH0KCiAgICBtYXBwaW5nKHN0cmluZyA9PiBDb250cmFjdFR5cGUpIHR5cGVzOwogICAgbWFwcGluZyhzdHJpbmcgPT4gYWRkcmVzcykgcHJlZml4ZXM7CiAgICBtYXBwaW5nKHVpbnQyNTYgPT4gdWludDI1NikgcHJlZml4ZXNQcmljZXM7CgogICAgc3RyaW5nW10gcHVibGljIGZvcmdpdmVkQ2hhcnM7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bykgewogICAgICAgIHJlcXVpcmUodG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBvd25lciA9IHRvOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlcGxhY2VUb2tlbihUb2tlbiBfdG9rZW4pIHsKICAgICAgICByZXF1aXJlKF90b2tlbiAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIHRva2VuID0gX3Rva2VuOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFByZWZpeFByaWNlKHVpbnQyNTYgbGVuZ2h0LCB1aW50MjU2IHByaWNlKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICByZXF1aXJlKGxlbmdodCAhPSAwKTsKICAgICAgICBwcmVmaXhlc1ByaWNlc1tsZW5naHRdID0gcHJpY2U7CiAgICAgICAgTmV3UHJlZml4UHJpY2UobGVuZ2h0LCBwcmljZSk7CiAgICB9CgogICAgZnVuY3Rpb24gbG9hZFZlcnNpb24oVmVyc2lvbmFibGUgZnJvbSkgcHJpdmF0ZSByZXR1cm5zIChzdHJpbmcpIHsKICAgICAgICB1aW50IHNpemUgPSBmcm9tLmdldFZlcnNpb25MZW5ndGgoKTsKICAgICAgICBieXRlcyBtZW1vcnkgb3V0ID0gbmV3IGJ5dGVzKHNpemUpOwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IHNpemU7IGkrKykgewogICAgICAgICAgICBvdXRbaV0gPSBmcm9tLmdldFZlcnNpb25CeXRlKGkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc3RyaW5nKG91dCk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Q29udHJhY3RPd25lcihzdHJpbmcgY29kZSkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHN0cmluZyBtZW1vcnkgcHJlZml4ID0gc3BsaXRGaXJzdChjb2RlLCAiLSIpOwogICAgICAgIHJldHVybiBwcmVmaXhlc1twcmVmaXhdOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldENvbnRyYWN0U2FtcGxlKHN0cmluZyBjb2RlKSBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzKSB7CiAgICAgICAgcmV0dXJuIHR5cGVzW2NvZGVdLnNhbXBsZTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRDb250cmFjdEJ5dGVjb2RlKHN0cmluZyBjb2RlKSBjb25zdGFudCByZXR1cm5zIChieXRlcykgewogICAgICAgIHJldHVybiBnZXRDb250cmFjdENvZGUodHlwZXNbY29kZV0uc2FtcGxlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBoYXNGb3JnaXZlZENoYXIoc3RyaW5nIHMpIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBmb3JnaXZlZENoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChzdHJpbmdDb250YWlucyhzLCBmb3JnaXZlZENoYXJzW2ldKSkKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBhZGRGb3JnaXZlZENoYXIoc3RyaW5nIGMpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgbXNnLnNlbmRlciA9PSBhZGRyZXNzKHRoaXMpKTsKICAgICAgICBpZiAoIWhhc0ZvcmdpdmVkQ2hhcihjKSkgewogICAgICAgICAgICBmb3JnaXZlZENoYXJzLnB1c2goYyk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZUZvcmdpdmVkQ2hhcih1aW50MjU2IGluZGV4LCBzdHJpbmcgY2hhcikgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgcmVxdWlyZShzdHJpbmdFcXVhbHMoY2hhciwgZm9yZ2l2ZWRDaGFyc1tpbmRleF0pKTsKICAgICAgICBzdHJpbmcgc3RvcmFnZSBsYXN0Q2hhciA9IGZvcmdpdmVkQ2hhcnNbZm9yZ2l2ZWRDaGFycy5sZW5ndGggLSAxXTsKICAgICAgICBkZWxldGUgZm9yZ2l2ZWRDaGFyc1tmb3JnaXZlZENoYXJzLmxlbmd0aCAtIDFdOwogICAgICAgIGZvcmdpdmVkQ2hhcnNbaW5kZXhdID0gbGFzdENoYXI7CiAgICB9CgogICAgZnVuY3Rpb24gcmVnaXN0ZXJQcmVmaXgoc3RyaW5nIHByZWZpeCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoIXN0cmluZ0NvbnRhaW5zKHByZWZpeCwgU0VQQVJBVE9SKSk7CiAgICAgICAgcmVxdWlyZSghaGFzRm9yZ2l2ZWRDaGFyKHByZWZpeCkpOwogICAgICAgIHJlcXVpcmUocHJlZml4ZXNbcHJlZml4XSA9PSBhZGRyZXNzKDApKTsKICAgICAgICBpZiAobXNnLnNlbmRlciA9PSBvd25lcikgewogICAgICAgICAgICBwcmVmaXhlc1twcmVmaXhdID0gb3duZXI7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHVpbnQyNTYgcHJpY2UgPSBwcmVmaXhlc1ByaWNlc1tzdHJpbmdMZW4ocHJlZml4KV07CiAgICAgICAgICAgIHJlcXVpcmUocHJpY2UgIT0gMCk7CiAgICAgICAgICAgIHJlcXVpcmUodG9rZW4udHJhbnNmZXJGcm9tKG1zZy5zZW5kZXIsIG93bmVyLCBwcmljZSkpOwogICAgICAgICAgICBwcmVmaXhlc1twcmVmaXhdID0gb3duZXI7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICBSZWdpc3RlcmVkUHJlZml4KHByZWZpeCwgbXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJQcmVmaXgoc3RyaW5nIHByZWZpeCwgYWRkcmVzcyB0bykgewogICAgICAgIHJlcXVpcmUodG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShwcmVmaXhlc1twcmVmaXhdID09IG1zZy5zZW5kZXIpOwogICAgICAgIHByZWZpeGVzW3ByZWZpeF0gPSB0bzsKICAgICAgICBUcmFuc2ZlcnJlZFByZWZpeChwcmVmaXgsIG1zZy5zZW5kZXIsIHRvKTsKICAgIH0KCiAgICBmdW5jdGlvbiB1bnJlZ2lzdGVyUHJlZml4KHN0cmluZyBwcmVmaXgpIHsKICAgICAgICByZXF1aXJlKHByZWZpeGVzW3ByZWZpeF0gPT0gbXNnLnNlbmRlcik7CiAgICAgICAgcHJlZml4ZXNbcHJlZml4XSA9PSBhZGRyZXNzKDApOwogICAgICAgIFVucmVnaXN0ZXJlZFByZWZpeChwcmVmaXgsIG1zZy5zZW5kZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQ29udHJhY3Qoc3RyaW5nIGNvZGUsIGFkZHJlc3Mgc2FtcGxlKSB7CiAgICAgICAgdmFyIHByZWZpeCA9IHNwbGl0Rmlyc3QoY29kZSwgU0VQQVJBVE9SKTsKICAgICAgICByZXF1aXJlKHByZWZpeGVzW3ByZWZpeF0gPT0gbXNnLnNlbmRlcik7CiAgICAgICAgcmVxdWlyZSh0eXBlc1tjb2RlXS5zYW1wbGUgPT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShnZXRDb250cmFjdENvZGUoc2FtcGxlKS5sZW5ndGggIT0gMCk7CiAgICAgICAgdHlwZXNbY29kZV0gPSBDb250cmFjdFR5cGUoY29kZSwgc2FtcGxlKTsKICAgICAgICBSZWdpc3RlcmVkQ29udHJhY3QoY29kZSwgbXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gdmFsaWRhdGVDb250cmFjdChWZXJzaW9uYWJsZSB0YXJnZXQpIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gdmFsaWRhdGVDb250cmFjdFdpdGhDb2RlKHRhcmdldCwgbG9hZFZlcnNpb24odGFyZ2V0KSk7CiAgICB9CgogICAgZnVuY3Rpb24gdmFsaWRhdGVDb250cmFjdFdpdGhDb2RlKGFkZHJlc3MgdGFyZ2V0LCBzdHJpbmcgY29kZSkgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoc3RyaW5nRXF1YWxzKHR5cGVzW2NvZGVdLmNvZGUsIGNvZGUpKTsgLy8gU2FuaXR5IGNoZWNrCiAgICAgICAgYnl0ZXMgbWVtb3J5IGV4cGVjdGVkID0gZ2V0Q29udHJhY3RDb2RlKHR5cGVzW2NvZGVdLnNhbXBsZSk7CiAgICAgICAgYnl0ZXMgbWVtb3J5IGJ5dGVjb2RlID0gZ2V0Q29udHJhY3RDb2RlKHRhcmdldCk7CiAgICAgICAgcmVxdWlyZShleHBlY3RlZC5sZW5ndGggIT0gMCk7CiAgICAgICAgaWYgKGJ5dGVjb2RlLmxlbmd0aCAhPSBleHBlY3RlZC5sZW5ndGgpIHJldHVybiBmYWxzZTsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBleHBlY3RlZC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoYnl0ZWNvZGVbaV0gIT0gZXhwZWN0ZWRbaV0pIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Q29udHJhY3RDb2RlKGFkZHJlc3MgX2FkZHIpIHByaXZhdGUgcmV0dXJucyAoYnl0ZXMgb19jb2RlKSB7CiAgICAgICAgYXNzZW1ibHkgewogICAgICAgICAgbGV0IHNpemUgOj0gZXh0Y29kZXNpemUoX2FkZHIpCiAgICAgICAgICBvX2NvZGUgOj0gbWxvYWQoMHg0MCkKICAgICAgICAgIG1zdG9yZSgweDQwLCBhZGQob19jb2RlLCBhbmQoYWRkKGFkZChzaXplLCAweDIwKSwgMHgxZiksIG5vdCgweDFmKSkpKQogICAgICAgICAgbXN0b3JlKG9fY29kZSwgc2l6ZSkKICAgICAgICAgIGV4dGNvZGVjb3B5KF9hZGRyLCBhZGQob19jb2RlLCAweDIwKSwgMCwgc2l6ZSkKICAgICAgICB9CiAgICB9CgogICAgLy8gQGRldiBSZXR1cm5zIHRoZSBmaXJzdCBzbGljZSBvZiBhIHNwbGl0CiAgICBmdW5jdGlvbiBzcGxpdEZpcnN0KHN0cmluZyBzb3VyY2UsIHN0cmluZyBwb2ludCkgcHJpdmF0ZSByZXR1cm5zIChzdHJpbmcpIHsKICAgICAgICBieXRlcyBtZW1vcnkgcyA9IGJ5dGVzKHNvdXJjZSk7CiAgICAgICAgaWYgKHMubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGludCBpbmRleCA9IHN0cmluZ0luZGV4T2Yoc291cmNlLCBwb2ludCk7CiAgICAgICAgICAgIGlmIChpbmRleCA9PSAtIDEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGJ5dGVzIG1lbW9yeSBvdXRwdXQgPSBuZXcgYnl0ZXModWludChpbmRleCkpOwogICAgICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBpbmRleDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W3VpbnQoaSldID0gc1t1aW50KGkpXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmcob3V0cHV0KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBzdHJpbmdUb0J5dGVzMzIoc3RyaW5nIG1lbW9yeSBzb3VyY2UpIHByaXZhdGUgcmV0dXJucyAoYnl0ZXMzMiByZXN1bHQpIHsKICAgICAgICBhc3NlbWJseSB7CiAgICAgICAgICAgIHJlc3VsdCA6PSBtbG9hZChhZGQoc291cmNlLCAzMikpCiAgICAgICAgfQogICAgfQoKICAgICAgICAvKgogICAgICogQGRldiBSZXR1cm5zIHRoZSBsZW5ndGggb2YgYSBudWxsLXRlcm1pbmF0ZWQgYnl0ZXMzMiBzdHJpbmcuCiAgICAgKiBAcGFyYW0gc2VsZiBUaGUgdmFsdWUgdG8gZmluZCB0aGUgbGVuZ3RoIG9mLgogICAgICogQHJldHVybiBUaGUgbGVuZ3RoIG9mIHRoZSBzdHJpbmcsIGZyb20gMCB0byAzMi4KICAgICAqLwogICAgZnVuY3Rpb24gc3RyaW5nTGVuKHN0cmluZyBzKSBwcml2YXRlIHJldHVybnMgKHVpbnQpIHsKICAgICAgICB2YXIgc2VsZiA9IHN0cmluZ1RvQnl0ZXMzMihzKTsKICAgICAgICB1aW50IHJldDsKICAgICAgICBpZiAoc2VsZiA9PSAwKQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICBpZiAoc2VsZiAmIDB4ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYgPT0gMCkgewogICAgICAgICAgICByZXQgKz0gMTY7CiAgICAgICAgICAgIHNlbGYgPSBieXRlczMyKHVpbnQoc2VsZikgLyAweDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCk7CiAgICAgICAgfQogICAgICAgIGlmIChzZWxmICYgMHhmZmZmZmZmZmZmZmZmZmZmID09IDApIHsKICAgICAgICAgICAgcmV0ICs9IDg7CiAgICAgICAgICAgIHNlbGYgPSBieXRlczMyKHVpbnQoc2VsZikgLyAweDEwMDAwMDAwMDAwMDAwMDAwKTsKICAgICAgICB9CiAgICAgICAgaWYgKHNlbGYgJiAweGZmZmZmZmZmID09IDApIHsKICAgICAgICAgICAgcmV0ICs9IDQ7CiAgICAgICAgICAgIHNlbGYgPSBieXRlczMyKHVpbnQoc2VsZikgLyAweDEwMDAwMDAwMCk7CiAgICAgICAgfQogICAgICAgIGlmIChzZWxmICYgMHhmZmZmID09IDApIHsKICAgICAgICAgICAgcmV0ICs9IDI7CiAgICAgICAgICAgIHNlbGYgPSBieXRlczMyKHVpbnQoc2VsZikgLyAweDEwMDAwKTsKICAgICAgICB9CiAgICAgICAgaWYgKHNlbGYgJiAweGZmID09IDApIHsKICAgICAgICAgICAgcmV0ICs9IDE7CiAgICAgICAgfQogICAgICAgIHJldHVybiAzMiAtIHJldDsKICAgIH0KCiAgICAvLy8gQGRldiBGaW5kcyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgX25lZWRsZSBpbiBfaGF5c3RhY2sKICAgIGZ1bmN0aW9uIHN0cmluZ0luZGV4T2Yoc3RyaW5nIF9oYXlzdGFjaywgc3RyaW5nIF9uZWVkbGUpIHByaXZhdGUgcmV0dXJucyAoaW50KSB7CiAgICAJYnl0ZXMgbWVtb3J5IGggPSBieXRlcyhfaGF5c3RhY2spOwogICAgCWJ5dGVzIG1lbW9yeSBuID0gYnl0ZXMoX25lZWRsZSk7CiAgICAJaWYgKGgubGVuZ3RoIDwgMSB8fCBuLmxlbmd0aCA8IDEgfHwgKG4ubGVuZ3RoID4gaC5sZW5ndGgpKSB7CiAgICAJCXJldHVybiAtMTsKICAgIAl9IGVsc2UgaWYgKGgubGVuZ3RoID4gKDIqKjEyOCAtIDEpKSB7IC8vIHNpbmNlIHdlIGhhdmUgdG8gYmUgYWJsZSB0byByZXR1cm4gLTEgKGlmIHRoZSBjaGFyIGlzbid0IGZvdW5kIG9yIGlucHV0IGVycm9yKSwgdGhpcyBmdW5jdGlvbiBtdXN0IHJldHVybiBhbiAiaW50IiB0eXBlIHdpdGggYSBtYXggbGVuZ3RoIG9mICgyXjEyOCAtIDEpCiAgICAJCXJldHVybiAtMTsJCQkJCQkJCQkKICAgIAl9IGVsc2UgewogICAgCQl1aW50IHN1YmluZGV4ID0gMDsKICAgIAkJZm9yICh1aW50IGkgPSAwOyBpIDwgaC5sZW5ndGg7IGkgKyspIHsKICAgIAkJCWlmIChoW2ldID09IG5bMF0pIHsgLy8gZm91bmQgdGhlIGZpcnN0IGNoYXIgb2YgYgogICAgCQkJCXN1YmluZGV4ID0gMTsKICAgIAkJCQl3aGlsZSAoc3ViaW5kZXggPCBuLmxlbmd0aCAmJiAoaSArIHN1YmluZGV4KSA8IGgubGVuZ3RoICYmIGhbaSArIHN1YmluZGV4XSA9PSBuW3N1YmluZGV4XSkgeyAvLyBzZWFyY2ggdW50aWwgdGhlIGNoYXJzIGRvbid0IG1hdGNoIG9yIHVudGlsIHdlIHJlYWNoIHRoZSBlbmQgb2YgYSBvciBiCiAgICAJCQkJCXN1YmluZGV4Kys7CiAgICAJCQkJfQkKICAgIAkJCQlpZiAoc3ViaW5kZXggPT0gbi5sZW5ndGgpCiAgICAJCQkJCXJldHVybiBpbnQoaSk7CiAgICAJCQl9CiAgICAJCX0KICAgIAkJcmV0dXJuIC0xOwogICAgCX0JCiAgICB9CgogICAgZnVuY3Rpb24gc3RyaW5nRXF1YWxzKHN0cmluZyBfYSwgc3RyaW5nIF9iKSBwcml2YXRlIHJldHVybnMgKGJvb2wpIHsKICAgIAlieXRlcyBtZW1vcnkgYSA9IGJ5dGVzKF9hKTsKICAgIAlieXRlcyBtZW1vcnkgYiA9IGJ5dGVzKF9iKTsKICAgICAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChhW2ldICE9IGJbaV0pIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gc3RyaW5nQ29udGFpbnMoc3RyaW5nIHNlbGYsIHN0cmluZyBuZWVkbGUpIHByaXZhdGUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdHJpbmdJbmRleE9mKHNlbGYsIG5lZWRsZSkgIT0gaW50KC0xKTsKICAgIH0KfQ=='.
	

]
