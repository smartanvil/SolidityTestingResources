Class {
	#name : #SRTBfD9A5911a655729660048bD8f91511b09A439A3,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTBfD9A5911a655729660048bD8f91511b09A439A3 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7CgoKCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cgp9CgoKCi8qKgogKiBAdGl0bGUgUGF1c2FibGUKICogQGRldiBCYXNlIGNvbnRyYWN0IHdoaWNoIGFsbG93cyBjaGlsZHJlbiB0byBpbXBsZW1lbnQgYW4gZW1lcmdlbmN5IHN0b3AgbWVjaGFuaXNtLgogKi8KY29udHJhY3QgUGF1c2FibGUgaXMgT3duYWJsZSB7CiAgZXZlbnQgUGF1c2UoKTsKICBldmVudCBVbnBhdXNlKCk7CgogIGJvb2wgcHVibGljIHBhdXNlZCA9IGZhbHNlOwoKCiAgLyoqCiAgICogQGRldiBNb2RpZmllciB0byBtYWtlIGEgZnVuY3Rpb24gY2FsbGFibGUgb25seSB3aGVuIHRoZSBjb250cmFjdCBpcyBub3QgcGF1c2VkLgogICAqLwogIG1vZGlmaWVyIHdoZW5Ob3RQYXVzZWQoKSB7CiAgICByZXF1aXJlKCFwYXVzZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgTW9kaWZpZXIgdG8gbWFrZSBhIGZ1bmN0aW9uIGNhbGxhYmxlIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgaXMgcGF1c2VkLgogICAqLwogIG1vZGlmaWVyIHdoZW5QYXVzZWQoKSB7CiAgICByZXF1aXJlKHBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHBhdXNlLCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gcGF1c2UoKSBvbmx5T3duZXIgd2hlbk5vdFBhdXNlZCBwdWJsaWMgewogICAgcGF1c2VkID0gdHJ1ZTsKICAgIFBhdXNlKCk7CiAgfQoKICAvKioKICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gdW5wYXVzZSwgcmV0dXJucyB0byBub3JtYWwgc3RhdGUKICAgKi8KICBmdW5jdGlvbiB1bnBhdXNlKCkgb25seU93bmVyIHdoZW5QYXVzZWQgcHVibGljIHsKICAgIHBhdXNlZCA9IGZhbHNlOwogICAgVW5wYXVzZSgpOwogIH0KfQoKCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07IH0KICAgIC8vIFRyYW5zZmVyIGlzIGRpc2FibGVkIGZvciB1c2VycywgYXMgdGhlc2UgYXJlIFByZVNhbGUgdG9rZW5zCiAgICAvL2Z1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKKiBAdGl0bGUgR2ltbWVyIFByZVNhbGUgU21hcnQgQ29udHJhY3QKKiBAYXV0aG9yIDxhIGhyZWY9Ii9jZG4tY2dpL2wvZW1haWwtcHJvdGVjdGlvbiIgY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSI4MmVlZjdlMWUzZjFjMmU1ZWJlZmVmZTdmMGFjZWNlN2Y2Ij5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9hPiwgPGEgaHJlZj0iL2Nkbi1jZ2kvbC9lbWFpbC1wcm90ZWN0aW9uIiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9ImEzYzljYWQ3YzZjZGM3ZDFjMmUzYzBjYmNhZDdkN2NjYzdjMjhkYzBjY2NlIj5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9hPgoqLwpjb250cmFjdCBHaW1tZXJQcmVTYWxlIGlzIEVSQzIwQmFzaWMsIFBhdXNhYmxlIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIC8qKgogICAgKiBAZGV2IFN1cHBvcnRlciBzdHJ1Y3R1cmUsIHdoaWNoIGFsbG93cyB1cyB0byB0cmFjawogICAgKiBob3cgbXVjaCB0aGUgdXNlciBoYXMgYm91Z2h0IHNvIGZhciwgYW5kIGlmIGhlJ3MgZmxhZ2dlZCBhcyBrbm93bgogICAgKi8KICAgIHN0cnVjdCBTdXBwb3J0ZXIgewogICAgICAgIHVpbnQyNTYgd2VpU3BlbnQ7ICAgLy8gdGhlIHRvdGFsIGFtb3VudCBvZiBXZWkgdGhpcyBhZGRyZXNzIGhhcyBzZW50IHRvIHRoaXMgY29udHJhY3QKICAgICAgICBib29sIGhhc0tZQzsgICAgICAgIC8vIGlmIHRoZSB1c2VyIGhhcyBLWUMgZmxhZ2dlZAogICAgfQoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBTdXBwb3J0ZXIpIHB1YmxpYyBzdXBwb3J0ZXJzTWFwOyAvLyBNYXBwaW5nIHdpdGggYWxsIHRoZSBjYW1wYWlnbiBzdXBwb3J0ZXJzCiAgICBhZGRyZXNzIHB1YmxpYyBmdW5kV2FsbGV0OyAgICAgIC8vIEFkZHJlc3MgdG8gZm9yd2FyZCBhbGwgRXRoZXIgdG8KICAgIGFkZHJlc3MgcHVibGljIGt5Y01hbmFnZXI7ICAgICAgLy8gQWRkcmVzcyB0aGF0IG1hbmFnZXMgYXBwcm92YWwgb2YgS1lDCiAgICB1aW50MjU2IHB1YmxpYyB0b2tlbnNTb2xkOyAgICAgIC8vIEhvdyBtYW55IHRva2VucyBzb2xkIGluIFByZVNhbGUKICAgIHVpbnQyNTYgcHVibGljIHdlaVJhaXNlZDsgICAgICAgLy8gYW1vdW50IG9mIHJhaXNlZCBtb25leSBpbiB3ZWkKCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBPTkVfTUlMTElPTiA9IDEwMDAwMDA7CiAgICAvLyBNYXhpbXVtIGFtb3VudCB0aGF0IGNhbiBiZSBzb2xkIGR1cmluZyB0aGUgUHJlIFNhbGUgcGVyaW9kCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBQUkVfU0FMRV9HTVJQX1RPS0VOX0NBUCA9IDE1ICogT05FX01JTExJT04gKiAxIGV0aGVyOyAvLzE1IE1pbGxpb24gR01SUCBUb2tlbnMKCiAgICAvKiBBbGxvd2VkIENvbnRyaWJ1dGlvbiBpbiBFdGhlciAqLwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUFJFX1NBTEVfMzBfRVRIICAgICA9IDMwIGV0aGVyOyAgLy8gTWluaW11bSAzMCBFdGhlciB0byBnZXQgMjUlIEJvbnVzIFRva2VucwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUFJFX1NBTEVfMzAwX0VUSCAgICA9IDMwMCBldGhlcjsgLy8gTWluaW11bSAzMDAgRXRoZXIgdG8gZ2V0IDMwJSBCb251cyBUb2tlbnMKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFBSRV9TQUxFXzMwMDBfRVRIICAgPSAzMDAwIGV0aGVyOy8vIE1pbmltdW0gMzAwMCBFdGhlciB0byBnZXQgNDAlIEJvbnVzIFRva2VucwoKICAgIC8qIEJvbnVzIFRva2VucyBiYXNlZCBvbiB0aGUgRVRIIENvbnRyaWJ1dGVkIGluIHNpbmdsZSB0cmFuc2FjdGlvbiAqLwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgVE9LRU5fUkFURV8yNV9QRVJDRU5UX0JPTlVTID0gMTI1MDsgLy8gMjUlIEJvbnVzIFRva2Vucywgd2hlbiA+PSAzMCBFVEggJiA8IDMwMCBFVEgKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFRPS0VOX1JBVEVfMzBfUEVSQ0VOVF9CT05VUyA9IDEzMDA7IC8vIDMwJSBCb251cyBUb2tlbnMsIHdoZW4gPj0gMzAwIEVUSCAmIDwgMzAwMCBFVEgKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFRPS0VOX1JBVEVfNDBfUEVSQ0VOVF9CT05VUyA9IDE0MDA7IC8vIDQwJSBCb251cyBUb2tlbnMsIHdoZW4gPj0gMzAwMCBFVEgKCiAgICAvKiBzdGFydCBhbmQgZW5kIHRpbWVzdGFtcHMgd2hlcmUgaW52ZXN0bWVudHMgYXJlIGFsbG93ZWQgKGJvdGggaW5jbHVzaXZlKSAqLwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgU1RBUlRfVElNRSAgPSAxNTExNTI0ODAwOyAgIC8vR01UOiBGcmlkYXksIDI0IE5vdmVtYmVyIDIwMTcgMTI6MDA6MDAKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IEVORF9USU1FICAgID0gMTUxNDg5NDQwMDsgICAvL0dNVDogVHVlc2RheSwgMiBKYW51YXJ5ICAyMDE4IDEyOjAwOjAwCgogICAgLyogVG9rZW4gbWV0YWRhdGEgKi8KICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJHaW1tZXJQcmVTYWxlIFRva2VuIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkdNUlAiOwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKCiAgICAvKioKICAgICogQGRldiBNb2RpZmllciB0byBvbmx5IGFsbG93IEtZQ01hbmFnZXIKICAgICovCiAgICBtb2RpZmllciBvbmx5S3ljTWFuYWdlcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0ga3ljTWFuYWdlcik7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICogRXZlbnQgZm9yIHRva2VuIHB1cmNoYXNlIGxvZ2dpbmcKICAgICogQHBhcmFtIHB1cmNoYXNlciAgd2hvIGJvdWdodCB0aGUgdG9rZW5zCiAgICAqIEBwYXJhbSB2YWx1ZSAgICAgIHdlaXMgcGFpZCBmb3IgcHVyY2hhc2UKICAgICogQHBhcmFtIGFtb3VudCAgICAgYW1vdW50IG9mIHRva2VucyBwdXJjaGFzZWQKICAgICovCiAgICBldmVudCBUb2tlblB1cmNoYXNlKGFkZHJlc3MgaW5kZXhlZCBwdXJjaGFzZXIsIHVpbnQyNTYgdmFsdWUsIHVpbnQyNTYgYW1vdW50KTsKCiAgICAvKioKICAgICogRXZlbnQgZm9yIG1pbnRpbmcgbmV3IHRva2VucwogICAgKiBAcGFyYW0gdG8gICAgICAgICBUaGUgcGVyc29uIHRoYXQgcmVjZWl2ZWQgdG9rZW5zCiAgICAqIEBwYXJhbSBhbW91bnQgICAgIEFtb3VudCBvZiB0b2tlbnMgcmVjZWl2ZWQKICAgICovCiAgICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwoKICAgIC8qKgogICAgICogRXZlbnQgdG8gbG9nIGEgdXNlciBpcyBhcHByb3ZlZCBvciBkaXNhcHByb3ZlZAogICAgICogQHBhcmFtIHVzZXIgICAgICAgICAgVXNlciB3aG8gaGFzIGJlZW4gYXBwcm92ZWQvZGlzYXBwcm92ZWQKICAgICAqIEBwYXJhbSBpc0FwcHJvdmVkICAgIHRydWUgOiBVc2VyIGlzIGFwcHJvdmVkLCBmYWxzZSA6IFVzZXIgaXMgZGlzYXBwcm92ZWQKICAgICAqLwogICAgZXZlbnQgS1lDKGFkZHJlc3MgaW5kZXhlZCB1c2VyLCBib29sIGlzQXBwcm92ZWQpOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3IKICAgICAqIEBwYXJhbSBfZnVuZFdhbGxldCAgICAgICAgICAgQWRkcmVzcyB0byBmb3J3YXJkIGFsbCByZWNlaXZlZCBFdGhlcnMgdG8KICAgICAqIEBwYXJhbSBfa3ljTWFuYWdlcldhbGxldCAgICAgS1lDIE1hbmFnZXIgd2FsbGV0IHRvIGFwcHJvdmUgLyBkaXNhcHByb3ZlIHVzZXIncyBLWUMKICAgICAqLwogICAgZnVuY3Rpb24gR2ltbWVyUHJlU2FsZShhZGRyZXNzIF9mdW5kV2FsbGV0LCBhZGRyZXNzIF9reWNNYW5hZ2VyV2FsbGV0KSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX2Z1bmRXYWxsZXQgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfa3ljTWFuYWdlcldhbGxldCAhPSBhZGRyZXNzKDApKTsKCiAgICAgICAgZnVuZFdhbGxldCA9IF9mdW5kV2FsbGV0OwogICAgICAgIGt5Y01hbmFnZXIgPSBfa3ljTWFuYWdlcldhbGxldDsKICAgIH0KCiAgICAvKiBmYWxsYmFjayBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBidXkgdG9rZW5zICovCiAgICBmdW5jdGlvbiAoKSB3aGVuTm90UGF1c2VkIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICBidXlUb2tlbnMoKTsKICAgIH0KCiAgICAvKiBAcmV0dXJuIHRydWUgaWYgdGhlIHRyYW5zYWN0aW9uIGNhbiBidXkgdG9rZW5zLCBvdGhlcndpc2UgZmFsc2UgKi8KICAgIGZ1bmN0aW9uIHZhbGlkUHVyY2hhc2UoKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgYm9vbCB3aXRoaW5QZXJpb2QgPSBub3cgPj0gU1RBUlRfVElNRSAmJiBub3cgPD0gRU5EX1RJTUU7CiAgICAgICAgYm9vbCBoaWdoZXJUaGFuTWluMzBFVEggPSBtc2cudmFsdWUgPj0gUFJFX1NBTEVfMzBfRVRIOwogICAgICAgIHJldHVybiB3aXRoaW5QZXJpb2QgJiYgaGlnaGVyVGhhbk1pbjMwRVRIOwogICAgfQoKICAgIC8qIGxvdyBsZXZlbCB0b2tlbiBwdXJjaGFzZSBmdW5jdGlvbiAqLwogICAgZnVuY3Rpb24gYnV5VG9rZW5zKCkgd2hlbk5vdFBhdXNlZCBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgYWRkcmVzcyBzZW5kZXIgPSBtc2cuc2VuZGVyOwoKICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIHVzZXIgYnV5aW5nIHRva2VucyBoYXMgS1lDCiAgICAgICAgcmVxdWlyZSh1c2VySGFzS1lDKHNlbmRlcikpOwogICAgICAgIHJlcXVpcmUodmFsaWRQdXJjaGFzZSgpKTsKCiAgICAgICAgLy8gY2FsY3VsYXRlIHRva2VuIGFtb3VudCB0byBiZSBjcmVhdGVkCiAgICAgICAgdWludDI1NiB3ZWlBbW91bnRTZW50ID0gbXNnLnZhbHVlOwogICAgICAgIHVpbnQyNTYgcmF0ZSA9IGdldFJhdGUod2VpQW1vdW50U2VudCk7CiAgICAgICAgdWludDI1NiBuZXdUb2tlbnMgPSB3ZWlBbW91bnRTZW50Lm11bChyYXRlKTsKCiAgICAgICAgLy8gbG9vayBpZiB3ZSBoYXZlIG5vdCB5ZXQgcmVhY2hlZCB0aGUgY2FwCiAgICAgICAgdWludDI1NiB0b3RhbFRva2Vuc1NvbGQgPSB0b2tlbnNTb2xkLmFkZChuZXdUb2tlbnMpOwogICAgICAgIHJlcXVpcmUodG90YWxUb2tlbnNTb2xkIDw9IFBSRV9TQUxFX0dNUlBfVE9LRU5fQ0FQKTsKCiAgICAgICAgLy8gdXBkYXRlIHN1cHBvcnRlciBzdGF0ZQogICAgICAgIFN1cHBvcnRlciBzdG9yYWdlIHN1cCA9IHN1cHBvcnRlcnNNYXBbc2VuZGVyXTsKICAgICAgICB1aW50MjU2IHRvdGFsV2VpID0gc3VwLndlaVNwZW50LmFkZCh3ZWlBbW91bnRTZW50KTsKICAgICAgICBzdXAud2VpU3BlbnQgPSB0b3RhbFdlaTsKCiAgICAgICAgLy8gdXBkYXRlIGNvbnRyYWN0IHN0YXRlCiAgICAgICAgd2VpUmFpc2VkID0gd2VpUmFpc2VkLmFkZCh3ZWlBbW91bnRTZW50KTsKICAgICAgICB0b2tlbnNTb2xkID0gdG90YWxUb2tlbnNTb2xkOwoKICAgICAgICAvLyBmaW5hbGx5IG1pbnQgdGhlIGNvaW5zCiAgICAgICAgbWludChzZW5kZXIsIG5ld1Rva2Vucyk7CiAgICAgICAgVG9rZW5QdXJjaGFzZShzZW5kZXIsIHdlaUFtb3VudFNlbnQsIG5ld1Rva2Vucyk7CgogICAgICAgIC8vIGFuZCBmb3J3YXJkIHRoZSBmdW5kcyB0byB0aGUgd2FsbGV0CiAgICAgICAgZm9yd2FyZEZ1bmRzKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiByZXR1cm5zIHRoZSByYXRlIHRoZSB1c2VyIHdpbGwgYmUgcGF5aW5nIGF0LAogICAgICogYmFzZWQgb24gdGhlIGFtb3VudCBvZiB3ZWkgc2VudCB0byB0aGUgY29udHJhY3QKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0UmF0ZSh1aW50MjU2IHdlaUFtb3VudCkgcHVibGljIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGlmICh3ZWlBbW91bnQgPj0gUFJFX1NBTEVfMzAwMF9FVEgpIHsKICAgICAgICAgICAgcmV0dXJuIFRPS0VOX1JBVEVfNDBfUEVSQ0VOVF9CT05VUzsKICAgICAgICB9IGVsc2UgaWYod2VpQW1vdW50ID49IFBSRV9TQUxFXzMwMF9FVEgpIHsKICAgICAgICAgICAgcmV0dXJuIFRPS0VOX1JBVEVfMzBfUEVSQ0VOVF9CT05VUzsKICAgICAgICB9IGVsc2UgaWYod2VpQW1vdW50ID49IFBSRV9TQUxFXzMwX0VUSCkgewogICAgICAgICAgICByZXR1cm4gVE9LRU5fUkFURV8yNV9QRVJDRU5UX0JPTlVTOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIHNlbmQgZXRoZXIgdG8gdGhlIGZ1bmQgY29sbGVjdGlvbiB3YWxsZXQKICAgICAqIG92ZXJyaWRlIHRvIGNyZWF0ZSBjdXN0b20gZnVuZCBmb3J3YXJkaW5nIG1lY2hhbmlzbXMKICAgICAqLwogICAgZnVuY3Rpb24gZm9yd2FyZEZ1bmRzKCkgaW50ZXJuYWwgewogICAgICAgIGZ1bmRXYWxsZXQudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgIH0KCiAgICAvLyBAcmV0dXJuIHRydWUgaWYgY3Jvd2RzYWxlIGV2ZW50IGhhcyBlbmRlZAogICAgZnVuY3Rpb24gaGFzRW5kZWQoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBub3cgPiBFTkRfVElNRTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBBcHByb3ZlcyBhbiBVc2VyJ3MgS1lDCiAgICAqIEBwYXJhbSBfdXNlciBUaGUgdXNlciB0byBmbGFnIGFzIGtub3duCiAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZVVzZXJLWUMoYWRkcmVzcyBfdXNlcikgb25seUt5Y01hbmFnZXIgcHVibGljIHsKICAgICAgICBTdXBwb3J0ZXIgc3RvcmFnZSBzdXAgPSBzdXBwb3J0ZXJzTWFwW191c2VyXTsKICAgICAgICBzdXAuaGFzS1lDID0gdHJ1ZTsKICAgICAgICBLWUMoX3VzZXIsIHRydWUpOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBEaXNhcHByb3ZlcyBhbiBVc2VyJ3MgS1lDCiAgICAgKiBAcGFyYW0gX3VzZXIgVGhlIHVzZXIgdG8gZmxhZyBhcyB1bmtub3duIC8gc3VzcGVjaW91cwogICAgICovCiAgICBmdW5jdGlvbiBkaXNhcHByb3ZlVXNlcktZQyhhZGRyZXNzIF91c2VyKSBvbmx5S3ljTWFuYWdlciBwdWJsaWMgewogICAgICAgIFN1cHBvcnRlciBzdG9yYWdlIHN1cCA9IHN1cHBvcnRlcnNNYXBbX3VzZXJdOwogICAgICAgIHN1cC5oYXNLWUMgPSBmYWxzZTsKICAgICAgICBLWUMoX3VzZXIsIGZhbHNlKTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBDaGFuZ2VzIHRoZSBLWUMgbWFuYWdlciB0byBhIG5ldyBhZGRyZXNzCiAgICAqIEBwYXJhbSBfbmV3S1lDTWFuYWdlciBUaGUgbmV3IGFkZHJlc3MgdGhhdCB3aWxsIGJlIG1hbmFnaW5nIEtZQyBhcHByb3ZhbAogICAgKi8KICAgIGZ1bmN0aW9uIHNldEtZQ01hbmFnZXIoYWRkcmVzcyBfbmV3S1lDTWFuYWdlcikgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfbmV3S1lDTWFuYWdlciAhPSBhZGRyZXNzKDApKTsKICAgICAgICBreWNNYW5hZ2VyID0gX25ld0tZQ01hbmFnZXI7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgUmV0dXJucyBpZiBhbiB1c2VycyBoYXMgS1lDIGFwcHJvdmFsIG9yIG5vdAogICAgKiBAcmV0dXJuIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHVzZXIncyBLWUMgc3RhdHVzCiAgICAqLwogICAgZnVuY3Rpb24gdXNlckhhc0tZQyhhZGRyZXNzIF91c2VyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBwb3J0ZXJzTWFwW191c2VyXS5oYXNLWUM7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IFJldHVybnMgdGhlIHdlaVNwZW50IG9mIGEgdXNlcgogICAgICovCiAgICBmdW5jdGlvbiB1c2VyV2VpU3BlbnQoYWRkcmVzcyBfdXNlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gc3VwcG9ydGVyc01hcFtfdXNlcl0ud2VpU3BlbnQ7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgRnVuY3Rpb24gdG8gbWludCB0b2tlbnMKICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0aGF0IHdpbGwgcmVjZWl2ZSB0aGUgbWludGVkIHRva2Vucy4KICAgICogQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gbWludC4KICAgICogQHJldHVybiBBIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgICovCiAgICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIGludGVybmFsIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CiAgICAgICAgTWludChfdG8sIF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKDB4MCwgX3RvLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQ=='.
	

]
