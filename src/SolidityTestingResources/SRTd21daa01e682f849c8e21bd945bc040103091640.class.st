Class {
	#name : #SRTd21daa01e682f849c8e21bd945bc040103091640,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd21daa01e682f849c8e21bd945bc040103091640 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CmNvbnRyYWN0IEVSQzIwIHsKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCBzdXBwbHkpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKCBhZGRyZXNzIF9vd25lciApIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgYmFsYW5jZSk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoIGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyICkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCBhbGxvd2FuY2VfKTsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlciggYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKXB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKCBhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSApcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgZXZlbnQgVHJhbnNmZXIoIGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoIGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludCB2YWx1ZSk7Cn0KCgpjb250cmFjdCBVVEVNSVMgaXMgRVJDMjB7ICAgICAgICAgICAgCgogICAgICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBUT0tFTl9ERUNJTUFMICAgICA9IDE4OyAgICAgICAgCiAgICAgICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgVE9LRU5fRVNDQUxFICAgID0gMSAqIDEwICoqIHVpbnQyNTYoVE9LRU5fREVDSU1BTCk7IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgVE9UQUxfU1VQUExZICAgID0gMTAwMDAwMDAwMDAwMCAqIFRPS0VOX0VTQ0FMRTsgLy8gMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCBTbWFydCBjb250cmFjdCBVTklUUyB8IDEuMDAwLjAwMC4wMDAuMDAwLDAwMDAwMDAwMDAwMCBFdGhlcmV1bSByZXByZXNlbnRhdGlvbgogICAgICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IElDT19TVVBQTFkgICAgICA9IDI1MDAwMDAwMDAwMCAqIFRPS0VOX0VTQ0FMRTsgIC8vIDI1MDAwMDAwMDAwMDAwMDAwMDAwMDAwMCBTbWFydCBjb250cmFjdCBVTklUUyAgfCAyMDAuMDAwLjAwMC4wMDAsMDAwMDAwMDAwMDAwIEV0aGVyZXVtIHJlcHJlc2VudGF0aW9uCgogICAgICAgIHVpbnQgcHVibGljIGNvbnN0YW50IE1JTl9BQ0NFUFRFRF9WQUxVRSA9IDUwMDAwMDAwMDAwMDAwMDAwIHdlaTsKICAgICAgICB1aW50IHB1YmxpYyBjb25zdGFudCBWQUxVRV9PRl9VVFMgICAgICAgPSA2NjY2NjY1OTk5OTkgd2VpOwoKICAgICAgICB1aW50IHB1YmxpYyBjb25zdGFudCBTVEFSVF9JQ08gICAgICAgICAgPSAxNTE4NzE0MDAwOyAvLyAxNSBGZWIgMjAxOCAxNzowMDowMCBHTVQgfCAxNSBGZWIgMjAxOCAxODowMDowMCBHTVQrMQoKICAgICAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IFRPS0VOX05BTUUgICAgICAgPSAiVVRFTUlTIjsKICAgICAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IFRPS0VOX1NZTUJPTCAgICAgPSAiVVRTIjsKCiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0gRmluaXNoIHB1YmxpYyBjb25zdGFudHMgLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoKICAgIC8qKioqKioqKioqKioqKioqKioqKiBTdGFydCBwcml2YXRlIE5PLUNvbnN0YW50cyB2YXJpYWJsZXMgKioqKioqKioqKioqKioqKioqKiovCiAgICAKICAgICAgICB1aW50WzRdICBwcml2YXRlIGJvbnVzVGltZSAgICAgICAgICAgICA9IFsxNCBkYXlzICwgNDUgZGF5cyAsIDc0IGRheXNdOyAgICAgICAgCiAgICAgICAgdWludDhbNF0gcHJpdmF0ZSBib251c0JlbmVmaXQgICAgICAgICAgPSBbdWludDgoNTApICAsIHVpbnQ4KDMwKSAgICwgdWludDgoMTApXTsKICAgICAgICB1aW50OFs0XSBwcml2YXRlIGJvbnVzUGVySW52ZXN0aW9uXzEwICA9IFt1aW50OCgyNSkgICwgdWludDgoMTUpICAgLCB1aW50OCg1KV07CiAgICAgICAgdWludDhbNF0gcHJpdmF0ZSBib251c1BlckludmVzdGlvbl81MCAgPSBbdWludDgoNTApICAsIHVpbnQ4KDMwKSAgICwgdWludDgoMjApXTsKICAgIAogICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tIEZpbmlzaCBwcml2YXRlIE5PLUNvbnN0YW50cyB2YXJpYWJsZXMgLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoKICAgIC8qKioqKioqKioqKioqKioqKioqKiBTdGFydCBwdWJsaWMgTk8tQ29uc3RhbnRzIHZhcmlhYmxlcyAqKioqKioqKioqKioqKioqKioqKi8gICAgICAgIAogICAgICAgCiAgICAgICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgICAgICAgYWRkcmVzcyBwdWJsaWMgYmVuZWZpY2lhcnk7ICAgICAgICAgICAgCiAgICAgICAgdWludCBwdWJsaWMgZXRoZXJzQ29sbGVjdGVkczsKICAgICAgICB1aW50IHB1YmxpYyB0b2tlbnNTb2xkOwogICAgICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5ID0gVE9UQUxfU1VQUExZOwogICAgICAgIGJvb2wgcHVibGljIGljb1N0YXJ0ZWQ7ICAgICAgICAgICAgCiAgICAgICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlczsgICAgCiAgICAgICAgbWFwcGluZyhhZGRyZXNzID0+IEludmVzdG9ycykgcHVibGljIGludmVzdG9yc0xpc3Q7CiAgICAgICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2VkOwogICAgICAgIGFkZHJlc3NbXSBwdWJsaWMgaW52ZXN0b3JzQWRkcmVzczsgICAgCiAgICAgICAgc3RyaW5nIHB1YmxpYyBuYW1lICAgICA9IFRPS0VOX05BTUU7CiAgICAgICAgdWludDggcHVibGljIGRlY2ltYWxzICA9IFRPS0VOX0RFQ0lNQUw7CiAgICAgICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgICA9IFRPS0VOX1NZTUJPTDsKICAgCiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0gRmluaXNoIHB1YmxpYyBOTy1Db25zdGFudHMgdmFyaWFibGVzIC0tLS0tLS0tLS0tLS0tLS0tLS0qLyAgICAKCiAgICBzdHJ1Y3QgSW52ZXN0b3JzewogICAgICAgIHVpbnQyNTYgYW1vdW50OwogICAgICAgIHVpbnQgd2hlbjsKICAgIH0KCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSAsIGFkZHJlc3MgaW5kZXhlZCB0byAsIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciAsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciAsIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGZyb20sIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgRnVuZFRyYW5zZmVyKGFkZHJlc3MgYmFja2VyICwgdWludCBhbW91bnQgLCBhZGRyZXNzIGludmVzdG9yKTsKCiAgICAvL1NhZmUgbWF0aAogICAgZnVuY3Rpb24gc2FmZVN1Yih1aW50IGEgLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCl7YXNzZXJ0KGIgPD0gYSk7cmV0dXJuIGEgLSBiO30gIAogICAgZnVuY3Rpb24gc2FmZUFkZCh1aW50IGEgLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCl7dWludCBjID0gYSArIGI7YXNzZXJ0KGM+PWEgJiYgYz49Yik7cmV0dXJuIGM7fQogICAgCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICBtb2RpZmllciBpY29Jc1N0YXJ0ZWQoKXsKICAgICAgICByZXF1aXJlKGljb1N0YXJ0ZWQgPT0gdHJ1ZSk7ICAgICAgICAKICAgICAgICByZXF1aXJlKG5vdyA+PSBTVEFSVF9JQ08pOyAgICAgIAogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgaWNvSXNTdG9wcGVkKCl7CiAgICAgICAgcmVxdWlyZShpY29TdGFydGVkID09IGZhbHNlKTsgCiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBtaW5WYWx1ZSgpewogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IE1JTl9BQ0NFUFRFRF9WQUxVRSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBVVEVNSVMoKSBwdWJsaWN7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSB0b3RhbFN1cHBseTsKICAgICAgICBvd25lciAgICAgICAgICAgICAgID0gbXNnLnNlbmRlcjsgICAgICAgIAogICAgfQoKCiAgICAvKioKICAgICAqIEVSQzIwCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyh1aW50MjU2IGJhbGFuY2UpewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIC8qKgogICAgICogRVJDMjAKICAgICAqLwogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyh1aW50MjU2IHN1cHBseSl7CiAgICAgICAgcmV0dXJuIHRvdGFsU3VwcGx5OwogICAgfQoKCgogICAgLyoqCiAgICAgKiBGb3IgdHJhbnNmZXIgdG9rZW5zLiBJbnRlcm5hbCB1c2UsIG9ubHkgY2FuIGV4ZWN1dGVkIGJ5IHRoaXMgY29udHJhY3QgRVJDMjAKICAgICAqIEVSQzIwCiAgICAgKiBAcGFyYW0gIF9mcm9tICAgICAgICAgU291cmNlIGFkZHJlc3MKICAgICAqIEBwYXJhbSAgX3RvICAgICAgICAgICBEZXN0aW5hdGlvbiBhZGRyZXNzCiAgICAgKiBAcGFyYW0gIF92YWx1ZSAgICAgICAgQW1vdW50IG9mIHRva2VucyB0byBzZW5kCiAgICAgKi8KICAgIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF9mcm9tICwgYWRkcmVzcyBfdG8gLCB1aW50IF92YWx1ZSkgaW50ZXJuYWx7ICAgICAgICAKICAgICAgICByZXF1aXJlKF90byAhPSAweDApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1ByZXZlbnQgc2VuZCB0b2tlbnMgdG8gMHgwIGFkZHJlc3MgICAgICAgIAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXZlIGVub3VnaCB0b2tlbnMgICAgICAgIAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQ2hlY2sgZm9yIG92ZXJmbG93cyAgICAgICAgCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dICAgICAgICAgPSBzYWZlU3ViKGJhbGFuY2VzW19mcm9tXSAsIF92YWx1ZSk7ICAgICAgICAgICAgICAgICAgLy9TdWJ0cmFjdCBmcm9tIHRoZSBzb3VyY2UgKCBzZW5kZXIgKSAgICAgICAgCiAgICAgICAgYmFsYW5jZXNbX3RvXSAgICAgICAgICAgPSBzYWZlQWRkKGJhbGFuY2VzW190b10gICAsIF92YWx1ZSk7ICAgICAgICAgICAgICAgICAgLy9BZGQgdG9rZW5zIHRvIGRlc3RpbmF0aW9uICAgICAgICAKICAgICAgICB1aW50IHByZXZpb3VzQmFsYW5jZSAgICA9IGJhbGFuY2VzW19mcm9tXSArIGJhbGFuY2VzW190b107ICAgICAgICAgICAgICAgICAgICAvL1RvIG1ha2UgYXNzZXJ0ICAgICAgICAKICAgICAgICBUcmFuc2ZlcihfZnJvbSAsIF90byAsIF92YWx1ZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0ZpcmUgZXZlbnQgZm9yIGNsaWVudHMgICAgICAgIAogICAgICAgIGFzc2VydChiYWxhbmNlc1tfZnJvbV0gKyBiYWxhbmNlc1tfdG9dID09IHByZXZpb3VzQmFsYW5jZSk7ICAgICAgICAgICAgICAgICAgIC8vQ2hlY2sgdGhlIGFzc2VydAogICAgfQoKCiAgICAvKioKICAgICAqIENvbW1vbmx5IHRyYW5zZmVyIHRva2VucyAKICAgICAqIEVSQzIwCiAgICAgKiBAcGFyYW0gIF90byAgICAgICAgICAgRGVzdGluYXRpb24gYWRkcmVzcwogICAgICogQHBhcmFtICBfdmFsdWUgICAgICAgIEFtb3VudCBvZiB0b2tlbnMgdG8gc2VuZAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90byAsIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKXsgICAgICAgIAogICAgICAgIF90cmFuc2Zlcihtc2cuc2VuZGVyICwgX3RvICwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBUcmFuc2ZlciB0b2tlbiBmcm9tIGFkZHJlc3MgdG8gYW5vdGhlciBhZGRyZXNzIHRoYXQncyBhbGxvd2VkIHRvLiAKICAgICAqIEVSQzIwCiAgICAgKiBAcGFyYW0gX2Zyb20gICAgICAgICAgU291cmNlIGFkZHJlc3MKICAgICAqIEBwYXJhbSBfdG8gICAgICAgICAgICBEZXN0aW5hdGlvbiBhZGRyZXNzCiAgICAgKiBAcGFyYW0gX3ZhbHVlICAgICAgICAgQW1vdW50IG9mIHRva2VucyB0byBzZW5kCiAgICAgKi8gICAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tICwgYWRkcmVzcyBfdG8gLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyl7CiAgICAgICAgaWYoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCkgewogICAgICAgICAgICBfdHJhbnNmZXIoX2Zyb20gLCBfdG8gLCBfdmFsdWUpOwogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IHNhZmVTdWIoYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEFwcHJvdmUgc3BlbmRlciB0byB0cmFuc2ZlciBhbW91bnQgb2YgdG9rZW5zIGZyb20geW91ciBhZGRyZXNzIEVSQzIwCiAgICAgKiBFUkMyMAogICAgICogQHBhcmFtIF9zcGVuZGVyICAgICAgIEFkZHJlc3MgdGhhdCBjYW4gdHJhbnNmZXIgdG9rZW5zIGZyb20geW91ciBhZGRyZXNzCiAgICAgKiBAcGFyYW0gX3ZhbHVlICAgICAgICAgQW1vdW50IG9mIHRva2VucyB0aGF0IGNhbiBiZSBzZW5kZWQgYnkgc3BlbmRlcgogICAgICovICAgCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIgLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyl7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciAsIF9zcGVuZGVyICwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGFtb3VudCBvZiB0b2tlbnMgYWxsb3dlZCBieSBvd25lciB0byBzcGVuZGVyIEVSQzIwCiAgICAgKiBFUkMyMAogICAgICogQHBhcmFtIF9vd25lciAgICAgICAgIFNvdXJjZSBhZGRyZXNzIHRoYXQgYWxsb3cncyBzcGVuZCB0b2tlbnMKICAgICAqIEBwYXJhbSBfc3BlbmRlciAgICAgICBBZGRyZXNzIHRoYXQgY2FuIHRyYW5zZmVyIHRva2VucyBmb3JtIGFsbG93ZWQgICAgIAogICAgICovICAgCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIgLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zKHVpbnQyNTYgYWxsb3dhbmNlXyl7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgoKICAgIC8qKgogICAgICogR2V0IGludmVzdG9ycyBpbmZvCiAgICAgKgogICAgICogQHJldHVybiBbXSAgICAgICAgICAgICAgICBSZXR1cm5zIGFuIGFycmF5IHdpdGggYWRkcmVzcyBvZiBpbnZlc3RvcnMsIGFtb3VudCBpbnZlc3RlZCBhbmQgd2hlbiBpbnZlc3RlZAogICAgICovCiAgICBmdW5jdGlvbiBnZXRJbnZlc3RvcnMoKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyhhZGRyZXNzW10gLCB1aW50W10gLCB1aW50W10pewogICAgICAgIHVpbnQgbGVuZ3RoID0gaW52ZXN0b3JzQWRkcmVzcy5sZW5ndGg7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9MZW5ndGggb2YgYXJyYXkKICAgICAgICBhZGRyZXNzW10gbWVtb3J5IGFkZHIgPSBuZXcgYWRkcmVzc1tdKGxlbmd0aCk7CiAgICAgICAgdWludFtdIG1lbW9yeSBhbW91bnQgID0gbmV3IHVpbnRbXShsZW5ndGgpOwogICAgICAgIHVpbnRbXSBtZW1vcnkgd2hlbiAgICA9IG5ldyB1aW50W10obGVuZ3RoKTsKICAgICAgICBmb3IodWludCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgYWRkcmVzcyBrZXkgPSBpbnZlc3RvcnNBZGRyZXNzW2ldOwogICAgICAgICAgICBhZGRyW2ldICAgICA9IGtleTsKICAgICAgICAgICAgYW1vdW50W2ldICAgPSBpbnZlc3RvcnNMaXN0W2tleV0uYW1vdW50OwogICAgICAgICAgICB3aGVuW2ldICAgICA9IGludmVzdG9yc0xpc3Rba2V5XS53aGVuOwogICAgICAgIH0KICAgICAgICByZXR1cm4gKGFkZHIgLCBhbW91bnQgLCB3aGVuKTsgICAgICAgIAogICAgfQoKCiAgICAvKioKICAgICAqIEdldCBhbW91bnQgb2YgYm9udXMgdG8gYXBwbHkKICAgICAqCiAgICAgKiBAcGFyYW0gX2V0aGVycyAgICAgICAgICAgICAgQW1vdW50IG9mIGV0aGVycyBpbnZlc3RlZCwgZm9yIGNhbGN1bGF0aW9uIHRoZSBib251cyAgICAgCiAgICAgKiBAcmV0dXJuIHVpbnQgICAgICAgICAgICAgICAgUmV0dXJucyBhICUgb2YgYm9uaWZpY2F0aW9uIHRvIGFwcGx5CiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldEJvbnVzKHVpbnQgX2V0aGVycykgcHVibGljIHZpZXcgcmV0dXJucyh1aW50OCl7ICAgICAgICAKICAgICAgICB1aW50OCBfYm9udXMgID0gMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9Bc3NpZ24gYm9udXMgdG8gCiAgICAgICAgdWludDggX2JvbnVzUGVySW52ZXN0aW9uID0gMDsKICAgICAgICB1aW50ICBzdGFydGVyID0gbm93IC0gU1RBUlRfSUNPOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9UbyBjb250cm9sIGVuZCB0aW1lIG9mIGJvbnVzCiAgICAgICAgZm9yKHVpbnQgaSA9IDA7IGkgPCBib251c1RpbWUubGVuZ3RoOyBpKyspeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vRm9yIGxvb3AKICAgICAgICAgICAgaWYoc3RhcnRlciA8PSBib251c1RpbWVbaV0peyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9JZiB0aGUgc3RhcnRlciBhcmUgZ3JlYXRlciB0aGFuIGJvbnVzVGltZSwgdGhlIGJvbnVzIHdpbGwgYmUgMCAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmKF9ldGhlcnMgPiAxMCBldGhlciAmJiBfZXRoZXJzIDw9IDUwIGV0aGVyKXsKICAgICAgICAgICAgICAgICAgICBfYm9udXNQZXJJbnZlc3Rpb24gPSBib251c1BlckludmVzdGlvbl8xMFtpXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKF9ldGhlcnMgPiA1MCBldGhlcil7CiAgICAgICAgICAgICAgICAgICAgX2JvbnVzUGVySW52ZXN0aW9uID0gYm9udXNQZXJJbnZlc3Rpb25fNTBbaV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBfYm9udXMgPSBib251c0JlbmVmaXRbaV07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQXNpZ24gYW1vdW50IG9mIGJvbnVzIHRvIGJvbnVzXyB2YXJpYWJsZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBicmVhazsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQnJlYWsgdGhlIGxvb3AKCiAgICAgICAgICAgIH0KICAgICAgICB9ICAgICAgICAKICAgICAgICByZXR1cm4gX2JvbnVzICsgX2JvbnVzUGVySW52ZXN0aW9uOwogICAgfQoKICAgIC8qKgogICAgICogQ2FsY3VsYXRlIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIHNlbmRzIGRlcGVkaW5nIG9uIHRoZSBhbW91bnQgb2YgZXRoZXJzIHJlY2VpdmVkCiAgICAgKgogICAgICogQHBhcmFtICBfZXRoZXJzICAgICAgICAgICAgICBBbW91bnQgb2YgZXRoZXJzIGZvciBjb252ZXJ0IHRvIHRva2VucwogICAgICogQHJldHVybiB1aW50ICAgICAgICAgICAgICAgICBSZXR1cm5zIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIHNlbmQKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0VG9rZW5zVG9TZW5kKHVpbnQgX2V0aGVycykgcHVibGljIHZpZXcgcmV0dXJucyAodWludCl7CiAgICAgICAgdWludCB0b2tlbnNUb1NlbmQgID0gMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQXNzaWduIHRva2VucyB0byBzZW5kIHRvIDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIHVpbnQ4IGJvbnVzICAgICAgICA9IGdldEJvbnVzKF9ldGhlcnMpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0dldCBhbW91bnQgb2YgYm9uaWZpY2F0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgdWludCBldGhUb1Rva2VucyAgID0gKF9ldGhlcnMgKiAxMCAqKiB1aW50MjU2KFRPS0VOX0RFQ0lNQUwpKSAvIFZBTFVFX09GX1VUUzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vTWFrZSB0aGUgY29udmVyc2lvbiwgZGl2aWRlIGFtb3VudCBvZiBldGhlcnMgYnkgdmFsdWUgb2YgZWFjaCBVVFMgICAgICAgICAgICAgICAgCiAgICAgICAgdWludCBhbW91bnRCb251cyAgID0gZXRoVG9Ub2tlbnMgLyAxMDAgKiBib251czsKICAgICAgICAgICAgIHRva2Vuc1RvU2VuZCAgPSBldGhUb1Rva2VucyArIGFtb3VudEJvbnVzOwogICAgICAgIHJldHVybiB0b2tlbnNUb1NlbmQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBGYWxsYmFjayB3aGVuIHRoZSBjb250cmFjdCByZWNlaXZlcyBldGhlcnMKICAgICAqCiAgICAgKi8KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgcHVibGljIGljb0lzU3RhcnRlZCBtaW5WYWx1ZXsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICB1aW50IGFtb3VudF9hY3R1YWxseV9pbnZlc3RlZCA9IGludmVzdG9yc0xpc3RbbXNnLnNlbmRlcl0uYW1vdW50OyAgICAgICAgICAgLy9HZXQgdGhlIGFjdHVhbGx5IGFtb3VudCBpbnZlc3RlZAogICAgICAgIAogICAgICAgIGlmKGFtb3VudF9hY3R1YWxseV9pbnZlc3RlZCA9PSAwKXsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0lmIGFtb3VudCBpbnZlc3RlZCBhcmUgZXF1YWwgdG8gMCwgd2lsbCBhZGQgbGlrZSBuZXcgaW52ZXN0b3IKICAgICAgICAgICAgdWludCBpbmRleCAgICAgICAgICAgICAgICA9IGludmVzdG9yc0FkZHJlc3MubGVuZ3RoKys7CiAgICAgICAgICAgIGludmVzdG9yc0FkZHJlc3NbaW5kZXhdICAgPSBtc2cuc2VuZGVyOwogICAgICAgICAgICBpbnZlc3RvcnNMaXN0W21zZy5zZW5kZXJdID0gSW52ZXN0b3JzKG1zZy52YWx1ZSAsIG5vdyk7ICAgICAgICAgICAgICAgICAvL1N0b3JlIGludmVzdG9ycyBpbmZvICAgICAgICAKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYoYW1vdW50X2FjdHVhbGx5X2ludmVzdGVkID4gMCl7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vSWYgYW1vdW50IGludmVzdGVkIGFyZSBncmVhdGVyIHRoYW4gMAogICAgICAgICAgICBpbnZlc3RvcnNMaXN0W21zZy5zZW5kZXJdLmFtb3VudCArPSBtc2cudmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAvL0luY3JlYXNlIHRoZSBhbW91bnQgaW52ZXN0ZWQKICAgICAgICAgICAgaW52ZXN0b3JzTGlzdFttc2cuc2VuZGVyXS53aGVuICAgID0gbm93OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9DaGFuZ2UgdGhlIGxhc3QgdGltZSBpbnZlc3RlZAogICAgICAgIH0KCiAgICAgICAgCiAgICAgICAgdWludCB0b2tlbnNUb1NlbmQgPSBnZXRUb2tlbnNUb1NlbmQobXNnLnZhbHVlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQ2FsYyB0aGUgdG9rZW5zIHRvIHNlbmQgZGVwZW5kaW5nIG9uIGV0aGVycyByZWNlaXZlZAogICAgICAgIHRva2Vuc1NvbGQgKz0gdG9rZW5zVG9TZW5kOyAgICAgICAgCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tvd25lcl0gPj0gdG9rZW5zVG9TZW5kKTsKICAgICAgICAKICAgICAgICBfdHJhbnNmZXIob3duZXIgLCBtc2cuc2VuZGVyICwgdG9rZW5zVG9TZW5kKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9UcmFuc2ZlciB0b2tlbnMgdG8gaW52ZXN0b3IgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIGV0aGVyc0NvbGxlY3RlZHMgICArPSBtc2cudmFsdWU7CgogICAgICAgIGlmKGJlbmVmaWNpYXJ5ID09IGFkZHJlc3MoMCkpewogICAgICAgICAgICBiZW5lZmljaWFyeSA9IG93bmVyOwogICAgICAgIH0KICAgICAgICBiZW5lZmljaWFyeS50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgICAgIEZ1bmRUcmFuc2Zlcihvd25lciAsIG1zZy52YWx1ZSAsIG1zZy5zZW5kZXIpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0ZpcmUgZXZlbnRzIGZvciBjbGllbnRzCiAgICB9CgoKICAgIC8qKgogICAgICogU3RhcnQgdGhlIGljbyBtYW51YWxseQogICAgICogICAgIAogICAgICovCiAgICBmdW5jdGlvbiBzdGFydEljbygpIHB1YmxpYyBvbmx5T3duZXJ7CiAgICAgICAgaWNvU3RhcnRlZCA9IHRydWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9TZXQgdGhlIGljbyBzdGFydGVkCiAgICB9CgogICAgLyoqCiAgICAgKiBTdG9wIHRoZSBpY28gbWFudWFsbHkKICAgICAqCiAgICAgKi8KICAgIGZ1bmN0aW9uIHN0b3BJY28oKSBwdWJsaWMgb25seU93bmVyewogICAgICAgIGljb1N0YXJ0ZWQgPSBmYWxzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vU2V0IHRoZSBpY28gc3RvcHBlZAogICAgfQoKCiAgICBmdW5jdGlvbiBzZXRCZW5lZmljaWFyeShhZGRyZXNzIF9iZW5lZmljaWFyeSkgcHVibGljIG9ubHlPd25lcnsKICAgICAgICBiZW5lZmljaWFyeSA9IF9iZW5lZmljaWFyeTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZGVzdHJveUNvbnRyYWN0KClleHRlcm5hbCBvbmx5T3duZXJ7CiAgICAgICAgc2VsZmRlc3RydWN0KG93bmVyKTsKICAgIH0KICAgIAp9'.
	

]
