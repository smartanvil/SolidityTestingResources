Class {
	#name : #SRT527980169Ea610d13887B97F12024320C75f26a3,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT527980169Ea610d13887B97F12024320C75f26a3 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKioKKiBAYXV0aG9yIEplZmZlcnNvbiBEYXZpcwoqIFN0YWtlUG9vbF9JQ08uc29sIGNyZWF0ZXMgdGhlIGNsaWVudCdzIHRva2VuIGZvciBjcm93ZHNhbGUgYW5kIGFsbG93cyBmb3Igc3Vic2VxdWVudCB0b2tlbiBzYWxlcyBhbmQgbWludGluZyBvZiB0b2tlbnMKKiAgIEluIGFkZGl0aW9uLCB0aGVyZSBpcyBhIHF1YXJ0ZXJseSBkaXZpZGVuZCBwYXlvdXQgdHJpZ2dlcmVkIGJ5IHRoZSBvd25lciwgcGx1cyBjcmVhdGVzIGEgdHJhbnNhY3Rpb24gcmVjb3JkIHByaW9yIHRvIHBheW91dAoqICAgQ3Jvd2RzYWxlIGNvbnRyYWN0cyBlZGl0ZWQgZnJvbSBvcmlnaW5hbCBjb250cmFjdCBjb2RlIGF0IGh0dHBzOi8vd3d3LmV0aGVyZXVtLm9yZy9jcm93ZHNhbGUjY3Jvd2RmdW5kLXlvdXItaWRlYQoqICAgQWRkaXRpb25hbCBjcm93ZHNhbGUgY29udHJhY3RzLCBmdW5jdGlvbnMsIGxpYnJhcmllcyBmcm9tIE9wZW5aZXBwZWxpbgoqICAgICAgIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvdHJlZS9tYXN0ZXIvY29udHJhY3RzL3Rva2VuCiogICBUb2tlbiBjb250cmFjdCBlZGl0ZWQgZnJvbSBvcmlnaW5hbCBjb250cmFjdCBjb2RlIGF0IGh0dHBzOi8vd3d3LmV0aGVyZXVtLm9yZy90b2tlbgoqICAgRVJDMjAgaW50ZXJmYWNlIGFuZCBjZXJ0YWluIHRva2VuIGZ1bmN0aW9ucyBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL0NvbnNlblN5cy9Ub2tlbnMKKiovCgpjb250cmFjdCBFUkMyMCB7CgkvL1NldHMgZXZlbnRzIGFuZCBmdW5jdGlvbnMgZm9yIEVSQzIwIHRva2VuCglldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKTsKCWV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludCBfdmFsdWUpOwoJCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKTsKCWZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgYmFsYW5jZSk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwp9CgoKY29udHJhY3QgT3duZWQgewoJLy9QdWJsaWMgdmFyaWFibGUKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCS8vU2V0cyBjb250cmFjdCBjcmVhdG9yIGFzIHRoZSBvd25lcgogICAgZnVuY3Rpb24gT3duZWQoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoJCgkvL1NldHMgb25seU93bmVyIG1vZGlmaWVyIGZvciBzcGVjaWZpZWQgZnVuY3Rpb25zCiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCgkvL0FsbG93cyBmb3IgdHJhbnNmZXIgb2YgY29udHJhY3Qgb3duZXJzaGlwCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9Cn0KCgpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfSAgCgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICAgICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAgICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICAgIH0KCiAgICBmdW5jdGlvbiBtYXgyNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgICB9CgogICAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgICAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICAgIH0KCiAgICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICAgIH0KICAKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQp9CgoKY29udHJhY3QgU3Rha2VQb29sIGlzIEVSQzIwLCBPd25lZCB7CiAgICAgLy9BcHBsaWVzIFNhZmVNYXRoIGxpYnJhcnkgdG8gdWludDI1NiBvcGVyYXRpb25zIAogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgoJLy9QdWJsaWMgdmFyaWFibGVzCglzdHJpbmcgcHVibGljIG5hbWU7IAoJc3RyaW5nIHB1YmxpYyBzeW1ib2w7IAoJdWludDI1NiBwdWJsaWMgZGVjaW1hbHM7ICAKICAgIHVpbnQyNTYgcHVibGljIGluaXRpYWxTdXBwbHk7IAoJdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7IAoKICAgIC8vVmFyaWFibGVzCiAgICB1aW50MjU2IG11bHRpcGxpZXI7IAoJCgkvL0NyZWF0ZXMgYXJyYXlzIGZvciBiYWxhbmNlcwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAgIC8vQ3JlYXRlcyBtb2RpZmllciB0byBwcmV2ZW50IHNob3J0IGFkZHJlc3MgYXR0YWNrCiAgICBtb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludCBzaXplKSB7CiAgICAgICAgaWYobXNnLmRhdGEubGVuZ3RoIDwgc2l6ZSArIDQpIHJldmVydCgpOwogICAgICAgIF87CiAgICB9CgoJLy9Db25zdHJ1Y3RvcgoJZnVuY3Rpb24gU3Rha2VQb29sKHN0cmluZyB0b2tlbk5hbWUsIHN0cmluZyB0b2tlblN5bWJvbCwgdWludDggZGVjaW1hbFVuaXRzLCB1aW50MjU2IGRlY2ltYWxNdWx0aXBsaWVyLCB1aW50MjU2IGluaXRpYWxBbW91bnQpIHsKCQluYW1lID0gdG9rZW5OYW1lOyAKCQlzeW1ib2wgPSB0b2tlblN5bWJvbDsgCgkJZGVjaW1hbHMgPSBkZWNpbWFsVW5pdHM7IAogICAgICAgIG11bHRpcGxpZXIgPSBkZWNpbWFsTXVsdGlwbGllcjsgCiAgICAgICAgaW5pdGlhbFN1cHBseSA9IGluaXRpYWxBbW91bnQ7IAoJCXRvdGFsU3VwcGx5ID0gaW5pdGlhbFN1cHBseTsgIAoJfQoJCgkvL1Byb3ZpZGVzIHRoZSByZW1haW5pbmcgYmFsYW5jZSBvZiBhcHByb3ZlZCB0b2tlbnMgZnJvbSBmdW5jdGlvbiBhcHByb3ZlIAogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCgkvL0FsbG93cyBmb3IgYSBjZXJ0YWluIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQgb24gYmVoYWxmIG9mIHRoZSBhY2NvdW50IG93bmVyCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICB1aW50MjU2IGFtb3VudCA9IF92YWx1ZS5tdWwobXVsdGlwbGllcik7IAogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYW1vdW50OwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCS8vUmV0dXJucyB0aGUgYWNjb3VudCBiYWxhbmNlIAogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZ0JhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZVtfb3duZXJdOwogICAgfQoKICAgIC8vQWxsb3dzIGNvbnRyYWN0IG93bmVyIHRvIG1pbnQgbmV3IHRva2VucywgcHJldmVudHMgbnVtZXJpY2FsIG92ZXJmbG93CglmdW5jdGlvbiBtaW50VG9rZW4oYWRkcmVzcyB0YXJnZXQsIHVpbnQyNTYgbWludGVkQW1vdW50KSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgdWludDI1NiBhZGRUb2tlbnMgPSBtaW50ZWRBbW91bnQubXVsKG11bHRpcGxpZXIpOyAKCQlpZiAoKHRvdGFsU3VwcGx5ICsgYWRkVG9rZW5zKSA8IHRvdGFsU3VwcGx5KSB7CgkJCXJldmVydCgpOyAKCQl9IGVsc2UgewoJCQliYWxhbmNlW3RhcmdldF0gKz0gYWRkVG9rZW5zOwoJCQl0b3RhbFN1cHBseSArPSBhZGRUb2tlbnM7CgkJCVRyYW5zZmVyKDAsIHRhcmdldCwgYWRkVG9rZW5zKTsKCQkJcmV0dXJuIHRydWU7IAoJCX0KCX0KCgkvL1NlbmRzIHRva2VucyBmcm9tIHNlbmRlcidzIGFjY291bnQKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgb25seVBheWxvYWRTaXplKDIgKiAzMikgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgdWludDI1NiBhbW91bnQgPSBfdmFsdWUubXVsKG11bHRpcGxpZXIpOyAKICAgICAgICBpZiAoYmFsYW5jZVttc2cuc2VuZGVyXSA+PSBhbW91bnQgJiYgYmFsYW5jZVtfdG9dICsgYW1vdW50ID4gYmFsYW5jZVtfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VbbXNnLnNlbmRlcl0gLT0gYW1vdW50OwogICAgICAgICAgICBiYWxhbmNlW190b10gKz0gYW1vdW50OwogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIGFtb3VudCk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7IAoJCQlyZXR1cm4gZmFsc2U7IAoJCX0KICAgIH0KCQoJLy9UcmFuc2ZlcnMgdG9rZW5zIGZyb20gYW4gYXBwcm92ZWQgYWNjb3VudCAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgzICogMzIpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHVpbnQyNTYgYW1vdW50ID0gX3ZhbHVlLm11bChtdWx0aXBsaWVyKTsgCiAgICAgICAgaWYgKGJhbGFuY2VbX2Zyb21dID49IGFtb3VudCAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBhbW91bnQgJiYgYmFsYW5jZVtfdG9dICsgYW1vdW50ID4gYmFsYW5jZVtfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VbX3RvXSArPSBhbW91bnQ7CiAgICAgICAgICAgIGJhbGFuY2VbX2Zyb21dIC09IGFtb3VudDsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gYW1vdW50OwogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBhbW91bnQpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgeyAKCQkJcmV0dXJuIGZhbHNlOyAKCQl9CiAgICB9Cn0KCgpjb250cmFjdCBTdGFrZVBvb2xJQ08gaXMgT3duZWQsIFN0YWtlUG9vbCB7CiAgICAvL0FwcGxpZXMgU2FmZU1hdGggbGlicmFyeSB0byB1aW50MjU2IG9wZXJhdGlvbnMgCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICAvL1B1YmxpYyBWYXJpYWJsZXMKICAgIGFkZHJlc3MgcHVibGljIG11bHRpU2lnV2FsbGV0OyAgICAgICAgICAgICAgICAgIAogICAgdWludDI1NiBwdWJsaWMgYW1vdW50UmFpc2VkOyAKICAgIHVpbnQyNTYgcHVibGljIGRpdmlkZW5kUGF5bWVudDsKICAgIHVpbnQyNTYgcHVibGljIG51bWJlck9mUmVjb3JkRW50cmllczsgCiAgICB1aW50MjU2IHB1YmxpYyBudW1iZXJPZlRva2VuSG9sZGVyczsgCiAgICB1aW50MjU2IHB1YmxpYyBzdGFydFRpbWU7IAogICAgdWludDI1NiBwdWJsaWMgc3RvcFRpbWU7IAogICAgdWludDI1NiBwdWJsaWMgaGFyZGNhcDsgCiAgICB1aW50MjU2IHB1YmxpYyBwcmljZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgLy9WYXJpYWJsZXMKICAgIGFkZHJlc3NbXSByZWNvcmRUb2tlbkhvbGRlcnM7IAogICAgYWRkcmVzc1tdIHRva2VuSG9sZGVyczsgCiAgICBib29sIGNyb3dkc2FsZUNsb3NlZCA9IHRydWU7IAogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSByZWNvcmRCYWxhbmNlOyAKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcmVjb3JkVG9rZW5Ib2xkZXJJRDsgICAgICAKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgdG9rZW5Ib2xkZXJJRDsgICAgICAgICAgICAgICAKICAgIHN0cmluZyB0b2tlbk5hbWUgPSAiU3Rha2VQb29sIjsgCiAgICBzdHJpbmcgdG9rZW5TeW1ib2wgPSAiUE9TIjsgCiAgICB1aW50MjU2IGluaXRpYWxUb2tlbnMgPSAyMDAwMDAwMDAwMDAwMDAwMDsgCiAgICB1aW50MjU2IG11bHRpcGxpZXIgPSAxMDAwMDAwMDAwMDsgCiAgICB1aW50OCBkZWNpbWFsVW5pdHMgPSA4OyAgCgogICAJLy9Jbml0aWFsaXplcyB0aGUgdG9rZW4KCWZ1bmN0aW9uIFN0YWtlUG9vbElDTygpIAogICAgCVN0YWtlUG9vbCh0b2tlbk5hbWUsIHRva2VuU3ltYm9sLCBkZWNpbWFsVW5pdHMsIG11bHRpcGxpZXIsIGluaXRpYWxUb2tlbnMpIHsKICAgICAgICAgICAgYmFsYW5jZVttc2cuc2VuZGVyXSA9IGluaXRpYWxUb2tlbnM7ICAgICAKICAgICAgICAgICAgVHJhbnNmZXIoMCwgbXNnLnNlbmRlciwgaW5pdGlhbFRva2Vucyk7ICAgIAogICAgICAgICAgICBtdWx0aVNpZ1dhbGxldCA9IG1zZy5zZW5kZXI7ICAgICAgICAKICAgICAgICAgICAgaGFyZGNhcCA9IDIwMTAwMDAwMDAwMDAwMDAwOyAgICAKICAgICAgICAgICAgc2V0UHJpY2UoMjApOyAKICAgICAgICAgICAgZGl2aWRlbmRQYXltZW50ID0gNTAwMDAwMDAwMDAwMDA7IAogICAgICAgICAgICByZWNvcmRUb2tlbkhvbGRlcnMubGVuZ3RoID0gMjsgCiAgICAgICAgICAgIHRva2VuSG9sZGVycy5sZW5ndGggPSAyOyAKICAgICAgICAgICAgdG9rZW5Ib2xkZXJzWzFdID0gbXNnLnNlbmRlcjsgCiAgICAgICAgICAgIG51bWJlck9mVG9rZW5Ib2xkZXJzKys7IAogICAgfQoKICAgIC8vRmFsbGJhY2sgZnVuY3Rpb24gY3JlYXRlcyB0b2tlbnMgYW5kIHNlbmRzIHRvIGludmVzdG9yIHdoZW4gY3Jvd2RzYWxlIGlzIG9wZW4KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgewogICAgICAgIHJlcXVpcmUoKCFjcm93ZHNhbGVDbG9zZWQpIAogICAgICAgICAgICAmJiAobm93IDwgc3RvcFRpbWUpIAogICAgICAgICAgICAmJiAodG90YWxTdXBwbHkuYWRkKG1zZy52YWx1ZS5tdWwoZ2V0UHJpY2UoKSkubXVsKG11bHRpcGxpZXIpLmRpdigxIGV0aGVyKSkgPD0gaGFyZGNhcCkpOyAKICAgICAgICBhZGRyZXNzIHJlY2lwaWVudCA9IG1zZy5zZW5kZXI7IAogICAgICAgIGFtb3VudFJhaXNlZCA9IGFtb3VudFJhaXNlZC5hZGQobXNnLnZhbHVlLmRpdigxIGV0aGVyKSk7IAogICAgICAgIHVpbnQyNTYgdG9rZW5zID0gbXNnLnZhbHVlLm11bChnZXRQcmljZSgpKS5tdWwobXVsdGlwbGllcikuZGl2KDEgZXRoZXIpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKHRva2Vucyk7CiAgICAgICAgYmFsYW5jZVtyZWNpcGllbnRdID0gYmFsYW5jZVtyZWNpcGllbnRdLmFkZCh0b2tlbnMpOwogICAgICAgIHJlcXVpcmUobXVsdGlTaWdXYWxsZXQuc2VuZChtc2cudmFsdWUpKTsgCiAgICAgICAgVHJhbnNmZXIoMCwgcmVjaXBpZW50LCB0b2tlbnMpOwogICAgICAgIGlmICh0b2tlbkhvbGRlcklEW3JlY2lwaWVudF0gPT0gMCkgewogICAgICAgICAgICBhZGRUb2tlbkhvbGRlcihyZWNpcGllbnQpOyAKICAgICAgICB9CiAgICB9ICAgCgogICAgLy9BZGRzIGFuIGFkZHJlc3MgdG8gdGhlIHJlY29ycmRFbnRyeSBsaXN0CiAgICBmdW5jdGlvbiBhZGRSZWNvcmRFbnRyeShhZGRyZXNzIGFjY291bnQpIGludGVybmFsIHsKICAgICAgICBpZiAocmVjb3JkVG9rZW5Ib2xkZXJJRFthY2NvdW50XSA9PSAwKSB7CiAgICAgICAgICAgIHJlY29yZFRva2VuSG9sZGVySURbYWNjb3VudF0gPSByZWNvcmRUb2tlbkhvbGRlcnMubGVuZ3RoOyAKICAgICAgICAgICAgcmVjb3JkVG9rZW5Ib2xkZXJzLmxlbmd0aCsrOyAKICAgICAgICAgICAgcmVjb3JkVG9rZW5Ib2xkZXJzW3JlY29yZFRva2VuSG9sZGVycy5sZW5ndGguc3ViKDEpXSA9IGFjY291bnQ7IAogICAgICAgICAgICBudW1iZXJPZlJlY29yZEVudHJpZXMrKzsKICAgICAgICB9CiAgICB9CgogICAgLy9BZGRzIGFuIGFkZHJlc3MgdG8gdGhlIHRva2VuSG9sZGVycyBsaXN0IAogICAgZnVuY3Rpb24gYWRkVG9rZW5Ib2xkZXIoYWRkcmVzcyBhY2NvdW50KSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBib29sIHN0YXR1cyA9IGZhbHNlOyAKICAgICAgICBpZiAoYmFsYW5jZVthY2NvdW50XSAhPSAwKSB7CiAgICAgICAgICAgIHRva2VuSG9sZGVySURbYWNjb3VudF0gPSB0b2tlbkhvbGRlcnMubGVuZ3RoOwogICAgICAgICAgICB0b2tlbkhvbGRlcnMubGVuZ3RoKys7CiAgICAgICAgICAgIHRva2VuSG9sZGVyc1t0b2tlbkhvbGRlcnMubGVuZ3RoLnN1YigxKV0gPSBhY2NvdW50OyAKICAgICAgICAgICAgbnVtYmVyT2ZUb2tlbkhvbGRlcnMrKzsKICAgICAgICAgICAgc3RhdHVzID0gdHJ1ZTsgCiAgICAgICAgfQogICAgICAgIHJldHVybiBzdGF0dXM7IAogICAgfSAgCgogICAgLy9BbGxvd3MgdGhlIG93bmVyIHRvIGNyZWF0ZSBhbiByZWNvcmQgb2YgdG9rZW4gb3duZXJzIGFuZCB0aGVpciBiYWxhbmNlcwogICAgZnVuY3Rpb24gY3JlYXRlUmVjb3JkKCkgaW50ZXJuYWwgewogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8ICh0b2tlbkhvbGRlcnMubGVuZ3RoLnN1YigxKSk7IGkrKyApIHsKICAgICAgICAgICAgYWRkcmVzcyBob2xkZXIgPSBnZXRUb2tlbkhvbGRlcihpKTsKICAgICAgICAgICAgdWludDI1NiBob2xkZXJCYWwgPSBiYWxhbmNlT2YoaG9sZGVyKTsgCiAgICAgICAgICAgIGFkZFJlY29yZEVudHJ5KGhvbGRlcik7IAogICAgICAgICAgICByZWNvcmRCYWxhbmNlW2hvbGRlcl0gPSBob2xkZXJCYWw7IAogICAgICAgIH0KICAgIH0KCiAgICAvL1JldHVybnMgdGhlIGN1cnJlbnQgcHJpY2Ugb2YgdGhlIHRva2VuIGZvciB0aGUgY3Jvd2RzYWxlCiAgICBmdW5jdGlvbiBnZXRQcmljZSgpIHJldHVybnMgKHVpbnQyNTYgcmVzdWx0KSB7CiAgICAgICAgcmV0dXJuIHByaWNlOwogICAgfQoKICAgIC8vUmV0dXJucyByZWNvcmQgY29udGVudHMKICAgIGZ1bmN0aW9uIGdldFJlY29yZEJhbGFuY2UoYWRkcmVzcyByZWNvcmQpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gcmVjb3JkQmFsYW5jZVtyZWNvcmRdOyAKICAgIH0KCiAgICAvL1JldHVybnMgdGhlIGFkZHJlc3Mgb2YgYSBzcGVjaWZpYyBpbmRleCB2YWx1ZQogICAgZnVuY3Rpb24gZ2V0UmVjb3JkSG9sZGVyKHVpbnQyNTYgaW5kZXgpIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MpIHsKICAgICAgICByZXR1cm4gYWRkcmVzcyhyZWNvcmRUb2tlbkhvbGRlcnNbaW5kZXguYWRkKDEpXSk7IAogICAgfQoKICAgIC8vUmV0dXJucyB0aW1lIHJlbWFpbmluZyBvbiBjcm93ZHNhbGUKICAgIGZ1bmN0aW9uIGdldFJlbWFpbmluZ1RpbWUoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIHN0b3BUaW1lOyAKICAgIH0KCiAgICAvL1JldHVybnMgdGhlIGFkZHJlc3Mgb2YgYSBzcGVjaWZpYyBpbmRleCB2YWx1ZQoJZnVuY3Rpb24gZ2V0VG9rZW5Ib2xkZXIodWludDI1NiBpbmRleCkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgewoJCXJldHVybiBhZGRyZXNzKHRva2VuSG9sZGVyc1tpbmRleC5hZGQoMSldKTsKCX0KCiAgICAvL1BheXMgb3V0IGRpdmlkZW5kcyB0byB0b2tlbnMgaG9sZGVycyBvZiByZWNvcmQsIGJhc2VkIG9uIDUwMCwwMDAgdG9rZW4gcGF5bWVudAogICAgZnVuY3Rpb24gcGF5T3V0RGl2aWRlbmQoKSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7IAogICAgICAgIGNyZWF0ZVJlY29yZCgpOyAKICAgICAgICB1aW50MjU2IHZvbHVtZSA9IHRvdGFsU3VwcGx5OyAKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCAodG9rZW5Ib2xkZXJzLmxlbmd0aC5zdWIoMSkpOyBpKyspIHsKICAgICAgICAgICAgYWRkcmVzcyBwYXllZSA9IGdldFRva2VuSG9sZGVyKGkpOyAKICAgICAgICAgICAgdWludDI1NiBzdGFrZSA9IHZvbHVtZS5kaXYoZGl2aWRlbmRQYXltZW50LmRpdihtdWx0aXBsaWVyKSk7ICAgIAogICAgICAgICAgICB1aW50MjU2IGRpdmlkZW5kUGF5b3V0ID0gYmFsYW5jZU9mKHBheWVlKS5kaXYoc3Rha2UpLm11bChtdWx0aXBsaWVyKTsgCiAgICAgICAgICAgIGJhbGFuY2VbcGF5ZWVdID0gYmFsYW5jZVtwYXllZV0uYWRkKGRpdmlkZW5kUGF5b3V0KTsKICAgICAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoZGl2aWRlbmRQYXlvdXQpOyAKICAgICAgICAgICAgVHJhbnNmZXIoMCwgcGF5ZWUsIGRpdmlkZW5kUGF5b3V0KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7IAogICAgfQoKICAgIC8vU2V0cyB0aGUgbXVsdGlzaWcgd2FsbGV0IGZvciBhIGNyb3dkc2FsZQogICAgZnVuY3Rpb24gc2V0TXVsdGlTaWdXYWxsZXQoYWRkcmVzcyB3YWxsZXQpIG9ubHlPd25lciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBtdWx0aVNpZ1dhbGxldCA9IHdhbGxldDsgCiAgICAgICAgcmV0dXJuIHRydWU7IAogICAgfQoKICAgIC8vU2V0cyB0aGUgdG9rZW4gcHJpY2UgCiAgICBmdW5jdGlvbiBzZXRQcmljZSh1aW50MjU2IG5ld1ByaWNlcGVyRXRoZXIpIG9ubHlPd25lciByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmVxdWlyZShuZXdQcmljZXBlckV0aGVyID4gMCk7IAogICAgICAgIHByaWNlID0gbmV3UHJpY2VwZXJFdGhlcjsgCiAgICAgICAgcmV0dXJuIHByaWNlOyAKICAgIH0KCiAgICAvL0FsbG93cyBvd25lciB0byBzdGFydCB0aGUgY3Jvd2RzYWxlIGZyb20gdGhlIHRpbWUgb2YgZXhlY3V0aW9uIHVudGlsIGEgc3BlY2lmaWVkIHN0b3BUaW1lCiAgICBmdW5jdGlvbiBzdGFydFNhbGUodWludDI1NiBzYWxlU3RhcnQsIHVpbnQyNTYgc2FsZVN0b3ApIG9ubHlPd25lciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKHNhbGVTdG9wID4gbm93KTsgICAgIAogICAgICAgIHN0YXJ0VGltZSA9IHNhbGVTdGFydDsgCiAgICAgICAgc3RvcFRpbWUgPSBzYWxlU3RvcDsgCiAgICAgICAgY3Jvd2RzYWxlQ2xvc2VkID0gZmFsc2U7IAogICAgICAgIHJldHVybiB0cnVlOyAKICAgIH0KCiAgICAvL0FsbG93cyBvd25lciB0byBzdG9wIHRoZSBjcm93ZHNhbGUgaW1tZWRpYXRlbHkKICAgIGZ1bmN0aW9uIHN0b3BTYWxlKCkgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHN0b3BUaW1lID0gbm93OyAKICAgICAgICBjcm93ZHNhbGVDbG9zZWQgPSB0cnVlOwogICAgICAgIHJldHVybiB0cnVlOyAKICAgIH0KCn0='.
	

]
