Class {
	#name : #SRT22f0af8d78851b72ee799e05f54a77001586b18a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT22f0af8d78851b72ee799e05f54a77001586b18a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICoKICogTmFtZSBvZiB0aGUgcHJvamVjdDogR2VuZXZpZXZlIFZDIFRva2VuCiAqIENvbnRyYWN0IG5hbWU6IEdYVkNUb2tlbgogKiBBdXRob3I6IEp1YW4gTGl2aW5nc3RvbiBAIEV0aGVybml0eS5saXZlCiAqIERldmVsb3BlZCBmb3I6IEdlbmV2aWV2ZSBDby4KICogR1hWQyBpcyBhbiBFUkMyMjMgVG9rZW4KICoKICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgpjb250cmFjdCBDb250cmFjdFJlY2VpdmVyIHsgICAKICAgIGZ1bmN0aW9uIHRva2VuRmFsbGJhY2soYWRkcmVzcyBfZnJvbSwgdWludCBfdmFsdWUsIGJ5dGVzIF9kYXRhKXsKICAgIH0KfQoKIC8qIE5ldyBFUkMyMyBjb250cmFjdCBpbnRlcmZhY2UgKi8KCmNvbnRyYWN0IEVSQzIyMyB7CiAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICAKICBmdW5jdGlvbiBuYW1lKCkgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nIF9uYW1lKTsKICBmdW5jdGlvbiBzeW1ib2woKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcgX3N5bWJvbCk7CiAgZnVuY3Rpb24gZGVjaW1hbHMoKSBjb25zdGFudCByZXR1cm5zICh1aW50OCBfZGVjaW1hbHMpOwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBfc3VwcGx5KTsKCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSwgYnl0ZXMgZGF0YSkgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSwgYnl0ZXMgZGF0YSwgc3RyaW5nIGN1c3RvbV9mYWxsYmFjaykgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSwgYnl0ZXMgaW5kZXhlZCBkYXRhKTsKfQoKLy8gVGhlIEdYVkMgdG9rZW4gRVJDMjIzCgpjb250cmFjdCBHWFZDVG9rZW4gewoKICAgIC8vIFRva2VuIHB1YmxpYyB2YXJpYWJsZXMKICAgIHN0cmluZyBwdWJsaWMgbmFtZTsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgdWludDggcHVibGljIGRlY2ltYWxzOyAKICAgIHN0cmluZyBwdWJsaWMgdmVyc2lvbiA9ICd2MC4yJzsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgYm9vbCBsb2NrZWQ7CgogICAgYWRkcmVzcyByb290QWRkcmVzczsKICAgIGFkZHJlc3MgT3duZXI7CiAgICB1aW50IG11bHRpcGxpZXIgPSAxMDAwMDAwMDAwMDsgLy8gRm9yIDEwIGRlY2ltYWxzCiAgICBhZGRyZXNzIHN3YXBwZXJBZGRyZXNzOyAvLyBDYW4gYnlwYXNzIGEgbG9jawoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgZnJlZXplZDsgCgoKICAJZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSwgYnl0ZXMgaW5kZXhlZCBkYXRhKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwoKICAgIC8vIE1vZGlmaWVycwoKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICBpZiAoIG1zZy5zZW5kZXIgIT0gcm9vdEFkZHJlc3MgJiYgbXNnLnNlbmRlciAhPSBPd25lciApIHJldmVydCgpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seVJvb3QoKSB7CiAgICAgICAgaWYgKCBtc2cuc2VuZGVyICE9IHJvb3RBZGRyZXNzICkgcmV2ZXJ0KCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBpc1VubG9ja2VkKCkgewogICAgCWlmICggbG9ja2VkICYmIG1zZy5zZW5kZXIgIT0gcm9vdEFkZHJlc3MgJiYgbXNnLnNlbmRlciAhPSBPd25lciApIHJldmVydCgpOwoJCV87ICAgIAkKICAgIH0KCiAgICBtb2RpZmllciBpc1VuZnJlZXplZChhZGRyZXNzIF90bykgewogICAgCWlmICggZnJlZXplZFttc2cuc2VuZGVyXSB8fCBmcmVlemVkW190b10gKSByZXZlcnQoKTsKICAgIAlfOwogICAgfQoKCiAgICAvLyBTYWZlIG1hdGgKICAgIGZ1bmN0aW9uIHNhZmVBZGQodWludCB4LCB1aW50IHkpIGludGVybmFsIHJldHVybnMgKHVpbnQgeikgewogICAgICAgIHJlcXVpcmUoKHogPSB4ICsgeSkgPj0geCk7CiAgICB9CiAgICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQgeCwgdWludCB5KSBpbnRlcm5hbCByZXR1cm5zICh1aW50IHopIHsKICAgICAgICByZXF1aXJlKCh6ID0geCAtIHkpIDw9IHgpOwogICAgfQoKCiAgICAvLyBHWEMgVG9rZW4gY29uc3RydWN0b3IKICAgIGZ1bmN0aW9uIEdYVkNUb2tlbigpIHsgICAgICAgIAogICAgICAgIGxvY2tlZCA9IHRydWU7CiAgICAgICAgdG90YWxTdXBwbHkgPSAxNjAwMDAwMDAgKiBtdWx0aXBsaWVyOyAvLyAxNjAsMDAwLDAwMCB0b2tlbnMgKiAxMCBkZWNpbWFscwogICAgICAgIG5hbWUgPSAnR2VuZXZpZXZlIFZDJzsgCiAgICAgICAgc3ltYm9sID0gJ0dYVkMnOyAKICAgICAgICBkZWNpbWFscyA9IDEwOyAKICAgICAgICByb290QWRkcmVzcyA9IG1zZy5zZW5kZXI7ICAgICAgICAKICAgICAgICBPd25lciA9IG1zZy5zZW5kZXI7ICAgICAgIAogICAgICAgIGJhbGFuY2VzW3Jvb3RBZGRyZXNzXSA9IHRvdGFsU3VwcGx5OyAKICAgICAgICBhbGxvd2VkW3Jvb3RBZGRyZXNzXVtzd2FwcGVyQWRkcmVzc10gPSB0b3RhbFN1cHBseTsKICAgIH0KCgoJLy8gRVJDMjIzIEFjY2VzcyBmdW5jdGlvbnMKCglmdW5jdGlvbiBuYW1lKCkgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nIF9uYW1lKSB7CgkgICAgICByZXR1cm4gbmFtZTsKCSAgfQoJZnVuY3Rpb24gc3ltYm9sKCkgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nIF9zeW1ib2wpIHsKCSAgICAgIHJldHVybiBzeW1ib2w7CgkgIH0KCWZ1bmN0aW9uIGRlY2ltYWxzKCkgY29uc3RhbnQgcmV0dXJucyAodWludDggX2RlY2ltYWxzKSB7CgkgICAgICByZXR1cm4gZGVjaW1hbHM7CgkgIH0KCWZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBfdG90YWxTdXBwbHkpIHsKCSAgICAgIHJldHVybiB0b3RhbFN1cHBseTsKCSAgfQoKCiAgICAvLyBPbmx5IHJvb3QgZnVuY3Rpb24KCiAgICBmdW5jdGlvbiBjaGFuZ2VSb290KGFkZHJlc3MgX25ld3Jvb3RBZGRyZXNzKSBvbmx5Um9vdCByZXR1cm5zKGJvb2wpewogICAgCQlhbGxvd2VkW3Jvb3RBZGRyZXNzXVtzd2FwcGVyQWRkcmVzc10gPSAwOyAvLyBSZW1vdmVzIGFsbG93YW5jZSB0byBvbGQgcm9vdEFkZHJlc3MKICAgICAgICAgICAgcm9vdEFkZHJlc3MgPSBfbmV3cm9vdEFkZHJlc3M7CiAgICAgICAgICAgIGFsbG93ZWRbX25ld3Jvb3RBZGRyZXNzXVtzd2FwcGVyQWRkcmVzc10gPSB0b3RhbFN1cHBseTsgLy8gR2l2ZXMgYWxsb3dhbmNlIHRvIG5ldyByb290QWRkcmVzcwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgLy8gT25seSBvd25lciBmdW5jdGlvbnMKCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIF9uZXdPd25lcikgb25seU93bmVyIHJldHVybnMoYm9vbCl7CiAgICAgICAgICAgIE93bmVyID0gX25ld093bmVyOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VTd2FwcGVyQWRkKGFkZHJlc3MgX25ld1N3YXBwZXIpIG9ubHlPd25lciByZXR1cm5zKGJvb2wpewogICAgCQlhbGxvd2VkW3Jvb3RBZGRyZXNzXVtzd2FwcGVyQWRkcmVzc10gPSAwOyAvLyBSZW1vdmVzIGFsbG93YW5jZSB0byBvbGQgcm9vdEFkZHJlc3MKICAgICAgICAgICAgc3dhcHBlckFkZHJlc3MgPSBfbmV3U3dhcHBlcjsKICAgICAgICAgICAgYWxsb3dlZFtyb290QWRkcmVzc11bX25ld1N3YXBwZXJdID0gdG90YWxTdXBwbHk7IC8vIEdpdmVzIGFsbG93YW5jZSB0byBuZXcgcm9vdEFkZHJlc3MKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAgICAKICAgIGZ1bmN0aW9uIHVubG9jaygpIG9ubHlPd25lciByZXR1cm5zKGJvb2wpIHsKICAgICAgICBsb2NrZWQgPSBmYWxzZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBsb2NrKCkgb25seU93bmVyIHJldHVybnMoYm9vbCkgewogICAgICAgIGxvY2tlZCA9IHRydWU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gZnJlZXplKGFkZHJlc3MgX2FkZHJlc3MpIG9ubHlPd25lciByZXR1cm5zKGJvb2wpIHsKICAgICAgICBmcmVlemVkW19hZGRyZXNzXSA9IHRydWU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gdW5mcmVlemUoYWRkcmVzcyBfYWRkcmVzcykgb25seU93bmVyIHJldHVybnMoYm9vbCkgewogICAgICAgIGZyZWV6ZWRbX2FkZHJlc3NdID0gZmFsc2U7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgb25seU93bmVyIHJldHVybnMoYm9vbCkgewogICAgCWJ5dGVzIG1lbW9yeSBlbXB0eTsKICAgICAgICBpZiAoIGJhbGFuY2VzW21zZy5zZW5kZXJdIDwgX3ZhbHVlICkgcmV2ZXJ0KCk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzYWZlU3ViKCBiYWxhbmNlc1ttc2cuc2VuZGVyXSAsIF92YWx1ZSApOwogICAgICAgIHRvdGFsU3VwcGx5ID0gc2FmZVN1YiggdG90YWxTdXBwbHksICBfdmFsdWUgKTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCAweDAsIF92YWx1ZSAsIGVtcHR5KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgLy8gUHVibGljIGdldHRlcnMKICAgIGZ1bmN0aW9uIGlzRnJlZXplZChhZGRyZXNzIF9hZGRyZXNzKSBjb25zdGFudCByZXR1cm5zKGJvb2wpIHsKICAgICAgICByZXR1cm4gZnJlZXplZFtfYWRkcmVzc107CiAgICB9CgogICAgZnVuY3Rpb24gaXNMb2NrZWQoKSBjb25zdGFudCByZXR1cm5zKGJvb2wpIHsKICAgICAgICByZXR1cm4gbG9ja2VkOwogICAgfQoKICAvLyBQdWJsaWMgZnVuY3Rpb25zIChmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9EZXhhcmFuL0VSQzIyMy10b2tlbi1zdGFuZGFyZC90cmVlL1JlY29tbWVuZGVkKQoKICAvLyBGdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIGEgdXNlciBvciBhbm90aGVyIGNvbnRyYWN0IHdhbnRzIHRvIHRyYW5zZmVyIGZ1bmRzIHRvIGFuIGFkZHJlc3MgdGhhdCBoYXMgYSBub24tc3RhbmRhcmQgZmFsbGJhY2sgZnVuY3Rpb24KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUsIGJ5dGVzIF9kYXRhLCBzdHJpbmcgX2N1c3RvbV9mYWxsYmFjaykgaXNVbmxvY2tlZCBpc1VuZnJlZXplZChfdG8pIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAKICAgIGlmKGlzQ29udHJhY3QoX3RvKSkgewogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA8IF92YWx1ZSkgcmV0dXJuIGZhbHNlOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2FmZVN1YiggYmFsYW5jZXNbbXNnLnNlbmRlcl0gLCBfdmFsdWUgKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZCggYmFsYW5jZXNbX3RvXSAsIF92YWx1ZSApOwogICAgICAgIENvbnRyYWN0UmVjZWl2ZXIgcmVjZWl2ZXIgPSBDb250cmFjdFJlY2VpdmVyKF90byk7CiAgICAgICAgcmVjZWl2ZXIuY2FsbC52YWx1ZSgwKShieXRlczQoc2hhMyhfY3VzdG9tX2ZhbGxiYWNrKSksIG1zZy5zZW5kZXIsIF92YWx1ZSwgX2RhdGEpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlLCBfZGF0YSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICByZXR1cm4gdHJhbnNmZXJUb0FkZHJlc3MoX3RvLCBfdmFsdWUsIF9kYXRhKTsKICAgIH0KfQoKICAvLyBGdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIGEgdXNlciBvciBhbm90aGVyIGNvbnRyYWN0IHdhbnRzIHRvIHRyYW5zZmVyIGZ1bmRzIHRvIGFuIGFkZHJlc3Mgd2l0aCB0b2tlbkZhbGxiYWNrIGZ1bmN0aW9uCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlLCBieXRlcyBfZGF0YSkgaXNVbmxvY2tlZCBpc1VuZnJlZXplZChfdG8pIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAKICAgIGlmKGlzQ29udHJhY3QoX3RvKSkgewogICAgICAgIHJldHVybiB0cmFuc2ZlclRvQ29udHJhY3QoX3RvLCBfdmFsdWUsIF9kYXRhKTsKICAgIH0KICAgIGVsc2UgewogICAgICAgIHJldHVybiB0cmFuc2ZlclRvQWRkcmVzcyhfdG8sIF92YWx1ZSwgX2RhdGEpOwogICAgfQp9CgoKICAvLyBTdGFuZGFyZCBmdW5jdGlvbiB0cmFuc2ZlciBzaW1pbGFyIHRvIEVSQzIwIHRyYW5zZmVyIHdpdGggbm8gX2RhdGEuCiAgLy8gQWRkZWQgZHVlIHRvIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHJlYXNvbnMuCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBpc1VubG9ja2VkIGlzVW5mcmVlemVkKF90bykgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgogICAgYnl0ZXMgbWVtb3J5IGVtcHR5OwogICAgaWYoaXNDb250cmFjdChfdG8pKSB7CiAgICAgICAgcmV0dXJuIHRyYW5zZmVyVG9Db250cmFjdChfdG8sIF92YWx1ZSwgZW1wdHkpOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgcmV0dXJuIHRyYW5zZmVyVG9BZGRyZXNzKF90bywgX3ZhbHVlLCBlbXB0eSk7CiAgICB9Cn0KCi8vYXNzZW1ibGUgdGhlIGdpdmVuIGFkZHJlc3MgYnl0ZWNvZGUuIElmIGJ5dGVjb2RlIGV4aXN0cyB0aGVuIHRoZSBfYWRkciBpcyBhIGNvbnRyYWN0LgogIGZ1bmN0aW9uIGlzQ29udHJhY3QoYWRkcmVzcyBfYWRkcikgcHJpdmF0ZSByZXR1cm5zIChib29sIGlzX2NvbnRyYWN0KSB7CiAgICAgIHVpbnQgbGVuZ3RoOwogICAgICBhc3NlbWJseSB7CiAgICAgICAgICAgIC8vcmV0cmlldmUgdGhlIHNpemUgb2YgdGhlIGNvZGUgb24gdGFyZ2V0IGFkZHJlc3MsIHRoaXMgbmVlZHMgYXNzZW1ibHkKICAgICAgICAgICAgbGVuZ3RoIDo9IGV4dGNvZGVzaXplKF9hZGRyKQogICAgICB9CiAgICAgIHJldHVybiAobGVuZ3RoPjApOwogICAgfQoKICAvL2Z1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gdHJhbnNhY3Rpb24gdGFyZ2V0IGlzIGFuIGFkZHJlc3MKICBmdW5jdGlvbiB0cmFuc2ZlclRvQWRkcmVzcyhhZGRyZXNzIF90bywgdWludCBfdmFsdWUsIGJ5dGVzIF9kYXRhKSBwcml2YXRlIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdIDwgX3ZhbHVlKSByZXR1cm4gZmFsc2U7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHNhZmVTdWIoYmFsYW5jZXNbbXNnLnNlbmRlcl0sIF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLCBfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUsIF9kYXRhKTsKICAgIHJldHVybiB0cnVlOwogIH0KICAKICAvL2Z1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gdHJhbnNhY3Rpb24gdGFyZ2V0IGlzIGEgY29udHJhY3QKICBmdW5jdGlvbiB0cmFuc2ZlclRvQ29udHJhY3QoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlLCBieXRlcyBfZGF0YSkgcHJpdmF0ZSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA8IF92YWx1ZSkgcmV0dXJuIGZhbHNlOwogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzYWZlU3ViKGJhbGFuY2VzW21zZy5zZW5kZXJdICwgX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBzYWZlQWRkKGJhbGFuY2VzW190b10gLCBfdmFsdWUpOwogICAgQ29udHJhY3RSZWNlaXZlciByZWNlaXZlciA9IENvbnRyYWN0UmVjZWl2ZXIoX3RvKTsKICAgIHJlY2VpdmVyLnRva2VuRmFsbGJhY2sobXNnLnNlbmRlciwgX3ZhbHVlLCBfZGF0YSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSwgX2RhdGEpOwogICAgcmV0dXJuIHRydWU7Cn0KCgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMoYm9vbCkgewoKICAgICAgICBpZiAoIGxvY2tlZCAmJiBtc2cuc2VuZGVyICE9IHN3YXBwZXJBZGRyZXNzICkgcmV0dXJuIGZhbHNlOyAKICAgICAgICBpZiAoIGZyZWV6ZWRbX2Zyb21dIHx8IGZyZWV6ZWRbX3RvXSApIHJldHVybiBmYWxzZTsgLy8gQ2hlY2sgaWYgZGVzdGluYXRpb24gYWRkcmVzcyBpcyBmcmVlemVkCiAgICAgICAgaWYgKCBiYWxhbmNlc1tfZnJvbV0gPCBfdmFsdWUgKSByZXR1cm4gZmFsc2U7IC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaAoJCWlmICggX3ZhbHVlID4gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gKSByZXR1cm4gZmFsc2U7IC8vIENoZWNrIGFsbG93YW5jZQoKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBzYWZlU3ViKGJhbGFuY2VzW19mcm9tXSAsIF92YWx1ZSk7IC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIGJhbGFuY2VzW190b10gPSBzYWZlQWRkKGJhbGFuY2VzW190b10gLCBfdmFsdWUpOyAvLyBBZGQgdGhlIHNhbWUgdG8gdGhlIHJlY2lwaWVudAoKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IHNhZmVTdWIoIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdICwgX3ZhbHVlICk7CgogICAgICAgIGJ5dGVzIG1lbW9yeSBlbXB0eTsKCiAgICAgICAgaWYgKCBpc0NvbnRyYWN0KF90bykgKSB7CgkgICAgICAgIENvbnRyYWN0UmVjZWl2ZXIgcmVjZWl2ZXIgPSBDb250cmFjdFJlY2VpdmVyKF90byk7CgkgICAgCXJlY2VpdmVyLnRva2VuRmFsbGJhY2soX2Zyb20sIF92YWx1ZSwgZW1wdHkpOwoJCX0KCiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlICwgZW1wdHkpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnModWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHJldHVybnMoYm9vbCkgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnModWludDI1NikgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQp9'.
	

]
