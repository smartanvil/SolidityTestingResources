Class {
	#name : #SRTb3bd49e28f8f832b8d1e246106991e546c323502,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTb3bd49e28f8f832b8d1e246106991e546c323502 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7Cgpjb250cmFjdCBUb2tlbiB7CgogICAgLyogVG90YWwgYW1vdW50IG9mIHRva2VucyAqLwogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgLyoKICAgICAqIEV2ZW50cwogICAgICovCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwoKICAgIC8qCiAgICAgKiBQdWJsaWMgZnVuY3Rpb25zCiAgICAgKi8KCiAgICAvLy8gQG5vdGljZSBzZW5kIGB2YWx1ZWAgdG9rZW4gdG8gYHRvYCBmcm9tIGBtc2cuc2VuZGVyYAogICAgLy8vIEBwYXJhbSB0byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIHZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYHZhbHVlYCB0b2tlbiB0byBgdG9gIGZyb20gYGZyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYGZyb21gCiAgICAvLy8gQHBhcmFtIGZyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgLy8vIEBwYXJhbSB0byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIHZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwoKICAgIC8vLyBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgc3BlbmRlcmAgdG8gc3BlbmQgYHZhbHVlYCB0b2tlbnMKICAgIC8vLyBAcGFyYW0gc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSBhcHByb3ZhbCB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CgogICAgLy8vIEBwYXJhbSBvd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICAvLy8gQHJldHVybiBUaGUgYmFsYW5jZQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KTsKCiAgICAvLy8gQHBhcmFtIG93bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IG93bmluZyB0b2tlbnMKICAgIC8vLyBAcGFyYW0gc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KTsKfQoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBUb2tlbiB7CiAgICAvKgogICAgICogIFN0b3JhZ2UKICAgICovCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSBhbGxvd2FuY2VzOwoKICAgIC8qCiAgICAgKiAgUHVibGljIGZ1bmN0aW9ucwogICAgKi8KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIC8vIERvIG5vdCBhbGxvdyB0cmFuc2ZlciB0byAweDAgb3IgdGhlIHRva2VuIGNvbnRyYWN0IGl0c2VsZgogICAgICAgIHJlcXVpcmUoKHRvICE9IDB4MCkgJiYgKHRvICE9IGFkZHJlc3ModGhpcykpKTsKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPCB2YWx1ZSkKICAgICAgICAgICAgcmV2ZXJ0KCk7ICAvLyBCYWxhbmNlIHRvbyBsb3cKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSB2YWx1ZTsKICAgICAgICBiYWxhbmNlc1t0b10gKz0gdmFsdWU7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgdG8sIHZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIC8vIERvIG5vdCBhbGxvdyB0cmFuc2ZlciB0byAweDAgb3IgdGhlIHRva2VuIGNvbnRyYWN0IGl0c2VsZgogICAgICAgIHJlcXVpcmUoKHRvICE9IDB4MCkgJiYgKHRvICE9IGFkZHJlc3ModGhpcykpKTsKICAgICAgICBpZiAoYmFsYW5jZXNbZnJvbV0gPCB2YWx1ZSB8fCBhbGxvd2FuY2VzW2Zyb21dW21zZy5zZW5kZXJdIDwgdmFsdWUpCiAgICAgICAgICAgIHJldmVydCgpOyAvLyBCYWxhbmNlIG9yIGFsbG93YW5jZSB0b28gbG93CiAgICAgICAgYmFsYW5jZXNbdG9dICs9IHZhbHVlOwogICAgICAgIGJhbGFuY2VzW2Zyb21dIC09IHZhbHVlOwogICAgICAgIGFsbG93YW5jZXNbZnJvbV1bbXNnLnNlbmRlcl0gLT0gdmFsdWU7CiAgICAgICAgVHJhbnNmZXIoZnJvbSwgdG8sIHZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBhbGxvd2FuY2VzW21zZy5zZW5kZXJdW3NwZW5kZXJdID0gdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgc3BlbmRlciwgdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIGFsbG93YW5jZXNbb3duZXJdW3NwZW5kZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIG93bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tvd25lcl07CiAgICB9Cn0KCmxpYnJhcnkgU2FmZU1hdGggewogICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgIHJldHVybiBjOwogICAgfQp9Cgpjb250cmFjdCBHTVRva2VuIGlzIFN0YW5kYXJkVG9rZW4gewoKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIC8qCiAgICAqICBNZXRhZGF0YQogICAgKi8KICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJHbG9iYWwgTWVzc2FnaW5nIFRva2VuIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkdNVCI7CiAgICB1aW50OCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHRva2VuVW5pdCA9IDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpOwoKICAgIC8qCiAgICAqICBDb250cmFjdCBvd25lciAoUmFkaWNhbCBBcHAgSW50ZXJuYXRpb25hbCkKICAgICovCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICAvKgogICAgKiAgSGFyZHdhcmUgd2FsbGV0cwogICAgKi8KICAgIGFkZHJlc3MgcHVibGljIGV0aEZ1bmRBZGRyZXNzOyAgLy8gQWRkcmVzcyBmb3IgRVRIIG93bmVkIGJ5IFJhZGljYWwgQXBwIEludGVybmF0aW9uYWwKICAgIGFkZHJlc3MgcHVibGljIGdtdEZ1bmRBZGRyZXNzOyAgLy8gQWRkcmVzcyBmb3IgR01UIGFsbG9jYXRlZCB0byBSYWRpY2FsIEFwcCBJbnRlcm5hdGlvbmFsCgogICAgLyoKICAgICogIExpc3Qgb2YgcmVnaXN0ZXJlZCBwYXJ0aWNpcGFudHMKICAgICovCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyByZWdpc3RlcmVkOwoKICAgIC8qCiAgICAqICBMaXN0IG9mIHRva2VuIHB1cmNoYXNlcyBwZXIgYWRkcmVzcwogICAgKiAgU2FtZSBhcyBiYWxhbmNlc1tdLCBleGNlcHQgdXNlZCBmb3IgaW5kaXZpZHVhbCBjYXAgY2FsY3VsYXRpb25zLCAKICAgICogIGJlY2F1c2UgdXNlcnMgY2FuIHRyYW5zZmVyIHRva2VucyBvdXQgZHVyaW5nIHNhbGUgYW5kIHJlc2V0IHRva2VuIGNvdW50IGluIGJhbGFuY2VzLgogICAgKi8KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgcHVibGljIHB1cmNoYXNlczsKCiAgICAvKgogICAgKiAgQ3Jvd2RzYWxlIHBhcmFtZXRlcnMKICAgICovCiAgICBib29sIHB1YmxpYyBpc0ZpbmFsaXplZDsKICAgIGJvb2wgcHVibGljIGlzU3RvcHBlZDsKICAgIHVpbnQyNTYgcHVibGljIHN0YXJ0QmxvY2s7ICAvLyBCbG9jayBudW1iZXIgd2hlbiBzYWxlIHBlcmlvZCBiZWdpbnMKICAgIHVpbnQyNTYgcHVibGljIGVuZEJsb2NrOyAgLy8gQmxvY2sgbnVtYmVyIHdoZW4gc2FsZSBwZXJpb2QgZW5kcwogICAgdWludDI1NiBwdWJsaWMgZmlyc3RDYXBFbmRpbmdCbG9jazsgIC8vIEJsb2NrIG51bWJlciB3aGVuIGZpcnN0IGluZGl2aWR1YWwgdXNlciBjYXAgcGVyaW9kIGVuZHMKICAgIHVpbnQyNTYgcHVibGljIHNlY29uZENhcEVuZGluZ0Jsb2NrOyAgLy8gQmxvY2sgbnVtYmVyIHdoZW4gc2Vjb25kIGluZGl2aWR1YWwgdXNlciBjYXAgcGVyaW9kIGVuZHMKICAgIHVpbnQyNTYgcHVibGljIGFzc2lnbmVkU3VwcGx5OyAgLy8gVG90YWwgR01UIHRva2VucyBjdXJyZW50bHkgYXNzaWduZWQKICAgIHVpbnQyNTYgcHVibGljIHRva2VuRXhjaGFuZ2VSYXRlOyAgLy8gVW5pdHMgb2YgR01UIHBlciBFVEgKICAgIHVpbnQyNTYgcHVibGljIGJhc2VUb2tlbkNhcFBlckFkZHJlc3M7ICAvLyBCYXNlIHVzZXIgY2FwIGluIEdNVCB0b2tlbnMKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGJhc2VFdGhDYXBQZXJBZGRyZXNzID0gNyBldGhlcjsgIC8vIEJhc2UgdXNlciBjYXAgaW4gRVRICiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBibG9ja3NJbkZpcnN0Q2FwUGVyaW9kID0gMjEwNTsgIC8vIEJsb2NrIGxlbmd0aCBmb3IgZmlyc3QgY2FwIHBlcmlvZAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgYmxvY2tzSW5TZWNvbmRDYXBQZXJpb2QgPSAxMDUyOyAgLy8gQmxvY2sgbGVuZ3RoIGZvciBzZWNvbmQgY2FwIHBlcmlvZAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZ2FzTGltaXRJbldlaSA9IDUxMDAwMDAwMDAwIHdlaTsgLy8gIEdhcyBwcmljZSBsaW1pdCBkdXJpbmcgaW5kaXZpZHVhbCBjYXAgcGVyaW9kIAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZ210RnVuZCA9IDUwMCAqICgxMCoqNikgKiB0b2tlblVuaXQ7ICAvLyA1MDBNIEdNVCByZXNlcnZlZCBmb3IgZGV2ZWxvcG1lbnQgYW5kIHVzZXIgZ3Jvd3RoIGZ1bmQgCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBtaW5DYXAgPSAxMDAgKiAoMTAqKjYpICogdG9rZW5Vbml0OyAgLy8gMTAwTSBtaW4gY2FwIHRvIGJlIHNvbGQgZHVyaW5nIHNhbGUKCiAgICAvKgogICAgKiAgRXZlbnRzCiAgICAqLwogICAgZXZlbnQgUmVmdW5kU2VudChhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBDbGFpbUdNVChhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CgogICAgbW9kaWZpZXIgb25seUJ5KGFkZHJlc3MgX2FjY291bnQpewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBfYWNjb3VudCk7ICAKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoYW5nZU93bmVyKGFkZHJlc3MgX25ld093bmVyKSBvbmx5Qnkob3duZXIpIGV4dGVybmFsIHsKICAgICAgICBvd25lciA9IF9uZXdPd25lcjsKICAgIH0KCiAgICBtb2RpZmllciByZWdpc3RlcmVkVXNlcigpIHsKICAgICAgICByZXF1aXJlKHJlZ2lzdGVyZWRbbXNnLnNlbmRlcl0gPT0gdHJ1ZSk7ICAKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG1pbkNhcFJlYWNoZWQoKSB7CiAgICAgICAgcmVxdWlyZShhc3NpZ25lZFN1cHBseSA+PSBtaW5DYXApOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgbWluQ2FwTm90UmVhY2hlZCgpIHsKICAgICAgICByZXF1aXJlKGFzc2lnbmVkU3VwcGx5IDwgbWluQ2FwKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIHJlc3BlY3RUaW1lRnJhbWUoKSB7CiAgICAgICAgcmVxdWlyZShibG9jay5udW1iZXIgPj0gc3RhcnRCbG9jayAmJiBibG9jay5udW1iZXIgPCBlbmRCbG9jayk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBzYWxlUGVyaW9kQ29tcGxldGVkKCkgewogICAgICAgIHJlcXVpcmUoYmxvY2subnVtYmVyID49IGVuZEJsb2NrIHx8IGFzc2lnbmVkU3VwcGx5LmFkZChnbXRGdW5kKSA9PSB0b3RhbFN1cHBseSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBpc1ZhbGlkU3RhdGUoKSB7CiAgICAgICAgcmVxdWlyZSghaXNGaW5hbGl6ZWQgJiYgIWlzU3RvcHBlZCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKgogICAgKiAgQ29uc3RydWN0b3IKICAgICovCiAgICBmdW5jdGlvbiBHTVRva2VuKAogICAgICAgIGFkZHJlc3MgX2V0aEZ1bmRBZGRyZXNzLAogICAgICAgIGFkZHJlc3MgX2dtdEZ1bmRBZGRyZXNzLAogICAgICAgIHVpbnQyNTYgX3N0YXJ0QmxvY2ssCiAgICAgICAgdWludDI1NiBfZW5kQmxvY2ssCiAgICAgICAgdWludDI1NiBfdG9rZW5FeGNoYW5nZVJhdGUpIAogICAgICAgIHB1YmxpYyAKICAgIHsKICAgICAgICByZXF1aXJlKF9nbXRGdW5kQWRkcmVzcyAhPSAweDApOwogICAgICAgIHJlcXVpcmUoX2V0aEZ1bmRBZGRyZXNzICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZShfc3RhcnRCbG9jayA8IF9lbmRCbG9jayAmJiBfc3RhcnRCbG9jayA+IGJsb2NrLm51bWJlcik7CgogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsgLy8gQ3JlYXRvciBvZiBjb250cmFjdCBpcyBvd25lcgogICAgICAgIGlzRmluYWxpemVkID0gZmFsc2U7IC8vIENvbnRyb2xzIHByZS1zYWxlIHN0YXRlIHRocm91Z2ggY3Jvd2RzYWxlIHN0YXRlCiAgICAgICAgaXNTdG9wcGVkID0gZmFsc2U7ICAvLyBDaXJjdWl0IGJyZWFrZXIgKG9ubHkgdG8gYmUgdXNlZCBieSBjb250cmFjdCBvd25lciBpbiBjYXNlIG9mIGVtZXJnZW5jeSkKICAgICAgICBldGhGdW5kQWRkcmVzcyA9IF9ldGhGdW5kQWRkcmVzczsKICAgICAgICBnbXRGdW5kQWRkcmVzcyA9IF9nbXRGdW5kQWRkcmVzczsKICAgICAgICBzdGFydEJsb2NrID0gX3N0YXJ0QmxvY2s7CiAgICAgICAgZW5kQmxvY2sgPSBfZW5kQmxvY2s7CiAgICAgICAgdG9rZW5FeGNoYW5nZVJhdGUgPSBfdG9rZW5FeGNoYW5nZVJhdGU7CiAgICAgICAgYmFzZVRva2VuQ2FwUGVyQWRkcmVzcyA9IGJhc2VFdGhDYXBQZXJBZGRyZXNzLm11bCh0b2tlbkV4Y2hhbmdlUmF0ZSk7CiAgICAgICAgZmlyc3RDYXBFbmRpbmdCbG9jayA9IHN0YXJ0QmxvY2suYWRkKGJsb2Nrc0luRmlyc3RDYXBQZXJpb2QpOwogICAgICAgIHNlY29uZENhcEVuZGluZ0Jsb2NrID0gZmlyc3RDYXBFbmRpbmdCbG9jay5hZGQoYmxvY2tzSW5TZWNvbmRDYXBQZXJpb2QpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gMTAwMCAqICgxMCoqNikgKiB0b2tlblVuaXQ7ICAvLyAxQiB0b3RhbCBHTVQgdG9rZW5zCiAgICAgICAgYXNzaWduZWRTdXBwbHkgPSAwOyAgLy8gU2V0IHN0YXJ0aW5nIGFzc2lnbmVkIHN1cHBseSB0byAwCiAgICB9CgogICAgLy8vIEBub3RpY2UgU3RvcCBzYWxlIGluIGNhc2Ugb2YgZW1lcmdlbmN5IChpLmUuIGNpcmN1aXQgYnJlYWtlcikKICAgIC8vLyBAZGV2IE9ubHkgYWxsb3dlZCB0byBiZSBjYWxsZWQgYnkgdGhlIG93bmVyCiAgICBmdW5jdGlvbiBzdG9wU2FsZSgpIG9ubHlCeShvd25lcikgZXh0ZXJuYWwgewogICAgICAgIGlzU3RvcHBlZCA9IHRydWU7CiAgICB9CgogICAgLy8vIEBub3RpY2UgUmVzdGFydCBzYWxlIGluIGNhc2Ugb2YgYW4gZW1lcmdlbmN5IHN0b3AKICAgIC8vLyBAZGV2IE9ubHkgYWxsb3dlZCB0byBiZSBjYWxsZWQgYnkgdGhlIG93bmVyCiAgICBmdW5jdGlvbiByZXN0YXJ0U2FsZSgpIG9ubHlCeShvd25lcikgZXh0ZXJuYWwgewogICAgICAgIGlzU3RvcHBlZCA9IGZhbHNlOwogICAgfQoKICAgIC8vLyBAZGV2IEZhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGJ1eSB0b2tlbnMKICAgIGZ1bmN0aW9uICgpIHBheWFibGUgcHVibGljIHsKICAgICAgICBjbGFpbVRva2VucygpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIENyZWF0ZSBgbXNnLnZhbHVlYCBFVEggd29ydGggb2YgR01UCiAgICAvLy8gQGRldiBPbmx5IGFsbG93ZWQgdG8gYmUgY2FsbGVkIHdpdGhpbiB0aGUgdGltZWZyYW1lIG9mIHRoZSBzYWxlIHBlcmlvZAogICAgZnVuY3Rpb24gY2xhaW1Ub2tlbnMoKSByZXNwZWN0VGltZUZyYW1lIHJlZ2lzdGVyZWRVc2VyIGlzVmFsaWRTdGF0ZSBwYXlhYmxlIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPiAwKTsKCiAgICAgICAgdWludDI1NiB0b2tlbnMgPSBtc2cudmFsdWUubXVsKHRva2VuRXhjaGFuZ2VSYXRlKTsKCiAgICAgICAgcmVxdWlyZShpc1dpdGhpbkNhcCh0b2tlbnMpKTsKCiAgICAgICAgLy8gQ2hlY2sgdGhhdCB3ZSdyZSBub3Qgb3ZlciB0b3RhbHMKICAgICAgICB1aW50MjU2IGNoZWNrZWRTdXBwbHkgPSBhc3NpZ25lZFN1cHBseS5hZGQodG9rZW5zKTsKCiAgICAgICAgLy8gUmV0dXJuIG1vbmV5IGlmIHdlJ3JlIG92ZXIgdG90YWwgdG9rZW4gc3VwcGx5CiAgICAgICAgcmVxdWlyZShjaGVja2VkU3VwcGx5LmFkZChnbXRGdW5kKSA8PSB0b3RhbFN1cHBseSk7IAoKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLmFkZCh0b2tlbnMpOwogICAgICAgIHB1cmNoYXNlc1ttc2cuc2VuZGVyXSA9IHB1cmNoYXNlc1ttc2cuc2VuZGVyXS5hZGQodG9rZW5zKTsKCiAgICAgICAgYXNzaWduZWRTdXBwbHkgPSBjaGVja2VkU3VwcGx5OwogICAgICAgIENsYWltR01UKG1zZy5zZW5kZXIsIHRva2Vucyk7ICAvLyBMb2dzIHRva2VuIGNyZWF0aW9uIGZvciBVSSBwdXJwb3NlcwogICAgICAgIC8vIEFzIHBlciBFUkMyMCBzcGVjLCBhIHRva2VuIGNvbnRyYWN0IHdoaWNoIGNyZWF0ZXMgbmV3IHRva2VucyBTSE9VTEQgdHJpZ2dlciBhIFRyYW5zZmVyIGV2ZW50IHdpdGggdGhlIF9mcm9tIGFkZHJlc3MKICAgICAgICAvLyBzZXQgdG8gMHgwIHdoZW4gdG9rZW5zIGFyZSBjcmVhdGVkIChodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9ibG9iL21hc3Rlci9FSVBTL2VpcC0yMC10b2tlbi1zdGFuZGFyZC5tZCkKICAgICAgICBUcmFuc2ZlcigweDAsIG1zZy5zZW5kZXIsIHRva2Vucyk7CiAgICB9CgogICAgLy8vIEBkZXYgQ2hlY2tzIGlmIHRyYW5zYWN0aW9uIG1lZXRzIGluZGl2aWR1YWwgY2FwIHJlcXVpcmVtZW50cwogICAgZnVuY3Rpb24gaXNXaXRoaW5DYXAodWludDI1NiB0b2tlbnMpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIC8vIFJldHVybiB0cnVlIGlmIHdlJ3ZlIHBhc3NlZCB0aGUgY2FwIHBlcmlvZAogICAgICAgIGlmIChibG9jay5udW1iZXIgPj0gc2Vjb25kQ2FwRW5kaW5nQmxvY2spIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICAvLyBFbnN1cmUgdXNlciBpcyB1bmRlciBnYXMgbGltaXQKICAgICAgICByZXF1aXJlKHR4Lmdhc3ByaWNlIDw9IGdhc0xpbWl0SW5XZWkpOwogICAgICAgIAogICAgICAgIC8vIEVuc3VyZSB1c2VyIGlzIG5vdCBwdXJjaGFzaW5nIG1vcmUgdG9rZW5zIHRoYW4gYWxsb3dlZAogICAgICAgIGlmIChibG9jay5udW1iZXIgPCBmaXJzdENhcEVuZGluZ0Jsb2NrKSB7CiAgICAgICAgICAgIHJldHVybiBwdXJjaGFzZXNbbXNnLnNlbmRlcl0uYWRkKHRva2VucykgPD0gYmFzZVRva2VuQ2FwUGVyQWRkcmVzczsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gcHVyY2hhc2VzW21zZy5zZW5kZXJdLmFkZCh0b2tlbnMpIDw9IGJhc2VUb2tlbkNhcFBlckFkZHJlc3MubXVsKDQpOwogICAgICAgIH0KICAgIH0KCgogICAgLy8vIEBub3RpY2UgVXBkYXRlcyByZWdpc3RyYXRpb24gc3RhdHVzIG9mIGFuIGFkZHJlc3MgZm9yIHNhbGUgcGFydGljaXBhdGlvbgogICAgLy8vIEBwYXJhbSB0YXJnZXQgQWRkcmVzcyB0aGF0IHdpbGwgYmUgcmVnaXN0ZXJlZCBvciBkZXJlZ2lzdGVyZWQKICAgIC8vLyBAcGFyYW0gaXNSZWdpc3RlcmVkIE5ldyByZWdpc3RyYXRpb24gc3RhdHVzIG9mIGFkZHJlc3MKICAgIGZ1bmN0aW9uIGNoYW5nZVJlZ2lzdHJhdGlvblN0YXR1cyhhZGRyZXNzIHRhcmdldCwgYm9vbCBpc1JlZ2lzdGVyZWQpIHB1YmxpYyBvbmx5Qnkob3duZXIpIHsKICAgICAgICByZWdpc3RlcmVkW3RhcmdldF0gPSBpc1JlZ2lzdGVyZWQ7CiAgICB9CgogICAgLy8vIEBub3RpY2UgVXBkYXRlcyByZWdpc3RyYXRpb24gc3RhdHVzIGZvciBtdWx0aXBsZSBhZGRyZXNzZXMgZm9yIHBhcnRpY2lwYXRpb24KICAgIC8vLyBAcGFyYW0gdGFyZ2V0cyBBZGRyZXNzZXMgdGhhdCB3aWxsIGJlIHJlZ2lzdGVyZWQgb3IgZGVyZWdpc3RlcmVkCiAgICAvLy8gQHBhcmFtIGlzUmVnaXN0ZXJlZCBOZXcgcmVnaXN0cmF0aW9uIHN0YXR1cyBvZiBhZGRyZXNzZXMKICAgIGZ1bmN0aW9uIGNoYW5nZVJlZ2lzdHJhdGlvblN0YXR1c2VzKGFkZHJlc3NbXSB0YXJnZXRzLCBib29sIGlzUmVnaXN0ZXJlZCkgcHVibGljIG9ubHlCeShvd25lcikgewogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IHRhcmdldHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY2hhbmdlUmVnaXN0cmF0aW9uU3RhdHVzKHRhcmdldHNbaV0sIGlzUmVnaXN0ZXJlZCk7CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBAbm90aWNlIFNlbmRzIHRoZSBFVEggdG8gRVRIIGZ1bmQgd2FsbGV0IGFuZCBmaW5hbGl6ZXMgdGhlIHRva2VuIHNhbGUKICAgIGZ1bmN0aW9uIGZpbmFsaXplKCkgbWluQ2FwUmVhY2hlZCBzYWxlUGVyaW9kQ29tcGxldGVkIGlzVmFsaWRTdGF0ZSBvbmx5Qnkob3duZXIpIGV4dGVybmFsIHsKICAgICAgICAvLyBVcG9uIHN1Y2Nlc3NmdWwgY29tcGxldGlvbiBvZiBzYWxlLCBzZW5kIHRva2VucyB0byBHTVQgZnVuZAogICAgICAgIGJhbGFuY2VzW2dtdEZ1bmRBZGRyZXNzXSA9IGJhbGFuY2VzW2dtdEZ1bmRBZGRyZXNzXS5hZGQoZ210RnVuZCk7CiAgICAgICAgYXNzaWduZWRTdXBwbHkgPSBhc3NpZ25lZFN1cHBseS5hZGQoZ210RnVuZCk7CiAgICAgICAgQ2xhaW1HTVQoZ210RnVuZEFkZHJlc3MsIGdtdEZ1bmQpOyAgIC8vIExvZyB0b2tlbnMgY2xhaW1lZCBieSBSYWRpY2FsIEFwcCBJbnRlcm5hdGlvbmFsIEdNVCBmdW5kCiAgICAgICAgVHJhbnNmZXIoMHgwLCBnbXRGdW5kQWRkcmVzcywgZ210RnVuZCk7CiAgICAgICAgCiAgICAgICAgLy8gSW4gdGhlIGNhc2Ugd2hlcmUgbm90IGFsbCA1MDBNIEdNVCBhbGxvY2F0ZWQgdG8gY3Jvd2RmdW5kIHBhcnRpY2lwYW50cwogICAgICAgIC8vIGlzIHNvbGQsIHNlbmQgdGhlIHJlbWFpbmluZyB1bmFzc2lnbmVkIHN1cHBseSB0byBHTVQgZnVuZCBhZGRyZXNzLAogICAgICAgIC8vIHdoaWNoIHdpbGwgdGhlbiBiZSB1c2VkIHRvIGZ1bmQgdGhlIHVzZXIgZ3Jvd3RoIHBvb2wuCiAgICAgICAgaWYgKGFzc2lnbmVkU3VwcGx5IDwgdG90YWxTdXBwbHkpIHsKICAgICAgICAgICAgdWludDI1NiB1bmFzc2lnbmVkU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKGFzc2lnbmVkU3VwcGx5KTsKICAgICAgICAgICAgYmFsYW5jZXNbZ210RnVuZEFkZHJlc3NdID0gYmFsYW5jZXNbZ210RnVuZEFkZHJlc3NdLmFkZCh1bmFzc2lnbmVkU3VwcGx5KTsKICAgICAgICAgICAgYXNzaWduZWRTdXBwbHkgPSBhc3NpZ25lZFN1cHBseS5hZGQodW5hc3NpZ25lZFN1cHBseSk7CgogICAgICAgICAgICBDbGFpbUdNVChnbXRGdW5kQWRkcmVzcywgdW5hc3NpZ25lZFN1cHBseSk7ICAvLyBMb2cgdG9rZW5zIGNsYWltZWQgYnkgUmFkaWNhbCBBcHAgSW50ZXJuYXRpb25hbCBHTVQgZnVuZAogICAgICAgICAgICBUcmFuc2ZlcigweDAsIGdtdEZ1bmRBZGRyZXNzLCB1bmFzc2lnbmVkU3VwcGx5KTsKICAgICAgICB9CgogICAgICAgIGV0aEZ1bmRBZGRyZXNzLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CgogICAgICAgIGlzRmluYWxpemVkID0gdHJ1ZTsgLy8gRmluYWxpemUgc2FsZQogICAgfQoKICAgIC8vLyBAbm90aWNlIEFsbG93cyBjb250cmlidXRvcnMgdG8gcmVjb3ZlciB0aGVpciBFVEggaW4gdGhlIGNhc2Ugb2YgYSBmYWlsZWQgdG9rZW4gc2FsZQogICAgLy8vIEBkZXYgT25seSBhbGxvd2VkIHRvIGJlIGNhbGxlZCBvbmNlIHNhbGUgcGVyaW9kIGlzIG92ZXIgSUYgdGhlIG1pbiBjYXAgaXMgbm90IHJlYWNoZWQKICAgIC8vLyBAcmV0dXJuIGJvb2wgVHJ1ZSBpZiByZWZ1bmQgc3VjY2Vzc2Z1bGx5IHNlbnQsIGZhbHNlIG90aGVyd2lzZQogICAgZnVuY3Rpb24gcmVmdW5kKCkgbWluQ2FwTm90UmVhY2hlZCBzYWxlUGVyaW9kQ29tcGxldGVkIHJlZ2lzdGVyZWRVc2VyIGlzVmFsaWRTdGF0ZSBleHRlcm5hbCB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyICE9IGdtdEZ1bmRBZGRyZXNzKTsgIC8vIFJhZGljYWwgQXBwIEludGVybmF0aW9uYWwgbm90IGVudGl0bGVkIHRvIGEgcmVmdW5kCgogICAgICAgIHVpbnQyNTYgZ210VmFsID0gYmFsYW5jZXNbbXNnLnNlbmRlcl07CiAgICAgICAgcmVxdWlyZShnbXRWYWwgPiAwKTsgLy8gUHJldmVudCByZWZ1bmQgaWYgc2VuZGVyIEdNVCBiYWxhbmNlIGlzIDAKCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoZ210VmFsKTsKICAgICAgICBhc3NpZ25lZFN1cHBseSA9IGFzc2lnbmVkU3VwcGx5LnN1YihnbXRWYWwpOyAvLyBBZGp1c3QgYXNzaWduZWQgc3VwcGx5IHRvIGFjY291bnQgZm9yIHJlZnVuZGVkIGFtb3VudAogICAgICAgIAogICAgICAgIHVpbnQyNTYgZXRoVmFsID0gZ210VmFsLmRpdih0b2tlbkV4Y2hhbmdlUmF0ZSk7IC8vIENvdmVydCBHTVQgdG8gRVRICgogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoZXRoVmFsKTsKICAgICAgICAKICAgICAgICBSZWZ1bmRTZW50KG1zZy5zZW5kZXIsIGV0aFZhbCk7ICAvLyBMb2cgc3VjY2Vzc2Z1bCByZWZ1bmQgCiAgICB9CgogICAgLyoKICAgICAgICBOT1RFOiBXZSBleHBsaWNpdGx5IGRvIG5vdCBkZWZpbmUgYSBmYWxsYmFjayBmdW5jdGlvbiwgaW4gb3JkZXIgdG8gcHJldmVudCAKICAgICAgICByZWNlaXZpbmcgRXRoZXIgZm9yIG5vIHJlYXNvbi4gQXMgbm90ZWQgaW4gU29saWRpdHkgZG9jdW1lbnRhdGlvbiwgY29udHJhY3RzIAogICAgICAgIHRoYXQgcmVjZWl2ZSBFdGhlciBkaXJlY3RseSAod2l0aG91dCBhIGZ1bmN0aW9uIGNhbGwsIGkuZS4gdXNpbmcgc2VuZCBvciB0cmFuc2ZlcikKICAgICAgICBidXQgZG8gbm90IGRlZmluZSBhIGZhbGxiYWNrIGZ1bmN0aW9uIHRocm93IGFuIGV4Y2VwdGlvbiwgc2VuZGluZyBiYWNrIHRoZSBFdGhlciAodGhpcyB3YXMgZGlmZmVyZW50IGJlZm9yZSBTb2xpZGl0eSB2MC40LjApLgogICAgKi8KfQ=='.
	

]
