Class {
	#name : #SRTa4f546b43c6338e20f544b2827d8ee099b389f02,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTa4f546b43c6338e20f544b2827d8ee099b389f02 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuNDsKCgovLy8gQHRpdGxlIEJpdHBsdXMgVG9rZW4gKEJQTlQpIC0gY3Jvd2RmdW5kaW5nIGNvZGUgZm9yIEJpdHBsdXMgUHJvamVjdApjb250cmFjdCBCaXRwbHVzVG9rZW4gewogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkJpdHBsdXMgVG9rZW4iOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiQlBOVCI7CiAgICB1aW50OCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsgIC8vIDE4IGRlY2ltYWwgcGxhY2VzLCB0aGUgc2FtZSBhcyBFVEguCgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgdG9rZW5DcmVhdGlvblJhdGUgPSAxMDAwOwoKICAgIC8vIFRoZSBmdW5kaW5nIGNhcCBpbiB3ZWlzLgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgdG9rZW5DcmVhdGlvbkNhcCA9IDI1MDAwIGV0aGVyICogdG9rZW5DcmVhdGlvblJhdGU7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCB0b2tlbkNyZWF0aW9uTWluID0gMjUwMCBldGhlciAqIHRva2VuQ3JlYXRpb25SYXRlOwoKICAgIHVpbnQyNTYgcHVibGljIGZ1bmRpbmdTdGFydEJsb2NrOwogICAgdWludDI1NiBwdWJsaWMgZnVuZGluZ0VuZEJsb2NrOwoKICAgIC8vIFRoZSBmbGFnIGluZGljYXRlcyBpZiB0aGUgY29udHJhY3QgaXMgaW4gRnVuZGluZyBzdGF0ZS4KICAgIGJvb2wgcHVibGljIGZ1bmRpbmcgPSB0cnVlOwoKICAgIC8vIFJlY2VpdmVzIEVUSAogICAgYWRkcmVzcyBwdWJsaWMgYml0cGx1c0FkZHJlc3M7CgogICAgLy8gVGhlIGN1cnJlbnQgdG90YWwgdG9rZW4gc3VwcGx5LgogICAgdWludDI1NiB0b3RhbFRva2VuczsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgCiAgICAvLyBPd25lciBvZiBhY2NvdW50IGFwcHJvdmVzIHRoZSB0cmFuc2ZlciBvZiBhbiBhbW91bnQgdG8gYW5vdGhlciBhY2NvdW50CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKICAgIAogICAgc3RydWN0IEVhcmx5QmFja2VyQ29uZGl0aW9uIHsKICAgICAgICBhZGRyZXNzIGJhY2tlckFkZHJlc3M7CiAgICAgICAgdWludDI1NiBkZXBvc2l0ZWQ7CiAgICAgICAgdWludDI1NiBhZ3JlZWRQZXJjZW50YWdlOwogICAgICAgIHVpbnQyNTYgYWdyZWVkRXRoUHJpY2U7CiAgICB9CiAgICAKICAgIEVhcmx5QmFja2VyQ29uZGl0aW9uW10gcHVibGljIGVhcmx5QmFja2VyczsKICAgIAogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBSZWZ1bmQoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBFYXJseUJhY2tlckRlcG9zaXQoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKTsKCiAgICBmdW5jdGlvbiBCaXRwbHVzVG9rZW4odWludDI1NiBfZnVuZGluZ1N0YXJ0QmxvY2ssCiAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDI1NiBfZnVuZGluZ0VuZEJsb2NrKSB7CgogICAgICAgIGFkZHJlc3MgX2JpdHBsdXNBZGRyZXNzID0gMHgyODZlMDA2MGQ5REJFYTAyMzEzODk0ODVENDU1QTgwZjE0NjQ4QjNjOwogICAgICAgIGlmIChfYml0cGx1c0FkZHJlc3MgPT0gMCkgdGhyb3c7CiAgICAgICAgaWYgKF9mdW5kaW5nU3RhcnRCbG9jayA8PSBibG9jay5udW1iZXIpIHRocm93OwogICAgICAgIGlmIChfZnVuZGluZ0VuZEJsb2NrICAgPD0gX2Z1bmRpbmdTdGFydEJsb2NrKSB0aHJvdzsKICAgICAgICAKICAgICAgICAvLyBzcGVjaWFsIGNvbmRpdGlvbnMgZm9yIHRoZSBlYXJseSBiYWNrZXJzCiAgICAgICAgZWFybHlCYWNrZXJzLnB1c2goRWFybHlCYWNrZXJDb25kaXRpb24oewogICAgICAgICAgICBiYWNrZXJBZGRyZXNzOiAweGExY2ZjOWViZGZmYmZmZTliMjdkNzQxYWUwNGNmYzJlNzhhZjUyN2EsCiAgICAgICAgICAgIGRlcG9zaXRlZDogMCwKICAgICAgICAgICAgYWdyZWVkUGVyY2VudGFnZTogMTAwMCwKICAgICAgICAgICAgYWdyZWVkRXRoUHJpY2U6IDI1MCBldGhlcgogICAgICAgIH0pKTsKICAgICAgICAKICAgICAgICAvLyBjb25kaXRpb25zIGZvciB0aGUgY29tcGFueSAvIGRldmVsb3BlcnMKICAgICAgICBlYXJseUJhY2tlcnMucHVzaChFYXJseUJhY2tlckNvbmRpdGlvbih7CiAgICAgICAgICAgIGJhY2tlckFkZHJlc3M6IDB4MzdlZjExNjgyNTJmMjc0RDRjQTViNTU4MjEzZDcyOTQwODVCQ0EwOCwKICAgICAgICAgICAgZGVwb3NpdGVkOiAwLAogICAgICAgICAgICBhZ3JlZWRQZXJjZW50YWdlOiA1MDAsCiAgICAgICAgICAgIGFncmVlZEV0aFByaWNlOiAwLjEgZXRoZXIKICAgICAgICB9KSk7CiAgICAgICAgCiAgICAgICAgZWFybHlCYWNrZXJzLnB1c2goRWFybHlCYWNrZXJDb25kaXRpb24oewogICAgICAgICAgICBiYWNrZXJBZGRyZXNzOiAweDI0NjYwNDY0M2FjMzhlOTY1MjZiNjZiYTkxYzFiMmVjMGMzOWQ4ZGUsCiAgICAgICAgICAgIGRlcG9zaXRlZDogMCwKICAgICAgICAgICAgYWdyZWVkUGVyY2VudGFnZTogNTAwLAogICAgICAgICAgICBhZ3JlZWRFdGhQcmljZTogMC4xIGV0aGVyCiAgICAgICAgfSkpOyAgICAgICAgCiAgICAgICAgCiAgICAgICAgYml0cGx1c0FkZHJlc3MgPSBfYml0cGx1c0FkZHJlc3M7CiAgICAgICAgZnVuZGluZ1N0YXJ0QmxvY2sgPSBfZnVuZGluZ1N0YXJ0QmxvY2s7CiAgICAgICAgZnVuZGluZ0VuZEJsb2NrID0gX2Z1bmRpbmdFbmRCbG9jazsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBUcmFuc2ZlciBgX3ZhbHVlYCBCUE5UIHRva2VucyBmcm9tIHNlbmRlcidzIGFjY291bnQKICAgIC8vLyBgbXNnLnNlbmRlcmAgdG8gcHJvdmlkZWQgYWNjb3VudCBhZGRyZXNzIGBfdG9gLgogICAgLy8vIEBub3RpY2UgVGhpcyBmdW5jdGlvbiBpcyBkaXNhYmxlZCBkdXJpbmcgdGhlIGZ1bmRpbmcuCiAgICAvLy8gQGRldiBSZXF1aXJlZCBzdGF0ZTogT3BlcmF0aW9uYWwKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSB0b2tlbnMgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIC8vIEFib3J0IGlmIG5vdCBpbiBPcGVyYXRpb25hbCBzdGF0ZS4KICAgICAgICBpZiAoZnVuZGluZykgdGhyb3c7CgogICAgICAgIHZhciBzZW5kZXJCYWxhbmNlID0gYmFsYW5jZXNbbXNnLnNlbmRlcl07CiAgICAgICAgaWYgKHNlbmRlckJhbGFuY2UgPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsKICAgICAgICAgICAgc2VuZGVyQmFsYW5jZSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2VuZGVyQmFsYW5jZTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKAogICAgICAgICBhZGRyZXNzIF9mcm9tLAogICAgICAgICBhZGRyZXNzIF90bywKICAgICAgICAgdWludDI1NiBfYW1vdW50CiAgICAgKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBBYm9ydCBpZiBub3QgaW4gT3BlcmF0aW9uYWwgc3RhdGUuCiAgICAgICAgaWYgKGZ1bmRpbmcpIHRocm93OyAgICAgICAgIAogICAgICAgICAKICAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfYW1vdW50CiAgICAgICAgICAgICAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfYW1vdW50CiAgICAgICAgICAgICAmJiBfYW1vdW50ID4gMCkgewogICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF9hbW91bnQ7CiAgICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfYW1vdW50OwogICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfYW1vdW50OwogICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgIH0KICAgIH0gICAgCgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIHRvdGFsVG9rZW5zOwogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgZXh0ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIC8vLyBAbm90aWNlIENyZWF0ZSB0b2tlbnMgd2hlbiBmdW5kaW5nIGlzIGFjdGl2ZS4KICAgIC8vLyBAZGV2IFJlcXVpcmVkIHN0YXRlOiBGdW5kaW5nIEFjdGl2ZQogICAgLy8vIEBkZXYgU3RhdGUgdHJhbnNpdGlvbjogLT4gRnVuZGluZyBTdWNjZXNzIChvbmx5IGlmIGNhcCByZWFjaGVkKQogICAgZnVuY3Rpb24gY3JlYXRlKCkgcGF5YWJsZSBleHRlcm5hbCB7CiAgICAgICAgLy8gQWJvcnQgaWYgbm90IGluIEZ1bmRpbmcgQWN0aXZlIHN0YXRlLgogICAgICAgIC8vIFRoZSBjaGVja3MgYXJlIHNwbGl0IChpbnN0ZWFkIG9mIHVzaW5nIG9yIG9wZXJhdG9yKSBiZWNhdXNlIGl0IGlzCiAgICAgICAgLy8gY2hlYXBlciB0aGlzIHdheS4KICAgICAgICBpZiAoIWZ1bmRpbmcpIHRocm93OwogICAgICAgIGlmIChibG9jay5udW1iZXIgPCBmdW5kaW5nU3RhcnRCbG9jaykgdGhyb3c7CiAgICAgICAgaWYgKGJsb2NrLm51bWJlciA+IGZ1bmRpbmdFbmRCbG9jaykgdGhyb3c7CgogICAgICAgIC8vIERvIG5vdCBhbGxvdyBjcmVhdGluZyAwIHRva2Vucy4KICAgICAgICBpZiAobXNnLnZhbHVlID09IDApIHRocm93OwogICAgICAgIAogICAgICAgIGJvb2wgaXNFYXJseUJhY2tlciA9IGZhbHNlOwogICAgICAgIAogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IGVhcmx5QmFja2Vycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZihlYXJseUJhY2tlcnNbaV0uYmFja2VyQWRkcmVzcyA9PSBtc2cuc2VuZGVyKSB7CiAgICAgICAgICAgICAgICBlYXJseUJhY2tlcnNbaV0uZGVwb3NpdGVkICs9IG1zZy52YWx1ZTsKICAgICAgICAgICAgICAgIGlzRWFybHlCYWNrZXIgPSB0cnVlOwogICAgICAgICAgICAgICAgRWFybHlCYWNrZXJEZXBvc2l0KG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgCiAgICAgICAgaWYoIWlzRWFybHlCYWNrZXIpIHsKICAgICAgICAgICAgLy8gZG8gbm90IGFsbG93IHRvIGNyZWF0ZSBtb3JlIHRoZW4gY2FwIHRva2VucwogICAgICAgICAgICBpZiAobXNnLnZhbHVlID4gKHRva2VuQ3JlYXRpb25DYXAgLSB0b3RhbFRva2VucykgLyB0b2tlbkNyZWF0aW9uUmF0ZSkKICAgICAgICAgICAgICAgIHRocm93OwoKICAgICAgICAgICAgdmFyIG51bVRva2VucyA9IG1zZy52YWx1ZSAqIHRva2VuQ3JlYXRpb25SYXRlOwogICAgICAgICAgICB0b3RhbFRva2VucyArPSBudW1Ub2tlbnM7CgogICAgICAgICAgICAvLyBBc3NpZ24gbmV3IHRva2VucyB0byB0aGUgc2VuZGVyCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IG51bVRva2VuczsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIExvZyB0b2tlbiBjcmVhdGlvbiBldmVudAogICAgICAgICAgICBUcmFuc2ZlcigwLCBtc2cuc2VuZGVyLCBudW1Ub2tlbnMpOyAgICAgICAgICAgIAogICAgICAgIH0KICAgIH0KCiAgICAvLy8gQG5vdGljZSBGaW5hbGl6ZSBjcm93ZGZ1bmRpbmcKICAgIC8vLyBAZGV2IElmIGNhcCB3YXMgcmVhY2hlZCBvciBjcm93ZGZ1bmRpbmcgaGFzIGVuZGVkIHRoZW46CiAgICAvLy8gY3JlYXRlIEJQTlQgZm9yIHRoZSBlYXJseSBiYWNrZXJzLAogICAgLy8vIHRyYW5zZmVyIEVUSCB0byB0aGUgQml0cGx1cyBhZGRyZXNzLgogICAgLy8vIEBkZXYgUmVxdWlyZWQgc3RhdGU6IEZ1bmRpbmcgU3VjY2VzcwogICAgLy8vIEBkZXYgU3RhdGUgdHJhbnNpdGlvbjogLT4gT3BlcmF0aW9uYWwgTm9ybWFsCiAgICBmdW5jdGlvbiBmaW5hbGl6ZSgpIGV4dGVybmFsIHsKICAgICAgICAvLyBBYm9ydCBpZiBub3QgaW4gRnVuZGluZyBTdWNjZXNzIHN0YXRlLgogICAgICAgIGlmICghZnVuZGluZykgdGhyb3c7CiAgICAgICAgaWYgKChibG9jay5udW1iZXIgPD0gZnVuZGluZ0VuZEJsb2NrIHx8CiAgICAgICAgICAgICB0b3RhbFRva2VucyA8IHRva2VuQ3JlYXRpb25NaW4pICYmCiAgICAgICAgICAgICB0b3RhbFRva2VucyA8IHRva2VuQ3JlYXRpb25DYXApIHRocm93OwoKICAgICAgICAvLyBTd2l0Y2ggdG8gT3BlcmF0aW9uYWwgc3RhdGUuIFRoaXMgaXMgdGhlIG9ubHkgcGxhY2UgdGhpcyBjYW4gaGFwcGVuLgogICAgICAgIGZ1bmRpbmcgPSBmYWxzZTsKICAgICAgICAvLyBUcmFuc2ZlciBFVEggdG8gdGhlIEJpdHBsdXMgYWRkcmVzcy4KICAgICAgICBpZiAoIWJpdHBsdXNBZGRyZXNzLnNlbmQodGhpcy5iYWxhbmNlKSkgdGhyb3c7CiAgICAgICAgCiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgZWFybHlCYWNrZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmKGVhcmx5QmFja2Vyc1tpXS5kZXBvc2l0ZWQgIT0gdWludDI1NigwKSkgewogICAgICAgICAgICAgICAgdWludDI1NiBwZXJjZW50YWdlID0gKGVhcmx5QmFja2Vyc1tpXS5kZXBvc2l0ZWQgKiBlYXJseUJhY2tlcnNbaV0uYWdyZWVkUGVyY2VudGFnZSAvIGVhcmx5QmFja2Vyc1tpXS5hZ3JlZWRFdGhQcmljZSk7CiAgICAgICAgICAgICAgICB1aW50MjU2IGFkZGl0aW9uYWxUb2tlbnMgPSB0b3RhbFRva2VucyAqIHBlcmNlbnRhZ2UgLyAoMTAwMDAgLSBwZXJjZW50YWdlKTsKICAgICAgICAgICAgICAgIGFkZHJlc3MgYmFja2VyQWRkciA9IGVhcmx5QmFja2Vyc1tpXS5iYWNrZXJBZGRyZXNzOwogICAgICAgICAgICAgICAgYmFsYW5jZXNbYmFja2VyQWRkcl0gPSBhZGRpdGlvbmFsVG9rZW5zOwogICAgICAgICAgICAgICAgdG90YWxUb2tlbnMgKz0gYWRkaXRpb25hbFRva2VuczsKICAgICAgICAgICAgICAgIFRyYW5zZmVyKDAsIGJhY2tlckFkZHIsIGFkZGl0aW9uYWxUb2tlbnMpOwoJCQl9CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBAbm90aWNlIEdldCBiYWNrIHRoZSBldGhlciBzZW50IGR1cmluZyB0aGUgZnVuZGluZyBpbiBjYXNlIHRoZSBmdW5kaW5nCiAgICAvLy8gaGFzIG5vdCByZWFjaGVkIHRoZSBtaW5pbXVtIGxldmVsLgogICAgLy8vIEBkZXYgUmVxdWlyZWQgc3RhdGU6IEZ1bmRpbmcgRmFpbHVyZQogICAgZnVuY3Rpb24gcmVmdW5kKCkgZXh0ZXJuYWwgewogICAgICAgIC8vIEFib3J0IGlmIG5vdCBpbiBGdW5kaW5nIEZhaWx1cmUgc3RhdGUuCiAgICAgICAgaWYgKCFmdW5kaW5nKSB0aHJvdzsKICAgICAgICBpZiAoYmxvY2subnVtYmVyIDw9IGZ1bmRpbmdFbmRCbG9jaykgdGhyb3c7CiAgICAgICAgaWYgKHRvdGFsVG9rZW5zID49IHRva2VuQ3JlYXRpb25NaW4pIHRocm93OwogICAgICAgIAogICAgICAgIGJvb2wgaXNFYXJseUJhY2tlciA9IGZhbHNlOwogICAgICAgIHVpbnQyNTYgZXRoVmFsdWU7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgZWFybHlCYWNrZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmKGVhcmx5QmFja2Vyc1tpXS5iYWNrZXJBZGRyZXNzID09IG1zZy5zZW5kZXIpIHsKICAgICAgICAgICAgICAgIGlzRWFybHlCYWNrZXIgPSB0cnVlOwogICAgICAgICAgICAgICAgZXRoVmFsdWUgPSBlYXJseUJhY2tlcnNbaV0uZGVwb3NpdGVkOwogICAgICAgICAgICAgICAgaWYgKGV0aFZhbHVlID09IDApIHRocm93OwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZighaXNFYXJseUJhY2tlcikgewogICAgICAgICAgICB2YXIgYnBudFZhbHVlID0gYmFsYW5jZXNbbXNnLnNlbmRlcl07CiAgICAgICAgICAgIGlmIChicG50VmFsdWUgPT0gMCkgdGhyb3c7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gMDsKICAgICAgICAgICAgdG90YWxUb2tlbnMgLT0gYnBudFZhbHVlOwogICAgICAgICAgICBldGhWYWx1ZSA9IGJwbnRWYWx1ZSAvIHRva2VuQ3JlYXRpb25SYXRlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBSZWZ1bmQobXNnLnNlbmRlciwgZXRoVmFsdWUpOwogICAgICAgIGlmICghbXNnLnNlbmRlci5zZW5kKGV0aFZhbHVlKSkgdGhyb3c7CiAgICB9CiAgICAKICAgIC8vIEFsbG93IF9zcGVuZGVyIHRvIHdpdGhkcmF3IGZyb20geW91ciBhY2NvdW50LCBtdWx0aXBsZSB0aW1lcywgdXAgdG8gdGhlIF92YWx1ZSBhbW91bnQuCiAgICAvLyBJZiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBhZ2FpbiBpdCBvdmVyd3JpdGVzIHRoZSBjdXJyZW50IGFsbG93YW5jZSB3aXRoIF92YWx1ZS4KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50KSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF9hbW91bnQ7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCiAgICAvLyBKdXN0IGEgc2FmZWd1YXJkIGZvciBwZW9wbGUgd2hvIG1pZ2h0IGludmVzdCBhbmQgdGhlbiBsb29zZSB0aGUga2V5CiAgICAvLyBJZiAyIHdlZWtzIGFmdGVyIGFuIHVuc3VjY2Vzc2Z1bCBlbmQgb2YgdGhlIGNhbXBhaWduIHRoZXJlIGFyZSB1bmNsYWltZWQKICAgIC8vIGZ1bmRzLCB0cmFuc2ZlciB0aG9zZSB0byBCaXRwbHVzIGFkZHJlc3MgLSB0aGUgZnVuZHMgd2lsbCBiZSByZXR1cm5lZCB0byAKICAgIC8vIHJlc3BlY3RpdmUgb3duZXJzIGZyb20gaXQKICAgIGZ1bmN0aW9uIHNhZmVndWFyZCgpIHsKICAgICAgICBpZihibG9jay5udW1iZXIgPiAoZnVuZGluZ0VuZEJsb2NrICsgNzEwMDApKSB7CiAgICAgICAgICAgIGlmICghYml0cGx1c0FkZHJlc3Muc2VuZCh0aGlzLmJhbGFuY2UpKSB0aHJvdzsKICAgICAgICB9CiAgICB9Cn0='.
	

]
