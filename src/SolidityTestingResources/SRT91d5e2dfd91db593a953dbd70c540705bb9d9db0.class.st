Class {
	#name : #SRT91d5e2dfd91db593a953dbd70c540705bb9d9db0,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT91d5e2dfd91db593a953dbd70c540705bb9d9db0 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9Cgpjb250cmFjdCBBZG1pbiB7CiAgYWRkcmVzcyBwdWJsaWMgYWRtaW4xOwogIGFkZHJlc3MgcHVibGljIGFkbWluMjsKCiAgZXZlbnQgQWRtaW5zaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzQWRtaW4sIGFkZHJlc3MgaW5kZXhlZCBuZXdBZG1pbik7CgogIGZ1bmN0aW9uIEFkbWluKCkgcHVibGljIHsKICAgIGFkbWluMSA9IDB4RDM4NENmQTcwRGI1OTBlYWIzMmYzQzI2MkI4NEMxRTEwZjI3RURhODsKICAgIGFkbWluMiA9IDB4MjYzMDAzQTRDQzUzNThhQ2ViQmFkN0UzMEM2MDE2NzMwN2RGMWNjQjsKICB9CgogIG1vZGlmaWVyIG9ubHlBZG1pbigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBhZG1pbjEgfHwgbXNnLnNlbmRlciA9PSBhZG1pbjIpOwogICAgXzsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyQWRtaW5zaGlwMShhZGRyZXNzIG5ld0FkbWluKSBwdWJsaWMgb25seUFkbWluIHsKICAgIHJlcXVpcmUobmV3QWRtaW4gIT0gYWRkcmVzcygwKSk7CiAgICBBZG1pbnNoaXBUcmFuc2ZlcnJlZChhZG1pbjEsIG5ld0FkbWluKTsKICAgIGFkbWluMSA9IG5ld0FkbWluOwogIH0KICBmdW5jdGlvbiB0cmFuc2ZlckFkbWluc2hpcDIoYWRkcmVzcyBuZXdBZG1pbikgcHVibGljIG9ubHlBZG1pbiB7CiAgICByZXF1aXJlKG5ld0FkbWluICE9IGFkZHJlc3MoMCkpOwogICAgQWRtaW5zaGlwVHJhbnNmZXJyZWQoYWRtaW4yLCBuZXdBZG1pbik7CiAgICBhZG1pbjIgPSBuZXdBZG1pbjsKICB9ICAKfQoKY29udHJhY3QgRmlsdGVyQWRkcmVzcyBpcyBBZG1pbnsKICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBBY2Nlc3NBZGRyZXNzOwogICAgCiAgZnVuY3Rpb24gU2V0QWNjZXNzKGFkZHJlc3MgYWRkciwgdWludCBhY2Nlc3MpIG9ubHlBZG1pbiBwdWJsaWN7CiAgICBBY2Nlc3NBZGRyZXNzW2FkZHJdID0gYWNjZXNzOwogIH0KICAgIAogIGZ1bmN0aW9uIEdldEFjY2VzcyhhZGRyZXNzIGFkZHIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQpewogICAgcmV0dXJuICBBY2Nlc3NBZGRyZXNzW2FkZHJdOwogIH0KICAgIAogIG1vZGlmaWVyIGNoZWNrRmlsdGVyQWRkcmVzcygpewogICAgcmVxdWlyZShBY2Nlc3NBZGRyZXNzW21zZy5zZW5kZXJdICE9IDEpOwogICAgXzsKICB9Cn0KCmNvbnRyYWN0IFJld2FyZHMgaXMgQWRtaW57CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CiAgdWludCBwdWJsaWMgQ29lZlJldzsKICB1aW50IHB1YmxpYyBTdW1tUmV3OwogIGFkZHJlc3MgcHVibGljIFJld0FkZHI7CiAgCiAgZnVuY3Rpb24gU2V0Q29lZlJldyh1aW50IG5ld0NvZWZSZXcpIHB1YmxpYyBvbmx5QWRtaW57CiAgICBDb2VmUmV3ID0gbmV3Q29lZlJldzsKICB9CiAgCiAgZnVuY3Rpb24gU2V0U3VtbVJldyh1aW50IG5ld1N1bW1SZXcpIHB1YmxpYyBvbmx5QWRtaW57CiAgICBTdW1tUmV3ID0gbmV3U3VtbVJldzsKICB9ICAgIAogIAogIGZ1bmN0aW9uIFNldFJld0FkZHIoYWRkcmVzcyBuZXdSZXdBZGRyKSBwdWJsaWMgb25seUFkbWluewogICAgUmV3QWRkciA9IG5ld1Jld0FkZHI7CiAgfSAKICAKICBmdW5jdGlvbiBHZXRTdW1tUmV3YXJkKHVpbnQgX3ZhbHVlKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50KXsKICAgIHJldHVybiBfdmFsdWUubXVsKENvZWZSZXcpLmRpdigxMDApLmRpdigxMDAwKTsgCiAgfQp9Cgpjb250cmFjdCBGZWVzIGlzIEFkbWluewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogIHVpbnQgcHVibGljIEZlZTsKICBhZGRyZXNzIHB1YmxpYyBGZWVBZGRyMTsKICBhZGRyZXNzIHB1YmxpYyBGZWVBZGRyMjsKICAgIAogIGZ1bmN0aW9uIFNldEZlZSh1aW50IG5ld0ZlZSkgcHVibGljIG9ubHlBZG1pbnsKICAgIEZlZSA9IG5ld0ZlZTsKICB9CiAgZnVuY3Rpb24gR2V0U3VtbUZlZSh1aW50IF92YWx1ZSkgcHVibGljIGNvbnN0YW50IHJldHVybnModWludCl7CiAgICByZXR1cm4gX3ZhbHVlLm11bChGZWUpLmRpdigxMDApLmRpdigxMDAwKS5kaXYoMyk7CiAgfSAKfQoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLgogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljLCBGaWx0ZXJBZGRyZXNzLCBGZWVzLCBSZXdhcmRzLCBPd25hYmxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGFsbFN1bW1SZXdhcmQ7CiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBjaGVja0ZpbHRlckFkZHJlc3MgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHVpbnQyNTYgX3ZhbHVldG87CiAgICB1aW50IGZTdW1tRmVlOwogICAgdWludCBmU3VtbVJld2FyZDsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShfdG8gIT0gbXNnLnNlbmRlcik7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CiAgICAvL2ZlZXMKICAgIF92YWx1ZXRvID0gX3ZhbHVlOwogICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpeyAgCiAgICAgIGZTdW1tRmVlID0gR2V0U3VtbUZlZShfdmFsdWUpOwogICAgICBmU3VtbVJld2FyZCA9IEdldFN1bW1SZXdhcmQoX3ZhbHVlKTsKICAgICAgICAKICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoZlN1bW1GZWUpOwogICAgICBiYWxhbmNlc1tGZWVBZGRyMV0gPSBiYWxhbmNlc1tGZWVBZGRyMV0uYWRkKGZTdW1tRmVlKTsKICAgICAgX3ZhbHVldG8gPSBfdmFsdWV0by5zdWIoZlN1bW1GZWUpOyAgCgogICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihmU3VtbUZlZSk7CiAgICAgIGJhbGFuY2VzW0ZlZUFkZHIyXSA9IGJhbGFuY2VzW0ZlZUFkZHIyXS5hZGQoZlN1bW1GZWUpOwogICAgICBfdmFsdWV0byA9IF92YWx1ZXRvLnN1YihmU3VtbUZlZSk7IAogICAgCiAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKGZTdW1tRmVlKTsKICAgICAgYmFsYW5jZXNbUmV3QWRkcl0gPSBiYWxhbmNlc1tSZXdBZGRyXS5hZGQoZlN1bW1GZWUpOwogICAgICBfdmFsdWV0byA9IF92YWx1ZXRvLnN1YihmU3VtbUZlZSk7IAogICAgLy9SZXdhcmRzCiAgICAgIGFsbFN1bW1SZXdhcmRbbXNnLnNlbmRlcl0gPSBhbGxTdW1tUmV3YXJkW21zZy5zZW5kZXJdLmFkZChfdmFsdWUpOyAgICAKICAgICAgaWYgKGFsbFN1bW1SZXdhcmRbbXNnLnNlbmRlcl0gPj0gU3VtbVJldyAmJiBiYWxhbmNlc1tSZXdBZGRyXSA+PSBmU3VtbVJld2FyZCkgewogICAgICAgIGJhbGFuY2VzW1Jld0FkZHJdID0gYmFsYW5jZXNbUmV3QWRkcl0uc3ViKGZTdW1tUmV3YXJkKTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLmFkZChmU3VtbVJld2FyZCk7CiAgICAgICAgYWxsU3VtbVJld2FyZFttc2cuc2VuZGVyXSA9IDA7CiAgICAgIH0KICAgIH0KCiAgICAvLyBTYWZlTWF0aC5zdWIgd2lsbCB0aHJvdyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJhbGFuY2UuCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWV0byk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVldG8pOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWV0byk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLgogICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9Cn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgaW50ZXJuYWwgYWxsb3dlZDsKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHVpbnQyNTYgX3ZhbHVldG87ICAKICAgIHJlcXVpcmUoX3RvICE9IG1zZy5zZW5kZXIpOyAgCiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW19mcm9tXSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CiAgICB1aW50IGZTdW1tRmVlOwogICAgdWludCBmU3VtbVJld2FyZDsKICAgIF92YWx1ZXRvID0gX3ZhbHVlOwogICAgaWYgKF9mcm9tICE9IG93bmVyKXsgIAogICAgICBmU3VtbUZlZSA9IEdldFN1bW1GZWUoX3ZhbHVlKTsKICAgICAgZlN1bW1SZXdhcmQgPSBHZXRTdW1tUmV3YXJkKF92YWx1ZSk7CiAgICAgICAgCiAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoZlN1bW1GZWUpOwogICAgICBiYWxhbmNlc1tGZWVBZGRyMV0gPSBiYWxhbmNlc1tGZWVBZGRyMV0uYWRkKGZTdW1tRmVlKTsKICAgICAgX3ZhbHVldG8gPSBfdmFsdWV0by5zdWIoZlN1bW1GZWUpOyAgCgogICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKGZTdW1tRmVlKTsKICAgICAgYmFsYW5jZXNbRmVlQWRkcjJdID0gYmFsYW5jZXNbRmVlQWRkcjJdLmFkZChmU3VtbUZlZSk7CiAgICAgIF92YWx1ZXRvID0gX3ZhbHVldG8uc3ViKGZTdW1tRmVlKTsgCiAgICAKICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihmU3VtbUZlZSk7CiAgICAgIGJhbGFuY2VzW1Jld0FkZHJdID0gYmFsYW5jZXNbUmV3QWRkcl0uYWRkKGZTdW1tRmVlKTsKICAgICAgX3ZhbHVldG8gPSBfdmFsdWV0by5zdWIoZlN1bW1GZWUpOyAKICAgIC8vUmV3YXJkcwogICAgICBhbGxTdW1tUmV3YXJkW19mcm9tXSA9IGFsbFN1bW1SZXdhcmRbX2Zyb21dLmFkZChfdmFsdWUpOwogICAgICBpZiAoYWxsU3VtbVJld2FyZFtfZnJvbV0gPj0gU3VtbVJldyAmJiBiYWxhbmNlc1tSZXdBZGRyXSA+PSBmU3VtbVJld2FyZCkgewogICAgICAgIGJhbGFuY2VzW1Jld0FkZHJdID0gYmFsYW5jZXNbUmV3QWRkcl0uc3ViKGZTdW1tUmV3YXJkKTsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uYWRkKGZTdW1tUmV3YXJkKTsKICAgICAgICBhbGxTdW1tUmV3YXJkW19mcm9tXSA9IDA7CiAgICAgIH0KICAgIH0KICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVldG8pOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZXRvKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWV0byk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgLyoqCiAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICoKICAgKiBCZXdhcmUgdGhhdCBjaGFuZ2luZyBhbiBhbGxvd2FuY2Ugd2l0aCB0aGlzIG1ldGhvZCBicmluZ3MgdGhlIHJpc2sgdGhhdCBzb21lb25lIG1heSB1c2UgYm90aCB0aGUgb2xkCiAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAqIHJhY2UgY29uZGl0aW9uIGlzIHRvIGZpcnN0IHJlZHVjZSB0aGUgc3BlbmRlcidzIGFsbG93YW5jZSB0byAwIGFuZCBzZXQgdGhlIGRlc2lyZWQgdmFsdWUgYWZ0ZXJ3YXJkczoKICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmeWluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQogIC8qKgogICAqIEBkZXYgSW5jcmVhc2UgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKgogICAqIGFwcHJvdmUgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFsbG93ZWRbX3NwZW5kZXJdID09IDAuIFRvIGluY3JlbWVudAogICAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsCiAgICogdGhlIGZpcnN0IHRyYW5zYWN0aW9uIGlzIG1pbmVkKQogICAqIEZyb20gTW9ub2xpdGhEQU8gVG9rZW4uc29sCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfYWRkZWRWYWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBpbmNyZWFzZSB0aGUgYWxsb3dhbmNlIGJ5LgogICAqLwogIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgLyoqCiAgICogQGRldiBEZWNyZWFzZSB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqCiAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gZGVjcmVtZW50CiAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zdWJ0cmFjdGVkVmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gZGVjcmVhc2UgdGhlIGFsbG93YW5jZSBieS4KICAgKi8KICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfSBlbHNlIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBCdXJuYWJsZSBUb2tlbgogKiBAZGV2IFRva2VuIHRoYXQgY2FuIGJlIGlycmV2ZXJzaWJseSBidXJuZWQgKGRlc3Ryb3llZCkuCiAqLwpjb250cmFjdCBCdXJuYWJsZVRva2VuIGlzIFN0YW5kYXJkVG9rZW4gewogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgYnVybmVyLCB1aW50MjU2IHZhbHVlKTsKCiAgICAvKioKICAgICAqIEBkZXYgQnVybnMgYSBzcGVjaWZpYyBhbW91bnQgb2YgdG9rZW5zLgogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIGJ1cm5lZC4KICAgICAqLwogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgcHVibGljIHsKICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwogICAgICAvLyBubyBuZWVkIHRvIHJlcXVpcmUgdmFsdWUgPD0gdG90YWxTdXBwbHksIHNpbmNlIHRoYXQgd291bGQgaW1wbHkgdGhlCiAgICAgIC8vIHNlbmRlcidzIGJhbGFuY2UgaXMgZ3JlYXRlciB0aGFuIHRoZSB0b3RhbFN1cHBseSwgd2hpY2ggKnNob3VsZCogYmUgYW4gYXNzZXJ0aW9uIGZhaWx1cmUKCiAgICAgIGFkZHJlc3MgYnVybmVyID0gbXNnLnNlbmRlcjsKICAgICAgYmFsYW5jZXNbYnVybmVyXSA9IGJhbGFuY2VzW2J1cm5lcl0uc3ViKF92YWx1ZSk7CiAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKF92YWx1ZSk7CiAgICAgIEJ1cm4oYnVybmVyLCBfdmFsdWUpOwogICAgfQp9Cgpjb250cmFjdCBHdWFwIGlzIE93bmFibGUsIEJ1cm5hYmxlVG9rZW4gewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OyAgICAKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiR3VhcCI7CiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiR3VhcCI7CiAgdWludDMyIHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwogIHVpbnQyNTYgcHVibGljIElOSVRJQUxfU1VQUExZID0gOTk5OTk5OTk5OSAqIDEgZXRoZXI7CiAgZnVuY3Rpb24gR3VhcCgpIHB1YmxpYyB7CiAgICB0b3RhbFN1cHBseSA9IElOSVRJQUxfU1VQUExZOwogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBJTklUSUFMX1NVUFBMWTsKICAgIC8vUmV3YXJkcwogICAgUmV3QWRkciA9IDB4Yjk0RjJFN0I0RTM3YThjMDNFOUMyRTQ1MWRlYzA5Q2U5NEJlMjYxNTsKICAgIENvZWZSZXcgPSA1OyAvLyBkZWNpbWFscyA9IDM7CiAgICBTdW1tUmV3ID0gOTAwMDAgKiAxIGV0aGVyOyAKICAgIC8vRmVlCiAgICBGZWVBZGRyMSA9IDB4QmU5NTE3ZDEwMzk3RDYwZUFEN2RhMzNFYTUwQTY0MzFGNUJlMzc5MDsKICAgIEZlZUFkZHIyID0gMHhDOTBGNjk4Y2M1ODAzQjIxYTA0Y0U0NmVEMTc1NDY1NUJmMjIxNUU1OwogICAgRmVlICA9IDE1OyAvLyBkZWNpbWFscyA9IDM7IAogIH0KfQ=='.
	

]
