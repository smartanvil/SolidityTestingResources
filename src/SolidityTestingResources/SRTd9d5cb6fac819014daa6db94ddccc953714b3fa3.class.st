Class {
	#name : #SRTd9d5cb6fac819014daa6db94ddccc953714b3fa3,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd9d5cb6fac819014daa6db94ddccc953714b3fa3 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4gMC40LjExOwoKLyoqCgkqIEB0aXRsZSBTYWZlTWF0aAoJKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgoqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnModWludDI1NikgewogICAgICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgICAgICBhc3NlcnQoYyA+PSBhKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiB0b1VJTlQxMTIodWludDI1NiBhKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zKHVpbnQxMTIpIHsKICAgICAgICBhc3NlcnQodWludDExMihhKSA9PSBhKTsKICAgICAgICByZXR1cm4gdWludDExMihhKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0b1VJTlQxMjAodWludDI1NiBhKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zKHVpbnQxMjApIHsKICAgICAgICBhc3NlcnQodWludDEyMChhKSA9PSBhKTsKICAgICAgICByZXR1cm4gdWludDEyMChhKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0b1VJTlQxMjgodWludDI1NiBhKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zKHVpbnQxMjgpIHsKICAgICAgICBhc3NlcnQodWludDEyOChhKSA9PSBhKTsKICAgICAgICByZXR1cm4gdWludDEyOChhKTsKICAgIH0KCiAgICBmdW5jdGlvbiBwZXJjZW50KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSAoYiAqIGEgLyAxMDApOwogICAgICAgIGFzc2VydChjIDw9IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9Cgpjb250cmFjdCBPd25lZCB7CgogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgZnVuY3Rpb24gT3duZWQoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gc2V0T3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICAgICAgb3duZXIgPSBfbmV3T3duZXI7CiAgICB9Cn0KCi8qKgoJKiBAdGl0bGUgRVJDMjBCYXNpYwoJKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKCSogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQoqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIGNvbnN0YW50IHJldHVybnModWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyhib29sKTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKCSogQHRpdGxlIEVSQzIwIGludGVyZmFjZQoJKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zKGJvb2wpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zKGJvb2wpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgoJKiBAdGl0bGUgQmFzaWMgdG9rZW4KCSogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4KKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgICAgICBzdHJ1Y3QgQWNjb3VudCB7CiAgICAgICAgdWludDI1NiBiYWxhbmNlczsKICAgICAgICB1aW50MjU2IHJhd1Rva2VuczsKICAgICAgICB1aW50MzIgbGFzdE1pbnRlZFRpbWVzdGFtcDsKICAgIH0KCiAgICAvLyBCYWxhbmNlcyBmb3IgZWFjaCBhY2NvdW50CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gQWNjb3VudCkgYWNjb3VudHM7CgoKCS8qKgoJCSogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwoJCSogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KCQkqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KCSovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhY2NvdW50c1ttc2cuc2VuZGVyXS5iYWxhbmNlcyk7CgogICAgICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgICAgICBhY2NvdW50c1ttc2cuc2VuZGVyXS5iYWxhbmNlcyA9IGFjY291bnRzW21zZy5zZW5kZXJdLmJhbGFuY2VzLnN1YihfdmFsdWUpOwogICAgICAgIGFjY291bnRzW190b10uYmFsYW5jZXMgPSBhY2NvdW50c1tfdG9dLmJhbGFuY2VzLmFkZChfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgkvKioKCQkqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCgkJKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KCQkqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCgkqLwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYWNjb3VudHNbX293bmVyXS5iYWxhbmNlczsKICAgIH0KCn0KCi8qKgoJKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KCSoKCSogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCgkqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCgkqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSkgaW50ZXJuYWwgYWxsb3dlZDsKCgoJLyoqCgkJKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKCQkqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KCQkqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwoJCSogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCgkqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFjY291bnRzW19mcm9tXS5iYWxhbmNlcyk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0pOwoKICAgICAgICBhY2NvdW50c1tfZnJvbV0uYmFsYW5jZXMgPSBhY2NvdW50c1tfZnJvbV0uYmFsYW5jZXMuc3ViKF92YWx1ZSk7CiAgICAgICAgYWNjb3VudHNbX3RvXS5iYWxhbmNlcyA9IGFjY291bnRzW190b10uYmFsYW5jZXMuYWRkKF92YWx1ZSk7CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCS8qKgoJCSogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCgkJKgoJCSogQmV3YXJlIHRoYXQgY2hhbmdpbmcgYW4gYWxsb3dhbmNlIHdpdGggdGhpcyBtZXRob2QgYnJpbmdzIHRoZSByaXNrIHRoYXQgc29tZW9uZSBtYXkgdXNlIGJvdGggdGhlIG9sZAoJCSogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwoJCSogcmFjZSBjb25kaXRpb24gaXMgdG8gZmlyc3QgcmVkdWNlIHRoZSBzcGVuZGVyJ3MgYWxsb3dhbmNlIHRvIDAgYW5kIHNldCB0aGUgZGVzaXJlZCB2YWx1ZSBhZnRlcndhcmRzOgoJCSogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKCQkqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KCQkqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCgkqLwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMoYm9vbCkgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCS8qKgoJCSogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgoJCSogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgoJCSogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCgkJKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCgkqLwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2IHJlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKCS8qKgoJCSogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gaW5jcmVtZW50CgkJKiBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbAoJCSogdGhlIGZpcnN0IHRyYW5zYWN0aW9uIGlzIG1pbmVkKQoJCSogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKCSovCiAgICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyhib29sIHN1Y2Nlc3MpIHsKICAgICAgICB1aW50IG9sZFZhbHVlID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl07CiAgICAgICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICAgICAgfQogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cgp9Cgpjb250cmFjdCBCRUMgaXMgU3RhbmRhcmRUb2tlbiwgT3duZWQgewogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkJJVEVYQ0hBTkdFIjsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDg7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJCRUMiOwogICAgYm9vbCBwdWJsaWMgY2FuQ2xhaW1Ub2tlbiA9IGZhbHNlOwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgbWF4U3VwcGx5ID0gMzAwMDAwMDAgKiAxMCAqKiB1aW50MjU2KGRlY2ltYWxzKTsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGRhdGVJbml0ID0gMTUyMjU0MDgwMDsKCgkvKiAgICAgICAgICAzMSBkYXlzICAgICAxMm1vbnRocyAgIDEybW9udGhzCgkJfC0tLS0tLS0tLS0tLS0tLS0tLXwtLXgtLXgtLXgtLXwtLXgtLXgtLXgtLXwtLS0tLS0tLS0tLS0+CgkJMDQtMDEtMTggICAgSUNPICAgICAgICAgTEVORCgqKSAgICAgICBFQ08gICAgRklOQUxJWkVECgkJICAgICAgICAgICAgICAgICAgICAgICAgREVWCgkJICAgICAgICAgICAgICAgICAgICAgICAgTUFSSwoJCSAgICAgICAgICAgICAgICAgICAgICAgIEFETUlOCgkJKCopOiAxMDAlIHRva2VucwoJKi8KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGRhdGVJQ08gPSBkYXRlSW5pdCArIDMxIGRheXM7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBkYXRlUmVsZWFzZTMgPSBkYXRlSUNPICsgOTAgZGF5czsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGRhdGVSZWxlYXNlNiA9IGRhdGVSZWxlYXNlMyArIDkwIGRheXM7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBkYXRlUmVsZWFzZTkgPSBkYXRlUmVsZWFzZTYgKyA5MCBkYXlzOwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGF0ZVJlbGVhc2UxMiA9IGRhdGVSZWxlYXNlOSArIDkwIGRheXM7CgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGF0ZUVjb1JlbGVhc2UzID0gZGF0ZVJlbGVhc2UxMiArIDkwIGRheXM7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBkYXRlRWNvUmVsZWFzZTYgPSBkYXRlRWNvUmVsZWFzZTMgKyA5MCBkYXlzOwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGF0ZUVjb1JlbGVhc2U5ID0gZGF0ZUVjb1JlbGVhc2U2ICsgOTAgZGF5czsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGRhdGVFY29SZWxlYXNlMTIgPSBkYXRlRWNvUmVsZWFzZTkgKyA5MCBkYXlzOwoKICAgIGJvb2wgcHVibGljIGlzQWxsb2NhdGVkSUNPID0gZmFsc2U7CgogICAgYm9vbCBwdWJsaWMgaXNBbGxvY2F0ZWRMZW5kaW5nID0gZmFsc2U7CgogICAgYm9vbCBwdWJsaWMgaXNBbGxvY2F0ZWQzID0gZmFsc2U7CiAgICBib29sIHB1YmxpYyBpc0FsbG9jYXRlZDYgPSBmYWxzZTsKICAgIGJvb2wgcHVibGljIGlzQWxsb2NhdGVkOSA9IGZhbHNlOwogICAgYm9vbCBwdWJsaWMgaXNBbGxvY2F0ZWQxMiA9IGZhbHNlOwoKICAgIGJvb2wgcHVibGljIGlzRWNvQWxsb2NhdGVkMyA9IGZhbHNlOwogICAgYm9vbCBwdWJsaWMgaXNFY29BbGxvY2F0ZWQ2ID0gZmFsc2U7CiAgICBib29sIHB1YmxpYyBpc0Vjb0FsbG9jYXRlZDkgPSBmYWxzZTsKICAgIGJvb2wgcHVibGljIGlzRWNvQWxsb2NhdGVkMTIgPSBmYWxzZTsKCiAgICBlbnVtIFN0YWdlIHsKICAgICAgICBGaW5hbGl6ZWQsCiAgICAgICAgSUNPLAogICAgICAgIFJlbGVhc2UzLAogICAgICAgIFJlbGVhc2U2LAogICAgICAgIFJlbGVhc2U5LAogICAgICAgIFJlbGVhc2UxMiwKICAgICAgICBFY28zLAogICAgICAgIEVjbzYsCiAgICAgICAgRWNvOSwKICAgICAgICBFY28xMgogICAgfQoKICAgIHN0cnVjdCBTdXBwbGllcyB7CiAgICAgICAgdWludDI1NiB0b3RhbDsKICAgICAgICB1aW50MjU2IHJhd1Rva2VuczsKICAgIH0KCiAgICAvL3RoZSBzdGFnZSBmb3IgcmVsZWFzaW5nIFRva2VucwogICAgc3RydWN0IFN0YWdlUmVsZWFzZSB7CiAgICAgICAgdWludDI1NiByYXdUb2tlbnM7CiAgICAgICAgdWludDI1NiB0b3RhbFJhd1Rva2VuczsKICAgIH0KCiAgICBTdXBwbGllcyBzdXBwbGllczsKICAgIFN0YWdlUmVsZWFzZSBwdWJsaWMgc3RhZ2VJQ08gPSBTdGFnZVJlbGVhc2UobWF4U3VwcGx5LnBlcmNlbnQoMTgpLCBtYXhTdXBwbHkucGVyY2VudCgxOCkpOwogICAgU3RhZ2VSZWxlYXNlIHB1YmxpYyBzdGFnZUxlbmRpbmcgPSBTdGFnZVJlbGVhc2UobWF4U3VwcGx5LnBlcmNlbnQoMjcpLCBtYXhTdXBwbHkucGVyY2VudCgyNykpOwogICAgU3RhZ2VSZWxlYXNlIHB1YmxpYyBzdGFnZURldmVsb3AgPSBTdGFnZVJlbGVhc2UobWF4U3VwcGx5LnBlcmNlbnQoMzUpLCBtYXhTdXBwbHkucGVyY2VudCgzNSkpOwogICAgU3RhZ2VSZWxlYXNlIHB1YmxpYyBzdGFnZU1hcmtldGluZyA9IFN0YWdlUmVsZWFzZShtYXhTdXBwbHkucGVyY2VudCg5KSwgbWF4U3VwcGx5LnBlcmNlbnQoOSkpOwogICAgU3RhZ2VSZWxlYXNlIHB1YmxpYyBzdGFnZUFkbWluID0gU3RhZ2VSZWxlYXNlKG1heFN1cHBseS5wZXJjZW50KDIpLCBtYXhTdXBwbHkucGVyY2VudCgyKSk7CiAgICBTdGFnZVJlbGVhc2UgcHVibGljIHN0YWdlRWNvID0gU3RhZ2VSZWxlYXNlKG1heFN1cHBseS5wZXJjZW50KDkpLCBtYXhTdXBwbHkucGVyY2VudCg5KSk7CgogICAgLy8gU2VuZCBiYWNrIGV0aGVyIAogICAgZnVuY3Rpb24gKCkgewogICAgICAgIHJldmVydCgpOwogICAgfQogICAgLy9nZXR0ZXIgdG90YWxTdXBwbHkKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnModWludDI1NiB0b3RhbCkgewogICAgICAgIHJldHVybiBzdXBwbGllcy50b3RhbDsKICAgIH0KCiAgICBmdW5jdGlvbiBtaW50VG9rZW4oYWRkcmVzcyBfb3duZXIsIHVpbnQyNTYgX2Ftb3VudCwgYm9vbCBfaXNSYXcpIG9ubHlPd25lciBpbnRlcm5hbCB7CiAgICAgICAgcmVxdWlyZShfYW1vdW50LmFkZChzdXBwbGllcy50b3RhbCkgPD0gbWF4U3VwcGx5KTsKICAgICAgICBpZiAoX2lzUmF3KSB7CiAgICAgICAgICAgIGFjY291bnRzW19vd25lcl0ucmF3VG9rZW5zID0gX2Ftb3VudC5hZGQoYWNjb3VudHNbX293bmVyXS5yYXdUb2tlbnMpOwogICAgICAgICAgICBzdXBwbGllcy5yYXdUb2tlbnMgPSBfYW1vdW50LmFkZChzdXBwbGllcy5yYXdUb2tlbnMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFjY291bnRzW19vd25lcl0uYmFsYW5jZXMgPSBfYW1vdW50LmFkZChhY2NvdW50c1tfb3duZXJdLmJhbGFuY2VzKTsKICAgICAgICB9CiAgICAgICAgc3VwcGxpZXMudG90YWwgPSBfYW1vdW50LmFkZChzdXBwbGllcy50b3RhbCk7CiAgICAgICAgVHJhbnNmZXIoMCwgX293bmVyLCBfYW1vdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlclJhdyhhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhY2NvdW50c1ttc2cuc2VuZGVyXS5yYXdUb2tlbnMpOwoKCiAgICAgICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgICAgIGFjY291bnRzW21zZy5zZW5kZXJdLnJhd1Rva2VucyA9IGFjY291bnRzW21zZy5zZW5kZXJdLnJhd1Rva2Vucy5zdWIoX3ZhbHVlKTsKICAgICAgICBhY2NvdW50c1tfdG9dLnJhd1Rva2VucyA9IGFjY291bnRzW190b10ucmF3VG9rZW5zLmFkZChfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRDbGFpbVRva2VuKGJvb2wgYXBwcm92ZSkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zKGJvb2wpIHsKICAgICAgICBjYW5DbGFpbVRva2VuID0gdHJ1ZTsKICAgICAgICByZXR1cm4gY2FuQ2xhaW1Ub2tlbjsKICAgIH0KCiAgICBmdW5jdGlvbiBjbGFpbVRva2VuKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgcmV0dXJucyhib29sIGFtb3VudCkgewogICAgICAgIHJlcXVpcmUoYWNjb3VudHNbX293bmVyXS5yYXdUb2tlbnMgIT0gMCk7CiAgICAgICAgcmVxdWlyZShjYW5DbGFpbVRva2VuKTsKCiAgICAgICAgdWludDI1NiBhbW91bnRUb2tlbiA9IGFjY291bnRzW19vd25lcl0ucmF3VG9rZW5zOwogICAgICAgIGFjY291bnRzW19vd25lcl0ucmF3VG9rZW5zID0gMDsKICAgICAgICBhY2NvdW50c1tfb3duZXJdLmJhbGFuY2VzID0gYW1vdW50VG9rZW4gKyBhY2NvdW50c1tfb3duZXJdLmJhbGFuY2VzOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZlJhd3MoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBhY2NvdW50c1tfb3duZXJdLnJhd1Rva2VuczsKICAgIH0KCiAgICBmdW5jdGlvbiBibG9ja1RpbWUoKSBjb25zdGFudCByZXR1cm5zKHVpbnQzMikgewogICAgICAgIHJldHVybiB1aW50MzIoYmxvY2sudGltZXN0YW1wKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzdGFnZSgpIGNvbnN0YW50IHJldHVybnMoU3RhZ2UpIHsKCiAgICAgICAgaWYgKGJsb2NrVGltZSgpIDw9IGRhdGVJQ08pIHsKICAgICAgICAgICAgcmV0dXJuIFN0YWdlLklDTzsKICAgICAgICB9CgogICAgICAgIGlmIChibG9ja1RpbWUoKSA8PSBkYXRlUmVsZWFzZTMpIHsKICAgICAgICAgICAgcmV0dXJuIFN0YWdlLlJlbGVhc2UzOwogICAgICAgIH0KCiAgICAgICAgaWYgKGJsb2NrVGltZSgpIDw9IGRhdGVSZWxlYXNlNikgewogICAgICAgICAgICByZXR1cm4gU3RhZ2UuUmVsZWFzZTY7CiAgICAgICAgfQoKICAgICAgICBpZiAoYmxvY2tUaW1lKCkgPD0gZGF0ZVJlbGVhc2U5KSB7CiAgICAgICAgICAgIHJldHVybiBTdGFnZS5SZWxlYXNlOTsKICAgICAgICB9CgogICAgICAgIGlmIChibG9ja1RpbWUoKSA8PSBkYXRlUmVsZWFzZTEyKSB7CiAgICAgICAgICAgIHJldHVybiBTdGFnZS5SZWxlYXNlMTI7CiAgICAgICAgfQoKICAgICAgICBpZiAoYmxvY2tUaW1lKCkgPD0gZGF0ZUVjb1JlbGVhc2UzKSB7CiAgICAgICAgICAgIHJldHVybiBTdGFnZS5FY28zOwogICAgICAgIH0KCiAgICAgICAgaWYgKGJsb2NrVGltZSgpIDw9IGRhdGVFY29SZWxlYXNlNikgewogICAgICAgICAgICByZXR1cm4gU3RhZ2UuRWNvNjsKICAgICAgICB9CgogICAgICAgIGlmIChibG9ja1RpbWUoKSA8PSBkYXRlRWNvUmVsZWFzZTkpIHsKICAgICAgICAgICAgcmV0dXJuIFN0YWdlLkVjbzk7CiAgICAgICAgfQoKICAgICAgICBpZiAoYmxvY2tUaW1lKCkgPD0gZGF0ZUVjb1JlbGVhc2UxMikgewogICAgICAgICAgICByZXR1cm4gU3RhZ2UuRWNvMTI7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gU3RhZ2UuRmluYWxpemVkOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlbGVhc2VTdGFnZSh1aW50MjU2IGFtb3VudCwgU3RhZ2VSZWxlYXNlIHN0b3JhZ2Ugc3RhZ2VSZWxlYXNlLCBib29sIGlzUmF3KSBpbnRlcm5hbCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICBpZiAoc3RhZ2VSZWxlYXNlLnJhd1Rva2VucyA+IDApIHsKICAgICAgICAgICAgaW50MjU2IHJlbWFpbiA9IGludDI1NihzdGFnZVJlbGVhc2UucmF3VG9rZW5zIC0gYW1vdW50KTsKICAgICAgICAgICAgaWYgKHJlbWFpbiA8IDApCiAgICAgICAgICAgICAgICBhbW91bnQgPSBzdGFnZVJlbGVhc2UucmF3VG9rZW5zOwogICAgICAgICAgICBzdGFnZVJlbGVhc2UucmF3VG9rZW5zID0gc3RhZ2VSZWxlYXNlLnJhd1Rva2Vucy5zdWIoYW1vdW50KTsKICAgICAgICAgICAgbWludFRva2VuKG93bmVyLCBhbW91bnQsIGlzUmF3KTsKICAgICAgICAgICAgcmV0dXJuIGFtb3VudDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgZnVuY3Rpb24gcmVsZWFzZU5vdEVjbyh1aW50MjU2IHBlcmNlbnQsIGJvb2wgaXNSYXcpIGludGVybmFsIHJldHVybnModWludDI1NikgewoKICAgICAgICB1aW50MjU2IGFtb3VudERldmVsb3AgPSBzdGFnZURldmVsb3AudG90YWxSYXdUb2tlbnMucGVyY2VudChwZXJjZW50KTsKICAgICAgICB1aW50MjU2IGFtb3VudE1hcmtldGluZyA9IHN0YWdlTWFya2V0aW5nLnRvdGFsUmF3VG9rZW5zLnBlcmNlbnQocGVyY2VudCk7CiAgICAgICAgdWludDI1NiBhbW91bnRBZG1pbiA9IHN0YWdlQWRtaW4udG90YWxSYXdUb2tlbnMucGVyY2VudChwZXJjZW50KTsKICAgICAgICB1aW50MjU2IGFtb3VudFN1bSA9IGFtb3VudERldmVsb3AgKyBhbW91bnRNYXJrZXRpbmcgKyBhbW91bnRBZG1pbjsKCiAgICAgICAgcmVsZWFzZVN0YWdlKGFtb3VudERldmVsb3AsIHN0YWdlRGV2ZWxvcCwgaXNSYXcpOwogICAgICAgIHJlbGVhc2VTdGFnZShhbW91bnRNYXJrZXRpbmcsIHN0YWdlTWFya2V0aW5nLCBpc1Jhdyk7CiAgICAgICAgcmVsZWFzZVN0YWdlKGFtb3VudEFkbWluLCBzdGFnZUFkbWluLCBpc1Jhdyk7CiAgICAgICAgcmV0dXJuIGFtb3VudFN1bTsKICAgIH0KCiAgICBmdW5jdGlvbiByZWxlYXNlRWNvKHVpbnQyNTYgcGVyY2VudCwgYm9vbCBpc1JhdykgaW50ZXJuYWwgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBhbW91bnRFY28gPSBzdGFnZUVjby50b3RhbFJhd1Rva2Vucy5wZXJjZW50KHBlcmNlbnQpOwogICAgICAgIHJlbGVhc2VTdGFnZShhbW91bnRFY28sIHN0YWdlRWNvLCBpc1Jhdyk7CiAgICAgICAgcmV0dXJuIGFtb3VudEVjbzsKICAgIH0KCiAgICBmdW5jdGlvbiByZWxlYXNlMTAwUGVyY2VudChib29sIGlzUmF3LCBTdGFnZVJlbGVhc2Ugc3RvcmFnZSBzdGFnZVJlbGVhc2UpIGludGVybmFsIHJldHVybnModWludDI1NikgewogICAgICAgIHVpbnQyNTYgYW1vdW50ID0gc3RhZ2VSZWxlYXNlLnRvdGFsUmF3VG9rZW5zLnBlcmNlbnQoMTAwKTsKICAgICAgICByZWxlYXNlU3RhZ2UoYW1vdW50LCBzdGFnZVJlbGVhc2UsIGlzUmF3KTsKICAgICAgICByZXR1cm4gYW1vdW50OwogICAgfQoKICAgIC8vbWFpbiBmdW5jdGlvbiwgbXVzdCBydW4gZm9yIHJlbGVhc2luZy4KICAgIC8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjMzMKICAgIGZ1bmN0aW9uIHJlbGVhc2UoYm9vbCBpc1Jhdykgb25seU93bmVyIHB1YmxpYyByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGFtb3VudFN1bSA9IDA7CgogICAgICAgIGlmIChzdGFnZSgpID09IFN0YWdlLklDTyAmJiBpc0FsbG9jYXRlZElDTyA9PSBmYWxzZSkgewogICAgICAgICAgICB1aW50MjU2IGFtb3VudElDTyA9IHJlbGVhc2UxMDBQZXJjZW50KGlzUmF3LCBzdGFnZUlDTyk7CiAgICAgICAgICAgIGFtb3VudFN1bSA9IGFtb3VudFN1bS5hZGQoYW1vdW50SUNPKTsKICAgICAgICAgICAgaXNBbGxvY2F0ZWRJQ08gPSB0cnVlOwogICAgICAgICAgICByZXR1cm4gYW1vdW50U3VtOwogICAgICAgIH0KCiAgICAgICAgaWYgKHN0YWdlKCkgPT0gU3RhZ2UuUmVsZWFzZTMgJiYgaXNBbGxvY2F0ZWQzID09IGZhbHNlKSB7CiAgICAgICAgICAgIHVpbnQyNTYgYW1vdW50UmVsZWFzZTMgPSByZWxlYXNlTm90RWNvKDQwLCBpc1Jhdyk7CiAgICAgICAgICAgIGFtb3VudFN1bSA9IGFtb3VudFN1bS5hZGQoYW1vdW50UmVsZWFzZTMpOwogICAgICAgICAgICAvL2ZvciBsZW5kaW5nCiAgICAgICAgICAgIGFtb3VudFJlbGVhc2UzID0gcmVsZWFzZTEwMFBlcmNlbnQoaXNSYXcsIHN0YWdlTGVuZGluZyk7CiAgICAgICAgICAgIGFtb3VudFN1bSA9IGFtb3VudFN1bS5hZGQoYW1vdW50UmVsZWFzZTMpOwogICAgICAgICAgICBpc0FsbG9jYXRlZDMgPSB0cnVlOwogICAgICAgICAgICByZXR1cm4gYW1vdW50U3VtOwogICAgICAgIH0KCiAgICAgICAgaWYgKHN0YWdlKCkgPT0gU3RhZ2UuUmVsZWFzZTYgJiYgaXNBbGxvY2F0ZWQ2ID09IGZhbHNlKSB7CiAgICAgICAgICAgIHVpbnQyNTYgYW1vdW50UmVsZWFzZTYgPSByZWxlYXNlTm90RWNvKDEwLCBpc1Jhdyk7CiAgICAgICAgICAgIGFtb3VudFN1bSA9IGFtb3VudFN1bS5hZGQoYW1vdW50UmVsZWFzZTYpOwogICAgICAgICAgICBpc0FsbG9jYXRlZDYgPSB0cnVlOwogICAgICAgICAgICByZXR1cm4gYW1vdW50U3VtOwogICAgICAgIH0KCiAgICAgICAgaWYgKHN0YWdlKCkgPT0gU3RhZ2UuUmVsZWFzZTkgJiYgaXNBbGxvY2F0ZWQ5ID09IGZhbHNlKSB7CiAgICAgICAgICAgIHVpbnQyNTYgYW1vdW50UmVsZWFzZTkgPSByZWxlYXNlTm90RWNvKDMwLCBpc1Jhdyk7CiAgICAgICAgICAgIGFtb3VudFN1bSA9IGFtb3VudFN1bS5hZGQoYW1vdW50UmVsZWFzZTkpOwogICAgICAgICAgICBpc0FsbG9jYXRlZDkgPSB0cnVlOwogICAgICAgICAgICByZXR1cm4gYW1vdW50U3VtOwogICAgICAgIH0KCiAgICAgICAgaWYgKHN0YWdlKCkgPT0gU3RhZ2UuUmVsZWFzZTEyICYmIGlzQWxsb2NhdGVkMTIgPT0gZmFsc2UpIHsKICAgICAgICAgICAgdWludDI1NiBhbW91bnRSZWxlYXNlMTIgPSByZWxlYXNlTm90RWNvKDIwLCBpc1Jhdyk7CiAgICAgICAgICAgIGFtb3VudFN1bSA9IGFtb3VudFN1bS5hZGQoYW1vdW50UmVsZWFzZTEyKTsKICAgICAgICAgICAgaXNBbGxvY2F0ZWQxMiA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiBhbW91bnRTdW07CiAgICAgICAgfQoKICAgICAgICBpZiAoc3RhZ2UoKSA9PSBTdGFnZS5FY28zICYmIGlzRWNvQWxsb2NhdGVkMyA9PSBmYWxzZSkgewogICAgICAgICAgICB1aW50MjU2IGFtb3VudEVjb1JlbGVhc2UzID0gcmVsZWFzZUVjbyg0MCwgaXNSYXcpOwogICAgICAgICAgICBhbW91bnRTdW0gPSBhbW91bnRTdW0uYWRkKGFtb3VudEVjb1JlbGVhc2UzKTsKICAgICAgICAgICAgaXNFY29BbGxvY2F0ZWQzID0gdHJ1ZTsKICAgICAgICAgICAgcmV0dXJuIGFtb3VudFN1bTsKICAgICAgICB9CgogICAgICAgIGlmIChzdGFnZSgpID09IFN0YWdlLkVjbzYgJiYgaXNFY29BbGxvY2F0ZWQ2ID09IGZhbHNlKSB7CiAgICAgICAgICAgIHVpbnQyNTYgYW1vdW50RWNvUmVsZWFzZTYgPSByZWxlYXNlRWNvKDEwLCBpc1Jhdyk7CiAgICAgICAgICAgIGFtb3VudFN1bSA9IGFtb3VudFN1bS5hZGQoYW1vdW50RWNvUmVsZWFzZTYpOwogICAgICAgICAgICBpc0Vjb0FsbG9jYXRlZDYgPSB0cnVlOwogICAgICAgICAgICByZXR1cm4gYW1vdW50U3VtOwogICAgICAgIH0KCiAgICAgICAgaWYgKHN0YWdlKCkgPT0gU3RhZ2UuRWNvOSAmJiBpc0Vjb0FsbG9jYXRlZDkgPT0gZmFsc2UpIHsKICAgICAgICAgICAgdWludDI1NiBhbW91bnRFY29SZWxlYXNlOSA9IHJlbGVhc2VFY28oMjAsIGlzUmF3KTsKICAgICAgICAgICAgYW1vdW50U3VtID0gYW1vdW50U3VtLmFkZChhbW91bnRFY29SZWxlYXNlOSk7CiAgICAgICAgICAgIGlzRWNvQWxsb2NhdGVkOSA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiBhbW91bnRTdW07CiAgICAgICAgfQogICAgICAgIGlmIChzdGFnZSgpID09IFN0YWdlLkVjbzEyICYmIGlzRWNvQWxsb2NhdGVkMTIgPT0gZmFsc2UpIHsKICAgICAgICAgICAgdWludDI1NiBhbW91bnRFY29SZWxlYXNlMTIgPSByZWxlYXNlRWNvKDMwLCBpc1Jhdyk7CiAgICAgICAgICAgIGFtb3VudFN1bSA9IGFtb3VudFN1bS5hZGQoYW1vdW50RWNvUmVsZWFzZTEyKTsKICAgICAgICAgICAgaXNFY29BbGxvY2F0ZWQxMiA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiBhbW91bnRTdW07CiAgICAgICAgfQogICAgICAgIHJldHVybiBhbW91bnRTdW07CiAgICB9Cn0='.
	

]
