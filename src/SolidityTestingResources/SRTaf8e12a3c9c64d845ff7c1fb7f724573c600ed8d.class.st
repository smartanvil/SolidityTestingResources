Class {
	#name : #SRTaf8e12a3c9c64d845ff7c1fb7f724573c600ed8d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTaf8e12a3c9c64d845ff7c1fb7f724573c600ed8d >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cgp9CgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLgogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKCiAgICAvLyBTYWZlTWF0aC5zdWIgd2lsbCB0aHJvdyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJhbGFuY2UuCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLgogICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9Cgp9CgoKCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGludGVybmFsIGFsbG93ZWQ7CgoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbX2Zyb21dKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsKCiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KICAgKgogICAqIEJld2FyZSB0aGF0IGNoYW5naW5nIGFuIGFsbG93YW5jZSB3aXRoIHRoaXMgbWV0aG9kIGJyaW5ncyB0aGUgcmlzayB0aGF0IHNvbWVvbmUgbWF5IHVzZSBib3RoIHRoZSBvbGQKICAgKiBhbmQgdGhlIG5ldyBhbGxvd2FuY2UgYnkgdW5mb3J0dW5hdGUgdHJhbnNhY3Rpb24gb3JkZXJpbmcuIE9uZSBwb3NzaWJsZSBzb2x1dGlvbiB0byBtaXRpZ2F0ZSB0aGlzCiAgICogcmFjZSBjb25kaXRpb24gaXMgdG8gZmlyc3QgcmVkdWNlIHRoZSBzcGVuZGVyJ3MgYWxsb3dhbmNlIHRvIDAgYW5kIHNldCB0aGUgZGVzaXJlZCB2YWx1ZSBhZnRlcndhcmRzOgogICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmeWluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICAvKioKICAgKiBAZGV2IEluY3JlYXNlIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICoKICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKICAgKiBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbAogICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX2FkZGVkVmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gaW5jcmVhc2UgdGhlIGFsbG93YW5jZSBieS4KICAgKi8KICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IERlY3JlYXNlIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICoKICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBkZWNyZW1lbnQKICAgKiBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbAogICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3N1YnRyYWN0ZWRWYWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBkZWNyZWFzZSB0aGUgYWxsb3dhbmNlIGJ5LgogICAqLwogIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICB9IGVsc2UgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgIH0KICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cgp9CgovKioKICogQHRpdGxlIE1pbnRhYmxlIHRva2VuCiAqIEBkZXYgU2ltcGxlIEVSQzIwIFRva2VuIGV4YW1wbGUsIHdpdGggbWludGFibGUgdG9rZW4gY3JlYXRpb24KICogQGRldiBJc3N1ZTogKiBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5L2lzc3Vlcy8xMjAKICogQmFzZWQgb24gY29kZSBieSBUb2tlbk1hcmtldE5ldDogaHR0cHM6Ly9naXRodWIuY29tL1Rva2VuTWFya2V0TmV0L2ljby9ibG9iL21hc3Rlci9jb250cmFjdHMvTWludGFibGVUb2tlbi5zb2wKICovCgpjb250cmFjdCBNaW50YWJsZVRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIE93bmFibGUgewogIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CiAgZXZlbnQgTWludEZpbmlzaGVkKCk7CgogIGJvb2wgcHVibGljIG1pbnRpbmdGaW5pc2hlZCA9IGZhbHNlOwoKCiAgbW9kaWZpZXIgY2FuTWludCgpIHsKICAgIHJlcXVpcmUoIW1pbnRpbmdGaW5pc2hlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBtaW50IHRva2VucwogICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdGhhdCB3aWxsIHJlY2VpdmUgdGhlIG1pbnRlZCB0b2tlbnMuCiAgICogQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gbWludC4KICAgKiBAcmV0dXJuIEEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICAqLwogIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgb25seU93bmVyIGNhbk1pbnQgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9hbW91bnQpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgTWludChfdG8sIF9hbW91bnQpOwogICAgVHJhbnNmZXIoYWRkcmVzcygwKSwgX3RvLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBzdG9wIG1pbnRpbmcgbmV3IHRva2Vucy4KICAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgKi8KICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgb25seU93bmVyIGNhbk1pbnQgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIG1pbnRpbmdGaW5pc2hlZCA9IHRydWU7CiAgICBNaW50RmluaXNoZWQoKTsKICAgIHJldHVybiB0cnVlOwogIH0KfQoKY29udHJhY3QgUkVQT0V4Y2hhbmdlIGlzIE1pbnRhYmxlVG9rZW4gewoKICB1aW50IHB1YmxpYyBkZWFsX2NhbmNlbF9yYXRlID0gMDsKCiAgc3RydWN0IFJFUE9EZWFsIHsKICAgIGFkZHJlc3MgbGVuZGVyOwogICAgYWRkcmVzcyBib3Jyb3dlcjsKCiAgICBhZGRyZXNzIGNvbGxhdGVyYWw7CiAgICBhZGRyZXNzIHBsZWRnZTsKCiAgICB1aW50IGNvbGxhdGVyYWxBbW91bnQ7CiAgICB1aW50IHBsZWRnZUFtb3VudDsKCiAgICB1aW50IGludGVyZXN0OwogICAgdWludCBsZW5kZXJGZWU7CiAgICB1aW50IGJvcnJvd2VyRmVlOwoKICAgIHVpbnQgcGxlZGdlVW50aWw7CiAgICB1aW50IGNvbGxhdGVyYWxVbnRpbDsKICAgIHVpbnQgZW5kc0F0OwoKICAgIGludCBzdGF0ZTsKCiAgICAvKiAwIC0gaW5pdGVkCiAgICAgICAxIC0gcGxlZGdlIHBheWVkCiAgICAgICAyIC0gY29sbGF0ZXJhbCB0cmFuc2ZlcmVkIHRvIGNvbnRyYWN0IGFuZCB0aGVuIHRvIGJvcnJvd2VyLCBjb250cmFjdCBzdGFydGVkCiAgICAgICAzIC0gY29sbGF0ZXJhbCByZXR1cm5lZCB0byBjb250cmFjdCBpbiB0aW1lLCBwbGVkZ2UgYW5kIHRoZSByZXN0IG9mIHBheW1lbnQgd2VudCBiYWNrLCBjb2xsYXRlcmFsIHJldHVybmVkLCBjb250cmFjdCBzdWNjZXNzZnVsbHkgY2xvc2VkCgogICAgICAgbmVnYXRpdmUgY29kZXMgbWVhbiBuZWdhdGl2ZSByZXN1bHQKCiAgICAgICAwIC0+IC0xIHBsZWRnZSB3YXMgbm90IHN1Y2Nlc3MgZnVsbHkgcGF5ZWQKICAgICAgIDAgLT4gLTEwIHBsZWRnZSB3YXMgbm90IHN1Y2Nlc3MgZnVsbHkgcGF5ZWQsIGJ1dCBib3Jyb3dlciBwYWlkIGluIHRva2VucwoKICAgICAgIDEgLT4gLTIgcmVmdXNlZCB0byBwcm92aWRlIGNvbGxhdGVyYWwsIG5lZWQgdG8gcmV0dXJuIHBsZWRnZSBhbmQgcGF5bWVudAogICAgICAgMSAtPiAtMjAgcmVmdXNlZCB0byBwcm92aWRlIGNvbGxhdGVyYWwsIG5lZWQgdG8gcmV0dXJuIHBsZWRnZSBhbmQgcGF5bWVudCwgY29sbGF0ZXJhbHRlciBwYWlkIGluIHRva2VucwoKICAgICAgIDIgLT4gLTMgY29sbGF0ZXJhbCB3YXMgbm90IHJldHVybmVkIGluIHRpbWUsIHBsZWRnZSBhbmQgcGF5bWVudCB0cmFuc2ZlcmVkIHRvIGNvbGxhdGVyYWx0ZXIKICAgICovCgogIH0KCiAgZXZlbnQgTmV3RGVhbCh1aW50IGRlYWxJRCwgYWRkcmVzcyBsZW5kZXIsIGFkZHJlc3MgYm9ycm93ZXIsIGFkZHJlc3MgY29sbGF0ZXJhbCwgYWRkcmVzcyBwbGVkZ2UsIHVpbnQgY29sbGF0ZXJhbEFtb3VudCwgdWludCBwbGVkZ2VBbW91bnQsCiAgICAgICB1aW50IGludGVyZXN0LCB1aW50IGxlbmRlckZlZV8sIHVpbnQgYm9ycm93ZXJGZWVfLCB1aW50IHBsZWRnZVVudGlsLCB1aW50IGNvbGxhdGVyYWxVbnRpbCwgdWludCBlbmRzQXQpOwoKICBldmVudCBQbGVkZ2VQYXllZCh1aW50IGRlYWxJRCk7CiAgZXZlbnQgUGxlZGdlTm90UGF5ZWQodWludCBkZWFsSUQpOwogIGV2ZW50IFBsZWRnZVBheW1lbnRDYW5jZWxlZCh1aW50IGRlYWxJRCk7CgogIGV2ZW50IENvbGxhdGVyYWxUcmFuc2ZlcmVkKHVpbnQgZGVhbElEKTsKICBldmVudCBDb2xsYXRlcmFsTm90VHJhbnNmZXJlZCh1aW50IGRlYWxJRCk7CiAgZXZlbnQgQ29sbGF0ZXJhbFRyYW5zZmVyQ2FuY2VsZWQodWludCBkZWFsSUQpOwoKICBldmVudCBDb2xsYXRlcmFsUmV0dXJuZWQodWludCBkZWFsSUQpOwogIGV2ZW50IENvbGxhdGVyYWxOb3RSZXR1cm5lZCh1aW50IGRlYWxJRCk7CgogIGV2ZW50IERlYWxDYW5jZWxSYXRlKHVpbnQgZGVhbENhbmNlbFJhdGUpOwoKICBmdW5jdGlvbiBzZXREZWFsQ2FuY2VsUmF0ZSh1aW50IGRlYWxfY2FuY2VsX3JhdGVfKSBwdWJsaWMgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIGRlYWxfY2FuY2VsX3JhdGUgPSBkZWFsX2NhbmNlbF9yYXRlXzsKICAgIERlYWxDYW5jZWxSYXRlKGRlYWxfY2FuY2VsX3JhdGUpOwogIH0KCiAgZnVuY3Rpb24gZ2V0RGVhbENhbmNlbFJhdGUoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCBfZGVhbF9jYW5jZWxfcmF0ZSkgewogICAgcmV0dXJuIGRlYWxfY2FuY2VsX3JhdGU7CiAgfQoKCiAgdWludCBsYXN0RGVhbElEOwogIG1hcHBpbmcgKHVpbnQgPT4gUkVQT0RlYWwpIGRlYWxzOwoKICBmdW5jdGlvbiBSRVBPRXhjaGFuZ2UoKSBwdWJsaWMgewogIH0KCiAgZnVuY3Rpb24oKSBwdWJsaWMgewogICAgcmV2ZXJ0KCk7CiAgfQoKICBmdW5jdGlvbiBuZXdEZWFsKGFkZHJlc3MgbGVuZGVyXywgYWRkcmVzcyBib3Jyb3dlcl8sIGFkZHJlc3MgY29sbGF0ZXJhbF8sIGFkZHJlc3MgcGxlZGdlXywgdWludCBjb2xsYXRlcmFsQW1vdW50XywgdWludCBwbGVkZ2VBbW91bnRfLAogICAgdWludCBpbnRlcmVzdF8sIHVpbnQgbGVuZGVyRmVlXywgdWludCBib3Jyb3dlckZlZV8sIHVpbnQgcGxlZGdlVW50aWxfLCB1aW50IGNvbGxhdGVyYWxVbnRpbF8sIHVpbnQgZW5kc0F0XykgcHVibGljIHJldHVybnMgKHVpbnQgZGVhbElEKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgZGVhbElEID0gbGFzdERlYWxJRCsrOwogICAgZGVhbHNbZGVhbElEXSA9IFJFUE9EZWFsKGxlbmRlcl8sIGJvcnJvd2VyXywgY29sbGF0ZXJhbF8sIHBsZWRnZV8sIGNvbGxhdGVyYWxBbW91bnRfLCBwbGVkZ2VBbW91bnRfLAogICAgICBpbnRlcmVzdF8sIGxlbmRlckZlZV8sIGJvcnJvd2VyRmVlXywgcGxlZGdlVW50aWxfLCBjb2xsYXRlcmFsVW50aWxfLCBlbmRzQXRfLCAwKTsKCiAgICBOZXdEZWFsKGRlYWxJRCwgbGVuZGVyXywgYm9ycm93ZXJfLCBjb2xsYXRlcmFsXywgcGxlZGdlXywgY29sbGF0ZXJhbEFtb3VudF8sIHBsZWRnZUFtb3VudF8sCiAgICAgIGludGVyZXN0XywgbGVuZGVyRmVlXywgYm9ycm93ZXJGZWVfLCBwbGVkZ2VVbnRpbF8sIGNvbGxhdGVyYWxVbnRpbF8sIGVuZHNBdF8pOwogIH0KCiAgZnVuY3Rpb24gcGF5UGxlZGdlKHVpbnQgZGVhbElEKSBwdWJsaWMgcGF5YWJsZSB7CiAgICBSRVBPRGVhbCBzdG9yYWdlIGRlYWwgPSBkZWFsc1tkZWFsSURdOwogICAgcmVxdWlyZShkZWFsLnN0YXRlID09IDApOwogICAgcmVxdWlyZShibG9jay5udW1iZXIgPCBkZWFsLnBsZWRnZVVudGlsKTsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBkZWFsLmJvcnJvd2VyKTsKCiAgICB1aW50IHBheW1lbnQgPSBkZWFsLnBsZWRnZUFtb3VudCArIGRlYWwuYm9ycm93ZXJGZWU7CiAgICBpZiAoZGVhbC5wbGVkZ2UgPT0gMCkgewogICAgICByZXF1aXJlKG1zZy52YWx1ZSA9PSBwYXltZW50KTsKICAgIH0gZWxzZSB7CiAgICAgIHJlcXVpcmUoRVJDMjAoZGVhbC5wbGVkZ2UpLnRyYW5zZmVyRnJvbShtc2cuc2VuZGVyLCB0aGlzLCBwYXltZW50KSk7CiAgICB9CiAgICAvL2FsbCBpcyBvaywgbm93IGNvbnRyYWN0IGhhcyBwbGVkZ2UKICAgIGRlYWwuc3RhdGUgPSAxOwogICAgUGxlZGdlUGF5ZWQoZGVhbElEKTsKICB9CgogIGZ1bmN0aW9uIGNhbmNlbFBsZWRnZVBheW1lbnQodWludCBkZWFsSUQpIHB1YmxpYyB7CiAgICBSRVBPRGVhbCBzdG9yYWdlIGRlYWwgPSBkZWFsc1tkZWFsSURdOwogICAgcmVxdWlyZShkZWFsLnN0YXRlID09IDApOwogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGRlYWwuYm9ycm93ZXIpOwogICAgcmVxdWlyZSh0aGlzLnRyYW5zZmVyRnJvbShtc2cuc2VuZGVyLCBvd25lciwgZGVhbF9jYW5jZWxfcmF0ZSkpOwogICAgZGVhbC5zdGF0ZSA9IC0xMDsKICAgIFBsZWRnZVBheW1lbnRDYW5jZWxlZChkZWFsSUQpOwogIH0KCiAgZnVuY3Rpb24gbm90aWZ5UGxlZGdlTm90UGF5ZWQodWludCBkZWFsSUQpIHB1YmxpYyB7CiAgICBSRVBPRGVhbCBzdG9yYWdlIGRlYWwgPSBkZWFsc1tkZWFsSURdOwogICAgcmVxdWlyZShkZWFsLnN0YXRlID09IDApOwogICAgcmVxdWlyZShibG9jay5udW1iZXIgPj0gZGVhbC5wbGVkZ2VVbnRpbCk7CiAgICBkZWFsLnN0YXRlID0gLTE7CiAgICBQbGVkZ2VOb3RQYXllZChkZWFsSUQpOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJDb2xsYXRlcmFsKHVpbnQgZGVhbElEKSBwdWJsaWMgcGF5YWJsZSB7CiAgICBSRVBPRGVhbCBzdG9yYWdlIGRlYWwgPSBkZWFsc1tkZWFsSURdOwogICAgcmVxdWlyZShkZWFsLnN0YXRlID09IDEpOwogICAgcmVxdWlyZShibG9jay5udW1iZXIgPCBkZWFsLmNvbGxhdGVyYWxVbnRpbCk7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZGVhbC5sZW5kZXIpOwoKICAgIHVpbnQgcGF5bWVudCA9IGRlYWwuY29sbGF0ZXJhbEFtb3VudCArIGRlYWwubGVuZGVyRmVlOwogICAgaWYgKGRlYWwuY29sbGF0ZXJhbCA9PSAwKSB7CiAgICAgIHJlcXVpcmUobXNnLnZhbHVlID09IHBheW1lbnQpOwogICAgICByZXF1aXJlKGRlYWwuYm9ycm93ZXIuc2VuZChkZWFsLmNvbGxhdGVyYWxBbW91bnQpKTsKICAgICAgcmVxdWlyZShvd25lci5zZW5kKGRlYWwubGVuZGVyRmVlKSk7CiAgICB9IGVsc2UgewogICAgICByZXF1aXJlKEVSQzIwKGRlYWwuY29sbGF0ZXJhbCkudHJhbnNmZXJGcm9tKG1zZy5zZW5kZXIsIGRlYWwuYm9ycm93ZXIsIGRlYWwuY29sbGF0ZXJhbEFtb3VudCkpOwogICAgICByZXF1aXJlKEVSQzIwKGRlYWwuY29sbGF0ZXJhbCkudHJhbnNmZXJGcm9tKG1zZy5zZW5kZXIsIG93bmVyLCBkZWFsLmxlbmRlckZlZSkpOwogICAgfQoKICAgIHNlbmRHb29kcyhkZWFsLnBsZWRnZSwgb3duZXIsIGRlYWwuYm9ycm93ZXJGZWUpOwoKICAgIGRlYWwuc3RhdGUgPSAyOwogICAgQ29sbGF0ZXJhbFRyYW5zZmVyZWQoZGVhbElEKTsKICB9CgogIGZ1bmN0aW9uIGNhbmNlbENvbGxhdGVyYWxUcmFuc2Zlcih1aW50IGRlYWxJRCkgcHVibGljIHsKICAgIFJFUE9EZWFsIHN0b3JhZ2UgZGVhbCA9IGRlYWxzW2RlYWxJRF07CiAgICByZXF1aXJlKGRlYWwuc3RhdGUgPT0gMSk7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZGVhbC5sZW5kZXIpOwogICAgcmVxdWlyZSh0aGlzLnRyYW5zZmVyRnJvbShtc2cuc2VuZGVyLCBvd25lciwgZGVhbF9jYW5jZWxfcmF0ZSkpOwoKICAgIHNlbmRHb29kcyhkZWFsLnBsZWRnZSwgZGVhbC5ib3Jyb3dlciwgZGVhbC5wbGVkZ2VBbW91bnQgKyBkZWFsLmJvcnJvd2VyRmVlKTsKCiAgICBkZWFsLnN0YXRlID0gLTIwOwogICAgQ29sbGF0ZXJhbFRyYW5zZmVyQ2FuY2VsZWQoZGVhbElEKTsKICB9CgogIGZ1bmN0aW9uIG5vdGlmeUNvbGxhdGVyYWxOb3RUcmFuc2ZlcmVkKHVpbnQgZGVhbElEKSBwdWJsaWMgewogICAgUkVQT0RlYWwgc3RvcmFnZSBkZWFsID0gZGVhbHNbZGVhbElEXTsKICAgIHJlcXVpcmUoZGVhbC5zdGF0ZSA9PSAxKTsKICAgIHJlcXVpcmUoYmxvY2subnVtYmVyID49IGRlYWwuY29sbGF0ZXJhbFVudGlsKTsKCiAgICBzZW5kR29vZHMoZGVhbC5wbGVkZ2UsIGRlYWwuYm9ycm93ZXIsIGRlYWwucGxlZGdlQW1vdW50ICsgZGVhbC5ib3Jyb3dlckZlZSk7CgogICAgZGVhbC5zdGF0ZSA9IC0yOwogICAgQ29sbGF0ZXJhbE5vdFRyYW5zZmVyZWQoZGVhbElEKTsKICB9CgogIGZ1bmN0aW9uIHNlbmRHb29kcyhhZGRyZXNzIGdvb2RzLCBhZGRyZXNzIHRvLCB1aW50IGFtb3VudCkgcHJpdmF0ZSB7CiAgICBpZiAoZ29vZHMgPT0gMCkgewogICAgICByZXF1aXJlKHRvLnNlbmQoYW1vdW50KSk7CiAgICB9IGVsc2UgewogICAgICByZXF1aXJlKEVSQzIwKGdvb2RzKS50cmFuc2Zlcih0bywgYW1vdW50KSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiByZXR1cm5Db2xsYXRlcmFsKHVpbnQgZGVhbElEKSBwdWJsaWMgcGF5YWJsZSB7CiAgICBSRVBPRGVhbCBzdG9yYWdlIGRlYWwgPSBkZWFsc1tkZWFsSURdOwogICAgcmVxdWlyZShkZWFsLnN0YXRlID09IDIpOwogICAgcmVxdWlyZShibG9jay5udW1iZXIgPCBkZWFsLmVuZHNBdCk7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZGVhbC5ib3Jyb3dlcik7CgogICAgdWludCBwYXltZW50ID0gZGVhbC5jb2xsYXRlcmFsQW1vdW50ICsgZGVhbC5pbnRlcmVzdDsKICAgIGlmIChkZWFsLmNvbGxhdGVyYWwgPT0gMCkgewogICAgICByZXF1aXJlKG1zZy52YWx1ZSA9PSBwYXltZW50KTsKICAgICAgcmVxdWlyZShkZWFsLmxlbmRlci5zZW5kKG1zZy52YWx1ZSkpOwogICAgfSBlbHNlIHsKICAgICAgcmVxdWlyZShFUkMyMChkZWFsLmNvbGxhdGVyYWwpLnRyYW5zZmVyRnJvbShtc2cuc2VuZGVyLCBkZWFsLmxlbmRlciwgcGF5bWVudCkpOwogICAgfQoKICAgIHNlbmRHb29kcyhkZWFsLnBsZWRnZSwgZGVhbC5ib3Jyb3dlciwgZGVhbC5wbGVkZ2VBbW91bnQpOwoKICAgIGRlYWwuc3RhdGUgPSAzOwogICAgQ29sbGF0ZXJhbFJldHVybmVkKGRlYWxJRCk7CiAgfQoKICBmdW5jdGlvbiBub3RpZnlDb2xsYXRlcmFsTm90UmV0dXJuZWQodWludCBkZWFsSUQpIHB1YmxpYyB7CiAgICBSRVBPRGVhbCBzdG9yYWdlIGRlYWwgPSBkZWFsc1tkZWFsSURdOwogICAgcmVxdWlyZShkZWFsLnN0YXRlID09IDIpOwogICAgcmVxdWlyZShibG9jay5udW1iZXIgPj0gZGVhbC5lbmRzQXQpOwoKICAgIHNlbmRHb29kcyhkZWFsLnBsZWRnZSwgZGVhbC5sZW5kZXIsIGRlYWwucGxlZGdlQW1vdW50KTsKCiAgICBkZWFsLnN0YXRlID0gLTM7CiAgICBDb2xsYXRlcmFsTm90UmV0dXJuZWQoZGVhbElEKTsKICB9Cn0='.
	

]
