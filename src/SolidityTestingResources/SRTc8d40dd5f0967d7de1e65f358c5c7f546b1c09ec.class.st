Class {
	#name : #SRTc8d40dd5f0967d7de1e65f358c5c7f546b1c09ec,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc8d40dd5f0967d7de1e65f358c5c7f546b1c09ec >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7CgovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHlyYW1pZGUgdHlwZSBnYW1lICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLwovLyAgICAgICAgICAgICAgICAgIDB4YzhkNDBkZDVmMDk2N2Q3ZGUxZTY1ZjM1OGM1YzdmNTQ2YjFjMDllYyAgICAgICAgICAgICAgICAgICAgICAgLy8KLy8gICAgICAgICAgICAgICAgICAgICAgICBodHRwczovL2dvZHN0ZXAucnUvZXRoZXJldW0vQ2lyY2xlcmFtaWRlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLwovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKbGlicmFyeSBTYWZlTWF0aCB7CiAgICAgIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIHVpbnQgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gZGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgYXNzZXJ0KGIgPiAwKTsKICAgICAgICB1aW50IGMgPSBhIC8gYjsKICAgICAgICBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgICAgfQogICAgICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgYXNzZXJ0aW9uKSBpbnRlcm5hbCB7CiAgICAgICAgaWYgKCFhc3NlcnRpb24pIHsKICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgICAgfQogICAgfQoKCmNvbnRyYWN0IENpcmNsZXJhbWlkZSB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKICAgIAogICAgLy8gZXZlbnRzCiAgICBldmVudCBTZW5kTWVzc2FnZSh1aW50IGlkLCBzdHJpbmcgbWVzc2FnZSwgYWRkcmVzcyBzZW5kZXIpOwogICAgZXZlbnQgTmV3QmxvY2sodWludCBpZCk7CiAgICBldmVudCBSZXdhcmQodWludCBibG9ja0lELCBhZGRyZXNzIHBsYXllciwgdWludCByZXdhcmQpOwogICAgZXZlbnQgV2l0aGRyYXcoYWRkcmVzcyBwbGF5ZXIpOwogICAgCiAgICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7IF87CiAgICB9CiAgICAKICAgIC8vIGNvbnRyYWN0IG93bmVyIAogICAgYWRkcmVzcyBvd25lcjsKCiAgICB1aW50IHB1YmxpYyB0b3RhbEJsb2NrcyA9IDA7CiAgICB1aW50IHB1YmxpYyByZXdhcmRCYWxhbmNlOwoKIAogICAgdWludCBwcml2YXRlIGNvbnN0YW50IEZJUlNUX1JPV19CTE9DS1NfQ09VTlQgPSAxMjg7CiAgICB1aW50IHByaXZhdGUgY29uc3RhbnQgTUFYSU1VTV9ST1dTX0NPVU5UID0gRklSU1RfUk9XX0JMT0NLU19DT1VOVCAtIDE7CiAgICB1aW50IHByaXZhdGUgY29uc3RhbnQgRklSU1RfQkxPQ0tfUFJJQ0UgPSAuMDA1IGV0aGVyOwoKCiAgICBib29sIHB1YmxpYyBpc0xpdmU7CgogICAgLy8gamFja3BvdCAKICAgIHVpbnQgcHVibGljIHJld2FyZHNDb3VudDsKICAgIAogICAgdWludCBwcml2YXRlIGNvbnN0YW50IFJFV0FSREVEX0JMT0NLID0gMTAwOwogICAgdWludCBwcml2YXRlIGNvbnN0YW50IFJFV0FSRFNfVE9UQUwgPSA0OTsgLy8gb25seSA0OSByZXdhcmRzICg1MCByZXdhcmQgPT0gNTAwMCBibG9jayA9PSBqYWNrcG90KTsKICAgIHVpbnQgcHJpdmF0ZSBjb25zdGFudCBSRVdBUkRfRElWID0gMTIwOyAKICAgIAogICAgLy8gamFja3BvdCAKICAgIHVpbnQgcHJpdmF0ZSBjb25zdGFudCBSRVdBUkRfRkVFX1RPUCA9IDcwOwogICAgdWludCBwcml2YXRlIGNvbnN0YW50IFJFV0FSRF9GRUVfRElWID0gMTAwOyAvLyA3MC8xMDAgPSA3MCUgZ29lcyB0byByZXdhcmRzOwogICAgCiAgICAvLyBjb21pc3Npb24gPSAoMiUgb2YgZWFjaCBibG9jaykgPSAoNzAlIGdvZXMgb2YgY29taXNzaW9uIHRvIFJFV0FSRFMgYW5kIDMwJSBnb2VzIG93bmVyKQogICAgdWludCBwcml2YXRlIGNvbnN0YW50IEZFRV9UT1AgPSAyOwogICAgdWludCBwcml2YXRlIGNvbnN0YW50IEZFRV9ESVYgPSAxMDA7IC8vIDEwMC8yID0gMC4yJSBmZWUKICAgIAogICAgIC8vIGJsb2NrIHByaWNlID0gYm90dG9tUm93QmxvY2tQcmljZSArICAwLjElICogYm90dG9tUm93QmxvY2tQcmljZQogICAgdWludCBwcml2YXRlIGNvbnN0YW50IE5FWFRfUk9XX1BST1BPUlRJT05fVE9QID0gMjU7IC8vIDI1LzEwMCA9IDI1JQogICAgdWludCBwcml2YXRlIGNvbnN0YW50IE5FWFRfUk9XX1BST1BPUlRJT05fRElWID0gMTAwOyAgCiAKICAgIAogICAgc3RydWN0IEJsb2NrIHsKICAgICAgICB1aW50IHg7CiAgICAgICAgdWludCB5OwogICAgICAgIHN0cmluZyBtZXNzYWdlOwogICAgfQogICAgCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcHVibGljIGJhbGFuY2VzOwogICAgbWFwcGluZyAodWludCA9PiBtYXBwaW5nKHVpbnQgPT4gdWludCkpIHB1YmxpYyBibG9ja3NDb29yZGluYXRlczsKICAgIG1hcHBpbmcgKHVpbnQgPT4gYWRkcmVzcykgcHVibGljIGJsb2Nrc093bmVyczsKICAgIG1hcHBpbmcgKHVpbnQgPT4gdWludCkgcHVibGljIHByaWNlczsKICAgIG1hcHBpbmcgKHVpbnQgPT4gYWRkcmVzcykgcHVibGljIHJld2FyZHNfaWQ7CiAgICBtYXBwaW5nICh1aW50ID0+IHVpbnQpIHB1YmxpYyByZXdhcmRzX2Ftb3VudDsKICAgIG1hcHBpbmcgKHVpbnQgPT4gQmxvY2spIHB1YmxpYyBibG9ja3M7CiAgICAKCiAgICBmdW5jdGlvbiBDaXJjbGVyYW1pZGUoKSB7CiAgICAgICAgaXNMaXZlID0gdHJ1ZTsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgcHJpY2VzWzBdID0gRklSU1RfQkxPQ0tfUFJJQ0U7CiAgICAgICAgCiAgICAgICAgdG90YWxCbG9ja3MgPSAxOwogICAgICAgIGNhbGN1bGF0ZVByaWNlKDApOwogICAgICAgIHBsYWNlQmxvY2sob3duZXIsIDAsIDAsICdGaXJzdCBCbG9jayA6KScpOwogICAgICAgIHNlbmRNZXNzYWdlKCdXZWxjb21lIHRvIHRoZSBDaXJjbGVyYW1pZGUhJyk7CiAgICB9CgogICAgLy8gcHVibGljIGZ1bmN0aW9uCiAgICBmdW5jdGlvbiBzZXRCbG9jayh1aW50IHgsIHVpbnQgeSwgc3RyaW5nIG1lc3NhZ2UpIGV4dGVybmFsIHBheWFibGUgewogICAgICAgIGlmKGlzTGl2ZSkgewogICAgICAgICAgICBhZGRyZXNzIHNlbmRlciA9IG1zZy5zZW5kZXI7CiAgICAgICAgICAgIAogICAgICAgICAgICB1aW50IGJldCA9IGNhbGN1bGF0ZVByaWNlKHkpOwogICAgICAgICAgICB1aW50IHNlbmRlckJhbGFuY2UgPSBiYWxhbmNlc1tzZW5kZXJdICsgbXNnLnZhbHVlOwogICAgICAgICAgICAKICAgICAgICAgICAgcmVxdWlyZShiZXQgPD0gc2VuZGVyQmFsYW5jZSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZihjaGVja0Jsb2NrRW1wdHkoeCwgeSkpIHsKICAgICAgICAgICAgICAgIHVpbnQgZmVlID0gKGJldCAqIEZFRV9UT1ApL0ZFRV9ESVY7CiAgICAgICAgICAgICAgICB1aW50IGphY2twb3RGZWUgPSAoZmVlICogUkVXQVJEX0ZFRV9UT1ApL1JFV0FSRF9GRUVfRElWOwogICAgICAgICAgICAgICAgdWludCBhbW91bnRGb3JPd25lciA9IGZlZSAtIGphY2twb3RGZWU7CiAgICAgICAgICAgICAgICB1aW50IGFtb3VudEZvckJsb2NrID0gYmV0IC0gZmVlOwogICAgICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgICAgIGlmKHggPCBGSVJTVF9ST1dfQkxPQ0tTX0NPVU5UIC0geSkgewogICAgICAgICAgICAgICAgICAgYmFsYW5jZXNbb3duZXJdICs9IGFtb3VudEZvck93bmVyOwogICAgICAgICAgICAgICAgICAgcmV3YXJkQmFsYW5jZSArPSBqYWNrcG90RmVlOwogICAgICAgICAgICAgICAgICAgYmFsYW5jZXNbc2VuZGVyXSA9IHNlbmRlckJhbGFuY2UgLSBiZXQ7CiAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgIGlmKHkgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB1aW50IGZpcnN0QmxvY2tSZXdhcmQgPSAoYW1vdW50Rm9yQmxvY2sgKiBSRVdBUkRfRkVFX1RPUCkvUkVXQVJEX0ZFRV9ESVY7CiAgICAgICAgICAgICAgICAgICAgICAgIHJld2FyZEJhbGFuY2UgKz0gZmlyc3RCbG9ja1Jld2FyZDsKICAgICAgICAgICAgICAgICAgICAgICAgYmFsYW5jZXNbb3duZXJdICs9IGFtb3VudEZvckJsb2NrIC0gZmlyc3RCbG9ja1Jld2FyZDsgCiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlQmxvY2soc2VuZGVyLCB4LCB5LCBtZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlVG9Sb3coc2VuZGVyLCB4LCB5LCBtZXNzYWdlLCBhbW91bnRGb3JCbG9jayk7CiAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRocm93OyAgLy8gb3V0c2lkZSB0aGUgYmxvY2tzIGZpZWxkCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aHJvdzsgIC8vIGJsb2NrW3gsIHldIGlzIG5vdCBlbXB0eQogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhyb3c7ICAvLyBnYW1lIGlzIG92ZXIKICAgICAgICB9CiAgICAgfQogICAgCgogICAgCiAgICAvLyBwcml2YXRlIGZ1bnRpb25zCiAgICBmdW5jdGlvbiBwbGFjZUJsb2NrKGFkZHJlc3Mgc2VuZGVyLCB1aW50IHgsIHVpbnQgeSwgc3RyaW5nIG1lc3NhZ2UpIHByaXZhdGUgewogICAgICAgIGJsb2Nrc0Nvb3JkaW5hdGVzW3ldW3hdID0gdG90YWxCbG9ja3M7IAogICAgIAogICAgICAgIGJsb2Nrc1t0b3RhbEJsb2Nrc10gPSBCbG9jayh4LCB5LCBtZXNzYWdlKTsKICAgICAgICBibG9ja3NPd25lcnNbdG90YWxCbG9ja3NdID0gc2VuZGVyOwoKICAgICAgICBOZXdCbG9jayh0b3RhbEJsb2Nrcyk7CiAgICAKCiAgICAgICAgLy8gcmV3YXJkIGV2ZXJ5IDEwMCBibG9ja3MKICAgICAgICBpZih0b3RhbEJsb2NrcyAlIFJFV0FSREVEX0JMT0NLID09IDApIHsKICAgICAgICAgICAgdWludCByZXdhcmQ7CiAgICAgICAgICAgIC8vIGJsb2NrIGlkID09IDUwMDAgLSBKQUNLUE9UISEhISBHYW1lT1ZFUjsKICAgICAgICAgICAgaWYocmV3YXJkc0NvdW50ID09IFJFV0FSRFNfVE9UQUwpIHsKICAgICAgICAgICAgICAgIGlzTGl2ZSA9IGZhbHNlOyAvLyBHQU1FIElTIE9WRVIKICAgICAgICAgICAgICAgIHJld2FyZHNDb3VudCsrOwogICAgICAgICAgICAgICAgcmV3YXJkID0gcmV3YXJkQmFsYW5jZTsgLy8gSkFDS1BPVCEKICAgICAgICAgICAgICAgIHJld2FyZEJhbGFuY2UgPSAwOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV3YXJkc0NvdW50Kys7CiAgICAgICAgICAgICAgICByZXdhcmQgPSBjYWxjdWxhdGVSZXdhcmQoKTsKICAgICAgICAgICAgICAgIHJld2FyZEJhbGFuY2UgPSByZXdhcmRCYWxhbmNlLnN1YihyZXdhcmQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBiYWxhbmNlc1tzZW5kZXJdICs9IHJld2FyZDsKICAgICAgICAgICAgUmV3YXJkKHJld2FyZHNDb3VudCwgc2VuZGVyLCByZXdhcmQpOwogICAgICAgICAgICByZXdhcmRzX2lkW3Jld2FyZHNDb3VudC0xXSA9IHNlbmRlcjsKICAgICAgICAgICAgcmV3YXJkc19hbW91bnRbcmV3YXJkc0NvdW50LTFdID0gcmV3YXJkOwogICAgICAgIH0KICAgICAgICB0b3RhbEJsb2NrcysrOwogICAgfQogICAgZnVuY3Rpb24gcGxhY2VUb1JvdyhhZGRyZXNzIHNlbmRlciwgdWludCB4LCB1aW50IHksIHN0cmluZyBtZXNzYWdlLCB1aW50IGJldCkgcHJpdmF0ZSB7CiAgICAgICB1aW50IHBhcmVudFkgPSB5IC0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICB1aW50IHBhcmVudDFfaWQgPSBibG9ja3NDb29yZGluYXRlc1twYXJlbnRZXVt4XTsKICAgICAgIHVpbnQgcGFyZW50Ml9pZCA9IGJsb2Nrc0Nvb3JkaW5hdGVzW3BhcmVudFldW3ggKyAxXTsKICAgICAgIAogICAgICAgaWYocGFyZW50MV9pZCAhPSAwICYmIHBhcmVudDJfaWQgIT0gMCkgewogICAgICAgICAgICBhZGRyZXNzIG93bmVyX29mX2Jsb2NrMSA9IGJsb2Nrc093bmVyc1twYXJlbnQxX2lkXTsKICAgICAgICAgICAgYWRkcmVzcyBvd25lcl9vZl9ibG9jazIgPSBibG9ja3NPd25lcnNbcGFyZW50Ml9pZF07CiAgICAgICAgICAgIAogICAgICAgICAgICB1aW50IHJld2FyZDEgPSBiZXQvMjsKICAgICAgICAgICAgdWludCByZXdhcmQyID0gYmV0IC0gcmV3YXJkMTsKICAgICAgICAgICAgYmFsYW5jZXNbb3duZXJfb2ZfYmxvY2sxXSArPSByZXdhcmQxOwogICAgICAgICAgICBiYWxhbmNlc1tvd25lcl9vZl9ibG9jazJdICs9IHJld2FyZDI7CiAgICAgICAgICAgIAogICAgICAgICAgICBwbGFjZUJsb2NrKHNlbmRlciwgeCwgeSwgbWVzc2FnZSk7CgogICAgICAgfSBlbHNlIHsKICAgICAgICAgICB0aHJvdzsKICAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gY2FsY3VsYXRlUHJpY2UodWludCB5KSBwcml2YXRlIHJldHVybnMgKHVpbnQpIHsKICAgICAgICB1aW50IG5leHRZID0geSArIDE7CiAgICAgICAgdWludCBjdXJyZW50UHJpY2UgPSBwcmljZXNbeV07CiAgICAgICAgaWYocHJpY2VzW25leHRZXSA9PSAwKSB7CiAgICAgICAgICAgIHByaWNlc1tuZXh0WV0gPSBjdXJyZW50UHJpY2UgKyAoY3VycmVudFByaWNlICogTkVYVF9ST1dfUFJPUE9SVElPTl9UT1ApL05FWFRfUk9XX1BST1BPUlRJT05fRElWOwogICAgICAgICAgICByZXR1cm4gY3VycmVudFByaWNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBjdXJyZW50UHJpY2U7CiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gd2l0aGRyYXdCYWxhbmNlKHVpbnQgYW1vdW50KSBleHRlcm5hbCB7CiAgICAgICAgcmVxdWlyZShhbW91bnQgIT0gMCk7CiAgICAgICAgCiAgICAgICAgLy8gVGhlIHVzZXIgbXVzdCBoYXZlIGVub3VnaCBiYWxhbmNlIHRvIHdpdGhkcmF3CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBhbW91bnQpOwogICAgICAgIAogICAgICAgIC8vIFN1YnRyYWN0IHRoZSB3aXRoZHJhd24gYW1vdW50IGZyb20gdGhlIHVzZXIncyBiYWxhbmNlCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoYW1vdW50KTsKICAgICAgICAKICAgICAgICAvLyBUcmFuc2ZlciB0aGUgYW1vdW50IHRvIHRoZSB1c2VyJ3MgYWRkcmVzcwogICAgICAgIC8vIElmIHRoZSB0cmFuc2ZlcigpIGNhbGwgZmFpbHMgYW4gZXhjZXB0aW9uIHdpbGwgYmUgdGhyb3duLAogICAgICAgIC8vIGFuZCB0aGVyZWZvcmUgdGhlIHVzZXIncyBiYWxhbmNlIHdpbGwgYmUgYXV0b21hdGljYWxseSByZXN0b3JlZAogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoYW1vdW50KTsKICAgICAgICAKICAgICAgICBXaXRoZHJhdyhtc2cuc2VuZGVyKTsKICAgIH0KICAgIAogICAgCiAgICAvLyBjb25zdGFudHMKICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVJld2FyZCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIChyZXdhcmRCYWxhbmNlICogcmV3YXJkc0NvdW50KSAvIFJFV0FSRF9ESVY7CiAgICB9CiAgICBmdW5jdGlvbiBnZXRCbG9ja1ByaWNlKHVpbnQgeSkgIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gcHJpY2VzW3ldOwogICAgfQogICAgZnVuY3Rpb24gY2hlY2tCbG9ja0VtcHR5KHVpbnQgeCwgdWludCB5KSBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIGJsb2Nrc0Nvb3JkaW5hdGVzW3ldW3hdID09IDA7CiAgICB9CiAgICBmdW5jdGlvbiBJbmZvKCkgY29uc3RhbnQgcmV0dXJucyAodWludCB0YiwgdWludCBiYywgdWludCBmYnAsIHVpbnQgcmMsIHVpbnQgcmIsIHVpbnQgcnQsIHVpbnQgcmYsIHVpbnQgcmQsIHVpbnQgbWMsIHVpbnQgcmV3KSB7CiAgICAgICAgdGIgPSB0b3RhbEJsb2NrczsKICAgICAgICBiYyA9IEZJUlNUX1JPV19CTE9DS1NfQ09VTlQ7CiAgICAgICAgZmJwID0gRklSU1RfQkxPQ0tfUFJJQ0U7CiAgICAgICAgcmMgPSByZXdhcmRzQ291bnQ7CiAgICAgICAgcmIgPSByZXdhcmRCYWxhbmNlOwogICAgICAgIHJ0ID0gUkVXQVJEU19UT1RBTDsKICAgICAgICByZiA9IFJFV0FSRF9GRUVfVE9QOwogICAgICAgIHJkID0gUkVXQVJEX0RJVjsKICAgICAgICBtYyA9IG1lc3NhZ2VzQ291bnQ7CiAgICAgICAgcmV3ID0gUkVXQVJERURfQkxPQ0s7CiAgICB9CiAgICBmdW5jdGlvbiBnZXRCbG9jayh1aW50IGlkKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCBpLCB1aW50IHgsIHVpbnQgeSwgYWRkcmVzcyBvd21lciwgc3RyaW5nIG1lc3NhZ2UpIHsKICAgICAgICBCbG9jayBzdG9yYWdlIGJsb2NrID0gYmxvY2tzW2lkXTsKICAgICAgICBpID0gaWQ7CiAgICAgICAgeCA9IGJsb2NrLng7CiAgICAgICAgeSA9IGJsb2NrLnk7CiAgICAgICAgb3duZXIgPSBibG9ja3NPd25lcnNbaWRdOwogICAgICAgIG1lc3NhZ2UgPSBibG9jay5tZXNzYWdlOwogICAgfQogICAgZnVuY3Rpb24gZ2V0UmV3YXJkcyh1aW50IGMsIHVpbnQgbykgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgY3Vyc29yLCB1aW50IG9mZnNldCwgdWludFtdIGFycmF5KSB7CiAgICAgICAgdWludCBuOwogICAgICAgIHVpbnRbXSBtZW1vcnkgYXJyID0gbmV3IHVpbnRbXShvICogMik7CiAgICAgICAgb2Zmc2V0ID0gbzsgY3Vyc29yID0gYzsKICAgICAgICB1aW50IGwgPSBvZmZzZXQgKyBjdXJzb3I7CiAgICAgICAgZm9yKHVpbnQgaSA9IGN1cnNvcjsgaTxsOyBpKyspIHsKICAgICAgICAgICAgYXJyW25dID0gdWludChyZXdhcmRzX2lkW2ldKTsKICAgICAgICAgICAgYXJyW24gKyAxXSA9IHJld2FyZHNfYW1vdW50W2ldOwogICAgICAgICAgICBuICs9IDI7CiAgICAgICAgfQogICAgICAgIGFycmF5ID0gYXJyOwogICAgfQogICAgZnVuY3Rpb24gZ2V0QmxvY2tzKHVpbnQgYywgdWludCBvKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCBjdXJzb3IsIHVpbnQgb2Zmc2V0LCB1aW50W10gYXJyYXkpIHsKICAgICAgICB1aW50IG47CiAgICAgICAgdWludFtdIG1lbW9yeSBhcnIgPSBuZXcgdWludFtdKG8gKiAzKTsKICAgICAgICBvZmZzZXQgPSBvOyBjdXJzb3IgPSBjOwogICAgICAgIHVpbnQgbCA9IG9mZnNldCArIGN1cnNvcjsKICAgICAgICBmb3IodWludCBpID0gY3Vyc29yOyBpPGw7IGkrKykgewogICAgICAgICAgICBCbG9jayBzdG9yYWdlIGIgPSBibG9ja3NbaSsxXTsKICAgICAgICAgICAgYXJyW25dID0gKGIueCk7CiAgICAgICAgICAgIGFycltuICsgMV0gPSAoYi55KTsKICAgICAgICAgICAgYXJyW24gKyAyXSA9IHVpbnQoYmxvY2tzT3duZXJzW2krMV0pOwogICAgICAgICAgICBuICs9IDM7CiAgICAgICAgfQogICAgICAgIGFycmF5ID0gYXJyOwogICAgfQogICAgZnVuY3Rpb24gZ2V0UHJpY2VzKHVpbnQgYywgdWludCBvKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCBjdXJzb3IsIHVpbnQgb2Zmc2V0LCB1aW50W10gYXJyYXkpIHsKICAgICAgICB1aW50IG47CiAgICAgICAgdWludFtdIG1lbW9yeSBhcnIgPSBuZXcgdWludFtdKG8pOwogICAgICAgIG9mZnNldCA9IG87ICBjdXJzb3IgPSBjOwogICAgICAgIHVpbnQgbCA9IG9mZnNldCArIGN1cnNvcjsKICAgICAgICBmb3IodWludCBpID0gY3Vyc29yOyBpPGw7IGkrKykgewogICAgICAgICAgICBhcnJbbl0gPSBwcmljZXNbaV07CiAgICAgICAgICAgIG4rKzsKICAgICAgICB9CiAgICAgICAgYXJyYXkgPSBhcnI7CiAgICB9CiAgICAKICAgIAogICAgLy8vLy8vLy8vLwogICAgLy8gQ0hBVCAvLwogICAgLy8vLy8vLy8vLwogICAgCiAgICBzdHJ1Y3QgTWVzc2FnZSB7CiAgICAgICAgYWRkcmVzcyBzZW5kZXI7CiAgICAgICAgc3RyaW5nIG1lc3NhZ2U7CiAgICB9CiAgICB1aW50IHByaXZhdGUgbWVzc2FnZXNDb3VudDsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBzdHJpbmcpIHB1YmxpYyB1c2VybmFtZXM7CiAgICBtYXBwaW5nKHVpbnQgPT4gTWVzc2FnZSkgcHVibGljIG1lc3NhZ2VzOwogICAgCiAgICBmdW5jdGlvbiBzZW5kTWVzc2FnZShzdHJpbmcgbWVzc2FnZSkgcHVibGljIHJldHVybnMgKHVpbnQpIHsKICAgICAgICBtZXNzYWdlc1ttZXNzYWdlc0NvdW50XSA9IE1lc3NhZ2UobXNnLnNlbmRlciwgbWVzc2FnZSk7CiAgICAgICAgU2VuZE1lc3NhZ2UobWVzc2FnZXNDb3VudCwgbWVzc2FnZSwgbXNnLnNlbmRlcik7CiAgICAgICAgbWVzc2FnZXNDb3VudCA9IG1lc3NhZ2VzQ291bnQuYWRkKDEpOwogICAgICAgIHJldHVybiBtZXNzYWdlc0NvdW50OwogICAgfQogICAgZnVuY3Rpb24gc2V0VXNlck5hbWUoc3RyaW5nIG5hbWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgYWRkcmVzcyBzZW5kZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIAogICAgICAgIGJ5dGVzIG1lbW9yeSB1c2VybmFtZSA9IGJ5dGVzKHVzZXJuYW1lc1tzZW5kZXJdKTsKICAgICAgICBpZih1c2VybmFtZS5sZW5ndGggPT0gMCkgewogICAgICAgICAgICB1c2VybmFtZXNbc2VuZGVyXSA9IG5hbWU7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9Cn0='.
	

]
