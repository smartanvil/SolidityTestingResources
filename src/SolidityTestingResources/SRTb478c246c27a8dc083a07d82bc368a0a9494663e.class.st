Class {
	#name : #SRTb478c246c27a8dc083a07d82bc368a0a9494663e,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTb478c246c27a8dc083a07d82bc368a0a9494663e >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLy8vIEB0aXRsZSBBYnN0cmFjdCBFUkMyMCB0b2tlbiBpbnRlcmZhY2UKY29udHJhY3QgQWJzdHJhY3RUb2tlbiB7CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7fQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBJc3N1YW5jZShhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgoKY29udHJhY3QgT3duZWQgewoKICAgIGFkZHJlc3MgcHVibGljIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIGFkZHJlc3MgcHVibGljIHBvdGVudGlhbE93bmVyOwoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlQb3RlbnRpYWxPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHBvdGVudGlhbE93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGV2ZW50IE5ld093bmVyKGFkZHJlc3Mgb2xkLCBhZGRyZXNzIGN1cnJlbnQpOwogICAgZXZlbnQgTmV3UG90ZW50aWFsT3duZXIoYWRkcmVzcyBvbGQsIGFkZHJlc3MgcG90ZW50aWFsKTsKCiAgICBmdW5jdGlvbiBzZXRPd25lcihhZGRyZXNzIF9uZXcpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seU93bmVyCiAgICB7CiAgICAgICAgTmV3UG90ZW50aWFsT3duZXIob3duZXIsIF9uZXcpOwogICAgICAgIHBvdGVudGlhbE93bmVyID0gX25ldzsKICAgIH0KCiAgICBmdW5jdGlvbiBjb25maXJtT3duZXJzaGlwKCkKICAgICAgICBwdWJsaWMKICAgICAgICBvbmx5UG90ZW50aWFsT3duZXIKICAgIHsKICAgICAgICBOZXdPd25lcihvd25lciwgcG90ZW50aWFsT3duZXIpOwogICAgICAgIG93bmVyID0gcG90ZW50aWFsT3duZXI7CiAgICAgICAgcG90ZW50aWFsT3duZXIgPSAwOwogICAgfQp9CgoKLy8vIEltcGxlbWVudHMgRVJDIDIwIFRva2VuIHN0YW5kYXJkOiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBBYnN0cmFjdFRva2VuLCBPd25lZCB7CgogICAgLyoKICAgICAqICBEYXRhIHN0cnVjdHVyZXMKICAgICAqLwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIC8qCiAgICAgKiAgUmVhZCBhbmQgd3JpdGUgc3RvcmFnZSBmdW5jdGlvbnMKICAgICAqLwogICAgLy8vIEBkZXYgVHJhbnNmZXJzIHNlbmRlcidzIHRva2VucyB0byBhIGdpdmVuIGFkZHJlc3MuIFJldHVybnMgc3VjY2Vzcy4KICAgIC8vLyBAcGFyYW0gX3RvIEFkZHJlc3Mgb2YgdG9rZW4gcmVjZWl2ZXIuCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyLgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBAZGV2IEFsbG93cyBhbGxvd2VkIHRoaXJkIHBhcnR5IHRvIHRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIuIFJldHVybnMgc3VjY2Vzcy4KICAgIC8vLyBAcGFyYW0gX2Zyb20gQWRkcmVzcyBmcm9tIHdoZXJlIHRva2VucyBhcmUgd2l0aGRyYXduLgogICAgLy8vIEBwYXJhbSBfdG8gQWRkcmVzcyB0byB3aGVyZSB0b2tlbnMgYXJlIHNlbnQuCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyLgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgIGlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLy8vIEBkZXYgUmV0dXJucyBudW1iZXIgb2YgdG9rZW5zIG93bmVkIGJ5IGdpdmVuIGFkZHJlc3MuCiAgICAvLy8gQHBhcmFtIF9vd25lciBBZGRyZXNzIG9mIHRva2VuIG93bmVyLgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICAvLy8gQGRldiBTZXRzIGFwcHJvdmVkIGFtb3VudCBvZiB0b2tlbnMgZm9yIHNwZW5kZXIuIFJldHVybnMgc3VjY2Vzcy4KICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgQWRkcmVzcyBvZiBhbGxvd2VkIGFjY291bnQuCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgYXBwcm92ZWQgdG9rZW5zLgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoKICAgICAqIFJlYWQgc3RvcmFnZSBmdW5jdGlvbnMKICAgICAqLwogICAgLy8vIEBkZXYgUmV0dXJucyBudW1iZXIgb2YgYWxsb3dlZCB0b2tlbnMgZm9yIGdpdmVuIGFkZHJlc3MuCiAgICAvLy8gQHBhcmFtIF9vd25lciBBZGRyZXNzIG9mIHRva2VuIG93bmVyLgogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBBZGRyZXNzIG9mIHRva2VuIHNwZW5kZXIuCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKfQoKCi8vLyBAdGl0bGUgU2FmZU1hdGggY29udHJhY3QgLSBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzLgovLy8gQGF1dGhvciBPcGVuWmVwcGVsaW46IGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvYmxvYi9tYXN0ZXIvY29udHJhY3RzL21hdGgvU2FmZU1hdGguc29sCmNvbnRyYWN0IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIHVpbnQgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgYXNzZXJ0KGIgPiAwKTsKICAgICAgICB1aW50IGMgPSBhIC8gYjsKICAgICAgICBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gcG93KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSAqKiBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9CgoKLy8vIEB0aXRsZSBUb2tlbiBjb250cmFjdCAtIEltcGxlbWVudHMgU3RhbmRhcmQgRVJDMjAgd2l0aCBhZGRpdGlvbmFsIGZlYXR1cmVzLgovLy8gQGF1dGhvciBaZXJpb24gLSA8PGEgaHJlZj0iL2Nkbi1jZ2kvbC9lbWFpbC1wcm90ZWN0aW9uIiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9ImQ5YjBiN2JiYjZhMTk5YTNiY2FiYjBiNmI3ZjdiMGI2Ij5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9hPj4KY29udHJhY3QgVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgU2FmZU1hdGggewoKICAgIC8vIFRpbWUgb2YgdGhlIGNvbnRyYWN0IGNyZWF0aW9uCiAgICB1aW50IHB1YmxpYyBjcmVhdGlvblRpbWU7CgogICAgZnVuY3Rpb24gVG9rZW4oKSB7CiAgICAgICAgY3JlYXRpb25UaW1lID0gbm93OwogICAgfQoKCiAgICAvLy8gQGRldiBPd25lciBjYW4gdHJhbnNmZXIgb3V0IGFueSBhY2NpZGVudGFsbHkgc2VudCBFUkMyMCB0b2tlbnMKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRVJDMjBUb2tlbihhZGRyZXNzIHRva2VuQWRkcmVzcykKICAgICAgICBwdWJsaWMKICAgICAgICBvbmx5T3duZXIKICAgICAgICByZXR1cm5zIChib29sKQogICAgewogICAgICAgIHVpbnQgYmFsYW5jZSA9IEFic3RyYWN0VG9rZW4odG9rZW5BZGRyZXNzKS5iYWxhbmNlT2YodGhpcyk7CiAgICAgICAgcmV0dXJuIEFic3RyYWN0VG9rZW4odG9rZW5BZGRyZXNzKS50cmFuc2Zlcihvd25lciwgYmFsYW5jZSk7CiAgICB9CgogICAgLy8vIEBkZXYgTXVsdGlwbGllcyB0aGUgZ2l2ZW4gbnVtYmVyIGJ5IDEwXihkZWNpbWFscykKICAgIGZ1bmN0aW9uIHdpdGhEZWNpbWFscyh1aW50IG51bWJlciwgdWludCBkZWNpbWFscykKICAgICAgICBpbnRlcm5hbAogICAgICAgIHJldHVybnMgKHVpbnQpCiAgICB7CiAgICAgICAgcmV0dXJuIG11bChudW1iZXIsIHBvdygxMCwgZGVjaW1hbHMpKTsKICAgIH0KfQoKCi8vLyBAdGl0bGUgVG9rZW4gY29udHJhY3QgLSBJbXBsZW1lbnRzIFN0YW5kYXJkIEVSQzIwIFRva2VuIGZvciBRY2hhaW4gcHJvamVjdC4KLy8vIEBhdXRob3IgWmVyaW9uIC0gPDxhIGhyZWY9Ii9jZG4tY2dpL2wvZW1haWwtcHJvdGVjdGlvbiIgY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSIzZTU3NTA1YzUxNDY3ZTQ0NWI0YzU3NTE1MDEwNTc1MSI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvYT4+CmNvbnRyYWN0IFFjaGFpblRva2VuIGlzIFRva2VuIHsKCiAgICAvKgogICAgICogVG9rZW4gbWV0YSBkYXRhCiAgICAgKi8KICAgIHN0cmluZyBjb25zdGFudCBwdWJsaWMgbmFtZSA9ICJFdGhlcmV1bSBRY2hhaW4gVG9rZW4iOwogICAgc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBzeW1ib2wgPSAiRVFDIjsKICAgIHVpbnQ4IGNvbnN0YW50IHB1YmxpYyBkZWNpbWFscyA9IDg7CgogICAgLy8gQWRkcmVzcyB3aGVyZSBGb3VuZGF0aW9uIHRva2VucyBhcmUgYWxsb2NhdGVkCiAgICBhZGRyZXNzIGNvbnN0YW50IHB1YmxpYyBmb3VuZGF0aW9uUmVzZXJ2ZSA9IDB4RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjsKCiAgICAvLyBBZGRyZXNzIHdoZXJlIGFsbCB0b2tlbnMgZm9yIHRoZSBJQ08gc3RhZ2UgYXJlIGluaXRpYWxseSBhbGxvY2F0ZWQKICAgIGFkZHJlc3MgY29uc3RhbnQgcHVibGljIGljb0FsbG9jYXRpb24gPSAweDExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTE7CgogICAgLy8gQWRkcmVzcyB3aGVyZSBhbGwgdG9rZW5zIGZvciB0aGUgUHJlSUNPIGFyZSBpbml0aWFsbHkgYWxsb2NhdGVkCiAgICBhZGRyZXNzIGNvbnN0YW50IHB1YmxpYyBwcmVJY29BbGxvY2F0aW9uID0gMHgyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyOwoKICAgIC8vIElDTyBzdGFydCBkYXRlLiAxMC8yNC8yMDE3IEAgOTowMHBtIChVVEMpCiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBzdGFydERhdGUgPSAxNTA4ODc4ODAwOwogICAgdWludDI1NiBjb25zdGFudCBwdWJsaWMgZHVyYXRpb24gPSA0MiBkYXlzOwoKICAgIC8vIFB1YmxpYyBrZXkgb2YgdGhlIHNpZ25lcgogICAgYWRkcmVzcyBwdWJsaWMgc2lnbmVyOwoKICAgIC8vIEZvdW5kYXRpb24gbXVsdGlzaWduYXR1cmUgd2FsbGV0LCBhbGwgRXRoZXIgaXMgY29sbGVjdGVkIHRoZXJlCiAgICBhZGRyZXNzIHB1YmxpYyBtdWx0aXNpZzsKCiAgICAvLy8gQGRldiBDb250cmFjdCBjb25zdHJ1Y3Rvciwgc2V0cyB0b3RhbFN1cHBseQogICAgZnVuY3Rpb24gUWNoYWluVG9rZW4oYWRkcmVzcyBfc2lnbmVyLCBhZGRyZXNzIF9tdWx0aXNpZykKICAgIHsKICAgICAgICAvLyBPdmVyYWxsLCAzNzUsMDAwLDAwMCBFUUMgdG9rZW5zIGFyZSBkaXN0cmlidXRlZAogICAgICAgIHRvdGFsU3VwcGx5ID0gd2l0aERlY2ltYWxzKDM3NTAwMDAwMCwgZGVjaW1hbHMpOwoKICAgICAgICAvLyAxMSw1MDAsMDAwIHRva2VucyB3ZXJlIHNvbGQgZHVyaW5nIHRoZSBQcmVJQ08KICAgICAgICB1aW50IHByZUljb1Rva2VucyA9IHdpdGhEZWNpbWFscygxMTUwMDAwMCwgZGVjaW1hbHMpOwoKICAgICAgICAvLyA0MCUgb2YgdG90YWwgc3VwcGx5IGlzIGFsbG9jYXRlZCBmb3IgdGhlIEZvdW5kYXRpb24KICAgICAgICBiYWxhbmNlc1tmb3VuZGF0aW9uUmVzZXJ2ZV0gPSBkaXYobXVsKHRvdGFsU3VwcGx5LCA0MCksIDEwMCk7CgogICAgICAgIC8vIFByZUlDTyB0b2tlbnMgYXJlIGFsbG9jYXRlZCB0byB0aGUgc3BlY2lhbCBhZGRyZXNzIGFuZCB3aWxsIGJlIGRpc3RyaWJ1dGVkIG1hbnVhbGx5CiAgICAgICAgYmFsYW5jZXNbcHJlSWNvQWxsb2NhdGlvbl0gPSBwcmVJY29Ub2tlbnM7CgogICAgICAgIC8vIFRoZSByZXN0IG9mIHRoZSB0b2tlbnMgaXMgYXZhaWxhYmxlIGZvciBzYWxlCiAgICAgICAgYmFsYW5jZXNbaWNvQWxsb2NhdGlvbl0gPSB0b3RhbFN1cHBseSAtIHByZUljb1Rva2VucyAtIGJhbGFuY2VPZihmb3VuZGF0aW9uUmVzZXJ2ZSk7CgogICAgICAgIC8vIEFsbG93IHRoZSBvd25lciB0byBkaXN0cmlidXRlIHRva2VucyBmcm9tIHRoZSBQcmVJQ08gYWxsb2NhdGlvbiBhZGRyZXNzCiAgICAgICAgYWxsb3dlZFtwcmVJY29BbGxvY2F0aW9uXVttc2cuc2VuZGVyXSA9IGJhbGFuY2VPZihwcmVJY29BbGxvY2F0aW9uKTsKCiAgICAgICAgLy8gQWxsb3cgdGhlIG93bmVyIHRvIHdpdGhkcmF3IHRva2VucyBmcm9tIHRoZSBGb3VuZGF0aW9uIHJlc2VydmUKICAgICAgICBhbGxvd2VkW2ZvdW5kYXRpb25SZXNlcnZlXVttc2cuc2VuZGVyXSA9IGJhbGFuY2VPZihmb3VuZGF0aW9uUmVzZXJ2ZSk7CgogICAgICAgIHNpZ25lciA9IF9zaWduZXI7CiAgICAgICAgbXVsdGlzaWcgPSBfbXVsdGlzaWc7CiAgICB9CgogICAgbW9kaWZpZXIgaWNvSXNBY3RpdmUgewogICAgICAgIHJlcXVpcmUobm93ID49IHN0YXJ0RGF0ZSAmJiBub3cgPCBzdGFydERhdGUgKyBkdXJhdGlvbik7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBpY29Jc0NvbXBsZXRlZCB7CiAgICAgICAgcmVxdWlyZShub3cgPj0gc3RhcnREYXRlICsgZHVyYXRpb24pOwogICAgICAgIF87CiAgICB9CgogICAgLy8vIEBkZXYgU2V0dGxlIGFuIGludmVzdG1lbnQgYW5kIGRpc3RyaWJ1dGUgdG9rZW5zCiAgICBmdW5jdGlvbiBpbnZlc3QoYWRkcmVzcyBpbnZlc3RvciwgdWludDI1NiB0b2tlblByaWNlLCB1aW50MjU2IHZhbHVlLCBieXRlczMyIGhhc2gsIHVpbnQ4IHYsIGJ5dGVzMzIgciwgYnl0ZXMzMiBzKQogICAgICAgIHB1YmxpYwogICAgICAgIGljb0lzQWN0aXZlCiAgICAgICAgcGF5YWJsZQogICAgewogICAgICAgIC8vIENoZWNrIHRoZSBoYXNoCiAgICAgICAgcmVxdWlyZShzaGEyNTYodWludChpbnZlc3RvcikgPDwgOTYgfCB0b2tlblByaWNlKSA9PSBoYXNoKTsKCiAgICAgICAgLy8gQ2hlY2sgdGhlIHNpZ25hdHVyZQogICAgICAgIHJlcXVpcmUoZWNyZWNvdmVyKGhhc2gsIHYsIHIsIHMpID09IHNpZ25lcik7CgogICAgICAgIC8vIERpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdmFsdWUgYXJndW1lbnQgYW5kIGFjdHVhbCB2YWx1ZSBzaG91bGQgbm90IGJlCiAgICAgICAgLy8gbW9yZSB0aGFuIDAuMDA1IEVUSCAoZ2FzIGNvbW1pc3Npb24pCiAgICAgICAgcmVxdWlyZShzdWIodmFsdWUsIG1zZy52YWx1ZSkgPD0gd2l0aERlY2ltYWxzKDUsIDE1KSk7CgogICAgICAgIC8vIE51bWJlciBvZiB0b2tlbnMgdG8gZGlzdHJpYnV0ZQogICAgICAgIHVpbnQyNTYgdG9rZW5zTnVtYmVyID0gZGl2KHdpdGhEZWNpbWFscyh2YWx1ZSwgZGVjaW1hbHMpLCB0b2tlblByaWNlKTsKCiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgZW5vdWdoIHRva2VucyBsZWZ0CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tpY29BbGxvY2F0aW9uXSA+PSB0b2tlbnNOdW1iZXIpOwoKICAgICAgICAvLyBTZW5kIEV0aGVyIHRvIHRoZSBtdWx0aXNpZwogICAgICAgIHJlcXVpcmUobXVsdGlzaWcuc2VuZChtc2cudmFsdWUpKTsKCiAgICAgICAgLy8gQWxsb2NhdGUgdG9rZW5zIHRvIGFuIGludmVzdG9yCiAgICAgICAgYmFsYW5jZXNbaWNvQWxsb2NhdGlvbl0gPSBzdWIoYmFsYW5jZXNbaWNvQWxsb2NhdGlvbl0sIHRva2Vuc051bWJlcik7CiAgICAgICAgYmFsYW5jZXNbaW52ZXN0b3JdID0gYWRkKGJhbGFuY2VzW2ljb0FsbG9jYXRpb25dLCB0b2tlbnNOdW1iZXIpOwogICAgICAgIFRyYW5zZmVyKGljb0FsbG9jYXRpb24sIGludmVzdG9yLCB0b2tlbnNOdW1iZXIpOwogICAgfQoKICAgIC8vLyBAZGV2IE92ZXJyaWRlcyBPd25lZC5zb2wgZnVuY3Rpb24KICAgIGZ1bmN0aW9uIGNvbmZpcm1Pd25lcnNoaXAoKQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlQb3RlbnRpYWxPd25lcgogICAgewogICAgICAgIC8vIEFsbG93IG5ldyBvd25lciB0byB3aXRoZHJhdyB0b2tlbnMgZnJvbSBGb3VuZGF0aW9uIHJlc2VydmUgYW5kCiAgICAgICAgLy8gcHJlSUNPIGFsbG9jYXRpb24gYWRkcmVzcwogICAgICAgIGFsbG93ZWRbZm91bmRhdGlvblJlc2VydmVdW3BvdGVudGlhbE93bmVyXSA9IGJhbGFuY2VPZihmb3VuZGF0aW9uUmVzZXJ2ZSk7CiAgICAgICAgYWxsb3dlZFtwcmVJY29BbGxvY2F0aW9uXVtwb3RlbnRpYWxPd25lcl0gPSBiYWxhbmNlT2YocHJlSWNvQWxsb2NhdGlvbik7CgogICAgICAgIC8vIEZvcmJpZCBvbGQgb3duZXIgdG8gd2l0aGRyYXcgdG9rZW5zIGZyb20gRm91bmRhdGlvbiByZXNlcnZlIGFuZAogICAgICAgIC8vIHByZUlDTyBhbGxvY2F0aW9uIGFkZHJlc3MKICAgICAgICBhbGxvd2VkW2ZvdW5kYXRpb25SZXNlcnZlXVtvd25lcl0gPSAwOwogICAgICAgIGFsbG93ZWRbcHJlSWNvQWxsb2NhdGlvbl1bb3duZXJdID0gMDsKCiAgICAgICAgLy8gQ2hhbmdlIG93bmVyCiAgICAgICAgc3VwZXIuY29uZmlybU93bmVyc2hpcCgpOwogICAgfQoKICAgIC8vLyBAZGV2IFdpdGhkcmF3cyB0b2tlbnMgZnJvbSBGb3VuZGF0aW9uIHJlc2VydmUKICAgIGZ1bmN0aW9uIHdpdGhkcmF3RnJvbVJlc2VydmUodWludCBhbW91bnQpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seU93bmVyCiAgICB7CiAgICAgICAgLy8gV2l0aGRyYXcgdG9rZW5zIGZyb20gRm91bmRhdGlvbiByZXNlcnZlIHRvIG11bHRpc2lnIGFkZHJlc3MKICAgICAgICByZXF1aXJlKHRyYW5zZmVyRnJvbShmb3VuZGF0aW9uUmVzZXJ2ZSwgbXVsdGlzaWcsIGFtb3VudCkpOwogICAgfQoKICAgIC8vLyBAZGV2IENoYW5nZXMgbXVsdGlzaWcgYWRkcmVzcwogICAgZnVuY3Rpb24gY2hhbmdlTXVsdGlzaWcoYWRkcmVzcyBfbXVsdGlzaWcpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seU93bmVyCiAgICB7CiAgICAgICAgbXVsdGlzaWcgPSBfbXVsdGlzaWc7CiAgICB9CgogICAgLy8vIEBkZXYgQnVybnMgdGhlIHJlc3Qgb2YgdGhlIHRva2VucyBhZnRlciB0aGUgY3Jvd2RzYWxlIGVuZAogICAgZnVuY3Rpb24gYnVybigpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seU93bmVyCiAgICAgICAgaWNvSXNDb21wbGV0ZWQKICAgIHsKICAgICAgICB0b3RhbFN1cHBseSA9IHN1Yih0b3RhbFN1cHBseSwgYmFsYW5jZU9mKGljb0FsbG9jYXRpb24pKTsKICAgICAgICBiYWxhbmNlc1tpY29BbGxvY2F0aW9uXSA9IDA7CiAgICB9Cn0='.
	

]
