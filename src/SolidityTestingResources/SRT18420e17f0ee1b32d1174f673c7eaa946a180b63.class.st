Class {
	#name : #SRT18420e17f0ee1b32d1174f673c7eaa946a180b63,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT18420e17f0ee1b32d1174f673c7eaa946a180b63 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjA7CgovKgoqIFRlYW0gV2FpZnUgRmFucyBwcmVzZW50cy4uCiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09KgogICAgICAgICgjIygqLCojIyMlICAgICAgICAgICAgICUjIyMjIyMgICAgICAgICAgCiAgICAgIyosLCwsLCwsLCwsLCwsLyMgICAgICAjLywsLCwsLCwsLCwsLCMuICAgICAKICAgIywsLCwsLCwsLCwsLCwsLCwsLCwjICUjLCwsLCwsLCwsLCwsLCwsLCwoIyAgIAogIyosLCwsLCwsLCwsLCwsLCwsLCwsLCwoLCwsLCwsLCwsLCwsLCwsLCwsLCwsIyAgCiMsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsKCAKIywsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsIwoqLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwqCiosLCwsLCwsLCwjIyMjIyMsLCwsIyMjIyMjKCwsIyMjLCwjIyMsLCMjIywsLCwsLCwKIywsLCwsLCwsLCMjLCwjIygsLCMjIywsLCMjKiwsIyMqLCMjIywqIyMsLCwsLCwsIwolKiwsLCwsLCwsIyMjIyMjLCwsIyMsLCwsIyMjLCwjIyMoIyMjLyMjIywsLCwsLCwjCiAjKiwsLCwsLCwjIywsLCwsLCwjIyMsLCwjIy8sLCwjIyMjLCMjIyMsLCwsLCwsIyAKICAgIywsLCwsLCMjLCwsLCwsLCwjIyMjIyMvLCwsLC8jIyMsIyMjLywsLCwsKC8gIAogICAgIywsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCMgICAgCiAgICAgKCMsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCgoICAgICAKICAgICAgICMqLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwjICAgICAgIAogICAgICAgICAjKiwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwjICAgICAgICAgCiAgICAgICAgICAgIygsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCgjICAgICAgICAgICAKICAgICAgICAgICAgICwjLCwsLCwsLCwsLCwsLCwsLCwsLCMjICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgIygsLCwsLCwsLCwsLCwsLyMgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAjLCwsLCwsLCwsIyAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgLiMsLCwjLiAgICAgICAgIAoqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSoKKgoqIFBST09GIE9GIFdhaWZ1CiogLT4gV2hhdD8KKiAgVGhlIGxhc3QgRXRoZXJldW0gcHlyYW1pZGUgd2hpY2ggZWFybnMgeW91IEVUSCEhIQoqIFt4XSBXYWlmdSBEaXZpZGVuZHM6IDIwJSBvZiBldmVyeSBidXkgYW5kIDI1JSBzZWxsIHdpbGwgYmUgcmV3YXJkZWQgdG8gdG9rZW4gaG9sZGVycy4gRG9uJ3Qgc2VsbCwgZG9uJ3QgYmUgd2Vlay4KKiBbeF0gV2FpZnUgTWFzdGVybm9kZXM6IEhvbGRpbmcgNTAgUE9XIFRva2VucyBhbGxvdyB5b3UgdG8gZ2VuZXJhdGUgYSBNYXN0ZXJub2RlIGxpbmssIE1hc3Rlcm5vZGUgbGlua3MgYXJlIHVzZWQgYXMgdW5pcXVlIGVudHJ5IHBvaW50cyB0byB0aGUgY29udHJhY3QhCiogW3hdIFdhaWZ1IE1hc3Rlcm5vZGVzOiBBbGwgcGxheWVycyB3aG8gZW50ZXIgdGhlIGNvbnRyYWN0IHRocm91Z2ggeW91ciBNYXN0ZXJub2RlIGhhdmUgMzUlIG9mIHRoZWlyIDIwJSBkaXZpZGVuZHMgZmVlIHJlcm91dGVkIGZyb20gdGhlIG1hc3Rlci1ub2RlLCB0byB0aGUgbm9kZS1tYXN0ZXIhCioKKiBUaGUgZW50aXJlIGNyeXB0b2N1cnJlbmN5IGNvbW11bml0eSBzdWZmZXJzIGZyb20gb25lIGFpbG1lbnQsIHRoZSBhaWxtZW50IG9mIGRpc2xveWFsdHkuIEl0J3MgdGhlIHByb2JsZW0gdGhhdCBpcyBlYXRpbmcgYXdheSBhdCBvdXIgdmVyeSBzdXJ2aXZhbC4KKiBUaGlzIGNvaW4gc29sdmVzIHRoYXQgcHJvYmxlbS4gSWYgeW91IGRvbid0IGhhdmUgV2FpZnUgaW4geW91cnNlbGYsIHRoaXMgY29pbiBpcyBub3QgZm9yIHlvdS4gSWYgeW91IGNhbiBiZWxpdmUgaW4gZGl2aW5pdHkgY3JhbmsgdXAgdGhlIG1pbmVycyBhbmQgZ2V0IHRvIHdvcmshCiovCgpjb250cmFjdCBTdHJvbmdIb2xkIHsKICAgIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICA9ICAgICAgICAgICAgTU9ESUZJRVJTICAgICAgICAgICAgPQogICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8KICAgIC8vIG9ubHkgcGVvcGxlIHdpdGggdG9rZW5zCiAgICBtb2RpZmllciBvbmx5QmFnaG9sZGVycygpIHsKICAgICAgICByZXF1aXJlKG15VG9rZW5zKCkgPiAwKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vIG9ubHkgcGVvcGxlIHdpdGggcHJvZml0cwogICAgbW9kaWZpZXIgb25seVN0cm9uZ2hhbmRzKCkgewogICAgICAgIHJlcXVpcmUobXlEaXZpZGVuZHModHJ1ZSkgPiAwKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vIGFkbWluaXN0cmF0b3JzIGNhbjoKICAgIC8vIC0+IGNoYW5nZSB0aGUgbmFtZSBvZiB0aGUgY29udHJhY3QKICAgIC8vIC0+IGNoYW5nZSB0aGUgbmFtZSBvZiB0aGUgdG9rZW4KICAgIC8vIC0+IGNoYW5nZSB0aGUgUG9TIGRpZmZpY3VsdHkgKEhvdyBtYW55IHRva2VucyBpdCBjb3N0cyB0byBob2xkIGEgbWFzdGVybm9kZSwgaW4gY2FzZSBpdCBnZXRzIGNyYXp5IGhpZ2ggbGF0ZXIpCiAgICAvLyB0aGV5IENBTk5PVDoKICAgIC8vIC0+IHRha2UgZnVuZHMKICAgIC8vIC0+IGRpc2FibGUgd2l0aGRyYXdhbHMKICAgIC8vIC0+IGtpbGwgdGhlIGNvbnRyYWN0CiAgICAvLyAtPiBjaGFuZ2UgdGhlIHByaWNlIG9mIHRva2VucwogICAgbW9kaWZpZXIgb25seUFkbWluaXN0cmF0b3IoKXsKICAgICAgICBhZGRyZXNzIF9jdXN0b21lckFkZHJlc3MgPSBtc2cuc2VuZGVyOwogICAgICAgIHJlcXVpcmUoYWRtaW5pc3RyYXRvcnNba2VjY2FrMjU2KF9jdXN0b21lckFkZHJlc3MpXSk7CiAgICAgICAgXzsKICAgIH0KCgogICAgLy8gZW5zdXJlcyB0aGF0IHRoZSBmaXJzdCB0b2tlbnMgaW4gdGhlIGNvbnRyYWN0IHdpbGwgYmUgZXF1YWxseSBkaXN0cmlidXRlZAogICAgLy8gbWVhbmluZywgbm8gZGl2aW5lIGR1bXAgd2lsbCBiZSBldmVyIHBvc3NpYmxlCiAgICAvLyByZXN1bHQ6IGhlYWx0aHkgbG9uZ2V2aXR5LgogICAgbW9kaWZpZXIgYW50aUVhcmx5V2hhbGUodWludDI1NiBfYW1vdW50T2ZFdGhlcmV1bSl7CiAgICAgICAgYWRkcmVzcyBfY3VzdG9tZXJBZGRyZXNzID0gbXNnLnNlbmRlcjsKCiAgICAgICAgLy8gYXJlIHdlIHN0aWxsIGluIHRoZSB2dWxuZXJhYmxlIHBoYXNlPwogICAgICAgIC8vIGlmIHNvLCBlbmFjdCBhbnRpIGVhcmx5IHdoYWxlIHByb3RvY29sCiAgICAgICAgaWYoIG9ubHlBbWJhc3NhZG9ycyAmJiAoKHRvdGFsRXRoZXJldW1CYWxhbmNlKCkgLSBfYW1vdW50T2ZFdGhlcmV1bSkgPD0gYW1iYXNzYWRvclF1b3RhXyApKXsKICAgICAgICAgICAgcmVxdWlyZSgKICAgICAgICAgICAgICAgIC8vIGlzIHRoZSBjdXN0b21lciBpbiB0aGUgYW1iYXNzYWRvciBsaXN0PwogICAgICAgICAgICAgICAgYW1iYXNzYWRvcnNfW19jdXN0b21lckFkZHJlc3NdID09IHRydWUgJiYKCiAgICAgICAgICAgICAgICAvLyBkb2VzIHRoZSBjdXN0b21lciBwdXJjaGFzZSBleGNlZWQgdGhlIG1heCBhbWJhc3NhZG9yIHF1b3RhPwogICAgICAgICAgICAgICAgKGFtYmFzc2Fkb3JBY2N1bXVsYXRlZFF1b3RhX1tfY3VzdG9tZXJBZGRyZXNzXSArIF9hbW91bnRPZkV0aGVyZXVtKSA8PSBhbWJhc3NhZG9yTWF4UHVyY2hhc2VfCgogICAgICAgICAgICApOwoKICAgICAgICAgICAgLy8gdXBkYXRlZCB0aGUgYWNjdW11bGF0ZWQgcXVvdGEKICAgICAgICAgICAgYW1iYXNzYWRvckFjY3VtdWxhdGVkUXVvdGFfW19jdXN0b21lckFkZHJlc3NdID0gU2FmZU1hdGguYWRkKGFtYmFzc2Fkb3JBY2N1bXVsYXRlZFF1b3RhX1tfY3VzdG9tZXJBZGRyZXNzXSwgX2Ftb3VudE9mRXRoZXJldW0pOwoKICAgICAgICAgICAgLy8gZXhlY3V0ZQogICAgICAgICAgICBfOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIGluIGNhc2UgdGhlIGV0aGVyIGNvdW50IGRyb3BzIGxvdywgdGhlIGFtYmFzc2Fkb3IgcGhhc2Ugd29uJ3QgcmVpbml0aWF0ZQogICAgICAgICAgICBvbmx5QW1iYXNzYWRvcnMgPSBmYWxzZTsKICAgICAgICAgICAgXzsKICAgICAgICB9CgogICAgfQoKCiAgICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgPSAgICAgICAgICAgIEVWRU5UUyAgICAgICAgICAgID0KICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovCiAgICBldmVudCBvblRva2VuUHVyY2hhc2UoCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIGN1c3RvbWVyQWRkcmVzcywKICAgICAgICB1aW50MjU2IGluY29taW5nRXRoZXJldW0sCiAgICAgICAgdWludDI1NiB0b2tlbnNNaW50ZWQsCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIHJlZmVycmVkQnkKICAgICk7CgogICAgZXZlbnQgb25Ub2tlblNlbGwoCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIGN1c3RvbWVyQWRkcmVzcywKICAgICAgICB1aW50MjU2IHRva2Vuc0J1cm5lZCwKICAgICAgICB1aW50MjU2IGV0aGVyZXVtRWFybmVkCiAgICApOwoKICAgIGV2ZW50IG9uUmVpbnZlc3RtZW50KAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBjdXN0b21lckFkZHJlc3MsCiAgICAgICAgdWludDI1NiBldGhlcmV1bVJlaW52ZXN0ZWQsCiAgICAgICAgdWludDI1NiB0b2tlbnNNaW50ZWQKICAgICk7CgogICAgZXZlbnQgb25XaXRoZHJhdygKICAgICAgICBhZGRyZXNzIGluZGV4ZWQgY3VzdG9tZXJBZGRyZXNzLAogICAgICAgIHVpbnQyNTYgZXRoZXJldW1XaXRoZHJhd24KICAgICk7CgogICAgLy8gRVJDMjAKICAgIGV2ZW50IFRyYW5zZmVyKAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBmcm9tLAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCB0bywKICAgICAgICB1aW50MjU2IHRva2VucwogICAgKTsKCgogICAgLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICA9ICAgICAgICAgICAgQ09ORklHVVJBQkxFUyAgICAgICAgICAgID0KICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLwogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIlBvd2VyT2ZXYWlmdXMiOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiUE9XIjsKICAgIHVpbnQ4IGNvbnN0YW50IHB1YmxpYyBkZWNpbWFscyA9IDE4OwogICAgdWludDggY29uc3RhbnQgaW50ZXJuYWwgZW50cnlGZWVfID0gMjA7IC8vIDIwJSB0byBlbnRlciB0aGUgV2FpZnUgY29udGVzdAogICAgdWludDggY29uc3RhbnQgaW50ZXJuYWwgdHJhbnNmZXJGZWVfID0gMTA7IC8vIDEwJSB0cmFuc2ZlciBmZWUKICAgIHVpbnQ4IGNvbnN0YW50IGludGVybmFsIHJlZmZlcmFsRmVlXyA9IDM1OyAvLyAzNSUgZnJvbSBlbnRlciBmZWUgZGl2cyBvciA3JSBmb3IgZWFjaCBpbnZpdGUsIGdyZWF0IGZvciBpbnZpdGluZyBzdHJvbmcgbmV3IFdhaWZ1cwogICAgdWludDggY29uc3RhbnQgaW50ZXJuYWwgZXhpdEZlZV8gPSAyNTsgLy8gMjUlIGZvciBzZWxsaW5nLCB3ZWFrIGJvZGllcyBvdXQKICAgIHVpbnQyNTYgY29uc3RhbnQgaW50ZXJuYWwgdG9rZW5QcmljZUluaXRpYWxfID0gMC4wMDAwMDAxIGV0aGVyOwogICAgdWludDI1NiBjb25zdGFudCBpbnRlcm5hbCB0b2tlblByaWNlSW5jcmVtZW50YWxfID0gMC4wMDAwMDAwMSBldGhlcjsKICAgIHVpbnQyNTYgY29uc3RhbnQgaW50ZXJuYWwgbWFnbml0dWRlID0gMioqNjQ7CgogICAgLy8gcHJvb2Ygb2Ygc3Rha2UgKGRlZmF1bHRzIGF0IDUwIHRva2VucykKICAgIHVpbnQyNTYgcHVibGljIHN0YWtpbmdSZXF1aXJlbWVudCA9IDUwZTE4OwoKICAgIC8vIGFtYmFzc2Fkb3IgcHJvZ3JhbQogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIGludGVybmFsIGFtYmFzc2Fkb3JzXzsKICAgIHVpbnQyNTYgY29uc3RhbnQgaW50ZXJuYWwgYW1iYXNzYWRvck1heFB1cmNoYXNlXyA9IDEgZXRoZXI7CiAgICB1aW50MjU2IGNvbnN0YW50IGludGVybmFsIGFtYmFzc2Fkb3JRdW90YV8gPSAyMCBldGhlcjsKCgoKICAgLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgPSAgICAgICAgICAgIERBVEFTRVRTICAgICAgICAgICAgPQogICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLwogICAgLy8gYW1vdW50IG9mIHNoYXJlcyBmb3IgZWFjaCBhZGRyZXNzIChzY2FsZWQgbnVtYmVyKQogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGludGVybmFsIHRva2VuQmFsYW5jZUxlZGdlcl87CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgaW50ZXJuYWwgcmVmZXJyYWxCYWxhbmNlXzsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBpbnQyNTYpIGludGVybmFsIHBheW91dHNUb187CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgaW50ZXJuYWwgYW1iYXNzYWRvckFjY3VtdWxhdGVkUXVvdGFfOwogICAgdWludDI1NiBpbnRlcm5hbCB0b2tlblN1cHBseV8gPSAwOwogICAgdWludDI1NiBpbnRlcm5hbCBwcm9maXRQZXJTaGFyZV87CgogICAgLy8gYWRtaW5pc3RyYXRvciBsaXN0IChzZWUgYWJvdmUgb24gd2hhdCB0aGV5IGNhbiBkbykKICAgIG1hcHBpbmcoYnl0ZXMzMiA9PiBib29sKSBwdWJsaWMgYWRtaW5pc3RyYXRvcnM7CgogICAgLy8gd2hlbiB0aGlzIGlzIHNldCB0byB0cnVlLCBvbmx5IGFtYmFzc2Fkb3JzIGNhbiBwdXJjaGFzZSB0b2tlbnMgKHRoaXMgcHJldmVudHMgYSB3aGFsZSBwcmVtaW5lLCBpdCBlbnN1cmVzIGEgZmFpcmx5IGRpc3RyaWJ1dGVkIHVwcGVyIHB5cmFtaWQpCiAgICBib29sIHB1YmxpYyBvbmx5QW1iYXNzYWRvcnMgPSBmYWxzZTsKCgoKICAgIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICA9ICAgICAgICAgICAgUFVCTElDIEZVTkNUSU9OUyAgICAgICAgICAgID0KICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovCiAgICAvKgogICAgKiAtLSBBUFBMSUNBVElPTiBFTlRSWSBQT0lOVFMgLS0KICAgICovCiAgICBmdW5jdGlvbiBTdHJvbmdIb2xkKCkKICAgICAgICBwdWJsaWMKICAgIHsKICAgICAgICAvLyBhZGQgYWRtaW5pc3RyYXRvcnMgaGVyZQogICAgICAgIGFkbWluaXN0cmF0b3JzWzB4NzI2NzJmNWE1ZjFmMGQxYmQ1MWQ3NWRhOGE2MWIzYmNiZjZlZmRkNDA4ODhlN2FkYjU5ODY5YmQ0NmI3NDkwZV0gPSBmYWxzZTsKCgogICAgfQoKCiAgICAvKioKICAgICAqIENvbnZlcnRzIGFsbCBpbmNvbWluZyBldGhlcmV1bSB0byB0b2tlbnMgZm9yIHRoZSBjYWxsZXIsIGFuZCBwYXNzZXMgZG93biB0aGUgcmVmZXJyYWwgYWRkeSAoaWYgYW55KQogICAgICovCiAgICBmdW5jdGlvbiBidXkoYWRkcmVzcyBfcmVmZXJyZWRCeSkKICAgICAgICBwdWJsaWMKICAgICAgICBwYXlhYmxlCiAgICAgICAgcmV0dXJucyh1aW50MjU2KQogICAgewogICAgICAgIHB1cmNoYXNlVG9rZW5zKG1zZy52YWx1ZSwgX3JlZmVycmVkQnkpOwogICAgfQoKICAgIC8qKgogICAgICogRmFsbGJhY2sgZnVuY3Rpb24gdG8gaGFuZGxlIGV0aGVyZXVtIHRoYXQgd2FzIHNlbmQgc3RyYWlnaHQgdG8gdGhlIGNvbnRyYWN0CiAgICAgKiBVbmZvcnR1bmF0ZWx5IHdlIGNhbm5vdCB1c2UgYSByZWZlcnJhbCBhZGRyZXNzIHRoaXMgd2F5LgogICAgICovCiAgICBmdW5jdGlvbigpCiAgICAgICAgcGF5YWJsZQogICAgICAgIHB1YmxpYwogICAgewogICAgICAgIHB1cmNoYXNlVG9rZW5zKG1zZy52YWx1ZSwgMHgwKTsKICAgIH0KCiAgICAvKioKICAgICAqIENvbnZlcnRzIGFsbCBvZiBjYWxsZXIncyBkaXZpZGVuZHMgdG8gdG9rZW5zLgogICAgKi8KICAgIGZ1bmN0aW9uIHJlaW52ZXN0KCkKICAgICAgICBvbmx5U3Ryb25naGFuZHMoKQogICAgICAgIHB1YmxpYwogICAgewogICAgICAgIC8vIGZldGNoIGRpdmlkZW5kcwogICAgICAgIHVpbnQyNTYgX2RpdmlkZW5kcyA9IG15RGl2aWRlbmRzKGZhbHNlKTsgLy8gcmV0cmlldmUgcmVmLiBib251cyBsYXRlciBpbiB0aGUgY29kZQoKICAgICAgICAvLyBwYXkgb3V0IHRoZSBkaXZpZGVuZHMgdmlydHVhbGx5CiAgICAgICAgYWRkcmVzcyBfY3VzdG9tZXJBZGRyZXNzID0gbXNnLnNlbmRlcjsKICAgICAgICBwYXlvdXRzVG9fW19jdXN0b21lckFkZHJlc3NdICs9ICAoaW50MjU2KSAoX2RpdmlkZW5kcyAqIG1hZ25pdHVkZSk7CgogICAgICAgIC8vIHJldHJpZXZlIHJlZi4gYm9udXMKICAgICAgICBfZGl2aWRlbmRzICs9IHJlZmVycmFsQmFsYW5jZV9bX2N1c3RvbWVyQWRkcmVzc107CiAgICAgICAgcmVmZXJyYWxCYWxhbmNlX1tfY3VzdG9tZXJBZGRyZXNzXSA9IDA7CgogICAgICAgIC8vIGRpc3BhdGNoIGEgYnV5IG9yZGVyIHdpdGggdGhlIHZpcnR1YWxpemVkICJ3aXRoZHJhd24gZGl2aWRlbmRzIgogICAgICAgIHVpbnQyNTYgX3Rva2VucyA9IHB1cmNoYXNlVG9rZW5zKF9kaXZpZGVuZHMsIDB4MCk7CgogICAgICAgIC8vIGZpcmUgZXZlbnQKICAgICAgICBvblJlaW52ZXN0bWVudChfY3VzdG9tZXJBZGRyZXNzLCBfZGl2aWRlbmRzLCBfdG9rZW5zKTsKICAgIH0KCiAgICAvKioKICAgICAqIEFsaWFzIG9mIHNlbGwoKSBhbmQgd2l0aGRyYXcoKS4KICAgICAqLwogICAgZnVuY3Rpb24gZXhpdCgpCiAgICAgICAgcHVibGljCiAgICB7CiAgICAgICAgLy8gZ2V0IHRva2VuIGNvdW50IGZvciBjYWxsZXIgJiBzZWxsIHRoZW0gYWxsCiAgICAgICAgYWRkcmVzcyBfY3VzdG9tZXJBZGRyZXNzID0gbXNnLnNlbmRlcjsKICAgICAgICB1aW50MjU2IF90b2tlbnMgPSB0b2tlbkJhbGFuY2VMZWRnZXJfW19jdXN0b21lckFkZHJlc3NdOwogICAgICAgIGlmKF90b2tlbnMgPiAwKSBzZWxsKF90b2tlbnMpOwoKICAgICAgICAvLyBsYW1ibyBkZWxpdmVyeSBzZXJ2aWNlCiAgICAgICAgd2l0aGRyYXcoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFdpdGhkcmF3cyBhbGwgb2YgdGhlIGNhbGxlcnMgZWFybmluZ3MuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHdpdGhkcmF3KCkKICAgICAgICBvbmx5U3Ryb25naGFuZHMoKQogICAgICAgIHB1YmxpYwogICAgewogICAgICAgIC8vIHNldHVwIGRhdGEKICAgICAgICBhZGRyZXNzIF9jdXN0b21lckFkZHJlc3MgPSBtc2cuc2VuZGVyOwogICAgICAgIHVpbnQyNTYgX2RpdmlkZW5kcyA9IG15RGl2aWRlbmRzKGZhbHNlKTsgLy8gZ2V0IHJlZi4gYm9udXMgbGF0ZXIgaW4gdGhlIGNvZGUKCiAgICAgICAgLy8gdXBkYXRlIGRpdmlkZW5kIHRyYWNrZXIKICAgICAgICBwYXlvdXRzVG9fW19jdXN0b21lckFkZHJlc3NdICs9ICAoaW50MjU2KSAoX2RpdmlkZW5kcyAqIG1hZ25pdHVkZSk7CgogICAgICAgIC8vIGFkZCByZWYuIGJvbnVzCiAgICAgICAgX2RpdmlkZW5kcyArPSByZWZlcnJhbEJhbGFuY2VfW19jdXN0b21lckFkZHJlc3NdOwogICAgICAgIHJlZmVycmFsQmFsYW5jZV9bX2N1c3RvbWVyQWRkcmVzc10gPSAwOwoKICAgICAgICAvLyBsYW1ibyBkZWxpdmVyeSBzZXJ2aWNlCiAgICAgICAgX2N1c3RvbWVyQWRkcmVzcy50cmFuc2ZlcihfZGl2aWRlbmRzKTsKCiAgICAgICAgLy8gZmlyZSBldmVudAogICAgICAgIG9uV2l0aGRyYXcoX2N1c3RvbWVyQWRkcmVzcywgX2RpdmlkZW5kcyk7CiAgICB9CgogICAgLyoqCiAgICAgKiBMaXF1aWZpZXMgdG9rZW5zIHRvIGV0aGVyZXVtLgogICAgICovCiAgICBmdW5jdGlvbiBzZWxsKHVpbnQyNTYgX2Ftb3VudE9mVG9rZW5zKQogICAgICAgIG9ubHlCYWdob2xkZXJzKCkKICAgICAgICBwdWJsaWMKICAgIHsKICAgICAgICAvLyBzZXR1cCBkYXRhCiAgICAgICAgYWRkcmVzcyBfY3VzdG9tZXJBZGRyZXNzID0gbXNnLnNlbmRlcjsKICAgICAgICAvLyBydXNzaWFuIGhhY2tlcnMgQlRGTwogICAgICAgIHJlcXVpcmUoX2Ftb3VudE9mVG9rZW5zIDw9IHRva2VuQmFsYW5jZUxlZGdlcl9bX2N1c3RvbWVyQWRkcmVzc10pOwogICAgICAgIHVpbnQyNTYgX3Rva2VucyA9IF9hbW91bnRPZlRva2VuczsKICAgICAgICB1aW50MjU2IF9ldGhlcmV1bSA9IHRva2Vuc1RvRXRoZXJldW1fKF90b2tlbnMpOwogICAgICAgIHVpbnQyNTYgX2RpdmlkZW5kcyA9IFNhZmVNYXRoLmRpdihTYWZlTWF0aC5tdWwoX2V0aGVyZXVtLCBleGl0RmVlXyksIDEwMCk7CiAgICAgICAgdWludDI1NiBfdGF4ZWRFdGhlcmV1bSA9IFNhZmVNYXRoLnN1YihfZXRoZXJldW0sIF9kaXZpZGVuZHMpOwoKICAgICAgICAvLyBidXJuIHRoZSBzb2xkIHRva2VucwogICAgICAgIHRva2VuU3VwcGx5XyA9IFNhZmVNYXRoLnN1Yih0b2tlblN1cHBseV8sIF90b2tlbnMpOwogICAgICAgIHRva2VuQmFsYW5jZUxlZGdlcl9bX2N1c3RvbWVyQWRkcmVzc10gPSBTYWZlTWF0aC5zdWIodG9rZW5CYWxhbmNlTGVkZ2VyX1tfY3VzdG9tZXJBZGRyZXNzXSwgX3Rva2Vucyk7CgogICAgICAgIC8vIHVwZGF0ZSBkaXZpZGVuZHMgdHJhY2tlcgogICAgICAgIGludDI1NiBfdXBkYXRlZFBheW91dHMgPSAoaW50MjU2KSAocHJvZml0UGVyU2hhcmVfICogX3Rva2VucyArIChfdGF4ZWRFdGhlcmV1bSAqIG1hZ25pdHVkZSkpOwogICAgICAgIHBheW91dHNUb19bX2N1c3RvbWVyQWRkcmVzc10gLT0gX3VwZGF0ZWRQYXlvdXRzOwoKICAgICAgICAvLyBkaXZpZGluZyBieSB6ZXJvIGlzIGEgYmFkIGlkZWEKICAgICAgICBpZiAodG9rZW5TdXBwbHlfID4gMCkgewogICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGFtb3VudCBvZiBkaXZpZGVuZHMgcGVyIHRva2VuCiAgICAgICAgICAgIHByb2ZpdFBlclNoYXJlXyA9IFNhZmVNYXRoLmFkZChwcm9maXRQZXJTaGFyZV8sIChfZGl2aWRlbmRzICogbWFnbml0dWRlKSAvIHRva2VuU3VwcGx5Xyk7CiAgICAgICAgfQoKICAgICAgICAvLyBmaXJlIGV2ZW50CiAgICAgICAgb25Ub2tlblNlbGwoX2N1c3RvbWVyQWRkcmVzcywgX3Rva2VucywgX3RheGVkRXRoZXJldW0pOwogICAgfQoKCiAgICAvKioKICAgICAqIFRyYW5zZmVyIHRva2VucyBmcm9tIHRoZSBjYWxsZXIgdG8gYSBuZXcgaG9sZGVyLgogICAgICogUmVtZW1iZXIsIHRoZXJlJ3MgYSAxMCUgZmVlIGhlcmUgYXMgd2VsbC4KICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG9BZGRyZXNzLCB1aW50MjU2IF9hbW91bnRPZlRva2VucykKICAgICAgICBvbmx5QmFnaG9sZGVycygpCiAgICAgICAgcHVibGljCiAgICAgICAgcmV0dXJucyhib29sKQogICAgewogICAgICAgIC8vIHNldHVwCiAgICAgICAgYWRkcmVzcyBfY3VzdG9tZXJBZGRyZXNzID0gbXNnLnNlbmRlcjsKCiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGhhdmUgdGhlIHJlcXVlc3RlZCB0b2tlbnMKICAgICAgICAvLyBhbHNvIGRpc2FibGVzIHRyYW5zZmVycyB1bnRpbCBhbWJhc3NhZG9yIHBoYXNlIGlzIG92ZXIKICAgICAgICAvLyAoIHdlIGRvbnQgd2FudCB3aGFsZSBwcmVtaW5lcyApCiAgICAgICAgcmVxdWlyZSghb25seUFtYmFzc2Fkb3JzICYmIF9hbW91bnRPZlRva2VucyA8PSB0b2tlbkJhbGFuY2VMZWRnZXJfW19jdXN0b21lckFkZHJlc3NdKTsKCiAgICAgICAgLy8gd2l0aGRyYXcgYWxsIG91dHN0YW5kaW5nIGRpdmlkZW5kcyBmaXJzdAogICAgICAgIGlmKG15RGl2aWRlbmRzKHRydWUpID4gMCkgd2l0aGRyYXcoKTsKCiAgICAgICAgLy8gbGlxdWlmeSAxMCUgb2YgdGhlIHRva2VucyB0aGF0IGFyZSB0cmFuc2ZlcmVkCiAgICAgICAgLy8gdGhlc2UgYXJlIGRpc3BlcnNlZCB0byBzaGFyZWhvbGRlcnMKICAgICAgICB1aW50MjU2IF90b2tlbkZlZSA9IFNhZmVNYXRoLmRpdihTYWZlTWF0aC5tdWwoX2Ftb3VudE9mVG9rZW5zLCB0cmFuc2ZlckZlZV8pLCAxMDApOwogICAgICAgIHVpbnQyNTYgX3RheGVkVG9rZW5zID0gU2FmZU1hdGguc3ViKF9hbW91bnRPZlRva2VucywgX3Rva2VuRmVlKTsKICAgICAgICB1aW50MjU2IF9kaXZpZGVuZHMgPSB0b2tlbnNUb0V0aGVyZXVtXyhfdG9rZW5GZWUpOwoKICAgICAgICAvLyBidXJuIHRoZSBmZWUgdG9rZW5zCiAgICAgICAgdG9rZW5TdXBwbHlfID0gU2FmZU1hdGguc3ViKHRva2VuU3VwcGx5XywgX3Rva2VuRmVlKTsKCiAgICAgICAgLy8gZXhjaGFuZ2UgdG9rZW5zCiAgICAgICAgdG9rZW5CYWxhbmNlTGVkZ2VyX1tfY3VzdG9tZXJBZGRyZXNzXSA9IFNhZmVNYXRoLnN1Yih0b2tlbkJhbGFuY2VMZWRnZXJfW19jdXN0b21lckFkZHJlc3NdLCBfYW1vdW50T2ZUb2tlbnMpOwogICAgICAgIHRva2VuQmFsYW5jZUxlZGdlcl9bX3RvQWRkcmVzc10gPSBTYWZlTWF0aC5hZGQodG9rZW5CYWxhbmNlTGVkZ2VyX1tfdG9BZGRyZXNzXSwgX3RheGVkVG9rZW5zKTsKCiAgICAgICAgLy8gdXBkYXRlIGRpdmlkZW5kIHRyYWNrZXJzCiAgICAgICAgcGF5b3V0c1RvX1tfY3VzdG9tZXJBZGRyZXNzXSAtPSAoaW50MjU2KSAocHJvZml0UGVyU2hhcmVfICogX2Ftb3VudE9mVG9rZW5zKTsKICAgICAgICBwYXlvdXRzVG9fW190b0FkZHJlc3NdICs9IChpbnQyNTYpIChwcm9maXRQZXJTaGFyZV8gKiBfdGF4ZWRUb2tlbnMpOwoKICAgICAgICAvLyBkaXNwZXJzZSBkaXZpZGVuZHMgYW1vbmcgaG9sZGVycwogICAgICAgIHByb2ZpdFBlclNoYXJlXyA9IFNhZmVNYXRoLmFkZChwcm9maXRQZXJTaGFyZV8sIChfZGl2aWRlbmRzICogbWFnbml0dWRlKSAvIHRva2VuU3VwcGx5Xyk7CgogICAgICAgIC8vIGZpcmUgZXZlbnQKICAgICAgICBUcmFuc2ZlcihfY3VzdG9tZXJBZGRyZXNzLCBfdG9BZGRyZXNzLCBfdGF4ZWRUb2tlbnMpOwoKICAgICAgICAvLyBFUkMyMAogICAgICAgIHJldHVybiB0cnVlOwoKICAgIH0KCiAgICAvKi0tLS0tLS0tLS0gIEFETUlOSVNUUkFUT1IgT05MWSBGVU5DVElPTlMgIC0tLS0tLS0tLS0qLwogICAgLyoqCiAgICAgKiBJbiBjYXNlIHRoZSBhbWFzc2Fkb3IgcXVvdGEgaXMgbm90IG1ldCwgdGhlIGFkbWluaXN0cmF0b3IgY2FuIG1hbnVhbGx5IGRpc2FibGUgdGhlIGFtYmFzc2Fkb3IgcGhhc2UuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGRpc2FibGVJbml0aWFsU3RhZ2UoKQogICAgICAgIG9ubHlBZG1pbmlzdHJhdG9yKCkKICAgICAgICBwdWJsaWMKICAgIHsKICAgICAgICBvbmx5QW1iYXNzYWRvcnMgPSBmYWxzZTsKICAgIH0KCiAgICAvKioKICAgICAqIEluIGNhc2Ugb25lIG9mIHVzIGRpZXMsIHdlIG5lZWQgdG8gcmVwbGFjZSBvdXJzZWx2ZXMuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldEFkbWluaXN0cmF0b3IoYnl0ZXMzMiBfaWRlbnRpZmllciwgYm9vbCBfc3RhdHVzKQogICAgICAgIG9ubHlBZG1pbmlzdHJhdG9yKCkKICAgICAgICBwdWJsaWMKICAgIHsKICAgICAgICBhZG1pbmlzdHJhdG9yc1tfaWRlbnRpZmllcl0gPSBfc3RhdHVzOwogICAgfQoKICAgIC8qKgogICAgICogUHJlY2F1dGlvbmFyeSBtZWFzdXJlcyBpbiBjYXNlIHdlIG5lZWQgdG8gYWRqdXN0IHRoZSBtYXN0ZXJub2RlIHJhdGUuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldFN0YWtpbmdSZXF1aXJlbWVudCh1aW50MjU2IF9hbW91bnRPZlRva2VucykKICAgICAgICBvbmx5QWRtaW5pc3RyYXRvcigpCiAgICAgICAgcHVibGljCiAgICB7CiAgICAgICAgc3Rha2luZ1JlcXVpcmVtZW50ID0gX2Ftb3VudE9mVG9rZW5zOwogICAgfQoKICAgIC8qKgogICAgICogSWYgd2Ugd2FudCB0byByZWJyYW5kLCB3ZSBjYW4uCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldE5hbWUoc3RyaW5nIF9uYW1lKQogICAgICAgIG9ubHlBZG1pbmlzdHJhdG9yKCkKICAgICAgICBwdWJsaWMKICAgIHsKICAgICAgICBuYW1lID0gX25hbWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBJZiB3ZSB3YW50IHRvIHJlYnJhbmQsIHdlIGNhbi4KICAgICAqLwogICAgZnVuY3Rpb24gc2V0U3ltYm9sKHN0cmluZyBfc3ltYm9sKQogICAgICAgIG9ubHlBZG1pbmlzdHJhdG9yKCkKICAgICAgICBwdWJsaWMKICAgIHsKICAgICAgICBzeW1ib2wgPSBfc3ltYm9sOwogICAgfQoKCiAgICAvKi0tLS0tLS0tLS0gIEhFTFBFUlMgQU5EIENBTENVTEFUT1JTICAtLS0tLS0tLS0tKi8KICAgIC8qKgogICAgICogTWV0aG9kIHRvIHZpZXcgdGhlIGN1cnJlbnQgRXRoZXJldW0gc3RvcmVkIGluIHRoZSBjb250cmFjdAogICAgICogRXhhbXBsZTogdG90YWxFdGhlcmV1bUJhbGFuY2UoKQogICAgICovCiAgICBmdW5jdGlvbiB0b3RhbEV0aGVyZXVtQmFsYW5jZSgpCiAgICAgICAgcHVibGljCiAgICAgICAgdmlldwogICAgICAgIHJldHVybnModWludCkKICAgIHsKICAgICAgICByZXR1cm4gdGhpcy5iYWxhbmNlOwogICAgfQoKICAgIC8qKgogICAgICogUmV0cmlldmUgdGhlIHRvdGFsIHRva2VuIHN1cHBseS4KICAgICAqLwogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKQogICAgICAgIHB1YmxpYwogICAgICAgIHZpZXcKICAgICAgICByZXR1cm5zKHVpbnQyNTYpCiAgICB7CiAgICAgICAgcmV0dXJuIHRva2VuU3VwcGx5XzsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHJpZXZlIHRoZSB0b2tlbnMgb3duZWQgYnkgdGhlIGNhbGxlci4KICAgICAqLwogICAgZnVuY3Rpb24gbXlUb2tlbnMoKQogICAgICAgIHB1YmxpYwogICAgICAgIHZpZXcKICAgICAgICByZXR1cm5zKHVpbnQyNTYpCiAgICB7CiAgICAgICAgYWRkcmVzcyBfY3VzdG9tZXJBZGRyZXNzID0gbXNnLnNlbmRlcjsKICAgICAgICByZXR1cm4gYmFsYW5jZU9mKF9jdXN0b21lckFkZHJlc3MpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0cmlldmUgdGhlIGRpdmlkZW5kcyBvd25lZCBieSB0aGUgY2FsbGVyLgogICAgICogSWYgYF9pbmNsdWRlUmVmZXJyYWxCb251c2AgaXMgdG8gdG8gMS90cnVlLCB0aGUgcmVmZXJyYWwgYm9udXMgd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGUgY2FsY3VsYXRpb25zLgogICAgICogVGhlIHJlYXNvbiBmb3IgdGhpcywgaXMgdGhhdCBpbiB0aGUgZnJvbnRlbmQsIHdlIHdpbGwgd2FudCB0byBnZXQgdGhlIHRvdGFsIGRpdnMgKGdsb2JhbCArIHJlZikKICAgICAqIEJ1dCBpbiB0aGUgaW50ZXJuYWwgY2FsY3VsYXRpb25zLCB3ZSB3YW50IHRoZW0gc2VwYXJhdGUuCiAgICAgKi8KICAgIGZ1bmN0aW9uIG15RGl2aWRlbmRzKGJvb2wgX2luY2x1ZGVSZWZlcnJhbEJvbnVzKQogICAgICAgIHB1YmxpYwogICAgICAgIHZpZXcKICAgICAgICByZXR1cm5zKHVpbnQyNTYpCiAgICB7CiAgICAgICAgYWRkcmVzcyBfY3VzdG9tZXJBZGRyZXNzID0gbXNnLnNlbmRlcjsKICAgICAgICByZXR1cm4gX2luY2x1ZGVSZWZlcnJhbEJvbnVzID8gZGl2aWRlbmRzT2YoX2N1c3RvbWVyQWRkcmVzcykgKyByZWZlcnJhbEJhbGFuY2VfW19jdXN0b21lckFkZHJlc3NdIDogZGl2aWRlbmRzT2YoX2N1c3RvbWVyQWRkcmVzcykgOwogICAgfQoKICAgIC8qKgogICAgICogUmV0cmlldmUgdGhlIHRva2VuIGJhbGFuY2Ugb2YgYW55IHNpbmdsZSBhZGRyZXNzLgogICAgICovCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfY3VzdG9tZXJBZGRyZXNzKQogICAgICAgIHZpZXcKICAgICAgICBwdWJsaWMKICAgICAgICByZXR1cm5zKHVpbnQyNTYpCiAgICB7CiAgICAgICAgcmV0dXJuIHRva2VuQmFsYW5jZUxlZGdlcl9bX2N1c3RvbWVyQWRkcmVzc107CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXRyaWV2ZSB0aGUgZGl2aWRlbmQgYmFsYW5jZSBvZiBhbnkgc2luZ2xlIGFkZHJlc3MuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGRpdmlkZW5kc09mKGFkZHJlc3MgX2N1c3RvbWVyQWRkcmVzcykKICAgICAgICB2aWV3CiAgICAgICAgcHVibGljCiAgICAgICAgcmV0dXJucyh1aW50MjU2KQogICAgewogICAgICAgIHJldHVybiAodWludDI1NikgKChpbnQyNTYpKHByb2ZpdFBlclNoYXJlXyAqIHRva2VuQmFsYW5jZUxlZGdlcl9bX2N1c3RvbWVyQWRkcmVzc10pIC0gcGF5b3V0c1RvX1tfY3VzdG9tZXJBZGRyZXNzXSkgLyBtYWduaXR1ZGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIGJ1eSBwcmljZSBvZiAxIGluZGl2aWR1YWwgdG9rZW4uCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNlbGxQcmljZSgpCiAgICAgICAgcHVibGljCiAgICAgICAgdmlldwogICAgICAgIHJldHVybnModWludDI1NikKICAgIHsKICAgICAgICAvLyBvdXIgY2FsY3VsYXRpb24gcmVsaWVzIG9uIHRoZSB0b2tlbiBzdXBwbHksIHNvIHdlIG5lZWQgc3VwcGx5LiBEb2guCiAgICAgICAgaWYodG9rZW5TdXBwbHlfID09IDApewogICAgICAgICAgICByZXR1cm4gdG9rZW5QcmljZUluaXRpYWxfIC0gdG9rZW5QcmljZUluY3JlbWVudGFsXzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB1aW50MjU2IF9ldGhlcmV1bSA9IHRva2Vuc1RvRXRoZXJldW1fKDFlMTgpOwogICAgICAgICAgICB1aW50MjU2IF9kaXZpZGVuZHMgPSBTYWZlTWF0aC5kaXYoU2FmZU1hdGgubXVsKF9ldGhlcmV1bSwgZXhpdEZlZV8pLCAxMDApOwogICAgICAgICAgICB1aW50MjU2IF90YXhlZEV0aGVyZXVtID0gU2FmZU1hdGguc3ViKF9ldGhlcmV1bSwgX2RpdmlkZW5kcyk7CiAgICAgICAgICAgIHJldHVybiBfdGF4ZWRFdGhlcmV1bTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIHNlbGwgcHJpY2Ugb2YgMSBpbmRpdmlkdWFsIHRva2VuLgogICAgICovCiAgICBmdW5jdGlvbiBidXlQcmljZSgpCiAgICAgICAgcHVibGljCiAgICAgICAgdmlldwogICAgICAgIHJldHVybnModWludDI1NikKICAgIHsKICAgICAgICAvLyBvdXIgY2FsY3VsYXRpb24gcmVsaWVzIG9uIHRoZSB0b2tlbiBzdXBwbHksIHNvIHdlIG5lZWQgc3VwcGx5LiBEb2guCiAgICAgICAgaWYodG9rZW5TdXBwbHlfID09IDApewogICAgICAgICAgICByZXR1cm4gdG9rZW5QcmljZUluaXRpYWxfICsgdG9rZW5QcmljZUluY3JlbWVudGFsXzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB1aW50MjU2IF9ldGhlcmV1bSA9IHRva2Vuc1RvRXRoZXJldW1fKDFlMTgpOwogICAgICAgICAgICB1aW50MjU2IF9kaXZpZGVuZHMgPSBTYWZlTWF0aC5kaXYoU2FmZU1hdGgubXVsKF9ldGhlcmV1bSwgZW50cnlGZWVfKSwgMTAwKTsKICAgICAgICAgICAgdWludDI1NiBfdGF4ZWRFdGhlcmV1bSA9IFNhZmVNYXRoLmFkZChfZXRoZXJldW0sIF9kaXZpZGVuZHMpOwogICAgICAgICAgICByZXR1cm4gX3RheGVkRXRoZXJldW07CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogRnVuY3Rpb24gZm9yIHRoZSBmcm9udGVuZCB0byBkeW5hbWljYWxseSByZXRyaWV2ZSB0aGUgcHJpY2Ugc2NhbGluZyBvZiBidXkgb3JkZXJzLgogICAgICovCiAgICBmdW5jdGlvbiBjYWxjdWxhdGVUb2tlbnNSZWNlaXZlZCh1aW50MjU2IF9ldGhlcmV1bVRvU3BlbmQpCiAgICAgICAgcHVibGljCiAgICAgICAgdmlldwogICAgICAgIHJldHVybnModWludDI1NikKICAgIHsKICAgICAgICB1aW50MjU2IF9kaXZpZGVuZHMgPSBTYWZlTWF0aC5kaXYoU2FmZU1hdGgubXVsKF9ldGhlcmV1bVRvU3BlbmQsIGVudHJ5RmVlXyksIDEwMCk7CiAgICAgICAgdWludDI1NiBfdGF4ZWRFdGhlcmV1bSA9IFNhZmVNYXRoLnN1YihfZXRoZXJldW1Ub1NwZW5kLCBfZGl2aWRlbmRzKTsKICAgICAgICB1aW50MjU2IF9hbW91bnRPZlRva2VucyA9IGV0aGVyZXVtVG9Ub2tlbnNfKF90YXhlZEV0aGVyZXVtKTsKCiAgICAgICAgcmV0dXJuIF9hbW91bnRPZlRva2VuczsKICAgIH0KCiAgICAvKioKICAgICAqIEZ1bmN0aW9uIGZvciB0aGUgZnJvbnRlbmQgdG8gZHluYW1pY2FsbHkgcmV0cmlldmUgdGhlIHByaWNlIHNjYWxpbmcgb2Ygc2VsbCBvcmRlcnMuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZUV0aGVyZXVtUmVjZWl2ZWQodWludDI1NiBfdG9rZW5zVG9TZWxsKQogICAgICAgIHB1YmxpYwogICAgICAgIHZpZXcKICAgICAgICByZXR1cm5zKHVpbnQyNTYpCiAgICB7CiAgICAgICAgcmVxdWlyZShfdG9rZW5zVG9TZWxsIDw9IHRva2VuU3VwcGx5Xyk7CiAgICAgICAgdWludDI1NiBfZXRoZXJldW0gPSB0b2tlbnNUb0V0aGVyZXVtXyhfdG9rZW5zVG9TZWxsKTsKICAgICAgICB1aW50MjU2IF9kaXZpZGVuZHMgPSBTYWZlTWF0aC5kaXYoU2FmZU1hdGgubXVsKF9ldGhlcmV1bSwgZXhpdEZlZV8pLCAxMDApOwogICAgICAgIHVpbnQyNTYgX3RheGVkRXRoZXJldW0gPSBTYWZlTWF0aC5zdWIoX2V0aGVyZXVtLCBfZGl2aWRlbmRzKTsKICAgICAgICByZXR1cm4gX3RheGVkRXRoZXJldW07CiAgICB9CgoKICAgIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICA9ICAgICAgICAgICAgSU5URVJOQUwgRlVOQ1RJT05TICAgICAgICAgICAgPQogICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8KICAgIGZ1bmN0aW9uIHB1cmNoYXNlVG9rZW5zKHVpbnQyNTYgX2luY29taW5nRXRoZXJldW0sIGFkZHJlc3MgX3JlZmVycmVkQnkpCiAgICAgICAgYW50aUVhcmx5V2hhbGUoX2luY29taW5nRXRoZXJldW0pCiAgICAgICAgaW50ZXJuYWwKICAgICAgICByZXR1cm5zKHVpbnQyNTYpCiAgICB7CiAgICAgICAgLy8gZGF0YSBzZXR1cAogICAgICAgIGFkZHJlc3MgX2N1c3RvbWVyQWRkcmVzcyA9IG1zZy5zZW5kZXI7CiAgICAgICAgdWludDI1NiBfdW5kaXZpZGVkRGl2aWRlbmRzID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChfaW5jb21pbmdFdGhlcmV1bSwgZW50cnlGZWVfKSwgMTAwKTsKICAgICAgICB1aW50MjU2IF9yZWZlcnJhbEJvbnVzID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChfdW5kaXZpZGVkRGl2aWRlbmRzLCByZWZmZXJhbEZlZV8pLCAxMDApOwogICAgICAgIHVpbnQyNTYgX2RpdmlkZW5kcyA9IFNhZmVNYXRoLnN1YihfdW5kaXZpZGVkRGl2aWRlbmRzLCBfcmVmZXJyYWxCb251cyk7CiAgICAgICAgdWludDI1NiBfdGF4ZWRFdGhlcmV1bSA9IFNhZmVNYXRoLnN1YihfaW5jb21pbmdFdGhlcmV1bSwgX3VuZGl2aWRlZERpdmlkZW5kcyk7CiAgICAgICAgdWludDI1NiBfYW1vdW50T2ZUb2tlbnMgPSBldGhlcmV1bVRvVG9rZW5zXyhfdGF4ZWRFdGhlcmV1bSk7CiAgICAgICAgdWludDI1NiBfZmVlID0gX2RpdmlkZW5kcyAqIG1hZ25pdHVkZTsKCiAgICAgICAgLy8gbm8gcG9pbnQgaW4gY29udGludWluZyBleGVjdXRpb24gaWYgT1AgaXMgYSBwb29yZmFnIHJ1c3NpYW4gaGFja2VyCiAgICAgICAgLy8gcHJldmVudHMgb3ZlcmZsb3cgaW4gdGhlIGNhc2UgdGhhdCB0aGUgcHlyYW1pZCBzb21laG93IG1hZ2ljYWxseSBzdGFydHMgYmVpbmcgdXNlZCBieSBldmVyeW9uZSBpbiB0aGUgd29ybGQKICAgICAgICAvLyAob3IgaGFja2VycykKICAgICAgICAvLyBhbmQgeWVzIHdlIGtub3cgdGhhdCB0aGUgc2FmZW1hdGggZnVuY3Rpb24gYXV0b21hdGljYWxseSBydWxlcyBvdXQgdGhlICJncmVhdGVyIHRoZW4iIGVxdWFzaW9uLgogICAgICAgIHJlcXVpcmUoX2Ftb3VudE9mVG9rZW5zID4gMCAmJiAoU2FmZU1hdGguYWRkKF9hbW91bnRPZlRva2Vucyx0b2tlblN1cHBseV8pID4gdG9rZW5TdXBwbHlfKSk7CgogICAgICAgIC8vIGlzIHRoZSB1c2VyIHJlZmVycmVkIGJ5IGEgbWFzdGVybm9kZT8KICAgICAgICBpZigKICAgICAgICAgICAgLy8gaXMgdGhpcyBhIHJlZmVycmVkIHB1cmNoYXNlPwogICAgICAgICAgICBfcmVmZXJyZWRCeSAhPSAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAgJiYKCiAgICAgICAgICAgIC8vIG5vIGNoZWF0aW5nIQogICAgICAgICAgICBfcmVmZXJyZWRCeSAhPSBfY3VzdG9tZXJBZGRyZXNzICYmCgogICAgICAgICAgICAvLyBkb2VzIHRoZSByZWZlcnJlciBoYXZlIGF0IGxlYXN0IFggd2hvbGUgdG9rZW5zPwogICAgICAgICAgICAvLyBpLmUgaXMgdGhlIHJlZmVycmVyIGEgV2FpZnVseSBjaGFkIG1hc3Rlcm5vZGUKICAgICAgICAgICAgdG9rZW5CYWxhbmNlTGVkZ2VyX1tfcmVmZXJyZWRCeV0gPj0gc3Rha2luZ1JlcXVpcmVtZW50CiAgICAgICAgKXsKICAgICAgICAgICAgLy8gd2VhbHRoIHJlZGlzdHJpYnV0aW9uCiAgICAgICAgICAgIHJlZmVycmFsQmFsYW5jZV9bX3JlZmVycmVkQnldID0gU2FmZU1hdGguYWRkKHJlZmVycmFsQmFsYW5jZV9bX3JlZmVycmVkQnldLCBfcmVmZXJyYWxCb251cyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gbm8gcmVmIHB1cmNoYXNlCiAgICAgICAgICAgIC8vIGFkZCB0aGUgcmVmZXJyYWwgYm9udXMgYmFjayB0byB0aGUgZ2xvYmFsIGRpdmlkZW5kcyBjYWtlCiAgICAgICAgICAgIF9kaXZpZGVuZHMgPSBTYWZlTWF0aC5hZGQoX2RpdmlkZW5kcywgX3JlZmVycmFsQm9udXMpOwogICAgICAgICAgICBfZmVlID0gX2RpdmlkZW5kcyAqIG1hZ25pdHVkZTsKICAgICAgICB9CgogICAgICAgIC8vIHdlIGNhbid0IGdpdmUgcGVvcGxlIGluZmluaXRlIGV0aGVyZXVtCiAgICAgICAgaWYodG9rZW5TdXBwbHlfID4gMCl7CgogICAgICAgICAgICAvLyBhZGQgdG9rZW5zIHRvIHRoZSBwb29sCiAgICAgICAgICAgIHRva2VuU3VwcGx5XyA9IFNhZmVNYXRoLmFkZCh0b2tlblN1cHBseV8sIF9hbW91bnRPZlRva2Vucyk7CgogICAgICAgICAgICAvLyB0YWtlIHRoZSBhbW91bnQgb2YgZGl2aWRlbmRzIGdhaW5lZCB0aHJvdWdoIHRoaXMgdHJhbnNhY3Rpb24sIGFuZCBhbGxvY2F0ZXMgdGhlbSBldmVubHkgdG8gZWFjaCBzaGFyZWhvbGRlcgogICAgICAgICAgICBwcm9maXRQZXJTaGFyZV8gKz0gKF9kaXZpZGVuZHMgKiBtYWduaXR1ZGUgLyAodG9rZW5TdXBwbHlfKSk7CgogICAgICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhlIGN1c3RvbWVyIHJlY2VpdmVzIG92ZXIgaGlzIHB1cmNoYXNlCiAgICAgICAgICAgIF9mZWUgPSBfZmVlIC0gKF9mZWUtKF9hbW91bnRPZlRva2VucyAqIChfZGl2aWRlbmRzICogbWFnbml0dWRlIC8gKHRva2VuU3VwcGx5XykpKSk7CgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIGFkZCB0b2tlbnMgdG8gdGhlIHBvb2wKICAgICAgICAgICAgdG9rZW5TdXBwbHlfID0gX2Ftb3VudE9mVG9rZW5zOwogICAgICAgIH0KCiAgICAgICAgLy8gdXBkYXRlIGNpcmN1bGF0aW5nIHN1cHBseSAmIHRoZSBsZWRnZXIgYWRkcmVzcyBmb3IgdGhlIGN1c3RvbWVyCiAgICAgICAgdG9rZW5CYWxhbmNlTGVkZ2VyX1tfY3VzdG9tZXJBZGRyZXNzXSA9IFNhZmVNYXRoLmFkZCh0b2tlbkJhbGFuY2VMZWRnZXJfW19jdXN0b21lckFkZHJlc3NdLCBfYW1vdW50T2ZUb2tlbnMpOwoKICAgICAgICAvLyBUZWxscyB0aGUgY29udHJhY3QgdGhhdCB0aGUgYnV5ZXIgZG9lc24ndCBkZXNlcnZlIGRpdmlkZW5kcyBmb3IgdGhlIHRva2VucyBiZWZvcmUgdGhleSBvd25lZCB0aGVtOwogICAgICAgIC8vcmVhbGx5IGkga25vdyB5b3UgdGhpbmsgeW91IGRvIGJ1dCB5b3UgZG9uJ3QKICAgICAgICBpbnQyNTYgX3VwZGF0ZWRQYXlvdXRzID0gKGludDI1NikgKChwcm9maXRQZXJTaGFyZV8gKiBfYW1vdW50T2ZUb2tlbnMpIC0gX2ZlZSk7CiAgICAgICAgcGF5b3V0c1RvX1tfY3VzdG9tZXJBZGRyZXNzXSArPSBfdXBkYXRlZFBheW91dHM7CgogICAgICAgIC8vIGZpcmUgZXZlbnQKICAgICAgICBvblRva2VuUHVyY2hhc2UoX2N1c3RvbWVyQWRkcmVzcywgX2luY29taW5nRXRoZXJldW0sIF9hbW91bnRPZlRva2VucywgX3JlZmVycmVkQnkpOwoKICAgICAgICByZXR1cm4gX2Ftb3VudE9mVG9rZW5zOwogICAgfQoKICAgIC8qKgogICAgICogQ2FsY3VsYXRlIFRva2VuIHByaWNlIGJhc2VkIG9uIGFuIGFtb3VudCBvZiBpbmNvbWluZyBldGhlcmV1bQogICAgICogSXQncyBhbiBhbGdvcml0aG0sIGhvcGVmdWxseSB3ZSBnYXZlIHlvdSB0aGUgd2hpdGVwYXBlciB3aXRoIGl0IGluIHNjaWVudGlmaWMgbm90YXRpb247CiAgICAgKiBTb21lIGNvbnZlcnNpb25zIG9jY3VycmVkIHRvIHByZXZlbnQgZGVjaW1hbCBlcnJvcnMgb3IgdW5kZXJmbG93cyAvIG92ZXJmbG93cyBpbiBzb2xpZGl0eSBjb2RlLgogICAgICovCiAgICBmdW5jdGlvbiBldGhlcmV1bVRvVG9rZW5zXyh1aW50MjU2IF9ldGhlcmV1bSkKICAgICAgICBpbnRlcm5hbAogICAgICAgIHZpZXcKICAgICAgICByZXR1cm5zKHVpbnQyNTYpCiAgICB7CiAgICAgICAgdWludDI1NiBfdG9rZW5QcmljZUluaXRpYWwgPSB0b2tlblByaWNlSW5pdGlhbF8gKiAxZTE4OwogICAgICAgIHVpbnQyNTYgX3Rva2Vuc1JlY2VpdmVkID0KICAgICAgICAgKAogICAgICAgICAgICAoCiAgICAgICAgICAgICAgICAvLyB1bmRlcmZsb3cgYXR0ZW1wdHMgQlRGTwogICAgICAgICAgICAgICAgU2FmZU1hdGguc3ViKAogICAgICAgICAgICAgICAgICAgIChzcXJ0CiAgICAgICAgICAgICAgICAgICAgICAgICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfdG9rZW5QcmljZUluaXRpYWwqKjIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMioodG9rZW5QcmljZUluY3JlbWVudGFsXyAqIDFlMTgpKihfZXRoZXJldW0gKiAxZTE4KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoKHRva2VuUHJpY2VJbmNyZW1lbnRhbF8pKioyKSoodG9rZW5TdXBwbHlfKioyKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICgyKih0b2tlblByaWNlSW5jcmVtZW50YWxfKSpfdG9rZW5QcmljZUluaXRpYWwqdG9rZW5TdXBwbHlfKQogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgKSwgX3Rva2VuUHJpY2VJbml0aWFsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICkvKHRva2VuUHJpY2VJbmNyZW1lbnRhbF8pCiAgICAgICAgKS0odG9rZW5TdXBwbHlfKQogICAgICAgIDsKCiAgICAgICAgcmV0dXJuIF90b2tlbnNSZWNlaXZlZDsKICAgIH0KCiAgICAvKioKICAgICAqIENhbGN1bGF0ZSB0b2tlbiBzZWxsIHZhbHVlLgogICAgICogSXQncyBhbiBhbGdvcml0aG0sIGhvcGVmdWxseSB3ZSBnYXZlIHlvdSB0aGUgd2hpdGVwYXBlciB3aXRoIGl0IGluIHNjaWVudGlmaWMgbm90YXRpb247CiAgICAgKiBTb21lIGNvbnZlcnNpb25zIG9jY3VycmVkIHRvIHByZXZlbnQgZGVjaW1hbCBlcnJvcnMgb3IgdW5kZXJmbG93cyAvIG92ZXJmbG93cyBpbiBzb2xpZGl0eSBjb2RlLgogICAgICovCiAgICAgZnVuY3Rpb24gdG9rZW5zVG9FdGhlcmV1bV8odWludDI1NiBfdG9rZW5zKQogICAgICAgIGludGVybmFsCiAgICAgICAgdmlldwogICAgICAgIHJldHVybnModWludDI1NikKICAgIHsKCiAgICAgICAgdWludDI1NiB0b2tlbnNfID0gKF90b2tlbnMgKyAxZTE4KTsKICAgICAgICB1aW50MjU2IF90b2tlblN1cHBseSA9ICh0b2tlblN1cHBseV8gKyAxZTE4KTsKICAgICAgICB1aW50MjU2IF9ldGhlclJlY2VpdmVkID0KICAgICAgICAoCiAgICAgICAgICAgIC8vIHVuZGVyZmxvdyBhdHRlbXB0cyBCVEZPCiAgICAgICAgICAgIFNhZmVNYXRoLnN1YigKICAgICAgICAgICAgICAgICgKICAgICAgICAgICAgICAgICAgICAoCiAgICAgICAgICAgICAgICAgICAgICAgICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuUHJpY2VJbml0aWFsXyArKHRva2VuUHJpY2VJbmNyZW1lbnRhbF8gKiAoX3Rva2VuU3VwcGx5LzFlMTgpKQogICAgICAgICAgICAgICAgICAgICAgICApLXRva2VuUHJpY2VJbmNyZW1lbnRhbF8KICAgICAgICAgICAgICAgICAgICApKih0b2tlbnNfIC0gMWUxOCkKICAgICAgICAgICAgICAgICksKHRva2VuUHJpY2VJbmNyZW1lbnRhbF8qKCh0b2tlbnNfKioyLXRva2Vuc18pLzFlMTgpKS8yCiAgICAgICAgICAgICkKICAgICAgICAvMWUxOCk7CiAgICAgICAgcmV0dXJuIF9ldGhlclJlY2VpdmVkOwogICAgfQoKCiAgICAvL1RoaXMgaXMgd2hlcmUgYWxsIHlvdXIgZ2FzIGdvZXMsIHNvcnJ5CiAgICAvL05vdCBzb3JyeSwgeW91IHByb2JhYmx5IG9ubHkgcGFpZCAxIGd3ZWkKICAgIGZ1bmN0aW9uIHNxcnQodWludCB4KSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgeSkgewogICAgICAgIHVpbnQgeiA9ICh4ICsgMSkgLyAyOwogICAgICAgIHkgPSB4OwogICAgICAgIHdoaWxlICh6IDwgeSkgewogICAgICAgICAgICB5ID0gejsKICAgICAgICAgICAgeiA9ICh4IC8geiArIHopIC8gMjsKICAgICAgICB9CiAgICB9Cn0KCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewoKICAgIC8qKgogICAgKiBAZGV2IE11bHRpcGxpZXMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAgICovCiAgICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGlmIChhID09IDApIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBJbnRlZ2VyIGRpdmlzaW9uIG9mIHR3byBudW1iZXJzLCB0cnVuY2F0aW5nIHRoZSBxdW90aWVudC4KICAgICovCiAgICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgU3Vic3RyYWN0cyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93IChpLmUuIGlmIHN1YnRyYWhlbmQgaXMgZ3JlYXRlciB0aGFuIG1pbnVlbmQpLgogICAgKi8KICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IEFkZHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAgICovCiAgICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9'.
	

]
