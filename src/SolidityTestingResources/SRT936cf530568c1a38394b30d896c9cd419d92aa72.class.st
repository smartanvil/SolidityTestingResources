Class {
	#name : #SRT936cf530568c1a38394b30d896c9cd419d92aa72,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT936cf530568c1a38394b30d896c9cd419d92aa72 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IG93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIE93bmVyOyAKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8gICAgCiAgICBmdW5jdGlvbiBvd25lZCgpIHB1YmxpY3sKICAgICAgICBPd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CiAgICAKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgICBtb2RpZmllciBvbmx5T3duZXIoKXsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gT3duZXIpOwogICAgICAgIF87CiAgICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8gICAKICAgIGZ1bmN0aW9uIFRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIE93bmVyID0gbmV3T3duZXI7CiAgICB9CiAgICAKICAvKioKICAgKiBAZGV2IFRlcm1pbmF0ZXMgY29udHJhY3Qgd2hlbiBjYWxsZWQgYnkgdGhlIG93bmVyLgogICAqLwogICAgZnVuY3Rpb24gYWJvcnQoKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBzZWxmZGVzdHJ1Y3QoT3duZXIpOwogICAgfQp9CgppbnRlcmZhY2UgdG9rZW5SZWNpcGllbnQgeyBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWM7IH0KCmNvbnRyYWN0IFplZ2FydFRva2VuIGlzIG93bmVkIHsKICAgIC8vIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuCiAgICBzdHJpbmcgcHVibGljIG5hbWU7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsKICAgIHN0cmluZyBwdWJsaWMgdmVyc2lvbjsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDE4OwogICAgLy8gMTggZGVjaW1hbHMgaXMgdGhlIHN0cm9uZ2x5IHN1Z2dlc3RlZCBkZWZhdWx0CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIGJvb2wgdHJhZGFibGU7CgogICAgLy8gVGhpcyBjcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGJhbGFuY2VzCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgZnJvemVuQWNjb3VudHM7CgogICAgLy8gVGhpcyBnZW5lcmF0ZXMgYSBwdWJsaWMgZXZlbnQgb24gdGhlIGJsb2NrY2hhaW4gdGhhdCB3aWxsIG5vdGlmeSBjbGllbnRzCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKICAgIC8vIFRoaXMgbm90aWZpZXMgY2xpZW50cyBhYm91dCB0aGUgYW1vdW50IGJ1cm50CiAgICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50MjU2IHZhbHVlKTsKICAgIC8vIGV0aGVyIHJlY2VpdmVkIHRvIGNvbnRyYWN0CiAgICBldmVudCBSZWNpZXZlRXRoKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgdWludDI1NiBfdmFsdWUpOwogICAgLy8gZXRoZXIgdHJhbnNmZXJyZWQgZnJvbSBjb250cmFjdAogICAgZXZlbnQgV2l0aGRyYXdFdGgoYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgLy8gYWxsb3dhbmNlIGZvciBvdGhlciBhZGRyZXNzZXMKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwogICAgLy90b2tlbnMgc29sZCB0byB1c2VycwogICAgZXZlbnQgU29sZFRva2VuKGFkZHJlc3MgX2J1eWVyLCB1aW50MjU2IF92YWx1ZSwgc3RyaW5nIG5vdGUpOwogICAgLy8gdG9rZW5zIGdyYW50ZWQgdG8gdXNlcnMKICAgIGV2ZW50IEJvbnVzVG9rZW4oYWRkcmVzcyBfY3VzdG9tZXIsIHVpbnQyNTYgX3ZhbHVlLCBzdHJpbmcgbm90ZSk7CgogICAgLy8vIGZhbGxiYWNrIGZ1bmN0aW9uCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHB1YmxpYyB7CiAgICAgICAgUmVjaWV2ZUV0aChtc2cuc2VuZGVyLCBtc2cudmFsdWUpOyAgICAgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHdpdGhkcmF3YWwoYWRkcmVzcyBfdG8sIHVpbnQyNTYgRXRoZXIsIHVpbnQyNTYgVG9rZW4pIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUodGhpcy5iYWxhbmNlID49IEV0aGVyICYmIGJhbGFuY2VzW3RoaXNdID49IFRva2VuICk7CiAgICAgICAgCiAgICAgICAgaWYoRXRoZXIgPjApewogICAgICAgICAgICBfdG8udHJhbnNmZXIoRXRoZXIpOwogICAgICAgICAgICBXaXRoZHJhd0V0aChfdG8sIEV0aGVyKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYoVG9rZW4gPiAwKQoJCXsKCQkJcmVxdWlyZShiYWxhbmNlc1tfdG9dICsgVG9rZW4gPiBiYWxhbmNlc1tfdG9dKTsKCQkJYmFsYW5jZXNbdGhpc10gLT0gVG9rZW47CgkJCWJhbGFuY2VzW190b10gKz0gVG9rZW47CgkJCVRyYW5zZmVyKHRoaXMsIF90bywgVG9rZW4pOwoJCX0KICAgICAgICAKICAgIH0KCgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3RvciBmdW5jdGlvbgogICAgICoKICAgICAqIEluaXRpYWxpemVzIGNvbnRyYWN0IHdpdGggaW5pdGlhbCBzdXBwbHkgdG9rZW5zIHRvIHRoZSBjcmVhdG9yIG9mIHRoZSBjb250cmFjdAogICAgICovCiAgICBmdW5jdGlvbiBaZWdhcnRUb2tlbigKICAgICAgICB1aW50MjU2IGluaXRpYWxTdXBwbHksCiAgICAgICAgc3RyaW5nIHRva2VuTmFtZSwKICAgICAgICBzdHJpbmcgdG9rZW5TeW1ib2wsCiAgICAgICAgc3RyaW5nIGNvbnRyYWN0dmVyc2lvbgogICAgKSBwdWJsaWMgewogICAgICAgIHRvdGFsU3VwcGx5ID0gaW5pdGlhbFN1cHBseSAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpOyAgLy8gVXBkYXRlIHRvdGFsIHN1cHBseSB3aXRoIHRoZSBkZWNpbWFsIGFtb3VudAogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gdG90YWxTdXBwbHk7ICAgICAgICAgLy8gR2l2ZSB0aGUgY3JlYXRvciBhbGwgaW5pdGlhbCB0b2tlbnMKICAgICAgICBuYW1lID0gdG9rZW5OYW1lOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBuYW1lIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgc3ltYm9sID0gdG9rZW5TeW1ib2w7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgc3ltYm9sIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgdmVyc2lvbiA9IGNvbnRyYWN0dmVyc2lvbjsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgY29udHJhY3QgdmVyc2lvbiBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICAgIAogICAgfQoKICAgIC8qKgogICAgICogSW50ZXJuYWwgdHJhbnNmZXIsIG9ubHkgY2FuIGJlIGNhbGxlZCBieSB0aGlzIGNvbnRyYWN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGludGVybmFsIHsKICAgICAgICAvLyBQcmV2ZW50IHRyYW5zZmVyIHRvIDB4MCBhZGRyZXNzLiBVc2UgYnVybigpIGluc3RlYWQKICAgICAgICByZXF1aXJlKF90byAhPSAweDApOwogICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSk7CiAgICAgICAgLy8gQ2hlY2sgZm9yIG92ZXJmbG93cwogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pOwogICAgICAgIC8vIENoZWNrIGlmIHNlbmRlciBpcyBmcm96ZW4KICAgICAgICByZXF1aXJlKCFmcm96ZW5BY2NvdW50c1tfZnJvbV0pOyAKICAgICAgICAvLyBDaGVjayBpZiByZWNpcGllbnQgaXMgZnJvemVuICAgICAgICAgICAgICAgICAgICAKICAgICAgICByZXF1aXJlKCFmcm96ZW5BY2NvdW50c1tfdG9dKTsgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIC8vIFNhdmUgdGhpcyBmb3IgYW4gYXNzZXJ0aW9uIGluIHRoZSBmdXR1cmUKICAgICAgICB1aW50IHByZXZpb3VzQmFsYW5jZU9mID0gYmFsYW5jZXNbX2Zyb21dICsgYmFsYW5jZXNbX3RvXTsKICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgIC8vIEFkZCB0aGUgc2FtZSB0byB0aGUgcmVjaXBpZW50CiAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICAvLyBBc3NlcnRzIGFyZSB1c2VkIHRvIHVzZSBzdGF0aWMgYW5hbHlzaXMgdG8gZmluZCBidWdzIGluIHlvdXIgY29kZS4gVGhleSBzaG91bGQgbmV2ZXIgZmFpbAogICAgICAgIGFzc2VydChiYWxhbmNlc1tfZnJvbV0gKyBiYWxhbmNlc1tfdG9dID09IHByZXZpb3VzQmFsYW5jZU9mKTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBHcmFudCB0b2tlbnMgdG8gY3VzdG9tZXJzCiAgICAvLy8gQHBhcmFtIF9jdXN0b21lciBBZGRyZXNzIG9mIGFjY291bnQgd2hpY2ggd2lsbCByZWNlaXZlIHRva2VucwogICAgLy8vIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICAgZnVuY3Rpb24gR3JhbnRUb2tlbihhZGRyZXNzIF9jdXN0b21lciwgdWludDI1NiBfdmFsdWUsIHN0cmluZyBub3RlKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfY3VzdG9tZXJdICsgX3ZhbHVlID4gYmFsYW5jZXNbX2N1c3RvbWVyXSk7CiAgICAgICAgCiAgICAgICAgQm9udXNUb2tlbiggX2N1c3RvbWVyLCAgX3ZhbHVlLCAgbm90ZSk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIGJhbGFuY2VzW19jdXN0b21lcl0gKz0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF9jdXN0b21lciwgX3ZhbHVlKTsKICAgIH0KICAgIAogICAgLy8vIEBub3RpY2UgQnV5IHF1YW50aXR5IG9mIHRva2VucyBkZXBlbmRpbmcgb24gdGhlIGFtb3VudCBvZiBzZW50IGV0aGVycy4KICAgIC8vLyBAcGFyYW0gX2J1eWVyIEFkZHJlc3Mgb2YgYWNjb3VudCB3aGljaCB3aWxsIHJlY2VpdmUgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgICBmdW5jdGlvbiBCdXlUb2tlbihhZGRyZXNzIF9idXllciwgdWludDI1NiBfdmFsdWUsIHN0cmluZyBub3RlKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfYnV5ZXJdICsgX3ZhbHVlID4gYmFsYW5jZXNbX2J1eWVyXSk7CiAgICAgICAgCiAgICAgICAgU29sZFRva2VuKCBfYnV5ZXIsICBfdmFsdWUsICBub3RlKTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgYmFsYW5jZXNbX2J1eWVyXSArPSBfdmFsdWU7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX2J1eWVyLCBfdmFsdWUpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIGZvcmJpZCBzcGVjaWZpZWQgYWRkcmVzcyBmcm9tIHNlbmRpbmcgJiByZWNlaXZpbmcgdG9rZW5zCiAgICBmdW5jdGlvbiBGcmVlemVBY2NvdW50KGFkZHJlc3MgdG9GcmVlemUpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGZyb3plbkFjY291bnRzW3RvRnJlZXplXSA9IHRydWU7CiAgICB9CiAgICAvLy8gQG5vdGljZSBhbGxvdyBzcGVjaWZpZWQgYWRkcmVzcyBzZW5kaW5nICYgcmVjZWl2aW5nIHRva2VucwogICAgZnVuY3Rpb24gVW5mcmVlemVBY2NvdW50KGFkZHJlc3MgdG9VbmZyZWV6ZSkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgZGVsZXRlIGZyb3plbkFjY291bnRzW3RvVW5mcmVlemVdOwogICAgfQogICAgLy8vIEBub3RpY2UgbGV0IHVzZXJzIHRyYWRlIHdpdGggdGhlIHRva2VuCiAgICBmdW5jdGlvbiBNYWtlVHJhZGFibGUoYm9vbCB0KSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICB0cmFkYWJsZSA9IHQ7CiAgICB9CiAgICAvLy8gQG5vdGljZSBzaG93cyB0cmFkYWJpbGl0eSBvZiB0aGUgY29udHJhY3QKICAgIGZ1bmN0aW9uIFRyYWRhYmxlKCkgcHVibGljIHZpZXcgcmV0dXJucyhib29sKSB7CiAgICAgICAgcmV0dXJuIHRyYWRhYmxlOwogICAgfQogICAgCiAgICBtb2RpZmllciBub3RGcm96ZW4oKXsKICAgICAgIHJlcXVpcmUgKCFmcm96ZW5BY2NvdW50c1ttc2cuc2VuZGVyXSk7CiAgICAgICBfOwogICAgfQogICAgCiAgICAvLy8gQG5vdGljZSB0cmFuc2ZlcnMgc2VuZGVyJ3MgdG9rZW5zIHRvIGEgc3BlY2lmaWVkIGFkZHJlc3MuIAogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudC4KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyBub3RGcm96ZW4gcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZSh0cmFkYWJsZSk7CiAgICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgICBUcmFuc2ZlciggbXNnLnNlbmRlciwgX3RvLCAgX3ZhbHVlKTsKICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICB9CiAgICAgfQogICAgIAogICAgIAogICAgLy8vIEBub3RpY2UgQWxsb3dzIGFsbG93ZWQgdGhpcmQgcGFydHkgdG8gdHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlci4gUmV0dXJucyBzdWNjZXNzLgogICAgLy8vIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHRva2VucyBhcmUgc2VuZGluZyBmcm9tLgogICAgLy8vIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB0b2tlbnMgYXJlIHNlbmRpbmcgdG8uCiAgICAvLy8gQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZC4gCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgbm90RnJvemVuIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoIWZyb3plbkFjY291bnRzW19mcm9tXSAmJiAhZnJvemVuQWNjb3VudHNbX3RvXSk7CiAgICAgICAgcmVxdWlyZSh0cmFkYWJsZSk7CiAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDAgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsKICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIoIF9mcm9tLCBfdG8sICBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBAbm90aWNlIFJldHJpZXZlcyB0aGUgdG9rZW4gYmFsYW5jZSBvZiBhbnkgc2luZ2xlIGFkZHJlc3MuCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBBbGxvd3MgYF9zcGVuZGVyYCB0byBzcGVuZCBubyBtb3JlIHRoYW4gYF92YWx1ZWAgdG9rZW5zIGluIHlvdXIgYmVoYWxmCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIGF1dGhvcml6ZWQgdG8gc3BlbmQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIHRoZSBtYXggYW1vdW50IHRoZXkgY2FuIHNwZW5kCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFJldHVybnMgdGhlIGFtb3VudCB3aGljaCBfc3BlbmRlciBpcyBzdGlsbCBhbGxvd2VkIHRvIHdpdGhkcmF3IGZyb20gX293bmVyCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgLy8vIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudAogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgLy8vIEBub3RpY2UgQWxsb3dzIGBfc3BlbmRlcmAgdG8gc3BlbmQgbm8gbW9yZSB0aGFuIGBfdmFsdWVgIHRva2VucyBpbiB5b3VyIGJlaGFsZiwgYW5kIHRoZW4gcGluZyB0aGUgY29udHJhY3QgYWJvdXQgaXQKICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3MgYXV0aG9yaXplZCB0byBzcGVuZAogICAgLy8vIEBwYXJhbSBfdmFsdWUgdGhlIG1heCBhbW91bnQgdGhleSBjYW4gc3BlbmQKICAgIC8vLyBAcGFyYW0gX2V4dHJhRGF0YSBzb21lIGV4dHJhIGluZm9ybWF0aW9uIHRvIHNlbmQgdG8gdGhlIGFwcHJvdmVkIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSkKICAgICAgICBwdWJsaWMKICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICB0b2tlblJlY2lwaWVudCBzcGVuZGVyID0gdG9rZW5SZWNpcGllbnQoX3NwZW5kZXIpOwogICAgICAgIGlmIChhcHByb3ZlKF9zcGVuZGVyLCBfdmFsdWUpKSB7CiAgICAgICAgICAgIHNwZW5kZXIucmVjZWl2ZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0KCgogICAgLy8vIEBub3RpY2UgUmVtb3ZlIGBfdmFsdWVgIHRva2VucyBmcm9tIHRoZSBzeXN0ZW0gaXJyZXZlcnNpYmx5CiAgICAvLy8gQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IG9mIG1vbmV5IHRvIGJ1cm4KICAgIC8vLyBAcmV0dXJuIFRydWUgaWYgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUpOyAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaAogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsgICAgICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIKICAgICAgICB0b3RhbFN1cHBseSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZXMgdG90YWxTdXBwbHkKICAgICAgICBCdXJuKG1zZy5zZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAKICAgIC8vLyBAbm90aWNlIFJlbW92ZSBgX3ZhbHVlYCB0b2tlbnMgZnJvbSB0aGUgc3lzdGVtIGlycmV2ZXJzaWJseSBvbiBiZWhhbGYgb2YgYF9mcm9tYC4KICAgIC8vLyBAcGFyYW0gX2Zyb20gdGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgLy8vIEBwYXJhbSBfdmFsdWUgdGhlIGFtb3VudCBvZiBtb25leSB0byBidXJuCiAgICAvLy8gQHJldHVybiBUcnVlIGlmIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bAogICAgZnVuY3Rpb24gYnVybkZyb20oYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUpOyAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgdGFyZ2V0ZWQgYmFsYW5jZSBpcyBlbm91Z2gKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7ICAgIC8vIENoZWNrIGFsbG93YW5jZQogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHRhcmdldGVkIGJhbGFuY2UKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7ICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcidzIGFsbG93YW5jZQogICAgICAgIHRvdGFsU3VwcGx5IC09IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdG90YWxTdXBwbHkKICAgICAgICBCdXJuKF9mcm9tLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKfQ=='.
	

]
