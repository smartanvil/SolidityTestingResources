Class {
	#name : #SRTe0645704ff1b2a9320b3ebe46593debbfe417fb0,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe0645704ff1b2a9320b3ebe46593debbfe417fb0 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7Cgpjb250cmFjdCBvd25lZCB7CiAgICAKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgCiAgICBmdW5jdGlvbiBvd25lZCgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CiAgICAKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHRocm93OwogICAgICAgIF87CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KfQoKY29udHJhY3QgSVRlc3Rla1Rva2VuIHsKICBmdW5jdGlvbiBtaW50VG9rZW5zKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpOwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB0b3RhbFN1cHBseSk7Cn0KCmNvbnRyYWN0IElFUkMyMFRva2VuIHsKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG90YWxTdXBwbHkpOwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7fQogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykge30KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykge30KCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cn0KCmNvbnRyYWN0IFRlc3Rla0Nyb3dkc2FsZSBpcyBvd25lZCB7CiAgICB1aW50MjU2IHB1YmxpYyBzdGFydEJsb2NrOwogICAgdWludDI1NiBwdWJsaWMgZW5kQmxvY2s7CiAgICB1aW50MjU2IHB1YmxpYyBtaW5FdGhUb1JhaXNlOwogICAgdWludDI1NiBwdWJsaWMgbWF4RXRoVG9SYWlzZTsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsRXRoUmFpc2VkOwogICAgYWRkcmVzcyBwdWJsaWMgbXVsdGlzaWdBZGRyZXNzOwogICAgCiAgICBJVGVzdGVrVG9rZW4gVGVzdGVrVG9rZW5Db250cmFjdDsgCgogICAgdWludDI1NiBuZXh0RnJlZVBhcnRpY2lwYW50SW5kZXg7CiAgICBtYXBwaW5nICh1aW50ID0+IGFkZHJlc3MpIHBhcnRpY2lwYW50SW5kZXg7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHBhcnRpY2lwYW50Q29udHJpYnV0aW9uOwogICAgCiAgICBib29sIGNyb3dkc2FsZUhhc1N0YXJ0ZWQ7CiAgICBib29sIHNvZnRDYXBSZWFjaGVkOwogICAgYm9vbCBoYXJkQ2FwUmVhY2hlZDsKICAgIGJvb2wgY3Jvd2RzYWxlSGFzU3VjZXNzZnVseUVuZGVkOwogICAgdWludDI1NiBibG9ja3NJbkFEYXk7CiAgICBib29sIG93bmVySGFzQ2xhaW1lZFRva2VuczsKICAgIAogICAgdWludDI1NiBsYXN0RXRoUmV0dXJuSW5kZXg7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIGhhc0NsYWltZWRFdGhXaGVuRmFpbDsKICAgIAogICAgZXZlbnQgQ3Jvd2RzYWxlU3RhcnRlZCh1aW50MjU2IF9ibG9ja051bWJlcik7CiAgICBldmVudCBDcm93ZHNhbGVTb2Z0Q2FwUmVhY2hlZCh1aW50MjU2IF9ibG9ja051bWJlcik7CiAgICBldmVudCBDcm93ZHNhbGVIYXJkQ2FwUmVhY2hlZCh1aW50MjU2IF9ibG9ja051bWJlcik7CiAgICBldmVudCBDcm93ZHNhbGVFbmRlZFN1Y2Nlc3NmdWx5KHVpbnQyNTYgX2Jsb2NrTnVtYmVyLCB1aW50MjU2IF9hbW91bnRSYWlzZWQpOwogICAgZXZlbnQgQ3Jvd2RzYWxlKHVpbnQyNTYgX2Jsb2NrTnVtYmVyLCB1aW50MjU2IF9hbW1vdW50UmFpc2VkKTsKICAgIGV2ZW50IEVycm9yU2VuZGluZ0VUSChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF9hbW91bnQpOwogICAgCiAgICBmdW5jdGlvbiBUZXN0ZWtDcm93ZHNhbGUodWludDI1NiBfc3RhcnRCbG9jaywgYWRkcmVzcyBfbXVsdGlzaWdBZGRyZXNzKXsKICAgICAgICAKICAgICAgICBibG9ja3NJbkFEYXkgPSAzMDA7CiAgICAgICAgc3RhcnRCbG9jayA9IF9zdGFydEJsb2NrOwogICAgICAgIGVuZEJsb2NrID0gX3N0YXJ0QmxvY2sgKyBibG9ja3NJbkFEYXkgKiAyOTsgICAgICAKICAgICAgICBtaW5FdGhUb1JhaXNlID0gMyAqIDEwKioxODsgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBtYXhFdGhUb1JhaXNlID0gMzMgKiAxMCoqMTg7ICAgICAgICAgICAgICAgICAKICAgICAgICBtdWx0aXNpZ0FkZHJlc3MgPSBfbXVsdGlzaWdBZGRyZXNzOwogICAgfQogICAgCiAgLy8gIAogIC8qIFVzZXIgYWNjZXNzaWJsZSBtZXRob2RzICovICAgCiAgLy8gIAogICAgCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlewogICAgICBpZihtc2cudmFsdWUgPT0gMCkgdGhyb3c7CiAgICAgIGlmIChjcm93ZHNhbGVIYXNTdWNlc3NmdWx5RW5kZWQgfHwgYmxvY2subnVtYmVyID4gZW5kQmxvY2spIHRocm93OyAgICAgICAgLy8gVGhyb3cgaWYgdGhlIENyb3dkc2FsZSBoYXMgZW5kZWQgICAgIAogICAgICBpZiAoIWNyb3dkc2FsZUhhc1N0YXJ0ZWQpeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgdGhlIGZpcnN0IENyb3dkc2FsZSB0cmFuc2FjdGlvbiAgICAgICAKICAgICAgICBpZiAoYmxvY2subnVtYmVyID49IHN0YXJ0QmxvY2speyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgQ3Jvd2RzYWxlIHNob3VsZCBzdGFydCAgICAgICAgCiAgICAgICAgICBjcm93ZHNhbGVIYXNTdGFydGVkID0gdHJ1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoYXQgdGhlIENyb3dkc2FsZSBoYXMgc3RhcnRlZCAgICAgICAgIAogICAgICAgICAgQ3Jvd2RzYWxlU3RhcnRlZChibG9jay5udW1iZXIpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJhaXNlIENyb3dkc2FsZVN0YXJ0ZWQgZXZlbnQgICAgIAogICAgICAgIH0gZWxzZXsKICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAocGFydGljaXBhbnRDb250cmlidXRpb25bbXNnLnNlbmRlcl0gPT0gMCl7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaXMgYSBuZXcgdXNlciAgICAgICAKICAgICAgICBwYXJ0aWNpcGFudEluZGV4W25leHRGcmVlUGFydGljaXBhbnRJbmRleF0gPSBtc2cuc2VuZGVyOyAgICAgICAgICAgICAgICAvLyBBZGQgYSBuZXcgdXNlciB0byB0aGUgcGFydGljaXBhbnQgaW5kZXggICAgICAgCiAgICAgICAgbmV4dEZyZWVQYXJ0aWNpcGFudEluZGV4ICs9IDE7CiAgICAgIH0gIAogICAgICBpZiAobWF4RXRoVG9SYWlzZSA+ICh0b3RhbEV0aFJhaXNlZCArIG1zZy52YWx1ZSkpeyAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSB1c2VyIHNlbnQgdG9vIG11Y2ggRVRIICAgICAgIAogICAgICAgIHBhcnRpY2lwYW50Q29udHJpYnV0aW9uW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBjb250cmlidXRpb24gICAgICAKICAgICAgICB0b3RhbEV0aFJhaXNlZCArPSBtc2cudmFsdWU7IC8vIEFkZCB0byB0b3RhbCBldGggUmFpc2VkCiAgICAgICAgVGVzdGVrVG9rZW5Db250cmFjdC5taW50VG9rZW5zKG1zZy5zZW5kZXIsIGdldFRlc3Rla1Rva2VuSXNzdWFuY2UoYmxvY2subnVtYmVyLCBtc2cudmFsdWUpKTsKICAgICAgICBpZiAoIXNvZnRDYXBSZWFjaGVkICYmIHRvdGFsRXRoUmFpc2VkID49IG1pbkV0aFRvUmFpc2UpeyAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgbWluIHRyZXNob2xkIGhhcyBiZWVuIHJlYWNoZWQgb25lIHRpbWUgICAgICAgIAogICAgICAgICAgQ3Jvd2RzYWxlU29mdENhcFJlYWNoZWQoYmxvY2subnVtYmVyKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJhaXNlIENyb3dkc2FsZXNvZnRDYXBSZWFjaGVkIGV2ZW50ICAgICAgICAKICAgICAgICAgIHNvZnRDYXBSZWFjaGVkID0gdHJ1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhhdCB0aGUgbWluIHRyZXNob2xkIGhhcyBiZWVuIHJlYWNoZWQgICAgICAgCiAgICAgICAgfSAgICAgCiAgICAgIH1lbHNleyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdXNlciBzZW50IHRvIG11Y2ggZXRoICAgICAgIAogICAgICAgIHVpbnQgbWF4Q29udHJpYnV0aW9uID0gbWF4RXRoVG9SYWlzZSAtIHRvdGFsRXRoUmFpc2VkOyAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBtYXhpbXVtIGNvbnRyaWJ1dGlvbiAgICAgICAKICAgICAgICBwYXJ0aWNpcGFudENvbnRyaWJ1dGlvblttc2cuc2VuZGVyXSArPSBtYXhDb250cmlidXRpb247ICAgICAgICAgICAgICAgICAvLyBBZGQgbWF4aW11bSBjb250cmlidXRpb24gdG8gYWNjb3VudCAgICAgIAogICAgICAgIHRvdGFsRXRoUmFpc2VkICs9IG1heENvbnRyaWJ1dGlvbjsgIAogICAgICAgIFRlc3Rla1Rva2VuQ29udHJhY3QubWludFRva2Vucyhtc2cuc2VuZGVyLCBnZXRUZXN0ZWtUb2tlbklzc3VhbmNlKGJsb2NrLm51bWJlciwgbWF4Q29udHJpYnV0aW9uKSk7CiAgICAgICAgdWludCB0b1JldHVybiA9IG1zZy52YWx1ZSAtIG1heENvbnRyaWJ1dGlvbjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGhvdyBtdWNoIHNob3VsZCBiZSByZXR1cm5lZCAgICAgICAKICAgICAgICBjcm93ZHNhbGVIYXNTdWNlc3NmdWx5RW5kZWQgPSB0cnVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhhdCBDcm93ZHNhbGUgaGFzIHN1Y2Nlc3NmdWxseSBlbmRlZCAgICAKICAgICAgICBDcm93ZHNhbGVIYXJkQ2FwUmVhY2hlZChibG9jay5udW1iZXIpOwogICAgICAgIGhhcmRDYXBSZWFjaGVkID0gdHJ1ZTsKICAgICAgICBDcm93ZHNhbGVFbmRlZFN1Y2Nlc3NmdWx5KGJsb2NrLm51bWJlciwgdG90YWxFdGhSYWlzZWQpOyAgICAgIAogICAgICAgIGlmKCFtc2cuc2VuZGVyLnNlbmQodG9SZXR1cm4pKXsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVmdW5kIHRoZSBiYWxhbmNlIHRoYXQgaXMgb3ZlciB0aGUgY2FwICAgICAgICAgCiAgICAgICAgICBFcnJvclNlbmRpbmdFVEgobXNnLnNlbmRlciwgdG9SZXR1cm4pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSYWlzZSBldmVudCBmb3IgbWFudWFsIHJldHVybiBpZiB0cmFuc2FjdGlvbiB0aHJvd3MgICAgICAgCiAgICAgICAgfSAgICAgCiAgICAgIH0gICAgIAogICAgfQogICAgCiAgICAvKiBVc2VycyBjYW4gY2xhaW0gRVRIIGJ5IHRoZW1zZWx2ZXMgaWYgdGhleSB3YW50IHRvIGluIGNhc2Ugb2YgRVRIIGZhaWx1cmUgKi8gICAKICAgIGZ1bmN0aW9uIGNsYWltRXRoSWZGYWlsZWQoKXsgICAgCiAgICAgIGlmIChibG9jay5udW1iZXIgPD0gZW5kQmxvY2sgfHwgdG90YWxFdGhSYWlzZWQgPj0gbWluRXRoVG9SYWlzZSkgdGhyb3c7IC8vIENoZWNrIGlmIENyb3dkc2FsZSBoYXMgZmFpbGVkICAgIAogICAgICBpZiAocGFydGljaXBhbnRDb250cmlidXRpb25bbXNnLnNlbmRlcl0gPT0gMCkgdGhyb3c7ICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB1c2VyIGhhcyBwYXJ0aWNpcGF0ZWQgICAgIAogICAgICBpZiAoaGFzQ2xhaW1lZEV0aFdoZW5GYWlsW21zZy5zZW5kZXJdKSB0aHJvdzsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGFjY291bnQgaGFzIGFscmVhZHkgY2xhaW1lZCBFVEggICAgCiAgICAgIHVpbnQyNTYgZXRoQ29udHJpYnV0ZWQgPSBwYXJ0aWNpcGFudENvbnRyaWJ1dGlvblttc2cuc2VuZGVyXTsgICAgICAgICAgIC8vIEdldCBwYXJ0aWNpcGFudCBFVEggQ29udHJpYnV0aW9uICAgICAKICAgICAgaGFzQ2xhaW1lZEV0aFdoZW5GYWlsW21zZy5zZW5kZXJdID0gdHJ1ZTsgICAgIAogICAgICBpZiAoIW1zZy5zZW5kZXIuc2VuZChldGhDb250cmlidXRlZCkpeyAgICAgIAogICAgICAgIEVycm9yU2VuZGluZ0VUSChtc2cuc2VuZGVyLCBldGhDb250cmlidXRlZCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSYWlzZSBldmVudCBpZiBzZW5kIGZhaWxlZCwgc29sdmUgbWFudWFsbHkgICAgIAogICAgICB9ICAgCiAgICB9IAoKICAgIC8qIE93bmVyIGNhbiByZXR1cm4gZXRoIGZvciBtdWx0aXBsZSB1c2VycyBpbiBvbmUgY2FsbCAqLyAgCiAgICBmdW5jdGlvbiBiYXRjaFJldHVybkV0aElmRmFpbGVkKHVpbnQyNTYgX251bWJlck9mUmV0dXJucykgb25seU93bmVyeyAgICAKICAgICAgaWYgKGJsb2NrLm51bWJlciA8IGVuZEJsb2NrIHx8IHRvdGFsRXRoUmFpc2VkID49IG1pbkV0aFRvUmFpc2UpIHRocm93OyAgICAvLyBDaGVjayBpZiBDcm93ZHNhbGUgZmFpbGVkICAKICAgICAgYWRkcmVzcyBjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzOyAgICAKICAgICAgdWludDI1NiBjb250cmlidXRpb247CiAgICAgIGZvciAodWludCBjbnQgPSAwOyBjbnQgPCBfbnVtYmVyT2ZSZXR1cm5zOyBjbnQrKyl7ICAgICAgCiAgICAgICAgY3VycmVudFBhcnRpY2lwYW50QWRkcmVzcyA9IHBhcnRpY2lwYW50SW5kZXhbbGFzdEV0aFJldHVybkluZGV4XTsgICAgICAgLy8gR2V0IG5leHQgYWNjb3VudCAgICAgICAKICAgICAgICBpZiAoY3VycmVudFBhcnRpY2lwYW50QWRkcmVzcyA9PSAweDApIHJldHVybjsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBwYXJ0aWNpcGFudHMgd2VyZSByZWltYnVyc2VkICAgICAgCiAgICAgICAgaWYgKCFoYXNDbGFpbWVkRXRoV2hlbkZhaWxbY3VycmVudFBhcnRpY2lwYW50QWRkcmVzc10pIHsgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciBoYXMgbWFudWFsbHkgcmVjb3ZlcmVkIEVUSCAgICAgICAgIAogICAgICAgICAgY29udHJpYnV0aW9uID0gcGFydGljaXBhbnRDb250cmlidXRpb25bY3VycmVudFBhcnRpY2lwYW50QWRkcmVzc107ICAgIC8vIEdldCBhY2NvdW50cyBjb250cmlidXRpb24gICAgICAgIAogICAgICAgICAgaGFzQ2xhaW1lZEV0aFdoZW5GYWlsW21zZy5zZW5kZXJdID0gdHJ1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGF0IHVzZXIgZ290IGhpcyBFVEggYmFjayAgICAgICAgIAogICAgICAgICAgaWYgKCFjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzLnNlbmQoY29udHJpYnV0aW9uKSl7ICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgZnVuZCBiYWNrIHRvIGFjY291bnQgICAgICAgICAgCiAgICAgICAgICAgICBFcnJvclNlbmRpbmdFVEgoY3VycmVudFBhcnRpY2lwYW50QWRkcmVzcywgY29udHJpYnV0aW9uKTsgICAgICAgICAgIC8vIFJhaXNlIGV2ZW50IGlmIHNlbmQgZmFpbGVkLCByZXNvbHZlIG1hbnVhbGx5ICAgICAgICAgCiAgICAgICAgICB9ICAgICAgIAogICAgICAgIH0gICAgICAgCiAgICAgICAgbGFzdEV0aFJldHVybkluZGV4ICs9IDE7ICAgIAogICAgICB9ICAgCiAgICB9CiAgICAgIAogICAgLyogT3duZXIgc2V0cyBuZXcgYWRkcmVzcyBvZiBlc2Nyb3cgKi8KICAgIGZ1bmN0aW9uIGNoYW5nZU11bHRpc2lnQWRkcmVzcyhhZGRyZXNzIF9uZXdBZGRyZXNzKSBvbmx5T3duZXIgeyAgICAgCiAgICAgIG11bHRpc2lnQWRkcmVzcyA9IF9uZXdBZGRyZXNzOwogICAgfSAKICAgIAogICAgLyogU2hvdyBob3cgbWFueSBwYXJ0aWNpcGFudHMgd2FzICovCiAgICBmdW5jdGlvbiBwYXJ0aWNpcGFudENvdW50KCkgY29uc3RhbnQgcmV0dXJucyh1aW50KXsKICAgICAgcmV0dXJuIG5leHRGcmVlUGFydGljaXBhbnRJbmRleDsKICAgIH0KCiAgICAvKiBPd25lciBjYW4gY2xhaW0gcmVzZXJ2ZWQgdG9rZW5zIG9uIHRoZSBlbmQgb2YgY3Jvd3NhbGUgKi8gIAogICAgZnVuY3Rpb24gY2xhaW1UZWFtVG9rZW5zKGFkZHJlc3MgX3RvKSBvbmx5T3duZXJ7ICAgICAKICAgICAgaWYgKCFjcm93ZHNhbGVIYXNTdWNlc3NmdWx5RW5kZWQpIHRocm93OyAKICAgICAgaWYgKG93bmVySGFzQ2xhaW1lZFRva2VucykgdGhyb3c7CiAgICAgICAgCiAgICAgIFRlc3Rla1Rva2VuQ29udHJhY3QubWludFRva2VucyhfdG8sIFRlc3Rla1Rva2VuQ29udHJhY3QudG90YWxTdXBwbHkoKSAqIDQ5LzUxKTsgLyogNTElIENyb3dkc2FsZSAtIDQ5JSBUZXN0ZWsgKi8KICAgICAgb3duZXJIYXNDbGFpbWVkVG9rZW5zID0gdHJ1ZTsKICAgIH0gCiAgICAgIAogICAgLyogU2V0IHRva2VuIGNvbnRyYWN0IHdoZXJlIG1pbnRzIHdpbGwgYmUgZG9uZSAodG9rZW5zIHdpbGwgYmUgaXNzdWVkKSAqLyAgCiAgICBmdW5jdGlvbiBzZXRUb2tlbkNvbnRyYWN0KGFkZHJlc3MgX1Rlc3Rla1Rva2VuQ29udHJhY3RBZGRyZXNzKSBvbmx5T3duZXIgeyAgICAgCiAgICAgIFRlc3Rla1Rva2VuQ29udHJhY3QgPSBJVGVzdGVrVG9rZW4oX1Rlc3Rla1Rva2VuQ29udHJhY3RBZGRyZXNzKTsgICAKICAgIH0gICAKICAgICAgIAogICAgZnVuY3Rpb24gZ2V0VGVzdGVrVG9rZW5Jc3N1YW5jZSh1aW50MjU2IF9ibG9ja051bWJlciwgdWludDI1NiBfZXRoU2VudCkgY29uc3RhbnQgcmV0dXJucyh1aW50KXsKICAgICAgaWYgKF9ibG9ja051bWJlciA+PSBzdGFydEJsb2NrICYmIF9ibG9ja051bWJlciA8IHN0YXJ0QmxvY2sgKyBibG9ja3NJbkFEYXkgKiAyKSByZXR1cm4gX2V0aFNlbnQgKiAzNTQwOwogICAgICBpZiAoX2Jsb2NrTnVtYmVyID49IHN0YXJ0QmxvY2sgKyBibG9ja3NJbkFEYXkgKiAyICYmIF9ibG9ja051bWJlciA8IHN0YXJ0QmxvY2sgKyBibG9ja3NJbkFEYXkgKiA3KSByZXR1cm4gX2V0aFNlbnQgKiAzMjg5OyAKICAgICAgaWYgKF9ibG9ja051bWJlciA+PSBzdGFydEJsb2NrICsgYmxvY2tzSW5BRGF5ICogNyAmJiBfYmxvY2tOdW1iZXIgPCBzdGFydEJsb2NrICsgYmxvY2tzSW5BRGF5ICogMTQpIHJldHVybiBfZXRoU2VudCAqIDMxODQ7IAogICAgICBpZiAoX2Jsb2NrTnVtYmVyID49IHN0YXJ0QmxvY2sgKyBibG9ja3NJbkFEYXkgKiAxNCAmJiBfYmxvY2tOdW1iZXIgPCBzdGFydEJsb2NrICsgYmxvY2tzSW5BRGF5ICogMjEpIHJldHVybiBfZXRoU2VudCAqIDMwOTc7IAogICAgICBpZiAoX2Jsb2NrTnVtYmVyID49IHN0YXJ0QmxvY2sgKyBibG9ja3NJbkFEYXkgKiAyMSApIHJldHVybiBfZXRoU2VudCAqIDMwMDk7CiAgICB9CiAgICAKICAgIC8qIFdpdGhkcmF3IGZ1bmRzIGZyb20gY29udHJhY3QgKi8gIAogICAgZnVuY3Rpb24gd2l0aGRyYXdFdGhlcigpIG9ubHlPd25lcnsgICAgIAogICAgICBpZiAodGhpcy5iYWxhbmNlID09IDApIHRocm93OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYmFsYW5jZSBvbiB0aGUgY29udHJhY3QgICAgIAogICAgICBpZiAodG90YWxFdGhSYWlzZWQgPCBtaW5FdGhUb1JhaXNlKSB0aHJvdzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbWluRXRoVG9SYWlzZSB0cmVzaG9sZCBpcyBleGNlZWRlZCAgICAgCiAgICAgICAgICAKICAgICAgaWYobXVsdGlzaWdBZGRyZXNzLnNlbmQodGhpcy5iYWxhbmNlKSl7fSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgdGhlIGNvbnRyYWN0J3MgYmFsYW5jZSB0byBtdWx0aXNpZyBhZGRyZXNzICAgCiAgICB9CgogICAgZnVuY3Rpb24gZW5kQ3Jvd2RzYWxlKCkgb25seU93bmVyewogICAgICBpZiAodG90YWxFdGhSYWlzZWQgPCBtaW5FdGhUb1JhaXNlKSB0aHJvdzsKICAgICAgaWYgKGJsb2NrLm51bWJlciA8IGVuZEJsb2NrKSB0aHJvdzsKICAgICAgY3Jvd2RzYWxlSGFzU3VjZXNzZnVseUVuZGVkID0gdHJ1ZTsKICAgICAgQ3Jvd2RzYWxlRW5kZWRTdWNjZXNzZnVseShibG9jay5udW1iZXIsIHRvdGFsRXRoUmFpc2VkKTsKICAgIH0KICAgIAogICAgCiAgICBmdW5jdGlvbiBzYWx2YWdlVG9rZW5zRnJvbUNvbnRyYWN0KGFkZHJlc3MgX3Rva2VuQWRkcmVzcywgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgb25seU93bmVyewogICAgSUVSQzIwVG9rZW4oX3Rva2VuQWRkcmVzcykudHJhbnNmZXIoX3RvLCBfYW1vdW50KTsKICAgIH0KICAgIC8qIEdldHRlcnMgKi8gICAgIAogICAgCiAgICBmdW5jdGlvbiBnZXRUU1RUb2tlbkFkZHJlc3MoKSBjb25zdGFudCByZXR1cm5zKGFkZHJlc3MgX3Rva2VuQWRkcmVzcyl7ICAgIAogICAgICByZXR1cm4gYWRkcmVzcyhUZXN0ZWtUb2tlbkNvbnRyYWN0KTsgICAKICAgIH0gICAKICAgIAogICAgZnVuY3Rpb24gY3Jvd2RzYWxlSW5Qcm9ncmVzcygpIGNvbnN0YW50IHJldHVybnMgKGJvb2wgYW5zd2VyKXsgICAgCiAgICAgIHJldHVybiBjcm93ZHNhbGVIYXNTdGFydGVkICYmICFjcm93ZHNhbGVIYXNTdWNlc3NmdWx5RW5kZWQ7ICAgCiAgICB9ICAgCiAgICAKICAgIGZ1bmN0aW9uIHBhcnRpY2lwYW50Q29udHJpYnV0aW9uSW5FdGgoYWRkcmVzcyBfcXVlcnJ5QWRkcmVzcykgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBhbnN3ZXIpeyAgICAKICAgICAgcmV0dXJuIHBhcnRpY2lwYW50Q29udHJpYnV0aW9uW19xdWVycnlBZGRyZXNzXTsgICAKICAgIH0KICAgIAogICAgLyogV2l0aGRyYXcgcmVtYWluaW5nIGJhbGFuY2UgdG8gbWFudWFsbHkgcmV0dXJuIHdoZXJlIGNvbnRyYWN0IHNlbmQgaGFzIGZhaWxlZCAqLyAgCiAgICBmdW5jdGlvbiB3aXRoZHJhd1JlbWFpbmluZ0JhbGFuY2VGb3JNYW51YWxSZWNvdmVyeSgpIG9ubHlPd25lcnsgICAgIAogICAgICBpZiAodGhpcy5iYWxhbmNlID09IDApIHRocm93OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYmFsYW5jZSBvbiB0aGUgY29udHJhY3QgICAgCiAgICAgIGlmIChibG9jay5udW1iZXIgPCBlbmRCbG9jaykgdGhyb3c7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBDcm93ZHNhbGUgZmFpbGVkICAgIAogICAgICBpZiAocGFydGljaXBhbnRJbmRleFtsYXN0RXRoUmV0dXJuSW5kZXhdICE9IDB4MCkgdGhyb3c7ICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYWxsIHRoZSBwYXJ0aWNpcGFudHMgaGF2ZSBiZWVuIHJlaW1idXJzZWQgICAgIAogICAgICBpZiAobXVsdGlzaWdBZGRyZXNzLnNlbmQodGhpcy5iYWxhbmNlKSl7fSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCByZW1haW5kZXIgc28gaXQgY2FuIGJlIG1hbnVhbGx5IHByb2Nlc3NlZCAgIAogICAgfQp9'.
	

]
