Class {
	#name : #SRTae38c27e646959735ec70d77ed4ecc03a3eff490,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTae38c27e646959735ec70d77ed4ecc03a3eff490 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovLy8gQHRpdGxlIHByb3ZpZGVzIHN1YmplY3QgdG8gcm9sZSBjaGVja2luZyBsb2dpYwpjb250cmFjdCBJQWNjZXNzUG9saWN5IHsKCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vIFB1YmxpYyBmdW5jdGlvbnMKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgIC8vLyBAbm90aWNlIFdlIGRvbid0IG1ha2UgdGhpcyBmdW5jdGlvbiBjb25zdGFudCB0byBhbGxvdyBmb3Igc3RhdGUtdXBkYXRpbmcgYWNjZXNzIGNvbnRyb2xzIHN1Y2ggYXMgcmF0ZSBsaW1pdGluZy4KICAgIC8vLyBAZGV2IGNoZWNrcyBpZiBzdWJqZWN0IGJlbG9uZ3MgdG8gcmVxdWVzdGVkIHJvbGUgZm9yIHBhcnRpY3VsYXIgb2JqZWN0CiAgICAvLy8gQHBhcmFtIHN1YmplY3QgYWRkcmVzcyB0byBiZSBjaGVja2VkIGFnYWluc3Qgcm9sZSwgdHlwaWNhbGx5IG1zZy5zZW5kZXIKICAgIC8vLyBAcGFyYW0gcm9sZSBpZGVudGlmaWVyIG9mIHJlcXVpcmVkIHJvbGUKICAgIC8vLyBAcGFyYW0gb2JqZWN0IGNvbnRyYWN0IGluc3RhbmNlIGNvbnRleHQgZm9yIHJvbGUgY2hlY2tpbmcsIHR5cGljYWxseSBjb250cmFjdCByZXF1ZXN0aW5nIHRoZSBjaGVjawogICAgLy8vIEBwYXJhbSB2ZXJiIGFkZGl0aW9uYWwgZGF0YSwgaW4gY3VycmVudCBBY2Nlc3NDb250cm9sbCBpbXBsZW1lbnRhdGlvbiBtc2cuc2lnCiAgICAvLy8gQHJldHVybiBpZiBzdWJqZWN0IGJlbG9uZ3MgdG8gYSByb2xlCiAgICBmdW5jdGlvbiBhbGxvd2VkKAogICAgICAgIGFkZHJlc3Mgc3ViamVjdCwKICAgICAgICBieXRlczMyIHJvbGUsCiAgICAgICAgYWRkcmVzcyBvYmplY3QsCiAgICAgICAgYnl0ZXM0IHZlcmIKICAgICkKICAgICAgICBwdWJsaWMKICAgICAgICByZXR1cm5zIChib29sKTsKfQoKLy8vIEB0aXRsZSBlbmFibGVzIGFjY2VzcyBjb250cm9sIGluIGltcGxlbWVudGluZyBjb250cmFjdAovLy8gQGRldiBzZWUgQWNjZXNzQ29udHJvbGxlZCBmb3IgaW1wbGVtZW50YXRpb24KY29udHJhY3QgSUFjY2Vzc0NvbnRyb2xsZWQgewoKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgLy8gRXZlbnRzCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAvLy8gQGRldiBtdXN0IGxvZyBvbiBhY2Nlc3MgcG9saWN5IGNoYW5nZQogICAgZXZlbnQgTG9nQWNjZXNzUG9saWN5Q2hhbmdlZCgKICAgICAgICBhZGRyZXNzIGNvbnRyb2xsZXIsCiAgICAgICAgSUFjY2Vzc1BvbGljeSBvbGRQb2xpY3ksCiAgICAgICAgSUFjY2Vzc1BvbGljeSBuZXdQb2xpY3kKICAgICk7CgogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLyBQdWJsaWMgZnVuY3Rpb25zCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAvLy8gQGRldiBhbGxvd3MgdG8gY2hhbmdlIGFjY2VzcyBjb250cm9sIG1lY2hhbmlzbSBmb3IgdGhpcyBjb250cmFjdAogICAgLy8vICAgICB0aGlzIG1ldGhvZCBtdXN0IGJlIGl0c2VsZiBhY2Nlc3MgY29udHJvbGxlZCwgc2VlIEFjY2Vzc0NvbnRyb2xsZWQgaW1wbGVtZW50YXRpb24gYW5kIG5vdGljZSBiZWxvdwogICAgLy8vIEBub3RpY2UgaXQgaXMgYSBodWdlIGlzc3VlIGZvciBTb2xpZGl0eSB0aGF0IG1vZGlmaWVycyBhcmUgbm90IHBhcnQgb2YgZnVuY3Rpb24gc2lnbmF0dXJlCiAgICAvLy8gICAgIHRoZW4gaW50ZXJmYWNlcyBjb3VsZCBiZSB1c2VkIGZvciBleGFtcGxlIHRvIGNvbnRyb2wgYWNjZXNzIHNlbWFudGljcwogICAgLy8vIEBwYXJhbSBuZXdQb2xpY3kgbmV3IGFjY2VzcyBwb2xpY3kgdG8gY29udHJvbGwgdGhpcyBjb250cmFjdAogICAgLy8vIEBwYXJhbSBuZXdBY2Nlc3NDb250cm9sbGVyIGFkZHJlc3Mgb2YgUk9MRV9BQ0NFU1NfQ09OVFJPTExFUiBvZiBuZXcgcG9saWN5IHRoYXQgY2FuIHNldCBhY2Nlc3MgdG8gdGhpcyBjb250cmFjdAogICAgZnVuY3Rpb24gc2V0QWNjZXNzUG9saWN5KElBY2Nlc3NQb2xpY3kgbmV3UG9saWN5LCBhZGRyZXNzIG5ld0FjY2Vzc0NvbnRyb2xsZXIpCiAgICAgICAgcHVibGljOwoKICAgIGZ1bmN0aW9uIGFjY2Vzc1BvbGljeSgpCiAgICAgICAgcHVibGljCiAgICAgICAgY29uc3RhbnQKICAgICAgICByZXR1cm5zIChJQWNjZXNzUG9saWN5KTsKCn0KCmNvbnRyYWN0IFN0YW5kYXJkUm9sZXMgewoKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgLy8gQ29uc3RhbnRzCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAvLyBAbm90aWNlIFNvbGRpdHkgc29tZWhvdyBkb2Vzbid0IGV2YWx1YXRlIHRoaXMgY29tcGlsZSB0aW1lCiAgICAvLyBAZGV2IHJvbGUgd2hpY2ggaGFzIHJpZ2h0cyB0byBjaGFuZ2UgcGVybWlzc2lvbnMgYW5kIHNldCBuZXcgcG9saWN5IGluIGNvbnRyYWN0LCBrZWNjYWsyNTYoIkFjY2Vzc0NvbnRyb2xsZXIiKQogICAgYnl0ZXMzMiBpbnRlcm5hbCBjb25zdGFudCBST0xFX0FDQ0VTU19DT05UUk9MTEVSID0gMHhhYzQyZjhiZWIxNzk3NWVkMDYyZGNiODBjNjNlNmQyMDNlZjFjMmMzMzVjZWQxNDlkYzU2NjRjYzY3MWNiN2RhOwp9CgovLy8gQHRpdGxlIEdyYW51bGFyIGNvZGUgZXhlY3V0aW9uIHBlcm1pc3Npb25zCi8vLyBAbm90aWNlIEludGVuZGVkIHRvIHJlcGxhY2UgZXhpc3RpbmcgT3duYWJsZSBwYXR0ZXJuIHdpdGggbW9yZSBncmFudWxhciBwZXJtaXNzaW9ucyBzZXQgdG8gZXhlY3V0ZSBzbWFydCBjb250cmFjdCBmdW5jdGlvbnMKLy8vICAgICBmb3IgZWFjaCBmdW5jdGlvbiB3aGVyZSAnb25seScgbW9kaWZpZXIgaXMgYXBwbGllZCwgSUFjY2Vzc1BvbGljeSBpbXBsZW1lbnRhdGlvbiBpcyBjYWxsZWQgdG8gZXZhbHVhdGUgaWYgbXNnLnNlbmRlciBiZWxvbmdzIHRvIHJlcXVpcmVkIHJvbGUgZm9yIGNvbnRyYWN0IGJlaW5nIGNhbGxlZC4KLy8vICAgICBBY2Nlc3MgZXZhbHVhdGlvbiBzcGVjaWZpYyBiZWxvbmcgdG8gSUFjY2Vzc1BvbGljeSBpbXBsZW1lbnRhdGlvbiwgc2VlIFJvbGVCYXNlZEFjY2Vzc1BvbGljeSBmb3IgZGV0YWlscy4KLy8vIEBkZXYgU2hvdWxkIGJlIGluaGVyaXRlZCBieSBhIGNvbnRyYWN0IHJlcXVpcmluZyBzdWNoIHBlcm1pc3Npb25zIGNvbnRyb2xsLiBJQWNjZXNzUG9saWN5IG11c3QgYmUgcHJvdmlkZWQgaW4gY29uc3RydWN0b3IuIEFjY2VzcyBwb2xpY3kgbWF5IGJlIHJlcGxhY2VkIHRvIGEgZGlmZmVyZW50IG9uZQovLy8gICAgIGJ5IG1zZy5zZW5kZXIgd2l0aCBST0xFX0FDQ0VTU19DT05UUk9MTEVSIHJvbGUKY29udHJhY3QgQWNjZXNzQ29udHJvbGxlZCBpcyBJQWNjZXNzQ29udHJvbGxlZCwgU3RhbmRhcmRSb2xlcyB7CgogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLyBNdXRhYmxlIHN0YXRlCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICBJQWNjZXNzUG9saWN5IHByaXZhdGUgX2FjY2Vzc1BvbGljeTsKCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vIE1vZGlmaWVycwogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgLy8vIEBkZXYgbGltaXRzIGZ1bmN0aW9uIGV4ZWN1dGlvbiBvbmx5IHRvIHNlbmRlcnMgYXNzaWduZWQgdG8gcmVxdWlyZWQgJ3JvbGUnCiAgICBtb2RpZmllciBvbmx5KGJ5dGVzMzIgcm9sZSkgewogICAgICAgIHJlcXVpcmUoX2FjY2Vzc1BvbGljeS5hbGxvd2VkKG1zZy5zZW5kZXIsIHJvbGUsIHRoaXMsIG1zZy5zaWcpKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgLy8gQ29uc3RydWN0b3IKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgIGZ1bmN0aW9uIEFjY2Vzc0NvbnRyb2xsZWQoSUFjY2Vzc1BvbGljeSBwb2xpY3kpIGludGVybmFsIHsKICAgICAgICByZXF1aXJlKGFkZHJlc3MocG9saWN5KSAhPSAweDApOwogICAgICAgIF9hY2Nlc3NQb2xpY3kgPSBwb2xpY3k7CiAgICB9CgogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLyBQdWJsaWMgZnVuY3Rpb25zCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAvLwogICAgLy8gSW1wbGVtZW50cyBJQWNjZXNzQ29udHJvbGxlZAogICAgLy8KCiAgICBmdW5jdGlvbiBzZXRBY2Nlc3NQb2xpY3koSUFjY2Vzc1BvbGljeSBuZXdQb2xpY3ksIGFkZHJlc3MgbmV3QWNjZXNzQ29udHJvbGxlcikKICAgICAgICBwdWJsaWMKICAgICAgICBvbmx5KFJPTEVfQUNDRVNTX0NPTlRST0xMRVIpCiAgICB7CiAgICAgICAgLy8gUk9MRV9BQ0NFU1NfQ09OVFJPTExFUiBtdXN0IGJlIHByZXNlbnQKICAgICAgICAvLyB1bmRlciB0aGUgbmV3IHBvbGljeS4gVGhpcyBwcm92aWRlcyBzb21lCiAgICAgICAgLy8gcHJvdGVjdGlvbiBhZ2FpbnN0IGxvY2tpbmcgeW91cnNlbGYgb3V0LgogICAgICAgIHJlcXVpcmUobmV3UG9saWN5LmFsbG93ZWQobmV3QWNjZXNzQ29udHJvbGxlciwgUk9MRV9BQ0NFU1NfQ09OVFJPTExFUiwgdGhpcywgbXNnLnNpZykpOwoKICAgICAgICAvLyBXZSBjYW4gbm93IHNhZmVseSBzZXQgdGhlIG5ldyBwb2xpY3kgd2l0aG91dCBmb290IHNob290aW5nLgogICAgICAgIElBY2Nlc3NQb2xpY3kgb2xkUG9saWN5ID0gX2FjY2Vzc1BvbGljeTsKICAgICAgICBfYWNjZXNzUG9saWN5ID0gbmV3UG9saWN5OwoKICAgICAgICAvLyBMb2cgZXZlbnQKICAgICAgICBMb2dBY2Nlc3NQb2xpY3lDaGFuZ2VkKG1zZy5zZW5kZXIsIG9sZFBvbGljeSwgbmV3UG9saWN5KTsKICAgIH0KCiAgICBmdW5jdGlvbiBhY2Nlc3NQb2xpY3koKQogICAgICAgIHB1YmxpYwogICAgICAgIGNvbnN0YW50CiAgICAgICAgcmV0dXJucyAoSUFjY2Vzc1BvbGljeSkKICAgIHsKICAgICAgICByZXR1cm4gX2FjY2Vzc1BvbGljeTsKICAgIH0KfQoKY29udHJhY3QgQWNjZXNzUm9sZXMgewoKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgLy8gQ29uc3RhbnRzCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAvLyBOT1RFOiBBbGwgcm9sZXMgYXJlIHNldCB0byB0aGUga2VjY2FrMjU2IGhhc2ggb2YgdGhlCiAgICAvLyBDYW1lbENhc2VkIHJvbGUgbmFtZSwgaS5lLgogICAgLy8gUk9MRV9MT0NLRURfQUNDT1VOVF9BRE1JTiA9IGtlY2NhazI1NigiTG9ja2VkQWNjb3VudEFkbWluIikKCiAgICAvLyBtYXkgc2V0dXAgTG9ja2VkQWNjb3VudCwgY2hhbmdlIGRpc2J1cnNhbCBtZWNoYW5pc20gYW5kIHNldCBtaWdyYXRpb24KICAgIGJ5dGVzMzIgaW50ZXJuYWwgY29uc3RhbnQgUk9MRV9MT0NLRURfQUNDT1VOVF9BRE1JTiA9IDB4NDY3NWRhNTQ2ZDJkOTJjNWI4NmM0ZjcyNmE5ZTYxMDEwZGNlOTFjY2NjMjQ5MWNlNjAxOWU3OGIwOWQyNTcyZTsKCiAgICAvLyBtYXkgc2V0dXAgd2hpdGVsaXN0cyBhbmQgYWJvcnQgd2hpdGVsaXN0aW5nIGNvbnRyYWN0IHdpdGggY3VydmUgcm9sbGJhY2sKICAgIGJ5dGVzMzIgaW50ZXJuYWwgY29uc3RhbnQgUk9MRV9XSElURUxJU1RfQURNSU4gPSAweGFlZjQ1NmU3Yzg2NDQxOGUxZDJhNDBkOTk2Y2E0ZmViZjNhN2UzMTdmZTNhZjVhN2VhNGRkYTU5MDMzYmJlNWM7CgogICAgLy8gTWF5IGlzc3VlIChnZW5lcmF0ZSkgTmV1bWFya3MKICAgIGJ5dGVzMzIgaW50ZXJuYWwgY29uc3RhbnQgUk9MRV9ORVVNQVJLX0lTU1VFUiA9IDB4OTIxYzNhZmExZjFmZmY3MDdhNzg1Zjk1M2ExZTE5N2JkMjhjOWM1MGUzMDA0MjRlMDE1OTUzY2JmMTIwYzA2YzsKCiAgICAvLyBNYXkgYnVybiBOZXVtYXJrcyBpdCBvd25zCiAgICBieXRlczMyIGludGVybmFsIGNvbnN0YW50IFJPTEVfTkVVTUFSS19CVVJORVIgPSAweDE5Y2UzMzEyODVmNDE3MzljZDMzNjJhM2VjMTc2ZWRmZmUwMTQzMTFjMGY4MDc1ODM0ZmRkMTlkNjcxOGU2OWY7CgogICAgLy8gTWF5IGNyZWF0ZSBuZXcgc25hcHNob3RzIG9uIE5ldW1hcmsKICAgIGJ5dGVzMzIgaW50ZXJuYWwgY29uc3RhbnQgUk9MRV9TTkFQU0hPVF9DUkVBVE9SID0gMHgwOGMxNzg1YWZjNTdmOTMzNTIzYmM1MjU4M2E3MmNlOWUxOWIyMjQxMzU0ZTA0ZGQ4NmY0MWY4ODdlM2Q4MTc0OwoKICAgIC8vIE1heSBlbmFibGUvZGlzYWJsZSB0cmFuc2ZlcnMgb24gTmV1bWFyawogICAgYnl0ZXMzMiBpbnRlcm5hbCBjb25zdGFudCBST0xFX1RSQU5TRkVSX0FETUlOID0gMHhiNjUyN2U5NDRjYWNhM2QxNTFiMWY5NGU0OWFjNWUyMjMxNDI2OTQ4NjA3NDNlNjYxNjQ3MjBlMDM0ZWM5YjE5OwoKICAgIC8vIG1heSByZWNsYWltIHRva2Vucy9ldGhlciBmcm9tIGNvbnRyYWN0cyBzdXBwb3J0aW5nIElSZWNsYWltYWJsZSBpbnRlcmZhY2UKICAgIGJ5dGVzMzIgaW50ZXJuYWwgY29uc3RhbnQgUk9MRV9SRUNMQUlNRVIgPSAweDA1NDJiYmQwYzY3MjU3ODk2NmRjYzUyNWIzMGFhMTY3MjNiYjA0MjY3NTU1NGFjNWIwMzYyZjg2YjZlOTdkYzU7CgogICAgLy8gcmVwcmVzZW50cyBsZWdhbGx5IHBsYXRmb3JtIG9wZXJhdG9yIGluIGNhc2Ugb2YgZm9ya3MgYW5kIGNvbnRyYWN0cyB3aXRoIGxlZ2FsIGFncmVlbWVudCBhdHRhY2hlZC4ga2VjY2FrMjU2KCJQbGF0Zm9ybU9wZXJhdG9yUmVwcmVzZW50YXRpdmUiKQogICAgYnl0ZXMzMiBpbnRlcm5hbCBjb25zdGFudCBST0xFX1BMQVRGT1JNX09QRVJBVE9SX1JFUFJFU0VOVEFUSVZFID0gMHhiMmIzMjEzNzc2NTNmNjU1MjA2ZjcxNTE0ZmY5ZjE1MGQwODIyZDA2MmE1YWJjZjIyMGQ1NDllMWRhNzk5OWYwOwoKICAgIC8vIGFsbG93cyB0byBkZXBvc2l0IEVVUi1UIGFuZCBhbGxvdyBhZGRyZXNzZXMgdG8gc2VuZCBhbmQgcmVjZWl2ZSBFVVItVC4ga2VjY2FrMjU2KCJFdXJ0RGVwb3NpdE1hbmFnZXIiKQogICAgYnl0ZXMzMiBpbnRlcm5hbCBjb25zdGFudCBST0xFX0VVUlRfREVQT1NJVF9NQU5BR0VSID0gMHg3YzhlY2RjYmE4MGNlODc4NDhkMTZhZDc3ZWY1N2NjMTk2YzIwOGZjOTVjNTYzOGU0YTQ4YzY4MWEzNGQ0ZmU3Owp9Cgpjb250cmFjdCBJQmFzaWNUb2tlbiB7CgogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLyBFdmVudHMKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgIGV2ZW50IFRyYW5zZmVyKAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBmcm9tLAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCB0bywKICAgICAgICB1aW50MjU2IGFtb3VudCk7CgogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLyBQdWJsaWMgZnVuY3Rpb25zCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAvLy8gQGRldiBUaGlzIGZ1bmN0aW9uIG1ha2VzIGl0IGVhc3kgdG8gZ2V0IHRoZSB0b3RhbCBudW1iZXIgb2YgdG9rZW5zCiAgICAvLy8gQHJldHVybiBUaGUgdG90YWwgbnVtYmVyIG9mIHRva2VucwogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKQogICAgICAgIHB1YmxpYwogICAgICAgIGNvbnN0YW50CiAgICAgICAgcmV0dXJucyAodWludDI1Nik7CgogICAgLy8vIEBwYXJhbSBvd25lciBUaGUgYWRkcmVzcyB0aGF0J3MgYmFsYW5jZSBpcyBiZWluZyByZXF1ZXN0ZWQKICAgIC8vLyBAcmV0dXJuIFRoZSBiYWxhbmNlIG9mIGBvd25lcmAgYXQgdGhlIGN1cnJlbnQgYmxvY2sKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIG93bmVyKQogICAgICAgIHB1YmxpYwogICAgICAgIGNvbnN0YW50CiAgICAgICAgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKCiAgICAvLy8gQG5vdGljZSBTZW5kIGBhbW91bnRgIHRva2VucyB0byBgdG9gIGZyb20gYG1zZy5zZW5kZXJgCiAgICAvLy8gQHBhcmFtIHRvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gYW1vdW50IFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgYW1vdW50KQogICAgICAgIHB1YmxpYwogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7Cgp9CgovLy8gQHRpdGxlIGFsbG93cyBkZXJpdmluZyBjb250cmFjdCB0byByZWNvdmVyIGFueSB0b2tlbiBvciBldGhlciB0aGF0IGl0IGhhcyBiYWxhbmNlIG9mCi8vLyBAbm90aWNlIG5vdGUgdGhhdCB0aGlzIG9wZW5zIHlvdXIgY29udHJhY3RzIHRvIGNsYWltcyBmcm9tIHZhcmlvdXMgcGVvcGxlIHNheWluZyB0aGV5IGxvc3QgdG9rZW5zIGFuZCB0aGV5IHdhbnQgdGhlbSBiYWNrCi8vLyAgICAgYmUgcmVhZHkgdG8gaGFuZGxlIHN1Y2ggY2xhaW1zCi8vLyBAZGV2IHVzZSB3aXRoIGNhcmUhCi8vLyAgICAgMS4gUk9MRV9SRUNMQUlNRVIgaXMgYWxsb3dlZCB0byBjbGFpbSB0b2tlbnMsIGl0J3Mgbm90IHJldHVybmluZyB0b2tlbnMgdG8gb3JpZ2luYWwgb3duZXIKLy8vICAgICAyLiBpbiBkZXJpdmVkIGNvbnRyYWN0IHRoYXQgaG9sZHMgYW55IHRva2VuIGJ5IGRlc2lnbiB5b3UgbXVzdCBvdmVycmlkZSBgcmVjbGFpbWAgYW5kIGJsb2NrIHN1Y2ggcG9zc2liaWxpdHkuCi8vLyAgICAgICAgIHNlZSBMb2NrZWRBY2NvdW50IGFzIGFuIGV4YW1wbGUKY29udHJhY3QgUmVjbGFpbWFibGUgaXMgQWNjZXNzQ29udHJvbGxlZCwgQWNjZXNzUm9sZXMgewoKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgLy8gQ29uc3RhbnRzCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICBJQmFzaWNUb2tlbiBjb25zdGFudCBpbnRlcm5hbCBSRUNMQUlNX0VUSEVSID0gSUJhc2ljVG9rZW4oMHgwKTsKCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vIFB1YmxpYyBmdW5jdGlvbnMKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgIGZ1bmN0aW9uIHJlY2xhaW0oSUJhc2ljVG9rZW4gdG9rZW4pCiAgICAgICAgcHVibGljCiAgICAgICAgb25seShST0xFX1JFQ0xBSU1FUikKICAgIHsKICAgICAgICBhZGRyZXNzIHJlY2xhaW1lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgaWYodG9rZW4gPT0gUkVDTEFJTV9FVEhFUikgewogICAgICAgICAgICByZWNsYWltZXIudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB1aW50MjU2IGJhbGFuY2UgPSB0b2tlbi5iYWxhbmNlT2YodGhpcyk7CiAgICAgICAgICAgIHJlcXVpcmUodG9rZW4udHJhbnNmZXIocmVjbGFpbWVyLCBiYWxhbmNlKSk7CiAgICAgICAgfQogICAgfQp9CgovLy8gQHRpdGxlIGFjY2VzcyBwb2xpY3kgYmFzZWQgb24gQWNjZXNzIENvbnRyb2wgTGlzdHMgY29uY2VwdAovLy8gQGRldiBBbGxvd3MgdG8gYXNzaWduIGFuIGFkZHJlc3MgdG8gYSBzZXQgb2Ygcm9sZXMgKG46biByZWxhdGlvbikgYW5kIHF1ZXJ5aW5nIGlmIHN1Y2ggc3BlY2lmaWMgYXNzaWdubWVudCBleGlzdHMuCi8vLyAgICAgVGhpcyBhc3NpZ25tZW50IGhhcHBlbnMgaW4gdHdvIGNvbnRleHRzOgovLy8gICAgICAgICAtIGNvbnRyYWN0IGNvbnRleHQgd2hpY2ggYWxsb3dzIHRvIGJ1aWxkIGEgc2V0IG9mIGxvY2FsIHBlcm1pc3Npb25zIGVuZm9yY2VkIGZvciBwYXJ0aWN1bGFyIGNvbnRyYWN0Ci8vLyAgICAgICAgIC0gZ2xvYmFsIGNvbnRleHQgd2hpY2ggZGVmaW5lcyBzZXQgb2YgZ2xvYmFsIHBlcm1pc3Npb25zIHRoYXQgYXBwbHkgdG8gYW55IGNvbnRyYWN0IHVzaW5nIHRoaXMgUm9sZUJhc2VkQWNjZXNzUG9saWN5IGFzIEFjY2VzcyBQb2xpY3kKLy8vICAgICBQZXJtaXNzaW9ucyBhcmUgY2FzY2FkaW5nIGFzIGZvbGxvd3MKLy8vICAgICAgICAgLSBldmFsdWF0ZSBwZXJtaXNzaW9uIGZvciBnaXZlbiBzdWJqZWN0IGZvciBnaXZlbiBvYmplY3QgKGxvY2FsIGNvbnRleHQpCi8vLyAgICAgICAgIC0gZXZhbHVhdGUgcGVybWlzc2lvbiBmb3IgZ2l2ZW4gc3ViamVjdCBmb3IgYWxsIG9iamVjdHMgKGdsb2JhbCBjb250ZXh0KQovLy8gICAgICAgICAtIGV2YWx1YXRlIHBlcm1pc3Npb25zIGZvciBhbnkgc3ViamVjdCAoZXZlcnlvbmUpIGZvciBnaXZlbiBvYmplY3QgKGV2ZXJ5b25lIGxvY2FsIGNvbnRleHQpCi8vLyAgICAgICAgIC0gZXZhbHVhdGUgcGVybWlzc2lvbnMgZm9yIGFueSBzdWJqZWN0IChldmVyeW9uZSkgZm9yIGFsbCBvYmplY3RzIChldmVyeW9uZSBnbG9iYWwgY29udGV4dCkKLy8vICAgICAgICAgLSBpZiBzdGlsbCB1bnNldCB0aGVuIGRpc2FsbG93Ci8vLyAgICAgUGVybWlzc2lvbiBpcyBjYXNjYWRlZCB1cCBvbmx5IGlmIGl0IHdhcyBldmFsdWF0ZWQgYXMgVW5zZXQgYXQgcGFydGljdWxhciBsZXZlbC4gU2VlIEVWRVJZT05FIGFuZCBHTE9CQUwgZGVmaW5pdGlvbnMgZm9yIHNwZWNpYWwgdmFsdWVzICh0aGV5IGFyZSAweDAgYWRkcmVzc2VzKQovLy8gICAgIFJvbGVCYXNlZEFjY2Vzc1BvbGljeSBpcyBpdHMgb3duIHBvbGljeS4gV2hlbiBjcmVhdGVkLCBjcmVhdG9yIGhhcyBST0xFX0FDQ0VTU19DT05UUk9MTEVSIHJvbGUuIFJpZ2h0IHBhdHRlcm4gaXMgdG8gdHJhbnNmZXIgdGhpcyBjb250cm9sIHRvIHNvbWUgb3RoZXIgKG5vbiBkZXBsb3llcikgYWNjb3VudCBhbmQgdGhlbiBkZXN0cm95IGRlcGxveWVyIHByaXZhdGUga2V5LgovLy8gICAgIFNlZSBJQWNjZXNzQ29udHJvbGxlZCBmb3IgZGVmaW5pdGlvbnMgb2Ygc3ViamVjdCwgb2JqZWN0IGFuZCByb2xlCmNvbnRyYWN0IFJvbGVCYXNlZEFjY2Vzc1BvbGljeSBpcwogICAgSUFjY2Vzc1BvbGljeSwKICAgIEFjY2Vzc0NvbnRyb2xsZWQsCiAgICBSZWNsYWltYWJsZQp7CgogICAgLy8vLy8vLy8vLy8vLy8vLwogICAgLy8gVHlwZXMKICAgIC8vLy8vLy8vLy8vLy8vLy8KCiAgICAvLyDFgXVrYXNpZXdpY3ogbG9naWMgdmFsdWVzCiAgICBlbnVtIFRyaVN0YXRlIHsKICAgICAgICBVbnNldCwKICAgICAgICBBbGxvdywKICAgICAgICBEZW55CiAgICB9CgogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLyBDb25zdGFudHMKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgIElBY2Nlc3NDb250cm9sbGVkIHByaXZhdGUgY29uc3RhbnQgR0xPQkFMID0gSUFjY2Vzc0NvbnRyb2xsZWQoMHgwKTsKCiAgICBhZGRyZXNzIHByaXZhdGUgY29uc3RhbnQgRVZFUllPTkUgPSAweDA7CgogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLyBNdXRhYmxlIHN0YXRlCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAvLy8gQGRldiBzdWJqZWN0IOKGkiByb2xlIOKGkiBvYmplY3Qg4oaSIGFsbG93ZWQKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4KICAgICAgICBtYXBwaW5nKGJ5dGVzMzIgPT4KICAgICAgICAgICAgbWFwcGluZyhhZGRyZXNzID0+IFRyaVN0YXRlKSkpIHByaXZhdGUgX2FjY2VzczsKCiAgICAvLy8gQG5vdGljZSB1c2VkIHRvIGVudW1lcmF0ZSBhbGwgdXNlcnMgYXNzaWduZWQgdG8gZ2l2ZW4gcm9sZSBpbiBvYmplY3QgY29udGV4dAogICAgLy8vIEBkZXYgb2JqZWN0IOKGkiByb2xlIOKGkiBhZGRyZXNzZXMKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4KICAgICAgICBtYXBwaW5nKGJ5dGVzMzIgPT4gYWRkcmVzc1tdKSkgcHJpdmF0ZSBfYWNjZXNzTGlzdDsKCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vIEV2ZW50cwogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgLy8vIEBkZXYgbG9ncyBjaGFuZ2Ugb2YgcGVybWlzc2lvbnMsICdjb250cm9sbGVyJyBpcyBhbiBhZGRyZXNzIHdpdGggUk9MRV9BQ0NFU1NfQ09OVFJPTExFUgogICAgZXZlbnQgTG9nQWNjZXNzQ2hhbmdlZCgKICAgICAgICBhZGRyZXNzIGNvbnRyb2xsZXIsCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIHN1YmplY3QsCiAgICAgICAgYnl0ZXMzMiByb2xlLAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBvYmplY3QsCiAgICAgICAgVHJpU3RhdGUgb2xkVmFsdWUsCiAgICAgICAgVHJpU3RhdGUgbmV3VmFsdWUKICAgICk7CgogICAgZXZlbnQgTG9nQWNjZXNzKAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBzdWJqZWN0LAogICAgICAgIGJ5dGVzMzIgcm9sZSwKICAgICAgICBhZGRyZXNzIGluZGV4ZWQgb2JqZWN0LAogICAgICAgIGJ5dGVzNCB2ZXJiLAogICAgICAgIGJvb2wgZ3JhbnRlZAogICAgKTsKCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vIENvbnN0cnVjdG9yCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICBmdW5jdGlvbiBSb2xlQmFzZWRBY2Nlc3NQb2xpY3koKQogICAgICAgIEFjY2Vzc0NvbnRyb2xsZWQodGhpcykgLy8gV2UgYXJlIG91ciBvd24gcG9saWN5LiBUaGlzIGlzIGltbXV0YWJsZS4KICAgICAgICBwdWJsaWMKICAgIHsKICAgICAgICAvLyBJc3N1ZSB0aGUgbG9jYWwgYW5kIGdsb2JhbCBBY2Nlc3NDb250b2xlciByb2xlIHRvIGNyZWF0b3IKICAgICAgICBfYWNjZXNzW21zZy5zZW5kZXJdW1JPTEVfQUNDRVNTX0NPTlRST0xMRVJdW3RoaXNdID0gVHJpU3RhdGUuQWxsb3c7CiAgICAgICAgX2FjY2Vzc1ttc2cuc2VuZGVyXVtST0xFX0FDQ0VTU19DT05UUk9MTEVSXVtHTE9CQUxdID0gVHJpU3RhdGUuQWxsb3c7CiAgICAgICAgLy8gVXBkYXRlIGVudW1lcmF0b3IgYWNjb3JkaW5nbHkgc28gdGhvc2UgcGVybWlzc2lvbnMgYXJlIHZpc2libGUgYXMgYW55IG90aGVyCiAgICAgICAgdXBkYXRlUGVybWlzc2lvbkVudW1lcmF0b3IobXNnLnNlbmRlciwgUk9MRV9BQ0NFU1NfQ09OVFJPTExFUiwgdGhpcywgVHJpU3RhdGUuVW5zZXQsIFRyaVN0YXRlLkFsbG93KTsKICAgICAgICB1cGRhdGVQZXJtaXNzaW9uRW51bWVyYXRvcihtc2cuc2VuZGVyLCBST0xFX0FDQ0VTU19DT05UUk9MTEVSLCBHTE9CQUwsIFRyaVN0YXRlLlVuc2V0LCBUcmlTdGF0ZS5BbGxvdyk7CiAgICB9CgogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLyBQdWJsaWMgZnVuY3Rpb25zCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAvLyBPdmVycmlkZXMgYEFjY2Vzc0NvbnRyb2xsZWQuc2V0QWNjZXNzUG9saWN5KElBY2Nlc3NQb2xpY3ksYWRkcmVzcylgCiAgICBmdW5jdGlvbiBzZXRBY2Nlc3NQb2xpY3koSUFjY2Vzc1BvbGljeSwgYWRkcmVzcykKICAgICAgICBwdWJsaWMKICAgICAgICBvbmx5KFJPTEVfQUNDRVNTX0NPTlRST0xMRVIpCiAgICB7CiAgICAgICAgLy8gYFJvbGVCYXNlZEFjY2Vzc1BvbGljeWAgYWx3YXlzIGNvbnRyb2xzIGl0cwogICAgICAgIC8vIG93biBhY2Nlc3MuIERpc2FsbG93IGNoYW5naW5nIHRoaXMgYnkgb3ZlcnJpZGluZwogICAgICAgIC8vIHRoZSBgQWNjZXNzQ29udHJvbGxlZC5zZXRBY2Nlc3NQb2xpY3lgIGZ1bmN0aW9uLgogICAgICAgIHJldmVydCgpOwogICAgfQoKICAgIC8vIEltcGxlbWVudHMgYElBY2Nlc3NQb2xpY3kuYWxsb3dlZChhZGRyZXNzLCBieXRlczMyLCBhZGRyZXNzLCBieXRlczQpYAogICAgZnVuY3Rpb24gYWxsb3dlZCgKICAgICAgICBhZGRyZXNzIHN1YmplY3QsCiAgICAgICAgYnl0ZXMzMiByb2xlLAogICAgICAgIGFkZHJlc3Mgb2JqZWN0LAogICAgICAgIGJ5dGVzNCB2ZXJiCiAgICApCiAgICAgICAgcHVibGljCiAgICAgICAgLy8gY29uc3RhbnQgLy8gTk9URTogU29saWRpdHkgZG9lcyBub3QgYWxsb3cgc3VidHlwaW5nIGludGVyZmFjZXMKICAgICAgICByZXR1cm5zIChib29sKQogICAgewogICAgICAgIGJvb2wgc2V0ID0gZmFsc2U7CiAgICAgICAgYm9vbCBhbGxvdyA9IGZhbHNlOwogICAgICAgIFRyaVN0YXRlIHZhbHVlID0gVHJpU3RhdGUuVW5zZXQ7CgogICAgICAgIC8vIENhc2NhZGUgbG9jYWwsIGdsb2JhbCwgZXZlcnlvbmUgbG9jYWwsIGV2ZXJ5b25lIGdsb2JhbAogICAgICAgIHZhbHVlID0gX2FjY2Vzc1tzdWJqZWN0XVtyb2xlXVtvYmplY3RdOwogICAgICAgIHNldCA9IHZhbHVlICE9IFRyaVN0YXRlLlVuc2V0OwogICAgICAgIGFsbG93ID0gdmFsdWUgPT0gVHJpU3RhdGUuQWxsb3c7CiAgICAgICAgaWYgKCFzZXQpIHsKICAgICAgICAgICAgdmFsdWUgPSBfYWNjZXNzW3N1YmplY3RdW3JvbGVdW0dMT0JBTF07CiAgICAgICAgICAgIHNldCA9IHZhbHVlICE9IFRyaVN0YXRlLlVuc2V0OwogICAgICAgICAgICBhbGxvdyA9IHZhbHVlID09IFRyaVN0YXRlLkFsbG93OwogICAgICAgIH0KICAgICAgICBpZiAoIXNldCkgewogICAgICAgICAgICB2YWx1ZSA9IF9hY2Nlc3NbRVZFUllPTkVdW3JvbGVdW29iamVjdF07CiAgICAgICAgICAgIHNldCA9IHZhbHVlICE9IFRyaVN0YXRlLlVuc2V0OwogICAgICAgICAgICBhbGxvdyA9IHZhbHVlID09IFRyaVN0YXRlLkFsbG93OwogICAgICAgIH0KICAgICAgICBpZiAoIXNldCkgewogICAgICAgICAgICB2YWx1ZSA9IF9hY2Nlc3NbRVZFUllPTkVdW3JvbGVdW0dMT0JBTF07CiAgICAgICAgICAgIHNldCA9IHZhbHVlICE9IFRyaVN0YXRlLlVuc2V0OwogICAgICAgICAgICBhbGxvdyA9IHZhbHVlID09IFRyaVN0YXRlLkFsbG93OwogICAgICAgIH0KICAgICAgICAvLyBJZiBub25lIGlzIHNldCB0aGVuIGRpc2FsbG93CiAgICAgICAgaWYgKCFzZXQpIHsKICAgICAgICAgICAgYWxsb3cgPSBmYWxzZTsKICAgICAgICB9CgogICAgICAgIC8vIExvZyBhbmQgcmV0dXJuCiAgICAgICAgTG9nQWNjZXNzKHN1YmplY3QsIHJvbGUsIG9iamVjdCwgdmVyYiwgYWxsb3cpOwogICAgICAgIHJldHVybiBhbGxvdzsKICAgIH0KCiAgICAvLyBBc3NpZ24gYSByb2xlIHRvIGEgdXNlciBnbG9iYWxseQogICAgZnVuY3Rpb24gc2V0VXNlclJvbGUoCiAgICAgICAgYWRkcmVzcyBzdWJqZWN0LAogICAgICAgIGJ5dGVzMzIgcm9sZSwKICAgICAgICBJQWNjZXNzQ29udHJvbGxlZCBvYmplY3QsCiAgICAgICAgVHJpU3RhdGUgbmV3VmFsdWUKICAgICkKICAgICAgICBwdWJsaWMKICAgICAgICBvbmx5KFJPTEVfQUNDRVNTX0NPTlRST0xMRVIpCiAgICB7CiAgICAgICAgc2V0VXNlclJvbGVQcml2YXRlKHN1YmplY3QsIHJvbGUsIG9iamVjdCwgbmV3VmFsdWUpOwogICAgfQoKICAgIC8vIEF0b21pY2FsbHkgY2hhbmdlIGEgc2V0IG9mIHJvbGUgYXNzaWdubWVudHMKICAgIGZ1bmN0aW9uIHNldFVzZXJSb2xlcygKICAgICAgICBhZGRyZXNzW10gc3ViamVjdHMsCiAgICAgICAgYnl0ZXMzMltdIHJvbGVzLAogICAgICAgIElBY2Nlc3NDb250cm9sbGVkW10gb2JqZWN0cywKICAgICAgICBUcmlTdGF0ZVtdIG5ld1ZhbHVlcwogICAgKQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHkoUk9MRV9BQ0NFU1NfQ09OVFJPTExFUikKICAgIHsKICAgICAgICByZXF1aXJlKHN1YmplY3RzLmxlbmd0aCA9PSByb2xlcy5sZW5ndGgpOwogICAgICAgIHJlcXVpcmUoc3ViamVjdHMubGVuZ3RoID09IG9iamVjdHMubGVuZ3RoKTsKICAgICAgICByZXF1aXJlKHN1YmplY3RzLmxlbmd0aCA9PSBuZXdWYWx1ZXMubGVuZ3RoKTsKICAgICAgICBmb3IodWludDI1NiBpID0gMDsgaSA8IHN1YmplY3RzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgIHNldFVzZXJSb2xlUHJpdmF0ZShzdWJqZWN0c1tpXSwgcm9sZXNbaV0sIG9iamVjdHNbaV0sIG5ld1ZhbHVlc1tpXSk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGdldFZhbHVlKAogICAgICAgIGFkZHJlc3Mgc3ViamVjdCwKICAgICAgICBieXRlczMyIHJvbGUsCiAgICAgICAgSUFjY2Vzc0NvbnRyb2xsZWQgb2JqZWN0CiAgICApCiAgICAgICAgcHVibGljCiAgICAgICAgY29uc3RhbnQKICAgICAgICByZXR1cm5zIChUcmlTdGF0ZSkKICAgIHsKICAgICAgICByZXR1cm4gX2FjY2Vzc1tzdWJqZWN0XVtyb2xlXVtvYmplY3RdOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFVzZXJzKAogICAgICAgIElBY2Nlc3NDb250cm9sbGVkIG9iamVjdCwKICAgICAgICBieXRlczMyIHJvbGUKICAgICkKICAgICAgICBwdWJsaWMKICAgICAgICBjb25zdGFudAogICAgICAgIHJldHVybnMgKGFkZHJlc3NbXSkKICAgIHsKICAgICAgICByZXR1cm4gX2FjY2Vzc0xpc3Rbb2JqZWN0XVtyb2xlXTsKICAgIH0KCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vIFByaXZhdGUgZnVuY3Rpb25zCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICBmdW5jdGlvbiBzZXRVc2VyUm9sZVByaXZhdGUoCiAgICAgICAgYWRkcmVzcyBzdWJqZWN0LAogICAgICAgIGJ5dGVzMzIgcm9sZSwKICAgICAgICBJQWNjZXNzQ29udHJvbGxlZCBvYmplY3QsCiAgICAgICAgVHJpU3RhdGUgbmV3VmFsdWUKICAgICkKICAgICAgICBwcml2YXRlCiAgICB7CiAgICAgICAgLy8gQW4gYWNjZXNzIGNvbnRyb2xlciBpcyBub3QgYWxsb3dlZCB0byByZXZva2UgaGlzIG93biByaWdodCBvbiB0aGlzCiAgICAgICAgLy8gY29udHJhY3QuIFRoaXMgcHJldmVudHMgYWNjZXNzIGNvbnRyb2xlcnMgZnJvbSBsb2NraW5nIHRoZW1zZWx2ZXMKICAgICAgICAvLyBvdXQuIFdlIGFsc28gcmVxdWlyZSB0aGUgY3VycmVudCBjb250cmFjdCB0byBiZSBpdHMgb3duIHBvbGljeSBmb3IKICAgICAgICAvLyB0aGlzIHRvIHdvcmsuIFRoaXMgaXMgZW5mb3JjZWQgZWxzZXdoZXJlLgogICAgICAgIHJlcXVpcmUocm9sZSAhPSBST0xFX0FDQ0VTU19DT05UUk9MTEVSIHx8IHN1YmplY3QgIT0gbXNnLnNlbmRlciB8fCBvYmplY3QgIT0gdGhpcyk7CgogICAgICAgIC8vIEZldGNoIG9sZCB2YWx1ZSBhbmQgc2hvcnQtY2lyY3VpdCBuby1vcHMKICAgICAgICBUcmlTdGF0ZSBvbGRWYWx1ZSA9IF9hY2Nlc3Nbc3ViamVjdF1bcm9sZV1bb2JqZWN0XTsKICAgICAgICBpZihvbGRWYWx1ZSA9PSBuZXdWYWx1ZSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyBVcGRhdGUgdGhlIG1hcHBpbmcKICAgICAgICBfYWNjZXNzW3N1YmplY3RdW3JvbGVdW29iamVjdF0gPSBuZXdWYWx1ZTsKCiAgICAgICAgLy8gVXBkYXRlIHBlcm1pc3Npb24gaW4gZW51bWVyYXRvcgogICAgICAgIHVwZGF0ZVBlcm1pc3Npb25FbnVtZXJhdG9yKHN1YmplY3QsIHJvbGUsIG9iamVjdCwgb2xkVmFsdWUsIG5ld1ZhbHVlKTsKCiAgICAgICAgLy8gTG9nCiAgICAgICAgTG9nQWNjZXNzQ2hhbmdlZChtc2cuc2VuZGVyLCBzdWJqZWN0LCByb2xlLCBvYmplY3QsIG9sZFZhbHVlLCBuZXdWYWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gdXBkYXRlUGVybWlzc2lvbkVudW1lcmF0b3IoCiAgICAgICAgYWRkcmVzcyBzdWJqZWN0LAogICAgICAgIGJ5dGVzMzIgcm9sZSwKICAgICAgICBJQWNjZXNzQ29udHJvbGxlZCBvYmplY3QsCiAgICAgICAgVHJpU3RhdGUgb2xkVmFsdWUsCiAgICAgICAgVHJpU3RhdGUgbmV3VmFsdWUKICAgICkKICAgICAgICBwcml2YXRlCiAgICB7CiAgICAgICAgLy8gVXBkYXRlIHRoZSBsaXN0IG9uIGFkZCAvIHJlbW92ZQogICAgICAgIGFkZHJlc3NbXSBzdG9yYWdlIGxpc3QgPSBfYWNjZXNzTGlzdFtvYmplY3RdW3JvbGVdOwogICAgICAgIC8vIEFkZCBuZXcgc3ViamVjdCBvbmx5IHdoZW4gZ29pbmcgZm9ybSBVbnNldCB0byBBbGxvdy9EZW55CiAgICAgICAgaWYob2xkVmFsdWUgPT0gVHJpU3RhdGUuVW5zZXQgJiYgbmV3VmFsdWUgIT0gVHJpU3RhdGUuVW5zZXQpIHsKICAgICAgICAgICAgbGlzdC5wdXNoKHN1YmplY3QpOwogICAgICAgIH0KICAgICAgICAvLyBSZW1vdmUgc3ViamVjdCB3aGVuIHVuc2V0dGluZyBBbGxvdy9EZW55CiAgICAgICAgaWYob2xkVmFsdWUgIT0gVHJpU3RhdGUuVW5zZXQgJiYgbmV3VmFsdWUgPT0gVHJpU3RhdGUuVW5zZXQpIHsKICAgICAgICAgICAgZm9yKHVpbnQyNTYgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgICAgICBpZihsaXN0W2ldID09IHN1YmplY3QpIHsKICAgICAgICAgICAgICAgICAgICAvLyByZXBsYWNlIHVuc2V0IGFkZHJlc3Mgd2l0aCBsYXN0IGFkZHJlc3MgaW4gdGhlIGxpc3QsIGN1dCBsaXN0IHNpemUKICAgICAgICAgICAgICAgICAgICBsaXN0W2ldID0gbGlzdFtsaXN0Lmxlbmd0aCAtIDFdOwogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBsaXN0W2xpc3QubGVuZ3RoIC0gMV07CiAgICAgICAgICAgICAgICAgICAgbGlzdC5sZW5ndGggLT0gMTsKICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSB3aWxsIGJlIG5vIG1vcmUgbWF0Y2hlcwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9'.
	

]
