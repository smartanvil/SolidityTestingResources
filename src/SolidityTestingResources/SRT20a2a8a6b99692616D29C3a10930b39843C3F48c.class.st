Class {
	#name : #SRT20a2a8a6b99692616D29C3a10930b39843C3F48c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT20a2a8a6b99692616D29C3a10930b39843C3F48c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBCbG9ja2VkcyB7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBibG9ja2VkOwoKICBldmVudCBCbG9ja2VkKGFkZHJlc3MgX2FkZHIpOwogIGV2ZW50IFVuYmxvY2tlZChhZGRyZXNzIF9hZGRyKTsKCiAgZnVuY3Rpb24gYmxvY2tBZGRyZXNzKGFkZHJlc3MgX2FkZHIpIHB1YmxpYyB7CiAgICByZXF1aXJlKCFibG9ja2VkW19hZGRyXSk7CiAgICBibG9ja2VkW19hZGRyXSA9IHRydWU7CgogICAgQmxvY2tlZChfYWRkcik7CiAgfQoKICBmdW5jdGlvbiB1bmJsb2NrQWRkcmVzcyhhZGRyZXNzIF9hZGRyKSBwdWJsaWMgewogICAgcmVxdWlyZShibG9ja2VkW19hZGRyXSk7CiAgICBibG9ja2VkW19hZGRyXSA9IGZhbHNlOwoKICAgIFVuYmxvY2tlZChfYWRkcik7CiAgfQp9CgovKgogICAg7KCA7J6R6raMIDIwMTYsIEpvcmRpIEJheWxpbmEKCiAgICDsnbQg7ZSE66Gc6re4656o7J2AIOustOujjCDshoztlITtirjsm6jslrTsnoXri4jri6QuCiAgICDsnbQg7ZSE66Gc6re4656o7J2AIEZyZWUgU29mdCB3YXJlIEZvdW5kYXRpb27sl5DshJwKICAgIOqyjOyLnO2VmOuKlCBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZeydmAogICAg7KGw6rG07JeQIOuUsOudvCDrnbzsnbTshLzsiqTsnZgg67KE7KCEIDPrmJDripQo7ISg7YOdIOyCrO2VreycvOuhnCkKICAgIOydtO2bhCDrsoTsoITsnLzroZwg7J6s67Cw7Y+sIOuwjyDrmJDripQg7IiY7KCV7ZWgIOyImCDsnojsirXri4jri6QuCgogICAg7J20IO2UhOuhnOq3uOueqOydgCDsnKDsmqntlaAg6rKD7J2EIOq4sOuMgO2VmOyXrCDrsLDtj6zrkJjsp4Drp4wsCiAgICDsg4HtkojshLHsnbTrgpgg7Yq57KCVIOuqqeyggeyXkCDrjIDtlZwg7KCB7ZWp7ISx7J2YIOusteyLnOyggQogICAg67O07Kad64+EIOyXhuydtCDrqqjrk6Ag67O07KadIOyXhuydtCDsoJzqs7XrkKnri4jri6QuCiAgICDsnpDshLjtlZwg64K07Jqp7J2AIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNl66W8IOywuOyhsO2VmOyLreyLnOyYpC4KCiAgICDsnbQg7ZSE66Gc6re4656o6rO8IO2VqOq7mCBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSDsgqzrs7jsnYQg67Cb7JWE7JW87ZWp64uI64ukLgogICAg6re466CH7KeAIOyViuycvOuptCwg7LC47KGwIDogPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+CiAqLwoKLyoKICogQHRpdGxlIE1pbmlNZVRva2VuCiAqIEBhdXRob3IgSm9yZGkgQmF5bGluYQogKiBAZGV2IOydtCDthqDtgbAg6rOE7JW97J2YIOuqqe2RnOuKlCDsnbQg7Yag7YGw7J2EIOyGkOyJveqyjCDrs7XsoJztlZjripQg6rKD7J6F64uI64ukLgogKiAgICAgIO2GoO2BsOydhCDsgqzsmqntlZjrqbQg7KeA7KCV65CcIOu4lOuhneyXkOyEnCBEQU8g67CPIERBcHBz6rCAIOybkOuemCDthqDtgbDsl5Ag7JiB7Zal7J2EIOyjvOyngCDslYrqs6Ag6riw64ql7J2EIOu2hOyCsOuQnCDrsKnsi53snLzroZwg7JeF6re466CI7J2065Oc7ZWgIOyImCDsnojsirXri4jri6QuCiAqIEBkZXYgRVJDMjDqs7wg7Zi47ZmY65CY7KeA66eMIOy2lOqwgCDthYzsiqTtirjrpbwg7KeE7ZaJ7ZW07JW87ZWp64uI64ukLgoqLwpjb250cmFjdCBDb250cm9sbGVkIHsKICAgIC8vIOy7qO2KuOuhpOufrOydmCDso7zshozripQg7J20IOyImOyglSDtlITroZzqt7jrnqjsnLzroZwg7ZWo7IiY66W8IO2YuOy2nO2VoCDsiJgg7J6I64qUIOycoOydvO2VnCDso7zshozsnoXri4jri6QuCiAgICBtb2RpZmllciBvbmx5Q29udHJvbGxlciB7IHJlcXVpcmUobXNnLnNlbmRlciA9PSBjb250cm9sbGVyKTsgXzsgfQoKICAgIGFkZHJlc3MgcHVibGljIGNvbnRyb2xsZXI7CgogICAgZnVuY3Rpb24gQ29udHJvbGxlZCgpIHB1YmxpYyB7IGNvbnRyb2xsZXIgPSBtc2cuc2VuZGVyO30KCiAgICAvLyAgICAgICAgICAgICAgICDqs4Tslb0g64u57IKs7J6QCiAgICAvLyBfbmV3Q29udHJvbGxlciDsg4jroZzsmrQg6rOE7JW97J6QCiAgICBmdW5jdGlvbiBjaGFuZ2VDb250cm9sbGVyKGFkZHJlc3MgX25ld0NvbnRyb2xsZXIpIHB1YmxpYyBvbmx5Q29udHJvbGxlciB7CiAgICAgICAgY29udHJvbGxlciA9IF9uZXdDb250cm9sbGVyOwogICAgfQp9CgoKCi8vIO2GoO2BsCDsu6jtirjroaTrn6wg6rOE7JW97JeQ7IScIOydtOufrO2VnCDquLDriqXsnYQg6rWs7ZiE7ZW07JW8IO2VqeuLiOuLpC4KY29udHJhY3QgVG9rZW5Db250cm9sbGVyIHsKICAgIC8vIEBub3RpY2UgYF9vd25lcmDqsIAg7J20642U66as7JuA7J2EIE1pbmlNZVRva2VuIOqzhOyVveyXkCDrs7Trgrwg65WMIO2YuOy2nOuQqeuLiOuLpC4KICAgIC8vIEBwYXJhbSAgIF9vd25lciDthqDtgbDsnYQg7IOd7ISx7ZWY6riwIOychO2VtCDsnbTrjZTrpqzsm4DsnYQg67O064K4IOyjvOyGjAogICAgLy8gQHJldHVybiAgICAgICAgIOydtOuNlOumrOybgOydtCDsoJXsg4Eg7KCE7Iah65CY64qUIOqyveyasOuKlCB0cnVlLCDslYTri4wg6rK97Jqw64qUIGZhbHNlCiAgICBmdW5jdGlvbiBwcm94eVBheW1lbnQoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBwYXlhYmxlIHJldHVybnMoYm9vbCk7CgogICAgLy8gQG5vdGljZSAgICAgICAgIOy7qO2KuOuhpOufrOyXkCDthqDtgbAg7KCE7Iah7JeQIOuMgO2VtCDslYzrpr3ri4jri6QuCiAgICAvLyAgICAgICAgICAgICAgICAg7JuQ7ZWY64qUIOqyveyasCDrsJjsnZHtlZjripQg7Luo7Yq466Gk65+sCiAgICAvLyBAcGFyYW0gX2Zyb20gICAg7KCE7Iah7J2YIOy2nOyymAogICAgLy8gQHBhcmFtIF90byAgICAgIOyghOyGoSDrqqnsoIHsp4AKICAgIC8vIEBwYXJhbSBfYW1vdW50ICDsoITshqEg6riI7JWhCiAgICAvLyBAcmV0dXJuICAgICAgICAg7Luo7Yq466Gk65+s6rCAIOyghOyGoeydhCDsirnsnbjtlZjsp4Ag7JWK64qUIOqyveyasCDqsbDsp5MKICAgIGZ1bmN0aW9uIG9uVHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcHVibGljIHJldHVybnMoYm9vbCk7CgogICAgLy8gQG5vdGljZSAgICAgICAgICAgICAgICAgICAgIOy7qO2KuOuhpOufrOyXkCDsirnsnbgg7IKs7Iuk7J2EIOyVjOumrOqzoCwg7ZWE7JqU7ZWcIOqyveyasCDsu6jtirjroaTrn6zqsIAg64yA7J2R7ZWY64+E66GdIO2VqeuLiOuLpC4KICAgIC8vIEBwYXJhbSBfb3duZXIgYGFwcHJvdmUgKClgICDrpbwg7Zi47Lac7ZWY64qUIOyjvOyGjC4KICAgIC8vIEBwYXJhbSBfc3BlbmRlciBgYXBwcm92ZSgpYCDtmLjstpztlZjripQg7KCE7Iah7J6QCiAgICAvLyBAcGFyYW0gX2Ftb3VudCBgYXBwcm92ZSAoKWAg7Zi47Lac7J2YIOyWkQogICAgLy8gQHJldHVybiAgICAgICAgICAgICAgICAgICAgIOy7qO2KuOuhpOufrOqwgCDsirnsnbjsnYQg7ZeI6rCA7ZWY7KeAIOyViuuKlCDqsr3smrAg6rGw7KeTCiAgICBmdW5jdGlvbiBvbkFwcHJvdmUoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2Ftb3VudCkgcHVibGljCiAgICAgICAgcmV0dXJucyhib29sKTsKfQoKY29udHJhY3QgQXBwcm92ZUFuZENhbGxGYWxsQmFjayB7CiAgICBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBmcm9tLCB1aW50MjU2IF9hbW91bnQsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZGF0YSkgcHVibGljOwp9CgovLyDsi6TsoJwg7Yag7YGwIOqzhOyVveyduCDquLDrs7gg7Luo7Yq466Gk65+s64qUIOqzhOyVveyEnOulvCDrsLDtj6ztlZjripQgbXNnLnNlbmRlcuydtOuvgOuhnAovLyDsnbQg7Yag7YGw7J2AIOuMgOqwnCDthqDtgbAg7Luo7Yq466Gk65+sIOqzhOyVveyXkCDsnZjtlbQg67Cw7Y+s65CY66mwLAovLyBHaXZldGjripQgIkNhbXBhaWduIuydhCDtmLjstpztlanri4jri6QuCmNvbnRyYWN0IE1pbmlNZVRva2VuIGlzIENvbnRyb2xsZWQgewogICAgc3RyaW5nIHB1YmxpYyBuYW1lOyAgICAgICAgICAgICAgICAvLyDthqDtgbAg7J2066aEIDogRVggRGlnaXhEQU8gdG9rZW4KICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsgICAgICAgICAgICAgLy8g7LWc7IaMIOuLqOychOydmCDshozsiJgg7J6Q66a/7IiYCiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsgICAgICAgICAgICAgIC8vIOyLneuzhOyekCBFWCA6IGUuZy4gUkVQCiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAnTU1UXzAuMic7IC8vIOuyhOyghCDqtIDrpqwg67Cp7IudCgogICAgLy8gQGRldiBgQ2hlY2twb2ludGAg67iU66GdIOuyiO2YuOulvCDsp4DsoJXrkJwg6rCS7JeQIOyXsOqysO2VmOuKlCDqtazsobDsnbTrqbAsCiAgICAvLyAgICAgICAgICAgICAgICAgICAg7LKo67aA65CcIOu4lOuhnSDrsojtmLjripQg66eI7KeA66eJ7Jy866GcIOqwkuydhCDrs4Dqsr3tlZwg67KI7Zi47J6F64uI64ukLgogICAgc3RydWN0ICBDaGVja3BvaW50IHsKCiAgICAgICAgLy8gYGZyb21CbG9ja2Ag6rCS7J20IOyDneyEseuQnCDruJTroZ0g67KI7Zi47J6F64uI64ukLgogICAgICAgIHVpbnQxMjggZnJvbUJsb2NrOwoKICAgICAgICAvLyBgdmFsdWVgIO2KueyglSDruJTroZ0g67KI7Zi47J2YIO2GoO2BsCDslpHsnoXri4jri6QuCiAgICAgICAgdWludDEyOCB2YWx1ZTsKICAgIH0KCiAgICAvLyBgcGFyZW50VG9rZW5gIOydtCDthqDtgbDsnYQg7IOd7ISx7ZWY6riwIOychO2VtCDrs7XsoJwg65CcIO2GoO2BsCDso7zshozsnoXri4jri6QuCiAgICAvLyAgICAgICAgICAgICAgIOuzteygnOuQmOyngCDslYrsnYAg7Yag7YGw7J2YIOqyveyasCAweDDsnbQg65Cp64uI64ukLgogICAgTWluaU1lVG9rZW4gcHVibGljIHBhcmVudFRva2VuOwoKICAgIC8vIGBwYXJlbnRTbmFwU2hvdEJsb2NrYCDsg4HsnIQg7Yag7YGw7J2YIOu4lOuhnSDrsojtmLjroZwsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAg67O17KCcIO2GoO2BsOydmCDstIjquLAg67Cw7Y+s66W8IOqysOygle2VmOuKlCDrjbAg7IKs7Jqp65CoCiAgICB1aW50IHB1YmxpYyBwYXJlbnRTbmFwU2hvdEJsb2NrOwoKICAgIC8vIGBjcmVhdGlvbkJsb2NrYCDrs7XsoJwg7Yag7YGw7J20IOyDneyEseuQnCDruJTroZ0g67KI7Zi47J6F64uI64ukLgogICAgdWludCBwdWJsaWMgY3JlYXRpb25CbG9jazsKCiAgICAvLyBgYmFsYW5jZXNgIOydtCDqs4Tslb3sl5DshJwg7J6U7JWh7J20IOuzgOqyveuQoCDrlYwg67OA6rK9IOyCrO2VreydtCDrsJzsg53tlZwKICAgIC8vICAgICAgICAgICAg67iU66GdIOuyiO2YuOuPhCDrp7Xsl5Ag7Y+s7ZWo65CY7Ja0IOyeiOycvOupsCDqsIEg7KO87IaM7J2YIOyelOyVoeydhCDstpTsoIHtlZjripQg66e17J6F64uI64ukLgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBDaGVja3BvaW50W10pIGJhbGFuY2VzOwoKICAgIC8vIGBhbGxvd2VkYCDrqqjrk6AgRVJDMjAg7Yag7YGw7JeQ7ISc7JmAIOqwmeydtCDstpTqsIAg7KCE7IahIOq2jO2VnOydhCDstpTsoIHtlanri4jri6QuCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgogICAgLy8g7Yag7YGw7J2YIGB0b3RhbFN1cHBseWAg6riw66Gd7J2EIOy2lOygge2VqeuLiOuLpC4KICAgIENoZWNrcG9pbnRbXSB0b3RhbFN1cHBseUhpc3Rvcnk7CgogICAgLy8g7Yag7YGw7J20IOyghOyGoSDqsIDriqXtlZzsp4Ag7Jes67aA66W8IOqysOygle2VmOuKlCDtlIzrnpjqt7gg7J6F64uI64ukLgogICAgYm9vbCBwdWJsaWMgdHJhbnNmZXJzRW5hYmxlZDsKCiAgICAvLyDsg4gg67O17KCcIO2GoO2BsOydhCDrp4zrk5zripQg642wIOyCrOyaqSDrkJwg7Yyp7Yag66asCiAgICBNaW5pTWVUb2tlbkZhY3RvcnkgcHVibGljIHRva2VuRmFjdG9yeTsKCiAgICAvKgogICAgICog6rG07ISk7J6QCiAgICAgKi8KICAgIC8vIEBub3RpY2UgTWluaU1lVG9rZW7snYQg7IOd7ISx7ZWY64qUIOyDneyEseyekAogICAgLy8gQHBhcmFtIF90b2tlbkZhY3RvcnkgTWluaU1lVG9rZW5GYWN0b3J5IOqzhOyVveydmCDso7zshowKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOuzteygnCDthqDtgbAg6rOE7JW97J2EIOyDneyEse2VmOuKlCBNaW5pTWVUb2tlbkZhY3Rvcnkg6rOE7JW97J2YIOyjvOyGjCwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOuovOyggCDthqDtgbAg7Yyp7Yag66as66W8IOuwsO2PrO2VtOyVvO2VqeuLiOuLpC4KICAgIC8vIEBwYXJhbSBfcGFyZW50VG9rZW4gICAgICAgICAgIOyDgeychCDthqDtgbDsnZggUGFyZW50VG9rZXJ1dCDso7zshowgKOyDiCDthqDtgbDsnbgg6rK97JqwIDB4MOycvOuhnCDshKTsoJXrkKgpCiAgICAvLyBAcGFyYW0gX3BhcmVudFNuYXBTaG90QmxvY2sgICDrs7XsoJwg7Yag7YGw7J2YIOy0iOq4sCDrsLDtj6zrpbwg6rKw7KCV7ZWgIOyDgeychCDthqDtgbDsnZgg67iU66GdKOyDiCDthqDtgbDsnbgg6rK97JqwIDDsnLzroZwg7ISk7KCV65CoKQogICAgLy8gQHBhcmFtIF90b2tlbk5hbWUgICAgICAgICAgICAg7IOIIO2GoO2BsOydmCDsnbTrpoQKICAgIC8vIEBwYXJhbSBfZGVjaW1hbFVuaXRzICAgICAgICAgIOyDiCDthqDtgbDsnZgg7IaM7IiYIOyekOumv+yImAogICAgLy8gQHBhcmFtIF90b2tlblN5bWJvbCAgICAgICAgICAg7IOIIO2GoO2BsOyXkCDrjIDtlZwg7Yag7YGwIOq4sO2YuAogICAgLy8gQHBhcmFtIF90cmFuc2ZlcnNFbmFibGVkIHRydWUg7J2066m0IO2GoO2BsOydhCDsoITshqHtlaAg7IiYIOyeiOyKteuLiOuLpC4KICAgIGZ1bmN0aW9uIE1pbmlNZVRva2VuKAogICAgICAgIGFkZHJlc3MgX3Rva2VuRmFjdG9yeSwKICAgICAgICBhZGRyZXNzIF9wYXJlbnRUb2tlbiwKICAgICAgICB1aW50IF9wYXJlbnRTbmFwU2hvdEJsb2NrLAogICAgICAgIHN0cmluZyBfdG9rZW5OYW1lLAogICAgICAgIHVpbnQ4IF9kZWNpbWFsVW5pdHMsCiAgICAgICAgc3RyaW5nIF90b2tlblN5bWJvbCwKICAgICAgICBib29sIF90cmFuc2ZlcnNFbmFibGVkCiAgICApIHB1YmxpYyB7CiAgICAgICAgdG9rZW5GYWN0b3J5ID0gTWluaU1lVG9rZW5GYWN0b3J5KF90b2tlbkZhY3RvcnkpOwogICAgICAgIG5hbWUgPSBfdG9rZW5OYW1lOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOydtOumhCDshKTsoJUKICAgICAgICBkZWNpbWFscyA9IF9kZWNpbWFsVW5pdHM7ICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDsi63sp4TsiJgg7ISk7KCVCiAgICAgICAgc3ltYm9sID0gX3Rva2VuU3ltYm9sOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g6riw7Zi4IOyEpOyglSAo7Ius67O8KQogICAgICAgIHBhcmVudFRva2VuID0gTWluaU1lVG9rZW4oX3BhcmVudFRva2VuKTsKICAgICAgICBwYXJlbnRTbmFwU2hvdEJsb2NrID0gX3BhcmVudFNuYXBTaG90QmxvY2s7CiAgICAgICAgdHJhbnNmZXJzRW5hYmxlZCA9IF90cmFuc2ZlcnNFbmFibGVkOwogICAgICAgIGNyZWF0aW9uQmxvY2sgPSBibG9jay5udW1iZXI7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUodHJhbnNmZXJzRW5hYmxlZCk7CiAgICAgICAgZG9UcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50CiAgICApIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBjb250cm9sbGVyKSB7CiAgICAgICAgICAgIHJlcXVpcmUodHJhbnNmZXJzRW5hYmxlZCk7CgogICAgICAgICAgICByZXF1aXJlKGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF9hbW91bnQpOwogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfYW1vdW50OwogICAgICAgIH0KICAgICAgICBkb1RyYW5zZmVyKF9mcm9tLCBfdG8sIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGRvVHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudAogICAgKSBpbnRlcm5hbCB7CgogICAgICAgICAgIGlmIChfYW1vdW50ID09IDApIHsKICAgICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICB9CgogICAgICAgICAgIHJlcXVpcmUocGFyZW50U25hcFNob3RCbG9jayA8IGJsb2NrLm51bWJlcik7CgogICAgICAgICAgIHJlcXVpcmUoKF90byAhPSAwKSAmJiAoX3RvICE9IGFkZHJlc3ModGhpcykpKTsKCiAgICAgICAgICAgdmFyIHByZXZpb3VzQmFsYW5jZUZyb20gPSBiYWxhbmNlT2ZBdChfZnJvbSwgYmxvY2subnVtYmVyKTsKCiAgICAgICAgICAgcmVxdWlyZShwcmV2aW91c0JhbGFuY2VGcm9tID49IF9hbW91bnQpOwoKICAgICAgICAgICBpZiAoaXNDb250cmFjdChjb250cm9sbGVyKSkgewogICAgICAgICAgICAgICByZXF1aXJlKFRva2VuQ29udHJvbGxlcihjb250cm9sbGVyKS5vblRyYW5zZmVyKF9mcm9tLCBfdG8sIF9hbW91bnQpKTsKICAgICAgICAgICB9CgogICAgICAgICAgIHVwZGF0ZVZhbHVlQXROb3coYmFsYW5jZXNbX2Zyb21dLCBwcmV2aW91c0JhbGFuY2VGcm9tIC0gX2Ftb3VudCk7CgogICAgICAgICAgIHZhciBwcmV2aW91c0JhbGFuY2VUbyA9IGJhbGFuY2VPZkF0KF90bywgYmxvY2subnVtYmVyKTsKICAgICAgICAgICByZXF1aXJlKHByZXZpb3VzQmFsYW5jZVRvICsgX2Ftb3VudCA+PSBwcmV2aW91c0JhbGFuY2VUbyk7CiAgICAgICAgICAgdXBkYXRlVmFsdWVBdE5vdyhiYWxhbmNlc1tfdG9dLCBwcmV2aW91c0JhbGFuY2VUbyArIF9hbW91bnQpOwoKICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsKCiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VPZkF0KF9vd25lciwgYmxvY2subnVtYmVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUodHJhbnNmZXJzRW5hYmxlZCk7CgogICAgICAgIHJlcXVpcmUoKF9hbW91bnQgPT0gMCkgfHwgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKCiAgICAgICAgLy8g7Iq57J24IOq4sOuKpSDtmLjstpzsnZgg7Yag7YGwIOy7qO2KuOuhpOufrOyXkCDslYzrprwKICAgICAgICBpZiAoaXNDb250cmFjdChjb250cm9sbGVyKSkgewogICAgICAgICAgICByZXF1aXJlKFRva2VuQ29udHJvbGxlcihjb250cm9sbGVyKS5vbkFwcHJvdmUobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9hbW91bnQpKTsKICAgICAgICB9CgogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX2Ftb3VudDsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyCiAgICApIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudCwgYnl0ZXMgX2V4dHJhRGF0YQogICAgKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShhcHByb3ZlKF9zcGVuZGVyLCBfYW1vdW50KSk7CgogICAgICAgIEFwcHJvdmVBbmRDYWxsRmFsbEJhY2soX3NwZW5kZXIpLnJlY2VpdmVBcHByb3ZhbCgKICAgICAgICAgICAgbXNnLnNlbmRlciwKICAgICAgICAgICAgX2Ftb3VudCwKICAgICAgICAgICAgdGhpcywKICAgICAgICAgICAgX2V4dHJhRGF0YQogICAgICAgICk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gdG90YWxTdXBwbHlBdChibG9jay5udW1iZXIpOwogICAgfQoKICAgIC8qCiAgICAgKiDtnojsiqTthqDrpqwg64K0IOy/vOumrCDqt6DtmJUg67CPIOy0nSDqs7XquIkKICAgICAqLwogICAgZnVuY3Rpb24gYmFsYW5jZU9mQXQoYWRkcmVzcyBfb3duZXIsIHVpbnQgX2Jsb2NrTnVtYmVyKSBwdWJsaWMgY29uc3RhbnQKICAgICAgICByZXR1cm5zICh1aW50KSB7CgogICAgICAgIGlmICgoYmFsYW5jZXNbX293bmVyXS5sZW5ndGggPT0gMCkKICAgICAgICAgICAgfHwgKGJhbGFuY2VzW19vd25lcl1bMF0uZnJvbUJsb2NrID4gX2Jsb2NrTnVtYmVyKSkgewogICAgICAgICAgICBpZiAoYWRkcmVzcyhwYXJlbnRUb2tlbikgIT0gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudFRva2VuLmJhbGFuY2VPZkF0KF9vd25lciwgbWluKF9ibG9ja051bWJlciwgcGFyZW50U25hcFNob3RCbG9jaykpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8g7IOB7JyE7Yag7YGw7J20IOyXhuuLpC4KICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGdldFZhbHVlQXQoYmFsYW5jZXNbX293bmVyXSwgX2Jsb2NrTnVtYmVyKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHlBdCh1aW50IF9ibG9ja051bWJlcikgcHVibGljIGNvbnN0YW50IHJldHVybnModWludCkgewogICAgICAgIGlmICgodG90YWxTdXBwbHlIaXN0b3J5Lmxlbmd0aCA9PSAwKQogICAgICAgICAgICB8fCAodG90YWxTdXBwbHlIaXN0b3J5WzBdLmZyb21CbG9jayA+IF9ibG9ja051bWJlcikpIHsKICAgICAgICAgICAgaWYgKGFkZHJlc3MocGFyZW50VG9rZW4pICE9IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnRUb2tlbi50b3RhbFN1cHBseUF0KG1pbihfYmxvY2tOdW1iZXIsIHBhcmVudFNuYXBTaG90QmxvY2spKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGdldFZhbHVlQXQodG90YWxTdXBwbHlIaXN0b3J5LCBfYmxvY2tOdW1iZXIpOwogICAgICAgIH0KICAgIH0KCiAgICAvKgogICAgICog7Yag7YGwIOuzteygnCDrsKnrspUKICAgICAqLwogICAgZnVuY3Rpb24gY3JlYXRlQ2xvbmVUb2tlbigKICAgICAgICBzdHJpbmcgX2Nsb25lVG9rZW5OYW1lLAogICAgICAgIHVpbnQ4IF9jbG9uZURlY2ltYWxVbml0cywKICAgICAgICBzdHJpbmcgX2Nsb25lVG9rZW5TeW1ib2wsCiAgICAgICAgdWludCBfc25hcHNob3RCbG9jaywKICAgICAgICBib29sIF90cmFuc2ZlcnNFbmFibGVkCiAgICAgICAgKSBwdWJsaWMgcmV0dXJucyhhZGRyZXNzKSB7CiAgICAgICAgaWYgKF9zbmFwc2hvdEJsb2NrID09IDApIF9zbmFwc2hvdEJsb2NrID0gYmxvY2subnVtYmVyOwogICAgICAgIE1pbmlNZVRva2VuIGNsb25lVG9rZW4gPSB0b2tlbkZhY3RvcnkuY3JlYXRlQ2xvbmVUb2tlbigKICAgICAgICAgICAgdGhpcywKICAgICAgICAgICAgX3NuYXBzaG90QmxvY2ssCiAgICAgICAgICAgIF9jbG9uZVRva2VuTmFtZSwKICAgICAgICAgICAgX2Nsb25lRGVjaW1hbFVuaXRzLAogICAgICAgICAgICBfY2xvbmVUb2tlblN5bWJvbCwKICAgICAgICAgICAgX3RyYW5zZmVyc0VuYWJsZWQKICAgICAgICAgICAgKTsKCiAgICAgICAgY2xvbmVUb2tlbi5jaGFuZ2VDb250cm9sbGVyKG1zZy5zZW5kZXIpOwoKICAgICAgICBOZXdDbG9uZVRva2VuKGFkZHJlc3MoY2xvbmVUb2tlbiksIF9zbmFwc2hvdEJsb2NrKTsKICAgICAgICByZXR1cm4gYWRkcmVzcyhjbG9uZVRva2VuKTsKICAgIH0KCiAgICAvKgogICAgICog7Yag7YGwIOyDneyEsSDrsI8g7IaM6rCBCiAgICAgKi8KICAgIGZ1bmN0aW9uIGdlbmVyYXRlVG9rZW5zKGFkZHJlc3MgX293bmVyLCB1aW50IF9hbW91bnQKICAgICkgcHVibGljIG9ubHlDb250cm9sbGVyIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB1aW50IGN1clRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkoKTsKICAgICAgICByZXF1aXJlKGN1clRvdGFsU3VwcGx5ICsgX2Ftb3VudCA+PSBjdXJUb3RhbFN1cHBseSk7CiAgICAgICAgdWludCBwcmV2aW91c0JhbGFuY2VUbyA9IGJhbGFuY2VPZihfb3duZXIpOwogICAgICAgIHJlcXVpcmUocHJldmlvdXNCYWxhbmNlVG8gKyBfYW1vdW50ID49IHByZXZpb3VzQmFsYW5jZVRvKTsKICAgICAgICB1cGRhdGVWYWx1ZUF0Tm93KHRvdGFsU3VwcGx5SGlzdG9yeSwgY3VyVG90YWxTdXBwbHkgKyBfYW1vdW50KTsKICAgICAgICB1cGRhdGVWYWx1ZUF0Tm93KGJhbGFuY2VzW19vd25lcl0sIHByZXZpb3VzQmFsYW5jZVRvICsgX2Ftb3VudCk7CiAgICAgICAgVHJhbnNmZXIoMCwgX293bmVyLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBkZXN0cm95VG9rZW5zKGFkZHJlc3MgX293bmVyLCB1aW50IF9hbW91bnQKICAgICkgb25seUNvbnRyb2xsZXIgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB1aW50IGN1clRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkoKTsKICAgICAgICByZXF1aXJlKGN1clRvdGFsU3VwcGx5ID49IF9hbW91bnQpOwogICAgICAgIHVpbnQgcHJldmlvdXNCYWxhbmNlRnJvbSA9IGJhbGFuY2VPZihfb3duZXIpOwogICAgICAgIHJlcXVpcmUocHJldmlvdXNCYWxhbmNlRnJvbSA+PSBfYW1vdW50KTsKICAgICAgICB1cGRhdGVWYWx1ZUF0Tm93KHRvdGFsU3VwcGx5SGlzdG9yeSwgY3VyVG90YWxTdXBwbHkgLSBfYW1vdW50KTsKICAgICAgICB1cGRhdGVWYWx1ZUF0Tm93KGJhbGFuY2VzW19vd25lcl0sIHByZXZpb3VzQmFsYW5jZUZyb20gLSBfYW1vdW50KTsKICAgICAgICBUcmFuc2Zlcihfb3duZXIsIDAsIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qCiAgICAgKiDthqDtgbAg7KCE7IahIOyCrOyaqQogICAgICovCiAgICBmdW5jdGlvbiBlbmFibGVUcmFuc2ZlcnMoYm9vbCBfdHJhbnNmZXJzRW5hYmxlZCkgcHVibGljIG9ubHlDb250cm9sbGVyIHsKICAgICAgICB0cmFuc2ZlcnNFbmFibGVkID0gX3RyYW5zZmVyc0VuYWJsZWQ7CiAgICB9CgogICAgLyoKICAgICAqIOyKpOuDhSDsg7cg67Cw7Je07JeQ7IScIOqwkuydhCDsv7zrpqztlZjqs6Ag7ISk7KCV7ZWY64qUIOuCtOu2gCDrj4TsmrDrr7gg7ZWo7IiYCiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldFZhbHVlQXQoQ2hlY2twb2ludFtdIHN0b3JhZ2UgY2hlY2twb2ludHMsIHVpbnQgX2Jsb2NrCiAgICApIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICBpZiAoY2hlY2twb2ludHMubGVuZ3RoID09IDApIHJldHVybiAwOwoKICAgICAgICAvLyDsi6TsoJwg6rCSIOuwlOuhnCDqsIDquLAKICAgICAgICBpZiAoX2Jsb2NrID49IGNoZWNrcG9pbnRzW2NoZWNrcG9pbnRzLmxlbmd0aC0xXS5mcm9tQmxvY2spCiAgICAgICAgICAgIHJldHVybiBjaGVja3BvaW50c1tjaGVja3BvaW50cy5sZW5ndGgtMV0udmFsdWU7CiAgICAgICAgaWYgKF9ibG9jayA8IGNoZWNrcG9pbnRzWzBdLmZyb21CbG9jaykgcmV0dXJuIDA7CgogICAgICAgIC8vIOuwsOyXtOydmCDqsJLsnYQgMuynhCDqsoDsg4kKICAgICAgICB1aW50IG1pbiA9IDA7CiAgICAgICAgdWludCBtYXggPSBjaGVja3BvaW50cy5sZW5ndGgtMTsKICAgICAgICB3aGlsZSAobWF4ID4gbWluKSB7CiAgICAgICAgICAgIHVpbnQgbWlkID0gKG1heCArIG1pbiArIDEpLyAyOwogICAgICAgICAgICBpZiAoY2hlY2twb2ludHNbbWlkXS5mcm9tQmxvY2s8PV9ibG9jaykgewogICAgICAgICAgICAgICAgbWluID0gbWlkOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbWF4ID0gbWlkLTE7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGNoZWNrcG9pbnRzW21pbl0udmFsdWU7CiAgICB9CgogICAgZnVuY3Rpb24gdXBkYXRlVmFsdWVBdE5vdyhDaGVja3BvaW50W10gc3RvcmFnZSBjaGVja3BvaW50cywgdWludCBfdmFsdWUKICAgICkgaW50ZXJuYWwgIHsKICAgICAgICBpZiAoKGNoZWNrcG9pbnRzLmxlbmd0aCA9PSAwKQogICAgICAgIHx8IChjaGVja3BvaW50c1tjaGVja3BvaW50cy5sZW5ndGggLTFdLmZyb21CbG9jayA8IGJsb2NrLm51bWJlcikpIHsKICAgICAgICAgICAgICAgQ2hlY2twb2ludCBzdG9yYWdlIG5ld0NoZWNrUG9pbnQgPSBjaGVja3BvaW50c1sgY2hlY2twb2ludHMubGVuZ3RoKysgXTsKICAgICAgICAgICAgICAgbmV3Q2hlY2tQb2ludC5mcm9tQmxvY2sgPSAgdWludDEyOChibG9jay5udW1iZXIpOwogICAgICAgICAgICAgICBuZXdDaGVja1BvaW50LnZhbHVlID0gdWludDEyOChfdmFsdWUpOwogICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgIENoZWNrcG9pbnQgc3RvcmFnZSBvbGRDaGVja1BvaW50ID0gY2hlY2twb2ludHNbY2hlY2twb2ludHMubGVuZ3RoLTFdOwogICAgICAgICAgICAgICBvbGRDaGVja1BvaW50LnZhbHVlID0gdWludDEyOChfdmFsdWUpOwogICAgICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBpc0NvbnRyYWN0KGFkZHJlc3MgX2FkZHIpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMoYm9vbCkgewogICAgICAgIHVpbnQgc2l6ZTsKICAgICAgICBpZiAoX2FkZHIgPT0gMCkgcmV0dXJuIGZhbHNlOwogICAgICAgIGFzc2VtYmx5IHsKICAgICAgICAgICAgc2l6ZSA6PSBleHRjb2Rlc2l6ZShfYWRkcikKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHNpemU+MDsKICAgIH0KCiAgICBmdW5jdGlvbiBtaW4odWludCBhLCB1aW50IGIpIHB1cmUgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogICAgfQoKICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKGlzQ29udHJhY3QoY29udHJvbGxlcikpOwogICAgICAgIHJlcXVpcmUoVG9rZW5Db250cm9sbGVyKGNvbnRyb2xsZXIpLnByb3h5UGF5bWVudC52YWx1ZShtc2cudmFsdWUpKG1zZy5zZW5kZXIpKTsKICAgIH0KCiAgICAvKgogICAgICog7JWI7KCEIOuwqeuylQogICAgICovCiAgICBmdW5jdGlvbiBjbGFpbVRva2VucyhhZGRyZXNzIF90b2tlbikgcHVibGljIG9ubHlDb250cm9sbGVyIHsKICAgICAgICBpZiAoX3Rva2VuID09IDB4MCkgewogICAgICAgICAgICBjb250cm9sbGVyLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIE1pbmlNZVRva2VuIHRva2VuID0gTWluaU1lVG9rZW4oX3Rva2VuKTsKICAgICAgICB1aW50IGJhbGFuY2UgPSB0b2tlbi5iYWxhbmNlT2YodGhpcyk7CiAgICAgICAgdG9rZW4udHJhbnNmZXIoY29udHJvbGxlciwgYmFsYW5jZSk7CiAgICAgICAgQ2xhaW1lZFRva2VucyhfdG9rZW4sIGNvbnRyb2xsZXIsIGJhbGFuY2UpOwogICAgfQoKICAgIC8qCiAgICAgKiDsnbTrsqTtirgKICAgICAqLwogICAgZXZlbnQgQ2xhaW1lZFRva2VucyhhZGRyZXNzIGluZGV4ZWQgX3Rva2VuLCBhZGRyZXNzIGluZGV4ZWQgX2NvbnRyb2xsZXIsIHVpbnQgX2Ftb3VudCk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX2Ftb3VudCk7CiAgICBldmVudCBOZXdDbG9uZVRva2VuKGFkZHJlc3MgaW5kZXhlZCBfY2xvbmVUb2tlbiwgdWludCBfc25hcHNob3RCbG9jayk7CiAgICBldmVudCBBcHByb3ZhbCgKICAgICAgICBhZGRyZXNzIGluZGV4ZWQgX293bmVyLAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwKICAgICAgICB1aW50MjU2IF9hbW91bnQKICAgICAgICApOwp9CgovKgogKiBNaW5pTWVUb2tlbkZhY3RvcnkKICovCi8vIOydtCDqs4Tslb3snYAg6rOE7JW97JeQ7IScIOuzteygnCDqs4Tslb3snYQg7IOd7ISx7ZWY64qUIOuNsCDsgqzsmqnrkKnri4jri6QuCmNvbnRyYWN0IE1pbmlNZVRva2VuRmFjdG9yeSB7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICDsg4jroZzsmrQg6riw64ql7Jy866GcIOyDiOuhnOyatCDthqDtgbDsnYQg66eM65Ok7Ja0IERBcHDrpbwg7JeF642w7J207Yq47ZWY7Iut7Iuc7JikLgogICAgLy8gIG1zZy5zZW5kZXIgICAgICAgICAg64qUIOydtCDrs7XsoJwg7Yag7YGw7J2YIOy7qO2KuOuhpOufrOqwgOuQqeuLiOuLpC4KICAgIC8vIF9wYXJlbnRUb2tlbiAgICAgICAgIOuzteygnCDrkKAg7Yag7YGw7J2YIOyjvOyGjAogICAgLy8gX3NuYXBzaG90QmxvY2sgICAgICAg7IOB7JyEIO2GoO2BsCDruJTroZ0KICAgIC8vICAgICAgICAgICAgICAgICAgICAgIOuzteygnCDthqDtgbDsnZgg7LSI6riwIOuwsO2PrCDqsrDsoJUKICAgIC8vIF90b2tlbk5hbWUgICAgICAgICAgIOyDiCDthqDtgbDsnZgg7J2066aECiAgICAvLyBAcGFyYW0gX2RlY2ltYWxVbml0cyDsg4gg7Yag7YGw7J2YIOyGjOyImCDsnpDrpr/siJgKICAgIC8vIEBwYXJhbSBfdG9rZW5TeW1ib2wgIOyDiCDthqDtgbDsl5Ag64yA7ZWcIO2GoO2BsCDquLDtmLgKICAgIC8vIEBwYXJhbSBfdHJhbnNmZXJzRW5hYmxlZCB0cnVlIOydtOuptCDthqDtgbDsnYQg7KCE7Iah7ZWgIOyImCDsnojsirXri4jri6QuCiAgICAvLyBAcmV0dXJuICAgICAgICAgICAgICDsg4gg7Yag7YGwIOqzhOyVveydmCDso7zshowKICAgIGZ1bmN0aW9uIGNyZWF0ZUNsb25lVG9rZW4oCiAgICAgICAgYWRkcmVzcyBfcGFyZW50VG9rZW4sCiAgICAgICAgdWludCBfc25hcHNob3RCbG9jaywKICAgICAgICBzdHJpbmcgX3Rva2VuTmFtZSwKICAgICAgICB1aW50OCBfZGVjaW1hbFVuaXRzLAogICAgICAgIHN0cmluZyBfdG9rZW5TeW1ib2wsCiAgICAgICAgYm9vbCBfdHJhbnNmZXJzRW5hYmxlZAogICAgKSBwdWJsaWMgcmV0dXJucyAoTWluaU1lVG9rZW4pIHsKICAgICAgICBNaW5pTWVUb2tlbiBuZXdUb2tlbiA9IG5ldyBNaW5pTWVUb2tlbigKICAgICAgICAgICAgdGhpcywKICAgICAgICAgICAgX3BhcmVudFRva2VuLAogICAgICAgICAgICBfc25hcHNob3RCbG9jaywKICAgICAgICAgICAgX3Rva2VuTmFtZSwKICAgICAgICAgICAgX2RlY2ltYWxVbml0cywKICAgICAgICAgICAgX3Rva2VuU3ltYm9sLAogICAgICAgICAgICBfdHJhbnNmZXJzRW5hYmxlZAogICAgICAgICAgICApOwoKICAgICAgICBuZXdUb2tlbi5jaGFuZ2VDb250cm9sbGVyKG1zZy5zZW5kZXIpOwogICAgICAgIHJldHVybiBuZXdUb2tlbjsKICAgIH0KfQoKLyoqCiAqIEB0aXRsZSBSRVQKICogQGRldiBSRVTripQgTWluaU1lVG9rZW7snYQg7IOB7IaN67Cb7J2AIEVSQzIwIO2GoO2BsCDqs4Tslb3snoXri4jri6QuCiAqLwpjb250cmFjdCBSRVQgaXMgTWluaU1lVG9rZW4sIEJsb2NrZWRzIHsKICBib29sIHB1YmxpYyBzdWRvRW5hYmxlZCA9IHRydWU7CgogIG1vZGlmaWVyIG9ubHlTdWRvRW5hYmxlZCgpIHsKICAgIHJlcXVpcmUoc3Vkb0VuYWJsZWQpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIG9ubHlOb3RCbG9ja2VkKGFkZHJlc3MgX2FkZHIpIHsKICAgIHJlcXVpcmUoIWJsb2NrZWRbX2FkZHJdKTsKICAgIF87CiAgfQoKICBldmVudCBTdWRvRW5hYmxlZChib29sIF9zdWRvRW5hYmxlZCk7CgogIGZ1bmN0aW9uIFJFVChhZGRyZXNzIF90b2tlbkZhY3RvcnkpIE1pbmlNZVRva2VuKAogICAgX3Rva2VuRmFjdG9yeSwKICAgIDB4MCwgICAgICAgICAgICAgICAgICAvLyDrtoDrqqgg7Yag7YGwIOyXhuydjAogICAgMCwgICAgICAgICAgICAgICAgICAgIC8vIOyDgeychOydmCDsiqTrg4Ug7IO3IOu4lOuhnSDrsojtmLgg7JeG7J2MCiAgICAiUmFwaWRlIFRva2VuIiwgICAgICAvLyDthqDtgbAg7J2066aECiAgICAxOCwgICAgICAgICAgICAgICAgICAgLy8g7Iut7KeE67KVCiAgICAiUkFQIiwgICAgICAgICAgICAgICAgLy8g7IOB7KeVKOyLrOuzvCkKICAgIGZhbHNlICAgICAgICAgICAgICAgICAvLyDsoITshqEg7IKs7JqpCiAgKSBwdWJsaWMge30KCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIG9ubHlOb3RCbG9ja2VkKG1zZy5zZW5kZXIpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX2Ftb3VudCk7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIG9ubHlOb3RCbG9ja2VkKF9mcm9tKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgfQoKICAvLyDslYTrnpjsnZggNOqwnCDquLDriqXsnYAgJ3N1ZG9yc2FibGVkKO2VmOychCDshKTsoJXrkKgpJ+uhnOunjCDtmZzshLHtmZTrkKnri4jri6QuCiAgLy8gQUxMIDogMyDqsJzsnZggc3VkbyDroIjrsqgKICBmdW5jdGlvbiBnZW5lcmF0ZVRva2VucyhhZGRyZXNzIF9vd25lciwgdWludCBfYW1vdW50KSBwdWJsaWMgb25seUNvbnRyb2xsZXIgb25seVN1ZG9FbmFibGVkIHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBzdXBlci5nZW5lcmF0ZVRva2Vucyhfb3duZXIsIF9hbW91bnQpOwogIH0KCiAgZnVuY3Rpb24gZGVzdHJveVRva2VucyhhZGRyZXNzIF9vd25lciwgdWludCBfYW1vdW50KSBwdWJsaWMgb25seUNvbnRyb2xsZXIgb25seVN1ZG9FbmFibGVkIHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBzdXBlci5kZXN0cm95VG9rZW5zKF9vd25lciwgX2Ftb3VudCk7CiAgfQoKICBmdW5jdGlvbiBibG9ja0FkZHJlc3MoYWRkcmVzcyBfYWRkcikgcHVibGljIG9ubHlDb250cm9sbGVyIG9ubHlTdWRvRW5hYmxlZCB7CiAgICBzdXBlci5ibG9ja0FkZHJlc3MoX2FkZHIpOwogIH0KCiAgZnVuY3Rpb24gdW5ibG9ja0FkZHJlc3MoYWRkcmVzcyBfYWRkcikgcHVibGljIG9ubHlDb250cm9sbGVyIG9ubHlTdWRvRW5hYmxlZCB7CiAgICBzdXBlci51bmJsb2NrQWRkcmVzcyhfYWRkcik7CiAgfQoKICBmdW5jdGlvbiBlbmFibGVTdWRvKGJvb2wgX3N1ZG9FbmFibGVkKSBwdWJsaWMgb25seUNvbnRyb2xsZXIgewogICAgc3Vkb0VuYWJsZWQgPSBfc3Vkb0VuYWJsZWQ7CiAgICBTdWRvRW5hYmxlZChfc3Vkb0VuYWJsZWQpOwogIH0KCiAgLy8gYnlMaXN0IO2VqOyImAogIGZ1bmN0aW9uIGdlbmVyYXRlVG9rZW5zQnlMaXN0KGFkZHJlc3NbXSBfb3duZXJzLCB1aW50W10gX2Ftb3VudHMpIHB1YmxpYyBvbmx5Q29udHJvbGxlciBvbmx5U3Vkb0VuYWJsZWQgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfb3duZXJzLmxlbmd0aCA9PSBfYW1vdW50cy5sZW5ndGgpOwoKICAgIGZvcih1aW50IGkgPSAwOyBpIDwgX293bmVycy5sZW5ndGg7IGkrKykgewogICAgICBnZW5lcmF0ZVRva2Vucyhfb3duZXJzW2ldLCBfYW1vdW50c1tpXSk7CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfQp9'.
	

]
