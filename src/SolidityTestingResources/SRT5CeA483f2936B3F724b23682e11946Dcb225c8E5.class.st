Class {
	#name : #SRT5CeA483f2936B3F724b23682e11946Dcb225c8E5,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5CeA483f2936B3F724b23682e11946Dcb225c8E5 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7CgppbnRlcmZhY2UgdG9rZW5SZWNpcGllbnQgeyBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZXh0cmFEYXRhKSBleHRlcm5hbDsgfQoKY29udHJhY3Qgb3duZWQgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgICBhZGRyZXNzIHB1YmxpYyBjb250cmFjdEFkZHJlc3M7CgogICAgZnVuY3Rpb24gb3duZWQoKSBwdWJsaWN7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIGNvbnRyYWN0QWRkcmVzcyA9IHRoaXM7CiAgICB9CgogICAgbW9kaWZpZXIgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KfQoKY29udHJhY3QgTXlUb2tlbiBpcyBvd25lZCB7CiAgICAvKiB0aGUgcmVzdCBvZiB0aGUgY29udHJhY3QgYXMgdXN1YWwgKi8KICAgIHN0cmluZyBwdWJsaWMgbmFtZTsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgdWludDggcHVibGljIGRlY2ltYWxzOwogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICAKCXVpbnQyNTYgcHVibGljIGV4Y2hhbmdlU3RhcnQ7Cgl1aW50MjU2IHB1YmxpYyBleGNoYW5nZUVuZDsKICAgIHVpbnQyNTYgcHVibGljIHNlbGxQcmljZTsKICAgIHVpbnQyNTYgcHVibGljIGJ1eVByaWNlOwoJCglib29sIHB1YmxpYyBkcm9wOwogICAgdWludDI1NiBwdWJsaWMgYWlyRHJvcDsKICAgIHVpbnQyNTYgcHVibGljIGN1cnJlbnREcm9wOwogICAgdWludDI1NiBwdWJsaWMgdG90YWxEcm9wOwoJdWludDI1NiBwdWJsaWMgZHJvcFN0YXJ0OwoJdWludDI1NiBwdWJsaWMgZHJvcEVuZDsKCQogICAgdWludDI1NiBwdWJsaWMgbWluRXRoZXJGb3JBY2NvdW50czsKCXVpbnQ4IHB1YmxpYyBwb3dlcnM7Cgl1aW50MjU2IHB1YmxpYyB1c2VyczsKCXVpbnQyNTYgcHVibGljIG1pblRva2VuOwoJdWludDI1NiBwdWJsaWMgY291bnQ7CgkKCWJvb2wgcHVibGljIGxvY2s7Cglib29sIHB1YmxpYyBzZWxsVG9Db250cmFjdDsKICAgIAogICAgbWFwcGluZyAoYWRkcmVzcz0+IGJvb2wpIHB1YmxpYyBpbml0aWFsaXplZDsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VzOwoJbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgZnJvemVuczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGZyb3plbk51bTsKCW1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGZyb3plbkVuZDsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgcHVibGljIGFsbG93YW5jZTsKCW1hcHBpbmcgKHVpbnQyNTYgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSkgcHVibGljIG1vbnRoUG93ZXI7CgltYXBwaW5nICh1aW50MjU2ID0+IGJvb2wpIHB1YmxpYyBtb250aE9wZW47CiAgICAKCWV2ZW50IEZyb3plbkZ1bmRzKGFkZHJlc3MgdGFyZ2V0LCB1aW50MjU2IGZyb3plbik7CiAgICBldmVudCBGcm96ZW5NeUZ1bmRzKGFkZHJlc3MgdGFyZ2V0LCB1aW50MjU2IGZyb3plbiwgdWludDI1NiBmcm9uemVFbmQpOwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGZyb20sIHVpbnQyNTYgdmFsdWUpOwogICAgCiAgICBmdW5jdGlvbiBNeVRva2VuKGFkZHJlc3MgY2VudHJhbE1pbnRlcikgcHVibGljIHsKICAgICAgICBuYW1lID0gIuWFseS6q+mAmiI7CiAgICAgICAgc3ltYm9sID0gIlNDRCI7CiAgICAgICAgZGVjaW1hbHMgPSAyOwogICAgICAgIHRvdGFsU3VwcGx5ID0gMzEwMDAwMDAgKiAzICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CiAgICAgICAgc2VsbFByaWNlID0gMSAqIDEwICoqIDE0OwogICAgICAgIGJ1eVByaWNlID0gMiAqIDEwICoqIDE0OwoJCWRyb3AgPSB0cnVlOwogICAgICAgIGFpckRyb3AgPSA4OCAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpOwoJCWN1cnJlbnREcm9wID0gMDsKICAgICAgICB0b3RhbERyb3AgPSAyMDAwMDAwICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CiAgICAgICAgbWluRXRoZXJGb3JBY2NvdW50cyA9IDUgKiAxMCAqKiAxNDsKCQlwb3dlcnMgPSAyOwoJCXVzZXJzID0gMTsKCQljb3VudCA9IDEwMDA7CgkJbG9jayA9IHRydWU7CiAgICAgICAgaWYoY2VudHJhbE1pbnRlciAhPSAwKSBvd25lciA9IGNlbnRyYWxNaW50ZXI7CgkJaW5pdGlhbGl6ZWRbb3duZXJdID0gdHJ1ZTsKCQliYWxhbmNlc1tvd25lcl0gPSB0b3RhbFN1cHBseTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXREcm9wKGJvb2wgX29wZW4pIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIGRyb3AgPSBfb3BlbjsKICAgIH0KCQogICAgZnVuY3Rpb24gc2V0QWlyRHJvcCh1aW50MjU2IF9kcm9wU3RhcnQsIHVpbnQyNTYgX2Ryb3BFbmQsIHVpbnQyNTYgX2FpckRyb3AsIHVpbnQyNTYgX3RvdGFsRHJvcCkgcHVibGljIG9ubHlPd25lciB7CgkJZHJvcFN0YXJ0ID0gX2Ryb3BTdGFydDsKCQlkcm9wRW5kID0gX2Ryb3BFbmQ7CiAgICAgICAgYWlyRHJvcCA9IF9haXJEcm9wOwogICAgICAgIHRvdGFsRHJvcCA9IF90b3RhbERyb3A7CiAgICB9CgkKCWZ1bmN0aW9uIHNldEV4Y2hhbmdlKHVpbnQyNTYgX2V4Y2hhbmdlU3RhcnQsIHVpbnQyNTYgX2V4Y2hhbmdlRW5kLCB1aW50MjU2IF9zZWxsUHJpY2UsIHVpbnQyNTYgX2J1eVByaWNlKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBleGNoYW5nZVN0YXJ0ID0gX2V4Y2hhbmdlU3RhcnQ7CgkJZXhjaGFuZ2VFbmQgPSBfZXhjaGFuZ2VFbmQ7CgkJc2VsbFByaWNlID0gX3NlbGxQcmljZTsKICAgICAgICBidXlQcmljZSA9IF9idXlQcmljZTsKICAgIH0KCQoJZnVuY3Rpb24gc2V0TG9jayhib29sIF9sb2NrKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBsb2NrID0gX2xvY2s7CiAgICB9CgkKCWZ1bmN0aW9uIHNldFNlbGxUb0NvbnRyYWN0KGJvb2wgX3NlbGxUb0NvbnRyYWN0KSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBzZWxsVG9Db250cmFjdCA9IF9zZWxsVG9Db250cmFjdDsKICAgIH0KCQoJZnVuY3Rpb24gc2V0TWluRXRoZXIodWludDI1NiBfbWluaW11bUV0aGVySW5GaW5uZXkpIHB1YmxpYyBvbmx5T3duZXIgewoJCW1pbkV0aGVyRm9yQWNjb3VudHMgPSBfbWluaW11bUV0aGVySW5GaW5uZXkgKiAxIGZpbm5leTsKCX0KCQoJZnVuY3Rpb24gc2V0TW9udGhDbG9zZSh1aW50MjU2IF9tb250aCwgYm9vbCBfdmFsdWUpIHB1YmxpYyBvbmx5T3duZXIgewoJCW1vbnRoT3BlbltfbW9udGhdID0gX3ZhbHVlOwogICAgfQoJCglmdW5jdGlvbiBzZXRNb250aE9wZW4odWludDI1NiBfbW9udGgsIHVpbnQyNTYgX3VzZXJzLCB1aW50OCBfcG93ZXJzLCB1aW50MjU2IF9taW5Ub2tlbiwgdWludDI1NiBfY291bnQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIG1vbnRoT3BlbltfbW9udGhdID0gdHJ1ZTsKCQl1c2VycyA9IF91c2VyczsKCQltaW5Ub2tlbiA9IF9taW5Ub2tlbjsKCQljb3VudCA9IF9jb3VudDsKICAgICAgICBpZihfcG93ZXJzID4gMCl7CiAgICAgICAgICAgIHBvd2VycyA9IF9wb3dlcnM7CiAgICAgICAgfQogICAgfQoJICAgIAogICAgZnVuY3Rpb24gbG9ja0FjY291bnQoYWRkcmVzcyBfYWRkcmVzcywgdWludDI1NiBfbG9ja0VuZCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgZnJvemVuc1tfYWRkcmVzc10gPSBfbG9ja0VuZDsKICAgICAgICBlbWl0IEZyb3plbkZ1bmRzKF9hZGRyZXNzLCBfbG9ja0VuZCk7CiAgICB9CgkJCglmdW5jdGlvbiBfZnJlZXplRnVuZHMoYWRkcmVzcyBfYWRkcmVzcywgdWludDI1NiBfZnJlZXplLCB1aW50MjU2IF9mcmVlemVFbmQpIGludGVybmFsIHsKCQlpZihkcm9wKXsKCQkgICAgaW5pdGlhbGl6ZShfYWRkcmVzcyk7CgkJfQogICAgICAgIGZyb3plbk51bVtfYWRkcmVzc10gPSBfZnJlZXplOwoJCWZyb3plbkVuZFtfYWRkcmVzc10gPSBfZnJlZXplRW5kOwogICAgICAgIGVtaXQgRnJvemVuTXlGdW5kcyhfYWRkcmVzcywgX2ZyZWV6ZSwgX2ZyZWV6ZUVuZCk7CiAgICB9CgkKCWZ1bmN0aW9uIGZyZWV6ZVVzZXJGdW5kcyhhZGRyZXNzIF9hZGRyZXNzLCB1aW50MjU2IF9mcmVlemUsIHVpbnQyNTYgX2ZyZWV6ZUVuZCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgX2ZyZWV6ZUZ1bmRzKF9hZGRyZXNzLCBfZnJlZXplLCBfZnJlZXplRW5kKTsKICAgIH0KCQoJZnVuY3Rpb24gZnJlZXplTXlGdW5kcyh1aW50MjU2IF9mcmVlemUsIHVpbnQyNTYgX2ZyZWV6ZUVuZCkgcHVibGljIHsKICAgICAgICBfZnJlZXplRnVuZHMobXNnLnNlbmRlciwgX2ZyZWV6ZSwgX2ZyZWV6ZUVuZCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoYWRkcmVzcyBfYWRkcmVzcykgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewoJCXJlcXVpcmUgKGRyb3ApOwoJCXJlcXVpcmUgKG5vdyA+IGZyb3plbnNbX2FkZHJlc3NdKTsKCQlpZihkcm9wU3RhcnQgIT0gZHJvcEVuZCAmJiBkcm9wRW5kID4gMCl7CgkJCXJlcXVpcmUgKG5vdyA+PSBkcm9wU3RhcnQgJiYgbm93IDw9ZHJvcEVuZCk7CgkJfQogICAgICAgIHJlcXVpcmUgKGJhbGFuY2VzW293bmVyXSA+IGFpckRyb3ApOwogICAgICAgIGlmKGN1cnJlbnREcm9wICsgYWlyRHJvcCA8IHRvdGFsRHJvcCAmJiAhaW5pdGlhbGl6ZWRbX2FkZHJlc3NdKXsKICAgICAgICAgICAgaW5pdGlhbGl6ZWRbX2FkZHJlc3NdID0gdHJ1ZTsKICAgICAgICAgICAgX3RyYW5zZmVyKG93bmVyLCBtc2cuc2VuZGVyLCBhaXJEcm9wKTsKICAgICAgICAgICAgY3VycmVudERyb3AgKz0gYWlyRHJvcDsKICAgICAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19hZGRyZXNzXTsKICAgICAgICB9CiAgICB9CgkKCWZ1bmN0aW9uIGdldE1vbnRoKHVpbnQyNTYgX21vbnRoKSBwdWJsaWMgcmV0dXJucyAodWludDI1NikgewoJCXJlcXVpcmUgKGNvdW50ID4gMCk7CgkJcmVxdWlyZSAobm93ID4gZnJvemVuc1ttc2cuc2VuZGVyXSk7CgkJcmVxdWlyZSAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gbWluVG9rZW4pOwoJICAgIHJlcXVpcmUgKG1vbnRoT3BlbltfbW9udGhdKTsKCSAgICByZXF1aXJlICghbW9udGhQb3dlcltfbW9udGhdW21zZy5zZW5kZXJdKTsKCQlpZihkcm9wKXsKCQkgICAgaW5pdGlhbGl6ZShtc2cuc2VuZGVyKTsKCQl9CgkgICAgdWludDI1NiBfbXBvd2VyID0gdG90YWxTdXBwbHkgKiBwb3dlcnMgLyAxMDAgLyB1c2VyczsKCSAgICByZXF1aXJlIChiYWxhbmNlc1tvd25lcl0gPj0gX21wb3dlcik7CgkJbW9udGhQb3dlcltfbW9udGhdW21zZy5zZW5kZXJdID0gdHJ1ZTsKCQlfdHJhbnNmZXIob3duZXIsIG1zZy5zZW5kZXIsIF9tcG93ZXIpOwoJCWNvdW50IC09IDE7CiAgICAgICAgcmV0dXJuIF9tcG93ZXI7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgdmlldyByZXR1cm5zKHVpbnQyNTYpewogICAgICAgIHJldHVybiBnZXRCYWxhbmNlcyhfYWRkcmVzcyk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdldEJhbGFuY2VzKGFkZHJlc3MgX2FkZHJlc3MpIHZpZXcgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGlmIChkcm9wICYmIG5vdyA+IGZyb3plbnNbX2FkZHJlc3NdICYmIGN1cnJlbnREcm9wICsgYWlyRHJvcCA8IHRvdGFsRHJvcCAmJiAhaW5pdGlhbGl6ZWRbX2FkZHJlc3NdKSB7CiAgICAgICAgICAgIHJldHVybiBiYWxhbmNlc1tfYWRkcmVzc10gKyBhaXJEcm9wOwogICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19hZGRyZXNzXTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHRha2VFdGhlcih1aW50MjU2IF9iYWxhbmNlKSBwdWJsaWMgcGF5YWJsZSBvbmx5T3duZXIgewogICAgICAgICBvd25lci50cmFuc2ZlcihfYmFsYW5jZSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uICgpIHBheWFibGUgcHVibGljIHt9CiAgICAKICAgIGZ1bmN0aW9uIGdpdmVFdGhlcigpIHB1YmxpYyBwYXlhYmxlIHsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ2V0RXRoZXIoYWRkcmVzcyBfYWRkcmVzcykgcHVibGljIHZpZXcgcmV0dXJucyh1aW50MjU2KXsKICAgICAgICByZXR1cm4gX2FkZHJlc3MuYmFsYW5jZTsKICAgIH0KCQoJZnVuY3Rpb24gZ2V0VGltZSgpIHB1YmxpYyB2aWV3IHJldHVybnModWludDI1Nil7CiAgICAgICAgcmV0dXJuIG5vdzsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gbWludFRva2VuKGFkZHJlc3MgX2FkZHJlc3MsIHVpbnQyNTYgX21pbnRlZEFtb3VudCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfYWRkcmVzc10gKyBfbWludGVkQW1vdW50ID4gYmFsYW5jZXNbX2FkZHJlc3NdKTsKICAgICAgICByZXF1aXJlKHRvdGFsU3VwcGx5ICsgX21pbnRlZEFtb3VudCA+IHRvdGFsU3VwcGx5KTsKICAgICAgICBiYWxhbmNlc1tfYWRkcmVzc10gKz0gX21pbnRlZEFtb3VudDsKICAgICAgICB0b3RhbFN1cHBseSArPSBfbWludGVkQW1vdW50OwogICAgICAgIGVtaXQgVHJhbnNmZXIoMCwgdGhpcywgX21pbnRlZEFtb3VudCk7CiAgICAgICAgZW1pdCBUcmFuc2Zlcih0aGlzLCBfYWRkcmVzcywgX21pbnRlZEFtb3VudCk7CiAgICB9CiAgICAKICAgIC8qIEludGVybmFsIHRyYW5zZmVyLCBjYW4gb25seSBiZSBjYWxsZWQgYnkgdGhpcyBjb250cmFjdCAqLwogICAgZnVuY3Rpb24gX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgewoJCWlmKF9mcm9tICE9IG93bmVyKXsKCQkJcmVxdWlyZSAoIWxvY2spOwoJCX0KICAgICAgICByZXF1aXJlIChfdG8gIT0gMHgwKTsKCQlyZXF1aXJlIChfZnJvbSAhPSBfdG8pOwogICAgICAgIHJlcXVpcmUgKG5vdyA+IGZyb3plbnNbX2Zyb21dKTsKCQlyZXF1aXJlIChub3cgPiBmcm96ZW5zW190b10pOwoJCWlmKGRyb3ApewoJCSAgICBpbml0aWFsaXplKF9mcm9tKTsKICAgICAgICAgICAgaW5pdGlhbGl6ZShfdG8pOwoJCX0KCQlpZihub3cgPD0gZnJvemVuRW5kW19mcm9tXSl7CgkJCXJlcXVpcmUgKGJhbGFuY2VzW19mcm9tXSAtIGZyb3plbk51bVtfZnJvbV0gPj0gX3ZhbHVlKTsKCQl9ZWxzZXsKCQkJcmVxdWlyZSAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSk7CgkJfQogICAgICAgIHJlcXVpcmUgKGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKTsKICAgICAgICBpZihzZWxsVG9Db250cmFjdCAmJiBtc2cuc2VuZGVyLmJhbGFuY2UgPCBtaW5FdGhlckZvckFjY291bnRzKXsKICAgICAgICAgICAgc2VsbCgobWluRXRoZXJGb3JBY2NvdW50cyAtIG1zZy5zZW5kZXIuYmFsYW5jZSkgLyBzZWxsUHJpY2UpOwogICAgICAgIH0KICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgIAogICAgICAgIGVtaXQgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgIF92YWx1ZSkgcHVibGljIHsKICAgICAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKXsKCQlyZXF1aXJlIChub3cgPiBmcm96ZW5zW21zZy5zZW5kZXJdKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdKTsKCQlfdHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyl7CgkJcmVxdWlyZSAoIWxvY2spOwoJCWlmKGRyb3ApewogICAgCQlpbml0aWFsaXplKG1zZy5zZW5kZXIpOwogICAgICAgICAgICBpbml0aWFsaXplKF9zcGVuZGVyKTsKCQl9CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyICE9IF9zcGVuZGVyKTsKCQlyZXF1aXJlIChub3cgPiBmcm96ZW5zW21zZy5zZW5kZXJdKTsKCQlpZihub3cgPD0gZnJvemVuRW5kW21zZy5zZW5kZXJdKXsKCQkJcmVxdWlyZSAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gLSBmcm96ZW5OdW1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKTsKCQl9ZWxzZXsKCQkJcmVxdWlyZSAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKTsKCQl9CiAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9leHRyYURhdGEpCiAgICBwdWJsaWMKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCXJlcXVpcmUgKCFsb2NrKTsKICAgICAgICB0b2tlblJlY2lwaWVudCBzcGVuZGVyID0gdG9rZW5SZWNpcGllbnQoX3NwZW5kZXIpOwogICAgICAgIGlmIChhcHByb3ZlKF9zcGVuZGVyLCBfdmFsdWUpKSB7CiAgICAgICAgICAgIHNwZW5kZXIucmVjZWl2ZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgkJcmVxdWlyZSAoIWxvY2spOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CgkJcmVxdWlyZSAobm93ID4gZnJvemVuc1ttc2cuc2VuZGVyXSk7CgkJaWYobm93IDw9IGZyb3plbkVuZFttc2cuc2VuZGVyXSl7CgkJCXJlcXVpcmUgKGJhbGFuY2VzW21zZy5zZW5kZXJdIC0gZnJvemVuTnVtW21zZy5zZW5kZXJdID49IF92YWx1ZSk7CgkJfWVsc2V7CgkJCXJlcXVpcmUgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSk7CgkJfQogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICB0b3RhbFN1cHBseSAtPSBfdmFsdWU7CiAgICAgICAgZW1pdCBCdXJuKG1zZy5zZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGJ1cm5Gcm9tKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgkJcmVxdWlyZSAoIWxvY2spOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CgkJcmVxdWlyZSAobm93ID4gZnJvemVuc1ttc2cuc2VuZGVyXSk7CgkJcmVxdWlyZSAobm93ID4gZnJvemVuc1tfZnJvbV0pOwoJCWlmKG5vdyA8PSBmcm96ZW5FbmRbX2Zyb21dKXsKCQkJcmVxdWlyZSAoYmFsYW5jZXNbX2Zyb21dIC0gZnJvemVuTnVtW19mcm9tXSA+PSBfdmFsdWUpOwoJCX1lbHNlewoJCQlyZXF1aXJlIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlKTsKCQl9CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSk7CiAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICB0b3RhbFN1cHBseSAtPSBfdmFsdWU7CiAgICAgICAgZW1pdCBCdXJuKF9mcm9tLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGJ1eSgpIHB1YmxpYyBwYXlhYmxlewogICAgICAgIHJlcXVpcmUgKCFsb2NrKTsKICAgICAgICBpZihkcm9wKXsKICAgICAgICAgICAgaW5pdGlhbGl6ZShtc2cuc2VuZGVyKTsKICAgICAgICB9CgkJaWYoZXhjaGFuZ2VTdGFydCAhPSBleGNoYW5nZUVuZCAmJiBleGNoYW5nZUVuZCA+IDApewoJCQlyZXF1aXJlIChub3cgPj0gZXhjaGFuZ2VTdGFydCAmJiBub3cgPD1leGNoYW5nZUVuZCk7CgkJfQogICAgICAgIHVpbnQyNTYgX2Ftb3VudCA9IG1zZy52YWx1ZSAvIGJ1eVByaWNlOwogICAgICAgIF90cmFuc2Zlcihvd25lciwgbXNnLnNlbmRlciwgX2Ftb3VudCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHNlbGwodWludDI1NiBfYW1vdW50KSBwdWJsaWMgewoJCXJlcXVpcmUgKCFsb2NrKTsKCQlyZXF1aXJlIChzZWxsVG9Db250cmFjdCk7CgkJcmVxdWlyZSAobm93ID4gZnJvemVuc1ttc2cuc2VuZGVyXSk7CiAgICAgICAgcmVxdWlyZShfYW1vdW50ID4gMCk7CgkJaWYoZXhjaGFuZ2VTdGFydCAhPSBleGNoYW5nZUVuZCAmJiBleGNoYW5nZUVuZCA+IDApewoJCQlyZXF1aXJlIChub3cgPj0gZXhjaGFuZ2VTdGFydCAmJiBub3cgPD1leGNoYW5nZUVuZCk7CgkJfQoJCWlmKG5vdyA8PSBmcm96ZW5FbmRbbXNnLnNlbmRlcl0pewoJCQlyZXF1aXJlIChiYWxhbmNlc1ttc2cuc2VuZGVyXSAtIGZyb3plbk51bVttc2cuc2VuZGVyXSA+PSBfYW1vdW50KTsKCQl9ZWxzZXsKCQkJcmVxdWlyZSAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCk7CgkJfQogICAgICAgIHJlcXVpcmUoY29udHJhY3RBZGRyZXNzLmJhbGFuY2UgPj0gX2Ftb3VudCAqIHNlbGxQcmljZSk7CiAgICAgICAgX3RyYW5zZmVyKG1zZy5zZW5kZXIsIGNvbnRyYWN0QWRkcmVzcywgX2Ftb3VudCk7CiAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihfYW1vdW50ICogc2VsbFByaWNlKTsKICAgIH0KICAgIAp9'.
	

]
