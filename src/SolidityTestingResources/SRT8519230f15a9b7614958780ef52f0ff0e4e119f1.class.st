Class {
	#name : #SRT8519230f15a9b7614958780ef52f0ff0e4e119f1,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT8519230f15a9b7614958780ef52f0ff0e4e119f1 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgogIC8qCgogICAgWmliZXIuaW8gQ29udHJhY3QKICAgID09PT09PT09PT09PT09PT09PT09PT09PQogICAgQnV5cyBaQlIgdG9rZW5zIGZyb20gdGhlIERBTyBjcm93ZHNhbGUgb24geW91ciBiZWhhbGYuCiAgICBBdXRob3I6IC91L0xlbwoKICAqLwoKCiAgLy8gSW50ZXJmYWNlIHRvIFpCUiBJQ08gQ29udHJhY3QKICBjb250cmFjdCBEYW9Ub2tlbiB7CiAgICB1aW50MjU2IHB1YmxpYyBDQVA7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbEV0aGVyczsKICAgIGZ1bmN0aW9uIHByb3h5UGF5bWVudChhZGRyZXNzIHBhcnRpY2lwYW50KSBwYXlhYmxlOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICB9CgogIGNvbnRyYWN0IFppYmVyVG9rZW4gewogICAgLy8gU3RvcmUgdGhlIGFtb3VudCBvZiBFVEggZGVwb3NpdGVkIGJ5IGVhY2ggYWNjb3VudC4KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VzOwogICAgLy8gU3RvcmUgd2hldGhlciBvciBub3QgZWFjaCBhY2NvdW50IHdvdWxkIGhhdmUgbWFkZSBpdCBpbnRvIHRoZSBjcm93ZHNhbGUuCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBjaGVja2VkX2luOwogICAgLy8gQm91bnR5IGZvciBleGVjdXRpbmcgYnV5LgogICAgdWludDI1NiBwdWJsaWMgYm91bnR5OwogICAgLy8gVHJhY2sgd2hldGhlciB0aGUgY29udHJhY3QgaGFzIGJvdWdodCB0aGUgdG9rZW5zIHlldC4KICAgIGJvb2wgcHVibGljIGJvdWdodF90b2tlbnM7CiAgICAvLyBSZWNvcmQgdGhlIHRpbWUgdGhlIGNvbnRyYWN0IGJvdWdodCB0aGUgdG9rZW5zLgogICAgdWludDI1NiBwdWJsaWMgdGltZV9ib3VnaHQ7CiAgICAvLyBFbWVyZ2VuY3kga2lsbCBzd2l0Y2ggaW4gY2FzZSBhIGNyaXRpY2FsIGJ1ZyBpcyBmb3VuZC4KICAgIGJvb2wgcHVibGljIGtpbGxfc3dpdGNoOwogICAgCiAgICAvKiBQdWJsaWMgdmFyaWFibGVzIG9mIHRoZSB0b2tlbiAqLwogICAgc3RyaW5nIHB1YmxpYyBuYW1lOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7CiAgICAKICAgIC8vIFJhdGlvIG9mIFpCUiB0b2tlbnMgcmVjZWl2ZWQgdG8gRVRIIGNvbnRyaWJ1dGVkCiAgICAvLyAxLjAwMC4wMDAgQkdQID0gODAuMDAwLjAwMCBaQlIKICAgIC8vIDFFVEggPSAyMTggQkdQICgwMy4wNy4yMDE3OiBodHRwczovL3d3dy5jb2luZ2Vja28uY29tL2VuL3ByaWNlX2NoYXJ0cy9ldGhlcmV1bS9nYnApCiAgICAvLyAxIEVUSCA9IDE3NDQwIFpCUgogICAgdWludDI1NiBaQlJfcGVyX2V0aCA9IDE3NDQwOwogICAgLy9Ub3RhbCBaQlIgVG9rZW5zIFJlc2VydmUKICAgIHVpbnQyNTYgWkJSX3RvdGFsX3Jlc2VydmUgPSAxMDAwMDAwMDA7CiAgICAvLyBaQlIgVG9rZW5zIGZvciBEZXZlbG9wZXJzCiAgICB1aW50MjU2IFpCUl9kZXZfcmVzZXJ2ZWQgPSAxMDAwMDAwMDsKICAgIC8vIFpCUiBUb2tlbnMgZm9yIFNlbGxpbmcgb3ZlciBJQ08KICAgIHVpbnQyNTYgWkJSX2Zvcl9zZWxsaW5nID0gODAwMDAwMDA7CiAgICAvLyBaQlIgVG9rZW5zIGZvciBCb3VudHkKICAgIHVpbnQyNTYgWkJSX2Zvcl9ib3VudHk9IDEwMDAwMDAwOwogICAgLy8gRVRIIGZvciBhY3RpdmF0ZSBraWxsLXN3aXRjaCBpbiBjb250cmFjdAogICAgdWludDI1NiBFVEhfdG9fZW5kID0gNTAwMDAgZXRoZXI7CiAgICB1aW50IHJlZ2lzdHJlZFRvOwogICAgdWludDI1NiBsb2FkZWRSZWZ1bmQ7CiAgICB1aW50MjU2IF9zdXBwbHkgPSAxMDAwMDAwMDAwMDsKICAgIHN0cmluZyBfbmFtZSA9ICJaSUJFUiBURVNUIFRPS0VOIjsKICAgIHN0cmluZyBfc3ltYm9sID0gIlpCUlgiOwogICAgdWludDggX2RlY2ltYWxzID0gMjsKCiAgICAvLyBUaGUgWkJSIFRva2VuIGFkZHJlc3MgYW5kIHNhbGUgYWRkcmVzcyBhcmUgdGhlIHNhbWUuCiAgICBEYW9Ub2tlbiBwdWJsaWMgdG9rZW4gPSBEYW9Ub2tlbigweGE5ZDU4NUNFM0IyMjdkNjk5ODVjM0Y3QTg2NmZFN2QwZTUxMGRhNTApOwogICAgLy8gVGhlIGRldmVsb3BlciBhZGRyZXNzLgogICAgYWRkcmVzcyBkZXZlbG9wZXJfYWRkcmVzcyA9IDB4NjUwODg3QjMzQkZBNDIzMjQwRUQ3QmM0QkQyNmM2NjA3NUUzYkVhZjsKCgogICAgLyogVGhpcyBjcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGJhbGFuY2VzICovCiAgICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VPZjsKICAgICAgCiAgICAgIC8qIFRoaXMgZ2VuZXJhdGVzIGEgcHVibGljIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgY2xpZW50cyAqLwogICAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKCiAgICAgIC8vLyBTYWZlTWF0aCBjb250cmFjdCAtIG1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MKICAgICAgLy8vIEBhdXRob3IgPGEgaHJlZj0iL2Nkbi1jZ2kvbC9lbWFpbC1wcm90ZWN0aW9uIiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9IjA1NjE2MDczNDU3NjY4NjQ3NzcxNjY2YTZiNzE3NzY0NjY3MTYwNjQ2ODJiNjY2YTY4Ij5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9hPgogICAgICBmdW5jdGlvbiBzYWZlTXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gc2FmZURpdih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIGFzc2VydChiID4gMCk7CiAgICAgICAgdWludCBjID0gYSAvIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHNhZmVTdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHNhZmVBZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICB1aW50IGMgPSBhICsgYjsKICAgICAgICBhc3NlcnQoYz49YSAmJiBjPj1iKTsKICAgICAgICByZXR1cm4gYzsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gbWF4NjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgICAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIG1pbjY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICAgICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIG1heDI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gbWluMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgewogICAgICAgIGlmICghYXNzZXJ0aW9uKSB7CiAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgIH0KCgogICAgICAvKioKICAgICAgKiBBbGxvdyBsb2FkIHJlZnVuZHMgYmFjayBvbiB0aGUgY29udHJhY3QgZm9yIHRoZSByZWZ1bmRpbmcuCiAgICAgICoKICAgICAgKiBUaGUgdGVhbSBjYW4gdHJhbnNmZXIgdGhlIGZ1bmRzIGJhY2sgb24gdGhlIHNtYXJ0IGNvbnRyYWN0IGluIHRoZSBjYXNlIHRoZSBtaW5pbXVtIGdvYWwgd2FzIG5vdCByZWFjaGVkLi4KICAgICAgKi8KICAgICAgZnVuY3Rpb24gbG9hZFJlZnVuZCgpIHBheWFibGUgewogICAgICAgIGlmKG1zZy52YWx1ZSA9PSAwKSB0aHJvdzsKICAgICAgICBsb2FkZWRSZWZ1bmQgPSBzYWZlQWRkKGxvYWRlZFJlZnVuZCwgbXNnLnZhbHVlKTsKICAgICAgfQoKICAgICAgLyoqCiAgICAgICogSW52ZXN0b3JzIGNhbiBjbGFpbSByZWZ1bmQuCiAgICAgICovCiAgICAgIGZ1bmN0aW9uIHJlZnVuZCgpIHByaXZhdGUgIHsKICAgICAgICB1aW50MjU2IHdlaVZhbHVlID0gdGhpcy5iYWxhbmNlOwogICAgICAgIGlmICh3ZWlWYWx1ZSA9PSAwKSB0aHJvdzsKICAgICAgICB1aW50MjU2IHdlaVJlZnVuZGVkOwogICAgICAgIHdlaVJlZnVuZGVkID0gc2FmZUFkZCh3ZWlSZWZ1bmRlZCwgd2VpVmFsdWUpOwogICAgICAgIHJlZnVuZCgpOwogICAgICAgIGlmICghbXNnLnNlbmRlci5zZW5kKHdlaVZhbHVlKSkgdGhyb3c7CiAgICAgIH0KCiAgICAgIC8qIFNlbmQgY29pbnMgKi8KICAgICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSB7CiAgICAgICAgICAvKiBpZiB0aGUgc2VuZGVyIGRvZW5zdCBoYXZlIGVub3VnaCBiYWxhbmNlIHRoZW4gc3RvcCAqLwogICAgICAgICAgaWYgKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA8IF92YWx1ZSkgdGhyb3c7CiAgICAgICAgICBpZiAoYmFsYW5jZU9mW190b10gKyBfdmFsdWUgPCBiYWxhbmNlT2ZbX3RvXSkgdGhyb3c7CiAgICAgICAgICAKICAgICAgICAgIC8qIEFkZCBhbmQgc3VidHJhY3QgbmV3IGJhbGFuY2VzICovCiAgICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgYmFsYW5jZU9mW190b10gKz0gX3ZhbHVlOwogICAgICAgICAgCiAgICAgICAgICAvKiBOb3RpZml5IGFueW9uZSBsaXN0ZW5pbmcgdGhhdCB0aGlzIHRyYW5zZmVyIHRvb2sgcGxhY2UgKi8KICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgfQogICAgCiAgICAvLyBBbGxvd3MgdGhlIGRldmVsb3BlciB0byBzaHV0IGRvd24gZXZlcnl0aGluZyBleGNlcHQgd2l0aGRyYXdhbHMgaW4gZW1lcmdlbmNpZXMuCiAgICBmdW5jdGlvbiBhY3RpdmF0ZV9raWxsX3N3aXRjaCgpIHsKICAgICAgLy8gT25seSBhbGxvdyB0aGUgZGV2ZWxvcGVyIHRvIGFjdGl2YXRlIHRoZSBraWxsIHN3aXRjaC4KICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gZGV2ZWxvcGVyX2FkZHJlc3MpIHRocm93OwogICAgICAvLyBJcnJldmVyc2libHkgYWN0aXZhdGUgdGhlIGtpbGwgc3dpdGNoLgogICAgICBraWxsX3N3aXRjaCA9IHRydWU7CiAgICB9CiAgICAKICAgIC8vIFdpdGhkcmF3cyBhbGwgRVRIIGRlcG9zaXRlZCBvciBaQlIgcHVyY2hhc2VkIGJ5IHRoZSBzZW5kZXIuCiAgICBmdW5jdGlvbiB3aXRoZHJhdygpewogICAgICAvLyBJZiBjYWxsZWQgYmVmb3JlIHRoZSBJQ08sIGNhbmNlbCBjYWxsZXIncyBwYXJ0aWNpcGF0aW9uIGluIHRoZSBzYWxlLgogICAgICBpZiAoIWJvdWdodF90b2tlbnMpIHsKICAgICAgICAvLyBTdG9yZSB0aGUgdXNlcidzIGJhbGFuY2UgcHJpb3IgdG8gd2l0aGRyYXdhbCBpbiBhIHRlbXBvcmFyeSB2YXJpYWJsZS4KICAgICAgICB1aW50MjU2IGV0aF9hbW91bnQgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXTsKICAgICAgICAvLyBVcGRhdGUgdGhlIHVzZXIncyBiYWxhbmNlIHByaW9yIHRvIHNlbmRpbmcgRVRIIHRvIHByZXZlbnQgcmVjdXJzaXZlIGNhbGwuCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAwOwogICAgICAgIC8vIFJldHVybiB0aGUgdXNlcidzIGZ1bmRzLiAgVGhyb3dzIG9uIGZhaWx1cmUgdG8gcHJldmVudCBsb3NzIG9mIGZ1bmRzLgogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoZXRoX2Ftb3VudCk7CiAgICAgIH0KICAgICAgLy8gV2l0aGRyYXcgdGhlIHNlbmRlcidzIHRva2VucyBpZiB0aGUgY29udHJhY3QgaGFzIGFscmVhZHkgcHVyY2hhc2VkIHRoZW0uCiAgICAgIGVsc2UgewogICAgICAgIC8vIFN0b3JlIHRoZSB1c2VyJ3MgWkJSIGJhbGFuY2UgaW4gYSB0ZW1wb3JhcnkgdmFyaWFibGUgKDEgRVRIV2VpIC0+IDIwMDAgWkJSV2VpKS4KICAgICAgICB1aW50MjU2IFpCUl9hbW91bnQgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXSAqIFpCUl9wZXJfZXRoOwogICAgICAgIC8vIFVwZGF0ZSB0aGUgdXNlcidzIGJhbGFuY2UgcHJpb3IgdG8gc2VuZGluZyBaQlIgdG8gcHJldmVudCByZWN1cnNpdmUgY2FsbC4KICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IDA7CiAgICAgICAgLy8gTm8gZmVlIGZvciB3aXRoZHJhd2luZyBpZiB0aGUgdXNlciB3b3VsZCBoYXZlIG1hZGUgaXQgaW50byB0aGUgY3Jvd2RzYWxlIGFsb25lLgogICAgICAgIHVpbnQyNTYgZmVlID0gMDsKICAgICAgICAvLyAxJSBmZWUgaWYgdGhlIHVzZXIgZGlkbid0IGNoZWNrIGluIGR1cmluZyB0aGUgY3Jvd2RzYWxlLgogICAgICAgIGlmICghY2hlY2tlZF9pblttc2cuc2VuZGVyXSkgewogICAgICAgICAgZmVlID0gWkJSX2Ftb3VudCAvIDEwMDsKICAgICAgICAgIC8vIFNlbmQgYW55IG5vbi16ZXJvIGZlZXMgdG8gZGV2ZWxvcGVyLgogICAgICAgICAgaWYoIXRva2VuLnRyYW5zZmVyKGRldmVsb3Blcl9hZGRyZXNzLCBmZWUpKSB0aHJvdzsKICAgICAgICB9CiAgICAgICAgLy8gU2VuZCB0aGUgdXNlciB0aGVpciB0b2tlbnMuICBUaHJvd3MgaWYgdGhlIGNyb3dkc2FsZSBpc24ndCBvdmVyLgogICAgICAgIGlmKCF0b2tlbi50cmFuc2Zlcihtc2cuc2VuZGVyLCBaQlJfYW1vdW50IC0gZmVlKSkgdGhyb3c7CiAgICAgIH0KICAgIH0KICAgIAogICAgLy8gQWxsb3cgZGV2ZWxvcGVyIHRvIGFkZCBFVEggdG8gdGhlIGJ1eSBleGVjdXRpb24gYm91bnR5LgogICAgZnVuY3Rpb24gYWRkX3RvX2JvdW50eSgpIHBheWFibGUgewogICAgICAvLyBPbmx5IGFsbG93IHRoZSBkZXZlbG9wZXIgdG8gY29udHJpYnV0ZSB0byB0aGUgYnV5IGV4ZWN1dGlvbiBib3VudHkuCiAgICAgIGlmIChtc2cuc2VuZGVyICE9IGRldmVsb3Blcl9hZGRyZXNzKSB0aHJvdzsKICAgICAgLy8gRGlzYWxsb3cgYWRkaW5nIHRvIGJvdW50eSBpZiBraWxsIHN3aXRjaCBpcyBhY3RpdmUuCiAgICAgIGlmIChraWxsX3N3aXRjaCkgdGhyb3c7CiAgICAgIC8vIERpc2FsbG93IGFkZGluZyB0byB0aGUgYm91bnR5IGlmIGNvbnRyYWN0IGhhcyBhbHJlYWR5IGJvdWdodCB0aGUgdG9rZW5zLgogICAgICBpZiAoYm91Z2h0X3Rva2VucykgdGhyb3c7CiAgICAgIC8vIFVwZGF0ZSBib3VudHkgdG8gaW5jbHVkZSByZWNlaXZlZCBhbW91bnQuCiAgICAgIGJvdW50eSArPSBtc2cudmFsdWU7CiAgICB9CiAgICAKICAgIC8vIEJ1eXMgdG9rZW5zIGluIHRoZSBjcm93ZHNhbGUgYW5kIHJld2FyZHMgdGhlIGNhbGxlciwgY2FsbGFibGUgYnkgYW55b25lLgogICAgZnVuY3Rpb24gY2xhaW1fYm91bnR5KCl7CiAgICAgIC8vIFNob3J0IGNpcmN1aXQgdG8gc2F2ZSBnYXMgaWYgdGhlIGNvbnRyYWN0IGhhcyBhbHJlYWR5IGJvdWdodCB0b2tlbnMuCiAgICAgIGlmIChib3VnaHRfdG9rZW5zKSByZXR1cm47CiAgICAgIC8vIERpc2FsbG93IGJ1eWluZyBpbnRvIHRoZSBjcm93ZHNhbGUgaWYga2lsbCBzd2l0Y2ggaXMgYWN0aXZlLgogICAgICBpZiAoa2lsbF9zd2l0Y2gpIHRocm93OwogICAgICAvLyBSZWNvcmQgdGhhdCB0aGUgY29udHJhY3QgaGFzIGJvdWdodCB0aGUgdG9rZW5zLgogICAgICBib3VnaHRfdG9rZW5zID0gdHJ1ZTsKICAgICAgLy8gUmVjb3JkIHRoZSB0aW1lIHRoZSBjb250cmFjdCBib3VnaHQgdGhlIHRva2Vucy4KICAgICAgdGltZV9ib3VnaHQgPSBub3cgKyAxIGRheXM7CiAgICAgIC8vIFRyYW5zZmVyIGFsbCB0aGUgZnVuZHMgKGxlc3MgdGhlIGJvdW50eSkgdG8gdGhlIFpCUiBjcm93ZHNhbGUgY29udHJhY3QKICAgICAgLy8gdG8gYnV5IHRva2Vucy4gIFRocm93cyBpZiB0aGUgY3Jvd2RzYWxlIGhhc24ndCBzdGFydGVkIHlldCBvciBoYXMKICAgICAgLy8gYWxyZWFkeSBjb21wbGV0ZWQsIHByZXZlbnRpbmcgbG9zcyBvZiBmdW5kcy4KICAgICAgdG9rZW4ucHJveHlQYXltZW50LnZhbHVlKHRoaXMuYmFsYW5jZSAtIGJvdW50eSkoYWRkcmVzcyh0aGlzKSk7CiAgICAgIC8vIFNlbmQgdGhlIGNhbGxlciB0aGVpciBib3VudHkgZm9yIGJ1eWluZyB0b2tlbnMgZm9yIHRoZSBjb250cmFjdC4KICAgICAgaWYodGhpcy5iYWxhbmNlID4gRVRIX3RvX2VuZCkKICAgICAgewogICAgICAgICAgbXNnLnNlbmRlci50cmFuc2Zlcihib3VudHkpOwogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgICAgdGltZV9ib3VnaHQgPSBub3cgKyAgMSBkYXlzICogOTsKICAgICAgICAgIGlmKHRoaXMuYmFsYW5jZSA+IEVUSF90b19lbmQpIHsKICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2Zlcihib3VudHkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIAogICAgLy8gQSBoZWxwZXIgZnVuY3Rpb24gZm9yIHRoZSBkZWZhdWx0IGZ1bmN0aW9uLCBhbGxvd2luZyBjb250cmFjdHMgdG8gaW50ZXJhY3QuCiAgICBmdW5jdGlvbiBkZWZhdWx0X2hlbHBlcigpIHBheWFibGUgewogICAgICAvLyBUcmVhdCBuZWFyLXplcm8gRVRIIHRyYW5zYWN0aW9ucyBhcyBjaGVjayBpbnMgYW5kIHdpdGhkcmF3YWwgcmVxdWVzdHMuCiAgICAgIGlmIChtc2cudmFsdWUgPD0gMSBmaW5uZXkpIHsKICAgICAgICAvLyBDaGVjayBpbiBkdXJpbmcgdGhlIGNyb3dkc2FsZS4KICAgICAgICBpZiAoYm91Z2h0X3Rva2VucykgewogICAgICAgICAgLy8gT25seSBhbGxvdyBjaGVja2luZyBpbiBiZWZvcmUgdGhlIGNyb3dkc2FsZSBoYXMgcmVhY2hlZCB0aGUgY2FwLgogICAgICAgICAgaWYgKHRva2VuLnRvdGFsRXRoZXJzKCkgPj0gdG9rZW4uQ0FQKCkpIHRocm93OwogICAgICAgICAgLy8gTWFyayB1c2VyIGFzIGNoZWNrZWQgaW4sIG1lYW5pbmcgdGhleSB3b3VsZCBoYXZlIGJlZW4gYWJsZSB0byBlbnRlciBhbG9uZS4KICAgICAgICAgIGNoZWNrZWRfaW5bbXNnLnNlbmRlcl0gPSB0cnVlOwogICAgICAgIH0KICAgICAgICAvLyBXaXRoZHJhdyBmdW5kcyBpZiB0aGUgY3Jvd2RzYWxlIGhhc24ndCBiZWd1biB5ZXQgb3IgaXMgYWxyZWFkeSBvdmVyLgogICAgICAgIGVsc2UgewogICAgICAgICAgd2l0aGRyYXcoKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgLy8gRGVwb3NpdCB0aGUgdXNlcidzIGZ1bmRzIGZvciB1c2UgaW4gcHVyY2hhc2luZyB0b2tlbnMuCiAgICAgIGVsc2UgewogICAgICAgIC8vIERpc2FsbG93IGRlcG9zaXRzIGlmIGtpbGwgc3dpdGNoIGlzIGFjdGl2ZS4KICAgICAgICBpZiAoa2lsbF9zd2l0Y2gpIHRocm93OwogICAgICAgIC8vIE9ubHkgYWxsb3cgZGVwb3NpdHMgaWYgdGhlIGNvbnRyYWN0IGhhc24ndCBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgdG9rZW5zLgogICAgICAgIGlmIChib3VnaHRfdG9rZW5zKSB0aHJvdzsKICAgICAgICAvLyBVcGRhdGUgcmVjb3JkcyBvZiBkZXBvc2l0ZWQgRVRIIHRvIGluY2x1ZGUgdGhlIHJlY2VpdmVkIGFtb3VudC4KICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSBtc2cudmFsdWU7CiAgICAgIH0KICAgIH0KICAgIAogICAgLy8gRGVmYXVsdCBmdW5jdGlvbi4gIENhbGxlZCB3aGVuIGEgdXNlciBzZW5kcyBFVEggdG8gdGhlIGNvbnRyYWN0LgogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7CiAgICAgIC8vIERlbGVnYXRlIHRvIHRoZSBoZWxwZXIgZnVuY3Rpb24uCiAgICAgIGRlZmF1bHRfaGVscGVyKCk7CiAgICB9CiAgICAKICAgIC8vQ2hlY2sgaXMgbXNnX3NlbmRlciBpcyBjb250cmFjdCBkZXYKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gZGV2ZWxvcGVyX2FkZHJlc3MpIHsKICAgICAgICB0aHJvdzsKICAgICAgfQogICAgICBfOwogICAgfQogICAgCiAgICAvLyBTZW5kIGZ1bmQgd2hlbiBpY28gZW5kCiAgICBmdW5jdGlvbiB3aXRoZHJhd0V0aCgpIG9ubHlPd25lciB7ICAgICAgICAKICAgICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICAgIH0KICAgIAogICAgLy9LaWxsIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBraWxsKCkgb25seU93bmVyIHsgICAgICAgIAogICAgICAgICAgc2VsZmRlc3RydWN0KGRldmVsb3Blcl9hZGRyZXNzKTsKICAgIH0KICB9'.
	

]
