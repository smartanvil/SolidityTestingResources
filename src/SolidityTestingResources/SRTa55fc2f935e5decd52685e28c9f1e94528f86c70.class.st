Class {
	#name : #SRTa55fc2f935e5decd52685e28c9f1e94528f86c70,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTa55fc2f935e5decd52685e28c9f1e94528f86c70 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpjb250cmFjdCBTYWZlTWF0aCB7CgogICAgdWludCBjb25zdGFudCBEQVlfSU5fU0VDT05EUyA9IDg2NDAwOwoKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgIT0gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgICAgIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIG11bEJ5RnJhY3Rpb24odWludDI1NiBudW1iZXIsIHVpbnQyNTYgbnVtZXJhdG9yLCB1aW50MjU2IGRlbm9taW5hdG9yKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGRpdihtdWwobnVtYmVyLCBudW1lcmF0b3IpLCBkZW5vbWluYXRvcik7CiAgICB9CgogICAgLy8gSUNPIGRhdGUgYm9udXMgY2FsY3VsYXRpb24KICAgIGZ1bmN0aW9uIGRhdGVCb251cyh1aW50IHN0YXJ0SWNvKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CgogICAgICAgIC8vIGRheSBmcm9tIElDTyBzdGFydAogICAgICAgIHVpbnQgZGF5c0Zyb21TdGFydCA9IChub3cgLSBzdGFydEljbykgLyBEQVlfSU5fU0VDT05EUyArIDE7CgogICAgICAgIGlmKGRheXNGcm9tU3RhcnQgPj0gMSAgJiYgZGF5c0Zyb21TdGFydCA8PSAxNCkgcmV0dXJuIDIwOyAvLyArMjAlIHRva2VucwogICAgICAgIGlmKGRheXNGcm9tU3RhcnQgPj0gMTUgJiYgZGF5c0Zyb21TdGFydCA8PSAyOCkgcmV0dXJuIDE1OyAvLyArMjAlIHRva2VucwogICAgICAgIGlmKGRheXNGcm9tU3RhcnQgPj0gMjkgJiYgZGF5c0Zyb21TdGFydCA8PSA0MikgcmV0dXJuIDEwOyAvLyArMTAlIHRva2VucwogICAgICAgIGlmKGRheXNGcm9tU3RhcnQgPj0gNDMpICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDU7ICAvLyArNSUgdG9rZW5zCgogICAgICAgIC8vIG5vIGRpc2NvdW50CiAgICAgICAgcmV0dXJuIDA7CiAgICB9Cgp9CgoKLy8vIEltcGxlbWVudHMgRVJDIDIwIFRva2VuIHN0YW5kYXJkOiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKLy8vIEB0aXRsZSBBYnN0cmFjdCB0b2tlbiBjb250cmFjdCAtIEZ1bmN0aW9ucyB0byBiZSBpbXBsZW1lbnRlZCBieSB0b2tlbiBjb250cmFjdHMuCgpjb250cmFjdCBBYnN0cmFjdFRva2VuIHsKICAgIC8vIFRoaXMgaXMgbm90IGFuIGFic3RyYWN0IGZ1bmN0aW9uLCBiZWNhdXNlIHNvbGMgd29uJ3QgcmVjb2duaXplIGdlbmVyYXRlZCBnZXR0ZXIgZnVuY3Rpb25zIGZvciBwdWJsaWMgdmFyaWFibGVzIGFzIGZ1bmN0aW9ucwogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7fQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBJc3N1YW5jZShhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9Cgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEFic3RyYWN0VG9rZW4gewogICAgLyoKICAgICAqICBEYXRhIHN0cnVjdHVyZXMKICAgICAqLwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgb3duZXJBcHBlbmRlZDsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgYWRkcmVzc1tdIHB1YmxpYyBvd25lcnM7CgogICAgLyoKICAgICAqICBSZWFkIGFuZCB3cml0ZSBzdG9yYWdlIGZ1bmN0aW9ucwogICAgICovCiAgICAvLy8gQGRldiBUcmFuc2ZlcnMgc2VuZGVyJ3MgdG9rZW5zIHRvIGEgZ2l2ZW4gYWRkcmVzcy4gUmV0dXJucyBzdWNjZXNzLgogICAgLy8vIEBwYXJhbSBfdG8gQWRkcmVzcyBvZiB0b2tlbiByZWNlaXZlci4KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIE51bWJlciBvZiB0b2tlbnMgdG8gdHJhbnNmZXIuCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgaWYoIW93bmVyQXBwZW5kZWRbX3RvXSkgewogICAgICAgICAgICAgICAgb3duZXJBcHBlbmRlZFtfdG9dID0gdHJ1ZTsKICAgICAgICAgICAgICAgIG93bmVycy5wdXNoKF90byk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLy8vIEBkZXYgQWxsb3dzIGFsbG93ZWQgdGhpcmQgcGFydHkgdG8gdHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlci4gUmV0dXJucyBzdWNjZXNzLgogICAgLy8vIEBwYXJhbSBfZnJvbSBBZGRyZXNzIGZyb20gd2hlcmUgdG9rZW5zIGFyZSB3aXRoZHJhd24uCiAgICAvLy8gQHBhcmFtIF90byBBZGRyZXNzIHRvIHdoZXJlIHRva2VucyBhcmUgc2VudC4KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIE51bWJlciBvZiB0b2tlbnMgdG8gdHJhbnNmZXIuCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgaWYoIW93bmVyQXBwZW5kZWRbX3RvXSkgewogICAgICAgICAgICAgICAgb3duZXJBcHBlbmRlZFtfdG9dID0gdHJ1ZTsKICAgICAgICAgICAgICAgIG93bmVycy5wdXNoKF90byk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBAZGV2IFJldHVybnMgbnVtYmVyIG9mIHRva2VucyBvd25lZCBieSBnaXZlbiBhZGRyZXNzLgogICAgLy8vIEBwYXJhbSBfb3duZXIgQWRkcmVzcyBvZiB0b2tlbiBvd25lci4KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgLy8vIEBkZXYgU2V0cyBhcHByb3ZlZCBhbW91bnQgb2YgdG9rZW5zIGZvciBzcGVuZGVyLiBSZXR1cm5zIHN1Y2Nlc3MuCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIEFkZHJlc3Mgb2YgYWxsb3dlZCBhY2NvdW50LgogICAgLy8vIEBwYXJhbSBfdmFsdWUgTnVtYmVyIG9mIGFwcHJvdmVkIHRva2Vucy4KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qCiAgICAgKiBSZWFkIHN0b3JhZ2UgZnVuY3Rpb25zCiAgICAgKi8KICAgIC8vLyBAZGV2IFJldHVybnMgbnVtYmVyIG9mIGFsbG93ZWQgdG9rZW5zIGZvciBnaXZlbiBhZGRyZXNzLgogICAgLy8vIEBwYXJhbSBfb3duZXIgQWRkcmVzcyBvZiB0b2tlbiBvd25lci4KICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgQWRkcmVzcyBvZiB0b2tlbiBzcGVuZGVyLgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKfQoKCmNvbnRyYWN0IFNoaWZ0Q2FzaFRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIFNhZmVNYXRoIHsKICAgIC8qCiAgICAgKiBUb2tlbiBtZXRhIGRhdGEKICAgICAqLwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIlNoaWZ0Q2FzaFRva2VuIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIlNDQVNIIjsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CgogICAgLy8gdG90dGFsIHN1cHBseQoKICAgIGFkZHJlc3MgcHVibGljIGljb0NvbnRyYWN0ID0gMHgwOwogICAgLyoKICAgICAqIE1vZGlmaWVycwogICAgICovCgogICAgbW9kaWZpZXIgb25seUljb0NvbnRyYWN0KCkgewogICAgICAgIC8vIG9ubHkgSUNPIGNvbnRyYWN0IGlzIGFsbG93ZWQgdG8gcHJvY2VlZAogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBpY29Db250cmFjdCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKgogICAgICogQ29udHJhY3QgZnVuY3Rpb25zCiAgICAgKi8KCiAgICAvLy8gQGRldiBDb250cmFjdCBpcyBuZWVkZWQgaW4gaWNvQ29udHJhY3QgYWRkcmVzcwogICAgLy8vIEBwYXJhbSBfaWNvQ29udHJhY3QgQWRkcmVzcyBvZiBhY2NvdW50IHdoaWNoIHdpbGwgYmUgbWludCB0b2tlbnMKICAgIGZ1bmN0aW9uIFNoaWZ0Q2FzaFRva2VuKGFkZHJlc3MgX2ljb0NvbnRyYWN0KSB7CiAgICAgICAgYXNzZXJ0KF9pY29Db250cmFjdCAhPSAweDApOwogICAgICAgIGljb0NvbnRyYWN0ID0gX2ljb0NvbnRyYWN0OwogICAgICAgIHRvdGFsU3VwcGx5ID0gMDsKICAgIH0KCiAgICAvLy8gQGRldiBCdXJucyB0b2tlbnMgZnJvbSBhZGRyZXNzLiBJdCdzIGNhbiBiZSBhcHBsaWVkIGJ5IGFjY291bnQgd2l0aCBhZGRyZXNzIHRoaXMuaWNvQ29udHJhY3QKICAgIC8vLyBAcGFyYW0gX2Zyb20gQWRkcmVzcyBvZiBhY2NvdW50LCBmcm9tIHdoaWNoIHdpbGwgYmUgYnVybmVkIHRva2VucwogICAgLy8vIEBwYXJhbSBfdmFsdWUgQW1vdW50IG9mIHRva2VucywgdGhhdCB3aWxsIGJlIGJ1cm5lZAogICAgZnVuY3Rpb24gYnVyblRva2VucyhhZGRyZXNzIF9mcm9tLCB1aW50IF92YWx1ZSkgb25seUljb0NvbnRyYWN0IHsKICAgICAgICBhc3NlcnQoX2Zyb20gIT0gMHgwKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA+IDApOwoKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBzdWIoYmFsYW5jZXNbX2Zyb21dLCBfdmFsdWUpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gc3ViKHRvdGFsU3VwcGx5LCBfdmFsdWUpOwogICAgfQoKICAgIC8vLyBAZGV2IEFkZHMgdG9rZW5zIHRvIGFkZHJlc3MuIEl0J3MgY2FuIGJlIGFwcGxpZWQgYnkgYWNjb3VudCB3aXRoIGFkZHJlc3MgdGhpcy5pY29Db250cmFjdAogICAgLy8vIEBwYXJhbSBfdG8gQWRkcmVzcyBvZiBhY2NvdW50IHRvIHdoaWNoIHRoZSB0b2tlbnMgd2lsbCBwYXNzCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBBbW91bnQgb2YgdG9rZW5zCiAgICBmdW5jdGlvbiBlbWl0VG9rZW5zKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seUljb0NvbnRyYWN0IHsKICAgICAgICBhc3NlcnQoX3RvICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPiAwKTsKCiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGFkZChiYWxhbmNlc1tfdG9dLCBfdmFsdWUpOwoKICAgICAgICB0b3RhbFN1cHBseSA9IGFkZCh0b3RhbFN1cHBseSwgX3ZhbHVlKTsKCiAgICAgICAgaWYoIW93bmVyQXBwZW5kZWRbX3RvXSkgewogICAgICAgICAgICBvd25lckFwcGVuZGVkW190b10gPSB0cnVlOwogICAgICAgICAgICBvd25lcnMucHVzaChfdG8pOwogICAgICAgIH0KCiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwoKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRPd25lcih1aW50IGluZGV4KSBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzLCB1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIChvd25lcnNbaW5kZXhdLCBiYWxhbmNlc1tvd25lcnNbaW5kZXhdXSk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0T3duZXJDb3VudCgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gb3duZXJzLmxlbmd0aDsKICAgIH0KCn0KCgpjb250cmFjdCBTaGlmdENhc2hJY28gaXMgU2FmZU1hdGggewogICAgLyoKICAgICAqIElDTyBtZXRhIGRhdGEKICAgICAqLwogICAgU2hpZnRDYXNoVG9rZW4gcHVibGljIHNoaWZ0Y2FzaFRva2VuOwogICAgQWJzdHJhY3RUb2tlbiBwdWJsaWMgcHJlSWNvVG9rZW47CgogICAgZW51bSBTdGF0ZXsKICAgICAgICBQYXVzZSwKICAgICAgICBJbml0LAogICAgICAgIFJ1bm5pbmcsCiAgICAgICAgU3RvcHBlZCwKICAgICAgICBNaWdyYXRlZAogICAgfQoKICAgIFN0YXRlIHB1YmxpYyBjdXJyZW50U3RhdGUgPSBTdGF0ZS5QYXVzZTsKCiAgICB1aW50IHB1YmxpYyBzdGFydEljb0RhdGUgPSAwOwoKICAgIC8vIEFkZHJlc3Mgb2YgYWNjb3VudCB0byB3aGljaCBldGhlcnMgd2lsbCBiZSB0cmFuZmVyZWQgaW4gY2FzZSBvZiBzdWNjZXNzZnVsIElDTwogICAgYWRkcmVzcyBwdWJsaWMgZXNjcm93OwogICAgLy8gQWRkcmVzcyBvZiBtYW5hZ2VyCiAgICBhZGRyZXNzIHB1YmxpYyBpY29NYW5hZ2VyOwogICAgLy8gQWRkcmVzcyBvZiBhIGFjY291bnQsIHRoYXQgd2lsbCB0cmFuc2ZlciB0b2tlbnMgZnJvbSBwcmUtSUNPCiAgICBhZGRyZXNzIHB1YmxpYyB0b2tlbkltcG9ydGVyID0gMHgwOwogICAgLy8gQWRkcmVzc2VzIG9mIGZvdW5kZXJzIGFuZCBib3VudHlPd25lcgogICAgYWRkcmVzcyBwdWJsaWMgZm91bmRlcjE7CiAgICBhZGRyZXNzIHB1YmxpYyBib3VudHlPd25lcjsKCgogICAgLy8gQkFTRSA9IDEwXjE4CiAgICB1aW50IGNvbnN0YW50IEJBU0UgPSAxMDAwMDAwMDAwMDAwMDAwMDAwOwoKICAgIC8vICA1IDc3OCAwMDAgU0NBU0ggdG9rZW5zCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBzdXBwbHlMaW1pdCA9IDU3NzgwMDAgKiBCQVNFOwoKICAgIC8vICA4NiA2NzAgU0NBU0ggaXMgdG9rZW4gZm9yIGJvdW50eU93bmVyCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBib3VudHlPd25lcnNUb2tlbnMgPSA4NjY3MCAqIEJBU0U7CgogICAgLy8gMSBFVEggPSA0NTAgU0NBU0gKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFBSSUNFID0gNDUwOwoKICAgIC8vIDIwMTguMDcuMDUgMDc6MDAgVVRDCiAgICAvLyBmb3VuZGVycycgcmV3YXJkIHRpbWUKICAgIHVpbnQgcHVibGljIGZvdW5kZXJzUmV3YXJkVGltZSA9IDE1MzA3NzQwMDA7CgogICAgLy8gQW1vdW50IG9mIGltcG9ydGVkIHRva2VucyBmcm9tIHByZS1JQ08KICAgIHVpbnQgcHVibGljIGltcG9ydGVkVG9rZW5zID0gMDsKICAgIC8vIEFtb3VudCBvZiBzb2xkIHRva2VucyBvbiBJQ08KICAgIHVpbnQgcHVibGljIHNvbGRUb2tlbnNPbkljbyA9IDA7CiAgICAvLyBBbW91bnQgb2YgaXNzdWVkIHRva2VucyBvbiBwcmUtSUNPCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBzb2xkVG9rZW5zT25QcmVJY28gPSA2OTk5MDI2NzI2MjM0MjI1MDU0NjA4NjsKICAgIC8vIFRva2VucyB0byBmb3VuZGVycyBjYW4gYmUgc2VudCBvbmx5IGlmIHNlbnRUb2tlbnNUb0ZvdW5kZXIgPT0gZmFsc2UgYW5kIHRpbWUgPiBmb3VuZGVyc1Jld2FyZFRpbWUKICAgIGJvb2wgcHVibGljIHNlbnRUb2tlbnNUb0ZvdW5kZXIgPSBmYWxzZTsKICAgIC8vIFRva2VucyB0byBib3VudHkgb3duZXIgY2FuIGJlIHNlbnQgb25seSBhZnRlciBJQ08KICAgIGJvb2wgcHVibGljIHNlbnRUb2tlbnNUb0JvdW50eU93bmVyID0gZmFsc2U7CgogICAgdWludCBwdWJsaWMgZXRoZXJSYWlzZWQgPSAwOwoKICAgIC8qCiAgICAgKiBNb2RpZmllcnMKICAgICAqLwoKICAgIG1vZGlmaWVyIHdoZW5Jbml0aWFsaXplZCgpIHsKICAgICAgICAvLyBvbmx5IHdoZW4gY29udHJhY3QgaXMgaW5pdGlhbGl6ZWQKICAgICAgICByZXF1aXJlKGN1cnJlbnRTdGF0ZSA+PSBTdGF0ZS5Jbml0KTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlNYW5hZ2VyKCkgewogICAgICAgIC8vIG9ubHkgSUNPIG1hbmFnZXIgY2FuIGRvIHRoaXMgYWN0aW9uCiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGljb01hbmFnZXIpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25JY29SdW5uaW5nKCkgewogICAgICAgIC8vIENoZWNrcywgaWYgSUNPIGlzIHJ1bm5pbmcgYW5kIGhhcyBub3QgYmVlbiBzdG9wcGVkCiAgICAgICAgcmVxdWlyZShjdXJyZW50U3RhdGUgPT0gU3RhdGUuUnVubmluZyk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbkljb1N0b3BwZWQoKSB7CiAgICAgICAgLy8gQ2hlY2tzIGlmIElDTyB3YXMgc3RvcHBlZCBvciBkZWFkbGluZSBpcyByZWFjaGVkCiAgICAgICAgcmVxdWlyZShjdXJyZW50U3RhdGUgPT0gU3RhdGUuU3RvcHBlZCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBub3RNaWdyYXRlZCgpIHsKICAgICAgICAvLyBDaGVja3MgaWYgYmFzZSBjYW4gYmUgbWlncmF0ZWQKICAgICAgICByZXF1aXJlKGN1cnJlbnRTdGF0ZSAhPSBTdGF0ZS5NaWdyYXRlZCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5SW1wb3J0ZXIoKSB7CiAgICAgICAgLy8gb25seSBpbXBvcnRlciBjb250cmFjdCBpcyBhbGxvd2VkIHRvIHByb2NlZWQKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gdG9rZW5JbXBvcnRlcik7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLy8gQGRldiBDb25zdHJ1Y3RvciBvZiBJQ08uIFJlcXVpcmVzIGFkZHJlc3Mgb2YgaWNvTWFuYWdlciwKICAgIC8vLyBAcGFyYW0gX2ljb01hbmFnZXIgQWRkcmVzcyBvZiBJQ08gbWFuYWdlcgogICAgLy8vIEBwYXJhbSBfcHJlSWNvVG9rZW4gQWRkcmVzcyBvZiBwcmUtSUNPIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBTaGlmdENhc2hJY28oYWRkcmVzcyBfaWNvTWFuYWdlciwgYWRkcmVzcyBfcHJlSWNvVG9rZW4pIHsKICAgICAgICBhc3NlcnQoX3ByZUljb1Rva2VuICE9IDB4MCk7CiAgICAgICAgYXNzZXJ0KF9pY29NYW5hZ2VyICE9IDB4MCk7CgogICAgICAgIHNoaWZ0Y2FzaFRva2VuID0gbmV3IFNoaWZ0Q2FzaFRva2VuKHRoaXMpOwogICAgICAgIGljb01hbmFnZXIgPSBfaWNvTWFuYWdlcjsKICAgICAgICBwcmVJY29Ub2tlbiA9IEFic3RyYWN0VG9rZW4oX3ByZUljb1Rva2VuKTsKICAgIH0KCiAgICAvLy8gQGRldiBJbml0aWFsaXNlcyBhZGRyZXNzZXMgb2YgZm91bmRlcnMsIHRva2VucyBvd25lciwgZXNjcm93LgogICAgLy8vIEluaXRpYWxpc2VzIGJhbGFuY2VzIG9mIHRva2VucyBvd25lcgogICAgLy8vIEBwYXJhbSBfZm91bmRlcjEgQWRkcmVzcyBvZiBmb3VuZGVyIDEKICAgIC8vLyBAcGFyYW0gX2VzY3JvdyBBZGRyZXNzIG9mIGVzY3JvdwogICAgZnVuY3Rpb24gaW5pdChhZGRyZXNzIF9mb3VuZGVyMSwgYWRkcmVzcyBfZXNjcm93KSBvbmx5TWFuYWdlciB7CiAgICAgICAgYXNzZXJ0KGN1cnJlbnRTdGF0ZSAhPSBTdGF0ZS5Jbml0KTsKICAgICAgICBhc3NlcnQoX2ZvdW5kZXIxICE9IDB4MCk7CiAgICAgICAgYXNzZXJ0KF9lc2Nyb3cgIT0gMHgwKTsKICAgICAgICBmb3VuZGVyMSA9IF9mb3VuZGVyMTsKICAgICAgICBlc2Nyb3cgPSBfZXNjcm93OwogICAgICAgIGN1cnJlbnRTdGF0ZSA9IFN0YXRlLkluaXQ7CiAgICB9CgogICAgLy8vIEBkZXYgU2V0cyBuZXcgc3RhdGUKICAgIC8vLyBAcGFyYW0gX25ld1N0YXRlIFZhbHVlIG9mIG5ldyBzdGF0ZQogICAgZnVuY3Rpb24gc2V0U3RhdGUoU3RhdGUgX25ld1N0YXRlKSBwdWJsaWMgb25seU1hbmFnZXIKICAgIHsKICAgICAgICBjdXJyZW50U3RhdGUgPSBfbmV3U3RhdGU7CiAgICAgICAgaWYoY3VycmVudFN0YXRlID09IFN0YXRlLlJ1bm5pbmcpIHsKICAgICAgICAgICAgc3RhcnRJY29EYXRlID0gbm93OwogICAgICAgIH0KICAgIH0KCiAgICAvLy8gQGRldiBTZXRzIG5ldyBtYW5hZ2VyLiBPbmx5IG1hbmFnZXIgY2FuIGRvIGl0CiAgICAvLy8gQHBhcmFtIF9uZXdJY29NYW5hZ2VyIEFkZHJlc3Mgb2YgbmV3IElDTyBtYW5hZ2VyCiAgICBmdW5jdGlvbiBzZXROZXdNYW5hZ2VyKGFkZHJlc3MgX25ld0ljb01hbmFnZXIpIG9ubHlNYW5hZ2VyIHsKICAgICAgICBhc3NlcnQoX25ld0ljb01hbmFnZXIgIT0gMHgwKTsKICAgICAgICBpY29NYW5hZ2VyID0gX25ld0ljb01hbmFnZXI7CiAgICB9CgogICAgLy8vIEBkZXYgU2V0cyBib3VudHkgb3duZXIuIE9ubHkgbWFuYWdlciBjYW4gZG8gaXQKICAgIC8vLyBAcGFyYW0gX2JvdW50eU93bmVyIEFkZHJlc3Mgb2YgQm91bnR5IG93bmVyCiAgICBmdW5jdGlvbiBzZXRCb3VudHlPd25lcihhZGRyZXNzIF9ib3VudHlPd25lcikgb25seU1hbmFnZXIgewogICAgICAgIGFzc2VydChfYm91bnR5T3duZXIgIT0gMHgwKTsKICAgICAgICBib3VudHlPd25lciA9IF9ib3VudHlPd25lcjsKICAgIH0KCiAgICAvLyBzYXZlcyBpbmZvIGlmIGFjY291bnQncyB0b2tlbnMgd2VyZSBpbXBvcnRlZCBmcm9tIHByZS1JQ08KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHJpdmF0ZSBpbXBvcnRlZEZyb21QcmVJY287CgogICAgLy8vIEBkZXYgSW1wb3J0cyBhY2NvdW50J3MgdG9rZW5zIGZyb20gcHJlLUlDTy4gSXQgY2FuIGJlIGRvbmUgb25seSBieSB1c2VyLCBJQ08gbWFuYWdlciBvciB0b2tlbiBpbXBvcnRlcgogICAgLy8vIEBwYXJhbSBfYWNjb3VudCBBZGRyZXNzIG9mIGFjY291bnQgd2hpY2ggdG9rZW5zIHdpbGwgYmUgaW1wb3J0ZWQKICAgIGZ1bmN0aW9uIGltcG9ydFRva2VucyhhZGRyZXNzIF9hY2NvdW50KSB7CiAgICAgICAgLy8gb25seSB0b2tlbiBob2xkZXIgb3IgbWFuYWdlciBjYW4gZG8gbWlncmF0aW9uCiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGljb01hbmFnZXIgfHwgbXNnLnNlbmRlciA9PSBfYWNjb3VudCk7CiAgICAgICAgcmVxdWlyZSghaW1wb3J0ZWRGcm9tUHJlSWNvW19hY2NvdW50XSk7CgogICAgICAgIHVpbnQgcHJlSWNvQmFsYW5jZSA9IHByZUljb1Rva2VuLmJhbGFuY2VPZihfYWNjb3VudCk7CgogICAgICAgIGlmIChwcmVJY29CYWxhbmNlID4gMCkgewogICAgICAgICAgICBzaGlmdGNhc2hUb2tlbi5lbWl0VG9rZW5zKF9hY2NvdW50LCBwcmVJY29CYWxhbmNlKTsKICAgICAgICAgICAgaW1wb3J0ZWRUb2tlbnMgPSBhZGQoaW1wb3J0ZWRUb2tlbnMsIHByZUljb0JhbGFuY2UpOwogICAgICAgIH0KCiAgICAgICAgaW1wb3J0ZWRGcm9tUHJlSWNvW19hY2NvdW50XSA9IHRydWU7CiAgICB9CgogICAgLy8vIEBkZXYgQnV5IHF1YW50aXR5IG9mIHRva2VucyBkZXBlbmRpbmcgb24gdGhlIGFtb3VudCBvZiBzZW50IGV0aGVycy4KICAgIC8vLyBAcGFyYW0gX2J1eWVyIEFkZHJlc3Mgb2YgYWNjb3VudCB3aGljaCB3aWxsIHJlY2VpdmUgdG9rZW5zCiAgICBmdW5jdGlvbiBidXlUb2tlbnMoYWRkcmVzcyBfYnV5ZXIpIHByaXZhdGUgewogICAgICAgIGFzc2VydChfYnV5ZXIgIT0gMHgwKTsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+IDApOwoKICAgICAgICB1aW50IHRva2Vuc1RvRW1pdCA9IG1zZy52YWx1ZSAqIFBSSUNFOwogICAgICAgIC8vY2FsY3VsYXRlIGRhdGUgYm9udXMKICAgICAgICB1aW50IGJvbnVzUGVyY2VudCA9IGRhdGVCb251cyhzdGFydEljb0RhdGUpOwogICAgICAgIC8vdG90YWwgYm9udXMgdG9rZW5zCgogICAgICAgIGlmKGJvbnVzUGVyY2VudCA+IDApewogICAgICAgICAgICB0b2tlbnNUb0VtaXQgPSAgdG9rZW5zVG9FbWl0ICsgbXVsQnlGcmFjdGlvbih0b2tlbnNUb0VtaXQsIGJvbnVzUGVyY2VudCwgMTAwKTsKICAgICAgICB9CgogICAgICAgIHJlcXVpcmUoYWRkKHNvbGRUb2tlbnNPbkljbywgdG9rZW5zVG9FbWl0KSA8PSBzdXBwbHlMaW1pdCk7CgogICAgICAgIHNvbGRUb2tlbnNPbkljbyA9IGFkZChzb2xkVG9rZW5zT25JY28sIHRva2Vuc1RvRW1pdCk7CgogICAgICAgIC8vZW1pdCB0b2tlbnMgdG8gdG9rZW4gaG9sZGVyCiAgICAgICAgc2hpZnRjYXNoVG9rZW4uZW1pdFRva2VucyhfYnV5ZXIsIHRva2Vuc1RvRW1pdCk7CgogICAgICAgIGV0aGVyUmFpc2VkID0gYWRkKGV0aGVyUmFpc2VkLCBtc2cudmFsdWUpOwoKICAgICAgICBpZih0aGlzLmJhbGFuY2UgPiAwKSB7CiAgICAgICAgICAgIHJlcXVpcmUoZXNjcm93LnNlbmQodGhpcy5iYWxhbmNlKSk7CiAgICAgICAgfQoKICAgIH0KCiAgICAvLy8gQGRldiBGYWxsIGJhY2sgZnVuY3Rpb24KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgb25JY29SdW5uaW5nIHsKICAgICAgICBidXlUb2tlbnMobXNnLnNlbmRlcik7CiAgICB9CgogICAgLy8vIEBkZXYgQnVybiB0b2tlbnMgZnJvbSBhY2NvdW50cyBvbmx5IGluIHN0YXRlICJub3QgbWlncmF0ZWQiLiBPbmx5IG1hbmFnZXIgY2FuIGRvIGl0CiAgICAvLy8gQHBhcmFtIF9mcm9tIEFkZHJlc3Mgb2YgYWNjb3VudAogICAgZnVuY3Rpb24gYnVyblRva2VucyhhZGRyZXNzIF9mcm9tLCB1aW50IF92YWx1ZSkgb25seU1hbmFnZXIgbm90TWlncmF0ZWQgewogICAgICAgIHNoaWZ0Y2FzaFRva2VuLmJ1cm5Ub2tlbnMoX2Zyb20sIF92YWx1ZSk7CiAgICB9CgogICAgLy8vIEBkZXYgUGFydGlhbCB3aXRoZHJhdy4gT25seSBtYW5hZ2VyIGNhbiBkbyBpdAogICAgZnVuY3Rpb24gd2l0aGRyYXdFdGhlcih1aW50IF92YWx1ZSkgb25seU1hbmFnZXIgewogICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CiAgICAgICAgZXNjcm93LnRyYW5zZmVyKF92YWx1ZSk7CiAgICB9CgogICAgLy8vIEBkZXYgRXRoZXIgd2l0aGRyYXcuIE9ubHkgbWFuYWdlciBjYW4gZG8gaXQKICAgIGZ1bmN0aW9uIHdpdGhkcmF3QWxsRXRoZXIoKSBvbmx5TWFuYWdlciB7CiAgICAgICAgaWYodGhpcy5iYWxhbmNlID4gMCkgewogICAgICAgICAgICBlc2Nyb3cudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICAgICAgICB9CiAgICB9CgogICAgLy8vQGRldiBTZW5kIHRva2VucyB0byBib3VudHlPd25lciBkZXBlbmRpbmcgb24gY3Jvd2RzYWxlIHJlc3VsdHMuIENhbiBiZSBzZW5kIG9ubHkgYWZ0ZXIgSUNPLgogICAgZnVuY3Rpb24gc2VuZFRva2Vuc1RvQm91bnR5T3duZXIoKSBvbmx5TWFuYWdlciB3aGVuSW5pdGlhbGl6ZWQgewogICAgICAgIHJlcXVpcmUoIXNlbnRUb2tlbnNUb0JvdW50eU93bmVyKTsKCiAgICAgICAgLy9DYWxjdWxhdGUgdG90YWwgdG9rZW5zIHNvbGQgb24gcHJlLUlDTyBhbmQgSUNPCiAgICAgICAgdWludCB0b2tlbnNTb2xkID0gYWRkKHNvbGRUb2tlbnNPbkljbywgc29sZFRva2Vuc09uUHJlSWNvKTsKCiAgICAgICAgLy9DYWxjdWxhdGUgYm91bnR5IHRva2VucyBkZXBlbmRpbmcgb24gdG90YWwgdG9rZW5zIHNvbGQKICAgICAgICB1aW50IGJvdW50eVRva2VucyA9IG11bEJ5RnJhY3Rpb24odG9rZW5zU29sZCwgMTUsIDEwMDApOyAvLyAxLjUlCgogICAgICAgIHNoaWZ0Y2FzaFRva2VuLmVtaXRUb2tlbnMoYm91bnR5T3duZXIsIGJvdW50eVRva2Vucyk7CgogICAgICAgIHNlbnRUb2tlbnNUb0JvdW50eU93bmVyID0gdHJ1ZTsKICAgIH0KCiAgICAvLy8gQGRldiBTZW5kIHRva2VucyB0byBmb3VuZGVycy4gQ2FuIGJlIHNlbnQgb25seSBhZnRlciBzaGlmdGNhc2hUb2tlbi5yZXdhcmRUaW1lKCkgKDIwMTguMDcuMDUgMDowMCBVVEMpCiAgICBmdW5jdGlvbiBzZW5kVG9rZW5zVG9Gb3VuZGVycygpIG9ubHlNYW5hZ2VyIHdoZW5Jbml0aWFsaXplZCB7CiAgICAgICAgcmVxdWlyZSghc2VudFRva2Vuc1RvRm91bmRlciAmJiBub3cgPj0gZm91bmRlcnNSZXdhcmRUaW1lKTsKCiAgICAgICAgLy9DYWxjdWxhdGUgdG90YWwgdG9rZW5zIHNvbGQgb24gcHJlLUlDTyBhbmQgSUNPCiAgICAgICAgdWludCB0b2tlbnNTb2xkID0gYWRkKHNvbGRUb2tlbnNPbkljbywgc29sZFRva2Vuc09uUHJlSWNvKTsKCiAgICAgICAgLy9DYWxjdWxhdGUgZm91bmRlciByZXdhcmQgZGVwZW5kaW5nIG9uIHRvdGFsIHRva2VucyBzb2xkCiAgICAgICAgdWludCB0b3RhbFJld2FyZFRvRm91bmRlciA9IG11bEJ5RnJhY3Rpb24odG9rZW5zU29sZCwgMTAwMCwgMTAwMDApOyAvLyAxMCUKCiAgICAgICAgc2hpZnRjYXNoVG9rZW4uZW1pdFRva2Vucyhmb3VuZGVyMSwgdG90YWxSZXdhcmRUb0ZvdW5kZXIpOwoKICAgICAgICBzZW50VG9rZW5zVG9Gb3VuZGVyID0gdHJ1ZTsKICAgIH0KfQ=='.
	

]
