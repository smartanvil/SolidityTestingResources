Class {
	#name : #SRTc72ed4445b3fe9f0863106e344e241530d338906,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc72ed4445b3fe9f0863106e344e241530d338906 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgIGlmIChhID09IDApIHsKICAgICAgICAgIHJldHVybiAwOwogICAgICB9CiAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICBhc3NlcnQoYyA+PSBhKTsKICAgICAgcmV0dXJuIGM7CiAgICB9Cn0KCmNvbnRyYWN0IE93bmFibGUgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgogICAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CgogICAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQp9Cgpjb250cmFjdCBBdXRob3JpemFibGUgewogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIGF1dGhvcml6ZXJzOwoKICAgIG1vZGlmaWVyIG9ubHlBdXRob3JpemVkIHsKICAgICAgcmVxdWlyZShpc0F1dGhvcml6ZWQobXNnLnNlbmRlcikpOwogICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIEF1dGhvcml6YWJsZSgpIHB1YmxpYyB7CiAgICAgIGF1dGhvcml6ZXJzW21zZy5zZW5kZXJdID0gdHJ1ZTsKICAgIH0KCgogICAgZnVuY3Rpb24gaXNBdXRob3JpemVkKGFkZHJlc3MgX2FkZHIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKGJvb2wpIHsKICAgICAgcmVxdWlyZShfYWRkciAhPSBhZGRyZXNzKDApKTsKCiAgICAgIGJvb2wgcmVzdWx0ID0gYm9vbChhdXRob3JpemVyc1tfYWRkcl0pOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZEF1dGhvcml6ZWQoYWRkcmVzcyBfYWRkcikgZXh0ZXJuYWwgb25seUF1dGhvcml6ZWQgewogICAgICByZXF1aXJlKF9hZGRyICE9IGFkZHJlc3MoMCkpOwoKICAgICAgYXV0aG9yaXplcnNbX2FkZHJdID0gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBkZWxBdXRob3JpemVkKGFkZHJlc3MgX2FkZHIpIGV4dGVybmFsIG9ubHlBdXRob3JpemVkIHsKICAgICAgcmVxdWlyZShfYWRkciAhPSBhZGRyZXNzKDApKTsKICAgICAgcmVxdWlyZShfYWRkciAhPSBtc2cuc2VuZGVyKTsKCiAgICAgIC8vYXV0aG9yaXplcnNbX2FkZHJdID0gZmFsc2U7CiAgICAgIGRlbGV0ZSBhdXRob3JpemVyc1tfYWRkcl07CiAgICB9Cn0KCmludGVyZmFjZSB0b2tlblJlY2lwaWVudCB7IGZ1bmN0aW9uIHJlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW4sIGJ5dGVzIF9leHRyYURhdGEpIGV4dGVybmFsOyB9Cgpjb250cmFjdCBFUkMyMEJhc2ljIHsKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogICAgdWludDI1NiB0b3RhbFN1cHBseV87CgogICAgLy9tb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludCBzaXplKSB7CiAgICAvLyAgcmVxdWlyZShtc2cuZGF0YS5sZW5ndGggPCBzaXplICsgNCk7CiAgICAvLyAgXzsKICAgIC8vfQoKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgICByZXR1cm4gdG90YWxTdXBwbHlfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgLy9yZXF1ZXJlcyBpbiBGcm96ZW5Ub2tlbgogICAgICAvL3JlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAvL3JlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKCiAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQp9Cgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGludGVybmFsIGFsbG93ZWQ7CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgLy9yZXF1aXJlcyBpbiBGcm96ZW5Ub2tlbgogICAgICAvL3JlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAvL3JlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW19mcm9tXSk7CiAgICAgIC8vcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0pOwoKICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgcmVxdWlyZSgoX3ZhbHVlID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXS5hZGQoX2FkZGVkVmFsdWUpOwogICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgICB9IGVsc2UgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgICB9CiAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgdG9rZW5SZWNpcGllbnQgc3BlbmRlciA9IHRva2VuUmVjaXBpZW50KF9zcGVuZGVyKTsKICAgICAgICBpZiAoYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKSkgewogICAgICAgICAgICBzcGVuZGVyLnJlY2VpdmVBcHByb3ZhbChtc2cuc2VuZGVyLCBfdmFsdWUsIHRoaXMsIF9leHRyYURhdGEpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICB9Cn0KCmNvbnRyYWN0IEZyb3plblRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIE93bmFibGUgewogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIGZyb3plbnM7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgZnJvemVuVG9rZW5zOwoKICAgIGV2ZW50IEZyb3plbkFkZHJlc3MoYWRkcmVzcyBhZGRyKTsKICAgIGV2ZW50IFVuRnJvemVuQWRkcmVzcyhhZGRyZXNzIGFkZHIpOwogICAgZXZlbnQgRnJvemVuVG9rZW5FdmVudChhZGRyZXNzIGFkZHIsIHVpbnQyNTYgYW1vdW50KTsKICAgIGV2ZW50IFVuRnJvemVuVG9rZW5FdmVudChhZGRyZXNzIGFkZHIsIHVpbnQyNTYgYW1vdW50KTsKCiAgICBtb2RpZmllciBpc05vdEZyb3plbigpIHsKICAgICAgcmVxdWlyZShmcm96ZW5zW21zZy5zZW5kZXJdID09IGZhbHNlKTsKICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBmcm96ZW5BZGRyZXNzKGFkZHJlc3MgX2FkZHIpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICByZXF1aXJlKF9hZGRyICE9IGFkZHJlc3MoMCkpOwoKICAgICAgZnJvemVuc1tfYWRkcl0gPSB0cnVlOwogICAgICBGcm96ZW5BZGRyZXNzKF9hZGRyKTsKICAgICAgcmV0dXJuIGZyb3plbnNbX2FkZHJdOwogICAgfQoKICAgIGZ1bmN0aW9uIHVuRnJvemVuQWRkcmVzcyhhZGRyZXNzIF9hZGRyKSBvbmx5T3duZXIgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgcmVxdWlyZShfYWRkciAhPSBhZGRyZXNzKDApKTsKCiAgICAgIGRlbGV0ZSBmcm96ZW5zW19hZGRyXTsKICAgICAgLy9mcm96ZW5zW19hZGRyXSA9IGZhbHNlOwogICAgICBVbkZyb3plbkFkZHJlc3MoX2FkZHIpOwogICAgICByZXR1cm4gZnJvemVuc1tfYWRkcl07CiAgICB9CgogICAgZnVuY3Rpb24gaXNGcm96ZW5CeUFkZHJlc3MoYWRkcmVzcyBfYWRkcikgcHVibGljIGNvbnN0YW50IHJldHVybnMoYm9vbCkgewogICAgICByZXF1aXJlKF9hZGRyICE9IGFkZHJlc3MoMCkpOwoKICAgICAgYm9vbCByZXN1bHQgPSBib29sKGZyb3plbnNbX2FkZHJdKTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlRnJvemVuVG9rZW5zKGFkZHJlc3MgX2FkZHIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgcmVxdWlyZShfYWRkciAhPSBhZGRyZXNzKDApKTsKCiAgICAgIHVpbnQyNTYgcmVzdWx0ID0gdWludDI1Nihmcm96ZW5Ub2tlbnNbX2FkZHJdKTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlQXZhaWxhYmxlVG9rZW5zKGFkZHJlc3MgX2FkZHIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgcmVxdWlyZShfYWRkciAhPSBhZGRyZXNzKDApKTsKCiAgICAgIHVpbnQyNTYgZnJvemVuID0gdWludDI1Nihmcm96ZW5Ub2tlbnNbX2FkZHJdKTsKICAgICAgdWludDI1NiBiYWxhbmNlID0gdWludDI1NihiYWxhbmNlc1tfYWRkcl0pOwogICAgICByZXF1aXJlKGJhbGFuY2UgPj0gZnJvemVuKTsKCiAgICAgIHVpbnQyNTYgcmVzdWx0ID0gYmFsYW5jZS5zdWIoZnJvemVuKTsKCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgZnVuY3Rpb24gZnJvemVuVG9rZW4oYWRkcmVzcyBfYWRkciwgdWludDI1NiBfYW1vdW50KSBvbmx5T3duZXIgcHVibGljIHJldHVybnMoYm9vbCkgewogICAgICByZXF1aXJlKF9hZGRyICE9IGFkZHJlc3MoMCkpOwogICAgICByZXF1aXJlKF9hbW91bnQgPiAwKTsKCiAgICAgIHVpbnQyNTYgYmFsYW5jZSA9IHVpbnQyNTYoYmFsYW5jZXNbX2FkZHJdKTsKICAgICAgcmVxdWlyZShiYWxhbmNlID49IF9hbW91bnQpOwoKICAgICAgZnJvemVuVG9rZW5zW19hZGRyXSA9IGZyb3plblRva2Vuc1tfYWRkcl0uYWRkKF9hbW91bnQpOwogICAgICBGcm96ZW5Ub2tlbkV2ZW50KF9hZGRyLCBfYW1vdW50KTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKCiAgICBmdW5jdGlvbiB1bkZyb3plblRva2VuKGFkZHJlc3MgX2FkZHIsIHVpbnQyNTYgX2Ftb3VudCkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zKGJvb2wpIHsKICAgICAgcmVxdWlyZShfYWRkciAhPSBhZGRyZXNzKDApKTsKICAgICAgcmVxdWlyZShfYW1vdW50ID4gMCk7CiAgICAgIHJlcXVpcmUoZnJvemVuVG9rZW5zW19hZGRyXSA+PSBfYW1vdW50KTsKCiAgICAgIGZyb3plblRva2Vuc1tfYWRkcl0gPSBmcm96ZW5Ub2tlbnNbX2FkZHJdLnN1YihfYW1vdW50KTsKICAgICAgVW5Gcm96ZW5Ub2tlbkV2ZW50KF9hZGRyLCBfYW1vdW50KTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBpc05vdEZyb3plbigpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CgogICAgICB1aW50MjU2IGJhbGFuY2UgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXTsKICAgICAgdWludDI1NiBmcm96ZW4gPSBmcm96ZW5Ub2tlbnNbbXNnLnNlbmRlcl07CiAgICAgIHVpbnQyNTYgYXZhaWxhYmxlQmFsYW5jZSA9IGJhbGFuY2Uuc3ViKGZyb3plbik7CiAgICAgIHJlcXVpcmUoYXZhaWxhYmxlQmFsYW5jZSA+PSBfdmFsdWUpOwoKICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBpc05vdEZyb3plbigpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1tfZnJvbV0pOwogICAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CgogICAgICB1aW50MjU2IGJhbGFuY2UgPSBiYWxhbmNlc1tfZnJvbV07CiAgICAgIHVpbnQyNTYgZnJvemVuID0gZnJvemVuVG9rZW5zW19mcm9tXTsKICAgICAgdWludDI1NiBhdmFpbGFibGVCYWxhbmNlID0gYmFsYW5jZS5zdWIoZnJvemVuKTsKICAgICAgcmVxdWlyZShhdmFpbGFibGVCYWxhbmNlID49IF92YWx1ZSk7CgogICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tICxfdG8sIF92YWx1ZSk7CiAgICB9Cn0KCmNvbnRyYWN0IE1hbGxjb2luVG9rZW4gaXMgRnJvemVuVG9rZW4sIEF1dGhvcml6YWJsZSB7CiAgICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJNYWxsY29pbiBUb2tlbiI7CiAgICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIk1MQyI7CiAgICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwogICAgICB1aW50MjU2IHB1YmxpYyBNQVhfVE9LRU5fU1VQUExZID0gMjUwMDAwMDAwICogMSBldGhlcjsKCiAgICAgIGV2ZW50IENyZWF0ZVRva2VuKGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwogICAgICBldmVudCBDcmVhdGVUb2tlbkJ5QXRlcyhhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgYW1vdW50LCBzdHJpbmcgZGF0YSk7CgogICAgICBtb2RpZmllciBvbmx5T3duZXJPckF1dGhvcml6ZWQgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lciB8fCBpc0F1dGhvcml6ZWQobXNnLnNlbmRlcikpOwogICAgICAgIF87CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRva2VuKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lck9yQXV0aG9yaXplZCBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoX2Ftb3VudCA+IDApOwogICAgICAgIHJlcXVpcmUoTUFYX1RPS0VOX1NVUFBMWSA+PSB0b3RhbFN1cHBseV8gKyBfYW1vdW50KTsKCiAgICAgICAgdG90YWxTdXBwbHlfID0gdG90YWxTdXBwbHlfLmFkZChfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CgogICAgICAgIC8vIEtZQwogICAgICAgIGZyb3plbnNbX3RvXSA9IHRydWU7CiAgICAgICAgRnJvemVuQWRkcmVzcyhfdG8pOwoKICAgICAgICBDcmVhdGVUb2tlbihfdG8sIF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKGFkZHJlc3MoMCksIF90bywgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRva2VuQnlBdGVzKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQsIHN0cmluZyBfZGF0YSkgb25seU93bmVyT3JBdXRob3JpemVkIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfYW1vdW50ID4gMCk7CiAgICAgICAgcmVxdWlyZShieXRlcyhfZGF0YSkubGVuZ3RoID4gMCk7CiAgICAgICAgcmVxdWlyZShNQVhfVE9LRU5fU1VQUExZID49IHRvdGFsU3VwcGx5XyArIF9hbW91bnQpOwoKICAgICAgICB0b3RhbFN1cHBseV8gPSB0b3RhbFN1cHBseV8uYWRkKF9hbW91bnQpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKCiAgICAgICAgLy8gS1lDCiAgICAgICAgZnJvemVuc1tfdG9dID0gdHJ1ZTsKICAgICAgICBGcm96ZW5BZGRyZXNzKF90byk7CgogICAgICAgIENyZWF0ZVRva2VuQnlBdGVzKF90bywgX2Ftb3VudCwgX2RhdGEpOwogICAgICAgIFRyYW5zZmVyKGFkZHJlc3MoMCksIF90bywgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KfQ=='.
	

]
