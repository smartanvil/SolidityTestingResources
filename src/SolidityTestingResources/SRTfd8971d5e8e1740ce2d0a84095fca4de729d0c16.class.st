Class {
	#name : #SRTfd8971d5e8e1740ce2d0a84095fca4de729d0c16,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTfd8971d5e8e1740ce2d0a84095fca4de729d0c16 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmIChhID09IDApIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKCgoKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCgoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKCgoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKCgoKCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4KICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CgogICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKCgoKCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGludGVybmFsIGFsbG93ZWQ7CgoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbX2Zyb21dKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsKCiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KICAgKgogICAqIEJld2FyZSB0aGF0IGNoYW5naW5nIGFuIGFsbG93YW5jZSB3aXRoIHRoaXMgbWV0aG9kIGJyaW5ncyB0aGUgcmlzayB0aGF0IHNvbWVvbmUgbWF5IHVzZSBib3RoIHRoZSBvbGQKICAgKiBhbmQgdGhlIG5ldyBhbGxvd2FuY2UgYnkgdW5mb3J0dW5hdGUgdHJhbnNhY3Rpb24gb3JkZXJpbmcuIE9uZSBwb3NzaWJsZSBzb2x1dGlvbiB0byBtaXRpZ2F0ZSB0aGlzCiAgICogcmFjZSBjb25kaXRpb24gaXMgdG8gZmlyc3QgcmVkdWNlIHRoZSBzcGVuZGVyJ3MgYWxsb3dhbmNlIHRvIDAgYW5kIHNldCB0aGUgZGVzaXJlZCB2YWx1ZSBhZnRlcndhcmRzOgogICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmeWluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICAvKioKICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKICAgKiBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbAogICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAogICAqLwogIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICB9IGVsc2UgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgIH0KICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cgp9CgoKCgoKY29udHJhY3QgWmlsbGFUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKICB1aW50MjU2IGNvbnN0YW50IHppbGxhID0gMSBldGhlcjsKCiAgc3RyaW5nIHB1YmxpYyBuYW1lID0gJ1ppbGxhIFRva2VuJzsKICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICdaTEEnOwogIHVpbnQgcHVibGljIGRlY2ltYWxzID0gMTg7CiAgdWludDI1NiBwdWJsaWMgaW5pdGlhbFN1cHBseSA9IDYwMDAwMDAwICogemlsbGE7CiAgYm9vbCBwdWJsaWMgdHJhZGVhYmxlOwoKICBmdW5jdGlvbiBaaWxsYVRva2VuKCkgcHVibGljIHsKICAgIHRvdGFsU3VwcGx5ID0gaW5pdGlhbFN1cHBseTsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gaW5pdGlhbFN1cHBseTsKICAgIHRyYWRlYWJsZSA9IGZhbHNlOwogIH0KCiAgLyoqCiAgICogQGRldiBtb2RpZmllciB0byBkZXRlcm1pbmUgaWYgdGhlIHRva2VuIGlzIHRyYWRlYWJsZQogICAqLwogIG1vZGlmaWVyIGlzVHJhZGVhYmxlKCkgewogICAgcmVxdWlyZSggdHJhZGVhYmxlID09IHRydWUgKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IGFsbG93IHRoZSB0b2tlbiB0byBiZSBmcmVlbHkgdHJhZGVhYmxlCiAgICovCiAgZnVuY3Rpb24gYWxsb3dUcmFkaW5nKCkgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKCB0cmFkZWFibGUgPT0gZmFsc2UgKTsKICAgIHRyYWRlYWJsZSA9IHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IGFsbG93IHRoZSB0b2tlbiB0byBiZSBmcmVlbHkgdHJhZGVhYmxlCiAgICogQHBhcmFtIF90byB0aGUgYWRkcmVzcyB0byB0cmFuc2ZlciBaTEEgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBhbW91bnQgb2YgWkxBIHRvIHRyYW5zZmVyCiAgICovCiAgZnVuY3Rpb24gY3Jvd2RzYWxlVHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoIHRyYWRlYWJsZSA9PSBmYWxzZSApOwogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICB9IAoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyBpc1RyYWRlYWJsZSByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIGlzVHJhZGVhYmxlIHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyBpc1RyYWRlYWJsZSByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gc3VwZXIuYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgcHVibGljIGlzVHJhZGVhYmxlIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmV0dXJuIHN1cGVyLmluY3JlYXNlQXBwcm92YWwoX3NwZW5kZXIsIF9hZGRlZFZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMgaXNUcmFkZWFibGUgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXR1cm4gc3VwZXIuZGVjcmVhc2VBcHByb3ZhbChfc3BlbmRlciwgX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgfQoKfQoKCgoKCi8qKgogKiBAdGl0bGUgQ3Jvd2RzYWxlCiAqIEBkZXYgQ3Jvd2RzYWxlIGlzIGEgYmFzZSBjb250cmFjdCBmb3IgbWFuYWdpbmcgYSB0b2tlbiBjcm93ZHNhbGUuCiAqIENyb3dkc2FsZXMgaGF2ZSBhIHN0YXJ0IGFuZCBlbmQgdGltZXN0YW1wcywgd2hlcmUgaW52ZXN0b3JzIGNhbiBtYWtlCiAqIHRva2VuIHB1cmNoYXNlcyBhbmQgdGhlIGNyb3dkc2FsZSB3aWxsIGFzc2lnbiB0aGVtIHRva2VucyBiYXNlZAogKiBvbiBhIHRva2VuIHBlciBFVEggcmF0ZS4gRnVuZHMgY29sbGVjdGVkIGFyZSBmb3J3YXJkZWQgdG8gYSB3YWxsZXQKICogYXMgdGhleSBhcnJpdmUuCiAqLwpjb250cmFjdCBaaWxsYUNyb3dkc2FsZSBpcyBPd25hYmxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgLy8gcHVibGljIGV2ZW50cwogIGV2ZW50IFN0YXJ0Q3Jvd2RzYWxlKCk7CiAgZXZlbnQgRmluYWxpemVDcm93ZHNhbGUoKTsKICBldmVudCBUb2tlblNvbGQoYWRkcmVzcyByZWNpcGllbnQsIHVpbnQgZXRoX2Ftb3VudCwgdWludCB6bGFfYW1vdW50KTsKIAogIC8vIGNyb3dkc2FsZSBjb25zdGFudHMKICB1aW50MjU2IGNvbnN0YW50IHByZXNhbGVfZXRoX3RvX3ppbGxhICAgPSAxMjAwOwogIHVpbnQyNTYgY29uc3RhbnQgY3Jvd2RzYWxlX2V0aF90b196aWxsYSA9ICA3NTA7CgogIC8vIG91ciBaaWxsYVRva2VuIGNvbnRyYWN0CiAgWmlsbGFUb2tlbiBwdWJsaWMgdG9rZW47CgogIC8vIGNyb3dkc2FsZSB0b2tlbiBsaW1pdAogIHVpbnQyNTYgcHVibGljIHppbGxhX3JlbWFpbmluZzsKCiAgLy8gb3VyIFppbGxhIG11bHRpc2lnIHZhdWx0IGFkZHJlc3MKICBhZGRyZXNzIHB1YmxpYyB2YXVsdDsKCiAgLy8gY3Jvd2RzYWxlIHN0YXRlCiAgZW51bSBDcm93ZHNhbGVTdGF0ZSB7IFdhaXRpbmcsIFJ1bm5pbmcsIEVuZGVkIH0KICBDcm93ZHNhbGVTdGF0ZSBwdWJsaWMgc3RhdGUgPSBDcm93ZHNhbGVTdGF0ZS5XYWl0aW5nOwogIHVpbnQyNTYgcHVibGljIHN0YXJ0OwogIHVpbnQyNTYgcHVibGljIHVubGltaXRlZDsKICB1aW50MjU2IHB1YmxpYyBlbmQ7CgogIC8vIHBhcnRpY2lwYW50cyBzdGF0ZQogIHN0cnVjdCBQYXJ0aWNpcGFudCB7CiAgICBib29sICAgIHdoaXRlbGlzdDsKICAgIHVpbnQyNTYgcmVtYWluaW5nOwogIH0KICBtYXBwaW5nIChhZGRyZXNzID0+IFBhcnRpY2lwYW50KSBwcml2YXRlIHBhcnRpY2lwYW50czsKCiAgLyoqCiAgICogQGRldiBjb25zdHJ1Y3RzIFppbGxhQ3Jvd2RzYWxlCiAgICovCiAgZnVuY3Rpb24gWmlsbGFDcm93ZHNhbGUoKSBwdWJsaWMgewogICAgdG9rZW4gPSBuZXcgWmlsbGFUb2tlbigpOwogICAgemlsbGFfcmVtYWluaW5nID0gdG9rZW4udG90YWxTdXBwbHkoKTsKICB9CgogIC8qKgogICAqIEBkZXYgbW9kaWZpZXIgdG8gZGV0ZXJtaW5lIGlmIHRoZSBjcm93ZHNhbGUgaGFzIGJlZW4gaW5pdGlhbGl6ZWQKICAgKi8KICBtb2RpZmllciBpc1N0YXJ0ZWQoKSB7CiAgICByZXF1aXJlKCAoc3RhdGUgPT0gQ3Jvd2RzYWxlU3RhdGUuUnVubmluZykgKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IG1vZGlmaWVyIHRvIGRldGVybWluZSBpZiB0aGUgY3Jvd2RzYWxlIGlzIGFjdGl2ZQogICAqLwogIG1vZGlmaWVyIGlzUnVubmluZygpIHsKICAgIHJlcXVpcmUoIChzdGF0ZSA9PSBDcm93ZHNhbGVTdGF0ZS5SdW5uaW5nKSAmJiAobm93ID49IHN0YXJ0KSAmJiAobm93IDwgZW5kKSApOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgc3RhcnQgdGhlIFppbGxhIENyb3dkc2FsZQogICAqIEBwYXJhbSBfc3RhcnQgaXMgdGhlIGVwb2NoIHRpbWUgdGhlIGNyb3dkc2FsZSBzdGFydHMKICAgKiBAcGFyYW0gX2VuZCBpcyB0aGUgZXBvY2ggdGltZSB0aGUgY3Jvd2RzYWxlIGVuZHMKICAgKiBAcGFyYW0gX3ZhdWx0IGlzIHRoZSBtdWx0aXNpZyB3YWxsZXQgdGhlIGV0aGVyZXVtIGlzIHRyYW5zZmVyZWQgdG8KICAgKi8KICBmdW5jdGlvbiBzdGFydENyb3dkc2FsZSh1aW50MjU2IF9zdGFydCwgdWludDI1NiBfdW5saW1pdGVkLCB1aW50MjU2IF9lbmQsIGFkZHJlc3MgX3ZhdWx0KSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoc3RhdGUgPT0gQ3Jvd2RzYWxlU3RhdGUuV2FpdGluZyk7CiAgICByZXF1aXJlKF9zdGFydCA+PSBub3cpOwogICAgcmVxdWlyZShfdW5saW1pdGVkID4gX3N0YXJ0KTsKICAgIHJlcXVpcmUoX3VubGltaXRlZCA8IF9lbmQpOwogICAgcmVxdWlyZShfZW5kID4gX3N0YXJ0KTsKICAgIHJlcXVpcmUoX3ZhdWx0ICE9IDB4MCk7CgogICAgc3RhcnQgICAgID0gX3N0YXJ0OwogICAgdW5saW1pdGVkID0gX3VubGltaXRlZDsKICAgIGVuZCAgICAgICA9IF9lbmQ7CiAgICB2YXVsdCAgICAgPSBfdmF1bHQ7CiAgICBzdGF0ZSAgICAgPSBDcm93ZHNhbGVTdGF0ZS5SdW5uaW5nOwogICAgU3RhcnRDcm93ZHNhbGUoKTsKICB9CgogIC8qKgogICAqIEBkZXYgRmluYWxpemUgdGhlIFppbGxhIENyb3dkc2FsZSwgdW5zb2xkIHRva2VucyBhcmUgbW92ZWQgdG8gdGhlIHZhdWx0IGFjY291bnQKICAgKi8KICBmdW5jdGlvbiBmaW5hbGl6ZUNyb3dkc2FsZSgpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShzdGF0ZSA9PSBDcm93ZHNhbGVTdGF0ZS5SdW5uaW5nKTsKICAgIHJlcXVpcmUoZW5kIDwgbm93KTsKICAgIC8vIHRyYW5zZmVyIHJlbWFpbmluZyB0b2tlbnMgdG8gdmF1bHQKICAgIF90cmFuc2ZlclRva2VucyggdmF1bHQsIDAsIHppbGxhX3JlbWFpbmluZyApOwogICAgLy8gZW5kIHRoZSBjcm93ZHNhbGUKICAgIHN0YXRlID0gQ3Jvd2RzYWxlU3RhdGUuRW5kZWQ7CiAgICAvLyBhbGxvdyB0aGUgdG9rZW4gdG8gYmUgdHJhZGVkCiAgICB0b2tlbi5hbGxvd1RyYWRpbmcoKTsKICAgIEZpbmFsaXplQ3Jvd2RzYWxlKCk7CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93IG93bmVyIHRvIGluY3JlYXNlIHRoZSBlbmQgZGF0ZSBvZiB0aGUgY3Jvd2RzYWxlIGFzIGxvbmcgYXMgdGhlIGNyb3dkc2FsZSBpcyBzdGlsbCBydW5uaW5nCiAgICogQHBhcmFtIF9lbmQgdGhlIG5ldyBlbmQgZGF0ZSBmb3IgdGhlIGNyb3dkc2FsZQogICAqLwogIGZ1bmN0aW9uIHNldEVuZERhdGUodWludDI1NiBfZW5kKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoc3RhdGUgPT0gQ3Jvd2RzYWxlU3RhdGUuUnVubmluZyk7CiAgICByZXF1aXJlKF9lbmQgPiBub3cpOwogICAgcmVxdWlyZShfZW5kID4gc3RhcnQpOwogICAgcmVxdWlyZShfZW5kID4gZW5kKTsKCiAgICBlbmQgPSBfZW5kOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvdyBvd25lciB0byBjaGFuZ2UgdGhlIG11bHRpc2lnIHdhbGxldAogICAqIEBwYXJhbSBfdmF1bHQgdGhlIG5ldyBhZGRyZXNzIG9mIHRoZSBtdWx0aXNpZyB3YWxsZXQKICAgKi8KICBmdW5jdGlvbiBzZXRWYXVsdChhZGRyZXNzIF92YXVsdCkgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKF92YXVsdCAhPSAweDApOwoKICAgIHZhdWx0ID0gX3ZhdWx0OyAgICAKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3cgb3duZXIgdG8gYWRkIHRvIHRoZSB3aGl0ZWxpc3QKICAgKiBAcGFyYW0gX2FkZHJlc3NlcyBhcnJheSBvZiBhZGRyZXNzZXMgdG8gYWRkIHRvIHRoZSB3aGl0ZWxpc3QKICAgKi8KICBmdW5jdGlvbiB3aGl0ZWxpc3RBZGQoYWRkcmVzc1tdIF9hZGRyZXNzZXMpIHB1YmxpYyBvbmx5T3duZXIgewogICAgZm9yICh1aW50IGk9MDsgaTxfYWRkcmVzc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIFBhcnRpY2lwYW50IHN0b3JhZ2UgcCA9IHBhcnRpY2lwYW50c1sgX2FkZHJlc3Nlc1tpXSBdOwogICAgICBwLndoaXRlbGlzdCA9IHRydWU7CiAgICAgIHAucmVtYWluaW5nID0gMTUgZXRoZXI7CiAgICB9CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93IG93bmVyIHRvIHJlbW92ZSBmcm9tIHRoZSB3aGl0ZWxpc3QKICAgKiBAcGFyYW0gX2FkZHJlc3NlcyBhcnJheSBvZiBhZGRyZXNzZXMgdG8gcmVtb3ZlIGZyb20gdGhlIHdoaXRlbGlzdAogICAqLwogIGZ1bmN0aW9uIHdoaXRlbGlzdFJlbW92ZShhZGRyZXNzW10gX2FkZHJlc3NlcykgcHVibGljIG9ubHlPd25lciB7CiAgICBmb3IgKHVpbnQgaT0wOyBpPF9hZGRyZXNzZXMubGVuZ3RoOyBpKyspIHsKICAgICAgZGVsZXRlIHBhcnRpY2lwYW50c1sgX2FkZHJlc3Nlc1tpXSBdOwogICAgfQogIH0KCiAgLyoqCiAgICogQGRldiBGYWxsYmFjayBmdW5jdGlvbiB3aGljaCBidXlzIHRva2VucyB3aGVuIHNlbnQgZXRoZXIKICAgKi8KICBmdW5jdGlvbigpIGV4dGVybmFsIHBheWFibGUgewogICAgYnV5VG9rZW5zKG1zZy5zZW5kZXIpOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHBseSBvdXIgZml4ZWQgYnV5IHJhdGUgYW5kIHZlcmlmeSB3ZSBhcmUgbm90IHNvbGQgb3V0LgogICAqIEBwYXJhbSBldGggdGhlIGFtb3VudCBvZiBldGhlciBiZWluZyB1c2VkIHRvIHB1cmNoYXNlIHRva2Vucy4KICAgKi8KICBmdW5jdGlvbiBfYWxsb2NhdGVUb2tlbnModWludDI1NiBldGgpIHByaXZhdGUgdmlldyByZXR1cm5zKHVpbnQyNTYgdG9rZW5zKSB7CiAgICB0b2tlbnMgPSBjcm93ZHNhbGVfZXRoX3RvX3ppbGxhLm11bChldGgpOwogICAgcmVxdWlyZSggemlsbGFfcmVtYWluaW5nID49IHRva2VucyApOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHBseSBvdXIgZml4ZWQgcHJlc2FsZSByYXRlIGFuZCB2ZXJpZnkgd2UgYXJlIG5vdCBzb2xkIG91dC4KICAgKiBAcGFyYW0gZXRoIHRoZSBhbW91bnQgb2YgZXRoZXIgdXNlZCB0byBwdXJjaGFzZSBwcmVzYWxlIHRva2Vucy4KICAgKi8KICBmdW5jdGlvbiBfYWxsb2NhdGVQcmVzYWxlVG9rZW5zKHVpbnQyNTYgZXRoKSBwcml2YXRlIHZpZXcgcmV0dXJucyh1aW50MjU2IHRva2VucykgewogICAgdG9rZW5zID0gcHJlc2FsZV9ldGhfdG9femlsbGEubXVsKGV0aCk7CiAgICByZXF1aXJlKCB6aWxsYV9yZW1haW5pbmcgPj0gdG9rZW5zICk7CiAgfQoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyB0byB0aGUgcmVjaXBpZW50IGFuZCB1cGRhdGUgb3VyIHRva2VuIGF2YWlsYWJpbGl0eS4KICAgKiBAcGFyYW0gcmVjaXBpZW50IHRoZSByZWNpcGllbnQgdG8gcmVjZWl2ZSB0b2tlbnMuCiAgICogQHBhcmFtIGV0aCB0aGUgYW1vdW50IG9mIEV0aGVyZXVtIHNwZW50LgogICAqIEBwYXJhbSB6bGEgdGhlIGFtb3VudCBvZiBaaWxsYSBUb2tlbnMgcmVjZWl2ZWQuCiAgICovCiAgZnVuY3Rpb24gX3RyYW5zZmVyVG9rZW5zKGFkZHJlc3MgcmVjaXBpZW50LCB1aW50MjU2IGV0aCwgdWludDI1NiB6bGEpIHByaXZhdGUgewogICAgcmVxdWlyZSggdG9rZW4uY3Jvd2RzYWxlVHJhbnNmZXIoIHJlY2lwaWVudCwgemxhICkgKTsKICAgIHppbGxhX3JlbWFpbmluZyA9IHppbGxhX3JlbWFpbmluZy5zdWIoIHpsYSApOwogICAgVG9rZW5Tb2xkKHJlY2lwaWVudCwgZXRoLCB6bGEpOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIG93bmVyIHRvIGdyYW50IHByZXNhbGUgcGFydGljaXBhbnRzIHRoZWlyIHRva2Vucy4KICAgKiBAcGFyYW0gcmVjaXBpZW50IHRoZSByZWNpcGllbnQgdG8gcmVjZWl2ZSB0b2tlbnMuIAogICAqIEBwYXJhbSBldGggdGhlIGFtb3VudCBvZiBldGhlciBmcm9tIHRoZSBwcmVzYWxlLgogICAqLwogIGZ1bmN0aW9uIF9ncmFudFByZXNhbGVUb2tlbnMoYWRkcmVzcyByZWNpcGllbnQsIHVpbnQyNTYgZXRoKSBwcml2YXRlIHsKICAgIHVpbnQyNTYgdG9rZW5zID0gX2FsbG9jYXRlUHJlc2FsZVRva2VucyhldGgpOwogICAgX3RyYW5zZmVyVG9rZW5zKCByZWNpcGllbnQsIGV0aCwgdG9rZW5zICk7CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyBhbnlvbmUgdG8gY3JlYXRlIHRva2VucyBieSBkZXBvc2l0aW5nIGV0aGVyLgogICAqIEBwYXJhbSByZWNpcGllbnQgdGhlIHJlY2lwaWVudCB0byByZWNlaXZlIHRva2Vucy4gCiAgICovCiAgZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgcmVjaXBpZW50KSBwdWJsaWMgaXNSdW5uaW5nIHBheWFibGUgewogICAgUGFydGljaXBhbnQgc3RvcmFnZSBwID0gcGFydGljaXBhbnRzWyByZWNpcGllbnQgXTsgICAgCiAgICByZXF1aXJlKCBwLndoaXRlbGlzdCApOwogICAgLy8gY2hlY2sgZm9yIHRoZSBmaXJzdCBzZXNzaW9uIGJ1eSBsaW1pdHMKICAgIGlmKCB1bmxpbWl0ZWQgPiBub3cgKSB7CiAgICAgIHJlcXVpcmUoIHAucmVtYWluaW5nID49IG1zZy52YWx1ZSApOwogICAgICBwLnJlbWFpbmluZy5zdWIoIG1zZy52YWx1ZSApOwogICAgfQogICAgdWludDI1NiB0b2tlbnMgPSBfYWxsb2NhdGVUb2tlbnMobXNnLnZhbHVlKTsKICAgIHJlcXVpcmUoIHZhdWx0LnNlbmQobXNnLnZhbHVlKSApOwogICAgX3RyYW5zZmVyVG9rZW5zKCByZWNpcGllbnQsIG1zZy52YWx1ZSwgdG9rZW5zICk7CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyBvd25lciB0byB0cmFuc2ZlciB0b2tlbnMgdG8gYW55IGFkZHJlc3MuCiAgICogQHBhcmFtIHJlY2lwaWVudCBpcyB0aGUgYWRkcmVzcyB0byByZWNlaXZlIHRva2Vucy4gCiAgICogQHBhcmFtIHpsYSBpcyB0aGUgYW1vdW50IG9mIFppbGxhIHRvIHRyYW5zZmVyCiAgICovCiAgZnVuY3Rpb24gZ3JhbnRUb2tlbnMoYWRkcmVzcyByZWNpcGllbnQsIHVpbnQyNTYgemxhKSBwdWJsaWMgaXNTdGFydGVkIG9ubHlPd25lciB7CiAgICByZXF1aXJlKCB6aWxsYV9yZW1haW5pbmcgPj0gemxhICk7CiAgICBfdHJhbnNmZXJUb2tlbnMoIHJlY2lwaWVudCwgMCwgemxhICk7CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgb3duZXIgdG8gZ3JhbnQgcHJlc2FsZSBwYXJ0aWNpcGFudHMgdGhlaXIgdG9rZW5zLgogICAqIEBwYXJhbSByZWNpcGllbnRzIGFycmF5IG9mIHJlY2lwaWVudHMgdG8gcmVjZWl2ZSB0b2tlbnMuIAogICAqIEBwYXJhbSBldGhzIGFycmF5IG9mIGV0aGVyIGZyb20gdGhlIHByZXNhbGUuCiAgICovCiAgZnVuY3Rpb24gZ3JhbnRQcmVzYWxlVG9rZW5zKGFkZHJlc3NbXSByZWNpcGllbnRzLCB1aW50MjU2W10gZXRocykgcHVibGljIGlzU3RhcnRlZCBvbmx5T3duZXIgewogICAgcmVxdWlyZSggcmVjaXBpZW50cy5sZW5ndGggPT0gZXRocy5sZW5ndGggKTsKICAgIGZvciAodWludCBpPTA7IGk8cmVjaXBpZW50cy5sZW5ndGg7IGkrKykgewogICAgICBfZ3JhbnRQcmVzYWxlVG9rZW5zKCByZWNpcGllbnRzW2ldLCBldGhzW2ldICk7CiAgICB9CiAgfQoKfQ=='.
	

]
