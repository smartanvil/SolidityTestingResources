Class {
	#name : #SRTd1e7904e0e40654e4f78355acb85304504d27641,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd1e7904e0e40654e4f78355acb85304504d27641 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBBZGRzIG9ubHlPd25lciBtb2RpZmllci4gU3ViY29udHJhY3RzIHNob3VsZCBpbXBsZW1lbnQgY2hlY2tPd25lciB0byBjaGVjayBpZiBjYWxsZXIgaXMgb3duZXIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICBjaGVja093bmVyKCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGVja093bmVyKCkgaW50ZXJuYWw7Cn0KCi8qKgogKiBAdGl0bGUgT3duYWJsZUltcGwKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZUltcGwgaXMgT3duYWJsZSB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCiAgICAvKioKICAgICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAgICogYWNjb3VudC4KICAgICAqLwogICAgZnVuY3Rpb24gT3duYWJsZUltcGwoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgICAqLwogICAgZnVuY3Rpb24gY2hlY2tPd25lcigpIGludGVybmFsIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQp9CgovKioKICogQHRpdGxlIFJlYWQtb25seSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBSZWFkT25seVRva2VuIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgVG9rZW4gaXMgUmVhZE9ubHlUb2tlbiB7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9Cgpjb250cmFjdCBNaW50YWJsZVRva2VuIGlzIFRva2VuIHsKICAgIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CgogICAgZnVuY3Rpb24gbWludChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7Cn0KCi8qKgogKiBAdGl0bGUgU2FsZSBjb250cmFjdCBmb3IgRGFvbm9taWMgcGxhdGZvcm0gc2hvdWxkIGltcGxlbWVudCB0aGlzCiAqLwpjb250cmFjdCBTYWxlIHsKICAgIC8qKgogICAgICogQGRldiBUaGlzIGV2ZW50IHNob3VsZCBiZSBlbWl0dGVkIHdoZW4gdXNlciBidXlzIHNvbWV0aGluZwogICAgICovCiAgICBldmVudCBQdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgYnV5ZXIsIGFkZHJlc3MgdG9rZW4sIHVpbnQyNTYgdmFsdWUsIHVpbnQyNTYgc29sZCwgdWludDI1NiBib251cyk7CiAgICAvKioKICAgICAqIEBkZXYgU2hvdWxkIGJlIGVtaXR0ZWQgaWYgbmV3IHBheW1lbnQgbWV0aG9kIGFkZGVkCiAgICAgKi8KICAgIGV2ZW50IFJhdGVBZGQoYWRkcmVzcyB0b2tlbik7CiAgICAvKioKICAgICAqIEBkZXYgU2hvdWxkIGJlIGVtaXR0ZWQgaWYgcGF5bWVudCBtZXRob2QgcmVtb3ZlZAogICAgICovCiAgICBldmVudCBSYXRlUmVtb3ZlKGFkZHJlc3MgdG9rZW4pOwoKICAgIC8qKgogICAgICogQGRldiBDYWxjdWxhdGUgcmF0ZSBmb3Igc3BlY2lmaWVkIHBheW1lbnQgbWV0aG9kCiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldFJhdGUoYWRkcmVzcyB0b2tlbikgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQyNTYpOwogICAgLyoqCiAgICAgKiBAZGV2IENhbGN1bGF0ZSBjdXJyZW50IGJvbnVzIGluIHRva2VucwogICAgICovCiAgICBmdW5jdGlvbiBnZXRCb251cyh1aW50MjU2IHNvbGQpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2KTsKfQoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKiBAZGV2IHRoaXMgdmVyc2lvbiBjb3BpZWQgZnJvbSB6ZXBwZWxpbi1zb2xpZGl0eSwgY29uc3RhbnQgY2hhbmdlZCB0byBwdXJlCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgaWYgKGEgPT0gMCkgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICAgICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAgICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9CgovKioKICogQHRpdGxlIFRva2VuIHJlcHJlc2VudHMgc29tZSBleHRlcm5hbCB2YWx1ZSAoZm9yIGV4YW1wbGUsIEJUQywgVVNEIGV0YykKICovCmNvbnRyYWN0IEV4dGVybmFsVG9rZW4gaXMgVG9rZW4gewogICAgZXZlbnQgTWludChhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUsIGJ5dGVzIGRhdGEpOwogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgYnVybmVyLCB1aW50MjU2IHZhbHVlLCBieXRlcyBkYXRhKTsKCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZGF0YSkgcHVibGljOwp9CgovKioKICogQGRldiBUaGlzIGFkYXB0ZXIgaGVscHMgdG8gcmVjZWl2ZSB0b2tlbnMuIEl0IGhhcyBzb21lIHN1YmNvbnRyYWN0cyBmb3IgZGlmZmVyZW50IHRva2VuczoKICogICBFUkMyMFJlY2VpdmVBZGFwdGVyIC0gZm9yIHJlY2VpdmluZyBzaW1wbGUgRVJDMjAgdG9rZW5zCiAqICAgRVJDMjIzUmVjZWl2ZUFkYXB0ZXIgLSBmb3IgcmVjZWl2aW5nIEVSQzIyMyB0b2tlbnMKICogICBSZWNlaXZlQXBwcm92YWxBZGFwdGVyIC0gZm9yIHJlY2VpdmluZyBFUkMyMCB0b2tlbnMgd2hlbiB0b2tlbiBub3RpZmllcyByZWNlaXZlciB3aXRoIHJlY2VpdmVBcHByb3ZhbAogKiAgIEV0aGVyUmVjZWl2ZUFkYXB0ZXIgLSBmb3IgcmVjZWl2aW5nIGV0aGVyIChvblJlY2VpdmUgY2FsbGJhY2sgd2lsbCBiZSB1c2VkKS4gdGhpcyBpcyBuZWVkZWQgZm9yIGhhbmRsaW5nIGV0aGVyIGxpa2UgdG9rZW5zCiAqICAgQ29tcGF0UmVjZWl2ZUFwcHJvdmFsIC0gaW1wbGVtZW50cyBhbGwgdGhlc2UgYWRhcHRlcnMKICovCmNvbnRyYWN0IFJlY2VpdmVBZGFwdGVyIHsKCiAgICAvKioKICAgICAqIEBkZXYgUmVjZWl2ZSB0b2tlbnMgZnJvbSBzb21lb25lLiBPd25lciBvZiB0aGUgdG9rZW5zIHNob3VsZCBhcHByb3ZlIGZpcnN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIG9uUmVjZWl2ZShhZGRyZXNzIF90b2tlbiwgYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9kYXRhKSBpbnRlcm5hbDsKfQoKLyoqCiAqIEBkZXYgSGVscHMgdG8gcmVjZWl2ZSBFUkMyMC1jb21wbGFpbnQgdG9rZW5zLiBPd25lciBzaG91bGQgY2FsbCB0b2tlbi5hcHByb3ZlIGZpcnN0CiAqLwpjb250cmFjdCBFUkMyMFJlY2VpdmVBZGFwdGVyIGlzIFJlY2VpdmVBZGFwdGVyIHsKICAgIGZ1bmN0aW9uIHJlY2VpdmUoYWRkcmVzcyBfdG9rZW4sIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZGF0YSkgcHVibGljIHsKICAgICAgICBUb2tlbiB0b2tlbiA9IFRva2VuKF90b2tlbik7CiAgICAgICAgdG9rZW4udHJhbnNmZXJGcm9tKG1zZy5zZW5kZXIsIHRoaXMsIF92YWx1ZSk7CiAgICAgICAgb25SZWNlaXZlKF90b2tlbiwgbXNnLnNlbmRlciwgX3ZhbHVlLCBfZGF0YSk7CiAgICB9Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjIzIFRva2VuUmVjZWl2ZXIgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMjMKICovCmNvbnRyYWN0IFRva2VuUmVjZWl2ZXIgewogICAgZnVuY3Rpb24gb25Ub2tlblRyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZGF0YSkgcHVibGljOwp9CgovKioKICogQGRldiBIZWxwcyB0byByZWNlaXZlIEVSQzIyMy1jb21wbGFpbnQgdG9rZW5zLiBFUkMyMjMgVG9rZW4gY29udHJhY3Qgc2hvdWxkIG5vdGlmeSByZWNlaXZlci4KICovCmNvbnRyYWN0IEVSQzIyM1JlY2VpdmVBZGFwdGVyIGlzIFRva2VuUmVjZWl2ZXIsIFJlY2VpdmVBZGFwdGVyIHsKICAgIGZ1bmN0aW9uIHRva2VuRmFsbGJhY2soYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9kYXRhKSBwdWJsaWMgewogICAgICAgIG9uUmVjZWl2ZShtc2cuc2VuZGVyLCBfZnJvbSwgX3ZhbHVlLCBfZGF0YSk7CiAgICB9CgogICAgZnVuY3Rpb24gb25Ub2tlblRyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZGF0YSkgcHVibGljIHsKICAgICAgICBvblJlY2VpdmUobXNnLnNlbmRlciwgX2Zyb20sIF92YWx1ZSwgX2RhdGEpOwogICAgfQp9Cgpjb250cmFjdCBFdGhlclJlY2VpdmVBZGFwdGVyIGlzIFJlY2VpdmVBZGFwdGVyIHsKICAgIGZ1bmN0aW9uICgpIHBheWFibGUgcHVibGljIHsKICAgICAgICByZWNlaXZlRXRoZXJBbmREYXRhKCIiKTsKICAgIH0KCiAgICBmdW5jdGlvbiByZWNlaXZlRXRoZXJBbmREYXRhKGJ5dGVzIF9kYXRhKSBwYXlhYmxlIHB1YmxpYyB7CiAgICAgICAgb25SZWNlaXZlKGFkZHJlc3MoMCksIG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgX2RhdGEpOwogICAgfQp9CgovKioKICogQGRldiBUaGlzIFJlY2VpdmVBZGFwdGVyIHN1cHBvcnRzIGFsbCBwb3NzaWJsZSB0b2tlbnMKICovCmNvbnRyYWN0IENvbXBhdFJlY2VpdmVBZGFwdGVyIGlzIEVSQzIwUmVjZWl2ZUFkYXB0ZXIsIEVSQzIyM1JlY2VpdmVBZGFwdGVyLCBFdGhlclJlY2VpdmVBZGFwdGVyIHsKCn0KCmNvbnRyYWN0IEFic3RyYWN0U2FsZSBpcyBTYWxlLCBDb21wYXRSZWNlaXZlQWRhcHRlciwgT3duYWJsZSB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBldmVudCBXaXRoZHJhdyhhZGRyZXNzIHRva2VuLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKTsKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyB0b2tlbiwgdWludDI1NiB2YWx1ZSwgYnl0ZXMgZGF0YSk7CgogICAgZnVuY3Rpb24gb25SZWNlaXZlKGFkZHJlc3MgX3Rva2VuLCBhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2RhdGEpIGludGVybmFsIHsKICAgICAgICB1aW50MjU2IHNvbGQgPSBnZXRTb2xkKF90b2tlbiwgX3ZhbHVlKTsKICAgICAgICByZXF1aXJlKHNvbGQgPiAwKTsKICAgICAgICB1aW50MjU2IGJvbnVzID0gZ2V0Qm9udXMoc29sZCk7CiAgICAgICAgYWRkcmVzcyBidXllcjsKICAgICAgICBpZiAoX2RhdGEubGVuZ3RoID09IDIwKSB7CiAgICAgICAgICAgIGJ1eWVyID0gYWRkcmVzcyh0b0J5dGVzMjAoX2RhdGEsIDApKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXF1aXJlKF9kYXRhLmxlbmd0aCA9PSAwKTsKICAgICAgICAgICAgYnV5ZXIgPSBfZnJvbTsKICAgICAgICB9CiAgICAgICAgY2hlY2tQdXJjaGFzZVZhbGlkKGJ1eWVyLCBzb2xkLCBib251cyk7CiAgICAgICAgZG9QdXJjaGFzZShidXllciwgc29sZCwgYm9udXMpOwogICAgICAgIFB1cmNoYXNlKGJ1eWVyLCBfdG9rZW4sIF92YWx1ZSwgc29sZCwgYm9udXMpOwogICAgICAgIG9uUHVyY2hhc2UoYnV5ZXIsIF90b2tlbiwgX3ZhbHVlLCBzb2xkLCBib251cyk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0U29sZChhZGRyZXNzIF90b2tlbiwgdWludDI1NiBfdmFsdWUpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiByYXRlID0gZ2V0UmF0ZShfdG9rZW4pOwogICAgICAgIHJlcXVpcmUocmF0ZSA+IDApOwogICAgICAgIHJldHVybiBfdmFsdWUubXVsKHJhdGUpLmRpdigxMCoqMTgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEJvbnVzKHVpbnQyNTYgc29sZCkgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQyNTYpOwoKICAgIGZ1bmN0aW9uIGdldFJhdGUoYWRkcmVzcyBfdG9rZW4pIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2KTsKCiAgICBmdW5jdGlvbiBkb1B1cmNoYXNlKGFkZHJlc3MgYnV5ZXIsIHVpbnQyNTYgc29sZCwgdWludDI1NiBib251cykgaW50ZXJuYWw7CgogICAgZnVuY3Rpb24gY2hlY2tQdXJjaGFzZVZhbGlkKGFkZHJlc3MgLypidXllciovLCB1aW50MjU2IC8qc29sZCovLCB1aW50MjU2IC8qYm9udXMqLykgaW50ZXJuYWwgewoKICAgIH0KCiAgICBmdW5jdGlvbiBvblB1cmNoYXNlKGFkZHJlc3MgLypidXllciovLCBhZGRyZXNzIC8qdG9rZW4qLywgdWludDI1NiAvKnZhbHVlKi8sIHVpbnQyNTYgLypzb2xkKi8sIHVpbnQyNTYgLypib251cyovKSBpbnRlcm5hbCB7CgogICAgfQoKICAgIGZ1bmN0aW9uIHRvQnl0ZXMyMChieXRlcyBiLCB1aW50MjU2IF9zdGFydCkgcHVyZSBpbnRlcm5hbCByZXR1cm5zIChieXRlczIwIHJlc3VsdCkgewogICAgICAgIHJlcXVpcmUoX3N0YXJ0ICsgMjAgPD0gYi5sZW5ndGgpOwogICAgICAgIGFzc2VtYmx5IHsKICAgICAgICAgICAgbGV0IGZyb20gOj0gYWRkKF9zdGFydCwgYWRkKGIsIDB4MjApKQogICAgICAgICAgICByZXN1bHQgOj0gbWxvYWQoZnJvbSkKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gd2l0aGRyYXcoYWRkcmVzcyBfdG9rZW4sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgdmVyaWZ5Q2FuV2l0aGRyYXcoX3Rva2VuLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgaWYgKF90b2tlbiA9PSBhZGRyZXNzKDApKSB7CiAgICAgICAgICAgIF90by50cmFuc2ZlcihfdmFsdWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFRva2VuKF90b2tlbikudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogICAgICAgIH0KICAgICAgICBXaXRoZHJhdyhfdG9rZW4sIF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiB2ZXJpZnlDYW5XaXRoZHJhdyhhZGRyZXNzIHRva2VuLCBhZGRyZXNzIHRvLCB1aW50MjU2IGFtb3VudCkgaW50ZXJuYWw7CgogICAgZnVuY3Rpb24gYnVybldpdGhEYXRhKGFkZHJlc3MgX3Rva2VuLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2RhdGEpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIEV4dGVybmFsVG9rZW4oX3Rva2VuKS5idXJuKF92YWx1ZSwgX2RhdGEpOwogICAgICAgIEJ1cm4oX3Rva2VuLCBfdmFsdWUsIF9kYXRhKTsKICAgIH0KfQoKLyoqCiAqIEB0aXRsZSBUaGlzIHNhbGUgbWludHMgdG9rZW4gd2hlbiB1c2VyIHNlbmRzIGFjY2VwdGVkIHBheW1lbnRzCiAqLwpjb250cmFjdCBNaW50aW5nU2FsZSBpcyBBYnN0cmFjdFNhbGUgewogICAgTWludGFibGVUb2tlbiBwdWJsaWMgdG9rZW47CgogICAgZnVuY3Rpb24gTWludGluZ1NhbGUoYWRkcmVzcyBfdG9rZW4pIHB1YmxpYyB7CiAgICAgICAgdG9rZW4gPSBNaW50YWJsZVRva2VuKF90b2tlbik7CiAgICB9CgogICAgZnVuY3Rpb24gZG9QdXJjaGFzZShhZGRyZXNzIGJ1eWVyLCB1aW50MjU2IHNvbGQsIHVpbnQyNTYgYm9udXMpIGludGVybmFsIHsKICAgICAgICB0b2tlbi5taW50KGJ1eWVyLCBzb2xkLmFkZChib251cykpOwogICAgfQoKICAgIGZ1bmN0aW9uIHZlcmlmeUNhbldpdGhkcmF3KGFkZHJlc3MsIGFkZHJlc3MsIHVpbnQyNTYpIGludGVybmFsIHsKCiAgICB9Cn0KCmNvbnRyYWN0IENhcHBlZFNhbGUgaXMgQWJzdHJhY3RTYWxlIHsKICAgIHVpbnQyNTYgcHVibGljIGNhcDsKICAgIHVpbnQyNTYgcHVibGljIGluaXRpYWxDYXA7CgogICAgZnVuY3Rpb24gQ2FwcGVkU2FsZSh1aW50MjU2IF9jYXApIHB1YmxpYyB7CiAgICAgICAgY2FwID0gX2NhcDsKICAgICAgICBpbml0aWFsQ2FwID0gX2NhcDsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGVja1B1cmNoYXNlVmFsaWQoYWRkcmVzcyBidXllciwgdWludDI1NiBzb2xkLCB1aW50MjU2IGJvbnVzKSBpbnRlcm5hbCB7CiAgICAgICAgc3VwZXIuY2hlY2tQdXJjaGFzZVZhbGlkKGJ1eWVyLCBzb2xkLCBib251cyk7CiAgICAgICAgcmVxdWlyZShjYXAgPj0gc29sZCk7CiAgICB9CgogICAgZnVuY3Rpb24gb25QdXJjaGFzZShhZGRyZXNzIGJ1eWVyLCBhZGRyZXNzIHRva2VuLCB1aW50MjU2IHZhbHVlLCB1aW50MjU2IHNvbGQsIHVpbnQyNTYgYm9udXMpIGludGVybmFsIHsKICAgICAgICBzdXBlci5vblB1cmNoYXNlKGJ1eWVyLCB0b2tlbiwgdmFsdWUsIHNvbGQsIGJvbnVzKTsKICAgICAgICBjYXAgPSBjYXAuc3ViKHNvbGQpOwogICAgfQp9Cgpjb250cmFjdCBFdGhCdGNTYWxlIGlzIE1pbnRpbmdTYWxlLCBPd25hYmxlSW1wbCwgQ2FwcGVkU2FsZSB7CiAgICBhZGRyZXNzIHB1YmxpYyBidGNUb2tlbjsKICAgIHVpbnQyNTYgcHVibGljIHN0YXJ0OwogICAgdWludDI1NiBwdWJsaWMgZW5kOwogICAgdWludDI1NiBwdWJsaWMgY3VzdG9tQm9udXM7CgogICAgZnVuY3Rpb24gRXRoQnRjU2FsZShhZGRyZXNzIF9taW50YWJsZVRva2VuLCBhZGRyZXNzIF9idGNUb2tlbiwgdWludDI1NiBfc3RhcnQsIHVpbnQyNTYgX2VuZCwgdWludDI1NiBfY2FwKSBNaW50aW5nU2FsZShfbWludGFibGVUb2tlbikgQ2FwcGVkU2FsZShfY2FwKSB7CiAgICAgICAgYnRjVG9rZW4gPSBfYnRjVG9rZW47CiAgICAgICAgc3RhcnQgPSBfc3RhcnQ7CiAgICAgICAgZW5kID0gX2VuZDsKICAgICAgICBSYXRlQWRkKGFkZHJlc3MoMCkpOwogICAgICAgIFJhdGVBZGQoX2J0Y1Rva2VuKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRCb251cyh1aW50IHNvbGQpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgaWYgKGN1c3RvbUJvbnVzICE9IDApIHsKICAgICAgICAgICAgcmV0dXJuIHNvbGQubXVsKGN1c3RvbUJvbnVzKS5kaXYoMTAwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGdldFRpbWVCb251cyhzb2xkKSArIGdldEFtb3VudEJvbnVzKHNvbGQpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBnZXRUaW1lQm9udXModWludDI1NiBzb2xkKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiB3ZWVrID0gKG5vdyAtIHN0YXJ0KSAvICg4NjQwMCAqIDcpOwogICAgICAgIGlmICg1MCA+PSB3ZWVrICogNSkgewogICAgICAgICAgICByZXR1cm4gc29sZC5tdWwoNTAgLSB3ZWVrICogNSkuZGl2KDEwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGdldEFtb3VudEJvbnVzKHVpbnQyNTYgc29sZCkgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGlmIChzb2xkID4gMjAwMDAgKiAxMCoqMTgpIHsKICAgICAgICAgICAgcmV0dXJuIHNvbGQubXVsKDE1MCkuZGl2KDEwMDApOwogICAgICAgIH0gZWxzZSBpZiAoc29sZCA+IDE1MDAwICogMTAqKjE4KSB7CiAgICAgICAgICAgIHJldHVybiBzb2xkLm11bCgxMjUpLmRpdigxMDAwKTsKICAgICAgICB9IGVsc2UgaWYgKHNvbGQgPiAxMDAwMCAqIDEwKioxOCkgewogICAgICAgICAgICByZXR1cm4gc29sZC5tdWwoMTAwKS5kaXYoMTAwMCk7CiAgICAgICAgfSBlbHNlIGlmIChzb2xkID4gNTAwMCAqIDEwKioxOCkgewogICAgICAgICAgICByZXR1cm4gc29sZC5tdWwoNzUpLmRpdigxMDAwKTsKICAgICAgICB9IGVsc2UgaWYgKHNvbGQgPiAxMDAwICogMTAqKjE4KSB7CiAgICAgICAgICAgIHJldHVybiBzb2xkLm11bCg1MCkuZGl2KDEwMDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBjaGVja1B1cmNoYXNlVmFsaWQoYWRkcmVzcyBidXllciwgdWludDI1NiBzb2xkLCB1aW50MjU2IGJvbnVzKSBpbnRlcm5hbCB7CiAgICAgICAgc3VwZXIuY2hlY2tQdXJjaGFzZVZhbGlkKGJ1eWVyLCBzb2xkLCBib251cyk7CiAgICAgICAgcmVxdWlyZShub3cgPiBzdGFydCAmJiBub3cgPCBlbmQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFJhdGUoYWRkcmVzcyBfdG9rZW4pIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgaWYgKF90b2tlbiA9PSBidGNUb2tlbikgewogICAgICAgICAgICByZXR1cm4gMTUwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOwogICAgICAgIH0gZWxzZSBpZiAoX3Rva2VuID09IGFkZHJlc3MoMCkpIHsKICAgICAgICAgICAgcmV0dXJuIDUwMDAwMDAwMDAwMDAwMDAwMDAwMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gc2V0Q3VzdG9tQm9udXModWludDI1NiBfY3VzdG9tQm9udXMpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGN1c3RvbUJvbnVzID0gX2N1c3RvbUJvbnVzOwogICAgfQoKICAgIGZ1bmN0aW9uIHdpdGhkcmF3RXRoKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgd2l0aGRyYXcoYWRkcmVzcygwKSwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdpdGhkcmF3QnRjKGJ5dGVzIF90bywgdWludDI1NiBfdmFsdWUpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGJ1cm5XaXRoRGF0YShidGNUb2tlbiwgX3ZhbHVlLCBfdG8pOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyVG9rZW5Pd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgT3duYWJsZUltcGwodG9rZW4pLnRyYW5zZmVyT3duZXJzaGlwKG5ld093bmVyKTsKICAgIH0KfQ=='.
	

]
