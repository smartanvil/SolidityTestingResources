Class {
	#name : #SRTf149230261f14f75c78206b7358e0cc391d85c98,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTf149230261f14f75c78206b7358e0cc391d85c98 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuIAogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLiAKICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgoKLyoqCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBAZGV2IEltcGxlbWVudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFyZCB0b2tlbi4KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAvLyByZXF1aXJlIChfdmFsdWUgPD0gX2FsbG93YW5jZSk7CgogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CgogICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAvLyAgYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgcmVxdWlyZSgoX3ZhbHVlID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CgogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgIGlmIChuZXdPd25lciAhPSBhZGRyZXNzKDApKSB7CiAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9CiAgfQoKfQoKY29udHJhY3QgU1lOVmF1bHQgewogICAgLy8gZmxhZyB0byBkZXRlcm1pbmUgaWYgYWRkcmVzcyBpcyBmb3IgYSByZWFsIGNvbnRyYWN0IG9yIG5vdAogICAgYm9vbCBwdWJsaWMgaXNTWU5WYXVsdCA9IGZhbHNlOwoKICAgIFN5bmNocm9Db2luIHN5bmNocm9Db2luOwogICAgYWRkcmVzcyBidXNpbmVzc0FkZHJlc3M7CiAgICB1aW50MjU2IHVubG9ja2VkQXRCbG9ja051bWJlcjsKICAgIC8vIExvY2tlZCBmb3IgMzQ1ZGF5cyAoMXllYXIgYWZ0ZXIgY29tcGxldGlvbiBvZiB0aGUgY3Jvd2RzYWxlKQogICAgLy8gMjEyOTE0MyBibG9ja3MgPSAyNCBob3VycyAqIDYwIG1pbnV0ZXMgKiA2MCBzZWNvbmRzICogMzQ1ZGF5cyAvIDE0c2Vjb25kcyBwZXIgYmxvY2sKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IG51bUJsb2Nrc0xvY2tlZCA9IDIxMjkxNDM7CgogICAgLy8vIEBub3RpY2UgQ29uc3RydWN0b3IgZnVuY3Rpb24gc2V0cyB0aGUgTXVsdGlzaWcgYWRkcmVzcyBhbmQKICAgIC8vLyB0b3RhbCBudW1iZXIgb2YgbG9ja2VkIHRva2VucyB0byB0cmFuc2ZlcgogICAgZnVuY3Rpb24gU1lOVmF1bHQoYWRkcmVzcyBfYnVzaW5lc3NBZGRyZXNzKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX2J1c2luZXNzQWRkcmVzcyAhPSAweDApOwogICAgICAgIHN5bmNocm9Db2luID0gU3luY2hyb0NvaW4obXNnLnNlbmRlcik7CiAgICAgICAgYnVzaW5lc3NBZGRyZXNzID0gX2J1c2luZXNzQWRkcmVzczsKICAgICAgICBpc1NZTlZhdWx0ID0gdHJ1ZTsKICAgICAgICB1bmxvY2tlZEF0QmxvY2tOdW1iZXIgPSBTYWZlTWF0aC5hZGQoYmxvY2subnVtYmVyLCBudW1CbG9ja3NMb2NrZWQpOyAvLyAzNDUgZGF5cyBvZiBibG9ja3MgbGF0ZXIKICAgIH0KCiAgICAvLy8gQG5vdGljZSBUcmFuc2ZlciBsb2NrZWQgdG9rZW5zIHRvIFN5bmNocm9saWZlJ3Mgd2FsbGV0CiAgICBmdW5jdGlvbiB1bmxvY2soKSBleHRlcm5hbCB7CiAgICAgICAgLy8gV2FpdCB5b3VyIHR1cm4hCiAgICAgICAgcmVxdWlyZShibG9jay5udW1iZXIgPiB1bmxvY2tlZEF0QmxvY2tOdW1iZXIpOwogICAgICAgIC8vIFdpbGwgZmFpbCBpZiBhbGxvY2F0aW9uIChhbmQgdGhlcmVmb3JlIHRvVHJhbnNmZXIpIGlzIDAuCiAgICAgICAgaWYgKCFzeW5jaHJvQ29pbi50cmFuc2ZlcihidXNpbmVzc0FkZHJlc3MsIHN5bmNocm9Db2luLmJhbGFuY2VPZih0aGlzKSkpIHJldmVydCgpOwogICAgfQoKICAgIC8vIGRpc2FsbG93IHBheW1lbnQgdGhpcyBpcyBmb3IgU1lOIG5vdCBldGhlcgogICAgZnVuY3Rpb24gKCkgcHVibGljIHsgcmV2ZXJ0KCk7IH0KfQoKY29udHJhY3QgU3luY2hyb0NvaW4gaXMgT3duYWJsZSwgU3RhbmRhcmRUb2tlbiB7CgogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiU1lDIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJTeW5jaHJvQ29pbiI7CiAgICB1aW50OCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGluaXRpYWxTdXBwbHkgPSAxMDAwMDAwMDBlMTg7ICAgIC8vMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwCiAgICAKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHN0YXJ0RGF0ZSA9IDE1MDYwOTI0MDA7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBlbmREYXRlID0gMTUwODUxMTU5OTsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGZpcnN0UHJlc2FsZVN0YXJ0ID0gMTUwMjg4NDgwMDsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGZpcnN0UHJlc2FsZUVuZCA9IDE1MDM4MzUxNDA7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBzZWNvbmRQcmVzYWxlU3RhcnQgPSAxNTA0NTI2NDAwOwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgc2Vjb25kUHJlc2FsZUVuZCA9IDE1MDQ3ODU1NDA7CgogICAgLy81NSUgZm9yIENyb3dkU2FsZSBkaXN0cmlidXRpb24KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGNyb3dkU2FsZVBlcmNlbnRhZ2UgPSA1NTAwOwogICAgLy8yMCUgZm9yIFN5bmNocm9saWZlIHBvb2wgZm9yIHJld2FyZHMKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHJld2FyZFBvb2xQZXJjZW50YWdlID0gMjAwMDsKICAgIC8vOS41JSBmb3IgU3luY2hyb2xpZmUgYnVzaW5lc3MgKyA1JSBmb3IgZWFybHkgaW52ZXN0b3JzCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBidXNpbmVzc1BlcmNlbnRhZ2UgPSAxNDUwOwogICAgLy85LjUlIGZvciBTeW5jaHJvbGlmZSB0ZWFtLCBhZHZpc29ycyBhbmQgcGFydG5lcnMKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHZhdWx0UGVyY2VudGFnZSA9IDk1MDsKICAgIC8vMSUgZm9yIEJvdW50eQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgYm91bnR5UGVyY2VudGFnZSA9IDEwMDsKICAgIAogICAgLy9EZW5vbWluYXRvciBmb3IgcGVyY2VudGFnZSBjYWxjdWxhdGlvbi4KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGh1bmRyZWRQZXJjZW50ID0gMTAwMDA7IAogICAgCiAgICAvL0ZpcnN0IFByZXNhbGU6IDI2ODAwMDAwMDAwMDAwMDAwMDAwMAogICAgLy9TZWNvbmQgUHJlc2FsZTogNzAwMDAwMDAwMDAwMDAwMDAwMDAgCiAgICAvL0Nyb3dkc2FsZTogICAgIDQxNzQyNzg5NzAyNjAwMDAwMDQwMAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgdG90YWxGdW5kZWRFdGhlciA9IDc1NTQyNzg5NzAyNjAwMDAwMDQwMDsKICAgIAogICAgLy9GaXJzdCBQcmVzYWxlOiAzNzUyMDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vU2Vjb25kIFByZXNhbGU6IDkxMDAwMDAwMDAwMDAwMDAwMDAwCiAgICAvL0Nyb3dkc2FsZTogICAgIDQzODM3MTIyNTQ2NTkwMDAwMDQwMAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgdG90YWxDb25zaWRlcmVkRnVuZGVkRXRoZXIgPSA5MDQ1NzEyMjU0NjU5MDAwMDA0MDA7CiAgICAKICAgIFNZTlZhdWx0IHB1YmxpYyB2YXVsdDsKICAgIGFkZHJlc3MgcHVibGljIGJ1c2luZXNzQWRkcmVzczsKICAgIGFkZHJlc3MgcHVibGljIHJld2FyZFBvb2xBZGRyZXNzOwogICAgCiAgICB1aW50MjU2IHB1YmxpYyBjcm93ZFNhbGVUb2tlbnM7CiAgICB1aW50MjU2IHB1YmxpYyBib3VudHlUb2tlbnM7CiAgICB1aW50MjU2IHB1YmxpYyByZXdhcmRQb29sVG9rZW5zOwoKICAgIGZ1bmN0aW9uIFN5bmNocm9Db2luKGFkZHJlc3MgX2J1c2luZXNzQWRkcmVzcywgYWRkcmVzcyBfcmV3YXJkUG9vbEFkZHJlc3MpIHB1YmxpYyB7CiAgICAgICAgdG90YWxTdXBwbHkgPSBpbml0aWFsU3VwcGx5OwogICAgICAgIGJ1c2luZXNzQWRkcmVzcyA9IF9idXNpbmVzc0FkZHJlc3M7CiAgICAgICAgcmV3YXJkUG9vbEFkZHJlc3MgPSBfcmV3YXJkUG9vbEFkZHJlc3M7CiAgICAgICAgCiAgICAgICAgdmF1bHQgPSBuZXcgU1lOVmF1bHQoYnVzaW5lc3NBZGRyZXNzKTsKICAgICAgICByZXF1aXJlKHZhdWx0LmlzU1lOVmF1bHQoKSk7CiAgICAgICAgCiAgICAgICAgdWludDI1NiByZW1haW5pbmdTdXBwbHkgPSBpbml0aWFsU3VwcGx5OwogICAgICAgIAogICAgICAgIC8vIDU1JSBvZiB0b3RhbCB0byBiZSBkaXN0cmlidXRlZCB0byBwcmVzYWxlIGFuZCBjcm93ZHNhbGUgcGFydGljaXBlbnRzCiAgICAgICAgY3Jvd2RTYWxlVG9rZW5zID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bCh0b3RhbFN1cHBseSwgY3Jvd2RTYWxlUGVyY2VudGFnZSksIGh1bmRyZWRQZXJjZW50KTsKICAgICAgICByZW1haW5pbmdTdXBwbHkgPSBTYWZlTWF0aC5zdWIocmVtYWluaW5nU3VwcGx5LCBjcm93ZFNhbGVUb2tlbnMpOwogICAgICAgIAogICAgICAgIC8vIDIwJSBvZiB0b3RhbCB0byBiZSBhbGxvY2F0ZWQgZm9yIHJld2FyZHMKICAgICAgICByZXdhcmRQb29sVG9rZW5zID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bCh0b3RhbFN1cHBseSwgcmV3YXJkUG9vbFBlcmNlbnRhZ2UpLCBodW5kcmVkUGVyY2VudCk7CiAgICAgICAgYmFsYW5jZXNbcmV3YXJkUG9vbEFkZHJlc3NdID0gU2FmZU1hdGguYWRkKGJhbGFuY2VzW3Jld2FyZFBvb2xBZGRyZXNzXSwgcmV3YXJkUG9vbFRva2Vucyk7CiAgICAgICAgVHJhbnNmZXIoMCwgcmV3YXJkUG9vbEFkZHJlc3MsIHJld2FyZFBvb2xUb2tlbnMpOwogICAgICAgIHJlbWFpbmluZ1N1cHBseSA9IFNhZmVNYXRoLnN1YihyZW1haW5pbmdTdXBwbHksIHJld2FyZFBvb2xUb2tlbnMpOwogICAgICAgIAogICAgICAgIC8vIDkuNSUgb2YgdG90YWwgZ29lcyB0byB2YXVsdCwgdGltZWxvY2tlZCBmb3IgMSB5ZWFyCiAgICAgICAgdWludDI1NiB2YXVsdFRva2VucyA9IFNhZmVNYXRoLmRpdihTYWZlTWF0aC5tdWwodG90YWxTdXBwbHksIHZhdWx0UGVyY2VudGFnZSksIGh1bmRyZWRQZXJjZW50KTsKICAgICAgICBiYWxhbmNlc1t2YXVsdF0gPSBTYWZlTWF0aC5hZGQoYmFsYW5jZXNbdmF1bHRdLCB2YXVsdFRva2Vucyk7CiAgICAgICAgVHJhbnNmZXIoMCwgdmF1bHQsIHZhdWx0VG9rZW5zKTsKICAgICAgICByZW1haW5pbmdTdXBwbHkgPSBTYWZlTWF0aC5zdWIocmVtYWluaW5nU3VwcGx5LCB2YXVsdFRva2Vucyk7CiAgICAgICAgCiAgICAgICAgLy8gMSUgb2YgdG90YWwgdXNlZCBmb3IgYm91bnR5LiBSZW1haW5kZXIgd2lsbCBiZSB1c2VkIGZvciBidXNpbmVzcy4KICAgICAgICBib3VudHlUb2tlbnMgPSBTYWZlTWF0aC5kaXYoU2FmZU1hdGgubXVsKHRvdGFsU3VwcGx5LCBib3VudHlQZXJjZW50YWdlKSwgaHVuZHJlZFBlcmNlbnQpOwogICAgICAgIHJlbWFpbmluZ1N1cHBseSA9IFNhZmVNYXRoLnN1YihyZW1haW5pbmdTdXBwbHksIGJvdW50eVRva2Vucyk7CiAgICAgICAgCiAgICAgICAgYmFsYW5jZXNbYnVzaW5lc3NBZGRyZXNzXSA9IFNhZmVNYXRoLmFkZChiYWxhbmNlc1tidXNpbmVzc0FkZHJlc3NdLCByZW1haW5pbmdTdXBwbHkpOwogICAgICAgIFRyYW5zZmVyKDAsIGJ1c2luZXNzQWRkcmVzcywgcmVtYWluaW5nU3VwcGx5KTsKICAgIH0KCiAgICAvKiBTZW5kIGNvaW5zICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX2Ftb3VudCk7CiAgICB9CgogICAgLyogQSBjb250cmFjdCBhdHRlbXB0cyB0byBnZXQgdGhlIGNvaW5zICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdldEJvbnVzTXVsdGlwbGllckF0KHVpbnQyNTYgX3RpbWVzdGFtcCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBpZiAoX3RpbWVzdGFtcCA+PSBmaXJzdFByZXNhbGVTdGFydCAmJiBfdGltZXN0YW1wIDwgZmlyc3RQcmVzYWxlRW5kKSB7CiAgICAgICAgICAgIHJldHVybiAxNDA7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKF90aW1lc3RhbXAgPj0gc2Vjb25kUHJlc2FsZVN0YXJ0ICYmIF90aW1lc3RhbXAgPCBzZWNvbmRQcmVzYWxlRW5kKSB7CiAgICAgICAgICAgIHJldHVybiAxMzA7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKF90aW1lc3RhbXAgPCAoc3RhcnREYXRlICsgMSBkYXlzKSkgewogICAgICAgICAgICByZXR1cm4gMTIwOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChfdGltZXN0YW1wIDwgKHN0YXJ0RGF0ZSArIDcgZGF5cykpIHsKICAgICAgICAgICAgcmV0dXJuIDExNTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoX3RpbWVzdGFtcCA8IChzdGFydERhdGUgKyAxNCBkYXlzKSkgewogICAgICAgICAgICByZXR1cm4gMTEwOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChfdGltZXN0YW1wIDwgKHN0YXJ0RGF0ZSArIDIxIGRheXMpKSB7CiAgICAgICAgICAgIHJldHVybiAxMDU7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKF90aW1lc3RhbXAgPD0gZW5kRGF0ZSkgewogICAgICAgICAgICByZXR1cm4gMTAwOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGRpc3RyaWJ1dGVDcm93ZHNhbGVUb2tlbnMoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2V0aGVyLCB1aW50MjU2IF90aW1lc3RhbXApIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJlcXVpcmUoX3RvICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZShfZXRoZXIgPj0gMTAwIGZpbm5leSk7CiAgICAgICAgcmVxdWlyZShfdGltZXN0YW1wID49IGZpcnN0UHJlc2FsZVN0YXJ0KTsKICAgICAgICByZXF1aXJlKF90aW1lc3RhbXAgPD0gZW5kRGF0ZSk7CiAgICAgICAgCiAgICAgICAgLy9DYWxjdWxhdGUgcGFydGljaXBhbnQncyBib251cwogICAgICAgIHVpbnQyNTYgY29uc2lkZXJlZEZ1bmRlZEV0aGVyID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChfZXRoZXIsIGdldEJvbnVzTXVsdGlwbGllckF0KF90aW1lc3RhbXApKSwgMTAwKTsKICAgICAgICAvL0NhbGN1bGF0ZSBwYXJ0aWNpcGFudCdzIHRva2VuIHNoYXJlCiAgICAgICAgdWludDI1NiBzaGFyZSA9IFNhZmVNYXRoLmRpdihTYWZlTWF0aC5tdWwoY29uc2lkZXJlZEZ1bmRlZEV0aGVyLCBjcm93ZFNhbGVUb2tlbnMpLCB0b3RhbENvbnNpZGVyZWRGdW5kZWRFdGhlcik7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IFNhZmVNYXRoLmFkZChiYWxhbmNlc1tfdG9dLCBzaGFyZSk7CiAgICAgICAgVHJhbnNmZXIoMCwgX3RvLCBzaGFyZSk7CiAgICAgICAgcmV0dXJuIHNoYXJlOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBkaXN0cmlidXRlQm91bnR5VG9rZW5zKGFkZHJlc3NbXSBfdG8sIHVpbnQyNTZbXSBfdmFsdWVzKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKF90by5sZW5ndGggPT0gX3ZhbHVlcy5sZW5ndGgpOwogICAgICAgIAogICAgICAgIHVpbnQyNTYgaSA9IDA7CiAgICAgICAgd2hpbGUgKGkgPCBfdG8ubGVuZ3RoKSB7CiAgICAgICAgICAgIGJvdW50eVRva2VucyA9IFNhZmVNYXRoLnN1Yihib3VudHlUb2tlbnMsIF92YWx1ZXNbaV0pOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9baV1dID0gU2FmZU1hdGguYWRkKGJhbGFuY2VzW190b1tpXV0sIF92YWx1ZXNbaV0pOwogICAgICAgICAgICBUcmFuc2ZlcigwLCBfdG9baV0sIF92YWx1ZXNbaV0pOwogICAgICAgICAgICBpICs9IDE7CiAgICAgICAgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiBjb21wbGV0ZUJvdW50eURpc3RyaWJ1dGlvbigpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIC8vQWZ0ZXIgZGlzdHJpYnV0aW9uIG9mIGJvdW50eSB0b2tlbnMsIHRyYW5zZmVyIHJlbWFpbmluZyB0b2tlbnMgdG8gU3luY2hyb2xpZmUgYnVzaW5lc3MgYWRkcmVzcwogICAgICAgIGJhbGFuY2VzW2J1c2luZXNzQWRkcmVzc10gPSBTYWZlTWF0aC5hZGQoYmFsYW5jZXNbYnVzaW5lc3NBZGRyZXNzXSwgYm91bnR5VG9rZW5zKTsKICAgICAgICBUcmFuc2ZlcigwLCBidXNpbmVzc0FkZHJlc3MsIGJvdW50eVRva2Vucyk7CiAgICAgICAgYm91bnR5VG9rZW5zID0gMDsKICAgIH0KfQ=='.
	

]
