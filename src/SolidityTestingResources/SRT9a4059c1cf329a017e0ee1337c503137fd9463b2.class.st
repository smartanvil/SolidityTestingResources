Class {
	#name : #SRT9a4059c1cf329a017e0ee1337c503137fd9463b2,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9a4059c1cf329a017e0ee1337c503137fd9463b2 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjA7CgoKcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovKioKICogQHRpdGxlIFNhZmUgbWF0aCBvcGVyYXRpb25zIHRoYXQgdGhyb3cgZXJyb3Igb24gb3ZlcmZsb3cuCiAqCiAqIENyZWRpdDogVGFraW5nIGlkZWFzIGZyb20gRmlyc3RCbG9vZCB0b2tlbgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CgogICAgLyoqIAogICAgICogQGRldiBTYWZlbHkgYWRkIHR3byBudW1iZXJzLgogICAgICoKICAgICAqIEBwYXJhbSB4IEZpcnN0IG9wZXJhbnQuCiAgICAgKiBAcGFyYW0geSBTZWNvbmQgb3BlcmFudC4KICAgICAqIEByZXR1cm4gVGhlIHJlc3VsdCBvZiB4K3kuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IHgsIHVpbnQyNTYgeSkKICAgIGludGVybmFsIGNvbnN0YW50CiAgICByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IHogPSB4ICsgeTsKICAgICAgICBhc3NlcnQoKHogPj0geCkgJiYgKHogPj0geSkpOwogICAgICAgIHJldHVybiB6OwogICAgfQoKICAgIC8qKiAKICAgICAqIEBkZXYgU2FmZWx5IHN1YnN0cmFjdCB0d28gbnVtYmVycy4KICAgICAqCiAgICAgKiBAcGFyYW0geCBGaXJzdCBvcGVyYW50LgogICAgICogQHBhcmFtIHkgU2Vjb25kIG9wZXJhbnQuCiAgICAgKiBAcmV0dXJuIFRoZSByZXN1bHQgb2YgeC15LgogICAgICovCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiB4LCB1aW50MjU2IHkpCiAgICBpbnRlcm5hbCBjb25zdGFudAogICAgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KHggPj0geSk7CiAgICAgICAgdWludDI1NiB6ID0geCAtIHk7CiAgICAgICAgcmV0dXJuIHo7CiAgICB9CgogICAgLyoqIAogICAgICogQGRldiBTYWZlbHkgbXVsdGlwbHkgdHdvIG51bWJlcnMuCiAgICAgKgogICAgICogQHBhcmFtIHggRmlyc3Qgb3BlcmFudC4KICAgICAqIEBwYXJhbSB5IFNlY29uZCBvcGVyYW50LgogICAgICogQHJldHVybiBUaGUgcmVzdWx0IG9mIHgqeS4KICAgICAqLwogICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgeCwgdWludDI1NiB5KQogICAgaW50ZXJuYWwgY29uc3RhbnQKICAgIHJldHVybnModWludDI1NikgewogICAgICAgIHVpbnQyNTYgeiA9IHggKiB5OwogICAgICAgIGFzc2VydCgoeCA9PSAwKSB8fCAoei94ID09IHkpKTsKICAgICAgICByZXR1cm4gejsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBQYXJzZSBhIGZsb2F0aW5nIHBvaW50IG51bWJlciBmcm9tIFN0cmluZyB0byB1aW50LCBlLmcuICIyNTAuNTYiIHRvICIyNTA1NiIKICAgICAqLwogICAgZnVuY3Rpb24gcGFyc2Uoc3RyaW5nIHMpIAogICAgaW50ZXJuYWwgY29uc3RhbnQgCiAgICByZXR1cm5zICh1aW50MjU2KSAKICAgIHsKICAgIGJ5dGVzIG1lbW9yeSBiID0gYnl0ZXMocyk7CiAgICB1aW50IHJlc3VsdCA9IDA7CiAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGJbaV0gPj0gNDggJiYgYltpXSA8PSA1NykgewogICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgKiAxMCArICh1aW50KGJbaV0pIC0gNDgpOyAKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gcmVzdWx0OyAKfQp9CgoKLyoqCiAqIEB0aXRsZSBUaGUgYWJzdHJhY3QgRVJDLTIwIFRva2VuIFN0YW5kYXJkIGRlZmluaXRpb24uCiAqCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2Jsb2IvbWFzdGVyL0VJUFMvZWlwLTIwLXRva2VuLXN0YW5kYXJkLm1kCiAqLwpjb250cmFjdCBUb2tlbiB7CiAgICAvLy8gQGRldiBSZXR1cm5zIHRoZSB0b3RhbCB0b2tlbiBzdXBwbHkuCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CgogICAgLy8vIEBkZXYgTVVTVCB0cmlnZ2VyIHdoZW4gdG9rZW5zIGFyZSB0cmFuc2ZlcnJlZCwgaW5jbHVkaW5nIHplcm8gdmFsdWUgdHJhbnNmZXJzLgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CgogICAgLy8vIEBkZXYgTVVTVCB0cmlnZ2VyIG9uIGFueSBzdWNjZXNzZnVsIGNhbGwgdG8gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkuCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBEZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBFUkMtMjAgVG9rZW4gU3RhbmRhcmQuCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIFRva2VuIHsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAgIG1vZGlmaWVyIG9ubHlQYXlsb2FkU2l6ZSh1aW50IG51bXdvcmRzKSB7CiAgICAgICAgYXNzZXJ0KG1zZy5kYXRhLmxlbmd0aCA9PSBudW13b3JkcyAqIDMyICsgNCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgVHJhbnNmZXJzIF92YWx1ZSBhbW91bnQgb2YgdG9rZW5zIHRvIGFkZHJlc3MgX3RvLCBhbmQgTVVTVCBmaXJlIHRoZSBUcmFuc2ZlciBldmVudC4gCiAgICAgKiBAZGV2IFRoZSBmdW5jdGlvbiBTSE9VTEQgdGhyb3cgaWYgdGhlIF9mcm9tIGFjY291bnQgYmFsYW5jZSBkb2VzIG5vdCBoYXZlIGVub3VnaCB0b2tlbnMgdG8gc3BlbmQuCiAgICAgKgogICAgICogQGRldiBBIHRva2VuIGNvbnRyYWN0IHdoaWNoIGNyZWF0ZXMgbmV3IHRva2VucyBTSE9VTEQgdHJpZ2dlciBhIFRyYW5zZmVyIGV2ZW50IHdpdGggdGhlIF9mcm9tIGFkZHJlc3Mgc2V0IHRvIDB4MCB3aGVuIHRva2VucyBhcmUgY3JlYXRlZC4KICAgICAqCiAgICAgKiBOb3RlIFRyYW5zZmVycyBvZiAwIHZhbHVlcyBNVVNUIGJlIHRyZWF0ZWQgYXMgbm9ybWFsIHRyYW5zZmVycyBhbmQgZmlyZSB0aGUgVHJhbnNmZXIgZXZlbnQuCiAgICAgKgogICAgICogQHBhcmFtIF90byBUaGUgcmVjZWl2ZXIgb2YgdGhlIHRva2Vucy4KICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gc2VuZC4KICAgICAqIEByZXR1cm4gVHJ1ZSBvbiBzdWNjZXNzLCBmYWxzZSBvdGhlcndpc2UuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkKICAgIHB1YmxpYwogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gU2FmZU1hdGguc3ViKGJhbGFuY2VzW21zZy5zZW5kZXJdLCBfdmFsdWUpOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dID0gU2FmZU1hdGguYWRkKGJhbGFuY2VzW190b10sIF92YWx1ZSk7CiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgVHJhbnNmZXJzIF92YWx1ZSBhbW91bnQgb2YgdG9rZW5zIGZyb20gYWRkcmVzcyBfZnJvbSB0byBhZGRyZXNzIF90bywgYW5kIE1VU1QgZmlyZSB0aGUgVHJhbnNmZXIgZXZlbnQuCiAgICAgKgogICAgICogQGRldiBUaGUgdHJhbnNmZXJGcm9tIG1ldGhvZCBpcyB1c2VkIGZvciBhIHdpdGhkcmF3IHdvcmtmbG93LCBhbGxvd2luZyBjb250cmFjdHMgdG8gdHJhbnNmZXIgdG9rZW5zIG9uIHlvdXIgYmVoYWxmLiAKICAgICAqIEBkZXYgVGhpcyBjYW4gYmUgdXNlZCBmb3IgZXhhbXBsZSB0byBhbGxvdyBhIGNvbnRyYWN0IHRvIHRyYW5zZmVyIHRva2VucyBvbiB5b3VyIGJlaGFsZiBhbmQvb3IgdG8gY2hhcmdlIGZlZXMgaW4gCiAgICAgKiBAZGV2IHN1Yi1jdXJyZW5jaWVzLiBUaGUgZnVuY3Rpb24gU0hPVUxEIHRocm93IHVubGVzcyB0aGUgX2Zyb20gYWNjb3VudCBoYXMgZGVsaWJlcmF0ZWx5IGF1dGhvcml6ZWQgdGhlIHNlbmRlciBvZiAKICAgICAqIEBkZXYgdGhlIG1lc3NhZ2UgdmlhIHNvbWUgbWVjaGFuaXNtLgogICAgICoKICAgICAqIE5vdGUgVHJhbnNmZXJzIG9mIDAgdmFsdWVzIE1VU1QgYmUgdHJlYXRlZCBhcyBub3JtYWwgdHJhbnNmZXJzIGFuZCBmaXJlIHRoZSBUcmFuc2ZlciBldmVudC4KICAgICAqCiAgICAgKiBAcGFyYW0gX2Zyb20gVGhlIHNlbmRlciBvZiB0aGUgdG9rZW5zLgogICAgICogQHBhcmFtIF90byBUaGUgcmVjZWl2ZXIgb2YgdGhlIHRva2Vucy4KICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gc2VuZC4KICAgICAqIEByZXR1cm4gVHJ1ZSBvbiBzdWNjZXNzLCBmYWxzZSBvdGhlcndpc2UuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpCiAgICBwdWJsaWMKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gPSBTYWZlTWF0aC5hZGQoYmFsYW5jZXNbX3RvXSwgX3ZhbHVlKTsKICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gU2FmZU1hdGguc3ViKGJhbGFuY2VzW19mcm9tXSwgX3ZhbHVlKTsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBTYWZlTWF0aC5zdWIoYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0sIF92YWx1ZSk7CiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IFJldHVybnMgdGhlIGFjY291bnQgYmFsYW5jZSBvZiBhbm90aGVyIGFjY291bnQgd2l0aCBhZGRyZXNzIF9vd25lci4KICAgICAqCiAgICAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IHRvIGNoZWNrLgogICAgICogQHJldHVybiBUaGUgYWNjb3VudCBiYWxhbmNlLgogICAgICovCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpCiAgICBwdWJsaWMgY29uc3RhbnQKICAgIHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBBbGxvd3MgX3NwZW5kZXIgdG8gd2l0aGRyYXcgZnJvbSB5b3VyIGFjY291bnQgbXVsdGlwbGUgdGltZXMsIHVwIHRvIHRoZSBfdmFsdWUgYW1vdW50LiAKICAgICAqIEBkZXYgSWYgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYWdhaW4gaXQgb3ZlcndyaXRlcyB0aGUgY3VycmVudCBhbGxvd2FuY2Ugd2l0aCBfdmFsdWUuCiAgICAgKgogICAgICogQGRldiBOT1RFOiBUbyBwcmV2ZW50IGF0dGFjayB2ZWN0b3JzIGxpa2UgdGhlIG9uZSBkZXNjcmliZWQgaW4gWzFdIGFuZCBkaXNjdXNzZWQgaW4gWzJdLCBjbGllbnRzIAogICAgICogQGRldiBTSE9VTEQgbWFrZSBzdXJlIHRvIGNyZWF0ZSB1c2VyIGludGVyZmFjZXMgaW4gc3VjaCBhIHdheSB0aGF0IHRoZXkgc2V0IHRoZSBhbGxvd2FuY2UgZmlyc3QgCiAgICAgKiBAZGV2IHRvIDAgYmVmb3JlIHNldHRpbmcgaXQgdG8gYW5vdGhlciB2YWx1ZSBmb3IgdGhlIHNhbWUgc3BlbmRlci4gVEhPVUdIIFRoZSBjb250cmFjdCBpdHNlbGYgCiAgICAgKiBAZGV2IHNob3VsZG4ndCBlbmZvcmNlIGl0LCB0byBhbGxvdyBiYWNrd2FyZHMgY29tcGF0aWxpYmlsdHkgd2l0aCBjb250cmFjdHMgZGVwbG95ZWQgYmVmb3JlLgogICAgICogQGRldiBbMV0gaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQvZC8xWUxQdFF4WnUxVUF2TzljWjFPMlJQWEJiVDBtb29oNERZS2pBX2pwLVJMTS8KICAgICAqIEBkZXYgWzJdIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICAgKgogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgICAqIEByZXR1cm4gVHJ1ZSBvbiBzdWNjZXNzLCBmYWxzZSBvdGhlcndpc2UuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpCiAgICBwdWJsaWMKICAgIG9ubHlQYXlsb2FkU2l6ZSgyKQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IFJldHVybnMgdGhlIGFtb3VudCB3aGljaCBfc3BlbmRlciBpcyBzdGlsbCBhbGxvd2VkIHRvIHdpdGhkcmF3IGZyb20gX293bmVyLgogICAgICoKICAgICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlci4KICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjZWl2ZXIuCiAgICAgKiBAcmV0dXJuIFRoZSBhbGxvd2VkIHdpdGhkcmF3YWwgYW1vdW50LgogICAgICovCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpCiAgICBwdWJsaWMgY29uc3RhbnQKICAgIG9ubHlQYXlsb2FkU2l6ZSgyKQogICAgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KfQoKCi8qKgogKiBAdGl0bGUgVGhlIExDRFRva2VuIFRva2VuIGNvbnRyYWN0LgogKgogKiBDcmVkaXQ6IFRha2luZyBpZGVhcyBmcm9tIEJBVCB0b2tlbiBhbmQgTkVUIHRva2VuCiAqLwogLyppcyBTdGFuZGFyZFRva2VuICovCmNvbnRyYWN0IExDRFRva2VuIGlzIFN0YW5kYXJkVG9rZW4gewoKICAgIC8vIFRva2VuIG1ldGFkYXRhCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiTHVjeWQiOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiTENEIjsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgVE9LRU5fQ09NUEFOWV9PV05FRCA9IDEwICogKDEwKio2KSAqIDEwKipkZWNpbWFsczsgLy8gMTAgbWlsbGlvbiBMQ0RzCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBUT0tFTl9NSU5USU5HID0gMzAgKiAoMTAqKjYpICogMTAqKmRlY2ltYWxzOyAgICAgICAvLyAzMCBtaWxsaW9uIExDRHMKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFRPS0VOX0JVU0lORVNTID0gMTAgKiAoMTAqKjYpICogMTAqKmRlY2ltYWxzOyAgICAgICAvLyAxMCBtaWxsaW9uIExDRHMKCiAgICAvLyB3YWxsZXQgdGhhdCBpcyBhbGxvd2VkIHRvIGRpc3RyaWJ1dGUgdG9rZW5zIG9uIGJlaGFsZiBvZiB0aGUgYXBwIHN0b3JlCiAgICBhZGRyZXNzIHB1YmxpYyBBUFBfU1RPUkU7CgogICAgLy8gQWRtaW5pc3RyYXRvciBmb3IgbXVsdGktc2lnIG1lY2hhbmlzbQogICAgYWRkcmVzcyBwdWJsaWMgYWRtaW4xOwogICAgYWRkcmVzcyBwdWJsaWMgYWRtaW4yOwoKICAgIC8vIEFjY291bnRzIHRoYXQgYXJlIGFsbG93ZWQgdG8gZGVsaXZlciB0b2tlbnMKICAgIGFkZHJlc3MgcHVibGljIHRva2VuVmVuZG9yMTsKICAgIGFkZHJlc3MgcHVibGljIHRva2VuVmVuZG9yMjsKCiAgICAvLyBLZWVwIHRyYWNrIG9mIGhvbGRlcnMgYW5kIGljb0J1eWVycwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgaXNIb2xkZXI7IC8vIHRyYWNrIGlmIGEgdXNlciBpcyBhIGtub3duIHRva2VuIGhvbGRlciB0byB0aGUgc21hcnQgY29udHJhY3QgLSBpbXBvcnRhbnQgZm9yIHBheW91dHMgbGF0ZXIKICAgIGFkZHJlc3NbXSBwdWJsaWMgaG9sZGVyczsgICAgICAgICAgICAgICAgICAvLyBhcnJheSBvZiBhbGwga25vd24gaG9sZGVycyAtIGltcG9ydGFudCBmb3IgcGF5b3V0cyBsYXRlcgoKICAgIC8vIHN0b3JlIHRoZSBoYXNoZXMgb2YgYWRtaW5zJyBtc2cuZGF0YQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBieXRlczMyKSBwcml2YXRlIG11bHRpU2lnSGFzaGVzOwoKICAgIC8vIHRvIHRyYWNrIGlmIG1hbmFnZW1lbnQgYWxyZWFkeSBnb3QgdGhlaXIgdG9rZW5zCiAgICBib29sIHB1YmxpYyBtYW5hZ2VtZW50VG9rZW5zRGVsaXZlcmVkOwoKICAgIC8vIGN1cnJlbnQgYW1vdW50IG9mIGRpc2J1cnNlZCB0b2tlbnMKICAgIHVpbnQyNTYgcHVibGljIHRva2Vuc1NvbGQ7CgogICAgLy8gRXZlbnRzIHVzZWQgZm9yIGxvZ2dpbmcKICAgIGV2ZW50IExvZ0xDRFRva2Vuc0RlbGl2ZXJlZChhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBMb2dNYW5hZ2VtZW50VG9rZW5zRGVsaXZlcmVkKGFkZHJlc3MgaW5kZXhlZCBkaXN0cmlidXRvciwgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXV0aChzdHJpbmcgaW5kZXhlZCBhdXRoU3RyaW5nLCBhZGRyZXNzIGluZGV4ZWQgdXNlcik7CgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIC8vIGNoZWNrIGlmIHRyYW5zYWN0aW9uIHNlbmRlciBpcyBhZG1pbi4KICAgICAgICByZXF1aXJlIChtc2cuc2VuZGVyID09IGFkbWluMSB8fCBtc2cuc2VuZGVyID09IGFkbWluMik7CiAgICAgICAgLy8gaWYgeWVzLCBzdG9yZSBoaXMgbXNnLmRhdGEuIAogICAgICAgIG11bHRpU2lnSGFzaGVzW21zZy5zZW5kZXJdID0ga2VjY2FrMjU2KG1zZy5kYXRhKTsKICAgICAgICAvLyBjaGVjayBpZiBoaXMgc3RvcmVkIG1zZy5kYXRhIGhhc2ggZXF1YWxzIHRvIHRoZSBvbmUgb2YgdGhlIG90aGVyIGFkbWluCiAgICAgICAgaWYgKChtdWx0aVNpZ0hhc2hlc1thZG1pbjFdKSA9PSAobXVsdGlTaWdIYXNoZXNbYWRtaW4yXSkpIHsKICAgICAgICAgICAgLy8gaWYgeWVzLCBib3RoIGFkbWlucyBhZ3JlZWQgLSBjb250aW51ZS4KICAgICAgICAgICAgXzsKCiAgICAgICAgICAgIC8vIFJlc2V0IGhhc2hlcyBhZnRlciBzdWNjZXNzZnVsIGV4ZWN1dGlvbgogICAgICAgICAgICBtdWx0aVNpZ0hhc2hlc1thZG1pbjFdID0gMHgwOwogICAgICAgICAgICBtdWx0aVNpZ0hhc2hlc1thZG1pbjJdID0gMHgwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIGlmIG5vdCAoeWV0KSwgcmV0dXJuLgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlWZW5kb3IoKSB7CiAgICAgICAgcmVxdWlyZSgobXNnLnNlbmRlciA9PSB0b2tlblZlbmRvcjEpIHx8IChtc2cuc2VuZGVyID09IHRva2VuVmVuZG9yMikpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IENyZWF0ZSBhIG5ldyBMQ0RUb2tlbiBjb250cmFjdC4KICAgICAqCiAgICAgKiAgX2FkbWluMSBUaGUgZmlyc3QgYWRtaW4gYWNjb3VudCB0aGF0IG93bnMgdGhpcyBjb250cmFjdC4KICAgICAqICBfYWRtaW4yIFRoZSBzZWNvbmQgYWRtaW4gYWNjb3VudCB0aGF0IG93bnMgdGhpcyBjb250cmFjdC4KICAgICAqICBfdG9rZW5WZW5kb3IxIFRoZSBmaXJzdCB0b2tlbiB2ZW5kb3IKICAgICAqICBfdG9rZW5WZW5kb3IyIFRoZSBzZWNvbmQgdG9rZW4gdmVuZG9yCiAgICAgKi8KICAgIGZ1bmN0aW9uIExDRFRva2VuKAogICAgICAgIGFkZHJlc3MgX2FkbWluMSwKICAgICAgICBhZGRyZXNzIF9hZG1pbjIsCiAgICAgICAgYWRkcmVzcyBfdG9rZW5WZW5kb3IxLAogICAgICAgIGFkZHJlc3MgX3Rva2VuVmVuZG9yMiwKICAgICAgICBhZGRyZXNzIF9hcHBTdG9yZSwKICAgICAgICBhZGRyZXNzIF9idXNpbmVzc19kZXZlbG9wbWVudCkKICAgIHB1YmxpYwogICAgewogICAgICAgIC8vIGFkbWluMSBhbmQgYWRtaW4yIGFkZHJlc3MgbXVzdCBiZSBzZXQgYW5kIG11c3QgYmUgZGlmZmVyZW50CiAgICAgICAgcmVxdWlyZSAoX2FkbWluMSAhPSAweDApOwogICAgICAgIHJlcXVpcmUgKF9hZG1pbjIgIT0gMHgwKTsKICAgICAgICByZXF1aXJlIChfYWRtaW4xICE9IF9hZG1pbjIpOwoKICAgICAgICAvLyB0b2tlblZlbmRvcjEgYW5kIHRva2VuVmVuZG9yMiBtdXN0IGJlIHNldCBhbmQgbXVzdCBiZSBkaWZmZXJlbnQKICAgICAgICByZXF1aXJlIChfdG9rZW5WZW5kb3IxICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZSAoX3Rva2VuVmVuZG9yMiAhPSAweDApOwogICAgICAgIHJlcXVpcmUgKF90b2tlblZlbmRvcjEgIT0gX3Rva2VuVmVuZG9yMik7CgogICAgICAgIC8vIHRva2VuVmVuZG9ycyBtdXN0IGJlIGRpZmZlcmVudCBmcm9tIGFkbWlucwogICAgICAgIHJlcXVpcmUgKF90b2tlblZlbmRvcjEgIT0gX2FkbWluMSk7CiAgICAgICAgcmVxdWlyZSAoX3Rva2VuVmVuZG9yMSAhPSBfYWRtaW4yKTsKICAgICAgICByZXF1aXJlIChfdG9rZW5WZW5kb3IyICE9IF9hZG1pbjEpOwogICAgICAgIHJlcXVpcmUgKF90b2tlblZlbmRvcjIgIT0gX2FkbWluMik7CiAgICAgICAgcmVxdWlyZSAoX2FwcFN0b3JlICE9IDB4MCk7CgogICAgICAgIGFkbWluMSA9IF9hZG1pbjE7CiAgICAgICAgYWRtaW4yID0gX2FkbWluMjsKICAgICAgICB0b2tlblZlbmRvcjEgPSBfdG9rZW5WZW5kb3IxOwogICAgICAgIHRva2VuVmVuZG9yMiA9IF90b2tlblZlbmRvcjI7CgogICAgICAgIC8vIEluaXQgYXBwIHN0b3JlIGJhbGFuY2UKICAgICAgICBBUFBfU1RPUkUgPSBfYXBwU3RvcmU7CiAgICAgICAgYmFsYW5jZXNbX2FwcFN0b3JlXSA9IFRPS0VOX01JTlRJTkc7CiAgICAgICAgdHJhY2tIb2xkZXIoX2FwcFN0b3JlKTsKCiAgICAgICAgLy8gSW5pdCBidXNpbmVzcyBkZXZlbG9wbWVudCBiYWxhbmNlIHRvIGFkbWluMSAKICAgICAgICBiYWxhbmNlc1tfYWRtaW4xXSA9IFRPS0VOX0JVU0lORVNTOwogICAgICAgIHRyYWNrSG9sZGVyKF9idXNpbmVzc19kZXZlbG9wbWVudCk7CgogICAgICAgIHRvdGFsU3VwcGx5ID0gU2FmZU1hdGguYWRkKFRPS0VOX01JTlRJTkcsIFRPS0VOX0JVU0lORVNTKTsKICAgIH0KCiAgICAvLyBBbGxvd3MgdG8gZmlndXJlIG91dCB0aGUgYW1vdW50IG9mIGtub3duIHRva2VuIGhvbGRlcnMKICAgIGZ1bmN0aW9uIGdldEhvbGRlckNvdW50KCkKICAgIHB1YmxpYwogICAgY29uc3RhbnQKICAgIHJldHVybnMgKHVpbnQyNTYgX2hvbGRlckNvdW50KQogICAgewogICAgICAgIHJldHVybiBob2xkZXJzLmxlbmd0aDsKICAgIH0KCiAgICAvLyBBbGxvd3MgZm9yIGVhc2llciByZXRyaWV2YWwgb2YgaG9sZGVyIGJ5IGFycmF5IGluZGV4CiAgICBmdW5jdGlvbiBnZXRIb2xkZXIodWludDI1NiBfaW5kZXgpCiAgICBwdWJsaWMKICAgIGNvbnN0YW50CiAgICByZXR1cm5zIChhZGRyZXNzIF9ob2xkZXIpCiAgICB7CiAgICAgICAgcmV0dXJuIGhvbGRlcnNbX2luZGV4XTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFja0hvbGRlcihhZGRyZXNzIF90bykKICAgIHByaXZhdGUKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykKICAgIHsKICAgICAgICAvLyBDaGVjayBpZiB0aGUgcmVjaXBpZW50IGlzIGEga25vd24gdG9rZW4gaG9sZGVyCiAgICAgICAgaWYgKGlzSG9sZGVyW190b10gPT0gZmFsc2UpIHsKICAgICAgICAgICAgLy8gaWYgbm90LCBhZGQgaGltIHRvIHRoZSBob2xkZXJzIGFycmF5IGFuZCBtYXJrIGhpbSBhcyBhIGtub3duIGhvbGRlcgogICAgICAgICAgICBob2xkZXJzLnB1c2goX3RvKTsKICAgICAgICAgICAgaXNIb2xkZXJbX3RvXSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAZGV2IFRyYW5zZmVyIExDRCB0b2tlbnMKICAgIGZ1bmN0aW9uIGRlbGl2ZXJUb2tlbnMoYWRkcmVzcyBfYnV5ZXIsIHVpbnQyNTYgX2Ftb3VudCkgLy8gYW1vdW50IGlucHV0IHdpbGwgIGJlIGluIGNlbnRzCiAgICBleHRlcm5hbAogICAgb25seVZlbmRvcgogICAgcmV0dXJucyhib29sIHN1Y2Nlc3MpCiAgICB7CiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCBiZWZvcmUgTWF5IDEsIDIwMTgKICAgICAgICByZXF1aXJlKGJsb2NrLnRpbWVzdGFtcCA8PSAxNTI1MTI1NjAwKTsKCiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBudW1iZXIgb2YgdG9rZW5zIGZyb20gdGhlIGdpdmVuIGFtb3VudCBpbiBjZW50cwogICAgICAgIHVpbnQyNTYgdG9rZW5zID0gU2FmZU1hdGgubXVsKF9hbW91bnQsIDEwKipkZWNpbWFscyAvIDEwMCk7CgogICAgICAgIC8vIHVwZGF0ZSBzdGF0ZQogICAgICAgIHVpbnQyNTYgb2xkQmFsYW5jZSA9IGJhbGFuY2VzW19idXllcl07CiAgICAgICAgYmFsYW5jZXNbX2J1eWVyXSA9IFNhZmVNYXRoLmFkZChvbGRCYWxhbmNlLCB0b2tlbnMpOwogICAgICAgIHRva2Vuc1NvbGQgPSBTYWZlTWF0aC5hZGQodG9rZW5zU29sZCwgdG9rZW5zKTsKICAgICAgICB0b3RhbFN1cHBseSA9IFNhZmVNYXRoLmFkZCh0b3RhbFN1cHBseSwgdG9rZW5zKTsKICAgICAgICB0cmFja0hvbGRlcihfYnV5ZXIpOwoKICAgICAgICAvLyBMb2cgdGhlIHRyYW5zZmVyIG9mIHRoZXNlIHRva2VucwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF9idXllciwgdG9rZW5zKTsKICAgICAgICBMb2dMQ0RUb2tlbnNEZWxpdmVyZWQoX2J1eWVyLCB0b2tlbnMpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIEBkZXYgVHJhbnNmZXIgdG9rZW5zIHRvIG1hbmFnZW1lbnQgd2FsbGV0CiAgICBmdW5jdGlvbiBkZWxpdmVyTWFuYWdlbWVudFRva2VucyhhZGRyZXNzIF9tYW5hZ2VtZW50V2FsbGV0KQogICAgZXh0ZXJuYWwKICAgIG9ubHlPd25lcgogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQogICAgewogICAgICAgIC8vIGNoZWNrIGlmIG1hbmFnZW1lbnQgdG9rZW5zIGFyZSBhbHJlYWR5IHVubG9ja2VkLCBpZiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIGFmdGVyIE1hcmNoIDMxLiwgMjAxOQogICAgICAgIHJlcXVpcmUoYmxvY2sudGltZXN0YW1wID49IDE1NTM5OTA0MDApOwoKICAgICAgICAvLyBEZWxpdmVyIG1hbmFnZW1lbnQgdG9rZW5zIG9ubHkgb25jZQogICAgICAgIHJlcXVpcmUobWFuYWdlbWVudFRva2Vuc0RlbGl2ZXJlZCA9PSBmYWxzZSk7CgogICAgICAgIC8vIHVwZGF0ZSBzdGF0ZQogICAgICAgIGJhbGFuY2VzW19tYW5hZ2VtZW50V2FsbGV0XSA9IFRPS0VOX0NPTVBBTllfT1dORUQ7CiAgICAgICAgdG90YWxTdXBwbHkgPSBTYWZlTWF0aC5hZGQodG90YWxTdXBwbHksIFRPS0VOX0NPTVBBTllfT1dORUQpOwogICAgICAgIG1hbmFnZW1lbnRUb2tlbnNEZWxpdmVyZWQgPSB0cnVlOwogICAgICAgIHRyYWNrSG9sZGVyKF9tYW5hZ2VtZW50V2FsbGV0KTsKCiAgICAgICAgLy8gTG9nIHRoZSB0cmFuc2ZlciBvZiB0aGVzZSB0b2tlbnMKICAgICAgICBUcmFuc2ZlcihhZGRyZXNzKHRoaXMpLCBfbWFuYWdlbWVudFdhbGxldCwgVE9LRU5fQ09NUEFOWV9PV05FRCk7CiAgICAgICAgTG9nTWFuYWdlbWVudFRva2Vuc0RlbGl2ZXJlZChfbWFuYWdlbWVudFdhbGxldCwgVE9LRU5fQ09NUEFOWV9PV05FRCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gVXNpbmcgdGhpcyBmb3IgY3JlYXRpbmcgYSByZWZlcmVuY2UgYmV0d2VlbiBFVEggd2FsbGV0cyBhbmQgYWNjb3VudHMgaW4gdGhlIEx1Y3lkIGJhY2tlbmQKICAgIGZ1bmN0aW9uIGF1dGgoc3RyaW5nIF9hdXRoU3RyaW5nKQogICAgZXh0ZXJuYWwKICAgIHsKICAgICAgICBBdXRoKF9hdXRoU3RyaW5nLCBtc2cuc2VuZGVyKTsKICAgIH0KfQ=='.
	

]
