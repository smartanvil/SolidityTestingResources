Class {
	#name : #SRT5a9e485a792b164007c6c76d15f8fa36c19ca631,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5a9e485a792b164007c6c76d15f8fa36c19ca631 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjA7Cgpjb250cmFjdCBHZW5lc2lzUHJvdGVjdGVkIHsKICAgIG1vZGlmaWVyIGFkZHJOb3ROdWxsKGFkZHJlc3MgX2FkZHJlc3MpIHsKICAgICAgICByZXF1aXJlKF9hZGRyZXNzICE9IGFkZHJlc3MoMCkpOwogICAgICAgIF87CiAgICB9Cn0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIFRoZSBvcmlnaW5hbCBjb2RlIGlzIHRha2VuIGZyb206Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHk6Ci8vICAgICBtYXN0ZXIgYnJhbmNoIGZyb20gemVwcGVsaW4tc29saWRpdHkvY29udHJhY3RzL293bmVyc2hpcC9Pd25hYmxlLnNvbAovLyBDaGFuZ2VkIGZ1bmN0aW9uIG5hbWU6IHRyYW5zZmVyT3duZXJzaGlwIC0+IHNldE93bmVyLgovLyBBZGRlZCBpbmhlcml0YW5jZSBmcm9tIEdlbmVzaXNQcm90ZWN0ZWQgKGFkZHJlc3MgIT0gMHgwKS4KLy8gc2V0T3duZXIgcmVmYWN0b3JlZCBmb3IgZW1pdHRpbmcgYWZ0ZXIgb3duZXIgcmVwbGFjaW5nLgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSBpcyBHZW5lc2lzUHJvdGVjdGVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIC8qKgogICAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICAgKiBhY2NvdW50LgogICAgICovCiAgICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICAgKi8KICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIF9uZXcuCiAgICAgKiBAcGFyYW0gYSBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldE93bmVyKGFkZHJlc3MgYSkgZXh0ZXJuYWwgb25seU93bmVyIGFkZHJOb3ROdWxsKGEpIHsKICAgICAgICBvd25lciA9IGE7CiAgICAgICAgZW1pdCBPd25lcnNoaXBSZXBsYWNlZChtc2cuc2VuZGVyLCBhKTsKICAgIH0KCiAgICBldmVudCBPd25lcnNoaXBSZXBsYWNlZCgKICAgICAgICBhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwKICAgICAgICBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIKICAgICk7Cn0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIEVSQyBUb2tlbiBTdGFuZGFyZCAjMjAgSW50ZXJmYWNlCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2Jsb2IvbWFzdGVyL0VJUFMvZWlwLTIwLm1kCi8vIFRoZSBvcmlnaW5hbCBjb2RlIGlzIHRha2VuIGZyb206Ci8vIGh0dHBzOi8vdGhlZXRoZXJldW0ud2lraS93L2luZGV4LnBocC9FUkMyMF9Ub2tlbl9TdGFuZGFyZAovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvbnRyYWN0IEVSQzIwSW50ZXJmYWNlIHsKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgdG9rZW5Pd25lcikKICAgICAgICBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKTsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIHRva2VuT3duZXIsIGFkZHJlc3Mgc3BlbmRlcikKICAgICAgICBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB0b2tlbnMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdG9rZW5zKQogICAgICAgIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB0b2tlbnMpCiAgICAgICAgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB0b2tlbnMpOwogICAgZXZlbnQgQXBwcm92YWwoCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIHRva2VuT3duZXIsCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsCiAgICAgICAgdWludCB0b2tlbnMKICAgICk7Cn0KCmNvbnRyYWN0IEVudW1zIHsKICAgIC8vIFR5cGUgZm9yIG1hcHBpbmcgdWludCAoaW5kZXgpID0+IG5hbWUgZm9yIGJhc2tldHMgdHlwZXMgZGVzY3JpYmVkIGluIFdQCiAgICBlbnVtIEJhc2tldFR5cGUgewogICAgICAgIHVua25vd24sIC8vIDAgdW5rbm93bgogICAgICAgIHRlYW0sIC8vIDEgVGVhbQogICAgICAgIGZvdW5kYXRpb24sIC8vIDIgRm91bmRhdGlvbgogICAgICAgIGFyciwgLy8gMyBBZHZlcnRpc2VtZW50LCBSZWZlcnJhbCBwcm9ncmFtLCBSZXdhcmQKICAgICAgICBhZHZpc29ycywgLy8gNCBBZHZpc29ycwogICAgICAgIGJvdW50eSwgLy8gNSBCb3VudHkKICAgICAgICByZWZlcnJhbCwgLy8gNiBSZWZlcnJhbAogICAgICAgIHJlZmVycmVyIC8vIDcgUmVmZXJyZXIKICAgIH0KfQoKCmNvbnRyYWN0IFdQVG9rZW5zQmFza2V0cyBpcyBPd25hYmxlLCBFbnVtcyB7CiAgICAvLyBUaGlzIG1hcHBpbmcgaG9sZHMgYWxsIGFjY291bnRzIGV2ZXIgdXNlZCBhcyBiYXNrZXRzIGZvcmV2ZXIKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gQmFza2V0VHlwZSkgaW50ZXJuYWwgdHlwZXM7CgogICAgLy8gQmFza2V0cyBmb3IgdG9rZW5zCiAgICBhZGRyZXNzIHB1YmxpYyB0ZWFtOwogICAgYWRkcmVzcyBwdWJsaWMgZm91bmRhdGlvbjsKICAgIGFkZHJlc3MgcHVibGljIGFycjsKICAgIGFkZHJlc3MgcHVibGljIGFkdmlzb3JzOwogICAgYWRkcmVzcyBwdWJsaWMgYm91bnR5OwoKICAgIC8vIFB1YmxpYyBjb25zdHJ1Y3RvcgogICAgZnVuY3Rpb24gV1BUb2tlbnNCYXNrZXRzKAogICAgICAgIGFkZHJlc3MgX3RlYW0sCiAgICAgICAgYWRkcmVzcyBfZm91bmRhdGlvbiwKICAgICAgICBhZGRyZXNzIF9hcnIsCiAgICAgICAgYWRkcmVzcyBfYWR2aXNvcnMsCiAgICAgICAgYWRkcmVzcyBfYm91bnR5CiAgICApCiAgICAgICAgcHVibGljCiAgICB7CiAgICAgICAgc2V0VGVhbShfdGVhbSk7CiAgICAgICAgc2V0Rm91bmRhdGlvbihfZm91bmRhdGlvbik7CiAgICAgICAgc2V0QVJSKF9hcnIpOwogICAgICAgIHNldEFkdmlzb3JzKF9hZHZpc29ycyk7CiAgICAgICAgc2V0Qm91bnR5KF9ib3VudHkpOwogICAgfQoKICAgIC8vIEZhbGxiYWNrIGZ1bmN0aW9uIC0gZG8gbm90IGFwcGx5IGFueSBldGhlciB0byB0aGlzIGNvbnRyYWN0LgogICAgZnVuY3Rpb24gKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICAgICAgcmV2ZXJ0KCk7CiAgICB9CgogICAgLy8gTGFzdCByZXNvcnQgdG8gcmV0dXJuIGV0aGVyLgogICAgLy8gU2VlIHRoZSBsYXN0IHdhcm5pbmcgYXQKICAgIC8vIGh0dHA6Ly9zb2xpZGl0eS5yZWFkdGhlZG9jcy5pby9lbi9kZXZlbG9wL2NvbnRyYWN0cy5odG1sI2ZhbGxiYWNrLWZ1bmN0aW9uCiAgICAvLyBmb3Igc3VjaCBjYXNlcy4KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRXRoZXJUbyhhZGRyZXNzIGEpIGV4dGVybmFsIG9ubHlPd25lciBhZGRyTm90TnVsbChhKSB7CiAgICAgICAgYS50cmFuc2ZlcihhZGRyZXNzKHRoaXMpLmJhbGFuY2UpOwogICAgfQoKICAgIGZ1bmN0aW9uIHR5cGVPZihhZGRyZXNzIGEpIHB1YmxpYyB2aWV3IHJldHVybnMgKEJhc2tldFR5cGUpIHsKICAgICAgICByZXR1cm4gdHlwZXNbYV07CiAgICB9CgogICAgLy8gUmV0dXJuIHRydXRoIGlmIGdpdmVuIGFkZHJlc3MgaXMgbm90IHJlZ2lzdGVyZWQgYXMgdG9rZW4gYmFza2V0LgogICAgZnVuY3Rpb24gaXNVbmtub3duKGFkZHJlc3MgYSkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiB0eXBlc1thXSA9PSBCYXNrZXRUeXBlLnVua25vd247CiAgICB9CgogICAgZnVuY3Rpb24gaXNUZWFtKGFkZHJlc3MgYSkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiB0eXBlc1thXSA9PSBCYXNrZXRUeXBlLnRlYW07CiAgICB9CgogICAgZnVuY3Rpb24gaXNGb3VuZGF0aW9uKGFkZHJlc3MgYSkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiB0eXBlc1thXSA9PSBCYXNrZXRUeXBlLmZvdW5kYXRpb247CiAgICB9CgogICAgZnVuY3Rpb24gc2V0VGVhbShhZGRyZXNzIGEpIHB1YmxpYyBvbmx5T3duZXIgYWRkck5vdE51bGwoYSkgewogICAgICAgIHJlcXVpcmUoaXNVbmtub3duKGEpKTsKICAgICAgICB0eXBlc1t0ZWFtID0gYV0gPSBCYXNrZXRUeXBlLnRlYW07CiAgICB9CgogICAgZnVuY3Rpb24gc2V0Rm91bmRhdGlvbihhZGRyZXNzIGEpIHB1YmxpYyBvbmx5T3duZXIgYWRkck5vdE51bGwoYSkgewogICAgICAgIHJlcXVpcmUoaXNVbmtub3duKGEpKTsKICAgICAgICB0eXBlc1tmb3VuZGF0aW9uID0gYV0gPSBCYXNrZXRUeXBlLmZvdW5kYXRpb247CiAgICB9CgogICAgZnVuY3Rpb24gc2V0QVJSKGFkZHJlc3MgYSkgcHVibGljIG9ubHlPd25lciBhZGRyTm90TnVsbChhKSB7CiAgICAgICAgcmVxdWlyZShpc1Vua25vd24oYSkpOwogICAgICAgIHR5cGVzW2FyciA9IGFdID0gQmFza2V0VHlwZS5hcnI7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0QWR2aXNvcnMoYWRkcmVzcyBhKSBwdWJsaWMgb25seU93bmVyIGFkZHJOb3ROdWxsKGEpIHsKICAgICAgICByZXF1aXJlKGlzVW5rbm93bihhKSk7CiAgICAgICAgdHlwZXNbYWR2aXNvcnMgPSBhXSA9IEJhc2tldFR5cGUuYWR2aXNvcnM7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0Qm91bnR5KGFkZHJlc3MgYSkgcHVibGljIG9ubHlPd25lciBhZGRyTm90TnVsbChhKSB7CiAgICAgICAgcmVxdWlyZSh0eXBlc1thXSA9PSBCYXNrZXRUeXBlLnVua25vd24pOwogICAgICAgIHR5cGVzW2JvdW50eSA9IGFdID0gQmFza2V0VHlwZS5ib3VudHk7CiAgICB9Cn0KCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gVGhlIG9yaWdpbmFsIGNvZGUgaXMgdGFrZW4gZnJvbToKLy8gaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eToKLy8gICAgIG1hc3RlciBicmFuY2ggZnJvbSB6ZXBwZWxpbi1zb2xpZGl0eS9jb250cmFjdHMvbWF0aC9TYWZlTWF0aC5zb2wKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgICAvKioKICAgICAqIEBkZXYgTXVsdGlwbGllcyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93LgogICAgICovCiAgICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGlmIChhID09IDApCiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgSW50ZWdlciBkaXZpc2lvbiBvZiB0d28gbnVtYmVycywgdHJ1bmNhdGluZyB0aGUgcXVvdGllbnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICAgICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAgICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgU3VidHJhY3RzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cgKGkuZS4gaWYgc3VidHJhaGVuZCBpcwogICAgICogZ3JlYXRlciB0aGFuIG1pbnVlbmQpLgogICAgICovCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQWRkcyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93LgogICAgICovCiAgICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9CgoKY29udHJhY3QgVG9rZW4gaXMgT3duYWJsZSwgRVJDMjBJbnRlcmZhY2UsIEVudW1zIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICAgIC8vIFRva2VuIGZ1bGwgbmFtZQogICAgc3RyaW5nIHByaXZhdGUgY29uc3RhbnQgTkFNRSA9ICJFbnZpc2lvblggRVhDSEFJTiBUb2tlbiI7CiAgICAvLyBUb2tlbiBzeW1ib2wgbmFtZQogICAgc3RyaW5nIHByaXZhdGUgY29uc3RhbnQgU1lNQk9MID0gIkVYVCI7CiAgICAvLyBUb2tlbiBtYXggZnJhY3Rpb24sIGluIGRlY2ltYWwgc2lnbnMgYWZ0ZXIgdGhlIHBvaW50CiAgICB1aW50OCBwcml2YXRlIGNvbnN0YW50IERFQ0lNQUxTID0gMTg7CgogICAgLy8gVG9rZW5zIG1heCBzdXBwbHksIGluIEVYVHdlaQogICAgdWludCBwdWJsaWMgY29uc3RhbnQgTUFYX1NVUFBMWSA9IDMwMDAwMDAwMDAgKiAoMTAqKnVpbnQoREVDSU1BTFMpKTsKCiAgICAvLyBUb2tlbnMgYmFsYW5jZXMgbWFwCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgaW50ZXJuYWwgYmFsYW5jZXM7CgogICAgLy8gTWFwcyB3aXRoIGFsbG93ZWQgYW1vdW50cyBmb3QgVHJhbnNmZXJGcm9tCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIGludGVybmFsIGFsbG93ZWQ7CgogICAgLy8gVG90YWwgYW1vdW50IG9mIGlzc3VlZCB0b2tlbnMsIGluIEVYVHdlaQogICAgdWludCBpbnRlcm5hbCBfdG90YWxTdXBwbHk7CgogICAgLy8gTWFwIHdpdGggRXRoZXIgZm91bmRzIGFtb3VudCBieSBhZGRyZXNzICh1c2luZyB3aGVuIHJlZnVuZHMpCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgaW50ZXJuYWwgZXRoZXJGdW5kczsKICAgIHVpbnQgaW50ZXJuYWwgX2Vhcm5lZEZ1bmRzOwogICAgLy8gTWFwIHdpdGggcmVmdW5kZWQgYWRkcmVzZXMgKEJsYWNrIExpc3QpCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgaW50ZXJuYWwgcmVmdW5kZWQ7CgogICAgLy8gQWRkcmVzcyBvZiBzYWxlIGFnZW50IChhIGNvbnRyYWN0KSB3aGljaCBjYW4gbWludCBuZXcgdG9rZW5zCiAgICBhZGRyZXNzIHB1YmxpYyBtaW50QWdlbnQ7CgogICAgLy8gVG9rZW4gdHJhbnNmZXIgYWxsb3dlZCBvbmx5IHdoZW4gdG9rZW4gbWludGluZyBpcyBmaW5pc2hlZAogICAgYm9vbCBwdWJsaWMgaXNNaW50aW5nRmluaXNoZWQgPSBmYWxzZTsKICAgIC8vIFdoZW4gbWludGluZyB3YXMgZmluaXNoZWQKICAgIHVpbnQgcHVibGljIG1pbnRpbmdTdG9wRGF0ZTsKCiAgICAvLyBUb3RhbCBhbW91bnQgb2YgdG9rZW5zIG1pbnRlZCB0byB0ZWFtIGJhc2tldCwgaW4gRVhUd2VpLgogICAgLy8gVGhpcyB3aWxsIG5vdCBpbmNsdWRlIHRva2VucywgdHJhbnNmZXJyZWQgdG8gdGVhbSBiYXNrZXQKICAgIC8vIGFmdGVyIG1pbnRpbmcgaXMgZmluaXNoZWQuCiAgICB1aW50IHB1YmxpYyB0ZWFtVG90YWw7CiAgICAvLyBBbW91bnQgb2YgdG9rZW5zIHNwZW50IGJ5IHRlYW0gaW4gZmlyc3QgOTYgd2Vla3Mgc2luY2UKICAgIC8vIG1pbnRpbmcgZmluaXNoIGRhdGUuIFVzZWQgdG8gY2FsY3VsYXRlIHRlYW0gc3BlbmQKICAgIC8vIHJlc3RyaWN0aW9ucyBhY2NvcmRpbmcgdG8gSUNPIFdoaXRlIFBhcGVyLgogICAgdWludCBwdWJsaWMgc3BlbnRCeVRlYW07CgogICAgLy8gQWRkcmVzcyBvZiBXUFRva2Vuc0Jhc2tldHMgY29udHJhY3QKICAgIFdQVG9rZW5zQmFza2V0cyBwdWJsaWMgd3BUb2tlbnNCYXNrZXRzOwoKICAgIC8vIENvbnN0cnVjdG9yCiAgICBmdW5jdGlvbiBUb2tlbihXUFRva2Vuc0Jhc2tldHMgYmFza2V0cykgcHVibGljIHsKICAgICAgICB3cFRva2Vuc0Jhc2tldHMgPSBiYXNrZXRzOwogICAgICAgIG1pbnRBZ2VudCA9IG93bmVyOwogICAgfQoKICAgIC8vIEZhbGxiYWNrIGZ1bmN0aW9uIC0gZG8gbm90IGFwcGx5IGFueSBldGhlciB0byB0aGlzIGNvbnRyYWN0LgogICAgZnVuY3Rpb24gKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICAgICAgcmV2ZXJ0KCk7CiAgICB9CgogICAgLy8gTGFzdCByZXNvcnQgdG8gcmV0dXJuIGV0aGVyLgogICAgLy8gU2VlIHRoZSBsYXN0IHdhcm5pbmcgYXQKICAgIC8vIGh0dHA6Ly9zb2xpZGl0eS5yZWFkdGhlZG9jcy5pby9lbi9kZXZlbG9wL2NvbnRyYWN0cy5odG1sI2ZhbGxiYWNrLWZ1bmN0aW9uCiAgICAvLyBmb3Igc3VjaCBjYXNlcy4KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRXRoZXJUbyhhZGRyZXNzIGEpIGV4dGVybmFsIG9ubHlPd25lciBhZGRyTm90TnVsbChhKSB7CiAgICAgICAgYS50cmFuc2ZlcihhZGRyZXNzKHRoaXMpLmJhbGFuY2UpOwogICAgfQoKICAgIC8qKgogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgRVJDMjAgSW50ZXJmYWNlIGltcGxlbWVudGF0aW9uCiAgICAqLwoKICAgIC8vIFJldHVybiB0b2tlbiBmdWxsIG5hbWUKICAgIGZ1bmN0aW9uIG5hbWUoKSBwdWJsaWMgcHVyZSByZXR1cm5zIChzdHJpbmcpIHsKICAgICAgICByZXR1cm4gTkFNRTsKICAgIH0KCiAgICAvLyBSZXR1cm4gdG9rZW4gc3ltYm9sIG5hbWUKICAgIGZ1bmN0aW9uIHN5bWJvbCgpIHB1YmxpYyBwdXJlIHJldHVybnMgKHN0cmluZykgewogICAgICAgIHJldHVybiBTWU1CT0w7CiAgICB9CgogICAgLy8gUmV0dXJuIGFtb3VudCBvZiBkZWNpbWFscyBhZnRlciBwb2ludAogICAgZnVuY3Rpb24gZGVjaW1hbHMoKSBwdWJsaWMgcHVyZSByZXR1cm5zICh1aW50OCkgewogICAgICAgIHJldHVybiBERUNJTUFMUzsKICAgIH0KCiAgICAvLyBSZXR1cm4gdG90YWwgYW1vdW50IG9mIGlzc3VlZCB0b2tlbnMsIGluIEVYVHdlaQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBfdG90YWxTdXBwbHk7CiAgICB9CgogICAgLy8gUmV0dXJuIGFjY291bnQgYmFsYW5jZSBpbiB0b2tlbnMgKGluIEVYVHdlaSkKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfYWRkcmVzc107CiAgICB9CgogICAgLy8gVHJhbnNmZXIgdG9rZW5zIHRvIGFub3RoZXIgYWNjb3VudAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkKICAgICAgICBwdWJsaWMKICAgICAgICBhZGRyTm90TnVsbCh0bykKICAgICAgICByZXR1cm5zIChib29sKQogICAgewogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA8IHZhbHVlKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgaWYgKGlzRnJvemVuKHdwVG9rZW5zQmFza2V0cy50eXBlT2YobXNnLnNlbmRlciksIHZhbHVlKSkKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKHZhbHVlKTsKICAgICAgICBiYWxhbmNlc1t0b10gPSBiYWxhbmNlc1t0b10uYWRkKHZhbHVlKTsKICAgICAgICBzYXZlVGVhbVNwZW50KG1zZy5zZW5kZXIsIHZhbHVlKTsKICAgICAgICBlbWl0IFRyYW5zZmVyKG1zZy5zZW5kZXIsIHRvLCB2YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFjY291bnQgdG8gYW5vdGhlciwKICAgIC8vIHVzaW5nIHBlcm1pc3Npb25zIGRlZmluZWQgd2l0aCBhcHByb3ZlKCkgbWV0aG9kLgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkKICAgICAgICBwdWJsaWMKICAgICAgICBhZGRyTm90TnVsbCh0bykKICAgICAgICByZXR1cm5zIChib29sKQogICAgewogICAgICAgIGlmIChiYWxhbmNlc1tmcm9tXSA8IHZhbHVlKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgaWYgKGFsbG93YW5jZShmcm9tLCBtc2cuc2VuZGVyKSA8IHZhbHVlKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgaWYgKGlzRnJvemVuKHdwVG9rZW5zQmFza2V0cy50eXBlT2YoZnJvbSksIHZhbHVlKSkKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIGJhbGFuY2VzW2Zyb21dID0gYmFsYW5jZXNbZnJvbV0uc3ViKHZhbHVlKTsKICAgICAgICBiYWxhbmNlc1t0b10gPSBiYWxhbmNlc1t0b10uYWRkKHZhbHVlKTsKICAgICAgICBhbGxvd2VkW2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtmcm9tXVttc2cuc2VuZGVyXS5zdWIodmFsdWUpOwogICAgICAgIHNhdmVUZWFtU3BlbnQoZnJvbSwgdmFsdWUpOwogICAgICAgIGVtaXQgVHJhbnNmZXIoZnJvbSwgdG8sIHZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBBbGxvdyB0byB0cmFuc2ZlciBnaXZlbiBhbW91bnQgb2YgdG9rZW5zIChpbiBFWFR3ZWkpCiAgICAvLyB0byBhY2NvdW50IHdoaWNoIGlzIG5vdCBvd25lci4KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyID09IHNwZW5kZXIpCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW3NwZW5kZXJdID0gdmFsdWU7CiAgICAgICAgZW1pdCBBcHByb3ZhbChtc2cuc2VuZGVyLCBzcGVuZGVyLCB2YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gUmV0dXJuIGFtb3VudCBvZiB0b2tlbnMgKGluIEVYVHdlaSkgd2hpY2ggYWxsb3dlZCB0bwogICAgLy8gYmUgdHJhbnNmZXJyZWQgYnkgbm9uLW93bmVyIHNwZW5kZXIKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBzcGVuZGVyKQogICAgICAgIHB1YmxpYwogICAgICAgIGNvbnN0YW50CiAgICAgICAgcmV0dXJucyAodWludCkKICAgIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW3NwZW5kZXJdOwogICAgfQoKICAgIC8qKgogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgT3RoZXIgbWV0aG9kcwogICAgKi8KCiAgICAvLyBSZXR1cm4gYWNjb3VudCBmdW5kcyBpbiBldGhlciAoaW4gd2VpKQogICAgZnVuY3Rpb24gZXRoZXJGdW5kc09mKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIGV0aGVyRnVuZHNbX2FkZHJlc3NdOwogICAgfQoKICAgIC8vIFJldHVybiB0b3RhbCBhbW91bnQgb2YgZnVuZGVkIGV0aGVyLCBpbiB3ZWkKICAgIGZ1bmN0aW9uIGVhcm5lZEZ1bmRzKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gX2Vhcm5lZEZ1bmRzOwogICAgfQoKICAgIC8vIFJldHVybiB0cnVlIGlmIGdpdmVuIGFkZHJlc3MgaGF2ZSBiZWVuIHJlZnVuZGVkCiAgICBmdW5jdGlvbiBpc1JlZnVuZGVkKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gcmVmdW5kZWRbX2FkZHJlc3NdOwogICAgfQoKICAgIC8vIFNldCBuZXcgYWRkcmVzcyBvZiBzYWxlIGFnZW50IGNvbnRyYWN0LgogICAgLy8gV2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggc2FsZSBzdGFnZTogUHJpdmF0ZVNhbGUsIFByZVNhbGUsIE1haW5TYWxlLgogICAgZnVuY3Rpb24gc2V0TWludEFnZW50KGFkZHJlc3MgYSkgcHVibGljIG9ubHlPd25lciBhZGRyTm90TnVsbChhKSB7CiAgICAgICAgZW1pdCBNaW50QWdlbnRSZXBsYWNlZChtaW50QWdlbnQsIGEpOwogICAgICAgIG1pbnRBZ2VudCA9IGE7CiAgICB9CgogICAgLy8gSW50ZXJmYWNlIGZvciBzYWxlIGFnZW50IGNvbnRyYWN0IC0gbWludCBuZXcgdG9rZW5zCiAgICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgdG8sIHVpbnQyNTYgZXh0QW1vdW50LCB1aW50MjU2IGV0aGVyQW1vdW50KSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoIWlzTWludGluZ0ZpbmlzaGVkKTsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gbWludEFnZW50KTsKICAgICAgICByZXF1aXJlKCFyZWZ1bmRlZFt0b10pOwogICAgICAgIF90b3RhbFN1cHBseSA9IF90b3RhbFN1cHBseS5hZGQoZXh0QW1vdW50KTsKICAgICAgICByZXF1aXJlKF90b3RhbFN1cHBseSA8PSBNQVhfU1VQUExZKTsKICAgICAgICBiYWxhbmNlc1t0b10gPSBiYWxhbmNlc1t0b10uYWRkKGV4dEFtb3VudCk7CiAgICAgICAgaWYgKHdwVG9rZW5zQmFza2V0cy5pc1Vua25vd24odG8pKSB7CiAgICAgICAgICAgIF9lYXJuZWRGdW5kcyA9IF9lYXJuZWRGdW5kcy5hZGQoZXRoZXJBbW91bnQpOwogICAgICAgICAgICBldGhlckZ1bmRzW3RvXSA9IGV0aGVyRnVuZHNbdG9dLmFkZChldGhlckFtb3VudCk7CiAgICAgICAgfSBlbHNlIGlmICh3cFRva2Vuc0Jhc2tldHMuaXNUZWFtKHRvKSkgewogICAgICAgICAgICB0ZWFtVG90YWwgPSB0ZWFtVG90YWwuYWRkKGV4dEFtb3VudCk7CiAgICAgICAgfQogICAgICAgIGVtaXQgTWludCh0bywgZXh0QW1vdW50KTsKICAgICAgICBlbWl0IFRyYW5zZmVyKG1zZy5zZW5kZXIsIHRvLCBleHRBbW91bnQpOwogICAgfQoKICAgIC8vIERlc3Ryb3kgbWludGVkIHRva2VucyBhbmQgcmVmdW5kIGV0aGVyIHNwZW50IGJ5IGludmVzdG9yLgogICAgLy8gVXNlZCBpbiBBTUwgKEFudGkgTW9uZXkgTGF1bmRlcmluZykgd29ya2Zsb3cuCiAgICAvLyBXaWxsIGJlIGNhbGxlZCBvbmx5IGJ5IGh1bWFucyBiZWNhdXNlIHRoZXJlIGlzIG5vIHdheQogICAgLy8gdG8gd2l0aGRyYXcgY3Jvd2RmdW5kZWQgZXRoZXIgZnJvbSBCZW5lZmljaWFyeSBhY2NvdW50CiAgICAvLyBmcm9tIGNvbnRleHQgb2YgdGhpcyBhY2NvdW50LgogICAgLy8gSW1wb3J0YW50IG5vdGU6IGFsbCB0b2tlbnMgbWludGVkIHRvIHRlYW0sIGZvdW5kYXRpb24gZXRjLgogICAgLy8gd2lsbCBOT1QgYmUgYnVybmVkLCBiZWNhdXNlIHRoZXkgaW4gZ2VuZXJhbCBhcmUgc3BlbnQKICAgIC8vIGR1cmluZyB0aGUgc2FsZSBhbmQgaXRzIHRvbyBleHBlbnNpdmUgdG8gdHJhY2sgYWxsIHRoZXNlCiAgICAvLyB0cmFuc2FjdGlvbnMuCiAgICBmdW5jdGlvbiBidXJuVG9rZW5zQW5kUmVmdW5kKGFkZHJlc3MgX2FkZHJlc3MpCiAgICAgICAgZXh0ZXJuYWwKICAgICAgICBwYXlhYmxlCiAgICAgICAgYWRkck5vdE51bGwoX2FkZHJlc3MpCiAgICAgICAgb25seU93bmVyKCkKICAgIHsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+IDAgJiYgbXNnLnZhbHVlID09IGV0aGVyRnVuZHNbX2FkZHJlc3NdKTsKICAgICAgICBfdG90YWxTdXBwbHkgPSBfdG90YWxTdXBwbHkuc3ViKGJhbGFuY2VzW19hZGRyZXNzXSk7CiAgICAgICAgYmFsYW5jZXNbX2FkZHJlc3NdID0gMDsKICAgICAgICBfZWFybmVkRnVuZHMgPSBfZWFybmVkRnVuZHMuc3ViKG1zZy52YWx1ZSk7CiAgICAgICAgZXRoZXJGdW5kc1tfYWRkcmVzc10gPSAwOwogICAgICAgIHJlZnVuZGVkW19hZGRyZXNzXSA9IHRydWU7CiAgICAgICAgX2FkZHJlc3MudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgIH0KCiAgICAvLyBTdG9wIHRva2VucyBtaW50aW5nIGZvcmV2ZXIuCiAgICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKCFpc01pbnRpbmdGaW5pc2hlZCk7CiAgICAgICAgaXNNaW50aW5nRmluaXNoZWQgPSB0cnVlOwogICAgICAgIG1pbnRpbmdTdG9wRGF0ZSA9IG5vdzsKICAgICAgICBlbWl0IE1pbnRpbmdGaW5pc2hlZCgpOwogICAgfQoKICAgIC8qKgogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgVG9rZW5zIGZyZWV6ZSBsb2dpYywgYWNjb3JkaW5nIHRvIElDTyBXaGl0ZSBQYXBlcgogICAgKi8KCiAgICAvLyBSZXR1cm4gdHJ1dGggaWYgZ2l2ZW4gX3ZhbHVlIGFtb3VudCBvZiB0b2tlbnMgKGluIEVYVHdlaSkKICAgIC8vIGNhbm5vdCBiZSB0cmFuc2ZlcnJlZCBmcm9tIGFjY291bnQgZHVlIHRvIHNwZW5kIHJlc3RyaWN0aW9ucwogICAgLy8gZGVmaW5lZCBpbiBJQ08gV2hpdGUgUGFwZXIuCiAgICAvLyAhISFDYXZlYXQgb2YgY3VycmVudCBpbXBsZW1lbnRhaW9uISEhCiAgICAvLyBTYXksCiAgICAvLyAgMS4gVGhlcmUgd2FzIDEwMCB0b2tlbnMgbWludGVkIHRvIHRoZSB0ZWFtIGJhc2tldDsKICAgIC8vICAyLiBNaW50aW5nIHdhcyBmaW5pc2hlZCBhbmQgMjQgd2Vla3MgZWxhcHNlZCwgYW5kIG5vdwogICAgLy8gICAgdGVhbSBjYW4gc3BlbmQgdXAgdG8gMjUgdG9rZW5zIHRpbGwgbmV4dCAyNCB3ZWVrczsKICAgIC8vICAzLiBTb21lb25lIHRyYW5zZmVycyBhbm90aGVyIDEwMCB0b2tlbnMgdG8gdGhlIHRlYW0gYmFza2V0OwogICAgLy8gIDQuIC4uLgogICAgLy8gUHJvYmxlbSBpcywgYWN0dWFsbHksIHlvdSBjYW4ndCBzcGVuZCBhbnkgb2YgdGhlc2UgZXh0cmEgMTAwCiAgICAvLyB0b2tlbnMgdW50aWwgOTYgd2Vla3Mgd2lsbCBlbGFwc2Ugc2luY2UgbWludGluZyBmaW5pc2ggZGF0ZS4KICAgIC8vIFRoYXQncyBiZWNhdXNlIGFmdGVyIG5leHQgMjQgd2Vla3Mgd2lsbCBiZSB1bmxvY2tlZCBvbmx5CiAgICAvLyAyNSB0b2tlbnMgbW9yZSAoMjUlIG9mICptaW50ZWQqIHRva2VucykgYW5kIHNvIG9uLgogICAgLy8gU28sIERPIE5PVCBzZW5kIHRva2VucyB0byB0aGUgdGVhbSBiYXNrZXQgdW50aWwgOTYgd2Vla3MgZWxhcHNlIQogICAgZnVuY3Rpb24gaXNGcm96ZW4oCiAgICAgICAgQmFza2V0VHlwZSBfYmFza2V0VHlwZSwKICAgICAgICB1aW50IF92YWx1ZQogICAgKQogICAgICAgIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgaWYgKCFpc01pbnRpbmdGaW5pc2hlZCkgewogICAgICAgICAgICAvLyBBbGxvdyBzcGVuZCBvbmx5IGFmdGVyIG1pbnRpbmcgaXMgZmluaXNoZWQKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIGlmIChfYmFza2V0VHlwZSA9PSBCYXNrZXRUeXBlLmZvdW5kYXRpb24pIHsKICAgICAgICAgICAgLy8gQWxsb3cgdG8gc3BlbmQgZm91bmRhdGlvbiB0b2tlbnMgb25seSBhZnRlcgogICAgICAgICAgICAvLyA0OCB3ZWVrcyBhZnRlciBtaW50aW5nIGlzIGZpbmlzaGVkCiAgICAgICAgICAgIHJldHVybiBub3cgPCBtaW50aW5nU3RvcERhdGUgKyA0OCB3ZWVrczsKICAgICAgICB9CiAgICAgICAgaWYgKF9iYXNrZXRUeXBlID09IEJhc2tldFR5cGUudGVhbSkgewogICAgICAgICAgICAvLyBUZWFtIGFsbG93ZWQgdG8gc3BlbmQgdG9rZW5zOgogICAgICAgICAgICAvLyAgMjUlICAtIGFmdGVyIG1pbnRpbmcgZmluaXNoZWQgZGF0ZSArIDI0IHdlZWtzOwogICAgICAgICAgICAvLyAgNTAlICAtIGFmdGVyIG1pbnRpbmcgZmluaXNoZWQgZGF0ZSArIDQ4IHdlZWtzOwogICAgICAgICAgICAvLyAgNzUlICAtIGFmdGVyIG1pbnRpbmcgZmluaXNoZWQgZGF0ZSArIDcyIHdlZWtzOwogICAgICAgICAgICAvLyAgMTAwJSAtIGFmdGVyIG1pbnRpbmcgZmluaXNoZWQgZGF0ZSArIDk2IHdlZWtzLgogICAgICAgICAgICBpZiAobWludGluZ1N0b3BEYXRlICsgOTYgd2Vla3MgPD0gbm93KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5vdyA8IG1pbnRpbmdTdG9wRGF0ZSArIDI0IHdlZWtzKQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBmcmFjdGlvbiBhcyBwZXJjZW50cyBtdWx0aXBsZWQgdG8gMTBeMTAuCiAgICAgICAgICAgIC8vIFdpdGhvdXQgdGhpcyBvd25lciB3aWxsIGJlIGFibGUgdG8gc3BlbmQgZnJhY3Rpb25zCiAgICAgICAgICAgIC8vIGxlc3MgdGhhbiAxJSBwZXIgdHJhbnNhY3Rpb24uCiAgICAgICAgICAgIHVpbnQgZnJhY3Rpb25TcGVudCA9CiAgICAgICAgICAgICAgICBzcGVudEJ5VGVhbS5hZGQoX3ZhbHVlKS5tdWwoMTAwMDAwMDAwMDAwMCkuZGl2KHRlYW1Ub3RhbCk7CiAgICAgICAgICAgIGlmIChub3cgPCBtaW50aW5nU3RvcERhdGUgKyA0OCB3ZWVrcykgewogICAgICAgICAgICAgICAgcmV0dXJuIDI1MDAwMDAwMDAwMCA8IGZyYWN0aW9uU3BlbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5vdyA8IG1pbnRpbmdTdG9wRGF0ZSArIDcyIHdlZWtzKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gNTAwMDAwMDAwMDAwIDwgZnJhY3Rpb25TcGVudDsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBmcm9tIDcyIHRvIDk2IHdlZWtzIGVsYXBzZWQKICAgICAgICAgICAgcmV0dXJuIDc1MDAwMDAwMDAwMCA8IGZyYWN0aW9uU3BlbnQ7CiAgICAgICAgfQogICAgICAgIC8vIE5vIHJlc3RyaWN0aW9ucyBmb3Igb3RoZXIgdG9rZW4gaG9sZGVycwogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvLyBTYXZlIGFtb3VudCBvZiBzcGVudCB0b2tlbnMgYnkgdGVhbSB0aWxsIDk2IHdlZWtzIGFmdGVyIG1pbnRpbmcKICAgIC8vIGZpbmlzaCBkYXRlLiBUaGlzIGlzIHZpdGFsIGJlY2F1c2Ugd2l0aG91dCB0aGUgY2hlY2sgd2UnbGwgZXZlbnR1YWxseQogICAgLy8gb3ZlcmZsb3cgdGhlIHVpbnQyNTYuCiAgICBmdW5jdGlvbiBzYXZlVGVhbVNwZW50KGFkZHJlc3MgX293bmVyLCB1aW50IF92YWx1ZSkgaW50ZXJuYWwgewogICAgICAgIGlmICh3cFRva2Vuc0Jhc2tldHMuaXNUZWFtKF9vd25lcikpIHsKICAgICAgICAgICAgaWYgKG5vdyA8IG1pbnRpbmdTdG9wRGF0ZSArIDk2IHdlZWtzKQogICAgICAgICAgICAgICAgc3BlbnRCeVRlYW0gPSBzcGVudEJ5VGVhbS5hZGQoX3ZhbHVlKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBFdmVudHMKICAgICovCgogICAgLy8gRW1pdHRlZCB3aGVuIG1pbnQgYWdlbnQgKGFkZHJlc3Mgb2YgYSBzYWxlIGNvbnRyYWN0KQogICAgLy8gcmVwbGFjZWQgd2l0aCBuZXcgb25lCiAgICBldmVudCBNaW50QWdlbnRSZXBsYWNlZCgKICAgICAgICBhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNNaW50QWdlbnQsCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIG5ld01pbnRBZ2VudAogICAgKTsKCiAgICAvLyBFbWl0dGVkIHdoZW4gbmV3IHRva2VucyB3ZXJlIGNyZWF0ZWQgYW5kIGZ1bmRlZCB0byBhY2NvdW50CiAgICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwoKICAgIC8vIEVtaXR0ZWQgd2hlbiB0b2tlbnMgbWludGluZyBpcyBmaW5pc2hlZC4KICAgIGV2ZW50IE1pbnRpbmdGaW5pc2hlZCgpOwp9'.
	

]
