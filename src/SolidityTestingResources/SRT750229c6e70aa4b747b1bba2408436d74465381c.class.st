Class {
	#name : #SRT750229c6e70aa4b747b1bba2408436d74465381c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT750229c6e70aa4b747b1bba2408436d74465381c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBPd25hYmxlIHsKCiAgYWRkcmVzcyBwdWJsaWMgY29udHJhY3RPd25lcjsKCiAgZXZlbnQgQ29udHJhY3RPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBjb250cmFjdE93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIG1vZGlmaWVyIG9ubHlDb250cmFjdE93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGNvbnRyYWN0T3duZXIpOwogICAgXzsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyQ29udHJhY3RPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYyBvbmx5Q29udHJhY3RPd25lciB7CiAgICByZXF1aXJlKF9uZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIENvbnRyYWN0T3duZXJzaGlwVHJhbnNmZXJyZWQoY29udHJhY3RPd25lciwgX25ld093bmVyKTsKICAgIGNvbnRyYWN0T3duZXIgPSBfbmV3T3duZXI7CiAgfQogIAogIGZ1bmN0aW9uIHBheW91dEZyb21Db250cmFjdCgpIHB1YmxpYyBvbmx5Q29udHJhY3RPd25lciB7CiAgICAgIGNvbnRyYWN0T3duZXIudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICB9ICAKCn0KCi8vLyBAdGl0bGUgSW50ZXJmYWNlIGZvciBjb250cmFjdHMgY29uZm9ybWluZyB0byBFUkMtNzIxOiBOb24tRnVuZ2libGUgVG9rZW5zCi8vLyBAYXV0aG9yIERpZXRlciBTaGlybGV5IDw8YSBocmVmPSIvY2RuLWNnaS9sL2VtYWlsLXByb3RlY3Rpb24iIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iZjM5Nzk2ODc5NmIzOTI4YjlhOWM5ZTg5OTY5ZGRkOTA5YyI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvYT4+IChodHRwczovL2dpdGh1Yi5jb20vZGV0ZSkKY29udHJhY3QgRVJDNzIxIHsKICAvLyBSZXF1aXJlZCBtZXRob2RzCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgcHVibGljOwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKICBmdW5jdGlvbiBpbXBsZW1lbnRzRVJDNzIxKCkgcHVibGljIHB1cmUgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gb3duZXJPZih1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgdmlldyByZXR1cm5zIChhZGRyZXNzIGFkZHIpOwogIGZ1bmN0aW9uIHRha2VPd25lcnNoaXAodWludDI1NiBfdG9rZW5JZCkgcHVibGljOwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiB0b3RhbCk7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBwdWJsaWM7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYzsKCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB0b2tlbklkKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBhcHByb3ZlZCwgdWludDI1NiB0b2tlbklkKTsKCiAgLy8gT3B0aW9uYWwKICAvLyBmdW5jdGlvbiBuYW1lKCkgcHVibGljIHZpZXcgcmV0dXJucyAoc3RyaW5nIG5hbWUpOwogIC8vIGZ1bmN0aW9uIHN5bWJvbCgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHN0cmluZyBzeW1ib2wpOwogIC8vIGZ1bmN0aW9uIHRva2VuT2ZPd25lckJ5SW5kZXgoYWRkcmVzcyBfb3duZXIsIHVpbnQyNTYgX2luZGV4KSBleHRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQyNTYgdG9rZW5JZCk7CiAgLy8gZnVuY3Rpb24gdG9rZW5zT2ZPd25lcihhZGRyZXNzIF9vd25lcikgZXh0ZXJuYWwgdmlldyByZXR1cm5zICh1aW50MjU2W10gdG9rZW5JZHMpOwogIC8vIGZ1bmN0aW9uIHRva2VuTWV0YWRhdGEodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoc3RyaW5nIGluZm9VcmwpOwp9Cgpjb250cmFjdCBDcnlwdG9DaW5lbWEgaXMgRVJDNzIxLCBPd25hYmxlIHsKCiAgZXZlbnQgRmlsbUNyZWF0ZWQodWludDI1NiB0b2tlbklkLCBzdHJpbmcgbmFtZSwgYWRkcmVzcyBvd25lcik7CiAgZXZlbnQgVG9rZW5Tb2xkKHVpbnQyNTYgdG9rZW5JZCwgdWludDI1NiBvbGRQcmljZSwgdWludDI1NiBuZXdQcmljZSwgYWRkcmVzcyBwcmV2T3duZXIsIGFkZHJlc3Mgd2lubmVyLCBzdHJpbmcgbmFtZSk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHRva2VuSWQpOwoKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IE5BTUUgPSAiRmlsbSI7CiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBTWU1CT0wgPSAiRmlsbVRva2VuIjsKCiAgdWludDI1NiBwcml2YXRlIHN0YXJ0aW5nUHJpY2UgPSAwLjAxIGV0aGVyOwoKICBtYXBwaW5nICh1aW50MjU2ID0+IGFkZHJlc3MpIHB1YmxpYyBmaWxtSWRUb093bmVyOwoKICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHByaXZhdGUgb3duZXJzaGlwVG9rZW5Db3VudDsKCiAgbWFwcGluZyAodWludDI1NiA9PiBhZGRyZXNzKSBwdWJsaWMgZmlsbUlkVG9BcHByb3ZlZDsKCiAgbWFwcGluZyAodWludDI1NiA9PiB1aW50MjU2KSBwcml2YXRlIGZpbG1JZFRvUHJpY2U7CgogIC8qKiogREFUQVRZUEVTICoqKi8KICBzdHJ1Y3QgRmlsbSB7CiAgICBzdHJpbmcgbmFtZTsKICB9CgogIEZpbG1bXSBwcml2YXRlIGZpbG1zOwoKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgeyAvL0VSQzcyMQogICAgLy8gQ2FsbGVyIG11c3Qgb3duIHRva2VuLgogICAgcmVxdWlyZShfb3ducyhtc2cuc2VuZGVyLCBfdG9rZW5JZCkpOwogICAgZmlsbUlkVG9BcHByb3ZlZFtfdG9rZW5JZF0gPSBfdG87CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfdG8sIF90b2tlbklkKTsKICB9CgogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7IC8vRVJDNzIxCiAgICByZXR1cm4gb3duZXJzaGlwVG9rZW5Db3VudFtfb3duZXJdOwogIH0KCiAgZnVuY3Rpb24gY3JlYXRlRmlsbVRva2VuKHN0cmluZyBfbmFtZSwgdWludDI1NiBfcHJpY2UpIHB1YmxpYyBvbmx5Q29udHJhY3RPd25lciB7CiAgICBfY3JlYXRlRmlsbShfbmFtZSwgbXNnLnNlbmRlciwgX3ByaWNlKTsKICB9CgogIGZ1bmN0aW9uIGNyZWF0ZTE4RmlsbXNUb2tlbnMoKSBwdWJsaWMgb25seUNvbnRyYWN0T3duZXIgewogICAgIHVpbnQyNTYgdG90YWxGaWxtcyA9IHRvdGFsU3VwcGx5KCk7CgkgCgkgcmVxdWlyZSAodG90YWxGaWxtczwxKTsgLy8gb25seSAzIHRva2VucyBmb3Igc3RhcnQKCSAKCSBmb3IgKHVpbnQ4IGk9MTsgaTw9MTg7IGkrKykKCQlfY3JlYXRlRmlsbSgiRmlsbSIsIGFkZHJlc3ModGhpcyksIHN0YXJ0aW5nUHJpY2UpOwoJCiAgfQogIAogIGZ1bmN0aW9uIGdldEZpbG0odWludDI1NiBfdG9rZW5JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoc3RyaW5nIGZpbG1OYW1lLCB1aW50MjU2IHNlbGxpbmdQcmljZSwgYWRkcmVzcyBvd25lcikgewogICAgRmlsbSBzdG9yYWdlIGZpbG0gPSBmaWxtc1tfdG9rZW5JZF07CiAgICBmaWxtTmFtZSA9IGZpbG0ubmFtZTsKICAgIHNlbGxpbmdQcmljZSA9IGZpbG1JZFRvUHJpY2VbX3Rva2VuSWRdOwogICAgb3duZXIgPSBmaWxtSWRUb093bmVyW190b2tlbklkXTsKICB9CgogIGZ1bmN0aW9uIGltcGxlbWVudHNFUkM3MjEoKSBwdWJsaWMgcHVyZSByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIG5hbWUoKSBwdWJsaWMgcHVyZSByZXR1cm5zIChzdHJpbmcpIHsgLy9FUkM3MjEKICAgIHJldHVybiBOQU1FOwogIH0KCiAgZnVuY3Rpb24gb3duZXJPZih1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgdmlldyByZXR1cm5zIChhZGRyZXNzIG93bmVyKSB7IC8vRVJDNzIxCiAgICBvd25lciA9IGZpbG1JZFRvT3duZXJbX3Rva2VuSWRdOwogICAgcmVxdWlyZShvd25lciAhPSBhZGRyZXNzKDApKTsKICB9CgogIC8vIEFsbG93cyBzb21lb25lIHRvIHNlbmQgZXRoZXIgYW5kIG9idGFpbiB0aGUgdG9rZW4KICBmdW5jdGlvbiBwdXJjaGFzZSh1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgcGF5YWJsZSB7CiAgICBhZGRyZXNzIG9sZE93bmVyID0gZmlsbUlkVG9Pd25lcltfdG9rZW5JZF07CiAgICBhZGRyZXNzIG5ld093bmVyID0gbXNnLnNlbmRlcjsKCiAgICB1aW50MjU2IHNlbGxpbmdQcmljZSA9IGZpbG1JZFRvUHJpY2VbX3Rva2VuSWRdOwoKICAgIHJlcXVpcmUob2xkT3duZXIgIT0gbmV3T3duZXIpOwogICAgcmVxdWlyZShfYWRkcmVzc05vdE51bGwobmV3T3duZXIpKTsKICAgIHJlcXVpcmUobXNnLnZhbHVlID49IHNlbGxpbmdQcmljZSk7CgogICAgdWludDI1NiBwYXltZW50ID0gdWludDI1NihTYWZlTWF0aC5kaXYoU2FmZU1hdGgubXVsKHNlbGxpbmdQcmljZSwgOTcpLCAxMDApKTsgLy85NyUgdG8gcHJldmlvdXMgb3duZXIKCgkKICAgIC8vIFRoZSBwcmljZSBpbmNyZWFzZXMgYnkgMjAlIAogICAgZmlsbUlkVG9QcmljZVtfdG9rZW5JZF0gPSB1aW50MjU2KFNhZmVNYXRoLmRpdihTYWZlTWF0aC5tdWwoc2VsbGluZ1ByaWNlLCAxMiksIDEwKSk7IAoKICAgIF90cmFuc2ZlcihvbGRPd25lciwgbmV3T3duZXIsIF90b2tlbklkKTsKCiAgICAvLyBQYXkgcHJldmlvdXMgdG9rZW5Pd25lciBpZiBvd25lciBpcyBub3QgY29udHJhY3QKICAgIGlmIChvbGRPd25lciAhPSBhZGRyZXNzKHRoaXMpKSB7CiAgICAgIG9sZE93bmVyLnRyYW5zZmVyKHBheW1lbnQpOyAvLwogICAgfQoKICAgIFRva2VuU29sZChfdG9rZW5JZCwgc2VsbGluZ1ByaWNlLCBmaWxtSWRUb1ByaWNlW190b2tlbklkXSwgb2xkT3duZXIsIG5ld093bmVyLCBmaWxtc1tfdG9rZW5JZF0ubmFtZSk7CgkKICAgIGlmIChtc2cudmFsdWUgPiBzZWxsaW5nUHJpY2UpIHsgLy9pZiBleGNlc3MgcGF5CgkgICAgdWludDI1NiBwdXJjaGFzZUV4Y2VzcyA9IFNhZmVNYXRoLnN1Yihtc2cudmFsdWUsIHNlbGxpbmdQcmljZSk7CgkJbXNnLnNlbmRlci50cmFuc2ZlcihwdXJjaGFzZUV4Y2Vzcyk7Cgl9CiAgfQogIAogIGZ1bmN0aW9uIHN5bWJvbCgpIHB1YmxpYyBwdXJlIHJldHVybnMgKHN0cmluZykgeyAvL0VSQzcyMQogICAgcmV0dXJuIFNZTUJPTDsKICB9CgogIGZ1bmN0aW9uIHRha2VPd25lcnNoaXAodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHsgLy9FUkM3MjEKICAgIGFkZHJlc3MgbmV3T3duZXIgPSBtc2cuc2VuZGVyOwogICAgYWRkcmVzcyBvbGRPd25lciA9IGZpbG1JZFRvT3duZXJbX3Rva2VuSWRdOwoKICAgIHJlcXVpcmUoX2FkZHJlc3NOb3ROdWxsKG5ld093bmVyKSk7CiAgICByZXF1aXJlKF9hcHByb3ZlZChuZXdPd25lciwgX3Rva2VuSWQpKTsKCiAgICBfdHJhbnNmZXIob2xkT3duZXIsIG5ld093bmVyLCBfdG9rZW5JZCk7CiAgfQoKICBmdW5jdGlvbiBwcmljZU9mKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgcHJpY2UpIHsgLy9mb3Igd2ViIHNpdGUgdmlldwogICAgcmV0dXJuIGZpbG1JZFRvUHJpY2VbX3Rva2VuSWRdOwogIH0KCiAgZnVuY3Rpb24gYWxsRmlsbXNJbmZvKHVpbnQyNTYgX3N0YXJ0RmlsbUlkKSBwdWJsaWMgdmlldyByZXR1cm5zIChhZGRyZXNzW10gb3duZXJzLCB1aW50MjU2W10gcHJpY2VzKSB7IC8vZm9yIHdlYiBzaXRlIHZpZXcKCQoJdWludDI1NiB0b3RhbEZpbG1zID0gdG90YWxTdXBwbHkoKTsKCQogICAgaWYgKHRvdGFsRmlsbXMgPT0gMCB8fCBfc3RhcnRGaWxtSWQgPj0gdG90YWxGaWxtcykgewogICAgICAgIC8vIFJldHVybiBhbiBlbXB0eSBhcnJheQogICAgICByZXR1cm4gKG5ldyBhZGRyZXNzW10oMCksIG5ldyB1aW50MjU2W10oMCkpOwogICAgfQoJCgl1aW50MjU2IGluZGV4VG87CglpZiAodG90YWxGaWxtcyA+IF9zdGFydEZpbG1JZCsxMDAwKQoJCWluZGV4VG8gPSBfc3RhcnRGaWxtSWQgKyAxMDAwOwoJZWxzZSAJCgkJaW5kZXhUbyA9IHRvdGFsRmlsbXM7CgkJCiAgICB1aW50MjU2IHRvdGFsUmVzdWx0RmlsbXMgPSBpbmRleFRvIC0gX3N0YXJ0RmlsbUlkOwkJCgkJCglhZGRyZXNzW10gbWVtb3J5IG93bmVyc19yZXMgPSBuZXcgYWRkcmVzc1tdKHRvdGFsUmVzdWx0RmlsbXMpOwoJdWludDI1NltdIG1lbW9yeSBwcmljZXNfcmVzID0gbmV3IHVpbnQyNTZbXSh0b3RhbFJlc3VsdEZpbG1zKTsKCQoJZm9yICh1aW50MjU2IGZpbG1JZCA9IF9zdGFydEZpbG1JZDsgZmlsbUlkIDwgaW5kZXhUbzsgZmlsbUlkKyspIHsKCSAgb3duZXJzX3Jlc1tmaWxtSWQgLSBfc3RhcnRGaWxtSWRdID0gZmlsbUlkVG9Pd25lcltmaWxtSWRdOwoJICBwcmljZXNfcmVzW2ZpbG1JZCAtIF9zdGFydEZpbG1JZF0gPSBmaWxtSWRUb1ByaWNlW2ZpbG1JZF07Cgl9CgkKCXJldHVybiAob3duZXJzX3JlcywgcHJpY2VzX3Jlcyk7CiAgfQogIAogIGZ1bmN0aW9uIHRva2Vuc09mT3duZXIoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnModWludDI1NltdIG93bmVyVG9rZW4pIHsgLy9FUkM3MjEgZm9yIHdlYiBzaXRlIHZpZXcKICAgIHVpbnQyNTYgdG9rZW5Db3VudCA9IGJhbGFuY2VPZihfb3duZXIpOwogICAgaWYgKHRva2VuQ291bnQgPT0gMCkgewogICAgICAgIC8vIFJldHVybiBhbiBlbXB0eSBhcnJheQogICAgICByZXR1cm4gbmV3IHVpbnQyNTZbXSgwKTsKICAgIH0gZWxzZSB7CiAgICAgIHVpbnQyNTZbXSBtZW1vcnkgcmVzdWx0ID0gbmV3IHVpbnQyNTZbXSh0b2tlbkNvdW50KTsKICAgICAgdWludDI1NiB0b3RhbEZpbG1zID0gdG90YWxTdXBwbHkoKTsKICAgICAgdWludDI1NiByZXN1bHRJbmRleCA9IDA7CgogICAgICB1aW50MjU2IGZpbG1JZDsKICAgICAgZm9yIChmaWxtSWQgPSAwOyBmaWxtSWQgPD0gdG90YWxGaWxtczsgZmlsbUlkKyspIHsKICAgICAgICBpZiAoZmlsbUlkVG9Pd25lcltmaWxtSWRdID09IF9vd25lcikgewogICAgICAgICAgcmVzdWx0W3Jlc3VsdEluZGV4XSA9IGZpbG1JZDsKICAgICAgICAgIHJlc3VsdEluZGV4Kys7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfQoKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgdG90YWwpIHsgLy9FUkM3MjEKICAgIHJldHVybiBmaWxtcy5sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgcHVibGljIHsgLy9FUkM3MjEKICAgIHJlcXVpcmUoX293bnMobXNnLnNlbmRlciwgX3Rva2VuSWQpKTsKICAgIHJlcXVpcmUoX2FkZHJlc3NOb3ROdWxsKF90bykpOwoKCV90cmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF90b2tlbklkKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgcHVibGljIHsgLy9FUkM3MjEKICAgIHJlcXVpcmUoX293bnMoX2Zyb20sIF90b2tlbklkKSk7CiAgICByZXF1aXJlKF9hcHByb3ZlZChfdG8sIF90b2tlbklkKSk7CiAgICByZXF1aXJlKF9hZGRyZXNzTm90TnVsbChfdG8pKTsKCiAgICBfdHJhbnNmZXIoX2Zyb20sIF90bywgX3Rva2VuSWQpOwogIH0KCgogIC8qIFBSSVZBVEUgRlVOQ1RJT05TICovCiAgZnVuY3Rpb24gX2FkZHJlc3NOb3ROdWxsKGFkZHJlc3MgX3RvKSBwcml2YXRlIHB1cmUgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIF90byAhPSBhZGRyZXNzKDApOwogIH0KCiAgZnVuY3Rpb24gX2FwcHJvdmVkKGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBwcml2YXRlIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIGZpbG1JZFRvQXBwcm92ZWRbX3Rva2VuSWRdID09IF90bzsKICB9CgogIGZ1bmN0aW9uIF9jcmVhdGVGaWxtKHN0cmluZyBfbmFtZSwgYWRkcmVzcyBfb3duZXIsIHVpbnQyNTYgX3ByaWNlKSBwcml2YXRlIHsKICAgIEZpbG0gbWVtb3J5IF9maWxtID0gRmlsbSh7CiAgICAgIG5hbWU6IF9uYW1lCiAgICB9KTsKICAgIHVpbnQyNTYgbmV3RmlsbUlkID0gZmlsbXMucHVzaChfZmlsbSkgLSAxOwoKICAgIHJlcXVpcmUobmV3RmlsbUlkID09IHVpbnQyNTYodWludDMyKG5ld0ZpbG1JZCkpKTsgLy9jaGVjayBtYXhpbXVtIGxpbWl0IG9mIHRva2VucwoKICAgIEZpbG1DcmVhdGVkKG5ld0ZpbG1JZCwgX25hbWUsIF9vd25lcik7CgogICAgZmlsbUlkVG9QcmljZVtuZXdGaWxtSWRdID0gX3ByaWNlOwoKICAgIF90cmFuc2ZlcihhZGRyZXNzKDApLCBfb3duZXIsIG5ld0ZpbG1JZCk7CiAgfQoKICBmdW5jdGlvbiBfb3ducyhhZGRyZXNzIF9jaGVja2VkQWRkciwgdWludDI1NiBfdG9rZW5JZCkgcHJpdmF0ZSB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBfY2hlY2tlZEFkZHIgPT0gZmlsbUlkVG9Pd25lcltfdG9rZW5JZF07CiAgfQoKZnVuY3Rpb24gX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBwcml2YXRlIHsKICAgIG93bmVyc2hpcFRva2VuQ291bnRbX3RvXSsrOwogICAgZmlsbUlkVG9Pd25lcltfdG9rZW5JZF0gPSBfdG87CgogICAgLy8gV2hlbiBjcmVhdGluZyBuZXcgZmlsbXMgX2Zyb20gaXMgMHgwLCBidXQgd2UgY2FuJ3QgYWNjb3VudCB0aGF0IGFkZHJlc3MuCiAgICBpZiAoX2Zyb20gIT0gYWRkcmVzcygwKSkgewogICAgICBvd25lcnNoaXBUb2tlbkNvdW50W19mcm9tXS0tOwogICAgICAvLyBjbGVhciBhbnkgcHJldmlvdXNseSBhcHByb3ZlZCBvd25lcnNoaXAgZXhjaGFuZ2UKICAgICAgZGVsZXRlIGZpbG1JZFRvQXBwcm92ZWRbX3Rva2VuSWRdOwogICAgfQoKICAgIC8vIEVtaXQgdGhlIHRyYW5zZmVyIGV2ZW50LgogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3Rva2VuSWQpOwogIH0KfQoKbGlicmFyeSBTYWZlTWF0aCB7CgogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0='.
	

]
