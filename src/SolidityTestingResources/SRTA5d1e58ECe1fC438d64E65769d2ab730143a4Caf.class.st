Class {
	#name : #SRTA5d1e58ECe1fC438d64E65769d2ab730143a4Caf,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTA5d1e58ECe1fC438d64E65769d2ab730143a4Caf >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgoKCgovKioKICogQHRpdGxlIE1hdGgKICogQGRldiBBc3NvcnRlZCBtYXRoIG9wZXJhdGlvbnMgeQogKi8KbGlicmFyeSBNYXRoIHsKICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW42NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1heDI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQp9CgoKCgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKCgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2KTsKCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwoKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKCgoKCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQyNTYpOwoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CgogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgoKCgoKY29udHJhY3QgRVJDMjIzIHsKICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50KTsKCiAgZnVuY3Rpb24gbmFtZSgpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zIChzdHJpbmcgX25hbWUpOwogIGZ1bmN0aW9uIHN5bWJvbCgpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zIChzdHJpbmcgX3N5bWJvbCk7CiAgZnVuY3Rpb24gZGVjaW1hbHMoKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDggX2RlY2ltYWxzKTsKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IF9zdXBwbHkpOwoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSwgYnl0ZXMgZGF0YSkgcHVibGljIHJldHVybnMgKGJvb2wgb2spOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUsIGJ5dGVzIGluZGV4ZWQgZGF0YSk7Cn0KCgoKCgovKgoqIENvbnRyYWN0IHRoYXQgaXMgd29ya2luZyB3aXRoIEVSQzIyMyB0b2tlbnMKKi8KCmNvbnRyYWN0IENvbnRyYWN0UmVjZWl2ZXIgewoKICBzdHJpbmcgcHVibGljIGZ1bmN0aW9uTmFtZTsKICBhZGRyZXNzIHB1YmxpYyBzZW5kZXI7CiAgdWludCBwdWJsaWMgdmFsdWU7CiAgYnl0ZXMgcHVibGljIGRhdGE7CgogIGZ1bmN0aW9uIHRva2VuRmFsbGJhY2soYWRkcmVzcyBfZnJvbSwgdWludCBfdmFsdWUsIGJ5dGVzIF9kYXRhKSBwdWJsaWMgewoKICAgIHNlbmRlciA9IF9mcm9tOwogICAgdmFsdWUgPSBfdmFsdWU7CiAgICBkYXRhID0gX2RhdGE7CiAgICBmdW5jdGlvbk5hbWUgPSAidG9rZW5GYWxsYmFjayI7CiAgICAvL3VpbnQzMiB1ID0gdWludDMyKF9kYXRhWzNdKSArICh1aW50MzIoX2RhdGFbMl0pIDw8IDgpICsgKHVpbnQzMihfZGF0YVsxXSkgPDwgMTYpICsgKHVpbnQzMihfZGF0YVswXSkgPDwgMjQpOwogICAgLy90a24uc2lnID0gYnl0ZXM0KHUpOwoKICAgIC8qIHRrbiB2YXJpYWJsZSBpcyBhbmFsb2d1ZSBvZiBtc2cgdmFyaWFibGUgb2YgRXRoZXIgdHJhbnNhY3Rpb24KICAgICogIHRrbi5zZW5kZXIgaXMgcGVyc29uIHdobyBpbml0aWF0ZWQgdGhpcyB0b2tlbiB0cmFuc2FjdGlvbiAgIChhbmFsb2d1ZSBvZiBtc2cuc2VuZGVyKQogICAgKiAgdGtuLnZhbHVlIHRoZSBudW1iZXIgb2YgdG9rZW5zIHRoYXQgd2VyZSBzZW50ICAgKGFuYWxvZ3VlIG9mIG1zZy52YWx1ZSkKICAgICogIHRrbi5kYXRhIGlzIGRhdGEgb2YgdG9rZW4gdHJhbnNhY3Rpb24gICAoYW5hbG9ndWUgb2YgbXNnLmRhdGEpCiAgICAqICB0a24uc2lnIGlzIDQgYnl0ZXMgc2lnbmF0dXJlIG9mIGZ1bmN0aW9uCiAgICAqICBpZiBkYXRhIG9mIHRva2VuIHRyYW5zYWN0aW9uIGlzIGEgZnVuY3Rpb24gZXhlY3V0aW9uCiAgICAqLwogIH0KCiAgZnVuY3Rpb24gY3VzdG9tRmFsbGJhY2soYWRkcmVzcyBfZnJvbSwgdWludCBfdmFsdWUsIGJ5dGVzIF9kYXRhKSBwdWJsaWMgewogICAgdG9rZW5GYWxsYmFjayhfZnJvbSwgX3ZhbHVlLCBfZGF0YSk7CiAgICBmdW5jdGlvbk5hbWUgPSAiY3VzdG9tRmFsbGJhY2siOwogIH0KfQoKCgoKCgoKY29udHJhY3QgUm9ib21lZEljbyBpcyBFUkMyMjMsIEVSQzIwIHsKCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAiUm9ib21lZFRva2VuIjsKCiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJSQk0iOwoKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDE4OwoKICAgIC8vYWRkcmVzc2VzCgogICAgLyoKICAgICAqIEFERFJfT1dORVIgLSDQstC70LDQtNC10LvQtdGGINC60L7QvdGC0YDQsNC60YLQsCAtINGA0LDRgdC/0YDQtdC00LXQu9GP0LXRgiDQstC40L8g0YLQvtC60LXQvdGLLCDQvdCw0YfQuNGB0LvRj9C10YIg0LHQsNGD0L3RgtC4INC4IHRlYW0sINC+0YHRg9GJ0LXRgdGC0LLQu9GP0LXRgiDQv9C10YDQtdGF0L7QtCDQv9C+INGB0YLQsNC00LjRj9C8CiAgICAgKi8KICAgIGFkZHJlc3MgcHVibGljIGNvbnN0YW50IEFERFJfT1dORVIgPSAweDIxRjZDNEQ5MjZCNzA1YUQyNDRFYzMzMjcxNTU5ZEE4YzU2MjQwMEY7CgogICAgLyoKICAgICogQUREUl9XSVRIRFJBV0FMMSwgQUREUl9XSVRIRFJBV0FMMiAtINGD0YfQsNGB0YLQvdC40LrQuCDQutC+0L3RgtGA0LDQutGC0LAsINC60L7RgtC+0YDRi9C1INGB0L7QstC80LXRgdGC0L3QviDQstGL0LLQvtC00Y/RgiBldGgg0L/QvtGB0LvQtSDQvdCw0YHRgtGD0L/Qu9C10L3QuNGPIFBvc3RJY28KICAgICovCiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBBRERSX1dJVEhEUkFXQUwxID0gMHgwZEQ5N2U2MjU5YTdkZTE5NjQ2MUIzNkIwMjg0NTZhOTdlMzI2OGJFOwoKICAgIC8qCiAgICAqIEFERFJfV0lUSERSQVdBTDEsIEFERFJfV0lUSERSQVdBTDIgLSDRg9GH0LDRgdGC0L3QuNC60Lgg0LrQvtC90YLRgNCw0LrRgtCwLCDQutC+0YLQvtGA0YvQtSDRgdC+0LLQvNC10YHRgtC90L4g0LLRi9Cy0L7QtNGP0YIgZXRoINC/0L7RgdC70LUg0L3QsNGB0YLRg9C/0LvQtdC90LjRjyBQb3N0SWNvCiAgICAqLwogICAgYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgQUREUl9XSVRIRFJBV0FMMiA9IDB4OGM1QjAyMTQ0Rjc2NjREMzdGRGZkNGEyZjkwMTQ4ZDA4QTA0ODM4RDsKCiAgICAvKioKICAgICog0JDQtNGA0LXRgSDQvdCwINC60L7RgtC+0YDRi9C5INC60LvQsNC00YPRgtGM0YHRjyDRgtC+0LrQtdC90Ysg0LTQu9GPINGA0LDQt9C00LDRh9C4INC/0L4gQmF1bnR5CiAgICAqLwogICAgYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgQUREUl9CT1VOVFlfVE9LRU5TX0FDQ09VTlQgPSAweDY1NDIzOTM2MjNEYjBEN0YyN2ZERWQ4M2U2ZmVEQkQ3NjdCZkY5YjQ7CgogICAgLyoqCiAgICAqINCQ0LTRgNC10YEg0L3QsCDQutC+0YLQvtGA0YvQuSDQutC70LDQtNGD0YLRjNGB0Y8g0YLQvtC60LXQvdGLINC00LvRjyDRgNCw0LfQtNCw0YfQuCBUZWFtCiAgICAqLwogICAgYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgQUREUl9URUFNX1RPS0VOU19BQ0NPVU5UID0gMHgyOGM2YkNBQjIyMDRDRWQyOTY3N2ZFRTY2MDdFODcyRTNjNDBkNzgzOwoKCgogICAgLy9WaXBQbGFjZW1lbnQgY29uc3RhbnRzCgoKICAgIC8qKgogICAgICog0JrQvtC70LjRh9C10YHRgtCy0L4g0YLQvtC60LXQvdC+0LIg0LTQu9GPINGB0YLQsNC00LjQuCBWaXBQbGFjZW1lbnQKICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBJTklUSUFMX0NPSU5TX0ZPUl9WSVBQTEFDRU1FTlQgPTUwNzkzNzUwMCAqIDEwICoqIDE4OwoKICAgIC8qKgogICAgICog0JTQu9C40YLQtdC70YzQvdC+0YHRgtGMINGB0YLQsNC00LjQuCBWaXBQbGFjZW1lbnQKICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBEVVJBVElPTl9WSVBQTEFDRU1FTlQgPSAxIHNlY29uZHM7Ly8gMSBtaW51dGVzOy8vICAxIGRheXM7CgogICAgLy9lbmQgVmlwUGxhY2VtZW50IGNvbnN0YW50cwoKICAgIC8vUHJlU2FsZSBjb25zdGFudHMKCiAgICAvKioKICAgICAqINCa0L7Qu9C40YfQtdGB0YLQstC+INGC0L7QutC10L3QvtCyINC00LvRjyDRgdGC0LDQtNC40LggUHJlU2FsZQogICAgKi8KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IEVNSVNTSU9OX0ZPUl9QUkVTQUxFID0gNzYyMTI1MDAgKiAxMCAqKiAxODsKCiAgICAvKioKICAgICAqINCU0LvQuNGC0LXQu9GM0L3QvtGB0YLRjCDRgdGC0LDQtNC40LggUHJlU2FsZQogICAgKi8KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IERVUkFUSU9OX1BSRVNBTEUgPSAxIGRheXM7Ly8yIG1pbnV0ZXM7Ly8xIGRheXM7CgogICAgLyoqCiAgICAgKiDQmtGD0YDRgSDRgdGC0LDQtNC40LggUHJlU2FsZQogICAgKi8KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFJBVEVfUFJFU0FMRSA9IDI3MDI7CgogICAgLy9lbmQgUHJlU2FsZSBjb25zdGFudHMKCiAgICAvL1NhbGVTdGFnZTEgY29uc3RhbnRzCgogICAgLyoqCiAgICAgKiDQntCx0YnQsNGPINC00LvQuNGC0LXQu9GM0L3QvtGB0YLRjCDRgdGC0LDQtNC40LkgU2FsZSDRgSBTYWxlU3RhZ2UxINC/0L4gU2FsZVN0YWdlNyDQstC60LvRjtGH0LjRgtC10LvRjNC90L4KICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBEVVJBVElPTl9TQUxFU1RBR0VTID0gMTAgZGF5czsgLy8yIG1pbnV0ZXM7Ly8zMCBkYXlzOwoKICAgIC8qKgogICAgICog0JrRg9GA0YEg0YHRgtCw0LTQuNC4IFNhbGVTdGFnZTEKICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBSQVRFX1NBTEVTVEFHRTEgPSAyNTM2OwoKICAgIC8qKgogICAgICog0K3QvNC40YHRgdC40Y8g0YLQvtC60LXQvdC+0LIg0LTQu9GPINGB0YLQsNC00LjQuCBTYWxlU3RhZ2UxCiAgICAqLwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgRU1JU1NJT05fRk9SX1NBTEVTVEFHRTEgPSA0MDgzNTAwMCAqIDEwICoqIDE4OwoKICAgIC8vZW5kIFNhbGVTdGFnZTEgY29uc3RhbnRzCgogICAgLy9TYWxlU3RhZ2UyIGNvbnN0YW50cwoKICAgIC8qKgogICAgICog0JrRg9GA0YEg0YHRgtCw0LTQuNC4IFNhbGVTdGFnZTIKICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBSQVRFX1NBTEVTVEFHRTIgPSAyNDczOwoKICAgIC8qKgogICAgKiDQrdC80LjRgdGB0LjRjyDRgtC+0LrQtdC90L7QsiDQtNC70Y8g0YHRgtCw0LTQuNC4IFNhbGVTdGFnZTIKICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBFTUlTU0lPTl9GT1JfU0FMRVNUQUdFMiA9IDQwODM1MDAwICogMTAgKiogMTg7CgogICAgLy9lbmQgU2FsZVN0YWdlMiBjb25zdGFudHMKCiAgICAvL1NhbGVTdGFnZTMgY29uc3RhbnRzCgogICAgLyoqCiAgICAgKiDQmtGD0YDRgSDRgdGC0LDQtNC40LggU2FsZVN0YWdlMwogICAgKi8KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFJBVEVfU0FMRVNUQUdFMyA9IDIzOTA7CgogICAgLyoqCiAgICAqINCt0LzQuNGB0YHQuNGPINGC0L7QutC10L3QvtCyINC00LvRjyDRgdGC0LDQtNC40LggU2FsZVN0YWdlMwogICAgKi8KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IEVNSVNTSU9OX0ZPUl9TQUxFU1RBR0UzID0gNDA4MzUwMDAgKiAxMCAqKiAxODsKICAgIC8vZW5kIFNhbGVTdGFnZTMgY29uc3RhbnRzCgogICAgLy9TYWxlU3RhZ2U0IGNvbnN0YW50cwoKICAgIC8qKgogICAgICog0JrRg9GA0YEg0YHRgtCw0LTQuNC4IFNhbGVTdGFnZTQKICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBSQVRFX1NBTEVTVEFHRTQgPSAyMzQ5OwoKICAgIC8qKgogICAgKiDQrdC80LjRgdGB0LjRjyDRgtC+0LrQtdC90L7QsiDQtNC70Y8g0YHRgtCw0LTQuNC4IFNhbGVTdGFnZTQKICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBFTUlTU0lPTl9GT1JfU0FMRVNUQUdFNCA9IDQwODM1MDAwICogMTAgKiogMTg7CgogICAgLy9lbmQgU2FsZVN0YWdlNCBjb25zdGFudHMKCgogICAgLy9TYWxlU3RhZ2U1IGNvbnN0YW50cwoKICAgIC8qKgogICAgICog0JrRg9GA0YEg0YHRgtCw0LTQuNC4IFNhbGVTdGFnZTUKICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBSQVRFX1NBTEVTVEFHRTUgPSAyMjg2OwoKICAgIC8qKgogICAgKiDQrdC80LjRgdGB0LjRjyDRgtC+0LrQtdC90L7QsiDQtNC70Y8g0YHRgtCw0LTQuNC4IFNhbGVTdGFnZTUKICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBFTUlTU0lPTl9GT1JfU0FMRVNUQUdFNSA9IDQwODM1MDAwICogMTAgKiogMTg7CgogICAgLy9lbmQgU2FsZVN0YWdlNSBjb25zdGFudHMKCgoKICAgIC8vU2FsZVN0YWdlNiBjb25zdGFudHMKCiAgICAvKioKICAgICAqINCa0YPRgNGBINGB0YLQsNC00LjQuCBTYWxlU3RhZ2U2CiAgICAqLwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUkFURV9TQUxFU1RBR0U2ID0gMjIyNDsKCiAgICAvKioKICAgICog0K3QvNC40YHRgdC40Y8g0YLQvtC60LXQvdC+0LIg0LTQu9GPINGB0YLQsNC00LjQuCBTYWxlU3RhZ2U2CiAgICAqLwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgRU1JU1NJT05fRk9SX1NBTEVTVEFHRTYgPSA0MDgzNTAwMCAqIDEwICoqIDE4OwoKICAgIC8vZW5kIFNhbGVTdGFnZTYgY29uc3RhbnRzCgoKICAgIC8vU2FsZVN0YWdlNyBjb25zdGFudHMKCiAgICAvKioKICAgICAqINCa0YPRgNGBINGB0YLQsNC00LjQuCBTYWxlU3RhZ2U3CiAgICAqLwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUkFURV9TQUxFU1RBR0U3ID0gMjE4MjsKCiAgICAvKioKICAgICog0K3QvNC40YHRgdC40Y8g0YLQvtC60LXQvdC+0LIg0LTQu9GPINGB0YLQsNC00LjQuCBTYWxlU3RhZ2U3CiAgICAqLwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgRU1JU1NJT05fRk9SX1NBTEVTVEFHRTcgPSA0MDgzNTAwMCAqIDEwICoqIDE4OwoKICAgIC8vZW5kIFNhbGVTdGFnZTcgY29uc3RhbnRzCgoKICAgIC8vU2FsZVN0YWdlTGFzdCBjb25zdGFudHMKCiAgICAvKioKICAgICAqINCU0LvQuNGC0LXQu9GM0L3QvtGB0YLRjCDRgdGC0LDQtNC40LggU2FsZVN0YWdlTGFzdAogICAgKi8KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IERVUkFUSU9OX1NBTEVTVEFHRUxBU1QgPSAxIGRheXM7Ly8gMjAgbWludXRlczsvLzEwIGRheXM7CgogICAgLyoqCiAgICAgKiDQmtGD0YDRgSDRgdGC0LDQtNC40LggU2FsZVN0YWdlTGFzdAogICAgKi8KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFJBVEVfU0FMRVNUQUdFTEFTVCA9IDIwNzg7CgogICAgLyoqCiAgICAqINCt0LzQuNGB0YHQuNGPINGC0L7QutC10L3QvtCyINC00LvRjyDRgdGC0LDQtNC40LggU2FsZVN0YWdlTGFzdAogICAgKi8KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IEVNSVNTSU9OX0ZPUl9TQUxFU1RBR0VMQVNUID0gMzAyNTA1MDAwICogMTAgKiogMTg7CiAgICAvL2VuZCBTYWxlU3RhZ2VMYXN0IGNvbnN0YW50cwoKICAgIC8vUG9zdEljbyBjb25zdGFudHMKCiAgICAvKioKICAgICAqINCU0LvQuNGC0LXQu9GM0L3QvtGB0YLRjCDQv9C10YDQuNC+0LTQsCDQvdCwINC60L7RgtC+0YDRi9C5INC90LXQu9GM0LfRjyDQuNGB0L/QvtC70YzQt9C+0LLQsNGC0YwgdGVhbSDRgtC+0LrQtdC90YssINC/0L7Qu9GD0YfQtdC90L3Ri9C1INC/0YDQuCDRgNCw0YHQv9GA0LXQtNC10LvQtdC90LjQuAogICAgKi8KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IERVUkFUSU9OX05PTlVTRVRFQU0gPSAxODAgZGF5czsvLzEwIGRheXM7CgogICAgLyoqCiAgICAgKiDQlNC70LjRgtC10LvRjNC90L7RgdGC0Ywg0L/QtdGA0LjQvtC00LAg0L3QsCDQutC+0YLQvtGA0YvQuSDQvdC10LvRjNC30Y8g0LLQvtGB0YHRgtCw0L3QvtCy0LjRgtGMINC90LXRgNCw0YHQv9GA0L7QtNCw0L3QvdGL0LUgdW5zb2xkVG9rZW5zINGC0L7QutC10L3RiywKICAgICAqINC+0YLRgdGH0LjRgtGL0LLQsNC10YLRgdGPINC/0L7RgdC70LUg0L3QsNGB0YLRg9C/0LvQtdC90LjRjyBQb3N0SWNvCiAgICAqLwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgRFVSQVRJT05fQkVGT1JFX1JFU1RPUkVfVU5TT0xEID0gMjcwIGRheXM7CgogICAgLy9lbmQgUG9zdEljbyBjb25zdGFudHMKCiAgICAvKioKICAgICog0K3QvNC40YHRgdC40Y8g0YLQvtC60LXQvdC+0LIg0LTQu9GPIEJPVU5UWQogICAgKi8KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IEVNSVNTSU9OX0ZPUl9CT1VOVFkgPSA4Mzc1MDAwMCAqIDEwICoqIDE4OwoKICAgIC8qKgogICAgKiDQrdC80LjRgdGB0LjRjyDRgtC+0LrQtdC90L7QsiDQtNC70Y8gVEVBTQogICAgKi8KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IEVNSVNTSU9OX0ZPUl9URUFNID0gNDE4NzUwMDAwICogMTAgKiogMTg7CgogICAgLyoqCiAgICAqINCa0L7Quy3QstC+INGC0L7QutC10L3QvtCyLCDQutC+0YLQvtGA0L7QtSDQsdGD0LTQtdGCINC90LDRh9C40YHQu9C10L3QviDQutCw0LbQtNC+0LzRgyDRg9GH0LDRgdGC0L3QuNC60YMg0LrQvtC80LDQvdC00YsKICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBURUFNX01FTUJFUl9WQUwgPSAyMDAwMDAwICogMTAgKiogMTg7CgogICAgLyoqCiAgICAgICog0J/QtdGA0LXRh9C40YHQu9C10L3QuNC1INGB0L7RgdGC0L7Rj9C90LjQuSDQutC+0L3RgtGA0LDQutGC0LAKICAgICAgKi8KICAgIGVudW0gSWNvU3RhdGVzIHsKCiAgICAvKioKICAgICAqINCh0L7RgdGC0L7Rj9C90LjQtSDQtNC70Y8g0LrQvtGC0L7RgNC+0LPQviDQstGL0L/QvtC70L3Rj9C10YLRgdGPINC30LDQtNCw0L3QvdCw0Y8g0Y3QvNC40YHRgdC40Y8g0L3QsCDQutC+0YjQtdC70ZHQuiDQstC70LDQtNC10LvRjNGG0LAsCiAgICAgKiDQtNCw0LvQtdC1INCy0YHQtSDQstGL0L/Rg9GJ0LXQvdC90YvQtSDRgtC+0LrQtdC90Ysg0YDQsNGB0L/RgNC10LTQtdC70Y/RjtGC0YHRjyDQstC70LDQtNC10LvRjNGG0LXQvCDQuNC3INGB0LLQvtC10LPQviDQutC+0YjQtdC70YzQutCwINC90LAg0L/RgNC+0LjQt9Cy0L7Qu9GM0L3Ri9C1INC60L7RiNC10LvRjNC60LgsINGA0LDRgdC/0YDQtdC00LXQu9C10L3QuNC1INC80L7QttC10YIg0L/RgNC+0LjRgdGF0L7QtNC40YLRjCDQstGB0LXQs9C00LAuCiAgICAgKiDQktC70LDQtNC10LvQtdGGINC90LUg0LzQvtC20LXRgiDRgNCw0YHQv9GA0LXQtNC10LvQuNGC0Ywg0LjQtyDRgdCy0L7QtdCz0L4g0LrQvtGI0LXQu9GM0LrQsCwg0LrQvtC70LjRh9C10YHRgtCy0L4g0L/RgNC10LLRi9GI0LDRjtGJ0LXQtSBJTklUSUFMX0NPSU5TX0ZPUl9WSVBQTEFDRU1FTlQg0LTQviDQv9GA0LXQutGA0LDRidC10L3QuNGPIElDTwogICAgICog0KHQvtGB0YLQvtGP0L3QuNC1INC30LDQstC10YDRiNCw0LXRgtGB0Y8g0L/QviDQvdCw0YHRgtGD0L/Qu9C10L3QuNGOINCy0YDQtdC80LXQvdC4IGVuZERhdGVPZlZpcFBsYWNlbWVudAogICAgICovCiAgICBWaXBQbGFjZW1lbnQsCgogICAgLyoqCiAgICAgICAqINCh0L7RgdGC0L7Rj9C90LjQtSDQtNC70Y8g0LrQvtGC0L7RgNC+0LPQviDQstGL0L/QvtC70L3Rj9C10YLRgdGPINC30LDQtNCw0L3QvdCw0Y8g0Y3QvNC40YHRgdC40Y8g0LIg0YHQstC+0LHQvtC00L3Ri9C5INC/0YPQuyBmcmVlTW9uZXkuCiAgICAgICAqINC00LDQu9C10LUg0LLRgdC1INCy0YvQv9GD0YnQtdC90L3Ri9C1INGB0LLQvtCx0L7QtNC90YvQtSDRgtC+0LrQtdC90Ysg0L/QvtC60YPQv9Cw0Y7RgtGB0Y8g0LLRgdC10LzQuCDQttC10LvQsNGO0YnQuNC80Lgg0LLQv9C70L7RgtGMINC00L4gZW5kRGF0ZU9mUHJlU2FsZSwKICAgICAgICog0L3QtSDQstGL0LrRg9C/0LvQtdC90L3Ri9C1INGC0L7QutC10L3RiyDQsdGD0LTRg9GCINGD0L3QuNGH0YLQvtC20LXQvdGLCiAgICAgICAqINCh0L7RgdGC0L7Rj9C90LjQtSDQt9Cw0LLQtdGA0YjQsNC10YLRgdGPINC/0L4g0L3QsNGB0YLRg9C/0LvQtdC90LjRjiDQstGA0LXQvNC10L3QuCBlbmREYXRlT2ZQcmVTYWxlLgogICAgICAgKiDQoSDQvNC+0LzQtdC90YLQsCDQvdCw0YHRgtGD0L/Qu9C10L3QuNGPIFByZVNhbGUg0L/QvtC60YPQv9C60LAg0YLQvtC60LXQvdC+0LIg0YHRgtCw0L3QvtCy0LjRgtGM0YHRjyDRgNCw0LfRgNC10YjQtdC90LAKICAgICAgICovCiAgICBQcmVTYWxlLAoKICAgIC8qKgogICAgICog0KHQvtGB0YLQvtGP0L3QuNC1INC/0YDQtdC00YHRgtCw0LLQu9GP0Y7RidC10LUg0LjQtyDRgdC10LHRjyDQv9C+0LTRgdGC0LDQtNC40Y4g0L/RgNC+0LTQsNC2LAogICAgICog0L/RgNC4INC90LDRgdGC0YPQv9C70LXQvdC40Lgg0LTQsNC90L3QvtCz0L4g0YHQvtGB0YLQvtGP0L3QuNGPINCy0YvQv9GD0YHQutCw0LXRgtGB0Y8g0LfQsNC00LDQvdC90L7QtSDQutC+0LvQuNGH0LXRgdGC0LLQviDRgtC+0LrQtdC90L7QsiwKICAgICAqINC60L7Qu9C40YfQtdGB0YLQstC+INGB0LLQvtCx0L7QtNC90YvRhSDRgtC+0LrQtdC90L7QsiDQv9GA0LjRgNCw0LLQvdC40LLQsNC10YLRgdGPINC6INGN0YLQvtC5INGN0LzQuNGB0YHQuNC4CiAgICAgKiDQodC+0YHRgtC+0Y/QvdC40LUg0LfQsNCy0LXRgNGI0LDQtdGC0YHRjyDQv9GA0Lgg0LLRi9C60YPQv9C1INCy0YHQtdGFINGB0LLQvtCx0L7QtNC90YvRhSDRgtC+0LrQtdC90L7QsiDQuNC70Lgg0L/QviDQvdCw0YHRgtGD0L/Qu9C10L3QuNGOINCy0YDQtdC80LXQvdC4IHN0YXJ0RGF0ZU9mU2FsZVN0YWdlTGFzdC4KICAgICAqINCV0YHQu9C4INCy0YvQutGD0L/QsNGO0YLRgdGPINCy0YHQtSDRgdCy0L7QsdC+0LTQvdGL0LUg0YLQvtC60LXQvdGLIC0g0L/QtdGA0LXRhdC+0LQg0L7RgdGD0YnQtdGB0YLQstC70Y/QtdGC0YHRjyDQvdCwINGB0LvQtdC00YPRjtGJ0YPRjiDRgdGC0LDQtNC40Y4gLQogICAgICog0L3QsNC/0YDQuNC80LXRgCBb0YEgU2FsZVN0YWdlMSDQvdCwIFNhbGVTdGFnZTJdINC40LvQuCBb0YEgU2FsZVN0YWdlMiDQvdCwIFNhbGVTdGFnZTNdCiAgICAgKiDQldGB0LvQuCDQvdCw0YHRgtGD0L/QsNC10YIg0LLRgNC10LzRjyBzdGFydERhdGVPZlNhbGVTdGFnZUxhc3QsINGC0L4g0L3QtdC30LDQstC40YHQuNC80L4g0L7RgiDQstGL0LrRg9C/0LvQtdC90L3Ri9GFINGC0L7QutC10L3QvtCyINC/0LXRgNC10YXQvtC00LjQvCDQvdCwINGB0YLQvtGB0YLQvtGP0L3QuNC1IFNhbGVTdGFnZUxhc3QKICAgICovCiAgICBTYWxlU3RhZ2UxLAoKICAgIC8qKgogICAgICog0JDQvdCw0LvQvtCz0LjRh9C90L4gU2FsZVN0YWdlMQogICAgICovCiAgICBTYWxlU3RhZ2UyLAoKICAgIC8qKgogICAgICog0JDQvdCw0LvQvtCz0LjRh9C90L4gU2FsZVN0YWdlMQogICAgICovCiAgICBTYWxlU3RhZ2UzLAoKICAgIC8qKgogICAgICog0JDQvdCw0LvQvtCz0LjRh9C90L4gU2FsZVN0YWdlMQogICAgICovCiAgICBTYWxlU3RhZ2U0LAoKICAgIC8qKgogICAgICog0JDQvdCw0LvQvtCz0LjRh9C90L4gU2FsZVN0YWdlMQogICAgICovCiAgICBTYWxlU3RhZ2U1LAoKICAgIC8qKgogICAgICog0JDQvdCw0LvQvtCz0LjRh9C90L4gU2FsZVN0YWdlMQogICAgICovCiAgICBTYWxlU3RhZ2U2LAoKICAgIC8qKgogICAgICog0JDQvdCw0LvQvtCz0LjRh9C90L4gU2FsZVN0YWdlMQogICAgICovCiAgICBTYWxlU3RhZ2U3LAoKICAgIC8qKgogICAgICog0KHQvtGB0YLQvtGP0L3QuNC1INC/0YDQtdC00YHRgtCw0LLQu9GP0Y7RidC10LUg0LjQtyDRgdC10LHRjyDQv9C+0YHQu9C10LTQvdGO0Y4g0L/QvtC00YHRgtCw0LTQuNGOINC/0YDQvtC00LDQtiwKICAgICAqINC/0YDQuCDQvdCw0YHRgtGD0L/Qu9C10L3QuNC4INC00LDQvdC90L7Qs9C+INGB0L7RgdGC0L7Rj9C90LjRjyDQstGL0L/Rg9GB0LrQsNC10YLRgdGPINC30LDQtNCw0L3QvdC+0LUg0LrQvtC70LjRh9C10YHRgtCy0L4g0YLQvtC60LXQvdC+0LIsCiAgICAgKiDQutC+0LvQuNGH0LXRgdGC0LLQviDRgdCy0L7QsdC+0LTQvdGL0YUg0YLQvtC60LXQvdC+0LIg0L/RgNC40YDQsNCy0L3QuNCy0LDQtdGC0YHRjyDQuiDRjdGC0L7QuSDRjdC80LjRgdGB0LjQuCwKICAgICAqINC/0LvRjtGBINC+0YHRgtCw0YLQutC4INC90LXRgNCw0YHQv9GA0L7QtNCw0L3QvdGL0YUg0YLQvtC60LXQvdC+0LIg0YHQviDRgdGC0LDQtNC40LkgU2FsZVN0YWdlMSxTYWxlU3RhZ2UyLFNhbGVTdGFnZTMsU2FsZVN0YWdlNCxTYWxlU3RhZ2U1LFNhbGVTdGFnZTYsU2FsZVN0YWdlNwogICAgICog0KHQvtGB0YLQvtGP0L3QuNC1INC30LDQstC10YDRiNCw0LXRgtGB0Y8g0L/QviDQvdCw0YHRgtGD0L/Qu9C10L3QuNGOINCy0YDQtdC80LXQvdC4IGVuZERhdGVPZlNhbGVTdGFnZUxhc3QuCiAgICAqLwogICAgU2FsZVN0YWdlTGFzdCwKCiAgICAvKioKICAgICAqINCh0L7RgdGC0L7Rj9C90LjQtSDQvdCw0YHRgtGD0L/QsNGO0YnQtdC1INC/0L7RgdC70LUg0LfQsNCy0LXRgNGI0LXQvdC40Y8gSWNvLAogICAgICog0L/RgNC4INC90LDRgdGC0YPQv9C70LXQvdC40Lgg0LTQsNC90L3QvtCz0L4g0YHQvtGB0YLQvtGP0L3QuNGPINGB0LLQvtCx0L7QtNC90YvQtSDRgtC+0LrQtdC90Ysg0YHQvtGF0YDQsNC90Y/RjtGC0YHRjyDQsiB1bnNvbGRUb2tlbnMsCiAgICAgKiDRgtCw0LrQttC1INC/0YDQvtC40YHRhdC+0LTQuNGCINCx0L7QvdGD0YHQvdC+0LUg0YDQsNGB0L/RgNC10LTQtdC70LXQvdC40LUg0LTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YvRhSDRgtC+0LrQtdC90L7QsiBCb3VudHkg0LggVGVhbSwKICAgICAqINChINC80L7QvNC10L3RgtCwINC90LDRgdGC0YPQv9C70LXQvdC40Y8gUG9zdEljbyDQv9C+0LrRg9C/0LrQsCDRgtC+0LrQtdC90L7QsiDQvdC10LLQvtC30LzQvtC20L3QsAogICAgKi8KICAgIFBvc3RJY28KCiAgICB9CgoKICAgIC8qKgogICAgKiDQl9C00LXRgdGMINGF0YDQsNC90LjQvCDQsdCw0LvQsNC90YHRiyDRgtC+0LrQtdC90L7QsgogICAgKi8KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgIGJhbGFuY2VzOwoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgIGFsbG93ZWQ7CgogICAgLyoqCiAgICAqINCX0LTQtdGB0Ywg0YXRgNCw0L3QuNC8INC90LDRh9C40YHQu9C10L3QvdGL0LUg0L/RgNC10LzQuNCw0LvRjNC90YvQtSDRgtC+0LrQtdC90YssINC80L7Qs9GD0YIg0LHRi9GC0Ywg0LLRi9Cy0LXQtNC10L3RiyDQvdCwINC60L7RiNC10LvRkdC6INC90LDRh9C40L3QsNGPINGBINC00LDRgtGLIHN0YXJ0RGF0ZU9mVXNlVGVhbVRva2VucwogICAgKi8KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgdGVhbUJhbGFuY2VzOwoKICAgIC8qKgogICAgKiDQktC70LDQtNC10LvQtdGGINC60L7QvdGC0YDQsNC60YLQsCAtINGA0LDRgdC/0YDQtdC00LXQu9GP0LXRgiDQstC40L8g0YLQvtC60LXQvdGLLCDQvdCw0YfQuNGB0LvRj9C10YIg0LHQsNGD0L3RgtC4INC4IHRlYW0sINC+0YHRg9GJ0LXRgdGC0LLQu9GP0LXRgiDQv9C10YDQtdGF0L7QtCDQv9C+INGB0YLQsNC00LjRj9C8LAogICAgKi8KICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgICAvKioKICAgICog0KPRh9Cw0YHRgtC90LjQuiDQutC+0L3RgtGA0LDQutGC0LAgLSAg0LLRi9Cy0L7QtNC40YIgZXRoINC/0L7RgdC70LUg0L3QsNGB0YLRg9C/0LvQtdC90LjRjyBQb3N0SWNvLCDRgdC+0LLQvNC10YHRgtC90L4g0YEgd2l0aGRyYXdhbDIKICAgICovCiAgICBhZGRyZXNzIHB1YmxpYyB3aXRoZHJhd2FsMTsKCiAgICAvKioKICAgICog0KPRh9Cw0YHRgtC90LjQuiDQutC+0L3RgtGA0LDQutGC0LAgLSDRgtC+0LvRjNC60L4g0L/RgNC4INC10LPQviDRg9GH0LDRgdGC0LjQuCDQvNC+0LbQtdGCINCx0YvRgtGMINCy0YvQstC10LTQtdC90YsgZXRoINC/0L7RgdC70LUg0L3QsNGB0YLRg9C/0LvQtdC90LjRjyBQb3N0SWNvLCDRgdC+0LLQvNC10YHRgtC90L4g0YEgd2l0aGRyYXdhbDEKICAgICovCiAgICBhZGRyZXNzIHB1YmxpYyB3aXRoZHJhd2FsMjsKCgoKCiAgICAvKioKICAgICog0JDQtNGA0LXRgSDQvdCwINGB0YfRkdGC0LUg0LrQvtGC0L7RgNC+0LPQviDQvdCw0YXQvtC00Y/RgtGB0Y8g0L3QtdGA0LDRgdC/0YDQtdC00LXQu9GR0L3QvdGL0LUgYm91bnR5INGC0L7QutC10L3RiwogICAgKi8KICAgIGFkZHJlc3MgcHVibGljIGJvdW50eVRva2Vuc0FjY291bnQ7CgogICAgLyoqCiAgICAqINCQ0LTRgNC10YEg0L3QsCDRgdGH0ZHRgtC1INC60L7RgtC+0YDQvtCz0L4g0L3QsNGF0L7QtNGP0YLRgdGPINC90LXRgNCw0YHQv9GA0LXQtNC10LvRkdC90L3Ri9C1IHRlYW0g0YLQvtC60LXQvdGLCiAgICAqLwogICAgYWRkcmVzcyBwdWJsaWMgdGVhbVRva2Vuc0FjY291bnQ7CgogICAgLyoqCiAgICAq0JDQtNGA0LXRgSDQvdCwINC60L7RgtC+0YDRi9C5INC40L3QuNGG0LjQuNGA0L7QstCw0L0g0LLRi9Cy0L7QtCBldGggKNCy0LvQsNC00LXQu9GM0YbQtdC8KQogICAgKi8KICAgIGFkZHJlc3MgcHVibGljIHdpdGhkcmF3YWxUbzsKCiAgICAvKioKICAgICog0JrQvtC70LjRh9C10YHRgtCy0L4gZXRoINC60L7RgtC+0YDRi9C5INC/0YDQtdC00L/QvtC70LDQs9Cw0LXRgtGB0Y8g0LLRi9Cy0L7QtNC40YLRjCDQvdCwINCw0LTRgNC10YEgd2l0aGRyYXdhbFRvCiAgICAqLwogICAgdWludDI1NiBwdWJsaWMgd2l0aGRyYXdhbFZhbHVlOwoKICAgIC8qKgogICAgICog0JrQvtC70LjRh9C10YHRgtCy0L4g0L3QtdGA0LDRgdC/0YDQtdC00LXQu9GR0L3QvdGL0YUg0YLQvtC60LXQvdC+0LIgYm91bnR5CiAgICAgKiAqLwogICAgdWludDI1NiBwdWJsaWMgYm91bnR5VG9rZW5zTm90RGlzdHJpYnV0ZWQ7CgogICAgLyoqCiAgICAgKiDQmtC+0LvQuNGH0LXRgdGC0LLQviDQvdC10YDQsNGB0L/RgNC10LTQtdC70ZHQvdC90YvRhSDRgtC+0LrQtdC90L7QsiB0ZWFtCiAgICAgKiAqLwogICAgdWludDI1NiBwdWJsaWMgdGVhbVRva2Vuc05vdERpc3RyaWJ1dGVkOwoKICAgIC8qKgogICAgICAqINCi0LXQutGD0YnQtdC1INGB0L7RgdGC0L7Rj9C90LjQtQogICAgICAqLwogICAgSWNvU3RhdGVzIHB1YmxpYyBjdXJyZW50U3RhdGU7CgogICAgLyoqCiAgICAqINCa0L7Qu9C40YfQtdGB0YLQstC+INGB0L7QsdGA0LDQvdC90L7Qs9C+INGN0YTQuNGA0LAKICAgICovCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbEJhbGFuY2U7CgogICAgLyoqCiAgICAqINCa0L7Qu9C40YfQtdGB0YLQstC+INGB0LLQvtCx0L7QtNC90YvRhSDRgtC+0LrQtdC90L7QsiAo0L3QuNC60YLQviDQuNC80Lgg0L3QtSDQstC70LDQtNC10LXRgikKICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBmcmVlTW9uZXkgPSAwOwoKICAgIC8qKgogICAgICog0J7QsdGJ0LXQtSDQutC+0LvQuNGH0LXRgdGC0LLQviDQstGL0L/Rg9GJ0LXQvdC90YvRhSDRgtC+0LrQtdC90L7QsgogICAgICogKi8KICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5ID0gMDsKCiAgICAvKioKICAgICAqINCe0LHRidC10LUg0LrQvtC70LjRh9C10YHRgtCy0L4g0LrRg9C/0LvQtdC90L3Ri9GFINGC0L7QutC10L3QvtCyCiAgICAgKiAqLwogICAgdWludDI1NiBwdWJsaWMgdG90YWxCb3VnaHQgPSAwOwoKCgogICAgLyoqCiAgICAgKiDQmtC+0LvQuNGH0LXRgdGC0LLQviDQvdC1INGA0LDRgdC/0YDQtdC00LXQu9GR0L3QvdGL0YUg0YLQvtC60LXQvdC+0LIg0L7RgiDRgdGC0LDQtNC40LggVmlwUGxhY2VtZW50CiAgICAgKi8KICAgIHVpbnQyNTYgcHVibGljIHZpcFBsYWNlbWVudE5vdERpc3RyaWJ1dGVkOwoKICAgIC8qKgogICAgICog0JTQsNGC0LAg0L7QutC+0L3Rh9Cw0L3QuNGPINGB0YLQsNC00LjQuCBWaXBQbGFjZW1lbnQKICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBlbmREYXRlT2ZWaXBQbGFjZW1lbnQ7CgogICAgLyoqCiAgICAgKiDQlNCw0YLQsCDQvtC60L7QvdGH0LDQvdC40Y8g0YHRgtCw0LTQuNC4IFByZVNhbGUKICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBlbmREYXRlT2ZQcmVTYWxlID0gMDsKCiAgICAvKioKICAgICAqINCU0LDRgtCwINC90LDRh9Cw0LvQsCDRgdGC0LDQtNC40LggU2FsZVN0YWdlTGFzdAogICAgKi8KICAgIHVpbnQyNTYgcHVibGljIHN0YXJ0RGF0ZU9mU2FsZVN0YWdlTGFzdDsKCiAgICAvKioKICAgICAqINCU0LDRgtCwINC+0LrQvtC90YfQsNC90LjRjyDRgdGC0LDQtNC40LggU2FsZVN0YWdlTGFzdAogICAgKi8KICAgIHVpbnQyNTYgcHVibGljIGVuZERhdGVPZlNhbGVTdGFnZUxhc3QgPSAwOwoKCiAgICAvKioKICAgICAqINCe0YHRgtCw0YLQvtC6INC90LXRgNCw0YHQv9GA0L7QtNCw0L3QvdGL0YUg0YLQvtC60LXQvdC+0LIg0LTQu9GPINGB0L7RgdGC0L7Rj9C90LjQuSDRgSBTYWxlU3RhZ2UxINC/0L4gU2FsZVN0YWdlNywg0LrQvtGC0L7RgNGL0LUg0L/QtdGA0LXRhdC+0LTRj9GCINCyINGB0LLQvtCx0L7QtNC90YvQtSDQvdCwINC80L7QvNC10L3RgiDQvdCw0YHRgtGD0L/Qu9C10L3QuNGPIFNhbGVTdGFnZUxhc3QKICAgICAqLwogICAgdWludDI1NiBwdWJsaWMgcmVtRm9yU2FsZXNCZWZvcmVTdGFnZUxhc3QgPSAwOwoKICAgIC8qKgogICAgKiDQlNCw0YLQsCwg0L3QsNGH0LjQvdCw0Y8g0YEg0LrQvtGC0L7RgNC+0Lkg0LzQvtC20L3QviDQv9C+0LvRg9GH0LjRgtGMIHRlYW0g0YLQvtC60LXQvdGLINC90LXQv9C+0YHRgNC10LTRgdGC0LLQtdC90L3QviDQvdCwINC60L7RiNC10LvRkdC6CiAgICAqLwogICAgdWludDI1NiBwdWJsaWMgc3RhcnREYXRlT2ZVc2VUZWFtVG9rZW5zID0gMDsKCiAgICAvKioKICAgICog0JTQsNGC0LAsINC90LDRh9C40L3QsNGPINGBINC60L7RgtC+0YDQvtC5INC80L7QttC90L4g0LLQvtGB0YHRgtCw0L3QvtCy0LjRgtGMLdC/0LXRgNC10LLQtdGB0YLQuCDQvdC10YDQsNGB0L/RgNC+0LTQsNC90L3Ri9C1INGC0L7QutC10L3RiyB1bnNvbGRUb2tlbnMKICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBzdGFydERhdGVPZlJlc3RvcmVVbnNvbGRUb2tlbnMgPSAwOwoKICAgIC8qKgogICAgKiDQmtC+0LvQuNGH0LXRgdGC0LLQviDQvdC10YDQsNGB0L/RgNC+0LTQsNC90L3Ri9GFINGC0L7QutC10L3QvtCyINC90LAg0LzQvtC80LXQvdGCINC90LDRgdGC0YPQv9C70LXQvdC40Y8gUG9zdEljbwogICAgKi8KICAgIHVpbnQyNTYgcHVibGljIHVuc29sZFRva2VucyA9IDA7CgogICAgLyoqCiAgICAgKiBIb3cgbWFueSB0b2tlbiB1bml0cyBhIGJ1eWVyIGdldHMgcGVyIHdlaQogICAgICovCiAgICB1aW50MjU2IHB1YmxpYyByYXRlID0gMDsKCgogICAgLyoqCiAgICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICAgKi8KICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgd2l0aGRyYXdhbDEuCiAgICAgKi8KICAgIG1vZGlmaWVyIG9ubHlXaXRoZHJhd2FsMSgpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gd2l0aGRyYXdhbDEpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgd2l0aGRyYXdhbDIuCiAgICAgKi8KICAgIG1vZGlmaWVyIG9ubHlXaXRoZHJhd2FsMigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gd2l0aGRyYXdhbDIpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiDQnNC+0LTQuNGE0LjQutCw0YLQvtGAINC/0L7Qt9Cy0L7Qu9GP0Y7RidC40Lkg0LLRi9C/0L7Qu9C90Y/RgtGMINCy0YvQt9C+0LIsCiAgICAgKiDRgtC+0LvRjNC60L4g0LXRgdC70Lgg0YHQvtGB0YLQvtGP0L3QuNC1IFBvc3RJY28g0LjQu9C4INCy0YvRiNC1CiAgICAgKi8KICAgIG1vZGlmaWVyIGFmdGVySWNvKCkgewogICAgICAgIHJlcXVpcmUodWludChjdXJyZW50U3RhdGUpID49IHVpbnQoSWNvU3RhdGVzLlBvc3RJY28pKTsKICAgICAgICBfOwogICAgfQoKCiAgICAvKioKICAgICog0JzQvtC00LjRhNC40LrQsNGC0L7RgCDQv9GA0L7QstC10YDRj9GO0YnQuNC5INC00L7Qv9GD0YHRgtC40LzQvtGB0YLRjCDQvtC/0LXRgNCw0YbQuNC5IHRyYW5zZmVyCiAgICAqLwogICAgbW9kaWZpZXIgY2hlY2tGb3JUcmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpICB7CgogICAgICAgIC8v0L/RgNC+0LLQtdGA0Y/QtdC8INGA0LDQt9C80LXRgCDQv9C10YDQtdCy0L7QtNCwCiAgICAgICAgcmVxdWlyZShfdmFsdWUgPiAwKTsKCiAgICAgICAgLy/Qv9GA0L7QstC10YDRj9C10Lwg0LrQvtGI0LXQu9GR0Log0L3QsNC30L3QsNGH0LXQvdC40Y8KICAgICAgICByZXF1aXJlKF90byAhPSAweDAgJiYgX3RvICE9IF9mcm9tKTsKCiAgICAgICAgLy/QvdCwINGB0YLQsNC00LjRj9GFINC/0LXRgNC10LQgaWNvINC/0LXRgNC10LLQvtC00LjRgtGMINC80L7QttC10YIg0YLQvtC70YzQutC+INCy0LvQsNC00LXQu9C10YYKICAgICAgICByZXF1aXJlKGN1cnJlbnRTdGF0ZSA9PSBJY29TdGF0ZXMuUG9zdEljbyB8fCBfZnJvbSA9PSBvd25lcik7CgogICAgICAgIC8v0L7Qv9C10YDQsNGG0LjQuCDQvdCwIGJvdW50eSDQuCB0ZWFtINC90LUg0LTQvtC/0YPRgdGC0LjQvNGLINC00L4g0L7QutC+0L3Rh9Cw0L3QuNGPIGljbwogICAgICAgIHJlcXVpcmUoY3VycmVudFN0YXRlID09IEljb1N0YXRlcy5Qb3N0SWNvIHx8IChfdG8gIT0gYm91bnR5VG9rZW5zQWNjb3VudCAmJiBfdG8gIT0gdGVhbVRva2Vuc0FjY291bnQpKTsKCiAgICAgICAgXzsKICAgIH0KCgoKICAgIC8qKgogICAgICog0KHQvtCx0YvRgtC40LUg0LjQt9C80LXQvdC10L3QuNGPINGB0L7RgdGC0L7Rj9C90LjRjyDQutC+0L3RgtGA0LDQutGC0LAKICAgICAqLwogICAgZXZlbnQgU3RhdGVDaGFuZ2VkKEljb1N0YXRlcyBzdGF0ZSk7CgoKICAgIC8qKgogICAgICog0KHQvtCx0YvRgtC40LUg0L/QvtC60YPQv9C60Lgg0YLQvtC60LXQvdC+0LIKICAgICAqLwogICAgZXZlbnQgQnV5KGFkZHJlc3MgYmVuZWZpY2lhcnksIHVpbnQyNTYgYm91Z2h0VG9rZW5zLCB1aW50MjU2IGV0aFZhbHVlKTsKCiAgICAvKioKICAgICogQGRldiDQmtC+0L3RgdGC0YDRg9C60YLQvtGACiAgICAqLwogICAgZnVuY3Rpb24gUm9ib21lZEljbygpIHB1YmxpYyB7CgogICAgICAgIC8v0L/RgNC+0LLQtdGA0Y/QtdC8LCDRh9GC0L4g0LLRgdC1INGD0LrQsNC30LDQvdC90YvQtSDQsNC00YDQtdGB0LAg0L3QtSDRgNCw0LLQvdGLIDAsINGC0LDQutC20LUg0L7QvdC4INC+0YLQu9C40YfQsNGO0YLRgdGPINC+0YIg0YHQvtC30LTQsNGO0YnQtdCz0L4g0LrQvtC90YLRgNCw0LrRggogICAgICAgIC8v0L/QviDRgdGD0YLQuCDQutC+0L3RgtGA0LDQutGCINGB0L7Qt9C00LDRkdGCINC90LXQutC+0LUgMy3QtdC1INC70LjRhtC+INC90LUg0LjQvNC10Y7RidC10LUg0LIg0LTQsNC70YzQvdC10LnRiNC10Lwg0L3QuCDQutCw0LrQuNGFINC+0YHQvtCx0LXQvdC90YvRhSDQv9GA0LDQsgogICAgICAgIC8v0YLQsNC6INC20LUg0LTQtdC50YHRgtCy0YPQtdGCINGD0YHQu9C+0LLQuNC1INGH0YLQviDQstGB0LUg0L/QtdGA0LjRh9C40YHQu9C10L3QvdGL0LUg0LDQtNGA0LXRgdCwINGA0LDQt9C90YvQtSAo0L3QtdC70YzQt9GPINCx0YvRgtGMINC+0LTQvdC+0LLRgNC10LzQtdC90L3QviDQstC70LDQtNC10LvRjNGG0LXQvCDQuCDQutC+0YjQtdC70YzQutC+0Lwg0LTQu9GPINGC0L7QutC10L3QvtCyIC0g0L3QsNC/0YDQuNC80LXRgCkKICAgICAgICByZXF1aXJlKEFERFJfT1dORVIgIT0gMHgwICYmIEFERFJfT1dORVIgIT0gbXNnLnNlbmRlcik7CiAgICAgICAgcmVxdWlyZShBRERSX1dJVEhEUkFXQUwxICE9IDB4MCAmJiBBRERSX1dJVEhEUkFXQUwxICE9IG1zZy5zZW5kZXIpOwogICAgICAgIHJlcXVpcmUoQUREUl9XSVRIRFJBV0FMMiAhPSAweDAgJiYgQUREUl9XSVRIRFJBV0FMMiAhPSBtc2cuc2VuZGVyKTsKICAgICAgICByZXF1aXJlKEFERFJfQk9VTlRZX1RPS0VOU19BQ0NPVU5UICE9IDB4MCAmJiBBRERSX0JPVU5UWV9UT0tFTlNfQUNDT1VOVCAhPSBtc2cuc2VuZGVyKTsKICAgICAgICByZXF1aXJlKEFERFJfVEVBTV9UT0tFTlNfQUNDT1VOVCAhPSAweDAgJiYgQUREUl9URUFNX1RPS0VOU19BQ0NPVU5UICE9IG1zZy5zZW5kZXIpOwoKICAgICAgICByZXF1aXJlKEFERFJfQk9VTlRZX1RPS0VOU19BQ0NPVU5UICE9IEFERFJfVEVBTV9UT0tFTlNfQUNDT1VOVCk7CiAgICAgICAgcmVxdWlyZShBRERSX09XTkVSICE9IEFERFJfVEVBTV9UT0tFTlNfQUNDT1VOVCk7CiAgICAgICAgcmVxdWlyZShBRERSX09XTkVSICE9IEFERFJfQk9VTlRZX1RPS0VOU19BQ0NPVU5UKTsKICAgICAgICByZXF1aXJlKEFERFJfV0lUSERSQVdBTDEgIT0gQUREUl9PV05FUik7CiAgICAgICAgcmVxdWlyZShBRERSX1dJVEhEUkFXQUwxICE9IEFERFJfQk9VTlRZX1RPS0VOU19BQ0NPVU5UKTsKICAgICAgICByZXF1aXJlKEFERFJfV0lUSERSQVdBTDEgIT0gQUREUl9URUFNX1RPS0VOU19BQ0NPVU5UKTsKICAgICAgICByZXF1aXJlKEFERFJfV0lUSERSQVdBTDIgIT0gQUREUl9PV05FUik7CiAgICAgICAgcmVxdWlyZShBRERSX1dJVEhEUkFXQUwyICE9IEFERFJfQk9VTlRZX1RPS0VOU19BQ0NPVU5UKTsKICAgICAgICByZXF1aXJlKEFERFJfV0lUSERSQVdBTDIgIT0gQUREUl9URUFNX1RPS0VOU19BQ0NPVU5UKTsKICAgICAgICByZXF1aXJlKEFERFJfV0lUSERSQVdBTDIgIT0gQUREUl9XSVRIRFJBV0FMMSk7CgogICAgICAgIC8v0LLRi9GB0YLQsNCy0LvRj9C10Lwg0LDQtNGA0LXRgdCwCiAgICAgICAgLy90ZXN0CiAgICAgICAgb3duZXIgPSBBRERSX09XTkVSOwogICAgICAgIHdpdGhkcmF3YWwxID0gQUREUl9XSVRIRFJBV0FMMTsKICAgICAgICB3aXRoZHJhd2FsMiA9IEFERFJfV0lUSERSQVdBTDI7CiAgICAgICAgYm91bnR5VG9rZW5zQWNjb3VudCA9IEFERFJfQk9VTlRZX1RPS0VOU19BQ0NPVU5UOwogICAgICAgIHRlYW1Ub2tlbnNBY2NvdW50ID0gQUREUl9URUFNX1RPS0VOU19BQ0NPVU5UOwoKICAgICAgICAvL9GD0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdC8INC90LDRh9Cw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1INC90LAg0L/RgNC10LTQvtC/0YDQtdC00LXQu9GR0L3QvdGL0YUg0LDQutC60LDRg9C90YLQsNGFCiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gSU5JVElBTF9DT0lOU19GT1JfVklQUExBQ0VNRU5UOwogICAgICAgIGJhbGFuY2VzW2JvdW50eVRva2Vuc0FjY291bnRdID0gRU1JU1NJT05fRk9SX0JPVU5UWTsKICAgICAgICBiYWxhbmNlc1t0ZWFtVG9rZW5zQWNjb3VudF0gPSBFTUlTU0lPTl9GT1JfVEVBTTsKCiAgICAgICAgLy/QvdC10YDQsNGB0L/RgNC10LTQtdC70ZHQvdC90YvQtSDRgtC+0LrQtdC90YsKICAgICAgICBib3VudHlUb2tlbnNOb3REaXN0cmlidXRlZCA9IEVNSVNTSU9OX0ZPUl9CT1VOVFk7CiAgICAgICAgdGVhbVRva2Vuc05vdERpc3RyaWJ1dGVkID0gRU1JU1NJT05fRk9SX1RFQU07CiAgICAgICAgdmlwUGxhY2VtZW50Tm90RGlzdHJpYnV0ZWQgPSBJTklUSUFMX0NPSU5TX0ZPUl9WSVBQTEFDRU1FTlQ7CgogICAgICAgIGN1cnJlbnRTdGF0ZSA9IEljb1N0YXRlcy5WaXBQbGFjZW1lbnQ7CiAgICAgICAgdG90YWxTdXBwbHkgPSBJTklUSUFMX0NPSU5TX0ZPUl9WSVBQTEFDRU1FTlQgKyBFTUlTU0lPTl9GT1JfQk9VTlRZICsgRU1JU1NJT05fRk9SX1RFQU07CgogICAgICAgIGVuZERhdGVPZlZpcFBsYWNlbWVudCA9IG5vdy5hZGQoRFVSQVRJT05fVklQUExBQ0VNRU5UKTsKICAgICAgICByZW1Gb3JTYWxlc0JlZm9yZVN0YWdlTGFzdCA9IDA7CgoKICAgICAgICAvL3NldCB0ZWFtIGZvciBtZW1iZXJzCiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIC8vaWxkYXIKICAgICAgICB0cmFuc2ZlclRlYW0oMHhhMTlEQzRjMTU4MTY5YkM0NWIxNzU5NGQzRjE1ZTRkQ2IzNkNDM0EzLCBURUFNX01FTUJFUl9WQUwpOwogICAgICAgIC8vdm92YQogICAgICAgIHRyYW5zZmVyVGVhbSgweGRmNjY0OTBGZTlGMmFkYTUxOTY3RjcxZDZCNWUyNkE5RDc3MDY1RUQsIFRFQU1fTUVNQkVSX1ZBTCk7CiAgICAgICAgLy9raXJpbGwKICAgICAgICB0cmFuc2ZlclRlYW0oMHhmMDIxNUM2QTU1M0FEOEUxNTVEYTY5QjI2NTdCZWFCQzUxZDE4N2M1LCBURUFNX01FTUJFUl9WQUwpOwogICAgICAgIC8vZXZnCiAgICAgICAgdHJhbnNmZXJUZWFtKDB4NmMxNjY2ZDM4ODMwMjM4NUFFNWM2Mjk5MzgyNDk2N2EwOTdGMTRiQywgVEVBTV9NRU1CRVJfVkFMKTsKICAgICAgICAvL2lnb3IKICAgICAgICB0cmFuc2ZlclRlYW0oMHg4MkQ1NTBkQzc0ZjhCNzBCMjAyYUI1YjYzREFiZTc1RTZGMDBmYjM2LCBURUFNX01FTUJFUl9WQUwpOwogICAgICAgIG93bmVyID0gQUREUl9PV05FUjsKICAgIH0KCiAgICAvKioKICAgICogRnVuY3Rpb24gdG8gYWNjZXNzIG5hbWUgb2YgdG9rZW4gLgogICAgKi8KICAgIGZ1bmN0aW9uIG5hbWUoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nKSB7CiAgICAgICAgcmV0dXJuIG5hbWU7CiAgICB9CgogICAgLyoqCiAgICAqIEZ1bmN0aW9uIHRvIGFjY2VzcyBzeW1ib2wgb2YgdG9rZW4gLgogICAgKi8KICAgIGZ1bmN0aW9uIHN5bWJvbCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChzdHJpbmcpIHsKICAgICAgICByZXR1cm4gc3ltYm9sOwogICAgfQoKICAgIC8qKgogICAgKiBGdW5jdGlvbiB0byBhY2Nlc3MgZGVjaW1hbHMgb2YgdG9rZW4gLgogICAgKi8KICAgIGZ1bmN0aW9uIGRlY2ltYWxzKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4KSB7CiAgICAgICAgcmV0dXJuIGRlY2ltYWxzOwogICAgfQoKCiAgICAvKioKICAgICogRnVuY3Rpb24gdG8gYWNjZXNzIHRvdGFsIHN1cHBseSBvZiB0b2tlbnMgLgogICAgKi8KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gdG90YWxTdXBwbHk7CiAgICB9CgogICAgLyoqCiAgICAqINCc0LXRgtC+0LQg0L/QvtC70YPRh9Cw0Y7RidC40Lkg0LrQvtC70LjRh9C10YHRgtCy0L4g0L3QsNGH0LjRgdC70LXQvdC90YvRhSDQv9GA0LXQvNC40LDQu9GM0L3Ri9GFINGC0L7QutC10L3QvtCyCiAgICAqLwogICAgZnVuY3Rpb24gdGVhbUJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpewogICAgICAgIHJldHVybiB0ZWFtQmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICAvKioKICAgICog0JzQtdGC0L7QtCDQt9Cw0YfQuNGB0LvRj9GO0YnQuNC5INC/0YDQtdC00LLQsNGA0LjRgtC10LvRjNC90L4g0YDQsNGB0L/RgNC10LTQtdC70ZHQvdC90YvQtSB0ZWFtINGC0L7QutC10L3RiyDQvdCwINC60L7RiNC10LvRkdC6CiAgICAqLwogICAgZnVuY3Rpb24gYWNjcnVlVGVhbVRva2VucygpIHB1YmxpYyBhZnRlckljbyB7CiAgICAgICAgLy/Qt9Cw0YfQuNGB0LvQtdC90LjQtSDQstC+0LfQvNC+0LbQvdC+INGC0L7Qu9GM0LrQviDQv9C+0YHQu9C1INC+0L/RgNC10LTQtdC70ZHQvdC90L7QuSDQtNCw0YLRiwogICAgICAgIHJlcXVpcmUoc3RhcnREYXRlT2ZVc2VUZWFtVG9rZW5zIDw9IG5vdyk7CgogICAgICAgIC8v0LTQvtCx0LDQstC70Y/QtdC8INCyINC+0LHRidC10LUg0LrQvtC70LjRh9C10YHRgtCy0L4g0LLRi9C/0YPRidC10L3QvdGL0YUKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZCh0ZWFtQmFsYW5jZXNbbXNnLnNlbmRlcl0pOwoKICAgICAgICAvL9C30LDRh9C40YHQu9GP0LXQvCDQvdCwINC60L7RiNC10LvRkdC6INC4INC+0LHQvdGD0LvRj9C10Lwg0L3QtSDQvdCw0YfQuNGB0LvQtdC90L3Ri9C1CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQodGVhbUJhbGFuY2VzW21zZy5zZW5kZXJdKTsKICAgICAgICB0ZWFtQmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAwOwogICAgfQoKICAgIC8qKgogICAgKiDQnNC10YLQvtC0INC/0YDQvtCy0LXRgNGP0Y7RidC40Lkg0LLQvtC30LzQvtC20L3QvtGB0YLRjCDQstC+0YHRgdGC0LDQvdC+0LLQu9C10L3QuNGPINC90LXRgNCw0YHQv9GA0L7QtNCw0L3QvdGL0YUg0YLQvtC60LXQvdC+0LIKICAgICovCiAgICBmdW5jdGlvbiBjYW5SZXN0b3JlVW5zb2xkVG9rZW5zKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICAvL9Cy0L7RgdGB0YLQsNC90L7QstC70LXQvdC40LUg0LLQvtC30LzQvtC20L3QviDRgtC+0LvRjNC60L4g0L/QvtGB0LvQtSBpY28KICAgICAgICBpZiAoY3VycmVudFN0YXRlICE9IEljb1N0YXRlcy5Qb3N0SWNvKSByZXR1cm4gZmFsc2U7CgogICAgICAgIC8v0LLQvtGB0YHRgtCw0L3QvtCy0LvQtdC90LjQtSDQstC+0LfQvNC+0LbQvdC+INGC0L7Qu9GM0LrQviDQv9C+0YHQu9C1INC+0L/RgNC10LTQtdC70ZHQvdC90L7QuSDQtNCw0YLRiwogICAgICAgIGlmIChzdGFydERhdGVPZlJlc3RvcmVVbnNvbGRUb2tlbnMgPiBub3cpIHJldHVybiBmYWxzZTsKCiAgICAgICAgLy/QstC+0YHRgdGC0LDQvdC+0LLQu9C10L3QuNC1INCy0L7Qt9C80L7QttC90L4g0YLQvtC70YzQutC+INC10YHQu9C4INC10YHRgtGMINGH0YLQviDQstC+0YHRgdGC0LDQvdCw0LLQu9C40LLQsNGC0YwKICAgICAgICBpZiAodW5zb2xkVG9rZW5zID09IDApIHJldHVybiBmYWxzZTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAqINCc0LXRgtC+0LQg0LLRi9C/0L7Qu9C90Y/RjtGJ0LjQuSDQstC+0YHRgdGC0LDQvdC+0LLQu9C10L3QuNC1INC90LXRgNCw0YHQv9GA0L7QtNCw0L3QvdGL0YUg0YLQvtC60LXQvdC+0LIKICAgICovCiAgICBmdW5jdGlvbiByZXN0b3JlVW5zb2xkVG9rZW5zKGFkZHJlc3MgX3RvKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKF90byAhPSAweDApOwogICAgICAgIHJlcXVpcmUoY2FuUmVzdG9yZVVuc29sZFRva2VucygpKTsKCiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKHVuc29sZFRva2Vucyk7CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQodW5zb2xkVG9rZW5zKTsKICAgICAgICB1bnNvbGRUb2tlbnMgPSAwOwogICAgfQoKICAgIC8qKgogICAgICog0JzQtdGC0L7QtCDQv9C10YDQtdCy0L7QtNGP0YnQuNC5INC60L7QvdGC0YDQsNC60YIg0LIg0YHQu9C10LTRg9GO0YnQtdC1INC00L7RgdGC0YPQv9C90L7QtSDRgdC+0YHRgtC+0Y/QvdC40LUsCiAgICAgKiDQlNC70Y8g0LLRi9GP0YHQvdC10L3QuNGPINCy0L7Qt9C80L7QttC90L7RgdGC0Lgg0L/QtdGA0LXRhdC+0LTQsCDQvNC+0LbQvdC+INC40YHQv9C+0LvRjNC30L7QstCw0YLRjCDQvNC10YLQvtC0IGNhbkdvdG9TdGF0ZQogICAgKi8KICAgIGZ1bmN0aW9uIGdvdG9OZXh0U3RhdGUoKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wpICB7CgogICAgICAgIGlmIChnb3RvUHJlU2FsZSgpIHx8IGdvdG9TYWxlU3RhZ2UxKCkgfHwgZ290b1NhbGVTdGFnZUxhc3QoKSB8fCBnb3RvUG9zdEljbygpKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgoKICAgIC8qKgogICAgKiDQmNC90LjRhtC40LDRhtC40Y8g0YHQvdGP0YLQuNGPINGN0YTQuNGA0LAg0L3QsCDRg9C60LDQt9Cw0L3QvdGL0Lkg0LrQvtGI0LXQu9GR0LoKICAgICovCiAgICBmdW5jdGlvbiBpbml0V2l0aGRyYXdhbChhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyBhZnRlckljbyBvbmx5V2l0aGRyYXdhbDEgewogICAgICAgIHdpdGhkcmF3YWxUbyA9IF90bzsKICAgICAgICB3aXRoZHJhd2FsVmFsdWUgPSBfdmFsdWU7CiAgICB9CgogICAgLyoqCiAgICAqINCf0L7QtNGC0LLQtdGA0LbQtNC10L3QuNC1INGB0L3Rj9GC0LjRjyDRjdGE0LjRgNCwINC90LAg0YPQutCw0LfQsNC90L3Ri9C5INC60L7RiNC10LvRkdC6CiAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZVdpdGhkcmF3YWwoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgYWZ0ZXJJY28gb25seVdpdGhkcmF3YWwyIHsKICAgICAgICByZXF1aXJlKF90byAhPSAweDAgJiYgX3ZhbHVlID4gMCk7CiAgICAgICAgcmVxdWlyZShfdG8gPT0gd2l0aGRyYXdhbFRvKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA9PSB3aXRoZHJhd2FsVmFsdWUpOwoKICAgICAgICB0b3RhbEJhbGFuY2UgPSB0b3RhbEJhbGFuY2Uuc3ViKF92YWx1ZSk7CiAgICAgICAgd2l0aGRyYXdhbFRvLnRyYW5zZmVyKF92YWx1ZSk7CgogICAgICAgIHdpdGhkcmF3YWxUbyA9IDB4MDsKICAgICAgICB3aXRoZHJhd2FsVmFsdWUgPSAwOwogICAgfQoKCgogICAgLyoqCiAgICAgKiDQnNC10YLQvtC0INC/0YDQvtCy0LXRgNGP0Y7RidC40Lkg0LLQvtC30LzQvtC20L3QvtGB0YLRjCDQv9C10YDQtdGF0L7QtNCwINCyINGD0LrQsNC30LDQvdC90L7QtSDRgdC+0YHRgtC+0Y/QvdC40LUKICAgICAqLwogICAgZnVuY3Rpb24gY2FuR290b1N0YXRlKEljb1N0YXRlcyB0b1N0YXRlKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCl7CiAgICAgICAgaWYgKHRvU3RhdGUgPT0gSWNvU3RhdGVzLlByZVNhbGUpIHsKICAgICAgICAgICAgcmV0dXJuIChjdXJyZW50U3RhdGUgPT0gSWNvU3RhdGVzLlZpcFBsYWNlbWVudCAmJiBlbmREYXRlT2ZWaXBQbGFjZW1lbnQgPD0gbm93KTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAodG9TdGF0ZSA9PSBJY29TdGF0ZXMuU2FsZVN0YWdlMSkgewogICAgICAgICAgICByZXR1cm4gKGN1cnJlbnRTdGF0ZSA9PSBJY29TdGF0ZXMuUHJlU2FsZSAmJiBlbmREYXRlT2ZQcmVTYWxlIDw9IG5vdyk7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHRvU3RhdGUgPT0gSWNvU3RhdGVzLlNhbGVTdGFnZTIpIHsKICAgICAgICAgICAgcmV0dXJuIChjdXJyZW50U3RhdGUgPT0gSWNvU3RhdGVzLlNhbGVTdGFnZTEgJiYgZnJlZU1vbmV5ID09IDAgJiYgc3RhcnREYXRlT2ZTYWxlU3RhZ2VMYXN0ID4gbm93KTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAodG9TdGF0ZSA9PSBJY29TdGF0ZXMuU2FsZVN0YWdlMykgewogICAgICAgICAgICByZXR1cm4gKGN1cnJlbnRTdGF0ZSA9PSBJY29TdGF0ZXMuU2FsZVN0YWdlMiAmJiBmcmVlTW9uZXkgPT0gMCAmJiBzdGFydERhdGVPZlNhbGVTdGFnZUxhc3QgPiBub3cpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmICh0b1N0YXRlID09IEljb1N0YXRlcy5TYWxlU3RhZ2U0KSB7CiAgICAgICAgICAgIHJldHVybiAoY3VycmVudFN0YXRlID09IEljb1N0YXRlcy5TYWxlU3RhZ2UzICYmIGZyZWVNb25leSA9PSAwICYmIHN0YXJ0RGF0ZU9mU2FsZVN0YWdlTGFzdCA+IG5vdyk7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHRvU3RhdGUgPT0gSWNvU3RhdGVzLlNhbGVTdGFnZTUpIHsKICAgICAgICAgICAgcmV0dXJuIChjdXJyZW50U3RhdGUgPT0gSWNvU3RhdGVzLlNhbGVTdGFnZTQgJiYgZnJlZU1vbmV5ID09IDAgJiYgc3RhcnREYXRlT2ZTYWxlU3RhZ2VMYXN0ID4gbm93KTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAodG9TdGF0ZSA9PSBJY29TdGF0ZXMuU2FsZVN0YWdlNikgewogICAgICAgICAgICByZXR1cm4gKGN1cnJlbnRTdGF0ZSA9PSBJY29TdGF0ZXMuU2FsZVN0YWdlNSAmJiBmcmVlTW9uZXkgPT0gMCAmJiBzdGFydERhdGVPZlNhbGVTdGFnZUxhc3QgPiBub3cpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmICh0b1N0YXRlID09IEljb1N0YXRlcy5TYWxlU3RhZ2U3KSB7CiAgICAgICAgICAgIHJldHVybiAoY3VycmVudFN0YXRlID09IEljb1N0YXRlcy5TYWxlU3RhZ2U2ICYmIGZyZWVNb25leSA9PSAwICYmIHN0YXJ0RGF0ZU9mU2FsZVN0YWdlTGFzdCA+IG5vdyk7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHRvU3RhdGUgPT0gSWNvU3RhdGVzLlNhbGVTdGFnZUxhc3QpIHsKICAgICAgICAgICAgLy/Qv9C10YDQtdGF0L7QtCDQvdCwINGB0L7RgdGC0L7Rj9C90LjQtSBTYWxlU3RhZ2VMYXN0INCy0L7Qt9C80L7QttC10L0g0YLQvtC70YzQutC+INC40Lcg0YHQvtGB0YLQvtGP0L3QuNC5IFNhbGVTdGFnZXMKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICBjdXJyZW50U3RhdGUgIT0gSWNvU3RhdGVzLlNhbGVTdGFnZTEKICAgICAgICAgICAgJiYKICAgICAgICAgICAgY3VycmVudFN0YXRlICE9IEljb1N0YXRlcy5TYWxlU3RhZ2UyCiAgICAgICAgICAgICYmCiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSAhPSBJY29TdGF0ZXMuU2FsZVN0YWdlMwogICAgICAgICAgICAmJgogICAgICAgICAgICBjdXJyZW50U3RhdGUgIT0gSWNvU3RhdGVzLlNhbGVTdGFnZTQKICAgICAgICAgICAgJiYKICAgICAgICAgICAgY3VycmVudFN0YXRlICE9IEljb1N0YXRlcy5TYWxlU3RhZ2U1CiAgICAgICAgICAgICYmCiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSAhPSBJY29TdGF0ZXMuU2FsZVN0YWdlNgogICAgICAgICAgICAmJgogICAgICAgICAgICBjdXJyZW50U3RhdGUgIT0gSWNvU3RhdGVzLlNhbGVTdGFnZTcpIHJldHVybiBmYWxzZTsKCiAgICAgICAgICAgIC8v0L/QtdGA0LXRhdC+0LQg0L7RgdGD0YnQtdGB0YLQstC70Y/QtdGC0YHRjyDQtdGB0LvQuCDQvdCwINGB0L7RgdGC0L7Rj9C90LjQuCBTYWxlU3RhZ2U3INC90LUg0L7RgdGC0LDQu9C+0YHRjCDRgdCy0L7QsdC+0LTQvdGL0YUg0YLQvtC60LXQvdC+0LIKICAgICAgICAgICAgLy/QuNC70Lgg0L3QsCDQvtC00L3QvtC8INC40Lcg0YHQvtGB0YLQvtGP0L3QuNC5IFNhbGVTdGFnZXMg0L3QsNGB0YLRg9C/0LjQu9C+INCy0YDQtdC80Y8gc3RhcnREYXRlT2ZTYWxlU3RhZ2VMYXN0CiAgICAgICAgICAgIGlmICghKGN1cnJlbnRTdGF0ZSA9PSBJY29TdGF0ZXMuU2FsZVN0YWdlNyAmJiBmcmVlTW9uZXkgPT0gMCkgJiYgc3RhcnREYXRlT2ZTYWxlU3RhZ2VMYXN0ID4gbm93KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmICh0b1N0YXRlID09IEljb1N0YXRlcy5Qb3N0SWNvKSB7CiAgICAgICAgICAgIHJldHVybiAoY3VycmVudFN0YXRlID09IEljb1N0YXRlcy5TYWxlU3RhZ2VMYXN0ICYmIGVuZERhdGVPZlNhbGVTdGFnZUxhc3QgPD0gbm93KTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAqIEZhbGxiYWNrINGE0YPQvdC60YbQuNGPIC0g0LjQtyDQvdC10ZEg0L/QviDRgdGD0YLQuCDQv9GA0L7RgdGC0L4g0L/RgNC+0LjRgdGF0L7QtNC40YIg0LLRi9C30L7QsiDQv9C+0LrRg9C/0LrQuCDRgtC+0LrQtdC90L7QsiDQtNC70Y8g0L7RgtC/0YDQsNCy0LjRgtC10LvRjwogICAgKi8KICAgIGZ1bmN0aW9uKCkgcHVibGljIHBheWFibGUgewogICAgICAgIGJ1eVRva2Vucyhtc2cuc2VuZGVyKTsKICAgIH0KCiAgICAvKioKICAgICAqINCc0LXRgtC+0LQg0L/QvtC60YPQv9C60Lgg0YLQvtC60LXQvdC+0LIKICAgICAqLwogICAgZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgYmVuZWZpY2lhcnkpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKGJlbmVmaWNpYXJ5ICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgIT0gMCk7CgogICAgICAgIC8v0L3QtdC70YzQt9GPINC/0L7QutGD0L/QsNGC0Ywg0L3QsCDRgtC+0LrQtdC90YsgYm91bnR5INC4IHRlYW0KICAgICAgICByZXF1aXJlKGJlbmVmaWNpYXJ5ICE9IGJvdW50eVRva2Vuc0FjY291bnQgJiYgYmVuZWZpY2lhcnkgIT0gdGVhbVRva2Vuc0FjY291bnQpOwoKICAgICAgICAvL9Cy0YvRgdGC0LDQstC70Y/QtdC8INC+0YHRgtCw0YLQvtC6INGB0YDQtdC00YHRgtCyCiAgICAgICAgLy/QsiDQv9GA0L7RhtC10YHRgdC1INC/0L7QutGD0L/QutC4INCx0YPQtNC10Lwg0LXQs9C+INGD0LzQtdC90YzRiNCw0YLRjCDQvdCwINC60LDQttC00L7QuSDQuNGC0LXRgNCw0YbQuNC4IC0g0LjRgtC10YDQsNGG0LjRjyAtINC/0L7QutGD0L/QutCwINGC0L7QutC10L3QvtCyINC90LAg0L7Qv9GA0LXQtNC10LvRkdC90L3QvtC5INGB0YLQsNC00LjQuAogICAgICAgIC8v0YHRg9GC0YwgLSDQtdGB0LvQuCDQv9C+0LrRg9C/0LDRjtGJ0LjQuSDQv9C10YDQtdCy0L7QtNC40YIg0LrQvtC70LjRh9C10YHRgtCy0L4g0Y3RhNC40YDQsCwKICAgICAgICAvL9Cx0L7Qu9GM0YjQtdC1INGH0LXQvCDQstC+0LfQvNC+0LbQvdC+0LUg0LrQvtC70LjRh9C10YHRgtCy0L4g0YHQstC+0LHQvtC00L3Ri9GFINGC0L7QutC10L3QvtCyINC90LAg0L7Qv9GA0LXQtNC10LvRkdC90L3QvtC5INGB0YLQsNC00LjQuCwKICAgICAgICAvL9GC0L4g0LLRi9C/0L7Qu9C90Y/QtdGC0YHRjyDQv9C10YDQtdGF0L7QtCDQvdCwINGB0LvQtdC00YPRjtGJ0YPRjiDRgdGC0LDQtNC40Y4gKNC60YPRgNGBINGC0L7QttC1INC80LXQvdGP0LXRgtGB0Y8pCiAgICAgICAgLy/QuCDQvdCwINC+0YHRgtCw0YLQvtC6INC40LTRkdGCINC/0L7QutGD0L/QutCwINC90LAg0L3QvtCy0L7QuSDRgdGC0LDQtNC40Lgg0Lgg0YIu0LQuCiAgICAgICAgLy/QtdGB0LvQuCDQttC1INCyINC/0YDQvtGG0LXRgdGB0LUg0L/QvtC60YPQv9C60LUg0LLRgdC1INGB0LLQvtCx0L7QtNC90YvQtSDRgtC+0LrQtdC90Ysg0LjQt9GA0LDRgdGF0L7QtNGD0Y7RgtGB0Y8gKNGB0L4g0LLRgdC10YUg0LTQvtC/0YPRgdGC0LjQvNGL0YUg0YHRgtCw0LTQuNC5KQogICAgICAgIC8v0LHRg9C00LXRgiDQstGL0LrQuNC90YPRgtC+INC40YHQutC70Y7Rh9C10L3QuNC1CiAgICAgICAgdWludDI1NiByZW1WYWwgPSBtc2cudmFsdWU7CgogICAgICAgIC8v0YPQstC10LvQuNGH0LjQstCw0LXQvCDQutC+0LvQuNGH0LXRgdGC0LLQviDRjdGE0LjRgNCwINC/0YDQuNGI0LXQtNGI0LXQs9C+INC6INC90LDQvAogICAgICAgIHRvdGFsQmFsYW5jZSA9IHRvdGFsQmFsYW5jZS5hZGQobXNnLnZhbHVlKTsKCiAgICAgICAgLy/QvtCx0YnQtdC1INC60L7Qu9C40YfQtdGB0YLQstC+INGC0L7QutC10L3QvtCyINC60L7RgtC+0YDRi9C1INC60YPQv9C40LvQuCDQt9CwINGN0YLQvtGCINCy0YvQt9C+0LIKICAgICAgICB1aW50MjU2IGJvdWdodFRva2VucyA9IDA7CgogICAgICAgIHdoaWxlIChyZW1WYWwgPiAwKSB7CiAgICAgICAgICAgIC8v0L/QvtC60YPQv9Cw0YLRjCDRgtC+0LrQtdC90Ysg0LzQvtC20L3QviDRgtC+0LvRjNC60L4g0L3QsCDRg9C60LDQt9Cw0L3QvdGL0YUg0YHRgtCw0LTQuNGP0YUKICAgICAgICAgICAgcmVxdWlyZSgKICAgICAgICAgICAgY3VycmVudFN0YXRlICE9IEljb1N0YXRlcy5WaXBQbGFjZW1lbnQKICAgICAgICAgICAgJiYKICAgICAgICAgICAgY3VycmVudFN0YXRlICE9IEljb1N0YXRlcy5Qb3N0SWNvKTsKCiAgICAgICAgICAgIC8v0LLRi9C/0L7Qu9C90Y/QtdC8INC/0L7QutGD0L/QutGDINC00LvRjyDQstGL0LfRi9Cy0LDRjtGJ0LXQs9C+CiAgICAgICAgICAgIC8v0YHQvNC+0YLRgNC40LwsINC10YHRgtGMINC70Lgg0YMg0L3QsNGBINGC0LDQutC+0LUg0LrQvtC70LjRh9C10YHRgtCy0L4g0YHQstC+0LHQvtC00L3Ri9GFINGC0L7QutC10L3QvtCyINC90LAg0YLQtdC60YPRidC10Lkg0YHRgtCw0LTQuNC4CiAgICAgICAgICAgIHVpbnQyNTYgdG9rZW5zID0gcmVtVmFsLm11bChyYXRlKTsKICAgICAgICAgICAgaWYgKHRva2VucyA+IGZyZWVNb25leSkgewogICAgICAgICAgICAgICAgcmVtVmFsID0gcmVtVmFsLnN1YihmcmVlTW9uZXkuZGl2KHJhdGUpKTsKICAgICAgICAgICAgICAgIHRva2VucyA9IGZyZWVNb25leTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJlbVZhbCA9IDA7CiAgICAgICAgICAgICAgICAvL9C10YHQu9C4INC+0YHRgtCw0YLQvtC6INGB0LLQvtCx0L7QtNC90YvRhSDRgtC+0LrQtdC90L7QsiDQvNC10L3RjNGI0LUg0YfQtdC8INC60YPRgNGBIC0g0L7RgtC00LDRkdC8INC40YUg0L/QvtC60YPQv9Cw0YLQtdC70Y4KICAgICAgICAgICAgICAgIHVpbnQyNTYgcmVtRnJlZVRva2VucyA9IGZyZWVNb25leS5zdWIodG9rZW5zKTsKICAgICAgICAgICAgICAgIGlmICgwIDwgcmVtRnJlZVRva2VucyAmJiByZW1GcmVlVG9rZW5zIDwgcmF0ZSkgewogICAgICAgICAgICAgICAgICAgIHRva2VucyA9IGZyZWVNb25leTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBhc3NlcnQodG9rZW5zID4gMCk7CgogICAgICAgICAgICBmcmVlTW9uZXkgPSBmcmVlTW9uZXkuc3ViKHRva2Vucyk7CiAgICAgICAgICAgIHRvdGFsQm91Z2h0ID0gdG90YWxCb3VnaHQuYWRkKHRva2Vucyk7CiAgICAgICAgICAgIGJhbGFuY2VzW2JlbmVmaWNpYXJ5XSA9IGJhbGFuY2VzW2JlbmVmaWNpYXJ5XS5hZGQodG9rZW5zKTsKICAgICAgICAgICAgYm91Z2h0VG9rZW5zID0gYm91Z2h0VG9rZW5zLmFkZCh0b2tlbnMpOwoKICAgICAgICAgICAgLy/QtdGB0LvQuCDQv9C+0LrRg9C/0LrQsCDQsdGL0LvQsCDQstGL0L/QvtC70L3QtdC90LAg0L3QsCDQu9GO0LHQvtC5INC40Lcg0YHRgtCw0LTQuNC5IFNhbGUg0LrRgNC+0LzQtSDQv9C+0YHQu9C10LTQvdC10LkKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICB1aW50KGN1cnJlbnRTdGF0ZSkgPj0gdWludChJY29TdGF0ZXMuU2FsZVN0YWdlMSkKICAgICAgICAgICAgJiYKICAgICAgICAgICAgdWludChjdXJyZW50U3RhdGUpIDw9IHVpbnQoSWNvU3RhdGVzLlNhbGVTdGFnZTcpKSB7CgogICAgICAgICAgICAgICAgLy/Rg9C80LXQvdGM0YjQsNC10Lwg0LrQvtC70LjRh9C10YHRgtCy0L4g0L7RgdGC0LDRgtC60LAg0L/QviDRgtC+0LrQtdC90LDQvCDQutC+0YLQvtGA0YvQtSDQvdC10L7QsdGF0L7QtNC40LzQviDQv9GA0L7QtNCw0YLRjCDQvdCwINGN0YLQuNGFINGB0YLQsNC00LjRj9GFCiAgICAgICAgICAgICAgICByZW1Gb3JTYWxlc0JlZm9yZVN0YWdlTGFzdCA9IHJlbUZvclNhbGVzQmVmb3JlU3RhZ2VMYXN0LnN1Yih0b2tlbnMpOwoKICAgICAgICAgICAgICAgIC8v0L/RgNC+0LHRg9C10Lwg0L/QtdGA0LXQudGC0Lgg0LzQtdC20LTRgyBTYWxlU3RhZ2VzCiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uQmV0d2VlblNhbGVTdGFnZXMoKTsKICAgICAgICAgICAgfQoKICAgICAgICB9CgogICAgICAgIEJ1eShiZW5lZmljaWFyeSwgYm91Z2h0VG9rZW5zLCBtc2cudmFsdWUpOwoKICAgIH0KCiAgICAvKioKICAgICog0JzQtdGC0L7QtCDQstGL0L/QvtC70L3Rj9GO0YnQuNC5INCy0YvQtNCw0YfRgyDQsdCw0YPQvdGC0Lgt0YLQvtC60LXQvdC+0LIg0L3QsCDRg9C60LDQt9Cw0L3QvdGL0Lkg0LDQtNGA0LXRgQogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyQm91bnR5KGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgLy/Qv9GA0L7QstC10YDRj9C10Lwg0LrQvtGI0LXQu9GR0Log0L3QsNC30L3QsNGH0LXQvdC40Y8KICAgICAgICByZXF1aXJlKF90byAhPSAweDAgJiYgX3RvICE9IG1zZy5zZW5kZXIpOwoKICAgICAgICAvL9GD0LzQtdC90YzRiNCw0LXQvCDQutC+0LvQuNGH0LXRgdGC0LLQviDQvdC10YDQsNGB0L/RgNC10LTQtdC70ZHQvdC90YvRhQogICAgICAgIGJvdW50eVRva2Vuc05vdERpc3RyaWJ1dGVkID0gYm91bnR5VG9rZW5zTm90RGlzdHJpYnV0ZWQuc3ViKF92YWx1ZSk7CgogICAgICAgIC8v0L/QtdGA0LXQstC+0LTQuNC8INGBINCw0LrQsNGD0L3RgtCwINCx0LDRg9C90YLQuCDQvdCwINCw0LrQsNGD0L3RgiDQvdCw0LfQvdCw0YfQtdC90LjRjwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW2JvdW50eVRva2Vuc0FjY291bnRdID0gYmFsYW5jZXNbYm91bnR5VG9rZW5zQWNjb3VudF0uc3ViKF92YWx1ZSk7CgogICAgICAgIFRyYW5zZmVyKGJvdW50eVRva2Vuc0FjY291bnQsIF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgICog0JzQtdGC0L7QtCDQstGL0L/QvtC70L3Rj9GO0YnQuNC5INCy0YvQtNCw0YfRgyDQsdCw0YPQvdGC0Lgt0YLQvtC60LXQvdC+0LIg0L3QsCDRg9C60LDQt9Cw0L3QvdGL0Lkg0LDQtNGA0LXRgQogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyVGVhbShhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIC8v0L/RgNC+0LLQtdGA0Y/QtdC8INC60L7RiNC10LvRkdC6INC90LDQt9C90LDRh9C10L3QuNGPCiAgICAgICAgcmVxdWlyZShfdG8gIT0gMHgwICYmIF90byAhPSBtc2cuc2VuZGVyKTsKCiAgICAgICAgLy/Rg9C80LXQvdGM0YjQsNC10Lwg0LrQvtC70LjRh9C10YHRgtCy0L4g0L3QtdGA0LDRgdC/0YDQtdC00LXQu9GR0L3QvdGL0YUKICAgICAgICB0ZWFtVG9rZW5zTm90RGlzdHJpYnV0ZWQgPSB0ZWFtVG9rZW5zTm90RGlzdHJpYnV0ZWQuc3ViKF92YWx1ZSk7CgogICAgICAgIC8v0L/QtdGA0LXQstC+0LTQuNC8INGBINCw0LrQsNGD0L3RgtCwIHRlYW0g0L3QsCB0ZWFtINCw0LrQsNGD0L3RgiDQvdCw0LfQvdCw0YfQtdC90LjRjwogICAgICAgIHRlYW1CYWxhbmNlc1tfdG9dID0gdGVhbUJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbdGVhbVRva2Vuc0FjY291bnRdID0gYmFsYW5jZXNbdGVhbVRva2Vuc0FjY291bnRdLnN1YihfdmFsdWUpOwoKICAgICAgICAvL9GD0LHQuNGA0LDQtdC8INGC0L7QutC10L3RiyDQuNC3INC+0LHRidC10LPQviDQutC+0LvQuNGH0LXRgdGC0LLQsCDQstGL0L/Rg9GJ0LXQvdC90YvRhQogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKF92YWx1ZSk7CiAgICB9CgogICAgLyoqCiAgICAqIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gYSB1c2VyIG9yIGFub3RoZXIgY29udHJhY3Qgd2FudHMgdG8gdHJhbnNmZXIgZnVuZHMgLgogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSwgYnl0ZXMgX2RhdGEpIGNoZWNrRm9yVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CgogICAgICAgIGlmIChpc0NvbnRyYWN0KF90bykpIHsKICAgICAgICAgICAgcmV0dXJuIHRyYW5zZmVyVG9Db250cmFjdChfdG8sIF92YWx1ZSwgX2RhdGEpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRyYW5zZmVyVG9BZGRyZXNzKF90bywgX3ZhbHVlLCBfZGF0YSk7CiAgICAgICAgfQogICAgfQoKCiAgICAvKioKICAgICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICAgKiBTdGFuZGFyZCBmdW5jdGlvbiB0cmFuc2ZlciBzaW1pbGFyIHRvIEVSQzIwIHRyYW5zZmVyIHdpdGggbm8gX2RhdGEgLgogICAgKiBBZGRlZCBkdWUgdG8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgcmVhc29ucyAuCiAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGNoZWNrRm9yVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CgogICAgICAgIC8vc3RhbmRhcmQgZnVuY3Rpb24gdHJhbnNmZXIgc2ltaWxhciB0byBFUkMyMCB0cmFuc2ZlciB3aXRoIG5vIF9kYXRhCiAgICAgICAgLy9hZGRlZCBkdWUgdG8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgcmVhc29ucwogICAgICAgIGJ5dGVzIG1lbW9yeSBlbXB0eTsKICAgICAgICBpZiAoaXNDb250cmFjdChfdG8pKSB7CiAgICAgICAgICAgIHJldHVybiB0cmFuc2ZlclRvQ29udHJhY3QoX3RvLCBfdmFsdWUsIGVtcHR5KTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB0cmFuc2ZlclRvQWRkcmVzcyhfdG8sIF92YWx1ZSwgZW1wdHkpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICogYXNzZW1ibGUgdGhlIGdpdmVuIGFkZHJlc3MgYnl0ZWNvZGUuIElmIGJ5dGVjb2RlIGV4aXN0cyB0aGVuIHRoZSBfYWRkciBpcyBhIGNvbnRyYWN0LgogICAgKi8KICAgIGZ1bmN0aW9uIGlzQ29udHJhY3QoYWRkcmVzcyBfYWRkcikgcHJpdmF0ZSB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICB1aW50IGxlbmd0aDsKICAgICAgICBhc3NlbWJseSB7CiAgICAgICAgLy9yZXRyaWV2ZSB0aGUgc2l6ZSBvZiB0aGUgY29kZSBvbiB0YXJnZXQgYWRkcmVzcywgdGhpcyBuZWVkcyBhc3NlbWJseQogICAgICAgIGxlbmd0aCA6PSBleHRjb2Rlc2l6ZShfYWRkcikKICAgICAgICB9CiAgICAgICAgcmV0dXJuIChsZW5ndGggPiAwKTsKICAgIH0KCiAgICAvKioKICAgICogZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiB0cmFuc2FjdGlvbiB0YXJnZXQgaXMgYW4gYWRkcmVzcwogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyVG9BZGRyZXNzKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSwgYnl0ZXMgX2RhdGEpIHByaXZhdGUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIF90cmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUsIF9kYXRhKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICogZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiB0cmFuc2FjdGlvbiB0YXJnZXQgaXMgYSBjb250cmFjdAogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyVG9Db250cmFjdChhZGRyZXNzIF90bywgdWludCBfdmFsdWUsIGJ5dGVzIF9kYXRhKSBwcml2YXRlIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIF90cmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgQ29udHJhY3RSZWNlaXZlciByZWNlaXZlciA9IENvbnRyYWN0UmVjZWl2ZXIoX3RvKTsKICAgICAgICByZWNlaXZlci50b2tlbkZhbGxiYWNrKG1zZy5zZW5kZXIsIF92YWx1ZSwgX2RhdGEpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlLCBfZGF0YSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHJpdmF0ZSB7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSAhPSBJY29TdGF0ZXMuUG9zdEljbykgewogICAgICAgICAgICAvL9C+0LHRidCw0Y8g0YHRg9C80LzQsCDQv9C10YDQtdCy0L7QtNC+0LIg0L7RgiDQstC70LDQtNC10LvRjNGG0LAgKNC00L4g0LfQsNCy0LXRgNGI0LXQvdC40Y8pIGljbyDQvdC1INC80L7QttC10YIg0L/RgNC10LLRi9GI0LDRgtGMIEluaXRpYWxDb2luc0Zvcl9WaXBQbGFjZW1lbnQKICAgICAgICAgICAgdmlwUGxhY2VtZW50Tm90RGlzdHJpYnV0ZWQgPSB2aXBQbGFjZW1lbnROb3REaXN0cmlidXRlZC5zdWIoX3ZhbHVlKTsKICAgICAgICB9CiAgICB9CgoKCgogICAgLyoqCiAgICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLgogICAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIGFmdGVySWNvIHJldHVybnMgKGJvb2wpIHsKCiAgICAgICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAgICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAgICAgLy8gcmVxdWlyZSAoX3ZhbHVlIDw9IF9hbGxvd2FuY2UpOwoKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIGFmdGVySWNvIHJldHVybnMgKGJvb2wpIHsKICAgICAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAgICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAgICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICAgICAgcmVxdWlyZSgoX3ZhbHVlID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CgogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgICAqLwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCiAgICAvKioKICAgICog0JLRgdC/0L7QvNC+0LPQsNGC0LXQu9GM0L3Ri9C5INC80LXRgtC+0LQg0LLRi9GB0YLQsNCy0LvRj9GO0YnQuNC5INC60L7Qu9C40YfQtdGB0YLQstC+INGB0LLQvtCx0L7QtNC90YvRhSDRgtC+0LrQtdC90L7Qsiwg0YDQtdC50YIg0Lgg0LTQvtCx0LDQstC70Y/RjtGJ0LjQuSDQutC+0LvQuNGH0LXRgdGC0LLQviDRjdC80LjRgtC40YDQvtCy0LDQvdC90YvRhQogICAgKi8KICAgIGZ1bmN0aW9uIHNldE1vbmV5KHVpbnQyNTYgX2ZyZWVNb25leSwgdWludDI1NiBfZW1pc3Npb24sIHVpbnQyNTYgX3JhdGUpIHByaXZhdGUgewogICAgICAgIGZyZWVNb25leSA9IF9mcmVlTW9uZXk7CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX2VtaXNzaW9uKTsKICAgICAgICByYXRlID0gX3JhdGU7CiAgICB9CgogICAgLyoqCiAgICAgKiDQnNC10YLQvtC0INC/0LXRgNC10LLQvtC00Y/RidC40Lkg0LrQvtC90YLRgNCw0LrRgiDQsiDRgdC+0YHRgtC+0Y/QvdC40LUgUHJlU2FsZQogICAgICovCiAgICBmdW5jdGlvbiBnb3RvUHJlU2FsZSgpIHByaXZhdGUgcmV0dXJucyAoYm9vbCkgewoKICAgICAgICAvL9C/0YDQvtCy0LXRgNGP0LXQvCDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINC/0LXRgNC10YXQvtC00LAKICAgICAgICBpZiAoIWNhbkdvdG9TdGF0ZShJY29TdGF0ZXMuUHJlU2FsZSkpIHJldHVybiBmYWxzZTsKCiAgICAgICAgLy/QtNCwINC90YPQttC90L4g0L/QtdGA0LXRhdC+0LTQuNGC0YwKCiAgICAgICAgLy/Qv9C10YDQtdGF0L7QtNC40Lwg0LIgUHJlU2FsZQogICAgICAgIGN1cnJlbnRTdGF0ZSA9IEljb1N0YXRlcy5QcmVTYWxlOwoKCiAgICAgICAgLy/QstGL0YHRgtCw0LLQu9GP0LXQvCDRgdC+0YHRgtC+0Y/QvdC40LUg0YLQvtC60LXQvdC+0LIKICAgICAgICBzZXRNb25leShFTUlTU0lPTl9GT1JfUFJFU0FMRSwgRU1JU1NJT05fRk9SX1BSRVNBTEUsIFJBVEVfUFJFU0FMRSk7CgogICAgICAgIC8v0YPRgdGC0LDQvdCw0LLQu9C40LLQsNC10Lwg0LTQsNGC0YMg0L7QutC+0L3Rh9Cw0L3QuNGPIFByZVNhbGUKICAgICAgICBlbmREYXRlT2ZQcmVTYWxlID0gbm93LmFkZChEVVJBVElPTl9QUkVTQUxFKTsKCiAgICAgICAgLy/RgNCw0LfQuNC8INGB0L7QsdGL0YLQuNC1INC40LfQvNC10L3QtdC90LjRjyDRgdC+0YHRgtC+0Y/QvdC40Y8KICAgICAgICBTdGF0ZUNoYW5nZWQoSWNvU3RhdGVzLlByZVNhbGUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgKiDQnNC10YLQvtC0INC/0LXRgNC10LLQvtC00Y/RidC40Lkg0LrQvtC90YLRgNCw0LrRgiDQsiDRgdC+0YHRgtC+0Y/QvdC40LUgU2FsZVN0YWdlMQogICAgKi8KICAgIGZ1bmN0aW9uIGdvdG9TYWxlU3RhZ2UxKCkgcHJpdmF0ZSByZXR1cm5zIChib29sKSB7CiAgICAgICAgLy/Qv9GA0L7QstC10YDRj9C10Lwg0LLQvtC30LzQvtC20L3QvtGB0YLRjCDQv9C10YDQtdGF0L7QtNCwCiAgICAgICAgaWYgKCFjYW5Hb3RvU3RhdGUoSWNvU3RhdGVzLlNhbGVTdGFnZTEpKSByZXR1cm4gZmFsc2U7CgogICAgICAgIC8v0LTQsCDQvdGD0LbQvdC+INC/0LXRgNC10YXQvtC00LjRgtGMCgogICAgICAgIC8v0L/QtdGA0LXRhdC+0LTQuNC8INCyIFNhbGVTdGFnZTEKICAgICAgICBjdXJyZW50U3RhdGUgPSBJY29TdGF0ZXMuU2FsZVN0YWdlMTsKCiAgICAgICAgLy/QvdC10L/RgNC+0LTQsNC90L3Ri9C1INGC0L7QutC10L3RiyDRgdCz0L7RgNCw0Y7RggogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKGZyZWVNb25leSk7CgogICAgICAgIC8v0LLRi9GB0YLQsNCy0LvRj9C10Lwg0YHQvtGB0YLQvtGP0L3QuNC1INGC0L7QutC10L3QvtCyCiAgICAgICAgc2V0TW9uZXkoRU1JU1NJT05fRk9SX1NBTEVTVEFHRTEsIEVNSVNTSU9OX0ZPUl9TQUxFU1RBR0UxLCBSQVRFX1NBTEVTVEFHRTEpOwoKICAgICAgICAvL9C+0L/RgNC10LTQtdC70Y/QtdC8INC60L7Qu9C40YfQtdGB0YLQstC+INGC0L7QutC10L3QvtCyINC60L7RgtC+0YDQvtC1INC80L7QttC90L4g0L/RgNC+0LTQsNGC0Ywg0L3QsCDQstGB0LXRhSDRgdGC0LDQtNC40Y/RhSBTYWxlINC60YDQvtC80LUg0L/QvtGB0LvQtdC00L3QtdC5CiAgICAgICAgcmVtRm9yU2FsZXNCZWZvcmVTdGFnZUxhc3QgPQogICAgICAgIEVNSVNTSU9OX0ZPUl9TQUxFU1RBR0UxICsKICAgICAgICBFTUlTU0lPTl9GT1JfU0FMRVNUQUdFMiArCiAgICAgICAgRU1JU1NJT05fRk9SX1NBTEVTVEFHRTMgKwogICAgICAgIEVNSVNTSU9OX0ZPUl9TQUxFU1RBR0U0ICsKICAgICAgICBFTUlTU0lPTl9GT1JfU0FMRVNUQUdFNSArCiAgICAgICAgRU1JU1NJT05fRk9SX1NBTEVTVEFHRTYgKwogICAgICAgIEVNSVNTSU9OX0ZPUl9TQUxFU1RBR0U3OwoKCiAgICAgICAgLy/Rg9GB0YLQsNC90LDQstC70LjQstCw0LXQvCDQtNCw0YLRgyDQvdCw0YfQsNC70LAg0L/QvtGB0LvQtdC00L3QtdC5INGB0YLQsNC00LjQuCDQv9GA0L7QtNCw0LYKICAgICAgICBzdGFydERhdGVPZlNhbGVTdGFnZUxhc3QgPSBub3cuYWRkKERVUkFUSU9OX1NBTEVTVEFHRVMpOwoKICAgICAgICAvL9GA0LDQt9C40Lwg0YHQvtCx0YvRgtC40LUg0LjQt9C80LXQvdC10L3QuNGPINGB0L7RgdGC0L7Rj9C90LjRjwogICAgICAgIFN0YXRlQ2hhbmdlZChJY29TdGF0ZXMuU2FsZVN0YWdlMSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiDQnNC10YLQvtC0INCy0YvQv9C+0LvQvdGP0Y7RidC40Lkg0L/QtdGA0LXRhdC+0LQg0LzQtdC20LTRgyDRgdC+0YHRgtC+0Y/QvdC40Y/QvNC4IFNhbGUKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNpdGlvbkJldHdlZW5TYWxlU3RhZ2VzKCkgcHJpdmF0ZSB7CiAgICAgICAgLy/Qv9C10YDQtdGF0L7QtCDQvNC10LbQtNGDINGB0L7RgdGC0L7Rj9C90LjRj9C80LggU2FsZVN0YWdlcyDQstC+0LfQvNC+0LbQtdC9INGC0L7Qu9GM0LrQviDQtdGB0LvQuCDQvdCw0YXQvtC00LjQvNGB0Y8g0LIg0L7QtNC90L7QvCDQuNC3INC90LjRhSwg0LrRgNC+0LzQtSDQv9C+0YHQu9C10LTQvdC10LPQvgogICAgICAgIGlmICgKICAgICAgICBjdXJyZW50U3RhdGUgIT0gSWNvU3RhdGVzLlNhbGVTdGFnZTEKICAgICAgICAmJgogICAgICAgIGN1cnJlbnRTdGF0ZSAhPSBJY29TdGF0ZXMuU2FsZVN0YWdlMgogICAgICAgICYmCiAgICAgICAgY3VycmVudFN0YXRlICE9IEljb1N0YXRlcy5TYWxlU3RhZ2UzCiAgICAgICAgJiYKICAgICAgICBjdXJyZW50U3RhdGUgIT0gSWNvU3RhdGVzLlNhbGVTdGFnZTQKICAgICAgICAmJgogICAgICAgIGN1cnJlbnRTdGF0ZSAhPSBJY29TdGF0ZXMuU2FsZVN0YWdlNQogICAgICAgICYmCiAgICAgICAgY3VycmVudFN0YXRlICE9IEljb1N0YXRlcy5TYWxlU3RhZ2U2CiAgICAgICAgJiYKICAgICAgICBjdXJyZW50U3RhdGUgIT0gSWNvU3RhdGVzLlNhbGVTdGFnZTcpIHJldHVybjsKCiAgICAgICAgLy/QtdGB0LvQuCDQtdGB0YLRjCDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINGB0YDQsNC30YMg0L/QtdGA0LXRhdC+0LTQuNC8INCyINGB0L7RgdGC0L7Rj9C90LjQtSBTdGFnZUxhc3QKICAgICAgICBpZiAoZ290b1NhbGVTdGFnZUxhc3QoKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvL9GB0LzQvtGC0YDQuNC8INCyINC60LDQutC+0LUg0YHQvtGB0YLQvtGP0L3QuNC1INC80L7QttC10Lwg0L/QtdGA0LXQudGC0Lgg0Lgg0LLRi9C/0L7Qu9C90Y/QtdC8INC/0LXRgNC10YXQvtC0CiAgICAgICAgaWYgKGNhbkdvdG9TdGF0ZShJY29TdGF0ZXMuU2FsZVN0YWdlMikpIHsKICAgICAgICAgICAgY3VycmVudFN0YXRlID0gSWNvU3RhdGVzLlNhbGVTdGFnZTI7CiAgICAgICAgICAgIHNldE1vbmV5KEVNSVNTSU9OX0ZPUl9TQUxFU1RBR0UyLCBFTUlTU0lPTl9GT1JfU0FMRVNUQUdFMiwgUkFURV9TQUxFU1RBR0UyKTsKICAgICAgICAgICAgU3RhdGVDaGFuZ2VkKEljb1N0YXRlcy5TYWxlU3RhZ2UyKTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoY2FuR290b1N0YXRlKEljb1N0YXRlcy5TYWxlU3RhZ2UzKSkgewogICAgICAgICAgICBjdXJyZW50U3RhdGUgPSBJY29TdGF0ZXMuU2FsZVN0YWdlMzsKICAgICAgICAgICAgc2V0TW9uZXkoRU1JU1NJT05fRk9SX1NBTEVTVEFHRTMsIEVNSVNTSU9OX0ZPUl9TQUxFU1RBR0UzLCBSQVRFX1NBTEVTVEFHRTMpOwogICAgICAgICAgICBTdGF0ZUNoYW5nZWQoSWNvU3RhdGVzLlNhbGVTdGFnZTMpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChjYW5Hb3RvU3RhdGUoSWNvU3RhdGVzLlNhbGVTdGFnZTQpKSB7CiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IEljb1N0YXRlcy5TYWxlU3RhZ2U0OwogICAgICAgICAgICBzZXRNb25leShFTUlTU0lPTl9GT1JfU0FMRVNUQUdFNCwgRU1JU1NJT05fRk9SX1NBTEVTVEFHRTQsIFJBVEVfU0FMRVNUQUdFNCk7CiAgICAgICAgICAgIFN0YXRlQ2hhbmdlZChJY29TdGF0ZXMuU2FsZVN0YWdlNCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKGNhbkdvdG9TdGF0ZShJY29TdGF0ZXMuU2FsZVN0YWdlNSkpIHsKICAgICAgICAgICAgY3VycmVudFN0YXRlID0gSWNvU3RhdGVzLlNhbGVTdGFnZTU7CiAgICAgICAgICAgIHNldE1vbmV5KEVNSVNTSU9OX0ZPUl9TQUxFU1RBR0U1LCBFTUlTU0lPTl9GT1JfU0FMRVNUQUdFNSwgUkFURV9TQUxFU1RBR0U1KTsKICAgICAgICAgICAgU3RhdGVDaGFuZ2VkKEljb1N0YXRlcy5TYWxlU3RhZ2U1KTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoY2FuR290b1N0YXRlKEljb1N0YXRlcy5TYWxlU3RhZ2U2KSkgewogICAgICAgICAgICBjdXJyZW50U3RhdGUgPSBJY29TdGF0ZXMuU2FsZVN0YWdlNjsKICAgICAgICAgICAgc2V0TW9uZXkoRU1JU1NJT05fRk9SX1NBTEVTVEFHRTYsIEVNSVNTSU9OX0ZPUl9TQUxFU1RBR0U2LCBSQVRFX1NBTEVTVEFHRTYpOwogICAgICAgICAgICBTdGF0ZUNoYW5nZWQoSWNvU3RhdGVzLlNhbGVTdGFnZTYpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChjYW5Hb3RvU3RhdGUoSWNvU3RhdGVzLlNhbGVTdGFnZTcpKSB7CiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IEljb1N0YXRlcy5TYWxlU3RhZ2U3OwogICAgICAgICAgICBzZXRNb25leShFTUlTU0lPTl9GT1JfU0FMRVNUQUdFNywgRU1JU1NJT05fRk9SX1NBTEVTVEFHRTcsIFJBVEVfU0FMRVNUQUdFNyk7CiAgICAgICAgICAgIFN0YXRlQ2hhbmdlZChJY29TdGF0ZXMuU2FsZVN0YWdlNyk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICAqINCc0LXRgtC+0LQg0L/QtdGA0LXQstC+0LTRj9GJ0LjQuSDQutC+0L3RgtGA0LDQutGCINCyINGB0L7RgdGC0L7Rj9C90LjQtSBTYWxlU3RhZ2VMYXN0CiAgICAgICovCiAgICBmdW5jdGlvbiBnb3RvU2FsZVN0YWdlTGFzdCgpIHByaXZhdGUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGlmICghY2FuR290b1N0YXRlKEljb1N0YXRlcy5TYWxlU3RhZ2VMYXN0KSkgcmV0dXJuIGZhbHNlOwoKICAgICAgICAvL9C+0Log0L/QtdGA0LXRhdC+0LTQuNC8INC90LAg0YHQvtGB0YLQvtGP0L3QuNC1IFNhbGVTdGFnZUxhc3QKICAgICAgICBjdXJyZW50U3RhdGUgPSBJY29TdGF0ZXMuU2FsZVN0YWdlTGFzdDsKCiAgICAgICAgLy/QstGL0YHRgtCw0LLQu9GP0LXQvCDRgdC+0YHRgtC+0Y/QvdC40LUg0YLQvtC60LXQvdC+0LIsINGBINGD0YfRkdGC0L7QvCDQstGB0LXRhSDQvtGB0YLQsNGC0LrQvtCyCiAgICAgICAgc2V0TW9uZXkocmVtRm9yU2FsZXNCZWZvcmVTdGFnZUxhc3QgKyBFTUlTU0lPTl9GT1JfU0FMRVNUQUdFTEFTVCwgRU1JU1NJT05fRk9SX1NBTEVTVEFHRUxBU1QsIFJBVEVfU0FMRVNUQUdFTEFTVCk7CgoKICAgICAgICAvL9GD0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdC8INC00LDRgtGDINC+0LrQvtC90YfQsNC90LjRjyBTYWxlU3RhZ2VMYXN0CiAgICAgICAgZW5kRGF0ZU9mU2FsZVN0YWdlTGFzdCA9IG5vdy5hZGQoRFVSQVRJT05fU0FMRVNUQUdFTEFTVCk7CgogICAgICAgIFN0YXRlQ2hhbmdlZChJY29TdGF0ZXMuU2FsZVN0YWdlTGFzdCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKCiAgICAvKioKICAgICAgKiDQnNC10YLQvtC0INC/0LXRgNC10LLQvtC00Y/RidC40Lkg0LrQvtC90YLRgNCw0LrRgiDQsiDRgdC+0YHRgtC+0Y/QvdC40LUgUG9zdEljbwogICAgICAqLwogICAgZnVuY3Rpb24gZ290b1Bvc3RJY28oKSBwcml2YXRlIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBpZiAoIWNhbkdvdG9TdGF0ZShJY29TdGF0ZXMuUG9zdEljbykpIHJldHVybiBmYWxzZTsKCiAgICAgICAgLy/QvtC6INC/0LXRgNC10YXQvtC00LjQvCDQvdCwINGB0L7RgdGC0L7Rj9C90LjQtSBQb3N0SWNvCiAgICAgICAgY3VycmVudFN0YXRlID0gSWNvU3RhdGVzLlBvc3RJY287CgogICAgICAgIC8v0LLRi9GB0YLQsNCy0LvRj9C10Lwg0LTQsNGC0YMg0L/QvtGB0LvQtSDQutC+0YLQvtGA0L7QuSDQvNC+0LbQvdC+INC40YHQv9C+0LvRjNC30L7QstCw0YLRjCDQv9GA0LXQvNC40LDQu9GM0L3Ri9C1INGC0L7QutC10L3RiwogICAgICAgIHN0YXJ0RGF0ZU9mVXNlVGVhbVRva2VucyA9IG5vdyArIERVUkFUSU9OX05PTlVTRVRFQU07CgogICAgICAgIC8v0LLRi9GB0YLQsNCy0LvRj9C10Lwg0LTQsNGC0YMg0L/QvtGB0LvQtSDQutC+0YLQvtGA0L7QuSDQvNC+0LbQvdC+INC30LDRh9C40YHQu9GP0YLRjCDQvtGB0YLQsNCy0YjQuNC10YHRjyAo0L3QtSDRgNCw0YHQv9GA0L7QtNCw0L3QvdGL0LUpINGC0L7QutC10L3Riywg0L3QsCDQv9GA0L7QuNC30LLQvtC70YzQvdGL0Lkg0LrQvtGI0LXQu9GR0LoKICAgICAgICBzdGFydERhdGVPZlJlc3RvcmVVbnNvbGRUb2tlbnMgPSBub3cgKyBEVVJBVElPTl9CRUZPUkVfUkVTVE9SRV9VTlNPTEQ7CgogICAgICAgIC8v0LfQsNC/0L7QvNC40L3QsNC10Lwg0LrQvtC70LjRh9C10YHRgtCy0L4g0L3QtdGA0LDRgdC/0YDQvtC00LDQvdC90YvRhSDRgtC+0LrQtdC90L7QsgogICAgICAgIHVuc29sZFRva2VucyA9IGZyZWVNb25leTsKCiAgICAgICAgLy/Rg9C90LjRh9GC0L7QttCw0LXQvCDRgdCy0L7QsdC+0LTQvdGL0LUg0YLQvtC60LXQvdGLCiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5zdWIoZnJlZU1vbmV5KTsKICAgICAgICBzZXRNb25leSgwLCAwLCAwKTsKCiAgICAgICAgU3RhdGVDaGFuZ2VkKEljb1N0YXRlcy5Qb3N0SWNvKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgp9'.
	

]
