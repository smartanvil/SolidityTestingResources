Class {
	#name : #SRT77d8a32e0f37c8d6413bbeb5c601efcb018be996,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT77d8a32e0f37c8d6413bbeb5c601efcb018be996 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTQ7CgoKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gQ3VycmVuY3kgY29udHJhY3QKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpjb250cmFjdCBFUkMyMEludGVyZmFjZSB7CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHRva2VuT3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgdG9rZW5Pd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB0b2tlbnMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdG9rZW5zKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdG9rZW5zKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHRva2Vucyk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgdG9rZW5Pd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdG9rZW5zKTsKfQoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBOUkJfVXNlcnMKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpjb250cmFjdCBOUkJfVXNlcnMgewogICAgZnVuY3Rpb24gaW5pdChhZGRyZXNzIF9tYWluLCBhZGRyZXNzIF9mbGMpIHB1YmxpYzsKICAgIGZ1bmN0aW9uIHJlZ2lzdGVyVXNlck9uVG9rZW4oYWRkcmVzcyBfdG9rZW4sIGFkZHJlc3MgX3VzZXIsIHVpbnQgX3ZhbHVlLCB1aW50IF9mbGMsIHN0cmluZyBfanNvbikgcHVibGljIHJldHVybnMgKHVpbnQpOwogICAgZnVuY3Rpb24gZ2V0VXNlckluZGV4T25FdGhlcihhZGRyZXNzIF91c2VyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludCk7CiAgICBmdW5jdGlvbiBnZXRVc2VySW5kZXhPblRva2VuKGFkZHJlc3MgX3Rva2VuLCBhZGRyZXNzIF91c2VyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludCk7CiAgICBmdW5jdGlvbiBnZXRVc2VyTGVuZ3RoT25FdGhlcigpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50KTsKICAgIGZ1bmN0aW9uIGdldFVzZXJMZW5ndGhPblRva2VuKGFkZHJlc3MgX3Rva2VuKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludCk7CiAgICBmdW5jdGlvbiBnZXRVc2VyTnVtYmVyc09uVG9rZW4oYWRkcmVzcyBfdG9rZW4sIHVpbnQgX2luZGV4KSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludCwgdWludCwgdWludCwgdWludCwgYWRkcmVzcyk7CiAgICBmdW5jdGlvbiBnZXRVc2VyVG90YWxQYWlkKGFkZHJlc3MgX3VzZXIsIGFkZHJlc3MgX3Rva2VuKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludCk7CiAgICBmdW5jdGlvbiBnZXRVc2VyVG90YWxDcmVkaXQoYWRkcmVzcyBfdXNlciwgYWRkcmVzcyBfdG9rZW4pIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50KTsKfQoKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gTlJCX1Rva2VucyBjb250cmFjdAovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvbnRyYWN0IE5SQl9Ub2tlbnMgewogICAgZnVuY3Rpb24gaW5pdChhZGRyZXNzIF9tYWluLCBhZGRyZXNzIF9mbGMpIHB1YmxpYzsKICAgIGZ1bmN0aW9uIGdldFRva2VuTGlzdExlbmd0aCgpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50KTsKICAgIGZ1bmN0aW9uIGdldFRva2VuQWRkcmVzc0J5SW5kZXgodWludCBfaW5kZXgpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zIChhZGRyZXNzKTsKICAgIGZ1bmN0aW9uIGlzVG9rZW5SZWdpc3RlcmVkKGFkZHJlc3MgX3Rva2VuKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiByZWdpc3RlclRva2VuKGFkZHJlc3MgX3Rva2VuLCBzdHJpbmcgX25hbWUsIHN0cmluZyBfc3ltYm9sLCB1aW50IF9kZWNpbWFscykgcHVibGljOwogICAgZnVuY3Rpb24gcmVnaXN0ZXJUb2tlblBheW1lbnQoYWRkcmVzcyBfdG9rZW4sIHVpbnQgX3ZhbHVlKSBwdWJsaWM7CiAgICBmdW5jdGlvbiBzZW5kRkxDKGFkZHJlc3MgdXNlciwgYWRkcmVzcyB0b2tlbiwgdWludCB0b3RhbHBhaWQpIHB1YmxpYyByZXR1cm5zICh1aW50KTsKfQoKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gY29udHJhY3QgV2hpdGVMaXN0QWNjZXNzCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KY29udHJhY3QgV2hpdGVMaXN0QWNjZXNzIHsKICAgIAogICAgZnVuY3Rpb24gV2hpdGVMaXN0QWNjZXNzKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgd2hpdGVsaXN0W293bmVyXSA9IHRydWU7CiAgICAgICAgd2hpdGVsaXN0W2FkZHJlc3ModGhpcyldID0gdHJ1ZTsKICAgIH0KICAgIAogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHdoaXRlbGlzdDsKCiAgICBtb2RpZmllciBvbmx5QnkoYWRkcmVzcyB3aG8pIHsgcmVxdWlyZShtc2cuc2VuZGVyID09IHdobyk7IF87IH0KICAgIG1vZGlmaWVyIG9ubHlPd25lciB7cmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsgXzt9CiAgICBtb2RpZmllciBvbmx5V2hpdGVsaXN0ZWQge3JlcXVpcmUod2hpdGVsaXN0W21zZy5zZW5kZXJdKTsgXzt9CgogICAgZnVuY3Rpb24gYWRkVG9XaGl0ZUxpc3QoYWRkcmVzcyB0cnVzdGVkKSBwdWJsaWMgb25seU93bmVyKCkgewogICAgICAgIHdoaXRlbGlzdFt0cnVzdGVkXSA9IHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlRnJvbVdoaXRlTGlzdChhZGRyZXNzIHVudHJ1c3RlZCkgcHVibGljIG9ubHlPd25lcigpIHsKICAgICAgICB3aGl0ZWxpc3RbdW50cnVzdGVkXSA9IGZhbHNlOwogICAgfQoKfQoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBDTlRDb21tb24gY29udHJhY3QKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpjb250cmFjdCBOUkJfQ29tbW9uIGlzIFdoaXRlTGlzdEFjY2VzcyB7CiAgIAogICAgZnVuY3Rpb24gTlJCX0NvbW1vbigpIHB1YmxpYyB7IEVUSF9hZGRyZXNzID0gMHgxOyB9CgogICAgLy8gRGVwbG95bWVudAogICAgYWRkcmVzcyBwdWJsaWMgRVRIX2FkZHJlc3M7ICAgIC8vIHJlcHJlc2VudGF0aW9uIG9mIEV0aGVyIGFzIFRva2VuICgweDEpCiAgICBhZGRyZXNzIHB1YmxpYyBUT0tFTlNfYWRkcmVzczsgIC8vIE5SQl9Ub2tlbnMKICAgIGFkZHJlc3MgcHVibGljIFVTRVJTX2FkZHJlc3M7ICAgLy8gTlJCX1VzZXJzCiAgICBhZGRyZXNzIHB1YmxpYyBGTENfYWRkcmVzczsgICAgIC8vIEZvdXIgTGVhZiBDbG92ZXIgVG9rZW4KCiAgICAvLyBEZWJ1ZwogICAgZXZlbnQgRGVidWcoc3RyaW5nLCBib29sKTsKICAgIGV2ZW50IERlYnVnKHN0cmluZywgdWludCk7CiAgICBldmVudCBEZWJ1ZyhzdHJpbmcsIHVpbnQsIHVpbnQpOwogICAgZXZlbnQgRGVidWcoc3RyaW5nLCB1aW50LCB1aW50LCB1aW50KTsKICAgIGV2ZW50IERlYnVnKHN0cmluZywgdWludCwgdWludCwgdWludCwgdWludCk7CiAgICBldmVudCBEZWJ1ZyhzdHJpbmcsIGFkZHJlc3MpOwogICAgZXZlbnQgRGVidWcoc3RyaW5nLCBhZGRyZXNzLCBhZGRyZXNzKTsKfQoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBOUkJfTWFpbiAobWFpbikgY29udHJhY3QKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY29udHJhY3QgTlJCX01haW4gaXMgTlJCX0NvbW1vbiB7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcmFpc2VkQW1vdW50OwogICAgYm9vbCBfaW5pdDsKCiAgICBmdW5jdGlvbiBOUkJfTWFpbigpIHB1YmxpYyB7CiAgICAgICAgX2luaXQgPSBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbiBpbml0KGFkZHJlc3MgX3Rva2VucywgYWRkcmVzcyBfdXNlcnMsIGFkZHJlc3MgX2ZsYykgcHVibGljIHsKICAgICAgICByZXF1aXJlKCFfaW5pdCk7CiAgICAgICAgVE9LRU5TX2FkZHJlc3MgPSBfdG9rZW5zOwogICAgICAgIFVTRVJTX2FkZHJlc3MgPSBfdXNlcnM7CiAgICAgICAgRkxDX2FkZHJlc3MgPSBfZmxjOwogICAgICAgIE5SQl9Ub2tlbnMoVE9LRU5TX2FkZHJlc3MpLmluaXQoYWRkcmVzcyh0aGlzKSwgX2ZsYyk7CiAgICAgICAgTlJCX1VzZXJzKFVTRVJTX2FkZHJlc3MpLmluaXQoYWRkcmVzcyh0aGlzKSwgX2ZsYyk7CiAgICAgICAgX2luaXQgPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzVG9rZW5SZWdpc3RlcmVkKGFkZHJlc3MgX3Rva2VuKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBOUkJfVG9rZW5zKFRPS0VOU19hZGRyZXNzKS5pc1Rva2VuUmVnaXN0ZXJlZChfdG9rZW4pOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzSW5pdCgpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIF9pbml0OwogICAgfQoKICAgIC8vIFVzZXIgUmVnaXN0cmF0aW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gcmVnaXN0ZXJNZU9uRXRoZXIoc3RyaW5nIF9qc29uKSBwYXlhYmxlIHB1YmxpYyB7CiAgICAgICAgcmV0dXJuIHJlZ2lzdGVyTWVPblRva2VuQ29yZShFVEhfYWRkcmVzcywgbXNnLnNlbmRlciwgbXNnLnZhbHVlLCBfanNvbik7CiAgICB9CgogICAgZnVuY3Rpb24gcmVnaXN0ZXJNZU9uVG9rZW4oYWRkcmVzcyBfdG9rZW4sIHVpbnQgX3ZhbHVlLCBzdHJpbmcgX2pzb24pIHB1YmxpYyB7CiAgICAgICAgcmV0dXJuIHJlZ2lzdGVyTWVPblRva2VuQ29yZShfdG9rZW4sIG1zZy5zZW5kZXIsIF92YWx1ZSwgX2pzb24pOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlZ2lzdGVyTWVPblRva2VuQ29yZShhZGRyZXNzIF90b2tlbiwgYWRkcmVzcyBfdXNlciwgdWludCBfdmFsdWUsIHN0cmluZyBfanNvbikgaW50ZXJuYWwgewogICAgICAgIHJlcXVpcmUodGhpcy5pc1Rva2VuUmVnaXN0ZXJlZChfdG9rZW4pKTsKCgogICAgICAgIC8vIENyb3dkU2FsZSBpcyBvdmVyIHNvIHdlIHJlZGlyZWN0IGdhaW5zIHRvIHRoZSBvd25lcgogICAgICAgIGlmIChfdG9rZW4gIT0gRVRIX2FkZHJlc3MpIHsKICAgICAgICAgICAgRVJDMjBJbnRlcmZhY2UoX3Rva2VuKS50cmFuc2ZlckZyb20oX3VzZXIsIGFkZHJlc3ModGhpcyksIF92YWx1ZSk7CiAgICAgICAgfQoKICAgICAgICByYWlzZWRBbW91bnRbX3Rva2VuXSA9IHJhaXNlZEFtb3VudFtfdG9rZW5dICsgX3ZhbHVlOwoKICAgICAgICB1aW50IF9jcmVkaXQgPSBOUkJfVXNlcnMoVVNFUlNfYWRkcmVzcykuZ2V0VXNlclRvdGFsQ3JlZGl0KF91c2VyLCBfdG9rZW4pOwogICAgICAgIHVpbnQgX3RvdGFscGFpZCA9IE5SQl9Vc2VycyhVU0VSU19hZGRyZXNzKS5nZXRVc2VyVG90YWxQYWlkKF91c2VyLCBfdG9rZW4pICsgX3ZhbHVlIC0gX2NyZWRpdDsKICAgICAgICB1aW50IGZsYyA9IE5SQl9Ub2tlbnMoVE9LRU5TX2FkZHJlc3MpLnNlbmRGTEMoX3VzZXIsIF90b2tlbiwgX3RvdGFscGFpZCk7CgogICAgICAgIE5SQl9Vc2VycyhVU0VSU19hZGRyZXNzKS5yZWdpc3RlclVzZXJPblRva2VuKF90b2tlbiwgX3VzZXIsIF92YWx1ZSwgZmxjLF9qc29uKTsKICAgICAgICBOUkJfVG9rZW5zKFRPS0VOU19hZGRyZXNzKS5yZWdpc3RlclRva2VuUGF5bWVudChfdG9rZW4sX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRSYWlzZWRBbW91bnRPbkV0aGVyKCkgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRSYWlzZWRBbW91bnRPblRva2VuKEVUSF9hZGRyZXNzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRSYWlzZWRBbW91bnRPblRva2VuKGFkZHJlc3MgX3Rva2VuKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiByYWlzZWRBbW91bnRbX3Rva2VuXTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRVc2VySW5kZXhPbkV0aGVyKGFkZHJlc3MgX3VzZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIE5SQl9Vc2VycyhVU0VSU19hZGRyZXNzKS5nZXRVc2VySW5kZXhPbkV0aGVyKF91c2VyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRVc2VySW5kZXhPblRva2VuKGFkZHJlc3MgX3Rva2VuLCBhZGRyZXNzIF91c2VyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBOUkJfVXNlcnMoVVNFUlNfYWRkcmVzcykuZ2V0VXNlckluZGV4T25Ub2tlbihfdG9rZW4sIF91c2VyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRVc2VyTGVuZ3RoT25FdGhlcigpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIE5SQl9Vc2VycyhVU0VSU19hZGRyZXNzKS5nZXRVc2VyTGVuZ3RoT25FdGhlcigpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFVzZXJMZW5ndGhPblRva2VuKGFkZHJlc3MgX3Rva2VuKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBOUkJfVXNlcnMoVVNFUlNfYWRkcmVzcykuZ2V0VXNlckxlbmd0aE9uVG9rZW4oX3Rva2VuKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRVc2VyTnVtYmVyc09uRXRoZXIodWludCBfaW5kZXgpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50LCB1aW50LCB1aW50LCB1aW50LCB1aW50KSB7CiAgICAgICAgcmV0dXJuIGdldFVzZXJOdW1iZXJzT25Ub2tlbihFVEhfYWRkcmVzcywgX2luZGV4KTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRVc2VyTnVtYmVyc09uVG9rZW4oYWRkcmVzcyBfdG9rZW4sIHVpbnQgX2luZGV4KSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludCwgdWludCwgdWludCwgdWludCwgdWludCkgewogICAgICAgIGFkZHJlc3MgX3VzZXI7CiAgICAgICAgdWludCBfdGltZTsgdWludCBfdXNlcmlkOyB1aW50IF91c2VyaW5kZXg7IHVpbnQgX3BhaWQ7CiAgICAgICAgKF90aW1lLCBfdXNlcmlkLCBfdXNlcmluZGV4LCBfcGFpZCwgX3VzZXIpID0gTlJCX1VzZXJzKFVTRVJTX2FkZHJlc3MpLmdldFVzZXJOdW1iZXJzT25Ub2tlbihfdG9rZW4sIF9pbmRleCk7CiAgICAgICAgdWludCBfYmFsYW5jZSA9IF9wYWlkICogMTA7CiAgICAgICAgdWludCBfdXNlcmJhbGFuY2UgPSBnZXRVc2VyQmFsYW5jZU9uVG9rZW4oX3Rva2VuLCBfdXNlcik7CiAgICAgICAgaWYgKF91c2VyYmFsYW5jZSA8IF9iYWxhbmNlKSB7CiAgICAgICAgICAgIF9iYWxhbmNlID0gX3VzZXJiYWxhbmNlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gKF90aW1lLCBfYmFsYW5jZSwgX3BhaWQsIF91c2VyaWQsIF91c2VyaW5kZXgpOwogICAgfQoKCiAgICBmdW5jdGlvbiBnZXRVc2VyQmFsYW5jZU9uRXRoZXIoYWRkcmVzcyBfdXNlcikgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRVc2VyQmFsYW5jZU9uVG9rZW4oRVRIX2FkZHJlc3MsIF91c2VyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRVc2VyQmFsYW5jZU9uVG9rZW4oYWRkcmVzcyBfdG9rZW4sIGFkZHJlc3MgX3VzZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50KSB7CiAgICAgICAgaWYgKF90b2tlbiA9PSBFVEhfYWRkcmVzcykgewogICAgICAgICAgICByZXR1cm4gX3VzZXIuYmFsYW5jZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gRVJDMjBJbnRlcmZhY2UoX3Rva2VuKS5iYWxhbmNlT2YoX3VzZXIpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgLy8gY29udHJvbCBmdW5jaXRvbnMgb25seSB0aGUgb3duZXIgbWF5IGNhbGwgdGhlbSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZnVuY3Rpb24gX3JlYWxCYWxhbmNlT25FdGhlcigpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VXNlckJhbGFuY2VPblRva2VuKEVUSF9hZGRyZXNzLCBhZGRyZXNzKHRoaXMpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfcmVhbEJhbGFuY2VPblRva2VuKGFkZHJlc3MgX3Rva2VuKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiB0aGlzLmdldFVzZXJCYWxhbmNlT25Ub2tlbihfdG9rZW4sIGFkZHJlc3ModGhpcykpOwogICAgfQoKICAgIGZ1bmN0aW9uIF93aXRoZHJhd2FsKCkgcHVibGljIHsKICAgICAgICBhZGRyZXNzIF9hZGRyczsKICAgICAgICB1aW50IF9sZW5ndGggPSBOUkJfVG9rZW5zKFRPS0VOU19hZGRyZXNzKS5nZXRUb2tlbkxpc3RMZW5ndGgoKTsKICAgICAgICB1aW50IF9iYWxhbmNlOwogICAgICAgIGZvciAodWludCBpID0gMDsgaTxfbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgX2FkZHJzID0gTlJCX1Rva2VucyhUT0tFTlNfYWRkcmVzcykuZ2V0VG9rZW5BZGRyZXNzQnlJbmRleChpKTsKICAgICAgICAgICAgaWYgKF9hZGRycyA9PSBFVEhfYWRkcmVzcykge2NvbnRpbnVlO30KICAgICAgICAgICAgX2JhbGFuY2UgPSBFUkMyMEludGVyZmFjZShfYWRkcnMpLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKTsKICAgICAgICAgICAgaWYgKF9iYWxhbmNlID4gMCkgewogICAgICAgICAgICAgICAgRVJDMjBJbnRlcmZhY2UoX2FkZHJzKS50cmFuc2Zlcihvd25lciwgX2JhbGFuY2UpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIG93bmVyLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICB9Cgp9'.
	

]
