Class {
	#name : #SRTcc99a3284b8f6eb1c2497ad3267e02d930c853c8,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTcc99a3284b8f6eb1c2497ad3267e02d930c853c8 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyBGaWxlOiBjb250cmFjdHMvQ29yZS9NYW5hZ2VhYmxlLnNvbAoKY29udHJhY3QgTWFuYWdlYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgbWFuYWdlcjsKCgogIC8qKgogICAqIEBkZXYgQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBNYW5hZ2VhYmxlIGNvbnRyYWN0LgogICAqIEBwYXJhbSBfbWFuYWdlciBhZGRyZXNzCiAgICovCiAgZnVuY3Rpb24gTWFuYWdlYWJsZShhZGRyZXNzIF9tYW5hZ2VyKSBwdWJsaWMgewogICAgcmVxdWlyZShfbWFuYWdlciAhPSAweDApOwogICAgbWFuYWdlciA9IF9tYW5hZ2VyOwogIH0KCiAgLyoqCiAgICogQGRldiBDaGVja3MgaWYgdGhlIG1zZy5zZW5kZXIgaXMgdGhlIG1hbmFnZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU1hbmFnZXIoKSB7IAogICAgcmVxdWlyZSAobXNnLnNlbmRlciA9PSBtYW5hZ2VyICYmIG1hbmFnZXIgIT0gMHgwKTsKICAgIF87IAogIH0KfQoKLy8gRmlsZTogY29udHJhY3RzL0NvcmUvQWN0aXZhdGFibGUuc29sCgpjb250cmFjdCBBY3RpdmF0YWJsZSBpcyBNYW5hZ2VhYmxlIHsKICBldmVudCBBY3RpdmF0ZWRDb250cmFjdCh1aW50MjU2IGFjdGl2YXRlZEF0KTsKICBldmVudCBEZWFjdGl2YXRlZENvbnRyYWN0KHVpbnQyNTYgZGVhY3RpdmF0ZWRBdCk7CgogIGJvb2wgcHVibGljIGFjdGl2ZTsKICAKICAvKioKICAgKiBAZGV2IENoZWNrIGlmIHRoZSBjb250cmFjdCBpcyBhY3RpdmUuIAogICAqLwogIG1vZGlmaWVyIGlzQWN0aXZlKCkgewogICAgcmVxdWlyZShhY3RpdmUpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgQ2hlY2sgaWYgdGhlIGNvbnRyYWN0IGlzIG5vdCBhY3RpdmUuIAogICAqLwogIG1vZGlmaWVyIGlzTm90QWN0aXZlKCkgewogICAgcmVxdWlyZSghYWN0aXZlKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IEFjdGl2YXRlIHRoZSBjb250cmFjdC4KICAgKi8KICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHB1YmxpYyBvbmx5TWFuYWdlciBpc05vdEFjdGl2ZSB7CiAgICAvLyBTZXQgdGhlIGZsYWcgdG8gdHJ1ZS4KICAgIGFjdGl2ZSA9IHRydWU7CgogICAgLy8gVHJpZ2dlciBldmVudC4KICAgIEFjdGl2YXRlZENvbnRyYWN0KG5vdyk7CiAgfQoKICAvKioKICAgKiBAZGV2IERlYWN0aWF0ZSB0aGUgY29udHJhY3QuCiAgICovCiAgZnVuY3Rpb24gZGVhY3RpdmF0ZSgpIHB1YmxpYyBvbmx5TWFuYWdlciBpc0FjdGl2ZSB7CiAgICAvLyBTZXQgdGhlIGZsYWcgdG8gZmFsc2UuCiAgICBhY3RpdmUgPSBmYWxzZTsKCiAgICAvLyBUcmlnZ2VyIGV2ZW50LgogICAgRGVhY3RpdmF0ZWRDb250cmFjdChub3cpOwogIH0KfQoKLy8gRmlsZTogY29udHJhY3RzL0NvcmUvVmVyc2lvbmFibGUuc29sCgpjb250cmFjdCBWZXJzaW9uYWJsZSBpcyBBY3RpdmF0YWJsZSB7CiAgc3RyaW5nIHB1YmxpYyBuYW1lOwogIHN0cmluZyBwdWJsaWMgdmVyc2lvbjsKICB1aW50MjU2IHB1YmxpYyBpZGVudGlmaWVyOwogIHVpbnQyNTYgcHVibGljIGNyZWF0ZWRBdDsKCiAgLyoqCiAgICogQGRldiBDcmVhdGUgYSBuZXcgaW50YW5jZSBvZiBhIFZlcnNpb25hYmxlIGNvbnRyYWN0LiBTZXRzIHRoZQogICAqICAgICAgY3JlYXRlZEF0IHVuaXggdGltZXN0YW1wIHRvIGN1cnJlbnQgYmxvY2sgdGltZXN0YW1wLgogICAqLwogIGZ1bmN0aW9uIFZlcnNpb25hYmxlIChzdHJpbmcgX25hbWUsIHN0cmluZyBfdmVyc2lvbiwgdWludDI1NiBfaWRlbnRpZmllcikgcHVibGljIHsKICAgIHJlcXVpcmUgKGJ5dGVzKF9uYW1lKS5sZW5ndGggIT0gMHgwICYmIGJ5dGVzKF92ZXJzaW9uKS5sZW5ndGggIT0gMHgwICYmIF9pZGVudGlmaWVyID4gMCk7CgogICAgLy8gU2V0IHZhcmlhYmxlcy4KICAgIG5hbWUgPSBfbmFtZTsKICAgIHZlcnNpb24gPSBfdmVyc2lvbjsKICAgIGlkZW50aWZpZXIgPSBfaWRlbnRpZmllcjsKICAgIGNyZWF0ZWRBdCA9IG5vdzsKICB9Cn0KCi8vIEZpbGU6IHplcHBlbGluLXNvbGlkaXR5L2NvbnRyYWN0cy9vd25lcnNoaXAvT3duYWJsZS5zb2wKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCi8vIEZpbGU6IGNvbnRyYWN0cy9NYW5hZ2VtZW50L0NvbnRyYWN0TWFuYWdlbWVudFN5c3RlbS5zb2wKCmNvbnRyYWN0IENvbnRyYWN0TWFuYWdlbWVudFN5c3RlbSBpcyBPd25hYmxlIHsKICBldmVudCBVcGdyYWRlZENvbnRyYWN0ICh1aW50MjU2IGNvbnRyYWN0SWRlbnRpZmllciwgYWRkcmVzcyBpbmRleGVkIG9sZENvbnRyYWN0QWRkcmVzcywgYWRkcmVzcyBpbmRleGVkIG5ld0NvbnRyYWN0QWRkcmVzcyk7CiAgZXZlbnQgUm9sbGJhY2tlZENvbnRyYWN0ICh1aW50MjU2IGNvbnRyYWN0SWRlbnRpZmllciwgYWRkcmVzcyBpbmRleGVkIGZyb21Db250cmFjdEFkZHJlc3MsIGFkZHJlc3MgaW5kZXhlZCB0b0NvbnRyYWN0QWRkcmVzcyk7CgogIG1hcHBpbmcgKHVpbnQyNTYgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSkgcHVibGljIG1hbmFnZWRDb250cmFjdHM7CiAgbWFwcGluZyAodWludDI1NiA9PiBhZGRyZXNzKSBwdWJsaWMgYWN0aXZlQ29udHJhY3RzOwogIG1hcHBpbmcgKHVpbnQyNTYgPT4gYm9vbCkgbWlncmF0aW9uTG9ja3M7CgogIC8qKgogICAqIEBkZXYgRW5zdXJlIG5vIGxvY2tzIGFyZSBpbiBwbGFjZSBmb3IgdGhlIGdpdmVuIGNvbnRyYWN0IGlkZW50aWZpZXIuCiAgICogQHBhcmFtIGNvbnRyYWN0SWRlbnRpZmllciB1aW50MjU2CiAgICovCiAgbW9kaWZpZXIgb25seVdpdGhvdXRMb2NrKHVpbnQyNTYgY29udHJhY3RJZGVudGlmaWVyKSB7CiAgICByZXF1aXJlKCFtaWdyYXRpb25Mb2Nrc1tjb250cmFjdElkZW50aWZpZXJdKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2ICAgIEdldCB0aGUgYWRkcmVzcyBvZiB0aGUgYWN0aXZlIGNvbnRyYWN0IGZvciB0aGUgZ2l2ZW4gaWRlbnRpZmllci4KICAgKiBAcGFyYW0gIGNvbnRyYWN0SWRlbnRpZmllciB1aW50MjU2CiAgICogQHJldHVybiBhZGRyZXNzCiAgICovCiAgZnVuY3Rpb24gZ2V0QWN0aXZlQ29udHJhY3RBZGRyZXNzKHVpbnQyNTYgY29udHJhY3RJZGVudGlmaWVyKQogICAgcHVibGljCiAgICBjb25zdGFudAogICAgb25seVdpdGhvdXRMb2NrKGNvbnRyYWN0SWRlbnRpZmllcikKICAgIHJldHVybnMgKGFkZHJlc3MgYWN0aXZlQ29udHJhY3QpCiAgewogICAgLy8gVmFsaWRhdGUgdGhlIGZ1bmN0aW9uIGFyZ3VtZW50cy4KICAgIHJlcXVpcmUoY29udHJhY3RJZGVudGlmaWVyICE9IDB4MCk7CiAgICAKICAgIC8vIEdldCB0aGUgYWN0aXZlIGNvbnRyYWN0IGZvciB0aGUgZ2l2ZW4gaWRlbnRpZmllci4KICAgIGFjdGl2ZUNvbnRyYWN0ID0gYWN0aXZlQ29udHJhY3RzW2NvbnRyYWN0SWRlbnRpZmllcl07CgogICAgLy8gRW5zdXJlIHRoZSBhZGRyZXNzIGlzIHNldCBhbmQgdGhlIGNvbnRyYWN0IGlzIGFjdGl2ZS4KICAgIHJlcXVpcmUoYWN0aXZlQ29udHJhY3QgIT0gMHgwICYmIEFjdGl2YXRhYmxlKGFjdGl2ZUNvbnRyYWN0KS5hY3RpdmUoKSk7CiAgfQoKICAvKioKICAgKiBAZGV2ICAgIENoZWNrIGlmIHRoZSBjb250cmFjdCBmb3IgdGhlIGdpdmVuIGFkZHJlc3MgaXMgbWFuYWdlZC4KICAgKiBAcGFyYW0gIGNvbnRyYWN0SWRlbnRpZmllciB1aW50MjU2CiAgICogQHBhcmFtICBjb250cmFjdEFkZHJlc3MgICAgYWRkcmVzcwogICAqIEByZXR1cm4gYm9vbAogICAqLwogIGZ1bmN0aW9uIGV4aXN0c01hbmFnZWRDb250cmFjdCh1aW50MjU2IGNvbnRyYWN0SWRlbnRpZmllciwgYWRkcmVzcyBjb250cmFjdEFkZHJlc3MpCiAgICBwdWJsaWMKICAgIGNvbnN0YW50CiAgICByZXR1cm5zIChib29sKQogIHsKICAgIC8vIFZhbGlkYXRlIHRoZSBmdW5jdGlvbiBhcmd1bWVudHMuCiAgICByZXF1aXJlKGNvbnRyYWN0SWRlbnRpZmllciAhPSAweDAgJiYgY29udHJhY3RBZGRyZXNzICE9IDB4MCk7CgogICAgcmV0dXJuIG1hbmFnZWRDb250cmFjdHNbY29udHJhY3RJZGVudGlmaWVyXVtjb250cmFjdEFkZHJlc3NdOwogIH0KCiAgLyoqCiAgICogQGRldiAgICBVcGdyYWRlIHRoZSBjb250cmFjdCBmb3IgdGhlIGdpdmVuIGNvbnRyYWN0IGlkZW50aWZpZXIgdG8gYSBuZXdlciB2ZXJzaW9uLgogICAqIEBkZXYgICAgaW52ZXN0aWdhdGUgcG90ZW50aWFsIHJhY2UgY29uZGl0aW9uCiAgICogQHBhcmFtICBjb250cmFjdElkZW50aWZpZXIgdWludDI1NgogICAqIEBwYXJhbSAgbmV3Q29udHJhY3RBZGRyZXNzIGFkZHJlc3MKICAgKi8KICBmdW5jdGlvbiB1cGdyYWRlQ29udHJhY3QodWludDI1NiBjb250cmFjdElkZW50aWZpZXIsIGFkZHJlc3MgbmV3Q29udHJhY3RBZGRyZXNzKQogICAgcHVibGljCiAgICBvbmx5T3duZXIKICAgIG9ubHlXaXRob3V0TG9jayhjb250cmFjdElkZW50aWZpZXIpCiAgewogICAgLy8gVmFsaWRhdGUgdGhlIGZ1bmN0aW9uIGFyZ3VtZW50cy4KICAgIHJlcXVpcmUoY29udHJhY3RJZGVudGlmaWVyICE9IDB4MCAmJiBuZXdDb250cmFjdEFkZHJlc3MgIT0gMHgwKTsKICAgIAogICAgLy8gTG9jayB0aGUgY29udHJhY3RJZGVudGlmaWVyLgogICAgbWlncmF0aW9uTG9ja3NbY29udHJhY3RJZGVudGlmaWVyXSA9IHRydWU7CgogICAgLy8gTmV3IGNvbnRyYWN0IHNob3VsZCBub3QgYmUgYWN0aXZlLgogICAgcmVxdWlyZSghQWN0aXZhdGFibGUobmV3Q29udHJhY3RBZGRyZXNzKS5hY3RpdmUoKSk7CgogICAgLy8gTmV3IGNvbnRyYWN0IHNob3VsZCBtYXRjaCB0aGUgZ2l2ZW4gY29udHJhY3RJZGVudGlmaWVyLgogICAgcmVxdWlyZShjb250cmFjdElkZW50aWZpZXIgPT0gVmVyc2lvbmFibGUobmV3Q29udHJhY3RBZGRyZXNzKS5pZGVudGlmaWVyKCkpOwoKICAgIC8vIEVuc3VyZSB0aGUgbmV3IGNvbnRyYWN0IGlzIG5vdCBhbHJlYWR5IG1hbmFnZWQuCiAgICByZXF1aXJlICghZXhpc3RzTWFuYWdlZENvbnRyYWN0KGNvbnRyYWN0SWRlbnRpZmllciwgbmV3Q29udHJhY3RBZGRyZXNzKSk7CgogICAgLy8gR2V0IHRoZSBvbGQgY29udHJhY3QgYWRkcmVzcy4KICAgIGFkZHJlc3Mgb2xkQ29udHJhY3RBZGRyZXNzID0gYWN0aXZlQ29udHJhY3RzW2NvbnRyYWN0SWRlbnRpZmllcl07CgogICAgLy8gRW5zdXJlIHRoZSBvbGQgY29udHJhY3QgaXMgbm90IGRlYWN0aXZhdGVkIGFscmVhZHkuCiAgICBpZiAob2xkQ29udHJhY3RBZGRyZXNzICE9IDB4MCkgewogICAgICByZXF1aXJlKEFjdGl2YXRhYmxlKG9sZENvbnRyYWN0QWRkcmVzcykuYWN0aXZlKCkpOwogICAgfQoKICAgIC8vIFN3YXAgdGhlIHN0YXRlcy4KICAgIHN3YXBDb250cmFjdHNTdGF0ZXMoY29udHJhY3RJZGVudGlmaWVyLCBuZXdDb250cmFjdEFkZHJlc3MsIG9sZENvbnRyYWN0QWRkcmVzcyk7CgogICAgLy8gQWRkIGl0IHRvIHRoZSBtYW5hZ2VkIG9uZXMuCiAgICBtYW5hZ2VkQ29udHJhY3RzW2NvbnRyYWN0SWRlbnRpZmllcl1bbmV3Q29udHJhY3RBZGRyZXNzXSA9IHRydWU7CgogICAgLy8gVW5sb2NrIHRoZSBjb250cmFjdElkZW50aWZpZXIuCiAgICBtaWdyYXRpb25Mb2Nrc1tjb250cmFjdElkZW50aWZpZXJdID0gZmFsc2U7CiAgICAKICAgIC8vIFRyaWdnZXIgZXZlbnQuCiAgICBVcGdyYWRlZENvbnRyYWN0KGNvbnRyYWN0SWRlbnRpZmllciwgb2xkQ29udHJhY3RBZGRyZXNzLCBuZXdDb250cmFjdEFkZHJlc3MpOwogIH0KCiAgLyoqCiAgICogQGRldiBSb2xsYmFjayB0aGUgY29udHJhY3QgZm9yIHRoZSBnaXZlbiBjb250cmFjdCBpZGVudGlmaWVyIHRvIHRoZSBwcm92aWRlZCB2ZXJzaW9uLgogICAqIEBkZXYgaW52ZXN0aWdhdGUgcG90ZW50aWFsIHJhY2UgY29uZGl0aW9uCiAgICogQHBhcmFtICBjb250cmFjdElkZW50aWZpZXIgdWludDI1NgogICAqIEBwYXJhbSAgdG9Db250cmFjdEFkZHJlc3MgIGFkZHJlc3MKICAgKi8KICBmdW5jdGlvbiByb2xsYmFja0NvbnRyYWN0KHVpbnQyNTYgY29udHJhY3RJZGVudGlmaWVyLCBhZGRyZXNzIHRvQ29udHJhY3RBZGRyZXNzKQogICAgcHVibGljCiAgICBvbmx5T3duZXIKICAgIG9ubHlXaXRob3V0TG9jayhjb250cmFjdElkZW50aWZpZXIpCiAgewogICAgLy8gVmFsaWRhdGUgdGhlIGZ1bmN0aW9uIGFyZ3VtZW50cy4KICAgIHJlcXVpcmUoY29udHJhY3RJZGVudGlmaWVyICE9IDB4MCAmJiB0b0NvbnRyYWN0QWRkcmVzcyAhPSAweDApOwoKICAgIC8vIExvY2sgdGhlIGNvbnRyYWN0SWRlbnRpZmllci4KICAgIG1pZ3JhdGlvbkxvY2tzW2NvbnRyYWN0SWRlbnRpZmllcl0gPSB0cnVlOwoKICAgIC8vIFRvIGNvbnRyYWN0IHNob3VsZCBtYXRjaCB0aGUgZ2l2ZW4gY29udHJhY3RJZGVudGlmaWVyLgogICAgcmVxdWlyZShjb250cmFjdElkZW50aWZpZXIgPT0gVmVyc2lvbmFibGUodG9Db250cmFjdEFkZHJlc3MpLmlkZW50aWZpZXIoKSk7CgogICAgLy8gUm9sbGJhY2sgInRvIiBjb250cmFjdCBzaG91bGQgYmUgbWFuYWdlZCBhbmQgaW5hY3RpdmUuCiAgICByZXF1aXJlICghQWN0aXZhdGFibGUodG9Db250cmFjdEFkZHJlc3MpLmFjdGl2ZSgpICYmIGV4aXN0c01hbmFnZWRDb250cmFjdChjb250cmFjdElkZW50aWZpZXIsIHRvQ29udHJhY3RBZGRyZXNzKSk7CgogICAgLy8gR2V0IHRoZSByb2xsYmFjayAiZnJvbSIgY29udHJhY3QgZm9yIGdpdmVuIGlkZW50aWZpZXIuIFdpbGwgZmFpbCBpZiB0aGVyZSBpcyBubyBhY3RpdmUgY29udHJhY3QuCiAgICBhZGRyZXNzIGZyb21Db250cmFjdEFkZHJlc3MgPSBhY3RpdmVDb250cmFjdHNbY29udHJhY3RJZGVudGlmaWVyXTsKCiAgICAvLyBTd2FwIHRoZSBzdGF0ZXMuCiAgICBzd2FwQ29udHJhY3RzU3RhdGVzKGNvbnRyYWN0SWRlbnRpZmllciwgdG9Db250cmFjdEFkZHJlc3MsIGZyb21Db250cmFjdEFkZHJlc3MpOwoKICAgIC8vIFVubG9jayB0aGUgY29udHJhY3RJZGVudGlmaWVyLgogICAgbWlncmF0aW9uTG9ja3NbY29udHJhY3RJZGVudGlmaWVyXSA9IGZhbHNlOwoKICAgIC8vIFRyaWdnZXIgZXZlbnQuCiAgICBSb2xsYmFja2VkQ29udHJhY3QoY29udHJhY3RJZGVudGlmaWVyLCBmcm9tQ29udHJhY3RBZGRyZXNzLCB0b0NvbnRyYWN0QWRkcmVzcyk7CiAgfQogIAogIC8qKgogICAqIEBkZXYgU3dhcCB0aGUgZ2l2ZW4gY29udHJhY3RzIHN0YXRlcyBhcyBkZWZpbmVkOgogICAqICAgICAgICAtIG5ld0NvbnRyYWN0QWRkcmVzcyB3aWxsIGJlIGFjdGl2YXRlZAogICAqICAgICAgICAtIG9sZENvbnRyYWN0QWRkcmVzcyB3aWxsIGJlIGRlYWN0aXZlZAogICAqIEBwYXJhbSAgY29udHJhY3RJZGVudGlmaWVyIHVpbnQyNTYKICAgKiBAcGFyYW0gIG5ld0NvbnRyYWN0QWRkcmVzcyBhZGRyZXNzCiAgICogQHBhcmFtICBvbGRDb250cmFjdEFkZHJlc3MgYWRkcmVzcwogICAqLwogIGZ1bmN0aW9uIHN3YXBDb250cmFjdHNTdGF0ZXModWludDI1NiBjb250cmFjdElkZW50aWZpZXIsIGFkZHJlc3MgbmV3Q29udHJhY3RBZGRyZXNzLCBhZGRyZXNzIG9sZENvbnRyYWN0QWRkcmVzcykgaW50ZXJuYWwgewogICAgLy8gRGVhY3RpdmF0ZSB0aGUgb2xkIGNvbnRyYWN0LgogICAgaWYgKG9sZENvbnRyYWN0QWRkcmVzcyAhPSAweDApIHsKICAgICAgQWN0aXZhdGFibGUob2xkQ29udHJhY3RBZGRyZXNzKS5kZWFjdGl2YXRlKCk7CiAgICB9CgogICAgLy8gQWN0aXZhdGUgdGhlIG5ldyBjb250cmFjdC4KICAgIEFjdGl2YXRhYmxlKG5ld0NvbnRyYWN0QWRkcmVzcykuYWN0aXZhdGUoKTsKCiAgICAgLy8gU2V0IHRoZSBuZXcgY29udHJhY3QgYXMgdGhlIGFjdGl2ZSBvbmUgZm9yIHRoZSBnaXZlbiBpZGVudGlmaWVyLgogICAgYWN0aXZlQ29udHJhY3RzW2NvbnRyYWN0SWRlbnRpZmllcl0gPSBuZXdDb250cmFjdEFkZHJlc3M7CiAgfQp9CgovLyBGaWxlOiB6ZXBwZWxpbi1zb2xpZGl0eS9jb250cmFjdHMvbWF0aC9TYWZlTWF0aC5zb2wKCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCi8vIEZpbGU6IHplcHBlbGluLXNvbGlkaXR5L2NvbnRyYWN0cy90b2tlbi9FUkMyMEJhc2ljLnNvbAoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKLy8gRmlsZTogY29udHJhY3RzL1Rva2VuL1N3aXNzQ3J5cHRvRXhjaGFuZ2VUb2tlbi5zb2wKCi8qKgogKiBAdGl0bGUgU3dpc3NDcnlwdG9FeGNoYW5nZSBTdGFuZGFyZCBFUkMyMCBjb21wYXRpYmxlIHRva2VuCiAqCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIFN3aXNzQ3J5cHRvRXhjaGFuZ2UgY29tcGFueSBzaGFyZXMuCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBPcGVuWmVwcGVsaW46IGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvYmxvYi9tYXN0ZXIvY29udHJhY3RzL3Rva2VuL1N0YW5kYXJkVG9rZW4uc29sCiAqLwpjb250cmFjdCBTd2lzc0NyeXB0b0V4Y2hhbmdlVG9rZW4gaXMgRVJDMjBCYXNpYywgVmVyc2lvbmFibGUgewogIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CgogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIlNDWCI7CiAgdWludDggcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMDsKCiAgdWludDI1NiBpbnRlcm5hbCBjb25zdGFudCBDT01QQU5ZX0NPTlRSQUNUX0lEID0gMTAxOwoKICAvKioKICAgKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIFN3aXNzQ3J5cHRvRXhjaGFuZ2VUb2tlbiBjb250cmFjdC4KICAgKiBAcGFyYW0gaW5pdGlhbFNoYXJlaG9sZGVyQWRkcmVzcyBhZGRyZXNzIAogICAqIEBwYXJhbSBpbml0aWFsQW1vdW50ICAgICAgICAgICAgIHVpbnQyNTYgCiAgICovCiAgZnVuY3Rpb24gU3dpc3NDcnlwdG9FeGNoYW5nZVRva2VuIChhZGRyZXNzIGluaXRpYWxTaGFyZWhvbGRlckFkZHJlc3MsIHVpbnQyNTYgaW5pdGlhbEFtb3VudCwgYWRkcmVzcyBfbWFuYWdlcikKICAgIHB1YmxpYwogICAgTWFuYWdlYWJsZSAoX21hbmFnZXIpCiAgICBWZXJzaW9uYWJsZSAoIlN3aXNzQ3J5cHRvRXhjaGFuZ2VUb2tlbiIsICIxLjAuMCIsIDEpCiAgewogICAgcmVxdWlyZShpbml0aWFsQW1vdW50ID4gMCk7CiAgICByZXF1aXJlKGluaXRpYWxTaGFyZWhvbGRlckFkZHJlc3MgIT0gMHgwKTsKCiAgICBiYWxhbmNlc1tpbml0aWFsU2hhcmVob2xkZXJBZGRyZXNzXSA9IGluaXRpYWxBbW91bnQ7CiAgICB0b3RhbFN1cHBseSA9IGluaXRpYWxBbW91bnQ7CiAgfQoKICAvKioKICAgKiBAZGV2IEVzbnVyZSB0aGUgbXNnLnNlbmRlciBpcyB0aGUgY29tcGFueSBjb250cmFjdC4KICAgKi8KICBtb2RpZmllciBvbmx5Q29tcGFueSgpIHsKICAgIHJlcXVpcmUgKG1zZy5zZW5kZXIgPT0gQ29udHJhY3RNYW5hZ2VtZW50U3lzdGVtKG1hbmFnZXIpLmdldEFjdGl2ZUNvbnRyYWN0QWRkcmVzcyhDT01QQU5ZX0NPTlRSQUNUX0lEKSk7CiAgICBfOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCiAgLyoqCiAgKiBAZGV2IFRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgaXNBY3RpdmUgb25seUNvbXBhbnkgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gMHgwKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKCiAgICAvLyBTYWZlTWF0aC5zdWIgd2lsbCB0aHJvdyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJhbGFuY2UuCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlci4KICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIGlzQWN0aXZlIG9ubHlDb21wYW55IHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IDB4MCk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1tfZnJvbV0pOwoKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBtaW50IHRva2Vucy4KICAgKiBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IG9mIHRva2VucyB0byBtaW50LgogICAqIEByZXR1cm4gQSBib29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICovCiAgZnVuY3Rpb24gbWludCh1aW50MjU2IF9hbW91bnQpIGlzQWN0aXZlIG9ubHlDb21wYW55IHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAvLyBUaGUgcmVjZWl2ZXIgb2YgdGhlIG1pbnRlZCB0b2tlbnMgd2lsbCBiZSB0aGUgY29tcGFueSBjb250cmFjdC4KICAgIGFkZHJlc3MgX2NvbXBhbnlBZGRyZXNzID0gQ29udHJhY3RNYW5hZ2VtZW50U3lzdGVtKG1hbmFnZXIpLmdldEFjdGl2ZUNvbnRyYWN0QWRkcmVzcyhDT01QQU5ZX0NPTlRSQUNUX0lEKTsKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9hbW91bnQpOwogICAgYmFsYW5jZXNbX2NvbXBhbnlBZGRyZXNzXSA9IGJhbGFuY2VzW19jb21wYW55QWRkcmVzc10uYWRkKF9hbW91bnQpOwogICAgTWludChfY29tcGFueUFkZHJlc3MsIF9hbW91bnQpOwogICAgVHJhbnNmZXIoMHgwLCBfY29tcGFueUFkZHJlc3MsIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQp9'.
	

]
