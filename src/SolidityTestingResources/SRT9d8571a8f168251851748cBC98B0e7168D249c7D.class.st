Class {
	#name : #SRT9d8571a8f168251851748cBC98B0e7168D249c7D,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9d8571a8f168251851748cBC98B0e7168D249c7D >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKbGlicmFyeSBTYWZlTWF0aCB7CiAgICAKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgaWYgKGEgPT0gMCkgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CgogICAgICAgIHVpbnQyNTYgYyA9IGEgLyBiOwoKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9CgoKY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCgpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9Cgp9CgoKY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGludGVybmFsIGFsbG93ZWQ7CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1tfZnJvbV0pOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgICAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgICAgICB9CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKCmNvbnRyYWN0IFJlbGVhc2FibGVUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKCiAgICBhZGRyZXNzIHB1YmxpYyByZWxlYXNlQWdlbnQ7CgogICAgYm9vbCBwdWJsaWMgcmVsZWFzZWQgPSBmYWxzZTsKCiAgICBldmVudCBSZWxlYXNlZCgpOwoKICAgIGV2ZW50IFJlbGVhc2VBZ2VudFNldChhZGRyZXNzIHJlbGVhc2VBZ2VudCk7CgogICAgZXZlbnQgVHJhbnNmZXJBZ2VudFNldChhZGRyZXNzIHRyYW5zZmVyQWdlbnQsIGJvb2wgc3RhdHVzKTsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyB0cmFuc2ZlckFnZW50czsKCiAgICBtb2RpZmllciBjYW5UcmFuc2ZlcihhZGRyZXNzIF9zZW5kZXIpIHsKICAgICAgICByZXF1aXJlKHJlbGVhc2VkIHx8IHRyYW5zZmVyQWdlbnRzW19zZW5kZXJdKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIGluUmVsZWFzZVN0YXRlKGJvb2wgcmVsZWFzZVN0YXRlKSB7CiAgICAgICAgcmVxdWlyZShyZWxlYXNlU3RhdGUgPT0gcmVsZWFzZWQpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seVJlbGVhc2VBZ2VudCgpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gcmVsZWFzZUFnZW50KTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFJlbGVhc2VBZ2VudChhZGRyZXNzIGFkZHIpIHB1YmxpYyBvbmx5T3duZXIgaW5SZWxlYXNlU3RhdGUoZmFsc2UpIHsKICAgICAgICBSZWxlYXNlQWdlbnRTZXQoYWRkcik7CiAgICAgICAgcmVsZWFzZUFnZW50ID0gYWRkcjsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRUcmFuc2ZlckFnZW50KGFkZHJlc3MgYWRkciwgYm9vbCBzdGF0ZSkgcHVibGljIG9ubHlPd25lciBpblJlbGVhc2VTdGF0ZShmYWxzZSkgewogICAgICAgIFRyYW5zZmVyQWdlbnRTZXQoYWRkciwgc3RhdGUpOwogICAgICAgIHRyYW5zZmVyQWdlbnRzW2FkZHJdID0gc3RhdGU7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHJlbGVhc2VUb2tlblRyYW5zZmVyKCkgcHVibGljIG9ubHlSZWxlYXNlQWdlbnQgewogICAgICAgIFJlbGVhc2VkKCk7CiAgICAgICAgcmVsZWFzZWQgPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCAKICAgICAgICAgICAgICAgICAgICAgIHVpbnQgX3ZhbHVlKSBwdWJsaWMgY2FuVHJhbnNmZXIobXNnLnNlbmRlcikgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyBfdG8sIAogICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQgX3ZhbHVlKSBwdWJsaWMgY2FuVHJhbnNmZXIoX2Zyb20pIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KfQoKCmNvbnRyYWN0IFRydU1pbnRhYmxlVG9rZW4gaXMgUmVsZWFzYWJsZVRva2VuIHsKICAgIAogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgICBib29sIHB1YmxpYyBtaW50aW5nRmluaXNoZWQgPSBmYWxzZTsKCiAgICBib29sIHB1YmxpYyBwcmVTYWxlQ29tcGxldGUgPSBmYWxzZTsKCiAgICBib29sIHB1YmxpYyBzYWxlQ29tcGxldGUgPSBmYWxzZTsKCiAgICBldmVudCBNaW50ZWQoYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfYW1vdW50KTsKCiAgICBldmVudCBNaW50RmluaXNoZWQoYWRkcmVzcyBpbmRleGVkIF9leGVjdXRvcik7CiAgICAKICAgIGV2ZW50IFByZVNhbGVDb21wbGV0ZShhZGRyZXNzIGluZGV4ZWQgX2V4ZWN1dG9yKTsKCiAgICBldmVudCBTYWxlQ29tcGxldGUoYWRkcmVzcyBpbmRleGVkIF9leGVjdXRvcik7CgogICAgbW9kaWZpZXIgY2FuTWludCgpIHsKICAgICAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gbWludChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgb25seU93bmVyIGNhbk1pbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX2Ftb3VudCA+IDApOwogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9hbW91bnQpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgICAgICBNaW50ZWQoX3RvLCBfYW1vdW50KTsKICAgICAgICBUcmFuc2ZlcigweDAsIF90bywgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gZmluaXNoTWludGluZyhib29sIF9wcmVzYWxlLCBib29sIF9zYWxlKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF9zYWxlICE9IF9wcmVzYWxlKTsKICAgICAgICBpZiAoX3ByZXNhbGUgPT0gdHJ1ZSkgewogICAgICAgICAgICBwcmVTYWxlQ29tcGxldGUgPSB0cnVlOwogICAgICAgICAgICBQcmVTYWxlQ29tcGxldGUobXNnLnNlbmRlcik7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICByZXF1aXJlKHByZVNhbGVDb21wbGV0ZSA9PSB0cnVlKTsKICAgICAgICBzYWxlQ29tcGxldGUgPSB0cnVlOwogICAgICAgIFNhbGVDb21wbGV0ZShtc2cuc2VuZGVyKTsKICAgICAgICBtaW50aW5nRmluaXNoZWQgPSB0cnVlOwogICAgICAgIE1pbnRGaW5pc2hlZChtc2cuc2VuZGVyKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKCmNvbnRyYWN0IFVwZ3JhZGVBZ2VudCB7CiAgICAKICAgIHVpbnQgcHVibGljIG9yaWdpbmFsU3VwcGx5OwoKICAgIGZ1bmN0aW9uIGlzVXBncmFkZUFnZW50KCkgcHVibGljIHB1cmUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHVwZ3JhZGVGcm9tKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWM7Cn0KCgpjb250cmFjdCBUcnVVcGdyYWRlYWJsZVRva2VuIGlzIFN0YW5kYXJkVG9rZW4gewoKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogICAgYWRkcmVzcyBwdWJsaWMgdXBncmFkZU1hc3RlcjsKCiAgICBVcGdyYWRlQWdlbnQgcHVibGljIHVwZ3JhZGVBZ2VudDsKCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFVwZ3JhZGVkOwoKICAgIGJvb2wgcHJpdmF0ZSBpc1VwZ3JhZGVhYmxlID0gdHJ1ZTsKCiAgICBlbnVtIFVwZ3JhZGVTdGF0ZSB7VW5rbm93biwgTm90QWxsb3dlZCwgV2FpdGluZ0ZvckFnZW50LCBSZWFkeVRvVXBncmFkZSwgVXBncmFkaW5nfQoKICAgIGV2ZW50IFVwZ3JhZGUoYWRkcmVzcyBpbmRleGVkIGZyb20sIAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCB0bywgCiAgICAgICAgdWludDI1NiB1cGdyYWRlVmFsdWUpOwoKICAgIGV2ZW50IFVwZ3JhZGVBZ2VudFNldChhZGRyZXNzIGluZGV4ZWQgYWdlbnQsIAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBleGVjdXRvcik7CgogICAgZXZlbnQgTmV3VXBncmFkZWRBbW91bnQodWludDI1NiBvcmlnaW5hbEJhbGFuY2UsIAogICAgICAgIHVpbnQyNTYgbmV3QmFsYW5jZSwgCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIGV4ZWN1dG9yKTsKICAgIAogICAgbW9kaWZpZXIgb25seVVwZ3JhZGVNYXN0ZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHVwZ3JhZGVNYXN0ZXIpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gVHJ1VXBncmFkZWFibGVUb2tlbihhZGRyZXNzIF91cGdyYWRlTWFzdGVyKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX3VwZ3JhZGVNYXN0ZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgdXBncmFkZU1hc3RlciA9IF91cGdyYWRlTWFzdGVyOwogICAgfQoKICAgIGZ1bmN0aW9uIHVwZ3JhZGUodWludDI1NiBfdmFsdWUpIHB1YmxpYyB7CiAgICAgICAgVXBncmFkZVN0YXRlIHN0YXRlID0gZ2V0VXBncmFkZVN0YXRlKCk7CiAgICAgICAgcmVxdWlyZSgoc3RhdGUgPT0gVXBncmFkZVN0YXRlLlJlYWR5VG9VcGdyYWRlKSB8fCAoc3RhdGUgPT0gVXBncmFkZVN0YXRlLlVwZ3JhZGluZykpOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUpOwogICAgICAgIHVpbnQyNTYgdXBncmFkZWRBbW91bnQgPSB0b3RhbFVwZ3JhZGVkLmFkZChfdmFsdWUpOwogICAgICAgIHVpbnQyNTYgc2VuZGVyQmFsYW5jZSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdOwogICAgICAgIHVpbnQyNTYgbmV3U2VuZGVyQmFsYW5jZSA9IHNlbmRlckJhbGFuY2Uuc3ViKF92YWx1ZSk7ICAgICAgCiAgICAgICAgdWludDI1NiBuZXdUb3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gbmV3U2VuZGVyQmFsYW5jZTsKICAgICAgICB0b3RhbFN1cHBseSA9IG5ld1RvdGFsU3VwcGx5OyAgICAgICAgCiAgICAgICAgTmV3VXBncmFkZWRBbW91bnQodG90YWxVcGdyYWRlZCwgbmV3VG90YWxTdXBwbHksIG1zZy5zZW5kZXIpOwogICAgICAgIHRvdGFsVXBncmFkZWQgPSB1cGdyYWRlZEFtb3VudDsKICAgICAgICB1cGdyYWRlQWdlbnQudXBncmFkZUZyb20obXNnLnNlbmRlciwgX3ZhbHVlKTsKICAgICAgICBVcGdyYWRlKG1zZy5zZW5kZXIsIHVwZ3JhZGVBZ2VudCwgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRVcGdyYWRlQWdlbnQoYWRkcmVzcyBfYWdlbnQpIHB1YmxpYyBvbmx5VXBncmFkZU1hc3RlciB7CiAgICAgICAgcmVxdWlyZShfYWdlbnQgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShjYW5VcGdyYWRlKCkpOwogICAgICAgIHJlcXVpcmUoZ2V0VXBncmFkZVN0YXRlKCkgIT0gVXBncmFkZVN0YXRlLlVwZ3JhZGluZyk7CiAgICAgICAgVXBncmFkZUFnZW50IG5ld1VBZ2VudCA9IFVwZ3JhZGVBZ2VudChfYWdlbnQpOwogICAgICAgIHJlcXVpcmUobmV3VUFnZW50LmlzVXBncmFkZUFnZW50KCkpOwogICAgICAgIHJlcXVpcmUobmV3VUFnZW50Lm9yaWdpbmFsU3VwcGx5KCkgPT0gdG90YWxTdXBwbHkpOwogICAgICAgIFVwZ3JhZGVBZ2VudFNldCh1cGdyYWRlQWdlbnQsIG1zZy5zZW5kZXIpOwogICAgICAgIHVwZ3JhZGVBZ2VudCA9IG5ld1VBZ2VudDsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRVcGdyYWRlU3RhdGUoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyhVcGdyYWRlU3RhdGUpIHsKICAgICAgICBpZiAoIWNhblVwZ3JhZGUoKSkKICAgICAgICAgICAgcmV0dXJuIFVwZ3JhZGVTdGF0ZS5Ob3RBbGxvd2VkOwogICAgICAgIGVsc2UgaWYgKHVwZ3JhZGVBZ2VudCA9PSBhZGRyZXNzKDApKQogICAgICAgICAgICByZXR1cm4gVXBncmFkZVN0YXRlLldhaXRpbmdGb3JBZ2VudDsKICAgICAgICBlbHNlIGlmICh0b3RhbFVwZ3JhZGVkID09IDApCiAgICAgICAgICAgIHJldHVybiBVcGdyYWRlU3RhdGUuUmVhZHlUb1VwZ3JhZGU7CiAgICAgICAgZWxzZSAKICAgICAgICAgICAgcmV0dXJuIFVwZ3JhZGVTdGF0ZS5VcGdyYWRpbmc7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0VXBncmFkZU1hc3RlcihhZGRyZXNzIF9tYXN0ZXIpIHB1YmxpYyBvbmx5VXBncmFkZU1hc3RlciB7CiAgICAgICAgcmVxdWlyZShfbWFzdGVyICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHVwZ3JhZGVNYXN0ZXIgPSBfbWFzdGVyOwogICAgfQoKICAgIGZ1bmN0aW9uIGNhblVwZ3JhZGUoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyhib29sKSB7CiAgICAgICAgcmV0dXJuIGlzVXBncmFkZWFibGU7CiAgICB9Cn0KCgpjb250cmFjdCBUcnVSZXB1dGF0aW9uVG9rZW4gaXMgVHJ1TWludGFibGVUb2tlbiwgVHJ1VXBncmFkZWFibGVUb2tlbiB7CgogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgICB1aW50OCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiVHJ1IFJlcHV0YXRpb24gVG9rZW4iOwoKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIlRSVSI7CgogICAgYWRkcmVzcyBwdWJsaWMgZXhlY0JvYXJkID0gMHgwOwoKICAgIGV2ZW50IEJvYXJkQWRkcmVzc0NoYW5nZWQoYWRkcmVzcyBpbmRleGVkIG9sZEFkZHJlc3MsIAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBuZXdBZGRyZXNzLCAKICAgICAgICBhZGRyZXNzIGluZGV4ZWQgZXhlY3V0b3IpOwoKICAgIG1vZGlmaWVyIG9ubHlFeGVjQm9hcmQoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGV4ZWNCb2FyZCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBUcnVSZXB1dGF0aW9uVG9rZW4oKSBwdWJsaWMgVHJ1VXBncmFkZWFibGVUb2tlbihtc2cuc2VuZGVyKSB7CiAgICAgICAgZXhlY0JvYXJkID0gbXNnLnNlbmRlcjsKICAgICAgICBCb2FyZEFkZHJlc3NDaGFuZ2VkKDB4MCwgbXNnLnNlbmRlciwgbXNnLnNlbmRlcik7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNoYW5nZUJvYXJkQWRkcmVzcyhhZGRyZXNzIF9uZXdBZGRyZXNzKSBwdWJsaWMgb25seUV4ZWNCb2FyZCB7CiAgICAgICAgcmVxdWlyZShfbmV3QWRkcmVzcyAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF9uZXdBZGRyZXNzICE9IGV4ZWNCb2FyZCk7CiAgICAgICAgYWRkcmVzcyBvbGRBZGRyZXNzID0gZXhlY0JvYXJkOwogICAgICAgIGV4ZWNCb2FyZCA9IF9uZXdBZGRyZXNzOwogICAgICAgIEJvYXJkQWRkcmVzc0NoYW5nZWQob2xkQWRkcmVzcywgX25ld0FkZHJlc3MsIG1zZy5zZW5kZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNhblVwZ3JhZGUoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyhib29sKSB7CiAgICAgICAgcmV0dXJuIHJlbGVhc2VkICYmIHN1cGVyLmNhblVwZ3JhZGUoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRVcGdyYWRlTWFzdGVyKGFkZHJlc3MgX21hc3RlcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgc3VwZXIuc2V0VXBncmFkZU1hc3RlcihfbWFzdGVyKTsKICAgIH0KfQ=='.
	

]
