Class {
	#name : #SRT8E1a99D8dBE5687F74C74f18295C4928Ce2F676d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT8E1a99D8dBE5687F74C74f18295C4928Ce2F676d >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovKioKICoKICogQGF1dGhvciAgRGF2aWQgUm9zZW4gPDxhIGhyZWY9Ii9jZG4tY2dpL2wvZW1haWwtcHJvdGVjdGlvbiIgY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSIwMzY4NjI2MjZkNjc2YzZhNzc0MzZlNjA2YzZkMmQ2YzcxNjQiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L2E+PgogKgogKiBWZXJzaW9uIFRlc3QtRAogKgogKiBPdmVydmlldzoKICogVGhpcyBjb250cmFjdCBpbXBsaW1lbnRzIGEgYmxpbmQgYXVjdGlvbiBmb3IgYnVybmFibGUgdG9rZW5zLiBFYWNoIHNlY3JldCBiaWQgY29uc2lzdHMKICogb2YgYSBoYXNoZWQgYmlkLXR1cGxlLCAoYHByaWNlYCwgYHF1YW50aXR5YCwgYHNhbHRgKSwgd2hlcmUgcHJpY2UgaXMgdGhlIG1heGltdW0gYW1vdW50CiAqIG9mIGV0aGVyIChpbiB3ZWkpIGEgdXNlciBpcyB3aWxsaW5nIHRvIHBheSBwZXIgdG9rZW4sIHF1YW50aXR5IGlzIHRoZSBudW1iZXIgb2YgdG9rZW5zCiAqIHRoZSB1c2VyIHdhbnRzIHRvIGJ1eSwgYW5kIHNhbHQgaXMgYW4gYXJiaXRyYXJ5IHZhbHVlLiBUb2dldGhlciB3aXRoIHRoZSBoYXNoZWQgYmlkLXR1cGxlLAogKiB0aGUgdXNlciBpbmNsdWRlcyBhbiBlbmNyeXB0ZWQgYmlkIHR1cGxlLCB1c2luZyB0aGUgcHVibGljIGtleSBvZiB0aGUgcGFydHkgcnVubmluZyB0aGUKICogYXVjdGlvbiwgYW5kIG9mIGNvdXJzZSBhIGRlcG9zaXQgc3VmZmljaWVudCB0byBwYXkgZm9yIHRoZSBiaWQuCiAqCiAqIEF0IHRoZSBlbmQgb2YgdGhlIGJpZGRpbmcgcGVyaW9kLCB0aGUgcGFydHkgcnVubmluZyB0aGUgYXVjdGlvbiBzZXRzIGEgJ3N0cmlrZSBwcmljZScsCiAqIHRoZXJlYnkgc2lnbmFsaW5nIHRoZSBzdGFydCBvZiB0aGUgc2FsZSBwZXJpb2QuIER1cmluZyB0aGlzIHBlcmlvZCBhbGwgYmlkZGVycyBtdXN0CiAqIGV4ZWN1dGUgdGhlaXIgYmlkcy4gVG8gZXhlY3V0ZSBhIGJpZCBhIHVzZXIgcmV2ZWFscyB0aGVpciBiaWQtdHVwbGUuIEFsbCBiaWRzIHdpdGggYQogKiBwcmljZSBhdCBsZWFzdCBhcyBoaWdoIGFzIHRoZSBzdHJpa2UgcHJpY2UgYXJlIGZpbGxlZCwgYW5kIGFsbCBiaWRzIHVuZGVyIHRoZSBzdHJpa2UKICogcHJpY2UgYXJlIHJldHVybmVkLiBCaWRzIHRoYXQgYXJlIGV4YWN0bHkgZXF1YWwgdG8gdGhlIHN0cmlrZSBwcmljZSBhcmUgcGFydGlhbGx5IGZpbGxlZCwKICogc28gdGhhdCB0aGUgbWF4aW11bSBudW1iZXIgb2YgdG9rZW5zIGdlbmVyYXRlZCBkb2VzIG5vdCBleGNlZWQgdGhlIHRvdGFsIHN1cHBseS4KICoKICogU3RyaWtlIFByaWNlOgogKiBUaGUgc3RyaWtlIHByaWNlIGlzIGNhbGN1bGF0ZWQgb2ZmY2hhaW4gYnkgdGhlIHBhcnR5IHJ1bm5pbmcgdGhlIGF1Y3Rpb24uIFdoZW4gZWFjaAogKiBzZWNyZXQgYmlkIGlzIHN1Ym1pdHRlZCBhbiBldmVudCBpcyBnZW5lcmF0ZWQsIHdoaWNoIGluY2x1ZGVzIHRoZSBzZW5kZXIgYWRkcmVzcywgaGFzaGVkCiAqIGJpZC10dXBsZSwgZW5jcnlwdGVkIGJpZC10dXBsZSBhbmQgZGVwb3NpdCBhbW91bnQuIHRoZSBwYXJ0eSBydW5uaW5nIHRoZSBhdWN0aW9uIGRlY3J5cHRzCiAqIHRoZSBlbmNyeXB0ZWQgYmlkLXR1cGxlLCBhbmQgcmVnZW5lcmF0ZXMgdGhlIGhhc2guIElmIHRoZSByZWdlbmVyYXRlZCBoYXNoIGRvZXMgbm90IG1hdGNoCiAqIHRoZSBoYXNoIHRoYXQgd2FzIHN1Ym1pdHRlZCB3aXRoIHRoZSBzZWNyZXQgYmlkLCBvciBpZiB0aGUgZGVzcG9zaXRlZCBmdW5kcyBhcmUgbm90CiAqIHN1ZmZpY2llbnQgdG8gY292ZXIgdGhlIGJpZCwgdGhlbiB0aGUgYmlkIGlzIGRpc3F1YWxpZmllZC4gKHByZXN1bWFibHkgZGlzcXVhbGlmeWluZwogKiBpbnZhbGlkIGJpZHMgd2lsbCBiZSBjaGVhcGVyIHRoYW4gdmFsaWRhdGluZyBhbGwgdGhlIHZhbGlkIGJpZHMpLgogKgogKiBUaGUgYXVjdGlvbiBpcyBzdHJ1Y3R1cmVkIHdpdGggYSBmaXhlZCBtYXhpbXVtIG51bWJlciBvZiB0b2tlbnMuIFNvIHRvIHJhaXNlIHRoZSBtYXhpbXVtCiAqIGZ1bmRzIHRoZSBiaWRzIGFyZSBzb3J0ZWQsIGhpZ2hlc3QgdG8gbG93ZXN0LiBTdGFydGluZyB0aGUgc3RyaWtlLXByaWNlIGF0IHRoZSBoaWdoZXN0CiAqIGJpZCwgaXQgaXMgcmVkdWNlZCwgYmlkIGJ5IGJpZCwgdG8gaW5jbHVkZSBtb3JlIGJpZHMuIFRoZSBxdWFudGl0eSBvZiB0b2tlbnMgc29sZCBpbmNyZWFzZXMKICogZWFjaCB0aW1lIGEgbmV3IGJpZCBpcyBpbmNsdWRlZDsgYnV0IHRoZSB0aGUgdG9rZW4gcHJpY2UgaXMgcmVkdWNlZC4gQXQgZWFjaCBzdGVwIHRoZQogKiB0b3RhbCByYWlzZSAodG9rZW4tcHJpY2UgdGltZXMgcXVhbnRpdHktb2YtdG9rZW5zLXNvbGQpIGlzIGNvbXB1dGVkLiBBbmQgdGhlIHByb2Nlc3MgZW5kcwogKiB3aGVuZXZlciB0aGUgdG90YWwgcmFpc2UgZGVjcmVhc2VzLCBvciB3aGVuIHRoZSB0b3RhbCBudW1iZXIgb2YgdG9rZW5zIGV4Y2VlZHMgdGhlIHRvdGFsCiAqIHN1cHBseS4KICoKICogTm90ZXM6CiAqIFRoZSBgc2FsdGAgaXMgaW5jbHVkZWQgaW4gdGhlIGJpZC10dXBsZSB0byBkaXNjb3VyYWdlIGJydXRlLWZvcmNlIGF0dGFja3Mgb24gdGhlIGlucHV0cwogKiB0byB0aGUgc2VjcmV0IGJpZC4KICoKICogQSB1c2VyIGNhbm5vdCBzdWJtaXQgbXVsdGlwbGUgYmlkcyBmcm9tIHRoZSBzYW1lIEV0aGVyIGFjY291bnQuCiAqCiAqIFVzZXJzIGFyZSByZXF1aXJlZCB0byBleGVjdXRlIHRoZWlyIGJpZHMuIElmIGEgdXNlciBmYWlscyB0byBleGVjdXRlIHRoZWlyIGJpZCBiZWZvcmUgdGhlCiAqIGVuZCBvZiB0aGUgc2FsZSBwZXJpb2QsIHRoZW4gdGhleSBmb3JmZWl0IGhhbGYgb2YgdGhlaXIgZGVwb3NpdCwgYW5kIHJlY2VpdmUgbm8gdG9rZW5zLgogKiBUaGlzIHJ1bGUgd2FzIGFkb3B0ZWQgdG8gcHJldmVudCB1c2VycyBmcm9tIHBsYWNpbmcgc2V2ZXJhbCBiaWRzLCBhbmQgb25seSByZXZlYWxpbmcgb25lCiAqIG9mIHRoZW0uIFdpdGggdGhpcyBydWxlLCBhbGwgYmlkcyBtdXN0IGJlIGV4ZWN1dGVkLgogKgogKi8KCi8vIFRva2VuIHN0YW5kYXJkIEFQSQovLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKCmNvbnRyYWN0IGlFUkMyMFRva2VuIHsKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgc3VwcGx5KTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoIGFkZHJlc3Mgd2hvICkgY29uc3RhbnQgcmV0dXJucyAodWludCB2YWx1ZSk7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKCBhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIgKSBjb25zdGFudCByZXR1cm5zICh1aW50IHJlbWFpbmluZyk7CgogIGZ1bmN0aW9uIHRyYW5zZmVyKCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zIChib29sIG9rKTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oIGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gYXBwcm92ZSggYWRkcmVzcyBzcGVuZGVyLCB1aW50IHZhbHVlICkgcmV0dXJucyAoYm9vbCBvayk7CgogIGV2ZW50IFRyYW5zZmVyKCBhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKICBldmVudCBBcHByb3ZhbCggYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB2YWx1ZSk7Cn0KCi8vQnVybmFibGUgVG9rZW4gaW50ZXJmYWNlCgpjb250cmFjdCBpQnVybmFibGVUb2tlbiBpcyBpRVJDMjBUb2tlbiB7CiAgZnVuY3Rpb24gYnVyblRva2Vucyh1aW50IF9idXJuQ291bnQpIHB1YmxpYzsKICBmdW5jdGlvbiB1blBhaWRCdXJuVG9rZW5zKHVpbnQgX2J1cm5Db3VudCkgcHVibGljOwp9CgoKLyoKICAgIE92ZXJmbG93IHByb3RlY3RlZCBtYXRoIGZ1bmN0aW9ucwoqLwpjb250cmFjdCBTYWZlTWF0aCB7CiAgICAvKioKICAgICAgICBjb25zdHJ1Y3RvcgogICAgKi8KICAgIGZ1bmN0aW9uIFNhZmVNYXRoKCkgewogICAgfQoKICAgIC8qKgogICAgICAgIEBkZXYgcmV0dXJucyB0aGUgc3VtIG9mIF94IGFuZCBfeSwgYXNzZXJ0cyBpZiB0aGUgY2FsY3VsYXRpb24gb3ZlcmZsb3dzCgogICAgICAgIEBwYXJhbSBfeCAgIHZhbHVlIDEKICAgICAgICBAcGFyYW0gX3kgICB2YWx1ZSAyCgogICAgICAgIEByZXR1cm4gc3VtCiAgICAqLwogICAgZnVuY3Rpb24gc2FmZUFkZCh1aW50MjU2IF94LCB1aW50MjU2IF95KSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiB6ID0gX3ggKyBfeTsKICAgICAgICBhc3NlcnQoeiA+PSBfeCk7CiAgICAgICAgcmV0dXJuIHo7CiAgICB9CgogICAgLyoqCiAgICAgICAgQGRldiByZXR1cm5zIHRoZSBkaWZmZXJlbmNlIG9mIF94IG1pbnVzIF95LCBhc3NlcnRzIGlmIHRoZSBzdWJ0cmFjdGlvbiByZXN1bHRzIGluIGEgbmVnYXRpdmUgbnVtYmVyCgogICAgICAgIEBwYXJhbSBfeCAgIG1pbnVlbmQKICAgICAgICBAcGFyYW0gX3kgICBzdWJ0cmFoZW5kCgogICAgICAgIEByZXR1cm4gZGlmZmVyZW5jZQogICAgKi8KICAgIGZ1bmN0aW9uIHNhZmVTdWIodWludDI1NiBfeCwgdWludDI1NiBfeSkgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGFzc2VydChfeCA+PSBfeSk7CiAgICAgICAgcmV0dXJuIF94IC0gX3k7CiAgICB9CgogICAgLyoqCiAgICAgICAgQGRldiByZXR1cm5zIHRoZSBwcm9kdWN0IG9mIG11bHRpcGx5aW5nIF94IGJ5IF95LCBhc3NlcnRzIGlmIHRoZSBjYWxjdWxhdGlvbiBvdmVyZmxvd3MKCiAgICAgICAgQHBhcmFtIF94ICAgZmFjdG9yIDEKICAgICAgICBAcGFyYW0gX3kgICBmYWN0b3IgMgoKICAgICAgICBAcmV0dXJuIHByb2R1Y3QKICAgICovCiAgICBmdW5jdGlvbiBzYWZlTXVsKHVpbnQyNTYgX3gsIHVpbnQyNTYgX3kpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IHogPSBfeCAqIF95OwogICAgICAgIGFzc2VydChfeCA9PSAwIHx8IHogLyBfeCA9PSBfeSk7CiAgICAgICAgcmV0dXJuIHo7CiAgICB9Cn0KCmNvbnRyYWN0IFRva2VuQXVjdGlvbiBpcyBTYWZlTWF0aCB7CgogIHN0cnVjdCBTZWNyZXRCaWQgewogICAgYm9vbCBkaXNxdWFsaWZpZWQ7ICAgICAvLyBmbGFnIHNldCBpZiBoYXNoIGRvZXMgbm90IG1hdGNoIGVuY3J5cHRlZCBiaWQKICAgIHVpbnQgZGVwb3NpdDsgICAgICAgICAgLy8gZnVuZHMgZGVwb3NpdGVkIGJ5IGJpZGRlcgogICAgdWludCByZWZ1bmQ7ICAgICAgICAgICAvLyBmdW5kcyB0byBiZSByZXR1cm5lZCB0byBiaWRkZXIKICAgIHVpbnQgdG9rZW5zOyAgICAgICAgICAgLy8gc3RydWN0dXJlIGhhcyBiZWVuIGFsbG9jYXRlZAogICAgYnl0ZXMzMiBoYXNoOyAgICAgICAgICAvLyBoYXNoIG9mIHByaWNlLCBxdWFudGl0eSwgc2VjcmV0CiAgfQogIHVpbnQgY29uc3RhbnQgIEFVQ1RJT05fU1RBUlRfRVZFTlQgPSAweDAxOwogIHVpbnQgY29uc3RhbnQgIEFVQ1RJT05fRU5EX0VWRU5UICAgPSAweDAyOwogIHVpbnQgY29uc3RhbnQgIFNBTEVfU1RBUlRfRVZFTlQgICAgPSAweDA0OwogIHVpbnQgY29uc3RhbnQgIFNBTEVfRU5EX0VWRU5UICAgICAgPSAweDA4OwoKICBldmVudCBTZWNyZXRCaWRFdmVudCh1aW50IGluZGV4ZWQgYmF0Y2gsIGFkZHJlc3MgaW5kZXhlZCBiaWRkZXIsIHVpbnQgZGVwb3NpdCwgYnl0ZXMzMiBoYXNoLCBieXRlcyBtZXNzYWdlKTsKICBldmVudCBFeGVjdXRlRXZlbnQodWludCBpbmRleGVkIGJhdGNoLCBhZGRyZXNzIGluZGV4ZWQgYmlkZGVyLCB1aW50IGNvc3QsIHVpbnQgcmVmdW5kKTsKICBldmVudCBFeHBpcmVFdmVudCh1aW50IGluZGV4ZWQgYmF0Y2gsIGFkZHJlc3MgaW5kZXhlZCBiaWRkZXIsIHVpbnQgY29zdCwgdWludCByZWZ1bmQpOwogIGV2ZW50IEJpemFycmVFdmVudChhZGRyZXNzIGluZGV4ZWQgYWRkciwgc3RyaW5nIG1lc3NhZ2UsIHVpbnQgdmFsKTsKICBldmVudCBTdGF0ZUNoYW5nZUV2ZW50KHVpbnQgbWFzayk7CiAgLy8KICAvL2V2ZW50IE1lc3NhZ2VFdmVudChzdHJpbmcgbWVzc2FnZSk7CiAgLy9ldmVudCBNZXNzYWdlVWludEV2ZW50KHN0cmluZyBtZXNzYWdlLCB1aW50IHZhbCk7CiAgLy9ldmVudCBNZXNzYWdlQWRkckV2ZW50KHN0cmluZyBtZXNzYWdlLCBhZGRyZXNzIHZhbCk7CiAgLy9ldmVudCBNZXNzYWdlQnl0ZXMzMkV2ZW50KHN0cmluZyBtZXNzYWdlLCBieXRlczMyIHZhbCk7CgogIGJvb2wgcHVibGljIGlzTG9ja2VkOwogIHVpbnQgcHVibGljIHN0YXRlTWFzazsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICBhZGRyZXNzIHB1YmxpYyBkZXZlbG9wZXJzOwogIGFkZHJlc3MgcHVibGljIHVuZGVyd3JpdGVyOwogIGlCdXJuYWJsZVRva2VuIHB1YmxpYyB0b2tlbjsKICB1aW50IHB1YmxpYyBwcm9jZWVkczsKICB1aW50IHB1YmxpYyBzdHJpa2VQcmljZTsKICB1aW50IHB1YmxpYyBzdHJpa2VQcmljZVBjdFgxMDsKICB1aW50IHB1YmxpYyBkZXZlbG9wZXJSZXNlcnZlOwogIHVpbnQgcHVibGljIGRldmVsb3BlclBjdFgxMDsKICB1aW50IHB1YmxpYyBwdXJjaGFzZWRDb3VudDsKICB1aW50IHB1YmxpYyBzZWNyZXRCaWRDb3VudDsKICB1aW50IHB1YmxpYyBleGVjdXRlZENvdW50OwogIHVpbnQgcHVibGljIGV4cGlyZWRDb3VudDsKICB1aW50IHB1YmxpYyBzYWxlRHVyYXRpb247CiAgdWludCBwdWJsaWMgYXVjdGlvblN0YXJ0OwogIHVpbnQgcHVibGljIGF1Y3Rpb25FbmQ7CiAgdWludCBwdWJsaWMgc2FsZUVuZDsKICBtYXBwaW5nIChhZGRyZXNzID0+IFNlY3JldEJpZCkgcHVibGljIHNlY3JldEJpZHM7CgogIC8vCiAgLy90dW5hYmxlcwogIHVpbnQgYmF0Y2hTaXplID0gNDsKICB1aW50IGNvbnRyYWN0U2VuZEdhcyA9IDEwMDAwMDsKCiAgbW9kaWZpZXIgb3duZXJPbmx5IHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgdW5sb2NrZWRPbmx5IHsKICAgIHJlcXVpcmUoIWlzTG9ja2VkKTsKICAgIF87CiAgfQoKICBtb2RpZmllciBkdXJpbmdBdWN0aW9uIHsKICAgIHJlcXVpcmUoKHN0YXRlTWFzayAmIChBVUNUSU9OX1NUQVJUX0VWRU5UIHwgQVVDVElPTl9FTkRfRVZFTlQpKSA9PSBBVUNUSU9OX1NUQVJUX0VWRU5UKTsKICAgIF87CiAgfQoKICBtb2RpZmllciBhZnRlckF1Y3Rpb24gewogICAgcmVxdWlyZSgoc3RhdGVNYXNrICYgQVVDVElPTl9FTkRfRVZFTlQpICE9IDApOwogICAgXzsKICB9CgogIG1vZGlmaWVyIGR1cmluZ1NhbGUgewogICAgcmVxdWlyZSgoc3RhdGVNYXNrICYgKFNBTEVfU1RBUlRfRVZFTlQgfCBTQUxFX0VORF9FVkVOVCkpID09IFNBTEVfU1RBUlRfRVZFTlQpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIGFmdGVyU2FsZSB7CiAgICByZXF1aXJlKChzdGF0ZU1hc2sgJiBTQUxFX0VORF9FVkVOVCkgIT0gMCk7CiAgICBfOwogIH0KCgogIC8vCiAgLy9jb25zdHJ1Y3RvcgogIC8vCiAgZnVuY3Rpb24gVG9rZW5BdWN0aW9uKCkgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgZnVuY3Rpb24gbG9jaygpIHB1YmxpYyBvd25lck9ubHkgewogICAgaXNMb2NrZWQgPSB0cnVlOwogIH0KCiAgZnVuY3Rpb24gc2V0QXVjdGlvblBhcm1zKGlCdXJuYWJsZVRva2VuIF90b2tlbiwgYWRkcmVzcyBfdW5kZXJ3cml0ZXIsIHVpbnQgX2F1Y3Rpb25TdGFydCwgdWludCBfYXVjdGlvbkR1cmF0aW9uLCB1aW50IF9zYWxlRHVyYXRpb24pIHB1YmxpYyBvd25lck9ubHkgdW5sb2NrZWRPbmx5IHsKICAgIHRva2VuID0gX3Rva2VuOwogICAgdW5kZXJ3cml0ZXIgPSBfdW5kZXJ3cml0ZXI7CiAgICBhdWN0aW9uU3RhcnQgPSBfYXVjdGlvblN0YXJ0OwogICAgYXVjdGlvbkVuZCA9IHNhZmVBZGQoX2F1Y3Rpb25TdGFydCwgX2F1Y3Rpb25EdXJhdGlvbik7CiAgICBzYWxlRHVyYXRpb24gPSBfc2FsZUR1cmF0aW9uOwogICAgaWYgKHN0YXRlTWFzayAhPSAwKSB7CiAgICAgIC8vaGFuZHkgZm9yIGRlYnVnCiAgICAgIHN0YXRlTWFzayA9IDA7CiAgICAgIHN0cmlrZVByaWNlID0gMDsKICAgICAgcHVyY2hhc2VkQ291bnQgPSAwOwogICAgICBob3VzZUtlZXAoKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHJlc2VydmVEZXZlbG9wZXJUb2tlbnMoYWRkcmVzcyBfZGV2ZWxvcGVycywgdWludCBfZGV2ZWxvcGVyUGN0WDEwKSBwdWJsaWMgb3duZXJPbmx5IHVubG9ja2VkT25seSB7CiAgICBkZXZlbG9wZXJzID0gX2RldmVsb3BlcnM7CiAgICBkZXZlbG9wZXJQY3RYMTAgPSBfZGV2ZWxvcGVyUGN0WDEwOwogICAgdWludCBfdG9rZW5Db3VudCA9IHRva2VuLmJhbGFuY2VPZih0aGlzKTsKICAgIGRldmVsb3BlclJlc2VydmUgPSAoc2FmZU11bChfdG9rZW5Db3VudCwgZGV2ZWxvcGVyUGN0WDEwKSAvIDEwMDApOwogIH0KCiAgZnVuY3Rpb24gdHVuZSh1aW50IF9iYXRjaFNpemUsIHVpbnQgX2NvbnRyYWN0U2VuZEdhcykgcHVibGljIG93bmVyT25seSB7CiAgICBiYXRjaFNpemUgPSBfYmF0Y2hTaXplOwogICAgY29udHJhY3RTZW5kR2FzID0gX2NvbnRyYWN0U2VuZEdhczsKICB9CgoKICAvLwogIC8vY2FsbGVkIGJ5IG93bmVyIChvciBhbnkgb3RoZXIgY29uY2VybmVkIHBhcnR5KSB0byBnZW5lcmF0ZSBhIFNhdGF0ZUNoYW5nZUV2ZW50CiAgLy8KICBmdW5jdGlvbiBob3VzZUtlZXAoKSBwdWJsaWMgewogICAgdWludCBfb2xkTWFzayA9IHN0YXRlTWFzazsKICAgIGlmIChub3cgPj0gYXVjdGlvblN0YXJ0KSB7CiAgICAgIHN0YXRlTWFzayB8PSBBVUNUSU9OX1NUQVJUX0VWRU5UOwogICAgICBpZiAobm93ID49IGF1Y3Rpb25FbmQpIHsKICAgICAgICBzdGF0ZU1hc2sgfD0gQVVDVElPTl9FTkRfRVZFTlQ7CiAgICAgICAgaWYgKHN0cmlrZVByaWNlID4gMCkgewogICAgICAgICAgc3RhdGVNYXNrIHw9IFNBTEVfU1RBUlRfRVZFTlQ7CiAgICAgICAgICBpZiAobm93ID49IHNhbGVFbmQpCiAgICAgICAgICAgIHN0YXRlTWFzayB8PSBTQUxFX0VORF9FVkVOVDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIGlmIChzdGF0ZU1hc2sgIT0gX29sZE1hc2spCiAgICAgIFN0YXRlQ2hhbmdlRXZlbnQoc3RhdGVNYXNrKTsKICB9CgoKCiAgLy8KICAvL3NldHRpbmcgdGhlIHN0cmlrZSBwcmljZSBzdGFydHMgdGhlIHNhbGUgcGVyaW9kLCBkdXJpbmcgd2hpY2ggYmlkZGVycyBtdXN0IGNhbGwgZXhlY3V0ZUJpZC4KICAvL3RoZSBzdHJpa2UgcHJpY2Ugc2hvdWxkIG9ubHkgYmUgc2V0IG9uY2UuLi4uIGF0IGFueSByYXRlIGl0IGNhbm5vdCBiZSBjaGFuZ2VkIG9uY2UgYW55b25lIGhhcyBleGVjdXRlZCBhIGJpZC4KICAvL3N0cmlrZVByaWNlUGN0WDEwIHNwZWNpZmllcyB3aGF0IHBlcmNlbnRhZ2UgKHgxMCkgb2YgcmVxdWVzdGVkIHRva2VucyBzaG91bGQgYmUgYXdhcmRlZCB0byBlYWNoIGJpZGRlciB0aGF0CiAgLy9iaWQgZXhhY3RseSBlcXVhbCB0byB0aGUgc3RyaWtlIHByaWNlLgogIC8vCiAgZnVuY3Rpb24gc2V0U3RyaWtlUHJpY2UodWludCBfc3RyaWtlUHJpY2UsIHVpbnQgX3N0cmlrZVByaWNlUGN0WDEwKSBwdWJsaWMgb3duZXJPbmx5IGFmdGVyQXVjdGlvbiB7CiAgICByZXF1aXJlKGV4ZWN1dGVkQ291bnQgPT0gMCk7CiAgICBzdHJpa2VQcmljZSA9IF9zdHJpa2VQcmljZTsKICAgIHN0cmlrZVByaWNlUGN0WDEwID0gX3N0cmlrZVByaWNlUGN0WDEwOwogICAgc2FsZUVuZCA9IHNhZmVBZGQobm93LCBzYWxlRHVyYXRpb24pOwogICAgaG91c2VLZWVwKCk7CiAgfQoKCiAgLy8KICAvLyBub2JvZHkgc2hvdWxkIGJlIHNlbmRpbmcgZnVuZHMgdmlhIHRoaXMgZnVuY3Rpb24uLi4uIGJpemFycmUuLi4KICAvLyB0aGUgZmFjdCB0aGF0IHdlIGFkanVzdCBwcm9jZWVkcyBoZXJlIG1lYW5zIHRoYXQgdGhpcyBmY24gd2lsbCBPT0cgaWYgY2FsbGVkIHdpdGggYSBzZW5kIG9yIHRyYW5zZmVyLiB0aGF0J3MKICAvLyBwcm9iYWJseSBnb29kLCBjdXogaXQgcHJldmVudHMgdGhlIGNhbGxlciBmcm9tIGxvc2luZyB0aGVpciBmdW5kcy4KICAvLwogIGZ1bmN0aW9uICgpIHBheWFibGUgewogICAgcHJvY2VlZHMgPSBzYWZlQWRkKHByb2NlZWRzLCBtc2cudmFsdWUpOwogICAgQml6YXJyZUV2ZW50KG1zZy5zZW5kZXIsICJiaXphcnJlIHBheW1lbnQiLCBtc2cudmFsdWUpOwogIH0KCgogIGZ1bmN0aW9uIGRlcG9zaXRTZWNyZXRCaWQoYnl0ZXMzMiBfaGFzaCwgYnl0ZXMgX21lc3NhZ2UpIHB1YmxpYyBkdXJpbmdBdWN0aW9uIHBheWFibGUgewogICAgLy9lYWNoIGFkZHJlc3MgY2FuIG9ubHkgc3VibWl0IG9uZSBiaWQgLS0gYW5kIG9uY2UgYSBiaWQgaXMgc3VibWl0dGVkIGl0IGlzIGltdXRhYmxlCiAgICAvL2ZvciB0ZXN0aW5nLCBhbiBleGNlcHRpb24gaXMgbWFkZSBmb3IgdGhlIG93bmVyIC0tIGJ1dCBvbmx5IHdoaWxlIHRoZSBjb250cmFjdCBpcyB1bmxvY2tlZAogICAgaWYgKCEobXNnLnNlbmRlciA9PSBvd25lciAmJiAhaXNMb2NrZWQpICYmCiAgICAgICAgIChfaGFzaCA9PSAwIHx8IHNlY3JldEJpZHNbbXNnLnNlbmRlcl0uaGFzaCAhPSAwKSApCiAgICAgICAgcmV2ZXJ0KCk7CiAgICBzZWNyZXRCaWRzW21zZy5zZW5kZXJdLmhhc2ggPSBfaGFzaDsKICAgIHNlY3JldEJpZHNbbXNnLnNlbmRlcl0uZGVwb3NpdCA9IG1zZy52YWx1ZTsKICAgIHNlY3JldEJpZENvdW50ICs9IDE7CiAgICB1aW50IF9iYXRjaCA9IHNlY3JldEJpZENvdW50IC8gYmF0Y2hTaXplOwogICAgU2VjcmV0QmlkRXZlbnQoX2JhdGNoLCBtc2cuc2VuZGVyLCBtc2cudmFsdWUsIF9oYXNoLCBfbWVzc2FnZSk7CiAgfQoKCiAgLy8KICAvLyB0aGUgb3duZXIgbWF5IGRpc3F1YWxpZnkgYSBiaWQgaWYgaXQgaXMgYm9ndXMuIGZvciBleGFtcGxlIGlmIHRoZSBoYXNoIGRvZXMgbm90IGNvcnJlc3BvbmQKICAvLyB0byB0aGUgaGFzaCB0aGF0IGlzIGdlbmVyYXRlZCBmcm9tIHRoZSBlbmN5cnB0ZWQgYmlkIHR1cGxlLiB3aGVuIGEgZGlzcXVhbGlmaWVkIGJpZCBpcwogIC8vIGV4ZWN1dGVkIGFsbCB0aGUgZGVwb3NpdGVkIGZ1bmRzIHdpbGwgYmUgcmV0dXJuZWQgdG8gdGhlIGJpZGRlciwgYXMgaWYgdGhlIGJpZCB3YXMgYmVsb3cKICAvLyB0aGUgc3RyaWtlLXByaWNlLgogIGZ1bmN0aW9uIGRpc3F1YWxpZnlCaWQoYWRkcmVzcyBfZnJvbSkgcHVibGljIG93bmVyT25seSBkdXJpbmdBdWN0aW9uIHsKICAgIHNlY3JldEJpZHNbbXNnLnNlbmRlcl0uZGlzcXVhbGlmaWVkID0gdHJ1ZTsKICB9CgoKICAvLwogIC8vIGV4ZWN1dGUgYSBiaWQuCiAgLy8gKiBwdXJjaGFzZXMgdG9rZW5zIGlmIHRoZSBzcGVjaWZpZWQgcHJpY2UgaXMgYWJvdmUgdGhlIHN0cmlrZSBwcmljZQogIC8vICogcmVmdW5kcyB3aGF0ZXZlciByZW1haW5zIG9mIHRoZSBkZXBvc2l0CiAgLy8KICAvLyBjYWxsIG9ubHkgZHVyaW5nIHRoZSBzYWxlIHBlcmlvZCAoc3RyaWtlUHJpY2UgPiAwKQogIC8vCiAgZnVuY3Rpb24gZXhlY3V0ZUJpZCh1aW50MjU2IF9zZWNyZXQsIHVpbnQyNTYgX3ByaWNlLCB1aW50MjU2IF9xdWFudGl0eSkgcHVibGljIGR1cmluZ1NhbGUgewogICAgZXhlY3V0ZUJpZEZvcihtc2cuc2VuZGVyLCBfc2VjcmV0LCBfcHJpY2UsIF9xdWFudGl0eSk7CiAgfQogIGZ1bmN0aW9uIGV4ZWN1dGVCaWRGb3IoYWRkcmVzcyBfYWRkciwgdWludDI1NiBfc2VjcmV0LCB1aW50MjU2IF9wcmljZSwgdWludDI1NiBfcXVhbnRpdHkpIHB1YmxpYyBkdXJpbmdTYWxlIHsKICAgIGJ5dGVzMzIgY29tcHV0ZWRIYXNoID0ga2VjY2FrMjU2KF9zZWNyZXQsIF9wcmljZSwgX3F1YW50aXR5KTsKICAgIC8vTWVzc2FnZUJ5dGVzMzJFdmVudCgiY29tcHV0ZWRIYXNoIiwgY29tcHV0ZWRIYXNoKTsKICAgIHJlcXVpcmUoc2VjcmV0Qmlkc1tfYWRkcl0uaGFzaCA9PSBjb21wdXRlZEhhc2gpOwogICAgLy8KICAgIGlmIChzZWNyZXRCaWRzW19hZGRyXS5kZXBvc2l0ID4gMCkgewogICAgICB1aW50IF9jb3N0ID0gMDsKICAgICAgdWludCBfcmVmdW5kID0gMDsKICAgICAgaWYgKF9wcmljZSA+PSBzdHJpa2VQcmljZSAmJiAhc2VjcmV0Qmlkc1tfYWRkcl0uZGlzcXVhbGlmaWVkKSB7CiAgICAgICAgdWludDI1NiBfcHVyY2hhc2VDb3VudCA9IChfcHJpY2UgPiBzdHJpa2VQcmljZSkgPyBfcXVhbnRpdHkgOiAoc2FmZU11bChzdHJpa2VQcmljZVBjdFgxMCwgX3F1YW50aXR5KSAvIDEwMDApOwogICAgICAgIHZhciBfbWF4UHVyY2hhc2UgPSB0b2tlbi5iYWxhbmNlT2YodGhpcykgLSBkZXZlbG9wZXJSZXNlcnZlOwogICAgICAgIGlmIChfcHVyY2hhc2VDb3VudCA+IF9tYXhQdXJjaGFzZSkKICAgICAgICAgIF9wdXJjaGFzZUNvdW50ID0gX21heFB1cmNoYXNlOwogICAgICAgIF9jb3N0ID0gc2FmZU11bChfcHVyY2hhc2VDb3VudCwgc3RyaWtlUHJpY2UpOwogICAgICAgIGlmIChzZWNyZXRCaWRzW19hZGRyXS5kZXBvc2l0ID49IF9jb3N0KSB7CiAgICAgICAgICBzZWNyZXRCaWRzW19hZGRyXS5kZXBvc2l0IC09IF9jb3N0OwogICAgICAgICAgcHJvY2VlZHMgPSBzYWZlQWRkKHByb2NlZWRzLCBfY29zdCk7CiAgICAgICAgICBzZWNyZXRCaWRzW19hZGRyXS50b2tlbnMgKz0gX3B1cmNoYXNlQ291bnQ7CiAgICAgICAgICBwdXJjaGFzZWRDb3VudCArPSBfcHVyY2hhc2VDb3VudDsKICAgICAgICAgIC8vdHJhbnNmZXIgdG9rZW5zIHRvIHRoaXMgYmlkZGVyCiAgICAgICAgICBpZiAoIXRva2VuLnRyYW5zZmVyKF9hZGRyLCBfcHVyY2hhc2VDb3VudCkpCiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIH0KICAgICAgfQogICAgICAvL3JlZnVuZCB3aGF0ZXZlciByZW1haW5zCiAgICAgIC8vdXNlIHB1bGwgaGVyZSwgdG8gcHJldmVudCBhbnkgYmlkZGVyIGZyb20gcmV2ZXJ0aW5nIHRoZWlyIHB1cmNoYXNlCiAgICAgIGlmIChzZWNyZXRCaWRzW19hZGRyXS5kZXBvc2l0ID4gMCkgewogICAgICAgIF9yZWZ1bmQgPSBzZWNyZXRCaWRzW19hZGRyXS5kZXBvc2l0OwogICAgICAgIHNlY3JldEJpZHNbX2FkZHJdLnJlZnVuZCArPSBfcmVmdW5kOwogICAgICAgIHNlY3JldEJpZHNbX2FkZHJdLmRlcG9zaXQgPSAwOwogICAgICB9CiAgICAgIGV4ZWN1dGVkQ291bnQgKz0gMTsKICAgICAgdWludCBfYmF0Y2ggPSBleGVjdXRlZENvdW50IC8gYmF0Y2hTaXplOwogICAgICBFeGVjdXRlRXZlbnQoX2JhdGNoLCBfYWRkciwgX2Nvc3QsIF9yZWZ1bmQpOwogICAgfQogIH0KCgogIC8vCiAgLy8gZXhwaXJlQmlkCiAgLy8gaWYgYSBiaWQgaXMgbm90IGV4ZWN1dGVkIGR1cmluZyB0aGUgc2FsZSBwZXJpb2QsIHRoZW4gdGhlIG93bmVyIGNhbiBtYXJrIHRoZSBiaWQgYXMgZXhwaXJlZC4gaW4gdGhpcyBjYXNlOgogIC8vICogdGhlIGJpZGRlciBnZXRzIGEgcmVmdW5kIG9mIGhhbGYgb2YgaGlzIGRlcG9zaXQKICAvLyAqIHRoZSBiaWRkZXIgZm9yZmVpdHMgdGhlIG90aGVyIGhhbGYgb2YgaGlzIGRlcG9zaXQKICAvLyAqIHRoZSBiaWRkZXIgZG9lcyBub3QgcmVjZWl2ZSBhbiB0b2tlbnMKICAvLwogIGZ1bmN0aW9uIGV4cGlyZUJpZChhZGRyZXNzIF9hZGRyKSBwdWJsaWMgb3duZXJPbmx5IGFmdGVyU2FsZSB7CiAgICBpZiAoc2VjcmV0Qmlkc1tfYWRkcl0uZGVwb3NpdCA+IDApIHsKICAgICAgdWludCBfZm9yZmVpdCA9IHNlY3JldEJpZHNbX2FkZHJdLmRlcG9zaXQgLyAyOwogICAgICBwcm9jZWVkcyA9IHNhZmVBZGQocHJvY2VlZHMsIF9mb3JmZWl0KTsKICAgICAgLy9yZWZ1bmQgd2hhdGV2ZXIgcmVtYWlucwogICAgICB1aW50IF9yZWZ1bmQgPSBzYWZlU3ViKHNlY3JldEJpZHNbX2FkZHJdLmRlcG9zaXQsIF9mb3JmZWl0KTsKICAgICAgLy91c2UgcHVsbCBoZXJlLCB0byBwcmV2ZW50IGFueSBiaWRkZXIgZnJvbSByZXZlcnRpbmcgdGhlIGV4cGlyZQogICAgICBzZWNyZXRCaWRzW21zZy5zZW5kZXJdLnJlZnVuZCArPSBfcmVmdW5kOwogICAgICBzZWNyZXRCaWRzW19hZGRyXS5kZXBvc2l0ID0gMDsKICAgICAgZXhwaXJlZENvdW50ICs9IDE7CiAgICAgIHVpbnQgX2JhdGNoID0gZXhwaXJlZENvdW50IC8gYmF0Y2hTaXplOwogICAgICBFeHBpcmVFdmVudChfYmF0Y2gsIF9hZGRyLCBfZm9yZmVpdCwgX3JlZnVuZCk7CiAgICB9CiAgfQoKCiAgLy8KICAvLyBiaWRkZXIgd2l0aGRyYXcgZXhjZXNzIGZ1bmRzIChvciBhbGwgZnVuZHMgaWYgYmlkIHdhcyB0b28gbG93KQogIC8vCiAgZnVuY3Rpb24gd2l0aGRyYXdSZWZ1bmQoKSBwdWJsaWMgewogICAgdWludCBfYW1vdW50ID0gc2VjcmV0Qmlkc1ttc2cuc2VuZGVyXS5yZWZ1bmQ7CiAgICBzZWNyZXRCaWRzW21zZy5zZW5kZXJdLnJlZnVuZCA9IDA7CiAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKF9hbW91bnQpOwogIH0KCgogIC8vCiAgLy8gZ3JhbnQgZGV2ZWxvcGVyIHRva2VucywgZXF1YWwgdG8gYSBwZXJjZW50YWdlIG9mIHB1cmNoYXNlZCB0b2tlbnMuCiAgLy8gb25jZSBjYWxsZWQsIGFueSByZW1haW5pbmcgdG9rZW5zIHdpbGwgYmUgYnVybmVkLgogIC8vCiAgZnVuY3Rpb24gZG9EZXZlbG9wZXJHcmFudCgpIHB1YmxpYyBhZnRlclNhbGUgewogICAgdWludCBfcXVhbnRpdHkgPSBwdXJjaGFzZWRDb3VudCAqIGRldmVsb3BlclBjdFgxMCAvIDEwMDA7CiAgICB2YXIgX3Rva2Vuc0xlZnQgPSB0b2tlbi5iYWxhbmNlT2YodGhpcyk7CiAgICBpZiAoX3F1YW50aXR5ID4gX3Rva2Vuc0xlZnQpCiAgICAgIF9xdWFudGl0eSA9IF90b2tlbnNMZWZ0OwogICAgaWYgKF9xdWFudGl0eSA+IDApIHsKICAgICAgLy90cmFuc2ZlciBwY3QgdG9rZW5zIHRvIGRldmVsb3BlcnMKICAgICAgX3Rva2Vuc0xlZnQgLT0gX3F1YW50aXR5OwogICAgICBpZiAoIXRva2VuLnRyYW5zZmVyKGRldmVsb3BlcnMsIF9xdWFudGl0eSkpCiAgICAgICAgcmV2ZXJ0KCk7CiAgICB9CiAgICAvL2FuZCBidXJuIGV2ZXJ0aGluZyB0aGF0IHJlbWFpbnMKICAgIHRva2VuLnVuUGFpZEJ1cm5Ub2tlbnMoX3Rva2Vuc0xlZnQpOwogIH0KCgogIC8vCiAgLy8gcGF5IGF1Y3Rpb24gcHJvY2VlZHMgdG8gdGhlIHVuZGVyd3JpdGVyCiAgLy8gbWF5IGJlIGNhbGxlZCBieSB1bmRlcndyaXRlciBvciBvd25lciAoZmJvIHVuZGVyd3JpdGVyKQogIC8vCiAgZnVuY3Rpb24gcGF5VW5kZXJ3cml0ZXIoKSBwdWJsaWMgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyIHx8IG1zZy5zZW5kZXIgPT0gdW5kZXJ3cml0ZXIpOwogICAgdWludCBfYW1vdW50ID0gcHJvY2VlZHM7CiAgICBwcm9jZWVkcyA9IDA7CiAgICBpZiAoIXVuZGVyd3JpdGVyLmNhbGwuZ2FzKGNvbnRyYWN0U2VuZEdhcykudmFsdWUoX2Ftb3VudCkoKSkKICAgICAgcmV2ZXJ0KCk7CiAgfQoKCiAgLy9mb3IgZGVidWcKICAvL29ubHkgYXZhaWxhYmxlIGJlZm9yZSB0aGUgY29udHJhY3QgaXMgbG9ja2VkCiAgZnVuY3Rpb24gaGFyYUtpcmkoKSBvd25lck9ubHkgdW5sb2NrZWRPbmx5IHsKICAgIHNlbGZkZXN0cnVjdChvd25lcik7CiAgfQp9'.
	

]
