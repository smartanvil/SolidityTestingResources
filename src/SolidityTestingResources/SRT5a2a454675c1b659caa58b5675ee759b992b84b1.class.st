Class {
	#name : #SRT5a2a454675c1b659caa58b5675ee759b992b84b1,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5a2a454675c1b659caa58b5675ee759b992b84b1 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgoKY29udHJhY3QgU2FmZU1hdGggewoKICAgIGZ1bmN0aW9uIGFkZCh1aW50IHgsIHVpbnQgeSkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludCB6KSB7CiAgICAgICAgYXNzZXJ0KCh6ID0geCArIHkpID49IHgpOwogICAgfQogCiAgICBmdW5jdGlvbiBzdWJ0cmFjdCh1aW50IHgsIHVpbnQgeSkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludCB6KSB7CiAgICAgICAgYXNzZXJ0KCh6ID0geCAtIHkpIDw9IHgpOwogICAgfQoKICAgIGZ1bmN0aW9uIG11bHRpcGx5KHVpbnQgeCwgdWludCB5KSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50IHopIHsKICAgICAgICB6ID0geCAqIHk7CiAgICAgICAgYXNzZXJ0KHggPT0gMCB8fCB6IC8geCA9PSB5KTsKICAgICAgICByZXR1cm4gejsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXZpZGUodWludCB4LCB1aW50IHkpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQgeikgewogICAgICAgIHogPSB4IC8geTsKICAgICAgICBhc3NlcnQoeCA9PSAoICh5ICogeikgKyAoeCAlIHkpICkpOwogICAgICAgIHJldHVybiB6OwogICAgfQogICAgCiAgICBmdW5jdGlvbiBtaW42NCh1aW50NjQgeCwgdWludDY0IHkpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgICAgIHJldHVybiB4IDwgeSA/IHg6IHk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIG1heDY0KHVpbnQ2NCB4LCB1aW50NjQgeSkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICAgICAgcmV0dXJuIHggPj0geSA/IHggOiB5OwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbih1aW50IHgsIHVpbnQgeSkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiAoeCA8PSB5KSA/IHggOiB5OwogICAgfQoKICAgIGZ1bmN0aW9uIG1heCh1aW50IHgsIHVpbnQgeSkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiAoeCA+PSB5KSA/IHggOiB5OwogICAgfQoKICAgIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgewogICAgICAgIGlmICghYXNzZXJ0aW9uKSB7CiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIH0KICAgIH0KfQoKCmNvbnRyYWN0IE93bmVkIHsKICAgIGFkZHJlc3Mgb3duZXI7CgogICAgbW9kaWZpZXIgb25seW93bmVyKCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyID09IG93bmVyKSB7CiAgICAgICAgICAgIF87CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIE93bmVkKCkgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KfQoKCmNvbnRyYWN0IE1vcnRhbCBpcyBPd25lZCB7CiAgICAKICAgIGZ1bmN0aW9uIGtpbGwoKSB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgPT0gb3duZXIpCiAgICAgICAgICAgIHNlbGZkZXN0cnVjdChvd25lcik7CiAgICB9Cn0KCgpjb250cmFjdCBMb3R0aGVyZXVtIGlzIE1vcnRhbCwgU2FmZU1hdGggewoKICAgIEdhbWVbXSBwcml2YXRlIGdhbWVzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBwcml2YXRlIGJhbGFuY2VzOyAgLy8gYmFsYW5jZXMgcGVyIGFkZHJlc3MKCiAgICBzdHJ1Y3QgR2FtZSB7CiAgICAgICAgdWludCBpZDsKICAgICAgICBib29sIG9wZW47CiAgICAgICAgdWludCBwb2ludGVyOwogICAgICAgIHVpbnQgbWF4TnVtYmVyT2ZCZXRzOwogICAgICAgIHVpbnQgbWluQW1vdW50QnlCZXQ7CiAgICAgICAgdWludCBwcml6ZTsKICAgICAgICB1aW50IGN1cnJlbnRSb3VuZDsKICAgICAgICBSb3VuZFtdIHJvdW5kczsKICAgIH0KCiAgICBzdHJ1Y3QgUm91bmQgewogICAgICAgIHVpbnQgaWQ7CiAgICAgICAgdWludCBwb2ludGVyOwogICAgICAgIGJ5dGVzMzIgaGFzaDsKICAgICAgICBib29sIG9wZW47CiAgICAgICAgdWludDggbnVtYmVyOwogICAgICAgIEJldFtdIGJldHM7CiAgICAgICAgYWRkcmVzc1tdIHdpbm5lcnM7CiAgICB9CgogICAgc3RydWN0IEJldCB7CiAgICAgICAgdWludCBpZDsKICAgICAgICBhZGRyZXNzIG9yaWdpbjsKICAgICAgICB1aW50IGFtb3VudDsKICAgICAgICB1aW50OCBiZXQ7CiAgICAgICAgdWludCByb3VuZDsKICAgIH0KCiAgICBldmVudCBSb3VuZE9wZW4oCiAgICAgICAgdWludCBpbmRleGVkIGdhbWVJZCwKICAgICAgICB1aW50IGluZGV4ZWQgcm91bmRJZAogICAgKTsKICAgIGV2ZW50IFJvdW5kQ2xvc2UoCiAgICAgICAgdWludCBpbmRleGVkIGdhbWVJZCwKICAgICAgICB1aW50IGluZGV4ZWQgcm91bmRJZCwKICAgICAgICB1aW50OCBudW1iZXIKICAgICk7CiAgICBldmVudCBNYXhOdW1iZXJPZkJldHNDaGFuZ2VkKAogICAgICAgIHVpbnQgbWF4TnVtYmVyT2ZCZXRzCiAgICApOwogICAgZXZlbnQgTWluQW1vdW50QnlCZXRDaGFuZ2VkKAogICAgICAgIHVpbnQgbWluQW1vdW50QnlCZXQKICAgICk7CiAgICBldmVudCBCZXRQbGFjZWQoCiAgICAgICAgdWludCBpbmRleGVkIGdhbWVJZCwKICAgICAgICB1aW50IGluZGV4ZWQgcm91bmRJZCwKICAgICAgICBhZGRyZXNzIGluZGV4ZWQgb3JpZ2luLAogICAgICAgIHVpbnQgYmV0SWQKICAgICk7CiAgICBldmVudCBSb3VuZFdpbm5lcigKICAgICAgICB1aW50IGluZGV4ZWQgZ2FtZUlkLAogICAgICAgIHVpbnQgaW5kZXhlZCByb3VuZElkLAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCB3aW5uZXJBZGRyZXNzLAogICAgICAgIHVpbnQgYW1vdW50CiAgICApOwogICAgZXZlbnQgR2FtZU9wZW5lZCgKICAgICAgICB1aW50IGluZGV4ZWQgZ2FtZUlkCiAgICApOwogICAgZXZlbnQgR2FtZUNsb3NlZCgKICAgICAgICB1aW50IGluZGV4ZWQgZ2FtZUlkCiAgICApOwoKICAgIGZ1bmN0aW9uIGNyZWF0ZUdhbWUoCiAgICAgICAgdWludCBwb2ludGVyLAogICAgICAgIHVpbnQgbWF4TnVtYmVyT2ZCZXRzLAogICAgICAgIHVpbnQgbWluQW1vdW50QnlCZXQsCiAgICAgICAgdWludCBwcml6ZQogICAgKSBvbmx5b3duZXIgcmV0dXJucyAodWludCBpZCkgewogICAgICAgIGlkID0gZ2FtZXMubGVuZ3RoOwogICAgICAgIGdhbWVzLmxlbmd0aCArPSAxOwogICAgICAgIGdhbWVzW2lkXS5pZCA9IGlkOwogICAgICAgIGdhbWVzW2lkXS5wb2ludGVyID0gcG9pbnRlcjsKICAgICAgICBnYW1lc1tpZF0ubWF4TnVtYmVyT2ZCZXRzID0gbWF4TnVtYmVyT2ZCZXRzOwogICAgICAgIGdhbWVzW2lkXS5taW5BbW91bnRCeUJldCA9IG1pbkFtb3VudEJ5QmV0OwogICAgICAgIGdhbWVzW2lkXS5wcml6ZSA9IHByaXplOwogICAgICAgIGdhbWVzW2lkXS5vcGVuID0gdHJ1ZTsKICAgICAgICBnYW1lc1tpZF0uY3VycmVudFJvdW5kID0gY3JlYXRlR2FtZVJvdW5kKGlkKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjbG9zZUdhbWUodWludCBnYW1lSWQpIG9ubHlvd25lciByZXR1cm5zIChib29sKSB7CiAgICAgICAgZ2FtZXNbZ2FtZUlkXS5vcGVuID0gZmFsc2U7CiAgICAgICAgR2FtZUNsb3NlZChnYW1lSWQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIG9wZW5HYW1lKHVpbnQgZ2FtZUlkKSBvbmx5b3duZXIgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGdhbWVzW2dhbWVJZF0ub3BlbiA9IHRydWU7CiAgICAgICAgR2FtZU9wZW5lZChnYW1lSWQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGNyZWF0ZUdhbWVSb3VuZCh1aW50IGdhbWVJZCkgaW50ZXJuYWwgcmV0dXJucyAodWludCBpZCkgewogICAgICAgIGlkID0gZ2FtZXNbZ2FtZUlkXS5yb3VuZHMubGVuZ3RoOwogICAgICAgIGdhbWVzW2dhbWVJZF0ucm91bmRzLmxlbmd0aCArPSAxOwogICAgICAgIGdhbWVzW2dhbWVJZF0ucm91bmRzW2lkXS5pZCA9IGlkOwogICAgICAgIGdhbWVzW2dhbWVJZF0ucm91bmRzW2lkXS5vcGVuID0gdHJ1ZTsKICAgICAgICBSb3VuZE9wZW4oZ2FtZUlkLCBpZCk7CiAgICB9CgogICAgZnVuY3Rpb24gcGF5b3V0KHVpbnQgZ2FtZUlkKSBpbnRlcm5hbCB7CiAgICAgICAgYWRkcmVzc1tdIHdpbm5lcnMgPSBnYW1lc1tnYW1lSWRdLnJvdW5kc1tnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZF0ud2lubmVyczsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBnYW1lc1tnYW1lSWRdLm1heE51bWJlck9mQmV0cyAtMTsgaSsrKSB7CiAgICAgICAgICAgIGlmIChnYW1lc1tnYW1lSWRdLnJvdW5kc1tnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZF0uYmV0c1tpXS5iZXQgPT0gZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbZ2FtZXNbZ2FtZUlkXS5jdXJyZW50Um91bmRdLm51bWJlcikgewogICAgICAgICAgICAgICAgdWludCBpZCA9IHdpbm5lcnMubGVuZ3RoOwogICAgICAgICAgICAgICAgd2lubmVycy5sZW5ndGggKz0gMTsKICAgICAgICAgICAgICAgIHdpbm5lcnNbaWRdID0gZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbZ2FtZXNbZ2FtZUlkXS5jdXJyZW50Um91bmRdLmJldHNbaV0ub3JpZ2luOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAod2lubmVycy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHVpbnQgcHJpemUgPSBkaXZpZGUoZ2FtZXNbZ2FtZUlkXS5wcml6ZSwgd2lubmVycy5sZW5ndGgpOwogICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgd2lubmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgYmFsYW5jZXNbd2lubmVyc1tpXV0gPSBhZGQoYmFsYW5jZXNbd2lubmVyc1tpXV0sIHByaXplKTsKICAgICAgICAgICAgICAgIFJvdW5kV2lubmVyKGdhbWVJZCwgZ2FtZXNbZ2FtZUlkXS5jdXJyZW50Um91bmQsIHdpbm5lcnNbaV0sIHByaXplKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBjbG9zZVJvdW5kKHVpbnQgZ2FtZUlkKSBjb25zdGFudCBpbnRlcm5hbCB7CiAgICAgICAgZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbZ2FtZXNbZ2FtZUlkXS5jdXJyZW50Um91bmRdLm9wZW4gPSBmYWxzZTsKICAgICAgICBnYW1lc1tnYW1lSWRdLnJvdW5kc1tnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZF0uaGFzaCA9IGdldEJsb2NrSGFzaChnYW1lc1tnYW1lSWRdLnBvaW50ZXIpOwogICAgICAgIGdhbWVzW2dhbWVJZF0ucm91bmRzW2dhbWVzW2dhbWVJZF0uY3VycmVudFJvdW5kXS5udW1iZXIgPSBnZXROdW1iZXIoZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbZ2FtZXNbZ2FtZUlkXS5jdXJyZW50Um91bmRdLmhhc2gpOwogICAgICAgIC8vIGdhbWVzW2dhbWVJZF0ucG9pbnRlciA9IGdhbWVzW2dhbWVJZF0ucm91bmRzW2dhbWVzW2dhbWVJZF0uY3VycmVudFJvdW5kXS5udW1iZXI7CiAgICAgICAgcGF5b3V0KGdhbWVJZCk7CiAgICAgICAgUm91bmRDbG9zZSgKICAgICAgICAgICAgZ2FtZUlkLAogICAgICAgICAgICBnYW1lc1tnYW1lSWRdLnJvdW5kc1tnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZF0uaWQsCiAgICAgICAgICAgIGdhbWVzW2dhbWVJZF0ucm91bmRzW2dhbWVzW2dhbWVJZF0uY3VycmVudFJvdW5kXS5udW1iZXIKICAgICAgICApOwogICAgICAgIGdhbWVzW2dhbWVJZF0uY3VycmVudFJvdW5kID0gY3JlYXRlR2FtZVJvdW5kKGdhbWVJZCk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0QmxvY2tIYXNoKHVpbnQgaSkgY29uc3RhbnQgcmV0dXJucyAoYnl0ZXMzMiBibG9ja0hhc2gpIHsKICAgICAgICBpZiAoaSA+IDI1NSkgewogICAgICAgICAgICBpID0gMjU1OwogICAgICAgIH0KICAgICAgICBibG9ja0hhc2ggPSBibG9jay5ibG9ja2hhc2goYmxvY2subnVtYmVyIC0gaSk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0TnVtYmVyKGJ5dGVzMzIgX2EpIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4KSB7CiAgICAgICAgdWludDggX2IgPSAxOwogICAgICAgIHVpbnQ4IG1pbnQgPSAwOwogICAgICAgIGJvb2wgZGVjaW1hbHMgPSBmYWxzZTsKICAgICAgICBmb3IgKHVpbnQgaSA9IF9hLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICAgIGlmICgoX2FbaV0gPj0gNDgpICYmIChfYVtpXSA8PSA1NykpIHsKICAgICAgICAgICAgICAgIGlmIChkZWNpbWFscykgewogICAgICAgICAgICAgICAgICAgIGlmIChfYiA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9iLS07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbWludCAqPSAxMDsKICAgICAgICAgICAgICAgIG1pbnQgKz0gdWludDgoX2FbaV0pIC0gNDg7CiAgICAgICAgICAgICAgICByZXR1cm4gbWludDsKICAgICAgICAgICAgfSBlbHNlIGlmIChfYVtpXSA9PSA0NikgewogICAgICAgICAgICAgICAgZGVjaW1hbHMgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBtaW50OwogICAgfQoKICAgIGZ1bmN0aW9uIHBsYWNlQmV0KHVpbnQgZ2FtZUlkLCB1aW50OCBiZXQpIHB1YmxpYyBwYXlhYmxlIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBpZiAoIWdhbWVzW2dhbWVJZF0ucm91bmRzW2dhbWVzW2dhbWVJZF0uY3VycmVudFJvdW5kXS5vcGVuKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmIChtc2cudmFsdWUgPCBnYW1lc1tnYW1lSWRdLm1pbkFtb3VudEJ5QmV0KSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmIChnYW1lc1tnYW1lSWRdLnJvdW5kc1tnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZF0uYmV0cy5sZW5ndGggPCBnYW1lc1tnYW1lSWRdLm1heE51bWJlck9mQmV0cykgewogICAgICAgICAgICB1aW50IGlkID0gZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbZ2FtZXNbZ2FtZUlkXS5jdXJyZW50Um91bmRdLmJldHMubGVuZ3RoOwogICAgICAgICAgICBnYW1lc1tnYW1lSWRdLnJvdW5kc1tnYW1lc1tnYW1lSWRdLmN1cnJlbnRSb3VuZF0uYmV0cy5sZW5ndGggKz0gMTsKICAgICAgICAgICAgZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbZ2FtZXNbZ2FtZUlkXS5jdXJyZW50Um91bmRdLmJldHNbaWRdLmlkID0gaWQ7CiAgICAgICAgICAgIGdhbWVzW2dhbWVJZF0ucm91bmRzW2dhbWVzW2dhbWVJZF0uY3VycmVudFJvdW5kXS5iZXRzW2lkXS5yb3VuZCA9IGdhbWVzW2dhbWVJZF0ucm91bmRzW2dhbWVzW2dhbWVJZF0uY3VycmVudFJvdW5kXS5pZDsKICAgICAgICAgICAgZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbZ2FtZXNbZ2FtZUlkXS5jdXJyZW50Um91bmRdLmJldHNbaWRdLmJldCA9IGJldDsKICAgICAgICAgICAgZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbZ2FtZXNbZ2FtZUlkXS5jdXJyZW50Um91bmRdLmJldHNbaWRdLm9yaWdpbiA9IG1zZy5zZW5kZXI7CiAgICAgICAgICAgIGdhbWVzW2dhbWVJZF0ucm91bmRzW2dhbWVzW2dhbWVJZF0uY3VycmVudFJvdW5kXS5iZXRzW2lkXS5hbW91bnQgPSBtc2cudmFsdWU7CiAgICAgICAgICAgIEJldFBsYWNlZChnYW1lSWQsIGdhbWVzW2dhbWVJZF0ucm91bmRzW2dhbWVzW2dhbWVJZF0uY3VycmVudFJvdW5kXS5pZCwgbXNnLnNlbmRlciwgaWQpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGdhbWVzW2dhbWVJZF0ucm91bmRzW2dhbWVzW2dhbWVJZF0uY3VycmVudFJvdW5kXS5iZXRzLmxlbmd0aCA+PSBnYW1lc1tnYW1lSWRdLm1heE51bWJlck9mQmV0cykgewogICAgICAgICAgICBjbG9zZVJvdW5kKGdhbWVJZCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB3aXRoZHJhdygpIHB1YmxpYyByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludCBhbW91bnQgPSBnZXRCYWxhbmNlKCk7CiAgICAgICAgaWYgKGFtb3VudCA+IDApIHsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAwOwogICAgICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGFtb3VudCk7CiAgICAgICAgICAgIHJldHVybiBhbW91bnQ7CiAgICAgICAgfQogICAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEJhbGFuY2UoKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgaWYgKChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+IDApICYmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA8IHRoaXMuYmFsYW5jZSkpIHsKICAgICAgICAgICAgcmV0dXJuIGJhbGFuY2VzW21zZy5zZW5kZXJdOwogICAgICAgIH0KICAgICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBmdW5jdGlvbiBudW1iZXJPZkNsb3NlZEdhbWVzKCkgY29uc3RhbnQgcmV0dXJucyh1aW50IG51bWJlck9mQ2xvc2VkR2FtZXMpIHsKICAgICAgICBudW1iZXJPZkNsb3NlZEdhbWVzID0gMDsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBnYW1lcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoZ2FtZXNbaV0ub3BlbiAhPSB0cnVlKSB7CiAgICAgICAgICAgICAgICBudW1iZXJPZkNsb3NlZEdhbWVzKys7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIG51bWJlck9mQ2xvc2VkR2FtZXM7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0R2FtZXMoKSBjb25zdGFudCByZXR1cm5zKHVpbnRbXSBtZW1vcnkgaWRzKSB7CiAgICAgICAgaWRzID0gbmV3IHVpbnRbXShnYW1lcy5sZW5ndGggLSBudW1iZXJPZkNsb3NlZEdhbWVzKCkpOwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IGdhbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChnYW1lc1tpXS5vcGVuID09IHRydWUpIHsKICAgICAgICAgICAgICAgIGlkc1tpXSA9IGdhbWVzW2ldLmlkOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGdldEdhbWVDdXJyZW50Um91bmRJZCh1aW50IGdhbWVJZCkgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICAgICAgcmV0dXJuIGdhbWVzW2dhbWVJZF0uY3VycmVudFJvdW5kOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEdhbWVSb3VuZE9wZW4odWludCBnYW1lSWQsIHVpbnQgcm91bmRJZCkgY29uc3RhbnQgcmV0dXJucyhib29sKSB7CiAgICAgICAgcmV0dXJuIGdhbWVzW2dhbWVJZF0ucm91bmRzW3JvdW5kSWRdLm9wZW47CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0R2FtZU1heE51bWJlck9mQmV0cyh1aW50IGdhbWVJZCkgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICAgICAgcmV0dXJuIGdhbWVzW2dhbWVJZF0ubWF4TnVtYmVyT2ZCZXRzOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEdhbWVNaW5BbW91bnRCeUJldCh1aW50IGdhbWVJZCkgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICAgICAgcmV0dXJuIGdhbWVzW2dhbWVJZF0ubWluQW1vdW50QnlCZXQ7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0R2FtZVByaXplKHVpbnQgZ2FtZUlkKSBjb25zdGFudCByZXR1cm5zKHVpbnQpIHsKICAgICAgICByZXR1cm4gZ2FtZXNbZ2FtZUlkXS5wcml6ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRSb3VuZE51bWJlck9mQmV0cyh1aW50IGdhbWVJZCwgdWludCByb3VuZElkKSBjb25zdGFudCByZXR1cm5zKHVpbnQpIHsKICAgICAgICByZXR1cm4gZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbcm91bmRJZF0uYmV0cy5sZW5ndGg7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Um91bmRCZXRPcmlnaW4odWludCBnYW1lSWQsIHVpbnQgcm91bmRJZCwgdWludCBiZXRJZCkgY29uc3RhbnQgcmV0dXJucyhhZGRyZXNzKSB7CiAgICAgICAgcmV0dXJuIGdhbWVzW2dhbWVJZF0ucm91bmRzW3JvdW5kSWRdLmJldHNbYmV0SWRdLm9yaWdpbjsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRSb3VuZEJldEFtb3VudCh1aW50IGdhbWVJZCwgdWludCByb3VuZElkLCB1aW50IGJldElkKSBjb25zdGFudCByZXR1cm5zKHVpbnQpIHsKICAgICAgICByZXR1cm4gZ2FtZXNbZ2FtZUlkXS5yb3VuZHNbcm91bmRJZF0uYmV0c1tiZXRJZF0uYW1vdW50OwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFJvdW5kQmV0TnVtYmVyKHVpbnQgZ2FtZUlkLCB1aW50IHJvdW5kSWQsIHVpbnQgYmV0SWQpIGNvbnN0YW50IHJldHVybnModWludCkgewogICAgICAgIHJldHVybiBnYW1lc1tnYW1lSWRdLnJvdW5kc1tyb3VuZElkXS5iZXRzW2JldElkXS5iZXQ7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Um91bmROdW1iZXIodWludCBnYW1lSWQsIHVpbnQgcm91bmRJZCkgY29uc3RhbnQgcmV0dXJucyh1aW50OCkgewogICAgICAgIHJldHVybiBnYW1lc1tnYW1lSWRdLnJvdW5kc1tyb3VuZElkXS5udW1iZXI7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Um91bmRQb2ludGVyKHVpbnQgZ2FtZUlkLCB1aW50IHJvdW5kSWQpIGNvbnN0YW50IHJldHVybnModWludCkgewogICAgICAgIHJldHVybiBnYW1lc1tnYW1lSWRdLnJvdW5kc1tyb3VuZElkXS5wb2ludGVyOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFBvaW50ZXIodWludCBnYW1lSWQpIGNvbnN0YW50IHJldHVybnModWludCkgewogICAgICAgIHJldHVybiBnYW1lc1tnYW1lSWRdLnBvaW50ZXI7CiAgICB9CgogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7CiAgICB9Cn0='.
	

]
