Class {
	#name : #SRT903e7414cb54e44766dcf03e4ab424fdf9259d78,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT903e7414cb54e44766dcf03e4ab424fdf9259d78 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICAgICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAgICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9Cn0KCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgICAvKioKICAgICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAgICogYWNjb3VudC4KICAgICAqLwogICAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgoKICAgIC8qKgogICAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAgICovCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKCiAgICAvKioKICAgICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgICAgIGlmIChuZXdPd25lciAhPSBhZGRyZXNzKDApKSB7CiAgICAgICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICAgICAgfQogICAgfQoKfQoKLyoqCiAqIEB0aXRsZSBQYXVzYWJsZQogKiBAZGV2IEJhc2UgY29udHJhY3Qgd2hpY2ggYWxsb3dzIGNoaWxkcmVuIHRvIGltcGxlbWVudCBhbiBlbWVyZ2VuY3kgc3RvcCBtZWNoYW5pc20uCiAqLwpjb250cmFjdCBQYXVzYWJsZSBpcyBPd25hYmxlIHsKICAgIGV2ZW50IFBhdXNlKCk7CiAgICBldmVudCBVbnBhdXNlKCk7CgogICAgYm9vbCBwdWJsaWMgcGF1c2VkID0gZmFsc2U7CgoKICAgIC8qKgogICAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgcGF1c2VkCiAgICAgKi8KICAgIG1vZGlmaWVyIHdoZW5Ob3RQYXVzZWQoKSB7CiAgICAgICAgcmVxdWlyZSghcGF1c2VkKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgTk9UIHBhdXNlZAogICAgICovCiAgICBtb2RpZmllciB3aGVuUGF1c2VkIHsKICAgICAgICByZXF1aXJlKHBhdXNlZCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byBwYXVzZSwgdHJpZ2dlcnMgc3RvcHBlZCBzdGF0ZQogICAgICovCiAgICBmdW5jdGlvbiBwYXVzZSgpIG9ubHlPd25lciB3aGVuTm90UGF1c2VkIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBwYXVzZWQgPSB0cnVlOwogICAgICAgIFBhdXNlKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gdW5wYXVzZSwgcmV0dXJucyB0byBub3JtYWwgc3RhdGUKICAgICAqLwogICAgZnVuY3Rpb24gdW5wYXVzZSgpIG9ubHlPd25lciB3aGVuUGF1c2VkIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBwYXVzZWQgPSBmYWxzZTsKICAgICAgICBVbnBhdXNlKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAgIC8qKgogICAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgICAqLwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCn0KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCgogICAgLyoqCiAgICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAgICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAgICAgLy8gcmVxdWlyZSAoX3ZhbHVlIDw9IF9hbGxvd2FuY2UpOwoKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewoKICAgICAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAgICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAgICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICAgICAgcmVxdWlyZSgoX3ZhbHVlID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CgogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCn0KCi8qKgogKiBAdGl0bGUgSG9RdVRva2VuCiAqIEBkZXYgSG9RdS5pbyB0b2tlbiBjb250cmFjdC4KICovCmNvbnRyYWN0IEhvUXVUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBQYXVzYWJsZSB7CgogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkhPUVUgVG9rZW4iOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiSFFYIjsKICAgIHVpbnQzMiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKCiAgICAvKioKICAgICAqIEBkZXYgR2l2ZSBhbGwgdG9rZW5zIHRvIG1zZy5zZW5kZXIuCiAgICAgKi8KICAgIGZ1bmN0aW9uIEhvUXVUb2tlbih1aW50IF90b3RhbFN1cHBseSkgewogICAgICAgIHJlcXVpcmUgKF90b3RhbFN1cHBseSA+IDApOwogICAgICAgIHRvdGFsU3VwcGx5ID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBfdG90YWxTdXBwbHk7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSB3aGVuTm90UGF1c2VkIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHdoZW5Ob3RQYXVzZWQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KfQoKLyoqCiAqIEB0aXRsZSBDbGFpbWFibGVDcm93ZHNhbGUKICogQHRpdGxlIEhvUXUuaW8gY2xhaW1hYmxlIGNyb3dkc2FsZSBjb250cmFjdC4KICovCmNvbnRyYWN0IENsYWltYWJsZUNyb3dkc2FsZSBpcyBQYXVzYWJsZSB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICAvLyBhbGwgYWNjZXB0ZWQgZXRoZXJzIHdpbGwgYmUgc2VudCB0byB0aGlzIGFkZHJlc3MKICAgIGFkZHJlc3MgYmVuZWZpY2lhcnlBZGRyZXNzOwoKICAgIC8vIGFsbCByZW1haW4gdG9rZW5zIGFmdGVyIElDTyBzaG91bGQgZ28gdG8gdGhhdCBhZGRyZXNzCiAgICBhZGRyZXNzIHB1YmxpYyBiYW5rQWRkcmVzczsKCiAgICAvLyB0b2tlbiBpbnN0YW5jZQogICAgSG9RdVRva2VuIHB1YmxpYyB0b2tlbjsKCiAgICB1aW50MjU2IHB1YmxpYyBtYXhUb2tlbnNBbW91bnQ7CiAgICB1aW50MjU2IHB1YmxpYyBpc3N1ZWRUb2tlbnNBbW91bnQgPSAwOwogICAgdWludDI1NiBwdWJsaWMgbWluQnV5YWJsZUFtb3VudDsKICAgIHVpbnQyNTYgcHVibGljIHRva2VuUmF0ZTsgLy8gYW1vdW50IG9mIEhRWCBwZXIgMSBFVEgKICAgIAogICAgdWludDI1NiBlbmREYXRlOwoKICAgIGJvb2wgcHVibGljIGlzRmluaXNoZWQgPSBmYWxzZTsKCiAgICAvLyBidWZmZXIgZm9yIGNsYWltYWJsZSB0b2tlbnMKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgdG9rZW5zOwogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBhcHByb3ZlZDsKICAgIG1hcHBpbmcodWludDMyID0+IGFkZHJlc3MpIGludGVybmFsIHRva2VuUmVjZWl2ZXJzOwogICAgdWludDMyIGludGVybmFsIHJlY2VpdmVyc0NvdW50OwoKICAgIC8qKgogICAgKiBFdmVudHMgZm9yIHRva2VuIHB1cmNoYXNlIGxvZ2dpbmcKICAgICovCiAgICBldmVudCBUb2tlbkJvdWdodChhZGRyZXNzIGluZGV4ZWQgX2J1eWVyLCB1aW50MjU2IF90b2tlbnMsIHVpbnQyNTYgX2Ftb3VudCk7CiAgICBldmVudCBUb2tlbkFkZGVkKGFkZHJlc3MgaW5kZXhlZCBfcmVjZWl2ZXIsIHVpbnQyNTYgX3Rva2VucywgdWludDI1NiBfZXF1aXZhbGVudEFtb3VudCk7CiAgICBldmVudCBUb2tlblRvcHBlZFVwKGFkZHJlc3MgaW5kZXhlZCBfcmVjZWl2ZXIsIHVpbnQyNTYgX3Rva2VucywgdWludDI1NiBfZXF1aXZhbGVudEFtb3VudCk7CiAgICBldmVudCBUb2tlblN1YnRyYWN0ZWQoYWRkcmVzcyBpbmRleGVkIF9yZWNlaXZlciwgdWludDI1NiBfdG9rZW5zLCB1aW50MjU2IF9lcXVpdmFsZW50QW1vdW50KTsKICAgIGV2ZW50IFRva2VuU2VudChhZGRyZXNzIGluZGV4ZWQgX3JlY2VpdmVyLCB1aW50MjU2IF90b2tlbnMpOwoKICAgIG1vZGlmaWVyIGluUHJvZ3Jlc3MoKSB7CiAgICAgICAgcmVxdWlyZSAoIWlzRmluaXNoZWQpOwogICAgICAgIHJlcXVpcmUgKGlzc3VlZFRva2Vuc0Ftb3VudCA8IG1heFRva2Vuc0Ftb3VudCk7CiAgICAgICAgcmVxdWlyZSAobm93IDw9IGVuZERhdGUpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIC8qKgogICAgKiBAcGFyYW0gX3Rva2VuQWRkcmVzcyBhZGRyZXNzIG9mIGEgSFFYIHRva2VuIGNvbnRyYWN0CiAgICAqIEBwYXJhbSBfYmFua0FkZHJlc3MgYWRkcmVzcyBmb3IgcmVtYWluIEhRWCB0b2tlbnMgYWNjdW11bGF0aW9uCiAgICAqIEBwYXJhbSBfYmVuZWZpY2lhcnlBZGRyZXNzIGFjY2VwdGVkIEVUSCBnbyB0byB0aGlzIGFkZHJlc3MKICAgICogQHBhcmFtIF90b2tlblJhdGUgcmF0ZSBIUVggcGVyIDEgRVRICiAgICAqIEBwYXJhbSBfbWluQnV5YWJsZUFtb3VudCBtaW4gRVRIIHBlciBlYWNoIGJ1eSBhY3Rpb24gKGluIEVUSCB3ZWkpCiAgICAqIEBwYXJhbSBfbWF4VG9rZW5zQW1vdW50IElDTyBIUVggY2FwYWNpdHkgKGluIEhRWCB3ZWkpCiAgICAqIEBwYXJhbSBfZW5kRGF0ZSB0aGUgZGF0ZSB3aGVuIElDTyB3aWxsIGV4cGlyZQogICAgKi8KICAgIGZ1bmN0aW9uIENsYWltYWJsZUNyb3dkc2FsZSgKICAgICAgICBhZGRyZXNzIF90b2tlbkFkZHJlc3MsCiAgICAgICAgYWRkcmVzcyBfYmFua0FkZHJlc3MsCiAgICAgICAgYWRkcmVzcyBfYmVuZWZpY2lhcnlBZGRyZXNzLAogICAgICAgIHVpbnQyNTYgX3Rva2VuUmF0ZSwKICAgICAgICB1aW50MjU2IF9taW5CdXlhYmxlQW1vdW50LAogICAgICAgIHVpbnQyNTYgX21heFRva2Vuc0Ftb3VudCwKICAgICAgICB1aW50MjU2IF9lbmREYXRlCiAgICApIHsKICAgICAgICB0b2tlbiA9IEhvUXVUb2tlbihfdG9rZW5BZGRyZXNzKTsKCiAgICAgICAgYmFua0FkZHJlc3MgPSBfYmFua0FkZHJlc3M7CiAgICAgICAgYmVuZWZpY2lhcnlBZGRyZXNzID0gX2JlbmVmaWNpYXJ5QWRkcmVzczsKCiAgICAgICAgdG9rZW5SYXRlID0gX3Rva2VuUmF0ZTsKICAgICAgICBtaW5CdXlhYmxlQW1vdW50ID0gX21pbkJ1eWFibGVBbW91bnQ7CiAgICAgICAgbWF4VG9rZW5zQW1vdW50ID0gX21heFRva2Vuc0Ftb3VudDsKCiAgICAgICAgZW5kRGF0ZSA9IF9lbmREYXRlOwogICAgfQoKICAgIC8qCiAgICAgKiBAZGV2IFNldCBuZXcgSG9RdSB0b2tlbiBleGNoYW5nZSByYXRlLgogICAgICovCiAgICBmdW5jdGlvbiBzZXRUb2tlblJhdGUodWludDI1NiBfdG9rZW5SYXRlKSBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUgKF90b2tlblJhdGUgPiAwKTsKICAgICAgICB0b2tlblJhdGUgPSBfdG9rZW5SYXRlOwogICAgfQoKICAgIC8qKgogICAgICogQnV5IEhRWC4gVG9rZW5zIHdpbGwgYmUgc3RvcmVkIGluIGNvbnRyYWN0IHVudGlsIGNsYWltIHN0YWdlCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJ1eSgpIHBheWFibGUgaW5Qcm9ncmVzcyB3aGVuTm90UGF1c2VkIHsKICAgICAgICB1aW50MjU2IHBheUFtb3VudCA9IG1zZy52YWx1ZTsKICAgICAgICB1aW50MjU2IHJldHVybkFtb3VudCA9IDA7CgogICAgICAgIC8vIGNhbGN1bGF0ZSB0b2tlbiBhbW91bnQgdG8gYmUgdHJhbnNmZXJlZCB0byBpbnZlc3RvcgogICAgICAgIHVpbnQyNTYgdG9rZW5zQW1vdW50ID0gdG9rZW5SYXRlLm11bChwYXlBbW91bnQpOwogICAgCiAgICAgICAgaWYgKGlzc3VlZFRva2Vuc0Ftb3VudCArIHRva2Vuc0Ftb3VudCA+IG1heFRva2Vuc0Ftb3VudCkgewogICAgICAgICAgICB0b2tlbnNBbW91bnQgPSBtYXhUb2tlbnNBbW91bnQuc3ViKGlzc3VlZFRva2Vuc0Ftb3VudCk7CiAgICAgICAgICAgIHBheUFtb3VudCA9IHRva2Vuc0Ftb3VudC5kaXYodG9rZW5SYXRlKTsKICAgICAgICAgICAgcmV0dXJuQW1vdW50ID0gbXNnLnZhbHVlLnN1YihwYXlBbW91bnQpOwogICAgICAgIH0KICAgIAogICAgICAgIGlzc3VlZFRva2Vuc0Ftb3VudCA9IGlzc3VlZFRva2Vuc0Ftb3VudC5hZGQodG9rZW5zQW1vdW50KTsKICAgICAgICByZXF1aXJlIChpc3N1ZWRUb2tlbnNBbW91bnQgPD0gbWF4VG9rZW5zQW1vdW50KTsKCiAgICAgICAgc3RvcmVUb2tlbnMobXNnLnNlbmRlciwgdG9rZW5zQW1vdW50KTsKICAgICAgICBUb2tlbkJvdWdodChtc2cuc2VuZGVyLCB0b2tlbnNBbW91bnQsIHBheUFtb3VudCk7CgogICAgICAgIGJlbmVmaWNpYXJ5QWRkcmVzcy50cmFuc2ZlcihwYXlBbW91bnQpOwogICAgCiAgICAgICAgaWYgKHJldHVybkFtb3VudCA+IDApIHsKICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihyZXR1cm5BbW91bnQpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEFkZCBIUVggcGF5ZWQgYnkgYW5vdGhlciBjcnlwdG8gKEJUQywgTFRDKS4gVG9rZW5zIHdpbGwgYmUgc3RvcmVkIGluIGNvbnRyYWN0IHVudGlsIGNsYWltIHN0YWdlCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFkZChhZGRyZXNzIF9yZWNlaXZlciwgdWludDI1NiBfZXF1aXZhbGVudEV0aEFtb3VudCkgb25seU93bmVyIGluUHJvZ3Jlc3Mgd2hlbk5vdFBhdXNlZCB7CiAgICAgICAgdWludDI1NiB0b2tlbnNBbW91bnQgPSB0b2tlblJhdGUubXVsKF9lcXVpdmFsZW50RXRoQW1vdW50KTsKICAgICAgICBpc3N1ZWRUb2tlbnNBbW91bnQgPSBpc3N1ZWRUb2tlbnNBbW91bnQuYWRkKHRva2Vuc0Ftb3VudCk7CgogICAgICAgIHN0b3JlVG9rZW5zKF9yZWNlaXZlciwgdG9rZW5zQW1vdW50KTsKICAgICAgICBUb2tlbkFkZGVkKF9yZWNlaXZlciwgdG9rZW5zQW1vdW50LCBfZXF1aXZhbGVudEV0aEFtb3VudCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBBZGQgSFFYIGJ5IHJlZmVycmFsIHByb2dyYW0uIFRva2VucyB3aWxsIGJlIHN0b3JlZCBpbiBjb250cmFjdCB1bnRpbCBjbGFpbSBzdGFnZQogICAgICovCiAgICBmdW5jdGlvbiB0b3BVcChhZGRyZXNzIF9yZWNlaXZlciwgdWludDI1NiBfZXF1aXZhbGVudEV0aEFtb3VudCkgb25seU93bmVyIHdoZW5Ob3RQYXVzZWQgewogICAgICAgIHVpbnQyNTYgdG9rZW5zQW1vdW50ID0gdG9rZW5SYXRlLm11bChfZXF1aXZhbGVudEV0aEFtb3VudCk7CiAgICAgICAgaXNzdWVkVG9rZW5zQW1vdW50ID0gaXNzdWVkVG9rZW5zQW1vdW50LmFkZCh0b2tlbnNBbW91bnQpOwoKICAgICAgICBzdG9yZVRva2VucyhfcmVjZWl2ZXIsIHRva2Vuc0Ftb3VudCk7CiAgICAgICAgVG9rZW5Ub3BwZWRVcChfcmVjZWl2ZXIsIHRva2Vuc0Ftb3VudCwgX2VxdWl2YWxlbnRFdGhBbW91bnQpOwogICAgfQoKICAgIC8qKgogICAgICogUmVkdWNlIGJvdWdodCBIUVggYW1vdW50LiBFbWVyZ2VuY3kgdXNlIG9ubHkKICAgICAqLwogICAgZnVuY3Rpb24gc3ViKGFkZHJlc3MgX3JlY2VpdmVyLCB1aW50MjU2IF9lcXVpdmFsZW50RXRoQW1vdW50KSBvbmx5T3duZXIgd2hlbk5vdFBhdXNlZCB7CiAgICAgICAgdWludDI1NiB0b2tlbnNBbW91bnQgPSB0b2tlblJhdGUubXVsKF9lcXVpdmFsZW50RXRoQW1vdW50KTsKCiAgICAgICAgcmVxdWlyZSAodG9rZW5zW19yZWNlaXZlcl0gPj0gdG9rZW5zQW1vdW50KTsKCiAgICAgICAgdG9rZW5zW19yZWNlaXZlcl0gPSB0b2tlbnNbX3JlY2VpdmVyXS5zdWIodG9rZW5zQW1vdW50KTsKICAgICAgICBpc3N1ZWRUb2tlbnNBbW91bnQgPSBpc3N1ZWRUb2tlbnNBbW91bnQuc3ViKHRva2Vuc0Ftb3VudCk7CgogICAgICAgIFRva2VuU3VidHJhY3RlZChfcmVjZWl2ZXIsIHRva2Vuc0Ftb3VudCwgX2VxdWl2YWxlbnRFdGhBbW91bnQpOwogICAgfQoKICAgIC8qKgogICAgICogSW50ZXJuYWwgbWV0aG9kIGZvciBzdG9yaW5nIHRva2VucyBpbiBjb250cmFjdCB1bnRpbCBjbGFpbSBzdGFnZQogICAgICovCiAgICBmdW5jdGlvbiBzdG9yZVRva2VucyhhZGRyZXNzIF9yZWNlaXZlciwgdWludDI1NiBfdG9rZW5zQW1vdW50KSBpbnRlcm5hbCB3aGVuTm90UGF1c2VkIHsKICAgICAgICBpZiAodG9rZW5zW19yZWNlaXZlcl0gPT0gMCkgewogICAgICAgICAgICB0b2tlblJlY2VpdmVyc1tyZWNlaXZlcnNDb3VudF0gPSBfcmVjZWl2ZXI7CiAgICAgICAgICAgIHJlY2VpdmVyc0NvdW50Kys7CiAgICAgICAgICAgIGFwcHJvdmVkW19yZWNlaXZlcl0gPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgdG9rZW5zW19yZWNlaXZlcl0gPSB0b2tlbnNbX3JlY2VpdmVyXS5hZGQoX3Rva2Vuc0Ftb3VudCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDbGFpbSBhbGwgYm91Z2h0IEhRWC4gQXZhaWxhYmxlIHRva2VucyB3aWxsIGJlIHNlbnQgdG8gdHJhbnNhY3Rpb24gc2VuZGVyIGFkZHJlc3MgaWYgaXQgaXMgYXBwcm92ZWQKICAgICAqLwogICAgZnVuY3Rpb24gY2xhaW0oKSB3aGVuTm90UGF1c2VkIHsKICAgICAgICBjbGFpbUZvcihtc2cuc2VuZGVyKTsKICAgIH0KCiAgICAvKioKICAgICAqIENsYWltIGFsbCBib3VnaHQgSFFYIGZvciBzcGVjaWZpYyBhcHByb3ZlZCBhZGRyZXNzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGNsYWltT25lKGFkZHJlc3MgX3JlY2VpdmVyKSBvbmx5T3duZXIgd2hlbk5vdFBhdXNlZCB7CiAgICAgICAgY2xhaW1Gb3IoX3JlY2VpdmVyKTsKICAgIH0KCiAgICAvKioKICAgICAqIENsYWltIGFsbCBib3VnaHQgSFFYIGZvciBhbGwgYXBwcm92ZWQgYWRkcmVzc2VzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGNsYWltQWxsKCkgb25seU93bmVyIHdoZW5Ob3RQYXVzZWQgewogICAgICAgIGZvciAodWludDMyIGkgPSAwOyBpIDwgcmVjZWl2ZXJzQ291bnQ7IGkrKykgewogICAgICAgICAgICBhZGRyZXNzIHJlY2VpdmVyID0gdG9rZW5SZWNlaXZlcnNbaV07CiAgICAgICAgICAgIGlmIChhcHByb3ZlZFtyZWNlaXZlcl0gJiYgdG9rZW5zW3JlY2VpdmVyXSA+IDApIHsKICAgICAgICAgICAgICAgIGNsYWltRm9yKHJlY2VpdmVyKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEludGVybmFsIG1ldGhvZCBmb3IgY2xhaW1pbmcgdG9rZW5zIGZvciBzcGVjaWZpYyBhcHByb3ZlZCBhZGRyZXNzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGNsYWltRm9yKGFkZHJlc3MgX3JlY2VpdmVyKSBpbnRlcm5hbCB3aGVuTm90UGF1c2VkIHsKICAgICAgICByZXF1aXJlKGFwcHJvdmVkW19yZWNlaXZlcl0pOwogICAgICAgIHJlcXVpcmUodG9rZW5zW19yZWNlaXZlcl0gPiAwKTsKCiAgICAgICAgdWludDI1NiB0b2tlbnNUb1NlbmQgPSB0b2tlbnNbX3JlY2VpdmVyXTsKICAgICAgICB0b2tlbnNbX3JlY2VpdmVyXSA9IDA7CgogICAgICAgIHRva2VuLnRyYW5zZmVyRnJvbShiYW5rQWRkcmVzcywgX3JlY2VpdmVyLCB0b2tlbnNUb1NlbmQpOwogICAgICAgIFRva2VuU2VudChfcmVjZWl2ZXIsIHRva2Vuc1RvU2VuZCk7CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9yZWNlaXZlcikgb25seU93bmVyIHdoZW5Ob3RQYXVzZWQgewogICAgICAgIGFwcHJvdmVkW19yZWNlaXZlcl0gPSB0cnVlOwogICAgfQogICAgCiAgICAvKioKICAgICAqIEZpbmlzaCBTYWxlLgogICAgICovCiAgICBmdW5jdGlvbiBmaW5pc2goKSBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUgKGlzc3VlZFRva2Vuc0Ftb3VudCA+PSBtYXhUb2tlbnNBbW91bnQgfHwgbm93ID4gZW5kRGF0ZSk7CiAgICAgICAgcmVxdWlyZSAoIWlzRmluaXNoZWQpOwogICAgICAgIGlzRmluaXNoZWQgPSB0cnVlOwogICAgICAgIHRva2VuLnRyYW5zZmVyKGJhbmtBZGRyZXNzLCB0b2tlbi5iYWxhbmNlT2YodGhpcykpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFJlY2VpdmVyc0NvdW50KCkgY29uc3RhbnQgb25seU93bmVyIHJldHVybnMgKHVpbnQzMikgewogICAgICAgIHJldHVybiByZWNlaXZlcnNDb3VudDsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRSZWNlaXZlcih1aW50MzIgaSkgY29uc3RhbnQgb25seU93bmVyIHJldHVybnMgKGFkZHJlc3MpIHsKICAgICAgICByZXR1cm4gdG9rZW5SZWNlaXZlcnNbaV07CiAgICB9CiAgICAKICAgIC8qKgogICAgICogQnV5IEhRWC4gVG9rZW5zIHdpbGwgYmUgc3RvcmVkIGluIGNvbnRyYWN0IHVudGlsIGNsYWltIHN0YWdlCiAgICAgKi8KICAgIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICAgICAgYnV5KCk7CiAgICB9Cn0='.
	

]
