Class {
	#name : #SRTa975bbf3ce255ad7081c2f8a6c9b97c49475e334,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTa975bbf3ce255ad7081c2f8a6c9b97c49475e334 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGlmIChhID09IDApIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIHJlcXVpcmUoYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmVxdWlyZShiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgICAgIHJlcXVpcmUoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgICAgIHJldHVybiBjOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJlcXVpcmUoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgcmVxdWlyZShjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9CgoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCgovKioKICogQHRpdGxlIEJ1cm5hYmxlQ0FEVlRva2VuIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEJ1cm5hYmxlQ0FEVlRva2VuIGlzIEVSQzIwIHsKCiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSAxODsKICAgIHN0cmluZyBwdWJsaWMgbmFtZTsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgCiAgICAvKioKICAgICAqIEBkZXYgc2V0IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICAgKiAgCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGRpc2FibGVkIGJlY2F1c2UgdXNpbmcgaXQgaXMgcmlza3ksIHNvIGEgcmV2ZXJ0KCkKICAgICAqIGlzIGFsd2F5cyBjYWxsZWQgYXMgdGhlIGZpcnN0IGxpbmUgb2YgY29kZS4KICAgICAqIEluc3RlYWQgb2YgdGhpcyBmdW5jdGlvbiwgdXNlIGluY3JlYXNlQXBwcm92YWwgb3IgZGVjcmVhc2VBcHByb3ZhbC4KICAgICAqIAogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBpbmNyZWFzZSB0aGUgYWxsb3dhbmNlIGJ5LgogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX3NwZW5kZXIgIT0gX3NwZW5kZXIpOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlICE9IF92YWx1ZSk7CiAgICAgICAgcmV2ZXJ0KCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICAgIGZ1bmN0aW9uIG11bHRpcGxlVHJhbnNmZXIoYWRkcmVzc1tdIF90b3MsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWM7CiAgICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBidXJuZXIsIHVpbnQyNTYgdmFsdWUpOwogICAgCn0KCgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIAogICAgLyoqCiAgICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAgKiBhY2NvdW50LgogICAgKi8KICAgIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KICAgIAogICAgCiAgICAvKioKICAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAgKi8KICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIAogICAgLyoqCiAgICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgICAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9CiAgICAKICAgIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwp9CgoKLyoqCiAqIEB0aXRsZSBDb250cm9sbGVkIENyb3dkU2FsZQogKi8KY29udHJhY3QgQ29udHJvbGxlZENyb3dkU2FsZSB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICAgIAogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgZGVwb3NpdGVkOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgdW5ib3VuZGVkTGltaXQ7CiAgICAKICAgIHVpbnQyNTYgcHVibGljIG1heFBlclVzZXIgPSA1IGV0aGVyOwogICAgdWludDI1NiBwdWJsaWMgbWluUGVyVXNlciA9IDEgZXRoZXIgLyAxMDAwOwogICAgCiAgICAKICAgIG1vZGlmaWVyIGNvbnRyb2xsZWREb25hdGlvbigpIHsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBtaW5QZXJVc2VyKTsKICAgICAgICBkZXBvc2l0ZWRbbXNnLnNlbmRlcl0gPSBkZXBvc2l0ZWRbbXNnLnNlbmRlcl0uYWRkKG1zZy52YWx1ZSk7CiAgICAgICAgcmVxdWlyZShtYXhQZXJVc2VyID49IGRlcG9zaXRlZFttc2cuc2VuZGVyXSB8fCB1bmJvdW5kZWRMaW1pdFttc2cuc2VuZGVyXSk7CiAgICAgICAgXzsKICAgIH0KCn0KCgovKioKICogQHRpdGxlIENvaW5BZHZpc29yQ3Jvd2RTYWxlCiAqIEBkZXYgVGhpcyBjb250cmFjdCBpcyB1c2VkIGZvciBzdG9yaW5nIGZ1bmRzIHdoaWxlIGEgY3Jvd2RzYWxlCiAqIGlzIGluIHByb2dyZXNzLiBTdXBwb3J0cyByZWZ1bmRpbmcgdGhlIG1vbmV5IGlmIGNyb3dkc2FsZSBmYWlscywKICogYW5kIGZvcndhcmRpbmcgaXQgdG8gYSBiZW5lZmljaWFyeSBpZiBjcm93ZHNhbGUgaXMgc3VjY2Vzc2Z1bC4KICovCmNvbnRyYWN0IENvaW5BZHZpc29yQ3Jvd2RTYWxlIGlzIE93bmFibGUsIENvbnRyb2xsZWRDcm93ZFNhbGUgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CiAgICBlbnVtIFN0YXRlIHsgQWN0aXZlLCBSZWZ1bmRpbmcsIENvbXBsZXRlZCB9CiAgICAKICAgIHN0cnVjdCBQaGFzZSB7CiAgICAgICAgdWludCBleHBpcmVEYXRlOwogICAgICAgIHVpbnQyNTYgbWF4QW1vdW50OwogICAgICAgIGJvb2wgbWF4QW1vdW50RW5hYmxlZDsKICAgICAgICB1aW50IHJhdGU7CiAgICAgICAgYm9vbCBsb2NrZWQ7CiAgICB9CgovLz09PSBwcm9wZXJ0aWVzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgUGhhc2VbXSBwdWJsaWMgcGhhc2VzOwogICAgdWludDI1NiBsYXN0QWN0aXZlUGhhc2U7CiAgICBTdGF0ZSBzdGF0ZTsKICAgIHVpbnQyNTYgcHVibGljIGdvYWw7CiAgICBhZGRyZXNzIHB1YmxpYyBiZW5lZmljaWFyeTsKICAgIEJ1cm5hYmxlQ0FEVlRva2VuIHB1YmxpYyB0b2tlbjsKICAgIHVpbnQyNTYgcHVibGljIHJlZnVuZHVpbmdTdGFydERhdGU7CiAgICAKLy89PT0gZXZlbnRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICBldmVudCBDcm93ZFNhbGVDbG9zZWQoc3RyaW5nIG1lc3NhZ2UsIGFkZHJlc3MgY3Jvd2RTYWxlQ2xvc2VkKTsKICAgIGV2ZW50IFJlZnVuZHNFbmFibGVkKCk7CiAgICBldmVudCBSZWZ1bmRlZChhZGRyZXNzIGluZGV4ZWQgYmVuZWZpY2lhcnksIHVpbnQyNTYgd2VpQW1vdW50KTsKICAgIGV2ZW50IENyb3dkU2FsZVN0YXJ0ZWQoc3RyaW5nIG1lc3NhZ2UsIGFkZHJlc3MgY3Jvd2RTYWxlU3RhcnRlZCk7CgovLz09PSBjb25zdHJ1Y3RvciA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIGZ1bmN0aW9uIENvaW5BZHZpc29yQ3Jvd2RTYWxlKGFkZHJlc3MgX2JlbmVmaWNpYXJ5LCBhZGRyZXNzIF90b2tlbiwgdWludDI1NiBfZ29hbCwgdWludDI1NiBfcmVmdW5kdWluZ1N0YXJ0RGF0ZSkgcHVibGljIHsKICAgICAgICByZXF1aXJlKF9iZW5lZmljaWFyeSAhPSBhZGRyZXNzKDApKTsKICAgICAgICBiZW5lZmljaWFyeSA9IF9iZW5lZmljaWFyeTsKICAgICAgICB0b2tlbiA9IEJ1cm5hYmxlQ0FEVlRva2VuKF90b2tlbik7CiAgICAgICAgcGhhc2VzLnB1c2goUGhhc2UoMCwgMCwgZmFsc2UsIDAsIGZhbHNlKSk7CiAgICAgICAgbGFzdEFjdGl2ZVBoYXNlID0gMDsKICAgICAgICBnb2FsID0gX2dvYWwgKiAxIGV0aGVyOwogICAgICAgIHN0YXRlID0gU3RhdGUuQWN0aXZlOwogICAgICAgIHJlZnVuZHVpbmdTdGFydERhdGUgPSBfcmVmdW5kdWluZ1N0YXJ0RGF0ZTsKICAgIH0KCgogICAgLyoqCiAgICAgKiAKICAgICAqCiAgICAgKi8gCiAgICBmdW5jdGlvbiBpc1BoYXNlVmFsaWQodWludDI1NiBpbmRleCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBwaGFzZXNbaW5kZXhdLmV4cGlyZURhdGUgPj0gbm93ICYmICghcGhhc2VzW2luZGV4XS5tYXhBbW91bnRFbmFibGVkIHx8IHBoYXNlc1tpbmRleF0ubWF4QW1vdW50ID4gbWluUGVyVXNlcik7CiAgICB9IAogICAgCiAgICAKICAgIC8qKgogICAgICogCiAgICAgKgogICAgICovCiAgICBmdW5jdGlvbiBjdXJyZW50UGhhc2VJZCgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGluZGV4ID0gbGFzdEFjdGl2ZVBoYXNlOwogICAgICAgIHdoaWxlKGluZGV4IDwgcGhhc2VzLmxlbmd0aC0xICYmICFpc1BoYXNlVmFsaWQoaW5kZXgpKSB7CiAgICAgICAgICAgIGluZGV4ID0gaW5kZXggKzE7CiAgICAgICAgfQogICAgICAgIHJldHVybiBpbmRleDsKICAgIH0KICAgIAogICAgCiAgICAvKioKICAgICAqIAogICAgICoKICAgICAqLwogICAgZnVuY3Rpb24gYWRkUGhhc2VzKHVpbnQgZXhwaXJlRGF0ZSwgdWludDI1NiBtYXhBbW91bnQsIGJvb2wgbWF4QW1vdW50RW5hYmxlZCwgdWludCByYXRlLCBib29sIGxvY2tlZCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcGhhc2VzLnB1c2goUGhhc2UoZXhwaXJlRGF0ZSwgbWF4QW1vdW50LCBtYXhBbW91bnRFbmFibGVkLCByYXRlLCBsb2NrZWQpKTsKICAgIH0KICAgIAogICAgCiAgICAvKioKICAgICAqIAogICAgICoKICAgICAqLwogICAgZnVuY3Rpb24gcmVzZXRQaGFzZXModWludCBleHBpcmVEYXRlLCB1aW50MjU2IG1heEFtb3VudCwgYm9vbCBtYXhBbW91bnRFbmFibGVkLCB1aW50IHJhdGUsIGJvb2wgbG9ja2VkKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKCFwaGFzZXNbY3VycmVudFBoYXNlSWQoKV0ubG9ja2VkKTsKICAgICAgICBwaGFzZXMubGVuZ3RoID0gMDsKICAgICAgICBsYXN0QWN0aXZlUGhhc2UgPSAwOwogICAgICAgIGFkZFBoYXNlcyhleHBpcmVEYXRlLCBtYXhBbW91bnQsIG1heEFtb3VudEVuYWJsZWQsIHJhdGUsIGxvY2tlZCk7CiAgICB9CiAgICAKICAgIAogICAgLyoqCiAgICAgKiAKICAgICAqCiAgICAgKi8KICAgIGZ1bmN0aW9uICgpIGNvbnRyb2xsZWREb25hdGlvbiBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZShzdGF0ZSAhPSBTdGF0ZS5SZWZ1bmRpbmcpOwogICAgICAgIHVpbnQyNTYgcGhhc2VJZCA9IGN1cnJlbnRQaGFzZUlkKCk7CiAgICAgICAgcmVxdWlyZShpc1BoYXNlVmFsaWQocGhhc2VJZCkpOwogICAgICAgIAogICAgICAgIGlmIChwaGFzZXNbcGhhc2VJZF0ubWF4QW1vdW50RW5hYmxlZCkgewogICAgICAgICAgICBpZiAocGhhc2VzW3BoYXNlSWRdLm1heEFtb3VudCA+PSBtc2cudmFsdWUpIHsKICAgICAgICAgICAgICAgIHBoYXNlc1twaGFzZUlkXS5tYXhBbW91bnQgPSBwaGFzZXNbcGhhc2VJZF0ubWF4QW1vdW50LnN1Yihtc2cudmFsdWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcGhhc2VzW3BoYXNlSWRdLm1heEFtb3VudCA9IDA7CiAgICAgICAgICAgICAgICAvL3Rocm93OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJlcXVpcmUodG9rZW4udHJhbnNmZXIobXNnLnNlbmRlciwgbXNnLnZhbHVlLm11bChwaGFzZXNbcGhhc2VJZF0ucmF0ZSkpKTsKICAgICAgICBsYXN0QWN0aXZlUGhhc2UgPSBwaGFzZUlkOwogICAgfQogICAgCiAgICAKICAgIC8qKgogICAgICogCiAgICAgKgogICAgICovCiAgICBmdW5jdGlvbiByZXRyaWV2ZUZvdW5kcygpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoc3RhdGUgPT0gU3RhdGUuQ29tcGxldGVkIHx8IChzdGF0ZSA9PSBTdGF0ZS5BY3RpdmUgJiYgdGhpcy5iYWxhbmNlID49IGdvYWwpKTsKICAgICAgICBzdGF0ZSA9IFN0YXRlLkNvbXBsZXRlZDsKICAgICAgICBiZW5lZmljaWFyeS50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgfQogICAgCiAgICAKICAgIC8qKgogICAgICogCiAgICAgKgogICAgICovCiAgICBmdW5jdGlvbiBzdGFydFJlZnVuZGluZygpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShzdGF0ZSA9PSBTdGF0ZS5BY3RpdmUpOwogICAgICAgIHJlcXVpcmUodGhpcy5iYWxhbmNlIDwgZ29hbCk7CiAgICAgICAgcmVxdWlyZShyZWZ1bmR1aW5nU3RhcnREYXRlIDwgbm93KTsKICAgICAgICBzdGF0ZSA9IFN0YXRlLlJlZnVuZGluZzsKICAgICAgICBSZWZ1bmRzRW5hYmxlZCgpOwogICAgfQogICAgCiAgICAKICAgIC8qKgogICAgICogCiAgICAgKgogICAgICovCiAgICBmdW5jdGlvbiBmb3JjZVJlZnVuZGluZygpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoc3RhdGUgPT0gU3RhdGUuQWN0aXZlKTsKICAgICAgICBzdGF0ZSA9IFN0YXRlLlJlZnVuZGluZzsKICAgICAgICBSZWZ1bmRzRW5hYmxlZCgpOwogICAgfQogICAgCiAgICAKICAgIC8qKgogICAgICogCiAgICAgKgogICAgICovCiAgICBmdW5jdGlvbiByZWZ1bmQoYWRkcmVzcyBpbnZlc3RvcikgcHVibGljIHsKICAgICAgICByZXF1aXJlKHN0YXRlID09IFN0YXRlLlJlZnVuZGluZyk7CiAgICAgICAgcmVxdWlyZShkZXBvc2l0ZWRbaW52ZXN0b3JdID4gMCk7CiAgICAgICAgCiAgICAgICAgdWludDI1NiBkZXBvc2l0ZWRWYWx1ZSA9IGRlcG9zaXRlZFtpbnZlc3Rvcl07CiAgICAgICAgZGVwb3NpdGVkW2ludmVzdG9yXSA9IDA7CiAgICAgICAgaW52ZXN0b3IudHJhbnNmZXIoZGVwb3NpdGVkVmFsdWUpOwogICAgICAgIFJlZnVuZGVkKGludmVzdG9yLCBkZXBvc2l0ZWRWYWx1ZSk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogCiAgICAgKgogICAgICovCiAgICBmdW5jdGlvbiBidXJuQ2FkdnNMZWZ0SW5SZWZ1bmRpbmcoKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKHN0YXRlID09IFN0YXRlLlJlZnVuZGluZyk7CiAgICAgICAgcmVxdWlyZSh0b2tlbi5iYWxhbmNlT2YodGhpcykgPiAwKTsKICAgICAgICB0b2tlbi5idXJuKHRva2VuLmJhbGFuY2VPZih0aGlzKSk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogCiAgICAgKgogICAgICovCiAgICBmdW5jdGlvbiBnYW1lT3ZlcigpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoIWlzUGhhc2VWYWxpZChjdXJyZW50UGhhc2VJZCgpKSk7CiAgICAgICAgcmVxdWlyZShzdGF0ZSA9PSBTdGF0ZS5Db21wbGV0ZWQgfHwgKHN0YXRlID09IFN0YXRlLkFjdGl2ZSAmJiB0aGlzLmJhbGFuY2UgPj0gZ29hbCkpOwogICAgICAgIHRva2VuLmJ1cm4odG9rZW4uYmFsYW5jZU9mKHRoaXMpKTsKICAgICAgICBzZWxmZGVzdHJ1Y3QoYmVuZWZpY2lhcnkpOwogICAgfQogICAgCiAgICAKICAgIC8qKgogICAgICogCiAgICAgKgogICAgICovCiAgICBmdW5jdGlvbiBzZXRVbmJvdW5kZWRMaW1pdChhZGRyZXNzIF9pbnZlc3RvciwgYm9vbCBfc3RhdGUpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX2ludmVzdG9yICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHVuYm91bmRlZExpbWl0W19pbnZlc3Rvcl0gPSBfc3RhdGU7CiAgICB9CgogICAgCiAgICBmdW5jdGlvbiBjdXJyZW50U3RhdGUoKSBwdWJsaWMgdmlldyByZXR1cm5zIChzdHJpbmcpIHsKICAgICAgICBpZiAoc3RhdGUgPT0gU3RhdGUuQWN0aXZlKSB7CiAgICAgICAgICAgIHJldHVybiAiQWN0aXZlIjsKICAgICAgICB9CiAgICAgICAgaWYgKHN0YXRlID09IFN0YXRlLkNvbXBsZXRlZCkgewogICAgICAgICAgICByZXR1cm4gIkNvbXBsZXRlZCI7CiAgICAgICAgfQogICAgICAgIGlmIChzdGF0ZSA9PSBTdGF0ZS5SZWZ1bmRpbmcpIHsKICAgICAgICAgICAgcmV0dXJuICJSZWZ1bmRpbmciOwogICAgICAgIH0KICAgIH0KICAgIAogICAgCiAgICBmdW5jdGlvbiB0b2tlbnNPblNhbGUoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBpID0gY3VycmVudFBoYXNlSWQoKTsKICAgICAgICBpZiAoaXNQaGFzZVZhbGlkKGkpKSB7CiAgICAgICAgICAgIHJldHVybiBwaGFzZXNbaV0ubWF4QW1vdW50RW5hYmxlZCA/IHBoYXNlc1tpXS5tYXhBbW91bnQgOiB0b2tlbi5iYWxhbmNlT2YodGhpcyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgfQoKICAgIAp9'.
	

]
