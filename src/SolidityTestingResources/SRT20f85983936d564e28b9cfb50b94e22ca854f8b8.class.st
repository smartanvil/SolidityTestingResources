Class {
	#name : #SRT20f85983936d564e28b9cfb50b94e22ca854f8b8,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT20f85983936d564e28b9cfb50b94e22ca854f8b8 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgoKCi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqLwovKiAqKioqKioqKioqIFplcHBlbGluIFNvbGlkaXR5IC0gdjEuNS4wICoqKioqKioqKiogKi8KLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovCgoKCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLgogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKCiAgICAvLyBTYWZlTWF0aC5zdWIgd2lsbCB0aHJvdyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJhbGFuY2UuCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLgogICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9Cgp9CgoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGludGVybmFsIGFsbG93ZWQ7CgoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbX2Zyb21dKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsKCiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KICAgKgogICAqIEJld2FyZSB0aGF0IGNoYW5naW5nIGFuIGFsbG93YW5jZSB3aXRoIHRoaXMgbWV0aG9kIGJyaW5ncyB0aGUgcmlzayB0aGF0IHNvbWVvbmUgbWF5IHVzZSBib3RoIHRoZSBvbGQKICAgKiBhbmQgdGhlIG5ldyBhbGxvd2FuY2UgYnkgdW5mb3J0dW5hdGUgdHJhbnNhY3Rpb24gb3JkZXJpbmcuIE9uZSBwb3NzaWJsZSBzb2x1dGlvbiB0byBtaXRpZ2F0ZSB0aGlzCiAgICogcmFjZSBjb25kaXRpb24gaXMgdG8gZmlyc3QgcmVkdWNlIHRoZSBzcGVuZGVyJ3MgYWxsb3dhbmNlIHRvIDAgYW5kIHNldCB0aGUgZGVzaXJlZCB2YWx1ZSBhZnRlcndhcmRzOgogICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmeWluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICAvKioKICAgKiBAZGV2IEluY3JlYXNlIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICoKICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKICAgKiBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbAogICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX2FkZGVkVmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gaW5jcmVhc2UgdGhlIGFsbG93YW5jZSBieS4KICAgKi8KICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IERlY3JlYXNlIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICoKICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBkZWNyZW1lbnQKICAgKiBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbAogICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3N1YnRyYWN0ZWRWYWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBkZWNyZWFzZSB0aGUgYWxsb3dhbmNlIGJ5LgogICAqLwogIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICB9IGVsc2UgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgIH0KICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cgp9CgoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKCi8qKgogKiBAdGl0bGUgQ2xhaW1hYmxlCiAqIEBkZXYgRXh0ZW5zaW9uIGZvciB0aGUgT3duYWJsZSBjb250cmFjdCwgd2hlcmUgdGhlIG93bmVyc2hpcCBuZWVkcyB0byBiZSBjbGFpbWVkLgogKiBUaGlzIGFsbG93cyB0aGUgbmV3IG93bmVyIHRvIGFjY2VwdCB0aGUgdHJhbnNmZXIuCiAqLwpjb250cmFjdCBDbGFpbWFibGUgaXMgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgcGVuZGluZ093bmVyOwoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgcGVuZGluZ093bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlQZW5kaW5nT3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gcGVuZGluZ093bmVyKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byBzZXQgdGhlIHBlbmRpbmdPd25lciBhZGRyZXNzLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICBwZW5kaW5nT3duZXIgPSBuZXdPd25lcjsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBwZW5kaW5nT3duZXIgYWRkcmVzcyB0byBmaW5hbGl6ZSB0aGUgdHJhbnNmZXIuCiAgICovCiAgZnVuY3Rpb24gY2xhaW1Pd25lcnNoaXAoKSBvbmx5UGVuZGluZ093bmVyIHB1YmxpYyB7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgcGVuZGluZ093bmVyKTsKICAgIG93bmVyID0gcGVuZGluZ093bmVyOwogICAgcGVuZGluZ093bmVyID0gYWRkcmVzcygwKTsKICB9Cn0KCgoKLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KLyogKioqKioqKioqKiBYbW9uZXRhIFRva2VuICoqKioqKioqKiogKi8KLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KCgoKLyoqCiAqIEB0aXRsZSBYbW9uZXRhVG9rZW4KICogQGF1dGhvciBYbW9uZXRhLmNvbQogKgogKiBFUkMyMCBDb21wYXRpYmxlIHRva2VuCiAqIFplcHBlbGluIFNvbGlkaXR5IC0gdjEuNS4wCiAqLwoKY29udHJhY3QgWG1vbmV0YVRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIENsYWltYWJsZSB7CgogIC8qICoqKioqKioqKiogVG9rZW4gUHJlZGVmaW5lZCBJbmZvcm1hdGlvbiAqKioqKioqKioqICovCgogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJYbW9uZXRhIFRva2VuIjsKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJYTU4iOwogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CgogIC8qICoqKioqKioqKiogRGVmaW5lZCBWYXJpYWJsZXMgKioqKioqKioqKiAqLwoKICAvLyBUb3RhbCB0b2tlbnMgc3VwcGx5IDEgMDAwIDAwMCAwMDAKICAvLyBGb3IgZXRoZXJldW0gd2FsbGV0cyB3ZSBhZGRlZCBkZWNpbWFscyBjb25zdGFudAogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IElOSVRJQUxfU1VQUExZID0gMTAwMDAwMDAwMCAqICgxMCAqKiBkZWNpbWFscyk7CiAgLy8gVmF1bHQgd2hlcmUgdG9rZW5zIGFyZSBzdG9yZWQKICBhZGRyZXNzIHB1YmxpYyB2YXVsdCA9IG1zZy5zZW5kZXI7CiAgLy8gU2FsZXMgYWdlbnQgd2hvIGhhcyBwZXJtaXNzaW9ucyB0byBtYW5pcHVsYXRlIHdpdGggdG9rZW5zCiAgYWRkcmVzcyBwdWJsaWMgc2FsZXNBZ2VudDsKCiAgLyogKioqKioqKioqKiBFdmVudHMgKioqKioqKioqKiAqLwoKICBldmVudCBTYWxlc0FnZW50QXBwb2ludGVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c1NhbGVzQWdlbnQsIGFkZHJlc3MgaW5kZXhlZCBuZXdTYWxlc0FnZW50KTsKICBldmVudCBTYWxlc0FnZW50UmVtb3ZlZChhZGRyZXNzIGluZGV4ZWQgY3VycmVudFNhbGVzQWdlbnQpOwogIGV2ZW50IEJ1cm4odWludDI1NiB2YWx1ZVRvQnVybik7CgogIC8qICoqKioqKioqKiogRnVuY3Rpb25zICoqKioqKioqKiogKi8KCiAgLy8gQ29udHJhY3QgY29uc3RydWN0b3IKICBmdW5jdGlvbiBYbW9uZXRhVG9rZW4oKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgdG90YWxTdXBwbHkgPSBJTklUSUFMX1NVUFBMWTsKICAgIGJhbGFuY2VzW3ZhdWx0XSA9IHRvdGFsU3VwcGx5OwogIH0KCiAgLy8gQXBwb2ludCBzYWxlcyBhZ2VudCBvZiB0b2tlbgogIGZ1bmN0aW9uIHNldFNhbGVzQWdlbnQoYWRkcmVzcyBuZXdTYWxlc0FnZW50KSBvbmx5T3duZXIgcHVibGljIHsKICAgIFNhbGVzQWdlbnRBcHBvaW50ZWQoc2FsZXNBZ2VudCwgbmV3U2FsZXNBZ2VudCk7CiAgICBzYWxlc0FnZW50ID0gbmV3U2FsZXNBZ2VudDsKICB9CgogIC8vIFJlbW92ZSBzYWxlcyBhZ2VudCBmcm9tIHRva2VuCiAgZnVuY3Rpb24gcmVtb3ZlU2FsZXNBZ2VudCgpIG9ubHlPd25lciBwdWJsaWMgewogICAgU2FsZXNBZ2VudFJlbW92ZWQoc2FsZXNBZ2VudCk7CiAgICBzYWxlc0FnZW50ID0gYWRkcmVzcygwKTsKICB9CgogIC8vIFRyYW5zZmVyIHRva2VucyBmcm9tIHZhdWx0IHRvIGFjY291bnQgaWYgc2FsZXMgYWdlbnQgaXMgY29ycmVjdAogIGZ1bmN0aW9uIHRyYW5zZmVyVG9rZW5zRnJvbVZhdWx0KGFkZHJlc3MgZnJvbUFkZHJlc3MsIGFkZHJlc3MgdG9BZGRyZXNzLCB1aW50MjU2IHRva2Vuc0Ftb3VudCkgcHVibGljIHsKICAgIHJlcXVpcmUoc2FsZXNBZ2VudCA9PSBtc2cuc2VuZGVyKTsKICAgIGJhbGFuY2VzW3ZhdWx0XSA9IGJhbGFuY2VzW3ZhdWx0XS5zdWIodG9rZW5zQW1vdW50KTsKICAgIGJhbGFuY2VzW3RvQWRkcmVzc10gPSBiYWxhbmNlc1t0b0FkZHJlc3NdLmFkZCh0b2tlbnNBbW91bnQpOwogICAgVHJhbnNmZXIoZnJvbUFkZHJlc3MsIHRvQWRkcmVzcywgdG9rZW5zQW1vdW50KTsKICB9CgogIC8vIEFsbG93IHRoZSBvd25lciB0byBidXJuIGEgc3BlY2lmaWMgYW1vdW50IG9mIHRva2VucyBmcm9tIHRoZSB2YXVsdAogIGZ1bmN0aW9uIGJ1cm4odWludDI1NiB2YWx1ZVRvQnVybikgb25seU93bmVyIHB1YmxpYyB7CiAgICByZXF1aXJlKHZhbHVlVG9CdXJuID4gMCk7CiAgICBiYWxhbmNlc1t2YXVsdF0gPSBiYWxhbmNlc1t2YXVsdF0uc3ViKHZhbHVlVG9CdXJuKTsKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKHZhbHVlVG9CdXJuKTsKICAgIEJ1cm4odmFsdWVUb0J1cm4pOwogIH0KCn0KCgoKLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KLyogKioqKioqKioqKiBYbW9uZXRhIFByZS1zYWxlICoqKioqKioqKiogKi8KLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KCgoKLyoqCiAqIEB0aXRsZSBYbW9uZXRhUHJlc2FsZQogKiBAYXV0aG9yIFhtb25ldGEuY29tCiAqCiAqIFplcHBlbGluIFNvbGlkaXR5IC0gdjEuNS4wCiAqLwoKY29udHJhY3QgWG1vbmV0YVByZXNhbGUgewoKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgLyogKioqKioqKioqKiBEZWZpbmVkIFZhcmlhYmxlcyAqKioqKioqKioqICovCgogIC8vIFRoZSB0b2tlbiBiZWluZyBzb2xkCiAgWG1vbmV0YVRva2VuIHB1YmxpYyB0b2tlbjsKICAvLyBDcm93ZHNhbGUgc3RhcnQgdGltZXN0YW1wIC0gMDEvMjUvMjAxOCBhdCAxMjowMHBtIChVVEMpCiAgdWludDI1NiBwdWJsaWMgc3RhcnRUaW1lID0gMTUxNjg4MTYwMDsKICAvLyBDcm93ZHNhbGUgZW5kIHRpbWVzdGFtcCAtIDAyLzE1LzIwMTggYXQgMTI6MDBwbSAoVVRDKQogIHVpbnQyNTYgcHVibGljIGVuZFRpbWUgPSAxNTE4Njk2MDAwOwogIC8vIEFkZHJlc3NlcyB3aGVyZSBFVEggYXJlIGNvbGxlY3RlZAogIGFkZHJlc3MgcHVibGljIHdhbGxldDEgPSAweDM2QTNjMDAwZjhhM2RDMzdGQ0QyNjFEMTg0NGVmQUY4NTFGODE1NTY7CiAgYWRkcmVzcyBwdWJsaWMgd2FsbGV0MiA9IDB4OGJlREJFNDVBYTM0NTkzOGQ3MDM4OEUzODFFMkI2MTk5QTE1QjNDMzsKICAvLyBIb3cgbWFueSB0b2tlbiBwZXIgd2VpCiAgdWludDI1NiBwdWJsaWMgcmF0ZSA9IDIwMDA7CiAgLy8gQ2FwIGluIGV0aGVycwogIHVpbnQyNTYgcHVibGljIGNhcCA9IDE2MDAwICogMSBldGhlcjsKICAvLyBBbW91bnQgb2YgcmFpc2VkIHdlaQogIHVpbnQyNTYgcHVibGljIHdlaVJhaXNlZDsKCiAgLyogKioqKioqKioqKiBFdmVudHMgKioqKioqKioqKiAqLwoKICBldmVudCBUb2tlblB1cmNoYXNlKGFkZHJlc3MgaW5kZXhlZCBwdXJjaGFzZXIsIGFkZHJlc3MgaW5kZXhlZCBiZW5lZmljaWFyeSwgdWludDI1NiB3ZWlBbW91bnQsIHVpbnQyNTYgdG9rZW5zKTsKCiAgLyogKioqKioqKioqKiBGdW5jdGlvbnMgKioqKioqKioqKiAqLwoKICAvLyBDb250cmFjdCBjb25zdHJ1Y3RvcgogIGZ1bmN0aW9uIFhtb25ldGFQcmVzYWxlKCkgcHVibGljIHsKICAgIHRva2VuID0gWG1vbmV0YVRva2VuKDB4OTk3MDVBOEI2MGQwZkUyMUE0QjhlZTU0REIzNjFCM0M1NzNEMThiYik7CiAgfQoKICAvLyBGYWxsYmFjayBmdW5jdGlvbiB0byBidXkgdG9rZW5zCiAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewogICAgYnV5VG9rZW5zKG1zZy5zZW5kZXIpOwogIH0KCiAgLy8gVG9rZW4gcHVyY2hhc2UgZnVuY3Rpb24KICBmdW5jdGlvbiBidXlUb2tlbnMoYWRkcmVzcyBiZW5lZmljaWFyeSkgcHVibGljIHBheWFibGUgewogICAgcmVxdWlyZSh2YWxpZFB1cmNoYXNlKCkpOwoKICAgIHVpbnQyNTYgd2VpQW1vdW50ID0gbXNnLnZhbHVlOwoKICAgIC8vIFNlbmQgc3BhcmUgd2VpIGJhY2sgaWYgaW52ZXN0b3Igc2VudCBtb3JlIHRoYXQgY2FwCiAgICB1aW50MjU2IHRlbXBXZWlSYWlzZWQgPSB3ZWlSYWlzZWQuYWRkKHdlaUFtb3VudCk7CiAgICBpZiAodGVtcFdlaVJhaXNlZCA+IGNhcCkgewogICAgICB1aW50MjU2IHNwYXJlV2VpcyA9IHRlbXBXZWlSYWlzZWQuc3ViKGNhcCk7CiAgICAgIHdlaUFtb3VudCA9IHdlaUFtb3VudC5zdWIoc3BhcmVXZWlzKTsKICAgICAgYmVuZWZpY2lhcnkudHJhbnNmZXIoc3BhcmVXZWlzKTsKICAgIH0KCiAgICAvLyBDdXJyZW50IHByZS1zYWxlIGJvbnVzIGlzIDMwJQogICAgdWludDI1NiBib251c1BlcmNlbnQgPSAzMDsKCiAgICAvLyBJZiBidXllciBzZW5kIDUgb3IgbW9yZSBldGhlcnMgdGhlbiBib251cyB3aWxsIGJlIDUwJQogICAgaWYgKHdlaUFtb3VudCA+PSA1IGV0aGVyKSB7CiAgICAgIGJvbnVzUGVyY2VudCA9IDUwOwogICAgfQoKICAgIHVpbnQyNTYgYWRkaXRpb25hbFBlcmNlbnRJbldlaSA9IHJhdGUuZGl2KDEwMCkubXVsKGJvbnVzUGVyY2VudCk7CiAgICB1aW50MjU2IHJhdGVXaXRoUGVyY2VudHMgPSByYXRlLmFkZChhZGRpdGlvbmFsUGVyY2VudEluV2VpKTsKCiAgICAvLyBDYWxjdWxhdGUgdG9rZW4gYW1vdW50IHRvIGJlIHNvbGQKICAgIHVpbnQyNTYgdG9rZW5zID0gd2VpQW1vdW50Lm11bChyYXRlV2l0aFBlcmNlbnRzKTsKCiAgICAvLyBVcGRhdGUgc3RhdGUKICAgIHdlaVJhaXNlZCA9IHdlaVJhaXNlZC5hZGQod2VpQW1vdW50KTsKCiAgICAvLyBUcmFuZmVyIHRva2VucyBmcm9tIHZhdWx0CiAgICB0b2tlbi50cmFuc2ZlclRva2Vuc0Zyb21WYXVsdChtc2cuc2VuZGVyLCBiZW5lZmljaWFyeSwgdG9rZW5zKTsKICAgIFRva2VuUHVyY2hhc2UobXNnLnNlbmRlciwgYmVuZWZpY2lhcnksIHdlaUFtb3VudCwgdG9rZW5zKTsKCiAgICBmb3J3YXJkRnVuZHMod2VpQW1vdW50KTsKICB9CgogIC8vIFNlbmQgd2VpIHRvIHRoZSBmdW5kIGNvbGxlY3Rpb24gd2FsbGV0cwogIGZ1bmN0aW9uIGZvcndhcmRGdW5kcyh1aW50MjU2IHdlaUFtb3VudCkgaW50ZXJuYWwgewogICAgdWludDI1NiB2YWx1ZSA9IHdlaUFtb3VudC5kaXYoMik7CgogICAgLy8gSWYgYnV5ZXIgc2VuZCBhbW91bnQgb2Ygd2VpIHRoYXQgY2FuIG5vdCBiZSBkaXZpZGVkIHRvIDIgd2l0aG91dCBmbG9hdCBwb2ludCwgc2VuZCBhbGwgd2VpcyB0byBmaXJzdCB3YWxsZXQKICAgIGlmICh2YWx1ZS5tdWwoMikgIT0gd2VpQW1vdW50KSB7CiAgICAgIHdhbGxldDEudHJhbnNmZXIod2VpQW1vdW50KTsKICAgIH0gZWxzZSB7CiAgICAgIHdhbGxldDEudHJhbnNmZXIodmFsdWUpOwogICAgICB3YWxsZXQyLnRyYW5zZmVyKHZhbHVlKTsKICAgIH0KICB9CgogIC8vIFZhbGlkYXRlIGlmIHRoZSB0cmFuc2FjdGlvbiBjYW4gYmUgc3VjY2VzcwogIGZ1bmN0aW9uIHZhbGlkUHVyY2hhc2UoKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICBib29sIHdpdGhpbkNhcCA9IHdlaVJhaXNlZCA8IGNhcDsKICAgIGJvb2wgd2l0aGluUGVyaW9kID0gbm93ID49IHN0YXJ0VGltZSAmJiBub3cgPD0gZW5kVGltZTsKICAgIGJvb2wgbm9uWmVyb1B1cmNoYXNlID0gbXNnLnZhbHVlICE9IDA7CiAgICByZXR1cm4gd2l0aGluUGVyaW9kICYmIG5vblplcm9QdXJjaGFzZSAmJiB3aXRoaW5DYXA7CiAgfQoKICAvLyBTaG93IGlmIGNyb3dkc2FsZSBoYXMgZW5kZWQgb3Igbm8KICBmdW5jdGlvbiBoYXNFbmRlZCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gbm93ID4gZW5kVGltZSB8fCB3ZWlSYWlzZWQgPj0gY2FwOwogIH0KCn0='.
	

]
