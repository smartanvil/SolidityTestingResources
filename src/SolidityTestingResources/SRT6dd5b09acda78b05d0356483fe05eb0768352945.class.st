Class {
	#name : #SRT6dd5b09acda78b05d0356483fe05eb0768352945,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT6dd5b09acda78b05d0356483fe05eb0768352945 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgoKLyoqCiAqIE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiID4gMCk7CiAgICB1aW50IGMgPSBhIC8gYjsKICAgIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgYXNzZXJ0aW9uKSBpbnRlcm5hbCB7CiAgICBpZiAoIWFzc2VydGlvbikgewogICAgICByZXZlcnQoKTsKICAgIH0KICB9Cn0KCi8qCiAqIEVSQzIwQmFzaWMKICogU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwp9CgovKgogKiBFUkMyMCBpbnRlcmZhY2UKICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludCk7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwp9CgovKgogKiBCYXNpYyB0b2tlbgogKiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcwogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwoKICAvKgogICAqIEZpeCBmb3IgdGhlIEVSQzIwIHNob3J0IGFkZHJlc3MgYXR0YWNrCiAgICovCiAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgc2l6ZSkgewogICAgIGlmKG1zZy5kYXRhLmxlbmd0aCA8IHNpemUgKyA0KSB7CiAgICAgICByZXZlcnQoKTsKICAgICB9CiAgICAgXzsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seVBheWxvYWRTaXplKDIgKiAzMikgewogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCi8qKgogKiBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICogQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOgogKiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgQmFzaWNUb2tlbiwgRVJDMjAgewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIGFsbG93ZWQ7CgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSByZXZlcnQoKSBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAvLyBpZiAoX3ZhbHVlID4gX2FsbG93YW5jZSkgcmV2ZXJ0KCk7CgogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KfQoKY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgewogICAgICByZXZlcnQoKTsKICAgIH0KICAgIF87CiAgfQp9CgoKY29udHJhY3QgUkJJbmZvcm1hdGlvblN0b3JlIGlzIE93bmFibGUgewogICAgYWRkcmVzcyBwdWJsaWMgcHJvZml0Q29udGFpbmVyQWRkcmVzczsKICAgIGFkZHJlc3MgcHVibGljIGNvbXBhbnlXYWxsZXRBZGRyZXNzOwogICAgdWludCBwdWJsaWMgZXRoZXJSYXRpb0Zvck93bmVyOwogICAgYWRkcmVzcyBwdWJsaWMgbXVsdGlTaWdBZGRyZXNzOwogICAgYWRkcmVzcyBwdWJsaWMgYWNjb3VudEFkZHJlc3NGb3JTcG9uc2VlOwogICAgYm9vbCBwdWJsaWMgaXNQYXlhYmxlRW5hYmxlZEZvckFsbCA9IHRydWU7CgogICAgbW9kaWZpZXIgb25seU11bHRpU2lnKCkgewogICAgICAgIHJlcXVpcmUobXVsdGlTaWdBZGRyZXNzID09IG1zZy5zZW5kZXIpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gUkJJbmZvcm1hdGlvblN0b3JlCiAgICAoCiAgICAgICAgYWRkcmVzcyBfcHJvZml0Q29udGFpbmVyQWRkcmVzcywKICAgICAgICBhZGRyZXNzIF9jb21wYW55V2FsbGV0QWRkcmVzcywKICAgICAgICB1aW50IF9ldGhlclJhdGlvRm9yT3duZXIsCiAgICAgICAgYWRkcmVzcyBfbXVsdGlTaWdBZGRyZXNzLAogICAgICAgIGFkZHJlc3MgX2FjY291bnRBZGRyZXNzRm9yU3BvbnNlZQogICAgKSB7CiAgICAgICAgcHJvZml0Q29udGFpbmVyQWRkcmVzcyA9IF9wcm9maXRDb250YWluZXJBZGRyZXNzOwogICAgICAgIGNvbXBhbnlXYWxsZXRBZGRyZXNzID0gX2NvbXBhbnlXYWxsZXRBZGRyZXNzOwogICAgICAgIGV0aGVyUmF0aW9Gb3JPd25lciA9IF9ldGhlclJhdGlvRm9yT3duZXI7CiAgICAgICAgbXVsdGlTaWdBZGRyZXNzID0gX211bHRpU2lnQWRkcmVzczsKICAgICAgICBhY2NvdW50QWRkcmVzc0ZvclNwb25zZWUgPSBfYWNjb3VudEFkZHJlc3NGb3JTcG9uc2VlOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoYW5nZVByb2ZpdENvbnRhaW5lckFkZHJlc3MoYWRkcmVzcyBfYWRkcmVzcykgb25seU11bHRpU2lnIHsKICAgICAgICBwcm9maXRDb250YWluZXJBZGRyZXNzID0gX2FkZHJlc3M7CiAgICB9CgogICAgZnVuY3Rpb24gY2hhbmdlQ29tcGFueVdhbGxldEFkZHJlc3MoYWRkcmVzcyBfYWRkcmVzcykgb25seU11bHRpU2lnIHsKICAgICAgICBjb21wYW55V2FsbGV0QWRkcmVzcyA9IF9hZGRyZXNzOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoYW5nZUV0aGVyUmF0aW9Gb3JPd25lcih1aW50IF92YWx1ZSkgb25seU11bHRpU2lnIHsKICAgICAgICBldGhlclJhdGlvRm9yT3duZXIgPSBfdmFsdWU7CiAgICB9CgogICAgZnVuY3Rpb24gY2hhbmdlTXVsdGlTaWdBZGRyZXNzKGFkZHJlc3MgX2FkZHJlc3MpIG9ubHlNdWx0aVNpZyB7CiAgICAgICAgbXVsdGlTaWdBZGRyZXNzID0gX2FkZHJlc3M7CiAgICB9CgogICAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfYWRkcmVzcykgb25seU11bHRpU2lnIHsKICAgICAgICBvd25lciA9IF9hZGRyZXNzOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoYW5nZUFjY291bnRBZGRyZXNzRm9yU3BvbnNlZShhZGRyZXNzIF9hZGRyZXNzKSBvbmx5TXVsdGlTaWcgewogICAgICAgIGFjY291bnRBZGRyZXNzRm9yU3BvbnNlZSA9IF9hZGRyZXNzOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoYW5nZUlzUGF5YWJsZUVuYWJsZWRGb3JBbGwoKSBvbmx5TXVsdGlTaWcgewogICAgICAgIGlzUGF5YWJsZUVuYWJsZWRGb3JBbGwgPSAhaXNQYXlhYmxlRW5hYmxlZEZvckFsbDsKICAgIH0KfQoKCmNvbnRyYWN0IFJhdGUgewogICAgdWludCBwdWJsaWMgRVRIX1VTRF9yYXRlOwogICAgUkJJbmZvcm1hdGlvblN0b3JlIHB1YmxpYyByYkluZm9ybWF0aW9uU3RvcmU7CgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSByYkluZm9ybWF0aW9uU3RvcmUub3duZXIoKSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBSYXRlKHVpbnQgX3JhdGUsIGFkZHJlc3MgX2FkZHJlc3MpIHsKICAgICAgICBFVEhfVVNEX3JhdGUgPSBfcmF0ZTsKICAgICAgICByYkluZm9ybWF0aW9uU3RvcmUgPSBSQkluZm9ybWF0aW9uU3RvcmUoX2FkZHJlc3MpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFJhdGUodWludCBfcmF0ZSkgb25seU93bmVyIHsKICAgICAgICBFVEhfVVNEX3JhdGUgPSBfcmF0ZTsKICAgIH0KfQoKLyoqCkB0aXRsZSBTcG9uc2VlVG9rZW5Nb2RlbFNvbGFDb2luCiovCmNvbnRyYWN0IFNwb25zZWVUb2tlbk1vZGVsU29sYUNvaW4gaXMgU3RhbmRhcmRUb2tlbiB7CgogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIlNPTEEgQ09JTiI7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJTTEMiOwogICAgdWludDggcHVibGljIGRlY2ltYWxzID0gMTg7CiAgICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseSA9IDUwMDAwMDAwMCAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSk7CiAgICB1aW50IHB1YmxpYyBjYXAgPSAxMDAwMDAwMDAwICogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKTsgLy8gbWF4aW11bSBjYXAgPSAxMCAwMDAgMDAwICQgPSAxIDAwMCAwMDAgMDAwIHRva2VucwogICAgdWludCBwdWJsaWMgbWluaW11bVN1cHBvcnQgPSA1MDA7IC8vIG1pbmltdW0gc3VwcG9ydCBpcyA1JAogICAgdWludCBwdWJsaWMgZXRoZXJSYXRpb0ZvckludmVzdG9yID0gMTA7IC8vIGV0aGVyUmF0aW8gKDEwJSkgdG8gc2VuZCBldGhlciB0byBpbnZlc3RvcgogICAgYWRkcmVzcyBwdWJsaWMgc3BvbnNlZUFkZHJlc3M7CiAgICBib29sIHB1YmxpYyBpc1BheWFibGVFbmFibGVkID0gdHJ1ZTsKICAgIFJCSW5mb3JtYXRpb25TdG9yZSBwdWJsaWMgcmJJbmZvcm1hdGlvblN0b3JlOwogICAgUmF0ZSBwdWJsaWMgcmF0ZTsKCiAgICBldmVudCBMb2dSZWNlaXZlZEV0aGVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgZXRoZXJWYWx1ZSwgc3RyaW5nIHRva2VuTmFtZSk7CiAgICBldmVudCBMb2dCdXkoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCBpbmRleGVkIHZhbHVlLCB1aW50IHBheW1lbnRJZCk7CiAgICBldmVudCBMb2dSb2xsYmFja1RyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwogICAgZXZlbnQgTG9nRXhjaGFuZ2UoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0b2tlbiwgdWludCB2YWx1ZSk7CiAgICBldmVudCBMb2dJbmNyZWFzZUNhcCh1aW50IHZhbHVlKTsKICAgIGV2ZW50IExvZ0RlY3JlYXNlQ2FwKHVpbnQgdmFsdWUpOwogICAgZXZlbnQgTG9nU2V0UkJJbmZvcm1hdGlvblN0b3JlQWRkcmVzcyhhZGRyZXNzIGluZGV4ZWQgdG8pOwogICAgZXZlbnQgTG9nU2V0TmFtZShzdHJpbmcgbmFtZSk7CiAgICBldmVudCBMb2dTZXRTeW1ib2woc3RyaW5nIHN5bWJvbCk7CiAgICBldmVudCBMb2dNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7CiAgICBldmVudCBMb2dDaGFuZ2VTcG9uc2VlQWRkcmVzcyhhZGRyZXNzIGluZGV4ZWQgdG8pOwogICAgZXZlbnQgTG9nQ2hhbmdlSXNQYXlhYmxlRW5hYmxlZChib29sIGZsYWcpOwoKICAgIG1vZGlmaWVyIG9ubHlBY2NvdW50QWRkcmVzc0ZvclNwb25zZWUoKSB7CiAgICAgICAgcmVxdWlyZShyYkluZm9ybWF0aW9uU3RvcmUuYWNjb3VudEFkZHJlc3NGb3JTcG9uc2VlKCkgPT0gbXNnLnNlbmRlcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5TXVsdGlTaWcoKSB7CiAgICAgICAgcmVxdWlyZShyYkluZm9ybWF0aW9uU3RvcmUubXVsdGlTaWdBZGRyZXNzKCkgPT0gbXNnLnNlbmRlcik7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLyBjb25zdHJ1Y3RvcgogICAgZnVuY3Rpb24gU3BvbnNlZVRva2VuTW9kZWxTb2xhQ29pbigKICAgICAgICBhZGRyZXNzIF9yYkluZm9ybWF0aW9uU3RvcmVBZGRyZXNzLAogICAgICAgIGFkZHJlc3MgX3JhdGVBZGRyZXNzLAogICAgICAgIGFkZHJlc3MgX3Nwb25zZWUsCiAgICAgICAgYWRkcmVzcyBfdG8KICAgICkgewogICAgICAgIHJiSW5mb3JtYXRpb25TdG9yZSA9IFJCSW5mb3JtYXRpb25TdG9yZShfcmJJbmZvcm1hdGlvblN0b3JlQWRkcmVzcyk7CiAgICAgICAgcmF0ZSA9IFJhdGUoX3JhdGVBZGRyZXNzKTsKICAgICAgICBzcG9uc2VlQWRkcmVzcyA9IF9zcG9uc2VlOwogICAgICAgIGJhbGFuY2VzW190b10gPSB0b3RhbFN1cHBseTsKICAgIH0KCiAgICAvKioKICAgIEBub3RpY2UgUmVjZWl2ZSBldGhlciBmcm9tIGFueSBFT0EgYWNjb3VudHMuIEFtb3VudCBvZiBldGhlciByZWNlaXZlZCBpbiB0aGlzIGZ1bmN0aW9uIGlzIGRpc3RyaWJ1dGVkIHRvIDMgcGFydHMuCiAgICBPbmUgaXMgYSBwcm9maXRDb250YWluZXJBZGRyZXNzIHdoaWNoIGlzIGFkZHJlc3Mgb2YgY29udGFpbmVyV2FsbGV0IHRvIGRpdmlkZW5kIHRvIGludmVzdG9yIG9mIEJvb3N0IHRva2VuLgogICAgQW5vdGhlciBpcyBhbiBvd25lckFkZHJlc3Mgd2hpY2ggaXMgYWRkcmVzcyBvZiBvd25lciBvZiBSRUFMQk9PU1Qgc2l0ZS4KICAgIFRoZSBvdGhlciBpcyBhbiBzcG9uc2VlQWRkcmVzcyB3aGljaCBpcyBhZGRyZXNzIG9mIG93bmVyIG9mIHRoaXMgY29udHJhY3QuCiAgICAqLwogICAgZnVuY3Rpb24oKSBwYXlhYmxlIHsKCiAgICAgICAgLy8gY2hlY2sgY29uZGl0aW9uCiAgICAgICAgcmVxdWlyZShpc1BheWFibGVFbmFibGVkICYmIHJiSW5mb3JtYXRpb25TdG9yZS5pc1BheWFibGVFbmFibGVkRm9yQWxsKCkpOwoKICAgICAgICAvLyBjaGVjayB2YWxpZGF0aW9uCiAgICAgICAgaWYgKG1zZy52YWx1ZSA8PSAwKSB7IHJldmVydCgpOyB9CgogICAgICAgIC8vIGNhbGN1bGF0ZSBzdXBwb3J0IGFtb3VudCBpbiBVU0QKICAgICAgICB1aW50IHN1cHBvcnRlZEFtb3VudCA9IG1zZy52YWx1ZS5tdWwocmF0ZS5FVEhfVVNEX3JhdGUoKSkuZGl2KDEwKioxOCk7CiAgICAgICAgLy8gaWYgc3VwcG9ydCBpcyBsZXNzIHRoYW4gbWluaW11bSA9PiByZXR1cm4gbW9uZXkgdG8gc3VwcG9ydGVyCiAgICAgICAgaWYgKHN1cHBvcnRlZEFtb3VudCA8IG1pbmltdW1TdXBwb3J0KSB7IHJldmVydCgpOyB9CgogICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgcmF0aW8gb2YgRXRoZXIgZm9yIGRpc3RyaWJ1dGlvbgogICAgICAgIHVpbnQgZXRoZXJSYXRpb0Zvck93bmVyID0gcmJJbmZvcm1hdGlvblN0b3JlLmV0aGVyUmF0aW9Gb3JPd25lcigpOwogICAgICAgIHVpbnQgZXRoZXJSYXRpb0ZvclNwb25zZWUgPSB1aW50KDEwMCkuc3ViKGV0aGVyUmF0aW9Gb3JPd25lcikuc3ViKGV0aGVyUmF0aW9Gb3JJbnZlc3Rvcik7CgogICAgICAgIC8qIGRpdmlkZSBFdGhlciAqLwogICAgICAgIC8vIGNhbGN1bGF0ZQogICAgICAgIHVpbnQgZXRoZXJGb3JPd25lciA9IG1zZy52YWx1ZS5tdWwoZXRoZXJSYXRpb0Zvck93bmVyKS5kaXYoMTAwKTsKICAgICAgICB1aW50IGV0aGVyRm9ySW52ZXN0b3IgPSBtc2cudmFsdWUubXVsKGV0aGVyUmF0aW9Gb3JJbnZlc3RvcikuZGl2KDEwMCk7CiAgICAgICAgdWludCBldGhlckZvclNwb25zZWUgPSBtc2cudmFsdWUubXVsKGV0aGVyUmF0aW9Gb3JTcG9uc2VlKS5kaXYoMTAwKTsKCiAgICAgICAgLy8gZ2V0IGFkZHJlc3MKICAgICAgICBhZGRyZXNzIHByb2ZpdENvbnRhaW5lckFkZHJlc3MgPSByYkluZm9ybWF0aW9uU3RvcmUucHJvZml0Q29udGFpbmVyQWRkcmVzcygpOwogICAgICAgIGFkZHJlc3MgY29tcGFueVdhbGxldEFkZHJlc3MgPSByYkluZm9ybWF0aW9uU3RvcmUuY29tcGFueVdhbGxldEFkZHJlc3MoKTsKCiAgICAgICAgLy8gc2VuZCBFdGhlcgogICAgICAgIGlmICghcHJvZml0Q29udGFpbmVyQWRkcmVzcy5zZW5kKGV0aGVyRm9ySW52ZXN0b3IpKSB7IHJldmVydCgpOyB9CiAgICAgICAgaWYgKCFjb21wYW55V2FsbGV0QWRkcmVzcy5zZW5kKGV0aGVyRm9yT3duZXIpKSB7IHJldmVydCgpOyB9CiAgICAgICAgaWYgKCFzcG9uc2VlQWRkcmVzcy5zZW5kKGV0aGVyRm9yU3BvbnNlZSkpIHsgcmV2ZXJ0KCk7IH0KCiAgICAgICAgLy8gdG9rZW4gYW1vdW50IGlzIHRyYW5zZmVyZWQgdG8gc2VuZGVyCiAgICAgICAgLy8gMS4wIHRva2VuID0gMSBjZW50LCAxIHVzZCA9IDEwMCBjZW50cwogICAgICAgIC8vIHdlaSAqIFVTJC8oMTAgKiogMTggd2VpKSAqIDEwMCBjZW50L1VTJCAqICgxMCAqKiAxOChkZWNpbWFscykpCiAgICAgICAgdWludCB0b2tlbkFtb3VudCA9IG1zZy52YWx1ZS5tdWwocmF0ZS5FVEhfVVNEX3JhdGUoKSk7CgogICAgICAgIC8vIGFkZCB0b2tlbnMKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLmFkZCh0b2tlbkFtb3VudCk7CgogICAgICAgIC8vIGluY3JlYXNlIHRvdGFsIHN1cHBseQogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKHRva2VuQW1vdW50KTsKCiAgICAgICAgLy8gY2hlY2sgY2FwCiAgICAgICAgaWYgKHRvdGFsU3VwcGx5ID4gY2FwKSB7IHJldmVydCgpOyB9CgogICAgICAgIC8vIHNlbmQgRXZlbnQKICAgICAgICBMb2dSZWNlaXZlZEV0aGVyKG1zZy5zZW5kZXIsIHRoaXMsIG1zZy52YWx1ZSwgbmFtZSk7CiAgICAgICAgTG9nRXhjaGFuZ2UobXNnLnNlbmRlciwgdGhpcywgdG9rZW5BbW91bnQpOwogICAgICAgIFRyYW5zZmVyKGFkZHJlc3MoMHgwKSwgbXNnLnNlbmRlciwgdG9rZW5BbW91bnQpOwogICAgfQoKICAgIC8qKgogICAgQG5vdGljZSBDaGFuZ2UgcmJJbmZvcm1hdGlvblN0b3JlQWRkcmVzcy4KICAgIEBwYXJhbSBfYWRkcmVzcyBUaGUgYWRkcmVzcyBvZiBuZXcgcmJJbmZvcm1hdGlvblN0b3JlCiAgICAqLwogICAgZnVuY3Rpb24gc2V0UkJJbmZvcm1hdGlvblN0b3JlQWRkcmVzcyhhZGRyZXNzIF9hZGRyZXNzKSBvbmx5TXVsdGlTaWcgewoKICAgICAgICByYkluZm9ybWF0aW9uU3RvcmUgPSBSQkluZm9ybWF0aW9uU3RvcmUoX2FkZHJlc3MpOwoKICAgICAgICAvLyBzZW5kIEV2ZW50CiAgICAgICAgTG9nU2V0UkJJbmZvcm1hdGlvblN0b3JlQWRkcmVzcyhfYWRkcmVzcyk7CiAgICB9CgogICAgLyoqCiAgICBAbm90aWNlIENoYW5nZSBuYW1lLgogICAgQHBhcmFtIF9uYW1lIFRoZSBuZXcgbmFtZSBvZiB0b2tlbgogICAgKi8KICAgIGZ1bmN0aW9uIHNldE5hbWUoc3RyaW5nIF9uYW1lKSBvbmx5QWNjb3VudEFkZHJlc3NGb3JTcG9uc2VlIHsKCiAgICAgICAgbmFtZSA9IF9uYW1lOwoKICAgICAgICAvLyBzZW5kIEV2ZW50CiAgICAgICAgTG9nU2V0TmFtZShfbmFtZSk7CiAgICB9CgogICAgLyoqCiAgICBAbm90aWNlIENoYW5nZSBzeW1ib2wuCiAgICBAcGFyYW0gX3N5bWJvbCBUaGUgbmV3IHN5bWJvbCBvZiB0b2tlbgogICAgKi8KICAgIGZ1bmN0aW9uIHNldFN5bWJvbChzdHJpbmcgX3N5bWJvbCkgb25seUFjY291bnRBZGRyZXNzRm9yU3BvbnNlZSB7CgogICAgICAgIHN5bWJvbCA9IF9zeW1ib2w7CgogICAgICAgIC8vIHNlbmQgRXZlbnQKICAgICAgICBMb2dTZXRTeW1ib2woX3N5bWJvbCk7CiAgICB9CgogICAgLyoqCiAgICBAbm90aWNlIE1pbnQgbmV3IHRva2VuIGFtb3VudC4KICAgIEBwYXJhbSBfYWRkcmVzcyBUaGUgYWRkcmVzcyB0aGF0IG5ldyB0b2tlbiBhbW91bnQgaXMgYWRkZWQKICAgIEBwYXJhbSBfdmFsdWUgVGhlIG5ldyBhbW91bnQgb2YgdG9rZW4KICAgICovCiAgICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX2FkZHJlc3MsIHVpbnQgX3ZhbHVlKSBvbmx5QWNjb3VudEFkZHJlc3NGb3JTcG9uc2VlIHsKCiAgICAgICAgLy8gYWRkIHRva2VucwogICAgICAgIGJhbGFuY2VzW19hZGRyZXNzXSA9IGJhbGFuY2VzW19hZGRyZXNzXS5hZGQoX3ZhbHVlKTsKCiAgICAgICAgLy8gaW5jcmVhc2UgdG90YWwgc3VwcGx5CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX3ZhbHVlKTsKCiAgICAgICAgLy8gY2hlY2sgY2FwCiAgICAgICAgaWYgKHRvdGFsU3VwcGx5ID4gY2FwKSB7IHJldmVydCgpOyB9CgogICAgICAgIC8vIHNlbmQgRXZlbnQKICAgICAgICBMb2dNaW50KF9hZGRyZXNzLCBfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKGFkZHJlc3MoMHgwKSwgX2FkZHJlc3MsIF92YWx1ZSk7CiAgICB9CgogICAgLyoqCiAgICBAbm90aWNlIEluY3JlYXNlIGNhcC4KICAgIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0aGF0IHNob3VsZCBiZSBpbmNyZWFzZWQKICAgICovCiAgICBmdW5jdGlvbiBpbmNyZWFzZUNhcCh1aW50IF92YWx1ZSkgb25seUFjY291bnRBZGRyZXNzRm9yU3BvbnNlZSB7CgogICAgICAgIC8vIGNoYW5nZSBjYXAgaGVyZQogICAgICAgIGNhcCA9IGNhcC5hZGQoX3ZhbHVlKTsKCiAgICAgICAgLy8gc2VuZCBFdmVudAogICAgICAgIExvZ0luY3JlYXNlQ2FwKF92YWx1ZSk7CiAgICB9CgogICAgLyoqCiAgICBAbm90aWNlIERlY3JlYXNlIGNhcC4KICAgIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0aGF0IHNob3VsZCBiZSBkZWNyZWFzZWQKICAgICovCiAgICBmdW5jdGlvbiBkZWNyZWFzZUNhcCh1aW50IF92YWx1ZSkgb25seUFjY291bnRBZGRyZXNzRm9yU3BvbnNlZSB7CgogICAgICAgIC8vIGNoZWNrIHdoZXRoZXIgY2FwIGlzIGxvd2VyIHRoYW4gdG90YWxTdXBwbHkgb3Igbm90CiAgICAgICAgaWYgKHRvdGFsU3VwcGx5ID4gY2FwLnN1YihfdmFsdWUpKSB7IHJldmVydCgpOyB9CgogICAgICAgIC8vIGNoYW5nZSBjYXAgaGVyZQogICAgICAgIGNhcCA9IGNhcC5zdWIoX3ZhbHVlKTsKCiAgICAgICAgLy8gc2VuZCBFdmVudAogICAgICAgIExvZ0RlY3JlYXNlQ2FwKF92YWx1ZSk7CiAgICB9CgogICAgLyoqCiAgICBAbm90aWNlIFJvbGxiYWNrIHRyYW5zZmVyLgogICAgQHBhcmFtIF9mcm9tIFRoZSBFT0EgYWRkcmVzcyBmb3Igcm9sbGJhY2sgdHJhbnNmZXIKICAgIEBwYXJhbSBfdG8gVGhlIEVPQSBhZGRyZXNzIGZvciByb2xsYmFjayB0cmFuc2ZlcgogICAgQHBhcmFtIF92YWx1ZSBUaGUgbnVtYmVyIG9mIHRva2VuIGZvciByb2xsYmFjayB0cmFuc2ZlcgogICAgKi8KICAgIGZ1bmN0aW9uIHJvbGxiYWNrVHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMyAqIDMyKSBvbmx5TXVsdGlTaWcgewoKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5zdWIoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uYWRkKF92YWx1ZSk7CgogICAgICAgIC8vIHNlbmQgRXZlbnQKICAgICAgICBMb2dSb2xsYmFja1RyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgIEBub3RpY2UgVHJhbnNmZXIgZnJvbSBtc2cuc2VuZGVyIGZvciBkb3dubG9hZGluZyBvZiBjb250ZW50LgogICAgQHBhcmFtIF90byBUaGUgRU9BIGFkZHJlc3MgZm9yIGJ1eSBjb250ZW50CiAgICBAcGFyYW0gX3ZhbHVlIFRoZSBudW1iZXIgb2YgdG9rZW4gZm9yIGJ1eSBjb250ZW50CiAgICBAcGFyYW0gX3BheW1lbnRJZCBUaGUgaWQgb2YgY29udGVudCB3aGljaCBtc2cuc2VuZGVyIHdhbnQgdG8gYnV5CiAgICAqLwogICAgZnVuY3Rpb24gYnV5KGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSwgdWludCBfcGF5bWVudElkKSB7CgogICAgICAgIHRyYW5zZmVyKF90bywgX3ZhbHVlKTsKCiAgICAgICAgLy8gc2VuZCBFdmVudAogICAgICAgIExvZ0J1eShtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSwgX3BheW1lbnRJZCk7CiAgICB9CgogICAgLyoqCiAgICBAbm90aWNlIFRoaXMgbWV0aG9kIHdpbGwgY2hhbmdlIG9sZCBzcG9uc2VlIGFkZHJlc3Mgd2l0aCBuZXcgb25lLgogICAgQHBhcmFtIF9uZXdBZGRyZXNzIG5ldyBhZGRyZXNzIGlzIHNldAogICAgKi8KICAgIGZ1bmN0aW9uIGNoYW5nZVNwb25zZWVBZGRyZXNzKGFkZHJlc3MgX25ld0FkZHJlc3MpIG9ubHlBY2NvdW50QWRkcmVzc0ZvclNwb25zZWUgewoKICAgICAgICBzcG9uc2VlQWRkcmVzcyA9IF9uZXdBZGRyZXNzOwoKICAgICAgICAvLyBzZW5kIEV2ZW50CiAgICAgICAgTG9nQ2hhbmdlU3BvbnNlZUFkZHJlc3MoX25ld0FkZHJlc3MpOwoKICAgIH0KCiAgICAvKioKICAgIEBub3RpY2UgVGhpcyBtZXRob2Qgd2lsbCBjaGFuZ2UgaXNQYXlhYmxlRW5hYmxlZCBmbGFnLgogICAgKi8KICAgIGZ1bmN0aW9uIGNoYW5nZUlzUGF5YWJsZUVuYWJsZWQoKSBvbmx5TXVsdGlTaWcgewoKICAgICAgICBpc1BheWFibGVFbmFibGVkID0gIWlzUGF5YWJsZUVuYWJsZWQ7CgogICAgICAgIC8vIHNlbmQgRXZlbnQKICAgICAgICBMb2dDaGFuZ2VJc1BheWFibGVFbmFibGVkKGlzUGF5YWJsZUVuYWJsZWQpOwoKICAgIH0KfQ=='.
	

]
