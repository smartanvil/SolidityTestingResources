Class {
	#name : #SRT38de0a4aeb83b84240d709e48d0cacf0e64ca1a2,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT38de0a4aeb83b84240d709e48d0cacf0e64ca1a2 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50IGMgPSBhIC8gYjsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHBvdyh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSAqKiBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9CgoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX3dobykgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4KICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CgogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlczsKCiAgICAvLy8gc2Vjb25kcyBzaW5jZSAwMS4wMS4xOTcwIHRvIDE3LjAyLjIwMTggMDA6MDA6MDAgR01UCiAgICB1aW50NjQgcHVibGljIGRhdGVUcmFuc2ZlcmFibGUgPSAxNTE4ODI1NjAwOwoKICAgIC8qKgogICAgICogQGRldiBUcmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHVpbnQ2NCBfbm93ID0gdWludDY0KGJsb2NrLnRpbWVzdGFtcCk7CiAgICAgICAgcmVxdWlyZShfbm93ID49IGRhdGVUcmFuc2ZlcmFibGUpOwogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3ModGhpcykpOyAvLyBEb24ndCBhbGxvdyB0byB0cmFuc2ZlciB0b2tlbnMgdG8gY29udHJhY3QgYWRkcmVzcwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAgICAqIEBwYXJhbSBfYWRkcmVzcyBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgYmFsYW5jZSBvZi4KICAgICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19hZGRyZXNzXTsKICAgIH0KfQoKCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCgovKiogCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewoKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIC8qKgogICAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCAnb3duZXInIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyIGFjY291bnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgICAqLwogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KfQoKCi8qKgogKiBAdGl0bGUgUGF1c2FibGUKICogQGRldiBCYXNlIGNvbnRyYWN0IHdoaWNoIGFsbG93cyBjaGlsZHJlbiB0byBpbXBsZW1lbnQgYW4gZW1lcmdlbmN5IHN0b3AgbWVjaGFuaXNtLgogKi8KY29udHJhY3QgUGF1c2FibGUgaXMgT3duYWJsZSB7CiAgICBldmVudCBQYXVzZSgpOwogICAgZXZlbnQgVW5wYXVzZSgpOwoKICAgIGJvb2wgcHVibGljIHBhdXNlZCA9IGZhbHNlOwoKICAgIC8qKgogICAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgcGF1c2VkCiAgICAgKi8KICAgIG1vZGlmaWVyIHdoZW5Ob3RQYXVzZWQoKSB7CiAgICAgICAgcmVxdWlyZSghcGF1c2VkKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgTk9UIHBhdXNlZAogICAgICovCiAgICBtb2RpZmllciB3aGVuUGF1c2VkKCkgewogICAgICAgIHJlcXVpcmUocGF1c2VkKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHBhdXNlLCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlCiAgICAgKi8KICAgIGZ1bmN0aW9uIHBhdXNlKCkgcHVibGljIG9ubHlPd25lciB3aGVuTm90UGF1c2VkIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBwYXVzZWQgPSB0cnVlOwogICAgICAgIFBhdXNlKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gdW5wYXVzZSwgcmV0dXJucyB0byBub3JtYWwgc3RhdGUKICAgICAqLwogICAgZnVuY3Rpb24gdW5wYXVzZSgpIHB1YmxpYyBvbmx5T3duZXIgd2hlblBhdXNlZCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcGF1c2VkID0gZmFsc2U7CiAgICAgICAgVW5wYXVzZSgpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9CgoKLyoqCiAqIEB0aXRsZSBNaW50YWJsZSB0b2tlbgogKiBAZGV2IFNpbXBsZSBFUkMyMCBUb2tlbiBleGFtcGxlLCB3aXRoIG1pbnRhYmxlIHRva2VuIGNyZWF0aW9uCiAqIEBkZXYgSXNzdWU6ICogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9pc3N1ZXMvMTIwCiAqIEJhc2VkIG9uIGNvZGUgYnkgVG9rZW5NYXJrZXROZXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9Ub2tlbk1hcmtldE5ldC9pY28vYmxvYi9tYXN0ZXIvY29udHJhY3RzL01pbnRhYmxlVG9rZW4uc29sCiAqLwpjb250cmFjdCBNaW50YWJsZVRva2VuIGlzIEJhc2ljVG9rZW4sIE93bmFibGUgewoKICAgIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CiAgICBldmVudCBNaW50RmluaXNoZWQoKTsKCiAgICBib29sIHB1YmxpYyBtaW50aW5nRmluaXNoZWQgPSBmYWxzZTsKCiAgICBtb2RpZmllciBjYW5NaW50KCkgewogICAgICAgIHJlcXVpcmUoIW1pbnRpbmdGaW5pc2hlZCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgRnVuY3Rpb24gdG8gbWludCB0b2tlbnMKICAgICAqIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIG1pbnQuCiAgICAgKiBAcmV0dXJuIEEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICAgICovCiAgICBmdW5jdGlvbiBtaW50KHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIG9ubHlPd25lciBjYW5NaW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSBiYWxhbmNlc1tvd25lcl0uYWRkKF9hbW91bnQpOwogICAgICAgIE1pbnQob3duZXIsIF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKDB4MCwgb3duZXIsIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBGdW5jdGlvbiB0byBzdG9wIG1pbnRpbmcgbmV3IHRva2Vucy4KICAgICAqIEByZXR1cm4gVHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICAgICovCiAgICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CiAgICAgICAgbWludGluZ0ZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICBNaW50RmluaXNoZWQoKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKCi8qKgogKiBAdGl0bGUgWGluZW9rZW4KICogQGRldiBTaW1wbGUgRVJDMjAgVG9rZW4gZXhhbXBsZSwgd2l0aCBtaW50YWJsZSB0b2tlbiBjcmVhdGlvbgogKiBAZGV2IElzc3VlOiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvaXNzdWVzLzEyMAogKiBCYXNlZCBvbiBjb2RlIGJ5IFRva2VuTWFya2V0TmV0OiBodHRwczovL2dpdGh1Yi5jb20vVG9rZW5NYXJrZXROZXQvaWNvL2Jsb2IvbWFzdGVyL2NvbnRyYWN0cy9NaW50YWJsZVRva2VuLnNvbAogKi8KY29udHJhY3QgWGluZW9rZW4gaXMgQmFzaWNUb2tlbiwgT3duYWJsZSwgUGF1c2FibGUsIE1pbnRhYmxlVG9rZW4gewoKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogICAgCiAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAiWGluZW9rZW4iOwogICAgdWludDI1NiBwdWJsaWMgZGVjaW1hbHMgPSAyOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiWElOIjsKCiAgICAvLy8gcHJpY2UgZm9yIGEgc2luZ2xlIHRva2VuCiAgICB1aW50MjU2IHB1YmxpYyBidXlQcmljZSA9IDEwNTI2MzE1Nzg5NDc0OwogICAgLy8vIHByaWNlIGZvciBhIHNpbmdsZSB0b2tlbiBhZnRlciB0aGUgMm5kIHN0YWdlIG9mIHRva2VucwogICAgdWludDI1NiBwdWJsaWMgYnV5UHJpY2VGaW5hbCA9IDUyNjMxNTc4OTQ3MzY4OwogICAgLy8vIG51bWJlciBvZiB0b2tlbnMgc29sZAogICAgdWludDI1NiBwdWJsaWMgYWxsb2NhdGVkVG9rZW5zID0gMDsKICAgIC8vLyBmaXJzdCB0aWVyIG9mIHRva2VucyBhdCBhIGRpc2NvdW50CiAgICB1aW50MjU2IHB1YmxpYyBzdGFnZTFUb2tlbnMgPSAzMzAwMDAwMDAgKiAoMTAgKiogZGVjaW1hbHMpOwogICAgLy8vIHNlY29uZCB0aWVyIG9mIHRva2VucyBhdCBhIGRpc2NvdW50CiAgICB1aW50MjU2IHB1YmxpYyBzdGFnZTJUb2tlbnMgPSA2NjAwMDAwMDAgKiAoMTAgKiogZGVjaW1hbHMpOwogICAgLy8vIG1pbmltdW0gYW1vdW50IGluIHdlaSAwLjEgZXRoZXIKICAgIHVpbnQyNTYgcHVibGljIG1pbmltdW1CdXlBbW91bnQgPSAxMDAwMDAwMDAwMDAwMDAwMDA7CiAgICAKICAgIGZ1bmN0aW9uIFhpbmVva2VuKCkgcHVibGljIHsKICAgICAgICB0b3RhbFN1cHBseSA9IDEwMDAwMDAwMDAgKiAoMTAgKiogZGVjaW1hbHMpOwogICAgICAgIGJhbGFuY2VzW293bmVyXSA9IHRvdGFsU3VwcGx5OwogICAgfQoKICAgIC8vIGZhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGJ1eSB0b2tlbnMKICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICBidXlUb2tlbigpOwogICAgfQogICAgCiAgICAvKioKICAgICAqIEBkZXYgQ2FsY3VsYXRlIHRoZSBudW1iZXIgb2YgdG9rZW5zIGJhc2VkIG9uIHRoZSBjdXJyZW50IHN0YWdlCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2Ygd2VpCiAgICAgKiBAcmV0dXJuIFRoZSBudW1iZXIgb2YgdG9rZW5zCiAgICAgKi8KICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVRva2VuQW1vdW50KHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CgogICAgICAgIHZhciB0b2tlbkFtb3VudCA9IHVpbnQyNTYoMCk7CiAgICAgICAgdmFyIHRva2VuQW1vdW50Q3VycmVudFN0YWdlID0gdWludDI1NigwKTsKICAgICAgICB2YXIgdG9rZW5BbW91bnROZXh0U3RhZ2UgPSB1aW50MjU2KDApOwogIAogICAgICAgIHZhciBzdGFnZTFUb2tlbnNOb0RlYyA9IHN0YWdlMVRva2VucyAvICgxMCAqKiBkZWNpbWFscyk7CiAgICAgICAgdmFyIHN0YWdlMlRva2Vuc05vRGVjID0gc3RhZ2UyVG9rZW5zIC8gKDEwICoqIGRlY2ltYWxzKTsKICAgICAgICB2YXIgYWxsb2NhdGVkVG9rZW5zTm9EZWMgPSBhbGxvY2F0ZWRUb2tlbnMgLyAoMTAgKiogZGVjaW1hbHMpOwogIAogICAgICAgIGlmIChhbGxvY2F0ZWRUb2tlbnNOb0RlYyA8IHN0YWdlMVRva2Vuc05vRGVjKSB7CiAgICAgICAgICAgIHRva2VuQW1vdW50ID0gX3ZhbHVlIC8gYnV5UHJpY2U7CiAgICAgICAgICAgIGlmICh0b2tlbkFtb3VudC5hZGQoYWxsb2NhdGVkVG9rZW5zTm9EZWMpID4gc3RhZ2UxVG9rZW5zTm9EZWMpIHsKICAgICAgICAgICAgICAgIHRva2VuQW1vdW50Q3VycmVudFN0YWdlID0gc3RhZ2UxVG9rZW5zTm9EZWMuc3ViKGFsbG9jYXRlZFRva2Vuc05vRGVjKTsKICAgICAgICAgICAgICAgIHRva2VuQW1vdW50TmV4dFN0YWdlID0gKF92YWx1ZS5zdWIodG9rZW5BbW91bnRDdXJyZW50U3RhZ2UubXVsKGJ1eVByaWNlKSkpIC8gKGJ1eVByaWNlICogMik7CiAgICAgICAgICAgICAgICB0b2tlbkFtb3VudCA9IHRva2VuQW1vdW50Q3VycmVudFN0YWdlICsgdG9rZW5BbW91bnROZXh0U3RhZ2U7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGFsbG9jYXRlZFRva2Vuc05vRGVjIDwgKHN0YWdlMlRva2Vuc05vRGVjKSkgewogICAgICAgICAgICB0b2tlbkFtb3VudCA9IF92YWx1ZSAvIChidXlQcmljZSAqIDIpOwogICAgICAgICAgICBpZiAodG9rZW5BbW91bnQuYWRkKGFsbG9jYXRlZFRva2Vuc05vRGVjKSA+IHN0YWdlMlRva2Vuc05vRGVjKSB7CiAgICAgICAgICAgICAgICB0b2tlbkFtb3VudEN1cnJlbnRTdGFnZSA9IHN0YWdlMlRva2Vuc05vRGVjLnN1YihhbGxvY2F0ZWRUb2tlbnNOb0RlYyk7CiAgICAgICAgICAgICAgICB0b2tlbkFtb3VudE5leHRTdGFnZSA9IChfdmFsdWUuc3ViKHRva2VuQW1vdW50Q3VycmVudFN0YWdlLm11bChidXlQcmljZSAqIDIpKSkgLyBidXlQcmljZUZpbmFsOwogICAgICAgICAgICAgICAgdG9rZW5BbW91bnQgPSB0b2tlbkFtb3VudEN1cnJlbnRTdGFnZSArIHRva2VuQW1vdW50TmV4dFN0YWdlOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdG9rZW5BbW91bnQgPSBfdmFsdWUgLyBidXlQcmljZUZpbmFsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRva2VuQW1vdW50OwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBCdXkgdG9rZW5zIHdoZW4gdGhlIGNvbnRyYWN0IGlzIG5vdCBwYXVzZWQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJ1eVRva2VuKCkgcHVibGljIHdoZW5Ob3RQYXVzZWQgcGF5YWJsZSB7CgogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSAweDApOwogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IG1pbmltdW1CdXlBbW91bnQpOwogICAgICAgIAogICAgICAgIHVpbnQyNTYgd2VpQW1vdW50ID0gbXNnLnZhbHVlOwogICAgICAgIHVpbnQyNTYgdG9rZW5zID0gY2FsY3VsYXRlVG9rZW5BbW91bnQod2VpQW1vdW50KTsKCiAgICAgICAgcmVxdWlyZSh0b2tlbnMgPiAwKTsKCiAgICAgICAgdWludDI1NiB0b3RhbFRva2VucyA9IHRva2VucyAqICgxMCAqKiBkZWNpbWFscyk7CgogICAgICAgIGJhbGFuY2VzW293bmVyXSA9IGJhbGFuY2VzW293bmVyXS5zdWIodG90YWxUb2tlbnMpOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKHRvdGFsVG9rZW5zKTsKICAgICAgICBhbGxvY2F0ZWRUb2tlbnMgPSBhbGxvY2F0ZWRUb2tlbnMuYWRkKHRvdGFsVG9rZW5zKTsKICAgICAgICBUcmFuc2Zlcihvd25lciwgbXNnLnNlbmRlciwgdG90YWxUb2tlbnMpOwogICAgICAgIAogICAgICAgIGZvcndhcmRGdW5kcygpOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBBbGxvY2F0ZSB0b2tlbnMgdG8gYW4gYWRkcmVzcwogICAgICogQHBhcmFtIF90byBBZGRyZXNzIHdoZXJlIHRva2VucyBzaG91bGQgYmUgYWxsb2NhdGVkIHRvLgogICAgICogQHBhcmFtIF90b2tlbnMgQW1vdW50IG9mIHRva2Vucy4KICAgICAqIEByZXR1cm4gVHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICAgICovCiAgICBmdW5jdGlvbiBhbGxvY2F0ZVRva2VucyhhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5zKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKGJhbGFuY2VPZihvd25lcikgPj0gX3Rva2Vucyk7CiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gYmFsYW5jZXNbb3duZXJdLnN1YihfdG9rZW5zKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3Rva2Vucyk7CiAgICAgICAgYWxsb2NhdGVkVG9rZW5zID0gYWxsb2NhdGVkVG9rZW5zLmFkZChfdG9rZW5zKTsKICAgICAgICBUcmFuc2Zlcihvd25lciwgX3RvLCBfdG9rZW5zKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKiogCiAgICAgKiBAcGFyYW0gX25ld0J1eVByaWNlIFByaWNlIGluIHdlaSB1c2VycyBjYW4gYnV5IGZyb20gdGhlIGNvbnRyYWN0LgogICAgICogQHBhcmFtIF9uZXdCdXlQcmljZUZpbmFsIEZpbmFsIHByaWNlIGluIHdlaSB1c2VycyBjYW4gYnV5IGZyb20gdGhlIGNvbnRyYWN0LgogICAgICogQHJldHVybiBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldEJ1eVByaWNlKHVpbnQyNTYgX25ld0J1eVByaWNlLCB1aW50MjU2IF9uZXdCdXlQcmljZUZpbmFsKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBidXlQcmljZSA9IF9uZXdCdXlQcmljZTsKICAgICAgICBidXlQcmljZUZpbmFsID0gX25ld0J1eVByaWNlRmluYWw7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IFNldCB0aGUgZGF0ZSB0b2tlbnMgY2FuIGJlIHRyYW5zZmVycmVkLgogICAgICogQHBhcmFtIF9kYXRlIFRoZSBkYXRlIGFmdGVyIHRva2VucyBjYW4gYmUgdHJhbnNmZXJyZWQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldFRyYW5zZmVyYWJsZURhdGUodWludDY0IF9kYXRlKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBkYXRlVHJhbnNmZXJhYmxlID0gX2RhdGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IFNldCB0aGUgbWluaW11bSBidXkgYW1vdW50IGluIHdlaS4KICAgICAqIEBwYXJhbSBfYW1vdW50IFdlaSBhbW91bnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldE1pbmltdW1CdXlBbW91bnQodWludDI1NiBfYW1vdW50KSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBtaW5pbXVtQnV5QW1vdW50ID0gX2Ftb3VudDsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBpZiAobmV3T3duZXIgIT0gYWRkcmVzcygwKSkgewogICAgICAgICAgICAvLyB0cmFuc2ZlciB0b2tlbnMgZnJvbSBvd25lciB0byBuZXcgb3duZXIKICAgICAgICAgICAgdmFyIHByZXZpb3VzT3duZXIgPSBvd25lcjsKICAgICAgICAgICAgdmFyIG93bmVyQmFsYW5jZSA9IGJhbGFuY2VzW3ByZXZpb3VzT3duZXJdOwogICAgICAgICAgICBiYWxhbmNlc1twcmV2aW91c093bmVyXSA9IGJhbGFuY2VzW3ByZXZpb3VzT3duZXJdLnN1Yihvd25lckJhbGFuY2UpOwogICAgICAgICAgICBiYWxhbmNlc1tuZXdPd25lcl0gPSBiYWxhbmNlc1tuZXdPd25lcl0uYWRkKG93bmVyQmFsYW5jZSk7CiAgICAgICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICAgICAgICAgIFRyYW5zZmVyKHByZXZpb3VzT3duZXIsIG5ld093bmVyLCBvd25lckJhbGFuY2UpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgRm9yd2FyZCBmdW5kcyB0byBvd25lciBhZGRyZXNzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGZvcndhcmRGdW5kcygpIGludGVybmFsIHsKICAgICAgICBpZiAoIW93bmVyLnNlbmQobXNnLnZhbHVlKSkgewogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICB9CiAgICB9Cn0='.
	

]
