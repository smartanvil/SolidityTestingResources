Class {
	#name : #SRT07ec30473ef6e1b9a434b1d48b97f79d46c13d5f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT07ec30473ef6e1b9a434b1d48b97f79d46c13d5f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9Cgp9CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgTWludGFibGVJbnRlcmZhY2UgewogIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gbWludExvY2tlZChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSByZXR1cm5zIChib29sKTsKfQoKLyoqCiAqIFRoaXMgaXMgdGhlIENyb3dkc2FsZSBjb250cmFjdCBmcm9tIE9wZW5aZXBwZWxpbiB2ZXJzaW9uIDEuMi4wCiAqIFRoZSBvbmx5IGNoYW5nZXMgYXJlOgogKiAgIC0gdGhlIHR5cGUgb2YgdG9rZW4gZmllbGQgaXMgY2hhbmdlZCBmcm9tIE1pbnRhYmxlVG9rZW4gdG8gTWludGFibGVJbnRlcmZhY2UKICogICAtIHRoZSBjcmVhdGVUb2tlbkNvbnRyYWN0KCkgbWV0aG9kIGlzIHJlbW92ZWQsIHRoZSB0b2tlbiBmaWVsZCBtdXN0IGJlIGluaXRpYWxpemVkIGluIHRoZSBkZXJpdmVkIGNvbnRyYWN0cyBjb25zdHVjdG9yCiAqKi8KCgoKCgoKLyoqCiAqIEB0aXRsZSBDcm93ZHNhbGUgCiAqIEBkZXYgQ3Jvd2RzYWxlIGlzIGEgYmFzZSBjb250cmFjdCBmb3IgbWFuYWdpbmcgYSB0b2tlbiBjcm93ZHNhbGUuCiAqIENyb3dkc2FsZXMgaGF2ZSBhIHN0YXJ0IGFuZCBlbmQgYmxvY2ssIHdoZXJlIGludmVzdG9ycyBjYW4gbWFrZQogKiB0b2tlbiBwdXJjaGFzZXMgYW5kIHRoZSBjcm93ZHNhbGUgd2lsbCBhc3NpZ24gdGhlbSB0b2tlbnMgYmFzZWQKICogb24gYSB0b2tlbiBwZXIgRVRIIHJhdGUuIEZ1bmRzIGNvbGxlY3RlZCBhcmUgZm9yd2FyZGVkIHRvIGEgd2FsbGV0IAogKiBhcyB0aGV5IGFycml2ZS4KICovCmNvbnRyYWN0IENyb3dkc2FsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIC8vIFRoZSB0b2tlbiBiZWluZyBzb2xkCiAgTWludGFibGVJbnRlcmZhY2UgcHVibGljIHRva2VuOwoKICAvLyBzdGFydCBhbmQgZW5kIGJsb2NrIHdoZXJlIGludmVzdG1lbnRzIGFyZSBhbGxvd2VkIChib3RoIGluY2x1c2l2ZSkKICB1aW50MjU2IHB1YmxpYyBzdGFydEJsb2NrOwogIHVpbnQyNTYgcHVibGljIGVuZEJsb2NrOwoKICAvLyBhZGRyZXNzIHdoZXJlIGZ1bmRzIGFyZSBjb2xsZWN0ZWQKICBhZGRyZXNzIHB1YmxpYyB3YWxsZXQ7CgogIC8vIGhvdyBtYW55IHRva2VuIHVuaXRzIGEgYnV5ZXIgZ2V0cyBwZXIgd2VpCiAgdWludDI1NiBwdWJsaWMgcmF0ZTsKCiAgLy8gYW1vdW50IG9mIHJhaXNlZCBtb25leSBpbiB3ZWkKICB1aW50MjU2IHB1YmxpYyB3ZWlSYWlzZWQ7CgogIC8qKgogICAqIGV2ZW50IGZvciB0b2tlbiBwdXJjaGFzZSBsb2dnaW5nCiAgICogQHBhcmFtIHB1cmNoYXNlciB3aG8gcGFpZCBmb3IgdGhlIHRva2VucwogICAqIEBwYXJhbSBiZW5lZmljaWFyeSB3aG8gZ290IHRoZSB0b2tlbnMKICAgKiBAcGFyYW0gdmFsdWUgd2VpcyBwYWlkIGZvciBwdXJjaGFzZQogICAqIEBwYXJhbSBhbW91bnQgYW1vdW50IG9mIHRva2VucyBwdXJjaGFzZWQKICAgKi8gCiAgZXZlbnQgVG9rZW5QdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgcHVyY2hhc2VyLCBhZGRyZXNzIGluZGV4ZWQgYmVuZWZpY2lhcnksIHVpbnQyNTYgdmFsdWUsIHVpbnQyNTYgYW1vdW50KTsKCgogIGZ1bmN0aW9uIENyb3dkc2FsZSh1aW50MjU2IF9zdGFydEJsb2NrLCB1aW50MjU2IF9lbmRCbG9jaywgdWludDI1NiBfcmF0ZSwgYWRkcmVzcyBfd2FsbGV0KSB7CiAgICByZXF1aXJlKF9zdGFydEJsb2NrID49IGJsb2NrLm51bWJlcik7CiAgICByZXF1aXJlKF9lbmRCbG9jayA+PSBfc3RhcnRCbG9jayk7CiAgICByZXF1aXJlKF9yYXRlID4gMCk7CiAgICByZXF1aXJlKF93YWxsZXQgIT0gMHgwKTsKCiAgICBzdGFydEJsb2NrID0gX3N0YXJ0QmxvY2s7CiAgICBlbmRCbG9jayA9IF9lbmRCbG9jazsKICAgIHJhdGUgPSBfcmF0ZTsKICAgIHdhbGxldCA9IF93YWxsZXQ7CiAgfQoKICAvLyBmYWxsYmFjayBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBidXkgdG9rZW5zCiAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7CiAgICBidXlUb2tlbnMobXNnLnNlbmRlcik7CiAgfQoKICAvLyBsb3cgbGV2ZWwgdG9rZW4gcHVyY2hhc2UgZnVuY3Rpb24KICBmdW5jdGlvbiBidXlUb2tlbnMoYWRkcmVzcyBiZW5lZmljaWFyeSkgcGF5YWJsZSB7CiAgICByZXF1aXJlKGJlbmVmaWNpYXJ5ICE9IDB4MCk7CiAgICByZXF1aXJlKHZhbGlkUHVyY2hhc2UoKSk7CgogICAgdWludDI1NiB3ZWlBbW91bnQgPSBtc2cudmFsdWU7CgogICAgLy8gY2FsY3VsYXRlIHRva2VuIGFtb3VudCB0byBiZSBjcmVhdGVkCiAgICB1aW50MjU2IHRva2VucyA9IHdlaUFtb3VudC5tdWwocmF0ZSk7CgogICAgLy8gdXBkYXRlIHN0YXRlCiAgICB3ZWlSYWlzZWQgPSB3ZWlSYWlzZWQuYWRkKHdlaUFtb3VudCk7CgogICAgdG9rZW4ubWludChiZW5lZmljaWFyeSwgdG9rZW5zKTsKICAgIFRva2VuUHVyY2hhc2UobXNnLnNlbmRlciwgYmVuZWZpY2lhcnksIHdlaUFtb3VudCwgdG9rZW5zKTsKCiAgICBmb3J3YXJkRnVuZHMoKTsKICB9CgogIC8vIHNlbmQgZXRoZXIgdG8gdGhlIGZ1bmQgY29sbGVjdGlvbiB3YWxsZXQKICAvLyBvdmVycmlkZSB0byBjcmVhdGUgY3VzdG9tIGZ1bmQgZm9yd2FyZGluZyBtZWNoYW5pc21zCiAgZnVuY3Rpb24gZm9yd2FyZEZ1bmRzKCkgaW50ZXJuYWwgewogICAgd2FsbGV0LnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgfQoKICAvLyBAcmV0dXJuIHRydWUgaWYgdGhlIHRyYW5zYWN0aW9uIGNhbiBidXkgdG9rZW5zCiAgZnVuY3Rpb24gdmFsaWRQdXJjaGFzZSgpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgIHVpbnQyNTYgY3VycmVudCA9IGJsb2NrLm51bWJlcjsKICAgIGJvb2wgd2l0aGluUGVyaW9kID0gY3VycmVudCA+PSBzdGFydEJsb2NrICYmIGN1cnJlbnQgPD0gZW5kQmxvY2s7CiAgICBib29sIG5vblplcm9QdXJjaGFzZSA9IG1zZy52YWx1ZSAhPSAwOwogICAgcmV0dXJuIHdpdGhpblBlcmlvZCAmJiBub25aZXJvUHVyY2hhc2U7CiAgfQoKICAvLyBAcmV0dXJuIHRydWUgaWYgY3Jvd2RzYWxlIGV2ZW50IGhhcyBlbmRlZAogIGZ1bmN0aW9uIGhhc0VuZGVkKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBibG9jay5udW1iZXIgPiBlbmRCbG9jazsKICB9CgoKfQoKLyoqCiAqIEB0aXRsZSBDYXBwZWRDcm93ZHNhbGUKICogQGRldiBFeHRlbnNpb24gb2YgQ3Jvd3NkYWxlIHdpdGggYSBtYXggYW1vdW50IG9mIGZ1bmRzIHJhaXNlZAogKi8KY29udHJhY3QgVG9rZW5DYXBwZWRDcm93ZHNhbGUgaXMgQ3Jvd2RzYWxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgLy8gdG9rZW5DYXAgc2hvdWxkIGJlIGluaXRpYWxpemVkIGluIGRlcml2ZWQgY29udHJhY3QKICB1aW50MjU2IHB1YmxpYyB0b2tlbkNhcDsKCiAgdWludDI1NiBwdWJsaWMgc29sZFRva2VuczsKCiAgLy8gb3ZlcnJpZGluZyBDcm93ZHNhbGUjaGFzRW5kZWQgdG8gYWRkIHRva2VuQ2FwIGxvZ2ljCiAgLy8gQHJldHVybiB0cnVlIGlmIGNyb3dkc2FsZSBldmVudCBoYXMgZW5kZWQKICBmdW5jdGlvbiBoYXNFbmRlZCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICBib29sIGNhcFJlYWNoZWQgPSBzb2xkVG9rZW5zID49IHRva2VuQ2FwOwogICAgcmV0dXJuIHN1cGVyLmhhc0VuZGVkKCkgfHwgY2FwUmVhY2hlZDsKICB9CgogIC8vIG92ZXJyaWRpbmcgQ3Jvd2RzYWxlI2J1eVRva2VucyB0byBhZGQgZXh0cmEgdG9rZW5DYXAgbG9naWMKICBmdW5jdGlvbiBidXlUb2tlbnMoYWRkcmVzcyBiZW5lZmljaWFyeSkgcGF5YWJsZSB7CiAgICAvLyBjYWxjdWxhdGUgdG9rZW4gYW1vdW50IHRvIGJlIGNyZWF0ZWQKICAgIHVpbnQyNTYgdG9rZW5zID0gbXNnLnZhbHVlLm11bChyYXRlKTsKICAgIHVpbnQyNTYgbmV3VG90YWxTb2xkID0gc29sZFRva2Vucy5hZGQodG9rZW5zKTsKICAgIHJlcXVpcmUobmV3VG90YWxTb2xkIDw9IHRva2VuQ2FwKTsKICAgIHNvbGRUb2tlbnMgPSBuZXdUb3RhbFNvbGQ7CiAgICBzdXBlci5idXlUb2tlbnMoYmVuZWZpY2lhcnkpOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogVGhpcyBpcyB0aGUgVG9rZW5UaW1lbG9jayBjb250cmFjdCBmcm9tIE9wZW5aZXBwZWxpbiB2ZXJzaW9uIDEuMi4wCiAqIFRoZSBvbmx5IGNoYW5nZXMgYXJlOgogKiAgIC0gYWxsIGNvbnRyYWN0IGZpZWxkcyBhcmUgZGVjbGFyZWQgYXMgcHVibGljCiAqICAgLSByZW1vdmVkIGRlcHJlY2F0ZWQgY2xhaW0oKSBtZXRob2QKICoqLwoKCgoKCi8qKgogKiBAdGl0bGUgVG9rZW5UaW1lbG9jawogKiBAZGV2IFRva2VuVGltZWxvY2sgaXMgYSB0b2tlbiBob2xkZXIgY29udHJhY3QgdGhhdCB3aWxsIGFsbG93IGEgCiAqIGJlbmVmaWNpYXJ5IHRvIGV4dHJhY3QgdGhlIHRva2VucyBhZnRlciBhIGdpdmVuIHJlbGVhc2UgdGltZQogKi8KY29udHJhY3QgVG9rZW5UaW1lbG9jayB7CiAgCiAgLy8gRVJDMjAgYmFzaWMgdG9rZW4gY29udHJhY3QgYmVpbmcgaGVsZAogIEVSQzIwQmFzaWMgcHVibGljIHRva2VuOwoKICAvLyBiZW5lZmljaWFyeSBvZiB0b2tlbnMgYWZ0ZXIgdGhleSBhcmUgcmVsZWFzZWQKICBhZGRyZXNzIHB1YmxpYyBiZW5lZmljaWFyeTsKCiAgLy8gdGltZXN0YW1wIHdoZW4gdG9rZW4gcmVsZWFzZSBpcyBlbmFibGVkCiAgdWludCBwdWJsaWMgcmVsZWFzZVRpbWU7CgogIGZ1bmN0aW9uIFRva2VuVGltZWxvY2soRVJDMjBCYXNpYyBfdG9rZW4sIGFkZHJlc3MgX2JlbmVmaWNpYXJ5LCB1aW50IF9yZWxlYXNlVGltZSkgewogICAgcmVxdWlyZShfcmVsZWFzZVRpbWUgPiBub3cpOwogICAgdG9rZW4gPSBfdG9rZW47CiAgICBiZW5lZmljaWFyeSA9IF9iZW5lZmljaWFyeTsKICAgIHJlbGVhc2VUaW1lID0gX3JlbGVhc2VUaW1lOwogIH0KCiAgLyoqCiAgICogQG5vdGljZSBUcmFuc2ZlcnMgdG9rZW5zIGhlbGQgYnkgdGltZWxvY2sgdG8gYmVuZWZpY2lhcnkuCiAgICovCiAgZnVuY3Rpb24gcmVsZWFzZSgpIHsKICAgIHJlcXVpcmUobm93ID49IHJlbGVhc2VUaW1lKTsKCiAgICB1aW50IGFtb3VudCA9IHRva2VuLmJhbGFuY2VPZih0aGlzKTsKICAgIHJlcXVpcmUoYW1vdW50ID4gMCk7CgogICAgdG9rZW4udHJhbnNmZXIoYmVuZWZpY2lhcnksIGFtb3VudCk7CiAgfQp9CgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuIAogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuIAogICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9Cgp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBAZGV2IEltcGxlbWVudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFyZCB0b2tlbi4KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgIC8vIHJlcXVpcmUgKF92YWx1ZSA8PSBfYWxsb3dhbmNlKTsKCiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCn0KCmNvbnRyYWN0IEVpZG9vVG9rZW4gaXMgTWludGFibGVJbnRlcmZhY2UsIE93bmFibGUsIFN0YW5kYXJkVG9rZW4gewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBzdHJpbmcgcHVibGljIG5hbWUgPSAiRWlkb28gVG9rZW4iOwogIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIkVETyI7CiAgdWludDI1NiBwdWJsaWMgZGVjaW1hbHMgPSAxODsKCiAgdWludDI1NiBwdWJsaWMgdHJhbnNmZXJhYmxlRnJvbUJsb2NrOwogIHVpbnQyNTYgcHVibGljIGxvY2tFbmRCbG9jazsKICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBpbml0aWFsbHlMb2NrZWRBbW91bnQ7CgogIGZ1bmN0aW9uIEVpZG9vVG9rZW4odWludDI1NiBfdHJhbnNmZXJhYmxlRnJvbUJsb2NrLCB1aW50MjU2IF9sb2NrRW5kQmxvY2spIHsKICAgIHJlcXVpcmUoX2xvY2tFbmRCbG9jayA+IF90cmFuc2ZlcmFibGVGcm9tQmxvY2spOwogICAgdHJhbnNmZXJhYmxlRnJvbUJsb2NrID0gX3RyYW5zZmVyYWJsZUZyb21CbG9jazsKICAgIGxvY2tFbmRCbG9jayA9IF9sb2NrRW5kQmxvY2s7CiAgfQoKICBtb2RpZmllciBjYW5UcmFuc2ZlcihhZGRyZXNzIF9mcm9tLCB1aW50IF92YWx1ZSkgewogICAgaWYgKGJsb2NrLm51bWJlciA8IGxvY2tFbmRCbG9jaykgewogICAgICByZXF1aXJlKGJsb2NrLm51bWJlciA+PSB0cmFuc2ZlcmFibGVGcm9tQmxvY2spOwogICAgICB1aW50MjU2IGxvY2tlZCA9IGxvY2tlZEJhbGFuY2VPZihfZnJvbSk7CiAgICAgIGlmIChsb2NrZWQgPiAwKSB7CiAgICAgICAgdWludDI1NiBuZXdCYWxhbmNlID0gYmFsYW5jZU9mKF9mcm9tKS5zdWIoX3ZhbHVlKTsKICAgICAgICByZXF1aXJlKG5ld0JhbGFuY2UgPj0gbG9ja2VkKTsKICAgICAgfQogICAgfQogICBfOwogIH0KCiAgZnVuY3Rpb24gbG9ja2VkQmFsYW5jZU9mKGFkZHJlc3MgX3RvKSBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgbG9ja2VkID0gaW5pdGlhbGx5TG9ja2VkQW1vdW50W190b107CiAgICBpZiAoYmxvY2subnVtYmVyID49IGxvY2tFbmRCbG9jayApIHJldHVybiAwOwogICAgZWxzZSBpZiAoYmxvY2subnVtYmVyIDw9IHRyYW5zZmVyYWJsZUZyb21CbG9jaykgcmV0dXJuIGxvY2tlZDsKCiAgICB1aW50MjU2IHJlbGVhc2VGb3JCbG9jayA9IGxvY2tlZC5kaXYobG9ja0VuZEJsb2NrLnN1Yih0cmFuc2ZlcmFibGVGcm9tQmxvY2spKTsKICAgIHVpbnQyNTYgcmVsZWFzZWQgPSBibG9jay5udW1iZXIuc3ViKHRyYW5zZmVyYWJsZUZyb21CbG9jaykubXVsKHJlbGVhc2VGb3JCbG9jayk7CiAgICByZXR1cm4gbG9ja2VkLnN1YihyZWxlYXNlZCk7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGNhblRyYW5zZmVyKG1zZy5zZW5kZXIsIF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGNhblRyYW5zZmVyKF9mcm9tLCBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICB9CgogIC8vIC0tLS0tLS0tLS0tLS0tLSBNaW50aW5nIG1ldGhvZHMKCiAgbW9kaWZpZXIgY2FuTWludCgpIHsKICAgIHJlcXVpcmUoIW1pbnRpbmdGaW5pc2hlZCgpKTsKICAgIF87CiAgfQoKICBmdW5jdGlvbiBtaW50aW5nRmluaXNoZWQoKSBjb25zdGFudCByZXR1cm5zKGJvb2wpIHsKICAgIHJldHVybiBibG9jay5udW1iZXIgPj0gdHJhbnNmZXJhYmxlRnJvbUJsb2NrOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBtaW50IHRva2VucywgaW1wbGVtZW50cyBNaW50YWJsZUludGVyZmFjZQogICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdGhhdCB3aWxsIHJlY2lldmUgdGhlIG1pbnRlZCB0b2tlbnMuCiAgICogQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gbWludC4KICAgKiBAcmV0dXJuIEEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICAqLwogIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgb25seU93bmVyIGNhbk1pbnQgcmV0dXJucyAoYm9vbCkgewogICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX2Ftb3VudCk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CiAgICBUcmFuc2ZlcihhZGRyZXNzKDApLCBfdG8sIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBtaW50TG9ja2VkKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciBjYW5NaW50IHJldHVybnMgKGJvb2wpIHsKICAgIGluaXRpYWxseUxvY2tlZEFtb3VudFtfdG9dID0gaW5pdGlhbGx5TG9ja2VkQW1vdW50W190b10uYWRkKF9hbW91bnQpOwogICAgcmV0dXJuIG1pbnQoX3RvLCBfYW1vdW50KTsKICB9CgogIGZ1bmN0aW9uIGJ1cm4odWludDI1NiBfYW1vdW50KSByZXR1cm5zIChib29sKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KTsKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKF9hbW91bnQpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgYWRkcmVzcygwKSwgX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCmNvbnRyYWN0IEVpZG9vVG9rZW5TYWxlIGlzIE93bmFibGUsIFRva2VuQ2FwcGVkQ3Jvd2RzYWxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICB1aW50MjU2IHB1YmxpYyBNQVhJTVVNX1NVUFBMWSA9IDEwMDAwMDAwMCAqIDEwKioxODsKICB1aW50MjU2IFtdIHB1YmxpYyBMT0NLRUQgPSBbICAgICAyMDAwMDAwMCAqIDEwKioxOCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxNTAwMDAwMCAqIDEwKioxOCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNjAwMDAwMCAqIDEwKioxOCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNjAwMDAwMCAqIDEwKioxOCBdOwogIHVpbnQyNTYgcHVibGljIFBPU1RfSUNPID0gICAgICAgIDIxMDAwMDAwICogMTAqKjE4OwogIHVpbnQyNTYgW10gcHVibGljIExPQ0tfRU5EID0gWwogICAgMTU3MDE5MDQwMCwgLy8gNCBPY3RvYmVyIDIwMTkgMTI6MDA6MDAgR01UCiAgICAxNTM4NjU0NDAwLCAvLyA0IE9jdG9iZXIgMjAxOCAxMjowMDowMCBHTVQKICAgIDE1MjI4NDMyMDAsIC8vIDQgQXByaWwgMjAxOCAxMjowMDowMCBHTVQKICAgIDE1MTUwNjcyMDAgIC8vIDQgSmFudWFyeSAyMDE4IDEyOjAwOjAwIEdNVAogIF07CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGNsYWltZWQ7CiAgVG9rZW5UaW1lbG9jayBbNF0gcHVibGljIHRpbWVMb2NrczsKCiAgZXZlbnQgQ2xhaW1Ub2tlbnMoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IGFtb3VudCk7CgogIG1vZGlmaWVyIGJlZm9yZVN0YXJ0KCkgewogICAgcmVxdWlyZShibG9jay5udW1iZXIgPCBzdGFydEJsb2NrKTsKICAgIF87CiAgfQoKICBmdW5jdGlvbiBFaWRvb1Rva2VuU2FsZSgKICAgIHVpbnQyNTYgX3N0YXJ0QmxvY2ssCiAgICB1aW50MjU2IF9lbmRCbG9jaywKICAgIHVpbnQyNTYgX3JhdGUsCiAgICB1aW50IF90b2tlblN0YXJ0QmxvY2ssCiAgICB1aW50IF90b2tlbkxvY2tFbmRCbG9jaywKICAgIGFkZHJlc3MgX3dhbGxldAogICkKICAgIENyb3dkc2FsZShfc3RhcnRCbG9jaywgX2VuZEJsb2NrLCBfcmF0ZSwgX3dhbGxldCkKICB7CiAgICB0b2tlbiA9IG5ldyBFaWRvb1Rva2VuKF90b2tlblN0YXJ0QmxvY2ssIF90b2tlbkxvY2tFbmRCbG9jayk7CgogICAgLy8gY3JlYXRlIHRpbWVsb2NrcyBmb3IgdG9rZW5zCiAgICB0aW1lTG9ja3NbMF0gPSBuZXcgVG9rZW5UaW1lbG9jayhFaWRvb1Rva2VuKHRva2VuKSwgX3dhbGxldCwgTE9DS19FTkRbMF0pOwogICAgdGltZUxvY2tzWzFdID0gbmV3IFRva2VuVGltZWxvY2soRWlkb29Ub2tlbih0b2tlbiksIF93YWxsZXQsIExPQ0tfRU5EWzFdKTsKICAgIHRpbWVMb2Nrc1syXSA9IG5ldyBUb2tlblRpbWVsb2NrKEVpZG9vVG9rZW4odG9rZW4pLCBfd2FsbGV0LCBMT0NLX0VORFsyXSk7CiAgICB0aW1lTG9ja3NbM10gPSBuZXcgVG9rZW5UaW1lbG9jayhFaWRvb1Rva2VuKHRva2VuKSwgX3dhbGxldCwgTE9DS19FTkRbM10pOwogICAgdG9rZW4ubWludChhZGRyZXNzKHRpbWVMb2Nrc1swXSksIExPQ0tFRFswXSk7CiAgICB0b2tlbi5taW50KGFkZHJlc3ModGltZUxvY2tzWzFdKSwgTE9DS0VEWzFdKTsKICAgIHRva2VuLm1pbnQoYWRkcmVzcyh0aW1lTG9ja3NbMl0pLCBMT0NLRURbMl0pOwogICAgdG9rZW4ubWludChhZGRyZXNzKHRpbWVMb2Nrc1szXSksIExPQ0tFRFszXSk7CgogICAgdG9rZW4ubWludChfd2FsbGV0LCBQT1NUX0lDTyk7CgogICAgLy8gaW5pdGlhbGl6ZSBtYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgdGhhdCBjYW4gYmUgc29sZAogICAgdG9rZW5DYXAgPSBNQVhJTVVNX1NVUFBMWS5zdWIoRWlkb29Ub2tlbih0b2tlbikudG90YWxTdXBwbHkoKSk7CiAgfQoKICBmdW5jdGlvbiBjbGFpbVRva2VucyhhZGRyZXNzIFtdIGJ1eWVycywgdWludCBbXSBhbW91bnRzKSBvbmx5T3duZXIgYmVmb3JlU3RhcnQgcHVibGljIHsKICAgIHJlcXVpcmUoYnV5ZXJzLmxlbmd0aCA9PSBhbW91bnRzLmxlbmd0aCk7CiAgICB1aW50IGxlbiA9IGJ1eWVycy5sZW5ndGg7CiAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICBhZGRyZXNzIHRvID0gYnV5ZXJzW2ldOwogICAgICB1aW50MjU2IGFtb3VudCA9IGFtb3VudHNbaV07CiAgICAgIGlmIChhbW91bnQgPiAwICYmICFjbGFpbWVkW3RvXSkgewogICAgICAgIGNsYWltZWRbdG9dID0gdHJ1ZTsKICAgICAgICBpZiAodG8gPT0gMHgzMkJlMzQzQjk0Zjg2MDEyNGRDNGZFZTI3OEZEQ0JEMzhDMTAyRDg4KSB7CiAgICAgICAgICAvLyByZXBsYWNlIFBvbG9uaWV4IFdhbGxldCBhZGRyZXNzCiAgICAgICAgICB0byA9IDB4MjI3NGJlYmUyYjQ3RWM5OUQ1MEJCOWIxMjAwNWM5MjFGMjhCODNiQjsKICAgICAgICB9CiAgICAgICAgdG9rZW5DYXAgPSB0b2tlbkNhcC5zdWIoYW1vdW50KTsKICAgICAgICB1aW50MjU2IHVubG9ja2VkQW1vdW50ID0gYW1vdW50LmRpdigxMCkubXVsKDMpOwogICAgICAgIHRva2VuLm1pbnQodG8sIHVubG9ja2VkQW1vdW50KTsKICAgICAgICB0b2tlbi5taW50TG9ja2VkKHRvLCBhbW91bnQuc3ViKHVubG9ja2VkQW1vdW50KSk7CiAgICAgICAgQ2xhaW1Ub2tlbnModG8sIGFtb3VudCk7CiAgICAgIH0KICAgIH0KICB9Cgp9'.
	

]
