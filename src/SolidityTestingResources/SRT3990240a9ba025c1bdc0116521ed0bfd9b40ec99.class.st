Class {
	#name : #SRT3990240a9ba025c1bdc0116521ed0bfd9b40ec99,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT3990240a9ba025c1bdc0116521ed0bfd9b40ec99 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyBWaWtreVRva2VuCi8vIFRva2VuIG5hbWU6IFZpa2t5VG9rZW4KLy8gU3ltYm9sOiBWSUsKLy8gRGVjaW1hbHM6IDE4Ci8vIFRlbGVncmFtIGNvbW11bml0eTogaHR0cHM6Ly90Lm1lL3Zpa2t5Z2xvYmFsCgoKCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IEZvcmVpZ25Ub2tlbiB7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwp9Cgpjb250cmFjdCBFUkMyMEJhc2ljIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCmludGVyZmFjZSBUb2tlbiB7IAogICAgZnVuY3Rpb24gZGlzdHIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBleHRlcm5hbCByZXR1cm5zIChib29sKTsKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgZXh0ZXJuYWwgcmV0dXJucyAodWludDI1NiBzdXBwbHkpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCBleHRlcm5hbCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwp9Cgpjb250cmFjdCBWaWtreVRva2VuIGlzIEVSQzIwIHsKICAgIAogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CiAgICBhZGRyZXNzIG93bmVyID0gbXNnLnNlbmRlcjsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOyAKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBhaXJkcm9wQ2xhaW1lZDsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIHJlZnVuZENsYWltZWQ7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBsb2NrZWQ7CgogICAgLyogS2VlcCB0cmFjayBvZiBFdGhlciBjb250cmlidXRlZCBhbmQgdG9rZW5zIHJlY2VpdmVkIGR1cmluZyBDcm93ZHNhbGUgKi8KICAKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgaWNvRXRoZXJDb250cmlidXRlZDsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgaWNvVG9rZW5zUmVjZWl2ZWQ7CgogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIlZpa2t5VG9rZW4iOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiVklLIjsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CiAgICAKICAgIHVpbnQgY29uc3RhbnQgRTE4ID0gMTAqKjE4OwogICAgdWludCBjb25zdGFudCBFNiA9IDEwKio2OwogICAgCiAgICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseSA9IDEwMDAgKiBFNiAqIEUxODsKICAgIHVpbnQgcHVibGljIHRvdGFsRGlzdHJpYnV0ZWQgPSAyMjAgKiBFNiAqIEUxODsgICAvL0ZvciB0ZWFtICsgRm91bmRlcgogICAgdWludCBwdWJsaWMgdG90YWxSZW1haW5pbmcgPSB0b3RhbFN1cHBseS5zdWIodG90YWxEaXN0cmlidXRlZCk7IC8vRm9yIElDTyAgICAKICAgIHVpbnQgcHVibGljIHRva2Vuc1BlckV0aCA9IDIwMDAwICogRTE4OyAKICAgIAogICAgdWludCBwdWJsaWMgdG9rZW5zQWlyZHJvcCA9IDI2NiAqIEUxODsKICAgIHVpbnQgcHVibGljIHRva2Vuc0NsYWltZWRBaXJkcm9wID0gMDsKICAgIHVpbnQgcHVibGljIHRvdGFsRGlzdHJpYnV0ZWRBaXJkcm9wID0gMjAgKiBFNiAqIEUxODsgICAvL0FpcmRyb3AKCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBNSU5fQ09OVFJJQlVUSU9OID0gMSBldGhlciAvIDEwMDsgLy8gMC4wMSBFdGhlcgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgTUlOX0NPTlRSSUJVVElPTl9QUkVTQUxFID0gMSBldGhlcjsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IE1BWF9DT05UUklCVVRJT04gPSAxMDAgZXRoZXI7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBNSU5fRlVORElOR19HT0FMID0gIDUwMDAgZXRoZXI7IC8vIDUwMDAgRVRICiAgICAvKiBJQ08gZGF0ZXMgKi8KCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBEQVRFX1BSRVNBTEVfU1RBUlQgPSAxNTI1MjQ0NDAwOyAvLyAwNS8wMi8yMDE4IEAgNzowMGFtIChVVEMpCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBEQVRFX1BSRVNBTEVfRU5EICAgPSAxNTI2NDU0MDAwOyAvLyAwNS8xNi8yMDE4IEAgNzowMGFtIChVVEMpCgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgREFURV9JQ09fU1RBUlQgPSAxNTI2NDU0MDYwOyAvLyAwNS8xNi8yMDE4IEAgNzowMWFtIChVVEMpCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBEQVRFX0lDT19FTkQgICA9IDE1MzMwMjA0MDA7IC8vIDA3LzMxLzIwMTggQCA3OjAwYW0gKFVUQykKCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBCT05VU19QUkVTQUxFICAgICAgPSAzMDsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IEJPTlVTX0lDT19ST1VORDEgICA9IDIwOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgQk9OVVNfSUNPX1JPVU5EMiAgID0gMTA7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBCT05VU19JQ09fUk9VTkQzICAgPSA1OwogICAgCiAgICBldmVudCBUb2tlbnNQZXJFdGhVcGRhdGVkKHVpbnQgX3Rva2Vuc1BlckV0aCk7ICAgIAogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IFJlZnVuZChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCB1aW50IF9hbW91bnQsIHVpbnQgX3Rva2Vucyk7CiAgICBldmVudCBEaXN0cihhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgYW1vdW50KTsKICAgIGV2ZW50IERpc3RyRmluaXNoZWQoKTsKICAgIGV2ZW50IEFpcmRyb3AoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgdWludCBfYW1vdW50LCB1aW50IF9iYWxhbmNlKTsKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGJ1cm5lciwgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBMb2NrUmVtb3ZlZChhZGRyZXNzIGluZGV4ZWQgX3BhcnRpY2lwYW50KTsKCiAgICBib29sIHB1YmxpYyBkaXN0cmlidXRpb25GaW5pc2hlZCA9IGZhbHNlOwogICAgCiAgICBtb2RpZmllciBjYW5EaXN0cigpIHsKICAgICAgICByZXF1aXJlKCFkaXN0cmlidXRpb25GaW5pc2hlZCk7CiAgICAgICAgXzsKICAgIH0KICAgIAogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KICAgIAogICAgCiAgICBmdW5jdGlvbiBWaWtreVRva2VuICgpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIGRpc3RyKG93bmVyLCB0b3RhbERpc3RyaWJ1dGVkKTsgLy9EaXN0cmlidXRlIGZvciBvd25lcgogICAgfQoKICAgIC8vIEluZm9ybWF0aW9uIGZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0KICAKICAgIC8qIFdoYXQgdGltZSBpcyBpdD8gKi8KICAKICAgIGZ1bmN0aW9uIGF0Tm93KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gbm93OwogICAgfQogIAogICAgIC8qIEhhcyB0aGUgbWluaW11bSB0aHJlc2hvbGQgYmVlbiByZWFjaGVkPyAqLwogIAogICAgZnVuY3Rpb24gaWNvVGhyZXNob2xkUmVhY2hlZCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sIHRocmVzaG9sZFJlYWNoZWQpIHsKICAgICAgICBhZGRyZXNzIG15QWRkcmVzcyA9IHRoaXM7CiAgICAgICAgdWludDI1NiBldGhlckJhbGFuY2UgPSBteUFkZHJlc3MuYmFsYW5jZTsKICAgICAgICBpZiAoZXRoZXJCYWxhbmNlIDwgTUlOX0ZVTkRJTkdfR09BTCkgcmV0dXJuIGZhbHNlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfSAgCiAgICAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGlmIChuZXdPd25lciAhPSBhZGRyZXNzKDApKSB7CiAgICAgICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICAgICAgfQogICAgfQoKCiAgICBmdW5jdGlvbiBmaW5pc2hEaXN0cmlidXRpb24oKSBvbmx5T3duZXIgY2FuRGlzdHIgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBkaXN0cmlidXRpb25GaW5pc2hlZCA9IHRydWU7CiAgICAgICAgZW1pdCBEaXN0ckZpbmlzaGVkKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGRpc3RyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIGNhbkRpc3RyIHByaXZhdGUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHRvdGFsRGlzdHJpYnV0ZWQgPSB0b3RhbERpc3RyaWJ1dGVkLmFkZChfYW1vdW50KTsKICAgICAgICB0b3RhbFJlbWFpbmluZyA9IHRvdGFsUmVtYWluaW5nLnN1YihfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CgogICAgICAgIGljb1Rva2Vuc1JlY2VpdmVkW21zZy5zZW5kZXJdID0gaWNvVG9rZW5zUmVjZWl2ZWRbbXNnLnNlbmRlcl0uYWRkKF9hbW91bnQpOwogICAgICAgICAgICAKICAgICAgICAvLyByZWdpc3RlciBFdGhlciAgICAgICAgICAgIAogICAgICAgIGljb0V0aGVyQ29udHJpYnV0ZWRbbXNnLnNlbmRlcl0gPSBpY29FdGhlckNvbnRyaWJ1dGVkW21zZy5zZW5kZXJdLmFkZChtc2cudmFsdWUpOwogICAgCiAgICAgICAgLy8gbG9ja2VkCiAgICAgICAgbG9ja2VkW21zZy5zZW5kZXJdID0gdHJ1ZTsKCiAgICAgICAgZW1pdCBEaXN0cihfdG8sIF9hbW91bnQpOwogICAgICAgIGVtaXQgVHJhbnNmZXIoYWRkcmVzcygwKSwgX3RvLCBfYW1vdW50KTsgICAgICAgIAogICAgICAgIAogICAgICAgIHJldHVybiB0cnVlOyAgICAgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGRpc3RyaWJ1dGlvbihhZGRyZXNzW10gYWRkcmVzc2VzLCB1aW50MjU2IGFtb3VudCkgb25seU93bmVyIGNhbkRpc3RyIHB1YmxpYyB7CiAgICAgICAgICAgICAgICAKICAgICAgICByZXF1aXJlKGFtb3VudCA8PSB0b3RhbFJlbWFpbmluZyk7CiAgICAgICAgCiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgYWRkcmVzc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHJlcXVpcmUoYW1vdW50IDw9IHRvdGFsUmVtYWluaW5nKTsKICAgICAgICAgICAgZGlzdHIoYWRkcmVzc2VzW2ldLCBhbW91bnQpOwogICAgICAgIH0KICAgIAogICAgICAgIGlmICh0b3RhbERpc3RyaWJ1dGVkID49IHRvdGFsU3VwcGx5KSB7CiAgICAgICAgICAgIGRpc3RyaWJ1dGlvbkZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGRpc3RyaWJ1dGVBbW91bnRzKGFkZHJlc3NbXSBhZGRyZXNzZXMsIHVpbnQyNTZbXSBhbW91bnRzKSBvbmx5T3duZXIgY2FuRGlzdHIgcHVibGljIHsKICAgICAgICAKICAgICAgICByZXF1aXJlKGFkZHJlc3Nlcy5sZW5ndGggPT0gYW1vdW50cy5sZW5ndGgpOwogICAgICAgIAogICAgICAgIGZvciAodWludDggaSA9IDA7IGkgPCBhZGRyZXNzZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgcmVxdWlyZShhbW91bnRzW2ldIDw9IHRvdGFsUmVtYWluaW5nKTsKICAgICAgICAgICAgZGlzdHIoYWRkcmVzc2VzW2ldLCBhbW91bnRzW2ldKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICh0b3RhbERpc3RyaWJ1dGVkID49IHRvdGFsU3VwcGx5KSB7CiAgICAgICAgICAgICAgICBkaXN0cmlidXRpb25GaW5pc2hlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZG9BaXJkcm9wKGFkZHJlc3MgX3BhcnRpY2lwYW50LCB1aW50IGFpcmRyb3ApIGludGVybmFsIHsKICAgICAgICAKICAgICAgICByZXF1aXJlKCBhaXJkcm9wID4gMCApOwogICAgICAgIHJlcXVpcmUodG9rZW5zQ2xhaW1lZEFpcmRyb3AgPCB0b3RhbERpc3RyaWJ1dGVkQWlyZHJvcCk7CgogICAgICAgIC8vIHVwZGF0ZSBiYWxhbmNlcyBhbmQgdG9rZW4gaXNzdWUgdm9sdW1lCiAgICAgICAgYWlyZHJvcENsYWltZWRbX3BhcnRpY2lwYW50XSA9IHRydWU7CiAgICAgICAgYmFsYW5jZXNbX3BhcnRpY2lwYW50XSA9IGJhbGFuY2VzW19wYXJ0aWNpcGFudF0uYWRkKGFpcmRyb3ApOwogICAgICAgIHRvdGFsRGlzdHJpYnV0ZWQgPSB0b3RhbERpc3RyaWJ1dGVkLmFkZChhaXJkcm9wKTsKICAgICAgICB0b3RhbFJlbWFpbmluZyA9IHRvdGFsUmVtYWluaW5nLnN1YihhaXJkcm9wKTsKICAgICAgICB0b2tlbnNDbGFpbWVkQWlyZHJvcCAgID0gdG9rZW5zQ2xhaW1lZEFpcmRyb3AuYWRkKGFpcmRyb3ApOwogICAgCiAgICAgICAgLy8gbG9nCiAgICAgICAgZW1pdCBBaXJkcm9wKF9wYXJ0aWNpcGFudCwgYWlyZHJvcCwgYmFsYW5jZXNbX3BhcnRpY2lwYW50XSk7CiAgICAgICAgZW1pdCBUcmFuc2ZlcihhZGRyZXNzKDApLCBfcGFydGljaXBhbnQsIGFpcmRyb3ApOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkbWluQ2xhaW1BaXJkcm9wKGFkZHJlc3MgX3BhcnRpY2lwYW50LCB1aW50IGFpcmRyb3ApIGV4dGVybmFsIHsgICAgICAgIAogICAgICAgIGRvQWlyZHJvcChfcGFydGljaXBhbnQsIGFpcmRyb3ApOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkbWluQ2xhaW1BaXJkcm9wTXVsdGlwbGUoYWRkcmVzc1tdIF9hZGRyZXNzZXMsIHVpbnQgYWlyZHJvcCkgZXh0ZXJuYWwgeyAgICAgICAgCiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgX2FkZHJlc3Nlcy5sZW5ndGg7IGkrKykgZG9BaXJkcm9wKF9hZGRyZXNzZXNbaV0sIGFpcmRyb3ApOwogICAgfQoKICAgIGZ1bmN0aW9uIHN5c3RlbUNsYWltQWlyZHJvcE11bHRpcGxlKGFkZHJlc3NbXSBfYWRkcmVzc2VzKSBleHRlcm5hbCB7CiAgICAgICAgdWludCBhaXJkcm9wID0gdG9rZW5zQWlyZHJvcDsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBfYWRkcmVzc2VzLmxlbmd0aDsgaSsrKSBkb0FpcmRyb3AoX2FkZHJlc3Nlc1tpXSwgYWlyZHJvcCk7CiAgICB9CgogCiAgICAvKiBDaGFuZ2UgdG9rZW5zUGVyRXRoIGJlZm9yZSBJQ08gc3RhcnQgKi8KICAKICAgIGZ1bmN0aW9uIHVwZGF0ZVRva2Vuc1BlckV0aCh1aW50IF90b2tlbnNQZXJFdGgpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoIGF0Tm93KCkgPCBEQVRFX1BSRVNBTEVfU1RBUlQgKTsKICAgICAgICB0b2tlbnNQZXJFdGggPSBfdG9rZW5zUGVyRXRoOwogICAgICAgIGVtaXQgVG9rZW5zUGVyRXRoVXBkYXRlZChfdG9rZW5zUGVyRXRoKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICAgICAgYnV5VG9rZW5zKCk7CiAgICAgfQogICAgCiAgICBmdW5jdGlvbiBidXlUb2tlbnMoKSBwYXlhYmxlIGNhbkRpc3RyIHB1YmxpYyB7CiAgICAgICAgdWludCB0cyA9IGF0Tm93KCk7CiAgICAgICAgYm9vbCBpc1ByZXNhbGUgPSBmYWxzZTsKICAgICAgICBib29sIGlzSWNvID0gZmFsc2U7CiAgICAgICAgdWludCB0b2tlbnMgPSAwOwoKICAgICAgICAvLyBtaW5pbXVtIGNvbnRyaWJ1dGlvbgogICAgICAgIHJlcXVpcmUoIG1zZy52YWx1ZSA+PSBNSU5fQ09OVFJJQlVUSU9OICk7CgogICAgICAgIC8vIG9uZSBhZGRyZXNzIHRyYW5zZmVyIGhhcmQgY2FwCiAgICAgICAgcmVxdWlyZSggaWNvRXRoZXJDb250cmlidXRlZFttc2cuc2VuZGVyXS5hZGQobXNnLnZhbHVlKSA8PSBNQVhfQ09OVFJJQlVUSU9OICk7CgogICAgICAgIC8vIGNoZWNrIGRhdGVzIGZvciBwcmVzYWxlIG9yIElDTwogICAgICAgIGlmICh0cyA+IERBVEVfUFJFU0FMRV9TVEFSVCAmJiB0cyA8IERBVEVfUFJFU0FMRV9FTkQpIGlzUHJlc2FsZSA9IHRydWU7ICAKICAgICAgICBpZiAodHMgPiBEQVRFX0lDT19TVEFSVCAmJiB0cyA8IERBVEVfSUNPX0VORCkgaXNJY28gPSB0cnVlOwogICAgICAgIHJlcXVpcmUoIGlzUHJlc2FsZSB8fCBpc0ljbyApOwoKICAgICAgICAvLyBwcmVzYWxlIGNhcCBpbiBFdGhlcgogICAgICAgIGlmIChpc1ByZXNhbGUpIHJlcXVpcmUoIG1zZy52YWx1ZSA+PSBNSU5fQ09OVFJJQlVUSU9OX1BSRVNBTEUpOwogICAgICAgICAgICAgICAgCiAgICAgICAgYWRkcmVzcyBpbnZlc3RvciA9IG1zZy5zZW5kZXI7CiAgICAgICAgCiAgICAgICAgLy8gZ2V0IGJhc2VsaW5lIG51bWJlciBvZiB0b2tlbnMKICAgICAgICB0b2tlbnMgPSB0b2tlbnNQZXJFdGgubXVsKG1zZy52YWx1ZSkgLyAxIGV0aGVyOwoKICAgICAgICAvLyBhcHBseSBib251c2VzIChub25lIGZvciBsYXN0IHdlZWspCiAgICAgICAgaWYgKGlzUHJlc2FsZSkgewogICAgICAgICAgICB0b2tlbnMgPSB0b2tlbnMubXVsKDEwMCArIEJPTlVTX1BSRVNBTEUpIC8gMTAwOwogICAgICAgIH0gZWxzZSBpZiAodHMgPCBEQVRFX0lDT19TVEFSVCArIDE0IGRheXMpIHsKICAgICAgICAgICAgLy8gcm91bmQgMSBib251cwogICAgICAgICAgICB0b2tlbnMgPSB0b2tlbnMubXVsKDEwMCArIEJPTlVTX0lDT19ST1VORDEpIC8gMTAwOwogICAgICAgIH0gZWxzZSBpZiAodHMgPCBEQVRFX0lDT19TVEFSVCArIDI4IGRheXMpIHsKICAgICAgICAgICAgLy8gcm91bmQgMiBib251cwogICAgICAgICAgICB0b2tlbnMgPSB0b2tlbnMubXVsKDEwMCArIEJPTlVTX0lDT19ST1VORDIpIC8gMTAwOwogICAgICAgIH0gZWxzZSBpZiAodHMgPCBEQVRFX0lDT19TVEFSVCArIDQyIGRheXMpIHsKICAgICAgICAgICAgLy8gcm91bmQgMyBib251cwogICAgICAgICAgICB0b2tlbnMgPSB0b2tlbnMubXVsKDEwMCArIEJPTlVTX0lDT19ST1VORDMpIC8gMTAwOwogICAgICAgIH0KCiAgICAgICAgLy8gSUNPIHRva2VuIHZvbHVtZSBjYXAKICAgICAgICByZXF1aXJlKCB0b3RhbERpc3RyaWJ1dGVkLmFkZCh0b2tlbnMpIDw9IHRvdGFsUmVtYWluaW5nICk7CiAgICAgICAgCiAgICAgICAgaWYgKHRva2VucyA+IDApIHsKICAgICAgICAgICAgZGlzdHIoaW52ZXN0b3IsIHRva2Vucyk7CiAgICAgICAgfQogICAgICAgIAoKICAgICAgICBpZiAodG90YWxEaXN0cmlidXRlZCA+PSB0b3RhbFN1cHBseSkgewogICAgICAgICAgICBkaXN0cmlidXRpb25GaW5pc2hlZCA9IHRydWU7CiAgICAgICAgfSAgICAgICAgICAgICAgICAKICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgLy8gbWl0aWdhdGVzIHRoZSBFUkMyMCBzaG9ydCBhZGRyZXNzIGF0dGFjawogICAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgc2l6ZSkgewogICAgICAgIGFzc2VydChtc2cuZGF0YS5sZW5ndGggPj0gc2l6ZSArIDQpOwogICAgICAgIF87CiAgICB9CgogICAgLy8gTG9jayBmdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIC8qIE1hbmFnZSBsb2NrZWQgKi8KCiAgICBmdW5jdGlvbiByZW1vdmVMb2NrKGFkZHJlc3MgX3BhcnRpY2lwYW50KSBwdWJsaWMgeyAgICAgICAgCiAgICAgICAgbG9ja2VkW19wYXJ0aWNpcGFudF0gPSBmYWxzZTsKICAgICAgICBlbWl0IExvY2tSZW1vdmVkKF9wYXJ0aWNpcGFudCk7CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlTG9ja011bHRpcGxlKGFkZHJlc3NbXSBfcGFydGljaXBhbnRzKSBwdWJsaWMgeyAgICAgICAgCiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgX3BhcnRpY2lwYW50cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICByZW1vdmVMb2NrKF9wYXJ0aWNpcGFudHNbaV0pOwogICAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgb25seVBheWxvYWRTaXplKDIgKiAzMikgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF9hbW91bnQgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwogICAgICAgIHJlcXVpcmUoIGxvY2tlZFttc2cuc2VuZGVyXSA9PSBmYWxzZSApOwogICAgICAgIHJlcXVpcmUoIGxvY2tlZFtfdG9dID09IGZhbHNlICk7CiAgICAgICAgCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgICAgIGVtaXQgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlQYXlsb2FkU2l6ZSgzICogMzIpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfYW1vdW50IDw9IGJhbGFuY2VzW19mcm9tXSk7CiAgICAgICAgcmVxdWlyZShfYW1vdW50IDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsKICAgICAgICByZXF1aXJlKCBsb2NrZWRbbXNnLnNlbmRlcl0gPT0gZmFsc2UgKTsKICAgICAgICByZXF1aXJlKCBsb2NrZWRbX3RvXSA9PSBmYWxzZSApOwogICAgICAgIAogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgICAgIGVtaXQgVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBtaXRpZ2F0ZXMgdGhlIEVSQzIwIHNwZW5kL2FwcHJvdmFsIHJhY2UgY29uZGl0aW9uCiAgICAgICAgaWYgKF92YWx1ZSAhPSAwICYmIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdICE9IDApIHsgcmV0dXJuIGZhbHNlOyB9CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgZW1pdCBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBnZXRUb2tlbkJhbGFuY2UoYWRkcmVzcyB0b2tlbkFkZHJlc3MsIGFkZHJlc3Mgd2hvKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludCl7CiAgICAgICAgRm9yZWlnblRva2VuIHQgPSBGb3JlaWduVG9rZW4odG9rZW5BZGRyZXNzKTsKICAgICAgICB1aW50IGJhbCA9IHQuYmFsYW5jZU9mKHdobyk7CiAgICAgICAgcmV0dXJuIGJhbDsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gd2l0aGRyYXcoKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBhZGRyZXNzIG15QWRkcmVzcyA9IHRoaXM7CiAgICAgICAgdWludDI1NiBldGhlckJhbGFuY2UgPSBteUFkZHJlc3MuYmFsYW5jZTsKICAgICAgICBvd25lci50cmFuc2ZlcihldGhlckJhbGFuY2UpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CiAgICAgICAgLy8gbm8gbmVlZCB0byByZXF1aXJlIHZhbHVlIDw9IHRvdGFsU3VwcGx5LCBzaW5jZSB0aGF0IHdvdWxkIGltcGx5IHRoZQogICAgICAgIC8vIHNlbmRlcidzIGJhbGFuY2UgaXMgZ3JlYXRlciB0aGFuIHRoZSB0b3RhbFN1cHBseSwgd2hpY2ggKnNob3VsZCogYmUgYW4gYXNzZXJ0aW9uIGZhaWx1cmUKCiAgICAgICAgYWRkcmVzcyBidXJuZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIGJhbGFuY2VzW2J1cm5lcl0gPSBiYWxhbmNlc1tidXJuZXJdLnN1YihfdmFsdWUpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKF92YWx1ZSk7CiAgICAgICAgdG90YWxEaXN0cmlidXRlZCA9IHRvdGFsRGlzdHJpYnV0ZWQuc3ViKF92YWx1ZSk7CiAgICAgICAgZW1pdCBCdXJuKGJ1cm5lciwgX3ZhbHVlKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gd2l0aGRyYXdGb3JlaWduVG9rZW5zKGFkZHJlc3MgX3Rva2VuQ29udHJhY3QpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIEZvcmVpZ25Ub2tlbiB0b2tlbiA9IEZvcmVpZ25Ub2tlbihfdG9rZW5Db250cmFjdCk7CiAgICAgICAgdWludDI1NiBhbW91bnQgPSB0b2tlbi5iYWxhbmNlT2YoYWRkcmVzcyh0aGlzKSk7CiAgICAgICAgcmV0dXJuIHRva2VuLnRyYW5zZmVyKG93bmVyLCBhbW91bnQpOwogICAgfQoKICAgIC8vIEV4dGVybmFsIGZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0KCiAgICAvKiBSZWNsYWltaW5nIG9mIGZ1bmRzIGJ5IGNvbnRyaWJ1dG9ycyBpbiBjYXNlIG9mIGEgZmFpbGVkIGNyb3dkc2FsZSAqLwogICAgLyogKGl0IHdpbGwgZmFpbCBpZiBhY2NvdW50IGlzIGVtcHR5IGFmdGVyIG93bmVyQ2xhd2JhY2spICovCgogICAgZnVuY3Rpb24gcmVjbGFpbUZ1bmQoYWRkcmVzcyBfcGFydGljaXBhbnQpIHB1YmxpYyB7CiAgICAgICAgdWludCB0b2tlbnM7IC8vIHRva2VucyB0byBkZXN0cm95CiAgICAgICAgdWludCBhbW91bnQ7IC8vIHJlZnVuZCBhbW91bnQKCiAgICAgICAgLy8gaWNvIGlzIGZpbmlzaGVkIGFuZCB3YXMgbm90IHN1Y2Nlc3NmdWwKICAgICAgICByZXF1aXJlKCBhdE5vdygpID4gREFURV9JQ09fRU5EICYmICFpY29UaHJlc2hvbGRSZWFjaGVkKCkgKTsKCiAgICAgICAgLy8gY2hlY2sgaWYgcmVmdW5kIGhhcyBhbHJlYWR5IGJlZW4gY2xhaW1lZAogICAgICAgIHJlcXVpcmUoICFyZWZ1bmRDbGFpbWVkW19wYXJ0aWNpcGFudF0gKTsKCiAgICAgICAgLy8gY2hlY2sgaWYgdGhlcmUgaXMgYW55dGhpbmcgdG8gcmVmdW5kCiAgICAgICAgcmVxdWlyZSggaWNvRXRoZXJDb250cmlidXRlZFtfcGFydGljaXBhbnRdID4gMCApOwoKICAgICAgICAvLyB1cGRhdGUgdmFyaWFibGVzIGFmZmVjdGVkIGJ5IHJlZnVuZAogICAgICAgIHRva2VucyA9IGljb1Rva2Vuc1JlY2VpdmVkW19wYXJ0aWNpcGFudF07CiAgICAgICAgYW1vdW50ID0gaWNvRXRoZXJDb250cmlidXRlZFtfcGFydGljaXBhbnRdOwoKICAgICAgICBiYWxhbmNlc1tfcGFydGljaXBhbnRdID0gYmFsYW5jZXNbX3BhcnRpY2lwYW50XS5zdWIodG9rZW5zKTsKICAgICAgICB0b3RhbERpc3RyaWJ1dGVkICAgID0gdG90YWxEaXN0cmlidXRlZC5zdWIodG9rZW5zKTsKICAgIAogICAgICAgIHJlZnVuZENsYWltZWRbX3BhcnRpY2lwYW50XSA9IHRydWU7CgogICAgICAgIF9wYXJ0aWNpcGFudC50cmFuc2ZlcihhbW91bnQpOwoKICAgICAgICAvLyBsb2cKICAgICAgICBlbWl0IFRyYW5zZmVyKF9wYXJ0aWNpcGFudCwgMHgwLCB0b2tlbnMpOwogICAgICAgIGVtaXQgUmVmdW5kKF9wYXJ0aWNpcGFudCwgYW1vdW50LCB0b2tlbnMpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlY2xhaW1GdW5kTXVsdGlwbGUoYWRkcmVzc1tdIF9wYXJ0aWNpcGFudHMpIHB1YmxpYyB7ICAgICAgICAKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBfcGFydGljaXBhbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHJlY2xhaW1GdW5kKF9wYXJ0aWNpcGFudHNbaV0pOwogICAgICAgIH0KICAgIH0KfQ=='.
	

]
