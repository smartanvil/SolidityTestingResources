Class {
	#name : #SRTb0bef286a13457b963c710fa7765961d09a27c63,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTb0bef286a13457b963c710fa7765961d09a27c63 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CmNvbnRyYWN0IHRva2VuUmVjaXBpZW50IHsgZnVuY3Rpb24gcmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MgZnJvbSwgdWludDI1NiB2YWx1ZSwgYWRkcmVzcyB0b2tlbiwgYnl0ZXMgZXh0cmFEYXRhKSBwdWJsaWM7IH0KY29udHJhY3QgSU9DVF9Db2luCiAgeyAKICAgICAvKiBWYXJpYWJsZXMgICovCiAgICBzdHJpbmcgIHB1YmxpYyBuYW1lOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmFtZSAgb2YgY29udHJhY3QKICAgIHN0cmluZyAgcHVibGljIHN5bWJvbDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzeW1ib2wgb2YgY29udHJhY3QKICAgIHVpbnQ4ICAgcHVibGljIGRlY2ltYWxzOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBob3cgbWFueSBkZWNpbWFscyB0byBrZWVwICwgMTggaXMgYmVzdCAKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBob3cgbWFueSB0b2tlbnMgdG8gY3JlYXRlCiAgICB1aW50MjU2IHB1YmxpYyByZW1haW5pbmc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaG93IG1hbnkgdG9rZW5zIGhhcyBsZWZ0CiAgICB1aW50ICAgIHB1YmxpYyBldGhSYXRlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3VycmVudCByYXRlIG9mIGV0aGVyCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29udHJhY3QgY3JlYXRvcgogICAgdWludDI1NiBwdWJsaWMgYW1vdW50Q29sbGVjdGVkOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhvdyBtdWNoIGZ1bmRzIGhhcyBiZWVuIGNvbGxlY3RlZAogICAgdWludCAgICBwdWJsaWMgaWNvU3RhdHVzOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IC8gZGlzYWxsb3cgb25saW5lIHB1cmNoYXNlCiAgICB1aW50ICAgIHB1YmxpYyBpY29Ub2tlblByaWNlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG9rZW4gcHJpY2UsIHN0YXJ0IHdpdGggMTAgY2VudHMKICAgIGFkZHJlc3MgcHVibGljIGJlbkFkZHJlc3M7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmdW5kcyB3aXRoZHJhdyBhZGRyZXNzCiAgICBhZGRyZXNzIHB1YmxpYyBia2FkZHJlc3M7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICB1aW50ICAgIHB1YmxpYyBhbGxvd1RyYW5zZmVyVG9rZW47ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3cgLyBkaXNhbGxvdyB0b2tlbiB0cmFuc2ZlciBmb3IgbWVtYmVycwogICAgCiAgICAgLyogQXJyYXkgICovCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2Y7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXJyYXkgb2YgYWxsIGJhbGFuY2VzCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2FuY2U7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBmcm96ZW5BY2NvdW50OwogICAgCiAgICAvKiBFdmVudHMgICovCiAgICBldmVudCBGcm96ZW5GdW5kcyhhZGRyZXNzIHRhcmdldCwgYm9vbCBmcm96ZW4pOwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50MjU2IHZhbHVlKTsKICAgIGV2ZW50IFRyYW5zZmVyU2VsbChhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlLCBzdHJpbmcgdHlwZXgpOyAvLyBvbmx5IGZvciBpY28gc2FsZXMKICAgIAoKICAgICAvKiBJbml0aWFsaXplcyBjb250cmFjdCB3aXRoIGluaXRpYWwgc3VwcGx5IHRva2VucyB0byB0aGUgY3JlYXRvciBvZiB0aGUgY29udHJhY3QgKi8KICAgIGZ1bmN0aW9uIElPQ1RfQ29pbigpIHB1YmxpYwogICAgewogICAgICB0b3RhbFN1cHBseSA9IDIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFzIHRoZSBkZWNpbWFscyBhcmUgMTgsIHdlIGFkZCAxOCB6ZXJvIGFmdGVyIHRvdGFsIHN1cHBseSwgYXMgYWxsIHZhbHVlcyBhcmUgc3RvcmVkIGluIHdlaQogICAgICBvd25lciA9ICBtc2cuc2VuZGVyOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCBvd25lciBvZiBjb250cmFjdAogICAgICBiYWxhbmNlT2Zbb3duZXJdID0gdG90YWxTdXBwbHk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdpdmUgdGhlIGNyZWF0b3IgYWxsIGluaXRpYWwgdG9rZW5zCiAgICAgIG5hbWUgPSAiSW90YUNvbm5lY3QgVG9rZW4iOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBuYW1lIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgIHN5bWJvbCA9ICJJT0NUIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBzeW1ib2wgZm9yIGRpc3BsYXkgcHVycG9zZXMKICAgICAgZGVjaW1hbHMgPSAxODsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbW91bnQgb2YgZGVjaW1hbHMgZm9yIGRpc3BsYXkgcHVycG9zZXMKICAgICAgcmVtYWluaW5nID0gdG90YWxTdXBwbHk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIb3cgbWFueSB0b2tlbnMgYXJlIGxlZnQKICAgICAgZXRoUmF0ZSA9IDcxODsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkZWZhdWx0IHRva2VuIHByaWNlCiAgICAgIGljb1N0YXR1cyA9IDE7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVmYXVsdCBpY28gc3RhdHVzCiAgICAgIGljb1Rva2VuUHJpY2UgPSA0MDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFsdWVzIGFyZSBpbiBjZW50cwogICAgICBiZW5BZGRyZXNzID0gMHhEQjE5RTM1ZTA0RDNBYjMxOWIzMzkxNzU1ZTc5NzhjYjZEOTY3RERjOyAgICAgICAgICAgICAgICAgIC8vIGZ1bmRzIHdpdGhkcmF3IGFkZHJlc3MKICAgICAgYmthZGRyZXNzICA9IDB4MzcwNmVlRjAxNDhEOTQwOGQ4OUEwRTg2ZTA5MTM3ZjhkRkVFMDJFODsgICAgICAgICAgICAgICAgICAgCiAgICAgIGFsbG93VHJhbnNmZXJUb2tlbiA9IDA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVmYXVsdCBzZXQgdG8gZGlzYWJsZSwgaXQgd2lsbCBiZSBlbmFibGUgYWZ0ZXIgSUNPIGlzIG92ZXIKICAgIH0KCiAgIG1vZGlmaWVyIG9ubHlPd25lcigpCiAgICB7CiAgICAgICAgcmVxdWlyZSgobXNnLnNlbmRlciA9PSBvd25lcikgfHwgKG1zZy5zZW5kZXIgPT0gIGJrYWRkcmVzcykpOwogICAgICAgIF87CiAgICB9CgoKICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsZWQgd2hlbiBldGhlciBpcyBzZW5kIHRvIGNvbnRyYWN0CiAgICB7CiAgICAgICAgaWYgKHJlbWFpbmluZyA+IDAgJiYgaWNvU3RhdHVzID09IDEgKQogICAgICAgIHsKICAgICAgICAgICAgdWludCAgZmluYWxUb2tlbnMgPSAgKG1zZy52YWx1ZSAqIGV0aFJhdGUgKSAvIGljb1Rva2VuUHJpY2U7CiAgICAgICAgICAgIGZpbmFsVG9rZW5zID0gIGZpbmFsVG9rZW5zICogICgxMCAqKiAyKSA7IAogICAgICAgICAgICBpZihmaW5hbFRva2VucyA8IHJlbWFpbmluZykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICByZW1haW5pbmcgPSByZW1haW5pbmcgLSBmaW5hbFRva2VuczsKICAgICAgICAgICAgICAgICAgICBhbW91bnRDb2xsZWN0ZWQgPSBhbW91bnRDb2xsZWN0ZWQgKyAobXNnLnZhbHVlIC8gMTAgKiogMTgpOwogICAgICAgICAgICAgICAgICAgIF90cmFuc2Zlcihvd25lcixtc2cuc2VuZGVyLCBmaW5hbFRva2Vucyk7IAogICAgICAgICAgICAgICAgICAgIFRyYW5zZmVyU2VsbChvd25lciwgbXNnLnNlbmRlciwgZmluYWxUb2tlbnMsJ09ubGluZScpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIH0KICAgIH0gICAgCiAgICAKICAgIGZ1bmN0aW9uIHNlbGxPZmZsaW5lKGFkZHJlc3MgcmVjX2FkZHJlc3MsdWludDI1NiB0b2tlbl9hbW91bnQpIHB1YmxpYyBvbmx5T3duZXIgCiAgICB7CiAgICAgICAgaWYgKHJlbWFpbmluZyA+IDApCiAgICAgICAgewogICAgICAgICAgICB1aW50IGZpbmFsVG9rZW5zID0gICh0b2tlbl9hbW91bnQgICogKDEwICoqIDE4KSk7ICAgICAgICAgICAgICAKICAgICAgICAgICAgaWYoZmluYWxUb2tlbnMgPCByZW1haW5pbmcpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcmVtYWluaW5nID0gcmVtYWluaW5nIC0gZmluYWxUb2tlbnM7CiAgICAgICAgICAgICAgICAgICAgX3RyYW5zZmVyKG93bmVyLHJlY19hZGRyZXNzLCBmaW5hbFRva2Vucyk7ICAgIAogICAgICAgICAgICAgICAgICAgIFRyYW5zZmVyU2VsbChvd25lciwgcmVjX2FkZHJlc3MsIGZpbmFsVG9rZW5zLCdPZmZsaW5lJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgfSAgICAgICAgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdldEV0aFJhdGUoKSBvbmx5T3duZXIgcHVibGljIGNvbnN0YW50IHJldHVybnMgICh1aW50KSAgICAgICAgICAgIC8vIEdldCBjdXJyZW50IHJhdGUgb2YgZXRoZXIgCiAgICB7CiAgICAgICAgcmV0dXJuIGV0aFJhdGU7CiAgICB9CgogICAgCiAgICBmdW5jdGlvbiBnZXRDb25CYWwoKSBvbmx5T3duZXIgcHVibGljIGNvbnN0YW50IHJldHVybnMgICh1aW50KSAgICAgICAgICAgIC8vIEdldCAgQmFsYW5jZSAKICAgIHsKICAgICAgICByZXR1cm4gdGhpcy5iYWxhbmNlOwogICAgfSAgICAKICAgIAogICAgZnVuY3Rpb24gc2V0RXRoUmF0ZSAodWludCBuZXdFdGhSYXRlKSBwdWJsaWMgIG9ubHlPd25lciAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGV0aGVyIHByaWNlCiAgICB7CiAgICAgICAgZXRoUmF0ZSA9IG5ld0V0aFJhdGU7CiAgICB9IAoKCiAgICBmdW5jdGlvbiBnZXRUb2tlblByaWNlKCkgb25seU93bmVyIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICAodWludCkgICAgICAgICAvLyBHZXQgY3VycmVudCB0b2tlbiBwcmljZQogICAgewogICAgICAgIHJldHVybiBpY29Ub2tlblByaWNlOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBzZXRUb2tlblByaWNlICh1aW50IG5ld1Rva2VuUmF0ZSkgcHVibGljICBvbmx5T3duZXIgICAgICAgICAgICAgICAvLyBTZXQgb25lIHRva2VuIHByaWNlCiAgICB7CiAgICAgICAgaWNvVG9rZW5QcmljZSA9IG5ld1Rva2VuUmF0ZTsKICAgIH0gICAgIAogICAgCiAgICAKICAgIGZ1bmN0aW9uIHNldFRyYW5zZmVyU3RhdHVzICh1aW50IHN0YXR1cykgcHVibGljICBvbmx5T3duZXIgICAgICAgICAgICAgICAgIC8vIFNldCB0cmFuc2ZlciBzdGF0dXMKICAgIHsKICAgICAgICBhbGxvd1RyYW5zZmVyVG9rZW4gPSBzdGF0dXM7CiAgICB9ICAgCiAgICAKICAgIGZ1bmN0aW9uIGNoYW5nZUljb1N0YXR1cyAodWludDggc3RhdHgpICBwdWJsaWMgb25seU93bmVyICAgICAgICAgICAgICAgICAgIC8vIENoYW5nZSBJQ08gU3RhdHVzCiAgICB7CiAgICAgICAgaWNvU3RhdHVzID0gc3RhdHg7CiAgICB9IAogICAgCgogICAgZnVuY3Rpb24gd2l0aGRyYXcodWludCBhbW91bnRXaXRoKSBwdWJsaWMgb25seU93bmVyICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2l0aGRyYXcgcGFydGljYWwgYW1vdW50CiAgICAgICAgewogICAgICAgICAgICBpZigobXNnLnNlbmRlciA9PSBvd25lcikgfHwgKG1zZy5zZW5kZXIgPT0gIGJrYWRkcmVzcykpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGJlbkFkZHJlc3MudHJhbnNmZXIoYW1vdW50V2l0aCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICBmdW5jdGlvbiB3aXRoZHJhd19hbGwoKSBwdWJsaWMgb25seU93bmVyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsIHRvIHdpdGhkcmF3IGFsbCBhdmFpbGFibGUgYmFsYW5jZQogICAgICAgIHsKICAgICAgICAgICAgaWYoKG1zZy5zZW5kZXIgPT0gb3duZXIpIHx8IChtc2cuc2VuZGVyID09ICBia2FkZHJlc3MpICkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdmFyIGFtb3VudFdpdGggPSB0aGlzLmJhbGFuY2UgLSAxMDAwMDAwMDAwMDAwMDAwMDsKICAgICAgICAgICAgICAgIGJlbkFkZHJlc3MudHJhbnNmZXIoYW1vdW50V2l0aCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICBmdW5jdGlvbiBtaW50VG9rZW4odWludDI1NiB0b2tlbnNUb01pbnQpIHB1YmxpYyBvbmx5T3duZXIgCiAgICAgICAgewogICAgICAgICAgICBpZih0b2tlbnNUb01pbnQgPiAwKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB2YXIgdG90YWxUb2tlblRvTWludCA9IHRva2Vuc1RvTWludCAqICgxMCAqKiAxOCk7CiAgICAgICAgICAgICAgICBiYWxhbmNlT2Zbb3duZXJdICs9IHRvdGFsVG9rZW5Ub01pbnQ7CiAgICAgICAgICAgICAgICB0b3RhbFN1cHBseSArPSB0b3RhbFRva2VuVG9NaW50OwogICAgICAgICAgICAgICAgVHJhbnNmZXIoMCwgb3duZXIsIHRvdGFsVG9rZW5Ub01pbnQpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgIGZ1bmN0aW9uIGZyZWV6ZUFjY291bnQoYWRkcmVzcyB0YXJnZXQsIGJvb2wgZnJlZXplKSBwcml2YXRlIG9ubHlPd25lciAKICAgICAgICB7CiAgICAgICAgICAgIGZyb3plbkFjY291bnRbdGFyZ2V0XSA9IGZyZWV6ZTsKICAgICAgICAgICAgRnJvemVuRnVuZHModGFyZ2V0LCBmcmVlemUpOwogICAgICAgIH0KICAgICAgICAgICAgCgogICAgZnVuY3Rpb24gZ2V0Q29sbGVjdGVkQW1vdW50KCkgb25seU93bmVyIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIAogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIGFtb3VudENvbGxlY3RlZDsKICAgICAgICB9ICAgICAgICAKCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIAogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIGJhbGFuY2VPZltfb3duZXJdOwogICAgICAgIH0KCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHByaXZhdGUgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB0c3VwcGx5KSAKICAgICAgICB7CiAgICAgICAgICAgIHRzdXBwbHkgPSB0b3RhbFN1cHBseTsKICAgICAgICB9ICAgIAoKCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgb25seU93bmVyIAogICAgICAgIHsgCiAgICAgICAgICAgIGJhbGFuY2VPZltvd25lcl0gPSAwOyAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICBiYWxhbmNlT2ZbbmV3T3duZXJdID0gcmVtYWluaW5nOyAgICAgICAgICAgICAgIAogICAgICAgICAgICBvd25lciA9IG5ld093bmVyOyAKICAgICAgICB9ICAgICAgICAKCiAgLyogSW50ZXJuYWwgdHJhbnNmZXIsIG9ubHkgY2FuIGJlIGNhbGxlZCBieSB0aGlzIGNvbnRyYWN0ICovCiAgZnVuY3Rpb24gX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaW50ZXJuYWwgCiAgICAgIHsKICAgICAgICAgIGlmKGFsbG93VHJhbnNmZXJUb2tlbiA9PSAxIHx8IF9mcm9tID09IG93bmVyICkKICAgICAgICAgIHsKICAgICAgICAgICAgICByZXF1aXJlKCFmcm96ZW5BY2NvdW50W19mcm9tXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRyYW5zZmVyIGZyb20gZnJvemVuZnVuZHMKICAgICAgICAgICAgICByZXF1aXJlIChfdG8gIT0gMHgwKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRyYW5zZmVyIHRvIDB4MCBhZGRyZXNzLiBVc2UgYnVybigpIGluc3RlYWQKICAgICAgICAgICAgICByZXF1aXJlIChiYWxhbmNlT2ZbX2Zyb21dID4gX3ZhbHVlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICAgICAgICByZXF1aXJlIChiYWxhbmNlT2ZbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VPZltfdG9dKTsgICAgICAgICAgICAgICAvLyBDaGVjayBmb3Igb3ZlcmZsb3dzCiAgICAgICAgICAgICAgYmFsYW5jZU9mW19mcm9tXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgICAgICAgYmFsYW5jZU9mW190b10gKz0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRvIHRoZSByZWNpcGllbnQKICAgICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByYWlzZSBldmVudAogICAgICAgICAgfQogICAgICAgICAgZWxzZQogICAgICAgICAgewogICAgICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICAgIH0KICAgICAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpICBwdWJsaWMKICAgICAgewogICAgICAgICAgX3RyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSAKICAgICAgewogICAgICAgICAgcmVxdWlyZSAoX3ZhbHVlIDwgYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSk7ICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGFsbG93YW5jZQogICAgICAgICAgYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICBfdHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIAogICAgICB7CiAgICAgICAgICBhbGxvd2FuY2VbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9leHRyYURhdGEpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpCiAgICAgIHsKICAgICAgICAgIHRva2VuUmVjaXBpZW50IHNwZW5kZXIgPSB0b2tlblJlY2lwaWVudChfc3BlbmRlcik7CiAgICAgICAgICBpZiAoYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKSkgewogICAgICAgICAgICAgIHNwZW5kZXIucmVjZWl2ZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSk7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgIH0gICAgICAgIAoKICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSAKICAgICAgewogICAgICAgICAgcmVxdWlyZSAoYmFsYW5jZU9mW21zZy5zZW5kZXJdID4gX3ZhbHVlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaAogICAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdIC09IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgICAgdG90YWxTdXBwbHkgLT0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZXMgdG90YWxTdXBwbHkKICAgICAgICAgIEJ1cm4obXNnLnNlbmRlciwgX3ZhbHVlKTsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogIGZ1bmN0aW9uIGJ1cm5Gcm9tKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSAKICAgICAgewogICAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbX2Zyb21dID49IF92YWx1ZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSB0YXJnZXRlZCBiYWxhbmNlIGlzIGVub3VnaAogICAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSk7ICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGFsbG93YW5jZQogICAgICAgICAgYmFsYW5jZU9mW19mcm9tXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHRhcmdldGVkIGJhbGFuY2UKICAgICAgICAgIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIncyBhbGxvd2FuY2UKICAgICAgICAgIHRvdGFsU3VwcGx5IC09IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdG90YWxTdXBwbHkKICAgICAgICAgIEJ1cm4oX2Zyb20sIF92YWx1ZSk7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQp9IC8vIGVuZCBvZiBjb250cmFjdA=='.
	

]
