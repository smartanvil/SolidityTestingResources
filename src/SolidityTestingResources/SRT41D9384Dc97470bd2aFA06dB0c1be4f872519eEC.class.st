Class {
	#name : #SRT41D9384Dc97470bd2aFA06dB0c1be4f872519eEC,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT41D9384Dc97470bd2aFA06dB0c1be4f872519eEC >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgIGlmIChuZXdPd25lciAhPSBhZGRyZXNzKDApKSB7CiAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9CiAgfQp9CgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9Cgpjb250cmFjdCBGb2xsb3dDb2luIGlzIE93bmFibGUsIEVSQzIwIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIC8vIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuCiAgICBzdHJpbmcgcHVibGljIG5hbWU7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKICAgIAogICAgLy8gVGhpcyBjcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGJhbGFuY2VzCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGFsbG93ZWRBY2NvdW50OwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dhbmNlOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgaXNIb2xkZXI7CiAgICBhZGRyZXNzIFtdIHB1YmxpYyBob2xkZXJzOwoKICAgIC8vIFRoaXMgbm90aWZpZXMgY2xpZW50cyBhYm91dCB0aGUgYW1vdW50IGJ1cm50CiAgICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50MjU2IHZhbHVlKTsKCiAgICBib29sIHB1YmxpYyBjb250cmlidXRvcnNMb2NrZG93biA9IHRydWU7CgogICAgZnVuY3Rpb24gZGlzYWJsZUxvY2tEb3duKCkgb25seU93bmVyIHsKICAgICAgY29udHJpYnV0b3JzTG9ja2Rvd24gPSBmYWxzZTsKICAgIH0KCiAgICBtb2RpZmllciBjb2luc0xvY2tlZCgpIHsKICAgICAgcmVxdWlyZSghY29udHJpYnV0b3JzTG9ja2Rvd24gfHwgbXNnLnNlbmRlciA9PSBvd25lciB8fCBhbGxvd2VkQWNjb3VudFttc2cuc2VuZGVyXSk7CiAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3RvciBmdW5jdGlvbgogICAgICoKICAgICAqIEluaXRpYWxpemVzIGNvbnRyYWN0IHdpdGggaW5pdGlhbCBzdXBwbHkgdG9rZW5zIHRvIHRoZSBjcmVhdG9yIG9mIHRoZSBjb250cmFjdAogICAgICovCiAgICBmdW5jdGlvbiBGb2xsb3dDb2luKAogICAgICAgIAogICAgICAgIGFkZHJlc3MgbXVsdGlTaWdXYWxsZXQsCiAgICAgICAgdWludDI1NiBpbml0aWFsU3VwcGx5LAogICAgICAgIHN0cmluZyB0b2tlbk5hbWUsCiAgICAgICAgdWludDggZGVjaW1hbFVuaXRzLAogICAgICAgIHN0cmluZyB0b2tlblN5bWJvbAogICAgICAgIAogICAgKSB7CgogICAgICAgIG93bmVyID0gbXVsdGlTaWdXYWxsZXQ7CiAgICAgICAgdG90YWxTdXBwbHkgPSBpbml0aWFsU3VwcGx5OyAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0b3RhbCBzdXBwbHkKICAgICAgICBuYW1lID0gdG9rZW5OYW1lOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBuYW1lIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgc3ltYm9sID0gdG9rZW5TeW1ib2w7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgc3ltYm9sIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgZGVjaW1hbHMgPSBkZWNpbWFsVW5pdHM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFtb3VudCBvZiBkZWNpbWFscyBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICAgIGJhbGFuY2VzW293bmVyXSA9IHRvdGFsU3VwcGx5OyAgICAgICAgICAgICAgICAgICAvLyBHaXZlIHRoZSBjcmVhdG9yIGFsbCBpbml0aWFsIHRva2VucwoKICAgICAgICBpZiAoaXNIb2xkZXJbb3duZXJdICE9IHRydWUpIHsKICAgICAgICAgICAgaG9sZGVyc1tob2xkZXJzLmxlbmd0aCsrXSA9IG93bmVyOwogICAgICAgICAgICBpc0hvbGRlcltvd25lcl0gPSB0cnVlOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEludGVybmFsIHRyYW5zZmVyLCBvbmx5IGNhbiBiZSBjYWxsZWQgYnkgdGhpcyBjb250cmFjdAogICAgICovCiAgICBmdW5jdGlvbiBfdHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBpbnRlcm5hbCBjb2luc0xvY2tlZCB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gMHgwKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCB0cmFuc2ZlciB0byAweDAgYWRkcmVzcy4gVXNlIGJ1cm4oKSBpbnN0ZWFkCgogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mKF9mcm9tKSA+PSBfdmFsdWUpOyAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICByZXF1aXJlKGJhbGFuY2VPZihfdG8pLmFkZChfdmFsdWUpID4gYmFsYW5jZU9mKF90bykpOyAvLyBDaGVjayBmb3Igb3ZlcmZsb3dzCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZU9mKF9mcm9tKS5zdWIoX3ZhbHVlKTsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VPZihfdG8pLmFkZChfdmFsdWUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgc2FtZSB0byB0aGUgcmVjaXBpZW50CgogICAgICAgIGlmIChpc0hvbGRlcltfdG9dICE9IHRydWUpIHsKICAgICAgICAgICAgaG9sZGVyc1tob2xkZXJzLmxlbmd0aCsrXSA9IF90bzsKICAgICAgICAgICAgaXNIb2xkZXJbX3RvXSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogVHJhbnNmZXIgdG9rZW5zCiAgICAgKgogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbnMgdG8gYF90b2AgZnJvbSB5b3VyIGFjY291bnQKICAgICAqCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIGFtb3VudCB0byBzZW5kCiAgICAgKi8KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSAgewogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3ModGhpcykpOwogICAgICAgIF90cmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvdGhlciBhZGRyZXNzCiAgICAgKgogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbnMgdG8gYF90b2AgaW4gYmVoYWxmIG9mIGBfZnJvbWAKICAgICAqCiAgICAgKiBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBhbW91bnQgdG8gc2VuZAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdKTsgICAgIC8vIENoZWNrIGFsbG93YW5jZQogICAgICAgIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIF90cmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IGFsbG93YW5jZSBmb3Igb3RoZXIgYWRkcmVzcwogICAgICoKICAgICAqIEFsbG93cyBgX3NwZW5kZXJgIHRvIHNwZW5kIG5vIG1vcmUgdGhhbiBgX3ZhbHVlYCB0b2tlbnMgaW4geW91ciBiZWhhbGYKICAgICAqCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3MgYXV0aG9yaXplZCB0byBzcGVuZAogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgbWF4IGFtb3VudCB0aGV5IGNhbiBzcGVuZAogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMKICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2FuY2VbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICAgcmV0dXJuIGFsbG93YW5jZVtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCgogICAgZnVuY3Rpb24gYWxsb3dBY2NvdW50KGFkZHJlc3MgX3RhcmdldCwgYm9vbCBhbGxvdykgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoKICAgICAgICAgYWxsb3dlZEFjY291bnRbX3RhcmdldF0gPSBhbGxvdzsKICAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gbWludCh1aW50MjU2IG1pbnRlZEFtb3VudCkgb25seU93bmVyIHsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VPZihtc2cuc2VuZGVyKS5hZGQobWludGVkQW1vdW50KTsKICAgICAgICB0b3RhbFN1cHBseSAgPSB0b3RhbFN1cHBseS5hZGQobWludGVkQW1vdW50KTsKICAgICAgICBUcmFuc2ZlcigwLCBvd25lciwgbWludGVkQW1vdW50KTsKICAgIH0KCiAgICAvKioKICAgICAqIERlc3Ryb3kgdG9rZW5zCiAgICAgKgogICAgICogUmVtb3ZlIGBfdmFsdWVgIHRva2VucyBmcm9tIHRoZSBzeXN0ZW0gaXJyZXZlcnNpYmx5CiAgICAgKgogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IG9mIG1vbmV5IHRvIGJ1cm4KICAgICAqLwogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mKG1zZy5zZW5kZXIpID49IF92YWx1ZSk7ICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlT2YobXNnLnNlbmRlcikuc3ViKF92YWx1ZSk7ICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5zdWIoX3ZhbHVlKTsgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlcyB0b3RhbFN1cHBseQogICAgICAgIEJ1cm4obXNnLnNlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKCi8qCiAqIEhhbHRhYmxlCiAqCiAqIEFic3RyYWN0IGNvbnRyYWN0IHRoYXQgYWxsb3dzIGNoaWxkcmVuIHRvIGltcGxlbWVudCBhbgogKiBlbWVyZ2VuY3kgc3RvcCBtZWNoYW5pc20uIERpZmZlcnMgZnJvbSBQYXVzYWJsZSBieSByZXF1aXJpbmcgYSBzdGF0ZS4KICoKICoKICogT3JpZ2luYWxseSBlbnZpc2lvbmVkIGluIEZpcnN0Qmxvb2QgSUNPIGNvbnRyYWN0LgogKi8KIGNvbnRyYWN0IEhhbHRhYmxlIGlzIE93bmFibGUgewogICBib29sIHB1YmxpYyBoYWx0ZWQ7CgogICBtb2RpZmllciBpbk5vcm1hbFN0YXRlIHsKICAgICBhc3NlcnQoIWhhbHRlZCk7CiAgICAgXzsKICAgfQoKICAgbW9kaWZpZXIgaW5FbWVyZ2VuY3lTdGF0ZSB7CiAgICAgYXNzZXJ0KGhhbHRlZCk7CiAgICAgXzsKICAgfQoKICAgLy8gY2FsbGVkIGJ5IHRoZSBvd25lciBvbiBlbWVyZ2VuY3ksIHRyaWdnZXJzIHN0b3BwZWQgc3RhdGUKICAgZnVuY3Rpb24gaGFsdCgpIGV4dGVybmFsIG9ubHlPd25lciBpbk5vcm1hbFN0YXRlIHsKICAgICBoYWx0ZWQgPSB0cnVlOwogICB9CgogICAvLyBjYWxsZWQgYnkgdGhlIG93bmVyIG9uIGVuZCBvZiBlbWVyZ2VuY3ksIHJldHVybnMgdG8gbm9ybWFsIHN0YXRlCiAgIGZ1bmN0aW9uIHVuaGFsdCgpIGV4dGVybmFsIG9ubHlPd25lciBpbkVtZXJnZW5jeVN0YXRlIHsKICAgICBoYWx0ZWQgPSBmYWxzZTsKICAgfQoKIH0KCmNvbnRyYWN0IEZvbGxvd0NvaW5Ub2tlblNhbGUgaXMgSGFsdGFibGUgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgYWRkcmVzcyBwdWJsaWMgYmVuZWZpY2lhcnk7CiAgICBhZGRyZXNzIHB1YmxpYyBtdWx0aXNpZzsKICAgIHVpbnQgcHVibGljIHRva2VuTGltaXRQZXJXYWxsZXQ7CiAgICB1aW50IHB1YmxpYyBoYXJkQ2FwOwogICAgdWludCBwdWJsaWMgYW1vdW50UmFpc2VkOwogICAgdWludCBwdWJsaWMgdG90YWxUb2tlbnM7CiAgICB1aW50IHB1YmxpYyB0b2tlbnNTb2xkID0gMDsKICAgIHVpbnQgcHVibGljIGludmVzdG9yQ291bnQgPSAwOwogICAgdWludCBwdWJsaWMgc3RhcnRUaW1lc3RhbXA7CiAgICB1aW50IHB1YmxpYyBkZWFkbGluZTsKICAgIHVpbnQgcHVibGljIHRva2Vuc1BlckV0aGVyOwogICAgRm9sbG93Q29pbiBwdWJsaWMgdG9rZW5SZXdhcmQ7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VzOwoKICAgIGV2ZW50IEZ1bmRUcmFuc2ZlcihhZGRyZXNzIGJhY2tlciwgdWludCBhbW91bnQsIGJvb2wgaXNDb250cmlidXRpb24pOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3IgZnVuY3Rpb24KICAgICAqCiAgICAgKiBTZXR1cCB0aGUgb3duZXIKICAgICAqLwogICAgZnVuY3Rpb24gRm9sbG93Q29pblRva2VuU2FsZSgKICAgICAgICBhZGRyZXNzIG11bHRpU2lnV2FsbGV0LAogICAgICAgIHVpbnQgaWNvVG9rZW5zTGltaXRQZXJXYWxsZXQsCiAgICAgICAgdWludCBpY29IYXJkQ2FwLAogICAgICAgIHVpbnQgaWNvU3RhcnRUaW1lc3RhbXAsCiAgICAgICAgdWludCBkdXJhdGlvbkluRGF5cywKICAgICAgICB1aW50IGljb1RvdGFsVG9rZW5zLAogICAgICAgIHVpbnQgaWNvVG9rZW5zUGVyRXRoZXIsCiAgICAgICAgYWRkcmVzcyBhZGRyZXNzT2ZUb2tlblVzZWRBc1Jld2FyZAogICAgICAgIAogICAgKSB7CiAgICAgICAgbXVsdGlzaWcgPSBtdWx0aVNpZ1dhbGxldDsKICAgICAgICBvd25lciA9IG11bHRpU2lnV2FsbGV0OwogICAgICAgIGhhcmRDYXAgPSBpY29IYXJkQ2FwOwogICAgICAgIGRlYWRsaW5lID0gaWNvU3RhcnRUaW1lc3RhbXAgKyBkdXJhdGlvbkluRGF5cyAqIDEgZGF5czsKICAgICAgICBzdGFydFRpbWVzdGFtcCA9IGljb1N0YXJ0VGltZXN0YW1wOwogICAgICAgIHRvdGFsVG9rZW5zID0gaWNvVG90YWxUb2tlbnM7CiAgICAgICAgdG9rZW5MaW1pdFBlcldhbGxldCA9IGljb1Rva2Vuc0xpbWl0UGVyV2FsbGV0OwogICAgICAgIHRva2Vuc1BlckV0aGVyID0gaWNvVG9rZW5zUGVyRXRoZXI7CiAgICAgICAgdG9rZW5SZXdhcmQgPSBGb2xsb3dDb2luKGFkZHJlc3NPZlRva2VuVXNlZEFzUmV3YXJkKTsKICAgICAgICBiZW5lZmljaWFyeSA9IG11bHRpc2lnOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoYW5nZU11bHRpc2lnV2FsbGV0KGFkZHJlc3MgX211bHRpc2lnKSBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoX211bHRpc2lnICE9IGFkZHJlc3MoMCkpOwogICAgICAgIG11bHRpc2lnID0gX211bHRpc2lnOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoYW5nZVRva2VuUmV3YXJkKGFkZHJlc3MgX3Rva2VuKSBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoX3Rva2VuICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHRva2VuUmV3YXJkID0gRm9sbG93Q29pbihfdG9rZW4pOwogICAgICAgIGJlbmVmaWNpYXJ5ID0gdG9rZW5SZXdhcmQub3duZXIoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIC8qKgogICAgICogRmFsbGJhY2sgZnVuY3Rpb24KICAgICAqCiAgICAgKiBUaGUgZnVuY3Rpb24gd2l0aG91dCBuYW1lIGlzIHRoZSBkZWZhdWx0IGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW5ldmVyIGFueW9uZSBzZW5kcyBmdW5kcyB0byBhIGNvbnRyYWN0CiAgICAgKi8KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgcHJlU2FsZUFjdGl2ZSBpbk5vcm1hbFN0YXRlIHsKICAgICAgICBidXlUb2tlbnMoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBidXlUb2tlbnMoKSBwYXlhYmxlIHByZVNhbGVBY3RpdmUgaW5Ob3JtYWxTdGF0ZSB7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPiAwKTsKICAgICAgIAogICAgICAgIHVpbnQgYW1vdW50ID0gbXNnLnZhbHVlOwogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mKG1zZy5zZW5kZXIpLmFkZChhbW91bnQpIDw9IHRva2VuTGltaXRQZXJXYWxsZXQpOwoKICAgICAgICB1aW50IHRva2VucyA9ICBjYWxjdWxhdGVUb2tlbkFtb3VudChhbW91bnQpOwogICAgICAgIHJlcXVpcmUodG90YWxUb2tlbnMgPj0gdG9rZW5zKTsKICAgICAgICByZXF1aXJlKHRva2Vuc1NvbGQuYWRkKHRva2VucykgPD0gaGFyZENhcCk7IC8vIGhhcmRDYXAgbGltaXQKICAgICAgICAKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLmFkZChhbW91bnQpOwogICAgICAgIGFtb3VudFJhaXNlZCA9IGFtb3VudFJhaXNlZC5hZGQoYW1vdW50KTsKCiAgICAgICAgdG9rZW5zU29sZCA9IHRva2Vuc1NvbGQuYWRkKHRva2Vucyk7CiAgICAgICAgdG90YWxUb2tlbnMgPSB0b3RhbFRva2Vucy5zdWIodG9rZW5zKTsKCiAgICAgICAgaWYgKHRva2VuUmV3YXJkLmJhbGFuY2VPZihtc2cuc2VuZGVyKSA9PSAwKSBpbnZlc3RvckNvdW50Kys7CgogICAgICAgIHRva2VuUmV3YXJkLnRyYW5zZmVyKG1zZy5zZW5kZXIsIHRva2Vucyk7CiAgICAgICAgbXVsdGlzaWcudHJhbnNmZXIoYW1vdW50KTsKICAgICAgICBGdW5kVHJhbnNmZXIobXNnLnNlbmRlciwgYW1vdW50LCB0cnVlKTsKICAgIH0KCiAgICBtb2RpZmllciBwcmVTYWxlQWN0aXZlKCkgewogICAgICByZXF1aXJlKG5vdyA+PSBzdGFydFRpbWVzdGFtcCk7CiAgICAgIHJlcXVpcmUobm93IDwgZGVhZGxpbmUpOwogICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFNvbGQodWludCB0b2tlbnMpIG9ubHlPd25lciB7CiAgICAgIHRva2Vuc1NvbGQgPSB0b2tlbnNTb2xkLmFkZCh0b2tlbnMpOwogICAgfQoKCiAgICBmdW5jdGlvbiBzZW5kVG9rZW5zQmFja1RvV2FsbGV0KCkgb25seU93bmVyIHsKICAgICAgdG90YWxUb2tlbnMgPSAwOwogICAgICB0b2tlblJld2FyZC50cmFuc2ZlcihtdWx0aXNpZywgdG9rZW5SZXdhcmQuYmFsYW5jZU9mKGFkZHJlc3ModGhpcykpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRUb2tlbkJhbGFuY2UoYWRkcmVzcyBfZnJvbSkgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICAgIHJldHVybiB0b2tlblJld2FyZC5iYWxhbmNlT2YoX2Zyb20pOwogICAgfQoKICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVRva2VuQW1vdW50KHVpbnQyNTYgYW1vdW50KSBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYW1vdW50Lm11bCh0b2tlbnNQZXJFdGhlcik7CiAgICB9Cn0='.
	

]
