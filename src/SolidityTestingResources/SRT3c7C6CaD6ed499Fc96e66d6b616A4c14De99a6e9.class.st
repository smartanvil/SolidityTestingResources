Class {
	#name : #SRT3c7C6CaD6ed499Fc96e66d6b616A4c14De99a6e9,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT3c7C6CaD6ed499Fc96e66d6b616A4c14De99a6e9 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7Cgpjb250cmFjdCBFbmdyYXZlZFRva2VuIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgZnVuY3Rpb24gaXNzdWUoYWRkcmVzcywgdWludDI1NikgcmV0dXJucyAoYm9vbCkge30KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7fQogICAgZnVuY3Rpb24gdW5sb2NrKCkgcmV0dXJucyAoYm9vbCkge30KICAgIGZ1bmN0aW9uIHN0YXJ0SW5jZW50aXZlRGlzdHJpYnV0aW9uKCkgcmV0dXJucyAoYm9vbCkge30KICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MpIHt9CiAgICBmdW5jdGlvbiBvd25lcigpIHJldHVybnMgKGFkZHJlc3MpIHt9Cn0KCmNvbnRyYWN0IEVHUkNyb3dkc2FsZSB7CiAgICAvLyBDcm93ZHNhbGUgZGV0YWlscwogICAgYWRkcmVzcyBwdWJsaWMgYmVuZWZpY2lhcnk7CiAgICBhZGRyZXNzIHB1YmxpYyBjb25maXJtZWRCeTsgLy8gQWRkcmVzcyB0aGF0IGNvbmZpcm1lZCBiZW5lZmljaWFyeQoKICAgIC8vIE1heGltdW0gdG9rZW5zIHN1cHBseQogICAgdWludDI1NiBwdWJsaWMgbWF4U3VwcGx5ID0gMTAwMDAwMDAwMDsgLy8gMSBiaWxsaW9uCgogICAgLy8gTWludW0gYW1vdW50IG9mIGV0aGVyIHRvIGJlIGV4Y2hhbmdlZCBmb3IgRUdSCiAgICB1aW50MjU2IHB1YmxpYyBtaW5BY2NlcHRlZEFtb3VudCA9IDEwIGZpbm5leTsgLy8gMC4wMSBFVEgKCiAgICAvL0Ftb3VudCBvZiBmcmVlIHRva2VucyBwZXIgdXNlciBpbiBhaXJkcm9wIHBlcmlvZAogICAgdWludDI1NiBwdWJsaWMgcmF0ZUFpckRyb3AgPSAxMDAwOwoKICAgIC8vIE51bWJlciBvZiBhaXJkcm9wIHBhcnRpY2lwYW50cwogICAgdWludDI1NiBwdWJsaWMgYWlyZHJvcFBhcnRpY2lwYW50czsKCiAgICAvL01heGltdW0gbnVtYmVyIG9mIGFpcmRyb3AgcGFydGljaXBhbnRzCiAgICB1aW50MjU2IHB1YmxpYyBtYXhBaXJkcm9wUGFydGljaXBhbnRzID0gNTAwOwoKICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgdGhlIGZpcnN0IHBhcnRpY2lwYXRpb24gaW4gdGhlIGFpcmRyb3AKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcGFydGljaXBhdGVkSW5BaXJkcm9wOwoKICAgIC8vIEVUSCB0byBFR1IgcmF0ZQogICAgdWludDI1NiBwdWJsaWMgcmF0ZUFuZ2Vsc0RheSA9IDEwMDAwMDsKICAgIHVpbnQyNTYgcHVibGljIHJhdGVGaXJzdFdlZWsgPSA4MDAwMDsKICAgIHVpbnQyNTYgcHVibGljIHJhdGVTZWNvbmRXZWVrID0gNzAwMDA7CiAgICB1aW50MjU2IHB1YmxpYyByYXRlVGhpcmRXZWVrID0gNjAwMDA7CiAgICB1aW50MjU2IHB1YmxpYyByYXRlTGFzdFdlZWsgPSA1MDAwMDsKCiAgICB1aW50MjU2IHB1YmxpYyBhaXJkcm9wRW5kID0gMyBkYXlzOwogICAgdWludDI1NiBwdWJsaWMgYWlyZHJvcENvb2xkb3duRW5kID0gNyBkYXlzOwogICAgdWludDI1NiBwdWJsaWMgcmF0ZUFuZ2Vsc0RheUVuZCA9IDggZGF5czsKICAgIHVpbnQyNTYgcHVibGljIGFuZ2Vsc0RheUNvb2xkb3duRW5kID0gMTQgZGF5czsKICAgIHVpbnQyNTYgcHVibGljIHJhdGVGaXJzdFdlZWtFbmQgPSAyMSBkYXlzOwogICAgdWludDI1NiBwdWJsaWMgcmF0ZVNlY29uZFdlZWtFbmQgPSAyOCBkYXlzOwogICAgdWludDI1NiBwdWJsaWMgcmF0ZVRoaXJkV2Vla0VuZCA9IDM1IGRheXM7CiAgICB1aW50MjU2IHB1YmxpYyByYXRlTGFzdFdlZWtFbmQgPSA0MiBkYXlzOwoKICAgIGVudW0gU3RhZ2VzIHsKICAgICAgICBBaXJkcm9wLAogICAgICAgIEluUHJvZ3Jlc3MsCiAgICAgICAgRW5kZWQsCiAgICAgICAgV2l0aGRyYXduLAogICAgICAgIFByb3Bvc2VkLAogICAgICAgIEFjY2VwdGVkCiAgICB9CgogICAgU3RhZ2VzIHB1YmxpYyBzdGFnZSA9IFN0YWdlcy5BaXJkcm9wOwoKICAgIC8vIENyb3dkc2FsZSBzdGF0ZQogICAgdWludDI1NiBwdWJsaWMgc3RhcnQ7CiAgICB1aW50MjU2IHB1YmxpYyBlbmQ7CiAgICB1aW50MjU2IHB1YmxpYyByYWlzZWQ7CgogICAgLy8gRUdSIEVuZ3JhdmVkVG9rZW4KICAgIEVuZ3JhdmVkVG9rZW4gcHVibGljIEVHUkVuZ3JhdmVkVG9rZW47CgogICAgLy8gSW52ZXN0ZWQgYmFsYW5jZXMKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogICAgc3RydWN0IFByb3Bvc2FsIHsKICAgICAgICBhZGRyZXNzIGVuZ3JhdmVkQWRkcmVzczsKICAgICAgICB1aW50MjU2IGRlYWRsaW5lOwogICAgICAgIHVpbnQyNTYgYXBwcm92ZWRXZWlnaHQ7CiAgICAgICAgdWludDI1NiBkaXNhcHByb3ZlZFdlaWdodDsKICAgICAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHZvdGVkOwogICAgfQoKICAgIC8vIE93bmVyc2hpcCB0cmFuc2ZlciBwcm9wb3NhbAogICAgUHJvcG9zYWwgcHVibGljIHRyYW5zZmVyUHJvcG9zYWw7CgogICAgLy8gVGltZSB0byB2b3RlCiAgICB1aW50MjU2IHB1YmxpYyB0cmFuc2ZlclByb3Bvc2FsRW5kID0gNyBkYXlzOwoKICAgIC8vIFRpbWUgYmV0d2VlbiBwcm9wb3NhbHMKICAgIHVpbnQyNTYgcHVibGljIHRyYW5zZmVyUHJvcG9zYWxDb29sZG93biA9IDEgZGF5czsKCgogICAgLyoqCiAgICAgKiBUaHJvdyBpZiBhdCBzdGFnZSBvdGhlciB0aGFuIGN1cnJlbnQgc3RhZ2UKICAgICAqCiAgICAgKiBAcGFyYW0gX3N0YWdlIGV4cGVjdGVkIHN0YWdlIHRvIHRlc3QgZm9yCiAgICAgKi8KICAgIG1vZGlmaWVyIGF0U3RhZ2UoU3RhZ2VzIF9zdGFnZSkgewoJCSAgICByZXF1aXJlKHN0YWdlID09IF9zdGFnZSk7CiAgICAgICAgXzsKICAgIH0KCgogICAgLyoqCiAgICAgKiBUaHJvdyBpZiBhdCBzdGFnZSBvdGhlciB0aGFuIGN1cnJlbnQgc3RhZ2UKICAgICAqCiAgICAgKiBAcGFyYW0gX3N0YWdlMSBleHBlY3RlZCBzdGFnZSB0byB0ZXN0IGZvcgogICAgICogQHBhcmFtIF9zdGFnZTIgZXhwZWN0ZWQgc3RhZ2UgdG8gdGVzdCBmb3IKICAgICAqLwogICAgbW9kaWZpZXIgYXRTdGFnZXMoU3RhZ2VzIF9zdGFnZTEsIFN0YWdlcyBfc3RhZ2UyKSB7CgkJICAgIHJlcXVpcmUoc3RhZ2UgPT0gX3N0YWdlMSB8fCBzdGFnZSA9PSBfc3RhZ2UyKTsKICAgICAgICBfOwogICAgfQoKCiAgICAvKioKICAgICAqIFRocm93IGlmIHNlbmRlciBpcyBub3QgYmVuZWZpY2lhcnkKICAgICAqLwogICAgbW9kaWZpZXIgb25seUJlbmVmaWNpYXJ5KCkgewoJCSAgICByZXF1aXJlKGJlbmVmaWNpYXJ5ID09IG1zZy5zZW5kZXIpOwogICAgICAgIF87CiAgICB9CgoKICAgIC8qKgogICAgICogVGhyb3cgaWYgc2VuZGVyIGhhcyBhIEVHUiBiYWxhbmNlIG9mIHplcm8KICAgICAqLwogICAgbW9kaWZpZXIgb25seVRva2VuaG9sZGVycygpIHsKCQkgICAgcmVxdWlyZShFR1JFbmdyYXZlZFRva2VuLmJhbGFuY2VPZihtc2cuc2VuZGVyKSA+IDApOwogICAgICAgIF87CiAgICB9CgoKICAgIC8qKgogICAgICogVGhyb3cgaWYgdGhlIGN1cnJlbnQgdHJhbnNmZXIgcHJvcG9zYWwncyBkZWFkbGluZQogICAgICogaXMgaW4gdGhlIHBhc3QKICAgICAqLwogICAgbW9kaWZpZXIgYmVmb3JlRGVhZGxpbmUoKSB7CgkJICAgIHJlcXVpcmUobm93IDwgdHJhbnNmZXJQcm9wb3NhbC5kZWFkbGluZSk7CiAgICAgICAgXzsKICAgIH0KCgogICAgLyoqCiAgICAgKiBUaHJvdyBpZiB0aGUgY3VycmVudCB0cmFuc2ZlciBwcm9wb3NhbCdzIGRlYWRsaW5lCiAgICAgKiBpcyBpbiB0aGUgZnV0dXJlCiAgICAgKi8KICAgIG1vZGlmaWVyIGFmdGVyRGVhZGxpbmUoKSB7CgkJICAgIHJlcXVpcmUobm93ID4gdHJhbnNmZXJQcm9wb3NhbC5kZWFkbGluZSk7CiAgICAgICAgXzsKICAgIH0KCgogICAgLyoqCiAgICAgKiBHZXQgYmFsYW5jZSBvZiBgX2ludmVzdG9yYAogICAgICoKICAgICAqIEBwYXJhbSBfaW52ZXN0b3IgVGhlIGFkZHJlc3MgZnJvbSB3aGljaCB0aGUgYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZAogICAgICogQHJldHVybiBUaGUgYmFsYW5jZQogICAgICovCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfaW52ZXN0b3IpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfaW52ZXN0b3JdOwogICAgfQoKCiAgICAvKioKICAgICAqIE1vc3QgcGFyYW1zIGFyZSBoYXJkY29kZWQgZm9yIGNsYXJpdHkKICAgICAqCiAgICAgKiBAcGFyYW0gX0VuZ3JhdmVkVG9rZW5BZGRyZXNzIFRoZSBhZGRyZXNzIG9mIHRoZSBFR1IgRW5ncmF2ZWRUb2tlbiBjb250YWN0CiAgICAgKiBAcGFyYW0gX2JlbmVmaWNpYXJ5IENvbXBhbnkgYWRkcmVzcwogICAgICogQHBhcmFtIF9zdGFydCBhaXJkcm9wIHN0YXJ0IGRhdGUKICAgICAqLwogICAgZnVuY3Rpb24gRUdSQ3Jvd2RzYWxlKGFkZHJlc3MgX0VuZ3JhdmVkVG9rZW5BZGRyZXNzLCBhZGRyZXNzIF9iZW5lZmljaWFyeSwgdWludDI1NiBfc3RhcnQpIHsKICAgICAgICBFR1JFbmdyYXZlZFRva2VuID0gRW5ncmF2ZWRUb2tlbihfRW5ncmF2ZWRUb2tlbkFkZHJlc3MpOwogICAgICAgIGJlbmVmaWNpYXJ5ID0gX2JlbmVmaWNpYXJ5OwogICAgICAgIHN0YXJ0ID0gX3N0YXJ0OwogICAgICAgIGVuZCA9IHN0YXJ0ICsgNDIgZGF5czsKICAgIH0KCgogICAgLyoqCiAgICAgKiBGb3IgdGVzdGluZyBwdXJwb3NlcwogICAgICoKICAgICAqIEByZXR1cm4gVGhlIGJlbmVmaWNpYXJ5IGFkZHJlc3MKICAgICAqLwogICAgZnVuY3Rpb24gY29uZmlybUJlbmVmaWNpYXJ5KCkgb25seUJlbmVmaWNpYXJ5IHsKICAgICAgICBjb25maXJtZWRCeSA9IG1zZy5zZW5kZXI7CiAgICB9CgoKICAgIC8qKgogICAgICogQ29udmVydCBgX3dlaWAgdG8gYW4gYW1vdW50IGluIEVHUiB1c2luZwogICAgICogdGhlIGN1cnJlbnQgcmF0ZQogICAgICoKICAgICAqIEBwYXJhbSBfd2VpIGFtb3VudCBvZiB3ZWkgdG8gY29udmVydAogICAgICogQHJldHVybiBUaGUgYW1vdW50IGluIEVHUgogICAgICovCiAgICBmdW5jdGlvbiB0b0VHUih1aW50MjU2IF93ZWkpIHJldHVybnMgKHVpbnQyNTYgYW1vdW50KSB7CiAgICAgICAgdWludDI1NiByYXRlID0gMDsKICAgICAgICBpZiAoc3RhZ2UgIT0gU3RhZ2VzLkVuZGVkICYmIG5vdyA+PSBzdGFydCAmJiBub3cgPD0gZW5kKSB7CgogICAgICAgICAgICAvLyBDaGVjayBmb3IgY29vbCBkb3duIGFmdGVyIGFpcmRyb3AKICAgICAgICAgICAgaWYgKG5vdyA8PSBzdGFydCArIGFpcmRyb3BDb29sZG93bkVuZCkgewogICAgICAgICAgICAgICAgcmF0ZSA9IDA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIENoZWNrIGZvciBBbmdlbHNEYXkKICAgICAgICAgICAgZWxzZSBpZiAobm93IDw9IHN0YXJ0ICsgcmF0ZUFuZ2Vsc0RheUVuZCkgewogICAgICAgICAgICAgICAgcmF0ZSA9IHJhdGVBbmdlbHNEYXk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIENoZWNrIGZvciBjb29sIGRvd24gYWZ0ZXIgdGhlIGFuZ2VscyBkYXkKICAgICAgICAgICAgZWxzZSBpZiAobm93IDw9IHN0YXJ0ICsgYW5nZWxzRGF5Q29vbGRvd25FbmQpIHsKICAgICAgCQkJICAgIHJhdGUgPSAwOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBDaGVjayBmaXJzdCB3ZWVrCiAgICAgICAgICAgIGVsc2UgaWYgKG5vdyA8PSBzdGFydCArIHJhdGVGaXJzdFdlZWtFbmQpIHsKICAgICAgICAgICAgICAgIHJhdGUgPSByYXRlRmlyc3RXZWVrOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBDaGVjayBzZWNvbmQgd2VlawogICAgICAgICAgICBlbHNlIGlmIChub3cgPD0gc3RhcnQgKyByYXRlU2Vjb25kV2Vla0VuZCkgewogICAgICAgICAgICAgICAgcmF0ZSA9IHJhdGVTZWNvbmRXZWVrOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBDaGVjayB0aGlyZCB3ZWVrCiAgICAgICAgICAgIGVsc2UgaWYgKG5vdyA8PSBzdGFydCArIHJhdGVUaGlyZFdlZWtFbmQpIHsKICAgICAgICAgICAgICAgIHJhdGUgPSByYXRlVGhpcmRXZWVrOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBDaGVjayBsYXN0IHdlZWsKICAgICAgICAgICAgZWxzZSBpZiAobm93IDw9IHN0YXJ0ICsgcmF0ZUxhc3RXZWVrRW5kKSB7CiAgICAgICAgICAgICAgICByYXRlID0gcmF0ZUxhc3RXZWVrOwogICAgICAgICAgICB9CiAgICAgICAgfQoJICAgICAgcmVxdWlyZShyYXRlICE9IDApOyAvLyBDaGVjayBmb3IgY29vbCBkb3duIHBlcmlvZHMKICAgICAgICByZXR1cm4gX3dlaSAqIHJhdGUgKiAxMCoqMyAvIDEgZXRoZXI7IC8vIDEwKiozIGZvciAzIGRlY2ltYWxzCiAgICB9CgogICAgLyoqCiAgICAqIEZ1bmN0aW9uIHRvIHBhcnRpY2lwYXRlIGluIHRoZSBhaXJkcm9wCiAgICAqLwogICAgZnVuY3Rpb24gY2xhaW0oKSBhdFN0YWdlKFN0YWdlcy5BaXJkcm9wKSB7CiAgICAgICAgcmVxdWlyZShhaXJkcm9wUGFydGljaXBhbnRzIDwgbWF4QWlyZHJvcFBhcnRpY2lwYW50cyk7CgogICAgICAgIC8vIENyb3dkc2FsIG5vdCBzdGFydGVkIHlldAogICAgICAgIHJlcXVpcmUobm93ID4gc3RhcnQpOwoKICAgICAgICAvLyBBaXJkcm9wIGV4cGlyZWQKICAgICAgICByZXF1aXJlKG5vdyA8IHN0YXJ0ICsgYWlyZHJvcEVuZCk7CgogICAgICAgIHJlcXVpcmUocGFydGljaXBhdGVkSW5BaXJkcm9wW21zZy5zZW5kZXJdID09IGZhbHNlKTsgLy8gT25seSBvbmNlIHBlciBhZGRyZXNzCgogICAgICAgIHJlcXVpcmUoRUdSRW5ncmF2ZWRUb2tlbi5pc3N1ZShtc2cuc2VuZGVyLCByYXRlQWlyRHJvcCAqIDEwKiozKSk7CgogICAgICAgIHBhcnRpY2lwYXRlZEluQWlyZHJvcFttc2cuc2VuZGVyXSA9IHRydWU7CiAgICAgICAgYWlyZHJvcFBhcnRpY2lwYW50cyArPSAxOwogICAgfQoKICAgIC8qKgogICAgICogRnVuY3Rpb24gdG8gZW5kIHRoZSBhaXJkcm9wIGFuZCBzdGFydCBjcm93ZHNhbGUKICAgICAqLwogICAgZnVuY3Rpb24gZW5kQWlyZHJvcCgpIGF0U3RhZ2UoU3RhZ2VzLkFpcmRyb3ApIHsKCSAgICAgIHJlcXVpcmUobm93ID4gc3RhcnQgKyBhaXJkcm9wRW5kKTsKCiAgICAgICAgc3RhZ2UgPSBTdGFnZXMuSW5Qcm9ncmVzczsKICAgIH0KCiAgICAvKioKICAgICAqIEZ1bmN0aW9uIHRvIGVuZCB0aGUgY3Jvd2RzYWxlIGJ5IHNldHRpbmcKICAgICAqIHRoZSBzdGFnZSB0byBFbmRlZAogICAgICovCiAgICBmdW5jdGlvbiBlbmRDcm93ZHNhbGUoKSBhdFN0YWdlKFN0YWdlcy5JblByb2dyZXNzKSB7CgogICAgICAgIC8vIENyb3dkc2FsZSBub3QgZW5kZWQgeWV0CgkgICAgICByZXF1aXJlKG5vdyA+IGVuZCk7CgogICAgICAgIHN0YWdlID0gU3RhZ2VzLkVuZGVkOwogICAgfQoKCiAgICAvKioKICAgICAqIFRyYW5zZmVyIHJhaXNlZCBhbW91bnQgdG8gdGhlIGNvbXBhbnkgYWRkcmVzcwogICAgICovCiAgICBmdW5jdGlvbiB3aXRoZHJhdygpIG9ubHlCZW5lZmljaWFyeSBhdFN0YWdlKFN0YWdlcy5FbmRlZCkgewogICAgICAgIHJlcXVpcmUoYmVuZWZpY2lhcnkuc2VuZChyYWlzZWQpKTsKCiAgICAgICAgc3RhZ2UgPSBTdGFnZXMuV2l0aGRyYXduOwogICAgfQoKICAgIC8qKgogICAgICogUHJvcG9zZSB0aGUgdHJhbnNmZXIgb2YgdGhlIEVuZ3JhdmVkVG9rZW4gY29udHJhY3Qgb3duZXJzaGlwCiAgICAgKiB0byBgX2VuZ3JhdmVkQWRkcmVzc2AKICAgICAqCiAgICAgKiBAcGFyYW0gX2VuZ3JhdmVkQWRkcmVzcyB0aGUgYWRkcmVzcyBvZiB0aGUgcHJvcG9zZWQgRW5ncmF2ZWRUb2tlbiBvd25lcgogICAgICovCiAgICBmdW5jdGlvbiBwcm9wb3NlVHJhbnNmZXIoYWRkcmVzcyBfZW5ncmF2ZWRBZGRyZXNzKSBvbmx5QmVuZWZpY2lhcnkgYXRTdGFnZXMoU3RhZ2VzLldpdGhkcmF3biwgU3RhZ2VzLlByb3Bvc2VkKSB7CgogICAgICAgIC8vIENoZWNrIGZvciBhIHBlbmRpbmcgcHJvcG9zYWwKCSAgICAgIHJlcXVpcmUoc3RhZ2UgIT0gU3RhZ2VzLlByb3Bvc2VkIHx8IG5vdyA+IHRyYW5zZmVyUHJvcG9zYWwuZGVhZGxpbmUgKyB0cmFuc2ZlclByb3Bvc2FsQ29vbGRvd24pOwoKICAgICAgICB0cmFuc2ZlclByb3Bvc2FsID0gUHJvcG9zYWwoewogICAgICAgICAgICBlbmdyYXZlZEFkZHJlc3M6IF9lbmdyYXZlZEFkZHJlc3MsCiAgICAgICAgICAgIGRlYWRsaW5lOiBub3cgKyB0cmFuc2ZlclByb3Bvc2FsRW5kLAogICAgICAgICAgICBhcHByb3ZlZFdlaWdodDogMCwKICAgICAgICAgICAgZGlzYXBwcm92ZWRXZWlnaHQ6IDAKICAgICAgICB9KTsKCiAgICAgICAgc3RhZ2UgPSBTdGFnZXMuUHJvcG9zZWQ7CiAgICB9CgoKICAgIC8qKgogICAgICogQWxsb3dzIEVHUiBob2xkZXJzIHRvIHZvdGUgb24gdGhlIHBvcG9zZWQgdHJhbnNmZXIgb2YKICAgICAqIG93bmVyc2hpcC4gV2VpZ2h0IGlzIGNhbGN1bGF0ZWQgZGlyZWN0bHksIHRoaXMgaXMgbm8gcHJvYmxlbQogICAgICogYmVjYXVzZSBFbmdyYXZlZFRva2VucyBjYW5ub3QgYmUgdHJhbnNmZXJyZWQgeWV0CiAgICAgKgogICAgICogQHBhcmFtIF9hcHByb3ZlIGluZGljYXRlcyBpZiB0aGUgc2VuZGVyIHN1cHBvcnRzIHRoZSBwcm9wb3NhbAogICAgICovCiAgICBmdW5jdGlvbiB2b3RlKGJvb2wgX2FwcHJvdmUpIG9ubHlUb2tlbmhvbGRlcnMgYmVmb3JlRGVhZGxpbmUgYXRTdGFnZShTdGFnZXMuUHJvcG9zZWQpIHsKCiAgICAgICAgLy8gT25lIHZvdGUgcGVyIHByb3Bvc2FsCgkgICAgICByZXF1aXJlKHRyYW5zZmVyUHJvcG9zYWwudm90ZWRbbXNnLnNlbmRlcl0gPCB0cmFuc2ZlclByb3Bvc2FsLmRlYWRsaW5lIC0gdHJhbnNmZXJQcm9wb3NhbEVuZCk7CgogICAgICAgIHRyYW5zZmVyUHJvcG9zYWwudm90ZWRbbXNnLnNlbmRlcl0gPSBub3c7CiAgICAgICAgdWludDI1NiB3ZWlnaHQgPSBFR1JFbmdyYXZlZFRva2VuLmJhbGFuY2VPZihtc2cuc2VuZGVyKTsKCiAgICAgICAgaWYgKF9hcHByb3ZlKSB7CiAgICAgICAgICAgIHRyYW5zZmVyUHJvcG9zYWwuYXBwcm92ZWRXZWlnaHQgKz0gd2VpZ2h0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRyYW5zZmVyUHJvcG9zYWwuZGlzYXBwcm92ZWRXZWlnaHQgKz0gd2VpZ2h0OwogICAgICAgIH0KICAgIH0KCgogICAgLyoqCiAgICAgKiBDYWxjdWxhdGVzIHRoZSB2b3RlcyBhbmQgaWYgdGhlIG1ham9yaXR5IHdlaWd0IGFwcHJvdmVkCiAgICAgKiB0aGUgcHJvcG9zYWwgdGhlIHRyYW5zZmVyIG9mIG93bmVyc2hpcCBpcyBleGVjdXRlZC4KCiAgICAgKiBUaGUgQ3Jvd2RzYWxlIGNvbnRhY3QgdHJhbnNmZXJyZXMgdGhlIG93bmVyc2hpcCBvZiB0aGUKICAgICAqIEVuZ3JhdmVkVG9rZW4gY29udHJhY3QgdG8gRW5ncmF2ZWQKICAgICAqLwogICAgZnVuY3Rpb24gZXhlY3V0ZVRyYW5zZmVyKCkgYWZ0ZXJEZWFkbGluZSBhdFN0YWdlKFN0YWdlcy5Qcm9wb3NlZCkgewoKICAgICAgICAvLyBDaGVjayBhcHByb3ZlZAoJICAgICAgcmVxdWlyZSh0cmFuc2ZlclByb3Bvc2FsLmFwcHJvdmVkV2VpZ2h0ID4gdHJhbnNmZXJQcm9wb3NhbC5kaXNhcHByb3ZlZFdlaWdodCk7CgoJICAgICAgcmVxdWlyZShFR1JFbmdyYXZlZFRva2VuLnVubG9jaygpKTsKCiAgICAgICAgcmVxdWlyZShFR1JFbmdyYXZlZFRva2VuLnN0YXJ0SW5jZW50aXZlRGlzdHJpYnV0aW9uKCkpOwoKICAgICAgICBFR1JFbmdyYXZlZFRva2VuLnRyYW5zZmVyT3duZXJzaGlwKHRyYW5zZmVyUHJvcG9zYWwuZW5ncmF2ZWRBZGRyZXNzKTsKCSAgICAgIHJlcXVpcmUoRUdSRW5ncmF2ZWRUb2tlbi5vd25lcigpID09IHRyYW5zZmVyUHJvcG9zYWwuZW5ncmF2ZWRBZGRyZXNzKTsKCiAgICAgICAgcmVxdWlyZSh0cmFuc2ZlclByb3Bvc2FsLmVuZ3JhdmVkQWRkcmVzcy5zZW5kKHRoaXMuYmFsYW5jZSkpOwoKICAgICAgICBzdGFnZSA9IFN0YWdlcy5BY2NlcHRlZDsKICAgIH0KCgogICAgLyoqCiAgICAgKiBSZWNlaXZlcyBFVEggYW5kIGlzc3VlIEVHUiBFbmdyYXZlZFRva2VucyB0byB0aGUgc2VuZGVyCiAgICAgKi8KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgYXRTdGFnZShTdGFnZXMuSW5Qcm9ncmVzcykgewoKICAgICAgICAvLyBDcm93ZHNhbGUgbm90IHN0YXJ0ZWQgeWV0CiAgICAgICAgcmVxdWlyZShub3cgPiBzdGFydCk7CgogICAgICAgIC8vIENyb3dkc2FsZSBleHBpcmVkCiAgICAgICAgcmVxdWlyZShub3cgPCBlbmQpOwoKICAgICAgICAvLyBFbmZvcmNlIG1pbiBhbW91bnQKCSAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IG1pbkFjY2VwdGVkQW1vdW50KTsKCiAgICAgICAgdWludDI1NiByZWNlaXZlZCA9IG1zZy52YWx1ZTsKICAgICAgICB1aW50MjU2IHZhbHVlSW5FR1IgPSB0b0VHUihtc2cudmFsdWUpOwoKICAgICAgICByZXF1aXJlKChFR1JFbmdyYXZlZFRva2VuLnRvdGFsU3VwcGx5KCkgKyB2YWx1ZUluRUdSKSA8PSAobWF4U3VwcGx5ICogMTAqKjMpKTsKCiAgICAgICAgcmVxdWlyZShFR1JFbmdyYXZlZFRva2VuLmlzc3VlKG1zZy5zZW5kZXIsIHZhbHVlSW5FR1IpKTsKCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gcmVjZWl2ZWQ7CiAgICAgICAgcmFpc2VkICs9IHJlY2VpdmVkOwogICAgfQp9'.
	

]
