Class {
	#name : #SRT37F39fC0371C1243ddc05C587964B35Ab1206da5,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT37F39fC0371C1243ddc05C587964B35Ab1206da5 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuODsKCi8qClRoaXMgZmlsZSBpcyBwYXJ0IG9mIFBhc3MgREFPLgoKUGFzcyBEQU8gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQppdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBsZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KClBhc3MgREFPIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUKR05VIGxlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgpZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgbGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKYWxvbmcgd2l0aCBQYXNzIERBTy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi4KKi8KCi8qClNtYXJ0IGNvbnRyYWN0IGZvciBhIERlY2VudHJhbGl6ZWQgQXV0b25vbW91cyBPcmdhbml6YXRpb24gKERBTykKdG8gYXV0b21hdGUgb3JnYW5pemF0aW9uYWwgZ292ZXJuYW5jZSBhbmQgZGVjaXNpb24tbWFraW5nLgoqLwoKLy8vIEB0aXRsZSBQYXNzIERhbyBzbWFydCBjb250cmFjdApjb250cmFjdCBQYXNzRGFvIHsKICAgIAogICAgc3RydWN0IHJldmlzaW9uIHsKICAgICAgICAvLyBBZGRyZXNzIG9mIHRoZSBDb21taXR0ZWUgUm9vbSBzbWFydCBjb250cmFjdAogICAgICAgIGFkZHJlc3MgY29tbWl0dGVlUm9vbTsKICAgICAgICAvLyBBZGRyZXNzIG9mIHRoZSBzaGFyZSBtYW5hZ2VyIHNtYXJ0IGNvbnRyYWN0CiAgICAgICAgYWRkcmVzcyBzaGFyZU1hbmFnZXI7CiAgICAgICAgLy8gQWRkcmVzcyBvZiB0aGUgdG9rZW4gbWFuYWdlciBzbWFydCBjb250cmFjdAogICAgICAgIGFkZHJlc3MgdG9rZW5NYW5hZ2VyOwogICAgICAgIC8vIEFkZHJlc3Mgb2YgdGhlIHByb2plY3QgY3JlYXRvciBzbWFydCBjb250cmFjdAogICAgICAgIHVpbnQgc3RhcnREYXRlOwogICAgfQogICAgLy8gVGhlIHJldmlzaW9ucyBvZiB0aGUgYXBwbGljYXRpb24gdW50aWwgdG9kYXkKICAgIHJldmlzaW9uW10gcHVibGljIHJldmlzaW9uczsKCiAgICBzdHJ1Y3QgcHJvamVjdCB7CiAgICAgICAgLy8gVGhlIGFkZHJlc3Mgb2YgdGhlIHNtYXJ0IGNvbnRyYWN0CiAgICAgICAgYWRkcmVzcyBjb250cmFjdEFkZHJlc3M7CiAgICAgICAgLy8gVGhlIHVuaXggZWZmZWN0aXZlIHN0YXJ0IGRhdGUgb2YgdGhlIGNvbnRyYWN0CiAgICAgICAgdWludCBzdGFydERhdGU7CiAgICB9CiAgICAvLyBUaGUgcHJvamVjdHMgb2YgdGhlIERhbwogICAgcHJvamVjdFtdIHB1YmxpYyBwcm9qZWN0czsKCiAgICAvLyBNYXAgd2l0aCB0aGUgaW5kZXhlcyBvZiB0aGUgcHJvamVjdHMKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgcHJvamVjdElEOwogICAgCiAgICAvLyBUaGUgYWRkcmVzcyBvZiB0aGUgbWV0YSBwcm9qZWN0CiAgICBhZGRyZXNzIG1ldGFQcm9qZWN0OwoKICAgIAovLyBFdmVudHMKCiAgICBldmVudCBVcGdyYWRlKHVpbnQgaW5kZXhlZCBSZXZpc2lvbklELCBhZGRyZXNzIENvbW1pdHRlZVJvb20sIGFkZHJlc3MgU2hhcmVNYW5hZ2VyLCBhZGRyZXNzIFRva2VuTWFuYWdlcik7CiAgICBldmVudCBOZXdQcm9qZWN0KGFkZHJlc3MgUHJvamVjdCk7CgovLyBDb25zdGFudCBmdW5jdGlvbnMgIAogICAgCiAgICAvLy8gQHJldHVybiBUaGUgZWZmZWN0aXZlIGNvbW1pdHRlZSByb29tCiAgICBmdW5jdGlvbiBBY3R1YWxDb21taXR0ZWVSb29tKCkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHJldHVybiByZXZpc2lvbnNbMF0uY29tbWl0dGVlUm9vbTsKICAgIH0KICAgIAogICAgLy8vIEByZXR1cm4gVGhlIG1ldGEgcHJvamVjdAogICAgZnVuY3Rpb24gTWV0YVByb2plY3QoKSBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzKSB7CiAgICAgICAgcmV0dXJuIG1ldGFQcm9qZWN0OwogICAgfQoKICAgIC8vLyBAcmV0dXJuIFRoZSBlZmZlY3RpdmUgc2hhcmUgbWFuYWdlcgogICAgZnVuY3Rpb24gQWN0dWFsU2hhcmVNYW5hZ2VyKCkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHJldHVybiByZXZpc2lvbnNbMF0uc2hhcmVNYW5hZ2VyOwogICAgfQoKICAgIC8vLyBAcmV0dXJuIFRoZSBlZmZlY3RpdmUgdG9rZW4gbWFuYWdlcgogICAgZnVuY3Rpb24gQWN0dWFsVG9rZW5NYW5hZ2VyKCkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHJldHVybiByZXZpc2lvbnNbMF0udG9rZW5NYW5hZ2VyOwogICAgfQoKLy8gbW9kaWZpZXJzCgogICAgbW9kaWZpZXIgb25seVBhc3NDb21taXR0ZWVSb29tIHtpZiAobXNnLnNlbmRlciAhPSByZXZpc2lvbnNbMF0uY29tbWl0dGVlUm9vbSAgCiAgICAgICAgJiYgcmV2aXNpb25zWzBdLmNvbW1pdHRlZVJvb20gIT0gMCkgdGhyb3c7IF87fQogICAgCi8vIENvbnN0cnVjdG9yIGZ1bmN0aW9uCgogICAgZnVuY3Rpb24gUGFzc0RhbygpIHsKICAgICAgICBwcm9qZWN0cy5sZW5ndGggPSAxOwogICAgICAgIHJldmlzaW9ucy5sZW5ndGggPSAxOwogICAgfQogICAgCi8vIFJlZ2lzdGVyIGZ1bmN0aW9ucwoKICAgIC8vLyBAZGV2IEZ1bmN0aW9uIHRvIGFsbG93IHRoZSBhY3R1YWwgQ29tbWl0dGVlIFJvb20gdXBncmFkaW5nIHRoZSBhcHBsaWNhdGlvbgogICAgLy8vIEBwYXJhbSBfbmV3Q29tbWl0dGVlUm9vbSBUaGUgYWRkcmVzcyBvZiB0aGUgbmV3IGNvbW1pdHRlZSByb29tCiAgICAvLy8gQHBhcmFtIF9uZXdTaGFyZU1hbmFnZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIG5ldyBzaGFyZSBtYW5hZ2VyCiAgICAvLy8gQHBhcmFtIF9uZXdUb2tlbk1hbmFnZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIG5ldyB0b2tlbiBtYW5hZ2VyCiAgICAvLy8gQHJldHVybiBUaGUgaW5kZXggb2YgdGhlIHJldmlzaW9uCiAgICBmdW5jdGlvbiB1cGdyYWRlKAogICAgICAgIGFkZHJlc3MgX25ld0NvbW1pdHRlZVJvb20sIAogICAgICAgIGFkZHJlc3MgX25ld1NoYXJlTWFuYWdlciwgCiAgICAgICAgYWRkcmVzcyBfbmV3VG9rZW5NYW5hZ2VyKSBvbmx5UGFzc0NvbW1pdHRlZVJvb20gcmV0dXJucyAodWludCkgewogICAgICAgIAogICAgICAgIHVpbnQgX3JldmlzaW9uSUQgPSByZXZpc2lvbnMubGVuZ3RoKys7CiAgICAgICAgcmV2aXNpb24gciA9IHJldmlzaW9uc1tfcmV2aXNpb25JRF07CgogICAgICAgIGlmIChfbmV3Q29tbWl0dGVlUm9vbSAhPSAwKSByLmNvbW1pdHRlZVJvb20gPSBfbmV3Q29tbWl0dGVlUm9vbTsgZWxzZSByLmNvbW1pdHRlZVJvb20gPSByZXZpc2lvbnNbMF0uY29tbWl0dGVlUm9vbTsKICAgICAgICBpZiAoX25ld1NoYXJlTWFuYWdlciAhPSAwKSByLnNoYXJlTWFuYWdlciA9IF9uZXdTaGFyZU1hbmFnZXI7IGVsc2Ugci5zaGFyZU1hbmFnZXIgPSByZXZpc2lvbnNbMF0uc2hhcmVNYW5hZ2VyOwogICAgICAgIGlmIChfbmV3VG9rZW5NYW5hZ2VyICE9IDApIHIudG9rZW5NYW5hZ2VyID0gX25ld1Rva2VuTWFuYWdlcjsgZWxzZSByLnRva2VuTWFuYWdlciA9IHJldmlzaW9uc1swXS50b2tlbk1hbmFnZXI7CgogICAgICAgIHIuc3RhcnREYXRlID0gbm93OwogICAgICAgIAogICAgICAgIHJldmlzaW9uc1swXSA9IHI7CiAgICAgICAgCiAgICAgICAgVXBncmFkZShfcmV2aXNpb25JRCwgX25ld0NvbW1pdHRlZVJvb20sIF9uZXdTaGFyZU1hbmFnZXIsIF9uZXdUb2tlbk1hbmFnZXIpOwogICAgICAgICAgICAKICAgICAgICByZXR1cm4gX3JldmlzaW9uSUQ7CiAgICB9CgogICAgLy8vIEBkZXYgRnVuY3Rpb24gdG8gc2V0IHRoZSBtZXRhIHByb2plY3QKICAgIC8vLyBAcGFyYW0gX3Byb2plY3RBZGRyZXNzIFRoZSBhZGRyZXNzIG9mIHRoZSBtZXRhIHByb2plY3QKICAgIGZ1bmN0aW9uIGFkZE1ldGFQcm9qZWN0KGFkZHJlc3MgX3Byb2plY3RBZGRyZXNzKSBvbmx5UGFzc0NvbW1pdHRlZVJvb20gewoKICAgICAgICBtZXRhUHJvamVjdCA9IF9wcm9qZWN0QWRkcmVzczsKICAgIH0KICAgIAogICAgLy8vIEBkZXYgRnVuY3Rpb24gdG8gYWxsb3cgdGhlIGNvbW1pdHRlZSByb29tIHRvIGFkZCBhIHByb2plY3Qgd2hlbiBvcmRlcmluZwogICAgLy8vIEBwYXJhbSBfcHJvamVjdEFkZHJlc3MgVGhlIGFkZHJlc3Mgb2YgdGhlIHByb2plY3QKICAgIGZ1bmN0aW9uIGFkZFByb2plY3QoYWRkcmVzcyBfcHJvamVjdEFkZHJlc3MpIG9ubHlQYXNzQ29tbWl0dGVlUm9vbSB7CgogICAgICAgIGlmIChwcm9qZWN0SURbX3Byb2plY3RBZGRyZXNzXSA9PSAwKSB7CgogICAgICAgICAgICB1aW50IF9wcm9qZWN0SUQgPSBwcm9qZWN0cy5sZW5ndGgrKzsKICAgICAgICAgICAgcHJvamVjdCBwID0gcHJvamVjdHNbX3Byb2plY3RJRF07CiAgICAgICAgCiAgICAgICAgICAgIHByb2plY3RJRFtfcHJvamVjdEFkZHJlc3NdID0gX3Byb2plY3RJRDsKICAgICAgICAgICAgcC5jb250cmFjdEFkZHJlc3MgPSBfcHJvamVjdEFkZHJlc3M7IAogICAgICAgICAgICBwLnN0YXJ0RGF0ZSA9IG5vdzsKICAgICAgICAgICAgCiAgICAgICAgICAgIE5ld1Byb2plY3QoX3Byb2plY3RBZGRyZXNzKTsKICAgICAgICB9CiAgICB9CiAgICAKfQoKcHJhZ21hIHNvbGlkaXR5IF4wLjQuODsKCi8qCiAqCiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFBhc3MgREFPLgogKgogKiBUaGUgUHJvamVjdCBzbWFydCBjb250cmFjdCBpcyB1c2VkIGZvciB0aGUgbWFuYWdlbWVudCBvZiB0aGUgUGFzcyBEYW8gcHJvamVjdHMuCiAqCiovCgovLy8gQHRpdGxlIFByb2plY3Qgc21hcnQgY29udHJhY3Qgb2YgdGhlIFBhc3MgRGVjZW50cmFsaXplZCBBdXRvbm9tb3VzIE9yZ2FuaXNhdGlvbgpjb250cmFjdCBQYXNzUHJvamVjdCB7CgogICAgLy8gVGhlIFBhc3MgRGFvIHNtYXJ0IGNvbnRyYWN0CiAgICBQYXNzRGFvIHB1YmxpYyBwYXNzRGFvOwogICAgCiAgICAvLyBUaGUgcHJvamVjdCBuYW1lCiAgICBzdHJpbmcgcHVibGljIG5hbWU7CiAgICAvLyBUaGUgcHJvamVjdCBkZXNjcmlwdGlvbgogICAgc3RyaW5nIHB1YmxpYyBkZXNjcmlwdGlvbjsKICAgIC8vIFRoZSBIYXNoIE9mIHRoZSBwcm9qZWN0IERvY3VtZW50CiAgICBieXRlczMyIHB1YmxpYyBoYXNoT2ZUaGVEb2N1bWVudDsKICAgIC8vIFRoZSBwcm9qZWN0IG1hbmFnZXIgc21hcnQgY29udHJhY3QKICAgIGFkZHJlc3MgcHJvamVjdE1hbmFnZXI7CgogICAgc3RydWN0IG9yZGVyIHsKICAgICAgICAvLyBUaGUgYWRkcmVzcyBvZiB0aGUgY29udHJhY3RvciBzbWFydCBjb250cmFjdAogICAgICAgIGFkZHJlc3MgY29udHJhY3RvckFkZHJlc3M7CiAgICAgICAgLy8gVGhlIGluZGV4IG9mIHRoZSBjb250cmFjdG9yIHByb3Bvc2FsCiAgICAgICAgdWludCBjb250cmFjdG9yUHJvcG9zYWxJRDsKICAgICAgICAvLyBUaGUgYW1vdW50IG9mIHRoZSBvcmRlcgogICAgICAgIHVpbnQgYW1vdW50OwogICAgICAgIC8vIFRoZSBkYXRlIG9mIHRoZSBvcmRlcgogICAgICAgIHVpbnQgb3JkZXJEYXRlOwogICAgfQogICAgLy8gVGhlIG9yZGVycyBvZiB0aGUgRGFvIGZvciB0aGlzIHByb2plY3QKICAgIG9yZGVyW10gcHVibGljIG9yZGVyczsKICAgIAogICAgLy8gVGhlIHRvdGFsIGFtb3VudCBvZiBvcmRlcnMgaW4gd2VpIGZvciB0aGlzIHByb2plY3QKICAgIHVpbnQgcHVibGljIHRvdGFsQW1vdW50T2ZPcmRlcnM7CgogICAgc3RydWN0IHJlc29sdXRpb24gewogICAgICAgIC8vIFRoZSBuYW1lIG9mIHRoZSByZXNvbHV0aW9uCiAgICAgICAgc3RyaW5nIG5hbWU7CiAgICAgICAgLy8gQSBkZXNjcmlwdGlvbiBvZiB0aGUgcmVzb2x1dGlvbgogICAgICAgIHN0cmluZyBkZXNjcmlwdGlvbjsKICAgICAgICAvLyBUaGUgZGF0ZSBvZiB0aGUgcmVzb2x1dGlvbgogICAgICAgIHVpbnQgY3JlYXRpb25EYXRlOwogICAgfQogICAgLy8gUmVzb2x1dGlvbnMgb2YgdGhlIERhbyBmb3IgdGhpcyBwcm9qZWN0CiAgICByZXNvbHV0aW9uW10gcHVibGljIHJlc29sdXRpb25zOwogICAgCi8vIEV2ZW50cwoKICAgIGV2ZW50IE9yZGVyQWRkZWQoYWRkcmVzcyBpbmRleGVkIENsaWVudCwgYWRkcmVzcyBpbmRleGVkIENvbnRyYWN0b3JBZGRyZXNzLCB1aW50IGluZGV4ZWQgQ29udHJhY3RvclByb3Bvc2FsSUQsIHVpbnQgQW1vdW50LCB1aW50IE9yZGVyRGF0ZSk7CiAgICBldmVudCBQcm9qZWN0RGVzY3JpcHRpb25VcGRhdGVkKGFkZHJlc3MgaW5kZXhlZCBCeSwgc3RyaW5nIE5ld0Rlc2NyaXB0aW9uLCBieXRlczMyIE5ld0hhc2hPZlRoZURvY3VtZW50KTsKICAgIGV2ZW50IFJlc29sdXRpb25BZGRlZChhZGRyZXNzIGluZGV4ZWQgQ2xpZW50LCB1aW50IGluZGV4ZWQgUmVzb2x1dGlvbklELCBzdHJpbmcgTmFtZSwgc3RyaW5nIERlc2NyaXB0aW9uKTsKCi8vIENvbnN0YW50IGZ1bmN0aW9ucyAgCgogICAgLy8vIEByZXR1cm4gdGhlIGFjdHVhbCBjb21taXR0ZWUgcm9vbSBvZiB0aGUgRGFvICAgCiAgICBmdW5jdGlvbiBDbGllbnQoKSBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzKSB7CiAgICAgICAgcmV0dXJuIHBhc3NEYW8uQWN0dWFsQ29tbWl0dGVlUm9vbSgpOwogICAgfQogICAgCiAgICAvLy8gQHJldHVybiBUaGUgbnVtYmVyIG9mIG9yZGVycyAKICAgIGZ1bmN0aW9uIG51bWJlck9mT3JkZXJzKCkgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBvcmRlcnMubGVuZ3RoIC0gMTsKICAgIH0KICAgIAogICAgLy8vIEByZXR1cm4gVGhlIHByb2plY3QgTWFuYWdlciBhZGRyZXNzCiAgICBmdW5jdGlvbiBQcm9qZWN0TWFuYWdlcigpIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MpIHsKICAgICAgICByZXR1cm4gcHJvamVjdE1hbmFnZXI7CiAgICB9CgogICAgLy8vIEByZXR1cm4gVGhlIG51bWJlciBvZiByZXNvbHV0aW9ucyAKICAgIGZ1bmN0aW9uIG51bWJlck9mUmVzb2x1dGlvbnMoKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIHJlc29sdXRpb25zLmxlbmd0aCAtIDE7CiAgICB9CiAgICAKLy8gbW9kaWZpZXJzCgogICAgLy8gTW9kaWZpZXIgZm9yIHByb2plY3QgbWFuYWdlciBmdW5jdGlvbnMgCiAgICBtb2RpZmllciBvbmx5UHJvamVjdE1hbmFnZXIge2lmIChtc2cuc2VuZGVyICE9IHByb2plY3RNYW5hZ2VyKSB0aHJvdzsgXzt9CgogICAgLy8gTW9kaWZpZXIgZm9yIHRoZSBEYW8gZnVuY3Rpb25zIAogICAgbW9kaWZpZXIgb25seUNsaWVudCB7aWYgKG1zZy5zZW5kZXIgIT0gQ2xpZW50KCkpIHRocm93OyBfO30KCi8vIENvbnN0cnVjdG9yIGZ1bmN0aW9uCgogICAgZnVuY3Rpb24gUGFzc1Byb2plY3QoCiAgICAgICAgUGFzc0RhbyBfcGFzc0RhbywgCiAgICAgICAgc3RyaW5nIF9uYW1lLAogICAgICAgIHN0cmluZyBfZGVzY3JpcHRpb24sCiAgICAgICAgYnl0ZXMzMiBfaGFzaE9mVGhlRG9jdW1lbnQpIHsKCiAgICAgICAgcGFzc0RhbyA9IF9wYXNzRGFvOwogICAgICAgIG5hbWUgPSBfbmFtZTsKICAgICAgICBkZXNjcmlwdGlvbiA9IF9kZXNjcmlwdGlvbjsKICAgICAgICBoYXNoT2ZUaGVEb2N1bWVudCA9IF9oYXNoT2ZUaGVEb2N1bWVudDsKICAgICAgICAKICAgICAgICBvcmRlcnMubGVuZ3RoID0gMTsKICAgICAgICByZXNvbHV0aW9ucy5sZW5ndGggPSAxOwogICAgfQogICAgCi8vIEludGVybmFsIGZ1bmN0aW9ucwoKICAgIC8vLyBAZGV2IEludGVybmFsIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyIGEgbmV3IG9yZGVyCiAgICAvLy8gQHBhcmFtIF9jb250cmFjdG9yQWRkcmVzcyBUaGUgYWRkcmVzcyBvZiB0aGUgY29udHJhY3RvciBzbWFydCBjb250cmFjdAogICAgLy8vIEBwYXJhbSBfY29udHJhY3RvclByb3Bvc2FsSUQgVGhlIGluZGV4IG9mIHRoZSBjb250cmFjdG9yIHByb3Bvc2FsCiAgICAvLy8gQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBpbiB3ZWkgb2YgdGhlIG9yZGVyCiAgICAvLy8gQHBhcmFtIF9vcmRlckRhdGUgVGhlIGRhdGUgb2YgdGhlIG9yZGVyIAogICAgZnVuY3Rpb24gYWRkT3JkZXIoCgogICAgICAgIGFkZHJlc3MgX2NvbnRyYWN0b3JBZGRyZXNzLCAKICAgICAgICB1aW50IF9jb250cmFjdG9yUHJvcG9zYWxJRCwgCiAgICAgICAgdWludCBfYW1vdW50LCAKICAgICAgICB1aW50IF9vcmRlckRhdGUpIGludGVybmFsIHsKCiAgICAgICAgdWludCBfb3JkZXJJRCA9IG9yZGVycy5sZW5ndGgrKzsKICAgICAgICBvcmRlciBkID0gb3JkZXJzW19vcmRlcklEXTsKICAgICAgICBkLmNvbnRyYWN0b3JBZGRyZXNzID0gX2NvbnRyYWN0b3JBZGRyZXNzOwogICAgICAgIGQuY29udHJhY3RvclByb3Bvc2FsSUQgPSBfY29udHJhY3RvclByb3Bvc2FsSUQ7CiAgICAgICAgZC5hbW91bnQgPSBfYW1vdW50OwogICAgICAgIGQub3JkZXJEYXRlID0gX29yZGVyRGF0ZTsKICAgICAgICAKICAgICAgICB0b3RhbEFtb3VudE9mT3JkZXJzICs9IF9hbW91bnQ7CiAgICAgICAgCiAgICAgICAgT3JkZXJBZGRlZChtc2cuc2VuZGVyLCBfY29udHJhY3RvckFkZHJlc3MsIF9jb250cmFjdG9yUHJvcG9zYWxJRCwgX2Ftb3VudCwgX29yZGVyRGF0ZSk7CiAgICB9CiAgICAKLy8gU2V0dGluZyBmdW5jdGlvbnMKCiAgICAvLy8gQG5vdGljZSBGdW5jdGlvbiB0byBhbGxvdyBjbG9uaW5nIG9yZGVycyBpbiBjYXNlIG9mIHVwZ3JhZGUKICAgIC8vLyBAcGFyYW0gX2NvbnRyYWN0b3JBZGRyZXNzIFRoZSBhZGRyZXNzIG9mIHRoZSBjb250cmFjdG9yIHNtYXJ0IGNvbnRyYWN0CiAgICAvLy8gQHBhcmFtIF9jb250cmFjdG9yUHJvcG9zYWxJRCBUaGUgaW5kZXggb2YgdGhlIGNvbnRyYWN0b3IgcHJvcG9zYWwKICAgIC8vLyBAcGFyYW0gX29yZGVyQW1vdW50IFRoZSBhbW91bnQgaW4gd2VpIG9mIHRoZSBvcmRlcgogICAgLy8vIEBwYXJhbSBfbGFzdE9yZGVyRGF0ZSBUaGUgdW5peCBkYXRlIG9mIHRoZSBsYXN0IG9yZGVyIAogICAgZnVuY3Rpb24gY2xvbmVPcmRlcigKICAgICAgICBhZGRyZXNzIF9jb250cmFjdG9yQWRkcmVzcywgCiAgICAgICAgdWludCBfY29udHJhY3RvclByb3Bvc2FsSUQsIAogICAgICAgIHVpbnQgX29yZGVyQW1vdW50LCAKICAgICAgICB1aW50IF9sYXN0T3JkZXJEYXRlKSB7CiAgICAgICAgCiAgICAgICAgaWYgKHByb2plY3RNYW5hZ2VyICE9IDApIHRocm93OwogICAgICAgIAogICAgICAgIGFkZE9yZGVyKF9jb250cmFjdG9yQWRkcmVzcywgX2NvbnRyYWN0b3JQcm9wb3NhbElELCBfb3JkZXJBbW91bnQsIF9sYXN0T3JkZXJEYXRlKTsKICAgIH0KICAgIAogICAgLy8vIEBub3RpY2UgRnVuY3Rpb24gdG8gc2V0IHRoZSBwcm9qZWN0IG1hbmFnZXIKICAgIC8vLyBAcGFyYW0gX3Byb2plY3RNYW5hZ2VyIFRoZSBhZGRyZXNzIG9mIHRoZSBwcm9qZWN0IG1hbmFnZXIgc21hcnQgY29udHJhY3QKICAgIC8vLyBAcmV0dXJuIFRydWUgaWYgc3VjY2Vzc2Z1bAogICAgZnVuY3Rpb24gc2V0UHJvamVjdE1hbmFnZXIoYWRkcmVzcyBfcHJvamVjdE1hbmFnZXIpIHJldHVybnMgKGJvb2wpIHsKCiAgICAgICAgaWYgKF9wcm9qZWN0TWFuYWdlciA9PSAwIHx8IHByb2plY3RNYW5hZ2VyICE9IDApIHJldHVybjsKICAgICAgICAKICAgICAgICBwcm9qZWN0TWFuYWdlciA9IF9wcm9qZWN0TWFuYWdlcjsKICAgICAgICAKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCi8vIFByb2plY3QgbWFuYWdlciBmdW5jdGlvbnMKCiAgICAvLy8gQG5vdGljZSBGdW5jdGlvbiB0byBhbGxvdyB0aGUgcHJvamVjdCBtYW5hZ2VyIHVwZGF0aW5nIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgcHJvamVjdAogICAgLy8vIEBwYXJhbSBfcHJvamVjdERlc2NyaXB0aW9uIEEgZGVzY3JpcHRpb24gb2YgdGhlIHByb2plY3QKICAgIC8vLyBAcGFyYW0gX2hhc2hPZlRoZURvY3VtZW50IFRoZSBoYXNoIG9mIHRoZSBsYXN0IGRvY3VtZW50CiAgICBmdW5jdGlvbiB1cGRhdGVEZXNjcmlwdGlvbihzdHJpbmcgX3Byb2plY3REZXNjcmlwdGlvbiwgYnl0ZXMzMiBfaGFzaE9mVGhlRG9jdW1lbnQpIG9ubHlQcm9qZWN0TWFuYWdlciB7CiAgICAgICAgZGVzY3JpcHRpb24gPSBfcHJvamVjdERlc2NyaXB0aW9uOwogICAgICAgIGhhc2hPZlRoZURvY3VtZW50ID0gX2hhc2hPZlRoZURvY3VtZW50OwogICAgICAgIFByb2plY3REZXNjcmlwdGlvblVwZGF0ZWQobXNnLnNlbmRlciwgX3Byb2plY3REZXNjcmlwdGlvbiwgX2hhc2hPZlRoZURvY3VtZW50KTsKICAgIH0KCi8vIENsaWVudCBmdW5jdGlvbnMKCiAgICAvLy8gQGRldiBGdW5jdGlvbiB0byBhbGxvdyB0aGUgRGFvIHRvIHJlZ2lzdGVyIGEgbmV3IG9yZGVyCiAgICAvLy8gQHBhcmFtIF9jb250cmFjdG9yQWRkcmVzcyBUaGUgYWRkcmVzcyBvZiB0aGUgY29udHJhY3RvciBzbWFydCBjb250cmFjdAogICAgLy8vIEBwYXJhbSBfY29udHJhY3RvclByb3Bvc2FsSUQgVGhlIGluZGV4IG9mIHRoZSBjb250cmFjdG9yIHByb3Bvc2FsCiAgICAvLy8gQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBpbiB3ZWkgb2YgdGhlIG9yZGVyCiAgICBmdW5jdGlvbiBuZXdPcmRlcigKICAgICAgICBhZGRyZXNzIF9jb250cmFjdG9yQWRkcmVzcywgCiAgICAgICAgdWludCBfY29udHJhY3RvclByb3Bvc2FsSUQsIAogICAgICAgIHVpbnQgX2Ftb3VudCkgb25seUNsaWVudCB7CiAgICAgICAgICAgIAogICAgICAgIGFkZE9yZGVyKF9jb250cmFjdG9yQWRkcmVzcywgX2NvbnRyYWN0b3JQcm9wb3NhbElELCBfYW1vdW50LCBub3cpOwogICAgfQogICAgCiAgICAvLy8gQGRldiBGdW5jdGlvbiB0byBhbGxvdyB0aGUgRGFvIHRvIHJlZ2lzdGVyIGEgbmV3IHJlc29sdXRpb24KICAgIC8vLyBAcGFyYW0gX25hbWUgVGhlIG5hbWUgb2YgdGhlIHJlc29sdXRpb24KICAgIC8vLyBAcGFyYW0gX2Rlc2NyaXB0aW9uIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgcmVzb2x1dGlvbgogICAgZnVuY3Rpb24gbmV3UmVzb2x1dGlvbigKICAgICAgICBzdHJpbmcgX25hbWUsIAogICAgICAgIHN0cmluZyBfZGVzY3JpcHRpb24pIG9ubHlDbGllbnQgewoKICAgICAgICB1aW50IF9yZXNvbHV0aW9uSUQgPSByZXNvbHV0aW9ucy5sZW5ndGgrKzsKICAgICAgICByZXNvbHV0aW9uIGQgPSByZXNvbHV0aW9uc1tfcmVzb2x1dGlvbklEXTsKICAgICAgICAKICAgICAgICBkLm5hbWUgPSBfbmFtZTsKICAgICAgICBkLmRlc2NyaXB0aW9uID0gX2Rlc2NyaXB0aW9uOwogICAgICAgIGQuY3JlYXRpb25EYXRlID0gbm93OwoKICAgICAgICBSZXNvbHV0aW9uQWRkZWQobXNnLnNlbmRlciwgX3Jlc29sdXRpb25JRCwgZC5uYW1lLCBkLmRlc2NyaXB0aW9uKTsKICAgIH0KfQoKY29udHJhY3QgUGFzc1Byb2plY3RDcmVhdG9yIHsKICAgIAogICAgZXZlbnQgTmV3UGFzc1Byb2plY3QoUGFzc0RhbyBpbmRleGVkIERhbywgUGFzc1Byb2plY3QgaW5kZXhlZCBQcm9qZWN0LCBzdHJpbmcgTmFtZSwgc3RyaW5nIERlc2NyaXB0aW9uLCBieXRlczMyIEhhc2hPZlRoZURvY3VtZW50KTsKCiAgICAvLy8gQG5vdGljZSBGdW5jdGlvbiB0byBjcmVhdGUgYSBuZXcgUGFzcyBwcm9qZWN0CiAgICAvLy8gQHBhcmFtIF9wYXNzRGFvIFRoZSBQYXNzIERhbyBzbWFydCBjb250cmFjdAogICAgLy8vIEBwYXJhbSBfbmFtZSBUaGUgcHJvamVjdCBuYW1lCiAgICAvLy8gQHBhcmFtIF9kZXNjcmlwdGlvbiBUaGUgcHJvamVjdCBkZXNjcmlwdGlvbiAobm90IG1hbmRhdG9yeSwgY2FuIGJlIHVwZGF0ZWQgYWZ0ZXIgYnkgdGhlIGNyZWF0b3IpCiAgICAvLy8gQHBhcmFtIF9oYXNoT2ZUaGVEb2N1bWVudCBUaGUgSGFzaCBPZiB0aGUgcHJvamVjdCBEb2N1bWVudCAobm90IG1hbmRhdG9yeSwgY2FuIGJlIHVwZGF0ZWQgYWZ0ZXIgYnkgdGhlIGNyZWF0b3IpCiAgICBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0KAogICAgICAgIFBhc3NEYW8gX3Bhc3NEYW8sCiAgICAgICAgc3RyaW5nIF9uYW1lLCAKICAgICAgICBzdHJpbmcgX2Rlc2NyaXB0aW9uLCAKICAgICAgICBieXRlczMyIF9oYXNoT2ZUaGVEb2N1bWVudAogICAgICAgICkgcmV0dXJucyAoUGFzc1Byb2plY3QpIHsKCiAgICAgICAgUGFzc1Byb2plY3QgX3Bhc3NQcm9qZWN0ID0gbmV3IFBhc3NQcm9qZWN0KF9wYXNzRGFvLCBfbmFtZSwgX2Rlc2NyaXB0aW9uLCBfaGFzaE9mVGhlRG9jdW1lbnQpOwoKICAgICAgICBOZXdQYXNzUHJvamVjdChfcGFzc0RhbywgX3Bhc3NQcm9qZWN0LCBfbmFtZSwgX2Rlc2NyaXB0aW9uLCBfaGFzaE9mVGhlRG9jdW1lbnQpOwoKICAgICAgICByZXR1cm4gX3Bhc3NQcm9qZWN0OwogICAgfQp9'.
	

]
