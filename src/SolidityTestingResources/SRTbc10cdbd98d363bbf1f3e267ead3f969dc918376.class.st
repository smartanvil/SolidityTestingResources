Class {
	#name : #SRTbc10cdbd98d363bbf1f3e267ead3f969dc918376,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTbc10cdbd98d363bbf1f3e267ead3f969dc918376 >> base64 [
	^ 'LyoqCiAqIE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludCBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgYXNzZXJ0aW9uKSBpbnRlcm5hbCB7CiAgICBpZiAoIWFzc2VydGlvbikgewogICAgICB0aHJvdzsKICAgIH0KICB9Cn0KCgpjb250cmFjdCBFUkMyMjNJbnRlcmZhY2UgewogICAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlLCBieXRlcyBkYXRhKTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUsIGJ5dGVzIGRhdGEpOwp9CgoKIC8qKgogKiBAdGl0bGUgQ29udHJhY3QgdGhhdCB3aWxsIHdvcmsgd2l0aCBFUkMyMjMgdG9rZW5zLgogKi8KIApjb250cmFjdCBFUkMyMjNSZWNlaXZpbmdDb250cmFjdCB7IAovKioKICogQGRldiBTdGFuZGFyZCBFUkMyMjMgZnVuY3Rpb24gdGhhdCB3aWxsIGhhbmRsZSBpbmNvbWluZyB0b2tlbiB0cmFuc2ZlcnMuCiAqCiAqIEBwYXJhbSBfZnJvbSAgVG9rZW4gc2VuZGVyIGFkZHJlc3MuCiAqIEBwYXJhbSBfdmFsdWUgQW1vdW50IG9mIHRva2Vucy4KICogQHBhcmFtIF9kYXRhICBUcmFuc2FjdGlvbiBtZXRhZGF0YS4KICovCiAgICBmdW5jdGlvbiB0b2tlbkZhbGxiYWNrKGFkZHJlc3MgX2Zyb20sIHVpbnQgX3ZhbHVlLCBieXRlcyBfZGF0YSk7Cn0KLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCgoKCmNvbnRyYWN0IEVSQzIyM1Rva2VuIGlzIEVSQzIyM0ludGVyZmFjZSB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgYmFsYW5jZXM7IC8vIExpc3Qgb2YgdXNlciBiYWxhbmNlcy4KICAgIAogICAgLyoqCiAgICAgKiBAZGV2IFRyYW5zZmVyIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyB0byB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgICAgKiAgICAgIEludm9rZXMgdGhlIGB0b2tlbkZhbGxiYWNrYCBmdW5jdGlvbiBpZiB0aGUgcmVjaXBpZW50IGlzIGEgY29udHJhY3QuCiAgICAgKiAgICAgIFRoZSB0b2tlbiB0cmFuc2ZlciBmYWlscyBpZiB0aGUgcmVjaXBpZW50IGlzIGEgY29udHJhY3QKICAgICAqICAgICAgYnV0IGRvZXMgbm90IGltcGxlbWVudCB0aGUgYHRva2VuRmFsbGJhY2tgIGZ1bmN0aW9uCiAgICAgKiAgICAgIG9yIHRoZSBmYWxsYmFjayBmdW5jdGlvbiB0byByZWNlaXZlIGZ1bmRzLgogICAgICoKICAgICAqIEBwYXJhbSBfdG8gICAgUmVjZWl2ZXIgYWRkcmVzcy4KICAgICAqIEBwYXJhbSBfdmFsdWUgQW1vdW50IG9mIHRva2VucyB0aGF0IHdpbGwgYmUgdHJhbnNmZXJyZWQuCiAgICAgKiBAcGFyYW0gX2RhdGEgIFRyYW5zYWN0aW9uIG1ldGFkYXRhLgogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUsIGJ5dGVzIF9kYXRhKSB7CiAgICAgICAgLy8gU3RhbmRhcmQgZnVuY3Rpb24gdHJhbnNmZXIgc2ltaWxhciB0byBFUkMyMCB0cmFuc2ZlciB3aXRoIG5vIF9kYXRhIC4KICAgICAgICAvLyBBZGRlZCBkdWUgdG8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgcmVhc29ucyAuCiAgICAgICAgdWludCBjb2RlTGVuZ3RoOwoKICAgICAgICBhc3NlbWJseSB7CiAgICAgICAgICAgIC8vIFJldHJpZXZlIHRoZSBzaXplIG9mIHRoZSBjb2RlIG9uIHRhcmdldCBhZGRyZXNzLCB0aGlzIG5lZWRzIGFzc2VtYmx5IC4KICAgICAgICAgICAgY29kZUxlbmd0aCA6PSBleHRjb2Rlc2l6ZShfdG8pCiAgICAgICAgfQoKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGlmKGNvZGVMZW5ndGg+MCkgewogICAgICAgICAgICBFUkMyMjNSZWNlaXZpbmdDb250cmFjdCByZWNlaXZlciA9IEVSQzIyM1JlY2VpdmluZ0NvbnRyYWN0KF90byk7CiAgICAgICAgICAgIHJlY2VpdmVyLnRva2VuRmFsbGJhY2sobXNnLnNlbmRlciwgX3ZhbHVlLCBfZGF0YSk7CiAgICAgICAgfQogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlLCBfZGF0YSk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogQGRldiBUcmFuc2ZlciB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgdG8gdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICAgICogICAgICBUaGlzIGZ1bmN0aW9uIHdvcmtzIHRoZSBzYW1lIHdpdGggdGhlIHByZXZpb3VzIG9uZQogICAgICogICAgICBidXQgZG9lc24ndCBjb250YWluIGBfZGF0YWAgcGFyYW0uCiAgICAgKiAgICAgIEFkZGVkIGR1ZSB0byBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSByZWFzb25zLgogICAgICoKICAgICAqIEBwYXJhbSBfdG8gICAgUmVjZWl2ZXIgYWRkcmVzcy4KICAgICAqIEBwYXJhbSBfdmFsdWUgQW1vdW50IG9mIHRva2VucyB0aGF0IHdpbGwgYmUgdHJhbnNmZXJyZWQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgewogICAgICAgIHVpbnQgY29kZUxlbmd0aDsKICAgICAgICBieXRlcyBtZW1vcnkgZW1wdHk7CgogICAgICAgIGFzc2VtYmx5IHsKICAgICAgICAgICAgLy8gUmV0cmlldmUgdGhlIHNpemUgb2YgdGhlIGNvZGUgb24gdGFyZ2V0IGFkZHJlc3MsIHRoaXMgbmVlZHMgYXNzZW1ibHkgLgogICAgICAgICAgICBjb2RlTGVuZ3RoIDo9IGV4dGNvZGVzaXplKF90bykKICAgICAgICB9CgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgaWYoY29kZUxlbmd0aD4wKSB7CiAgICAgICAgICAgIEVSQzIyM1JlY2VpdmluZ0NvbnRyYWN0IHJlY2VpdmVyID0gRVJDMjIzUmVjZWl2aW5nQ29udHJhY3QoX3RvKTsKICAgICAgICAgICAgcmVjZWl2ZXIudG9rZW5GYWxsYmFjayhtc2cuc2VuZGVyLCBfdmFsdWUsIGVtcHR5KTsKICAgICAgICB9CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUsIGVtcHR5KTsKICAgIH0KCiAgICAKICAgIC8qKgogICAgICogQGRldiBSZXR1cm5zIGJhbGFuY2Ugb2YgdGhlIGBfb3duZXJgLgogICAgICoKICAgICAqIEBwYXJhbSBfb3duZXIgICBUaGUgYWRkcmVzcyB3aG9zZSBiYWxhbmNlIHdpbGwgYmUgcmV0dXJuZWQuCiAgICAgKiBAcmV0dXJuIGJhbGFuY2UgQmFsYW5jZSBvZiB0aGUgYF9vd25lcmAuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9Cn0KCgpjb250cmFjdCBQYWpDb2luMjIzIGlzIEVSQzIyM1Rva2VuIHsKCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiUGFqQ29pbiI7CiAgICBieXRlczMyIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiUEpDIjsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwoKICAgIGZ1bmN0aW9uIFBhakNvaW4yMjMoKSBwdWJsaWMgewogICAgICAgIGJ5dGVzIG1lbW9yeSBlbXB0eTsKICAgICAgICB0b3RhbFN1cHBseSA9IDE1MDAwMDAwMGUxODsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHRvdGFsU3VwcGx5OwogICAgICAgIFRyYW5zZmVyKDB4MCwgbXNnLnNlbmRlciwgdG90YWxTdXBwbHksIGVtcHR5KTsKICAgIH0KfQoKCgpjb250cmFjdCBFeGNoYW5nZXIgaXMgRVJDMjIzUmVjZWl2aW5nQ29udHJhY3QsIE93bmFibGUgewoKICAgIHVpbnQgcHVibGljIHJhdGUgPSAzMCoxMDAwMDAwMDAwOwogICAgdWludCBwdWJsaWMgZmVlID0gMTAwMDAwKjNlOTsKCiAgICBQYWpDb2luMjIzIHB1YmxpYyB0b2tlbiA9IFBhakNvaW4yMjMoMHgxYTg1MTgwY2UzMDEyZTc3MTViOTEzZGQ1ODVhZmRmMWExMGYzMDI1KTsKCiAgICAvLyBldmVudCBEYXRhRXZlbnQoc3RyaW5nIGNvbW1lbnQpOwogICAgZXZlbnQgRGF0YUV2ZW50KHVpbnQgdmFsdWUsIHN0cmluZyBjb21tZW50KTsKICAgIC8vIGV2ZW50IERhdGFFdmVudChieXRlczMyIHZhbHVlLCBzdHJpbmcgY29tbWVudCk7CiAgICAvLyBldmVudCBEYXRhRXZlbnQoYm9vbCB2YWx1ZSwgc3RyaW5nIGNvbW1lbnQpOwogICAgLy8gZXZlbnQgRGF0YUV2ZW50KGFkZHJlc3MgYWRkciwgc3RyaW5nIGNvbW1lbnQpOwoKICAgIC8vINGB0YLRgNGD0LrRgiDRgSDRjtC30LXRgNC+0Lwg0Lgg0YHRg9C80LzQvtC5LCDQutC+0YLQvtGA0YPRjiDQvtC9INC/0LXRgNC10YHQu9Cw0LsKICAgIHN0cnVjdCBEZWFsIHsKICAgICAgICBhZGRyZXNzIHVzZXI7CiAgICAgICAgdWludCBtb25leTsKICAgIH0KICAgIC8vINC+0YfQtdGA0LXQtNGMICLQt9Cw0LHRgNC+0L3QuNGA0L7QstCw0L3QvdGL0YUiINC/0LXRgNC10LLQvtC00L7QsiDQvdCwINC/0L7QutGD0L/QutGDINGC0L7QutC10L3QvtCyCiAgICBtYXBwaW5nKHVpbnQgPT4gRGVhbCkgZXRoU2VuZGVkOwogICAgbWFwcGluZyh1aW50ID0+IERlYWwpIGNvaW5TZW5kZWQ7CgogICAgLy8g0KHRh9C10YLRh9C40Log0LvRjtC00LXQuSwgItC30LDQsdGA0L7QvdC40YDQvtCy0LDQstGI0LjRhSIg0YLQvtC60LXQvdGLLgogICAgLy8gItCR0YDQvtC90LjRgNC+0LLQsNC90LjQtSIg0LfQvdCw0YfQuNGCLCDRh9GC0L4g0YfQtdC70L7QstC10Log0L/RgNC40YHQu9Cw0Lsg0LTQtdC90YzQs9C4INC90LAg0L/QvtC60YPQv9C60YMsINC90L4g0LrRg9GA0YEg0LXRidC1CiAgICAvLyDQvdC1INGD0YHRgtCw0L3QvtCy0LvQtdC9LiDQodC+0L7RgtCy0LXRgtGB0YLQstC10L3QvdC+LCDQv9C10YDQtdCy0L7QtCDRgdGA0LXQtNGB0YLQsiDQtNC+0LHQsNCy0LvRj9C10YLRgdGPINCyINC+0YfQtdGA0LXQtNGMINC4INC/0YDQuAogICAgLy8g0YHQu9C10LTRg9GO0YnQtdC8INC+0LHQvdC+0LLQu9C10L3QuNC4INC60YPRgNGB0LAg0LHRg9C00LXRgiDQvtCx0YDQsNCx0L7RgtCw0L0KICAgIHVpbnQgZXRoU2VuZGVkTnVtYmVyID0gMDsKICAgIHVpbnQgY29pblNlbmRlZE51bWJlciA9IDA7CgogICAgbW9kaWZpZXIgYWxsRGVhbHNBcmVQYWlkIHsKICAgICAgICByZXF1aXJlKGV0aFNlbmRlZE51bWJlciA9PSAwKTsKICAgICAgICByZXF1aXJlKGNvaW5TZW5kZWROdW1iZXIgPT0gMCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBldmVudCBMb2dQcmljZVVwZGF0ZWQodWludCBwcmljZSk7CgogICAgZnVuY3Rpb24gRXhjaGFuZ2VyKCkgcHVibGljIHBheWFibGUgewogICAgICAgIHVwZGF0ZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIGZ1bmN0aW9uIG5lZWRVcGRhdGUoKSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIGV0aFNlbmRlZE51bWJlciArIGNvaW5TZW5kZWROdW1iZXIgPiAwOwogICAgfQoKCgogICAgLyoqCiAgICAgKiBAZGV2IFdlIHVzZSBhIHNpbmdsZSBsb2NrIGZvciB0aGUgd2hvbGUgY29udHJhY3QuCiAgICAgKi8KICAgIGJvb2wgcHJpdmF0ZSByZWVudHJhbmN5X2xvY2sgPSBmYWxzZTsKCiAgICAvKioKICAgICAqIEBkZXYgUHJldmVudHMgYSBjb250cmFjdCBmcm9tIGNhbGxpbmcgaXRzZWxmLCBkaXJlY3RseSBvciBpbmRpcmVjdGx5LgogICAgICogQG5vdGljZSBJZiB5b3UgbWFyayBhIGZ1bmN0aW9uIGBub25SZWVudHJhbnRgLCB5b3Ugc2hvdWxkIGFsc28KICAgICAqIG1hcmsgaXQgYGV4dGVybmFsYC4gQ2FsbGluZyBvbmUgbm9uUmVlbnRyYW50IGZ1bmN0aW9uIGZyb20KICAgICAqIGFub3RoZXIgaXMgbm90IHN1cHBvcnRlZC4gSW5zdGVhZCwgeW91IGNhbiBpbXBsZW1lbnQgYQogICAgICogYHByaXZhdGVgIGZ1bmN0aW9uIGRvaW5nIHRoZSBhY3R1YWwgd29yaywgYW5kIGEgYGV4dGVybmFsYAogICAgICogd3JhcHBlciBtYXJrZWQgYXMgYG5vblJlZW50cmFudGAuCiAgICAgKi8KICAgIG1vZGlmaWVyIG5vblJlZW50cmFudCgpIHsKICAgICAgICByZXF1aXJlKCFyZWVudHJhbmN5X2xvY2spOwogICAgICAgIHJlZW50cmFuY3lfbG9jayA9IHRydWU7CiAgICAgICAgXzsKICAgICAgICByZWVudHJhbmN5X2xvY2sgPSBmYWxzZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQW4gYWNjb3VudCB0aGF0IGNvbW1hbmRzIHRvIGNoYW5nZSBhIHJhdGUKICAgICAqLwogICAgYWRkcmVzcyB1cGRhdGVyOwoKICAgIG1vZGlmaWVyIG9ubHlVcGRhdGVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSB1cGRhdGVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFVwZGF0ZXIoYWRkcmVzcyBfdXBkYXRlcikgcHVibGljIG9ubHlPd25lcigpIHsKICAgICAgICB1cGRhdGVyID0gX3VwZGF0ZXI7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0RmVlKHVpbnQgX2ZlZSkgcHVibGljIG9ubHlPd25lcigpIHsKICAgICAgICBmZWUgPSBfZmVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFRva2VuKGFkZHJlc3MgYWRkcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgdG9rZW4gPSBQYWpDb2luMjIzKGFkZHIpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEV0aCh1aW50IGFtb3VudCkgcHVibGljIG9ubHlPd25lciBhbGxEZWFsc0FyZVBhaWQgewogICAgICAgIG93bmVyLnRyYW5zZmVyKGFtb3VudCk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0VG9rZW5zKHVpbnQgYW1vdW50KSBwdWJsaWMgb25seU93bmVyIGFsbERlYWxzQXJlUGFpZCB7CiAgICAgICAgdG9rZW4udHJhbnNmZXIob3duZXIsIGFtb3VudCk7CiAgICB9CgogICAgZnVuY3Rpb24oKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsKICAgICAgICAgICAgcmVxdWlyZShmZWUgPD0gbXNnLnZhbHVlKTsKICAgICAgICAgICAgRGF0YUV2ZW50KG1zZy52YWx1ZSwgIlNvbWVvbmUgc2VudCBldGhlcjogYW1vdW50Iik7CiAgICAgICAgICAgIGV0aFNlbmRlZFtldGhTZW5kZWROdW1iZXIrK10gPSBEZWFsKHt1c2VyOiBtc2cuc2VuZGVyLCBtb25leTogbXNnLnZhbHVlfSk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRva2VuRmFsbGJhY2soYWRkcmVzcyBfZnJvbSwgdWludCBfdmFsdWUsIGJ5dGVzIF9kYXRhKSB7CiAgICAgICAgLy8gRGF0YUV2ZW50KG1zZy5zZW5kZXIsICJmcm9tIik7CgogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBhZGRyZXNzKHRva2VuKSk7CiAgICAgICAgaWYgKF9mcm9tICE9IG93bmVyKSB7CiAgICAgICAgICAgIHJlcXVpcmUoZmVlIDw9IF92YWx1ZSAqIDFlOSAvIHJhdGUpOwogICAgICAgICAgICBEYXRhRXZlbnQoX3ZhbHVlLCAiU29tZW9uZSBzZW50IGNvaW46IGFtb3VudCIpOwogICAgICAgICAgICBjb2luU2VuZGVkW2NvaW5TZW5kZWROdW1iZXIrK10gPSBEZWFsKHt1c2VyOiBfZnJvbSwgbW9uZXk6IF92YWx1ZX0pOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiB1cGRhdGVSYXRlKHVpbnQgX3JhdGUpIHB1YmxpYyBvbmx5VXBkYXRlciBub25SZWVudHJhbnR7CgogICAgICAgIHJhdGUgPSBfcmF0ZTsKICAgICAgICBMb2dQcmljZVVwZGF0ZWQocmF0ZSk7CgogICAgICAgIHVpbnQgcGVyc29uYWxGZWUgPSBmZWUgLyAoZXRoU2VuZGVkTnVtYmVyICsgY29pblNlbmRlZE51bWJlcik7CiAgICAgICAgRGF0YUV2ZW50KHBlcnNvbmFsRmVlLCAiUGVyc29uYWwgZmVlIik7CgogICAgICAgIHByb2NlZWRFdGhlckRlYWxzKHBlcnNvbmFsRmVlKTsKICAgICAgICBwcm9jZWVkVG9rZW5EZWFscyhwZXJzb25hbEZlZSk7CgogICAgfQoKICAgIGZ1bmN0aW9uIHByb2NlZWRFdGhlckRlYWxzKHVpbnQgcGVyc29uYWxGZWUpIGludGVybmFsIHsKICAgICAgICBmb3IgKHVpbnQ4IGkgPSAwOyBpIDwgZXRoU2VuZGVkTnVtYmVyOyBpKyspIHsKICAgICAgICAgICAgYWRkcmVzcyB1c2VyID0gZXRoU2VuZGVkW2ldLnVzZXI7CiAgICAgICAgICAgIERhdGFFdmVudChldGhTZW5kZWRbaV0ubW9uZXksICJTb21lb25lIHNlbnQgZXRoZXI6IGFtb3VudCIpOwogICAgICAgICAgICBEYXRhRXZlbnQocGVyc29uYWxGZWUsICJGZWU6IGFtb3VudCIpOwogICAgICAgICAgICB1aW50IG1vbmV5ID0gZXRoU2VuZGVkW2ldLm1vbmV5IC0gcGVyc29uYWxGZWU7CgogICAgICAgICAgICBEYXRhRXZlbnQobW9uZXksICJEaXNjb3VudGVkIGFtb3VudDogYW1vdW50Iik7CiAgICAgICAgICAgIHVpbnQgdmFsdWUgPSBtb25leSAqIHJhdGUgLyAxZTk7CiAgICAgICAgICAgIERhdGFFdmVudCh2YWx1ZSwgIkV0aGVyIHRvIHRva2VuczogYW1vdW50Iik7CiAgICAgICAgICAgIGlmIChtb25leSA8IDApIHsKICAgICAgICAgICAgICAgIC8vINCh0LrQuNC90YPRgtC+INGN0YTQuNGA0LAg0LzQtdC90YzRiNC1LCDRh9C10Lwg0LrQvtC80LjRgdGB0LjRjwogICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLmJhbGFuY2VPZih0aGlzKSA8IHZhbHVlKSB7CiAgICAgICAgICAgICAgICBEYXRhRXZlbnQodG9rZW4uYmFsYW5jZU9mKHRoaXMpLCAiTm90IGVub3VnaCB0b2tlbnM6IG93bmVyIGJhbGFuY2UiKTsKICAgICAgICAgICAgICAgIC8vINCS0LXRgNC90YPRgtGMINC00LXQvdGM0LPQuCwg0LXRgdC70Lgg0YLQvtC60LXQvdC+0LIg0L3QtSDQvtGB0YLQsNC70L7RgdGMCiAgICAgICAgICAgICAgICB1c2VyLnRyYW5zZmVyKG1vbmV5KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRva2VuLnRyYW5zZmVyKHVzZXIsIHZhbHVlKTsKICAgICAgICAgICAgICAgIERhdGFFdmVudCh2YWx1ZSwgIlRva2VucyB3ZXJlIHNlbnQgdG8gY3VzdG9tZXI6IGFtb3VudCIpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGV0aFNlbmRlZE51bWJlciA9IDA7CiAgICB9CgogICAgZnVuY3Rpb24gcHJvY2VlZFRva2VuRGVhbHModWludCBwZXJzb25hbEZlZSkgaW50ZXJuYWwgewogICAgICAgIGZvciAodWludDggaiA9IDA7IGogPCBjb2luU2VuZGVkTnVtYmVyOyBqKyspIHsKICAgICAgICAgICAgYWRkcmVzcyB1c2VyID0gY29pblNlbmRlZFtqXS51c2VyOwogICAgICAgICAgICB1aW50IGNvaW4gPSBjb2luU2VuZGVkW2pdLm1vbmV5OwoKICAgICAgICAgICAgRGF0YUV2ZW50KGNvaW4sICJTb21lb25lIHNlbnQgdG9rZW5zOiBhbW91bnQiKTsKICAgICAgICAgICAgRGF0YUV2ZW50KGNvaW4gKiAxZTkgLyByYXRlLCAiVG9rZW5zIHRvIGV0aGVyOiBhbW91bnQiKTsKICAgICAgICAgICAgdWludCB2YWx1ZSA9IGNvaW4gKiAxZTkgLyByYXRlIC0gcGVyc29uYWxGZWU7CiAgICAgICAgICAgIERhdGFFdmVudChwZXJzb25hbEZlZSwgIkZlZTogYW1vdW50Iik7CiAgICAgICAgICAgIERhdGFFdmVudCh2YWx1ZSwgIlRva2VucyB0byBkaXNjb3VudGVkIGV0aGVyOiBhbW91bnQiKTsKCiAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApIHsKICAgICAgICAgICAgICAgIC8vINCh0LrQuNC90YPRgtC+INGC0L7QutC10L3QvtCyINC80LXQvdGM0YjQtSwg0YfQtdC8INC60L7QvNC40YHRgdC40Y8KICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJhbGFuY2UgPCB2YWx1ZSkgewogICAgICAgICAgICAgICAgLy8g0JLQtdGA0L3Rg9GC0Ywg0YLQvtC60LXQvdGLLCDQtdGB0LvQuCDQtNC10L3QtdCzINC90LUg0L7RgdGC0LDQu9C+0YHRjAogICAgICAgICAgICAgICAgRGF0YUV2ZW50KHRoaXMuYmFsYW5jZSwgIk5vdCBlbm91Z2ggZXRoZXI6IGNvbnRyYWN0IGJhbGFuY2UiKTsKCiAgICAgICAgICAgICAgICB0b2tlbi50cmFuc2Zlcih1c2VyLCBjb2luKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHVzZXIudHJhbnNmZXIodmFsdWUpOwogICAgICAgICAgICAgICAgRGF0YUV2ZW50KHZhbHVlLCAiRXRoZXIgd2FzIHNlbnQgdG8gY3VzdG9tZXI6IGFtb3VudCIpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGNvaW5TZW5kZWROdW1iZXIgPSAwOwogICAgfQp9'.
	

]
