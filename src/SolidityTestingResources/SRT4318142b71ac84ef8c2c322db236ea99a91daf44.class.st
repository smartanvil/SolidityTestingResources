Class {
	#name : #SRT4318142b71ac84ef8c2c322db236ea99a91daf44,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4318142b71ac84ef8c2c322db236ea99a91daf44 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7Cgpjb250cmFjdCBUb2tlbkZhY3RvcnlJbnRlcmZhY2UgewoKICAgIGZ1bmN0aW9uIGNyZWF0ZUNsb25lVG9rZW4oCiAgICAgICAgYWRkcmVzcyBfcGFyZW50VG9rZW4sCiAgICAgICAgdWludCBfc25hcHNob3RCbG9jaywKICAgICAgICBzdHJpbmcgX3Rva2VuTmFtZSwKICAgICAgICBzdHJpbmcgX3Rva2VuU3ltYm9sCiAgICAgICkgcHVibGljIHJldHVybnMgKFByb29mVG9rZW4gbmV3VG9rZW4pOwp9Cgpjb250cmFjdCBDb250cm9sbGFibGUgewogIGFkZHJlc3MgcHVibGljIGNvbnRyb2xsZXI7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIgYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBDb250cm9sbGFibGUoKSBwdWJsaWMgewogICAgY29udHJvbGxlciA9IG1zZy5zZW5kZXI7CiAgfQoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seUNvbnRyb2xsZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gY29udHJvbGxlcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3Q29udHJvbGxlciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJDb250cm9sKGFkZHJlc3MgbmV3Q29udHJvbGxlcikgcHVibGljIG9ubHlDb250cm9sbGVyIHsKICAgIGlmIChuZXdDb250cm9sbGVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgY29udHJvbGxlciA9IG5ld0NvbnRyb2xsZXI7CiAgICB9CiAgfQoKfQoKY29udHJhY3QgQXBwcm92ZUFuZENhbGxSZWNlaXZlciB7CiAgICBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBmcm9tLCB1aW50MjU2IF9hbW91bnQsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZGF0YSkgcHVibGljOwp9CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgUHJvb2ZUb2tlbiBpcyBDb250cm9sbGFibGUgewoKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICBQcm9vZlRva2VuSW50ZXJmYWNlIHB1YmxpYyBwYXJlbnRUb2tlbjsKICBUb2tlbkZhY3RvcnlJbnRlcmZhY2UgcHVibGljIHRva2VuRmFjdG9yeTsKCiAgc3RyaW5nIHB1YmxpYyBuYW1lOwogIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogIHN0cmluZyBwdWJsaWMgdmVyc2lvbjsKICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7CgogIHN0cnVjdCBDaGVja3BvaW50IHsKICAgIHVpbnQxMjggZnJvbUJsb2NrOwogICAgdWludDEyOCB2YWx1ZTsKICB9CgogIHVpbnQyNTYgcHVibGljIHBhcmVudFNuYXBTaG90QmxvY2s7CiAgdWludDI1NiBwdWJsaWMgY3JlYXRpb25CbG9jazsKICBib29sIHB1YmxpYyB0cmFuc2ZlcnNFbmFibGVkOwogIGJvb2wgcHVibGljIG1hc3RlclRyYW5zZmVyc0VuYWJsZWQ7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiBDaGVja3BvaW50W10pIGJhbGFuY2VzOwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKCiAgQ2hlY2twb2ludFtdIHRvdGFsU3VwcGx5SGlzdG9yeTsKCiAgYm9vbCBwdWJsaWMgbWludGluZ0ZpbmlzaGVkID0gZmFsc2U7CiAgYm9vbCBwdWJsaWMgcHJlc2FsZUJhbGFuY2VzTG9ja2VkID0gZmFsc2U7CgogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFRPVEFMX1BSRVNBTEVfVE9LRU5TID0gMTEyMzg2NzEyOTI0NzI1NTA4ODAyNDAwOwogIGFkZHJlc3MgcHVibGljIGNvbnN0YW50IE1BU1RFUl9XQUxMRVQgPSAweDc0MEM1ODhDNTU1NmU1MjM5ODExMTVlNTg3ODkyYmUwOTYxODUzQjg7CgogIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CiAgZXZlbnQgTWludEZpbmlzaGVkKCk7CiAgZXZlbnQgQ2xhaW1lZFRva2VucyhhZGRyZXNzIGluZGV4ZWQgX3Rva2VuLCBhZGRyZXNzIGluZGV4ZWQgX293bmVyLCB1aW50IF9hbW91bnQpOwogIGV2ZW50IE5ld0Nsb25lVG9rZW4oYWRkcmVzcyBpbmRleGVkIGNsb25lVG9rZW4pOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50KTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKCgoKCiAgZnVuY3Rpb24gUHJvb2ZUb2tlbigKICAgIGFkZHJlc3MgX3Rva2VuRmFjdG9yeSwKICAgIGFkZHJlc3MgX3BhcmVudFRva2VuLAogICAgdWludDI1NiBfcGFyZW50U25hcFNob3RCbG9jaywKICAgIHN0cmluZyBfdG9rZW5OYW1lLAogICAgc3RyaW5nIF90b2tlblN5bWJvbAogICAgKSBwdWJsaWMgewogICAgICB0b2tlbkZhY3RvcnkgPSBUb2tlbkZhY3RvcnlJbnRlcmZhY2UoX3Rva2VuRmFjdG9yeSk7CiAgICAgIHBhcmVudFRva2VuID0gUHJvb2ZUb2tlbkludGVyZmFjZShfcGFyZW50VG9rZW4pOwogICAgICBwYXJlbnRTbmFwU2hvdEJsb2NrID0gX3BhcmVudFNuYXBTaG90QmxvY2s7CiAgICAgIG5hbWUgPSBfdG9rZW5OYW1lOwogICAgICBzeW1ib2wgPSBfdG9rZW5TeW1ib2w7CiAgICAgIGRlY2ltYWxzID0gMTg7CiAgICAgIHRyYW5zZmVyc0VuYWJsZWQgPSBmYWxzZTsKICAgICAgbWFzdGVyVHJhbnNmZXJzRW5hYmxlZCA9IGZhbHNlOwogICAgICBjcmVhdGlvbkJsb2NrID0gYmxvY2subnVtYmVyOwogICAgICB2ZXJzaW9uID0gJzAuMSc7CiAgfQoKICBmdW5jdGlvbigpIHB1YmxpYyBwYXlhYmxlIHsKICAgIHJldmVydCgpOwogIH0KCgogIC8qKgogICogUmV0dXJucyB0aGUgdG90YWwgUHJvb2YgdG9rZW4gc3VwcGx5IGF0IHRoZSBjdXJyZW50IGJsb2NrCiAgKiBAcmV0dXJuIHRvdGFsIHN1cHBseSB7dWludH0KICAqLwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgIHJldHVybiB0b3RhbFN1cHBseUF0KGJsb2NrLm51bWJlcik7CiAgfQoKICAvKioKICAqIFJldHVybnMgdGhlIHRvdGFsIFByb29mIHRva2VuIHN1cHBseSBhdCB0aGUgZ2l2ZW4gYmxvY2sgbnVtYmVyCiAgKiBAcGFyYW0gX2Jsb2NrTnVtYmVyIHt1aW50fQogICogQHJldHVybiB0b3RhbCBzdXBwbHkge3VpbnR9CiAgKi8KICBmdW5jdGlvbiB0b3RhbFN1cHBseUF0KHVpbnQgX2Jsb2NrTnVtYmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICAvLyBUaGVzZSBuZXh0IGZldyBsaW5lcyBhcmUgdXNlZCB3aGVuIHRoZSB0b3RhbFN1cHBseSBvZiB0aGUgdG9rZW4gaXMKICAgIC8vICByZXF1ZXN0ZWQgYmVmb3JlIGEgY2hlY2sgcG9pbnQgd2FzIGV2ZXIgY3JlYXRlZCBmb3IgdGhpcyB0b2tlbiwgaXQKICAgIC8vICByZXF1aXJlcyB0aGF0IHRoZSBgcGFyZW50VG9rZW4udG90YWxTdXBwbHlBdGAgYmUgcXVlcmllZCBhdCB0aGUKICAgIC8vICBnZW5lc2lzIGJsb2NrIGZvciB0aGlzIHRva2VuIGFzIHRoYXQgY29udGFpbnMgdG90YWxTdXBwbHkgb2YgdGhpcwogICAgLy8gIHRva2VuIGF0IHRoaXMgYmxvY2sgbnVtYmVyLgogICAgaWYgKCh0b3RhbFN1cHBseUhpc3RvcnkubGVuZ3RoID09IDApIHx8ICh0b3RhbFN1cHBseUhpc3RvcnlbMF0uZnJvbUJsb2NrID4gX2Jsb2NrTnVtYmVyKSkgewogICAgICAgIGlmIChhZGRyZXNzKHBhcmVudFRva2VuKSAhPSAwKSB7CiAgICAgICAgICAgIHJldHVybiBwYXJlbnRUb2tlbi50b3RhbFN1cHBseUF0KG1pbihfYmxvY2tOdW1iZXIsIHBhcmVudFNuYXBTaG90QmxvY2spKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CgogICAgLy8gVGhpcyB3aWxsIHJldHVybiB0aGUgZXhwZWN0ZWQgdG90YWxTdXBwbHkgZHVyaW5nIG5vcm1hbCBzaXR1YXRpb25zCiAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBnZXRWYWx1ZUF0KHRvdGFsU3VwcGx5SGlzdG9yeSwgX2Jsb2NrTnVtYmVyKTsKICAgIH0KICB9CgogIC8qKgogICogUmV0dXJucyB0aGUgdG9rZW4gaG9sZGVyIGJhbGFuY2UgYXQgdGhlIGN1cnJlbnQgYmxvY2sKICAqIEBwYXJhbSBfb3duZXIge2FkZHJlc3N9CiAgKiBAcmV0dXJuIGJhbGFuY2Uge3VpbnR9CiAgICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZU9mQXQoX293bmVyLCBibG9jay5udW1iZXIpOwogIH0KCiAgLyoqCiAgKiBSZXR1cm5zIHRoZSB0b2tlbiBob2xkZXIgYmFsYW5jZSB0aGUgdGhlIGdpdmVuIGJsb2NrIG51bWJlcgogICogQHBhcmFtIF9vd25lciB7YWRkcmVzc30KICAqIEBwYXJhbSBfYmxvY2tOdW1iZXIge3VpbnR9CiAgKiBAcmV0dXJuIGJhbGFuY2Uge3VpbnR9CiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2ZBdChhZGRyZXNzIF9vd25lciwgdWludCBfYmxvY2tOdW1iZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAvLyBUaGVzZSBuZXh0IGZldyBsaW5lcyBhcmUgdXNlZCB3aGVuIHRoZSBiYWxhbmNlIG9mIHRoZSB0b2tlbiBpcwogICAgLy8gIHJlcXVlc3RlZCBiZWZvcmUgYSBjaGVjayBwb2ludCB3YXMgZXZlciBjcmVhdGVkIGZvciB0aGlzIHRva2VuLCBpdAogICAgLy8gIHJlcXVpcmVzIHRoYXQgdGhlIGBwYXJlbnRUb2tlbi5iYWxhbmNlT2ZBdGAgYmUgcXVlcmllZCBhdCB0aGUKICAgIC8vICBnZW5lc2lzIGJsb2NrIGZvciB0aGF0IHRva2VuIGFzIHRoaXMgY29udGFpbnMgaW5pdGlhbCBiYWxhbmNlIG9mCiAgICAvLyAgdGhpcyB0b2tlbgogICAgaWYgKChiYWxhbmNlc1tfb3duZXJdLmxlbmd0aCA9PSAwKSB8fCAoYmFsYW5jZXNbX293bmVyXVswXS5mcm9tQmxvY2sgPiBfYmxvY2tOdW1iZXIpKSB7CiAgICAgICAgaWYgKGFkZHJlc3MocGFyZW50VG9rZW4pICE9IDApIHsKICAgICAgICAgICAgcmV0dXJuIHBhcmVudFRva2VuLmJhbGFuY2VPZkF0KF9vd25lciwgbWluKF9ibG9ja051bWJlciwgcGFyZW50U25hcFNob3RCbG9jaykpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIEhhcyBubyBwYXJlbnQKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQoKICAgIC8vIFRoaXMgd2lsbCByZXR1cm4gdGhlIGV4cGVjdGVkIGJhbGFuY2UgZHVyaW5nIG5vcm1hbCBzaXR1YXRpb25zCiAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBnZXRWYWx1ZUF0KGJhbGFuY2VzW19vd25lcl0sIF9ibG9ja051bWJlcik7CiAgICB9CiAgfQoKICAvKioKICAqIFN0YW5kYXJkIEVSQzIwIHRyYW5zZmVyIHRva2VucwogICogQHBhcmFtIF90byB7YWRkcmVzc30KICAqIEBwYXJhbSBfYW1vdW50IHt1aW50fQogICogQHJldHVybiBzdWNjZXNzIHtib29sfQogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmV0dXJuIGRvVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfYW1vdW50KTsKICB9CgogIC8qKgogICogU3RhbmRhcmQgRVJDMjAgdHJhbnNmZXJGcm9tIGludGVyZmFjZQogICogQHBhcmFtIF9mcm9tIHthZGRyZXNzfQogICogQHBhcmFtIF90byB7YWRkcmVzc30KICAqIEBwYXJhbSBfYW1vdW50IHt1aW50MjU2fQogICogQHJldHVybiBzdWNjZXNzIHtib29sfQogICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJlcXVpcmUoYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfYW1vdW50OwogICAgcmV0dXJuIGRvVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgfQoKICAvKioKICAqIFN0YW5kYXJkIEVSQzIwIGFwcHJvdmUgaW50ZXJmYWNlCiAgKiBAcGFyYW0gX3NwZW5kZXIge2FkZHJlc3N9CiAgKiBAcGFyYW0gX2Ftb3VudCB7dWludDI1Nn0KICAqIEByZXR1cm4gc3VjY2VzcyB7Ym9vbH0KICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXF1aXJlKHRyYW5zZmVyc0VuYWJsZWQpOwoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwwKWAgaWYgaXQgaXMgbm90CiAgICAvLyAgYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgcmVxdWlyZSgoX2Ftb3VudCA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX2Ftb3VudDsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50LCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBhcHByb3ZlKF9zcGVuZGVyLCBfYW1vdW50KTsKCiAgICBBcHByb3ZlQW5kQ2FsbFJlY2VpdmVyKF9zcGVuZGVyKS5yZWNlaXZlQXBwcm92YWwoCiAgICAgICAgbXNnLnNlbmRlciwKICAgICAgICBfYW1vdW50LAogICAgICAgIHRoaXMsCiAgICAgICAgX2V4dHJhRGF0YQogICAgKTsKCiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9CgoKICBmdW5jdGlvbiBkb1RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIGludGVybmFsIHJldHVybnMoYm9vbCkgewoKICAgIGlmIChtc2cuc2VuZGVyICE9IE1BU1RFUl9XQUxMRVQpIHsKICAgICAgcmVxdWlyZSh0cmFuc2ZlcnNFbmFibGVkKTsKICAgIH0gZWxzZSB7CiAgICAgIHJlcXVpcmUobWFzdGVyVHJhbnNmZXJzRW5hYmxlZCk7CiAgICB9CgogICAgcmVxdWlyZSh0cmFuc2ZlcnNFbmFibGVkKTsKICAgIHJlcXVpcmUoX2Ftb3VudCA+IDApOwogICAgcmVxdWlyZShwYXJlbnRTbmFwU2hvdEJsb2NrIDwgYmxvY2subnVtYmVyKTsKICAgIHJlcXVpcmUoKF90byAhPSAwKSAmJiAoX3RvICE9IGFkZHJlc3ModGhpcykpKTsKCiAgICAvLyBJZiB0aGUgYW1vdW50IGJlaW5nIHRyYW5zZmVyZWQgaXMgbW9yZSB0aGFuIHRoZSBiYWxhbmNlIG9mIHRoZQogICAgLy8gIGFjY291bnQgdGhlIHRyYW5zZmVyIHJldHVybnMgZmFsc2UKICAgIHZhciBwcmV2aW91c0JhbGFuY2VGcm9tID0gYmFsYW5jZU9mQXQoX2Zyb20sIGJsb2NrLm51bWJlcik7CiAgICByZXF1aXJlKHByZXZpb3VzQmFsYW5jZUZyb20gPj0gX2Ftb3VudCk7CgogICAgLy8gRmlyc3QgdXBkYXRlIHRoZSBiYWxhbmNlIGFycmF5IHdpdGggdGhlIG5ldyB2YWx1ZSBmb3IgdGhlIGFkZHJlc3MKICAgIC8vICBzZW5kaW5nIHRoZSB0b2tlbnMKICAgIHVwZGF0ZVZhbHVlQXROb3coYmFsYW5jZXNbX2Zyb21dLCBwcmV2aW91c0JhbGFuY2VGcm9tIC0gX2Ftb3VudCk7CgogICAgLy8gVGhlbiB1cGRhdGUgdGhlIGJhbGFuY2UgYXJyYXkgd2l0aCB0aGUgbmV3IHZhbHVlIGZvciB0aGUgYWRkcmVzcwogICAgLy8gIHJlY2VpdmluZyB0aGUgdG9rZW5zCiAgICB2YXIgcHJldmlvdXNCYWxhbmNlVG8gPSBiYWxhbmNlT2ZBdChfdG8sIGJsb2NrLm51bWJlcik7CiAgICByZXF1aXJlKHByZXZpb3VzQmFsYW5jZVRvICsgX2Ftb3VudCA+PSBwcmV2aW91c0JhbGFuY2VUbyk7IC8vIENoZWNrIGZvciBvdmVyZmxvdwogICAgdXBkYXRlVmFsdWVBdE5vdyhiYWxhbmNlc1tfdG9dLCBwcmV2aW91c0JhbGFuY2VUbyArIF9hbW91bnQpOwoKICAgIC8vIEFuIGV2ZW50IHRvIG1ha2UgdGhlIHRyYW5zZmVyIGVhc3kgdG8gZmluZCBvbiB0aGUgYmxvY2tjaGFpbgogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgoKICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX293bmVyLCB1aW50IF9hbW91bnQpIHB1YmxpYyBvbmx5Q29udHJvbGxlciBjYW5NaW50IHJldHVybnMgKGJvb2wpIHsKICAgIHVpbnQgY3VyVG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseSgpOwogICAgdWludCBwcmV2aW91c0JhbGFuY2VUbyA9IGJhbGFuY2VPZihfb3duZXIpOwoKICAgIHJlcXVpcmUoY3VyVG90YWxTdXBwbHkgKyBfYW1vdW50ID49IGN1clRvdGFsU3VwcGx5KTsgLy8gQ2hlY2sgZm9yIG92ZXJmbG93CiAgICByZXF1aXJlKHByZXZpb3VzQmFsYW5jZVRvICsgX2Ftb3VudCA+PSBwcmV2aW91c0JhbGFuY2VUbyk7IC8vIENoZWNrIGZvciBvdmVyZmxvdwoKICAgIHVwZGF0ZVZhbHVlQXROb3codG90YWxTdXBwbHlIaXN0b3J5LCBjdXJUb3RhbFN1cHBseSArIF9hbW91bnQpOwogICAgdXBkYXRlVmFsdWVBdE5vdyhiYWxhbmNlc1tfb3duZXJdLCBwcmV2aW91c0JhbGFuY2VUbyArIF9hbW91bnQpOwogICAgVHJhbnNmZXIoMCwgX293bmVyLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgbW9kaWZpZXIgY2FuTWludCgpIHsKICAgIHJlcXVpcmUoIW1pbnRpbmdGaW5pc2hlZCk7CiAgICBfOwogIH0KCgogIC8qKgogICAqIEltcG9ydCBwcmVzYWxlIGJhbGFuY2VzIGJlZm9yZSB0aGUgc3RhcnQgb2YgdGhlIHRva2VuIHNhbGUuIEFmdGVyIGltcG9ydGluZwogICAqIGJhbGFuY2VzLCBsb2NrUHJlc2FsZUJhbGFuY2VzKCkgaGFzIHRvIGJlIGNhbGxlZCB0byBwcmV2ZW50IGZ1cnRoZXIgbW9kaWZpY2F0aW9uCiAgICogb2YgcHJlc2FsZSBiYWxhbmNlcy4KICAgKiBAcGFyYW0gX2FkZHJlc3NlcyB7YWRkcmVzc1tdfSBBcnJheSBvZiBwcmVzYWxlIGFkZHJlc3NlcwogICAqIEBwYXJhbSBfYmFsYW5jZXMge3VpbnQyNTZbXX0gQXJyYXkgb2YgYmFsYW5jZXMgY29ycmVzcG9uZGluZyB0byBwcmVzYWxlIGFkZHJlc3Nlcy4KICAgKiBAcmV0dXJuIHN1Y2Nlc3Mge2Jvb2x9CiAgICovCiAgZnVuY3Rpb24gaW1wb3J0UHJlc2FsZUJhbGFuY2VzKGFkZHJlc3NbXSBfYWRkcmVzc2VzLCB1aW50MjU2W10gX2JhbGFuY2VzKSBwdWJsaWMgb25seUNvbnRyb2xsZXIgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShwcmVzYWxlQmFsYW5jZXNMb2NrZWQgPT0gZmFsc2UpOwoKICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IF9hZGRyZXNzZXMubGVuZ3RoOyBpKyspIHsKICAgICAgdXBkYXRlVmFsdWVBdE5vdyhiYWxhbmNlc1tfYWRkcmVzc2VzW2ldXSwgX2JhbGFuY2VzW2ldKTsKICAgICAgVHJhbnNmZXIoMCwgX2FkZHJlc3Nlc1tpXSwgX2JhbGFuY2VzW2ldKTsKICAgIH0KCiAgICB1cGRhdGVWYWx1ZUF0Tm93KHRvdGFsU3VwcGx5SGlzdG9yeSwgVE9UQUxfUFJFU0FMRV9UT0tFTlMpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBMb2NrIHByZXNhbGUgYmFsYW5jZXMgYWZ0ZXIgc3VjY2Vzc2Z1bCBwcmVzYWxlIGJhbGFuY2UgaW1wb3J0CiAgICogQHJldHVybiBBIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgKi8KICBmdW5jdGlvbiBsb2NrUHJlc2FsZUJhbGFuY2VzKCkgcHVibGljIG9ubHlDb250cm9sbGVyIHJldHVybnMgKGJvb2wpIHsKICAgIHByZXNhbGVCYWxhbmNlc0xvY2tlZCA9IHRydWU7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIExvY2sgdGhlIG1pbnRpbmcgb2YgUHJvb2YgVG9rZW5zIC0gdG8gYmUgY2FsbGVkIGFmdGVyIHRoZSBwcmVzYWxlCiAgICogQHJldHVybiB7Ym9vbH0gc3VjY2VzcwogICovCiAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIHB1YmxpYyBvbmx5Q29udHJvbGxlciByZXR1cm5zIChib29sKSB7CiAgICBtaW50aW5nRmluaXNoZWQgPSB0cnVlOwogICAgTWludEZpbmlzaGVkKCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEVuYWJsZSBvciBibG9jayB0cmFuc2ZlcnMgLSB0byBiZSBjYWxsZWQgaW4gY2FzZSBvZiBlbWVyZ2VuY3kKICAqLwogIGZ1bmN0aW9uIGVuYWJsZVRyYW5zZmVycyhib29sIF92YWx1ZSkgcHVibGljIG9ubHlDb250cm9sbGVyIHsKICAgIHRyYW5zZmVyc0VuYWJsZWQgPSBfdmFsdWU7CiAgfQoKICBmdW5jdGlvbiBlbmFibGVNYXN0ZXJUcmFuc2ZlcnMoYm9vbCBfdmFsdWUpIHB1YmxpYyBvbmx5Q29udHJvbGxlciB7CiAgICBtYXN0ZXJUcmFuc2ZlcnNFbmFibGVkID0gX3ZhbHVlOwogIH0KCgogIGZ1bmN0aW9uIGdldFZhbHVlQXQoQ2hlY2twb2ludFtdIHN0b3JhZ2UgY2hlY2twb2ludHMsIHVpbnQgX2Jsb2NrKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CgogICAgICBpZiAoY2hlY2twb2ludHMubGVuZ3RoID09IDApCiAgICAgICAgcmV0dXJuIDA7CiAgICAgIC8vIFNob3J0Y3V0IGZvciB0aGUgYWN0dWFsIHZhbHVlCiAgICAgIGlmIChfYmxvY2sgPj0gY2hlY2twb2ludHNbY2hlY2twb2ludHMubGVuZ3RoLTFdLmZyb21CbG9jaykKICAgICAgICByZXR1cm4gY2hlY2twb2ludHNbY2hlY2twb2ludHMubGVuZ3RoLTFdLnZhbHVlOwogICAgICBpZiAoX2Jsb2NrIDwgY2hlY2twb2ludHNbMF0uZnJvbUJsb2NrKQogICAgICAgIHJldHVybiAwOwoKICAgICAgLy8gQmluYXJ5IHNlYXJjaCBvZiB0aGUgdmFsdWUgaW4gdGhlIGFycmF5CiAgICAgIHVpbnQgbWluID0gMDsKICAgICAgdWludCBtYXggPSBjaGVja3BvaW50cy5sZW5ndGgtMTsKICAgICAgd2hpbGUgKG1heCA+IG1pbikgewogICAgICAgICAgdWludCBtaWQgPSAobWF4ICsgbWluICsgMSkgLyAyOwogICAgICAgICAgaWYgKGNoZWNrcG9pbnRzW21pZF0uZnJvbUJsb2NrPD1fYmxvY2spIHsKICAgICAgICAgICAgICBtaW4gPSBtaWQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG1heCA9IG1pZC0xOwogICAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBjaGVja3BvaW50c1ttaW5dLnZhbHVlOwogIH0KCiAgZnVuY3Rpb24gdXBkYXRlVmFsdWVBdE5vdyhDaGVja3BvaW50W10gc3RvcmFnZSBjaGVja3BvaW50cywgdWludCBfdmFsdWUKICApIGludGVybmFsCiAgewogICAgICBpZiAoKGNoZWNrcG9pbnRzLmxlbmd0aCA9PSAwKSB8fCAoY2hlY2twb2ludHNbY2hlY2twb2ludHMubGVuZ3RoLTFdLmZyb21CbG9jayA8IGJsb2NrLm51bWJlcikpIHsKICAgICAgICAgICAgICBDaGVja3BvaW50IHN0b3JhZ2UgbmV3Q2hlY2tQb2ludCA9IGNoZWNrcG9pbnRzW2NoZWNrcG9pbnRzLmxlbmd0aCsrXTsKICAgICAgICAgICAgICBuZXdDaGVja1BvaW50LmZyb21CbG9jayA9IHVpbnQxMjgoYmxvY2subnVtYmVyKTsKICAgICAgICAgICAgICBuZXdDaGVja1BvaW50LnZhbHVlID0gdWludDEyOChfdmFsdWUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBDaGVja3BvaW50IHN0b3JhZ2Ugb2xkQ2hlY2tQb2ludCA9IGNoZWNrcG9pbnRzW2NoZWNrcG9pbnRzLmxlbmd0aC0xXTsKICAgICAgICAgICAgICBvbGRDaGVja1BvaW50LnZhbHVlID0gdWludDEyOChfdmFsdWUpOwogICAgICAgICAgfQogIH0KCiAgLy8vIEBkZXYgSGVscGVyIGZ1bmN0aW9uIHRvIHJldHVybiBhIG1pbiBiZXR3ZW4gdGhlIHR3byB1aW50cwogIGZ1bmN0aW9uIG1pbih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9CgogIC8qKgogICogQ2xvbmVzIFByb29mIFRva2VuIGF0IHRoZSBnaXZlbiBzbmFwc2hvdCBibG9jawogICogQHBhcmFtIF9zbmFwc2hvdEJsb2NrIHt1aW50fQogICogQHBhcmFtIF9jbG9uZVRva2VuTmFtZSB7c3RyaW5nfQogICogQHBhcmFtIF9jbG9uZVRva2VuU3ltYm9sIHtzdHJpbmd9CiAgICovCiAgZnVuY3Rpb24gY3JlYXRlQ2xvbmVUb2tlbigKICAgICAgICB1aW50IF9zbmFwc2hvdEJsb2NrLAogICAgICAgIHN0cmluZyBfY2xvbmVUb2tlbk5hbWUsCiAgICAgICAgc3RyaW5nIF9jbG9uZVRva2VuU3ltYm9sCiAgICApIHB1YmxpYyByZXR1cm5zKGFkZHJlc3MpIHsKCiAgICAgIGlmIChfc25hcHNob3RCbG9jayA9PSAwKSB7CiAgICAgICAgX3NuYXBzaG90QmxvY2sgPSBibG9jay5udW1iZXI7CiAgICAgIH0KCiAgICAgIGlmIChfc25hcHNob3RCbG9jayA+IGJsb2NrLm51bWJlcikgewogICAgICAgIF9zbmFwc2hvdEJsb2NrID0gYmxvY2subnVtYmVyOwogICAgICB9CgogICAgICBQcm9vZlRva2VuIGNsb25lVG9rZW4gPSB0b2tlbkZhY3RvcnkuY3JlYXRlQ2xvbmVUb2tlbigKICAgICAgICAgIHRoaXMsCiAgICAgICAgICBfc25hcHNob3RCbG9jaywKICAgICAgICAgIF9jbG9uZVRva2VuTmFtZSwKICAgICAgICAgIF9jbG9uZVRva2VuU3ltYm9sCiAgICAgICAgKTsKCgogICAgICBjbG9uZVRva2VuLnRyYW5zZmVyQ29udHJvbChtc2cuc2VuZGVyKTsKCiAgICAgIC8vIEFuIGV2ZW50IHRvIG1ha2UgdGhlIHRva2VuIGVhc3kgdG8gZmluZCBvbiB0aGUgYmxvY2tjaGFpbgogICAgICBOZXdDbG9uZVRva2VuKGFkZHJlc3MoY2xvbmVUb2tlbikpOwogICAgICByZXR1cm4gYWRkcmVzcyhjbG9uZVRva2VuKTsKICAgIH0KCn0KCmNvbnRyYWN0IENvbnRyb2xsZXJJbnRlcmZhY2UgewoKICAgIGZ1bmN0aW9uIHByb3h5UGF5bWVudChhZGRyZXNzIF9vd25lcikgcHVibGljIHBheWFibGUgcmV0dXJucyhib29sKTsKICAgIGZ1bmN0aW9uIG9uVHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcHVibGljIHJldHVybnMoYm9vbCk7CiAgICBmdW5jdGlvbiBvbkFwcHJvdmUoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2Ftb3VudCkgcHVibGljIHJldHVybnMoYm9vbCk7Cn0KCmNvbnRyYWN0IFByb29mVG9rZW5JbnRlcmZhY2UgaXMgQ29udHJvbGxhYmxlIHsKCiAgZXZlbnQgTWludChhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgYW1vdW50KTsKICBldmVudCBNaW50RmluaXNoZWQoKTsKICBldmVudCBDbGFpbWVkVG9rZW5zKGFkZHJlc3MgaW5kZXhlZCBfdG9rZW4sIGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIHVpbnQgX2Ftb3VudCk7CiAgZXZlbnQgTmV3Q2xvbmVUb2tlbihhZGRyZXNzIGluZGV4ZWQgX2Nsb25lVG9rZW4sIHVpbnQgX3NuYXBzaG90QmxvY2spOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50KTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCk7CiAgZnVuY3Rpb24gdG90YWxTdXBwbHlBdCh1aW50IF9ibG9ja051bWJlcikgcHVibGljIGNvbnN0YW50IHJldHVybnModWludCk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKICBmdW5jdGlvbiBiYWxhbmNlT2ZBdChhZGRyZXNzIF9vd25lciwgdWludCBfYmxvY2tOdW1iZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudCwgYnl0ZXMgX2V4dHJhRGF0YSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwogIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfb3duZXIsIHVpbnQgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGltcG9ydFByZXNhbGVCYWxhbmNlcyhhZGRyZXNzW10gX2FkZHJlc3NlcywgdWludDI1NltdIF9iYWxhbmNlcywgYWRkcmVzcyBfcHJlc2FsZUFkZHJlc3MpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBsb2NrUHJlc2FsZUJhbGFuY2VzKCkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcoKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gZW5hYmxlVHJhbnNmZXJzKGJvb2wgX3ZhbHVlKSBwdWJsaWM7CiAgZnVuY3Rpb24gZW5hYmxlTWFzdGVyVHJhbnNmZXJzKGJvb2wgX3ZhbHVlKSBwdWJsaWM7CiAgZnVuY3Rpb24gY3JlYXRlQ2xvbmVUb2tlbih1aW50IF9zbmFwc2hvdEJsb2NrLCBzdHJpbmcgX2Nsb25lVG9rZW5OYW1lLCBzdHJpbmcgX2Nsb25lVG9rZW5TeW1ib2wpIHB1YmxpYyByZXR1cm5zIChhZGRyZXNzKTsKCn0='.
	

]
