Class {
	#name : #SRT34ed5195cd23da4b69d09eca0c474011303ceb3a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT34ed5195cd23da4b69d09eca0c474011303ceb3a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KfQoKCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQp9CgovKioKICogQHRpdGxlIFN0YW5kYXJkIEVSQzIwIHRva2VuCiAqCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIGJhc2ljIHN0YW5kYXJkIHRva2VuLgogKiBAZGV2IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKiBAZGV2IEJhc2VkIG9uIGNvZGUgYnkgRmlyc3RCbG9vZDogaHR0cHM6Ly9naXRodWIuY29tL0ZpcnN0Ymxvb2Rpby90b2tlbi9ibG9iL21hc3Rlci9zbWFydF9jb250cmFjdC9GaXJzdEJsb29kVG9rZW4uc29sCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICB2YXIgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldAogICAgLy8gcmVxdWlyZSAoX3ZhbHVlIDw9IF9hbGxvd2FuY2UpOwoKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQp9CgoKLyoqCiAqIEB0aXRsZSBNaW50YWJsZSB0b2tlbgogKiBAZGV2IFNpbXBsZSBFUkMyMCBUb2tlbiBleGFtcGxlLCB3aXRoIG1pbnRhYmxlIHRva2VuIGNyZWF0aW9uCiAqIEBkZXYgSXNzdWU6ICogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9pc3N1ZXMvMTIwCiAqIEJhc2VkIG9uIGNvZGUgYnkgVG9rZW5NYXJrZXROZXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9Ub2tlbk1hcmtldE5ldC9pY28vYmxvYi9tYXN0ZXIvY29udHJhY3RzL01pbnRhYmxlVG9rZW4uc29sCiAqLwoKY29udHJhY3QgTWludGFibGVUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwogIGV2ZW50IE1pbnRGaW5pc2hlZCgpOwoKICBib29sIHB1YmxpYyBtaW50aW5nRmluaXNoZWQgPSBmYWxzZTsKCgogIG1vZGlmaWVyIGNhbk1pbnQoKSB7CiAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gbWludCB0b2tlbnMKICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRoYXQgd2lsbCByZWNpZXZlIHRoZSBtaW50ZWQgdG9rZW5zLgogICAqIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIG1pbnQuCiAgICogQHJldHVybiBBIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgKi8KICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciBjYW5NaW50IHJldHVybnMgKGJvb2wpIHsKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9hbW91bnQpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgTWludChfdG8sIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIHN0b3AgbWludGluZyBuZXcgdG9rZW5zLgogICAqIEByZXR1cm4gVHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICAqLwogIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcoKSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCkgewogICAgbWludGluZ0ZpbmlzaGVkID0gdHJ1ZTsKICAgIE1pbnRGaW5pc2hlZCgpOwogICAgcmV0dXJuIHRydWU7CiAgfQp9CgoKY29udHJhY3QgRGlzYnVyc2FibGVUb2tlbiBpcyBNaW50YWJsZVRva2VuIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgc3RydWN0IEFjY291bnQgewogICAgdWludCBjbGFpbWVkUG9pbnRzOwogICAgdWludCBhbGxvd2VkUG9pbnRzOwogICAgdWludCBsYXN0UG9pbnRzUGVyVG9rZW47CiAgfQoKICBldmVudCBEaXNidXJzZShhZGRyZXNzIF9zb3VyY2UsIHVpbnQgX2Ftb3VudCk7CiAgZXZlbnQgQ2xhaW1EaXNidXJzZW1lbnQoYWRkcmVzcyBfYWNjb3VudCwgdWludCBfYW1vdW50KTsKICAvLyBUaGUgZGlzYnVyc2VtZW50IG11bHRpcGxpZXIgZXhpc3RzIHRvIGNvcnJlY3Qgcm91bmRpbmcgZXJyb3JzCiAgLy8gT25lIGRpc2J1cnNlZCB3ZWkgPSAxZTE4IGRpc2J1cnNlbWVudCBwb2ludHMKICB1aW50IHBvaW50TXVsdGlwbGllciA9IDFlMTg7CiAgdWludCB0b3RhbFBvaW50c1BlclRva2VuOwogIHVpbnQgdW5jbGFpbWVkRGlzYnVyc2VtZW50OwogIHVpbnQgdG90YWxEaXNidXJzZW1lbnQ7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiBBY2NvdW50KSBhY2NvdW50czsKCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBzZW5kIGV0aCB0byBvd25lcnMgb2YgdGhpcyB0b2tlbi4KICAgKi8KICBmdW5jdGlvbiBkaXNidXJzZSgpIHB1YmxpYyBwYXlhYmxlIHsKICAgIHRvdGFsUG9pbnRzUGVyVG9rZW4gPSB0b3RhbFBvaW50c1BlclRva2VuLmFkZChtc2cudmFsdWUubXVsKHBvaW50TXVsdGlwbGllcikuZGl2KHRvdGFsU3VwcGx5KSk7CiAgICB1bmNsYWltZWREaXNidXJzZW1lbnQgPSB1bmNsYWltZWREaXNidXJzZW1lbnQuYWRkKG1zZy52YWx1ZSk7CiAgICB0b3RhbERpc2J1cnNlbWVudCA9IHRvdGFsRGlzYnVyc2VtZW50LmFkZChtc2cudmFsdWUpOwogICAgRGlzYnVyc2UobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gdXBkYXRlIHRoZSBjbGFpbWFibGUgZGlzYnVyc2VtZW50cyB3aGVuZXZlciB0b2tlbnMgY2hhbmdlIGhhbmRzCiAgICogQHBhcmFtIF9hY2NvdW50IGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hvc2UgY2xhaW1hYmxlIGRpc2J1cnNlbWVudHMgc2hvdWxkIGJlIHVwZGF0ZWQKICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZpbmcgdGhlIGFtb3VudCBvZiB3ZWkgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgb3duZXIuCiAgICovCiAgZnVuY3Rpb24gdXBkYXRlUG9pbnRzKGFkZHJlc3MgX2FjY291bnQpIGludGVybmFsIHsKICAgIHVpbnQgbmV3UG9pbnRzUGVyVG9rZW4gPSB0b3RhbFBvaW50c1BlclRva2VuLnN1YihhY2NvdW50c1tfYWNjb3VudF0ubGFzdFBvaW50c1BlclRva2VuKTsKICAgIGFjY291bnRzW19hY2NvdW50XS5hbGxvd2VkUG9pbnRzID0gYWNjb3VudHNbX2FjY291bnRdLmFsbG93ZWRQb2ludHMuYWRkKGJhbGFuY2VzW19hY2NvdW50XS5tdWwobmV3UG9pbnRzUGVyVG9rZW4pKTsKICAgIGFjY291bnRzW19hY2NvdW50XS5sYXN0UG9pbnRzUGVyVG9rZW4gPSB0b3RhbFBvaW50c1BlclRva2VuOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHdlaSB0aGF0IGEgdG9rZW4gb3duZXIgY2FuIGNsYWltLgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZpbmcgdGhlIGFtb3VudCBvZiB3ZWkgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgb3duZXIuCiAgICovCiAgZnVuY3Rpb24gY2xhaW1hYmxlKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgdXBkYXRlUG9pbnRzKF9vd25lcik7CiAgICByZXR1cm4gYWNjb3VudHNbX293bmVyXS5hbGxvd2VkUG9pbnRzLnN1YihhY2NvdW50c1tfb3duZXJdLmNsYWltZWRQb2ludHMpLmRpdihwb2ludE11bHRpcGxpZXIpOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjbGFpbSB0aGUgd2VpIHRoYXQgYSB0b2tlbiBvd25lciBpcyBlbnRpdGxlZCB0bwogICAqIEBwYXJhbSBfYW1vdW50IHVpbnQyNTYgSG93IG11Y2ggb2YgdGhlIHdlaSB0aGUgdXNlciB3aWxsIHRha2UKICAgKi8KICBmdW5jdGlvbiBjbGFpbSh1aW50IF9hbW91bnQpIHB1YmxpYyB7CiAgICByZXF1aXJlKF9hbW91bnQgPiAwKTsKICAgIHVwZGF0ZVBvaW50cyhtc2cuc2VuZGVyKTsKICAgIHVpbnQgY2xhaW1pbmdQb2ludHMgPSBfYW1vdW50Lm11bChwb2ludE11bHRpcGxpZXIpOwogICAgcmVxdWlyZShhY2NvdW50c1ttc2cuc2VuZGVyXS5jbGFpbWVkUG9pbnRzLmFkZChjbGFpbWluZ1BvaW50cykgPD0gYWNjb3VudHNbbXNnLnNlbmRlcl0uYWxsb3dlZFBvaW50cyk7CiAgICBhY2NvdW50c1ttc2cuc2VuZGVyXS5jbGFpbWVkUG9pbnRzID0gYWNjb3VudHNbbXNnLnNlbmRlcl0uY2xhaW1lZFBvaW50cy5hZGQoY2xhaW1pbmdQb2ludHMpOwogICAgQ2xhaW1EaXNidXJzZW1lbnQobXNnLnNlbmRlciwgX2Ftb3VudCk7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIuc2VuZChfYW1vdW50KSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIG1pbnQgdG9rZW5zLiBXZSBuZWVkIHRvIG1vZGlmeSB0aGlzIHRvIHVwZGF0ZSBwb2ludHMuCiAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0aGF0IHdpbGwgcmVjaWV2ZSB0aGUgbWludGVkIHRva2Vucy4KICAgKiBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IG9mIHRva2VucyB0byBtaW50LgogICAqIEByZXR1cm4gQSBib29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICovCiAgZnVuY3Rpb24gbWludChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBvbmx5T3duZXIgY2FuTWludCByZXR1cm5zIChib29sKSB7CiAgICB1cGRhdGVQb2ludHMoX3RvKTsKICAgIHN1cGVyLm1pbnQoX3RvLCBfYW1vdW50KTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyhib29sKSB7CiAgICB1cGRhdGVQb2ludHMobXNnLnNlbmRlcik7CiAgICB1cGRhdGVQb2ludHMoX3RvKTsKICAgIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICB9CgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlciB3aGlsZSBlbnN1cmluZyB0aGF0IGNsYWltcyByZW1haW4gd2hlcmUgdGhleSBhcmUKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMoYm9vbCkgewogICAgdXBkYXRlUG9pbnRzKF9mcm9tKTsKICAgIHVwZGF0ZVBvaW50cyhfdG8pOwogICAgc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQp9CgoKLyoqCiAqIEB0aXRsZSBIZXJvIHRva2VuCiAqIEBkZXYgVGhpcyBpcyB0aGUgdG9rZW4gYmVpbmcgc29sZAogKgogKiBBQkkKICogW3siY29uc3RhbnQiOnRydWUsImlucHV0cyI6W10sIm5hbWUiOiJtaW50aW5nRmluaXNoZWQiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6ImJvb2wifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoibmFtZSIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoic3RyaW5nIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il9zcGVuZGVyIiwidHlwZSI6ImFkZHJlc3MifSx7Im5hbWUiOiJfdmFsdWUiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6ImFwcHJvdmUiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6ImJvb2wifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoidG90YWxTdXBwbHkiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX2Zyb20iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsibmFtZSI6Il90byIsInR5cGUiOiJhZGRyZXNzIn0seyJuYW1lIjoiX3ZhbHVlIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJ0cmFuc2ZlckZyb20iLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6ImJvb2wifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbXSwibmFtZSI6InN0YXJ0VHJhZGluZyIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbXSwibmFtZSI6ImRlY2ltYWxzIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il9hbW91bnQiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6ImNsYWltIiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOlt7Im5hbWUiOiJfb3duZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6ImNsYWltYWJsZSIsIm91dHB1dHMiOlt7Im5hbWUiOiJyZW1haW5pbmciLCJ0eXBlIjoidWludDI1NiJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOmZhbHNlLCJpbnB1dHMiOlt7Im5hbWUiOiJfdG8iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsibmFtZSI6Il9hbW91bnQiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6Im1pbnQiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6ImJvb2wifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoidHJhZGluZ1N0YXJ0ZWQiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6ImJvb2wifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOlt7Im5hbWUiOiJfb3duZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6ImJhbGFuY2VPZiIsIm91dHB1dHMiOlt7Im5hbWUiOiJiYWxhbmNlIiwidHlwZSI6InVpbnQyNTYifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbXSwibmFtZSI6ImZpbmlzaE1pbnRpbmciLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6ImJvb2wifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoib3duZXIiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6ImFkZHJlc3MifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoic3ltYm9sIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJzdHJpbmcifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX3RvIiwidHlwZSI6ImFkZHJlc3MifSx7Im5hbWUiOiJfdmFsdWUiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InRyYW5zZmVyIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJib29sIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W10sIm5hbWUiOiJkaXNidXJzZSIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjp0cnVlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOlt7Im5hbWUiOiJfb3duZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9LHsibmFtZSI6Il9zcGVuZGVyIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJhbGxvd2FuY2UiLCJvdXRwdXRzIjpbeyJuYW1lIjoicmVtYWluaW5nIiwidHlwZSI6InVpbnQyNTYifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoibmV3T3duZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6InRyYW5zZmVyT3duZXJzaGlwIiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7InBheWFibGUiOnRydWUsInR5cGUiOiJmYWxsYmFjayJ9LHsiYW5vbnltb3VzIjpmYWxzZSwiaW5wdXRzIjpbeyJpbmRleGVkIjpmYWxzZSwibmFtZSI6Il9zb3VyY2UiLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW5kZXhlZCI6ZmFsc2UsIm5hbWUiOiJfYW1vdW50IiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJEaXNidXJzZSIsInR5cGUiOiJldmVudCJ9LHsiYW5vbnltb3VzIjpmYWxzZSwiaW5wdXRzIjpbeyJpbmRleGVkIjpmYWxzZSwibmFtZSI6Il9hY2NvdW50IiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOmZhbHNlLCJuYW1lIjoiX2Ftb3VudCIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiQ2xhaW1EaXNidXJzZW1lbnQiLCJ0eXBlIjoiZXZlbnQifSx7ImFub255bW91cyI6ZmFsc2UsImlucHV0cyI6W3siaW5kZXhlZCI6dHJ1ZSwibmFtZSI6InRvIiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOmZhbHNlLCJuYW1lIjoiYW1vdW50IiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJNaW50IiwidHlwZSI6ImV2ZW50In0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOltdLCJuYW1lIjoiTWludEZpbmlzaGVkIiwidHlwZSI6ImV2ZW50In0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOnRydWUsIm5hbWUiOiJvd25lciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjp0cnVlLCJuYW1lIjoic3BlbmRlciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjpmYWxzZSwibmFtZSI6InZhbHVlIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJBcHByb3ZhbCIsInR5cGUiOiJldmVudCJ9LHsiYW5vbnltb3VzIjpmYWxzZSwiaW5wdXRzIjpbeyJpbmRleGVkIjp0cnVlLCJuYW1lIjoiZnJvbSIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjp0cnVlLCJuYW1lIjoidG8iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW5kZXhlZCI6ZmFsc2UsIm5hbWUiOiJ2YWx1ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiVHJhbnNmZXIiLCJ0eXBlIjoiZXZlbnQifV0KICovCgpjb250cmFjdCBIZXJvVG9rZW4gaXMgRGlzYnVyc2FibGVUb2tlbiB7CiAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIkhlcm8gVG9rZW4iOwogIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIkhFUk8iOwogIHVpbnQgcHVibGljIGRlY2ltYWxzID0gMTg7CgogIGJvb2wgcHVibGljIHRyYWRpbmdTdGFydGVkID0gZmFsc2U7CiAgLyoqCiAgICogQGRldiBtb2RpZmllciB0aGF0IHRocm93cyBpZiB0cmFkaW5nIGhhcyBub3Qgc3RhcnRlZCB5ZXQKICAgKi8KICBtb2RpZmllciBoYXNTdGFydGVkVHJhZGluZygpIHsKICAgIHJlcXVpcmUodHJhZGluZ1N0YXJ0ZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBvd25lciB0byBlbmFibGUgdGhlIHRyYWRpbmcuIFRoaXMgY2FuIG5vdCBiZSB1bmRvbmUKICAgKi8KICBmdW5jdGlvbiBzdGFydFRyYWRpbmcoKSBvbmx5T3duZXIgewogICAgdHJhZGluZ1N0YXJ0ZWQgPSB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgYW55b25lIHRvIHRyYW5zZmVyIHRoZSBERVZFIHRva2VucyBvbmNlIHRyYWRpbmcgaGFzIHN0YXJ0ZWQKICAgKiBAcGFyYW0gX3RvIHRoZSByZWNpcGllbnQgYWRkcmVzcyBvZiB0aGUgdG9rZW5zLgogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaGFzU3RhcnRlZFRyYWRpbmcgcmV0dXJucyhib29sKSB7CiAgICBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgfQoKICAgLyoqCiAgICogQGRldiBBbGxvd3MgYW55b25lIHRvIHRyYW5zZmVyIHRoZSBERVZFIHRva2VucyBvbmNlIHRyYWRpbmcgaGFzIHN0YXJ0ZWQKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGhhc1N0YXJ0ZWRUcmFkaW5nIHJldHVybnMoYm9vbCkgewogICAgc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbigpIGV4dGVybmFsIHBheWFibGUgewogICAgZGlzYnVyc2UoKTsKICB9Cn0KCi8qKgogKiBAdGl0bGUgTWFpblNhbGUKICogQGRldiBUaGUgbWFpbiBIRVJPIHRva2VuIHNhbGUgY29udHJhY3QKICoKICogQUJJCiAqIFt7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX211bHRpc2lnVmF1bHQiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6InNldE11bHRpc2lnVmF1bHQiLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInN0YXRlTXV0YWJpbGl0eSI6Im5vbnBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX21pbmltdW0iLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InNldE1pbmltdW0iLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInN0YXRlTXV0YWJpbGl0eSI6Im5vbnBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoic2FsZU9uZ29pbmciLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6ImJvb2wifV0sInBheWFibGUiOmZhbHNlLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbXSwibmFtZSI6ImV4Y2hhbmdlUmF0ZSIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwicGF5YWJsZSI6ZmFsc2UsInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOlt7Im5hbWUiOiJiYXNlIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJib251c1Rva2VucyIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwicGF5YWJsZSI6ZmFsc2UsInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoiYWx0RGVwb3NpdHMiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInBheWFibGUiOmZhbHNlLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6InJlY2lwaWVudCIsInR5cGUiOiJhZGRyZXNzIn0seyJuYW1lIjoidG9rZW5zIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJhdXRob3JpemVkQ3JlYXRlVG9rZW5zIiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbXSwibmFtZSI6Im1pbmltdW0iLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInBheWFibGUiOmZhbHNlLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il9zYWxlT25nb2luZyIsInR5cGUiOiJib29sIn1dLCJuYW1lIjoic2V0U2FsZU9uZ29pbmciLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInN0YXRlTXV0YWJpbGl0eSI6Im5vbnBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbXSwibmFtZSI6ImZpbmlzaE1pbnRpbmciLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInN0YXRlTXV0YWJpbGl0eSI6Im5vbnBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoib3duZXIiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6ImFkZHJlc3MifV0sInBheWFibGUiOmZhbHNlLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6InRvdGFsQWx0RGVwb3NpdHMiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InNldEFsdERlcG9zaXRzIiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il90b2tlbiIsInR5cGUiOiJhZGRyZXNzIn1dLCJuYW1lIjoicmV0cmlldmVUb2tlbnMiLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInN0YXRlTXV0YWJpbGl0eSI6Im5vbnBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoiaGFyZGNhcCIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwicGF5YWJsZSI6ZmFsc2UsInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoic3RhcnQiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInBheWFibGUiOmZhbHNlLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6InJlY2lwaWVudCIsInR5cGUiOiJhZGRyZXNzIn1dLCJuYW1lIjoiY3JlYXRlVG9rZW5zIiwib3V0cHV0cyI6W10sInBheWFibGUiOnRydWUsInN0YXRlTXV0YWJpbGl0eSI6InBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoibXVsdGlzaWdWYXVsdCIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwicGF5YWJsZSI6ZmFsc2UsInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX2V4Y2hhbmdlUmF0ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoic2V0RXhjaGFuZ2VSYXRlIiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il9oYXJkY2FwIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJzZXRIYXJkY2FwIiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Im5ld093bmVyIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJ0cmFuc2Zlck93bmVyc2hpcCIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOmZhbHNlLCJpbnB1dHMiOlt7Im5hbWUiOiJfc3RhcnQiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InNldFN0YXJ0Iiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbXSwibmFtZSI6InRva2VuIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJhZGRyZXNzIn1dLCJwYXlhYmxlIjpmYWxzZSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsicGF5YWJsZSI6dHJ1ZSwic3RhdGVNdXRhYmlsaXR5IjoicGF5YWJsZSIsInR5cGUiOiJmYWxsYmFjayJ9LHsiYW5vbnltb3VzIjpmYWxzZSwiaW5wdXRzIjpbeyJpbmRleGVkIjpmYWxzZSwibmFtZSI6InJlY2lwaWVudCIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjpmYWxzZSwibmFtZSI6ImV0aGVyX2Ftb3VudCIsInR5cGUiOiJ1aW50MjU2In0seyJpbmRleGVkIjpmYWxzZSwibmFtZSI6InRva2VuX2Ftb3VudCIsInR5cGUiOiJ1aW50MjU2In0seyJpbmRleGVkIjpmYWxzZSwibmFtZSI6ImV4Y2hhbmdlcmF0ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiVG9rZW5Tb2xkIiwidHlwZSI6ImV2ZW50In0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOmZhbHNlLCJuYW1lIjoicmVjaXBpZW50IiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOmZhbHNlLCJuYW1lIjoidG9rZW5fYW1vdW50IiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJBdXRob3JpemVkQ3JlYXRlIiwidHlwZSI6ImV2ZW50In0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOltdLCJuYW1lIjoiTWFpblNhbGVDbG9zZWQiLCJ0eXBlIjoiZXZlbnQifV0KICovCmNvbnRyYWN0IE1haW5TYWxlIGlzIE93bmFibGUgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwogIGV2ZW50IFRva2VuU29sZChhZGRyZXNzIHJlY2lwaWVudCwgdWludCBldGhlcl9hbW91bnQsIHVpbnQgdG9rZW5fYW1vdW50LCB1aW50IGV4Y2hhbmdlcmF0ZSk7CiAgZXZlbnQgQXV0aG9yaXplZENyZWF0ZShhZGRyZXNzIHJlY2lwaWVudCwgdWludCB0b2tlbl9hbW91bnQpOwogIGV2ZW50IE1haW5TYWxlQ2xvc2VkKCk7CgogIEhlcm9Ub2tlbiBwdWJsaWMgdG9rZW4gPSBuZXcgSGVyb1Rva2VuKCk7CgogIGFkZHJlc3MgcHVibGljIG11bHRpc2lnVmF1bHQgPSAweDg3N2YxREFhNmU2RTlkYzI3NjQ2MTFENDhjNTYxNzJDRTM1NDc2NTY7CgogIHVpbnQgcHVibGljIGhhcmRjYXAgPSAyNTAwMDAgZXRoZXI7CiAgdWludCBwdWJsaWMgZXhjaGFuZ2VSYXRlID0gMjAwOwogIHVpbnQgcHVibGljIG1pbmltdW0gPSAxMCBldGhlcjsKCiAgdWludCBwdWJsaWMgYWx0RGVwb3NpdHMgPSAwOwogIHVpbnQgcHVibGljIHN0YXJ0ID0gMTUwNDI2NjkwMDsgLy9uZXcgRGF0ZSgiU2VwdGVtYmVyIDEsIDIwMTcgMTk6NTU6MDAgR01UKzgiKS5nZXRUaW1lKCkgLyAxMDAwCiAgYm9vbCBwdWJsaWMgc2FsZU9uZ29pbmcgPSB0cnVlOwoKICAvKioKICAgKiBAZGV2IG1vZGlmaWVyIHRvIGFsbG93IHRva2VuIGNyZWF0aW9uIG9ubHkgd2hlbiB0aGUgc2FsZSBJUyBPTgogICAqLwogIG1vZGlmaWVyIGlzU2FsZU9uKCkgewogICAgcmVxdWlyZShzdGFydCA8IG5vdyAmJiBzYWxlT25nb2luZyAmJiAhdG9rZW4ubWludGluZ0ZpbmlzaGVkKCkpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgbW9kaWZpZXIgdG8gcHJldmVudCBidXlpbmcgdG9rZW5zIGJlbG93IHRoZSBtaW5pbXVtIHJlcXVpcmVkCiAgICovCiAgbW9kaWZpZXIgaXNPdmVyTWluaW11bSgpIHsKICAgIHJlcXVpcmUobXNnLnZhbHVlID49IG1pbmltdW0pOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgbW9kaWZpZXIgdG8gYWxsb3cgdG9rZW4gY3JlYXRpb24gb25seSB3aGVuIHRoZSBoYXJkY2FwIGhhcyBub3QgYmVlbiByZWFjaGVkCiAgICovCiAgbW9kaWZpZXIgaXNVbmRlckhhcmRjYXAoKSB7CiAgICByZXF1aXJlKG11bHRpc2lnVmF1bHQuYmFsYW5jZSArIGFsdERlcG9zaXRzIDw9IGhhcmRjYXApOwogICAgXzsKICB9CgogIC8qCiAgICogQGRldiBBbGxvd3MgYW55b25lIHRvIGNyZWF0ZSB0b2tlbnMgYnkgZGVwb3NpdGluZyBldGhlci4KICAgKiBAcGFyYW0gcmVjaXBpZW50IHRoZSByZWNpcGllbnQgdG8gcmVjZWl2ZSB0b2tlbnMuCiAgICovCiAgZnVuY3Rpb24gY3JlYXRlVG9rZW5zKGFkZHJlc3MgcmVjaXBpZW50KSBwdWJsaWMgaXNPdmVyTWluaW11bSBpc1VuZGVySGFyZGNhcCBpc1NhbGVPbiBwYXlhYmxlIHsKICAgIHVpbnQgYmFzZSA9IGV4Y2hhbmdlUmF0ZS5tdWwobXNnLnZhbHVlKS5tdWwoMTAqKnRva2VuLmRlY2ltYWxzKCkpLmRpdigxIGV0aGVyKTsKICAgIHVpbnQgYm9udXMgPSBib251c1Rva2VucyhiYXNlKTsKICAgIHVpbnQgdG9rZW5zID0gYmFzZS5hZGQoYm9udXMpOwogICAgdG9rZW4ubWludChyZWNpcGllbnQsIHRva2Vucyk7CiAgICByZXF1aXJlKG11bHRpc2lnVmF1bHQuc2VuZChtc2cudmFsdWUpKTsKICAgIFRva2VuU29sZChyZWNpcGllbnQsIG1zZy52YWx1ZSwgdG9rZW5zLCBleGNoYW5nZVJhdGUpOwogIH0KCiAgLyoqCiAgICogQGRldiBDb21wdXRlcyB0aGUgbnVtYmVyIG9mIGJvbnVzIHRva2VucyBhd2FyZGVkIGJhc2VkIG9uIHRoZSBjdXJyZW50IHRpbWUuCiAgICogQHBhcmFtIGJhc2UgdGhlIG9yaWdpbmFsIG51bWJlciBvZiB0b2tlbnMgbWFkZSB3aXRob3V0IGNvdW50aW5nIHRoZSBib251cwogICAqLwogIGZ1bmN0aW9uIGJvbnVzVG9rZW5zKHVpbnQgYmFzZSkgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICB1aW50IGJvbnVzID0gMDsKICAgIGlmIChub3cgPD0gc3RhcnQgKyAzIGhvdXJzKSB7CiAgICAgIGJvbnVzID0gYmFzZS5tdWwoMykuZGl2KDEwKTsKICAgIH0gZWxzZSBpZiAobm93IDw9IHN0YXJ0ICsgMjQgaG91cnMpIHsKICAgICAgYm9udXMgPSBiYXNlLm11bCgyKS5kaXYoMTApOwogICAgfSBlbHNlIGlmIChub3cgPD0gc3RhcnQgKyAzIGRheXMpIHsKICAgICAgYm9udXMgPSBiYXNlLmRpdigxMCk7CiAgICB9IGVsc2UgaWYgKG5vdyA8PSBzdGFydCArIDcgZGF5cykgewogICAgICBib251cyA9IGJhc2UuZGl2KDIwKTsKICAgIH0gZWxzZSBpZiAobm93IDw9IHN0YXJ0ICsgMTQgZGF5cykgewogICAgICBib251cyA9IGJhc2UuZGl2KDQwKTsKICAgIH0KICAgIHJldHVybiBib251czsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIGF1dGhvcml6ZWQgYWNjZXMgdG8gY3JlYXRlIHRva2Vucy4gVGhpcyBpcyB1c2VkIGZvciBCaXRjb2luIGFuZCBFUkMyMCBkZXBvc2l0cwogICAqIEBwYXJhbSByZWNpcGllbnQgdGhlIHJlY2lwaWVudCB0byByZWNlaXZlIHRva2Vucy4KICAgKiBAcGFyYW0gdG9rZW5zIG51bWJlciBvZiB0b2tlbnMgdG8gYmUgY3JlYXRlZC4KICAgKi8KICBmdW5jdGlvbiBhdXRob3JpemVkQ3JlYXRlVG9rZW5zKGFkZHJlc3MgcmVjaXBpZW50LCB1aW50IHRva2VucykgcHVibGljIG9ubHlPd25lciB7CiAgICB0b2tlbi5taW50KHJlY2lwaWVudCwgdG9rZW5zKTsKICAgIEF1dGhvcml6ZWRDcmVhdGUocmVjaXBpZW50LCB0b2tlbnMpOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIG93bmVyIHRvIHNldCB0aGUgc3RhcnRpbmcgdGltZS4KICAgKiBAcGFyYW0gX3N0YXJ0IHRoZSBuZXcgX3N0YXJ0CiAgICovCiAgZnVuY3Rpb24gc2V0U3RhcnQodWludCBfc3RhcnQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgc3RhcnQgPSBfc3RhcnQ7CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgb3duZXIgdG8gc2V0IHRoZSBtaW5pbXVtIHB1cmNoYXNlLgogICAqIEBwYXJhbSBfbWluaW11bSB0aGUgbmV3IF9taW5pbXVtCiAgICovCiAgZnVuY3Rpb24gc2V0TWluaW11bSh1aW50IF9taW5pbXVtKSBwdWJsaWMgb25seU93bmVyIHsKICAgIG1pbmltdW0gPSBfbWluaW11bTsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBvd25lciB0byBzZXQgdGhlIGhhcmRjYXAuCiAgICogQHBhcmFtIF9oYXJkY2FwIHRoZSBuZXcgaGFyZGNhcAogICAqLwogIGZ1bmN0aW9uIHNldEhhcmRjYXAodWludCBfaGFyZGNhcCkgcHVibGljIG9ubHlPd25lciB7CiAgICBoYXJkY2FwID0gX2hhcmRjYXA7CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0byBzZXQgdGhlIHRvYWwgYWx0IGRlcG9zaXQgbWVhc3VyZWQgaW4gRVRIIHRvIG1ha2Ugc3VyZSB0aGUgaGFyZGNhcCBpbmNsdWRlcyBvdGhlciBkZXBvc2l0cwogICAqIEBwYXJhbSB0b3RhbEFsdERlcG9zaXRzIHRvdGFsIGFtb3VudCBFVEggZXF1aXZhbGVudAogICAqLwogIGZ1bmN0aW9uIHNldEFsdERlcG9zaXRzKHVpbnQgdG90YWxBbHREZXBvc2l0cykgcHVibGljIG9ubHlPd25lciB7CiAgICBhbHREZXBvc2l0cyA9IHRvdGFsQWx0RGVwb3NpdHM7CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgb3duZXIgdG8gc2V0IHRoZSBtdWx0aXNpZyBjb250cmFjdC4KICAgKiBAcGFyYW0gX211bHRpc2lnVmF1bHQgdGhlIG11bHRpc2lnIGNvbnRyYWN0IGFkZHJlc3MKICAgKi8KICBmdW5jdGlvbiBzZXRNdWx0aXNpZ1ZhdWx0KGFkZHJlc3MgX211bHRpc2lnVmF1bHQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgaWYgKF9tdWx0aXNpZ1ZhdWx0ICE9IGFkZHJlc3MoMCkpIHsKICAgICAgbXVsdGlzaWdWYXVsdCA9IF9tdWx0aXNpZ1ZhdWx0OwogICAgfQogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIG93bmVyIHRvIHNldCB0aGUgZXhjaGFuZ2UgcmF0ZQogICAqIEBwYXJhbSBfZXhjaGFuZ2VSYXRlIHRoZSBleGNoYW5nZXJhdGUgYWRkcmVzcwogICAqLwogIGZ1bmN0aW9uIHNldEV4Y2hhbmdlUmF0ZSh1aW50IF9leGNoYW5nZVJhdGUpIHB1YmxpYyBvbmx5T3duZXIgewogICAgZXhjaGFuZ2VSYXRlID0gX2V4Y2hhbmdlUmF0ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBvd25lciB0byBzdG9wIHRoZSBzYWxlCiAgICogQHBhcmFtIF9zYWxlT25nb2luZyB3aGV0aGVyIHRoZSBzYWxlIGlzIG9uZ29pbmcgb3Igbm90CiAgICovCiAgZnVuY3Rpb24gc2V0U2FsZU9uZ29pbmcoYm9vbCBfc2FsZU9uZ29pbmcpIHB1YmxpYyBvbmx5T3duZXIgewogICAgc2FsZU9uZ29pbmcgPSBfc2FsZU9uZ29pbmc7CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgb3duZXIgdG8gZmluaXNoIHRoZSBtaW50aW5nLgogICAqIFRoZSBvd25lcnNoaXAgb2YgdGhlIHRva2VuIGNvbnRyYWN0IGlzIHRyYW5zZmVyZWQKICAgKiB0byB0aGlzIG93bmVyLgogICAqLwogIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHRva2VuLmZpbmlzaE1pbnRpbmcoKTsKICAgIHRva2VuLnRyYW5zZmVyT3duZXJzaGlwKG93bmVyKTsKICAgIE1haW5TYWxlQ2xvc2VkKCk7CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgb3duZXIgdG8gdHJhbnNmZXIgRVJDMjAgdG9rZW5zIHRvIHRoZSBtdWx0aSBzaWcgdmF1bHQKICAgKiBAcGFyYW0gX3Rva2VuIHRoZSBjb250cmFjdCBhZGRyZXNzIG9mIHRoZSBFUkMyMCBjb250cmFjdAogICAqLwogIGZ1bmN0aW9uIHJldHJpZXZlVG9rZW5zKGFkZHJlc3MgX3Rva2VuKSBwdWJsaWMgb25seU93bmVyIHsKICAgIEVSQzIwIGZvcmVpZ25Ub2tlbiA9IEVSQzIwKF90b2tlbik7CiAgICBmb3JlaWduVG9rZW4udHJhbnNmZXIobXVsdGlzaWdWYXVsdCwgZm9yZWlnblRva2VuLmJhbGFuY2VPZih0aGlzKSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEZhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIHJlY2VpdmVzIGV0aGVyIGFuZCBjcmVhdGVkIHRoZSBhcHByb3ByaWF0ZSBudW1iZXIgb2YgdG9rZW5zIGZvciB0aGUKICAgKiBtc2cuc2VuZGVyLgogICAqLwogIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICBjcmVhdGVUb2tlbnMobXNnLnNlbmRlcik7CiAgfQp9'.
	

]
