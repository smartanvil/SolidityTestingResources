Class {
	#name : #SRTaa37e59d7608eb96bef18ef1e29400e14be1562e,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTaa37e59d7608eb96bef18ef1e29400e14be1562e >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgoKLyoqCiAqIFNhZmVNYXRoCiAqIE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KIApsaWJyYXJ5IFNhZmVNYXRoIHsKICAKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIG1heDY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgICB9CgogICAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgICB9CgogICAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbjI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgICB9CiAgICAKfQoKLyoqCiAqIHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgewogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICBib29sIHB1YmxpYyB0cmFuc2ZlcmxvY2tlZDsKICAgIGJvb2wgcHVibGljIHdhbGxvY2tlZDsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGJ1cm5lciwgdWludCBpbmRleGVkIHZhbHVlKTsKfQoKLyoqCiAqIEJhc2ljIHRva2VuCiAqIEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLgogKi8KCiAKY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMCB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogICAgLyoqCiAgICAqIHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgICAqIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAgICogX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKAogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUKICAgICAgICAgICAgJiYgX3ZhbHVlID4gMAogICAgICAgICAgICApOwogICAgICAgIGlmICh0cmFuc2ZlcmxvY2tlZCkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAqICBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAgICogIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgICAqICBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAgICovCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKfQoKLyoqCiAqICBPd25hYmxlCiAqIFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqIFRoYW5rcyBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5LwogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICAvKioKICAgICAqIFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgICAqIGFjY291bnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIC8qKgogICAgICogVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgICAqLwogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIGFzc2VydChtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICAgKiBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICAgICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgICAgICB9CiAgICB9Cn0KCi8qKgogKiBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBCYXNpY1Rva2VuIHsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgoKICAgIC8qKgogICAgICogVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAgICogX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICAgKiBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAgICogX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKAogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PV92YWx1ZQogICAgICAgICAgICAmJiBiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlCiAgICAgICAgICAgICYmIF92YWx1ZSA+IDAKICAgICAgICAgICAgKTsKICAgICAgICBpZiAodHJhbnNmZXJsb2NrZWQpIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQoKICAgICAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgICAgICAvLyByZXF1aXJlIChfdmFsdWUgPD0gX2FsbG93ZWQpOwoKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICAgKiBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAqIF92YWx1ZSBUaGUgLWFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKCiAgICAgICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgICAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwogICAgICAgIGlmICh0cmFuc2ZlcmxvY2tlZCkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAgICogX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICAgKiBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAgICogQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpYmxlIGZvciB0aGUgc3BlbmRlci4KICAgICAqLwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKCn0KCi8qKgogKiBNaW50YWJsZSB0b2tlbgogKiBTaW1wbGUgRVJDMjAgVG9rZW4gZXhhbXBsZSwgd2l0aCBtaW50YWJsZSB0b2tlbiBjcmVhdGlvbgogKiBJc3N1ZTogKiBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5L2lzc3Vlcy8xMjAKICogQmFzZWQgb24gY29kZSBieSBUb2tlbk1hcmtldE5ldDogaHR0cHM6Ly9naXRodWIuY29tL1Rva2VuTWFya2V0TmV0L2ljby9ibG9iL21hc3Rlci9jb250cmFjdHMvTWludGFibGVUb2tlbi5zb2wKICovCgpjb250cmFjdCBNaW50YnVyblRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIE93bmFibGUgewogIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CiAgZXZlbnQgTWludEZpbmlzaGVkKCk7CgogIGJvb2wgcHVibGljIG1pbnRpbmdGaW5pc2hlZCA9IGZhbHNlOwoKCiAgbW9kaWZpZXIgY2FuTWludCgpIHsKICAgIHJlcXVpcmUoIW1pbnRpbmdGaW5pc2hlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogRnVuY3Rpb24gdG8gbWludCB0b2tlbnMKICAgKiBfdG8gVGhlIGFkZHJlc3MgdGhhdCB3aWxsIHJlY2VpdmUgdGhlIG1pbnRlZCB0b2tlbnMuCiAgICogX2Ftb3VudCBUaGUgYW1vdW50IG9mIHRva2VucyB0byBtaW50LgogICAqIEEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICAqLwogICAKICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciBjYW5NaW50IHJldHVybnMgKGJvb2wpIHsKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9hbW91bnQpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgTWludChfdG8sIF9hbW91bnQpOwogICAgVHJhbnNmZXIoMHgwLCBfdG8sIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQogIAogIC8qKgogICAqICBCdXJuIGF3YXkgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgQ2FyZWVyWG9uIHRva2VucwogICovCiAgCiAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgMHgwLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQogICBmdW5jdGlvbiBidXJuRnJvbShhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSkgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSk7ICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSB0YXJnZXRlZCBiYWxhbmNlIGlzIGVub3VnaAogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsgICAgLy8gQ2hlY2sgYWxsb3dhbmNlCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSB0YXJnZXRlZCBiYWxhbmNlCiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyJ3MgYWxsb3dhbmNlCiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5zdWIoX3ZhbHVlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdG90YWxTdXBwbHkKICAgICAgICBCdXJuKF9mcm9tLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAvKioKICAgKiBGdW5jdGlvbiB0byBzdG9wIG1pbnRpbmcgbmV3IHRva2Vucy4KICAgKiBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICovCiAgIAogIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcoKSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCkgewogICAgbWludGluZ0ZpbmlzaGVkID0gdHJ1ZTsKICAgIE1pbnRGaW5pc2hlZCgpOwogICAgcmV0dXJuIHRydWU7CiAgfQp9CgovKioKICogQ1JOIChDYXJlZXJYb24pIFRva2VuCiAqCiAqIEltcGxlbWVudHMgRVJDIDIwIFRva2VuIHN0YW5kYXJkOiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAgd2l0aCB0aGUgYWRkaXRpb24gCiAqIG9mIG93bmVyc2hpcCwgYSBsb2NrIGFuZCBpc3N1aW5nLgogKgogKiBjcmVhdGVkIDA4LzIwLzIwMTcKICogCiAqLwoKY29udHJhY3QgQ2FyZWVyWG9uVG9rZW4gaXMgTWludGJ1cm5Ub2tlbnsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJDYXJlZXJYb24iOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiQ1JOIjsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CiAgICBzdHJpbmcgcHVibGljIHN0YW5kYXJkID0gIlRva2VuIDAuMSI7CiAgICB1aW50MjU2IHB1YmxpYyBtYXhTdXBwbHkgPSAxNTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOwogICAgLy8xNSwwMDAsMDAwIENhcmVlclhvbiB0b2tlbnMgbWF4IHN1cHBseQoKICAgIC8vIHRpbWVzdGFtcHMgZm9yIGZpcnN0IHByZXNhbGUgYW5kIElDTwogICAgdWludCBwdWJsaWMgc3RhcnRQcmVTYWxlOwogICAgdWludCBwdWJsaWMgZW5kUHJlU2FsZTsKICAgIHVpbnQgcHVibGljIHN0YXJ0SUNPOwogICAgdWludCBwdWJsaWMgZW5kSUNPOwoKCgogICAgLy8gaG93IG1hbnkgdG9rZW4gdW5pdHMgYSBidXllciBnZXRzIHBlciB3ZWkKICAgIHVpbnQyNTYgcHVibGljIHJhdGU7CgogICAgdWludDI1NiBwdWJsaWMgbWluVHJhbnNhY3Rpb25BbW91bnQ7CgogICAgdWludDI1NiBwdWJsaWMgcmFpc2VkRm9yRXRoZXIgPSAwOwoKICAgIG1vZGlmaWVyIGluQWN0aXZlUGVyaW9kKCkgewogICAgICAgIHJlcXVpcmUoKHN0YXJ0UHJlU2FsZSA8IG5vdyAmJiBub3cgPD0gZW5kUHJlU2FsZSkgfHwgKHN0YXJ0SUNPIDwgbm93ICYmIG5vdyA8PSBlbmRJQ08pKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICAvL3ByZXZlbnQgc2hvcnQgYWRkcmVzcyBhdHRhY2sKCiAgICBtb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludCBzaXplKSB7CiAgICAgICAgaWYobXNnLmRhdGEubGVuZ3RoIDwgc2l6ZSArIDQpIHJldmVydCgpOwogICAgICAgIF87CgogICAgfQoKICAgIGZ1bmN0aW9uIENhcmVlclhvblRva2VuKHVpbnQgX3N0YXJ0UCwgdWludCBfZW5kUCwgdWludCBfc3RhcnRJLCB1aW50IF9lbmRJKSB7CiAgICAgICAgcmVxdWlyZShfc3RhcnRQIDwgX2VuZFApOwogICAgICAgIHJlcXVpcmUoX3N0YXJ0SSA8IF9lbmRJKTsKICAgICAgICAKCiAgICAgICAgLy8xMiw5MDAsMDAwIGZvciBldGggc3VwcGx5CiAgICAgICAgLy8yLDAwMCwwMDAgZm9yIGJpdGNvaW4gYW5kIGJpdGNvaW4gY2FzaCBzYWxlcyBzdXBwbHkgbWludGVkCiAgICAgICAgLy8xMDAsMDAwIGZvciBib3VudHkgYW5kIHRyYW5zYWxhdGlvbiBtaW50ZWQKICAgICAgICAvL0FmdGVyIGFsbCB0aGVzZSBkaXN0cmlidXRpb24sIFJlbWFpbmluZyBtaW50ZWQgY29pbnMgd2lsbCBiZSBidXJuZWQuCiAgICAgICAgdG90YWxTdXBwbHkgPSAxMjkwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDsKCgogICAgICAgIC8vIDEgRVRIID0gMTMwMCBDYXJlZXJYb24gKyA1MCUgYm9udXMgaW4gcHJlc2FsZSBvbiBmaXJzdCBkYXkKICAgICAgICByYXRlID0gMTMwMDsKCiAgICAgICAgLy8gbWluaW1hbCBpbnZlc3QgMC4wMSBFVEgKICAgICAgICBtaW5UcmFuc2FjdGlvbkFtb3VudCA9IDAuMDEgZXRoZXI7CgogICAgICAgIHN0YXJ0UHJlU2FsZSA9IF9zdGFydFA7CiAgICAgICAgZW5kUHJlU2FsZSA9IF9lbmRQOwogICAgICAgIHN0YXJ0SUNPID0gX3N0YXJ0STsKICAgICAgICBlbmRJQ08gPSBfZW5kSTsKICAgICAgICB0cmFuc2ZlcmxvY2tlZCA9IHRydWU7CiAgICAgICAgLy8gd2FsbGV0IHdpdGhkcmF3YWwgbG9jayBmb3IgcHJvdGVjdGlvbgogICAgICAgIHdhbGxvY2tlZCA9IHRydWU7CgogICAgfQogICAgCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICAvL0FsbG93cyBvd25lciB0byBzdG9wICYgc3RhcnQgcHJlc2FsZS4KICAgIC8vRm9yIFByZVNhbGUgc3RhcnRpbmcgZGF0ZSB2aXNpdCBodHRwOi8vY2FyZWVyeG9uLmNvbS4KICAgIAogICAgZnVuY3Rpb24gc2V0dXBQZXJpb2RGb3JQcmVTYWxlKHVpbnQgX3N0YXJ0LCB1aW50IF9lbmQpIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShfc3RhcnQgPCBfZW5kKTsKICAgICAgICBzdGFydFByZVNhbGUgPSBfc3RhcnQ7CiAgICAgICAgZW5kUHJlU2FsZSA9IF9lbmQ7CiAgICB9CiAgICAKICAgIC8vRm9yIElDTyBhbmQgcHJvamVjdCBkZXRhaWxzIHZpc2l0IGh0dHA6Ly9jYXJlZXJ4b24uY29tCiAgICAvL1RvdGFsIEFtb3VudCB0byBiZSBzb2xkIDE1LDAwMCwwMDAKICAgIC8vTGVmdCBvdmVyIE9SIHVuc29sZCBjb2lucyB3aWxsIGJlIGJ1cm5lZC4KICAgIAogICAgZnVuY3Rpb24gc2V0dXBQZXJpb2RGb3JJQ08odWludCBfc3RhcnQsIHVpbnQgX2VuZCkgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKF9zdGFydCA8IF9lbmQpOwogICAgICAgIHN0YXJ0SUNPID0gX3N0YXJ0OwogICAgICAgIGVuZElDTyA9IF9lbmQ7CiAgICB9CgogICAgLy8gZmFsbGJhY2sgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gYnV5IHRva2VucwogICAgZnVuY3Rpb24gKCkgaW5BY3RpdmVQZXJpb2QgcGF5YWJsZSB7CiAgICAgICAgYnV5VG9rZW5zKG1zZy5zZW5kZXIpOwogICAgfQoKICAgIC8vIHRva2VuIGF1dG8gcHVyY2hhc2UgZnVuY3Rpb24KICAgIGZ1bmN0aW9uIGJ1eVRva2VucyhhZGRyZXNzIF95b3VyYWRkcmVzcykgaW5BY3RpdmVQZXJpb2QgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZShfeW91cmFkZHJlc3MgIT0gMHgwKTsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBtaW5UcmFuc2FjdGlvbkFtb3VudCk7CgogICAgICAgIHVpbnQyNTYgd2VpQW1vdW50ID0gbXNnLnZhbHVlOwoKICAgICAgICByYWlzZWRGb3JFdGhlciA9IHJhaXNlZEZvckV0aGVyLmFkZCh3ZWlBbW91bnQpOwoKICAgICAgICAvLyBjYWxjdWxhdGUgdG9rZW4gYW1vdW50IHRvIGJlIGNyZWF0ZWQKICAgICAgICB1aW50MjU2IHRva2VucyA9IHdlaUFtb3VudC5tdWwocmF0ZSk7CiAgICAgICAgdG9rZW5zICs9IGdldEJvbnVzKHRva2Vucyk7CiAgICAgICAgdG9rZW5zICs9IGdldEJvbnVzdHdvKHRva2Vucyk7CgogICAgICAgIHRva2VuUmVzZXJ2ZWQoX3lvdXJhZGRyZXNzLCB0b2tlbnMpOwoKICAgIH0KICAgIAogICAgZnVuY3Rpb24gd2l0aGRyYXcodWludDI1NiBfdmFsdWUpIG9ubHlPd25lciByZXR1cm5zIChib29sKXsKICAgICAgICBpZiAod2FsbG9ja2VkKSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgICAgICBvd25lci50cmFuc2ZlcihfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgZnVuY3Rpb24gd2FsdW5sb2NrKCkgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgIHsKICAgICAgICB3YWxsb2NrZWQgPSBmYWxzZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIGZ1bmN0aW9uIHdhbGxvY2soKSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSAgewogICAgICAgIHdhbGxvY2tlZCA9IHRydWU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoKICAgICogICAgUHJlU2FsZToKICAgICogICAgICAgIERheSAxOiArNTAlIGJvbnVzCiAgICAqICAgICAgICBEYXkgMjogKzMzJSBib251cwogICAgKiAgICAgICAgRGF5IDM6ICsyMCUgYm9udXMKICAgICogICAgICAgIERheSA0OiArMTAlIGJvbnVzCiAgICAqLwogICAgZnVuY3Rpb24gZ2V0Qm9udXModWludDI1NiBfdG9rZW5zKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJvbnVzKSB7CiAgICAgICAgcmVxdWlyZShfdG9rZW5zICE9IDApOwogICAgICAgIGlmICgxID09IGdldEN1cnJlbnRQZXJpb2QoKSkgewogICAgICAgICAgICBpZiAoc3RhcnRQcmVTYWxlIDw9IG5vdyAmJiBub3cgPCBzdGFydFByZVNhbGUgKyAxIGRheXMpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfdG9rZW5zLmRpdigyKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChzdGFydFByZVNhbGUgKyAxIGRheXMgPD0gbm93ICYmIG5vdyA8IHN0YXJ0UHJlU2FsZSArIDIgZGF5cyApIHsKICAgICAgICAgICAgICAgIHJldHVybiBfdG9rZW5zLmRpdigzKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChzdGFydFByZVNhbGUgKyAyIGRheXMgPD0gbm93ICYmIG5vdyA8IHN0YXJ0UHJlU2FsZSArIDMgZGF5cyApIHsKICAgICAgICAgICAgICAgIHJldHVybiBfdG9rZW5zLmRpdig1KTsKICAgICAgICAgICAgfWVsc2UgaWYgKHN0YXJ0UHJlU2FsZSArIDMgZGF5cyA8PSBub3cgJiYgbm93IDwgc3RhcnRQcmVTYWxlICsgNCBkYXlzICkgewogICAgICAgICAgICAgICAgcmV0dXJuIF90b2tlbnMuZGl2KDEwKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gMDsKICAgIH0KICAgICAgICAKICAgIC8qCiAgICAqICAgIElDTzoKICAgICogICAgICAgIERheSAxOiArMjAlIGJvbnVzCiAgICAqICAgICAgICBEYXkgMjogKzEwJSBib251cwogICAgKiAgICAgICAgRGF5IDM6ICs1JSBib251cwogICAgKiAgICAgICAgRGF5IDQgJiBvbndhcmRzOiBObyBib251c2VzCiAgICAqLwogICAgZnVuY3Rpb24gZ2V0Qm9udXN0d28odWludDI1NiBfdG9rZW5zKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJvbnVzKSB7CiAgICAgICAgcmVxdWlyZShfdG9rZW5zICE9IDApOwogICAgICAgIGlmICgyID09IGdldEN1cnJlbnRQZXJpb2QoKSkgewogICAgICAgICAgICBpZiAoc3RhcnRJQ08gPD0gbm93ICYmIG5vdyA8IHN0YXJ0SUNPICsgMSBkYXlzKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX3Rva2Vucy5kaXYoNSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhcnRJQ08gKyAxIGRheXMgPD0gbm93ICYmIG5vdyA8IHN0YXJ0SUNPICsgMiBkYXlzICkgewogICAgICAgICAgICAgICAgcmV0dXJuIF90b2tlbnMuZGl2KDEwKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChzdGFydElDTyArIDIgZGF5cyA8PSBub3cgJiYgbm93IDwgc3RhcnRJQ08gKyAzIGRheXMgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX3Rva2Vucy5tdWwoNSkuZGl2KDEwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAvLyBSZXR1cm4gMCBtZWFucyB0b2tlbiBzYWxlcyBhcmUgY2xvc2VkCiAgICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgLy9zdGFydCBkYXRlICYgZW5kIGRhdGUgb2YgcHJlc2FsZSBhbmQgZnV0dXJlIElDTwogICAgZnVuY3Rpb24gZ2V0Q3VycmVudFBlcmlvZCgpIGluQWN0aXZlUGVyaW9kIGNvbnN0YW50IHJldHVybnMgKHVpbnQpewogICAgICAgIGlmICgoc3RhcnRQcmVTYWxlIDwgbm93ICYmIG5vdyA8PSBlbmRQcmVTYWxlKSkgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9IGVsc2UgaWYgKChzdGFydElDTyA8IG5vdyAmJiBub3cgPD0gZW5kSUNPKSkgewogICAgICAgICAgICByZXR1cm4gMjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gdG9rZW5SZXNlcnZlZChhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGludGVybmFsIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvLyB0b2tlbiB0cmFuc2ZlciBsb2NrLiBVbmxvY2sgYXQgZW5kIG9mIFByZXNhbGUsSUNPCiAgICAKICAgIGZ1bmN0aW9uIHRyYW5zZmVydW5sb2NrKCkgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgIHsKICAgICAgICB0cmFuc2ZlcmxvY2tlZCA9IGZhbHNlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgZnVuY3Rpb24gdHJhbnNmZXJsb2NrKCkgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgIHsKICAgICAgICB0cmFuc2ZlcmxvY2tlZCA9IHRydWU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0='.
	

]
