Class {
	#name : #SRT85302fcc8e5ed7e6182f65e9801dcdfed89bc52f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT85302fcc8e5ed7e6182f65e9801dcdfed89bc52f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBpZiAoYSA9PSAwKSB7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgICAgICB1aW50MjU2IGMgPSBhICogYjsKICAgICAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CiAgICAKICAgICBmdW5jdGlvbiBwZXJjZW50KHVpbnQyNTYgYSx1aW50MjU2IGIpIGludGVybmFsICBwdXJlIHJldHVybnMgKHVpbnQyNTYpewogICAgICByZXR1cm4gbXVsKGRpdihhLHVpbnQyNTYoMTAwKSksYik7CiAgICB9CiAgCiAgICBmdW5jdGlvbiBwb3dlcih1aW50MjU2IGEsdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpewogICAgICByZXR1cm4gbXVsKGEsMTAqKmIpOwogICAgfQp9CgoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLgogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgICAvKioKICAgICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKCiAgICAgICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAgICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAgICovCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKfQoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgoKLyoqCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBAZGV2IEltcGxlbWVudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFyZCB0b2tlbi4KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBpbnRlcm5hbCBhbGxvd2VkOwoKCiAgICAvKioKICAgICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJyZWQKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1tfZnJvbV0pOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsKCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQXBwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAgICoKICAgICAqIEJld2FyZSB0aGF0IGNoYW5naW5nIGFuIGFsbG93YW5jZSB3aXRoIHRoaXMgbWV0aG9kIGJyaW5ncyB0aGUgcmlzayB0aGF0IHNvbWVvbmUgbWF5IHVzZSBib3RoIHRoZSBvbGQKICAgICAqIGFuZCB0aGUgbmV3IGFsbG93YW5jZSBieSB1bmZvcnR1bmF0ZSB0cmFuc2FjdGlvbiBvcmRlcmluZy4gT25lIHBvc3NpYmxlIHNvbHV0aW9uIHRvIG1pdGlnYXRlIHRoaXMKICAgICAqIHJhY2UgY29uZGl0aW9uIGlzIHRvIGZpcnN0IHJlZHVjZSB0aGUgc3BlbmRlcidzIGFsbG93YW5jZSB0byAwIGFuZCBzZXQgdGhlIGRlc2lyZWQgdmFsdWUgYWZ0ZXJ3YXJkczoKICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBJbmNyZWFzZSB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAgICoKICAgICAqIGFwcHJvdmUgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFsbG93ZWRbX3NwZW5kZXJdID09IDAuIFRvIGluY3JlbWVudAogICAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgICAqIEZyb20gTW9ub2xpdGhEQU8gVG9rZW4uc29sCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAgKiBAcGFyYW0gX2FkZGVkVmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gaW5jcmVhc2UgdGhlIGFsbG93YW5jZSBieS4KICAgICAqLwogICAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBEZWNyZWFzZSB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAgICoKICAgICAqIGFwcHJvdmUgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFsbG93ZWRbX3NwZW5kZXJdID09IDAuIFRvIGRlY3JlbWVudAogICAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgICAqIEZyb20gTW9ub2xpdGhEQU8gVG9rZW4uc29sCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAgKiBAcGFyYW0gX3N1YnRyYWN0ZWRWYWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBkZWNyZWFzZSB0aGUgYWxsb3dhbmNlIGJ5LgogICAgICovCiAgICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB1aW50IG9sZFZhbHVlID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl07CiAgICAgICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICAgICAgfQogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cgp9Cgpjb250cmFjdCBSRE9Ub2tlbiBpcyBTdGFuZGFyZFRva2VuIHsKICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJSRE8gcm9rZW4iOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiUkRPIjsKICAgIHVpbnQyNTYgcHVibGljIGRlY2ltYWxzID0gODsKICAgIGFkZHJlc3Mgb3duZXI7CiAgICBhZGRyZXNzIGNyb3dkc2FsZTsKICAgIAogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgYnVybmVyLCB1aW50MjU2IHZhbHVlKTsKCiAgICBmdW5jdGlvbiBSRE9Ub2tlbigpIHB1YmxpYyB7CiAgICAgICAgb3duZXI9bXNnLnNlbmRlcjsKICAgICAgICB1aW50MjU2IGluaXRpYWxUb3RhbFN1cHBseT0xMDAwMDAwMDAwOwogICAgICAgIHRvdGFsU3VwcGx5PWluaXRpYWxUb3RhbFN1cHBseS5wb3dlcihkZWNpbWFscyk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl09dG90YWxTdXBwbHk7CiAgICAgICAgCiAgICAgICAgY3Jvd2RzYWxlPW5ldyBSRE9Dcm93ZHNhbGUodGhpcyxtc2cuc2VuZGVyKTsKICAgICAgICBhbGxvY2F0ZShjcm93ZHNhbGUsNzUpOyAKICAgICAgICBhbGxvY2F0ZSgweDUyM2Y2MDM0Yzc5OTE1Y0U5QWFjRDA2ODY3NzIxRDQ0NGM0NWE2YTUsMTIpOyAKICAgICAgICBhbGxvY2F0ZSgweDUwZDBhOGVEZTE1NDhFODdFNWY4MTAzYjg5NjI2YkM5Qzc2ZmUyZjgsNyk7IAogICAgICAgIGFsbG9jYXRlKDB4RDg4ODlmZjg2Yjk0NTQ1NTk5NzlBYTIwYmIzYjQxNTI3QUU0Yjc0YiwzKTsgCiAgICAgICAgYWxsb2NhdGUoMHg1RjkwMDg0MTkxMGJhYUM3MGU4YjczNjYzMjYwMGM0MDlBZjA1YmY4LDMpOyAKICAgICAgICAKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQnVybnMgYSBzcGVjaWZpYyBhbW91bnQgb2YgdG9rZW5zLgogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIGJ1cm5lZC4KICAgICAqLwogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgcHVibGljIHsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CiAgICAgICAgLy8gbm8gbmVlZCB0byByZXF1aXJlIHZhbHVlIDw9IHRvdGFsU3VwcGx5LCBzaW5jZSB0aGF0IHdvdWxkIGltcGx5IHRoZQogICAgICAgIC8vIHNlbmRlcidzIGJhbGFuY2UgaXMgZ3JlYXRlciB0aGFuIHRoZSB0b3RhbFN1cHBseSwgd2hpY2ggKnNob3VsZCogYmUgYW4gYXNzZXJ0aW9uIGZhaWx1cmUKCiAgICAgICAgYWRkcmVzcyBidXJuZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIGJhbGFuY2VzW2J1cm5lcl0gPSBiYWxhbmNlc1tidXJuZXJdLnN1YihfdmFsdWUpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKF92YWx1ZSk7CiAgICAgICAgQnVybihidXJuZXIsIF92YWx1ZSk7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGFsbG9jYXRlKGFkZHJlc3MgX2FkZHJlc3MsdWludDI1NiBwZXJjZW50KSBwcml2YXRlewogICAgICAgIHVpbnQyNTYgYmFsPXRvdGFsU3VwcGx5LnBlcmNlbnQocGVyY2VudCk7CiAgICAgICAgdHJhbnNmZXIoX2FkZHJlc3MsYmFsKTsKICAgIH0KICAgIC8qKgogICAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAgICovCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyPT1vd25lcik7CiAgICAgICAgXzsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gc3RvcENyb3dkZnVuZGluZygpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGlmKGNyb3dkc2FsZSE9MHgwKXsKICAgICAgICAgICAgUkRPQ3Jvd2RzYWxlKGNyb3dkc2FsZSkuc3RvcENyb3dkc2FsZSgpOwogICAgICAgICAgICBjcm93ZHNhbGU9MHgwOwogICAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ2V0Q3Jvd2RzYWxlQWRkcmVzcygpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zKGFkZHJlc3MpewogICAgICAgIHJldHVybiBjcm93ZHNhbGU7CiAgICB9Cn0KCi8qKgogKiBAdGl0bGUgUlBPQ3Jvd2RzYWxlCiAqIEBkZXYgUlBPQ3Jvd2RzYWxlIGlzIGEgY29udHJhY3QgZm9yIG1hbmFnaW5nIGEgdG9rZW4gY3Jvd2RzYWxlIGZvciBSUE8gcHJvamVjdC4KICogQ3Jvd2RzYWxlIGhhdmUgOSBwaGFzZXMgd2l0aCBzdGFydCBhbmQgZW5kIHRpbWVzdGFtcHMsIHdoZXJlIGludmVzdG9ycyBjYW4gbWFrZQogKiB0b2tlbiBwdXJjaGFzZXMgYW5kIHRoZSBjcm93ZHNhbGUgd2lsbCBhc3NpZ24gdGhlbSB0b2tlbnMgYmFzZWQKICogb24gYSB0b2tlbiBwZXIgRVRIIHJhdGUgYW5kIGJvbnVzZXMuIENvbGxlY3RlZCBmdW5kcyBhcmUgZm9yd2FyZGVkIHRvIGEgd2FsbGV0CiAqIGFzIHRoZXkgYXJyaXZlLgogKi8KY29udHJhY3QgUkRPQ3Jvd2RzYWxlIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIC8vIFRoZSB0b2tlbiBiZWluZyBzb2xkCiAgICBSRE9Ub2tlbiBwdWJsaWMgdG9rZW47CgogICAgLy8gRXh0ZXJuYWwgd2FsbGV0IHdoZXJlIGZ1bmRzIGdldCBmb3J3YXJkZWQKICAgIGFkZHJlc3MgcHVibGljIHdhbGxldDsKCiAgICAvLyBDcm93ZHNhbGUgYWRtaW5pc3RyYXRvcgogICAgYWRkcmVzcyBwdWJsaWMgb3duZXJzOwoKICAgIAogICAgLy8gcHJpY2UgcGVyIDEgUkRPCiAgICB1aW50MjU2IHB1YmxpYyBwcmljZT0wLjU1IGZpbm5leTsKCiAgICAvLyBQaGFzZXMgbGlzdCwgc2VlIHNjaGVkdWxlIGluIGNvbnN0cnVjdG9yCiAgICBtYXBwaW5nICh1aW50ID0+IFBoYXNlKSBwaGFzZXM7CgogICAgLy8gVGhlIHRvdGFsIG51bWJlciBvZiBwaGFzZXMgKDAuLi45KQogICAgdWludCBwdWJsaWMgdG90YWxQaGFzZXMgPSA5OwoKICAgIC8vIERlc2NyaXB0aW9uIGZvciBlYWNoIHBoYXNlCiAgICBzdHJ1Y3QgUGhhc2UgewogICAgICAgIHVpbnQyNTYgc3RhcnRUaW1lOwogICAgICAgIHVpbnQyNTYgZW5kVGltZTsKICAgICAgICB1aW50MjU2IGJvbnVzUGVyY2VudDsKICAgIH0KCiAgICAvLyBCb251cyBiYXNlZCBvbiB2YWx1ZQogICAgQm9udXNWYWx1ZVtdIGJvbnVzVmFsdWU7CgogICAgc3RydWN0IEJvbnVzVmFsdWV7CiAgICAgICAgdWludDI1NiBtaW5pbXVtOwogICAgICAgIHVpbnQyNTYgbWF4aW11bTsKICAgICAgICB1aW50MjU2IGJvbnVzOwogICAgfQogICAgCiAgICAvLyBNaW5pbXVtIERlcG9zaXQgaW4gZXRoCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBtaW5Db250cmlidXRpb24gPSAxMDAgZmlubmV5OwoKCiAgICAvLyBBbW91bnQgb2YgcmFpc2VkIEV0aGVycyAoaW4gd2VpKS4KICAgIHVpbnQyNTYgcHVibGljIHdlaVJhaXNlZDsKCiAgICAvKioKICAgICAqIGV2ZW50IGZvciB0b2tlbiBwdXJjaGFzZSBsb2dnaW5nCiAgICAgKiBAcGFyYW0gcHVyY2hhc2VyIHdobyBwYWlkIGZvciB0aGUgdG9rZW5zCiAgICAgKiBAcGFyYW0gYmVuZWZpY2lhcnkgd2hvIGdvdCB0aGUgdG9rZW5zCiAgICAgKiBAcGFyYW0gdmFsdWUgd2VpcyBwYWlkIGZvciBwdXJjaGFzZQogICAgICogQHBhcmFtIGJvbnVzUGVyY2VudCBmcmVlIHRva2VucyBwZXJjYW50YWdlIGZvciB0aGUgcGhhc2UKICAgICAqIEBwYXJhbSBhbW91bnQgYW1vdW50IG9mIHRva2VucyBwdXJjaGFzZWQKICAgICAqLwogICAgZXZlbnQgVG9rZW5QdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgcHVyY2hhc2VyLCBhZGRyZXNzIGluZGV4ZWQgYmVuZWZpY2lhcnksIHVpbnQyNTYgdmFsdWUsIHVpbnQyNTYgYm9udXNQZXJjZW50LCB1aW50MjU2IGFtb3VudCk7CgogICAgLy8gZXZlbnQgZm9yIHdhbGxldCB1cGRhdGUKICAgIGV2ZW50IFdhbGxldFNldChhZGRyZXNzIGluZGV4ZWQgd2FsbGV0KTsKCiAgICBmdW5jdGlvbiBSRE9Dcm93ZHNhbGUoYWRkcmVzcyBfdG9rZW5BZGRyZXNzLCBhZGRyZXNzIF93YWxsZXQpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfdG9rZW5BZGRyZXNzICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHRva2VuID0gUkRPVG9rZW4oX3Rva2VuQWRkcmVzcyk7CiAgICAgICAgd2FsbGV0ID0gX3dhbGxldDsKICAgICAgICBvd25lcnM9bXNnLnNlbmRlcjsKICAgICAgICAKICAgICAgICAvKgogICAgICAgIElDTyBTQ0hFRFVMRQogICAgICAgIEJvbnVzICAgICAgICAKICAgICAgICA0MCUgICAgIDEgcm91bmQKICAgICAgICAzMCUgICAgIDIgcm91bmQKICAgICAgICAyNSUgICAgIDMgcm91bmQKICAgICAgICAyMCUgICAgIDQgcm91bmQKICAgICAgICAxNSUgICAgIDUgcm91bmQKICAgICAgICAxMCUgICAgIDYgcm91bmQKICAgICAgICA3JSAgICAgIDcgcm91bmQKICAgICAgICA1JSAgICAgIDggcm91bmQKICAgICAgICAzJSAgICAgIDkgcm91bmQKICAgICAgICAqLwogICAgICAgIAogICAgICAgIGZpbGxQaGFzZSgwLDQwLDI1IGRheXMpOwogICAgICAgIGZpbGxQaGFzZSgxLDMwLDE1IGRheXMpOwogICAgICAgIGZpbGxQaGFzZSgyLDI1LDE1IGRheXMpOwogICAgICAgIGZpbGxQaGFzZSgzLDIwLDE1IGRheXMpOwogICAgICAgIGZpbGxQaGFzZSg0LDE1LDE1IGRheXMpOwogICAgICAgIGZpbGxQaGFzZSg1LDEwLDE1IGRheXMpOwogICAgICAgIGZpbGxQaGFzZSg2LDcsMTUgZGF5cyk7CiAgICAgICAgZmlsbFBoYXNlKDcsNSwxNSBkYXlzKTsKICAgICAgICBmaWxsUGhhc2UoOCwzLDE1IGRheXMpOwogICAgICAgIAogICAgICAgIC8vIEZpbGwgYm9udXMgYmFzZWQgb24gdmFsdWUKICAgICAgICBib251c1ZhbHVlLnB1c2goQm9udXNWYWx1ZSh7CiAgICAgICAgICAgIG1pbmltdW06NSBldGhlciwKICAgICAgICAgICAgbWF4aW11bToyNSBldGhlciwKICAgICAgICAgICAgYm9udXM6NQogICAgICAgIH0pKTsKICAgICAgICBib251c1ZhbHVlLnB1c2goQm9udXNWYWx1ZSh7CiAgICAgICAgICAgIG1pbmltdW06MjYgZXRoZXIsCiAgICAgICAgICAgIG1heGltdW06MTAwIGV0aGVyLAogICAgICAgICAgICBib251czo4CiAgICAgICAgfSkpOwogICAgICAgIGJvbnVzVmFsdWUucHVzaChCb251c1ZhbHVlKHsKICAgICAgICAgICAgbWluaW11bToxMDEgZXRoZXIsCiAgICAgICAgICAgIG1heGltdW06MTAwMDAwIGV0aGVyLAogICAgICAgICAgICBib251czoxMAogICAgICAgIH0pKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZmlsbFBoYXNlKHVpbnQ4IGluZGV4LHVpbnQyNTYgYm9udXMsdWludDI1NiBkZWxheSkgcHJpdmF0ZXsKICAgICAgICBwaGFzZXNbaW5kZXhdLmJvbnVzUGVyY2VudD1ib251czsKICAgICAgICBpZihpbmRleD09MCl7CiAgICAgICAgICAgIHBoYXNlc1tpbmRleF0uc3RhcnRUaW1lID0gbm93OwogICAgICAgIH0KICAgICAgICBlbHNlewogICAgICAgICAgICBwaGFzZXNbaW5kZXhdLnN0YXJ0VGltZSA9IHBoYXNlc1tpbmRleC0xXS5lbmRUaW1lOwogICAgICAgIH0KICAgICAgICBwaGFzZXNbaW5kZXhdLmVuZFRpbWUgPSBwaGFzZXNbaW5kZXhdLnN0YXJ0VGltZStkZWxheTsKICAgIH0KCiAgICAvLyBmYWxsYmFjayBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBidXkgdG9rZW5zCiAgICBmdW5jdGlvbiAoKSBleHRlcm5hbCBwYXlhYmxlIHsKICAgICAgICBidXlUb2tlbnMobXNnLnNlbmRlcik7CiAgICB9CgogICAgLy8gbG93IGxldmVsIHRva2VuIHB1cmNoYXNlIGZ1bmN0aW9uCiAgICBmdW5jdGlvbiBidXlUb2tlbnMoYWRkcmVzcyBiZW5lZmljaWFyeSkgcHVibGljIHBheWFibGUgewogICAgICAgIHJlcXVpcmUoYmVuZWZpY2lhcnkgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgIT0gMCk7CgogICAgICAgIHVpbnQyNTYgY3VycmVudEJvbnVzUGVyY2VudCA9IGdldEJvbnVzUGVyY2VudChub3cpOwogICAgICAgIHVpbnQyNTYgd2VpQW1vdW50ID0gbXNnLnZhbHVlOwogICAgICAgIHVpbnQyNTYgdm9sdW1lQm9udXM9Z2V0Vm9sdW1lQm9udXMod2VpQW1vdW50KTsKICAgICAgICAKICAgICAgICByZXF1aXJlKHdlaUFtb3VudD49bWluQ29udHJpYnV0aW9uKTsKCiAgICAgICAgLy8gY2FsY3VsYXRlIHRva2VuIGFtb3VudCB0byBiZSBjcmVhdGVkCiAgICAgICAgdWludDI1NiB0b2tlbnMgPSBjYWxjdWxhdGVUb2tlbkFtb3VudCh3ZWlBbW91bnQsIGN1cnJlbnRCb251c1BlcmNlbnQsdm9sdW1lQm9udXMpOwoKICAgICAgICAvLyB1cGRhdGUgc3RhdGUKICAgICAgICB3ZWlSYWlzZWQgPSB3ZWlSYWlzZWQuYWRkKHdlaUFtb3VudCk7CgogICAgICAgIHRva2VuLnRyYW5zZmVyKGJlbmVmaWNpYXJ5LCB0b2tlbnMpOwogICAgICAgIFRva2VuUHVyY2hhc2UobXNnLnNlbmRlciwgYmVuZWZpY2lhcnksIHdlaUFtb3VudCwgY3VycmVudEJvbnVzUGVyY2VudCwgdG9rZW5zKTsKCiAgICAgICAgZm9yd2FyZEZ1bmRzKCk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Vm9sdW1lQm9udXModWludDI1NiBfd2VpKSBwcml2YXRlIHZpZXcgcmV0dXJucyh1aW50MjU2KXsKICAgICAgICBmb3IodWludDI1NiBpPTA7aTxib251c1ZhbHVlLmxlbmd0aDsrK2kpewogICAgICAgICAgICBpZihfd2VpPmJvbnVzVmFsdWVbaV0ubWluaW11bSAmJiBfd2VpPGJvbnVzVmFsdWVbaV0ubWF4aW11bSl7CiAgICAgICAgICAgICAgICByZXR1cm4gYm9udXNWYWx1ZVtpXS5ib251czsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gMDsKICAgIH0KICAgIAogICAgLy8gSWYgcGhhc2UgZXhpc3RzIHJldHVybiBjb3JyZXNwb25kaW5nIGJvbnVzIGZvciB0aGUgZ2l2ZW4gZGF0ZQogICAgLy8gZWxzZSByZXR1cm4gMCAocGVyY2VudCkKICAgIGZ1bmN0aW9uIGdldEJvbnVzUGVyY2VudCh1aW50MjU2IGRhdGV0aW1lKSBwcml2YXRlIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IHRvdGFsUGhhc2VzOyBpKyspIHsKICAgICAgICAgICAgaWYgKGRhdGV0aW1lID49IHBoYXNlc1tpXS5zdGFydFRpbWUgJiYgZGF0ZXRpbWUgPD0gcGhhc2VzW2ldLmVuZFRpbWUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBwaGFzZXNbaV0uYm9udXNQZXJjZW50OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiAwOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAgICovCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShvd25lcnM9PW1zZy5zZW5kZXIpOwogICAgICAgIF87CiAgICB9CgogICAgLy8gY2FsY3VsYXRlcyBob3cgbXVjaCB0b2tlbnMgd2lsbCBiZW5lZmljaWFyeSBnZXQKICAgIC8vIGZvciBnaXZlbiBhbW91bnQgb2Ygd2VpCiAgICBmdW5jdGlvbiBjYWxjdWxhdGVUb2tlbkFtb3VudCh1aW50MjU2IF93ZWlEZXBvc2l0LCB1aW50MjU2IF9ib251c1Rva2Vuc1BlcmNlbnQsdWludDI1NiBfdm9sdW1lQm9udXMpIHByaXZhdGUgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBtYWluVG9rZW5zID0gX3dlaURlcG9zaXQuZGl2KHByaWNlKTsKICAgICAgICB1aW50MjU2IGJvbnVzVG9rZW5zID0gbWFpblRva2Vucy5wZXJjZW50KF9ib251c1Rva2Vuc1BlcmNlbnQpOwogICAgICAgIHVpbnQyNTYgdm9sdW1lQm9udXM9bWFpblRva2Vucy5wZXJjZW50KF92b2x1bWVCb251cyk7CiAgICAgICAgcmV0dXJuIG1haW5Ub2tlbnMuYWRkKGJvbnVzVG9rZW5zKS5hZGQodm9sdW1lQm9udXMpOwogICAgfQoKICAgIC8vIHNlbmQgZXRoZXIgdG8gdGhlIGZ1bmQgY29sbGVjdGlvbiB3YWxsZXQKICAgIC8vIG92ZXJyaWRlIHRvIGNyZWF0ZSBjdXN0b20gZnVuZCBmb3J3YXJkaW5nIG1lY2hhbmlzbXMKICAgIGZ1bmN0aW9uIGZvcndhcmRGdW5kcygpIGludGVybmFsIHsKICAgICAgICB3YWxsZXQudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzdG9wQ3Jvd2RzYWxlKCkgcHVibGljIHsKICAgICAgICB0b2tlbi5idXJuKHRva2VuLmJhbGFuY2VPZih0aGlzKSk7CiAgICAgICAgc2VsZmRlc3RydWN0KHdhbGxldCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRCb251cygpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYpewogICAgICAgIHJldHVybiBnZXRCb251c1BlcmNlbnQobm93KTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY2FsY3VsYXRlRXN0aW1hdGVUb2tlbih1aW50MjU2IF93ZWkpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYpewogICAgICAgIHVpbnQyNTYgdGltZUJvbnVzPWdldEN1cnJlbnRCb251cygpOwogICAgICAgIHVpbnQyNTYgdm9sdW1lQm9udXM9Z2V0Vm9sdW1lQm9udXMoX3dlaSk7CiAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZVRva2VuQW1vdW50KF93ZWksdGltZUJvbnVzLHZvbHVtZUJvbnVzKTsKICAgIH0KfQ=='.
	

]
