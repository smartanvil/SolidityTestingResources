Class {
	#name : #SRTd5abcc4c80fd01d8822f35f379fbcebf7a8b8679,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd5abcc4c80fd01d8822f35f379fbcebf7a8b8679 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuNjsKCgovKgogICAgQ29weXJpZ2h0IDIwMTYsIEpvcmRpIEJheWxpbmEKCiAgICBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQogICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yCiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLgoKICAgIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAogICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUKICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgogICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKICAgIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgogKi8KCi8vLyBAdGl0bGUgVmF1bHQgQ29udHJhY3QKLy8vIEBhdXRob3IgSm9yZGkgQmF5bGluYQovLy8gQG5vdGljZSBUaGlzIGNvbnRyYWN0IGhvbGRzIGZ1bmRzIGZvciBDYW1wYWlnbnMgYW5kIGF1dG9tYXRlcyBwYXltZW50cy4gRm9yCi8vLyAgdGhpcyBpdGVyYXRpb24gdGhlIGZ1bmRzIHdpbGwgY29tZSBzdHJhaWdodCBmcm9tIHRoZSBHaXZldGggTXVsdGlzaWcgYXMgYQovLy8gIHNhZmV0eSBwcmVjYXV0aW9uLCBidXQgb25jZSBmdWxseSB0ZXN0ZWQgYW5kIG9wdGltaXplZCB0aGlzIGNvbnRyYWN0IHdpbGwKLy8vICBiZSBhIHNhZmUgcGxhY2UgdG8gc3RvcmUgZnVuZHMgZXF1aXBwZWQgd2l0aCBvcHRpb25hbCB2YXJpYWJsZSB0aW1lIGRlbGF5cwovLy8gIHRvIGFsbG93IGZvciBhbiBvcHRpb25hbCBlc2NhcGUgaGF0Y2gKCi8vLyBAZGV2IGBPd25lZGAgaXMgYSBiYXNlIGxldmVsIGNvbnRyYWN0IHRoYXQgYXNzaWducyBhbiBgb3duZXJgIHRoYXQgY2FuIGJlCi8vLyAgbGF0ZXIgY2hhbmdlZApjb250cmFjdCBPd25lZCB7CiAgICAvLy8gQGRldiBgb3duZXJgIGlzIHRoZSBvbmx5IGFkZHJlc3MgdGhhdCBjYW4gY2FsbCBhIGZ1bmN0aW9uIHdpdGggdGhpcwogICAgLy8vIG1vZGlmaWVyCiAgICBtb2RpZmllciBvbmx5T3duZXIgeyBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgdGhyb3c7IF87IH0KCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICAvLy8gQG5vdGljZSBUaGUgQ29uc3RydWN0b3IgYXNzaWducyB0aGUgbWVzc2FnZSBzZW5kZXIgdG8gYmUgYG93bmVyYAogICAgZnVuY3Rpb24gT3duZWQoKSB7IG93bmVyID0gbXNnLnNlbmRlcjt9CgogICAgLy8vIEBub3RpY2UgYG93bmVyYCBjYW4gc3RlcCBkb3duIGFuZCBhc3NpZ24gc29tZSBvdGhlciBhZGRyZXNzIHRvIHRoaXMgcm9sZQogICAgLy8vIEBwYXJhbSBfbmV3T3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIG5ldyBvd25lci4gMHgwIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZQogICAgLy8vICBhbiB1bm93bmVkIG5ldXRyYWwgdmF1bHQsIGhvd2V2ZXIgdGhhdCBjYW5ub3QgYmUgdW5kb25lCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIF9uZXdPd25lcikgb25seU93bmVyIHsKICAgICAgICBvd25lciA9IF9uZXdPd25lcjsKICAgIH0KfQovLy8gQGRldiBgRXNjYXBhYmxlYCBpcyBhIGJhc2UgbGV2ZWwgY29udHJhY3QgYnVpbHQgb2ZmIG9mIHRoZSBgT3duZWRgCi8vLyAgY29udHJhY3QgdGhhdCBjcmVhdGVzIGFuIGVzY2FwZSBoYXRjaCBmdW5jdGlvbiB0byBzZW5kIGl0cyBldGhlciB0bwovLy8gIGBlc2NhcGVEZXN0aW5hdGlvbmAgd2hlbiBjYWxsZWQgYnkgdGhlIGBlc2NhcGVDYWxsZXJgIGluIHRoZSBjYXNlIHRoYXQKLy8vICBzb21ldGhpbmcgdW5leHBlY3RlZCBoYXBwZW5zCmNvbnRyYWN0IEVzY2FwYWJsZSBpcyBPd25lZCB7CiAgICBhZGRyZXNzIHB1YmxpYyBlc2NhcGVDYWxsZXI7CiAgICBhZGRyZXNzIHB1YmxpYyBlc2NhcGVEZXN0aW5hdGlvbjsKCiAgICAvLy8gQG5vdGljZSBUaGUgQ29uc3RydWN0b3IgYXNzaWducyB0aGUgYGVzY2FwZURlc3RpbmF0aW9uYCBhbmQgdGhlCiAgICAvLy8gIGBlc2NhcGVDYWxsZXJgCiAgICAvLy8gQHBhcmFtIF9lc2NhcGVEZXN0aW5hdGlvbiBUaGUgYWRkcmVzcyBvZiBhIHNhZmUgbG9jYXRpb24gKHVzdSBhCiAgICAvLy8gIE11bHRpc2lnKSB0byBzZW5kIHRoZSBldGhlciBoZWxkIGluIHRoaXMgY29udHJhY3QKICAgIC8vLyBAcGFyYW0gX2VzY2FwZUNhbGxlciBUaGUgYWRkcmVzcyBvZiBhIHRydXN0ZWQgYWNjb3VudCBvciBjb250cmFjdCB0bwogICAgLy8vICBjYWxsIGBlc2NhcGVIYXRjaCgpYCB0byBzZW5kIHRoZSBldGhlciBpbiB0aGlzIGNvbnRyYWN0IHRvIHRoZQogICAgLy8vICBgZXNjYXBlRGVzdGluYXRpb25gIGl0IHdvdWxkIGJlIGlkZWFsIHRoYXQgYGVzY2FwZUNhbGxlcmAgY2Fubm90IG1vdmUKICAgIC8vLyAgZnVuZHMgb3V0IG9mIGBlc2NhcGVEZXN0aW5hdGlvbmAKICAgIGZ1bmN0aW9uIEVzY2FwYWJsZShhZGRyZXNzIF9lc2NhcGVDYWxsZXIsIGFkZHJlc3MgX2VzY2FwZURlc3RpbmF0aW9uKSB7CiAgICAgICAgZXNjYXBlRGVzdGluYXRpb24gPSBfZXNjYXBlRGVzdGluYXRpb247CiAgICAgICAgZXNjYXBlQ2FsbGVyID0gX2VzY2FwZUNhbGxlcjsKICAgIH0KCiAgICAvLy8gQGRldiBUaGUgYWRkcmVzc2VzIHByZWFzc2lnbmVkIHRoZSBgZXNjYXBlQ2FsbGVyYCByb2xlCiAgICAvLy8gIGlzIHRoZSBvbmx5IGFkZHJlc3NlcyB0aGF0IGNhbiBjYWxsIGEgZnVuY3Rpb24gd2l0aCB0aGlzIG1vZGlmaWVyCiAgICBtb2RpZmllciBvbmx5RXNjYXBlQ2FsbGVyT3JPd25lciB7CiAgICAgICAgaWYgKChtc2cuc2VuZGVyICE9IGVzY2FwZUNhbGxlcikmJihtc2cuc2VuZGVyICE9IG93bmVyKSkKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBUaGUgYGVzY2FwZUhhdGNoKClgIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBhcyBhIGxhc3QgcmVzb3J0IGlmIGEKICAgIC8vLyBzZWN1cml0eSBpc3N1ZSBpcyB1bmNvdmVyZWQgb3Igc29tZXRoaW5nIHVuZXhwZWN0ZWQgaGFwcGVuZWQKICAgIGZ1bmN0aW9uIGVzY2FwZUhhdGNoKCkgb25seUVzY2FwZUNhbGxlck9yT3duZXIgewogICAgICAgIHVpbnQgdG90YWwgPSB0aGlzLmJhbGFuY2U7CiAgICAgICAgLy8gU2VuZCB0aGUgdG90YWwgYmFsYW5jZSBvZiB0aGlzIGNvbnRyYWN0IHRvIHRoZSBgZXNjYXBlRGVzdGluYXRpb25gCiAgICAgICAgaWYgKCFlc2NhcGVEZXN0aW5hdGlvbi5zZW5kKHRvdGFsKSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgRXNjYXBlQ2FsbGVkKHRvdGFsKTsKICAgIH0KICAgIC8vLyBAbm90aWNlIENoYW5nZXMgdGhlIGFkZHJlc3MgYXNzaWduZWQgdG8gY2FsbCBgZXNjYXBlSGF0Y2goKWAKICAgIC8vLyBAcGFyYW0gX25ld0VzY2FwZUNhbGxlciBUaGUgYWRkcmVzcyBvZiBhIHRydXN0ZWQgYWNjb3VudCBvciBjb250cmFjdCB0bwogICAgLy8vICBjYWxsIGBlc2NhcGVIYXRjaCgpYCB0byBzZW5kIHRoZSBldGhlciBpbiB0aGlzIGNvbnRyYWN0IHRvIHRoZQogICAgLy8vICBgZXNjYXBlRGVzdGluYXRpb25gIGl0IHdvdWxkIGJlIGlkZWFsIHRoYXQgYGVzY2FwZUNhbGxlcmAgY2Fubm90CiAgICAvLy8gIG1vdmUgZnVuZHMgb3V0IG9mIGBlc2NhcGVEZXN0aW5hdGlvbmAKICAgIGZ1bmN0aW9uIGNoYW5nZUVzY2FwZUNhbGxlcihhZGRyZXNzIF9uZXdFc2NhcGVDYWxsZXIpIG9ubHlFc2NhcGVDYWxsZXJPck93bmVyIHsKICAgICAgICBlc2NhcGVDYWxsZXIgPSBfbmV3RXNjYXBlQ2FsbGVyOwogICAgfQoKICAgIGV2ZW50IEVzY2FwZUNhbGxlZCh1aW50IGFtb3VudCk7Cn0KCi8vLyBAZGV2IGBWYXVsdGAgaXMgYSBoaWdoZXIgbGV2ZWwgY29udHJhY3QgYnVpbHQgb2ZmIG9mIHRoZSBgRXNjYXBhYmxlYAovLy8gIGNvbnRyYWN0IHRoYXQgaG9sZHMgZnVuZHMgZm9yIENhbXBhaWducyBhbmQgYXV0b21hdGVzIHBheW1lbnRzLgpjb250cmFjdCBWYXVsdCBpcyBFc2NhcGFibGUgewoKICAgIC8vLyBAZGV2IGBQYXltZW50YCBpcyBhIHB1YmxpYyBzdHJ1Y3R1cmUgdGhhdCBkZXNjcmliZXMgdGhlIGRldGFpbHMgb2YKICAgIC8vLyAgZWFjaCBwYXltZW50IG1ha2luZyBpdCBlYXN5IHRvIHRyYWNrIHRoZSBtb3ZlbWVudCBvZiBmdW5kcwogICAgLy8vICB0cmFuc3BhcmVudGx5CiAgICBzdHJ1Y3QgUGF5bWVudCB7CiAgICAgICAgc3RyaW5nIGRlc2NyaXB0aW9uOyAgICAgLy8gV2hhdCBpcyB0aGUgcHVycG9zZSBvZiB0aGlzIHBheW1lbnQKICAgICAgICBhZGRyZXNzIHNwZW5kZXI7ICAgICAgICAvLyBXaG8gaXMgc2VuZGluZyB0aGUgZnVuZHMKICAgICAgICB1aW50IGVhcmxpZXN0UGF5VGltZTsgICAvLyBUaGUgZWFybGllc3QgYSBwYXltZW50IGNhbiBiZSBtYWRlIChVbml4IFRpbWUpCiAgICAgICAgYm9vbCBjYW5jZWxlZDsgICAgICAgICAvLyBJZiBUcnVlIHRoZW4gdGhlIHBheW1lbnQgaGFzIGJlZW4gY2FuY2VsZWQKICAgICAgICBib29sIHBhaWQ7ICAgICAgICAgICAgICAvLyBJZiBUcnVlIHRoZW4gdGhlIHBheW1lbnQgaGFzIGJlZW4gcGFpZAogICAgICAgIGFkZHJlc3MgcmVjaXBpZW50OyAgICAgIC8vIFdobyBpcyByZWNlaXZpbmcgdGhlIGZ1bmRzCiAgICAgICAgdWludCBhbW91bnQ7ICAgICAgICAgICAgLy8gVGhlIGFtb3VudCBvZiB3ZWkgc2VudCBpbiB0aGUgcGF5bWVudAogICAgICAgIHVpbnQgc2VjdXJpdHlHdWFyZERlbGF5Oy8vIFRoZSBzZWNvbmRzIGBzZWN1cml0eUd1YXJkYCBjYW4gZGVsYXkgcGF5bWVudAogICAgfQoKICAgIFBheW1lbnRbXSBwdWJsaWMgYXV0aG9yaXplZFBheW1lbnRzOwoKICAgIGFkZHJlc3MgcHVibGljIHNlY3VyaXR5R3VhcmQ7CiAgICB1aW50IHB1YmxpYyBhYnNvbHV0ZU1pblRpbWVMb2NrOwogICAgdWludCBwdWJsaWMgdGltZUxvY2s7CiAgICB1aW50IHB1YmxpYyBtYXhTZWN1cml0eUd1YXJkRGVsYXk7CgogICAgLy8vIEBkZXYgVGhlIHdoaXRlIGxpc3Qgb2YgYXBwcm92ZWQgYWRkcmVzc2VzIGFsbG93ZWQgdG8gc2V0IHVwICYmIHJlY2VpdmUKICAgIC8vLyAgcGF5bWVudHMgZnJvbSB0aGlzIHZhdWx0CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBhbGxvd2VkU3BlbmRlcnM7CgogICAgLy8vIEBkZXYgVGhlIGFkZHJlc3MgYXNzaWduZWQgdGhlIHJvbGUgb2YgYHNlY3VyaXR5R3VhcmRgIGlzIHRoZSBvbmx5CiAgICAvLy8gIGFkZHJlc3NlcyB0aGF0IGNhbiBjYWxsIGEgZnVuY3Rpb24gd2l0aCB0aGlzIG1vZGlmaWVyCiAgICBtb2RpZmllciBvbmx5U2VjdXJpdHlHdWFyZCB7IGlmIChtc2cuc2VuZGVyICE9IHNlY3VyaXR5R3VhcmQpIHRocm93OyBfOyB9CgogICAgLy8gQGRldiBFdmVudHMgdG8gbWFrZSB0aGUgcGF5bWVudCBtb3ZlbWVudHMgZWFzeSB0byBmaW5kIG9uIHRoZSBibG9ja2NoYWluCiAgICBldmVudCBQYXltZW50QXV0aG9yaXplZCh1aW50IGlkUGF5bWVudCwgYWRkcmVzcyByZWNpcGllbnQsIHVpbnQgYW1vdW50KTsKICAgIGV2ZW50IFBheW1lbnRFeGVjdXRlZCh1aW50IGlkUGF5bWVudCwgYWRkcmVzcyByZWNpcGllbnQsIHVpbnQgYW1vdW50KTsKICAgIGV2ZW50IFBheW1lbnRDYW5jZWxlZCh1aW50IGlkUGF5bWVudCk7CiAgICBldmVudCBFdGhlclJlY2VpdmVkKGFkZHJlc3MgZnJvbSwgdWludCBhbW91bnQpOwogICAgZXZlbnQgU3BlbmRlckF1dGhvcml6YXRpb24oYWRkcmVzcyBzcGVuZGVyLCBib29sIGF1dGhvcml6ZWQpOwoKLy8vLy8vLy8vCi8vIENvbnN0dWN0b3IKLy8vLy8vLy8vCgogICAgLy8vIEBub3RpY2UgVGhlIENvbnN0cnVjdG9yIGNyZWF0ZXMgdGhlIFZhdWx0IG9uIHRoZSBibG9ja2NoYWluCiAgICAvLy8gQHBhcmFtIF9lc2NhcGVDYWxsZXIgVGhlIGFkZHJlc3Mgb2YgYSB0cnVzdGVkIGFjY291bnQgb3IgY29udHJhY3QgdG8KICAgIC8vLyAgY2FsbCBgZXNjYXBlSGF0Y2goKWAgdG8gc2VuZCB0aGUgZXRoZXIgaW4gdGhpcyBjb250cmFjdCB0byB0aGUKICAgIC8vLyAgYGVzY2FwZURlc3RpbmF0aW9uYCBpdCB3b3VsZCBiZSBpZGVhbCBpZiBgZXNjYXBlQ2FsbGVyYCBjYW5ub3QgbW92ZQogICAgLy8vICBmdW5kcyBvdXQgb2YgYGVzY2FwZURlc3RpbmF0aW9uYAogICAgLy8vIEBwYXJhbSBfZXNjYXBlRGVzdGluYXRpb24gVGhlIGFkZHJlc3Mgb2YgYSBzYWZlIGxvY2F0aW9uICh1c3UgYQogICAgLy8vICBNdWx0aXNpZykgdG8gc2VuZCB0aGUgZXRoZXIgaGVsZCBpbiB0aGlzIGNvbnRyYWN0IGluIGFuIGVtZXJnZW5jeQogICAgLy8vIEBwYXJhbSBfYWJzb2x1dGVNaW5UaW1lTG9jayBUaGUgbWluaW11bSBudW1iZXIgb2Ygc2Vjb25kcyBgdGltZWxvY2tgIGNhbgogICAgLy8vICBiZSBzZXQgdG8sIGlmIHNldCB0byAwIHRoZSBgb3duZXJgIGNhbiByZW1vdmUgdGhlIGB0aW1lTG9ja2AgY29tcGxldGVseQogICAgLy8vIEBwYXJhbSBfdGltZUxvY2sgSW5pdGlhbCBudW1iZXIgb2Ygc2Vjb25kcyB0aGF0IHBheW1lbnRzIGFyZSBkZWxheWVkCiAgICAvLy8gIGFmdGVyIHRoZXkgYXJlIGF1dGhvcml6ZWQgKGEgc2VjdXJpdHkgcHJlY2F1dGlvbikKICAgIC8vLyBAcGFyYW0gX3NlY3VyaXR5R3VhcmQgQWRkcmVzcyB0aGF0IHdpbGwgYmUgYWJsZSB0byBkZWxheSB0aGUgcGF5bWVudHMKICAgIC8vLyAgYmV5b25kIHRoZSBpbml0aWFsIHRpbWVsb2NrIHJlcXVpcmVtZW50czsgY2FuIGJlIHNldCB0byAweDAgdG8gcmVtb3ZlCiAgICAvLy8gIHRoZSBgc2VjdXJpdHlHdWFyZGAgZnVuY3Rpb25hbGl0eQogICAgLy8vIEBwYXJhbSBfbWF4U2VjdXJpdHlHdWFyZERlbGF5IFRoZSBtYXhpbXVtIG51bWJlciBvZiBzZWNvbmRzIGluIHRvdGFsCiAgICAvLy8gICB0aGF0IGBzZWN1cml0eUd1YXJkYCBjYW4gZGVsYXkgYSBwYXltZW50IHNvIHRoYXQgdGhlIG93bmVyIGNhbiBjYW5jZWwKICAgIC8vLyAgIHRoZSBwYXltZW50IGlmIG5lZWRlZAogICAgZnVuY3Rpb24gVmF1bHQoCiAgICAgICAgYWRkcmVzcyBfZXNjYXBlQ2FsbGVyLAogICAgICAgIGFkZHJlc3MgX2VzY2FwZURlc3RpbmF0aW9uLAogICAgICAgIHVpbnQgX2Fic29sdXRlTWluVGltZUxvY2ssCiAgICAgICAgdWludCBfdGltZUxvY2ssCiAgICAgICAgYWRkcmVzcyBfc2VjdXJpdHlHdWFyZCwKICAgICAgICB1aW50IF9tYXhTZWN1cml0eUd1YXJkRGVsYXkpIEVzY2FwYWJsZShfZXNjYXBlQ2FsbGVyLCBfZXNjYXBlRGVzdGluYXRpb24pCiAgICB7CiAgICAgICAgc2VjdXJpdHlHdWFyZCA9IF9zZWN1cml0eUd1YXJkOwogICAgICAgIHRpbWVMb2NrID0gX3RpbWVMb2NrOwogICAgICAgIGFic29sdXRlTWluVGltZUxvY2sgPSBfYWJzb2x1dGVNaW5UaW1lTG9jazsKICAgICAgICBtYXhTZWN1cml0eUd1YXJkRGVsYXkgPSBfbWF4U2VjdXJpdHlHdWFyZERlbGF5OwogICAgfQoKCiAgICAvLy8gQG5vdGljZSBTdGF0ZXMgdGhlIHRvdGFsIG51bWJlciBvZiBhdXRob3JpemVkIHBheW1lbnRzIGluIHRoaXMgY29udHJhY3QKICAgIGZ1bmN0aW9uIG51bWJlck9mQXV0aG9yaXplZFBheW1lbnRzKCkgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBhdXRob3JpemVkUGF5bWVudHMubGVuZ3RoOwogICAgfQoKLy8vLy8vCi8vIFJlY2VpdmUgRXRoZXIKLy8vLy8vCgogICAgLy8vIEBub3RpY2UgQ2FsbGVkIGFueXRpbWUgZXRoZXIgaXMgc2VudCB0byB0aGUgY29udHJhY3QgJiYgY3JlYXRlcyBhbiBldmVudAogICAgLy8vIHRvIG1vcmUgZWFzaWx5IHRyYWNrIHRoZSBpbmNvbWluZyB0cmFuc2FjdGlvbnMKICAgIGZ1bmN0aW9uIHJlY2VpdmVFdGhlcigpIHBheWFibGUgewogICAgICAgIEV0aGVyUmVjZWl2ZWQobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBUaGUgZmFsbCBiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuZXZlciBldGhlciBpcyBzZW50IHRvIHRoaXMKICAgIC8vLyAgY29udHJhY3QKICAgIGZ1bmN0aW9uICgpIHBheWFibGUgewogICAgICAgIHJlY2VpdmVFdGhlcigpOwogICAgfQoKLy8vLy8vLy8KLy8gU3BlbmRlciBJbnRlcmZhY2UKLy8vLy8vLy8KCiAgICAvLy8gQG5vdGljZSBvbmx5IGBhbGxvd2VkU3BlbmRlcnNbXWAgQ3JlYXRlcyBhIG5ldyBgUGF5bWVudGAKICAgIC8vLyBAcGFyYW0gX2Rlc2NyaXB0aW9uIEJyaWVmIGRlc2NyaXB0aW9uIG9mIHRoZSBwYXltZW50IHRoYXQgaXMgYXV0aG9yaXplZAogICAgLy8vIEBwYXJhbSBfcmVjaXBpZW50IERlc3RpbmF0aW9uIG9mIHRoZSBwYXltZW50CiAgICAvLy8gQHBhcmFtIF9hbW91bnQgQW1vdW50IHRvIGJlIHBhaWQgaW4gd2VpCiAgICAvLy8gQHBhcmFtIF9wYXltZW50RGVsYXkgTnVtYmVyIG9mIHNlY29uZHMgdGhlIHBheW1lbnQgaXMgdG8gYmUgZGVsYXllZCwgaWYKICAgIC8vLyAgdGhpcyB2YWx1ZSBpcyBiZWxvdyBgdGltZUxvY2tgIHRoZW4gdGhlIGB0aW1lTG9ja2AgZGV0ZXJtaW5lcyB0aGUgZGVsYXkKICAgIGZ1bmN0aW9uIGF1dGhvcml6ZVBheW1lbnQoCiAgICAgICAgc3RyaW5nIF9kZXNjcmlwdGlvbiwKICAgICAgICBhZGRyZXNzIF9yZWNpcGllbnQsCiAgICAgICAgdWludCBfYW1vdW50LAogICAgICAgIHVpbnQgX3BheW1lbnREZWxheQogICAgKSByZXR1cm5zKHVpbnQpIHsKCiAgICAgICAgLy8gRmFpbCBpZiB5b3UgYXJlbnQgb24gdGhlIGBhbGxvd2VkU3BlbmRlcnNgIHdoaXRlIGxpc3QKICAgICAgICBpZiAoIWFsbG93ZWRTcGVuZGVyc1ttc2cuc2VuZGVyXSApIHRocm93OwogICAgICAgIHVpbnQgaWRQYXltZW50ID0gYXV0aG9yaXplZFBheW1lbnRzLmxlbmd0aDsgICAgICAgLy8gVW5pcXVlIFBheW1lbnQgSUQKICAgICAgICBhdXRob3JpemVkUGF5bWVudHMubGVuZ3RoKys7CgogICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgbGluZXMgZmlsbCBvdXQgdGhlIHBheW1lbnQgc3RydWN0CiAgICAgICAgUGF5bWVudCBwID0gYXV0aG9yaXplZFBheW1lbnRzW2lkUGF5bWVudF07CiAgICAgICAgcC5zcGVuZGVyID0gbXNnLnNlbmRlcjsKCiAgICAgICAgLy8gRGV0ZXJtaW5lcyB0aGUgZWFybGllc3QgdGhlIHJlY2lwaWVudCBjYW4gcmVjZWl2ZSBwYXltZW50IChVbml4IHRpbWUpCiAgICAgICAgcC5lYXJsaWVzdFBheVRpbWUgPSBfcGF5bWVudERlbGF5ID49IHRpbWVMb2NrID8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cgKyBfcGF5bWVudERlbGF5IDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cgKyB0aW1lTG9jazsKICAgICAgICBwLnJlY2lwaWVudCA9IF9yZWNpcGllbnQ7CiAgICAgICAgcC5hbW91bnQgPSBfYW1vdW50OwogICAgICAgIHAuZGVzY3JpcHRpb24gPSBfZGVzY3JpcHRpb247CiAgICAgICAgUGF5bWVudEF1dGhvcml6ZWQoaWRQYXltZW50LCBwLnJlY2lwaWVudCwgcC5hbW91bnQpOwogICAgICAgIHJldHVybiBpZFBheW1lbnQ7CiAgICB9CgogICAgLy8vIEBub3RpY2Ugb25seSBgYWxsb3dlZFNwZW5kZXJzW11gIFRoZSByZWNpcGllbnQgb2YgYSBwYXltZW50IGNhbGxzIHRoaXMKICAgIC8vLyAgZnVuY3Rpb24gdG8gc2VuZCB0aGVtc2VsdmVzIHRoZSBldGhlciBhZnRlciB0aGUgYGVhcmxpZXN0UGF5VGltZWAgaGFzCiAgICAvLy8gIGV4cGlyZWQKICAgIC8vLyBAcGFyYW0gX2lkUGF5bWVudCBUaGUgcGF5bWVudCBJRCB0byBiZSBleGVjdXRlZAogICAgZnVuY3Rpb24gY29sbGVjdEF1dGhvcml6ZWRQYXltZW50KHVpbnQgX2lkUGF5bWVudCkgewoKICAgICAgICAvLyBDaGVjayB0aGF0IHRoZSBgX2lkUGF5bWVudGAgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIHBheW1lbnRzIHN0cnVjdAogICAgICAgIGlmIChfaWRQYXltZW50ID49IGF1dGhvcml6ZWRQYXltZW50cy5sZW5ndGgpIHRocm93OwoKICAgICAgICBQYXltZW50IHAgPSBhdXRob3JpemVkUGF5bWVudHNbX2lkUGF5bWVudF07CgogICAgICAgIC8vIENoZWNraW5nIGZvciByZWFzb25zIG5vdCB0byBleGVjdXRlIHRoZSBwYXltZW50CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gcC5yZWNpcGllbnQpIHRocm93OwogICAgICAgIGlmICghYWxsb3dlZFNwZW5kZXJzW3Auc3BlbmRlcl0pIHRocm93OwogICAgICAgIGlmIChub3cgPCBwLmVhcmxpZXN0UGF5VGltZSkgdGhyb3c7CiAgICAgICAgaWYgKHAuY2FuY2VsZWQpIHRocm93OwogICAgICAgIGlmIChwLnBhaWQpIHRocm93OwogICAgICAgIGlmICh0aGlzLmJhbGFuY2UgPCBwLmFtb3VudCkgdGhyb3c7CgogICAgICAgIHAucGFpZCA9IHRydWU7IC8vIFNldCB0aGUgcGF5bWVudCB0byBiZWluZyBwYWlkCiAgICAgICAgaWYgKCFwLnJlY2lwaWVudC5zZW5kKHAuYW1vdW50KSkgeyAgLy8gTWFrZSB0aGUgcGF5bWVudAogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgUGF5bWVudEV4ZWN1dGVkKF9pZFBheW1lbnQsIHAucmVjaXBpZW50LCBwLmFtb3VudCk7CiAgICAgfQoKLy8vLy8vLy8vCi8vIFNlY3VyaXR5R3VhcmQgSW50ZXJmYWNlCi8vLy8vLy8vLwoKICAgIC8vLyBAbm90aWNlIGBvbmx5U2VjdXJpdHlHdWFyZGAgRGVsYXlzIGEgcGF5bWVudCBmb3IgYSBzZXQgbnVtYmVyIG9mIHNlY29uZHMKICAgIC8vLyBAcGFyYW0gX2lkUGF5bWVudCBJRCBvZiB0aGUgcGF5bWVudCB0byBiZSBkZWxheWVkCiAgICAvLy8gQHBhcmFtIF9kZWxheSBUaGUgbnVtYmVyIG9mIHNlY29uZHMgdG8gZGVsYXkgdGhlIHBheW1lbnQKICAgIGZ1bmN0aW9uIGRlbGF5UGF5bWVudCh1aW50IF9pZFBheW1lbnQsIHVpbnQgX2RlbGF5KSBvbmx5U2VjdXJpdHlHdWFyZCB7CiAgICAgICAgaWYgKF9pZFBheW1lbnQgPj0gYXV0aG9yaXplZFBheW1lbnRzLmxlbmd0aCkgdGhyb3c7CgogICAgICAgIFBheW1lbnQgcCA9IGF1dGhvcml6ZWRQYXltZW50c1tfaWRQYXltZW50XTsKCiAgICAgICAgaWYgKChwLnNlY3VyaXR5R3VhcmREZWxheSArIF9kZWxheSA+IG1heFNlY3VyaXR5R3VhcmREZWxheSkgfHwKICAgICAgICAgICAgKHAucGFpZCkgfHwKICAgICAgICAgICAgKHAuY2FuY2VsZWQpKQogICAgICAgICAgICB0aHJvdzsKCiAgICAgICAgcC5zZWN1cml0eUd1YXJkRGVsYXkgKz0gX2RlbGF5OwogICAgICAgIHAuZWFybGllc3RQYXlUaW1lICs9IF9kZWxheTsKICAgIH0KCi8vLy8vLy8vCi8vIE93bmVyIEludGVyZmFjZQovLy8vLy8vCgogICAgLy8vIEBub3RpY2UgYG9ubHlPd25lcmAgQ2FuY2VsIGEgcGF5bWVudCBhbGwgdG9nZXRoZXIKICAgIC8vLyBAcGFyYW0gX2lkUGF5bWVudCBJRCBvZiB0aGUgcGF5bWVudCB0byBiZSBjYW5jZWxlZC4KICAgIGZ1bmN0aW9uIGNhbmNlbFBheW1lbnQodWludCBfaWRQYXltZW50KSBvbmx5T3duZXIgewogICAgICAgIGlmIChfaWRQYXltZW50ID49IGF1dGhvcml6ZWRQYXltZW50cy5sZW5ndGgpIHRocm93OwoKICAgICAgICBQYXltZW50IHAgPSBhdXRob3JpemVkUGF5bWVudHNbX2lkUGF5bWVudF07CgoKICAgICAgICBpZiAocC5jYW5jZWxlZCkgdGhyb3c7CiAgICAgICAgaWYgKHAucGFpZCkgdGhyb3c7CgogICAgICAgIHAuY2FuY2VsZWQgPSB0cnVlOwogICAgICAgIFBheW1lbnRDYW5jZWxlZChfaWRQYXltZW50KTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBgb25seU93bmVyYCBBZGRzIGEgc3BlbmRlciB0byB0aGUgYGFsbG93ZWRTcGVuZGVyc1tdYCB3aGl0ZSBsaXN0CiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBjb250cmFjdCBiZWluZyBhdXRob3JpemVkL3VuYXV0aG9yaXplZAogICAgLy8vIEBwYXJhbSBfYXV0aG9yaXplIGB0cnVlYCBpZiBhdXRob3JpemluZyBhbmQgYGZhbHNlYCBpZiB1bmF1dGhvcml6aW5nCiAgICBmdW5jdGlvbiBhdXRob3JpemVTcGVuZGVyKGFkZHJlc3MgX3NwZW5kZXIsIGJvb2wgX2F1dGhvcml6ZSkgb25seU93bmVyIHsKICAgICAgICBhbGxvd2VkU3BlbmRlcnNbX3NwZW5kZXJdID0gX2F1dGhvcml6ZTsKICAgICAgICBTcGVuZGVyQXV0aG9yaXphdGlvbihfc3BlbmRlciwgX2F1dGhvcml6ZSk7CiAgICB9CgogICAgLy8vIEBub3RpY2UgYG9ubHlPd25lcmAgU2V0cyB0aGUgYWRkcmVzcyBvZiBgc2VjdXJpdHlHdWFyZGAKICAgIC8vLyBAcGFyYW0gX25ld1NlY3VyaXR5R3VhcmQgQWRkcmVzcyBvZiB0aGUgbmV3IHNlY3VyaXR5IGd1YXJkCiAgICBmdW5jdGlvbiBzZXRTZWN1cml0eUd1YXJkKGFkZHJlc3MgX25ld1NlY3VyaXR5R3VhcmQpIG9ubHlPd25lciB7CiAgICAgICAgc2VjdXJpdHlHdWFyZCA9IF9uZXdTZWN1cml0eUd1YXJkOwogICAgfQoKCiAgICAvLy8gQG5vdGljZSBgb25seU93bmVyYCBDaGFuZ2VzIGB0aW1lTG9ja2A7IHRoZSBuZXcgYHRpbWVMb2NrYCBjYW5ub3QgYmUKICAgIC8vLyAgbG93ZXIgdGhhbiBgYWJzb2x1dGVNaW5UaW1lTG9ja2AKICAgIC8vLyBAcGFyYW0gX25ld1RpbWVMb2NrIFNldHMgdGhlIG5ldyBtaW5pbXVtIGRlZmF1bHQgYHRpbWVMb2NrYCBpbiBzZWNvbmRzOwogICAgLy8vICBwZW5kaW5nIHBheW1lbnRzIG1haW50YWluIHRoZWlyIGBlYXJsaWVzdFBheVRpbWVgCiAgICBmdW5jdGlvbiBzZXRUaW1lbG9jayh1aW50IF9uZXdUaW1lTG9jaykgb25seU93bmVyIHsKICAgICAgICBpZiAoX25ld1RpbWVMb2NrIDwgYWJzb2x1dGVNaW5UaW1lTG9jaykgdGhyb3c7CiAgICAgICAgdGltZUxvY2sgPSBfbmV3VGltZUxvY2s7CiAgICB9CgogICAgLy8vIEBub3RpY2UgYG9ubHlPd25lcmAgQ2hhbmdlcyB0aGUgbWF4aW11bSBudW1iZXIgb2Ygc2Vjb25kcwogICAgLy8vIGBzZWN1cml0eUd1YXJkYCBjYW4gZGVsYXkgYSBwYXltZW50CiAgICAvLy8gQHBhcmFtIF9tYXhTZWN1cml0eUd1YXJkRGVsYXkgVGhlIG5ldyBtYXhpbXVtIGRlbGF5IGluIHNlY29uZHMgdGhhdAogICAgLy8vICBgc2VjdXJpdHlHdWFyZGAgY2FuIGRlbGF5IHRoZSBwYXltZW50J3MgZXhlY3V0aW9uIGluIHRvdGFsCiAgICBmdW5jdGlvbiBzZXRNYXhTZWN1cml0eUd1YXJkRGVsYXkodWludCBfbWF4U2VjdXJpdHlHdWFyZERlbGF5KSBvbmx5T3duZXIgewogICAgICAgIG1heFNlY3VyaXR5R3VhcmREZWxheSA9IF9tYXhTZWN1cml0eUd1YXJkRGVsYXk7CiAgICB9Cn0='.
	

]
