Class {
	#name : #SRT0835ecd15DdF08d4786304d71b4672dC5C40F011,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT0835ecd15DdF08d4786304d71b4672dC5C40F011 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgovKioKKiBAdGl0bGUgUGx1c0NvaW4gQ29udHJhY3QKKiBAZGV2IFRoZSBtYWluIHRva2VuIGNvbnRyYWN0CiovCgoKCmNvbnRyYWN0IFBsdXNDb2luIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOyAvLyBUb2tlbiBvd25lciBhZGRyZXNzCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlczsgLy8gYmFsYW5jZU9mCiAgICAvLyBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2FuY2U7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgogICAgc3RyaW5nIHB1YmxpYyBzdGFuZGFyZCA9ICdQbHVzQ29pbiAxLjAnOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIlBsdXNDb2luIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIlBMQyI7CiAgICB1aW50ICAgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CiAgICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIAogICAgdWludCBwdWJsaWMgY29uc3RhbnQgZnBjdF9wYWNrZXRfc2l6ZSA9IDMzMDA7CiAgICB1aW50IHB1YmxpYyBvd25lclByaWNlID0gNDAgKiBmcGN0X3BhY2tldF9zaXplOyAvL1BSRVNBTEVfUFJJQ0UgKiAzICogZnBjdF9wYWNrZXRfc2l6ZTsKCiAgICBTdGF0ZSBwdWJsaWMgY3VycmVudF9zdGF0ZTsgLy8gY3VycmVudCB0b2tlbiBzdGF0ZQogICAgdWludCBwdWJsaWMgc29sZEFtb3VudDsgLy8gY3VycmVudCBzb2xkIGFtb3VudCAoZm9yIGN1cnJlbnQgc3RhdGUpCgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgb3duZXJfTUlOX0xJTUlUID0gMTUwMDAwMDAgKiBmcGN0X3BhY2tldF9zaXplICogMTAwMDAwMDAwMDAwMDAwMDAwMDsKCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBUT0tFTl9QUkVTQUxFX0xJTUlUID0gMTAwMDAwICogZnBjdF9wYWNrZXRfc2l6ZSAqIDEwMDAwMDAwMDAwMDAwMDAwMDA7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBUT0tFTl9JQ08xX0xJTUlUID0gMzAwMDAwMCAqIGZwY3RfcGFja2V0X3NpemUgKiAxMDAwMDAwMDAwMDAwMDAwMDAwOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgVE9LRU5fSUNPMl9MSU1JVCA9IDMwMDAwMDAgKiBmcGN0X3BhY2tldF9zaXplICogMTAwMDAwMDAwMDAwMDAwMDAwMDsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFRPS0VOX0lDTzNfTElNSVQgPSAzMDAwMDAwICogZnBjdF9wYWNrZXRfc2l6ZSAqIDEwMDAwMDAwMDAwMDAwMDAwMDA7CgogICAgYWRkcmVzcyBwdWJsaWMgYWxsb3dlZF9jb250cmFjdDsKCgogICAgLy8gU3RhdGVzCiAgICBlbnVtIFN0YXRlIHsKICAgICAgICBDcmVhdGVkLAogICAgICAgIFByZXNhbGUsCiAgICAgICAgSUNPMSwKICAgICAgICBJQ08yLAogICAgICAgIElDTzMsCiAgICAgICAgRnJlZWRvbSwKICAgICAgICBQYXVzZWQgLy8gb25seSBmb3IgZmlyc3Qgc3RhZ2VzCiAgICB9CgogICAgLy8KICAgIC8vIEV2ZW50cwogICAgLy8gVGhpcyBnZW5lcmF0ZXMgYSBwdWJsaWNzIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgY2xpZW50cwogICAgCiAgICBldmVudCBTZW50KGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCBhbW91bnQpOwogICAgZXZlbnQgQnV5KGFkZHJlc3MgaW5kZXhlZCBzZW5kZXIsIHVpbnQgZXRoLCB1aW50IGZidCk7CiAgICBldmVudCBXaXRoZHJhdyhhZGRyZXNzIGluZGV4ZWQgc2VuZGVyLCBhZGRyZXNzIHRvLCB1aW50IGV0aCk7CiAgICBldmVudCBTdGF0ZVN3aXRjaChTdGF0ZSBuZXdTdGF0ZSk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwoKICAgIC8vCiAgICAvLyBNb2RpZmllcnMKCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKCiAgICBtb2RpZmllciBvbmx5QWxsb3dlZENvbnRyYWN0KCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBhbGxvd2VkX2NvbnRyYWN0KTsKICAgICAgICBfOwogICAgfQoKCiAgICBtb2RpZmllciBvbmx5T3duZXJCZWZvcmVGcmVlKCkgewogICAgICAgIGlmKGN1cnJlbnRfc3RhdGUgIT0gU3RhdGUuRnJlZWRvbSkgewogICAgICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOyAgIAogICAgICAgIH0KICAgICAgICBfOwogICAgfQoKCiAgICBtb2RpZmllciBpblN0YXRlKFN0YXRlIF9zdGF0ZSkgewogICAgICAgIHJlcXVpcmUoY3VycmVudF9zdGF0ZSA9PSBfc3RhdGUpOwogICAgICAgIF87CiAgICB9CgoKICAgIC8vCiAgICAvLyBGdW5jdGlvbnMKICAgIC8vIAoKICAgIC8vIENvbnN0cnVjdG9yCiAgICBmdW5jdGlvbiBQbHVzQ29pbigpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgdG90YWxTdXBwbHkgPSAyNTAwMDAwMCAqIGZwY3RfcGFja2V0X3NpemUgKiAxMDAwMDAwMDAwMDAwMDAwMDAwOwogICAgICAgIGJhbGFuY2VzW293bmVyXSA9IHRvdGFsU3VwcGx5OwogICAgICAgIGN1cnJlbnRfc3RhdGUgPSBTdGF0ZS5DcmVhdGVkOwogICAgICAgIHNvbGRBbW91bnQgPSAwOwogICAgfQoKICAgIC8vIGZhbGxiYWNrIGZ1bmN0aW9uCiAgICBmdW5jdGlvbigpIHBheWFibGUgewogICAgICAgIHJlcXVpcmUoY3VycmVudF9zdGF0ZSAhPSBTdGF0ZS5QYXVzZWQgJiYgY3VycmVudF9zdGF0ZSAhPSBTdGF0ZS5DcmVhdGVkICYmIGN1cnJlbnRfc3RhdGUgIT0gU3RhdGUuRnJlZWRvbSk7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPj0gMSk7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyICE9IG93bmVyKTsKICAgICAgICBidXlUb2tlbnMobXNnLnNlbmRlcik7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZU11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIHVpbnQgYyA9IGEgKiBiOwogICAgICAgIHJlcXVpcmUoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVTdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXF1aXJlKGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVBZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICB1aW50IGMgPSBhICsgYjsKICAgICAgICByZXF1aXJlKGM+PWEgJiYgYz49Yik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgLy8gQnV5IGVudHJ5IHBvaW50CiAgICBmdW5jdGlvbiBidXkoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZShjdXJyZW50X3N0YXRlICE9IFN0YXRlLlBhdXNlZCAmJiBjdXJyZW50X3N0YXRlICE9IFN0YXRlLkNyZWF0ZWQgJiYgY3VycmVudF9zdGF0ZSAhPSBTdGF0ZS5GcmVlZG9tKTsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSAxKTsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgIT0gb3duZXIpOwogICAgICAgIGJ1eVRva2Vucyhtc2cuc2VuZGVyKTsKICAgIH0KCiAgICAvLyBQYXlhYmxlIGZ1bmN0aW9uIGZvciBidXkgY29pbnMgZnJvbSB0b2tlbiBvd25lcgogICAgZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgX2J1eWVyKSBwdWJsaWMgcGF5YWJsZQogICAgewogICAgICAgIHJlcXVpcmUoY3VycmVudF9zdGF0ZSAhPSBTdGF0ZS5QYXVzZWQgJiYgY3VycmVudF9zdGF0ZSAhPSBTdGF0ZS5DcmVhdGVkICYmIGN1cnJlbnRfc3RhdGUgIT0gU3RhdGUuRnJlZWRvbSk7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPj0gMSk7CiAgICAgICAgcmVxdWlyZShfYnV5ZXIgIT0gb3duZXIpOwogICAgICAgIAogICAgICAgIHVpbnQyNTYgd2VpX3ZhbHVlID0gbXNnLnZhbHVlOwoKICAgICAgICB1aW50MjU2IHRva2VucyA9IHNhZmVNdWwod2VpX3ZhbHVlLCBvd25lclByaWNlKTsKICAgICAgICB0b2tlbnMgPSB0b2tlbnM7CiAgICAgICAgCiAgICAgICAgdWludDI1NiBjdXJyZW50U29sZEFtb3VudCA9IHNhZmVBZGQodG9rZW5zLCBzb2xkQW1vdW50KTsKCiAgICAgICAgaWYoY3VycmVudF9zdGF0ZSA9PSBTdGF0ZS5QcmVzYWxlKSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3VycmVudFNvbGRBbW91bnQgPD0gVE9LRU5fUFJFU0FMRV9MSU1JVCk7CiAgICAgICAgfQogICAgICAgIGlmKGN1cnJlbnRfc3RhdGUgPT0gU3RhdGUuSUNPMSkgewogICAgICAgICAgICByZXF1aXJlKGN1cnJlbnRTb2xkQW1vdW50IDw9IFRPS0VOX0lDTzFfTElNSVQpOwogICAgICAgIH0KICAgICAgICBpZihjdXJyZW50X3N0YXRlID09IFN0YXRlLklDTzIpIHsKICAgICAgICAgICAgcmVxdWlyZShjdXJyZW50U29sZEFtb3VudCA8PSBUT0tFTl9JQ08yX0xJTUlUKTsKICAgICAgICB9CiAgICAgICAgaWYoY3VycmVudF9zdGF0ZSA9PSBTdGF0ZS5JQ08zKSB7CiAgICAgICAgICAgIHJlcXVpcmUoY3VycmVudFNvbGRBbW91bnQgPD0gVE9LRU5fSUNPM19MSU1JVCk7CiAgICAgICAgfQoKICAgICAgICByZXF1aXJlKCAoYmFsYW5jZXNbb3duZXJdIC0gdG9rZW5zKSA+PSBvd25lcl9NSU5fTElNSVQgKTsKICAgICAgICAKICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSBzYWZlU3ViKGJhbGFuY2VzW293bmVyXSwgdG9rZW5zKTsKICAgICAgICBiYWxhbmNlc1tfYnV5ZXJdID0gc2FmZUFkZChiYWxhbmNlc1tfYnV5ZXJdLCB0b2tlbnMpOwogICAgICAgIHNvbGRBbW91bnQgPSBzYWZlQWRkKHNvbGRBbW91bnQsIHRva2Vucyk7CiAgICAgICAgCiAgICAgICAgb3duZXIudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICAgICAgICAKICAgICAgICBCdXkoX2J1eWVyLCBtc2cudmFsdWUsIHRva2Vucyk7CiAgICAgICAgCiAgICB9CgoKICAgIGZ1bmN0aW9uIHNldE93bmVyUHJpY2UodWludDEyOCBfbmV3UHJpY2UpIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykKICAgIHsKICAgICAgICBvd25lclByaWNlID0gX25ld1ByaWNlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCglmdW5jdGlvbiBzZXRBbGxvd2VkQ29udHJhY3QoYWRkcmVzcyBfY29udHJhY3RfYWRkcmVzcykgcHVibGljCiAgICAgICAgb25seU93bmVyCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQogICAgewogICAgICAgIGFsbG93ZWRfY29udHJhY3QgPSBfY29udHJhY3RfYWRkcmVzczsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgLy8gY2hhbmdlIHN0YXRlIG9mIHRva2VuCiAgICBmdW5jdGlvbiBzZXRUb2tlblN0YXRlKFN0YXRlIF9uZXh0U3RhdGUpIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykKICAgIHsKICAgICAgICBib29sIGNhblN3aXRjaFN0YXRlCiAgICAgICAgICAgID0gIChjdXJyZW50X3N0YXRlID09IFN0YXRlLkNyZWF0ZWQgJiYgX25leHRTdGF0ZSA9PSBTdGF0ZS5QcmVzYWxlKQogICAgICAgICAgICB8fCAoY3VycmVudF9zdGF0ZSA9PSBTdGF0ZS5QcmVzYWxlICYmIF9uZXh0U3RhdGUgPT0gU3RhdGUuSUNPMSkKICAgICAgICAgICAgfHwgKGN1cnJlbnRfc3RhdGUgPT0gU3RhdGUuSUNPMSAmJiBfbmV4dFN0YXRlID09IFN0YXRlLklDTzIpCiAgICAgICAgICAgIHx8IChjdXJyZW50X3N0YXRlID09IFN0YXRlLklDTzIgJiYgX25leHRTdGF0ZSA9PSBTdGF0ZS5JQ08zKQogICAgICAgICAgICB8fCAoY3VycmVudF9zdGF0ZSA9PSBTdGF0ZS5JQ08zICYmIF9uZXh0U3RhdGUgPT0gU3RhdGUuRnJlZWRvbSkKICAgICAgICAgICAgLy9wYXVzZSAoYWxsb3dlZCBvbmx5ICdhbnkgc3RhdGUtPnBhdXNlJyAmICdwYXVzZS0+cHJlc2FsZScgdHJhbnNpdGlvbikKICAgICAgICAgICAgLy8gfHwgKGN1cnJlbnRfc3RhdGUgPT0gU3RhdGUuUHJlc2FsZSAmJiBfbmV4dFN0YXRlID09IFN0YXRlLlBhdXNlZCkKICAgICAgICAgICAgLy8gfHwgKGN1cnJlbnRfc3RhdGUgPT0gU3RhdGUuUGF1c2VkICYmIF9uZXh0U3RhdGUgPT0gU3RhdGUuUHJlc2FsZSkKICAgICAgICAgICAgfHwgKGN1cnJlbnRfc3RhdGUgIT0gU3RhdGUuRnJlZWRvbSAmJiBfbmV4dFN0YXRlID09IFN0YXRlLlBhdXNlZCkKICAgICAgICAgICAgfHwgKGN1cnJlbnRfc3RhdGUgPT0gU3RhdGUuUGF1c2VkKTsKCiAgICAgICAgcmVxdWlyZShjYW5Td2l0Y2hTdGF0ZSk7CiAgICAgICAgCiAgICAgICAgY3VycmVudF9zdGF0ZSA9IF9uZXh0U3RhdGU7CgogICAgICAgIHNvbGRBbW91bnQgPSAwOwogICAgICAgIAogICAgICAgIFN0YXRlU3dpdGNoKF9uZXh0U3RhdGUpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgZnVuY3Rpb24gcmVtYWluaW5nX2Zvcl9zYWxlKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nX2NvaW5zKSB7CiAgICAgICAgdWludDI1NiBjb2lucyA9IDA7CgogICAgICAgIGlmIChjdXJyZW50X3N0YXRlID09IFN0YXRlLlByZXNhbGUpIHsKICAgICAgICAgICAgY29pbnMgPSBUT0tFTl9QUkVTQUxFX0xJTUlUIC0gc29sZEFtb3VudDsKICAgICAgICB9CiAgICAgICAgaWYgKGN1cnJlbnRfc3RhdGUgPT0gU3RhdGUuSUNPMSkgewogICAgICAgICAgICBjb2lucyA9IFRPS0VOX1BSRVNBTEVfTElNSVQgLSBzb2xkQW1vdW50OwogICAgICAgIH0KICAgICAgICBpZiAoY3VycmVudF9zdGF0ZSA9PSBTdGF0ZS5JQ08yKSB7CiAgICAgICAgICAgIGNvaW5zID0gVE9LRU5fUFJFU0FMRV9MSU1JVCAtIHNvbGRBbW91bnQ7CiAgICAgICAgfQogICAgICAgIGlmIChjdXJyZW50X3N0YXRlID09IFN0YXRlLklDTzMpIHsKICAgICAgICAgICAgY29pbnMgPSBUT0tFTl9QUkVTQUxFX0xJTUlUIC0gc29sZEFtb3VudDsKICAgICAgICB9CiAgICAgICAgaWYgKGN1cnJlbnRfc3RhdGUgPT0gU3RhdGUuRnJlZWRvbSkgewogICAgICAgICAgICBjb2lucyA9IGJhbGFuY2VzW293bmVyXSAtIG93bmVyX01JTl9MSU1JVDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBjb2luczsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRfdG9rZW5fc3RhdGUoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoU3RhdGUpIHsKICAgICAgICByZXR1cm4gY3VycmVudF9zdGF0ZTsKICAgIH0KCgogICAgZnVuY3Rpb24gd2l0aGRyYXdFdGhlcihhZGRyZXNzIF90bykgcHVibGljIAogICAgICAgIG9ubHlPd25lcgogICAgewogICAgICAgIF90by50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgfQoKCgogICAgLyoqCiAgICAgKiBFUkMgMjAgdG9rZW4gZnVuY3Rpb25zCiAgICAgKgogICAgICogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAgICAgKi8KICAgIAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSAKICAgICAgICBvbmx5T3duZXJCZWZvcmVGcmVlCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSAKICAgIHsKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgCiAgICAgICAgb25seU93bmVyQmVmb3JlRnJlZQogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykKICAgIHsKICAgICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSAKICAgICAgICBvbmx5T3duZXJCZWZvcmVGcmVlCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQogICAgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgCiAgICAgICAgb25seU93bmVyQmVmb3JlRnJlZQogICAgICAgIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKQogICAgewogICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCiAgICAKCgogICAgLy8vc3VpY2lkZSAmIHNlbmQgZnVuZHMgdG8gb3duZXIKICAgIGZ1bmN0aW9uIGRlc3Ryb3koKSB7IAogICAgICAgIGlmIChtc2cuc2VuZGVyID09IG93bmVyKSB7CiAgICAgICAgICBzdWljaWRlKG93bmVyKTsKICAgICAgICB9CiAgICB9CgogICAgCn0='.
	

]
