Class {
	#name : #SRT5ecf22fd1c54f4c01df5da427929c14a1090815f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5ecf22fd1c54f4c01df5da427929c14a1090815f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjsKCmNvbnRyYWN0IERhdGVUaW1lIHsKICAgICAgICAvKgogICAgICAgICAqICBEYXRlIGFuZCBUaW1lIHV0aWxpdGllcyBmb3IgZXRoZXJldW0gY29udHJhY3RzCiAgICAgICAgICoKICAgICAgICAgKi8KICAgICAgICBzdHJ1Y3QgRGF0ZVRpbWUgewogICAgICAgICAgICAgICAgdWludDE2IHllYXI7CiAgICAgICAgICAgICAgICB1aW50OCBtb250aDsKICAgICAgICAgICAgICAgIHVpbnQ4IGRheTsKICAgICAgICAgICAgICAgIHVpbnQ4IGhvdXI7CiAgICAgICAgICAgICAgICB1aW50OCBtaW51dGU7CiAgICAgICAgICAgICAgICB1aW50OCBzZWNvbmQ7CiAgICAgICAgICAgICAgICB1aW50OCB3ZWVrZGF5OwogICAgICAgIH0KCiAgICAgICAgdWludCBjb25zdGFudCBEQVlfSU5fU0VDT05EUyA9IDg2NDAwOwogICAgICAgIHVpbnQgY29uc3RhbnQgWUVBUl9JTl9TRUNPTkRTID0gMzE1MzYwMDA7CiAgICAgICAgdWludCBjb25zdGFudCBMRUFQX1lFQVJfSU5fU0VDT05EUyA9IDMxNjIyNDAwOwoKICAgICAgICB1aW50IGNvbnN0YW50IEhPVVJfSU5fU0VDT05EUyA9IDM2MDA7CiAgICAgICAgdWludCBjb25zdGFudCBNSU5VVEVfSU5fU0VDT05EUyA9IDYwOwoKICAgICAgICB1aW50MTYgY29uc3RhbnQgT1JJR0lOX1lFQVIgPSAxOTcwOwoKICAgICAgICBmdW5jdGlvbiBpc0xlYXBZZWFyKHVpbnQxNiB5ZWFyKSBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgICAgICAgICBpZiAoeWVhciAlIDQgIT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoeWVhciAlIDEwMCAhPSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHllYXIgJSA0MDAgIT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGxlYXBZZWFyc0JlZm9yZSh1aW50IHllYXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICAgICAgICAgIHllYXIgLT0gMTsKICAgICAgICAgICAgICAgIHJldHVybiB5ZWFyIC8gNCAtIHllYXIgLyAxMDAgKyB5ZWFyIC8gNDAwOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0RGF5c0luTW9udGgodWludDggbW9udGgsIHVpbnQxNiB5ZWFyKSBjb25zdGFudCByZXR1cm5zICh1aW50OCkgewogICAgICAgICAgICAgICAgaWYgKG1vbnRoID09IDEgfHwgbW9udGggPT0gMyB8fCBtb250aCA9PSA1IHx8IG1vbnRoID09IDcgfHwgbW9udGggPT0gOCB8fCBtb250aCA9PSAxMCB8fCBtb250aCA9PSAxMikgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMzE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmIChtb250aCA9PSA0IHx8IG1vbnRoID09IDYgfHwgbW9udGggPT0gOSB8fCBtb250aCA9PSAxMSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMzA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0xlYXBZZWFyKHllYXIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAyOTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjg7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBwYXJzZVRpbWVzdGFtcCh1aW50IHRpbWVzdGFtcCkgaW50ZXJuYWwgIHJldHVybnMgKERhdGVUaW1lIGR0KSB7CiAgICAgICAgICAgICAgICB1aW50IHNlY29uZHNBY2NvdW50ZWRGb3IgPSAwOwogICAgICAgICAgICAgICAgdWludCBidWY7CiAgICAgICAgICAgICAgICB1aW50OCBpOwoKICAgICAgICAgICAgICAgIC8vIFllYXIKICAgICAgICAgICAgICAgIGR0LnllYXIgPSBnZXRZZWFyKHRpbWVzdGFtcCk7CiAgICAgICAgICAgICAgICBidWYgPSBsZWFwWWVhcnNCZWZvcmUoZHQueWVhcikgLSBsZWFwWWVhcnNCZWZvcmUoT1JJR0lOX1lFQVIpOwoKICAgICAgICAgICAgICAgIHNlY29uZHNBY2NvdW50ZWRGb3IgKz0gTEVBUF9ZRUFSX0lOX1NFQ09ORFMgKiBidWY7CiAgICAgICAgICAgICAgICBzZWNvbmRzQWNjb3VudGVkRm9yICs9IFlFQVJfSU5fU0VDT05EUyAqIChkdC55ZWFyIC0gT1JJR0lOX1lFQVIgLSBidWYpOwoKICAgICAgICAgICAgICAgIC8vIE1vbnRoCiAgICAgICAgICAgICAgICB1aW50IHNlY29uZHNJbk1vbnRoOwogICAgICAgICAgICAgICAgZm9yIChpID0gMTsgaSA8PSAxMjsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHNJbk1vbnRoID0gREFZX0lOX1NFQ09ORFMgKiBnZXREYXlzSW5Nb250aChpLCBkdC55ZWFyKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlY29uZHNJbk1vbnRoICsgc2Vjb25kc0FjY291bnRlZEZvciA+IHRpbWVzdGFtcCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR0Lm1vbnRoID0gaTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRzQWNjb3VudGVkRm9yICs9IHNlY29uZHNJbk1vbnRoOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIERheQogICAgICAgICAgICAgICAgZm9yIChpID0gMTsgaSA8PSBnZXREYXlzSW5Nb250aChkdC5tb250aCwgZHQueWVhcik7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoREFZX0lOX1NFQ09ORFMgKyBzZWNvbmRzQWNjb3VudGVkRm9yID4gdGltZXN0YW1wKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHQuZGF5ID0gaTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRzQWNjb3VudGVkRm9yICs9IERBWV9JTl9TRUNPTkRTOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIEhvdXIKICAgICAgICAgICAgICAgIGR0LmhvdXIgPSBnZXRIb3VyKHRpbWVzdGFtcCk7CgogICAgICAgICAgICAgICAgLy8gTWludXRlCiAgICAgICAgICAgICAgICBkdC5taW51dGUgPSBnZXRNaW51dGUodGltZXN0YW1wKTsKCiAgICAgICAgICAgICAgICAvLyBTZWNvbmQKICAgICAgICAgICAgICAgIGR0LnNlY29uZCA9IGdldFNlY29uZCh0aW1lc3RhbXApOwoKICAgICAgICAgICAgICAgIC8vIERheSBvZiB3ZWVrLgogICAgICAgICAgICAgICAgZHQud2Vla2RheSA9IGdldFdlZWtkYXkodGltZXN0YW1wKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldFllYXIodWludCB0aW1lc3RhbXApIGNvbnN0YW50IHJldHVybnMgKHVpbnQxNikgewogICAgICAgICAgICAgICAgdWludCBzZWNvbmRzQWNjb3VudGVkRm9yID0gMDsKICAgICAgICAgICAgICAgIHVpbnQxNiB5ZWFyOwogICAgICAgICAgICAgICAgdWludCBudW1MZWFwWWVhcnM7CgogICAgICAgICAgICAgICAgLy8gWWVhcgogICAgICAgICAgICAgICAgeWVhciA9IHVpbnQxNihPUklHSU5fWUVBUiArIHRpbWVzdGFtcCAvIFlFQVJfSU5fU0VDT05EUyk7CiAgICAgICAgICAgICAgICBudW1MZWFwWWVhcnMgPSBsZWFwWWVhcnNCZWZvcmUoeWVhcikgLSBsZWFwWWVhcnNCZWZvcmUoT1JJR0lOX1lFQVIpOwoKICAgICAgICAgICAgICAgIHNlY29uZHNBY2NvdW50ZWRGb3IgKz0gTEVBUF9ZRUFSX0lOX1NFQ09ORFMgKiBudW1MZWFwWWVhcnM7CiAgICAgICAgICAgICAgICBzZWNvbmRzQWNjb3VudGVkRm9yICs9IFlFQVJfSU5fU0VDT05EUyAqICh5ZWFyIC0gT1JJR0lOX1lFQVIgLSBudW1MZWFwWWVhcnMpOwoKICAgICAgICAgICAgICAgIHdoaWxlIChzZWNvbmRzQWNjb3VudGVkRm9yID4gdGltZXN0YW1wKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0xlYXBZZWFyKHVpbnQxNih5ZWFyIC0gMSkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kc0FjY291bnRlZEZvciAtPSBMRUFQX1lFQVJfSU5fU0VDT05EUzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRzQWNjb3VudGVkRm9yIC09IFlFQVJfSU5fU0VDT05EUzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB5ZWFyIC09IDE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4geWVhcjsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldE1vbnRoKHVpbnQgdGltZXN0YW1wKSBjb25zdGFudCByZXR1cm5zICh1aW50OCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVGltZXN0YW1wKHRpbWVzdGFtcCkubW9udGg7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXREYXkodWludCB0aW1lc3RhbXApIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VUaW1lc3RhbXAodGltZXN0YW1wKS5kYXk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRIb3VyKHVpbnQgdGltZXN0YW1wKSBjb25zdGFudCByZXR1cm5zICh1aW50OCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHVpbnQ4KCh0aW1lc3RhbXAgLyA2MCAvIDYwKSAlIDI0KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldE1pbnV0ZSh1aW50IHRpbWVzdGFtcCkgY29uc3RhbnQgcmV0dXJucyAodWludDgpIHsKICAgICAgICAgICAgICAgIHJldHVybiB1aW50OCgodGltZXN0YW1wIC8gNjApICUgNjApOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0U2Vjb25kKHVpbnQgdGltZXN0YW1wKSBjb25zdGFudCByZXR1cm5zICh1aW50OCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHVpbnQ4KHRpbWVzdGFtcCAlIDYwKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldFdlZWtkYXkodWludCB0aW1lc3RhbXApIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdWludDgoKHRpbWVzdGFtcCAvIERBWV9JTl9TRUNPTkRTICsgNCkgJSA3KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHRvVGltZXN0YW1wKHVpbnQxNiB5ZWFyLCB1aW50OCBtb250aCwgdWludDggZGF5KSBjb25zdGFudCByZXR1cm5zICh1aW50IHRpbWVzdGFtcCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRvVGltZXN0YW1wKHllYXIsIG1vbnRoLCBkYXksIDAsIDAsIDApOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdG9UaW1lc3RhbXAodWludDE2IHllYXIsIHVpbnQ4IG1vbnRoLCB1aW50OCBkYXksIHVpbnQ4IGhvdXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgdGltZXN0YW1wKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdG9UaW1lc3RhbXAoeWVhciwgbW9udGgsIGRheSwgaG91ciwgMCwgMCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB0b1RpbWVzdGFtcCh1aW50MTYgeWVhciwgdWludDggbW9udGgsIHVpbnQ4IGRheSwgdWludDggaG91ciwgdWludDggbWludXRlKSBjb25zdGFudCByZXR1cm5zICh1aW50IHRpbWVzdGFtcCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRvVGltZXN0YW1wKHllYXIsIG1vbnRoLCBkYXksIGhvdXIsIG1pbnV0ZSwgMCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB0b1RpbWVzdGFtcCh1aW50MTYgeWVhciwgdWludDggbW9udGgsIHVpbnQ4IGRheSwgdWludDggaG91ciwgdWludDggbWludXRlLCB1aW50OCBzZWNvbmQpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgdGltZXN0YW1wKSB7CiAgICAgICAgICAgIHVpbnQxNiBpOwoKICAgICAgICAgICAgLy8gWWVhcgogICAgICAgICAgICBmb3IgKGkgPSBPUklHSU5fWUVBUjsgaSA8IHllYXI7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGlmIChpc0xlYXBZZWFyKGkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXAgKz0gTEVBUF9ZRUFSX0lOX1NFQ09ORFM7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wICs9IFlFQVJfSU5fU0VDT05EUzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIE1vbnRoCiAgICAgICAgICAgIHVpbnQ4WzEyXSBtZW1vcnkgbW9udGhEYXlDb3VudHM7CiAgICAgICAgICAgIG1vbnRoRGF5Q291bnRzWzBdID0gMzE7CiAgICAgICAgICAgIGlmIChpc0xlYXBZZWFyKHllYXIpKSB7CiAgICAgICAgICAgICAgICAgICAgbW9udGhEYXlDb3VudHNbMV0gPSAyOTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBtb250aERheUNvdW50c1sxXSA9IDI4OwogICAgICAgICAgICB9CiAgICAgICAgICAgIG1vbnRoRGF5Q291bnRzWzJdID0gMzE7CiAgICAgICAgICAgIG1vbnRoRGF5Q291bnRzWzNdID0gMzA7CiAgICAgICAgICAgIG1vbnRoRGF5Q291bnRzWzRdID0gMzE7CiAgICAgICAgICAgIG1vbnRoRGF5Q291bnRzWzVdID0gMzA7CiAgICAgICAgICAgIG1vbnRoRGF5Q291bnRzWzZdID0gMzE7CiAgICAgICAgICAgIG1vbnRoRGF5Q291bnRzWzddID0gMzE7CiAgICAgICAgICAgIG1vbnRoRGF5Q291bnRzWzhdID0gMzA7CiAgICAgICAgICAgIG1vbnRoRGF5Q291bnRzWzldID0gMzE7CiAgICAgICAgICAgIG1vbnRoRGF5Q291bnRzWzEwXSA9IDMwOwogICAgICAgICAgICBtb250aERheUNvdW50c1sxMV0gPSAzMTsKCiAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCBtb250aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wICs9IERBWV9JTl9TRUNPTkRTICogbW9udGhEYXlDb3VudHNbaSAtIDFdOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBEYXkKICAgICAgICAgICAgdGltZXN0YW1wICs9IERBWV9JTl9TRUNPTkRTICogKGRheSAtIDEpOwoKICAgICAgICAgICAgLy8gSG91cgogICAgICAgICAgICB0aW1lc3RhbXAgKz0gSE9VUl9JTl9TRUNPTkRTICogKGhvdXIpOwoKICAgICAgICAgICAgLy8gTWludXRlCiAgICAgICAgICAgIHRpbWVzdGFtcCArPSBNSU5VVEVfSU5fU0VDT05EUyAqIChtaW51dGUpOwoKICAgICAgICAgICAgLy8gU2Vjb25kCiAgICAgICAgICAgIHRpbWVzdGFtcCArPSBzZWNvbmQ7CgogICAgICAgICAgICByZXR1cm4gdGltZXN0YW1wOwogICAgfQp9CgovLyBDb3B5cm9ibyBjb250cmFjdCBmb3Igbm90YXJpemF0aW9uCmNvbnRyYWN0IFByb29mT2ZFeGlzdGVuY2UgewogICAgCiAgICAKICAgIGZ1bmN0aW9uIHVpbnRUb0J5dGVzKHVpbnQgdikgY29uc3RhbnQgcmV0dXJucyAoYnl0ZXMzMiByZXQpIHsKICAgICAgICBpZiAodiA9PSAwKSB7CiAgICAgICAgICAgIHJldCA9ICcwJzsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHdoaWxlICh2ID4gMCkgewogICAgICAgICAgICAgICAgcmV0ID0gYnl0ZXMzMih1aW50KHJldCkgLyAoMiAqKiA4KSk7CiAgICAgICAgICAgICAgICByZXQgfD0gYnl0ZXMzMigoKHYgJSAxMCkgKyA0OCkgKiAyICoqICg4ICogMzEpKTsKICAgICAgICAgICAgICAgIHYgLz0gMTA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJldDsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYnl0ZXMzMlRvU3RyaW5nKGJ5dGVzMzIgeCkgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nKSB7CiAgICAgICAgYnl0ZXMgbWVtb3J5IGJ5dGVzU3RyaW5nID0gbmV3IGJ5dGVzKDMyKTsKICAgICAgICB1aW50IGNoYXJDb3VudCA9IDA7CiAgICAgICAgZm9yICh1aW50IGogPSAwOyBqIDwgMzI7IGorKykgewogICAgICAgICAgICBieXRlIGNoYXIgPSBieXRlKGJ5dGVzMzIodWludCh4KSAqIDIgKiogKDggKiBqKSkpOwogICAgICAgICAgICBpZiAoY2hhciAhPSAwKSB7CiAgICAgICAgICAgICAgICBieXRlc1N0cmluZ1tjaGFyQ291bnRdID0gY2hhcjsKICAgICAgICAgICAgICAgIGNoYXJDb3VudCsrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGJ5dGVzIG1lbW9yeSBieXRlc1N0cmluZ1RyaW1tZWQgPSBuZXcgYnl0ZXMoY2hhckNvdW50KTsKICAgICAgICBmb3IgKGogPSAwOyBqIDwgY2hhckNvdW50OyBqKyspIHsKICAgICAgICAgICAgYnl0ZXNTdHJpbmdUcmltbWVkW2pdID0gYnl0ZXNTdHJpbmdbal07CiAgICAgICAgfQogICAgICAgIHJldHVybiBzdHJpbmcoYnl0ZXNTdHJpbmdUcmltbWVkKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYnl0ZXMzMlRvU3RyaW5nKHVpbnQxNiB4KSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcpIHsKICAgICAgICBieXRlczMyIGEgPSB1aW50VG9CeXRlcyh4KTsKICAgICAgICByZXR1cm4gYnl0ZXMzMlRvU3RyaW5nKGEpOwogICAgfQogICAgCmZ1bmN0aW9uIHN0ckNvbmNhdChzdHJpbmcgX2EsIHN0cmluZyBfYiwgc3RyaW5nIF9jLCBzdHJpbmcgX2QsIHN0cmluZyBfZSkgaW50ZXJuYWwgcmV0dXJucyAoc3RyaW5nKXsKICAgIGJ5dGVzIG1lbW9yeSBfYmEgPSBieXRlcyhfYSk7CiAgICBieXRlcyBtZW1vcnkgX2JiID0gYnl0ZXMoX2IpOwogICAgYnl0ZXMgbWVtb3J5IF9iYyA9IGJ5dGVzKF9jKTsKICAgIGJ5dGVzIG1lbW9yeSBfYmQgPSBieXRlcyhfZCk7CiAgICBieXRlcyBtZW1vcnkgX2JlID0gYnl0ZXMoX2UpOwogICAgc3RyaW5nIG1lbW9yeSBhYmNkZSA9IG5ldyBzdHJpbmcoX2JhLmxlbmd0aCArIF9iYi5sZW5ndGggKyBfYmMubGVuZ3RoICsgX2JkLmxlbmd0aCArIF9iZS5sZW5ndGgpOwogICAgYnl0ZXMgbWVtb3J5IGJhYmNkZSA9IGJ5dGVzKGFiY2RlKTsKICAgIHVpbnQgayA9IDA7CiAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBfYmEubGVuZ3RoOyBpKyspIGJhYmNkZVtrKytdID0gX2JhW2ldOwogICAgZm9yIChpID0gMDsgaSA8IF9iYi5sZW5ndGg7IGkrKykgYmFiY2RlW2srK10gPSBfYmJbaV07CiAgICBmb3IgKGkgPSAwOyBpIDwgX2JjLmxlbmd0aDsgaSsrKSBiYWJjZGVbaysrXSA9IF9iY1tpXTsKICAgIGZvciAoaSA9IDA7IGkgPCBfYmQubGVuZ3RoOyBpKyspIGJhYmNkZVtrKytdID0gX2JkW2ldOwogICAgZm9yIChpID0gMDsgaSA8IF9iZS5sZW5ndGg7IGkrKykgYmFiY2RlW2srK10gPSBfYmVbaV07CiAgICByZXR1cm4gc3RyaW5nKGJhYmNkZSk7Cn0KCmZ1bmN0aW9uIHN0ckNvbmNhdChzdHJpbmcgX2EsIHN0cmluZyBfYiwgc3RyaW5nIF9jLCBzdHJpbmcgX2QpIGludGVybmFsIHJldHVybnMgKHN0cmluZykgewogICAgcmV0dXJuIHN0ckNvbmNhdChfYSwgX2IsIF9jLCBfZCwgIiIpOwp9CgpmdW5jdGlvbiBzdHJDb25jYXQoc3RyaW5nIF9hLCBzdHJpbmcgX2IsIHN0cmluZyBfYykgaW50ZXJuYWwgcmV0dXJucyAoc3RyaW5nKSB7CiAgICByZXR1cm4gc3RyQ29uY2F0KF9hLCBfYiwgX2MsICIiLCAiIik7Cn0KCmZ1bmN0aW9uIHN0ckNvbmNhdChzdHJpbmcgX2EsIHN0cmluZyBfYikgaW50ZXJuYWwgcmV0dXJucyAoc3RyaW5nKSB7CiAgICByZXR1cm4gc3RyQ29uY2F0KF9hLCBfYiwgIiIsICIiLCAiIik7Cn0KICAgCiAgLy8gc3RyaW5nOiBzaGEyNTYgb2YgZG9jdW1lbnQKICAvLyB1bml0IDogdGltZXN0YW1wIAogIG1hcHBpbmcgKHN0cmluZyA9PiB1aW50KSBwcml2YXRlIHByb29mczsKCiAgZnVuY3Rpb24gbm90YXJpemUoc3RyaW5nIHNoYTI1NikgewogICAgLy8gdmFsaWRhdGUgaXQgaGFzIDY0IGNoYXJhY3RlcnMKICAgIAogICAgaWYgKCBieXRlcyhzaGEyNTYpLmxlbmd0aCA9PSA2NCApewogICAgICAvLyBjaGVjayBpZiBpdCBpcyBleGlzdGluZywgZG9uJ3Qgc2F2ZSBpdAogICAgICBpZiAoIHByb29mc1tzaGEyNTZdID09IDAgKXsKICAgICAgICBwcm9vZnNbc2hhMjU2XSA9IGJsb2NrLnRpbWVzdGFtcDsKICAgICAgfQogICAgfQogIH0KICAKICAvLyBJbnB1dCBzaGEyNTYgaGFzaCBzdHJpbmcgdG8gY2hlY2sKICBmdW5jdGlvbiB2ZXJpZnkoc3RyaW5nIHNoYTI1NikgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nKSB7CiAgICB2YXIgdGltZXN0YW1wID0gIHByb29mc1tzaGEyNTZdOwogICAgaWYgKCB0aW1lc3RhbXAgPT0gMCApewogICAgICAgIHJldHVybiAiTm8gZGF0YSBmb3VuZCI7CiAgICB9ZWxzZXsKICAgICAgICBEYXRlVGltZSBkdCA9IERhdGVUaW1lKG1zZy5zZW5kZXIpOwogICAgICAgIAogICAgICAgIHVpbnQxNiB5ZWFyID0gZHQuZ2V0WWVhcih0aW1lc3RhbXApOwogICAgICAgIHVpbnQxNiBtb250aCA9IGR0LmdldE1vbnRoKHRpbWVzdGFtcCk7CiAgICAgICAgdWludDE2IGRheSA9IGR0LmdldERheSh0aW1lc3RhbXApOwogICAgICAgIHVpbnQxNiBob3VyID0gZHQuZ2V0SG91cih0aW1lc3RhbXApOwogICAgICAgIHVpbnQxNiBtaW51dGUgPSBkdC5nZXRNaW51dGUodGltZXN0YW1wKTsKICAgICAgICB1aW50MTYgc2Vjb25kID0gZHQuZ2V0U2Vjb25kKHRpbWVzdGFtcCk7CiAgICAgICAgCiAgICAgICAgc3RyaW5nICBtZW1vcnkgcmVzdWx0ID0gc3RyQ29uY2F0KGJ5dGVzMzJUb1N0cmluZyh5ZWFyKSAsICItIiAsIGJ5dGVzMzJUb1N0cmluZyhtb250aCksIi0iLGJ5dGVzMzJUb1N0cmluZyhkYXkpKTsKICAgICAgICByZXN1bHQgPSBzdHJDb25jYXQocmVzdWx0LCIgIik7CiAgICAgICAgcmVzdWx0ID0gc3RyQ29uY2F0KCBieXRlczMyVG9TdHJpbmcoaG91cikgLCAiOiIgLCBieXRlczMyVG9TdHJpbmcobWludXRlKSwiOiIsYnl0ZXMzMlRvU3RyaW5nKHNlY29uZCkpOwogICAgICAgIHJlc3VsdCA9IHN0ckNvbmNhdChyZXN1bHQsIiBVVEMiKTsKICAgICAgICAKCgogICAgICAgIC8vVVRDIEZvcm1hdDogMjAxMy0xMC0yNiAxNDozNzo0OCBVVEMKCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICB9CiAgCn0='.
	

]
