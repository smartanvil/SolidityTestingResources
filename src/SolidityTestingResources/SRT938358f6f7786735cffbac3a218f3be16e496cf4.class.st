Class {
	#name : #SRT938358f6f7786735cffbac3a218f3be16e496cf4,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT938358f6f7786735cffbac3a218f3be16e496cf4 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vCi8vICBIT0RMd2luIHNhbGUgY29udHJhY3QKLy8KLy8gIEZvciBkZXRhaWxzLCBwbGVhc2UgdmlzaXQ6IGh0dHBzOi8vd3d3LkhPREx3aW4uY29tCi8vCi8vICBUaGVyZSBpcyBhIGNsdWUgdG8gb3VyIDUlIHRva2VuIGdpdmVhd2F5IGNvbnRlc3QgaW4gdGhpcyBjb2RlICAKLy8gIGFuZCBhbHNvIGEgY291cGxlIG9mIG90aGVyIHN1cnByaXNlcywgZ29vZCBsdWNrCi8vICBSZW1lbWJlciB0byB3aW4gdGhlIHByaXplIHlvdSBhbmQgZ2V0IHRoZSByZW1haW5pbmcgY2x1ZXMgeW91Ci8vICBtdXN0IGJlIGEgdG9rZW4gaG9sZGVyIGFuZCByZWdpc3RlcmVkIGZvciB0aGUgY29udGVzdCBvbiBvdXIKLy8gIHdlYnBhZ2UuIGh0dHBzOi8vd3d3LmhvZGx3aW4uY29tCi8vCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vCi8vIFNhZmVNYXRoMwovLwovLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9ibG9iL21hc3Rlci9jb250cmFjdHMvbWF0aC9TYWZlTWF0aC5zb2wKLy8gKG5vIG5lZWQgdG8gaW1wbGVtZW50IGRpdmlzaW9uKQovLwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpsaWJyYXJ5IFNhZmVNYXRoMyB7CgogIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50IGMpIHsKICAgIGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCBjKSB7CiAgICBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICB9Cgp9CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLwovLyBPd25lZCBjb250cmFjdAovLwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpjb250cmFjdCBPd25lZCB7CgogIGFkZHJlc3MgcHVibGljIG93bmVyOwogIGFkZHJlc3MgcHVibGljIG5ld093bmVyOwoKICAvLyBFdmVudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVyUHJvcG9zZWQoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvKTsKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8pOwoKICAvLyBNb2RpZmllciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgogIC8vIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgZnVuY3Rpb24gT3duZWQoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShfbmV3T3duZXIgIT0gb3duZXIpOwogICAgcmVxdWlyZShfbmV3T3duZXIgIT0gYWRkcmVzcygweDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVyUHJvcG9zZWQob3duZXIsIF9uZXdPd25lcik7CiAgICBuZXdPd25lciA9IF9uZXdPd25lcjsKICB9CgogIGZ1bmN0aW9uIGFjY2VwdE93bmVyc2hpcCgpIHB1YmxpYyB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gbmV3T3duZXIpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8KLy8gRVJDIFRva2VuIFN0YW5kYXJkICMyMCBJbnRlcmZhY2UKLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvYmxvYi9tYXN0ZXIvRUlQUy9laXAtMjAtdG9rZW4tc3RhbmRhcmQubWQKLy8gQ2x1ZS0xIHRoZSBwYXNzd29yZCBpcyBhIHF1b3RlIGZyb20gYSBmYW1vdXMgcGVyc29uLCBmb3IgbW9yZSBjbHVlcwovLyByZWFkIHRoZSBjb21tZW50cyBpbiB0aGlzIGNvZGUgY2FyZWZ1bGx5LCByZWdpc3RlciBmb3IgdGhlIGNvbXBldGlvbiBmb3IgdGhlIAovLyBlYXNpZXIgY2x1ZXMgb24gb3VyIHdlYnNpdGUgd3d3LmhvZGx3aW4uY29tLCBwbHVzIGtlZXAgYW4gZXllIG91dCBmb3Igb3RoZXIgCi8vIGJvdW50aWVzIGJlbG93LgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpjb250cmFjdCBFUkMyMEludGVyZmFjZSB7CgogIC8vIEV2ZW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50IF92YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50IF92YWx1ZSk7CgogIC8vIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKTsKCn0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vCi8vIEVSQyBUb2tlbiBTdGFuZGFyZCAjMjAKLy8KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY29udHJhY3QgRVJDMjBUb2tlbiBpcyBFUkMyMEludGVyZmFjZSwgT3duZWQgewogIAogIHVzaW5nIFNhZmVNYXRoMyBmb3IgdWludDsKCiAgdWludCBwdWJsaWMgdG9rZW5zSXNzdWVkVG90YWwgPSAwOwogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBiYWxhbmNlczsKICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKCiAgLy8gRnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAvKiBUb3RhbCB0b2tlbiBzdXBwbHkgKi8KCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgcmV0dXJuIHRva2Vuc0lzc3VlZFRvdGFsOwogIH0KCiAgLyogR2V0IHRoZSBhY2NvdW50IGJhbGFuY2UgZm9yIGFuIGFkZHJlc3MgKi8KCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9CgogIC8qIFRyYW5zZmVyIHRoZSBiYWxhbmNlIGZyb20gb3duZXIncyBhY2NvdW50IHRvIGFub3RoZXIgYWNjb3VudCAqLwoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAvLyBhbW91bnQgc2VudCBjYW5ub3QgZXhjZWVkIGJhbGFuY2UKICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCk7CgogICAgLy8gdXBkYXRlIGJhbGFuY2VzCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKCiAgICAvLyBsb2cgZXZlbnQKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qIEFsbG93IF9zcGVuZGVyIHRvIHdpdGhkcmF3IGZyb20geW91ciBhY2NvdW50IHVwIHRvIF9hbW91bnQgKi8KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIC8vIGFwcHJvdmFsIGFtb3VudCBjYW5ub3QgZXhjZWVkIHRoZSBiYWxhbmNlCiAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF9hbW91bnQpOwogICAgICAKICAgIC8vIHVwZGF0ZSBhbGxvd2VkIGFtb3VudAogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfYW1vdW50OwogICAgCiAgICAvLyBsb2cgZXZlbnQKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyogU3BlbmRlciBvZiB0b2tlbnMgdHJhbnNmZXJzIHRva2VucyBmcm9tIHRoZSBvd25lcidzIGJhbGFuY2UgKi8KICAvKiBNdXN0IGJlIHByZS1hcHByb3ZlZCBieSBvd25lciAqLwoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgLy8gYmFsYW5jZSBjaGVja3MKICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF9hbW91bnQpOwogICAgcmVxdWlyZShhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfYW1vdW50KTsKCiAgICAvLyB1cGRhdGUgYmFsYW5jZXMgYW5kIGFsbG93ZWQgYW1vdW50CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF9hbW91bnQpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CgogICAgLy8gbG9nIGV2ZW50CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyogUmV0dXJucyB0aGUgYW1vdW50IG9mIHRva2VucyBhcHByb3ZlZCBieSB0aGUgb3duZXIgKi8KICAvKiB0aGF0IGNhbiBiZSB0cmFuc2ZlcnJlZCBieSBzcGVuZGVyICovCgogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9Cgp9CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLwovLyBXSU4gcHVibGljIHRva2VuIHNhbGUKLy8KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY29udHJhY3QgSE9ETHdpbiBpcyBFUkMyMFRva2VuIHsKCiAgLyogVXRpbGl0eSB2YXJpYWJsZSAqLwogIAogIAogIC8qIEJhc2ljIHRva2VuIGRhdGEgKi8KCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkhPREx3aW4iOwogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIldJTiI7CiAgdWludDggIHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwoKICAvKiBXYWxsZXQgYWRkcmVzc2VzIC0gaW5pdGlhbGx5IHNldCB0byBvd25lciBhdCBkZXBsb3ltZW50ICovCiAgCiAgYWRkcmVzcyBwdWJsaWMgd2FsbGV0OwogIGFkZHJlc3MgcHVibGljIGFkbWluV2FsbGV0OwoKICAvKiBJQ08gZGF0ZXMgKi8KCiAgdWludCBwdWJsaWMgY29uc3RhbnQgREFURV9QUkVTQUxFX1NUQVJUID0gMTUxODEwNTgwNDsgLy8gKEdNVCk6IFRodXJzZGF5LCA4IEZlYnJ1YXJ5IDIwMTggMTQ6MjQ6NTgKICB1aW50IHB1YmxpYyBjb25zdGFudCBEQVRFX1BSRVNBTEVfRU5EICAgPSAxNTIzMDE5NjAwOyAvLyAoR01UKTogRnJpZGF5LCA2IEFwcmlsIDIwMTggMTM6MDA6MDAKCiAgdWludCBwdWJsaWMgY29uc3RhbnQgREFURV9JQ09fU1RBUlQgPSAxNTIzMDE5NjAwOyAvLyAoR01UKTogRnJpZGF5LCA2IEFwcmlsIDIwMTggMTM6MDA6MDAKICB1aW50IHB1YmxpYyBjb25zdGFudCBEQVRFX0lDT19FTkQgICA9IDE1MzA4ODIwMDA7IC8vIChHTVQpOiBGcmlkYXksIDYgSnVseSAyMDE4IDEzOjAwOjAwCgogIC8qIElDTyB0b2tlbnMgcGVyIEVUSCAqLwogIAogIHVpbnQgcHVibGljIHRva2Vuc1BlckV0aCA9IDEwMDAgKiAxMCoqMTg7IC8vIHJhdGUgZHVyaW5nIHB1YmxpYyBJQ08gYWZ0ZXIgYm9udXMgcGVyaW9kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogIHVpbnQgcHVibGljIGNvbnN0YW50IEJPTlVTX1BSRVNBTEUgICAgICA9IDUwOy8vIENsdWUtMiBweWV0aHJlY292ZXIgbWF5IAogIHVpbnQgcHVibGljIGNvbnN0YW50IEJPTlVTX0lDT19QRVJJT0RfT05FID0gMjA7Ly8gYmUgdXNlZnVsIG9uY2UgeW91IHJlY2VpdmUKICB1aW50IHB1YmxpYyBjb25zdGFudCBCT05VU19JQ09fUEVSSU9EX1RXTyA9IDEwOy8vIGZ1cnRoZXIgY2x1ZXMgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogIC8qIE90aGVyIElDTyBwYXJhbWV0ZXJzICovICAKICAKICB1aW50IHB1YmxpYyBjb25zdGFudCBUT0tFTl9TVVBQTFlfVE9UQUwgPSAxMDAwMDAwMDAgKiAxMCoqMTg7IC8vIDEwMCBtbSB0b2tlbnMKICB1aW50IHB1YmxpYyBjb25zdGFudCBUT0tFTl9TVVBQTFlfSUNPICAgPSA1MDAwMDAwMCAqIDEwKioxODsgLy8gNTAgbW0gdG9rZW5zIGF2YWxpYmFsZSBmb3IgcHJlc2FsZSBhbmQgcHVibGljCiAgdWludCBwdWJsaWMgY29uc3RhbnQgVE9LRU5fU1VQUExZX0FJUiAgID0gNTAwMDAwMDAgKiAxMCoqMTg7IC8vICA1MCBtbSB0b2tlbnMsIGFsbCB0ZWFtIHRva2VucywgYWlyZHJvcCwgYm91bnRpZXMgd2lsbCBiZSBzZW50IHB1YmxpY2x5IHVzaW5nIHRoaXMgc28gZXZlcnl0aGluZyBpcyB0cmFuc3BhcmVudAoKICB1aW50IHB1YmxpYyBjb25zdGFudCBQUkVTQUxFX0VUSF9DQVAgPSAgMTAwMDAgZXRoZXI7CgogIHVpbnQgcHVibGljIGNvbnN0YW50IE1JTl9GVU5ESU5HX0dPQUwgPSAgMTAwICogMTAqKjE4IDsgLy8KICAKICB1aW50IHB1YmxpYyBjb25zdGFudCBNSU5fQ09OVFJJQlVUSU9OID0gMSBldGhlciAvIDIwOyAvLyAwLjA1IEV0aGVyCiAgdWludCBwdWJsaWMgY29uc3RhbnQgTUFYX0NPTlRSSUJVVElPTiA9IDEwMDAwIGV0aGVyOwoKICB1aW50IHB1YmxpYyBjb25zdGFudCBDT09MRE9XTl9QRVJJT0QgPSAgMSBkYXlzOwogIHVpbnQgcHVibGljIGNvbnN0YW50IENMQVdCQUNLX1BFUklPRCA9IDkwIGRheXM7CgogIC8qIENyb3dkc2FsZSB2YXJpYWJsZXMgKi8KCiAgdWludCBwdWJsaWMgaWNvRXRoZXJSZWNlaXZlZCA9IDA7IC8vIEV0aGVyIGFjdHVhbGx5IHJlY2VpdmVkIGJ5IHRoZSBjb250cmFjdAoKICB1aW50IHB1YmxpYyB0b2tlbnNJc3N1ZWRJY28gICA9IDA7CiAgdWludCBwdWJsaWMgdG9rZW5zSXNzdWVkQWlyICAgPSAwOwogIAoKICAvKiBLZWVwIHRyYWNrIG9mIEV0aGVyIGNvbnRyaWJ1dGVkIGFuZCB0b2tlbnMgcmVjZWl2ZWQgZHVyaW5nIENyb3dkc2FsZSAqLwogIAogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgaWNvRXRoZXJDb250cmlidXRlZDsKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcHVibGljIGljb1Rva2Vuc1JlY2VpdmVkOwoKICAvKiBLZWVwIHRyYWNrIG9mIHBhcnRpY2lwYW50cyB3aG8gCiAgIC8qIGhhdmUgcmVjbGFpbWVkIHRoZWlyIGNvbnRyaWJ1dGlvbnMgaW4gY2FzZSBvZiBmYWlsZWQgQ3Jvd2RzYWxlICovCgogICBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIHJlZnVuZENsYWltZWQ7CiAKCiAgLy8gRXZlbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogIAogIGV2ZW50IFdhbGxldFVwZGF0ZWQoYWRkcmVzcyBfbmV3V2FsbGV0KTsKICBldmVudCBBZG1pbldhbGxldFVwZGF0ZWQoYWRkcmVzcyBfbmV3QWRtaW5XYWxsZXQpOwogIGV2ZW50IFRva2Vuc1BlckV0aFVwZGF0ZWQodWludCBfdG9rZW5zUGVyRXRoKTsKICBldmVudCBUb2tlbnNNaW50ZWQoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgdWludCBfdG9rZW5zLCB1aW50IF9iYWxhbmNlKTsKICBldmVudCBUb2tlbnNJc3N1ZWQoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgdWludCBfdG9rZW5zLCB1aW50IF9iYWxhbmNlLCB1aW50IF9ldGhlckNvbnRyaWJ1dGVkKTsKICBldmVudCBSZWZ1bmQoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgdWludCBfYW1vdW50LCB1aW50IF90b2tlbnMpOwogCgogIC8vIEJhc2ljIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0KCiAgLyogSW5pdGlhbGl6ZSAob3duZXIgaXMgc2V0IHRvIG1zZy5zZW5kZXIgYnkgT3duZWQuT3duZWQoKSAqLwoKICBmdW5jdGlvbiBIT0RMd2luICgpIHB1YmxpYyB7CiAgICByZXF1aXJlKFRPS0VOX1NVUFBMWV9JQ08gKyBUT0tFTl9TVVBQTFlfQUlSID09IFRPS0VOX1NVUFBMWV9UT1RBTCk7CiAgICB3YWxsZXQgPSBvd25lcjsKICAgIGFkbWluV2FsbGV0ID0gb3duZXI7CiAgfQoKICAvKiBGYWxsYmFjayAqLwogIAogIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKICAgIGJ1eVRva2VucygpOwogIH0KICAKICAvLyBJbmZvcm1hdGlvbiBmdW5jdGlvbnMgLS0tLS0tLS0tLS0tCiAgCiAgLyogV2hhdCB0aW1lIGlzIGl0PyAqLwogIAogIGZ1bmN0aW9uIGF0Tm93KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgIHJldHVybiBub3c7CiAgfQogIAogIC8qIEhhcyB0aGUgbWluaW11bSB0aHJlc2hvbGQgYmVlbiByZWFjaGVkPyAqLwogIAogIGZ1bmN0aW9uIGljb1RocmVzaG9sZFJlYWNoZWQoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCB0aHJlc2hvbGRSZWFjaGVkKSB7CiAgICAgaWYgKGljb0V0aGVyUmVjZWl2ZWQgPCBNSU5fRlVORElOR19HT0FMKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOyAKICAgICB9CiAgICAgcmV0dXJuIHRydWU7CiAgfSAgCiAgCiAgLyogQXJlIHRva2VucyB0cmFuc2ZlcmFibGU/ICovCgogIGZ1bmN0aW9uIGlzVHJhbnNmZXJhYmxlKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wgdHJhbnNmZXJhYmxlKSB7CiAgICAgaWYgKCFpY29UaHJlc2hvbGRSZWFjaGVkKCkpIHsgCiAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgfQogICAgIGlmIChhdE5vdygpIDwgREFURV9JQ09fRU5EICsgQ09PTERPV05fUEVSSU9EKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7IAogICAgICAgICAgfQogICAgIHJldHVybiB0cnVlOwogIH0KICAKICAvLyBPd25lciBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tCiAgCiAgLyogQ2hhbmdlIHRoZSBjcm93ZHNhbGUgd2FsbGV0IGFkZHJlc3MgKi8KCiAgZnVuY3Rpb24gc2V0V2FsbGV0KGFkZHJlc3MgX3dhbGxldCkgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKF93YWxsZXQgIT0gYWRkcmVzcygweDApKTsKICAgIHdhbGxldCA9IF93YWxsZXQ7CiAgICBXYWxsZXRVcGRhdGVkKHdhbGxldCk7CiAgfQoKICAvKiBDaGFuZ2UgdGhlIGFkbWluIHdhbGxldCBhZGRyZXNzICovCgogIGZ1bmN0aW9uIHNldEFkbWluV2FsbGV0KGFkZHJlc3MgX3dhbGxldCkgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKF93YWxsZXQgIT0gYWRkcmVzcygweDApKTsKICAgIGFkbWluV2FsbGV0ID0gX3dhbGxldDsKICAgIEFkbWluV2FsbGV0VXBkYXRlZChhZG1pbldhbGxldCk7CiAgfQoKICAvKiBDaGFuZ2UgdG9rZW5zUGVyRXRoIGJlZm9yZSBJQ08gc3RhcnQgKi8KICAKICBmdW5jdGlvbiB1cGRhdGVUb2tlbnNQZXJFdGgodWludCBfdG9rZW5zUGVyRXRoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoYXROb3coKSA8IERBVEVfUFJFU0FMRV9TVEFSVCk7CiAgICB0b2tlbnNQZXJFdGggPSBfdG9rZW5zUGVyRXRoOwogICAgVG9rZW5zUGVyRXRoVXBkYXRlZChfdG9rZW5zUGVyRXRoKTsKICB9CgogIC8qIE1pbnRpbmcgb2YgYWlyZHJvcCB0b2tlbnMgYnkgb3duZXIgKi8KCiAgZnVuY3Rpb24gbWludEFpcmRyb3AoYWRkcmVzcyBfcGFydGljaXBhbnQsIHVpbnQgX3Rva2VucykgcHVibGljIG9ubHlPd25lciB7CiAgICAvLyBjaGVjayBhbW91bnQKICAgIHJlcXVpcmUoX3Rva2VucyA8PSBUT0tFTl9TVVBQTFlfQUlSLnN1Yih0b2tlbnNJc3N1ZWRBaXIpKTsKICAgIHJlcXVpcmUoX3Rva2Vucy5tdWwoMTApIDw9IFRPS0VOX1NVUFBMWV9BSVIpOy8vdG8gcHJldmVudCBtaXN0YWtlbmx5IHNlbmRpbmcgdG9vIG1hbnkgdG9rZW5zIHRvIG9uZSBhZGRyZXNzIGluIGFpcmRyb3AKICAgIC8vIHVwZGF0ZSBiYWxhbmNlcwogICAgYmFsYW5jZXNbX3BhcnRpY2lwYW50XSA9IGJhbGFuY2VzW19wYXJ0aWNpcGFudF0uYWRkKF90b2tlbnMpOwogICAgdG9rZW5zSXNzdWVkQWlyID0gdG9rZW5zSXNzdWVkQWlyLmFkZChfdG9rZW5zKTsKICAgIHRva2Vuc0lzc3VlZFRvdGFsID0gdG9rZW5zSXNzdWVkVG90YWwuYWRkKF90b2tlbnMpOwoKICAgIC8vIGxvZyB0aGUgbWluaXRpbmcKICAgIFRyYW5zZmVyKDB4MCwgX3BhcnRpY2lwYW50LCBfdG9rZW5zKTsKICAgIFRva2Vuc01pbnRlZChfcGFydGljaXBhbnQsIF90b2tlbnMsIGJhbGFuY2VzW19wYXJ0aWNpcGFudF0pOwogIH0KCmZ1bmN0aW9uIG1pbnRNdWx0aXBsZShhZGRyZXNzW10gX2FkZHJlc3NlcywgdWludCBfdG9rZW5zKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBhZG1pbldhbGxldCk7CiAgICByZXF1aXJlKF90b2tlbnMubXVsKDEwKSA8PSBUT0tFTl9TVVBQTFlfQUlSKTsvL3RvIHByZXZlbnQgbWlzdGFrZW5seSBzZW5kaW5nIGFsbCB0b2tlbnMgdG8gb25lIGFkZHJlc3MgaW4gYWlyZHJvcAogICAgZm9yICh1aW50IGkgPSAwOyBpIDwgX2FkZHJlc3Nlcy5sZW5ndGg7IGkrKykgewogICAgIG1pbnRBaXJkcm9wKF9hZGRyZXNzZXNbaV0sIF90b2tlbnMpOwogICAgICAgIH0KICAgIAogIH0gIAogIAogIC8qIE93bmVyIGNsYXdiYWNrIG9mIHJlbWFpbmluZyBmdW5kcyBhZnRlciBjbGF3YmFjayBwZXJpb2QgKi8KICAvKiAoZm9yIHVzZSBpbiBjYXNlIG9mIGEgZmFpbGVkIENyd29kc2FsZSkgKi8KICAKICBmdW5jdGlvbiBvd25lckNsYXdiYWNrKCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgIHJlcXVpcmUoYXROb3coKSA+IERBVEVfSUNPX0VORCArIENMQVdCQUNLX1BFUklPRCk7CiAgICB3YWxsZXQudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICB9CgogIC8qIFRyYW5zZmVyIG91dCBhbnkgYWNjaWRlbnRhbGx5IHNlbnQgRVJDMjAgdG9rZW5zICovCgogIGZ1bmN0aW9uIHRyYW5zZmVyQW55RVJDMjBUb2tlbihhZGRyZXNzIHRva2VuQWRkcmVzcywgdWludCBhbW91bnQpIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgIHJldHVybiBFUkMyMEludGVyZmFjZSh0b2tlbkFkZHJlc3MpLnRyYW5zZmVyKG93bmVyLCBhbW91bnQpOwogIH0KCiAgLy8gUHJpdmF0ZSBmdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLQoKLy9jYXNwc2FyZWltcG9ydGFudAovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyB0aGUgZmlyc3QgUGVSc29uIHRvIHNlbmQgYW4gZW1haWwgdG8gaG9kbHdpbiBhdCAoPGEgaHJlZj0iL2Nkbi1jZ2kvbC9lbWFpbC1wcm90ZWN0aW9uIiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9IjNhNTM1NDVjNTU3YTUyNTU1ZTU2NGQ1MzU0MTQ1OTU1NTciPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L2E+KSB3aXRoIHRoZQovLyBzdWJqZWN0IHRpdGxlIGFzICJmaXJzdCIgYW5kIGFsc28gaW4gdGhlIEVtYWlsIFN0YXRlIHRoZSB3YWxsZXQgYWRkcmVzcwovLyB1c2VkIHRvIGJ1eSB0aGVJciBob2Rsd2luIHRva2VucyB3aWxsIHdpbiAxMDAwIGhvZGx3aW4gdGtucyBhbmQgMC4xIGV0aAovLyB0aGVzZSB3aWxsIGJlIHNlbnQgYXMgc29vbiBhcyB3ZSB2ZXJpZnkgdGhhdCB5b3UgYXJlIGEgaG9EbHdpbiB0b2tlbiBob2RscgovLyB0aGUgdG9rRW5zIGFuZCAwLjEgZXRoIHdpbGwgYmUgc2VOVCB0byB0aGUgYWRkcmVzcyB5b3UgdXNlZCBmb3IgdGhlIHRva2VuCi8vIHNhbGUueW91IG11c3QgaGF2ZSBjb25ydGlidXRlZCB0aGUgbWluaW11bSAwLjA1ZXRoIHRvIHRoZSB0b2tlbiBzYWxlIHRvIAovLyB3aW4gdGhpcyBjb21wZXRldGlvbi53aGVuIGl0cyB3b24gaXQgd2lsbCBiZSBhbm5vdW5jZWQgb24gb3VyIHdlYnNpdGUgaW4KLy8gdGhlIFVwZGF0ZXMgc2VjdGlvbi4gT3IgeW91IGNhbiB3YXRjaCB0aGUgYmxvY2tjaGFpbiBhbmQgU2VlIHRoZSBwQXltZW50Ci8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogIC8qIEFjY2VwdCBFVEggZHVyaW5nIGNyb3dkc2FsZSAoY2FsbGVkIGJ5IGRlZmF1bHQgZnVuY3Rpb24pICovCiAgZnVuY3Rpb24gYnV5VG9rZW5zKCkgcHJpdmF0ZSB7CiAgICB1aW50IHRzID0gYXROb3coKTsKICAgIGJvb2wgaXNQcmVzYWxlID0gZmFsc2U7CiAgICBib29sIGlzSWNvID0gZmFsc2U7CiAgICB1aW50IHRva2VucyA9IDA7CiAgICAKICAgIC8vIG1pbmltdW0gY29udHJpYnV0aW9uCiAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBNSU5fQ09OVFJJQlVUSU9OKTsKICAgIAogICAgLy8gb25lIGFkZHJlc3MgdHJhbnNmZXIgaGFyZCBjYXAKICAgIHJlcXVpcmUoaWNvRXRoZXJDb250cmlidXRlZFttc2cuc2VuZGVyXS5hZGQobXNnLnZhbHVlKSA8PSBNQVhfQ09OVFJJQlVUSU9OKTsKCiAgICAvLyBjaGVjayBkYXRlcyBmb3IgcHJlc2FsZSBvciBJQ08KICAgIGlmICh0cyA+IERBVEVfUFJFU0FMRV9TVEFSVCAmJiB0cyA8IERBVEVfUFJFU0FMRV9FTkQpIHsKICAgICAgICAgaXNQcmVzYWxlID0gdHJ1ZTsgCiAgICAgICAgIH0KICAgIGlmICh0cyA+IERBVEVfSUNPX1NUQVJUICYmIHRzIDwgREFURV9JQ09fRU5EKSB7CiAgICAgICAgIGlzSWNvID0gdHJ1ZTsgCiAgICAgICAgIH0KICAgIGlmICh0cyA+IERBVEVfUFJFU0FMRV9TVEFSVCAmJiB0cyA8IERBVEVfSUNPX0VORCAmJiBpY29FdGhlclJlY2VpdmVkID49IFBSRVNBTEVfRVRIX0NBUCkgeyAKICAgICAgICBpc0ljbyA9IHRydWU7IAogICAgICAgIH0KICAgIGlmICh0cyA+IERBVEVfUFJFU0FMRV9TVEFSVCAmJiB0cyA8IERBVEVfSUNPX0VORCAmJiBpY29FdGhlclJlY2VpdmVkID49IFBSRVNBTEVfRVRIX0NBUCkgewogICAgICAgICBpc1ByZXNhbGUgPSBmYWxzZTsKICAgICAgICAgIH0KCiAgICByZXF1aXJlKGlzUHJlc2FsZSB8fCBpc0ljbyk7CgogICAgLy8gcHJlc2FsZSBjYXAgaW4gRXRoZXIKICAgIGlmIChpc1ByZXNhbGUpIHsKICAgICAgICByZXF1aXJlKGljb0V0aGVyUmVjZWl2ZWQuYWRkKG1zZy52YWx1ZSkgPD0gUFJFU0FMRV9FVEhfQ0FQKTsKICAgIH0KICAgIAogICAgLy8gZ2V0IGJhc2VsaW5lIG51bWJlciBvZiB0b2tlbnMKICAgIHRva2VucyA9IHRva2Vuc1BlckV0aC5tdWwobXNnLnZhbHVlKSAvIDEgZXRoZXI7CiAgICAKICAgIC8vIGFwcGx5IGJvbnVzZXMgKG5vbmUgZm9yIGxhc3QgUEVSSU9EKQogICAgaWYgKGlzUHJlc2FsZSkgewogICAgICB0b2tlbnMgPSB0b2tlbnMubXVsKDEwMCArIEJPTlVTX1BSRVNBTEUpIC8gMTAwOwogICAgfSBlbHNlIGlmICh0cyA8IERBVEVfSUNPX1NUQVJUICsgMjEgZGF5cykgewogICAgICAvLyBmaXJzdCBQRVJJT0QgaWNvIGJvbnVzCiAgICAgIHRva2VucyA9IHRva2Vucy5tdWwoMTAwICsgQk9OVVNfSUNPX1BFUklPRF9PTkUpIC8gMTAwOwogICAgfSBlbHNlIGlmICh0cyA8IERBVEVfSUNPX1NUQVJUICsgNDIgZGF5cykgewogICAgICAvLyBzZWNvbmQgUEVSSU9EIGljbyBib251cwogICAgICB0b2tlbnMgPSB0b2tlbnMubXVsKDEwMCArIEJPTlVTX0lDT19QRVJJT0RfVFdPKSAvIDEwMDsKICAgIH0KICAgIAogICAgLy8gSUNPIHRva2VuIHZvbHVtZSBjYXAKICAgIHJlcXVpcmUodG9rZW5zSXNzdWVkSWNvLmFkZCh0b2tlbnMpIDw9IFRPS0VOX1NVUFBMWV9JQ08gKTsKCiAgICAvLyByZWdpc3RlciB0b2tlbnMKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKHRva2Vucyk7CiAgICBpY29Ub2tlbnNSZWNlaXZlZFttc2cuc2VuZGVyXSA9IGljb1Rva2Vuc1JlY2VpdmVkW21zZy5zZW5kZXJdLmFkZCh0b2tlbnMpOwogICAgdG9rZW5zSXNzdWVkSWNvID0gdG9rZW5zSXNzdWVkSWNvLmFkZCh0b2tlbnMpOwogICAgdG9rZW5zSXNzdWVkVG90YWwgPSB0b2tlbnNJc3N1ZWRUb3RhbC5hZGQodG9rZW5zKTsKICAgIAogICAgLy8gcmVnaXN0ZXIgRXRoZXIKICAgIGljb0V0aGVyUmVjZWl2ZWQgPSBpY29FdGhlclJlY2VpdmVkLmFkZChtc2cudmFsdWUpOwogICAgaWNvRXRoZXJDb250cmlidXRlZFttc2cuc2VuZGVyXSA9IGljb0V0aGVyQ29udHJpYnV0ZWRbbXNnLnNlbmRlcl0uYWRkKG1zZy52YWx1ZSk7CiAgICAKICAgIAogICAgLy8gbG9nIHRva2VuIGlzc3VhbmNlCiAgICBUcmFuc2ZlcigweDAsIG1zZy5zZW5kZXIsIHRva2Vucyk7CiAgICBUb2tlbnNJc3N1ZWQobXNnLnNlbmRlciwgdG9rZW5zLCBiYWxhbmNlc1ttc2cuc2VuZGVyXSwgbXNnLnZhbHVlKTsKCiAgICAvLyB0cmFuc2ZlciBFdGhlciBpZiB3ZSdyZSBvdmVyIHRoZSB0aHJlc2hvbGQKICAgIGlmIChpY29UaHJlc2hvbGRSZWFjaGVkKCkpIHsKICAgICAgICB3YWxsZXQudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICAgICB9CiAgfQogIAogIC8vIEVSQzIwIGZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0KCiAgLyogT3ZlcnJpZGUgInRyYW5zZmVyIiAoRVJDMjApICovCgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJlcXVpcmUoaXNUcmFuc2ZlcmFibGUoKSk7CiAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF9hbW91bnQpOwogIH0KICAKICAvKiBPdmVycmlkZSAidHJhbnNmZXJGcm9tIiAoRVJDMjApICovCgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXF1aXJlKGlzVHJhbnNmZXJhYmxlKCkpOwogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfYW1vdW50KTsKICB9Ci8vLy9jYXNwc2FyZWltcG9ydGFudAovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyB0aGUgbmV4dCAyMCBwZW9wbGUgdG8gc2VuZCBhbiBlbWFpbCB0byBob2Rsd2luIGF0ICg8YSBocmVmPSIvY2RuLWNnaS9sL2VtYWlsLXByb3RlY3Rpb24iIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iY2JhMmE1YWRhNDhiYTNhNGFmYTdiY2EyYTVlNWE4YTRhNiI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvYT4pIHdpdGggdGhlCi8vIHN1YmplY3QgdGl0bGUgYXMgInNlY29uZCIgYW5kIGFsc28gaW4gdGhlIGVtYWlsIHN0YXRlIHRoZSBXYWxsZXQgYWRkcmVzcwovLyB1c2VkIHRvIGJ1eSB0aGVpciBoT2RsTHdpbiB0b2tlbnMgd2lsbCB3aW4gMTAwMCBoT0Rsd2luIHRrbnMgCi8vIHRoZXNlIHdpbGwgYmUgc2VudCBhcyBzb29uIGFzIHdlIHZlUmlmeSB0aGF0IHlvdSBhcmUgYSBoT2Rsd2luIHRva2VuIGhvZGxyCi8vIHRoZSB0b2tlbnMgd2lsbCBiZSBzZW50IHRvIHRoZSBhZGRyZXNzIHlvdSB1c2VkIGZvciB0aGUgdG9rZW4KLy8gc2FsZS4geW91IG11c3QgaGF2ZSBjb25ydGlidXRlZCB0aGUgbWluaW11bSAwLjA1ZXRoIHRvIHRoZSB0b2tlbiBzYWxlIHRvIAovLyBXaW4gdGhpcyBjb21wZXRldGlvbi4gd2hlbiBpdHMgd29uIGl0IHdpbGwgYmUgYW5ub3VuY2VkIG9uIG91ciB3ZWJzaXRlIGluCi8vIHRoZSB1cGRhdGVzIHNlY3Rpb24uIG9yIHlvdSBjYW4gbG9vayBhdCB0aGUgYmxvY2tjaGFpbgovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogIC8vIEV4dGVybmFsIGZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0KCiAgLyogUmVjbGFpbWluZyBvZiBmdW5kcyBieSBjb250cmlidXRvcnMgaW4gY2FzZSBvZiBhIGZhaWxlZCBjcm93ZHNhbGUgKi8KICAvKiAoaXQgd2lsbCBmYWlsIGlmIGFjY291bnQgaXMgZW1wdHkgYWZ0ZXIgb3duZXJDbGF3YmFjaykgKi8KCiAgLyogV2hpbGUgdGhlcmUgY291bGQgbm90IGhhdmUgYmVlbiBhbnkgdG9rZW4gdHJhbnNmZXJzIHlldCwgYSBjb250cmlidXRvciAqLwogIC8qIG1heSBoYXZlIHJlY2VpdmVkIG1pbnRlZCB0b2tlbnMsIHNvIHRoZSB0b2tlbiBiYWxhbmNlIGFmdGVyIGEgcmVmdW5kICovIAogIC8qIG1heSBzdGlsbCBiZSBwb3NpdGl2ZSAqLwogIAogIGZ1bmN0aW9uIHJlY2xhaW1GdW5kcygpIGV4dGVybmFsIHsKICAgIHVpbnQgdG9rZW5zOyAvLyB0b2tlbnMgdG8gZGVzdHJveQogICAgdWludCBhbW91bnQ7IC8vIHJlZnVuZCBhbW91bnQKICAgIAogICAgLy8gaWNvIGlzIGZpbmlzaGVkIGFuZCB3YXMgbm90IHN1Y2Nlc3NmdWwKICAgIHJlcXVpcmUoYXROb3coKSA+IERBVEVfSUNPX0VORCAmJiAhaWNvVGhyZXNob2xkUmVhY2hlZCgpKTsKICAgIAogICAgLy8gY2hlY2sgaWYgcmVmdW5kIGhhcyBhbHJlYWR5IGJlZW4gY2xhaW1lZAogICAgcmVxdWlyZSghcmVmdW5kQ2xhaW1lZFttc2cuc2VuZGVyXSk7CiAgICAKICAgIC8vIGNoZWNrIGlmIHRoZXJlIGlzIGFueXRoaW5nIHRvIHJlZnVuZAogICAgcmVxdWlyZShpY29FdGhlckNvbnRyaWJ1dGVkW21zZy5zZW5kZXJdID4gMCk7CiAgICAKICAgIC8vIHVwZGF0ZSB2YXJpYWJsZXMgYWZmZWN0ZWQgYnkgcmVmdW5kCiAgICB0b2tlbnMgPSBpY29Ub2tlbnNSZWNlaXZlZFttc2cuc2VuZGVyXTsKICAgIGFtb3VudCA9IGljb0V0aGVyQ29udHJpYnV0ZWRbbXNnLnNlbmRlcl07CiAgIAogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIodG9rZW5zKTsKICAgIHRva2Vuc0lzc3VlZFRvdGFsID0gdG9rZW5zSXNzdWVkVG90YWwuc3ViKHRva2Vucyk7CiAgICAKICAgIHJlZnVuZENsYWltZWRbbXNnLnNlbmRlcl0gPSB0cnVlOwogICAgCiAgICAvLyB0cmFuc2ZlciBvdXQgcmVmdW5kCiAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGFtb3VudCk7CiAgICAKICAgIC8vIGxvZwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgMHgwLCB0b2tlbnMpOwogICAgUmVmdW5kKG1zZy5zZW5kZXIsIGFtb3VudCwgdG9rZW5zKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyTXVsdGlwbGUoYWRkcmVzc1tdIF9hZGRyZXNzZXMsIHVpbnRbXSBfYW1vdW50cykgZXh0ZXJuYWwgewogICAgcmVxdWlyZShpc1RyYW5zZmVyYWJsZSgpKTsKICAKICAgIHJlcXVpcmUoX2FkZHJlc3Nlcy5sZW5ndGggPT0gX2Ftb3VudHMubGVuZ3RoKTsKICAgIGZvciAodWludCBpID0gMDsgaSA8IF9hZGRyZXNzZXMubGVuZ3RoOyBpKyspIHsKICAgICBzdXBlci50cmFuc2ZlcihfYWRkcmVzc2VzW2ldLCBfYW1vdW50c1tpXSk7CiAgICB9CiAgfSAgCgp9'.
	

]
