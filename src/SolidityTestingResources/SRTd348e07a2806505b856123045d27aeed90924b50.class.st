Class {
	#name : #SRTd348e07a2806505b856123045d27aeed90924b50,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd348e07a2806505b856123045d27aeed90924b50 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQp9CgovKioKICogQHRpdGxlIFBhdXNhYmxlCiAqIEBkZXYgQmFzZSBjb250cmFjdCB3aGljaCBhbGxvd3MgY2hpbGRyZW4gdG8gaW1wbGVtZW50IGFuIGVtZXJnZW5jeSBzdG9wIG1lY2hhbmlzbS4KICovCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgewogIGV2ZW50IFBhdXNlKCk7CiAgZXZlbnQgVW5wYXVzZSgpOwoKICBib29sIHB1YmxpYyBwYXVzZWQgPSBmYWxzZTsKCgogIC8qKgogICAqIEBkZXYgTW9kaWZpZXIgdG8gbWFrZSBhIGZ1bmN0aW9uIGNhbGxhYmxlIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgaXMgbm90IHBhdXNlZC4KICAgKi8KICBtb2RpZmllciB3aGVuTm90UGF1c2VkKCkgewogICAgcmVxdWlyZSghcGF1c2VkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRvIG1ha2UgYSBmdW5jdGlvbiBjYWxsYWJsZSBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IGlzIHBhdXNlZC4KICAgKi8KICBtb2RpZmllciB3aGVuUGF1c2VkKCkgewogICAgcmVxdWlyZShwYXVzZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byBwYXVzZSwgdHJpZ2dlcnMgc3RvcHBlZCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHBhdXNlKCkgb25seU93bmVyIHdoZW5Ob3RQYXVzZWQgcHVibGljIHsKICAgIHBhdXNlZCA9IHRydWU7CiAgICBQYXVzZSgpOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHVucGF1c2UsIHJldHVybnMgdG8gbm9ybWFsIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gdW5wYXVzZSgpIG9ubHlPd25lciB3aGVuUGF1c2VkIHB1YmxpYyB7CiAgICBwYXVzZWQgPSBmYWxzZTsKICAgIFVucGF1c2UoKTsKICB9Cn0KCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9Cgpjb250cmFjdCBGaW5hbGl6YWJsZSBpcyBPd25hYmxlIHsKICBib29sIHB1YmxpYyBjb250cmFjdEZpbmFsaXplZDsKCiAgbW9kaWZpZXIgbm90RmluYWxpemVkKCkgewogICAgcmVxdWlyZSghY29udHJhY3RGaW5hbGl6ZWQpOwogICAgXzsKICB9CgogIGZ1bmN0aW9uIGZpbmFsaXplQ29udHJhY3QoKSBvbmx5T3duZXIgewogICAgY29udHJhY3RGaW5hbGl6ZWQgPSB0cnVlOwogIH0KfQoKY29udHJhY3QgU2hhcmVkIGlzIE93bmFibGUsIEZpbmFsaXphYmxlIHsKICB1aW50IGludGVybmFsIGNvbnN0YW50IERFQ0lNQUxTID0gODsKICAKICBhZGRyZXNzIGludGVybmFsIGNvbnN0YW50IFJFV0FSRFNfV0FMTEVUID0gMHgzMGIwMDJkM0FmQ2I3RjkzODIzOTRmN2M4MDNmYUZCYjUwMDg3MkQ4OwogIGFkZHJlc3MgaW50ZXJuYWwgY29uc3RhbnQgRlJJRU5EU19GQU1JTFlfV0FMTEVUID0gMHhkMzI4ZUY4NzlmNzhjRGE3NzNhM2RGYzc5QjRlNTkwZjIwQzIyMjIzOwogIGFkZHJlc3MgaW50ZXJuYWwgY29uc3RhbnQgQ1JPV0RTQUxFX1dBTExFVCA9IDB4MDI4ZTFDZTY5RTM3OWIxNjc4Mjc4NjQwYzczODdlY2M0MERBYTg5NTsKICBhZGRyZXNzIGludGVybmFsIGNvbnN0YW50IExJRkVfQ0hBTkdFX1dBTExFVCA9IDB4RWU0Mjg0Zjk4RDA1NjhjN2Y2NTY4OGYxOEEyRjc0MzU0RTE3QjMxYTsKICBhZGRyZXNzIGludGVybmFsIGNvbnN0YW50IExJRkVfQ0hBTkdFX1ZFU1RJTkdfV0FMTEVUID0gMHgyRDM1NGJENjc3MDcyMjNDOWFDMDIzMmNkMEU1NGYyMmIwMzQ4M0NmOwp9Cgpjb250cmFjdCBDb250cm9sbGVyIGlzIFNoYXJlZCwgUGF1c2FibGUgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICBib29sIHB1YmxpYyBpbml0aWFsaXplZDsKCiAgQ2hyaXN0Q29pbiBwdWJsaWMgdG9rZW47CiAgTGVkZ2VyIHB1YmxpYyBsZWRnZXI7CiAgYWRkcmVzcyBwdWJsaWMgY3Jvd2RzYWxlOwoKICB1aW50IHB1YmxpYyB2ZXN0aW5nQW1vdW50OwogIHVpbnQgcHVibGljIHZlc3RpbmdQYWlkOwogIHVpbnQgcHVibGljIHZlc3RpbmdTdGFydDsKICB1aW50IHB1YmxpYyB2ZXN0aW5nRHVyYXRpb247CgogIGZ1bmN0aW9uIENvbnRyb2xsZXIoYWRkcmVzcyBfdG9rZW4sIGFkZHJlc3MgX2xlZGdlciwgYWRkcmVzcyBfY3Jvd2RzYWxlKSB7CiAgICB0b2tlbiA9IENocmlzdENvaW4oX3Rva2VuKTsKICAgIGxlZGdlciA9IExlZGdlcihfbGVkZ2VyKTsKICAgIGNyb3dkc2FsZSA9IF9jcm93ZHNhbGU7CiAgfQoKICBmdW5jdGlvbiBzZXRUb2tlbihhZGRyZXNzIF9hZGRyZXNzKSBvbmx5T3duZXIgbm90RmluYWxpemVkIHsKICAgIHRva2VuID0gQ2hyaXN0Q29pbihfYWRkcmVzcyk7CiAgfQoKICBmdW5jdGlvbiBzZXRMZWRnZXIoYWRkcmVzcyBfYWRkcmVzcykgb25seU93bmVyIG5vdEZpbmFsaXplZCB7CiAgICBsZWRnZXIgPSBMZWRnZXIoX2FkZHJlc3MpOwogIH0KCiAgZnVuY3Rpb24gc2V0Q3Jvd2RzYWxlKGFkZHJlc3MgX2FkZHJlc3MpIG9ubHlPd25lciBub3RGaW5hbGl6ZWQgewogICAgY3Jvd2RzYWxlID0gX2FkZHJlc3M7CiAgfQoKICBtb2RpZmllciBvbmx5VG9rZW4oKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gYWRkcmVzcyh0b2tlbikpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIG9ubHlDcm93ZHNhbGUoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gY3Jvd2RzYWxlKTsKICAgIF87CiAgfQoKICBtb2RpZmllciBvbmx5VG9rZW5PckNyb3dkc2FsZSgpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBhZGRyZXNzKHRva2VuKSB8fCBtc2cuc2VuZGVyID09IGNyb3dkc2FsZSk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgbm90VmVzdGluZygpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSBMSUZFX0NIQU5HRV9WRVNUSU5HX1dBTExFVCk7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gaW5pdCgpIG9ubHlPd25lciB7CiAgICByZXF1aXJlKCFpbml0aWFsaXplZCk7CiAgICBtaW50V2l0aEV2ZW50KFJFV0FSRFNfV0FMTEVULCA5ICogKDEwICoqICg5ICsgREVDSU1BTFMpKSk7IC8vIDkgYmlsbGlvbgogICAgbWludFdpdGhFdmVudChGUklFTkRTX0ZBTUlMWV9XQUxMRVQsIDc1ICogKDEwICoqICg2ICsgREVDSU1BTFMpKSk7IC8vIDc1IG1pbGxpb24KICAgIG1pbnRXaXRoRXZlbnQoQ1JPV0RTQUxFX1dBTExFVCwgODI1ICogKDEwICoqICg2ICsgREVDSU1BTFMpKSk7IC8vIDgyNSBtaWxsaW9uCiAgICBtaW50V2l0aEV2ZW50KExJRkVfQ0hBTkdFX1dBTExFVCwgMTAwICogKDEwICoqICg2ICsgREVDSU1BTFMpKSk7IC8vIDEwMCBtaWxsaW9uCiAgICBpbml0aWFsaXplZCA9IHRydWU7CiAgfQoKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIG9ubHlUb2tlbiBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICByZXR1cm4gbGVkZ2VyLnRvdGFsU3VwcGx5KCk7CiAgfQoKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIG9ubHlUb2tlbk9yQ3Jvd2RzYWxlIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgIHJldHVybiBsZWRnZXIuYmFsYW5jZU9mKF9vd25lcik7CiAgfQoKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIG9ubHlUb2tlbiBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICByZXR1cm4gbGVkZ2VyLmFsbG93YW5jZShfb3duZXIsIF9zcGVuZGVyKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seVRva2VuIG5vdFZlc3Rpbmcgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJldHVybiBsZWRnZXIudHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyV2l0aEV2ZW50KGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seUNyb3dkc2FsZSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHN1Y2Nlc3MgPSBsZWRnZXIudHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIGlmIChzdWNjZXNzKSB7CiAgICAgIHRva2VuLmNvbnRyb2xsZXJUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfc3BlbmRlciwgYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5VG9rZW4gbm90VmVzdGluZyB3aGVuTm90UGF1c2VkIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmV0dXJuIGxlZGdlci50cmFuc2ZlckZyb20oX3NwZW5kZXIsIF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgb25seVRva2VuIG5vdFZlc3Rpbmcgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJldHVybiBsZWRnZXIuYXBwcm92ZShfb3duZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gYnVybihhZGRyZXNzIF9vd25lciwgdWludCBfYW1vdW50KSBvbmx5VG9rZW4gd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJldHVybiBsZWRnZXIuYnVybihfb3duZXIsIF9hbW91bnQpOwogIH0KCiAgZnVuY3Rpb24gbWludFdpdGhFdmVudChhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBpbnRlcm5hbCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHN1Y2Nlc3MgPSBsZWRnZXIubWludChfdG8sIF9hbW91bnQpOwogICAgaWYgKHN1Y2Nlc3MpIHsKICAgICAgdG9rZW4uY29udHJvbGxlclRyYW5zZmVyKDB4MCwgX3RvLCBfYW1vdW50KTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHN0YXJ0VmVzdGluZyh1aW50IF9hbW91bnQsIHVpbnQgX2R1cmF0aW9uKSBvbmx5Q3Jvd2RzYWxlIHsKICAgIHJlcXVpcmUodmVzdGluZ0Ftb3VudCA9PSAwKTsKICAgIHZlc3RpbmdBbW91bnQgPSBfYW1vdW50OwogICAgdmVzdGluZ1BhaWQgPSAwOwogICAgdmVzdGluZ1N0YXJ0ID0gbm93OwogICAgdmVzdGluZ0R1cmF0aW9uID0gX2R1cmF0aW9uOwogIH0KCiAgZnVuY3Rpb24gd2l0aGRyYXdWZXN0ZWQoYWRkcmVzcyBfd2l0aGRyYXdUbykgcmV0dXJucyAodWludCBhbW91bnRXaXRoZHJhd24pIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBMSUZFX0NIQU5HRV9WRVNUSU5HX1dBTExFVCk7CiAgICByZXF1aXJlKHZlc3RpbmdBbW91bnQgPiAwKTsKICAgIAogICAgdWludCBfZWxhcHNlZCA9IG5vdy5zdWIodmVzdGluZ1N0YXJ0KTsKICAgIHVpbnQgX3JhdGUgPSB2ZXN0aW5nQW1vdW50LmRpdih2ZXN0aW5nRHVyYXRpb24pOwogICAgdWludCBfdW5sb2NrZWQgPSBfcmF0ZS5tdWwoX2VsYXBzZWQpOwoKICAgIGlmIChfdW5sb2NrZWQgPiB2ZXN0aW5nQW1vdW50KSB7CiAgICAgICBfdW5sb2NrZWQgPSB2ZXN0aW5nQW1vdW50OwogICAgfQoKICAgIGlmIChfdW5sb2NrZWQgPD0gdmVzdGluZ1BhaWQpIHsKICAgICAgYW1vdW50V2l0aGRyYXduID0gMDsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGFtb3VudFdpdGhkcmF3biA9IF91bmxvY2tlZC5zdWIodmVzdGluZ1BhaWQpOwogICAgdmVzdGluZ1BhaWQgPSB2ZXN0aW5nUGFpZC5hZGQoYW1vdW50V2l0aGRyYXduKTsKCiAgICBsZWRnZXIudHJhbnNmZXIoTElGRV9DSEFOR0VfVkVTVElOR19XQUxMRVQsIF93aXRoZHJhd1RvLCBhbW91bnRXaXRoZHJhd24pOwogICAgdG9rZW4uY29udHJvbGxlclRyYW5zZmVyKExJRkVfQ0hBTkdFX1ZFU1RJTkdfV0FMTEVULCBfd2l0aGRyYXdUbywgYW1vdW50V2l0aGRyYXduKTsKICB9Cn0KCmNvbnRyYWN0IExlZGdlciBpcyBTaGFyZWQgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICBhZGRyZXNzIHB1YmxpYyBjb250cm9sbGVyOwogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgYmFsYW5jZU9mOwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgcHVibGljIGFsbG93ZWQ7CiAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7CgogIGZ1bmN0aW9uIHNldENvbnRyb2xsZXIoYWRkcmVzcyBfYWRkcmVzcykgb25seU93bmVyIG5vdEZpbmFsaXplZCB7CiAgICBjb250cm9sbGVyID0gX2FkZHJlc3M7CiAgfQoKICBtb2RpZmllciBvbmx5Q29udHJvbGxlcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBjb250cm9sbGVyKTsKICAgIF87CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlDb250cm9sbGVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgYmFsYW5jZU9mW19mcm9tXSA9IGJhbGFuY2VPZltfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlT2ZbX3RvXSA9IGJhbGFuY2VPZltfdG9dLmFkZChfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfc3BlbmRlciwgYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5Q29udHJvbGxlciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bX3NwZW5kZXJdOwogICAgYmFsYW5jZU9mW190b10gPSBiYWxhbmNlT2ZbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGJhbGFuY2VPZltfZnJvbV0gPSBiYWxhbmNlT2ZbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bX3NwZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIG9ubHlDb250cm9sbGVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmVxdWlyZSgoX3ZhbHVlID09IDApIHx8IChhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdID09IDApKTsKICAgIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgb25seUNvbnRyb2xsZXIgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCiAgZnVuY3Rpb24gYnVybihhZGRyZXNzIF9mcm9tLCB1aW50IF9hbW91bnQpIG9ubHlDb250cm9sbGVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgYmFsYW5jZU9mW19mcm9tXSA9IGJhbGFuY2VPZltfZnJvbV0uc3ViKF9hbW91bnQpOwogICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5zdWIoX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgb25seUNvbnRyb2xsZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBiYWxhbmNlT2ZbX3RvXSArPSBfYW1vdW50OwogICAgdG90YWxTdXBwbHkgKz0gX2Ftb3VudDsKICAgIHJldHVybiB0cnVlOwogIH0KfQoKY29udHJhY3QgQ2hyaXN0Q29pbiBpcyBTaGFyZWQgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICBzdHJpbmcgcHVibGljIG5hbWUgPSAiQ2hyaXN0IENvaW4iOwogIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIkNDTEMiOwogIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDg7CgogIENvbnRyb2xsZXIgcHVibGljIGNvbnRyb2xsZXI7CgogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludCBfdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludCBfdmFsdWUpOwoKICBmdW5jdGlvbiBzZXRDb250cm9sbGVyKGFkZHJlc3MgX2FkZHJlc3MpIG9ubHlPd25lciBub3RGaW5hbGl6ZWQgewogICAgY29udHJvbGxlciA9IENvbnRyb2xsZXIoX2FkZHJlc3MpOwogIH0KCiAgbW9kaWZpZXIgb25seUNvbnRyb2xsZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gYWRkcmVzcyhjb250cm9sbGVyKSk7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICByZXR1cm4gY29udHJvbGxlci5iYWxhbmNlT2YoX293bmVyKTsKICB9CgogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgcmV0dXJuIGNvbnRyb2xsZXIudG90YWxTdXBwbHkoKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBzdWNjZXNzID0gY29udHJvbGxlci50cmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICBpZiAoc3VjY2VzcykgewogICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHN1Y2Nlc3MgPSBjb250cm9sbGVyLnRyYW5zZmVyRnJvbShtc2cuc2VuZGVyLCBfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgaWYgKHN1Y2Nlc3MpIHsKICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgc3VjY2VzcyA9IGNvbnRyb2xsZXIuYXBwcm92ZShtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIGlmIChzdWNjZXNzKSB7CiAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICByZXR1cm4gY29udHJvbGxlci5hbGxvd2FuY2UoX293bmVyLCBfc3BlbmRlcik7CiAgfQoKICBmdW5jdGlvbiBidXJuKHVpbnQgX2Ftb3VudCkgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgc3VjY2VzcyA9IGNvbnRyb2xsZXIuYnVybihtc2cuc2VuZGVyLCBfYW1vdW50KTsKICAgIGlmIChzdWNjZXNzKSB7CiAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIDB4MCwgX2Ftb3VudCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjb250cm9sbGVyVHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5Q29udHJvbGxlciB7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gY29udHJvbGxlckFwcHJvdmFsKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSBvbmx5Q29udHJvbGxlciB7CiAgICBBcHByb3ZhbChfZnJvbSwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgfQp9'.
	

]
