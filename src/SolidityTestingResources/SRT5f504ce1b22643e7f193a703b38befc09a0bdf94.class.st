Class {
	#name : #SRT5f504ce1b22643e7f193a703b38befc09a0bdf94,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5f504ce1b22643e7f193a703b38befc09a0bdf94 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBTYWZlTWF0aCB7CiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBNQVhfVUlOVDI1NiA9CiAgICAweEZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY7CgogICAgZnVuY3Rpb24gc2FmZUFkZCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgaWYgKHggPiBNQVhfVUlOVDI1NiAtIHkpIHRocm93OwogICAgICAgIHJldHVybiB4ICsgeTsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICBpZiAoeCA8IHkpIHRocm93OwogICAgICAgIHJldHVybiB4IC0geTsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlTXVsKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICBpZiAoeSA9PSAwKSByZXR1cm4gMDsKICAgICAgICBpZiAoeCA+IE1BWF9VSU5UMjU2IC8geSkgdGhyb3c7CiAgICAgICAgcmV0dXJuIHggKiB5OwogICAgfQp9Cgpjb250cmFjdCBFUkMyMjNSZWNlaXZpbmdDb250cmFjdCB7CgogICAgc3RydWN0IGluciB7CiAgICAgICAgYWRkcmVzcyBzZW5kZXI7CiAgICAgICAgdWludCB2YWx1ZTsKICAgICAgICBieXRlcyBkYXRhOwogICAgICAgIGJ5dGVzNCBzaWc7CiAgICB9CgogICAgICBmdW5jdGlvbiB0b2tlbkZhbGxiYWNrKGFkZHJlc3MgX2Zyb20sIHVpbnQgX3ZhbHVlLCBieXRlcyBfZGF0YSl7CiAgICAgIGluciBtZW1vcnkgaWduaXRlcjsKICAgICAgaWduaXRlci5zZW5kZXIgPSBfZnJvbTsKICAgICAgaWduaXRlci52YWx1ZSA9IF92YWx1ZTsKICAgICAgaWduaXRlci5kYXRhID0gX2RhdGE7CiAgICAgIHVpbnQzMiB1ID0gdWludDMyKF9kYXRhWzNdKSArICh1aW50MzIoX2RhdGFbMl0pIDw8IDgpICsgKHVpbnQzMihfZGF0YVsxXSkgPDwgMTYpICsgKHVpbnQzMihfZGF0YVswXSkgPDwgMjQpOwogICAgICBpZ25pdGVyLnNpZyA9IGJ5dGVzNCh1KTsKCiAgICB9Cn0KCmNvbnRyYWN0IGlHbml0ZXIgaXMgU2FmZU1hdGggewoKICBzdHJ1Y3Qgc2VyUGF5bWVudCB7CiAgICB1aW50IHVubG9ja2VkVGltZTsKICAgIHVpbnQyNTYgdW5sb2NrZWRCbG9ja051bWJlcjsKICB9CgogICAgc3RyaW5nIHB1YmxpYyBuYW1lOwogICAgYnl0ZXMzMiBwdWJsaWMgc3ltYm9sOwogICAgdWludDggcHVibGljIGRlY2ltYWxzOwogICAgdWludDI1NiBwdWJsaWMgcmV3YXJkUGVyQmxvY2tQZXJBZGRyZXNzOwogICAgdWludDI1NiBwdWJsaWMgdG90YWxJbml0aWFsQWRkcmVzc2VzOwogICAgdWludDI1NiBwdWJsaWMgaW5pdGlhbEJsb2NrQ291bnQ7CiAgICB1aW50MjU2IHByaXZhdGUgbWluZWRCbG9ja3M7CiAgICB1aW50MjU2IHByaXZhdGUgaUduaXRpbmc7CiAgICB1aW50MjU2IHByaXZhdGUgaW5pdGlhbFN1cHBseVBlckFkZHJlc3M7CiAgICB1aW50MjU2IHByaXZhdGUgdG90YWxNYXhBdmFpbGFibGVBbW91bnQ7CiAgICB1aW50MjU2IHByaXZhdGUgYXZhaWxhYmxlQW1vdW50OwogICAgdWludDI1NiBwcml2YXRlIGF2YWlsYWJsZUJhbGFuY2U7CiAgICB1aW50MjU2IHByaXZhdGUgYmFsYW5jZU9mQWRkcmVzczsKICAgIHVpbnQyNTYgcHJpdmF0ZSBpbml0aWFsU3VwcGx5OwogICAgdWludDI1NiBwcml2YXRlIF90b3RhbFN1cHBseTsKICAgIHVpbnQyNTYgcHVibGljIGN1cnJlbnRDb3N0OwogICAgdWludDI1NiBwcml2YXRlIHN0YXJ0Qm91bnR5OwogICAgdWludDI1NiBwcml2YXRlIGZpbmlzaEJvdW50eTsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VPZjsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBiYWxhbmNlczsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgaW5pdGlhbEFkZHJlc3M7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGJvdW50eUFkZHJlc3M7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIGludGVybmFsIF9hbGxvd2FuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBzZXJQYXltZW50KSBpZ25QYXltZW50czsKICAgIGFkZHJlc3MgcHJpdmF0ZSBfb3duZXI7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSwgYnl0ZXMgaW5kZXhlZCBkYXRhKTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKTsKCiAgICBtb2RpZmllciBpc093bmVyKCkgewoKICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IF9vd25lcik7CiAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gaUduaXRlcigpIHsKCiAgICAgICAgaW5pdGlhbFN1cHBseVBlckFkZHJlc3MgPSAxMDAwMDAwMDAwMDsgLy8xMDAwMAogICAgICAgIGluaXRpYWxCbG9ja0NvdW50ID0gNDkxMjE1MDsKICAgICAgICByZXdhcmRQZXJCbG9ja1BlckFkZHJlc3MgPSA3OwogICAgICAgIHRvdGFsSW5pdGlhbEFkZHJlc3NlcyA9IDUwMDA7CiAgICAgICAgaW5pdGlhbFN1cHBseSA9IGluaXRpYWxTdXBwbHlQZXJBZGRyZXNzICogdG90YWxJbml0aWFsQWRkcmVzc2VzOwogICAgICAgX293bmVyID0gbXNnLnNlbmRlcjsKCiAgICB9CgogICAgZnVuY3Rpb24gY3VycmVudEJsb2NrKCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBibG9ja051bWJlcikKICAgIHsKICAgICAgICByZXR1cm4gYmxvY2subnVtYmVyOwogICAgfQoKICAgIGZ1bmN0aW9uIGJsb2NrRGlmZigpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmxvY2tOdW1iZXIpCiAgICB7CiAgICAgICAgcmV0dXJuIGJsb2NrLm51bWJlciAtIGluaXRpYWxCbG9ja0NvdW50OwogICAgfQoKICAgIGZ1bmN0aW9uIGFzc2lnbkluaXRpYWxBZGRyZXNzZXMoYWRkcmVzc1tdIF9hZGRyZXNzKSBpc093bmVyIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpCiAgICB7CiAgICAgICAgaWYgKGJsb2NrLm51bWJlciA8PSA2OTY5MDUwKQogICAgICAgIHsKICAgICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IF9hZGRyZXNzLmxlbmd0aDsgaSsrKQogICAgICAgICAgewogICAgICAgICAgICBiYWxhbmNlT2ZbX2FkZHJlc3NbaV1dID0gaW5pdGlhbFN1cHBseVBlckFkZHJlc3M7CiAgICAgICAgICAgIGluaXRpYWxBZGRyZXNzW19hZGRyZXNzW2ldXSA9IHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhc3NpZ25Cb3VudHlBZGRyZXNzZXMoYWRkcmVzc1tdIF9hZGRyZXNzKSBpc093bmVyIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpCiAgICB7CiAgICAgIHN0YXJ0Qm91bnR5ID0gMjUwMDAwMDAwMDsKCiAgICAgICAgaWYgKGJsb2NrLm51bWJlciA8PSA2OTY5MDUwKQogICAgICAgIHsKICAgICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IF9hZGRyZXNzLmxlbmd0aDsgaSsrKQogICAgICAgICAgewogICAgICAgICAgICBiYWxhbmNlT2ZbX2FkZHJlc3NbaV1dID0gc3RhcnRCb3VudHk7CiAgICAgICAgICAgIGluaXRpYWxBZGRyZXNzW19hZGRyZXNzW2ldXSA9IHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbiBjb21wbGV0ZUJvdW50eUFkZHJlc3NlcyhhZGRyZXNzW10gX2FkZHJlc3MpIGlzT3duZXIgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykKICAgIHsKICAgICAgZmluaXNoQm91bnR5ID0gNzUwMDAwMDAwMDsKCiAgICAgICAgaWYgKGJsb2NrLm51bWJlciA8PSA2OTY5MDUwKQogICAgICAgIHsKICAgICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IF9hZGRyZXNzLmxlbmd0aDsgaSsrKQogICAgICAgICAgewogICAgICAgICAgICBiYWxhbmNlT2ZbX2FkZHJlc3NbaV1dID0gYmFsYW5jZU9mW19hZGRyZXNzW2ldXSArIGZpbmlzaEJvdW50eTsKICAgICAgICAgICAgaW5pdGlhbEFkZHJlc3NbX2FkZHJlc3NbaV1dID0gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9hZGRyZXNzKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IEJhbGFuY2UpCiAgICB7CiAgICAgICAgaWYgKChpbml0aWFsQWRkcmVzc1tfYWRkcmVzc10pKSB7CiAgICAgICAgICAgIG1pbmVkQmxvY2tzID0gYmxvY2subnVtYmVyIC0gaW5pdGlhbEJsb2NrQ291bnQ7CgogICAgICAgICAgICBpZiAobWluZWRCbG9ja3MgPj0gMTA1MTIwMDAwKSByZXR1cm4gYmFsYW5jZU9mW19hZGRyZXNzXTsgLy9hcHAuIDIwNTgKCiAgICAgICAgICAgIGF2YWlsYWJsZUFtb3VudCA9IHJld2FyZFBlckJsb2NrUGVyQWRkcmVzcyAqIG1pbmVkQmxvY2tzOwogICAgICAgICAgICBhdmFpbGFibGVCYWxhbmNlID0gYmFsYW5jZU9mW19hZGRyZXNzXSArIGF2YWlsYWJsZUFtb3VudDsKCiAgICAgICAgICAgIHJldHVybiBhdmFpbGFibGVCYWxhbmNlOwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiBiYWxhbmNlT2ZbX2FkZHJlc3NdOwogICAgfQoKICAgIGZ1bmN0aW9uIG5hbWUoKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcgX25hbWUpCiAgICB7CiAgICAgICAgbmFtZSA9ICJpR25pdGVyIjsKICAgICAgICByZXR1cm4gbmFtZTsKICAgIH0KCiAgICBmdW5jdGlvbiBzeW1ib2woKSBjb25zdGFudCByZXR1cm5zIChieXRlczMyIF9zeW1ib2wpCiAgICB7CiAgICAgICAgc3ltYm9sID0gIklOUiI7CiAgICAgICAgcmV0dXJuIHN5bWJvbDsKICAgIH0KCiAgICBmdW5jdGlvbiBkZWNpbWFscygpIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4IF9kZWNpbWFscykKICAgIHsKICAgICAgICBkZWNpbWFscyA9IDY7CiAgICAgICAgcmV0dXJuIGRlY2ltYWxzOwogICAgfQoKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB0b3RhbFN1cHBseSkKICAgIHsKICAgICAgICBtaW5lZEJsb2NrcyA9IGJsb2NrLm51bWJlciAtIGluaXRpYWxCbG9ja0NvdW50OwogICAgICAgIGF2YWlsYWJsZUFtb3VudCA9IHJld2FyZFBlckJsb2NrUGVyQWRkcmVzcyAqIG1pbmVkQmxvY2tzOwogICAgICAgIGlHbml0aW5nID0gYXZhaWxhYmxlQW1vdW50ICogdG90YWxJbml0aWFsQWRkcmVzc2VzOwogICAgICAgIHJldHVybiBpR25pdGluZyArIGluaXRpYWxTdXBwbHk7CiAgICB9CgogICAgZnVuY3Rpb24gbWluZWRUb3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgbWluZWRCbG9ja3MpCiAgICB7CiAgICAgICAgbWluZWRCbG9ja3MgPSBibG9jay5udW1iZXIgLSBpbml0aWFsQmxvY2tDb3VudDsKICAgICAgICBhdmFpbGFibGVBbW91bnQgPSByZXdhcmRQZXJCbG9ja1BlckFkZHJlc3MgKiBtaW5lZEJsb2NrczsKICAgICAgICByZXR1cm4gYXZhaWxhYmxlQW1vdW50ICogdG90YWxJbml0aWFsQWRkcmVzc2VzOwogICAgfQoKICAgIGZ1bmN0aW9uIGluaXRpYWxpR25TdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IG1heFN1cHBseSkKICAgIHsKICAgICAgICByZXR1cm4gaW5pdGlhbFN1cHBseVBlckFkZHJlc3MgKiB0b3RhbEluaXRpYWxBZGRyZXNzZXM7CiAgICB9CgoKICAgIC8vYnVybiB0b2tlbnMKICAgIGZ1bmN0aW9uIGJ1cm4odWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zKGJvb2wgc3VjY2VzcykgewoKICAgICAgICAvL2dldCBzdW0KICAgICAgICBtaW5lZEJsb2NrcyA9IGJsb2NrLm51bWJlciAtIGluaXRpYWxCbG9ja0NvdW50OwogICAgICAgIGF2YWlsYWJsZUFtb3VudCA9IHJld2FyZFBlckJsb2NrUGVyQWRkcmVzcyAqIG1pbmVkQmxvY2tzOwogICAgICAgIGlHbml0aW5nID0gYXZhaWxhYmxlQW1vdW50ICogdG90YWxJbml0aWFsQWRkcmVzc2VzOwogICAgICAgIF90b3RhbFN1cHBseSA9IGlHbml0aW5nICsgaW5pdGlhbFN1cHBseTsKCiAgICAgICAgLy9idXJuIHRpbWUKICAgICAgICByZXF1aXJlKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA+PSBfdmFsdWUpOwogICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgX3RvdGFsU3VwcGx5IC09IF92YWx1ZTsKICAgICAgICBCdXJuKG1zZy5zZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGlmIChfdmFsdWUgPiAwICYmIF92YWx1ZSA8PSBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gJiYgIWlzQ29udHJhY3QoX3RvKSkgewogICAgICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlT2ZbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUsIGJ5dGVzIF9kYXRhKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGlmIChfdmFsdWUgPiAwICYmIF92YWx1ZSA8PSBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gJiYgaXNDb250cmFjdChfdG8pKSB7CiAgICAgICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VPZltfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgRVJDMjIzUmVjZWl2aW5nQ29udHJhY3QgX2NvbnRyYWN0ID0gRVJDMjIzUmVjZWl2aW5nQ29udHJhY3QoX3RvKTsKICAgICAgICAgICAgICAgIF9jb250cmFjdC50b2tlbkZhbGxiYWNrKG1zZy5zZW5kZXIsIF92YWx1ZSwgX2RhdGEpOwogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSwgX2RhdGEpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzQ29udHJhY3QoYWRkcmVzcyBfYWRkcikgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHVpbnQgY29kZVNpemU7CiAgICAgICAgYXNzZW1ibHkgewogICAgICAgICAgICBjb2RlU2l6ZSA6PSBleHRjb2Rlc2l6ZShfYWRkcikKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGNvZGVTaXplID4gMDsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGlmIChfYWxsb3dhbmNlc1tfZnJvbV1bbXNnLnNlbmRlcl0gPiAwICYmIF92YWx1ZSA+IDAgJiYgX2FsbG93YW5jZXNbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJgogICAgICAgICAgICBiYWxhbmNlT2ZbX2Zyb21dID49IF92YWx1ZSkgewogICAgICAgICAgICBiYWxhbmNlT2ZbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZU9mW190b10gKz0gX3ZhbHVlOwogICAgICAgICAgICBfYWxsb3dhbmNlc1tfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgX2FsbG93YW5jZXNbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gX2FsbG93YW5jZXNbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgZnVuY3Rpb24gc2VydmljZVBheW1lbnQoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCwgdWludDI1NiwgdWludDI1NikgewoKICAgICAgcmVxdWlyZShfdmFsdWUgPj0gY3VycmVudENvc3QpOwoKICAgICAgaWYgKF92YWx1ZSA+IDAgJiYgX3ZhbHVlIDw9IGJhbGFuY2VPZlttc2cuc2VuZGVyXSAmJiAhaXNDb250cmFjdChfdG8pKSB7CiAgICAgICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VPZltfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwoKICAgICAgICAgICAgLy9laXRoZXIgb3B0aW9uIGF2YWlsYWJsZQogICAgICAgICAgICBpZ25QYXltZW50c1ttc2cuc2VuZGVyXS51bmxvY2tlZFRpbWUgPSBibG9jay50aW1lc3RhbXA7CiAgICAgICAgICAgIGlnblBheW1lbnRzW21zZy5zZW5kZXJdLnVubG9ja2VkQmxvY2tOdW1iZXIgPSBibG9jay5udW1iZXI7CgogICAgICAgICAgICByZXR1cm4gKHRydWUsIGlnblBheW1lbnRzW21zZy5zZW5kZXJdLnVubG9ja2VkVGltZSwgaWduUGF5bWVudHNbbXNnLnNlbmRlcl0udW5sb2NrZWRCbG9ja051bWJlcik7CiAgICAgICAgfQogICAgICAgIHJldHVybiAoZmFsc2UsIGlnblBheW1lbnRzW21zZy5zZW5kZXJdLnVubG9ja2VkVGltZSwgaWduUGF5bWVudHNbbXNnLnNlbmRlcl0udW5sb2NrZWRCbG9ja051bWJlcik7CiAgICB9CgogICAgZnVuY3Rpb24gc2VydmljZUJ1cm4odWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sLCB1aW50MjU2LCB1aW50MjU2KSB7CgogICAgICByZXF1aXJlKF92YWx1ZSA+PSBjdXJyZW50Q29zdCk7CiAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW21zZy5zZW5kZXJdID49IF92YWx1ZSk7CgogICAgICAvL2dldCBzdW0KICAgICAgbWluZWRCbG9ja3MgPSBibG9jay5udW1iZXIgLSBpbml0aWFsQmxvY2tDb3VudDsKICAgICAgYXZhaWxhYmxlQW1vdW50ID0gcmV3YXJkUGVyQmxvY2tQZXJBZGRyZXNzICogbWluZWRCbG9ja3M7CiAgICAgIGlHbml0aW5nID0gYXZhaWxhYmxlQW1vdW50ICogdG90YWxJbml0aWFsQWRkcmVzc2VzOwogICAgICBfdG90YWxTdXBwbHkgPSBpR25pdGluZyArIGluaXRpYWxTdXBwbHk7CgogICAgICAvL2VpdGhlciBvcHRpb24gYXZhaWxhYmxlCiAgICAgIGlnblBheW1lbnRzW21zZy5zZW5kZXJdLnVubG9ja2VkVGltZSA9IGJsb2NrLnRpbWVzdGFtcDsKICAgICAgaWduUGF5bWVudHNbbXNnLnNlbmRlcl0udW5sb2NrZWRCbG9ja051bWJlciA9IGJsb2NrLm51bWJlcjsKCiAgICAgIC8vYnVybgogICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICBfdG90YWxTdXBwbHkgLT0gX3ZhbHVlOwogICAgICBCdXJuKG1zZy5zZW5kZXIsIF92YWx1ZSk7CiAgICAgIHJldHVybiAodHJ1ZSwgaWduUGF5bWVudHNbbXNnLnNlbmRlcl0udW5sb2NrZWRUaW1lLCBpZ25QYXltZW50c1ttc2cuc2VuZGVyXS51bmxvY2tlZEJsb2NrTnVtYmVyKTsKICAgICAgfQoKICAgIGZ1bmN0aW9uIFBheW1lbnRTdGF0dXNCbG9ja051bShhZGRyZXNzIF9hZGRyZXNzKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJuKSB7CgogICAgICByZXR1cm4gaWduUGF5bWVudHNbX2FkZHJlc3NdLnVubG9ja2VkQmxvY2tOdW1iZXI7CiAgICB9CgogICAgZnVuY3Rpb24gUGF5bWVudFN0YXR1c1RpbWVTdGFtcChhZGRyZXNzIF9hZGRyZXNzKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHV0KSB7CgogICAgICByZXR1cm4gaWduUGF5bWVudHNbX2FkZHJlc3NdLnVubG9ja2VkVGltZTsKICAgIH0KCiAgICBmdW5jdGlvbiB1cGRhdGVDb3N0KHVpbnQyNTYgX2N1cnJDb3N0KSBpc093bmVyIHB1YmxpYyByZXR1cm5zICh1aW50MjU2IGN1cnJDb3N0KSB7CgogICAgICBjdXJyZW50Q29zdCA9IF9jdXJyQ29zdDsKCiAgICAgIHJldHVybiBjdXJyZW50Q29zdDsKICAgIH0KfQ=='.
	

]
