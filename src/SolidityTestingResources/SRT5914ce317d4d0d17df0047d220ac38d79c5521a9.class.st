Class {
	#name : #SRT5914ce317d4d0d17df0047d220ac38d79c5521a9,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5914ce317d4d0d17df0047d220ac38d79c5521a9 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgIGlmIChuZXdPd25lciAhPSBhZGRyZXNzKDApKSB7CiAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9CiAgfQoKfQoKCi8qKgogKiBAdGl0bGUgUGF1c2FibGUKICogQGRldiBCYXNlIGNvbnRyYWN0IHdoaWNoIGFsbG93cyBjaGlsZHJlbiB0byBpbXBsZW1lbnQgYW4gZW1lcmdlbmN5IHN0b3AgbWVjaGFuaXNtLgogKi8KY29udHJhY3QgUGF1c2FibGUgaXMgT3duYWJsZSB7CiAgZXZlbnQgUGF1c2UoKTsKICBldmVudCBVbnBhdXNlKCk7CgogIGJvb2wgcHVibGljIHBhdXNlZCA9IGZhbHNlOwoKCiAgLyoqCiAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgcGF1c2VkCiAgICovCiAgbW9kaWZpZXIgd2hlbk5vdFBhdXNlZCgpIHsKICAgIHJlcXVpcmUoIXBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgTk9UIHBhdXNlZAogICAqLwogIG1vZGlmaWVyIHdoZW5QYXVzZWQgewogICAgcmVxdWlyZShwYXVzZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byBwYXVzZSwgdHJpZ2dlcnMgc3RvcHBlZCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHBhdXNlKCkgb25seU93bmVyIHdoZW5Ob3RQYXVzZWQgcmV0dXJucyAoYm9vbCkgewogICAgcGF1c2VkID0gdHJ1ZTsKICAgIFBhdXNlKCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byB1bnBhdXNlLCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHVucGF1c2UoKSBvbmx5T3duZXIgd2hlblBhdXNlZCByZXR1cm5zIChib29sKSB7CiAgICBwYXVzZWQgPSBmYWxzZTsKICAgIFVucGF1c2UoKTsKICAgIHJldHVybiB0cnVlOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgoKCgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAvLyByZXF1aXJlIChfdmFsdWUgPD0gX2FsbG93YW5jZSk7CgogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKCiAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICByZXF1aXJlKChfdmFsdWUgPT0gMCkgfHwgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKCiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9Cgp9CgoKLyoqCiAqIEB0aXRsZSBNaW50YWJsZSB0b2tlbgogKiBAZGV2IFNpbXBsZSBFUkMyMCBUb2tlbiBleGFtcGxlLCB3aXRoIG1pbnRhYmxlIHRva2VuIGNyZWF0aW9uCiAqIEBkZXYgSXNzdWU6ICogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9pc3N1ZXMvMTIwCiAqIEJhc2VkIG9uIGNvZGUgYnkgVG9rZW5NYXJrZXROZXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9Ub2tlbk1hcmtldE5ldC9pY28vYmxvYi9tYXN0ZXIvY29udHJhY3RzL01pbnRhYmxlVG9rZW4uc29sCiAqLwoKY29udHJhY3QgTWludGFibGVUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwogIGV2ZW50IE1pbnRGaW5pc2hlZCgpOwoKICBib29sIHB1YmxpYyBtaW50aW5nRmluaXNoZWQgPSBmYWxzZTsKCgogIG1vZGlmaWVyIGNhbk1pbnQoKSB7CiAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gbWludCB0b2tlbnMKICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRoYXQgd2lsbCByZWNpZXZlIHRoZSBtaW50ZWQgdG9rZW5zLgogICAqIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIG1pbnQuCiAgICogQHJldHVybiBBIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgKi8KICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciBjYW5NaW50IHJldHVybnMgKGJvb2wpIHsKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9hbW91bnQpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgVHJhbnNmZXIoMFgwLCBfdG8sIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIHN0b3AgbWludGluZyBuZXcgdG9rZW5zLgogICAqIEByZXR1cm4gVHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICAqLwogIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcoKSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCkgewogICAgbWludGluZ0ZpbmlzaGVkID0gdHJ1ZTsKICAgIE1pbnRGaW5pc2hlZCgpOwogICAgcmV0dXJuIHRydWU7CiAgfQp9CgoKCmNvbnRyYWN0IEh5ZHJvQ29pbiBpcyBNaW50YWJsZVRva2VuLCBQYXVzYWJsZSB7CiAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIkgyTyBUb2tlbiI7CiAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiSDJPIjsKICB1aW50MjU2IHB1YmxpYyBkZWNpbWFscyA9IDE4OwoKICAvLy0tLS0tIHNwbGl0dGVyIGZ1bmN0aW9ucwoKCiAgICBldmVudCBFdihzdHJpbmcgbWVzc2FnZSwgYWRkcmVzcyB3aG9tLCB1aW50MjU2IHZhbCk7CgogICAgc3RydWN0IFhSZWMgewogICAgICAgIGJvb2wgaW5MaXN0OwogICAgICAgIGFkZHJlc3MgbmV4dDsKICAgICAgICBhZGRyZXNzIHByZXY7CiAgICAgICAgdWludDI1NiB2YWw7CiAgICB9CgogICAgc3RydWN0IFF1ZXVlUmVjb3JkIHsKICAgICAgICBhZGRyZXNzIHdob207CiAgICAgICAgdWludDI1NiB2YWw7CiAgICB9CgogICAgYWRkcmVzcyBwdWJsaWMgZmlyc3QgPSAweDA7CiAgICBhZGRyZXNzIHB1YmxpYyBsYXN0ID0gMHgwOwogICAgYm9vbCAgICBwdWJsaWMgcXVldWVNb2RlOwogICAgdWludDI1NiBwdWJsaWMgcG9zOwoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gWFJlYykgcHVibGljIHRoZUxpc3Q7CgogICAgUXVldWVSZWNvcmRbXSAgdGhlUXVldWU7CgogICAgZnVuY3Rpb24gc3RhcnRRdWV1ZWluZygpIG9ubHlPd25lciB7CiAgICAgICAgcXVldWVNb2RlID0gdHJ1ZTsKICAgICAgICBwb3MgPSAwOwogICAgfQoKICAgIGZ1bmN0aW9uIHN0b3BRdWV1ZWluZyh1aW50MjU2IG51bSkgb25seU93bmVyIHsKICAgICAgICBxdWV1ZU1vZGUgPSBmYWxzZTsKICAgICAgICBmb3IgKHVpbnQyNTYgaSA9IDA7IGkgPCBudW07IGkrKykgewogICAgICAgICAgICBpZiAocG9zID49IHRoZVF1ZXVlLmxlbmd0aCkgewogICAgICAgICAgICAgICAgZGVsZXRlIHRoZVF1ZXVlOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHVwZGF0ZSh0aGVRdWV1ZVtwb3NdLndob20sdGhlUXVldWVbcG9zXS52YWwpOwogICAgICAgICAgICBwb3MrKzsKICAgICAgICB9CiAgICAgICAgcXVldWVNb2RlID0gdHJ1ZTsKICAgIH0gCgogICBmdW5jdGlvbiBxdWV1ZUxlbmd0aCgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gdGhlUXVldWUubGVuZ3RoOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZFJlY1RvUXVldWUoYWRkcmVzcyB3aG9tLCB1aW50MjU2IHZhbCkgaW50ZXJuYWwgewogICAgICAgIHRoZVF1ZXVlLnB1c2goUXVldWVSZWNvcmQod2hvbSx2YWwpKTsKICAgIH0KCiAgICAvLyBhZGQgYSByZWNvcmQgdG8gdGhlIEVORCBvZiB0aGUgbGlzdAogICAgZnVuY3Rpb24gYWRkKGFkZHJlc3Mgd2hvbSwgdWludDI1NiB2YWx1ZSkgaW50ZXJuYWwgewogICAgICAgIHRoZUxpc3Rbd2hvbV0gPSBYUmVjKHRydWUsMHgwLGxhc3QsdmFsdWUpOwogICAgICAgIGlmIChsYXN0ICE9IDB4MCkgewogICAgICAgICAgICB0aGVMaXN0W2xhc3RdLm5leHQgPSB3aG9tOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZpcnN0ID0gd2hvbTsKICAgICAgICB9CiAgICAgICAgbGFzdCA9IHdob207CiAgICAgICAgRXYoImFkZCIsd2hvbSx2YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlKGFkZHJlc3Mgd2hvbSkgaW50ZXJuYWwgewogICAgICAgIGlmIChmaXJzdCA9PSB3aG9tKSB7CiAgICAgICAgICAgIGZpcnN0ID0gdGhlTGlzdFt3aG9tXS5uZXh0OwogICAgICAgICAgICB0aGVMaXN0W3dob21dID0gWFJlYyhmYWxzZSwweDAsMHgwLDApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGFkZHJlc3MgbmV4dCA9IHRoZUxpc3Rbd2hvbV0ubmV4dDsKICAgICAgICBhZGRyZXNzIHByZXYgPSB0aGVMaXN0W3dob21dLnByZXY7CiAgICAgICAgaWYgKHByZXYgIT0gMHgwKSB7CiAgICAgICAgICAgIHRoZUxpc3RbcHJldl0ubmV4dCA9IG5leHQ7CiAgICAgICAgfQogICAgICAgIGlmIChuZXh0ICE9IDB4MCkgewogICAgICAgICAgICB0aGVMaXN0W25leHRdLnByZXYgPSBwcmV2OwogICAgICAgIH0KICAgICAgICB0aGVMaXN0W3dob21dID1YUmVjKGZhbHNlLDB4MCwweDAsMCk7CiAgICAgICAgRXYoInJlbW92ZSIsd2hvbSwwKTsKICAgIH0KCiAgICBmdW5jdGlvbiB1cGRhdGUoYWRkcmVzcyB3aG9tLCB1aW50MjU2IHZhbHVlKSBpbnRlcm5hbCB7CiAgICAgICAgaWYgKHF1ZXVlTW9kZSkgewogICAgICAgICAgICBhZGRSZWNUb1F1ZXVlKHdob20sdmFsdWUpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmICh2YWx1ZSAhPSAwKSB7CiAgICAgICAgICAgIGlmICghdGhlTGlzdFt3aG9tXS5pbkxpc3QpIHsKICAgICAgICAgICAgICAgIGFkZCh3aG9tLHZhbHVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoZUxpc3Rbd2hvbV0udmFsID0gdmFsdWU7CiAgICAgICAgICAgICAgICBFdigidXBkYXRlIix3aG9tLHZhbHVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmICh0aGVMaXN0W3dob21dLmluTGlzdCkgewogICAgICAgICAgICAgICAgcmVtb3ZlKHdob20pOwogICAgICAgIH0KICAgIH0KCgoKCi8vIC0tLS0tIEgyMCBzdHVmZiAtLS0tLQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgYW55b25lIHRvIHRyYW5zZmVyIHRoZSBIMjAgdG9rZW5zIG9uY2UgdHJhZGluZyBoYXMgc3RhcnRlZAogICAqIEBwYXJhbSBfdG8gdGhlIHJlY2lwaWVudCBhZGRyZXNzIG9mIHRoZSB0b2tlbnMuCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQuCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSB3aGVuTm90UGF1c2VkIHJldHVybnMgKGJvb2wpIHsKICAgICAgYm9vbCByZXN1bHQgPSBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgICAgIHVwZGF0ZShtc2cuc2VuZGVyLGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKICAgICAgdXBkYXRlKF90byxiYWxhbmNlc1tfdG9dKTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIGFueW9uZSB0byB0cmFuc2ZlciB0aGUgSDIwIHRva2VucyBvbmNlIHRyYWRpbmcgaGFzIHN0YXJ0ZWQKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHdoZW5Ob3RQYXVzZWQgcmV0dXJucyAoYm9vbCkgewogICAgICBib29sIHJlc3VsdCA9IHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICB1cGRhdGUoX2Zyb20sYmFsYW5jZXNbX2Zyb21dKTsKICAgICAgdXBkYXRlKF90byxiYWxhbmNlc1tfdG9dKTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICB9CgogLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBtaW50IHRva2VucwogICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdGhhdCB3aWxsIHJlY2lldmUgdGhlIG1pbnRlZCB0b2tlbnMuCiAgICogQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gbWludC4KICAgKiBAcmV0dXJuIEEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICAqLwogCiAgZnVuY3Rpb24gbWludChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBvbmx5T3duZXIgY2FuTWludCByZXR1cm5zIChib29sKSB7CiAgICAgIGJvb2wgcmVzdWx0ID0gc3VwZXIubWludChfdG8sX2Ftb3VudCk7CiAgICAgIHVwZGF0ZShfdG8sYmFsYW5jZXNbX3RvXSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgfQoKICBmdW5jdGlvbiBlbWVyZ2VuY3lFUkMyMERyYWluKCBFUkMyMCB0b2tlbiwgdWludCBhbW91bnQgKSB7CiAgICAgIHRva2VuLnRyYW5zZmVyKG93bmVyLCBhbW91bnQpOwogIH0KIAp9CgoKY29udHJhY3QgSHlkcm9Db2luUHJlc2FsZSBpcyBPd25hYmxlLFBhdXNhYmxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgLy8gVGhlIHRva2VuIGJlaW5nIHNvbGQKICBIeWRyb0NvaW4gcHVibGljIHRva2VuOwoKICAvLyBzdGFydCBhbmQgZW5kIGJsb2NrIHdoZXJlIGludmVzdG1lbnRzIGFyZSBhbGxvd2VkIChib3RoIGluY2x1c2l2ZSkKICB1aW50MjU2IHB1YmxpYyBzdGFydFRpbWVzdGFtcDsgCiAgdWludDI1NiBwdWJsaWMgZW5kVGltZXN0YW1wOwoKICAvLyBhZGRyZXNzIHdoZXJlIGZ1bmRzIGFyZSBjb2xsZWN0ZWQKICBhZGRyZXNzIHB1YmxpYyBoYXJkd2FyZVdhbGxldCA9IDB4YTYxMjhDQTJlRDk0RkI2OTdkNzA1OGRDM0ZkMjI3NDBGODJGRjA2QTsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgZGVwb3NpdHM7CgogIC8vIGhvdyBtYW55IHRva2VuIHVuaXRzIGEgYnV5ZXIgZ2V0cyBwZXIgd2VpCiAgdWludDI1NiBwdWJsaWMgcmF0ZSA9IDEyNTsKCiAgLy8gYW1vdW50IG9mIHJhaXNlZCBtb25leSBpbiB3ZWkKICB1aW50MjU2IHB1YmxpYyB3ZWlSYWlzZWQ7CgogIC8vIG1pbmltdW0gY29udHJpYnV0aW8gdG8gcGFydGljaXBhdGUgaW4gdG9rZW5zYWxlCiAgdWludDI1NiBwdWJsaWMgbWluQ29udHJpYnV0aW9uICA9IDUwIGV0aGVyOwoKICAvLyBtYXhpbXVtIGFtb3VudCBvZiBldGhlciBiZWluZyByYWlzZWQKICB1aW50MjU2IHB1YmxpYyBoYXJkY2FwICA9IDE1MDAgZXRoZXI7IAoKICAvLyBhbW91bnQgdG8gYWxsb2NhdGUgdG8gdmVuZG9ycwogIHVpbnQyNTYgcHVibGljIHZlbmRvckFsbG9jYXRpb24gID0gMTAwMDAwMCAqIDEwICoqIDE4OyAvLyBIMjAKCiAgLy8gbnVtYmVyIG9mIHBhcnRpY2lwYW50cyBpbiBwcmVzYWxlCiAgdWludDI1NiBwdWJsaWMgbnVtYmVyT2ZQdXJjaGFzZXJzID0gMDsKCiAgYWRkcmVzcyBwdWJsaWMgY29tcGFueVRva2VucyA9IDB4RjFENTAwN2QzODg0QjhFYzZDMmY4OTA4OGIyYkEyOEM1MjkxQzcwZjsKCiAgZXZlbnQgVG9rZW5QdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgcHVyY2hhc2VyLCBhZGRyZXNzIGluZGV4ZWQgYmVuZWZpY2lhcnksIHVpbnQyNTYgdmFsdWUsIHVpbnQyNTYgYW1vdW50KTsKICBldmVudCBQcmVTYWxlQ2xvc2VkKCk7CgogIGZ1bmN0aW9uIHNldFdhbGxldChhZGRyZXNzIF93YWxsZXQpIG9ubHlPd25lciB7CiAgICBoYXJkd2FyZVdhbGxldCA9IF93YWxsZXQ7CiAgfQoKICBmdW5jdGlvbiBIeWRyb0NvaW5QcmVzYWxlKCkgewogICAgc3RhcnRUaW1lc3RhbXAgPSAxNTA2MzMzNjAwOwogICAgZW5kVGltZXN0YW1wID0gc3RhcnRUaW1lc3RhbXAgKyAxIHdlZWtzOwoKICAgIHRva2VuID0gbmV3IEh5ZHJvQ29pbigpOwoKICAgIHJlcXVpcmUoc3RhcnRUaW1lc3RhbXAgPj0gbm93KTsKICAgIHJlcXVpcmUoZW5kVGltZXN0YW1wID49IHN0YXJ0VGltZXN0YW1wKTsKCiAgICB0b2tlbi5taW50KGNvbXBhbnlUb2tlbnMsIHZlbmRvckFsbG9jYXRpb24pOwogIH0KCiAgLy8gY2hlY2sgaWYgdmFsaWQgcHVyY2hhc2UKICBtb2RpZmllciB2YWxpZFB1cmNoYXNlIHsKICAgIHJlcXVpcmUobm93ID49IHN0YXJ0VGltZXN0YW1wKTsKICAgIHJlcXVpcmUobm93IDw9IGVuZFRpbWVzdGFtcCk7CiAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBtaW5Db250cmlidXRpb24pOwogICAgcmVxdWlyZSh3ZWlSYWlzZWQuYWRkKG1zZy52YWx1ZSkgPD0gaGFyZGNhcCk7CiAgICBfOwogIH0KCiAgLy8gQHJldHVybiB0cnVlIGlmIGNyb3dkc2FsZSBldmVudCBoYXMgZW5kZWQKICBmdW5jdGlvbiBoYXNFbmRlZCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICBpZiAobm93ID4gZW5kVGltZXN0YW1wKQogICAgICAgIHJldHVybiB0cnVlOwogICAgaWYgKHdlaVJhaXNlZCA+PSBoYXJkY2FwKQogICAgICAgIHJldHVybiB0cnVlOwogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgLy8gbG93IGxldmVsIHRva2VuIHB1cmNoYXNlIGZ1bmN0aW9uCiAgZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgYmVuZWZpY2lhcnkpIHBheWFibGUgdmFsaWRQdXJjaGFzZSB7CiAgICByZXF1aXJlKGJlbmVmaWNpYXJ5ICE9IDB4MCk7CgogICAgdWludDI1NiB3ZWlBbW91bnQgPSBtc2cudmFsdWU7CgogICAgaWYgKGRlcG9zaXRzW21zZy5zZW5kZXJdID09IDApIHsKICAgICAgICBudW1iZXJPZlB1cmNoYXNlcnMrKzsKICAgIH0KICAgIGRlcG9zaXRzW21zZy5zZW5kZXJdID0gd2VpQW1vdW50LmFkZChkZXBvc2l0c1ttc2cuc2VuZGVyXSk7CiAgICAKCiAgICAvLyBjYWxjdWxhdGUgdG9rZW4gYW1vdW50IHRvIGJlIGNyZWF0ZWQKICAgIHVpbnQyNTYgdG9rZW5zID0gd2VpQW1vdW50Lm11bChyYXRlKTsKCiAgICAvLyB1cGRhdGUgc3RhdGUKICAgIHdlaVJhaXNlZCA9IHdlaVJhaXNlZC5hZGQod2VpQW1vdW50KTsKCiAgICB0b2tlbi5taW50KGJlbmVmaWNpYXJ5LCB0b2tlbnMpOwogICAgVG9rZW5QdXJjaGFzZShtc2cuc2VuZGVyLCBiZW5lZmljaWFyeSwgd2VpQW1vdW50LCB0b2tlbnMpOwogICAgaGFyZHdhcmVXYWxsZXQudHJhbnNmZXIobXNnLnZhbHVlKTsKICB9CgogIC8vIHRyYW5zZmVyIG93bmVyc2hpcCBvZiB0aGUgdG9rZW4gdG8gdGhlIG93bmVyIG9mIHRoZSBwcmVzYWxlIGNvbnRyYWN0CiAgZnVuY3Rpb24gZmluaXNoUHJlc2FsZSgpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShoYXNFbmRlZCgpKTsKICAgIHRva2VuLnRyYW5zZmVyT3duZXJzaGlwKG93bmVyKTsKICAgIFByZVNhbGVDbG9zZWQoKTsKICB9CgogIC8vIGZhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGJ1eSB0b2tlbnMKICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsKICAgIGJ1eVRva2Vucyhtc2cuc2VuZGVyKTsKICB9CgogICAgZnVuY3Rpb24gZW1lcmdlbmN5RVJDMjBEcmFpbiggRVJDMjAgdGhlVG9rZW4sIHVpbnQgYW1vdW50ICkgewogICAgICAgIHRoZVRva2VuLnRyYW5zZmVyKG93bmVyLCBhbW91bnQpOwogICAgfQoKCn0='.
	

]
