Class {
	#name : #SRT8f811657b12f378fedd85af591be8bf8c22dd333,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT8f811657b12f378fedd85af591be8bf8c22dd333 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vCi8vIEdaUiAnR2l6ZXIgR2FtaW5nJyB0b2tlbiBwcmVzYWxlIGNvbnRyYWN0Ci8vCi8vIEZvciBkZXRhaWxzLCBwbGVhc2UgdmlzaXQ6IGh0dHA6Ly93d3cuZ2l6ZXIuaW8KLy8KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8KLy8gU2FmZU0gKGRpdiBub3QgbmVlZGVkIGJ1dCBrZXB0IGZvciBjb21wbGV0ZW5lc3MnIHNha2UpCi8vCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmxpYnJhcnkgU2FmZU0gewoKICBmdW5jdGlvbiBhZGQodWludCBhLCB1aW50IGIpIHB1YmxpYyBwdXJlIHJldHVybnMgKHVpbnQgYykgewogICAgYyA9IGEgKyBiOwogICAgcmVxdWlyZSggYyA+PSBhICk7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIHB1YmxpYyBwdXJlIHJldHVybnMgKHVpbnQgYykgewogICAgcmVxdWlyZSggYiA8PSBhICk7CiAgICBjID0gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBtdWwodWludCBhLCB1aW50IGIpIHB1YmxpYyBwdXJlIHJldHVybnMgKHVpbnQgYykgewogICAgYyA9IGEgKiBiOwogICAgcmVxdWlyZSggYSA9PSAwIHx8IGMgLyBhID09IGIgKTsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50IGEsIHVpbnQgYikgcHVibGljIHB1cmUgcmV0dXJucyAodWludCBjKSB7CiAgICBjID0gYSAvIGI7CiAgfSAgCgp9CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLwovLyBPd25lZCBjb250cmFjdAovLwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpjb250cmFjdCBPd25lZCB7CgogIGFkZHJlc3MgcHVibGljIG93bmVyOwogIGFkZHJlc3MgcHVibGljIG5ld093bmVyOwoKICAvLyBFdmVudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVyUHJvcG9zZWQoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvKTsKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgX3RvKTsKCiAgLy8gTW9kaWZpZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICBtb2RpZmllciBvbmx5T3duZXIgewogICAgcmVxdWlyZSggbXNnLnNlbmRlciA9PSBvd25lciApOwogICAgXzsKICB9CgogIC8vIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgZnVuY3Rpb24gT3duZWQoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZSggX25ld093bmVyICE9IG93bmVyICk7CiAgICByZXF1aXJlKCBfbmV3T3duZXIgIT0gYWRkcmVzcygweDApICk7CiAgICBuZXdPd25lciA9IF9uZXdPd25lcjsKICAgIE93bmVyc2hpcFRyYW5zZmVyUHJvcG9zZWQob3duZXIsIF9uZXdPd25lcik7CiAgfQoKICBmdW5jdGlvbiBhY2NlcHRPd25lcnNoaXAoKSBwdWJsaWMgewogICAgcmVxdWlyZSggbXNnLnNlbmRlciA9PSBuZXdPd25lciApOwogICAgb3duZXIgPSBuZXdPd25lcjsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyKTsKICB9Cgp9CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLwovLyBFUkMgVG9rZW4gU3RhbmRhcmQgIzIwIEludGVyZmFjZQovLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9ibG9iL21hc3Rlci9FSVBTL2VpcC0yMC10b2tlbi1zdGFuZGFyZC5tZAovLwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpjb250cmFjdCBFUkMyMEludGVyZmFjZSB7CgogIC8vIEV2ZW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50IF92YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50IF92YWx1ZSk7CgogIC8vIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgYmFsYW5jZSk7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKTsKCn0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vCi8vIEVSQyBUb2tlbiBTdGFuZGFyZCAjMjAKLy8KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY29udHJhY3QgRVJDMjBUb2tlbiBpcyBFUkMyMEludGVyZmFjZSwgT3duZWQgewogIAogIHVzaW5nIFNhZmVNIGZvciB1aW50OwoKICB1aW50IHB1YmxpYyB0b2tlbnNJc3N1ZWRUb3RhbCA9IDA7CiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwogIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSBhbGxvd2VkOwoKICAvLyBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogIC8qIFRvdGFsIHRva2VuIHN1cHBseSAqLwoKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpIHsKICAgIHJldHVybiB0b2tlbnNJc3N1ZWRUb3RhbDsKICB9CgogIC8qIEdldCB0aGUgYWNjb3VudCBiYWxhbmNlIGZvciBhbiBhZGRyZXNzICovCgogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9CgogIC8qIFRyYW5zZmVyIHRoZSBiYWxhbmNlIGZyb20gb3duZXIncyBhY2NvdW50IHRvIGFub3RoZXIgYWNjb3VudCAqLwoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAvLyBhbW91bnQgc2VudCBjYW5ub3QgZXhjZWVkIGJhbGFuY2UKICAgIHJlcXVpcmUoIGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF9hbW91bnQgKTsKCiAgICAvLyB1cGRhdGUgYmFsYW5jZXMKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOwogICAgYmFsYW5jZXNbX3RvXSAgICAgICAgPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKCiAgICAvLyBsb2cgZXZlbnQKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qIEFsbG93IF9zcGVuZGVyIHRvIHdpdGhkcmF3IGZyb20geW91ciBhY2NvdW50IHVwIHRvIF9hbW91bnQgKi8KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIC8vIGFwcHJvdmFsIGFtb3VudCBjYW5ub3QgZXhjZWVkIHRoZSBiYWxhbmNlCiAgICByZXF1aXJlKCBiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfYW1vdW50ICk7CiAgICAgIAogICAgLy8gdXBkYXRlIGFsbG93ZWQgYW1vdW50CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF9hbW91bnQ7CiAgICAKICAgIC8vIGxvZyBldmVudAogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKiBTcGVuZGVyIG9mIHRva2VucyB0cmFuc2ZlcnMgdG9rZW5zIGZyb20gdGhlIG93bmVyJ3MgYmFsYW5jZSAqLwogIC8qIE11c3QgYmUgcHJlLWFwcHJvdmVkIGJ5IG93bmVyICovCgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAvLyBiYWxhbmNlIGNoZWNrcwogICAgcmVxdWlyZSggYmFsYW5jZXNbX2Zyb21dID49IF9hbW91bnQgKTsKICAgIHJlcXVpcmUoIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF9hbW91bnQgKTsKCiAgICAvLyB1cGRhdGUgYmFsYW5jZXMgYW5kIGFsbG93ZWQgYW1vdW50CiAgICBiYWxhbmNlc1tfZnJvbV0gICAgICAgICAgICA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX2Ftb3VudCk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KTsKICAgIGJhbGFuY2VzW190b10gICAgICAgICAgICAgID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CgogICAgLy8gbG9nIGV2ZW50CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyogUmV0dXJucyB0aGUgYW1vdW50IG9mIHRva2VucyBhcHByb3ZlZCBieSB0aGUgb3duZXIgKi8KICAvKiB0aGF0IGNhbiBiZSB0cmFuc2ZlcnJlZCBieSBzcGVuZGVyICovCgogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludCByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCn0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vCi8vIEdaUiB0b2tlbiBwcmVzYWxlCi8vCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmNvbnRyYWN0IEdpemVyVG9rZW5QcmVzYWxlIGlzIEVSQzIwVG9rZW4gewoKICAvKiBVdGlsaXR5IHZhcmlhYmxlcyAqLwogIAogIHVpbnQgY29uc3RhbnQgRTYgID0gMTAqKjY7CgogIC8qIEJhc2ljIHRva2VuIGRhdGEgKi8KCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lICAgICA9ICJHaXplciBHYW1pbmcgUHJlc2FsZSBUb2tlbiI7CiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgICA9ICJHWlJQUkUiOwogIHVpbnQ4ICBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSA2OwoKICAvKiBXYWxsZXRzICovCiAgCiAgYWRkcmVzcyBwdWJsaWMgd2FsbGV0OwogIGFkZHJlc3MgcHVibGljIHJlZGVtcHRpb25XYWxsZXQ7CgogIC8qIEdlbmVyYWwgY3Jvd2RzYWxlIHBhcmFtZXRlcnMgKi8gIAogIAogIHVpbnQgcHVibGljIGNvbnN0YW50IE1JTl9DT05UUklCVVRJT04gPSAxIGV0aGVyIC8gMTA7IC8vIDAuMSBFdGhlcgogIHVpbnQgcHVibGljIGNvbnN0YW50IE1BWF9DT05UUklCVVRJT04gPSAxMDAgZXRoZXI7CiAgCiAgLyogUHJpdmF0ZSBzYWxlICovCgogIHVpbnQgcHVibGljIGNvbnN0YW50IFBSSVZBVEVfU0FMRV9NQVhfRVRIRVIgPSAyMzAwIGV0aGVyOwogIAogIC8qIFByZXNhbGUgcGFyYW1ldGVycyAqLwogIAogIHVpbnQgcHVibGljIGNvbnN0YW50IERBVEVfUFJFU0FMRV9TVEFSVCA9IDE1MTIwNTA0MDA7IC8vIDMwLU5vdi0yMDE3IDE0OjAwIFVUQwogIHVpbnQgcHVibGljIGNvbnN0YW50IERBVEVfUFJFU0FMRV9FTkQgICA9IDE1MTMyNjAwMDA7IC8vIDE0LURlYy0yMDE3IDE0OjAwIFVUQwogIAogIHVpbnQgcHVibGljIGNvbnN0YW50IFRPS0VUSF9QUkVTQUxFX09ORSAgID0gMTE1MCAqIEU2OyAvLyBwcmVzYWxlIHdhdmUgMSAoICAxLTEwMCkKICB1aW50IHB1YmxpYyBjb25zdGFudCBUT0tFVEhfUFJFU0FMRV9UV08gICA9IDExMDAgKiBFNjsgLy8gcHJlc2FsZSB3YXZlIDIgKDEwMS01MDApCiAgdWludCBwdWJsaWMgY29uc3RhbnQgVE9LRVRIX1BSRVNBTEVfVEhSRUUgPSAxMDc1ICogRTY7IC8vIHByZXNhbGUgLSBvdGhlcnMKICAKICB1aW50IHB1YmxpYyBjb25zdGFudCBDVVRPRkZfUFJFU0FMRV9PTkUgPSAxMDA7IC8vIGxhc3QgY29udHJpYnV0b3Igd2F2ZSAxCiAgdWludCBwdWJsaWMgY29uc3RhbnQgQ1VUT0ZGX1BSRVNBTEVfVFdPID0gNTAwOyAvLyBsYXN0IGNvbnRyaWJ1dG9yIHdhdmUgMgoKICB1aW50IHB1YmxpYyBjb25zdGFudCBGVU5ESU5HX1BSRVNBTEVfTUFYID0gMjMwMCBldGhlcjsKCiAgLyogUHJlc2FsZSB2YXJpYWJsZXMgKi8KCiAgdWludCBwdWJsaWMgZXRoZXJSZWNlaXZlZFByaXZhdGUgPSAwOyAvLyBwcml2YXRlIHNhbGUgRXRoZXIKICB1aW50IHB1YmxpYyBldGhlclJlY2VpdmVkQ3Jvd2QgICA9IDA7IC8vIGNyb3dkc2FsZSBFdGhlcgoKICB1aW50IHB1YmxpYyB0b2tlbnNJc3N1ZWRQcml2YXRlID0gMDsgLy8gcHJpdmF0ZSBzYWxlIHRva2VucwogIHVpbnQgcHVibGljIHRva2Vuc0lzc3VlZENyb3dkICAgPSAwOyAvLyBjcm93ZHNhbGUgdG9rZW5zCiAgdWludCBwdWJsaWMgdG9rZW5zQnVybmVkVG90YWwgICA9IDA7IC8vIHRva2VucyBidXJuZWQgYnkgb3duZXIKICAKICB1aW50IHB1YmxpYyBwcmVzYWxlQ29udHJpYnV0b3JDb3VudCA9IDA7CiAgCiAgYm9vbCBwdWJsaWMgdG9rZW5zRnJvemVuID0gZmFsc2U7CgogIC8qIE1hcHBpbmdzICovCgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgYmFsYW5jZUV0aFByaXZhdGU7IC8vIHByaXZhdGUgc2FsZSBFdGhlcgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgYmFsYW5jZUV0aENyb3dkOyAgIC8vIGNyb3dkc2FsZSBFdGhlcgoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcHVibGljIGJhbGFuY2VzUHJpdmF0ZTsgLy8gcHJpdmF0ZSBzYWxlIHRva2VucwogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgYmFsYW5jZXNDcm93ZDsgICAvLyBjcm93ZHNhbGUgdG9rZW5zCgogIC8vIEV2ZW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAKICBldmVudCBXYWxsZXRVcGRhdGVkKGFkZHJlc3MgX25ld1dhbGxldCk7CiAgZXZlbnQgUmVkZW1wdGlvbldhbGxldFVwZGF0ZWQoYWRkcmVzcyBfbmV3UmVkZW1wdGlvbldhbGxldCk7CiAgZXZlbnQgVG9rZW5zSXNzdWVkKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIHVpbnQgX3Rva2VucywgdWludCBfYmFsYW5jZSwgdWludCBfdG9rZW5zSXNzdWVkQ3Jvd2QsIGJvb2wgaW5kZXhlZCBfaXNQcml2YXRlU2FsZSwgdWludCBfYW1vdW50KTsKICBldmVudCBPd25lclRva2Vuc0J1cm5lZCh1aW50IF90b2tlbnNCdXJuZWQsIHVpbnQgX3Rva2Vuc0J1cm5lZFRvdGFsKTsKICAKICAvLyBCYXNpYyBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tCgogIC8qIEluaXRpYWxpemUgKi8KCiAgZnVuY3Rpb24gR2l6ZXJUb2tlblByZXNhbGUoKSBwdWJsaWMgewogICAgd2FsbGV0ID0gb3duZXI7CiAgICByZWRlbXB0aW9uV2FsbGV0ID0gb3duZXI7CiAgfQoKICAvKiBGYWxsYmFjayAqLwogIAogIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKICAgIGJ1eVRva2VucygpOwogIH0KCiAgLy8gSW5mb3JtYXRpb24gRnVuY3Rpb25zIC0tLS0tLS0tLS0tLQogIAogIC8qIFdoYXQgdGltZSBpcyBpdD8gKi8KICAKICBmdW5jdGlvbiBhdE5vdygpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpIHsKICAgIHJldHVybiBub3c7CiAgfQoKICAvLyBPd25lciBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tCiAgCiAgLyogQ2hhbmdlIHRoZSBjcm93ZHNhbGUgd2FsbGV0IGFkZHJlc3MgKi8KCiAgZnVuY3Rpb24gc2V0V2FsbGV0KGFkZHJlc3MgX3dhbGxldCkgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKCBfd2FsbGV0ICE9IGFkZHJlc3MoMHgwKSApOwogICAgd2FsbGV0ID0gX3dhbGxldDsKICAgIFdhbGxldFVwZGF0ZWQoX3dhbGxldCk7CiAgfQoKICAvKiBDaGFuZ2UgdGhlIHJlZGVtcHRpb24gd2FsbGV0IGFkZHJlc3MgKi8KCiAgZnVuY3Rpb24gc2V0UmVkZW1wdGlvbldhbGxldChhZGRyZXNzIF93YWxsZXQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVkZW1wdGlvbldhbGxldCA9IF93YWxsZXQ7CiAgICBSZWRlbXB0aW9uV2FsbGV0VXBkYXRlZChfd2FsbGV0KTsKICB9CiAgCiAgLyogSXNzdWUgdG9rZW5zIGZvciBFVEggcmVjZWl2ZWQgZHVyaW5nIHByaXZhdGUgc2FsZSAqLwoKICBmdW5jdGlvbiBwcml2YXRlU2FsZUNvbnRyaWJ1dGlvbihhZGRyZXNzIF9hY2NvdW50LCB1aW50IF9hbW91bnQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgLy8gY2hlY2tzCiAgICByZXF1aXJlKCBfYWNjb3VudCAhPSBhZGRyZXNzKDB4MCkgKTsKICAgIHJlcXVpcmUoIGF0Tm93KCkgPCBEQVRFX1BSRVNBTEVfRU5EICk7CiAgICByZXF1aXJlKCBfYW1vdW50ID49IE1JTl9DT05UUklCVVRJT04gKTsKICAgIHJlcXVpcmUoIGV0aGVyUmVjZWl2ZWRQcml2YXRlLmFkZChfYW1vdW50KSA8PSBQUklWQVRFX1NBTEVfTUFYX0VUSEVSICk7CiAgICAKICAgIC8vIHNhbWUgY29uZGl0aW9ucyBhcyBlYXJseSBwcmVzYWxlIHBhcnRpY2lwYW50cwogICAgdWludCB0b2tlbnMgPSBUT0tFVEhfUFJFU0FMRV9PTkUubXVsKF9hbW91bnQpIC8gMSBldGhlcjsKICAgIAogICAgLy8gaXNzdWUgdG9rZW5zCiAgICBpc3N1ZVRva2VucyhfYWNjb3VudCwgdG9rZW5zLCBfYW1vdW50LCB0cnVlKTsgLy8gdHJ1ZSA9PiBwcml2YXRlIHNhbGUKICB9CgogIC8qIEZyZWV6ZSB0b2tlbnMgKi8KICAKICBmdW5jdGlvbiBmcmVlemVUb2tlbnMoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoIGF0Tm93KCkgPiBEQVRFX1BSRVNBTEVfRU5EICk7CiAgICB0b2tlbnNGcm96ZW4gPSB0cnVlOwogIH0KICAKICAvKiBCdXJuIHRva2VucyBoZWxkIGJ5IG93bmVyICovCiAgCiAgZnVuY3Rpb24gYnVybk93bmVyVG9rZW5zKCkgcHVibGljIG9ubHlPd25lciB7CiAgICAvLyBjaGVjayBpZiB0aGVyZSBpcyBhbnl0aGluZyB0byBidXJuCiAgICByZXF1aXJlKCBiYWxhbmNlc1tvd25lcl0gPiAwICk7CiAgICAKICAgIC8vIHVwZGF0ZSAKICAgIHVpbnQgdG9rZW5zQnVybmVkID0gYmFsYW5jZXNbb3duZXJdOwogICAgYmFsYW5jZXNbb3duZXJdID0gMDsKICAgIHRva2Vuc0lzc3VlZFRvdGFsID0gdG9rZW5zSXNzdWVkVG90YWwuc3ViKHRva2Vuc0J1cm5lZCk7CiAgICB0b2tlbnNCdXJuZWRUb3RhbCA9IHRva2Vuc0J1cm5lZFRvdGFsLmFkZCh0b2tlbnNCdXJuZWQpOwogICAgCiAgICAvLyBsb2cKICAgIFRyYW5zZmVyKG93bmVyLCAweDAsIHRva2Vuc0J1cm5lZCk7CiAgICBPd25lclRva2Vuc0J1cm5lZCh0b2tlbnNCdXJuZWQsIHRva2Vuc0J1cm5lZFRvdGFsKTsKCiAgfSAgCgogIC8qIFRyYW5zZmVyIG91dCBhbnkgYWNjaWRlbnRhbGx5IHNlbnQgRVJDMjAgdG9rZW5zICovCgogIGZ1bmN0aW9uIHRyYW5zZmVyQW55RVJDMjBUb2tlbihhZGRyZXNzIHRva2VuQWRkcmVzcywgdWludCBhbW91bnQpIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgIHJldHVybiBFUkMyMEludGVyZmFjZSh0b2tlbkFkZHJlc3MpLnRyYW5zZmVyKG93bmVyLCBhbW91bnQpOwogIH0KCiAgLy8gUHJpdmF0ZSBmdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLQoKICAvKiBBY2NlcHQgRVRIIGR1cmluZyBwcmVzYWxlIChjYWxsZWQgYnkgZGVmYXVsdCBmdW5jdGlvbikgKi8KCiAgZnVuY3Rpb24gYnV5VG9rZW5zKCkgcHJpdmF0ZSB7CiAgICAvLyBpbml0aWFsIGNoZWNrcwogICAgcmVxdWlyZSggYXROb3coKSA+IERBVEVfUFJFU0FMRV9TVEFSVCAmJiBhdE5vdygpIDwgREFURV9QUkVTQUxFX0VORCApOwogICAgcmVxdWlyZSggbXNnLnZhbHVlID49IE1JTl9DT05UUklCVVRJT04gJiYgbXNnLnZhbHVlIDw9IE1BWF9DT05UUklCVVRJT04gKTsKICAgIHJlcXVpcmUoIGV0aGVyUmVjZWl2ZWRDcm93ZC5hZGQobXNnLnZhbHVlKSA8PSBGVU5ESU5HX1BSRVNBTEVfTUFYICk7CgogICAgLy8gdG9rZW5zCiAgICB1aW50IHRva2VuczsKICAgIGlmIChwcmVzYWxlQ29udHJpYnV0b3JDb3VudCA8IENVVE9GRl9QUkVTQUxFX09ORSkgewogICAgICAvLyB3YXZlIDEKICAgICAgdG9rZW5zID0gVE9LRVRIX1BSRVNBTEVfT05FLm11bChtc2cudmFsdWUpIC8gMSBldGhlcjsKICAgIH0gZWxzZSBpZiAocHJlc2FsZUNvbnRyaWJ1dG9yQ291bnQgPCBDVVRPRkZfUFJFU0FMRV9UV08pIHsKICAgICAgLy8gd2F2ZSAyCiAgICAgIHRva2VucyA9IFRPS0VUSF9QUkVTQUxFX1RXTy5tdWwobXNnLnZhbHVlKSAvIDEgZXRoZXI7CiAgICB9IGVsc2UgewogICAgICAvLyB3YXZlIDMKICAgICAgdG9rZW5zID0gVE9LRVRIX1BSRVNBTEVfVEhSRUUubXVsKG1zZy52YWx1ZSkgLyAxIGV0aGVyOwogICAgfQogICAgcHJlc2FsZUNvbnRyaWJ1dG9yQ291bnQgKz0gMTsKICAgIAogICAgLy8gaXNzdWUgdG9rZW5zCiAgICBpc3N1ZVRva2Vucyhtc2cuc2VuZGVyLCB0b2tlbnMsIG1zZy52YWx1ZSwgZmFsc2UpOyAvLyBmYWxzZSA9PiBub3QgcHJpdmF0ZSBzYWxlCiAgfQogIAogIC8qIElzc3VlIHRva2VucyAqLwogIAogIGZ1bmN0aW9uIGlzc3VlVG9rZW5zKGFkZHJlc3MgX2FjY291bnQsIHVpbnQgX3Rva2VucywgdWludCBfYW1vdW50LCBib29sIF9pc1ByaXZhdGVTYWxlKSBwcml2YXRlIHsKICAgIC8vIHJlZ2lzdGVyIHRva2VucyBwdXJjaGFzZWQgYW5kIEV0aGVyIHJlY2VpdmVkCiAgICBiYWxhbmNlc1tfYWNjb3VudF0gPSBiYWxhbmNlc1tfYWNjb3VudF0uYWRkKF90b2tlbnMpOwogICAgdG9rZW5zSXNzdWVkQ3Jvd2QgID0gdG9rZW5zSXNzdWVkQ3Jvd2QuYWRkKF90b2tlbnMpOwogICAgdG9rZW5zSXNzdWVkVG90YWwgID0gdG9rZW5zSXNzdWVkVG90YWwuYWRkKF90b2tlbnMpOwogICAgCiAgICBpZiAoX2lzUHJpdmF0ZVNhbGUpIHsKICAgICAgdG9rZW5zSXNzdWVkUHJpdmF0ZSAgICAgICAgID0gdG9rZW5zSXNzdWVkUHJpdmF0ZS5hZGQoX3Rva2Vucyk7CiAgICAgIGV0aGVyUmVjZWl2ZWRQcml2YXRlICAgICAgICA9IGV0aGVyUmVjZWl2ZWRQcml2YXRlLmFkZChfYW1vdW50KTsKICAgICAgYmFsYW5jZXNQcml2YXRlW19hY2NvdW50XSAgID0gYmFsYW5jZXNQcml2YXRlW19hY2NvdW50XS5hZGQoX3Rva2Vucyk7CiAgICAgIGJhbGFuY2VFdGhQcml2YXRlW19hY2NvdW50XSA9IGJhbGFuY2VFdGhQcml2YXRlW19hY2NvdW50XS5hZGQoX2Ftb3VudCk7CiAgICB9IGVsc2UgewogICAgICBldGhlclJlY2VpdmVkQ3Jvd2QgICAgICAgID0gZXRoZXJSZWNlaXZlZENyb3dkLmFkZChfYW1vdW50KTsKICAgICAgYmFsYW5jZXNDcm93ZFtfYWNjb3VudF0gICA9IGJhbGFuY2VzQ3Jvd2RbX2FjY291bnRdLmFkZChfdG9rZW5zKTsKICAgICAgYmFsYW5jZUV0aENyb3dkW19hY2NvdW50XSA9IGJhbGFuY2VFdGhDcm93ZFtfYWNjb3VudF0uYWRkKF9hbW91bnQpOwogICAgfQogICAgCiAgICAvLyBsb2cgdG9rZW4gaXNzdWFuY2UKICAgIFRyYW5zZmVyKDB4MCwgX2FjY291bnQsIF90b2tlbnMpOwogICAgVG9rZW5zSXNzdWVkKF9hY2NvdW50LCBfdG9rZW5zLCBiYWxhbmNlc1tfYWNjb3VudF0sIHRva2Vuc0lzc3VlZENyb3dkLCBfaXNQcml2YXRlU2FsZSwgX2Ftb3VudCk7CgogICAgLy8gdHJhbnNmZXIgRXRoZXIgb3V0CiAgICBpZiAodGhpcy5iYWxhbmNlID4gMCkgd2FsbGV0LnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CgogIH0KCiAgLy8gRVJDMjAgZnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLQoKICAvKiBPdmVycmlkZSAidHJhbnNmZXIiICovCgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJlcXVpcmUoIF90byA9PSBvd25lciB8fCAoIXRva2Vuc0Zyb3plbiAmJiBfdG8gPT0gcmVkZW1wdGlvbldhbGxldCkgKTsKICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF9hbW91bnQpOwogIH0KICAKICAvKiBPdmVycmlkZSAidHJhbnNmZXJGcm9tIiAqLwoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmVxdWlyZSggIXRva2Vuc0Zyb3plbiAmJiBfdG8gPT0gcmVkZW1wdGlvbldhbGxldCApOwogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfYW1vdW50KTsKICB9Cgp9'.
	

]
