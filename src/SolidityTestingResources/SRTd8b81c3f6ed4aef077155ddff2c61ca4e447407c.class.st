Class {
	#name : #SRTd8b81c3f6ed4aef077155ddff2c61ca4e447407c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd8b81c3f6ed4aef077155ddff2c61ca4e447407c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuNDsgCgpjb250cmFjdCBBdXRob3JpemF0aW9uIHsKCiAgICBhZGRyZXNzIGludGVybmFsIGFkbWluOwoKICAgIGZ1bmN0aW9uIEF1dGhvcml6YXRpb24oKSB7CiAgICAgICAgYWRtaW4gPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlBZG1pbigpIHsKICAgICAgICBpZihtc2cuc2VuZGVyICE9IGFkbWluKSB0aHJvdzsKICAgICAgICBfOwogICAgfQp9Cgpjb250cmFjdCBOQVRWQ29pbiBpcyBBdXRob3JpemF0aW9uIHsKCi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgovLyBWYXJpYWJsZXMKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHByaXZhdGUgQmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHByaXZhdGUgQWxsb3dhbmNlczsKICAgIHN0cmluZyBwdWJsaWMgc3RhbmRhcmQgPSAiTkFUVkNvaW4gdjEuMCI7CiAgICBzdHJpbmcgcHVibGljIG5hbWU7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKICAgIHVpbnQyNTYgcHVibGljIGNvaW5TdXBwbHk7CiAgICB1aW50IHByaXZhdGUgYmFsYW5jZTsKICAgIHVpbnQyNTYgcHJpdmF0ZSBzZWxsUHJpY2U7CiAgICB1aW50MjU2IHByaXZhdGUgYnV5UHJpY2U7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKTsKLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCi8vIEVuZCBWYXJpYWJsZXMKCi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKLy9Db25zdHJ1Y3RvcgogICAgZnVuY3Rpb24gTkFUVkNvaW4oYWRkcmVzcyBiZW5pZmljYWlyeUFkZHJlc3MpIHsKICAgICAgICBhZG1pbiA9IG1zZy5zZW5kZXI7CiAgICAgICAgQmFsYW5jZXNbYWRtaW5dID0gMzAwMDAwMDAwMDAwMDAwMDsKICAgICAgICBjb2luU3VwcGx5ID0gMzAwMDAwMDAwMDAwMDAwMDsKICAgICAgICBkZWNpbWFscyA9IDg7CiAgICAgICAgc3ltYm9sID0gIk5BVFYiOwogICAgICAgIG5hbWUgPSAiTmF0aXZlIEN1cnJlbmN5IjsKICAgICAgICBiZW5lZmljaWFyeSA9IGJlbmlmaWNhaXJ5QWRkcmVzczsgLy8gTmVlZCB0byBtb2RpZnkgdG8gY2xpZW50J3Mgd2FsbGV0IGFkZHJlc3MKICAgICAgICBTZXROQVRWVG9rZW5TYWxlKCk7CiAgICB9CgovLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgoKLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKLy8gQmFzZSBUb2tlbiAgU3RhcnRlZCBFUkMgMjAgU3RhbmRhcmRzCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgaW5pdENvaW5TdXBwbHkpIHsKICAgICAgICByZXR1cm4gY29pblN1cHBseTsKICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YgKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpewogICAgICAgIHJldHVybiBCYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKXsKICAgICAgICBpZihCYWxhbmNlc1ttc2cuc2VuZGVyXTwgX3ZhbHVlKSB0aHJvdzsKICAgICAgICBpZihCYWxhbmNlc1tfdG9dICsgX3ZhbHVlIDwgQmFsYW5jZXNbX3RvXSkgdGhyb3c7CiAgICAgICAgLy9pZihhZG1pbikKCiAgICAgICAgQmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIEJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwoKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKXsKICAgICAgICBpZihCYWxhbmNlc1tfZnJvbV0gPCBfdmFsdWUpIHRocm93OwogICAgICAgIGlmKEJhbGFuY2VzW190b10gKyBfdmFsdWUgPCBCYWxhbmNlc1tfdG9dKSB0aHJvdzsKICAgICAgICBpZihfdmFsdWUgPiBBbGxvd2FuY2VzW19mcm9tXVttc2cuc2VuZGVyXSkgdGhyb3c7CiAgICAgICAgQmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICBCYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICBBbGxvd2FuY2VzW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NiYWxhbmNlT2ZwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpewogICAgICAgIEFsbG93YW5jZXNbbXNnLnNlbmRlcl1bX3NiYWxhbmNlT2ZwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zYmFsYW5jZU9mcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gQWxsb3dhbmNlc1tfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KICAgIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICAgIC8vRW5kIEJhc2UgVG9rZW4KICAgIC8vCgogICAgZnVuY3Rpb24gT0JFRkFDKGFkZHJlc3MgYWRkcikgb25seUFkbWluIHB1YmxpYyB7CiAgICAgICAgYmVuZWZpY2lhcnkgPSBhZGRyOwogICAgfSAKCiAgICBmdW5jdGlvbiByZWxlYXNlVG9rZW5zIChhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHByaXZhdGUgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgogICAgICAgIGlmKEJhbGFuY2VzW2FkbWluXTwgX3ZhbHVlKSB0aHJvdzsKICAgICAgICBpZihCYWxhbmNlc1tfdG9dICsgX3ZhbHVlIDwgQmFsYW5jZXNbX3RvXSkgdGhyb3c7CiAgICAgICAgLy9pZihhZG1pbikKCiAgICAgICAgQmFsYW5jZXNbYWRtaW5dIC09IF92YWx1ZTsKICAgICAgICBCYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKCiAgICAgICAgVHJhbnNmZXIoYWRtaW4sIF90bywgX3ZhbHVlKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgLy9Dcm93ZCBTYWxlIExvZ2ljCiAgICAvLwoKICAgIGVudW0gU3RhdGUgewogICAgICAgIEZ1bmRyYWlzaW5nLCAvL2luaXRpYWwgc3RhdGUgb2YgY3Jvd2RzYWxlCiAgICAgICAgRmFpbGVkLCAvL2ZhaWxlZCB0byBhY2hpZXZlIHRoZSBtaW5pbXVtIHRhcmdldAogICAgICAgIFN1Y2Nlc3NmdWwsIC8vZnVuZGluZyBpcyBzdWNjZXNzZnVsbCBidXQgbm90IHlldCB0cmFuc2ZlcmVkIHRoZSBmdW5kcyB0byB0aGUgZm91bmRlcnMKICAgICAgICBDbG9zZWQgLy9ldmVyeXRoaW5nIGlzIGRvbmUgaS5lLiB0aGUgcHVycG9zZSBvZiBjcm93ZHNhbGUgaXMgb3ZlcgogICAgfQogICAgU3RhdGUgcHJpdmF0ZSBzdGF0ZSA9IFN0YXRlLkZ1bmRyYWlzaW5nOyAvLyBzZXR0aW5nIHRoZSBkZWZhdWx0IHN0YXRlIHRvIGZ1bmRyYWlzaW5nCgogICAgc3RydWN0IENvbnRyaWJ1dGlvbiB7CiAgICAgICAgdWludCBhbW91bnQ7IC8vYW1vdW50KGluIEVUSCkgdGhlIHBlcnNvbiBoYXMgY29udHJpYnV0ZWQKICAgICAgICBhZGRyZXNzIGNvbnRyaWJ1dG9yOwogICAgfQogICAgQ29udHJpYnV0aW9uW10gY29udHJpYnV0aW9uczsKCiAgICB1aW50IHByaXZhdGUgdG90YWxSYWlzZWQ7CiAgICB1aW50IHByaXZhdGUgY3VycmVudEJhbGFuY2U7IC8vY3VycmVudEJhbGFuY2UgY2FuIGJlIGxlc3MgdGhhbiB0b3RhbFJhaXNlZCBpbiBjYXNlIG9mIHJlZnVuZAogICAgdWludCBwcml2YXRlIGRlYWRsaW5lOwogICAgdWludCBwcml2YXRlIGNvbXBsZXRlZEF0OwogICAgdWludCBwcml2YXRlIHByaWNlSW5XZWk7IC8vcHJpY2Ugb2YgdG9rZW4gKGUuZy4gMSB0b2tlbiA9IDEgRVRIIGkuZS4gMTBeMTggV2VpICkKICAgIHVpbnQgcHJpdmF0ZSBmdW5kaW5nTWluaW11bVRhcmdldEluV2VpOwogICAgdWludCBwcml2YXRlIGZ1bmRpbmdNYXhpbXVtVGFyZ2V0SW5XZWk7CiAgICBhZGRyZXNzIHByaXZhdGUgY3JlYXRvcjsgLy93aG8gY3JlYXRlZCB0aGUgY3Jvd2RzYWxlCiAgICBhZGRyZXNzIHByaXZhdGUgYmVuZWZpY2lhcnk7IC8vYmVuZWZpY2lhcnkgY2FuIGFsc28gYmUgYSBEQU8KICAgIHN0cmluZyBwcml2YXRlIGNhbXBhaWduVXJsOwogICAgYnl0ZSBjb25zdGFudCB2ZXJzaW9uID0gMTsKCiAgICB1aW50MjU2IHByaXZhdGUgYW1vdW50SW5XZWk9MDsKICAgIHVpbnQyNTYgcHJpdmF0ZSB0ZW1wVG90YWxSYXNpZWRGdW5kcz0wOwogICAgdWludDI1NiBwcml2YXRlIGFjdHVhbFZsYXVlPTA7CiAgICB1aW50MjU2IHByaXZhdGUgcmVmdW5kQW1vdW50ID0gMDsKICAgIHVpbnQyNTYgcHJpdmF0ZSBmdW5kaW5nVG9rZW5zPTA7CgogICAgZXZlbnQgTG9nUmVmdW5kKGFkZHJlc3MgYWRkciwgdWludCBhbW91bnQpOwogICAgZXZlbnQgTG9nRnVuZGluZ1JlY2VpdmVkKGFkZHJlc3MgYWRkciwgdWludCBhbW91bnQsIHVpbnQgY3VycmVudFRvdGFsKTsgLy9mdW5kcyByZWNlaXZlZCBieSBjb250cmlidXRvcnMKICAgIGV2ZW50IExvZ1dpbm5lclBhaWQoYWRkcmVzcyB3aW5uZXJBZGRyZXNzKTsgLy93aGV0aGVyIHRoZSBiZW5lZmljaWFyeSBoYXMgcGFpZCBvciBub3QKICAgIGV2ZW50IExvZ0Z1bmRpbmdTdWNjZXNzZnVsKHVpbnQgdG90YWxSYWlzZWQpOyAvL3dpbGwgYW5ub3VuY2Ugd2hlbiBmdW5kaW5nIGlzIHN1Y2Nlc3NmdWxseSBjb21wbGV0ZWQKICAgIGV2ZW50IExvZ0Z1bmRlckluaXRpYWxpemVkKAogICAgYWRkcmVzcyBjcmVhdG9yLAogICAgYWRkcmVzcyBiZW5lZmljaWFyeSwKICAgIHN0cmluZyB1cmwsCiAgICB1aW50IF9mdW5kaW5nTWF4aW11bVRhcmdldEluRXRoZXIsCiAgICB1aW50MjU2IGRlYWRsaW5lKTsKCiAgICAvLyBNb2RpZmllZCBieSBhbWl0IGFzIG9uIDE4dGggQXVndXN0IHRvIHN0b3AgdGhlIHRhcm5zYWN0aW9uIGlmIElDTyBkYXRlIGlzIE92ZXIKICAgIG1vZGlmaWVyIGluU3RhdGUoU3RhdGUgX3N0YXRlKSB7CiAgICAgICAgaWYgKCBub3cgPiBkZWFkbGluZSApIHsKICAgICAgICAgICAgc3RhdGUgPSBTdGF0ZS5DbG9zZWQ7CiAgICAgICAgfQoKICAgICAgICBpZiAoc3RhdGUgIT0gX3N0YXRlKSB0aHJvdzsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIGlzTWluaW11bSgpIHsKICAgICAgICBpZihtc2cudmFsdWUgPCBwcmljZUluV2VpKjEwKSB0aHJvdzsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIGluTXVsdGlwbGVPZlByaWNlKCkgewogICAgICAgIGlmKG1zZy52YWx1ZSVwcmljZUluV2VpICE9IDApIHRocm93OwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgaXNDcmVhdG9yKCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IGNyZWF0b3IpIHRocm93OwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgYXRFbmRPZkxpZmVjeWNsZSgpIHsKICAgICAgICBpZighKChzdGF0ZSA9PSBTdGF0ZS5GYWlsZWQgfHwgc3RhdGUgPT0gU3RhdGUuU3VjY2Vzc2Z1bCkgJiYgY29tcGxldGVkQXQgPCBub3cpKSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgICAgICBfOwogICAgfQoKCiAgICBmdW5jdGlvbiBTZXROQVRWVG9rZW5TYWxlICgpIHByaXZhdGUgewoKICAgICAgICBjcmVhdG9yID0gbXNnLnNlbmRlcjsKICAgICAgICBjYW1wYWlnblVybCA9ICJ3d3cubmF0aXZlY3VycmVuY3kuY29tIjsKICAgICAgICBmdW5kaW5nTWluaW11bVRhcmdldEluV2VpID0gMCAqIDEgZXRoZXI7CiAgICAgICAgZnVuZGluZ01heGltdW1UYXJnZXRJbldlaSA9IDMwMDAwICogMSBldGhlcjsKICAgICAgICBkZWFkbGluZSA9IG5vdyArICg0NjczOSAqIDEgbWludXRlcyk7CiAgICAgICAgY3VycmVudEJhbGFuY2UgPSAwOwogICAgICAgIHByaWNlSW5XZWkgPSAwLjAwMSAqIDEgZXRoZXI7CiAgICAgICAgTG9nRnVuZGVySW5pdGlhbGl6ZWQoCiAgICAgICAgY3JlYXRvciwKICAgICAgICBiZW5lZmljaWFyeSwKICAgICAgICBjYW1wYWlnblVybCwKICAgICAgICBmdW5kaW5nTWF4aW11bVRhcmdldEluV2VpLAogICAgICAgIGRlYWRsaW5lKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjb250cmlidXRlKGFkZHJlc3MgX3NlbmRlcikKICAgIHByaXZhdGUKICAgIGluU3RhdGUoU3RhdGUuRnVuZHJhaXNpbmcpIHJldHVybnMgKHVpbnQyNTYpIHsKCiAgICAgICAgdWludDI1NiBfdmFsdWUgPSB0aGlzLmJhbGFuY2U7CiAgICAgICAgYW1vdW50SW5XZWkgPSBfdmFsdWU7CiAgICAgICAgdGVtcFRvdGFsUmFzaWVkRnVuZHMgPSB0b3RhbFJhaXNlZCArIF92YWx1ZTsKICAgICAgICBhY3R1YWxWbGF1ZSA9IF92YWx1ZTsKICAgICAgICAvL2RlYnVnTG9nKCJhbW91bnRJbldlaSIsYW1vdW50SW5XZWksMSk7CiAgICAgICAgLy9kZWJ1Z0xvZygidGVtcFRvdGFsUmFzaWVkRnVuZHMiLHRlbXBUb3RhbFJhc2llZEZ1bmRzLDIpOwogICAgICAgIGlmIChmdW5kaW5nTWF4aW11bVRhcmdldEluV2VpICE9IDAgJiYgdGVtcFRvdGFsUmFzaWVkRnVuZHMgPiBmdW5kaW5nTWF4aW11bVRhcmdldEluV2VpKSB7CiAgICAgICAgICAgIC8vICBkZWJ1Z0xvZygiaW5zaWRlSWYgTG9vcCIsMCwzKTsKICAgICAgICAgICAgcmVmdW5kQW1vdW50ID0gdGVtcFRvdGFsUmFzaWVkRnVuZHMtZnVuZGluZ01heGltdW1UYXJnZXRJbldlaTsKICAgICAgICAgICAgYWN0dWFsVmxhdWUgPSBfdmFsdWUtcmVmdW5kQW1vdW50OwogICAgICAgIH0KICAgICAgICBjb250cmlidXRpb25zLnB1c2goCiAgICAgICAgICAgIENvbnRyaWJ1dGlvbih7CiAgICAgICAgICAgICAgICBhbW91bnQ6IGFjdHVhbFZsYXVlLAogICAgICAgICAgICAgICAgY29udHJpYnV0b3I6IF9zZW5kZXIKICAgICAgICAgICAgfSkKICAgICAgICApOwoKICAgICAgICBpZiAoIHJlZnVuZEFtb3VudCA+IDAgKXsKICAgICAgICAgICAgaWYgKCFfc2VuZGVyLnNlbmQocmVmdW5kQW1vdW50KSkgewogICAgICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgTG9nUmVmdW5kKF9zZW5kZXIscmVmdW5kQW1vdW50KTsKICAgICAgICB9CgogICAgICAgIHRvdGFsUmFpc2VkICs9IGFjdHVhbFZsYXVlOwogICAgICAgIGN1cnJlbnRCYWxhbmNlID0gdG90YWxSYWlzZWQ7CgogICAgICAgIGZ1bmRpbmdUb2tlbnMgPSAoYW1vdW50SW5XZWkgKiAxMDAwMDAwMDApIC8gcHJpY2VJbldlaTsKCiAgICAgICAgcmVsZWFzZVRva2Vucyhfc2VuZGVyLCBmdW5kaW5nVG9rZW5zKTsKCiAgICAgICAgTG9nRnVuZGluZ1JlY2VpdmVkKF9zZW5kZXIsIGFjdHVhbFZsYXVlLCB0b3RhbFJhaXNlZCk7CgogICAgICAgIHBheU91dCgpOwogICAgICAgIGNoZWNrSWZGdW5kaW5nQ29tcGxldGVPckV4cGlyZWQoKTsKICAgICAgICByZXR1cm4gY29udHJpYnV0aW9ucy5sZW5ndGggLSAxOyAvL3RoaXMgd2lsbCByZXR1cm4gdGhlIGNvbnRyaWJ1dGlvbiBJRAogICAgfQoKCiAgICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KICAgIC8vIFRvIGNoZWNrIGlmIGZ1bmRpbmcgaXMgZ2l2ZW4gdG8gdGhlIGZvdW5kZXJzIG9yIHRoZSBiZW5lZmljaWFyaWVzCgogICAgZnVuY3Rpb24gY2hlY2tJZkZ1bmRpbmdDb21wbGV0ZU9yRXhwaXJlZCgpIHByaXZhdGUgewoKICAgICAgICBpZiAoZnVuZGluZ01heGltdW1UYXJnZXRJbldlaSAhPSAwICYmIHRvdGFsUmFpc2VkID49IGZ1bmRpbmdNYXhpbXVtVGFyZ2V0SW5XZWkpIHsKICAgICAgICAgICAgc3RhdGUgPSBTdGF0ZS5DbG9zZWQ7CiAgICAgICAgICAgIExvZ0Z1bmRpbmdTdWNjZXNzZnVsKHRvdGFsUmFpc2VkKTsKICAgICAgICAgICAgY29tcGxldGVkQXQgPSBub3c7CgogICAgICAgIH0gZWxzZSBpZiAoIG5vdyA+IGRlYWRsaW5lICkgIHsKICAgICAgICAgICAgaWYodG90YWxSYWlzZWQgPj0gZnVuZGluZ01pbmltdW1UYXJnZXRJbldlaSl7CiAgICAgICAgICAgICAgICBzdGF0ZSA9IFN0YXRlLkNsb3NlZDsKICAgICAgICAgICAgICAgIExvZ0Z1bmRpbmdTdWNjZXNzZnVsKHRvdGFsUmFpc2VkKTsKICAgICAgICAgICAgICAgIGNvbXBsZXRlZEF0ID0gbm93OwogICAgICAgICAgICB9IGVsc2V7CiAgICAgICAgICAgICAgICBzdGF0ZSA9IFN0YXRlLkZhaWxlZDsKICAgICAgICAgICAgICAgIGNvbXBsZXRlZEF0ID0gbm93OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHBheU91dCgpCiAgICBwcml2YXRlCiAgICBpblN0YXRlKFN0YXRlLkZ1bmRyYWlzaW5nKQogICAgewogICAgICAgIGlmKCFiZW5lZmljaWFyeS5zZW5kKHRoaXMuYmFsYW5jZSkpIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgICAgIGlmIChzdGF0ZSA9PSBTdGF0ZS5TdWNjZXNzZnVsKSB7CiAgICAgICAgICAgIHN0YXRlID0gU3RhdGUuQ2xvc2VkOwogICAgICAgIH0KICAgICAgICBjdXJyZW50QmFsYW5jZSA9IDA7CiAgICAgICAgTG9nV2lubmVyUGFpZChiZW5lZmljaWFyeSk7CiAgICB9CgogICAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiAgICAvL1RoaXMgZGVmYXVsdCBmdW5jdGlvbiB3aWxsIGV4ZWN1dGUgYW5kIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFueXRoaW5nIGlzIGV4ZWN1dGVkIGJlc2lkZXMgZGVmaW5lZCBmdW5jdGlvbnMKCiAgICAvLyBNb2RpZmllZCBieSBhbWl0LCBhZGRlZCBtb2RpZmVyIGluc3RhdGUgdG8gVmVyaWZ5IHRoZSBTdGF0ZSBvZiBJQ08KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgaW5TdGF0ZShTdGF0ZS5GdW5kcmFpc2luZykgaXNNaW5pbXVtKCkgeyBjb250cmlidXRlKG1zZy5zZW5kZXIpOyB9Cn0='.
	

]
