Class {
	#name : #SRT856912680349a406f72e26aa994100b8ad409f87,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT856912680349a406f72e26aa994100b8ad409f87 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7Cgpjb250cmFjdCBUb2tlbiB7CgogICAgLyogVG90YWwgYW1vdW50IG9mIHRva2VucyAqLwogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgLyoKICAgICAqIEV2ZW50cwogICAgICovCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwoKICAgIC8qCiAgICAgKiBQdWJsaWMgZnVuY3Rpb25zCiAgICAgKi8KCiAgICAvLy8gQG5vdGljZSBzZW5kIGB2YWx1ZWAgdG9rZW4gdG8gYHRvYCBmcm9tIGBtc2cuc2VuZGVyYAogICAgLy8vIEBwYXJhbSB0byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIHZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYHZhbHVlYCB0b2tlbiB0byBgdG9gIGZyb20gYGZyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYGZyb21gCiAgICAvLy8gQHBhcmFtIGZyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgLy8vIEBwYXJhbSB0byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIHZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwoKICAgIC8vLyBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgc3BlbmRlcmAgdG8gc3BlbmQgYHZhbHVlYCB0b2tlbnMKICAgIC8vLyBAcGFyYW0gc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSBhcHByb3ZhbCB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CgogICAgLy8vIEBwYXJhbSBvd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICAvLy8gQHJldHVybiBUaGUgYmFsYW5jZQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KTsKCiAgICAvLy8gQHBhcmFtIG93bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IG93bmluZyB0b2tlbnMKICAgIC8vLyBAcGFyYW0gc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KTsKfQoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBUb2tlbiB7CiAgICAvKgogICAgICogIFN0b3JhZ2UKICAgICovCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSBhbGxvd2FuY2VzOwoKICAgIC8qCiAgICAgKiAgUHVibGljIGZ1bmN0aW9ucwogICAgKi8KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIC8vIERvIG5vdCBhbGxvdyB0cmFuc2ZlciB0byAweDAgb3IgdGhlIHRva2VuIGNvbnRyYWN0IGl0c2VsZgogICAgICAgIHJlcXVpcmUoKHRvICE9IDB4MCkgJiYgKHRvICE9IGFkZHJlc3ModGhpcykpKTsKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPCB2YWx1ZSkKICAgICAgICByZXZlcnQoKTsgIC8vIEJhbGFuY2UgdG9vIGxvdwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IHZhbHVlOwogICAgICAgIGJhbGFuY2VzW3RvXSArPSB2YWx1ZTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCB0bywgdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgLy8gRG8gbm90IGFsbG93IHRyYW5zZmVyIHRvIDB4MCBvciB0aGUgdG9rZW4gY29udHJhY3QgaXRzZWxmCiAgICAgICAgcmVxdWlyZSgodG8gIT0gMHgwKSAmJiAodG8gIT0gYWRkcmVzcyh0aGlzKSkpOwogICAgICAgIGlmIChiYWxhbmNlc1tmcm9tXSA8IHZhbHVlIHx8IGFsbG93YW5jZXNbZnJvbV1bbXNnLnNlbmRlcl0gPCB2YWx1ZSkKICAgICAgICByZXZlcnQoKTsgLy8gQmFsYW5jZSBvciBhbGxvd2FuY2UgdG9vIGxvdwogICAgICAgIGJhbGFuY2VzW3RvXSArPSB2YWx1ZTsKICAgICAgICBiYWxhbmNlc1tmcm9tXSAtPSB2YWx1ZTsKICAgICAgICBhbGxvd2FuY2VzW2Zyb21dW21zZy5zZW5kZXJdIC09IHZhbHVlOwogICAgICAgIFRyYW5zZmVyKGZyb20sIHRvLCB2YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgYWxsb3dhbmNlc1ttc2cuc2VuZGVyXVtzcGVuZGVyXSA9IHZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIHNwZW5kZXIsIHZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBhbGxvd2FuY2VzW293bmVyXVtzcGVuZGVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBvd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbb3duZXJdOwogICAgfQp9CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICAgICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9Cgpjb250cmFjdCBFdGhlclNwb3J0IGlzIFN0YW5kYXJkVG9rZW4gewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgLyoKICAgICAqICBNZXRhZGF0YQogICAgICovCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiRXRoZXIgU3BvcnQiOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiRVNDIjsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgdG9rZW5Vbml0ID0gMTAgKiogdWludDI1NihkZWNpbWFscyk7CgogICAgLyoKICAgICAqICBDb250cmFjdCBvd25lciAoRXRoZXJzcG9ydCkKICAgICAqLwogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgLyoKICAgICAqICBIYXJkd2FyZSB3YWxsZXRzCiAgICAgKi8KICAgIGFkZHJlc3MgcHVibGljIGV0aEZ1bmRBZGRyZXNzOyAgLy8gQWRkcmVzcyBmb3IgRVRIIG93bmVkIGJ5IEV0aGVyc3BvcnQKICAgIGFkZHJlc3MgcHVibGljIGVzY0Z1bmRBZGRyZXNzOyAgLy8gQWRkcmVzcyBmb3IgRVNDIGFsbG9jYXRlZCB0byBFdGhlcnNwb3J0CgogICAgLyoKICAgICAgICAqICBMaXN0IG9mIHRva2VuIHB1cmNoYXNlcyBwZXIgYWRkcmVzcwogICAgICAgICogIFNhbWUgYXMgYmFsYW5jZXNbXSwgZXhjZXB0IHVzZWQgZm9yIGluZGl2aWR1YWwgY2FwIGNhbGN1bGF0aW9ucywKICAgICAgICAqICBiZWNhdXNlIHVzZXJzIGNhbiB0cmFuc2ZlciB0b2tlbnMgb3V0IGR1cmluZyBzYWxlIGFuZCByZXNldCB0b2tlbiBjb3VudCBpbiBiYWxhbmNlcy4KICAgICAgICAqLwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgcHVyY2hhc2VzOwogICAgbWFwcGluZyAodWludCA9PiBhZGRyZXNzKSBwdWJsaWMgYWxsb2NhdGlvbnNJbmRleDsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGFsbG9jYXRpb25zOwogICAgdWludCBwdWJsaWMgYWxsb2NhdGlvbnNMZW5ndGg7CiAgICBtYXBwaW5nIChzdHJpbmcgPT4gbWFwcGluZyAoc3RyaW5nID0+IHVpbnQyNTYpKSBjZDsgLy9jcm93ZHNhbGVEYXRhOwoKICAgIC8qCiAgICAqICBDcm93ZHNhbGUgcGFyYW1ldGVycwogICAgKi8KICAgIGJvb2wgcHVibGljIGlzRmluYWxpemVkOwogICAgYm9vbCBwdWJsaWMgaXNTdG9wcGVkOwogICAgdWludDI1NiBwdWJsaWMgc3RhcnRCbG9jazsgIC8vIEJsb2NrIG51bWJlciB3aGVuIHNhbGUgcGVyaW9kIGJlZ2lucwogICAgdWludDI1NiBwdWJsaWMgZW5kQmxvY2s7ICAvLyBCbG9jayBudW1iZXIgd2hlbiBzYWxlIHBlcmlvZCBlbmRzCiAgICB1aW50MjU2IHB1YmxpYyBhc3NpZ25lZFN1cHBseTsgIC8vIFRvdGFsIEVTQyB0b2tlbnMgY3VycmVudGx5IGFzc2lnbmVkCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBtaW5pbXVtUGF5bWVudCA9IDUgKiAoMTAqKjE0KTsgLy8gMC4wMDA1IEVUSAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZXNjRnVuZCA9IDQwICogKDEwKio2KSAqIHRva2VuVW5pdDsgIC8vIDQwTSBFU0MgcmVzZXJ2ZWQgZm9yIGRldmVsb3BtZW50IGFuZCB1c2VyIGdyb3d0aCBmdW5kCgogICAgLyoKICAgICogIEV2ZW50cwogICAgKi8KICAgIGV2ZW50IENsYWltRVNDKGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKCiAgICBtb2RpZmllciBvbmx5QnkoYWRkcmVzcyBfYWNjb3VudCl7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IF9hY2NvdW50KTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoYW5nZU93bmVyKGFkZHJlc3MgX25ld093bmVyKSBvbmx5Qnkob3duZXIpIGV4dGVybmFsIHsKICAgICAgICBvd25lciA9IF9uZXdPd25lcjsKICAgIH0KCiAgICBtb2RpZmllciByZXNwZWN0VGltZUZyYW1lKCkgewogICAgICAgIHJlcXVpcmUoYmxvY2subnVtYmVyID49IHN0YXJ0QmxvY2spOwogICAgICAgIHJlcXVpcmUoYmxvY2subnVtYmVyIDwgZW5kQmxvY2spOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgc2FsZVBlcmlvZENvbXBsZXRlZCgpIHsKICAgICAgICByZXF1aXJlKGJsb2NrLm51bWJlciA+PSBlbmRCbG9jayB8fCBhc3NpZ25lZFN1cHBseS5hZGQoZXNjRnVuZCkuYWRkKG1pbmltdW1QYXltZW50KSA+IHRvdGFsU3VwcGx5KTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIGlzVmFsaWRTdGF0ZSgpIHsKICAgICAgICByZXF1aXJlKCFpc0ZpbmFsaXplZCAmJiAhaXNTdG9wcGVkKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG9jYXRlKGFkZHJlc3MgX2VzY0FkZHJlc3MsIHVpbnQgdG9rZW4pIGludGVybmFsIHsKICAgICAgICBhbGxvY2F0aW9uc0luZGV4W2FsbG9jYXRpb25zTGVuZ3RoXSA9IF9lc2NBZGRyZXNzOwogICAgICAgIGFsbG9jYXRpb25zW19lc2NBZGRyZXNzXSA9IHRva2VuOwogICAgICAgIGFsbG9jYXRpb25zTGVuZ3RoID0gYWxsb2NhdGlvbnNMZW5ndGggKyAxOwogICAgfQogICAgLyoKICAgICAqICBDb25zdHJ1Y3RvcgogICAgICovCiAgICBmdW5jdGlvbiBFdGhlclNwb3J0KAogICAgYWRkcmVzcyBfZXRoRnVuZEFkZHJlc3MsCiAgICB1aW50MjU2IF9zdGFydEJsb2NrLAogICAgdWludDI1NiBfcHJlSWNvSGVpZ2h0LAogICAgdWludDI1NiBfc3RhZ2UxSGVpZ2h0LAogICAgdWludDI1NiBfc3RhZ2UySGVpZ2h0LAogICAgdWludDI1NiBfc3RhZ2UzSGVpZ2h0LAogICAgdWludDI1NiBfc3RhZ2U0SGVpZ2h0LAogICAgdWludDI1NiBfZW5kQmxvY2tIZWlnaHQKICAgICkKICAgIHB1YmxpYwogICAgewogICAgICAgIHJlcXVpcmUoX2V0aEZ1bmRBZGRyZXNzICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZShfc3RhcnRCbG9jayA+IGJsb2NrLm51bWJlcik7CgogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsgLy8gQ3JlYXRvciBvZiBjb250cmFjdCBpcyBvd25lcgogICAgICAgIGlzRmluYWxpemVkID0gZmFsc2U7IC8vIENvbnRyb2xzIHByZS1zYWxlIHN0YXRlIHRocm91Z2ggY3Jvd2RzYWxlIHN0YXRlCiAgICAgICAgaXNTdG9wcGVkICAgPSBmYWxzZTsgLy8gQ2lyY3VpdCBicmVha2VyIChvbmx5IHRvIGJlIHVzZWQgYnkgY29udHJhY3Qgb3duZXIgaW4gY2FzZSBvZiBlbWVyZ2VuY3kpCiAgICAgICAgZXRoRnVuZEFkZHJlc3MgPSBfZXRoRnVuZEFkZHJlc3M7CiAgICAgICAgdG90YWxTdXBwbHkgICAgPSAxMDAgKiAoMTAqKjYpICogdG9rZW5Vbml0OyAgLy8gMTAwTSB0b3RhbCBFU0MgdG9rZW5zCiAgICAgICAgYXNzaWduZWRTdXBwbHkgPSAwOyAgLy8gU2V0IHN0YXJ0aW5nIGFzc2lnbmVkIHN1cHBseSB0byAwCiAgICAgICAgLy8gIFN0YWdlcyAgfER1cmF0aW9ufCBTdGFydCBkYXRlICAgICAgICAgICB8IEVuZCBkYXRlICAgICAgICAgICAgIHwgQW1vdW50IG9mICAgICAgIHwgUHJpY2UgcGVyICAgIHwgQW1vdW50IG9mIHRva2VucyB8IE1pbmltdW0gICAgIHwKICAgICAgICAvLyAgICAgICAgICB8ICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgfCB0b2tlbnMgZm9yIHNhbGUgfCB0b2tlbiBpbiBFVEggfCBwZXIgMSBFVEggICAgICAgIHwgcGF5bWVudCBFVEggfAogICAgICAgIC8vICAtLS0tLS0tLXwtLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS18CiAgICAgICAgLy8gIFByZSBJQ08gfCAxIHdlZWsgfCAxMy4xMS4yMDE3IDEyOjAwIFVUQyB8IDE5LjExLjIwMTcgMTI6MDAgVVRDIHwgMTAsMDAwLDAwMCAgICAgIHwgMC4wMDA1MCAgICAgIHwgMjAwMC4wMCAgICAgICAgICB8IDAuMDAwNSAgICAgIHwKICAgICAgICAvLyAgMSBzdGFnZSB8IDEgaG91ciB8IDIxLjExLjIwMTcgMTI6MDAgVVRDIHwgMjEuMTEuMjAxNyAxMzowMCBVVEMgfCAxMCwwMDAsMDAwICAgICAgfCAwLjAwMTAwICAgICAgfCAxMDAwLjAwICAgICAgICAgIHwgMC4wMDA1ICAgICAgfAogICAgICAgIC8vICAyIHN0YWdlIHwgMSBkYXkgIHwgMjIuMTEuMjAxNyAxMzowMCBVVEMgfCAyOS4xMS4yMDE3IDEzOjAwIFVUQyB8IDE1LDAwMCwwMDAgICAgICB8IDAuMDAxMzAgICAgICB8IDc2OS4yMyAgICAgICAgICAgfCAwLjAwMDUgICAgICB8CiAgICAgICAgLy8gIDMgc3RhZ2UgfCAxIHdlZWsgfCAyMi4xMS4yMDE3IDEzOjAwIFVUQyB8IDI5LjExLjIwMTcgMTM6MDAgVVRDIHwgMTUsMDAwLDAwMCAgICAgIHwgMC4wMDE3MCAgICAgIHwgNTg4LjI0ICAgICAgICAgICB8IDAuMDAwNSAgICAgIHwKICAgICAgICAvLyAgNCBzdGFnZSB8IDMgd2Vla3N8IDI5LjExLjIwMTcgMTM6MDAgVVRDIHwgMjAuMTIuMjAxNyAxMzowMCBVVEMgfCAyMCwwMDAsMDAwICAgICAgfCAwLjAwMjAwICAgICAgfCA1MDAuMDAgICAgICAgICAgIHwgMC4wMDA1ICAgICAgfAogICAgICAgIC8vICAtLS0tLS0tLXwtLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS18CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgNzAsMDAwLDAwMCAgICAgIHwKICAgICAgICBjZFsncHJlSWNvJ11bJ3N0YXJ0QmxvY2snXSA9IF9zdGFydEJsb2NrOyAgICAgICAgICAgICAgICAgY2RbJ3ByZUljbyddWydlbmRCbG9jayddID0gX3N0YXJ0QmxvY2sgKyBfcHJlSWNvSGVpZ2h0OyAgICAgY2RbJ3ByZUljbyddWydjYXAnXSA9IDEwICogMTAqKjYgKiAxMCoqMTg7IGNkWydwcmVJY28nXVsnZXhSYXRlJ10gPSAyMDAwMDA7CiAgICAgICAgY2RbJ3N0YWdlMSddWydzdGFydEJsb2NrJ10gPSBfc3RhcnRCbG9jayArIF9zdGFnZTFIZWlnaHQ7IGNkWydzdGFnZTEnXVsnZW5kQmxvY2snXSA9IF9zdGFydEJsb2NrICsgX3N0YWdlMkhlaWdodCAtIDE7IGNkWydzdGFnZTEnXVsnY2FwJ10gPSAxMCAqIDEwKio2ICogMTAqKjE4OyBjZFsnc3RhZ2UxJ11bJ2V4UmF0ZSddID0gMTAwMDAwOwogICAgICAgIGNkWydzdGFnZTInXVsnc3RhcnRCbG9jayddID0gX3N0YXJ0QmxvY2sgKyBfc3RhZ2UySGVpZ2h0OyBjZFsnc3RhZ2UyJ11bJ2VuZEJsb2NrJ10gPSBfc3RhcnRCbG9jayArIF9zdGFnZTNIZWlnaHQgLSAxOyBjZFsnc3RhZ2UyJ11bJ2NhcCddID0gMTUgKiAxMCoqNiAqIDEwKioxODsgY2RbJ3N0YWdlMiddWydleFJhdGUnXSA9IDc2OTIzOwogICAgICAgIGNkWydzdGFnZTMnXVsnc3RhcnRCbG9jayddID0gX3N0YXJ0QmxvY2sgKyBfc3RhZ2UzSGVpZ2h0OyBjZFsnc3RhZ2UzJ11bJ2VuZEJsb2NrJ10gPSBfc3RhcnRCbG9jayArIF9zdGFnZTRIZWlnaHQgLSAxOyBjZFsnc3RhZ2UzJ11bJ2NhcCddID0gMTUgKiAxMCoqNiAqIDEwKioxODsgY2RbJ3N0YWdlMyddWydleFJhdGUnXSA9IDU4ODI0OwogICAgICAgIGNkWydzdGFnZTQnXVsnc3RhcnRCbG9jayddID0gX3N0YXJ0QmxvY2sgKyBfc3RhZ2U0SGVpZ2h0OyBjZFsnc3RhZ2U0J11bJ2VuZEJsb2NrJ10gPSBfc3RhcnRCbG9jayArIF9lbmRCbG9ja0hlaWdodDsgICBjZFsnc3RhZ2U0J11bJ2NhcCddID0gMjAgKiAxMCoqNiAqIDEwKioxODsgY2RbJ3N0YWdlNCddWydleFJhdGUnXSA9IDUwMDAwOwogICAgICAgIHN0YXJ0QmxvY2sgPSBfc3RhcnRCbG9jazsKICAgICAgICBlbmRCbG9jayAgID0gX3N0YXJ0QmxvY2sgK19lbmRCbG9ja0hlaWdodDsKCiAgICAgICAgZXNjRnVuZEFkZHJlc3MgPSAweGZBMjlEMDA0ZkQ0MTM5QjA0YmRhNWZhMjYzM2JkNzMyNGQ2ZjZjNzY7CiAgICAgICAgYWxsb2NhdGlvbnNMZW5ndGggPSAwOwogICAgICAgIC8v4oCiIDEzJSAoMTPigJkwMDDigJkwMDAgRVNDKSB3aWxsIHJlbWFpbiBhdCBFdGhlclNwb3J0IGZvciBzdXBwb3J0aW5nIHRoZSBnYW1lIHByb2Nlc3M7CiAgICAgICAgYWxsb2NhdGUoZXNjRnVuZEFkZHJlc3MsIDApOyAvLyB3aWxsIHJlbWFpbiBhdCBFdGhlclNwb3J0IGZvciBzdXBwb3J0aW5nIHRoZSBnYW1lIHByb2Nlc3MgKHJlbWFpbmluZyB1bmFzc2lnbmVkIHN1cHBseSk7CiAgICAgICAgYWxsb2NhdGUoMHg2MTBhMjA1MzZlN2I3QTM2MUQ2YzkxOTUyOURCYzFFMDM3RTFCRWNCLCA1ICogMTAqKjYgKiAxMCoqMTgpOyAvLyB3aWxsIHJlbWFpbiBhdCBFdGhlclNwb3J0IGZvciBzdXBwb3J0aW5nIHRoZSBnYW1lIHByb2Nlc3M7CiAgICAgICAgYWxsb2NhdGUoMHgxOThiZDZiZTBENzQ3MTExQkVCZDViRDA1M2E1OTRGRDYzRjNlODdkLCA0ICogMTAqKjYgKiAxMCoqMTgpOyAvLyB3aWxsIHJlbWFpbiBhdCBFdGhlclNwb3J0IGZvciBzdXBwb3J0aW5nIHRoZSBnYW1lIHByb2Nlc3M7CiAgICAgICAgYWxsb2NhdGUoMHgwMjQwMUU1Qjk4MjAyYTU3OUYwMDY3NzgxZDY2RkJkNEYyNzAwQ2I2LCA0ICogMTAqKjYgKiAxMCoqMTgpOyAvLyB3aWxsIHJlbWFpbiBhdCBFdGhlclNwb3J0IGZvciBzdXBwb3J0aW5nIHRoZSBnYW1lIHByb2Nlc3M7CiAgICAgICAgLy/igKIgNSUgKDXigJkwMDDigJkwMDAgRVNDKSB3aWxsIGJlIGFsbG9jYXRlZCBmb3IgdGhlIGJvdW50eSBjYW1wYWlnbjsKICAgICAgICBhbGxvY2F0ZSgweDc3OEFDRWNmNTI1MjAyNjY2NzViMDliOEY1MjcyMDk4RDg2NzlmNDMsIDMgKiAxMCoqNiAqIDEwKioxOCk7IC8vIHdpbGwgYmUgYWxsb2NhdGVkIGZvciB0aGUgYm91bnR5IGNhbXBhaWduOwogICAgICAgIGFsbG9jYXRlKDB4ZEU5NmZkYUZmNGY4NjVBMUUyNzA4NTQyNjk1Njc0OGM1RDRiOGUyNCwgMiAqIDEwKio2ICogMTAqKjE4KTsgLy8gd2lsbCBiZSBhbGxvY2F0ZWQgZm9yIHRoZSBib3VudHkgY2FtcGFpZ247CiAgICAgICAgLy/igKIgNSUgKDXigJkwMDDigJkwMDAgRVNDKSB3aWxsIGJlIHBhaWQgdG8gdGhlIHByb2plY3QgZm91bmRlcnMgYW5kIHRoZSB0ZWFtOwogICAgICAgIGFsbG9jYXRlKDB4NEUxMDEyNWZjOTM0RkNBREI3YTMwYjk3RjliNGI2NDJkNDgwNGUzZCwgMiAqIDEwKio2ICogMTAqKjE4KTsgLy8gd2lsbCBiZSBwYWlkIHRvIHRoZSBwcm9qZWN0IGZvdW5kZXJzIGFuZCB0aGUgdGVhbTsKICAgICAgICBhbGxvY2F0ZSgweEYzOTFCNWI2MkZkNDM0MDE3NTFjNjVhRjVEMUQwMkQ4NTBBYjZiN2MsIDIgKiAxMCoqNiAqIDEwKioxOCk7IC8vIHdpbGwgYmUgcGFpZCB0byB0aGUgcHJvamVjdCBmb3VuZGVycyBhbmQgdGhlIHRlYW07CiAgICAgICAgYWxsb2NhdGUoMHgwODQ3NEJjQzVGOEJCOUVFZTZjQWM3Q0JBOWI2ZmIxZDIwZUY1QUE0LCAxICogMTAqKjYgKiAxMCoqMTgpOyAvLyB3aWxsIGJlIHBhaWQgdG8gdGhlIHByb2plY3QgZm91bmRlcnMgYW5kIHRoZSB0ZWFtOwogICAgICAgIC8v4oCiIDUlICg14oCZMDAw4oCZMDAwIEVTQykgd2lsbCBiZSBwYWlkIHRvIHRoZSBBbmdlbCBpbnZlc3RvcnM7CiAgICAgICAgYWxsb2NhdGUoMHg5RjU4MTgxOTZFNDVjZUMyZDU3REZjMGZjMGUzRDczODhlNWRlNDhkLCAyICogMTAqKjYgKiAxMCoqMTgpOyAvLyB3aWxsIGJlIHBhaWQgdG8gdGhlIEFuZ2VsIGludmVzdG9ycy4KICAgICAgICBhbGxvY2F0ZSgweDllNDM2NjdEMWUzRmI0NjBmMWYyNDMyRDBGRjMyMDMzNjRhM2QyODQsIDIgKiAxMCoqNiAqIDEwKioxOCk7IC8vIHdpbGwgYmUgcGFpZCB0byB0aGUgQW5nZWwgaW52ZXN0b3JzLgogICAgICAgIGFsbG9jYXRlKDB4ODA5MDQwRDYyMjZGRTczZjI0NWEwYTE2RGQ2ODViNTY0MTU0MEI3NCwgIDUwMCAqIDEwKiozICogMTAqKjE4KTsgLy8gd2lsbCBiZSBwYWlkIHRvIHRoZSBBbmdlbCBpbnZlc3RvcnMuCiAgICAgICAgYWxsb2NhdGUoMHhhRTI1NDJkMTZjYzNENmQ0ODdmZTg3RmMwQzAzYWQwRDQxZTQ2QUZmLCAgNTAwICogMTAqKjMgKiAxMCoqMTgpOyAvLyB3aWxsIGJlIHBhaWQgdG8gdGhlIEFuZ2VsIGludmVzdG9ycy4KICAgICAgICAvL+KAoiAxJSAoMeKAmTAwMOKAmTAwMCBFU0MpIHdpbGwgYmUgbGVmdCBpbiB0aGUgc3lzdGVtIGZvciBidWlsZGluZyB0aGUgZmlyc3QgamFja3BvdDsKICAgICAgICBhbGxvY2F0ZSgweGJDODJERTIyNjEwYzUxQUNlNDVkM0JDZjAzYjliM2NkMTc5NzMxYjIsIDEgKiAxMCoqNiAqIDEwKioxOCk7IC8vIHdpbGwgYmUgbGVmdCBpbiB0aGUgc3lzdGVtIGZvciBidWlsZGluZyB0aGUgZmlyc3QgamFja3BvdDsKICAgICAgICAvL+KAoiAxJSAoMeKAmTAwMOKAmTAwMCBFU0MpIHdpbGwgYmUgZGlzdHJpYnV0ZWQgYW1vbmcgYWR2aXNvcnM7CiAgICAgICAgYWxsb2NhdGUoMHgzMDJDZDZENDE4NjZlYzAzZWRGNDIxYTBDRDRmNGNiREZCMEI2N2IwLCAgODAwICogMTAqKjMgKiAxMCoqMTgpOyAvLyB3aWxsIGJlIGRpc3RyaWJ1dGVkIGFtb25nIGFkdmlzb3JzOwogICAgICAgIGFsbG9jYXRlKDB4ZTE5MENDYjJmOTJBMGRDQWMzMGJiNGE0YTkyODYzODc5ZTVmZjc1MSwgICA1MCAqIDEwKiozICogMTAqKjE4KTsgLy8gd2lsbCBiZSBkaXN0cmlidXRlZCBhbW9uZyBhZHZpc29yczsKICAgICAgICBhbGxvY2F0ZSgweGZDN2NmMjBmMjlmNTY5MGRGNTA4RGQwRkI5OWJGQ0I0YTdkMjMwNzMsICAxMDAgKiAxMCoqMyAqIDEwKioxOCk7IC8vIHdpbGwgYmUgZGlzdHJpYnV0ZWQgYW1vbmcgYWR2aXNvcnM7CiAgICAgICAgYWxsb2NhdGUoMHgxREM5N0QzN2VDYmY3RDI1NUJGNGQ0NjEwNzU5MzZkZjJCZEZkNzQyLCAgIDUwICogMTAqKjMgKiAxMCoqMTgpOyAvLyB3aWxsIGJlIGRpc3RyaWJ1dGVkIGFtb25nIGFkdmlzb3JzOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFN0b3Agc2FsZSBpbiBjYXNlIG9mIGVtZXJnZW5jeSAoaS5lLiBjaXJjdWl0IGJyZWFrZXIpCiAgICAvLy8gQGRldiBPbmx5IGFsbG93ZWQgdG8gYmUgY2FsbGVkIGJ5IHRoZSBvd25lcgogICAgZnVuY3Rpb24gc3RvcFNhbGUoKSBvbmx5Qnkob3duZXIpIGV4dGVybmFsIHsKICAgICAgICBpc1N0b3BwZWQgPSB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFJlc3RhcnQgc2FsZSBpbiBjYXNlIG9mIGFuIGVtZXJnZW5jeSBzdG9wCiAgICAvLy8gQGRldiBPbmx5IGFsbG93ZWQgdG8gYmUgY2FsbGVkIGJ5IHRoZSBvd25lcgogICAgZnVuY3Rpb24gcmVzdGFydFNhbGUoKSBvbmx5Qnkob3duZXIpIGV4dGVybmFsIHsKICAgICAgICBpc1N0b3BwZWQgPSBmYWxzZTsKICAgIH0KCiAgICAvLy8gQGRldiBGYWxsYmFjayBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBidXkgdG9rZW5zCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHB1YmxpYyB7CiAgICAgICAgY2xhaW1Ub2tlbnMoKTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBDYWxjdWxhdGUgcmF0ZSBiYXNlZCBvbiBibG9jayBudW1iZXIKICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVRva2VuRXhjaGFuZ2VSYXRlKCkgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGlmIChjZFsncHJlSWNvJ11bJ3N0YXJ0QmxvY2snXSA8PSBibG9jay5udW1iZXIgJiYgYmxvY2subnVtYmVyIDw9IGNkWydwcmVJY28nXVsnZW5kQmxvY2snXSkgeyByZXR1cm4gY2RbJ3ByZUljbyddWydleFJhdGUnXTsgfQogICAgICAgIGlmIChjZFsnc3RhZ2UxJ11bJ3N0YXJ0QmxvY2snXSA8PSBibG9jay5udW1iZXIgJiYgYmxvY2subnVtYmVyIDw9IGNkWydzdGFnZTEnXVsnZW5kQmxvY2snXSkgeyByZXR1cm4gY2RbJ3N0YWdlMSddWydleFJhdGUnXTsgfQogICAgICAgIGlmIChjZFsnc3RhZ2UyJ11bJ3N0YXJ0QmxvY2snXSA8PSBibG9jay5udW1iZXIgJiYgYmxvY2subnVtYmVyIDw9IGNkWydzdGFnZTInXVsnZW5kQmxvY2snXSkgeyByZXR1cm4gY2RbJ3N0YWdlMiddWydleFJhdGUnXTsgfQogICAgICAgIGlmIChjZFsnc3RhZ2UzJ11bJ3N0YXJ0QmxvY2snXSA8PSBibG9jay5udW1iZXIgJiYgYmxvY2subnVtYmVyIDw9IGNkWydzdGFnZTMnXVsnZW5kQmxvY2snXSkgeyByZXR1cm4gY2RbJ3N0YWdlMyddWydleFJhdGUnXTsgfQogICAgICAgIGlmIChjZFsnc3RhZ2U0J11bJ3N0YXJ0QmxvY2snXSA8PSBibG9jay5udW1iZXIgJiYgYmxvY2subnVtYmVyIDw9IGNkWydzdGFnZTQnXVsnZW5kQmxvY2snXSkgeyByZXR1cm4gY2RbJ3N0YWdlNCddWydleFJhdGUnXTsgfQogICAgICAgIC8vIGluIGNhc2UgYmV0d2VlbiBQcmUtSUNPIGFuZCBJQ08KICAgICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBmdW5jdGlvbiBtYXhpbXVtVG9rZW5zVG9CdXkoKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBtYXhpbXVtID0gMDsKICAgICAgICBpZiAoY2RbJ3ByZUljbyddWydzdGFydEJsb2NrJ10gPD0gYmxvY2subnVtYmVyKSB7IG1heGltdW0gPSBtYXhpbXVtLmFkZChjZFsncHJlSWNvJ11bJ2NhcCddKTsgfQogICAgICAgIGlmIChjZFsnc3RhZ2UxJ11bJ3N0YXJ0QmxvY2snXSA8PSBibG9jay5udW1iZXIpIHsgbWF4aW11bSA9IG1heGltdW0uYWRkKGNkWydzdGFnZTEnXVsnY2FwJ10pOyB9CiAgICAgICAgaWYgKGNkWydzdGFnZTInXVsnc3RhcnRCbG9jayddIDw9IGJsb2NrLm51bWJlcikgeyBtYXhpbXVtID0gbWF4aW11bS5hZGQoY2RbJ3N0YWdlMiddWydjYXAnXSk7IH0KICAgICAgICBpZiAoY2RbJ3N0YWdlMyddWydzdGFydEJsb2NrJ10gPD0gYmxvY2subnVtYmVyKSB7IG1heGltdW0gPSBtYXhpbXVtLmFkZChjZFsnc3RhZ2UzJ11bJ2NhcCddKTsgfQogICAgICAgIGlmIChjZFsnc3RhZ2U0J11bJ3N0YXJ0QmxvY2snXSA8PSBibG9jay5udW1iZXIpIHsgbWF4aW11bSA9IG1heGltdW0uYWRkKGNkWydzdGFnZTQnXVsnY2FwJ10pOyB9CiAgICAgICAgcmV0dXJuIG1heGltdW0uc3ViKGFzc2lnbmVkU3VwcGx5KTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBDcmVhdGUgYG1zZy52YWx1ZWAgRVRIIHdvcnRoIG9mIEVTQwogICAgLy8vIEBkZXYgT25seSBhbGxvd2VkIHRvIGJlIGNhbGxlZCB3aXRoaW4gdGhlIHRpbWVmcmFtZSBvZiB0aGUgc2FsZSBwZXJpb2QKICAgIGZ1bmN0aW9uIGNsYWltVG9rZW5zKCkgcmVzcGVjdFRpbWVGcmFtZSBpc1ZhbGlkU3RhdGUgcGF5YWJsZSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IG1pbmltdW1QYXltZW50KTsKCiAgICAgICAgdWludDI1NiB0b2tlbkV4Y2hhbmdlUmF0ZSA9IGNhbGN1bGF0ZVRva2VuRXhjaGFuZ2VSYXRlKCk7CiAgICAgICAgLy8gdG9rZW5FeGNoYW5nZVJhdGUgPT0gMCBtZWFuIHRoYXQgbm93IG5vdCB2YWxpZCB0aW1lIHRvIHRha2UgcGFydCBpbiBjcm93ZHNhbGUgZXZlbnQKICAgICAgICByZXF1aXJlKHRva2VuRXhjaGFuZ2VSYXRlID4gMCk7CgogICAgICAgIHVpbnQyNTYgdG9rZW5zID0gbXNnLnZhbHVlLm11bCh0b2tlbkV4Y2hhbmdlUmF0ZSkuZGl2KDEwMCk7CgogICAgICAgIC8vIENoZWNrIHRoYXQgd2UgY2FuIHNlbGwgdGhpcyBhbW91bnQgb2YgdG9rZW5zIGluIHRoZSBtb21lbnQKICAgICAgICByZXF1aXJlKHRva2VucyA8PSBtYXhpbXVtVG9rZW5zVG9CdXkoKSk7CgogICAgICAgIC8vIENoZWNrIHRoYXQgd2UncmUgbm90IG92ZXIgdG90YWxzCiAgICAgICAgdWludDI1NiBjaGVja2VkU3VwcGx5ID0gYXNzaWduZWRTdXBwbHkuYWRkKHRva2Vucyk7CgogICAgICAgIC8vIFJldHVybiBtb25leSBpZiB3ZSdyZSBvdmVyIHRvdGFsIHRva2VuIHN1cHBseQogICAgICAgIHJlcXVpcmUoY2hlY2tlZFN1cHBseS5hZGQoZXNjRnVuZCkgPD0gdG90YWxTdXBwbHkpOwoKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLmFkZCh0b2tlbnMpOwogICAgICAgIHB1cmNoYXNlc1ttc2cuc2VuZGVyXSA9IHB1cmNoYXNlc1ttc2cuc2VuZGVyXS5hZGQodG9rZW5zKTsKCiAgICAgICAgYXNzaWduZWRTdXBwbHkgPSBjaGVja2VkU3VwcGx5OwogICAgICAgIENsYWltRVNDKG1zZy5zZW5kZXIsIHRva2Vucyk7ICAvLyBMb2dzIHRva2VuIGNyZWF0aW9uIGZvciBVSSBwdXJwb3NlcwogICAgICAgIC8vIEFzIHBlciBFUkMyMCBzcGVjLCBhIHRva2VuIGNvbnRyYWN0IHdoaWNoIGNyZWF0ZXMgbmV3IHRva2VucyBTSE9VTEQgdHJpZ2dlciBhIFRyYW5zZmVyIGV2ZW50IHdpdGggdGhlIF9mcm9tIGFkZHJlc3MKICAgICAgICAvLyBzZXQgdG8gMHgwIHdoZW4gdG9rZW5zIGFyZSBjcmVhdGVkIChodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9ibG9iL21hc3Rlci9FSVBTL2VpcC0yMC10b2tlbi1zdGFuZGFyZC5tZCkKICAgICAgICBUcmFuc2ZlcigweDAsIG1zZy5zZW5kZXIsIHRva2Vucyk7CiAgICB9CgogICAgLy8vIEBub3RpY2UgU2VuZHMgdGhlIEVUSCB0byBFVEggZnVuZCB3YWxsZXQgYW5kIGZpbmFsaXplcyB0aGUgdG9rZW4gc2FsZQogICAgZnVuY3Rpb24gZmluYWxpemUoKSBzYWxlUGVyaW9kQ29tcGxldGVkIGlzVmFsaWRTdGF0ZSBvbmx5Qnkob3duZXIpIGV4dGVybmFsIHsKICAgICAgICAvLyBVcG9uIHN1Y2Nlc3NmdWwgY29tcGxldGlvbiBvZiBzYWxlLCBzZW5kIHRva2VucyB0byBFU0MgZnVuZAogICAgICAgIGJhbGFuY2VzW2VzY0Z1bmRBZGRyZXNzXSA9IGJhbGFuY2VzW2VzY0Z1bmRBZGRyZXNzXS5hZGQoZXNjRnVuZCk7CiAgICAgICAgYXNzaWduZWRTdXBwbHkgPSBhc3NpZ25lZFN1cHBseS5hZGQoZXNjRnVuZCk7CiAgICAgICAgQ2xhaW1FU0MoZXNjRnVuZEFkZHJlc3MsIGVzY0Z1bmQpOyAgIC8vIExvZyB0b2tlbnMgY2xhaW1lZCBieSBFdGhlcnNwb3J0IEVTQyBmdW5kCiAgICAgICAgVHJhbnNmZXIoMHgwLCBlc2NGdW5kQWRkcmVzcywgZXNjRnVuZCk7CgoKICAgICAgICBmb3IodWludCBpPTA7aTxhbGxvY2F0aW9uc0xlbmd0aDtpKyspCiAgICAgICAgewogICAgICAgICAgICBiYWxhbmNlc1thbGxvY2F0aW9uc0luZGV4W2ldXSA9IGJhbGFuY2VzW2FsbG9jYXRpb25zSW5kZXhbaV1dLmFkZChhbGxvY2F0aW9uc1thbGxvY2F0aW9uc0luZGV4W2ldXSk7CiAgICAgICAgICAgIENsYWltRVNDKGFsbG9jYXRpb25zSW5kZXhbaV0sIGFsbG9jYXRpb25zW2FsbG9jYXRpb25zSW5kZXhbaV1dKTsgIC8vIExvZyB0b2tlbnMgY2xhaW1lZCBieSBFdGhlcnNwb3J0IEVTQyBmdW5kCiAgICAgICAgICAgIFRyYW5zZmVyKDB4MCwgYWxsb2NhdGlvbnNJbmRleFtpXSwgYWxsb2NhdGlvbnNbYWxsb2NhdGlvbnNJbmRleFtpXV0pOwogICAgICAgIH0KCiAgICAgICAgLy8gSW4gdGhlIGNhc2Ugd2hlcmUgbm90IGFsbCA3ME0gRVNDIGFsbG9jYXRlZCB0byBjcm93ZGZ1bmQgcGFydGljaXBhbnRzCiAgICAgICAgLy8gaXMgc29sZCwgc2VuZCB0aGUgcmVtYWluaW5nIHVuYXNzaWduZWQgc3VwcGx5IHRvIEVTQyBmdW5kIGFkZHJlc3MsCiAgICAgICAgLy8gd2hpY2ggd2lsbCB0aGVuIGJlIHVzZWQgdG8gZnVuZCB0aGUgdXNlciBncm93dGggcG9vbC4KICAgICAgICBpZiAoYXNzaWduZWRTdXBwbHkgPCB0b3RhbFN1cHBseSkgewogICAgICAgICAgICB1aW50MjU2IHVuYXNzaWduZWRTdXBwbHkgPSB0b3RhbFN1cHBseS5zdWIoYXNzaWduZWRTdXBwbHkpOwogICAgICAgICAgICBiYWxhbmNlc1tlc2NGdW5kQWRkcmVzc10gPSBiYWxhbmNlc1tlc2NGdW5kQWRkcmVzc10uYWRkKHVuYXNzaWduZWRTdXBwbHkpOwogICAgICAgICAgICBhc3NpZ25lZFN1cHBseSA9IGFzc2lnbmVkU3VwcGx5LmFkZCh1bmFzc2lnbmVkU3VwcGx5KTsKCiAgICAgICAgICAgIENsYWltRVNDKGVzY0Z1bmRBZGRyZXNzLCB1bmFzc2lnbmVkU3VwcGx5KTsgIC8vIExvZyB0b2tlbnMgY2xhaW1lZCBieSBFdGhlcnNwb3J0IEVTQyBmdW5kCiAgICAgICAgICAgIFRyYW5zZmVyKDB4MCwgZXNjRnVuZEFkZHJlc3MsIHVuYXNzaWduZWRTdXBwbHkpOwogICAgICAgIH0KCiAgICAgICAgZXRoRnVuZEFkZHJlc3MudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKCiAgICAgICAgaXNGaW5hbGl6ZWQgPSB0cnVlOyAvLyBGaW5hbGl6ZSBzYWxlCiAgICB9Cn0='.
	

]
