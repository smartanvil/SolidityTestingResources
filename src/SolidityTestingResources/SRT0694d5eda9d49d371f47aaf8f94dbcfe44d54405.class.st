Class {
	#name : #SRT0694d5eda9d49d371f47aaf8f94dbcfe44d54405,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT0694d5eda9d49d371f47aaf8f94dbcfe44d54405 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7Cgpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSBwdWJsaWM7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7Cn0KCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSBwdWJsaWM7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdmFsdWUpIHB1YmxpYzsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKSA7Cn0KCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIG1heDY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9Cn0KCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBiYWxhbmNlczsKCiAgLyoqCiAgICogQGRldiBGaXggZm9yIHRoZSBFUkMyMCBzaG9ydCBhZGRyZXNzIGF0dGFjay4KICAgKi8KICBtb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludCBzaXplKSB7CiAgICAgaWYobXNnLmRhdGEubGVuZ3RoIDwgc2l6ZSArIDQpIHsKICAgICAgIHJldmVydCgpOwogICAgIH0KICAgICBfOwogIH0KCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKSBwdWJsaWN7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludCByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50IGJhbGFuY2UpewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBCYXNpY1Rva2VuLCBFUkMyMCB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seVBheWxvYWRTaXplKDMgKiAzMikgcHVibGljewogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgIC8vIGlmIChfdmFsdWUgPiBfYWxsb3dhbmNlKSB0aHJvdzsKCiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlYWhsZiBvZiBtc2cuc2VuZGVyLgogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHB1YmxpY3sKCiAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICBpZiAoKF92YWx1ZSAhPSAwKSAmJiAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gIT0gMCkpIHJldmVydCgpOwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYW4gYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKfQoKY29udHJhY3QgSUFNRVRva2VuIGlzIFN0YW5kYXJkVG9rZW4gewoJdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgoJLyovLyBrZWNjYWsyNTYgaGFzaCBvZiBoaWRkZW4gY2FwCglzdHJpbmcgcHVibGljIGNvbnN0YW50IEhJRERFTl9DQVAgPSAiMHhkMjJmMTlkNTQxOTNmZjVlMDhlN2JhODhjOGU1MmVjMWI5ZmM4ZDRlMGNmMTc3ZTFiZThhNzY0ZmE1YjM3NWZhIjsqLwoKCS8vIEV2ZW50cwoJZXZlbnQgQ3JlYXRlZElBTShhZGRyZXNzIGluZGV4ZWQgX2NyZWF0b3IsIHVpbnQyNTYgX2Ftb3VudE9mSUFNKTsKCWV2ZW50IElBTVJlZnVuZGVkRm9yV2VpKGFkZHJlc3MgaW5kZXhlZCBfcmVmdW5kZXIsIHVpbnQyNTYgX2Ftb3VudE9mV2VpKTsKCgkvLyBUb2tlbiBkYXRhCglzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiSUFNRSBUb2tlbiI7CglzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJJQU0iOwoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsgIC8vIFNpbmNlIG91ciBkZWNpbWFscyBlcXVhbHMgdGhlIG51bWJlciBvZiB3ZWkgcGVyIGV0aGVyLCB3ZSBuZWVkbid0IG11bHRpcGx5IHNlbnQgdmFsdWVzIHdoZW4gY29udmVydGluZyBiZXR3ZWVuIElBTSBhbmQgRVRILgoJc3RyaW5nIHB1YmxpYyB2ZXJzaW9uID0gIjEuMCI7CgoJLy8gQWRkcmVzc2VzIGFuZCBjb250cmFjdHMKCWFkZHJlc3MgcHVibGljIGV4ZWN1dG9yOwoJYWRkcmVzcyBwdWJsaWMgZGV2RVRIRGVzdGluYXRpb247CglhZGRyZXNzIHB1YmxpYyByZXNlcnZlSUFNRGVzdGluYXRpb247CgoJLy8gU2FsZSBkYXRhCglib29sIHB1YmxpYyBzYWxlSGFzRW5kZWQ7Cglib29sIHB1YmxpYyBtaW5DYXBSZWFjaGVkOwoJYm9vbCBwdWJsaWMgYWxsb3dSZWZ1bmQ7CgltYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBFVEhDb250cmlidXRlZDsKCXVpbnQyNTYgcHVibGljIHRvdGFsRVRIUmFpc2VkOwoJdWludDI1NiBwdWJsaWMgc2FsZVN0YXJ0QmxvY2s7Cgl1aW50MjU2IHB1YmxpYyBzYWxlRW5kQmxvY2s7Cgl1aW50MjU2IHB1YmxpYyBzYWxlRmlyc3RQcmVzYWxlRW5kQmxvY2s7Cgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBSRVNFUlZFX1BPUlRJT05fTVVMVElQTElFUiA9IDE7ICAvLyBNdWx0aXBsaWVyIHVzZWQgYWZ0ZXIgc2FsZQoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgU0VDVVJJVFlfRVRIRVJfQ0FQID0gMTAwMDAwMCBldGhlcjsKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IElBTV9QRVJfRVRIX0JBU0VfUkFURSA9IDEwMDA7ICAvLyAxMDAwIElBTSA9IDEgRVRIIGR1cmluZyBub3JtYWwgcGFydCBvZiB0b2tlbiBzYWxlCgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBJQU1fUEVSX0VUSF9QUkVfU0FMRV9SQVRFID0gMjAwMDsKICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBQUkVfU0FMRV9DQVAgPSA2MDAwMDAwOwoKCWZ1bmN0aW9uIElBTUVUb2tlbigKCQlhZGRyZXNzIF9kZXZFVEhEZXN0aW5hdGlvbiwKCQlhZGRyZXNzIF9yZXNlcnZlSUFNRGVzdGluYXRpb24sCgkJdWludDI1NiBfc2FsZVN0YXJ0QmxvY2ssCgkJdWludDI1NiBfc2FsZUVuZEJsb2NrCgkpIHsKCQkvLyBSZWplY3Qgb24gaW52YWxpZCBFVEggZGVzdGluYXRpb24gYWRkcmVzcyBvciAgZGVzdGluYXRpb24gYWRkcmVzcwoJCWlmIChfZGV2RVRIRGVzdGluYXRpb24gPT0gYWRkcmVzcygweDApKSByZXZlcnQoKTsKCQlpZiAoX3Jlc2VydmVJQU1EZXN0aW5hdGlvbiA9PSBhZGRyZXNzKDB4MCkpIHJldmVydCgpOwoJCS8vIFJlamVjdCBpZiBzYWxlIGVuZHMgYmVmb3JlIHRoZSBjdXJyZW50IGJsb2NrCgkJaWYgKF9zYWxlRW5kQmxvY2sgPD0gYmxvY2subnVtYmVyKSByZXZlcnQoKTsKCQkvLyBSZWplY3QgaWYgdGhlIHNhbGUgZW5kIHRpbWUgaXMgbGVzcyB0aGFuIHRoZSBzYWxlIHN0YXJ0IHRpbWUKCQlpZiAoX3NhbGVFbmRCbG9jayA8PSBfc2FsZVN0YXJ0QmxvY2spIHJldmVydCgpOwoKCQlleGVjdXRvciA9IG1zZy5zZW5kZXI7CgkJc2FsZUhhc0VuZGVkID0gZmFsc2U7CgkJbWluQ2FwUmVhY2hlZCA9IGZhbHNlOwoJCWFsbG93UmVmdW5kID0gZmFsc2U7CgkJZGV2RVRIRGVzdGluYXRpb24gPSBfZGV2RVRIRGVzdGluYXRpb247CgkJcmVzZXJ2ZUlBTURlc3RpbmF0aW9uID0gX3Jlc2VydmVJQU1EZXN0aW5hdGlvbjsKCQl0b3RhbEVUSFJhaXNlZCA9IDA7CgkJc2FsZVN0YXJ0QmxvY2sgPSBfc2FsZVN0YXJ0QmxvY2s7CgkJc2FsZUVuZEJsb2NrID0gX3NhbGVFbmRCbG9jazsKCQlzYWxlRmlyc3RQcmVzYWxlRW5kQmxvY2sgPSBzYWxlU3RhcnRCbG9jayArIDYyNjA4OyAgLy8gRXF1aXZhbGVudCB0byAyNCBob3VycyBsYXRlciwgYXNzdW1pbmcgMTQgc2Vjb25kIGJsb2NrcwoJCXRvdGFsU3VwcGx5ID0gMDsKCX0KCglmdW5jdGlvbiAoKSBwYXlhYmxlIHsKCQkvLyBJZiBzYWxlIGlzIG5vdCBhY3RpdmUsIGRvIG5vdCBjcmVhdGUgSUFNCgkJaWYgKHNhbGVIYXNFbmRlZCkgcmV2ZXJ0KCk7CgkJaWYgKGJsb2NrLm51bWJlciA8IHNhbGVTdGFydEJsb2NrKSByZXZlcnQoKTsKCQlpZiAoYmxvY2subnVtYmVyID4gc2FsZUVuZEJsb2NrKSByZXZlcnQoKTsKCQkvLyBDaGVjayBpZiB0aGUgYmFsYW5jZSBpcyBncmVhdGVyIHRoYW4gdGhlIHNlY3VyaXR5IGNhcAoJCXVpbnQyNTYgbmV3RXRoZXJCYWxhbmNlID0gdG90YWxFVEhSYWlzZWQuYWRkKG1zZy52YWx1ZSk7CgkJaWYgKG5ld0V0aGVyQmFsYW5jZSA+IFNFQ1VSSVRZX0VUSEVSX0NBUCkgcmV2ZXJ0KCk7CgkJLy8gRG8gbm90IGRvIGFueXRoaW5nIGlmIHRoZSBhbW91bnQgb2YgZXRoZXIgc2VudCBpcyAwCgkJaWYgKDAgPT0gbXNnLnZhbHVlKSByZXZlcnQoKTsKCgkJLy8gQ2FsY3VsYXRlIHRoZSBJQU0gdG8gRVRIIHJhdGUgZm9yIHRoZSBjdXJyZW50IHRpbWUgcGVyaW9kIG9mIHRoZSBzYWxlCgkJdWludDI1NiBjdXJUb2tlblJhdGUgPSBJQU1fUEVSX0VUSF9CQVNFX1JBVEU7CgkJaWYgKGJsb2NrLm51bWJlciA8IHNhbGVGaXJzdFByZXNhbGVFbmRCbG9jayB8fCB0b3RhbFN1cHBseSA8IFBSRV9TQUxFX0NBUCkgewoJCSAgICBjdXJUb2tlblJhdGUgPSBJQU1fUEVSX0VUSF9QUkVfU0FMRV9SQVRFOwoJCX0KCgkJLy8gQ2FsY3VsYXRlIHRoZSBhbW91bnQgb2YgSUFNIGJlaW5nIHB1cmNoYXNlZAoJCXVpbnQyNTYgYW1vdW50T2ZJQU0gPSBtc2cudmFsdWUubXVsKGN1clRva2VuUmF0ZSk7CgoJCS8vIEVuc3VyZSB0aGF0IHRoZSB0cmFuc2FjdGlvbiBpcyBzYWZlCgkJdWludDI1NiB0b3RhbFN1cHBseVNhZmUgPSB0b3RhbFN1cHBseS5hZGQoYW1vdW50T2ZJQU0pOwoJCXVpbnQyNTYgYmFsYW5jZVNhZmUgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQoYW1vdW50T2ZJQU0pOwoJCXVpbnQyNTYgY29udHJpYnV0ZWRTYWZlID0gRVRIQ29udHJpYnV0ZWRbbXNnLnNlbmRlcl0uYWRkKG1zZy52YWx1ZSk7CgoJCS8vIFVwZGF0ZSBpbmRpdmlkdWFsIGFuZCB0b3RhbCBiYWxhbmNlcwoJCXRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHlTYWZlOwoJCWJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZVNhZmU7CgoJCXRvdGFsRVRIUmFpc2VkID0gbmV3RXRoZXJCYWxhbmNlOwoJCUVUSENvbnRyaWJ1dGVkW21zZy5zZW5kZXJdID0gY29udHJpYnV0ZWRTYWZlOwoKCQlDcmVhdGVkSUFNKG1zZy5zZW5kZXIsIGFtb3VudE9mSUFNKTsKCX0KCglmdW5jdGlvbiBlbmRTYWxlKCkgewoJCS8vIERvIG5vdCBlbmQgYW4gYWxyZWFkeSBlbmRlZCBzYWxlCgkJaWYgKHNhbGVIYXNFbmRlZCkgcmV2ZXJ0KCk7CgkJLy8gQ2FuJ3QgZW5kIGEgc2FsZSB0aGF0IGhhc24ndCBoaXQgaXRzIG1pbmltdW0gY2FwCgkJaWYgKCFtaW5DYXBSZWFjaGVkKSByZXZlcnQoKTsKCQkvLyBPbmx5IGFsbG93IHRoZSBvd25lciB0byBlbmQgdGhlIHNhbGUKCQlpZiAobXNnLnNlbmRlciAhPSBleGVjdXRvcikgcmV2ZXJ0KCk7CgoJCXNhbGVIYXNFbmRlZCA9IHRydWU7CgoJCS8vIENhbGN1bGF0ZSBhbmQgY3JlYXRlIHJlc2VydmUgcG9ydGlvbiBvZiBJQU0KCQl1aW50MjU2IHJlc2VydmVTaGFyZSA9ICh0b3RhbFN1cHBseS5tdWwoUkVTRVJWRV9QT1JUSU9OX01VTFRJUExJRVIpKTsKCQl1aW50MjU2IHRvdGFsU3VwcGx5U2FmZSA9IHRvdGFsU3VwcGx5LmFkZChyZXNlcnZlU2hhcmUpOwoKCQl0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5U2FmZTsKCQliYWxhbmNlc1tyZXNlcnZlSUFNRGVzdGluYXRpb25dID0gcmVzZXJ2ZVNoYXJlOwoKCQlDcmVhdGVkSUFNKHJlc2VydmVJQU1EZXN0aW5hdGlvbiwgcmVzZXJ2ZVNoYXJlKTsKCgkJaWYgKHRoaXMuYmFsYW5jZSA+IDApIHsKCQkJaWYgKCFkZXZFVEhEZXN0aW5hdGlvbi5jYWxsLnZhbHVlKHRoaXMuYmFsYW5jZSkoKSkgcmV2ZXJ0KCk7CgkJfQoJfQoKCS8vIEFsbG93cyBCbG9ja0lBTSB0byB3aXRoZHJhdyBmdW5kcwoJZnVuY3Rpb24gd2l0aGRyYXdGdW5kcygpIHsKCQkvLyBEaXNhbGxvdyB3aXRoZHJhdyBpZiB0aGUgbWluaW11bSBoYXNuJ3QgYmVlbiByZWFjaGVkCgkJaWYgKCFtaW5DYXBSZWFjaGVkKSByZXZlcnQoKTsKCQlpZiAoMCA9PSB0aGlzLmJhbGFuY2UpIHJldmVydCgpOwoKCQlpZiAoIWRldkVUSERlc3RpbmF0aW9uLmNhbGwudmFsdWUodGhpcy5iYWxhbmNlKSgpKSByZXZlcnQoKTsKCX0KCgkvLyBTaWduYWxzIHRoYXQgdGhlIHNhbGUgaGFzIHJlYWNoZWQgaXRzIG1pbmltdW0gZnVuZGluZyBnb2FsCglmdW5jdGlvbiB0cmlnZ2VyTWluQ2FwKCkgewoJCWlmIChtc2cuc2VuZGVyICE9IGV4ZWN1dG9yKSByZXZlcnQoKTsKCgkJbWluQ2FwUmVhY2hlZCA9IHRydWU7Cgl9CgoJLy8gT3BlbnMgcmVmdW5kaW5nLgoJZnVuY3Rpb24gdHJpZ2dlclJlZnVuZCgpIHsKCQkvLyBObyByZWZ1bmRzIGlmIHRoZSBzYWxlIHdhcyBzdWNjZXNzZnVsCgkJaWYgKHNhbGVIYXNFbmRlZCkgcmV2ZXJ0KCk7CgkJLy8gTm8gcmVmdW5kcyBpZiBtaW5pbXVtIGNhcCBpcyBoaXQKCQlpZiAobWluQ2FwUmVhY2hlZCkgcmV2ZXJ0KCk7CgkJLy8gTm8gcmVmdW5kcyBpZiB0aGUgc2FsZSBpcyBzdGlsbCBwcm9ncmVzc2luZwoJCWlmIChibG9jay5udW1iZXIgPCBzYWxlRW5kQmxvY2spIHJldmVydCgpOwoJCWlmIChtc2cuc2VuZGVyICE9IGV4ZWN1dG9yKSByZXZlcnQoKTsKCgkJYWxsb3dSZWZ1bmQgPSB0cnVlOwoJfQoKCWZ1bmN0aW9uIHJlZnVuZCgpIGV4dGVybmFsIHsKCQkvLyBObyByZWZ1bmRzIHVudGlsIGl0IGlzIGFwcHJvdmVkCgkJaWYgKCFhbGxvd1JlZnVuZCkgcmV2ZXJ0KCk7CgkJLy8gTm90aGluZyB0byByZWZ1bmQKCQlpZiAoMCA9PSBFVEhDb250cmlidXRlZFttc2cuc2VuZGVyXSkgcmV2ZXJ0KCk7CgoJCS8vIERvIHRoZSByZWZ1bmQuCgkJdWludDI1NiBldGhlckFtb3VudCA9IEVUSENvbnRyaWJ1dGVkW21zZy5zZW5kZXJdOwoJCUVUSENvbnRyaWJ1dGVkW21zZy5zZW5kZXJdID0gMDsKCgkJSUFNUmVmdW5kZWRGb3JXZWkobXNnLnNlbmRlciwgZXRoZXJBbW91bnQpOwoJCWlmICghbXNnLnNlbmRlci5zZW5kKGV0aGVyQW1vdW50KSkgcmV2ZXJ0KCk7Cgl9CgoJZnVuY3Rpb24gY2hhbmdlRGV2ZWxvcGVyRVRIRGVzdGluYXRpb25BZGRyZXNzKGFkZHJlc3MgX25ld0FkZHJlc3MpIHsKCQlpZiAobXNnLnNlbmRlciAhPSBleGVjdXRvcikgcmV2ZXJ0KCk7CgkJZGV2RVRIRGVzdGluYXRpb24gPSBfbmV3QWRkcmVzczsKCX0KCglmdW5jdGlvbiBjaGFuZ2VSZXNlcnZlSUFNRGVzdGluYXRpb25BZGRyZXNzKGFkZHJlc3MgX25ld0FkZHJlc3MpIHsKCQlpZiAobXNnLnNlbmRlciAhPSBleGVjdXRvcikgcmV2ZXJ0KCk7CgkJcmVzZXJ2ZUlBTURlc3RpbmF0aW9uID0gX25ld0FkZHJlc3M7Cgl9CgoJZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSB7CgkJLy8gQ2Fubm90IHRyYW5zZmVyIHVubGVzcyB0aGUgbWluaW11bSBjYXAgaXMgaGl0CgkJaWYgKCFtaW5DYXBSZWFjaGVkKSByZXZlcnQoKTsKCgkJc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwoJfQoKCWZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHsKCQkvLyBDYW5ub3QgdHJhbnNmZXIgdW5sZXNzIHRoZSBtaW5pbXVtIGNhcCBpcyBoaXQKCQlpZiAoIW1pbkNhcFJlYWNoZWQpIHJldmVydCgpOwoKCQlzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKCX0KfQ=='.
	

]
