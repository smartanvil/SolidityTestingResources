Class {
	#name : #SRTb8a1de113ecfafb9e12adcc76673c69068178438,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTb8a1de113ecfafb9e12adcc76673c69068178438 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7CgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzCiAqLwpjb250cmFjdCBTYWZlTWF0aCB7CgogICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhICogYjsKICAgICAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICAgICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAgICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9Cgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBTYWZlTWF0aCB7CgogICAgLyoKICAgICAqICBEYXRhIHN0cnVjdHVyZXMKICAgICAqLwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKICAgIAogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIDEwMTAwMDAwMTAwMTExMTAxMDAxMTExMDEwMTAwMDA7IC8vIFBPT1AgaW4gYmluYXJ5CiAgICB9CgogICAgLyoKICAgICAqICBSZWFkIGFuZCB3cml0ZSBzdG9yYWdlIGZ1bmN0aW9ucwogICAgICovCiAgICAvLy8gQGRldiBUcmFuc2ZlcnMgc2VuZGVyJ3MgdG9rZW5zIHRvIGEgZ2l2ZW4gYWRkcmVzcy4gUmV0dXJucyBzdWNjZXNzLgogICAgLy8vIEBwYXJhbSBfdG8gQWRkcmVzcyBvZiB0b2tlbiByZWNlaXZlci4KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIE51bWJlciBvZiB0b2tlbnMgdG8gdHJhbnNmZXIuCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IG11bChiYWxhbmNlc1ttc2cuc2VuZGVyXSwgMTApOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAZGV2IEFsbG93cyBhbGxvd2VkIHRoaXJkIHBhcnR5IHRvIHRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIuIFJldHVybnMgc3VjY2Vzcy4KICAgIC8vLyBAcGFyYW0gX2Zyb20gQWRkcmVzcyBmcm9tIHdoZXJlIHRva2VucyBhcmUgd2l0aGRyYXduLgogICAgLy8vIEBwYXJhbSBfdG8gQWRkcmVzcyB0byB3aGVyZSB0b2tlbnMgYXJlIHNlbnQuCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyLgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW19mcm9tXTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBiYWxhbmNlc1tfZnJvbV0pOwogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IG11bChiYWxhbmNlc1tfZnJvbV0sIDEwKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLy8gQGRldiBSZXR1cm5zIG51bWJlciBvZiB0b2tlbnMgb3duZWQgYnkgZ2l2ZW4gYWRkcmVzcy4KICAgIC8vLyBAcGFyYW0gX293bmVyIEFkZHJlc3Mgb2YgdG9rZW4gb3duZXIuCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIC8vLyBAZGV2IFNldHMgYXBwcm92ZWQgYW1vdW50IG9mIHRva2VucyBmb3Igc3BlbmRlci4gUmV0dXJucyBzdWNjZXNzLgogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBBZGRyZXNzIG9mIGFsbG93ZWQgYWNjb3VudC4KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIE51bWJlciBvZiBhcHByb3ZlZCB0b2tlbnMuCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKgogICAgICogUmVhZCBzdG9yYWdlIGZ1bmN0aW9ucwogICAgICovCiAgICAvLy8gQGRldiBSZXR1cm5zIG51bWJlciBvZiBhbGxvd2VkIHRva2VucyBmb3IgZ2l2ZW4gYWRkcmVzcy4KICAgIC8vLyBAcGFyYW0gX293bmVyIEFkZHJlc3Mgb2YgdG9rZW4gb3duZXIuCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIEFkZHJlc3Mgb2YgdG9rZW4gc3BlbmRlci4KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9Cgp9CgovLy8gQGRldiBgT3duZWRgIGlzIGEgYmFzZSBsZXZlbCBjb250cmFjdCB0aGF0IGFzc2lnbnMgYW4gYG93bmVyYCB0aGF0IGNhbiBiZQovLy8gIGxhdGVyIGNoYW5nZWQsIHRoaXMgYG93bmVyYCBpcyBncmFudGVkIHRoZSBleGNsdXNpdmUgcmlnaHQgdG8gZXhlY3V0ZSAKLy8vICBmdW5jdGlvbnMgdGFnZ2VkIHdpdGggdGhlIGBvbmx5T3duZXJgIG1vZGlmaWVyCmNvbnRyYWN0IE93bmVkIHsKCiAgICAvLy8gQGRldiBgb3duZXJgIGlzIHRoZSBvbmx5IGFkZHJlc3MgdGhhdCBjYW4gY2FsbCBhIGZ1bmN0aW9uIHdpdGggdGhpcwogICAgLy8vIG1vZGlmaWVyOyB0aGUgZnVuY3Rpb24gYm9keSBpcyBpbnNlcnRlZCB3aGVyZSB0aGUgc3BlY2lhbCBzeW1ib2wKICAgIC8vLyAiXzsiIGluIHRoZSBkZWZpbml0aW9uIG9mIGEgbW9kaWZpZXIgYXBwZWFycy4KICAgICAgICAvLy8gbW9kaWZpZXIKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlIChtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIC8vLyBAbm90aWNlIFRoZSBDb25zdHJ1Y3RvciBhc3NpZ25zIHRoZSBhZGRyZXNzIHRoYXQgZGVwbG95cyB0aGlzIGNvbnRyYWN0CiAgICAvLy8gdG8gYmUgYG93bmVyYAogICAgZnVuY3Rpb24gT3duZWQoKSBwdWJsaWMgeyBvd25lciA9IG1zZy5zZW5kZXI7fQoKICAgIC8vLyBAbm90aWNlIGBvd25lcmAgY2FuIHN0ZXAgZG93biBhbmQgYXNzaWduIHNvbWUgb3RoZXIgYWRkcmVzcyB0byB0aGlzIHJvbGUKICAgIC8vLyBAcGFyYW0gX25ld093bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBuZXcgb3duZXIuIDB4MCBjYW4gYmUgdXNlZCB0byBjcmVhdGUKICAgIC8vLyAgYW4gdW5vd25lZCBuZXV0cmFsIHZhdWx0LCBob3dldmVyIHRoYXQgY2Fubm90IGJlIHVuZG9uZQogICAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICAgICAgb3duZXIgPSBfbmV3T3duZXI7CiAgICAgICAgTmV3T3duZXIobXNnLnNlbmRlciwgX25ld093bmVyKTsKICAgIH0KICAgIAogICAgLy8vIEBkZXYgRXZlbnRzIG1ha2UgaXQgZWFzaWVyIHRvIHNlZSB0aGF0IHNvbWV0aGluZyBoYXMgaGFwcGVuZCBvbiB0aGUKICAgIC8vLyAgIGJsb2NrY2hhaW4KICAgIGV2ZW50IE5ld093bmVyKGFkZHJlc3MgaW5kZXhlZCBvbGRPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKfQoKCi8vLyBAZGV2IGBFc2NhcGFibGVgIGlzIGEgYmFzZSBsZXZlbCBjb250cmFjdCBidWlsdCBvZmYgb2YgdGhlIGBPd25lZGAKLy8vICBjb250cmFjdDsgaXQgY3JlYXRlcyBhbiBlc2NhcGUgaGF0Y2ggZnVuY3Rpb24gdGhhdCBjYW4gYmUgY2FsbGVkIGluIGFuCi8vLyAgZW1lcmdlbmN5IHRoYXQgd2lsbCBhbGxvdyBkZXNpZ25hdGVkIGFkZHJlc3NlcyB0byBzZW5kIGFueSBldGhlciBvciB0b2tlbnMKLy8vICBoZWxkIGluIHRoZSBjb250cmFjdCB0byBhbiBgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbmAgYXMgbG9uZyBhcyB0aGV5IHdlcmUKLy8vICBub3QgYmxhY2tsaXN0ZWQKY29udHJhY3QgRXNjYXBhYmxlIGlzIE93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIGVzY2FwZUhhdGNoQ2FsbGVyOwogICAgYWRkcmVzcyBwdWJsaWMgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbjsKICAgIG1hcHBpbmcgKGFkZHJlc3M9PmJvb2wpIHByaXZhdGUgZXNjYXBlQmxhY2tsaXN0OyAvLyBUb2tlbiBjb250cmFjdCBhZGRyZXNzZXMKCiAgICAvLy8gQG5vdGljZSBUaGUgQ29uc3RydWN0b3IgYXNzaWducyB0aGUgYGVzY2FwZUhhdGNoRGVzdGluYXRpb25gIGFuZCB0aGUKICAgIC8vLyAgYGVzY2FwZUhhdGNoQ2FsbGVyYAogICAgLy8vIEBwYXJhbSBfZXNjYXBlSGF0Y2hDYWxsZXIgVGhlIGFkZHJlc3Mgb2YgYSB0cnVzdGVkIGFjY291bnQgb3IgY29udHJhY3QKICAgIC8vLyAgdG8gY2FsbCBgZXNjYXBlSGF0Y2goKWAgdG8gc2VuZCB0aGUgZXRoZXIgaW4gdGhpcyBjb250cmFjdCB0byB0aGUKICAgIC8vLyAgYGVzY2FwZUhhdGNoRGVzdGluYXRpb25gIGl0IHdvdWxkIGJlIGlkZWFsIHRoYXQgYGVzY2FwZUhhdGNoQ2FsbGVyYAogICAgLy8vICBjYW5ub3QgbW92ZSBmdW5kcyBvdXQgb2YgYGVzY2FwZUhhdGNoRGVzdGluYXRpb25gCiAgICAvLy8gQHBhcmFtIF9lc2NhcGVIYXRjaERlc3RpbmF0aW9uIFRoZSBhZGRyZXNzIG9mIGEgc2FmZSBsb2NhdGlvbiAodXN1IGEKICAgIC8vLyAgTXVsdGlzaWcpIHRvIHNlbmQgdGhlIGV0aGVyIGhlbGQgaW4gdGhpcyBjb250cmFjdDsgaWYgYSBuZXV0cmFsIGFkZHJlc3MKICAgIC8vLyAgaXMgcmVxdWlyZWQsIHRoZSBXSEcgTXVsdGlzaWcgaXMgYW4gb3B0aW9uOgogICAgLy8vICAweDhGZjkyMDAyMGM4QUQ2NzM2NjFjODExN2YyODU1QzM4NDc1OEM1NzIgCiAgICBmdW5jdGlvbiBFc2NhcGFibGUoYWRkcmVzcyBfZXNjYXBlSGF0Y2hDYWxsZXIsIGFkZHJlc3MgX2VzY2FwZUhhdGNoRGVzdGluYXRpb24pIHB1YmxpYyB7CiAgICAgICAgZXNjYXBlSGF0Y2hDYWxsZXIgPSBfZXNjYXBlSGF0Y2hDYWxsZXI7CiAgICAgICAgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbiA9IF9lc2NhcGVIYXRjaERlc3RpbmF0aW9uOwogICAgfQoKICAgIC8vLyBAZGV2IFRoZSBhZGRyZXNzZXMgcHJlYXNzaWduZWQgYXMgYGVzY2FwZUhhdGNoQ2FsbGVyYCBvciBgb3duZXJgCiAgICAvLy8gIGFyZSB0aGUgb25seSBhZGRyZXNzZXMgdGhhdCBjYW4gY2FsbCBhIGZ1bmN0aW9uIHdpdGggdGhpcyBtb2RpZmllcgogICAgbW9kaWZpZXIgb25seUVzY2FwZUhhdGNoQ2FsbGVyT3JPd25lciB7CiAgICAgICAgcmVxdWlyZSAoKG1zZy5zZW5kZXIgPT0gZXNjYXBlSGF0Y2hDYWxsZXIpfHwobXNnLnNlbmRlciA9PSBvd25lcikpOwogICAgICAgIF87CiAgICB9CgogICAgLy8vIEBub3RpY2UgQ3JlYXRlcyB0aGUgYmxhY2tsaXN0IG9mIHRva2VucyB0aGF0IGFyZSBub3QgYWJsZSB0byBiZSB0YWtlbgogICAgLy8vICBvdXQgb2YgdGhlIGNvbnRyYWN0OyBjYW4gb25seSBiZSBkb25lIGF0IHRoZSBkZXBsb3ltZW50LCBhbmQgdGhlIGxvZ2ljCiAgICAvLy8gIHRvIGFkZCB0byB0aGUgYmxhY2tsaXN0IHdpbGwgYmUgaW4gdGhlIGNvbnN0cnVjdG9yIG9mIGEgY2hpbGQgY29udHJhY3QKICAgIC8vLyBAcGFyYW0gX3Rva2VuIHRoZSB0b2tlbiBjb250cmFjdCBhZGRyZXNzIHRoYXQgaXMgdG8gYmUgYmxhY2tsaXN0ZWQgCiAgICBmdW5jdGlvbiBibGFja2xpc3RFc2NhcGVUb2tlbihhZGRyZXNzIF90b2tlbikgaW50ZXJuYWwgewogICAgICAgIGVzY2FwZUJsYWNrbGlzdFtfdG9rZW5dID0gdHJ1ZTsKICAgICAgICBFc2NhcGVIYXRjaEJsYWNraXN0ZWRUb2tlbihfdG9rZW4pOwogICAgfQoKICAgIC8vLyBAbm90aWNlIENoZWNrcyB0byBzZWUgaWYgYF90b2tlbmAgaXMgaW4gdGhlIGJsYWNrbGlzdCBvZiB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3Rva2VuIHRoZSB0b2tlbiBhZGRyZXNzIGJlaW5nIHF1ZXJpZWQKICAgIC8vLyBAcmV0dXJuIEZhbHNlIGlmIGBfdG9rZW5gIGlzIGluIHRoZSBibGFja2xpc3QgYW5kIGNhbid0IGJlIHRha2VuIG91dCBvZgogICAgLy8vICB0aGUgY29udHJhY3QgdmlhIHRoZSBgZXNjYXBlSGF0Y2goKWAKICAgIGZ1bmN0aW9uIGlzVG9rZW5Fc2NhcGFibGUoYWRkcmVzcyBfdG9rZW4pIHZpZXcgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gIWVzY2FwZUJsYWNrbGlzdFtfdG9rZW5dOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFRoZSBgZXNjYXBlSGF0Y2goKWAgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGFzIGEgbGFzdCByZXNvcnQgaWYgYQogICAgLy8vIHNlY3VyaXR5IGlzc3VlIGlzIHVuY292ZXJlZCBvciBzb21ldGhpbmcgdW5leHBlY3RlZCBoYXBwZW5lZAogICAgLy8vIEBwYXJhbSBfdG9rZW4gdG8gdHJhbnNmZXIsIHVzZSAweDAgZm9yIGV0aGVyCiAgICBmdW5jdGlvbiBlc2NhcGVIYXRjaChhZGRyZXNzIF90b2tlbikgcHVibGljIG9ubHlFc2NhcGVIYXRjaENhbGxlck9yT3duZXIgeyAgIAogICAgICAgIHJlcXVpcmUoZXNjYXBlQmxhY2tsaXN0W190b2tlbl09PWZhbHNlKTsKCiAgICAgICAgdWludDI1NiBiYWxhbmNlOwoKICAgICAgICAvLy8gQGRldiBMb2dpYyBmb3IgZXRoZXIKICAgICAgICBpZiAoX3Rva2VuID09IDB4MCkgewogICAgICAgICAgICBiYWxhbmNlID0gdGhpcy5iYWxhbmNlOwogICAgICAgICAgICBlc2NhcGVIYXRjaERlc3RpbmF0aW9uLnRyYW5zZmVyKGJhbGFuY2UpOwogICAgICAgICAgICBFc2NhcGVIYXRjaENhbGxlZChfdG9rZW4sIGJhbGFuY2UpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vLyBAZGV2IExvZ2ljIGZvciB0b2tlbnMKICAgICAgICBFUkMyMCB0b2tlbiA9IEVSQzIwKF90b2tlbik7CiAgICAgICAgYmFsYW5jZSA9IHRva2VuLmJhbGFuY2VPZih0aGlzKTsKICAgICAgICByZXF1aXJlKHRva2VuLnRyYW5zZmVyKGVzY2FwZUhhdGNoRGVzdGluYXRpb24sIGJhbGFuY2UpKTsKICAgICAgICBFc2NhcGVIYXRjaENhbGxlZChfdG9rZW4sIGJhbGFuY2UpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIENoYW5nZXMgdGhlIGFkZHJlc3MgYXNzaWduZWQgdG8gY2FsbCBgZXNjYXBlSGF0Y2goKWAKICAgIC8vLyBAcGFyYW0gX25ld0VzY2FwZUhhdGNoQ2FsbGVyIFRoZSBhZGRyZXNzIG9mIGEgdHJ1c3RlZCBhY2NvdW50IG9yCiAgICAvLy8gIGNvbnRyYWN0IHRvIGNhbGwgYGVzY2FwZUhhdGNoKClgIHRvIHNlbmQgdGhlIHZhbHVlIGluIHRoaXMgY29udHJhY3QgdG8KICAgIC8vLyAgdGhlIGBlc2NhcGVIYXRjaERlc3RpbmF0aW9uYDsgaXQgd291bGQgYmUgaWRlYWwgdGhhdCBgZXNjYXBlSGF0Y2hDYWxsZXJgCiAgICAvLy8gIGNhbm5vdCBtb3ZlIGZ1bmRzIG91dCBvZiBgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbmAKICAgIGZ1bmN0aW9uIGNoYW5nZUhhdGNoRXNjYXBlQ2FsbGVyKGFkZHJlc3MgX25ld0VzY2FwZUhhdGNoQ2FsbGVyKSBwdWJsaWMgb25seUVzY2FwZUhhdGNoQ2FsbGVyT3JPd25lciB7CiAgICAgICAgZXNjYXBlSGF0Y2hDYWxsZXIgPSBfbmV3RXNjYXBlSGF0Y2hDYWxsZXI7CiAgICB9CgogICAgZXZlbnQgRXNjYXBlSGF0Y2hCbGFja2lzdGVkVG9rZW4oYWRkcmVzcyB0b2tlbik7CiAgICBldmVudCBFc2NhcGVIYXRjaENhbGxlZChhZGRyZXNzIHRva2VuLCB1aW50IGFtb3VudCk7Cn0KCi8vLyBAZGV2IFRoaXMgaXMgYW4gZW1wdHkgY29udHJhY3QgdG8gZGVjbGFyZSBgcHJveHlQYXltZW50KClgIHRvIGNvbXBseSB3aXRoCi8vLyAgR2l2ZXRoIENhbXBhaWducyBzbyB0aGF0IHRva2VucyB3aWxsIGJlIGdlbmVyYXRlZCB3aGVuIGRvbmF0aW9ucyBhcmUgc2VudApjb250cmFjdCBDYW1wYWlnbiB7CgogICAgLy8vIEBub3RpY2UgYHByb3h5UGF5bWVudCgpYCBhbGxvd3MgdGhlIGNhbGxlciB0byBzZW5kIGV0aGVyIHRvIHRoZSBDYW1wYWlnbiBhbmQKICAgIC8vLyBoYXZlIHRoZSB0b2tlbnMgY3JlYXRlZCBpbiBhbiBhZGRyZXNzIG9mIHRoZWlyIGNob29zaW5nCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0aGF0IHdpbGwgaG9sZCB0aGUgbmV3bHkgY3JlYXRlZCB0b2tlbnMKICAgIGZ1bmN0aW9uIHByb3h5UGF5bWVudChhZGRyZXNzIF9vd25lcikgcGF5YWJsZSByZXR1cm5zKGJvb2wpOwp9CgovLy8gQHRpdGxlIFRva2VuIGNvbnRyYWN0IC0gSW1wbGVtZW50cyBTdGFuZGFyZCBUb2tlbiBJbnRlcmZhY2UgYnV0IGFkZHMgQ2hhcml0eSBTdXBwb3J0IDopCi8vLyBAYXV0aG9yIFJpc2hhYiBIZWdkZSAtIDw8c3BhbiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9IjdhMTkxNTE0MGUxYjE5MGUzYTA4MTMwOTEyMWIxODEyMWYxZDFlMWY1NDE5MTUxNyI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvc3Bhbj4+CmNvbnRyYWN0IEZvb2xUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBFc2NhcGFibGUgewoKICAgIC8qCiAgICAgKiBUb2tlbiBtZXRhIGRhdGEKICAgICAqLwogICAgc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBuYW1lID0gIkZvb2xUb2tlbiI7CiAgICBzdHJpbmcgY29uc3RhbnQgcHVibGljIHN5bWJvbCA9ICJGT09MIjsKICAgIHVpbnQ4IGNvbnN0YW50IHB1YmxpYyBkZWNpbWFscyA9IDE4OwogICAgYm9vbCBwdWJsaWMgYWxpdmUgPSB0cnVlOwogICAgQ2FtcGFpZ24gcHVibGljIGJlbmVmaWNpYXJ5OyAvLyBleHBlY3RlZCB0byBiZSBhIEdpdmV0aCBjYW1wYWlnbgoKICAgIC8vLyBAZGV2IENvbnRyYWN0IGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHNldHMgR2l2ZXRoIGNhbXBhaWduCiAgICBmdW5jdGlvbiBGb29sVG9rZW4oCiAgICAgICAgQ2FtcGFpZ24gX2JlbmVmaWNpYXJ5LAogICAgICAgIGFkZHJlc3MgX2VzY2FwZUhhdGNoQ2FsbGVyLAogICAgICAgIGFkZHJlc3MgX2VzY2FwZUhhdGNoRGVzdGluYXRpb24KICAgICkKICAgICAgICBFc2NhcGFibGUoX2VzY2FwZUhhdGNoQ2FsbGVyLCBfZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbikKICAgIHsgICAKICAgICAgICBiZW5lZmljaWFyeSA9IF9iZW5lZmljaWFyeTsKICAgIH0KCiAgICAvKgogICAgICogQ29udHJhY3QgZnVuY3Rpb25zCiAgICAgKi8KICAgIC8vLyBAZGV2IEFsbG93cyB1c2VyIHRvIGNyZWF0ZSB0b2tlbnMgaWYgdG9rZW4gY3JlYXRpb24gaXMgc3RpbGwgZ29pbmcKICAgIC8vLyBhbmQgY2FwIHdhcyBub3QgcmVhY2hlZC4gUmV0dXJucyB0b2tlbiBjb3VudC4KICAgIGZ1bmN0aW9uICgpCiAgICAgIHB1YmxpYwogICAgICBwYXlhYmxlIAogICAgewogICAgICByZXF1aXJlKGFsaXZlKTsKICAgICAgcmVxdWlyZShtc2cudmFsdWUgIT0gMCkgOwoKICAgICByZXF1aXJlKGJlbmVmaWNpYXJ5LnByb3h5UGF5bWVudC52YWx1ZShtc2cudmFsdWUpKG1zZy5zZW5kZXIpKTsKCiAgICAgIHVpbnQgdG9rZW5Db3VudCA9IGRpdigxIGV0aGVyICogMTAgKiogMTgsIG1zZy52YWx1ZSk7CiAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYWRkKGJhbGFuY2VzW21zZy5zZW5kZXJdLCB0b2tlbkNvdW50KTsKICAgICAgVHJhbnNmZXIoMCwgbXNnLnNlbmRlciwgdG9rZW5Db3VudCk7CiAgICB9CgogICAgLy8vIEBkZXYgQWxsb3dzIGZvdW5kZXIgdG8gc2h1dCBkb3duIHRoZSBjb250cmFjdAogICAgZnVuY3Rpb24ga2lsbHN3aXRjaCgpCiAgICAgIG9ubHlPd25lcgogICAgICBwdWJsaWMKICAgIHsKICAgICAgYWxpdmUgPSBmYWxzZTsKICAgIH0KfQ=='.
	

]
