Class {
	#name : #SRT7e6b43363b00a9e09fbe5708f3218eed0c4d86a6,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT7e6b43363b00a9e09fbe5708f3218eed0c4d86a6 >> base64 [
	^ 'Y29udHJhY3QgVG9rZW4gewogICAgLyogVGhpcyBpcyBhIHNsaWdodCBjaGFuZ2UgdG8gdGhlIEVSQzIwIGJhc2Ugc3RhbmRhcmQuCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgc3VwcGx5KTsKICAgIGlzIHJlcGxhY2VkIHdpdGg6CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIFRoaXMgYXV0b21hdGljYWxseSBjcmVhdGVzIGEgZ2V0dGVyIGZ1bmN0aW9uIGZvciB0aGUgdG90YWxTdXBwbHkuCiAgICBUaGlzIGlzIG1vdmVkIHRvIHRoZSBiYXNlIGNvbnRyYWN0IHNpbmNlIHB1YmxpYyBnZXR0ZXIgZnVuY3Rpb25zIGFyZSBub3QKICAgIGN1cnJlbnRseSByZWNvZ25pc2VkIGFzIGFuIGltcGxlbWVudGF0aW9uIG9mIHRoZSBtYXRjaGluZyBhYnN0cmFjdAogICAgZnVuY3Rpb24gYnkgdGhlIGNvbXBpbGVyLgogICAgKi8KICAgIC8vLyB0b3RhbCBhbW91bnQgb2YgdG9rZW5zCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICAvLy8gQHJldHVybiBUaGUgYmFsYW5jZQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX3NwZW5kZXJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2ZlcgogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgLy8vIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudAogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKfQoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBUb2tlbiB7CgogICAgdWludDI1NiBjb25zdGFudCBNQVhfVUlOVDI1NiA9IDIqKjI1NiAtIDE7CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHVpbnQyNTYgYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93YW5jZSA+PSBfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgaWYgKGFsbG93YW5jZSA8IE1BWF9VSU5UMjU2KSB7CiAgICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICB9CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7Cn0KCmNvbnRyYWN0IEVSQzIyM1JlY2VpdmluZ0NvbnRyYWN0IHsKLyoqCiAqIEBkZXYgU3RhbmRhcmQgRVJDMjIzIGZ1bmN0aW9uIHRoYXQgd2lsbCBoYW5kbGUgaW5jb21pbmcgdG9rZW4gdHJhbnNmZXJzLgogKgogKiBAcGFyYW0gX2Zyb20gIFRva2VuIHNlbmRlciBhZGRyZXNzLgogKiBAcGFyYW0gX3ZhbHVlIEFtb3VudCBvZiB0b2tlbnMuCiAqIEBwYXJhbSBfZGF0YSAgVHJhbnNhY3Rpb24gbWV0YWRhdGEuCiAqLwogICAgZnVuY3Rpb24gdG9rZW5GYWxsYmFjayhhZGRyZXNzIF9mcm9tLCB1aW50IF92YWx1ZSwgYnl0ZXMgX2RhdGEpIHB1YmxpYzsKfQoKY29udHJhY3QgRVJDMjIzSW50ZXJmYWNlIHsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUsIGJ5dGVzIF9kYXRhKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGV2ZW50IEVSQzIyM1RyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludCBfdmFsdWUsIGJ5dGVzIF9kYXRhKTsKfQoKY29udHJhY3QgSHVtYW5TdGFuZGFyZFRva2VuIGlzIEVSQzIyM0ludGVyZmFjZSwgU3RhbmRhcmRUb2tlbiB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICAvKiBhcHByb3ZlQW5kQ2FsbCAqLwogICAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9leHRyYURhdGEpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKCiAgICAgICAgLy9jYWxsIHRoZSByZWNlaXZlQXBwcm92YWwgZnVuY3Rpb24gb24gdGhlIGNvbnRyYWN0IHlvdSB3YW50IHRvIGJlIG5vdGlmaWVkLiBUaGlzIGNyYWZ0cyB0aGUgZnVuY3Rpb24gc2lnbmF0dXJlIG1hbnVhbGx5IHNvIG9uZSBkb2Vzbid0IGhhdmUgdG8gaW5jbHVkZSBhIGNvbnRyYWN0IGluIGhlcmUganVzdCBmb3IgdGhpcy4KICAgICAgICAvL3JlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW5Db250cmFjdCwgYnl0ZXMgX2V4dHJhRGF0YSkKICAgICAgICAvL2l0IGlzIGFzc3VtZWQgd2hlbiBvbmUgZG9lcyB0aGlzIHRoYXQgdGhlIGNhbGwgKnNob3VsZCogc3VjY2VlZCwgb3RoZXJ3aXNlIG9uZSB3b3VsZCB1c2UgdmFuaWxsYSBhcHByb3ZlIGluc3RlYWQuCiAgICAgICAgcmVxdWlyZShfc3BlbmRlci5jYWxsKGJ5dGVzNChieXRlczMyKGtlY2NhazI1NigicmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MsdWludDI1NixhZGRyZXNzLGJ5dGVzKSIpKSksIG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSkpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qIEVSQzIyMyAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlLCBieXRlcyBfZGF0YSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAvLyBTdGFuZGFyZCBmdW5jdGlvbiB0cmFuc2ZlciBzaW1pbGFyIHRvIEVSQzIwIHRyYW5zZmVyIHdpdGggbm8gX2RhdGEgLgogICAgICAvLyBBZGRlZCBkdWUgdG8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgcmVhc29ucyAuCiAgICAgIHVpbnQgY29kZUxlbmd0aDsKCiAgICAgIGFzc2VtYmx5IHsKICAgICAgICAvLyBSZXRyaWV2ZSB0aGUgc2l6ZSBvZiB0aGUgY29kZSBvbiB0YXJnZXQgYWRkcmVzcywgdGhpcyBuZWVkcyBhc3NlbWJseSAuCiAgICAgICAgY29kZUxlbmd0aCA6PSBleHRjb2Rlc2l6ZShfdG8pCiAgICAgIH0KCiAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICBpZihjb2RlTGVuZ3RoPjApIHsKICAgICAgICBFUkMyMjNSZWNlaXZpbmdDb250cmFjdCByZWNlaXZlciA9IEVSQzIyM1JlY2VpdmluZ0NvbnRyYWN0KF90byk7CiAgICAgICAgcmVjZWl2ZXIudG9rZW5GYWxsYmFjayhtc2cuc2VuZGVyLCBfdmFsdWUsIF9kYXRhKTsKICAgICAgfQogICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgIEVSQzIyM1RyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlLCBfZGF0YSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHVpbnQgY29kZUxlbmd0aDsKICAgICAgICBieXRlcyBtZW1vcnkgZW1wdHk7CgogICAgICAgIGFzc2VtYmx5IHsKICAgICAgICAgICAgLy8gUmV0cmlldmUgdGhlIHNpemUgb2YgdGhlIGNvZGUgb24gdGFyZ2V0IGFkZHJlc3MsIHRoaXMgbmVlZHMgYXNzZW1ibHkgLgogICAgICAgICAgICBjb2RlTGVuZ3RoIDo9IGV4dGNvZGVzaXplKF90bykKICAgICAgICB9CgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgaWYoY29kZUxlbmd0aD4wKSB7CiAgICAgICAgICAgIEVSQzIyM1JlY2VpdmluZ0NvbnRyYWN0IHJlY2VpdmVyID0gRVJDMjIzUmVjZWl2aW5nQ29udHJhY3QoX3RvKTsKICAgICAgICAgICAgcmVjZWl2ZXIudG9rZW5GYWxsYmFjayhtc2cuc2VuZGVyLCBfdmFsdWUsIGVtcHR5KTsKICAgICAgICB9CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIEVSQzIyM1RyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlLCBlbXB0eSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0KCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IEx1bmV0VG9rZW4gaXMgSHVtYW5TdGFuZGFyZFRva2VuIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJMdW5ldCI7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbD0gIkxVTkVUIjsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDE4OwoKICAgIHVpbnQyNTYgcHVibGljIHRva2VuQ3JlYXRpb25DYXAgPSAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOyAvLyAxIGJpbGxpb24gTFVORVRTCiAgICB1aW50MjU2IHB1YmxpYyBsdW5ldFJlc2VydmUgPSA1MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDsgLy8gNTAgbWlsbGlvbiBMVU5FVFMgLSA1JSBvZiBMVU5FVFMKCiAgICBldmVudCBDcmVhdGVMVU5FVFMoYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUsIHVpbnQyNTYgX3RpbWVzdGFtcCk7CiAgICBldmVudCBTdGFrZWQoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgdWludDI1NiBfdGltZXN0YW1wKTsKICAgIGV2ZW50IFdpdGhkcmF3KGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgdWludDI1NiBfdmFsdWUsIHVpbnQyNTYgX3RpbWVzdGFtcCk7CgogICAgc3RydWN0IFN0YWtlIHsKICAgICAgdWludDI1NiBhbW91bnQ7CiAgICAgIHVpbnQyNTYgdGltZXN0YW1wOwogICAgfQoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gU3Rha2UpIHB1YmxpYyBzdGFrZXM7CgogICAgZnVuY3Rpb24gTHVuZXRUb2tlbigpIHB1YmxpYyB7CiAgICAgICB0b3RhbFN1cHBseSA9IGx1bmV0UmVzZXJ2ZTsKICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gbHVuZXRSZXNlcnZlOwogICAgICAgQ3JlYXRlTFVORVRTKG1zZy5zZW5kZXIsIGx1bmV0UmVzZXJ2ZSwgbm93KTsKICAgIH0KCiAgICBmdW5jdGlvbiBzdGFrZSgpIGV4dGVybmFsIHBheWFibGUgewogICAgICByZXF1aXJlKG1zZy52YWx1ZSA+IDApOwoKICAgICAgLy8gZ2V0IHN0YWtlCiAgICAgIFN0YWtlIHN0b3JhZ2Ugc3Rha2UgPSBzdGFrZXNbbXNnLnNlbmRlcl07CgogICAgICB1aW50MjU2IGFtb3VudCA9IHN0YWtlLmFtb3VudC5hZGQobXNnLnZhbHVlKTsKCiAgICAgIC8vIHVwZGF0ZSBzdGFrZQogICAgICBzdGFrZS5hbW91bnQgPSBhbW91bnQ7CiAgICAgIHN0YWtlLnRpbWVzdGFtcCA9IG5vdzsKCiAgICAgIC8vIGZpcmUgb2ZmIHN0YWtlIGV2ZW50CiAgICAgIFN0YWtlZChtc2cuc2VuZGVyLCBhbW91bnQsIG5vdyk7CiAgICB9CgogICAgZnVuY3Rpb24gd2l0aGRyYXcoKSBwdWJsaWMgewogICAgICAvLyBnZXQgc3Rha2UKICAgICAgU3Rha2Ugc3RvcmFnZSBzdGFrZSA9IHN0YWtlc1ttc2cuc2VuZGVyXTsKCiAgICAgIC8vIGNoZWNrIHRoZSBzdGFrZSBpcyBub24temVybwogICAgICByZXF1aXJlKHN0YWtlLmFtb3VudCA+IDApOwoKICAgICAgLy8gY29weSBhbW91bnQKICAgICAgdWludDI1NiBhbW91bnQgPSBzdGFrZS5hbW91bnQ7CgogICAgICAvLyByZXNldCBzdGFrZSBhbW91bnQKICAgICAgc3Rha2UuYW1vdW50ID0gMDsKCiAgICAgIC8vIHNlbmQgYW1vdW50IHRvIHN0YWtlcgogICAgICBpZiAoIW1zZy5zZW5kZXIuc2VuZChhbW91bnQpKSByZXZlcnQoKTsKCiAgICAgIC8vIGZpcmUgb2ZmIHdpdGhkcmF3IGV2ZW50CiAgICAgIFdpdGhkcmF3KG1zZy5zZW5kZXIsIGFtb3VudCwgbm93KTsKICAgIH0KCiAgICBmdW5jdGlvbiBjbGFpbSgpIHB1YmxpYyB7CiAgICAgIC8vIGdldCByZXdhcmQKICAgICAgdWludDI1NiByZXdhcmQgPSBnZXRSZXdhcmQobXNnLnNlbmRlcik7CgogICAgICAvLyBjaGVjayB0aGF0IHRoZSByZXdhcmQgaXMgbm9uLXplcm8KICAgICAgaWYgKHJld2FyZCA+IDApIHsKICAgICAgICAvLyByZXNldCB0aGUgdGltZXN0YW1wCiAgICAgICAgU3Rha2Ugc3RvcmFnZSBzdGFrZSA9IHN0YWtlc1ttc2cuc2VuZGVyXTsKICAgICAgICBzdGFrZS50aW1lc3RhbXAgPSBub3c7CgogICAgICAgIHVpbnQyNTYgY2hlY2tlZFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChyZXdhcmQpOwogICAgICAgIGlmICh0b2tlbkNyZWF0aW9uQ2FwIDwgY2hlY2tlZFN1cHBseSkgcmV2ZXJ0KCk7CgogICAgICAgIC8vIHVwZGF0ZSB0b3RhbFN1cHBseSBvZiBMVU5FVFMKICAgICAgICB0b3RhbFN1cHBseSA9IGNoZWNrZWRTdXBwbHk7CgogICAgICAgIC8vIHVwZGF0ZSBMVU5FVFMgYmFsYW5jZQogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IHJld2FyZDsKCiAgICAgICAgLy8gY3JlYXRlIExVTkVUUwogICAgICAgIENyZWF0ZUxVTkVUUyhtc2cuc2VuZGVyLCByZXdhcmQsIG5vdyk7CiAgICAgIH0KCiAgICB9CgogICAgZnVuY3Rpb24gY2xhaW1BbmRXaXRoZHJhdygpIGV4dGVybmFsIHsKICAgICAgY2xhaW0oKTsKICAgICAgd2l0aGRyYXcoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRSZXdhcmQoYWRkcmVzcyBzdGFrZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgIC8vIGdldCBzdGFrZQogICAgICBTdGFrZSBtZW1vcnkgc3Rha2UgPSBzdGFrZXNbc3Rha2VyXTsKCiAgICAgIC8vIG5lZWQgZ3JlYXRlciBwcmVjaXNpb24KICAgICAgdWludDI1NiBwcmVjaXNpb24gPSAxMDAwMDA7CgogICAgICAvLyBnZXQgZGlmZmVyZW5jZSBiZXR3ZWVuIG5vdyBhbmQgaW5pdGlhbCBzdGFrZSB0aW1lc3RhbXAKICAgICAgdWludDI1NiBkaWZmZXJlbmNlID0gbm93LnN1YihzdGFrZS50aW1lc3RhbXApLm11bChwcmVjaXNpb24pOwoKICAgICAgLy8gZ2V0IHRoZSB0b3RhbCBudW1iZXIgb2YgZGF5cyBFVEggaGFzIGJlZW4gbG9ja2VkIHVwCiAgICAgIHVpbnQgdG90YWxEYXlzID0gZGlmZmVyZW5jZS5kaXYoMSBkYXlzKTsKCiAgICAgIC8vIGNhbGN1bGF0ZSByZXdhcmQKICAgICAgdWludDI1NiByZXdhcmQgPSBzdGFrZS5hbW91bnQubXVsKHRvdGFsRGF5cykuZGl2KHByZWNpc2lvbik7CgogICAgICByZXR1cm4gcmV3YXJkOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFN0YWtlKGFkZHJlc3Mgc3Rha2VyKSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2LCB1aW50MjU2KSB7CiAgICAgIFN0YWtlIG1lbW9yeSBzdGFrZSA9IHN0YWtlc1tzdGFrZXJdOwogICAgICByZXR1cm4gKHN0YWtlLmFtb3VudCwgc3Rha2UudGltZXN0YW1wKTsKICAgIH0KfQ=='.
	

]
