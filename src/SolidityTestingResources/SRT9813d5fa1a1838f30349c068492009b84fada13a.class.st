Class {
	#name : #SRT9813d5fa1a1838f30349c068492009b84fada13a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9813d5fa1a1838f30349c068492009b84fada13a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKCgovKioKICogQHRpdGxlIFBhdXNhYmxlCiAqIEBkZXYgQmFzZSBjb250cmFjdCB3aGljaCBhbGxvd3MgY2hpbGRyZW4gdG8gaW1wbGVtZW50IGFuIGVtZXJnZW5jeSBzdG9wIG1lY2hhbmlzbS4KICovCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgewogIGV2ZW50IFBhdXNlKCk7CiAgZXZlbnQgVW5wYXVzZSgpOwoKICBib29sIHB1YmxpYyBwYXVzZWQgPSBmYWxzZTsKCgogIC8qKgogICAqIEBkZXYgTW9kaWZpZXIgdG8gbWFrZSBhIGZ1bmN0aW9uIGNhbGxhYmxlIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgaXMgbm90IHBhdXNlZC4KICAgKi8KICBtb2RpZmllciB3aGVuTm90UGF1c2VkKCkgewogICAgcmVxdWlyZSghcGF1c2VkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRvIG1ha2UgYSBmdW5jdGlvbiBjYWxsYWJsZSBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IGlzIHBhdXNlZC4KICAgKi8KICBtb2RpZmllciB3aGVuUGF1c2VkKCkgewogICAgcmVxdWlyZShwYXVzZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byBwYXVzZSwgdHJpZ2dlcnMgc3RvcHBlZCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHBhdXNlKCkgb25seU93bmVyIHdoZW5Ob3RQYXVzZWQgcHVibGljIHsKICAgIHBhdXNlZCA9IHRydWU7CiAgICBQYXVzZSgpOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHVucGF1c2UsIHJldHVybnMgdG8gbm9ybWFsIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gdW5wYXVzZSgpIG9ubHlPd25lciB3aGVuUGF1c2VkIHB1YmxpYyB7CiAgICBwYXVzZWQgPSBmYWxzZTsKICAgIFVucGF1c2UoKTsKICB9Cn0KCgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7IHJldHVybiBiYWxhbmNlc1tfb3duZXJdOyB9CiAgICAvLyBUcmFuc2ZlciBpcyBkaXNhYmxlZCBmb3IgdXNlcnMsIGFzIHRoZXNlIGFyZSBQcmVTYWxlIHRva2VucwogICAgLy9mdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiogQHRpdGxlIEdpbW1lciBQcmVTYWxlIFNtYXJ0IENvbnRyYWN0CiogQGF1dGhvciA8YSBocmVmPSIvY2RuLWNnaS9sL2VtYWlsLXByb3RlY3Rpb24iIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iNDgyNDNkMmIyOTNiMDgyZjIxMjUyNTJkM2E2NjI2MmQzYyI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvYT4sIDxhIGhyZWY9Ii9jZG4tY2dpL2wvZW1haWwtcHJvdGVjdGlvbiIgY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSIwOTYzNjA3ZDZjNjc2ZDdiNjg0OTZhNjE2MDdkN2Q2NjZkNjgyNzZhNjY2NCI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvYT4KKi8KY29udHJhY3QgR2ltbWVyUHJlU2FsZSBpcyBFUkMyMEJhc2ljLCBQYXVzYWJsZSB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICAvKioKICAgICogQGRldiBTdXBwb3J0ZXIgc3RydWN0dXJlLCB3aGljaCBhbGxvd3MgdXMgdG8gdHJhY2sKICAgICogaG93IG11Y2ggdGhlIHVzZXIgaGFzIGJvdWdodCBzbyBmYXIsIGFuZCBpZiBoZSdzIGZsYWdnZWQgYXMga25vd24KICAgICovCiAgICBzdHJ1Y3QgU3VwcG9ydGVyIHsKICAgICAgICB1aW50MjU2IHdlaVNwZW50OyAgIC8vIHRoZSB0b3RhbCBhbW91bnQgb2YgV2VpIHRoaXMgYWRkcmVzcyBoYXMgc2VudCB0byB0aGlzIGNvbnRyYWN0CiAgICAgICAgYm9vbCBoYXNLWUM7ICAgICAgICAvLyBpZiB0aGUgdXNlciBoYXMgS1lDIGZsYWdnZWQKICAgIH0KCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gU3VwcG9ydGVyKSBwdWJsaWMgc3VwcG9ydGVyc01hcDsgLy8gTWFwcGluZyB3aXRoIGFsbCB0aGUgY2FtcGFpZ24gc3VwcG9ydGVycwogICAgYWRkcmVzcyBwdWJsaWMgZnVuZFdhbGxldDsgICAgICAvLyBBZGRyZXNzIHRvIGZvcndhcmQgYWxsIEV0aGVyIHRvCiAgICBhZGRyZXNzIHB1YmxpYyBreWNNYW5hZ2VyOyAgICAgIC8vIEFkZHJlc3MgdGhhdCBtYW5hZ2VzIGFwcHJvdmFsIG9mIEtZQwogICAgdWludDI1NiBwdWJsaWMgdG9rZW5zU29sZDsgICAgICAvLyBIb3cgbWFueSB0b2tlbnMgc29sZCBpbiBQcmVTYWxlCiAgICB1aW50MjU2IHB1YmxpYyB3ZWlSYWlzZWQ7ICAgICAgIC8vIGFtb3VudCBvZiByYWlzZWQgbW9uZXkgaW4gd2VpCgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgT05FX01JTExJT04gPSAxMDAwMDAwOwogICAgLy8gTWF4aW11bSBhbW91bnQgdGhhdCBjYW4gYmUgc29sZCBkdXJpbmcgdGhlIFByZSBTYWxlIHBlcmlvZAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUFJFX1NBTEVfR01SUF9UT0tFTl9DQVAgPSAxNSAqIE9ORV9NSUxMSU9OICogMSBldGhlcjsgLy8xNSBNaWxsaW9uIEdNUlAgVG9rZW5zCgogICAgLyogQWxsb3dlZCBDb250cmlidXRpb24gaW4gRXRoZXIgKi8KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFBSRV9TQUxFXzMwX0VUSCAgICAgPSAzMCBldGhlcjsgIC8vIE1pbmltdW0gMzAgRXRoZXIgdG8gZ2V0IDI1JSBCb251cyBUb2tlbnMKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFBSRV9TQUxFXzMwMF9FVEggICAgPSAzMDAgZXRoZXI7IC8vIE1pbmltdW0gMzAwIEV0aGVyIHRvIGdldCAzMCUgQm9udXMgVG9rZW5zCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBQUkVfU0FMRV8zMDAwX0VUSCAgID0gMzAwMCBldGhlcjsvLyBNaW5pbXVtIDMwMDAgRXRoZXIgdG8gZ2V0IDQwJSBCb251cyBUb2tlbnMKCiAgICAvKiBCb251cyBUb2tlbnMgYmFzZWQgb24gdGhlIEVUSCBDb250cmlidXRlZCBpbiBzaW5nbGUgdHJhbnNhY3Rpb24gKi8KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFRPS0VOX1JBVEVfMjVfUEVSQ0VOVF9CT05VUyA9IDEyNTA7IC8vIDI1JSBCb251cyBUb2tlbnMsIHdoZW4gPj0gMzAgRVRIICYgPCAzMDAgRVRICiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBUT0tFTl9SQVRFXzMwX1BFUkNFTlRfQk9OVVMgPSAxMzAwOyAvLyAzMCUgQm9udXMgVG9rZW5zLCB3aGVuID49IDMwMCBFVEggJiA8IDMwMDAgRVRICiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBUT0tFTl9SQVRFXzQwX1BFUkNFTlRfQk9OVVMgPSAxNDAwOyAvLyA0MCUgQm9udXMgVG9rZW5zLCB3aGVuID49IDMwMDAgRVRICgogICAgLyogc3RhcnQgYW5kIGVuZCB0aW1lc3RhbXBzIHdoZXJlIGludmVzdG1lbnRzIGFyZSBhbGxvd2VkIChib3RoIGluY2x1c2l2ZSkgKi8KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFNUQVJUX1RJTUUgID0gMTUxMTUyNDgwMDsgICAvL0dNVDogRnJpZGF5LCAyNCBOb3ZlbWJlciAyMDE3IDEyOjAwOjAwCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBFTkRfVElNRSAgICA9IDE1MTQ4OTQ0MDA7ICAgLy9HTVQ6IFR1ZXNkYXksIDIgSmFudWFyeSAgMjAxOCAxMjowMDowMAoKICAgIC8qIFRva2VuIG1ldGFkYXRhICovCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiR2ltbWVyUHJlU2FsZSBUb2tlbiI7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJHTVJQIjsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CgogICAgLyoqCiAgICAqIEBkZXYgTW9kaWZpZXIgdG8gb25seSBhbGxvdyBLWUNNYW5hZ2VyCiAgICAqLwogICAgbW9kaWZpZXIgb25seUt5Y01hbmFnZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGt5Y01hbmFnZXIpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAqIEV2ZW50IGZvciB0b2tlbiBwdXJjaGFzZSBsb2dnaW5nCiAgICAqIEBwYXJhbSBwdXJjaGFzZXIgIHdobyBib3VnaHQgdGhlIHRva2VucwogICAgKiBAcGFyYW0gdmFsdWUgICAgICB3ZWlzIHBhaWQgZm9yIHB1cmNoYXNlCiAgICAqIEBwYXJhbSBhbW91bnQgICAgIGFtb3VudCBvZiB0b2tlbnMgcHVyY2hhc2VkCiAgICAqLwogICAgZXZlbnQgVG9rZW5QdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgcHVyY2hhc2VyLCB1aW50MjU2IHZhbHVlLCB1aW50MjU2IGFtb3VudCk7CgogICAgLyoqCiAgICAqIEV2ZW50IGZvciBtaW50aW5nIG5ldyB0b2tlbnMKICAgICogQHBhcmFtIHRvICAgICAgICAgVGhlIHBlcnNvbiB0aGF0IHJlY2VpdmVkIHRva2VucwogICAgKiBAcGFyYW0gYW1vdW50ICAgICBBbW91bnQgb2YgdG9rZW5zIHJlY2VpdmVkCiAgICAqLwogICAgZXZlbnQgTWludChhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgYW1vdW50KTsKCiAgICAvKioKICAgICAqIEV2ZW50IHRvIGxvZyBhIHVzZXIgaXMgYXBwcm92ZWQgb3IgZGlzYXBwcm92ZWQKICAgICAqIEBwYXJhbSB1c2VyICAgICAgICAgIFVzZXIgd2hvIGhhcyBiZWVuIGFwcHJvdmVkL2Rpc2FwcHJvdmVkCiAgICAgKiBAcGFyYW0gaXNBcHByb3ZlZCAgICB0cnVlIDogVXNlciBpcyBhcHByb3ZlZCwgZmFsc2UgOiBVc2VyIGlzIGRpc2FwcHJvdmVkCiAgICAgKi8KICAgIGV2ZW50IEtZQyhhZGRyZXNzIGluZGV4ZWQgdXNlciwgYm9vbCBpc0FwcHJvdmVkKTsKCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yCiAgICAgKiBAcGFyYW0gX2Z1bmRXYWxsZXQgICAgICAgICAgIEFkZHJlc3MgdG8gZm9yd2FyZCBhbGwgcmVjZWl2ZWQgRXRoZXJzIHRvCiAgICAgKiBAcGFyYW0gX2t5Y01hbmFnZXJXYWxsZXQgICAgIEtZQyBNYW5hZ2VyIHdhbGxldCB0byBhcHByb3ZlIC8gZGlzYXBwcm92ZSB1c2VyJ3MgS1lDCiAgICAgKi8KICAgIGZ1bmN0aW9uIEdpbW1lclByZVNhbGUoYWRkcmVzcyBfZnVuZFdhbGxldCwgYWRkcmVzcyBfa3ljTWFuYWdlcldhbGxldCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKF9mdW5kV2FsbGV0ICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoX2t5Y01hbmFnZXJXYWxsZXQgIT0gYWRkcmVzcygwKSk7CgogICAgICAgIGZ1bmRXYWxsZXQgPSBfZnVuZFdhbGxldDsKICAgICAgICBreWNNYW5hZ2VyID0gX2t5Y01hbmFnZXJXYWxsZXQ7CiAgICB9CgogICAgLyogZmFsbGJhY2sgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gYnV5IHRva2VucyAqLwogICAgZnVuY3Rpb24gKCkgd2hlbk5vdFBhdXNlZCBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgYnV5VG9rZW5zKCk7CiAgICB9CgogICAgLyogQHJldHVybiB0cnVlIGlmIHRoZSB0cmFuc2FjdGlvbiBjYW4gYnV5IHRva2Vucywgb3RoZXJ3aXNlIGZhbHNlICovCiAgICBmdW5jdGlvbiB2YWxpZFB1cmNoYXNlKCkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGJvb2wgd2l0aGluUGVyaW9kID0gbm93ID49IFNUQVJUX1RJTUUgJiYgbm93IDw9IEVORF9USU1FOwogICAgICAgIGJvb2wgaGlnaGVyVGhhbk1pbjMwRVRIID0gbXNnLnZhbHVlID49IFBSRV9TQUxFXzMwX0VUSDsKICAgICAgICByZXR1cm4gd2l0aGluUGVyaW9kICYmIGhpZ2hlclRoYW5NaW4zMEVUSDsKICAgIH0KCiAgICAvKiBsb3cgbGV2ZWwgdG9rZW4gcHVyY2hhc2UgZnVuY3Rpb24gKi8KICAgIGZ1bmN0aW9uIGJ1eVRva2VucygpIHdoZW5Ob3RQYXVzZWQgcHVibGljIHBheWFibGUgewogICAgICAgIGFkZHJlc3Mgc2VuZGVyID0gbXNnLnNlbmRlcjsKCiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSB1c2VyIGJ1eWluZyB0b2tlbnMgaGFzIEtZQwogICAgICAgIHJlcXVpcmUodXNlckhhc0tZQyhzZW5kZXIpKTsKICAgICAgICByZXF1aXJlKHZhbGlkUHVyY2hhc2UoKSk7CgogICAgICAgIC8vIGNhbGN1bGF0ZSB0b2tlbiBhbW91bnQgdG8gYmUgY3JlYXRlZAogICAgICAgIHVpbnQyNTYgd2VpQW1vdW50U2VudCA9IG1zZy52YWx1ZTsKICAgICAgICB1aW50MjU2IHJhdGUgPSBnZXRSYXRlKHdlaUFtb3VudFNlbnQpOwogICAgICAgIHVpbnQyNTYgbmV3VG9rZW5zID0gd2VpQW1vdW50U2VudC5tdWwocmF0ZSk7CgogICAgICAgIC8vIGxvb2sgaWYgd2UgaGF2ZSBub3QgeWV0IHJlYWNoZWQgdGhlIGNhcAogICAgICAgIHVpbnQyNTYgdG90YWxUb2tlbnNTb2xkID0gdG9rZW5zU29sZC5hZGQobmV3VG9rZW5zKTsKICAgICAgICByZXF1aXJlKHRvdGFsVG9rZW5zU29sZCA8PSBQUkVfU0FMRV9HTVJQX1RPS0VOX0NBUCk7CgogICAgICAgIC8vIHVwZGF0ZSBzdXBwb3J0ZXIgc3RhdGUKICAgICAgICBTdXBwb3J0ZXIgc3RvcmFnZSBzdXAgPSBzdXBwb3J0ZXJzTWFwW3NlbmRlcl07CiAgICAgICAgdWludDI1NiB0b3RhbFdlaSA9IHN1cC53ZWlTcGVudC5hZGQod2VpQW1vdW50U2VudCk7CiAgICAgICAgc3VwLndlaVNwZW50ID0gdG90YWxXZWk7CgogICAgICAgIC8vIHVwZGF0ZSBjb250cmFjdCBzdGF0ZQogICAgICAgIHdlaVJhaXNlZCA9IHdlaVJhaXNlZC5hZGQod2VpQW1vdW50U2VudCk7CiAgICAgICAgdG9rZW5zU29sZCA9IHRvdGFsVG9rZW5zU29sZDsKCiAgICAgICAgLy8gZmluYWxseSBtaW50IHRoZSBjb2lucwogICAgICAgIG1pbnQoc2VuZGVyLCBuZXdUb2tlbnMpOwogICAgICAgIFRva2VuUHVyY2hhc2Uoc2VuZGVyLCB3ZWlBbW91bnRTZW50LCBuZXdUb2tlbnMpOwoKICAgICAgICAvLyBhbmQgZm9yd2FyZCB0aGUgZnVuZHMgdG8gdGhlIHdhbGxldAogICAgICAgIGZvcndhcmRGdW5kcygpOwogICAgfQoKICAgIC8qKgogICAgICogcmV0dXJucyB0aGUgcmF0ZSB0aGUgdXNlciB3aWxsIGJlIHBheWluZyBhdCwKICAgICAqIGJhc2VkIG9uIHRoZSBhbW91bnQgb2Ygd2VpIHNlbnQgdG8gdGhlIGNvbnRyYWN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldFJhdGUodWludDI1NiB3ZWlBbW91bnQpIHB1YmxpYyBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBpZiAod2VpQW1vdW50ID49IFBSRV9TQUxFXzMwMDBfRVRIKSB7CiAgICAgICAgICAgIHJldHVybiBUT0tFTl9SQVRFXzQwX1BFUkNFTlRfQk9OVVM7CiAgICAgICAgfSBlbHNlIGlmKHdlaUFtb3VudCA+PSBQUkVfU0FMRV8zMDBfRVRIKSB7CiAgICAgICAgICAgIHJldHVybiBUT0tFTl9SQVRFXzMwX1BFUkNFTlRfQk9OVVM7CiAgICAgICAgfSBlbHNlIGlmKHdlaUFtb3VudCA+PSBQUkVfU0FMRV8zMF9FVEgpIHsKICAgICAgICAgICAgcmV0dXJuIFRPS0VOX1JBVEVfMjVfUEVSQ0VOVF9CT05VUzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBzZW5kIGV0aGVyIHRvIHRoZSBmdW5kIGNvbGxlY3Rpb24gd2FsbGV0CiAgICAgKiBvdmVycmlkZSB0byBjcmVhdGUgY3VzdG9tIGZ1bmQgZm9yd2FyZGluZyBtZWNoYW5pc21zCiAgICAgKi8KICAgIGZ1bmN0aW9uIGZvcndhcmRGdW5kcygpIGludGVybmFsIHsKICAgICAgICBmdW5kV2FsbGV0LnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgICB9CgogICAgLy8gQHJldHVybiB0cnVlIGlmIGNyb3dkc2FsZSBldmVudCBoYXMgZW5kZWQKICAgIGZ1bmN0aW9uIGhhc0VuZGVkKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gbm93ID4gRU5EX1RJTUU7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgQXBwcm92ZXMgYW4gVXNlcidzIEtZQwogICAgKiBAcGFyYW0gX3VzZXIgVGhlIHVzZXIgdG8gZmxhZyBhcyBrbm93bgogICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmVVc2VyS1lDKGFkZHJlc3MgX3VzZXIpIG9ubHlLeWNNYW5hZ2VyIHB1YmxpYyB7CiAgICAgICAgU3VwcG9ydGVyIHN0b3JhZ2Ugc3VwID0gc3VwcG9ydGVyc01hcFtfdXNlcl07CiAgICAgICAgc3VwLmhhc0tZQyA9IHRydWU7CiAgICAgICAgS1lDKF91c2VyLCB0cnVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgRGlzYXBwcm92ZXMgYW4gVXNlcidzIEtZQwogICAgICogQHBhcmFtIF91c2VyIFRoZSB1c2VyIHRvIGZsYWcgYXMgdW5rbm93biAvIHN1c3BlY2lvdXMKICAgICAqLwogICAgZnVuY3Rpb24gZGlzYXBwcm92ZVVzZXJLWUMoYWRkcmVzcyBfdXNlcikgb25seUt5Y01hbmFnZXIgcHVibGljIHsKICAgICAgICBTdXBwb3J0ZXIgc3RvcmFnZSBzdXAgPSBzdXBwb3J0ZXJzTWFwW191c2VyXTsKICAgICAgICBzdXAuaGFzS1lDID0gZmFsc2U7CiAgICAgICAgS1lDKF91c2VyLCBmYWxzZSk7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgQ2hhbmdlcyB0aGUgS1lDIG1hbmFnZXIgdG8gYSBuZXcgYWRkcmVzcwogICAgKiBAcGFyYW0gX25ld0tZQ01hbmFnZXIgVGhlIG5ldyBhZGRyZXNzIHRoYXQgd2lsbCBiZSBtYW5hZ2luZyBLWUMgYXBwcm92YWwKICAgICovCiAgICBmdW5jdGlvbiBzZXRLWUNNYW5hZ2VyKGFkZHJlc3MgX25ld0tZQ01hbmFnZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX25ld0tZQ01hbmFnZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAga3ljTWFuYWdlciA9IF9uZXdLWUNNYW5hZ2VyOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IFJldHVybnMgaWYgYW4gdXNlcnMgaGFzIEtZQyBhcHByb3ZhbCBvciBub3QKICAgICogQHJldHVybiBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSB1c2VyJ3MgS1lDIHN0YXR1cwogICAgKi8KICAgIGZ1bmN0aW9uIHVzZXJIYXNLWUMoYWRkcmVzcyBfdXNlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gc3VwcG9ydGVyc01hcFtfdXNlcl0uaGFzS1lDOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBSZXR1cm5zIHRoZSB3ZWlTcGVudCBvZiBhIHVzZXIKICAgICAqLwogICAgZnVuY3Rpb24gdXNlcldlaVNwZW50KGFkZHJlc3MgX3VzZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIHN1cHBvcnRlcnNNYXBbX3VzZXJdLndlaVNwZW50OwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IEZ1bmN0aW9uIHRvIG1pbnQgdG9rZW5zCiAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdGhhdCB3aWxsIHJlY2VpdmUgdGhlIG1pbnRlZCB0b2tlbnMuCiAgICAqIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIG1pbnQuCiAgICAqIEByZXR1cm4gQSBib29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICAqLwogICAgZnVuY3Rpb24gbWludChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBpbnRlcm5hbCByZXR1cm5zIChib29sKSB7CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgICAgIE1pbnQoX3RvLCBfYW1vdW50KTsKICAgICAgICBUcmFuc2ZlcigweDAsIF90bywgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0='.
	

]
