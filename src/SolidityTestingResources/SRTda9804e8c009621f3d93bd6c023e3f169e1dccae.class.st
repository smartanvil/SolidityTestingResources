Class {
	#name : #SRTda9804e8c009621f3d93bd6c023e3f169e1dccae,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTda9804e8c009621f3d93bd6c023e3f169e1dccae >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7CgovKgogKiBBYnN0cmFjdCBUb2tlbiBTbWFydCBDb250cmFjdC4gIENvcHlyaWdodCAmIzE2OTsgMjAxNyBieSBHcmFiIEEgTWVhbC4KICogQXV0aG9yOiA8YSBocmVmPSIvY2RuLWNnaS9sL2VtYWlsLXByb3RlY3Rpb24iIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iYjRkN2RiZGFjMGQ1ZDdjMGY0ZDNjNmQ1ZDZkNWQ5ZDFkNWQ4OWFjM2RiYzZkOGQwIj5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9hPgogKi8KCiAKIC8qCiAqIFNhZmUgTWF0aCBTbWFydCBDb250cmFjdC4gIENvcHlyaWdodCAmIzE2OTsgMjAxNyBieSBHcmFiIEEgTWVhbC4KICogQXV0aG9yOiA8YSBocmVmPSIvY2RuLWNnaS9sL2VtYWlsLXByb3RlY3Rpb24iIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iZGViZGIxYjBhYWJmYmRhYTllYjlhY2JmYmNiZmIzYmJiZmIyZjBhOWIxYWNiMmJhIj5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9hPgogKiBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5L2Jsb2IvbWFzdGVyL2NvbnRyYWN0cy9tYXRoL1NhZmVNYXRoLnNvbAogKi8KCmNvbnRyYWN0IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzYWZlRGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gc2FmZUFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKCgovKioKICogRVJDLTIwIHN0YW5kYXJkIHRva2VuIGludGVyZmFjZSwgYXMgZGVmaW5lZAogKiA8YSBocmVmPSJodHRwOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCI+aGVyZTwvYT4uCiAqLwpjb250cmFjdCBUb2tlbiB7CiAgCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cn0KCgoKLyoqCiAqIEFic3RyYWN0IFRva2VuIFNtYXJ0IENvbnRyYWN0IHRoYXQgY291bGQgYmUgdXNlZCBhcyBhIGJhc2UgY29udHJhY3QgZm9yCiAqIEVSQy0yMCB0b2tlbiBjb250cmFjdHMuCiAqLwpjb250cmFjdCBBYnN0cmFjdFRva2VuIGlzIFRva2VuLCBTYWZlTWF0aCB7CiAgLyoqCiAgICogQ3JlYXRlIG5ldyBBYnN0cmFjdCBUb2tlbiBjb250cmFjdC4KICAgKi8KICBmdW5jdGlvbiBBYnN0cmFjdFRva2VuICgpIHsKICAgIC8vIERvIG5vdGhpbmcKICB9CiAgCiAgLyoqCiAgICogR2V0IG51bWJlciBvZiB0b2tlbnMgY3VycmVudGx5IGJlbG9uZ2luZyB0byBnaXZlbiBvd25lci4KICAgKgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyB0byBnZXQgbnVtYmVyIG9mIHRva2VucyBjdXJyZW50bHkgYmVsb25naW5nIHRvIHRoZQogICAqICAgICAgICBvd25lciBvZgogICAqIEByZXR1cm4gbnVtYmVyIG9mIHRva2VucyBjdXJyZW50bHkgYmVsb25naW5nIHRvIHRoZSBvd25lciBvZiBnaXZlbiBhZGRyZXNzCiAgICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBhY2NvdW50cyBbX293bmVyXTsKICB9CgogIC8qKgogICAqIFRyYW5zZmVyIGdpdmVuIG51bWJlciBvZiB0b2tlbnMgZnJvbSBtZXNzYWdlIHNlbmRlciB0byBnaXZlbiByZWNpcGllbnQuCiAgICoKICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG9rZW5zIHRvIHRoZSBvd25lciBvZgogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0byB0cmFuc2ZlciB0byB0aGUgb3duZXIgb2YgZ2l2ZW4gYWRkcmVzcwogICAqIEByZXR1cm4gdHJ1ZSBpZiB0b2tlbnMgd2VyZSB0cmFuc2ZlcnJlZCBzdWNjZXNzZnVsbHksIGZhbHNlIG90aGVyd2lzZQogICAqIGFjY291bnRzIFtfdG9dICsgX3ZhbHVlID4gYWNjb3VudHMgW190b10gZm9yIG92ZXJmbG93IGNoZWNrCiAgICogd2hpY2ggaXMgYWxyZWFkeSBpbiBzYWZlTWF0aAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIGlmIChhY2NvdW50cyBbbXNnLnNlbmRlcl0gPCBfdmFsdWUpIHJldHVybiBmYWxzZTsKICAgIGlmIChfdmFsdWUgPiAwICYmIG1zZy5zZW5kZXIgIT0gX3RvKSB7CiAgICAgIGFjY291bnRzIFttc2cuc2VuZGVyXSA9IHNhZmVTdWIgKGFjY291bnRzIFttc2cuc2VuZGVyXSwgX3ZhbHVlKTsKICAgICAgYWNjb3VudHMgW190b10gPSBzYWZlQWRkIChhY2NvdW50cyBbX3RvXSwgX3ZhbHVlKTsKICAgIH0KICAgIFRyYW5zZmVyIChtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIFRyYW5zZmVyIGdpdmVuIG51bWJlciBvZiB0b2tlbnMgZnJvbSBnaXZlbiBvd25lciB0byBnaXZlbiByZWNpcGllbnQuCiAgICoKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMgZnJvbSB0aGUgb3duZXIgb2YKICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG9rZW5zIHRvIHRoZSBvd25lciBvZgogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0byB0cmFuc2ZlciBmcm9tIGdpdmVuIG93bmVyIHRvIGdpdmVuCiAgICogICAgICAgIHJlY2lwaWVudAogICAqIEByZXR1cm4gdHJ1ZSBpZiB0b2tlbnMgd2VyZSB0cmFuc2ZlcnJlZCBzdWNjZXNzZnVsbHksIGZhbHNlIG90aGVyd2lzZQogICAqIGFjY291bnRzIFtfdG9dICsgX3ZhbHVlID4gYWNjb3VudHMgW190b10gZm9yIG92ZXJmbG93IGNoZWNrCiAgICogd2hpY2ggaXMgYWxyZWFkeSBpbiBzYWZlTWF0aAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpCiAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIGlmIChhbGxvd2FuY2VzIFtfZnJvbV1bbXNnLnNlbmRlcl0gPCBfdmFsdWUpIHJldHVybiBmYWxzZTsKICAgIGlmIChhY2NvdW50cyBbX2Zyb21dIDwgX3ZhbHVlKSByZXR1cm4gZmFsc2U7IAoKICAgIGlmIChfdmFsdWUgPiAwICYmIF9mcm9tICE9IF90bykgewoJICBhbGxvd2FuY2VzIFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBzYWZlU3ViIChhbGxvd2FuY2VzIFtfZnJvbV1bbXNnLnNlbmRlcl0sIF92YWx1ZSk7CiAgICAgIGFjY291bnRzIFtfZnJvbV0gPSBzYWZlU3ViIChhY2NvdW50cyBbX2Zyb21dLCBfdmFsdWUpOwogICAgICBhY2NvdW50cyBbX3RvXSA9IHNhZmVBZGQgKGFjY291bnRzIFtfdG9dLCBfdmFsdWUpOwogICAgfQogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQWxsb3cgZ2l2ZW4gc3BlbmRlciB0byB0cmFuc2ZlciBnaXZlbiBudW1iZXIgb2YgdG9rZW5zIGZyb20gbWVzc2FnZSBzZW5kZXIuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgdG8gYWxsb3cgdGhlIG93bmVyIG9mIHRvIHRyYW5zZmVyIHRva2VucyBmcm9tIG1lc3NhZ2Ugc2VuZGVyCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIGFsbG93IHRvIHRyYW5zZmVyCiAgICogQHJldHVybiB0cnVlIGlmIHRva2VuIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsbHkgYXBwcm92ZWQsIGZhbHNlIG90aGVyd2lzZQogICAqLwogICBmdW5jdGlvbiBhcHByb3ZlIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBhbGxvd2FuY2VzIFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbCAobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIFRlbGwgaG93IG1hbnkgdG9rZW5zIGdpdmVuIHNwZW5kZXIgaXMgY3VycmVudGx5IGFsbG93ZWQgdG8gdHJhbnNmZXIgZnJvbQogICAqIGdpdmVuIG93bmVyLgogICAqCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIHRvIGdldCBudW1iZXIgb2YgdG9rZW5zIGFsbG93ZWQgdG8gYmUgdHJhbnNmZXJyZWQKICAgKiAgICAgICAgZnJvbSB0aGUgb3duZXIgb2YKICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyB0byBnZXQgbnVtYmVyIG9mIHRva2VucyBhbGxvd2VkIHRvIGJlIHRyYW5zZmVycmVkCiAgICogICAgICAgIGJ5IHRoZSBvd25lciBvZgogICAqIEByZXR1cm4gbnVtYmVyIG9mIHRva2VucyBnaXZlbiBzcGVuZGVyIGlzIGN1cnJlbnRseSBhbGxvd2VkIHRvIHRyYW5zZmVyCiAgICogICAgICAgICBmcm9tIGdpdmVuIG93bmVyCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudAogIHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dhbmNlcyBbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICAvKioKICAgKiBNYXBwaW5nIGZyb20gYWRkcmVzc2VzIG9mIHRva2VuIGhvbGRlcnMgdG8gdGhlIG51bWJlcnMgb2YgdG9rZW5zIGJlbG9uZ2luZwogICAqIHRvIHRoZXNlIHRva2VuIGhvbGRlcnMuCiAgICovCiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBhY2NvdW50czsKCiAgLyoqCiAgICogTWFwcGluZyBmcm9tIGFkZHJlc3NlcyBvZiB0b2tlbiBob2xkZXJzIHRvIHRoZSBtYXBwaW5nIG9mIGFkZHJlc3NlcyBvZgogICAqIHNwZW5kZXJzIHRvIHRoZSBhbGxvd2FuY2VzIHNldCBieSB0aGVzZSB0b2tlbiBob2xkZXJzIHRvIHRoZXNlIHNwZW5kZXJzLgogICAqLwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgcHJpdmF0ZSBhbGxvd2FuY2VzOwp9CgoKLyoqCiAqIEdBTSB0b2tlbiBzbWFydCBjb250cmFjdC4KICovCmNvbnRyYWN0IEdBTVRva2VuIGlzIEFic3RyYWN0VG9rZW4gewogIC8qKgogICAqIE1heGltdW0gYWxsb3dlZCBudW1iZXIgb2YgdG9rZW5zIGluIGNpcmN1bGF0aW9uLgogICAqIFRvdGFsIFN1cHBseSAyMDAwMDAwMDAwIEdBTSBUb2tlbnMKICAgKiAxMF5eMTAgaXMgZG9uZSBmb3IgZGVjaW1hbCBwbGFjZXMsIHRoaXMgaXMgc3RhbmRhcmQgcHJhY3RpY2UgYXMgYWxsIGV0aGVycyBhcmUgYWN0dWFsbHkgd2VpIGluIEVWTQogICAqLwogICAKICAgCiAgdWludDI1NiBjb25zdGFudCBNQVhfVE9LRU5fQ09VTlQgPSAyMDAwMDAwMDAwICogKDEwKioxMCk7CiAgIAogIC8qKgogICAqIEFkZHJlc3Mgb2YgdGhlIG93bmVyIG9mIHRoaXMgc21hcnQgY29udHJhY3QuCiAgICovCiAgYWRkcmVzcyBwcml2YXRlIG93bmVyOwoKICAvKioKICAgKiBDdXJyZW50IG51bWJlciBvZiB0b2tlbnMgaW4gY2lyY3VsYXRpb24uCiAgICovCiAgdWludDI1NiB0b2tlbkNvdW50ID0gMDsKICAKIAogIC8qKgogICAqIFRydWUgaWYgdG9rZW5zIHRyYW5zZmVycyBhcmUgY3VycmVudGx5IGZyb3plbiwgZmFsc2Ugb3RoZXJ3aXNlLgogICAqLwogIGJvb2wgZnJvemVuID0gZmFsc2U7CiAgCiAgCiAgLyoqCiAgICogQ3JlYXRlIG5ldyBHQU0gdG9rZW4gc21hcnQgY29udHJhY3QgYW5kIG1ha2UgbXNnLnNlbmRlciB0aGUKICAgKiBvd25lciBvZiB0aGlzIHNtYXJ0IGNvbnRyYWN0LgogICAqLwogIGZ1bmN0aW9uIEdBTVRva2VuICgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIC8qKgogICAqIEdldCB0b3RhbCBudW1iZXIgb2YgdG9rZW5zIGluIGNpcmN1bGF0aW9uLgogICAqCiAgICogQHJldHVybiB0b3RhbCBudW1iZXIgb2YgdG9rZW5zIGluIGNpcmN1bGF0aW9uCiAgICovCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSkgewogICAgcmV0dXJuIHRva2VuQ291bnQ7CiAgfQoKICBzdHJpbmcgY29uc3RhbnQgcHVibGljIG5hbWUgPSAiR3JhYiBBIE1lYWwgVG9rZW4iOwogIHN0cmluZyBjb25zdGFudCBwdWJsaWMgc3ltYm9sID0gIkdBTSI7CiAgdWludDggY29uc3RhbnQgcHVibGljIGRlY2ltYWxzID0gMTA7CiAgCiAgLyoqCiAgICogVHJhbnNmZXIgZ2l2ZW4gbnVtYmVyIG9mIHRva2VucyBmcm9tIG1lc3NhZ2Ugc2VuZGVyIHRvIGdpdmVuIHJlY2lwaWVudC4KICAgKgogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMgdG8gdGhlIG93bmVyIG9mCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyIHRvIHRoZSBvd25lciBvZiBnaXZlbiBhZGRyZXNzCiAgICogQHJldHVybiB0cnVlIGlmIHRva2VucyB3ZXJlIHRyYW5zZmVycmVkIHN1Y2Nlc3NmdWxseSwgZmFsc2Ugb3RoZXJ3aXNlCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGlmIChmcm96ZW4pIHJldHVybiBmYWxzZTsKICAgIGVsc2UgcmV0dXJuIEFic3RyYWN0VG9rZW4udHJhbnNmZXIgKF90bywgX3ZhbHVlKTsKICB9CgogIC8qKgogICAqIFRyYW5zZmVyIGdpdmVuIG51bWJlciBvZiB0b2tlbnMgZnJvbSBnaXZlbiBvd25lciB0byBnaXZlbiByZWNpcGllbnQuCiAgICoKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMgZnJvbSB0aGUgb3duZXIgb2YKICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG9rZW5zIHRvIHRoZSBvd25lciBvZgogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0byB0cmFuc2ZlciBmcm9tIGdpdmVuIG93bmVyIHRvIGdpdmVuCiAgICogICAgICAgIHJlY2lwaWVudAogICAqIEByZXR1cm4gdHJ1ZSBpZiB0b2tlbnMgd2VyZSB0cmFuc2ZlcnJlZCBzdWNjZXNzZnVsbHksIGZhbHNlIG90aGVyd2lzZQogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGlmIChmcm96ZW4pIHJldHVybiBmYWxzZTsKICAgIGVsc2UgcmV0dXJuIEFic3RyYWN0VG9rZW4udHJhbnNmZXJGcm9tIChfZnJvbSwgX3RvLCBfdmFsdWUpOwogIH0KCiAgIC8qKgogICAqIENoYW5nZSBob3cgbWFueSB0b2tlbnMgZ2l2ZW4gc3BlbmRlciBpcyBhbGxvd2VkIHRvIHRyYW5zZmVyIGZyb20gbWVzc2FnZQogICAqIHNwZW5kZXIuICBJbiBvcmRlciB0byBwcmV2ZW50IGRvdWJsZSBzcGVuZGluZyBvZiBhbGxvd2FuY2UsCiAgICogVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgKiBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICogYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIHRvIGFsbG93IHRoZSBvd25lciBvZiB0byB0cmFuc2ZlciB0b2tlbnMgZnJvbQogICAqICAgICAgICBtZXNzYWdlIHNlbmRlcgogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0byBhbGxvdyB0byB0cmFuc2ZlcgogICAqIEByZXR1cm4gdHJ1ZSBpZiB0b2tlbiB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bGx5IGFwcHJvdmVkLCBmYWxzZSBvdGhlcndpc2UKICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJcmVxdWlyZShhbGxvd2FuY2UgKG1zZy5zZW5kZXIsIF9zcGVuZGVyKSA9PSAwIHx8IF92YWx1ZSA9PSAwKTsKICAgIHJldHVybiBBYnN0cmFjdFRva2VuLmFwcHJvdmUgKF9zcGVuZGVyLCBfdmFsdWUpOwogIH0KCiAgLyoqCiAgICogQ3JlYXRlIF92YWx1ZSBuZXcgdG9rZW5zIGFuZCBnaXZlIG5ldyBjcmVhdGVkIHRva2VucyB0byBtc2cuc2VuZGVyLgogICAqIE1heSBvbmx5IGJlIGNhbGxlZCBieSBzbWFydCBjb250cmFjdCBvd25lci4KICAgKgogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0byBjcmVhdGUKICAgKiBAcmV0dXJuIHRydWUgaWYgdG9rZW5zIHdlcmUgY3JlYXRlZCBzdWNjZXNzZnVsbHksIGZhbHNlIG90aGVyd2lzZQogICAqLwogIGZ1bmN0aW9uIGNyZWF0ZVRva2Vucyh1aW50MjU2IF92YWx1ZSkKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmVxdWlyZSAobXNnLnNlbmRlciA9PSBvd25lcik7CgogICAgaWYgKF92YWx1ZSA+IDApIHsKICAgICAgaWYgKF92YWx1ZSA+IHNhZmVTdWIgKE1BWF9UT0tFTl9DT1VOVCwgdG9rZW5Db3VudCkpIHJldHVybiBmYWxzZTsKCSAgCiAgICAgIGFjY291bnRzIFttc2cuc2VuZGVyXSA9IHNhZmVBZGQgKGFjY291bnRzIFttc2cuc2VuZGVyXSwgX3ZhbHVlKTsKICAgICAgdG9rZW5Db3VudCA9IHNhZmVBZGQgKHRva2VuQ291bnQsIF92YWx1ZSk7CiAgICAgIAoJICAKCSAgLy8gYWRkaW5nIHRyYW5zZmVyIGV2ZW50IGFuZCBfZnJvbSBhZGRyZXNzIGFzIG51bGwgYWRkcmVzcwoJICBUcmFuc2ZlcigweDAsIG1zZy5zZW5kZXIsIF92YWx1ZSk7CgkgIAoJICByZXR1cm4gdHJ1ZTsKICAgIH0KCQoJICByZXR1cm4gZmFsc2U7CiAgICAKICB9CiAgCiAgCiAgLyoqCiAgICogRm9yIGZ1dHVyZSB1c2Ugb25seSB3aG5lIHdlIHdpbGwgbmVlZCBtb3JlIHRva2VucyBmb3Igb3VyIG1haW4gYXBwbGljYXRpb24KICAgKiBDcmVhdGUgbWludGVkQW1vdW50IG5ldyB0b2tlbnMgYW5kIGdpdmUgbmV3IGNyZWF0ZWQgdG9rZW5zIHRvIHRhcmdldC4KICAgKiBNYXkgb25seSBiZSBjYWxsZWQgYnkgc21hcnQgY29udHJhY3Qgb3duZXIuCiAgICogQHBhcmFtIG1pbnRlZEFtb3VudCBudW1iZXIgb2YgdG9rZW5zIHRvIGNyZWF0ZQogICAqIEByZXR1cm4gdHJ1ZSBpZiB0b2tlbnMgd2VyZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseSwgZmFsc2Ugb3RoZXJ3aXNlCiAgICovCiAgCiAgZnVuY3Rpb24gbWludFRva2VuKGFkZHJlc3MgdGFyZ2V0LCB1aW50MjU2IG1pbnRlZEFtb3VudCkgCiAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXF1aXJlIChtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgaWYgKG1pbnRlZEFtb3VudCA+IDApIHsKCSAgCiAgICAgIGFjY291bnRzIFt0YXJnZXRdID0gc2FmZUFkZCAoYWNjb3VudHMgW3RhcmdldF0sIG1pbnRlZEFtb3VudCk7CiAgICAgIHRva2VuQ291bnQgPSBzYWZlQWRkICh0b2tlbkNvdW50LCBtaW50ZWRBbW91bnQpOwoJICAKCSAgLy8gYWRkaW5nIHRyYW5zZmVyIGV2ZW50IGFuZCBfZnJvbSBhZGRyZXNzIGFzIG51bGwgYWRkcmVzcwoJICBUcmFuc2ZlcigweDAsIHRhcmdldCwgbWludGVkQW1vdW50KTsKCSAgCgkgICByZXR1cm4gdHJ1ZTsKICAgIH0KCSAgcmV0dXJuIGZhbHNlOwogICAKICAgIH0KCiAgLyoqCiAgICogU2V0IG5ldyBvd25lciBmb3IgdGhlIHNtYXJ0IGNvbnRyYWN0LgogICAqIE1heSBvbmx5IGJlIGNhbGxlZCBieSBzbWFydCBjb250cmFjdCBvd25lci4KICAgKgogICAqIEBwYXJhbSBfbmV3T3duZXIgYWRkcmVzcyBvZiBuZXcgb3duZXIgb2YgdGhlIHNtYXJ0IGNvbnRyYWN0CiAgICovCiAgZnVuY3Rpb24gc2V0T3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIHsKICAgIHJlcXVpcmUgKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoKICAgIG93bmVyID0gX25ld093bmVyOwogIH0KCiAgLyoqCiAgICogRnJlZXplIHRva2VuIHRyYW5zZmVycy4KICAgKiBNYXkgb25seSBiZSBjYWxsZWQgYnkgc21hcnQgY29udHJhY3Qgb3duZXIuCiAgICovCiAgZnVuY3Rpb24gZnJlZXplVHJhbnNmZXJzICgpIHsKICAgIHJlcXVpcmUgKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoKICAgIGlmICghZnJvemVuKSB7CiAgICAgIGZyb3plbiA9IHRydWU7CiAgICAgIEZyZWV6ZSAoKTsKICAgIH0KICB9CgogIC8qKgogICAqIFVuZnJlZXplIHRva2VuIHRyYW5zZmVycy4KICAgKiBNYXkgb25seSBiZSBjYWxsZWQgYnkgc21hcnQgY29udHJhY3Qgb3duZXIuCiAgICovCiAgZnVuY3Rpb24gdW5mcmVlemVUcmFuc2ZlcnMgKCkgewogICAgcmVxdWlyZSAobXNnLnNlbmRlciA9PSBvd25lcik7CgogICAgaWYgKGZyb3plbikgewogICAgICBmcm96ZW4gPSBmYWxzZTsKICAgICAgVW5mcmVlemUgKCk7CiAgICB9CiAgfQogIAogIC8qQSB1c2VyIGlzIGFibGUgdG8gdW5pbnRlbnRpb25hbGx5IHNlbmQgdG9rZW5zIHRvIGEgY29udHJhY3QgCiAgKiBhbmQgaWYgdGhlIGNvbnRyYWN0IGlzIG5vdCBwcmVwYXJlZCB0byByZWZ1bmQgdGhlbSB0aGV5IHdpbGwgZ2V0IHN0dWNrIGluIHRoZSBjb250cmFjdC4gCiAgKiBUaGUgc2FtZSBpc3N1ZSB1c2VkIHRvIGhhcHBlbiBmb3IgRXRoZXIgdG9vIGJ1dCBuZXcgU29saWRpdHkgdmVyc2lvbnMgYWRkZWQgdGhlIHBheWFibGUgbW9kaWZpZXIgdG8KICAqIHByZXZlbnQgdW5pbnRlbmRlZCBFdGhlciB0cmFuc2ZlcnMuIEhvd2V2ZXIsIHRoZXJl4oCZcyBubyBzdWNoIG1lY2hhbmlzbSBmb3IgdG9rZW4gdHJhbnNmZXJzLgogICogc28gdGhlIGJlbG93IGZ1bmN0aW9uIGlzIGNyZWF0ZWQKICAqLwogIAogIGZ1bmN0aW9uIHJlZnVuZFRva2VucyhhZGRyZXNzIF90b2tlbiwgYWRkcmVzcyBfcmVmdW5kLCB1aW50MjU2IF92YWx1ZSkgewogICAgcmVxdWlyZSAobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICByZXF1aXJlKF90b2tlbiAhPSBhZGRyZXNzKHRoaXMpKTsKICAgIEFic3RyYWN0VG9rZW4gdG9rZW4gPSBBYnN0cmFjdFRva2VuKF90b2tlbik7CiAgICB0b2tlbi50cmFuc2ZlcihfcmVmdW5kLCBfdmFsdWUpOwogICAgUmVmdW5kVG9rZW5zKF90b2tlbiwgX3JlZnVuZCwgX3ZhbHVlKTsKICB9CgogIC8qKgogICAqIExvZ2dlZCB3aGVuIHRva2VuIHRyYW5zZmVycyB3ZXJlIGZyb3plbi4KICAgKi8KICBldmVudCBGcmVlemUgKCk7CgogIC8qKgogICAqIExvZ2dlZCB3aGVuIHRva2VuIHRyYW5zZmVycyB3ZXJlIHVuZnJvemVuLgogICAqLwogIGV2ZW50IFVuZnJlZXplICgpOwogIAogIC8qKgogICAqIHdoZW4gYWNjaWRlbnRhbGx5IHNlbmQgb3RoZXIgdG9rZW5zIGFyZSByZWZ1bmRlZAogICAqLwogIAogIGV2ZW50IFJlZnVuZFRva2VucyhhZGRyZXNzIF90b2tlbiwgYWRkcmVzcyBfcmVmdW5kLCB1aW50MjU2IF92YWx1ZSk7Cn0='.
	

]
