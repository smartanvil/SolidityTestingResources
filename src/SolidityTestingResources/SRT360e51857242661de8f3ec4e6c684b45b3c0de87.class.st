Class {
	#name : #SRT360e51857242661de8f3ec4e6c684b45b3c0de87,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT360e51857242661de8f3ec4e6c684b45b3c0de87 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKiogU2FmZU1hdGggbGlicyBhcmUgaW5zcGlyZWQgYnk6CiAgKiAgaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9ibG9iL21hc3Rlci9jb250cmFjdHMvbWF0aC9TYWZlTWF0aC5zb2wKICAqIFRoZXJlIGlzIGRlYmF0ZSBhcyB0byB3aGV0aGVyIHRoaXMgbGliIHNob3VsZCB1c2UgYXNzZXJ0IG9yIHJlcXVpcmU6CiAgKiAgaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9pc3N1ZXMvNTY1CgogICogYHJlcXVpcmVgIGlzIHVzZWQgaW4gdGhlc2UgbGlicmFyaWVzIGZvciB0aGUgZm9sbG93aW5nIHJlYXNvbnM6CiAgKiAgIC0gb3ZlcmZsb3dzIHNob3VsZCBub3QgYmUgY2hlY2tlZCBpbiBjb250cmFjdCBmdW5jdGlvbiBib2RpZXM7IERSWQogICogICAtICJ2YWxpZCIgdXNlciBpbnB1dCBjYW4gY2F1c2Ugb3ZlcmZsb3dzLCB3aGljaCBzaG91bGQgbm90IGFzc2VydCgpCiAgKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJlcXVpcmUoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIHJlcXVpcmUoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKbGlicmFyeSBTYWZlTWF0aDY0IHsKICBmdW5jdGlvbiBzdWIodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQ2NCkgewogICAgcmVxdWlyZShiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50NjQpIHsKICAgIHVpbnQ2NCBjID0gYSArIGI7CiAgICByZXF1aXJlKGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCgovLyBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5L2Jsb2IvbWFzdGVyL2NvbnRyYWN0cy9vd25lcnNoaXAvT3duYWJsZS5zb2wKY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQp9CgoKLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMApjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvYmxvYi9tYXN0ZXIvY29udHJhY3RzL3Rva2VuL0RldGFpbGVkRVJDMjAuc29sCmNvbnRyYWN0IERldGFpbGVkRVJDMjAgaXMgRVJDMjAgewogIHN0cmluZyBwdWJsaWMgbmFtZTsKICBzdHJpbmcgcHVibGljIHN5bWJvbDsKICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7CgogIGZ1bmN0aW9uIERldGFpbGVkRVJDMjAoc3RyaW5nIF9uYW1lLCBzdHJpbmcgX3N5bWJvbCwgdWludDggX2RlY2ltYWxzKSBwdWJsaWMgewogICAgbmFtZSA9IF9uYW1lOwogICAgc3ltYm9sID0gX3N5bWJvbDsKICAgIGRlY2ltYWxzID0gX2RlY2ltYWxzOwogIH0KfQoKCi8qKiBLYXJtYVRva2VuIGhhcyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6CiAgKgogICogVXNlciBDcmVhdGlvbjoKICAqIC0gU2VsZi1yZWdpc3RyYXRpb24KICAqICAgLSBPd25lciBzaWducyBoYXNoKGFkZHJlc3MsIHVzZXJuYW1lLCBlbmRvd21lbnQpLCBhbmQgc2VuZHMgdG8gdXNlcgogICogICAtIFVzZXIgcmVnaXN0ZXJzIHdpdGggdXNlcm5hbWUsIGVuZG93bWVudCwgYW5kIHNpZ25hdHVyZSB0byBjcmVhdGUgbmV3IGFjY291bnQuCiAgKiAtIE1vZCBjcmVhdGVzIG5ldyB1c2VyLgogICoKICAqIEthcm1hL1Rva2VuIFJ1bGVzOgogICogLSBLYXJtYSBpcyBjcmVhdGVkIGJ5IGluaXRpYWwgdXNlciBjcmVhdGlvbiBlbmRvd21lbnQuCiAgKiAtIEthcm1hIGNhbiBhbHNvIGJlIG1pbnRlZCBieSBtb2QgaW50byBhbiBleGlzdGluZyBhY2NvdW50LgogICogLSBLYXJtYSBjYW4gb25seSBiZSB0cmFuc2ZlcnJlZCB0byBleGlzdGluZyBhY2NvdW50IGhvbGRlci4KICAqIC0gS2FybWEgaW1wbGVtZW50cyB0aGUgRVJDMjAgdG9rZW4gaW50ZXJmYWNlLgogICoKICAqIERpdmlkZW5kczoKICAqIC0gZWFjaCB1c2VyIGNhbiB3aXRoZHJhdyBhIGRpdmlkZW5kIG9uY2UgcGVyIG1vbnRoLgogICogLSBkaXZpZGVuZCBpcyB0b3RhbCBjb250cmFjdCB2YWx1ZSBhdCBlbmQgb2YgdGhlIG1vbnRoLCBkaXZpZGVkIGJ5IHRvdGFsIG51bWJlciBvZiB1c2VycyBhcyBlbmQgb2YgdGhlIG1vbnRoLgogICogLSB1c2VyIGhhcyAxIG1vbnRoIHRvIHdpdGhkcmF3IHRoZWlyIGRpdmlkZW5kIGZyb20gdGhlIHByZXZpb3VzIG1vbnRoLgogICogLSBpZiB1c2VyIGRvZXMgbm90IHdpdGhkcmF3IHRoZWlyIGRpdmlkZW5kLCB0aGVpciBzaGFyZSB3aWxsIGJlIHJvbGxlZCBvdmVyIGFzIGEgZG9uYXRpb24gdG8gdGhlIG5leHQgbW9udGguCiAgKiAtIG1vZCBjYW4gcGxhY2UgYSB1c2VyIG9uIGEgMSBtb250aCAidGltZW91dCIsIHdoZXJlYnkgdGhleSB3b24ndCBiZSBlbGlnaWJsZSBmb3IgYSBkaXZpZGVuZC4KCiAgKiBFZzogMTAgZXRoIGlzIHNlbnQgdG8gdGhlIGNvbnRyYWN0IGluIEphbnVhcnkuIFRoZXJlIGFyZSAxMDAgdG9rZW4gaG9sZGVycyBvbiBKYW4gMzEuIEF0IGFueSB0aW1lIGluIEZlYnJ1YXJ5LCAKICAqIGVhY2ggdG9rZW4gaG9sZGVyIGNhbiB3aXRoZHJhdyAuMSBldGggZm9yIHRoZWlyIEphbnVhcnkgZGl2aWRlbmQgKHVubGVzcyB0aGV5IHdlcmUgZ2l2ZW4gYSAidGltZW91dCIgaW4gSmFudWFyeSkuCiAgKi8KY29udHJhY3QgS2FybWEgaXMgT3duYWJsZSwgRGV0YWlsZWRFUkMyMCgiS2FybWFUb2tlbiIsICJLQVJNQSIsIDApIHsKICAvLyBTYWZlTWF0aCBsaWJzIGFyZSByZXNwb25zaWJsZSBmb3IgY2hlY2tpbmcgb3ZlcmZsb3cuCiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CiAgdXNpbmcgU2FmZU1hdGg2NCBmb3IgdWludDY0OwoKICAvLyBUT0RPIGVuc3VyZSB0aGlzIGFsbCBmaXRzIGluIGEgc2luZ2xlIDI1NiBiaXQgYmxvY2suCiAgc3RydWN0IFVzZXIgewogICAgYnl0ZXMyMCB1c2VybmFtZTsKICAgIHVpbnQ2NCBrYXJtYTsgCiAgICB1aW50MTYgY2FuV2l0aGRyYXdQZXJpb2Q7CiAgICB1aW50MTYgYmlydGhQZXJpb2Q7CiAgfQoKICAvLyBNYW5hZ2UgdXNlcnMuCiAgbWFwcGluZyhhZGRyZXNzID0+IFVzZXIpIHB1YmxpYyB1c2VyczsKICBtYXBwaW5nKGJ5dGVzMjAgPT4gYWRkcmVzcykgcHVibGljIHVzZXJuYW1lczsKCiAgLy8gTWFuYWdlIGRpdmlkZW5kIHBheW1lbnRzLgogIHVpbnQyNTYgcHVibGljIGVwb2NoOwogIHVpbnQyNTYgcHVibGljIGRpdmlkZW5kOwogIHVpbnQ2NCBwdWJsaWMgbnVtVXNlcnM7CiAgdWludDY0IHB1YmxpYyBuZXdVc2VyczsKICB1aW50MTYgcHVibGljIGN1cnJlbnRQZXJpb2QgPSAxOwoKICBhZGRyZXNzIHB1YmxpYyBtb2RlcmF0b3I7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBpbnRlcm5hbCBhbGxvd2VkOwoKICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwogIGV2ZW50IFBlcmlvZEVuZCh1aW50MTYgcGVyaW9kLCB1aW50MjU2IGFtb3VudCwgdWludDY0IHVzZXJzKTsKICBldmVudCBEb25hdGlvbihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludDI1NiBhbW91bnQpOwogIGV2ZW50IFdpdGhkcmF3YWwoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MTYgaW5kZXhlZCBwZXJpb2QsIHVpbnQyNTYgYW1vdW50KTsKICBldmVudCBOZXdVc2VyKGFkZHJlc3MgYWRkciwgYnl0ZXMyMCB1c2VybmFtZSwgdWludDY0IGVuZG93bWVudCk7CgogIG1vZGlmaWVyIG9ubHlNb2QoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gbW9kZXJhdG9yKTsKICAgIF87CiAgfQoKICBmdW5jdGlvbiBLYXJtYSh1aW50MjU2IF9zdGFydEVwb2NoKSBwdWJsaWMgewogICAgZXBvY2ggPSBfc3RhcnRFcG9jaDsKICAgIG1vZGVyYXRvciA9IG1zZy5zZW5kZXI7CiAgfQoKICBmdW5jdGlvbigpIHBheWFibGUgcHVibGljIHsKICAgIERvbmF0aW9uKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgfQoKICAvKiogCiAgICogT3duZXIgRnVuY3Rpb25zIAogICAqLwoKICBmdW5jdGlvbiBzZXRNb2QoYWRkcmVzcyBfbmV3TW9kKSBwdWJsaWMgb25seU93bmVyIHsKICAgIG1vZGVyYXRvciA9IF9uZXdNb2Q7CiAgfQoKICAvLyBPd25lciBzaG91bGQgY2FsbCB0aGlzIG9uIDFzdCBvZiBldmVyeSBtb250aC4KICBmdW5jdGlvbiBuZXdQZXJpb2QoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUobm93ID49IGVwb2NoICsgMjggZGF5cyk7CgogICAgLy8gQ2FsY3VsYXRlIGRpdmlkZW5kLgogICAgdWludDY0IGV4aXN0aW5nVXNlcnMgPSBudW1Vc2VyczsKICAgIGlmIChleGlzdGluZ1VzZXJzID09IDApIHsKICAgICAgZGl2aWRlbmQgPSAwOwogICAgfSBlbHNlIHsKICAgICAgZGl2aWRlbmQgPSB0aGlzLmJhbGFuY2UgLyBleGlzdGluZ1VzZXJzOwogICAgfQoKICAgIG51bVVzZXJzID0gbnVtVXNlcnMuYWRkKG5ld1VzZXJzKTsKICAgIG5ld1VzZXJzID0gMDsKICAgIGN1cnJlbnRQZXJpb2QrKzsKICAgIGVwb2NoID0gbm93OwoKICAgIFBlcmlvZEVuZChjdXJyZW50UGVyaW9kLTEsIHRoaXMuYmFsYW5jZSwgZXhpc3RpbmdVc2Vycyk7CiAgfQoKICAvKioKICAgICogTW9kIEZ1bmN0aW9ucwogICAgKi8KCiAgZnVuY3Rpb24gY3JlYXRlVXNlcihhZGRyZXNzIF9hZGRyLCBieXRlczIwIF91c2VybmFtZSwgdWludDY0IF9hbW91bnQpIHB1YmxpYyBvbmx5TW9kIHsKICAgIG5ld1VzZXIoX2FkZHIsIF91c2VybmFtZSwgX2Ftb3VudCk7CiAgfQoKICAvLyBTZW5kIGthcm1hIHRvIGV4aXN0aW5nIGFjY291bnQuCiAgZnVuY3Rpb24gbWludChhZGRyZXNzIF9hZGRyLCB1aW50NjQgX2Ftb3VudCkgcHVibGljIG9ubHlNb2QgewogICAgcmVxdWlyZSh1c2Vyc1tfYWRkcl0uY2FuV2l0aGRyYXdQZXJpb2QgIT0gMCk7CgogICAgdXNlcnNbX2FkZHJdLmthcm1hID0gdXNlcnNbX2FkZHJdLmthcm1hLmFkZChfYW1vdW50KTsKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9hbW91bnQpOwogICAgTWludChfYWRkciwgX2Ftb3VudCk7CiAgfQoKICAvLyBJZiBhIHVzZXIgaGFzIGJlZW4gYmFkLCB0aGV5IHdvbid0IGJlIGFibGUgdG8gcmVjZWl2ZSBhIGRpdmlkZW5kIDooCiAgZnVuY3Rpb24gdGltZW91dChhZGRyZXNzIF9hZGRyKSBwdWJsaWMgb25seU1vZCB7CiAgICByZXF1aXJlKHVzZXJzW19hZGRyXS5jYW5XaXRoZHJhd1BlcmlvZCAhPSAwKTsKCiAgICB1c2Vyc1tfYWRkcl0uY2FuV2l0aGRyYXdQZXJpb2QgPSBjdXJyZW50UGVyaW9kICsgMTsKICB9CgogIC8qKgogICAgKiBVc2VyIEZ1bmN0aW9ucwogICAgKi8KCiAgLy8gT3duZXIgd2lsbCBzaWduIGhhc2goYWRkcmVzcywgdXNlcm5hbWUsIGFtb3VudCksIGFuZCBhZGRyZXNzIG93bmVyIHVzZXMgdGhpcyAKICAvLyBzaWduYXR1cmUgdG8gcmVnaXN0ZXIgdGhlaXIgYWNjb3VudC4KICBmdW5jdGlvbiByZWdpc3RlcihieXRlczIwIF91c2VybmFtZSwgdWludDY0IF9lbmRvd21lbnQsIGJ5dGVzIF9zaWcpIHB1YmxpYyB7CiAgICByZXF1aXJlKHJlY292ZXIoa2VjY2FrMjU2KG1zZy5zZW5kZXIsIF91c2VybmFtZSwgX2VuZG93bWVudCksIF9zaWcpID09IG93bmVyKTsKICAgIG5ld1VzZXIobXNnLnNlbmRlciwgX3VzZXJuYW1lLCBfZW5kb3dtZW50KTsKICB9CgogIC8vIFVzZXIgY2FuIHdpdGhkcmF3IHRoZWlyIHNoYXJlIG9mIGRvbmF0aW9ucyBmcm9tIHRoZSBwcmV2aW91cyBtb250aC4KICBmdW5jdGlvbiB3aXRoZHJhdygpIHB1YmxpYyB7CiAgICByZXF1aXJlKHVzZXJzW21zZy5zZW5kZXJdLmNhbldpdGhkcmF3UGVyaW9kICE9IDApOwogICAgcmVxdWlyZSh1c2Vyc1ttc2cuc2VuZGVyXS5jYW5XaXRoZHJhd1BlcmlvZCA8IGN1cnJlbnRQZXJpb2QpOwoKICAgIHVzZXJzW21zZy5zZW5kZXJdLmNhbldpdGhkcmF3UGVyaW9kID0gY3VycmVudFBlcmlvZDsKICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoZGl2aWRlbmQpOwogICAgV2l0aGRyYXdhbChtc2cuc2VuZGVyLCBjdXJyZW50UGVyaW9kLTEsIGRpdmlkZW5kKTsKICB9CgogIC8qKgogICAgKiBFUkMyMCBGdW5jdGlvbnMKICAgICovCgogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gdXNlcnNbX293bmVyXS5rYXJtYTsKICB9CgogIC8vIENvbnRyYXJ5IHRvIG1vc3QgRVJDMjAgaW1wbGVtZW50YXRpb25zLCByZXF1aXJlIHRoYXQgcmVjaXBpZW50IGlzIGV4aXN0aW5nIHVzZXIuCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZSh1c2Vyc1tfdG9dLmNhbldpdGhkcmF3UGVyaW9kICE9IDApOwogICAgcmVxdWlyZShfdmFsdWUgPD0gdXNlcnNbbXNnLnNlbmRlcl0ua2FybWEpOwoKICAgIC8vIFR5cGUgYXNzZXJ0aW9uIHRvIHVpbnQ2NCBpcyBzYWZlIGJlY2F1c2Ugd2UgcmVxdWlyZSB0aGF0IF92YWx1ZSBpcyA8IHVpbnQ2NCBhYm92ZS4KICAgIHVzZXJzW21zZy5zZW5kZXJdLmthcm1hID0gdXNlcnNbbXNnLnNlbmRlcl0ua2FybWEuc3ViKHVpbnQ2NChfdmFsdWUpKTsKICAgIHVzZXJzW190b10ua2FybWEgPSB1c2Vyc1tfdG9dLmthcm1hLmFkZCh1aW50NjQoX3ZhbHVlKSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXS5hZGQoX2FkZGVkVmFsdWUpOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICB1aW50IG9sZFZhbHVlID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl07CiAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgfQogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8gQ29udHJhcnkgdG8gbW9zdCBFUkMyMCBpbXBsZW1lbnRhdGlvbnMsIHJlcXVpcmUgdGhhdCByZWNpcGllbnQgaXMgZXhpc3RpbmcgdXNlci4KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZSh1c2Vyc1tfdG9dLmNhbldpdGhkcmF3UGVyaW9kICE9IDApOwogICAgcmVxdWlyZShfdmFsdWUgPD0gdXNlcnNbX2Zyb21dLmthcm1hKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsKCiAgICB1c2Vyc1tfZnJvbV0ua2FybWEgPSB1c2Vyc1tfZnJvbV0ua2FybWEuc3ViKHVpbnQ2NChfdmFsdWUpKTsKICAgIHVzZXJzW190b10ua2FybWEgPSB1c2Vyc1tfdG9dLmthcm1hLmFkZCh1aW50NjQoX3ZhbHVlKSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICAqIFByaXZhdGUgRnVuY3Rpb25zCiAgICAqLwoKICAvLyBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5L2Jsb2IvbWFzdGVyL2NvbnRyYWN0cy9FQ1JlY292ZXJ5LnNvbAogIGZ1bmN0aW9uIHJlY292ZXIoYnl0ZXMzMiBoYXNoLCBieXRlcyBzaWcpIGludGVybmFsIHB1cmUgcmV0dXJucyAoYWRkcmVzcykgewogICAgYnl0ZXMzMiByOwogICAgYnl0ZXMzMiBzOwogICAgdWludDggdjsKCiAgICAvL0NoZWNrIHRoZSBzaWduYXR1cmUgbGVuZ3RoCiAgICBpZiAoc2lnLmxlbmd0aCAhPSA2NSkgewogICAgICByZXR1cm4gKGFkZHJlc3MoMCkpOwogICAgfQoKICAgIC8vIERpdmlkZSB0aGUgc2lnbmF0dXJlIGluIHIsIHMgYW5kIHYgdmFyaWFibGVzCiAgICBhc3NlbWJseSB7CiAgICAgIHIgOj0gbWxvYWQoYWRkKHNpZywgMzIpKQogICAgICBzIDo9IG1sb2FkKGFkZChzaWcsIDY0KSkKICAgICAgdiA6PSBieXRlKDAsIG1sb2FkKGFkZChzaWcsIDk2KSkpCiAgICB9CgogICAgLy8gVmVyc2lvbiBvZiBzaWduYXR1cmUgc2hvdWxkIGJlIDI3IG9yIDI4LCBidXQgMCBhbmQgMSBhcmUgYWxzbyBwb3NzaWJsZSB2ZXJzaW9ucwogICAgaWYgKHYgPCAyNykgewogICAgICB2ICs9IDI3OwogICAgfQoKICAgIC8vIElmIHRoZSB2ZXJzaW9uIGlzIGNvcnJlY3QgcmV0dXJuIHRoZSBzaWduZXIgYWRkcmVzcwogICAgaWYgKHYgIT0gMjcgJiYgdiAhPSAyOCkgewogICAgICByZXR1cm4gKGFkZHJlc3MoMCkpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGVjcmVjb3ZlcihoYXNoLCB2LCByLCBzKTsKICAgIH0KICB9CgogIC8vIEVuc3VyZXMgdGhhdCB1c2VybmFtZSBpc24ndCB0YWtlbiwgYW5kIGFjY291bnQgZG9lc24ndCBhbHJlYWR5IGV4aXN0IGZvciAKICAvLyB1c2VyJ3MgYWRkcmVzcy4KICBmdW5jdGlvbiBuZXdVc2VyKGFkZHJlc3MgX2FkZHIsIGJ5dGVzMjAgX3VzZXJuYW1lLCB1aW50NjQgX2VuZG93bWVudCkgcHJpdmF0ZSB7CiAgICByZXF1aXJlKHVzZXJuYW1lc1tfdXNlcm5hbWVdID09IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZSh1c2Vyc1tfYWRkcl0uY2FuV2l0aGRyYXdQZXJpb2QgPT0gMCk7CgogICAgdXNlcnNbX2FkZHJdLmNhbldpdGhkcmF3UGVyaW9kID0gY3VycmVudFBlcmlvZCArIDE7CiAgICB1c2Vyc1tfYWRkcl0uYmlydGhQZXJpb2QgPSBjdXJyZW50UGVyaW9kOwogICAgdXNlcnNbX2FkZHJdLmthcm1hID0gX2VuZG93bWVudDsKICAgIHVzZXJzW19hZGRyXS51c2VybmFtZSA9IF91c2VybmFtZTsKICAgIHVzZXJuYW1lc1tfdXNlcm5hbWVdID0gX2FkZHI7CgogICAgbmV3VXNlcnMgPSBuZXdVc2Vycy5hZGQoMSk7CiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfZW5kb3dtZW50KTsKICAgIE5ld1VzZXIoX2FkZHIsIF91c2VybmFtZSwgX2VuZG93bWVudCk7CiAgfQp9'.
	

]
