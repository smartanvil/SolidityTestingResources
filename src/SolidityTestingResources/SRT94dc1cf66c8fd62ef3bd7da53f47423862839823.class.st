Class {
	#name : #SRT94dc1cf66c8fd62ef3bd7da53f47423862839823,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT94dc1cf66c8fd62ef3bd7da53f47423862839823 >> base64 [
	^ 'Y29udHJhY3QgVG9rZW4gewogICAgLyogVGhpcyBpcyBhIHNsaWdodCBjaGFuZ2UgdG8gdGhlIEVSQzIwIGJhc2Ugc3RhbmRhcmQuCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgc3VwcGx5KTsKICAgIGlzIHJlcGxhY2VkIHdpdGg6CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIFRoaXMgYXV0b21hdGljYWxseSBjcmVhdGVzIGEgZ2V0dGVyIGZ1bmN0aW9uIGZvciB0aGUgdG90YWxTdXBwbHkuCiAgICBUaGlzIGlzIG1vdmVkIHRvIHRoZSBiYXNlIGNvbnRyYWN0IHNpbmNlIHB1YmxpYyBnZXR0ZXIgZnVuY3Rpb25zIGFyZSBub3QKICAgIGN1cnJlbnRseSByZWNvZ25pc2VkIGFzIGFuIGltcGxlbWVudGF0aW9uIG9mIHRoZSBtYXRjaGluZyBhYnN0cmFjdAogICAgZnVuY3Rpb24gYnkgdGhlIGNvbXBpbGVyLgogICAgKi8KICAgIC8vLyB0b3RhbCBhbW91bnQgb2YgdG9rZW5zCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICAvLy8gQHJldHVybiBUaGUgYmFsYW5jZQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8vIEBub3RpY2UgYG1zZy5zZW5kZXJgIGFwcHJvdmVzIGBfc3BlbmRlcmAgdG8gc3BlbmQgYF92YWx1ZWAgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSBhcHByb3ZhbCB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cn0KCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgVG9rZW4gewoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy9EZWZhdWx0IGFzc3VtZXMgdG90YWxTdXBwbHkgY2FuJ3QgYmUgb3ZlciBtYXggKDJeMjU2IC0gMSkuCiAgICAgICAgLy9JZiB5b3VyIHRva2VuIGxlYXZlcyBvdXQgdG90YWxTdXBwbHkgYW5kIGNhbiBpc3N1ZSBtb3JlIHRva2VucyBhcyB0aW1lIGdvZXMgb24sIHlvdSBuZWVkIHRvIGNoZWNrIGlmIGl0IGRvZXNuJ3Qgd3JhcC4KICAgICAgICAvL1JlcGxhY2UgdGhlIGlmIHdpdGggdGhpcyBvbmUgaW5zdGVhZC4KICAgICAgICAvL3JlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvL3NhbWUgYXMgYWJvdmUuIFJlcGxhY2UgdGhpcyBsaW5lIHdpdGggdGhlIGZvbGxvd2luZyBpZiB5b3Ugd2FudCB0byBwcm90ZWN0IGFnYWluc3Qgd3JhcHBpbmcgdWludHMuCiAgICAgICAgLy9yZXF1aXJlKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwp9Cgpjb250cmFjdCBIdW1hblN0YW5kYXJkVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiB7CgogICAgLyogUHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4gKi8KCiAgICAvKgogICAgTk9URToKICAgIFRoZSBmb2xsb3dpbmcgdmFyaWFibGVzIGFyZSBPUFRJT05BTCB2YW5pdGllcy4gT25lIGRvZXMgbm90IGhhdmUgdG8gaW5jbHVkZSB0aGVtLgogICAgVGhleSBhbGxvdyBvbmUgdG8gY3VzdG9taXNlIHRoZSB0b2tlbiBjb250cmFjdCAmIGluIG5vIHdheSBpbmZsdWVuY2VzIHRoZSBjb3JlIGZ1bmN0aW9uYWxpdHkuCiAgICBTb21lIHdhbGxldHMvaW50ZXJmYWNlcyBtaWdodCBub3QgZXZlbiBib3RoZXIgdG8gbG9vayBhdCB0aGlzIGluZm9ybWF0aW9uLgogICAgKi8KICAgIHN0cmluZyBwdWJsaWMgbmFtZTsgICAgICAgICAgICAgICAgICAgLy9mYW5jeSBuYW1lOiBlZyBTaW1vbiBCdWNrcwogICAgdWludDggcHVibGljIGRlY2ltYWxzOyAgICAgICAgICAgICAgICAvL0hvdyBtYW55IGRlY2ltYWxzIHRvIHNob3cuIGllLiBUaGVyZSBjb3VsZCAxMDAwIGJhc2UgdW5pdHMgd2l0aCAzIGRlY2ltYWxzLiBNZWFuaW5nIDAuOTgwIFNCWCA9IDk4MCBiYXNlIHVuaXRzLiBJdCdzIGxpa2UgY29tcGFyaW5nIDEgd2VpIHRvIDEgZXRoZXIuCiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsgICAgICAgICAgICAgICAgIC8vQW4gaWRlbnRpZmllcjogZWcgU0JYCiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAnSDAuMSc7ICAgICAgIC8vaHVtYW4gMC4xIHN0YW5kYXJkLiBKdXN0IGFuIGFyYml0cmFyeSB2ZXJzaW9uaW5nIHNjaGVtZS4KCiAgICBmdW5jdGlvbiBIdW1hblN0YW5kYXJkVG9rZW4oCiAgICAgICAgdWludDI1NiBfaW5pdGlhbEFtb3VudCwKICAgICAgICBzdHJpbmcgX3Rva2VuTmFtZSwKICAgICAgICB1aW50OCBfZGVjaW1hbFVuaXRzLAogICAgICAgIHN0cmluZyBfdG9rZW5TeW1ib2wKICAgICAgICApIHsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IF9pbml0aWFsQW1vdW50OyAgICAgICAgICAgICAgIC8vIEdpdmUgdGhlIGNyZWF0b3IgYWxsIGluaXRpYWwgdG9rZW5zCiAgICAgICAgdG90YWxTdXBwbHkgPSBfaW5pdGlhbEFtb3VudDsgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdG90YWwgc3VwcGx5CiAgICAgICAgbmFtZSA9IF90b2tlbk5hbWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIG5hbWUgZm9yIGRpc3BsYXkgcHVycG9zZXMKICAgICAgICBkZWNpbWFscyA9IF9kZWNpbWFsVW5pdHM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFtb3VudCBvZiBkZWNpbWFscyBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICAgIHN5bWJvbCA9IF90b2tlblN5bWJvbDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBzeW1ib2wgZm9yIGRpc3BsYXkgcHVycG9zZXMKICAgIH0KCiAgICAvKiBBcHByb3ZlcyBhbmQgdGhlbiBjYWxscyB0aGUgcmVjZWl2aW5nIGNvbnRyYWN0ICovCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CgogICAgICAgIC8vY2FsbCB0aGUgcmVjZWl2ZUFwcHJvdmFsIGZ1bmN0aW9uIG9uIHRoZSBjb250cmFjdCB5b3Ugd2FudCB0byBiZSBub3RpZmllZC4gVGhpcyBjcmFmdHMgdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZSBtYW51YWxseSBzbyBvbmUgZG9lc24ndCBoYXZlIHRvIGluY2x1ZGUgYSBjb250cmFjdCBpbiBoZXJlIGp1c3QgZm9yIHRoaXMuCiAgICAgICAgLy9yZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuQ29udHJhY3QsIGJ5dGVzIF9leHRyYURhdGEpCiAgICAgICAgLy9pdCBpcyBhc3N1bWVkIHRoYXQgd2hlbiBkb2VzIHRoaXMgdGhhdCB0aGUgY2FsbCAqc2hvdWxkKiBzdWNjZWVkLCBvdGhlcndpc2Ugb25lIHdvdWxkIHVzZSB2YW5pbGxhIGFwcHJvdmUgaW5zdGVhZC4KICAgICAgICByZXF1aXJlKF9zcGVuZGVyLmNhbGwoYnl0ZXM0KGJ5dGVzMzIoc2hhMygicmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MsdWludDI1NixhZGRyZXNzLGJ5dGVzKSIpKSksIG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSkpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9Cgpjb250cmFjdCBEaXNidXJzZW1lbnQgewoKICAgIC8qCiAgICAgKiAgU3RvcmFnZQogICAgICovCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIGFkZHJlc3MgcHVibGljIHJlY2VpdmVyOwogICAgdWludCBwdWJsaWMgZGlzYnVyc2VtZW50UGVyaW9kOwogICAgdWludCBwdWJsaWMgc3RhcnREYXRlOwogICAgdWludCBwdWJsaWMgd2l0aGRyYXduVG9rZW5zOwogICAgVG9rZW4gcHVibGljIHRva2VuOwoKICAgIC8qCiAgICAgKiAgTW9kaWZpZXJzCiAgICAgKi8KICAgIG1vZGlmaWVyIGlzT3duZXIoKSB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpCiAgICAgICAgICAgIC8vIE9ubHkgb3duZXIgaXMgYWxsb3dlZCB0byBwcm9jZWVkCiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgaXNSZWNlaXZlcigpIHsKICAgICAgICBpZiAobXNnLnNlbmRlciAhPSByZWNlaXZlcikKICAgICAgICAgICAgLy8gT25seSByZWNlaXZlciBpcyBhbGxvd2VkIHRvIHByb2NlZWQKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBpc1NldFVwKCkgewogICAgICAgIGlmIChhZGRyZXNzKHRva2VuKSA9PSAwKQogICAgICAgICAgICAvLyBDb250cmFjdCBpcyBub3Qgc2V0IHVwCiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIF87CiAgICB9CgogICAgLyoKICAgICAqICBQdWJsaWMgZnVuY3Rpb25zCiAgICAgKi8KICAgIC8vLyBAZGV2IENvbnN0cnVjdG9yIGZ1bmN0aW9uIHNldHMgY29udHJhY3Qgb3duZXIKICAgIC8vLyBAcGFyYW0gX3JlY2VpdmVyIFJlY2VpdmVyIG9mIHZlc3RlZCB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX2Rpc2J1cnNlbWVudFBlcmlvZCBWZXN0aW5nIHBlcmlvZCBpbiBzZWNvbmRzCiAgICAvLy8gQHBhcmFtIF9zdGFydERhdGUgU3RhcnQgZGF0ZSBvZiBkaXNidXJzZW1lbnQgcGVyaW9kIChjbGlmZikKICAgIGZ1bmN0aW9uIERpc2J1cnNlbWVudChhZGRyZXNzIF9yZWNlaXZlciwgdWludCBfZGlzYnVyc2VtZW50UGVyaW9kLCB1aW50IF9zdGFydERhdGUpCiAgICAgICAgcHVibGljCiAgICB7CiAgICAgICAgaWYgKF9yZWNlaXZlciA9PSAwIHx8IF9kaXNidXJzZW1lbnRQZXJpb2QgPT0gMCkKICAgICAgICAgICAgLy8gQXJndW1lbnRzIGFyZSBudWxsCiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICByZWNlaXZlciA9IF9yZWNlaXZlcjsKICAgICAgICBkaXNidXJzZW1lbnRQZXJpb2QgPSBfZGlzYnVyc2VtZW50UGVyaW9kOwogICAgICAgIHN0YXJ0RGF0ZSA9IF9zdGFydERhdGU7CiAgICAgICAgaWYgKHN0YXJ0RGF0ZSA9PSAwKQogICAgICAgICAgICBzdGFydERhdGUgPSBub3c7CiAgICB9CgogICAgLy8vIEBkZXYgU2V0dXAgZnVuY3Rpb24gc2V0cyBleHRlcm5hbCBjb250cmFjdHMnIGFkZHJlc3NlcwogICAgLy8vIEBwYXJhbSBfdG9rZW4gVG9rZW4gYWRkcmVzcwogICAgZnVuY3Rpb24gc2V0dXAoVG9rZW4gX3Rva2VuKQogICAgICAgIHB1YmxpYwogICAgICAgIGlzT3duZXIKICAgIHsKICAgICAgICBpZiAoYWRkcmVzcyh0b2tlbikgIT0gMCB8fCBhZGRyZXNzKF90b2tlbikgPT0gMCkKICAgICAgICAgICAgLy8gU2V0dXAgd2FzIGV4ZWN1dGVkIGFscmVhZHkgb3IgYWRkcmVzcyBpcyBudWxsCiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIHRva2VuID0gX3Rva2VuOwogICAgfQoKICAgIC8vLyBAZGV2IFRyYW5zZmVycyB0b2tlbnMgdG8gYSBnaXZlbiBhZGRyZXNzCiAgICAvLy8gQHBhcmFtIF90byBBZGRyZXNzIG9mIHRva2VuIHJlY2VpdmVyCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyCiAgICBmdW5jdGlvbiB3aXRoZHJhdyhhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpCiAgICAgICAgcHVibGljCiAgICAgICAgaXNSZWNlaXZlcgogICAgICAgIGlzU2V0VXAKICAgIHsKICAgICAgICB1aW50IG1heFRva2VucyA9IGNhbGNNYXhXaXRoZHJhdygpOwogICAgICAgIGlmIChfdmFsdWUgPiBtYXhUb2tlbnMpCiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIHdpdGhkcmF3blRva2VucyArPSBfdmFsdWU7CiAgICAgICAgdG9rZW4udHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIC8vLyBAZGV2IENhbGN1bGF0ZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIHZlc3RlZCB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIE51bWJlciBvZiB2ZXN0ZWQgdG9rZW5zIHRvIHdpdGhkcmF3CiAgICBmdW5jdGlvbiBjYWxjTWF4V2l0aGRyYXcoKQogICAgICAgIHB1YmxpYwogICAgICAgIGNvbnN0YW50CiAgICAgICAgcmV0dXJucyAodWludCkKICAgIHsKICAgICAgICB1aW50IG1heFRva2VucyA9ICh0b2tlbi5iYWxhbmNlT2YodGhpcykgKyB3aXRoZHJhd25Ub2tlbnMpICogKG5vdyAtIHN0YXJ0RGF0ZSkgLyBkaXNidXJzZW1lbnRQZXJpb2Q7CiAgICAgICAgaWYgKHdpdGhkcmF3blRva2VucyA+PSBtYXhUb2tlbnMgfHwgc3RhcnREYXRlID4gbm93KQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICByZXR1cm4gbWF4VG9rZW5zIC0gd2l0aGRyYXduVG9rZW5zOwogICAgfQp9Cgpjb250cmFjdCBTYWxlIHsKCiAgICAvKgogICAgICogRXZlbnRzCiAgICAgKi8KCiAgICBldmVudCBQdXJjaGFzZWRUb2tlbnMoYWRkcmVzcyBpbmRleGVkIHB1cmNoYXNlciwgdWludCBhbW91bnQpOwogICAgZXZlbnQgVHJhbnNmZXJyZWRQcmVCdXllcnNSZXdhcmQoYWRkcmVzcyBpbmRleGVkIHByZUJ1eWVyLCB1aW50IGFtb3VudCk7CiAgICBldmVudCBUcmFuc2ZlcnJlZFRpbWVsb2NrZWRUb2tlbnMoYWRkcmVzcyBiZW5lZmljaWFyeSwgYWRkcmVzcyBkaXNidXJzZXIsIHVpbnQgYW1vdW50KTsKCiAgICAvKgogICAgICogU3RvcmFnZQogICAgICovCgogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgICBhZGRyZXNzIHB1YmxpYyB3YWxsZXQ7CiAgICBIdW1hblN0YW5kYXJkVG9rZW4gcHVibGljIHRva2VuOwogICAgdWludCBwdWJsaWMgcHJpY2U7CiAgICB1aW50IHB1YmxpYyBzdGFydEJsb2NrOwogICAgdWludCBwdWJsaWMgZnJlZXplQmxvY2s7CiAgICB1aW50IHB1YmxpYyBlbmRCbG9jazsKCiAgICB1aW50IHB1YmxpYyB0b3RhbFByZUJ1eWVyczsKICAgIHVpbnQgcHVibGljIHByZUJ1eWVyc0Rpc3BlbnNlZFRvID0gMDsKICAgIHVpbnQgcHVibGljIHRvdGFsVGltZWxvY2tlZEJlbmVmaWNpYXJpZXM7CiAgICB1aW50IHB1YmxpYyB0aW1lTG9ja2VkQmVuZWZpY2lhcmllc0Rpc2J1cnNlZFRvID0gMDsKCiAgICBib29sIHB1YmxpYyBlbWVyZ2VuY3lGbGFnID0gZmFsc2U7CiAgICBib29sIHB1YmxpYyBwcmVTYWxlVG9rZW5zRGlzYnVyc2VkID0gZmFsc2U7CiAgICBib29sIHB1YmxpYyB0aW1lbG9ja2VkVG9rZW5zRGlzYnVyc2VkID0gZmFsc2U7CgogICAgLyoKICAgICAqIE1vZGlmaWVycwogICAgICovCgogICAgbW9kaWZpZXIgc2FsZVN0YXJ0ZWQgewogICAgICAgIHJlcXVpcmUoYmxvY2subnVtYmVyID49IHN0YXJ0QmxvY2spOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgc2FsZUVuZGVkIHsKICAgICAgICAgcmVxdWlyZShibG9jay5udW1iZXIgPiBlbmRCbG9jayk7CiAgICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgc2FsZU5vdEVuZGVkIHsKICAgICAgICByZXF1aXJlKGJsb2NrLm51bWJlciA8PSBlbmRCbG9jayk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBub3RGcm96ZW4gewogICAgICAgIHJlcXVpcmUoYmxvY2subnVtYmVyIDwgZnJlZXplQmxvY2spOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgc2V0dXBDb21wbGV0ZSB7CiAgICAgICAgYXNzZXJ0KHByZVNhbGVUb2tlbnNEaXNidXJzZWQgJiYgdGltZWxvY2tlZFRva2Vuc0Rpc2J1cnNlZCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBub3RJbkVtZXJnZW5jeSB7CiAgICAgICAgYXNzZXJ0KGVtZXJnZW5jeUZsYWcgPT0gZmFsc2UpOwogICAgICAgIF87CiAgICB9CgogICAgLyoKICAgICAqIFB1YmxpYyBmdW5jdGlvbnMKICAgICAqLwoKICAgIC8vLyBAZGV2IFNhbGUoKTogY29uc3RydWN0b3IgZm9yIFNhbGUgY29udHJhY3QKICAgIC8vLyBAcGFyYW0gX293bmVyIHRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIHNhbGUsIGNhbiBhY2Nlc3Mgb3duZXItb25seSBmdW5jdGlvbnMKICAgIC8vLyBAcGFyYW0gX3dhbGxldCB0aGUgc2FsZSdzIGJlbmVmaWNpYXJ5IGFkZHJlc3MKICAgIC8vLyBAcGFyYW0gX3Rva2VuU3VwcGx5IHRoZSB0b3RhbCBudW1iZXIgb2YgdG9rZW5zIHRvIG1pbnQKICAgIC8vLyBAcGFyYW0gX3Rva2VuTmFtZSB0aGUgdG9rZW4ncyBodW1hbi1yZWFkYWJsZSBuYW1lCiAgICAvLy8gQHBhcmFtIF90b2tlbkRlY2ltYWxzIHRoZSBudW1iZXIgb2YgZGlzcGxheSBkZWNpbWFscyBpbiB0b2tlbiBiYWxhbmNlcwogICAgLy8vIEBwYXJhbSBfdG9rZW5TeW1ib2wgdGhlIHRva2VuJ3MgaHVtYW4tcmVhZGFibGUgYXNzZXQgc3ltYm9sCiAgICAvLy8gQHBhcmFtIF9wcmljZSBwcmljZSBvZiB0aGUgdG9rZW4gaW4gV2VpCiAgICAvLy8gQHBhcmFtIF9zdGFydEJsb2NrIHRoZSBibG9jayBhdCB3aGljaCB0aGlzIGNvbnRyYWN0IHdpbGwgYmVnaW4gc2VsbGluZyBpdHMgdG9rZW4gYmFsYW5jZQogICAgZnVuY3Rpb24gU2FsZSgKICAgICAgICBhZGRyZXNzIF9vd25lciwKICAgICAgICBhZGRyZXNzIF93YWxsZXQsCiAgICAgICAgdWludDI1NiBfdG9rZW5TdXBwbHksCiAgICAgICAgc3RyaW5nIF90b2tlbk5hbWUsCiAgICAgICAgdWludDggX3Rva2VuRGVjaW1hbHMsCiAgICAgICAgc3RyaW5nIF90b2tlblN5bWJvbCwKICAgICAgICB1aW50IF9wcmljZSwKICAgICAgICB1aW50IF9zdGFydEJsb2NrLAogICAgICAgIHVpbnQgX2ZyZWV6ZUJsb2NrLAogICAgICAgIHVpbnQgX3RvdGFsUHJlQnV5ZXJzLAogICAgICAgIHVpbnQgX3RvdGFsVGltZWxvY2tlZEJlbmVmaWNpYXJpZXMsCiAgICAgICAgdWludCBfZW5kQmxvY2sKICAgICkgewogICAgICAgIG93bmVyID0gX293bmVyOwogICAgICAgIHdhbGxldCA9IF93YWxsZXQ7CiAgICAgICAgdG9rZW4gPSBuZXcgSHVtYW5TdGFuZGFyZFRva2VuKF90b2tlblN1cHBseSwgX3Rva2VuTmFtZSwgX3Rva2VuRGVjaW1hbHMsIF90b2tlblN5bWJvbCk7CiAgICAgICAgcHJpY2UgPSBfcHJpY2U7CiAgICAgICAgc3RhcnRCbG9jayA9IF9zdGFydEJsb2NrOwogICAgICAgIGZyZWV6ZUJsb2NrID0gX2ZyZWV6ZUJsb2NrOwogICAgICAgIHRvdGFsUHJlQnV5ZXJzID0gX3RvdGFsUHJlQnV5ZXJzOwogICAgICAgIHRvdGFsVGltZWxvY2tlZEJlbmVmaWNpYXJpZXMgPSBfdG90YWxUaW1lbG9ja2VkQmVuZWZpY2lhcmllczsKICAgICAgICBlbmRCbG9jayA9IF9lbmRCbG9jazsKCiAgICAgICAgdG9rZW4udHJhbnNmZXIodGhpcywgdG9rZW4udG90YWxTdXBwbHkoKSk7CiAgICAgICAgYXNzZXJ0KHRva2VuLmJhbGFuY2VPZih0aGlzKSA9PSB0b2tlbi50b3RhbFN1cHBseSgpKTsKICAgICAgICBhc3NlcnQodG9rZW4uYmFsYW5jZU9mKHRoaXMpID09IF90b2tlblN1cHBseSk7CiAgICB9CgogICAgLy8vIEBkZXYgZGlzdHJpYnV0ZVByZUJ1eWVyc1Jld2FyZHMoKTogcHJpdmF0ZSB1dGlsaXR5IGZ1bmN0aW9uIGNhbGxlZCBieSBjb25zdHJ1Y3RvcgogICAgLy8vIEBwYXJhbSBfcHJlQnV5ZXJzIGFuIGFycmF5IG9mIGFkZHJlc3NlcyB0byB3aGljaCBhd2FyZHMgd2lsbCBiZSBkaXN0cmlidXRlZAogICAgLy8vIEBwYXJhbSBfcHJlQnV5ZXJzVG9rZW5zIGFuIGFycmF5IG9mIGludGVnZXJzIHNwZWNpZnlpbmcgcHJlQnV5ZXJzIHJld2FyZHMKICAgIGZ1bmN0aW9uIGRpc3RyaWJ1dGVQcmVCdXllcnNSZXdhcmRzKAogICAgICAgIGFkZHJlc3NbXSBfcHJlQnV5ZXJzLAogICAgICAgIHVpbnRbXSBfcHJlQnV5ZXJzVG9rZW5zCiAgICApCiAgICAgICAgcHVibGljCiAgICAgICAgb25seU93bmVyCiAgICB7CiAgICAgICAgYXNzZXJ0KCFwcmVTYWxlVG9rZW5zRGlzYnVyc2VkKTsKCiAgICAgICAgZm9yKHVpbnQgaSA9IDA7IGkgPCBfcHJlQnV5ZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHRva2VuLnRyYW5zZmVyKF9wcmVCdXllcnNbaV0sIF9wcmVCdXllcnNUb2tlbnNbaV0pOwogICAgICAgICAgICBwcmVCdXllcnNEaXNwZW5zZWRUbyArPSAxOwogICAgICAgICAgICBUcmFuc2ZlcnJlZFByZUJ1eWVyc1Jld2FyZChfcHJlQnV5ZXJzW2ldLCBfcHJlQnV5ZXJzVG9rZW5zW2ldKTsKICAgICAgICB9CgogICAgICAgIGlmKHByZUJ1eWVyc0Rpc3BlbnNlZFRvID09IHRvdGFsUHJlQnV5ZXJzKSB7CiAgICAgICAgICBwcmVTYWxlVG9rZW5zRGlzYnVyc2VkID0gdHJ1ZTsKICAgICAgICB9CiAgICB9CgogICAgLy8vIEBkZXYgZGlzdHJpYnV0ZVRpbWVsb2NrZWRUb2tlbnMoKTogcHJpdmF0ZSB1dGlsaXR5IGZ1bmN0aW9uIGNhbGxlZCBieSBjb25zdHJ1Y3RvcgogICAgLy8vIEBwYXJhbSBfYmVuZWZpY2lhcmllcyBhbiBhcnJheSBvZiBhZGRyZXNzZXMgc3BlY2lmeWluZyBkaXNidXJzZW1lbnQgYmVuZWZpY2lhcmllcwogICAgLy8vIEBwYXJhbSBfYmVuZWZpY2lhcmllc1Rva2VucyBhbiBhcnJheSBvZiBpbnRlZ2VycyBzcGVjaWZ5aW5nIGRpc2J1cnNlbWVudCBhbW91bnRzCiAgICAvLy8gQHBhcmFtIF90aW1lbG9ja3MgYW4gYXJyYXkgb2YgVU5JWCB0aW1lc3RhbXBzIHNwZWNpZnlpbmcgdmVzdGluZyBkYXRlcwogICAgLy8vIEBwYXJhbSBfcGVyaW9kcyBhbiBhcnJheSBvZiBkdXJhdGlvbnMgaW4gc2Vjb25kcyBzcGVjaWZ5aW5nIHZlc3RpbmcgcGVyaW9kcwogICAgZnVuY3Rpb24gZGlzdHJpYnV0ZVRpbWVsb2NrZWRUb2tlbnMoCiAgICAgICAgYWRkcmVzc1tdIF9iZW5lZmljaWFyaWVzLAogICAgICAgIHVpbnRbXSBfYmVuZWZpY2lhcmllc1Rva2VucywKICAgICAgICB1aW50W10gX3RpbWVsb2NrcywKICAgICAgICB1aW50W10gX3BlcmlvZHMKICAgICkKICAgICAgICBwdWJsaWMKICAgICAgICBvbmx5T3duZXIKICAgIHsKICAgICAgICBhc3NlcnQocHJlU2FsZVRva2Vuc0Rpc2J1cnNlZCk7CiAgICAgICAgYXNzZXJ0KCF0aW1lbG9ja2VkVG9rZW5zRGlzYnVyc2VkKTsKCiAgICAgICAgZm9yKHVpbnQgaSA9IDA7IGkgPCBfYmVuZWZpY2lhcmllcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgYWRkcmVzcyBiZW5lZmljaWFyeSA9IF9iZW5lZmljaWFyaWVzW2ldOwogICAgICAgICAgdWludCBiZW5lZmljaWFyeVRva2VucyA9IF9iZW5lZmljaWFyaWVzVG9rZW5zW2ldOwoKICAgICAgICAgIERpc2J1cnNlbWVudCBkaXNidXJzZW1lbnQgPSBuZXcgRGlzYnVyc2VtZW50KAogICAgICAgICAgICBiZW5lZmljaWFyeSwKICAgICAgICAgICAgX3BlcmlvZHNbaV0sCiAgICAgICAgICAgIF90aW1lbG9ja3NbaV0KICAgICAgICAgICk7CgogICAgICAgICAgZGlzYnVyc2VtZW50LnNldHVwKHRva2VuKTsKICAgICAgICAgIHRva2VuLnRyYW5zZmVyKGRpc2J1cnNlbWVudCwgYmVuZWZpY2lhcnlUb2tlbnMpOwogICAgICAgICAgdGltZUxvY2tlZEJlbmVmaWNpYXJpZXNEaXNidXJzZWRUbyArPSAxOwoKICAgICAgICAgIFRyYW5zZmVycmVkVGltZWxvY2tlZFRva2VucyhiZW5lZmljaWFyeSwgZGlzYnVyc2VtZW50LCBiZW5lZmljaWFyeVRva2Vucyk7CiAgICAgICAgfQoKICAgICAgICBpZih0aW1lTG9ja2VkQmVuZWZpY2lhcmllc0Rpc2J1cnNlZFRvID09IHRvdGFsVGltZWxvY2tlZEJlbmVmaWNpYXJpZXMpIHsKICAgICAgICAgIHRpbWVsb2NrZWRUb2tlbnNEaXNidXJzZWQgPSB0cnVlOwogICAgICAgIH0KICAgIH0KCiAgICAvLy8gQGRldiBwdXJjaGFzZVRva2VuKCk6IGZ1bmN0aW9uIHRoYXQgZXhjaGFuZ2VzIEVUSCBmb3IgdG9rZW5zIChtYWluIHNhbGUgZnVuY3Rpb24pCiAgICAvLy8gQG5vdGljZSBZb3UncmUgYWJvdXQgdG8gcHVyY2hhc2UgdGhlIGVxdWl2YWxlbnQgb2YgYG1zZy52YWx1ZWAgV2VpIGluIHRva2VucwogICAgZnVuY3Rpb24gcHVyY2hhc2VUb2tlbnMoKQogICAgICAgIHNhbGVTdGFydGVkCiAgICAgICAgc2FsZU5vdEVuZGVkCiAgICAgICAgcGF5YWJsZQogICAgICAgIHNldHVwQ29tcGxldGUKICAgICAgICBub3RJbkVtZXJnZW5jeQogICAgewogICAgICAgIC8qIENhbGN1bGF0ZSB3aGV0aGVyIGFueSBvZiB0aGUgbXNnLnZhbHVlIG5lZWRzIHRvIGJlIHJldHVybmVkIHRvCiAgICAgICAgICAgdGhlIHNlbmRlci4gVGhlIHRva2VuUHVyY2hhc2UgaXMgdGhlIGFjdHVhbCBudW1iZXIgb2YgdG9rZW5zIHdoaWNoCiAgICAgICAgICAgd2lsbCBiZSBwdXJjaGFzZWQgb25jZSBhbnkgZXhjZXNzQW1vdW50IGluY2x1ZGVkIGluIHRoZSBtc2cudmFsdWUKICAgICAgICAgICBpcyByZW1vdmVkIGZyb20gdGhlIHB1cmNoYXNlQW1vdW50LiAqLwogICAgICAgIHVpbnQgZXhjZXNzQW1vdW50ID0gbXNnLnZhbHVlICUgcHJpY2U7CiAgICAgICAgdWludCBwdXJjaGFzZUFtb3VudCA9IG1zZy52YWx1ZSAtIGV4Y2Vzc0Ftb3VudDsKICAgICAgICB1aW50IHRva2VuUHVyY2hhc2UgPSBwdXJjaGFzZUFtb3VudCAvIHByaWNlOwoKICAgICAgICAvLyBDYW5ub3QgcHVyY2hhc2UgbW9yZSB0b2tlbnMgdGhhbiB0aGlzIGNvbnRyYWN0IGhhcyBhdmFpbGFibGUgdG8gc2VsbAogICAgICAgIHJlcXVpcmUodG9rZW5QdXJjaGFzZSA8PSB0b2tlbi5iYWxhbmNlT2YodGhpcykpOwoKICAgICAgICAvLyBSZXR1cm4gYW55IGV4Y2VzcyBtc2cudmFsdWUKICAgICAgICBpZiAoZXhjZXNzQW1vdW50ID4gMCkgewogICAgICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGV4Y2Vzc0Ftb3VudCk7CiAgICAgICAgfQoKICAgICAgICAvLyBGb3J3YXJkIHJlY2VpdmVkIGV0aGVyIG1pbnVzIGFueSBleGNlc3NBbW91bnQgdG8gdGhlIHdhbGxldAogICAgICAgIHdhbGxldC50cmFuc2ZlcihwdXJjaGFzZUFtb3VudCk7CgogICAgICAgIC8vIFRyYW5zZmVyIHRoZSBzdW0gb2YgdG9rZW5zIHRva2VuUHVyY2hhc2UgdG8gdGhlIG1zZy5zZW5kZXIKICAgICAgICB0b2tlbi50cmFuc2Zlcihtc2cuc2VuZGVyLCB0b2tlblB1cmNoYXNlKTsKCiAgICAgICAgUHVyY2hhc2VkVG9rZW5zKG1zZy5zZW5kZXIsIHRva2VuUHVyY2hhc2UpOwogICAgfQoKICAgIC8qCiAgICAgKiBPd25lci1vbmx5IGZ1bmN0aW9ucwogICAgICovCgogICAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfbmV3T3duZXIpCiAgICAgICAgb25seU93bmVyCiAgICB7CiAgICAgICAgcmVxdWlyZShfbmV3T3duZXIgIT0gMCk7CiAgICAgICAgb3duZXIgPSBfbmV3T3duZXI7CiAgICB9CgogICAgZnVuY3Rpb24gd2l0aGRyYXdSZW1haW5kZXIoKQogICAgICAgICBvbmx5T3duZXIKICAgICAgICAgc2FsZUVuZGVkCiAgICAgewogICAgICAgICB1aW50IHJlbWFpbmRlciA9IHRva2VuLmJhbGFuY2VPZih0aGlzKTsKICAgICAgICAgdG9rZW4udHJhbnNmZXIod2FsbGV0LCByZW1haW5kZXIpOwogICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VQcmljZSh1aW50IF9uZXdQcmljZSkKICAgICAgICBvbmx5T3duZXIKICAgICAgICBub3RGcm96ZW4KICAgIHsKICAgICAgICByZXF1aXJlKF9uZXdQcmljZSAhPSAwKTsKICAgICAgICBwcmljZSA9IF9uZXdQcmljZTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VXYWxsZXQoYWRkcmVzcyBfd2FsbGV0KQogICAgICAgIG9ubHlPd25lcgogICAgICAgIG5vdEZyb3plbgogICAgewogICAgICAgIHJlcXVpcmUoX3dhbGxldCAhPSAwKTsKICAgICAgICB3YWxsZXQgPSBfd2FsbGV0OwogICAgfQoKICAgIGZ1bmN0aW9uIGNoYW5nZVN0YXJ0QmxvY2sodWludCBfbmV3QmxvY2spCiAgICAgICAgb25seU93bmVyCiAgICAgICAgbm90RnJvemVuCiAgICB7CiAgICAgICAgcmVxdWlyZShfbmV3QmxvY2sgIT0gMCk7CgogICAgICAgIGZyZWV6ZUJsb2NrID0gX25ld0Jsb2NrIC0gKHN0YXJ0QmxvY2sgLSBmcmVlemVCbG9jayk7CiAgICAgICAgc3RhcnRCbG9jayA9IF9uZXdCbG9jazsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VFbmRCbG9jayh1aW50IF9uZXdCbG9jaykKICAgICAgICBvbmx5T3duZXIKICAgICAgICBub3RGcm96ZW4KICAgIHsKICAgICAgICByZXF1aXJlKF9uZXdCbG9jayA+IHN0YXJ0QmxvY2spOwogICAgICAgIGVuZEJsb2NrID0gX25ld0Jsb2NrOwogICAgfQoKICAgIGZ1bmN0aW9uIGVtZXJnZW5jeVRvZ2dsZSgpCiAgICAgICAgb25seU93bmVyCiAgICB7CiAgICAgICAgZW1lcmdlbmN5RmxhZyA9ICFlbWVyZ2VuY3lGbGFnOwogICAgfQoKfQ=='.
	

]
