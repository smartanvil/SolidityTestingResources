Class {
	#name : #SRT4ac1eb291b0115b25c7ce2a189fe2055ea54aa33,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4ac1eb291b0115b25c7ce2a189fe2055ea54aa33 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgQ29udHJhY3RzIHRoYXQgc2hvdWxkIG5vdCBvd24gRXRoZXIKICogQGF1dGhvciBSZW1jbyBCbG9lbWVuIDw8c3BhbiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9Ijc1MDcxMDE4MTYxYTM1NDciPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L3NwYW4+z4AuY29tPgogKiBAZGV2IFRoaXMgdHJpZXMgdG8gYmxvY2sgaW5jb21pbmcgZXRoZXIgdG8gcHJldmVudCBhY2NpZGVudGFsIGxvc3Mgb2YgRXRoZXIuIFNob3VsZCBFdGhlciBlbmQgdXAKICogaW4gdGhlIGNvbnRyYWN0LCBpdCB3aWxsIGFsbG93IHRoZSBvd25lciB0byByZWNsYWltIHRoaXMgZXRoZXIuCiAqIEBub3RpY2UgRXRoZXIgY2FuIHN0aWxsIGJlIHNlbmQgdG8gdGhpcyBjb250cmFjdCBieToKICogY2FsbGluZyBmdW5jdGlvbnMgbGFiZWxlZCBgcGF5YWJsZWAKICogYHNlbGZkZXN0cnVjdChjb250cmFjdF9hZGRyZXNzKWAKICogbWluaW5nIGRpcmVjdGx5IHRvIHRoZSBjb250cmFjdCBhZGRyZXNzCiovCmNvbnRyYWN0IEhhc05vRXRoZXIgaXMgT3duYWJsZSB7CgogIC8qKgogICogQGRldiBDb25zdHJ1Y3RvciB0aGF0IHJlamVjdHMgaW5jb21pbmcgRXRoZXIKICAqIEBkZXYgVGhlIGBwYXlhYmxlYCBmbGFnIGlzIGFkZGVkIHNvIHdlIGNhbiBhY2Nlc3MgYG1zZy52YWx1ZWAgd2l0aG91dCBjb21waWxlciB3YXJuaW5nLiBJZiB3ZQogICogbGVhdmUgb3V0IHBheWFibGUsIHRoZW4gU29saWRpdHkgd2lsbCBhbGxvdyBpbmhlcml0aW5nIGNvbnRyYWN0cyB0byBpbXBsZW1lbnQgYSBwYXlhYmxlCiAgKiBjb25zdHJ1Y3Rvci4gQnkgZG9pbmcgaXQgdGhpcyB3YXkgd2UgcHJldmVudCBhIHBheWFibGUgY29uc3RydWN0b3IgZnJvbSB3b3JraW5nLiBBbHRlcm5hdGl2ZWx5CiAgKiB3ZSBjb3VsZCB1c2UgYXNzZW1ibHkgdG8gYWNjZXNzIG1zZy52YWx1ZS4KICAqLwogIGZ1bmN0aW9uIEhhc05vRXRoZXIoKSBwYXlhYmxlIHsKICAgIHJlcXVpcmUobXNnLnZhbHVlID09IDApOwogIH0KCiAgLyoqCiAgICogQGRldiBEaXNhbGxvd3MgZGlyZWN0IHNlbmQgYnkgc2V0dGluZ3MgYSBkZWZhdWx0IGZ1bmN0aW9uIHdpdGhvdXQgdGhlIGBwYXlhYmxlYCBmbGFnLgogICAqLwogIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgewogIH0KCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciBhbGwgRXRoZXIgaGVsZCBieSB0aGUgY29udHJhY3QgdG8gdGhlIG93bmVyLgogICAqLwogIGZ1bmN0aW9uIHJlY2xhaW1FdGhlcigpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICBhc3NlcnQob3duZXIuc2VuZCh0aGlzLmJhbGFuY2UpKTsKICB9Cn0KCi8qKgogKiBAdGl0bGUgUGF1c2FibGUKICogQGRldiBCYXNlIGNvbnRyYWN0IHdoaWNoIGFsbG93cyBjaGlsZHJlbiB0byBpbXBsZW1lbnQgYW4gZW1lcmdlbmN5IHN0b3AgbWVjaGFuaXNtLgogKi8KY29udHJhY3QgUGF1c2FibGUgaXMgT3duYWJsZSB7CiAgZXZlbnQgUGF1c2UoKTsKICBldmVudCBVbnBhdXNlKCk7CgogIGJvb2wgcHVibGljIHBhdXNlZCA9IGZhbHNlOwoKCiAgLyoqCiAgICogQGRldiBNb2RpZmllciB0byBtYWtlIGEgZnVuY3Rpb24gY2FsbGFibGUgb25seSB3aGVuIHRoZSBjb250cmFjdCBpcyBub3QgcGF1c2VkLgogICAqLwogIG1vZGlmaWVyIHdoZW5Ob3RQYXVzZWQoKSB7CiAgICByZXF1aXJlKCFwYXVzZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgTW9kaWZpZXIgdG8gbWFrZSBhIGZ1bmN0aW9uIGNhbGxhYmxlIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgaXMgcGF1c2VkLgogICAqLwogIG1vZGlmaWVyIHdoZW5QYXVzZWQoKSB7CiAgICByZXF1aXJlKHBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHBhdXNlLCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gcGF1c2UoKSBvbmx5T3duZXIgd2hlbk5vdFBhdXNlZCBwdWJsaWMgewogICAgcGF1c2VkID0gdHJ1ZTsKICAgIFBhdXNlKCk7CiAgfQoKICAvKioKICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gdW5wYXVzZSwgcmV0dXJucyB0byBub3JtYWwgc3RhdGUKICAgKi8KICBmdW5jdGlvbiB1bnBhdXNlKCkgb25seU93bmVyIHdoZW5QYXVzZWQgcHVibGljIHsKICAgIHBhdXNlZCA9IGZhbHNlOwogICAgVW5wYXVzZSgpOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IElSbnRUb2tlbiB7CiAgICB1aW50MjU2IHB1YmxpYyBkZWNpbWFscyA9IDE4OwoKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5ID0gMTAwMDAwMDAwMCAqICgxMCAqKiAxOCk7CgogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIlJOVCBUb2tlbiI7CgogICAgc3RyaW5nIHB1YmxpYyBjb2RlID0gIlJOVCI7CgoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZigpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7Cn0KCmNvbnRyYWN0IFJudFRva2VuVmF1bHQgaXMgSGFzTm9FdGhlciwgUGF1c2FibGUgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgSVJudFRva2VuIHB1YmxpYyBybnRUb2tlbjsKCiAgICB1aW50MjU2IHB1YmxpYyBhY2NvdW50c0NvdW50ID0gMDsKCiAgICB1aW50MjU2IHB1YmxpYyB0b2tlbnMgPSAwOwoKICAgIG1hcHBpbmcgKGJ5dGVzMTYgPT4gYm9vbCkgcHVibGljIGFjY291bnRzU3RhdHVzZXM7CgogICAgbWFwcGluZyAoYnl0ZXMxNiA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZXM7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgYWxsb3dlZEFkZHJlc3NlczsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJ5dGVzMTYpIHB1YmxpYyB0b2tlblRyYW5zZmVyczsKCgogICAgZnVuY3Rpb24gUm50VG9rZW5WYXVsdChhZGRyZXNzIF9ybnRUb2tlbkFkZHJlc3MpewogICAgICAgIHJudFRva2VuID0gSVJudFRva2VuKF9ybnRUb2tlbkFkZHJlc3MpOwogICAgfQoKICAgIC8qKgogICAgQG5vdGljZSBNb2RpZmllciB0aGF0IHByZXZlbnQgY2FsbGluZyBmdW5jdGlvbiBmcm9tIG5vdCBhbGxvd2VkIGFkZHJlc3MuCiAgICBAZGV2IE93bmVyIGFsd2F5cyBhbGxvd2VkIGFkZHJlc3MuCiAgICAqLwogICAgbW9kaWZpZXIgb25seUFsbG93ZWRBZGRyZXNzZXMgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lciB8fCBhbGxvd2VkQWRkcmVzc2VzW21zZy5zZW5kZXJdID09IHRydWUpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICBAbm90aWNlIE1vZGlmaWVyIHRoYXQgcHJldmVudCBjYWxsaW5nIGZ1bmN0aW9uIGlmIGFjY291bnQgbm90IHJlZ2lzdGVyZWQuCiAgICAqLwogICAgbW9kaWZpZXIgb25seVJlZ2lzdGVyZWRBY2NvdW50KGJ5dGVzMTYgX3V1aWQpIHsKICAgICAgICByZXF1aXJlKGFjY291bnRzU3RhdHVzZXNbX3V1aWRdID09IHRydWUpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICBAbm90aWNlIEdldCBjdXJyZW50IGFtb3VudCBvZiB0b2tlbnMgb24gVmF1bHQgYWRkcmVzcy4KICAgIEByZXR1cm4geyBhbW91bnQgb2YgdG9rZW5zIH0KICAgICovCiAgICBmdW5jdGlvbiBnZXRWYXVsdEJhbGFuY2UoKSBvbmx5QWxsb3dlZEFkZHJlc3NlcyBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBybnRUb2tlbi5iYWxhbmNlT2YoKTsKICAgIH0KCiAgICAvKioKICAgIEBub3RpY2UgR2V0IHV1aWQgb2YgYWNjb3VudCB0YWh0IHRyYW5zZmVyIHRva2VucyB0byBzcGVjaWZpZWQgYWRkcmVzcy4KICAgIEBwYXJhbSAgX2FkZHJlc3MgVHJhbnNmZXIgYWRkcmVzcy4KICAgIEByZXR1cm4geyB1dWlkIHRoYXQgd3NhIHRyYW5zZmVyIHRva2VucyB9CiAgICAqLwogICAgZnVuY3Rpb24gZ2V0VG9rZW5UcmFuc2ZlclV1aWQoYWRkcmVzcyBfYWRkcmVzcykgb25seUFsbG93ZWRBZGRyZXNzZXMgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJ5dGVzMTYpIHsKICAgICAgICByZXR1cm4gdG9rZW5UcmFuc2ZlcnNbX2FkZHJlc3NdOwogICAgfQoKICAgIC8qKgogICAgQG5vdGljZSBDaGVjayB0aGF0IGFkZHJlc3MgaXMgYWxsb3dlZCB0byBpbnRlcmFjdCB3aXRoIGZ1bmN0aW9ucy4KICAgIEByZXR1cm4geyB0cnVlIGlmIGFsbG93ZWQsIGZhbHNlIGlmIG5vdCB9CiAgICAqLwogICAgZnVuY3Rpb24gaXNBbGxvd2VkQWRkcmVzcyhhZGRyZXNzIF9hZGRyZXNzKSBvbmx5QWxsb3dlZEFkZHJlc3NlcyBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBhbGxvd2VkQWRkcmVzc2VzW19hZGRyZXNzXTsKICAgIH0KCiAgICAvKioKICAgIEBub3RpY2UgQ2hlY2sgdGhhdCBhZGRyZXNzIGlzIHJlZ2lzdGVyZWQuCiAgICBAcmV0dXJuIHsgdHJ1ZSBpZiByZWdpc3RlcmVkLCBmYWxzZSBpZiBub3QgfQogICAgKi8KICAgIGZ1bmN0aW9uIGlzUmVnaXN0ZXJlZEFjY291bnQoYWRkcmVzcyBfYWRkcmVzcykgb25seUFsbG93ZWRBZGRyZXNzZXMgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZEFkZHJlc3Nlc1tfYWRkcmVzc107CiAgICB9CgogICAgLyoqCiAgICAgQG5vdGljZSBSZWdpc3RlciBhY2NvdW50LgogICAgIEBkZXYgSXQgdXNlZCBmb3IgYWNjb3VudHMgY291bnRpbmcuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQWNjb3VudChieXRlczE2IF91dWlkKSBwdWJsaWMgewogICAgICAgIGFjY291bnRzU3RhdHVzZXNbX3V1aWRdID0gdHJ1ZTsKICAgICAgICBhY2NvdW50c0NvdW50ID0gYWNjb3VudHNDb3VudC5hZGQoMSk7CiAgICB9CgogICAgLyoqCiAgICAgQG5vdGljZSBTZXQgYWxsb3dhbmNlIGZvciBhZGRyZXNzIHRvIGludGVyYWN0IHdpdGggY29udHJhY3QuCiAgICAgQHBhcmFtIF9hZGRyZXNzIEFkZHJlc3MgdG8gYWxsb3cgb3IgZGlzYWxsb3cuCiAgICAgQHBhcmFtIF9hbGxvdyBUcnVlIHRvIGFsbG93IGFkZHJlc3MgdG8gaW50ZXJhY3Qgd2l0aCBmdW5jdGlvbiwgZmFsc2UgdG8gZGlzYWxsb3cuCiAgICAqLwogICAgZnVuY3Rpb24gYWxsb3dBZGRyZXNzKGFkZHJlc3MgX2FkZHJlc3MsIGJvb2wgX2FsbG93KSBvbmx5T3duZXIgewogICAgICAgIGFsbG93ZWRBZGRyZXNzZXNbX2FkZHJlc3NdID0gX2FsbG93OwogICAgfQoKICAgIC8qKgogICAgQG5vdGljZSBGdW5jdGlvbiBmb3IgYWRkaW5nIHRva2VucyB0byBzcGVjaWZpZWQgYWNjb3VudC4KICAgIEBkZXYgQWNjb3VudCB3aWxsIGJlIHJlZ2lzdGVyZWQgaWYgaXQgd2Fzbid0LiBUb2tlbnMgd2lsbCBub3QgYmUgYWRkZWQgdG8gVmF1bHQgYWRkcmVzcy4KICAgIEBwYXJhbSBfdXVpZCBVdWlkIG9mIGFjY291bnQuCiAgICBAcGFyYW0gX3Rva2Vuc0NvdW50IE51bWJlciBvZiB0b2tlbnMgZm9yIGFkZGluZyB0byBhY2NvdW50LgogICAgQHJldHVybiB7IHRydWUgaWYgYWRkZWQsIGZhbHNlIGlmIG5vdCB9CiAgICAqLwogICAgZnVuY3Rpb24gYWRkVG9rZW5zVG9BY2NvdW50KGJ5dGVzMTYgX3V1aWQsIHVpbnQyNTYgX3Rva2Vuc0NvdW50KSBvbmx5QWxsb3dlZEFkZHJlc3NlcyB3aGVuTm90UGF1c2VkIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVnaXN0ZXJBY2NvdW50KF91dWlkKTsKICAgICAgICBiYWxhbmNlc1tfdXVpZF0gPSBiYWxhbmNlc1tfdXVpZF0uYWRkKF90b2tlbnNDb3VudCk7CiAgICAgICAgdG9rZW5zID0gdG9rZW5zLmFkZChfdG9rZW5zQ291bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgQG5vdGljZSBGdW5jdGlvbiBmb3IgcmVtb3ZpbmcgdG9rZW5zIGZyb20gc3BlY2lmaWVkIGFjY291bnQuCiAgICBAZGV2IEZ1bmN0aW9uIHRocm93IGV4Y2VwdGlvbiBpZiBhY2NvdW50IHdhc24ndCByZWdpc3RlcmVkLiBUb2tlbnMgd2lsbCBub3QgYmUgcmV0dXJuZWQgdG8gb3duZXIgYWRkcmVzcy4KICAgIEBwYXJhbSBfdXVpZCBVdWlkIG9mIGFjY291bnQuCiAgICBAcGFyYW0gX3Rva2Vuc0NvdW50IE51bWJlciBvZiB0b2tlbnMgZm9yIGFkZGluZyB0byBhY2NvdW50LgogICAgQHJldHVybiB7IHRydWUgaWYgYWRkZWQsIGZhbHNlIGlmIG5vdCB9CiAgICAqLwogICAgZnVuY3Rpb24gcmVtb3ZlVG9rZW5zRnJvbUFjY291bnQoYnl0ZXMxNiBfdXVpZCwgdWludDI1NiBfdG9rZW5zQ291bnQpIG9ubHlBbGxvd2VkQWRkcmVzc2VzCiAgICAgICAgICAgIG9ubHlSZWdpc3RlcmVkQWNjb3VudChfdXVpZCkgd2hlbk5vdFBhdXNlZCBpbnRlcm5hbCByZXR1cm5zIChib29sKSB7CiAgICAgICAgYmFsYW5jZXNbX3V1aWRdID0gYmFsYW5jZXNbX3V1aWRdLnN1YihfdG9rZW5zQ291bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgQG5vdGljZSBGdW5jdGlvbiBmb3IgdHJhbnNmZXJpbmcgdG9rZW5zIGZyb20gb25lIGFjY291bnQgdG8gYW5vdGhlci4KICAgIEBwYXJhbSBfZnJvbSBBY2NvdW50IGZyb20gd2hpY2ggdG9rZW5zIHdpbGwgYmUgdHJhbnNmZXJlZC4KICAgIEBwYXJhbSBfdG8gQWNjb3VudCB0byB3aGljaCB0b2tlbnMgd2lsbCBiZSB0cmFuc2ZlcmVkLgogICAgQHBhcmFtIF90b2tlbnNDb3VudCBOdW1iZXIgb2YgdG9rZW5zIHRoYXQgd2lsbCBiZSB0cmFuc2ZlcmVkLgogICAgQHJldHVybiB7IHRydWUgaWYgdHJhbnNmZXJlZCBzdWNjZXNzZnVsLCBmYWxzZSBpZiBub3QgfQogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyVG9rZW5zVG9BY2NvdW50KGJ5dGVzMTYgX2Zyb20sIGJ5dGVzMTYgX3RvLCB1aW50MjU2IF90b2tlbnNDb3VudCkgb25seUFsbG93ZWRBZGRyZXNzZXMKICAgICAgICAgICAgb25seVJlZ2lzdGVyZWRBY2NvdW50KF9mcm9tKSB3aGVuTm90UGF1c2VkIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVnaXN0ZXJBY2NvdW50KF90byk7CiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdG9rZW5zQ291bnQpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdG9rZW5zQ291bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgQG5vdGljZSBGdW5jdGlvbiBmb3Igd2l0aGRyYXdhbCBhbGwgdG9rZW5zIGZyb20gVmF1bHQgYWNjb3VudCB0byBhZGRyZXNzLgogICAgQGRldiBXaWxsIHRyYW5zZmVyIHRva2VucyBmcm9tIFZhdWx0IGFkZHJlc3MgdG8gc3BlY2lmaWVkIGFkZHJlc3MuCiAgICBAcGFyYW0gX3V1aWQgQWNjb3VudCBmcm9tIHdoaWNoIHRva2VucyB3aWxsIGJlIHRyYW5zZmVyZWQuCiAgICBAcGFyYW0gX2FkZHJlc3MgQWRkcmVzcyBvbiB3aGljaCB0b2tlbnMgd2lsbCBiZSB0cmFuc2ZlcmVkLgogICAgQHJldHVybiB7IHRydWUgaWYgd2l0aGRyYXdhbCBzdWNjZXNzZnVsLCBmYWxzZSBpZiBub3QgfQogICAgKi8KICAgIGZ1bmN0aW9uIG1vdmVBbGxUb2tlbnNUb0FkZHJlc3MoYnl0ZXMxNiBfdXVpZCwgYWRkcmVzcyBfYWRkcmVzcykgb25seUFsbG93ZWRBZGRyZXNzZXMKICAgICAgICAgICAgb25seVJlZ2lzdGVyZWRBY2NvdW50KF91dWlkKSB3aGVuTm90UGF1c2VkIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgdWludDI1NiBhY2NvdW50QmFsYW5jZSA9IGJhbGFuY2VzW191dWlkXTsKICAgICAgICByZW1vdmVUb2tlbnNGcm9tQWNjb3VudChfdXVpZCwgYWNjb3VudEJhbGFuY2UpOwogICAgICAgIHJudFRva2VuLnRyYW5zZmVyKF9hZGRyZXNzLCBhY2NvdW50QmFsYW5jZSk7CiAgICAgICAgdG9rZW5zID0gdG9rZW5zLnN1YihhY2NvdW50QmFsYW5jZSk7CiAgICAgICAgdG9rZW5UcmFuc2ZlcnNbX2FkZHJlc3NdID0gX3V1aWQ7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICBAbm90aWNlIEZ1bmN0aW9uIGZvciB3aXRoZHJhd2FsIHRva2VucyBmcm9tIFZhdWx0IGFjY291bnQgdG8gYWRkcmVzcy4KICAgIEBkZXYgV2lsbCB0cmFuc2ZlciB0b2tlbnMgZnJvbSBWYXVsdCBhZGRyZXNzIHRvIHNwZWNpZmllZCBhZGRyZXNzLgogICAgQHBhcmFtIF91dWlkIEFjY291bnQgZnJvbSB3aGljaCB0b2tlbnMgd2lsbCBiZSB0cmFuc2ZlcmVkLgogICAgQHBhcmFtIF9hZGRyZXNzIEFkZHJlc3Mgb24gd2hpY2ggdG9rZW5zIHdpbGwgYmUgdHJhbnNmZXJlZC4KICAgIEBwYXJhbSBfdG9rZW5zQ291bnQgTnVtYmVyIG9mIHRva2VucyB0aGF0IHdpbGwgYmUgdHJhbnNmZXJlZC4KICAgIEByZXR1cm4geyB0cnVlIGlmIHRyYW5zZmVyZWQgc3VjY2Vzc2Z1bCwgZmFsc2UgaWYgbm90IH0KICAgICovCiAgICBmdW5jdGlvbiBtb3ZlVG9rZW5zVG9BZGRyZXNzKGJ5dGVzMTYgX3V1aWQsIGFkZHJlc3MgX2FkZHJlc3MsIHVpbnQyNTYgX3Rva2Vuc0NvdW50KSBvbmx5QWxsb3dlZEFkZHJlc3NlcwogICAgICAgICAgICBvbmx5UmVnaXN0ZXJlZEFjY291bnQoX3V1aWQpIHdoZW5Ob3RQYXVzZWQgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZW1vdmVUb2tlbnNGcm9tQWNjb3VudChfdXVpZCwgX3Rva2Vuc0NvdW50KTsKICAgICAgICBybnRUb2tlbi50cmFuc2ZlcihfYWRkcmVzcywgX3Rva2Vuc0NvdW50KTsKICAgICAgICB0b2tlbnMgPSB0b2tlbnMuc3ViKF90b2tlbnNDb3VudCk7CiAgICAgICAgdG9rZW5UcmFuc2ZlcnNbX2FkZHJlc3NdID0gX3V1aWQ7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICBAbm90aWNlIEZ1bmN0aW9uIGZvciB3aXRoZHJhd2FsIHRva2VucyBmcm9tIFZhdWx0IHRvIHNwZWNpZmllZCBhZGRyZXNzLgogICAgQGRldiBXaWxsIHRyYW5zZmVyIHRva2VucyBmcm9tIFZhdWx0IGFkZHJlc3MgdG8gc3BlY2lmaWVkIGFkZHJlc3MuCiAgICBAcGFyYW0gX3RvIEFkZHJlc3Mgb24gd2hpY2ggdG9rZW5zIHdpbGwgYmUgdHJhbnNmZXJlZC4KICAgIEBwYXJhbSBfdG9rZW5zQ291bnQgTnVtYmVyIG9mIHRva2VucyB0aGF0IHdpbGwgYmUgdHJhbnNmZXJlZC4KICAgIEByZXR1cm4geyB0cnVlIGlmIHRyYW5zZmVyZWQgc3VjY2Vzc2Z1bCwgZmFsc2UgaWYgbm90IH0KICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlclRva2Vuc0Zyb21WYXVsdChhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5zQ291bnQpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJudFRva2VuLnRyYW5zZmVyKF90bywgX3Rva2Vuc0NvdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKLyoqCiAqIEB0aXRsZSBEZXN0cnVjdGlibGUKICogQGRldiBCYXNlIGNvbnRyYWN0IHRoYXQgY2FuIGJlIGRlc3Ryb3llZCBieSBvd25lci4gQWxsIGZ1bmRzIGluIGNvbnRyYWN0IHdpbGwgYmUgc2VudCB0byB0aGUgb3duZXIuCiAqLwpjb250cmFjdCBEZXN0cnVjdGlibGUgaXMgT3duYWJsZSB7CgogIGZ1bmN0aW9uIERlc3RydWN0aWJsZSgpIHBheWFibGUgeyB9CgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXJzIHRoZSBjdXJyZW50IGJhbGFuY2UgdG8gdGhlIG93bmVyIGFuZCB0ZXJtaW5hdGVzIHRoZSBjb250cmFjdC4KICAgKi8KICBmdW5jdGlvbiBkZXN0cm95KCkgb25seU93bmVyIHB1YmxpYyB7CiAgICBzZWxmZGVzdHJ1Y3Qob3duZXIpOwogIH0KCiAgZnVuY3Rpb24gZGVzdHJveUFuZFNlbmQoYWRkcmVzcyBfcmVjaXBpZW50KSBvbmx5T3duZXIgcHVibGljIHsKICAgIHNlbGZkZXN0cnVjdChfcmVjaXBpZW50KTsKICB9Cn0KCmNvbnRyYWN0IElDcm93ZHNhbGUgewogICAgZnVuY3Rpb24gYWxsb2NhdGVUb2tlbnMoYWRkcmVzcyBfcmVjZWl2ZXIsIGJ5dGVzMTYgX2N1c3RvbWVyVXVpZCwgdWludDI1NiBfd2VpQW1vdW50KSBwdWJsaWM7Cn0KCmNvbnRyYWN0IFJudFRva2VuUHJveHkgaXMgRGVzdHJ1Y3RpYmxlLCBQYXVzYWJsZSwgSGFzTm9FdGhlciB7CiAgICBJUm50VG9rZW4gcHVibGljIHJudFRva2VuOwoKICAgIElDcm93ZHNhbGUgcHVibGljIGNyb3dkc2FsZTsKCiAgICBSbnRUb2tlblZhdWx0IHB1YmxpYyBybnRUb2tlblZhdWx0OwoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGFsbG93ZWRBZGRyZXNzZXM7CgogICAgZnVuY3Rpb24gUm50VG9rZW5Qcm94eShhZGRyZXNzIF90b2tlbkFkZHJlc3MsIGFkZHJlc3MgX3ZhdWx0QWRkcmVzcywgYWRkcmVzcyBfZGVmYXVsdEFsbG93ZWQsIGFkZHJlc3MgX2Nyb3dkc2FsZUFkZHJlc3MpIHsKICAgICAgICBybnRUb2tlbiA9IElSbnRUb2tlbihfdG9rZW5BZGRyZXNzKTsKICAgICAgICBybnRUb2tlblZhdWx0ID0gUm50VG9rZW5WYXVsdChfdmF1bHRBZGRyZXNzKTsKICAgICAgICBjcm93ZHNhbGUgPSBJQ3Jvd2RzYWxlKF9jcm93ZHNhbGVBZGRyZXNzKTsKICAgICAgICBhbGxvd2VkQWRkcmVzc2VzW19kZWZhdWx0QWxsb3dlZF0gPSB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICBAbm90aWNlIE1vZGlmaWVyIHRoYXQgcHJldmVudCBjYWxsaW5nIGZ1bmN0aW9uIGZyb20gbm90IGFsbG93ZWQgYWRkcmVzcy4KICAgICAgQGRldiBPd25lciBhbHdheXMgYWxsb3dlZCBhZGRyZXNzLgogICAgICovCiAgICBtb2RpZmllciBvbmx5QWxsb3dlZEFkZHJlc3NlcyB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyIHx8IGFsbG93ZWRBZGRyZXNzZXNbbXNnLnNlbmRlcl0gPT0gdHJ1ZSk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICAgQG5vdGljZSBTZXQgYWxsb3dhbmNlIGZvciBhZGRyZXNzIHRvIGludGVyYWN0IHdpdGggY29udHJhY3QuCiAgICAgIEBwYXJhbSBfYWRkcmVzcyBBZGRyZXNzIHRvIGFsbG93IG9yIGRpc2FsbG93LgogICAgICBAcGFyYW0gX2FsbG93IFRydWUgdG8gYWxsb3cgYWRkcmVzcyB0byBpbnRlcmFjdCB3aXRoIGZ1bmN0aW9uLCBmYWxzZSB0byBkaXNhbGxvdy4KICAgICAqLwogICAgZnVuY3Rpb24gYWxsb3dBZGRyZXNzKGFkZHJlc3MgX2FkZHJlc3MsIGJvb2wgX2FsbG93KSBvbmx5T3duZXIgZXh0ZXJuYWwgewogICAgICAgIGFsbG93ZWRBZGRyZXNzZXNbX2FkZHJlc3NdID0gX2FsbG93OwogICAgfQoKICAgIC8qKgogICAgICBAbm90aWNlIEZ1bmN0aW9uIGZvciBhZGRpbmcgdG9rZW5zIHRvIGFjY291bnQuCiAgICAgIEBkZXYgSWYgYWNjb3VudCB3YXNuJ3QgY3JlYXRlZCwgaXQgd2lsbCBiZSBjcmVhdGVkIGFuZCB0b2tlbnMgd2lsbCBiZSBhZGRlZC4gQWxzbyB0aGlzIGZ1bmN0aW9uIHRyYW5zZmVyIHRva2VucyB0byBhZGRyZXNzIG9mIFZhbHV0LgogICAgICBAcGFyYW0gX3V1aWQgQWNjb3VudCB1dWlkLgogICAgICBAcGFyYW0gX3Rva2Vuc0NvdW50IE51bWJlciBvZiB0b2tlbnMgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIGFjY291bnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFkZFRva2VucyhieXRlczE2IF91dWlkLCB1aW50MjU2IF90b2tlbnNDb3VudCkgb25seUFsbG93ZWRBZGRyZXNzZXMgd2hlbk5vdFBhdXNlZCBleHRlcm5hbCB7CiAgICAgICAgcm50VG9rZW5WYXVsdC5hZGRUb2tlbnNUb0FjY291bnQoX3V1aWQsIF90b2tlbnNDb3VudCk7CiAgICAgICAgcm50VG9rZW4udHJhbnNmZXJGcm9tKG93bmVyLCBhZGRyZXNzKHJudFRva2VuVmF1bHQpLCBfdG9rZW5zQ291bnQpOwogICAgfQoKICAgIC8qKgogICAgICBAbm90aWNlIEZ1bmN0aW9uIGZvciB0cmFuc2ZlcmluZyB0b2tlbnMgZnJvbSBhY2NvdW50IHRvIHNwZWNpZmllZCBhZGRyZXNzLgogICAgICBAZGV2IEl0IHdpbGwgdHJhbnNmZXIgdG9rZW5zIGZyb20gVmF1bHQgYWRkcmVzcyB0byBzcGVjaWZpZWQgYWRkcmVzcy4KICAgICAgQHBhcmFtIF90byBBZGRyZXNzLCBvbiB3aWNoIHRva2VucyB3aWxsIGJlIGFkZGVkLgogICAgICBAcGFyYW0gX3V1aWQgQWNjb3VudCwgZnJvbSB3aWNoIHRva2VuIHdpbGwgYmUgdGFrZW4uCiAgICAgIEBwYXJhbSBfdG9rZW5zQ291bnQgTnVtYmVyIG9mIHRva2VucyBmb3IgdHJhbnNmZXJpbmcuCiAgICAgKi8KICAgIGZ1bmN0aW9uIG1vdmVUb2tlbnMoYWRkcmVzcyBfdG8sIGJ5dGVzMTYgX3V1aWQsIHVpbnQyNTYgX3Rva2Vuc0NvdW50KSBvbmx5QWxsb3dlZEFkZHJlc3NlcyB3aGVuTm90UGF1c2VkIGV4dGVybmFsIHsKICAgICAgICBybnRUb2tlblZhdWx0Lm1vdmVUb2tlbnNUb0FkZHJlc3MoX3V1aWQsIF90bywgX3Rva2Vuc0NvdW50KTsKICAgIH0KCiAgICAvKioKICAgICAgQG5vdGljZSBGdW5jdGlvbiBmb3IgdHJhbnNmZXJpbmcgYWxsIHRva2VucyBmcm9tIGFjY291bnQgdG8gc3BlY2lmaWVkIGFkZHJlc3MuCiAgICAgIEBkZXYgSXQgd2lsbCB0cmFuc2ZlciBhbGwgYWNjb3VudCBhbGxvd2VkIHRva2VucyBmcm9tIFZhdWx0IGFkZHJlc3MgdG8gc3BlY2lmaWVkIGFkZHJlc3MuCiAgICAgIEBwYXJhbSBfdG8gQWRkcmVzcywgb24gd2ljaCB0b2tlbnMgd2lsbCBiZSBhZGRlZC4KICAgICAgQHBhcmFtIF91dWlkIEFjY291bnQsIGZyb20gd2ljaCB0b2tlbiB3aWxsIGJlIHRha2VuLgogICAgICovCiAgICBmdW5jdGlvbiBtb3ZlQWxsVG9rZW5zKGFkZHJlc3MgX3RvLCBieXRlczE2IF91dWlkKSBvbmx5QWxsb3dlZEFkZHJlc3NlcyB3aGVuTm90UGF1c2VkIGV4dGVybmFsIHsKICAgICAgICBybnRUb2tlblZhdWx0Lm1vdmVBbGxUb2tlbnNUb0FkZHJlc3MoX3V1aWQsIF90byk7CiAgICB9CgogICAgLyoqCiAgICAgIEBub3RpY2UgQWRkIHRva2VucyB0byBzcGVjaWZpZWQgYWRkcmVzcywgdG9rZW5zIGFtb3VudCBkZXBlbmRzIG9mIHdlaSBhbW91bnQuCiAgICAgIEBkZXYgVG9rZW5zIGFjb3VudCBjYWxjdWxhdGVkIHVzaW5nIHRva2VuIHByaWNlIHRoYXQgc3BlY2lmaWVkIGluIFByaXhpbmcgU3RyYXRlZ3kuIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIHVzZWQgd2hlbiB0b2tlbnMgd2FzIGJ1eWVkIG91dHNpZGUgZXRoZXJldW0uCiAgICAgIEBwYXJhbSBfcmVjZWl2ZXIgQWRkcmVzcywgb24gd2ljaCB0b2tlbnMgd2lsbCBiZSBhZGRlZC4KICAgICAgQHBhcmFtIF9jdXN0b21lclV1aWQgVXVpZCBvZiBhY2NvdW50IHRoYXQgd2FzIGJvdWdodCB0b2tlbnMuCiAgICAgIEBwYXJhbSBfd2VpQW1vdW50IFdlaSB0aGF0IGFjY291bnQgd2FzIGludmVzdC4KICAgICAqLwogICAgZnVuY3Rpb24gYWxsb2NhdGUoYWRkcmVzcyBfcmVjZWl2ZXIsIGJ5dGVzMTYgX2N1c3RvbWVyVXVpZCwgdWludDI1NiBfd2VpQW1vdW50KSBvbmx5QWxsb3dlZEFkZHJlc3NlcyB3aGVuTm90UGF1c2VkIGV4dGVybmFsIHsKICAgICAgICBjcm93ZHNhbGUuYWxsb2NhdGVUb2tlbnMoX3JlY2VpdmVyLCBfY3VzdG9tZXJVdWlkLCBfd2VpQW1vdW50KTsKICAgIH0KfQ=='.
	

]
