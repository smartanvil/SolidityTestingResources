Class {
	#name : #SRT740e6b6f0a0165e8bb3d1cdf94862bdffbded22e,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT740e6b6f0a0165e8bb3d1cdf94862bdffbded22e >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuNjsKY29udHJhY3Qgb3duZWQgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgZnVuY3Rpb24gb3duZWQoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHRocm93OwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQp9Cgpjb250cmFjdCB0b2tlblJlY2lwaWVudCB7IGZ1bmN0aW9uIHJlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW4sIGJ5dGVzIF9leHRyYURhdGEpOyB9Cgpjb250cmFjdCBTd2FwVG9rZW4gaXMgb3duZWQgewogICAgLyogUHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4gKi8KICAgIAogICAgc3RyaW5nIHB1YmxpYyBzdGFuZGFyZCA9ICdUb2tlbiAwLjEnOwoKICAgIC8vIGJ1eWVyIHRva2VucwogICAgc3RyaW5nIHB1YmxpYyBidXllclRva2VuTmFtZTsKICAgIHN0cmluZyBwdWJsaWMgYnV5ZXJTeW1ib2w7CiAgICB1aW50OCBwdWJsaWMgYnV5ZXJEZWNpbWFsczsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsQnV5ZXJTdXBwbHk7CiAgICAKICAgIC8vIGlzc3VlciB0b2tlbnMKICAgIHN0cmluZyBwdWJsaWMgaXNzdWVyVG9rZW5OYW1lOwogICAgc3RyaW5nIHB1YmxpYyBpc3N1ZXJTeW1ib2w7CiAgICB1aW50OCBwdWJsaWMgaXNzdWVyRGVjaW1hbHM7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbElzc3VlclN1cHBseTsKICAgIAogICAgLy8gbW9yZSB2YXJpYWJsZXMKICAgIHVpbnQyNTYgcHVibGljIGJ1eVByaWNlOwogICAgdWludDI1NiBwdWJsaWMgaXNzdWVQcmljZTsKICAgIHVpbnQyNTYgcHVibGljIGNQVDsKICAgIHVpbnQyNTYgcHVibGljIHByZW1pdW07CiAgICBib29sIHB1YmxpYyBjcmVkaXRTdGF0dXM7CiAgICBhZGRyZXNzIHB1YmxpYyBwcm9qZWN0X3dhbGxldDsKICAgIGFkZHJlc3MgcHVibGljIGNvbGxlY3Rpb25GdW5kczsKICAgIC8vdWludCBwdWJsaWMgc3RhcnRCbG9jazsKICAgIC8vdWludCBwdWJsaWMgZW5kQmxvY2s7CiAgICAKICAgIC8qIFNldHMgdGhlIGNvbnN0cnVjdG9yIHZhcmlhYmxlcyAqLwogICAgZnVuY3Rpb24gU3dhcFRva2VuKAogICAgICAgIHN0cmluZyBfYnV5ZXJUb2tlbk5hbWUsCiAgICAgICAgc3RyaW5nIF9idXllclN5bWJvbCwKICAgICAgICB1aW50OCBfYnV5ZXJEZWNpbWFscywKICAgICAgICBzdHJpbmcgX2lzc3VlclRva2VuTmFtZSwKICAgICAgICBzdHJpbmcgX2lzc3VlclN5bWJvbCwKICAgICAgICB1aW50OCBfaXNzdWVyRGVjaW1hbHMsCiAgICAgICAgYWRkcmVzcyBfY29sbGVjdGlvbkZ1bmRzLAogICAgICAgIHVpbnQgX3N0YXJ0QmxvY2ssCiAgICAgICAgdWludCBfZW5kQmxvY2sKICAgICAgICApIHsKICAgICAgICBidXllclRva2VuTmFtZSA9IF9idXllclRva2VuTmFtZTsKICAgICAgICBidXllclN5bWJvbCA9IF9idXllclN5bWJvbDsKICAgICAgICBidXllckRlY2ltYWxzID0gX2J1eWVyRGVjaW1hbHM7CiAgICAgICAgaXNzdWVyVG9rZW5OYW1lID0gX2lzc3VlclRva2VuTmFtZTsKICAgICAgICBpc3N1ZXJTeW1ib2wgPSBfaXNzdWVyU3ltYm9sOwogICAgICAgIGlzc3VlckRlY2ltYWxzID0gX2lzc3VlckRlY2ltYWxzOwogICAgICAgIGNvbGxlY3Rpb25GdW5kcyA9IF9jb2xsZWN0aW9uRnVuZHM7CiAgICAgICAgLy9zdGFydEJsb2NrID0gX3N0YXJ0QmxvY2s7CiAgICAgICAgLy9lbmRCbG9jayA9IF9lbmRCbG9jazsKICAgIH0KCiAgICAvKiBUaGlzIGNyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgYmFsYW5jZXMgKi8KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VPZkJ1eWVyOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZU9mSXNzdWVyOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dhbmNlOwoKICAgIC8qIFRoaXMgZ2VuZXJhdGVzIGEgcHVibGljIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgY2xpZW50cyAqLwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CgogICAgLyogSW5pdGlhbGl6ZXMgY29udHJhY3Qgd2l0aCBpbml0aWFsIHN1cHBseSB0b2tlbnMgdG8gdGhlIGNyZWF0b3Igb2YgdGhlIGNvbnRyYWN0IAogICAgZnVuY3Rpb24gdG9rZW4oCiAgICAgICAgdWludDI1NiBpbml0aWFsU3VwcGx5LAogICAgICAgIHN0cmluZyB0b2tlbk5hbWUsCiAgICAgICAgdWludDggZGVjaW1hbFVuaXRzLAogICAgICAgIHN0cmluZyB0b2tlblN5bWJvbAogICAgICAgICkgewogICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSA9IGluaXRpYWxTdXBwbHk7ICAgICAgICAgICAgICAvLyBHaXZlIHRoZSBjcmVhdG9yIGFsbCBpbml0aWFsIHRva2VucwogICAgICAgIHRvdGFsU3VwcGx5ID0gaW5pdGlhbFN1cHBseTsgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdG90YWwgc3VwcGx5CiAgICAgICAgbmFtZSA9IHRva2VuTmFtZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgbmFtZSBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICAgIHN5bWJvbCA9IHRva2VuU3ltYm9sOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIHN5bWJvbCBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICAgIGRlY2ltYWxzID0gZGVjaW1hbFVuaXRzOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbW91bnQgb2YgZGVjaW1hbHMgZm9yIGRpc3BsYXkgcHVycG9zZXMKICAgIH0KICAgICovCiAgICAKICAgIC8qIENoZWNrIGlmIGNvbnRyYWN0IGhhcyBzdGFydGVkICovCiAgICAvKmZ1bmN0aW9uIGhhc19jb250cmFjdF9zdGFydGVkKCkgcHJpdmF0ZSBjb25zdGFudCByZXR1cm5zIChib29sKSB7CgkgICAgcmV0dXJuIGJsb2NrLm51bWJlciA+PSBzdGFydEJsb2NrOwogICAgfQogICAgCiAgICAvKiBDaGVjayBpZiBjb250cmFjdCBoYXMgZW5kZWQgKi8KICAgIC8qZnVuY3Rpb24gaGFzX2NvbnRyYWN0X2VuZGVkKCkgcHJpdmF0ZSBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIGJsb2NrLm51bWJlciA+IGVuZEJsb2NrOwogICAgfSovCiAgICAKICAgIC8qIFNldCBhIHByb2plY3QgV2FsbGV0ICovCiAgICBmdW5jdGlvbiBkZWZpbmVQcm9qZWN0V2FsbGV0KGFkZHJlc3MgdGFyZ2V0KSBvbmx5T3duZXIgewogICAgICAgIHByb2plY3Rfd2FsbGV0ID0gdGFyZ2V0OwogICAgfQogICAgCiAgICAvKiBNaW50IGNvaW5zICovCiAgICAKICAgIC8vIGJ1eWVyIHRva2VucwogICAgZnVuY3Rpb24gbWludEJ1eWVyVG9rZW4oYWRkcmVzcyB0YXJnZXQsIHVpbnQyNTYgbWludGVkQW1vdW50KSBvbmx5T3duZXIgewogICAgICAgIGJhbGFuY2VPZkJ1eWVyW3RhcmdldF0gKz0gbWludGVkQW1vdW50OwogICAgICAgIHRvdGFsQnV5ZXJTdXBwbHkgKz0gbWludGVkQW1vdW50OwogICAgICAgIFRyYW5zZmVyKDAsIHRoaXMsIG1pbnRlZEFtb3VudCk7CiAgICAgICAgVHJhbnNmZXIodGhpcywgdGFyZ2V0LCBtaW50ZWRBbW91bnQpOwogICAgfQogICAgCiAgICAvLyBpc3N1ZXIgdG9rZW5zCiAgICBmdW5jdGlvbiBtaW50SXNzdWVyVG9rZW4oYWRkcmVzcyB0YXJnZXQsIHVpbnQyNTYgbWludGVkQW1vdW50KSBvbmx5T3duZXIgewogICAgICAgIGJhbGFuY2VPZklzc3Vlclt0YXJnZXRdICs9IG1pbnRlZEFtb3VudDsKICAgICAgICB0b3RhbElzc3VlclN1cHBseSArPSBtaW50ZWRBbW91bnQ7CiAgICAgICAgVHJhbnNmZXIoMCwgdGhpcywgbWludGVkQW1vdW50KTsKICAgICAgICBUcmFuc2Zlcih0aGlzLCB0YXJnZXQsIG1pbnRlZEFtb3VudCk7CiAgICB9CiAgICAKICAgIC8qIERpc3Ryb3kgY29pbnMgKi8KICAgIAogICAgLy8gRGlzdHJveSBidXllciBjb2lucyBmb3Igc2FsZSBpbiBjb250cmFjdCAKICAgIGZ1bmN0aW9uIGRpc3Ryb3lCdXllclRva2VuKHVpbnQyNTYgYnVybkFtb3VudCkgb25seU93bmVyIHsKICAgICAgICBiYWxhbmNlT2ZCdXllclt0aGlzXSAtPSBidXJuQW1vdW50OwogICAgICAgIHRvdGFsQnV5ZXJTdXBwbHkgLT0gYnVybkFtb3VudDsKICAgIH0KICAgIAogICAgLy8gRGlzdHJveSBpc3N1ZXIgY29pbnMgZm9yIHNhbGUgaW4gY29udHJhY3QKICAgIGZ1bmN0aW9uIGRpc3Ryb3lJc3N1ZXJUb2tlbih1aW50MjU2IGJ1cm5BbW91bnQpIG9ubHlPd25lciB7CiAgICAgICAgYmFsYW5jZU9mSXNzdWVyW3RoaXNdIC09IGJ1cm5BbW91bnQ7CiAgICAgICAgdG90YWxJc3N1ZXJTdXBwbHkgLT0gYnVybkFtb3VudDsKICAgIH0KCiAgICAvKiBTZW5kIGNvaW5zICovCiAgICAKICAgIC8vIHNlbmQgYnV5ZXIgY29pbnMKICAgIGZ1bmN0aW9uIHRyYW5zZmVyQnV5ZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSB7CiAgICAgICAgaWYgKGJhbGFuY2VPZkJ1eWVyW21zZy5zZW5kZXJdIDwgX3ZhbHVlKSB0aHJvdzsgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaAogICAgICAgIGlmIChiYWxhbmNlT2ZCdXllcltfdG9dICsgX3ZhbHVlIDwgYmFsYW5jZU9mQnV5ZXJbX3RvXSkgdGhyb3c7IC8vIENoZWNrIGZvciBvdmVyZmxvd3MKICAgICAgICBiYWxhbmNlT2ZCdXllclttc2cuc2VuZGVyXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgYmFsYW5jZU9mQnV5ZXJbX3RvXSArPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgc2FtZSB0byB0aGUgcmVjaXBpZW50CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOyAgICAgICAgICAgICAgICAgICAvLyBOb3RpZnkgYW55b25lIGxpc3RlbmluZyB0aGF0IHRoaXMgdHJhbnNmZXIgdG9vayBwbGFjZQogICAgfQogICAgCiAgICAvLyBzZW5kIGlzc3VlciBjb2lucwogICAgZnVuY3Rpb24gdHJhbnNmZXJJc3N1ZShhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHsKICAgICAgICBpZiAoYmFsYW5jZU9mSXNzdWVyW21zZy5zZW5kZXJdIDwgX3ZhbHVlKSB0aHJvdzsKICAgICAgICBpZiAoYmFsYW5jZU9mSXNzdWVyW190b10gKyBfdmFsdWUgPCBiYWxhbmNlT2ZJc3N1ZXJbX3RvXSkgdGhyb3c7CiAgICAgICAgYmFsYW5jZU9mSXNzdWVyW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICBiYWxhbmNlT2ZJc3N1ZXJbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgfQogICAgCiAgICAvKiBBbGxvdyBhbm90aGVyIGNvbnRyYWN0IHRvIHNwZW5kIHNvbWUgdG9rZW5zIGluIHlvdXIgYmVoYWxmICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKQogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93YW5jZVttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgdG9rZW5SZWNpcGllbnQgc3BlbmRlciA9IHRva2VuUmVjaXBpZW50KF9zcGVuZGVyKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKiBBcHByb3ZlIGFuZCB0aGVuIGNvbXVuaWNhdGUgdGhlIGFwcHJvdmVkIGNvbnRyYWN0IGluIGEgc2luZ2xlIHR4ICovCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSkKICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsgICAgCiAgICAgICAgdG9rZW5SZWNpcGllbnQgc3BlbmRlciA9IHRva2VuUmVjaXBpZW50KF9zcGVuZGVyKTsKICAgICAgICBpZiAoYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKSkgewogICAgICAgICAgICBzcGVuZGVyLnJlY2VpdmVBcHByb3ZhbChtc2cuc2VuZGVyLCBfdmFsdWUsIHRoaXMsIF9leHRyYURhdGEpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICB9CgogICAgLyogQSBjb250cmFjdCBhdHRlbXB0cyB0byBnZXQgdGhlIGNvaW5zIAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYgKGJhbGFuY2VPZkJ1eWVyW19mcm9tXSA8IF92YWx1ZSkgdGhyb3c7ICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICBpZiAoYmFsYW5jZU9mQnV5ZXJbX3RvXSArIF92YWx1ZSA8IGJhbGFuY2VPZkJ1eWVyW190b10pIHRocm93OyAgLy8gQ2hlY2sgZm9yIG92ZXJmbG93cwogICAgICAgIGlmIChfdmFsdWUgPiBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdKSB0aHJvdzsgICAvLyBDaGVjayBhbGxvd2FuY2UKICAgICAgICBiYWxhbmNlT2ZCdXllcltfZnJvbV0gLT0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgYmFsYW5jZU9mQnV5ZXJbX3RvXSArPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgc2FtZSB0byB0aGUgcmVjaXBpZW50CiAgICAgICAgYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgICovCiAgICAKICAgIC8qIFNldCB0b2tlbiBwcmljZSAqLwogICAgZnVuY3Rpb24gc2V0UHJpY2VzKHVpbnQyNTYgbmV3QnV5UHJpY2UsIHVpbnQyNTYgbmV3SXNzdWVQcmljZSwgdWludDI1NiBjb3ZlcmFnZVBlclRva2VuKSBvbmx5T3duZXIgewogICAgICAgIGJ1eVByaWNlID0gbmV3QnV5UHJpY2U7CiAgICAgICAgaXNzdWVQcmljZSA9IG5ld0lzc3VlUHJpY2U7CiAgICAgICAgY1BUID0gY292ZXJhZ2VQZXJUb2tlbjsKICAgICAgICBwcmVtaXVtID0gKGlzc3VlUHJpY2UgLSBjUFQpICogOTgvMTAwOwogICAgfQoKICAgIC8qIEJ1eSB0b2tlbnMgKi8KICAgIAogICAgLy8gYnV5IGJ1eWVyIHRva2VucwogICAgZnVuY3Rpb24gYnV5QnV5ZXJUb2tlbnMoKSBwYXlhYmxlIHsKICAgICAgICAvL2lmKCFoYXNfY29udHJhY3Rfc3RhcnRlZCgpKSB0aHJvdzsgICAgICAgICAgICAgICAgICAvLyBjaGVja3MgaWYgdGhlIGNvbnRyYWN0IGhhcyBzdGFydGVkCiAgICAgICAgLy9pZihoYXNfY29udHJhY3RfZW5kZWQoKSkgdGhyb3c7ICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2tzIGlmIHRoZSBjb250cmFjdCBoYXMgZW5kZWQgCiAgICAgICAgdWludCBhbW91bnQgPSBtc2cudmFsdWUgLyBidXlQcmljZTsgICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlcyB0aGUgYW1vdW50CiAgICAgICAgaWYgKGJhbGFuY2VPZkJ1eWVyW3RoaXNdIDwgYW1vdW50KSB0aHJvdzsgICAgICAgICAgICAgICAvLyBjaGVja3MgaWYgaXQgaGFzIGVub3VnaCB0byBzZWxsCiAgICAgICAgYmFsYW5jZU9mQnV5ZXJbbXNnLnNlbmRlcl0gKz0gYW1vdW50OyAgICAgICAgICAgICAgICAgICAvLyBhZGRzIHRoZSBhbW91bnQgdG8gYnV5ZXIncyBiYWxhbmNlCiAgICAgICAgYmFsYW5jZU9mQnV5ZXJbdGhpc10gLT0gYW1vdW50OyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdWJ0cmFjdHMgYW1vdW50IGZyb20gc2VsbGVyJ3MgYmFsYW5jZQogICAgICAgIFRyYW5zZmVyKHRoaXMsIG1zZy5zZW5kZXIsIGFtb3VudCk7ICAgICAgICAgICAgICAgIC8vIGV4ZWN1dGUgYW4gZXZlbnQgcmVmbGVjdGluZyB0aGUgY2hhbmdlCiAgICB9CiAgICAKICAgIC8vIGJ1eSBpc3N1ZXIgdG9rZW5zCiAgICBmdW5jdGlvbiBidXlJc3N1ZXJUb2tlbnMoKSBwYXlhYmxlIHsKICAgICAgICB1aW50IGFtb3VudCA9IG1zZy52YWx1ZSAvIGlzc3VlUHJpY2U7CiAgICAgICAgaWYgKGJhbGFuY2VPZklzc3Vlclt0aGlzXSA8IGFtb3VudCkgdGhyb3c7CiAgICAgICAgYmFsYW5jZU9mSXNzdWVyW21zZy5zZW5kZXJdICs9IGFtb3VudDsKICAgICAgICBiYWxhbmNlT2ZJc3N1ZXJbdGhpc10gLT0gYW1vdW50OwogICAgICAgIFRyYW5zZmVyKHRoaXMsIG1zZy5zZW5kZXIsIGFtb3VudCk7CiAgICB9CiAgICAKICAgIC8qIENyZWRpdCBTdGF0dXMgRXZlbnQgKi8KICAgIGZ1bmN0aW9uIHNldENyZWRpdFN0YXR1cyhib29sIF9zdGF0dXMpIG9ubHlPd25lciB7CiAgICAgICAgY3JlZGl0U3RhdHVzID0gX3N0YXR1czsKICAgIH0KCiAgICAvKiBDb2xsZWN0aW9uICovCiAgICAKICAgIC8vIGJ1eWVyIGNvbGxlY3Rpb24gc2FsZQogICAgZnVuY3Rpb24gc2VsbEJ1eWVyVG9rZW5zKHVpbnQgYW1vdW50KSByZXR1cm5zICh1aW50IHJldmVudWUpewogICAgICAgIGlmIChjcmVkaXRTdGF0dXMgPT0gZmFsc2UpIHRocm93OyAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2tzIGlmIGJ1eWVyIGlzIGVsaWdpYmxlIGZvciBhIGNsYWltCiAgICAgICAgaWYgKGJhbGFuY2VPZkJ1eWVyW21zZy5zZW5kZXJdIDwgYW1vdW50ICkgdGhyb3c7ICAgICAgICAvLyBjaGVja3MgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoIHRvIHNlbGwKICAgICAgICBiYWxhbmNlT2ZCdXllclt0aGlzXSArPSBhbW91bnQ7ICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZHMgdGhlIGFtb3VudCB0byBvd25lcidzIGJhbGFuY2UKICAgICAgICBiYWxhbmNlT2ZCdXllclttc2cuc2VuZGVyXSAtPSBhbW91bnQ7ICAgICAgICAgICAgICAgICAgIC8vIHN1YnRyYWN0cyB0aGUgYW1vdW50IGZyb20gc2VsbGVyJ3MgYmFsYW5jZQogICAgICAgIHJldmVudWUgPSBhbW91bnQgKiBjUFQ7CiAgICAgICAgaWYgKCFtc2cuc2VuZGVyLnNlbmQocmV2ZW51ZSkpIHsgICAgICAgICAgICAgICAgICAgLy8gc2VuZHMgZXRoZXIgdG8gdGhlIHNlbGxlcjogaXQncyBpbXBvcnRhbnQKICAgICAgICAgICAgdGhyb3c7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBkbyB0aGlzIGxhc3QgdG8gcHJldmVudCByZWN1cnNpb24gYXR0YWNrcwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIHRoaXMsIGFtb3VudCk7ICAgICAgICAgICAgIC8vIGV4ZWN1dGVzIGFuIGV2ZW50IHJlZmxlY3Rpbmcgb24gdGhlIGNoYW5nZQogICAgICAgICAgICByZXR1cm4gcmV2ZW51ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbmRzIGZ1bmN0aW9uIGFuZCByZXR1cm5zCiAgICAgICAgfQogICAgfQogICAgCiAgICAKICAgIC8vIGlzc3VlciBjb2xsZWN0aW9uIHNhbGUKICAgIGZ1bmN0aW9uIHNlbGxJc3N1ZXJUb2tlbnModWludCBhbW91bnQpIHJldHVybnMgKHVpbnQgcmV2ZW51ZSl7CiAgICAgICAgaWYgKGJhbGFuY2VPZklzc3Vlclttc2cuc2VuZGVyXSA8IGFtb3VudCApIHRocm93OwogICAgICAgIGJhbGFuY2VPZklzc3Vlclt0aGlzXSArPSBhbW91bnQ7CiAgICAgICAgYmFsYW5jZU9mSXNzdWVyW21zZy5zZW5kZXJdIC09IGFtb3VudDsKICAgICAgICByZXZlbnVlID0gYW1vdW50ICogcHJlbWl1bTsKICAgICAgICBpZiAoIW1zZy5zZW5kZXIuc2VuZChyZXZlbnVlKSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCB0aGlzLCBhbW91bnQpOwogICAgICAgICAgICByZXR1cm4gcmV2ZW51ZTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8qIEFmdGVyIGNvbnRyYWN0IGVuZHMgbW92ZSBmdW5kcyAqLwogICAgZnVuY3Rpb24gbW92ZUZ1bmRzKCkgb25seU93bmVyIHsKICAgICAgICAvL2lmICghaGFzX2NvbnRyYWN0X2VuZGVkKCkpIHRocm93OwogICAgICAgIGlmICghcHJvamVjdF93YWxsZXQuc2VuZCh0aGlzLmJhbGFuY2UpKSB0aHJvdzsKICAgIH0KCiAgICAvKiBUaGlzIHVubmFtZWQgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW5ldmVyIHNvbWVvbmUgdHJpZXMgdG8gc2VuZCBldGhlciB0byBpdCAqLwogICAgZnVuY3Rpb24gKCkgewogICAgICAgIHRocm93OyAgICAgLy8gUHJldmVudHMgYWNjaWRlbnRhbCBzZW5kaW5nIG9mIGV0aGVyCiAgICB9Cn0='.
	

]
