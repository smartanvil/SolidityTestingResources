Class {
	#name : #SRTCDa98bA916AD2561ACA6D5aC7B83C76Fe49165c8,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTCDa98bA916AD2561ACA6D5aC7B83C76Fe49165c8 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgpwcmFnbWEgc29saWRpdHkgXjAuNC4xNTsKCmNvbnRyYWN0IFRva2VuIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwp9CgoKLyogIEVSQyAyMCB0b2tlbiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIFRva2VuIHsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCkgewogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCgp9CgpwcmFnbWEgc29saWRpdHkgXjAuNC4xNTsKCgpwcmFnbWEgc29saWRpdHkgXjAuNC4xNTsKCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgaWYgKG1zZy5zZW5kZXIgPT0gb3duZXIpCiAgICAgIF87CiAgfQoKICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKCgovKgogKiBQYXVzYWJsZQogKiBBYnN0cmFjdCBjb250cmFjdCB0aGF0IGFsbG93cyBjaGlsZHJlbiB0byBpbXBsZW1lbnQgYW4KICogZW1lcmdlbmN5IHN0b3AgbWVjaGFuaXNtLgogKi8KCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgewogIGJvb2wgcHVibGljIHN0b3BwZWQ7CgogIG1vZGlmaWVyIHN0b3BJbkVtZXJnZW5jeSB7CiAgICBpZiAoc3RvcHBlZCkgewogICAgICB0aHJvdzsKICAgIH0KICAgIF87CiAgfQoKICBtb2RpZmllciBvbmx5SW5FbWVyZ2VuY3kgewogICAgaWYgKCFzdG9wcGVkKSB7CiAgICAgIHRocm93OwogICAgfQogICAgXzsKICB9CgogIC8vIGNhbGxlZCBieSB0aGUgb3duZXIgb24gZW1lcmdlbmN5LCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlCiAgZnVuY3Rpb24gZW1lcmdlbmN5U3RvcCgpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICBzdG9wcGVkID0gdHJ1ZTsKICB9CgogIC8vIGNhbGxlZCBieSB0aGUgb3duZXIgb24gZW5kIG9mIGVtZXJnZW5jeSwgcmV0dXJucyB0byBub3JtYWwgc3RhdGUKICBmdW5jdGlvbiByZWxlYXNlKCkgZXh0ZXJuYWwgb25seU93bmVyIG9ubHlJbkVtZXJnZW5jeSB7CiAgICBzdG9wcGVkID0gZmFsc2U7CiAgfQoKfQoKcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7Cgpjb250cmFjdCBVdGlsc3sKCiAgLy92ZXJpZmllcyB0aGUgYW1vdW50IGdyZWF0ZXIgdGhhbiB6ZXJvCgogIG1vZGlmaWVyIGdyZWF0ZXJUaGFuWmVybyh1aW50MjU2IF92YWx1ZSl7CiAgICByZXF1aXJlKF92YWx1ZT4wKTsKICAgIF87CiAgfQoKICAvLy92ZXJpZmllcyBhbiBhZGRyZXNzCgogIG1vZGlmaWVyIHZhbGlkQWRkcmVzcyhhZGRyZXNzIF9hZGQpewogICAgcmVxdWlyZShfYWRkIT0weDApOwogICAgXzsKICB9Cn0KCgpwcmFnbWEgc29saWRpdHkgXjAuNC4xNTsKCgovKioKICogTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcwogKi8KY29udHJhY3QgU2FmZU1hdGggewogIGZ1bmN0aW9uIHNhZmVNdWwodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc2FmZURpdih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPiAwKTsKICAgIHVpbnQgYyA9IGEgLyBiOwogICAgYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHNhZmVTdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gc2FmZUFkZCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSArIGI7CiAgICBhc3NlcnQoYz49YSAmJiBjPj1iKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gbWF4NjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1heDI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9Cgp9CgoKCgpjb250cmFjdCBDcm93ZHNhbGUgaXMgU3RhbmRhcmRUb2tlbiwgUGF1c2FibGUsIFNhZmVNYXRoLCBVdGlsc3sKCXN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJCbG9ja0FpbSBUb2tlbiI7CglzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJCQSI7Cgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwoJc3RyaW5nIHB1YmxpYyB2ZXJzaW9uID0gIjEuMCI7Cglib29sIHB1YmxpYyB0cmFkaW5nU3RhcnRlZCA9IGZhbHNlOwoKICAgIC8qKgogICAqIEBkZXYgbW9kaWZpZXIgdGhhdCB0aHJvd3MgaWYgdHJhZGluZyBoYXMgbm90IHN0YXJ0ZWQgeWV0CiAgICovCiAgIG1vZGlmaWVyIGhhc1N0YXJ0ZWRUcmFkaW5nKCkgewogICAJcmVxdWlyZSh0cmFkaW5nU3RhcnRlZCk7CiAgIAlfOwogICB9CiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIG93bmVyIHRvIGVuYWJsZSB0aGUgdHJhZGluZy4gVGhpcyBjYW4gbm90IGJlIHVuZG9uZQogICAqLwogICBmdW5jdGlvbiBzdGFydFRyYWRpbmcoKSBvbmx5T3duZXIoKSB7CiAgIAl0cmFkaW5nU3RhcnRlZCA9IHRydWU7CiAgIH0KCiAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaGFzU3RhcnRlZFRyYWRpbmcgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7c3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpO30KCiAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGhhc1N0YXJ0ZWRUcmFkaW5nIHJldHVybnMgKGJvb2wgc3VjY2Vzcykge3N1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpO30KCiAgIGVudW0gU3RhdGV7CiAgIAlJbmFjdGl2ZSwKICAgCUZ1bmRpbmcsCiAgIAlTdWNjZXNzLAogICAJRmFpbHVyZQogICB9CgogICB1aW50MjU2IHB1YmxpYyBpbnZlc3RtZW50RVRIOwogICBtYXBwaW5nKHVpbnQyNTYgPT4gYm9vbCkgdHJhbnNhY3Rpb25zQ2xhaW1lZDsKICAgdWludDI1NiBwdWJsaWMgaW5pdGlhbFN1cHBseTsKICAgYWRkcmVzcyB3YWxsZXQ7CiAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IF90b3RhbFN1cHBseSA9IDEwMCAqICgxMCoqNikgKiAxMCAqKiBkZWNpbWFsczsgLy8gMTAwTSB+IDEwIENyb3JlcwogICB1aW50MjU2IHB1YmxpYyBmdW5kaW5nU3RhcnRCbG9jazsgLy8gY3Jvd2RzYWxlIHN0YXJ0IGJsb2NrCiAgIHVpbnQyNTYgcHVibGljIHRva2Vuc1BlckV0aGVyID0gMzAwOyAvLyAxIEVUSCA9IDMwMCB0b2tlbnMKICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgdG9rZW5DcmVhdGlvbk1heCA9IDEwICogKDEwKio2KSAqIDEwICoqIGRlY2ltYWxzOyAvLyAxME0gfiAxIENyb3JlcwogICBhZGRyZXNzW10gcHVibGljIGludmVzdG9yczsKCiAgIC8vZGlzcGxheXMgbnVtYmVyIG9mIHVuaXEgaW52ZXN0b3JzCiAgIGZ1bmN0aW9uIGludmVzdG9yc0NvdW50KCkgY29uc3RhbnQgZXh0ZXJuYWwgcmV0dXJucyh1aW50KSB7IHJldHVybiBpbnZlc3RvcnMubGVuZ3RoOyB9CgogICBmdW5jdGlvbiBDcm93ZHNhbGUodWludDI1NiBfZnVuZGluZ1N0YXJ0QmxvY2ssIGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF93YWxsZXQpewogICAgICBvd25lciA9IF9vd25lcjsKICAgICAgZnVuZGluZ1N0YXJ0QmxvY2sgPV9mdW5kaW5nU3RhcnRCbG9jazsKICAgICAgdG90YWxTdXBwbHkgPSBfdG90YWxTdXBwbHk7CiAgICAgIGluaXRpYWxTdXBwbHkgPSAwOwogICAgICB3YWxsZXQgPSBfd2FsbGV0OwoKICAgICAgLy9jaGVjayBjb25maWd1cmF0aW9uIGlmIHNvbWV0aGluZyBpbiBzZXR1cCBpcyBsb29raW5nIHdlaXJkCiAgICAgIGlmICgKICAgICAgICB0b2tlbnNQZXJFdGhlciA9PSAwCiAgICAgICAgfHwgb3duZXIgPT0gMHgwCiAgICAgICAgfHwgd2FsbGV0ID09IDB4MAogICAgICAgIHx8IGZ1bmRpbmdTdGFydEJsb2NrID09IDAKICAgICAgICB8fCB0b3RhbFN1cHBseSA9PSAwCiAgICAgICAgfHwgdG9rZW5DcmVhdGlvbk1heCA9PSAwCiAgICAgICAgfHwgZnVuZGluZ1N0YXJ0QmxvY2sgPD0gYmxvY2subnVtYmVyKQogICAgICB0aHJvdzsKCiAgIH0KCiAgIC8vIGRvbid0IGp1c3Qgc2VuZCBldGhlciB0byB0aGUgY29udHJhY3QgZXhwZWN0aW5nIHRvIGdldCB0b2tlbnMKICAgLy9mdW5jdGlvbigpIHsgdGhyb3c7IH0KICAgLy8vL0BkZXYgVGhpcyBmdW5jdGlvbiBtYW5hZ2VzIHRoZSBDcm93ZHNhbGUgU3RhdGUgbWFjaGluZQogICAvLy9XZSBtYWtlIGl0IGEgZnVuY3Rpb24gYW5kIGRvIG5vdCBhc3NpZ24gdG8gYSB2YXJpYWJsZS8vCiAgIC8vL3NvIHRoYXQgbm8gY2hhbmNlIG9mIHN0YWxlIHZhcmlhYmxlCiAgIGZ1bmN0aW9uIGdldFN0YXRlKCkgY29uc3RhbnQgcHVibGljIHJldHVybnMoU3RhdGUpewogICAJLy8vb25jZSB3ZSByZWFjaCBzdWNjZXNzIGxvY2sgdGhlIFN0YXRlCiAgIAlpZihibG9jay5udW1iZXI8ZnVuZGluZ1N0YXJ0QmxvY2spIHJldHVybiBTdGF0ZS5JbmFjdGl2ZTsKICAgCWVsc2UgaWYoYmxvY2subnVtYmVyPmZ1bmRpbmdTdGFydEJsb2NrICYmIGluaXRpYWxTdXBwbHk8dG9rZW5DcmVhdGlvbk1heCkgcmV0dXJuIFN0YXRlLkZ1bmRpbmc7CiAgIAllbHNlIGlmIChpbml0aWFsU3VwcGx5ID49IHRva2VuQ3JlYXRpb25NYXgpIHJldHVybiBTdGF0ZS5TdWNjZXNzOwogICAJZWxzZSByZXR1cm4gU3RhdGUuRmFpbHVyZTsKICAgfQoKICAgLy8vZ2V0IHRvdGFsIHRva2VucyBpbiB0aGF0IGFkZHJlc3MgbWFwcGluZwogICBmdW5jdGlvbiBnZXRUb2tlbnMoYWRkcmVzcyBhZGRyKSBwdWJsaWMgcmV0dXJucyh1aW50MjU2KXsKICAgCXJldHVybiBiYWxhbmNlc1thZGRyXTsKICAgfQoKIAogICBmdW5jdGlvbigpIGV4dGVybmFsIHBheWFibGUgc3RvcEluRW1lcmdlbmN5ewogICAJLy8gQWJvcnQgaWYgbm90IGluIEZ1bmRpbmcgQWN0aXZlIHN0YXRlLgogICAJaWYoZ2V0U3RhdGUoKSA9PSBTdGF0ZS5TdWNjZXNzKSB0aHJvdzsKICAgCWlmIChtc2cudmFsdWUgPT0gMCkgdGhyb3c7CiAgIAl1aW50MjU2IG5ld0NyZWF0ZWRUb2tlbnMgPSBzYWZlTXVsKG1zZy52YWx1ZSx0b2tlbnNQZXJFdGhlcik7CiAgIAkvLy9zaW5jZSB3ZSBhcmUgY3JlYXRpbmcgdG9rZW5zIHdlIG5lZWQgdG8gaW5jcmVhc2UgdGhlIHRvdGFsIHN1cHBseQogICAJaW5pdGlhbFN1cHBseSA9IHNhZmVBZGQoaW5pdGlhbFN1cHBseSxuZXdDcmVhdGVkVG9rZW5zKTsKICAgCWlmKGluaXRpYWxTdXBwbHk+dG9rZW5DcmVhdGlvbk1heCkgdGhyb3c7CiAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA9PSAwKSBpbnZlc3RvcnMucHVzaChtc2cuc2VuZGVyKTsKICAgICAgaW52ZXN0bWVudEVUSCArPSBtc2cudmFsdWU7CiAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2FmZUFkZChiYWxhbmNlc1ttc2cuc2VuZGVyXSxuZXdDcmVhdGVkVG9rZW5zKTsKICAgICAgVHJhbnNmZXIodGhpcywgbXNnLnNlbmRlciwgbmV3Q3JlYXRlZFRva2Vucyk7CiAgICAgIC8vIFBvY2tldCB0aGUgbW9uZXkKICAgICAgaWYoIXdhbGxldC5zZW5kKG1zZy52YWx1ZSkpIHRocm93OwogICB9CgoKICAgLy8vdG8gYmUgZG9uZSBvbmx5IHRoZSBvd25lciBjYW4gcnVuIHRoaXMgZnVuY3Rpb24KICAgZnVuY3Rpb24gdG9rZW5NaW50KGFkZHJlc3MgYWRkcix1aW50MjU2IHRva2VucykKICAgZXh0ZXJuYWwKICAgc3RvcEluRW1lcmdlbmN5CiAgIG9ubHlPd25lcigpCiAgIHsKICAgCWlmKGdldFN0YXRlKCkgPT0gU3RhdGUuU3VjY2VzcykgdGhyb3c7CiAgICBpZihhZGRyID09IDB4MCkgdGhyb3c7CiAgIAlpZiAodG9rZW5zID09IDApIHRocm93OwogICAJdWludDI1NiBuZXdDcmVhdGVkVG9rZW5zID0gdG9rZW5zICogMSBldGhlcjsKICAgCWluaXRpYWxTdXBwbHkgPSBzYWZlQWRkKGluaXRpYWxTdXBwbHksbmV3Q3JlYXRlZFRva2Vucyk7CiAgIAlpZihpbml0aWFsU3VwcGx5PnRva2VuQ3JlYXRpb25NYXgpIHRocm93OwogICAgICBpZiAoYmFsYW5jZXNbYWRkcl0gPT0gMCkgaW52ZXN0b3JzLnB1c2goYWRkcik7CiAgICAgIGJhbGFuY2VzW2FkZHJdID0gc2FmZUFkZChiYWxhbmNlc1thZGRyXSxuZXdDcmVhdGVkVG9rZW5zKTsKICAgICAgVHJhbnNmZXIodGhpcywgYWRkciwgbmV3Q3JlYXRlZFRva2Vucyk7CiAgIH0KCiAgIAogICAvLy9jaGFuZ2UgZXhjaGFuZ2UgcmF0ZSB+IHVwZGF0ZSBwcmljZSBldmVyeWRheQogICBmdW5jdGlvbiBjaGFuZ2VFeGNoYW5nZVJhdGUodWludDI1NiBldGgpCiAgIGV4dGVybmFsCiAgIG9ubHlPd25lcigpCiAgIHsKICAgICBpZihldGggPT0gMCkgdGhyb3c7CiAgICAgdG9rZW5zUGVyRXRoZXIgPSBldGg7CiAgfQoKICAvLy9ibGFja2xpc3QgdGhlIHVzZXJzIHdoaWNoIGFyZSBmcmF1ZHVsZW50CiAgLy8vZnJvbSBnZXR0aW5nIGFueSB0b2tlbnMKICAvLy90byBkbyBhbHNvIHJlZnVuZCBqdXN0IGluIGNhc2VzCiAgZnVuY3Rpb24gYmxhY2tsaXN0KGFkZHJlc3MgYWRkcikKICBleHRlcm5hbAogIG9ubHlPd25lcigpCiAgewogICAgIGJhbGFuY2VzW2FkZHJdID0gMDsKICB9Cgp9'.
	

]
