Class {
	#name : #SRTc5de7ac5ea11651f25c0738efa176010553bc323,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc5de7ac5ea11651f25c0738efa176010553bc323 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgovLyBTYWZlTWF0aApjb250cmFjdCBTYWZlTWF0aCB7CiAgICAgZnVuY3Rpb24gc2FmZU11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgICAgdWludCBjID0gYSAqIGI7CiAgICAgICAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgICAgICAgcmV0dXJuIGM7CiAgICAgfQoKICAgICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICAgIHJldHVybiBhIC0gYjsKICAgICB9CgogICAgIGZ1bmN0aW9uIHNhZmVBZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICAgIHVpbnQgYyA9IGEgKyBiOwogICAgICAgICAgYXNzZXJ0KGM+PWEgJiYgYz49Yik7CiAgICAgICAgICByZXR1cm4gYzsKICAgICB9Cn0KCi8vIFN0YW5kYXJkIHRva2VuIGludGVyZmFjZSAoRVJDIDIwKQovLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKLy8gVG9rZW4KY29udHJhY3QgVG9rZW4gaXMgU2FmZU1hdGggewogICAgIC8vIEZ1bmN0aW9uczoKICAgICAvLy8gQHJldHVybiB0b3RhbCBhbW91bnQgb2YgdG9rZW5zCiAgICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSk7CgogICAgIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIGZyb20gd2hpY2ggdGhlIGJhbGFuY2Ugd2lsbCBiZSByZXRyaWV2ZWQKICAgICAvLy8gQHJldHVybiBUaGUgYmFsYW5jZQogICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKCiAgICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYAogICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zKGJvb2wpOwogICAgIAogICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgIC8vLyBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyhib29sKTsKCiAgICAgLy8vIEBub3RpY2UgYG1zZy5zZW5kZXJgIGFwcHJvdmVzIGBfYWRkcmAgdG8gc3BlbmQgYF92YWx1ZWAgdG9rZW5zCiAgICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHdlaSB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXIKICAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSBhcHByb3ZhbCB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zCiAgICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgICAvLy8gQHJldHVybiBBbW91bnQgb2YgcmVtYWluaW5nIHRva2VucyBhbGxvd2VkIHRvIHNwZW50CiAgICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CgogICAgIC8vIEV2ZW50czoKICAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKfQovL1N0ZFRva2VuCmNvbnRyYWN0IFN0ZFRva2VuIGlzIFRva2VuIHsKICAgICAvLyBGaWVsZHM6CiAgICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKICAgICB1aW50IHB1YmxpYyBzdXBwbHkgPSAwOwoKICAgICAvLyBGdW5jdGlvbnM6CiAgICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zKGJvb2wpIHsKICAgICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKTsKICAgICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pOwoKICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2FmZVN1YihiYWxhbmNlc1ttc2cuc2VuZGVyXSxfdmFsdWUpOwogICAgICAgICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZXNbX3RvXSxfdmFsdWUpOwoKICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgIH0KCiAgICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyhib29sKXsKICAgICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSk7CiAgICAgICAgICByZXF1aXJlKGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSk7CiAgICAgICAgICByZXF1aXJlKGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKTsKCiAgICAgICAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLF92YWx1ZSk7CiAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBzYWZlU3ViKGJhbGFuY2VzW19mcm9tXSxfdmFsdWUpOwogICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBzYWZlU3ViKGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLF92YWx1ZSk7CgogICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgIH0KCiAgICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgICByZXR1cm4gc3VwcGx5OwogICAgIH0KCiAgICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgICB9CgogICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAgICAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgICAgICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAgICAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgICAgICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CgogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgfQoKICAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgIH0KfQoKY29udHJhY3QgTkVPQ0FTSFRva2VuIGlzIFN0ZFRva2VuCnsKLy8vIEZpZWxkczoKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJORU8gQ0FTSCI7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJORU9DIjsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgVE9UQUxfU1VQUExZID0gMTAwMDAwMDAwICogKDEgZXRoZXIgLyAxIHdlaSk7CiAgICAvLyB0aGlzIGluY2x1ZGVzIERFVkVMT1BFUlNfQk9OVVMKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IERFVkVMT1BFUlNfQk9OVVMgPSA2NTAwMDAwMCAqICgxIGV0aGVyIC8gMSB3ZWkpOwoJCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBQUkVTQUxFX1BSSUNFID0gNTA7ICAvLyBwZXIgMSBFdGhlcgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgUFJFU0FMRV9NQVhfRVRIID0gMTAwMDAwOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgUFJFU0FMRV9UT0tFTl9TVVBQTFlfTElNSVQgPSBQUkVTQUxFX1BSSUNFICogUFJFU0FMRV9NQVhfRVRIICogKDEgZXRoZXIgLyAxIHdlaSk7CgoKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IElDT19QUklDRTEgPSA0MDsgICAgIC8vIHBlciAxIEV0aGVyCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBJQ09fUFJJQ0UyID0gMzA7ICAgICAvLyBwZXIgMSBFdGhlcgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgSUNPX1BSSUNFMyA9IDEwOyAgICAgLy8gcGVyIDEgRXRoZXIKCiAgICAvLyA2ODBNMmsyIC0gdGhpcyBpbmNsdWRlcyBwcmVzYWxlIHRva2VucwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgVE9UQUxfU09MRF9UT0tFTl9TVVBQTFlfTElNSVQgPSAzNTAwMDAwMCogKDEgZXRoZXIgLyAxIHdlaSk7CgogICAgZW51bSBTdGF0ZXsKICAgICAgIEluaXQsCiAgICAgICBQYXVzZWQsCgogICAgICAgUHJlc2FsZVJ1bm5pbmcsCiAgICAgICBQcmVzYWxlRmluaXNoZWQsCgogICAgICAgSUNPUnVubmluZywKICAgICAgIElDT0ZpbmlzaGVkCiAgICB9CgogICAgU3RhdGUgcHVibGljIGN1cnJlbnRTdGF0ZSA9IFN0YXRlLkluaXQ7CiAgICBib29sIHB1YmxpYyBlbmFibGVUcmFuc2ZlcnMgPSB0cnVlOwoKICAgIGFkZHJlc3MgcHVibGljIHRlYW1Ub2tlbkJvbnVzID0gMDsKCiAgICAvLyBHYXRoZXJlZCBmdW5kcyBjYW4gYmUgd2l0aGRyYXduIG9ubHkgdG8gZXNjcm93J3MgYWRkcmVzcy4KICAgIGFkZHJlc3MgcHVibGljIGVzY3JvdyA9IDA7CgogICAgLy8gVG9rZW4gbWFuYWdlciBoYXMgZXhjbHVzaXZlIHByaXZlbGVnZXMgdG8gY2FsbCBhZG1pbmlzdHJhdGl2ZQogICAgLy8gZnVuY3Rpb25zIG9uIHRoaXMgY29udHJhY3QuCiAgICBhZGRyZXNzIHB1YmxpYyB0b2tlbk1hbmFnZXIgPSAwOwoKICAgIHVpbnQgcHVibGljIHByZXNhbGVTb2xkVG9rZW5zID0gMDsKICAgIHVpbnQgcHVibGljIGljb1NvbGRUb2tlbnMgPSAwOwogICAgdWludCBwdWJsaWMgdG90YWxTb2xkVG9rZW5zID0gMDsKCi8vLyBNb2RpZmllcnM6CiAgICBtb2RpZmllciBvbmx5VG9rZW5NYW5hZ2VyKCkKICAgIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXI9PXRva2VuTWFuYWdlcik7IAogICAgICAgIF87IAogICAgfQogICAgCiAgICBtb2RpZmllciBvbmx5VG9rZW5Dcm93bmVyKCkKICAgIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXI9PWVzY3Jvdyk7IAogICAgICAgIF87IAogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlJblN0YXRlKFN0YXRlIHN0YXRlKQogICAgewogICAgICAgIHJlcXVpcmUoc3RhdGU9PWN1cnJlbnRTdGF0ZSk7IAogICAgICAgIF87IAogICAgfQoKLy8vIEV2ZW50czoKICAgIGV2ZW50IExvZ0J1eShhZGRyZXNzIGluZGV4ZWQgb3duZXIsIHVpbnQgdmFsdWUpOwogICAgZXZlbnQgTG9nQnVybihhZGRyZXNzIGluZGV4ZWQgb3duZXIsIHVpbnQgdmFsdWUpOwoKLy8vIEZ1bmN0aW9uczoKICAgIC8vLyBAZGV2IENvbnN0cnVjdG9yCiAgICAvLy8gQHBhcmFtIF90b2tlbk1hbmFnZXIgVG9rZW4gbWFuYWdlciBhZGRyZXNzLgogICAgZnVuY3Rpb24gTkVPQ0FTSFRva2VuKGFkZHJlc3MgX3Rva2VuTWFuYWdlciwgYWRkcmVzcyBfZXNjcm93LCBhZGRyZXNzIF90ZWFtVG9rZW5Cb251cykgCiAgICB7CiAgICAgICAgdG9rZW5NYW5hZ2VyID0gX3Rva2VuTWFuYWdlcjsKICAgICAgICB0ZWFtVG9rZW5Cb251cyA9IF90ZWFtVG9rZW5Cb251czsKICAgICAgICBlc2Nyb3cgPSBfZXNjcm93OwoKICAgICAgICAvLyBzZW5kIHRlYW0gYm9udXMgaW1tZWRpYXRlbHkKICAgICAgICB1aW50IHRlYW1Cb251cyA9IERFVkVMT1BFUlNfQk9OVVM7CiAgICAgICAgYmFsYW5jZXNbX3RlYW1Ub2tlbkJvbnVzXSArPSB0ZWFtQm9udXM7CiAgICAgICAgc3VwcGx5Kz0gdGVhbUJvbnVzOwogICAgICAgIAogICAgICAgIGFzc2VydChQUkVTQUxFX1RPS0VOX1NVUFBMWV9MSU1JVD09NTAwMDAwMCAqICgxIGV0aGVyIC8gMSB3ZWkpKTsKICAgICAgICBhc3NlcnQoVE9UQUxfU09MRF9UT0tFTl9TVVBQTFlfTElNSVQ9PTM1MDAwMDAwICogKDEgZXRoZXIgLyAxIHdlaSkpOwogICAgfQoKICAgIGZ1bmN0aW9uIGJ1eVRva2VucygpIHB1YmxpYyBwYXlhYmxlCiAgICB7CiAgICAgICAgcmVxdWlyZShjdXJyZW50U3RhdGU9PVN0YXRlLlByZXNhbGVSdW5uaW5nIHx8IGN1cnJlbnRTdGF0ZT09U3RhdGUuSUNPUnVubmluZyk7CgogICAgICAgIGlmKGN1cnJlbnRTdGF0ZT09U3RhdGUuUHJlc2FsZVJ1bm5pbmcpewogICAgICAgICAgICByZXR1cm4gYnV5VG9rZW5zUHJlc2FsZSgpOwogICAgICAgIH1lbHNlewogICAgICAgICAgICByZXR1cm4gYnV5VG9rZW5zSUNPKCk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGJ1eVRva2Vuc1ByZXNhbGUoKSBwdWJsaWMgcGF5YWJsZSBvbmx5SW5TdGF0ZShTdGF0ZS5QcmVzYWxlUnVubmluZykKICAgIHsKICAgICAgICAvLyBtaW4gLSAxIEVUSAogICAgICAgIC8vcmVxdWlyZShtc2cudmFsdWUgPj0gKDEgZXRoZXIgLyAxIHdlaSkpOwogICAgICAgIC8vIG1pbiAtIDAuMDEgRVRICiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPj0gKCgxIGV0aGVyIC8gMSB3ZWkpIC8gMTAwKSk7CiAgICAgICAgdWludCBuZXdUb2tlbnMgPSBtc2cudmFsdWUgKiBQUkVTQUxFX1BSSUNFOwoKICAgICAgICByZXF1aXJlKHByZXNhbGVTb2xkVG9rZW5zICsgbmV3VG9rZW5zIDw9IFBSRVNBTEVfVE9LRU5fU1VQUExZX0xJTUlUKTsKCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gbmV3VG9rZW5zOwogICAgICAgIHN1cHBseSs9IG5ld1Rva2VuczsKICAgICAgICBwcmVzYWxlU29sZFRva2Vucys9IG5ld1Rva2VuczsKICAgICAgICB0b3RhbFNvbGRUb2tlbnMrPSBuZXdUb2tlbnM7CgogICAgICAgIExvZ0J1eShtc2cuc2VuZGVyLCBuZXdUb2tlbnMpOwogICAgfQoKICAgIGZ1bmN0aW9uIGJ1eVRva2Vuc0lDTygpIHB1YmxpYyBwYXlhYmxlIG9ubHlJblN0YXRlKFN0YXRlLklDT1J1bm5pbmcpCiAgICB7CiAgICAgICAgLy8gbWluIC0gMC4wMSBFVEgKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSAoKDEgZXRoZXIgLyAxIHdlaSkgLyAxMDApKTsKICAgICAgICB1aW50IG5ld1Rva2VucyA9IG1zZy52YWx1ZSAqIGdldFByaWNlKCk7CgogICAgICAgIHJlcXVpcmUodG90YWxTb2xkVG9rZW5zICsgbmV3VG9rZW5zIDw9IFRPVEFMX1NPTERfVE9LRU5fU1VQUExZX0xJTUlUKTsKCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gbmV3VG9rZW5zOwogICAgICAgIHN1cHBseSs9IG5ld1Rva2VuczsKICAgICAgICBpY29Tb2xkVG9rZW5zKz0gbmV3VG9rZW5zOwogICAgICAgIHRvdGFsU29sZFRva2Vucys9IG5ld1Rva2VuczsKCiAgICAgICAgTG9nQnV5KG1zZy5zZW5kZXIsIG5ld1Rva2Vucyk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UHJpY2UoKWNvbnN0YW50IHJldHVybnModWludCkKICAgIHsKICAgICAgICBpZihjdXJyZW50U3RhdGU9PVN0YXRlLklDT1J1bm5pbmcpewogICAgICAgICAgICAgaWYoaWNvU29sZFRva2VuczwoMTAwMDAwMDAgKiAoMSBldGhlciAvIDEgd2VpKSkpewogICAgICAgICAgICAgICAgICByZXR1cm4gSUNPX1BSSUNFMTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgIAogICAgICAgICAgICAgaWYoaWNvU29sZFRva2VuczwoMTUwMDAwMDAgKiAoMSBldGhlciAvIDEgd2VpKSkpewogICAgICAgICAgICAgICAgICByZXR1cm4gSUNPX1BSSUNFMjsKICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICByZXR1cm4gSUNPX1BSSUNFMzsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgIHJldHVybiBQUkVTQUxFX1BSSUNFOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBzZXRTdGF0ZShTdGF0ZSBfbmV4dFN0YXRlKSBwdWJsaWMgb25seVRva2VuTWFuYWdlcgogICAgewogICAgICAgIC8vc2V0U3RhdGUoKSBtZXRob2QgY2FsbCBzaG91bGRuJ3QgYmUgZW50ZXJ0YWluZWQgYWZ0ZXIgSUNPRmluaXNoZWQKICAgICAgICByZXF1aXJlKGN1cnJlbnRTdGF0ZSAhPSBTdGF0ZS5JQ09GaW5pc2hlZCk7CiAgICAgICAgCiAgICAgICAgY3VycmVudFN0YXRlID0gX25leHRTdGF0ZTsKICAgICAgICAvLyBlbmFibGUvZGlzYWJsZSB0cmFuc2ZlcnMKICAgICAgICAvL2VuYWJsZSB0cmFuc2ZlcnMgb25seSBhZnRlciBJQ09GaW5pc2hlZCwgZGlzYWJsZSBvdGhlcndpc2UKICAgICAgICAvL2VuYWJsZVRyYW5zZmVycyA9IChjdXJyZW50U3RhdGU9PVN0YXRlLklDT0ZpbmlzaGVkKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gRGlzYWJsZVRyYW5zZmVyKCkgcHVibGljIG9ubHlUb2tlbk1hbmFnZXIKICAgIHsKICAgICAgICBlbmFibGVUcmFuc2ZlcnMgPSBmYWxzZTsKICAgIH0KICAgIAogICAgCiAgICBmdW5jdGlvbiBFbmFibGVUcmFuc2ZlcigpIHB1YmxpYyBvbmx5VG9rZW5NYW5hZ2VyCiAgICB7CiAgICAgICAgZW5hYmxlVHJhbnNmZXJzID0gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB3aXRoZHJhd0V0aGVyKCkgcHVibGljIG9ubHlUb2tlbk1hbmFnZXIKICAgIHsKICAgICAgICBpZih0aGlzLmJhbGFuY2UgPiAwKSAKICAgICAgICB7CiAgICAgICAgICAgIHJlcXVpcmUoZXNjcm93LnNlbmQodGhpcy5iYWxhbmNlKSk7CiAgICAgICAgfQogICAgfQoKLy8vIE92ZXJyaWRlczoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyhib29sKXsKICAgICAgICByZXF1aXJlKGVuYWJsZVRyYW5zZmVycyk7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90byxfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMoYm9vbCl7CiAgICAgICAgcmVxdWlyZShlbmFibGVUcmFuc2ZlcnMpOwogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sX3RvLF92YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoZW5hYmxlVHJhbnNmZXJzKTsKICAgICAgICByZXR1cm4gc3VwZXIuYXBwcm92ZShfc3BlbmRlcixfdmFsdWUpOwogICAgfQoKLy8vIFNldHRlcnMvZ2V0dGVycwogICAgZnVuY3Rpb24gQ2hhbmdlVG9rZW5NYW5hZ2VyKGFkZHJlc3MgX21ncikgcHVibGljIG9ubHlUb2tlbk1hbmFnZXIKICAgIHsKICAgICAgICB0b2tlbk1hbmFnZXIgPSBfbWdyOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBDaGFuZ2VDcm93bmVyKGFkZHJlc3MgX21ncikgcHVibGljIG9ubHlUb2tlbkNyb3duZXIKICAgIHsKICAgICAgICBlc2Nyb3cgPSBfbWdyOwogICAgfQoKICAgIC8vIERlZmF1bHQgZmFsbGJhY2sgZnVuY3Rpb24KICAgIGZ1bmN0aW9uKCkgcGF5YWJsZSAKICAgIHsKICAgICAgICBidXlUb2tlbnMoKTsKICAgIH0KfQ=='.
	

]
