Class {
	#name : #SRT9e17852142b297b7d7919698fa8b7e382c43bebd,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9e17852142b297b7d7919698fa8b7e382c43bebd >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7Cgpjb250cmFjdCBDb250cm9sbGVyIHsKCgogIC8vIGxpc3Qgb2YgYWRtaW5zLCBjb3VuY2lsIGF0IGZpcnN0IHNwb3QKICBhZGRyZXNzW10gcHVibGljIGFkbWluczsKCiAgZnVuY3Rpb24gR292ZXJuYWJsZSgpIHsKICAgIGFkbWlucy5sZW5ndGggPSAxOwogICAgYWRtaW5zWzBdID0gbXNnLnNlbmRlcjsKICB9CgogIG1vZGlmaWVyIG9ubHlBZG1pbnMoKSB7CiAgICBib29sIGlzQWRtaW4gPSBmYWxzZTsKICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IGFkbWlucy5sZW5ndGg7IGkrKykgewogICAgICBpZiAobXNnLnNlbmRlciA9PSBhZG1pbnNbaV0pIHsKICAgICAgICBpc0FkbWluID0gdHJ1ZTsKICAgICAgfQogICAgfQogICAgcmVxdWlyZShpc0FkbWluID09IHRydWUpOwogICAgXzsKICB9CgogIGZ1bmN0aW9uIGFkZEFkbWluKGFkZHJlc3MgX2FkbWluKSBwdWJsaWMgb25seUFkbWlucyB7CiAgICBmb3IgKHVpbnQyNTYgaSA9IDA7IGkgPCBhZG1pbnMubGVuZ3RoOyBpKyspIHsKICAgICAgcmVxdWlyZShfYWRtaW4gIT0gYWRtaW5zW2ldKTsKICAgIH0KICAgIHJlcXVpcmUoYWRtaW5zLmxlbmd0aCA8IDEwKTsKICAgIGFkbWluc1thZG1pbnMubGVuZ3RoKytdID0gX2FkbWluOwogIH0KCiAgZnVuY3Rpb24gcmVtb3ZlQWRtaW4oYWRkcmVzcyBfYWRtaW4pIHB1YmxpYyBvbmx5QWRtaW5zIHsKICAgIHVpbnQyNTYgcG9zID0gYWRtaW5zLmxlbmd0aDsKICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IGFkbWlucy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoX2FkbWluID09IGFkbWluc1tpXSkgewogICAgICAgIHBvcyA9IGk7CiAgICAgIH0KICAgIH0KICAgIHJlcXVpcmUocG9zIDwgYWRtaW5zLmxlbmd0aCk7CiAgICAvLyBpZiBub3QgbGFzdCBlbGVtZW50LCBzd2l0Y2ggd2l0aCBsYXN0CiAgICBpZiAocG9zIDwgYWRtaW5zLmxlbmd0aCAtIDEpIHsKICAgICAgYWRtaW5zW3Bvc10gPSBhZG1pbnNbYWRtaW5zLmxlbmd0aCAtIDFdOwogICAgfQogICAgLy8gdGhlbiBjdXQgb2ZmIHRoZSB0YWlsCiAgICBhZG1pbnMubGVuZ3RoLS07CiAgfQoKICAvLyBTdGF0ZSBWYXJpYWJsZXMKICBib29sIHB1YmxpYyBwYXVzZWQ7CiAgZnVuY3Rpb24gbnV0ekFkZHIoKSBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzKTsKICBmdW5jdGlvbiBwb3dlckFkZHIoKSBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzKTsKICAKICBmdW5jdGlvbiBtb3ZlQ2VpbGluZyh1aW50MjU2IF9uZXdQdXJjaGFzZVByaWNlKTsKICBmdW5jdGlvbiBtb3ZlRmxvb3IodWludDI1NiBfbmV3UHVyY2hhc2VQcmljZSk7CgogIC8vIE51dHogZnVuY3Rpb25zCiAgZnVuY3Rpb24gYmFiekJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gYWN0aXZlU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gYnVyblBvb2woKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiBwb3dlclBvb2woKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudEJhYnopIHB1YmxpYzsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50QmFieiwgYnl0ZXMgX2RhdGEpIHB1YmxpYzsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfc2VuZGVyLCBhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50QmFieiwgYnl0ZXMgX2RhdGEpIHB1YmxpYzsKCiAgLy8gTWFya2V0IGZ1bmN0aW9ucwogIGZ1bmN0aW9uIGZsb29yKCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gY2VpbGluZygpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwoKICBmdW5jdGlvbiBwdXJjaGFzZShhZGRyZXNzIF9zZW5kZXIsIHVpbnQyNTYgX3ZhbHVlLCB1aW50MjU2IF9wcmljZSkgcHVibGljIHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHNlbGwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfcHJpY2UsIHVpbnQyNTYgX2Ftb3VudEJhYnopOwoKICAvLyBQb3dlciBmdW5jdGlvbnMKICBmdW5jdGlvbiBwb3dlckJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gb3V0c3RhbmRpbmdQb3dlcigpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIGF1dGhvcml6ZWRQb3dlcigpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHBvd2VyVG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKCiAgZnVuY3Rpb24gcG93ZXJVcChhZGRyZXNzIF9zZW5kZXIsIGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX2Ftb3VudEJhYnopIHB1YmxpYzsKICBmdW5jdGlvbiBkb3duVGljayhhZGRyZXNzIF9vd25lciwgdWludDI1NiBfbm93KSBwdWJsaWM7CiAgZnVuY3Rpb24gY3JlYXRlRG93blJlcXVlc3QoYWRkcmVzcyBfb3duZXIsIHVpbnQyNTYgX2Ftb3VudFBvd2VyKSBwdWJsaWM7CiAgZnVuY3Rpb24gZG93bnMoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zKHVpbnQyNTYsIHVpbnQyNTYsIHVpbnQyNTYpOwogIGZ1bmN0aW9uIGRvd250aW1lKCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CgogIC8vIHRoaXMgaXMgY2FsbGVkIHdoZW4gTlRaIGFyZSBkZXBvc2l0ZWQgaW50byB0aGUgYnVybiBwb29sCiAgZnVuY3Rpb24gZGlsdXRlUG93ZXIodWludDI1NiBfYW1vdW50QmFieiwgdWludDI1NiBfYW1vdW50UG93ZXIpOwogICAgZnVuY3Rpb24gc2V0TWF4UG93ZXIodWludDI1NiBfbWF4UG93ZXIpOwogICAgCgogIC8vIHdpdGhkcmF3IGV4Y2Vzc2l2ZSByZXNlcnZlIC0gaS5lLiBtaWxlc3RvbmVzCiAgZnVuY3Rpb24gYWxsb2NhdGVFdGhlcih1aW50MjU2IF9hbW91bnRXZWksIGFkZHJlc3MgX2JlbmVmaWNpYXJ5KTsKCn0KCgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCgovKgogKiBFUkMyMEJhc2ljCiAqIFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7Cn0KCgpjb250cmFjdCBFUkMyMjNCYXNpYyBpcyBFUkMyMEJhc2ljIHsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUsIGJ5dGVzIGRhdGEpIHJldHVybnMgKGJvb2wpOwp9CgovKgogKiBFUkMyMCBpbnRlcmZhY2UKICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjIzQmFzaWMgewogIC8vIGFjdGl2ZSBzdXBwbHkgb2YgdG9rZW5zCiAgZnVuY3Rpb24gYWN0aXZlU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKCgpjb250cmFjdCBQb3dlckV2ZW50IHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgLy8gc3RhdGVzCiAgLy8gICAtIHdhaXRpbmcsIGluaXRpYWwgc3RhdGUKICAvLyAgIC0gY29sbGVjdGluZywgYWZ0ZXIgd2FpdGluZywgYmVmb3JlIGNvbGxlY3Rpb24gc3RvcHBlZAogIC8vICAgLSBmYWlsZWQsIGFmdGVyIGNvbGxlY3RpbmcsIGlmIHNvZnRjYXAgbWlzc2VkCiAgLy8gICAtIGNsb3NlZCwgYWZ0ZXIgY29sbGVjdGluZywgaWYgc29mdGNhcCByZWFjaGVkCiAgLy8gICAtIGNvbXBsZXRlLCBhZnRlciBjbG9zZWQgb3IgZmFpbGVkLCB3aGVuIGpvYiBkb25lCiAgZW51bSBFdmVudFN0YXRlIHsgV2FpdGluZywgQ29sbGVjdGluZywgQ2xvc2VkLCBGYWlsZWQsIENvbXBsZXRlIH0KICBFdmVudFN0YXRlIHB1YmxpYyBzdGF0ZTsKICB1aW50MjU2IHB1YmxpYyBSQVRFX0ZBQ1RPUiA9IDEwMDAwMDA7CgogIC8vIFRlcm1zCiAgdWludDI1NiBwdWJsaWMgc3RhcnRUaW1lOwogIHVpbnQyNTYgcHVibGljIG1pbkR1cmF0aW9uOwogIHVpbnQyNTYgcHVibGljIG1heER1cmF0aW9uOwogIHVpbnQyNTYgcHVibGljIHNvZnRDYXA7CiAgdWludDI1NiBwdWJsaWMgaGFyZENhcDsKICB1aW50MjU2IHB1YmxpYyBkaXNjb3VudFJhdGU7IC8vIGlmIHJhdGUgMzAlLCB0aGlzIHdpbGwgYmUgMzAwLDAwMAogIHVpbnQyNTYgcHVibGljIGFtb3VudFBvd2VyOwogIGFkZHJlc3NbXSBwdWJsaWMgbWlsZXN0b25lUmVjaXBpZW50czsKICB1aW50MjU2W10gcHVibGljIG1pbGVzdG9uZVNoYXJlczsKCiAgLy8gUGFyYW1zCiAgYWRkcmVzcyBwdWJsaWMgY29udHJvbGxlckFkZHI7CiAgYWRkcmVzcyBwdWJsaWMgcG93ZXJBZGRyOwogIGFkZHJlc3MgcHVibGljIG51dHpBZGRyOwogIHVpbnQyNTYgcHVibGljIGluaXRpYWxSZXNlcnZlOwogIHVpbnQyNTYgcHVibGljIGluaXRpYWxTdXBwbHk7CgogIGZ1bmN0aW9uIFBvd2VyRXZlbnQoYWRkcmVzcyBfY29udHJvbGxlckFkZHIsIHVpbnQyNTYgX3N0YXJ0VGltZSwgdWludDI1NiBfbWluRHVyYXRpb24sIHVpbnQyNTYgX21heER1cmF0aW9uLCB1aW50MjU2IF9zb2Z0Q2FwLCB1aW50MjU2IF9oYXJkQ2FwLCB1aW50MjU2IF9kaXNjb3VudCwgdWludDI1NiBfYW1vdW50UG93ZXIsIGFkZHJlc3NbXSBfbWlsZXN0b25lUmVjaXBpZW50cywgdWludDI1NltdIF9taWxlc3RvbmVTaGFyZXMpCiAgYXJlVmFsaWRNaWxlU3RvbmVzKF9taWxlc3RvbmVSZWNpcGllbnRzLCBfbWlsZXN0b25lU2hhcmVzKSB7CiAgICByZXF1aXJlKF9taW5EdXJhdGlvbiA8PSBfbWF4RHVyYXRpb24pOwogICAgcmVxdWlyZShfc29mdENhcCA8PSBfaGFyZENhcCk7CiAgICBjb250cm9sbGVyQWRkciA9IF9jb250cm9sbGVyQWRkcjsKICAgIHN0YXJ0VGltZSA9IF9zdGFydFRpbWU7CiAgICBtaW5EdXJhdGlvbiA9IF9taW5EdXJhdGlvbjsKICAgIG1heER1cmF0aW9uID0gX21heER1cmF0aW9uOwogICAgc29mdENhcCA9IF9zb2Z0Q2FwOwogICAgaGFyZENhcCA9IF9oYXJkQ2FwOwogICAgZGlzY291bnRSYXRlID0gX2Rpc2NvdW50OwogICAgYW1vdW50UG93ZXIgPSBfYW1vdW50UG93ZXI7CiAgICBzdGF0ZSA9IEV2ZW50U3RhdGUuV2FpdGluZzsKICAgIG1pbGVzdG9uZVJlY2lwaWVudHMgPSBfbWlsZXN0b25lUmVjaXBpZW50czsKICAgIG1pbGVzdG9uZVNoYXJlcyA9IF9taWxlc3RvbmVTaGFyZXM7CiAgfQoKICBtb2RpZmllciBpc1N0YXRlKEV2ZW50U3RhdGUgX3N0YXRlKSB7CiAgICByZXF1aXJlKHN0YXRlID09IF9zdGF0ZSk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgYXJlVmFsaWRNaWxlU3RvbmVzKGFkZHJlc3NbXSBfbWlsZXN0b25lUmVjaXBpZW50cywgdWludDI1NltdIF9taWxlc3RvbmVTaGFyZXMpIHsKICAgIHJlcXVpcmUoY2hlY2tNaWxlc3RvbmVzKF9taWxlc3RvbmVSZWNpcGllbnRzLCBfbWlsZXN0b25lU2hhcmVzKSk7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gY2hlY2tNaWxlc3RvbmVzKGFkZHJlc3NbXSBfbWlsZXN0b25lUmVjaXBpZW50cywgdWludDI1NltdIF9taWxlc3RvbmVTaGFyZXMpIGludGVybmFsIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX21pbGVzdG9uZVJlY2lwaWVudHMubGVuZ3RoID09IF9taWxlc3RvbmVTaGFyZXMubGVuZ3RoICYmIF9taWxlc3RvbmVTaGFyZXMubGVuZ3RoIDw9IDQpOwogICAgdWludDI1NiB0b3RhbFBlcmNlbnRhZ2U7CiAgICBmb3IodWludDggaSA9IDA7IGkgPCBfbWlsZXN0b25lU2hhcmVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHJlcXVpcmUoX21pbGVzdG9uZVNoYXJlc1tpXSA+PSAwICYmIF9taWxlc3RvbmVTaGFyZXNbaV0gPD0gMTAwMDAwMCk7CiAgICAgIHRvdGFsUGVyY2VudGFnZSA9IHRvdGFsUGVyY2VudGFnZS5hZGQoX21pbGVzdG9uZVNoYXJlc1tpXSk7CiAgICB9CiAgICByZXF1aXJlKHRvdGFsUGVyY2VudGFnZSA+PSAwICYmIHRvdGFsUGVyY2VudGFnZSA8PSAxMDAwMDAwKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gdGljaygpIHB1YmxpYyB7CiAgICBpZiAoc3RhdGUgPT0gRXZlbnRTdGF0ZS5XYWl0aW5nKSB7CiAgICAgIHN0YXJ0Q29sbGVjdGlvbigpOwogICAgfSBlbHNlIGlmIChzdGF0ZSA9PSBFdmVudFN0YXRlLkNvbGxlY3RpbmcpIHsKICAgICAgc3RvcENvbGxlY3Rpb24oKTsKICAgIH0gZWxzZSBpZiAoc3RhdGUgPT0gRXZlbnRTdGF0ZS5GYWlsZWQpIHsKICAgICAgY29tcGxldGVGYWlsZWQoKTsKICAgIH0gZWxzZSBpZiAoc3RhdGUgPT0gRXZlbnRTdGF0ZS5DbG9zZWQpIHsKICAgICAgY29tcGxldGVDbG9zZWQoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93OwogICAgfQogIH0KCiAgZnVuY3Rpb24gc3RhcnRDb2xsZWN0aW9uKCkgaXNTdGF0ZShFdmVudFN0YXRlLldhaXRpbmcpIHsKICAgIC8vIGNoZWNrIHRpbWUKICAgIHJlcXVpcmUobm93ID4gc3RhcnRUaW1lKTsKICAgIC8vIGFzc2VydChub3cgPCBzdGFydFRpbWUuYWRkKG1pbkR1cmF0aW9uKSk7CiAgICAvLyByZWFkIGluaXRpYWwgdmFsdWVzCiAgICB2YXIgY29udHIgPSBDb250cm9sbGVyKGNvbnRyb2xsZXJBZGRyKTsKICAgIHBvd2VyQWRkciA9IGNvbnRyLnBvd2VyQWRkcigpOwogICAgbnV0ekFkZHIgPSBjb250ci5udXR6QWRkcigpOwogICAgaW5pdGlhbFN1cHBseSA9IGNvbnRyLmFjdGl2ZVN1cHBseSgpLmFkZChjb250ci5wb3dlclBvb2woKSkuYWRkKGNvbnRyLmJ1cm5Qb29sKCkpOwogICAgaW5pdGlhbFJlc2VydmUgPSBudXR6QWRkci5iYWxhbmNlOwogICAgdWludDI1NiBjZWlsaW5nID0gY29udHIuY2VpbGluZygpOwogICAgLy8gbW92ZSBjZWlsaW5nCiAgICB1aW50MjU2IG5ld0NlaWxpbmcgPSBjZWlsaW5nLm11bChkaXNjb3VudFJhdGUpLmRpdihSQVRFX0ZBQ1RPUik7CiAgICBjb250ci5tb3ZlQ2VpbGluZyhuZXdDZWlsaW5nKTsKICAgIC8vIHNldCBzdGF0ZQogICAgc3RhdGUgPSBFdmVudFN0YXRlLkNvbGxlY3Rpbmc7CiAgfQoKICBmdW5jdGlvbiBzdG9wQ29sbGVjdGlvbigpIGlzU3RhdGUoRXZlbnRTdGF0ZS5Db2xsZWN0aW5nKSB7CiAgICB1aW50MjU2IGNvbGxlY3RlZCA9IG51dHpBZGRyLmJhbGFuY2Uuc3ViKGluaXRpYWxSZXNlcnZlKTsKICAgIGlmIChub3cgPiBzdGFydFRpbWUuYWRkKG1heER1cmF0aW9uKSkgewogICAgICBpZiAoY29sbGVjdGVkID49IHNvZnRDYXApIHsKICAgICAgICAvLyBzb2Z0Q2FwIHJlYWNoZWQsIGNsb3NlCiAgICAgICAgc3RhdGUgPSBFdmVudFN0YXRlLkNsb3NlZDsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gc29mdENhcCBtaXNzZWQsIGZhaWwKICAgICAgICBzdGF0ZSA9IEV2ZW50U3RhdGUuRmFpbGVkOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfSBlbHNlIGlmIChub3cgPiBzdGFydFRpbWUuYWRkKG1pbkR1cmF0aW9uKSkgewogICAgICBpZiAoY29sbGVjdGVkID49IGhhcmRDYXApIHsKICAgICAgICAvLyBoYXJkQ2FwIHJlYWNoZWQsIGNsb3NlCiAgICAgICAgc3RhdGUgPSBFdmVudFN0YXRlLkNsb3NlZDsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8ga2VlcCBnb2luZwogICAgICAgIHJldmVydCgpOwogICAgICB9CiAgICB9CiAgICAvLyBrZWVwIGdvaW5nCiAgICByZXZlcnQoKTsKICB9CgogIGZ1bmN0aW9uIGNvbXBsZXRlRmFpbGVkKCkgaXNTdGF0ZShFdmVudFN0YXRlLkZhaWxlZCkgewogICAgdmFyIGNvbnRyID0gQ29udHJvbGxlcihjb250cm9sbGVyQWRkcik7CiAgICAvLyBtb3ZlIGZsb29yIChzZXQgY2VpbGluZyBvciBtYXggZmxvb3IpCiAgICB1aW50MjU2IGNlaWxpbmcgPSBjb250ci5jZWlsaW5nKCk7CiAgICBjb250ci5tb3ZlRmxvb3IoY2VpbGluZyk7CiAgICAvLyByZW1vdmUgYWNjZXNzCiAgICBjb250ci5yZW1vdmVBZG1pbihhZGRyZXNzKHRoaXMpKTsKICAgIC8vIHNldCBzdGF0ZQogICAgc3RhdGUgPSBFdmVudFN0YXRlLkNvbXBsZXRlOwogIH0KCiAgZnVuY3Rpb24gY29tcGxldGVDbG9zZWQoKSBpc1N0YXRlKEV2ZW50U3RhdGUuQ2xvc2VkKSB7CiAgICB2YXIgY29udHIgPSBDb250cm9sbGVyKGNvbnRyb2xsZXJBZGRyKTsKICAgIC8vIG1vdmUgY2VpbGluZwogICAgdWludDI1NiBjZWlsaW5nID0gY29udHIuY2VpbGluZygpOwogICAgdWludDI1NiBuZXdDZWlsaW5nID0gY2VpbGluZy5tdWwoUkFURV9GQUNUT1IpLmRpdihkaXNjb3VudFJhdGUpOwogICAgY29udHIubW92ZUNlaWxpbmcobmV3Q2VpbGluZyk7CiAgICAvLyBkaWx1dGUgcG93ZXIKICAgIHVpbnQyNTYgdG90YWxTdXBwbHkgPSBjb250ci5hY3RpdmVTdXBwbHkoKS5hZGQoY29udHIucG93ZXJQb29sKCkpLmFkZChjb250ci5idXJuUG9vbCgpKTsKICAgIHVpbnQyNTYgbmV3U3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKGluaXRpYWxTdXBwbHkpOwogICAgY29udHIuZGlsdXRlUG93ZXIobmV3U3VwcGx5LCBhbW91bnRQb3dlcik7CiAgICAvLyBzZXQgbWF4IHBvd2VyCiAgICB2YXIgUG93ZXJDb250cmFjdCA9IEVSQzIwKHBvd2VyQWRkcik7CiAgICB1aW50MjU2IGF1dGhvcml6ZWRQb3dlciA9IFBvd2VyQ29udHJhY3QudG90YWxTdXBwbHkoKTsKICAgIGNvbnRyLnNldE1heFBvd2VyKGF1dGhvcml6ZWRQb3dlcik7CiAgICAvLyBwYXkgb3V0IG1pbGVzdG9uZQogICAgdWludDI1NiBjb2xsZWN0ZWQgPSBudXR6QWRkci5iYWxhbmNlLnN1Yihpbml0aWFsUmVzZXJ2ZSk7CiAgICBmb3IgKHVpbnQyNTYgaSA9IDA7IGkgPCBtaWxlc3RvbmVSZWNpcGllbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHVpbnQyNTYgcGF5b3V0QW1vdW50ID0gY29sbGVjdGVkLm11bChtaWxlc3RvbmVTaGFyZXNbaV0pLmRpdihSQVRFX0ZBQ1RPUik7CiAgICAgIGNvbnRyLmFsbG9jYXRlRXRoZXIocGF5b3V0QW1vdW50LCBtaWxlc3RvbmVSZWNpcGllbnRzW2ldKTsKICAgIH0KICAgIC8vIHJlbW92ZSBhY2Nlc3MKICAgIGNvbnRyLnJlbW92ZUFkbWluKGFkZHJlc3ModGhpcykpOwogICAgLy8gc2V0IHN0YXRlCiAgICBzdGF0ZSA9IEV2ZW50U3RhdGUuQ29tcGxldGU7CiAgfQoKfQ=='.
	

]
