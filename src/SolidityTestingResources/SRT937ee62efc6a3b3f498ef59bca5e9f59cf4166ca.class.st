Class {
	#name : #SRT937ee62efc6a3b3f498ef59bca5e9f59cf4166ca,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT937ee62efc6a3b3f498ef59bca5e9f59cf4166ca >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7CgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4KICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CgogICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBpbnRlcm5hbCBhbGxvd2VkOwoKCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW19mcm9tXSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CgogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICoKICAgKiBCZXdhcmUgdGhhdCBjaGFuZ2luZyBhbiBhbGxvd2FuY2Ugd2l0aCB0aGlzIG1ldGhvZCBicmluZ3MgdGhlIHJpc2sgdGhhdCBzb21lb25lIG1heSB1c2UgYm90aCB0aGUgb2xkCiAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAqIHJhY2UgY29uZGl0aW9uIGlzIHRvIGZpcnN0IHJlZHVjZSB0aGUgc3BlbmRlcidzIGFsbG93YW5jZSB0byAwIGFuZCBzZXQgdGhlIGRlc2lyZWQgdmFsdWUgYWZ0ZXJ3YXJkczoKICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZnlpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICAvKioKICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKICAgKi8KICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfSBlbHNlIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiAoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICByZXZlcnQoKTsKICB9Cgp9CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cgp9Cgpjb250cmFjdCBNaW50YWJsZVRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIE93bmFibGUgewogICAgCiAgZXZlbnQgTWludChhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgYW1vdW50KTsKICAKICBldmVudCBNaW50RmluaXNoZWQoKTsKCiAgYm9vbCBwdWJsaWMgbWludGluZ0ZpbmlzaGVkID0gZmFsc2U7CgogIGFkZHJlc3MgcHVibGljIHNhbGVBZ2VudDsKCiAgbW9kaWZpZXIgbm90TG9ja2VkKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyIHx8IG1zZy5zZW5kZXIgPT0gc2FsZUFnZW50IHx8IG1pbnRpbmdGaW5pc2hlZCk7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gc2V0U2FsZUFnZW50KGFkZHJlc3MgbmV3U2FsZUFnbmV0KSBwdWJsaWMgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHNhbGVBZ2VudCB8fCBtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIHNhbGVBZ2VudCA9IG5ld1NhbGVBZ25ldDsKICB9CgogIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBzYWxlQWdlbnQgJiYgIW1pbnRpbmdGaW5pc2hlZCk7CiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgIE1pbnQoX3RvLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBzdG9wIG1pbnRpbmcgbmV3IHRva2Vucy4KICAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgKi8KICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoKG1zZy5zZW5kZXIgPT0gc2FsZUFnZW50IHx8IG1zZy5zZW5kZXIgPT0gb3duZXIpICYmICFtaW50aW5nRmluaXNoZWQpOwogICAgbWludGluZ0ZpbmlzaGVkID0gdHJ1ZTsKICAgIE1pbnRGaW5pc2hlZCgpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyBub3RMb2NrZWQgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyBub3RMb2NrZWQgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShmcm9tLCB0bywgdmFsdWUpOwogIH0KICAKfQoKLyoqCiAqIEB0aXRsZSBQYXVzYWJsZQogKiBAZGV2IEJhc2UgY29udHJhY3Qgd2hpY2ggYWxsb3dzIGNoaWxkcmVuIHRvIGltcGxlbWVudCBhbiBlbWVyZ2VuY3kgc3RvcCBtZWNoYW5pc20uCiAqLwpjb250cmFjdCBQYXVzYWJsZSBpcyBPd25hYmxlIHsKICBldmVudCBQYXVzZSgpOwogIGV2ZW50IFVucGF1c2UoKTsKCiAgYm9vbCBwdWJsaWMgcGF1c2VkID0gZmFsc2U7CgoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRvIG1ha2UgYSBmdW5jdGlvbiBjYWxsYWJsZSBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IGlzIG5vdCBwYXVzZWQuCiAgICovCiAgbW9kaWZpZXIgd2hlbk5vdFBhdXNlZCgpIHsKICAgIHJlcXVpcmUoIXBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBNb2RpZmllciB0byBtYWtlIGEgZnVuY3Rpb24gY2FsbGFibGUgb25seSB3aGVuIHRoZSBjb250cmFjdCBpcyBwYXVzZWQuCiAgICovCiAgbW9kaWZpZXIgd2hlblBhdXNlZCgpIHsKICAgIHJlcXVpcmUocGF1c2VkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gcGF1c2UsIHRyaWdnZXJzIHN0b3BwZWQgc3RhdGUKICAgKi8KICBmdW5jdGlvbiBwYXVzZSgpIG9ubHlPd25lciB3aGVuTm90UGF1c2VkIHB1YmxpYyB7CiAgICBwYXVzZWQgPSB0cnVlOwogICAgUGF1c2UoKTsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byB1bnBhdXNlLCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHVucGF1c2UoKSBvbmx5T3duZXIgd2hlblBhdXNlZCBwdWJsaWMgewogICAgcGF1c2VkID0gZmFsc2U7CiAgICBVbnBhdXNlKCk7CiAgfQp9Cgpjb250cmFjdCBDUllQVE9SSVlBIGlzIE1pbnRhYmxlVG9rZW4gewkKICAgIAogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJDUllQVE9SSVlBIjsKICAgCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiQ0lZQSI7CiAgICAKICB1aW50MzIgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgcHVibGljIGxvY2tlZDsKCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShsb2NrZWRbbXNnLnNlbmRlcl0gPCBub3cpOwogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKGxvY2tlZFtfZnJvbV0gPCBub3cpOwogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpOwogIH0KICAKICBmdW5jdGlvbiBsb2NrKGFkZHJlc3MgYWRkciwgdWludCBwZXJpb2RJbkRheXMpIHB1YmxpYyB7CiAgICByZXF1aXJlKGxvY2tlZFthZGRyXSA8IG5vdyAmJiAobXNnLnNlbmRlciA9PSBzYWxlQWdlbnQgfHwgbXNnLnNlbmRlciA9PSBhZGRyKSk7CiAgICBsb2NrZWRbYWRkcl0gPSBub3cgKyBwZXJpb2RJbkRheXMgKiAxIGRheXM7CiAgfQoKfQoKY29udHJhY3QgU3RhZ2VkQ3Jvd2RzYWxlIGlzIFBhdXNhYmxlIHsKCiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogIHN0cnVjdCBTdGFnZSB7CiAgICB1aW50IGhhcmRjYXA7CiAgICB1aW50IHByaWNlOwogICAgdWludCBpbnZlc3RlZDsKICAgIHVpbnQgY2xvc2VkOwogIH0KCiAgdWludCBwdWJsaWMgc3RhcnQ7CgogIHVpbnQgcHVibGljIHBlcmlvZDsKCiAgdWludCBwdWJsaWMgdG90YWxIYXJkY2FwOwogCiAgdWludCBwdWJsaWMgdG90YWxJbnZlc3RlZDsKCiAgU3RhZ2VbXSBwdWJsaWMgc3RhZ2VzOwoKICBmdW5jdGlvbiBzdGFnZXNDb3VudCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQpIHsKICAgIHJldHVybiBzdGFnZXMubGVuZ3RoOwogIH0KCiAgZnVuY3Rpb24gc2V0U3RhcnQodWludCBuZXdTdGFydCkgcHVibGljIG9ubHlPd25lciB7CiAgICBzdGFydCA9IG5ld1N0YXJ0OwogIH0KCiAgZnVuY3Rpb24gc2V0UGVyaW9kKHVpbnQgbmV3UGVyaW9kKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHBlcmlvZCA9IG5ld1BlcmlvZDsKICB9CgogIGZ1bmN0aW9uIGFkZFN0YWdlKHVpbnQgaGFyZGNhcCwgdWludCBwcmljZSkgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKGhhcmRjYXAgPiAwICYmIHByaWNlID4gMCk7CiAgICBTdGFnZSBtZW1vcnkgc3RhZ2UgPSBTdGFnZShoYXJkY2FwLm11bCgxIGV0aGVyKSwgcHJpY2UsIDAsIDApOwogICAgc3RhZ2VzLnB1c2goc3RhZ2UpOwogICAgdG90YWxIYXJkY2FwID0gdG90YWxIYXJkY2FwLmFkZChzdGFnZS5oYXJkY2FwKTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZVN0YWdlKHVpbnQ4IG51bWJlcikgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG51bWJlciA+PTAgJiYgbnVtYmVyIDwgc3RhZ2VzLmxlbmd0aCk7CiAgICBTdGFnZSBzdG9yYWdlIHN0YWdlID0gc3RhZ2VzW251bWJlcl07CiAgICB0b3RhbEhhcmRjYXAgPSB0b3RhbEhhcmRjYXAuc3ViKHN0YWdlLmhhcmRjYXApOyAgICAKICAgIGRlbGV0ZSBzdGFnZXNbbnVtYmVyXTsKICAgIGZvciAodWludCBpID0gbnVtYmVyOyBpIDwgc3RhZ2VzLmxlbmd0aCAtIDE7IGkrKykgewogICAgICBzdGFnZXNbaV0gPSBzdGFnZXNbaSsxXTsKICAgIH0KICAgIHN0YWdlcy5sZW5ndGgtLTsKICB9CgogIGZ1bmN0aW9uIGNoYW5nZVN0YWdlKHVpbnQ4IG51bWJlciwgdWludCBoYXJkY2FwLCB1aW50IHByaWNlKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUobnVtYmVyID49IDAgJiZudW1iZXIgPCBzdGFnZXMubGVuZ3RoKTsKICAgIFN0YWdlIHN0b3JhZ2Ugc3RhZ2UgPSBzdGFnZXNbbnVtYmVyXTsKICAgIHRvdGFsSGFyZGNhcCA9IHRvdGFsSGFyZGNhcC5zdWIoc3RhZ2UuaGFyZGNhcCk7ICAgIAogICAgc3RhZ2UuaGFyZGNhcCA9IGhhcmRjYXAubXVsKDEgZXRoZXIpOwogICAgc3RhZ2UucHJpY2UgPSBwcmljZTsKICAgIHRvdGFsSGFyZGNhcCA9IHRvdGFsSGFyZGNhcC5hZGQoc3RhZ2UuaGFyZGNhcCk7ICAgIAogIH0KCiAgZnVuY3Rpb24gaW5zZXJ0U3RhZ2UodWludDggbnVtYmVyQWZ0ZXIsIHVpbnQgaGFyZGNhcCwgdWludCBwcmljZSkgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG51bWJlckFmdGVyIDwgc3RhZ2VzLmxlbmd0aCk7CiAgICBTdGFnZSBtZW1vcnkgc3RhZ2UgPSBTdGFnZShoYXJkY2FwLm11bCgxIGV0aGVyKSwgcHJpY2UsIDAsIDApOwogICAgdG90YWxIYXJkY2FwID0gdG90YWxIYXJkY2FwLmFkZChzdGFnZS5oYXJkY2FwKTsKICAgIHN0YWdlcy5sZW5ndGgrKzsKICAgIGZvciAodWludCBpID0gc3RhZ2VzLmxlbmd0aCAtIDI7IGkgPiBudW1iZXJBZnRlcjsgaS0tKSB7CiAgICAgIHN0YWdlc1tpICsgMV0gPSBzdGFnZXNbaV07CiAgICB9CiAgICBzdGFnZXNbbnVtYmVyQWZ0ZXIgKyAxXSA9IHN0YWdlOwogIH0KCiAgZnVuY3Rpb24gY2xlYXJTdGFnZXMoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIGZvciAodWludCBpID0gMDsgaSA8IHN0YWdlcy5sZW5ndGg7IGkrKykgewogICAgICBkZWxldGUgc3RhZ2VzW2ldOwogICAgfQogICAgc3RhZ2VzLmxlbmd0aCAtPSBzdGFnZXMubGVuZ3RoOwogICAgdG90YWxIYXJkY2FwID0gMDsKICB9CgogIGZ1bmN0aW9uIGxhc3RTYWxlRGF0ZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQpIHsKICAgIHJldHVybiBzdGFydCArIHBlcmlvZCAqIDEgZGF5czsKICB9CgogIG1vZGlmaWVyIHNhbGVJc09uKCkgewogICAgcmVxdWlyZShzdGFnZXMubGVuZ3RoID4gMCAmJiBub3cgPj0gc3RhcnQgJiYgbm93IDwgbGFzdFNhbGVEYXRlKCkpOwogICAgXzsKICB9CiAgCiAgbW9kaWZpZXIgaXNVbmRlckhhcmRjYXAoKSB7CiAgICByZXF1aXJlKHRvdGFsSW52ZXN0ZWQgPD0gdG90YWxIYXJkY2FwKTsKICAgIF87CiAgfQoKICBmdW5jdGlvbiBjdXJyZW50U3RhZ2UoKSBwdWJsaWMgc2FsZUlzT24gaXNVbmRlckhhcmRjYXAgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICBmb3IodWludCBpPTA7IGkgPCBzdGFnZXMubGVuZ3RoOyBpKyspIHsKICAgICAgaWYoc3RhZ2VzW2ldLmNsb3NlZCA9PSAwKSB7CiAgICAgICAgcmV0dXJuIGk7CiAgICAgIH0KICAgIH0KICAgIHJldmVydCgpOwogIH0KCn0KCmNvbnRyYWN0IENvbW1vblNhbGUgaXMgU3RhZ2VkQ3Jvd2RzYWxlIHsKCiAgYWRkcmVzcyBwdWJsaWMgbWFzdGVyV2FsbGV0OwoKICBhZGRyZXNzIHB1YmxpYyBzbGF2ZVdhbGxldDsKICAKICBhZGRyZXNzIHB1YmxpYyBkaXJlY3RNaW50QWdlbnQ7CgogIHVpbnQgcHVibGljIHNsYXZlV2FsbGV0UGVyY2VudCA9IDMwOwoKICB1aW50IHB1YmxpYyBwZXJjZW50UmF0ZSA9IDEwMDsKCiAgdWludCBwdWJsaWMgbWluUHJpY2U7CgogIHVpbnQgcHVibGljIHRvdGFsVG9rZW5zTWludGVkOwogIAogIGJvb2wgcHVibGljIHNsYXZlV2FsbGV0SW5pdGlhbGl6ZWQ7CiAgCiAgYm9vbCBwdWJsaWMgc2xhdmVXYWxsZXRQZXJjZW50SW5pdGlhbGl6ZWQ7CgogIENSWVBUT1JJWUEgcHVibGljIHRva2VuOwogIAogIG1vZGlmaWVyIG9ubHlEaXJlY3RNaW50QWdlbnRPck93bmVyKCkgewogICAgcmVxdWlyZShkaXJlY3RNaW50QWdlbnQgPT0gbXNnLnNlbmRlciB8fCBvd25lciA9PSBtc2cuc2VuZGVyKTsKICAgIF87CiAgfQogIAogIGZ1bmN0aW9uIHNldERpcmVjdE1pbnRBZ2VudChhZGRyZXNzIG5ld0RpcmVjdE1pbnRBZ2VudCkgcHVibGljIG9ubHlPd25lciB7CiAgICBkaXJlY3RNaW50QWdlbnQgPSBuZXdEaXJlY3RNaW50QWdlbnQ7CiAgfQogIAogIGZ1bmN0aW9uIHNldE1pblByaWNlKHVpbnQgbmV3TWluUHJpY2UpIHB1YmxpYyBvbmx5T3duZXIgewogICAgbWluUHJpY2UgPSBuZXdNaW5QcmljZTsKICB9CgogIGZ1bmN0aW9uIHNldFNsYXZlV2FsbGV0UGVyY2VudCh1aW50IG5ld1NsYXZlV2FsbGV0UGVyY2VudCkgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKCFzbGF2ZVdhbGxldFBlcmNlbnRJbml0aWFsaXplZCk7CiAgICBzbGF2ZVdhbGxldFBlcmNlbnQgPSBuZXdTbGF2ZVdhbGxldFBlcmNlbnQ7CiAgICBzbGF2ZVdhbGxldFBlcmNlbnRJbml0aWFsaXplZCA9IHRydWU7CiAgfQoKICBmdW5jdGlvbiBzZXRNYXN0ZXJXYWxsZXQoYWRkcmVzcyBuZXdNYXN0ZXJXYWxsZXQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgbWFzdGVyV2FsbGV0ID0gbmV3TWFzdGVyV2FsbGV0OwogIH0KCiAgZnVuY3Rpb24gc2V0U2xhdmVXYWxsZXQoYWRkcmVzcyBuZXdTbGF2ZVdhbGxldCkgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKCFzbGF2ZVdhbGxldEluaXRpYWxpemVkKTsKICAgIHNsYXZlV2FsbGV0ID0gbmV3U2xhdmVXYWxsZXQ7CiAgICBzbGF2ZVdhbGxldEluaXRpYWxpemVkID0gdHJ1ZTsKICB9CiAgCiAgZnVuY3Rpb24gc2V0VG9rZW4oYWRkcmVzcyBuZXdUb2tlbikgcHVibGljIG9ubHlPd25lciB7CiAgICB0b2tlbiA9IENSWVBUT1JJWUEobmV3VG9rZW4pOwogIH0KCiAgZnVuY3Rpb24gZGlyZWN0TWludChhZGRyZXNzIHRvLCB1aW50IGludmVzdGVkV2VpKSBwdWJsaWMgb25seURpcmVjdE1pbnRBZ2VudE9yT3duZXIgc2FsZUlzT24gewogICAgbWludFRva2Vucyh0bywgaW52ZXN0ZWRXZWkpOwogIH0KCiAgZnVuY3Rpb24gY3JlYXRlVG9rZW5zKCkgcHVibGljIHdoZW5Ob3RQYXVzZWQgcGF5YWJsZSB7CiAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBtaW5QcmljZSk7CiAgICB1aW50IG1hc3RlclZhbHVlID0gbXNnLnZhbHVlLm11bChwZXJjZW50UmF0ZS5zdWIoc2xhdmVXYWxsZXRQZXJjZW50KSkuZGl2KHBlcmNlbnRSYXRlKTsKICAgIHVpbnQgc2xhdmVWYWx1ZSA9IG1zZy52YWx1ZS5zdWIobWFzdGVyVmFsdWUpOwogICAgbWFzdGVyV2FsbGV0LnRyYW5zZmVyKG1hc3RlclZhbHVlKTsKICAgIHNsYXZlV2FsbGV0LnRyYW5zZmVyKHNsYXZlVmFsdWUpOwogICAgbWludFRva2Vucyhtc2cuc2VuZGVyLCBtc2cudmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gbWludFRva2VucyhhZGRyZXNzIHRvLCB1aW50IHdlaUludmVzdGVkKSBpbnRlcm5hbCB7CiAgICB1aW50IHN0YWdlSW5kZXggPSBjdXJyZW50U3RhZ2UoKTsKICAgIFN0YWdlIHN0b3JhZ2Ugc3RhZ2UgPSBzdGFnZXNbc3RhZ2VJbmRleF07CiAgICB1aW50IHRva2VucyA9IHdlaUludmVzdGVkLm11bChzdGFnZS5wcmljZSk7CiAgICB0b2tlbi5taW50KHRoaXMsIHRva2Vucyk7CiAgICB0b2tlbi50cmFuc2Zlcih0bywgdG9rZW5zKTsKICAgIHRvdGFsVG9rZW5zTWludGVkID0gdG90YWxUb2tlbnNNaW50ZWQuYWRkKHRva2Vucyk7CiAgICB0b3RhbEludmVzdGVkID0gdG90YWxJbnZlc3RlZC5hZGQod2VpSW52ZXN0ZWQpOwogICAgc3RhZ2UuaW52ZXN0ZWQgPSBzdGFnZS5pbnZlc3RlZC5hZGQod2VpSW52ZXN0ZWQpOwogICAgaWYoc3RhZ2UuaW52ZXN0ZWQgPj0gc3RhZ2UuaGFyZGNhcCkgewogICAgICBzdGFnZS5jbG9zZWQgPSBub3c7CiAgICB9CiAgfQoKICBmdW5jdGlvbigpIGV4dGVybmFsIHBheWFibGUgewogICAgY3JlYXRlVG9rZW5zKCk7CiAgfQogIAogIGZ1bmN0aW9uIHJldHJpZXZlVG9rZW5zKGFkZHJlc3MgYW5vdGhlclRva2VuLCBhZGRyZXNzIHRvKSBwdWJsaWMgb25seU93bmVyIHsKICAgIEVSQzIwIGFsaWVuVG9rZW4gPSBFUkMyMChhbm90aGVyVG9rZW4pOwogICAgYWxpZW5Ub2tlbi50cmFuc2Zlcih0bywgYWxpZW5Ub2tlbi5iYWxhbmNlT2YodGhpcykpOwogIH0KCn0KCmNvbnRyYWN0IFByZXNhbGUgaXMgQ29tbW9uU2FsZSB7CgogIE1haW5zYWxlIHB1YmxpYyBtYWluc2FsZTsKCiAgZnVuY3Rpb24gc2V0TWFpbnNhbGUoYWRkcmVzcyBuZXdNYWluc2FsZSkgcHVibGljIG9ubHlPd25lciB7CiAgICBtYWluc2FsZSA9IE1haW5zYWxlKG5ld01haW5zYWxlKTsKICB9CgogIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcoKSBwdWJsaWMgd2hlbk5vdFBhdXNlZCBvbmx5T3duZXIgewogICAgdG9rZW4uc2V0U2FsZUFnZW50KG1haW5zYWxlKTsKICB9CgogIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICBjcmVhdGVUb2tlbnMoKTsKICB9Cgp9Cgpjb250cmFjdCBNYWluc2FsZSBpcyBDb21tb25TYWxlIHsKCiAgYWRkcmVzcyBwdWJsaWMgZm91bmRlcnNUb2tlbnNXYWxsZXQ7CiAgCiAgYWRkcmVzcyBwdWJsaWMgYm91bnR5VG9rZW5zV2FsbGV0OwogIAogIHVpbnQgcHVibGljIGZvdW5kZXJzVG9rZW5zUGVyY2VudDsKICAKICB1aW50IHB1YmxpYyBib3VudHlUb2tlbnNQZXJjZW50OwogIAogIHVpbnQgcHVibGljIGxvY2tQZXJpb2Q7CgogIGZ1bmN0aW9uIHNldExvY2tQZXJpb2QodWludCBuZXdMb2NrUGVyaW9kKSBwdWJsaWMgb25seU93bmVyIHsKICAgIGxvY2tQZXJpb2QgPSBuZXdMb2NrUGVyaW9kOwogIH0KCiAgZnVuY3Rpb24gc2V0Rm91bmRlcnNUb2tlbnNQZXJjZW50KHVpbnQgbmV3Rm91bmRlcnNUb2tlbnNQZXJjZW50KSBwdWJsaWMgb25seU93bmVyIHsKICAgIGZvdW5kZXJzVG9rZW5zUGVyY2VudCA9IG5ld0ZvdW5kZXJzVG9rZW5zUGVyY2VudDsKICB9CgogIGZ1bmN0aW9uIHNldEJvdW50eVRva2Vuc1BlcmNlbnQodWludCBuZXdCb3VudHlUb2tlbnNQZXJjZW50KSBwdWJsaWMgb25seU93bmVyIHsKICAgIGJvdW50eVRva2Vuc1BlcmNlbnQgPSBuZXdCb3VudHlUb2tlbnNQZXJjZW50OwogIH0KCiAgZnVuY3Rpb24gc2V0Rm91bmRlcnNUb2tlbnNXYWxsZXQoYWRkcmVzcyBuZXdGb3VuZGVyc1Rva2Vuc1dhbGxldCkgcHVibGljIG9ubHlPd25lciB7CiAgICBmb3VuZGVyc1Rva2Vuc1dhbGxldCA9IG5ld0ZvdW5kZXJzVG9rZW5zV2FsbGV0OwogIH0KCiAgZnVuY3Rpb24gc2V0Qm91bnR5VG9rZW5zV2FsbGV0KGFkZHJlc3MgbmV3Qm91bnR5VG9rZW5zV2FsbGV0KSBwdWJsaWMgb25seU93bmVyIHsKICAgIGJvdW50eVRva2Vuc1dhbGxldCA9IG5ld0JvdW50eVRva2Vuc1dhbGxldDsKICB9CgogIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcoKSBwdWJsaWMgd2hlbk5vdFBhdXNlZCBvbmx5T3duZXIgewogICAgdWludCBzdW1tYXJ5VG9rZW5zUGVyY2VudCA9IGJvdW50eVRva2Vuc1BlcmNlbnQgKyBmb3VuZGVyc1Rva2Vuc1BlcmNlbnQ7CiAgICB1aW50IG1pbnRlZFRva2VucyA9IHRva2VuLnRvdGFsU3VwcGx5KCk7CiAgICB1aW50IHRvdGFsU3VwcGx5ID0gbWludGVkVG9rZW5zLm11bChwZXJjZW50UmF0ZSkuZGl2KHBlcmNlbnRSYXRlLnN1YihzdW1tYXJ5VG9rZW5zUGVyY2VudCkpOwogICAgdWludCBmb3VuZGVyc1Rva2VucyA9IHRvdGFsU3VwcGx5Lm11bChmb3VuZGVyc1Rva2Vuc1BlcmNlbnQpLmRpdihwZXJjZW50UmF0ZSk7CiAgICB1aW50IGJvdW50eVRva2VucyA9IHRvdGFsU3VwcGx5Lm11bChib3VudHlUb2tlbnNQZXJjZW50KS5kaXYocGVyY2VudFJhdGUpOwogICAgdG9rZW4ubWludCh0aGlzLCBmb3VuZGVyc1Rva2Vucyk7CiAgICB0b2tlbi50cmFuc2Zlcihmb3VuZGVyc1Rva2Vuc1dhbGxldCwgZm91bmRlcnNUb2tlbnMpOwogICAgdG9rZW4ubWludCh0aGlzLCBib3VudHlUb2tlbnMpOwogICAgdG9rZW4udHJhbnNmZXIoYm91bnR5VG9rZW5zV2FsbGV0LCBib3VudHlUb2tlbnMpOwogICAgdG90YWxUb2tlbnNNaW50ZWQgPSB0b3RhbFRva2Vuc01pbnRlZC5hZGQoZm91bmRlcnNUb2tlbnMpLmFkZChib3VudHlUb2tlbnMpOwogICAgdG9rZW4uZmluaXNoTWludGluZygpOwogIH0KCn0='.
	

]
