Class {
	#name : #SRT8b7b6c61238088593bf75eec8fbf58d0a615d30c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT8b7b6c61238088593bf75eec8fbf58d0a615d30c >> base64 [
	^ 'Y29udHJhY3QgV2hpdGVsaXN0IHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgYWRkcmVzcyBwdWJsaWMgc2FsZTsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBhY2NlcHRlZDsKCiAgICBmdW5jdGlvbiBXaGl0ZWxpc3QoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIC8vIEFtb3VudCBpbiBXRUkgaS5lLiBhbW91bnQgPSAxIG1lYW5zIDEgV0VJCiAgICBmdW5jdGlvbiBhY2NlcHQoYWRkcmVzcyBhLCB1aW50IGFtb3VudCkgewogICAgICAgIGFzc2VydCAobXNnLnNlbmRlciA9PSBvd25lciB8fCBtc2cuc2VuZGVyID09IHNhbGUpOwoKICAgICAgICBhY2NlcHRlZFthXSA9IGFtb3VudDsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRTYWxlKGFkZHJlc3Mgc2FsZV8pIHsKICAgICAgICBhc3NlcnQgKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoKICAgICAgICBzYWxlID0gc2FsZV87CiAgICB9IAp9CgoKY29udHJhY3QgRFNFeGVjIHsKICAgIGZ1bmN0aW9uIHRyeUV4ZWMoIGFkZHJlc3MgdGFyZ2V0LCBieXRlcyBjYWxsZGF0YSwgdWludCB2YWx1ZSkKICAgICAgICAgICAgIGludGVybmFsCiAgICAgICAgICAgICByZXR1cm5zIChib29sIGNhbGxfcmV0KQogICAgewogICAgICAgIHJldHVybiB0YXJnZXQuY2FsbC52YWx1ZSh2YWx1ZSkoY2FsbGRhdGEpOwogICAgfQogICAgZnVuY3Rpb24gZXhlYyggYWRkcmVzcyB0YXJnZXQsIGJ5dGVzIGNhbGxkYXRhLCB1aW50IHZhbHVlKQogICAgICAgICAgICAgaW50ZXJuYWwKICAgIHsKICAgICAgICBpZighdHJ5RXhlYyh0YXJnZXQsIGNhbGxkYXRhLCB2YWx1ZSkpIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgfQoKICAgIC8vIENvbnZlbmllbmNlIGFsaWFzZXMKICAgIGZ1bmN0aW9uIGV4ZWMoIGFkZHJlc3MgdCwgYnl0ZXMgYyApCiAgICAgICAgaW50ZXJuYWwKICAgIHsKICAgICAgICBleGVjKHQsIGMsIDApOwogICAgfQogICAgZnVuY3Rpb24gZXhlYyggYWRkcmVzcyB0LCB1aW50MjU2IHYgKQogICAgICAgIGludGVybmFsCiAgICB7CiAgICAgICAgYnl0ZXMgbWVtb3J5IGM7IGV4ZWModCwgYywgdik7CiAgICB9CiAgICBmdW5jdGlvbiB0cnlFeGVjKCBhZGRyZXNzIHQsIGJ5dGVzIGMgKQogICAgICAgIGludGVybmFsCiAgICAgICAgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICByZXR1cm4gdHJ5RXhlYyh0LCBjLCAwKTsKICAgIH0KICAgIGZ1bmN0aW9uIHRyeUV4ZWMoIGFkZHJlc3MgdCwgdWludDI1NiB2ICkKICAgICAgICBpbnRlcm5hbAogICAgICAgIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgYnl0ZXMgbWVtb3J5IGM7IHJldHVybiB0cnlFeGVjKHQsIGMsIHYpOwogICAgfQp9CgoKCmNvbnRyYWN0IERTQXV0aG9yaXR5IHsKICAgIGZ1bmN0aW9uIGNhbkNhbGwoCiAgICAgICAgYWRkcmVzcyBzcmMsIGFkZHJlc3MgZHN0LCBieXRlczQgc2lnCiAgICApIGNvbnN0YW50IHJldHVybnMgKGJvb2wpOwp9Cgpjb250cmFjdCBEU0F1dGhFdmVudHMgewogICAgZXZlbnQgTG9nU2V0QXV0aG9yaXR5IChhZGRyZXNzIGluZGV4ZWQgYXV0aG9yaXR5KTsKICAgIGV2ZW50IExvZ1NldE93bmVyICAgICAoYWRkcmVzcyBpbmRleGVkIG93bmVyKTsKfQoKY29udHJhY3QgRFNBdXRoIGlzIERTQXV0aEV2ZW50cyB7CiAgICBEU0F1dGhvcml0eSAgcHVibGljICBhdXRob3JpdHk7CiAgICBhZGRyZXNzICAgICAgcHVibGljICBvd25lcjsKCiAgICBmdW5jdGlvbiBEU0F1dGgoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIExvZ1NldE93bmVyKG1zZy5zZW5kZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldE93bmVyKGFkZHJlc3Mgb3duZXJfKQogICAgICAgIGF1dGgKICAgIHsKICAgICAgICBvd25lciA9IG93bmVyXzsKICAgICAgICBMb2dTZXRPd25lcihvd25lcik7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0QXV0aG9yaXR5KERTQXV0aG9yaXR5IGF1dGhvcml0eV8pCiAgICAgICAgYXV0aAogICAgewogICAgICAgIGF1dGhvcml0eSA9IGF1dGhvcml0eV87CiAgICAgICAgTG9nU2V0QXV0aG9yaXR5KGF1dGhvcml0eSk7CiAgICB9CgogICAgbW9kaWZpZXIgYXV0aCB7CiAgICAgICAgYXNzZXJ0KGlzQXV0aG9yaXplZChtc2cuc2VuZGVyLCBtc2cuc2lnKSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBpc0F1dGhvcml6ZWQoYWRkcmVzcyBzcmMsIGJ5dGVzNCBzaWcpIGludGVybmFsIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBpZiAoc3JjID09IGFkZHJlc3ModGhpcykpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIGlmIChzcmMgPT0gb3duZXIpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIGlmIChhdXRob3JpdHkgPT0gRFNBdXRob3JpdHkoMCkpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBhdXRob3JpdHkuY2FuQ2FsbChzcmMsIHRoaXMsIHNpZyk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGFzc2VydChib29sIHgpIGludGVybmFsIHsKICAgICAgICBpZiAoIXgpIHRocm93OwogICAgfQp9CgoKY29udHJhY3QgRFNOb3RlIHsKICAgIGV2ZW50IExvZ05vdGUoCiAgICAgICAgYnl0ZXM0ICAgaW5kZXhlZCAgc2lnLAogICAgICAgIGFkZHJlc3MgIGluZGV4ZWQgIGd1eSwKICAgICAgICBieXRlczMyICBpbmRleGVkICBmb28sCiAgICAgICAgYnl0ZXMzMiAgaW5kZXhlZCAgYmFyLAoJdWludAkgCSAgd2FkLAogICAgICAgIGJ5dGVzICAgICAgICAgICAgIGZheAogICAgKSBhbm9ueW1vdXM7CgogICAgbW9kaWZpZXIgbm90ZSB7CiAgICAgICAgYnl0ZXMzMiBmb287CiAgICAgICAgYnl0ZXMzMiBiYXI7CgogICAgICAgIGFzc2VtYmx5IHsKICAgICAgICAgICAgZm9vIDo9IGNhbGxkYXRhbG9hZCg0KQogICAgICAgICAgICBiYXIgOj0gY2FsbGRhdGFsb2FkKDM2KQogICAgICAgIH0KCiAgICAgICAgTG9nTm90ZShtc2cuc2lnLCBtc2cuc2VuZGVyLCBmb28sIGJhciwgbXNnLnZhbHVlLCBtc2cuZGF0YSk7CgogICAgICAgIF87CiAgICB9Cn0KCgoKY29udHJhY3QgRFNNYXRoIHsKICAgIAogICAgLyoKICAgIHN0YW5kYXJkIHVpbnQyNTYgZnVuY3Rpb25zCiAgICAgKi8KCiAgICBmdW5jdGlvbiBhZGQodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgewogICAgICAgIGFzc2VydCgoeiA9IHggKyB5KSA+PSB4KTsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgewogICAgICAgIGFzc2VydCgoeiA9IHggLSB5KSA8PSB4KTsKICAgIH0KCiAgICBmdW5jdGlvbiBtdWwodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgewogICAgICAgIHogPSB4ICogeTsKICAgICAgICBhc3NlcnQoeCA9PSAwIHx8IHogLyB4ID09IHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIGRpdih1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgeiA9IHggLyB5OwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbih1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgcmV0dXJuIHggPD0geSA/IHggOiB5OwogICAgfQogICAgZnVuY3Rpb24gbWF4KHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICByZXR1cm4geCA+PSB5ID8geCA6IHk7CiAgICB9CgogICAgLyoKICAgIHVpbnQxMjggZnVuY3Rpb25zIChoIGlzIGZvciBoYWxmKQogICAgICovCgoKICAgIGZ1bmN0aW9uIGhhZGQodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIGFzc2VydCgoeiA9IHggKyB5KSA+PSB4KTsKICAgIH0KCiAgICBmdW5jdGlvbiBoc3ViKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICBhc3NlcnQoKHogPSB4IC0geSkgPD0geCk7CiAgICB9CgogICAgZnVuY3Rpb24gaG11bCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgeiA9IHggKiB5OwogICAgICAgIGFzc2VydCh4ID09IDAgfHwgeiAvIHggPT0geSk7CiAgICB9CgogICAgZnVuY3Rpb24gaGRpdih1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgeiA9IHggLyB5OwogICAgfQoKICAgIGZ1bmN0aW9uIGhtaW4odWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIHJldHVybiB4IDw9IHkgPyB4IDogeTsKICAgIH0KICAgIGZ1bmN0aW9uIGhtYXgodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIHJldHVybiB4ID49IHkgPyB4IDogeTsKICAgIH0KCgogICAgLyoKICAgIGludDI1NiBmdW5jdGlvbnMKICAgICAqLwoKICAgIGZ1bmN0aW9uIGltaW4oaW50MjU2IHgsIGludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zIChpbnQyNTYgeikgewogICAgICAgIHJldHVybiB4IDw9IHkgPyB4IDogeTsKICAgIH0KICAgIGZ1bmN0aW9uIGltYXgoaW50MjU2IHgsIGludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zIChpbnQyNTYgeikgewogICAgICAgIHJldHVybiB4ID49IHkgPyB4IDogeTsKICAgIH0KCiAgICAvKgogICAgV0FEIG1hdGgKICAgICAqLwoKICAgIHVpbnQxMjggY29uc3RhbnQgV0FEID0gMTAgKiogMTg7CgogICAgZnVuY3Rpb24gd2FkZCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCkgewogICAgICAgIHJldHVybiBoYWRkKHgsIHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdzdWIodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjgpIHsKICAgICAgICByZXR1cm4gaHN1Yih4LCB5KTsKICAgIH0KCiAgICBmdW5jdGlvbiB3bXVsKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICB6ID0gY2FzdCgodWludDI1Nih4KSAqIHkgKyBXQUQgLyAyKSAvIFdBRCk7CiAgICB9CgogICAgZnVuY3Rpb24gd2Rpdih1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgeiA9IGNhc3QoKHVpbnQyNTYoeCkgKiBXQUQgKyB5IC8gMikgLyB5KTsKICAgIH0KCiAgICBmdW5jdGlvbiB3bWluKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4KSB7CiAgICAgICAgcmV0dXJuIGhtaW4oeCwgeSk7CiAgICB9CiAgICBmdW5jdGlvbiB3bWF4KHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4KSB7CiAgICAgICAgcmV0dXJuIGhtYXgoeCwgeSk7CiAgICB9CgogICAgLyoKICAgIFJBWSBtYXRoCiAgICAgKi8KCiAgICB1aW50MTI4IGNvbnN0YW50IFJBWSA9IDEwICoqIDI3OwoKICAgIGZ1bmN0aW9uIHJhZGQodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjgpIHsKICAgICAgICByZXR1cm4gaGFkZCh4LCB5KTsKICAgIH0KCiAgICBmdW5jdGlvbiByc3ViKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4KSB7CiAgICAgICAgcmV0dXJuIGhzdWIoeCwgeSk7CiAgICB9CgogICAgZnVuY3Rpb24gcm11bCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgeiA9IGNhc3QoKHVpbnQyNTYoeCkgKiB5ICsgUkFZIC8gMikgLyBSQVkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJkaXYodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIHogPSBjYXN0KCh1aW50MjU2KHgpICogUkFZICsgeSAvIDIpIC8geSk7CiAgICB9CgogICAgZnVuY3Rpb24gcnBvdyh1aW50MTI4IHgsIHVpbnQ2NCBuKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICAvLyBUaGlzIGZhbW91cyBhbGdvcml0aG0gaXMgY2FsbGVkICJleHBvbmVudGlhdGlvbiBieSBzcXVhcmluZyIKICAgICAgICAvLyBhbmQgY2FsY3VsYXRlcyB4Xm4gd2l0aCB4IGFzIGZpeGVkLXBvaW50IGFuZCBuIGFzIHJlZ3VsYXIgdW5zaWduZWQuCiAgICAgICAgLy8KICAgICAgICAvLyBJdCdzIE8obG9nIG4pLCBpbnN0ZWFkIG9mIE8obikgZm9yIG5haXZlIHJlcGVhdGVkIG11bHRpcGxpY2F0aW9uLgogICAgICAgIC8vCiAgICAgICAgLy8gVGhlc2UgZmFjdHMgYXJlIHdoeSBpdCB3b3JrczoKICAgICAgICAvLwogICAgICAgIC8vICBJZiBuIGlzIGV2ZW4sIHRoZW4geF5uID0gKHheMileKG4vMikuCiAgICAgICAgLy8gIElmIG4gaXMgb2RkLCAgdGhlbiB4Xm4gPSB4ICogeF4obi0xKSwKICAgICAgICAvLyAgIGFuZCBhcHBseWluZyB0aGUgZXF1YXRpb24gZm9yIGV2ZW4geCBnaXZlcwogICAgICAgIC8vICAgIHhebiA9IHggKiAoeF4yKV4oKG4tMSkgLyAyKS4KICAgICAgICAvLwogICAgICAgIC8vICBBbHNvLCBFVk0gZGl2aXNpb24gaXMgZmxvb3JpbmcgYW5kCiAgICAgICAgLy8gICAgZmxvb3JbKG4tMSkgLyAyXSA9IGZsb29yW24gLyAyXS4KCiAgICAgICAgeiA9IG4gJSAyICE9IDAgPyB4IDogUkFZOwoKICAgICAgICBmb3IgKG4gLz0gMjsgbiAhPSAwOyBuIC89IDIpIHsKICAgICAgICAgICAgeCA9IHJtdWwoeCwgeCk7CgogICAgICAgICAgICBpZiAobiAlIDIgIT0gMCkgewogICAgICAgICAgICAgICAgeiA9IHJtdWwoeiwgeCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcm1pbih1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCkgewogICAgICAgIHJldHVybiBobWluKHgsIHkpOwogICAgfQogICAgZnVuY3Rpb24gcm1heCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCkgewogICAgICAgIHJldHVybiBobWF4KHgsIHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNhc3QodWludDI1NiB4KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICBhc3NlcnQoKHogPSB1aW50MTI4KHgpKSA9PSB4KTsKICAgIH0KCn0KCgpjb250cmFjdCBEU1N0b3AgaXMgRFNBdXRoLCBEU05vdGUgewoKICAgIGJvb2wgcHVibGljIHN0b3BwZWQ7CgogICAgbW9kaWZpZXIgc3RvcHBhYmxlIHsKICAgICAgICBhc3NlcnQgKCFzdG9wcGVkKTsKICAgICAgICBfOwogICAgfQogICAgZnVuY3Rpb24gc3RvcCgpIGF1dGggbm90ZSB7CiAgICAgICAgc3RvcHBlZCA9IHRydWU7CiAgICB9CiAgICBmdW5jdGlvbiBzdGFydCgpIGF1dGggbm90ZSB7CiAgICAgICAgc3RvcHBlZCA9IGZhbHNlOwogICAgfQoKfQoKY29udHJhY3QgRVJDMjAgewogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50IHN1cHBseSk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoIGFkZHJlc3Mgd2hvICkgY29uc3RhbnQgcmV0dXJucyAodWludCB2YWx1ZSk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoIGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlciApIGNvbnN0YW50IHJldHVybnMgKHVpbnQgX2FsbG93YW5jZSk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHJldHVybnMgKGJvb2wgb2spOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKCBhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHJldHVybnMgKGJvb2wgb2spOwogICAgZnVuY3Rpb24gYXBwcm92ZSggYWRkcmVzcyBzcGVuZGVyLCB1aW50IHZhbHVlICkgcmV0dXJucyAoYm9vbCBvayk7CgogICAgZXZlbnQgVHJhbnNmZXIoIGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoIGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwp9Cgpjb250cmFjdCBEU1Rva2VuQmFzZSBpcyBFUkMyMCwgRFNNYXRoIHsKICAgIHVpbnQyNTYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdXBwbHk7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpICAgICAgICAgICAgICAgICAgICAgICBfYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpICBfYXBwcm92YWxzOwogICAgCiAgICBmdW5jdGlvbiBEU1Rva2VuQmFzZSh1aW50MjU2IHN1cHBseSkgewogICAgICAgIF9iYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHN1cHBseTsKICAgICAgICBfc3VwcGx5ID0gc3VwcGx5OwogICAgfQogICAgCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gX3N1cHBseTsKICAgIH0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHNyYykgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBfYmFsYW5jZXNbc3JjXTsKICAgIH0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIHNyYywgYWRkcmVzcyBndXkpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gX2FwcHJvdmFsc1tzcmNdW2d1eV07CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgZHN0LCB1aW50IHdhZCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGFzc2VydChfYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gd2FkKTsKICAgICAgICAKICAgICAgICBfYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzdWIoX2JhbGFuY2VzW21zZy5zZW5kZXJdLCB3YWQpOwogICAgICAgIF9iYWxhbmNlc1tkc3RdID0gYWRkKF9iYWxhbmNlc1tkc3RdLCB3YWQpOwogICAgICAgIAogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIGRzdCwgd2FkKTsKICAgICAgICAKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3Mgc3JjLCBhZGRyZXNzIGRzdCwgdWludCB3YWQpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBhc3NlcnQoX2JhbGFuY2VzW3NyY10gPj0gd2FkKTsKICAgICAgICBhc3NlcnQoX2FwcHJvdmFsc1tzcmNdW21zZy5zZW5kZXJdID49IHdhZCk7CiAgICAgICAgCiAgICAgICAgX2FwcHJvdmFsc1tzcmNdW21zZy5zZW5kZXJdID0gc3ViKF9hcHByb3ZhbHNbc3JjXVttc2cuc2VuZGVyXSwgd2FkKTsKICAgICAgICBfYmFsYW5jZXNbc3JjXSA9IHN1YihfYmFsYW5jZXNbc3JjXSwgd2FkKTsKICAgICAgICBfYmFsYW5jZXNbZHN0XSA9IGFkZChfYmFsYW5jZXNbZHN0XSwgd2FkKTsKICAgICAgICAKICAgICAgICBUcmFuc2ZlcihzcmMsIGRzdCwgd2FkKTsKICAgICAgICAKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIGd1eSwgdWludDI1NiB3YWQpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBfYXBwcm92YWxzW21zZy5zZW5kZXJdW2d1eV0gPSB3YWQ7CiAgICAgICAgCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgZ3V5LCB3YWQpOwogICAgICAgIAogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKfQoKCmNvbnRyYWN0IERTVG9rZW4gaXMgRFNUb2tlbkJhc2UoMCksIERTU3RvcCB7CgogICAgYnl0ZXMzMiAgcHVibGljICBzeW1ib2w7CiAgICB1aW50MjU2ICBwdWJsaWMgIGRlY2ltYWxzID0gMTg7IC8vIHN0YW5kYXJkIHRva2VuIHByZWNpc2lvbi4gb3ZlcnJpZGUgdG8gY3VzdG9taXplCgogICAgZnVuY3Rpb24gRFNUb2tlbihieXRlczMyIHN5bWJvbF8pIHsKICAgICAgICBzeW1ib2wgPSBzeW1ib2xfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgZHN0LCB1aW50IHdhZCkgc3RvcHBhYmxlIG5vdGUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2Zlcihkc3QsIHdhZCk7CiAgICB9CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oCiAgICAgICAgYWRkcmVzcyBzcmMsIGFkZHJlc3MgZHN0LCB1aW50IHdhZAogICAgKSBzdG9wcGFibGUgbm90ZSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShzcmMsIGRzdCwgd2FkKTsKICAgIH0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBndXksIHVpbnQgd2FkKSBzdG9wcGFibGUgbm90ZSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHN1cGVyLmFwcHJvdmUoZ3V5LCB3YWQpOwogICAgfQoKICAgIGZ1bmN0aW9uIHB1c2goYWRkcmVzcyBkc3QsIHVpbnQxMjggd2FkKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHRyYW5zZmVyKGRzdCwgd2FkKTsKICAgIH0KICAgIGZ1bmN0aW9uIHB1bGwoYWRkcmVzcyBzcmMsIHVpbnQxMjggd2FkKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHRyYW5zZmVyRnJvbShzcmMsIG1zZy5zZW5kZXIsIHdhZCk7CiAgICB9CgogICAgZnVuY3Rpb24gbWludCh1aW50MTI4IHdhZCkgYXV0aCBzdG9wcGFibGUgbm90ZSB7CiAgICAgICAgX2JhbGFuY2VzW21zZy5zZW5kZXJdID0gYWRkKF9iYWxhbmNlc1ttc2cuc2VuZGVyXSwgd2FkKTsKICAgICAgICBfc3VwcGx5ID0gYWRkKF9zdXBwbHksIHdhZCk7CiAgICB9CiAgICBmdW5jdGlvbiBidXJuKHVpbnQxMjggd2FkKSBhdXRoIHN0b3BwYWJsZSBub3RlIHsKICAgICAgICBfYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzdWIoX2JhbGFuY2VzW21zZy5zZW5kZXJdLCB3YWQpOwogICAgICAgIF9zdXBwbHkgPSBzdWIoX3N1cHBseSwgd2FkKTsKICAgIH0KCiAgICAvLyBPcHRpb25hbCB0b2tlbiBuYW1lCgogICAgYnl0ZXMzMiAgIHB1YmxpYyAgbmFtZSA9ICIiOwogICAgCiAgICBmdW5jdGlvbiBzZXROYW1lKGJ5dGVzMzIgbmFtZV8pIGF1dGggewogICAgICAgIG5hbWUgPSBuYW1lXzsKICAgIH0KCn0KCgoKY29udHJhY3QgQVZUU2FsZSBpcyBEU01hdGgsIERTTm90ZSwgRFNFeGVjIHsKICAgIFdoaXRlbGlzdCBwdWJsaWMgd2hpdGVsaXN0OwogICAgRFNUb2tlbiBwdWJsaWMgYXZ0OwoKICAgIC8vIEFWVCBQUklDRVMgKEVUSC9BVlQpCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBQUklWQVRFX1NBTEVfUFJJQ0UgPSAxMTA7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBXSElURUxJU1RfU0FMRV9QUklDRSA9IDkyOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgUFVCTElDX1NBTEVfUFJJQ0UgPSA5MjsKCiAgICB1aW50MTI4IHB1YmxpYyBjb25zdGFudCBDUk9XRFNBTEVfU1VQUExZID0gMTAwMDAwMDAgZXRoZXI7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBMSVFVSURfVE9LRU5TID0gMjUwMDAwMCBldGhlcjsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IElMTElRVUlEX1RPS0VOUyA9IDE1MDAwMDAgZXRoZXI7CgogICAgLy8gUFVSQ0hBU0UgTElNSVRTCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBQUklWQVRFX1NBTEVfTElNSVQgPSAzMDAwMDAwIGV0aGVyOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgV0hJVEVMSVNUX1NBTEVfTElNSVQgPSA1MDAwMDAwIGV0aGVyOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgUFVCTElDX1NBTEVfTElNSVQgPSA2MDAwMDAwIGV0aGVyOwoKICAgIHVpbnQgcHVibGljIHByaXZhdGVTdGFydDsKICAgIHVpbnQgcHVibGljIHdoaXRlbGlzdFN0YXJ0OwogICAgdWludCBwdWJsaWMgcHVibGljU3RhcnQ7CiAgICB1aW50IHB1YmxpYyBwdWJsaWNFbmQ7CgogICAgYWRkcmVzcyBwdWJsaWMgYXZlbnR1czsKICAgIGFkZHJlc3MgcHVibGljIHByaXZhdGVCdXllcjsKCiAgICB1aW50IHB1YmxpYyBzb2xkOwoKCiAgICBmdW5jdGlvbiBBVlRTYWxlKHVpbnQgcHJpdmF0ZVN0YXJ0XywgYWRkcmVzcyBhdmVudHVzXywgYWRkcmVzcyBwcml2YXRlQnV5ZXJfLCBXaGl0ZWxpc3Qgd2hpdGVsaXN0XykgewogICAgICAgIGF2dCA9IG5ldyBEU1Rva2VuKCJBVlQiKTsKICAgICAgICAKICAgICAgICBhdmVudHVzID0gYXZlbnR1c187CiAgICAgICAgcHJpdmF0ZUJ1eWVyID0gcHJpdmF0ZUJ1eWVyXzsKICAgICAgICB3aGl0ZWxpc3QgPSB3aGl0ZWxpc3RfOwogICAgICAgIAogICAgICAgIHByaXZhdGVTdGFydCA9IHByaXZhdGVTdGFydF87CiAgICAgICAgd2hpdGVsaXN0U3RhcnQgPSBwcml2YXRlU3RhcnQgKyAyIGRheXM7CiAgICAgICAgcHVibGljU3RhcnQgPSB3aGl0ZWxpc3RTdGFydCArIDEgZGF5czsKICAgICAgICBwdWJsaWNFbmQgPSBwdWJsaWNTdGFydCArIDcgZGF5czsKCiAgICAgICAgYXZ0Lm1pbnQoQ1JPV0RTQUxFX1NVUFBMWSk7CiAgICAgICAgYXZ0LnNldE93bmVyKGF2ZW50dXMpOwogICAgICAgIGF2dC50cmFuc2ZlcihhdmVudHVzLCBMSVFVSURfVE9LRU5TKTsKICAgIH0KCiAgICAvLyBvdmVycmlkZWFibGUgZm9yIGVhc3kgdGVzdGluZwogICAgZnVuY3Rpb24gdGltZSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gbm93OwogICAgfQoKICAgIGZ1bmN0aW9uKCkgcGF5YWJsZSBub3RlIHsKICAgICAgICB2YXIgKHJhdGUsIGxpbWl0KSA9IGdldFJhdGVMaW1pdCgpOwoKICAgICAgICB1aW50IHByaXplID0gbXVsKG1zZy52YWx1ZSwgcmF0ZSk7CgogICAgICAgIGFzc2VydChhZGQoc29sZCwgcHJpemUpIDw9IGxpbWl0KTsKCiAgICAgICAgc29sZCA9IGFkZChzb2xkLCBwcml6ZSk7CgogICAgICAgIGF2dC50cmFuc2Zlcihtc2cuc2VuZGVyLCBwcml6ZSk7CiAgICAgICAgZXhlYyhhdmVudHVzLCBtc2cudmFsdWUpOyAvLyBzZW5kIHRoZSBFVEggdG8gbXVsdGlzaWcKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRSYXRlTGltaXQoKSBwcml2YXRlIGNvbnN0YW50IHJldHVybnMgKHVpbnQsIHVpbnQpIHsKICAgICAgICB1aW50IHQgPSB0aW1lKCk7CgogICAgICAgIGlmICh0ID49IHByaXZhdGVTdGFydCAmJiB0IDwgd2hpdGVsaXN0U3RhcnQpIHsKICAgICAgICAgICAgYXNzZXJ0IChtc2cuc2VuZGVyID09IHByaXZhdGVCdXllcik7CgogICAgICAgICAgICByZXR1cm4gKFBSSVZBVEVfU0FMRV9QUklDRSwgUFJJVkFURV9TQUxFX0xJTUlUKTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAodCA+PSB3aGl0ZWxpc3RTdGFydCAmJiB0IDwgcHVibGljU3RhcnQpIHsKICAgICAgICAgICAgdWludCBhbGxvd2FuY2UgPSB3aGl0ZWxpc3QuYWNjZXB0ZWQobXNnLnNlbmRlcik7CgogICAgICAgICAgICBhc3NlcnQgKGFsbG93YW5jZSA+PSBtc2cudmFsdWUpOwoKICAgICAgICAgICAgd2hpdGVsaXN0LmFjY2VwdChtc2cuc2VuZGVyLCBhbGxvd2FuY2UgLSBtc2cudmFsdWUpOwoKICAgICAgICAgICAgcmV0dXJuIChXSElURUxJU1RfU0FMRV9QUklDRSwgV0hJVEVMSVNUX1NBTEVfTElNSVQpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmICh0ID49IHB1YmxpY1N0YXJ0ICYmIHQgPCBwdWJsaWNFbmQpCiAgICAgICAgICAgIHJldHVybiAoUFVCTElDX1NBTEVfUFJJQ0UsIFBVQkxJQ19TQUxFX0xJTUlUKTsKCiAgICAgICAgdGhyb3c7CiAgICB9CgogICAgZnVuY3Rpb24gY2xhaW0oKSB7CiAgICAgICAgYXNzZXJ0KHRpbWUoKSA+PSBwdWJsaWNTdGFydCArIDEgeWVhcnMpOwoKICAgICAgICBhdnQudHJhbnNmZXIoYXZlbnR1cywgSUxMSVFVSURfVE9LRU5TKTsKICAgIH0KfQ=='.
	

]
