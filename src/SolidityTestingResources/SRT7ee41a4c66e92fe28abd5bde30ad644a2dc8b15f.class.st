Class {
	#name : #SRT7ee41a4c66e92fe28abd5bde30ad644a2dc8b15f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT7ee41a4c66e92fe28abd5bde30ad644a2dc8b15f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuNjsKCgovKgogICAgQ29weXJpZ2h0IDIwMTYsIEpvcmRpIEJheWxpbmEKCiAgICBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQogICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yCiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLgoKICAgIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAogICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUKICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgogICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKICAgIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgogKi8KCi8vLyBAdGl0bGUgVmF1bHQgQ29udHJhY3QKLy8vIEBhdXRob3IgSm9yZGkgQmF5bGluYQovLy8gQG5vdGljZSBUaGlzIGNvbnRyYWN0IGhvbGRzIGZ1bmRzIGZvciBDYW1wYWlnbnMgYW5kIGF1dG9tYXRlcyBwYXltZW50cy4gRm9yCi8vLyAgdGhpcyBpdGVyYXRpb24gdGhlIGZ1bmRzIHdpbGwgY29tZSBzdHJhaWdodCBmcm9tIHRoZSBHaXZldGggTXVsdGlzaWcgYXMgYQovLy8gIHNhZmV0eSBwcmVjYXV0aW9uLCBidXQgb25jZSBmdWxseSB0ZXN0ZWQgYW5kIG9wdGltaXplZCB0aGlzIGNvbnRyYWN0IHdpbGwKLy8vICBiZSBhIHNhZmUgcGxhY2UgdG8gc3RvcmUgZnVuZHMgZXF1aXBwZWQgd2l0aCBvcHRpb25hbCB2YXJpYWJsZSB0aW1lIGRlbGF5cwovLy8gIHRvIGFsbG93IGZvciBhbiBvcHRpb25hbCBlc2NhcGUgaGF0Y2gKCi8vLyBAZGV2IGBPd25lZGAgaXMgYSBiYXNlIGxldmVsIGNvbnRyYWN0IHRoYXQgYXNzaWducyBhbiBgb3duZXJgIHRoYXQgY2FuIGJlCi8vLyAgbGF0ZXIgY2hhbmdlZApjb250cmFjdCBPd25lZCB7CiAgICAvLy8gQGRldiBgb3duZXJgIGlzIHRoZSBvbmx5IGFkZHJlc3MgdGhhdCBjYW4gY2FsbCBhIGZ1bmN0aW9uIHdpdGggdGhpcwogICAgLy8vIG1vZGlmaWVyCiAgICBtb2RpZmllciBvbmx5T3duZXIgeyBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgdGhyb3c7IF87IH0KCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICAvLy8gQG5vdGljZSBUaGUgQ29uc3RydWN0b3IgYXNzaWducyB0aGUgbWVzc2FnZSBzZW5kZXIgdG8gYmUgYG93bmVyYAogICAgZnVuY3Rpb24gT3duZWQoKSB7IG93bmVyID0gbXNnLnNlbmRlcjt9CgogICAgLy8vIEBub3RpY2UgYG93bmVyYCBjYW4gc3RlcCBkb3duIGFuZCBhc3NpZ24gc29tZSBvdGhlciBhZGRyZXNzIHRvIHRoaXMgcm9sZQogICAgLy8vIEBwYXJhbSBfbmV3T3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIG5ldyBvd25lci4gMHgwIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZQogICAgLy8vICBhbiB1bm93bmVkIG5ldXRyYWwgdmF1bHQsIGhvd2V2ZXIgdGhhdCBjYW5ub3QgYmUgdW5kb25lCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIF9uZXdPd25lcikgb25seU93bmVyIHsKICAgICAgICBvd25lciA9IF9uZXdPd25lcjsKICAgIH0KfQovLy8gQGRldiBgRXNjYXBhYmxlYCBpcyBhIGJhc2UgbGV2ZWwgY29udHJhY3QgYnVpbHQgb2ZmIG9mIHRoZSBgT3duZWRgCi8vLyAgY29udHJhY3QgdGhhdCBjcmVhdGVzIGFuIGVzY2FwZSBoYXRjaCBmdW5jdGlvbiB0byBzZW5kIGl0cyBldGhlciB0bwovLy8gIGBlc2NhcGVEZXN0aW5hdGlvbmAgd2hlbiBjYWxsZWQgYnkgdGhlIGBlc2NhcGVDYWxsZXJgIGluIHRoZSBjYXNlIHRoYXQKLy8vICBzb21ldGhpbmcgdW5leHBlY3RlZCBoYXBwZW5zCmNvbnRyYWN0IEVzY2FwYWJsZSBpcyBPd25lZCB7CiAgICBhZGRyZXNzIHB1YmxpYyBlc2NhcGVDYWxsZXI7CiAgICBhZGRyZXNzIHB1YmxpYyBlc2NhcGVEZXN0aW5hdGlvbjsKCiAgICAvLy8gQG5vdGljZSBUaGUgQ29uc3RydWN0b3IgYXNzaWducyB0aGUgYGVzY2FwZURlc3RpbmF0aW9uYCBhbmQgdGhlCiAgICAvLy8gIGBlc2NhcGVDYWxsZXJgCiAgICAvLy8gQHBhcmFtIF9lc2NhcGVEZXN0aW5hdGlvbiBUaGUgYWRkcmVzcyBvZiBhIHNhZmUgbG9jYXRpb24gKHVzdSBhCiAgICAvLy8gIE11bHRpc2lnKSB0byBzZW5kIHRoZSBldGhlciBoZWxkIGluIHRoaXMgY29udHJhY3QKICAgIC8vLyBAcGFyYW0gX2VzY2FwZUNhbGxlciBUaGUgYWRkcmVzcyBvZiBhIHRydXN0ZWQgYWNjb3VudCBvciBjb250cmFjdCB0bwogICAgLy8vICBjYWxsIGBlc2NhcGVIYXRjaCgpYCB0byBzZW5kIHRoZSBldGhlciBpbiB0aGlzIGNvbnRyYWN0IHRvIHRoZQogICAgLy8vICBgZXNjYXBlRGVzdGluYXRpb25gIGl0IHdvdWxkIGJlIGlkZWFsIHRoYXQgYGVzY2FwZUNhbGxlcmAgY2Fubm90IG1vdmUKICAgIC8vLyAgZnVuZHMgb3V0IG9mIGBlc2NhcGVEZXN0aW5hdGlvbmAKICAgIGZ1bmN0aW9uIEVzY2FwYWJsZShhZGRyZXNzIF9lc2NhcGVDYWxsZXIsIGFkZHJlc3MgX2VzY2FwZURlc3RpbmF0aW9uKSB7CiAgICAgICAgZXNjYXBlQ2FsbGVyID0gX2VzY2FwZUNhbGxlcjsKICAgICAgICBlc2NhcGVEZXN0aW5hdGlvbiA9IF9lc2NhcGVEZXN0aW5hdGlvbjsKICAgIH0KCiAgICAvLy8gQGRldiBUaGUgYWRkcmVzc2VzIHByZWFzc2lnbmVkIHRoZSBgZXNjYXBlQ2FsbGVyYCByb2xlCiAgICAvLy8gIGlzIHRoZSBvbmx5IGFkZHJlc3NlcyB0aGF0IGNhbiBjYWxsIGEgZnVuY3Rpb24gd2l0aCB0aGlzIG1vZGlmaWVyCiAgICBtb2RpZmllciBvbmx5RXNjYXBlQ2FsbGVyT3JPd25lciB7CiAgICAgICAgaWYgKChtc2cuc2VuZGVyICE9IGVzY2FwZUNhbGxlcikmJihtc2cuc2VuZGVyICE9IG93bmVyKSkKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBUaGUgYGVzY2FwZUhhdGNoKClgIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBhcyBhIGxhc3QgcmVzb3J0IGlmIGEKICAgIC8vLyBzZWN1cml0eSBpc3N1ZSBpcyB1bmNvdmVyZWQgb3Igc29tZXRoaW5nIHVuZXhwZWN0ZWQgaGFwcGVuZWQKICAgIGZ1bmN0aW9uIGVzY2FwZUhhdGNoKCkgb25seUVzY2FwZUNhbGxlck9yT3duZXIgewogICAgICAgIHVpbnQgdG90YWwgPSB0aGlzLmJhbGFuY2U7CiAgICAgICAgLy8gU2VuZCB0aGUgdG90YWwgYmFsYW5jZSBvZiB0aGlzIGNvbnRyYWN0IHRvIHRoZSBgZXNjYXBlRGVzdGluYXRpb25gCiAgICAgICAgaWYgKCFlc2NhcGVEZXN0aW5hdGlvbi5zZW5kKHRvdGFsKSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgRXNjYXBlQ2FsbGVkKHRvdGFsKTsKICAgIH0KICAgIC8vLyBAbm90aWNlIENoYW5nZXMgdGhlIGFkZHJlc3MgYXNzaWduZWQgdG8gY2FsbCBgZXNjYXBlSGF0Y2goKWAKICAgIC8vLyBAcGFyYW0gX25ld0VzY2FwZUNhbGxlciBUaGUgYWRkcmVzcyBvZiBhIHRydXN0ZWQgYWNjb3VudCBvciBjb250cmFjdCB0bwogICAgLy8vICBjYWxsIGBlc2NhcGVIYXRjaCgpYCB0byBzZW5kIHRoZSBldGhlciBpbiB0aGlzIGNvbnRyYWN0IHRvIHRoZQogICAgLy8vICBgZXNjYXBlRGVzdGluYXRpb25gIGl0IHdvdWxkIGJlIGlkZWFsIHRoYXQgYGVzY2FwZUNhbGxlcmAgY2Fubm90CiAgICAvLy8gIG1vdmUgZnVuZHMgb3V0IG9mIGBlc2NhcGVEZXN0aW5hdGlvbmAKICAgIGZ1bmN0aW9uIGNoYW5nZUVzY2FwZUNhbGxlcihhZGRyZXNzIF9uZXdFc2NhcGVDYWxsZXIpIG9ubHlFc2NhcGVDYWxsZXJPck93bmVyIHsKICAgICAgICBlc2NhcGVDYWxsZXIgPSBfbmV3RXNjYXBlQ2FsbGVyOwogICAgfQoKICAgIGV2ZW50IEVzY2FwZUNhbGxlZCh1aW50IGFtb3VudCk7Cn0KCi8vLyBAZGV2IGBWYXVsdGAgaXMgYSBoaWdoZXIgbGV2ZWwgY29udHJhY3QgYnVpbHQgb2ZmIG9mIHRoZSBgRXNjYXBhYmxlYAovLy8gIGNvbnRyYWN0IHRoYXQgaG9sZHMgZnVuZHMgZm9yIENhbXBhaWducyBhbmQgYXV0b21hdGVzIHBheW1lbnRzLgpjb250cmFjdCBWYXVsdCBpcyBFc2NhcGFibGUgewoKICAgIC8vLyBAZGV2IGBQYXltZW50YCBpcyBhIHB1YmxpYyBzdHJ1Y3R1cmUgdGhhdCBkZXNjcmliZXMgdGhlIGRldGFpbHMgb2YKICAgIC8vLyAgZWFjaCBwYXltZW50IG1ha2luZyBpdCBlYXN5IHRvIHRyYWNrIHRoZSBtb3ZlbWVudCBvZiBmdW5kcwogICAgLy8vICB0cmFuc3BhcmVudGx5CiAgICBzdHJ1Y3QgUGF5bWVudCB7CiAgICAgICAgc3RyaW5nIGRlc2NyaXB0aW9uOyAgICAgLy8gV2hhdCBpcyB0aGUgcHVycG9zZSBvZiB0aGlzIHBheW1lbnQKICAgICAgICBhZGRyZXNzIHNwZW5kZXI7ICAgICAgICAvLyBXaG8gaXMgc2VuZGluZyB0aGUgZnVuZHMKICAgICAgICB1aW50IGVhcmxpZXN0UGF5VGltZTsgICAvLyBUaGUgZWFybGllc3QgYSBwYXltZW50IGNhbiBiZSBtYWRlIChVbml4IFRpbWUpCiAgICAgICAgYm9vbCBjYW5jZWxlZDsgICAgICAgICAvLyBJZiBUcnVlIHRoZW4gdGhlIHBheW1lbnQgaGFzIGJlZW4gY2FuY2VsZWQKICAgICAgICBib29sIHBhaWQ7ICAgICAgICAgICAgICAvLyBJZiBUcnVlIHRoZW4gdGhlIHBheW1lbnQgaGFzIGJlZW4gcGFpZAogICAgICAgIGFkZHJlc3MgcmVjaXBpZW50OyAgICAgIC8vIFdobyBpcyByZWNlaXZpbmcgdGhlIGZ1bmRzCiAgICAgICAgdWludCBhbW91bnQ7ICAgICAgICAgICAgLy8gVGhlIGFtb3VudCBvZiB3ZWkgc2VudCBpbiB0aGUgcGF5bWVudAogICAgICAgIHVpbnQgc2VjdXJpdHlHdWFyZERlbGF5Oy8vIFRoZSBzZWNvbmRzIGBzZWN1cml0eUd1YXJkYCBjYW4gZGVsYXkgcGF5bWVudAogICAgfQoKICAgIFBheW1lbnRbXSBwdWJsaWMgYXV0aG9yaXplZFBheW1lbnRzOwoKICAgIGFkZHJlc3MgcHVibGljIHNlY3VyaXR5R3VhcmQ7CiAgICB1aW50IHB1YmxpYyBhYnNvbHV0ZU1pblRpbWVMb2NrOwogICAgdWludCBwdWJsaWMgdGltZUxvY2s7CiAgICB1aW50IHB1YmxpYyBtYXhTZWN1cml0eUd1YXJkRGVsYXk7CgogICAgLy8vIEBkZXYgVGhlIHdoaXRlIGxpc3Qgb2YgYXBwcm92ZWQgYWRkcmVzc2VzIGFsbG93ZWQgdG8gc2V0IHVwICYmIHJlY2VpdmUKICAgIC8vLyAgcGF5bWVudHMgZnJvbSB0aGlzIHZhdWx0CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBhbGxvd2VkU3BlbmRlcnM7CgogICAgLy8vIEBkZXYgVGhlIGFkZHJlc3MgYXNzaWduZWQgdGhlIHJvbGUgb2YgYHNlY3VyaXR5R3VhcmRgIGlzIHRoZSBvbmx5CiAgICAvLy8gIGFkZHJlc3NlcyB0aGF0IGNhbiBjYWxsIGEgZnVuY3Rpb24gd2l0aCB0aGlzIG1vZGlmaWVyCiAgICBtb2RpZmllciBvbmx5U2VjdXJpdHlHdWFyZCB7IGlmIChtc2cuc2VuZGVyICE9IHNlY3VyaXR5R3VhcmQpIHRocm93OyBfOyB9CgogICAgLy8gQGRldiBFdmVudHMgdG8gbWFrZSB0aGUgcGF5bWVudCBtb3ZlbWVudHMgZWFzeSB0byBmaW5kIG9uIHRoZSBibG9ja2NoYWluCiAgICBldmVudCBQYXltZW50QXV0aG9yaXplZCh1aW50IGluZGV4ZWQgaWRQYXltZW50LCBhZGRyZXNzIGluZGV4ZWQgcmVjaXBpZW50LCB1aW50IGFtb3VudCk7CiAgICBldmVudCBQYXltZW50RXhlY3V0ZWQodWludCBpbmRleGVkIGlkUGF5bWVudCwgYWRkcmVzcyBpbmRleGVkIHJlY2lwaWVudCwgdWludCBhbW91bnQpOwogICAgZXZlbnQgUGF5bWVudENhbmNlbGVkKHVpbnQgaW5kZXhlZCBpZFBheW1lbnQpOwogICAgZXZlbnQgRXRoZXJSZWNlaXZlZChhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludCBhbW91bnQpOwogICAgZXZlbnQgU3BlbmRlckF1dGhvcml6YXRpb24oYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIGJvb2wgYXV0aG9yaXplZCk7CgovLy8vLy8vLy8KLy8gQ29uc3RydWN0b3IKLy8vLy8vLy8vCgogICAgLy8vIEBub3RpY2UgVGhlIENvbnN0cnVjdG9yIGNyZWF0ZXMgdGhlIFZhdWx0IG9uIHRoZSBibG9ja2NoYWluCiAgICAvLy8gQHBhcmFtIF9lc2NhcGVDYWxsZXIgVGhlIGFkZHJlc3Mgb2YgYSB0cnVzdGVkIGFjY291bnQgb3IgY29udHJhY3QgdG8KICAgIC8vLyAgY2FsbCBgZXNjYXBlSGF0Y2goKWAgdG8gc2VuZCB0aGUgZXRoZXIgaW4gdGhpcyBjb250cmFjdCB0byB0aGUKICAgIC8vLyAgYGVzY2FwZURlc3RpbmF0aW9uYCBpdCB3b3VsZCBiZSBpZGVhbCBpZiBgZXNjYXBlQ2FsbGVyYCBjYW5ub3QgbW92ZQogICAgLy8vICBmdW5kcyBvdXQgb2YgYGVzY2FwZURlc3RpbmF0aW9uYAogICAgLy8vIEBwYXJhbSBfZXNjYXBlRGVzdGluYXRpb24gVGhlIGFkZHJlc3Mgb2YgYSBzYWZlIGxvY2F0aW9uICh1c3UgYQogICAgLy8vICBNdWx0aXNpZykgdG8gc2VuZCB0aGUgZXRoZXIgaGVsZCBpbiB0aGlzIGNvbnRyYWN0IGluIGFuIGVtZXJnZW5jeQogICAgLy8vIEBwYXJhbSBfYWJzb2x1dGVNaW5UaW1lTG9jayBUaGUgbWluaW11bSBudW1iZXIgb2Ygc2Vjb25kcyBgdGltZWxvY2tgIGNhbgogICAgLy8vICBiZSBzZXQgdG8sIGlmIHNldCB0byAwIHRoZSBgb3duZXJgIGNhbiByZW1vdmUgdGhlIGB0aW1lTG9ja2AgY29tcGxldGVseQogICAgLy8vIEBwYXJhbSBfdGltZUxvY2sgSW5pdGlhbCBudW1iZXIgb2Ygc2Vjb25kcyB0aGF0IHBheW1lbnRzIGFyZSBkZWxheWVkCiAgICAvLy8gIGFmdGVyIHRoZXkgYXJlIGF1dGhvcml6ZWQgKGEgc2VjdXJpdHkgcHJlY2F1dGlvbikKICAgIC8vLyBAcGFyYW0gX3NlY3VyaXR5R3VhcmQgQWRkcmVzcyB0aGF0IHdpbGwgYmUgYWJsZSB0byBkZWxheSB0aGUgcGF5bWVudHMKICAgIC8vLyAgYmV5b25kIHRoZSBpbml0aWFsIHRpbWVsb2NrIHJlcXVpcmVtZW50czsgY2FuIGJlIHNldCB0byAweDAgdG8gcmVtb3ZlCiAgICAvLy8gIHRoZSBgc2VjdXJpdHlHdWFyZGAgZnVuY3Rpb25hbGl0eQogICAgLy8vIEBwYXJhbSBfbWF4U2VjdXJpdHlHdWFyZERlbGF5IFRoZSBtYXhpbXVtIG51bWJlciBvZiBzZWNvbmRzIGluIHRvdGFsCiAgICAvLy8gICB0aGF0IGBzZWN1cml0eUd1YXJkYCBjYW4gZGVsYXkgYSBwYXltZW50IHNvIHRoYXQgdGhlIG93bmVyIGNhbiBjYW5jZWwKICAgIC8vLyAgIHRoZSBwYXltZW50IGlmIG5lZWRlZAogICAgZnVuY3Rpb24gVmF1bHQoCiAgICAgICAgYWRkcmVzcyBfZXNjYXBlQ2FsbGVyLAogICAgICAgIGFkZHJlc3MgX2VzY2FwZURlc3RpbmF0aW9uLAogICAgICAgIHVpbnQgX2Fic29sdXRlTWluVGltZUxvY2ssCiAgICAgICAgdWludCBfdGltZUxvY2ssCiAgICAgICAgYWRkcmVzcyBfc2VjdXJpdHlHdWFyZCwKICAgICAgICB1aW50IF9tYXhTZWN1cml0eUd1YXJkRGVsYXkpIEVzY2FwYWJsZShfZXNjYXBlQ2FsbGVyLCBfZXNjYXBlRGVzdGluYXRpb24pCiAgICB7CiAgICAgICAgYWJzb2x1dGVNaW5UaW1lTG9jayA9IF9hYnNvbHV0ZU1pblRpbWVMb2NrOwogICAgICAgIHRpbWVMb2NrID0gX3RpbWVMb2NrOwogICAgICAgIHNlY3VyaXR5R3VhcmQgPSBfc2VjdXJpdHlHdWFyZDsKICAgICAgICBtYXhTZWN1cml0eUd1YXJkRGVsYXkgPSBfbWF4U2VjdXJpdHlHdWFyZERlbGF5OwogICAgfQoKLy8vLy8vLy8vCi8vIEhlbHBlciBmdW5jdGlvbnMKLy8vLy8vLy8vCgogICAgLy8vIEBub3RpY2UgU3RhdGVzIHRoZSB0b3RhbCBudW1iZXIgb2YgYXV0aG9yaXplZCBwYXltZW50cyBpbiB0aGlzIGNvbnRyYWN0CiAgICAvLy8gQHJldHVybiBUaGUgbnVtYmVyIG9mIHBheW1lbnRzIGV2ZXIgYXV0aG9yaXplZCBldmVuIGlmIHRoZXkgd2VyZSBjYW5jZWxlZAogICAgZnVuY3Rpb24gbnVtYmVyT2ZBdXRob3JpemVkUGF5bWVudHMoKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIGF1dGhvcml6ZWRQYXltZW50cy5sZW5ndGg7CiAgICB9CgovLy8vLy8KLy8gUmVjZWl2ZSBFdGhlcgovLy8vLy8KCiAgICAvLy8gQG5vdGljZSBDYWxsZWQgYW55dGltZSBldGhlciBpcyBzZW50IHRvIHRoZSBjb250cmFjdCAmJiBjcmVhdGVzIGFuIGV2ZW50CiAgICAvLy8gdG8gbW9yZSBlYXNpbHkgdHJhY2sgdGhlIGluY29taW5nIHRyYW5zYWN0aW9ucwogICAgZnVuY3Rpb24gcmVjZWl2ZUV0aGVyKCkgcGF5YWJsZSB7CiAgICAgICAgRXRoZXJSZWNlaXZlZChtc2cuc2VuZGVyLCBtc2cudmFsdWUpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFRoZSBmYWxsIGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW5ldmVyIGV0aGVyIGlzIHNlbnQgdG8gdGhpcwogICAgLy8vICBjb250cmFjdAogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7CiAgICAgICAgcmVjZWl2ZUV0aGVyKCk7CiAgICB9CgovLy8vLy8vLwovLyBTcGVuZGVyIEludGVyZmFjZQovLy8vLy8vLwoKICAgIC8vLyBAbm90aWNlIG9ubHkgYGFsbG93ZWRTcGVuZGVyc1tdYCBDcmVhdGVzIGEgbmV3IGBQYXltZW50YAogICAgLy8vIEBwYXJhbSBfZGVzY3JpcHRpb24gQnJpZWYgZGVzY3JpcHRpb24gb2YgdGhlIHBheW1lbnQgdGhhdCBpcyBhdXRob3JpemVkCiAgICAvLy8gQHBhcmFtIF9yZWNpcGllbnQgRGVzdGluYXRpb24gb2YgdGhlIHBheW1lbnQKICAgIC8vLyBAcGFyYW0gX2Ftb3VudCBBbW91bnQgdG8gYmUgcGFpZCBpbiB3ZWkKICAgIC8vLyBAcGFyYW0gX3BheW1lbnREZWxheSBOdW1iZXIgb2Ygc2Vjb25kcyB0aGUgcGF5bWVudCBpcyB0byBiZSBkZWxheWVkLCBpZgogICAgLy8vICB0aGlzIHZhbHVlIGlzIGJlbG93IGB0aW1lTG9ja2AgdGhlbiB0aGUgYHRpbWVMb2NrYCBkZXRlcm1pbmVzIHRoZSBkZWxheQogICAgLy8vIEByZXR1cm4gVGhlIFBheW1lbnQgSUQgbnVtYmVyIGZvciB0aGUgbmV3IGF1dGhvcml6ZWQgcGF5bWVudAogICAgZnVuY3Rpb24gYXV0aG9yaXplUGF5bWVudCgKICAgICAgICBzdHJpbmcgX2Rlc2NyaXB0aW9uLAogICAgICAgIGFkZHJlc3MgX3JlY2lwaWVudCwKICAgICAgICB1aW50IF9hbW91bnQsCiAgICAgICAgdWludCBfcGF5bWVudERlbGF5CiAgICApIHJldHVybnModWludCkgewoKICAgICAgICAvLyBGYWlsIGlmIHlvdSBhcmVudCBvbiB0aGUgYGFsbG93ZWRTcGVuZGVyc2Agd2hpdGUgbGlzdAogICAgICAgIGlmICghYWxsb3dlZFNwZW5kZXJzW21zZy5zZW5kZXJdICkgdGhyb3c7CiAgICAgICAgdWludCBpZFBheW1lbnQgPSBhdXRob3JpemVkUGF5bWVudHMubGVuZ3RoOyAgICAgICAvLyBVbmlxdWUgUGF5bWVudCBJRAogICAgICAgIGF1dGhvcml6ZWRQYXltZW50cy5sZW5ndGgrKzsKCiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBsaW5lcyBmaWxsIG91dCB0aGUgcGF5bWVudCBzdHJ1Y3QKICAgICAgICBQYXltZW50IHAgPSBhdXRob3JpemVkUGF5bWVudHNbaWRQYXltZW50XTsKICAgICAgICBwLnNwZW5kZXIgPSBtc2cuc2VuZGVyOwoKICAgICAgICAvLyBEZXRlcm1pbmVzIHRoZSBlYXJsaWVzdCB0aGUgcmVjaXBpZW50IGNhbiByZWNlaXZlIHBheW1lbnQgKFVuaXggdGltZSkKICAgICAgICBwLmVhcmxpZXN0UGF5VGltZSA9IF9wYXltZW50RGVsYXkgPj0gdGltZUxvY2sgPwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyArIF9wYXltZW50RGVsYXkgOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyArIHRpbWVMb2NrOwogICAgICAgIHAucmVjaXBpZW50ID0gX3JlY2lwaWVudDsKICAgICAgICBwLmFtb3VudCA9IF9hbW91bnQ7CiAgICAgICAgcC5kZXNjcmlwdGlvbiA9IF9kZXNjcmlwdGlvbjsKICAgICAgICBQYXltZW50QXV0aG9yaXplZChpZFBheW1lbnQsIHAucmVjaXBpZW50LCBwLmFtb3VudCk7CiAgICAgICAgcmV0dXJuIGlkUGF5bWVudDsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBvbmx5IGBhbGxvd2VkU3BlbmRlcnNbXWAgVGhlIHJlY2lwaWVudCBvZiBhIHBheW1lbnQgY2FsbHMgdGhpcwogICAgLy8vICBmdW5jdGlvbiB0byBzZW5kIHRoZW1zZWx2ZXMgdGhlIGV0aGVyIGFmdGVyIHRoZSBgZWFybGllc3RQYXlUaW1lYCBoYXMKICAgIC8vLyAgZXhwaXJlZAogICAgLy8vIEBwYXJhbSBfaWRQYXltZW50IFRoZSBwYXltZW50IElEIHRvIGJlIGV4ZWN1dGVkCiAgICBmdW5jdGlvbiBjb2xsZWN0QXV0aG9yaXplZFBheW1lbnQodWludCBfaWRQYXltZW50KSB7CgogICAgICAgIC8vIENoZWNrIHRoYXQgdGhlIGBfaWRQYXltZW50YCBoYXMgYmVlbiBhZGRlZCB0byB0aGUgcGF5bWVudHMgc3RydWN0CiAgICAgICAgaWYgKF9pZFBheW1lbnQgPj0gYXV0aG9yaXplZFBheW1lbnRzLmxlbmd0aCkgdGhyb3c7CgogICAgICAgIFBheW1lbnQgcCA9IGF1dGhvcml6ZWRQYXltZW50c1tfaWRQYXltZW50XTsKCiAgICAgICAgLy8gQ2hlY2tpbmcgZm9yIHJlYXNvbnMgbm90IHRvIGV4ZWN1dGUgdGhlIHBheW1lbnQKICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBwLnJlY2lwaWVudCkgdGhyb3c7CiAgICAgICAgaWYgKCFhbGxvd2VkU3BlbmRlcnNbcC5zcGVuZGVyXSkgdGhyb3c7CiAgICAgICAgaWYgKG5vdyA8IHAuZWFybGllc3RQYXlUaW1lKSB0aHJvdzsKICAgICAgICBpZiAocC5jYW5jZWxlZCkgdGhyb3c7CiAgICAgICAgaWYgKHAucGFpZCkgdGhyb3c7CiAgICAgICAgaWYgKHRoaXMuYmFsYW5jZSA8IHAuYW1vdW50KSB0aHJvdzsKCiAgICAgICAgcC5wYWlkID0gdHJ1ZTsgLy8gU2V0IHRoZSBwYXltZW50IHRvIGJlaW5nIHBhaWQKICAgICAgICBpZiAoIXAucmVjaXBpZW50LnNlbmQocC5hbW91bnQpKSB7ICAvLyBNYWtlIHRoZSBwYXltZW50CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgICAgICBQYXltZW50RXhlY3V0ZWQoX2lkUGF5bWVudCwgcC5yZWNpcGllbnQsIHAuYW1vdW50KTsKICAgICB9CgovLy8vLy8vLy8KLy8gU2VjdXJpdHlHdWFyZCBJbnRlcmZhY2UKLy8vLy8vLy8vCgogICAgLy8vIEBub3RpY2UgYG9ubHlTZWN1cml0eUd1YXJkYCBEZWxheXMgYSBwYXltZW50IGZvciBhIHNldCBudW1iZXIgb2Ygc2Vjb25kcwogICAgLy8vIEBwYXJhbSBfaWRQYXltZW50IElEIG9mIHRoZSBwYXltZW50IHRvIGJlIGRlbGF5ZWQKICAgIC8vLyBAcGFyYW0gX2RlbGF5IFRoZSBudW1iZXIgb2Ygc2Vjb25kcyB0byBkZWxheSB0aGUgcGF5bWVudAogICAgZnVuY3Rpb24gZGVsYXlQYXltZW50KHVpbnQgX2lkUGF5bWVudCwgdWludCBfZGVsYXkpIG9ubHlTZWN1cml0eUd1YXJkIHsKICAgICAgICBpZiAoX2lkUGF5bWVudCA+PSBhdXRob3JpemVkUGF5bWVudHMubGVuZ3RoKSB0aHJvdzsKCiAgICAgICAgUGF5bWVudCBwID0gYXV0aG9yaXplZFBheW1lbnRzW19pZFBheW1lbnRdOwoKICAgICAgICBpZiAoKHAuc2VjdXJpdHlHdWFyZERlbGF5ICsgX2RlbGF5ID4gbWF4U2VjdXJpdHlHdWFyZERlbGF5KSB8fAogICAgICAgICAgICAocC5wYWlkKSB8fAogICAgICAgICAgICAocC5jYW5jZWxlZCkpCiAgICAgICAgICAgIHRocm93OwoKICAgICAgICBwLnNlY3VyaXR5R3VhcmREZWxheSArPSBfZGVsYXk7CiAgICAgICAgcC5lYXJsaWVzdFBheVRpbWUgKz0gX2RlbGF5OwogICAgfQoKLy8vLy8vLy8KLy8gT3duZXIgSW50ZXJmYWNlCi8vLy8vLy8KCiAgICAvLy8gQG5vdGljZSBgb25seU93bmVyYCBDYW5jZWwgYSBwYXltZW50IGFsbCB0b2dldGhlcgogICAgLy8vIEBwYXJhbSBfaWRQYXltZW50IElEIG9mIHRoZSBwYXltZW50IHRvIGJlIGNhbmNlbGVkLgogICAgZnVuY3Rpb24gY2FuY2VsUGF5bWVudCh1aW50IF9pZFBheW1lbnQpIG9ubHlPd25lciB7CiAgICAgICAgaWYgKF9pZFBheW1lbnQgPj0gYXV0aG9yaXplZFBheW1lbnRzLmxlbmd0aCkgdGhyb3c7CgogICAgICAgIFBheW1lbnQgcCA9IGF1dGhvcml6ZWRQYXltZW50c1tfaWRQYXltZW50XTsKCgogICAgICAgIGlmIChwLmNhbmNlbGVkKSB0aHJvdzsKICAgICAgICBpZiAocC5wYWlkKSB0aHJvdzsKCiAgICAgICAgcC5jYW5jZWxlZCA9IHRydWU7CiAgICAgICAgUGF5bWVudENhbmNlbGVkKF9pZFBheW1lbnQpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIGBvbmx5T3duZXJgIEFkZHMgYSBzcGVuZGVyIHRvIHRoZSBgYWxsb3dlZFNwZW5kZXJzW11gIHdoaXRlIGxpc3QKICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGNvbnRyYWN0IGJlaW5nIGF1dGhvcml6ZWQvdW5hdXRob3JpemVkCiAgICAvLy8gQHBhcmFtIF9hdXRob3JpemUgYHRydWVgIGlmIGF1dGhvcml6aW5nIGFuZCBgZmFsc2VgIGlmIHVuYXV0aG9yaXppbmcKICAgIGZ1bmN0aW9uIGF1dGhvcml6ZVNwZW5kZXIoYWRkcmVzcyBfc3BlbmRlciwgYm9vbCBfYXV0aG9yaXplKSBvbmx5T3duZXIgewogICAgICAgIGFsbG93ZWRTcGVuZGVyc1tfc3BlbmRlcl0gPSBfYXV0aG9yaXplOwogICAgICAgIFNwZW5kZXJBdXRob3JpemF0aW9uKF9zcGVuZGVyLCBfYXV0aG9yaXplKTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBgb25seU93bmVyYCBTZXRzIHRoZSBhZGRyZXNzIG9mIGBzZWN1cml0eUd1YXJkYAogICAgLy8vIEBwYXJhbSBfbmV3U2VjdXJpdHlHdWFyZCBBZGRyZXNzIG9mIHRoZSBuZXcgc2VjdXJpdHkgZ3VhcmQKICAgIGZ1bmN0aW9uIHNldFNlY3VyaXR5R3VhcmQoYWRkcmVzcyBfbmV3U2VjdXJpdHlHdWFyZCkgb25seU93bmVyIHsKICAgICAgICBzZWN1cml0eUd1YXJkID0gX25ld1NlY3VyaXR5R3VhcmQ7CiAgICB9CgoKICAgIC8vLyBAbm90aWNlIGBvbmx5T3duZXJgIENoYW5nZXMgYHRpbWVMb2NrYDsgdGhlIG5ldyBgdGltZUxvY2tgIGNhbm5vdCBiZQogICAgLy8vICBsb3dlciB0aGFuIGBhYnNvbHV0ZU1pblRpbWVMb2NrYAogICAgLy8vIEBwYXJhbSBfbmV3VGltZUxvY2sgU2V0cyB0aGUgbmV3IG1pbmltdW0gZGVmYXVsdCBgdGltZUxvY2tgIGluIHNlY29uZHM7CiAgICAvLy8gIHBlbmRpbmcgcGF5bWVudHMgbWFpbnRhaW4gdGhlaXIgYGVhcmxpZXN0UGF5VGltZWAKICAgIGZ1bmN0aW9uIHNldFRpbWVsb2NrKHVpbnQgX25ld1RpbWVMb2NrKSBvbmx5T3duZXIgewogICAgICAgIGlmIChfbmV3VGltZUxvY2sgPCBhYnNvbHV0ZU1pblRpbWVMb2NrKSB0aHJvdzsKICAgICAgICB0aW1lTG9jayA9IF9uZXdUaW1lTG9jazsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBgb25seU93bmVyYCBDaGFuZ2VzIHRoZSBtYXhpbXVtIG51bWJlciBvZiBzZWNvbmRzCiAgICAvLy8gYHNlY3VyaXR5R3VhcmRgIGNhbiBkZWxheSBhIHBheW1lbnQKICAgIC8vLyBAcGFyYW0gX21heFNlY3VyaXR5R3VhcmREZWxheSBUaGUgbmV3IG1heGltdW0gZGVsYXkgaW4gc2Vjb25kcyB0aGF0CiAgICAvLy8gIGBzZWN1cml0eUd1YXJkYCBjYW4gZGVsYXkgdGhlIHBheW1lbnQncyBleGVjdXRpb24gaW4gdG90YWwKICAgIGZ1bmN0aW9uIHNldE1heFNlY3VyaXR5R3VhcmREZWxheSh1aW50IF9tYXhTZWN1cml0eUd1YXJkRGVsYXkpIG9ubHlPd25lciB7CiAgICAgICAgbWF4U2VjdXJpdHlHdWFyZERlbGF5ID0gX21heFNlY3VyaXR5R3VhcmREZWxheTsKICAgIH0KfQ=='.
	

]
