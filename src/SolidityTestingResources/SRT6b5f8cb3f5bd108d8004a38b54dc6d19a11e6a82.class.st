Class {
	#name : #SRT6b5f8cb3f5bd108d8004a38b54dc6d19a11e6a82,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT6b5f8cb3f5bd108d8004a38b54dc6d19a11e6a82 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwoKICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGludGVybmFsIGFsbG93ZWQ7CgoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbX2Zyb21dKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsKCiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KICAgKgogICAqIEJld2FyZSB0aGF0IGNoYW5naW5nIGFuIGFsbG93YW5jZSB3aXRoIHRoaXMgbWV0aG9kIGJyaW5ncyB0aGUgcmlzayB0aGF0IHNvbWVvbmUgbWF5IHVzZSBib3RoIHRoZSBvbGQKICAgKiBhbmQgdGhlIG5ldyBhbGxvd2FuY2UgYnkgdW5mb3J0dW5hdGUgdHJhbnNhY3Rpb24gb3JkZXJpbmcuIE9uZSBwb3NzaWJsZSBzb2x1dGlvbiB0byBtaXRpZ2F0ZSB0aGlzCiAgICogcmFjZSBjb25kaXRpb24gaXMgdG8gZmlyc3QgcmVkdWNlIHRoZSBzcGVuZGVyJ3MgYWxsb3dhbmNlIHRvIDAgYW5kIHNldCB0aGUgZGVzaXJlZCB2YWx1ZSBhZnRlcndhcmRzOgogICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmeWluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICAvKioKICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKICAgKiBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbAogICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAogICAqLwogIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICB9IGVsc2UgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgIH0KICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cgp9CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cgp9Cgpjb250cmFjdCBUYXNrRmFpclRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIE93bmFibGUgewkKCiAgZXZlbnQgTWludChhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgYW1vdW50KTsKCiAgZXZlbnQgTWludEZpbmlzaGVkKCk7CiAgICAKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiVGFzayBGYWlyIFRva2VuIjsKICAgCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiVEZUIjsKICAgIAogIHVpbnQzMiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKCiAgYm9vbCBwdWJsaWMgbWludGluZ0ZpbmlzaGVkID0gZmFsc2U7CiAKICBhZGRyZXNzIHB1YmxpYyBzYWxlQWdlbnQ7CgogIG1vZGlmaWVyIG5vdExvY2tlZCgpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lciB8fCBtc2cuc2VuZGVyID09IHNhbGVBZ2VudCB8fCBtaW50aW5nRmluaXNoZWQpOwogICAgXzsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIG5vdExvY2tlZCByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIG5vdExvY2tlZCByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKGZyb20sIHRvLCB2YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiBzZXRTYWxlQWdlbnQoYWRkcmVzcyBuZXdTYWxlQWdlbnQpIHB1YmxpYyB7CiAgICByZXF1aXJlKHNhbGVBZ2VudCA9PSBtc2cuc2VuZGVyIHx8IG93bmVyID09IG1zZy5zZW5kZXIpOwogICAgc2FsZUFnZW50ID0gbmV3U2FsZUFnZW50OwogIH0KCiAgZnVuY3Rpb24gbWludChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZSghbWludGluZ0ZpbmlzaGVkKTsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBzYWxlQWdlbnQpOwogICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX2Ftb3VudCk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CiAgICBNaW50KF90bywgX2Ftb3VudCk7CiAgICBUcmFuc2ZlcihhZGRyZXNzKDApLCBfdG8sIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoIW1pbnRpbmdGaW5pc2hlZCk7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgbXNnLnNlbmRlciA9PSBzYWxlQWdlbnQpOwogICAgbWludGluZ0ZpbmlzaGVkID0gdHJ1ZTsKICAgIE1pbnRGaW5pc2hlZCgpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKfQoKY29udHJhY3QgU3RhZ2VkQ3Jvd2RzYWxlIGlzIE93bmFibGUgewoKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgdWludCBwdWJsaWMgcHJpY2U7CgogIHN0cnVjdCBTdGFnZSB7CiAgICB1aW50IHBlcmlvZDsKICAgIHVpbnQgaGFyZENhcDsKICAgIHVpbnQgZGlzY291bnQ7CiAgICB1aW50IGludmVzdGVkOwogICAgdWludCBjbG9zZWQ7CiAgfQoKICB1aW50IHB1YmxpYyBjb25zdGFudCBTVEFHRVNfUEVSQ0VOVF9SQVRFID0gMTAwOwoKICB1aW50IHB1YmxpYyBzdGFydDsKCiAgdWludCBwdWJsaWMgdG90YWxQZXJpb2Q7CgogIHVpbnQgcHVibGljIHRvdGFsSGFyZENhcDsKIAogIHVpbnQgcHVibGljIGludmVzdGVkOwoKICBTdGFnZVtdIHB1YmxpYyBzdGFnZXM7CgogIGZ1bmN0aW9uIHN0YWdlc0NvdW50KCkgcHVibGljIGNvbnN0YW50IHJldHVybnModWludCkgewogICAgcmV0dXJuIHN0YWdlcy5sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiBzZXRTdGFydCh1aW50IG5ld1N0YXJ0KSBwdWJsaWMgb25seU93bmVyIHsKICAgIHN0YXJ0ID0gbmV3U3RhcnQ7CiAgfQoKICBmdW5jdGlvbiBzZXRQcmljZSh1aW50IG5ld1ByaWNlKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHByaWNlID0gbmV3UHJpY2U7CiAgfQoKICBmdW5jdGlvbiBhZGRTdGFnZSh1aW50IHBlcmlvZCwgdWludCBoYXJkQ2FwLCB1aW50IGRpc2NvdW50KSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUocGVyaW9kID4gMCAmJiBoYXJkQ2FwID4gMCk7CiAgICBzdGFnZXMucHVzaChTdGFnZShwZXJpb2QsIGhhcmRDYXAsIGRpc2NvdW50LCAwLCAwKSk7CiAgICB0b3RhbFBlcmlvZCA9IHRvdGFsUGVyaW9kLmFkZChwZXJpb2QpOwogICAgdG90YWxIYXJkQ2FwID0gdG90YWxIYXJkQ2FwLmFkZChoYXJkQ2FwKTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZVN0YWdlKHVpbnQ4IG51bWJlcikgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG51bWJlciA+PTAgJiYgbnVtYmVyIDwgc3RhZ2VzLmxlbmd0aCk7CgogICAgU3RhZ2Ugc3RvcmFnZSBzdGFnZSA9IHN0YWdlc1tudW1iZXJdOwogICAgdG90YWxIYXJkQ2FwID0gdG90YWxIYXJkQ2FwLnN1YihzdGFnZS5oYXJkQ2FwKTsgICAgCiAgICB0b3RhbFBlcmlvZCA9IHRvdGFsUGVyaW9kLnN1YihzdGFnZS5wZXJpb2QpOwoKICAgIGRlbGV0ZSBzdGFnZXNbbnVtYmVyXTsKCiAgICBmb3IgKHVpbnQgaSA9IG51bWJlcjsgaSA8IHN0YWdlcy5sZW5ndGggLSAxOyBpKyspIHsKICAgICAgc3RhZ2VzW2ldID0gc3RhZ2VzW2krMV07CiAgICB9CgogICAgc3RhZ2VzLmxlbmd0aC0tOwogIH0KCiAgZnVuY3Rpb24gY2hhbmdlU3RhZ2UodWludDggbnVtYmVyLCB1aW50IHBlcmlvZCwgdWludCBoYXJkQ2FwLCB1aW50IGRpc2NvdW50KSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUobnVtYmVyID49IDAgJiYgbnVtYmVyIDwgc3RhZ2VzLmxlbmd0aCk7CgogICAgU3RhZ2Ugc3RvcmFnZSBzdGFnZSA9IHN0YWdlc1tudW1iZXJdOwoKICAgIHRvdGFsSGFyZENhcCA9IHRvdGFsSGFyZENhcC5zdWIoc3RhZ2UuaGFyZENhcCk7ICAgIAogICAgdG90YWxQZXJpb2QgPSB0b3RhbFBlcmlvZC5zdWIoc3RhZ2UucGVyaW9kKTsgICAgCgogICAgc3RhZ2UuaGFyZENhcCA9IGhhcmRDYXA7CiAgICBzdGFnZS5wZXJpb2QgPSBwZXJpb2Q7CiAgICBzdGFnZS5kaXNjb3VudCA9IGRpc2NvdW50OwoKICAgIHRvdGFsSGFyZENhcCA9IHRvdGFsSGFyZENhcC5hZGQoaGFyZENhcCk7ICAgIAogICAgdG90YWxQZXJpb2QgPSB0b3RhbFBlcmlvZC5hZGQocGVyaW9kKTsgICAgCiAgfQoKICBmdW5jdGlvbiBpbnNlcnRTdGFnZSh1aW50OCBudW1iZXJBZnRlciwgdWludCBwZXJpb2QsIHVpbnQgaGFyZENhcCwgdWludCBkaXNjb3VudCkgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG51bWJlckFmdGVyIDwgc3RhZ2VzLmxlbmd0aCk7CgoKICAgIHRvdGFsUGVyaW9kID0gdG90YWxQZXJpb2QuYWRkKHBlcmlvZCk7CiAgICB0b3RhbEhhcmRDYXAgPSB0b3RhbEhhcmRDYXAuYWRkKGhhcmRDYXApOwoKICAgIHN0YWdlcy5sZW5ndGgrKzsKCiAgICBmb3IgKHVpbnQgaSA9IHN0YWdlcy5sZW5ndGggLSAyOyBpID4gbnVtYmVyQWZ0ZXI7IGktLSkgewogICAgICBzdGFnZXNbaSArIDFdID0gc3RhZ2VzW2ldOwogICAgfQoKICAgIHN0YWdlc1tudW1iZXJBZnRlciArIDFdID0gU3RhZ2UocGVyaW9kLCBoYXJkQ2FwLCBkaXNjb3VudCwgMCwgMCk7CiAgfQoKICBmdW5jdGlvbiBjbGVhclN0YWdlcygpIHB1YmxpYyBvbmx5T3duZXIgewogICAgZm9yICh1aW50IGkgPSAwOyBpIDwgc3RhZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGRlbGV0ZSBzdGFnZXNbaV07CiAgICB9CiAgICBzdGFnZXMubGVuZ3RoIC09IHN0YWdlcy5sZW5ndGg7CiAgICB0b3RhbFBlcmlvZCA9IDA7CiAgICB0b3RhbEhhcmRDYXAgPSAwOwogIH0KCiAgZnVuY3Rpb24gbGFzdFNhbGVEYXRlKCkgcHVibGljIGNvbnN0YW50IHJldHVybnModWludCkgewogICAgcmVxdWlyZShzdGFnZXMubGVuZ3RoID4gMCk7CiAgICB1aW50IGxhc3REYXRlID0gc3RhcnQ7CiAgICBmb3IodWludCBpPTA7IGkgPCBzdGFnZXMubGVuZ3RoOyBpKyspIHsKICAgICAgaWYoc3RhZ2VzW2ldLmludmVzdGVkID49IHN0YWdlc1tpXS5oYXJkQ2FwKSB7CiAgICAgICAgbGFzdERhdGUgPSBzdGFnZXNbaV0uY2xvc2VkOwogICAgICB9IGVsc2UgewogICAgICAgIGxhc3REYXRlID0gbGFzdERhdGUuYWRkKHN0YWdlc1tpXS5wZXJpb2QgKiAxIGRheXMpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gbGFzdERhdGU7CiAgfQoKICBmdW5jdGlvbiBjdXJyZW50U3RhZ2UoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICByZXF1aXJlKG5vdyA+PSBzdGFydCk7CiAgICB1aW50IHByZXZpb3VzRGF0ZSA9IHN0YXJ0OwogICAgZm9yKHVpbnQgaT0wOyBpIDwgc3RhZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmKHN0YWdlc1tpXS5pbnZlc3RlZCA8IHN0YWdlc1tpXS5oYXJkQ2FwKSB7CiAgICAgICAgaWYobm93ID49IHByZXZpb3VzRGF0ZSAmJiBub3cgPCBwcmV2aW91c0RhdGUgKyBzdGFnZXNbaV0ucGVyaW9kICogMSBkYXlzKSB7CiAgICAgICAgICByZXR1cm4gaTsKICAgICAgICB9CiAgICAgICAgcHJldmlvdXNEYXRlID0gcHJldmlvdXNEYXRlLmFkZChzdGFnZXNbaV0ucGVyaW9kICogMSBkYXlzKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwcmV2aW91c0RhdGUgPSBzdGFnZXNbaV0uY2xvc2VkOwogICAgICB9CiAgICB9CiAgICByZXZlcnQoKTsKICB9CgogIGZ1bmN0aW9uIHVwZGF0ZVN0YWdlV2l0aEludmVzdGVkKHVpbnQgc3RhZ2VJbmRleCwgdWludCBpbnZlc3RlZEluV2VpKSBpbnRlcm5hbCB7CiAgICBpbnZlc3RlZCA9IGludmVzdGVkLmFkZChpbnZlc3RlZEluV2VpKTsKICAgIFN0YWdlIHN0b3JhZ2Ugc3RhZ2UgPSBzdGFnZXNbc3RhZ2VJbmRleF07CiAgICBzdGFnZS5pbnZlc3RlZCA9IHN0YWdlLmludmVzdGVkLmFkZChpbnZlc3RlZEluV2VpKTsKICAgIGlmKHN0YWdlLmludmVzdGVkID49IHN0YWdlLmhhcmRDYXApIHsKICAgICAgc3RhZ2UuY2xvc2VkID0gbm93OwogICAgfQogIH0KCgp9CgoKY29udHJhY3QgQ29tbW9uQ3Jvd2RzYWxlIGlzIFN0YWdlZENyb3dkc2FsZSB7CgogIHVpbnQgcHVibGljIGNvbnN0YW50IFBFUkNFTlRfUkFURSA9IDEwMDA7CgogIHVpbnQgcHVibGljIG1pbkludmVzdGVkTGltaXQ7CgogIHVpbnQgcHVibGljIG1pbnRlZDsKCiAgYWRkcmVzcyBwdWJsaWMgZGlyZWN0TWludEFnZW50OwogIAogIGFkZHJlc3MgcHVibGljIHdhbGxldDsKCiAgYWRkcmVzcyBwdWJsaWMgZGV2V2FsbGV0OwoKICBhZGRyZXNzIHB1YmxpYyBkZXZUb2tlbnNXYWxsZXQ7CgogIGFkZHJlc3MgcHVibGljIHNlY3VyaXR5V2FsbGV0OwoKICBhZGRyZXNzIHB1YmxpYyBmb3VuZGVyc1Rva2Vuc1dhbGxldDsKCiAgYWRkcmVzcyBwdWJsaWMgYm91bnR5VG9rZW5zV2FsbGV0OwoKICBhZGRyZXNzIHB1YmxpYyBncm93dGhUb2tlbnNXYWxsZXQ7CgogIGFkZHJlc3MgcHVibGljIGFkdmlzb3JzVG9rZW5zV2FsbGV0OwoKICBhZGRyZXNzIHB1YmxpYyBzZWN1cml0eVRva2Vuc1dhbGxldDsKCiAgdWludCBwdWJsaWMgZGV2UGVyY2VudDsKCiAgdWludCBwdWJsaWMgc2VjdXJpdHlQZXJjZW50OwoKICB1aW50IHB1YmxpYyBib3VudHlUb2tlbnNQZXJjZW50OwoKICB1aW50IHB1YmxpYyBkZXZUb2tlbnNQZXJjZW50OwoKICB1aW50IHB1YmxpYyBhZHZpc29yc1Rva2Vuc1BlcmNlbnQ7CgogIHVpbnQgcHVibGljIGZvdW5kZXJzVG9rZW5zUGVyY2VudDsKCiAgdWludCBwdWJsaWMgZ3Jvd3RoVG9rZW5zUGVyY2VudDsKCiAgdWludCBwdWJsaWMgc2VjdXJpdHlUb2tlbnNQZXJjZW50OwoKICBUYXNrRmFpclRva2VuIHB1YmxpYyB0b2tlbjsKCiAgbW9kaWZpZXIgY2FuTWludCh1aW50IHZhbHVlKSB7CiAgICByZXF1aXJlKG5vdyA+PSBzdGFydCAmJiB2YWx1ZSA+PSBtaW5JbnZlc3RlZExpbWl0KTsKICAgIF87CiAgfQoKICBtb2RpZmllciBvbmx5RGlyZWN0TWludEFnZW50T3JPd25lcigpIHsKICAgIHJlcXVpcmUoZGlyZWN0TWludEFnZW50ID09IG1zZy5zZW5kZXIgfHwgb3duZXIgPT0gbXNnLnNlbmRlcik7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gc2V0TWluSW52ZXN0ZWRMaW1pdCh1aW50IG5ld01pbkludmVzdGVkTGltaXQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgbWluSW52ZXN0ZWRMaW1pdCA9IG5ld01pbkludmVzdGVkTGltaXQ7CiAgfQoKICBmdW5jdGlvbiBzZXREZXZQZXJjZW50KHVpbnQgbmV3RGV2UGVyY2VudCkgcHVibGljIG9ubHlPd25lciB7IAogICAgZGV2UGVyY2VudCA9IG5ld0RldlBlcmNlbnQ7CiAgfQoKICBmdW5jdGlvbiBzZXRTZWN1cml0eVBlcmNlbnQodWludCBuZXdTZWN1cml0eVBlcmNlbnQpIHB1YmxpYyBvbmx5T3duZXIgeyAKICAgIHNlY3VyaXR5UGVyY2VudCA9IG5ld1NlY3VyaXR5UGVyY2VudDsKICB9CgogIGZ1bmN0aW9uIHNldEJvdW50eVRva2Vuc1BlcmNlbnQodWludCBuZXdCb3VudHlUb2tlbnNQZXJjZW50KSBwdWJsaWMgb25seU93bmVyIHsgCiAgICBib3VudHlUb2tlbnNQZXJjZW50ID0gbmV3Qm91bnR5VG9rZW5zUGVyY2VudDsKICB9CgogIGZ1bmN0aW9uIHNldEdyb3d0aFRva2Vuc1BlcmNlbnQodWludCBuZXdHcm93dGhUb2tlbnNQZXJjZW50KSBwdWJsaWMgb25seU93bmVyIHsgCiAgICBncm93dGhUb2tlbnNQZXJjZW50ID0gbmV3R3Jvd3RoVG9rZW5zUGVyY2VudDsKICB9CgogIGZ1bmN0aW9uIHNldEZvdW5kZXJzVG9rZW5zUGVyY2VudCh1aW50IG5ld0ZvdW5kZXJzVG9rZW5zUGVyY2VudCkgcHVibGljIG9ubHlPd25lciB7IAogICAgZm91bmRlcnNUb2tlbnNQZXJjZW50ID0gbmV3Rm91bmRlcnNUb2tlbnNQZXJjZW50OwogIH0KCiAgZnVuY3Rpb24gc2V0QWR2aXNvcnNUb2tlbnNQZXJjZW50KHVpbnQgbmV3QWR2aXNvcnNUb2tlbnNQZXJjZW50KSBwdWJsaWMgb25seU93bmVyIHsgCiAgICBhZHZpc29yc1Rva2Vuc1BlcmNlbnQgPSBuZXdBZHZpc29yc1Rva2Vuc1BlcmNlbnQ7CiAgfQoKICBmdW5jdGlvbiBzZXREZXZUb2tlbnNQZXJjZW50KHVpbnQgbmV3RGV2VG9rZW5zUGVyY2VudCkgcHVibGljIG9ubHlPd25lciB7IAogICAgZGV2VG9rZW5zUGVyY2VudCA9IG5ld0RldlRva2Vuc1BlcmNlbnQ7CiAgfQoKICBmdW5jdGlvbiBzZXRTZWN1cml0eVRva2Vuc1BlcmNlbnQodWludCBuZXdTZWN1cml0eVRva2Vuc1BlcmNlbnQpIHB1YmxpYyBvbmx5T3duZXIgeyAKICAgIHNlY3VyaXR5VG9rZW5zUGVyY2VudCA9IG5ld1NlY3VyaXR5VG9rZW5zUGVyY2VudDsKICB9CgogIGZ1bmN0aW9uIHNldEZvdW5kZXJzVG9rZW5zV2FsbGV0KGFkZHJlc3MgbmV3Rm91bmRlcnNUb2tlbnNXYWxsZXQpIHB1YmxpYyBvbmx5T3duZXIgeyAKICAgIGZvdW5kZXJzVG9rZW5zV2FsbGV0ID0gbmV3Rm91bmRlcnNUb2tlbnNXYWxsZXQ7CiAgfQoKICBmdW5jdGlvbiBzZXRHcm93dGhUb2tlbnNXYWxsZXQoYWRkcmVzcyBuZXdHcm93dGhUb2tlbnNXYWxsZXQpIHB1YmxpYyBvbmx5T3duZXIgeyAKICAgIGdyb3d0aFRva2Vuc1dhbGxldCA9IG5ld0dyb3d0aFRva2Vuc1dhbGxldDsKICB9CgogIGZ1bmN0aW9uIHNldEJvdW50eVRva2Vuc1dhbGxldChhZGRyZXNzIG5ld0JvdW50eVRva2Vuc1dhbGxldCkgcHVibGljIG9ubHlPd25lciB7IAogICAgYm91bnR5VG9rZW5zV2FsbGV0ID0gbmV3Qm91bnR5VG9rZW5zV2FsbGV0OwogIH0KCiAgZnVuY3Rpb24gc2V0QWR2aXNvcnNUb2tlbnNXYWxsZXQoYWRkcmVzcyBuZXdBZHZpc29yc1Rva2Vuc1dhbGxldCkgcHVibGljIG9ubHlPd25lciB7IAogICAgYWR2aXNvcnNUb2tlbnNXYWxsZXQgPSBuZXdBZHZpc29yc1Rva2Vuc1dhbGxldDsKICB9CgogIGZ1bmN0aW9uIHNldERldlRva2Vuc1dhbGxldChhZGRyZXNzIG5ld0RldlRva2Vuc1dhbGxldCkgcHVibGljIG9ubHlPd25lciB7IAogICAgZGV2VG9rZW5zV2FsbGV0ID0gbmV3RGV2VG9rZW5zV2FsbGV0OwogIH0KCiAgZnVuY3Rpb24gc2V0U2VjdXJpdHlUb2tlbnNXYWxsZXQoYWRkcmVzcyBuZXdTZWN1cml0eVRva2Vuc1dhbGxldCkgcHVibGljIG9ubHlPd25lciB7IAogICAgc2VjdXJpdHlUb2tlbnNXYWxsZXQgPSBuZXdTZWN1cml0eVRva2Vuc1dhbGxldDsKICB9CgogIGZ1bmN0aW9uIHNldFdhbGxldChhZGRyZXNzIG5ld1dhbGxldCkgcHVibGljIG9ubHlPd25lciB7IAogICAgd2FsbGV0ID0gbmV3V2FsbGV0OwogIH0KCiAgZnVuY3Rpb24gc2V0RGV2V2FsbGV0KGFkZHJlc3MgbmV3RGV2V2FsbGV0KSBwdWJsaWMgb25seU93bmVyIHsgCiAgICBkZXZXYWxsZXQgPSBuZXdEZXZXYWxsZXQ7CiAgfQoKICBmdW5jdGlvbiBzZXRTZWN1cml0eVdhbGxldChhZGRyZXNzIG5ld1NlY3VyaXR5V2FsbGV0KSBwdWJsaWMgb25seU93bmVyIHsgCiAgICBzZWN1cml0eVdhbGxldCA9IG5ld1NlY3VyaXR5V2FsbGV0OwogIH0KCiAgZnVuY3Rpb24gc2V0RGlyZWN0TWludEFnZW50KGFkZHJlc3MgbmV3RGlyZWN0TWludEFnZW50KSBwdWJsaWMgb25seU93bmVyIHsKICAgIGRpcmVjdE1pbnRBZ2VudCA9IG5ld0RpcmVjdE1pbnRBZ2VudDsKICB9CgogIGZ1bmN0aW9uIGRpcmVjdE1pbnQoYWRkcmVzcyB0bywgdWludCBpbnZlc3RlZFdlaSkgcHVibGljIG9ubHlEaXJlY3RNaW50QWdlbnRPck93bmVyIGNhbk1pbnQoaW52ZXN0ZWRXZWkpIHsKICAgIGNhbGN1bGF0ZUFuZFRyYW5zZmVyVG9rZW5zKHRvLCBpbnZlc3RlZFdlaSk7CiAgfQoKICBmdW5jdGlvbiBzZXRTdGFydCh1aW50IG5ld1N0YXJ0KSBwdWJsaWMgb25seU93bmVyIHsgCiAgICBzdGFydCA9IG5ld1N0YXJ0OwogIH0KCiAgZnVuY3Rpb24gc2V0VG9rZW4oYWRkcmVzcyBuZXdUb2tlbikgcHVibGljIG9ubHlPd25lciB7IAogICAgdG9rZW4gPSBUYXNrRmFpclRva2VuKG5ld1Rva2VuKTsKICB9CgogIGZ1bmN0aW9uIG1pbnRFeHRlbmRlZFRva2VucygpIGludGVybmFsIHsKICAgIHVpbnQgZXh0ZW5kZWRUb2tlbnNQZXJjZW50ID0gYm91bnR5VG9rZW5zUGVyY2VudC5hZGQoZGV2VG9rZW5zUGVyY2VudCkuYWRkKGFkdmlzb3JzVG9rZW5zUGVyY2VudCkuYWRkKGZvdW5kZXJzVG9rZW5zUGVyY2VudCkuYWRkKGdyb3d0aFRva2Vuc1BlcmNlbnQpLmFkZChzZWN1cml0eVRva2Vuc1BlcmNlbnQpOwogICAgdWludCBhbGxUb2tlbnMgPSBtaW50ZWQubXVsKFBFUkNFTlRfUkFURSkuZGl2KFBFUkNFTlRfUkFURS5zdWIoZXh0ZW5kZWRUb2tlbnNQZXJjZW50KSk7CgogICAgdWludCBib3VudHlUb2tlbnMgPSBhbGxUb2tlbnMubXVsKGJvdW50eVRva2Vuc1BlcmNlbnQpLmRpdihQRVJDRU5UX1JBVEUpOwogICAgbWludEFuZFNlbmRUb2tlbnMoYm91bnR5VG9rZW5zV2FsbGV0LCBib3VudHlUb2tlbnMpOwoKICAgIHVpbnQgYWR2aXNvcnNUb2tlbnMgPSBhbGxUb2tlbnMubXVsKGFkdmlzb3JzVG9rZW5zUGVyY2VudCkuZGl2KFBFUkNFTlRfUkFURSk7CiAgICBtaW50QW5kU2VuZFRva2VucyhhZHZpc29yc1Rva2Vuc1dhbGxldCwgYWR2aXNvcnNUb2tlbnMpOwoKICAgIHVpbnQgZm91bmRlcnNUb2tlbnMgPSBhbGxUb2tlbnMubXVsKGZvdW5kZXJzVG9rZW5zUGVyY2VudCkuZGl2KFBFUkNFTlRfUkFURSk7CiAgICBtaW50QW5kU2VuZFRva2Vucyhmb3VuZGVyc1Rva2Vuc1dhbGxldCwgZm91bmRlcnNUb2tlbnMpOwoKICAgIHVpbnQgZ3Jvd3RoVG9rZW5zID0gYWxsVG9rZW5zLm11bChncm93dGhUb2tlbnNQZXJjZW50KS5kaXYoUEVSQ0VOVF9SQVRFKTsKICAgIG1pbnRBbmRTZW5kVG9rZW5zKGdyb3d0aFRva2Vuc1dhbGxldCwgZ3Jvd3RoVG9rZW5zKTsKCiAgICB1aW50IGRldlRva2VucyA9IGFsbFRva2Vucy5tdWwoZGV2VG9rZW5zUGVyY2VudCkuZGl2KFBFUkNFTlRfUkFURSk7CiAgICBtaW50QW5kU2VuZFRva2VucyhkZXZUb2tlbnNXYWxsZXQsIGRldlRva2Vucyk7CgogICAgdWludCBzZWN1aXJ0eVRva2VucyA9IGFsbFRva2Vucy5tdWwoc2VjdXJpdHlUb2tlbnNQZXJjZW50KS5kaXYoUEVSQ0VOVF9SQVRFKTsKICAgIG1pbnRBbmRTZW5kVG9rZW5zKHNlY3VyaXR5VG9rZW5zV2FsbGV0LCBzZWN1aXJ0eVRva2Vucyk7CiAgfQoKICBmdW5jdGlvbiBtaW50QW5kU2VuZFRva2VucyhhZGRyZXNzIHRvLCB1aW50IGFtb3VudCkgaW50ZXJuYWwgewogICAgdG9rZW4ubWludCh0bywgYW1vdW50KTsKICAgIG1pbnRlZCA9IG1pbnRlZC5hZGQoYW1vdW50KTsKICB9CgogIGZ1bmN0aW9uIGNhbGN1bGF0ZUFuZFRyYW5zZmVyVG9rZW5zKGFkZHJlc3MgdG8sIHVpbnQgaW52ZXN0ZWRJbldlaSkgaW50ZXJuYWwgewogICAgdWludCBzdGFnZUluZGV4ID0gY3VycmVudFN0YWdlKCk7CiAgICBTdGFnZSBzdG9yYWdlIHN0YWdlID0gc3RhZ2VzW3N0YWdlSW5kZXhdOwoKICAgIC8vIGNhbGN1bGF0ZSB0b2tlbnMKICAgIHVpbnQgdG9rZW5zID0gaW52ZXN0ZWRJbldlaS5tdWwocHJpY2UpLm11bChTVEFHRVNfUEVSQ0VOVF9SQVRFKS5kaXYoU1RBR0VTX1BFUkNFTlRfUkFURS5zdWIoc3RhZ2UuZGlzY291bnQpKS5kaXYoMSBldGhlcik7CiAgICAKICAgIC8vIHRyYW5zZmVyIHRva2VucwogICAgbWludEFuZFNlbmRUb2tlbnModG8sIHRva2Vucyk7CgogICAgdXBkYXRlU3RhZ2VXaXRoSW52ZXN0ZWQoc3RhZ2VJbmRleCwgaW52ZXN0ZWRJbldlaSk7CiAgfQoKICBmdW5jdGlvbiBjcmVhdGVUb2tlbnMoKSBwdWJsaWMgcGF5YWJsZTsKCiAgZnVuY3Rpb24oKSBleHRlcm5hbCBwYXlhYmxlIHsKICAgIGNyZWF0ZVRva2VucygpOwogIH0KCiAgZnVuY3Rpb24gcmV0cmlldmVUb2tlbnMoYWRkcmVzcyBhbm90aGVyVG9rZW4pIHB1YmxpYyBvbmx5T3duZXIgewogICAgRVJDMjAgYWxpZW5Ub2tlbiA9IEVSQzIwKGFub3RoZXJUb2tlbik7CiAgICBhbGllblRva2VuLnRyYW5zZmVyKHdhbGxldCwgYWxpZW5Ub2tlbi5iYWxhbmNlT2YodGhpcykpOwogIH0KCn0KCmNvbnRyYWN0IFRHRSBpcyBDb21tb25Dcm93ZHNhbGUgewogIAogIGZ1bmN0aW9uIFRHRSgpIHB1YmxpYyB7CiAgICBzZXRNaW5JbnZlc3RlZExpbWl0KDEwMDAwMDAwMDAwMDAwMDAwMCk7CiAgICBzZXRQcmljZSg0MDAwMDAwMDAwMDAwMDAwMDAwMDAwKTsKICAgIHNldEJvdW50eVRva2Vuc1BlcmNlbnQoNTApOwogICAgc2V0QWR2aXNvcnNUb2tlbnNQZXJjZW50KDIwKTsKICAgIHNldERldlRva2Vuc1BlcmNlbnQoMzApOwogICAgc2V0Rm91bmRlcnNUb2tlbnNQZXJjZW50KDUwKTsKICAgIHNldEdyb3d0aFRva2Vuc1BlcmNlbnQoMzAwKTsKICAgIHNldFNlY3VyaXR5VG9rZW5zUGVyY2VudCg1KTsKICAgIHNldERldlBlcmNlbnQoMjApOwogICAgc2V0U2VjdXJpdHlQZXJjZW50KDEwKTsKCiAgICAvLyBmaXggaW4gcHJvZAogICAgYWRkU3RhZ2UoNywgMjg1MDAwMDAwMDAwMDAwMDAwMDAwMCwgMjApOwogICAgYWRkU3RhZ2UoNywgNTcwMDAwMDAwMDAwMDAwMDAwMDAwMCwgMTApOwogICAgYWRkU3RhZ2UoNywgMTgyODAwMDAwMDAwMDAwMDAwMDAwMDAsIDApOwogICAgCiAgICBzZXRTdGFydCgxNTE0OTQxMjAwKTsKICAgIHNldFdhbGxldCgweDU3MDI0MWE0OTUzYzcxZjkyQjc5NEY3N2RkNGU3Y0EyOTVFNzliYjEpOwoKICAgIHNldEJvdW50eVRva2Vuc1dhbGxldCgweGIyQzZmMzJjNDQ0QzEwNUYxNjhhOURjOUY1Y2ZDQ0M2MTYwNDFjOGEpOwogICAgc2V0RGV2VG9rZW5zV2FsbGV0KDB4YWQzRGY4NEEyMWQ1MDhBZDFFNzgyOTU2YmFkZUJFODcyNWE5QTQ0Nyk7CiAgICBzZXRBZHZpc29yc1Rva2Vuc1dhbGxldCgweDdDNzM3Qzk3MDA0RjFDOTE1NmZhYWYyQTREMDQ5MTFlOTcwYUM1NTQpOwogICAgc2V0Rm91bmRlcnNUb2tlbnNXYWxsZXQoMHhGRUVEMTdjMWRiOTZCNjJDMTg2NDJBNjc1YTY1NjFGM0EzOTVCYzEwKTsKICAgIHNldEdyb3d0aFRva2Vuc1dhbGxldCgweEVjM0U3RDQwM0U5ZkQzNEU4M0YwMDE4MjQyMTA5MmQ0NGY5NTQzYjIpOwogICAgc2V0U2VjdXJpdHlUb2tlbnNXYWxsZXQoMHhhODIwYjZENjQzNGM3MDNCMWI0MDZiMTJkNWI4MmQ0MUY3MjA2OWI0KTsKCiAgICBzZXREZXZXYWxsZXQoMHhhZDNEZjg0QTIxZDUwOEFkMUU3ODI5NTZiYWRlQkU4NzI1YTlBNDQ3KTsKICAgIHNldFNlY3VyaXR5V2FsbGV0KDB4QTZBOWY4YjhEMDYzNTM4Qzg0NzE0ZjkxMzkwYjQ4YUU1ODA0N0UzMSk7CiAgfQoKICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgcHVibGljIG9ubHlPd25lciB7CiAgICBtaW50RXh0ZW5kZWRUb2tlbnMoKTsKICAgIHRva2VuLmZpbmlzaE1pbnRpbmcoKTsKICB9CgogIGZ1bmN0aW9uIGNyZWF0ZVRva2VucygpIHB1YmxpYyBwYXlhYmxlIGNhbk1pbnQobXNnLnZhbHVlKSB7CiAgICB1aW50IGRldldlaSA9IG1zZy52YWx1ZS5tdWwoZGV2UGVyY2VudCkuZGl2KFBFUkNFTlRfUkFURSk7CiAgICB1aW50IHNlY3VyaXR5V2VpID0gdGhpcy5iYWxhbmNlLm11bChzZWN1cml0eVBlcmNlbnQpLmRpdihQRVJDRU5UX1JBVEUpOwogICAgZGV2V2FsbGV0LnRyYW5zZmVyKGRldldlaSk7CiAgICBzZWN1cml0eVdhbGxldC50cmFuc2ZlcihzZWN1cml0eVdlaSk7CiAgICB3YWxsZXQudHJhbnNmZXIobXNnLnZhbHVlLnN1YihkZXZXZWkpLnN1YihzZWN1cml0eVdlaSkpOwogICAgY2FsY3VsYXRlQW5kVHJhbnNmZXJUb2tlbnMobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsKICB9IAoKfQ=='.
	

]
