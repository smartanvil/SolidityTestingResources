Class {
	#name : #SRT67c246b0357fe6b5a38cde321a6ff127164cbb10,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT67c246b0357fe6b5a38cde321a6ff127164cbb10 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7CgovLyBXQVJOSU5HLiBUaGUgZXhhbXBsZXMgdXNlZCBpbiB0aGUgZm9ybXVsYXMgaW4gdGhlIGNvbW1lbnRzIGFyZSB0aGUgcmlnaHQgZm9ybXVsYXMuIEhvd2V2ZXIsIHRoZXkgYXJlIG5vdCBpbXBsZW1lbnRlZCBsaWtlIHRoaXMgdG8gcHJldmVudCBvdmVyZmxvd3MuIAovLyBUaGUgZm9ybXVsYXMgaW4gdGhlIGNvbnRyYWN0IGRvIHdvcmsgdGhlIHNhbWUgYXMgaW4gdGhlIGNvbW1lbnRzLiAKCi8vIE5PVEU6IEluIHBhcnQgdHdvIG9mIHRoZSBjb250cmFjdCwgdGhlIERJVklERU5EIGlzIGV4cGxhaW5lZC4gCi8vIFRoZSBkaXZpZGVuZCBoYXMgYSB2ZXJ5IGVhc3kgaW1wbGVtZW50YXRpb24KLy8gdGhlIHByaWNlIG9mIHRoZSB0b2tlbiByaXNlIHdoZW4gYm91Z2h0LgovLyB3aGVuIGl0J3Mgc29sZCwgcHJpY2Ugd2lsbCBkZWNyZWFzZSB3aXRoIDUwJSBvZiByYXRlIG9mIHByaWNlIGJvdWdodAovLyBpZiB5b3Ugc2VsbCwgeW91IHdpbGwgc2VsbCBhbGwgdG9rZW5zLCBhbmQgeW91IGhhdmUgdGh1cyB0byBidXkgaW4gYXQgaGlnaGVyIHByaWNlCi8vIG1ha2Ugc3VyZSB5b3UgaG9sZCBkaXZpZGVuZCBmb3IgYSBsb25nIHRpbWUuCgpjb250cmFjdCBSb2Jpbkhvb2R7CiAgICAvLyBPd25lciBvZiB0aGlzIGNvbnRyYWN0CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIAogICAgLy8gJSBvZiBkZXYgZmVlIChjYW4gYmUgc2V0IHRvIDAsMSwyLDMsNCw1ICUpOwogICAgdWludDggZGV2RmVlID0gNTsKICAgIC8vIFVzZXJzIHdobyB3YW50IHRvIGNyZWF0ZSB0aGVpciBvd24gUm9iaW4gSG9vZCB0b3dlciBoYXZlIHRvIHBheSB0aGlzLiBDYW4gYmUgcmVzZXQgdG8gYW55IHZhbHVlLgogICAgdWludDI1NiBwdWJsaWMgYW1vdW50VG9DcmVhdGUgPSAyMDAwMDAwMDAwMDAwMDAwMDsKICAgIAogICAgLy8gSWYgdGhpcyBpcyBmYWxzZSwgeW91IGNhbm5vdCB1c2UgdGhlIGNvbnRyYWN0LiBJdCBjYW4gYmUgb3BlbmVkIGJ5IG93bmVyLiBBZnRlciB0aGF0LCBpdCBjYW5ub3QgYmUgY2xvc2VkIGFueW1vcmUuCiAgICAvLyBJZiBpdCBpcyBub3Qgb3BlbiwgeW91IGNhbm5vdCBpbnRlcmFjdCB3aXRoIHRoZSBjb250cmFjdC4KICAgIGJvb2wgcHVibGljIG9wZW4gPSBmYWxzZTsKICAgIAogICAgZXZlbnQgVG93ZXJDcmVhdGVkKHVpbnQyNTYgaWQpOwogICAgZXZlbnQgVG93ZXJCb3VnaHQodWludDI1NiBpZCk7CiAgICBldmVudCBUb3dlcldvbih1aW50MjU2IGlkKTsKCiAgICAvLyBUb3dlciBzdHJ1Y3QuIAogICAgc3RydWN0IFRvd2VyewogICAgICAgIC8vVGltZXIgaW4gc2Vjb25kczogQmFzZSB0aW1lIGZvciBob3cgbG9uZyB0aGUgbmV3IG93bmVyIG9mIHRoZSBUb3dlciBoYXMgdG8gd2FpdCB1bnRpbCBoZSBjYW4gcGF5IHRoZSBhbW91bnQuCiAgICAgICAgdWludDMyIHRpbWVyOyAKICAgICAgICAvLyBUaW1lc3RhbXA6IGlmIHRoaXMgaXMgMCwgdGhlIGNvbnRyYWN0IGRvZXMgbm90IHJ1bi4gSWYgaXQgcnVucyBpdCBpcyBzZXQgdG8gdGhlIGJsb2NrY2hhaW4gdGltZXN0YW1wLiAKICAgICAgICAvLyBJZiBUaW1lc3RhbXAgKyBHZXRUaW1lKCkgPiBCbG9ja2NoYWluIHRpbWVzdGFtcCB0aGUgdXNlciB3aWxsIGJlIHBhaWQgb3V0ICBieSB0aGUgcGVyc29uIHdobyB0cmllcyB0byBidXkgdGhlIHRvd2VyIE9SIHRoZSB1c2VyIGNhbiBkZWNpZGUgdG8gYnV5IGhpbXNlbGYuCiAgICAgICAgdWludDI1NiB0aW1lc3RhbXA7CiAgICAgICAgLy8gUGF5b3V0IG9mIHRoZSBhbW91bnQgaW4gcGVyY2VudC4gUmFuZ2VzIGZyb20gMCAtIDEwMDAwLiBIZXJlIDAgaXMgMCAlIGFuZCAxMDAwMCBpcyAxMDAlLgogICAgICAgIC8vIFRoaXMgcGVyY2VudGFnZSBvZiBhbW91bnQgaXMgcGFpZCB0byBvd25lciBvZiB0b3dlci4gCiAgICAgICAgLy8gVGhlIG90aGVyIHBhcnQgb2YgYW1vdW50IHN0YXlzIGluIFRvd2VyIGFuZCBjYW4gYmUgY29sbGVjdGVkIGJ5IG5ldyBwZW9wbGUuCiAgICAgICAgLy8gSG93ZXZlciwgaWYgdGhlIGFtb3VudCBpcyBsYXJnZXIgb3IgZXF1YWwgdGhhbiB0aGUgbWluUHJpY2UsIHRoZSBUb3dlciB3aWxsIGltbWVkaWF0ZWx5IGNoYW5nZSB0aGUgdGltZXN0YW1wIGFuZCBtb3ZlIG9uLgogICAgICAgIC8vIFRoaXMgbWVhbnMgdGhhdCB0aGUgb3duZXIgb2YgdGhlIHRvd2VyIGRvZXMgbm90IGNoYW5nZSwgYW5kIGNhbiBwb3NzaWJseSBjb2xsZWN0IHRoZSBhbW91bnQgbW9yZSB0aW1lcywgaWYgbm8gb25lIGJ1eXMhIQogICAgICAgIHVpbnQxNiBwYXlvdXQ7IAogICAgICAgIC8vIFByaWNlIGluY3JlYXNhdGUsIHJhbmdlZCBhZ2FpbiBmcm9tIDAtMTAwMDAgKDAgPSAwJSwgMTAwMDAgPSAxMDAlKSwgd2hpY2ggZGVjaWRlcyBob3cgbXVjaCB0aGUgcHJpY2UgaW5jcmVhc2VzIGlmIHNvbWVvbmUgYnV5cyB0aGUgdG93ZXIuCiAgICAgICAgLy8gRXg6IDUwMDAgbWVhbnMgdGhhdCBpZiB0aGUgcHJpY2UgaXMgMSBFVEggYW5kIGlmIHNvbWVvbmUgYnV5cyBpdCwgdGhlbiB0aGUgbmV3IHByaWNlIGlzIDEgKiAoMSArIDUwMDAvMTAwMDApID0gMS41IEVUSC4KICAgICAgICB1aW50MTYgcHJpY2VJbmNyZWFzZTsgLy8gcHJpY2VJbmNyZWFzZSBpbiBwZXJjZW50IChzYW1lKQogICAgICAgIC8vIFByaWNlLCB3aGljaCBjYW4gYmUgY2hlY2tlZCB0byBzZWUgaG93IG11Y2ggdGhlIHRvd2VyIGNvc3RzLiBJbml0aWFsbHkgc2V0IHRvIG1pblByaWNlLgogICAgICAgIHVpbnQyNTYgcHJpY2U7CiAgICAgICAgLy8gQW1vdW50IHdoaWNoIHRoZSBUb3dlciBoYXMgdG8gcGF5IHRvIHRoZSBvd25lci4KICAgICAgICB1aW50MjU2IGFtb3VudDsgCiAgICAgICAgLy8gTWluIFByaWNlOiB0aGUgbWluaW11bSBwcmljZSBpbiB3ZWkuIElzIGFsc28gdGhlIHNldHRpbmcgdG8gbWFrZSB0aGUgY29udHJhY3QgbW92ZSBvbiBpZiBzb21lb25lIGhhcyBiZWVuIHBhaWQgKGlmIGFtb3VudCA+PSBtaW5QcmljZSk7CiAgICAgICAgLy8gVGhlIG1pbmltdW0gcHJpY2UgaXMgMSBzemFibywgbWF4aW11bSBwcmljZSBpcyAxIGV0aGVyLiBCb3RoIGFyZSBpbmNsdWRlZCBpbiB0aGUgcmFuZ2UuCiAgICAgICAgdWludDI1NiBtaW5QcmljZTsgCiAgICAgICAgLy8gSWYgeW91IGNyZWF0ZSBhIGNvbnRyYWN0IChub3QgZGV2ZWxvcGVyKSB0aGVuIHlvdSBhcmUgYWxsb3dlZCB0byBzZXQgYSBmZWUgd2hpY2ggeW91IHdpbGwgZ2V0IGZyb20gcGVvcGxlIHdobyBidXkgeW91ciBUb3dlci4KICAgICAgICAvLyBSYW5nZWQgYWdhaW4gZnJvbSAwIC0+IDEwMDAwLCAgYnV0IHRoZSBtYXhpbXVtIHZhbHVlIGlzIDI1MDAgKDI1JSkgbWluaW11bSBpcyAwICgwJSkuCiAgICAgICAgLy8gRGV2ZWxvcGVyIGlzIG5vdCBhbGxvd2VkIHRvIHNldCBjcmVhdG9yRmVlLgogICAgICAgIHVpbnQxNiBjcmVhdG9yRmVlOyAKICAgICAgICAvLyBUaGlzIGlzIHRoZSBhbW91bnQsIGluIHdlaSwgdG8gc2V0IGF0IHdoaWNoIGFtb3VudCB0aGUgdGltZSBuZWNlc3NhcnkgdG8gd2FpdCB3aWxsIHJlZHVjZSBieSBoYWxmLgogICAgICAgIC8vIElmIHRoaXMgaXMgc2V0IHRvIDAsIHRoaXMgb3B0aW9uIGlzIG5vdCBhbGxvd2VkIGFuZCB0aGUgdGltZSBkZWx0YSBpcyBhbHdheXMgdGhlIHNhbWUuCiAgICAgICAgLy8gVGhlIG1pbmltdW0gd2FpdCB0aW1lIGlzIDUgbWludXRlcy4KICAgICAgICAvLyBUaGUgdGltZSB0byB3YWl0IGlzIGNhbGN1bGF0ZWQgYnk6IFRvd2VyLnRpbWUgKiAoVG93ZXIuYW1vdW50VG9IYWxmVGltZSAvIChUb3dlci5hbW91bnQgKyBUb3dlci5hbW91bnRUb0hhbGZUaW1lKQogICAgICAgIHVpbnQyNTYgYW1vdW50VG9IYWxmVGltZTsgCiAgICAgICAgLy8gSWYgc29tZW9uZSB3aW5zLCB0aGUgcHJpY2UgaXMgcmVkdWNlZCBieSB0aGlzLiBUaGUgbmV3IHByaWNlIGlzIGNhbGN1bGF0ZWQgYnk6CiAgICAgICAgLy8gVG93ZXIucHJpY2UgPSBtYXgoVG93ZXIucHJpY2UgKiBUb3dlci5taW5QcmljZUFmdGVyV2luLzEwMDAwLCBUb3dlci5taW5QcmljZSk7CiAgICAgICAgLy8gQWdhaW4sIHRoaXMgdmFsdWUgaXMgcmFuZ2VkIGZyb20gMCAoMCUpIHRvIDEwMDAwICgxMDAlKSwgYWxsIHZhbHVlcyBhbGxvd2VkLgogICAgICAgIC8vIE5vdGUgdGhhdCBwcmljZSB3aWxsIGFsd2F5cyBiZSB0aGUgbWluaW11bSBwcmljZSBvciBoaWdoZXIuCiAgICAgICAgLy8gSWYgdGhpcyBpcyBzZXQgdG8gMCwgcHJpY2Ugd2lsbCBhbHdheXMgYmUgc2V0IGJhY2sgdG8gbmV3IHByaWNlLgogICAgICAgIC8vIElmIGl0IGlzIHNldCB0byAxMDAwMCwgdGhlIHByaWNlIHdpbGwgTk9UIGNoYW5nZSEKICAgICAgICB1aW50MTYgbWluUHJpY2VBZnRlcldpbjsgLy8gYWxzbyBpbiBwZXJjZW50LiAKICAgICAgICAvLyBBZGRyZXNzIG9mIHRoZSBjcmVhdG9yIG9mIHRoaXMgdG93ZXIuIFVzZWQgdG8gcGF5IGNyZWF0b3JGZWUuIERldmVsb3BlciB3aWxsIG5vdCByZWNlaXZlIGNyZWF0b3JGZWUgYmVjYXVzZSBoaXMgY3JlYXRvckZlZSBpcyBhdXRvbWF0aWNhbGx5IHNldCB0byAwLgogICAgICAgIGFkZHJlc3MgY3JlYXRvcjsKICAgICAgICAvLyBUaGUgY3VycmVudCBvd25lciBvZiB0aGlzIFRvd2VyLiBJZiBoZSBvd25zIGl0IGZvciBsb25nZXIgdGhhbiBnZXRUaW1lKCkgb2YgdGhpcyBUb3dlciwgaGUgd2lsbCByZWNlaXZlIGhpcyBwb3J0aW9uIG9mIHRoZSBhbW91bnQgaW4gdGhlIFRvd2VyLgogICAgICAgIGFkZHJlc3Mgb3duZXI7CiAgICAgICAgLy8gWW91IGNhbiBhZGQgYSBxdW90ZSB0byB0cm9sbCB5b3VyIGZlbGxvdyBmcmllbmRzLiBIb3BlZnVsbHkgdGhleSB3b24ndCBidXkgeW91ciB0b3dlciEKICAgICAgICBzdHJpbmcgcXVvdGU7CiAgICB9CiAgICAKICAgCiAgICAvLyBNYXBwaW5nIG9mIGFsbCB0b3dlcnMsIGluZGV4ZWQgYnkgSUQuIFN0YXJ0aW5nIGF0IDAuIAogICAgbWFwcGluZyh1aW50MjU2ID0+IFRvd2VyKSBwdWJsaWMgVG93ZXJzOwogICAgCiAgICAvLyBUYWtlIHRyYWNrIG9mIGF0IHdoYXQgcG9zaXRpb24gd2UgaW5zZXJ0IHRoZSBUb3dlci4gCiAgICB1aW50MjU2IHB1YmxpYyBuZXh0X3Rvd2VyX2luZGV4PTA7CgogICAgLy8gQ2hlY2sgaWYgY29udHJhY3QgaXMgb3Blbi4gCiAgICAvLyBJZiB2YWx1ZSBpcyBzZW5kIGFuZCBjb250cmFjdCBpcyBub3Qgb3BlbiwgaXQgaXMgcmV2ZXJ0ZWQgYW5kIHlvdSB3aWxsIGdldCBpdCBiYWNrLiAKICAgIC8vIE5vdGUgdGhhdCBpZiBjb250cmFjdCBpcyBvcGVuIGl0IGNhbm5vdCBiZSBjbG9zZWQgYW55bW9yZS4KICAgIG1vZGlmaWVyIG9ubHlPcGVuKCl7CiAgICAgICAgaWYgKG9wZW4pewogICAgICAgICAgICBfOwogICAgICAgIH0KICAgICAgICBlbHNlewogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8vIENoZWNrIGlmIG93bmVyIG9yIGlmIGNvbnRyYWN0IGlzIG9wZW4uIFRoaXMgd29ya3MgZm9yIHRoZSBBZGRUb3dlciBmdW5jdGlvbiBzbyBvd25lciAoZGV2ZWxvcGVyKSBjYW4gYWxyZWFkeSBhZGQgVG93ZXJzLiAKICAgIC8vIE5vdGUgdGhhdCBpZiBjb250cmFjdCBpcyBvcGVuIGl0IGNhbm5vdCBiZSBjbG9zZWQgYW55bW9yZS4gCiAgICAvLyBJZiB2YWx1ZSBpcyBzZW5kIGl0IHdpbGwgYmUgcmV2ZXJ0ZWQgaWYgeW91IGFyZSBub3Qgb3duZXIgb3IgdGhlIGNvbnRyYWN0IGlzIG5vdCBvcGVuLiAKICAgIG1vZGlmaWVyIG9ubHlPcGVuT3JPd25lcigpewogICAgICAgIGlmIChvcGVuIHx8IG1zZy5zZW5kZXIgPT0gb3duZXIpewogICAgICAgICAgICBfOwogICAgICAgIH0KICAgICAgICBlbHNlewogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8vIEZ1bmN0aW9ucyBvbmx5IGZvciBvd25lciAoZGV2ZWxvcGVyKQogICAgLy8gSWYgeW91IHNlbmQgc29tZXRoaW5nIHRvIGEgb3duZXIgZnVuY3Rpb24geW91IHdpbGwgZ2V0IHlvdXIgZXRoZXJzIGJhY2sgdmlhIHJldmVydC4gCiAgICBtb2RpZmllciBvbmx5T3duZXIoKXsKICAgICAgICBpZiAobXNnLnNlbmRlciA9PSBvd25lcil7CiAgICAgICAgICAgIF87CiAgICAgICAgfQogICAgICAgIGVsc2V7CiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgCiAgICAvLyBDb25zdHJ1Y3Rvci4gCiAgICAvLyBTZXR1cHMgNCB0b3dlcnMuIAogICAgZnVuY3Rpb24gUm9iaW5Ib29kKCkgcHVibGljewogICAgICAgIC8vIExvZyBjb250cmFjdCBkZXZlbG9wZXIKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAKICAgICAgICAKICAgICAgICAKICAgICAgICAvLyBGSVJTVCB0b3dlci4gKElEID0gMCkKICAgICAgICAvLyBSb2JpbiBIb29kIGhhcyB0byBjbGltYiBhIHRvd2VyIQogICAgICAgIC8vIDEwIG1pbnV0ZXMgdGltZSByYW5nZSEKICAgICAgICAvLyA5MCUgcGF5b3V0IG9mIHRoZSBhbW91bnQgCiAgICAgICAgLy8gMzAlIHByaWNlIGluY3JlYXNlIAogICAgICAgIC8vIFRpbWVyIGhhbGZzIGF0IDUgRVRILiBUaGlzIGlzIGEgbG90LCBidXQgcmVhbGl6ZSB0aGF0IHRoaXMgaGlnaCB2YWx1ZSBpcyBjaG9vc2VuIGJlY2F1c2UgdGhlIHRpbWVyIGNhbm5vdCBzaHJpbmsgdG8gZmFzdC4gCiAgICAgICAgLy8gQXQgNSBFVEggdGhlIGxpbWl0IGlzIG9ubHkgNSBtaW51dGVzLCB0aGUgbWluaW11bSEKICAgICAgICAvLyBNaW5pbXVtIHByaWNlIGlzIDIgZmlubmV5LiAKICAgICAgICAvLyBQcmljZSByZWR1Y2VzIDkwJSAoMTAwJSAtIDEwJSkgYWZ0ZXIgc29tZW9uZSBoYXMgd29uIHRoZSB0b3dlciEKICAgICAgICAvLyAwJSBjcmVhdG9yIGZlZS4gCiAgICAgICAKICAgICAgIAogICAgICAgIEFkZFRvd2VyKDYwMCwgOTAwMCwgMzAwMCwgNTAwMDAwMDAwMDAwMDAwMDAwMCwgMjAwMDAwMDAwMDAwMDAwMCwgMTAwMCwgMCk7CiAgICAKICAgIAogICAgICAgIC8vIFNFQ09ORCB0b3dlciAoSUQgPSAxKQogICAgICAgIC8vIFJvYmluIEhvb2QgaGFzIHRvIHNlYXJjaCBhIGhvdXNlIQogICAgICAgIC8vIDEwIG1pbnV0ZXMgdG1lIHJhbmdlIAogICAgICAgIC8vIDUwJSBwYXlvdXQgCiAgICAgICAgLy8gMS41JSBwcmljZSBpbmNyZWFzZSAKICAgICAgICAvLyBUaW1lciBoYWxmcyBhdCAyLjUgRVRIIChhbHNvIGEgbG90LCBidXQgYXQgdGhpcyB0aW1lIHRoZW4gdGltZXIgaXMgbWluaW11bSAoNSBtaW4pKQogICAgICAgIC8vIFByaWNlIGlzIDQgZmlubmV5CiAgICAgICAgLy8gUHJpY2UgaXMgcmVkdWNlZCB0byA0IGZpbm5leSBpZiB3b24gCiAgICAgICAgLy8gMCUgZmVlIAogICAgICAgIAogICAgICAgIEFkZFRvd2VyKDYwMCwgNTAwMCwxNTAgLCAyNTAwMDAwMDAwMDAwMDAwMDAwLCA0MDAwMDAwMDAwMDAwMDAwLCAwLCAwKTsKICAKICAgICAgICAvLyBUSElSRCB0b3dlci4gKElEID0gMikKICAgICAgICAvLyBSb2JpbiBIb29kIGhhcyB0byBleHBsb3JlIGEgZm9yZXN0IQogICAgICAgIC8vIDEgaG91ciB0aW1lIHJhbmdlIQogICAgICAgIC8vIDUwJSBwYXlvdXQgb2YgdGhlIGFtb3VudCAKICAgICAgICAvLyAxMCUgcHJpY2UgaW5jcmVhc2UgCiAgICAgICAgLy8gVGltZXIgaGFsZnMgYXQgMSBFVEguIAogICAgICAgIC8vIE1pbmltdW0gcHJpY2UgaXMgNSBmaW5uZXkuIAogICAgICAgIC8vIFByaWNlIHJlZHVjZXMgNTAlICgxMDAlIC0gNTAlKSBhZnRlciBzb21lb25lIGhhcyB3b24gdGhlIHRvd2VyIQogICAgICAgIC8vIDAlIGNyZWF0b3IgZmVlLiAKICAgICAgICBBZGRUb3dlcigzNjAwLCA1MDAwLCAxMDAwLCAoMTAwMDAwMDAwMDAwMDAwMDAwMCksIDUwMDAwMDAwMDAwMDAwMDAsIDUwMDAsIDApOwoKICAgICAgICAvLyBGT1VSVEggdG93ZXIuIChJRCA9IDMpCiAgICAgICAgLy8gUm9iaW4gSG9vZCBoYXMgdG8gY3Jvc3MgYSBzZWEgdG8gYW4gaXNsYW5kIQogICAgICAgIC8vIDEgZGF5IHRpbWUgcmFuZ2UhCiAgICAgICAgLy8gNzUlIHBheW91dCBvZiB0aGUgYW1vdW50IAogICAgICAgIC8vIDIwJSBwcmljZSBpbmNyZWFzZSAKICAgICAgICAvLyBUaW1lciBoYWxmcyBhdCAyIEVUSC4KICAgICAgICAvLyBNaW5pbXVtIHByaWNlIGlzIDEwIGZpbm5leS4gCiAgICAgICAgLy8gUHJpY2UgcmVkdWNlcyA3NSUgKDEwMCUgLSAyNSUpIGFmdGVyIHNvbWVvbmUgaGFzIHdvbiB0aGUgdG93ZXIhCiAgICAgICAgLy8gMCUgY3JlYXRvciBmZWUuIAogICAgICAgIEFkZFRvd2VyKDg2NDAwLCA3NTAwLCAyMDAwLCAoMjAwMDAwMDAwMDAwMDAwMDAwMCksIDEwMDAwMDAwMDAwMDAwMDAwLCAyNTAwLCAwKTsKICAgICAgICAgCgogIAogICAgICAgIC8vIEZJRlRIIHRvd2VyIChJRCA9IDQpCiAgICAgICAgLy8gUm9iaW4gSG9vZCBoYXMgdG8gZmx5IHdpdGggYSByb2NrZXQgdG8gYSBuZWFyYnkgYXN0ZXJvaWQhCiAgICAgICAgLy8gMSB3ZWVrIHRpbWUgcmFuZ2UhCiAgICAgICAgLy8gNzUlIHBheW91dCBvZiB0aGUgYW1vdW50IAogICAgICAgIC8vIDI1JSBwcmljZSBpbmNyZWFzZSAKICAgICAgICAvLyBUaW1lciBoYWxmcyBhdCAyLjUgRVRILgogICAgICAgIC8vIE1pbmltdW0gcHJpY2UgaXMgNTAgZmlubmV5LiAKICAgICAgICAvLyBQcmljZSByZWR1Y2VzIDEwMCUgKDEwMCUgLSAwJSkgYWZ0ZXIgc29tZW9uZSBoYXMgd29uIHRoZSB0b3dlciEKICAgICAgICAvLyAwJSBjcmVhdG9yIGZlZS4gCiAgICAgICAgQWRkVG93ZXIoNjA0ODAwLCA3NTAwLCAyNTAwLCAoMjUwMDAwMDAwMDAwMDAwMDAwMCksIDUwMDAwMDAwMDAwMDAwMDAwLCAwLCAwKTsKICAgIH0KICAgIAogICAgLy8gRGV2ZWxvcGVyIChvd25lcikgY2FuIG9wZW4gZ2FtZSAKICAgIC8vIE9wZW4gY2FuIG9ubHkgYmUgc2V0IHRydWUgb25jZSwgY2FuIG5ldmVyIGJlIHNldCBmYWxzZSBhZ2Fpbi4gCiAgICBmdW5jdGlvbiBPcGVuR2FtZSgpIHB1YmxpYyBvbmx5T3duZXJ7CiAgICAgICAgb3BlbiA9IHRydWU7CiAgICB9CiAgICAKICAgIC8vIERldmVsb3BlciBjYW4gY2hhbmdlIGZlZS4gCiAgICAvLyBEZXZGZWUgaXMgb25seSBhIHNpbXBsZSBpbnQsIHNvIGNhbiAgYmUgMCwxLDIsMyw0LDUgCiAgICAvLyBGZWUgaGFzIHRvIGJlIGxlc3Mgb3IgZXF1YWwgdG8gNSwgb3RoZXJ3aXNlIGl0IGlzIHJldmVydGVkLiAKICAgIGZ1bmN0aW9uIENoYW5nZUZlZSh1aW50OCBfZmVlKSBwdWJsaWMgb25seU93bmVyewogICAgICAgIHJlcXVpcmUoX2ZlZSA8PSA1KTsKICAgICAgICBkZXZGZWUgPSBfZmVlOwogICAgfQogICAgCiAgICAvLyBEZXZlbG9wZXIgY2hhbmdlIGFtb3VudCBwcmljZSB0byBhZGQgdG93ZXIuIAogICAgZnVuY3Rpb24gQ2hhbmdlQW1vdW50UHJpY2UodWludDI1NiBfbmV3UHJpY2UpIHB1YmxpYyBvbmx5T3duZXJ7CiAgICAgICAgYW1vdW50VG9DcmVhdGUgPSBfbmV3UHJpY2U7CiAgICB9CiAgICAKICAgIC8vIEFkZCBUb3dlci4gT25seSBwb3NzaWJsZSBpZiB5b3UgYXJlIGRldmVsb3BlciBPUiBpZiBjb250cmFjdCBpcyBvcGVuLiAKICAgIC8vIElmIHlvdSB3YW50IHRvIGJ1eSBhIHRvd2VyLCB5b3UgaGF2ZSB0byBwYXkgYW1vdW50VG9DcmVhdGUgKD0gd2VpKSB0byBkZXZlbG9wZXIuIAogICAgLy8gVGhlIGRlZmF1bHQgdmFsdWUgaXMgMC4wMiBFVEguCiAgICAvLyBZb3UgY2FuIGNoZWNrIHRoZSBwcmljZSAoaW4gd2VpKSBlaXRoZXIgb24gc2l0ZSBvciBieSByZWFkaW5nIHRoZSBjb250cmFjdCBvbiBldGhlcnNjYW4uCiAgICAKICAgIC8vIF90aW1lcjogVGltZXIgaW4gc2Vjb25kcyBmb3IgaG93IGxvbmcgc29tZW9uZSBoYXMgdG8gd2FpdCBiZWZvcmUgaGUgd2lucyB0aGUgdG93ZXIuIFRoaXMgaXMgY29uc3RhbnQgYW5kIHdpbGwgbm90IGJlIGNoYW5nZWQuIAogICAgLy8gSWYgeW91IHNldCBfYW1vdW50VG9IYWxmVGltZSB0byBub256ZXJvLCBnZXRUaW1lciB3aWxsIHJlZHVjZSBsZXNzIGFtb3VudHMgKG1pbmltdW0gMzAwIHNlY29uZHMsIG1heGltdW0gX3RpbWVyKSBmcm9tIHRoZSBmb3JtdWxhIFRvd2VyLnRpbWUgKiAoVG93ZXIuYW1vdW50VG9IYWxmVGltZSAvIChUb3dlci5hbW91bnQgKyBUb3dlci5hbW91bnRUb0hhbGZUaW1lKSAKICAgIC8vIF90aW1lciBoYXMgdG8gYmUgYmV0d2VlbiAzMDAgc2Vjb25kcyAoIDUgbWludXRlcykgYW5kIG1heGltYWxseSAzNjYgZGF5cyAoMzY2KjI0KjYwKjYwKSAod2hpY2ggaXMgbWF4aW1hbGx5IG9uZSB5ZWFyKTsKICAgIAogICAgLy9fcGF5b3V0OiBudW1iZXIgYmV0d2VlbiAwLTEwMDAwLCBpcyBhIHBlY2VudDogMCUgPSAwLCAxMDAlID0gMTAwMDAuIFNldHMgaG93IG11Y2ggcGVyY2VudGFnZSBvZiB0aGUgVG93ZXIuYW1vdW50IGlzIHBhaWQgdG8gVG93ZXIub3duZXIgaWYgaGUgd2lucy4gCiAgICAvLyBUaGUgcmVzdCBvZiB0aGUgYW1vdW50IG9mIHRoYXQgdG93ZXIgd2hpY2ggc3RheXMgb3ZlciB3aWxsIGJlIGtlcHQgaW5zaWRlIHRoZSB0b3dlciwgdXAgZm9yIGEgbmV3IHJvdW5kLiAKICAgIC8vIElmIHNvbWVvbmUgd2lucyBhbmQgYW1vdW50IGlzIG1vcmUgdGhhbiB0aGUgbWluUHJpY2UsIHRpbWVzdGFtcCBpcyBzZXQgdG8gdGhlIGJsb2NrY2hhaW4gdGltZXIgYW5kIG5ldyByb3VuZCBpcyBzdGFydGVkIHdpdGhvdXQgY2hhbmdpbmcgdGhlIG93bmVyIG9mIHRoZSBUb3dlciEKICAgIAogICAgLy8gX3ByaWNlSW5jcmVhc2U6IG51bWJlciBiZXR3ZWVuIDAtMTAwMDAsIGlzIGEgcGVjZW50OiAwJSA9IDAsIDEwMCUgPSAxMDAwMC4gU2V0cyBob3cgbXVjaCBwZXJjZW50YWdlIHRoZSBwcmljZSB3aWxsIGluY3JlYXNlLiBOb3RlIHRoYXQgIjEwMCUiIGlzIGFsd2F5cyBhZGRlZC4gCiAgICAvLyBJZiB5b3Ugc2V0IGl0IGF0IDUwMDAgKHdoaWNoIGlzIDUwJSkgdGhlbiB0aGUgdG90YWwgaW5jcmVhc2Ugb2YgcHJpY2UgaXMgMTUwJS4gU28gaWYgc29tZW9uZSBidXlzIHRvd2VyIGZvciBwcmljZSBhdCAxIEVUSCwgdGhlIG5ldyBwcmljZSBpcyB0aGVuIDEuNSBFVEguIAogICAgCiAgICAvLyBfYW1vdW50VG9IYWxmVGltZTogbnVtYmVyIG9mIFdlaSB3aGljaCBzZXRzIGhvdyBtdWNoIFdlaSB5b3UgbmVlZCBpbiBvcmRlciB0byByZWR1Y2UgdGhlIHRpbWUgbmVjZXNzYXJ5IHRvIGhvbGQgdG93ZXIgdG8gd2luIGZvciA1MCUuCiAgICAvLyBGb3JtdWxhIHVzZWQgaXMgVG93ZXIudGltZSAqIChUb3dlci5hbW91bnRUb0hhbGZUaW1lIC8gKFRvd2VyLmFtb3VudCArIFRvd2VyLmFtb3VudFRvSGFsZlRpbWUpIHRvIGNhbGN1bGF0ZSB0aGUgdGltZSBuZWNlc3NhcnkuCiAgICAvLyBJZiB5b3Ugc2V0IDAsIHRoZW4gdGhpcyBmb3JtdWxhIGlzIG5vdCB1c2VkIGFuZCBUb3dlci50aW1lIGlzIGFsd2F5cyByZXR1cm5lZC4KICAgIC8vIER1ZSB0byBvdmVyZmxvd3MgdGhlIG1pbmltdW0gYW1vdW50ICh3aGljaCBpcyByZWFzb25hYmxlKSBpcyBzdGlsbCAxLzEwMDAgZmlubmV5LiAKICAgIC8vIERvIG5vdCBtYWtlIHRoaXMgbnVtYmVyIGV4dHJlbWVseSBoaWdoLiAKICAgIAogICAgLy8gX21pblByaWNlOiBhbW91bnQgb2YgV2VpIHdoaWNoIHRoZSBzdGFydGluZyBwcmljZSBvZiB0aGUgVG93ZXIgaXMuIE1pbmltdW0gaXMgMS8xMDAwIGZpbm5leSwgbWF4IGlzIDEgRVRILiAKICAgIC8vIFRoaXMgaXMgYWxzbyB0aGUgY2hlY2sgdmFsdWUgdG8gc2VlIGlmIHRoZSByb3VuZCBtb3ZlcyBvbiBhZnRlciBzb21lb25lIGhhcyB3b24uIElmIGFtb3VudCA+PSBtaW5QcmljZSB0aGVuIHRoZSB0aW1lc3RhbXAgd2lsbCBiZSB1cGdyYWRlZCBhbmQgYSBuZXcgcm91bmQgd2lsbCBzdGFydAogICAgLy8gT2YgY291cnNlIHRoYXQgaXMgYWZ0ZXIgcGF5aW5nIHRoZSBvd25lciBvZiB0aGlzIHRvd2VyLiBUaGUgb3duZXIgb2YgdGhlIHRvd2VyIGRvZXMgbm90IGNoYW5nZS4gSGUgY2FuIHdpbiBtdWx0aXBsZSB0aW1lcywgaW4gdGhlb3J5LiAKICAgIAogICAgLy8gX21pblByaWNlQWZ0ZXJXaW46IG51bWJlciBiZXR3ZWVuIDAtMTAwMDAsIGlzIGEgcGVjZW50OiAwJSA9IDAsIDEwMCUgPSAxMDAwMC4gQWZ0ZXIgc29tZW9uZSB3aW5zLCB0aGUgbmV3IHByaWNlIG9mIHRoZSBnYW1lIGlzIGNhbGN1bGF0ZWQuCiAgICAvLyBUaGlzIGlzIGRvbmUgYnkgZG9pbmcgVG93ZXIucHJpY2UgKiAoVG93ZXIubWluUHJpY2VBZnRlcldpbikgLyAxMDAwMDsgCiAgICAvLyBJZiBUb3dlci5wcmljZSBpcyBub3cgbGVzcyB0aGFuIFRvd2VyLm1pblByaWNlIHRoZW4gdGhlIFRvd2VyLnByaWNlIHdpbGwgYmUgc2V0IHRvIFRvd2VyLm1pblByaWNlLgoKICAgIC8vIF9jcmVhdG9yRmVlOiBudW1iZXIgYmV0d2VlbiAwLTEwMDAwLCBpcyBhIHBlY2VudDogMCUgPSAwLCAxMDAlID0gMTAwMDAuIE1heGltdW0gaXMgMjUwMCAoMjUlKSwgd2l0aCAyNTAwIGluY2x1ZGVkLiAKICAgIC8vIElmIHlvdSBjcmVhdGUgYSB0b3dlciwgeW91IGNhbiBzZXQgdGhpcyB2YWx1ZS4gSWYgcGVvcGxlIHBheSB0aGUgdG93ZXIsIHRoZW4gdGhpcyBwZXJjZW50YWdlIG9mIHRoZSBwcmljZSBpcyB0YWtlbiBhbmQgaXMgc2VudCB0byB5b3UuCiAgICAvLyBUaGUgcmVzdCwgYWZ0ZXIgc3VidHJhY3RpbmcgdGhlIGRldiBmZWUsIHdpbGwgYmUgcHV0IGludG8gVG93ZXIuYW1vdW50LiAKICAgIAogICAgZnVuY3Rpb24gQWRkVG93ZXIodWludDMyIF90aW1lciwgdWludDE2IF9wYXlvdXQsIHVpbnQxNiBfcHJpY2VJbmNyZWFzZSwgdWludDI1NiBfYW1vdW50VG9IYWxmVGltZSwgdWludDI1NiBfbWluUHJpY2UsIHVpbnQxNiBfbWluUHJpY2VBZnRlcldpbiwgdWludDE2IF9jcmVhdG9yRmVlKSBwdWJsaWMgcGF5YWJsZSBvbmx5T3Blbk9yT3duZXIgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJlcXVpcmUgKF90aW1lciA+PSAzMDApOyAvLyBOZWVkIGF0IGxlYXN0IDUgbWludXRlcwogICAgICAgIHJlcXVpcmUgKF90aW1lciA8PSAzMTYyMjQwMCk7CiAgICAgICAgcmVxdWlyZSAoX3BheW91dCA+PSAwICYmIF9wYXlvdXQgPD0gMTAwMDApOwogICAgICAgIHJlcXVpcmUgKF9wcmljZUluY3JlYXNlID49IDAgJiYgX3ByaWNlSW5jcmVhc2UgPD0gMTAwMDApOwogICAgICAgIHJlcXVpcmUgKF9taW5QcmljZUFmdGVyV2luID49IDAgJiYgX21pblByaWNlQWZ0ZXJXaW4gPD0gMTAwMDApOwogICAgICAgLy9hbW91bnQgdG8gaGFsZiB0aW1lIGNhbiBiZSBldmVyeXRoaW5nLCBidXQgaGFzIHRvIGJlIDAgT1IgMTAwMDAwMDAwMDAwMCBkdWUgdG8gZGl2aXNpb24gcnVsZXMKICAgICAgICByZXF1aXJlKF9hbW91bnRUb0hhbGZUaW1lID09IDAgfHwgX2Ftb3VudFRvSGFsZlRpbWUgPj0gMTAwMDAwMDAwMDAwMCk7CiAgICAgICAgcmVxdWlyZShfY3JlYXRvckZlZSA+PSAwICYmIF9jcmVhdG9yRmVlIDw9IDI1MDApOwogICAgICAgIHJlcXVpcmUoX21pblByaWNlID49ICgxIHN6YWJvKSAmJiBfbWluUHJpY2UgPD0gKDEgZXRoZXIpKTsKICAgICAgICBpZiAobXNnLnNlbmRlciA9PSBvd25lcil7CiAgICAgICAgICAgIC8vIElmIG93bmVyIG1ha2Ugc3VyZSBjcmVhdG9yIGZlZSBpcyAwLgogICAgICAgICAgICBfY3JlYXRvckZlZSA9IDA7CiAgICAgICAgICAgIGlmIChtc2cudmFsdWUgPiAwKXsKICAgICAgICAgICAgICAgIG93bmVyLnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgICAgaWYgKG1zZy52YWx1ZSA+PSBhbW91bnRUb0NyZWF0ZSl7CiAgICAgICAgICAgICAgICB1aW50MjU2IHRvRGl2ID0gKG11bChhbW91bnRUb0NyZWF0ZSwgdG9rZW5EaXZpZGVuZCkpLzEwMDsKICAgICAgICAgICAgICAgIHVpbnQyNTYgbGVmdCA9IHN1YihhbW91bnRUb0NyZWF0ZSwgdG9EaXYpOwogICAgICAgICAgICAgICAgb3duZXIudHJhbnNmZXIobGVmdCk7CiAgICAgICAgICAgICAgICBhZGREaXZpZGVuZCh0b0Rpdik7CiAgICAgICAgICAgICAgICBwcm9jZXNzQnV5QW1vdW50KGFtb3VudFRvQ3JlYXRlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgcmV2ZXJ0KCk7IC8vIG5vdCBlbm91Z2ggRVRIIHNlbmQuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdWludDI1NiBkaWZmID0gc3ViKG1zZy52YWx1ZSwgYW1vdW50VG9DcmVhdGUpOwogICAgICAgICAgICAvLyBJZiB5b3Ugc2VuZCB0byBtdWNoLCB5b3Ugd2lsbCBnZXQgcmVzdCBiYWNrLgogICAgICAgICAgICAvLyBNaWdodCBiZSBjYXNlIGlmIGFtb3VudFRvQ3JlYXRlIGlzIHRyYW5zZmVycmVkIGFuZCB0aGlzIGlzIG5vdCBzZWVuLiAKICAgICAgICAgICAgaWYgKGRpZmYgPj0gMCl7CiAgICAgICAgICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGRpZmYpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAKICAgICAgICAvLyBDaGVjayBsYXRlc3QgdmFsdWVzLiAKCiAgICAgICAgCiAgICAgICAgLy8gQ3JlYXRlIHRvd2VyLiAKICAgICAgICB2YXIgTmV3VG93ZXIgPSBUb3dlcihfdGltZXIsIDAsIF9wYXlvdXQsIF9wcmljZUluY3JlYXNlLCBfbWluUHJpY2UsIDAsIF9taW5QcmljZSwgX2NyZWF0b3JGZWUsIF9hbW91bnRUb0hhbGZUaW1lLCBfbWluUHJpY2VBZnRlcldpbiwgbXNnLnNlbmRlciwgbXNnLnNlbmRlciwgIiIpOwogICAgICAgIAogICAgICAgIC8vIEluc2VydCB0aGlzIGludG8gYXJyYXkuIAogICAgICAgIFRvd2Vyc1tuZXh0X3Rvd2VyX2luZGV4XSA9IE5ld1Rvd2VyOwogICAgICAgIAogICAgICAgIC8vIEVtaXQgVG93ZXJDcmVhdGVkIGV2ZW50LiAKICAgICAgICBlbWl0IFRvd2VyQ3JlYXRlZChuZXh0X3Rvd2VyX2luZGV4KTsKICAgICAgICAKICAgICAgICAvLyBVcGdyYWRlIGluZGV4IGZvciBuZXh0IHRvd2VyLgogICAgICAgIG5leHRfdG93ZXJfaW5kZXggPSBhZGQobmV4dF90b3dlcl9pbmRleCwgMSk7CiAgICAgICAgcmV0dXJuIChuZXh0X3Rvd2VyX2luZGV4IC0gMSk7CiAgICB9CiAgICAKICAgIC8vIGdldFRpbWVyIG9mIFRvd2VySUQgdG8gc2VlIGhvdyBtdWNoIHRpbWUgKGluIHNlY29uZHMpIHlvdSBuZWVkIHRvIHdpbiB0aGF0IHRvd2VyLiAKICAgIC8vIG9ubHkgd29ya3MgaWYgY29udHJhY3QgaXMgb3Blbi4gCiAgICAvLyBpZCA9IHRvd2VyIGlkIChub3RlIHRoYXQgImZpcnN0IHRvd2VyIiBoYXMgSUQgMCBpbnRvIHRoZSBtYXBwaW5nKQogICAgZnVuY3Rpb24gZ2V0VGltZXIodWludDI1NiBfaWQpIHB1YmxpYyBvbmx5T3BlbiByZXR1cm5zICh1aW50MjU2KSAgewogICAgICAgIHJlcXVpcmUoX2lkIDwgbmV4dF90b3dlcl9pbmRleCk7CiAgICAgICAgdmFyIFVzZWRUb3dlciA9IFRvd2Vyc1tfaWRdOwogICAgICAgIC8vdW5zaWduZWQgbG9uZyBsb25nIGludCBwciA9ICB0b3RhbFByaWNlSGFsZi8oKHRvdGFsKS8xMDAwMDAwMDAwMDAwKyB0b3RhbFByaWNlSGFsZi8xMDAwMDAwMDAwMDAwKTsgICAgCiAgICAgICAgLy8gTm8gaGFsZiB0aW1lPyBSZXR1cm4gdG93ZXIuCiAgICAgICAgaWYgKFVzZWRUb3dlci5hbW91bnRUb0hhbGZUaW1lID09IDApewogICAgICAgICAgICByZXR1cm4gVXNlZFRvd2VyLnRpbWVyOwogICAgICAgIH0KICAgICAgICAKICAgICAgICB1aW50MjU2IHZhcjIgPSBVc2VkVG93ZXIuYW1vdW50VG9IYWxmVGltZTsKICAgICAgICB1aW50MjU2IHZhcjMgPSBhZGQoVXNlZFRvd2VyLmFtb3VudCAvIDEwMDAwMDAwMDAwMDAsIFVzZWRUb3dlci5hbW91bnRUb0hhbGZUaW1lIC8gMTAwMDAwMDAwMDAwMCk7CiAgICAgICAgCiAgICAgICAgCiAgICAgICBpZiAodmFyMiA9PSAwICYmIHZhcjMgPT0gMCl7CiAgICAgICAgICAgLy8gZXhjZXB0aW9uLCBib3RoIGFyZSB6ZXJvIT8gV2VpcmQsIHJldHVybiB0aW1lci4KICAgICAgICAgICByZXR1cm4gVXNlZFRvd2VyLnRpbWVyOwogICAgICAgfQogICAgICAgCgogICAgICAgCiAgICAgICB1aW50MjU2IHRhcmdldCA9IChtdWwoVXNlZFRvd2VyLnRpbWVyLCB2YXIyL3ZhcjMgKS8xMDAwMDAwMDAwMDAwKTsKICAgICAgIAogICAgICAgLy8gV2FybmluZywgaWYgZm9yIHNvbWUgcmVhc29uIHRoZSBjYWxjdWxhdGlvbiBnZXQgc3VwZXIgbG93LCBpdCB3aWxsIHJldHVybiAzMDAsIHdoaWNoIGlzIHRoZSBhYnNvbHV0ZSBtaW5pbXVtLgogICAgICAgLy9UaGlzIHByZXZlbnRzIHVzZXJzIGZyb20gd2lubmluZyBiZWNhdXNlIHBlb3BsZSBkb24ndCBoYXZlIGVub3VnaCB0aW1lIHRvIGVkaXQgZ2FzLCB3aGljaCB3b3VsZCBiZSB1bmZhaXIuCiAgICAgICBpZiAodGFyZ2V0IDwgMzAwKXsKICAgICAgICAgICByZXR1cm4gMzAwOwogICAgICAgfQogICAgICAgCiAgICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgCiAgICAvLyBJbnRlcm5hbCBwYXlvdXQgZnVuY3Rpb24uIAogICAgZnVuY3Rpb24gUGF5b3V0X2ludGVybih1aW50MjU2IF9pZCkgaW50ZXJuYWwgewogICAgICAgIC8vcGF5b3V0LgogICAgICAgIAogICAgICAgIHZhciBVc2VkVG93ZXIgPSBUb3dlcnNbX2lkXTsKICAgICAgICAvLyBDYWxjdWxhdGUgaG93IG11Y2ggaGFzIHRvIGJlIHBhaWQuIAogICAgICAgIHVpbnQyNTYgUGFpZCA9IG11bChVc2VkVG93ZXIuYW1vdW50LCBVc2VkVG93ZXIucGF5b3V0KSAvIDEwMDAwOwogICAgICAgIAogICAgICAgIC8vIFJlbW92ZSBwYWlkIGZyb20gYW1vdW50LiAKICAgICAgICBVc2VkVG93ZXIuYW1vdW50ID0gc3ViKFVzZWRUb3dlci5hbW91bnQsIFBhaWQpOwogICAgICAgIAogICAgICAgIC8vIFNlbmQgdGhpcyBQYWlkIGFtb3VudCB0byBvd25lci4gCiAgICAgICAgVXNlZFRvd2VyLm93bmVyLnRyYW5zZmVyKFBhaWQpOwogICAgICAgIAogICAgICAgIC8vIENhbGN1bGF0ZSBuZXcgcHJpY2UuIAogICAgICAgIHVpbnQyNTYgbmV3UHJpY2UgPSAoVXNlZFRvd2VyLnByaWNlICogVXNlZFRvd2VyLm1pblByaWNlQWZ0ZXJXaW4pLzEwMDAwOwogICAgICAgIAogICAgICAgIC8vIENoZWNrIGlmIGxvd2VyIHRoYW4gbWluUHJpY2U7IGlmIHllcywgc2V0IGl0IHRvIG1pblByaWNlLiAKICAgICAgICBpZiAobmV3UHJpY2UgPCBVc2VkVG93ZXIubWluUHJpY2UpewogICAgICAgICAgICBuZXdQcmljZSA9IFVzZWRUb3dlci5taW5QcmljZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gVXBncmFkZSB0b3dlciBwcmljZS4gCiAgICAgICAgVXNlZFRvd2VyLnByaWNlID0gbmV3UHJpY2U7CiAgICAgICAgCiAgICAgICAgIC8vIFdpbGwgd2UgbW92ZSBvbiB3aXRoIGdhbWU/CiAgICAgICAgaWYgKFVzZWRUb3dlci5hbW91bnQgPiBVc2VkVG93ZXIubWluUHJpY2UpewogICAgICAgICAgICAvLyBSRVNUQVJUIGdhbWUuIE9XTkVSIFNUQVlTIFNBTUUgCiAgICAgICAgICAgIFVzZWRUb3dlci50aW1lc3RhbXAgPSBibG9jay50aW1lc3RhbXA7CiAgICAgICAgfQogICAgICAgIGVsc2V7CiAgICAgICAgICAgIC8vIGFtb3VudCB0b28gbG93LiBkbyBub3QgcmVzdGFydC4KICAgICAgICAgICAgVXNlZFRvd2VyLnRpbWVzdGFtcCA9IDA7CiAgICAgICAgfQogICAgCiAgICAgICAgLy8gRW1pdCBUb3dlcldvbiBldmVudC4gCiAgICAgICAgZW1pdCBUb3dlcldvbihfaWQpOwogICAgfQogICAgCiAgICAKICAgIC8vIFRha2VQcml6ZSwgY2FuIGJlIGNhbGxlZCBieSBldmVyeW9uZSBpZiBjb250cmFjdCBpcyBvcGVuLgogICAgLy8gVXN1YWxseSBvd25lciBvZiB0b3dlciBjYW4gY2FsbCB0aGlzLiAKICAgIC8vIE5vdGUgdGhhdCBpZiB5b3UgYXJlIHRvbyBsYXRlIGJlY2F1c2Ugc29tZW9uZSBlbHNlIHBhaWQgaXQsIHRoZW4gdGhpcyBwZXJzb24gd2lsbCBwYXkgeW91LiAKICAgIC8vIFRoZXJlIGlzIG5vIHdheSB0byBjaGVhdCB0aGF0LgogICAgLy8gaWQgPSB0b3dlciBpZC4gKGlkJ3Mgc3RhcnQgd2l0aCAwLCBub3QgMSEpCiAgICBmdW5jdGlvbiBUYWtlUHJpemUodWludDI1NiBfaWQpIHB1YmxpYyBvbmx5T3BlbnsKICAgICAgICByZXF1aXJlKF9pZCA8IG5leHRfdG93ZXJfaW5kZXgpOwogICAgICAgIHZhciBVc2VkVG93ZXIgPSBUb3dlcnNbX2lkXTsKICAgICAgICByZXF1aXJlKFVzZWRUb3dlci50aW1lc3RhbXAgPiAwKTsgLy8gb3RoZXJ3aXNlIGdhbWUgaGFzIG5vdCBzdGFydGVkLgogICAgICAgIHZhciBUaW1pbmcgPSBnZXRUaW1lcihfaWQpOwogICAgICAgIGlmIChibG9jay50aW1lc3RhbXAgPiAoYWRkKFVzZWRUb3dlci50aW1lc3RhbXAsICBUaW1pbmcpKSl7CiAgICAgICAgICAgIFBheW91dF9pbnRlcm4oX2lkKTsKICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgfQogICAgfQogICAgCiAgICAvLyBTaG9vdCB0aGUgcHJldmlvdXMgUm9iaW4gSG9vZCEgCiAgICAvLyBJZiB5b3Ugd2FudCwgeW91IGNhbiBhbHNvIGJ1eSB5b3VyIG93biB0b3dlciBhZ2Fpbi4gVGhpcyBtaWdodCBiZSB1c2VkIHRvIGV4dHJhY3QgbGVmdG92ZXJzIGludG8gdGhlIGFtb3VudC4gCiAgICAKICAgIC8vIF9pZCA9IHRvd2VyIGlkICAgKHN0YXJ0cyBhdCAwIGZvciBmaXJzdCB0b3dlcik7CiAgICAvLyBfcXVvdGUgaXMgb3B0aW9uYWw6IHlvdSBjYW4gdXBsb2FkIGEgcXVvdGUgdG8gdHJvbGwgeW91ciBlbmVtaWVzLgogICAgZnVuY3Rpb24gU2hvb3RSb2Jpbkhvb2QodWludDI1NiBfaWQsIHN0cmluZyBfcXVvdGUpIHB1YmxpYyBwYXlhYmxlIG9ubHlPcGVuewogICAgICAgIHJlcXVpcmUoX2lkIDwgbmV4dF90b3dlcl9pbmRleCk7CiAgICAgICAgdmFyIFVzZWRUb3dlciA9IFRvd2Vyc1tfaWRdOwogICAgICAgIHZhciBUaW1pbmcgPSBnZXRUaW1lcihfaWQpOwogICAgCiAgICAgICAgLy8gQ2hlY2sgaWYgZ2FtZSBoYXMgc3RhcnRlZCBhbmQgaWYgd2UgYXJlIHRvbyBsYXRlLiBJZiB5ZXMsIHdlIHBheSBvdXQgYW5kIHJldHVybi4gCiAgICAgICAgaWYgKFVzZWRUb3dlci50aW1lc3RhbXAgIT0gMCAmJiBibG9jay50aW1lc3RhbXAgPiAoYWRkKFVzZWRUb3dlci50aW1lc3RhbXAsICBUaW1pbmcpKSl7CiAgICAgICAgICAgIFBheW91dF9pbnRlcm4oX2lkKTsKICAgICAgICAgICAgLy8gV2Ugd2lsbCBub3QgYnV5LCBnaXZlIHRva2VucyBiYWNrLiAKICAgICAgICAgICAgaWYgKG1zZy52YWx1ZSA+IDApewogICAgICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gQ2hlY2sgaWYgZW5vdWdoIHByaWNlLiAKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBVc2VkVG93ZXIucHJpY2UpOwogICAgICAgIC8vIFRvd2VyIGNhbiBzdGlsbCBiZSBib3VnaHQsIGdyZWF0LiAKICAgICAgICAKICAgICAgICB1aW50MjU2IGRldkZlZV91c2VkID0gKG11bCggVXNlZFRvd2VyLnByaWNlLCA1KSkvMTAwOwogICAgICAgIHVpbnQyNTYgY3JlYXRvckZlZSA9IChtdWwoVXNlZFRvd2VyLmNyZWF0b3JGZWUsIFVzZWRUb3dlci5wcmljZSkpIC8gMTAwMDA7CiAgICAgICAgdWludDI1NiBkaXZGZWUgPSAobXVsKFVzZWRUb3dlci5wcmljZSwgIHRva2VuRGl2aWRlbmQpKSAvIDEwMDsKICAgICAgICAKICAgICAgICAvLyBBZGQgZGl2aWRlbmQKICAgICAgICBhZGREaXZpZGVuZChkaXZGZWUpOwogICAgICAgIC8vIEJ1eSBkaXYgdG9rZW5zIAogICAgICAgIHByb2Nlc3NCdXlBbW91bnQoVXNlZFRvd2VyLnByaWNlKTsKICAgICAgICAKICAgICAgICAvLyBDYWxjdWxhdGUgd2hhdCB3ZSBwdXQgaW50byBhbW91bnQgKFRvUGF5KQogICAgICAgIAogICAgICAgIHVpbnQyNTYgVG9QYXkgPSBzdWIoc3ViKFVzZWRUb3dlci5wcmljZSwgZGV2RmVlX3VzZWQpLCBjcmVhdG9yRmVlKTsKICAgICAgICAKICAgICAgICAvL1BheSBjcmVhdG9yIHRoZSBjcmVhdG9yIGZlZS4gCiAgICAgICAgdWludDI1NiBkaWZmID0gc3ViKG1zZy52YWx1ZSwgVXNlZFRvd2VyLnByaWNlKTsKICAgICAgICBpZiAoY3JlYXRvckZlZSAhPSAwKXsKICAgICAgICAgICAgVXNlZFRvd2VyLmNyZWF0b3IudHJhbnNmZXIoY3JlYXRvckZlZSk7CiAgICAgICAgfQogICAgICAgIC8vIERpZCB5b3Ugc2VuZCB0b28gbXVjaD8gR2V0IGJhY2sgZGlmZmVyZW5jZS4gCiAgICAgICAgaWYgKGRpZmYgPiAwKXsKICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihkaWZmKTsgCiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIFBheSBkZXYuIAogICAgICAgIG93bmVyLnRyYW5zZmVyKGRldkZlZV91c2VkKTsKICAgICAgICAKICAgICAgICAvLyBDaGFuZ2UgcmVzdWx0cy4gCiAgICAgICAgLy8gU2V0IHRpbWVzdGFtcCB0byBjdXJyZW50IHRpbWUuIAogICAgICAgIFVzZWRUb3dlci50aW1lc3RhbXAgPSBibG9jay50aW1lc3RhbXA7CiAgICAgICAgLy8gU2V0IHlvdSBhcyBvd25lciAKICAgICAgICBVc2VkVG93ZXIub3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIC8vIFNldCAob3IgcmVzZXQpIHF1b3RlIAogICAgICAgIFVzZWRUb3dlci5xdW90ZSA9IF9xdW90ZTsKICAgICAgICAvLyBBZGQgVG9QYXkgdG8gYW1vdW50LCB3aGljaCB5b3UgY2FuIGVhcm4gaWYgeW91IHdpbi4gCiAgICAgICAgVXNlZFRvd2VyLmFtb3VudCA9IGFkZChVc2VkVG93ZXIuYW1vdW50LCBzdWIoVG9QYXksIGRpdkZlZSkpOwogICAgICAgIC8vIFVwZ3JhZGUgcHJpY2Ugb2YgdG93ZXIKICAgICAgICBVc2VkVG93ZXIucHJpY2UgPSAoVXNlZFRvd2VyLnByaWNlICogKDEwMDAwICsgVXNlZFRvd2VyLnByaWNlSW5jcmVhc2UpKSAvIDEwMDAwOwogICAgICAgIAogICAgICAgIC8vIEVtaXQgVG93ZXJCb3VnaHQgZXZlbnQgCiAgICAgICAgZW1pdCBUb3dlckJvdWdodChfaWQpOwogICAgfQogICAgCgogICAgCiAgICAKICAgIAogICAgCiAgICAvLyBOb3QgaW50ZXJlc3RpbmcsIHNhZmUgbWF0aCBmdW5jdGlvbnMKICAgIAogICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgaWYgKGEgPT0gMCkgewogICAgICAgICByZXR1cm4gMDsKICAgICAgfQogICAgICB1aW50MjU2IGMgPSBhICogYjsKICAgICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgICByZXR1cm4gYzsKICAgfQoKICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgICByZXR1cm4gYzsKICAgfQoKICAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgIHJldHVybiBhIC0gYjsKICAgfQoKICAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgIGFzc2VydChjID49IGEpOwogICAgICByZXR1cm4gYzsKICAgfQogICAgCiAgICAKICAgIC8vIFNUQVJUIE9GIERJVklERU5EIFBBUlQKCgogICAgLy8gdG90YWwgbnVtYmVyIG9mIHRva2VucwogICAgdWludDI1NiBwdWJsaWMgbnVtVG9rZW5zOwogICAgLy8gYW1vdW50IG9mIGRpdmlkZW5kIGluIHBvb2wgCiAgICB1aW50MjU2IHB1YmxpYyBldGhEaXZpZGVuZEFtb3VudDsKICAgIC8vIDE1IHN6YWJvIHN0YXJ0IHByaWNlIHBlciB0b2tlbiAKICAgIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIHRva2VuU3RhcnRQcmljZSA9IDEwMDAwMDAwMDAwMDA7CiAgICAvLyAxIHN6YWJvIGluY3JlYXNlIHBlciB0b2tlbiAKICAgIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIHRva2VuSW5jcmVhc2UgPSAxMDAwMDAwMDAwMDA7CiAgICAKICAgIC8vIHRva2VuIHByaWNlIHRyYWNrZXIuIAogICAgdWludDI1NiBwdWJsaWMgdG9rZW5QcmljZSA9IHRva2VuU3RhcnRQcmljZTsKICAgIAogICAgLy8gcGVyY2VudGFnZSB0b2tlbiBkaXZpZGVuZCAKICAgIHVpbnQ4IGNvbnN0YW50IHB1YmxpYyB0b2tlbkRpdmlkZW5kID0gNTsKICAgIAogICAgLy8gdG9rZW4gc2NhbGUgZmFjdG9yIHRvIG1ha2Ugc3VyZSBtYXRoIGlzIGNvcnJlY3QuCiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyB0b2tlblNjYWxlRmFjdG9yID0gMTAwMDsKICAgIAogICAgLy8gYWRkcmVzcyBsaW5rIHRvIGhvdyBtdWNoIHRva2VuIHRoYXQgYWRkcmVzcyBoYXMgCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIHRva2Vuc1BlckFkZHJlc3M7CiAgICAvL21hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgcGF5bWVudHM7CiAgICAKICAgIAogICAgLy8gYWRkIGRpdmlkZW5kIHRvIHBvb2wKICAgIGZ1bmN0aW9uIGFkZERpdmlkZW5kKHVpbnQyNTYgYW10KSBpbnRlcm5hbCB7CiAgICAgICAgZXRoRGl2aWRlbmRBbW91bnQgPSBldGhEaXZpZGVuZEFtb3VudCArIGFtdDsKICAgIH0KICAgIAogICAgLy8gZ2V0IGhvdyBtdWNoIHRva2VucyB5b3UgZ2V0IGZvciBhbW91bnQgCiAgICAvLyBiYWggYXJlYSBjYWxjdWxhdGlvbiByZXN1bHRzIGluIGEgcXVhZHJhdGljIGVxdWF0aW9uCiAgICAvLyBpIGhhdGUgc3F1YXJlIHJvb3RzIGluIHNvbGlkaXR5CiAgICBmdW5jdGlvbiBnZXROdW1Ub2tlbnModWludDI1NiBhbXQpIGludGVybmFsICByZXR1cm5zICh1aW50MjU2KXsKICAgICAgICB1aW50MjU2IGEgPSB0b2tlbkluY3JlYXNlOwogICAgICAgIHVpbnQyNTYgYiA9IDIqdG9rZW5QcmljZSAtIHRva2VuSW5jcmVhc2U7CiAgICAgIC8vICB2YXIgYyA9IC0yKmFtdDsKICAgICAgICB1aW50MjU2IEQgPSBiKmIgKyA4KmEqYW10OwogICAgICAgIHVpbnQyNTYgc3FydEQgPSB0b2tlblNjYWxlRmFjdG9yKnNxcnQoRCk7CiAgICAgICAgLy91aW50MjU2IChzcXJ0RCAtIGIpIC8gKDIqYSk7CiAgICAgICAgcmV0dXJuIChzcXJ0RCAtIChiICogdG9rZW5TY2FsZUZhY3RvcikpIC8gKDIqYSk7CiAgICB9CiAgICAKICAgIC8vIGJ1eSB0b2tlbnMsIG9ubHkgYmVpbmcgY2FsbGVkIGZyb20gcm9iaW5ob29kLiAKICAgIGZ1bmN0aW9uIHByb2Nlc3NCdXlBbW91bnQodWludDI1NiBhbXQpIGludGVybmFsIHsKICAgICAgICB1aW50MjU2IHRva2VucyA9IGdldE51bVRva2VucyhhbXQgKTsKICAgICAgICB0b2tlbnNQZXJBZGRyZXNzW21zZy5zZW5kZXJdID0gYWRkKHRva2Vuc1BlckFkZHJlc3NbbXNnLnNlbmRlcl0sIHRva2Vucyk7CgogICAgICAgIAogICAgICAgIG51bVRva2VucyA9IGFkZChudW1Ub2tlbnMsIHRva2Vucyk7CiAgICAgICAgLy91aW50MjU2IHRva2Vuc19ub3Jtc2NhbGUgPSB0b2tlbnM7CiAgICAgICAgLy9wdXNodWludCh0b2tlbnMpOwogICAgICAgIAogICAgICAgIC8vIGNoZWNrIG5ldyBwcmljZS4KICAgICAgICAKICAgICAgICAvL3Rva2VuUHJpY2UgPSB0b2tlblByaWNlICsgKCggKHRva2VucyAqIHRva2VucyApICsgdG9rZW5zKSAvIDIpICogdG9rZW5JbmNyZWFzZTsKICAgICAgICAKICAgICAgIHRva2VuUHJpY2UgPSBhZGQodG9rZW5QcmljZSAsICgobXVsKHRva2VuSW5jcmVhc2UsIHRva2VucykpL3Rva2VuU2NhbGVGYWN0b3IpKTsKCiAgICB9CiAgICAKICAgIC8vIHNlbGwgQUxMIHlvdXIgdG9rZW5zIHRvIGNsYWltIHlvdXIgZGl2aWRlbmQgCiAgICBmdW5jdGlvbiBzZWxsVG9rZW5zKCkgcHVibGljIHsKICAgICAgICB1aW50MjU2IHRva2VucyA9IHRva2Vuc1BlckFkZHJlc3NbbXNnLnNlbmRlcl07CiAgICAgICAgaWYgKHRva2VucyA+IDAgJiYgbnVtVG9rZW5zID49IHRva2Vucyl7CiAgICAgICAgICAgIC8vIGdldCBhbW91bnQgb2YgdG9rZW5zOiAKICAgICAgICAgICAgdWludDI1NiB1c2V0ayA9IG51bVRva2VuczsKICAgICAgICAgICAgdWludDI1NiBhbXQgPSAwOwogICAgICAgICAgICBpZiAobnVtVG9rZW5zID4gMCl7CiAgICAgICAgICAgICBhbXQgPSAobXVsKHRva2VucywgZXRoRGl2aWRlbmRBbW91bnQpKS9udW1Ub2tlbnMgOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChudW1Ub2tlbnMgPCB0b2tlbnMpewogICAgICAgICAgICAgICAgdXNldGsgPSB0b2tlbnM7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIHVwZGF0ZSBwcmljZS4gCiAgICAgICAgICAgIAogICAgICAgICAgICB1aW50MjU2IG5QcmljZSA9IChzdWIodG9rZW5QcmljZSwgKChtdWwodG9rZW5JbmNyZWFzZSwgdG9rZW5zKSkvICgyKnRva2VuU2NhbGVGYWN0b3IpKSkpIDsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChuUHJpY2UgPCB0b2tlblN0YXJ0UHJpY2UpewogICAgICAgICAgICAgICAgblByaWNlID0gdG9rZW5TdGFydFByaWNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRva2VuUHJpY2UgPSBuUHJpY2U7IAogICAgICAgICAgICAKICAgICAgICAgICAgLy8gdXBkYXRlIHRva2VucyAKICAgICAgICAgICAgCiAgICAgICAgICAgIHRva2Vuc1BlckFkZHJlc3NbbXNnLnNlbmRlcl0gPSAwOyAKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIHVwZGF0ZSB0b3RhbCB0b2tlbnMgCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAodG9rZW5zIDw9IG51bVRva2Vucyl7CiAgICAgICAgICAgICAgICBudW1Ub2tlbnMgPSBudW1Ub2tlbnMgLSB0b2tlbnM7IAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICBudW1Ub2tlbnMgPSAwOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICAgICAgLy8gdXBkYXRlIGRpdmlkZW5kIAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGFtdCA8PSBldGhEaXZpZGVuZEFtb3VudCl7CiAgICAgICAgICAgICAgICBldGhEaXZpZGVuZEFtb3VudCA9IGV0aERpdmlkZW5kQW1vdW50IC0gYW10OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICBldGhEaXZpZGVuZEFtb3VudCA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIHBheSAKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChhbXQgPiAwKXsKICAgICAgICAgICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoYW10KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIAogICAgLy8gc3F1YXJlIHJvb3QgZnVuY3Rpb24sIHRha2VuIGZyb20gZXRoZXJldW0gc3RhY2sgZXhjaGFuZ2UgCiAgICBmdW5jdGlvbiBzcXJ0KHVpbnQgeCkgaW50ZXJuYWwgcmV0dXJucyAodWludCB5KSB7CiAgICB1aW50IHogPSAoeCArIDEpIC8gMjsKICAgIHkgPSB4OwogICAgICAgIHdoaWxlICh6IDwgeSkgewogICAgICAgICAgICB5ID0gejsKICAgICAgICAgICAgeiA9ICh4IC8geiArIHopIC8gMjsKICAgICAgICB9CiAgICB9CgogICAgCn0='.
	

]
