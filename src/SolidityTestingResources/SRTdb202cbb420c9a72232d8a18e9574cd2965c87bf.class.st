Class {
	#name : #SRTdb202cbb420c9a72232d8a18e9574cd2965c87bf,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTdb202cbb420c9a72232d8a18e9574cd2965c87bf >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGlmIChhID09IDApIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9Cn0KCgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCiAgICAvKioKICAgICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAgICogYWNjb3VudC4KICAgICAqLwogICAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAgICovCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vIFJldHVybiB0cnVlIGlmIHNlbmRlciBpcyBvd25lciBvciBzdXBlci1vd25lciBvZiB0aGUgY29udHJhY3QKICAgIGZ1bmN0aW9uIGlzT3duZXIoKSBpbnRlcm5hbCB2aWV3IHJldHVybnMoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgPT0gb3duZXIpIHJldHVybiB0cnVlOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KfQoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4KICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogICAgLyoqCiAgICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CgogICAgICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgICAqLwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kIGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBpbnRlcm5hbCBhbGxvd2VkOwoKICAgIC8qKgogICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1tfZnJvbV0pOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsKCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICAqCiAgICAqIEJld2FyZSB0aGF0IGNoYW5naW5nIGFuIGFsbG93YW5jZSB3aXRoIHRoaXMgbWV0aG9kIGJyaW5ncyB0aGUgcmlzayB0aGF0IHNvbWVvbmUgbWF5IHVzZSBib3RoIHRoZSBvbGQKICAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAgKiByYWNlIGNvbmRpdGlvbiBpcyB0byBmaXJzdCByZWR1Y2UgdGhlIHNwZW5kZXIncyBhbGxvd2FuY2UgdG8gMCBhbmQgc2V0IHRoZSBkZXNpcmVkIHZhbHVlIGFmdGVyd2FyZHM6CiAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZnlpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgICovCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCiAgICAvKioKICAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gaW5jcmVtZW50CiAgICAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsCiAgICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgICovCiAgICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXS5hZGQoX2FkZGVkVmFsdWUpOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgICAgIH0KICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9CgoKY29udHJhY3QgQ1RCU2FsZSBpcyBPd25hYmxlLCBTdGFuZGFyZFRva2VuIHsKCgogICAgdWludDggcHVibGljIGNvbnN0YW50IFRPS0VOX0RFQ0lNQUxTID0gMTg7ICAvLyBkZWNpbWFscwogICAgdWludDggcHVibGljIGNvbnN0YW50IFBSRV9TQUxFX1BFUkNFTlQgPSAyMDsgLy8gMjAlCgogICAgLy8gUHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4KICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJDYXJlZXIgVHJ1c3QgQmFuayI7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJDVEIiOwogICAgdWludDggcHVibGljIGRlY2ltYWxzID0gVE9LRU5fREVDSU1BTFM7IC8vIDE4IGRlY2ltYWxzIGlzIHRoZSBzdHJvbmdseSBzdWdnZXN0ZWQgZGVmYXVsdCwgYXZvaWQgY2hhbmdpbmcgaXQKCgogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHkgPSA1MDAwMDAwMDAwICogKDEwICoqIHVpbnQyNTYoVE9LRU5fREVDSU1BTFMpKTsgLy8gRml2ZSBiaWxsaW9uCiAgICB1aW50MjU2IHB1YmxpYyBwcmVTYWxlU3VwcGx5OyAvLyBQUkVfU0FMRV9QRVJDRU5UIC8gMjAgKiB0b3RhbFN1cHBseQogICAgdWludDI1NiBwdWJsaWMgc29sZFN1cHBseSA9IDA7IC8vIGN1cnJlbnQgc3VwcGx5IHRva2VucyBmb3Igc2VsbAogICAgdWludDI1NiBwdWJsaWMgc2VsbFN1cHBseSA9IDA7CiAgICB1aW50MjU2IHB1YmxpYyBidXlTdXBwbHkgPSAwOwogICAgYm9vbCBwdWJsaWMgc3RvcFNlbGwgPSBmYWxzZTsKICAgIGJvb2wgcHVibGljIHN0b3BCdXkgPSBmYWxzZTsKCiAgICAvKgogICAgCVNlbGwvQnV5IHByaWNlcyBpbiB3ZWkKICAgIAkxIEVUSCA9IDEwXjE4IG9mIHdlaQogICAgKi8KICAgIHVpbnQyNTYgcHVibGljIGJ1eUV4Y2hhbmdlUmF0ZSA9IDgwMDA7ICAgLy8gODAwMCBDVEIgdG9rZW5zIHBlciAxIEVUSHMKICAgIHVpbnQyNTYgcHVibGljIHNlbGxFeGNoYW5nZVJhdGUgPSA0MDAwMDsgIC8vIDEgRVRIIG5lZWQgNDAwMDAgQ1RCIHRva2VuCiAgICBhZGRyZXNzIHB1YmxpYyBldGhGdW5kRGVwb3NpdDsgIC8vIGRlcG9zaXQgYWRkcmVzcyBmb3IgRVRIIGZvciBDVEIgVGVhbS4KCgogICAgYm9vbCBwdWJsaWMgYWxsb3dUcmFuc2ZlcnMgPSB0cnVlOyAvLyBpZiB0cnVlIHRoZW4gYWxsb3cgY29pbiB0cmFuc2ZlcnMKCgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgZnJvemVuQWNjb3VudDsKCiAgICBib29sIHB1YmxpYyBlbmFibGVJbnRlcm5hbExvY2sgPSB0cnVlOyAvLyBpZiBmYWxzZSB0aGVuIGFsbG93IGNvaW4gdHJhbnNmZXJzIGJ5IGludGVybmFsIHNlbGwgbG9jawogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgaW50ZXJuYWxMb2NrQWNjb3VudDsKCgoKICAgIC8qIFRoaXMgZ2VuZXJhdGVzIGEgcHVibGljIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgY2xpZW50cyAqLwogICAgZXZlbnQgRnJvemVuRnVuZHMoYWRkcmVzcyB0YXJnZXQsIGJvb2wgZnJvemVuKTsKICAgIGV2ZW50IEluY3JlYXNlUHJlU2FsZVN1cHBseSh1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBEZWNyZWFzZVByZVNhbGVTdXBwbHkodWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgSW5jcmVhc2VTb2xkU2FsZVN1cHBseSh1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBEZWNyZWFzZVNvbGRTYWxlU3VwcGx5KHVpbnQyNTYgX3ZhbHVlKTsKCgogICAgLyogSW5pdGlhbGl6ZXMgY29udHJhY3Qgd2l0aCBpbml0aWFsIHN1cHBseSB0b2tlbnMgdG8gdGhlIGNyZWF0b3Igb2YgdGhlIGNvbnRyYWN0ICovCiAgICBmdW5jdGlvbiBDVEJTYWxlKCkgcHVibGljIHsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHRvdGFsU3VwcGx5OyAgICAgICAgICAgICAgICAgLy8gR2l2ZSB0aGUgY3JlYXRvciBhbGwgaW5pdGlhbCB0b2tlbnMKICAgICAgICBwcmVTYWxlU3VwcGx5ID0gdG90YWxTdXBwbHkgKiBQUkVfU0FMRV9QRVJDRU5UIC8gMTAwOyAgICAgIC8vIHByZVNhbGVTdXBwbHkKCiAgICAgICAgZXRoRnVuZERlcG9zaXQgPSBtc2cuc2VuZGVyOyAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlcG9zaXQgZXRoCiAgICAgICAgYWxsb3dUcmFuc2ZlcnMgPSBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbiBfaXNVc2VySW50ZXJuYWxMb2NrKCkgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIChlbmFibGVJbnRlcm5hbExvY2sgJiYgaW50ZXJuYWxMb2NrQWNjb3VudFttc2cuc2VuZGVyXSk7CiAgICB9CgogICAgLy8vIEBkZXYgaW5jcmVhc2UgdGhlIHRva2VuJ3Mgc3VwcGx5CiAgICBmdW5jdGlvbiBpbmNyZWFzZVByZVNhbGVTdXBwbHkgKHVpbnQyNTYgX3ZhbHVlKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlIChfdmFsdWUgKyBwcmVTYWxlU3VwcGx5IDwgdG90YWxTdXBwbHkpOwogICAgICAgIHByZVNhbGVTdXBwbHkgKz0gX3ZhbHVlOwogICAgICAgIEluY3JlYXNlUHJlU2FsZVN1cHBseShfdmFsdWUpOwogICAgfQoKICAgIC8vLyBAZGV2IGRlY3JlYXNlIHRoZSB0b2tlbidzIHN1cHBseQogICAgZnVuY3Rpb24gZGVjcmVhc2VQcmVTYWxlU3VwcGx5ICh1aW50MjU2IF92YWx1ZSkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZSAocHJlU2FsZVN1cHBseSAtIF92YWx1ZSA+IDApOwogICAgICAgIHByZVNhbGVTdXBwbHkgLT0gX3ZhbHVlOwogICAgICAgIERlY3JlYXNlUHJlU2FsZVN1cHBseShfdmFsdWUpOwogICAgfQoKICAgIC8vLyBAZGV2IGluY3JlYXNlIHRoZSB0b2tlbidzIHN1cHBseQogICAgZnVuY3Rpb24gaW5jcmVhc2VTb2xkU2FsZVN1cHBseSAodWludDI1NiBfdmFsdWUpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUgKF92YWx1ZSArIHNvbGRTdXBwbHkgPCB0b3RhbFN1cHBseSk7CiAgICAgICAgc29sZFN1cHBseSArPSBfdmFsdWU7CiAgICAgICAgSW5jcmVhc2VTb2xkU2FsZVN1cHBseShfdmFsdWUpOwogICAgfQoKICAgIC8vLyBAZGV2IGRlY3JlYXNlIHRoZSB0b2tlbidzIHN1cHBseQogICAgZnVuY3Rpb24gZGVjcmVhc2VTb2xkU2FsZVN1cHBseSAodWludDI1NiBfdmFsdWUpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUgKHNvbGRTdXBwbHkgLSBfdmFsdWUgPiAwKTsKICAgICAgICBzb2xkU3VwcGx5IC09IF92YWx1ZTsKICAgICAgICBEZWNyZWFzZVNvbGRTYWxlU3VwcGx5KF92YWx1ZSk7CiAgICB9CgogICAgLy8vIEBub3RpY2UgQ3JlYXRlIGBtaW50ZWRBbW91bnRgIHRva2VucyBhbmQgc2VuZCBpdCB0byBgdGFyZ2V0YAogICAgLy8vIEBwYXJhbSB0YXJnZXQgQWRkcmVzcyB0byByZWNlaXZlIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gbWludGVkQW1vdW50IHRoZSBhbW91bnQgb2YgdG9rZW5zIGl0IHdpbGwgcmVjZWl2ZQogICAgZnVuY3Rpb24gbWludFRva2VuKGFkZHJlc3MgdGFyZ2V0LCB1aW50MjU2IG1pbnRlZEFtb3VudCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgYmFsYW5jZXNbdGFyZ2V0XSArPSBtaW50ZWRBbW91bnQ7CiAgICAgICAgdG90YWxTdXBwbHkgKz0gbWludGVkQW1vdW50OwogICAgICAgIFRyYW5zZmVyKDAsIHRoaXMsIG1pbnRlZEFtb3VudCk7CiAgICAgICAgVHJhbnNmZXIodGhpcywgdGFyZ2V0LCBtaW50ZWRBbW91bnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGRlc3Ryb3lUb2tlbihhZGRyZXNzIHRhcmdldCwgdWludDI1NiBhbW91bnQpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGJhbGFuY2VzW3RhcmdldF0gLT0gYW1vdW50OwogICAgICAgIHRvdGFsU3VwcGx5IC09IGFtb3VudDsKICAgICAgICBUcmFuc2Zlcih0YXJnZXQsIHRoaXMsIGFtb3VudCk7CiAgICAgICAgVHJhbnNmZXIodGhpcywgMCwgYW1vdW50KTsKICAgIH0KCgogICAgLy8vIEBub3RpY2UgYGZyZWV6ZT8gUHJldmVudCB8IEFsbG93YCBgdGFyZ2V0YCBmcm9tIHNlbmRpbmcgJiByZWNlaXZpbmcgdG9rZW5zCiAgICAvLy8gQHBhcmFtIHRhcmdldCBBZGRyZXNzIHRvIGJlIGZyb3plbgogICAgLy8vIEBwYXJhbSBmcmVlemUgZWl0aGVyIHRvIGZyZWV6ZSBpdCBvciBub3QKICAgIGZ1bmN0aW9uIGZyZWV6ZUFjY291bnQoYWRkcmVzcyB0YXJnZXQsIGJvb2wgZnJlZXplKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBmcm96ZW5BY2NvdW50W3RhcmdldF0gPSBmcmVlemU7CiAgICAgICAgRnJvemVuRnVuZHModGFyZ2V0LCBmcmVlemUpOwogICAgfQoKICAgIC8vLyBAZGV2IHNldCBFdGhGdW5kRGVwb3NpdAogICAgZnVuY3Rpb24gc2V0RXRoRnVuZERlcG9zaXQoYWRkcmVzcyBfZXRoRnVuZERlcG9zaXQpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX2V0aEZ1bmREZXBvc2l0ICE9IGFkZHJlc3MoMCkpOwogICAgICAgIGV0aEZ1bmREZXBvc2l0ID0gX2V0aEZ1bmREZXBvc2l0OwogICAgfQoKICAgIC8vLyBAZGV2IHNlbmRzIEVUSCB0byBDVEIgdGVhbQogICAgZnVuY3Rpb24gdHJhbnNmZXJFVEgoKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKGV0aEZ1bmREZXBvc2l0ICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUodGhpcy5iYWxhbmNlICE9IDApOwogICAgICAgIHJlcXVpcmUoZXRoRnVuZERlcG9zaXQuc2VuZCh0aGlzLmJhbGFuY2UpKTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBBbGxvdyB1c2VycyB0byBidXkgdG9rZW5zIGZvciBgX2J1eUV4Y2hhbmdlUmF0ZWAgZXRoIGFuZCBzZWxsIHRva2VucyBmb3IgYF9zZWxsRXhjaGFuZ2VSYXRlYCBldGgKICAgIC8vLyBAcGFyYW0gX3NlbGxFeGNoYW5nZVJhdGUgdGhlIHVzZXJzIGNhbiBzZWxsIHRvIHRoZSBjb250cmFjdAogICAgLy8vIEBwYXJhbSBfYnV5RXhjaGFuZ2VSYXRlIHVzZXJzIGNhbiBidXkgZnJvbSB0aGUgY29udHJhY3QKICAgIGZ1bmN0aW9uIHNldEV4Y2hhbmdlUmF0ZSh1aW50MjU2IF9zZWxsRXhjaGFuZ2VSYXRlLCB1aW50MjU2IF9idXlFeGNoYW5nZVJhdGUpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHNlbGxFeGNoYW5nZVJhdGUgPSBfc2VsbEV4Y2hhbmdlUmF0ZTsKICAgICAgICBidXlFeGNoYW5nZVJhdGUgPSBfYnV5RXhjaGFuZ2VSYXRlOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldEV4Y2hhbmdlU3RhdHVzKGJvb2wgX3N0b3BTZWxsLCBib29sIF9zdG9wQnV5KSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBzdG9wU2VsbCA9IF9zdG9wU2VsbDsKICAgICAgICBzdG9wQnV5ID0gX3N0b3BCdXk7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0QWxsb3dUcmFuc2ZlcnMoYm9vbCBfYWxsb3dUcmFuc2ZlcnMpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGFsbG93VHJhbnNmZXJzID0gX2FsbG93VHJhbnNmZXJzOwogICAgfQoKICAgIC8vIEFkbWluIGZ1bmN0aW9uIGZvciB0cmFuc2ZlciBjb2lucwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tQWRtaW4oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBvbmx5T3duZXIgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1tfZnJvbV0pOwoKICAgICAgICAvLyBTYWZlTWF0aC5zdWIgd2lsbCB0aHJvdyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJhbGFuY2UuCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0RW5hYmxlSW50ZXJuYWxMb2NrKGJvb2wgX2lzRW5hYmxlKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBlbmFibGVJbnRlcm5hbExvY2sgPSBfaXNFbmFibGU7CiAgICB9CgogICAgZnVuY3Rpb24gbG9ja0ludGVybmFsQWNjb3VudChhZGRyZXNzIHRhcmdldCwgYm9vbCBsb2NrKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKHRhcmdldCAhPSBhZGRyZXNzKDApKTsKICAgICAgICBpbnRlcm5hbExvY2tBY2NvdW50W3RhcmdldF0gPSBsb2NrOwogICAgfQoKICAgIC8vIHNlbGwgdG9rZW4sIHNvbGRTdXBwbHksIGxvY2tBY2NvdW50CiAgICBmdW5jdGlvbiBpbnRlcm5hbFNlbGxUb2tlbkZyb21BZG1pbihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIGJvb2wgX2xvY2spIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW293bmVyXSk7CgogICAgICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSBiYWxhbmNlc1tvd25lcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgc29sZFN1cHBseSArPSBfdmFsdWU7CiAgICAgICAgc2VsbFN1cHBseSArPSBfdmFsdWU7CgogICAgICAgIFRyYW5zZmVyKG93bmVyLCBfdG8sIF92YWx1ZSk7CgogICAgICAgIGludGVybmFsTG9ja0FjY291bnRbX3RvXSA9IF9sb2NrOyAgICAgLy8gbG9jayBpbnRlcm5hbFNlbGwgbG9jawoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogICAgLyogICAgICAgICAgICAgICAgICAgICAgICBCQVNFICAgICAgICAgICAgICAgICAgICAgKi8KICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgogICAgLy8gQGRldiBvdmVycmlkZQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBpZiAoIWlzT3duZXIoKSkgewogICAgICAgICAgICByZXF1aXJlIChhbGxvd1RyYW5zZmVycyk7CiAgICAgICAgICAgIHJlcXVpcmUoIWZyb3plbkFjY291bnRbX2Zyb21dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBzZW5kZXIgaXMgZnJvemVuCiAgICAgICAgICAgIHJlcXVpcmUoIWZyb3plbkFjY291bnRbX3RvXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiByZWNpcGllbnQgaXMgZnJvemVuCiAgICAgICAgICAgIHJlcXVpcmUoIV9pc1VzZXJJbnRlcm5hbExvY2soKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiByZWNpcGllbnQgaXMgaW50ZXJuYWxTZWxsTG9jawogICAgICAgIH0KICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgLy8gQGRldiBvdmVycmlkZQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGlmICghaXNPd25lcigpKSB7CiAgICAgICAgICAgIHJlcXVpcmUgKGFsbG93VHJhbnNmZXJzKTsKICAgICAgICAgICAgcmVxdWlyZSghZnJvemVuQWNjb3VudFttc2cuc2VuZGVyXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHNlbmRlciBpcyBmcm96ZW4KICAgICAgICAgICAgcmVxdWlyZSghZnJvemVuQWNjb3VudFtfdG9dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHJlY2lwaWVudCBpcyBmcm96ZW4KICAgICAgICAgICAgcmVxdWlyZSghX2lzVXNlckludGVybmFsTG9jaygpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHJlY2lwaWVudCBpcyBpbnRlcm5hbFNlbGxMb2NrCiAgICAgICAgfQogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgICB9CgoKICAgIC8vLyBAZGV2IHNlbmQgZXRoZXIgdG8gY29udHJhY3QKICAgIGZ1bmN0aW9uIHBheSgpIHBheWFibGUgcHVibGljIHt9CgoKICAgIC8vLyBAbm90aWNlIEJ1eSB0b2tlbnMgZnJvbSBjb250cmFjdCBieSBzZW5kaW5nIGV0aGVyCiAgICBmdW5jdGlvbiBidXkoKSBwYXlhYmxlIHB1YmxpYyB7CiAgICAgICAgdWludDI1NiBhbW91bnQgPSBtc2cudmFsdWUubXVsKGJ1eUV4Y2hhbmdlUmF0ZSk7CgogICAgICAgIHJlcXVpcmUoIXN0b3BCdXkpOwogICAgICAgIHJlcXVpcmUoYW1vdW50IDw9IGJhbGFuY2VzW293bmVyXSk7CgogICAgICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSBiYWxhbmNlc1tvd25lcl0uc3ViKGFtb3VudCk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQoYW1vdW50KTsKCiAgICAgICAgc29sZFN1cHBseSArPSBhbW91bnQ7CiAgICAgICAgYnV5U3VwcGx5ICs9IGFtb3VudDsKCiAgICAgICAgVHJhbnNmZXIob3duZXIsIG1zZy5zZW5kZXIsIGFtb3VudCk7CiAgICB9CgogICAgLy8vIEBub3RpY2UgU2VsbCBgYW1vdW50YCB0b2tlbnMgdG8gY29udHJhY3QKICAgIC8vLyBAcGFyYW0gYW1vdW50IGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc29sZAogICAgZnVuY3Rpb24gc2VsbCh1aW50MjU2IGFtb3VudCkgcHVibGljIHsKICAgICAgICB1aW50MjU2IGV0aEFtb3VudCA9IGFtb3VudC5kaXYoc2VsbEV4Y2hhbmdlUmF0ZSk7CiAgICAgICAgcmVxdWlyZSghc3RvcFNlbGwpOwogICAgICAgIHJlcXVpcmUodGhpcy5iYWxhbmNlID49IGV0aEFtb3VudCk7ICAgICAgLy8gY2hlY2tzIGlmIHRoZSBjb250cmFjdCBoYXMgZW5vdWdoIGV0aGVyIHRvIGJ1eQogICAgICAgIHJlcXVpcmUoZXRoQW1vdW50ID49IDEpOyAgICAgIC8vIGNoZWNrcyBpZiB0aGUgY29udHJhY3QgaGFzIGVub3VnaCBldGhlciB0byBidXkKCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBhbW91bnQpOyAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW293bmVyXSArIGFtb3VudCA+IGJhbGFuY2VzW293bmVyXSk7ICAgICAgIC8vIENoZWNrIGZvciBvdmVyZmxvd3MKICAgICAgICByZXF1aXJlKCFmcm96ZW5BY2NvdW50W21zZy5zZW5kZXJdKTsgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBzZW5kZXIgaXMgZnJvemVuCiAgICAgICAgcmVxdWlyZSghX2lzVXNlckludGVybmFsTG9jaygpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHJlY2lwaWVudCBpcyBpbnRlcm5hbFNlbGxMb2NrCgogICAgICAgIC8vIFNhZmVNYXRoLmFkZCB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSBiYWxhbmNlc1tvd25lcl0uYWRkKGFtb3VudCk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoYW1vdW50KTsKCiAgICAgICAgc29sZFN1cHBseSAtPSBhbW91bnQ7CiAgICAgICAgc2VsbFN1cHBseSArPSBhbW91bnQ7CgogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIG93bmVyLCBhbW91bnQpOwoKICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGV0aEFtb3VudCk7ICAgICAgICAgIC8vIHNlbmRzIGV0aGVyIHRvIHRoZSBzZWxsZXIuIEl0J3MgaW1wb3J0YW50IHRvIGRvIHRoaXMgbGFzdCB0byBhdm9pZCByZWN1cnNpb24gYXR0YWNrcwogICAgfQp9'.
	

]
