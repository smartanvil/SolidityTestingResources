Class {
	#name : #SRT4f8144764A115B868CB14d71576ccf961f943452,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4f8144764A115B868CB14d71576ccf961f943452 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4KICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CgogICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCgovKioKICogQHRpdGxlIFN0YW5kYXJkIEVSQzIwIHRva2VuCiAqCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIGJhc2ljIHN0YW5kYXJkIHRva2VuLgogKiBAZGV2IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKiBAZGV2IEJhc2VkIG9uIGNvZGUgYnkgRmlyc3RCbG9vZDogaHR0cHM6Ly9naXRodWIuY29tL0ZpcnN0Ymxvb2Rpby90b2tlbi9ibG9iL21hc3Rlci9zbWFydF9jb250cmFjdC9GaXJzdEJsb29kVG9rZW4uc29sCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCiAgICB1aW50MjU2IF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgIC8vIHJlcXVpcmUgKF92YWx1ZSA8PSBfYWxsb3dhbmNlKTsKCiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQXBwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqCiAgICogQmV3YXJlIHRoYXQgY2hhbmdpbmcgYW4gYWxsb3dhbmNlIHdpdGggdGhpcyBtZXRob2QgYnJpbmdzIHRoZSByaXNrIHRoYXQgc29tZW9uZSBtYXkgdXNlIGJvdGggdGhlIG9sZAogICAqIGFuZCB0aGUgbmV3IGFsbG93YW5jZSBieSB1bmZvcnR1bmF0ZSB0cmFuc2FjdGlvbiBvcmRlcmluZy4gT25lIHBvc3NpYmxlIHNvbHV0aW9uIHRvIG1pdGlnYXRlIHRoaXMKICAgKiByYWNlIGNvbmRpdGlvbiBpcyB0byBmaXJzdCByZWR1Y2UgdGhlIHNwZW5kZXIncyBhbGxvd2FuY2UgdG8gMCBhbmQgc2V0IHRoZSBkZXNpcmVkIHZhbHVlIGFmdGVyd2FyZHM6CiAgICogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCiAgLyoqCiAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gaW5jcmVtZW50CiAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgKi8KICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfSBlbHNlIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewoKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cn0KCi8qCiAqIENyb3dkc2FsZVRva2VuCiAqCiAqIFNpbXBsZSBFUkMyMCBUb2tlbiBleGFtcGxlLCB3aXRoIGNyb3dkc2FsZSB0b2tlbiBjcmVhdGlvbgogKi8KY29udHJhY3QgQ3Jvd2RzYWxlVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgT3duYWJsZSB7CiAgICAKICBzdHJpbmcgcHVibGljIHN0YW5kYXJkID0gIkFmdGVyU2Nob29sIFRva2VuIHYxLjAiOwogIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJBZnRlclNjaG9vbCBUb2tlbiI7CiAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiQVNUIjsKICB1aW50IHB1YmxpYyBkZWNpbWFscyA9IDE4OwogIGFkZHJlc3MgcHVibGljIG11bHRpc2lnID0gMHg4RGFiNTkyOTJBNzYxMTQ3NzZCNDkzM2FENkYxMjQ2QmY2NDdhQjkwOwogIAogIC8vIDEgRVRIID0gNTgwMCBBU1QgdG9rZW5zICgxIEFTVCA9IDAuMDUgVVNEKQogIHVpbnQgUFJJQ0UgPSA1ODAwOwogIAogIHN0cnVjdCBDb250cmlidXRvckRhdGEgewogICAgdWludCBjb250cmlidXRpb25BbW91bnQ7CiAgICB1aW50IHRva2Vuc0lzc3VlZDsKICB9CgogIG1hcHBpbmcoYWRkcmVzcyA9PiBDb250cmlidXRvckRhdGEpIHB1YmxpYyBjb250cmlidXRvckxpc3Q7CiAgdWludCBuZXh0Q29udHJpYnV0b3JJbmRleDsKICBtYXBwaW5nKHVpbnQgPT4gYWRkcmVzcykgY29udHJpYnV0b3JJbmRleGVzOwogIAogIHN0YXRlIHB1YmxpYyBjcm93ZHNhbGVTdGF0ZSA9IHN0YXRlLnBlbmRpbmdTdGFydDsKICBlbnVtIHN0YXRlIHsgcGVuZGluZ1N0YXJ0LCBjcm93ZHNhbGUsIGNyb3dkc2FsZUVuZGVkIH0KICAKICBldmVudCBDcm93ZHNhbGVTdGFydGVkKHVpbnQgYmxvY2tOdW1iZXIpOwogIGV2ZW50IENyb3dkc2FsZUVuZGVkKHVpbnQgYmxvY2tOdW1iZXIpOwogIGV2ZW50IEVycm9yU2VuZGluZ0VUSChhZGRyZXNzIHRvLCB1aW50IGFtb3VudCk7CiAgZXZlbnQgTWluQ2FwUmVhY2hlZCh1aW50IGJsb2NrTnVtYmVyKTsKICBldmVudCBNYXhDYXBSZWFjaGVkKHVpbnQgYmxvY2tOdW1iZXIpOwogIAogIHVpbnQgcHVibGljIGNvbnN0YW50IEJFR0lOX1RJTUUgPSAxNTA2NDIwMDAwOwogIAogIHVpbnQgcHVibGljIGNvbnN0YW50IEVORF9USU1FID0gMTUwOTAxMjAwMDsKCiAgdWludCBwdWJsaWMgbWluQ2FwID0gMzUwMCBldGhlcjsKICB1aW50IHB1YmxpYyBtYXhDYXAgPSA1MDAwMCBldGhlcjsKICB1aW50IHB1YmxpYyBldGhSYWlzZWQgPSAwOwogIHVpbnQgcHVibGljIHRva2VuVG90YWxTdXBwbHkgPSA4MDAwMDAwMDAgKiAxMCoqZGVjaW1hbHM7CiAgCiAgdWludCBjcm93ZHNhbGVUb2tlbkNhcCA9ICAgICAgICAgICAgNDgwMDAwMDAwICogMTAqKmRlY2ltYWxzOyAvLyA2MCUKICB1aW50IGZvdW5kZXJzQW5kVGVhbVRva2VucyA9ICAgICAgICAxMjAwMDAwMDAgKiAxMCoqZGVjaW1hbHM7IC8vIDE1JQogIHVpbnQgYWR2aXNvckFuZEFtYmFzc2Fkb3JUb2tlbnMgPSAgICA1NjAwMDAwMCAqIDEwKipkZWNpbWFsczsgLy8gNyUKICB1aW50IGludmVzdG9yVG9rZW5zID0gICAgICAgICAgICAgICAgODAwMDAwMCAqIDEwKipkZWNpbWFsczsgLy8gMTAlCiAgdWludCBhZnRlcnNjaG9vbENvbnRyaWJ1dG9yVG9rZW5zID0gNTYwMDAwMDAgKiAxMCoqZGVjaW1hbHM7IC8vIDclCiAgdWludCBmdXR1cmVQYXJ0bmVyVG9rZW5zID0gICAgICAgICAgNjQwMDAwMDAgKiAxMCoqZGVjaW1hbHM7IC8vIDglCiAgCiAgYm9vbCBmb3VuZGVyc0FuZFRlYW1Ub2tlbnNDbGFpbWVkID0gZmFsc2U7CiAgYm9vbCBhZHZpc29yQW5kQW1iYXNzYWRvclRva2Vuc0NsYWltZWQgPSBmYWxzZTsKICBib29sIGludmVzdG9yVG9rZW5zQ2xhaW1lZCA9IGZhbHNlOwogIGJvb2wgYWZ0ZXJzY2hvb2xDb250cmlidXRvclRva2Vuc0NsYWltZWQgPSBmYWxzZTsKICBib29sIGZ1dHVyZVBhcnRuZXJUb2tlbnNDbGFpbWVkID0gZmFsc2U7CiAgdWludCBuZXh0Q29udHJpYnV0b3JUb0NsYWltOwogIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSBoYXNDbGFpbWVkRXRoV2hlbkZhaWw7CgogIGZ1bmN0aW9uKCkgcGF5YWJsZSB7CiAgcmVxdWlyZShtc2cudmFsdWUgIT0gMCk7CiAgcmVxdWlyZShjcm93ZHNhbGVTdGF0ZSAhPSBzdGF0ZS5jcm93ZHNhbGVFbmRlZCk7Ly8gQ2hlY2sgaWYgY3Jvd2RzYWxlIGhhcyBlbmRlZAogIAogIGJvb2wgc3RhdGVDaGFuZ2VkID0gY2hlY2tDcm93ZHNhbGVTdGF0ZSgpOyAgICAgIC8vIENoZWNrIGJsb2NrcyBhbmQgY2FsaWJyYXRlIGNyb3dkc2FsZSBzdGF0ZQogIAogIGlmKGNyb3dkc2FsZVN0YXRlID09IHN0YXRlLmNyb3dkc2FsZSkgewogICAgICBjcmVhdGVUb2tlbnMobXNnLnNlbmRlcik7ICAgICAgICAgICAgIC8vIFByb2Nlc3MgdHJhbnNhY3Rpb24gYW5kIGlzc3VlIHRva2VucwogICAgfSBlbHNlIHsKICAgICAgcmVmdW5kVHJhbnNhY3Rpb24oc3RhdGVDaGFuZ2VkKTsgICAgICAgICAgICAgIC8vIFNldCBzdGF0ZSBhbmQgcmV0dXJuIGZ1bmRzIG9yIHRocm93CiAgICB9CiAgfQogIAogIC8vCiAgLy8gQ2hlY2sgY3Jvd2RzYWxlIHN0YXRlIGFuZCBjYWxpYnJhdGUgaXQKICAvLwogIGZ1bmN0aW9uIGNoZWNrQ3Jvd2RzYWxlU3RhdGUoKSBpbnRlcm5hbCByZXR1cm5zIChib29sKSB7CiAgICBpZiAoZXRoUmFpc2VkID49IG1heENhcCAmJiBjcm93ZHNhbGVTdGF0ZSAhPSBzdGF0ZS5jcm93ZHNhbGVFbmRlZCkgeyAvLyBDaGVjayBpZiBtYXggY2FwIGlzIHJlYWNoZWQKICAgICAgY3Jvd2RzYWxlU3RhdGUgPSBzdGF0ZS5jcm93ZHNhbGVFbmRlZDsKICAgICAgQ3Jvd2RzYWxlRW5kZWQoYmxvY2subnVtYmVyKTsgLy8gUmFpc2UgZXZlbnQKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIGlmKG5vdyA+PSBFTkRfVElNRSkgeyAgIAogICAgICBjcm93ZHNhbGVTdGF0ZSA9IHN0YXRlLmNyb3dkc2FsZUVuZGVkOwogICAgICBDcm93ZHNhbGVFbmRlZChibG9jay5udW1iZXIpOyAvLyBSYWlzZSBldmVudAogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBpZihub3cgPj0gQkVHSU5fVElNRSAmJiBub3cgPCBFTkRfVElNRSkgeyAgICAgICAgLy8gQ2hlY2sgaWYgd2UgYXJlIGluIGNyb3dkc2FsZSBzdGF0ZQogICAgICBpZiAoY3Jvd2RzYWxlU3RhdGUgIT0gc3RhdGUuY3Jvd2RzYWxlKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgc3RhdGUgbmVlZHMgdG8gYmUgY2hhbmdlZAogICAgICAgIGNyb3dkc2FsZVN0YXRlID0gc3RhdGUuY3Jvd2RzYWxlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgbmV3IHN0YXRlCiAgICAgICAgQ3Jvd2RzYWxlU3RhcnRlZChibG9jay5udW1iZXIpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJhaXNlIGV2ZW50CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KICAgIAogICAgcmV0dXJuIGZhbHNlOwogIH0KICAKICAvLwogIC8vIERlY2lkZSBpZiB0aHJvdyBvciBvbmx5IHJldHVybiBldGhlcgogIC8vCiAgZnVuY3Rpb24gcmVmdW5kVHJhbnNhY3Rpb24oYm9vbCBfc3RhdGVDaGFuZ2VkKSBpbnRlcm5hbCB7CiAgICBpZiAoX3N0YXRlQ2hhbmdlZCkgewogICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgICB9IGVsc2UgewogICAgICByZXZlcnQoKTsKICAgIH0KICB9CiAgCiAgZnVuY3Rpb24gY3JlYXRlVG9rZW5zKGFkZHJlc3MgX2NvbnRyaWJ1dG9yKSBwYXlhYmxlIHsKICAKICAgIHVpbnQgX2Ftb3VudCA9IG1zZy52YWx1ZTsKICAKICAgIHVpbnQgY29udHJpYnV0aW9uQW1vdW50ID0gX2Ftb3VudDsKICAgIHVpbnQgcmV0dXJuQW1vdW50ID0gMDsKICAgIAogICAgaWYgKF9hbW91bnQgPiAobWF4Q2FwIC0gZXRoUmFpc2VkKSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIG1heCBjb250cmlidXRpb24gaXMgbG93ZXIgdGhhbiBfYW1vdW50IHNlbnQKICAgICAgY29udHJpYnV0aW9uQW1vdW50ID0gbWF4Q2FwIC0gZXRoUmFpc2VkOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhhdCB1c2VyIGNvbnRpYnV0ZXMgaGlzIG1heGltdW0gYWxvd2VkIGNvbnRyaWJ1dGlvbgogICAgICByZXR1cm5BbW91bnQgPSBfYW1vdW50IC0gY29udHJpYnV0aW9uQW1vdW50OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBob3cgbXVjaCBoZSBtdXN0IGdldCBiYWNrCiAgICB9CgogICAgaWYgKGV0aFJhaXNlZCArIGNvbnRyaWJ1dGlvbkFtb3VudCA+IG1pbkNhcCAmJiBtaW5DYXAgPiBldGhSYWlzZWQpIHsKICAgICAgTWluQ2FwUmVhY2hlZChibG9jay5udW1iZXIpOwogICAgfQoKICAgIGlmIChldGhSYWlzZWQgKyBjb250cmlidXRpb25BbW91bnQgPT0gbWF4Q2FwICYmIGV0aFJhaXNlZCA8IG1heENhcCkgewogICAgICBNYXhDYXBSZWFjaGVkKGJsb2NrLm51bWJlcik7CiAgICB9CgogICAgaWYgKGNvbnRyaWJ1dG9yTGlzdFtfY29udHJpYnV0b3JdLmNvbnRyaWJ1dGlvbkFtb3VudCA9PSAwKXsKICAgICAgICBjb250cmlidXRvckluZGV4ZXNbbmV4dENvbnRyaWJ1dG9ySW5kZXhdID0gX2NvbnRyaWJ1dG9yOwogICAgICAgIG5leHRDb250cmlidXRvckluZGV4ICs9IDE7CiAgICB9CiAgCiAgICBjb250cmlidXRvckxpc3RbX2NvbnRyaWJ1dG9yXS5jb250cmlidXRpb25BbW91bnQgKz0gY29udHJpYnV0aW9uQW1vdW50OwogICAgZXRoUmFpc2VkICs9IGNvbnRyaWJ1dGlvbkFtb3VudDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRvIGV0aCByYWlzZWQKCiAgICB1aW50IHRva2VuQW1vdW50ID0gY2FsY3VsYXRlRXRoVG9BZnRlcnNjaG9vbChjb250cmlidXRpb25BbW91bnQpOyAgICAgIC8vIENhbGN1bGF0ZSBob3cgbXVjaCB0b2tlbnMgbXVzdCBjb250cmlidXRvciBnZXQKICAgIGlmICh0b2tlbkFtb3VudCA+IDApIHsKICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQodG9rZW5BbW91bnQpOwogICAgICBiYWxhbmNlc1tfY29udHJpYnV0b3JdID0gYmFsYW5jZXNbX2NvbnRyaWJ1dG9yXS5hZGQodG9rZW5BbW91bnQpOwogICAgICBjb250cmlidXRvckxpc3RbX2NvbnRyaWJ1dG9yXS50b2tlbnNJc3N1ZWQgKz0gdG9rZW5BbW91bnQ7ICAgICAgICAgICAgICAgICAgLy8gbG9nIHRva2VuIGlzc3VhbmNlCiAgICB9CgogICAgaWYgKCFtdWx0aXNpZy5zZW5kKG1zZy52YWx1ZSkpIHsKICAgICAgICByZXZlcnQoKTsKICAgIH0KICB9CiAgCiAgZnVuY3Rpb24gY2FsY3VsYXRlRXRoVG9BZnRlcnNjaG9vbCh1aW50IF9ldGgpIGNvbnN0YW50IHJldHVybnModWludCkgewogIAogICAgdWludCB0b2tlbnMgPSBfZXRoLm11bChnZXRQcmljZSgpKTsKICAgIHVpbnQgcGVyY2VudGFnZSA9IDA7CiAgICAKICAgIGlmIChldGhSYWlzZWQgPiAwKQogICAgewogICAgICAgIHBlcmNlbnRhZ2UgPSBldGhSYWlzZWQgKiAxMDAgLyBtYXhDYXA7CiAgICB9CiAgICAKICAgIHJldHVybiB0b2tlbnMgKyBnZXRTdGFnZUJvbnVzKHBlcmNlbnRhZ2UsIHRva2VucykgKyBnZXRBbW91bnRCb251cyhfZXRoLCB0b2tlbnMpOwogIH0KCiAgZnVuY3Rpb24gZ2V0U3RhZ2VCb251cyh1aW50IHBlcmNlbnRhZ2UsIHVpbnQgdG9rZW5zKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IHN0YWdlQm9udXMgPSAwOwogICAgICAKICAgIGlmIChwZXJjZW50YWdlIDw9IDEwKSBzdGFnZUJvbnVzID0gdG9rZW5zICogNjAgLyAxMDA7IC8vIFN0YWdlIDEKICAgIGVsc2UgaWYgKHBlcmNlbnRhZ2UgPD0gNTApIHN0YWdlQm9udXMgPSB0b2tlbnMgKiAzMCAvIDEwMDsKICAgIGVsc2UgaWYgKHBlcmNlbnRhZ2UgPD0gNzApIHN0YWdlQm9udXMgPSB0b2tlbnMgKiAyMCAvIDEwMDsKICAgIGVsc2UgaWYgKHBlcmNlbnRhZ2UgPD0gOTApIHN0YWdlQm9udXMgPSB0b2tlbnMgKiAxNSAvIDEwMDsKICAgIGVsc2UgaWYgKHBlcmNlbnRhZ2UgPD0gMTAwKSBzdGFnZUJvbnVzID0gdG9rZW5zICogMTAgLyAxMDA7CgogICAgcmV0dXJuIHN0YWdlQm9udXM7CiAgfQoKICBmdW5jdGlvbiBnZXRBbW91bnRCb251cyh1aW50IF9ldGgsIHVpbnQgdG9rZW5zKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGFtb3VudEJvbnVzID0gMDsgIAogICAgICAKICAgIGlmIChfZXRoID49IDMwMDAgZXRoZXIpIGFtb3VudEJvbnVzID0gdG9rZW5zICogMTMgLyAxMDA7CiAgICBlbHNlIGlmIChfZXRoID49IDIwMDAgZXRoZXIpIGFtb3VudEJvbnVzID0gdG9rZW5zICogMTIgLyAxMDA7CiAgICBlbHNlIGlmIChfZXRoID49IDE1MDAgZXRoZXIpIGFtb3VudEJvbnVzID0gdG9rZW5zICogMTEgLyAxMDA7CiAgICBlbHNlIGlmIChfZXRoID49IDEwMDAgZXRoZXIpIGFtb3VudEJvbnVzID0gdG9rZW5zICogMTAgLyAxMDA7CiAgICBlbHNlIGlmIChfZXRoID49IDc1MCBldGhlcikgYW1vdW50Qm9udXMgPSB0b2tlbnMgKiA5IC8gMTAwOwogICAgZWxzZSBpZiAoX2V0aCA+PSA1MDAgZXRoZXIpIGFtb3VudEJvbnVzID0gdG9rZW5zICogOCAvIDEwMDsKICAgIGVsc2UgaWYgKF9ldGggPj0gMzAwIGV0aGVyKSBhbW91bnRCb251cyA9IHRva2VucyAqIDc1IC8gMTAwMDsKICAgIGVsc2UgaWYgKF9ldGggPj0gMjAwIGV0aGVyKSBhbW91bnRCb251cyA9IHRva2VucyAqIDcgLyAxMDA7CiAgICBlbHNlIGlmIChfZXRoID49IDE1MCBldGhlcikgYW1vdW50Qm9udXMgPSB0b2tlbnMgKiA2IC8gMTAwOwogICAgZWxzZSBpZiAoX2V0aCA+PSAxMDAgZXRoZXIpIGFtb3VudEJvbnVzID0gdG9rZW5zICogNTUgLyAxMDAwOwogICAgZWxzZSBpZiAoX2V0aCA+PSA3NSBldGhlcikgYW1vdW50Qm9udXMgPSB0b2tlbnMgKiA1IC8gMTAwOwogICAgZWxzZSBpZiAoX2V0aCA+PSA1MCBldGhlcikgYW1vdW50Qm9udXMgPSB0b2tlbnMgKiA0NSAvIDEwMDA7CiAgICBlbHNlIGlmIChfZXRoID49IDMwIGV0aGVyKSBhbW91bnRCb251cyA9IHRva2VucyAqIDQgLyAxMDA7CiAgICBlbHNlIGlmIChfZXRoID49IDIwIGV0aGVyKSBhbW91bnRCb251cyA9IHRva2VucyAqIDM1IC8gMTAwMDsKICAgIGVsc2UgaWYgKF9ldGggPj0gMTUgZXRoZXIpIGFtb3VudEJvbnVzID0gdG9rZW5zICogMyAvIDEwMDsKICAgIGVsc2UgaWYgKF9ldGggPj0gMTAgZXRoZXIpIGFtb3VudEJvbnVzID0gdG9rZW5zICogMjUgLyAxMDAwOwogICAgZWxzZSBpZiAoX2V0aCA+PSA3IGV0aGVyKSBhbW91bnRCb251cyA9IHRva2VucyAqIDIgLyAxMDA7CiAgICBlbHNlIGlmIChfZXRoID49IDUgZXRoZXIpIGFtb3VudEJvbnVzID0gdG9rZW5zICogMTUgLyAxMDAwOwogICAgZWxzZSBpZiAoX2V0aCA+PSAzIGV0aGVyKSBhbW91bnRCb251cyA9IHRva2VucyAqIDEgLyAxMDA7CiAgICBlbHNlIGlmIChfZXRoID49IDIgZXRoZXIpIGFtb3VudEJvbnVzID0gdG9rZW5zICogNSAvIDEwMDA7CiAgICAKICAgIHJldHVybiBhbW91bnRCb251czsKICB9CiAgCiAgLy8gcmVwbGFjZSB0aGlzIHdpdGggYW55IG90aGVyIHByaWNlIGZ1bmN0aW9uCiAgZnVuY3Rpb24gZ2V0UHJpY2UoKSBjb25zdGFudCByZXR1cm5zICh1aW50IHJlc3VsdCkgewogICAgcmV0dXJuIFBSSUNFOwogIH0KICAKICAvLwogIC8vIE93bmVyIGNhbiBiYXRjaCByZXR1cm4gY29udHJpYnV0b3JzIGNvbnRyaWJ1dGlvbnMoZXRoKQogIC8vCiAgZnVuY3Rpb24gYmF0Y2hSZXR1cm5FdGhJZkZhaWxlZCh1aW50IF9udW1iZXJPZlJldHVybnMpIG9ubHlPd25lciB7CiAgICByZXF1aXJlKGNyb3dkc2FsZVN0YXRlICE9IHN0YXRlLmNyb3dkc2FsZUVuZGVkKTsgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgY3Jvd2RzYWxlIGhhcyBlbmRlZAogICAgcmVxdWlyZShldGhSYWlzZWQgPCBtaW5DYXApOyAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBjcm93ZHNhbGUgaGFzIGZhaWxlZAogICAgYWRkcmVzcyBjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzOwogICAgdWludCBjb250cmlidXRpb247CiAgICBmb3IgKHVpbnQgY250ID0gMDsgY250IDwgX251bWJlck9mUmV0dXJuczsgY250KyspewogICAgICBjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzID0gY29udHJpYnV0b3JJbmRleGVzW25leHRDb250cmlidXRvclRvQ2xhaW1dOyAgICAgICAgIC8vIEdldCBuZXh0IHVuY2xhaW1lZCBwYXJ0aWNpcGFudAogICAgICBpZiAoY3VycmVudFBhcnRpY2lwYW50QWRkcmVzcyA9PSAweDApIHJldHVybjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGFsbCB0aGUgcGFydGljaXBhbnRzIHdlcmUgY29tcGVuc2F0ZWQKICAgICAgaWYgKCFoYXNDbGFpbWVkRXRoV2hlbkZhaWxbY3VycmVudFBhcnRpY2lwYW50QWRkcmVzc10pIHsgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBwYXJ0aWNpcGFudCBoYXMgYWxyZWFkeSBjbGFpbWVkCiAgICAgICAgY29udHJpYnV0aW9uID0gY29udHJpYnV0b3JMaXN0W2N1cnJlbnRQYXJ0aWNpcGFudEFkZHJlc3NdLmNvbnRyaWJ1dGlvbkFtb3VudDsgLy8gR2V0IGNvbnRyaWJ1dGlvbiBvZiBwYXJ0aWNpcGFudAogICAgICAgIGhhc0NsYWltZWRFdGhXaGVuRmFpbFtjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzXSA9IHRydWU7ICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGF0IGhlIGhhcyBjbGFpbWVkCiAgICAgICAgaWYgKCFjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzLnNlbmQoY29udHJpYnV0aW9uKSl7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVmdW5kIGV0aAogICAgICAgICAgRXJyb3JTZW5kaW5nRVRIKGN1cnJlbnRQYXJ0aWNpcGFudEFkZHJlc3MsIGNvbnRyaWJ1dGlvbik7ICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGlzc3VlIHJhaXNlIGV2ZW50IGZvciBtYW51YWwgcmVjb3ZlcnkKICAgICAgICB9CiAgICAgIH0KICAgICAgbmV4dENvbnRyaWJ1dG9yVG9DbGFpbSArPSAxOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXBlYXQKICAgIH0KICB9CiAgCiAgICAvLwogIC8vIE93bmVyIGNhbiBzZXQgbXVsdGlzaWcgYWRkcmVzcyBmb3IgY3Jvd2RzYWxlCiAgLy8KICBmdW5jdGlvbiBzZXRNdWx0aXNpZ0FkZHJlc3MoYWRkcmVzcyBfbmV3QWRkcmVzcykgb25seU93bmVyIHsKICAgIG11bHRpc2lnID0gX25ld0FkZHJlc3M7CiAgfQogIAp9'.
	

]
