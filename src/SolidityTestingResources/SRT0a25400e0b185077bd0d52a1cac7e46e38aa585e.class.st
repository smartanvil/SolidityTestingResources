Class {
	#name : #SRT0a25400e0b185077bd0d52a1cac7e46e38aa585e,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT0a25400e0b185077bd0d52a1cac7e46e38aa585e >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgICAgICBhc3NlcnQoYyA+PSBhKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KfQoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4gCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAgIC8qKgogICAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuIAogICAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9Cgp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgLyoqCiAgICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAgKiBhY2NvdW50LgogICAgKi8KICAgIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICAqLwogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgICAgIGlmIChuZXdPd25lciAhPSBhZGRyZXNzKDApKSB7CiAgICAgICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICAgICAgfQogICAgfQoKfQoKLyoqCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBAZGV2IEltcGxlbWVudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFyZCB0b2tlbi4KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRNaW50YWJsZVRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuLCBPd25hYmxlIHsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CiAgCiAgICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwogICAgZXZlbnQgTWludEZpbmlzaGVkKCk7CgogICAgYm9vbCBwdWJsaWMgbWludGluZ0ZpbmlzaGVkID0gZmFsc2U7CgogICAgbW9kaWZpZXIgY2FuTWludCgpIHsKICAgICAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldAogICAgICAgIC8vIHJlcXVpcmUgKF92YWx1ZSA8PSBfYWxsb3dhbmNlKTsKCiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICAqLwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQogIAogICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIG1pbnQgdG9rZW5zCiAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0aGF0IHdpbGwgcmVjZWl2ZSB0aGUgbWludGVkIHRva2Vucy4KICAgKiBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IG9mIHRva2VucyB0byBtaW50LgogICAqIEByZXR1cm4gQSBib29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICovCiAgICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciBjYW5NaW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CiAgICAgICAgTWludChfdG8sIF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKDB4MCwgX3RvLCBfYW1vdW50KTsgLy8gc28gaXQgaXMgZGlzcGxheWVkIHByb3Blcmx5IG9uIEV0aGVyU2NhbgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCiAgICAvKioKICAgICogQGRldiBGdW5jdGlvbiB0byBzdG9wIG1pbnRpbmcgbmV3IHRva2Vucy4KICAgICogQHJldHVybiBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICAqLwogICAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CiAgICAgICAgbWludGluZ0ZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICBNaW50RmluaXNoZWQoKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCn0KCi8qKgogKiBAdGl0bGUgU2xvdCBUaWNrZXQKICogQGRldiBTaW1wbGUgRVJDMjAgVG9rZW4gZXhhbXBsZSwgd2l0aCBtaW50YWJsZSB0b2tlbiBjcmVhdGlvbgogKiBAZGV2IElzc3VlOiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvaXNzdWVzLzEyMAogKiBCYXNlZCBvbiBjb2RlIGJ5IFRva2VuTWFya2V0TmV0OiBodHRwczovL2dpdGh1Yi5jb20vVG9rZW5NYXJrZXROZXQvaWNvL2Jsb2IvbWFzdGVyL2NvbnRyYWN0cy9NaW50YWJsZVRva2VuLnNvbAogKi8KIApjb250cmFjdCBTbG90VGlja2V0IGlzIFN0YW5kYXJkTWludGFibGVUb2tlbiB7CgogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIlNsb3QgVGlja2V0IjsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDA7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJUSUNLRVQiOwogICAgc3RyaW5nIHB1YmxpYyB2ZXJzaW9uID0gIjAuNiI7CgogICAgZnVuY3Rpb24gZGVzdHJveSgpIG9ubHlPd25lciB7CiAgICAgICAgLy8gVHJhbnNmZXIgRXRoIHRvIG93bmVyIGFuZCB0ZXJtaW5hdGUgY29udHJhY3QKICAgICAgICBzZWxmZGVzdHJ1Y3Qob3duZXIpOwogICAgfQp9CgovKiogIAogKiAgQHRpdGxlIFNsb3QKICogIEBkZXYgZXZlcnkgcGFydGljaXBhbnQgaGFzIGFuIGFjY291bnQgaW5kZXgsIHRoZSB3aW5uZXJzIGFyZSBwaWNrZWQgZnJvbSBoZXJlCiAqICBhbGwgd2lubmVycyBhcmUgcGlja2VkIGluIG9yZGVyIGZyb20gdGhlIHNpbmdsZSByYW5kb20gaW50IAogKiAgbmVlZHMgdG8gYmUgY2xlYXJlZCBhZnRlciBldmVyeSBnYW1lIAogKi8KICAgICAKY29udHJhY3QgU2xvdCBpcyBPd25hYmxlIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIHVpbnQ4ICAgY29uc3RhbnQgcHVibGljIFNJWkUgPSAgICAgICAgICAgMTAwOyAgICAgICAgLy8gc2l6ZSBvZiB0aGUgbG90dGVyeQogICAgdWludDMyICBjb25zdGFudCBwdWJsaWMgSkFDS1BPVF9DSEFOQ0UgPSAxMDAwMDAwOyAgICAvLyBvbmUgaW4gYSBtaWxsaW9uCiAgICB1aW50MzIgIGNvbnN0YW50IHB1YmxpYyBJTkFDVElWSVRZID0gICAgIDE2MDAwMDsgICAgIC8vIGJsb2NrcyBhZnRlciB3aGljaCByZWZ1bmRzIGNhbiBiZSBjbGFpbWVkCiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBQUklDRSA9ICAgICAgICAgIDEwMCBmaW5uZXk7CiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBKQUNLX0RJU1QgPSAgICAgIDI0OSBmaW5uZXk7CiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBESVZfRElTVCA9ICAgICAgIDI0OSBmaW5uZXk7CiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBHQVNfUkVGVU5EID0gICAgIDIgZmlubmV5OwoKICAgIC8qIAogICAgKiAgZXZlcnkgcGFydGljaXBhbnQgaGFzIGFuIGFjY291bnQgaW5kZXgsIHRoZSB3aW5uZXJzIGFyZSBwaWNrZWQgZnJvbSBoZXJlCiAgICAqICBhbGwgd2lubmVycyBhcmUgcGlja2VkIGluIG9yZGVyIGZyb20gdGhlIHNpbmdsZSByYW5kb20gaW50IAogICAgKiAgbmVlZHMgdG8gYmUgY2xlYXJlZCBhZnRlciBldmVyeSBnYW1lCiAgICAqLwogICAgbWFwcGluZyAodWludCA9PiBtYXBwaW5nICh1aW50ID0+IGFkZHJlc3MpKSBwdWJsaWMgcGFydGljaXBhbnRzOyAvLyBnYW1lIG51bWJlciA9PiBjb3VudGVyID0+IGFkZHJlc3MKICAgIFNsb3RUaWNrZXQgcHVibGljIHRpY2tldDsgLy8gdGhpcyBpcyBhIHJlY2VpcHQgZm9yIHRoZSB0aWNrZXQsIGl0IHdvbnQgYWZmZWN0IHRoZSBwcml6ZSBkaXN0cmlidXRpb24KICAgIHVpbnQyNTYgcHVibGljIGphY2twb3RBbW91bnQ7CiAgICB1aW50MjU2IHB1YmxpYyBnYW1lTnVtYmVyOwogICAgdWludDI1NiBwdWJsaWMgZ2FtZVN0YXJ0ZWRBdDsKICAgIGFkZHJlc3MgcHVibGljIGZ1bmQ7IC8vIGFkZHJlc3MgdG8gc2VuZCBkaXZpZGVuZHMKICAgIHVpbnQyNTZbOF0gcHVibGljIHByaXplcyA9IFs0IGV0aGVyLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIGV0aGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEgZXRoZXIsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDUwMCBmaW5uZXksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDUwMCBmaW5uZXksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDUwMCBmaW5uZXksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDUwMCBmaW5uZXksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDUwMCBmaW5uZXldOwogICAgdWludDI1NiBjb3VudGVyOwoKICAgIGV2ZW50IFBhcnRpY2lwYW50QWRkZWQoYWRkcmVzcyBpbmRleGVkIF9wYXJ0aWNpcGFudCwgdWludDI1NiBpbmRleGVkIF9nYW1lLCB1aW50MjU2IGluZGV4ZWQgX251bWJlcik7CiAgICBldmVudCBQcml6ZUF3YXJkZWQodWludDI1NiBpbmRleGVkIF9nYW1lICwgYWRkcmVzcyBpbmRleGVkIF93aW5uZXIsIHVpbnQyNTYgaW5kZXhlZCBfYW1vdW50KTsKICAgIGV2ZW50IEphY2twb3RBd2FyZGVkKHVpbnQyNTYgaW5kZXhlZCBfZ2FtZSwgYWRkcmVzcyBpbmRleGVkIF93aW5uZXIsIHVpbnQyNTYgaW5kZXhlZCBfYW1vdW50KTsKICAgIGV2ZW50IEdhbWVSZWZ1bmRlZCh1aW50MjU2IF9nYW1lKTsKCiAgICBmdW5jdGlvbiBTbG90KGFkZHJlc3MgX2Z1bmRBZGRyZXNzKSBwYXlhYmxlIHsgLy8gYWRkcmVzcyBfdGlja2V0QWRkcmVzcwogICAgICAgIC8vIHRpY2tldCA9IFNsb3RUaWNrZXQoX3RpY2tldEFkZHJlc3MpOyAvLyBzdGlsbCBuZWVkIHRvIGNoYW5nZSBvd25lcgogICAgICAgIHRpY2tldCA9IG5ldyBTbG90VGlja2V0KCk7CiAgICAgICAgZnVuZCA9IF9mdW5kQWRkcmVzczsKCiAgICAgICAgamFja3BvdEFtb3VudCA9IG1zZy52YWx1ZTsKICAgICAgICBnYW1lTnVtYmVyID0gMDsKICAgICAgICBjb3VudGVyID0gMDsKICAgICAgICBnYW1lU3RhcnRlZEF0ID0gYmxvY2subnVtYmVyOwogICAgfQoKICAgIGZ1bmN0aW9uKCkgcGF5YWJsZSB7CiAgICAgICAgLy8gZmFsbGJhY2sgZnVuY3Rpb24gdG8gYnV5IHRpY2tldHMKICAgICAgICBidXlUaWNrZXRzRm9yKG1zZy5zZW5kZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIGJ1eVRpY2tldHNGb3IoYWRkcmVzcyBfYmVuZWZpY2lhcnkpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKF9iZW5lZmljaWFyeSAhPSAweDApOwogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IFBSSUNFKTsKCiAgICAgICAgLy8gY2FsY3VsYXRlIG51bWJlciBvZiB0aWNrZXRzLCBpc3N1ZSB0b2tlbnMgYW5kIGFkZCBwYXJ0aWNpcGFudAogICAgICAgIC8vIGV2ZXJ5IChQUklDRSkgYnV5cyBhIHRpY2tldCwgdGhlIHJlc3QgaXMgcmV0dXJuZWQKICAgICAgICB1aW50MjU2IGNoYW5nZSA9IG1zZy52YWx1ZSVQUklDRTsKICAgICAgICB1aW50MjU2IG51bWJlck9mVGlja2V0cyA9IG1zZy52YWx1ZS5zdWIoY2hhbmdlKS5kaXYoUFJJQ0UpOwogICAgICAgIHRpY2tldC5taW50KF9iZW5lZmljaWFyeSwgbnVtYmVyT2ZUaWNrZXRzKTsKICAgICAgICBhZGRQYXJ0aWNpcGFudChfYmVuZWZpY2lhcnksIG51bWJlck9mVGlja2V0cyk7CgogICAgICAgIC8vIFJldHVybiBjaGFuZ2UgdG8gbXNnLnNlbmRlcgogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoY2hhbmdlKTsKICAgIH0KCiAgICAvKiBwcml2YXRlIGZ1bmN0aW9ucyAqLwoKICAgIGZ1bmN0aW9uIGFkZFBhcnRpY2lwYW50KGFkZHJlc3MgX3BhcnRpY2lwYW50LCB1aW50MjU2IF9udW1iZXJPZlRpY2tldHMpIHByaXZhdGUgewogICAgICAgIC8vIGlmIG51bWJlciBvZiB0aWNrZXRzIGV4Y2VlZHMgdGhlIHNpemUgb2YgdGhlIGdhbWUsIHRpY2tldHMgYXJlIGFkZGVkIHRvIG5leHQgZ2FtZQoKICAgICAgICBmb3IgKHVpbnQyNTYgaSA9IDA7IGkgPCBfbnVtYmVyT2ZUaWNrZXRzOyBpKyspIHsKICAgICAgICAgICAgLy8gdXNpbmcgZ2FtZU51bWJlciBpbnN0ZWFkIG9mIGNvdW50ZXIvU0laRSBzaW5jZSBnYW1lcyBjYW4gYmUgY2FuY2VsbGVkCiAgICAgICAgICAgIHBhcnRpY2lwYW50c1tnYW1lTnVtYmVyXVtjb3VudGVyJVNJWkVdID0gX3BhcnRpY2lwYW50OyAKICAgICAgICAgICAgUGFydGljaXBhbnRBZGRlZChfcGFydGljaXBhbnQsIGdhbWVOdW1iZXIsIGNvdW50ZXIlU0laRSk7CgogICAgICAgICAgICAvLyBtc2cuc2VuZGVyIHRyaWdnZXJzIHRoZSBkcmF3aW5nIG9mIGxvdHMKICAgICAgICAgICAgaWYgKCsrY291bnRlciVTSVpFID09IDApIHsKICAgICAgICAgICAgICAgIGF3YXJkUHJpemVzKCk7CiAgICAgICAgICAgICAgICAvLyBTcGxpdCB0aGUgcmVzdCwgaW5jcmVhc2UgZ2FtZSBudW1iZXIKICAgICAgICAgICAgICAgIGRpc3RyaWJ1dGVSZW1haW5pbmcoKTsKICAgICAgICAgICAgICAgIGluY3JlYXNlR2FtZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIGxvb3AgY29udGludWVzIGlmIHRoZXJlIGFyZSBtb3JlIHRpY2tldHMKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGF3YXJkUHJpemVzKCkgcHJpdmF0ZSB7CiAgICAgICAgLy8gZ2V0IHRoZSB3aW5uaW5nIG51bWJlciwgbm8gbmVlZCB0byBoYXNoLCBzaW5jZSBpdCBpcyBhIGRldGVybWluaXN0aWNhbCBmdW5jdGlvbiBhbnl3YXkKICAgICAgICB1aW50MjU2IHdpbm5lckluZGV4ID0gdWludDI1NihibG9jay5ibG9ja2hhc2goYmxvY2subnVtYmVyLTEpKSVTSVpFOwoKICAgICAgICAvLyBnZXQgamFja3BvdCB3aW5uZXIsIGhhc2ggcmVzdWx0IG9mIGxhc3QgdHdvIGRpZ2l0IG51bWJlciAoaW5kZXgpIHdpdGggNCBwcmVjZWRpbmcgemVyb2VzIHdpbGwgd2luCiAgICAgICAgdWludDI1NiBqYWNrcG90TnVtYmVyID0gdWludDI1NihibG9jay5ibG9ja2hhc2goYmxvY2subnVtYmVyLTEpKSVKQUNLUE9UX0NIQU5DRTsKICAgICAgICBpZiAod2lubmVySW5kZXggPT0gamFja3BvdE51bWJlcikgewogICAgICAgICAgICBkaXN0cmlidXRlSmFja3BvdCh3aW5uZXJJbmRleCk7CiAgICAgICAgfQoKICAgICAgICAvLyBsb29wIHRocm91Z2h0IHRoZSBwcml6ZXMgCiAgICAgICAgZm9yICh1aW50OCBpID0gMDsgaSA8IHByaXplcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAvLyBHQVM6IDIxMDAwIFBhaWQgZm9yIGV2ZXJ5IHRyYW5zYWN0aW9uLiAocHJpemVzLmxlbmd0aCkKICAgICAgICAgICAgcGFydGljaXBhbnRzW2dhbWVOdW1iZXJdW3dpbm5lckluZGV4JVNJWkVdLnRyYW5zZmVyKHByaXplc1tpXSk7IC8vIG1zZy5zZW5kZXIgcGF5cyB0aGUgZ2FzLCBoZSdzIHJlZnVuZGVkIGxhdGVyLCAlIHRvIHdyYXAgYXJvdW5kCiAgICAgICAgICAgIFByaXplQXdhcmRlZChnYW1lTnVtYmVyLCBwYXJ0aWNpcGFudHNbZ2FtZU51bWJlcl1bd2lubmVySW5kZXglU0laRV0sIHByaXplc1tpXSk7CgogICAgICAgICAgICAvLyBpbmNyZW1lbnQgaW5kZXggdG8gdGhlIG5leHQgd2lubmVyIHRvIHJlY2VpdmUgdGhlIG5leHQgcHJpemUKICAgICAgICAgICAgd2lubmVySW5kZXgrKzsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZGlzdHJpYnV0ZUphY2twb3QodWludDI1NiBfd2lubmVySW5kZXgpIHByaXZhdGUgewogICAgICAgIHVpbnQyNTYgYW1vdW50ID0gamFja3BvdEFtb3VudDsKICAgICAgICBqYWNrcG90QW1vdW50ID0gMDsgLy8gbGF0ZXIgb24gaW4gdGhlIGNvZGUgc2VxdWVuY2UgZnVuZHMgd2lsbCBiZSBhZGRlZAoKICAgICAgICBwYXJ0aWNpcGFudHNbZ2FtZU51bWJlcl1bX3dpbm5lckluZGV4XS50cmFuc2ZlcihhbW91bnQpOwogICAgICAgIEphY2twb3RBd2FyZGVkKGdhbWVOdW1iZXIsICBwYXJ0aWNpcGFudHNbZ2FtZU51bWJlcl1bX3dpbm5lckluZGV4XSwgYW1vdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXN0cmlidXRlUmVtYWluaW5nKCkgcHJpdmF0ZSB7CiAgICAgICAgLy8gR0FTOiAyMTAwMCBQYWlkIGZvciBldmVyeSB0cmFuc2FjdGlvbi4gKDMpCiAgICAgICAgamFja3BvdEFtb3VudCA9IGphY2twb3RBbW91bnQuYWRkKEpBQ0tfRElTVCk7ICAgLy8gYWRkIHRvIGphY2twb3QKICAgICAgICBmdW5kLnRyYW5zZmVyKERJVl9ESVNUKTsgICAgICAgICAgICAgICAgICAgICAgICAvLyAqY2FzaCByZWdpc3RlciBzb3VuZCogZGl2aWRlbmRzIGFyZSBwYWlkIHRvIFNMT1QgdG9rZW4gb3duZXJzCiAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihHQVNfUkVGVU5EKTsgICAgICAgICAgICAgICAgLy8gcmVwYXkgZ2FzIHRvIG1zZy5zZW5kZXIKICAgIH0KCiAgICBmdW5jdGlvbiBpbmNyZWFzZUdhbWUoKSBwcml2YXRlIHsKICAgICAgICBnYW1lTnVtYmVyKys7CiAgICAgICAgZ2FtZVN0YXJ0ZWRBdCA9IGJsb2NrLm51bWJlcjsKICAgIH0KCiAgICAvLyBwdWJsaWMgZnVuY3Rpb25zCgogICAgZnVuY3Rpb24gc3BvdHNMZWZ0KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4IHNwb3RzKSB7CiAgICAgICAgcmV0dXJuIFNJWkUgLSB1aW50OChjb3VudGVyJVNJWkUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlZnVuZEdhbWVBZnRlckxvbmdJbmFjdGl2aXR5KCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKGJsb2NrLm51bWJlci5zdWIoZ2FtZVN0YXJ0ZWRBdCkgPj0gSU5BQ1RJVklUWSk7CiAgICAgICAgcmVxdWlyZShjb3VudGVyJVNJWkUgIT0gMCk7IC8vIG5vdGhpbmcgdG8gcmVmdW5kCiAgICAgICAgLy8gcmVmdW5kcyBmb3IgZXZlcnlib2R5IGNhbiBiZSByZXF1ZXN0ZWQgYWZ0ZXIgdGhlIGdhbWUgaGFzIGdvbmUgKElOQUNUSVZJVFkpIGJsb2NrcyB3aXRob3V0IGEgY29uY2x1c2lvbgogICAgICAgIAogICAgICAgIC8vIENoZWNrcy1FZmZlY3RzLUludGVyYWN0aW9ucyBwYXR0ZXJuIHRvIGF2b2lkIHJlLWVudHJhbmN5CiAgICAgICAgdWludDI1NiBfc2l6ZSA9IGNvdW50ZXIlU0laRTsgLy8gbm90IGNvdW50ZXIuc2l6ZSwgYnV0IG1vZHVsdXMgb2YgU0laRQogICAgICAgIGNvdW50ZXIgLT0gX3NpemU7CgogICAgICAgIGZvciAodWludDggaSA9IDA7IGkgPCBfc2l6ZTsgaSsrKSB7CiAgICAgICAgICAgIC8vIEdBUzogZGVmYXVsdCAyMTAwMCBwYWlkIGZvciBldmVyeSB0cmFuc2FjdGlvbi4KICAgICAgICAgICAgcGFydGljaXBhbnRzW2dhbWVOdW1iZXJdW2ldLnRyYW5zZmVyKFBSSUNFKTsKICAgICAgICB9CgogICAgICAgIEdhbWVSZWZ1bmRlZChnYW1lTnVtYmVyKTsKICAgICAgICBpbmNyZWFzZUdhbWUoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBkZXN0cm95KCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShqYWNrcG90QW1vdW50IDwgMjUgZXRoZXIpOwoKICAgICAgICAvLyBUcmFuc2ZlciBFdGhlciBmdW5kcyB0byBvd25lciBhbmQgdGVybWluYXRlIGNvbnRyYWN0CiAgICAgICAgLy8gSXQgd291bGQgYmUgdW5mYWlyIHRvIGFsbG93IG91cnNlbHZlcyB0byBkZXN0cm95IGEgY29udHJhY3Qgd2l0aCBtb3JlIHRoYW4gMjUgZXRoZXIgYW5kIGNsYWltIHRoZSBqYWNrcG90LAogICAgICAgIC8vIGxvd2VyIHRoYW4gdGhhdCB3ZSB3b3VsZCBjb25zaWRlciBpdCBzdGlsbCBhIGJldGEgKGFueSBFdGhlciB3b3VsZCBiZSB0cmFuc2ZlcmVkIHRvIHRoZSBuZXdlciBjb250cmFjdCkKCiAgICAgICAgdGlja2V0LmRlc3Ryb3koKTsKICAgICAgICBzZWxmZGVzdHJ1Y3Qob3duZXIpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBjaGFuZ2VUaWNrZXRPd25lcihhZGRyZXNzIF9uZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgLy8gaW4gY2FzZSBvZiBuZXcgY29udHJhY3QsIG9sZCB0b2tlbiBjYW4gc3RpbGwgYmUgdXNlZAogICAgICAgIC8vIHRoZSB0b2tlbiBjb250cmFjdCBvd25lciBpcyB0aGUgc2xvdCBjb250cmFjdCBpdHNlbGYKICAgICAgICB0aWNrZXQudHJhbnNmZXJPd25lcnNoaXAoX25ld093bmVyKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY2hhbmdlRnVuZChhZGRyZXNzIF9uZXdGdW5kKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBmdW5kID0gX25ld0Z1bmQ7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNoYW5nZVRpY2tldChhZGRyZXNzIF9uZXdUaWNrZXQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHRpY2tldCA9IFNsb3RUaWNrZXQoX25ld1RpY2tldCk7IC8vIHN0aWxsIG5lZWQgdG8gY2hhbmdlIG93bmVyIHRvIHdvcmsKICAgIH0KfQ=='.
	

]
