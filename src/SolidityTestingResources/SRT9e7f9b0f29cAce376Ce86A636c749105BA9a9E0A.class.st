Class {
	#name : #SRT9e7f9b0f29cAce376Ce86A636c749105BA9a9E0A,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9e7f9b0f29cAce376Ce86A636c749105BA9a9E0A >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgoKCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tCiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20KICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgICAKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KICAKfQoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLiAKICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgICAKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKCiAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgc2l6ZSkgewogICAgcmVxdWlyZShtc2cuZGF0YS5sZW5ndGggPj0gc2l6ZSArIDQpOwogICAgXzsKICB9CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgzMioyKSByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuIAogICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9Cgp9CgovKioKICogQHRpdGxlIFN0YW5kYXJkIEVSQzIwIHRva2VuCiAqCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIGJhc2ljIHN0YW5kYXJkIHRva2VuLgogKiBAZGV2IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKiBAZGV2IEJhc2VkIG9uIGNvZGUgYnkgRmlyc3RCbG9vZDogaHR0cHM6Ly9naXRodWIuY29tCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICByZXF1aXJlIChfdmFsdWUgPD0gX2FsbG93YW5jZSk7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW19mcm9tXSk7CgogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKCiAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS8KICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogICAgCiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgYWRkcmVzcyBwdWJsaWMgY2FuZGlkYXRlOwoKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CiAgCiAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfb3duZXIpIG9ubHlPd25lciB7CiAgICBjYW5kaWRhdGUgPSBfb3duZXI7ICAgICAgCiAgfQogIAogIGZ1bmN0aW9uIGNvbmZpcm1Pd25lcigpIHB1YmxpYyB7CiAgICByZXF1aXJlKGNhbmRpZGF0ZSA9PSBtc2cuc2VuZGVyKTsgCiAgICBvd25lciA9IGNhbmRpZGF0ZTsgICAKICB9CiAgCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICAvKioKICAgKmZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICogcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsgICAgICAKICAgKiBvd25lciA9IG5ld093bmVyOwogICAqfQogICAqLwp9CgovKioKICogQHRpdGxlIE1pbnRhYmxlIHRva2VuCiAqIEBkZXYgU2ltcGxlIEVSQzIwIFRva2VuIGV4YW1wbGUsIHdpdGggbWludGFibGUgdG9rZW4gY3JlYXRpb24KICogQGRldiBJc3N1ZTogKiBodHRwczovL2dpdGh1Yi5jb20KICogQmFzZWQgb24gY29kZSBieSBUb2tlbk1hcmtldE5ldDogaHR0cHM6Ly9naXRodWIuY29tCiAqLwoKY29udHJhY3QgTWludGFibGVUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKICAgIAogIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CiAgCiAgZXZlbnQgTWludEZpbmlzaGVkKCk7CgogIGJvb2wgcHVibGljIG1pbnRpbmdGaW5pc2hlZCA9IGZhbHNlOwogIHVpbnQyNTYgcHVibGljIGxhc3RUb3RhbFN1cHBseSA9IDA7CgogIGFkZHJlc3MgcHVibGljIHNhbGVBZ2VudCA9IDA7CgoKCiAgbW9kaWZpZXIgY2FuTWludCgpIHsKICAgIHJlcXVpcmUoIW1pbnRpbmdGaW5pc2hlZCk7CiAgICBfOwogIH0KCgogIGZ1bmN0aW9uIHNldFNhbGVBZ2VudChhZGRyZXNzIG5ld1NhbGVBZ2VudCkgcHVibGljIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBzYWxlQWdlbnQgfHwgbXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBzYWxlQWdlbnQgPSBuZXdTYWxlQWdlbnQ7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIG1pbnQgdG9rZW5zCiAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0aGF0IHdpbGwgcmVjaWV2ZSB0aGUgbWludGVkIHRva2Vucy4KICAgKiBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IG9mIHRva2VucyB0byBtaW50LgogICAqIEByZXR1cm4gQSBib29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICovCiAgZnVuY3Rpb24gbWludChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBjYW5NaW50IHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBzYWxlQWdlbnQpOyAKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9hbW91bnQpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgTWludChfdG8sIF9hbW91bnQpOwogICAgVHJhbnNmZXIoYWRkcmVzcygwKSwgX3RvLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBzdG9wIG1pbnRpbmcgbmV3IHRva2Vucy4KICAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgKi8KCiAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoKG1zZy5zZW5kZXIgPT0gc2FsZUFnZW50KSB8fCAobXNnLnNlbmRlciA9PSBvd25lcikpOyAKICAgIGxhc3RUb3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5OwogICAgbWludGluZ0ZpbmlzaGVkID0gdHJ1ZTsKICAgIE1pbnRGaW5pc2hlZCgpOwogICAgcmV0dXJuIG1pbnRpbmdGaW5pc2hlZDsKICB9CiAgZnVuY3Rpb24gc3RhcnRNaW50aW5nKCkgIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoKG1zZy5zZW5kZXIgPT0gc2FsZUFnZW50KSB8fCAobXNnLnNlbmRlciA9PSBvd25lcikpOyAKICAgIG1pbnRpbmdGaW5pc2hlZCA9IGZhbHNlOwogICAgcmV0dXJuIG1pbnRpbmdGaW5pc2hlZDsKICB9CiAgCn0KCmNvbnRyYWN0IEJldE9uQ3J5cHRUb2tlbiBpcyBNaW50YWJsZVRva2VuIHsKICAgIAogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkJldE9uQ3J5cHRfVG9rZW4iOwogICAgCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJCRUMiOwogICAgCiAgICB1aW50MzIgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CiAgICAKfQoKY29udHJhY3QgQ3Jvd2RzYWxlUHJlIGlzIE93bmFibGUgewogICAgCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKICAgIAogICAgZW51bSBTdGF0ZSB7IEFjdGl2ZSwgUmVmdW5kaW5nLCBDbG9zZSB9CiAgICAKICAgIGFkZHJlc3MgcHVibGljIG11bHRpc2lnOwoKICAgIHVpbnQgcHVibGljIHJlc3RyaWN0ZWRQZXJjZW50OwoKICAgIGFkZHJlc3MgcHVibGljIHJlc3RyaWN0ZWQ7CgogICAgQmV0T25DcnlwdFRva2VuIHB1YmxpYyB0b2tlbjsgCiAgICAKICAgIHVpbnQgcHVibGljIHN0YXJ0OwogICAgCiAgICB1aW50IHB1YmxpYyBwZXJpb2Q7CgogICAgdWludCBwdWJsaWMgaGFyZGNhcDsKCiAgICB1aW50IHB1YmxpYyByYXRlYm9jOwoKICAgIHVpbnQgcHVibGljIHNvZnRjYXA7CgogICAgdWludCBwdWJsaWMgbWluYm9jOwoKICAgIGJvb2wgaXNfZmluaXNobWluaW5nOwoKICAgIFN0YXRlIHB1YmxpYyBzdGF0ZTsKICAgIAogICAgdWludCBwdWJsaWMgZmlyc3Q7CiAgICB1aW50IHB1YmxpYyBzZWNvbmQ7CiAgICB1aW50IHB1YmxpYyB0aGlyZDsgCiAgICB1aW50IHB1YmxpYyBmb3VydGg7IAogICAgdWludCBwdWJsaWMgZmlmdGg7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBiYWxhbmNlczsKICAgIHVpbnQgcHVibGljIGluZGV4QmFsYW5jZTsKICAgIAogICAgZXZlbnQgQ2xvc2VkKCk7CiAgICBldmVudCBSZWZ1bmRzRW5hYmxlZCgpOwogICAgZXZlbnQgUmVmdW5kZWQoYWRkcmVzcyBpbmRleGVkIGJlbmVmaWNpYXJ5LCB1aW50MjU2IHdlaUFtb3VudCk7ICAKCgogICAgZnVuY3Rpb24gQ3Jvd2RzYWxlUHJlKGFkZHJlc3MgX3Rva2VuY29pbikgewogICAgICAgIHRva2VuID0gQmV0T25DcnlwdFRva2VuKF90b2tlbmNvaW4pOwogICAgICAgIGlzX2ZpbmlzaG1pbmluZyA9IGZhbHNlOwogICAgICAgIHN0YXRlID0gU3RhdGUuQWN0aXZlOwogICAgfQoKIAoKICAgIGZ1bmN0aW9uIHNldFBhcmFtcyhhZGRyZXNzIF9tdWx0aXNpZywgYWRkcmVzcyBfcmVzdHJpY3RlZCwgdWludCBfcGVyaW9kLCB1aW50IF9zdGFydCwgdWludCBfcmF0ZWJvYywgdWludCBfbWluYm9jLCB1aW50IF9zb2Z0Y2FwLCB1aW50IF9oYXJkY2FwLCB1aW50IF9yZXN0cmljdGVkUGVyY2VudCwgdWludCBfZmlyc3QsIHVpbnQgX3NlY29uZCwgIHVpbnQgX3RoaXJkLCB1aW50IF9mb3VydGgsIHVpbnQgX2ZpZnRoKSBvbmx5T3duZXIgewogICAgICBtdWx0aXNpZyA9IF9tdWx0aXNpZzsgCiAgICAgIHJlc3RyaWN0ZWQgPSBfcmVzdHJpY3RlZDsgICAgCiAgICAgIHN0YXJ0ID0gX3N0YXJ0OyAgICAgIAogICAgICBwZXJpb2QgPSBfcGVyaW9kOyAgICAgIAogICAgICBtaW5ib2MgPSBfbWluYm9jLm11bCgxMDAwMDAwMDAwMDAwMDAwMDAwKTsgICAgICAKICAgICAgcmF0ZWJvYyA9IF9yYXRlYm9jLm11bCgxMDAwMDAwMDAwMDAwMDAwMDAwKTsgICAgICAKICAgICAgc29mdGNhcCA9IF9zb2Z0Y2FwLm11bCgxMDAwMDAwMDAwMDAwMDAwMDAwKTsgICAgICAKICAgICAgaGFyZGNhcCA9IF9oYXJkY2FwLm11bCgxMDAwMDAwMDAwMDAwMDAwMDAwKTsKICAgICAgaWYgKF9yZXN0cmljdGVkUGVyY2VudCA+IDAgJiYgX3Jlc3RyaWN0ZWRQZXJjZW50IDwgNTApewogICAgICAgIHJlc3RyaWN0ZWRQZXJjZW50ID0gX3Jlc3RyaWN0ZWRQZXJjZW50OyAgICAgIAogICAgICB9IAogICAgICBlbHNlewogICAgICAgIHJlc3RyaWN0ZWRQZXJjZW50ID0gNDA7CiAgICAgIH0KICAgICAgZmlyc3QgID0gX2ZpcnN0OwogICAgICBzZWNvbmQgPSBfc2Vjb25kOwogICAgICB0aGlyZCAgPSBfdGhpcmQ7IAogICAgICBmb3VydGggPSBfZm91cnRoOyAKICAgICAgZmlmdGggID0gX2ZpZnRoOwogICAgfQoKCiAgICBtb2RpZmllciBzYWxlSXNPbigpIHsKICAgIAlyZXF1aXJlKChub3cgPiBzdGFydCkgJiYgKG5vdyA8IChzdGFydCArIHBlcmlvZCAqIDEgZGF5cykpKTsKICAgIAlfOwogICAgfQoKICAgIG1vZGlmaWVyIGlzVW5kZXJIYXJkY2FwKCkgewogICAgICAgIHJlcXVpcmUobXVsdGlzaWcuYmFsYW5jZSA8PSBoYXJkY2FwKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIGlzVW5kZXJSZWZ1bmRzKCkgewogICAgICAgIHJlcXVpcmUoKHRoaXMuYmFsYW5jZSA8IHNvZnRjYXApICYmIChub3cgPiAoc3RhcnQgKyBwZXJpb2QgKiAxIGRheXMpKSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKHRoaXMuYmFsYW5jZSA+PSBzb2Z0Y2FwKTsKICAgICAgICBtdWx0aXNpZy50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgICAgIHVpbnQgaXNzdWVkVG9rZW5TdXBwbHkgPSB0b2tlbi50b3RhbFN1cHBseSgpOwogICAgICAgIHVpbnQgcmVzdHJpY3RlZFRva2VucyA9IGlzc3VlZFRva2VuU3VwcGx5Lm11bChyZXN0cmljdGVkUGVyY2VudCkuZGl2KDEwMCAtIHJlc3RyaWN0ZWRQZXJjZW50KTsKICAgICAgICB0b2tlbi5taW50KHJlc3RyaWN0ZWQsIHJlc3RyaWN0ZWRUb2tlbnMpOwogICAgICAgIHRva2VuLmZpbmlzaE1pbnRpbmcoKTsKICAgICAgICBpc19maW5pc2htaW5pbmcgPSB0cnVlOwogICAgfQoKCiAgICBmdW5jdGlvbiBkZXN0cm95Q3Jvd2RzYWxlKCkgb25seU93bmVyIHsKICAgICAgcmVxdWlyZShzdGF0ZSA9PSBTdGF0ZS5DbG9zZSk7CiAgICAgIHNlbGZkZXN0cnVjdChvd25lcik7CiAgICB9CgogICAgZnVuY3Rpb24gY2xvc2VDcm93ZHNhbGUoKSBvbmx5T3duZXIgewogICAgICByZXF1aXJlKHN0YXRlID09IFN0YXRlLkFjdGl2ZSk7CiAgICAgIHJlcXVpcmUobm93ID4gKHN0YXJ0ICsgKHBlcmlvZCAqIDEgZGF5cykpKTsKICAgICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgPj0gc29mdGNhcCk7CiAgICAgIHN0YXRlID0gU3RhdGUuQ2xvc2U7CiAgICAgIGlmIChpc19maW5pc2htaW5pbmcgPT0gZmFsc2UpewogICAgICAgIGZpbmlzaE1pbnRpbmcoKTsKICAgICAgfQogICAgICBDbG9zZWQoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBlbmFibGVSZWZ1bmRzKCkgb25seU93bmVyIGlzVW5kZXJSZWZ1bmRzIHB1YmxpYyB7CiAgICAgIHJlcXVpcmUoc3RhdGUgPT0gU3RhdGUuQWN0aXZlKTsKICAgICAgc3RhdGUgPSBTdGF0ZS5SZWZ1bmRpbmc7CiAgICAgIFJlZnVuZHNFbmFibGVkKCk7CiAgICB9CgogICAgZnVuY3Rpb24gcmVmdW5kKCkgaXNVbmRlclJlZnVuZHMgcHVibGljIHsKICAgICAgcmVxdWlyZShzdGF0ZSA9PSBTdGF0ZS5SZWZ1bmRpbmcpOwogICAgICB1aW50IHZhbHVlID0gMDsKICAgICAgdmFsdWUgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXTsgCiAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gMDsgCiAgICAgIGlmIChpbmRleEJhbGFuY2UgPiAwKSB7CiAgICAgICAgIGluZGV4QmFsYW5jZSAtLTsKICAgICAgfQogICAgICBpZiAoaW5kZXhCYWxhbmNlID09IDApIHsKICAgICAgICBzdGF0ZSA9IFN0YXRlLkNsb3NlOwogICAgICB9CiAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIodmFsdWUpOyAKICAgICAgUmVmdW5kZWQobXNnLnNlbmRlciwgdmFsdWUpOwogICAgfQoKCiAgICBmdW5jdGlvbiBjcmVhdGVUb2tlbnMoKSBpc1VuZGVySGFyZGNhcCBzYWxlSXNPbiBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShzdGF0ZSA9PSBTdGF0ZS5BY3RpdmUpOwogICAgICAgIHVpbnQgdG9rZW5zID0gcmF0ZWJvYy5tdWwobXNnLnZhbHVlKS5kaXYoMSBldGhlcik7CiAgICAgICAgcmVxdWlyZSh0b2tlbnMgPiBtaW5ib2MpOwogICAgICAgIHVpbnQgYm9udXNUb2tlbnMgPSAwOwogICAgICAgIGlmKG5vdyA8IChzdGFydCArIDYgZGF5cykpIHsKICAgICAgICAgIGJvbnVzVG9rZW5zID0gdG9rZW5zLm11bChmaXJzdCkuZGl2KDEwMCk7CiAgICAgICAgfSBlbHNlIGlmKG5vdyA+PSAoc3RhcnQgKyAgNiBkYXlzKSAmJiBub3cgPCAoc3RhcnQgKyAxMiBkYXlzKSkgewogICAgICAgICAgYm9udXNUb2tlbnMgPSB0b2tlbnMubXVsKHNlY29uZCkuZGl2KDEwMCk7CiAgICAgICAgfSBlbHNlIGlmKG5vdyA+PSAoc3RhcnQgKyAxMiBkYXlzKSAmJiBub3cgPCAoc3RhcnQgKyAxOCBkYXlzKSkgewogICAgICAgICAgYm9udXNUb2tlbnMgPSB0b2tlbnMubXVsKHRoaXJkKS5kaXYoMTAwKTsKICAgICAgICB9IGVsc2UgaWYobm93ID49IChzdGFydCArIDE4IGRheXMpICYmIG5vdyA8IChzdGFydCArIDI0IGRheXMpKSB7CiAgICAgICAgICBib251c1Rva2VucyA9IHRva2Vucy5tdWwoZm91cnRoKS5kaXYoMTAwKTsKICAgICAgICB9IGVsc2UgaWYobm93ID49IChzdGFydCArIDI0IGRheXMpKSB7CiAgICAgICAgICBib251c1Rva2VucyA9IHRva2Vucy5tdWwoZmlmdGgpLmRpdigxMDApOwogICAgICAgIH0KICAgICAgICB0b2tlbnMgKz0gYm9udXNUb2tlbnM7CiAgICAgICAgdG9rZW4ubWludCh0aGlzLCB0b2tlbnMpOwogICAgICAgIHRva2VuLnRyYW5zZmVyKG1zZy5zZW5kZXIsIHRva2Vucyk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQobXNnLnZhbHVlKTsKICAgICAgICBpbmRleEJhbGFuY2UgKys7CiAgICAgICAgCiAgICAgICAgCiAgICB9CgogICAgZnVuY3Rpb24gc2VuZFRva2VucyhhZGRyZXNzIGJlbmVmaWNpYXJ5LCB1aW50IF90b2tlbnMpIG9ubHlPd25lciBwdWJsaWMgewogICAgICB1aW50IHZhbHVlID0gX3Rva2Vucy5tdWwoMTAwMDAwMDAwMDAwMDAwMDAwMCk7CiAgICAgIHRva2VuLm1pbnQodGhpcywgdmFsdWUpOwogICAgICB0b2tlbi50cmFuc2ZlcihiZW5lZmljaWFyeSwgdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICAgIGNyZWF0ZVRva2VucygpOwogICAgfQp9'.
	

]
