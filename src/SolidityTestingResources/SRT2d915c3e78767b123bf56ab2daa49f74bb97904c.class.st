Class {
	#name : #SRT2d915c3e78767b123bf56ab2daa49f74bb97904c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT2d915c3e78767b123bf56ab2daa49f74bb97904c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuODsKCmNvbnRyYWN0IEVOUyB7CiAgICBmdW5jdGlvbiBvd25lcihieXRlczMyIG5vZGUpIGNvbnN0YW50IHJldHVybnMoYWRkcmVzcyk7CiAgICBmdW5jdGlvbiByZXNvbHZlcihieXRlczMyIG5vZGUpIGNvbnN0YW50IHJldHVybnMoYWRkcmVzcyk7CiAgICBmdW5jdGlvbiB0dGwoYnl0ZXMzMiBub2RlKSBjb25zdGFudCByZXR1cm5zKHVpbnQ2NCk7CiAgICBmdW5jdGlvbiBzZXRPd25lcihieXRlczMyIG5vZGUsIGFkZHJlc3Mgb3duZXIpOwogICAgZnVuY3Rpb24gc2V0U3Vibm9kZU93bmVyKGJ5dGVzMzIgbm9kZSwgYnl0ZXMzMiBsYWJlbCwgYWRkcmVzcyBvd25lcik7CiAgICBmdW5jdGlvbiBzZXRSZXNvbHZlcihieXRlczMyIG5vZGUsIGFkZHJlc3MgcmVzb2x2ZXIpOwogICAgZnVuY3Rpb24gc2V0VFRMKGJ5dGVzMzIgbm9kZSwgdWludDY0IHR0bCk7CgogICAgLy8gTG9nZ2VkIHdoZW4gdGhlIG93bmVyIG9mIGEgbm9kZSBhc3NpZ25zIGEgbmV3IG93bmVyIHRvIGEgc3Vibm9kZS4KICAgIGV2ZW50IE5ld093bmVyKGJ5dGVzMzIgaW5kZXhlZCBub2RlLCBieXRlczMyIGluZGV4ZWQgbGFiZWwsIGFkZHJlc3Mgb3duZXIpOwoKICAgIC8vIExvZ2dlZCB3aGVuIHRoZSBvd25lciBvZiBhIG5vZGUgdHJhbnNmZXJzIG93bmVyc2hpcCB0byBhIG5ldyBhY2NvdW50LgogICAgZXZlbnQgVHJhbnNmZXIoYnl0ZXMzMiBpbmRleGVkIG5vZGUsIGFkZHJlc3Mgb3duZXIpOwoKICAgIC8vIExvZ2dlZCB3aGVuIHRoZSByZXNvbHZlciBmb3IgYSBub2RlIGNoYW5nZXMuCiAgICBldmVudCBOZXdSZXNvbHZlcihieXRlczMyIGluZGV4ZWQgbm9kZSwgYWRkcmVzcyByZXNvbHZlcik7CgogICAgLy8gTG9nZ2VkIHdoZW4gdGhlIFRUTCBvZiBhIG5vZGUgY2hhbmdlcwogICAgZXZlbnQgTmV3VFRMKGJ5dGVzMzIgaW5kZXhlZCBub2RlLCB1aW50NjQgdHRsKTsKfQoKY29udHJhY3QgUmV2ZXJzZVJlZ2lzdHJhciB7CiAgICBmdW5jdGlvbiBzZXROYW1lKHN0cmluZyBuYW1lKSByZXR1cm5zIChieXRlczMyIG5vZGUpOwogICAgZnVuY3Rpb24gY2xhaW1XaXRoUmVzb2x2ZXIoYWRkcmVzcyBvd25lciwgYWRkcmVzcyByZXNvbHZlcikgcmV0dXJucyAoYnl0ZXMzMiBub2RlKTsKfQoKY29udHJhY3QgVG9rZW4gewogICAgLyogVGhpcyBpcyBhIHNsaWdodCBjaGFuZ2UgdG8gdGhlIEVSQzIwIGJhc2Ugc3RhbmRhcmQuCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgc3VwcGx5KTsKICAgIGlzIHJlcGxhY2VkIHdpdGg6CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIFRoaXMgYXV0b21hdGljYWxseSBjcmVhdGVzIGEgZ2V0dGVyIGZ1bmN0aW9uIGZvciB0aGUgdG90YWxTdXBwbHkuCiAgICBUaGlzIGlzIG1vdmVkIHRvIHRoZSBiYXNlIGNvbnRyYWN0IHNpbmNlIHB1YmxpYyBnZXR0ZXIgZnVuY3Rpb25zIGFyZSBub3QKICAgIGN1cnJlbnRseSByZWNvZ25pc2VkIGFzIGFuIGltcGxlbWVudGF0aW9uIG9mIHRoZSBtYXRjaGluZyBhYnN0cmFjdAogICAgZnVuY3Rpb24gYnkgdGhlIGNvbXBpbGVyLgogICAgKi8KICAgIC8vLyB0b3RhbCBhbW91bnQgb2YgdG9rZW5zCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICAvLy8gQHJldHVybiBUaGUgYmFsYW5jZQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8vIEBub3RpY2UgYG1zZy5zZW5kZXJgIGFwcHJvdmVzIGBfc3BlbmRlcmAgdG8gc3BlbmQgYF92YWx1ZWAgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSBhcHByb3ZhbCB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cn0KCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgVG9rZW4gewoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy9EZWZhdWx0IGFzc3VtZXMgdG90YWxTdXBwbHkgY2FuJ3QgYmUgb3ZlciBtYXggKDJeMjU2IC0gMSkuCiAgICAgICAgLy9JZiB5b3VyIHRva2VuIGxlYXZlcyBvdXQgdG90YWxTdXBwbHkgYW5kIGNhbiBpc3N1ZSBtb3JlIHRva2VucyBhcyB0aW1lIGdvZXMgb24sIHlvdSBuZWVkIHRvIGNoZWNrIGlmIGl0IGRvZXNuJ3Qgd3JhcC4KICAgICAgICAvL1JlcGxhY2UgdGhlIGlmIHdpdGggdGhpcyBvbmUgaW5zdGVhZC4KICAgICAgICAvL2lmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy9zYW1lIGFzIGFib3ZlLiBSZXBsYWNlIHRoaXMgbGluZSB3aXRoIHRoZSBmb2xsb3dpbmcgaWYgeW91IHdhbnQgdG8gcHJvdGVjdCBhZ2FpbnN0IHdyYXBwaW5nIHVpbnRzLgogICAgICAgIC8vaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwp9Cgpjb250cmFjdCBTaGliYm9sZXRoVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiB7CiAgICBFTlMgZW5zOyAgICAKCiAgICBzdHJpbmcgcHVibGljIG5hbWU7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsKICAgIGFkZHJlc3MgcHVibGljIGlzc3VlcjsKCiAgICBmdW5jdGlvbiB2ZXJzaW9uKCkgY29uc3RhbnQgcmV0dXJucyhzdHJpbmcpIHsgcmV0dXJuICJTMC4xIjsgfQogICAgZnVuY3Rpb24gZGVjaW1hbHMoKSBjb25zdGFudCByZXR1cm5zKHVpbnQ4KSB7IHJldHVybiAwOyB9CiAgICBmdW5jdGlvbiBuYW1lKGJ5dGVzMzIgbm9kZSkgY29uc3RhbnQgcmV0dXJucyhzdHJpbmcpIHsgcmV0dXJuIG5hbWU7IH0KICAgIAogICAgbW9kaWZpZXIgaXNzdWVyX29ubHkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBpc3N1ZXIpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIFNoaWJib2xldGhUb2tlbihFTlMgX2Vucywgc3RyaW5nIF9uYW1lLCBzdHJpbmcgX3N5bWJvbCwgYWRkcmVzcyBfaXNzdWVyKSB7CiAgICAgICAgZW5zID0gX2VuczsKICAgICAgICBuYW1lID0gX25hbWU7CiAgICAgICAgc3ltYm9sID0gX3N5bWJvbDsKICAgICAgICBpc3N1ZXIgPSBfaXNzdWVyOwogICAgICAgIAogICAgICAgIHZhciByciA9IFJldmVyc2VSZWdpc3RyYXIoZW5zLm93bmVyKDB4OTFkMTc3Nzc4MTg4NGQwM2E2NzU3YTgwMzk5NmUzOGRlMmE0Mjk2N2ZiMzdlZWFjYTcyNzI5MjcxMDI1YTllMikpOwogICAgICAgIHJyLmNsYWltV2l0aFJlc29sdmVyKHRoaXMsIHRoaXMpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBpc3N1ZSh1aW50IF92YWx1ZSkgaXNzdWVyX29ubHkgewogICAgICAgIHJlcXVpcmUodG90YWxTdXBwbHkgKyBfdmFsdWUgPj0gX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tpc3N1ZXJdICs9IF92YWx1ZTsKICAgICAgICB0b3RhbFN1cHBseSArPSBfdmFsdWU7CiAgICAgICAgVHJhbnNmZXIoMCwgaXNzdWVyLCBfdmFsdWUpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBidXJuKHVpbnQgX3ZhbHVlKSBpc3N1ZXJfb25seSB7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbaXNzdWVyXSk7CiAgICAgICAgYmFsYW5jZXNbaXNzdWVyXSAtPSBfdmFsdWU7CiAgICAgICAgdG90YWxTdXBwbHkgLT0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKGlzc3VlciwgMCwgX3ZhbHVlKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gc2V0SXNzdWVyKGFkZHJlc3MgX2lzc3VlcikgaXNzdWVyX29ubHkgewogICAgICAgIGlzc3VlciA9IF9pc3N1ZXI7CiAgICB9Cn0KCmxpYnJhcnkgU3RyaW5nVXRpbHMgewogICAgZnVuY3Rpb24gc3RyY3B5KHN0cmluZyBkZXN0LCB1aW50IG9mZiwgc3RyaW5nIHNyYykgcHJpdmF0ZSB7CiAgICAgICAgdmFyIGxlbiA9IGJ5dGVzKHNyYykubGVuZ3RoOwogICAgICAgIGFzc2VtYmx5IHsKICAgICAgICAgICAgZGVzdCA6PSBhZGQoYWRkKGRlc3QsIG9mZiksIDMyKQogICAgICAgICAgICBzcmMgOj0gYWRkKHNyYywgMzIpCiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIENvcHkgd29yZC1sZW5ndGggY2h1bmtzIHdoaWxlIHBvc3NpYmxlCiAgICAgICAgZm9yKDsgbGVuID49IDMyOyBsZW4gLT0gMzIpIHsKICAgICAgICAgICAgYXNzZW1ibHkgewogICAgICAgICAgICAgICAgbXN0b3JlKGFkZChkZXN0LCBvZmYpLCBtbG9hZChzcmMpKQogICAgICAgICAgICAgICAgZGVzdCA6PSBhZGQoZGVzdCwgMzIpCiAgICAgICAgICAgICAgICBzcmMgOj0gYWRkKHNyYywgMzIpCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIENvcHkgcmVtYWluaW5nIGJ5dGVzCiAgICAgICAgdWludCBtYXNrID0gMjU2ICoqICgzMiAtIGxlbikgLSAxOwogICAgICAgIGFzc2VtYmx5IHsKICAgICAgICAgICAgbGV0IHNyY3BhcnQgOj0gYW5kKG1sb2FkKHNyYyksIG5vdChtYXNrKSkKICAgICAgICAgICAgbGV0IGRlc3RwYXJ0IDo9IGFuZChtbG9hZChkZXN0KSwgbWFzaykKICAgICAgICAgICAgbXN0b3JlKGRlc3QsIG9yKGRlc3RwYXJ0LCBzcmNwYXJ0KSkKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNvbmNhdChzdHJpbmcgYSwgc3RyaW5nIGIpIGludGVybmFsIHJldHVybnMoc3RyaW5nIHJldCkgewogICAgICAgIHJldCA9IG5ldyBzdHJpbmcoYnl0ZXMoYSkubGVuZ3RoICsgYnl0ZXMoYikubGVuZ3RoKTsKICAgICAgICBzdHJjcHkocmV0LCAwLCBhKTsKICAgICAgICBzdHJjcHkocmV0LCBieXRlcyhhKS5sZW5ndGgsIGIpOwogICAgfQp9Cgpjb250cmFjdCBTaGliYm9sZXRoVG9rZW5GYWN0b3J5IHsKICAgIHVzaW5nIFN0cmluZ1V0aWxzIGZvciAqOwogICAgCiAgICBFTlMgZW5zOwogICAgLy8gbmFtZWhhc2goJ215c2hpYmJvbC5ldGgnKQogICAgYnl0ZXMzMiBjb25zdGFudCByb290Tm9kZSA9IDB4Mjk1Mjg2M2JjZTgwYmU4ZTk5NWJiZjAwM2M3YTE5MDFkZDgwMWJiOTBjMDkzMjdkYTlkMDI5ZDA0OTZjNzAxMDsKICAgIGJ5dGVzMzIgcmV2ZXJzZU5vZGU7CiAgICBtYXBwaW5nKGJ5dGVzMzI9PmFkZHJlc3MpIHRva2VuczsKICAgIAogICAgZXZlbnQgTmV3VG9rZW4oc3RyaW5nIGluZGV4ZWQgc3ltYm9sLCBzdHJpbmcgX3N5bWJvbCwgc3RyaW5nIG5hbWUsIGFkZHJlc3MgYWRkcik7CiAgICAKICAgIGZ1bmN0aW9uIFNoaWJib2xldGhUb2tlbkZhY3RvcnkoRU5TIF9lbnMpIHsKICAgICAgICBlbnMgPSBfZW5zOwogICAgICAgIHZhciByciA9IFJldmVyc2VSZWdpc3RyYXIoZW5zLm93bmVyKDB4OTFkMTc3Nzc4MTg4NGQwM2E2NzU3YTgwMzk5NmUzOGRlMmE0Mjk2N2ZiMzdlZWFjYTcyNzI5MjcxMDI1YTllMikpOwogICAgICAgIHJldmVyc2VOb2RlID0gcnIuY2xhaW1XaXRoUmVzb2x2ZXIodGhpcywgdGhpcyk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNyZWF0ZShzdHJpbmcgc3ltYm9sKSByZXR1cm5zKGFkZHJlc3MpIHsKICAgICAgICB2YXIgbmFtZSA9IHN5bWJvbC5jb25jYXQoIi5teXNoaWJib2wuZXRoIik7CiAgICAgICAgdmFyIHN1Ym5vZGUgPSBzaGEzKHJvb3ROb2RlLCBzaGEzKHN5bWJvbCkpOwogICAgICAgIHJlcXVpcmUoZW5zLm93bmVyKHN1Ym5vZGUpID09IDApOwoKICAgICAgICB2YXIgdG9rZW4gPSBjcmVhdGUoc3ltYm9sLCBuYW1lKTsKCiAgICAgICAgZW5zLnNldFN1Ym5vZGVPd25lcihyb290Tm9kZSwgc2hhMyhzeW1ib2wpLCB0aGlzKTsKICAgICAgICBlbnMuc2V0UmVzb2x2ZXIoc3Vibm9kZSwgdGhpcyk7CiAgICAgICAgdG9rZW5zW3N1Ym5vZGVdID0gdG9rZW47CgogICAgICAgIHJldHVybiB0b2tlbjsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY3JlYXRlKHN0cmluZyBzeW1ib2wsIHN0cmluZyBuYW1lKSByZXR1cm5zKGFkZHJlc3MpIHsKICAgICAgICB2YXIgdG9rZW4gPSBuZXcgU2hpYmJvbGV0aFRva2VuKGVucywgbmFtZSwgc3ltYm9sLCBtc2cuc2VuZGVyKTsKICAgICAgICBOZXdUb2tlbihzeW1ib2wsIHN5bWJvbCwgbmFtZSwgdG9rZW4pOwogICAgICAgIHJldHVybiB0b2tlbjsKICAgIH0KCiAgICAvLyBFTlMgZnVuY3Rpb25hbGl0eQogICAgZnVuY3Rpb24gc3VwcG9ydHNJbnRlcmZhY2UoYnl0ZXM0IGludGVyZmFjZUlkKSByZXR1cm5zKGJvb2wpIHsKICAgICAgICByZXR1cm4gKGludGVyZmFjZUlkID09IDB4MDFmZmM5YTcgfHwgLy8gc3VwcG9ydHNJbnRlcmZhY2UKICAgICAgICAgICAgICAgIGludGVyZmFjZUlkID09IDB4M2IzYjU3ZGUgfHwgLy8gYWRkcgogICAgICAgICAgICAgICAgaW50ZXJmYWNlSWQgPT0gMHg2OTFmMzQzMSB8fCAvLyBuYW1lCiAgICAgICAgICAgICAgICBpbnRlcmZhY2VJZCA9PSAweDIyMDNhYjU2KTsgIC8vIEFCSQogICAgfQogICAgCiAgICBmdW5jdGlvbiBhZGRyKGJ5dGVzMzIgbm9kZSkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIGlmKG5vZGUgPT0gcm9vdE5vZGUpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0b2tlbnNbbm9kZV07CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIEFCSShieXRlczMyIG5vZGUpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYsIGJ5dGVzKSB7CiAgICAgICAgaWYobm9kZSA9PSByb290Tm9kZSB8fCBub2RlID09IHJldmVyc2VOb2RlKSB7CiAgICAgICAgICAgIHJldHVybiAoMSwgJ1t7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiaW50ZXJmYWNlSWQiLCJ0eXBlIjoiYnl0ZXM0In1dLCJuYW1lIjoic3VwcG9ydHNJbnRlcmZhY2UiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6ImJvb2wifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOlt7Im5hbWUiOiJub2RlIiwidHlwZSI6ImJ5dGVzMzIifV0sIm5hbWUiOiJBQkkiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifSx7Im5hbWUiOiIiLCJ0eXBlIjoiYnl0ZXMifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoic3ltYm9sIiwidHlwZSI6InN0cmluZyJ9LHsibmFtZSI6Im5hbWUiLCJ0eXBlIjoic3RyaW5nIn1dLCJuYW1lIjoiY3JlYXRlIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJhZGRyZXNzIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbeyJuYW1lIjoibm9kZSIsInR5cGUiOiJieXRlczMyIn1dLCJuYW1lIjoiYWRkciIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W3sibmFtZSI6Im5vZGUiLCJ0eXBlIjoiYnl0ZXMzMiJ9XSwibmFtZSI6Im5hbWUiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InN0cmluZyJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOmZhbHNlLCJpbnB1dHMiOlt7Im5hbWUiOiJzeW1ib2wiLCJ0eXBlIjoic3RyaW5nIn1dLCJuYW1lIjoiY3JlYXRlIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJhZGRyZXNzIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7Im5hbWUiOiJfZW5zIiwidHlwZSI6ImFkZHJlc3MifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiY29uc3RydWN0b3IifSx7ImFub255bW91cyI6ZmFsc2UsImlucHV0cyI6W3siaW5kZXhlZCI6dHJ1ZSwibmFtZSI6InN5bWJvbCIsInR5cGUiOiJzdHJpbmcifSx7ImluZGV4ZWQiOmZhbHNlLCJuYW1lIjoiX3N5bWJvbCIsInR5cGUiOiJzdHJpbmcifSx7ImluZGV4ZWQiOmZhbHNlLCJuYW1lIjoibmFtZSIsInR5cGUiOiJzdHJpbmcifSx7ImluZGV4ZWQiOmZhbHNlLCJuYW1lIjoiYWRkciIsInR5cGUiOiJhZGRyZXNzIn1dLCJuYW1lIjoiTmV3VG9rZW4iLCJ0eXBlIjoiZXZlbnQifV0nKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICgxLCAnW3siY29uc3RhbnQiOnRydWUsImlucHV0cyI6W10sIm5hbWUiOiJuYW1lIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJzdHJpbmcifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX3NwZW5kZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9LHsibmFtZSI6Il92YWx1ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiYXBwcm92ZSIsIm91dHB1dHMiOlt7Im5hbWUiOiJzdWNjZXNzIiwidHlwZSI6ImJvb2wifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoidG90YWxTdXBwbHkiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoiaXNzdWVyIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJhZGRyZXNzIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il9mcm9tIiwidHlwZSI6ImFkZHJlc3MifSx7Im5hbWUiOiJfdG8iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsibmFtZSI6Il92YWx1ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoidHJhbnNmZXJGcm9tIiwib3V0cHV0cyI6W3sibmFtZSI6InN1Y2Nlc3MiLCJ0eXBlIjoiYm9vbCJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W10sIm5hbWUiOiJkZWNpbWFscyIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoidWludDgifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOlt7Im5hbWUiOiJub2RlIiwidHlwZSI6ImJ5dGVzMzIifV0sIm5hbWUiOiJhZGRyIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJhZGRyZXNzIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il92YWx1ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiYnVybiIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbXSwibmFtZSI6InZlcnNpb24iLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InN0cmluZyJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOmZhbHNlLCJpbnB1dHMiOlt7Im5hbWUiOiJfaXNzdWVyIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJzZXRJc3N1ZXIiLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W3sibmFtZSI6Im5vZGUiLCJ0eXBlIjoiYnl0ZXMzMiJ9XSwibmFtZSI6Im5hbWUiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InN0cmluZyJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W3sibmFtZSI6Il9vd25lciIsInR5cGUiOiJhZGRyZXNzIn1dLCJuYW1lIjoiYmFsYW5jZU9mIiwib3V0cHV0cyI6W3sibmFtZSI6ImJhbGFuY2UiLCJ0eXBlIjoidWludDI1NiJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W10sIm5hbWUiOiJzeW1ib2wiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InN0cmluZyJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOmZhbHNlLCJpbnB1dHMiOlt7Im5hbWUiOiJfdG8iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsibmFtZSI6Il92YWx1ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoidHJhbnNmZXIiLCJvdXRwdXRzIjpbeyJuYW1lIjoic3VjY2VzcyIsInR5cGUiOiJib29sIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il92YWx1ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiaXNzdWUiLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W3sibmFtZSI6Il9vd25lciIsInR5cGUiOiJhZGRyZXNzIn0seyJuYW1lIjoiX3NwZW5kZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6ImFsbG93YW5jZSIsIm91dHB1dHMiOlt7Im5hbWUiOiJyZW1haW5pbmciLCJ0eXBlIjoidWludDI1NiJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJuYW1lIjoiX2VucyIsInR5cGUiOiJhZGRyZXNzIn0seyJuYW1lIjoiX25hbWUiLCJ0eXBlIjoic3RyaW5nIn0seyJuYW1lIjoiX3N5bWJvbCIsInR5cGUiOiJzdHJpbmcifSx7Im5hbWUiOiJfaXNzdWVyIiwidHlwZSI6ImFkZHJlc3MifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiY29uc3RydWN0b3IifSx7ImFub255bW91cyI6ZmFsc2UsImlucHV0cyI6W3siaW5kZXhlZCI6dHJ1ZSwibmFtZSI6Il9mcm9tIiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOnRydWUsIm5hbWUiOiJfdG8iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW5kZXhlZCI6ZmFsc2UsIm5hbWUiOiJfdmFsdWUiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6IlRyYW5zZmVyIiwidHlwZSI6ImV2ZW50In0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOnRydWUsIm5hbWUiOiJfb3duZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW5kZXhlZCI6dHJ1ZSwibmFtZSI6Il9zcGVuZGVyIiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOmZhbHNlLCJuYW1lIjoiX3ZhbHVlIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJBcHByb3ZhbCIsInR5cGUiOiJldmVudCJ9XScpOwogICAgfQoKICAgIC8vIFJldmVyc2UgcmVzb2x1dGlvbiBzdXBwb3J0CiAgICBmdW5jdGlvbiBuYW1lKGJ5dGVzMzIgbm9kZSkgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nKSB7IAogICAgICAgIGlmKG5vZGUgPT0gcmV2ZXJzZU5vZGUpIHsKICAgICAgICAgICAgcmV0dXJuICdteXNoaWJib2wuZXRoJzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICcnOwogICAgfQp9'.
	

]
