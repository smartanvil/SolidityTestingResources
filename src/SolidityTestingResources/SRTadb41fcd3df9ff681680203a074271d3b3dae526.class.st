Class {
	#name : #SRTadb41fcd3df9ff681680203a074271d3b3dae526,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTadb41fcd3df9ff681680203a074271d3b3dae526 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKioKICogQHRpdGxlIENyb3dkc2FsZQogKiBAZGV2IENyb3dkc2FsZSBpcyBhIGJhc2UgY29udHJhY3QgZm9yIG1hbmFnaW5nIGEgdG9rZW4gY3Jvd2RzYWxlLgogKiBDcm93ZHNhbGVzIGhhdmUgYSBzdGFydCBhbmQgZW5kIHRpbWVzdGFtcHMsIHdoZXJlIGludmVzdG9ycyBjYW4gbWFrZQogKiB0b2tlbiBwdXJjaGFzZXMgYW5kIHRoZSBjcm93ZHNhbGUgd2lsbCBhc3NpZ24gdGhlbSB0b2tlbnMgYmFzZWQKICogb24gYSB0b2tlbiBwZXIgRVRIIHJhdGUuIEZ1bmRzIGNvbGxlY3RlZCBhcmUgZm9yd2FyZGVkIHRvIGEgd2FsbGV0CiAqIGFzIHRoZXkgYXJyaXZlLgogKi8KIAogCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cgp9CgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLgogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHRva2VuQmFsYW5jZXM7CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUodG9rZW5CYWxhbmNlc1ttc2cuc2VuZGVyXT49X3ZhbHVlKTsKICAgIHRva2VuQmFsYW5jZXNbbXNnLnNlbmRlcl0gPSB0b2tlbkJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgdG9rZW5CYWxhbmNlc1tfdG9dID0gdG9rZW5CYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiB0b2tlbkJhbGFuY2VzW19vd25lcl07CiAgfQoKfQovL1RPRE86IENoYW5nZSB0aGUgbmFtZSBvZiB0aGUgdG9rZW4KY29udHJhY3QgWHJwY1Rva2VuIGlzIEJhc2ljVG9rZW4sT3duYWJsZSB7CgogICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICAgCiAgIC8vVE9ETzogQ2hhbmdlIHRoZSBuYW1lIGFuZCB0aGUgc3ltYm9sCiAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJYUlBDb25uZWN0IjsKICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiWFJQQyI7CiAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CgogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBJTklUSUFMX1NVUFBMWSA9IDEwMDAwMDAwOwogICBldmVudCBEZWJ1ZyhzdHJpbmcgbWVzc2FnZSwgYWRkcmVzcyBhZGRyLCB1aW50MjU2IG51bWJlcik7CiAgLyoqCiAgICogQGRldiBDb250cnVjdG9yIHRoYXQgZ2l2ZXMgbXNnLnNlbmRlciBhbGwgb2YgZXhpc3RpbmcgdG9rZW5zLgogICAqLwogICAvL1RPRE86IENoYW5nZSB0aGUgbmFtZSBvZiB0aGUgY29uc3RydWN0b3IKICAgIGZ1bmN0aW9uIFhycGNUb2tlbihhZGRyZXNzIHdhbGxldCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgdG90YWxTdXBwbHkgPSBJTklUSUFMX1NVUFBMWTsKICAgICAgICB0b2tlbkJhbGFuY2VzW3dhbGxldF0gPSBJTklUSUFMX1NVUFBMWSAqIDEwICoqIDE4OyAgIC8vU2luY2Ugd2UgZGl2aWRlZCB0aGUgdG9rZW4gaW50byAxMF4xOCBwYXJ0cwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyB3YWxsZXQsIGFkZHJlc3MgYnV5ZXIsIHVpbnQyNTYgdG9rZW5BbW91bnQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICByZXF1aXJlKHRva2VuQmFsYW5jZXNbd2FsbGV0XSA+PSB0b2tlbkFtb3VudCk7ICAgICAgICAgICAgICAgLy8gY2hlY2tzIGlmIGl0IGhhcyBlbm91Z2ggdG8gc2VsbAogICAgICB0b2tlbkJhbGFuY2VzW2J1eWVyXSA9IHRva2VuQmFsYW5jZXNbYnV5ZXJdLmFkZCh0b2tlbkFtb3VudCk7ICAgICAgICAgICAgICAgICAgLy8gYWRkcyB0aGUgYW1vdW50IHRvIGJ1eWVyJ3MgYmFsYW5jZQogICAgICB0b2tlbkJhbGFuY2VzW3dhbGxldF0gPSB0b2tlbkJhbGFuY2VzW3dhbGxldF0uc3ViKHRva2VuQW1vdW50KTsgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdWJ0cmFjdHMgYW1vdW50IGZyb20gc2VsbGVyJ3MgYmFsYW5jZQogICAgICBUcmFuc2Zlcih3YWxsZXQsIGJ1eWVyLCB0b2tlbkFtb3VudCk7IAogICAgfQogIGZ1bmN0aW9uIHNob3dNeVRva2VuQmFsYW5jZShhZGRyZXNzIGFkZHIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgdG9rZW5CYWxhbmNlKSB7CiAgICAgICAgdG9rZW5CYWxhbmNlID0gdG9rZW5CYWxhbmNlc1thZGRyXTsKICAgIH0KfQpjb250cmFjdCBDcm93ZHNhbGUgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogCiAgLy8gVGhlIHRva2VuIGJlaW5nIHNvbGQKICBYcnBjVG9rZW4gcHVibGljIHRva2VuOwoKICAvLyBzdGFydCBhbmQgZW5kIHRpbWVzdGFtcHMgd2hlcmUgaW52ZXN0bWVudHMgYXJlIGFsbG93ZWQgKGJvdGggaW5jbHVzaXZlKQogIHVpbnQyNTYgcHVibGljIHN0YXJ0VGltZTsKICB1aW50MjU2IHB1YmxpYyBlbmRUaW1lOwoKICAvLyBhZGRyZXNzIHdoZXJlIGZ1bmRzIGFyZSBjb2xsZWN0ZWQKICAvLyBhZGRyZXNzIHdoZXJlIHRva2VucyBhcmUgZGVwb3NpdGVkIGFuZCBmcm9tIHdoZXJlIHdlIHNlbmQgdG9rZW5zIHRvIGJ1eWVycwogIGFkZHJlc3MgcHVibGljIHdhbGxldDsKCiAgLy8gaG93IG1hbnkgdG9rZW4gdW5pdHMgYSBidXllciBnZXRzIHBlciB3ZWkKICB1aW50MjU2IHB1YmxpYyByYXRlOwoKICAvLyBhbW91bnQgb2YgcmFpc2VkIG1vbmV5IGluIHdlaQogIHVpbnQyNTYgcHVibGljIHdlaVJhaXNlZDsKCgogIC8vIHJhdGVzIGNvcnJlc3BvbmRpbmcgdG8gZWFjaCB3ZWVrIGluIFdFSSBub3QgRVRIIChjb252ZXJzaW9uIGlzIDEgRVRIID09IDEwXjE4IFdFSSkKCiAgdWludDI1NiBwdWJsaWMgd2VlazFQcmljZSA9IDIxMTc7ICAgCiAgdWludDI1NiBwdWJsaWMgd2VlazJQcmljZSA9IDE0NjY7CiAgdWludDI1NiBwdWJsaWMgd2VlazNQcmljZSA9IDExMjE7CiAgdWludDI1NiBwdWJsaWMgd2VlazRQcmljZSA9IDkwNzsKICAKICBib29sIG93bmVyQW1vdW50UGFpZCA9IGZhbHNlOyAKCiAgLyoqCiAgICogZXZlbnQgZm9yIHRva2VuIHB1cmNoYXNlIGxvZ2dpbmcKICAgKiBAcGFyYW0gcHVyY2hhc2VyIHdobyBwYWlkIGZvciB0aGUgdG9rZW5zCiAgICogQHBhcmFtIGJlbmVmaWNpYXJ5IHdobyBnb3QgdGhlIHRva2VucwogICAqIEBwYXJhbSB2YWx1ZSB3ZWlzIHBhaWQgZm9yIHB1cmNoYXNlCiAgICogQHBhcmFtIGFtb3VudCBhbW91bnQgb2YgdG9rZW5zIHB1cmNoYXNlZAogICAqLwogIGV2ZW50IFRva2VuUHVyY2hhc2UoYWRkcmVzcyBpbmRleGVkIHB1cmNoYXNlciwgYWRkcmVzcyBpbmRleGVkIGJlbmVmaWNpYXJ5LCB1aW50MjU2IHZhbHVlLCB1aW50MjU2IGFtb3VudCk7CgoKICBmdW5jdGlvbiBDcm93ZHNhbGUodWludDI1NiBfc3RhcnRUaW1lLCBhZGRyZXNzIF93YWxsZXQpIHB1YmxpYyB7CiAgICAvL1RPRE86IFVuY29tbWVudCB0aGVzZSBiZWZvcmUgZmluYWwgZGVwbG95bWVudAogICAgcmVxdWlyZShfc3RhcnRUaW1lID49IG5vdyk7CiAgICBzdGFydFRpbWUgPSBfc3RhcnRUaW1lOwogICAgCiAgICAvL1RPRE86IENvbW1lbnQgdGhpcyAic3RhcnRUaW1lID0gbm93IiBiZWZvcmUgZGVwbG95bWVudCAtLSB0aGlzIHdhcyBmb3IgdGVzdGluZyBwdXJwb3NlcyBvbmx5CiAgICAvL3N0YXJ0VGltZSA9IG5vdzsgICAKICAgIGVuZFRpbWUgPSBzdGFydFRpbWUgKyAzMCBkYXlzOwogICAgCiAgICByZXF1aXJlKGVuZFRpbWUgPj0gc3RhcnRUaW1lKTsKICAgIHJlcXVpcmUoX3dhbGxldCAhPSAweDApOwoKICAgIHdhbGxldCA9IF93YWxsZXQ7CiAgICB0b2tlbiA9IGNyZWF0ZVRva2VuQ29udHJhY3Qod2FsbGV0KTsKICAgIAogIH0KCiAgICBmdW5jdGlvbiBzZW5kT3duZXJTaGFyZXMoYWRkcmVzcyB3YWwpIHB1YmxpYwogICAgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSB3YWxsZXQpOwogICAgICAgIHJlcXVpcmUob3duZXJBbW91bnRQYWlkID09IGZhbHNlKTsKICAgICAgICB1aW50MjU2IG93bmVyQW1vdW50ID0gMzUwMDAwKjEwKioxODsKICAgICAgICB0b2tlbi5taW50KHdhbGxldCwgd2FsLG93bmVyQW1vdW50KTsKICAgICAgICBvd25lckFtb3VudFBhaWQgPSB0cnVlOwogICAgfQogIC8vIGNyZWF0ZXMgdGhlIHRva2VuIHRvIGJlIHNvbGQuCiAgLy8gVE9ETzogQ2hhbmdlIHRoZSBuYW1lIG9mIHRoZSB0b2tlbgogIGZ1bmN0aW9uIGNyZWF0ZVRva2VuQ29udHJhY3QoYWRkcmVzcyB3YWxsKSBpbnRlcm5hbCByZXR1cm5zIChYcnBjVG9rZW4pIHsKICAgIHJldHVybiBuZXcgWHJwY1Rva2VuKHdhbGwpOwogIH0KCgogIC8vIGZhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGJ1eSB0b2tlbnMKICBmdW5jdGlvbiAoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICBidXlUb2tlbnMobXNnLnNlbmRlcik7CiAgfQoKICAvL2RldGVybWluZSB0aGUgcmF0ZSBvZiB0aGUgdG9rZW4gdy5yLnQuIHRpbWUgZWxhcHNlZAogIGZ1bmN0aW9uIGRldGVybWluZVJhdGUoKSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQyNTYgd2Vla1JhdGUpIHsKICAgIHVpbnQyNTYgdGltZUVsYXBzZWQgPSBub3cgLSBzdGFydFRpbWU7CiAgICB1aW50MjU2IHRpbWVFbGFwc2VkSW5XZWVrcyA9IHRpbWVFbGFwc2VkLmRpdig3IGRheXMpOwoKICAgIGlmICh0aW1lRWxhcHNlZEluV2Vla3MgPT0gMCkKICAgICAgd2Vla1JhdGUgPSB3ZWVrMVByaWNlOyAgICAgICAgLy9lLmcuIDMgZGF5cy83IGRheXMgd2lsbCBiZSAwLjQtLSBhZnRlciB0cnVuY2F0aW9uIHdpbGwgYmUgMAoKICAgIGVsc2UgaWYgKHRpbWVFbGFwc2VkSW5XZWVrcyA9PSAxKQogICAgICB3ZWVrUmF0ZSA9IHdlZWsyUHJpY2U7ICAgICAgICAvL2UuZy4gMTAgZGF5cy83IGRheXMgd2lsbCBiZSAxLjMgLS0gYWZ0ZXIgdHJ1bmNhdGlvbiB3aWxsIGJlIDEKCiAgICBlbHNlIGlmICh0aW1lRWxhcHNlZEluV2Vla3MgPT0gMikKICAgICAgd2Vla1JhdGUgPSB3ZWVrM1ByaWNlOyAgICAgICAgLy9lLmcuIDIwIGRheXMvNyBkYXlzIHdpbGwgYmUgMi40IC0tIGFmdGVyIHRydW5jYXRpb24gd2lsbCBiZSAyCgogICAgZWxzZSBpZiAodGltZUVsYXBzZWRJbldlZWtzID09IDMpCiAgICAgIHdlZWtSYXRlID0gd2VlazRQcmljZTsgICAgICAgIC8vZS5nLiAyNCBkYXlzLzcgZGF5cyB3aWxsIGJlIDMuNCAtLSBhZnRlciB0cnVuY2F0aW9uIHdpbGwgYmUgMwoKICAgIGVsc2UKICAgIHsKICAgICAgICB3ZWVrUmF0ZSA9IDA7ICAgLy9ObyB0b2tlbnMgdG8gYmUgdHJhbnNmZXJyZWQgLSBJQ08gdGltZSBpcyBvdmVyCiAgICB9CiAgfQoKICAvLyBsb3cgbGV2ZWwgdG9rZW4gcHVyY2hhc2UgZnVuY3Rpb24KICAvLyBNaW5pbXVtIHB1cmNoYXNlIGNhbiBiZSBvZiAxIEVUSAogIAogIGZ1bmN0aW9uIGJ1eVRva2VucyhhZGRyZXNzIGJlbmVmaWNpYXJ5KSBwdWJsaWMgcGF5YWJsZSB7CiAgICByZXF1aXJlKGJlbmVmaWNpYXJ5ICE9IDB4MCk7CiAgICByZXF1aXJlKHZhbGlkUHVyY2hhc2UoKSk7CgogICAgdWludDI1NiB3ZWlBbW91bnQgPSBtc2cudmFsdWU7CiAgICAvL3VpbnQyNTYgZXRoQW1vdW50ID0gd2VpQW1vdW50LmRpdigxMCAqKiAxOCk7CgogICAgLy8gY2FsY3VsYXRlIHRva2VuIGFtb3VudCB0byBiZSBjcmVhdGVkCiAgICByYXRlID0gZGV0ZXJtaW5lUmF0ZSgpOwogICAgdWludDI1NiB0b2tlbnMgPSB3ZWlBbW91bnQubXVsKHJhdGUpOwoKICAgIC8vIHVwZGF0ZSBzdGF0ZQogICAgd2VpUmFpc2VkID0gd2VpUmFpc2VkLmFkZCh3ZWlBbW91bnQpOwoKICAgIHRva2VuLm1pbnQod2FsbGV0LCBiZW5lZmljaWFyeSwgdG9rZW5zKTsgCiAgICBUb2tlblB1cmNoYXNlKG1zZy5zZW5kZXIsIGJlbmVmaWNpYXJ5LCB3ZWlBbW91bnQsIHRva2Vucyk7CgogICAgZm9yd2FyZEZ1bmRzKCk7CiAgfQoKICAvLyBzZW5kIGV0aGVyIHRvIHRoZSBmdW5kIGNvbGxlY3Rpb24gd2FsbGV0CiAgLy8gb3ZlcnJpZGUgdG8gY3JlYXRlIGN1c3RvbSBmdW5kIGZvcndhcmRpbmcgbWVjaGFuaXNtcwogIGZ1bmN0aW9uIGZvcndhcmRGdW5kcygpIGludGVybmFsIHsKICAgIHdhbGxldC50cmFuc2Zlcihtc2cudmFsdWUpOwogIH0KCiAgLy8gQHJldHVybiB0cnVlIGlmIHRoZSB0cmFuc2FjdGlvbiBjYW4gYnV5IHRva2VucwogIGZ1bmN0aW9uIHZhbGlkUHVyY2hhc2UoKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICBib29sIHdpdGhpblBlcmlvZCA9IG5vdyA+PSBzdGFydFRpbWUgJiYgbm93IDw9IGVuZFRpbWU7CiAgICBib29sIG5vblplcm9QdXJjaGFzZSA9IG1zZy52YWx1ZSAhPSAwOwogICAgcmV0dXJuIHdpdGhpblBlcmlvZCAmJiBub25aZXJvUHVyY2hhc2U7CiAgfQoKICAvLyBAcmV0dXJuIHRydWUgaWYgY3Jvd2RzYWxlIGV2ZW50IGhhcyBlbmRlZAogIGZ1bmN0aW9uIGhhc0VuZGVkKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBub3cgPiBlbmRUaW1lOwogIH0KICAgIAp9'.
	

]
