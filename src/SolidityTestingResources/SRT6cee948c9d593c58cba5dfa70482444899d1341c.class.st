Class {
	#name : #SRT6cee948c9d593c58cba5dfa70482444899d1341c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT6cee948c9d593c58cba5dfa70482444899d1341c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgUGF1c2FibGUKICogQGRldiBCYXNlIGNvbnRyYWN0IHdoaWNoIGFsbG93cyBjaGlsZHJlbiB0byBpbXBsZW1lbnQgYW4gZW1lcmdlbmN5IHN0b3AgbWVjaGFuaXNtLgogKi8KY29udHJhY3QgUGF1c2FibGUgaXMgT3duYWJsZSB7CiAgZXZlbnQgUGF1c2UoKTsKICBldmVudCBVbnBhdXNlKCk7CgogIGJvb2wgcHVibGljIHBhdXNlZCA9IGZhbHNlOwoKCiAgLyoqCiAgICogQGRldiBNb2RpZmllciB0byBtYWtlIGEgZnVuY3Rpb24gY2FsbGFibGUgb25seSB3aGVuIHRoZSBjb250cmFjdCBpcyBub3QgcGF1c2VkLgogICAqLwogIG1vZGlmaWVyIHdoZW5Ob3RQYXVzZWQoKSB7CiAgICByZXF1aXJlKCFwYXVzZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgTW9kaWZpZXIgdG8gbWFrZSBhIGZ1bmN0aW9uIGNhbGxhYmxlIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgaXMgcGF1c2VkLgogICAqLwogIG1vZGlmaWVyIHdoZW5QYXVzZWQoKSB7CiAgICByZXF1aXJlKHBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHBhdXNlLCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gcGF1c2UoKSBvbmx5T3duZXIgd2hlbk5vdFBhdXNlZCBwdWJsaWMgewogICAgcGF1c2VkID0gdHJ1ZTsKICAgIFBhdXNlKCk7CiAgfQoKICAvKioKICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gdW5wYXVzZSwgcmV0dXJucyB0byBub3JtYWwgc3RhdGUKICAgKi8KICBmdW5jdGlvbiB1bnBhdXNlKCkgb25seU93bmVyIHdoZW5QYXVzZWQgcHVibGljIHsKICAgIHBhdXNlZCA9IGZhbHNlOwogICAgVW5wYXVzZSgpOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoKICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9Cgp9CmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoKICAgIHVpbnQyNTYgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldAogICAgLy8gcmVxdWlyZSAoX3ZhbHVlIDw9IF9hbGxvd2FuY2UpOwoKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICoKICAgKiBCZXdhcmUgdGhhdCBjaGFuZ2luZyBhbiBhbGxvd2FuY2Ugd2l0aCB0aGlzIG1ldGhvZCBicmluZ3MgdGhlIHJpc2sgdGhhdCBzb21lb25lIG1heSB1c2UgYm90aCB0aGUgb2xkCiAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAqIHJhY2UgY29uZGl0aW9uIGlzIHRvIGZpcnN0IHJlZHVjZSB0aGUgc3BlbmRlcidzIGFsbG93YW5jZSB0byAwIGFuZCBzZXQgdGhlIGRlc2lyZWQgdmFsdWUgYWZ0ZXJ3YXJkczoKICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZnlpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICAvKioKICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKICAgKiBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbAogICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAogICAqLwogIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICB9IGVsc2UgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgIH0KICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cgp9CgoKLyoqCiAqIEB0aXRsZSBNYXRoCiAqIEBkZXYgQXNzb3J0ZWQgbWF0aCBvcGVyYXRpb25zCiAqLwoKbGlicmFyeSBNYXRoIHsKICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCiAvKgogKiBDb250cmFjdCB0aGF0IGlzIHdvcmtpbmcgd2l0aCBFUkMyMjMgdG9rZW5zCiAqIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgQ29udHJhY3RSZWNlaXZlciBwcm92aWRlZCBoZXJlOgogKiBodHRwczovL2dpdGh1Yi5jb20vRGV4YXJhbi9FUkMyMjMtdG9rZW4tc3RhbmRhcmQvYmxvYi9SZWNvbW1lbmRlZC9SZWNlaXZlcl9JbnRlcmZhY2Uuc29sCiAqLwoKIGNvbnRyYWN0IENvbnRyYWN0UmVjZWl2ZXIgewoKICAgIGZ1bmN0aW9uIHRva2VuRmFsbGJhY2soYWRkcmVzcyBfZnJvbSwgdWludCBfdmFsdWUsIGJ5dGVzIF9kYXRhKTsKCn0KLyoKICAgIENvcHlyaWdodCAyMDE2LCBKb3JkaSBCYXlsaW5hCgogICAgVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5CiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvcgogICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KCiAgICBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlCiAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLgoKICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlCiAgICBhbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi4KICovCgovLy8gQHRpdGxlIE1pbmlNZVRva2VuIENvbnRyYWN0Ci8vLyBAYXV0aG9yIEpvcmRpIEJheWxpbmEKLy8vIEBkZXYgVGhpcyB0b2tlbiBjb250cmFjdCdzIGdvYWwgaXMgdG8gbWFrZSBpdCBlYXN5IGZvciBhbnlvbmUgdG8gY2xvbmUgdGhpcwovLy8gIHRva2VuIHVzaW5nIHRoZSB0b2tlbiBkaXN0cmlidXRpb24gYXQgYSBnaXZlbiBibG9jaywgdGhpcyB3aWxsIGFsbG93IERBTydzCi8vLyAgYW5kIERBcHBzIHRvIHVwZ3JhZGUgdGhlaXIgZmVhdHVyZXMgaW4gYSBkZWNlbnRyYWxpemVkIG1hbm5lciB3aXRob3V0Ci8vLyAgYWZmZWN0aW5nIHRoZSBvcmlnaW5hbCB0b2tlbgovLy8gQGRldiBJdCBpcyBFUkMyMCBjb21wbGlhbnQsIGJ1dCBzdGlsbCBuZWVkcyB0byB1bmRlciBnbyBmdXJ0aGVyIHRlc3RpbmcuCgoKLy8vIEBkZXYgVGhlIHRva2VuIGNvbnRyb2xsZXIgY29udHJhY3QgbXVzdCBpbXBsZW1lbnQgdGhlc2UgZnVuY3Rpb25zCmNvbnRyYWN0IFRva2VuQ29udHJvbGxlciB7CiAgICAvLy8gQG5vdGljZSBDYWxsZWQgd2hlbiBgX293bmVyYCBzZW5kcyBldGhlciB0byB0aGUgTWluaU1lIFRva2VuIGNvbnRyYWN0CiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0aGF0IHNlbnQgdGhlIGV0aGVyIHRvIGNyZWF0ZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIFRydWUgaWYgdGhlIGV0aGVyIGlzIGFjY2VwdGVkLCBmYWxzZSBpZiBpdCB0aHJvd3MKICAgIGZ1bmN0aW9uIHByb3h5UGF5bWVudChhZGRyZXNzIF9vd25lcikgcGF5YWJsZSByZXR1cm5zKGJvb2wpOwoKICAgIC8vLyBAbm90aWNlIE5vdGlmaWVzIHRoZSBjb250cm9sbGVyIGFib3V0IGEgdG9rZW4gdHJhbnNmZXIgYWxsb3dpbmcgdGhlCiAgICAvLy8gIGNvbnRyb2xsZXIgdG8gcmVhY3QgaWYgZGVzaXJlZAogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgb3JpZ2luIG9mIHRoZSB0cmFuc2ZlcgogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGRlc3RpbmF0aW9uIG9mIHRoZSB0cmFuc2ZlcgogICAgLy8vIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgb2YgdGhlIHRyYW5zZmVyCiAgICAvLy8gQHJldHVybiBGYWxzZSBpZiB0aGUgY29udHJvbGxlciBkb2VzIG5vdCBhdXRob3JpemUgdGhlIHRyYW5zZmVyCiAgICBmdW5jdGlvbiBvblRyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIHJldHVybnMoYm9vbCk7CgogICAgLy8vIEBub3RpY2UgTm90aWZpZXMgdGhlIGNvbnRyb2xsZXIgYWJvdXQgYW4gYXBwcm92YWwgYWxsb3dpbmcgdGhlCiAgICAvLy8gIGNvbnRyb2xsZXIgdG8gcmVhY3QgaWYgZGVzaXJlZAogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdGhhdCBjYWxscyBgYXBwcm92ZSgpYAogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgc3BlbmRlciBpbiB0aGUgYGFwcHJvdmUoKWAgY2FsbAogICAgLy8vIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgaW4gdGhlIGBhcHByb3ZlKClgIGNhbGwKICAgIC8vLyBAcmV0dXJuIEZhbHNlIGlmIHRoZSBjb250cm9sbGVyIGRvZXMgbm90IGF1dGhvcml6ZSB0aGUgYXBwcm92YWwKICAgIGZ1bmN0aW9uIG9uQXBwcm92ZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYW1vdW50KQogICAgICAgIHJldHVybnMoYm9vbCk7Cn0KCmNvbnRyYWN0IENvbnRyb2xsZWQgewogICAgLy8vIEBub3RpY2UgVGhlIGFkZHJlc3Mgb2YgdGhlIGNvbnRyb2xsZXIgaXMgdGhlIG9ubHkgYWRkcmVzcyB0aGF0IGNhbiBjYWxsCiAgICAvLy8gIGEgZnVuY3Rpb24gd2l0aCB0aGlzIG1vZGlmaWVyCiAgICBtb2RpZmllciBvbmx5Q29udHJvbGxlciB7IHJlcXVpcmUobXNnLnNlbmRlciA9PSBjb250cm9sbGVyKTsgXzsgfQoKICAgIGFkZHJlc3MgcHVibGljIGNvbnRyb2xsZXI7CgogICAgZnVuY3Rpb24gQ29udHJvbGxlZCgpIHsgY29udHJvbGxlciA9IG1zZy5zZW5kZXI7fQoKICAgIC8vLyBAbm90aWNlIENoYW5nZXMgdGhlIGNvbnRyb2xsZXIgb2YgdGhlIGNvbnRyYWN0CiAgICAvLy8gQHBhcmFtIF9uZXdDb250cm9sbGVyIFRoZSBuZXcgY29udHJvbGxlciBvZiB0aGUgY29udHJhY3QKICAgIGZ1bmN0aW9uIGNoYW5nZUNvbnRyb2xsZXIoYWRkcmVzcyBfbmV3Q29udHJvbGxlcikgb25seUNvbnRyb2xsZXIgewogICAgICAgIGNvbnRyb2xsZXIgPSBfbmV3Q29udHJvbGxlcjsKICAgIH0KfQoKLy8vIEB0aXRsZSBTcGVjVG9rZW4gLSBDcm93ZGZ1bmRpbmcgY29kZSBmb3IgdGhlIFNwZWN0cmUuYWkgVG9rZW4gU2FsZQovLy8gQGF1dGhvciBQYXJ0aGFzYXJhdGh5IFJhbWFudWphbQpjb250cmFjdCBTcGVjdHJlU3Vic2NyaWJlclRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIFBhdXNhYmxlLCBUb2tlbkNvbnRyb2xsZXIgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiU1BFQ1RSRSBTVUJTQ1JJQkVSIFRPS0VOIjsKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJTWFMiOwogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CgogIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIFRPS0VOU19BVkFJTEFCTEUgICAgICAgICAgICAgPSAyNDAwMDAwMDAgKiAxMCoqZGVjaW1hbHM7CiAgdWludDI1NiBjb25zdGFudCBwdWJsaWMgQk9OVVNfU0xBQiAgICAgICAgICAgICAgICAgICA9IDEwMDAwMDAwMCAqIDEwKipkZWNpbWFsczsKICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBNSU5fQ0FQICAgICAgICAgICAgICAgICAgICAgID0gNTAwMDAwMCAqIDEwKipkZWNpbWFsczsKICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBNSU5fRlVORF9BTU9VTlQgICAgICAgICAgICAgID0gMSBldGhlcjsKICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBUT0tFTl9QUklDRSAgICAgICAgICAgICAgICAgID0gMC4wMDA1IGV0aGVyOwogIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIFdISVRFTElTVF9QRVJJT0QgICAgICAgICAgICAgPSAzIGRheXM7CgogIGFkZHJlc3MgcHVibGljIHNwZWNXYWxsZXQ7CiAgYWRkcmVzcyBwdWJsaWMgc3BlY0RXYWxsZXQ7CiAgYWRkcmVzcyBwdWJsaWMgc3BlY1VXYWxsZXQ7CgogIGJvb2wgcHVibGljIHJlZnVuZGFibGUgPSBmYWxzZTsKICBib29sIHB1YmxpYyBjb25maWd1cmVkID0gZmFsc2U7CiAgYm9vbCBwdWJsaWMgdG9rZW5BZGRyZXNzZXNTZXQgPSBmYWxzZTsKICAvL3ByZXNhbGUgc3RhcnQgYW5kIGVuZCBibG9ja3MKICB1aW50MjU2IHB1YmxpYyBwcmVzYWxlU3RhcnQ7CiAgdWludDI1NiBwdWJsaWMgcHJlc2FsZUVuZDsKICAvL21haW4gc2FsZSBzdGFydCBhbmQgZW5kIGJsb2NrcwogIHVpbnQyNTYgcHVibGljIHNhbGVTdGFydDsKICB1aW50MjU2IHB1YmxpYyBzYWxlRW5kOwogIC8vZGlzY291bnQgZW5kIGJsb2NrIGZvciBtYWluIHNhbGUKICB1aW50MjU2IHB1YmxpYyBkaXNjb3VudFNhbGVFbmQ7CgogIC8vd2hpdGVsaXN0aW5nCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyB3aGl0ZWxpc3Q7CiAgdWludDI1NiBjb25zdGFudCBEMTYwID0gMHgwMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOwoKICAvL2JvbnVzIGVhcm5lZAogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYm9udXM7CgogIGV2ZW50IFJlZnVuZChhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgZXZlbnQgQ29udHJhY3RGdW5kZWQoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgdWludDI1NiBfdG90YWwpOwogIGV2ZW50IFJlZnVuZGFibGUoKTsKICBldmVudCBXaGl0ZUxpc3RTZXQoYWRkcmVzcyBpbmRleGVkIF9zdWJzY3JpYmVyLCB1aW50MjU2IF92YWx1ZSk7CiAgZXZlbnQgT3duZXJUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKCiAgbW9kaWZpZXIgaXNSZWZ1bmRhYmxlKCkgewogICAgcmVxdWlyZShyZWZ1bmRhYmxlKTsKICAgIF87CiAgfQoKICBtb2RpZmllciBpc05vdFJlZnVuZGFibGUoKSB7CiAgICByZXF1aXJlKCFyZWZ1bmRhYmxlKTsKICAgIF87CiAgfQoKICBtb2RpZmllciBpc1RyYW5zZmVyYWJsZSgpIHsKICAgIHJlcXVpcmUodG9rZW5BZGRyZXNzZXNTZXQpOwogICAgcmVxdWlyZShnZXROb3coKSA+IHNhbGVFbmQpOwogICAgcmVxdWlyZSh0b3RhbFN1cHBseSA+PSBNSU5fQ0FQKTsKICAgIF87CiAgfQoKICBtb2RpZmllciBvbmx5V2FsbGV0T3JPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lciB8fCBtc2cuc2VuZGVyID09IHNwZWNXYWxsZXQpOwogICAgXzsKICB9CgogIC8vQG5vdGljZSBmdW5jdGlvbiB0byBpbml0aWxhaXplIHRoZSB0b2tlbiBjb250cmFjdAogIC8vQG5vdGljZSBfc3BlY1dhbGxldCAtIFRoZSB3YWxsZXQgdGhhdCByZWNlaXZlcyB0aGUgcHJvY2VlZHMgZnJvbSB0aGUgdG9rZW4gc2FsZQogIC8vQG5vdGljZSBfc3BlY0RXYWxsZXQgLSBXYWxsZXQgdGhhdCB3b3VsZCByZWNlaXZlIHRva2VucyBjaG9zZW4gZm9yIGRpdmlkZW5kCiAgLy9Abm90aWNlIF9zcGVjVVdhbGxldCAtIFdhbGxldCB0aGF0IHdvdWxkIHJlY2VpdmUgdG9rZW5zIGNob3NlbiBmb3IgdXRpbGl0eQogIGZ1bmN0aW9uIFNwZWN0cmVTdWJzY3JpYmVyVG9rZW4oYWRkcmVzcyBfc3BlY1dhbGxldCkgewogICAgcmVxdWlyZShfc3BlY1dhbGxldCAhPSBhZGRyZXNzKDApKTsKICAgIHNwZWNXYWxsZXQgPSBfc3BlY1dhbGxldDsKICAgIHBhdXNlKCk7CiAgfQoKICAvL0Bub3RpY2UgRmFsbGJhY2sgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHRoZSBldGhlciBhbmQgYWxsb2NhdGVzIHRva2VucyB0bwogIC8vdGhlIG1zZy5zZW5kZXIgY29ycmVzcG9uZGluZyB0byBtc2cudmFsdWUKICBmdW5jdGlvbigpIHBheWFibGUgd2hlbk5vdFBhdXNlZCBwdWJsaWMgewogICAgcmVxdWlyZShtc2cudmFsdWUgPj0gTUlOX0ZVTkRfQU1PVU5UKTsKICAgIGlmKGdldE5vdygpID49IHByZXNhbGVTdGFydCAmJiBnZXROb3coKSA8PSBwcmVzYWxlRW5kKSB7CiAgICAgIHB1cmNoYXNlUHJlc2FsZSgpOwogICAgfSBlbHNlIGlmIChnZXROb3coKSA+PSBzYWxlU3RhcnQgJiYgZ2V0Tm93KCkgPD0gc2FsZUVuZCkgewogICAgICBwdXJjaGFzZSgpOwogICAgfSBlbHNlIHsKICAgICAgcmV2ZXJ0KCk7CiAgICB9CiAgfQoKICAvL0Bub3RpY2UgZnVuY3Rpb24gdG8gYmUgdXNlZCBmb3IgcHJlc2FsZSBwdXJjaGFzZQogIGZ1bmN0aW9uIHB1cmNoYXNlUHJlc2FsZSgpIGludGVybmFsIHsKICAgIC8vT25seSBjaGVjayB3aGl0ZWxpc3QgZm9yIHRoZSBmaXJzdCAzIGRheXMgb2YgcHJlc2FsZQogICAgaWYgKGdldE5vdygpIDwgKHByZXNhbGVTdGFydCArIFdISVRFTElTVF9QRVJJT0QpKSB7CiAgICAgIHJlcXVpcmUod2hpdGVsaXN0W21zZy5zZW5kZXJdID4gMCk7CiAgICAgIC8vQWNjZXB0IGlmIHRoZSBzdWJzY2liZXIgOTUlIHRvIDEyMCUgb2Ygd2hpdGVsaXN0ZWQgYW1vdW50CiAgICAgIHVpbnQyNTYgbWluQWxsb3dlZCA9IHdoaXRlbGlzdFttc2cuc2VuZGVyXS5tdWwoOTUpLmRpdigxMDApOwogICAgICB1aW50MjU2IG1heEFsbG93ZWQgPSB3aGl0ZWxpc3RbbXNnLnNlbmRlcl0ubXVsKDEyMCkuZGl2KDEwMCk7CiAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IG1pbkFsbG93ZWQgJiYgbXNnLnZhbHVlIDw9IG1heEFsbG93ZWQpOwogICAgICAvL3JlbW92ZSB0aGUgYWRkcmVzcyBmcm9tIHdoaXRlbGlzdAogICAgICB3aGl0ZWxpc3RbbXNnLnNlbmRlcl0gPSAwOwogICAgfQoKICAgIHVpbnQyNTYgbnVtVG9rZW5zID0gbXNnLnZhbHVlLm11bCgxMCoqZGVjaW1hbHMpLmRpdihUT0tFTl9QUklDRSk7CiAgICB1aW50MjU2IGJvbnVzVG9rZW5zID0gMDsKCiAgICBpZih0b3RhbFN1cHBseSA8IEJPTlVTX1NMQUIpIHsKICAgICAgLy9BbnkgcG9ydGlvbiBvZiB0b2tlbnMgbGVzcyB0aGFuIEJPTlVTX1NMQUIgYXJlIGVsaWdhYmxlIGZvciAzMyUgYm9udXMsIG90aGVyd2lzZSAyMiUgYm9udXMKICAgICAgdWludDI1NiByZW1haW5pbmdCb251c1NsYWJUb2tlbnMgPSBTYWZlTWF0aC5zdWIoQk9OVVNfU0xBQiwgdG90YWxTdXBwbHkpOwogICAgICB1aW50MjU2IGJvbnVzU2xhYlRva2VucyA9IE1hdGgubWluMjU2KHJlbWFpbmluZ0JvbnVzU2xhYlRva2VucywgbnVtVG9rZW5zKTsKICAgICAgdWludDI1NiBub25Cb251c1NsYWJUb2tlbnMgPSBTYWZlTWF0aC5zdWIobnVtVG9rZW5zLCBib251c1NsYWJUb2tlbnMpOwogICAgICBib251c1Rva2VucyA9IGJvbnVzU2xhYlRva2Vucy5tdWwoMzMpLmRpdigxMDApOwogICAgICBib251c1Rva2VucyA9IGJvbnVzVG9rZW5zLmFkZChub25Cb251c1NsYWJUb2tlbnMubXVsKDIyKS5kaXYoMTAwKSk7CiAgICB9IGVsc2UgewogICAgICAvL2NhbGN1bGF0ZSAyMiUgYm9udXMgZm9yIHRva2VucyBwdXJjaGFzZWQgb24gcHJlc2FsZQogICAgICBib251c1Rva2VucyA9IG51bVRva2Vucy5tdWwoMjIpLmRpdigxMDApOwogICAgfQogICAgLy8KICAgIG51bVRva2VucyA9IG51bVRva2Vucy5hZGQoYm9udXNUb2tlbnMpOwogICAgYm9udXNbbXNnLnNlbmRlcl0gPSBib251c1ttc2cuc2VuZGVyXS5hZGQoYm9udXNUb2tlbnMpOwoKICAgIC8vdHJhbnNmZXIgbW9uZXkgdG8gU3BlY3RyZSBNdWx0aXNpZ1dhbGxldCAoY291bGQgYmUgbXNnLnZhbHVlKQogICAgc3BlY1dhbGxldC50cmFuc2Zlcihtc2cudmFsdWUpOwoKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKG51bVRva2Vucyk7CiAgICByZXF1aXJlKHRvdGFsU3VwcGx5IDw9IFRPS0VOU19BVkFJTEFCTEUpOwoKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKG51bVRva2Vucyk7CiAgICAvL2ZpcmUgdGhlIGV2ZW50IG5vdGlmeWluZyB0aGUgdHJhbnNmZXIgb2YgdG9rZW5zCiAgICBUcmFuc2ZlcigwLCBtc2cuc2VuZGVyLCBudW1Ub2tlbnMpOwoKICB9CgogIC8vQG5vdGljZSBmdW5jdGlvbiB0byBiZSB1c2VkIGZvciBtYWluc2FsZSBwdXJjaGFzZQogIGZ1bmN0aW9uIHB1cmNoYXNlKCkgaW50ZXJuYWwgewoKICAgIHVpbnQyNTYgbnVtVG9rZW5zID0gbXNnLnZhbHVlLm11bCgxMCoqZGVjaW1hbHMpLmRpdihUT0tFTl9QUklDRSk7CiAgICB1aW50MjU2IGJvbnVzVG9rZW5zID0gMDsKCiAgICBpZihnZXROb3coKSA8PSBkaXNjb3VudFNhbGVFbmQpIHsKICAgICAgLy9jYWxjdWxhdGUgMTElIGJvbnVzIGZvciB0b2tlbnMgcHVyY2hhc2VkIG9uIGRpc2NvdW50IHBlcmlvZAogICAgICBib251c1Rva2VucyA9IG51bVRva2Vucy5tdWwoMTEpLmRpdigxMDApOwogICAgfQoKICAgIG51bVRva2VucyA9IG51bVRva2Vucy5hZGQoYm9udXNUb2tlbnMpOwogICAgYm9udXNbbXNnLnNlbmRlcl0gPSBib251c1ttc2cuc2VuZGVyXS5hZGQoYm9udXNUb2tlbnMpOwoKICAgIC8vdHJhbnNmZXIgbW9uZXkgdG8gU3BlY3RyZSBNdWx0aXNpZ1dhbGxldAogICAgc3BlY1dhbGxldC50cmFuc2Zlcihtc2cudmFsdWUpOwoKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKG51bVRva2Vucyk7CgogICAgcmVxdWlyZSh0b3RhbFN1cHBseSA8PSBUT0tFTlNfQVZBSUxBQkxFKTsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKG51bVRva2Vucyk7CiAgICAvL2ZpcmUgdGhlIGV2ZW50IG5vdGlmeWluZyB0aGUgdHJhbnNmZXIgb2YgdG9rZW5zCiAgICBUcmFuc2ZlcigwLCBtc2cuc2VuZGVyLCBudW1Ub2tlbnMpOwogIH0KCiAgLy9Abm90aWNlIEZ1bmN0aW9uIHJlcG9ydHMgdGhlIG51bWJlciBvZiB0b2tlbnMgYXZhaWxhYmxlIGZvciBzYWxlCiAgZnVuY3Rpb24gbnVtYmVyT2ZUb2tlbnNMZWZ0KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIFRPS0VOU19BVkFJTEFCTEUuc3ViKHRvdGFsU3VwcGx5KTsKICB9CgogIC8vT3ZlcnJpZGUgdW5wYXVzZSBmdW5jdGlvbiB0byBvbmx5IGFsbG93IG9uY2UgY29uZmlndXJlZAogIGZ1bmN0aW9uIHVucGF1c2UoKSBvbmx5T3duZXIgd2hlblBhdXNlZCBwdWJsaWMgewogICAgcmVxdWlyZShjb25maWd1cmVkKTsKICAgIHBhdXNlZCA9IGZhbHNlOwogICAgVW5wYXVzZSgpOwogIH0KCiAgLy9Abm90aWNlIEZ1bmN0aW9uIHRvIGNvbmZpZ3VyZSBjb250cmFjdCBhZGRyZXNzZXMKICAvL0BwYXJhbSBgX3NwZWNVV2FsbGV0YCAtIGFkZHJlc3Mgb2YgVXRpbGl0eSBjb250cmFjdAogIC8vQHBhcmFtIGBfc3BlY0RXYWxsZXRgIC0gYWRkcmVzcyBvZiBEaXZpZGVuZCBjb250cmFjdAogIGZ1bmN0aW9uIHNldFRva2VuQWRkcmVzc2VzKGFkZHJlc3MgX3NwZWNVV2FsbGV0LCBhZGRyZXNzIF9zcGVjRFdhbGxldCkgb25seU93bmVyIHB1YmxpYyB7CiAgICByZXF1aXJlKCF0b2tlbkFkZHJlc3Nlc1NldCk7CiAgICByZXF1aXJlKF9zcGVjRFdhbGxldCAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3NwZWNVV2FsbGV0ICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShpc0NvbnRyYWN0KF9zcGVjRFdhbGxldCkpOwogICAgcmVxdWlyZShpc0NvbnRyYWN0KF9zcGVjVVdhbGxldCkpOwogICAgc3BlY1VXYWxsZXQgPSBfc3BlY1VXYWxsZXQ7CiAgICBzcGVjRFdhbGxldCA9IF9zcGVjRFdhbGxldDsKICAgIHRva2VuQWRkcmVzc2VzU2V0ID0gdHJ1ZTsKICAgIGlmIChjb25maWd1cmVkKSB7CiAgICAgIHVucGF1c2UoKTsKICAgIH0KICB9CgogIC8vQG5vdGljZSBGdW5jdGlvbiB0byBjb25maWd1cmUgY29udHJhY3QgcGFyYW1ldGVycwogIC8vQHBhcmFtIGBfc3RhcnRQcmVzYWxlQmxvY2tgIC0gYmxvY2sgZnJvbSB3aGVuIHByZXNhbGUgYmVnaW5zLgogIC8vQHBhcmFtIGBfZW5kUHJlc2FsZUJsb2NrYCAtIGJsb2NrIGZyb20gd2hlbiBwcmVzYWxlIGVuZHMuCiAgLy9AcGFyYW0gYF9zYWxlU3RhcnRgIC0gYmxvY2sgZnJvbSB3aGVuIG1haW4gc2FsZSBiZWdpbnMuCiAgLy9AcGFyYW0gYF9zYWxlRW5kYCAtIGJsb2NrIGZyb20gd2hlbiBtYWluIHNhbGUgZW5kcy4KICAvL0BwYXJhbSBgX2Rpc2NvdW50RW5kYCAtIGJsb2NrIGZyb20gd2hlbiB0aGUgZGlzY291bnRzIHdvdWxkIGVuZC4KICAvL0Bub3RpY2UgQ2FuIGJlIGNhbGxlZCBvbmx5IHdoZW4gZnVuZGluZyBpcyBub3QgYWN0aXZlIGFuZCBvbmx5IGJ5IHRoZSBvd25lcgogIGZ1bmN0aW9uIGNvbmZpZ3VyZSh1aW50MjU2IF9wcmVzYWxlU3RhcnQsIHVpbnQyNTYgX3ByZXNhbGVFbmQsIHVpbnQyNTYgX3NhbGVTdGFydCwgdWludDI1NiBfc2FsZUVuZCwgdWludDI1NiBfZGlzY291bnRTYWxlRW5kKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUoIWNvbmZpZ3VyZWQpOwogICAgcmVxdWlyZShfcHJlc2FsZVN0YXJ0ID4gZ2V0Tm93KCkpOwogICAgcmVxdWlyZShfcHJlc2FsZUVuZCA+IF9wcmVzYWxlU3RhcnQpOwogICAgcmVxdWlyZShfc2FsZVN0YXJ0ID4gX3ByZXNhbGVFbmQpOwogICAgcmVxdWlyZShfc2FsZUVuZCA+IF9zYWxlU3RhcnQpOwogICAgcmVxdWlyZShfZGlzY291bnRTYWxlRW5kID4gX3NhbGVTdGFydCAmJiBfZGlzY291bnRTYWxlRW5kIDw9IF9zYWxlRW5kKTsKICAgIHByZXNhbGVTdGFydCA9IF9wcmVzYWxlU3RhcnQ7CiAgICBwcmVzYWxlRW5kID0gX3ByZXNhbGVFbmQ7CiAgICBzYWxlU3RhcnQgPSBfc2FsZVN0YXJ0OwogICAgc2FsZUVuZCA9IF9zYWxlRW5kOwogICAgZGlzY291bnRTYWxlRW5kID0gX2Rpc2NvdW50U2FsZUVuZDsKICAgIGNvbmZpZ3VyZWQgPSB0cnVlOwogICAgaWYgKHRva2VuQWRkcmVzc2VzU2V0KSB7CiAgICAgIHVucGF1c2UoKTsKICAgIH0KICB9CgogIC8vQG5vdGljZSBGdW5jdGlvbiB0aGF0IGNhbiBiZSBjYWxsZWQgYnkgcHVyY2hhc2VycyB0byByZWZ1bmQKICAvL0Bub3RpY2UgVXNlZCBvbmx5IGluIGNhc2UgdGhlIElDTyBpc24ndCBzdWNjZXNzZnVsLgogIGZ1bmN0aW9uIHJlZnVuZCgpIGlzUmVmdW5kYWJsZSBwdWJsaWMgewogICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+IDApOwoKICAgIHVpbnQyNTYgdG9rZW5WYWx1ZSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1Yihib251c1ttc2cuc2VuZGVyXSk7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IDA7CiAgICB0b2tlblZhbHVlID0gdG9rZW5WYWx1ZS5tdWwoVE9LRU5fUFJJQ0UpLmRpdigxMCoqZGVjaW1hbHMpOwoKICAgIC8vdHJhbnNmZXIgdG8gdGhlIHJlcXVlc3RlcnMgd2FsbGV0CiAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKHRva2VuVmFsdWUpOwogICAgUmVmdW5kKG1zZy5zZW5kZXIsIHRva2VuVmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gd2l0aGRyYXdFdGhlcigpIHB1YmxpYyBpc05vdFJlZnVuZGFibGUgb25seU93bmVyIHsKICAgIC8vSW4gY2FzZSBldGhlciBpcyBzZW50LCBldmVuIHRob3VnaCBub3QgcmVmdW5kYWJsZQogICAgbXNnLnNlbmRlci50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogIH0KCiAgLy9Abm90aWNlIEZ1bmN0aW9uIHVzZWQgZm9yIGZ1bmRpbmcgaW4gY2FzZSBvZiByZWZ1bmQuCiAgLy9Abm90aWNlIENhbiBiZSBjYWxsZWQgb25seSBieSB0aGUgT3duZXIgb3IgV2FsbGV0CiAgZnVuY3Rpb24gZnVuZENvbnRyYWN0KCkgcHVibGljIHBheWFibGUgb25seVdhbGxldE9yT3duZXIgewogICAgLy9kb2VzIG5vdGhpbmcganVzdCBhY2NlcHRzIGFuZCBzdG9yZXMgdGhlIGV0aGVyCiAgICBDb250cmFjdEZ1bmRlZChtc2cuc2VuZGVyLCBtc2cudmFsdWUsIHRoaXMuYmFsYW5jZSk7CiAgfQoKICBmdW5jdGlvbiBzZXRSZWZ1bmRhYmxlKCkgb25seU93bmVyIHsKICAgIHJlcXVpcmUodGhpcy5iYWxhbmNlID4gMCk7CiAgICByZXF1aXJlKGdldE5vdygpID4gc2FsZUVuZCk7CiAgICByZXF1aXJlKHRvdGFsU3VwcGx5IDwgTUlOX0NBUCk7CiAgICBSZWZ1bmRhYmxlKCk7CiAgICByZWZ1bmRhYmxlID0gdHJ1ZTsKICB9CgogIC8vQG5vdGljZSBTdGFuZGFyZCBmdW5jdGlvbiB0cmFuc2ZlciBzaW1pbGFyIHRvIEVSQzIwIHRyYW5zZmVyIHdpdGggbm8gX2RhdGEgLgogIC8vQG5vdGljZSBBZGRlZCBkdWUgdG8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgcmVhc29ucyAuCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBpc1RyYW5zZmVyYWJsZSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIC8vc3RhbmRhcmQgZnVuY3Rpb24gdHJhbnNmZXIgc2ltaWxhciB0byBFUkMyMCB0cmFuc2ZlciB3aXRoIG5vIF9kYXRhCiAgICAvL2FkZGVkIGR1ZSB0byBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSByZWFzb25zCiAgICByZXF1aXJlKF90byA9PSBzcGVjRFdhbGxldCB8fCBfdG8gPT0gc3BlY1VXYWxsZXQpOwogICAgcmVxdWlyZShpc0NvbnRyYWN0KF90bykpOwogICAgYnl0ZXMgbWVtb3J5IGVtcHR5OwogICAgcmV0dXJuIHRyYW5zZmVyVG9Db250cmFjdChtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSwgZW1wdHkpOwogIH0KCiAgLy9Abm90aWNlIGFzc2VtYmxlIHRoZSBnaXZlbiBhZGRyZXNzIGJ5dGVjb2RlLiBJZiBieXRlY29kZSBleGlzdHMgdGhlbiB0aGUgX2FkZHIgaXMgYSBjb250cmFjdC4KICBmdW5jdGlvbiBpc0NvbnRyYWN0KGFkZHJlc3MgX2FkZHIpIHByaXZhdGUgcmV0dXJucyAoYm9vbCBpc19jb250cmFjdCkgewogICAgdWludDI1NiBsZW5ndGg7CiAgICBhc3NlbWJseSB7CiAgICAgIC8vcmV0cmlldmUgdGhlIHNpemUgb2YgdGhlIGNvZGUgb24gdGFyZ2V0IGFkZHJlc3MsIHRoaXMgbmVlZHMgYXNzZW1ibHkKICAgICAgbGVuZ3RoIDo9IGV4dGNvZGVzaXplKF9hZGRyKQogICAgfQogICAgcmV0dXJuIChsZW5ndGg+MCk7CiAgfQoKICAvL0Bub3RpY2UgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiB0cmFuc2FjdGlvbiB0YXJnZXQgaXMgYSBjb250cmFjdAogIGZ1bmN0aW9uIHRyYW5zZmVyVG9Db250cmFjdChhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9kYXRhKSBpbnRlcm5hbCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJlcXVpcmUoYmFsYW5jZU9mKF9mcm9tKSA+PSBfdmFsdWUpOwogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZU9mKF9mcm9tKS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlT2YoX3RvKS5hZGQoX3ZhbHVlKTsKICAgIENvbnRyYWN0UmVjZWl2ZXIgcmVjZWl2ZXIgPSBDb250cmFjdFJlY2VpdmVyKF90byk7CiAgICByZWNlaXZlci50b2tlbkZhbGxiYWNrKF9mcm9tLCBfdmFsdWUsIF9kYXRhKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlciAtIG5lZWRlZCBmb3Igb3duZXIgdHJhbnNmZXJzCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyBpc1RyYW5zZmVyYWJsZSByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byA9PSBzcGVjRFdhbGxldCB8fCBfdG8gPT0gc3BlY1VXYWxsZXQpOwogICAgcmVxdWlyZShpc0NvbnRyYWN0KF90bykpOwogICAgLy9vd25lciBjYW4gdHJhbnNmZXIgdG9rZW5zIG9uIGJlaGFsZiBvZiB1c2VycyBhZnRlciAyOCBkYXlzCiAgICBpZiAobXNnLnNlbmRlciA9PSBvd25lciAmJiBnZXROb3coKSA+IHNhbGVFbmQgKyAyOCBkYXlzKSB7CiAgICAgIE93bmVyVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0gZWxzZSB7CiAgICAgIHVpbnQyNTYgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwogICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICB9CgogICAgLy9Ob3cgbWFrZSB0aGUgdHJhbnNmZXIKICAgIGJ5dGVzIG1lbW9yeSBlbXB0eTsKICAgIHJldHVybiB0cmFuc2ZlclRvQ29udHJhY3QoX2Zyb20sIF90bywgX3ZhbHVlLCBlbXB0eSk7CgogIH0KCiAgLy9Abm90aWNlIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCBmb3Igd2hpdGVsaXN0aW5nIGFuIGFkZHJlc3MKICBmdW5jdGlvbiBzZXRXaGl0ZUxpc3QoYWRkcmVzcyBfc3Vic2NyaWJlciwgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoX3N1YnNjcmliZXIgIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF9hbW91bnQgIT0gMCk7CiAgICB3aGl0ZWxpc3RbX3N1YnNjcmliZXJdID0gX2Ftb3VudDsKICAgIFdoaXRlTGlzdFNldChfc3Vic2NyaWJlciwgX2Ftb3VudCk7CiAgfQoKICAvLyBkYXRhIGlzIGFuIGFycmF5IG9mIHVpbnQyNTZzLiBFYWNoIHVpbnQyNTYgcmVwcmVzZW50cyBhIGFkZHJlc3MgYW5kIGFtb3VudC4KICAvLyBUaGUgMTYwIExTQiBpcyB0aGUgYWRkcmVzcyB0aGF0IHdhbnRzIHRvIGJlIGFkZGVkCiAgLy8gVGhlIDk2IE1TQiBpcyB0aGUgYW1vdW50IG9mIHRvIGJlIHNldCBmb3IgdGhlIHdoaXRlbGlzdCBmb3IgdGhhdCBhZGRyZXNzCiAgZnVuY3Rpb24gbXVsdGlTZXRXaGl0ZUxpc3QodWludDI1NltdIGRhdGEpIHB1YmxpYyBvbmx5T3duZXIgewogICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICBhZGRyZXNzIGFkZHIgPSBhZGRyZXNzKGRhdGFbaV0gJiAoRDE2MCAtIDEpKTsKICAgICAgdWludDI1NiBhbW91bnQgPSBkYXRhW2ldIC8gRDE2MDsKICAgICAgc2V0V2hpdGVMaXN0KGFkZHIsIGFtb3VudCk7CiAgICB9CiAgfQoKICAvLy8vLy8vLy8vLy8vLy8vLwogIC8vIFRva2VuQ29udHJvbGxlciBpbnRlcmZhY2UKICAvLy8vLy8vLy8vLy8vLy8vLwoKICAvLy8gQG5vdGljZSBgcHJveHlQYXltZW50KClgIHJldHVybnMgZmFsc2UsIG1lYW5pbmcgZXRoZXIgaXMgbm90IGFjY2VwdGVkIGF0CiAgLy8vICB0aGUgdG9rZW4gYWRkcmVzcywgb25seSB0aGUgYWRkcmVzcyBvZiBGaWludUNyb3dkU2FsZQogIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRoYXQgd2lsbCBob2xkIHRoZSBuZXdseSBjcmVhdGVkIHRva2VucwoKICBmdW5jdGlvbiBwcm94eVBheW1lbnQoYWRkcmVzcyBfb3duZXIpIHBheWFibGUgcmV0dXJucyhib29sKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICB9CgogIC8vLyBAbm90aWNlIE5vdGlmaWVzIHRoZSBjb250cm9sbGVyIGFib3V0IGEgdHJhbnNmZXIsIGZvciB0aGlzIENhbXBhaWduIGFsbAogIC8vLyAgdHJhbnNmZXJzIGFyZSBhbGxvd2VkIGJ5IGRlZmF1bHQgYW5kIG5vIGV4dHJhIG5vdGlmaWNhdGlvbnMgYXJlIG5lZWRlZAogIC8vLyBAcGFyYW0gX2Zyb20gVGhlIG9yaWdpbiBvZiB0aGUgdHJhbnNmZXIKICAvLy8gQHBhcmFtIF90byBUaGUgZGVzdGluYXRpb24gb2YgdGhlIHRyYW5zZmVyCiAgLy8vIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgb2YgdGhlIHRyYW5zZmVyCiAgLy8vIEByZXR1cm4gRmFsc2UgaWYgdGhlIGNvbnRyb2xsZXIgZG9lcyBub3QgYXV0aG9yaXplIHRoZSB0cmFuc2ZlcgogIGZ1bmN0aW9uIG9uVHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcmV0dXJucyhib29sKSB7CiAgICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8vIEBub3RpY2UgTm90aWZpZXMgdGhlIGNvbnRyb2xsZXIgYWJvdXQgYW4gYXBwcm92YWwsIGZvciB0aGlzIENhbXBhaWduIGFsbAogIC8vLyAgYXBwcm92YWxzIGFyZSBhbGxvd2VkIGJ5IGRlZmF1bHQgYW5kIG5vIGV4dHJhIG5vdGlmaWNhdGlvbnMgYXJlIG5lZWRlZAogIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRoYXQgY2FsbHMgYGFwcHJvdmUoKWAKICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBzcGVuZGVyIGluIHRoZSBgYXBwcm92ZSgpYCBjYWxsCiAgLy8vIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgaW4gdGhlIGBhcHByb3ZlKClgIGNhbGwKICAvLy8gQHJldHVybiBGYWxzZSBpZiB0aGUgY29udHJvbGxlciBkb2VzIG5vdCBhdXRob3JpemUgdGhlIGFwcHJvdmFsCiAgZnVuY3Rpb24gb25BcHByb3ZlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hbW91bnQpCiAgICAgIHJldHVybnMoYm9vbCkKICB7CiAgICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gZ2V0Tm93KCkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIG5vdzsKICB9Cgp9'.
	

]
