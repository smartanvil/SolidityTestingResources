Class {
	#name : #SRT832a864f53ed20bb84fbeae39997f048292e3b9e,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT832a864f53ed20bb84fbeae39997f048292e3b9e >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKgogICAgRVJDMjAgU3RhbmRhcmQgVG9rZW4gaW50ZXJmYWNlCiovCmNvbnRyYWN0IElFUkMyMFRva2VuIHsKICAgIC8vIHRoZXNlIGZ1bmN0aW9ucyBhcmVuJ3QgYWJzdHJhY3Qgc2luY2UgdGhlIGNvbXBpbGVyIGVtaXRzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGdldHRlciBmdW5jdGlvbnMgYXMgZXh0ZXJuYWwKICAgIGZ1bmN0aW9uIG5hbWUoKSBwdWJsaWMgdmlldyByZXR1cm5zIChzdHJpbmcpIHt9CiAgICBmdW5jdGlvbiBzeW1ib2woKSBwdWJsaWMgdmlldyByZXR1cm5zIChzdHJpbmcpIHt9CiAgICBmdW5jdGlvbiBkZWNpbWFscygpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQ4KSB7fQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7fQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7IF9vd25lcjsgfQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7IF9vd25lcjsgX3NwZW5kZXI7IH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKfQoKCi8qCiAgICBPd25lZCBjb250cmFjdCBpbnRlcmZhY2UKKi8KY29udHJhY3QgSU93bmVkIHsKICAgIC8vIHRoaXMgZnVuY3Rpb24gaXNuJ3QgYWJzdHJhY3Qgc2luY2UgdGhlIGNvbXBpbGVyIGVtaXRzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGdldHRlciBmdW5jdGlvbnMgYXMgZXh0ZXJuYWwKICAgIGZ1bmN0aW9uIG93bmVyKCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcykge30KCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIF9uZXdPd25lcikgcHVibGljOwogICAgZnVuY3Rpb24gYWNjZXB0T3duZXJzaGlwKCkgcHVibGljOwogICAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYzsKfQoKCgovKgogICAgRUlQMjI4IFRva2VuIENvbnZlcnRlciBpbnRlcmZhY2UKKi8KY29udHJhY3QgSVRva2VuQ29udmVydGVyIHsKICAgIGZ1bmN0aW9uIGNvbnZlcnRpYmxlVG9rZW5Db3VudCgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQxNik7CiAgICBmdW5jdGlvbiBjb252ZXJ0aWJsZVRva2VuKHVpbnQxNiBfdG9rZW5JbmRleCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcyk7CiAgICBmdW5jdGlvbiBnZXRSZXR1cm4oSUVSQzIwVG9rZW4gX2Zyb21Ub2tlbiwgSUVSQzIwVG9rZW4gX3RvVG9rZW4sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiBjb252ZXJ0KElFUkMyMFRva2VuIF9mcm9tVG9rZW4sIElFUkMyMFRva2VuIF90b1Rva2VuLCB1aW50MjU2IF9hbW91bnQsIHVpbnQyNTYgX21pblJldHVybikgcHVibGljIHJldHVybnMgKHVpbnQyNTYpOwogICAgLy8gZGVwcmVjYXRlZCwgYmFja3dhcmQgY29tcGF0aWJpbGl0eQogICAgZnVuY3Rpb24gY2hhbmdlKElFUkMyMFRva2VuIF9mcm9tVG9rZW4sIElFUkMyMFRva2VuIF90b1Rva2VuLCB1aW50MjU2IF9hbW91bnQsIHVpbnQyNTYgX21pblJldHVybikgcHVibGljIHJldHVybnMgKHVpbnQyNTYpOwp9CgoKCi8qCiAgICBCYW5jb3IgUXVpY2sgQ29udmVydGVyIGludGVyZmFjZQoqLwpjb250cmFjdCBJQmFuY29yUXVpY2tDb252ZXJ0ZXIgewogICAgZnVuY3Rpb24gY29udmVydChJRVJDMjBUb2tlbltdIF9wYXRoLCB1aW50MjU2IF9hbW91bnQsIHVpbnQyNTYgX21pblJldHVybikgcHVibGljIHBheWFibGUgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiBjb252ZXJ0Rm9yKElFUkMyMFRva2VuW10gX3BhdGgsIHVpbnQyNTYgX2Ftb3VudCwgdWludDI1NiBfbWluUmV0dXJuLCBhZGRyZXNzIF9mb3IpIHB1YmxpYyBwYXlhYmxlIHJldHVybnMgKHVpbnQyNTYpOwp9CgoKCgoKLyoKICAgIFByb3ZpZGVzIHN1cHBvcnQgYW5kIHV0aWxpdGllcyBmb3IgY29udHJhY3Qgb3duZXJzaGlwCiovCmNvbnRyYWN0IE93bmVkIGlzIElPd25lZCB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIGFkZHJlc3MgcHVibGljIG5ld093bmVyOwoKICAgIGV2ZW50IE93bmVyVXBkYXRlKGFkZHJlc3MgaW5kZXhlZCBfcHJldk93bmVyLCBhZGRyZXNzIGluZGV4ZWQgX25ld093bmVyKTsKCiAgICAvKioKICAgICAgICBAZGV2IGNvbnN0cnVjdG9yCiAgICAqLwogICAgZnVuY3Rpb24gT3duZWQoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICAvLyBhbGxvd3MgZXhlY3V0aW9uIGJ5IHRoZSBvd25lciBvbmx5CiAgICBtb2RpZmllciBvd25lck9ubHkgewogICAgICAgIGFzc2VydChtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICAgIEBkZXYgYWxsb3dzIHRyYW5zZmVycmluZyB0aGUgY29udHJhY3Qgb3duZXJzaGlwCiAgICAgICAgdGhlIG5ldyBvd25lciBzdGlsbCBuZWVkcyB0byBhY2NlcHQgdGhlIHRyYW5zZmVyCiAgICAgICAgY2FuIG9ubHkgYmUgY2FsbGVkIGJ5IHRoZSBjb250cmFjdCBvd25lcgoKICAgICAgICBAcGFyYW0gX25ld093bmVyICAgIG5ldyBjb250cmFjdCBvd25lcgogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBwdWJsaWMgb3duZXJPbmx5IHsKICAgICAgICByZXF1aXJlKF9uZXdPd25lciAhPSBvd25lcik7CiAgICAgICAgbmV3T3duZXIgPSBfbmV3T3duZXI7CiAgICB9CgogICAgLyoqCiAgICAgICAgQGRldiB1c2VkIGJ5IGEgbmV3IG93bmVyIHRvIGFjY2VwdCBhbiBvd25lcnNoaXAgdHJhbnNmZXIKICAgICovCiAgICBmdW5jdGlvbiBhY2NlcHRPd25lcnNoaXAoKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBuZXdPd25lcik7CiAgICAgICAgT3duZXJVcGRhdGUob3duZXIsIG5ld093bmVyKTsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgICAgIG5ld093bmVyID0gYWRkcmVzcygwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIF9uZXdPd25lcikgcHVibGljIG93bmVyT25seSB7CiAgICAgIG93bmVyID0gX25ld093bmVyOwogICAgfQp9CgoKCi8qCiAgICBVdGlsaXRpZXMgJiBDb21tb24gTW9kaWZpZXJzCiovCmNvbnRyYWN0IFV0aWxzIHsKICAgIC8qKgogICAgICAgIGNvbnN0cnVjdG9yCiAgICAqLwogICAgZnVuY3Rpb24gVXRpbHMoKSBwdWJsaWMgewogICAgfQoKICAgIC8vIHZlcmlmaWVzIHRoYXQgYW4gYW1vdW50IGlzIGdyZWF0ZXIgdGhhbiB6ZXJvCiAgICBtb2RpZmllciBncmVhdGVyVGhhblplcm8odWludDI1NiBfYW1vdW50KSB7CiAgICAgICAgcmVxdWlyZShfYW1vdW50ID4gMCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLyB2YWxpZGF0ZXMgYW4gYWRkcmVzcyAtIGN1cnJlbnRseSBvbmx5IGNoZWNrcyB0aGF0IGl0IGlzbid0IG51bGwKICAgIG1vZGlmaWVyIHZhbGlkQWRkcmVzcyhhZGRyZXNzIF9hZGRyZXNzKSB7CiAgICAgICAgcmVxdWlyZShfYWRkcmVzcyAhPSBhZGRyZXNzKDApKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vIHZlcmlmaWVzIHRoYXQgdGhlIGFkZHJlc3MgaXMgZGlmZmVyZW50IHRoYW4gdGhpcyBjb250cmFjdCBhZGRyZXNzCiAgICBtb2RpZmllciBub3RUaGlzKGFkZHJlc3MgX2FkZHJlc3MpIHsKICAgICAgICByZXF1aXJlKF9hZGRyZXNzICE9IGFkZHJlc3ModGhpcykpOwogICAgICAgIF87CiAgICB9CgogICAgLy8gT3ZlcmZsb3cgcHJvdGVjdGVkIG1hdGggZnVuY3Rpb25zCgogICAgLyoqCiAgICAgICAgQGRldiByZXR1cm5zIHRoZSBzdW0gb2YgX3ggYW5kIF95LCBhc3NlcnRzIGlmIHRoZSBjYWxjdWxhdGlvbiBvdmVyZmxvd3MKCiAgICAgICAgQHBhcmFtIF94ICAgdmFsdWUgMQogICAgICAgIEBwYXJhbSBfeSAgIHZhbHVlIDIKCiAgICAgICAgQHJldHVybiBzdW0KICAgICovCiAgICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQyNTYgX3gsIHVpbnQyNTYgX3kpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgeiA9IF94ICsgX3k7CiAgICAgICAgYXNzZXJ0KHogPj0gX3gpOwogICAgICAgIHJldHVybiB6OwogICAgfQoKICAgIC8qKgogICAgICAgIEBkZXYgcmV0dXJucyB0aGUgZGlmZmVyZW5jZSBvZiBfeCBtaW51cyBfeSwgYXNzZXJ0cyBpZiB0aGUgc3VidHJhY3Rpb24gcmVzdWx0cyBpbiBhIG5lZ2F0aXZlIG51bWJlcgoKICAgICAgICBAcGFyYW0gX3ggICBtaW51ZW5kCiAgICAgICAgQHBhcmFtIF95ICAgc3VidHJhaGVuZAoKICAgICAgICBAcmV0dXJuIGRpZmZlcmVuY2UKICAgICovCiAgICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQyNTYgX3gsIHVpbnQyNTYgX3kpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGFzc2VydChfeCA+PSBfeSk7CiAgICAgICAgcmV0dXJuIF94IC0gX3k7CiAgICB9CgogICAgLyoqCiAgICAgICAgQGRldiByZXR1cm5zIHRoZSBwcm9kdWN0IG9mIG11bHRpcGx5aW5nIF94IGJ5IF95LCBhc3NlcnRzIGlmIHRoZSBjYWxjdWxhdGlvbiBvdmVyZmxvd3MKCiAgICAgICAgQHBhcmFtIF94ICAgZmFjdG9yIDEKICAgICAgICBAcGFyYW0gX3kgICBmYWN0b3IgMgoKICAgICAgICBAcmV0dXJuIHByb2R1Y3QKICAgICovCiAgICBmdW5jdGlvbiBzYWZlTXVsKHVpbnQyNTYgX3gsIHVpbnQyNTYgX3kpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgeiA9IF94ICogX3k7CiAgICAgICAgYXNzZXJ0KF94ID09IDAgfHwgeiAvIF94ID09IF95KTsKICAgICAgICByZXR1cm4gejsKICAgIH0KfQoKCgoKCgovKgogICAgVG9rZW4gSG9sZGVyIGludGVyZmFjZQoqLwpjb250cmFjdCBJVG9rZW5Ib2xkZXIgaXMgSU93bmVkIHsKICAgIGZ1bmN0aW9uIHdpdGhkcmF3VG9rZW5zKElFUkMyMFRva2VuIF90b2tlbiwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljOwp9CgoKLyoKICAgIFdlIGNvbnNpZGVyIGV2ZXJ5IGNvbnRyYWN0IHRvIGJlIGEgJ3Rva2VuIGhvbGRlcicgc2luY2UgaXQncyBjdXJyZW50bHkgbm90IHBvc3NpYmxlCiAgICBmb3IgYSBjb250cmFjdCB0byBkZW55IHJlY2VpdmluZyB0b2tlbnMuCgogICAgVGhlIFRva2VuSG9sZGVyJ3MgY29udHJhY3Qgc29sZSBwdXJwb3NlIGlzIHRvIHByb3ZpZGUgYSBzYWZldHkgbWVjaGFuaXNtIHRoYXQgYWxsb3dzCiAgICB0aGUgb3duZXIgdG8gc2VuZCB0b2tlbnMgdGhhdCB3ZXJlIHNlbnQgdG8gdGhlIGNvbnRyYWN0IGJ5IG1pc3Rha2UgYmFjayB0byB0aGVpciBzZW5kZXIuCiovCmNvbnRyYWN0IFRva2VuSG9sZGVyIGlzIElUb2tlbkhvbGRlciwgT3duZWQsIFV0aWxzIHsKICAgIC8qKgogICAgICAgIEBkZXYgY29uc3RydWN0b3IKICAgICovCiAgICBmdW5jdGlvbiBUb2tlbkhvbGRlcigpIHB1YmxpYyB7CiAgICB9CgogICAgLyoqCiAgICAgICAgQGRldiB3aXRoZHJhd3MgdG9rZW5zIGhlbGQgYnkgdGhlIGNvbnRyYWN0IGFuZCBzZW5kcyB0aGVtIHRvIGFuIGFjY291bnQKICAgICAgICBjYW4gb25seSBiZSBjYWxsZWQgYnkgdGhlIG93bmVyCgogICAgICAgIEBwYXJhbSBfdG9rZW4gICBFUkMyMCB0b2tlbiBjb250cmFjdCBhZGRyZXNzCiAgICAgICAgQHBhcmFtIF90byAgICAgIGFjY291bnQgdG8gcmVjZWl2ZSB0aGUgbmV3IGFtb3VudAogICAgICAgIEBwYXJhbSBfYW1vdW50ICBhbW91bnQgdG8gd2l0aGRyYXcKICAgICovCiAgICBmdW5jdGlvbiB3aXRoZHJhd1Rva2VucyhJRVJDMjBUb2tlbiBfdG9rZW4sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpCiAgICAgICAgcHVibGljCiAgICAgICAgb3duZXJPbmx5CiAgICAgICAgdmFsaWRBZGRyZXNzKF90b2tlbikKICAgICAgICB2YWxpZEFkZHJlc3MoX3RvKQogICAgICAgIG5vdFRoaXMoX3RvKQogICAgewogICAgICAgIGFzc2VydChfdG9rZW4udHJhbnNmZXIoX3RvLCBfYW1vdW50KSk7CiAgICB9Cn0KCgoKCgoKLyoKICAgIEV0aGVyIFRva2VuIGludGVyZmFjZQoqLwpjb250cmFjdCBJRXRoZXJUb2tlbiBpcyBJVG9rZW5Ib2xkZXIsIElFUkMyMFRva2VuIHsKICAgIGZ1bmN0aW9uIGRlcG9zaXQoKSBwdWJsaWMgcGF5YWJsZTsKICAgIGZ1bmN0aW9uIHdpdGhkcmF3KHVpbnQyNTYgX2Ftb3VudCkgcHVibGljOwogICAgZnVuY3Rpb24gd2l0aGRyYXdUbyhhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWM7Cn0KCgoKCgovKgogICAgU21hcnQgVG9rZW4gaW50ZXJmYWNlCiovCmNvbnRyYWN0IElTbWFydFRva2VuIGlzIElPd25lZCwgSUVSQzIwVG9rZW4gewogICAgZnVuY3Rpb24gZGlzYWJsZVRyYW5zZmVycyhib29sIF9kaXNhYmxlKSBwdWJsaWM7CiAgICBmdW5jdGlvbiBpc3N1ZShhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWM7CiAgICBmdW5jdGlvbiBkZXN0cm95KGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljOwp9CgoKCi8qCiAgICBUaGUgQmFuY29yUXVpY2tDb252ZXJ0ZXIgY29udHJhY3QgcHJvdmlkZXMgYWxsb3dzIGNvbnZlcnRpbmcgYmV0d2VlbiBhbnkgdG9rZW4gaW4gdGhlIAogICAgYmFuY29yIG5ldHdvcmsgaW4gYSBzaW5nbGUgdHJhbnNhY3Rpb24uCgogICAgQSBub3RlIG9uIGNvbnZlcnNpb24gcGF0aHMgLQogICAgQ29udmVyc2lvbiBwYXRoIGlzIGEgZGF0YSBzdHJ1Y3R1cmUgdGhhdCdzIHVzZWQgd2hlbiBjb252ZXJ0aW5nIGEgdG9rZW4gdG8gYW5vdGhlciB0b2tlbiBpbiB0aGUgYmFuY29yIG5ldHdvcmsKICAgIHdoZW4gdGhlIGNvbnZlcnNpb24gY2Fubm90IG5lY2Vzc2FyaWx5IGJlIGRvbmUgYnkgc2luZ2xlIGNvbnZlcnRlciBhbmQgbWlnaHQgcmVxdWlyZSBtdWx0aXBsZSAnaG9wcycuCiAgICBUaGUgcGF0aCBkZWZpbmVzIHdoaWNoIGNvbnZlcnRlcnMgc2hvdWxkIGJlIHVzZWQgYW5kIHdoYXQga2luZCBvZiBjb252ZXJzaW9uIHNob3VsZCBiZSBkb25lIGluIGVhY2ggc3RlcC4KCiAgICBUaGUgcGF0aCBmb3JtYXQgZG9lc24ndCBpbmNsdWRlIGNvbXBsZXggc3RydWN0dXJlIGFuZCBpbnN0ZWFkLCBpdCBpcyByZXByZXNlbnRlZCBieSBhIHNpbmdsZSBhcnJheQogICAgaW4gd2hpY2ggZWFjaCAnaG9wJyBpcyByZXByZXNlbnRlZCBieSBhIDItdHVwbGUgLSBzbWFydCB0b2tlbiAmIHRvIHRva2VuLgogICAgSW4gYWRkaXRpb24sIHRoZSBmaXJzdCBlbGVtZW50IGlzIGFsd2F5cyB0aGUgc291cmNlIHRva2VuLgogICAgVGhlIHNtYXJ0IHRva2VuIGlzIG9ubHkgdXNlZCBhcyBhIHBvaW50ZXIgdG8gYSBjb252ZXJ0ZXIgKHNpbmNlIGNvbnZlcnRlciBhZGRyZXNzZXMgYXJlIG1vcmUgbGlrZWx5IHRvIGNoYW5nZSkuCgogICAgRm9ybWF0OgogICAgW3NvdXJjZSB0b2tlbiwgc21hcnQgdG9rZW4sIHRvIHRva2VuLCBzbWFydCB0b2tlbiwgdG8gdG9rZW4uLi5dCiovCmNvbnRyYWN0IEJhbmNvclF1aWNrQ29udmVydGVyIGlzIElCYW5jb3JRdWlja0NvbnZlcnRlciwgVG9rZW5Ib2xkZXIgewogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgZXRoZXJUb2tlbnM7ICAgLy8gbGlzdCBvZiBhbGwgc3VwcG9ydGVkIGV0aGVyIHRva2VucwoKICAgIC8qKgogICAgICAgIEBkZXYgY29uc3RydWN0b3IKICAgICovCiAgICBmdW5jdGlvbiBCYW5jb3JRdWlja0NvbnZlcnRlcigpIHB1YmxpYyB7CiAgICB9CgogICAgLy8gdmFsaWRhdGVzIGEgY29udmVyc2lvbiBwYXRoIC0gdmVyaWZpZXMgdGhhdCB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGlzIG9kZCBhbmQgdGhhdCBtYXhpbXVtIG51bWJlciBvZiAnaG9wcycgaXMgMTAKICAgIG1vZGlmaWVyIHZhbGlkQ29udmVyc2lvblBhdGgoSUVSQzIwVG9rZW5bXSBfcGF0aCkgewogICAgICAgIHJlcXVpcmUoX3BhdGgubGVuZ3RoID4gMiAmJiBfcGF0aC5sZW5ndGggPD0gKDEgKyAyICogMTApICYmIF9wYXRoLmxlbmd0aCAlIDIgPT0gMSk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICAgICBAZGV2IGFsbG93cyB0aGUgb3duZXIgdG8gcmVnaXN0ZXIvdW5yZWdpc3RlciBldGhlciB0b2tlbnMKCiAgICAgICAgQHBhcmFtIF90b2tlbiAgICAgICBldGhlciB0b2tlbiBjb250cmFjdCBhZGRyZXNzCiAgICAgICAgQHBhcmFtIF9yZWdpc3RlciAgICB0cnVlIHRvIHJlZ2lzdGVyLCBmYWxzZSB0byB1bnJlZ2lzdGVyCiAgICAqLwogICAgZnVuY3Rpb24gcmVnaXN0ZXJFdGhlclRva2VuKElFdGhlclRva2VuIF90b2tlbiwgYm9vbCBfcmVnaXN0ZXIpCiAgICAgICAgcHVibGljCiAgICAgICAgb3duZXJPbmx5CiAgICAgICAgdmFsaWRBZGRyZXNzKF90b2tlbikKICAgICAgICBub3RUaGlzKF90b2tlbikKICAgIHsKICAgICAgICBldGhlclRva2Vuc1tfdG9rZW5dID0gX3JlZ2lzdGVyOwogICAgfQoKICAgIC8qKgogICAgICAgIEBkZXYgY29udmVydHMgdGhlIHRva2VuIHRvIGFueSBvdGhlciB0b2tlbiBpbiB0aGUgYmFuY29yIG5ldHdvcmsgYnkgZm9sbG93aW5nCiAgICAgICAgYSBwcmVkZWZpbmVkIGNvbnZlcnNpb24gcGF0aCBhbmQgdHJhbnNmZXJzIHRoZSByZXN1bHQgdG9rZW5zIHRvIGEgdGFyZ2V0IGFjY291bnQKICAgICAgICBub3RlIHRoYXQgdGhlIGNvbnZlcnRlciBzaG91bGQgYWxyZWFkeSBvd24gdGhlIHNvdXJjZSB0b2tlbnMKCiAgICAgICAgQHBhcmFtIF9wYXRoICAgICAgICBjb252ZXJzaW9uIHBhdGgsIHNlZSBjb252ZXJzaW9uIHBhdGggZm9ybWF0IGFib3ZlCiAgICAgICAgQHBhcmFtIF9hbW91bnQgICAgICBhbW91bnQgdG8gY29udmVydCBmcm9tIChpbiB0aGUgaW5pdGlhbCBzb3VyY2UgdG9rZW4pCiAgICAgICAgQHBhcmFtIF9taW5SZXR1cm4gICBpZiB0aGUgY29udmVyc2lvbiByZXN1bHRzIGluIGFuIGFtb3VudCBzbWFsbGVyIHRoYW4gdGhlIG1pbmltdW0gcmV0dXJuIC0gaXQgaXMgY2FuY2VsbGVkLCBtdXN0IGJlIG5vbnplcm8KICAgICAgICBAcGFyYW0gX2ZvciAgICAgICAgIGFjY291bnQgdGhhdCB3aWxsIHJlY2VpdmUgdGhlIGNvbnZlcnNpb24gcmVzdWx0CgogICAgICAgIEByZXR1cm4gdG9rZW5zIGlzc3VlZCBpbiByZXR1cm4KICAgICovCiAgICBmdW5jdGlvbiBjb252ZXJ0Rm9yKElFUkMyMFRva2VuW10gX3BhdGgsIHVpbnQyNTYgX2Ftb3VudCwgdWludDI1NiBfbWluUmV0dXJuLCBhZGRyZXNzIF9mb3IpCiAgICAgICAgcHVibGljCiAgICAgICAgcGF5YWJsZQogICAgICAgIHZhbGlkQ29udmVyc2lvblBhdGgoX3BhdGgpCiAgICAgICAgcmV0dXJucyAodWludDI1NikKICAgIHsKICAgICAgICAvLyBpZiBFVEggaXMgcHJvdmlkZWQsIGVuc3VyZSB0aGF0IHRoZSBhbW91bnQgaXMgaWRlbnRpY2FsIHRvIF9hbW91bnQgYW5kIHZlcmlmeSB0aGF0IHRoZSBzb3VyY2UgdG9rZW4gaXMgYW4gZXRoZXIgdG9rZW4KICAgICAgICBJRVJDMjBUb2tlbiBmcm9tVG9rZW4gPSBfcGF0aFswXTsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA9PSAwIHx8IChfYW1vdW50ID09IG1zZy52YWx1ZSAmJiBldGhlclRva2Vuc1tmcm9tVG9rZW5dKSk7CgogICAgICAgIElTbWFydFRva2VuIHNtYXJ0VG9rZW47CiAgICAgICAgSUVSQzIwVG9rZW4gdG9Ub2tlbjsKICAgICAgICBJVG9rZW5Db252ZXJ0ZXIgY29udmVydGVyOwogICAgICAgIHVpbnQyNTYgcGF0aExlbmd0aCA9IF9wYXRoLmxlbmd0aDsKCiAgICAgICAgLy8gaWYgRVRIIHdhcyBzZW50IHdpdGggdGhlIGNhbGwsIHRoZSBzb3VyY2UgaXMgYW4gZXRoZXIgdG9rZW4gLSBkZXBvc2l0IHRoZSBFVEggaW4gaXQKICAgICAgICAvLyBvdGhlcndpc2UsIHdlIGFzc3VtZSB3ZSBhbHJlYWR5IGhhdmUgdGhlIHRva2VucwogICAgICAgIGlmIChtc2cudmFsdWUgPiAwKQogICAgICAgICAgICBJRXRoZXJUb2tlbihmcm9tVG9rZW4pLmRlcG9zaXQudmFsdWUobXNnLnZhbHVlKSgpOwoKICAgICAgICAvLyBpdGVyYXRlIG92ZXIgdGhlIGNvbnZlcnNpb24gcGF0aAogICAgICAgIGZvciAodWludDI1NiBpID0gMTsgaSA8IHBhdGhMZW5ndGg7IGkgKz0gMikgewogICAgICAgICAgICBzbWFydFRva2VuID0gSVNtYXJ0VG9rZW4oX3BhdGhbaV0pOwogICAgICAgICAgICB0b1Rva2VuID0gX3BhdGhbaSArIDFdOwogICAgICAgICAgICBjb252ZXJ0ZXIgPSBJVG9rZW5Db252ZXJ0ZXIoc21hcnRUb2tlbi5vd25lcigpKTsKCiAgICAgICAgICAgIC8vIGlmIHRoZSBzbWFydCB0b2tlbiBpc24ndCB0aGUgc291cmNlIChmcm9tIHRva2VuKSwgdGhlIGNvbnZlcnRlciBkb2Vzbid0IGhhdmUgY29udHJvbCBvdmVyIGl0IGFuZCB0aHVzIHdlIG5lZWQgdG8gYXBwcm92ZSB0aGUgcmVxdWVzdAogICAgICAgICAgICBpZiAoc21hcnRUb2tlbiAhPSBmcm9tVG9rZW4pCiAgICAgICAgICAgICAgICBlbnN1cmVBbGxvd2FuY2UoZnJvbVRva2VuLCBjb252ZXJ0ZXIsIF9hbW91bnQpOwoKICAgICAgICAgICAgLy8gbWFrZSB0aGUgY29udmVyc2lvbiAtIGlmIGl0J3MgdGhlIGxhc3Qgb25lLCBhbHNvIHByb3ZpZGUgdGhlIG1pbmltdW0gcmV0dXJuIHZhbHVlCiAgICAgICAgICAgIF9hbW91bnQgPSBjb252ZXJ0ZXIuY2hhbmdlKGZyb21Ub2tlbiwgdG9Ub2tlbiwgX2Ftb3VudCwgaSA9PSBwYXRoTGVuZ3RoIC0gMiA/IF9taW5SZXR1cm4gOiAxKTsKICAgICAgICAgICAgZnJvbVRva2VuID0gdG9Ub2tlbjsKICAgICAgICB9CgogICAgICAgIC8vIGZpbmlzaGVkIHRoZSBjb252ZXJzaW9uLCB0cmFuc2ZlciB0aGUgZnVuZHMgdG8gdGhlIHRhcmdldCBhY2NvdW50CiAgICAgICAgLy8gaWYgdGhlIHRhcmdldCB0b2tlbiBpcyBhbiBldGhlciB0b2tlbiwgd2l0aGRyYXcgdGhlIHRva2VucyBhbmQgc2VuZCB0aGVtIGFzIEVUSAogICAgICAgIC8vIG90aGVyd2lzZSwgdHJhbnNmZXIgdGhlIHRva2VucyBhcyBpcwogICAgICAgIGlmIChldGhlclRva2Vuc1t0b1Rva2VuXSkKICAgICAgICAgICAgSUV0aGVyVG9rZW4odG9Ub2tlbikud2l0aGRyYXdUbyhfZm9yLCBfYW1vdW50KTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIGFzc2VydCh0b1Rva2VuLnRyYW5zZmVyKF9mb3IsIF9hbW91bnQpKTsKCiAgICAgICAgcmV0dXJuIF9hbW91bnQ7CiAgICB9CgogICAgLyoqCiAgICAgICAgQGRldiBjbGFpbXMgdGhlIGNhbGxlcidzIHRva2VucywgY29udmVydHMgdGhlbSB0byBhbnkgb3RoZXIgdG9rZW4gaW4gdGhlIGJhbmNvciBuZXR3b3JrCiAgICAgICAgYnkgZm9sbG93aW5nIGEgcHJlZGVmaW5lZCBjb252ZXJzaW9uIHBhdGggYW5kIHRyYW5zZmVycyB0aGUgcmVzdWx0IHRva2VucyB0byBhIHRhcmdldCBhY2NvdW50CiAgICAgICAgbm90ZSB0aGF0IGFsbG93YW5jZSBtdXN0IGJlIHNldCBiZWZvcmVoYW5kCgogICAgICAgIEBwYXJhbSBfcGF0aCAgICAgICAgY29udmVyc2lvbiBwYXRoLCBzZWUgY29udmVyc2lvbiBwYXRoIGZvcm1hdCBhYm92ZQogICAgICAgIEBwYXJhbSBfYW1vdW50ICAgICAgYW1vdW50IHRvIGNvbnZlcnQgZnJvbSAoaW4gdGhlIGluaXRpYWwgc291cmNlIHRva2VuKQogICAgICAgIEBwYXJhbSBfbWluUmV0dXJuICAgaWYgdGhlIGNvbnZlcnNpb24gcmVzdWx0cyBpbiBhbiBhbW91bnQgc21hbGxlciB0aGFuIHRoZSBtaW5pbXVtIHJldHVybiAtIGl0IGlzIGNhbmNlbGxlZCwgbXVzdCBiZSBub256ZXJvCiAgICAgICAgQHBhcmFtIF9mb3IgICAgICAgICBhY2NvdW50IHRoYXQgd2lsbCByZWNlaXZlIHRoZSBjb252ZXJzaW9uIHJlc3VsdAoKICAgICAgICBAcmV0dXJuIHRva2VucyBpc3N1ZWQgaW4gcmV0dXJuCiAgICAqLwogICAgZnVuY3Rpb24gY2xhaW1BbmRDb252ZXJ0Rm9yKElFUkMyMFRva2VuW10gX3BhdGgsIHVpbnQyNTYgX2Ftb3VudCwgdWludDI1NiBfbWluUmV0dXJuLCBhZGRyZXNzIF9mb3IpIHB1YmxpYyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgLy8gd2UgbmVlZCB0byB0cmFuc2ZlciB0aGUgdG9rZW5zIGZyb20gdGhlIGNhbGxlciB0byB0aGUgY29udmVydGVyIGJlZm9yZSB3ZSBmb2xsb3cKICAgICAgICAvLyB0aGUgY29udmVyc2lvbiBwYXRoLCB0byBhbGxvdyBpdCB0byBleGVjdXRlIHRoZSBjb252ZXJzaW9uIG9uIGJlaGFsZiBvZiB0aGUgY2FsbGVyCiAgICAgICAgLy8gbm90ZTogd2UgYXNzdW1lIHdlIGFscmVhZHkgaGF2ZSBhbGxvd2FuY2UKICAgICAgICBJRVJDMjBUb2tlbiBmcm9tVG9rZW4gPSBfcGF0aFswXTsKICAgICAgICBhc3NlcnQoZnJvbVRva2VuLnRyYW5zZmVyRnJvbShtc2cuc2VuZGVyLCB0aGlzLCBfYW1vdW50KSk7CiAgICAgICAgcmV0dXJuIGNvbnZlcnRGb3IoX3BhdGgsIF9hbW91bnQsIF9taW5SZXR1cm4sIF9mb3IpOwogICAgfQoKICAgIC8qKgogICAgICAgIEBkZXYgY29udmVydHMgdGhlIHRva2VuIHRvIGFueSBvdGhlciB0b2tlbiBpbiB0aGUgYmFuY29yIG5ldHdvcmsgYnkgZm9sbG93aW5nCiAgICAgICAgYSBwcmVkZWZpbmVkIGNvbnZlcnNpb24gcGF0aCBhbmQgdHJhbnNmZXJzIHRoZSByZXN1bHQgdG9rZW5zIGJhY2sgdG8gdGhlIHNlbmRlcgogICAgICAgIG5vdGUgdGhhdCB0aGUgY29udmVydGVyIHNob3VsZCBhbHJlYWR5IG93biB0aGUgc291cmNlIHRva2VucwoKICAgICAgICBAcGFyYW0gX3BhdGggICAgICAgIGNvbnZlcnNpb24gcGF0aCwgc2VlIGNvbnZlcnNpb24gcGF0aCBmb3JtYXQgYWJvdmUKICAgICAgICBAcGFyYW0gX2Ftb3VudCAgICAgIGFtb3VudCB0byBjb252ZXJ0IGZyb20gKGluIHRoZSBpbml0aWFsIHNvdXJjZSB0b2tlbikKICAgICAgICBAcGFyYW0gX21pblJldHVybiAgIGlmIHRoZSBjb252ZXJzaW9uIHJlc3VsdHMgaW4gYW4gYW1vdW50IHNtYWxsZXIgdGhhbiB0aGUgbWluaW11bSByZXR1cm4gLSBpdCBpcyBjYW5jZWxsZWQsIG11c3QgYmUgbm9uemVybwoKICAgICAgICBAcmV0dXJuIHRva2VucyBpc3N1ZWQgaW4gcmV0dXJuCiAgICAqLwogICAgZnVuY3Rpb24gY29udmVydChJRVJDMjBUb2tlbltdIF9wYXRoLCB1aW50MjU2IF9hbW91bnQsIHVpbnQyNTYgX21pblJldHVybikgcHVibGljIHBheWFibGUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBjb252ZXJ0Rm9yKF9wYXRoLCBfYW1vdW50LCBfbWluUmV0dXJuLCBtc2cuc2VuZGVyKTsKICAgIH0KCiAgICAvKioKICAgICAgICBAZGV2IGNsYWltcyB0aGUgY2FsbGVyJ3MgdG9rZW5zLCBjb252ZXJ0cyB0aGVtIHRvIGFueSBvdGhlciB0b2tlbiBpbiB0aGUgYmFuY29yIG5ldHdvcmsKICAgICAgICBieSBmb2xsb3dpbmcgYSBwcmVkZWZpbmVkIGNvbnZlcnNpb24gcGF0aCBhbmQgdHJhbnNmZXJzIHRoZSByZXN1bHQgdG9rZW5zIGJhY2sgdG8gdGhlIHNlbmRlcgogICAgICAgIG5vdGUgdGhhdCBhbGxvd2FuY2UgbXVzdCBiZSBzZXQgYmVmb3JlaGFuZAoKICAgICAgICBAcGFyYW0gX3BhdGggICAgICAgIGNvbnZlcnNpb24gcGF0aCwgc2VlIGNvbnZlcnNpb24gcGF0aCBmb3JtYXQgYWJvdmUKICAgICAgICBAcGFyYW0gX2Ftb3VudCAgICAgIGFtb3VudCB0byBjb252ZXJ0IGZyb20gKGluIHRoZSBpbml0aWFsIHNvdXJjZSB0b2tlbikKICAgICAgICBAcGFyYW0gX21pblJldHVybiAgIGlmIHRoZSBjb252ZXJzaW9uIHJlc3VsdHMgaW4gYW4gYW1vdW50IHNtYWxsZXIgdGhhbiB0aGUgbWluaW11bSByZXR1cm4gLSBpdCBpcyBjYW5jZWxsZWQsIG11c3QgYmUgbm9uemVybwoKICAgICAgICBAcmV0dXJuIHRva2VucyBpc3N1ZWQgaW4gcmV0dXJuCiAgICAqLwogICAgZnVuY3Rpb24gY2xhaW1BbmRDb252ZXJ0KElFUkMyMFRva2VuW10gX3BhdGgsIHVpbnQyNTYgX2Ftb3VudCwgdWludDI1NiBfbWluUmV0dXJuKSBwdWJsaWMgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBjbGFpbUFuZENvbnZlcnRGb3IoX3BhdGgsIF9hbW91bnQsIF9taW5SZXR1cm4sIG1zZy5zZW5kZXIpOwogICAgfQoKICAgIC8qKgogICAgICAgIEBkZXYgdXRpbGl0eSwgY2hlY2tzIHdoZXRoZXIgYWxsb3dhbmNlIGZvciB0aGUgZ2l2ZW4gc3BlbmRlciBleGlzdHMgYW5kIGFwcHJvdmVzIG9uZSBpZiBpdCBkb2Vzbid0CgogICAgICAgIEBwYXJhbSBfdG9rZW4gICB0b2tlbiB0byBjaGVjayB0aGUgYWxsb3dhbmNlIGluCiAgICAgICAgQHBhcmFtIF9zcGVuZGVyIGFwcHJvdmVkIGFkZHJlc3MKICAgICAgICBAcGFyYW0gX3ZhbHVlICAgYWxsb3dhbmNlIGFtb3VudAogICAgKi8KICAgIGZ1bmN0aW9uIGVuc3VyZUFsbG93YW5jZShJRVJDMjBUb2tlbiBfdG9rZW4sIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwcml2YXRlIHsKICAgICAgICAvLyBjaGVjayBpZiBhbGxvd2FuY2UgZm9yIHRoZSBnaXZlbiBhbW91bnQgYWxyZWFkeSBleGlzdHMKICAgICAgICBpZiAoX3Rva2VuLmFsbG93YW5jZSh0aGlzLCBfc3BlbmRlcikgPj0gX3ZhbHVlKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIC8vIGlmIHRoZSBhbGxvd2FuY2UgaXMgbm9uemVybywgbXVzdCByZXNldCBpdCB0byAwIGZpcnN0CiAgICAgICAgaWYgKF90b2tlbi5hbGxvd2FuY2UodGhpcywgX3NwZW5kZXIpICE9IDApCiAgICAgICAgICAgIGFzc2VydChfdG9rZW4uYXBwcm92ZShfc3BlbmRlciwgMCkpOwoKICAgICAgICAvLyBhcHByb3ZlIHRoZSBuZXcgYWxsb3dhbmNlCiAgICAgICAgYXNzZXJ0KF90b2tlbi5hcHByb3ZlKF9zcGVuZGVyLCBfdmFsdWUpKTsKICAgIH0KfQ=='.
	

]
