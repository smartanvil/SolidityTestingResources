Class {
	#name : #SRT417f0b9133a8388fdb4ffa14e0c41638db7b6185,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT417f0b9133a8388fdb4ffa14e0c41638db7b6185 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIAogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQogIAp9CgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuIAogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICAgIAogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4gCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgIC8vIHJlcXVpcmUgKF92YWx1ZSA8PSBfYWxsb3dhbmNlKTsKCiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogICAgCiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsgICAgICAKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBNaW50YWJsZSB0b2tlbgogKiBAZGV2IFNpbXBsZSBFUkMyMCBUb2tlbiBleGFtcGxlLCB3aXRoIG1pbnRhYmxlIHRva2VuIGNyZWF0aW9uCiAqIEBkZXYgSXNzdWU6ICogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9pc3N1ZXMvMTIwCiAqIEJhc2VkIG9uIGNvZGUgYnkgVG9rZW5NYXJrZXROZXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9Ub2tlbk1hcmtldE5ldC9pY28vYmxvYi9tYXN0ZXIvY29udHJhY3RzL01pbnRhYmxlVG9rZW4uc29sCiAqLwoKY29udHJhY3QgTWludGFibGVUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKICAgIAogIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CiAgCiAgZXZlbnQgTWludEZpbmlzaGVkKCk7CgogIGJvb2wgcHVibGljIG1pbnRpbmdGaW5pc2hlZCA9IGZhbHNlOwoKICBtb2RpZmllciBjYW5NaW50KCkgewogICAgcmVxdWlyZSghbWludGluZ0ZpbmlzaGVkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIG1pbnQgdG9rZW5zCiAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0aGF0IHdpbGwgcmVjaWV2ZSB0aGUgbWludGVkIHRva2Vucy4KICAgKiBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IG9mIHRva2VucyB0byBtaW50LgogICAqIEByZXR1cm4gQSBib29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICovCiAgZnVuY3Rpb24gbWludChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBvbmx5T3duZXIgY2FuTWludCByZXR1cm5zIChib29sKSB7CiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgIE1pbnQoX3RvLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBzdG9wIG1pbnRpbmcgbmV3IHRva2Vucy4KICAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgKi8KICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKICAgIG1pbnRpbmdGaW5pc2hlZCA9IHRydWU7CiAgICBNaW50RmluaXNoZWQoKTsKICAgIHJldHVybiB0cnVlOwogIH0KICAKfQoKLyoqCiAqIEB0aXRsZSBQYXVzYWJsZQogKiBAZGV2IEJhc2UgY29udHJhY3Qgd2hpY2ggYWxsb3dzIGNoaWxkcmVuIHRvIGltcGxlbWVudCBhbiBlbWVyZ2VuY3kgc3RvcCBtZWNoYW5pc20uCiAqLwpjb250cmFjdCBQYXVzYWJsZSBpcyBPd25hYmxlIHsKICAgIAogIGV2ZW50IFBhdXNlKCk7CiAgCiAgZXZlbnQgVW5wYXVzZSgpOwoKICBib29sIHB1YmxpYyBwYXVzZWQgPSBmYWxzZTsKCiAgLyoqCiAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgcGF1c2VkCiAgICovCiAgbW9kaWZpZXIgd2hlbk5vdFBhdXNlZCgpIHsKICAgIHJlcXVpcmUoIXBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgTk9UIHBhdXNlZAogICAqLwogIG1vZGlmaWVyIHdoZW5QYXVzZWQoKSB7CiAgICByZXF1aXJlKHBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHBhdXNlLCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gcGF1c2UoKSBvbmx5T3duZXIgd2hlbk5vdFBhdXNlZCB7CiAgICBwYXVzZWQgPSB0cnVlOwogICAgUGF1c2UoKTsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byB1bnBhdXNlLCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHVucGF1c2UoKSBvbmx5T3duZXIgd2hlblBhdXNlZCB7CiAgICBwYXVzZWQgPSBmYWxzZTsKICAgIFVucGF1c2UoKTsKICB9CiAgCn0KCmNvbnRyYWN0IElOQ1Rva2VuIGlzIE1pbnRhYmxlVG9rZW4gewkKICAgIAogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJJbnN0YWNvaW4iOwogICAKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJJTkMiOwogICAgCiAgdWludDMyIHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwoKICBib29sIHB1YmxpYyB0cmFuc2ZlckFsbG93ZWQgPSBmYWxzZTsKCiAgbW9kaWZpZXIgd2hlblRyYW5zZmVyQWxsb3dlZCgpIHsKICAgIHJlcXVpcmUodHJhbnNmZXJBbGxvd2VkIHx8IG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgogIGZ1bmN0aW9uIGFsbG93VHJhbnNmZXIoKSBvbmx5T3duZXIgewogICAgdHJhbnNmZXJBbGxvd2VkID0gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgd2hlblRyYW5zZmVyQWxsb3dlZCByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgd2hlblRyYW5zZmVyQWxsb3dlZCByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQogICAgCn0KCgpjb250cmFjdCBTdGFnZWRDcm93ZHNhbGUgaXMgUGF1c2FibGUgewoKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgc3RydWN0IE1pbGVzdG9uZSB7CiAgICB1aW50IHBlcmlvZDsKICAgIHVpbnQgYm9udXM7CiAgfQoKICB1aW50IHB1YmxpYyBzdGFydDsKCiAgdWludCBwdWJsaWMgdG90YWxQZXJpb2Q7CgogIHVpbnQgcHVibGljIGludmVzdGVkOwoKICB1aW50IHB1YmxpYyBoYXJkQ2FwOwogCiAgTWlsZXN0b25lW10gcHVibGljIG1pbGVzdG9uZXM7CgogIGZ1bmN0aW9uIG1pbGVzdG9uZXNDb3VudCgpIGNvbnN0YW50IHJldHVybnModWludCkgewogICAgcmV0dXJuIG1pbGVzdG9uZXMubGVuZ3RoOwogIH0KCiAgZnVuY3Rpb24gc2V0U3RhcnQodWludCBuZXdTdGFydCkgb25seU93bmVyIHsKICAgIHN0YXJ0ID0gbmV3U3RhcnQ7CiAgfQoKICBmdW5jdGlvbiBzZXRIYXJkY2FwKHVpbnQgbmV3SGFyZGNhcCkgb25seU93bmVyIHsKICAgIGhhcmRDYXAgPSBuZXdIYXJkY2FwOwogIH0KCiAgZnVuY3Rpb24gYWRkTWlsZXN0b25lKHVpbnQgcGVyaW9kLCB1aW50IGJvbnVzKSBvbmx5T3duZXIgewogICAgcmVxdWlyZShwZXJpb2QgPiAwKTsKICAgIG1pbGVzdG9uZXMucHVzaChNaWxlc3RvbmUocGVyaW9kLCBib251cykpOwogICAgdG90YWxQZXJpb2QgPSB0b3RhbFBlcmlvZC5hZGQocGVyaW9kKTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZU1pbGVzdG9uZSh1aW50OCBudW1iZXIpIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG51bWJlciA8IG1pbGVzdG9uZXMubGVuZ3RoKTsKICAgIE1pbGVzdG9uZSBzdG9yYWdlIG1pbGVzdG9uZSA9IG1pbGVzdG9uZXNbbnVtYmVyXTsKICAgIHRvdGFsUGVyaW9kID0gdG90YWxQZXJpb2Quc3ViKG1pbGVzdG9uZS5wZXJpb2QpOwoKICAgIGRlbGV0ZSBtaWxlc3RvbmVzW251bWJlcl07CgogICAgZm9yICh1aW50IGkgPSBudW1iZXI7IGkgPCBtaWxlc3RvbmVzLmxlbmd0aCAtIDE7IGkrKykgewogICAgICBtaWxlc3RvbmVzW2ldID0gbWlsZXN0b25lc1tpKzFdOwogICAgfQoKICAgIG1pbGVzdG9uZXMubGVuZ3RoLS07CiAgfQoKICBmdW5jdGlvbiBjaGFuZ2VNaWxlc3RvbmUodWludDggbnVtYmVyLCB1aW50IHBlcmlvZCwgdWludCBib251cykgb25seU93bmVyIHsKICAgIHJlcXVpcmUobnVtYmVyIDwgbWlsZXN0b25lcy5sZW5ndGgpOwogICAgTWlsZXN0b25lIHN0b3JhZ2UgbWlsZXN0b25lID0gbWlsZXN0b25lc1tudW1iZXJdOwoKICAgIHRvdGFsUGVyaW9kID0gdG90YWxQZXJpb2Quc3ViKG1pbGVzdG9uZS5wZXJpb2QpOyAgICAKCiAgICBtaWxlc3RvbmUucGVyaW9kID0gcGVyaW9kOwogICAgbWlsZXN0b25lLmJvbnVzID0gYm9udXM7CgogICAgdG90YWxQZXJpb2QgPSB0b3RhbFBlcmlvZC5hZGQocGVyaW9kKTsgICAgCiAgfQoKICBmdW5jdGlvbiBpbnNlcnRNaWxlc3RvbmUodWludDggbnVtYmVyQWZ0ZXIsIHVpbnQgcGVyaW9kLCB1aW50IGJvbnVzKSBvbmx5T3duZXIgewogICAgcmVxdWlyZShudW1iZXJBZnRlciA8IG1pbGVzdG9uZXMubGVuZ3RoKTsKCiAgICB0b3RhbFBlcmlvZCA9IHRvdGFsUGVyaW9kLmFkZChwZXJpb2QpOwoKICAgIG1pbGVzdG9uZXMubGVuZ3RoKys7CgogICAgZm9yICh1aW50IGkgPSBtaWxlc3RvbmVzLmxlbmd0aCAtIDI7IGkgPiBudW1iZXJBZnRlcjsgaS0tKSB7CiAgICAgIG1pbGVzdG9uZXNbaSArIDFdID0gbWlsZXN0b25lc1tpXTsKICAgIH0KCiAgICBtaWxlc3RvbmVzW251bWJlckFmdGVyICsgMV0gPSBNaWxlc3RvbmUocGVyaW9kLCBib251cyk7CiAgfQoKICBmdW5jdGlvbiBjbGVhck1pbGVzdG9uZXMoKSBvbmx5T3duZXIgewogICAgcmVxdWlyZShtaWxlc3RvbmVzLmxlbmd0aCA+IDApOwogICAgZm9yICh1aW50IGkgPSAwOyBpIDwgbWlsZXN0b25lcy5sZW5ndGg7IGkrKykgewogICAgICBkZWxldGUgbWlsZXN0b25lc1tpXTsKICAgIH0KICAgIG1pbGVzdG9uZXMubGVuZ3RoIC09IG1pbGVzdG9uZXMubGVuZ3RoOwogICAgdG90YWxQZXJpb2QgPSAwOwogIH0KCiAgbW9kaWZpZXIgc2FsZUlzT24oKSB7CiAgICByZXF1aXJlKG1pbGVzdG9uZXMubGVuZ3RoID4gMCAmJiBub3cgPj0gc3RhcnQgJiYgbm93IDwgbGFzdFNhbGVEYXRlKCkpOwogICAgXzsKICB9CiAgCiAgbW9kaWZpZXIgaXNVbmRlckhhcmRDYXAoKSB7CiAgICByZXF1aXJlKGludmVzdGVkIDw9IGhhcmRDYXApOwogICAgXzsKICB9CiAgCiAgZnVuY3Rpb24gbGFzdFNhbGVEYXRlKCkgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICByZXF1aXJlKG1pbGVzdG9uZXMubGVuZ3RoID4gMCk7CiAgICByZXR1cm4gc3RhcnQgKyB0b3RhbFBlcmlvZCAqIDEgZGF5czsKICB9CgogIGZ1bmN0aW9uIGN1cnJlbnRNaWxlc3RvbmUoKSBzYWxlSXNPbiBjb25zdGFudCByZXR1cm5zKHVpbnQpIHsKICAgIHVpbnQgcHJldmlvdXNEYXRlID0gc3RhcnQ7CiAgICBmb3IodWludCBpPTA7IGkgPCBtaWxlc3RvbmVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmKG5vdyA+PSBwcmV2aW91c0RhdGUgJiYgbm93IDwgcHJldmlvdXNEYXRlICsgbWlsZXN0b25lc1tpXS5wZXJpb2QgKiAxIGRheXMpIHsKICAgICAgICByZXR1cm4gaTsKICAgICAgfQogICAgICBwcmV2aW91c0RhdGUgPSBwcmV2aW91c0RhdGUuYWRkKG1pbGVzdG9uZXNbaV0ucGVyaW9kICogMSBkYXlzKTsKICAgIH0KICAgIHJldmVydCgpOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgUHJlU2FsZQogKiBAZGV2IFRoZSBQcmVTYWxlIGNvbnRyYWN0IHN0b3JlcyBiYWxhbmNlcyBpbnZlc3RvcnMgb2YgcHJlIHNhbGUgc3RhZ2UuCiAqLwpjb250cmFjdCBQcmVTYWxlIGlzIFBhdXNhYmxlIHsKICAgIAogIGV2ZW50IEludmVzdChhZGRyZXNzLCB1aW50KTsKCiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CiAgICAKICBhZGRyZXNzIHB1YmxpYyB3YWxsZXQ7CgogIHVpbnQgcHVibGljIHN0YXJ0OwogIAogIHVpbnQgcHVibGljIHRvdGFsOwogIAogIHVpbnQxNiBwdWJsaWMgcGVyaW9kOwoKICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwoKICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIGludmVzdGVkOwogIAogIGFkZHJlc3NbXSBwdWJsaWMgaW52ZXN0b3JzOwogIAogIG1vZGlmaWVyIHNhbGVJc09uKCkgewogICAgcmVxdWlyZShub3cgPiBzdGFydCAmJiBub3cgPCBzdGFydCArIHBlcmlvZCAqIDEgZGF5cyk7CiAgICBfOwogIH0KICAKICBmdW5jdGlvbiB0b3RhbEludmVzdG9ycygpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgIHJldHVybiBpbnZlc3RvcnMubGVuZ3RoOwogIH0KICAKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBpbnZlc3RvcikgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgcmV0dXJuIGJhbGFuY2VzW2ludmVzdG9yXTsKICB9CiAgCiAgZnVuY3Rpb24gc2V0U3RhcnQodWludCBuZXdTdGFydCkgb25seU93bmVyIHsKICAgIHN0YXJ0ID0gbmV3U3RhcnQ7CiAgfQogIAogIGZ1bmN0aW9uIHNldFBlcmlvZCh1aW50MTYgbmV3UGVyaW9kKSBvbmx5T3duZXIgewogICAgcGVyaW9kID0gbmV3UGVyaW9kOwogIH0KICAKICBmdW5jdGlvbiBzZXRXYWxsZXQoYWRkcmVzcyBuZXdXYWxsZXQpIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5ld1dhbGxldCAhPSBhZGRyZXNzKDApKTsKICAgIHdhbGxldCA9IG5ld1dhbGxldDsKICB9CgogIGZ1bmN0aW9uIGludmVzdCgpIHNhbGVJc09uIHdoZW5Ob3RQYXVzZWQgcGF5YWJsZSB7CiAgICB3YWxsZXQudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKG1zZy52YWx1ZSk7CiAgICBib29sIGlzSW52ZXN0ZWQgPSBpbnZlc3RlZFttc2cuc2VuZGVyXTsKICAgIGlmKCFpc0ludmVzdGVkKSB7CiAgICAgICAgaW52ZXN0b3JzLnB1c2gobXNnLnNlbmRlcik7ICAgIAogICAgICAgIGludmVzdGVkW21zZy5zZW5kZXJdID0gdHJ1ZTsKICAgIH0KICAgIHRvdGFsID0gdG90YWwuYWRkKG1zZy52YWx1ZSk7CiAgICBJbnZlc3QobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsKICB9CgogIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICBpbnZlc3QoKTsKICB9Cgp9Cgpjb250cmFjdCBDcm93ZHNhbGUgaXMgU3RhZ2VkQ3Jvd2RzYWxlIHsKCiAgYWRkcmVzcyBwdWJsaWMgbXVsdGlzaWdXYWxsZXQ7CiAgCiAgYWRkcmVzcyBwdWJsaWMgZm91bmRlcnNUb2tlbnNXYWxsZXQ7CiAgCiAgYWRkcmVzcyBwdWJsaWMgYm91bnR5VG9rZW5zV2FsbGV0OwoKICB1aW50IHB1YmxpYyBmb3VuZGVyc1Rva2Vuc1BlcmNlbnQ7CiAgCiAgdWludCBwdWJsaWMgYm91bnR5VG9rZW5zUGVyY2VudDsKIAogIHVpbnQgcHVibGljIHByaWNlOwoKICB1aW50IHB1YmxpYyBwZXJjZW50UmF0ZSA9IDEwMDsKCiAgdWludCBwdWJsaWMgZWFybHlJbnZlc3RvcnNCb251czsKCiAgUHJlU2FsZSBwdWJsaWMgcHJlc2FsZTsKCiAgYm9vbCBwdWJsaWMgZWFybHlJbnZlc3RvcnNNaW50ZWRUb2tlbnMgPSBmYWxzZTsKCiAgSU5DVG9rZW4gcHVibGljIHRva2VuID0gbmV3IElOQ1Rva2VuKCk7CgogIGZ1bmN0aW9uIHNldFByaWNlKHVpbnQgbmV3UHJpY2UpIG9ubHlPd25lciB7CiAgICBwcmljZSA9IG5ld1ByaWNlOwogIH0KCiAgZnVuY3Rpb24gc2V0UHJlc2FsZUFkZHJlc3MoYWRkcmVzcyBuZXdQcmVzYWxlQWRkcmVzcykgb25seU93bmVyIHsKICAgIHByZXNhbGUgPSBQcmVTYWxlKG5ld1ByZXNhbGVBZGRyZXNzKTsKICB9CgogIGZ1bmN0aW9uIHNldEZvdW5kZXJzVG9rZW5zUGVyY2VudCh1aW50IG5ld0ZvdW5kZXJzVG9rZW5zUGVyY2VudCkgb25seU93bmVyIHsKICAgIGZvdW5kZXJzVG9rZW5zUGVyY2VudCA9IG5ld0ZvdW5kZXJzVG9rZW5zUGVyY2VudDsKICB9CiAgCiAgZnVuY3Rpb24gc2V0RWFybHlJbnZlc3RvcnNCb251cyh1aW50IG5ld0Vhcmx5SW52ZXN0b3JzQm9udXMpIG9ubHlPd25lciB7CiAgICBlYXJseUludmVzdG9yc0JvbnVzID0gbmV3RWFybHlJbnZlc3RvcnNCb251czsKICB9CgogIGZ1bmN0aW9uIHNldEJvdW50eVRva2Vuc1BlcmNlbnQodWludCBuZXdCb3VudHlUb2tlbnNQZXJjZW50KSBvbmx5T3duZXIgewogICAgYm91bnR5VG9rZW5zUGVyY2VudCA9IG5ld0JvdW50eVRva2Vuc1BlcmNlbnQ7CiAgfQogIAogIGZ1bmN0aW9uIHNldE11bHRpc2lnV2FsbGV0KGFkZHJlc3MgbmV3TXVsdGlzaWdXYWxsZXQpIG9ubHlPd25lciB7CiAgICBtdWx0aXNpZ1dhbGxldCA9IG5ld011bHRpc2lnV2FsbGV0OwogIH0KCiAgZnVuY3Rpb24gc2V0Rm91bmRlcnNUb2tlbnNXYWxsZXQoYWRkcmVzcyBuZXdGb3VuZGVyc1Rva2Vuc1dhbGxldCkgb25seU93bmVyIHsKICAgIGZvdW5kZXJzVG9rZW5zV2FsbGV0ID0gbmV3Rm91bmRlcnNUb2tlbnNXYWxsZXQ7CiAgfQoKICBmdW5jdGlvbiBzZXRCb3VudHlUb2tlbnNXYWxsZXQoYWRkcmVzcyBuZXdCb3VudHlUb2tlbnNXYWxsZXQpIG9ubHlPd25lciB7CiAgICBib3VudHlUb2tlbnNXYWxsZXQgPSBuZXdCb3VudHlUb2tlbnNXYWxsZXQ7CiAgfQoKICBmdW5jdGlvbiBjcmVhdGVUb2tlbnMoKSB3aGVuTm90UGF1c2VkIGlzVW5kZXJIYXJkQ2FwIHNhbGVJc09uIHBheWFibGUgewogICAgcmVxdWlyZShtc2cudmFsdWUgPiAwKTsKICAgIHVpbnQgbWlsZXN0b25lSW5kZXggPSBjdXJyZW50TWlsZXN0b25lKCk7CiAgICBNaWxlc3RvbmUgc3RvcmFnZSBtaWxlc3RvbmUgPSBtaWxlc3RvbmVzW21pbGVzdG9uZUluZGV4XTsKICAgIG11bHRpc2lnV2FsbGV0LnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgICBpbnZlc3RlZCA9IGludmVzdGVkLmFkZChtc2cudmFsdWUpOwogICAgdWludCB0b2tlbnMgPSBtc2cudmFsdWUubXVsKDEgZXRoZXIpLmRpdihwcmljZSk7CiAgICB1aW50IGJvbnVzVG9rZW5zID0gdG9rZW5zLm11bChtaWxlc3RvbmUuYm9udXMpLmRpdihwZXJjZW50UmF0ZSk7CiAgICB1aW50IHRva2Vuc1dpdGhCb251cyA9IHRva2Vucy5hZGQoYm9udXNUb2tlbnMpOwogICAgdG9rZW4ubWludCh0aGlzLCB0b2tlbnNXaXRoQm9udXMpOwogICAgdG9rZW4udHJhbnNmZXIobXNnLnNlbmRlciwgdG9rZW5zV2l0aEJvbnVzKTsKICB9CgogIGZ1bmN0aW9uIG1pbnRUb2tlbnNUb0VyYWx5SW52ZXN0b3JzKCkgb25seU93bmVyIHsKICAgIHJlcXVpcmUoIWVhcmx5SW52ZXN0b3JzTWludGVkVG9rZW5zKTsKICAgIGZvcih1aW50IGkgID0gMDsgaSA8IHByZXNhbGUudG90YWxJbnZlc3RvcnMoKTsgaSsrKSB7CiAgICAgIGFkZHJlc3MgaW52ZXN0b3JBZGRyZXNzID0gcHJlc2FsZS5pbnZlc3RvcnMoaSk7CiAgICAgIHVpbnQgaW52ZXN0ZWQgPSBwcmVzYWxlLmJhbGFuY2VPZihpbnZlc3RvckFkZHJlc3MpOwogICAgICB1aW50IHRva2VucyA9IGludmVzdGVkLm11bCgxIGV0aGVyKS5kaXYocHJpY2UpOwogICAgICB1aW50IGJvbnVzVG9rZW5zID0gdG9rZW5zLm11bChlYXJseUludmVzdG9yc0JvbnVzKS5kaXYocGVyY2VudFJhdGUpOwogICAgICB1aW50IHRva2Vuc1dpdGhCb251cyA9IHRva2Vucy5hZGQoYm9udXNUb2tlbnMpOwogICAgICB0b2tlbi5taW50KHRoaXMsIHRva2Vuc1dpdGhCb251cyk7CiAgICAgIHRva2VuLnRyYW5zZmVyKGludmVzdG9yQWRkcmVzcywgdG9rZW5zV2l0aEJvbnVzKTsKICAgIH0KICAgIGVhcmx5SW52ZXN0b3JzTWludGVkVG9rZW5zID0gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcoKSBwdWJsaWMgd2hlbk5vdFBhdXNlZCBvbmx5T3duZXIgewogICAgdWludCBpc3N1ZWRUb2tlblN1cHBseSA9IHRva2VuLnRvdGFsU3VwcGx5KCk7CiAgICB1aW50IHN1bW1hcnlUb2tlbnNQZXJjZW50ID0gYm91bnR5VG9rZW5zUGVyY2VudCArIGZvdW5kZXJzVG9rZW5zUGVyY2VudDsKICAgIHVpbnQgc3VtbWFyeUZvdW5kZXJzVG9rZW5zID0gaXNzdWVkVG9rZW5TdXBwbHkubXVsKHN1bW1hcnlUb2tlbnNQZXJjZW50KS5kaXYocGVyY2VudFJhdGUgLSBzdW1tYXJ5VG9rZW5zUGVyY2VudCk7CiAgICB1aW50IHRvdGFsU3VwcGx5ID0gc3VtbWFyeUZvdW5kZXJzVG9rZW5zICsgaXNzdWVkVG9rZW5TdXBwbHk7CiAgICB1aW50IGZvdW5kZXJzVG9rZW5zID0gdG90YWxTdXBwbHkubXVsKGZvdW5kZXJzVG9rZW5zUGVyY2VudCkuZGl2KHBlcmNlbnRSYXRlKTsKICAgIHVpbnQgYm91bnR5VG9rZW5zID0gdG90YWxTdXBwbHkubXVsKGJvdW50eVRva2Vuc1BlcmNlbnQpLmRpdihwZXJjZW50UmF0ZSk7CiAgICB0b2tlbi5taW50KHRoaXMsIGZvdW5kZXJzVG9rZW5zKTsKICAgIHRva2VuLnRyYW5zZmVyKGZvdW5kZXJzVG9rZW5zV2FsbGV0LCBmb3VuZGVyc1Rva2Vucyk7CiAgICB0b2tlbi5taW50KHRoaXMsIGJvdW50eVRva2Vucyk7CiAgICB0b2tlbi50cmFuc2Zlcihib3VudHlUb2tlbnNXYWxsZXQsIGJvdW50eVRva2Vucyk7CiAgICB0b2tlbi5maW5pc2hNaW50aW5nKCk7CiAgICB0b2tlbi5hbGxvd1RyYW5zZmVyKCk7CiAgICB0b2tlbi50cmFuc2Zlck93bmVyc2hpcChvd25lcik7CiAgfQoKICBmdW5jdGlvbigpIGV4dGVybmFsIHBheWFibGUgewogICAgY3JlYXRlVG9rZW5zKCk7CiAgfQoKICBmdW5jdGlvbiByZXRyaWV2ZVRva2VucyhhZGRyZXNzIGFub3RoZXJUb2tlbikgcHVibGljIG9ubHlPd25lciB7CiAgICBFUkMyMCBhbGllblRva2VuID0gRVJDMjAoYW5vdGhlclRva2VuKTsKICAgIGFsaWVuVG9rZW4udHJhbnNmZXIobXVsdGlzaWdXYWxsZXQsIHRva2VuLmJhbGFuY2VPZih0aGlzKSk7CiAgfQoKfQ=='.
	

]
