Class {
	#name : #SRT6ccb56947ea1d6efdc81acfbacd8263ddfa9b202,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT6ccb56947ea1d6efdc81acfbacd8263ddfa9b202 >> base64 [
	^ 'Ly8gUm95YWwgS2luZ2RvbSBDb2luIFRva2VuCi8vIHd3dy5yb3lhbGtpbmdkb21jb2luLmNvbQovLwovLyBSS0MgdG9rZW4gaXMgYSB2aXJ0dWFsIHRva2VuLCBnb3Zlcm5lZCBieSBFUkMyMC1jb21wYXRpYmxlIEV0aGVyZXVtIFNtYXJ0IENvbnRyYWN0IGFuZCBzZWN1cmVkIGJ5IEV0aGVyZXVtIEJsb2NrY2hhaW4KLy8gVGhlIG9mZmljaWFsIHdlYnNpdGUgaXMgaHR0cHM6Ly93d3cucm95YWxraW5nZG9tY29pbi5jb20vCi8vCi8vIFRoZSB1aW50cyBhcmUgYWxsIGluIHdlaSBhbmQgYXR0byB0b2tlbnMgKCoxMF4tMTgpCgovLyBUaGUgY29udHJhY3QgY29kZSBpdHNlbGYsIGFzIHVzdWFsLCBpcyBhdCB0aGUgZW5kLCBhZnRlciBhbGwgdGhlIGNvbm5lY3RlZCBsaWJyYXJpZXMKCnByYWdtYSBzb2xpZGl0eSBeMC40LjExOwoKLyoqCiAqIE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiID4gMCk7CiAgICB1aW50IGMgPSBhIC8gYjsKICAgIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgYXNzZXJ0aW9uKSBpbnRlcm5hbCB7CiAgICBpZiAoIWFzc2VydGlvbikgewogICAgICB0aHJvdzsKICAgIH0KICB9Cn0KCgovKgogKiBFUkMyMEJhc2ljCiAqIFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKfQoKCgoKLyoKICogQmFzaWMgdG9rZW4KICogQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMKICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBiYWxhbmNlczsKCiAgLyoKICAgKiBGaXggZm9yIHRoZSBFUkMyMCBzaG9ydCBhZGRyZXNzIGF0dGFjayAgCiAgICovCiAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgc2l6ZSkgewogICAgIGlmKG1zZy5kYXRhLmxlbmd0aCA8IHNpemUgKyA0KSB7CiAgICAgICB0aHJvdzsKICAgICB9CiAgICAgXzsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seVBheWxvYWRTaXplKDIgKiAzMikgewogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KICAKfQoKCgoKLyoKICogRVJDMjAgaW50ZXJmYWNlCiAqIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50IHZhbHVlKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsKfQoKCgoKLyoqCiAqIFN0YW5kYXJkIEVSQzIwIHRva2VuCiAqCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6CiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBCYXNpY1Rva2VuLCBFUkMyMCB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgewogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgIC8vIGlmIChfdmFsdWUgPiBfYWxsb3dhbmNlKSB0aHJvdzsKCiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKfQoKCi8qCiAqIE93bmFibGUKICoKICogQmFzZSBjb250cmFjdCB3aXRoIGFuIG93bmVyLgogKiBQcm92aWRlcyBvbmx5T3duZXIgbW9kaWZpZXIsIHdoaWNoIHByZXZlbnRzIGZ1bmN0aW9uIGZyb20gcnVubmluZyBpZiBpdCBpcyBjYWxsZWQgYnkgYW55b25lIG90aGVyIHRoYW4gdGhlIG93bmVyLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgewogICAgICB0aHJvdzsKICAgIH0KICAgIF87CiAgfQoKICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9Cgp9CgoKY29udHJhY3QgUktDVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgT3duYWJsZSB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgICAvLy0tLS0tLS0tLS0tLS0tICAgSW5mbyBmb3IgRVJDMjAgZXhwbG9yZXJzICAtLS0tLS0tLS0tLS0tLS0tLS8vCiAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAiUm95YWwgS2luZ2RvbSBDb2luIjsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIlJLQyI7CiAgICB1aW50IHB1YmxpYyBkZWNpbWFscyA9IDE4OwoKICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgQ29uc3RhbnRzICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KICAgIGJvb2wgcHVibGljIGNvbnN0YW50IFRFU1RfTU9ERSA9IGZhbHNlOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgYXR0byA9IDEwMDAwMDAwMDAwMDAwMDAwMDA7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBJTklUSUFMX1NVUFBMWSA9IDE1MDAwMDAwICogYXR0bzsgLy8gMTUgbWxuIFJLQy4gSW1wb3NzaWJsZSB0byBtaW50IG1vcmUgdGhhbiB0aGlzCiAgICBhZGRyZXNzIHB1YmxpYyB0ZWFtV2FsbGV0ID0gMHhiNzlGOTYzZjIwMGY4NUQwZTNkRDYwQzgyQUJCOEY4MGI1ODY5Q0I5OwogICAgLy8gTWFkZSB1cCBJQ08gYWRkcmVzcyAoZGVzaWduYXRpbmcgdGhlIHRva2VuIHBvb2wgcmVzZXJ2ZWQgZm9yIElDTywgbm8gb25lIGhhcyBhY2Nlc3MgdG8gaXQpCiAgICBhZGRyZXNzIHB1YmxpYyBpY29fYWRkcmVzcyA9IDB4MWMwMUMwMUMwMUMwMWMwMUMwMWMwMWMwMWMwMUMwMWMwMWMwMWMwMTsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IElDT19TVEFSVF9USU1FID0gMTQ5OTgxMDQwMDsKCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIFZhcmlhYmxlcyAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vCiAgICB1aW50IHB1YmxpYyBjdXJyZW50X3N1cHBseSA9IDA7IC8vIEhvbGRpbmcgdGhlIG51bWJlciBvZiBhbGwgdGhlIGNvaW5zIGluIGV4aXN0ZW5jZQogICAgdWludCBwdWJsaWMgaWNvX3N0YXJ0aW5nX3N1cHBseSA9IDA7IC8vIEhvdyBtYW55IGF0dG8gdG9rZW5zICp3ZXJlKiBhdmFpbGFibGUgZm9yIHNhbGUgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgSUNPCiAgICB1aW50IHB1YmxpYyBjdXJyZW50X3ByaWNlX2F0dG9fdG9rZW5zX3Blcl93ZWkgPSAwOyAvLyBIb2xkaW5nIGN1cnJlbnQgcHJpY2UgKGRldGVybWluZWQgYnkgdGhlIGFsZ29yaXRobSBpbiBidXkoKSkKCiAgICAvLy0tLS0tLS0tLS0tLS0gICBGbGFncyBkZXNjcmliaW5nIElDTyBzdGFnZXMgICAtLS0tLS0tLS0tLS0tLS8vCiAgICBib29sIHB1YmxpYyBwcmVTb2xkU2hhcmVzRGlzdHJpYnV0ZWQgPSBmYWxzZTsgLy8gUHJldmVudHMgYWNjaWRlbnRhbCByZS1kaXN0cmlidXRpb24gb2Ygc2hhcmVzCiAgICBib29sIHB1YmxpYyBpc0lDT09wZW5lZCA9IGZhbHNlOwogICAgYm9vbCBwdWJsaWMgaXNJQ09DbG9zZWQgPSBmYWxzZTsKICAgIC8vIDMgc3RhZ2VzOgogICAgLy8gQ29udHJhY3QgaGFzIGp1c3QgYmVlbiBkZXBsb3llZCBhbmQgaW5pdGlhbGl6ZWQuIGlzSUNPT3BlbmVkID09IGZhbHNlLCBpc0lDT0Nsb3NlZCA9PSBmYWxzZQogICAgLy8gSUNPIGhhcyBzdGFydGVkLCBub3cgYW55Ym9keSBjYW4gYnV5KCkuIGlzSUNPT3BlbmVkID09IHRydWUsIGlzSUNPQ2xvc2VkID09IGZhbHNlCiAgICAvLyBJQ08gaGFzIGZpbmlzaGVkLCBub3cgdGhlIHRlYW0gY2FuIHJlY2VpdmUgdGhlIGV0aGVyLiBpc0lDT09wZW5lZCA9PSBmYWxzZSwgaXNJQ09DbG9zZWQgPT0gdHJ1ZQoKICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgUHJlbWl1bXMgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KICAgIHVpbnRbXSBwdWJsaWMgcHJlbWl1bVBhY2tzOwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIHByZW1pdW1QYWNrc1BhaWQ7CgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgRXZlbnRzICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLwogICAgZXZlbnQgSUNPT3BlbmVkKCk7CiAgICBldmVudCBJQ09DbG9zZWQoKTsKICAgIGV2ZW50IFByaWNlQ2hhbmdlZCh1aW50IG9sZF9wcmljZSwgdWludCBuZXdfcHJpY2UpOwogICAgZXZlbnQgU3VwcGx5Q2hhbmdlZCh1aW50IHN1cHBseSwgdWludCBvbGRfc3VwcGx5KTsKICAgIGV2ZW50IFJLQ0FjcXVpcmVkKGFkZHJlc3MgYWNjb3VudCwgdWludCBhbW91bnRfaW5fd2VpLCB1aW50IGFtb3VudF9pbl9ya2MpOwoKICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgoKICAgIC8vIENvbnN0cnVjdG9yCiAgICBmdW5jdGlvbiBSS0NUb2tlbigpIHsKICAgICAgICAvLyBTb21lIHBlcmNlbnRhZ2Ugb2YgdGhlIHRva2VucyBpcyBhbHJlYWR5IHJlc2VydmVkIGJ5IGVhcmx5IGVtcGxveWVlcyBhbmQgaW52ZXN0b3JzCiAgICAgICAgLy8gSGVyZSB3ZSdyZSBpbml0aWFsaXppbmcgdGhlaXIgYmFsYW5jZXMKICAgICAgICBkaXN0cmlidXRlUHJlU29sZFNoYXJlcygpOwoKICAgICAgICAvLyBTdGFydGluZyBwcmljZQogICAgICAgIGN1cnJlbnRfcHJpY2VfYXR0b190b2tlbnNfcGVyX3dlaSA9IGNhbGN1bGF0ZUN1cnJlbnRQcmljZSgxKTsKCiAgICAgICAgLy8gU29tZSBvdGhlciBpbml0aWFsaXphdGlvbnMKICAgICAgICBwcmVtaXVtUGFja3MubGVuZ3RoID0gMDsKICAgIH0KCiAgICAvLyBTZW5kaW5nIGV0aGVyIGRpcmVjdGx5IHRvIHRoZSBjb250cmFjdCBpbnZva2VzIGJ1eSgpIGFuZCBhc3NpZ25zIHRva2VucyB0byB0aGUgc2VuZGVyCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsKICAgICAgICBidXkoKTsKICAgIH0KCiAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICAvLyBCdXkgdG9rZW4gYnkgc2VuZGluZyBldGhlciBoZXJlCiAgICAvLwogICAgLy8gUHJpY2UgaXMgYmVpbmcgZGV0ZXJtaW5lZCBieSB0aGUgYWxnb3JpdGhtIGluIHJlY2FsY3VsYXRlUHJpY2UoKQogICAgLy8gWW91IGNhbiBhbHNvIHNlbmQgdGhlIGV0aGVyIGRpcmVjdGx5IHRvIHRoZSBjb250cmFjdCBhZGRyZXNzCiAgICBmdW5jdGlvbiBidXkoKSBwYXlhYmxlIHsKICAgICAgICBpZiAobXNnLnZhbHVlID09IDApIHRocm93OyAvLyBubyB0b2tlbnMgZm9yIHlvdQoKICAgICAgICAvLyBPbmx5IHdvcmtzIGluIHRoZSBJQ08gc3RhZ2UsIGFmdGVyIHRoYXQgdGhlIHRva2VuIGlzIGdvaW5nIHRvIGJlIHRyYWRlZCBvbiB0aGUgZXhjaGFuZ2VzCiAgICAgICAgaWYgKCFpc0lDT09wZW5lZCkgdGhyb3c7CiAgICAgICAgaWYgKGlzSUNPQ2xvc2VkKSB0aHJvdzsKCiAgICAgICAgLy8gRGVjaWRpbmcgaG93IG1hbnkgdG9rZW5zIGNhbiBiZSBib3VnaHQgd2l0aCB0aGUgZXRoZXIgcmVjZWl2ZWQKICAgICAgICB1aW50IHRva2VucyA9IGdldEF0dG9Ub2tlbnNBbW91bnRQZXJXZWlJbnRlcm5hbChtc2cudmFsdWUpOwoKICAgICAgICAvLyBEb24ndCBhbGxvdyB0byBidXkgbW9yZSB0aGFuIDElIHBlciB0cmFuc2FjdGlvbiAoc2VjdXJlcyBmcm9tIGh1Z2UgaW52ZXN0b3JzIHN3YWxsaW5nIHRoZSB3aG9sZSB0aGluZyBpbiAxIHNlY29uZCkKICAgICAgICB1aW50IGFsbG93ZWRJbk9uZVRyYW5zYWN0aW9uID0gY3VycmVudF9zdXBwbHkgLyAxMDA7CiAgICAgICAgaWYgKHRva2VucyA+IGFsbG93ZWRJbk9uZVRyYW5zYWN0aW9uKSB0aHJvdzsKCiAgICAgICAgLy8gSnVzdCBpbiBjYXNlCiAgICAgICAgaWYgKHRva2VucyA+IGJhbGFuY2VzW2ljb19hZGRyZXNzXSkgdGhyb3c7CgogICAgICAgIC8vIFRyYW5zZmVyIGZyb20gdGhlIElDTyBwb29sCiAgICAgICAgYmFsYW5jZXNbaWNvX2FkZHJlc3NdID0gYmFsYW5jZXNbaWNvX2FkZHJlc3NdLnN1Yih0b2tlbnMpOyAvLyBpZiBub3QgZW5vdWdoLCB3aWxsIHRocm93CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQodG9rZW5zKTsKCiAgICAgICAgLy8gS2ljayB0aGUgcHJpY2UgY2hhbmdpbmcgYWxnbwogICAgICAgIHVpbnQgb2xkX3ByaWNlID0gY3VycmVudF9wcmljZV9hdHRvX3Rva2Vuc19wZXJfd2VpOwogICAgICAgIGN1cnJlbnRfcHJpY2VfYXR0b190b2tlbnNfcGVyX3dlaSA9IGNhbGN1bGF0ZUN1cnJlbnRQcmljZShnZXRBdHRvVG9rZW5zQm91Z2h0SW5JQ08oKSk7CiAgICAgICAgaWYgKGN1cnJlbnRfcHJpY2VfYXR0b190b2tlbnNfcGVyX3dlaSA9PSAwKSBjdXJyZW50X3ByaWNlX2F0dG9fdG9rZW5zX3Blcl93ZWkgPSAxOyAvLyBpbiBjYXNlIGl0IGlzIHRvbyBzbWFsbCB0aGF0IGl0IGdldHMgcm91bmRlZCB0byB6ZXJvCiAgICAgICAgaWYgKGN1cnJlbnRfcHJpY2VfYXR0b190b2tlbnNfcGVyX3dlaSA+IG9sZF9wcmljZSkgY3VycmVudF9wcmljZV9hdHRvX3Rva2Vuc19wZXJfd2VpID0gb2xkX3ByaWNlOyAvLyBpbiBjYXNlIHNvbWUgd2VpcmQgb3ZlcmZsb3cgaGFwcGVucwoKICAgICAgICAvLyBCcm9hZGNhc3RpbmcgcHJpY2UgY2hhbmdlIGV2ZW50CiAgICAgICAgaWYgKG9sZF9wcmljZSAhPSBjdXJyZW50X3ByaWNlX2F0dG9fdG9rZW5zX3Blcl93ZWkpIFByaWNlQ2hhbmdlZChvbGRfcHJpY2UsIGN1cnJlbnRfcHJpY2VfYXR0b190b2tlbnNfcGVyX3dlaSk7CgogICAgICAgIC8vIEJyb2FkY2FzdGluZyB0aGUgYnV5aW5nIGV2ZW50CiAgICAgICAgUktDQWNxdWlyZWQobXNnLnNlbmRlciwgbXNnLnZhbHVlLCB0b2tlbnMpOwogICAgfQoKICAgIC8vIEZvcm11bGEgZm9yIHRoZSBkeW5hbWljIHByaWNlIGNoYW5nZSBhbGdvcml0aG0KICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZUN1cnJlbnRQcmljZSh1aW50IGF0dG9Ub2tlbnNCb3VnaHQpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVzdWx0KSB7CiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cud29sZnJhbWFscGhhLmNvbS9pbnB1dC8/aT1mKHgpKyUzRCszOTU1MDAwMDArJTJGKyh4KyUyQisxNTAwMDApKy0rMTM2CiAgICAgICAgcmV0dXJuICgzOTU1MDAwMDAgLyAoKGF0dG9Ub2tlbnNCb3VnaHQgLyBhdHRvKSArIDE1MDAwMCkpLnN1YigxMzYpOyAvLyBtaXhpbmcgc2FmZSBhbmQgdXN1YWwgbWF0aCBoZXJlIGJlY2F1c2UgdGhlIGRpdmlzaW9uIHdpbGwgdGhyb3cgb24gaW5jb25zaXN0ZW5jeQogICAgfQoKICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgoKICAgIC8vIEZ1bmN0aW9ucyBmb3IgdGhlIGNvbnRyYWN0IG93bmVyCgogICAgZnVuY3Rpb24gb3BlbklDTygpIG9ubHlPd25lciB7CiAgICAgICAgaWYgKGlzSUNPT3BlbmVkKSB0aHJvdzsKICAgICAgICBpZiAoaXNJQ09DbG9zZWQpIHRocm93OwogICAgICAgIGlzSUNPT3BlbmVkID0gdHJ1ZTsKCiAgICAgICAgSUNPT3BlbmVkKCk7CiAgICB9CiAgICBmdW5jdGlvbiBjbG9zZUlDTygpIG9ubHlPd25lciB7CiAgICAgICAgaWYgKGlzSUNPQ2xvc2VkKSB0aHJvdzsKICAgICAgICBpZiAoIWlzSUNPT3BlbmVkKSB0aHJvdzsKCiAgICAgICAgaXNJQ09PcGVuZWQgPSBmYWxzZTsKICAgICAgICBpc0lDT0Nsb3NlZCA9IHRydWU7CgogICAgICAgIC8vIFJlZGlzdHJpYnV0ZSBJQ08gVG9rZW5zIHRoYXQgd2VyZSBub3QgYm91Z2h0IGFzIHRoZSBmaXJzdCBwcmVtaXVtcwogICAgICAgIHByZW1pdW1QYWNrcy5sZW5ndGggPSAxOwogICAgICAgIHByZW1pdW1QYWNrc1swXSA9IGJhbGFuY2VzW2ljb19hZGRyZXNzXTsKICAgICAgICBiYWxhbmNlc1tpY29fYWRkcmVzc10gPSAwOwoKICAgICAgICBJQ09DbG9zZWQoKTsKICAgIH0KICAgIGZ1bmN0aW9uIHB1bGxFdGhlckZyb21Db250cmFjdCgpIG9ubHlPd25lciB7CiAgICAgICAgLy8gT25seSB3aGVuIElDTyBpcyBjbG9zZWQKICAgICAgICBpZiAoIWlzSUNPQ2xvc2VkKSB0aHJvdzsKCiAgICAgICAgaWYgKCF0ZWFtV2FsbGV0LnNlbmQodGhpcy5iYWxhbmNlKSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICB9CgogICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCgogICAgLy8gU29tZSBwZXJjZW50YWdlIG9mIHRoZSB0b2tlbnMgaXMgYWxyZWFkeSByZXNlcnZlZCBieSBlYXJseSBlbXBsb3llZXMgYW5kIGludmVzdG9ycwogICAgLy8gSGVyZSB3ZSdyZSBpbml0aWFsaXppbmcgdGhlaXIgYmFsYW5jZXMKICAgIGZ1bmN0aW9uIGRpc3RyaWJ1dGVQcmVTb2xkU2hhcmVzKCkgb25seU93bmVyIHsKICAgICAgICAvLyBNYWtpbmcgaXQgaW1wb3NzaWJsZSB0byBjYWxsIHRoaXMgZnVuY3Rpb24gdHdpY2UKICAgICAgICBpZiAocHJlU29sZFNoYXJlc0Rpc3RyaWJ1dGVkKSB0aHJvdzsKICAgICAgICBwcmVTb2xkU2hhcmVzRGlzdHJpYnV0ZWQgPSB0cnVlOwoKICAgICAgICAvLyBWYWx1ZXMgYXJlIGluIGF0dG8gdG9rZW5zCiAgICAgICAgYmFsYW5jZXNbMHg3QTNjODY5NjAzRTI4YjAyNDJjMTI5NDQwYzlkRDk3RjhBNWJFZTgwXSA9IDc1MDg4MTEgKiBhdHRvOwogICAgICAgIGJhbGFuY2VzWzB4MjRhNTQxZEVBZTBGYzg3Qzk5MEEyMDhERTI4YTI5M2ZiMkE5ODJkOV0gPSA0MDI1NzEyICogYXR0bzsKICAgICAgICBiYWxhbmNlc1sweEVjRjg0MzQ1OGU3NjA1MkU2MzYzZkZiNzhDNzUzNUNkODdBQTNBQjJdID0gMzAwMjc1ICogYXR0bzsKICAgICAgICBiYWxhbmNlc1sweDk0Nzk2M0VEMmRhNzUwYTA3MTJBRTBCRjk2RTA4Qzc5ODgxM0YyNzddID0gMTUwMDAwICogYXR0bzsKICAgICAgICBiYWxhbmNlc1sweDgyQmM4NDUyQWI3NmZCQTQ0NmUxNmI1N0MwODBGNTI1OEY1NTc3MzRdID0gMTUwMDAwICogYXR0bzsKICAgICAgICBiYWxhbmNlc1sweDA5NTlFZDQ4ZDU1ZTU4MEJCNThkZjZFNWVlMDFCQWE3ODdkODA4NDhdID0gOTAwMDAgKiBhdHRvOwogICAgICAgIGJhbGFuY2VzWzB4NTMwQTgwMTZmQjVCM2Q3QTBGOTI5MTBiNDgxNGUzODM4MzVCZDUxRV0gPSA3NTAwMCAqIGF0dG87CiAgICAgICAgYmFsYW5jZXNbMHhDM2U5MzREM0FERTBBYjlGNjFGODI0YTlhODI0NDYyYzc5MGU0N0IwXSA9IDIwMiAqIGF0dG87CiAgICAgICAgY3VycmVudF9zdXBwbHkgPSAoNzUwODgxMSArIDQwMjU3MTIgKyAzMDAyNzUgKyAxNTAwMDAgKyAxNTAwMDAgKyA5MDAwMCArIDc1MDAwICsgMjAyKSAqIGF0dG87CgogICAgICAgIC8vIFNlbmRpbmcgdGhlIHJlc3QgdG8gSUNPIHBvb2wKICAgICAgICBiYWxhbmNlc1tpY29fYWRkcmVzc10gPSBJTklUSUFMX1NVUFBMWS5zdWIoY3VycmVudF9zdXBwbHkpOwoKICAgICAgICAvLyBJbml0aWFsaXppbmcgdGhlIHN1cHBseSB2YXJpYWJsZXMKICAgICAgICBpY29fc3RhcnRpbmdfc3VwcGx5ID0gYmFsYW5jZXNbaWNvX2FkZHJlc3NdOwogICAgICAgIGN1cnJlbnRfc3VwcGx5ID0gSU5JVElBTF9TVVBQTFk7CiAgICAgICAgU3VwcGx5Q2hhbmdlZCgwLCBjdXJyZW50X3N1cHBseSk7CiAgICB9CgogICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCgogICAgLy8gU29tZSB1c2VmdWwgZ2V0dGVycyAoYWx0aG91Z2ggeW91IGNhbiBqdXN0IHF1ZXJ5IHRoZSBwdWJsaWMgdmFyaWFibGVzKQoKICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRQcmljZUF0dG9Ub2tlbnNQZXJXZWkoKSBjb25zdGFudCByZXR1cm5zICh1aW50IHJlc3VsdCkgewogICAgICAgIHJldHVybiBjdXJyZW50X3ByaWNlX2F0dG9fdG9rZW5zX3Blcl93ZWk7CiAgICB9CiAgICBmdW5jdGlvbiBnZXRBdHRvVG9rZW5zQW1vdW50UGVyV2VpSW50ZXJuYWwodWludCB2YWx1ZSkgcGF5YWJsZSByZXR1cm5zICh1aW50IHJlc3VsdCkgewogICAgICAgIHJldHVybiB2YWx1ZSAqIGN1cnJlbnRfcHJpY2VfYXR0b190b2tlbnNfcGVyX3dlaTsKICAgIH0KICAgIGZ1bmN0aW9uIGdldEF0dG9Ub2tlbnNBbW91bnRQZXJXZWkodWludCB2YWx1ZSkgY29uc3RhbnQgcmV0dXJucyAodWludCByZXN1bHQpIHsKICAgICAgICByZXR1cm4gdmFsdWUgKiBjdXJyZW50X3ByaWNlX2F0dG9fdG9rZW5zX3Blcl93ZWk7CiAgICB9CiAgICBmdW5jdGlvbiBnZXRTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50IHJlc3VsdCkgewogICAgICAgIHJldHVybiBjdXJyZW50X3N1cHBseTsKICAgIH0KICAgIGZ1bmN0aW9uIGdldEF0dG9Ub2tlbnNMZWZ0Rm9ySUNPKCkgY29uc3RhbnQgcmV0dXJucyAodWludCByZXN1bHQpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbaWNvX2FkZHJlc3NdOwogICAgfQogICAgZnVuY3Rpb24gZ2V0QXR0b1Rva2Vuc0JvdWdodEluSUNPKCkgY29uc3RhbnQgcmV0dXJucyAodWludCByZXN1bHQpIHsKICAgICAgICByZXR1cm4gaWNvX3N0YXJ0aW5nX3N1cHBseSAtIGdldEF0dG9Ub2tlbnNMZWZ0Rm9ySUNPKCk7CiAgICB9CiAgICBmdW5jdGlvbiBnZXRCYWxhbmNlKGFkZHJlc3MgYWRkcikgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW2FkZHJdOwogICAgfQogICAgZnVuY3Rpb24gZ2V0UHJlbWl1bVBhY2sodWludCBpbmRleCkgY29uc3RhbnQgcmV0dXJucyAodWludCBwcmVtaXVtKSB7CiAgICAgICAgcmV0dXJuIHByZW1pdW1QYWNrc1tpbmRleF07CiAgICB9CiAgICBmdW5jdGlvbiBnZXRQcmVtaXVtQ291bnQoKSBjb25zdGFudCByZXR1cm5zICh1aW50IGxlbmd0aCkgewogICAgICAgIHJldHVybiBwcmVtaXVtUGFja3MubGVuZ3RoOwogICAgfQogICAgZnVuY3Rpb24gZ2V0QmFsYW5jZVByZW1pdW1zUGFpZChhZGRyZXNzIGFjY291bnQpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVzdWx0KSB7CiAgICAgICAgcmV0dXJuIHByZW1pdW1QYWNrc1BhaWRbYWNjb3VudF07CiAgICB9CgogICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCgogICAgLy8gUHJlbWl1bXMKCiAgICBmdW5jdGlvbiBzZW5kUHJlbWl1bVBhY2sodWludCBhbW91bnQpIG9ubHlPd25lciBhbGxvd2VkUGF5bWVudHMobXNnLnNlbmRlciwgYW1vdW50KSB7CiAgICAgICAgcHJlbWl1bVBhY2tzLmxlbmd0aCArPSAxOwogICAgICAgIHByZW1pdW1QYWNrc1twcmVtaXVtUGFja3MubGVuZ3RoLTFdID0gYW1vdW50OwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKGFtb3VudCk7IC8vIHdpbGwgdGhyb3cgYW5kIHJldmVydCB0aGUgd2hvbGUgdGhpbmcgaWYgZG9lc24ndCBoYXZlIHRoaXMgYW1vdW50CiAgICB9CgogICAgZnVuY3Rpb24gdXBkYXRlUHJlbWl1bXMoYWRkcmVzcyBhY2NvdW50KSBwcml2YXRlIHsKICAgICAgICBpZiAocHJlbWl1bVBhY2tzLmxlbmd0aCA+IHByZW1pdW1QYWNrc1BhaWRbYWNjb3VudF0pIHsKICAgICAgICAgICAgdWludCBzdGFydFBhY2tJbmRleCA9IHByZW1pdW1QYWNrc1BhaWRbYWNjb3VudF07CiAgICAgICAgICAgIHVpbnQgZmluaXNoUGFja0luZGV4ID0gcHJlbWl1bVBhY2tzLmxlbmd0aCAtIDE7CiAgICAgICAgICAgIGZvcih1aW50IGkgPSBzdGFydFBhY2tJbmRleDsgaSA8PSBmaW5pc2hQYWNrSW5kZXg7IGkrKykgewogICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRfc3VwcGx5ICE9IDApIHsgLy8ganVzdCBpbiBjYXNlCiAgICAgICAgICAgICAgICAgICAgdWludCBvd2luZyA9IGJhbGFuY2VzW2FjY291bnRdICogcHJlbWl1bVBhY2tzW2ldIC8gY3VycmVudF9zdXBwbHk7CiAgICAgICAgICAgICAgICAgICAgYmFsYW5jZXNbYWNjb3VudF0gPSBiYWxhbmNlc1thY2NvdW50XS5hZGQob3dpbmcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHByZW1pdW1QYWNrc1BhaWRbYWNjb3VudF0gPSBwcmVtaXVtUGFja3MubGVuZ3RoOwogICAgICAgIH0KICAgIH0KCiAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICAvLyBPdmVycmlkaW5nIHBheW1lbnQgZnVuY3Rpb25zIHRvIHRha2UgY29udHJvbCBvdmVyIHRoZSBsb2dpYwoKICAgIG1vZGlmaWVyIGFsbG93ZWRQYXltZW50cyhhZGRyZXNzIHBheWVyLCB1aW50IHZhbHVlKSB7CiAgICAgICAgLy8gRG9uJ3QgYWxsb3cgdG8gdHJhbnNmZXIgY29pbnMgdW50aWwgdGhlIElDTyBlbmRzCiAgICAgICAgaWYgKGlzSUNPT3BlbmVkKSB0aHJvdzsKICAgICAgICBpZiAoIWlzSUNPQ2xvc2VkKSB0aHJvdzsKCiAgICAgICAgLy8gTGltaXQgdGhlIHF1aWNrIGR1bXAgcG9zc2liaWxpdHkKICAgICAgICB1aW50IGRpZmYgPSAwOwogICAgICAgIHVpbnQgYWxsb3dlZCA9IDA7CiAgICAgICAgaWYgKGJhbGFuY2VzW3BheWVyXSA+IGN1cnJlbnRfc3VwcGx5IC8gMTAwKSB7IC8vIGZvciBiYWxhbmNlcyA+IDElIG9mIHRvdGFsIHN1cHBseQogICAgICAgICAgICBpZiAoYmxvY2sudGltZXN0YW1wID4gSUNPX1NUQVJUX1RJTUUpIHsKICAgICAgICAgICAgICAgIGRpZmYgPSBibG9jay50aW1lc3RhbXAgLSBJQ09fU1RBUlRfVElNRTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGRpZmYgPSBJQ09fU1RBUlRfVElNRSAtIGJsb2NrLnRpbWVzdGFtcDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYWxsb3dlZCA9IChjdXJyZW50X3N1cHBseSAvIDIwKSAqIChkaWZmIC8gKDYwICogNjAgKiAyNCAqIDMwKSk7IC8vIDUlIHVubG9ja2VkIGV2ZXJ5IG1vbnRoCgogICAgICAgICAgICBpZiAodmFsdWUgPiBhbGxvd2VkKSB0aHJvdzsKICAgICAgICB9CgogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgYWxsb3dlZFBheW1lbnRzKF9mcm9tLCBfdmFsdWUpIHsKICAgICAgICB1cGRhdGVQcmVtaXVtcyhfZnJvbSk7CiAgICAgICAgdXBkYXRlUHJlbWl1bXMoX3RvKTsKICAgICAgICBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seVBheWxvYWRTaXplKDIgKiAzMikgYWxsb3dlZFBheW1lbnRzKG1zZy5zZW5kZXIsIF92YWx1ZSkgewogICAgICAgIHVwZGF0ZVByZW1pdW1zKG1zZy5zZW5kZXIpOwogICAgICAgIHVwZGF0ZVByZW1pdW1zKF90byk7CiAgICAgICAgc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogICAgfQoKfQ=='.
	

]
