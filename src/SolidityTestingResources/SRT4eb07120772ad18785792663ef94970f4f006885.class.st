Class {
	#name : #SRT4eb07120772ad18785792663ef94970f4f006885,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4eb07120772ad18785792663ef94970f4f006885 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7CgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKfQoKCgoKLyoqCiAqIEB0aXRsZSBQYXVzYWJsZQogKiBAZGV2IEJhc2UgY29udHJhY3Qgd2hpY2ggYWxsb3dzIGNoaWxkcmVuIHRvIGltcGxlbWVudCBhbiBlbWVyZ2VuY3kgc3RvcCBtZWNoYW5pc20uCiAqLwpjb250cmFjdCBQYXVzYWJsZSBpcyBPd25hYmxlIHsKICBldmVudCBQYXVzZSgpOwogIGV2ZW50IFVucGF1c2UoKTsKCiAgYm9vbCBwdWJsaWMgcGF1c2VkID0gZmFsc2U7CgoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRvIG1ha2UgYSBmdW5jdGlvbiBjYWxsYWJsZSBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IGlzIG5vdCBwYXVzZWQuCiAgICovCiAgbW9kaWZpZXIgd2hlbk5vdFBhdXNlZCgpIHsKICAgIHJlcXVpcmUoIXBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBNb2RpZmllciB0byBtYWtlIGEgZnVuY3Rpb24gY2FsbGFibGUgb25seSB3aGVuIHRoZSBjb250cmFjdCBpcyBwYXVzZWQuCiAgICovCiAgbW9kaWZpZXIgd2hlblBhdXNlZCgpIHsKICAgIHJlcXVpcmUocGF1c2VkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gcGF1c2UsIHRyaWdnZXJzIHN0b3BwZWQgc3RhdGUKICAgKi8KICBmdW5jdGlvbiBwYXVzZSgpIG9ubHlPd25lciB3aGVuTm90UGF1c2VkIHB1YmxpYyB7CiAgICBwYXVzZWQgPSB0cnVlOwogICAgUGF1c2UoKTsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byB1bnBhdXNlLCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHVucGF1c2UoKSBvbmx5T3duZXIgd2hlblBhdXNlZCBwdWJsaWMgewogICAgcGF1c2VkID0gZmFsc2U7CiAgICBVbnBhdXNlKCk7CiAgfQp9CgoKCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgoKCgoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCgoKCgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgoKCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CgogICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCgoKCgovKioKICogQHRpdGxlIFN0YW5kYXJkIEVSQzIwIHRva2VuCiAqCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIGJhc2ljIHN0YW5kYXJkIHRva2VuLgogKiBAZGV2IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKiBAZGV2IEJhc2VkIG9uIGNvZGUgYnkgRmlyc3RCbG9vZDogaHR0cHM6Ly9naXRodWIuY29tL0ZpcnN0Ymxvb2Rpby90b2tlbi9ibG9iL21hc3Rlci9zbWFydF9jb250cmFjdC9GaXJzdEJsb29kVG9rZW4uc29sCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCiAgICB1aW50MjU2IF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgIC8vIHJlcXVpcmUgKF92YWx1ZSA8PSBfYWxsb3dhbmNlKTsKCiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQXBwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqCiAgICogQmV3YXJlIHRoYXQgY2hhbmdpbmcgYW4gYWxsb3dhbmNlIHdpdGggdGhpcyBtZXRob2QgYnJpbmdzIHRoZSByaXNrIHRoYXQgc29tZW9uZSBtYXkgdXNlIGJvdGggdGhlIG9sZAogICAqIGFuZCB0aGUgbmV3IGFsbG93YW5jZSBieSB1bmZvcnR1bmF0ZSB0cmFuc2FjdGlvbiBvcmRlcmluZy4gT25lIHBvc3NpYmxlIHNvbHV0aW9uIHRvIG1pdGlnYXRlIHRoaXMKICAgKiByYWNlIGNvbmRpdGlvbiBpcyB0byBmaXJzdCByZWR1Y2UgdGhlIHNwZW5kZXIncyBhbGxvd2FuY2UgdG8gMCBhbmQgc2V0IHRoZSBkZXNpcmVkIHZhbHVlIGFmdGVyd2FyZHM6CiAgICogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCiAgLyoqCiAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gaW5jcmVtZW50CiAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgKi8KICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfSBlbHNlIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKfQoKCgovKioKICogQHRpdGxlIEJ1cm5hYmxlIFRva2VuCiAqIEBkZXYgVG9rZW4gdGhhdCBjYW4gYmUgaXJyZXZlcnNpYmx5IGJ1cm5lZCAoZGVzdHJveWVkKS4KICovCmNvbnRyYWN0IEJ1cm5hYmxlVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiB7CgogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgYnVybmVyLCB1aW50MjU2IHZhbHVlKTsKCiAgICAvKioKICAgICAqIEBkZXYgQnVybnMgYSBzcGVjaWZpYyBhbW91bnQgb2YgdG9rZW5zLgogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIGJ1cm5lZC4KICAgICAqLwogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgcHVibGljIHsKICAgICAgICByZXF1aXJlKF92YWx1ZSA+IDApOwoKICAgICAgICBhZGRyZXNzIGJ1cm5lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgYmFsYW5jZXNbYnVybmVyXSA9IGJhbGFuY2VzW2J1cm5lcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5zdWIoX3ZhbHVlKTsKICAgICAgICBCdXJuKGJ1cm5lciwgX3ZhbHVlKTsKICAgIH0KfQoKLy8gQ29hbGljaGFpbiAoaHR0cHM6Ly9jb2FsaWNoYWluLmlvKQoKCgovKioKICogVGhlIENvYWxpY2hhaW4gdG9rZW4gKFpVWikgaGFzIGEgZml4ZWQgc3VwcGx5IGFuZCByZXN0cmljdHMgdGhlIGFiaWxpdHkKICogdG8gdHJhbnNmZXIgdG9rZW5zIHVudGlsIGFmdGVyIElDTyAob3duZXIgY2FsbHMgdGhlIHNob3RzIHdydCB0byB0aGF0KQogKgogKiBPd25lciBtYXkgbGV0IGEgdG9rZW4gc2FsZSBjb250cmFjdCB0cmFuc2ZlciBaVVogdG8gYnV5ZXJzIGR1cmluZyBJQ08gYnkgc2V0IHRoZSBhbW91bnQgdGhyb3VnaCBzZXRDcm93ZHNhbGUgbWV0aG9kCiAqLwpjb250cmFjdCBDb2FsaWNoYWluVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgQnVybmFibGVUb2tlbiwgT3duYWJsZSB7CgogICAgLy8gQ29uc3RhbnRzCiAgICBzdHJpbmcgIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkNvYWxpY2hhaW4gVG9rZW4iOwogICAgc3RyaW5nICBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIlpVWiI7CiAgICB1aW50OCAgIHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDY7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBJTklUSUFMX1NVUFBMWSAgICAgID0gNzcwMDAwMDAwICogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKTsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IENST1dEU0FMRV9BTExPV0FOQ0UgPSA0NjIwMDAwMDAgKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpOwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgQURNSU5fQUxMT1dBTkNFICAgICA9IDMwODAwMDAwMCAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSk7CiAgICAKICAgIC8vIFByb3BlcnRpZXMKICAgIHVpbnQyNTYgcHVibGljIGNyb3dkU2FsZUFsbG93YW5jZTsgICAgICAvLyB0aGUgbnVtYmVyIG9mIHRva2VucyBhdmFpbGFibGUgZm9yIGNyb3dkc2FsZXMKICAgIHVpbnQyNTYgcHVibGljIGFkbWluQWxsb3dhbmNlOyAgICAgICAgICAvLyB0aGUgbnVtYmVyIG9mIHRva2VucyBhdmFpbGFibGUgZm9yIHRoZSBhZG1pbmlzdHJhdG9yCiAgICBhZGRyZXNzIHB1YmxpYyBjcm93ZFNhbGVBZGRyID0gMHhkNzQyOTU1OTUzZjVjNTEwZjIxYTY1YzkwYWI4NzgyM2QwYjEyNjgzOyAgICAgLy8gdGhlIGFkZHJlc3Mgb2YgYSBjcm93ZHNhbGUgY29udHJhY3Qgc2V0IHRvIHNhbGUgWlVaCiAgICBhZGRyZXNzIHB1YmxpYyBhZG1pbkFkZHIgPSAweERlZTZCZDA1NjcyMTEwRjQ0QzkwQjk4NDM4MDg5ZDc3YUQ4MTlGNDg7ICAgICAgICAgLy8gdGhlIGFkZHJlc3Mgb2YgdGhlIHRva2VuIGFkbWluIGFjY291bnQKICAgIGJvb2wgICAgcHVibGljIHRyYW5zZmVyRW5hYmxlZCA9IGZhbHNlOyAvLyBpbmRpY2F0ZXMgaWYgdHJhbnNmZXJyaW5nIHRva2VucyBpcyBlbmFibGVkIG9yIG5vdAoKICAgIC8vIE1vZGlmaWVycwogICAgbW9kaWZpZXIgb25seVdoZW5UcmFuc2ZlckVuYWJsZWQoKSB7CiAgICAgICAgaWYgKCF0cmFuc2ZlckVuYWJsZWQpIHsKICAgICAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGFkbWluQWRkciB8fCBtc2cuc2VuZGVyID09IGNyb3dkU2FsZUFkZHIpOwogICAgICAgIH0KICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGxpc3RlZCBhZGRyZXNzZXMgYXJlIG5vdCB2YWxpZCByZWNpcGllbnRzIG9mIHRva2Vucy4KICAgICAqCiAgICAgKiAweDAgICAgICAgICAgIC0gdGhlIHplcm8gYWRkcmVzcyBpcyBub3QgdmFsaWQKICAgICAqIHRoaXMgICAgICAgICAgLSB0aGUgY29udHJhY3QgaXRzZWxmIHNob3VsZCBub3QgcmVjZWl2ZSB0b2tlbnMKICAgICAqIG93bmVyICAgICAgICAgLSB0aGUgb3duZXIgaGFzIGFsbCB0aGUgaW5pdGlhbCB0b2tlbnMsIGJ1dCBjYW5ub3QgcmVjZWl2ZSBhbnkgYmFjawogICAgICogYWRtaW5BZGRyICAgICAtIHRoZSBhZG1pbiBoYXMgYW4gYWxsb3dhbmNlIG9mIHRva2VucyB0byB0cmFuc2ZlciwgYnV0IGRvZXMgbm90IHJlY2VpdmUgYW55CiAgICAgKiBjcm93ZFNhbGVBZGRyIC0gdGhlIGNyb3dkc2FsZSBoYXMgYW4gYWxsb3dhbmNlIG9mIHRva2VucyB0byB0cmFuc2ZlciwgYnV0IGRvZXMgbm90IHJlY2VpdmUgYW55CiAgICAgKi8KICAgIG1vZGlmaWVyIHZhbGlkRGVzdGluYXRpb24oYWRkcmVzcyBfdG8pIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDB4MCkpOwogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3ModGhpcykpOwogICAgICAgIHJlcXVpcmUoX3RvICE9IG93bmVyKTsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKGFkbWluQWRkcikpOwogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoY3Jvd2RTYWxlQWRkcikpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3RvciAtIGluc3RhbnRpYXRlcyB0b2tlbiBzdXBwbHkgYW5kIGFsbG9jYXRlcyBiYWxhbmFjZSBvZgogICAgICogdG8gdGhlIG93bmVyIChtc2cuc2VuZGVyKS4KICAgICAqLwogICAgZnVuY3Rpb24gQ29hbGljaGFpblRva2VuKCkgewogICAgICAgIC8vIHRoZSBvd25lciBpcyBhIGN1c3RvZGlhbiBvZiB0b2tlbnMgdGhhdCBjYW4KICAgICAgICAvLyBnaXZlIGFuIGFsbG93YW5jZSBvZiB0b2tlbnMgZm9yIGNyb3dkc2FsZXMKICAgICAgICAvLyBvciB0byB0aGUgYWRtaW4sIGJ1dCBjYW5ub3QgaXRzZWxmIHRyYW5zZmVyCiAgICAgICAgLy8gdG9rZW5zOyBoZW5jZSwgdGhpcyByZXF1aXJlbWVudAogICAgICAgIC8vcmVxdWlyZShtc2cuc2VuZGVyICE9IF9hZG1pbik7ICAgICAgICAgICAgICAgIAoKICAgICAgICB0b3RhbFN1cHBseSA9IElOSVRJQUxfU1VQUExZOwogICAgICAgIGNyb3dkU2FsZUFsbG93YW5jZSA9IENST1dEU0FMRV9BTExPV0FOQ0U7CiAgICAgICAgYWRtaW5BbGxvd2FuY2UgPSBBRE1JTl9BTExPV0FOQ0U7CgogICAgICAgIC8vIG1pbnQgYWxsIHRva2VucwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gdG90YWxTdXBwbHk7CiAgICAgICAgVHJhbnNmZXIoYWRkcmVzcygweDApLCBtc2cuc2VuZGVyLCB0b3RhbFN1cHBseSk7CgogICAgICAgIC8vYWRtaW5BZGRyID0gb3duZXI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIGFwcHJvdmUoYWRtaW5BZGRyLCBhZG1pbkFsbG93YW5jZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBBc3NvY2lhdGVzIHRoaXMgdG9rZW4gd2l0aCBhIGN1cnJlbnQgY3Jvd2RzYWxlLCBnaXZpbmcgdGhlIGNyb3dkc2FsZQogICAgICogYW4gYWxsb3dhbmNlIG9mIHRva2VucyBmcm9tIHRoZSBjcm93ZHNhbGUgc3VwcGx5LiBUaGlzIGdpdmVzIHRoZQogICAgICogY3Jvd2RzYWxlIHRoZSBhYmlsaXR5IHRvIGNhbGwgdHJhbnNmZXJGcm9tIHRvIHRyYW5zZmVyIHRva2VucyB0bwogICAgICogd2hvbWV2ZXIgaGFzIHB1cmNoYXNlZCB0aGVtLgogICAgICoKICAgICAqIE5vdGUgdGhhdCBpZiBfYW1vdW50Rm9yU2FsZSBpcyAwLCB0aGVuIGl0IGlzIGFzc3VtZWQgdGhhdCB0aGUgZnVsbAogICAgICogcmVtYWluaW5nIGNyb3dkc2FsZSBzdXBwbHkgaXMgbWFkZSBhdmFpbGFibGUgdG8gdGhlIGNyb3dkc2FsZS4KICAgICAqCiAgICAgKiBAcGFyYW0gX2Nyb3dkU2FsZUFkZHIgVGhlIGFkZHJlc3Mgb2YgYSBjcm93ZHNhbGUgY29udHJhY3QgdGhhdCB3aWxsIHNlbGwgdGhpcyB0b2tlbgogICAgICogQHBhcmFtIF9hbW91bnRGb3JTYWxlIFRoZSBzdXBwbHkgb2YgdG9rZW5zIHByb3ZpZGVkIHRvIHRoZSBjcm93ZHNhbGUKICAgICAqLwogICAgZnVuY3Rpb24gc2V0Q3Jvd2RzYWxlKGFkZHJlc3MgX2Nyb3dkU2FsZUFkZHIsIHVpbnQyNTYgX2Ftb3VudEZvclNhbGUpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZSghdHJhbnNmZXJFbmFibGVkKTsKICAgICAgICByZXF1aXJlKF9hbW91bnRGb3JTYWxlIDw9IGNyb3dkU2FsZUFsbG93YW5jZSk7CgogICAgICAgIC8vIGlmIDAsIHRoZW4gZnVsbCBhdmFpbGFibGUgY3Jvd2RzYWxlIHN1cHBseSBpcyBhc3N1bWVkCiAgICAgICAgdWludCBhbW91bnQgPSAoX2Ftb3VudEZvclNhbGUgPT0gMCkgPyBjcm93ZFNhbGVBbGxvd2FuY2UgOiBfYW1vdW50Rm9yU2FsZTsKCiAgICAgICAgLy8gQ2xlYXIgYWxsb3dhbmNlIG9mIG9sZCwgYW5kIHNldCBhbGxvd2FuY2Ugb2YgbmV3CiAgICAgICAgYXBwcm92ZShjcm93ZFNhbGVBZGRyLCAwKTsKICAgICAgICBhcHByb3ZlKF9jcm93ZFNhbGVBZGRyLCBhbW91bnQpOwoKICAgICAgICBjcm93ZFNhbGVBZGRyID0gX2Nyb3dkU2FsZUFkZHI7CiAgICB9CgogICAgLyoqCiAgICAgKiBFbmFibGVzIHRoZSBhYmlsaXR5IG9mIGFueW9uZSB0byB0cmFuc2ZlciB0aGVpciB0b2tlbnMuIFRoaXMgY2FuCiAgICAgKiBvbmx5IGJlIGNhbGxlZCBieSB0aGUgdG9rZW4gb3duZXIuIE9uY2UgZW5hYmxlZCwgaXQgaXMgbm90CiAgICAgKiBwb3NzaWJsZSB0byBkaXNhYmxlIHRyYW5zZmVycy4KICAgICAqLwogICAgZnVuY3Rpb24gZW5hYmxlVHJhbnNmZXIoKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIHRyYW5zZmVyRW5hYmxlZCA9IHRydWU7CiAgICAgICAgYXBwcm92ZShjcm93ZFNhbGVBZGRyLCAwKTsKICAgICAgICBhcHByb3ZlKGFkbWluQWRkciwgMCk7CiAgICAgICAgY3Jvd2RTYWxlQWxsb3dhbmNlID0gMDsKICAgICAgICBhZG1pbkFsbG93YW5jZSA9IDA7CiAgICB9CgogICAgLyoqCiAgICAgKiBPdmVycmlkZXMgRVJDMjAgdHJhbnNmZXIgZnVuY3Rpb24gd2l0aCBtb2RpZmllciB0aGF0IHByZXZlbnRzIHRoZQogICAgICogYWJpbGl0eSB0byB0cmFuc2ZlciB0b2tlbnMgdW50aWwgYWZ0ZXIgdHJhbnNmZXJzIGhhdmUgYmVlbiBlbmFibGVkLgogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyBvbmx5V2hlblRyYW5zZmVyRW5hYmxlZCB2YWxpZERlc3RpbmF0aW9uKF90bykgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBPdmVycmlkZXMgRVJDMjAgdHJhbnNmZXJGcm9tIGZ1bmN0aW9uIHdpdGggbW9kaWZpZXIgdGhhdCBwcmV2ZW50cyB0aGUKICAgICAqIGFiaWxpdHkgdG8gdHJhbnNmZXIgdG9rZW5zIHVudGlsIGFmdGVyIHRyYW5zZmVycyBoYXZlIGJlZW4gZW5hYmxlZC4KICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIG9ubHlXaGVuVHJhbnNmZXJFbmFibGVkIHZhbGlkRGVzdGluYXRpb24oX3RvKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgYm9vbCByZXN1bHQgPSBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgICAgIGlmIChtc2cuc2VuZGVyID09IGNyb3dkU2FsZUFkZHIpCiAgICAgICAgICAgICAgICBjcm93ZFNhbGVBbGxvd2FuY2UgPSBjcm93ZFNhbGVBbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICAgICAgICAgIGlmIChtc2cuc2VuZGVyID09IGFkbWluQWRkcikKICAgICAgICAgICAgICAgIGFkbWluQWxsb3dhbmNlID0gYWRtaW5BbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBPdmVycmlkZXMgdGhlIGJ1cm4gZnVuY3Rpb24gc28gdGhhdCBpdCBjYW5ub3QgYmUgY2FsbGVkIHVudGlsIGFmdGVyCiAgICAgKiB0cmFuc2ZlcnMgaGF2ZSBiZWVuIGVuYWJsZWQuCiAgICAgKgogICAgICogQHBhcmFtIF92YWx1ZSAgICBUaGUgYW1vdW50IG9mIHRva2VucyB0byBidXJuIGluIFpVWgogICAgICovCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUodHJhbnNmZXJFbmFibGVkIHx8IG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKTsKICAgICAgICBzdXBlci5idXJuKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgYWRkcmVzcygweDApLCBfdmFsdWUpOwogICAgfQp9'.
	

]
