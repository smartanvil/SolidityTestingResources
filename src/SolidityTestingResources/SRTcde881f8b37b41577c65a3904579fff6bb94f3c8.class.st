Class {
	#name : #SRTcde881f8b37b41577c65a3904579fff6bb94f3c8,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTcde881f8b37b41577c65a3904579fff6bb94f3c8 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgovKiBLaW5nIG9mIHRoZSBIaWxsLCBidXQgd2l0aCBhIHR3aXN0CgpUbyB3aXRoIHRoZSBwb3QsIHlvdSBtdXN0IG9idGFpbiAxIG1pbGxpb24gcG9pbnRzLgpZb3Ugb2J0YWluIHBvaW50cyBieSBiZWNvbWluZyBhbmQgc3RheWluZyB0aGUgS2luZy4KVG8gYmVjb21lIHRoZSBLaW5nLCB5b3UgbXVzdCBwYXkgMSUgb2YgdGhlIHBvdC4KQXMgdGhlIEtpbmcsIHlvdSBlYXJuIChtaW51dGVzKV4yIHBvaW50cywgd2hlcmUgbWludXRlcwppcyB0aGUgYW1vdW50IG9mIHRpbWUgeW91IHJlbWFpbiBLaW5nLgoKNTAlIG9mIHRoZSBwb3QgaXMgdXNlZCBhcyBhbiBhd2FyZCwgYW5kIHRoZSBvdGhlciA1MCUKc2VlZHMgdGhlIHBvdCBmb3IgdGhlIG5leHQgcm91bmQuCgoyMCUgb2YgYmlkcyBnbyB0byB0aGUgYm9udXMgcG90LCB3aGljaCBpcyBnaXZlbiB0byB0aGUKc2Vjb25kLXBsYWNlIHBlcnNvbiB3aGVuIHNvbWVvbmUgd2lucy4KCiovCgpjb250cmFjdCBFdGhLaW5nIHsKCXVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKCS8vIC0tLS0tLS0tLS0tLS0tLS0tLSBFdmVudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCglldmVudCBOZXdSb3VuZCgKCQl1aW50IF90aW1lc3RhbXAsCgkJdWludCBfcm91bmQsCgkJdWludCBfaW5pdGlhbE1haW5Qb3QsCgkJdWludCBfaW5pdGlhbEJvbnVzUG90CiAgKTsKCglldmVudCBOZXdLaW5nQmlkKAoJCXVpbnQgX3RpbWVzdGFtcCwKCQlhZGRyZXNzIF9hZGRyZXNzLAoJCXVpbnQgX2Ftb3VudCwKCQl1aW50IF9uZXdNYWluUG90LAoJCXVpbnQgX25ld0JvbnVzUG90CgkpOwoKCWV2ZW50IFBsYWNlQ2hhbmdlKAoJCXVpbnQgX3RpbWVzdGFtcCwKCQlhZGRyZXNzIF9uZXdGaXJzdCwKCQlhZGRyZXNzIF9uZXdTZWNvbmQsCgkJdWludCBfZmlyc3RQb2ludHMsCgkJdWludCBfc2Vjb25kUG9pbnRzCgkpOwoKCWV2ZW50IFdpbm5lcigKCQl1aW50IF90aW1lc3RhbXAsCgkJYWRkcmVzcyBfZmlyc3QsCgkJdWludCBfZmlyc3RBbW91bnQsCgkJYWRkcmVzcyBfc2Vjb25kLAoJCXVpbnQgX3NlY29uZEFtb3VudAoJKTsKCglldmVudCBFYXJuaW5nc1dpdGhkcmF3YWwoCgkJdWludCBfdGltZXN0YW1wLAoJCWFkZHJlc3MgX2FkZHJlc3MsCgkJdWludCBfYW1vdW50CgkpOwoKCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCglhZGRyZXNzIG93bmVyOwoKCS8vIC0tLS0tLS0tLS0tLS0tLS0tLSBHYW1lIENvbnN0YW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgkvLyBGcmFjdGlvbiBvZiB0aGUgcHJldmlvdXMgcG90IHVzZWQgdG8gc2VlZCB0aGUgbmV4dCBwb3QKCS8vIEN1cnJlbnRseSA1MCUKCXVpbnQgcHJpdmF0ZSBjb25zdGFudCBORVhUX1BPVF9GUkFDX1RPUCA9IDE7Cgl1aW50IHByaXZhdGUgY29uc3RhbnQgTkVYVF9QT1RfRlJBQ19CT1QgPSAyOwoKCS8vIE1pbmltdW0gZnJhY3Rpb24gb2YgdGhlIHBvdCByZXF1aXJlZCB0byBiZWNvbWUgdGhlIEtpbmcKCS8vIEN1cnJlbnRseSAwLjUlCgl1aW50IHByaXZhdGUgY29uc3RhbnQgTUlOX0xFQURFUl9GUkFDX1RPUCA9IDU7Cgl1aW50IHByaXZhdGUgY29uc3RhbnQgTUlOX0xFQURFUl9GUkFDX0JPVCA9IDEwMDA7CgoJLy8gRnJhY3Rpb24gb2YgZWFjaCBiaWQgdXNlZCBmb3IgdGhlIGJvbnVzIHBvdAoJdWludCBwcml2YXRlIGNvbnN0YW50IEJPTlVTX1BPVF9GUkFDX1RPUCA9IDIwOwoJdWludCBwcml2YXRlIGNvbnN0YW50IEJPTlVTX1BPVF9GUkFDX0JPVCA9IDEwMDsKCgkvLyBGcmFjdGlubyBvZiBlYWNoIGJpZCB1c2VkIGZvciB0aGUgZGV2ZWxvcGVyIGZlZQoJdWludCBwcml2YXRlIGNvbnN0YW50IERFVl9GRUVfRlJBQ19UT1AgPSA1OwoJdWludCBwcml2YXRlIGNvbnN0YW50IERFVl9GRUVfRlJBQ19CT1QgPSAxMDA7CgoJLy8gRXhwb25lbnQgZm9yIHBvaW50IGNhbGN1bGF0aW9uCgkvLyBDdXJyZW50bHkgeF4yCgl1aW50IHByaXZhdGUgY29uc3RhbnQgUE9JTlRfRVhQT05FTlQgPSAyOwoKCS8vIEhvdyBtYW55IHBvaW50cyB0byB3aW4/Cgl1aW50IHByaXZhdGUgY29uc3RhbnQgUE9JTlRTX1RPX1dJTiA9IDEwMDAwMDA7CgkKCS8vIE51bGwgYWRkcmVzcyBmb3IgYWR2YW5jaW5nIHJvdW5kCiAgICBhZGRyZXNzIG51bGxfYWRkcmVzcyA9IGFkZHJlc3MoMHgwKTsKCgkvLyAtLS0tLS0tLS0tLS0tLS0tLSBHYW1lIFZhcmlhYmxlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgoJLy8gVGhlIGN1cnJlbnQgS2luZywgYW5kIHdoZW4gaGUgd2FzIGxhc3QgcHV0IGluIHBvd2VyCglhZGRyZXNzIHB1YmxpYyBraW5nOwoJdWludCBwdWJsaWMgY3Jvd25lZFRpbWU7CgoJLy8gVGhlIGN1cnJlbnQgbGVhZGVyIGFuZCB0aGUgY3VycmVudCAybmQtcGxhY2UgbGVhZGVyCglhZGRyZXNzIHB1YmxpYyBmaXJzdDsKCWFkZHJlc3MgcHVibGljIHNlY29uZDsKCgkvLyBQbGF5ZXIgaW5mbwoJc3RydWN0IFBsYXllciB7CgkJdWludCBwb2ludHM7CgkJdWludCByb3VuZExhc3RQbGF5ZWQ7CgkJdWludCB3aW5uaW5nczsKCX0KCgkvLyBQbGF5ZXIgbWFwcGluZwoJbWFwcGluZyAoYWRkcmVzcyA9PiBQbGF5ZXIpIHByaXZhdGUgcGxheWVyczsKCgkvLyBDdXJyZW50IHJvdW5kIG51bWJlcgoJdWludCBwdWJsaWMgcm91bmQ7CgoJLy8gVmFsdWUgb2YgcG90IGFuZCBib251cyBwb3QKCXVpbnQgcHVibGljIG1haW5Qb3Q7Cgl1aW50IHB1YmxpYyBib251c1BvdDsKCgkvLyAtLS0tLS0tLS0tLS0tLS0tLSBHYW1lIExvZ2ljIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCglmdW5jdGlvbiBFdGhLaW5nKCkgcHVibGljIHBheWFibGUgewoJCS8vIFdlIHNob3VsZCBzZWVkIHRoZSBnYW1lCgkJcmVxdWlyZShtc2cudmFsdWUgPiAwKTsKCgkJLy8gU2V0IG93bmVyIGFuZCByb3VuZAoJCW93bmVyID0gbXNnLnNlbmRlcjsKCQlyb3VuZCA9IDE7CgoJCS8vIENhbGN1bGF0ZSBib251cyBwb3QgYW5kIG1haW4gcG90CgkJdWludCBfYm9udXNQb3QgPSBtc2cudmFsdWUubXVsKEJPTlVTX1BPVF9GUkFDX1RPUCkuZGl2KEJPTlVTX1BPVF9GUkFDX0JPVCk7CgkJdWludCBfbWFpblBvdCA9IG1zZy52YWx1ZS5zdWIoX2JvbnVzUG90KTsKCgkJLy8gTWFrZSBzdXJlIHdlIGRpZG4ndCBtYWtlIGEgbWlzdGFrZQoJCXJlcXVpcmUoX2JvbnVzUG90ICsgX21haW5Qb3QgPD0gbXNnLnZhbHVlKTsKCgkJbWFpblBvdCA9IF9tYWluUG90OwoJCWJvbnVzUG90ID0gX2JvbnVzUG90OwoKCQkvLyBTZXQgb3duZXIgYXMgS2luZwoJCS8vIENyb3duZWQgdXBvbiBjb250cmFjdCBjcmVhdGlvbgoJCWtpbmcgPSBvd25lcjsKCQlmaXJzdCA9IG51bGxfYWRkcmVzczsKCQlzZWNvbmQgPSBudWxsX2FkZHJlc3M7CgkJY3Jvd25lZFRpbWUgPSBub3c7CgkJcGxheWVyc1tvd25lcl0ucm91bmRMYXN0UGxheWVkID0gcm91bmQ7CiAgICAgICAgcGxheWVyc1tvd25lcl0ucG9pbnRzID0gMDsKCX0KCgkvLyBDYWxjdWxhdGUgYW5kIHJld2FyZCBwb2ludHMgdG8gdGhlIGN1cnJlbnQgS2luZwoJLy8gU2hvdWxkIGJlIGNhbGxlZCB3aGVuIHRoZSBjdXJyZW50IEtpbmcgaXMgYmVpbmcga2lja2VkIG91dAoJbW9kaWZpZXIgcGF5b3V0T2xkS2luZ1BvaW50cyB7CgkJdWludCBfcG9pbnRzVG9Bd2FyZCA9IGNhbGN1bGF0ZVBvaW50cyhjcm93bmVkVGltZSwgbm93KTsKCQlwbGF5ZXJzW2tpbmddLnBvaW50cyA9IHBsYXllcnNba2luZ10ucG9pbnRzLmFkZChfcG9pbnRzVG9Bd2FyZCk7CgoJCS8vIENoZWNrIHRvIHNlZSBpZiBLaW5nIG5vdyBpcyBpbiBmaXJzdCBvciBzZWNvbmQgcGxhY2UuCgkJLy8gSWYgc2Vjb25kIHBsYWNlLCBqdXN0IHJlcGxhY2Ugc2Vjb25kIHBsYWNlIHdpdGggS2luZy4KCQkvLyBJZiBmaXJzdCBwbGFjZSwgbW92ZSBmaXJzdCBwbGFjZSBkb3duIHRvIHNlY29uZCBhbmQgS2luZyB0byBmaXJzdAoJCWlmIChwbGF5ZXJzW2tpbmddLnBvaW50cyA+IHBsYXllcnNbZmlyc3RdLnBvaW50cykgewoJCQlzZWNvbmQgPSBmaXJzdDsKCQkJZmlyc3QgPSBraW5nOwoKCQkJUGxhY2VDaGFuZ2Uobm93LCBmaXJzdCwgc2Vjb25kLCBwbGF5ZXJzW2ZpcnN0XS5wb2ludHMsIHBsYXllcnNbc2Vjb25kXS5wb2ludHMpOwoKCQl9IGVsc2UgaWYgKHBsYXllcnNba2luZ10ucG9pbnRzID4gcGxheWVyc1tzZWNvbmRdLnBvaW50cyAmJiBraW5nICE9IGZpcnN0KSB7CgkJCXNlY29uZCA9IGtpbmc7CgoJCQlQbGFjZUNoYW5nZShub3csIGZpcnN0LCBzZWNvbmQsIHBsYXllcnNbZmlyc3RdLnBvaW50cywgcGxheWVyc1tzZWNvbmRdLnBvaW50cyk7CgkJfQoKCQlfOwoJfQoKCS8vIENoZWNrIGN1cnJlbnQgbGVhZGVyJ3MgcG9pbnRzCgkvLyBBZHZhbmNlcyB0aGUgcm91bmQgaWYgaGUncyBhdCAxIG1pbGxpb24gb3IgZ3JlYXRlcgoJLy8gUGF5cyBvdXQgbWFpbiBwb3QgYW5kIGJvbnVzIHBvdAoJbW9kaWZpZXIgYWR2YW5jZVJvdW5kSWZOZWVkZWQgewoJCWlmIChwbGF5ZXJzW2ZpcnN0XS5wb2ludHMgPj0gUE9JTlRTX1RPX1dJTikgewoJCQkvLyBDYWxjdWxhdGUgbmV4dCBwb3RzIGFuZCB3aW5uaW5ncwoJCQl1aW50IF9uZXh0TWFpblBvdCA9IG1haW5Qb3QubXVsKE5FWFRfUE9UX0ZSQUNfVE9QKS5kaXYoTkVYVF9QT1RfRlJBQ19CT1QpOwoJCQl1aW50IF9uZXh0Qm9udXNQb3QgPSBib251c1BvdC5tdWwoTkVYVF9QT1RfRlJBQ19UT1ApLmRpdihORVhUX1BPVF9GUkFDX0JPVCk7CgoJCQl1aW50IF9maXJzdEVhcm5pbmdzID0gbWFpblBvdC5zdWIoX25leHRNYWluUG90KTsKCQkJdWludCBfc2Vjb25kRWFybmluZ3MgPSBib251c1BvdC5zdWIoX25leHRCb251c1BvdCk7CgoJCQlwbGF5ZXJzW2ZpcnN0XS53aW5uaW5ncyA9IHBsYXllcnNbZmlyc3RdLndpbm5pbmdzLmFkZChfZmlyc3RFYXJuaW5ncyk7CgkJCXBsYXllcnNbc2Vjb25kXS53aW5uaW5ncyA9IHBsYXllcnNbc2Vjb25kXS53aW5uaW5ncy5hZGQoX3NlY29uZEVhcm5pbmdzKTsKCgkJCS8vIEFkdmFuY2Ugcm91bmQKCQkJcm91bmQrKzsKCQkJbWFpblBvdCA9IF9uZXh0TWFpblBvdDsKCQkJYm9udXNQb3QgPSBfbmV4dEJvbnVzUG90OwoKCQkJLy8gUmVzZXQgZmlyc3QgYW5kIHNlY29uZCBhbmQgS2luZwoJCQlmaXJzdCA9IG51bGxfYWRkcmVzczsKCQkJc2Vjb25kID0gbnVsbF9hZGRyZXNzOwoJCQlwbGF5ZXJzW293bmVyXS5yb3VuZExhc3RQbGF5ZWQgPSByb3VuZDsKCQkJcGxheWVyc1tvd25lcl0ucG9pbnRzID0gMDsKCQkJcGxheWVyc1traW5nXS5yb3VuZExhc3RQbGF5ZWQgPSByb3VuZDsKCQkJcGxheWVyc1traW5nXS5wb2ludHMgPSAwOwoJCQlraW5nID0gb3duZXI7CgkJCWNyb3duZWRUaW1lID0gbm93OwoKCQkJTmV3Um91bmQobm93LCByb3VuZCwgbWFpblBvdCwgYm9udXNQb3QpOwoJCQlQbGFjZUNoYW5nZShub3csIGZpcnN0LCBzZWNvbmQsIHBsYXllcnNbZmlyc3RdLnBvaW50cywgcGxheWVyc1tzZWNvbmRdLnBvaW50cyk7CgkJfQoKCQlfOwoJfQoKCS8vIENhbGN1bGF0ZXMgdGhlIHBvaW50cyBhIHBsYXllciBlYXJuZWQgaW4gYSBnaXZlbiB0aW1lciBpbnRlcnZhbAoJZnVuY3Rpb24gY2FsY3VsYXRlUG9pbnRzKHVpbnQgX2VhcmxpZXJUaW1lLCB1aW50IF9sYXRlclRpbWUpIHByaXZhdGUgcHVyZSByZXR1cm5zICh1aW50KSB7CgkJLy8gRWFybGllciB0aW1lIGNvdWxkIGJlIHRoZSBzYW1lIGFzIGxhdGVydGltZSAoc2FtZSBibG9jaykKCQkvLyBCdXQgaXQgc2hvdWxkIG5ldmVyIGJlIGxhdGVyIHRoYW4gbGF0ZXJUaW1lIQoJCWFzc2VydChfZWFybGllclRpbWUgPD0gX2xhdGVyVGltZSk7CgoJCS8vIElmIGNyb3duZWQgYW5kIGRldGhyb25lZCBvbiBzYW1lIGJsb2NrLCBubyBwb2ludHMKCQlpZiAoX2VhcmxpZXJUaW1lID09IF9sYXRlclRpbWUpIHsgcmV0dXJuIDA7IH0KCgkJLy8gQ2FsY3VsYXRlIHBvaW50cy4gTGVzcyB0aGFuIDEgbWludXRlIGlzIG5vIHBheW91dAoJCXVpbnQgdGltZUVsYXBzZWRJblNlY29uZHMgPSBfbGF0ZXJUaW1lLnN1YihfZWFybGllclRpbWUpOwoJCWlmICh0aW1lRWxhcHNlZEluU2Vjb25kcyA8IDYwKSB7IHJldHVybiAwOyB9CgoJCXVpbnQgdGltZUVsYXBzZWRJbk1pbnV0ZXMgPSB0aW1lRWxhcHNlZEluU2Vjb25kcy5kaXYoNjApOwoJCWFzc2VydCh0aW1lRWxhcHNlZEluTWludXRlcyA+IDApOwoKCQkvLyAxMDAwIG1pbnV0ZXMgaXMgYW4gYXV0b21hdGljIHdpbi4KCQlpZiAodGltZUVsYXBzZWRJbk1pbnV0ZXMgPj0gMTAwMCkgeyByZXR1cm4gUE9JTlRTX1RPX1dJTjsgfQoKCQlyZXR1cm4gdGltZUVsYXBzZWRJbk1pbnV0ZXMqKlBPSU5UX0VYUE9ORU5UOwoJfQoKCS8vIFBheXMgb3V0IGN1cnJlbnQgS2luZwoJLy8gQWR2YW5jZXMgcm91bmQsIGlmIG5lY2Vzc2FyeQoJLy8gTWFrZXMgc2VuZGVyIEtpbmcKCS8vIFJldmVydHMgaWYgYmlkIGlzbid0IGhpZ2ggZW5vdWdoCglmdW5jdGlvbiBiZWNvbWVLaW5nKCkgcHVibGljIHBheWFibGUKCQlwYXlvdXRPbGRLaW5nUG9pbnRzCgkJYWR2YW5jZVJvdW5kSWZOZWVkZWQKCXsKCQkvLyBDYWxjdWxhdGUgbWluaW11bSBiaWQgYW1vdW50CgkJdWludCBfbWluTGVhZGVyQW1vdW50ID0gbWFpblBvdC5tdWwoTUlOX0xFQURFUl9GUkFDX1RPUCkuZGl2KE1JTl9MRUFERVJfRlJBQ19CT1QpOwoJCXJlcXVpcmUobXNnLnZhbHVlID49IF9taW5MZWFkZXJBbW91bnQpOwoKCQl1aW50IF9iaWRBbW91bnRUb0RldmVsb3BlciA9IG1zZy52YWx1ZS5tdWwoREVWX0ZFRV9GUkFDX1RPUCkuZGl2KERFVl9GRUVfRlJBQ19CT1QpOwoJCXVpbnQgX2JpZEFtb3VudFRvQm9udXNQb3QgPSBtc2cudmFsdWUubXVsKEJPTlVTX1BPVF9GUkFDX1RPUCkuZGl2KEJPTlVTX1BPVF9GUkFDX0JPVCk7CgkJdWludCBfYmlkQW1vdW50VG9NYWluUG90ID0gbXNnLnZhbHVlLnN1YihfYmlkQW1vdW50VG9EZXZlbG9wZXIpLnN1YihfYmlkQW1vdW50VG9Cb251c1BvdCk7CgoJCWFzc2VydChfYmlkQW1vdW50VG9EZXZlbG9wZXIgKyBfYmlkQW1vdW50VG9Cb251c1BvdCArIF9iaWRBbW91bnRUb01haW5Qb3QgPD0gbXNnLnZhbHVlKTsKCgkJLy8gVHJhbnNmZXIgZGV2IGZlZSB0byBvd25lcidzIHdpbm5pbmdzCgkJcGxheWVyc1tvd25lcl0ud2lubmluZ3MgPSBwbGF5ZXJzW293bmVyXS53aW5uaW5ncy5hZGQoX2JpZEFtb3VudFRvRGV2ZWxvcGVyKTsKCgkJLy8gU2V0IG5ldyBwb3QgdmFsdWVzCgkJbWFpblBvdCA9IG1haW5Qb3QuYWRkKF9iaWRBbW91bnRUb01haW5Qb3QpOwoJCWJvbnVzUG90ID0gYm9udXNQb3QuYWRkKF9iaWRBbW91bnRUb0JvbnVzUG90KTsKCgkJLy8gQ2xlYXIgb3V0IEtpbmcncyBwb2ludHMgaWYgdGhleSBhcmUgZnJvbSBsYXN0IHJvdW5kCgkJaWYgKHBsYXllcnNba2luZ10ucm91bmRMYXN0UGxheWVkICE9IHJvdW5kKSB7CgkJCXBsYXllcnNba2luZ10ucG9pbnRzID0gMDsJCgkJfQoJCQoJCS8vIFNldCBLaW5nCgkJa2luZyA9IG1zZy5zZW5kZXI7CgkJcGxheWVyc1traW5nXS5yb3VuZExhc3RQbGF5ZWQgPSByb3VuZDsKCQljcm93bmVkVGltZSA9IG5vdzsKCgkJTmV3S2luZ0JpZChub3csIGtpbmcsIG1zZy52YWx1ZSwgbWFpblBvdCwgYm9udXNQb3QpOwoJfQoKCS8vIFRyYW5zZmVyIHBsYXllcnMgdGhlaXIgd2lubmluZ3MKCWZ1bmN0aW9uIHdpdGhkcmF3RWFybmluZ3MoKSBwdWJsaWMgewoJCXJlcXVpcmUocGxheWVyc1ttc2cuc2VuZGVyXS53aW5uaW5ncyA+IDApOwoJCWFzc2VydChwbGF5ZXJzW21zZy5zZW5kZXJdLndpbm5pbmdzIDw9IHRoaXMuYmFsYW5jZSk7CgoJCXVpbnQgX2Ftb3VudCA9IHBsYXllcnNbbXNnLnNlbmRlcl0ud2lubmluZ3M7CgkJcGxheWVyc1ttc2cuc2VuZGVyXS53aW5uaW5ncyA9IDA7CgoJCUVhcm5pbmdzV2l0aGRyYXdhbChub3csIG1zZy5zZW5kZXIsIF9hbW91bnQpOwoKCQltc2cuc2VuZGVyLnRyYW5zZmVyKF9hbW91bnQpOwoJfQoKCS8vIEZhbGxiYWNrIGZ1bmN0aW9uLgoJLy8gSWYgMCBldGhlciwgdHJpZ2dlcnMgdHJ5QWR2YW5jZSgpCgkvLyBJZiA+IDAgZXRoZXIsIHRyaWdnZXJzIGJlY29tZUtpbmcoKQoJZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewoJCWlmIChtc2cudmFsdWUgPT0gMCkgeyB0cnlBZHZhbmNlKCk7IH0KCQllbHNlIHsgYmVjb21lS2luZygpOyB9Cgl9CgoJLy8gVXRpbGl0eSBmdW5jdGlvbiB0byBhZHZhbmNlIHRoZSByb3VuZCAvIHBheW91dCB0aGUgd2lubmVyCglmdW5jdGlvbiB0cnlBZHZhbmNlKCkgcHVibGljIHsKCQkvLyBDYWxjdWxhdGUgdGhlIEtpbmcncyBjdXJyZW50IHBvaW50cy4KCQkvLyBJZiBoZSdzIHdvbiwgd2UgcGF5b3V0IGFuZCBhZHZhbmNlIHRoZSByb3VuZC4KCQkvLyBFcXVpdmFsZW50IHRvIGEgYmlkLCBidXQgd2l0aG91dCBhbiBhY3R1YWwgYmlkLgoJCXVpbnQga2luZ1RvdGFsUG9pbnRzID0gY2FsY3VsYXRlUG9pbnRzKGNyb3duZWRUaW1lLCBub3cpICsgcGxheWVyc1traW5nXS5wb2ludHM7CgkJaWYgKGtpbmdUb3RhbFBvaW50cyA+PSBQT0lOVFNfVE9fV0lOKSB7IGZvcmNlQWR2YW5jZSgpOyB9Cgl9CgoJLy8gSW50ZXJuYWwgZnVuY3Rpb24gY2FsbGVkIGJ5IHRyeUFkdmFuY2UgaWYgY3VycmVudCBLaW5nIGhhcyB3b24KCWZ1bmN0aW9uIGZvcmNlQWR2YW5jZSgpIHByaXZhdGUgcGF5b3V0T2xkS2luZ1BvaW50cyBhZHZhbmNlUm91bmRJZk5lZWRlZCB7IH0KCQoJLy8gR2V0cyBhIHBsYXllcidzIGluZm9ybWF0aW9uCglmdW5jdGlvbiBnZXRQbGF5ZXJJbmZvKGFkZHJlc3MgX3BsYXllcikgcHVibGljIGNvbnN0YW50IHJldHVybnModWludCwgdWludCwgdWludCkgewoJCXJldHVybiAocGxheWVyc1tfcGxheWVyXS5wb2ludHMsIHBsYXllcnNbX3BsYXllcl0ucm91bmRMYXN0UGxheWVkLCBwbGF5ZXJzW19wbGF5ZXJdLndpbm5pbmdzKTsKCX0KCQoJLy8gR2V0cyB0aGUgc2VuZGVyJ3MgaW5mb3JtYXRpb24KCWZ1bmN0aW9uIGdldE15SW5mbygpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQsIHVpbnQsIHVpbnQpIHsKCQlyZXR1cm4gZ2V0UGxheWVySW5mbyhtc2cuc2VuZGVyKTsJCQoJfQoJCgkvLyBHZXQgdGhlIEtpbmcncyBjdXJyZW50IHBvaW50cwoJZnVuY3Rpb24gZ2V0S2luZ1BvaW50cygpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQpIHsgcmV0dXJuIHBsYXllcnNba2luZ10ucG9pbnRzOyB9CgkKCS8vIEdldCB0aGUgZmlyc3QgcGxheWVyJ3MgY3VycmVudCBwb2ludHMKCWZ1bmN0aW9uIGdldEZpcnN0UG9pbnRzKCkgcHVibGljIGNvbnN0YW50IHJldHVybnModWludCkgeyByZXR1cm4gcGxheWVyc1tmaXJzdF0ucG9pbnRzOyB9CgkKCS8vIEdldCB0aGUgc2Vjb25kIHBsYXllcidzIGN1cnJlbnQgcG9pbnRzCglmdW5jdGlvbiBnZXRTZWNvbmRQb2ludHMoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7IHJldHVybiBwbGF5ZXJzW3NlY29uZF0ucG9pbnRzOyB9Cn0KCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogICAgLyoqCiAgICAqIEBkZXYgTXVsdGlwbGllcyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93LgogICAgKi8KICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgaWYgKGEgPT0gMCkgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IEludGVnZXIgZGl2aXNpb24gb2YgdHdvIG51bWJlcnMsIHRydW5jYXRpbmcgdGhlIHF1b3RpZW50LgogICAgKi8KICAgIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICAgICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAgICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBTdWJzdHJhY3RzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cgKGkuZS4gaWYgc3VidHJhaGVuZCBpcyBncmVhdGVyIHRoYW4gbWludWVuZCkuCiAgICAqLwogICAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgQWRkcyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93LgogICAgKi8KICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9Cn0='.
	

]
