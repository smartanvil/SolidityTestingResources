Class {
	#name : #SRT085bf17D6c557254D0370514B97d16307B8f0775,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT085bf17D6c557254D0370514B97d16307B8f0775 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgoKY29udHJhY3QgU2NhbVNlYWxUb2tlbiB7CiAgICAvL1RoZSBTY2FtIFNlYWwgVG9rZW4gaXMgaW50ZW5kZWQgdG8gbWFyayBhbiBhZGRyZXNzIGFzIFNDQU0uCiAgICAvL3RoaXMgdG9rZW4gaXMgdXNlZCBieSB0aGUgY29udHJhY3QgU2NhbVNlYWwgZGVmaW5lZCBiZWxsb3cKICAgIC8vYSBmYWxzZSBFUkMyMCB0b2tlbiwgd2hlcmUgdHJhbnNmZXJzIGNhbiBiZSBkb25lIG9ubHkgYnkgCiAgICAvL3RoZSBjcmVhdG9yIG9mIHRoZSB0b2tlbi4KCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiU0NBTSBTZWFsIFRva2VuIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIlNDQU1TRUFMIjsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDA7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICAvLyBPd25lciBvZiB0aGlzIGNvbnRyYWN0CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KICAgIC8vIEJhbGFuY2VzIGZvciBlYWNoIGFjY291bnQKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKXsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KICAgIC8vT25seSB0aGUgb3duZXIgb2YgdGhlIHRva2VuIGNhbiB0cmFuc2Zlci4KICAgIC8vdG9rZW5zIGFyZSBiZWluZyBnZW5lcmF0ZWQgb24gdGhlIGZseSwKICAgIC8vdG9rZW5TdXBwbHkgaW5jcmVhc2VzIHdpdGggZG91YmxlIHRoZSBhbW91bnQgdGhhdCBpcyByZXF1aXJlZCB0byBiZSB0cmFuc2ZlcmVkIAogICAgLy9pZiB0aGUgYW1vdW50IGlzbid0IGF2YWlsYWJsZSB0byB0cmFuc2ZlcgogICAgLy9uZXdseSBnZW5lcmF0ZWQgdG9rZW5zIGFyZSBuZXZlciBidXJuZWQuCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKXsKICAgICAgICBpZihfYW1vdW50ID49IDApewogICAgICAgICAgICBpZihiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfYW1vdW50KXsKICAgICAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF9hbW91bnQ7CiAgICAgICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF9hbW91bnQ7CiAgICAgICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF9hbW91bnQpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICB0b3RhbFN1cHBseSArPSBfYW1vdW50ICsgX2Ftb3VudDsgICAKICAgICAgICAgICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSBfYW1vdW50ICsgX2Ftb3VudDsKICAgICAgICAgICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfYW1vdW50OwogICAgICAgICAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX2Ftb3VudDsKICAgICAgICAgICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF9hbW91bnQpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiB0cmFuc2ZlckJhY2soYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfYW1vdW50KSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKXsKICAgICAgICBpZihfYW1vdW50ID49IDApewogICAgICAgICAgICBpZihiYWxhbmNlc1tfZnJvbV0gPj0gX2Ftb3VudCl7CiAgICAgICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX2Ftb3VudDsKICAgICAgICAgICAgICAgIGJhbGFuY2VzW293bmVyXSArPSBfYW1vdW50OwogICAgICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIG93bmVyLCBfYW1vdW50KTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIF9hbW91bnQgPSBiYWxhbmNlc1tfZnJvbV07CiAgICAgICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX2Ftb3VudDsKICAgICAgICAgICAgICAgIGJhbGFuY2VzW293bmVyXSArPSBfYW1vdW50OwogICAgICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIG93bmVyLCBfYW1vdW50KTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICB9CgoKICAgIGZ1bmN0aW9uIFNjYW1TZWFsVG9rZW4oKXsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgdG90YWxTdXBwbHkgPSAxOwogICAgICAgIGJhbGFuY2VzW293bmVyXSA9IHRvdGFsU3VwcGx5OwoKICAgIH0KfQoKY29udHJhY3QgU2NhbVNlYWx7Ci8vdGhlIGNvbnRyYWN0IGlzIGludGVuZGVkIGFzIGEgYnJva2VyIGJldHdlZW4gYSBzY2FtbWVyIGFkZHJlc3MgYW5kIHRoZSBzY2FtZWUKbW9kaWZpZXIgb25seU93bmVyKCl7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKfQptb2RpZmllciBoYXNNaW5pbXVtQW1vdW50VG9GbGFnKCl7CiAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBwcmljZVBlclVuaXQpOwogICAgXzsKfQoKZnVuY3Rpb24gbXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CnVpbnQgYyA9IGEgKiBiOwpyZXF1aXJlKGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKcmV0dXJuIGM7Cn0KCmZ1bmN0aW9uIGRpdih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewpyZXF1aXJlKGIgPiAwKTsKdWludCBjID0gYSAvIGI7CnJlcXVpcmUoYSA9PSBiICogYyArIGEgJSBiKTsKcmV0dXJuIGM7Cn0KCmZ1bmN0aW9uIHN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewpyZXF1aXJlKGIgPD0gYSk7CnJldHVybiBhIC0gYjsKfQoKZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CnVpbnQgYyA9IGEgKyBiOwpyZXF1aXJlKGMgPj0gYSk7CnJldHVybiBjOwp9CgoKYWRkcmVzcyBwdWJsaWMgb3duZXI7Ci8vdGhlIGFkZHJlc3Mgb2YgdGhlIFNjYW1TZWFsVG9rZW4gY3JlYXRlZCBieSB0aGlzIGNvbnRyYWN0CmFkZHJlc3MgcHVibGljIHNjYW1TZWFsVG9rZW5BZGRyZXNzOwovL3RoZSBhY3R1YWwgU2NhbVNlYWxUb2tlbgpTY2FtU2VhbFRva2VuIHRoZVNjYW1TZWFsVG9rZW47IAovL3RoZSBjb250cmFjdCBoYXMgYSBicm9rZXJhZ2UgZmVlIGFwcGxpZWQgdG8gYWxsIHBheWFibGUgZnVuY3Rpb24gY2FsbHMKLy90aGUgZmVlIGlzIDIlIG9mIHRoZSBhbW91bnQgc2VudC4KLy90aGUgZmVlIGlzIGRpcmVjdGx5IHNlbnQgdG8gdGhlIG93bmVyIG9mIHRoaXMgY29udHJhY3QKdWludCBwdWJsaWMgY29udHJhY3RGZWVQZXJjZW50YWdlID0gMjsKCi8vdGhlIHByaWNlIGZvciAxIFNjYW1TdGFwVG9rZW4gaXMgMSBmaW5uZXkKdWludDI1NiBwdWJsaWMgcHJpY2VQZXJVbml0ID0gMSBmaW5uZXk7Ci8vZm9yIGEgYWRkcmVzcyB0byBsb3NlIHRoZSBTY2FtU2VhbFRva2VucyBpdCBtdXN0IHBheSBhIHJlbGllZlJhdGlvIHBlciB0b2tlbgovL2ZvciBlYWNoIDEgdG9rZW4gdGhhdCBpdCBob2xkcyBpdCBtdXN0IHBheSAxMCBmaW5uZXkgdG8gbWFrZSB0aGUgdG9rZW4gZGlzc2FwZWFyIGZyb20gdGhleSBhY2NvdW50CnVpbnQyNTYgcHVibGljIHJlbGllZlJhdGlvID0gMTA7Ci8vaG93IG1hbnkgdGltZXMgYW4gYWRkcmVzcyBoYXMgYmVlbiBtYXJrZWQgYXMgU0NBTQptYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBzY2FtRmxhZ3M7Ci8vY29udHJhY3Qgc3RhdGlzdGljcy4KdWludCBwdWJsaWMgdG90YWxOdW1iZXJPZlNjYW1tZXJzID0gMDsKdWludCBwdWJsaWMgdG90YWxTY2FtbWVkUXVhbnRpdHkgPSAwOwp1aW50IHB1YmxpYyB0b3RhbFJlcGFpZFF1YW50aXR5ID0gMDsKCm1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpKSBmbGFnZ2VkUXVhbnRpdHk7Cm1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpKSBmbGFnZ2VkUmVwYWlkOwovL3RoZSBhZGRyZXNzIHRoYXQgaXMgZmxhZ2dpbmcgYW4gYWRkcmVzcyBhcyBzY2FtIGhhcyBhbiBpc3N1cmFuY2UKLy93aGVuIHRoZSBzY2FtbWVyIHJlcGF5cyB0aGUgc2NhbW1lZCBhbW91bnQsIHRoZSBpbnN1cmFuY2Ugd2lsbCBiZSBzZW50Ci8vdG8gdGhlIG93bmVyIG9mIHRoZSBjb250cmFjdAptYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSkgZmxhZ2dlckluc3VyYW5jZTsKCm1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpKSBjb250cmFjdHNJbnN1cmFuY2VGZWU7Cm1hcHBpbmcgKGFkZHJlc3MgPT4gYWRkcmVzc1tdKSBmbGFnZ2VkSW5kZXg7Ci8vaG93IG11Y2ggd2VpIHdhcyB0aGUgc2NhbW1lciBiZWVuIG1hcmtlZCBmb3IuCm1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIHRvdGFsU2NhbW1lZDsKLy9ob3cgbXVjaCB3ZWkgZGlkIHRoZSBzY2FtbWVyIHJlcGFpZAptYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyB0b3RhbFNjYW1tZWRSZXBhaWQ7CgpmdW5jdGlvbiBTY2FtU2VhbCgpIHsKb3duZXIgPSBtc2cuc2VuZGVyOwpzY2FtU2VhbFRva2VuQWRkcmVzcyA9IG5ldyBTY2FtU2VhbFRva2VuKCk7CnRoZVNjYW1TZWFsVG9rZW4gPSBTY2FtU2VhbFRva2VuKHNjYW1TZWFsVG9rZW5BZGRyZXNzKTsKCn0KZXZlbnQgTWFya2VkQXNTY2FtKGFkZHJlc3Mgc2NhbW1lciwgYWRkcmVzcyBieSwgdWludDI1NiBhbW91bnQpOwovL21hcmtBc1NwYW06IHBheWFibGUgZnVuY3Rpb24uIAovL2l0IGZsYWdzIHRoZSBhZGRyZXNzIGFzIGEgc2NhbSBhZGRyZXNzIGJ5IHNlbmRpbmcgU2NhbVNlYWxUb2tlbnMgdG8gaXQuCi8vdGhlIG1pbmltdW0gdmFsdWUgc2VudCB3aXRoIHRoaXMgZnVuY3Rpb24gY2FsbCBtdXN0IGJlICBwcmljZVBlclVuaXQgLSBzZXQgdG8gMSBmaW5uZXkKLy90aGUgdmFsdWUgc2VudCB0byB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgaGVsZCBhcyBpbnN1cmFuY2UgYnkgdGhpcyBjb250cmFjdC4KLy9pdCBjYW4gYmUgd2l0aGRyYXduIGJ5IHRoZSBjYWxlZSBhbnl0aW1lIGJlZm9yZSB0aGUgc2NhbW1lciBwYXlzIHRoZSBkZWJ0LgoKZnVuY3Rpb24gbWFya0FzU2NhbShhZGRyZXNzIHNjYW1tZXIpIHBheWFibGUgaGFzTWluaW11bUFtb3VudFRvRmxhZ3sKICAgIHVpbnQyNTYgbnVtYmVyT2ZUb2tlbnMgPSBkaXYobXNnLnZhbHVlLCBwcmljZVBlclVuaXQpOwogICAgdXBkYXRlRmxhZ0NvdW50KG1zZy5zZW5kZXIsIHNjYW1tZXIsIG51bWJlck9mVG9rZW5zKTsKCiAgICB1aW50MjU2IG93bmVyc0ZlZSA9IGRpdiggbXVsKG1zZy52YWx1ZSwgY29udHJhY3RGZWVQZXJjZW50YWdlKSwgMTAwICk7Ly9tdWwobXNnLnZhbHVlLCBkaXYoY29udHJhY3RGZWVQZXJjZW50YWdlLCAxMDApKTsKICAgIHVpbnQyNTYgaW5zdXJhbmNlID0gbXNnLnZhbHVlIC0gb3duZXJzRmVlOwogICAgb3duZXIudHJhbnNmZXIob3duZXJzRmVlKTsKICAgIGZsYWdnZXJJbnN1cmFuY2VbbXNnLnNlbmRlcl1bc2NhbW1lcl0gKz0gaW5zdXJhbmNlOwogICAgY29udHJhY3RzSW5zdXJhbmNlRmVlW21zZy5zZW5kZXJdW3NjYW1tZXJdICs9IG93bmVyc0ZlZTsKICAgIHRoZVNjYW1TZWFsVG9rZW4udHJhbnNmZXIoc2NhbW1lciwgbnVtYmVyT2ZUb2tlbnMpOwogICAgdWludDI1NiBxID0gbXVsKHJlbGllZlJhdGlvLCBtdWwobXNnLnZhbHVlLCBwcmljZVBlclVuaXQpKTsKICAgIE1hcmtlZEFzU2NhbShzY2FtbWVyLCBtc2cuc2VuZGVyLCBxKTsKfQovL29uY2UgYW4gYWRkcmVzcyBpcyBmbGFnZ2VkIGFzIFNDQU0gaXQgY2FuIGJlIGZvcmdpdmVuIGJ5IHRoZSBmbGFnZ2VyIAovL3VubGVzcyB0aGUgc2NhbW1lciBhbHJlYWR5IHN0YXJ0ZWQgdG8gcGF5IGl0cyBkZWJ0CgpmdW5jdGlvbiBmb3JnaXZlSXQoYWRkcmVzcyBzY2FtbWVyKSB7CiAgICBpZihmbGFnZ2VySW5zdXJhbmNlW21zZy5zZW5kZXJdW3NjYW1tZXJdID4gMCl7CiAgICAgICAgdWludDI1NiBpbnN1cmFuY2UgPSBmbGFnZ2VySW5zdXJhbmNlW21zZy5zZW5kZXJdW3NjYW1tZXJdOwogICAgICAgIHVpbnQyNTYgaGFkRmVlID0gY29udHJhY3RzSW5zdXJhbmNlRmVlW21zZy5zZW5kZXJdW3NjYW1tZXJdOwogICAgICAgIHVpbnQyNTYgbnVtYmVyT2ZUb2tlbnNUb0ZvcmdpdmUgPSBkaXYoIGluc3VyYW5jZSArIGhhZEZlZSAsICBwcmljZVBlclVuaXQpOwogICAgICAgIGNvbnRyYWN0c0luc3VyYW5jZUZlZVttc2cuc2VuZGVyXVtzY2FtbWVyXSA9IDA7CiAgICAgICAgZmxhZ2dlckluc3VyYW5jZVttc2cuc2VuZGVyXVtzY2FtbWVyXSA9IDA7CiAgICAgICAgdG90YWxTY2FtbWVkW3NjYW1tZXJdIC09IGZsYWdnZWRRdWFudGl0eVtzY2FtbWVyXVttc2cuc2VuZGVyXTsKICAgICAgICB0b3RhbFNjYW1tZWRRdWFudGl0eSAtPSBmbGFnZ2VkUXVhbnRpdHlbc2NhbW1lcl1bbXNnLnNlbmRlcl07CiAgICAgICAgZmxhZ2dlZFF1YW50aXR5W3NjYW1tZXJdW21zZy5zZW5kZXJdID0gMDsKICAgICAgICB0aGVTY2FtU2VhbFRva2VuLnRyYW5zZmVyQmFjayhzY2FtbWVyLCBudW1iZXJPZlRva2Vuc1RvRm9yZ2l2ZSk7CgogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoaW5zdXJhbmNlKTsKICAgICAgICBGb3JnaXZlZChzY2FtbWVyLCBtc2cuc2VuZGVyLCBpbnN1cmFuY2UraGFkRmVlKTsKICAgIH0KfQpmdW5jdGlvbiB1cGRhdGVGbGFnQ291bnQoYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHNjYW1tZXIsIHVpbnQyNTYgcXVhbnRpdHkpIHByaXZhdGV7CiAgICBzY2FtRmxhZ3Nbc2NhbW1lcl0gKz0gMTsKICAgIGlmKHNjYW1GbGFnc1tzY2FtbWVyXSA9PSAxKXsKICAgICAgICB0b3RhbE51bWJlck9mU2NhbW1lcnMgKz0gMTsKICAgIH0KICAgIHVpbnQyNTYgcSA9IG11bChyZWxpZWZSYXRpbywgbXVsKHF1YW50aXR5LCBwcmljZVBlclVuaXQpKTsKICAgIGZsYWdnZWRRdWFudGl0eVtzY2FtbWVyXVtmcm9tXSArPSBxOwogICAgZmxhZ2dlZFJlcGFpZFtzY2FtbWVyXVtmcm9tXSA9IDA7CiAgICB0b3RhbFNjYW1tZWRbc2NhbW1lcl0gKz0gcTsKICAgIHRvdGFsU2NhbW1lZFF1YW50aXR5ICs9IHE7CiAgICBhZGRBZGRyZXNzVG9JbmRleChzY2FtbWVyLCBmcm9tKTsKfQoKCgpmdW5jdGlvbiBhZGRBZGRyZXNzVG9JbmRleChhZGRyZXNzIHNjYW1tZXIsIGFkZHJlc3MgdGhlQWRkcmVzc1RvSW5kZXgpIHByaXZhdGUgcmV0dXJucyhib29sIHN1Y2Nlc3MpewogICAgYm9vbCBhZGRyZXNzRm91bmQgPSBmYWxzZTsKICAgIGZvcih1aW50IGkgPSAwOyBpIDwgZmxhZ2dlZEluZGV4W3NjYW1tZXJdLmxlbmd0aDsgaSsrKXsKICAgICAgICBpZihmbGFnZ2VkSW5kZXhbc2NhbW1lcl1baV0gPT0gdGhlQWRkcmVzc1RvSW5kZXgpewogICAgICAgICAgICBhZGRyZXNzRm91bmQgPSB0cnVlOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICB9CiAgICBpZighYWRkcmVzc0ZvdW5kKXsKICAgICAgICBmbGFnZ2VkSW5kZXhbc2NhbW1lcl0ucHVzaCh0aGVBZGRyZXNzVG9JbmRleCk7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKfQptb2RpZmllciB0b0JlQVNjYW1tZXIoKXsKICAgIHJlcXVpcmUodG90YWxTY2FtbWVkW21zZy5zZW5kZXJdIC0gdG90YWxTY2FtbWVkUmVwYWlkW21zZy5zZW5kZXJdID4gMCk7CiAgICBfOwp9Cm1vZGlmaWVyIGFkZHJlc3NUb0JlQVNjYW1tZXIoYWRkcmVzcyBzY2FtbWVyKXsKICAgIHJlcXVpcmUodG90YWxTY2FtbWVkW3NjYW1tZXJdIC0gdG90YWxTY2FtbWVkUmVwYWlkW3NjYW1tZXJdID4gMCk7CiAgICBfOwp9CmV2ZW50IEZvcmdpdmVkKGFkZHJlc3Mgc2NhbW1lciwgYWRkcmVzcyBieSwgdWludDI1NiBhbW91bnQpOwpldmVudCBQYXJ0aWFsbHlGb3JnaXZlZChhZGRyZXNzIHNjYW1tZXIsIGFkZHJlc3MgYnksIHVpbnQyNTYgYW1vdW50KTsKLy9mb3JnaXZlTWUgLSBmdW5jdGlvbiBjYWxsZWQgYnkgc2NhbW1lciB0byBwYXkgYW55IG9mIGl0cyBkZWJ0Ci8vSWYgdGhlIGFtb3VudCBzZW50IHRvIHRoaXMgZnVuY3Rpb24gaXMgZ3JlYXRlciB0aGFuIHRoZSBhbW91bnQgCi8vdGhhdCBpcyBuZWVkZWQgdG8gY292ZXIgb3IgZGVidCBpcyBzZW50IGJhY2sgdG8gdGhlIHNjYW1tZXIuCmZ1bmN0aW9uIGZvcmdpdmVNZSgpIHBheWFibGUgdG9CZUFTY2FtbWVyIHJldHVybnMgKGJvb2wgc3VjY2Vzcyl7CiAgICBhZGRyZXNzIHNjYW1tZXIgPSBtc2cuc2VuZGVyOwoKICAgIGZvcmdpdmVUaGlzKHNjYW1tZXIpOwogICAgcmV0dXJuIHRydWU7Cn0KLy9mb3JnaXZlTWVPbkJlaGFsZk9mIC0gc29tZWJvZHkgZWxzZSBjYW4gcGF5IGEgc2NhbW1lciBhZGRyZXNzIGRlYnQgKHNhbWUgYXMgYWJvdmUpCmZ1bmN0aW9uIGZvcmdpdmVNZU9uQmVoYWxmT2YoYWRkcmVzcyBzY2FtbWVyKSBwYXlhYmxlIGFkZHJlc3NUb0JlQVNjYW1tZXIoc2NhbW1lcikgcmV0dXJucyAoYm9vbCBzdWNjZXNzKXsKCiAgICAgICAgZm9yZ2l2ZVRoaXMoc2NhbW1lcik7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgZnVuY3Rpb24gZm9yZ2l2ZVRoaXMoYWRkcmVzcyBzY2FtbWVyKSBwcml2YXRlIHJldHVybnMgKGJvb2wgc3VjY2Vzcyl7CiAgICAgICAgdWludDI1NiBmb3JnaXZlbmVzc0Ftb3VudCA9IG1zZy52YWx1ZTsKICAgICAgICB1aW50MjU2IGNvbnRyYWN0RmVlQW1vdW50ID0gIGRpdihtdWwoZm9yZ2l2ZW5lc3NBbW91bnQsIGNvbnRyYWN0RmVlUGVyY2VudGFnZSksIDEwMCk7IAogICAgICAgIHVpbnQyNTYgbnVtYmVyT2ZUb3RhbFRva2Vuc1RvRm9yZ2l2ZSA9IGRpdihkaXYoZm9yZ2l2ZW5lc3NBbW91bnQsIHJlbGllZlJhdGlvKSwgcHJpY2VQZXJVbml0KTsKICAgICAgICBmb3JnaXZlbmVzc0Ftb3VudCA9IGZvcmdpdmVuZXNzQW1vdW50IC0gY29udHJhY3RGZWVBbW91bnQ7CiAgICAgICAgZm9yKHVpbnQxMjggaSA9IDA7IGkgPCBmbGFnZ2VkSW5kZXhbc2NhbW1lcl0ubGVuZ3RoOyBpKyspewogICAgICAgICAgICBhZGRyZXNzIGZvcmdpdmVkQnkgPSBmbGFnZ2VkSW5kZXhbc2NhbW1lcl1baV07CiAgICAgICAgICAgIHVpbnQyNTYgdG9Gb3JnaXZlID0gZmxhZ2dlZFF1YW50aXR5W3NjYW1tZXJdW2ZvcmdpdmVkQnldIC0gZmxhZ2dlZFJlcGFpZFtzY2FtbWVyXVtmb3JnaXZlZEJ5XTsKICAgICAgICAgICAgaWYodG9Gb3JnaXZlID4gMCl7CiAgICAgICAgICAgICAgICBpZih0b0ZvcmdpdmUgPj0gZm9yZ2l2ZW5lc3NBbW91bnQpewogICAgICAgICAgICAgICAgICAgIGZsYWdnZWRSZXBhaWRbc2NhbW1lcl1bZm9yZ2l2ZWRCeV0gKz0gZm9yZ2l2ZW5lc3NBbW91bnQ7CiAgICAgICAgICAgICAgICAgICAgdG90YWxSZXBhaWRRdWFudGl0eSArPSBmb3JnaXZlbmVzc0Ftb3VudDsKICAgICAgICAgICAgICAgICAgICB0b3RhbFNjYW1tZWRSZXBhaWRbc2NhbW1lcl0gKz0gZm9yZ2l2ZW5lc3NBbW91bnQ7CiAgICAgICAgICAgICAgICAgICAgZm9yZ2l2ZWRCeS50cmFuc2Zlcihmb3JnaXZlbmVzc0Ftb3VudCk7CiAgICAgICAgICAgICAgICAgICAgUGFydGlhbGx5Rm9yZ2l2ZWQoc2NhbW1lciwgZm9yZ2l2ZWRCeSwgZm9yZ2l2ZW5lc3NBbW91bnQpOwogICAgICAgICAgICAgICAgICAgIGZvcmdpdmVuZXNzQW1vdW50ID0gMDsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIGZvcmdpdmVuZXNzQW1vdW50IC09IHRvRm9yZ2l2ZTsKICAgICAgICAgICAgICAgICAgICBmbGFnZ2VkUmVwYWlkW3NjYW1tZXJdW2ZvcmdpdmVkQnldICs9IHRvRm9yZ2l2ZTsKICAgICAgICAgICAgICAgICAgICB0b3RhbFNjYW1tZWRSZXBhaWRbc2NhbW1lcl0gKz0gdG9Gb3JnaXZlOwogICAgICAgICAgICAgICAgICAgIHRvdGFsUmVwYWlkUXVhbnRpdHkgKz0gdG9Gb3JnaXZlOwogICAgICAgICAgICAgICAgICAgIGZvcmdpdmVkQnkudHJhbnNmZXIodG9Gb3JnaXZlKTsKICAgICAgICAgICAgICAgICAgICBGb3JnaXZlZChzY2FtbWVyLCBmb3JnaXZlZEJ5LCB0b0ZvcmdpdmUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYoZmxhZ2dlckluc3VyYW5jZVtmb3JnaXZlZEJ5XVtzY2FtbWVyXSA+IDApewogICAgICAgICAgICAgICAgICAgIHVpbnQyNTYgaW5zdXJhbmNlID0gZmxhZ2dlckluc3VyYW5jZVtmb3JnaXZlZEJ5XVtzY2FtbWVyXTsKICAgICAgICAgICAgICAgICAgICBjb250cmFjdEZlZUFtb3VudCArPSBpbnN1cmFuY2U7CiAgICAgICAgICAgICAgICAgICAgZmxhZ2dlckluc3VyYW5jZVtmb3JnaXZlZEJ5XVtzY2FtbWVyXSA9IDA7CiAgICAgICAgICAgICAgICAgICAgY29udHJhY3RzSW5zdXJhbmNlRmVlW2ZvcmdpdmVkQnldW3NjYW1tZXJdID0gMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBvd25lci50cmFuc2Zlcihjb250cmFjdEZlZUFtb3VudCk7CiAgICAgICAgdGhlU2NhbVNlYWxUb2tlbi50cmFuc2ZlckJhY2soc2NhbW1lciwgbnVtYmVyT2ZUb3RhbFRva2Vuc1RvRm9yZ2l2ZSk7CgogICAgICAgIGlmKGZvcmdpdmVuZXNzQW1vdW50ID4gMCl7CiAgICAgICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoZm9yZ2l2ZW5lc3NBbW91bnQpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIGV2ZW50IERvbmF0aW9uUmVjZWl2ZWQoYWRkcmVzcyBieSwgdWludDI1NiBhbW91bnQpOwogICAgZnVuY3Rpb24gZG9uYXRlKCkgcGF5YWJsZSB7CiAgICAgICAgb3duZXIudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgICAgICBEb25hdGlvblJlY2VpdmVkKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CgogICAgfQogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7CiAgICAgICAgb3duZXIudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgICAgICBEb25hdGlvblJlY2VpdmVkKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7ICAgICAgICAKICAgIH0KICAgIAoKfQ=='.
	

]
