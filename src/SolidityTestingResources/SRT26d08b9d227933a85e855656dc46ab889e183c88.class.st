Class {
	#name : #SRT26d08b9d227933a85e855656dc46ab889e183c88,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT26d08b9d227933a85e855656dc46ab889e183c88 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7Cgpjb250cmFjdCBQbGF5a2V5SUNPIHsKCiAgLy8gQ29uc3RhbnRzCiAgLy8gPT09PT09PT09CgogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHRva2Vuc1BlckV0aCA9IDI1MDsgLy8gUEtUIHBlciBFVEgKICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCB0b2tlbkxpbWl0ID0gMTAwICogMWU2ICogMWUxODsKICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCB0b2tlbnNGb3JTYWxlID0gdG9rZW5MaW1pdCAqIDYwIC8gMTAwOwogIHVpbnQyNTYgcHVibGljIHByZXNhbGVTb2xkID0gMDsKCgogIC8vIEV2ZW50cwogIC8vID09PT09PQoKICBldmVudCBSdW5JY28oKTsKICBldmVudCBQYXVzZUljbygpOwogIGV2ZW50IEZpbmlzaEljbyhhZGRyZXNzIHRlYW0sIGFkZHJlc3MgZm91bmRhdGlvbiwgYWRkcmVzcyBhZHZpc29ycywgYWRkcmVzcyBib3VudHkpOwoKCiAgLy8gU3RhdGUgdmFyaWFibGVzCiAgLy8gPT09PT09PT09PT09PT09CgogIFBLVCBwdWJsaWMgcGt0OwoKICBhZGRyZXNzIHB1YmxpYyB0ZWFtOwogIG1vZGlmaWVyIHRlYW1Pbmx5IHsgcmVxdWlyZShtc2cuc2VuZGVyID09IHRlYW0pOyBfOyB9CgogIGVudW0gSWNvU3RhdGUgeyBQcmVzYWxlLCBSdW5uaW5nLCBQYXVzZWQsIEZpbmlzaGVkIH0KICBJY29TdGF0ZSBwdWJsaWMgaWNvU3RhdGUgPSBJY29TdGF0ZS5QcmVzYWxlOwoKCiAgLy8gQ29uc3RydWN0b3IKICAvLyA9PT09PT09PT09PQoKICBmdW5jdGlvbiBQbGF5a2V5SUNPKGFkZHJlc3MgX3RlYW0pIHsKICAgIHRlYW0gPSBfdGVhbTsKICAgIHBrdCA9IG5ldyBQS1QodGhpcywgdG9rZW5MaW1pdCk7CiAgfQoKCiAgLy8gUHVibGljIGZ1bmN0aW9ucwogIC8vID09PT09PT09PT09PT09PT0KCiAgLy8gSGVyZSB5b3UgY2FuIGJ1eSBzb21lIHRva2VucyAoanVzdCBkb24ndCBmb3JnZXQgdG8gcHJvdmlkZSBlbm91Z2ggZ2FzKS4KICBmdW5jdGlvbigpIGV4dGVybmFsIHBheWFibGUgewogICAgYnV5Rm9yKG1zZy5zZW5kZXIpOwogIH0KCgogIGZ1bmN0aW9uIGJ1eUZvcihhZGRyZXNzIF9pbnZlc3RvcikgcHVibGljIHBheWFibGUgewogICAgcmVxdWlyZShpY29TdGF0ZSA9PSBJY29TdGF0ZS5SdW5uaW5nKTsKICAgIHJlcXVpcmUobXNnLnZhbHVlID4gMCk7CiAgICBidXkoX2ludmVzdG9yLCBtc2cudmFsdWUpOwogIH0KCgogIGZ1bmN0aW9uIGdldFByZXNhbGVUb3RhbCh1aW50MjU2IF92YWx1ZSkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmKF92YWx1ZSA8IDYwIGV0aGVyKSB7CiAgICAgIHJldHVybiBfdmFsdWUgKiB0b2tlbnNQZXJFdGg7CiAgICB9CgogICAgaWYoX3ZhbHVlID49IDYwIGV0aGVyICYmIF92YWx1ZSA8IDE1MCBldGhlcikgewogICAgICByZXR1cm4gY2FsY1ByZXNhbGVEaXNjb3VudChfdmFsdWUsIDI1KTsKICAgIH0KCiAgICBpZihfdmFsdWUgPj0gMTUwIGV0aGVyICYmIF92YWx1ZSA8IDUwMCBldGhlcikgewogICAgICByZXR1cm4gY2FsY1ByZXNhbGVEaXNjb3VudChfdmFsdWUsIDMwKTsKICAgIH0KCiAgICBpZihfdmFsdWUgPj0gNTAwIGV0aGVyKSB7CiAgICAgIHJldHVybiBjYWxjUHJlc2FsZURpc2NvdW50KF92YWx1ZSwgMzUpOwogICAgfQogIH0KCgogIGZ1bmN0aW9uIGdldFRvdGFsKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBfcGt0VmFsdWUgPSBfdmFsdWUgKiB0b2tlbnNQZXJFdGg7CiAgICB1aW50MjU2IF9ib251cyA9IGdldEJvbnVzKF9wa3RWYWx1ZSwgcGt0LnRvdGFsU3VwcGx5KCkgLSBwcmVzYWxlU29sZCk7CgogICAgcmV0dXJuIF9wa3RWYWx1ZSArIF9ib251czsKICB9CgoKICBmdW5jdGlvbiBnZXRCb251cyh1aW50MjU2IF9wa3RWYWx1ZSwgdWludDI1NiBfc29sZCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTZbOF0gbWVtb3J5IF9ib251c1BhdHRlcm4gPSBbIHVpbnQyNTYoMTUwKSwgMTI1LCAxMDAsIDc1LCA1MCwgMzgsIDI1LCAxMyBdOwogICAgdWludDI1NiBfc3RlcCA9ICh0b2tlbnNGb3JTYWxlIC0gcHJlc2FsZVNvbGQpIC8gMTA7CiAgICB1aW50MjU2IF9ib251cyA9IDA7CgogICAgZm9yKHVpbnQ4IGkgPSAwOyBpIDwgX2JvbnVzUGF0dGVybi5sZW5ndGg7ICsraSkgewogICAgICB1aW50MjU2IF9taW4gPSBfc3RlcCAqIGk7CiAgICAgIHVpbnQyNTYgX21heCA9IF9zdGVwICogKGkgKyAxKTsKICAgICAgaWYoX3NvbGQgPj0gX21pbiAmJiBfc29sZCA8IF9tYXgpIHsKICAgICAgICB1aW50MjU2IF9ib251c1BhcnQgPSBtaW4oX3BrdFZhbHVlLCBfbWF4IC0gX3NvbGQpOwogICAgICAgIF9ib251cyArPSBfYm9udXNQYXJ0ICogX2JvbnVzUGF0dGVybltpXSAvIDEwMDA7CiAgICAgICAgX3BrdFZhbHVlIC09IF9ib251c1BhcnQ7CiAgICAgICAgX3NvbGQgICs9IF9ib251c1BhcnQ7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gX2JvbnVzOwogIH0KCgogIC8vIFByaXZlbGVnZWQgZnVuY3Rpb25zCiAgLy8gPT09PT09PT09PT09PT09PT09PT0KCiAgZnVuY3Rpb24gbWludEZvckVhcmx5SW52ZXN0b3JzKGFkZHJlc3NbXSBfaW52ZXN0b3JzLCB1aW50MjU2W10gX3ZhbHVlcykgZXh0ZXJuYWwgdGVhbU9ubHkgewogICAgcmVxdWlyZShfaW52ZXN0b3JzLmxlbmd0aCA9PSBfdmFsdWVzLmxlbmd0aCk7CiAgICBmb3IgKHVpbnQyNTYgaSA9IDA7IGkgPCBfaW52ZXN0b3JzLmxlbmd0aDsgKytpKSB7CiAgICAgIG1pbnRQcmVzYWxlVG9rZW5zKF9pbnZlc3RvcnNbaV0sIF92YWx1ZXNbaV0pOwogICAgfQogIH0KCgogIGZ1bmN0aW9uIG1pbnRGb3IoYWRkcmVzcyBfaW52ZXN0b3IsIHVpbnQyNTYgX3BrdFZhbHVlKSBleHRlcm5hbCB0ZWFtT25seSB7CiAgICByZXF1aXJlKGljb1N0YXRlICE9IEljb1N0YXRlLkZpbmlzaGVkKTsKICAgIHJlcXVpcmUocGt0LnRvdGFsU3VwcGx5KCkgKyBfcGt0VmFsdWUgPD0gdG9rZW5zRm9yU2FsZSk7CgogICAgcGt0Lm1pbnQoX2ludmVzdG9yLCBfcGt0VmFsdWUpOwogIH0KCgogIGZ1bmN0aW9uIHdpdGhkcmF3RXRoZXIodWludDI1NiBfdmFsdWUpIGV4dGVybmFsIHRlYW1Pbmx5IHsKICAgIHRlYW0udHJhbnNmZXIoX3ZhbHVlKTsKICB9CgoKICAvLyBTYXZlIHRva2VucyBmcm9tIGNvbnRyYWN0CiAgZnVuY3Rpb24gd2l0aGRyYXdUb2tlbihhZGRyZXNzIF90b2tlbkNvbnRyYWN0LCB1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwgdGVhbU9ubHkgewogICAgRVJDMjAgX3Rva2VuID0gRVJDMjAoX3Rva2VuQ29udHJhY3QpOwogICAgX3Rva2VuLnRyYW5zZmVyKHRlYW0sIF92YWx1ZSk7CiAgfQoKCiAgZnVuY3Rpb24gd2l0aGRyYXdUb2tlbkZyb21Qa3QoYWRkcmVzcyBfdG9rZW5Db250cmFjdCwgdWludDI1NiBfdmFsdWUpIGV4dGVybmFsIHRlYW1Pbmx5IHsKICAgIHBrdC53aXRoZHJhd1Rva2VuKF90b2tlbkNvbnRyYWN0LCB0ZWFtLCBfdmFsdWUpOwogIH0KCgogIC8vIElDTyBzdGF0ZSBtYW5hZ2VtZW50OiBzdGFydCAvIHBhdXNlIC8gZmluaXNoCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgZnVuY3Rpb24gc3RhcnRJY28oKSBleHRlcm5hbCB0ZWFtT25seSB7CiAgICByZXF1aXJlKGljb1N0YXRlID09IEljb1N0YXRlLlByZXNhbGUgfHwgaWNvU3RhdGUgPT0gSWNvU3RhdGUuUGF1c2VkKTsKICAgIGljb1N0YXRlID0gSWNvU3RhdGUuUnVubmluZzsKICAgIFJ1bkljbygpOwogIH0KCgogIGZ1bmN0aW9uIHBhdXNlSWNvKCkgZXh0ZXJuYWwgdGVhbU9ubHkgewogICAgcmVxdWlyZShpY29TdGF0ZSA9PSBJY29TdGF0ZS5SdW5uaW5nKTsKICAgIGljb1N0YXRlID0gSWNvU3RhdGUuUGF1c2VkOwogICAgUGF1c2VJY28oKTsKICB9CgoKICBmdW5jdGlvbiBmaW5pc2hJY28oYWRkcmVzcyBfdGVhbSwgYWRkcmVzcyBfZm91bmRhdGlvbiwgYWRkcmVzcyBfYWR2aXNvcnMsIGFkZHJlc3MgX2JvdW50eSkgZXh0ZXJuYWwgdGVhbU9ubHkgewogICAgcmVxdWlyZShpY29TdGF0ZSA9PSBJY29TdGF0ZS5SdW5uaW5nIHx8IGljb1N0YXRlID09IEljb1N0YXRlLlBhdXNlZCk7CgogICAgaWNvU3RhdGUgPSBJY29TdGF0ZS5GaW5pc2hlZDsKICAgIHVpbnQyNTYgX3RlYW1GdW5kID0gcGt0LnRvdGFsU3VwcGx5KCkgKiAyIC8gMzsKCiAgICB1aW50MjU2IF9kZW4gPSAxMDAwMDsKICAgIHBrdC5taW50KF90ZWFtLCBfdGVhbUZ1bmQgKiA1MDAwIC8gX2Rlbik7CiAgICBwa3QubWludChfZm91bmRhdGlvbiwgX3RlYW1GdW5kICogMzEyNSAvIF9kZW4pOwogICAgcGt0Lm1pbnQoX2Fkdmlzb3JzLCBfdGVhbUZ1bmQgKiAxNTAwIC8gX2Rlbik7CiAgICBwa3QubWludChfYm91bnR5LCBfdGVhbUZ1bmQgLSBfdGVhbUZ1bmQgKiA5NjI1IC8gX2Rlbik7CgogICAgcGt0LmRlZnJvc3QoKTsKCiAgICBGaW5pc2hJY28oX3RlYW0sIF9mb3VuZGF0aW9uLCBfYWR2aXNvcnMsIF9ib3VudHkpOwogIH0KCgogIC8vIFByaXZhdGUgZnVuY3Rpb25zCiAgLy8gPT09PT09PT09PT09PT09PT0KCiAgZnVuY3Rpb24gbWludFByZXNhbGVUb2tlbnMoYWRkcmVzcyBfaW52ZXN0b3IsIHVpbnQyNTYgX3ZhbHVlKSBpbnRlcm5hbCB7CiAgICByZXF1aXJlKGljb1N0YXRlID09IEljb1N0YXRlLlByZXNhbGUpOwogICAgcmVxdWlyZShfdmFsdWUgPiAwKTsKCiAgICB1aW50MjU2IF9wa3RWYWx1ZSA9IGdldFByZXNhbGVUb3RhbChfdmFsdWUpOwoKICAgIHJlcXVpcmUocGt0LnRvdGFsU3VwcGx5KCkgKyBfcGt0VmFsdWUgPD0gdG9rZW5zRm9yU2FsZSk7CgogICAgcGt0Lm1pbnQoX2ludmVzdG9yLCBfcGt0VmFsdWUpOwogICAgcHJlc2FsZVNvbGQgKz0gX3BrdFZhbHVlOwogIH0KCgogIGZ1bmN0aW9uIGNhbGNQcmVzYWxlRGlzY291bnQodWludDI1NiBfdmFsdWUsIHVpbnQyNTYgX3BlcmNlbnQpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBfdmFsdWUgKiB0b2tlbnNQZXJFdGggKiAxMDAgLyAoMTAwIC0gX3BlcmNlbnQpOwogIH0KCgogIGZ1bmN0aW9uIG1pbih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQoKCiAgZnVuY3Rpb24gYnV5KGFkZHJlc3MgX2ludmVzdG9yLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgewogICAgdWludDI1NiBfdG90YWwgPSBnZXRUb3RhbChfdmFsdWUpOwoKICAgIHJlcXVpcmUocGt0LnRvdGFsU3VwcGx5KCkgKyBfdG90YWwgPD0gdG9rZW5zRm9yU2FsZSk7CgogICAgcGt0Lm1pbnQoX2ludmVzdG9yLCBfdG90YWwpOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBNYXRoCiAqIEBkZXYgQXNzb3J0ZWQgbWF0aCBvcGVyYXRpb25zCiAqLwoKbGlicmFyeSBNYXRoIHsKICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLgogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCiAgICAvLyBTYWZlTWF0aC5zdWIgd2lsbCB0aHJvdyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJhbGFuY2UuCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLgogICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBAZGV2IEltcGxlbWVudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFyZCB0b2tlbi4KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CgogICAgdWludDI1NiBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAvLyByZXF1aXJlIChfdmFsdWUgPD0gX2FsbG93YW5jZSk7CgogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KICAgKgogICAqIEJld2FyZSB0aGF0IGNoYW5naW5nIGFuIGFsbG93YW5jZSB3aXRoIHRoaXMgbWV0aG9kIGJyaW5ncyB0aGUgcmlzayB0aGF0IHNvbWVvbmUgbWF5IHVzZSBib3RoIHRoZSBvbGQKICAgKiBhbmQgdGhlIG5ldyBhbGxvd2FuY2UgYnkgdW5mb3J0dW5hdGUgdHJhbnNhY3Rpb24gb3JkZXJpbmcuIE9uZSBwb3NzaWJsZSBzb2x1dGlvbiB0byBtaXRpZ2F0ZSB0aGlzCiAgICogcmFjZSBjb25kaXRpb24gaXMgdG8gZmlyc3QgcmVkdWNlIHRoZSBzcGVuZGVyJ3MgYWxsb3dhbmNlIHRvIDAgYW5kIHNldCB0aGUgZGVzaXJlZCB2YWx1ZSBhZnRlcndhcmRzOgogICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmeWluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9CgogIC8qKgogICAqIGFwcHJvdmUgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFsbG93ZWRbX3NwZW5kZXJdID09IDAuIFRvIGluY3JlbWVudAogICAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsCiAgICogdGhlIGZpcnN0IHRyYW5zYWN0aW9uIGlzIG1pbmVkKQogICAqIEZyb20gTW9ub2xpdGhEQU8gVG9rZW4uc29sCiAgICovCiAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXS5hZGQoX2FkZGVkVmFsdWUpOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICB1aW50IG9sZFZhbHVlID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl07CiAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgfQogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KCn0KCmNvbnRyYWN0IFBLVCBpcyBTdGFuZGFyZFRva2VuIHsKCiAgLy8gQ29uc3RhbnRzCiAgLy8gPT09PT09PT09CgogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJQbGF5a2V5IFRva2VuIjsKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJQS1QiOwogIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwogIHVpbnQyNTYgcHVibGljIHRva2VuTGltaXQ7CgoKICAvLyBTdGF0ZSB2YXJpYWJsZXMKICAvLyA9PT09PT09PT09PT09PT0KCiAgYWRkcmVzcyBwdWJsaWMgaWNvOwogIG1vZGlmaWVyIGljb09ubHkgeyByZXF1aXJlKG1zZy5zZW5kZXIgPT0gaWNvKTsgXzsgfQoKICAvLyBUb2tlbnMgYXJlIGZyb3plbiB1bnRpbCBJQ08gZW5kcy4KICBib29sIHB1YmxpYyB0b2tlbnNBcmVGcm96ZW4gPSB0cnVlOwoKCiAgLy8gQ29uc3RydWN0b3IKICAvLyA9PT09PT09PT09PQoKICBmdW5jdGlvbiBQS1QoYWRkcmVzcyBfaWNvLCB1aW50MjU2IF90b2tlbkxpbWl0KSB7CiAgICBpY28gPSBfaWNvOwogICAgdG9rZW5MaW1pdCA9IF90b2tlbkxpbWl0OwogIH0KCgogIC8vIFByaXZlbGVnZWQgZnVuY3Rpb25zCiAgLy8gPT09PT09PT09PT09PT09PT09PT0KCiAgLy8gTWludCBmZXcgdG9rZW5zIGFuZCB0cmFuc2ZlciB0aGVtIHRvIHNvbWUgYWRkcmVzcy4KICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX2hvbGRlciwgdWludDI1NiBfdmFsdWUpIGV4dGVybmFsIGljb09ubHkgewogICAgcmVxdWlyZShfaG9sZGVyICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShfdmFsdWUgIT0gMCk7CiAgICByZXF1aXJlKHRvdGFsU3VwcGx5ICsgX3ZhbHVlIDw9IHRva2VuTGltaXQpOwoKICAgIGJhbGFuY2VzW19ob2xkZXJdICs9IF92YWx1ZTsKICAgIHRvdGFsU3VwcGx5ICs9IF92YWx1ZTsKICAgIFRyYW5zZmVyKDB4MCwgX2hvbGRlciwgX3ZhbHVlKTsKICB9CgoKICAvLyBBbGxvdyB0b2tlbiB0cmFuc2Zlci4KICBmdW5jdGlvbiBkZWZyb3N0KCkgZXh0ZXJuYWwgaWNvT25seSB7CiAgICB0b2tlbnNBcmVGcm96ZW4gPSBmYWxzZTsKICB9CgoKICAvLyBTYXZlIHRva2VucyBmcm9tIGNvbnRyYWN0CiAgZnVuY3Rpb24gd2l0aGRyYXdUb2tlbihhZGRyZXNzIF90b2tlbkNvbnRyYWN0LCBhZGRyZXNzIHdoZXJlLCB1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwgaWNvT25seSB7CiAgICBFUkMyMCBfdG9rZW4gPSBFUkMyMChfdG9rZW5Db250cmFjdCk7CiAgICBfdG9rZW4udHJhbnNmZXIod2hlcmUsIF92YWx1ZSk7CiAgfQoKCiAgLy8gRVJDMjAgZnVuY3Rpb25zCiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PQoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpICBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZSghdG9rZW5zQXJlRnJvemVuKTsKICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgfQoKCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoIXRva2Vuc0FyZUZyb3plbik7CiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoIXRva2Vuc0FyZUZyb3plbik7CiAgICByZXR1cm4gc3VwZXIuYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKTsKICB9Cn0='.
	

]
