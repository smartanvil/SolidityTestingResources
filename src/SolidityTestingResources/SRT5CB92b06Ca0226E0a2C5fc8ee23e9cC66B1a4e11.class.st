Class {
	#name : #SRT5CB92b06Ca0226E0a2C5fc8ee23e9cC66B1a4e11,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5CB92b06Ca0226E0a2C5fc8ee23e9cC66B1a4e11 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7CgovLyBTYWZlTWF0aCBpcyBhIHBhcnQgb2YgWmVwcGVsaW4gU29saWRpdHkgbGlicmFyeQovLyBsaWNlbnNlZCB1bmRlciBNSVQgTGljZW5zZQovLyBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UKCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBpZiAoYSA9PSAwKSB7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgICAgICB1aW50MjU2IGMgPSBhICogYjsKICAgICAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9Cn0KCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkKCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4KICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogICAgdWludDI1NiB0b3RhbFN1cHBseV87CgogICAgLyoqCiAgICAqIEBkZXYgUHJvdGVjdGlvbiBmcm9tIHNob3J0IGFkZHJlc3MgYXR0YWNrCiAgICAqLwogICAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgc2l6ZSkgewogICAgICAgIGFzc2VydChtc2cuZGF0YS5sZW5ndGggPT0gc2l6ZSArIDQpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgdG90YWwgbnVtYmVyIG9mIHRva2VucyBpbiBleGlzdGVuY2UKICAgICovCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gdG90YWxTdXBwbHlfOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgyICogMzIpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwoKICAgICAgICAvLyBTYWZlTWF0aC5zdWIgd2lsbCB0aHJvdyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJhbGFuY2UuCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBlbWl0IFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKCiAgICAgICAgX3Bvc3RUcmFuc2Zlckhvb2sobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgICAqLwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBIb29rIGZvciBjdXN0b20gYWN0aW9ucyB0byBiZSBleGVjdXRlZCBhZnRlciB0cmFuc2ZlciBoYXMgY29tcGxldGVkCiAgICAqIEBwYXJhbSBfZnJvbSBUcmFuc2ZlcnJlZCBmcm9tCiAgICAqIEBwYXJhbSBfdG8gVHJhbnNmZXJyZWQgdG8KICAgICogQHBhcmFtIF92YWx1ZSBWYWx1ZSB0cmFuc2ZlcnJlZAogICAgKi8KICAgIGZ1bmN0aW9uIF9wb3N0VHJhbnNmZXJIb29rKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWw7Cn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgaW50ZXJuYWwgYWxsb3dlZDsKCgogICAgLyoqCiAgICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbX2Zyb21dKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CgogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIGVtaXQgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKCiAgICAgICAgX3Bvc3RUcmFuc2Zlckhvb2soX2Zyb20sIF90bywgX3ZhbHVlKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEFwcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KICAgICAqCiAgICAgKiBCZXdhcmUgdGhhdCBjaGFuZ2luZyBhbiBhbGxvd2FuY2Ugd2l0aCB0aGlzIG1ldGhvZCBicmluZ3MgdGhlIHJpc2sgdGhhdCBzb21lb25lIG1heSB1c2UgYm90aCB0aGUgb2xkCiAgICAgKiBhbmQgdGhlIG5ldyBhbGxvd2FuY2UgYnkgdW5mb3J0dW5hdGUgdHJhbnNhY3Rpb24gb3JkZXJpbmcuIE9uZSBwb3NzaWJsZSBzb2x1dGlvbiB0byBtaXRpZ2F0ZSB0aGlzCiAgICAgKiByYWNlIGNvbmRpdGlvbiBpcyB0byBmaXJzdCByZWR1Y2UgdGhlIHNwZW5kZXIncyBhbGxvd2FuY2UgdG8gMCBhbmQgc2V0IHRoZSBkZXNpcmVkIHZhbHVlIGFmdGVyd2FyZHM6CiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBlbWl0IEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBJbmNyZWFzZSB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAgICoKICAgICAqIGFwcHJvdmUgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFsbG93ZWRbX3NwZW5kZXJdID09IDAuIFRvIGluY3JlbWVudAogICAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgICAqIEZyb20gTW9ub2xpdGhEQU8gVG9rZW4uc29sCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAgKiBAcGFyYW0gX2FkZGVkVmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gaW5jcmVhc2UgdGhlIGFsbG93YW5jZSBieS4KICAgICAqLwogICAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgICAgICBlbWl0IEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IERlY3JlYXNlIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICAgKgogICAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gZGVjcmVtZW50CiAgICAgKiBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbAogICAgICogdGhlIGZpcnN0IHRyYW5zYWN0aW9uIGlzIG1pbmVkKQogICAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAqIEBwYXJhbSBfc3VidHJhY3RlZFZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGRlY3JlYXNlIHRoZSBhbGxvd2FuY2UgYnkuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgICAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgICAgICB9CiAgICAgICAgZW1pdCBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKfQoKY29udHJhY3QgT3duZWQgewogICAgYWRkcmVzcyBvd25lcjsKCiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLy8gQGRldiBDb250cmFjdCBjb25zdHJ1Y3RvcgogICAgZnVuY3Rpb24gT3duZWQoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KfQoKCmNvbnRyYWN0IEFjY2VwdHNUb2tlbnMgewogICAgRVRUb2tlbiBwdWJsaWMgdG9rZW5Db250cmFjdDsKCiAgICBmdW5jdGlvbiBBY2NlcHRzVG9rZW5zKGFkZHJlc3MgX3Rva2VuQ29udHJhY3QpIHB1YmxpYyB7CiAgICAgICAgdG9rZW5Db250cmFjdCA9IEVUVG9rZW4oX3Rva2VuQ29udHJhY3QpOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlUb2tlbkNvbnRyYWN0IHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gYWRkcmVzcyh0b2tlbkNvbnRyYWN0KSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBhY2NlcHRUb2tlbnMoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIHVpbnQyNTYgcGFyYW0xLCB1aW50MjU2IHBhcmFtMiwgdWludDI1NiBwYXJhbTMpIGV4dGVybmFsOwp9Cgpjb250cmFjdCBFVFRva2VuIGlzIE93bmVkLCBTdGFuZGFyZFRva2VuIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJFVEguVE9XTiBUb2tlbiI7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJFVElUIjsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDE4OwoKICAgIGFkZHJlc3MgcHVibGljIGJlbmVmaWNpYXJ5OwogICAgYWRkcmVzcyBwdWJsaWMgb3JhY2xlOwogICAgYWRkcmVzcyBwdWJsaWMgaGVyb0NvbnRyYWN0OwogICAgbW9kaWZpZXIgb25seU9yYWNsZSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG9yYWNsZSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtYXBwaW5nICh1aW50MzIgPT4gYWRkcmVzcykgcHVibGljIGZsb29yQ29udHJhY3RzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgY2FuQWNjZXB0VG9rZW5zOwoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGlzTWludGVyOwoKICAgIG1vZGlmaWVyIG9ubHlNaW50ZXJzIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgaXNNaW50ZXJbbXNnLnNlbmRlcl0pOwogICAgICAgIF87CiAgICB9CgogICAgZXZlbnQgRGl2aWRlbmQodWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBXaXRoZHJhd2FsKGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50MjU2IHZhbHVlKTsKCiAgICBmdW5jdGlvbiBFVFRva2VuKCkgcHVibGljIHsKICAgICAgICBvcmFjbGUgPSBvd25lcjsKICAgICAgICBiZW5lZmljaWFyeSA9IG93bmVyOwoKICAgICAgICB0b3RhbFN1cHBseV8gPSAwOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldE9yYWNsZShhZGRyZXNzIF9vcmFjbGUpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgb3JhY2xlID0gX29yYWNsZTsKICAgIH0KICAgIGZ1bmN0aW9uIHNldEJlbmVmaWNpYXJ5KGFkZHJlc3MgX2JlbmVmaWNpYXJ5KSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIGJlbmVmaWNpYXJ5ID0gX2JlbmVmaWNpYXJ5OwogICAgfQogICAgZnVuY3Rpb24gc2V0SGVyb0NvbnRyYWN0KGFkZHJlc3MgX2hlcm9Db250cmFjdCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICBoZXJvQ29udHJhY3QgPSBfaGVyb0NvbnRyYWN0OwogICAgfQoKICAgIGZ1bmN0aW9uIF9taW50VG9rZW5zKGFkZHJlc3MgX3VzZXIsIHVpbnQyNTYgX2Ftb3VudCkgcHJpdmF0ZSB7CiAgICAgICAgcmVxdWlyZShfdXNlciAhPSAweDApOwoKICAgICAgICBiYWxhbmNlc1tfdXNlcl0gPSBiYWxhbmNlc1tfdXNlcl0uYWRkKF9hbW91bnQpOwogICAgICAgIHRvdGFsU3VwcGx5XyA9IHRvdGFsU3VwcGx5Xy5hZGQoX2Ftb3VudCk7CgogICAgICAgIGVtaXQgVHJhbnNmZXIoYWRkcmVzcyh0aGlzKSwgX3VzZXIsIF9hbW91bnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGF1dGhvcml6ZUZsb29yKHVpbnQzMiBfaW5kZXgsIGFkZHJlc3MgX2Zsb29yQ29udHJhY3QpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgZmxvb3JDb250cmFjdHNbX2luZGV4XSA9IF9mbG9vckNvbnRyYWN0OwogICAgfQoKICAgIGZ1bmN0aW9uIF9hY2NlcHREaXZpZGVuZHModWludDI1NiBfdmFsdWUpIGludGVybmFsIHsKICAgICAgICB1aW50MjU2IGJlbmVmaWNpYXJ5U2hhcmUgPSBfdmFsdWUgLyA1OwogICAgICAgIHVpbnQyNTYgcG9vbFNoYXJlID0gX3ZhbHVlLnN1YihiZW5lZmljaWFyeVNoYXJlKTsKCiAgICAgICAgYmVuZWZpY2lhcnkudHJhbnNmZXIoYmVuZWZpY2lhcnlTaGFyZSk7CgogICAgICAgIGVtaXQgRGl2aWRlbmQocG9vbFNoYXJlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhY2NlcHREaXZpZGVuZHModWludDI1NiBfdmFsdWUsIHVpbnQzMiBfZmxvb3JJbmRleCkgZXh0ZXJuYWwgewogICAgICAgIHJlcXVpcmUoZmxvb3JDb250cmFjdHNbX2Zsb29ySW5kZXhdID09IG1zZy5zZW5kZXIpOwoKICAgICAgICBfYWNjZXB0RGl2aWRlbmRzKF92YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gcmV3YXJkVG9rZW5zRmxvb3IoYWRkcmVzcyBfdXNlciwgdWludDI1NiBfdG9rZW5zLCB1aW50MzIgX2Zsb29ySW5kZXgpIGV4dGVybmFsIHsKICAgICAgICByZXF1aXJlKGZsb29yQ29udHJhY3RzW19mbG9vckluZGV4XSA9PSBtc2cuc2VuZGVyKTsKCiAgICAgICAgX21pbnRUb2tlbnMoX3VzZXIsIF90b2tlbnMpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJld2FyZFRva2VucyhhZGRyZXNzIF91c2VyLCB1aW50MjU2IF90b2tlbnMpIGV4dGVybmFsIG9ubHlNaW50ZXJzIHsKICAgICAgICBfbWludFRva2VucyhfdXNlciwgX3Rva2Vucyk7CiAgICB9CgogICAgZnVuY3Rpb24oKSBwYXlhYmxlIHB1YmxpYyB7CiAgICAgICAgLy8gSW50ZW50aW9uYWxseSBsZWZ0IGVtcHR5LCBmb3IgdXNlIGJ5IGZsb29ycwogICAgfQoKICAgIGZ1bmN0aW9uIHBheW91dERpdmlkZW5kcyhhZGRyZXNzIF91c2VyLCB1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwgb25seU9yYWNsZSB7CiAgICAgICAgX3VzZXIudHJhbnNmZXIoX3ZhbHVlKTsKCiAgICAgICAgZW1pdCBXaXRoZHJhd2FsKF91c2VyLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGFjY291bnRBdXRoKHVpbnQyNTYgLypfY2hhbGxlbmdlKi8pIGV4dGVybmFsIHsKICAgICAgICAvLyBEb2VzIG5vdGhpbmcgYnkgZGVzaWduCiAgICB9CgogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF9hbW91bnQpIGV4dGVybmFsIHsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF9hbW91bnQpOwoKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KTsKICAgICAgICB0b3RhbFN1cHBseV8gPSB0b3RhbFN1cHBseV8uc3ViKF9hbW91bnQpOwoKICAgICAgICBlbWl0IEJ1cm4obXNnLnNlbmRlciwgX2Ftb3VudCk7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0Q2FuQWNjZXB0VG9rZW5zKGFkZHJlc3MgX2FkZHJlc3MsIGJvb2wgX3ZhbHVlKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIGNhbkFjY2VwdFRva2Vuc1tfYWRkcmVzc10gPSBfdmFsdWU7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0SXNNaW50ZXIoYWRkcmVzcyBfYWRkcmVzcywgYm9vbCBfdmFsdWUpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgaXNNaW50ZXJbX2FkZHJlc3NdID0gX3ZhbHVlOwogICAgfQoKICAgIGZ1bmN0aW9uIF9pbnZva2VUb2tlblJlY2lwaWVudChhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIHVpbnQyNTYgX3BhcmFtMSwgdWludDI1NiBfcGFyYW0yLCB1aW50MjU2IF9wYXJhbTMpIGludGVybmFsIHsKICAgICAgICBpZiAoIWNhbkFjY2VwdFRva2Vuc1tfdG9dKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIEFjY2VwdHNUb2tlbnMgcmVjaXBpZW50ID0gQWNjZXB0c1Rva2VucyhfdG8pOwoKICAgICAgICByZWNpcGllbnQuYWNjZXB0VG9rZW5zKF9mcm9tLCBfdmFsdWUsIF9wYXJhbTEsIF9wYXJhbTIsIF9wYXJhbTMpOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzIGFuZCBmb3J3YXJkIHRoZSBwYXJhbWV0ZXJzIHRvIHRva2VuIHJlY2lwaWVudCBpZiBhbnkKICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICAgKiBAcGFyYW0gX3BhcmFtMSBQYXJhbWV0ZXIgMSBmb3IgdGhlIHRva2VuIHJlY2lwaWVudAogICAgKiBAcGFyYW0gX3BhcmFtMiBQYXJhbWV0ZXIgMiBmb3IgdGhlIHRva2VuIHJlY2lwaWVudAogICAgKiBAcGFyYW0gX3BhcmFtMyBQYXJhbWV0ZXIgMyBmb3IgdGhlIHRva2VuIHJlY2lwaWVudAogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyV2l0aFBhcmFtcyhhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIHVpbnQyNTYgX3BhcmFtMSwgdWludDI1NiBfcGFyYW0yLCB1aW50MjU2IF9wYXJhbTMpIG9ubHlQYXlsb2FkU2l6ZSg1ICogMzIpIGV4dGVybmFsIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CgogICAgICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGVtaXQgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwoKICAgICAgICBfaW52b2tlVG9rZW5SZWNpcGllbnQobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUsIF9wYXJhbTEsIF9wYXJhbTIsIF9wYXJhbTMpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBIb29rIGZvciBjdXN0b20gYWN0aW9ucyB0byBiZSBleGVjdXRlZCBhZnRlciB0cmFuc2ZlciBoYXMgY29tcGxldGVkCiAgICAqIEBwYXJhbSBfZnJvbSBUcmFuc2ZlcnJlZCBmcm9tCiAgICAqIEBwYXJhbSBfdG8gVHJhbnNmZXJyZWQgdG8KICAgICogQHBhcmFtIF92YWx1ZSBWYWx1ZSB0cmFuc2ZlcnJlZAogICAgKi8KICAgIGZ1bmN0aW9uIF9wb3N0VHJhbnNmZXJIb29rKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgewogICAgICAgIF9pbnZva2VUb2tlblJlY2lwaWVudChfZnJvbSwgX3RvLCBfdmFsdWUsIDAsIDAsIDApOwogICAgfQoKCn0KCmNvbnRyYWN0IFByZXNhbGVDb250cmFjdCBpcyBPd25lZCB7CiAgICBFVFRva2VuIHB1YmxpYyB0b2tlbkNvbnRyYWN0OwoKICAgIC8vLyBAZGV2IENvbnRyYWN0IGNvbnN0cnVjdG9yCiAgICBmdW5jdGlvbiBQcmVzYWxlQ29udHJhY3QoYWRkcmVzcyBfdG9rZW5Db250cmFjdCkgcHVibGljIHsKICAgICAgICB0b2tlbkNvbnRyYWN0ID0gRVRUb2tlbihfdG9rZW5Db250cmFjdCk7CiAgICB9Cn0KCmNvbnRyYWN0IEVUQ2hhclByZXNhbGVfdjIgaXMgUHJlc2FsZUNvbnRyYWN0IHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICAgIGJvb2wgcHVibGljIGVuYWJsZWQgPSB0cnVlOwogICAgdWludDMyIHB1YmxpYyBtYXhDaGFySWQgPSAxMDAwMDsKICAgIHVpbnQzMiBwdWJsaWMgY3VycmVudENoYXJJZCA9IDIwMDA7CgogICAgdWludDI1NiBwdWJsaWMgY3VycmVudFByaWNlID0gMC4wMiBldGhlcjsKCiAgICBtYXBwaW5nICh1aW50MzIgPT4gYWRkcmVzcykgcHVibGljIG93bmVyczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDMyW10pIHB1YmxpYyBjaGFyYWN0ZXJzOwoKICAgIGJvb2wgcHVibGljIGF3YXJkVG9rZW5zID0gdHJ1ZTsKCiAgICBldmVudCBQdXJjaGFzZShhZGRyZXNzIGZyb20sIHVpbnQzMiBjaGFySWQsIHVpbnQyNTYgYW1vdW50KTsKCiAgICBmdW5jdGlvbiBFVENoYXJQcmVzYWxlX3YyKGFkZHJlc3MgX3ByZXNhbGVUb2tlbikKICAgIFByZXNhbGVDb250cmFjdChfcHJlc2FsZVRva2VuKQogICAgcHVibGljCiAgICB7CiAgICB9CgogICAgZnVuY3Rpb24gX2lzQ29udHJhY3QoYWRkcmVzcyBfdXNlcikgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgdWludCBzaXplOwogICAgICAgIGFzc2VtYmx5IHsgc2l6ZSA6PSBleHRjb2Rlc2l6ZShfdXNlcikgfQogICAgICAgIHJldHVybiBzaXplID4gMDsKICAgIH0KCiAgICBmdW5jdGlvbiBfcHJvdmlkZUNoYXJzKGFkZHJlc3MgX2FkZHJlc3MsIHVpbnQzMiBfbnVtYmVyKSBpbnRlcm5hbCB7CgogICAgICAgIGZvciAodWludDMyIGkgPSAwOyBpIDwgX251bWJlcjsgaSsrKSB7CiAgICAgICAgICAgIG93bmVyc1tjdXJyZW50Q2hhcklkICsgaV0gPSBfYWRkcmVzczsKICAgICAgICAgICAgY2hhcmFjdGVyc1tfYWRkcmVzc10ucHVzaChjdXJyZW50Q2hhcklkICsgaSk7CiAgICAgICAgICAgIGVtaXQgUHVyY2hhc2UoX2FkZHJlc3MsIGN1cnJlbnRDaGFySWQgKyBpLCBjdXJyZW50UHJpY2UpOwogICAgICAgIH0KCiAgICAgICAgY3VycmVudENoYXJJZCArPSBfbnVtYmVyOwogICAgICAgIGN1cnJlbnRQcmljZSArPSBwcmljZUluY3JlYXNlKCkgKiBfbnVtYmVyOwogICAgfQoKICAgIGZ1bmN0aW9uIHByaWNlSW5jcmVhc2UoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBfY3VycmVudFByaWNlID0gY3VycmVudFByaWNlOwoKICAgICAgICBpZiAoX2N1cnJlbnRQcmljZSA+IDAuMDQyNSBldGhlcikgewogICAgICAgICAgICByZXR1cm4gMC4wMDA3ODEyNSBmaW5uZXk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIDAuMDI4IGZpbm5leTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24oKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZShlbmFibGVkKTsKICAgICAgICByZXF1aXJlKCFfaXNDb250cmFjdChtc2cuc2VuZGVyKSk7CgogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IGN1cnJlbnRQcmljZSk7CgogICAgICAgIHVpbnQzMiBjaGFycyA9IHVpbnQzMihtc2cudmFsdWUuZGl2KGN1cnJlbnRQcmljZSkpOwoKICAgICAgICByZXF1aXJlKGNoYXJzIDw9IDEwMCk7CgogICAgICAgIGlmIChjaGFycyA+IDUwKSB7CiAgICAgICAgICAgIGNoYXJzID0gNTA7CiAgICAgICAgfQoKICAgICAgICByZXF1aXJlKGN1cnJlbnRDaGFySWQgKyBjaGFycyAtIDEgPD0gbWF4Q2hhcklkKTsKCiAgICAgICAgdWludDI1NiBwdXJjaGFzZVZhbHVlID0gY3VycmVudFByaWNlLm11bChjaGFycyk7CiAgICAgICAgdWludDI1NiBjaGFuZ2UgPSBtc2cudmFsdWUuc3ViKHB1cmNoYXNlVmFsdWUpOwoKICAgICAgICBfcHJvdmlkZUNoYXJzKG1zZy5zZW5kZXIsIGNoYXJzKTsKCiAgICAgICAgaWYgKGF3YXJkVG9rZW5zKSB7CiAgICAgICAgICAgIHRva2VuQ29udHJhY3QucmV3YXJkVG9rZW5zKG1zZy5zZW5kZXIsIHB1cmNoYXNlVmFsdWUgKiAyMDApOwogICAgICAgIH0KCiAgICAgICAgaWYgKGN1cnJlbnRDaGFySWQgPiBtYXhDaGFySWQpIHsKICAgICAgICAgICAgZW5hYmxlZCA9IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKGNoYW5nZSA+IDApIHsKICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihjaGFuZ2UpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBzZXRFbmFibGVkKGJvb2wgX2VuYWJsZWQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIGVuYWJsZWQgPSBfZW5hYmxlZDsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRNYXhDaGFySWQodWludDMyIF9tYXhDaGFySWQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIG1heENoYXJJZCA9IF9tYXhDaGFySWQ7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0Q3VycmVudFByaWNlKHVpbnQyNTYgX2N1cnJlbnRQcmljZSkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgY3VycmVudFByaWNlID0gX2N1cnJlbnRQcmljZTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRBd2FyZFRva2Vucyhib29sIF9hd2FyZFRva2VucykgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgYXdhcmRUb2tlbnMgPSBfYXdhcmRUb2tlbnM7CiAgICB9CgogICAgZnVuY3Rpb24gd2l0aGRyYXcoKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBvd25lci50cmFuc2ZlcihhZGRyZXNzKHRoaXMpLmJhbGFuY2UpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoYXJhY3RlcnNPZihhZGRyZXNzIF91c2VyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MzJbXSkgewogICAgICAgIHJldHVybiBjaGFyYWN0ZXJzW191c2VyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFyYWN0ZXJzQ291bnRPZihhZGRyZXNzIF91c2VyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGNoYXJhY3RlcnNbX3VzZXJdLmxlbmd0aDsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRDaGFyYWN0ZXIoYWRkcmVzcyBfdXNlciwgdWludDI1NiBfaW5kZXgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQzMikgewogICAgICAgIHJldHVybiBjaGFyYWN0ZXJzW191c2VyXVtfaW5kZXhdOwogICAgfQoKfQ=='.
	

]
