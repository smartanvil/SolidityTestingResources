Class {
	#name : #SRT3a92bd396aef82af98ebc0aa9030d25a23b11c6b,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT3a92bd396aef82af98ebc0aa9030d25a23b11c6b >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLy8vIEB0aXRsZSBBYnN0cmFjdCBFUkMyMCB0b2tlbiBpbnRlcmZhY2UKY29udHJhY3QgQWJzdHJhY3RUb2tlbiB7CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBJc3N1YW5jZShhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgoKY29udHJhY3QgT3duZWQgewoKICAgIGFkZHJlc3MgcHVibGljIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIGFkZHJlc3MgcHVibGljIHBvdGVudGlhbE93bmVyOwoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlQb3RlbnRpYWxPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHBvdGVudGlhbE93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGV2ZW50IE5ld093bmVyKGFkZHJlc3Mgb2xkLCBhZGRyZXNzIGN1cnJlbnQpOwogICAgZXZlbnQgTmV3UG90ZW50aWFsT3duZXIoYWRkcmVzcyBvbGQsIGFkZHJlc3MgcG90ZW50aWFsKTsKCiAgICBmdW5jdGlvbiBzZXRPd25lcihhZGRyZXNzIF9uZXcpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seU93bmVyCiAgICB7CiAgICAgICAgTmV3UG90ZW50aWFsT3duZXIob3duZXIsIF9uZXcpOwogICAgICAgIHBvdGVudGlhbE93bmVyID0gX25ldzsKICAgIH0KCiAgICBmdW5jdGlvbiBjb25maXJtT3duZXJzaGlwKCkKICAgICAgICBwdWJsaWMKICAgICAgICBvbmx5UG90ZW50aWFsT3duZXIKICAgIHsKICAgICAgICBOZXdPd25lcihvd25lciwgcG90ZW50aWFsT3duZXIpOwogICAgICAgIG93bmVyID0gcG90ZW50aWFsT3duZXI7CiAgICAgICAgcG90ZW50aWFsT3duZXIgPSAwOwogICAgfQp9CgoKLy8vIEltcGxlbWVudHMgRVJDIDIwIFRva2VuIHN0YW5kYXJkOiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBBYnN0cmFjdFRva2VuLCBPd25lZCB7CgogICAgLyoKICAgICAqICBEYXRhIHN0cnVjdHVyZXMKICAgICAqLwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIC8qCiAgICAgKiAgUmVhZCBhbmQgd3JpdGUgc3RvcmFnZSBmdW5jdGlvbnMKICAgICAqLwogICAgLy8vIEBkZXYgVHJhbnNmZXJzIHNlbmRlcidzIHRva2VucyB0byBhIGdpdmVuIGFkZHJlc3MuIFJldHVybnMgc3VjY2Vzcy4KICAgIC8vLyBAcGFyYW0gX3RvIEFkZHJlc3Mgb2YgdG9rZW4gcmVjZWl2ZXIuCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyLgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICAvLy8gQGRldiBBbGxvd3MgYWxsb3dlZCB0aGlyZCBwYXJ0eSB0byB0cmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyLiBSZXR1cm5zIHN1Y2Nlc3MuCiAgICAvLy8gQHBhcmFtIF9mcm9tIEFkZHJlc3MgZnJvbSB3aGVyZSB0b2tlbnMgYXJlIHdpdGhkcmF3bi4KICAgIC8vLyBAcGFyYW0gX3RvIEFkZHJlc3MgdG8gd2hlcmUgdG9rZW5zIGFyZSBzZW50LgogICAgLy8vIEBwYXJhbSBfdmFsdWUgTnVtYmVyIG9mIHRva2VucyB0byB0cmFuc2Zlci4KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICAvLy8gQGRldiBSZXR1cm5zIG51bWJlciBvZiB0b2tlbnMgb3duZWQgYnkgZ2l2ZW4gYWRkcmVzcy4KICAgIC8vLyBAcGFyYW0gX293bmVyIEFkZHJlc3Mgb2YgdG9rZW4gb3duZXIuCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIC8vLyBAZGV2IFNldHMgYXBwcm92ZWQgYW1vdW50IG9mIHRva2VucyBmb3Igc3BlbmRlci4gUmV0dXJucyBzdWNjZXNzLgogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBBZGRyZXNzIG9mIGFsbG93ZWQgYWNjb3VudC4KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIE51bWJlciBvZiBhcHByb3ZlZCB0b2tlbnMuCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoKICAgICAqIFJlYWQgc3RvcmFnZSBmdW5jdGlvbnMKICAgICAqLwogICAgLy8vIEBkZXYgUmV0dXJucyBudW1iZXIgb2YgYWxsb3dlZCB0b2tlbnMgZm9yIGdpdmVuIGFkZHJlc3MuCiAgICAvLy8gQHBhcmFtIF9vd25lciBBZGRyZXNzIG9mIHRva2VuIG93bmVyLgogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBBZGRyZXNzIG9mIHRva2VuIHNwZW5kZXIuCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKfQoKCi8vLyBAdGl0bGUgU2FmZU1hdGggY29udHJhY3QgLSBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzLgovLy8gQGF1dGhvciBPcGVuWmVwcGVsaW46IGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvYmxvYi9tYXN0ZXIvY29udHJhY3RzL21hdGgvU2FmZU1hdGguc29sCmNvbnRyYWN0IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCkgewogICAgICAgIGFzc2VydChiID4gMCk7CiAgICAgICAgdWludCBjID0gYSAvIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQpIHsKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQpIHsKICAgICAgICB1aW50IGMgPSBhICsgYjsKICAgICAgICBhc3NlcnQoYyA+PSBhKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBwb3codWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCkgewogICAgICAgIHVpbnQgYyA9IGEgKiogYjsKICAgICAgICBhc3NlcnQoYyA+PSBhKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KfQoKCi8vLyBAdGl0bGUgVG9rZW4gY29udHJhY3QgLSBJbXBsZW1lbnRzIFN0YW5kYXJkIEVSQzIwIHdpdGggYWRkaXRpb25hbCBmZWF0dXJlcy4KLy8vIEBhdXRob3IgWmVyaW9uIC0gPDxzcGFuIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iMWU3NzcwN2M3MTY2NWU2NDdiNmM3NzcxNzAzMDc3NzEiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L3NwYW4+Pgpjb250cmFjdCBUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBTYWZlTWF0aCB7CgogICAgLy8gVGltZSBvZiB0aGUgY29udHJhY3QgY3JlYXRpb24KICAgIHVpbnQgcHVibGljIGNyZWF0aW9uVGltZTsKCiAgICBmdW5jdGlvbiBUb2tlbigpIHB1YmxpYyB7CiAgICAgICAgY3JlYXRpb25UaW1lID0gbm93OwogICAgfQoKCiAgICAvLy8gQGRldiBPd25lciBjYW4gdHJhbnNmZXIgb3V0IGFueSBhY2NpZGVudGFsbHkgc2VudCBFUkMyMCB0b2tlbnMKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRVJDMjBUb2tlbihhZGRyZXNzIHRva2VuQWRkcmVzcykKICAgICAgICBwdWJsaWMKICAgICAgICBvbmx5T3duZXIKICAgICAgICByZXR1cm5zIChib29sKQogICAgewogICAgICAgIHVpbnQgYmFsYW5jZSA9IEFic3RyYWN0VG9rZW4odG9rZW5BZGRyZXNzKS5iYWxhbmNlT2YodGhpcyk7CiAgICAgICAgcmV0dXJuIEFic3RyYWN0VG9rZW4odG9rZW5BZGRyZXNzKS50cmFuc2Zlcihvd25lciwgYmFsYW5jZSk7CiAgICB9CgogICAgLy8vIEBkZXYgTXVsdGlwbGllcyB0aGUgZ2l2ZW4gbnVtYmVyIGJ5IDEwXihkZWNpbWFscykKICAgIGZ1bmN0aW9uIHdpdGhEZWNpbWFscyh1aW50IG51bWJlciwgdWludCBkZWNpbWFscykKICAgICAgICBpbnRlcm5hbAogICAgICAgIHB1cmUKICAgICAgICByZXR1cm5zICh1aW50KQogICAgewogICAgICAgIHJldHVybiBtdWwobnVtYmVyLCBwb3coMTAsIGRlY2ltYWxzKSk7CiAgICB9Cn0KCgovLy8gQHRpdGxlIFRva2VuIGNvbnRyYWN0IC0gSW1wbGVtZW50cyBTdGFuZGFyZCBFUkMyMCBUb2tlbiBmb3IgVG9rZW5ib3ggcHJvamVjdC4KLy8vIEBhdXRob3IgWmVyaW9uIC0gPDxzcGFuIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iM2M1NTUyNWU1MzQ0N2M0NjU5NGU1NTUzNTIxMjU1NTMiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L3NwYW4+Pgpjb250cmFjdCBUb2tlbmJveFRva2VuIGlzIFRva2VuIHsKCiAgICAvKgogICAgICogVG9rZW4gbWV0YSBkYXRhCiAgICAgKi8KICAgIHN0cmluZyBjb25zdGFudCBwdWJsaWMgbmFtZSA9ICJUb2tlbmJveCI7CiAKICAgIHN0cmluZyBjb25zdGFudCBwdWJsaWMgc3ltYm9sID0gIlRCWCI7CiAgICB1aW50OCBjb25zdGFudCBwdWJsaWMgZGVjaW1hbHMgPSAxODsKCiAgICAvLyBBZGRyZXNzIHdoZXJlIEZvdW5kYXRpb24gdG9rZW5zIGFyZSBhbGxvY2F0ZWQKICAgIGFkZHJlc3MgY29uc3RhbnQgcHVibGljIGZvdW5kYXRpb25SZXNlcnZlID0gYWRkcmVzcygweEZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkYpOwoKICAgIC8vIEFkZHJlc3Mgd2hlcmUgYWxsIHRva2VucyBmb3IgdGhlIElDTyBzdGFnZSBhcmUgaW5pdGlhbGx5IGFsbG9jYXRlZAogICAgYWRkcmVzcyBjb25zdGFudCBwdWJsaWMgaWNvQWxsb2NhdGlvbiA9IGFkZHJlc3MoMHgxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExKTsKCiAgICAvLyBBZGRyZXNzIHdoZXJlIGFsbCB0b2tlbnMgZm9yIHRoZSBQcmVJQ08gYXJlIGluaXRpYWxseSBhbGxvY2F0ZWQKICAgIGFkZHJlc3MgY29uc3RhbnQgcHVibGljIHByZUljb0FsbG9jYXRpb24gPSBhZGRyZXNzKDB4MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMik7CgogICAgLy8gVmVzdGluZyBkYXRlIHRvIHdpdGhkcmF3IDE1JSBvZiB0b3RhbCBzb2xkIHRva2VucywgMTEvMjgvMjAxOCBAIDEyOjAwcG0gKFVUQykKICAgIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIHZlc3RpbmdEYXRlRW5kID0gMTU0MzQwNjQwMDsKCiAgICAvLyBUb3RhbCBVU0QgY29sbGVjdGVkICgxMF4tMTIpCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFBpY29VU0QgPSAwOwogICAgdWludDggY29uc3RhbnQgcHVibGljIHVzZERlY2ltYWxzID0gMTI7CgogICAgLy8gRm91bmRhdGlvbiBtdWx0aXNpZ25hdHVyZSB3YWxsZXQsIGFsbCBFdGhlciBpcyBjb2xsZWN0ZWQgdGhlcmUKICAgIGFkZHJlc3MgcHVibGljIG11bHRpc2lnOwoKICAgIGJvb2wgcHVibGljIG1pZ3JhdGlvbkNvbXBsZXRlZCA9IGZhbHNlOwoKICAgIC8vIEV2ZW50cwogICAgZXZlbnQgSW52ZXN0bWVudEluRVRIKGFkZHJlc3MgaW52ZXN0b3IsIHVpbnQyNTYgdG9rZW5QcmljZUluV2VpLCB1aW50MjU2IGludmVzdGVkSW5XZWksIHVpbnQyNTYgaW52ZXN0ZWRJblBpY29Vc2QsIHVpbnQyNTYgdG9rZW5zTnVtYmVyLCB1aW50MjU2IG9yaWdpbmFsVHJhbnNhY3Rpb25IYXNoKTsKICAgIGV2ZW50IEludmVzdG1lbnRJbkJUQyhhZGRyZXNzIGludmVzdG9yLCB1aW50MjU2IHRva2VuUHJpY2VJblNhdG9zaGksIHVpbnQyNTYgaW52ZXN0ZWRJblNhdG9zaGksIHVpbnQyNTYgaW52ZXN0ZWRJblBpY29Vc2QsIHVpbnQyNTYgdG9rZW5zTnVtYmVyLCBzdHJpbmcgYnRjQWRkcmVzcyk7CiAgICBldmVudCBJbnZlc3RtZW50SW5VU0QoYWRkcmVzcyBpbnZlc3RvciwgdWludDI1NiB0b2tlblByaWNlSW5QaWNvVXNkLCB1aW50MjU2IGludmVzdGVkSW5QaWNvVXNkLCB1aW50MjU2IHRva2Vuc051bWJlcik7CiAgICBldmVudCBQcmVzYWxlSW52ZXN0bWVudChhZGRyZXNzIGludmVzdG9yLCB1aW50MjU2IGludmVzdGVkSW5QaWNvVXNkLCB1aW50MjU2IHRva2Vuc051bWJlcik7CgogICAgLy8vIEBkZXYgQ29udHJhY3QgY29uc3RydWN0b3IsIHNldHMgdG90YWxTdXBwbHkKICAgIGZ1bmN0aW9uIFRva2VuYm94VG9rZW4oYWRkcmVzcyBfbXVsdGlzaWcsIHVpbnQyNTYgX3ByZUljb1Rva2VucykKICAgICAgICBwdWJsaWMKICAgIHsKICAgICAgICAvLyBPdmVyYWxsLCAzMSwwMDAsMDAwIFRCWCB0b2tlbnMgYXJlIGRpc3RyaWJ1dGVkCiAgICAgICAgdG90YWxTdXBwbHkgPSB3aXRoRGVjaW1hbHMoMzEwMDAwMDAsIGRlY2ltYWxzKTsKCiAgICAgICAgdWludCBwcmVJY29Ub2tlbnMgPSB3aXRoRGVjaW1hbHMoX3ByZUljb1Rva2VucywgZGVjaW1hbHMpOwoKICAgICAgICAvLyBQcmVJQ08gdG9rZW5zIGFyZSBhbGxvY2F0ZWQgdG8gdGhlIHNwZWNpYWwgYWRkcmVzcyBhbmQgd2lsbCBiZSBkaXN0cmlidXRlZCBtYW51YWxseQogICAgICAgIGJhbGFuY2VzW3ByZUljb0FsbG9jYXRpb25dID0gcHJlSWNvVG9rZW5zOwoKICAgICAgICAvLyBmb3VuZGF0aW9uUmVzZXJ2ZSBiYWxhbmNlIHdpbGwgYmUgYWxsb2NhdGVkIGFmdGVyIHRoZSBlbmQgb2YgdGhlIGNyb3dkc2FsZQogICAgICAgIGJhbGFuY2VzW2ZvdW5kYXRpb25SZXNlcnZlXSA9IDA7CgogICAgICAgIC8vIFRoZSByZXN0IG9mIHRoZSB0b2tlbnMgaXMgYXZhaWxhYmxlIGZvciBzYWxlICg3NSUgb2YgdG90YWxTdXBwbHkpCiAgICAgICAgYmFsYW5jZXNbaWNvQWxsb2NhdGlvbl0gPSBkaXYobXVsKHRvdGFsU3VwcGx5LCA3NSksIDEwMCkgLSBwcmVJY29Ub2tlbnM7CgogICAgICAgIG11bHRpc2lnID0gX211bHRpc2lnOwogICAgfQoKICAgIG1vZGlmaWVyIG1pZ3JhdGlvbklzQWN0aXZlIHsKICAgICAgICByZXF1aXJlKCFtaWdyYXRpb25Db21wbGV0ZWQpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgbWlncmF0aW9uSXNDb21wbGV0ZWQgewogICAgICAgIHJlcXVpcmUobWlncmF0aW9uQ29tcGxldGVkKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vLyBAZGV2IFNldHRsZSBhbiBpbnZlc3RtZW50IG1hZGUgaW4gRVRIIGFuZCBkaXN0cmlidXRlIHRva2VucwogICAgZnVuY3Rpb24gZXRoSW52ZXN0bWVudChhZGRyZXNzIGludmVzdG9yLCB1aW50MjU2IHRva2VuUHJpY2VJblBpY29Vc2QsIHVpbnQyNTYgaW52ZXN0ZWRJbldlaSwgdWludDI1NiBvcmlnaW5hbFRyYW5zYWN0aW9uSGFzaCwgdWludDI1NiB1c2RUb1dlaSkKICAgICAgICBwdWJsaWMKICAgICAgICBtaWdyYXRpb25Jc0FjdGl2ZQogICAgICAgIG9ubHlPd25lcgogICAgewogICAgICAgIHVpbnQgdG9rZW5QcmljZUluV2VpID0gZGl2KG11bCh0b2tlblByaWNlSW5QaWNvVXNkLCB1c2RUb1dlaSksIHBvdygxMCwgdXNkRGVjaW1hbHMpKTsKCiAgICAgICAgLy8gTnVtYmVyIG9mIHRva2VucyB0byBkaXN0cmlidXRlCiAgICAgICAgdWludDI1NiB0b2tlbnNOdW1iZXIgPSBkaXYod2l0aERlY2ltYWxzKGludmVzdGVkSW5XZWksIGRlY2ltYWxzKSwgdG9rZW5QcmljZUluV2VpKTsKCiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgZW5vdWdoIHRva2VucyBsZWZ0CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tpY29BbGxvY2F0aW9uXSA+PSB0b2tlbnNOdW1iZXIpOwoKICAgICAgICB1aW50MjU2IGludmVzdGVkSW5QaWNvVXNkID0gZGl2KHdpdGhEZWNpbWFscyhpbnZlc3RlZEluV2VpLCB1c2REZWNpbWFscyksIHVzZFRvV2VpKTsKCiAgICAgICAgdXNkSW52ZXN0bWVudChpbnZlc3RvciwgaW52ZXN0ZWRJblBpY29Vc2QsIHRva2Vuc051bWJlcik7CiAgICAgICAgSW52ZXN0bWVudEluRVRIKGludmVzdG9yLCB0b2tlblByaWNlSW5XZWksIGludmVzdGVkSW5XZWksIGludmVzdGVkSW5QaWNvVXNkLCB0b2tlbnNOdW1iZXIsIG9yaWdpbmFsVHJhbnNhY3Rpb25IYXNoKTsKICAgIH0KCiAgICAvLy8gQGRldiBTZXR0bGUgYW4gaW52ZXN0bWVudCBpbiBCVEMgYW5kIGRpc3RyaWJ1dGUgdG9rZW5zLgogICAgZnVuY3Rpb24gYnRjSW52ZXN0bWVudChhZGRyZXNzIGludmVzdG9yLCB1aW50MjU2IHRva2VuUHJpY2VJblBpY29Vc2QsIHVpbnQyNTYgaW52ZXN0ZWRJblNhdG9zaGksIHN0cmluZyBidGNBZGRyZXNzLCB1aW50MjU2IHVzZFRvU2F0b3NoaSkKICAgICAgICBwdWJsaWMKICAgICAgICBtaWdyYXRpb25Jc0FjdGl2ZQogICAgICAgIG9ubHlPd25lcgogICAgewogICAgICAgIHVpbnQgdG9rZW5QcmljZUluU2F0b3NoaSA9IGRpdihtdWwodG9rZW5QcmljZUluUGljb1VzZCwgdXNkVG9TYXRvc2hpKSwgcG93KDEwLCB1c2REZWNpbWFscykpOwoKICAgICAgICAvLyBOdW1iZXIgb2YgdG9rZW5zIHRvIGRpc3RyaWJ1dGUKICAgICAgICB1aW50MjU2IHRva2Vuc051bWJlciA9IGRpdih3aXRoRGVjaW1hbHMoaW52ZXN0ZWRJblNhdG9zaGksIGRlY2ltYWxzKSwgdG9rZW5QcmljZUluU2F0b3NoaSk7CgogICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGVub3VnaCB0b2tlbnMgbGVmdAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbaWNvQWxsb2NhdGlvbl0gPj0gdG9rZW5zTnVtYmVyKTsKCiAgICAgICAgdWludDI1NiBpbnZlc3RlZEluUGljb1VzZCA9IGRpdih3aXRoRGVjaW1hbHMoaW52ZXN0ZWRJblNhdG9zaGksIHVzZERlY2ltYWxzKSwgdXNkVG9TYXRvc2hpKTsKCiAgICAgICAgdXNkSW52ZXN0bWVudChpbnZlc3RvciwgaW52ZXN0ZWRJblBpY29Vc2QsIHRva2Vuc051bWJlcik7CiAgICAgICAgSW52ZXN0bWVudEluQlRDKGludmVzdG9yLCB0b2tlblByaWNlSW5TYXRvc2hpLCBpbnZlc3RlZEluU2F0b3NoaSwgaW52ZXN0ZWRJblBpY29Vc2QsIHRva2Vuc051bWJlciwgYnRjQWRkcmVzcyk7CiAgICB9CgogICAgLy8gQGRldiBXaXJlIGludmVzdG1lbnQKICAgIGZ1bmN0aW9uIHdpcmVJbnZlc3RtZW50KGFkZHJlc3MgaW52ZXN0b3IsIHVpbnQyNTYgdG9rZW5QcmljZUluVXNkQ2VudHMsIHVpbnQyNTYgaW52ZXN0ZWRJblVzZENlbnRzKQogICAgICAgIHB1YmxpYwogICAgICAgIG1pZ3JhdGlvbklzQWN0aXZlCiAgICAgICAgb25seU93bmVyCiAgICAgewoKICAgICAgIHVpbnQyNTYgdG9rZW5zTnVtYmVyID0gZGl2KHdpdGhEZWNpbWFscyhpbnZlc3RlZEluVXNkQ2VudHMsIGRlY2ltYWxzKSwgdG9rZW5QcmljZUluVXNkQ2VudHMpOwoKICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGVub3VnaCB0b2tlbnMgbGVmdAogICAgICAgcmVxdWlyZShiYWxhbmNlc1tpY29BbGxvY2F0aW9uXSA+PSB0b2tlbnNOdW1iZXIpOwoKICAgICAgIC8vIFdlIHN1YnRyYWN0IDIgYmVjYXVzZSB0aGUgdmFsdWUgaXMgaW4gY2VudHMuCiAgICAgICB1aW50MjU2IGludmVzdGVkSW5QaWNvVXNkID0gd2l0aERlY2ltYWxzKGludmVzdGVkSW5Vc2RDZW50cywgdXNkRGVjaW1hbHMgLSAyKTsKICAgICAgIHVpbnQyNTYgdG9rZW5QcmljZUluUGljb1VzZCA9IHdpdGhEZWNpbWFscyh0b2tlblByaWNlSW5Vc2RDZW50cywgdXNkRGVjaW1hbHMgLSAyKTsKCiAgICAgICB1c2RJbnZlc3RtZW50KGludmVzdG9yLCBpbnZlc3RlZEluUGljb1VzZCwgdG9rZW5zTnVtYmVyKTsKCiAgICAgICBJbnZlc3RtZW50SW5VU0QoaW52ZXN0b3IsIHRva2VuUHJpY2VJblBpY29Vc2QsIGludmVzdGVkSW5QaWNvVXNkLCB0b2tlbnNOdW1iZXIpOwogICAgfQoKICAgIC8vIEBkZXYgSW52ZXN0IGluIFVTRAogICAgZnVuY3Rpb24gdXNkSW52ZXN0bWVudChhZGRyZXNzIGludmVzdG9yLCB1aW50MjU2IGludmVzdGVkSW5QaWNvVXNkLCB1aW50MjU2IHRva2Vuc051bWJlcikKICAgICAgICBwcml2YXRlCiAgICB7CiAgICAgIHRvdGFsUGljb1VTRCA9IGFkZCh0b3RhbFBpY29VU0QsIGludmVzdGVkSW5QaWNvVXNkKTsKCiAgICAgIC8vIEFsbG9jYXRlIHRva2VucyB0byBhbiBpbnZlc3RvcgogICAgICBiYWxhbmNlc1tpY29BbGxvY2F0aW9uXSAtPSB0b2tlbnNOdW1iZXI7CiAgICAgIGJhbGFuY2VzW2ludmVzdG9yXSArPSB0b2tlbnNOdW1iZXI7CiAgICAgIFRyYW5zZmVyKGljb0FsbG9jYXRpb24sIGludmVzdG9yLCB0b2tlbnNOdW1iZXIpOwogICAgfQoKICAgIC8vIEBkZXYgUmVwZWF0IGEgdHJhbnNhY3Rpb24gZnJvbSB0aGUgb2xkIGNvbnRyYWN0IGR1cmluZyB0aGUgbWlncmF0aW9uCiAgICBmdW5jdGlvbiBtaWdyYXRlVHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgYW1vdW50LCB1aW50MjU2IG9yaWdpbmFsVHJhbnNhY3Rpb25IYXNoKQogICAgICAgIHB1YmxpYwogICAgICAgIG1pZ3JhdGlvbklzQWN0aXZlCiAgICAgICAgb25seU93bmVyCiAgICB7ICAgCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfZnJvbV0gPj0gYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gYW1vdW50OwogICAgICAgIGJhbGFuY2VzW190b10gKz0gYW1vdW50OwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIGFtb3VudCk7CiAgICB9CgogICAgLy8gQGRldiBQcmVzYWxlIHRva2VucyBkaXN0cmlidXRpb24KICAgIGZ1bmN0aW9uIHByZUljb0ludmVzdG1lbnQoYWRkcmVzcyBpbnZlc3RvciwgdWludDI1NiBpbnZlc3RlZEluVXNkQ2VudHMsIHVpbnQyNTYgdG9rZW5zTnVtYmVyKQogICAgICAgIHB1YmxpYwogICAgICAgIG1pZ3JhdGlvbklzQWN0aXZlCiAgICAgICAgb25seU93bmVyCiAgICB7CiAgICAgIHVpbnQyNTYgdG9rZW5zTnVtYmVyV2l0aERlY2ltYWxzID0gd2l0aERlY2ltYWxzKHRva2Vuc051bWJlciwgZGVjaW1hbHMpOwoKICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgZW5vdWdoIHRva2VucyBsZWZ0CiAgICAgIHJlcXVpcmUoYmFsYW5jZXNbcHJlSWNvQWxsb2NhdGlvbl0gPj0gdG9rZW5zTnVtYmVyV2l0aERlY2ltYWxzKTsKCiAgICAgIC8vIEFsbG9jYXRlIHRva2VucyB0byBhbiBpbnZlc3RvcgogICAgICBiYWxhbmNlc1twcmVJY29BbGxvY2F0aW9uXSAtPSB0b2tlbnNOdW1iZXJXaXRoRGVjaW1hbHM7CiAgICAgIGJhbGFuY2VzW2ludmVzdG9yXSArPSB0b2tlbnNOdW1iZXJXaXRoRGVjaW1hbHM7CiAgICAgIFRyYW5zZmVyKHByZUljb0FsbG9jYXRpb24sIGludmVzdG9yLCB0b2tlbnNOdW1iZXJXaXRoRGVjaW1hbHMpOwoKICAgICAgdWludDI1NiBpbnZlc3RlZEluUGljb1VzZCA9IHdpdGhEZWNpbWFscyhpbnZlc3RlZEluVXNkQ2VudHMsIHVzZERlY2ltYWxzIC0gMik7CgogICAgICAvLyBBZGQgaW52ZXN0bWVudCB0byB0b3RhbFBpY29VU0QgY29sbGVjdGVkCiAgICAgIHRvdGFsUGljb1VTRCA9IGFkZCh0b3RhbFBpY29VU0QsIGludmVzdGVkSW5QaWNvVXNkKTsKCiAgICAgIFByZXNhbGVJbnZlc3RtZW50KGludmVzdG9yLCBpbnZlc3RlZEluUGljb1VzZCwgdG9rZW5zTnVtYmVyV2l0aERlY2ltYWxzKTsKICAgIH0KCgogICAgLy8vIEBkZXYgQWxsb3cgdG9rZW4gd2l0aGRyYXdhbHMgZnJvbSBGb3VuZGF0aW9uIHJlc2VydmUKICAgIGZ1bmN0aW9uIGFsbG93VG9XaXRoZHJhd0Zyb21SZXNlcnZlKCkKICAgICAgICBwdWJsaWMKICAgICAgICBtaWdyYXRpb25Jc0NvbXBsZXRlZAogICAgICAgIG9ubHlPd25lcgogICAgewogICAgICAgIHJlcXVpcmUobm93ID49IHZlc3RpbmdEYXRlRW5kKTsKCiAgICAgICAgLy8gQWxsb3cgdGhlIG93bmVyIHRvIHdpdGhkcmF3IHRva2VucyBmcm9tIHRoZSBGb3VuZGF0aW9uIHJlc2VydmUKICAgICAgICBhbGxvd2VkW2ZvdW5kYXRpb25SZXNlcnZlXVttc2cuc2VuZGVyXSA9IGJhbGFuY2VPZihmb3VuZGF0aW9uUmVzZXJ2ZSk7CiAgICB9CgoKICAgIC8vIEBkZXYgV2l0aGRyYXdzIHRva2VucyBmcm9tIEZvdW5kYXRpb24gcmVzZXJ2ZQogICAgZnVuY3Rpb24gd2l0aGRyYXdGcm9tUmVzZXJ2ZSh1aW50IGFtb3VudCkKICAgICAgICBwdWJsaWMKICAgICAgICBtaWdyYXRpb25Jc0NvbXBsZXRlZAogICAgICAgIG9ubHlPd25lcgogICAgewogICAgICAgIHJlcXVpcmUobm93ID49IHZlc3RpbmdEYXRlRW5kKTsKCiAgICAgICAgLy8gV2l0aGRyYXcgdG9rZW5zIGZyb20gRm91bmRhdGlvbiByZXNlcnZlIHRvIG11bHRpc2lnIGFkZHJlc3MKICAgICAgICByZXF1aXJlKHRyYW5zZmVyRnJvbShmb3VuZGF0aW9uUmVzZXJ2ZSwgbXVsdGlzaWcsIGFtb3VudCkpOwogICAgfQoKICAgIC8vLyBAZGV2IENoYW5nZXMgbXVsdGlzaWcgYWRkcmVzcwogICAgZnVuY3Rpb24gY2hhbmdlTXVsdGlzaWcoYWRkcmVzcyBfbXVsdGlzaWcpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seU93bmVyCiAgICB7CiAgICAgICAgbXVsdGlzaWcgPSBfbXVsdGlzaWc7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKQogICAgICAgIHB1YmxpYwogICAgICAgIG1pZ3JhdGlvbklzQ29tcGxldGVkCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSAKICAgIHsKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpCiAgICAgICAgcHVibGljCiAgICAgICAgbWlncmF0aW9uSXNDb21wbGV0ZWQKICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpCiAgICB7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIC8vLyBAZGV2IEJ1cm5zIHRoZSByZXN0IG9mIHRoZSB0b2tlbnMgYWZ0ZXIgdGhlIGNyb3dkc2FsZSBlbmQgYW5kCiAgICAvLy8gc2VuZCAxMCUgdG9rZW5zIG9mIHRvdGFsU3VwcGx5IHRvIHRlYW0gYWRkcmVzcwogICAgZnVuY3Rpb24gZmluYWxpc2VJQ08oKQogICAgICAgIHB1YmxpYwogICAgICAgIG1pZ3JhdGlvbklzQWN0aXZlCiAgICAgICAgb25seU93bmVyCiAgICB7CiAgICAgICAgLy8gVG90YWwgbnVtYmVyIG9mIHRva2VudHMgc29sZCBkdXJpbmcgdGhlIElDTyArIHByZUlDTwogICAgICAgIHVpbnQyNTYgdG9rZW5zU29sZCA9IHN1YihkaXYobXVsKHRvdGFsU3VwcGx5LCA3NSksIDEwMCksIGJhbGFuY2VPZihpY29BbGxvY2F0aW9uKSk7CgogICAgICAgIC8vIDAuNzUgKiB0b3RhbFN1cHBseSA9IHRva2Vuc1NvbGQKICAgICAgICB0b3RhbFN1cHBseSA9IGRpdihtdWwodG9rZW5zU29sZCwgMTAwKSwgNzUpOwoKICAgICAgICAvLyBTZW5kIDUlIGJvdW50eSArIDcuNSUgb2YgdG90YWwgc3VwcGx5IHRvIHRlYW0gYWRkcmVzcwogICAgICAgIGJhbGFuY2VzW211bHRpc2lnXSA9IGRpdihtdWwodG90YWxTdXBwbHksIDEyNSksIDEwMDApOwogICAgICAgIFRyYW5zZmVyKGljb0FsbG9jYXRpb24sIG11bHRpc2lnLCBiYWxhbmNlT2YobXVsdGlzaWcpKTsKCiAgICAgICAgLy8gTG9jayAxMi41JSBvZiB0b3RhbCBzdXBwbHkgdG8gdGVhbSBhZGRyZXNzIGZvciBvbmUgeWVhcgogICAgICAgIGJhbGFuY2VzW2ZvdW5kYXRpb25SZXNlcnZlXSA9IGRpdihtdWwodG90YWxTdXBwbHksIDEyNSksIDEwMDApOwogICAgICAgIFRyYW5zZmVyKGljb0FsbG9jYXRpb24sIGZvdW5kYXRpb25SZXNlcnZlLCBiYWxhbmNlT2YoZm91bmRhdGlvblJlc2VydmUpKTsKCiAgICAgICAgLy8gQnVybiB0aGUgcmVzdCBvZiB0b2tlbnMKICAgICAgICBUcmFuc2ZlcihpY29BbGxvY2F0aW9uLCAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAsIGJhbGFuY2VPZihpY29BbGxvY2F0aW9uKSk7CiAgICAgICAgYmFsYW5jZXNbaWNvQWxsb2NhdGlvbl0gPSAwOwoKICAgICAgICBtaWdyYXRpb25Db21wbGV0ZWQgPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRvdGFsVVNEKCkKICAgICAgcHVibGljIHZpZXcKICAgICAgcmV0dXJucyAodWludCkKICAgIHsKICAgICAgIHJldHVybiBkaXYodG90YWxQaWNvVVNELCBwb3coMTAsIHVzZERlY2ltYWxzKSk7CiAgICB9Cn0='.
	

]
