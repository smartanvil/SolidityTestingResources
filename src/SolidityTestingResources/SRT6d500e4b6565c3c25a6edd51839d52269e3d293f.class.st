Class {
	#name : #SRT6d500e4b6565c3c25a6edd51839d52269e3d293f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT6d500e4b6565c3c25a6edd51839d52269e3d293f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKCiAgLyoqCiAgKiBAZGV2IE11bHRpcGxpZXMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAqLwogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIC8qKgogICogQGRldiBJbnRlZ2VyIGRpdmlzaW9uIG9mIHR3byBudW1iZXJzLCB0cnVuY2F0aW5nIHRoZSBxdW90aWVudC4KICAqLwogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgLyoqCiAgKiBAZGV2IFN1YnN0cmFjdHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdyAoaS5lLiBpZiBzdWJ0cmFoZW5kIGlzIGdyZWF0ZXIgdGhhbiBtaW51ZW5kKS4KICAqLwogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIC8qKgogICogQGRldiBBZGRzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgT3duYWJsZSB7CgogIGFkZHJlc3MgcHVibGljIGNvbnRyYWN0T3duZXI7CgogIGV2ZW50IENvbnRyYWN0T3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgY29udHJhY3RPd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKICBtb2RpZmllciBvbmx5Q29udHJhY3RPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBjb250cmFjdE93bmVyKTsKICAgIF87CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlckNvbnRyYWN0T3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBwdWJsaWMgb25seUNvbnRyYWN0T3duZXIgewogICAgcmVxdWlyZShfbmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICBDb250cmFjdE93bmVyc2hpcFRyYW5zZmVycmVkKGNvbnRyYWN0T3duZXIsIF9uZXdPd25lcik7CiAgICBjb250cmFjdE93bmVyID0gX25ld093bmVyOwogIH0KICAKICBmdW5jdGlvbiBwYXlvdXRGcm9tQ29udHJhY3QoKSBwdWJsaWMgb25seUNvbnRyYWN0T3duZXIgewogICAgICBjb250cmFjdE93bmVyLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgfSAgCgp9CgovLy8gQHRpdGxlIEludGVyZmFjZSBmb3IgY29udHJhY3RzIGNvbmZvcm1pbmcgdG8gRVJDLTcyMTogTm9uLUZ1bmdpYmxlIFRva2VucwovLy8gQGF1dGhvciBEaWV0ZXIgU2hpcmxleSA8PHNwYW4gY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSIwZDY5Njg3OTY4NGQ2Yzc1NjQ2MjYwNzc2ODYzMjM2ZTYyIj5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9zcGFuPj4gKGh0dHBzOi8vZ2l0aHViLmNvbS9kZXRlKQpjb250cmFjdCBFUkM3MjEgewogIC8vIFJlcXVpcmVkIG1ldGhvZHMKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBwdWJsaWM7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwogIGZ1bmN0aW9uIGltcGxlbWVudHNFUkM3MjEoKSBwdWJsaWMgcHVyZSByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBvd25lck9mKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKGFkZHJlc3MgYWRkcik7CiAgZnVuY3Rpb24gdGFrZU93bmVyc2hpcCh1aW50MjU2IF90b2tlbklkKSBwdWJsaWM7CiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IHRvdGFsKTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYzsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgcHVibGljOwoKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHRva2VuSWQpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIGFwcHJvdmVkLCB1aW50MjU2IHRva2VuSWQpOwoKICAvLyBPcHRpb25hbAogIC8vIGZ1bmN0aW9uIG5hbWUoKSBwdWJsaWMgdmlldyByZXR1cm5zIChzdHJpbmcgbmFtZSk7CiAgLy8gZnVuY3Rpb24gc3ltYm9sKCkgcHVibGljIHZpZXcgcmV0dXJucyAoc3RyaW5nIHN5bWJvbCk7CiAgLy8gZnVuY3Rpb24gdG9rZW5PZk93bmVyQnlJbmRleChhZGRyZXNzIF9vd25lciwgdWludDI1NiBfaW5kZXgpIGV4dGVybmFsIHZpZXcgcmV0dXJucyAodWludDI1NiB0b2tlbklkKTsKICAvLyBmdW5jdGlvbiB0b2tlbk1ldGFkYXRhKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKHN0cmluZyBpbmZvVXJsKTsKfQoKY29udHJhY3QgS2lkZHlUb3lzIGlzIEVSQzcyMSwgT3duYWJsZSB7CgogIGV2ZW50IFRveUNyZWF0ZWQodWludDI1NiB0b2tlbklkLCBzdHJpbmcgbmFtZSwgYWRkcmVzcyBvd25lcik7CiAgZXZlbnQgVG9rZW5Tb2xkKHVpbnQyNTYgdG9rZW5JZCwgdWludDI1NiBvbGRQcmljZSwgdWludDI1NiBuZXdQcmljZSwgYWRkcmVzcyBwcmV2T3duZXIsIGFkZHJlc3Mgd2lubmVyLCBzdHJpbmcgbmFtZSk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHRva2VuSWQpOwoKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IE5BTUUgPSAiS2lkZHlUb3lzIjsKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IFNZTUJPTCA9ICJUb3lUb2tlbiI7CgogIHVpbnQyNTYgcHJpdmF0ZSBzdGFydGluZ1ByaWNlID0gMC4wMSBldGhlcjsKCiAgbWFwcGluZyAodWludDI1NiA9PiBhZGRyZXNzKSBwdWJsaWMgdG95SWRUb093bmVyOwoKICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHByaXZhdGUgb3duZXJzaGlwVG9rZW5Db3VudDsKCiAgbWFwcGluZyAodWludDI1NiA9PiBhZGRyZXNzKSBwdWJsaWMgdG95SWRUb0FwcHJvdmVkOwoKICBtYXBwaW5nICh1aW50MjU2ID0+IHVpbnQyNTYpIHByaXZhdGUgdG95SWRUb1ByaWNlOwoKICAvKioqIERBVEFUWVBFUyAqKiovCiAgc3RydWN0IFRveSB7CiAgICBzdHJpbmcgbmFtZTsKICB9CgogIFRveVtdIHByaXZhdGUgdG95czsKCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgcHVibGljIHsgLy9FUkM3MjEKICAgIC8vIENhbGxlciBtdXN0IG93biB0b2tlbi4KICAgIHJlcXVpcmUoX293bnMobXNnLnNlbmRlciwgX3Rva2VuSWQpKTsKICAgIHRveUlkVG9BcHByb3ZlZFtfdG9rZW5JZF0gPSBfdG87CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfdG8sIF90b2tlbklkKTsKICB9CgogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7IC8vRVJDNzIxCiAgICByZXR1cm4gb3duZXJzaGlwVG9rZW5Db3VudFtfb3duZXJdOwogIH0KCiAgZnVuY3Rpb24gY3JlYXRlQ29udHJhY3RUb3koc3RyaW5nIF9uYW1lKSBwdWJsaWMgb25seUNvbnRyYWN0T3duZXIgewogICAgX2NyZWF0ZVRveShfbmFtZSwgYWRkcmVzcyh0aGlzKSwgc3RhcnRpbmdQcmljZSk7CiAgfQoKICBmdW5jdGlvbiBjcmVhdGUyMENvbnRyYWN0VG95KCkgcHVibGljIG9ubHlDb250cmFjdE93bmVyIHsKICAgICB1aW50MjU2IHRvdGFsVG95cyA9IHRvdGFsU3VwcGx5KCk7CgkgCiAgICAgcmVxdWlyZSAodG90YWxUb3lzIDwgMSk7CgkgCiAJIF9jcmVhdGVUb3koIlNhbmR5IHRyYWluIiwgYWRkcmVzcyh0aGlzKSwgc3RhcnRpbmdQcmljZSk7CiAJIF9jcmVhdGVUb3koIlJlZCBUZWRkeSIsIGFkZHJlc3ModGhpcyksIHN0YXJ0aW5nUHJpY2UpOwoJIF9jcmVhdGVUb3koIkJyb3duIFRlZGR5IiwgYWRkcmVzcyh0aGlzKSwgc3RhcnRpbmdQcmljZSk7CgkgX2NyZWF0ZVRveSgiV2hpdGUgSG9yc3kiLCBhZGRyZXNzKHRoaXMpLCBzdGFydGluZ1ByaWNlKTsKCSBfY3JlYXRlVG95KCJCbHVlIHJvY2tpbmcgSG9yc3kiLCBhZGRyZXNzKHRoaXMpLCBzdGFydGluZ1ByaWNlKTsKCSBfY3JlYXRlVG95KCJBcmNoIHB5cmFtaWQiLCBhZGRyZXNzKHRoaXMpLCBzdGFydGluZ1ByaWNlKTsKCSBfY3JlYXRlVG95KCJTYW5keSByb2NraW5nIEhvcnN5IiwgYWRkcmVzcyh0aGlzKSwgc3RhcnRpbmdQcmljZSk7CgkgX2NyZWF0ZVRveSgiTGV0dGVyIGN1YmVzIiwgYWRkcmVzcyh0aGlzKSwgc3RhcnRpbmdQcmljZSk7CgkgX2NyZWF0ZVRveSgiUmlkZSBjYXJvdXNlbCIsIGFkZHJlc3ModGhpcyksIHN0YXJ0aW5nUHJpY2UpOwoJIF9jcmVhdGVUb3koIlRvd24gY2FyIiwgYWRkcmVzcyh0aGlzKSwgc3RhcnRpbmdQcmljZSk7CgkgX2NyZWF0ZVRveSgiTmlnaHR5IHRyYWluIiwgYWRkcmVzcyh0aGlzKSwgc3RhcnRpbmdQcmljZSk7CgkgX2NyZWF0ZVRveSgiQmlnIGNpcmNsZXMgcGlyYW1pZCIsIGFkZHJlc3ModGhpcyksIHN0YXJ0aW5nUHJpY2UpOwoJIF9jcmVhdGVUb3koIlNtYWxsIGNpcmNsZXMgcGlyYW1pZCIsIGFkZHJlc3ModGhpcyksIHN0YXJ0aW5nUHJpY2UpOwoJIF9jcmVhdGVUb3koIlJlZCBsYW1wIiwgYWRkcmVzcyh0aGlzKSwgc3RhcnRpbmdQcmljZSk7CgkgX2NyZWF0ZVRveSgiRHVja3kiLCBhZGRyZXNzKHRoaXMpLCBzdGFydGluZ1ByaWNlKTsKCSBfY3JlYXRlVG95KCJTbWFsbCBiYWxsIiwgYWRkcmVzcyh0aGlzKSwgc3RhcnRpbmdQcmljZSk7CgkgX2NyZWF0ZVRveSgiQmlnIGJhbGwiLCBhZGRyZXNzKHRoaXMpLCBzdGFydGluZ1ByaWNlKTsKCSBfY3JlYXRlVG95KCJEaWdpdGFsIGN1YmVzIiwgYWRkcmVzcyh0aGlzKSwgc3RhcnRpbmdQcmljZSk7CgkgX2NyZWF0ZVRveSgiU21hbGwgRG9sbHkiLCBhZGRyZXNzKHRoaXMpLCBzdGFydGluZ1ByaWNlKTsKCSBfY3JlYXRlVG95KCJCaWcgRG9sbHkiLCBhZGRyZXNzKHRoaXMpLCBzdGFydGluZ1ByaWNlKTsKICB9CiAgCiAgZnVuY3Rpb24gZ2V0VG95KHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKHN0cmluZyB0b3lOYW1lLCB1aW50MjU2IHNlbGxpbmdQcmljZSwgYWRkcmVzcyBvd25lcikgewogICAgVG95IHN0b3JhZ2UgdG95ID0gdG95c1tfdG9rZW5JZF07CiAgICB0b3lOYW1lID0gdG95Lm5hbWU7CiAgICBzZWxsaW5nUHJpY2UgPSB0b3lJZFRvUHJpY2VbX3Rva2VuSWRdOwogICAgb3duZXIgPSB0b3lJZFRvT3duZXJbX3Rva2VuSWRdOwogIH0KCiAgZnVuY3Rpb24gaW1wbGVtZW50c0VSQzcyMSgpIHB1YmxpYyBwdXJlIHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gbmFtZSgpIHB1YmxpYyBwdXJlIHJldHVybnMgKHN0cmluZykgeyAvL0VSQzcyMQogICAgcmV0dXJuIE5BTUU7CiAgfQoKICBmdW5jdGlvbiBvd25lck9mKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKGFkZHJlc3Mgb3duZXIpIHsgLy9FUkM3MjEKICAgIG93bmVyID0gdG95SWRUb093bmVyW190b2tlbklkXTsKICAgIHJlcXVpcmUob3duZXIgIT0gYWRkcmVzcygwKSk7CiAgfQoKICAvLyBBbGxvd3Mgc29tZW9uZSB0byBzZW5kIGV0aGVyIGFuZCBvYnRhaW4gdGhlIHRva2VuCiAgZnVuY3Rpb24gcHVyY2hhc2UodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHBheWFibGUgewogICAgYWRkcmVzcyBvbGRPd25lciA9IHRveUlkVG9Pd25lcltfdG9rZW5JZF07CiAgICBhZGRyZXNzIG5ld093bmVyID0gbXNnLnNlbmRlcjsKCiAgICB1aW50MjU2IHNlbGxpbmdQcmljZSA9IHRveUlkVG9QcmljZVtfdG9rZW5JZF07CgogICAgcmVxdWlyZShvbGRPd25lciAhPSBuZXdPd25lcik7CiAgICByZXF1aXJlKF9hZGRyZXNzTm90TnVsbChuZXdPd25lcikpOwogICAgcmVxdWlyZShtc2cudmFsdWUgPj0gc2VsbGluZ1ByaWNlKTsKCiAgICB1aW50MjU2IHBheW1lbnQgPSB1aW50MjU2KFNhZmVNYXRoLmRpdihTYWZlTWF0aC5tdWwoc2VsbGluZ1ByaWNlLCA5KSwgMTApKTsgLy85MCUgdG8gcHJldmlvdXMgb3duZXIKICAgIHVpbnQyNTYgd2luX3BheW1lbnQgPSB1aW50MjU2KFNhZmVNYXRoLmRpdihTYWZlTWF0aC5tdWwoc2VsbGluZ1ByaWNlLCA5KSwgMTgwKSk7IC8vNSUgdG8gcmFuZG9tIG93bmVyCgogICAgdWludDI1NiByYW5kb21Ub3lJZCA9IHVpbnQyNTYoYmxvY2suYmxvY2toYXNoKGJsb2NrLm51bWJlci0xKSklMjA7CglhZGRyZXNzIHdpbm5lciA9IHRveUlkVG9Pd25lcltyYW5kb21Ub3lJZF07CgkKICAgIC8vIE5leHQgcHJpY2Ugd2lsbCBpbiAyIHRpbWVzIG1vcmUuCiAgICB0b3lJZFRvUHJpY2VbX3Rva2VuSWRdID0gU2FmZU1hdGgubXVsKHNlbGxpbmdQcmljZSwgMik7CgogICAgX3RyYW5zZmVyKG9sZE93bmVyLCBuZXdPd25lciwgX3Rva2VuSWQpOwoKICAgIC8vIFBheSBwcmV2aW91cyB0b2tlbk93bmVyIGlmIG93bmVyIGlzIG5vdCBjb250cmFjdAogICAgaWYgKG9sZE93bmVyICE9IGFkZHJlc3ModGhpcykpIHsKICAgICAgb2xkT3duZXIudHJhbnNmZXIocGF5bWVudCk7IC8vCiAgICB9CgogICAgLy8gUGF5IHdpbm5lciB0b2tlbk93bmVyIGlmIG93bmVyIGlzIG5vdCBjb250cmFjdAogICAgaWYgKHdpbm5lciAhPSBhZGRyZXNzKHRoaXMpKSB7CiAgICAgIHdpbm5lci50cmFuc2Zlcih3aW5fcGF5bWVudCk7IC8vCiAgICB9CgogICAgVG9rZW5Tb2xkKF90b2tlbklkLCBzZWxsaW5nUHJpY2UsIHRveUlkVG9QcmljZVtfdG9rZW5JZF0sIG9sZE93bmVyLCBuZXdPd25lciwgdG95c1tfdG9rZW5JZF0ubmFtZSk7CgkKICAgIGlmIChtc2cudmFsdWUgPiBzZWxsaW5nUHJpY2UpIHsgLy9pZiBleGNlc3MgcGF5CgkgICAgdWludDI1NiBwdXJjaGFzZUV4Y2VzcyA9IFNhZmVNYXRoLnN1Yihtc2cudmFsdWUsIHNlbGxpbmdQcmljZSk7CgkJbXNnLnNlbmRlci50cmFuc2ZlcihwdXJjaGFzZUV4Y2Vzcyk7Cgl9CiAgfQoKCiAgZnVuY3Rpb24gc3ltYm9sKCkgcHVibGljIHB1cmUgcmV0dXJucyAoc3RyaW5nKSB7IC8vRVJDNzIxCiAgICByZXR1cm4gU1lNQk9MOwogIH0KCgogIGZ1bmN0aW9uIHRha2VPd25lcnNoaXAodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHsgLy9FUkM3MjEKICAgIGFkZHJlc3MgbmV3T3duZXIgPSBtc2cuc2VuZGVyOwogICAgYWRkcmVzcyBvbGRPd25lciA9IHRveUlkVG9Pd25lcltfdG9rZW5JZF07CgogICAgcmVxdWlyZShfYWRkcmVzc05vdE51bGwobmV3T3duZXIpKTsKICAgIHJlcXVpcmUoX2FwcHJvdmVkKG5ld093bmVyLCBfdG9rZW5JZCkpOwoKICAgIF90cmFuc2ZlcihvbGRPd25lciwgbmV3T3duZXIsIF90b2tlbklkKTsKICB9CgogIGZ1bmN0aW9uIHByaWNlT2YodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBwcmljZSkgeyAvL2ZvciB3ZWIgc2l0ZSB2aWV3CiAgICByZXR1cm4gdG95SWRUb1ByaWNlW190b2tlbklkXTsKICB9CiAgCiAgZnVuY3Rpb24gdG9rZW5zT2ZPd25lcihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyh1aW50MjU2W10gb3duZXJUb2tlbnMpIHsgLy9mb3Igd2ViIHNpdGUgdmlldwogICAgdWludDI1NiB0b2tlbkNvdW50ID0gYmFsYW5jZU9mKF9vd25lcik7CiAgICBpZiAodG9rZW5Db3VudCA9PSAwKSB7CiAgICAgICAgLy8gUmV0dXJuIGFuIGVtcHR5IGFycmF5CiAgICAgIHJldHVybiBuZXcgdWludDI1NltdKDApOwogICAgfSBlbHNlIHsKICAgICAgdWludDI1NltdIG1lbW9yeSByZXN1bHQgPSBuZXcgdWludDI1NltdKHRva2VuQ291bnQpOwogICAgICB1aW50MjU2IHRvdGFsVG95cyA9IHRvdGFsU3VwcGx5KCk7CiAgICAgIHVpbnQyNTYgcmVzdWx0SW5kZXggPSAwOwoKICAgICAgdWludDI1NiB0b3lJZDsKICAgICAgZm9yICh0b3lJZCA9IDA7IHRveUlkIDw9IHRvdGFsVG95czsgdG95SWQrKykgewogICAgICAgIGlmICh0b3lJZFRvT3duZXJbdG95SWRdID09IF9vd25lcikgewogICAgICAgICAgcmVzdWx0W3Jlc3VsdEluZGV4XSA9IHRveUlkOwogICAgICAgICAgcmVzdWx0SW5kZXgrKzsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiB0b3RhbCkgeyAvL0VSQzcyMQogICAgcmV0dXJuIHRveXMubGVuZ3RoOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB7IC8vRVJDNzIxCiAgICByZXF1aXJlKF9vd25zKG1zZy5zZW5kZXIsIF90b2tlbklkKSk7CiAgICByZXF1aXJlKF9hZGRyZXNzTm90TnVsbChfdG8pKTsKCglfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdG9rZW5JZCk7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB7IC8vRVJDNzIxCiAgICByZXF1aXJlKF9vd25zKF9mcm9tLCBfdG9rZW5JZCkpOwogICAgcmVxdWlyZShfYXBwcm92ZWQoX3RvLCBfdG9rZW5JZCkpOwogICAgcmVxdWlyZShfYWRkcmVzc05vdE51bGwoX3RvKSk7CgogICAgX3RyYW5zZmVyKF9mcm9tLCBfdG8sIF90b2tlbklkKTsKICB9CgoKICAvKiBQUklWQVRFIEZVTkNUSU9OUyAqLwogIGZ1bmN0aW9uIF9hZGRyZXNzTm90TnVsbChhZGRyZXNzIF90bykgcHJpdmF0ZSBwdXJlIHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBfdG8gIT0gYWRkcmVzcygwKTsKICB9CgogIGZ1bmN0aW9uIF9hcHByb3ZlZChhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgcHJpdmF0ZSB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiB0b3lJZFRvQXBwcm92ZWRbX3Rva2VuSWRdID09IF90bzsKICB9CgogIGZ1bmN0aW9uIF9jcmVhdGVUb3koc3RyaW5nIF9uYW1lLCBhZGRyZXNzIF9vd25lciwgdWludDI1NiBfcHJpY2UpIHByaXZhdGUgewogICAgVG95IG1lbW9yeSBfdG95ID0gVG95KHsKICAgICAgbmFtZTogX25hbWUKICAgIH0pOwogICAgdWludDI1NiBuZXdUb3lJZCA9IHRveXMucHVzaChfdG95KSAtIDE7CgogICAgcmVxdWlyZShuZXdUb3lJZCA9PSB1aW50MjU2KHVpbnQzMihuZXdUb3lJZCkpKTsgLy9jaGVjayBtYXhpbXVtIGxpbWl0IG9mIHRva2VucwoKICAgIFRveUNyZWF0ZWQobmV3VG95SWQsIF9uYW1lLCBfb3duZXIpOwoKICAgIHRveUlkVG9QcmljZVtuZXdUb3lJZF0gPSBfcHJpY2U7CgogICAgX3RyYW5zZmVyKGFkZHJlc3MoMCksIF9vd25lciwgbmV3VG95SWQpOwogIH0KCiAgZnVuY3Rpb24gX293bnMoYWRkcmVzcyBfY2hlY2tlZEFkZHIsIHVpbnQyNTYgX3Rva2VuSWQpIHByaXZhdGUgdmlldyByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gX2NoZWNrZWRBZGRyID09IHRveUlkVG9Pd25lcltfdG9rZW5JZF07CiAgfQoKZnVuY3Rpb24gX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBwcml2YXRlIHsKICAgIG93bmVyc2hpcFRva2VuQ291bnRbX3RvXSsrOwogICAgdG95SWRUb093bmVyW190b2tlbklkXSA9IF90bzsKCiAgICAvLyBXaGVuIGNyZWF0aW5nIG5ldyB0b3lzIF9mcm9tIGlzIDB4MCwgYnV0IHdlIGNhbid0IGFjY291bnQgdGhhdCBhZGRyZXNzLgogICAgaWYgKF9mcm9tICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXJzaGlwVG9rZW5Db3VudFtfZnJvbV0tLTsKICAgICAgLy8gY2xlYXIgYW55IHByZXZpb3VzbHkgYXBwcm92ZWQgb3duZXJzaGlwIGV4Y2hhbmdlCiAgICAgIGRlbGV0ZSB0b3lJZFRvQXBwcm92ZWRbX3Rva2VuSWRdOwogICAgfQoKICAgIC8vIEVtaXQgdGhlIHRyYW5zZmVyIGV2ZW50LgogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3Rva2VuSWQpOwogIH0KfQ=='.
	

]
