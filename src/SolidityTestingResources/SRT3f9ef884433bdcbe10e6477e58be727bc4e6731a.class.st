Class {
	#name : #SRT3f9ef884433bdcbe10e6477e58be727bc4e6731a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT3f9ef884433bdcbe10e6477e58be727bc4e6731a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgkvKioKCQkqIEB0aXRsZSBTYWZlTWF0aAoJCSogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKCSovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfX0KCS8qKgoJCSogQHRpdGxlIE93bmFibGUKCQkqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wgCgkJKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLiAKCSovCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoJLyoqIAoJCSogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCgkJKiBhY2NvdW50LgoJKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCS8qKgoJCSogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLiAKCSovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoJLyoqCgkJKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAgICAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4gCgkqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICBpZiAobmV3T3duZXIgIT0gYWRkcmVzcygwKSkgewogICAgICBvd25lciA9IG5ld093bmVyOwogICAgfSAgfQp9CgkvKioKCQkqIEB0aXRsZSBFUkMyMEJhc2ljCgkJKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKCQkqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKCSovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCS8qKgoJCSogQHRpdGxlIEJhc2ljIHRva2VuCgkJKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLiAKCSovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoJLyoqCgkJKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCgkJKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgoJCSogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgoJKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCS8qKgoJCSogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KCQkqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLiAKCQkqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCgkqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9Cn0KCS8qKgoJCSogQHRpdGxlIEVSQzIwIGludGVyZmFjZQoJCSogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCgkqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCS8qKgoJCSogQHRpdGxlIFN0YW5kYXJkIEVSQzIwIHRva2VuCgkJKgoJCSogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCgkJKiBAZGV2IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAoJCSogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAoJKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCS8qKgoJCSogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICAgICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCgkJKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KCQkqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKCSovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgIC8vIHJlcXVpcmUgKF92YWx1ZSA8PSBfYWxsb3dhbmNlKTsKCiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgkvKioKCQkqIEBkZXYgQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCgkJKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCgkJKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgoJKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CgkvKioKCQkqIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCgkJKiBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CgkJKiBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgoJCSogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKCSovCiAgICByZXF1aXJlKChfdmFsdWUgPT0gMCkgfHwgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKCiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoJLyoqCgkJKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCgkJKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCgkJKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KCQkqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpYmxlIGZvciB0aGUgc3BlbmRlci4KCSovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQp9CmNvbnRyYWN0IEJJT05FVU0gaXMgU3RhbmRhcmRUb2tlbiwgT3duYWJsZSB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICAgIC8vIFRva2VuIEluZm8uCiAgICBzdHJpbmcgIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkJJT05FVU0iOwogICAgc3RyaW5nICBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkJJTyI7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDg7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCB0b3RhbFN1cHBseSA9IGRlY1ZhbCg1MDAwMDAwMCk7CgkKICAgIC8vIEFkZHJlc3Mgd2hlcmUgZnVuZHMgYXJlIGNvbGxlY3RlZC4KICAgIGFkZHJlc3MgcHVibGljIG11bHRpc2lnID0gMHg5OTliYjY1REJmYzU2NzQyZDZhNjViMTI2N2NmZGFjZjJhZmE1RkJFOwogICAgLy8gRGV2ZWxvcGVyIHRva2Vucy4KCWFkZHJlc3MgcHVibGljIGRldmVsb3BlcnMgPSAweDhEOWFjYzI3MDA1NDE5RTBhMjYwQjQ0ZDA2MEY3NDI3Q2Q5NzM5QjI7CiAgICAvLyBGb3VuZGVyIHRva2Vucy4KCWFkZHJlc3MgcHVibGljIGZvdW5kZXJzID0gMHhCNjc5OTE5YzYzNzk5YzM5ZDA3NEVFYWQ2NTA4ODlCMjRDMDZmZEM2OwogICAgLy8gQm91bnR5IHRva2Vucy4KCWFkZHJlc3MgcHVibGljIGJvdW50eSA9IDB4Q0YyRjQ1MEZCN2QyNjVmRjgyRDBjMmYxNzM3ZDlmMDI1OGFlNDBBMzsKCS8vIEFkZHJlc3Mgb2YgdGhpcyBjb250cmFjdC90b2tlbgogICAgYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgdG9rZW5BZGRyZXNzID0gdGhpczsKICAgIC8vIFNhbGUgcGVyaW9kLgogICAgdWludDI1NiBwdWJsaWMgc3RhcnREYXRlOwogICAgdWludDI1NiBwdWJsaWMgZW5kRGF0ZTsKICAgIC8vIEFtb3VudCBvZiByYWlzZWQgbW9uZXkgaW4gd2VpLgogICAgdWludDI1NiBwdWJsaWMgd2VpUmFpc2VkOwogICAgLy8gTnVtYmVyIG9mIHRva2VucyBzb2xkLgoJdWludDI1NiBwdWJsaWMgdG9rZW5zU29sZDsKICAgIC8vIE1vZGlmaWVycy4KICAgIG1vZGlmaWVyIHVuaW5pdGlhbGl6ZWQoKSB7CiAgICAgICAgcmVxdWlyZShtdWx0aXNpZyA9PSAweDApOwogICAgICAgIF87CiAgICB9ICAgIAoJZnVuY3Rpb24gQklPTkVVTSgpIHsKICAgICAgICBzdGFydERhdGUgPSBub3c7CiAgICAgICAgZW5kRGF0ZSA9IHN0YXJ0RGF0ZS5hZGQoMzAgZGF5cyk7CgkJCiAgICAgICAgYmFsYW5jZXNbZm91bmRlcnNdIAk9IGRlY1ZhbCg1MDAwMDAwKTsKICAgICAgICBUcmFuc2ZlcigweDAsIGZvdW5kZXJzCSwgYmFsYW5jZXNbZm91bmRlcnNdKTsKCQkKICAgICAgICBiYWxhbmNlc1tib3VudHldIAk9IGRlY1ZhbCgxMDAwMDAwKTsKICAgICAgICBUcmFuc2ZlcigweDAsIGJvdW50eQksIGJhbGFuY2VzW2JvdW50eV0pOwoJCQogICAgICAgIGJhbGFuY2VzW2RldmVsb3BlcnNdID0gZGVjVmFsKDQwMDAwMDApOwogICAgICAgIFRyYW5zZmVyKDB4MCwgZGV2ZWxvcGVycwksIGJhbGFuY2VzW2RldmVsb3BlcnNdKTsKCQkKCQliYWxhbmNlc1t0aGlzXSA9IHRvdGFsU3VwcGx5LnN1YihiYWxhbmNlc1tkZXZlbG9wZXJzXS5hZGQoYmFsYW5jZXNbZm91bmRlcnNdKS5hZGQoYmFsYW5jZXNbYm91bnR5XSkpOwogICAgICAgIFRyYW5zZmVyKDB4MCwgdGhpcwkJLCBiYWxhbmNlc1t0aGlzXSk7CiAgICB9CiAgICBmdW5jdGlvbiBzdXBwbHkoKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW3RoaXNdOwogICAgfQogICAgZnVuY3Rpb24gZ2V0UmF0ZUF0KHVpbnQyNTYgYXQsIHVpbnQyNTYgYW1vdW50KSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgaWYgKGF0IDwgc3RhcnREYXRlKSB7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0gZWxzZSBpZiAoYXQgPCBzdGFydERhdGUuYWRkKDcgZGF5cykpIHsKICAgICAgICAgICAgcmV0dXJuIGRlY1ZhbCgxMzAwKTsKICAgICAgICB9IGVsc2UgaWYgKGF0IDwgc3RhcnREYXRlLmFkZCgxNCBkYXlzKSkgewogICAgICAgICAgICByZXR1cm4gZGVjVmFsKDExNTApOwogICAgICAgIH0gZWxzZSBpZiAoYXQgPCBzdGFydERhdGUuYWRkKDIxIGRheXMpKSB7CiAgICAgICAgICAgIHJldHVybiBkZWNWYWwoMTA1MCk7CiAgICAgICAgfSBlbHNlIGlmIChhdCA8IHN0YXJ0RGF0ZS5hZGQoMjggZGF5cykgfHwgYXQgPD0gZW5kRGF0ZSkgewogICAgICAgICAgICByZXR1cm4gZGVjVmFsKDEwMDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KCX0KCWZ1bmN0aW9uIGRlY1ZhbCh1aW50MjU2IGFtb3VudCkgaW50ZXJuYWwgcmV0dXJucyh1aW50MjU2KXsKCQlyZXR1cm4gYW1vdW50ICogMTAgKiogdWludDI1NihkZWNpbWFscyk7Cgl9CiAgICAvLyBGYWxsYmFjayBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBidXkgdG9rZW5zCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsKICAgICAgICBidXlUb2tlbnMobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsKICAgIH0KICAgIGZ1bmN0aW9uIGJ1eVRva2VucyhhZGRyZXNzIHNlbmRlciwgdWludDI1NiB2YWx1ZSkgaW50ZXJuYWwgewogICAgICAgIHJlcXVpcmUoc2FsZUFjdGl2ZSgpKTsKICAgICAgICByZXF1aXJlKHZhbHVlID49IDAuMDAxIGV0aGVyKTsKICAgICAgICB1aW50MjU2IHdlaUFtb3VudCA9IHZhbHVlOwogICAgICAgIHVpbnQyNTYgdXBkYXRlZFdlaVJhaXNlZCA9IHdlaVJhaXNlZC5hZGQod2VpQW1vdW50KTsKICAgICAgICAvLyBDYWxjdWxhdGUgdG9rZW4gYW1vdW50IHRvIGJlIHB1cmNoYXNlZAogICAgICAgIHVpbnQyNTYgYWN0dWFsUmF0ZSA9IGdldFJhdGVBdChub3csIGFtb3VudCk7CiAgICAgICAgdWludDI1NiBhbW91bnQgPSB3ZWlBbW91bnQubXVsKGFjdHVhbFJhdGUpLmRpdigxIGV0aGVyKTsKICAgICAgICAvLyBXZSBoYXZlIGVub3VnaCB0b2tlbiB0byBzZWxsCiAgICAgICAgcmVxdWlyZShzdXBwbHkoKSA+PSBhbW91bnQpOwogICAgICAgIC8vIFRyYW5zZmVyIHRva2VucwogICAgICAgIGJhbGFuY2VzW3RoaXNdID0gYmFsYW5jZXNbdGhpc10uc3ViKGFtb3VudCk7CiAgICAgICAgYmFsYW5jZXNbc2VuZGVyXSA9IGJhbGFuY2VzW3NlbmRlcl0uYWRkKGFtb3VudCk7CgkJVHJhbnNmZXIodGhpcywgc2VuZGVyLCBhbW91bnQpOwogICAgICAgIC8vIFVwZGF0ZSBzdGF0ZS4KICAgICAgICB3ZWlSYWlzZWQgPSB1cGRhdGVkV2VpUmFpc2VkOwoJCXRva2Vuc1NvbGQgPSB0b2tlbnNTb2xkLmFkZChhbW91bnQpOwogICAgICAgIC8vIEZvcndhcmQgdGhlIGZ1bmQgdG8gZnVuZCBjb2xsZWN0aW9uIHdhbGxldC4KICAgICAgICBtdWx0aXNpZy50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgfQoJZnVuY3Rpb24gaW50ZXJuYWxTZW5kKGFkZHJlc3MgcmVjaXBpZW50LCB1aW50MjU2IGJpb0Ftb3VudCkgb25seU93bmVyewoJCS8vIFdlIGhhdmUgZW5vdWdoIHRva2VuIHRvIHNlbmQKCQkvLyBGdW5jdGlvbiB1c2VkIHRvIHByb3ZpZGUgdG9rZW5zIHRvIHVzZXJzIHdobyBwYXJ0aWNpcGF0ZWQgaW4gdGhlIDEuMCB0b2tlbiBzYWxlCiAgICAgICAgcmVxdWlyZShzdXBwbHkoKSA+PSBiaW9BbW91bnQpOwogICAgICAgIC8vIFRyYW5zZmVyIHRva2VucwogICAgICAgIGJhbGFuY2VzW3RoaXNdID0gYmFsYW5jZXNbdGhpc10uc3ViKGJpb0Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbcmVjaXBpZW50XSA9IGJhbGFuY2VzW3JlY2lwaWVudF0uYWRkKGJpb0Ftb3VudCk7CgkJVHJhbnNmZXIodGhpcywgcmVjaXBpZW50LCBiaW9BbW91bnQpOwoJfQogICAgZnVuY3Rpb24gZmluYWxpemUoKSBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoIXNhbGVBY3RpdmUoKSk7CgkJLy8gQnVybiBhbGwgdW5zb2xkIHRva2VucyBhdCB0aGUgZW5kIG9mIHRoZSBjcm93ZHNhbGUKCQlUcmFuc2Zlcih0aGlzLCAweDAsIGJhbGFuY2VzW3RoaXNdKTsKICAgICAgICBiYWxhbmNlc1t0aGlzXSA9IDA7CiAgICB9CiAgICBmdW5jdGlvbiBzYWxlQWN0aXZlKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gKG5vdyA+PSBzdGFydERhdGUgJiYgbm93IDwgZW5kRGF0ZSAmJiBzdXBwbHkoKSA+IDApOwogICAgfQp9'.
	

]
