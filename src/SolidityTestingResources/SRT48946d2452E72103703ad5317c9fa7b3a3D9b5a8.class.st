Class {
	#name : #SRT48946d2452E72103703ad5317c9fa7b3a3D9b5a8,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT48946d2452E72103703ad5317c9fa7b3a3D9b5a8 >> base64 [
	^ 'Ly8gQ29weXJpZ2h0IChDKSAyMDE3IERhcHBIdWIsIExMQwoKcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovL2ltcG9ydCAiZHMtZXhlYy9leGVjLnNvbCI7Cgpjb250cmFjdCBEU0V4ZWMgewogICAgZnVuY3Rpb24gdHJ5RXhlYyggYWRkcmVzcyB0YXJnZXQsIGJ5dGVzIGNhbGxkYXRhLCB1aW50IHZhbHVlKQogICAgaW50ZXJuYWwKICAgIHJldHVybnMgKGJvb2wgY2FsbF9yZXQpCiAgICB7CiAgICAgICAgcmV0dXJuIHRhcmdldC5jYWxsLnZhbHVlKHZhbHVlKShjYWxsZGF0YSk7CiAgICB9CiAgICBmdW5jdGlvbiBleGVjKCBhZGRyZXNzIHRhcmdldCwgYnl0ZXMgY2FsbGRhdGEsIHVpbnQgdmFsdWUpCiAgICBpbnRlcm5hbAogICAgewogICAgICAgIGlmKCF0cnlFeGVjKHRhcmdldCwgY2FsbGRhdGEsIHZhbHVlKSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICB9CgogICAgLy8gQ29udmVuaWVuY2UgYWxpYXNlcwogICAgZnVuY3Rpb24gZXhlYyggYWRkcmVzcyB0LCBieXRlcyBjICkKICAgIGludGVybmFsCiAgICB7CiAgICAgICAgZXhlYyh0LCBjLCAwKTsKICAgIH0KICAgIGZ1bmN0aW9uIGV4ZWMoIGFkZHJlc3MgdCwgdWludDI1NiB2ICkKICAgIGludGVybmFsCiAgICB7CiAgICAgICAgYnl0ZXMgbWVtb3J5IGM7IGV4ZWModCwgYywgdik7CiAgICB9CiAgICBmdW5jdGlvbiB0cnlFeGVjKCBhZGRyZXNzIHQsIGJ5dGVzIGMgKQogICAgaW50ZXJuYWwKICAgIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgcmV0dXJuIHRyeUV4ZWModCwgYywgMCk7CiAgICB9CiAgICBmdW5jdGlvbiB0cnlFeGVjKCBhZGRyZXNzIHQsIHVpbnQyNTYgdiApCiAgICBpbnRlcm5hbAogICAgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICBieXRlcyBtZW1vcnkgYzsgcmV0dXJuIHRyeUV4ZWModCwgYywgdik7CiAgICB9Cn0KCi8vaW1wb3J0ICJkcy1hdXRoL2F1dGguc29sIjsKY29udHJhY3QgRFNBdXRob3JpdHkgewogICAgZnVuY3Rpb24gY2FuQ2FsbCgKICAgIGFkZHJlc3Mgc3JjLCBhZGRyZXNzIGRzdCwgYnl0ZXM0IHNpZwogICAgKSBjb25zdGFudCByZXR1cm5zIChib29sKTsKfQoKY29udHJhY3QgRFNBdXRoRXZlbnRzIHsKICAgIGV2ZW50IExvZ1NldEF1dGhvcml0eSAoYWRkcmVzcyBpbmRleGVkIGF1dGhvcml0eSk7CiAgICBldmVudCBMb2dTZXRPd25lciAgICAgKGFkZHJlc3MgaW5kZXhlZCBvd25lcik7Cn0KCmNvbnRyYWN0IERTQXV0aCBpcyBEU0F1dGhFdmVudHMgewogICAgRFNBdXRob3JpdHkgIHB1YmxpYyAgYXV0aG9yaXR5OwogICAgYWRkcmVzcyAgICAgIHB1YmxpYyAgb3duZXI7CgogICAgZnVuY3Rpb24gRFNBdXRoKCkgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICBMb2dTZXRPd25lcihtc2cuc2VuZGVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRPd25lcihhZGRyZXNzIG93bmVyXykKICAgIGF1dGgKICAgIHsKICAgICAgICBvd25lciA9IG93bmVyXzsKICAgICAgICBMb2dTZXRPd25lcihvd25lcik7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0QXV0aG9yaXR5KERTQXV0aG9yaXR5IGF1dGhvcml0eV8pCiAgICBhdXRoCiAgICB7CiAgICAgICAgYXV0aG9yaXR5ID0gYXV0aG9yaXR5XzsKICAgICAgICBMb2dTZXRBdXRob3JpdHkoYXV0aG9yaXR5KTsKICAgIH0KCiAgICBtb2RpZmllciBhdXRoIHsKICAgICAgICBhc3NlcnQoaXNBdXRob3JpemVkKG1zZy5zZW5kZXIsIG1zZy5zaWcpKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzQXV0aG9yaXplZChhZGRyZXNzIHNyYywgYnl0ZXM0IHNpZykgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGlmIChzcmMgPT0gYWRkcmVzcyh0aGlzKSkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKHNyYyA9PSBvd25lcikgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKGF1dGhvcml0eSA9PSBEU0F1dGhvcml0eSgwKSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGF1dGhvcml0eS5jYW5DYWxsKHNyYywgdGhpcywgc2lnKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgeCkgaW50ZXJuYWwgewogICAgICAgIGlmICgheCkgdGhyb3c7CiAgICB9Cn0KCi8vaW1wb3J0ICJkcy1ub3RlL25vdGUuc29sIjsKY29udHJhY3QgRFNOb3RlIHsKICAgIGV2ZW50IExvZ05vdGUoCiAgICBieXRlczQgICBpbmRleGVkICBzaWcsCiAgICBhZGRyZXNzICBpbmRleGVkICBndXksCiAgICBieXRlczMyICBpbmRleGVkICBmb28sCiAgICBieXRlczMyICBpbmRleGVkICBiYXIsCiAgICB1aW50ICAgICAgICB3YWQsCiAgICBieXRlcyAgICAgICAgICAgICBmYXgKICAgICkgYW5vbnltb3VzOwoKICAgIG1vZGlmaWVyIG5vdGUgewogICAgICAgIGJ5dGVzMzIgZm9vOwogICAgICAgIGJ5dGVzMzIgYmFyOwoKICAgICAgICBhc3NlbWJseSB7CiAgICAgICAgZm9vIDo9IGNhbGxkYXRhbG9hZCg0KQogICAgICAgIGJhciA6PSBjYWxsZGF0YWxvYWQoMzYpCiAgICAgICAgfQoKICAgICAgICBMb2dOb3RlKG1zZy5zaWcsIG1zZy5zZW5kZXIsIGZvbywgYmFyLCBtc2cudmFsdWUsIG1zZy5kYXRhKTsKCiAgICAgICAgXzsKICAgIH0KfQoKCi8vaW1wb3J0ICJkcy1tYXRoL21hdGguc29sIjsKY29udHJhY3QgRFNNYXRoIHsKCiAgICAvKgogICAgc3RhbmRhcmQgdWludDI1NiBmdW5jdGlvbnMKICAgICAqLwoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgYXNzZXJ0KCh6ID0geCArIHkpID49IHgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgYXNzZXJ0KCh6ID0geCAtIHkpIDw9IHgpOwogICAgfQoKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgeiA9IHggKiB5OwogICAgICAgIGFzc2VydCh4ID09IDAgfHwgeiAvIHggPT0geSk7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICB6ID0geCAvIHk7CiAgICB9CgogICAgZnVuY3Rpb24gbWluKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICByZXR1cm4geCA8PSB5ID8geCA6IHk7CiAgICB9CiAgICBmdW5jdGlvbiBtYXgodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgewogICAgICAgIHJldHVybiB4ID49IHkgPyB4IDogeTsKICAgIH0KCiAgICAvKgogICAgdWludDEyOCBmdW5jdGlvbnMgKGggaXMgZm9yIGhhbGYpCiAgICAgKi8KCgogICAgZnVuY3Rpb24gaGFkZCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgYXNzZXJ0KCh6ID0geCArIHkpID49IHgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGhzdWIodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIGFzc2VydCgoeiA9IHggLSB5KSA8PSB4KTsKICAgIH0KCiAgICBmdW5jdGlvbiBobXVsKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICB6ID0geCAqIHk7CiAgICAgICAgYXNzZXJ0KHggPT0gMCB8fCB6IC8geCA9PSB5KTsKICAgIH0KCiAgICBmdW5jdGlvbiBoZGl2KHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICB6ID0geCAvIHk7CiAgICB9CgogICAgZnVuY3Rpb24gaG1pbih1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgcmV0dXJuIHggPD0geSA/IHggOiB5OwogICAgfQogICAgZnVuY3Rpb24gaG1heCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgcmV0dXJuIHggPj0geSA/IHggOiB5OwogICAgfQoKCiAgICAvKgogICAgaW50MjU2IGZ1bmN0aW9ucwogICAgICovCgogICAgZnVuY3Rpb24gaW1pbihpbnQyNTYgeCwgaW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKGludDI1NiB6KSB7CiAgICAgICAgcmV0dXJuIHggPD0geSA/IHggOiB5OwogICAgfQogICAgZnVuY3Rpb24gaW1heChpbnQyNTYgeCwgaW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKGludDI1NiB6KSB7CiAgICAgICAgcmV0dXJuIHggPj0geSA/IHggOiB5OwogICAgfQoKICAgIC8qCiAgICBXQUQgbWF0aAogICAgICovCgogICAgdWludDEyOCBjb25zdGFudCBXQUQgPSAxMCAqKiAxODsKCiAgICBmdW5jdGlvbiB3YWRkKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4KSB7CiAgICAgICAgcmV0dXJuIGhhZGQoeCwgeSk7CiAgICB9CgogICAgZnVuY3Rpb24gd3N1Yih1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCkgewogICAgICAgIHJldHVybiBoc3ViKHgsIHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdtdWwodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIHogPSBjYXN0KCh1aW50MjU2KHgpICogeSArIFdBRCAvIDIpIC8gV0FEKTsKICAgIH0KCiAgICBmdW5jdGlvbiB3ZGl2KHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICB6ID0gY2FzdCgodWludDI1Nih4KSAqIFdBRCArIHkgLyAyKSAvIHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdtaW4odWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjgpIHsKICAgICAgICByZXR1cm4gaG1pbih4LCB5KTsKICAgIH0KICAgIGZ1bmN0aW9uIHdtYXgodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjgpIHsKICAgICAgICByZXR1cm4gaG1heCh4LCB5KTsKICAgIH0KCiAgICAvKgogICAgUkFZIG1hdGgKICAgICAqLwoKICAgIHVpbnQxMjggY29uc3RhbnQgUkFZID0gMTAgKiogMjc7CgogICAgZnVuY3Rpb24gcmFkZCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCkgewogICAgICAgIHJldHVybiBoYWRkKHgsIHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJzdWIodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjgpIHsKICAgICAgICByZXR1cm4gaHN1Yih4LCB5KTsKICAgIH0KCiAgICBmdW5jdGlvbiBybXVsKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICB6ID0gY2FzdCgodWludDI1Nih4KSAqIHkgKyBSQVkgLyAyKSAvIFJBWSk7CiAgICB9CgogICAgZnVuY3Rpb24gcmRpdih1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgeiA9IGNhc3QoKHVpbnQyNTYoeCkgKiBSQVkgKyB5IC8gMikgLyB5KTsKICAgIH0KCiAgICBmdW5jdGlvbiBycG93KHVpbnQxMjggeCwgdWludDY0IG4pIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIC8vIFRoaXMgZmFtb3VzIGFsZ29yaXRobSBpcyBjYWxsZWQgImV4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nIgogICAgICAgIC8vIGFuZCBjYWxjdWxhdGVzIHhebiB3aXRoIHggYXMgZml4ZWQtcG9pbnQgYW5kIG4gYXMgcmVndWxhciB1bnNpZ25lZC4KICAgICAgICAvLwogICAgICAgIC8vIEl0J3MgTyhsb2cgbiksIGluc3RlYWQgb2YgTyhuKSBmb3IgbmFpdmUgcmVwZWF0ZWQgbXVsdGlwbGljYXRpb24uCiAgICAgICAgLy8KICAgICAgICAvLyBUaGVzZSBmYWN0cyBhcmUgd2h5IGl0IHdvcmtzOgogICAgICAgIC8vCiAgICAgICAgLy8gIElmIG4gaXMgZXZlbiwgdGhlbiB4Xm4gPSAoeF4yKV4obi8yKS4KICAgICAgICAvLyAgSWYgbiBpcyBvZGQsICB0aGVuIHhebiA9IHggKiB4XihuLTEpLAogICAgICAgIC8vICAgYW5kIGFwcGx5aW5nIHRoZSBlcXVhdGlvbiBmb3IgZXZlbiB4IGdpdmVzCiAgICAgICAgLy8gICAgeF5uID0geCAqICh4XjIpXigobi0xKSAvIDIpLgogICAgICAgIC8vCiAgICAgICAgLy8gIEFsc28sIEVWTSBkaXZpc2lvbiBpcyBmbG9vcmluZyBhbmQKICAgICAgICAvLyAgICBmbG9vclsobi0xKSAvIDJdID0gZmxvb3JbbiAvIDJdLgoKICAgICAgICB6ID0gbiAlIDIgIT0gMCA/IHggOiBSQVk7CgogICAgICAgIGZvciAobiAvPSAyOyBuICE9IDA7IG4gLz0gMikgewogICAgICAgICAgICB4ID0gcm11bCh4LCB4KTsKCiAgICAgICAgICAgIGlmIChuICUgMiAhPSAwKSB7CiAgICAgICAgICAgICAgICB6ID0gcm11bCh6LCB4KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBybWluKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4KSB7CiAgICAgICAgcmV0dXJuIGhtaW4oeCwgeSk7CiAgICB9CiAgICBmdW5jdGlvbiBybWF4KHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4KSB7CiAgICAgICAgcmV0dXJuIGhtYXgoeCwgeSk7CiAgICB9CgogICAgZnVuY3Rpb24gY2FzdCh1aW50MjU2IHgpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIGFzc2VydCgoeiA9IHVpbnQxMjgoeCkpID09IHgpOwogICAgfQoKfQoKLy9pbXBvcnQgImVyYzIwL2VyYzIwLnNvbCI7CmNvbnRyYWN0IEVSQzIwIHsKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludCBzdXBwbHkpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKCBhZGRyZXNzIHdobyApIGNvbnN0YW50IHJldHVybnMgKHVpbnQgdmFsdWUpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKCBhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIgKSBjb25zdGFudCByZXR1cm5zICh1aW50IF9hbGxvd2FuY2UpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zIChib29sIG9rKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbSggYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zIChib29sIG9rKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoIGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSApIHJldHVybnMgKGJvb2wgb2spOwoKICAgIGV2ZW50IFRyYW5zZmVyKCBhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKCBhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsKfQoKCgovL2ltcG9ydCAiZHMtdG9rZW4vYmFzZS5zb2wiOwpjb250cmFjdCBEU1Rva2VuQmFzZSBpcyBFUkMyMCwgRFNNYXRoIHsKICAgIHVpbnQyNTYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdXBwbHk7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpICAgICAgICAgICAgICAgICAgICAgICBfYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpICBfYXBwcm92YWxzOwoKICAgIGZ1bmN0aW9uIERTVG9rZW5CYXNlKHVpbnQyNTYgc3VwcGx5KSB7CiAgICAgICAgX2JhbGFuY2VzW21zZy5zZW5kZXJdID0gc3VwcGx5OwogICAgICAgIF9zdXBwbHkgPSBzdXBwbHk7CiAgICB9CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIF9zdXBwbHk7CiAgICB9CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBzcmMpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gX2JhbGFuY2VzW3NyY107CiAgICB9CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBzcmMsIGFkZHJlc3MgZ3V5KSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIF9hcHByb3ZhbHNbc3JjXVtndXldOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgZHN0LCB1aW50IHdhZCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGFzc2VydChfYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gd2FkKTsKCiAgICAgICAgX2JhbGFuY2VzW21zZy5zZW5kZXJdID0gc3ViKF9iYWxhbmNlc1ttc2cuc2VuZGVyXSwgd2FkKTsKICAgICAgICBfYmFsYW5jZXNbZHN0XSA9IGFkZChfYmFsYW5jZXNbZHN0XSwgd2FkKTsKCiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgZHN0LCB3YWQpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBzcmMsIGFkZHJlc3MgZHN0LCB1aW50IHdhZCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGFzc2VydChfYmFsYW5jZXNbc3JjXSA+PSB3YWQpOwogICAgICAgIGFzc2VydChfYXBwcm92YWxzW3NyY11bbXNnLnNlbmRlcl0gPj0gd2FkKTsKCiAgICAgICAgX2FwcHJvdmFsc1tzcmNdW21zZy5zZW5kZXJdID0gc3ViKF9hcHByb3ZhbHNbc3JjXVttc2cuc2VuZGVyXSwgd2FkKTsKICAgICAgICBfYmFsYW5jZXNbc3JjXSA9IHN1YihfYmFsYW5jZXNbc3JjXSwgd2FkKTsKICAgICAgICBfYmFsYW5jZXNbZHN0XSA9IGFkZChfYmFsYW5jZXNbZHN0XSwgd2FkKTsKCiAgICAgICAgVHJhbnNmZXIoc3JjLCBkc3QsIHdhZCk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBndXksIHVpbnQyNTYgd2FkKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgX2FwcHJvdmFsc1ttc2cuc2VuZGVyXVtndXldID0gd2FkOwoKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBndXksIHdhZCk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKfQoKCi8vaW1wb3J0ICJkcy1zdG9wL3N0b3Auc29sIjsKY29udHJhY3QgRFNTdG9wIGlzIERTQXV0aCwgRFNOb3RlIHsKCiAgICBib29sIHB1YmxpYyBzdG9wcGVkOwoKICAgIG1vZGlmaWVyIHN0b3BwYWJsZSB7CiAgICAgICAgYXNzZXJ0ICghc3RvcHBlZCk7CiAgICAgICAgXzsKICAgIH0KICAgIGZ1bmN0aW9uIHN0b3AoKSBhdXRoIG5vdGUgewogICAgICAgIHN0b3BwZWQgPSB0cnVlOwogICAgfQogICAgZnVuY3Rpb24gc3RhcnQoKSBhdXRoIG5vdGUgewogICAgICAgIHN0b3BwZWQgPSBmYWxzZTsKICAgIH0KCn0KCgovL2ltcG9ydCAiZHMtdG9rZW4vdG9rZW4uc29sIjsKY29udHJhY3QgRFNUb2tlbiBpcyBEU1Rva2VuQmFzZSgwKSwgRFNTdG9wIHsKCiAgICBieXRlczMyICBwdWJsaWMgIHN5bWJvbDsKICAgIHVpbnQyNTYgIHB1YmxpYyAgZGVjaW1hbHMgPSAxODsgLy8gc3RhbmRhcmQgdG9rZW4gcHJlY2lzaW9uLiBvdmVycmlkZSB0byBjdXN0b21pemUKICAgIGFkZHJlc3MgIHB1YmxpYyAgZ2VuZXJhdG9yOwoKICAgIG1vZGlmaWVyIG9ubHlHZW5lcmF0b3IgewogICAgICAgIGlmKG1zZy5zZW5kZXIhPWdlbmVyYXRvcikgdGhyb3c7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBEU1Rva2VuKGJ5dGVzMzIgc3ltYm9sXykgewogICAgICAgIHN5bWJvbCA9IHN5bWJvbF87CiAgICAgICAgZ2VuZXJhdG9yPW1zZy5zZW5kZXI7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBkc3QsIHVpbnQgd2FkKSBzdG9wcGFibGUgbm90ZSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKGRzdCwgd2FkKTsKICAgIH0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbSgKICAgIGFkZHJlc3Mgc3JjLCBhZGRyZXNzIGRzdCwgdWludCB3YWQKICAgICkgc3RvcHBhYmxlIG5vdGUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oc3JjLCBkc3QsIHdhZCk7CiAgICB9CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgZ3V5LCB1aW50IHdhZCkgc3RvcHBhYmxlIG5vdGUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci5hcHByb3ZlKGd1eSwgd2FkKTsKICAgIH0KCiAgICBmdW5jdGlvbiBwdXNoKGFkZHJlc3MgZHN0LCB1aW50MTI4IHdhZCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiB0cmFuc2Zlcihkc3QsIHdhZCk7CiAgICB9CiAgICBmdW5jdGlvbiBwdWxsKGFkZHJlc3Mgc3JjLCB1aW50MTI4IHdhZCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiB0cmFuc2ZlckZyb20oc3JjLCBtc2cuc2VuZGVyLCB3YWQpOwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbnQodWludDEyOCB3YWQpIGF1dGggc3RvcHBhYmxlIG5vdGUgewogICAgICAgIF9iYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGFkZChfYmFsYW5jZXNbbXNnLnNlbmRlcl0sIHdhZCk7CiAgICAgICAgX3N1cHBseSA9IGFkZChfc3VwcGx5LCB3YWQpOwogICAgfQogICAgZnVuY3Rpb24gYnVybih1aW50MTI4IHdhZCkgYXV0aCBzdG9wcGFibGUgbm90ZSB7CiAgICAgICAgX2JhbGFuY2VzW21zZy5zZW5kZXJdID0gc3ViKF9iYWxhbmNlc1ttc2cuc2VuZGVyXSwgd2FkKTsKICAgICAgICBfc3VwcGx5ID0gc3ViKF9zdXBwbHksIHdhZCk7CiAgICB9CgogICAgLy8gb3duZXIgY2FuIHRyYW5zZmVyIHRva2VuIGV2ZW4gc3RvcCwKICAgIGZ1bmN0aW9uIGdlbmVyYXRvclRyYW5zZmVyKGFkZHJlc3MgZHN0LCB1aW50IHdhZCkgb25seUdlbmVyYXRvciBub3RlIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoZHN0LCB3YWQpOwogICAgfQoKICAgIC8vIE9wdGlvbmFsIHRva2VuIG5hbWUKCiAgICBieXRlczMyICAgcHVibGljICBuYW1lID0gIiI7CgogICAgZnVuY3Rpb24gc2V0TmFtZShieXRlczMyIG5hbWVfKSBhdXRoIHsKICAgICAgICBuYW1lID0gbmFtZV87CiAgICB9Cgp9CgoKY29udHJhY3Qga2trVG9rZW5TYWxlIGlzIERTU3RvcCwgRFNNYXRoLCBEU0V4ZWMgewoKICAgIERTVG9rZW4gcHVibGljIGtrazsKCiAgICAvLyBra2sgUFJJQ0VTIChFVEgva2trKQogICAgdWludDEyOCBwdWJsaWMgY29uc3RhbnQgUFVCTElDX1NBTEVfUFJJQ0UgPSAyMDAwMDAgZXRoZXI7CgogICAgdWludDEyOCBwdWJsaWMgY29uc3RhbnQgVE9UQUxfU1VQUExZID0gMTAgKiogMTEgKiAxIGV0aGVyOyAgLy8gMTAwIGJpbGxpb24ga2trIGluIHRvdGFsCgogICAgdWludDEyOCBwdWJsaWMgY29uc3RhbnQgU0VMTF9TT0ZUX0xJTUlUID0gVE9UQUxfU1VQUExZICogMTIgLyAxMDA7IC8vIHNvZnQgbGltaXQgaXMgMTIlICwgNjAwMDAgZXRoCiAgICB1aW50MTI4IHB1YmxpYyBjb25zdGFudCBTRUxMX0hBUkRfTElNSVQgPSBUT1RBTF9TVVBQTFkgKiAxNiAvIDEwMDsgLy8gaGFyZCBsaW1pdCBpcyAxNiUgLCA4MDAwMCBldGgKCiAgICB1aW50MTI4IHB1YmxpYyBjb25zdGFudCBGVVRVUkVfRElTVFJJQlVURV9MSU1JVCA9IFRPVEFMX1NVUFBMWSAqIDg0IC8gMTAwOyAvLyA4NCUgZm9yIGZ1dHVyZSBkaXN0cmlidXRpb24KCiAgICB1aW50MTI4IHB1YmxpYyBjb25zdGFudCBVU0VSX0JVWV9MSU1JVCA9IDUwMCBldGhlcjsgLy8gNTAwIGV0aGVyIGxpbWl0CiAgICB1aW50MTI4IHB1YmxpYyBjb25zdGFudCBNQVhfR0FTX1BSSUNFID0gNTAwMDAwMDAwMDA7ICAvLyA1MEdXZWkKCiAgICB1aW50IHB1YmxpYyBzdGFydFRpbWU7CiAgICB1aW50IHB1YmxpYyBlbmRUaW1lOwoKICAgIGJvb2wgcHVibGljIG1vcmVUaGFuU29mdExpbWl0OwoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgIHB1YmxpYyAgdXNlckJ1eXM7IC8vIGxpbWl0IHRvIDUwMCBldGgKCiAgICBhZGRyZXNzIHB1YmxpYyBkZXN0Rm91bmRhdGlvbjsgLy9tdWx0aXNpZyBhY2NvdW50ICwgNC1vZi02CgogICAgdWludDEyOCBwdWJsaWMgc29sZDsKICAgIHVpbnQxMjggcHVibGljIGNvbnN0YW50IHNvbGRCeUNoYW5uZWxzID0gNDAwMDAgKiAyMDAwMDAgZXRoZXI7IC8vIDIgSUNPIHdlYnNpdGVzLCBlYWNoIDIwMDAwIGV0aAoKICAgIGZ1bmN0aW9uIGtra1Rva2VuU2FsZSh1aW50IHN0YXJ0VGltZV8sIGFkZHJlc3MgZGVzdEZvdW5kYXRpb25fKSB7CgogICAgICAgIGtrayA9IG5ldyBEU1Rva2VuKCJra2siKTsKCiAgICAgICAgZGVzdEZvdW5kYXRpb24gPSBkZXN0Rm91bmRhdGlvbl87CgogICAgICAgIHN0YXJ0VGltZSA9IHN0YXJ0VGltZV87CiAgICAgICAgZW5kVGltZSA9IHN0YXJ0VGltZSArIDE0IGRheXM7CgogICAgICAgIHNvbGQgPSBzb2xkQnlDaGFubmVsczsgLy8gc29sZCBieSAzcmQgcGFydHkgSUNPIHdlYnNpdGVzOwogICAgICAgIGtray5taW50KFRPVEFMX1NVUFBMWSk7CgogICAgICAgIGtray50cmFuc2ZlcihkZXN0Rm91bmRhdGlvbiwgRlVUVVJFX0RJU1RSSUJVVEVfTElNSVQpOwogICAgICAgIGtray50cmFuc2ZlcihkZXN0Rm91bmRhdGlvbiwgc29sZEJ5Q2hhbm5lbHMpOwoKICAgICAgICAvL2Rpc2FibGUgdHJhbnNmZXIKICAgICAgICBra2suc3RvcCgpOwogICAgfQoKICAgIC8vIG92ZXJyaWRlYWJsZSBmb3IgZWFzeSB0ZXN0aW5nCiAgICBmdW5jdGlvbiB0aW1lKCkgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBub3c7CiAgICB9CgogICAgZnVuY3Rpb24gaXNDb250cmFjdChhZGRyZXNzIF9hZGRyKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zKGJvb2wpIHsKICAgICAgICB1aW50IHNpemU7CiAgICAgICAgaWYgKF9hZGRyID09IDApIHJldHVybiBmYWxzZTsKICAgICAgICBhc3NlbWJseSB7CiAgICAgICAgc2l6ZSA6PSBleHRjb2Rlc2l6ZShfYWRkcikKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHNpemUgPiAwOwogICAgfQoKICAgIGZ1bmN0aW9uIGNhbkJ1eSh1aW50IHRvdGFsKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHRvdGFsIDw9IFVTRVJfQlVZX0xJTUlUOwogICAgfQoKICAgIGZ1bmN0aW9uKCkgcGF5YWJsZSBzdG9wcGFibGUgbm90ZSB7CgogICAgICAgIHJlcXVpcmUoIWlzQ29udHJhY3QobXNnLnNlbmRlcikpOwogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IDAuMDEgZXRoZXIpOwogICAgICAgIHJlcXVpcmUodHguZ2FzcHJpY2UgPD0gTUFYX0dBU19QUklDRSk7CgogICAgICAgIGFzc2VydCh0aW1lKCkgPj0gc3RhcnRUaW1lICYmIHRpbWUoKSA8IGVuZFRpbWUpOwoKICAgICAgICB2YXIgdG9GdW5kID0gY2FzdChtc2cudmFsdWUpOwoKICAgICAgICB2YXIgcmVxdWVzdGVkID0gd211bCh0b0Z1bmQsIFBVQkxJQ19TQUxFX1BSSUNFKTsKCiAgICAgICAgLy8gc2VsbGluZyBTRUxMX0hBUkRfTElNSVQgdG9rZW5zIGVuZHMgdGhlIHNhbGUKICAgICAgICBpZiggYWRkKHNvbGQsIHJlcXVlc3RlZCkgPj0gU0VMTF9IQVJEX0xJTUlUKSB7CiAgICAgICAgICAgIHJlcXVlc3RlZCA9IFNFTExfSEFSRF9MSU1JVCAtIHNvbGQ7CiAgICAgICAgICAgIHRvRnVuZCA9IHdkaXYocmVxdWVzdGVkLCBQVUJMSUNfU0FMRV9QUklDRSk7CgogICAgICAgICAgICBlbmRUaW1lID0gdGltZSgpOwogICAgICAgIH0KCiAgICAgICAgLy8gVXNlciBjYW5ub3QgYnV5IG1vcmUgdGhhbiBVU0VSX0JVWV9MSU1JVAogICAgICAgIHZhciB0b3RhbFVzZXJCdXkgPSBhZGQodXNlckJ1eXNbbXNnLnNlbmRlcl0sIHRvRnVuZCk7CiAgICAgICAgYXNzZXJ0KGNhbkJ1eSh0b3RhbFVzZXJCdXkpKTsKICAgICAgICB1c2VyQnV5c1ttc2cuc2VuZGVyXSA9IHRvdGFsVXNlckJ1eTsKCiAgICAgICAgc29sZCA9IGhhZGQoc29sZCwgcmVxdWVzdGVkKTsKCiAgICAgICAgLy8gU29mdCBsaW1pdCB0cmlnZ2VycyB0aGUgc2FsZSB0byBjbG9zZSBpbiAyNCBob3VycwogICAgICAgIGlmKCAhbW9yZVRoYW5Tb2Z0TGltaXQgJiYgc29sZCA+PSBTRUxMX1NPRlRfTElNSVQgKSB7CiAgICAgICAgICAgIG1vcmVUaGFuU29mdExpbWl0ID0gdHJ1ZTsKICAgICAgICAgICAgZW5kVGltZSA9IHRpbWUoKSArIDI0IGhvdXJzOyAvLyBsYXN0IDI0IGhvdXJzIGFmdGVyIHNvZnQgbGltaXQsCiAgICAgICAgfQoKICAgICAgICBra2suc3RhcnQoKTsKICAgICAgICBra2sudHJhbnNmZXIobXNnLnNlbmRlciwgcmVxdWVzdGVkKTsKICAgICAgICBra2suc3RvcCgpOwoKICAgICAgICBleGVjKGRlc3RGb3VuZGF0aW9uLCB0b0Z1bmQpOyAvLyBzZW5kIGNvbGxlY3RlZCBFVEggdG8gbXVsdGlzaWcKCiAgICAgICAgLy8gcmV0dXJuIGV4Y2VzcyBFVEggdG8gdGhlIHVzZXIKICAgICAgICB1aW50IHRvUmV0dXJuID0gc3ViKG1zZy52YWx1ZSwgdG9GdW5kKTsKICAgICAgICBpZih0b1JldHVybiA+IDApIHsKICAgICAgICAgICAgZXhlYyhtc2cuc2VuZGVyLCB0b1JldHVybik7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHNldFN0YXJ0VGltZSh1aW50IHN0YXJ0VGltZV8pIGF1dGggbm90ZSB7CiAgICAgICAgcmVxdWlyZSh0aW1lKCkgPD0gc3RhcnRUaW1lICYmIHRpbWUoKSA8PSBzdGFydFRpbWVfKTsKCiAgICAgICAgc3RhcnRUaW1lID0gc3RhcnRUaW1lXzsKICAgICAgICBlbmRUaW1lID0gc3RhcnRUaW1lICsgMTQgZGF5czsKICAgIH0KCiAgICBmdW5jdGlvbiBmaW5hbGl6ZSgpIGF1dGggbm90ZSB7CiAgICAgICAgcmVxdWlyZSh0aW1lKCkgPj0gZW5kVGltZSk7CgogICAgICAgIC8vIGVuYWJsZSB0cmFuc2ZlcgogICAgICAgIGtray5zdGFydCgpOwoKICAgICAgICAvLyB0cmFuc2ZlciB1bmRpc3RyaWJ1dGVkIGtrawogICAgICAgIGtray50cmFuc2ZlcihkZXN0Rm91bmRhdGlvbiwga2trLmJhbGFuY2VPZih0aGlzKSk7CgogICAgICAgIC8vIG93bmVyIC0+IGRlc3RGb3VuZGF0aW9uCiAgICAgICAga2trLnNldE93bmVyKGRlc3RGb3VuZGF0aW9uKTsKICAgIH0KCgogICAgLy8gQG5vdGljZSBUaGlzIG1ldGhvZCBjYW4gYmUgdXNlZCBieSB0aGUgY29udHJvbGxlciB0byBleHRyYWN0IG1pc3Rha2VubHkKICAgIC8vICBzZW50IHRva2VucyB0byB0aGlzIGNvbnRyYWN0LgogICAgLy8gQHBhcmFtIGRzdCBUaGUgYWRkcmVzcyB0aGF0IHdpbGwgYmUgcmVjZWl2aW5nIHRoZSB0b2tlbnMKICAgIC8vIEBwYXJhbSB3YWQgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gdHJhbnNmZXIKICAgIC8vIEBwYXJhbSBfdG9rZW4gVGhlIGFkZHJlc3Mgb2YgdGhlIHRva2VuIGNvbnRyYWN0IHRoYXQgeW91IHdhbnQgdG8gcmVjb3ZlcgogICAgZnVuY3Rpb24gdHJhbnNmZXJUb2tlbnMoYWRkcmVzcyBkc3QsIHVpbnQgd2FkLCBhZGRyZXNzIF90b2tlbikgcHVibGljIGF1dGggbm90ZSB7CiAgICAgICAgRVJDMjAgdG9rZW4gPSBFUkMyMChfdG9rZW4pOwogICAgICAgIHRva2VuLnRyYW5zZmVyKGRzdCwgd2FkKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzdW1tYXJ5KCljb25zdGFudCByZXR1cm5zKAogICAgICAgIHVpbnQxMjggX3NvbGQsCiAgICAgICAgdWludCBfc3RhcnRUaW1lLAogICAgICAgIHVpbnQgX2VuZFRpbWUpCiAgICAgICAgewogICAgICAgIF9zb2xkID0gc29sZDsKICAgICAgICBfc3RhcnRUaW1lID0gc3RhcnRUaW1lOwogICAgICAgIF9lbmRUaW1lID0gZW5kVGltZTsKICAgICAgICByZXR1cm47CiAgICB9Cgp9'.
	

]
