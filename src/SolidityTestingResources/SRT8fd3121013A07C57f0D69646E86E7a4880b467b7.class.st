Class {
	#name : #SRT8fd3121013A07C57f0D69646E86E7a4880b467b7,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT8fd3121013A07C57f0D69646E86E7a4880b467b7 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovLyBTZWUgdGhlIEdpdGh1YiBhdCBodHRwczovL2dpdGh1Yi5jb20vYWlyc3dhcC9jb250cmFjdHMKCi8vIEFic3RyYWN0IGNvbnRyYWN0IGZvciB0aGUgZnVsbCBFUkMgMjAgVG9rZW4gc3RhbmRhcmQKLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCgpjb250cmFjdCBUb2tlbiB7CiAgICAvKiBUaGlzIGlzIGEgc2xpZ2h0IGNoYW5nZSB0byB0aGUgRVJDMjAgYmFzZSBzdGFuZGFyZC4KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpOwogICAgaXMgcmVwbGFjZWQgd2l0aDoKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgVGhpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgYSBnZXR0ZXIgZnVuY3Rpb24gZm9yIHRoZSB0b3RhbFN1cHBseS4KICAgIFRoaXMgaXMgbW92ZWQgdG8gdGhlIGJhc2UgY29udHJhY3Qgc2luY2UgcHVibGljIGdldHRlciBmdW5jdGlvbnMgYXJlIG5vdAogICAgY3VycmVudGx5IHJlY29nbmlzZWQgYXMgYW4gaW1wbGVtZW50YXRpb24gb2YgdGhlIG1hdGNoaW5nIGFic3RyYWN0CiAgICBmdW5jdGlvbiBieSB0aGUgY29tcGlsZXIuCiAgICAqLwogICAgLy8vIHRvdGFsIGFtb3VudCBvZiB0b2tlbnMKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIGZyb20gd2hpY2ggdGhlIGJhbGFuY2Ugd2lsbCBiZSByZXRyaWV2ZWQKICAgIC8vLyBAcmV0dXJuIFRoZSBiYWxhbmNlCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CgogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYAogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBfZnJvbWAgb24gdGhlIGNvbmRpdGlvbiBpdCBpcyBhcHByb3ZlZCBieSBgX2Zyb21gCiAgICAvLy8gQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQG5vdGljZSBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9zcGVuZGVyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXIKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgLy8vIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudAogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKfQoKCi8qIEltcGxlbWVudHMgRVJDIDIwIFRva2VuIHN0YW5kYXJkOiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAgKi8KCmNvbnRyYWN0IEVSQzIwIGlzIFRva2VuIHsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pOwogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VzOyAvLyAqYWRkZWQgcHVibGljCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2VkOyAvLyAqYWRkZWQgcHVibGljCn0KCi8qKiBAdGl0bGUgQWlyU3dhcCBleGNoYW5nZSBjb250cmFjdC4KICAqIEFzc3VtZXMgbWFrZXJzIGFuZCB0YWtlcnMgaGF2ZSBhcHByb3ZlZCB0aGlzIGNvbnRyYWN0IHRvIGFjY2VzcyB0aGVpciBiYWxhbmNlcy4KICAqLwpjb250cmFjdCBBaXJTd2FwRXhjaGFuZ2UgewoKICAgIC8vIE1hcHBpbmcgb2Ygb3JkZXIgaGFzaCB0byBib29sICh0cnVlID0gYWxyZWFkeSBmaWxsZWQpLgogICAgbWFwcGluZyAoYnl0ZXMzMiA9PiBib29sKSBwdWJsaWMgZmlsbHM7CgogICAgLy8gRXZlbnRzIHRoYXQgYXJlIGVtaXR0ZWQgaW4gZGlmZmVyZW50IHNjZW5hcmlvcy4KICAgIGV2ZW50IEZpbGxlZChhZGRyZXNzIGluZGV4ZWQgbWFrZXJBZGRyZXNzLCB1aW50IG1ha2VyQW1vdW50LCBhZGRyZXNzIGluZGV4ZWQgbWFrZXJUb2tlbiwgYWRkcmVzcyB0YWtlckFkZHJlc3MsIHVpbnQgdGFrZXJBbW91bnQsIGFkZHJlc3MgaW5kZXhlZCB0YWtlclRva2VuLCB1aW50MjU2IGV4cGlyYXRpb24sIHVpbnQyNTYgbm9uY2UpOwogICAgZXZlbnQgQ2FuY2VsZWQoYWRkcmVzcyBpbmRleGVkIG1ha2VyQWRkcmVzcywgdWludCBtYWtlckFtb3VudCwgYWRkcmVzcyBpbmRleGVkIG1ha2VyVG9rZW4sIGFkZHJlc3MgdGFrZXJBZGRyZXNzLCB1aW50IHRha2VyQW1vdW50LCBhZGRyZXNzIGluZGV4ZWQgdGFrZXJUb2tlbiwgdWludDI1NiBleHBpcmF0aW9uLCB1aW50MjU2IG5vbmNlKTsKCiAgICAvKiogRXZlbnQgdGhyb3duIHdoZW4gYSB0cmFkZSBmYWlscwogICAgICAqIEVycm9yIGNvZGVzOgogICAgICAqIDEgLT4gJ1RoZSBtYWtlQWRkcmVzcyBhbmQgdGFrZXJBZGRyZXNzIG11c3QgYmUgZGlmZmVyZW50JywKICAgICAgKiAyIC0+ICdUaGUgb3JkZXIgaGFzIGV4cGlyZWQnLAogICAgICAqIDMgLT4gJ1RoaXMgb3JkZXIgaGFzIGFscmVhZHkgYmVlbiBmaWxsZWQnLAogICAgICAqIDQgLT4gJ1RoZSBldGhlciBzZW50IHdpdGggdGhpcyB0cmFuc2FjdGlvbiBkb2VzIG5vdCBtYXRjaCB0YWtlckFtb3VudCcsCiAgICAgICogNSAtPiAnTm8gZXRoZXIgaXMgcmVxdWlyZWQgZm9yIGEgdHJhZGUgYmV0d2VlbiB0b2tlbnMnLAogICAgICAqIDYgLT4gJ1RoZSBzZW5kZXIgb2YgdGhpcyB0cmFuc2FjdGlvbiBtdXN0IG1hdGNoIHRoZSB0YWtlckFkZHJlc3MnLAogICAgICAqIDcgLT4gJ09yZGVyIGhhcyBhbHJlYWR5IGJlZW4gY2FuY2VsbGVkIG9yIGZpbGxlZCcKICAgICAgKi8KICAgIGV2ZW50IEZhaWxlZCh1aW50IGNvZGUsIGFkZHJlc3MgaW5kZXhlZCBtYWtlckFkZHJlc3MsIHVpbnQgbWFrZXJBbW91bnQsIGFkZHJlc3MgaW5kZXhlZCBtYWtlclRva2VuLCBhZGRyZXNzIHRha2VyQWRkcmVzcywgdWludCB0YWtlckFtb3VudCwgYWRkcmVzcyBpbmRleGVkIHRha2VyVG9rZW4sIHVpbnQyNTYgZXhwaXJhdGlvbiwgdWludDI1NiBub25jZSk7CgogICAgLyoqIEZpbGxzIGFuIG9yZGVyIGJ5IHRyYW5zZmVycmluZyB0b2tlbnMgYmV0d2VlbiAobWFrZXIgb3IgZXNjcm93KSBhbmQgdGFrZXIuCiAgICAgICogbWFrZXIgaXMgZ2l2ZW4gdG9rZW5BIHRvIHRha2VyLAogICAgICAqLwogICAgZnVuY3Rpb24gZmlsbChhZGRyZXNzIG1ha2VyQWRkcmVzcywgdWludCBtYWtlckFtb3VudCwgYWRkcmVzcyBtYWtlclRva2VuLAogICAgICAgICAgICAgICAgICBhZGRyZXNzIHRha2VyQWRkcmVzcywgdWludCB0YWtlckFtb3VudCwgYWRkcmVzcyB0YWtlclRva2VuLAogICAgICAgICAgICAgICAgICB1aW50MjU2IGV4cGlyYXRpb24sIHVpbnQyNTYgbm9uY2UsIHVpbnQ4IHYsIGJ5dGVzMzIgciwgYnl0ZXMzMiBzKSBwYXlhYmxlIHsKCiAgICAgICAgaWYgKG1ha2VyQWRkcmVzcyA9PSB0YWtlckFkZHJlc3MpIHsKICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgICAgICAgICBGYWlsZWQoMSwKICAgICAgICAgICAgbWFrZXJBZGRyZXNzLCBtYWtlckFtb3VudCwgbWFrZXJUb2tlbiwKICAgICAgICAgICAgdGFrZXJBZGRyZXNzLCB0YWtlckFtb3VudCwgdGFrZXJUb2tlbiwKICAgICAgICAgICAgZXhwaXJhdGlvbiwgbm9uY2UpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyBDaGVjayBpZiB0aGlzIG9yZGVyIGhhcyBleHBpcmVkCiAgICAgICAgaWYgKGV4cGlyYXRpb24gPCBub3cpIHsKICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgICAgICAgICBGYWlsZWQoMiwKICAgICAgICAgICAgICAgIG1ha2VyQWRkcmVzcywgbWFrZXJBbW91bnQsIG1ha2VyVG9rZW4sCiAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3MsIHRha2VyQW1vdW50LCB0YWtlclRva2VuLAogICAgICAgICAgICAgICAgZXhwaXJhdGlvbiwgbm9uY2UpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyBWYWxpZGF0ZSB0aGUgbWVzc2FnZSBieSBzaWduYXR1cmUuCiAgICAgICAgYnl0ZXMzMiBoYXNoID0gdmFsaWRhdGUobWFrZXJBZGRyZXNzLCBtYWtlckFtb3VudCwgbWFrZXJUb2tlbiwKICAgICAgICAgICAgdGFrZXJBZGRyZXNzLCB0YWtlckFtb3VudCwgdGFrZXJUb2tlbiwKICAgICAgICAgICAgZXhwaXJhdGlvbiwgbm9uY2UsIHYsIHIsIHMpOwoKICAgICAgICAvLyBDaGVjayBpZiB0aGlzIG9yZGVyIGhhcyBhbHJlYWR5IGJlZW4gZmlsbGVkCiAgICAgICAgaWYgKGZpbGxzW2hhc2hdKSB7CiAgICAgICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgICAgICAgICAgRmFpbGVkKDMsCiAgICAgICAgICAgICAgICBtYWtlckFkZHJlc3MsIG1ha2VyQW1vdW50LCBtYWtlclRva2VuLAogICAgICAgICAgICAgICAgdGFrZXJBZGRyZXNzLCB0YWtlckFtb3VudCwgdGFrZXJUb2tlbiwKICAgICAgICAgICAgICAgIGV4cGlyYXRpb24sIG5vbmNlKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoaXMgYW4gb3JkZXIgZm9yIGV0aGVyLgogICAgICAgIGlmICh0YWtlclRva2VuID09IGFkZHJlc3MoMHgwKSkgewoKICAgICAgICAgICAgLy8gQ2hlY2sgdG8gbWFrZSBzdXJlIHRoZSBtZXNzYWdlIHZhbHVlIGlzIHRoZSBvcmRlciBhbW91bnQuCiAgICAgICAgICAgIGlmIChtc2cudmFsdWUgPT0gdGFrZXJBbW91bnQpIHsKCiAgICAgICAgICAgICAgICAvLyBNYXJrIG9yZGVyIGFzIGZpbGxlZCB0byBwcmV2ZW50IHJlZW50cmFuY3kuCiAgICAgICAgICAgICAgICBmaWxsc1toYXNoXSA9IHRydWU7CgogICAgICAgICAgICAgICAgLy8gUGVyZm9ybSB0aGUgdHJhZGUgYmV0d2VlbiBtYWtlckFkZHJlc3MgYW5kIHRha2VyQWRkcmVzcy4KICAgICAgICAgICAgICAgIC8vIFRoZSB0cmFuc2ZlciB3aWxsIHRocm93IGlmIHRoZXJlJ3MgYSBwcm9ibGVtLgogICAgICAgICAgICAgICAgYXNzZXJ0KHRyYW5zZmVyKG1ha2VyQWRkcmVzcywgdGFrZXJBZGRyZXNzLCBtYWtlckFtb3VudCwgbWFrZXJUb2tlbikpOwoKICAgICAgICAgICAgICAgIC8vIFRyYW5zZmVyIHRoZSBldGhlciByZWNlaXZlZCBmcm9tIHNlbmRlciB0byBtYWtlckFkZHJlc3MuCiAgICAgICAgICAgICAgICBtYWtlckFkZHJlc3MudHJhbnNmZXIobXNnLnZhbHVlKTsKCiAgICAgICAgICAgICAgICAvLyBMb2cgYW4gZXZlbnQgdG8gaW5kaWNhdGUgY29tcGxldGlvbi4KICAgICAgICAgICAgICAgIEZpbGxlZChtYWtlckFkZHJlc3MsIG1ha2VyQW1vdW50LCBtYWtlclRva2VuLAogICAgICAgICAgICAgICAgICAgIHRha2VyQWRkcmVzcywgdGFrZXJBbW91bnQsIHRha2VyVG9rZW4sCiAgICAgICAgICAgICAgICAgICAgZXhwaXJhdGlvbiwgbm9uY2UpOwoKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgICAgICAgICAgICAgIEZhaWxlZCg0LAogICAgICAgICAgICAgICAgICAgIG1ha2VyQWRkcmVzcywgbWFrZXJBbW91bnQsIG1ha2VyVG9rZW4sCiAgICAgICAgICAgICAgICAgICAgdGFrZXJBZGRyZXNzLCB0YWtlckFtb3VudCwgdGFrZXJUb2tlbiwKICAgICAgICAgICAgICAgICAgICBleHBpcmF0aW9uLCBub25jZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gVGhpcyBpcyBhbiBvcmRlciB0cmFkaW5nIHR3byB0b2tlbnMKICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCBubyBldGhlciBoYXMgYmVlbiBzZW50IGFjY2lkZW50YWxseQogICAgICAgICAgICBpZiAobXNnLnZhbHVlICE9IDApIHsKICAgICAgICAgICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgICAgICAgICAgICAgIEZhaWxlZCg1LAogICAgICAgICAgICAgICAgICAgIG1ha2VyQWRkcmVzcywgbWFrZXJBbW91bnQsIG1ha2VyVG9rZW4sCiAgICAgICAgICAgICAgICAgICAgdGFrZXJBZGRyZXNzLCB0YWtlckFtb3VudCwgdGFrZXJUb2tlbiwKICAgICAgICAgICAgICAgICAgICBleHBpcmF0aW9uLCBub25jZSk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0YWtlckFkZHJlc3MgPT0gbXNnLnNlbmRlcikgewoKICAgICAgICAgICAgICAgIC8vIE1hcmsgb3JkZXIgYXMgZmlsbGVkIHRvIHByZXZlbnQgcmVlbnRyYW5jeS4KICAgICAgICAgICAgICAgIGZpbGxzW2hhc2hdID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAvLyBQZXJmb3JtIHRoZSB0cmFkZSBiZXR3ZWVuIG1ha2VyQWRkcmVzcyBhbmQgdGFrZXJBZGRyZXNzLgogICAgICAgICAgICAgICAgLy8gVGhlIHRyYW5zZmVyIHdpbGwgdGhyb3cgaWYgdGhlcmUncyBhIHByb2JsZW0uCiAgICAgICAgICAgICAgICAvLyBBc3NlcnQgc2hvdWxkIG5ldmVyIGZhaWwKICAgICAgICAgICAgICAgIGFzc2VydCh0cmFkZShtYWtlckFkZHJlc3MsIG1ha2VyQW1vdW50LCBtYWtlclRva2VuLAogICAgICAgICAgICAgICAgICAgIHRha2VyQWRkcmVzcywgdGFrZXJBbW91bnQsIHRha2VyVG9rZW4pKTsKCiAgICAgICAgICAgICAgICAvLyBMb2cgYW4gZXZlbnQgdG8gaW5kaWNhdGUgY29tcGxldGlvbi4KICAgICAgICAgICAgICAgIEZpbGxlZCgKICAgICAgICAgICAgICAgICAgICBtYWtlckFkZHJlc3MsIG1ha2VyQW1vdW50LCBtYWtlclRva2VuLAogICAgICAgICAgICAgICAgICAgIHRha2VyQWRkcmVzcywgdGFrZXJBbW91bnQsIHRha2VyVG9rZW4sCiAgICAgICAgICAgICAgICAgICAgZXhwaXJhdGlvbiwgbm9uY2UpOwoKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIEZhaWxlZCg2LAogICAgICAgICAgICAgICAgICAgIG1ha2VyQWRkcmVzcywgbWFrZXJBbW91bnQsIG1ha2VyVG9rZW4sCiAgICAgICAgICAgICAgICAgICAgdGFrZXJBZGRyZXNzLCB0YWtlckFtb3VudCwgdGFrZXJUb2tlbiwKICAgICAgICAgICAgICAgICAgICBleHBpcmF0aW9uLCBub25jZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgLyoqIENhbmNlbHMgYW4gb3JkZXIgYnkgcmVmdW5kaW5nIGVzY3JvdyBhbmQgYWRkaW5nIGl0IHRvIHRoZSBmaWxscyBtYXBwaW5nLgogICAgICAqIFdpbGwgbG9nIGFuIGV2ZW50IGlmCiAgICAgICogLSBvcmRlciBoYXMgYmVlbiBjYW5jZWxsZWQgb3IKICAgICAgKiAtIG9yZGVyIGhhcyBhbHJlYWR5IGJlZW4gZmlsbGVkCiAgICAgICogYW5kIHdpbGwgZG8gbm90aGluZyBpZiB0aGUgbWFrZXIgb2YgdGhlIG9yZGVyIGluIHF1ZXN0aW9uIGlzIG5vdCB0aGUKICAgICAgKiBtc2cuc2VuZGVyCiAgICAgICovCiAgICBmdW5jdGlvbiBjYW5jZWwoYWRkcmVzcyBtYWtlckFkZHJlc3MsIHVpbnQgbWFrZXJBbW91bnQsIGFkZHJlc3MgbWFrZXJUb2tlbiwKICAgICAgICAgICAgICAgICAgICBhZGRyZXNzIHRha2VyQWRkcmVzcywgdWludCB0YWtlckFtb3VudCwgYWRkcmVzcyB0YWtlclRva2VuLAogICAgICAgICAgICAgICAgICAgIHVpbnQyNTYgZXhwaXJhdGlvbiwgdWludDI1NiBub25jZSwgdWludDggdiwgYnl0ZXMzMiByLCBieXRlczMyIHMpIHsKCiAgICAgICAgLy8gVmFsaWRhdGUgdGhlIG1lc3NhZ2UgYnkgc2lnbmF0dXJlLgogICAgICAgIGJ5dGVzMzIgaGFzaCA9IHZhbGlkYXRlKG1ha2VyQWRkcmVzcywgbWFrZXJBbW91bnQsIG1ha2VyVG9rZW4sCiAgICAgICAgICAgIHRha2VyQWRkcmVzcywgdGFrZXJBbW91bnQsIHRha2VyVG9rZW4sCiAgICAgICAgICAgIGV4cGlyYXRpb24sIG5vbmNlLCB2LCByLCBzKTsKCiAgICAgICAgLy8gT25seSB0aGUgbWFrZXIgY2FuIGNhbmNlbCBhbiBvcmRlcgogICAgICAgIGlmIChtc2cuc2VuZGVyID09IG1ha2VyQWRkcmVzcykgewoKICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCBvcmRlciBoYXMgbm90IGFscmVhZHkgYmVlbiBmaWxsZWQvY2FuY2VsbGVkCiAgICAgICAgICAgIGlmIChmaWxsc1toYXNoXSA9PSBmYWxzZSkgewoKICAgICAgICAgICAgICAgIC8vIENhbmNlbCB0aGUgb3JkZXIgYnkgY29uc2lkZXJpbmcgaXQgZmlsbGVkLgogICAgICAgICAgICAgICAgZmlsbHNbaGFzaF0gPSB0cnVlOwoKICAgICAgICAgICAgICAgIC8vIEJyb2FkY2FzdCBhbiBldmVudCB0byB0aGUgYmxvY2tjaGFpbi4KICAgICAgICAgICAgICAgIENhbmNlbGVkKG1ha2VyQWRkcmVzcywgbWFrZXJBbW91bnQsIG1ha2VyVG9rZW4sCiAgICAgICAgICAgICAgICAgICAgdGFrZXJBZGRyZXNzLCB0YWtlckFtb3VudCwgdGFrZXJUb2tlbiwKICAgICAgICAgICAgICAgICAgICBleHBpcmF0aW9uLCBub25jZSk7CgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgRmFpbGVkKDcsCiAgICAgICAgICAgICAgICAgICAgbWFrZXJBZGRyZXNzLCBtYWtlckFtb3VudCwgbWFrZXJUb2tlbiwKICAgICAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3MsIHRha2VyQW1vdW50LCB0YWtlclRva2VuLAogICAgICAgICAgICAgICAgICAgIGV4cGlyYXRpb24sIG5vbmNlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvKiogQXRvbWljIHRyYWRlIG9mIHRva2VucyBiZXR3ZWVuIGZpcnN0IHBhcnR5IGFuZCBzZWNvbmQgcGFydHkuCiAgICAgICogVGhyb3dzIGlmIG9uZSBvZiB0aGUgdHJhZGVzIGRvZXMgbm90IGdvIHRocm91Z2guCiAgICAgICovCiAgICBmdW5jdGlvbiB0cmFkZShhZGRyZXNzIG1ha2VyQWRkcmVzcywgdWludCBtYWtlckFtb3VudCwgYWRkcmVzcyBtYWtlclRva2VuLAogICAgICAgICAgICAgICAgICAgYWRkcmVzcyB0YWtlckFkZHJlc3MsIHVpbnQgdGFrZXJBbW91bnQsIGFkZHJlc3MgdGFrZXJUb2tlbikgcHJpdmF0ZSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuICh0cmFuc2ZlcihtYWtlckFkZHJlc3MsIHRha2VyQWRkcmVzcywgbWFrZXJBbW91bnQsIG1ha2VyVG9rZW4pICYmCiAgICAgICAgdHJhbnNmZXIodGFrZXJBZGRyZXNzLCBtYWtlckFkZHJlc3MsIHRha2VyQW1vdW50LCB0YWtlclRva2VuKSk7CiAgICB9CgogICAgLyoqIFRyYW5zZmVycyB0b2tlbnMgZnJvbSBmaXJzdCBwYXJ0eSB0byBzZWNvbmQgcGFydHkuCiAgICAgICogUHJpb3IgdG8gYSB0cmFuc2ZlciBiZWluZyBkb25lIGJ5IHRoZSBjb250cmFjdCwgZW5zdXJlIHRoYXQKICAgICAgKiB0b2tlblZhbC5hcHByb3ZlKHRoaXMsIGFtb3VudCwge2Zyb20gOiBhZGRyZXNzfSkgaGFzIGJlZW4gY2FsbGVkCiAgICAgICogdGhyb3dzIGlmIHRoZSB0cmFuc2ZlckZyb20gb2YgdGhlIHRva2VuIHJldHVybnMgZmFsc2UKICAgICAgKiByZXR1cm5zIHRydWUgaWYsIHRoZSB0cmFuc2ZlciB3ZW50IHRocm91Z2gKICAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCBhbW91bnQsIGFkZHJlc3MgdG9rZW4pIHByaXZhdGUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoRVJDMjAodG9rZW4pLnRyYW5zZmVyRnJvbShmcm9tLCB0bywgYW1vdW50KSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqIFZhbGlkYXRlcyBvcmRlciBhcmd1bWVudHMgZm9yIGZpbGwoKSBhbmQgY2FuY2VsKCkgZnVuY3Rpb25zLiAqLwogICAgZnVuY3Rpb24gdmFsaWRhdGUoYWRkcmVzcyBtYWtlckFkZHJlc3MsIHVpbnQgbWFrZXJBbW91bnQsIGFkZHJlc3MgbWFrZXJUb2tlbiwKICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgdGFrZXJBZGRyZXNzLCB1aW50IHRha2VyQW1vdW50LCBhZGRyZXNzIHRha2VyVG9rZW4sCiAgICAgICAgICAgICAgICAgICAgICB1aW50MjU2IGV4cGlyYXRpb24sIHVpbnQyNTYgbm9uY2UsIHVpbnQ4IHYsIGJ5dGVzMzIgciwgYnl0ZXMzMiBzKSBwcml2YXRlIHJldHVybnMgKGJ5dGVzMzIpIHsKCiAgICAgICAgLy8gSGFzaCBhcmd1bWVudHMgdG8gaWRlbnRpZnkgdGhlIG9yZGVyLgogICAgICAgIGJ5dGVzMzIgaGFzaFYgPSBrZWNjYWsyNTYobWFrZXJBZGRyZXNzLCBtYWtlckFtb3VudCwgbWFrZXJUb2tlbiwKICAgICAgICAgICAgdGFrZXJBZGRyZXNzLCB0YWtlckFtb3VudCwgdGFrZXJUb2tlbiwKICAgICAgICAgICAgZXhwaXJhdGlvbiwgbm9uY2UpOwoKICAgICAgICBieXRlcyBtZW1vcnkgcHJlZml4ID0gIlx4MTlFdGhlcmV1bSBTaWduZWQgTWVzc2FnZTpcbjMyIjsKICAgICAgICBieXRlczMyIHByZWZpeGVkSGFzaCA9IHNoYTMocHJlZml4LCBoYXNoVik7CgogICAgICAgIHJlcXVpcmUoZWNyZWNvdmVyKHByZWZpeGVkSGFzaCwgdiwgciwgcykgPT0gbWFrZXJBZGRyZXNzKTsKCiAgICAgICAgcmV0dXJuIGhhc2hWOwogICAgfQp9'.
	

]
