Class {
	#name : #SRT2f32087aa2474dd84ae973d216de2bc8669003ee,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT2f32087aa2474dd84ae973d216de2bc8669003ee >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgppbnRlcmZhY2UgTWFuYWdlZFRva2VuewogICAgZnVuY3Rpb24gc2V0TG9jayhib29sIF9uZXdMb2NrU3RhdGUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gbWludChhZGRyZXNzIF9mb3IsIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBkZW1pbnQoYWRkcmVzcyBfZm9yLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gZGVjaW1hbHMoKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50OCBkZWNEaWdpdHMpOwogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IHN1cHBseSk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7Cn0KICAKY29udHJhY3QgSGFyZGNvZGVkQ3Jvd2RzYWxlIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIC8vZ2xvYmFsIGRlZmluaXNpb25zCgogICAgZW51bSBJQ09TdGF0ZUVudW0ge05vdFN0YXJ0ZWQsIFN0YXJ0ZWQsIFJlZnVuZGVkLCBTdWNjZXNzZnVsfQoKICAgIGFkZHJlc3MgcHVibGljIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIE1hbmFnZWRUb2tlbiBwdWJsaWMgbWFuYWdlZFRva2VuTGVkZ2VyOwoKICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJUb2tlbnNhbGUgb2YgQ1BMIjsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIkNQTCI7CgogICAgYm9vbCBwdWJsaWMgaGFsdGVkID0gZmFsc2U7CiAgICAgCiAgICB1aW50MjU2IHB1YmxpYyBtaW5Ub2tlbnNUb0J1eSA9IDEwOwogICAgCiAgICB1aW50MjU2IHB1YmxpYyBwcmVJQ09jb250cmlidXRvcnMgPSAwOwoKICAgIHVpbnQyNTYgcHVibGljIHByZUlDT3N0YXJ0OwogICAgdWludDI1NiBwdWJsaWMgcHJlSUNPZW5kOwogICAgdWludDI1NiBwdWJsaWMgcHJlSUNPZ29hbDsKICAgIHVpbnQyNTYgcHVibGljIHByZUlDT2NvbGxlY3RlZCA9IDA7CiAgICB1aW50MjU2IHB1YmxpYyBwcmVJQ09jYXAgPSAwIGV0aGVyOwogICAgdWludDI1NiBwdWJsaWMgcHJlSUNPdG9rZW5zU29sZCA9IDA7CiAgICBJQ09TdGF0ZUVudW0gcHVibGljIHByZUlDT3N0YXRlID0gSUNPU3RhdGVFbnVtLk5vdFN0YXJ0ZWQ7CiAgICAKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDk7CiAgICB1aW50MjU2IHB1YmxpYyBERUNJTUFMX01VTFRJUExJRVIgPSAxMCoqdWludDI1NihkZWNpbWFscyk7CgogICAgdWludDggcHVibGljIHNhbGVJbmRleCA9IDA7CiAKICAgIHVpbnQyNTYgcHVibGljIHByZUlDT3ByaWNlID0gdWludDI1NigxIGV0aGVyKS5kaXYoMTAwMCk7CiAgICB1aW50MjU2WzNdIHB1YmxpYyBwcmVJQ09ib251c011bHRpcGllcnNJblBlcmNlbnQgPSBbMTUwLCAxNDUsIDE0MF07CiAgICB1aW50MjU2WzNdIHB1YmxpYyBwcmVJQ09jb2luc0xlZnQgPSBbMTAwMDAwMCpERUNJTUFMX01VTFRJUExJRVIsIDEwMDAwMDAqREVDSU1BTF9NVUxUSVBMSUVSLCAxMDAwMDAwKkRFQ0lNQUxfTVVMVElQTElFUl07CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFByZUlDT2F2YWlsaWJsZVdpdGhCb251cyA9IDQzNTAwMDAqREVDSU1BTF9NVUxUSVBMSUVSOyAKICAgIHVpbnQyNTYgcHVibGljIG1heElzc3VlZFdpdGhBbW91bnRCYXNlZEJvbnVzID0gNDY1MDAwMCpERUNJTUFMX01VTFRJUExJRVI7IAogICAgdWludDI1Nls0XSBwdWJsaWMgcHJlSUNPYW1vdW50Qm9udXNMaW1pdHMgPSBbNSBldGhlciwgMjAgZXRoZXIsIDUwIGV0aGVyLCAzMDAgZXRoZXJdOwogICAgdWludDI1Nls0XSBwdWJsaWMgcHJlSUNPYW1vdW50Qm9udXNNdWx0aXBpZXJJblBlcmNlbnQgPSBbMTAzLCAxMDUsIDEwNywgMTEwXTsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIHdlaUZvclJlZnVuZFByZUlDTzsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIHdlaVRvUmVjb3ZlclByZUlDTzsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VzRm9yUHJlSUNPOwoKICAgIGV2ZW50IFB1cmNoYXNlZChhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKTsKCiAgICBmdW5jdGlvbiBhZHZhbmNlU3RhdGUoKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgdHJhbnNpdGlvblN0YXRlKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNpdGlvblN0YXRlKCkgaW50ZXJuYWwgewogICAgICAgIGlmIChub3cgPj0gcHJlSUNPc3RhcnQpIHsKICAgICAgICAgICAgaWYgKHByZUlDT3N0YXRlID09IElDT1N0YXRlRW51bS5Ob3RTdGFydGVkKSB7CiAgICAgICAgICAgICAgICBwcmVJQ09zdGF0ZSA9IElDT1N0YXRlRW51bS5TdGFydGVkOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChwcmVJQ09jYXAgPiAwICYmIHByZUlDT2NvbGxlY3RlZCA+PSBwcmVJQ09jYXApIHsKICAgICAgICAgICAgICAgIHByZUlDT3N0YXRlID0gSUNPU3RhdGVFbnVtLlN1Y2Nlc3NmdWw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCAoc2FsZUluZGV4ID09IHByZUlDT2NvaW5zTGVmdC5sZW5ndGgpICYmIChwcmVJQ09jb2luc0xlZnRbc2FsZUluZGV4LTFdID09IDApICkgewogICAgICAgICAgICAgICAgcHJlSUNPc3RhdGUgPSBJQ09TdGF0ZUVudW0uU3VjY2Vzc2Z1bDsKICAgICAgICAgICAgfQogICAgICAgIH0gaWYgKG5vdyA+PSBwcmVJQ09lbmQpIHsKICAgICAgICAgICAgaWYgKHByZUlDT3N0YXRlID09IElDT1N0YXRlRW51bS5TdGFydGVkKSB7CiAgICAgICAgICAgICAgICBpZiAocHJlSUNPY29sbGVjdGVkID49IHByZUlDT2dvYWwpIHsKICAgICAgICAgICAgICAgICAgICBwcmVJQ09zdGF0ZSA9IElDT1N0YXRlRW51bS5TdWNjZXNzZnVsOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBwcmVJQ09zdGF0ZSA9IElDT1N0YXRlRW51bS5SZWZ1bmRlZDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0gCiAgICB9CgogICAgbW9kaWZpZXIgc3RhdGVUcmFuc2l0aW9uKCkgewogICAgICAgIHRyYW5zaXRpb25TdGF0ZSgpOwogICAgICAgIF87CiAgICAgICAgdHJhbnNpdGlvblN0YXRlKCk7CiAgICB9CgogICAgbW9kaWZpZXIgbm90SGFsdGVkKCkgewogICAgICAgIHJlcXVpcmUoIWhhbHRlZCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLyBPd25lcnNoaXAKCiAgICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7ICAgICAgCiAgICAgICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgdmlldyBwdWJsaWMgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIG1hbmFnZWRUb2tlbkxlZGdlci5iYWxhbmNlT2YoX293bmVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBtYW5hZ2VkVG9rZW5MZWRnZXIudG90YWxTdXBwbHkoKTsKICAgIH0KCgogICAgZnVuY3Rpb24gSGFyZGNvZGVkQ3Jvd2RzYWxlICh1aW50IF9wcmVJQ09zdGFydCwgdWludCBfcHJlSUNPZW5kLCB1aW50IF9wcmVJQ09nb2FsLCB1aW50IF9wcmVJQ09jYXAsIGFkZHJlc3MgX25ld0xlZGdlckFkZHJlc3MpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfcHJlSUNPc3RhcnQgPiBub3cpOwogICAgICAgIHJlcXVpcmUoX3ByZUlDT2VuZCA+IF9wcmVJQ09zdGFydCk7CiAgICAgICAgcmVxdWlyZShfcHJlSUNPZ29hbCA+IDApOwogICAgICAgIHJlcXVpcmUoX25ld0xlZGdlckFkZHJlc3MgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcHJlSUNPc3RhcnQgPSBfcHJlSUNPc3RhcnQ7CiAgICAgICAgcHJlSUNPZW5kID0gX3ByZUlDT2VuZDsKICAgICAgICBwcmVJQ09nb2FsID0gX3ByZUlDT2dvYWw7CiAgICAgICAgcHJlSUNPY2FwID0gX3ByZUlDT2NhcDsKICAgICAgICBtYW5hZ2VkVG9rZW5MZWRnZXIgPSBNYW5hZ2VkVG9rZW4oX25ld0xlZGdlckFkZHJlc3MpOwogICAgICAgIGFzc2VydChtYW5hZ2VkVG9rZW5MZWRnZXIuZGVjaW1hbHMoKSA9PSBkZWNpbWFscyk7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0TmFtZUFuZFRpY2tlcihzdHJpbmcgX25hbWUsIHN0cmluZyBfc3ltYm9sKSBvbmx5T3duZXIgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoYnl0ZXMoX25hbWUpLmxlbmd0aCA+IDEpOwogICAgICAgIHJlcXVpcmUoYnl0ZXMoX3N5bWJvbCkubGVuZ3RoID4gMSk7CiAgICAgICAgbmFtZSA9IF9uYW1lOwogICAgICAgIHN5bWJvbCA9IF9zeW1ib2w7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0TGVkZ2VyIChhZGRyZXNzIF9uZXdMZWRnZXJBZGRyZXNzKSBvbmx5T3duZXIgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoX25ld0xlZGdlckFkZHJlc3MgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgbWFuYWdlZFRva2VuTGVkZ2VyID0gTWFuYWdlZFRva2VuKF9uZXdMZWRnZXJBZGRyZXNzKTsKICAgICAgICBhc3NlcnQobWFuYWdlZFRva2VuTGVkZ2VyLmRlY2ltYWxzKCkgPT0gZGVjaW1hbHMpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uICgpIHBheWFibGUgc3RhdGVUcmFuc2l0aW9uIG5vdEhhbHRlZCBleHRlcm5hbCB7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPiAwKTsKICAgICAgICByZXF1aXJlKHByZUlDT3N0YXRlID09IElDT1N0YXRlRW51bS5TdGFydGVkKTsKICAgICAgICBhc3NlcnQocHJlSUNPQnV5KCkpOwogICAgfQoKICAgIAogICAgZnVuY3Rpb24gZmluYWxpemUoKSBzdGF0ZVRyYW5zaXRpb24gcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUocHJlSUNPc3RhdGUgPT0gSUNPU3RhdGVFbnVtLlN1Y2Nlc3NmdWwpOwogICAgICAgIG93bmVyLnRyYW5zZmVyKHByZUlDT2NvbGxlY3RlZCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0SGFsdChib29sIF9oYWx0KSBvbmx5T3duZXIgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGhhbHRlZCA9IF9oYWx0OwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZUFtb3VudEJvdWdodFByZUlDTyh1aW50MjU2IF93ZWlzU2VudFNjYWxlZCwgdWludDI1NiBfYW1vdW50Qm9udXNNdWx0aXBsaWVyKSAKICAgICAgICBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IF90b2tlbnNUb0J1eVNjYWxlZCwgdWludDI1NiBfd2Vpc0xlZnRTY2FsZWQpIHsKICAgICAgICB1aW50MjU2IHZhbHVlID0gX3dlaXNTZW50U2NhbGVkOwogICAgICAgIHVpbnQyNTYgdG90YWxQdXJjaGFzZWQgPSAwOwogICAgICAgIGZvciAodWludDggaSA9IHNhbGVJbmRleDsgaSA8IHByZUlDT2NvaW5zTGVmdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAocHJlSUNPY29pbnNMZWZ0W2ldID09IDApIHsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHVpbnQyNTYgZm9yVGhpc1JhdGUgPSB2YWx1ZS5kaXYocHJlSUNPcHJpY2UpOwogICAgICAgICAgICBpZiAoZm9yVGhpc1JhdGUgPT0gMCkgewogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGZvclRoaXNSYXRlID49IHByZUlDT2NvaW5zTGVmdFtpXSkgewogICAgICAgICAgICAgICAgZm9yVGhpc1JhdGUgPSBwcmVJQ09jb2luc0xlZnRbaV07CiAgICAgICAgICAgICAgICBwcmVJQ09jb2luc0xlZnRbaV0gPSAwOwogICAgICAgICAgICAgICAgc2FsZUluZGV4ID0gaSsxOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcHJlSUNPY29pbnNMZWZ0W2ldID0gcHJlSUNPY29pbnNMZWZ0W2ldLnN1Yihmb3JUaGlzUmF0ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdWludDI1NiBjb25zdW1lZCA9IGZvclRoaXNSYXRlLm11bChwcmVJQ09wcmljZSk7CiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3ViKGNvbnN1bWVkKTsKICAgICAgICAgICAgZm9yVGhpc1JhdGUgPSBmb3JUaGlzUmF0ZS5tdWwoX2Ftb3VudEJvbnVzTXVsdGlwbGllci5hZGQocHJlSUNPYm9udXNNdWx0aXBpZXJzSW5QZXJjZW50W2ldKS5zdWIoMTAwKSkuZGl2KDEwMCk7CiAgICAgICAgICAgIHRvdGFsUHVyY2hhc2VkID0gdG90YWxQdXJjaGFzZWQuYWRkKGZvclRoaXNSYXRlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICh0b3RhbFB1cmNoYXNlZCwgdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEJvbnVzTXVsdGlwaWVySW5QZXJjZW50cyh1aW50MjU2IF9zZW50QW1vdW50KSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IF9tdWx0aSkgewogICAgICAgIHVpbnQyNTYgYm9udXNNdWx0aXBsaWVyID0gMTAwOwogICAgICAgIGZvciAodWludDggaSA9IDA7IGkgPCBwcmVJQ09hbW91bnRCb251c0xpbWl0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoX3NlbnRBbW91bnQgPCBwcmVJQ09hbW91bnRCb251c0xpbWl0c1tpXSkgewogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBib251c011bHRpcGxpZXIgPSBwcmVJQ09hbW91bnRCb251c011bHRpcGllckluUGVyY2VudFtpXTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gYm9udXNNdWx0aXBsaWVyOwogICAgfQoKICAgIGZ1bmN0aW9uIHByZUlDT0J1eSgpIGludGVybmFsIG5vdEhhbHRlZCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICB1aW50MjU2IHdlaXNTZW50U2NhbGVkID0gbXNnLnZhbHVlLm11bChERUNJTUFMX01VTFRJUExJRVIpOwogICAgICAgIGFkZHJlc3MgX2ZvciA9IG1zZy5zZW5kZXI7CiAgICAgICAgdWludDI1NiBhbW91bnRCb251cyA9IGdldEJvbnVzTXVsdGlwaWVySW5QZXJjZW50cyhtc2cudmFsdWUpOwogICAgICAgIHZhciAodG9rZW5zQm91Z2h0LCBmdW5kc0xlZnRTY2FsZWQpID0gY2FsY3VsYXRlQW1vdW50Qm91Z2h0UHJlSUNPKHdlaXNTZW50U2NhbGVkLCBhbW91bnRCb251cyk7CiAgICAgICAgaWYgKHRva2Vuc0JvdWdodCA8IG1pblRva2Vuc1RvQnV5Lm11bChERUNJTUFMX01VTFRJUExJRVIpKSB7CiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIH0KICAgICAgICB1aW50MjU2IGZ1bmRzTGVmdCA9IGZ1bmRzTGVmdFNjYWxlZC5kaXYoREVDSU1BTF9NVUxUSVBMSUVSKTsKICAgICAgICB1aW50MjU2IHRvdGFsU3BlbnQgPSBtc2cudmFsdWUuc3ViKGZ1bmRzTGVmdCk7CiAgICAgICAgaWYgKGJhbGFuY2VPZihfZm9yKSA9PSAwKSB7CiAgICAgICAgICAgIHByZUlDT2NvbnRyaWJ1dG9ycyA9IHByZUlDT2NvbnRyaWJ1dG9ycyArIDE7CiAgICAgICAgfQogICAgICAgIG1hbmFnZWRUb2tlbkxlZGdlci5taW50KF9mb3IsIHRva2Vuc0JvdWdodCk7CiAgICAgICAgYmFsYW5jZXNGb3JQcmVJQ09bX2Zvcl0gPSBiYWxhbmNlc0ZvclByZUlDT1tfZm9yXS5hZGQodG9rZW5zQm91Z2h0KTsKICAgICAgICB3ZWlGb3JSZWZ1bmRQcmVJQ09bX2Zvcl0gPSB3ZWlGb3JSZWZ1bmRQcmVJQ09bX2Zvcl0uYWRkKHRvdGFsU3BlbnQpOwogICAgICAgIHdlaVRvUmVjb3ZlclByZUlDT1tfZm9yXSA9IHdlaVRvUmVjb3ZlclByZUlDT1tfZm9yXS5hZGQoZnVuZHNMZWZ0KTsKICAgICAgICBQdXJjaGFzZWQoX2ZvciwgdG9rZW5zQm91Z2h0KTsKICAgICAgICBwcmVJQ09jb2xsZWN0ZWQgPSBwcmVJQ09jb2xsZWN0ZWQuYWRkKHRvdGFsU3BlbnQpOwogICAgICAgIHByZUlDT3Rva2Vuc1NvbGQgPSBwcmVJQ090b2tlbnNTb2xkLmFkZCh0b2tlbnNCb3VnaHQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlY292ZXJMZWZ0b3ZlcnNQcmVJQ08oKSBzdGF0ZVRyYW5zaXRpb24gbm90SGFsdGVkIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKHByZUlDT3N0YXRlICE9IElDT1N0YXRlRW51bS5Ob3RTdGFydGVkKTsKICAgICAgICB1aW50MjU2IHZhbHVlID0gd2VpVG9SZWNvdmVyUHJlSUNPW21zZy5zZW5kZXJdOwogICAgICAgIGRlbGV0ZSB3ZWlUb1JlY292ZXJQcmVJQ09bbXNnLnNlbmRlcl07CiAgICAgICAgbXNnLnNlbmRlci50cmFuc2Zlcih2YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gcmVmdW5kUHJlSUNPKCkgc3RhdGVUcmFuc2l0aW9uIG5vdEhhbHRlZCBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShwcmVJQ09zdGF0ZSA9PSBJQ09TdGF0ZUVudW0uUmVmdW5kZWQpOwogICAgICAgIHVpbnQyNTYgdmFsdWUgPSB3ZWlGb3JSZWZ1bmRQcmVJQ09bbXNnLnNlbmRlcl07CiAgICAgICAgZGVsZXRlIHdlaUZvclJlZnVuZFByZUlDT1ttc2cuc2VuZGVyXTsKICAgICAgICB1aW50MjU2IHRva2VuVmFsdWUgPSBiYWxhbmNlc0ZvclByZUlDT1ttc2cuc2VuZGVyXTsKICAgICAgICBkZWxldGUgYmFsYW5jZXNGb3JQcmVJQ09bbXNnLnNlbmRlcl07CiAgICAgICAgbWFuYWdlZFRva2VuTGVkZ2VyLmRlbWludChtc2cuc2VuZGVyLCB0b2tlblZhbHVlKTsKICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKHZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBjbGVhbnVwKCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShwcmVJQ09zdGF0ZSA9PSBJQ09TdGF0ZUVudW0uU3VjY2Vzc2Z1bCk7CiAgICAgICAgc2VsZmRlc3RydWN0KG93bmVyKTsKICAgIH0KCn0='.
	

]
