Class {
	#name : #SRT7ca2fbb495052a305810563d9722324c75568662,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT7ca2fbb495052a305810563d9722324c75568662 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIFNhZmUgbWF0aHMsIGJvcnJvd2VkIGZyb20gT3BlblplcHBlbGluCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KbGlicmFyeSBTYWZlTWF0aCB7CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBBZGQgYSBudW1iZXIgdG8gYW5vdGhlciBudW1iZXIsIGNoZWNraW5nIGZvciBvdmVyZmxvd3MKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSAmJiBjID49IGIpOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gU3VidHJhY3QgYSBudW1iZXIgZnJvbSBhbm90aGVyIG51bWJlciwgY2hlY2tpbmcgZm9yIHVuZGVyZmxvd3MKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gc3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQp9CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBPd25lZCBjb250cmFjdAovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvbnRyYWN0IE93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgYWRkcmVzcyBwdWJsaWMgbmV3T3duZXI7CiAgICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8pOwoKICAgIGZ1bmN0aW9uIE93bmVkKCkgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB0aHJvdzsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBvbmx5T3duZXIgewogICAgICAgIG5ld093bmVyID0gX25ld093bmVyOwogICAgfQogCiAgICBmdW5jdGlvbiBhY2NlcHRPd25lcnNoaXAoKSB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgPT0gbmV3T3duZXIpIHsKICAgICAgICAgICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgICAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgICAgICB9CiAgICB9Cn0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIEVSQzIwIFRva2VuLCB3aXRoIHRoZSBhZGRpdGlvbiBvZiBzeW1ib2wsIG5hbWUgYW5kIGRlY2ltYWxzCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvbnRyYWN0IEVSQzIwVG9rZW4gaXMgT3duZWQgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBUb3RhbCBTdXBwbHkKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgdWludDI1NiBfdG90YWxTdXBwbHkgPSAwOwoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gQmFsYW5jZXMgZm9yIGVhY2ggYWNjb3VudAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBPd25lciBvZiBhY2NvdW50IGFwcHJvdmVzIHRoZSB0cmFuc2ZlciBvZiBhbiBhbW91bnQgdG8gYW5vdGhlciBhY2NvdW50CiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gR2V0IHRoZSB0b3RhbCB0b2tlbiBzdXBwbHkKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHRvdGFsU3VwcGx5KSB7CiAgICAgICAgdG90YWxTdXBwbHkgPSBfdG90YWxTdXBwbHk7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBHZXQgdGhlIGFjY291bnQgYmFsYW5jZSBvZiBhbm90aGVyIGFjY291bnQgd2l0aCBhZGRyZXNzIF9vd25lcgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gVHJhbnNmZXIgdGhlIGJhbGFuY2UgZnJvbSBvd25lcidzIGFjY291bnQgdG8gYW5vdGhlciBhY2NvdW50CiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfYW1vdW50ICAgICAgICAgICAgICAgIC8vIFVzZXIgaGFzIGJhbGFuY2UKICAgICAgICAgICAgJiYgX2Ftb3VudCA+IDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOb24temVybyB0cmFuc2ZlcgogICAgICAgICAgICAmJiBiYWxhbmNlc1tfdG9dICsgX2Ftb3VudCA+IGJhbGFuY2VzW190b10gICAgIC8vIE92ZXJmbG93IGNoZWNrCiAgICAgICAgKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBBbGxvdyBfc3BlbmRlciB0byB3aXRoZHJhdyBmcm9tIHlvdXIgYWNjb3VudCwgbXVsdGlwbGUgdGltZXMsIHVwIHRvIHRoZQogICAgLy8gX3ZhbHVlIGFtb3VudC4gSWYgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYWdhaW4gaXQgb3ZlcndyaXRlcyB0aGUKICAgIC8vIGN1cnJlbnQgYWxsb3dhbmNlIHdpdGggX3ZhbHVlLgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBhcHByb3ZlKAogICAgICAgIGFkZHJlc3MgX3NwZW5kZXIsCiAgICAgICAgdWludDI1NiBfYW1vdW50CiAgICApIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX2Ftb3VudDsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBTcGVuZGVyIG9mIHRva2VucyB0cmFuc2ZlciBhbiBhbW91bnQgb2YgdG9rZW5zIGZyb20gdGhlIHRva2VuIG93bmVyJ3MKICAgIC8vIGJhbGFuY2UgdG8gdGhlIHNwZW5kZXIncyBhY2NvdW50LiBUaGUgb3duZXIgb2YgdGhlIHRva2VucyBtdXN0IGFscmVhZHkKICAgIC8vIGhhdmUgYXBwcm92ZSguLi4pLWQgdGhpcyB0cmFuc2ZlcgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oCiAgICAgICAgYWRkcmVzcyBfZnJvbSwKICAgICAgICBhZGRyZXNzIF90bywKICAgICAgICB1aW50MjU2IF9hbW91bnQKICAgICkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfYW1vdW50ICAgICAgICAgICAgICAgICAgLy8gRnJvbSBhL2MgaGFzIGJhbGFuY2UKICAgICAgICAgICAgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCAgICAvLyBUcmFuc2ZlciBhcHByb3ZlZAogICAgICAgICAgICAmJiBfYW1vdW50ID4gMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vbi16ZXJvIHRyYW5zZmVyCiAgICAgICAgICAgICYmIGJhbGFuY2VzW190b10gKyBfYW1vdW50ID4gYmFsYW5jZXNbX3RvXSAgLy8gT3ZlcmZsb3cgY2hlY2sKICAgICAgICApIHsKICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfYW1vdW50KTsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBSZXR1cm5zIHRoZSBhbW91bnQgb2YgdG9rZW5zIGFwcHJvdmVkIGJ5IHRoZSBvd25lciB0aGF0IGNhbiBiZQogICAgLy8gdHJhbnNmZXJyZWQgdG8gdGhlIHNwZW5kZXIncyBhY2NvdW50CiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGFsbG93YW5jZSgKICAgICAgICBhZGRyZXNzIF9vd25lciwgCiAgICAgICAgYWRkcmVzcyBfc3BlbmRlcgogICAgKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLAogICAgICAgIHVpbnQyNTYgX3ZhbHVlKTsKfQoKCmNvbnRyYWN0IERhb0Nhc2lub1Rva2VuIGlzIEVSQzIwVG9rZW4gewoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gVG9rZW4gaW5mb3JtYXRpb24KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiQkVUIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJEYW8uQ2FzaW5vIjsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwoKICAgIC8vIERvIG5vdCB1c2UgYG5vd2AgaGVyZQogICAgdWludDI1NiBwdWJsaWMgU1RBUlREQVRFOwogICAgdWludDI1NiBwdWJsaWMgRU5EREFURTsKCiAgICAvLyBDYXAgVVNEIDI1bWlsIEAgMjk2LjE0NzAgRVRIL1VTRAogICAgdWludDI1NiBwdWJsaWMgQ0FQOwoKICAgIC8vIENhbm5vdCBoYXZlIGEgY29uc3RhbnQgYWRkcmVzcyBoZXJlIC0gU29saWRpdHkgYnVnCiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vc29saWRpdHkvaXNzdWVzLzI0NDEKICAgIGFkZHJlc3MgcHVibGljIG11bHRpc2lnOwoKICAgIGZ1bmN0aW9uIERhb0Nhc2lub1Rva2VuKHVpbnQyNTYgX3N0YXJ0LCB1aW50MjU2IF9lbmQsIHVpbnQyNTYgX2NhcCwgYWRkcmVzcyBfbXVsdGlzaWcpIHsKICAgICAgICBTVEFSVERBVEUgPSBfc3RhcnQ7CiAgICAgICAgRU5EREFURSAgID0gX2VuZDsKICAgICAgICBDQVAgICAgICAgPSBfY2FwOwogICAgICAgIG11bHRpc2lnICA9IF9tdWx0aXNpZzsKICAgIH0KCiAgICAvLyA+IG5ldyBEYXRlKCIyMDE3LTA2LTI5VDEzOjAwOjAwIikuZ2V0VGltZSgpLzEwMDAKICAgIC8vIDE0OTg3NDEyMDAKCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbEV0aGVyczsKCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFRva2VucyBwZXIgRVRICiAgICAvLyBEYXkgIDEgICAgOiAyLDAwMCBCRVQgPSAxIEV0aGVyCiAgICAvLyBEYXlzIDLigJMxNCA6IDEsODAwIEJFVCA9IDEgRXRoZXIKICAgIC8vIERheXMgMTXigJMxNzogMSw3MDAgQkVUID0gMSBFdGhlcgogICAgLy8gRGF5cyAxOOKAkzIwOiAxLDYwMCBCRVQgPSAxIEV0aGVyCiAgICAvLyBEYXlzIDIx4oCTMjM6IDEsNTAwIEJFVCA9IDEgRXRoZXIKICAgIC8vIERheXMgMjTigJMyNjogMSw0MDAgQkVUID0gMSBFdGhlcgogICAgLy8gRGF5cyAyN+KAkzI4OiAxLDMwMCBCRVQgPSAxIEV0aGVyCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGJ1eVByaWNlKCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBidXlQcmljZUF0KG5vdyk7CiAgICB9CgogICAgZnVuY3Rpb24gYnV5UHJpY2VBdCh1aW50MjU2IGF0KSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgaWYgKGF0IDwgU1RBUlREQVRFKSB7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0gZWxzZSBpZiAoYXQgPCAoU1RBUlREQVRFICsgMSBkYXlzKSkgewogICAgICAgICAgICByZXR1cm4gMjAwMDsKICAgICAgICB9IGVsc2UgaWYgKGF0IDwgKFNUQVJUREFURSArIDE1IGRheXMpKSB7CiAgICAgICAgICAgIHJldHVybiAxODAwOwogICAgICAgIH0gZWxzZSBpZiAoYXQgPCAoU1RBUlREQVRFICsgMTggZGF5cykpIHsKICAgICAgICAgICAgcmV0dXJuIDE3MDA7CiAgICAgICAgfSBlbHNlIGlmIChhdCA8IChTVEFSVERBVEUgKyAyMSBkYXlzKSkgewogICAgICAgICAgICByZXR1cm4gMTYwMDsKICAgICAgICB9IGVsc2UgaWYgKGF0IDwgKFNUQVJUREFURSArIDI0IGRheXMpKSB7CiAgICAgICAgICAgIHJldHVybiAxNTAwOwogICAgICAgIH0gZWxzZSBpZiAoYXQgPCAoU1RBUlREQVRFICsgMjcgZGF5cykpIHsKICAgICAgICAgICAgcmV0dXJuIDE0MDA7CiAgICAgICAgfSBlbHNlIGlmIChhdCA8PSBFTkREQVRFKSB7CiAgICAgICAgICAgIHJldHVybiAxMzAwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgIH0KCgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBCdXkgdG9rZW5zIGZyb20gdGhlIGNvbnRyYWN0CiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgewogICAgICAgIHByb3h5UGF5bWVudChtc2cuc2VuZGVyKTsKICAgIH0KCgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBFeGNoYW5nZXMgY2FuIGJ1eSBvbiBiZWhhbGYgb2YgcGFydGljaXBhbnQKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gcHJveHlQYXltZW50KGFkZHJlc3MgcGFydGljaXBhbnQpIHBheWFibGUgewogICAgICAgIC8vIE5vIGNvbnRyaWJ1dGlvbnMgYmVmb3JlIHRoZSBzdGFydCBvZiB0aGUgY3Jvd2RzYWxlCiAgICAgICAgcmVxdWlyZShub3cgPj0gU1RBUlREQVRFKTsKICAgICAgICAvLyBObyBjb250cmlidXRpb25zIGFmdGVyIHRoZSBlbmQgb2YgdGhlIGNyb3dkc2FsZQogICAgICAgIHJlcXVpcmUobm93IDw9IEVORERBVEUpOwogICAgICAgIC8vIE5vIDAgY29udHJpYnV0aW9ucwogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID4gMCk7CgogICAgICAgIC8vIEFkZCBFVEggcmFpc2VkIHRvIHRvdGFsCiAgICAgICAgdG90YWxFdGhlcnMgPSB0b3RhbEV0aGVycy5hZGQobXNnLnZhbHVlKTsKICAgICAgICAvLyBDYW5ub3QgZXhjZWVkIGNhcAogICAgICAgIHJlcXVpcmUodG90YWxFdGhlcnMgPD0gQ0FQKTsKCiAgICAgICAgLy8gV2hhdCBpcyB0aGUgQkVUIHRvIEVUSCByYXRlCiAgICAgICAgdWludDI1NiBfYnV5UHJpY2UgPSBidXlQcmljZSgpOwoKICAgICAgICAvLyBDYWxjdWxhdGUgI0JFVCAtIHRoaXMgaXMgc2FmZSBhcyBfYnV5UHJpY2UgaXMga25vd24KICAgICAgICAvLyBhbmQgbXNnLnZhbHVlIGlzIHJlc3RyaWN0ZWQgdG8gdmFsaWQgdmFsdWVzCiAgICAgICAgdWludCB0b2tlbnMgPSBtc2cudmFsdWUgKiBfYnV5UHJpY2U7CgogICAgICAgIC8vIENoZWNrIHRva2VucyA+IDAKICAgICAgICByZXF1aXJlKHRva2VucyA+IDApOwogICAgICAgIC8vIENvbXB1dGUgdG9rZW5zIGZvciBmb3VuZGF0aW9uIDMwJQogICAgICAgIC8vIE51bWJlciBvZiB0b2tlbnMgcmVzdHJpY3RlZCBzbyBtYXRocyBpcyBzYWZlCiAgICAgICAgdWludCBtdWx0aXNpZ1Rva2VucyA9IHRva2VucyAqIDMgLyA3OwoKICAgICAgICAvLyBBZGQgdG8gdG90YWwgc3VwcGx5CiAgICAgICAgX3RvdGFsU3VwcGx5ID0gX3RvdGFsU3VwcGx5LmFkZCh0b2tlbnMpOwogICAgICAgIF90b3RhbFN1cHBseSA9IF90b3RhbFN1cHBseS5hZGQobXVsdGlzaWdUb2tlbnMpOwoKICAgICAgICAvLyBBZGQgdG8gYmFsYW5jZXMKICAgICAgICBiYWxhbmNlc1twYXJ0aWNpcGFudF0gPSBiYWxhbmNlc1twYXJ0aWNpcGFudF0uYWRkKHRva2Vucyk7CiAgICAgICAgYmFsYW5jZXNbbXVsdGlzaWddID0gYmFsYW5jZXNbbXVsdGlzaWddLmFkZChtdWx0aXNpZ1Rva2Vucyk7CgogICAgICAgIC8vIExvZyBldmVudHMKICAgICAgICBUb2tlbnNCb3VnaHQocGFydGljaXBhbnQsIG1zZy52YWx1ZSwgdG90YWxFdGhlcnMsIHRva2VucywKICAgICAgICAgICAgbXVsdGlzaWdUb2tlbnMsIF90b3RhbFN1cHBseSwgX2J1eVByaWNlKTsKICAgICAgICBUcmFuc2ZlcigweDAsIHBhcnRpY2lwYW50LCB0b2tlbnMpOwogICAgICAgIFRyYW5zZmVyKDB4MCwgbXVsdGlzaWcsIG11bHRpc2lnVG9rZW5zKTsKCiAgICAgICAgLy8gTW92ZSB0aGUgZnVuZHMgdG8gYSBzYWZlIHdhbGxldAogICAgICAgIG11bHRpc2lnLnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgICB9CiAgICBldmVudCBUb2tlbnNCb3VnaHQoYWRkcmVzcyBpbmRleGVkIGJ1eWVyLCB1aW50MjU2IGV0aGVycywgCiAgICAgICAgdWludDI1NiBuZXdFdGhlckJhbGFuY2UsIHVpbnQyNTYgdG9rZW5zLCB1aW50MjU2IG11bHRpc2lnVG9rZW5zLCAKICAgICAgICB1aW50MjU2IG5ld1RvdGFsU3VwcGx5LCB1aW50MjU2IGJ1eVByaWNlKTsKCgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBPd25lciB0byBhZGQgcHJlY29tbWl0bWVudCBmdW5kaW5nIHRva2VuIGJhbGFuY2UgYmVmb3JlIHRoZSBjcm93ZHNhbGUKICAgIC8vIGNvbW1lbmNlcwogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBhZGRQcmVjb21taXRtZW50KGFkZHJlc3MgcGFydGljaXBhbnQsIHVpbnQgYmFsYW5jZSkgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG5vdyA8IFNUQVJUREFURSk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlID4gMCk7CiAgICAgICAgYmFsYW5jZXNbcGFydGljaXBhbnRdID0gYmFsYW5jZXNbcGFydGljaXBhbnRdLmFkZChiYWxhbmNlKTsKICAgICAgICBfdG90YWxTdXBwbHkgPSBfdG90YWxTdXBwbHkuYWRkKGJhbGFuY2UpOwogICAgICAgIFRyYW5zZmVyKDB4MCwgcGFydGljaXBhbnQsIGJhbGFuY2UpOwogICAgfQoKCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFRyYW5zZmVyIHRoZSBiYWxhbmNlIGZyb20gb3duZXIncyBhY2NvdW50IHRvIGFub3RoZXIgYWNjb3VudCwgd2l0aCBhCiAgICAvLyBjaGVjayB0aGF0IHRoZSBjcm93ZHNhbGUgaXMgZmluYWxpc2VkCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIENhbm5vdCB0cmFuc2ZlciBiZWZvcmUgY3Jvd2RzYWxlIGVuZHMgb3IgY2FwIHJlYWNoZWQKICAgICAgICByZXF1aXJlKG5vdyA+IEVORERBVEUgfHwgdG90YWxFdGhlcnMgPT0gQ0FQKTsKICAgICAgICAvLyBTdGFuZGFyZCB0cmFuc2ZlcgogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF9hbW91bnQpOwogICAgfQoKCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFNwZW5kZXIgb2YgdG9rZW5zIHRyYW5zZmVyIGFuIGFtb3VudCBvZiB0b2tlbnMgZnJvbSB0aGUgdG9rZW4gb3duZXIncwogICAgLy8gYmFsYW5jZSB0byBhbm90aGVyIGFjY291bnQsIHdpdGggYSBjaGVjayB0aGF0IHRoZSBjcm93ZHNhbGUgaXMKICAgIC8vIGZpbmFsaXNlZAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQogICAgewogICAgICAgIC8vIENhbm5vdCB0cmFuc2ZlciBiZWZvcmUgY3Jvd2RzYWxlIGVuZHMgb3IgY2FwIHJlYWNoZWQKICAgICAgICByZXF1aXJlKG5vdyA+IEVORERBVEUgfHwgdG90YWxFdGhlcnMgPT0gQ0FQKTsKICAgICAgICAvLyBTdGFuZGFyZCB0cmFuc2ZlckZyb20KICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF9hbW91bnQpOwogICAgfQoKCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIE93bmVyIGNhbiB0cmFuc2ZlciBvdXQgYW55IGFjY2lkZW50YWxseSBzZW50IEVSQzIwIHRva2VucwogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiB0cmFuc2ZlckFueUVSQzIwVG9rZW4oYWRkcmVzcyB0b2tlbkFkZHJlc3MsIHVpbnQgYW1vdW50KQogICAgICBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSAKICAgIHsKICAgICAgICByZXR1cm4gRVJDMjBUb2tlbih0b2tlbkFkZHJlc3MpLnRyYW5zZmVyKG93bmVyLCBhbW91bnQpOwogICAgfQp9CgpsaWJyYXJ5IENyZWF0b3JEYW9DYXNpbm9Ub2tlbiB7CiAgICBmdW5jdGlvbiBjcmVhdGUodWludDI1NiBfc3RhcnQsIHVpbnQyNTYgX2VuZCwgdWludDI1NiBfY2FwLCBhZGRyZXNzIF9tdWx0aXNpZykgcmV0dXJucyAoRGFvQ2FzaW5vVG9rZW4pCiAgICB7IHJldHVybiBuZXcgRGFvQ2FzaW5vVG9rZW4oX3N0YXJ0LCBfZW5kLCBfY2FwLCBfbXVsdGlzaWcpOyB9CgogICAgZnVuY3Rpb24gdmVyc2lvbigpIGNvbnN0YW50IHJldHVybnMgKHN0cmluZykKICAgIHsgcmV0dXJuICJ2MC42LjMiOyB9Cn0='.
	

]
