Class {
	#name : #SRT684282178b1d61164febcf9609ca195bef9a33b5,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT684282178b1d61164febcf9609ca195bef9a33b5 >> base64 [
	^ 'LyoKQ29ycG9yYXRpb24gU21hcnRDb250cmFjdC4KZGV2ZWxvcGVkIGJ5OiBjcnlwdG9ub21pY2EubmV0LCAyMDE2Cgp1c2VkIHNvdXJjZXM6Cmh0dHBzOi8vd3d3LmV0aGVyZXVtLm9yZy90b2tlbiAvLyBleGFtcGxlIG9mIHRoZSB0b2tlbiBzdGFuZGFydApodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAgLy8gdG9rZW4gc3RhbmRhcnQgZGVzY3JpcHRpb24KaHR0cHM6Ly93d3cuZXRoZXJldW0ub3JnL2RhbyAvLyB2b3RpbmcgZXhhbXBsZQoqLwoKLyoKSG93IHRvIGRlcGxveSAoZXN0aW1hdGVkOiAxLDY0MSwyNjggZ2FzKToKMSkgRm9yIGRldmVsb3BtZW50OiB1c2UgaHR0cHM6Ly9ldGhlcmV1bS5naXRodWIuaW8vYnJvd3Nlci1zb2xpZGl0eS8KMikgRm9yIHRlc3Rpbmcgb24gVGVzdG5ldDogT3BlbiB0aGUgZGVmYXVsdCAoJ01pc3QnKSB3YWxsZXQgKGlmIHlvdSBhcmUgb25seSB0ZXN0aW5nLCBnbyB0byB0aGUgbWVudSBkZXZlbG9wID4gbmV0d29yayA+IHRlc3RuZXQpLCBnbyB0byB0aGUgQ29udHJhY3RzIHRhYiBhbmQgdGhlbiBwcmVzcyBkZXBsb3kgY29udHJhY3QsIGFuZCBvbiB0aGUgc29saWRpdHkgY29kZSBib3gsIHBhc3RlIHRoZSBjb2RlIGFib3ZlLgozKSBGb3IgcHJvZGFjdGlvbiwgbGlrZSBpbiAyKSBidXQgb24gTWFpbiBOZXR3b3JrLgpUbyB2ZXJpZnkgeW91ciBkZXBsb3llZCBzbWFydGNvbnRyYWN0IHNvdXJjZSBjb2RlIGZvciBwdWJsaWMgZ28gdG86Cmh0dHBzOi8vZXRoZXJzY2FuLmlvL3ZlcmlmeUNvbnRyYWN0CiovCgovLyAnaW50ZXJmYWNlJzoKLy8gIHRoaXMgaXMgZXhwZWN0ZWQgZnJvbSBhbm90aGVyIGNvbnRyYWN0LAovLyAgaWYgaXQgd2FudHMgdG8gc3BlbmQgdG9rZW5zIChzaGFyZXMpIG9mIGJlaGFsZiBvZiB0aGUgdG9rZW4gb3duZXIKLy8gIGluIG91ciBjb250cmFjdAovLyAgZi5lLjogYSAnbXVsdGlzaWcnIFNtYXJ0Q29udHJhY3QgZm9yIHRyYW5zZmVyaW5nIHNoYXJlcyBmcm9tIHNlbGxlcgovLyAgdG8gYnV5ZXIKY29udHJhY3QgdG9rZW5SZWNpcGllbnQgewogICAgZnVuY3Rpb24gcmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MgX2Zyb20sICAgICAvLyBzaGFyZWhvZGVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDI1NiBfdmFsdWUsICAgIC8vIG51bWJlciBvZiBzaGFyZXMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzIF9zaGFyZSwgICAgLy8gLSB3aWxsIGJlIHRoaXMgY29udHJhY3QKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBieXRlcyBfZXh0cmFEYXRhKTsgLy8KfQoKY29udHJhY3QgQ29ycG9yYXRpb24gewoKICAgIC8qIFN0YW5kYXJkIHB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuICovCiAgICBzdHJpbmcgcHVibGljIHN0YW5kYXJkID0gJ1Rva2VuIDAuMSc7CiAgICBzdHJpbmcgcHVibGljIG5hbWU7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0gQ29ycG9yYXRlIFN0b2NrIExlZGdlciAtLS0tLS0tLS0tICovCiAgICAvLyBTaGFyZXMsIHNoYXJlaG9sZGVycywgYmFsYW5jZXMgZWN0LgoKICAgIC8vIGxpc3Qgb2YgYWxsIHNoYXJlaG9kZXJzIChyZXByZXNlbnRlZCBieSBFdGhlcmV1bSBhY2NvdW50cykKICAgIC8vIGluIHRoaXMgQ29ycG9yYXRpb24ncyBoaXN0b3J5LCAjIGlzIElECiAgICBhZGRyZXNzW10gcHVibGljIHNoYXJlaG9sZGVyOwogICAgLy8gdGhpcyBoZWxwcyB0byBmaW5kIGFkZHJlc3MgYnkgSUQgd2l0aG91dCBsb29wCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBzaGFyZWhvbGRlcklEOwogICAgLy8gbGlzdCBvZiBhZHJlc3NlcywgdGhhdCB3aG8gY3VycmVudGx5IG93biBhdCBsZWFzdCBzaGFyZQogICAgLy8gbm90IHB1YmxpYywgdXNlIGdldEN1cnJlbnRTaGFyZWhvbGRlcnMoKQogICAgYWRkcmVzc1tdIGFjdGl2ZVNoYXJlaG9sZGVyc0FycmF5OwogICAgLy8gYmFsYW5jZXM6CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2Y7CiAgICAvLyBzaGFyZXMgdGhhdCBoYXZlIHRvIGJlIG1hbmFnZWQgYnkgZXh0ZXJuYWwgY29udHJhY3QKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgcHVibGljIGFsbG93YW5jZTsKCiAgICAvKiAgLS0tLS0tLS0tLS0tLS0tIENvbnN0cnVjdG9yIC0tLS0tLS0tLSAqLwogICAgLy8gSW5pdGlhbGl6ZXMgY29udHJhY3Qgd2l0aCBpbml0aWFsIHN1cHBseSB0b2tlbnMgdG8gdGhlIGNyZWF0b3Igb2YgdGhlIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBDb3Jwb3JhdGlvbiAoKSB7IC8vIC0gdHJ1ZmZsZSBjb21waWxlcyBvbmx5IG5vIGFyZ3MgQ29uc3RydWN0b3IKICAgICAgICB1aW50MjU2IGluaXRpYWxTdXBwbHkgPSAxMjAwMDsgLy8gc2hhcmVzIHF1YW50aXR5LCBjb25zdGFudAogICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSA9IGluaXRpYWxTdXBwbHk7IC8vIEdpdmUgdGhlIGNyZWF0b3IgYWxsIGluaXRpYWwgdG9rZW5zCiAgICAgICAgdG90YWxTdXBwbHkgPSBpbml0aWFsU3VwcGx5OyAgLy8gVXBkYXRlIHRvdGFsIHN1cHBseQogICAgICAgIG5hbWUgPSAic2hhcmVzIjsgLy90b2tlbk5hbWU7IC8vIFNldCB0aGUgbmFtZSBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICAgIHN5bWJvbCA9ICJzaCI7IC8vIHRva2VuU3ltYm9sOyAvLyBTZXQgdGhlIHN5bWJvbCBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICAgIGRlY2ltYWxzID0gMDsgLy8gQW1vdW50IG9mIGRlY2ltYWxzIGZvciBkaXNwbGF5IHB1cnBvc2VzCgogICAgICAgIC8vIC0tIHN0YXJ0IGNvcnBvcmF0ZSBzdG9jayBsZWRnZXIKICAgICAgICBzaGFyZWhvbGRlcklEW3RoaXNdID0gc2hhcmVob2xkZXIucHVzaCh0aGlzKS0xOyAvLyAjIDAKICAgICAgICBzaGFyZWhvbGRlcklEW21zZy5zZW5kZXJdID0gc2hhcmVob2xkZXIucHVzaChtc2cuc2VuZGVyKS0xOyAvLyAjMQogICAgICAgIGFjdGl2ZVNoYXJlaG9sZGVyc0FycmF5LnB1c2gobXNnLnNlbmRlcik7IC8vIGFkZCB0byBhY3RpdmUgc2hhcmVob2xkZXJzCiAgICB9CgogICAgLyogLS0tLS0tLS0tLS0tLS0tIFNoYXJlcyBtYW5hZ2VtZW50IC0tLS0tLSAqLwoKICAgIC8vIFRoaXMgZ2VuZXJhdGVzIGEgcHVibGljIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgY2xpZW50cy4gSW4gJ01pc3QnIFNtYXJ0Q29udHJhY3QgcGFnZSBlbmFibGUgJ1dhdGNoIGNvbnRyYWN0IGV2ZW50cycKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwoKICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRTaGFyZWhvbGRlcnMoKSByZXR1cm5zIChhZGRyZXNzW10pewogICAgICAgIGRlbGV0ZSBhY3RpdmVTaGFyZWhvbGRlcnNBcnJheTsKICAgICAgICBmb3IgKHVpbnQyNTYgaT0wOyBpIDwgc2hhcmVob2xkZXIubGVuZ3RoOyBpKyspewogICAgICAgICAgICBpZiAoYmFsYW5jZU9mW3NoYXJlaG9sZGVyW2ldXSA+IDApewogICAgICAgICAgICAgICAgYWN0aXZlU2hhcmVob2xkZXJzQXJyYXkucHVzaChzaGFyZWhvbGRlcltpXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgfSByZXR1cm4gYWN0aXZlU2hhcmVob2xkZXJzQXJyYXk7CiAgICAgICAgfQoKICAgIC8qICAtLSBjYW4gYmUgdXNlZCB0byB0cmFuc2ZlciBzaGFyZXMgdG8gbmV3IGNvbnRyYWN0CiAgICB0b2dldGhlciB3aXRoIGdldEN1cnJlbnRTaGFyZWhvbGRlcnMoKSAqLwogICAgZnVuY3Rpb24gZ2V0QmFsYW5jZUJ5QWRyZXNzKGFkZHJlc3MgX2FkZHJlc3MpIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZU9mW19hZGRyZXNzXTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRNeVNoYXJlaG9sZGVySUQoKSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIHNoYXJlaG9sZGVySURbbXNnLnNlbmRlcl07CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0U2hhcmVob2xkZXJBZHJlc3NCeUlEKHVpbnQyNTYgX2lkKSByZXR1cm5zIChhZGRyZXNzKXsKICAgICAgICByZXR1cm4gc2hhcmVob2xkZXJbX2lkXTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRNeVNoYXJlcygpIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZU9mW21zZy5zZW5kZXJdOwogICAgfQoKCiAgICAvKiAtLS0tIFRyYW5zZmVyIHNoYXJlcyB0byBhbm90aGVyIGFkcmVzcyAtLS0tCiAgICAoc2hhcmVob2xkZXIncyBhZGRyZXNzIGNhbGxzIHRoaXMpCiAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSB7CiAgICAgICAgLy8gY2hlY2sgYXJndW1lbnRzOgogICAgICAgIGlmIChfdmFsdWUgPCAxKSB0aHJvdzsKICAgICAgICBpZiAodGhpcyA9PSBfdG8pIHRocm93OyAvLyBkbyBub3Qgc2VuZCBzaGFyZXMgdG8gY29udHJhY3QgaXRzZWxmOwogICAgICAgIGlmIChiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPCBfdmFsdWUpIHRocm93OyAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKCiAgICAgICAgLy8gbWFrZSB0cmFuc2FjdGlvbgogICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSAtPSBfdmFsdWU7IC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIGJhbGFuY2VPZltfdG9dICs9IF92YWx1ZTsgICAgICAgLy8gQWRkIHRoZSBzYW1lIHRvIHRoZSByZWNpcGllbnQKCiAgICAgICAgLy8gaWYgbmV3IGFkZHJlc3MsIGFkZCBpdCB0byBzaGFyZWhvbGRlcnMgaGlzdG9yeSAoc3RvY2sgbGVkZ2VyKToKICAgICAgICBpZiAoc2hhcmVob2xkZXJJRFtfdG9dID09IDApeyAvLyAtLS0tLS0tLS0tLSBjaGVjayBpZiB3b3JrcwogICAgICAgICAgICBzaGFyZWhvbGRlcklEW190b10gPSBzaGFyZWhvbGRlci5wdXNoKF90byktMTsKICAgICAgICB9CgogICAgICAgIC8vIE5vdGlmeSBhbnlvbmUgbGlzdGVuaW5nIHRoYXQgdGhpcyB0cmFuc2ZlciB0b29rIHBsYWNlCiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIC8qIEFsbG93IGFub3RoZXIgY29udHJhY3QgdG8gc3BlbmQgc29tZSBzaGFyZXMgaW4geW91ciBiZWhhbGYKICAgIChzaGFyZWhvbGRlciBjYWxscyB0aGlzKSAqLwogICAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgLy8gYW5vdGhlciBjb250cmFjdCdzIGFkcmVzcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDI1NiBfdmFsdWUsIC8vIG51bWJlciBvZiBzaGFyZXMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVzIF9leHRyYURhdGEpIC8vIGRhdGEgZm9yIGFub3RoZXIgY29udHJhY3QKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIG1zZy5zZW5kZXIgLSBhY2NvdW50IG93bmVyIHdobyBnaXZlcyBhbGxvd2FuY2UKICAgICAgICAvLyBfc3BlbmRlciAgIC0gYWRkcmVzcyBvZiBhbm90aGVyIGNvbnRyYWN0CiAgICAgICAgLy8gaXQgd3JpdGVzIGluICJhbGxvd2FuY2UiIHRoYXQgdGhpcyBvd25lciBhbGxvd3MgYW5vdGhlcgogICAgICAgIC8vIGNvbnRyYWN0IChfc3BlbmRlcikgdG8gc3BlbmQgdGhpIGFtb250IChfdmFsdWUpIG9mIHNoYXJlcwogICAgICAgIC8vIGluIGhpcyBiZWhhbGYKICAgICAgICBhbGxvd2FuY2VbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIC8vICdzcGVuZGVyJyBpcyBhbm90aGVyIGNvbnRyYWN0IHRoYXQgaW1wbGVtZW50cyBjb2RlCiAgICAgICAgLy8gIHByZXNjcmliZWQgaW4gJ3NoYXJlUmVjaXBpZW50JyBhYm92ZQogICAgICAgIHRva2VuUmVjaXBpZW50IHNwZW5kZXIgPSB0b2tlblJlY2lwaWVudChfc3BlbmRlcik7CiAgICAgICAgLy8gdGhpcyBjb250cmFjdCBjYWxscyAncmVjZWl2ZUFwcHJvdmFsJyBmdW5jdGlvbgogICAgICAgIC8vIG9mIGFub3RoZXIgY29udHJhY3QgdG8gc2VuZCBpbmZvcm1hdGlvbiBhYm91dAogICAgICAgIC8vIGFsbG93YW5jZQogICAgICAgIHNwZW5kZXIucmVjZWl2ZUFwcHJvdmFsKG1zZy5zZW5kZXIsIC8vIHNoYXJlcyBvd25lcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92YWx1ZSwgICAgIC8vIG51bWJlciBvZiBzaGFyZXMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLCAgICAgICAvLyB0aGlzIGNvbnRyYWN0J3MgYWRyZXNzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2V4dHJhRGF0YSk7Ly8gZGF0YSBmcm9tIHNoYXJlcyBvd25lcgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qIHRoaXMgZnVuY3Rpb24gY2FuIGJlIGNhbGxlZCBmcm9tIGFub3RoZXIgY29udHJhY3QsIGFmdGVyIGl0CiAgICBoYXZlIGFsbG93YW5jZSB0byB0cmFuc2ZlciBzaGFyZXMgaW4gYmVoYWxmIG9mIHNoYXJlaG9kZXIgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwKICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzIF90bywKICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MjU2IF92YWx1ZSkKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoKICAgICAgICAvLyBDaGVjayBhcmd1bWVudHM6CiAgICAgICAgLy8gc2hvdWxkIG9uZSBzaGFyZSBvciBtb3JlCiAgICAgICAgaWYgKF92YWx1ZSA8IDEpIHRocm93OwogICAgICAgIC8vIGRvIG5vdCBzZW5kIHNoYXJlcyB0byB0aGlzIGNvbnRyYWN0IGl0c2VsZjsKICAgICAgICBpZiAodGhpcyA9PSBfdG8pIHRocm93OwogICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaAogICAgICAgIGlmIChiYWxhbmNlT2ZbX2Zyb21dIDwgX3ZhbHVlKSB0aHJvdzsKCiAgICAgICAgLy8gQ2hlY2sgYWxsb3dhbmNlCiAgICAgICAgaWYgKF92YWx1ZSA+IGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0pIHRocm93OwoKICAgICAgICAvLyBpZiB0cmFuc2ZlciB0byBuZXcgYWRkcmVzcyAtLSBhZGQgaGltIHRvIGxlZGdlcgogICAgICAgIGlmIChzaGFyZWhvbGRlcklEW190b10gPT0gMCl7CiAgICAgICAgICAgIHNoYXJlaG9sZGVySURbX3RvXSA9IHNoYXJlaG9sZGVyLnB1c2goX3RvKS0xOyAvLyBwdXNoIGZ1bmN0aW9uIHJldHVybnMgdGhlIG5ldyBsZW5ndGgKICAgICAgICB9CgogICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIGJhbGFuY2VPZltfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgIC8vIEFkZCB0aGUgc2FtZSB0byB0aGUgcmVjaXBpZW50CiAgICAgICAgYmFsYW5jZU9mW190b10gKz0gX3ZhbHVlOwoKICAgICAgICAvLyBDaGFuZ2UgYWxsb3dhbmNlcyBjb3JyZXNwb25kaW5nbHkKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAvLyBOb3RpZnkgYW55b25lIGxpc3RlbmluZyB0aGF0IHRoaXMgdHJhbnNmZXIgdG9vayBwbGFjZQogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qIFRoaXMgdW5uYW1lZCBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbmV2ZXIgc29tZW9uZSB0cmllcyB0byBzZW5kIGV0aGVyIHRvIGl0ICovCiAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhyb3c7ICAgICAvLyBQcmV2ZW50cyBhY2NpZGVudGFsIHNlbmRpbmcgb2YgZXRoZXIKICAgIH0KCiAgICAvKiAgLS0tLS0tLS0tIFZvdGluZyAgLS0tLS0tLS0tLS0tLS0gICovCiAgICAvLyB3ZSBvbmx5IGNvdW50ICd5ZXMnIHZvdGVzLCBub3Qgdm90aW5nICd5ZXMnCiAgICAvLyBjb25zaWRlcmVkIGFzIHZvdGluZyAnbm8nIChhcyBzdGF0ZWQgaW4gQnlsYXdzKQoKICAgIC8vIGVhY2ggcHJvcG9zYWwgc2hvdWxkIGNvbnRhaW4gaXQncyB0ZXh0CiAgICAvLyBpbmRleCBvZiB0ZXh0IGluIHRoaXMgYXJyYXkgaXMgYSBwcm9wb3NhbCBJRAogICAgc3RyaW5nW10gcHVibGljIHByb3Bvc2FsVGV4dDsKICAgIC8vIHByb3Bvc2FsSUQgPT4gKHNoYXJlaG9sZGVyID0+ICJpZiBhbHJlYWR5IHZvdGVkIGZvciB0aGlzIHByb3Bvc2FsIikKICAgIG1hcHBpbmcgKHVpbnQyNTYgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSkgdm90ZWQ7CiAgICAvLyBwcm9wb3NhbElEID0+IGFkZHJlc3NlcyB2b3RlZCAneWVzJwogICAgLy8gZXhhY3QgbnVtYmVyIG9mIHZvdGVzIGFjY29yZGluZyB0byBzaGFyZXMgd2lsbCBiZSBjb3VudGVkCiAgICAvLyBhZnRlciBkZWFkbGluZQogICAgbWFwcGluZyAodWludDI1NiA9PiBhZGRyZXNzW10pIHB1YmxpYyB2b3RlczsKICAgIC8vIHByb3Bvc2FsSUQgPT4gZGVhZGxpbmUKICAgIG1hcHBpbmcgKHVpbnQyNTYgPT4gdWludDI1NikgcHVibGljIGRlYWRsaW5lOwogICAgLy8gcHJvcG9zYWxJRCA9PiBmaW5hbCAneWVzJyB2b3RlcwogICAgbWFwcGluZyAodWludDI1NiA9PiB1aW50MjU2KSBwdWJsaWMgcmVzdWx0czsKICAgIC8vIHByb3Bvc2FscyBvZiBldmVyeSBzaGFyZWhvbGRlcgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2W10pIHB1YmxpYyBwcm9wb3NhbHNCeVNoYXJlaG9sZGVyOwoKCiAgICBldmVudCBQcm9wb3NhbEFkZGVkKHVpbnQyNTYgcHJvcG9zYWxJRCwKICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyBpbml0aWF0b3IsCiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyBkZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgdWludDI1NiBkZWFkbGluZSk7CgogICAgZXZlbnQgVm90aW5nRmluaXNoZWQodWludDI1NiBwcm9wb3NhbElELCB1aW50MjU2IHZvdGVzKTsKCiAgICBmdW5jdGlvbiBtYWtlTmV3UHJvcG9zYWwoc3RyaW5nIF9wcm9wb3NhbERlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQyNTYgX2RlYmF0aW5nUGVyaW9kSW5NaW51dGVzKQogICAgcmV0dXJucyAodWludDI1Nil7CiAgICAgICAgLy8gb25seSBzaGFyZWhvbGRlciB3aXRoIG9uZSBvciBtb3JlIHNoYXJlcyBjYW4gbWFrZSBhIHByb3Bvc2FsCiAgICAgICAgLy8gISEhISBjYW4gYmUgbW9yZSB0aGVuIG9uZSBzaGFyZSByZXF1aXJlZAogICAgICAgIGlmIChiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPCAxKSB0aHJvdzsKCiAgICAgICAgdWludDI1NiBpZCA9IHByb3Bvc2FsVGV4dC5wdXNoKF9wcm9wb3NhbERlc2NyaXB0aW9uKS0xOwogICAgICAgIGRlYWRsaW5lW2lkXSA9IG5vdyArIF9kZWJhdGluZ1BlcmlvZEluTWludXRlcyAqIDEgbWludXRlczsKCiAgICAgICAgLy8gYWRkIHRvIHByb3Bvc2FscyBvZiB0aGlzIHNoYXJlaG9sZGVyOgogICAgICAgIHByb3Bvc2Fsc0J5U2hhcmVob2xkZXJbbXNnLnNlbmRlcl0ucHVzaChpZCk7CgogICAgICAgIC8vIGluaXRpYXRvciBhbHdheXMgdm90ZXMgJ3llcycKICAgICAgICB2b3Rlc1tpZF0ucHVzaChtc2cuc2VuZGVyKTsKICAgICAgICB2b3RlZFtpZF1bbXNnLnNlbmRlcl0gPSB0cnVlOwoKICAgICAgICBQcm9wb3NhbEFkZGVkKGlkLCBtc2cuc2VuZGVyLCBfcHJvcG9zYWxEZXNjcmlwdGlvbiwgZGVhZGxpbmVbaWRdKTsKCiAgICAgICAgcmV0dXJuIGlkOyAvLyByZXR1cm5zIHByb3Bvc2FsIGlkCiAgICB9CgogICAgZnVuY3Rpb24gZ2V0TXlQcm9wb3NhbHMoKSByZXR1cm5zICh1aW50MjU2W10pewogICAgICAgIHJldHVybiBwcm9wb3NhbHNCeVNoYXJlaG9sZGVyW21zZy5zZW5kZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIHZvdGVGb3JQcm9wb3NhbCh1aW50MjU2IF9wcm9wb3NhbElEKSByZXR1cm5zIChzdHJpbmcpIHsKCiAgICAgICAgLy8gaWYgbm8gc2hhcmVzIGN1cnJlbnRseSBvd25lZCAtIG5vIHJpZ2h0IHRvIHZvdGUKICAgICAgICBpZiAoYmFsYW5jZU9mW21zZy5zZW5kZXJdIDwgMSkgcmV0dXJuICJubyBzaGFyZXMsIHZvdGUgbm90IGFjY2VwdGVkIjsKCiAgICAgICAgLy8gaWYgYWxyZWFkeSB2b3RlZCAtIHRocm93LCBlbHNlIHZvdGluZyBjYW4gYmUgc3BhbW1lZAogICAgICAgIGlmICh2b3RlZFtfcHJvcG9zYWxJRF1bbXNnLnNlbmRlcl0pewogICAgICAgICAgICByZXR1cm4gImFscmVhZHkgdm90ZWQsIHZvdGUgbm90IGFjY2VwdGVkIjsKICAgICAgICB9CgogICAgICAgIC8vIG5vIHZvdGVzIGFmdGVyIGRlYWRsaW5lCiAgICAgICAgaWYgKG5vdyA+IGRlYWRsaW5lW19wcm9wb3NhbElEXSApewogICAgICAgICAgICByZXR1cm4gInZvdGUgbm90IGFjY2VwdGVkIGFmdGVyIGRlYWRsaW5lIjsKICAgICAgICB9CgogICAgICAgIC8vIGFkZCB0byBsaXN0IG9mIHZvdGVkICd5ZXMnCiAgICAgICAgdm90ZXNbX3Byb3Bvc2FsSURdLnB1c2gobXNnLnNlbmRlcik7CiAgICAgICAgdm90ZWRbX3Byb3Bvc2FsSURdW21zZy5zZW5kZXJdID0gdHJ1ZTsKICAgICAgICByZXR1cm4gInZvdGUgYWNjZXB0ZWQiOwogICAgfQoKICAgIC8vIHRvIGNvdW50IHZvdGVzIHRoaXMgdHJhbnNhY3Rpb24gc2hvdWxkIGJlIHN0YXJ0ZWQgbWFudWFsbHkKICAgIC8vIGZyb20gX2FueV8gRXRoZXJldW0gYWRkcmVzcyBhZnRlciBkZWFkbGluZQogICAgZnVuY3Rpb24gY291bnRWb3Rlcyh1aW50MjU2IF9wcm9wb3NhbElEKSByZXR1cm5zICh1aW50MjU2KXsKCiAgICAgICAgLy8gaWYgbm90IGFmdGVyIGRlYWRsaW5lIC0gdGhyb3cKICAgICAgICBpZiAobm93IDwgZGVhZGxpbmVbX3Byb3Bvc2FsSURdKSB0aHJvdzsKCiAgICAgICAgLy8gaWYgYWxyZWFkeSBjb3VudGVkIHJldHVybiByZXN1bHQ7CiAgICAgICAgaWYgKHJlc3VsdHNbX3Byb3Bvc2FsSURdID4gMCkgcmV0dXJuIHJlc3VsdHNbX3Byb3Bvc2FsSURdOwoKICAgICAgICAvLyBlbHNlIHNob3VsZCBjb3VudCByZXN1bHRzIGFuZCBzdG9yZSBpbiBwdWJsaWMgdmFyaWFibGUKICAgICAgICB1aW50MjU2IHJlc3VsdCA9IDA7CiAgICAgICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgdm90ZXNbX3Byb3Bvc2FsSURdLmxlbmd0aDsgaSsrKXsKCiAgICAgICAgICAgIGFkZHJlc3Mgdm90ZXIgPSB2b3Rlc1tfcHJvcG9zYWxJRF1baV07CiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCArIGJhbGFuY2VPZlt2b3Rlcl07CiAgICAgICAgfQoKICAgICAgICAvLyBMb2cgYW5kIG5vdGlmeSBhbnlvbmUgbGlzdGVuaW5nIHRoYXQgdGhpcyB2b3RpbmcgZmluaXNoZWQKICAgICAgICAvLyB3aXRoICdyZXN1bHQnIC0gbnVtYmVyIG9mICd5ZXMnIHZvdGVzCiAgICAgICAgVm90aW5nRmluaXNoZWQoX3Byb3Bvc2FsSUQsIHJlc3VsdCk7CgogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9Cgp9'.
	

]
