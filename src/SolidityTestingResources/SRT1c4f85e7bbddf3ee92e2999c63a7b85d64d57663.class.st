Class {
	#name : #SRT1c4f85e7bbddf3ee92e2999c63a7b85d64d57663,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT1c4f85e7bbddf3ee92e2999c63a7b85d64d57663 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4gMC40LjE3OwoKCmxpYnJhcnkgU2FmZU1hdGggewoKICAgIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zKHVpbnQpIHsKICAgICAgICB1aW50IGMgPSBhICogYjsKICAgICAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSAgcmV0dXJucyh1aW50KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgIHB1cmUgcmV0dXJucyh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSAmJiBjID49IGIpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9CgoKY29udHJhY3QgRVJDMjAgewogICAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgdmlldyByZXR1cm5zKHVpbnQpOwoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnModWludCk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMoYm9vbCBvayk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMoYm9vbCBvayk7CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdmFsdWUpIHB1YmxpYyByZXR1cm5zKGJvb2wgb2spOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB2YWx1ZSk7Cn0KCgovKioKKiBAdGl0bGUgT3duYWJsZQoqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgoqLwpjb250cmFjdCBPd25hYmxlIHsKCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIAogICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgogICAgLyoqCiAgICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAgKiBhY2NvdW50LgogICAgKi8KICAgIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAgKi8KICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgICAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9Cgp9CgoKLy8gRGVwbG95VG9rZW5Db250cmFjdCBTbWFydCBDb250cmFjdCAKLy8gVGhpcyBzbWFydCBjb250cmFjdCBjb2xsZWN0cyBFVEggYW5kIGluIHJldHVybiBjcmVhdGVzIFRva2VuIGNvbnRyYWN0Ci8vIGJhc2VkIG9uIHRoZSBhbW91bnQgb2YgbW9uZXkgc2VudCBpdCB3aWxsIGNyZWF0ZSB0d28ga2luZHMgb2YgY29udHJhY3QKLy8gMS4gU2ltcGxlIEVSQzIwIHRva2VuIGNvbnRyYWN0Ci8vIDIuIEFzIGFib292ZSB3aXRoIG9wdGlvbiB0byBwdXJjaGFzZSB0b2tlbnMgd2l0aCBzZXQgZXhjaGFuZ2UgcmF0ZSB0byBFVEgKY29udHJhY3QgRGVwbG95VG9rZW5Db250cmFjdCBpcyBPd25hYmxlIHsKICAgIAogICAgYWRkcmVzcyBwdWJsaWMgY29tbWlzc2lvbkFkZHJlc3M7ICAgICAgICAgICAvLyBhZGRyZXNzIHRvIGRlcG9zaXQgY29tbWlzc2lvbnMKICAgIHVpbnQgcHVibGljIGRlcGxveW1lbnRDb3N0OyAgICAgICAgICAgICAgICAgLy8gY29zdCBvZiBkZXBsb3ltZW50IHdpdGggZXhjaGFuZ2UgZmVhdHVyZQogICAgdWludCBwdWJsaWMgdG9rZW5Pbmx5RGVwbG95bWVudENvc3Q7ICAgICAgICAvLyBjb3N0IG9mIGRlcGxveW1lbnQgd2l0aCBiYXNpYyBFUkMyMCBmZWF0dXJlCiAgICB1aW50IHB1YmxpYyBleGNoYW5nZUVuYWJsZUNvc3Q7ICAgICAgICAgICAgIC8vIGNvc3Qgb2YgdXBncmFkaW5nIGV4aXN0aW5nIEVSQzIwIHRvIGV4Y2hhbmdlIGZlYXR1cmUKICAgIHVpbnQgcHVibGljIGNvZGVFeHBvcnRDb3N0OyAgICAgICAgICAgICAgICAgLy8gY29zdCBvZiBleHBvcnRpbmcgdGhlIGNvZGUKICAgIE11bHRpVG9rZW4gbXVsdGlUb2tlbjsgICAgICAgICAgICAgICAgICAgICAgLy8gRVJDMjAgdG9rZW4gd2l0aCBleGNoYW5nZSBmZWF0dXJlCgogICAgZXZlbnQgVG9rZW5EZXBsb3llZChhZGRyZXNzIG5ld1Rva2VuLCB1aW50IGFtb3VudFBhaWQpOyAgICAKICAgIGV2ZW50IEV4Y2hhbmdlRW5hYmxlZChhZGRyZXNzIHRva2VuLCB1aW50IGFtb3VudFBhaWQpOwogICAgZXZlbnQgQ29kZUV4cG9ydEVuYWJsZWQoYWRkcmVzcyBzZW5kZXIpOwoKICAgIC8vIEBub3RpY2UgZGVwbG95IHRva2VuIHdpdGggZXhjaG5nZSBmdW5jdGlvbmFsaXR5CiAgICAvLyBAcGFyYW0gX2luaXRpYWxTdXBwbHkge3VpbnR9IGluaXRpYWwgc3VwcGx5IG9mIHRva2VuCiAgICAvLyBAcGFyYW0gX3Rva2VuTmFtZSB7c3RyaW5nfSBuYW1lIG9mIHRva2VuCiAgICAvLyBAcGFyYW0gX2RlY2ltYWxVbml0cyB7dWludH0gaG93IG1hbnkgZGVjaW1hbCB1bml0cyB0b2tlbiB3aWxsIGhhdmUKICAgIC8vIEBwYXJhbSBfdG9rZW5TeW1ib2wge3N0cmluZ30gdGlja2VyIGZvciB0aGUgdG9rZW4KICAgIC8vIEBwYXJhbSBfdmVyc2lvbiB7c3RyaW5nfSB2ZXJzaW9uIG9mIHRoZSB0b2tlbgogICAgLy8gQHBhcmFtIF90b2tlblByaWNlRVRIIHt1aW50fSBwcmljZSBvZiB0b2tlbiBmb3IgZXhjaGFuZ2UgZnVuY3Rpb25hbGl0eQogICAgZnVuY3Rpb24gZGVwbG95TXVsdGlUb2tlbiAoKSBwdWJsaWMgcmV0dXJucyAoYWRkcmVzcykgewoKICAgICAgICBNdWx0aVRva2VuIHRva2VuOwoKICAgICAgICB0b2tlbiA9IG5ldyBNdWx0aVRva2VuKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIFRva2VuRGVwbG95ZWQodG9rZW4sIDApOwogICAgICAgIHJldHVybiB0b2tlbjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgIH0gICAKCiAgICAvLyBAbm90aWNlIHRvIGVuYWJsZSBjb2RlIGV4cG9ydCBmdW5jdGlvbmFsaXR5CiAgICAvLyBAcGFyYW0gX3Rva2VuIHthZGRyZXNzfSB0byB0b2tlbiBjb250cmFjdCAKICAgIGZ1bmN0aW9uIGVuYWJsZUNvZGVFeHBvcnQoYWRkcmVzcyBfdG9rZW4pIHB1YmxpYyBwYXlhYmxlIHsKCiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPT0gY29kZUV4cG9ydENvc3QpOwogICAgICAgIHJlcXVpcmUoX3Rva2VuICE9IGFkZHJlc3MoMCkpOwogICAgICAgIG11bHRpVG9rZW4gPSBNdWx0aVRva2VuKF90b2tlbik7CiAgICAgICAgaWYgKCFtdWx0aVRva2VuLmVuYWJsZUNvZGVFeHBvcnQoKSkKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgY29tbWlzc2lvbkFkZHJlc3MudHJhbnNmZXIobXNnLnZhbHVlKTsgCiAgICAgICAgQ29kZUV4cG9ydEVuYWJsZWQobXNnLnNlbmRlcik7CiAgICB9Cgp9CgoKLy8gVGhlICBFeGNoYW5nZSB0b2tlbgpjb250cmFjdCBNdWx0aVRva2VuIGlzIEVSQzIwLCBPd25hYmxlIHsKCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKICAgIC8vIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuCiAgICBzdHJpbmcgcHVibGljIG5hbWU7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsKICAgIHVpbnQgcHVibGljIGRlY2ltYWxzOyAvLyBIb3cgbWFueSBkZWNpbWFscyB0byBzaG93LgogICAgc3RyaW5nIHB1YmxpYyB2ZXJzaW9uOwogICAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICB1aW50IHB1YmxpYyB0b2tlblByaWNlOwogICAgYm9vbCBwdWJsaWMgZXhjaGFuZ2VFbmFibGVkOwogICAgYWRkcmVzcyBwdWJsaWMgcGFyZW50Q29udHJhY3Q7CiAgICBib29sIHB1YmxpYyBjb2RlRXhwb3J0RW5hYmxlZDsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcHVibGljIGJhbGFuY2VzOwogICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSkgcHVibGljIGFsbG93ZWQ7CgogICAgbW9kaWZpZXIgb25seUF1dGhvcml6ZWQoKSB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gcGFyZW50Q29udHJhY3QpIAogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vIFRoZSBUb2tlbiBjb25zdHJ1Y3RvciAgICAgCiAgICBmdW5jdGlvbiBNdWx0aVRva2VuKCkgcHVibGljIAogICAgewoKICAgICAgICB0b3RhbFN1cHBseSA9IDEwMDAwICogKDEwKio4KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBuYW1lID0gIklDTyI7ICAgICAgICAgIC8vIFNldCB0aGUgbmFtZSBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICAgIHN5bWJvbCA9ICJJQ08iOyAgICAgIC8vIFNldCB0aGUgc3ltYm9sIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgZGVjaW1hbHMgPSA4OyAgIC8vIEFtb3VudCBvZiBkZWNpbWFscyBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICAgIHZlcnNpb24gPSAiMS4wIjsgICAgICAgICAvLyBWZXJzaW9uIG9mIHRva2VuCiAgICAgICAgdG9rZW5QcmljZSA9IDEgZXRoZXIgLyAxMDA7ICAgLy8gVG9rZW4gcHJpY2UgaW4gRVRICiAgICAgICAgY29kZUV4cG9ydEVuYWJsZWQgPSB0cnVlOyAvLyBJZiB0cnVlIGFsbG93IGNvZGUgZXhwb3J0CiAgICAgICAgZXhjaGFuZ2VFbmFibGVkID0gdHJ1ZTsKICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSB0b3RhbFN1cHBseTsgICAgCiAgICAgICAgcGFyZW50Q29udHJhY3QgPSBtc2cuc2VuZGVyOyAgICAvLyBzYXZlIHBhcmVudCBjb250cmFjdCBhZGRyZXNzIHRvIGFsbG93IGVuYWJsaW5nIG9mIGV4Y2hhbmdlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmVhdHVyZSBpZiByZXF1aXJlZCBsYXRlciBmb3Igb25seUF1dGhvcml6ZWQoKQogICAgfQoKICAgIGV2ZW50IFRyYW5zZmVyU29sZChhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwoKICAgIC8vIEBub2ljZSBUbyBiZSBjYWxsZWQgYnkgcGFyZW50IGNvbnRyYWN0IHRvIGVuYWJsZSBleGNoYW5nZSBmdW5jdGlvbmFsaXR5CiAgICAvLyBAcGFyYW0gX3Rva2VuUHJpY2Uge3VpbnR9IGNvc3RvIG9mIHRva2VuIGluIEVUSAogICAgLy8gQHJldHVybiB0cnVlIHtib29sfSBpZiBzdWNjZXNzZnVsCiAgICBmdW5jdGlvbiBlbmFibGVFeGNoYW5nZSh1aW50IF90b2tlblByaWNlKSBwdWJsaWMgb25seUF1dGhvcml6ZWQoKSByZXR1cm5zKGJvb2wpIHsKICAgICAgICBleGNoYW5nZUVuYWJsZWQgPSB0cnVlOwogICAgICAgIHRva2VuUHJpY2UgPSBfdG9rZW5QcmljZTsKICAgICAgICByZXR1cm4gdHJ1ZTsgCiAgICB9CgogICAgICAgIC8vIEBub3RpY2UgdG8gZW5hYmxlIGNvZGUgZXhwb3J0IGZ1bmN0aW9uYWxpdHkKICAgIGZ1bmN0aW9uIGVuYWJsZUNvZGVFeHBvcnQoKSBwdWJsaWMgb25seUF1dGhvcml6ZWQoKSByZXR1cm5zKGJvb2wpIHsgICAgICAgIAogICAgICAgIGNvZGVFeHBvcnRFbmFibGVkID0gdHJ1ZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBAbm90aWNlIEl0IHdpbGwgc2VuZCB0b2tlbnMgdG8gc2VuZGVyIGJhc2VkIG9uIHRoZSB0b2tlbiBwcmljZSAgICAKICAgIGZ1bmN0aW9uIHN3YXBUb2tlbnMoKSBwdWJsaWMgcGF5YWJsZSB7ICAgICAKCiAgICAgICAgcmVxdWlyZShleGNoYW5nZUVuYWJsZWQpOyAgIAogICAgICAgIHVpbnQgdG9rZW5zVG9TZW5kOwogICAgICAgIHRva2Vuc1RvU2VuZCA9IChtc2cudmFsdWUgKiAoMTAqKmRlY2ltYWxzKSkgLyB0b2tlblByaWNlOyAKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW293bmVyXSA+PSB0b2tlbnNUb1NlbmQpOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IHRva2Vuc1RvU2VuZDsKICAgICAgICBiYWxhbmNlc1tvd25lcl0gLT0gdG9rZW5zVG9TZW5kOwogICAgICAgIFRyYW5zZmVyKG93bmVyLCBtc2cuc2VuZGVyLCB0b2tlbnNUb1NlbmQpOwogICAgICAgIFRyYW5zZmVyU29sZChtc2cuc2VuZGVyLCB0b2tlbnNUb1NlbmQpOyAgICAgICAKICAgIH0KCiAgICAvLyBAbm90aWNlIHdpbGwgYmUgYWJsZSB0byBtaW50IHRva2VucyBpbiB0aGUgZnV0dXJlCiAgICAvLyBAcGFyYW0gX3RhcmdldCB7YWRkcmVzc30gYWRkcmVzcyB0byB3aGljaCBuZXcgdG9rZW5zIHdpbGwgYmUgYXNzaWduZWQKICAgIC8vIEBwYXJtIF9taW50ZWRBbW91bnQge3VpbnQyNTZ9IGFtb3VvbnQgb2YgdG9rZW5zIHRvIG1pbnQKICAgIGZ1bmN0aW9uIG1pbnRUb2tlbihhZGRyZXNzIF90YXJnZXQsIHVpbnQyNTYgX21pbnRlZEFtb3VudCkgcHVibGljIG9ubHlPd25lcigpIHsgICAgICAgIAogICAgICAgIAogICAgICAgIGJhbGFuY2VzW190YXJnZXRdICs9IF9taW50ZWRBbW91bnQ7CiAgICAgICAgdG90YWxTdXBwbHkgKz0gX21pbnRlZEFtb3VudDsKICAgICAgICBUcmFuc2ZlcigwLCBfdGFyZ2V0LCBfbWludGVkQW1vdW50KTsgICAgICAgCiAgICB9CiAgCiAgICAvLyBAbm90aWNlIHRyYW5zZmVyIHRva2VucyB0byBnaXZlbiBhZGRyZXNzCiAgICAvLyBAcGFyYW0gX3RvIHthZGRyZXNzfSBhZGRyZXNzIG9yIHJlY2lwaWVudAogICAgLy8gQHBhcmFtIF92YWx1ZSB7dWludH0gYW1vdW50IHRvIHRyYW5zZmVyCiAgICAvLyBAcmV0dXJuICB7Ym9vbH0gdHJ1ZSBpZiBzdWNjZXNzZnVsCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zKGJvb2wpIHsKCiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gQG5vdGljZSB0cmFuc2ZlciB0b2tlbnMgZnJvbSBnaXZlbiBhZGRyZXNzIHRvIGFub3RoZXIgYWRkcmVzcwogICAgLy8gQHBhcmFtIF9mcm9tIHthZGRyZXNzfSBmcm9tIHdob20gdG9rZW5zIGFyZSB0cmFuc2ZlcnJlZAogICAgLy8gQHBhcmFtIF90byB7YWRkcmVzc30gdG8gd2hvbSB0b2tlbnMgYXJlIHRyYW5zZmVycmVkCiAgICAvLyBAcGFyYW0gX3ZhbHVlIHt1aW50fSBhbW91bnQgb2YgdG9rZW5zIHRvIHRyYW5zZmVyCiAgICAvLyBAcmV0dXJuICB7Ym9vbH0gdHJ1ZSBpZiBzdWNjZXNzZnVsCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgIHJldHVybnMoYm9vbCBzdWNjZXNzKSB7CgogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSk7IC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaAogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsgLy8gQ2hlY2sgaWYgYWxsb3dlZCBpcyBncmVhdGVyIG9yIGVxdWFsCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7IC8vIEFkZCB0aGUgc2FtZSB0byB0aGUgcmVjaXBpZW50CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOyAgLy8gYWRqdXN0IGFsbG93ZWQKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIEBub3RpY2UgdG8gcXVlcnkgYmFsYW5jZSBvZiBhY2NvdW50CiAgICAvLyBAcmV0dXJuIF9vd25lciB7YWRkcmVzc30gYWRkcmVzcyBvZiB1c2VyIHRvIHF1ZXJ5IGJhbGFuY2UKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyh1aW50IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICAqCiAgICAqIEJld2FyZSB0aGF0IGNoYW5naW5nIGFuIGFsbG93YW5jZSB3aXRoIHRoaXMgbWV0aG9kIGJyaW5ncyB0aGUgcmlzayB0aGF0IHNvbWVvbmUgbWF5IHVzZSBib3RoIHRoZSBvbGQKICAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAgKiByYWNlIGNvbmRpdGlvbiBpcyB0byBmaXJzdCByZWR1Y2UgdGhlIHNwZW5kZXIncyBhbGxvd2FuY2UgdG8gMCBhbmQgc2V0IHRoZSBkZXNpcmVkIHZhbHVlIGFmdGVyd2FyZHM6CiAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyhib29sKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gQG5vdGljZSB0byBxdWVyeSBvZiBhbGxvd2FuY2Ugb2Ygb25lIHVzZXIgdG8gdGhlIG90aGVyCiAgICAvLyBAcGFyYW0gX293bmVyIHthZGRyZXNzfSBvZiB0aGUgb3duZXIgb2YgdGhlIGFjY291bnQKICAgIC8vIEBwYXJhbSBfc3BlbmRlciB7YWRkcmVzc30gb2YgdGhlIHNwZW5kZXIgb2YgdGhlIGFjY291bnQKICAgIC8vIEByZXR1cm4gcmVtYWluaW5nIHt1aW50fSBhbW91bnQgb2YgcmVtYWluaW5nIGFsbG93YW5jZQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zKHVpbnQgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgLyoqCiAgICAqIGFwcHJvdmUgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFsbG93ZWRbX3NwZW5kZXJdID09IDAuIFRvIGluY3JlbWVudAogICAgKiBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbAogICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICAqIEZyb20gTW9ub2xpdGhEQU8gVG9rZW4uc29sCiAgICAqLwogICAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgICAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgICAgICB9CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCn0='.
	

]
