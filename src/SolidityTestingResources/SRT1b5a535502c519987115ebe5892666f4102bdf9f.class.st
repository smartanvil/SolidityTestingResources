Class {
	#name : #SRT1b5a535502c519987115ebe5892666f4102bdf9f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT1b5a535502c519987115ebe5892666f4102bdf9f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7CgovL1NtYXJ0Vm93cyBNYXJyaWFnZSBTbWFydCBDb250cmFjdCBmb3IgUGFydG5lciAxIGFuZCBQYXJ0bmVyIDIKCmNvbnRyYWN0IE93bmFibGUgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKICAgIC8qKgogICAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICAgKiBhY2NvdW50LgogICAgICovCiAgICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CiAgICAvKioKICAgICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgICAqLwogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KICAgIC8qKgogICAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQp9Cgpjb250cmFjdCBVdGlsewoKICAgIGZ1bmN0aW9uIFV0aWwoKSBwdWJsaWN7fQoKICAgIGZ1bmN0aW9uIHN0ckNvbmNhdChzdHJpbmcgX2EsIHN0cmluZyBfYiwgc3RyaW5nIF9jLCBzdHJpbmcgX2QsIHN0cmluZyBfZSkgaW50ZXJuYWwgcHVyZSByZXR1cm5zIChzdHJpbmcpewogICAgICAgIGJ5dGVzIG1lbW9yeSBfYmEgPSBieXRlcyhfYSk7CiAgICAgICAgYnl0ZXMgbWVtb3J5IF9iYiA9IGJ5dGVzKF9iKTsKICAgICAgICBieXRlcyBtZW1vcnkgX2JjID0gYnl0ZXMoX2MpOwogICAgICAgIGJ5dGVzIG1lbW9yeSBfYmQgPSBieXRlcyhfZCk7CiAgICAgICAgYnl0ZXMgbWVtb3J5IF9iZSA9IGJ5dGVzKF9lKTsKICAgICAgICBzdHJpbmcgbWVtb3J5IGFiY2RlID0gbmV3IHN0cmluZyhfYmEubGVuZ3RoICsgX2JiLmxlbmd0aCArIF9iYy5sZW5ndGggKyBfYmQubGVuZ3RoICsgX2JlLmxlbmd0aCk7CiAgICAgICAgYnl0ZXMgbWVtb3J5IGJhYmNkZSA9IGJ5dGVzKGFiY2RlKTsKICAgICAgICB1aW50IGsgPSAwOwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IF9iYS5sZW5ndGg7IGkrKykgYmFiY2RlW2srK10gPSBfYmFbaV07CiAgICAgICAgZm9yIChpID0gMDsgaSA8IF9iYi5sZW5ndGg7IGkrKykgYmFiY2RlW2srK10gPSBfYmJbaV07CiAgICAgICAgZm9yIChpID0gMDsgaSA8IF9iYy5sZW5ndGg7IGkrKykgYmFiY2RlW2srK10gPSBfYmNbaV07CiAgICAgICAgZm9yIChpID0gMDsgaSA8IF9iZC5sZW5ndGg7IGkrKykgYmFiY2RlW2srK10gPSBfYmRbaV07CiAgICAgICAgZm9yIChpID0gMDsgaSA8IF9iZS5sZW5ndGg7IGkrKykgYmFiY2RlW2srK10gPSBfYmVbaV07CiAgICAgICAgcmV0dXJuIHN0cmluZyhiYWJjZGUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHN0ckNvbmNhdChzdHJpbmcgX2EsIHN0cmluZyBfYiwgc3RyaW5nIF9jLCBzdHJpbmcgX2QpIGludGVybmFsIHB1cmUgcmV0dXJucyAoc3RyaW5nKSB7CiAgICAgICAgcmV0dXJuIHN0ckNvbmNhdChfYSwgX2IsIF9jLCBfZCwgIiIpOwogICAgfQoKICAgIGZ1bmN0aW9uIHN0ckNvbmNhdChzdHJpbmcgX2EsIHN0cmluZyBfYiwgc3RyaW5nIF9jKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHN0cmluZykgewogICAgICAgIHJldHVybiBzdHJDb25jYXQoX2EsIF9iLCBfYywgIiIsICIiKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzdHJDb25jYXQoc3RyaW5nIF9hLCBzdHJpbmcgX2IpIGludGVybmFsIHB1cmUgcmV0dXJucyAoc3RyaW5nKSB7CiAgICAgICAgcmV0dXJuIHN0ckNvbmNhdChfYSwgX2IsICIiLCAiIiwgIiIpOwogICAgfQoKfQoKY29udHJhY3QgU21hcnRWb3dzIGlzIE93bmFibGUsIFV0aWwgewoKICAgIC8vIE5hbWVzIG9mIG1hcnJpYWdlIHBhcnRuZXJzCiAgICBzdHJpbmcgcHVibGljIHBhcnRuZXIxX25hbWU7CiAgICBzdHJpbmcgcHVibGljIHBhcnRuZXIyX25hbWU7CiAgICAKICAgIC8vIFBhcnRuZXJzJyBldGggYWRkcmVzcwogICAgYWRkcmVzcyBwdWJsaWMgcGFydG5lcjFfYWRkcmVzczsKICAgIGFkZHJlc3MgcHVibGljIHBhcnRuZXIyX2FkZHJlc3M7CiAgICAKICAgIC8vIFBhcnRuZXJzIFZvd3MKICAgIHN0cmluZyBwdWJsaWMgcGFydG5lcjFfdm93czsKICAgIHN0cmluZyBwdWJsaWMgcGFydG5lcjJfdm93czsKCiAgICAvLyBNYXJyaWFnZSBEYXRlCiAgICBzdHJpbmcgcHVibGljIG1hcnJpYWdlRGF0ZTsKCiAgICAvL01hcml0YWwgU3RhdHVzCiAgICBzdHJpbmcgcHVibGljIG1hcml0YWxTdGF0dXM7CgogICAgLy8gQ291cGxlIEltYWdlIEhhc2gKICAgIGJ5dGVzIHB1YmxpYyBjb3VwbGVJbWFnZUlQRlNoYXNoOwoKICAgIC8vIE1hcnJpYWdlIExpY2Vuc2UgSW1hZ2UgSGFzaAogICAgYnl0ZXMgcHVibGljIG1hcnJpYWdlTGljZW5jZUltYWdlSVBGU2hhc2g7CgogICAgLy8gcHJlbnVwIFRleHQKICAgIHN0cmluZyBwdWJsaWMgcHJlbnVwQWdyZWVtZW50OwogICAgCiAgICAvL0xhc3QgV2lsbCBhbmQgVGVzdGFtZW50cwogICAgc3RyaW5nIHB1YmxpYyBwYXJ0bmVyMV93aWxsOwogICAgc3RyaW5nIHB1YmxpYyBwYXJ0bmVyMl93aWxsOwoKICAgIC8vIFBhcnRuZXJzIFNpZ25lZCBNYXJyaWFnZSBDb250cmFjdAogICAgYm9vbCBwdWJsaWMgcGFydG5lcjFfc2lnbmVkOwogICAgYm9vbCBwdWJsaWMgcGFydG5lcjJfc2lnbmVkOwogICAgCiAgICAvLyBQYXJ0bmVycyBWb3RlZCB0byB1cGRhdGUgdGhlIHByZW51cAogICAgYm9vbCBwdWJsaWMgcGFydG5lcjFfdm90ZWRfdXBkYXRlX3ByZW51cDsKICAgIGJvb2wgcHVibGljIHBhcnRuZXIyX3ZvdGVkX3VwZGF0ZV9wcmVudXA7CiAgICAKICAgIC8vUGFydG5lcnMgVm90ZWQgdG8gdXBkYXRlIHRoZSBtYXJyaWFnZSBzdGF0dXMKICAgIGJvb2wgcHVibGljIHBhcnRuZXIxX3ZvdGVkX3VwZGF0ZV9tYXJyaWFnZV9zdGF0dXM7CiAgICBib29sIHB1YmxpYyBwYXJ0bmVyMl92b3RlZF91cGRhdGVfbWFycmlhZ2Vfc3RhdHVzOwogICAgCiAgICAvLyBEaWQgYm90aCBwYXJ0bmVycyBzaWduZWQgdGhlIGNvbnRyYWN0CiAgICAgYm9vbCBwdWJsaWMgaXNfc2lnbmVkOwogICAgCiAgICAvLyBPZmZpY2lhbnQKICAgIHN0cmluZyBwdWJsaWMgb2ZmaWNpYW50OwoKICAgIC8vIFdpdG5lc3NlcwogICAgc3RyaW5nIHB1YmxpYyB3aXRuZXNzZXM7CgogICAgLy8gTG9jYXRpb24gb2YgbWFycmlhZ2UKICAgIHN0cmluZyBwdWJsaWMgbG9jYXRpb247CiAgICAKICAgIEV2ZW50W10gcHVibGljIGxpZmVFdmVudHM7CgogICAgc3RydWN0IEV2ZW50IHsKICAgICAgICB1aW50IGRhdGU7CiAgICAgICAgc3RyaW5nIG5hbWU7CiAgICAgICAgc3RyaW5nIGRlc2NyaXB0aW9uOwogICAgICAgIHN0cmluZyBtZXNnOwogICAgfQogICAgCiAgICB1aW50IHB1YmxpYyBldmVudGNvdW50OyAKCiAgICAvLyBEZWNsYXJlIExpZmUgZXZlbnQgc3RydWN0dXJlCiAgICBldmVudCBMaWZlRXZlbnQoc3RyaW5nIG5hbWUsIHN0cmluZyBkZXNjcmlwdGlvbiwgc3RyaW5nIG1lc2cpOwoKICAgIGNvbnRyYWN0RXZlbnRbXSBwdWJsaWMgY29udHJhY3RFdmVudHM7CgogICAgc3RydWN0IGNvbnRyYWN0RXZlbnQgewogICAgICAgIHVpbnQgY2VfZGF0ZTsKICAgICAgICBzdHJpbmcgY2VfZGVzY3JpcHRpb247CiAgICAgICAgc3RyaW5nIGNlX21lc2c7CiAgICB9CiAgICAKICAgIHVpbnQgcHVibGljIGNvbnRyYWN0ZXZlbnRjb3VudDsgCgogICAgLy8gRGVjbGFyZSBDb250cmFjdCBldmVudCBzdHJ1Y3R1cmUKICAgIGV2ZW50IENvbnRyYWN0RXZlbnQoc3RyaW5nIGNlX2Rlc2NyaXB0aW9uLCBzdHJpbmcgY2VfbWVzZyk7CgogICAgZnVuY3Rpb24gU21hcnRWb3dzKHN0cmluZyBfcGFydG5lcjEsIGFkZHJlc3MgX3BhcnRuZXIxX2FkZHJlc3MsIHN0cmluZyBfcGFydG5lcjIsIGFkZHJlc3MgX3BhcnRuZXIyX2FkZHJlc3MsIHN0cmluZyBfbWFycmlhZ2VEYXRlLCBzdHJpbmcgX21hcml0YWxTdGF0dXMsIHN0cmluZyBfb2ZmaWNpYW50LCBzdHJpbmcgX3dpdG5lc3Nlcywgc3RyaW5nIF9sb2NhdGlvbiwgYnl0ZXMgX2NvdXBsZUltYWdlSVBGU2hhc2gsIGJ5dGVzIF9tYXJyaWFnZUxpY2VuY2VJbWFnZUlQRlNoYXNoKSBwdWJsaWN7ICAgICAgICAKICAgICAgICBwYXJ0bmVyMV9uYW1lID0gX3BhcnRuZXIxOwogICAgICAgIHBhcnRuZXIyX25hbWUgPSBfcGFydG5lcjI7ICAKICAgICAgICBwYXJ0bmVyMV9hZGRyZXNzPV9wYXJ0bmVyMV9hZGRyZXNzOwogICAgICAgIHBhcnRuZXIyX2FkZHJlc3M9X3BhcnRuZXIyX2FkZHJlc3M7CiAgICAgICAgbWFycmlhZ2VEYXRlID1fbWFycmlhZ2VEYXRlOwogICAgICAgIG1hcml0YWxTdGF0dXMgPSBfbWFyaXRhbFN0YXR1czsKICAgICAgICBvZmZpY2lhbnQ9X29mZmljaWFudDsKICAgICAgICB3aXRuZXNzZXM9X3dpdG5lc3NlczsKICAgICAgICBsb2NhdGlvbj1fbG9jYXRpb247CiAgICAgICAgY291cGxlSW1hZ2VJUEZTaGFzaD1fY291cGxlSW1hZ2VJUEZTaGFzaDsKICAgICAgICBtYXJyaWFnZUxpY2VuY2VJbWFnZUlQRlNoYXNoPV9tYXJyaWFnZUxpY2VuY2VJbWFnZUlQRlNoYXNoOwoKICAgICAgICAvL1JlY29yZCBjb250cmFjdCBjcmVhdGlvbiBpbiBldmVudHMKICAgICAgICBzYXZlQ29udHJhY3RFdmVudCgiQmxvY2tjaGFpbiBtYXJyaWFnZSBzbWFydCBjb250cmFjdCBjcmVhdGVkIiwiTWFycmlhZ2Ugc21hcnQgY29udHJhY3QgYWRkZWQgdG8gdGhlIGJsb2NrY2hhaW4iKTsKICAgICAgICAKICAgIH0KCiAgICAvLyBBZGQgTGlmZSBldmVudCwgZWl0aGVyIHBhcnRuZXIgY2FuIHVwZGF0ZQogICAgZnVuY3Rpb24gYWRkTGlmZUV2ZW50KHN0cmluZyBuYW1lLCBzdHJpbmcgZGVzY3JpcHRpb24sIHN0cmluZyBtZXNnKSBwdWJsaWN7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyIHx8IG1zZy5zZW5kZXIgPT0gcGFydG5lcjFfYWRkcmVzcyB8fCBtc2cuc2VuZGVyID09IHBhcnRuZXIyX2FkZHJlc3MpOwogICAgICAgIHNhdmVMaWZlRXZlbnQobmFtZSwgZGVzY3JpcHRpb24sIG1lc2cpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNhdmVMaWZlRXZlbnQoc3RyaW5nIG5hbWUsIHN0cmluZyBkZXNjcmlwdGlvbiwgc3RyaW5nIG1lc2cpIHByaXZhdGUgewogICAgICAgIGxpZmVFdmVudHMucHVzaChFdmVudChibG9jay50aW1lc3RhbXAsIG5hbWUsIGRlc2NyaXB0aW9uLCBtZXNnKSk7CiAgICAgICAgTGlmZUV2ZW50KG5hbWUsIGRlc2NyaXB0aW9uLCBtZXNnKTsKICAgICAgICBldmVudGNvdW50Kys7CiAgICB9CiAgICAKICAgIAogICAgZnVuY3Rpb24gc2F2ZUNvbnRyYWN0RXZlbnQoc3RyaW5nIGRlc2NyaXB0aW9uLCBzdHJpbmcgbWVzZykgcHJpdmF0ZSB7CiAgICAgICAgY29udHJhY3RFdmVudHMucHVzaChjb250cmFjdEV2ZW50KGJsb2NrLnRpbWVzdGFtcCwgZGVzY3JpcHRpb24sIG1lc2cpKTsKICAgICAgICBDb250cmFjdEV2ZW50KGRlc2NyaXB0aW9uLCBtZXNnKTsKICAgICAgICBjb250cmFjdGV2ZW50Y291bnQrKzsKICAgIH0KCiAgICAKICAgIC8vIFVwZGF0ZSBwYXJ0bmVyIDEgdm93cyBvbmx5IG9uY2UKICAgIGZ1bmN0aW9uIHVwZGF0ZVBhcnRuZXIxX3Zvd3Moc3RyaW5nIF9wYXJ0bmVyMV92b3dzKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgbXNnLnNlbmRlciA9PSBwYXJ0bmVyMV9hZGRyZXNzKSAmJiAoYnl0ZXMocGFydG5lcjFfdm93cykubGVuZ3RoID09IDApKTsKICAgICAgICBwYXJ0bmVyMV92b3dzID0gX3BhcnRuZXIxX3Zvd3M7CiAgICB9CgogICAgLy8gVXBkYXRlIHBhcnRuZXIgMiB2b3dzIG9ubHkgb25jZQogICAgZnVuY3Rpb24gdXBkYXRlUGFydG5lcjJfdm93cyhzdHJpbmcgX3BhcnRuZXIyX3Zvd3MpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZSgobXNnLnNlbmRlciA9PSBvd25lciB8fCBtc2cuc2VuZGVyID09IHBhcnRuZXIyX2FkZHJlc3MpICYmIChieXRlcyhwYXJ0bmVyMl92b3dzKS5sZW5ndGggPT0gMCkpOwogICAgICAgIHBhcnRuZXIyX3Zvd3MgPSBfcGFydG5lcjJfdm93czsKICAgIH0KCiAgICAvLyBVcGRhdGUgTWFycmlhZ2Ugc3RhdHVzIG9ubHkgaWYgYm90aCBwYXJ0bmVycyBoYXZlIHByZXZpb3VzbHkgdm90ZWQgdG8gdXBkYXRlIHRoZSBwcmVudXAKICAgIGZ1bmN0aW9uIHVwZGF0ZU1hcml0YWxTdGF0dXMoc3RyaW5nIF9tYXJpdGFsU3RhdHVzKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgbXNnLnNlbmRlciA9PSBwYXJ0bmVyMV9hZGRyZXNzIHx8IG1zZy5zZW5kZXIgPT0gcGFydG5lcjJfYWRkcmVzcykgJiYgKHBhcnRuZXIxX3ZvdGVkX3VwZGF0ZV9tYXJyaWFnZV9zdGF0dXMgPT0gdHJ1ZSkmJihwYXJ0bmVyMl92b3RlZF91cGRhdGVfbWFycmlhZ2Vfc3RhdHVzID09IHRydWUpKTsKICAgICAgICBzYXZlQ29udHJhY3RFdmVudCgiTWFyaXRhbCBzdGF0dXMgdXBkYXRlZCIsIHN0ckNvbmNhdCgiTWFyaXRhbCBzdGF0dXMgY2hhbmdlZCBmcm9tICIsIG1hcml0YWxTdGF0dXMgLCAiIHRvICIsIF9tYXJpdGFsU3RhdHVzKSk7CiAgICAgICAgbWFyaXRhbFN0YXR1cyA9IF9tYXJpdGFsU3RhdHVzOwogICAgICAgIHBhcnRuZXIxX3ZvdGVkX3VwZGF0ZV9tYXJyaWFnZV9zdGF0dXMgPSBmYWxzZTsKICAgICAgICBwYXJ0bmVyMl92b3RlZF91cGRhdGVfbWFycmlhZ2Vfc3RhdHVzID0gZmFsc2U7CiAgICB9CgogICAgLy8gUGFydG5lcnMgY2FuIHNpZ24gdGhlIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBzaWduKCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gcGFydG5lcjFfYWRkcmVzcyB8fCBtc2cuc2VuZGVyID09IHBhcnRuZXIyX2FkZHJlc3MpOwogICAgICAgIGlmKG1zZy5zZW5kZXIgPT0gcGFydG5lcjFfYWRkcmVzcyl7CiAgICAgICAgICAgIHBhcnRuZXIxX3NpZ25lZCA9IHRydWU7CiAgICAgICAgICAgIHNhdmVDb250cmFjdEV2ZW50KCJNYXJyaWFnZSBzaWduZWQiLCAiU21hcnQgQ29udHJhY3Qgc2lnbmVkIGJ5IFBhcnRuZXIgMSIpOwogICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgcGFydG5lcjJfc2lnbmVkID0gdHJ1ZTsKICAgICAgICAgICAgc2F2ZUNvbnRyYWN0RXZlbnQoIk1hcnJpYWdlIHNpZ25lZCIsICJTbWFydCBDb250cmFjdCBzaWduZWQgYnkgUGFydG5lciAyIik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKHBhcnRuZXIxX3NpZ25lZCAmJiBwYXJ0bmVyMl9zaWduZWQpey8vIGlmIGJvdGggc2lnbmVkIHRoZW4gbWFrZSB0aGUgY29udHJhY3QgYXMgc2lnbmVkCiAgICAgICAgICAgIGlzX3NpZ25lZCA9IHRydWU7CiAgICAgICAgfQogICAgfQogICAgCiAgICAvL0Z1bmN0aW9uIHRvIHZvdGUgdG8gYWxsb3cgZm9yIHVwZGF0aW5nIG1hcml0YWwgc3RhdHVzLCBib3RoIHBhcnRuZXJzIG11c3Qgdm90ZSB0byBhbGxvdyB1cGRhdGUKICAgICAgICBmdW5jdGlvbiB2b3RlVG9VcGRhdGVNYXJpdGFsU3RhdHVzKCkgcHVibGljIHsKICAgICAgICBpZihtc2cuc2VuZGVyID09IHBhcnRuZXIxX2FkZHJlc3MpewogICAgICAgICAgICBwYXJ0bmVyMV92b3RlZF91cGRhdGVfbWFycmlhZ2Vfc3RhdHVzID0gdHJ1ZTsKICAgICAgICAgICAgc2F2ZUNvbnRyYWN0RXZlbnQoIlZvdGUgLSBDaGFuZ2UgTWFyaXRhbCBTdGF0dXMiLCAiUGFydG5lciAxIHZvdGVkIHRvIHVwZGF0ZWQgTWFyaXRhbCBTdGF0dXMiKTsKICAgICAgICB9CiAgICAgICAgaWYobXNnLnNlbmRlciA9PSBwYXJ0bmVyMl9hZGRyZXNzKXsKICAgICAgICAgICAgcGFydG5lcjJfdm90ZWRfdXBkYXRlX21hcnJpYWdlX3N0YXR1cyA9IHRydWU7CiAgICAgICAgICAgIHNhdmVDb250cmFjdEV2ZW50KCJWb3RlIC0gQ2hhbmdlIE1hcml0YWwgU3RhdHVzIiwgIlBhcnRuZXIgMiB2b3RlZCB0byB1cGRhdGVkIE1hcml0YWwgU3RhdHVzIik7CiAgICAgICAgfQogICAgfQogICAgCiAgICAvL0Z1bmN0aW9uIHRvIHZvdGUgdG8gYWxsb3cgZm9yIHVwZGF0aW5nIHByZW51cCwgYm90aCBwYXJ0bmVycyBtdXN0IHZvdGUgdHJ1ZSB0byBhbGxvdyB1cGRhdGUKICAgIGZ1bmN0aW9uIHZvdGVUb1VwZGF0ZVByZW51cCgpIHB1YmxpYyB7CiAgICAgICAgaWYobXNnLnNlbmRlciA9PSBwYXJ0bmVyMV9hZGRyZXNzKXsKICAgICAgICAgICAgcGFydG5lcjFfdm90ZWRfdXBkYXRlX3ByZW51cCA9IHRydWU7CiAgICAgICAgICAgIHNhdmVDb250cmFjdEV2ZW50KCJWb3RlIC0gVXBkYXRlIFByZW51cCIsICJQYXJ0bmVyIDEgdm90ZWQgdG8gdXBkYXRlZCBQcmVudXB0aWFsIEFnZ3JlZW1lbnQiKTsKICAgICAgICB9CiAgICAgICAgaWYobXNnLnNlbmRlciA9PSBwYXJ0bmVyMl9hZGRyZXNzKXsKICAgICAgICAgICAgcGFydG5lcjJfdm90ZWRfdXBkYXRlX3ByZW51cCA9IHRydWU7CiAgICAgICAgICAgIHNhdmVDb250cmFjdEV2ZW50KCJWb3RlIC0gVXBkYXRlIFByZW51cCIsICJQYXJ0bmVyIDIgdm90ZWQgdG8gdXBkYXRlZCBQcmVudXB0aWFsIEFnZ3JlZW1lbnQiKTsKICAgICAgICB9CiAgICB9CgogICAgLy8gVXBkYXRlIGNvdXBsZUltYWdlIGhhc2gsIGVpdGhlciBwYXJ0bmVyIGNhbiB1cGRhdGUKICAgIGZ1bmN0aW9uIHVwZGF0ZUNvdXBsZUltYWdlSVBGU2hhc2goYnl0ZXMgX2NvdXBsZUltYWdlSVBGU2hhc2gpIHB1YmxpY3sKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgbXNnLnNlbmRlciA9PSBwYXJ0bmVyMV9hZGRyZXNzIHx8IG1zZy5zZW5kZXIgPT0gcGFydG5lcjJfYWRkcmVzcyk7CiAgICAgICAgY291cGxlSW1hZ2VJUEZTaGFzaCA9IF9jb3VwbGVJbWFnZUlQRlNoYXNoOwogICAgfQoKICAgIC8vIFVwZGF0ZSBtYXJyaWFnZSBsaWNlbmNlIGltYWdlIGhhc2gsIGVpdGhlciBwYXJ0bmVyIGNhbiB1cGRhdGUKICAgIGZ1bmN0aW9uIHVwZGF0ZU1hcnJpYWdlTGljZW5jZUltYWdlSVBGU2hhc2goYnl0ZXMgX21hcnJpYWdlTGljZW5jZUltYWdlSVBGU2hhc2gpIHB1YmxpY3sKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgbXNnLnNlbmRlciA9PSBwYXJ0bmVyMV9hZGRyZXNzIHx8IG1zZy5zZW5kZXIgPT0gcGFydG5lcjJfYWRkcmVzcyk7CiAgICAgICAgbWFycmlhZ2VMaWNlbmNlSW1hZ2VJUEZTaGFzaCA9IF9tYXJyaWFnZUxpY2VuY2VJbWFnZUlQRlNoYXNoOwogICAgfQoKICAgIC8vIFVwZGF0ZSBwcmVudXAgdGV4dCwgYnV0IG9ubHkgaWYgYm90aCBwYXJ0bmVycyBoYXZlIHByZXZpb3VzbHkgYWdyZWVkIHRvIHVwZGF0ZSB0aGUgcHJlbnVwCiAgICBmdW5jdGlvbiB1cGRhdGVQcmVudXAoc3RyaW5nIF9wcmVudXBBZ3JlZW1lbnQpIHB1YmxpY3sKICAgICAgICByZXF1aXJlKChtc2cuc2VuZGVyID09IG93bmVyIHx8IG1zZy5zZW5kZXIgPT0gcGFydG5lcjFfYWRkcmVzcyB8fCBtc2cuc2VuZGVyID09IHBhcnRuZXIyX2FkZHJlc3MpICYmIChwYXJ0bmVyMV92b3RlZF91cGRhdGVfcHJlbnVwID09IHRydWUpJiYocGFydG5lcjJfdm90ZWRfdXBkYXRlX3ByZW51cCA9PSB0cnVlKSk7CiAgICAgICAgcHJlbnVwQWdyZWVtZW50ID0gX3ByZW51cEFncmVlbWVudDsKICAgICAgICBzYXZlQ29udHJhY3RFdmVudCgiVXBkYXRlIC0gUHJlbnVwIiwgIlByZW51cHRpYWwgQWdyZWVtZW50IFVwZGF0ZWQiKTsKICAgICAgICBwYXJ0bmVyMV92b3RlZF91cGRhdGVfcHJlbnVwID0gZmFsc2U7CiAgICAgICAgcGFydG5lcjJfdm90ZWRfdXBkYXRlX3ByZW51cCA9IGZhbHNlOwogICAgfQogICAgIAogICAgLy8gVXBkYXRlIHBhcnRuZXIgMSB3aWxsLCBvbmx5IHBhcnRuZXIgMSBjYW4gdXBkYXRlCiAgICBmdW5jdGlvbiB1cGRhdGVQYXJ0bmVyMV93aWxsKHN0cmluZyBfcGFydG5lcjFfd2lsbCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gcGFydG5lcjFfYWRkcmVzcyk7CiAgICAgICAgcGFydG5lcjFfd2lsbCA9IF9wYXJ0bmVyMV93aWxsOwogICAgICAgIHNhdmVDb250cmFjdEV2ZW50KCJVcGRhdGUgLSBXaWxsIiwgIlBhcnRuZXIgMSBXaWxsIFVwZGF0ZWQiKTsKICAgIH0KICAKICAgIC8vIFVwZGF0ZSBwYXJ0bmVyIDIgd2lsbCwgb25seSBwYXJ0bmVyIDIgY2FuIHVwZGF0ZQogICAgZnVuY3Rpb24gdXBkYXRlUGFydG5lcjJfd2lsbChzdHJpbmcgX3BhcnRuZXIyX3dpbGwpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHBhcnRuZXIyX2FkZHJlc3MpOwogICAgICAgIHBhcnRuZXIyX3dpbGwgPSBfcGFydG5lcjJfd2lsbDsKICAgICAgICBzYXZlQ29udHJhY3RFdmVudCgiVXBkYXRlIC0gV2lsbCIsICJQYXJ0bmVyIDIgV2lsbCBVcGRhdGVkIik7CiAgICB9CiAgICAKfQ=='.
	

]
