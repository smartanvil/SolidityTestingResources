Class {
	#name : #SRT43480db5adbeb354f3e1e1596443afad056bd63d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT43480db5adbeb354f3e1e1596443afad056bd63d >> base64 [
	^ 'Y29udHJhY3QgVG9rZW4gewoKICAgIC8vLyBAcmV0dXJuIHRvdGFsIGFtb3VudCBvZiB0b2tlbnMKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpIHt9CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgZnJvbSB3aGljaCB0aGUgYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZAogICAgLy8vIEByZXR1cm4gVGhlIGJhbGFuY2UKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7fQoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9CgogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBfZnJvbWAgb24gdGhlIGNvbmRpdGlvbiBpdCBpcyBhcHByb3ZlZCBieSBgX2Zyb21gCiAgICAvLy8gQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQoKICAgIC8vLyBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX2FkZHJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2Ygd2VpIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2ZlcgogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHt9CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKCn0KCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgVG9rZW4gewoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy9EZWZhdWx0IGFzc3VtZXMgdG90YWxTdXBwbHkgY2FuJ3QgYmUgb3ZlciBtYXggKDJeMjU2IC0gMSkuCiAgICAgICAgLy9JZiB5b3VyIHRva2VuIGxlYXZlcyBvdXQgdG90YWxTdXBwbHkgYW5kIGNhbiBpc3N1ZSBtb3JlIHRva2VucyBhcyB0aW1lIGdvZXMgb24sIHlvdSBuZWVkIHRvIGNoZWNrIGlmIGl0IGRvZXNuJ3Qgd3JhcC4KICAgICAgICAvL1JlcGxhY2UgdGhlIGlmIHdpdGggdGhpcyBvbmUgaW5zdGVhZC4KICAgICAgICBpZiAoYmFsYW5jZXNWZXJzaW9uc1t2ZXJzaW9uXS5iYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNWZXJzaW9uc1t2ZXJzaW9uXS5iYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNWZXJzaW9uc1t2ZXJzaW9uXS5iYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgLy9pZiAoYmFsYW5jZXNWZXJzaW9uc1t2ZXJzaW9uXS5iYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCkgewogICAgICAgICAgICBiYWxhbmNlc1ZlcnNpb25zW3ZlcnNpb25dLmJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNWZXJzaW9uc1t2ZXJzaW9uXS5iYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0KICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvL3NhbWUgYXMgYWJvdmUuIFJlcGxhY2UgdGhpcyBsaW5lIHdpdGggdGhlIGZvbGxvd2luZyBpZiB5b3Ugd2FudCB0byBwcm90ZWN0IGFnYWluc3Qgd3JhcHBpbmcgdWludHMuCiAgICAgICAgaWYgKGJhbGFuY2VzVmVyc2lvbnNbdmVyc2lvbl0uYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkVmVyc2lvbnNbdmVyc2lvbl0uYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzVmVyc2lvbnNbdmVyc2lvbl0uYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzVmVyc2lvbnNbdmVyc2lvbl0uYmFsYW5jZXNbX3RvXSkgewogICAgICAgIC8vaWYgKGJhbGFuY2VzVmVyc2lvbnNbdmVyc2lvbl0uYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkVmVyc2lvbnNbdmVyc2lvbl0uYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsKICAgICAgICAgICAgYmFsYW5jZXNWZXJzaW9uc1t2ZXJzaW9uXS5iYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNWZXJzaW9uc1t2ZXJzaW9uXS5iYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgICAgICBhbGxvd2VkVmVyc2lvbnNbdmVyc2lvbl0uYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0KICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1ZlcnNpb25zW3ZlcnNpb25dLmJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFZlcnNpb25zW3ZlcnNpb25dLmFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgcmV0dXJuIGFsbG93ZWRWZXJzaW9uc1t2ZXJzaW9uXS5hbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIC8vdGhpcyBpcyBzbyB3ZSBjYW4gcmVzZXQgdGhlIGJhbGFuY2VzIHdoaWxlIGtlZXBpbmcgdHJhY2sgb2Ygb2xkIHZlcnNpb25zCiAgICB1aW50IHB1YmxpYyB2ZXJzaW9uID0gMDsKCiAgICBzdHJ1Y3QgQmFsYW5jZVN0cnVjdCB7CiAgICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIH0KICAgIG1hcHBpbmcodWludCA9PiBCYWxhbmNlU3RydWN0KSBiYWxhbmNlc1ZlcnNpb25zOwoKICAgIHN0cnVjdCBBbGxvd2VkU3RydWN0IHsKICAgICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwogICAgfQogICAgbWFwcGluZyh1aW50ID0+IEFsbG93ZWRTdHJ1Y3QpIGFsbG93ZWRWZXJzaW9uczsKCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCn0KCmNvbnRyYWN0IFJlc2VydmVUb2tlbiBpcyBTdGFuZGFyZFRva2VuIHsKICAgIGFkZHJlc3MgcHVibGljIG1pbnRlcjsKICAgIGZ1bmN0aW9uIHNldE1pbnRlcigpIHsKICAgICAgICBpZiAobWludGVyPT0weDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDApIHsKICAgICAgICAgICAgbWludGVyID0gbXNnLnNlbmRlcjsKICAgICAgICB9CiAgICB9CiAgICBtb2RpZmllciBvbmx5TWludGVyIHsgaWYgKG1zZy5zZW5kZXIgPT0gbWludGVyKSBfOyB9ICAgIGZ1bmN0aW9uIGNyZWF0ZShhZGRyZXNzIGFjY291bnQsIHVpbnQgYW1vdW50KSBvbmx5TWludGVyIHsKICAgICAgICBiYWxhbmNlc1ZlcnNpb25zW3ZlcnNpb25dLmJhbGFuY2VzW2FjY291bnRdICs9IGFtb3VudDsKICAgICAgICB0b3RhbFN1cHBseSArPSBhbW91bnQ7CiAgICB9CiAgICBmdW5jdGlvbiBkZXN0cm95KGFkZHJlc3MgYWNjb3VudCwgdWludCBhbW91bnQpIG9ubHlNaW50ZXIgewogICAgICAgIGlmIChiYWxhbmNlc1ZlcnNpb25zW3ZlcnNpb25dLmJhbGFuY2VzW2FjY291bnRdIDwgYW1vdW50KSB0aHJvdzsKICAgICAgICBiYWxhbmNlc1ZlcnNpb25zW3ZlcnNpb25dLmJhbGFuY2VzW2FjY291bnRdIC09IGFtb3VudDsKICAgICAgICB0b3RhbFN1cHBseSAtPSBhbW91bnQ7CiAgICB9CiAgICBmdW5jdGlvbiByZXNldCgpIG9ubHlNaW50ZXIgewogICAgICAgIHZlcnNpb24rKzsKICAgICAgICB0b3RhbFN1cHBseSA9IDA7CiAgICB9Cn0KCmNvbnRyYWN0IEV0aGVyRGVsdGEgewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIHRva2VuczsgLy9tYXBwaW5nIG9mIHRva2VuIGFkZHJlc3NlcyB0byBtYXBwaW5nIG9mIGFjY291bnQgYmFsYW5jZXMKICAvL2V0aGVyIGJhbGFuY2VzIGFyZSBoZWxkIGluIHRoZSB0b2tlbj0wIGFjY291bnQKICBtYXBwaW5nIChieXRlczMyID0+IHVpbnQpIG9yZGVyRmlsbHM7CiAgYWRkcmVzcyBwdWJsaWMgZmVlQWNjb3VudDsKICB1aW50IHB1YmxpYyBmZWVNYWtlOyAvL3BlcmNlbnRhZ2UgdGltZXMgKDEgZXRoZXIpCiAgdWludCBwdWJsaWMgZmVlVGFrZTsgLy9wZXJjZW50YWdlIHRpbWVzICgxIGV0aGVyKQoKICBldmVudCBPcmRlcihhZGRyZXNzIHRva2VuR2V0LCB1aW50IGFtb3VudEdldCwgYWRkcmVzcyB0b2tlbkdpdmUsIHVpbnQgYW1vdW50R2l2ZSwgdWludCBleHBpcmVzLCB1aW50IG5vbmNlLCBhZGRyZXNzIHVzZXIsIHVpbnQ4IHYsIGJ5dGVzMzIgciwgYnl0ZXMzMiBzKTsKICBldmVudCBUcmFkZShhZGRyZXNzIHRva2VuR2V0LCB1aW50IGFtb3VudEdldCwgYWRkcmVzcyB0b2tlbkdpdmUsIHVpbnQgYW1vdW50R2l2ZSwgYWRkcmVzcyBnZXQsIGFkZHJlc3MgZ2l2ZSk7CiAgZXZlbnQgRGVwb3NpdChhZGRyZXNzIHRva2VuLCBhZGRyZXNzIHVzZXIsIHVpbnQgYW1vdW50LCB1aW50IGJhbGFuY2UpOwogIGV2ZW50IFdpdGhkcmF3KGFkZHJlc3MgdG9rZW4sIGFkZHJlc3MgdXNlciwgdWludCBhbW91bnQsIHVpbnQgYmFsYW5jZSk7CgogIGZ1bmN0aW9uIEV0aGVyRGVsdGEoYWRkcmVzcyBmZWVBY2NvdW50XywgdWludCBmZWVNYWtlXywgdWludCBmZWVUYWtlXykgewogICAgZmVlQWNjb3VudCA9IGZlZUFjY291bnRfOwogICAgZmVlTWFrZSA9IGZlZU1ha2VfOwogICAgZmVlVGFrZSA9IGZlZVRha2VfOwogIH0KCiAgZnVuY3Rpb24oKSB7CiAgICB0aHJvdzsKICB9CgogIGZ1bmN0aW9uIGRlcG9zaXQoKSB7CiAgICB0b2tlbnNbMF1bbXNnLnNlbmRlcl0gKz0gbXNnLnZhbHVlOwogICAgRGVwb3NpdCgwLCBtc2cuc2VuZGVyLCBtc2cudmFsdWUsIHRva2Vuc1swXVttc2cuc2VuZGVyXSk7CiAgfQoKICBmdW5jdGlvbiB3aXRoZHJhdyh1aW50IGFtb3VudCkgewogICAgaWYgKG1zZy52YWx1ZT4wKSB0aHJvdzsKICAgIGlmICh0b2tlbnNbMF1bbXNnLnNlbmRlcl0gPCBhbW91bnQpIHRocm93OwogICAgdG9rZW5zWzBdW21zZy5zZW5kZXJdIC09IGFtb3VudDsKICAgIGlmICghbXNnLnNlbmRlci5jYWxsLnZhbHVlKGFtb3VudCkoKSkgdGhyb3c7CiAgICBXaXRoZHJhdygwLCBtc2cuc2VuZGVyLCBhbW91bnQsIHRva2Vuc1swXVttc2cuc2VuZGVyXSk7CiAgfQoKICBmdW5jdGlvbiBkZXBvc2l0VG9rZW4oYWRkcmVzcyB0b2tlbiwgdWludCBhbW91bnQpIHsKICAgIC8vcmVtZW1iZXIgdG8gY2FsbCBUb2tlbihhZGRyZXNzKS5hcHByb3ZlKHRoaXMsIGFtb3VudCkgb3IgdGhpcyBjb250cmFjdCB3aWxsIG5vdCBiZSBhYmxlIHRvIGRvIHRoZSB0cmFuc2ZlciBvbiB5b3VyIGJlaGFsZi4KICAgIGlmIChtc2cudmFsdWU+MCB8fCB0b2tlbj09MCkgdGhyb3c7CiAgICBpZiAoIVRva2VuKHRva2VuKS50cmFuc2ZlckZyb20obXNnLnNlbmRlciwgdGhpcywgYW1vdW50KSkgdGhyb3c7CiAgICB0b2tlbnNbdG9rZW5dW21zZy5zZW5kZXJdICs9IGFtb3VudDsKICAgIERlcG9zaXQodG9rZW4sIG1zZy5zZW5kZXIsIGFtb3VudCwgdG9rZW5zW3Rva2VuXVttc2cuc2VuZGVyXSk7CiAgfQoKICBmdW5jdGlvbiB3aXRoZHJhd1Rva2VuKGFkZHJlc3MgdG9rZW4sIHVpbnQgYW1vdW50KSB7CiAgICBpZiAobXNnLnZhbHVlPjAgfHwgdG9rZW49PTApIHRocm93OwogICAgaWYgKHRva2Vuc1t0b2tlbl1bbXNnLnNlbmRlcl0gPCBhbW91bnQpIHRocm93OwogICAgdG9rZW5zW3Rva2VuXVttc2cuc2VuZGVyXSAtPSBhbW91bnQ7CiAgICBpZiAoIVRva2VuKHRva2VuKS50cmFuc2Zlcihtc2cuc2VuZGVyLCBhbW91bnQpKSB0aHJvdzsKICAgIFdpdGhkcmF3KHRva2VuLCBtc2cuc2VuZGVyLCBhbW91bnQsIHRva2Vuc1t0b2tlbl1bbXNnLnNlbmRlcl0pOwogIH0KCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgdG9rZW4sIGFkZHJlc3MgdXNlcikgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgcmV0dXJuIHRva2Vuc1t0b2tlbl1bdXNlcl07CiAgfQoKICBmdW5jdGlvbiBvcmRlcihhZGRyZXNzIHRva2VuR2V0LCB1aW50IGFtb3VudEdldCwgYWRkcmVzcyB0b2tlbkdpdmUsIHVpbnQgYW1vdW50R2l2ZSwgdWludCBleHBpcmVzLCB1aW50IG5vbmNlLCB1aW50OCB2LCBieXRlczMyIHIsIGJ5dGVzMzIgcykgewogICAgaWYgKG1zZy52YWx1ZT4wKSB0aHJvdzsKICAgIE9yZGVyKHRva2VuR2V0LCBhbW91bnRHZXQsIHRva2VuR2l2ZSwgYW1vdW50R2l2ZSwgZXhwaXJlcywgbm9uY2UsIG1zZy5zZW5kZXIsIHYsIHIsIHMpOwogIH0KCiAgZnVuY3Rpb24gdHJhZGUoYWRkcmVzcyB0b2tlbkdldCwgdWludCBhbW91bnRHZXQsIGFkZHJlc3MgdG9rZW5HaXZlLCB1aW50IGFtb3VudEdpdmUsIHVpbnQgZXhwaXJlcywgdWludCBub25jZSwgYWRkcmVzcyB1c2VyLCB1aW50OCB2LCBieXRlczMyIHIsIGJ5dGVzMzIgcywgdWludCBhbW91bnQpIHsKICAgIC8vYW1vdW50IGlzIGluIGFtb3VudEdldCB0ZXJtcwogICAgaWYgKG1zZy52YWx1ZT4wKSB0aHJvdzsKICAgIGJ5dGVzMzIgaGFzaCA9IHNoYTI1Nih0b2tlbkdldCwgYW1vdW50R2V0LCB0b2tlbkdpdmUsIGFtb3VudEdpdmUsIGV4cGlyZXMsIG5vbmNlKTsKICAgIGlmICghKAogICAgICBlY3JlY292ZXIoaGFzaCx2LHIscykgPT0gdXNlciAmJgogICAgICBibG9jay5udW1iZXIgPD0gZXhwaXJlcyAmJgogICAgICBvcmRlckZpbGxzW2hhc2hdICsgYW1vdW50IDw9IGFtb3VudEdldCAmJgogICAgICB0b2tlbnNbdG9rZW5HZXRdW21zZy5zZW5kZXJdID49IGFtb3VudCAmJgogICAgICB0b2tlbnNbdG9rZW5HaXZlXVt1c2VyXSA+PSBhbW91bnRHaXZlICogYW1vdW50IC8gYW1vdW50R2V0CiAgICApKSB0aHJvdzsKICAgIHRva2Vuc1t0b2tlbkdldF1bbXNnLnNlbmRlcl0gLT0gYW1vdW50OwogICAgdG9rZW5zW3Rva2VuR2V0XVt1c2VyXSArPSBhbW91bnQgKiAoKDEgZXRoZXIpIC0gZmVlTWFrZSkgLyAoMSBldGhlcik7CiAgICB0b2tlbnNbdG9rZW5HZXRdW2ZlZUFjY291bnRdICs9IGFtb3VudCAqIGZlZU1ha2UgLyAoMSBldGhlcik7CiAgICB0b2tlbnNbdG9rZW5HaXZlXVt1c2VyXSAtPSBhbW91bnRHaXZlICogYW1vdW50IC8gYW1vdW50R2V0OwogICAgdG9rZW5zW3Rva2VuR2l2ZV1bbXNnLnNlbmRlcl0gKz0gKCgxIGV0aGVyKSAtIGZlZVRha2UpICogYW1vdW50R2l2ZSAqIGFtb3VudCAvIGFtb3VudEdldCAvICgxIGV0aGVyKTsKICAgIHRva2Vuc1t0b2tlbkdpdmVdW2ZlZUFjY291bnRdICs9IGZlZVRha2UgKiBhbW91bnRHaXZlICogYW1vdW50IC8gYW1vdW50R2V0IC8gKDEgZXRoZXIpOwogICAgb3JkZXJGaWxsc1toYXNoXSArPSBhbW91bnQ7CiAgICBUcmFkZSh0b2tlbkdldCwgYW1vdW50LCB0b2tlbkdpdmUsIGFtb3VudEdpdmUgKiBhbW91bnQgLyBhbW91bnRHZXQsIHVzZXIsIG1zZy5zZW5kZXIpOwogIH0KCiAgZnVuY3Rpb24gdGVzdFRyYWRlKGFkZHJlc3MgdG9rZW5HZXQsIHVpbnQgYW1vdW50R2V0LCBhZGRyZXNzIHRva2VuR2l2ZSwgdWludCBhbW91bnRHaXZlLCB1aW50IGV4cGlyZXMsIHVpbnQgbm9uY2UsIGFkZHJlc3MgdXNlciwgdWludDggdiwgYnl0ZXMzMiByLCBieXRlczMyIHMsIHVpbnQgYW1vdW50LCBhZGRyZXNzIHNlbmRlcikgY29uc3RhbnQgcmV0dXJucyhib29sKSB7CiAgICBpZiAoISgKICAgICAgdG9rZW5zW3Rva2VuR2V0XVtzZW5kZXJdID49IGFtb3VudCAmJgogICAgICBhdmFpbGFibGVWb2x1bWUodG9rZW5HZXQsIGFtb3VudEdldCwgdG9rZW5HaXZlLCBhbW91bnRHaXZlLCBleHBpcmVzLCBub25jZSwgdXNlciwgdiwgciwgcykgPj0gYW1vdW50CiAgICApKSByZXR1cm4gZmFsc2U7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGF2YWlsYWJsZVZvbHVtZShhZGRyZXNzIHRva2VuR2V0LCB1aW50IGFtb3VudEdldCwgYWRkcmVzcyB0b2tlbkdpdmUsIHVpbnQgYW1vdW50R2l2ZSwgdWludCBleHBpcmVzLCB1aW50IG5vbmNlLCBhZGRyZXNzIHVzZXIsIHVpbnQ4IHYsIGJ5dGVzMzIgciwgYnl0ZXMzMiBzKSBjb25zdGFudCByZXR1cm5zKHVpbnQpIHsKICAgIGJ5dGVzMzIgaGFzaCA9IHNoYTI1Nih0b2tlbkdldCwgYW1vdW50R2V0LCB0b2tlbkdpdmUsIGFtb3VudEdpdmUsIGV4cGlyZXMsIG5vbmNlKTsKICAgIGlmICghKAogICAgICBlY3JlY292ZXIoaGFzaCx2LHIscykgPT0gdXNlciAmJgogICAgICBibG9jay5udW1iZXIgPD0gZXhwaXJlcwogICAgKSkgcmV0dXJuIDA7CiAgICB1aW50IGF2YWlsYWJsZTEgPSBhbW91bnRHZXQgLSBvcmRlckZpbGxzW2hhc2hdOwogICAgdWludCBhdmFpbGFibGUyID0gdG9rZW5zW3Rva2VuR2l2ZV1bdXNlcl0gKiBhbW91bnRHZXQgLyBhbW91bnRHaXZlOwogICAgaWYgKGF2YWlsYWJsZTE8YXZhaWxhYmxlMikgcmV0dXJuIGF2YWlsYWJsZTE7CiAgICByZXR1cm4gYXZhaWxhYmxlMjsKICB9Cn0='.
	

]
