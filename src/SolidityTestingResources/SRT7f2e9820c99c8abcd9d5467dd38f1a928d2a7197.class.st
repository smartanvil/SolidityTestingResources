Class {
	#name : #SRT7f2e9820c99c8abcd9d5467dd38f1a928d2a7197,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT7f2e9820c99c8abcd9d5467dd38f1a928d2a7197 >> base64 [
	^ 'Ly8gQ29weXJpZ2h0IE5ldyBBbGNoZW15IExpbWl0ZWQsIDIwMTcuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCgpwcmFnbWEgc29saWRpdHkgPj0wLjQuMTA7CgovLyBmcm9tIFplcHBlbGluCmNvbnRyYWN0IFNhZmVNYXRoIHsKCWZ1bmN0aW9uIHNhZmVNdWwodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKCQl1aW50IGMgPSBhICogYjsKCQlyZXF1aXJlKGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKCQlyZXR1cm4gYzsKCX0KCglmdW5jdGlvbiBzYWZlU3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CgkJcmVxdWlyZShiIDw9IGEpOwoJCXJldHVybiBhIC0gYjsKCX0KCglmdW5jdGlvbiBzYWZlQWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CgkJdWludCBjID0gYSArIGI7CgkJcmVxdWlyZShjPj1hICYmIGM+PWIpOwoJCXJldHVybiBjOwoJfQp9Cgpjb250cmFjdCBPd25lZCB7CglhZGRyZXNzIHB1YmxpYyBvd25lcjsKCWFkZHJlc3MgbmV3T3duZXI7CgoJZnVuY3Rpb24gT3duZWQoKSB7CgkJb3duZXIgPSBtc2cuc2VuZGVyOwoJfQoKCW1vZGlmaWVyIG9ubHlPd25lcigpIHsKCQlyZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoJCV87Cgl9CgoJZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIG9ubHlPd25lciB7CgkJbmV3T3duZXIgPSBfbmV3T3duZXI7Cgl9CgoJZnVuY3Rpb24gYWNjZXB0T3duZXJzaGlwKCkgewoJCWlmIChtc2cuc2VuZGVyID09IG5ld093bmVyKSB7CgkJCW93bmVyID0gbmV3T3duZXI7CgkJfQoJfQp9Cgpjb250cmFjdCBQYXVzYWJsZSBpcyBPd25lZCB7Cglib29sIHB1YmxpYyBwYXVzZWQ7CgoJZnVuY3Rpb24gcGF1c2UoKSBvbmx5T3duZXIgewoJCXBhdXNlZCA9IHRydWU7Cgl9CgoJZnVuY3Rpb24gdW5wYXVzZSgpIG9ubHlPd25lciB7CgkJcGF1c2VkID0gZmFsc2U7Cgl9CgoJbW9kaWZpZXIgbm90UGF1c2VkKCkgewoJCXJlcXVpcmUoIXBhdXNlZCk7CgkJXzsKCX0KfQoKY29udHJhY3QgRmluYWxpemFibGUgaXMgT3duZWQgewoJYm9vbCBwdWJsaWMgZmluYWxpemVkOwoKCWZ1bmN0aW9uIGZpbmFsaXplKCkgb25seU93bmVyIHsKCQlmaW5hbGl6ZWQgPSB0cnVlOwoJfQoKCW1vZGlmaWVyIG5vdEZpbmFsaXplZCgpIHsKCQlyZXF1aXJlKCFmaW5hbGl6ZWQpOwoJCV87Cgl9Cn0KCmNvbnRyYWN0IElUb2tlbiB7CglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wpOwoJZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgb3duZXIpIHJldHVybnModWludCk7Cn0KCi8vIEluIGNhc2Ugc29tZW9uZSBhY2NpZGVudGFsbHkgc2VuZHMgdG9rZW4gdG8gb25lIG9mIHRoZXNlIGNvbnRyYWN0cywKLy8gYWRkIGEgd2F5IHRvIGdldCB0aGVtIGJhY2sgb3V0Lgpjb250cmFjdCBUb2tlblJlY2VpdmFibGUgaXMgT3duZWQgewoJZnVuY3Rpb24gY2xhaW1Ub2tlbnMoYWRkcmVzcyBfdG9rZW4sIGFkZHJlc3MgX3RvKSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCkgewoJCUlUb2tlbiB0b2tlbiA9IElUb2tlbihfdG9rZW4pOwoJCXJldHVybiB0b2tlbi50cmFuc2ZlcihfdG8sIHRva2VuLmJhbGFuY2VPZih0aGlzKSk7Cgl9Cn0KCmNvbnRyYWN0IEV2ZW50RGVmaW5pdGlvbnMgewoJZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7CglldmVudCBUcmFuc2ZlckludGVybmFsTGVkZ2VyQVQoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBpbmRleGVkIF92YWx1ZSwgYnl0ZXMzMiBpbmRleGVkIG1kbik7CglldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsKfQoKY29udHJhY3QgVG9rZW4gaXMgRmluYWxpemFibGUsIFRva2VuUmVjZWl2YWJsZSwgU2FmZU1hdGgsIEV2ZW50RGVmaW5pdGlvbnMsIFBhdXNhYmxlIHsKCS8vIFNldCB0aGVzZSBhcHByb3ByaWF0ZWx5IGJlZm9yZSB5b3UgZGVwbG95CglzdHJpbmcgY29uc3RhbnQgcHVibGljIG5hbWUgPSAiQWlyVG9rZW4iOwoJdWludDggY29uc3RhbnQgcHVibGljIGRlY2ltYWxzID0gODsKCXN0cmluZyBjb25zdGFudCBwdWJsaWMgc3ltYm9sID0gIkFJUiI7CglDb250cm9sbGVyIHB1YmxpYyBjb250cm9sbGVyOwoJc3RyaW5nIHB1YmxpYyBtb3RkOwoJYWRkcmVzcyBwdWJsaWMgYXRGdW5kRGVwb3NpdDsKCWV2ZW50IE1vdGQoc3RyaW5nIG1lc3NhZ2UpOwoKCS8vIGZ1bmN0aW9ucyBiZWxvdyB0aGlzIGxpbmUgYXJlIG9ubHlPd25lcgoKCS8vIHNldCAibWVzc2FnZSBvZiB0aGUgZGF5IgoJZnVuY3Rpb24gc2V0TW90ZChzdHJpbmcgX20pIG9ubHlPd25lciB7CgkJbW90ZCA9IF9tOwoJCU1vdGQoX20pOwoJfQoKCWZ1bmN0aW9uIHNldENvbnRyb2xsZXIoYWRkcmVzcyBfYykgb25seU93bmVyIG5vdEZpbmFsaXplZCB7CgkJY29udHJvbGxlciA9IENvbnRyb2xsZXIoX2MpOwoJfQoKCWZ1bmN0aW9uIHNldEJlbmVmaWNpYXJ5KGFkZHJlc3MgX2JlbmVmaWNpYXJ5KSBvbmx5T3duZXIgewoJCWF0RnVuZERlcG9zaXQgPSBfYmVuZWZpY2lhcnk7Cgl9CgoJLy8gZnVuY3Rpb25zIGJlbG93IHRoaXMgbGluZSBhcmUgcHVibGljCgoJZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgYSkgY29uc3RhbnQgcmV0dXJucyAodWludCkgewoJCXJldHVybiBjb250cm9sbGVyLmJhbGFuY2VPZihhKTsKCX0KCglmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKCQlyZXR1cm4gY29udHJvbGxlci50b3RhbFN1cHBseSgpOwoJfQoKCWZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludCkgewoJCXJldHVybiBjb250cm9sbGVyLmFsbG93YW5jZShfb3duZXIsIF9zcGVuZGVyKTsKCX0KCglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgyKSBub3RQYXVzZWQgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgkJaWYgKGNvbnRyb2xsZXIudHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpKSB7CgkJCVRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKCQkJcmV0dXJuIHRydWU7CgkJfQoJCXJldHVybiBmYWxzZTsKCX0KCglmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMykgbm90UGF1c2VkIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCWlmIChjb250cm9sbGVyLnRyYW5zZmVyRnJvbShtc2cuc2VuZGVyLCBfZnJvbSwgX3RvLCBfdmFsdWUpKSB7CgkJCVRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CgkJCXJldHVybiB0cnVlOwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9CgoJZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgb25seVBheWxvYWRTaXplKDIpIG5vdFBhdXNlZCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCQkvLyBwcm9tb3RlIHNhZmUgdXNlciBiZWhhdmlvcgoJCWlmIChjb250cm9sbGVyLmFwcHJvdmUobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSkpIHsKCQkJQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CgkJCXJldHVybiB0cnVlOwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9CgoJZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgb25seVBheWxvYWRTaXplKDIpIG5vdFBhdXNlZCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCQlpZiAoY29udHJvbGxlci5pbmNyZWFzZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfYWRkZWRWYWx1ZSkpIHsKCQkJdWludCBuZXd2YWwgPSBjb250cm9sbGVyLmFsbG93YW5jZShtc2cuc2VuZGVyLCBfc3BlbmRlcik7CgkJCUFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBuZXd2YWwpOwoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgkJcmV0dXJuIGZhbHNlOwoJfQoKCWZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgb25seVBheWxvYWRTaXplKDIpIG5vdFBhdXNlZCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCQlpZiAoY29udHJvbGxlci5kZWNyZWFzZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfc3VidHJhY3RlZFZhbHVlKSkgewoJCQl1aW50IG5ld3ZhbCA9IGNvbnRyb2xsZXIuYWxsb3dhbmNlKG1zZy5zZW5kZXIsIF9zcGVuZGVyKTsKCQkJQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIG5ld3ZhbCk7CgkJCXJldHVybiB0cnVlOwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9CgoJbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgbnVtd29yZHMpIHsKCQlhc3NlcnQobXNnLmRhdGEubGVuZ3RoID49IG51bXdvcmRzICogMzIgKyA0KTsKCQlfOwoJfQoKCWZ1bmN0aW9uIGJ1cm4odWludCBfYW1vdW50KSBub3RQYXVzZWQgewoJCWNvbnRyb2xsZXIuYnVybihtc2cuc2VuZGVyLCBfYW1vdW50KTsKCQlUcmFuc2Zlcihtc2cuc2VuZGVyLCAweDAsIF9hbW91bnQpOwoJfQoKCWZ1bmN0aW9uIHRyYW5zZmVyVG9JbnRlcm5hbExlZGdlcih1aW50MjU2IF92YWx1ZSwgYnl0ZXMzMiBfbWRuKSBleHRlcm5hbCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCQlyZXF1aXJlKGF0RnVuZERlcG9zaXQgIT0gMCk7CgkJaWYgKHRyYW5zZmVyKGF0RnVuZERlcG9zaXQsIF92YWx1ZSkpIHsKCQkJVHJhbnNmZXJJbnRlcm5hbExlZGdlckFUKG1zZy5zZW5kZXIsIGF0RnVuZERlcG9zaXQsIF92YWx1ZSwgX21kbik7CgkJCXJldHVybiB0cnVlOwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9CgoJLy8gZnVuY3Rpb25zIGJlbG93IHRoaXMgbGluZSBhcmUgb25seUNvbnRyb2xsZXIKCgltb2RpZmllciBvbmx5Q29udHJvbGxlcigpIHsKCQlhc3NlcnQobXNnLnNlbmRlciA9PSBhZGRyZXNzKGNvbnRyb2xsZXIpKTsKCQlfOwoJfQoKCS8vIEluIHRoZSBmdXR1cmUsIHdoZW4gdGhlIGNvbnRyb2xsZXIgc3VwcG9ydHMgbXVsdGlwbGUgdG9rZW4KCS8vIGhlYWRzLCBhbGxvdyB0aGUgY29udHJvbGxlciB0byByZWNvbnN0aXR1dGUgdGhlIHRyYW5zZmVyIGFuZAoJLy8gYXBwcm92YWwgaGlzdG9yeS4KCglmdW5jdGlvbiBjb250cm9sbGVyVHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5Q29udHJvbGxlciB7CgkJVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKCX0KCglmdW5jdGlvbiBjb250cm9sbGVyQXBwcm92ZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIG9ubHlDb250cm9sbGVyIHsKCQlBcHByb3ZhbChfb3duZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwoJfQp9Cgpjb250cmFjdCBDb250cm9sbGVyIGlzIE93bmVkLCBGaW5hbGl6YWJsZSB7CglMZWRnZXIgcHVibGljIGxlZGdlcjsKCVRva2VuIHB1YmxpYyB0b2tlbjsKCglmdW5jdGlvbiBDb250cm9sbGVyKCkgewoJfQoKCS8vIGZ1bmN0aW9ucyBiZWxvdyB0aGlzIGxpbmUgYXJlIG9ubHlPd25lcgoKCWZ1bmN0aW9uIHNldFRva2VuKGFkZHJlc3MgX3Rva2VuKSBvbmx5T3duZXIgewoJCXRva2VuID0gVG9rZW4oX3Rva2VuKTsKCX0KCglmdW5jdGlvbiBzZXRMZWRnZXIoYWRkcmVzcyBfbGVkZ2VyKSBvbmx5T3duZXIgewoJCWxlZGdlciA9IExlZGdlcihfbGVkZ2VyKTsKCX0KCgltb2RpZmllciBvbmx5VG9rZW4oKSB7CgkJcmVxdWlyZShtc2cuc2VuZGVyID09IGFkZHJlc3ModG9rZW4pKTsKCQlfOwoJfQoKCW1vZGlmaWVyIG9ubHlMZWRnZXIoKSB7CgkJcmVxdWlyZShtc2cuc2VuZGVyID09IGFkZHJlc3MobGVkZ2VyKSk7CgkJXzsKCX0KCgkvLyBwdWJsaWMgZnVuY3Rpb25zCgoJZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CgkJcmV0dXJuIGxlZGdlci50b3RhbFN1cHBseSgpOwoJfQoKCWZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9hKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CgkJcmV0dXJuIGxlZGdlci5iYWxhbmNlT2YoX2EpOwoJfQoKCWZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludCkgewoJCXJldHVybiBsZWRnZXIuYWxsb3dhbmNlKF9vd25lciwgX3NwZW5kZXIpOwoJfQoKCS8vIGZ1bmN0aW9ucyBiZWxvdyB0aGlzIGxpbmUgYXJlIG9ubHlMZWRnZXIKCgkvLyBsZXQgdGhlIGxlZGdlciBzZW5kIHRyYW5zZmVyIGV2ZW50cyAodGhlIG1vc3Qgb2J2aW91cyBjYXNlCgkvLyBpcyB3aGVuIHdlIG1pbnQgZGlyZWN0bHkgdG8gdGhlIGxlZGdlciBhbmQgbmVlZCB0aGUgVHJhbnNmZXIoKQoJLy8gZXZlbnRzIHRvIGFwcGVhciBpbiB0aGUgdG9rZW4pCglmdW5jdGlvbiBsZWRnZXJUcmFuc2ZlcihhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsKSBvbmx5TGVkZ2VyIHsKCQl0b2tlbi5jb250cm9sbGVyVHJhbnNmZXIoZnJvbSwgdG8sIHZhbCk7Cgl9CgoJLy8gZnVuY3Rpb25zIGJlbG93IHRoaXMgbGluZSBhcmUgb25seVRva2VuCgoJZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5VG9rZW4gcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgkJcmV0dXJuIGxlZGdlci50cmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwoJfQoKCWZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9zcGVuZGVyLCBhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlUb2tlbiByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCQlyZXR1cm4gbGVkZ2VyLnRyYW5zZmVyRnJvbShfc3BlbmRlciwgX2Zyb20sIF90bywgX3ZhbHVlKTsKCX0KCglmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgb25seVRva2VuIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCXJldHVybiBsZWRnZXIuYXBwcm92ZShfb3duZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwoJfQoKCWZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSBvbmx5VG9rZW4gcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgkJcmV0dXJuIGxlZGdlci5pbmNyZWFzZUFwcHJvdmFsKF9vd25lciwgX3NwZW5kZXIsIF9hZGRlZFZhbHVlKTsKCX0KCglmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBvbmx5VG9rZW4gcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgkJcmV0dXJuIGxlZGdlci5kZWNyZWFzZUFwcHJvdmFsKF9vd25lciwgX3NwZW5kZXIsIF9zdWJ0cmFjdGVkVmFsdWUpOwoJfQoKCWZ1bmN0aW9uIGJ1cm4oYWRkcmVzcyBfb3duZXIsIHVpbnQgX2Ftb3VudCkgb25seVRva2VuIHsKCQlsZWRnZXIuYnVybihfb3duZXIsIF9hbW91bnQpOwoJfQp9Cgpjb250cmFjdCBMZWRnZXIgaXMgT3duZWQsIFNhZmVNYXRoLCBGaW5hbGl6YWJsZSB7CglDb250cm9sbGVyIHB1YmxpYyBjb250cm9sbGVyOwoJbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBiYWxhbmNlT2Y7CgltYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIHB1YmxpYyBhbGxvd2FuY2U7Cgl1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsKCXVpbnQgcHVibGljIG1pbnRpbmdOb25jZTsKCWJvb2wgcHVibGljIG1pbnRpbmdTdG9wcGVkOwoKCS8vIGZ1bmN0aW9ucyBiZWxvdyB0aGlzIGxpbmUgYXJlIG9ubHlPd25lcgoKCWZ1bmN0aW9uIExlZGdlcigpIHsKCX0KCglmdW5jdGlvbiBzZXRDb250cm9sbGVyKGFkZHJlc3MgX2NvbnRyb2xsZXIpIG9ubHlPd25lciBub3RGaW5hbGl6ZWQgewoJCWNvbnRyb2xsZXIgPSBDb250cm9sbGVyKF9jb250cm9sbGVyKTsKCX0KCglmdW5jdGlvbiBzdG9wTWludGluZygpIG9ubHlPd25lciB7CgkJbWludGluZ1N0b3BwZWQgPSB0cnVlOwoJfQoKCWZ1bmN0aW9uIG11bHRpTWludCh1aW50IG5vbmNlLCB1aW50MjU2W10gYml0cykgb25seU93bmVyIHsKCQlyZXF1aXJlKCFtaW50aW5nU3RvcHBlZCk7CgkJaWYgKG5vbmNlICE9IG1pbnRpbmdOb25jZSkgcmV0dXJuOwoJCW1pbnRpbmdOb25jZSArPSAxOwoJCXVpbnQyNTYgbG9tYXNrID0gKDEgPDwgOTYpIC0gMTsKCQl1aW50IGNyZWF0ZWQgPSAwOwoJCWZvciAodWludCBpPTA7IGk8Yml0cy5sZW5ndGg7IGkrKykgewoJCQlhZGRyZXNzIGEgPSBhZGRyZXNzKGJpdHNbaV0+Pjk2KTsKCQkJdWludCB2YWx1ZSA9IGJpdHNbaV0mbG9tYXNrOwoJCQliYWxhbmNlT2ZbYV0gPSBiYWxhbmNlT2ZbYV0gKyB2YWx1ZTsKCQkJY29udHJvbGxlci5sZWRnZXJUcmFuc2ZlcigwLCBhLCB2YWx1ZSk7CgkJCWNyZWF0ZWQgKz0gdmFsdWU7CgkJfQoJCXRvdGFsU3VwcGx5ICs9IGNyZWF0ZWQ7Cgl9CgoJLy8gZnVuY3Rpb25zIGJlbG93IHRoaXMgbGluZSBhcmUgb25seUNvbnRyb2xsZXIKCgltb2RpZmllciBvbmx5Q29udHJvbGxlcigpIHsKCQlyZXF1aXJlKG1zZy5zZW5kZXIgPT0gYWRkcmVzcyhjb250cm9sbGVyKSk7CgkJXzsKCX0KCglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlDb250cm9sbGVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCWlmIChiYWxhbmNlT2ZbX2Zyb21dIDwgX3ZhbHVlKSByZXR1cm4gZmFsc2U7CgoJCWJhbGFuY2VPZltfZnJvbV0gPSBzYWZlU3ViKGJhbGFuY2VPZltfZnJvbV0sIF92YWx1ZSk7CgkJYmFsYW5jZU9mW190b10gPSBzYWZlQWRkKGJhbGFuY2VPZltfdG9dLCBfdmFsdWUpOwoJCXJldHVybiB0cnVlOwoJfQoKCWZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9zcGVuZGVyLCBhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlDb250cm9sbGVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCWlmIChiYWxhbmNlT2ZbX2Zyb21dIDwgX3ZhbHVlKSByZXR1cm4gZmFsc2U7CgoJCXZhciBhbGxvd2VkID0gYWxsb3dhbmNlW19mcm9tXVtfc3BlbmRlcl07CgkJaWYgKGFsbG93ZWQgPCBfdmFsdWUpIHJldHVybiBmYWxzZTsKCgkJYmFsYW5jZU9mW190b10gPSBzYWZlQWRkKGJhbGFuY2VPZltfdG9dLCBfdmFsdWUpOwoJCWJhbGFuY2VPZltfZnJvbV0gPSBzYWZlU3ViKGJhbGFuY2VPZltfZnJvbV0sIF92YWx1ZSk7CgkJYWxsb3dhbmNlW19mcm9tXVtfc3BlbmRlcl0gPSBzYWZlU3ViKGFsbG93ZWQsIF92YWx1ZSk7CgkJcmV0dXJuIHRydWU7Cgl9CgoJZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIG9ubHlDb250cm9sbGVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCS8vIHJlcXVpcmUgdXNlciB0byBzZXQgdG8gemVybyBiZWZvcmUgcmVzZXR0aW5nIHRvIG5vbnplcm8KCQlpZiAoKF92YWx1ZSAhPSAwKSAmJiAoYWxsb3dhbmNlW19vd25lcl1bX3NwZW5kZXJdICE9IDApKSB7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCWFsbG93YW5jZVtfb3duZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKCQlyZXR1cm4gdHJ1ZTsKCX0KCglmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgb25seUNvbnRyb2xsZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgkJdWludCBvbGRWYWx1ZSA9IGFsbG93YW5jZVtfb3duZXJdW19zcGVuZGVyXTsKCQlhbGxvd2FuY2VbX293bmVyXVtfc3BlbmRlcl0gPSBzYWZlQWRkKG9sZFZhbHVlLCBfYWRkZWRWYWx1ZSk7CgkJcmV0dXJuIHRydWU7Cgl9CgoJZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgb25seUNvbnRyb2xsZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgkJdWludCBvbGRWYWx1ZSA9IGFsbG93YW5jZVtfb3duZXJdW19zcGVuZGVyXTsKCQlpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CgkJCWFsbG93YW5jZVtfb3duZXJdW19zcGVuZGVyXSA9IDA7CgkJfSBlbHNlIHsKCQkJYWxsb3dhbmNlW19vd25lcl1bX3NwZW5kZXJdID0gc2FmZVN1YihvbGRWYWx1ZSwgX3N1YnRyYWN0ZWRWYWx1ZSk7CgkJfQoJCXJldHVybiB0cnVlOwoJfQoKCWZ1bmN0aW9uIGJ1cm4oYWRkcmVzcyBfb3duZXIsIHVpbnQgX2Ftb3VudCkgb25seUNvbnRyb2xsZXIgewoJCWJhbGFuY2VPZltfb3duZXJdID0gc2FmZVN1YihiYWxhbmNlT2ZbX293bmVyXSwgX2Ftb3VudCk7CgkJdG90YWxTdXBwbHkgPSBzYWZlU3ViKHRvdGFsU3VwcGx5LCBfYW1vdW50KTsKCX0KfQ=='.
	

]
