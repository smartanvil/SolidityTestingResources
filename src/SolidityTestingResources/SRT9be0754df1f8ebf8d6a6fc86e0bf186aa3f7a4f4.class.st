Class {
	#name : #SRT9be0754df1f8ebf8d6a6fc86e0bf186aa3f7a4f4,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9be0754df1f8ebf8d6a6fc86e0bf186aa3f7a4f4 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7CgovLy8gQHRpdGxlIFBoYXNlIE9uZSBvZiBTRUMgQ29pbiBDcm93ZCBTYWxlLCA5JSBvZiB0b3RhbCBzdXBwbHksIDEgRVRIID0gNywwMDAgU0VDCi8vLyBPdXIgaG9tZXBhZ2U6IGh0dHA6Ly9zZWN0ZWNoLm1lLwovLy8gU2FsZSBpcyB1bmRlciB0aGUgcHJvdGVjdCBvZiBjb250cmFjdC4KLy8vIEBhdXRob3IgRGlhbmEgS3Vkcm93Cgpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9Cgpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgLy8vQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyYWNjb3VudC4KICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgLy8vIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICBpZiAobmV3T3duZXIgIT0gYWRkcmVzcygwKSkgewogICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQogIH0KfQoKY29udHJhY3QgUGF1c2FibGUgaXMgT3duYWJsZSB7CiAgZXZlbnQgUGF1c2UoKTsKICBldmVudCBVbnBhdXNlKCk7CiAgYm9vbCBwdWJsaWMgcGF1c2VkID0gZmFsc2U7CgogIC8vLyBAZGV2IG1vZGlmaWVyIHRvIGFsbG93IGFjdGlvbnMgb25seSB3aGVuIHRoZSBjb250cmFjdCBJUyBwYXVzZWQKICBtb2RpZmllciB3aGVuTm90UGF1c2VkKCkgewogICAgcmVxdWlyZSghcGF1c2VkKTtfOwogIH0KCiAgLy8vIEBkZXYgbW9kaWZpZXIgdG8gYWxsb3cgYWN0aW9ucyBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IElTIE5PVCBwYXVzZWQKICBtb2RpZmllciB3aGVuUGF1c2VkIHsKICAgIHJlcXVpcmUocGF1c2VkKTtfOwogIH0KCiAgLy8vIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byBwYXVzZSwgdHJpZ2dlcnMgc3RvcHBlZCBzdGF0ZQogIGZ1bmN0aW9uIHBhdXNlKCkgb25seU93bmVyIHdoZW5Ob3RQYXVzZWQgcmV0dXJucyAoYm9vbCkgewogICAgcGF1c2VkID0gdHJ1ZTsKICAgIFBhdXNlKCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8vLyBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gdW5wYXVzZSwgcmV0dXJucyB0byBub3JtYWwgc3RhdGUKICBmdW5jdGlvbiB1bnBhdXNlKCkgb25seU93bmVyIHdoZW5QYXVzZWQgcmV0dXJucyAoYm9vbCkgewogICAgcGF1c2VkID0gZmFsc2U7CiAgICBVbnBhdXNlKCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYywgT3duYWJsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KfQoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgIC8vIHJlcXVpcmUgKF92YWx1ZSA8PSBfYWxsb3dhbmNlKTsKCiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCn0KCmNvbnRyYWN0IEJ1cm5hYmxlVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgUGF1c2FibGUgewoKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGJ1cm5lciwgdWludDI1NiB2YWx1ZSk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSB3aGVuTm90UGF1c2VkIHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEJ1cm5zIGEgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgZnJvbSBtZXNzYWdlciBzZW5kZXIncyBhY2NvdW50LgogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBidXJuLgogICAgICovCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSB3aGVuTm90UGF1c2VkIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPiAwKTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKF92YWx1ZSk7ICAvLyByZWR1Y2UgdG90YWwgc3VwcGx5IGFmdGVyIGJ1cm4KICAgICAgICBCdXJuKG1zZy5zZW5kZXIsIF92YWx1ZSk7CiAgICB9Cn0KCmNvbnRyYWN0IFNFQ1Rva2VuIGlzIEJ1cm5hYmxlVG9rZW4gewoKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIlNFQyI7CiAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAiRXJpc2VkKFNFQykiOwogICAgdWludDggcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CgogICAgZnVuY3Rpb24gU0VDVG9rZW4oKSB7CiAgICAgICAgdWludDI1NiBfdG90YWxTdXBwbHkgPSA1Njc2NDgwMDA7IC8vIDM2MDBzZWMgKiAyNGhyICogMzY1ZGF5ICogMTh5ZWFyCiAgICAgICAgdWludDI1NiBjYXBhY2l0eSA9IF90b3RhbFN1cHBseS5tdWwoMSBldGhlcik7CiAgICAgICAgdG90YWxTdXBwbHkgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGNhcGFjaXR5OwogICAgfQoKICAgIGZ1bmN0aW9uIHNldE5hbWUoc3RyaW5nIG5hbWVfKSBvbmx5T3duZXIgewogICAgICAgIG5hbWUgPSBuYW1lXzsKICAgIH0KCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSB3aGVuTm90UGF1c2VkIHB1YmxpYyB7CiAgICAgICAgc3VwZXIuYnVybihfdmFsdWUpOwogICAgfQoKfQoKY29udHJhY3QgU2VjQ3Jvd2RTYWxlIGlzIFBhdXNhYmxlewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogICAgLy8gVG90YWwgU3VwcGx5IG9mIENyb3dkU2FsZSBmaXJzdCBwZXJpb2QKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IE1BWF9DQVAgPSA1MTA4ODMyMDAwMDAwMDAwMDAwMDAwMDAwMDsgIC8vNTEsMDg4LDMyMCBTRUMgQ29pbiwgOSUgb2YgdG90YWwgc3VwcGx5CiAgICAvLyBNaW5pbXVtIGFtb3VudCB0byBpbnZlc3QKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IE1JTl9JTlZFU1RfRVRIRVIgPSAwLjEgZXRoZXI7CiAgICAvLyBDcm93ZHNhbGUgcGVyaW9kCiAgICB1aW50IHByaXZhdGUgY29uc3RhbnQgQ1JPV0RTQUxFX1BFUklPRCA9IDE1IGRheXM7CiAgICAvLyBOdW1iZXIgb2YgU0VDQ29pbnMgcGVyIEV0aGVyCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBTRUNfUEVSX0VUSEVSID0gNzAwMDAwMDAwMDAwMDAwMDAwMDAwMDsgLy8gMUVUSCA9IDcsMDAwIFNFQyBDb2luCiAgICAvLyBTRUMgVG9rZW4gbWFpbiBjb250cmFjdCBhZGRyZXNzCiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBTRUNfY29udHJhY3QgPSAweDQxZmY5NjdmOWY4ZWM1OGFiZjg4Y2ExY2FhNjIzYjNmZDYyNzcxOTE7CgogICAgLy9TRUNDb2luIGNvbnRyYWN0IHJlZmVyZW5jZQogICAgU0VDVG9rZW4gcHVibGljIFNFQ0NvaW47CiAgICAvLyBOdW1iZXIgb2YgRXRoZXIgcmVjZWl2ZWQKICAgIHVpbnQgcHVibGljIGV0aGVyUmVjZWl2ZWQ7CiAgICAvLyBOdW1iZXIgb2YgU0VDQ29pbnMgc2VudCB0byBFdGhlciBjb250cmlidXRvcnMKICAgIHVpbnQgcHVibGljIFNFQ0NvaW5Tb2xkOwogICAgLy8gQ3Jvd2RzYWxlIHN0YXJ0IHRpbWUKICAgIHVpbnQgcHVibGljIHN0YXJ0VGltZTsKICAgIC8vIENyb3dkc2FsZSBlbmQgdGltZQogICAgdWludCBwdWJsaWMgZW5kVGltZTsKICAgIC8vIElzIGNyb3dkc2FsZSBzdGlsbCBvbiBnb2luZwogICAgYm9vbCBwdWJsaWMgY3Jvd2RTYWxlQ2xvc2VkOwoKICAgIG1vZGlmaWVyIHJlc3BlY3RUaW1lRnJhbWUoKSB7CiAgICAgICAgcmVxdWlyZSgobm93ID49IHN0YXJ0VGltZSkgfHwgKG5vdyA8PSBlbmRUaW1lICkpO187CiAgICB9CgogICAgZXZlbnQgTG9nUmVjZWl2ZWRFVEgoYWRkcmVzcyBhZGRyLCB1aW50IHZhbHVlKTsKICAgIGV2ZW50IExvZ0NvaW5zRW1pdGVkKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50IGFtb3VudCk7CgogICAgZnVuY3Rpb24gQ3Jvd2RTYWxlKCkgewogICAgICAgIFNFQ0NvaW4gPSBTRUNUb2tlbihTRUNfY29udHJhY3QpOwogICAgfQoKICAgIC8vLyBUaGUgZmFsbGJhY2sgZnVuY3Rpb24gY29ycmVzcG9uZHMgdG8gYSBkb25hdGlvbiBpbiBFVEgKICAgIGZ1bmN0aW9uKCkgd2hlbk5vdFBhdXNlZCByZXNwZWN0VGltZUZyYW1lIHBheWFibGUgewogICAgICAgIEJ1eVRva2VuU2FmZShtc2cuc2VuZGVyKTsKICAgIH0KCiAgICAvKgogICAgICogVG8gY2FsbCB0byBzdGFydCB0aGUgY3Jvd2RzYWxlCiAgICAgKi8KICAgIGZ1bmN0aW9uIHN0YXJ0KCkgb25seU93bmVyIGV4dGVybmFsewogICAgICAgIHJlcXVpcmUoc3RhcnRUaW1lID09IDApOyAvLyBDcm93ZHNhbGUgd2FzIGFscmVhZHkgc3RhcnRlZAogICAgICAgIHN0YXJ0VGltZSA9IG5vdyA7CiAgICAgICAgZW5kVGltZSA9ICBub3cgKyBDUk9XRFNBTEVfUEVSSU9EOwogICAgfQoKICAgIC8vLyBSZWNlaXZlcyBhIGRvbmF0aW9uIGluIEV0aGVyb3NlLCBzZW5kIFNFQyB0b2tlbiBpbW1lZGlhdGVseQogICAgZnVuY3Rpb24gQnV5VG9rZW5TYWZlKGFkZHJlc3MgYmVuZWZpY2lhcnkpIGludGVybmFsIHsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBNSU5fSU5WRVNUX0VUSEVSKTsgLy8gRG9uJ3QgYWNjZXB0IGZ1bmRpbmcgdW5kZXIgYSBwcmVkZWZpbmVkIHRocmVzaG9sZAogICAgICAgIHVpbnQgU2VjVG9TZW5kID0gbXNnLnZhbHVlLm11bChTRUNfUEVSX0VUSEVSKS5kaXYoMSBldGhlcik7IC8vIENvbXB1dGUgdGhlIG51bWJlciBvZiBTRUNDb2luIHRvIHNlbmQKICAgICAgICByZXF1aXJlKFNlY1RvU2VuZC5hZGQoU0VDQ29pblNvbGQpIDw9IE1BWF9DQVApOwogICAgICAgIFNFQ0NvaW4udHJhbnNmZXIoYmVuZWZpY2lhcnksIFNlY1RvU2VuZCk7IC8vIFRyYW5zZmVyIFNFQyBDb2lucyByaWdodCBub3cKICAgICAgICBldGhlclJlY2VpdmVkID0gZXRoZXJSZWNlaXZlZC5hZGQobXNnLnZhbHVlKTsgLy8gVXBkYXRlIHRoZSB0b3RhbCB3ZWkgY29sbGVjdGVkIGR1cmluZyB0aGUgY3Jvd2RmdW5kaW5nCiAgICAgICAgU0VDQ29pblNvbGQgPSBTRUNDb2luU29sZC5hZGQoU2VjVG9TZW5kKTsKICAgICAgICAvLyBTZW5kIGV2ZW50cwogICAgICAgIExvZ0NvaW5zRW1pdGVkKG1zZy5zZW5kZXIgLFNlY1RvU2VuZCk7CiAgICAgICAgTG9nUmVjZWl2ZWRFVEgoYmVuZWZpY2lhcnksIGV0aGVyUmVjZWl2ZWQpOwogICAgfQoKICAgIC8vLyBDbG9zZSB0aGUgY3Jvd2RzYWxlLCBzaG91bGQgYmUgY2FsbGVkIGFmdGVyIHRoZSByZWZ1bmQgcGVyaW9kCiAgICBmdW5jdGlvbiBmaW5pc2hTYWZlKGFkZHJlc3MgYnVybmVyKSBvbmx5T3duZXIgZXh0ZXJuYWx7CiAgICAgICAgcmVxdWlyZShidXJuZXIhPWFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUobm93ID4gZW5kVGltZSB8fCBTRUNDb2luU29sZCA9PSBNQVhfQ0FQKTsgLy8gZW5kIHRpbWUgb3Igc29sZCBvdXQKICAgICAgICBvd25lci5zZW5kKHRoaXMuYmFsYW5jZSk7IC8vIE1vdmUgdGhlIHJlbWFpbmluZyBFdGhlciB0byBjb250cmFjdCBmb3VuZGVyIGFkZHJlc3MKICAgICAgICB1aW50IHJlbWFpbnMgPSBTRUNDb2luLmJhbGFuY2VPZih0aGlzKTsKICAgICAgICBpZiAocmVtYWlucyA+IDApIHsgLy8gQnVybiB0aGUgcmVzdCBvZiBTRUNDb2lucwogICAgICAgICAgICBTRUNDb2luLnRyYW5zZmVyKGJ1cm5lciwgcmVtYWlucyk7CiAgICAgICAgfQogICAgICAgIGNyb3dkU2FsZUNsb3NlZCA9IHRydWU7CiAgICB9Cn0='.
	

]
