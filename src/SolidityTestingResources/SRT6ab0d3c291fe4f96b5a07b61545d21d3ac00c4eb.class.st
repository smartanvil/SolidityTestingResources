Class {
	#name : #SRT6ab0d3c291fe4f96b5a07b61545d21d3ac00c4eb,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT6ab0d3c291fe4f96b5a07b61545d21d3ac00c4eb >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBCbG9ja2VkcyB7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBibG9ja2VkOwoKICBldmVudCBCbG9ja2VkKGFkZHJlc3MgX2FkZHIpOwogIGV2ZW50IFVuYmxvY2tlZChhZGRyZXNzIF9hZGRyKTsKCiAgZnVuY3Rpb24gYmxvY2tBZGRyZXNzKGFkZHJlc3MgX2FkZHIpIHB1YmxpYyB7CiAgICByZXF1aXJlKCFibG9ja2VkW19hZGRyXSk7CiAgICBibG9ja2VkW19hZGRyXSA9IHRydWU7CgogICAgQmxvY2tlZChfYWRkcik7CiAgfQoKICBmdW5jdGlvbiB1bmJsb2NrQWRkcmVzcyhhZGRyZXNzIF9hZGRyKSBwdWJsaWMgewogICAgcmVxdWlyZShibG9ja2VkW19hZGRyXSk7CiAgICBibG9ja2VkW19hZGRyXSA9IGZhbHNlOwoKICAgIFVuYmxvY2tlZChfYWRkcik7CiAgfQp9CgovKgogICAg7KCA7J6R6raMIDIwMTYsIEpvcmRpIEJheWxpbmEKCiAgICDsnbQg7ZSE66Gc6re4656o7J2AIOustOujjCDshoztlITtirjsm6jslrTsnoXri4jri6QuCiAgICDsnbQg7ZSE66Gc6re4656o7J2AIEZyZWUgU29mdCB3YXJlIEZvdW5kYXRpb27sl5DshJwKICAgIOqyjOyLnO2VmOuKlCBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZeydmAogICAg7KGw6rG07JeQIOuUsOudvCDrnbzsnbTshLzsiqTsnZgg67KE7KCEIDPrmJDripQo7ISg7YOdIOyCrO2VreycvOuhnCkKICAgIOydtO2bhCDrsoTsoITsnLzroZwg7J6s67Cw7Y+sIOuwjyDrmJDripQg7IiY7KCV7ZWgIOyImCDsnojsirXri4jri6QuCgogICAg7J20IO2UhOuhnOq3uOueqOydgCDsnKDsmqntlaAg6rKD7J2EIOq4sOuMgO2VmOyXrCDrsLDtj6zrkJjsp4Drp4wsCiAgICDsg4HtkojshLHsnbTrgpgg7Yq57KCVIOuqqeyggeyXkCDrjIDtlZwg7KCB7ZWp7ISx7J2YIOusteyLnOyggQogICAg67O07Kad64+EIOyXhuydtCDrqqjrk6Ag67O07KadIOyXhuydtCDsoJzqs7XrkKnri4jri6QuCiAgICDsnpDshLjtlZwg64K07Jqp7J2AIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNl66W8IOywuOyhsO2VmOyLreyLnOyYpC4KCiAgICDsnbQg7ZSE66Gc6re4656o6rO8IO2VqOq7mCBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSDsgqzrs7jsnYQg67Cb7JWE7JW87ZWp64uI64ukLgogICAg6re466CH7KeAIOyViuycvOuptCwg7LC47KGwIDogPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+CiAqLwoKLyoKICogQHRpdGxlIE1pbmlNZVRva2VuCiAqIEBhdXRob3IgSm9yZGkgQmF5bGluYQogKiBAZGV2IOydtCDthqDtgbAg6rOE7JW97J2YIOuqqe2RnOuKlCDsnbQg7Yag7YGw7J2EIOyGkOyJveqyjCDrs7XsoJztlZjripQg6rKD7J6F64uI64ukLgogKiAgICAgIO2GoO2BsOydhCDsgqzsmqntlZjrqbQg7KeA7KCV65CcIOu4lOuhneyXkOyEnCBEQU8g67CPIERBcHBz6rCAIOybkOuemCDthqDtgbDsl5Ag7JiB7Zal7J2EIOyjvOyngCDslYrqs6Ag6riw64ql7J2EIOu2hOyCsOuQnCDrsKnsi53snLzroZwg7JeF6re466CI7J2065Oc7ZWgIOyImCDsnojsirXri4jri6QuCiAqIEBkZXYgRVJDMjDqs7wg7Zi47ZmY65CY7KeA66eMIOy2lOqwgCDthYzsiqTtirjrpbwg7KeE7ZaJ7ZW07JW87ZWp64uI64ukLgoqLwpjb250cmFjdCBDb250cm9sbGVkIHsKICAgIC8vIOy7qO2KuOuhpOufrOydmCDso7zshozripQg7J20IOyImOyglSDtlITroZzqt7jrnqjsnLzroZwg7ZWo7IiY66W8IO2YuOy2nO2VoCDsiJgg7J6I64qUIOycoOydvO2VnCDso7zshozsnoXri4jri6QuCiAgICBtb2RpZmllciBvbmx5Q29udHJvbGxlciB7IHJlcXVpcmUobXNnLnNlbmRlciA9PSBjb250cm9sbGVyKTsgXzsgfQoKICAgIGFkZHJlc3MgcHVibGljIGNvbnRyb2xsZXI7CgogICAgZnVuY3Rpb24gQ29udHJvbGxlZCgpIHB1YmxpYyB7IGNvbnRyb2xsZXIgPSBtc2cuc2VuZGVyO30KCiAgICAvLyAgICAgICAgICAgICAgICDqs4Tslb0g64u57IKs7J6QCiAgICAvLyBfbmV3Q29udHJvbGxlciDsg4jroZzsmrQg6rOE7JW97J6QCiAgICBmdW5jdGlvbiBjaGFuZ2VDb250cm9sbGVyKGFkZHJlc3MgX25ld0NvbnRyb2xsZXIpIHB1YmxpYyBvbmx5Q29udHJvbGxlciB7CiAgICAgICAgY29udHJvbGxlciA9IF9uZXdDb250cm9sbGVyOwogICAgfQp9CgoKCi8vIO2GoO2BsCDsu6jtirjroaTrn6wg6rOE7JW97JeQ7IScIOydtOufrO2VnCDquLDriqXsnYQg6rWs7ZiE7ZW07JW8IO2VqeuLiOuLpC4KY29udHJhY3QgVG9rZW5Db250cm9sbGVyIHsKICAgIC8vIEBub3RpY2UgYF9vd25lcmDqsIAg7J20642U66as7JuA7J2EIE1pbmlNZVRva2VuIOqzhOyVveyXkCDrs7Trgrwg65WMIO2YuOy2nOuQqeuLiOuLpC4KICAgIC8vIEBwYXJhbSAgIF9vd25lciDthqDtgbDsnYQg7IOd7ISx7ZWY6riwIOychO2VtCDsnbTrjZTrpqzsm4DsnYQg67O064K4IOyjvOyGjAogICAgLy8gQHJldHVybiAgICAgICAgIOydtOuNlOumrOybgOydtCDsoJXsg4Eg7KCE7Iah65CY64qUIOqyveyasOuKlCB0cnVlLCDslYTri4wg6rK97Jqw64qUIGZhbHNlCiAgICBmdW5jdGlvbiBwcm94eVBheW1lbnQoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBwYXlhYmxlIHJldHVybnMoYm9vbCk7CgogICAgLy8gQG5vdGljZSAgICAgICAgIOy7qO2KuOuhpOufrOyXkCDthqDtgbAg7KCE7Iah7JeQIOuMgO2VtCDslYzrpr3ri4jri6QuCiAgICAvLyAgICAgICAgICAgICAgICAg7JuQ7ZWY64qUIOqyveyasCDrsJjsnZHtlZjripQg7Luo7Yq466Gk65+sCiAgICAvLyBAcGFyYW0gX2Zyb20gICAg7KCE7Iah7J2YIOy2nOyymAogICAgLy8gQHBhcmFtIF90byAgICAgIOyghOyGoSDrqqnsoIHsp4AKICAgIC8vIEBwYXJhbSBfYW1vdW50ICDsoITshqEg6riI7JWhCiAgICAvLyBAcmV0dXJuICAgICAgICAg7Luo7Yq466Gk65+s6rCAIOyghOyGoeydhCDsirnsnbjtlZjsp4Ag7JWK64qUIOqyveyasCDqsbDsp5MKICAgIGZ1bmN0aW9uIG9uVHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcHVibGljIHJldHVybnMoYm9vbCk7CgogICAgLy8gQG5vdGljZSAgICAgICAgICAgICAgICAgICAgIOy7qO2KuOuhpOufrOyXkCDsirnsnbgg7IKs7Iuk7J2EIOyVjOumrOqzoCwg7ZWE7JqU7ZWcIOqyveyasCDsu6jtirjroaTrn6zqsIAg64yA7J2R7ZWY64+E66GdIO2VqeuLiOuLpC4KICAgIC8vIEBwYXJhbSBfb3duZXIgYGFwcHJvdmUgKClgICDrpbwg7Zi47Lac7ZWY64qUIOyjvOyGjC4KICAgIC8vIEBwYXJhbSBfc3BlbmRlciBgYXBwcm92ZSgpYCDtmLjstpztlZjripQg7KCE7Iah7J6QCiAgICAvLyBAcGFyYW0gX2Ftb3VudCBgYXBwcm92ZSAoKWAg7Zi47Lac7J2YIOyWkQogICAgLy8gQHJldHVybiAgICAgICAgICAgICAgICAgICAgIOy7qO2KuOuhpOufrOqwgCDsirnsnbjsnYQg7ZeI6rCA7ZWY7KeAIOyViuuKlCDqsr3smrAg6rGw7KeTCiAgICBmdW5jdGlvbiBvbkFwcHJvdmUoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2Ftb3VudCkgcHVibGljCiAgICAgICAgcmV0dXJucyhib29sKTsKfQoKY29udHJhY3QgQXBwcm92ZUFuZENhbGxGYWxsQmFjayB7CiAgICBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBmcm9tLCB1aW50MjU2IF9hbW91bnQsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZGF0YSkgcHVibGljOwp9CgovLyDsi6TsoJwg7Yag7YGwIOqzhOyVveyduCDquLDrs7gg7Luo7Yq466Gk65+s64qUIOqzhOyVveyEnOulvCDrsLDtj6ztlZjripQgbXNnLnNlbmRlcuydtOuvgOuhnAovLyDsnbQg7Yag7YGw7J2AIOuMgOqwnCDthqDtgbAg7Luo7Yq466Gk65+sIOqzhOyVveyXkCDsnZjtlbQg67Cw7Y+s65CY66mwLAovLyBHaXZldGjripQgIkNhbXBhaWduIuydhCDtmLjstpztlanri4jri6QuCmNvbnRyYWN0IE1pbmlNZVRva2VuIGlzIENvbnRyb2xsZWQgewogICAgc3RyaW5nIHB1YmxpYyBuYW1lOyAgICAgICAgICAgICAgICAvLyDthqDtgbAg7J2066aEIDogRVggRGlnaXhEQU8gdG9rZW4KICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsgICAgICAgICAgICAgLy8g7LWc7IaMIOuLqOychOydmCDshozsiJgg7J6Q66a/7IiYCiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsgICAgICAgICAgICAgIC8vIOyLneuzhOyekCBFWCA6IGUuZy4gUkVQCiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAnTU1UXzAuMic7IC8vIOuyhOyghCDqtIDrpqwg67Cp7IudCgoKICAgIC8vIEBkZXYgYENoZWNrcG9pbnRgIOu4lOuhnSDrsojtmLjrpbwg7KeA7KCV65CcIOqwkuyXkCDsl7DqsrDtlZjripQg6rWs7KGw7J2066mwLAogICAgLy8gICAgICAgICAgICAgICAgICAgIOyyqOu2gOuQnCDruJTroZ0g67KI7Zi464qUIOuniOyngOunieycvOuhnCDqsJLsnYQg67OA6rK97ZWcIOuyiO2YuOyeheuLiOuLpC4KICAgIHN0cnVjdCAgQ2hlY2twb2ludCB7CgogICAgICAgIC8vIGBmcm9tQmxvY2tgIOqwkuydtCDsg53shLHrkJwg67iU66GdIOuyiO2YuOyeheuLiOuLpC4KICAgICAgICB1aW50MTI4IGZyb21CbG9jazsKCiAgICAgICAgLy8gYHZhbHVlYCDtirnsoJUg67iU66GdIOuyiO2YuOydmCDthqDtgbAg7JaR7J6F64uI64ukLgogICAgICAgIHVpbnQxMjggdmFsdWU7CiAgICB9CgogICAgLy8gYHBhcmVudFRva2VuYCDsnbQg7Yag7YGw7J2EIOyDneyEse2VmOq4sCDsnITtlbQg67O17KCcIOuQnCDthqDtgbAg7KO87IaM7J6F64uI64ukLgogICAgLy8gICAgICAgICAgICAgICDrs7XsoJzrkJjsp4Ag7JWK7J2AIO2GoO2BsOydmCDqsr3smrAgMHgw7J20IOuQqeuLiOuLpC4KICAgIE1pbmlNZVRva2VuIHB1YmxpYyBwYXJlbnRUb2tlbjsKCiAgICAvLyBgcGFyZW50U25hcFNob3RCbG9ja2Ag7IOB7JyEIO2GoO2BsOydmCDruJTroZ0g67KI7Zi466GcLAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgIOuzteygnCDthqDtgbDsnZgg7LSI6riwIOuwsO2PrOulvCDqsrDsoJXtlZjripQg642wIOyCrOyaqeuQqAogICAgdWludCBwdWJsaWMgcGFyZW50U25hcFNob3RCbG9jazsKCiAgICAvLyBgY3JlYXRpb25CbG9ja2Ag67O17KCcIO2GoO2BsOydtCDsg53shLHrkJwg67iU66GdIOuyiO2YuOyeheuLiOuLpC4KICAgIHVpbnQgcHVibGljIGNyZWF0aW9uQmxvY2s7CgogICAgLy8gYGJhbGFuY2VzYCDsnbQg6rOE7JW97JeQ7IScIOyelOyVoeydtCDrs4Dqsr3rkKAg65WMIOuzgOqyvSDsgqztla3snbQg67Cc7IOd7ZWcCiAgICAvLyAgICAgICAgICAgIOu4lOuhnSDrsojtmLjrj4Qg66e17JeQIO2PrO2VqOuQmOyWtCDsnojsnLzrqbAg6rCBIOyjvOyGjOydmCDsnpTslaHsnYQg7LaU7KCB7ZWY64qUIOunteyeheuLiOuLpC4KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gQ2hlY2twb2ludFtdKSBiYWxhbmNlczsKCiAgICAvLyBgYWxsb3dlZGAg66qo65OgIEVSQzIwIO2GoO2BsOyXkOyEnOyZgCDqsJnsnbQg7LaU6rCAIOyghOyGoSDqtoztlZzsnYQg7LaU7KCB7ZWp64uI64ukLgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAgIC8vIO2GoO2BsOydmCBgdG90YWxTdXBwbHlgIOq4sOuhneydhCDstpTsoIHtlanri4jri6QuCiAgICBDaGVja3BvaW50W10gdG90YWxTdXBwbHlIaXN0b3J5OwoKICAgIC8vIO2GoO2BsOydtCDsoITshqEg6rCA64ql7ZWc7KeAIOyXrOu2gOulvCDqsrDsoJXtlZjripQg7ZSM656Y6re4IOyeheuLiOuLpC4KICAgIGJvb2wgcHVibGljIHRyYW5zZmVyc0VuYWJsZWQ7CgogICAgLy8g7IOIIOuzteygnCDthqDtgbDsnYQg66eM65Oc64qUIOuNsCDsgqzsmqkg65CcIO2Mqe2GoOumrAogICAgTWluaU1lVG9rZW5GYWN0b3J5IHB1YmxpYyB0b2tlbkZhY3Rvcnk7CgogICAgLyoKICAgICAqIOqxtOyEpOyekAogICAgICovCiAgICAvLyBAbm90aWNlIE1pbmlNZVRva2Vu7J2EIOyDneyEse2VmOuKlCDsg53shLHsnpAKICAgIC8vIEBwYXJhbSBfdG9rZW5GYWN0b3J5IE1pbmlNZVRva2VuRmFjdG9yeSDqs4Tslb3snZgg7KO87IaMCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDrs7XsoJwg7Yag7YGwIOqzhOyVveydhCDsg53shLHtlZjripQgTWluaU1lVG9rZW5GYWN0b3J5IOqzhOyVveydmCDso7zshowsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDrqLzsoIAg7Yag7YGwIO2Mqe2GoOumrOulvCDrsLDtj6ztlbTslbztlanri4jri6QuCiAgICAvLyBAcGFyYW0gX3BhcmVudFRva2VuICAgICAgICAgICDsg4HsnIQg7Yag7YGw7J2YIFBhcmVudFRva2VydXQg7KO87IaMICjsg4gg7Yag7YGw7J24IOqyveyasCAweDDsnLzroZwg7ISk7KCV65CoKQogICAgLy8gQHBhcmFtIF9wYXJlbnRTbmFwU2hvdEJsb2NrICAg67O17KCcIO2GoO2BsOydmCDstIjquLAg67Cw7Y+s66W8IOqysOygle2VoCDsg4HsnIQg7Yag7YGw7J2YIOu4lOuhnSjsg4gg7Yag7YGw7J24IOqyveyasCAw7Jy866GcIOyEpOygleuQqCkKICAgIC8vIEBwYXJhbSBfdG9rZW5OYW1lICAgICAgICAgICAgIOyDiCDthqDtgbDsnZgg7J2066aECiAgICAvLyBAcGFyYW0gX2RlY2ltYWxVbml0cyAgICAgICAgICDsg4gg7Yag7YGw7J2YIOyGjOyImCDsnpDrpr/siJgKICAgIC8vIEBwYXJhbSBfdG9rZW5TeW1ib2wgICAgICAgICAgIOyDiCDthqDtgbDsl5Ag64yA7ZWcIO2GoO2BsCDquLDtmLgKICAgIC8vIEBwYXJhbSBfdHJhbnNmZXJzRW5hYmxlZCB0cnVlIOydtOuptCDthqDtgbDsnYQg7KCE7Iah7ZWgIOyImCDsnojsirXri4jri6QuCiAgICBmdW5jdGlvbiBNaW5pTWVUb2tlbigKICAgICAgICBhZGRyZXNzIF90b2tlbkZhY3RvcnksCiAgICAgICAgYWRkcmVzcyBfcGFyZW50VG9rZW4sCiAgICAgICAgdWludCBfcGFyZW50U25hcFNob3RCbG9jaywKICAgICAgICBzdHJpbmcgX3Rva2VuTmFtZSwKICAgICAgICB1aW50OCBfZGVjaW1hbFVuaXRzLAogICAgICAgIHN0cmluZyBfdG9rZW5TeW1ib2wsCiAgICAgICAgYm9vbCBfdHJhbnNmZXJzRW5hYmxlZAogICAgKSBwdWJsaWMgewogICAgICAgIHRva2VuRmFjdG9yeSA9IE1pbmlNZVRva2VuRmFjdG9yeShfdG9rZW5GYWN0b3J5KTsKICAgICAgICBuYW1lID0gX3Rva2VuTmFtZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDsnbTrpoQg7ISk7KCVCiAgICAgICAgZGVjaW1hbHMgPSBfZGVjaW1hbFVuaXRzOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g7Iut7KeE7IiYIOyEpOyglQogICAgICAgIHN5bWJvbCA9IF90b2tlblN5bWJvbDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOq4sO2YuCDshKTsoJUgKOyLrOuzvCkKICAgICAgICBwYXJlbnRUb2tlbiA9IE1pbmlNZVRva2VuKF9wYXJlbnRUb2tlbik7CiAgICAgICAgcGFyZW50U25hcFNob3RCbG9jayA9IF9wYXJlbnRTbmFwU2hvdEJsb2NrOwogICAgICAgIHRyYW5zZmVyc0VuYWJsZWQgPSBfdHJhbnNmZXJzRW5hYmxlZDsKICAgICAgICBjcmVhdGlvbkJsb2NrID0gYmxvY2subnVtYmVyOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKHRyYW5zZmVyc0VuYWJsZWQpOwogICAgICAgIGRvVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudAogICAgKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gY29udHJvbGxlcikgewogICAgICAgICAgICByZXF1aXJlKHRyYW5zZmVyc0VuYWJsZWQpOwoKICAgICAgICAgICAgcmVxdWlyZShhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfYW1vdW50KTsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX2Ftb3VudDsKICAgICAgICB9CiAgICAgICAgZG9UcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBkb1RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQKICAgICkgaW50ZXJuYWwgewoKICAgICAgICAgICBpZiAoX2Ftb3VudCA9PSAwKSB7CiAgICAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF9hbW91bnQpOwogICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgfQoKICAgICAgICAgICByZXF1aXJlKHBhcmVudFNuYXBTaG90QmxvY2sgPCBibG9jay5udW1iZXIpOwoKICAgICAgICAgICByZXF1aXJlKChfdG8gIT0gMCkgJiYgKF90byAhPSBhZGRyZXNzKHRoaXMpKSk7CgogICAgICAgICAgIHZhciBwcmV2aW91c0JhbGFuY2VGcm9tID0gYmFsYW5jZU9mQXQoX2Zyb20sIGJsb2NrLm51bWJlcik7CgogICAgICAgICAgIHJlcXVpcmUocHJldmlvdXNCYWxhbmNlRnJvbSA+PSBfYW1vdW50KTsKCiAgICAgICAgICAgaWYgKGlzQ29udHJhY3QoY29udHJvbGxlcikpIHsKICAgICAgICAgICAgICAgcmVxdWlyZShUb2tlbkNvbnRyb2xsZXIoY29udHJvbGxlcikub25UcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KSk7CiAgICAgICAgICAgfQoKICAgICAgICAgICB1cGRhdGVWYWx1ZUF0Tm93KGJhbGFuY2VzW19mcm9tXSwgcHJldmlvdXNCYWxhbmNlRnJvbSAtIF9hbW91bnQpOwoKICAgICAgICAgICB2YXIgcHJldmlvdXNCYWxhbmNlVG8gPSBiYWxhbmNlT2ZBdChfdG8sIGJsb2NrLm51bWJlcik7CiAgICAgICAgICAgcmVxdWlyZShwcmV2aW91c0JhbGFuY2VUbyArIF9hbW91bnQgPj0gcHJldmlvdXNCYWxhbmNlVG8pOwogICAgICAgICAgIHVwZGF0ZVZhbHVlQXROb3coYmFsYW5jZXNbX3RvXSwgcHJldmlvdXNCYWxhbmNlVG8gKyBfYW1vdW50KTsKCiAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7CgogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlT2ZBdChfb3duZXIsIGJsb2NrLm51bWJlcik7CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKHRyYW5zZmVyc0VuYWJsZWQpOwoKICAgICAgICByZXF1aXJlKChfYW1vdW50ID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CgogICAgICAgIC8vIOyKueyduCDquLDriqUg7Zi47Lac7J2YIO2GoO2BsCDsu6jtirjroaTrn6zsl5Ag7JWM66a8CiAgICAgICAgaWYgKGlzQ29udHJhY3QoY29udHJvbGxlcikpIHsKICAgICAgICAgICAgcmVxdWlyZShUb2tlbkNvbnRyb2xsZXIoY29udHJvbGxlcikub25BcHByb3ZlKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfYW1vdW50KSk7CiAgICAgICAgfQoKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF9hbW91bnQ7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcgogICAgKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF9hbW91bnQsIGJ5dGVzIF9leHRyYURhdGEKICAgICkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoYXBwcm92ZShfc3BlbmRlciwgX2Ftb3VudCkpOwoKICAgICAgICBBcHByb3ZlQW5kQ2FsbEZhbGxCYWNrKF9zcGVuZGVyKS5yZWNlaXZlQXBwcm92YWwoCiAgICAgICAgICAgIG1zZy5zZW5kZXIsCiAgICAgICAgICAgIF9hbW91bnQsCiAgICAgICAgICAgIHRoaXMsCiAgICAgICAgICAgIF9leHRyYURhdGEKICAgICAgICApOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIHRvdGFsU3VwcGx5QXQoYmxvY2subnVtYmVyKTsKICAgIH0KCiAgICAvKgogICAgICog7Z6I7Iqk7Yag66asIOuCtCDsv7zrpqwg6reg7ZiVIOuwjyDstJ0g6rO16riJCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZkF0KGFkZHJlc3MgX293bmVyLCB1aW50IF9ibG9ja051bWJlcikgcHVibGljIGNvbnN0YW50CiAgICAgICAgcmV0dXJucyAodWludCkgewoKICAgICAgICBpZiAoKGJhbGFuY2VzW19vd25lcl0ubGVuZ3RoID09IDApCiAgICAgICAgICAgIHx8IChiYWxhbmNlc1tfb3duZXJdWzBdLmZyb21CbG9jayA+IF9ibG9ja051bWJlcikpIHsKICAgICAgICAgICAgaWYgKGFkZHJlc3MocGFyZW50VG9rZW4pICE9IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnRUb2tlbi5iYWxhbmNlT2ZBdChfb3duZXIsIG1pbihfYmxvY2tOdW1iZXIsIHBhcmVudFNuYXBTaG90QmxvY2spKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIOyDgeychO2GoO2BsOydtCDsl4bri6QuCiAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBnZXRWYWx1ZUF0KGJhbGFuY2VzW19vd25lcl0sIF9ibG9ja051bWJlcik7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5QXQodWludCBfYmxvY2tOdW1iZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQpIHsKICAgICAgICBpZiAoKHRvdGFsU3VwcGx5SGlzdG9yeS5sZW5ndGggPT0gMCkKICAgICAgICAgICAgfHwgKHRvdGFsU3VwcGx5SGlzdG9yeVswXS5mcm9tQmxvY2sgPiBfYmxvY2tOdW1iZXIpKSB7CiAgICAgICAgICAgIGlmIChhZGRyZXNzKHBhcmVudFRva2VuKSAhPSAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50VG9rZW4udG90YWxTdXBwbHlBdChtaW4oX2Jsb2NrTnVtYmVyLCBwYXJlbnRTbmFwU2hvdEJsb2NrKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBnZXRWYWx1ZUF0KHRvdGFsU3VwcGx5SGlzdG9yeSwgX2Jsb2NrTnVtYmVyKTsKICAgICAgICB9CiAgICB9CgogICAgLyoKICAgICAqIO2GoO2BsCDrs7XsoJwg67Cp67KVCiAgICAgKi8KICAgIGZ1bmN0aW9uIGNyZWF0ZUNsb25lVG9rZW4oCiAgICAgICAgc3RyaW5nIF9jbG9uZVRva2VuTmFtZSwKICAgICAgICB1aW50OCBfY2xvbmVEZWNpbWFsVW5pdHMsCiAgICAgICAgc3RyaW5nIF9jbG9uZVRva2VuU3ltYm9sLAogICAgICAgIHVpbnQgX3NuYXBzaG90QmxvY2ssCiAgICAgICAgYm9vbCBfdHJhbnNmZXJzRW5hYmxlZAogICAgICAgICkgcHVibGljIHJldHVybnMoYWRkcmVzcykgewogICAgICAgIGlmIChfc25hcHNob3RCbG9jayA9PSAwKSBfc25hcHNob3RCbG9jayA9IGJsb2NrLm51bWJlcjsKICAgICAgICBNaW5pTWVUb2tlbiBjbG9uZVRva2VuID0gdG9rZW5GYWN0b3J5LmNyZWF0ZUNsb25lVG9rZW4oCiAgICAgICAgICAgIHRoaXMsCiAgICAgICAgICAgIF9zbmFwc2hvdEJsb2NrLAogICAgICAgICAgICBfY2xvbmVUb2tlbk5hbWUsCiAgICAgICAgICAgIF9jbG9uZURlY2ltYWxVbml0cywKICAgICAgICAgICAgX2Nsb25lVG9rZW5TeW1ib2wsCiAgICAgICAgICAgIF90cmFuc2ZlcnNFbmFibGVkCiAgICAgICAgICAgICk7CgogICAgICAgIGNsb25lVG9rZW4uY2hhbmdlQ29udHJvbGxlcihtc2cuc2VuZGVyKTsKCiAgICAgICAgTmV3Q2xvbmVUb2tlbihhZGRyZXNzKGNsb25lVG9rZW4pLCBfc25hcHNob3RCbG9jayk7CiAgICAgICAgcmV0dXJuIGFkZHJlc3MoY2xvbmVUb2tlbik7CiAgICB9CgogICAgLyoKICAgICAqIO2GoO2BsCDsg53shLEg67CPIOyGjOqwgQogICAgICovCiAgICBmdW5jdGlvbiBnZW5lcmF0ZVRva2VucyhhZGRyZXNzIF9vd25lciwgdWludCBfYW1vdW50CiAgICApIHB1YmxpYyBvbmx5Q29udHJvbGxlciByZXR1cm5zIChib29sKSB7CiAgICAgICAgdWludCBjdXJUb3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5KCk7CiAgICAgICAgcmVxdWlyZShjdXJUb3RhbFN1cHBseSArIF9hbW91bnQgPj0gY3VyVG90YWxTdXBwbHkpOwogICAgICAgIHVpbnQgcHJldmlvdXNCYWxhbmNlVG8gPSBiYWxhbmNlT2YoX293bmVyKTsKICAgICAgICByZXF1aXJlKHByZXZpb3VzQmFsYW5jZVRvICsgX2Ftb3VudCA+PSBwcmV2aW91c0JhbGFuY2VUbyk7CiAgICAgICAgdXBkYXRlVmFsdWVBdE5vdyh0b3RhbFN1cHBseUhpc3RvcnksIGN1clRvdGFsU3VwcGx5ICsgX2Ftb3VudCk7CiAgICAgICAgdXBkYXRlVmFsdWVBdE5vdyhiYWxhbmNlc1tfb3duZXJdLCBwcmV2aW91c0JhbGFuY2VUbyArIF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKDAsIF9vd25lciwgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gZGVzdHJveVRva2VucyhhZGRyZXNzIF9vd25lciwgdWludCBfYW1vdW50CiAgICApIG9ubHlDb250cm9sbGVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgdWludCBjdXJUb3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5KCk7CiAgICAgICAgcmVxdWlyZShjdXJUb3RhbFN1cHBseSA+PSBfYW1vdW50KTsKICAgICAgICB1aW50IHByZXZpb3VzQmFsYW5jZUZyb20gPSBiYWxhbmNlT2YoX293bmVyKTsKICAgICAgICByZXF1aXJlKHByZXZpb3VzQmFsYW5jZUZyb20gPj0gX2Ftb3VudCk7CiAgICAgICAgdXBkYXRlVmFsdWVBdE5vdyh0b3RhbFN1cHBseUhpc3RvcnksIGN1clRvdGFsU3VwcGx5IC0gX2Ftb3VudCk7CiAgICAgICAgdXBkYXRlVmFsdWVBdE5vdyhiYWxhbmNlc1tfb3duZXJdLCBwcmV2aW91c0JhbGFuY2VGcm9tIC0gX2Ftb3VudCk7CiAgICAgICAgVHJhbnNmZXIoX293bmVyLCAwLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKgogICAgICog7Yag7YGwIOyghOyGoSDsgqzsmqkKICAgICAqLwogICAgZnVuY3Rpb24gZW5hYmxlVHJhbnNmZXJzKGJvb2wgX3RyYW5zZmVyc0VuYWJsZWQpIHB1YmxpYyBvbmx5Q29udHJvbGxlciB7CiAgICAgICAgdHJhbnNmZXJzRW5hYmxlZCA9IF90cmFuc2ZlcnNFbmFibGVkOwogICAgfQoKICAgIC8qCiAgICAgKiDsiqTrg4Ug7IO3IOuwsOyXtOyXkOyEnCDqsJLsnYQg7L+866as7ZWY6rOgIOyEpOygle2VmOuKlCDrgrTrtoAg64+E7Jqw66+4IO2VqOyImAogICAgICovCiAgICBmdW5jdGlvbiBnZXRWYWx1ZUF0KENoZWNrcG9pbnRbXSBzdG9yYWdlIGNoZWNrcG9pbnRzLCB1aW50IF9ibG9jawogICAgKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgaWYgKGNoZWNrcG9pbnRzLmxlbmd0aCA9PSAwKSByZXR1cm4gMDsKCiAgICAgICAgLy8g7Iuk7KCcIOqwkiDrsJTroZwg6rCA6riwCiAgICAgICAgaWYgKF9ibG9jayA+PSBjaGVja3BvaW50c1tjaGVja3BvaW50cy5sZW5ndGgtMV0uZnJvbUJsb2NrKQogICAgICAgICAgICByZXR1cm4gY2hlY2twb2ludHNbY2hlY2twb2ludHMubGVuZ3RoLTFdLnZhbHVlOwogICAgICAgIGlmIChfYmxvY2sgPCBjaGVja3BvaW50c1swXS5mcm9tQmxvY2spIHJldHVybiAwOwoKICAgICAgICAvLyDrsLDsl7TsnZgg6rCS7J2EIDLsp4Qg6rKA7IOJCiAgICAgICAgdWludCBtaW4gPSAwOwogICAgICAgIHVpbnQgbWF4ID0gY2hlY2twb2ludHMubGVuZ3RoLTE7CiAgICAgICAgd2hpbGUgKG1heCA+IG1pbikgewogICAgICAgICAgICB1aW50IG1pZCA9IChtYXggKyBtaW4gKyAxKS8gMjsKICAgICAgICAgICAgaWYgKGNoZWNrcG9pbnRzW21pZF0uZnJvbUJsb2NrPD1fYmxvY2spIHsKICAgICAgICAgICAgICAgIG1pbiA9IG1pZDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG1heCA9IG1pZC0xOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBjaGVja3BvaW50c1ttaW5dLnZhbHVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHVwZGF0ZVZhbHVlQXROb3coQ2hlY2twb2ludFtdIHN0b3JhZ2UgY2hlY2twb2ludHMsIHVpbnQgX3ZhbHVlCiAgICApIGludGVybmFsICB7CiAgICAgICAgaWYgKChjaGVja3BvaW50cy5sZW5ndGggPT0gMCkKICAgICAgICB8fCAoY2hlY2twb2ludHNbY2hlY2twb2ludHMubGVuZ3RoIC0xXS5mcm9tQmxvY2sgPCBibG9jay5udW1iZXIpKSB7CiAgICAgICAgICAgICAgIENoZWNrcG9pbnQgc3RvcmFnZSBuZXdDaGVja1BvaW50ID0gY2hlY2twb2ludHNbIGNoZWNrcG9pbnRzLmxlbmd0aCsrIF07CiAgICAgICAgICAgICAgIG5ld0NoZWNrUG9pbnQuZnJvbUJsb2NrID0gIHVpbnQxMjgoYmxvY2subnVtYmVyKTsKICAgICAgICAgICAgICAgbmV3Q2hlY2tQb2ludC52YWx1ZSA9IHVpbnQxMjgoX3ZhbHVlKTsKICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICBDaGVja3BvaW50IHN0b3JhZ2Ugb2xkQ2hlY2tQb2ludCA9IGNoZWNrcG9pbnRzW2NoZWNrcG9pbnRzLmxlbmd0aC0xXTsKICAgICAgICAgICAgICAgb2xkQ2hlY2tQb2ludC52YWx1ZSA9IHVpbnQxMjgoX3ZhbHVlKTsKICAgICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaXNDb250cmFjdChhZGRyZXNzIF9hZGRyKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zKGJvb2wpIHsKICAgICAgICB1aW50IHNpemU7CiAgICAgICAgaWYgKF9hZGRyID09IDApIHJldHVybiBmYWxzZTsKICAgICAgICBhc3NlbWJseSB7CiAgICAgICAgICAgIHNpemUgOj0gZXh0Y29kZXNpemUoX2FkZHIpCiAgICAgICAgfQogICAgICAgIHJldHVybiBzaXplPjA7CiAgICB9CgogICAgZnVuY3Rpb24gbWluKHVpbnQgYSwgdWludCBiKSBwdXJlIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICAgIH0KCiAgICBmdW5jdGlvbiAoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZShpc0NvbnRyYWN0KGNvbnRyb2xsZXIpKTsKICAgICAgICByZXF1aXJlKFRva2VuQ29udHJvbGxlcihjb250cm9sbGVyKS5wcm94eVBheW1lbnQudmFsdWUobXNnLnZhbHVlKShtc2cuc2VuZGVyKSk7CiAgICB9CgogICAgLyoKICAgICAqIOyViOyghCDrsKnrspUKICAgICAqLwogICAgZnVuY3Rpb24gY2xhaW1Ub2tlbnMoYWRkcmVzcyBfdG9rZW4pIHB1YmxpYyBvbmx5Q29udHJvbGxlciB7CiAgICAgICAgaWYgKF90b2tlbiA9PSAweDApIHsKICAgICAgICAgICAgY29udHJvbGxlci50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBNaW5pTWVUb2tlbiB0b2tlbiA9IE1pbmlNZVRva2VuKF90b2tlbik7CiAgICAgICAgdWludCBiYWxhbmNlID0gdG9rZW4uYmFsYW5jZU9mKHRoaXMpOwogICAgICAgIHRva2VuLnRyYW5zZmVyKGNvbnRyb2xsZXIsIGJhbGFuY2UpOwogICAgICAgIENsYWltZWRUb2tlbnMoX3Rva2VuLCBjb250cm9sbGVyLCBiYWxhbmNlKTsKICAgIH0KCiAgICAvKgogICAgICog7J2067Kk7Yq4CiAgICAgKi8KICAgIGV2ZW50IENsYWltZWRUb2tlbnMoYWRkcmVzcyBpbmRleGVkIF90b2tlbiwgYWRkcmVzcyBpbmRleGVkIF9jb250cm9sbGVyLCB1aW50IF9hbW91bnQpOwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF9hbW91bnQpOwogICAgZXZlbnQgTmV3Q2xvbmVUb2tlbihhZGRyZXNzIGluZGV4ZWQgX2Nsb25lVG9rZW4sIHVpbnQgX3NuYXBzaG90QmxvY2spOwogICAgZXZlbnQgQXBwcm92YWwoCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIF9vd25lciwKICAgICAgICBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsCiAgICAgICAgdWludDI1NiBfYW1vdW50CiAgICAgICAgKTsKfQoKLyoKICogTWluaU1lVG9rZW5GYWN0b3J5CiAqLwovLyDsnbQg6rOE7JW97J2AIOqzhOyVveyXkOyEnCDrs7XsoJwg6rOE7JW97J2EIOyDneyEse2VmOuKlCDrjbAg7IKs7Jqp65Cp64uI64ukLgpjb250cmFjdCBNaW5pTWVUb2tlbkZhY3RvcnkgewogICAgLy8gICAgICAgICAgICAgICAgICAgICAg7IOI66Gc7Jq0IOq4sOuKpeycvOuhnCDsg4jroZzsmrQg7Yag7YGw7J2EIOunjOuTpOyWtCBEQXBw66W8IOyXheuNsOydtO2KuO2VmOyLreyLnOyYpC4KICAgIC8vICBtc2cuc2VuZGVyICAgICAgICAgIOuKlCDsnbQg67O17KCcIO2GoO2BsOydmCDsu6jtirjroaTrn6zqsIDrkKnri4jri6QuCiAgICAvLyBfcGFyZW50VG9rZW4gICAgICAgICDrs7XsoJwg65CgIO2GoO2BsOydmCDso7zshowKICAgIC8vIF9zbmFwc2hvdEJsb2NrICAgICAgIOyDgeychCDthqDtgbAg67iU66GdCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICDrs7XsoJwg7Yag7YGw7J2YIOy0iOq4sCDrsLDtj6wg6rKw7KCVCiAgICAvLyBfdG9rZW5OYW1lICAgICAgICAgICDsg4gg7Yag7YGw7J2YIOydtOumhAogICAgLy8gQHBhcmFtIF9kZWNpbWFsVW5pdHMg7IOIIO2GoO2BsOydmCDshozsiJgg7J6Q66a/7IiYCiAgICAvLyBAcGFyYW0gX3Rva2VuU3ltYm9sICDsg4gg7Yag7YGw7JeQIOuMgO2VnCDthqDtgbAg6riw7Zi4CiAgICAvLyBAcGFyYW0gX3RyYW5zZmVyc0VuYWJsZWQgdHJ1ZSDsnbTrqbQg7Yag7YGw7J2EIOyghOyGoe2VoCDsiJgg7J6I7Iq164uI64ukLgogICAgLy8gQHJldHVybiAgICAgICAgICAgICAg7IOIIO2GoO2BsCDqs4Tslb3snZgg7KO87IaMCiAgICBmdW5jdGlvbiBjcmVhdGVDbG9uZVRva2VuKAogICAgICAgIGFkZHJlc3MgX3BhcmVudFRva2VuLAogICAgICAgIHVpbnQgX3NuYXBzaG90QmxvY2ssCiAgICAgICAgc3RyaW5nIF90b2tlbk5hbWUsCiAgICAgICAgdWludDggX2RlY2ltYWxVbml0cywKICAgICAgICBzdHJpbmcgX3Rva2VuU3ltYm9sLAogICAgICAgIGJvb2wgX3RyYW5zZmVyc0VuYWJsZWQKICAgICkgcHVibGljIHJldHVybnMgKE1pbmlNZVRva2VuKSB7CiAgICAgICAgTWluaU1lVG9rZW4gbmV3VG9rZW4gPSBuZXcgTWluaU1lVG9rZW4oCiAgICAgICAgICAgIHRoaXMsCiAgICAgICAgICAgIF9wYXJlbnRUb2tlbiwKICAgICAgICAgICAgX3NuYXBzaG90QmxvY2ssCiAgICAgICAgICAgIF90b2tlbk5hbWUsCiAgICAgICAgICAgIF9kZWNpbWFsVW5pdHMsCiAgICAgICAgICAgIF90b2tlblN5bWJvbCwKICAgICAgICAgICAgX3RyYW5zZmVyc0VuYWJsZWQKICAgICAgICAgICAgKTsKCiAgICAgICAgbmV3VG9rZW4uY2hhbmdlQ29udHJvbGxlcihtc2cuc2VuZGVyKTsKICAgICAgICByZXR1cm4gbmV3VG9rZW47CiAgICB9Cn0KCi8qKgogKiBAdGl0bGUgTEVOCiAqIEBkZXYgTEVO64qUIE1pbmlNZVRva2Vu7J2EIOyDgeyGjeuwm+ydgCBFUkMyMCDthqDtgbAg6rOE7JW97J6F64uI64ukLgogKi8KY29udHJhY3QgTEVOIGlzIE1pbmlNZVRva2VuLCBCbG9ja2VkcyB7CiAgYm9vbCBwdWJsaWMgU3RvcmFnZUVuYWJsZWQgPSB0cnVlOwoKICBtb2RpZmllciBvbmx5U3RvcmFnZUVuYWJsZWQoKSB7CiAgICByZXF1aXJlKFN0b3JhZ2VFbmFibGVkKTsKICAgIF87CiAgfQoKICBtb2RpZmllciBvbmx5Tm90QmxvY2tlZChhZGRyZXNzIF9hZGRyKSB7CiAgICByZXF1aXJlKCFibG9ja2VkW19hZGRyXSk7CiAgICBfOwogIH0KCiAgZXZlbnQgU3RvcmFnZUVuYWJsZWQoYm9vbCBfU3RvcmFnZUVuYWJsZWQpOwoKICBmdW5jdGlvbiBMRU4oYWRkcmVzcyBfdG9rZW5GYWN0b3J5KSBNaW5pTWVUb2tlbigKICAgIF90b2tlbkZhY3RvcnksCiAgICAweDAsICAgICAgICAgICAgICAgICAgLy8g67aA66qoIO2GoO2BsCDsl4bsnYwKICAgIDAsICAgICAgICAgICAgICAgICAgICAvLyDsg4HsnITsnZgg7Iqk64OFIOyDtyDruJTroZ0g67KI7Zi4IOyXhuydjAogICAgIkxlbmRpbmcgVG9rZW4iLCAgICAgIC8vIO2GoO2BsCDsnbTrpoQKICAgIDE4LCAgICAgICAgICAgICAgICAgICAvLyDsi63sp4TrspUKICAgICJMRU4iLCAgICAgICAgICAgICAgICAvLyDsg4Hsp5Uo7Ius67O8KQogICAgZmFsc2UgICAgICAgICAgICAgICAgIC8vIOyghOyGoSDsgqzsmqkKICApIHB1YmxpYyB7fQoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgb25seU5vdEJsb2NrZWQobXNnLnNlbmRlcikgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLCBfYW1vdW50KTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgb25seU5vdEJsb2NrZWQoX2Zyb20pIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfYW1vdW50KTsKICB9CgogIC8vIOyVhOuemOydmCA06rCcIOq4sOuKpeydgCAnU3RvcmFnZXJzYWJsZWQo7ZWY7JyEIOyEpOygleuQqCkn66Gc66eMIO2ZnOyEse2ZlOuQqeuLiOuLpC4KICAvLyBBTEwgOiAzIOqwnOydmCBTdG9yYWdlIOugiOuyqAogIGZ1bmN0aW9uIGdlbmVyYXRlVG9rZW5zKGFkZHJlc3MgX293bmVyLCB1aW50IF9hbW91bnQpIHB1YmxpYyBvbmx5Q29udHJvbGxlciBvbmx5U3RvcmFnZUVuYWJsZWQgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIHN1cGVyLmdlbmVyYXRlVG9rZW5zKF9vd25lciwgX2Ftb3VudCk7CiAgfQoKICBmdW5jdGlvbiBkZXN0cm95VG9rZW5zKGFkZHJlc3MgX293bmVyLCB1aW50IF9hbW91bnQpIHB1YmxpYyBvbmx5Q29udHJvbGxlciBvbmx5U3RvcmFnZUVuYWJsZWQgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIHN1cGVyLmRlc3Ryb3lUb2tlbnMoX293bmVyLCBfYW1vdW50KTsKICB9CgogIGZ1bmN0aW9uIGJsb2NrQWRkcmVzcyhhZGRyZXNzIF9hZGRyKSBwdWJsaWMgb25seUNvbnRyb2xsZXIgb25seVN0b3JhZ2VFbmFibGVkIHsKICAgIHN1cGVyLmJsb2NrQWRkcmVzcyhfYWRkcik7CiAgfQoKICBmdW5jdGlvbiB1bmJsb2NrQWRkcmVzcyhhZGRyZXNzIF9hZGRyKSBwdWJsaWMgb25seUNvbnRyb2xsZXIgb25seVN0b3JhZ2VFbmFibGVkIHsKICAgIHN1cGVyLnVuYmxvY2tBZGRyZXNzKF9hZGRyKTsKICB9CgogIGZ1bmN0aW9uIGVuYWJsZVN0b3JhZ2UoYm9vbCBfU3RvcmFnZUVuYWJsZWQpIHB1YmxpYyBvbmx5Q29udHJvbGxlciB7CiAgICBTdG9yYWdlRW5hYmxlZCA9IF9TdG9yYWdlRW5hYmxlZDsKICAgIFN0b3JhZ2VFbmFibGVkKF9TdG9yYWdlRW5hYmxlZCk7CiAgfQoKICAvLyBieUxpc3Qg7ZWo7IiYCiAgZnVuY3Rpb24gZ2VuZXJhdGVUb2tlbnNCeUxpc3QoYWRkcmVzc1tdIF9vd25lcnMsIHVpbnRbXSBfYW1vdW50cykgcHVibGljIG9ubHlDb250cm9sbGVyIG9ubHlTdG9yYWdlRW5hYmxlZCByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF9vd25lcnMubGVuZ3RoID09IF9hbW91bnRzLmxlbmd0aCk7CgogICAgZm9yKHVpbnQgaSA9IDA7IGkgPCBfb3duZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGdlbmVyYXRlVG9rZW5zKF9vd25lcnNbaV0sIF9hbW91bnRzW2ldKTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0='.
	

]
