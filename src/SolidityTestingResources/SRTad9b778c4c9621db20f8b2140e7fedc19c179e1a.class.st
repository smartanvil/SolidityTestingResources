Class {
	#name : #SRTad9b778c4c9621db20f8b2140e7fedc19c179e1a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTad9b778c4c9621db20f8b2140e7fedc19c179e1a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7Cgpjb250cmFjdCBUaW1lZCB7CiAgICB1aW50MjU2IHB1YmxpYyBiZWdpblRpbWU7CiAgICB1aW50MjU2IHB1YmxpYyBlbmRUaW1lOwoKICAgIG1vZGlmaWVyIG9ubHlJblRpbWUoKSB7CiAgICAgICAgcmVxdWlyZShiZWdpblRpbWUgPD0gYmxvY2sudGltZXN0YW1wICYmIGJsb2NrLnRpbWVzdGFtcCA8PSBlbmRUaW1lKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlBZnRlclRpbWUoKSB7CiAgICAgICAgcmVxdWlyZShlbmRUaW1lIDwgYmxvY2sudGltZXN0YW1wKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIFRpbWVkKHVpbnQyNTYgX2JlZ2luVGltZSwgdWludDI1NiBfZHVyYXRpb24pIHsKICAgICAgICByZXF1aXJlKF9kdXJhdGlvbiA+IDApOwogICAgICAgIGlmIChfYmVnaW5UaW1lID09IDApIHsKICAgICAgICAgICAgX2JlZ2luVGltZSA9IGJsb2NrLnRpbWVzdGFtcDsKICAgICAgICB9CiAgICAgICAgcmVxdWlyZShfYmVnaW5UaW1lID49IGJsb2NrLnRpbWVzdGFtcCk7CiAgICAgICAgYmVnaW5UaW1lID0gX2JlZ2luVGltZTsKICAgICAgICBlbmRUaW1lID0gX2JlZ2luVGltZSArIF9kdXJhdGlvbjsKICAgIH0KfQoKY29udHJhY3QgT3duZWQgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBPd25lZCgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgZnVuY3Rpb24gdXBkYXRlT3duZXIoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIG93bmVyID0gX293bmVyOwogICAgfQp9Cgpjb250cmFjdCBFdGhWZXN0SUNPIGlzIFRpbWVkLCBPd25lZCB7CiAgICB1aW50MjU2IGNvbnN0YW50IElDT19MRU5HVEggPSA3IGRheXM7CiAgICB1aW50MjU2IGNvbnN0YW50IFJBVEUgPSAzMiB5ZWFyczsKICAgIHVpbnQyNTYgY29uc3RhbnQgUkVXQVJEID0gUkFURSAqIDEwMDAgZXRoZXI7CgogICAgRXRoVmVzdCBwdWJsaWMgZXRoVmVzdDsKCiAgICBldmVudCBQdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgX3BheWVyLCBhZGRyZXNzIGluZGV4ZWQgX2JlbmVmaWNpYXJ5LCB1aW50MjU2IF92YWx1ZSwgdWludDI1NiBfbWludCk7CgogICAgZnVuY3Rpb24gRXRoVmVzdElDTyh1aW50MjU2IF9iZWdpblRpbWUpIFRpbWVkKF9iZWdpblRpbWUsIElDT19MRU5HVEgpIHsKICAgICAgICBldGhWZXN0ID0gbmV3IEV0aFZlc3QoKTsKICAgIH0KCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIG9ubHlJblRpbWUgewogICAgICAgIHB1cmNoYXNlKG1zZy5zZW5kZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIHB1cmNoYXNlKGFkZHJlc3MgX2JlbmVmaWNpYXJ5KSBwdWJsaWMgcGF5YWJsZSBvbmx5SW5UaW1lIHsKICAgICAgICByZXF1aXJlKF9iZW5lZmljaWFyeSAhPSAweDApOwogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID4gMCk7CiAgICAgICAgdWludDI1NiBfbWludFZhbHVlID0gbXNnLnZhbHVlICogUkFURTsKICAgICAgICBldGhWZXN0Lm1pbnQoX2JlbmVmaWNpYXJ5LCBfbWludFZhbHVlKTsKICAgICAgICBQdXJjaGFzZShtc2cuc2VuZGVyLCBfYmVuZWZpY2lhcnksIG1zZy52YWx1ZSwgX21pbnRWYWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gZmluaXNoKCkgcHVibGljIG9ubHlPd25lciBvbmx5QWZ0ZXJUaW1lIHsKICAgICAgICBldGhWZXN0Lm1pbnQob3duZXIsIGV0aFZlc3QudG90YWxTdXBwbHkoKSA+PiAyKTsKICAgICAgICBldGhWZXN0Lm1pbnQob3duZXIsIFJFV0FSRCk7CiAgICAgICAgZXRoVmVzdC5zdGFydCgpOwogICAgICAgIGV0aFZlc3QudXBkYXRlT3duZXIob3duZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdpdGhkcmF3KCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgb3duZXIudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICAgIH0KfQoKaW50ZXJmYWNlIEV0aFZlc3RJbnRlcmZhY2UgewogICAgZnVuY3Rpb24gaW52ZXN0bWVudE9mKGFkZHJlc3MgX2JlbmVmaWNpYXJ5KSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBfdmFsdWUsIHVpbnQyNTYgX2RhdGUpOwogICAgZnVuY3Rpb24gaW52ZXN0KCkgcHVibGljIHBheWFibGUgcmV0dXJucyAoYm9vbCk7CiAgICBldmVudCBJbnZlc3QoYWRkcmVzcyBpbmRleGVkIF9iZW5lZmljaWFyeSwgdWludDI1NiBfdmFsdWUpOwogICAgZnVuY3Rpb24gZGl2ZXN0KHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBkaXZlc3QoKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBldmVudCBEaXZlc3QoYWRkcmVzcyBpbmRleGVkIF9iZW5lZmljaWFyeSwgdWludDI1NiBfdmFsdWUpOwogICAgZnVuY3Rpb24gY2xhaW0oKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBldmVudCBDb3Vwb24oYWRkcmVzcyBpbmRleGVkIF9iZW5lZmljaWFyeSwgdWludDI1NiBfY291cG9uLCB1aW50MjU2IGluZGV4ZWQgX2RhdGUpOwp9Cgpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9Cgpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCmNvbnRyYWN0IFNhZmVBcml0aG1ldGljIHsKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmVxdWlyZShiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIHJlcXVpcmUoYyA+PSBhKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIHJlcXVpcmUoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgICB9Cn0KCmNvbnRyYWN0IFN0YXJ0YWJsZSBpcyBPd25lZCB7CiAgICBldmVudCBTdGFydCgpOwogICAgYm9vbCBwcml2YXRlIHN0YXJ0ZWQgPSBmYWxzZTsKCiAgICBtb2RpZmllciBvbmx5QWZ0ZXJTdGFydCgpIHsKICAgICAgICByZXF1aXJlKHN0YXJ0ZWQpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seUJlZm9yZVN0YXJ0KCkgewogICAgICAgIHJlcXVpcmUoIXN0YXJ0ZWQpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gc3RhcnQoKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIHN0YXJ0ZWQgPSB0cnVlOwogICAgICAgIFN0YXJ0KCk7CiAgICB9Cn0KCmNvbnRyYWN0IFN0b3BwYWJsZSBpcyBPd25lZCB7CiAgICBldmVudCBTdG9wKGJ5dGVzMzIgbWVzc2FnZSk7CiAgICBib29sIHByaXZhdGUgc3RvcHBlZCA9IGZhbHNlOwoKICAgIG1vZGlmaWVyIG9ubHlOb3RTdG9wcGVkKCkgewogICAgICAgIHJlcXVpcmUoIXN0b3BwZWQpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gc3RvcChieXRlczMyIG1lc3NhZ2UpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgX3N0b3AobWVzc2FnZSk7CiAgICB9CgogICAgZnVuY3Rpb24gX3N0b3AoYnl0ZXMzMiBtZXNzYWdlKSBpbnRlcm5hbCB7CiAgICAgICAgc3RvcHBlZCA9IHRydWU7CiAgICAgICAgU3RvcChtZXNzYWdlKTsKICAgIH0KfQoKbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCiAgICAvLyBTYWZlTWF0aC5zdWIgd2lsbCB0aHJvdyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJhbGFuY2UuCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLiAKICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCiAgICB2YXIgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldAogICAgLy8gcmVxdWlyZSAoX3ZhbHVlIDw9IF9hbGxvd2FuY2UpOwoKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmeWluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KICAKICAvKioKICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKICAgKiBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbCAKICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgKi8KICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSAKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXS5hZGQoX2FkZGVkVmFsdWUpOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSAKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICB9IGVsc2UgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgIH0KICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cgp9Cgpjb250cmFjdCBFdGhWZXN0IGlzIEV0aFZlc3RJbnRlcmZhY2UsIFN0YW5kYXJkVG9rZW4sIE93bmVkLCBTdG9wcGFibGUsIFN0YXJ0YWJsZSwgU2FmZUFyaXRobWV0aWMgewogICAgZXZlbnQgTWludChhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAiRXRoVmVzdCI7CiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSAxODsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIlZTVCI7CiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAiMSI7CgogICAgc3RydWN0IEludmVzdG1lbnQgewogICAgICAgIHVpbnQyNTYgdmFsdWU7CiAgICAgICAgdWludDI1NiBkYXRlOwogICAgfQoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBJbnZlc3RtZW50KSBwdWJsaWMgaW52ZXN0bWVudHM7CiAgICB1aW50MjU2IHRvdGFsV29ydGg7CgogICAgZnVuY3Rpb24gRXRoVmVzdCgpIHsKICAgIH0KCiAgICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwgb25seU93bmVyIG9ubHlCZWZvcmVTdGFydCByZXR1cm5zIChib29sKSB7CiAgICAgICAgX21pbnQoX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9taW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHJpdmF0ZSByZXR1cm5zIChib29sKSB7CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBNaW50KF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBpbnZlc3RtZW50T2YoYWRkcmVzcyBfYmVuZWZpY2lhcnkpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IF92YWx1ZSwgdWludDI1NiBfZGF0ZSkgewogICAgICAgIEludmVzdG1lbnQgc3RvcmFnZSBfaW52ZXN0bWVudCA9IGludmVzdG1lbnRzW19iZW5lZmljaWFyeV07CiAgICAgICAgcmV0dXJuIChfaW52ZXN0bWVudC52YWx1ZSwgX2ludmVzdG1lbnQuZGF0ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gaW52ZXN0KCkgcHVibGljIHBheWFibGUgb25seU5vdFN0b3BwZWQgb25seUFmdGVyU3RhcnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGNsYWltKCk7CiAgICAgICAgSW52ZXN0bWVudCBzdG9yYWdlIF9pbnZlc3RtZW50ID0gaW52ZXN0bWVudHNbbXNnLnNlbmRlcl07CiAgICAgICAgX2ludmVzdG1lbnQudmFsdWUgPSBhZGQoX2ludmVzdG1lbnQudmFsdWUsIG1zZy52YWx1ZSk7CiAgICAgICAgdG90YWxXb3J0aCA9IGFkZCh0b3RhbFdvcnRoLCBtc2cudmFsdWUpOwogICAgICAgIGlmICh0aGlzLmJhbGFuY2UgIT0gdG90YWxXb3J0aCkgewogICAgICAgICAgICBfc3RvcCgibGVha0RldGVjdGVkIik7CiAgICAgICAgfQogICAgICAgIEludmVzdChtc2cuc2VuZGVyLCBtc2cudmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGRpdmVzdCh1aW50MjU2IF92YWx1ZSkgcHVibGljIG9ubHlBZnRlclN0YXJ0IHJldHVybnMgKGJvb2wpIHsKICAgICAgICBjbGFpbSgpOwogICAgICAgIEludmVzdG1lbnQgc3RvcmFnZSBfaW52ZXN0bWVudCA9IGludmVzdG1lbnRzW21zZy5zZW5kZXJdOwogICAgICAgIHVpbnQyNTYgX3ZhbHVlT2xkID0gX2ludmVzdG1lbnQudmFsdWU7CiAgICAgICAgdWludDI1NiBfdG90YWxXb3J0aE9sZCA9IHRvdGFsV29ydGg7CiAgICAgICAgX2ludmVzdG1lbnQudmFsdWUgPSBzdWIoX2ludmVzdG1lbnQudmFsdWUsIF92YWx1ZSk7CiAgICAgICAgdG90YWxXb3J0aCA9IHN1Yih0b3RhbFdvcnRoLCBfdmFsdWUpOwogICAgICAgIGlmICghbXNnLnNlbmRlci5zZW5kKF92YWx1ZSkpIHsKICAgICAgICAgICAgX2ludmVzdG1lbnQudmFsdWUgPSBfdmFsdWVPbGQ7CiAgICAgICAgICAgIHRvdGFsV29ydGggPSBfdG90YWxXb3J0aE9sZDsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAoX2ludmVzdG1lbnQudmFsdWUgPT0gMCkgewogICAgICAgICAgICBkZWxldGUgaW52ZXN0bWVudHNbbXNnLnNlbmRlcl07CiAgICAgICAgfQogICAgICAgIERpdmVzdChtc2cuc2VuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGRpdmVzdCgpIHB1YmxpYyBvbmx5QWZ0ZXJTdGFydCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIGRpdmVzdChpbnZlc3RtZW50c1ttc2cuc2VuZGVyXS52YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gY2xhaW0oKSBwdWJsaWMgb25seUFmdGVyU3RhcnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIEludmVzdG1lbnQgc3RvcmFnZSBfaW52ZXN0bWVudCA9IGludmVzdG1lbnRzW21zZy5zZW5kZXJdOwogICAgICAgIHVpbnQyNTYgX3Rlcm0gPSBzdWIoYmxvY2sudGltZXN0YW1wLCBfaW52ZXN0bWVudC5kYXRlKTsKICAgICAgICBfaW52ZXN0bWVudC5kYXRlID0gYmxvY2sudGltZXN0YW1wOwogICAgICAgIHVpbnQyNTYgX2NvdXBvbiA9IG11bChfaW52ZXN0bWVudC52YWx1ZSwgX3Rlcm0pOwogICAgICAgIGlmIChfY291cG9uID09IDApIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBfbWludChtc2cuc2VuZGVyLCBfY291cG9uKTsKICAgICAgICBDb3Vwb24obXNnLnNlbmRlciwgX2NvdXBvbiwgX2ludmVzdG1lbnQuZGF0ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24oKSBwYXlhYmxlIHsKICAgICAgICBpbnZlc3QoKTsKICAgIH0KfQ=='.
	

]
