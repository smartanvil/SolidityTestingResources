Class {
	#name : #SRT1E83475E240068540ea63c9C89b4cF0A536fa510,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT1E83475E240068540ea63c9C89b4cF0A536fa510 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9Cn0KCgpjb250cmFjdCBQcmVTYWxlVG9rZW4gewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CiAgICBldmVudCBBbGxvd0V4Y2hhbmdlcihhZGRyZXNzIGluZGV4ZWQgZXhjaGFuZ2VyKTsKICAgIGV2ZW50IFJldm9rZUV4Y2hhbmdlcihhZGRyZXNzIGluZGV4ZWQgZXhjaGFuZ2VyKTsKICAgIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CiAgICBldmVudCBNaW50RmluaXNoZWQoKTsKICAgIGV2ZW50IEV4Y2hhbmdlKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50MjU2IGV4Y2hhbmdlZFZhbHVlLCBzdHJpbmcgc3ltYm9sLCB1aW50MjU2IGdyYW50ZWRWYWx1ZSk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKCiAgICAvLy8gVGhlIG93bmVyIG9mIHRoZSBjb250cmFjdC4KICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIC8vLyBUaGUgdG90YWwgbnVtYmVyIG9mIG1pbnRlZCB0b2tlbnMsIGV4Y2x1ZGluZyBkZXN0cm95ZWQgdG9rZW5zLgogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgLy8vIFRoZSB0b2tlbiBiYWxhbmNlIG9mIGVhY2ggYWRkcmVzcy4KICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgICAvLy8gVGhlIGZ1bGwgbGlzdCBvZiBhZGRyZXNzZXMgd2UgaGF2ZSBtaW50ZWQgdG9rZW5zIGZvciwgc3RvcmVkIGZvcgogICAgLy8vIGV4Y2hhbmdlIHB1cnBvc2VzLgogICAgYWRkcmVzc1tdIHB1YmxpYyBob2xkZXJzOwoKICAgIC8vLyBXaGV0aGVyIHRoZSB0b2tlbiBpcyBzdGlsbCBtaW50YWJsZS4KICAgIGJvb2wgcHVibGljIG1pbnRpbmdGaW5pc2hlZCA9IGZhbHNlOwoKICAgIC8vLyBBZGRyZXNzZXMgYWxsb3dlZCB0byBleGNoYW5nZSB0aGUgcHJlc2FsZSB0b2tlbnMgZm9yIHRoZSBmaW5hbAogICAgLy8vIGFuZC9vciBpbnRlcm1lZGlhcnkgdG9rZW5zLgogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBleGNoYW5nZXJzOwoKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seUV4Y2hhbmdlcigpIHsKICAgICAgICByZXF1aXJlKGV4Y2hhbmdlcnNbbXNnLnNlbmRlcl0pOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gUHJlU2FsZVRva2VuKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb3dFeGNoYW5nZXIoYWRkcmVzcyBfZXhjaGFuZ2VyKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKG1pbnRpbmdGaW5pc2hlZCk7CiAgICAgICAgcmVxdWlyZShfZXhjaGFuZ2VyICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZSghZXhjaGFuZ2Vyc1tfZXhjaGFuZ2VyXSk7CgogICAgICAgIGV4Y2hhbmdlcnNbX2V4Y2hhbmdlcl0gPSB0cnVlOwogICAgICAgIEFsbG93RXhjaGFuZ2VyKF9leGNoYW5nZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIGV4Y2hhbmdlKAogICAgICAgIGFkZHJlc3MgX2Zyb20sCiAgICAgICAgdWludDI1NiBfYW1vdW50LAogICAgICAgIHN0cmluZyBfc3ltYm9sLAogICAgICAgIHVpbnQyNTYgX2dyYW50ZWRWYWx1ZQogICAgKQogICAgICAgIG9ubHlFeGNoYW5nZXIKICAgICAgICBwdWJsaWMKICAgICAgICByZXR1cm5zIChib29sKQogICAgewogICAgICAgIHJlcXVpcmUobWludGluZ0ZpbmlzaGVkKTsgLy8gQWx3YXlzIHRydWUgZHVlIHRvIGV4Y2hhbmdlcnMgcmVxdWlyaW5nIHRoZSBzYW1lIGNvbmRpdGlvbgogICAgICAgIHJlcXVpcmUoX2Zyb20gIT0gMHgwKTsKICAgICAgICByZXF1aXJlKCFleGNoYW5nZXJzW19mcm9tXSk7CiAgICAgICAgcmVxdWlyZShfYW1vdW50ID4gMCk7CiAgICAgICAgcmVxdWlyZShfYW1vdW50IDw9IGJhbGFuY2VzW19mcm9tXSk7CgogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQoX2Ftb3VudCk7CiAgICAgICAgRXhjaGFuZ2UoCiAgICAgICAgICAgIF9mcm9tLAogICAgICAgICAgICBfYW1vdW50LAogICAgICAgICAgICBfc3ltYm9sLAogICAgICAgICAgICBfZ3JhbnRlZFZhbHVlCiAgICAgICAgKTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgbXNnLnNlbmRlciwgX2Ftb3VudCk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcoKSBvbmx5T3duZXIgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOwoKICAgICAgICBtaW50aW5nRmluaXNoZWQgPSB0cnVlOwogICAgICAgIE1pbnRGaW5pc2hlZCgpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX3RvICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZSghbWludGluZ0ZpbmlzaGVkKTsKICAgICAgICByZXF1aXJlKF9hbW91bnQgPiAwKTsKCiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgICAgIGhvbGRlcnMucHVzaChfdG8pOwogICAgICAgIE1pbnQoX3RvLCBfYW1vdW50KTsKICAgICAgICBUcmFuc2ZlcigweDAsIF90bywgX2Ftb3VudCk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHJldm9rZUV4Y2hhbmdlcihhZGRyZXNzIF9leGNoYW5nZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobWludGluZ0ZpbmlzaGVkKTsKICAgICAgICByZXF1aXJlKF9leGNoYW5nZXIgIT0gMHgwKTsKICAgICAgICByZXF1aXJlKGV4Y2hhbmdlcnNbX2V4Y2hhbmdlcl0pOwoKICAgICAgICBkZWxldGUgZXhjaGFuZ2Vyc1tfZXhjaGFuZ2VyXTsKICAgICAgICBSZXZva2VFeGNoYW5nZXIoX2V4Y2hhbmdlcik7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfdG8pIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBfdG8pOwogICAgICAgIG93bmVyID0gX3RvOwogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KfQoKCmNvbnRyYWN0IFByZVNhbGUgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CiAgICBldmVudCBXYWxsZXRDaGFuZ2VkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c1dhbGxldCwgYWRkcmVzcyBpbmRleGVkIG5ld1dhbGxldCk7CiAgICBldmVudCBUb2tlblB1cmNoYXNlKGFkZHJlc3MgaW5kZXhlZCBwdXJjaGFzZXIsIGFkZHJlc3MgaW5kZXhlZCBiZW5lZmljaWFyeSwgdWludDI1NiB2YWx1ZSwgdWludDI1NiBhbW91bnQpOwogICAgZXZlbnQgUGF1c2UoKTsKICAgIGV2ZW50IFVucGF1c2UoKTsKICAgIGV2ZW50IFdpdGhkcmF3YWwoYWRkcmVzcyBpbmRleGVkIHdhbGxldCwgdWludDI1NiB3ZWlBbW91bnQpOwogICAgZXZlbnQgRXh0ZW5kZWQodWludDI1NiB1bnRpbCk7CiAgICBldmVudCBGaW5hbGl6ZWQoKTsKICAgIGV2ZW50IFJlZnVuZGluZygpOwogICAgZXZlbnQgUmVmdW5kZWQoYWRkcmVzcyBpbmRleGVkIGJlbmVmaWNpYXJ5LCB1aW50MjU2IHdlaUFtb3VudCk7CiAgICBldmVudCBXaGl0ZWxpc3RlZChhZGRyZXNzIGluZGV4ZWQgcGFydGljaXBhbnQsIHVpbnQyNTYgd2VpQW1vdW50KTsKCiAgICAvLy8gVGhlIG93bmVyIG9mIHRoZSBjb250cmFjdC4KICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIC8vLyBUaGUgdG9rZW4gd2UncmUgc2VsbGluZy4KICAgIFByZVNhbGVUb2tlbiBwdWJsaWMgdG9rZW47CgogICAgLy8vIFRoZSBtaW5pbXVtIGdvYWwgdG8gcmVhY2guIElmIHRoZSBnb2FsIGlzIG5vdCByZWFjaGVkLCBmaW5pc2hpbmcKICAgIC8vLyB0aGUgc2FsZSB3aWxsIGVuYWJsZSByZWZ1bmRzLgogICAgdWludDI1NiBwdWJsaWMgZ29hbDsKCiAgICAvLy8gVGhlIHNhbGUgcGVyaW9kLgogICAgdWludDI1NiBwdWJsaWMgc3RhcnRUaW1lOwogICAgdWludDI1NiBwdWJsaWMgZW5kVGltZTsKICAgIHVpbnQyNTYgcHVibGljIHRpbWVFeHRlbnNpb247CgogICAgLy8vIFRoZSBudW1uYmVyIG9mIHRva2VucyB0byBtaW50IHBlciB3ZWkuCiAgICB1aW50MjU2IHB1YmxpYyByYXRlOwoKICAgIC8vLyBUaGUgdG90YWwgbnVtYmVyIG9mIHdlaSByYWlzZWQuIE5vdGUgdGhhdCB0aGUgY29udHJhY3QncyBiYWxhbmNlIG1heQogICAgLy8vIGRpZmZlciBmcm9tIHRoaXMgdmFsdWUgaWYgc29tZW9uZSBoYXMgZGVjaWRlZCB0byBmb3JjZWZ1bGx5IHNlbmQgdXMKICAgIC8vLyBldGhlci4KICAgIHVpbnQyNTYgcHVibGljIHdlaVJhaXNlZDsKCiAgICAvLy8gVGhlIHdhbGxldCB0aGF0IHdpbGwgcmVjZWl2ZSB0aGUgY29udHJhY3QncyBiYWxhbmNlIG9uY2UgdGhlIHNhbGUKICAgIC8vLyBmaW5pc2hlcyBhbmQgdGhlIG1pbmltdW0gZ29hbCBpcyBtZXQuCiAgICBhZGRyZXNzIHB1YmxpYyB3YWxsZXQ7CgogICAgLy8vIFRoZSBsaXN0IG9mIGFkZHJlc3NlcyB0aGF0IGFyZSBhbGxvd2VkIHRvIHBhcnRpY2lwYXRlIGluIHRoZSBzYWxlLAogICAgLy8vIGFuZCB1cCB0byB3aGF0IGFtb3VudC4KICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgd2hpdGVsaXN0ZWQ7CgogICAgLy8vIFRoZSBhbW91bnQgb2Ygd2VpIGludmVzdGVkIGJ5IGVhY2ggaW52ZXN0b3IuCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGRlcG9zaXRlZDsKCiAgICAvLy8gQW4gZW51bWVyYWJsZSBsaXN0IG9mIGludmVzdG9ycy4KICAgIGFkZHJlc3NbXSBwdWJsaWMgaW52ZXN0b3JzOwoKICAgIC8vLyBXaGV0aGVyIHRoZSBzYWxlIGlzIHBhdXNlZC4KICAgIGJvb2wgcHVibGljIHBhdXNlZCA9IGZhbHNlOwoKICAgIC8vLyBXaGV0aGVyIHRoZSBzYWxlIGhhcyBmaW5pc2hlZCwgYW5kIHdoZW4uCiAgICBib29sIHB1YmxpYyBmaW5pc2hlZCA9IGZhbHNlOwogICAgdWludDI1NiBwdWJsaWMgZmluaXNoZWRBdDsKCiAgICAvLy8gV2hldGhlciB3ZSdyZSBhY2NlcHRpbmcgcmVmdW5kcy4KICAgIGJvb2wgcHVibGljIHJlZnVuZGluZyA9IGZhbHNlOwoKICAgIC8vLyBUaGUgdG90YWwgbnVtYmVyIG9mIHdlaSByZWZ1bmRlZC4KICAgIHVpbnQyNTYgcHVibGljIHdlaVJlZnVuZGVkOwoKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgc2FsZU9wZW4oKSB7CiAgICAgICAgcmVxdWlyZSghZmluaXNoZWQpOwogICAgICAgIHJlcXVpcmUoIXBhdXNlZCk7CiAgICAgICAgcmVxdWlyZShub3cgPj0gc3RhcnRUaW1lKTsKICAgICAgICByZXF1aXJlKG5vdyA8PSBlbmRUaW1lICsgdGltZUV4dGVuc2lvbik7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBQcmVTYWxlKAogICAgICAgIHVpbnQyNTYgX2dvYWwsCiAgICAgICAgdWludDI1NiBfc3RhcnRUaW1lLAogICAgICAgIHVpbnQyNTYgX2VuZFRpbWUsCiAgICAgICAgdWludDI1NiBfcmF0ZSwKICAgICAgICBhZGRyZXNzIF93YWxsZXQKICAgICkKICAgICAgICBwdWJsaWMKICAgICAgICBwYXlhYmxlCiAgICB7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPiAwKTsKICAgICAgICByZXF1aXJlKF9nb2FsID4gMCk7CiAgICAgICAgcmVxdWlyZShfc3RhcnRUaW1lID49IG5vdyk7CiAgICAgICAgcmVxdWlyZShfZW5kVGltZSA+PSBfc3RhcnRUaW1lKTsKICAgICAgICByZXF1aXJlKF9yYXRlID4gMCk7CiAgICAgICAgcmVxdWlyZShfd2FsbGV0ICE9IDB4MCk7CgogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICBnb2FsID0gX2dvYWw7CiAgICAgICAgc3RhcnRUaW1lID0gX3N0YXJ0VGltZTsKICAgICAgICBlbmRUaW1lID0gX2VuZFRpbWU7CiAgICAgICAgcmF0ZSA9IF9yYXRlOwogICAgICAgIHdhbGxldCA9IF93YWxsZXQ7CiAgICAgICAgdG9rZW4gPSBuZXcgUHJlU2FsZVRva2VuKCk7CgogICAgICAgIHdhbGxldC50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICBidXlUb2tlbnMobXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgX2JlbmVmaWNpYXJ5KSBzYWxlT3BlbiBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZShfYmVuZWZpY2lhcnkgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPiAwKTsKCiAgICAgICAgdWludDI1NiB3ZWlBbW91bnQgPSBtc2cudmFsdWU7CiAgICAgICAgdWludDI1NiBuZXdEZXBvc2l0ZWQgPSBkZXBvc2l0ZWRbX2JlbmVmaWNpYXJ5XS5hZGQod2VpQW1vdW50KTsKCiAgICAgICAgcmVxdWlyZShuZXdEZXBvc2l0ZWQgPD0gd2hpdGVsaXN0ZWRbX2JlbmVmaWNpYXJ5XSk7CgogICAgICAgIHVpbnQyNTYgdG9rZW5zID0gd2VpQW1vdW50Lm11bChyYXRlKTsKCiAgICAgICAgZGVwb3NpdGVkW19iZW5lZmljaWFyeV0gPSBuZXdEZXBvc2l0ZWQ7CiAgICAgICAgaW52ZXN0b3JzLnB1c2goX2JlbmVmaWNpYXJ5KTsKCiAgICAgICAgd2VpUmFpc2VkID0gd2VpUmFpc2VkLmFkZCh3ZWlBbW91bnQpOwoKICAgICAgICB0b2tlbi5taW50KF9iZW5lZmljaWFyeSwgdG9rZW5zKTsKICAgICAgICBUb2tlblB1cmNoYXNlKAogICAgICAgICAgICBtc2cuc2VuZGVyLAogICAgICAgICAgICBfYmVuZWZpY2lhcnksCiAgICAgICAgICAgIHdlaUFtb3VudCwKICAgICAgICAgICAgdG9rZW5zCiAgICAgICAgKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VXYWxsZXQoYWRkcmVzcyBfd2FsbGV0KSBvbmx5T3duZXIgcHVibGljIHBheWFibGUgewogICAgICAgIHJlcXVpcmUoX3dhbGxldCAhPSAweDApOwogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID4gMCk7CgogICAgICAgIHdhbGxldCA9IF93YWxsZXQ7CiAgICAgICAgV2FsbGV0Q2hhbmdlZChfd2FsbGV0LCB3YWxsZXQpOwoKICAgICAgICB3YWxsZXQudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBleHRlbmRUaW1lKHVpbnQyNTYgX3RpbWVFeHRlbnNpb24pIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoIWZpbmlzaGVkKTsKICAgICAgICByZXF1aXJlKG5vdyA8IGVuZFRpbWUgKyB0aW1lRXh0ZW5zaW9uKTsKICAgICAgICByZXF1aXJlKF90aW1lRXh0ZW5zaW9uID4gMCk7CgogICAgICAgIHRpbWVFeHRlbnNpb24gPSB0aW1lRXh0ZW5zaW9uLmFkZChfdGltZUV4dGVuc2lvbik7CiAgICAgICAgcmVxdWlyZSh0aW1lRXh0ZW5zaW9uIDw9IDcgZGF5cyk7CgogICAgICAgIEV4dGVuZGVkKGVuZFRpbWUuYWRkKHRpbWVFeHRlbnNpb24pKTsKICAgIH0KCiAgICBmdW5jdGlvbiBmaW5pc2goKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKCFmaW5pc2hlZCk7CiAgICAgICAgcmVxdWlyZShub3cgPiBlbmRUaW1lICsgdGltZUV4dGVuc2lvbik7CgogICAgICAgIGZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICBmaW5pc2hlZEF0ID0gbm93OwogICAgICAgIHRva2VuLmZpbmlzaE1pbnRpbmcoKTsKCiAgICAgICAgaWYgKGdvYWxSZWFjaGVkKCkpIHsKICAgICAgICAgICAgdG9rZW4udHJhbnNmZXJPd25lcnNoaXAob3duZXIpOwogICAgICAgICAgICB3aXRoZHJhdygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlZnVuZGluZyA9IHRydWU7CiAgICAgICAgICAgIFJlZnVuZGluZygpOwogICAgICAgIH0KCiAgICAgICAgRmluYWxpemVkKCk7CiAgICB9CgogICAgZnVuY3Rpb24gcGF1c2UoKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKCFwYXVzZWQpOwogICAgICAgIHBhdXNlZCA9IHRydWU7CiAgICAgICAgUGF1c2UoKTsKICAgIH0KCiAgICBmdW5jdGlvbiByZWZ1bmQoYWRkcmVzcyBfaW52ZXN0b3IpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShmaW5pc2hlZCk7CiAgICAgICAgcmVxdWlyZShyZWZ1bmRpbmcpOwogICAgICAgIHJlcXVpcmUoZGVwb3NpdGVkW19pbnZlc3Rvcl0gPiAwKTsKCiAgICAgICAgdWludDI1NiB3ZWlBbW91bnQgPSBkZXBvc2l0ZWRbX2ludmVzdG9yXTsKICAgICAgICBkZXBvc2l0ZWRbX2ludmVzdG9yXSA9IDA7CiAgICAgICAgd2VpUmVmdW5kZWQgPSB3ZWlSZWZ1bmRlZC5hZGQod2VpQW1vdW50KTsKICAgICAgICBSZWZ1bmRlZChfaW52ZXN0b3IsIHdlaUFtb3VudCk7CgogICAgICAgIF9pbnZlc3Rvci50cmFuc2Zlcih3ZWlBbW91bnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX3RvKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgICAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgX3RvKTsKICAgICAgICBvd25lciA9IF90bzsKICAgIH0KCiAgICBmdW5jdGlvbiB1bnBhdXNlKCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShwYXVzZWQpOwogICAgICAgIHBhdXNlZCA9IGZhbHNlOwogICAgICAgIFVucGF1c2UoKTsKICAgIH0KCiAgICBmdW5jdGlvbiB3aGl0ZWxpc3QoYWRkcmVzcyBfcGFydGljaXBhbnQsIHVpbnQyNTYgX3dlaUFtb3VudCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfcGFydGljaXBhbnQgIT0gMHgwKTsKCiAgICAgICAgd2hpdGVsaXN0ZWRbX3BhcnRpY2lwYW50XSA9IF93ZWlBbW91bnQ7CiAgICAgICAgV2hpdGVsaXN0ZWQoX3BhcnRpY2lwYW50LCBfd2VpQW1vdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiB3aXRoZHJhdygpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoZ29hbFJlYWNoZWQoKSB8fCAoZmluaXNoZWQgJiYgbm93ID4gZmluaXNoZWRBdCArIDE0IGRheXMpKTsKCiAgICAgICAgdWludDI1NiB3ZWlBbW91bnQgPSB0aGlzLmJhbGFuY2U7CgogICAgICAgIGlmICh3ZWlBbW91bnQgPiAwKSB7CiAgICAgICAgICAgIHdhbGxldC50cmFuc2Zlcih3ZWlBbW91bnQpOwogICAgICAgICAgICBXaXRoZHJhd2FsKHdhbGxldCwgd2VpQW1vdW50KTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZ29hbFJlYWNoZWQoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiB3ZWlSYWlzZWQgPj0gZ29hbDsKICAgIH0KfQ=='.
	

]
