Class {
	#name : #SRT31b566a89cef7962aa647ae6766ea8fb1dd6ccdb,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT31b566a89cef7962aa647ae6766ea8fb1dd6ccdb >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7CgovKgogKiBDcmVhdG9yOiBCQkMgKEJpdEJhbmNvQ29pbikgCiAqLwoKLyoKICogQWJzdHJhY3QgVG9rZW4gU21hcnQgQ29udHJhY3QKICoKICovCgogCiAvKgogKiBTYWZlIE1hdGggU21hcnQgQ29udHJhY3QuIAogKiBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5L2Jsb2IvbWFzdGVyL2NvbnRyYWN0cy9tYXRoL1NhZmVNYXRoLnNvbAogKi8KCmNvbnRyYWN0IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzYWZlRGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gc2FmZUFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKCgovKioKICogRVJDLTIwIHN0YW5kYXJkIHRva2VuIGludGVyZmFjZSwgYXMgZGVmaW5lZAogKiA8YSBocmVmPSJodHRwOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCI+aGVyZTwvYT4uCiAqLwpjb250cmFjdCBUb2tlbiB7CiAgCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cn0KCgoKLyoqCiAqIEFic3RyYWN0IFRva2VuIFNtYXJ0IENvbnRyYWN0IHRoYXQgY291bGQgYmUgdXNlZCBhcyBhIGJhc2UgY29udHJhY3QgZm9yCiAqIEVSQy0yMCB0b2tlbiBjb250cmFjdHMuCiAqLwpjb250cmFjdCBBYnN0cmFjdFRva2VuIGlzIFRva2VuLCBTYWZlTWF0aCB7CiAgLyoqCiAgICogQ3JlYXRlIG5ldyBBYnN0cmFjdCBUb2tlbiBjb250cmFjdC4KICAgKi8KICBmdW5jdGlvbiBBYnN0cmFjdFRva2VuICgpIHsKICAgIC8vIERvIG5vdGhpbmcKICB9CiAgCiAgLyoqCiAgICogR2V0IG51bWJlciBvZiB0b2tlbnMgY3VycmVudGx5IGJlbG9uZ2luZyB0byBnaXZlbiBvd25lci4KICAgKgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyB0byBnZXQgbnVtYmVyIG9mIHRva2VucyBjdXJyZW50bHkgYmVsb25naW5nIHRvIHRoZQogICAqICAgICAgICBvd25lciBvZgogICAqIEByZXR1cm4gbnVtYmVyIG9mIHRva2VucyBjdXJyZW50bHkgYmVsb25naW5nIHRvIHRoZSBvd25lciBvZiBnaXZlbiBhZGRyZXNzCiAgICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBhY2NvdW50cyBbX293bmVyXTsKICB9CgogIC8qKgogICAqIFRyYW5zZmVyIGdpdmVuIG51bWJlciBvZiB0b2tlbnMgZnJvbSBtZXNzYWdlIHNlbmRlciB0byBnaXZlbiByZWNpcGllbnQuCiAgICoKICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG9rZW5zIHRvIHRoZSBvd25lciBvZgogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0byB0cmFuc2ZlciB0byB0aGUgb3duZXIgb2YgZ2l2ZW4gYWRkcmVzcwogICAqIEByZXR1cm4gdHJ1ZSBpZiB0b2tlbnMgd2VyZSB0cmFuc2ZlcnJlZCBzdWNjZXNzZnVsbHksIGZhbHNlIG90aGVyd2lzZQogICAqIGFjY291bnRzIFtfdG9dICsgX3ZhbHVlID4gYWNjb3VudHMgW190b10gZm9yIG92ZXJmbG93IGNoZWNrCiAgICogd2hpY2ggaXMgYWxyZWFkeSBpbiBzYWZlTWF0aAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIGlmIChhY2NvdW50cyBbbXNnLnNlbmRlcl0gPCBfdmFsdWUpIHJldHVybiBmYWxzZTsKICAgIGlmIChfdmFsdWUgPiAwICYmIG1zZy5zZW5kZXIgIT0gX3RvKSB7CiAgICAgIGFjY291bnRzIFttc2cuc2VuZGVyXSA9IHNhZmVTdWIgKGFjY291bnRzIFttc2cuc2VuZGVyXSwgX3ZhbHVlKTsKICAgICAgYWNjb3VudHMgW190b10gPSBzYWZlQWRkIChhY2NvdW50cyBbX3RvXSwgX3ZhbHVlKTsKICAgIH0KICAgIFRyYW5zZmVyIChtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIFRyYW5zZmVyIGdpdmVuIG51bWJlciBvZiB0b2tlbnMgZnJvbSBnaXZlbiBvd25lciB0byBnaXZlbiByZWNpcGllbnQuCiAgICoKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMgZnJvbSB0aGUgb3duZXIgb2YKICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG9rZW5zIHRvIHRoZSBvd25lciBvZgogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0byB0cmFuc2ZlciBmcm9tIGdpdmVuIG93bmVyIHRvIGdpdmVuCiAgICogICAgICAgIHJlY2lwaWVudAogICAqIEByZXR1cm4gdHJ1ZSBpZiB0b2tlbnMgd2VyZSB0cmFuc2ZlcnJlZCBzdWNjZXNzZnVsbHksIGZhbHNlIG90aGVyd2lzZQogICAqIGFjY291bnRzIFtfdG9dICsgX3ZhbHVlID4gYWNjb3VudHMgW190b10gZm9yIG92ZXJmbG93IGNoZWNrCiAgICogd2hpY2ggaXMgYWxyZWFkeSBpbiBzYWZlTWF0aAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpCiAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIGlmIChhbGxvd2FuY2VzIFtfZnJvbV1bbXNnLnNlbmRlcl0gPCBfdmFsdWUpIHJldHVybiBmYWxzZTsKICAgIGlmIChhY2NvdW50cyBbX2Zyb21dIDwgX3ZhbHVlKSByZXR1cm4gZmFsc2U7IAoKICAgIGlmIChfdmFsdWUgPiAwICYmIF9mcm9tICE9IF90bykgewoJICBhbGxvd2FuY2VzIFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBzYWZlU3ViIChhbGxvd2FuY2VzIFtfZnJvbV1bbXNnLnNlbmRlcl0sIF92YWx1ZSk7CiAgICAgIGFjY291bnRzIFtfZnJvbV0gPSBzYWZlU3ViIChhY2NvdW50cyBbX2Zyb21dLCBfdmFsdWUpOwogICAgICBhY2NvdW50cyBbX3RvXSA9IHNhZmVBZGQgKGFjY291bnRzIFtfdG9dLCBfdmFsdWUpOwogICAgfQogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQWxsb3cgZ2l2ZW4gc3BlbmRlciB0byB0cmFuc2ZlciBnaXZlbiBudW1iZXIgb2YgdG9rZW5zIGZyb20gbWVzc2FnZSBzZW5kZXIuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgdG8gYWxsb3cgdGhlIG93bmVyIG9mIHRvIHRyYW5zZmVyIHRva2VucyBmcm9tIG1lc3NhZ2Ugc2VuZGVyCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIGFsbG93IHRvIHRyYW5zZmVyCiAgICogQHJldHVybiB0cnVlIGlmIHRva2VuIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsbHkgYXBwcm92ZWQsIGZhbHNlIG90aGVyd2lzZQogICAqLwogICBmdW5jdGlvbiBhcHByb3ZlIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBhbGxvd2FuY2VzIFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbCAobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIFRlbGwgaG93IG1hbnkgdG9rZW5zIGdpdmVuIHNwZW5kZXIgaXMgY3VycmVudGx5IGFsbG93ZWQgdG8gdHJhbnNmZXIgZnJvbQogICAqIGdpdmVuIG93bmVyLgogICAqCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIHRvIGdldCBudW1iZXIgb2YgdG9rZW5zIGFsbG93ZWQgdG8gYmUgdHJhbnNmZXJyZWQKICAgKiAgICAgICAgZnJvbSB0aGUgb3duZXIgb2YKICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyB0byBnZXQgbnVtYmVyIG9mIHRva2VucyBhbGxvd2VkIHRvIGJlIHRyYW5zZmVycmVkCiAgICogICAgICAgIGJ5IHRoZSBvd25lciBvZgogICAqIEByZXR1cm4gbnVtYmVyIG9mIHRva2VucyBnaXZlbiBzcGVuZGVyIGlzIGN1cnJlbnRseSBhbGxvd2VkIHRvIHRyYW5zZmVyCiAgICogICAgICAgICBmcm9tIGdpdmVuIG93bmVyCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudAogIHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dhbmNlcyBbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICAvKioKICAgKiBNYXBwaW5nIGZyb20gYWRkcmVzc2VzIG9mIHRva2VuIGhvbGRlcnMgdG8gdGhlIG51bWJlcnMgb2YgdG9rZW5zIGJlbG9uZ2luZwogICAqIHRvIHRoZXNlIHRva2VuIGhvbGRlcnMuCiAgICovCiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBhY2NvdW50czsKCiAgLyoqCiAgICogTWFwcGluZyBmcm9tIGFkZHJlc3NlcyBvZiB0b2tlbiBob2xkZXJzIHRvIHRoZSBtYXBwaW5nIG9mIGFkZHJlc3NlcyBvZgogICAqIHNwZW5kZXJzIHRvIHRoZSBhbGxvd2FuY2VzIHNldCBieSB0aGVzZSB0b2tlbiBob2xkZXJzIHRvIHRoZXNlIHNwZW5kZXJzLgogICAqLwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgcHJpdmF0ZSBhbGxvd2FuY2VzOwogIAp9CgoKLyoqCiAqIEJCQyB0b2tlbiBzbWFydCBjb250cmFjdC4KICovCmNvbnRyYWN0IEJCQ1Rva2VuIGlzIEFic3RyYWN0VG9rZW4gewogIC8qKgogICAqIE1heGltdW0gYWxsb3dlZCBudW1iZXIgb2YgdG9rZW5zIGluIGNpcmN1bGF0aW9uLgogICAqIHRva2VuU3VwcGx5ID0gdG9rZW5zSUFjdHVhbGx5V2FudCAqICgxMCBeIGRlY2ltYWxzKQogICAqLwogICAKICAgCiAgdWludDI1NiBjb25zdGFudCBNQVhfVE9LRU5fQ09VTlQgPSA1NTAwMDAwMCAqICgxMCoqOSk7CiAgIAogIC8qKgogICAqIEFkZHJlc3Mgb2YgdGhlIG93bmVyIG9mIHRoaXMgc21hcnQgY29udHJhY3QuCiAgICovCiAgYWRkcmVzcyBwcml2YXRlIG93bmVyOwogIAogIC8qKgogICAqIEZyb3plbiBhY2NvdW50IGxpc3QgaG9sZGVyCiAgICovCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwcml2YXRlIGZyb3plbkFjY291bnQ7CgogIC8qKgogICAqIEN1cnJlbnQgbnVtYmVyIG9mIHRva2VucyBpbiBjaXJjdWxhdGlvbi4KICAgKi8KICB1aW50MjU2IHRva2VuQ291bnQgPSAwOwogIAogCiAgLyoqCiAgICogVHJ1ZSBpZiB0b2tlbnMgdHJhbnNmZXJzIGFyZSBjdXJyZW50bHkgZnJvemVuLCBmYWxzZSBvdGhlcndpc2UuCiAgICovCiAgYm9vbCBmcm96ZW4gPSBmYWxzZTsKICAKIAogIC8qKgogICAqIENyZWF0ZSBuZXcgdG9rZW4gc21hcnQgY29udHJhY3QgYW5kIG1ha2UgbXNnLnNlbmRlciB0aGUKICAgKiBvd25lciBvZiB0aGlzIHNtYXJ0IGNvbnRyYWN0LgogICAqLwogIGZ1bmN0aW9uIEJCQ1Rva2VuICgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIC8qKgogICAqIEdldCB0b3RhbCBudW1iZXIgb2YgdG9rZW5zIGluIGNpcmN1bGF0aW9uLgogICAqCiAgICogQHJldHVybiB0b3RhbCBudW1iZXIgb2YgdG9rZW5zIGluIGNpcmN1bGF0aW9uCiAgICovCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSkgewogICAgcmV0dXJuIHRva2VuQ291bnQ7CiAgfQoKICBzdHJpbmcgY29uc3RhbnQgcHVibGljIG5hbWUgPSAiQml0QmFuY29Db2luIjsKICBzdHJpbmcgY29uc3RhbnQgcHVibGljIHN5bWJvbCA9ICJCQkMiOwogIHVpbnQ4IGNvbnN0YW50IHB1YmxpYyBkZWNpbWFscyA9IDk7CiAgCiAgLyoqCiAgICogVHJhbnNmZXIgZ2l2ZW4gbnVtYmVyIG9mIHRva2VucyBmcm9tIG1lc3NhZ2Ugc2VuZGVyIHRvIGdpdmVuIHJlY2lwaWVudC4KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG9rZW5zIHRvIHRoZSBvd25lciBvZgogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0byB0cmFuc2ZlciB0byB0aGUgb3duZXIgb2YgZ2l2ZW4gYWRkcmVzcwogICAqIEByZXR1cm4gdHJ1ZSBpZiB0b2tlbnMgd2VyZSB0cmFuc2ZlcnJlZCBzdWNjZXNzZnVsbHksIGZhbHNlIG90aGVyd2lzZQogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXF1aXJlKCFmcm96ZW5BY2NvdW50W21zZy5zZW5kZXJdKTsKCWlmIChmcm96ZW4pIHJldHVybiBmYWxzZTsKICAgIGVsc2UgcmV0dXJuIEFic3RyYWN0VG9rZW4udHJhbnNmZXIgKF90bywgX3ZhbHVlKTsKICB9CgogIC8qKgogICAqIFRyYW5zZmVyIGdpdmVuIG51bWJlciBvZiB0b2tlbnMgZnJvbSBnaXZlbiBvd25lciB0byBnaXZlbiByZWNpcGllbnQuCiAgICoKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMgZnJvbSB0aGUgb3duZXIgb2YKICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG9rZW5zIHRvIHRoZSBvd25lciBvZgogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0byB0cmFuc2ZlciBmcm9tIGdpdmVuIG93bmVyIHRvIGdpdmVuCiAgICogICAgICAgIHJlY2lwaWVudAogICAqIEByZXR1cm4gdHJ1ZSBpZiB0b2tlbnMgd2VyZSB0cmFuc2ZlcnJlZCBzdWNjZXNzZnVsbHksIGZhbHNlIG90aGVyd2lzZQogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCXJlcXVpcmUoIWZyb3plbkFjY291bnRbX2Zyb21dKTsKICAgIGlmIChmcm96ZW4pIHJldHVybiBmYWxzZTsKICAgIGVsc2UgcmV0dXJuIEFic3RyYWN0VG9rZW4udHJhbnNmZXJGcm9tIChfZnJvbSwgX3RvLCBfdmFsdWUpOwogIH0KCiAgIC8qKgogICAqIENoYW5nZSBob3cgbWFueSB0b2tlbnMgZ2l2ZW4gc3BlbmRlciBpcyBhbGxvd2VkIHRvIHRyYW5zZmVyIGZyb20gbWVzc2FnZQogICAqIHNwZW5kZXIuICBJbiBvcmRlciB0byBwcmV2ZW50IGRvdWJsZSBzcGVuZGluZyBvZiBhbGxvd2FuY2UsCiAgICogVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgKiBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICogYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIHRvIGFsbG93IHRoZSBvd25lciBvZiB0byB0cmFuc2ZlciB0b2tlbnMgZnJvbQogICAqICAgICAgICBtZXNzYWdlIHNlbmRlcgogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0byBhbGxvdyB0byB0cmFuc2ZlcgogICAqIEByZXR1cm4gdHJ1ZSBpZiB0b2tlbiB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bGx5IGFwcHJvdmVkLCBmYWxzZSBvdGhlcndpc2UKICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJcmVxdWlyZShhbGxvd2FuY2UgKG1zZy5zZW5kZXIsIF9zcGVuZGVyKSA9PSAwIHx8IF92YWx1ZSA9PSAwKTsKICAgIHJldHVybiBBYnN0cmFjdFRva2VuLmFwcHJvdmUgKF9zcGVuZGVyLCBfdmFsdWUpOwogIH0KCiAgLyoqCiAgICogQ3JlYXRlIF92YWx1ZSBuZXcgdG9rZW5zIGFuZCBnaXZlIG5ldyBjcmVhdGVkIHRva2VucyB0byBtc2cuc2VuZGVyLgogICAqIE1heSBvbmx5IGJlIGNhbGxlZCBieSBzbWFydCBjb250cmFjdCBvd25lci4KICAgKgogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0byBjcmVhdGUKICAgKiBAcmV0dXJuIHRydWUgaWYgdG9rZW5zIHdlcmUgY3JlYXRlZCBzdWNjZXNzZnVsbHksIGZhbHNlIG90aGVyd2lzZQogICAqLwogIGZ1bmN0aW9uIGNyZWF0ZVRva2Vucyh1aW50MjU2IF92YWx1ZSkKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmVxdWlyZSAobXNnLnNlbmRlciA9PSBvd25lcik7CgogICAgaWYgKF92YWx1ZSA+IDApIHsKICAgICAgaWYgKF92YWx1ZSA+IHNhZmVTdWIgKE1BWF9UT0tFTl9DT1VOVCwgdG9rZW5Db3VudCkpIHJldHVybiBmYWxzZTsKCSAgCiAgICAgIGFjY291bnRzIFttc2cuc2VuZGVyXSA9IHNhZmVBZGQgKGFjY291bnRzIFttc2cuc2VuZGVyXSwgX3ZhbHVlKTsKICAgICAgdG9rZW5Db3VudCA9IHNhZmVBZGQgKHRva2VuQ291bnQsIF92YWx1ZSk7CgkgIAoJICAvLyBhZGRpbmcgdHJhbnNmZXIgZXZlbnQgYW5kIF9mcm9tIGFkZHJlc3MgYXMgbnVsbCBhZGRyZXNzCgkgIFRyYW5zZmVyKDB4MCwgbXNnLnNlbmRlciwgX3ZhbHVlKTsKCSAgCgkgIHJldHVybiB0cnVlOwogICAgfQoJCgkgIHJldHVybiBmYWxzZTsKICAgIAogIH0KICAKCiAgLyoqCiAgICogU2V0IG5ldyBvd25lciBmb3IgdGhlIHNtYXJ0IGNvbnRyYWN0LgogICAqIE1heSBvbmx5IGJlIGNhbGxlZCBieSBzbWFydCBjb250cmFjdCBvd25lci4KICAgKgogICAqIEBwYXJhbSBfbmV3T3duZXIgYWRkcmVzcyBvZiBuZXcgb3duZXIgb2YgdGhlIHNtYXJ0IGNvbnRyYWN0CiAgICovCiAgZnVuY3Rpb24gc2V0T3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIHsKICAgIHJlcXVpcmUgKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoKICAgIG93bmVyID0gX25ld093bmVyOwogIH0KCiAgLyoqCiAgICogRnJlZXplIEFMTCB0b2tlbiB0cmFuc2ZlcnMuCiAgICogTWF5IG9ubHkgYmUgY2FsbGVkIGJ5IHNtYXJ0IGNvbnRyYWN0IG93bmVyLgogICAqLwogIGZ1bmN0aW9uIGZyZWV6ZVRyYW5zZmVycyAoKSB7CiAgICByZXF1aXJlIChtc2cuc2VuZGVyID09IG93bmVyKTsKCiAgICBpZiAoIWZyb3plbikgewogICAgICBmcm96ZW4gPSB0cnVlOwogICAgICBGcmVlemUgKCk7CiAgICB9CiAgfQoKICAvKioKICAgKiBVbmZyZWV6ZSBBTEwgdG9rZW4gdHJhbnNmZXJzLgogICAqIE1heSBvbmx5IGJlIGNhbGxlZCBieSBzbWFydCBjb250cmFjdCBvd25lci4KICAgKi8KICBmdW5jdGlvbiB1bmZyZWV6ZVRyYW5zZmVycyAoKSB7CiAgICByZXF1aXJlIChtc2cuc2VuZGVyID09IG93bmVyKTsKCiAgICBpZiAoZnJvemVuKSB7CiAgICAgIGZyb3plbiA9IGZhbHNlOwogICAgICBVbmZyZWV6ZSAoKTsKICAgIH0KICB9CiAgCiAgCiAgLypBIHVzZXIgaXMgYWJsZSB0byB1bmludGVudGlvbmFsbHkgc2VuZCB0b2tlbnMgdG8gYSBjb250cmFjdCAKICAqIGFuZCBpZiB0aGUgY29udHJhY3QgaXMgbm90IHByZXBhcmVkIHRvIHJlZnVuZCB0aGVtIHRoZXkgd2lsbCBnZXQgc3R1Y2sgaW4gdGhlIGNvbnRyYWN0LiAKICAqIFRoZSBzYW1lIGlzc3VlIHVzZWQgdG8gaGFwcGVuIGZvciBFdGhlciB0b28gYnV0IG5ldyBTb2xpZGl0eSB2ZXJzaW9ucyBhZGRlZCB0aGUgcGF5YWJsZSBtb2RpZmllciB0bwogICogcHJldmVudCB1bmludGVuZGVkIEV0aGVyIHRyYW5zZmVycy4gSG93ZXZlciwgdGhlcmXigJlzIG5vIHN1Y2ggbWVjaGFuaXNtIGZvciB0b2tlbiB0cmFuc2ZlcnMuCiAgKiBzbyB0aGUgYmVsb3cgZnVuY3Rpb24gaXMgY3JlYXRlZAogICovCiAgCiAgZnVuY3Rpb24gcmVmdW5kVG9rZW5zKGFkZHJlc3MgX3Rva2VuLCBhZGRyZXNzIF9yZWZ1bmQsIHVpbnQyNTYgX3ZhbHVlKSB7CiAgICByZXF1aXJlIChtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIHJlcXVpcmUoX3Rva2VuICE9IGFkZHJlc3ModGhpcykpOwogICAgQWJzdHJhY3RUb2tlbiB0b2tlbiA9IEFic3RyYWN0VG9rZW4oX3Rva2VuKTsKICAgIHRva2VuLnRyYW5zZmVyKF9yZWZ1bmQsIF92YWx1ZSk7CiAgICBSZWZ1bmRUb2tlbnMoX3Rva2VuLCBfcmVmdW5kLCBfdmFsdWUpOwogIH0KICAKICAvKioKICAgKiBGcmVlemUgc3BlY2lmaWMgYWNjb3VudAogICAqIE1heSBvbmx5IGJlIGNhbGxlZCBieSBzbWFydCBjb250cmFjdCBvd25lci4KICAgKi8KICBmdW5jdGlvbiBmcmVlemVBY2NvdW50KGFkZHJlc3MgX3RhcmdldCwgYm9vbCBmcmVlemUpIHsKICAgICAgcmVxdWlyZSAobXNnLnNlbmRlciA9PSBvd25lcik7CgkgIHJlcXVpcmUgKG1zZy5zZW5kZXIgIT0gX3RhcmdldCk7CiAgICAgIGZyb3plbkFjY291bnRbX3RhcmdldF0gPSBmcmVlemU7CiAgICAgIEZyb3plbkZ1bmRzKF90YXJnZXQsIGZyZWV6ZSk7CiB9CgogIC8qKgogICAqIExvZ2dlZCB3aGVuIHRva2VuIHRyYW5zZmVycyB3ZXJlIGZyb3plbi4KICAgKi8KICBldmVudCBGcmVlemUgKCk7CgogIC8qKgogICAqIExvZ2dlZCB3aGVuIHRva2VuIHRyYW5zZmVycyB3ZXJlIHVuZnJvemVuLgogICAqLwogIGV2ZW50IFVuZnJlZXplICgpOwogIAogIC8qKgogICAqIExvZ2dlZCB3aGVuIGEgcGFydGljdWxhciBhY2NvdW50IGlzIGZyb3plbi4KICAgKi8KICAKICBldmVudCBGcm96ZW5GdW5kcyhhZGRyZXNzIHRhcmdldCwgYm9vbCBmcm96ZW4pOwoKCiAgCiAgLyoqCiAgICogd2hlbiBhY2NpZGVudGFsbHkgc2VuZCBvdGhlciB0b2tlbnMgYXJlIHJlZnVuZGVkCiAgICovCiAgCiAgZXZlbnQgUmVmdW5kVG9rZW5zKGFkZHJlc3MgX3Rva2VuLCBhZGRyZXNzIF9yZWZ1bmQsIHVpbnQyNTYgX3ZhbHVlKTsKfQ=='.
	

]
