Class {
	#name : #SRT9048A059c4beF8775ecF6E24197Fd987B387edc1,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9048A059c4beF8775ecF6E24197Fd987B387edc1 >> base64 [
	^ 'Ly8vIG1hdGguc29sIC0tIG1peGluIGZvciBpbmxpbmUgbnVtZXJpY2FsIHdpemFyZHJ5CgovLyBDb3B5cmlnaHQgKEMpIDIwMTUsIDIwMTYsIDIwMTcgIERhcHBIdWIsIExMQwoKLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIikuCi8vIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQgKGV4cHJlc3Mgb3IgaW1wbGllZCkuCgpwcmFnbWEgc29saWRpdHkgXjAuNC4xMzsKCmNvbnRyYWN0IERTTWF0aCB7CiAgICBmdW5jdGlvbiBhZGQodWludCB4LCB1aW50IHkpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCB6KSB7CiAgICAgICAgcmVxdWlyZSgoeiA9IHggKyB5KSA+PSB4KTsKICAgIH0KICAgIGZ1bmN0aW9uIHN1Yih1aW50IHgsIHVpbnQgeSkgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50IHopIHsKICAgICAgICByZXF1aXJlKCh6ID0geCAtIHkpIDw9IHgpOwogICAgfQogICAgZnVuY3Rpb24gbXVsKHVpbnQgeCwgdWludCB5KSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgeikgewogICAgICAgIHJlcXVpcmUoeSA9PSAwIHx8ICh6ID0geCAqIHkpIC8geSA9PSB4KTsKICAgIH0KCiAgICBmdW5jdGlvbiBtaW4odWludCB4LCB1aW50IHkpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCB6KSB7CiAgICAgICAgcmV0dXJuIHggPD0geSA/IHggOiB5OwogICAgfQogICAgZnVuY3Rpb24gbWF4KHVpbnQgeCwgdWludCB5KSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgeikgewogICAgICAgIHJldHVybiB4ID49IHkgPyB4IDogeTsKICAgIH0KICAgIGZ1bmN0aW9uIGltaW4oaW50IHgsIGludCB5KSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKGludCB6KSB7CiAgICAgICAgcmV0dXJuIHggPD0geSA/IHggOiB5OwogICAgfQogICAgZnVuY3Rpb24gaW1heChpbnQgeCwgaW50IHkpIGludGVybmFsIHB1cmUgcmV0dXJucyAoaW50IHopIHsKICAgICAgICByZXR1cm4geCA+PSB5ID8geCA6IHk7CiAgICB9CgogICAgdWludCBjb25zdGFudCBXQUQgPSAxMCAqKiAxODsKICAgIHVpbnQgY29uc3RhbnQgUkFZID0gMTAgKiogMjc7CgogICAgZnVuY3Rpb24gd211bCh1aW50IHgsIHVpbnQgeSkgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50IHopIHsKICAgICAgICB6ID0gYWRkKG11bCh4LCB5KSwgV0FEIC8gMikgLyBXQUQ7CiAgICB9CiAgICBmdW5jdGlvbiBybXVsKHVpbnQgeCwgdWludCB5KSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgeikgewogICAgICAgIHogPSBhZGQobXVsKHgsIHkpLCBSQVkgLyAyKSAvIFJBWTsKICAgIH0KICAgIGZ1bmN0aW9uIHdkaXYodWludCB4LCB1aW50IHkpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCB6KSB7CiAgICAgICAgeiA9IGFkZChtdWwoeCwgV0FEKSwgeSAvIDIpIC8geTsKICAgIH0KICAgIGZ1bmN0aW9uIHJkaXYodWludCB4LCB1aW50IHkpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCB6KSB7CiAgICAgICAgeiA9IGFkZChtdWwoeCwgUkFZKSwgeSAvIDIpIC8geTsKICAgIH0KCiAgICAvLyBUaGlzIGZhbW91cyBhbGdvcml0aG0gaXMgY2FsbGVkICJleHBvbmVudGlhdGlvbiBieSBzcXVhcmluZyIKICAgIC8vIGFuZCBjYWxjdWxhdGVzIHhebiB3aXRoIHggYXMgZml4ZWQtcG9pbnQgYW5kIG4gYXMgcmVndWxhciB1bnNpZ25lZC4KICAgIC8vCiAgICAvLyBJdCdzIE8obG9nIG4pLCBpbnN0ZWFkIG9mIE8obikgZm9yIG5haXZlIHJlcGVhdGVkIG11bHRpcGxpY2F0aW9uLgogICAgLy8KICAgIC8vIFRoZXNlIGZhY3RzIGFyZSB3aHkgaXQgd29ya3M6CiAgICAvLwogICAgLy8gIElmIG4gaXMgZXZlbiwgdGhlbiB4Xm4gPSAoeF4yKV4obi8yKS4KICAgIC8vICBJZiBuIGlzIG9kZCwgIHRoZW4geF5uID0geCAqIHheKG4tMSksCiAgICAvLyAgIGFuZCBhcHBseWluZyB0aGUgZXF1YXRpb24gZm9yIGV2ZW4geCBnaXZlcwogICAgLy8gICAgeF5uID0geCAqICh4XjIpXigobi0xKSAvIDIpLgogICAgLy8KICAgIC8vICBBbHNvLCBFVk0gZGl2aXNpb24gaXMgZmxvb3JpbmcgYW5kCiAgICAvLyAgICBmbG9vclsobi0xKSAvIDJdID0gZmxvb3JbbiAvIDJdLgogICAgLy8KICAgIGZ1bmN0aW9uIHJwb3codWludCB4LCB1aW50IG4pIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCB6KSB7CiAgICAgICAgeiA9IG4gJSAyICE9IDAgPyB4IDogUkFZOwoKICAgICAgICBmb3IgKG4gLz0gMjsgbiAhPSAwOyBuIC89IDIpIHsKICAgICAgICAgICAgeCA9IHJtdWwoeCwgeCk7CgogICAgICAgICAgICBpZiAobiAlIDIgIT0gMCkgewogICAgICAgICAgICAgICAgeiA9IHJtdWwoeiwgeCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCi8vLyBhdXRoLnNvbCAtLSB3aWRlbHktdXNlZCBhY2Nlc3MgY29udHJvbCBwYXR0ZXJuIGZvciBFdGhlcmV1bQoKLy8gQ29weXJpZ2h0IChDKSAyMDE1LCAyMDE2LCAyMDE3ICBEYXBwSHViLCBMTEMKCi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpLgovLyBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgovLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5EIChleHByZXNzIG9yIGltcGxpZWQpLgoKcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7Cgpjb250cmFjdCBEU0F1dGhvcml0eSB7CiAgICBmdW5jdGlvbiBjYW5DYWxsKAogICAgICAgIGFkZHJlc3Mgc3JjLCBhZGRyZXNzIGRzdCwgYnl0ZXM0IHNpZwogICAgKSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sKTsKfQoKY29udHJhY3QgRFNBdXRoRXZlbnRzIHsKICAgIGV2ZW50IExvZ1NldEF1dGhvcml0eSAoYWRkcmVzcyBpbmRleGVkIGF1dGhvcml0eSk7CiAgICBldmVudCBMb2dTZXRPd25lciAgICAgKGFkZHJlc3MgaW5kZXhlZCBvd25lcik7Cn0KCmNvbnRyYWN0IERTQXV0aCBpcyBEU0F1dGhFdmVudHMgewogICAgRFNBdXRob3JpdHkgIHB1YmxpYyAgYXV0aG9yaXR5OwogICAgYWRkcmVzcyAgICAgIHB1YmxpYyAgb3duZXI7CgogICAgZnVuY3Rpb24gRFNBdXRoKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgTG9nU2V0T3duZXIobXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0T3duZXIoYWRkcmVzcyBvd25lcl8pCiAgICAgICAgcHVibGljCiAgICAgICAgYXV0aAogICAgewogICAgICAgIG93bmVyID0gb3duZXJfOwogICAgICAgIExvZ1NldE93bmVyKG93bmVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRBdXRob3JpdHkoRFNBdXRob3JpdHkgYXV0aG9yaXR5XykKICAgICAgICBwdWJsaWMKICAgICAgICBhdXRoCiAgICB7CiAgICAgICAgYXV0aG9yaXR5ID0gYXV0aG9yaXR5XzsKICAgICAgICBMb2dTZXRBdXRob3JpdHkoYXV0aG9yaXR5KTsKICAgIH0KCiAgICBtb2RpZmllciBhdXRoIHsKICAgICAgICByZXF1aXJlKGlzQXV0aG9yaXplZChtc2cuc2VuZGVyLCBtc2cuc2lnKSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBpc0F1dGhvcml6ZWQoYWRkcmVzcyBzcmMsIGJ5dGVzNCBzaWcpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGlmIChzcmMgPT0gYWRkcmVzcyh0aGlzKSkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKHNyYyA9PSBvd25lcikgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKGF1dGhvcml0eSA9PSBEU0F1dGhvcml0eSgwKSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGF1dGhvcml0eS5jYW5DYWxsKHNyYywgdGhpcywgc2lnKTsKICAgICAgICB9CiAgICB9Cn0KCi8vLyBub3RlLnNvbCAtLSB0aGUgYG5vdGUnIG1vZGlmaWVyLCBmb3IgbG9nZ2luZyBjYWxscyBhcyBldmVudHMKCi8vIENvcHlyaWdodCAoQykgMjAxNyAgRGFwcEh1YiwgTExDCi8vCi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpLgovLyBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCi8vCi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQgKGV4cHJlc3Mgb3IgaW1wbGllZCkuCgpwcmFnbWEgc29saWRpdHkgXjAuNC4xMzsKCmNvbnRyYWN0IERTTm90ZSB7CiAgICBldmVudCBMb2dOb3RlKAogICAgICAgIGJ5dGVzNCAgIGluZGV4ZWQgIHNpZywKICAgICAgICBhZGRyZXNzICBpbmRleGVkICBndXksCiAgICAgICAgYnl0ZXMzMiAgaW5kZXhlZCAgZm9vLAogICAgICAgIGJ5dGVzMzIgIGluZGV4ZWQgIGJhciwKICAgICAgICB1aW50ICAgICAgICAgICAgICB3YWQsCiAgICAgICAgYnl0ZXMgICAgICAgICAgICAgZmF4CiAgICApIGFub255bW91czsKCiAgICBtb2RpZmllciBub3RlIHsKICAgICAgICBieXRlczMyIGZvbzsKICAgICAgICBieXRlczMyIGJhcjsKCiAgICAgICAgYXNzZW1ibHkgewogICAgICAgICAgICBmb28gOj0gY2FsbGRhdGFsb2FkKDQpCiAgICAgICAgICAgIGJhciA6PSBjYWxsZGF0YWxvYWQoMzYpCiAgICAgICAgfQoKICAgICAgICBMb2dOb3RlKG1zZy5zaWcsIG1zZy5zZW5kZXIsIGZvbywgYmFyLCBtc2cudmFsdWUsIG1zZy5kYXRhKTsKCiAgICAgICAgXzsKICAgIH0KfQoKLy8vIHN0b3Auc29sIC0tIG1peGluIGZvciBlbmFibGUvZGlzYWJsZSBmdW5jdGlvbmFsaXR5CgovLyBDb3B5cmlnaHQgKEMpIDIwMTcgIERhcHBIdWIsIExMQwoKLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIikuCi8vIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQgKGV4cHJlc3Mgb3IgaW1wbGllZCkuCgpwcmFnbWEgc29saWRpdHkgXjAuNC4xMzsKCmNvbnRyYWN0IERTU3RvcCBpcyBEU05vdGUsIERTQXV0aCB7CgogICAgYm9vbCBwdWJsaWMgc3RvcHBlZDsKCiAgICBtb2RpZmllciBzdG9wcGFibGUgewogICAgICAgIHJlcXVpcmUoIXN0b3BwZWQpOwogICAgICAgIF87CiAgICB9CiAgICBmdW5jdGlvbiBzdG9wKCkgcHVibGljIGF1dGggbm90ZSB7CiAgICAgICAgc3RvcHBlZCA9IHRydWU7CiAgICB9CiAgICBmdW5jdGlvbiBzdGFydCgpIHB1YmxpYyBhdXRoIG5vdGUgewogICAgICAgIHN0b3BwZWQgPSBmYWxzZTsKICAgIH0KCn0KCi8qCiAgIENvcHlyaWdodCAyMDE3IERhcHBIdWIsIExMQwoKICAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAgIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgogICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAgIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAgIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAgIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwoKcHJhZ21hIHNvbGlkaXR5IF4wLjQuODsKCi8vIFRva2VuIHN0YW5kYXJkIEFQSQovLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKCmNvbnRyYWN0IEVSQzIwIHsKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCBzdXBwbHkpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKCBhZGRyZXNzIHdobyApIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgdmFsdWUpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKCBhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIgKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50IF9hbGxvd2FuY2UpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBvayk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oIGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgb2spOwogICAgZnVuY3Rpb24gYXBwcm92ZSggYWRkcmVzcyBzcGVuZGVyLCB1aW50IHZhbHVlICkgcHVibGljIHJldHVybnMgKGJvb2wgb2spOwoKICAgIGV2ZW50IFRyYW5zZmVyKCBhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKCBhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsKfQoKLy8vIGJhc2Uuc29sIC0tIGJhc2ljIEVSQzIwIGltcGxlbWVudGF0aW9uCgovLyBDb3B5cmlnaHQgKEMpIDIwMTUsIDIwMTYsIDIwMTcgIERhcHBIdWIsIExMQwoKLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIikuCi8vIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQgKGV4cHJlc3Mgb3IgaW1wbGllZCkuCgpwcmFnbWEgc29saWRpdHkgXjAuNC4xMzsKCmNvbnRyYWN0IERTVG9rZW5CYXNlIGlzIEVSQzIwLCBEU01hdGggewogICAgdWludDI1NiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N1cHBseTsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgICAgICAgICAgICAgICAgICAgICAgIF9iYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgIF9hcHByb3ZhbHM7CgogICAgZnVuY3Rpb24gRFNUb2tlbkJhc2UodWludCBzdXBwbHkpIHB1YmxpYyB7CiAgICAgICAgX2JhbGFuY2VzW21zZy5zZW5kZXJdID0gc3VwcGx5OwogICAgICAgIF9zdXBwbHkgPSBzdXBwbHk7CiAgICB9CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIF9zdXBwbHk7CiAgICB9CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBzcmMpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gX2JhbGFuY2VzW3NyY107CiAgICB9CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBzcmMsIGFkZHJlc3MgZ3V5KSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIF9hcHByb3ZhbHNbc3JjXVtndXldOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgZHN0LCB1aW50IHdhZCkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gdHJhbnNmZXJGcm9tKG1zZy5zZW5kZXIsIGRzdCwgd2FkKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBzcmMsIGFkZHJlc3MgZHN0LCB1aW50IHdhZCkKICAgICAgICBwdWJsaWMKICAgICAgICByZXR1cm5zIChib29sKQogICAgewogICAgICAgIGlmIChzcmMgIT0gbXNnLnNlbmRlcikgewogICAgICAgICAgICBfYXBwcm92YWxzW3NyY11bbXNnLnNlbmRlcl0gPSBzdWIoX2FwcHJvdmFsc1tzcmNdW21zZy5zZW5kZXJdLCB3YWQpOwogICAgICAgIH0KCiAgICAgICAgX2JhbGFuY2VzW3NyY10gPSBzdWIoX2JhbGFuY2VzW3NyY10sIHdhZCk7CiAgICAgICAgX2JhbGFuY2VzW2RzdF0gPSBhZGQoX2JhbGFuY2VzW2RzdF0sIHdhZCk7CgogICAgICAgIFRyYW5zZmVyKHNyYywgZHN0LCB3YWQpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgZ3V5LCB1aW50IHdhZCkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBfYXBwcm92YWxzW21zZy5zZW5kZXJdW2d1eV0gPSB3YWQ7CgogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIGd1eSwgd2FkKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0KCi8vLyB0b2tlbi5zb2wgLS0gRVJDMjAgaW1wbGVtZW50YXRpb24gd2l0aCBtaW50aW5nIGFuZCBidXJuaW5nCgovLyBDb3B5cmlnaHQgKEMpIDIwMTUsIDIwMTYsIDIwMTcgIERhcHBIdWIsIExMQwoKLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIikuCi8vIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQgKGV4cHJlc3Mgb3IgaW1wbGllZCkuCgpwcmFnbWEgc29saWRpdHkgXjAuNC4xMzsKCmNvbnRyYWN0IERTVG9rZW4gaXMgRFNUb2tlbkJhc2UoMCksIERTU3RvcCB7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpKSBfdHJ1c3RlZDsKCiAgICBieXRlczMyICBwdWJsaWMgIHN5bWJvbDsKICAgIHVpbnQyNTYgIHB1YmxpYyAgZGVjaW1hbHMgPSAxODsgLy8gc3RhbmRhcmQgdG9rZW4gcHJlY2lzaW9uLiBvdmVycmlkZSB0byBjdXN0b21pemUKCiAgICBmdW5jdGlvbiBEU1Rva2VuKGJ5dGVzMzIgc3ltYm9sXykgcHVibGljIHsKICAgICAgICBzeW1ib2wgPSBzeW1ib2xfOwogICAgfQoKICAgIGV2ZW50IFRydXN0KGFkZHJlc3MgaW5kZXhlZCBzcmMsIGFkZHJlc3MgaW5kZXhlZCBndXksIGJvb2wgd2F0KTsKICAgIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIGd1eSwgdWludCB3YWQpOwogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgZ3V5LCB1aW50IHdhZCk7CgogICAgZnVuY3Rpb24gdHJ1c3RlZChhZGRyZXNzIHNyYywgYWRkcmVzcyBndXkpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gX3RydXN0ZWRbc3JjXVtndXldOwogICAgfQogICAgZnVuY3Rpb24gdHJ1c3QoYWRkcmVzcyBndXksIGJvb2wgd2F0KSBwdWJsaWMgc3RvcHBhYmxlIHsKICAgICAgICBfdHJ1c3RlZFttc2cuc2VuZGVyXVtndXldID0gd2F0OwogICAgICAgIFRydXN0KG1zZy5zZW5kZXIsIGd1eSwgd2F0KTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgZ3V5LCB1aW50IHdhZCkgcHVibGljIHN0b3BwYWJsZSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHN1cGVyLmFwcHJvdmUoZ3V5LCB3YWQpOwogICAgfQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3Mgc3JjLCBhZGRyZXNzIGRzdCwgdWludCB3YWQpCiAgICAgICAgcHVibGljCiAgICAgICAgc3RvcHBhYmxlCiAgICAgICAgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICBpZiAoc3JjICE9IG1zZy5zZW5kZXIgJiYgIV90cnVzdGVkW3NyY11bbXNnLnNlbmRlcl0pIHsKICAgICAgICAgICAgX2FwcHJvdmFsc1tzcmNdW21zZy5zZW5kZXJdID0gc3ViKF9hcHByb3ZhbHNbc3JjXVttc2cuc2VuZGVyXSwgd2FkKTsKICAgICAgICB9CgogICAgICAgIF9iYWxhbmNlc1tzcmNdID0gc3ViKF9iYWxhbmNlc1tzcmNdLCB3YWQpOwogICAgICAgIF9iYWxhbmNlc1tkc3RdID0gYWRkKF9iYWxhbmNlc1tkc3RdLCB3YWQpOwoKICAgICAgICBUcmFuc2ZlcihzcmMsIGRzdCwgd2FkKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gcHVzaChhZGRyZXNzIGRzdCwgdWludCB3YWQpIHB1YmxpYyB7CiAgICAgICAgdHJhbnNmZXJGcm9tKG1zZy5zZW5kZXIsIGRzdCwgd2FkKTsKICAgIH0KICAgIGZ1bmN0aW9uIHB1bGwoYWRkcmVzcyBzcmMsIHVpbnQgd2FkKSBwdWJsaWMgewogICAgICAgIHRyYW5zZmVyRnJvbShzcmMsIG1zZy5zZW5kZXIsIHdhZCk7CiAgICB9CiAgICBmdW5jdGlvbiBtb3ZlKGFkZHJlc3Mgc3JjLCBhZGRyZXNzIGRzdCwgdWludCB3YWQpIHB1YmxpYyB7CiAgICAgICAgdHJhbnNmZXJGcm9tKHNyYywgZHN0LCB3YWQpOwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbnQodWludCB3YWQpIHB1YmxpYyB7CiAgICAgICAgbWludChtc2cuc2VuZGVyLCB3YWQpOwogICAgfQogICAgZnVuY3Rpb24gYnVybih1aW50IHdhZCkgcHVibGljIHsKICAgICAgICBidXJuKG1zZy5zZW5kZXIsIHdhZCk7CiAgICB9CiAgICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgZ3V5LCB1aW50IHdhZCkgcHVibGljIGF1dGggc3RvcHBhYmxlIHsKICAgICAgICBfYmFsYW5jZXNbZ3V5XSA9IGFkZChfYmFsYW5jZXNbZ3V5XSwgd2FkKTsKICAgICAgICBfc3VwcGx5ID0gYWRkKF9zdXBwbHksIHdhZCk7CiAgICAgICAgTWludChndXksIHdhZCk7CiAgICB9CiAgICBmdW5jdGlvbiBidXJuKGFkZHJlc3MgZ3V5LCB1aW50IHdhZCkgcHVibGljIGF1dGggc3RvcHBhYmxlIHsKICAgICAgICBpZiAoZ3V5ICE9IG1zZy5zZW5kZXIgJiYgIV90cnVzdGVkW2d1eV1bbXNnLnNlbmRlcl0pIHsKICAgICAgICAgICAgX2FwcHJvdmFsc1tndXldW21zZy5zZW5kZXJdID0gc3ViKF9hcHByb3ZhbHNbZ3V5XVttc2cuc2VuZGVyXSwgd2FkKTsKICAgICAgICB9CgogICAgICAgIF9iYWxhbmNlc1tndXldID0gc3ViKF9iYWxhbmNlc1tndXldLCB3YWQpOwogICAgICAgIF9zdXBwbHkgPSBzdWIoX3N1cHBseSwgd2FkKTsKICAgICAgICBCdXJuKGd1eSwgd2FkKTsKICAgIH0KCiAgICAvLyBPcHRpb25hbCB0b2tlbiBuYW1lCiAgICBieXRlczMyICAgcHVibGljICBuYW1lID0gIiI7CgogICAgZnVuY3Rpb24gc2V0TmFtZShieXRlczMyIG5hbWVfKSBwdWJsaWMgYXV0aCB7CiAgICAgICAgbmFtZSA9IG5hbWVfOwogICAgfQp9CgpwcmFnbWEgc29saWRpdHkgXjAuNC4yOwoKLy8gVGhpcyBjb250cmFjdCBhbGxvd3MgcGVvcGxlIHRvIHVzZSBWSUVXIHRva2VucyB0byBwdWJsaXNoIHZpZGVvcyBvbiBWaWV3bHkuCmNvbnRyYWN0IFZpZGVvUHVibGlzaGVyIGlzIERTQXV0aCwgRFNNYXRoIHsKCiAgICBEU1Rva2VuIHB1YmxpYyB2aWV3VG9rZW47CiAgICB1aW50IHB1YmxpYyBwcmljZTsKICAgIG1hcHBpbmcgKGJ5dGVzMTIgPT4gYm9vbCkgcHVibGljIHZpZGVvczsKICAgIGV2ZW50IFB1Ymxpc2hlZCgKICAgICAgICBieXRlczEyIHZpZGVvSUQsCiAgICAgICAgdWludCBwcmljZQogICAgKTsKCiAgICBmdW5jdGlvbiBWaWRlb1B1Ymxpc2hlcihEU1Rva2VuIHZpZXdUb2tlbl8sIHVpbnQgcHJpY2VfKSBwdWJsaWMgewogICAgICAgIHZpZXdUb2tlbiA9IHZpZXdUb2tlbl87CiAgICAgICAgcHJpY2UgPSBwcmljZV87CiAgICB9CgogICAgZnVuY3Rpb24gcHVibGlzaChieXRlczEyIHZpZGVvSUQpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZSghdmlkZW9zW3ZpZGVvSURdKTsKICAgICAgICByZXF1aXJlKHZpZXdUb2tlbi50cmFuc2ZlckZyb20obXNnLnNlbmRlciwgdGhpcywgcHJpY2UpKTsKICAgICAgICB2aWRlb3NbdmlkZW9JRF0gPSB0cnVlOwogICAgICAgIFB1Ymxpc2hlZCh2aWRlb0lELCBwcmljZSk7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0UHJpY2UodWludCBuZXdQcmljZSkgcHVibGljIGF1dGggewogICAgICAgIHByaWNlID0gbmV3UHJpY2U7CiAgICB9CgogICAgZnVuY3Rpb24gd2l0aGRyYXcoYWRkcmVzcyBhZGRyKSBwdWJsaWMgYXV0aCB7CiAgICAgICAgdmlld1Rva2VuLnRyYW5zZmVyKGFkZHIsIHZpZXdUb2tlbi5iYWxhbmNlT2YodGhpcykpOwogICAgfQoKICAgIGZ1bmN0aW9uIGRlc3RydWN0KGFkZHJlc3MgYWRkcikgcHVibGljIGF1dGggewogICAgICAgIHJlcXVpcmUodmlld1Rva2VuLmJhbGFuY2VPZih0aGlzKSA9PSAwKTsKICAgICAgICBzZWxmZGVzdHJ1Y3QoYWRkcik7CiAgICB9CgogICAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewogICAgICAgIHJldmVydCgpOwogICAgfQoKfQ=='.
	

]
