Class {
	#name : #SRTe730f31d7f6bcf5406931b7e680c362c2dda303c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe730f31d7f6bcf5406931b7e680c362c2dda303c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKCiAgICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9Cn0KCmNvbnRyYWN0IFN1cGVyT3duZXJzIHsKCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjE7CiAgICBhZGRyZXNzIHB1YmxpYyBwZW5kaW5nT3duZXIxOwogICAgCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjI7CiAgICBhZGRyZXNzIHB1YmxpYyBwZW5kaW5nT3duZXIyOwoKICAgIGZ1bmN0aW9uIFN1cGVyT3duZXJzKGFkZHJlc3MgX293bmVyMSwgYWRkcmVzcyBfb3duZXIyKSBpbnRlcm5hbCB7CiAgICAgICAgcmVxdWlyZShfb3duZXIxICE9IGFkZHJlc3MoMCkpOwogICAgICAgIG93bmVyMSA9IF9vd25lcjE7CiAgICAgICAgCiAgICAgICAgcmVxdWlyZShfb3duZXIyICE9IGFkZHJlc3MoMCkpOwogICAgICAgIG93bmVyMiA9IF9vd25lcjI7CiAgICB9CgogICAgbW9kaWZpZXIgb25seVN1cGVyT3duZXIxKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcjEpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIG1vZGlmaWVyIG9ubHlTdXBlck93bmVyMigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIyKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICAvKiogQW55IG9mIHRoZSBvd25lcnMgY2FuIGV4ZWN1dGUgdGhpcy4gKi8KICAgIG1vZGlmaWVyIG9ubHlTdXBlck93bmVyKCkgewogICAgICAgIHJlcXVpcmUoaXNTdXBlck93bmVyKG1zZy5zZW5kZXIpKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICAvKiogSXMgbXNnLnNlbmRlciBhbnkgb2YgdGhlIG93bmVycy4gKi8KICAgIGZ1bmN0aW9uIGlzU3VwZXJPd25lcihhZGRyZXNzIF9hZGRyKSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIF9hZGRyID09IG93bmVyMSB8fCBfYWRkciA9PSBvd25lcjI7CiAgICB9CgogICAgLyoqIAogICAgICogU2FmZSB0cmFuc2ZlciBvZiBvd25lcnNoaXAgaW4gMiBzdGVwcy4gT25jZSBjYWxsZWQsIGEgbmV3T3duZXIgbmVlZHMgCiAgICAgKiB0byBjYWxsIGNsYWltT3duZXJzaGlwKCkgdG8gcHJvdmUgb3duZXJzaGlwLgogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcDEoYWRkcmVzcyBfbmV3T3duZXIxKSBvbmx5U3VwZXJPd25lcjEgcHVibGljIHsKICAgICAgICBwZW5kaW5nT3duZXIxID0gX25ld093bmVyMTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAyKGFkZHJlc3MgX25ld093bmVyMikgb25seVN1cGVyT3duZXIyIHB1YmxpYyB7CiAgICAgICAgcGVuZGluZ093bmVyMiA9IF9uZXdPd25lcjI7CiAgICB9CgogICAgZnVuY3Rpb24gY2xhaW1Pd25lcnNoaXAxKCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gcGVuZGluZ093bmVyMSk7CiAgICAgICAgb3duZXIxID0gcGVuZGluZ093bmVyMTsKICAgICAgICBwZW5kaW5nT3duZXIxID0gYWRkcmVzcygwKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY2xhaW1Pd25lcnNoaXAyKCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gcGVuZGluZ093bmVyMik7CiAgICAgICAgb3duZXIyID0gcGVuZGluZ093bmVyMjsKICAgICAgICBwZW5kaW5nT3duZXIyID0gYWRkcmVzcygwKTsKICAgIH0KfQoKY29udHJhY3QgTXVsdGlPd25hYmxlIGlzIFN1cGVyT3duZXJzIHsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBvd25lck1hcDsKICAgIGFkZHJlc3NbXSBwdWJsaWMgb3duZXJIaXN0b3J5OwoKICAgIGV2ZW50IE93bmVyQWRkZWRFdmVudChhZGRyZXNzIGluZGV4ZWQgX25ld093bmVyKTsKICAgIGV2ZW50IE93bmVyUmVtb3ZlZEV2ZW50KGFkZHJlc3MgaW5kZXhlZCBfb2xkT3duZXIpOwoKICAgIGZ1bmN0aW9uIE11bHRpT3duYWJsZShhZGRyZXNzIF9vd25lcjEsIGFkZHJlc3MgX293bmVyMikgCiAgICAgICAgU3VwZXJPd25lcnMoX293bmVyMSwgX293bmVyMikgaW50ZXJuYWwge30KCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShpc093bmVyKG1zZy5zZW5kZXIpKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzT3duZXIoYWRkcmVzcyBvd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBpc1N1cGVyT3duZXIob3duZXIpIHx8IG93bmVyTWFwW293bmVyXTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gb3duZXJIaXN0b3J5Q291bnQoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIG93bmVySGlzdG9yeS5sZW5ndGg7CiAgICB9CgogICAgLy8gQWRkIGV4dHJhIG93bmVyCiAgICBmdW5jdGlvbiBhZGRPd25lcihhZGRyZXNzIG93bmVyKSBvbmx5U3VwZXJPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUob3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZSghb3duZXJNYXBbb3duZXJdKTsKICAgICAgICBvd25lck1hcFtvd25lcl0gPSB0cnVlOwogICAgICAgIG93bmVySGlzdG9yeS5wdXNoKG93bmVyKTsKICAgICAgICBPd25lckFkZGVkRXZlbnQob3duZXIpOwogICAgfQoKICAgIC8vIFJlbW92ZSBleHRyYSBvd25lcgogICAgZnVuY3Rpb24gcmVtb3ZlT3duZXIoYWRkcmVzcyBvd25lcikgb25seVN1cGVyT3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKG93bmVyTWFwW293bmVyXSk7CiAgICAgICAgb3duZXJNYXBbb3duZXJdID0gZmFsc2U7CiAgICAgICAgT3duZXJSZW1vdmVkRXZlbnQob3duZXIpOwogICAgfQp9Cgpjb250cmFjdCBFUkMyMCB7CgogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICAKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwp9Cgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwIHsKICAgIAogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwogICAgICAgIAogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAZGV2IEFsbG93cyBhbGxvd2VkIHRoaXJkIHBhcnR5IHRvIHRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIuIFJldHVybnMgc3VjY2Vzcy4KICAgIC8vLyBAcGFyYW0gX2Zyb20gQWRkcmVzcyBmcm9tIHdoZXJlIHRva2VucyBhcmUgd2l0aGRyYXduLgogICAgLy8vIEBwYXJhbSBfdG8gQWRkcmVzcyB0byB3aGVyZSB0b2tlbnMgYXJlIHNlbnQuCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyLgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA+IDApOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW19mcm9tXSk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0pOwogICAgICAgIAogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBkZXYgU2V0cyBhcHByb3ZlZCBhbW91bnQgb2YgdG9rZW5zIGZvciBzcGVuZGVyLiBSZXR1cm5zIHN1Y2Nlc3MuCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIEFkZHJlc3Mgb2YgYWxsb3dlZCBhY2NvdW50LgogICAgLy8vIEBwYXJhbSBfdmFsdWUgTnVtYmVyIG9mIGFwcHJvdmVkIHRva2Vucy4KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBkZXYgUmV0dXJucyBudW1iZXIgb2YgYWxsb3dlZCB0b2tlbnMgZm9yIGdpdmVuIGFkZHJlc3MuCiAgICAvLy8gQHBhcmFtIF9vd25lciBBZGRyZXNzIG9mIHRva2VuIG93bmVyLgogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBBZGRyZXNzIG9mIHRva2VuIHNwZW5kZXIuCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9Cn0KCmNvbnRyYWN0IENvbW1vblRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIE11bHRpT3duYWJsZSB7CgogICAgc3RyaW5nIHB1YmxpYyBuYW1lOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDE4OwogICAgc3RyaW5nIHB1YmxpYyB2ZXJzaW9uID0gJ3YwLjEnOwoKICAgIGFkZHJlc3MgcHVibGljIHNlbGxlcjsgICAgIC8vIFRoZSBtYWluIGFjY291bnQgdGhhdCBob2xkcyBhbGwgdG9rZW5zIGF0IHRoZSBiZWdpbm5pbmcgYW5kIGR1cmluZyB0b2tlbnNhbGUuCgogICAgdWludDI1NiBwdWJsaWMgc2FsZUxpbWl0OyAgLy8gKGUxOCkgSG93IG1hbnkgdG9rZW5zIGNhbiBiZSBzb2xkIGluIHRvdGFsIHRocm91Z2ggYWxsIHRpZXJzIG9yIHRva2Vuc2FsZXMuCiAgICB1aW50MjU2IHB1YmxpYyB0b2tlbnNTb2xkOyAvLyAoZTE4KSBOdW1iZXIgb2YgdG9rZW5zIHNvbGQgdGhyb3VnaCBhbGwgdGllcnMgb3IgdG9rZW5zYWxlcy4KICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU2FsZXM7IC8vIFRvdGFsIG51bWJlciBvZiBzYWxlcyAoaW5jbHVkaW5nIGV4dGVybmFsIHNhbGVzKSBtYWRlIHRocm91Z2ggYWxsIHRpZXJzIG9yIHRva2Vuc2FsZXMuCgogICAgLy8gTG9jayB0aGUgdHJhbnNmZXIgZnVuY3Rpb25zIGR1cmluZyB0b2tlbnNhbGVzIHRvIHByZXZlbnQgcHJpY2Ugc3BlY3VsYXRpb25zLgogICAgYm9vbCBwdWJsaWMgbG9ja2VkID0gdHJ1ZTsKICAgIAogICAgZXZlbnQgU2VsbEV2ZW50KGFkZHJlc3MgaW5kZXhlZCBfc2VsbGVyLCBhZGRyZXNzIGluZGV4ZWQgX2J1eWVyLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBDaGFuZ2VTZWxsZXJFdmVudChhZGRyZXNzIGluZGV4ZWQgX29sZFNlbGxlciwgYWRkcmVzcyBpbmRleGVkIF9uZXdTZWxsZXIpOwogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgX2J1cm5lciwgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgVW5sb2NrKCk7CgogICAgZnVuY3Rpb24gQ29tbW9uVG9rZW4oCiAgICAgICAgYWRkcmVzcyBfb3duZXIxLAogICAgICAgIGFkZHJlc3MgX293bmVyMiwKICAgICAgICBhZGRyZXNzIF9zZWxsZXIsCiAgICAgICAgc3RyaW5nIF9uYW1lLAogICAgICAgIHN0cmluZyBfc3ltYm9sLAogICAgICAgIHVpbnQyNTYgX3RvdGFsU3VwcGx5Tm9EZWNpbWFscywKICAgICAgICB1aW50MjU2IF9zYWxlTGltaXROb0RlY2ltYWxzCiAgICApIE11bHRpT3duYWJsZShfb3duZXIxLCBfb3duZXIyKSBwdWJsaWMgewoKICAgICAgICByZXF1aXJlKF9zZWxsZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfdG90YWxTdXBwbHlOb0RlY2ltYWxzID4gMCk7CiAgICAgICAgcmVxdWlyZShfc2FsZUxpbWl0Tm9EZWNpbWFscyA+IDApOwoKICAgICAgICBzZWxsZXIgPSBfc2VsbGVyOwogICAgICAgIG5hbWUgPSBfbmFtZTsKICAgICAgICBzeW1ib2wgPSBfc3ltYm9sOwogICAgICAgIHRvdGFsU3VwcGx5ID0gX3RvdGFsU3VwcGx5Tm9EZWNpbWFscyAqIDFlMTg7CiAgICAgICAgc2FsZUxpbWl0ID0gX3NhbGVMaW1pdE5vRGVjaW1hbHMgKiAxZTE4OwogICAgICAgIGJhbGFuY2VzW3NlbGxlcl0gPSB0b3RhbFN1cHBseTsKCiAgICAgICAgVHJhbnNmZXIoMHgwLCBzZWxsZXIsIHRvdGFsU3VwcGx5KTsKICAgIH0KICAgIAogICAgbW9kaWZpZXIgaWZVbmxvY2tlZChhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bykgewogICAgICAgIHJlcXVpcmUoIWxvY2tlZCB8fCBpc093bmVyKF9mcm9tKSB8fCBpc093bmVyKF90bykpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIC8qKiBDYW4gYmUgY2FsbGVkIG9uY2UgYnkgc3VwZXIgb3duZXIuICovCiAgICBmdW5jdGlvbiB1bmxvY2soKSBvbmx5U3VwZXJPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobG9ja2VkKTsKICAgICAgICBsb2NrZWQgPSBmYWxzZTsKICAgICAgICBVbmxvY2soKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VTZWxsZXIoYWRkcmVzcyBuZXdTZWxsZXIpIG9ubHlTdXBlck93bmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShuZXdTZWxsZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShzZWxsZXIgIT0gbmV3U2VsbGVyKTsKCiAgICAgICAgYWRkcmVzcyBvbGRTZWxsZXIgPSBzZWxsZXI7CiAgICAgICAgdWludDI1NiB1bnNvbGRUb2tlbnMgPSBiYWxhbmNlc1tvbGRTZWxsZXJdOwogICAgICAgIGJhbGFuY2VzW29sZFNlbGxlcl0gPSAwOwogICAgICAgIGJhbGFuY2VzW25ld1NlbGxlcl0gPSBiYWxhbmNlc1tuZXdTZWxsZXJdLmFkZCh1bnNvbGRUb2tlbnMpOwogICAgICAgIFRyYW5zZmVyKG9sZFNlbGxlciwgbmV3U2VsbGVyLCB1bnNvbGRUb2tlbnMpOwoKICAgICAgICBzZWxsZXIgPSBuZXdTZWxsZXI7CiAgICAgICAgQ2hhbmdlU2VsbGVyRXZlbnQob2xkU2VsbGVyLCBuZXdTZWxsZXIpOwogICAgICAgIAogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHNlbGxOb0RlY2ltYWxzKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gc2VsbChfdG8sIF92YWx1ZSAqIDFlMTgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNlbGwoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBvbmx5T3duZXIgcHVibGljIHJldHVybnMgKGJvb2wpIHsKCiAgICAgICAgLy8gQ2hlY2sgdGhhdCB3ZSBhcmUgbm90IG91dCBvZiBsaW1pdCBhbmQgc3RpbGwgY2FuIHNlbGwgdG9rZW5zOgogICAgICAgIHJlcXVpcmUodG9rZW5zU29sZC5hZGQoX3ZhbHVlKSA8PSBzYWxlTGltaXQpOwoKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA+IDApOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW3NlbGxlcl0pOwoKICAgICAgICBiYWxhbmNlc1tzZWxsZXJdID0gYmFsYW5jZXNbc2VsbGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBUcmFuc2ZlcihzZWxsZXIsIF90bywgX3ZhbHVlKTsKCiAgICAgICAgdG90YWxTYWxlcysrOwogICAgICAgIHRva2Vuc1NvbGQgPSB0b2tlbnNTb2xkLmFkZChfdmFsdWUpOwogICAgICAgIFNlbGxFdmVudChzZWxsZXIsIF90bywgX3ZhbHVlKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogVW50aWwgYWxsIHRva2VucyBhcmUgc29sZCwgdG9rZW5zIGNhbiBiZSB0cmFuc2ZlcmVkIHRvL2Zyb20gb3duZXIncyBhY2NvdW50cy4KICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBpZlVubG9ja2VkKG1zZy5zZW5kZXIsIF90bykgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIC8qKgogICAgICogVW50aWwgYWxsIHRva2VucyBhcmUgc29sZCwgdG9rZW5zIGNhbiBiZSB0cmFuc2ZlcmVkIHRvL2Zyb20gb3duZXIncyBhY2NvdW50cy4KICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgaWZVbmxvY2tlZChfZnJvbSwgX3RvKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwoKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpIDsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YihfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIDB4MCwgX3ZhbHVlKTsKICAgICAgICBCdXJuKG1zZy5zZW5kZXIsIF92YWx1ZSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9Cgpjb250cmFjdCBSYWNlVG9rZW4gaXMgQ29tbW9uVG9rZW4gewogICAgCiAgICBmdW5jdGlvbiBSYWNlVG9rZW4oKSBDb21tb25Ub2tlbigKICAgICAgICAweDIyOUI5RWY4MEQyNUE3ZTc2NDhiMTdlMmM1OTg4MDVkMDQyZjllNTYsIC8vIF9fT1dORVIxX18KICAgICAgICAweGNkN2NGMUQ2MTNENTk3NDg3NkFmQmZkNjEyRUQ2QUZkOTQwOTNjZTcsIC8vIF9fT1dORVIyX18KICAgICAgICAweDI4MjFlMTQ4NkQ2MDQ1NjY4NDJGRjI3RjYyNmFGMTMzRmRkRDVmODksIC8vIF9fU0VMTEVSX18KICAgICAgICAnQ29pbiBSYWNlJywKICAgICAgICAnUkFDRScsCiAgICAgICAgMTAwICogMWU2LCAvLyAxMDBtIHRva2VucyBpbiB0b3RhbC4KICAgICAgICA3MCAqIDFlNiAgIC8vIDcwbSB0b2tlbnMgZm9yIHNhbGUuCiAgICApIHB1YmxpYyB7fQp9CgovKiogCiAqIEhlcmUgd2UgaW1wbGVtZW50IGFsbCB0b2tlbiBtZXRob2RzIHRoYXQgcmVxdWlyZSBtc2cuc2VuZGVyIHRvIGJlIGFsYmUgCiAqIHRvIHBlcmZvcm0gb3BlcmF0aW9ucyBvbiBiZWhhbGYgb2YgR2FtZVdhbGxldCBmcm9tIG90aGVyIENvaW5SYWNlIGNvbnRyYWN0cyAKICogbGlrZSBhIHBhcnRpY3VsYXIgY29udHJhY3Qgb2YgUmFjZUdhbWUuCiAqLwpjb250cmFjdCBDb21tb25XYWxsZXQgaXMgTXVsdGlPd25hYmxlIHsKICAgIAogICAgUmFjZVRva2VuIHB1YmxpYyB0b2tlbjsKICAgIAogICAgZXZlbnQgQ2hhbmdlVG9rZW5FdmVudChhZGRyZXNzIGluZGV4ZWQgX29sZEFkZHJlc3MsIGFkZHJlc3MgaW5kZXhlZCBfbmV3QWRkcmVzcyk7CiAgICAKICAgIGZ1bmN0aW9uIENvbW1vbldhbGxldChhZGRyZXNzIF9vd25lcjEsIGFkZHJlc3MgX293bmVyMikgCiAgICAgICAgTXVsdGlPd25hYmxlKF9vd25lcjEsIF9vd25lcjIpIHB1YmxpYyB7fQogICAgCiAgICBmdW5jdGlvbiBzZXRUb2tlbihhZGRyZXNzIF90b2tlbikgcHVibGljIG9ubHlTdXBlck93bmVyIHsKICAgICAgICByZXF1aXJlKF90b2tlbiAhPSAwKTsKICAgICAgICByZXF1aXJlKF90b2tlbiAhPSBhZGRyZXNzKHRva2VuKSk7CiAgICAgICAgCiAgICAgICAgQ2hhbmdlVG9rZW5FdmVudCh0b2tlbiwgX3Rva2VuKTsKICAgICAgICB0b2tlbiA9IFJhY2VUb2tlbihfdG9rZW4pOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiB0b2tlbi50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiB0b2tlbi50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHRva2VuLmFwcHJvdmUoX3NwZW5kZXIsIF92YWx1ZSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGJ1cm4odWludDI1NiBfdmFsdWUpIG9ubHlTdXBlck93bmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHRva2VuLmJ1cm4oX3ZhbHVlKTsKICAgIH0KICAgIAogICAgLyoqIEFtb3VudCBvZiB0b2tlbnMgdGhhdCBwbGF5ZXJzIG9mIENvaW5SYWNlIGJldCBkdXJpbmcgdGhlIGdhbWVzIGFuZCBoYXZlbid0IGNsYWltZWQgeWV0LiAqLwogICAgZnVuY3Rpb24gYmFsYW5jZSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gdG9rZW4uYmFsYW5jZU9mKHRoaXMpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gdG9rZW4uYmFsYW5jZU9mKF9vd25lcik7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiB0b2tlbi5hbGxvd2FuY2UoX293bmVyLCBfc3BlbmRlcik7CiAgICB9Cn0KCmNvbnRyYWN0IEdhbWVXYWxsZXQgaXMgQ29tbW9uV2FsbGV0IHsKICAgIAogICAgZnVuY3Rpb24gR2FtZVdhbGxldCgpIENvbW1vbldhbGxldCgKICAgICAgICAweDIyOUI5RWY4MEQyNUE3ZTc2NDhiMTdlMmM1OTg4MDVkMDQyZjllNTYsIC8vIF9fT1dORVIxX18KICAgICAgICAweGNkN2NGMUQ2MTNENTk3NDg3NkFmQmZkNjEyRUQ2QUZkOTQwOTNjZTcgIC8vIF9fT1dORVIyX18KICAgICkgcHVibGljIHt9Cn0='.
	

]
