Class {
	#name : #SRTe2ace83f9acfc236bd95481045990bfa6b711e16,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe2ace83f9acfc236bd95481045990bfa6b711e16 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5ID49MC40LjQ7CgovL2Zyb20gWmVwcGVsaW4KY29udHJhY3QgU2FmZU1hdGggewogICAgZnVuY3Rpb24gc2FmZU11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIHVpbnQgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZVN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGM+PWEgJiYgYz49Yik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgYXNzZXJ0aW9uKSBpbnRlcm5hbCB7CiAgICAgICAgaWYgKCFhc3NlcnRpb24pIHRocm93OwogICAgfQp9Cgpjb250cmFjdCBPd25lZCB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICBmdW5jdGlvbiBPd25lZCgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB0aHJvdzsKICAgICAgICBfOwogICAgfQoKICAgIGFkZHJlc3MgbmV3T3duZXI7CgogICAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICAgICAgbmV3T3duZXIgPSBfbmV3T3duZXI7CiAgICB9CgogICAgZnVuY3Rpb24gYWNjZXB0T3duZXJzaGlwKCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyID09IG5ld093bmVyKSB7CiAgICAgICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICAgICAgfQogICAgfQp9Cgpjb250cmFjdCBGaW5hbGl6YWJsZSBpcyBPd25lZCB7CiAgICBib29sIHB1YmxpYyBmaW5hbGl6ZWQ7CgogICAgZnVuY3Rpb24gZmluYWxpemUoKSBvbmx5T3duZXIgewogICAgICAgIGZpbmFsaXplZCA9IHRydWU7CiAgICB9CgogICAgbW9kaWZpZXIgbm90RmluYWxpemVkKCkgewogICAgICAgIGlmIChmaW5hbGl6ZWQpIHRocm93OwogICAgICAgIF87CiAgICB9Cn0KCmNvbnRyYWN0IElUb2tlbiB7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgb3duZXIpIHJldHVybnModWludCk7Cn0KCmNvbnRyYWN0IFRva2VuUmVjZWl2YWJsZSBpcyBPd25lZCB7CiAgICBldmVudCBsb2dUb2tlblRyYW5zZmVyKGFkZHJlc3MgdG9rZW4sIGFkZHJlc3MgdG8sIHVpbnQgYW1vdW50KTsKCiAgICBmdW5jdGlvbiBjbGFpbVRva2VucyhhZGRyZXNzIF90b2tlbiwgYWRkcmVzcyBfdG8pIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CiAgICAgICAgSVRva2VuIHRva2VuID0gSVRva2VuKF90b2tlbik7CiAgICAgICAgdWludCBiYWxhbmNlID0gdG9rZW4uYmFsYW5jZU9mKHRoaXMpOwogICAgICAgIGlmICh0b2tlbi50cmFuc2ZlcihfdG8sIGJhbGFuY2UpKSB7CiAgICAgICAgICAgIGxvZ1Rva2VuVHJhbnNmZXIoX3Rva2VuLCBfdG8sIGJhbGFuY2UpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQp9Cgpjb250cmFjdCBFdmVudERlZmluaXRpb25zIHsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB2YWx1ZSk7Cn0KCmNvbnRyYWN0IFRva2VuIGlzIEZpbmFsaXphYmxlLCBUb2tlblJlY2VpdmFibGUsIFNhZmVNYXRoLCBFdmVudERlZmluaXRpb25zIHsKCiAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAiRnVuRmFpciI7CiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSA4OwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiRlVOIjsKCiAgICBDb250cm9sbGVyIGNvbnRyb2xsZXI7CiAgICBhZGRyZXNzIG93bmVyOwoKICAgIG1vZGlmaWVyIG9ubHlDb250cm9sbGVyKCkgewogICAgICAgIGFzc2VydChtc2cuc2VuZGVyID09IGFkZHJlc3MoY29udHJvbGxlcikpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gc2V0Q29udHJvbGxlcihhZGRyZXNzIF9jKSBvbmx5T3duZXIgbm90RmluYWxpemVkIHsKICAgICAgICBjb250cm9sbGVyID0gQ29udHJvbGxlcihfYyk7CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgYSkgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBjb250cm9sbGVyLmJhbGFuY2VPZihhKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gY29udHJvbGxlci50b3RhbFN1cHBseSgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBjb250cm9sbGVyLmFsbG93YW5jZShfb3duZXIsIF9zcGVuZGVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpCiAgICBvbmx5UGF5bG9hZFNpemUoMikKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgc3VjY2VzcyA9IGNvbnRyb2xsZXIudHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIGlmIChzdWNjZXNzKSB7CiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkKICAgIG9ubHlQYXlsb2FkU2l6ZSgzKQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICBzdWNjZXNzID0gY29udHJvbGxlci50cmFuc2ZlckZyb20obXNnLnNlbmRlciwgX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICBpZiAoc3VjY2VzcykgewogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKQogICAgb25seVBheWxvYWRTaXplKDIpCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvL3Byb21vdGUgc2FmZSB1c2VyIGJlaGF2aW9yCiAgICAgICAgaWYgKGNvbnRyb2xsZXIuYWxsb3dhbmNlKG1zZy5zZW5kZXIsIF9zcGVuZGVyKSA+IDApIHRocm93OwoKICAgICAgICBzdWNjZXNzID0gY29udHJvbGxlci5hcHByb3ZlKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIGlmIChzdWNjZXNzKSB7CiAgICAgICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKQogICAgb25seVBheWxvYWRTaXplKDIpCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBzdWNjZXNzID0gY29udHJvbGxlci5pbmNyZWFzZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfYWRkZWRWYWx1ZSk7CiAgICAgICAgaWYgKHN1Y2Nlc3MpIHsKICAgICAgICAgICAgdWludCBuZXd2YWwgPSBjb250cm9sbGVyLmFsbG93YW5jZShtc2cuc2VuZGVyLCBfc3BlbmRlcik7CiAgICAgICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBuZXd2YWwpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpCiAgICBvbmx5UGF5bG9hZFNpemUoMikKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHN1Y2Nlc3MgPSBjb250cm9sbGVyLmRlY3JlYXNlQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgICAgIGlmIChzdWNjZXNzKSB7CiAgICAgICAgICAgIHVpbnQgbmV3dmFsID0gY29udHJvbGxlci5hbGxvd2FuY2UobXNnLnNlbmRlciwgX3NwZW5kZXIpOwogICAgICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgbmV3dmFsKTsKICAgICAgICB9CiAgICB9CgogICAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgbnVtd29yZHMpIHsKICAgICAgICBhc3NlcnQobXNnLmRhdGEubGVuZ3RoID49IG51bXdvcmRzICogMzIgKyA0KTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIGJ1cm4odWludCBfYW1vdW50KSB7CiAgICAgICAgY29udHJvbGxlci5idXJuKG1zZy5zZW5kZXIsIF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIDB4MCwgX2Ftb3VudCk7CiAgICB9CgogICAgZnVuY3Rpb24gY29udHJvbGxlclRyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkKICAgIG9ubHlDb250cm9sbGVyIHsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXJBcHByb3ZlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkKICAgIG9ubHlDb250cm9sbGVyIHsKICAgICAgICBBcHByb3ZhbChfb3duZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgfQoKICAgIC8vIG11bHRpLWFwcHJvdmUsIG11bHRpLXRyYW5zZmVyCgogICAgYm9vbCBwdWJsaWMgbXVsdGlsb2NrZWQ7CgogICAgbW9kaWZpZXIgbm90TXVsdGlsb2NrZWQgewogICAgICAgIGFzc2VydCghbXVsdGlsb2NrZWQpOwogICAgICAgIF87CiAgICB9CgogICAgLy9kbyB3ZSB3YW50IGxvY2sgcGVybWFuZW50PyBJIHRoaW5rIHNvLgogICAgZnVuY3Rpb24gbG9ja011bHRpcygpIG9ubHlPd25lciB7CiAgICAgICAgbXVsdGlsb2NrZWQgPSB0cnVlOwogICAgfQoKICAgIC8vIG11bHRpIGZ1bmN0aW9ucyBqdXN0IGlzc3VlIGV2ZW50cywgdG8gZml4IGluaXRpYWwgZXZlbnQgaGlzdG9yeQoKICAgIGZ1bmN0aW9uIG11bHRpVHJhbnNmZXIodWludFtdIGJpdHMpIG9ubHlPd25lciBub3RNdWx0aWxvY2tlZCB7CiAgICAgICAgaWYgKGJpdHMubGVuZ3RoICUgMyAhPSAwKSB0aHJvdzsKICAgICAgICBmb3IgKHVpbnQgaT0wOyBpPGJpdHMubGVuZ3RoOyBpICs9IDMpIHsKICAgICAgICAgICAgYWRkcmVzcyBmcm9tID0gYWRkcmVzcyhiaXRzW2ldKTsKICAgICAgICAgICAgYWRkcmVzcyB0byA9IGFkZHJlc3MoYml0c1tpKzFdKTsKICAgICAgICAgICAgdWludCBhbW91bnQgPSBiaXRzW2krMl07CiAgICAgICAgICAgIFRyYW5zZmVyKGZyb20sIHRvLCBhbW91bnQpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBtdWx0aUFwcHJvdmUodWludFtdIGJpdHMpIG9ubHlPd25lciBub3RNdWx0aWxvY2tlZCB7CiAgICAgICAgaWYgKGJpdHMubGVuZ3RoICUgMyAhPSAwKSB0aHJvdzsKICAgICAgICBmb3IgKHVpbnQgaT0wOyBpPGJpdHMubGVuZ3RoOyBpICs9IDMpIHsKICAgICAgICAgICAgYWRkcmVzcyBvd25lciA9IGFkZHJlc3MoYml0c1tpXSk7CiAgICAgICAgICAgIGFkZHJlc3Mgc3BlbmRlciA9IGFkZHJlc3MoYml0c1tpKzFdKTsKICAgICAgICAgICAgdWludCBhbW91bnQgPSBiaXRzW2krMl07CiAgICAgICAgICAgIEFwcHJvdmFsKG93bmVyLCBzcGVuZGVyLCBhbW91bnQpOwogICAgICAgIH0KICAgIH0KCiAgICBzdHJpbmcgcHVibGljIG1vdGQ7CiAgICBldmVudCBNb3RkKHN0cmluZyBtZXNzYWdlKTsKICAgIGZ1bmN0aW9uIHNldE1vdGQoc3RyaW5nIF9tKSBvbmx5T3duZXIgewogICAgICAgIG1vdGQgPSBfbTsKICAgICAgICBNb3RkKF9tKTsKICAgIH0KfQoKY29udHJhY3QgQ29udHJvbGxlciBpcyBPd25lZCwgRmluYWxpemFibGUgewogICAgTGVkZ2VyIHB1YmxpYyBsZWRnZXI7CiAgICBhZGRyZXNzIHB1YmxpYyB0b2tlbjsKCiAgICBmdW5jdGlvbiBzZXRUb2tlbihhZGRyZXNzIF90b2tlbikgb25seU93bmVyIHsKICAgICAgICB0b2tlbiA9IF90b2tlbjsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRMZWRnZXIoYWRkcmVzcyBfbGVkZ2VyKSBvbmx5T3duZXIgewogICAgICAgIGxlZGdlciA9IExlZGdlcihfbGVkZ2VyKTsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5VG9rZW4oKSB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gdG9rZW4pIHRocm93OwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIGxlZGdlci50b3RhbFN1cHBseSgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9hKSBvbmx5VG9rZW4gY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBMZWRnZXIobGVkZ2VyKS5iYWxhbmNlT2YoX2EpOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikKICAgIG9ubHlUb2tlbiBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIGxlZGdlci5hbGxvd2FuY2UoX293bmVyLCBfc3BlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKQogICAgb25seVRva2VuCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXR1cm4gbGVkZ2VyLnRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX3NwZW5kZXIsIGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkKICAgIG9ubHlUb2tlbgogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmV0dXJuIGxlZGdlci50cmFuc2ZlckZyb20oX3NwZW5kZXIsIF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpCiAgICBvbmx5VG9rZW4KICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJldHVybiBsZWRnZXIuYXBwcm92ZShfb3duZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKQogICAgb25seVRva2VuCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXR1cm4gbGVkZ2VyLmluY3JlYXNlQXBwcm92YWwoX293bmVyLCBfc3BlbmRlciwgX2FkZGVkVmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpCiAgICBvbmx5VG9rZW4KICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJldHVybiBsZWRnZXIuZGVjcmVhc2VBcHByb3ZhbChfb3duZXIsIF9zcGVuZGVyLCBfc3VidHJhY3RlZFZhbHVlKTsKICAgIH0KCgogICAgZnVuY3Rpb24gYnVybihhZGRyZXNzIF9vd25lciwgdWludCBfYW1vdW50KSBvbmx5VG9rZW4gewogICAgICAgIGxlZGdlci5idXJuKF9vd25lciwgX2Ftb3VudCk7CiAgICB9Cn0KCmNvbnRyYWN0IExlZGdlciBpcyBPd25lZCwgU2FmZU1hdGgsIEZpbmFsaXphYmxlIHsKICAgIGFkZHJlc3MgcHVibGljIGNvbnRyb2xsZXI7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcHVibGljIGJhbGFuY2VPZjsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgcHVibGljIGFsbG93YW5jZTsKICAgIHVpbnQgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIGZ1bmN0aW9uIHNldENvbnRyb2xsZXIoYWRkcmVzcyBfY29udHJvbGxlcikgb25seU93bmVyIG5vdEZpbmFsaXplZCB7CiAgICAgICAgY29udHJvbGxlciA9IF9jb250cm9sbGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlDb250cm9sbGVyKCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IGNvbnRyb2xsZXIpIHRocm93OwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKQogICAgb25seUNvbnRyb2xsZXIKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGlmIChiYWxhbmNlT2ZbX2Zyb21dIDwgX3ZhbHVlKSByZXR1cm4gZmFsc2U7CgogICAgICAgIGJhbGFuY2VPZltfZnJvbV0gPSBzYWZlU3ViKGJhbGFuY2VPZltfZnJvbV0sIF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZU9mW190b10gPSBzYWZlQWRkKGJhbGFuY2VPZltfdG9dLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9zcGVuZGVyLCBhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpCiAgICBvbmx5Q29udHJvbGxlcgogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYgKGJhbGFuY2VPZltfZnJvbV0gPCBfdmFsdWUpIHJldHVybiBmYWxzZTsKCiAgICAgICAgdmFyIGFsbG93ZWQgPSBhbGxvd2FuY2VbX2Zyb21dW19zcGVuZGVyXTsKICAgICAgICBpZiAoYWxsb3dlZCA8IF92YWx1ZSkgcmV0dXJuIGZhbHNlOwoKICAgICAgICBiYWxhbmNlT2ZbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZU9mW190b10sIF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZU9mW19mcm9tXSA9IHNhZmVTdWIoYmFsYW5jZU9mW19mcm9tXSwgX3ZhbHVlKTsKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW19zcGVuZGVyXSA9IHNhZmVTdWIoYWxsb3dlZCwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkKICAgIG9ubHlDb250cm9sbGVyCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvL3JlcXVpcmUgdXNlciB0byBzZXQgdG8gemVybyBiZWZvcmUgcmVzZXR0aW5nIHRvIG5vbnplcm8KICAgICAgICBpZiAoKF92YWx1ZSAhPSAwKSAmJiAoYWxsb3dhbmNlW19vd25lcl1bX3NwZW5kZXJdICE9IDApKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGFsbG93YW5jZVtfb3duZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkKICAgIG9ubHlDb250cm9sbGVyCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICB1aW50IG9sZFZhbHVlID0gYWxsb3dhbmNlW19vd25lcl1bX3NwZW5kZXJdOwogICAgICAgIGFsbG93YW5jZVtfb3duZXJdW19zcGVuZGVyXSA9IHNhZmVBZGQob2xkVmFsdWUsIF9hZGRlZFZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKQogICAgb25seUNvbnRyb2xsZXIKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2FuY2VbX293bmVyXVtfc3BlbmRlcl07CiAgICAgICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICAgICAgICBhbGxvd2FuY2VbX293bmVyXVtfc3BlbmRlcl0gPSAwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsbG93YW5jZVtfb3duZXJdW19zcGVuZGVyXSA9IHNhZmVTdWIob2xkVmFsdWUsIF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBldmVudCBMb2dNaW50KGFkZHJlc3MgaW5kZXhlZCBvd25lciwgdWludCBhbW91bnQpOwogICAgZXZlbnQgTG9nTWludGluZ1N0b3BwZWQoKTsKCiAgICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX2EsIHVpbnQgX2Ftb3VudCkgb25seU93bmVyIG1pbnRpbmdBY3RpdmUgewogICAgICAgIGJhbGFuY2VPZltfYV0gKz0gX2Ftb3VudDsKICAgICAgICB0b3RhbFN1cHBseSArPSBfYW1vdW50OwogICAgICAgIExvZ01pbnQoX2EsIF9hbW91bnQpOwogICAgfQoKICAgIGJvb2wgcHVibGljIG1pbnRpbmdTdG9wcGVkOwoKICAgIGZ1bmN0aW9uIHN0b3BNaW50aW5nKCkgb25seU93bmVyIHsKICAgICAgICBtaW50aW5nU3RvcHBlZCA9IHRydWU7CiAgICAgICAgTG9nTWludGluZ1N0b3BwZWQoKTsKICAgIH0KCiAgICBtb2RpZmllciBtaW50aW5nQWN0aXZlKCkgewogICAgICAgIGlmIChtaW50aW5nU3RvcHBlZCkgdGhyb3c7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBidXJuKGFkZHJlc3MgX293bmVyLCB1aW50IF9hbW91bnQpIG9ubHlDb250cm9sbGVyIHsKICAgICAgICBiYWxhbmNlT2ZbX293bmVyXSA9IHNhZmVTdWIoYmFsYW5jZU9mW19vd25lcl0sIF9hbW91bnQpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gc2FmZVN1Yih0b3RhbFN1cHBseSwgX2Ftb3VudCk7CiAgICB9Cn0='.
	

]
