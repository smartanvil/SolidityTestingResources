Class {
	#name : #SRTce85675ea91f8afe2a67869a8b1f9136187dc772,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTce85675ea91f8afe2a67869a8b1f9136187dc772 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSAKewogIGFkZHJlc3MgcHVibGljIG93bmVyOwogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwogICAgCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cn0KCmNvbnRyYWN0IE5GVCAKewogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCk7CiAgZnVuY3Rpb24gdG9rZW5PZk93bmVyQnlJbmRleChhZGRyZXNzIG93bmVyLCB1aW50IGluZGV4KSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCk7CiAgZnVuY3Rpb24gb3duZXJPZih1aW50IHRva2VuSWQpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzKTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHRva2VuSWQpIHB1YmxpYzsKICBmdW5jdGlvbiB0YWtlT3duZXJzaGlwKHVpbnQgdG9rZW5JZCkgcHVibGljOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBiZW5lZmljaWFyeSwgdWludCB0b2tlbklkKSBwdWJsaWM7CiAgZnVuY3Rpb24gbWV0YWRhdGEodWludCB0b2tlbklkKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nKTsKfQoKY29udHJhY3QgTkZURXZlbnRzIAp7CiAgZXZlbnQgVG9rZW5DcmVhdGVkKHVpbnQgdG9rZW5JZCwgYWRkcmVzcyBvd25lciwgc3RyaW5nIG1ldGFkYXRhKTsKICBldmVudCBUb2tlbkRlc3Ryb3llZCh1aW50IHRva2VuSWQsIGFkZHJlc3Mgb3duZXIpOwogIGV2ZW50IFRva2VuVHJhbnNmZXJyZWQodWludCB0b2tlbklkLCBhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8pOwogIGV2ZW50IFRva2VuVHJhbnNmZXJBbGxvd2VkKHVpbnQgdG9rZW5JZCwgYWRkcmVzcyBiZW5lZmljaWFyeSk7CiAgZXZlbnQgVG9rZW5UcmFuc2ZlckRpc2FsbG93ZWQodWludCB0b2tlbklkLCBhZGRyZXNzIGJlbmVmaWNpYXJ5KTsKICBldmVudCBUb2tlbk1ldGFkYXRhVXBkYXRlZCh1aW50IHRva2VuSWQsIGFkZHJlc3Mgb3duZXIsIHN0cmluZyBkYXRhKTsKfQoKY29udHJhY3QgQmFzaWNORlQgaXMgTkZULCBORlRFdmVudHMgCnsKICB1aW50IHB1YmxpYyB0b3RhbFRva2VuczsKCiAgLy8gQXJyYXkgb2Ygb3duZWQgdG9rZW5zIGZvciBhIHVzZXIKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludFtdKSBwdWJsaWMgb3duZWRUb2tlbnM7CiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIF92aXJ0dWFsTGVuZ3RoOwogIG1hcHBpbmcodWludCA9PiB1aW50KSBfdG9rZW5JbmRleEluT3duZXJBcnJheTsKCiAgLy8gTWFwcGluZyBmcm9tIHRva2VuIElEIHRvIG93bmVyCiAgbWFwcGluZyh1aW50ID0+IGFkZHJlc3MpIHB1YmxpYyB0b2tlbk93bmVyOwoKICAvLyBBbGxvd2VkIHRyYW5zZmVycyBmb3IgYSB0b2tlbiAob25seSBvbmUgYXQgYSB0aW1lKQogIG1hcHBpbmcodWludCA9PiBhZGRyZXNzKSBwdWJsaWMgYWxsb3dlZFRyYW5zZmVyOwoKICAvLyBNZXRhZGF0YSBhc3NvY2lhdGVkIHdpdGggZWFjaCB0b2tlbgogIG1hcHBpbmcodWludCA9PiBzdHJpbmcpIHB1YmxpYyB0b2tlbk1ldGFkYXRhOwoKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSAKICB7CiAgICByZXR1cm4gdG90YWxUb2tlbnM7CiAgfQoKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBvd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIAogIHsKICAgIHJldHVybiBfdmlydHVhbExlbmd0aFtvd25lcl07CiAgfQoKICBmdW5jdGlvbiB0b2tlbk9mT3duZXJCeUluZGV4KGFkZHJlc3Mgb3duZXIsIHVpbnQgaW5kZXgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSAKICB7CiAgICByZXF1aXJlKGluZGV4ID49IDAgJiYgaW5kZXggPCBiYWxhbmNlT2Yob3duZXIpKTsKICAgIHJldHVybiBvd25lZFRva2Vuc1tvd25lcl1baW5kZXhdOwogIH0KCiAgZnVuY3Rpb24gZ2V0QWxsVG9rZW5zKGFkZHJlc3Mgb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50W10pIAogIHsKICAgIHVpbnQgc2l6ZSA9IF92aXJ0dWFsTGVuZ3RoW293bmVyXTsKICAgIHVpbnRbXSBtZW1vcnkgcmVzdWx0ID0gbmV3IHVpbnRbXShzaXplKTsKICAgIGZvciAodWludCBpID0gMDsgaSA8IHNpemU7IGkrKykgewogICAgICByZXN1bHRbaV0gPSBvd25lZFRva2Vuc1tvd25lcl1baV07CiAgICB9CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgZnVuY3Rpb24gb3duZXJPZih1aW50IHRva2VuSWQpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzKSAKICB7CiAgICByZXR1cm4gdG9rZW5Pd25lclt0b2tlbklkXTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQgdG9rZW5JZCkgcHVibGljCiAgewogICAgcmVxdWlyZSh0b2tlbk93bmVyW3Rva2VuSWRdID09IG1zZy5zZW5kZXIgfHwgYWxsb3dlZFRyYW5zZmVyW3Rva2VuSWRdID09IG1zZy5zZW5kZXIpOwogICAgX3RyYW5zZmVyKHRva2VuT3duZXJbdG9rZW5JZF0sIHRvLCB0b2tlbklkKTsKICB9CgogIGZ1bmN0aW9uIHRha2VPd25lcnNoaXAodWludCB0b2tlbklkKSBwdWJsaWMgCiAgewogICAgcmVxdWlyZShhbGxvd2VkVHJhbnNmZXJbdG9rZW5JZF0gPT0gbXNnLnNlbmRlcik7CiAgICBfdHJhbnNmZXIodG9rZW5Pd25lclt0b2tlbklkXSwgbXNnLnNlbmRlciwgdG9rZW5JZCk7CiAgfQoKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgYmVuZWZpY2lhcnksIHVpbnQgdG9rZW5JZCkgcHVibGljIAogIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSB0b2tlbk93bmVyW3Rva2VuSWRdKTsKICAgIGlmIChhbGxvd2VkVHJhbnNmZXJbdG9rZW5JZF0gIT0gMCkgCiAgICB7CiAgICAgIGFsbG93ZWRUcmFuc2Zlclt0b2tlbklkXSA9IDA7CiAgICAgIFRva2VuVHJhbnNmZXJEaXNhbGxvd2VkKHRva2VuSWQsIGFsbG93ZWRUcmFuc2Zlclt0b2tlbklkXSk7CiAgICB9CiAgICBhbGxvd2VkVHJhbnNmZXJbdG9rZW5JZF0gPSBiZW5lZmljaWFyeTsKICAgIFRva2VuVHJhbnNmZXJBbGxvd2VkKHRva2VuSWQsIGJlbmVmaWNpYXJ5KTsKICB9CgogIGZ1bmN0aW9uIG1ldGFkYXRhKHVpbnQgdG9rZW5JZCkgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHN0cmluZykgCiAgewogICAgcmV0dXJuIHRva2VuTWV0YWRhdGFbdG9rZW5JZF07CiAgfQoKICBmdW5jdGlvbiB1cGRhdGVUb2tlbk1ldGFkYXRhKHVpbnQgdG9rZW5JZCwgc3RyaW5nIF9tZXRhZGF0YSkgaW50ZXJuYWwgcmV0dXJucyhib29sKQogIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSB0b2tlbk93bmVyW3Rva2VuSWRdKTsKICAgIHRva2VuTWV0YWRhdGFbdG9rZW5JZF0gPSBfbWV0YWRhdGE7CiAgICBUb2tlbk1ldGFkYXRhVXBkYXRlZCh0b2tlbklkLCBtc2cuc2VuZGVyLCBfbWV0YWRhdGEpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBfdHJhbnNmZXIoYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHRva2VuSWQpIGludGVybmFsIHJldHVybnMoYm9vbCkKICB7CiAgICBhbGxvd2VkVHJhbnNmZXJbdG9rZW5JZF0gPSAwOwogICAgX3JlbW92ZVRva2VuRnJvbShmcm9tLCB0b2tlbklkKTsKICAgIF9hZGRUb2tlblRvKHRvLCB0b2tlbklkKTsKICAgIFRva2VuVHJhbnNmZXJyZWQodG9rZW5JZCwgZnJvbSwgdG8pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBfcmVtb3ZlVG9rZW5Gcm9tKGFkZHJlc3MgZnJvbSwgdWludCB0b2tlbklkKSBpbnRlcm5hbCAKICB7CiAgICByZXF1aXJlKF92aXJ0dWFsTGVuZ3RoW2Zyb21dID4gMCk7CiAgICB1aW50IGxlbmd0aCA9IF92aXJ0dWFsTGVuZ3RoW2Zyb21dOwogICAgdWludCBpbmRleCA9IF90b2tlbkluZGV4SW5Pd25lckFycmF5W3Rva2VuSWRdOwogICAgdWludCBzd2FwVG9rZW4gPSBvd25lZFRva2Vuc1tmcm9tXVtsZW5ndGggLSAxXTsKICAgIG93bmVkVG9rZW5zW2Zyb21dW2luZGV4XSA9IHN3YXBUb2tlbjsKICAgIF90b2tlbkluZGV4SW5Pd25lckFycmF5W3N3YXBUb2tlbl0gPSBpbmRleDsKICAgIF92aXJ0dWFsTGVuZ3RoW2Zyb21dLS07CiAgfQoKICBmdW5jdGlvbiBfYWRkVG9rZW5UbyhhZGRyZXNzIG93bmVyLCB1aW50IHRva2VuSWQpIGludGVybmFsIAogIHsKICAgIGlmIChvd25lZFRva2Vuc1tvd25lcl0ubGVuZ3RoID09IF92aXJ0dWFsTGVuZ3RoW293bmVyXSkgCiAgICB7CiAgICAgIG93bmVkVG9rZW5zW293bmVyXS5wdXNoKHRva2VuSWQpOwogICAgfSAKICAgIGVsc2UgCiAgICB7CiAgICAgIG93bmVkVG9rZW5zW293bmVyXVtfdmlydHVhbExlbmd0aFtvd25lcl1dID0gdG9rZW5JZDsKICAgIH0KICAgIHRva2VuT3duZXJbdG9rZW5JZF0gPSBvd25lcjsKICAgIF90b2tlbkluZGV4SW5Pd25lckFycmF5W3Rva2VuSWRdID0gX3ZpcnR1YWxMZW5ndGhbb3duZXJdOwogICAgX3ZpcnR1YWxMZW5ndGhbb3duZXJdKys7CiAgfQp9Cgpjb250cmFjdCBQbGFuZXRUb2tlbiBpcyBPd25hYmxlLCBCYXNpY05GVCAKewogIHN0cmluZyBwdWJsaWMgbmFtZSA9ICdQbGFuZXQgVG9rZW5zJzsKICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICdQVCc7CiAgIAogIG1hcHBpbmcgKHVpbnQgPT4gdWludCkgcHVibGljIGNvcmRYOwogIG1hcHBpbmcgKHVpbnQgPT4gdWludCkgcHVibGljIGNvcmRZOwogIG1hcHBpbmcgKHVpbnQgPT4gdWludCkgcHVibGljIGNvcmRaOwogIG1hcHBpbmcgKHVpbnQgPT4gdWludCkgcHVibGljIGxpZmVEOwogIG1hcHBpbmcgKHVpbnQgPT4gdWludCkgcHVibGljIGxpZmVOOwogIG1hcHBpbmcgKHVpbnQgPT4gdWludCkgcHVibGljIGxpZmVBOyAgICAKICBtYXBwaW5nICh1aW50ID0+IHVpbnQpIHB1YmxpYyBsYXRlc3RQaW5nOwogICAgCiAgc3RydWN0IHBsYW5ldAogIHsKICAgIHVpbnQgeDsKICAgIHVpbnQgeTsKICAgIHVpbnQgejsKICAgIHN0cmluZyBuYW1lOwogICAgYWRkcmVzcyBvd25lcjsKICAgIHN0cmluZyBsaWFzb247CiAgICBzdHJpbmcgdXJsOwogICAgdWludCBjb3N0OwogICAgdWludCBpbmRleDsKICB9CiAgICAKICBzdHJ1Y3QgX2RvbmF0aW9ucwogIHsKICAgICAgdWludCBzdGFydDsKICAgICAgdWludCBnZW5lc2lzOwogICAgICB1aW50IGludGVydmFsOwogICAgICB1aW50IHBwcDsKICAgICAgdWludCBhbW91bnQ7CiAgICAgIHVpbnQgY2hlY2twb2ludDsKICB9CgogIG1hcHBpbmcodWludCA9PiBwbGFuZXQpIHBsYW5ldHM7CiAgbWFwcGluZyhhZGRyZXNzID0+IF9kb25hdGlvbnMpIGRvbmF0aW9uczsKICAKICBzdHJpbmcgcHJpdmF0ZSB1bml2ZXJzZTsKICB1aW50IHByaXZhdGUgbWluX2RvbmF0aW9uOwogIGFkZHJlc3MgcHJpdmF0ZSBkb25hdGlvbl9hZGRyZXNzOwogIHVpbnQgcHJpdmF0ZSBjb29yZGluYXRlX2xpbWl0OwoKICBldmVudCBUb2tlblBpbmcodWludCB0b2tlbklkKTsKCiAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgCiAgewogICAgICBkb25hdGlvbl9hZGRyZXNzLnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgfQogICAgCiAgZnVuY3Rpb24gUGxhbmV0VG9rZW4oc3RyaW5nIFVuaXZlcnNlTmFtZSwgdWludCBDb29yZGluYXRlTGltaXQsIGFkZHJlc3MgRG9uYXRpb25BZGRyZXNzLCB1aW50IFN0YXJ0aW5nV2VpRG9uYXRpb24sIHVpbnQgQmxvY2tJbnRlcnZhbHMsIHVpbnQgV2VpUGVyUGxhbmV0KSBwdWJsaWMKICB7CiAgICAgIHVuaXZlcnNlID0gVW5pdmVyc2VOYW1lOwogICAgICBtaW5fZG9uYXRpb24gPSBTdGFydGluZ1dlaURvbmF0aW9uOwogICAgICBjb29yZGluYXRlX2xpbWl0ID0gQ29vcmRpbmF0ZUxpbWl0OwogICAgICBkb25hdGlvbl9hZGRyZXNzID0gRG9uYXRpb25BZGRyZXNzOwogICAgICBkb25hdGlvbnNbZG9uYXRpb25fYWRkcmVzc10uc3RhcnQgPSBtaW5fZG9uYXRpb247CiAgICAgIGRvbmF0aW9uc1tkb25hdGlvbl9hZGRyZXNzXS5nZW5lc2lzID0gYmxvY2subnVtYmVyOwogICAgICBkb25hdGlvbnNbZG9uYXRpb25fYWRkcmVzc10uY2hlY2twb2ludCA9IGJsb2NrLm51bWJlcjsKICAgICAgZG9uYXRpb25zW2RvbmF0aW9uX2FkZHJlc3NdLmludGVydmFsID0gQmxvY2tJbnRlcnZhbHM7CiAgICAgIGRvbmF0aW9uc1tkb25hdGlvbl9hZGRyZXNzXS5wcHAgPSBXZWlQZXJQbGFuZXQ7CiAgICAgIGRvbmF0aW9uc1tkb25hdGlvbl9hZGRyZXNzXS5hbW91bnQgPSBtaW5fZG9uYXRpb247CiAgfQoKICBmdW5jdGlvbiBhc3NpZ25OZXdQbGFuZXQoYWRkcmVzcyBiZW5lZmljaWFyeSwgdWludCB4LCB1aW50IHksIHVpbnQgeiwgc3RyaW5nIF9wbGFuZXROYW1lLCBzdHJpbmcgbGlhc29uLCBzdHJpbmcgdXJsKSBwdWJsaWMgcGF5YWJsZSAKICB7ICAKICAgIC8vIENoZWNrIGN1cnJlbnQgZmVlCiAgICB1aW50IE1pbmltdW1Eb25hdGlvbiA9IGRvbmF0aW9uc1tkb25hdGlvbl9hZGRyZXNzXS5hbW91bnQ7CiAgICAgIAogICAgLy8gQ2hlY2sgcmVxdWlyZWQgcGFyYW10ZXJzCiAgICByZXF1aXJlKHRva2VuT3duZXJbYnVpbGRUb2tlbklkKHgsIHksIHopXSA9PSAwKTsKICAgIHJlcXVpcmUobXNnLnZhbHVlID49IE1pbmltdW1Eb25hdGlvbik7CiAgICByZXF1aXJlKHggPD0gY29vcmRpbmF0ZV9saW1pdCk7CiAgICByZXF1aXJlKHkgPD0gY29vcmRpbmF0ZV9saW1pdCk7CiAgICByZXF1aXJlKHogPD0gY29vcmRpbmF0ZV9saW1pdCk7CiAgICAgCiAgICAvLyBVcGRhdGUgdG9rZW4gcmVjb3JkcwogICAgbGF0ZXN0UGluZ1tidWlsZFRva2VuSWQoeCwgeSwgeildID0gbm93OwogICAgX2FkZFRva2VuVG8oYmVuZWZpY2lhcnksIGJ1aWxkVG9rZW5JZCh4LCB5LCB6KSk7CiAgICB0b3RhbFRva2VucysrOwogICAgdG9rZW5NZXRhZGF0YVtidWlsZFRva2VuSWQoeCwgeSwgeildID0gX3BsYW5ldE5hbWU7CgogICAgLy8gVXBkYXRlIGdhbGFjdGljIHJlY29yZHMKICAgIGNvcmRYW2J1aWxkVG9rZW5JZCh4LCB5LCB6KV0gPSB4OwogICAgY29yZFlbYnVpbGRUb2tlbklkKHgsIHksIHopXSA9IHk7CiAgICBjb3JkWltidWlsZFRva2VuSWQoeCwgeSwgeildID0gejsKCiAgICAvLyBVcGRhdGUgRE5BIHJlY29yZHMKICAgIGxpZmVEW2J1aWxkVG9rZW5JZCh4LCB5LCB6KV0gPSB1aW50MjU2KGtlY2NhazI1Nih4LCAnfHh8JywgbXNnLnNlbmRlciwgJ3wnLCB1bml2ZXJzZSkpOwogICAgbGlmZU5bYnVpbGRUb2tlbklkKHgsIHksIHopXSA9IHVpbnQyNTYoa2VjY2FrMjU2KHksICd8eXwnLCBtc2cuc2VuZGVyLCAnfCcsIHVuaXZlcnNlKSk7CiAgICBsaWZlQVtidWlsZFRva2VuSWQoeCwgeSwgeildID0gdWludDI1NihrZWNjYWsyNTYoeiwgJ3x6fCcsIG1zZy5zZW5kZXIsICd8JywgdW5pdmVyc2UpKTsKICAgICAgCiAgICAvLyBNYXAgdGhlIHBsYW5ldCBvYmplY3QgdG9vIC4uLgogICAgcGxhbmV0c1tidWlsZFRva2VuSWQoeCwgeSwgeildLnggPSB4OwogICAgcGxhbmV0c1tidWlsZFRva2VuSWQoeCwgeSwgeildLnggPSB5OwogICAgcGxhbmV0c1tidWlsZFRva2VuSWQoeCwgeSwgeildLnggPSB6OwogICAgcGxhbmV0c1tidWlsZFRva2VuSWQoeCwgeSwgeildLm5hbWUgPSBfcGxhbmV0TmFtZTsKICAgIHBsYW5ldHNbYnVpbGRUb2tlbklkKHgsIHksIHopXS5vd25lciA9IGJlbmVmaWNpYXJ5OwogICAgcGxhbmV0c1tidWlsZFRva2VuSWQoeCwgeSwgeildLmxpYXNvbiA9IGxpYXNvbjsKICAgIHBsYW5ldHNbYnVpbGRUb2tlbklkKHgsIHksIHopXS51cmwgPSB1cmw7CiAgICBwbGFuZXRzW2J1aWxkVG9rZW5JZCh4LCB5LCB6KV0uaW5kZXggPSB0b3RhbFRva2VucyAtIDE7CiAgICBwbGFuZXRzW2J1aWxkVG9rZW5JZCh4LCB5LCB6KV0uY29zdCA9IG1zZy52YWx1ZTsKCiAgICAvLyBGaW5hbGl6ZSBwcm9jZXNzCiAgICBUb2tlbkNyZWF0ZWQoYnVpbGRUb2tlbklkKHgsIHksIHopLCBiZW5lZmljaWFyeSwgX3BsYW5ldE5hbWUpOyAgCiAgICBkb25hdGlvbl9hZGRyZXNzLnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgICAgIAogICAgLy8gVXBkYXRlIGRvbmF0aW9uIGluZm8KICAgIHVpbnQgdGhpc19ibG9jayA9IGJsb2NrLm51bWJlcjsKICAgIHVpbnQgbmV3X2NoZWNrcG9pbnQgPSBkb25hdGlvbnNbZG9uYXRpb25fYWRkcmVzc10uY2hlY2twb2ludCArIGRvbmF0aW9uc1tkb25hdGlvbl9hZGRyZXNzXS5pbnRlcnZhbDsgCiAgICBpZih0aGlzX2Jsb2NrID4gbmV3X2NoZWNrcG9pbnQpCiAgICB7CiAgICAgICAgZG9uYXRpb25zW2RvbmF0aW9uX2FkZHJlc3NdLmNoZWNrcG9pbnQgPSB0aGlzX2Jsb2NrOwogICAgICAgIGRvbmF0aW9uc1tkb25hdGlvbl9hZGRyZXNzXS5hbW91bnQgPSBkb25hdGlvbnNbZG9uYXRpb25fYWRkcmVzc10ucHBwICogdG90YWxUb2tlbnM7CiAgICB9CiAgfQogICAgCiAgZnVuY3Rpb24gTWluaW11bURvbmF0aW9uKCkgcHVibGljIHZpZXcgcmV0dXJucyh1aW50KQogIHsKICAgICAgcmV0dXJuIGRvbmF0aW9uc1tkb25hdGlvbl9hZGRyZXNzXS5hbW91bnQ7CiAgfQogICAgCiAgZnVuY3Rpb24gQmxvY2tzVG9HbygpIHB1YmxpYyB2aWV3IHJldHVybnModWludCkKICB7CiAgICAgIHVpbnQgdGhpc19ibG9jayA9IGJsb2NrLm51bWJlcjsKICAgICAgdWludCBuZXh0X2Jsb2NrID0gZG9uYXRpb25zW2RvbmF0aW9uX2FkZHJlc3NdLmNoZWNrcG9pbnQgKyBkb25hdGlvbnNbZG9uYXRpb25fYWRkcmVzc10uaW50ZXJ2YWw7CiAgICAgIGlmKHRoaXNfYmxvY2sgPCBuZXh0X2Jsb2NrKQogICAgICB7CiAgICAgICAgICByZXR1cm4gbmV4dF9ibG9jayAtIHRoaXNfYmxvY2s7CiAgICAgIH0KICAgICAgZWxzZQogICAgICB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgfQogIH0KICAgIAogIGZ1bmN0aW9uIEdldExpYXNvbk5hbWUodWludCB4LCB1aW50IHksIHVpbnQgeikgcHVibGljIHZpZXcgcmV0dXJucyhzdHJpbmcpCiAgewogICAgICByZXR1cm4gcGxhbmV0c1tidWlsZFRva2VuSWQoeCwgeSwgeildLmxpYXNvbjsKICB9CgogIGZ1bmN0aW9uIEdldExpYXNvblVSTCh1aW50IHgsIHVpbnQgeSwgdWludCB6KSBwdWJsaWMgdmlldyByZXR1cm5zKHN0cmluZykKICB7CiAgICAgIHJldHVybiBwbGFuZXRzW2J1aWxkVG9rZW5JZCh4LCB5LCB6KV0udXJsOwogIH0KICAgIAogIGZ1bmN0aW9uIEdldEluZGV4KHVpbnQgeCwgdWludCB5LCB1aW50IHopIHB1YmxpYyB2aWV3IHJldHVybnModWludCkKICB7CiAgICAgIHJldHVybiBwbGFuZXRzW2J1aWxkVG9rZW5JZCh4LCB5LCB6KV0uaW5kZXg7CiAgfQogICAgCiAgZnVuY3Rpb24gR2V0Q29zdCh1aW50IHgsIHVpbnQgeSwgdWludCB6KSBwdWJsaWMgdmlldyByZXR1cm5zKHVpbnQpCiAgewogICAgICByZXR1cm4gcGxhbmV0c1tidWlsZFRva2VuSWQoeCwgeSwgeildLmNvc3Q7CiAgfQogICAgCiAgZnVuY3Rpb24gVXBkYXRlZERvbmF0aW9uQWRkcmVzcyhhZGRyZXNzIE5ld0FkZHJlc3MpIG9ubHlPd25lciBwdWJsaWMKICB7CiAgICAgIGFkZHJlc3MgT2xkQWRkcmVzcyA9IGRvbmF0aW9uX2FkZHJlc3M7CiAgICAgIGRvbmF0aW9uX2FkZHJlc3MgPSBOZXdBZGRyZXNzOwogICAgICBkb25hdGlvbnNbZG9uYXRpb25fYWRkcmVzc10uc3RhcnQgPSBkb25hdGlvbnNbT2xkQWRkcmVzc10uc3RhcnQ7CiAgICAgIGRvbmF0aW9uc1tkb25hdGlvbl9hZGRyZXNzXS5nZW5lc2lzID0gZG9uYXRpb25zW09sZEFkZHJlc3NdLmdlbmVzaXM7CiAgICAgIGRvbmF0aW9uc1tkb25hdGlvbl9hZGRyZXNzXS5jaGVja3BvaW50ID0gZG9uYXRpb25zW09sZEFkZHJlc3NdLmNoZWNrcG9pbnQ7CiAgICAgIGRvbmF0aW9uc1tkb25hdGlvbl9hZGRyZXNzXS5pbnRlcnZhbCA9IGRvbmF0aW9uc1tPbGRBZGRyZXNzXS5pbnRlcnZhbDsKICAgICAgZG9uYXRpb25zW2RvbmF0aW9uX2FkZHJlc3NdLnBwcCA9IGRvbmF0aW9uc1tPbGRBZGRyZXNzXS5wcHA7CiAgICAgIGRvbmF0aW9uc1tkb25hdGlvbl9hZGRyZXNzXS5hbW91bnQgPSBkb25hdGlvbnNbT2xkQWRkcmVzc10uYW1vdW50OwogICAgICAKICB9CgogIGZ1bmN0aW9uIHBpbmcodWludCB0b2tlbklkKSBwdWJsaWMgCiAgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHRva2VuT3duZXJbdG9rZW5JZF0pOwogICAgbGF0ZXN0UGluZ1t0b2tlbklkXSA9IG5vdzsKICAgIFRva2VuUGluZyh0b2tlbklkKTsKICB9CgogIGZ1bmN0aW9uIGJ1aWxkVG9rZW5JZCh1aW50IHgsIHVpbnQgeSwgdWludCB6KSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSAKICB7CiAgICByZXR1cm4gdWludDI1NihrZWNjYWsyNTYoeCwgJ3wnLCB5LCAnfCcsIHosICd8JywgdW5pdmVyc2UpKTsKICB9CgogIGZ1bmN0aW9uIGV4aXN0cyh1aW50IHgsIHVpbnQgeSwgdWludCB6KSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgCiAgewogICAgcmV0dXJuIG93bmVyT2ZQbGFuZXQoeCwgeSwgeikgIT0gMDsKICB9CgogIGZ1bmN0aW9uIG93bmVyT2ZQbGFuZXQodWludCB4LCB1aW50IHksIHVpbnQgeikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MpIAogIHsKICAgIHJldHVybiB0b2tlbk93bmVyW2J1aWxkVG9rZW5JZCh4LCB5LCB6KV07CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlclBsYW5ldChhZGRyZXNzIHRvLCB1aW50IHgsIHVpbnQgeSwgdWludCB6KSBwdWJsaWMgCiAgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHRva2VuT3duZXJbYnVpbGRUb2tlbklkKHgsIHksIHopXSk7CiAgICBwbGFuZXRzW2J1aWxkVG9rZW5JZCh4LCB5LCB6KV0ub3duZXIgPSB0bzsKICB9CgogIGZ1bmN0aW9uIHBsYW5ldE5hbWUodWludCB4LCB1aW50IHksIHVpbnQgeikgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHN0cmluZykgCiAgewogICAgcmV0dXJuIHRva2VuTWV0YWRhdGFbYnVpbGRUb2tlbklkKHgsIHksIHopXTsKICB9CiAgICAKICBmdW5jdGlvbiBwbGFuZXRDb3JkaW5hdGVzKHVpbnQgdG9rZW5JZCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnRbXSkgCiAgewogICAgdWludFtdIG1lbW9yeSBkYXRhID0gbmV3IHVpbnRbXSgzKTsKICAgIGRhdGFbMF0gPSBjb3JkWFt0b2tlbklkXTsKICAgIGRhdGFbMV0gPSBjb3JkWVt0b2tlbklkXTsKICAgIGRhdGFbMl0gPSBjb3JkWlt0b2tlbklkXTsKICAgIHJldHVybiBkYXRhOwogIH0KICAgIAogIGZ1bmN0aW9uIHBsYW5ldExpZmUodWludCB4LCB1aW50IHksIHVpbnQgeikgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnRbXSkgCiAgewogICAgdWludFtdIG1lbW9yeSBkbmEgPSBuZXcgdWludFtdKDMpOwogICAgZG5hWzBdID0gbGlmZURbYnVpbGRUb2tlbklkKHgsIHksIHopXTsKICAgIGRuYVsxXSA9IGxpZmVOW2J1aWxkVG9rZW5JZCh4LCB5LCB6KV07CiAgICBkbmFbMl0gPSBsaWZlQVtidWlsZFRva2VuSWQoeCwgeSwgeildOwogICAgcmV0dXJuIGRuYTsKICB9CgogIGZ1bmN0aW9uIHVwZGF0ZVBsYW5ldE5hbWUodWludCB4LCB1aW50IHksIHVpbnQgeiwgc3RyaW5nIF9wbGFuZXROYW1lKSBwdWJsaWMgCiAgewogICAgaWYodXBkYXRlVG9rZW5NZXRhZGF0YShidWlsZFRva2VuSWQoeCwgeSwgeiksIF9wbGFuZXROYW1lKSkKICAgIHsKICAgICAgICBwbGFuZXRzW2J1aWxkVG9rZW5JZCh4LCB5LCB6KV0ubmFtZSA9IF9wbGFuZXROYW1lOwogICAgfQogIH0KICAKICBmdW5jdGlvbiB1cGRhdGVQbGFuZXRMaWFzb24odWludCB4LCB1aW50IHksIHVpbnQgeiwgc3RyaW5nIExpYXNvbk5hbWUpIHB1YmxpYyAKICB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gdG9rZW5Pd25lcltidWlsZFRva2VuSWQoeCwgeSwgeildKTsKICAgIHBsYW5ldHNbYnVpbGRUb2tlbklkKHgsIHksIHopXS5saWFzb24gPSBMaWFzb25OYW1lOwogIH0KICAgIAogIGZ1bmN0aW9uIHVwZGF0ZVBsYW5ldFVSTCh1aW50IHgsIHVpbnQgeSwgdWludCB6LCBzdHJpbmcgTGlhc29uVVJMKSBwdWJsaWMgCiAgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHRva2VuT3duZXJbYnVpbGRUb2tlbklkKHgsIHksIHopXSk7CiAgICBwbGFuZXRzW2J1aWxkVG9rZW5JZCh4LCB5LCB6KV0udXJsID0gTGlhc29uVVJMOwogIH0KfQ=='.
	

]
