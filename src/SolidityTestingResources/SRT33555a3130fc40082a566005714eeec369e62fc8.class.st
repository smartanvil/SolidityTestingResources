Class {
	#name : #SRT33555a3130fc40082a566005714eeec369e62fc8,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT33555a3130fc40082a566005714eeec369e62fc8 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7CgovLyBFUkMyMCBjb250cmFjdCB3aGljaCBoYXMgdGhlIGRpdmlkZW5kIHNoYXJlcyBvZiBFdGhvcG9saXMgaW4gaXQgCi8vIFRoZSBvbGQgY29udHJhY3QgaGFkIGEgYnVnIGluIGl0LCB0aGFua3MgdG8gY2Nhc2h3ZWxsIGZvciBub3RpZnlpbmcuCi8vIENvbnRhY3Q6IDxhIGhyZWY9Ii9jZG4tY2dpL2wvZW1haWwtcHJvdGVjdGlvbiIgY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSIzZjVhNGI1NzVhNGQ1ODRhNDY3ZjUyNWU1NjUzMTE1YzUwNTIiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L2E+IAovLyBldGhvcG9saXMuaW8gCi8vIGV0aGVyZ3V5LnN1cmdlLnNoIFtpZiB0aGUgLmlvIHNpdGUgaXMgdXAgdGhpcyBtaWdodCBiZSBvdXRkYXRlZCwgb25lIG9mIHRob3NlIHNpdGVzIHdpbGwgYmUgdXAtdG8tZGF0ZV0KLy8gU2VsbGluZyB0b2tlbnMgKGFuZCBidXlpbmcgdGhlbSkgd2lsbCBiZSBvbmxpbmUgYXQgZXRoZXJndXkuc3VyZ2Uuc2gvZGl2aWRlbmRzLmh0bWwgYW5kIG1pZ2h0IGJlIG1vdmVkIHRvIHRoZSBldGhvcG9saXMgc2l0ZS4KCmNvbnRyYWN0IERpdmlkZW5kcyB7CgogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIkV0aG9wb2xpcyBTaGFyZXMiOyAgICAgIC8vICB0b2tlbiBuYW1lCiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJFUFMiOyAgICAgICAgICAgLy8gIHRva2VuIHN5bWJvbAogICAgdWludDI1NiBwdWJsaWMgZGVjaW1hbHMgPSAxODsgICAgICAgICAgICAvLyAgdG9rZW4gZGlnaXQKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2Y7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2FuY2U7CgogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHkgPSAxMDAwMDAwMCogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKTsKICAgIAogICAgdWludDI1NiBTZWxsRmVlID0gMTI1MDsgLy8gbWF4IGlzIDEwIDAwMAoKCiAgICBhZGRyZXNzIG93bmVyID0gMHgwOwoKICAgIG1vZGlmaWVyIGlzT3duZXIgewogICAgICAgIGFzc2VydChvd25lciA9PSBtc2cuc2VuZGVyKTsKICAgICAgICBfOwogICAgfQoKCgogICAgbW9kaWZpZXIgdmFsaWRBZGRyZXNzIHsKICAgICAgICBhc3NlcnQoMHgwICE9IG1zZy5zZW5kZXIpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gRGl2aWRlbmRzKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CgoKICAgICAgICAvLyBQUkVNSU5FRCBUT0tFTlMgCiAgICAgICAgCiAgICAgICAgLy8gRUcKICAgICAgICBiYWxhbmNlT2ZbIGFkZHJlc3MoMHg2OTBGMzQwNTNkZEMxMWJkRkY5NUQ0NGJkZkViNkIwYjgzQ0JBYjU4KV0gPSAgODAwMDAwMCogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKTsvLyB3YXM6IFRva2VuU3VwcGx5IC0gNDAwMDAwOwogICAgICAgIC8vIEhFCiAgICAgICAgYmFsYW5jZU9mWyBhZGRyZXNzKDB4ODNjMEVmYzZkOEIxNkQ4N0JGZTEzMzVBQjZCY0FiM0VkMzk2MDI4NSldID0gMjAwMDAwKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpOwogICAgICAgIC8vIFBHCiAgICAgICAgYmFsYW5jZU9mWyBhZGRyZXNzKDB4MjY1ODFkMTk4M2NlZDg5NTVDMTcwZUI0ZDMyMjJEQ2QzODQ1YTA5MildID0gMjAwMDAwKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpOwoKICAgICAgICAvLyBCT1VHSFQgdG9rZW5zIGluIHRoZSBPTEQgY29udHJhY3QgICAgICAgICAKICAgICAgICBiYWxhbmNlT2ZbIGFkZHJlc3MoMHgzMTMwMjU5ZGVFZGIzMDUyRTI0RkFEOWQ1RTFmNDkwQ0I4Q0NjYWEwKV0gPSA5NzAwMCogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKTsKICAgICAgICBiYWxhbmNlT2ZbIGFkZHJlc3MoMHg0ZjBkODYxMjgxMTYxZjM5YzYyQjc5MDk5NWZiMWU3YTBCODFCMDdiKV0gPSAxOTk4MDAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSk7CiAgICAgICAgYmFsYW5jZU9mWyBhZGRyZXNzKDB4MzZFMDU4MzMyYUUzOWVmYUQyMzE1Nzc2QjljODQ0RTMwZDA3Mzg4QildID0gIDIwMDAwKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpOwogICAgICAgIGJhbGFuY2VPZlsgYWRkcmVzcygweDFmMjY3MkUxN2ZEN0VjNGI1MkI3RjQwRDQxZUM1QzQ3N2ZlODVjMGMpXSA9ICA0MDAwMCogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKTsKICAgICAgICBiYWxhbmNlT2ZbIGFkZHJlc3MoMHhlZERhRDU0RTllMUY4ZGQwMWU4MTVkODRiMjU1OTk4YTBhOTAxQmJGKV0gPSAgMjAwMDAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSk7CiAgICAgICAgYmFsYW5jZU9mWyBhZGRyZXNzKDB4MGEzMjM5Nzk5NTE4RTdGN0YzMzk4NjdBNDczOTI4MjAxNGI5N0RjZildID0gNDk5MDAwKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpOwogICAgICAgIGJhbGFuY2VPZlsgYWRkcmVzcygweDI5QTljNzZhRDA5MWMwMTVDMTIwODFBMUIyMDFjM2VhNTY4ODQ1NzkpXSA9IDYwMDAwMCogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKTsKICAgICAgICBiYWxhbmNlT2ZbIGFkZHJlc3MoMHgwNjY4ZGVBNkI1ZWM5NEQ3Q2UzQzQzRmU0Nzc4ODhlZWUyRkMxYjJDKV0gPSAxMDAwMDAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSk7CiAgICAgICAgYmFsYW5jZU9mWyBhZGRyZXNzKDB4MDk4MmEwYmYwNjFmM2NlYzJhMDA0YjRkMmM4MDJGNDc5MDk5Qzk3MSldID0gIDIwMDAwKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpOwogICAgICAgIAogICAgICAgIGJhbGFuY2VPZiBbYWRkcmVzcygJMHhBNzhFZkMzQTAxQ0I4ZjJGNDcxMzdCOTdmOTU0NkI0NjI3NWY1NGE2KV0gPSAgMzAwMCogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKTsKICAgICAgICBiYWxhbmNlT2YgW2FkZHJlc3MoCTB4NTIyMjczMTIyYjIwMjEyRkUyNTU4NzVhNDczN2I2RjUwY2M3MjAwNildID0gIDEwMDAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSk7CiAgICAgICAgYmFsYW5jZU9mIFthZGRyZXNzKAkweGMxYzUxMDk4ZmY3M2YzMTFFQ0Q2RTg1NWU4NTgyMjVGNTMxODEyYzQpXSA9ICAyMDAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSk7CgogICAgICAgIC8vIEV0aGVyc2NhbiBsaWtlcyBpdCB2ZXJ5IG11Y2ggaWYgd2UgZW1pdCB0aGVzZSBldmVudHMgCiAgICAgICAgZW1pdCBUcmFuc2ZlcigweDAsIDB4NjkwRjM0MDUzZGRDMTFiZEZGOTVENDRiZGZFYjZCMGI4M0NCQWI1OCwgODAwMDAwMCogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKSk7CiAgICAgICAgZW1pdCBUcmFuc2ZlcigweDAsIDB4ODNjMEVmYzZkOEIxNkQ4N0JGZTEzMzVBQjZCY0FiM0VkMzk2MDI4NSwgMjAwMDAwKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpKTsKICAgICAgICBlbWl0IFRyYW5zZmVyKDB4MCwgMHgyNjU4MWQxOTgzY2VkODk1NUMxNzBlQjRkMzIyMkRDZDM4NDVhMDkyLCAyMDAwMDAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSkpOwogICAgICAgIGVtaXQgVHJhbnNmZXIoMHgwLCAweDMxMzAyNTlkZUVkYjMwNTJFMjRGQUQ5ZDVFMWY0OTBDQjhDQ2NhYTAsIDk3MDAwKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpKTsKICAgICAgICBlbWl0IFRyYW5zZmVyKDB4MCwgMHg0ZjBkODYxMjgxMTYxZjM5YzYyQjc5MDk5NWZiMWU3YTBCODFCMDdiLCAxOTk4MDAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSkpOwogICAgICAgIGVtaXQgVHJhbnNmZXIoMHgwLCAweDM2RTA1ODMzMmFFMzllZmFEMjMxNTc3NkI5Yzg0NEUzMGQwNzM4OEIsIDIwMDAwKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpKTsKICAgICAgICBlbWl0IFRyYW5zZmVyKDB4MCwgMHgxZjI2NzJFMTdmRDdFYzRiNTJCN0Y0MEQ0MWVDNUM0NzdmZTg1YzBjLCA0MDAwMCogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKSk7CiAgICAgICAgZW1pdCBUcmFuc2ZlcigweDAsIDB4ZWREYUQ1NEU5ZTFGOGRkMDFlODE1ZDg0YjI1NTk5OGEwYTkwMUJiRiwgMjAwMDAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSkpOwogICAgICAgIGVtaXQgVHJhbnNmZXIoMHgwLCAweDBhMzIzOTc5OTUxOEU3RjdGMzM5ODY3QTQ3MzkyODIwMTRiOTdEY2YsIDQ5OTAwMCogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKSk7CiAgICAgICAgZW1pdCBUcmFuc2ZlcigweDAsIDB4MjlBOWM3NmFEMDkxYzAxNUMxMjA4MUExQjIwMWMzZWE1Njg4NDU3OSwgNjAwMDAwKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpKTsKICAgICAgICBlbWl0IFRyYW5zZmVyKDB4MCwgMHgwNjY4ZGVBNkI1ZWM5NEQ3Q2UzQzQzRmU0Nzc4ODhlZWUyRkMxYjJDLCAxMDAwMDAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSkpOwogICAgICAgIGVtaXQgVHJhbnNmZXIoMHgwLCAweDA5ODJhMGJmMDYxZjNjZWMyYTAwNGI0ZDJjODAyRjQ3OTA5OUM5NzEsIDIwMDAwKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpKTsKICAgICAgICBlbWl0IFRyYW5zZmVyKDB4MCwgMHhBNzhFZkMzQTAxQ0I4ZjJGNDcxMzdCOTdmOTU0NkI0NjI3NWY1NGE2LCAzMDAwKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpKTsKICAgICAgICBlbWl0IFRyYW5zZmVyKDB4MCwgMHg1MjIyNzMxMjJiMjAyMTJGRTI1NTg3NWE0NzM3YjZGNTBjYzcyMDA2LCAxMDAwKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpKTsKICAgICAgICBlbWl0IFRyYW5zZmVyKDB4MCwgMHhjMWM1MTA5OGZmNzNmMzExRUNENkU4NTVlODU4MjI1RjUzMTgxMmM0LCAyMDAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSkpOwogICAgICAgCiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSAgcHVibGljIHZhbGlkQWRkcmVzcyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA+PSBfdmFsdWUpOwogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW190b10gKyBfdmFsdWUgPj0gYmFsYW5jZU9mW190b10pOwogICAgICAgIC8vIGFmdGVyIHRyYW5zZmVyIGhhdmUgZW5vdWdoIHRvIHBheSBzZWxsIG9yZGVyIAogICAgICAgIHJlcXVpcmUoc3ViKGJhbGFuY2VPZlttc2cuc2VuZGVyXSwgU2VsbE9yZGVyc1ttc2cuc2VuZGVyXVswXSkgPj0gX3ZhbHVlKTsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgIT0gX3RvKTsKCiAgICAgICAgdWludDI1NiBfdG9CYWwgPSBiYWxhbmNlT2ZbX3RvXTsKICAgICAgICB1aW50MjU2IF9mcm9tQmFsID0gYmFsYW5jZU9mW21zZy5zZW5kZXJdOwogICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgYmFsYW5jZU9mW190b10gKz0gX3ZhbHVlOwogICAgICAgIGVtaXQgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIAogICAgICAgIHVpbnQyNTYgX3NlbmRGcm9tID0gX3dpdGhkcmF3KG1zZy5zZW5kZXIsIF9mcm9tQmFsLCBmYWxzZSwwKTsKICAgICAgICB1aW50MjU2IF9zZW5kVG8gPSBfd2l0aGRyYXcoX3RvLCBfdG9CYWwsIGZhbHNlLCBfc2VuZEZyb20pOwogICAgICAgIAogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoX3NlbmRGcm9tKTsKICAgICAgICBfdG8udHJhbnNmZXIoX3NlbmRUbyk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIC8vIGZvcmNldHJhbnNmZXIgZG9lcyBub3QgZG8gYW55IHdpdGhkcmF3YWxzCiAgICBmdW5jdGlvbiBfZm9yY2VUcmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiAgX3ZhbHVlKSBpbnRlcm5hbCB2YWxpZEFkZHJlc3MgewogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW19mcm9tXSA+PSBfdmFsdWUpOwogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW190b10gKyBfdmFsdWUgPj0gYmFsYW5jZU9mW190b10pOwogICAgICAgIGJhbGFuY2VPZltfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgIGJhbGFuY2VPZltfdG9dICs9IF92YWx1ZTsKICAgICAgICBlbWl0IFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgCiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHZhbGlkQWRkcmVzcyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgIC8vIGFmdGVyIHRyYW5zZmVyIGhhdmUgZW5vdWdoIHRvIHBheSBzZWxsIG9yZGVyIAogICAgICAgIHJlcXVpcmUoX2Zyb20gIT0gX3RvKTsKICAgICAgICByZXF1aXJlKHN1YihiYWxhbmNlT2ZbX2Zyb21dLCBTZWxsT3JkZXJzW19mcm9tXVswXSkgPj0gX3ZhbHVlKTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VPZltfdG9dICsgX3ZhbHVlID49IGJhbGFuY2VPZltfdG9dKTsKICAgICAgICByZXF1aXJlKGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKTsKICAgICAgICB1aW50MjU2IF90b0JhbCA9IGJhbGFuY2VPZltfdG9dOwogICAgICAgIHVpbnQyNTYgX2Zyb21CYWwgPSBiYWxhbmNlT2ZbX2Zyb21dOwogICAgICAgIGJhbGFuY2VPZltfdG9dICs9IF92YWx1ZTsKICAgICAgICBiYWxhbmNlT2ZbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICBlbWl0IFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgCiAgICAgICAgLy8gQ2FsbCB3aXRoZHJhd2FsIG9mIG9sZCBhbW91bnRzIAogICAgICAgIENhbmNlbE9yZGVyKCk7CiAgICAgICAgdWludDI1NiBfc2VuZEZyb20gPSBfd2l0aGRyYXcoX2Zyb20sIF9mcm9tQmFsLGZhbHNlLDApOwogICAgICAgIHVpbnQyNTYgX3NlbmRUbyA9IF93aXRoZHJhdyhfdG8sIF90b0JhbCxmYWxzZSxfc2VuZFRvKTsKICAgICAgICAKICAgICAgICBfZnJvbS50cmFuc2Zlcihfc2VuZEZyb20pOwogICAgICAgIF90by50cmFuc2Zlcihfc2VuZFRvKTsKICAgICAgICAKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgdmFsaWRBZGRyZXNzIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoX3ZhbHVlID09IDAgfHwgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKTsKICAgICAgICBhbGxvd2FuY2VbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIGVtaXQgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0U3ltYm9sKHN0cmluZyBfc3ltYikgcHVibGljIGlzT3duZXIgewogICAgICAgIHN5bWJvbCA9IF9zeW1iOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldE5hbWUoc3RyaW5nIF9uYW1lKSBwdWJsaWMgaXNPd25lciB7CiAgICAgICAgbmFtZSA9IF9uYW1lOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBuZXdPd25lcihhZGRyZXNzIHdobykgcHVibGljIGlzT3duZXIgdmFsaWRBZGRyZXNzIHsKICAgICAgICBvd25lciA9IHdobzsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gc2V0RmVlKHVpbnQyNTYgZmVlKSBwdWJsaWMgaXNPd25lciB7CiAgICAgICAgcmVxdWlyZSAoZmVlIDw9IDI1MDApOwogICAgICAgIFNlbGxGZWUgPSBmZWU7CiAgICB9CgoKLy8gTWFya2V0IHN0dWZmIHN0YXJ0IAogICAgCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NlsyXSkgcHVibGljIFNlbGxPcmRlcnM7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIExhc3RCYWxhbmNlV2l0aGRyYXduOwogICAgdWludDI1NiBUb3RhbE91dDsKICAgIAogICAgZnVuY3Rpb24gV2l0aGRyYXcoKSBwdWJsaWN7CiAgICAgICAgX3dpdGhkcmF3KG1zZy5zZW5kZXIsIGJhbGFuY2VPZlttc2cuc2VuZGVyXSwgdHJ1ZSwwKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gVmlld1NlbGxPcmRlcihhZGRyZXNzIHdobykgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiwgdWludDI1Nil7CiAgICAgICAgcmV0dXJuIChTZWxsT3JkZXJzW3dob11bMF0sIFNlbGxPcmRlcnNbd2hvXVsxXSk7CiAgICB9CiAgICAKICAgIC8vIGlmIGRvc2VuZCBpcyBzZXQgdG8gZmFsc2UgdGhlbiB0aGUgY2FsbGluZyBmdW5jdGlvbiBNVVNUIHNlbmQgdGhlIGZlZXMgCiAgICAvLyBzdWJ4dHJhIGlzIHRvIGhhbmRsZSB0aGUgImhpZ2ggTGFzdEJhbGFuY2VXaXRoZHJhd24gYnVnIiAKICAgIC8vIHRoaXMgYnVnIHdhcyBjYXVzZWQgYmVjYXVzZSB0aGUgQnV5ZXIgYWN0dWFsbHkgZ2V0cyBhIHRvbyBoaWdoIExhc3RCYWxhbmNlV2l0aGRyYXduOwogICAgLy8gdGhpcyBpcyBhIG1pbm9yIGJ1ZyBhbmQgY291bGQgYmUgZml4ZWQgYnkgYWRkaW5nIHRoZXNlIGZ1bmRzIHRvIHRoZSBjb250cmFjdCAod2hpY2ggaXMgdXN1YWxseSBub3QgYSBsYXJnZSBhbW91bnQpCiAgICAvLyBpZiB0aGUgY29udHJhY3QgZ2V0cyBhIGxvdCBvZiBkaXZzIGxpdmUgdGhlbiB0aGF0IHNob3VsZCBub3QgYmUgYW4gaXNzdWUgYmVjYXVzZSBhbnkgbmV3IHdpdGhkcmF3YWwgd2lsbCBzZXQgaXQgdG8gYSByaWdodCB2YWx1ZSAKICAgIC8vIGFueXdheXMgaXQgaXMgZml4ZWQgbm93IAogICAgZnVuY3Rpb24gX3dpdGhkcmF3KGFkZHJlc3MgdG8sIHVpbnQyNTYgdGtucywgYm9vbCBkb3NlbmQsIHVpbnQyNTYgc3VieHRyYSkgaW50ZXJuYWwgcmV0dXJucyAodWludDI1Nil7CiAgICAgICAgLy8gY2FsY3VsYXRlIGhvdyBtdWNoIHdlaSB5b3UgZ2V0IAogICAgICAgIGlmICh0a25zID09IDApewogICAgICAgICAgICAvLyBvayB3ZSBqdXN0IHJlc2V0IHRoZSB0aW1lciB0aGVuIAogICAgICAgICAgICBMYXN0QmFsYW5jZVdpdGhkcmF3blttc2cuc2VuZGVyXSA9IHN1YihzdWIoYWRkKGFkZHJlc3ModGhpcykuYmFsYW5jZSwgVG90YWxPdXQpLG1zZy52YWx1ZSksc3VieHRyYSk7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgICAgICAvLyByZW1vdmUgbXNnLnZhbHVlIGlzIGV4aXN0cy4gaWYgaXQgaXMgbm9uemVybyB0aGVuIHRoZSBjYWxsIGNhbWUgZnJvbSBCdXksIGRvIG5vdCBpbmNsdWRlIHRoaXMgaW4gYmFsYW5jZS4gCiAgICAgICAgdWludDI1NiB0b3RhbF92b2x1bWVfaW4gPSBhZGRyZXNzKHRoaXMpLmJhbGFuY2UgKyBUb3RhbE91dCAtIG1zZy52YWx1ZTsKICAgICAgICAvLyBnZXQgdm9sdW1lIGluIHNpbmNlIGxhc3Qgd2l0aGRyYXdhbDsgCiAgICAgICAgdWludDI1NiBEZWx0YSA9IHN1Yih0b3RhbF92b2x1bWVfaW4sIExhc3RCYWxhbmNlV2l0aGRyYXduW3RvXSk7CiAgICAgICAgCiAgICAgICAgdWludDI1NiBHZXQgPSAodGtucyAqIERlbHRhKSAvIHRvdGFsU3VwcGx5OwogICAgICAgIAogICAgICAgIFRvdGFsT3V0ID0gVG90YWxPdXQgKyBHZXQ7CiAgICAgICAgCiAgICAgICAgTGFzdEJhbGFuY2VXaXRoZHJhd25bdG9dID0gc3ViKHN1YihzdWIoYWRkKGFkZHJlc3ModGhpcykuYmFsYW5jZSwgVG90YWxPdXQpLCBHZXQpLG1zZy52YWx1ZSksc3VieHRyYSk7CiAgICAgICAgCiAgICAgICAgZW1pdCBXaXRoZHJhd2FsQ29tcGxldGUodG8sIEdldCk7CiAgICAgICAgaWYgKGRvc2VuZCl7CiAgICAgICAgICAgIHRvLnRyYW5zZmVyKEdldCk7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgICAgICBlbHNley8vNzc2OAogICAgICAgICAgICByZXR1cm4gR2V0OwogICAgICAgIH0KICAgICAgICAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gR2V0RGl2cyhhZGRyZXNzIHdobykgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nil7CiAgICAgICAgIHVpbnQyNTYgdG90YWxfdm9sdW1lX2luID0gYWRkcmVzcyh0aGlzKS5iYWxhbmNlICsgVG90YWxPdXQ7CiAgICAgICAgIHVpbnQyNTYgRGVsdGEgPSBzdWIodG90YWxfdm9sdW1lX2luLCBMYXN0QmFsYW5jZVdpdGhkcmF3blt3aG9dKTsKICAgICAgICAgdWludDI1NiBHZXQgPSAoYmFsYW5jZU9mW3dob10gKiBEZWx0YSkgLyB0b3RhbFN1cHBseTsKICAgICAgICAgcmV0dXJuIChHZXQpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBDYW5jZWxPcmRlcigpIHB1YmxpYyB7CiAgICAgICAgX2NhbmNlbE9yZGVyKG1zZy5zZW5kZXIpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBfY2FuY2VsT3JkZXIoYWRkcmVzcyB0YXJnZXQpIGludGVybmFsewogICAgICAgICBTZWxsT3JkZXJzW3RhcmdldF1bMF0gPSAwOwogICAgICAgICBlbWl0IFNlbGxPcmRlckNhbmNlbGxlZCh0YXJnZXQpOwogICAgfQogICAgCiAgICAKICAgIC8vIHRoZSBwcmljZSBpcyBwZXIgMTBeZGVjaW1hbHMgdG9rZW5zIAogICAgZnVuY3Rpb24gUGxhY2VTZWxsT3JkZXIodWludDI1NiBhbW91bnQsIHVpbnQyNTYgcHJpY2UpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShwcmljZSA+IDApOwogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW21zZy5zZW5kZXJdID49IGFtb3VudCk7CiAgICAgICAgU2VsbE9yZGVyc1ttc2cuc2VuZGVyXSA9IFthbW91bnQsIHByaWNlXTsKICAgICAgICBlbWl0IFNlbGxPcmRlclBsYWNlZChtc2cuc2VuZGVyLCBhbW91bnQsIHByaWNlKTsKICAgIH0KCiAgICAvLyBTYWZlIGJ1eSBvcmRlciB3aGVyZSB1c2VyIHNwZWNpZmllcyB0aGUgbWF4IGFtb3VudCB0byBidXkgYW5kIHRoZSBtYXggcHJpY2U7IHByZXZlbnRzIHNuaXBlcnMgY2hhbmdpbmcgdGhlaXIgcHJpY2UgCiAgICBmdW5jdGlvbiBCdXkoYWRkcmVzcyB0YXJnZXQsIHVpbnQyNTYgbWF4YW1vdW50LCB1aW50MjU2IG1heHByaWNlKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZShTZWxsT3JkZXJzW3RhcmdldF1bMF0gPiAwKTsKICAgICAgICByZXF1aXJlKFNlbGxPcmRlcnNbdGFyZ2V0XVsxXSA8PSBtYXhwcmljZSk7CiAgICAgICAgdWludDI1NiBwcmljZSA9IFNlbGxPcmRlcnNbdGFyZ2V0XVsxXTsKICAgICAgICB1aW50MjU2IGFtb3VudF9idXlhYmxlID0gKG11bChtc2cudmFsdWUsIHVpbnQyNTYoMTAqKmRlY2ltYWxzKSkpIC8gcHJpY2U7IAogICAgICAgIAogICAgICAgIC8vIGRlY2lkZSBob3cgbXVjaCB3ZSBidXkgCiAgICAgICAgCiAgICAgICAgaWYgKGFtb3VudF9idXlhYmxlID4gU2VsbE9yZGVyc1t0YXJnZXRdWzBdKXsKICAgICAgICAgICAgYW1vdW50X2J1eWFibGUgPSBTZWxsT3JkZXJzW3RhcmdldF1bMF07CiAgICAgICAgfQogICAgICAgIGlmIChhbW91bnRfYnV5YWJsZSA+IG1heGFtb3VudCl7CiAgICAgICAgICAgIGFtb3VudF9idXlhYmxlID0gbWF4YW1vdW50OwogICAgICAgIH0KICAgICAgICAvLzEwMDAwMDAwMDAwMDAwMDAwMDAwLDE0OTk5OTk5OTk5OTk5CiAgICAgICAgLy8iMHhjYTM1YjdkOTE1NDU4ZWY1NDBhZGU2MDY4ZGZlMmY0NGU4ZmE3MzNjIiwxMDAwMDAwMDAwMDAwMDAwMDAwMCwxNDk5OTk5OTk5OTk5OQogICAgICAgIHVpbnQyNTYgdG90YWxfcGF5bWVudCA9IG11bChhbW91bnRfYnV5YWJsZSwgcHJpY2UpIC8gKHVpbnQyNTYoMTAgKiogZGVjaW1hbHMpKTsKICAgICAgICAKICAgICAgICAvLyBMZXQncyBidXkgdG9rZW5zIGFuZCBhY3R1YWxseSBwYXksIG9rYXk/CiAgICAgICAgcmVxdWlyZShhbW91bnRfYnV5YWJsZSA+IDAgJiYgdG90YWxfcGF5bWVudCA+IDApOyAKICAgICAgICAKICAgICAgICAvLyBGcm9tIHRoZSBhbW91bnQgd2UgYWN0dWFsbHkgcGF5LCB3ZSB0YWtlIGV4Y2hhbmdlIGZlZSBmcm9tIGl0IAogICAgICAgIAogICAgICAgIHVpbnQyNTYgRmVlID0gbXVsKHRvdGFsX3BheW1lbnQsIFNlbGxGZWUpIC8gMTAwMDA7CiAgICAgICAgdWludDI1NiBMZWZ0ID0gdG90YWxfcGF5bWVudCAtIEZlZTsgCiAgICAgICAgCiAgICAgICAgdWludDI1NiBFeGNlc3MgPSBtc2cudmFsdWUgLSB0b3RhbF9wYXltZW50OwogICAgICAgIAogICAgICAgIHVpbnQyNTYgT2xkVG9rZW5zU2VsbGVyID0gYmFsYW5jZU9mW3RhcmdldF07CiAgICAgICAgdWludDI1NiBPbGRUb2tlbnNCdXllciA9IGJhbGFuY2VPZlttc2cuc2VuZGVyXTsKCiAgICAgICAgLy8gQ2hhbmdlIGl0IGluIG1lbW9yeSAKICAgICAgICBfZm9yY2VUcmFuc2Zlcih0YXJnZXQsIG1zZy5zZW5kZXIsIGFtb3VudF9idXlhYmxlKTsKICAgICAgICAKICAgICAgICAvLyBQYXkgb3V0IHdpdGhkcmF3YWxzIGFuZCByZXNldCB0aW1lcgogICAgICAgIC8vIFByZXZlbnRzIGRvdWJsZSB3aXRoZHJhd2FscyBpbiBzYW1lIHR4CiAgICAgICAgCiAgICAgICAgLy8gQ2hhbmdlIHNlbGwgb3JkZXIgCiAgICAgICAgU2VsbE9yZGVyc1t0YXJnZXRdWzBdID0gc3ViKFNlbGxPcmRlcnNbdGFyZ2V0XVswXSxhbW91bnRfYnV5YWJsZSk7CiAgICAgICAgCiAgICAgICAgCiAgICAgICAgLy8gc3RhcnQgYWxsIHRyYW5zZmVyIHN0dWZmIAoKICAgICAgICB1aW50MjU2IF9zZW5kVGFyZ2V0ID0gX3dpdGhkcmF3KHRhcmdldCwgT2xkVG9rZW5zU2VsbGVyLCBmYWxzZSwwKTsKICAgICAgICB1aW50MjU2IF9zZW5kQnV5ZXIgPSBfd2l0aGRyYXcobXNnLnNlbmRlciwgT2xkVG9rZW5zQnV5ZXIsIGZhbHNlLCBfc2VuZFRhcmdldCk7CiAgICAgICAgCiAgICAgICAgLy8gaW4gb25lIHRyYW5zZmVyIHNhdmVzIGdhcywgYnV0IGl0cyBub3QgbmljZSBpbiB0aGUgZXRoZXJzY2FuIGxvZ3MgCiAgICAgICAgdGFyZ2V0LnRyYW5zZmVyKGFkZChMZWZ0LCBfc2VuZFRhcmdldCkpOwogICAgICAgIAogICAgICAgIGlmIChhZGQoRXhjZXNzLCBfc2VuZEJ1eWVyKSA+IDApewogICAgICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGFkZChFeGNlc3MsX3NlbmRCdXllcikpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBpZiAoRmVlID4gMCl7CiAgICAgICAgICAgIG93bmVyLnRyYW5zZmVyKEZlZSk7CiAgICAgICAgfQogICAgIAogICAgICAgIGVtaXQgU2VsbE9yZGVyRmlsbGVkKG1zZy5zZW5kZXIsIHRhcmdldCwgYW1vdW50X2J1eWFibGUsICBwcmljZSwgTGVmdCk7CiAgICB9CgoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBTZWxsT3JkZXJQbGFjZWQoYWRkcmVzcyB3aG8sIHVpbnQyNTYgYXZhaWxhYmxlLCB1aW50MjU2IHByaWNlKTsKICAgIGV2ZW50IFNlbGxPcmRlckZpbGxlZChhZGRyZXNzIGJ1eWVyLCBhZGRyZXNzIHNlbGxlciwgdWludDI1NiB0b2tlbnMsIHVpbnQyNTYgcHJpY2UsIHVpbnQyNTYgcGF5bWVudCk7CiAgICBldmVudCBTZWxsT3JkZXJDYW5jZWxsZWQoYWRkcmVzcyB3aG8pOwogICAgZXZlbnQgV2l0aGRyYXdhbENvbXBsZXRlKGFkZHJlc3Mgd2hvLCB1aW50MjU2IGdvdCk7CiAgICAKICAgIAogICAgLy8gdGhhbmtzIGZvciBkaXZzIAogICAgZnVuY3Rpb24oKSBwdWJsaWMgcGF5YWJsZXsKICAgICAgICAKICAgIH0KICAgIAogICAgLy8gc2FmZW1hdGggCiAgICAKICAgICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmIChhID09IDApIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgLyoqCiAgKiBAZGV2IEludGVnZXIgZGl2aXNpb24gb2YgdHdvIG51bWJlcnMsIHRydW5jYXRpbmcgdGhlIHF1b3RpZW50LgogICovCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgLy8gdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGEgLyBiOwogIH0KCiAgLyoqCiAgKiBAZGV2IFN1YnRyYWN0cyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93IChpLmUuIGlmIHN1YnRyYWhlbmQgaXMgZ3JlYXRlciB0aGFuIG1pbnVlbmQpLgogICovCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgLyoqCiAgKiBAZGV2IEFkZHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAqLwogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9'.
	

]
