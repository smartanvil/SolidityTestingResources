Class {
	#name : #SRT4895d0fcb5489434fd856f2942d578ea0c1aed15,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4895d0fcb5489434fd856f2942d578ea0c1aed15 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vCi8vIElESCBpbmRhSGFzaCB0b2tlbiBwdWJsaWMgc2FsZSBjb250cmFjdAovLwovLyBGb3IgZGV0YWlscywgcGxlYXNlIHZpc2l0OiBodHRwczovL2luZGFoYXNoLmNvbS9pY28KLy8KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8KLy8gU2FmZU1hdGgzCi8vCi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5L2Jsb2IvbWFzdGVyL2NvbnRyYWN0cy9tYXRoL1NhZmVNYXRoLnNvbAovLyAobm8gbmVlZCB0byBpbXBsZW1lbnQgZGl2aXNpb24pCi8vCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmxpYnJhcnkgU2FmZU1hdGgzIHsKCiAgZnVuY3Rpb24gbXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50IGMpIHsKICAgIGMgPSBhICogYjsKICAgIGFzc2VydCggYSA9PSAwIHx8IGMgLyBhID09IGIgKTsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KCBiIDw9IGEgKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludCBjKSB7CiAgICBjID0gYSArIGI7CiAgICBhc3NlcnQoIGMgPj0gYSApOwogIH0KCn0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vCi8vIE93bmVkIGNvbnRyYWN0Ci8vCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmNvbnRyYWN0IE93bmVkIHsKCiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgYWRkcmVzcyBwdWJsaWMgbmV3T3duZXI7CgogIC8vIEV2ZW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJQcm9wb3NlZChhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8pOwogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90byk7CgogIC8vIE1vZGlmaWVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgbW9kaWZpZXIgb25seU93bmVyIHsKICAgIHJlcXVpcmUoIG1zZy5zZW5kZXIgPT0gb3duZXIgKTsKICAgIF87CiAgfQoKICAvLyBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogIGZ1bmN0aW9uIE93bmVkKCkgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICByZXF1aXJlKCBfbmV3T3duZXIgIT0gb3duZXIgKTsKICAgIHJlcXVpcmUoIF9uZXdPd25lciAhPSBhZGRyZXNzKDB4MCkgKTsKICAgIE93bmVyc2hpcFRyYW5zZmVyUHJvcG9zZWQob3duZXIsIF9uZXdPd25lcik7CiAgICBuZXdPd25lciA9IF9uZXdPd25lcjsKICB9CgogIGZ1bmN0aW9uIGFjY2VwdE93bmVyc2hpcCgpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBuZXdPd25lcik7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cgp9CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLwovLyBFUkMgVG9rZW4gU3RhbmRhcmQgIzIwIEludGVyZmFjZQovLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9ibG9iL21hc3Rlci9FSVBTL2VpcC0yMC10b2tlbi1zdGFuZGFyZC5tZAovLwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpjb250cmFjdCBFUkMyMEludGVyZmFjZSB7CgogIC8vIEV2ZW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50IF92YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50IF92YWx1ZSk7CgogIC8vIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgYmFsYW5jZSk7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKTsKCn0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vCi8vIEVSQyBUb2tlbiBTdGFuZGFyZCAjMjAKLy8KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY29udHJhY3QgRVJDMjBUb2tlbiBpcyBFUkMyMEludGVyZmFjZSwgT3duZWQgewogIAogIHVzaW5nIFNhZmVNYXRoMyBmb3IgdWludDsKCiAgdWludCBwdWJsaWMgdG9rZW5zSXNzdWVkVG90YWwgPSAwOwogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBiYWxhbmNlczsKICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKCiAgLy8gRnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAvKiBUb3RhbCB0b2tlbiBzdXBwbHkgKi8KCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICByZXR1cm4gdG9rZW5zSXNzdWVkVG90YWw7CiAgfQoKICAvKiBHZXQgdGhlIGFjY291bnQgYmFsYW5jZSBmb3IgYW4gYWRkcmVzcyAqLwoKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKICAvKiBUcmFuc2ZlciB0aGUgYmFsYW5jZSBmcm9tIG93bmVyJ3MgYWNjb3VudCB0byBhbm90aGVyIGFjY291bnQgKi8KCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAvLyBhbW91bnQgc2VudCBjYW5ub3QgZXhjZWVkIGJhbGFuY2UKICAgIHJlcXVpcmUoIGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF9hbW91bnQgKTsKCiAgICAvLyB1cGRhdGUgYmFsYW5jZXMKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOwogICAgYmFsYW5jZXNbX3RvXSAgICAgICAgPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKCiAgICAvLyBsb2cgZXZlbnQKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qIEFsbG93IF9zcGVuZGVyIHRvIHdpdGhkcmF3IGZyb20geW91ciBhY2NvdW50IHVwIHRvIF9hbW91bnQgKi8KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgLy8gYXBwcm92YWwgYW1vdW50IGNhbm5vdCBleGNlZWQgdGhlIGJhbGFuY2UKICAgIHJlcXVpcmUgKCBiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfYW1vdW50ICk7CiAgICAgIAogICAgLy8gdXBkYXRlIGFsbG93ZWQgYW1vdW50CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF9hbW91bnQ7CiAgICAKICAgIC8vIGxvZyBldmVudAogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKiBTcGVuZGVyIG9mIHRva2VucyB0cmFuc2ZlcnMgdG9rZW5zIGZyb20gdGhlIG93bmVyJ3MgYmFsYW5jZSAqLwogIC8qIE11c3QgYmUgcHJlLWFwcHJvdmVkIGJ5IG93bmVyICovCgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIC8vIGJhbGFuY2UgY2hlY2tzCiAgICByZXF1aXJlKCBiYWxhbmNlc1tfZnJvbV0gPj0gX2Ftb3VudCApOwogICAgcmVxdWlyZSggYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCApOwoKICAgIC8vIHVwZGF0ZSBiYWxhbmNlcyBhbmQgYWxsb3dlZCBhbW91bnQKICAgIGJhbGFuY2VzW19mcm9tXSAgICAgICAgICAgID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfYW1vdW50KTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOwogICAgYmFsYW5jZXNbX3RvXSAgICAgICAgICAgICAgPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKCiAgICAvLyBsb2cgZXZlbnQKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKiBSZXR1cm5zIHRoZSBhbW91bnQgb2YgdG9rZW5zIGFwcHJvdmVkIGJ5IHRoZSBvd25lciAqLwogIC8qIHRoYXQgY2FuIGJlIHRyYW5zZmVycmVkIGJ5IHNwZW5kZXIgKi8KCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKfQoKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8KLy8gSURIIHB1YmxpYyB0b2tlbiBzYWxlCi8vCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmNvbnRyYWN0IEluZGFIYXNoVG9rZW4gaXMgRVJDMjBUb2tlbiB7CgogIC8qIFV0aWxpdHkgdmFyaWFibGUgKi8KICAKICB1aW50IGNvbnN0YW50IEU2ID0gMTAqKjY7CiAgCiAgLyogQmFzaWMgdG9rZW4gZGF0YSAqLwoKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgICAgID0gImluZGFIYXNoIENvaW4iOwogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sICAgPSAiSURIIjsKICB1aW50OCAgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gNjsKCiAgLyogV2FsbGV0IGFkZHJlc3NlcyAtIGluaXRpYWxseSBzZXQgdG8gb3duZXIgYXQgZGVwbG95bWVudCAqLwogIAogIGFkZHJlc3MgcHVibGljIHdhbGxldDsKICBhZGRyZXNzIHB1YmxpYyBhZG1pbldhbGxldDsKCiAgLyogSUNPIGRhdGVzICovCgogIHVpbnQgcHVibGljIGNvbnN0YW50IERBVEVfUFJFU0FMRV9TVEFSVCA9IDE1MTAxNTE0MDA7IC8vIDA4LU5vdi0yMDE3IDE0OjMwIFVUQwogIHVpbnQgcHVibGljIGNvbnN0YW50IERBVEVfUFJFU0FMRV9FTkQgICA9IDE1MTA3NTgwMDA7IC8vIDE1LU5vdi0yMDE3IDE1OjAwIFVUQwoKICB1aW50IHB1YmxpYyBjb25zdGFudCBEQVRFX0lDT19TVEFSVCA9IDE1MTE5Njc2MDA7IC8vIDI5LU5vdi0yMDE3IDE1OjAwIFVUQwogIHVpbnQgcHVibGljIGNvbnN0YW50IERBVEVfSUNPX0VORCAgID0gMTUxMzc4MjAwMDsgLy8gMjAtRGVjLTIwMTcgMTU6MDAgVVRDCgogIC8qIElDTyB0b2tlbnMgcGVyIEVUSCAqLwogIAogIHVpbnQgcHVibGljIHRva2Vuc1BlckV0aCA9IDMyMDAgKiBFNjsgLy8gcmF0ZSBkdXJpbmcgbGFzdCBJQ08gd2VlawoKICB1aW50IHB1YmxpYyBjb25zdGFudCBCT05VU19QUkVTQUxFICAgICAgPSA0MDsKICB1aW50IHB1YmxpYyBjb25zdGFudCBCT05VU19JQ09fV0VFS19PTkUgPSAyMDsKICB1aW50IHB1YmxpYyBjb25zdGFudCBCT05VU19JQ09fV0VFS19UV08gPSAxMDsKCiAgLyogT3RoZXIgSUNPIHBhcmFtZXRlcnMgKi8gIAogIAogIHVpbnQgcHVibGljIGNvbnN0YW50IFRPS0VOX1NVUFBMWV9UT1RBTCA9IDQwMCAqIEU2ICogRTY7IC8vIDQwMCBtbSB0b2tlbnMKICB1aW50IHB1YmxpYyBjb25zdGFudCBUT0tFTl9TVVBQTFlfSUNPICAgPSAzMjAgKiBFNiAqIEU2OyAvLyAzMjAgbW0gdG9rZW5zCiAgdWludCBwdWJsaWMgY29uc3RhbnQgVE9LRU5fU1VQUExZX01LVCAgID0gIDgwICogRTYgKiBFNjsgLy8gIDgwIG1tIHRva2VucwoKICB1aW50IHB1YmxpYyBjb25zdGFudCBQUkVTQUxFX0VUSF9DQVAgPSAgMTUwMDAgZXRoZXI7CgogIHVpbnQgcHVibGljIGNvbnN0YW50IE1JTl9GVU5ESU5HX0dPQUwgPSAgNDAgKiBFNiAqIEU2OyAvLyA0MCBtbSB0b2tlbnMKICAKICB1aW50IHB1YmxpYyBjb25zdGFudCBNSU5fQ09OVFJJQlVUSU9OID0gMSBldGhlciAvIDIwOyAvLyAwLjA1IEV0aGVyCiAgdWludCBwdWJsaWMgY29uc3RhbnQgTUFYX0NPTlRSSUJVVElPTiA9IDMwMCBldGhlcjsKCiAgdWludCBwdWJsaWMgY29uc3RhbnQgQ09PTERPV05fUEVSSU9EID0gIDIgZGF5czsKICB1aW50IHB1YmxpYyBjb25zdGFudCBDTEFXQkFDS19QRVJJT0QgPSA5MCBkYXlzOwoKICAvKiBDcm93ZHNhbGUgdmFyaWFibGVzICovCgogIHVpbnQgcHVibGljIGljb0V0aGVyUmVjZWl2ZWQgPSAwOyAvLyBFdGhlciBhY3R1YWxseSByZWNlaXZlZCBieSB0aGUgY29udHJhY3QKCiAgdWludCBwdWJsaWMgdG9rZW5zSXNzdWVkSWNvICAgPSAwOwogIHVpbnQgcHVibGljIHRva2Vuc0lzc3VlZE1rdCAgID0gMDsKICAKICB1aW50IHB1YmxpYyB0b2tlbnNDbGFpbWVkQWlyZHJvcCA9IDA7CiAgCiAgLyogS2VlcCB0cmFjayBvZiBFdGhlciBjb250cmlidXRlZCBhbmQgdG9rZW5zIHJlY2VpdmVkIGR1cmluZyBDcm93ZHNhbGUgKi8KICAKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcHVibGljIGljb0V0aGVyQ29udHJpYnV0ZWQ7CiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBpY29Ub2tlbnNSZWNlaXZlZDsKCiAgLyogS2VlcCB0cmFjayBvZiBwYXJ0aWNpcGFudHMgd2hvIAogIC8qIC0gaGF2ZSByZWNlaXZlZCB0aGVpciBhaXJkcm9wcGVkIHRva2VucyBhZnRlciBhIHN1Y2Nlc3NmdWwgSUNPICovCiAgLyogLSBvciBoYXZlIHJlY2xhaW1lZCB0aGVpciBjb250cmlidXRpb25zIGluIGNhc2Ugb2YgZmlhbGVkIENyb3dkc2FsZSAqLwogIAogIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgYWlyZHJvcENsYWltZWQ7CiAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyByZWZ1bmRDbGFpbWVkOwoKICAvLyBFdmVudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgCiAgZXZlbnQgV2FsbGV0VXBkYXRlZChhZGRyZXNzIF9uZXdXYWxsZXQpOwogIGV2ZW50IEFkbWluV2FsbGV0VXBkYXRlZChhZGRyZXNzIF9uZXdBZG1pbldhbGxldCk7CiAgZXZlbnQgVG9rZW5zUGVyRXRoVXBkYXRlZCh1aW50IF90b2tlbnNQZXJFdGgpOwogIGV2ZW50IFRva2Vuc01pbnRlZChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCB1aW50IF90b2tlbnMsIHVpbnQgX2JhbGFuY2UpOwogIGV2ZW50IFRva2Vuc0lzc3VlZChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCB1aW50IF90b2tlbnMsIHVpbnQgX2JhbGFuY2UsIHVpbnQgX2V0aGVyQ29udHJpYnV0ZWQpOwogIGV2ZW50IFJlZnVuZChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCB1aW50IF9hbW91bnQsIHVpbnQgX3Rva2Vucyk7CiAgZXZlbnQgQWlyZHJvcChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCB1aW50IF9hbW91bnQsIHVpbnQgX2JhbGFuY2UpOwoKICAvLyBCYXNpYyBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tCgogIC8qIEluaXRpYWxpemUgKG93bmVyIGlzIHNldCB0byBtc2cuc2VuZGVyIGJ5IE93bmVkLk93bmVkKCkgKi8KCiAgZnVuY3Rpb24gSW5kYUhhc2hUb2tlbigpIHsKICAgIHJlcXVpcmUoIFRPS0VOX1NVUFBMWV9JQ08gKyBUT0tFTl9TVVBQTFlfTUtUID09IFRPS0VOX1NVUFBMWV9UT1RBTCApOwogICAgd2FsbGV0ID0gb3duZXI7CiAgICBhZG1pbldhbGxldCA9IG93bmVyOwogIH0KCiAgLyogRmFsbGJhY2sgKi8KICAKICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsKICAgIGJ1eVRva2VucygpOwogIH0KICAKICAvLyBJbmZvcm1hdGlvbiBmdW5jdGlvbnMgLS0tLS0tLS0tLS0tCiAgCiAgLyogV2hhdCB0aW1lIGlzIGl0PyAqLwogIAogIGZ1bmN0aW9uIGF0Tm93KCkgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgcmV0dXJuIG5vdzsKICB9CiAgCiAgLyogSGFzIHRoZSBtaW5pbXVtIHRocmVzaG9sZCBiZWVuIHJlYWNoZWQ/ICovCiAgCiAgZnVuY3Rpb24gaWNvVGhyZXNob2xkUmVhY2hlZCgpIGNvbnN0YW50IHJldHVybnMgKGJvb2wgdGhyZXNob2xkUmVhY2hlZCkgewogICAgIGlmICh0b2tlbnNJc3N1ZWRJY28gPCBNSU5fRlVORElOR19HT0FMKSByZXR1cm4gZmFsc2U7CiAgICAgcmV0dXJuIHRydWU7CiAgfSAgCiAgCiAgLyogQXJlIHRva2VucyB0cmFuc2ZlcmFibGU/ICovCgogIGZ1bmN0aW9uIGlzVHJhbnNmZXJhYmxlKCkgY29uc3RhbnQgcmV0dXJucyAoYm9vbCB0cmFuc2ZlcmFibGUpIHsKICAgICBpZiAoICFpY29UaHJlc2hvbGRSZWFjaGVkKCkgKSByZXR1cm4gZmFsc2U7CiAgICAgaWYgKCBhdE5vdygpIDwgREFURV9JQ09fRU5EICsgQ09PTERPV05fUEVSSU9EICkgcmV0dXJuIGZhbHNlOwogICAgIHJldHVybiB0cnVlOwogIH0KICAKICAvLyBPd25lciBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tCiAgCiAgLyogQ2hhbmdlIHRoZSBjcm93ZHNhbGUgd2FsbGV0IGFkZHJlc3MgKi8KCiAgZnVuY3Rpb24gc2V0V2FsbGV0KGFkZHJlc3MgX3dhbGxldCkgb25seU93bmVyIHsKICAgIHJlcXVpcmUoIF93YWxsZXQgIT0gYWRkcmVzcygweDApICk7CiAgICB3YWxsZXQgPSBfd2FsbGV0OwogICAgV2FsbGV0VXBkYXRlZCh3YWxsZXQpOwogIH0KCiAgLyogQ2hhbmdlIHRoZSBhZG1pbiB3YWxsZXQgYWRkcmVzcyAqLwoKICBmdW5jdGlvbiBzZXRBZG1pbldhbGxldChhZGRyZXNzIF93YWxsZXQpIG9ubHlPd25lciB7CiAgICByZXF1aXJlKCBfd2FsbGV0ICE9IGFkZHJlc3MoMHgwKSApOwogICAgYWRtaW5XYWxsZXQgPSBfd2FsbGV0OwogICAgQWRtaW5XYWxsZXRVcGRhdGVkKGFkbWluV2FsbGV0KTsKICB9CgogIC8qIENoYW5nZSB0b2tlbnNQZXJFdGggYmVmb3JlIElDTyBzdGFydCAqLwogIAogIGZ1bmN0aW9uIHVwZGF0ZVRva2Vuc1BlckV0aCh1aW50IF90b2tlbnNQZXJFdGgpIG9ubHlPd25lciB7CiAgICByZXF1aXJlKCBhdE5vdygpIDwgREFURV9QUkVTQUxFX1NUQVJUICk7CiAgICB0b2tlbnNQZXJFdGggPSBfdG9rZW5zUGVyRXRoOwogICAgVG9rZW5zUGVyRXRoVXBkYXRlZChfdG9rZW5zUGVyRXRoKTsKICB9CgogIC8qIE1pbnRpbmcgb2YgbWFya2V0aW5nIHRva2VucyBieSBvd25lciAqLwoKICBmdW5jdGlvbiBtaW50TWFya2V0aW5nKGFkZHJlc3MgX3BhcnRpY2lwYW50LCB1aW50IF90b2tlbnMpIG9ubHlPd25lciB7CiAgICAvLyBjaGVjayBhbW91bnQKICAgIHJlcXVpcmUoIF90b2tlbnMgPD0gVE9LRU5fU1VQUExZX01LVC5zdWIodG9rZW5zSXNzdWVkTWt0KSApOwogICAgCiAgICAvLyB1cGRhdGUgYmFsYW5jZXMKICAgIGJhbGFuY2VzW19wYXJ0aWNpcGFudF0gPSBiYWxhbmNlc1tfcGFydGljaXBhbnRdLmFkZChfdG9rZW5zKTsKICAgIHRva2Vuc0lzc3VlZE1rdCAgICAgICAgPSB0b2tlbnNJc3N1ZWRNa3QuYWRkKF90b2tlbnMpOwogICAgdG9rZW5zSXNzdWVkVG90YWwgICAgICA9IHRva2Vuc0lzc3VlZFRvdGFsLmFkZChfdG9rZW5zKTsKICAgIAogICAgLy8gbG9nIHRoZSBtaW5pdGluZwogICAgVHJhbnNmZXIoMHgwLCBfcGFydGljaXBhbnQsIF90b2tlbnMpOwogICAgVG9rZW5zTWludGVkKF9wYXJ0aWNpcGFudCwgX3Rva2VucywgYmFsYW5jZXNbX3BhcnRpY2lwYW50XSk7CiAgfQoKICAvKiBPd25lciBjbGF3YmFjayBvZiByZW1haW5pbmcgZnVuZHMgYWZ0ZXIgY2xhd2JhY2sgcGVyaW9kICovCiAgLyogKGZvciB1c2UgaW4gY2FzZSBvZiBhIGZhaWxlZCBDcndvZHNhbGUpICovCiAgCiAgZnVuY3Rpb24gb3duZXJDbGF3YmFjaygpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICByZXF1aXJlKCBhdE5vdygpID4gREFURV9JQ09fRU5EICsgQ0xBV0JBQ0tfUEVSSU9EICk7CiAgICB3YWxsZXQudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICB9CgogIC8qIFRyYW5zZmVyIG91dCBhbnkgYWNjaWRlbnRhbGx5IHNlbnQgRVJDMjAgdG9rZW5zICovCgogIGZ1bmN0aW9uIHRyYW5zZmVyQW55RVJDMjBUb2tlbihhZGRyZXNzIHRva2VuQWRkcmVzcywgdWludCBhbW91bnQpIG9ubHlPd25lciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgcmV0dXJuIEVSQzIwSW50ZXJmYWNlKHRva2VuQWRkcmVzcykudHJhbnNmZXIob3duZXIsIGFtb3VudCk7CiAgfQoKICAvLyBQcml2YXRlIGZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tCgogIC8qIEFjY2VwdCBFVEggZHVyaW5nIGNyb3dkc2FsZSAoY2FsbGVkIGJ5IGRlZmF1bHQgZnVuY3Rpb24pICovCgogIGZ1bmN0aW9uIGJ1eVRva2VucygpIHByaXZhdGUgewogICAgdWludCB0cyA9IGF0Tm93KCk7CiAgICBib29sIGlzUHJlc2FsZSA9IGZhbHNlOwogICAgYm9vbCBpc0ljbyA9IGZhbHNlOwogICAgdWludCB0b2tlbnMgPSAwOwogICAgCiAgICAvLyBtaW5pbXVtIGNvbnRyaWJ1dGlvbgogICAgcmVxdWlyZSggbXNnLnZhbHVlID49IE1JTl9DT05UUklCVVRJT04gKTsKICAgIAogICAgLy8gb25lIGFkZHJlc3MgdHJhbnNmZXIgaGFyZCBjYXAKICAgIHJlcXVpcmUoIGljb0V0aGVyQ29udHJpYnV0ZWRbbXNnLnNlbmRlcl0uYWRkKG1zZy52YWx1ZSkgPD0gTUFYX0NPTlRSSUJVVElPTiApOwoKICAgIC8vIGNoZWNrIGRhdGVzIGZvciBwcmVzYWxlIG9yIElDTwogICAgaWYgKHRzID4gREFURV9QUkVTQUxFX1NUQVJUICYmIHRzIDwgREFURV9QUkVTQUxFX0VORCkgaXNQcmVzYWxlID0gdHJ1ZTsgIAogICAgaWYgKHRzID4gREFURV9JQ09fU1RBUlQgJiYgdHMgPCBEQVRFX0lDT19FTkQpIGlzSWNvID0gdHJ1ZTsgIAogICAgcmVxdWlyZSggaXNQcmVzYWxlIHx8IGlzSWNvICk7CgogICAgLy8gcHJlc2FsZSBjYXAgaW4gRXRoZXIKICAgIGlmIChpc1ByZXNhbGUpIHJlcXVpcmUoIGljb0V0aGVyUmVjZWl2ZWQuYWRkKG1zZy52YWx1ZSkgPD0gUFJFU0FMRV9FVEhfQ0FQICk7CiAgICAKICAgIC8vIGdldCBiYXNlbGluZSBudW1iZXIgb2YgdG9rZW5zCiAgICB0b2tlbnMgPSB0b2tlbnNQZXJFdGgubXVsKG1zZy52YWx1ZSkgLyAxIGV0aGVyOwogICAgCiAgICAvLyBhcHBseSBib251c2VzIChub25lIGZvciBsYXN0IHdlZWspCiAgICBpZiAoaXNQcmVzYWxlKSB7CiAgICAgIHRva2VucyA9IHRva2Vucy5tdWwoMTAwICsgQk9OVVNfUFJFU0FMRSkgLyAxMDA7CiAgICB9IGVsc2UgaWYgKHRzIDwgREFURV9JQ09fU1RBUlQgKyA3IGRheXMpIHsKICAgICAgLy8gZmlyc3Qgd2VlayBpY28gYm9udXMKICAgICAgdG9rZW5zID0gdG9rZW5zLm11bCgxMDAgKyBCT05VU19JQ09fV0VFS19PTkUpIC8gMTAwOwogICAgfSBlbHNlIGlmICh0cyA8IERBVEVfSUNPX1NUQVJUICsgMTQgZGF5cykgewogICAgICAvLyBzZWNvbmQgd2VlayBpY28gYm9udXMKICAgICAgdG9rZW5zID0gdG9rZW5zLm11bCgxMDAgKyBCT05VU19JQ09fV0VFS19UV08pIC8gMTAwOwogICAgfQogICAgCiAgICAvLyBJQ08gdG9rZW4gdm9sdW1lIGNhcAogICAgcmVxdWlyZSggdG9rZW5zSXNzdWVkSWNvLmFkZCh0b2tlbnMpIDw9IFRPS0VOX1NVUFBMWV9JQ08gKTsKCiAgICAvLyByZWdpc3RlciB0b2tlbnMKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICAgICAgICAgID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKHRva2Vucyk7CiAgICBpY29Ub2tlbnNSZWNlaXZlZFttc2cuc2VuZGVyXSA9IGljb1Rva2Vuc1JlY2VpdmVkW21zZy5zZW5kZXJdLmFkZCh0b2tlbnMpOwogICAgdG9rZW5zSXNzdWVkSWNvICAgICAgICAgICAgICAgPSB0b2tlbnNJc3N1ZWRJY28uYWRkKHRva2Vucyk7CiAgICB0b2tlbnNJc3N1ZWRUb3RhbCAgICAgICAgICAgICA9IHRva2Vuc0lzc3VlZFRvdGFsLmFkZCh0b2tlbnMpOwogICAgCiAgICAvLyByZWdpc3RlciBFdGhlcgogICAgaWNvRXRoZXJSZWNlaXZlZCAgICAgICAgICAgICAgICA9IGljb0V0aGVyUmVjZWl2ZWQuYWRkKG1zZy52YWx1ZSk7CiAgICBpY29FdGhlckNvbnRyaWJ1dGVkW21zZy5zZW5kZXJdID0gaWNvRXRoZXJDb250cmlidXRlZFttc2cuc2VuZGVyXS5hZGQobXNnLnZhbHVlKTsKICAgIAogICAgLy8gbG9nIHRva2VuIGlzc3VhbmNlCiAgICBUcmFuc2ZlcigweDAsIG1zZy5zZW5kZXIsIHRva2Vucyk7CiAgICBUb2tlbnNJc3N1ZWQobXNnLnNlbmRlciwgdG9rZW5zLCBiYWxhbmNlc1ttc2cuc2VuZGVyXSwgbXNnLnZhbHVlKTsKCiAgICAvLyB0cmFuc2ZlciBFdGhlciBpZiB3ZSdyZSBvdmVyIHRoZSB0aHJlc2hvbGQKICAgIGlmICggaWNvVGhyZXNob2xkUmVhY2hlZCgpICkgd2FsbGV0LnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgfQogIAogIC8vIEVSQzIwIGZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0KCiAgLyogT3ZlcnJpZGUgInRyYW5zZmVyIiAoRVJDMjApICovCgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmVxdWlyZSggaXNUcmFuc2ZlcmFibGUoKSApOwogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX2Ftb3VudCk7CiAgfQogIAogIC8qIE92ZXJyaWRlICJ0cmFuc2ZlckZyb20iIChFUkMyMCkgKi8KCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmVxdWlyZSggaXNUcmFuc2ZlcmFibGUoKSApOwogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfYW1vdW50KTsKICB9CgogIC8vIEV4dGVybmFsIGZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0KCiAgLyogUmVjbGFpbWluZyBvZiBmdW5kcyBieSBjb250cmlidXRvcnMgaW4gY2FzZSBvZiBhIGZhaWxlZCBjcm93ZHNhbGUgKi8KICAvKiAoaXQgd2lsbCBmYWlsIGlmIGFjY291bnQgaXMgZW1wdHkgYWZ0ZXIgb3duZXJDbGF3YmFjaykgKi8KCiAgLyogV2hpbGUgdGhlcmUgY291bGQgbm90IGhhdmUgYmVlbiBhbnkgdG9rZW4gdHJhbnNmZXJzIHlldCwgYSBjb250cmlidXRvciAqLwogIC8qIG1heSBoYXZlIHJlY2VpdmVkIG1pbnRlZCB0b2tlbnMsIHNvIHRoZSB0b2tlbiBiYWxhbmNlIGFmdGVyIGEgcmVmdW5kICovIAogIC8qIG1heSBzdGlsbCBiZSBwb3NpdGl2ZSAqLwogIAogIGZ1bmN0aW9uIHJlY2xhaW1GdW5kcygpIGV4dGVybmFsIHsKICAgIHVpbnQgdG9rZW5zOyAvLyB0b2tlbnMgdG8gZGVzdHJveQogICAgdWludCBhbW91bnQ7IC8vIHJlZnVuZCBhbW91bnQKICAgIAogICAgLy8gaWNvIGlzIGZpbmlzaGVkIGFuZCB3YXMgbm90IHN1Y2Nlc3NmdWwKICAgIHJlcXVpcmUoIGF0Tm93KCkgPiBEQVRFX0lDT19FTkQgJiYgIWljb1RocmVzaG9sZFJlYWNoZWQoKSApOwogICAgCiAgICAvLyBjaGVjayBpZiByZWZ1bmQgaGFzIGFscmVhZHkgYmVlbiBjbGFpbWVkCiAgICByZXF1aXJlKCAhcmVmdW5kQ2xhaW1lZFttc2cuc2VuZGVyXSApOwogICAgCiAgICAvLyBjaGVjayBpZiB0aGVyZSBpcyBhbnl0aGluZyB0byByZWZ1bmQKICAgIHJlcXVpcmUoIGljb0V0aGVyQ29udHJpYnV0ZWRbbXNnLnNlbmRlcl0gPiAwICk7CiAgICAKICAgIC8vIHVwZGF0ZSB2YXJpYWJsZXMgYWZmZWN0ZWQgYnkgcmVmdW5kCiAgICB0b2tlbnMgPSBpY29Ub2tlbnNSZWNlaXZlZFttc2cuc2VuZGVyXTsKICAgIGFtb3VudCA9IGljb0V0aGVyQ29udHJpYnV0ZWRbbXNnLnNlbmRlcl07CgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIodG9rZW5zKTsKICAgIHRva2Vuc0lzc3VlZFRvdGFsICAgID0gdG9rZW5zSXNzdWVkVG90YWwuc3ViKHRva2Vucyk7CiAgICAKICAgIHJlZnVuZENsYWltZWRbbXNnLnNlbmRlcl0gPSB0cnVlOwogICAgCiAgICAvLyB0cmFuc2ZlciBvdXQgcmVmdW5kCiAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGFtb3VudCk7CiAgICAKICAgIC8vIGxvZwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgMHgwLCB0b2tlbnMpOwogICAgUmVmdW5kKG1zZy5zZW5kZXIsIGFtb3VudCwgdG9rZW5zKTsKICB9CgogIC8qIENsYWltaW5nIG9mICJhaXJkcm9wcGVkIiB0b2tlbnMgaW4gY2FzZSBvZiBzdWNjZXNzZnVsIGNyb3dkc2FsZSAqLwogIC8qIENhbiBiZSBkb25lIGJ5IHRva2VuIGhvbGRlciwgb3IgYnkgYWRtaW5XYWxsZXQgKi8gCgogIGZ1bmN0aW9uIGNsYWltQWlyZHJvcCgpIGV4dGVybmFsIHsKICAgIGRvQWlyZHJvcChtc2cuc2VuZGVyKTsKICB9CgogIGZ1bmN0aW9uIGFkbWluQ2xhaW1BaXJkcm9wKGFkZHJlc3MgX3BhcnRpY2lwYW50KSBleHRlcm5hbCB7CiAgICByZXF1aXJlKCBtc2cuc2VuZGVyID09IGFkbWluV2FsbGV0ICk7CiAgICBkb0FpcmRyb3AoX3BhcnRpY2lwYW50KTsKICB9CgogIGZ1bmN0aW9uIGFkbWluQ2xhaW1BaXJkcm9wTXVsdGlwbGUoYWRkcmVzc1tdIF9hZGRyZXNzZXMpIGV4dGVybmFsIHsKICAgIHJlcXVpcmUoIG1zZy5zZW5kZXIgPT0gYWRtaW5XYWxsZXQgKTsKICAgIGZvciAodWludCBpID0gMDsgaSA8IF9hZGRyZXNzZXMubGVuZ3RoOyBpKyspIGRvQWlyZHJvcChfYWRkcmVzc2VzW2ldKTsKICB9ICAKICAKICBmdW5jdGlvbiBkb0FpcmRyb3AoYWRkcmVzcyBfcGFydGljaXBhbnQpIGludGVybmFsIHsKICAgIHVpbnQgYWlyZHJvcCA9IGNvbXB1dGVBaXJkcm9wKF9wYXJ0aWNpcGFudCk7CgogICAgcmVxdWlyZSggYWlyZHJvcCA+IDAgKTsKCiAgICAvLyB1cGRhdGUgYmFsYW5jZXMgYW5kIHRva2VuIGlzc3VlIHZvbHVtZQogICAgYWlyZHJvcENsYWltZWRbX3BhcnRpY2lwYW50XSA9IHRydWU7CiAgICBiYWxhbmNlc1tfcGFydGljaXBhbnRdID0gYmFsYW5jZXNbX3BhcnRpY2lwYW50XS5hZGQoYWlyZHJvcCk7CiAgICB0b2tlbnNJc3N1ZWRUb3RhbCAgICAgID0gdG9rZW5zSXNzdWVkVG90YWwuYWRkKGFpcmRyb3ApOwogICAgdG9rZW5zQ2xhaW1lZEFpcmRyb3AgICA9IHRva2Vuc0NsYWltZWRBaXJkcm9wLmFkZChhaXJkcm9wKTsKICAgIAogICAgLy8gbG9nCiAgICBBaXJkcm9wKF9wYXJ0aWNpcGFudCwgYWlyZHJvcCwgYmFsYW5jZXNbX3BhcnRpY2lwYW50XSk7CiAgICBUcmFuc2ZlcigweDAsIF9wYXJ0aWNpcGFudCwgYWlyZHJvcCk7CiAgfQoKICAvKiBGdW5jdGlvbiB0byBlc3RpbWF0ZSBhaXJkcm9wIGFtb3VudC4gRm9yIHNvbWUgYWNjb3VudHMsIHRoZSB2YWx1ZSBvZiAqLwogIC8qIHRva2VucyByZWNlaXZlZCBieSBjYWxsaW5nIGNsYWltQWlyZHJvcCgpIG1heSBiZSBsZXNzIHRoYW4gZ2FzIGNvc3RzICovCiAgCiAgLyogSWYgYW4gYWNjb3VudCBoYXMgdG9rZW5zIGZyb20gdGhlIGljbywgdGhlIGFtb3VudCBhZnRlciB0aGUgYWlyZHJvcCAqLwogIC8qIHdpbGwgYmUgbmV3QmFsYW5jZSA9IHRva2VucyAqIFRPS0VOX1NVUFBMWV9JQ08gLyB0b2tlbnNJc3N1ZWRJY28gKi8KICAgICAgCiAgZnVuY3Rpb24gY29tcHV0ZUFpcmRyb3AoYWRkcmVzcyBfcGFydGljaXBhbnQpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgYWlyZHJvcCkgewogICAgLy8gcmV0dXJuIDAgaWYgaXQncyB0b28gZWFybHkgb3IgaWNvIHdhcyBub3Qgc3VjY2Vzc2Z1bAogICAgaWYgKCBhdE5vdygpIDwgREFURV9JQ09fRU5EIHx8ICFpY29UaHJlc2hvbGRSZWFjaGVkKCkgKSByZXR1cm4gMDsKICAgIAogICAgLy8gcmV0dXJuICAwIGlzIHRoZSBhaXJkcm9wIHdhcyBhbHJlYWR5IGNsYWltZWQKICAgIGlmKCBhaXJkcm9wQ2xhaW1lZFtfcGFydGljaXBhbnRdICkgcmV0dXJuIDA7CgogICAgLy8gcmV0dXJuIDAgaWYgdGhlIGFjY291bnQgZG9lcyBub3QgaG9sZCBhbnkgY3Jvd2RzYWxlIHRva2VucwogICAgaWYoIGljb1Rva2Vuc1JlY2VpdmVkW19wYXJ0aWNpcGFudF0gPT0gMCApIHJldHVybiAwOwogICAgCiAgICAvLyBhaXJkcm9wIGFtb3VudAogICAgdWludCB0b2tlbnMgPSBpY29Ub2tlbnNSZWNlaXZlZFtfcGFydGljaXBhbnRdOwogICAgdWludCBuZXdCYWxhbmNlID0gdG9rZW5zLm11bChUT0tFTl9TVVBQTFlfSUNPKSAvIHRva2Vuc0lzc3VlZEljbzsKICAgIGFpcmRyb3AgPSBuZXdCYWxhbmNlIC0gdG9rZW5zOwogIH0gIAoKICAvKiBNdWx0aXBsZSB0b2tlbiB0cmFuc2ZlcnMgZnJvbSBvbmUgYWRkcmVzcyB0byBzYXZlIGdhcyAqLwogIC8qIChsb25nZXIgX2Ftb3VudHMgYXJyYXkgbm90IGFjY2VwdGVkID0gc2FuaXR5IGNoZWNrKSAqLwoKICBmdW5jdGlvbiB0cmFuc2Zlck11bHRpcGxlKGFkZHJlc3NbXSBfYWRkcmVzc2VzLCB1aW50W10gX2Ftb3VudHMpIGV4dGVybmFsIHsKICAgIHJlcXVpcmUoIGlzVHJhbnNmZXJhYmxlKCkgKTsKICAgIHJlcXVpcmUoIF9hZGRyZXNzZXMubGVuZ3RoID09IF9hbW91bnRzLmxlbmd0aCApOwogICAgZm9yICh1aW50IGkgPSAwOyBpIDwgX2FkZHJlc3Nlcy5sZW5ndGg7IGkrKykgc3VwZXIudHJhbnNmZXIoX2FkZHJlc3Nlc1tpXSwgX2Ftb3VudHNbaV0pOwogIH0gIAoKfQ=='.
	

]
