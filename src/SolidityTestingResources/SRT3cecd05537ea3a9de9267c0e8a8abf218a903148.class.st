Class {
	#name : #SRT3cecd05537ea3a9de9267c0e8a8abf218a903148,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT3cecd05537ea3a9de9267c0e8a8abf218a903148 >> base64 [
	^ 'LyoqCiAqIEB0aXRsZSBNRVRUQSBwbGF0Zm9ybSB0b2tlbiAmIHByZUlDTyBjcm93ZHNhbGUgaW1wbGVtZW50YXNpb24KICogQGF1dGhvciBNYXhpbSBBa2ltb3YgLSA8PHNwYW4gY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSJmMjk2OTc4NDgxODY4YjllOTc4MTlkOTQ4Njg1OTM4MDk3YjI5NTlmOTM5YjllZGM5MTlkOWYiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L3NwYW4+PgogKiBAYXV0aG9yIERtaXRyaWkgQnlrb3YgLSA8PHNwYW4gY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSI2OTBiMTAwMjA2MGYwZjBkMDcyOTBlMDQwODAwMDU0NzBhMDYwNCI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvc3Bhbj4+CiAqLwoKcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIAoJZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CgkJdWludDI1NiBjID0gYSAqIGI7CgkJYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKCQlyZXR1cm4gYzsKCX0KCglmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKCQkvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKCQl1aW50MjU2IGMgPSBhIC8gYjsKCQkvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAoJCXJldHVybiBjOwoJfQoKCWZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewoJCWFzc2VydChiIDw9IGEpOwoJCXJldHVybiBhIC0gYjsKCX0KCglmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKCQl1aW50MjU2IGMgPSBhICsgYjsKCQlhc3NlcnQoYyA+PSBhKTsKCQlyZXR1cm4gYzsKCX0KICAKfQoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKCXVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoJZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKCWZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwoJZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CglmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKCWZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwoJZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwoJZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4gCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogICAgCgl1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCgltYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgoJLyoqCgkqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKCSogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KCSogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgoJKi8KCWZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewoJCWJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CgkJYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CgkJVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwoJCXJldHVybiB0cnVlOwoJfQoKCS8qKgoJKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgoJKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4gCgkqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCgkqLwoJZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKCQlyZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKCX0KCn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKCW1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCgkvKioKCSogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCgkqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KCSogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCgkqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKCSovCglmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CgkgIAoJCXZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgoJCS8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldAoJCS8vIHJlcXVpcmUgKF92YWx1ZSA8PSBfYWxsb3dhbmNlKTsKCgkJYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CgkJYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwoJCWFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKCQlUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwoJCXJldHVybiB0cnVlOwoJfQoKCS8qKgoJKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgoJKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCgkqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCgkqLwoJZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewoKCQkvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAoJCS8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CgkJLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CgkJLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CgkJcmVxdWlyZSgoX3ZhbHVlID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CgoJCWFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwoJCUFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwoJCXJldHVybiB0cnVlOwoJfQoKCS8qKgoJKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCgkqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KCSogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCgkqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgoJKi8KCWZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKCQlyZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKCX0KCn0KCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICAgIAoJYWRkcmVzcyBwdWJsaWMgb3duZXI7CglhZGRyZXNzIHB1YmxpYyBvd25lckNhbmRpZGF0OwoKCS8qKgoJKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKCSogYWNjb3VudC4KCSovCglmdW5jdGlvbiBPd25hYmxlKCkgewoJCW93bmVyID0gbXNnLnNlbmRlcjsKCQkKCX0KCgkvKioKCSogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgoJKi8KCW1vZGlmaWVyIG9ubHlPd25lcigpIHsKCQlyZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoJCV87Cgl9CgoJLyoqCgkqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCgkqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCgkqLwoJZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKCQlyZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOyAgICAgIAoJCW93bmVyQ2FuZGlkYXQgPSBuZXdPd25lcjsKCX0KCS8qKgoJKiBAZGV2IEFsbG93cyBzYWZlIGNoYW5nZSBjdXJyZW50IG93bmVyIHRvIGEgbmV3T3duZXIuCgkqLwoJZnVuY3Rpb24gY29uZmlybU93bmVyc2hpcCgpICB7CgkJcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyQ2FuZGlkYXQpOyAgICAgIAoJCW93bmVyID0gbXNnLnNlbmRlcjsKCX0KCn0KCi8qKgogKiBAdGl0bGUgQnVybmFibGUgVG9rZW4KICogQGRldiBUb2tlbiB0aGF0IGNhbiBiZSBpcnJldmVyc2libHkgYnVybmVkIChkZXN0cm95ZWQpLgogKi8KY29udHJhY3QgQnVybmFibGVUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKIAoJLyoqCgkqIEBkZXYgQnVybnMgYSBzcGVjaWZpYyBhbW91bnQgb2YgdG9rZW5zLgoJKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgYnVybmVkLgoJKi8KCWZ1bmN0aW9uIGJ1cm4odWludDI1NiBfdmFsdWUpIHB1YmxpYyBvbmx5T3duZXIgewoJCXJlcXVpcmUoX3ZhbHVlID4gMCk7CgoJCWFkZHJlc3MgYnVybmVyID0gbXNnLnNlbmRlcjsgICAgCgkJCQkJCQkJCQkKCgkJYmFsYW5jZXNbYnVybmVyXSA9IGJhbGFuY2VzW2J1cm5lcl0uc3ViKF92YWx1ZSk7CgkJdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5zdWIoX3ZhbHVlKTsKCQlCdXJuKGJ1cm5lciwgX3ZhbHVlKTsKCX0KCglldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBidXJuZXIsIHVpbnQgaW5kZXhlZCB2YWx1ZSk7CiAKfQogCmNvbnRyYWN0IE1ldHRhQ29pbiBpcyBCdXJuYWJsZVRva2VuIHsKIAoJc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIlRPS0VOIE1FVFRBIjsgICAKCXN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIk1FVFRBIjsgICAKCXVpbnQzMiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsgICAgCgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBpbml0aWFsU3VwcGx5ID0gMzAwMDAwMDAwICogMSBldGhlcjsKCglmdW5jdGlvbiBNZXR0YUNvaW4oKSB7CgkJdG90YWxTdXBwbHkgPSBpbml0aWFsU3VwcGx5OwoJCWJhbGFuY2VzW21zZy5zZW5kZXJdID0gaW5pdGlhbFN1cHBseTsKCX0gICAgCiAgCn0KCgpjb250cmFjdCBNZXR0YUNyb3dkc2FsZSBpcyBPd25hYmxlIHsKICAgIAogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgkvLwogICAgTWV0dGFDb2luIHB1YmxpYyB0b2tlbiA9IG5ldyBNZXR0YUNvaW4oKTsKCS8vCiAgICB1aW50IHB1YmxpYyBzdGFydDsgICAgCiAgICAvLwoJdWludCBwdWJsaWMgcGVyaW9kOwoJLy8KICAgIHVpbnQgcHVibGljIHJhdGU7CgkvLyAgCiAgICB1aW50IHB1YmxpYyBzb2Z0Y2FwOwogICAgLy8KICAgIHVpbnQgcHVibGljIGF2YWlsYWJsZVRva2Vuc2ZvclByZUlDTzsKICAgIC8vCiAgICB1aW50IHB1YmxpYyBjb3VudE9mU2FsZVRva2VuczsKICAgIC8vICAgIAogICAgdWludCBwdWJsaWMgY3VycmVudFByZUlDT2JhbGFuY2U7CiAgICAvLwogICAgdWludCBwdWJsaWMgcmVmZXJlclBlcmNlbnQ7CiAgICAvLwoJbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBiYWxhbmNlczsKICAgIAogICAgLy8gcHJlSUNPIG1hbmFnZXIgZGF0YS8vLy8vLy8vLy8vLy8vCiAgICAgYWRkcmVzcyBwdWJsaWMgbWFuYWdlckVUSGFkZHJlc3M7CiAgICAgYWRkcmVzcyBwdWJsaWMgbWFuYWdlckVUSGNhbmRpZGF0QWRkcmVzczsKICAgICB1aW50IHB1YmxpYyBtYW5hZ2VyRVRIYm9udXM7CiAgICAKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAKICAgIGZ1bmN0aW9uIE1ldHRhQ3Jvd2RzYWxlKCkgewogICAgIAoJCS8vIDEgTUVUVEFDT0lOID0gMC4wMDAyNyBFVEgKCQlyYXRlID0gMjcwMDAwMDAwMDAwMDAwOyAKCQkvL01vbiwgMjAgTm92IDIwMTcgMDA6MDA6MDAgR01UCgkJc3RhcnQgPSAxNTExMTM2MDAwOwoJCS8vIHByZUlDTyBwZXJpb2QgaXMgMjAgb2Ygbm92ZW1iZXIgLSAxOSBvZiBkZWNlbWJlciAoaW5jbHVkZSAxOSkKCQlwZXJpb2QgPSAzMDsgLy8gIAoJCS8vIG1pbmltdW0gYXR0cmFjdGVkIEVUSCBkdXJpbmcgcHJlSUNPIC0gNDA5CgkJc29mdGNhcCA9IDQwOSAqIDEgZXRoZXI7CgkJLy8gbWF4aW11bSBudW1iZXIgbWV0dGFjb2lucyBmb3IgcHJlSUNPCgkJYXZhaWxhYmxlVG9rZW5zZm9yUHJlSUNPID0gODg5NTUzOSAqIDEgZXRoZXI7CgkJLy8gY3VycmVudCBFVEggYmFsYW5jZSBvZiBwcmVJQ08KCQljdXJyZW50UHJlSUNPYmFsYW5jZSA9IDA7IAoJCS8vIGhvdyBtdWNoIG1ldHRhY29pbnMgYXJlIHNvbGQKCQljb3VudE9mU2FsZVRva2VucyA9IDA7IAoJCS8vcGVyY2VudCBmb3IgcmVmZXJlciBib251cyBwcm9ncmFtCgkJcmVmZXJlclBlcmNlbnQgPSAxNTsKCQkKCQkvL2RhdGEgb2YgbWFuYWdlciBvZiBjb21wYW55CgkJbWFuYWdlckVUSGFkZHJlc3MgPSAweDA7ICAgCgkJbWFuYWdlckVUSGJvbnVzID0gMjcgKiAxIGV0aGVyOyAgCgogICAgfQogICAgLyoqCgkgKiBAZGV2IEluaXRpYWxseSBzYWZlIHNldHMgcHJlSUNPIG1hbmFnZXIgYWRkcmVzcwoJICovCiAgICBmdW5jdGlvbiBzZXRQcmVJY29NYW5hZ2VyKGFkZHJlc3MgX2FkZHIpIHB1YmxpYyBvbmx5T3duZXIgeyAgIAogICAgICAgIHJlcXVpcmUobWFuYWdlckVUSGFkZHJlc3MgPT0gMHgwKSA7Ly9vbmx5IG9uY2UKCQkJbWFuYWdlckVUSGNhbmRpZGF0QWRkcmVzcyA9IF9hZGRyOwogICAgICAgIAogICAgfQoJLyoqCgkgKiBAZGV2IEFsbG93cyBzYWZlIGNvbmZpcm0gb2YgbWFuYWdlciBhZGRyZXNzCgkgKi8KICAgIGZ1bmN0aW9uIGNvbmZpcm1NYW5hZ2VyKCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gbWFuYWdlckVUSGNhbmRpZGF0QWRkcmVzcyk7IAoJCQltYW5hZ2VyRVRIYWRkcmVzcyA9IG1hbmFnZXJFVEhjYW5kaWRhdEFkZHJlc3M7CiAgICB9CiAgICAKICAgIAkvKioKCSAqIEBkZXYgQWxsb3dzIHNhZmUgY2hhbmdpbmcgb2YgbWFuYWdlciBhZGRyZXNzCgkgKi8KICAgIGZ1bmN0aW9uIGNoYW5nZU1hbmFnZXIoYWRkcmVzcyBfYWRkcikgcHVibGljIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gbWFuYWdlckVUSGFkZHJlc3MpOyAKCQkJbWFuYWdlckVUSGNhbmRpZGF0QWRkcmVzcyA9IF9hZGRyOwogICAgfQoJLyoqCgkgKiBAZGV2IEluZGljYXRlcyB0aGF0IHByZUlDTyBzdGFydHMgYW5kIG5vdCBmaW5pc2hlcwoJICovCiAgICBtb2RpZmllciBzYWxlSXNPbigpIHsKCQlyZXF1aXJlKG5vdyA+IHN0YXJ0ICYmIG5vdyA8IHN0YXJ0ICsgcGVyaW9kICogMSBkYXlzKTsKCQlfOwogICAgfQoJCgkvKioKCSAqIEBkZXYgSW5kaWNhdGVzIHRoYXQgd2UgaGF2ZSBhdmFpbGFibGUgdG9rZW5zIGZvciBzYWxlCgkgKi8KICAgIG1vZGlmaWVyIGlzc2V0VG9rZW5zRm9yU2FsZSgpIHsKCQlyZXF1aXJlKGNvdW50T2ZTYWxlVG9rZW5zIDwgYXZhaWxhYmxlVG9rZW5zZm9yUHJlSUNPKTsgCgkJXzsKICAgIH0KICAKCS8qKgoJICogQGRldiBUb2tlbnMgYW5zIG93bmVyc2hpcCB3aWxsIGJlIHRyYW5zZmVyZWQgZnJvbSBwcmVJQ08gY29udHJhY3QgdG8gSUNPIGNvbnRyYWN0IGFmdGVyIHByZUlDTyBwZXJpb2QuCgkgKi8KICAgIGZ1bmN0aW9uIFRyYW5zZmVyVG9rZW5Ub0ljb0NvbnRyYWN0KGFkZHJlc3MgSUNPY29udHJhY3QpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIAoJCXJlcXVpcmUobm93ID4gc3RhcnQgKyBwZXJpb2QgKiAxIGRheXMgJiYgdG9rZW4ub3duZXIoKT09SUNPY29udHJhY3QpOwoJCXRva2VuLnRyYW5zZmVyKElDT2NvbnRyYWN0LCB0b2tlbi5iYWxhbmNlT2YodGhpcykpOwogICAgfQogICAgCiAgICAvKioKICAgICogQGRldiBUcmFuc2ZlciBvd25lcnNob3AgdG8gSUNPIGNvbnRyYWN0IGFmdGVyIHByZSBJQ08KICAgICovCiAgICBmdW5jdGlvbiBUcmFuc2ZlclRva2VuT3duZXJzaGlwKGFkZHJlc3MgSUNPY29udHJhY3QpIG9ubHlPd25lcnsKICAgICAgICByZXF1aXJlKG5vdyA+IHN0YXJ0ICsgcGVyaW9kICogMSBkYXlzKTsKCQl0b2tlbi50cmFuc2Zlck93bmVyc2hpcChJQ09jb250cmFjdCk7CiAgICB9CiAgICAKCS8qKgoJICogQGRldiBJbnZlc3RtZW50cyB3aWxsIGJlIHJlZnVuZGVkIGlmIHByZUlDTyBub3QgaGl0cyB0aGUgc29mdGNhcC4KCSAqLwogICAgZnVuY3Rpb24gcmVmdW5kKCkgcHVibGljIHsKCQlyZXF1aXJlKGN1cnJlbnRQcmVJQ09iYWxhbmNlIDwgc29mdGNhcCAmJiBub3cgPiBzdGFydCArIHBlcmlvZCAqIDEgZGF5cyk7CgkJbXNnLnNlbmRlci50cmFuc2ZlcihiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CgkJYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAwOwogICAgfQoJLyoqCgkgKiBAZGV2IE1hbmFnZXIgY2FuIGdldCBoaXMvc2hlcyBib251cyBhZnRlciBwcmVJQ08gcmVhY2hlcyBpdCdzIHNvZnRjYXAKCSAqLwogICAgZnVuY3Rpb24gd2l0aGRyYXdNYW5hZ2VyQm9udXMoKSBwdWJsaWMgeyAgICAKICAgICAgICBpZihjdXJyZW50UHJlSUNPYmFsYW5jZSA+IHNvZnRjYXAgJiYgbWFuYWdlckVUSGJvbnVzID4gMCAmJiBtYW5hZ2VyRVRIYWRkcmVzcyE9MHgwKXsKICAgICAgICAgICAgbWFuYWdlckVUSGFkZHJlc3MudHJhbnNmZXIobWFuYWdlckVUSGJvbnVzKTsKICAgICAgICAgICAgbWFuYWdlckVUSGJvbnVzID0gMDsKICAgICAgICB9CiAgICB9CgkvKioKCSAqIEBkZXYgSWYgSUNPIHJlYWNoZWQgb3duZXIgY2FuIHdpdGhkcm93IEVUSCBmb3IgSUNPIGNvbXBpbmcgbWFuYWdtZW50CgkgKi8KICAgIGZ1bmN0aW9uIHdpdGhkcmF3UHJlSWNvRm91bmRzKCkgcHVibGljIG9ubHlPd25lciB7ICAKCQlpZihjdXJyZW50UHJlSUNPYmFsYW5jZSA+IHNvZnRjYXApIHsKCQkJLy8gc2VuZCBhbGwgY3VycmVudCBFVEggZnJvbSBjb250cmFjdCB0byBvd25lcgoJCQl1aW50IGF2YWlsYWJsZVRvVHJhbnNlciA9IHRoaXMuYmFsYW5jZS1tYW5hZ2VyRVRIYm9udXM7CgkJCW93bmVyLnRyYW5zZmVyKGF2YWlsYWJsZVRvVHJhbnNlcik7CgkJfQogICAgfQoJLyoqCgkgKiBAZGV2IGNvbnZlcnQgYnl0ZXMgdG8gYWRkcmVzcwoJICovCiAgICBmdW5jdGlvbiBieXRlc1RvQWRkcmVzcyhieXRlcyBzb3VyY2UpIGludGVybmFsIHJldHVybnMoYWRkcmVzcykgewogICAgICAgIHVpbnQgcmVzdWx0OwogICAgICAgIHVpbnQgbXVsID0gMTsKICAgICAgICBmb3IodWludCBpID0gMjA7IGkgPiAwOyBpLS0pIHsKICAgICAgICAgIHJlc3VsdCArPSB1aW50OChzb3VyY2VbaS0xXSkqbXVsOwogICAgICAgICAgbXVsID0gbXVsKjI1NjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFkZHJlc3MocmVzdWx0KTsKICAgIH0KICAgZnVuY3Rpb24gYnV5VG9rZW5zKCkgaXNzZXRUb2tlbnNGb3JTYWxlIHNhbGVJc09uIHBheWFibGUgeyAgIAogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IHJhdGUpOy8vIG1pbmltdW0gMCwwMDAyMiBldGggZm9yIGludmVzdG1lbnQKICAgICAgICAgdWludCB0b2tlbnMgPSBtc2cudmFsdWUubXVsKDEgZXRoZXIpLmRpdihyYXRlKTsKICAgICAgICAgICAgIGFkZHJlc3MgcmVmZXJlciA9IDB4MDsKICAgICAgICAgICAgLy8tLS0tLS0tLS0tLS0tQk9OVVNFUy0tLS0tLS0tLS0tLS0vLwogICAgICAgICAgICAgdWludCBib251c1Rva2VucyA9IDA7CiAgICAgICAgICAgIGlmKG5vdyA8IHN0YXJ0LmFkZCg3KiAxIGRheXMpKSB7Ly8gMXN0IHdlZWsKICAgIAkJCWJvbnVzVG9rZW5zID0gdG9rZW5zLm11bCg0NSkuZGl2KDEwMCk7IC8vKzQ1JQogICAgICAgICAgICB9IGVsc2UgaWYobm93ID49IHN0YXJ0LmFkZCg3ICogMSBkYXlzKSAmJiBub3cgPCBzdGFydC5hZGQoMTQgKiAxIGRheXMpKSB7IC8vIDJuZCB3ZWVrCiAgICAJCQlib251c1Rva2VucyA9IHRva2Vucy5tdWwoNDApLmRpdigxMDApOyAvLys0MCUKICAgICAgICAgICAgfSBlbHNlIGlmKG5vdyA+PSBzdGFydC5hZGQoMTQqIDEgZGF5cykgJiYgbm93IDwgc3RhcnQuYWRkKDIxICogMSBkYXlzKSkgeyAvLyAzdGggd2VlawogICAgCQkJYm9udXNUb2tlbnMgPSB0b2tlbnMubXVsKDM1KS5kaXYoMTAwKTsgLy8rMzUlCiAgICAgICAgICAgIH0gZWxzZSBpZihub3cgPj0gc3RhcnQuYWRkKDIxKiAxIGRheXMpICYmIG5vdyA8IHN0YXJ0LmFkZCgyOCAqIDEgZGF5cykpIHsgLy8gNHRoIHdlZWsKICAgIAkJCWJvbnVzVG9rZW5zID0gdG9rZW5zLm11bCgzMCkuZGl2KDEwMCk7IC8vKzMwJSAKICAgICAgICAgICAgfSAKICAgICAgICAgICAgdG9rZW5zID0gdG9rZW5zLmFkZChib251c1Rva2Vucyk7CiAgICAgICAgICAgIC8vLS0tLS0tLS0tRU5ELUJPTlVTRVMtLS0tLS0tLS0tLS0tLy8KICAgIAkJCiAgICAJCS8vLS0tLS0tLS0tcmVmZXJhbCBwcm9ncmFtLS0tLS0tLS0tIC8vYWJhaWxhYmxlIGFmdGVyIDN0aCB3ZWVrIG9ubHkKICAgIAkJaWYobm93ID49IHN0YXJ0LmFkZCgxNCogMSBkYXlzKSAmJiBub3cgPCBzdGFydC5hZGQoMjggKiAxIGRheXMpKSB7CiAgICAgICAgICAgICAgICBpZihtc2cuZGF0YS5sZW5ndGggPT0gMjApIHsKICAgICAgICAgICAgICAgICAgcmVmZXJlciA9IGJ5dGVzVG9BZGRyZXNzKGJ5dGVzKG1zZy5kYXRhKSk7CiAgICAgICAgICAgICAgICAgIHJlcXVpcmUocmVmZXJlciAhPSBtc2cuc2VuZGVyKTsKICAgICAgICAgICAgICAgICAgdWludCByZWZlcmVyVG9rZW5zID0gdG9rZW5zLm11bChyZWZlcmVyUGVyY2VudCkuZGl2KDEwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAJCX0KICAgIAkJLy8tLS0tLS0tLS1lbmQgcmVmZXJhbCBwcm9ncmFtLS0tLS0tLS0tLy8KICAgIAkJCiAgICAJCWlmKGF2YWlsYWJsZVRva2Vuc2ZvclByZUlDTyA+IGNvdW50T2ZTYWxlVG9rZW5zLmFkZCh0b2tlbnMpKSB7ICAKICAgIAkJCXRva2VuLnRyYW5zZmVyKG1zZy5zZW5kZXIsIHRva2Vucyk7CiAgICAJCQljdXJyZW50UHJlSUNPYmFsYW5jZSA9IGN1cnJlbnRQcmVJQ09iYWxhbmNlLmFkZChtc2cudmFsdWUpOyAKICAgIAkJCWNvdW50T2ZTYWxlVG9rZW5zID0gY291bnRPZlNhbGVUb2tlbnMuYWRkKHRva2Vucyk7IAogICAgCQkJYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQobXNnLnZhbHVlKTsKICAgIAkJCWlmKGF2YWlsYWJsZVRva2Vuc2ZvclByZUlDTyA+IGNvdW50T2ZTYWxlVG9rZW5zLmFkZCh0b2tlbnMpLmFkZChyZWZlcmVyVG9rZW5zKSl7CiAgICAJCQkgICAgIC8vIHNlbmQgdG9rZW4gdG8gcmVmZXJyZXIKICAgIAkJCSAgICAgaWYocmVmZXJlciAhPTB4MCAmJiByZWZlcmVyVG9rZW5zID4wKXsKICAgIAkJCSAgICAgICAgdG9rZW4udHJhbnNmZXIocmVmZXJlciwgcmVmZXJlclRva2Vucyk7CiAgICAJCQkgICAgICAgIAljb3VudE9mU2FsZVRva2VucyA9IGNvdW50T2ZTYWxlVG9rZW5zLmFkZChyZWZlcmVyVG9rZW5zKTsgCiAgICAJCQkgICAgIH0KICAgIAkJCX0KICAgIAkJfSBlbHNlIHsKICAgIAkJCS8vIGNoYW5nZXMgdG8gYnV5ZXIKICAgIAogICAgCSAgICAJdWludCBhdmFpbGFiZVRva2Vuc1RvU2FsZSA9IGF2YWlsYWJsZVRva2Vuc2ZvclByZUlDTy5zdWIoY291bnRPZlNhbGVUb2tlbnMpOwogICAgCQkJY291bnRPZlNhbGVUb2tlbnMgPSBjb3VudE9mU2FsZVRva2Vucy5hZGQoYXZhaWxhYmVUb2tlbnNUb1NhbGUpOyAKICAgIAkJCXRva2VuLnRyYW5zZmVyKG1zZy5zZW5kZXIsIGF2YWlsYWJlVG9rZW5zVG9TYWxlKTsKICAgIAkJCQogICAgCQkJdWludCBjaGFuZ2VzID0gbXNnLnZhbHVlLnN1YihhdmFpbGFiZVRva2Vuc1RvU2FsZS5tdWwocmF0ZSkuZGl2KDEgZXRoZXIpKTsKICAgIAkJCWJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKG1zZy52YWx1ZS5zdWIoY2hhbmdlcykpOwogICAgCQkJY3VycmVudFByZUlDT2JhbGFuY2UgPSBjdXJyZW50UHJlSUNPYmFsYW5jZS5hZGQobXNnLnZhbHVlLnN1YihjaGFuZ2VzKSk7CiAgICAJCQltc2cuc2VuZGVyLnRyYW5zZmVyKGNoYW5nZXMpOwogICAgCQl9CiAgICB9CgogICAgZnVuY3Rpb24oKSBleHRlcm5hbCBwYXlhYmxlIHsKCQlidXlUb2tlbnMoKTsgIAogICAgfQogICAgICAKfQ=='.
	

]
