Class {
	#name : #SRT9022a78192061d3d1048f10016050a3dc7339283,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9022a78192061d3d1048f10016050a3dc7339283 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7CgovLyBTYWZlTWF0aCBpcyBhIHBhcnQgb2YgWmVwcGVsaW4gU29saWRpdHkgbGlicmFyeQovLyBsaWNlbnNlZCB1bmRlciBNSVQgTGljZW5zZQovLyBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UKCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBpZiAoYSA9PSAwKSB7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgICAgICB1aW50MjU2IGMgPSBhICogYjsKICAgICAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9Cn0KCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkKCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4KICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogICAgdWludDI1NiB0b3RhbFN1cHBseV87CgogICAgLyoqCiAgICAqIEBkZXYgUHJvdGVjdGlvbiBmcm9tIHNob3J0IGFkZHJlc3MgYXR0YWNrCiAgICAqLwogICAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgc2l6ZSkgewogICAgICAgIGFzc2VydChtc2cuZGF0YS5sZW5ndGggPT0gc2l6ZSArIDQpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgdG90YWwgbnVtYmVyIG9mIHRva2VucyBpbiBleGlzdGVuY2UKICAgICovCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gdG90YWxTdXBwbHlfOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgyICogMzIpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwoKICAgICAgICAvLyBTYWZlTWF0aC5zdWIgd2lsbCB0aHJvdyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJhbGFuY2UuCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBlbWl0IFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKCiAgICAgICAgX3Bvc3RUcmFuc2Zlckhvb2sobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgICAqLwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBIb29rIGZvciBjdXN0b20gYWN0aW9ucyB0byBiZSBleGVjdXRlZCBhZnRlciB0cmFuc2ZlciBoYXMgY29tcGxldGVkCiAgICAqIEBwYXJhbSBfZnJvbSBUcmFuc2ZlcnJlZCBmcm9tCiAgICAqIEBwYXJhbSBfdG8gVHJhbnNmZXJyZWQgdG8KICAgICogQHBhcmFtIF92YWx1ZSBWYWx1ZSB0cmFuc2ZlcnJlZAogICAgKi8KICAgIGZ1bmN0aW9uIF9wb3N0VHJhbnNmZXJIb29rKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWw7Cn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgaW50ZXJuYWwgYWxsb3dlZDsKCgogICAgLyoqCiAgICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbX2Zyb21dKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CgogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIGVtaXQgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKCiAgICAgICAgX3Bvc3RUcmFuc2Zlckhvb2soX2Zyb20sIF90bywgX3ZhbHVlKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEFwcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KICAgICAqCiAgICAgKiBCZXdhcmUgdGhhdCBjaGFuZ2luZyBhbiBhbGxvd2FuY2Ugd2l0aCB0aGlzIG1ldGhvZCBicmluZ3MgdGhlIHJpc2sgdGhhdCBzb21lb25lIG1heSB1c2UgYm90aCB0aGUgb2xkCiAgICAgKiBhbmQgdGhlIG5ldyBhbGxvd2FuY2UgYnkgdW5mb3J0dW5hdGUgdHJhbnNhY3Rpb24gb3JkZXJpbmcuIE9uZSBwb3NzaWJsZSBzb2x1dGlvbiB0byBtaXRpZ2F0ZSB0aGlzCiAgICAgKiByYWNlIGNvbmRpdGlvbiBpcyB0byBmaXJzdCByZWR1Y2UgdGhlIHNwZW5kZXIncyBhbGxvd2FuY2UgdG8gMCBhbmQgc2V0IHRoZSBkZXNpcmVkIHZhbHVlIGFmdGVyd2FyZHM6CiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBlbWl0IEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBJbmNyZWFzZSB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAgICoKICAgICAqIGFwcHJvdmUgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFsbG93ZWRbX3NwZW5kZXJdID09IDAuIFRvIGluY3JlbWVudAogICAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgICAqIEZyb20gTW9ub2xpdGhEQU8gVG9rZW4uc29sCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAgKiBAcGFyYW0gX2FkZGVkVmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gaW5jcmVhc2UgdGhlIGFsbG93YW5jZSBieS4KICAgICAqLwogICAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgICAgICBlbWl0IEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IERlY3JlYXNlIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICAgKgogICAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gZGVjcmVtZW50CiAgICAgKiBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbAogICAgICogdGhlIGZpcnN0IHRyYW5zYWN0aW9uIGlzIG1pbmVkKQogICAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAqIEBwYXJhbSBfc3VidHJhY3RlZFZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGRlY3JlYXNlIHRoZSBhbGxvd2FuY2UgYnkuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgICAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgICAgICB9CiAgICAgICAgZW1pdCBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKfQoKY29udHJhY3QgT3duZWQgewogICAgYWRkcmVzcyBvd25lcjsKCiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLy8gQGRldiBDb250cmFjdCBjb25zdHJ1Y3RvcgogICAgZnVuY3Rpb24gT3duZWQoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KfQoKCmNvbnRyYWN0IEFjY2VwdHNUb2tlbnMgewogICAgRVRUb2tlbiBwdWJsaWMgdG9rZW5Db250cmFjdDsKCiAgICBmdW5jdGlvbiBBY2NlcHRzVG9rZW5zKGFkZHJlc3MgX3Rva2VuQ29udHJhY3QpIHB1YmxpYyB7CiAgICAgICAgdG9rZW5Db250cmFjdCA9IEVUVG9rZW4oX3Rva2VuQ29udHJhY3QpOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlUb2tlbkNvbnRyYWN0IHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gYWRkcmVzcyh0b2tlbkNvbnRyYWN0KSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBhY2NlcHRUb2tlbnMoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIHVpbnQyNTYgcGFyYW0xLCB1aW50MjU2IHBhcmFtMiwgdWludDI1NiBwYXJhbTMpIGV4dGVybmFsOwp9Cgpjb250cmFjdCBFVFRva2VuIGlzIE93bmVkLCBTdGFuZGFyZFRva2VuIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJFVEguVE9XTiBUb2tlbiI7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJFVElUIjsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDE4OwoKICAgIGFkZHJlc3MgcHVibGljIGJlbmVmaWNpYXJ5OwogICAgYWRkcmVzcyBwdWJsaWMgb3JhY2xlOwogICAgYWRkcmVzcyBwdWJsaWMgaGVyb0NvbnRyYWN0OwogICAgbW9kaWZpZXIgb25seU9yYWNsZSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG9yYWNsZSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtYXBwaW5nICh1aW50MzIgPT4gYWRkcmVzcykgcHVibGljIGZsb29yQ29udHJhY3RzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgY2FuQWNjZXB0VG9rZW5zOwoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGlzTWludGVyOwoKICAgIG1vZGlmaWVyIG9ubHlNaW50ZXJzIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgaXNNaW50ZXJbbXNnLnNlbmRlcl0pOwogICAgICAgIF87CiAgICB9CgogICAgZXZlbnQgRGl2aWRlbmQodWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBXaXRoZHJhd2FsKGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50MjU2IHZhbHVlKTsKCiAgICBmdW5jdGlvbiBFVFRva2VuKCkgcHVibGljIHsKICAgICAgICBvcmFjbGUgPSBvd25lcjsKICAgICAgICBiZW5lZmljaWFyeSA9IG93bmVyOwoKICAgICAgICB0b3RhbFN1cHBseV8gPSAwOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldE9yYWNsZShhZGRyZXNzIF9vcmFjbGUpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgb3JhY2xlID0gX29yYWNsZTsKICAgIH0KICAgIGZ1bmN0aW9uIHNldEJlbmVmaWNpYXJ5KGFkZHJlc3MgX2JlbmVmaWNpYXJ5KSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIGJlbmVmaWNpYXJ5ID0gX2JlbmVmaWNpYXJ5OwogICAgfQogICAgZnVuY3Rpb24gc2V0SGVyb0NvbnRyYWN0KGFkZHJlc3MgX2hlcm9Db250cmFjdCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICBoZXJvQ29udHJhY3QgPSBfaGVyb0NvbnRyYWN0OwogICAgfQoKICAgIGZ1bmN0aW9uIF9taW50VG9rZW5zKGFkZHJlc3MgX3VzZXIsIHVpbnQyNTYgX2Ftb3VudCkgcHJpdmF0ZSB7CiAgICAgICAgcmVxdWlyZShfdXNlciAhPSAweDApOwoKICAgICAgICBiYWxhbmNlc1tfdXNlcl0gPSBiYWxhbmNlc1tfdXNlcl0uYWRkKF9hbW91bnQpOwogICAgICAgIHRvdGFsU3VwcGx5XyA9IHRvdGFsU3VwcGx5Xy5hZGQoX2Ftb3VudCk7CgogICAgICAgIGVtaXQgVHJhbnNmZXIoYWRkcmVzcyh0aGlzKSwgX3VzZXIsIF9hbW91bnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGF1dGhvcml6ZUZsb29yKHVpbnQzMiBfaW5kZXgsIGFkZHJlc3MgX2Zsb29yQ29udHJhY3QpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgZmxvb3JDb250cmFjdHNbX2luZGV4XSA9IF9mbG9vckNvbnRyYWN0OwogICAgfQoKICAgIGZ1bmN0aW9uIF9hY2NlcHREaXZpZGVuZHModWludDI1NiBfdmFsdWUpIGludGVybmFsIHsKICAgICAgICB1aW50MjU2IGJlbmVmaWNpYXJ5U2hhcmUgPSBfdmFsdWUgLyA1OwogICAgICAgIHVpbnQyNTYgcG9vbFNoYXJlID0gX3ZhbHVlLnN1YihiZW5lZmljaWFyeVNoYXJlKTsKCiAgICAgICAgYmVuZWZpY2lhcnkudHJhbnNmZXIoYmVuZWZpY2lhcnlTaGFyZSk7CgogICAgICAgIGVtaXQgRGl2aWRlbmQocG9vbFNoYXJlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhY2NlcHREaXZpZGVuZHModWludDI1NiBfdmFsdWUsIHVpbnQzMiBfZmxvb3JJbmRleCkgZXh0ZXJuYWwgewogICAgICAgIHJlcXVpcmUoZmxvb3JDb250cmFjdHNbX2Zsb29ySW5kZXhdID09IG1zZy5zZW5kZXIpOwoKICAgICAgICBfYWNjZXB0RGl2aWRlbmRzKF92YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gcmV3YXJkVG9rZW5zRmxvb3IoYWRkcmVzcyBfdXNlciwgdWludDI1NiBfdG9rZW5zLCB1aW50MzIgX2Zsb29ySW5kZXgpIGV4dGVybmFsIHsKICAgICAgICByZXF1aXJlKGZsb29yQ29udHJhY3RzW19mbG9vckluZGV4XSA9PSBtc2cuc2VuZGVyKTsKCiAgICAgICAgX21pbnRUb2tlbnMoX3VzZXIsIF90b2tlbnMpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJld2FyZFRva2VucyhhZGRyZXNzIF91c2VyLCB1aW50MjU2IF90b2tlbnMpIGV4dGVybmFsIG9ubHlNaW50ZXJzIHsKICAgICAgICBfbWludFRva2VucyhfdXNlciwgX3Rva2Vucyk7CiAgICB9CgogICAgZnVuY3Rpb24oKSBwYXlhYmxlIHB1YmxpYyB7CiAgICAgICAgLy8gSW50ZW50aW9uYWxseSBsZWZ0IGVtcHR5LCBmb3IgdXNlIGJ5IGZsb29ycwogICAgfQoKICAgIGZ1bmN0aW9uIHBheW91dERpdmlkZW5kcyhhZGRyZXNzIF91c2VyLCB1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwgb25seU9yYWNsZSB7CiAgICAgICAgX3VzZXIudHJhbnNmZXIoX3ZhbHVlKTsKCiAgICAgICAgZW1pdCBXaXRoZHJhd2FsKF91c2VyLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGFjY291bnRBdXRoKHVpbnQyNTYgLypfY2hhbGxlbmdlKi8pIGV4dGVybmFsIHsKICAgICAgICAvLyBEb2VzIG5vdGhpbmcgYnkgZGVzaWduCiAgICB9CgogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF9hbW91bnQpIGV4dGVybmFsIHsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF9hbW91bnQpOwoKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KTsKICAgICAgICB0b3RhbFN1cHBseV8gPSB0b3RhbFN1cHBseV8uc3ViKF9hbW91bnQpOwoKICAgICAgICBlbWl0IEJ1cm4obXNnLnNlbmRlciwgX2Ftb3VudCk7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0Q2FuQWNjZXB0VG9rZW5zKGFkZHJlc3MgX2FkZHJlc3MsIGJvb2wgX3ZhbHVlKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIGNhbkFjY2VwdFRva2Vuc1tfYWRkcmVzc10gPSBfdmFsdWU7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0SXNNaW50ZXIoYWRkcmVzcyBfYWRkcmVzcywgYm9vbCBfdmFsdWUpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgaXNNaW50ZXJbX2FkZHJlc3NdID0gX3ZhbHVlOwogICAgfQoKICAgIGZ1bmN0aW9uIF9pbnZva2VUb2tlblJlY2lwaWVudChhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIHVpbnQyNTYgX3BhcmFtMSwgdWludDI1NiBfcGFyYW0yLCB1aW50MjU2IF9wYXJhbTMpIGludGVybmFsIHsKICAgICAgICBpZiAoIWNhbkFjY2VwdFRva2Vuc1tfdG9dKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIEFjY2VwdHNUb2tlbnMgcmVjaXBpZW50ID0gQWNjZXB0c1Rva2VucyhfdG8pOwoKICAgICAgICByZWNpcGllbnQuYWNjZXB0VG9rZW5zKF9mcm9tLCBfdmFsdWUsIF9wYXJhbTEsIF9wYXJhbTIsIF9wYXJhbTMpOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzIGFuZCBmb3J3YXJkIHRoZSBwYXJhbWV0ZXJzIHRvIHRva2VuIHJlY2lwaWVudCBpZiBhbnkKICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICAgKiBAcGFyYW0gX3BhcmFtMSBQYXJhbWV0ZXIgMSBmb3IgdGhlIHRva2VuIHJlY2lwaWVudAogICAgKiBAcGFyYW0gX3BhcmFtMiBQYXJhbWV0ZXIgMiBmb3IgdGhlIHRva2VuIHJlY2lwaWVudAogICAgKiBAcGFyYW0gX3BhcmFtMyBQYXJhbWV0ZXIgMyBmb3IgdGhlIHRva2VuIHJlY2lwaWVudAogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyV2l0aFBhcmFtcyhhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIHVpbnQyNTYgX3BhcmFtMSwgdWludDI1NiBfcGFyYW0yLCB1aW50MjU2IF9wYXJhbTMpIG9ubHlQYXlsb2FkU2l6ZSg1ICogMzIpIGV4dGVybmFsIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CgogICAgICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGVtaXQgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwoKICAgICAgICBfaW52b2tlVG9rZW5SZWNpcGllbnQobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUsIF9wYXJhbTEsIF9wYXJhbTIsIF9wYXJhbTMpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBIb29rIGZvciBjdXN0b20gYWN0aW9ucyB0byBiZSBleGVjdXRlZCBhZnRlciB0cmFuc2ZlciBoYXMgY29tcGxldGVkCiAgICAqIEBwYXJhbSBfZnJvbSBUcmFuc2ZlcnJlZCBmcm9tCiAgICAqIEBwYXJhbSBfdG8gVHJhbnNmZXJyZWQgdG8KICAgICogQHBhcmFtIF92YWx1ZSBWYWx1ZSB0cmFuc2ZlcnJlZAogICAgKi8KICAgIGZ1bmN0aW9uIF9wb3N0VHJhbnNmZXJIb29rKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgewogICAgICAgIF9pbnZva2VUb2tlblJlY2lwaWVudChfZnJvbSwgX3RvLCBfdmFsdWUsIDAsIDAsIDApOwogICAgfQoKCn0KCgoKY29udHJhY3QgRmxvb3IgaXMgT3duZWQgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogICAgZW51bSBGbG9vclN0YXR1cyB7CiAgICAgICAgTm90WWV0LCAgICAgICAgIC8vIDAKICAgICAgICBBdWN0aW9uaW5nLCAgICAgLy8gMQogICAgICAgIFNvbGQgICAgICAgICAgICAvLyAyCiAgICB9CgogICAgRVRUb2tlbiBiYXNlQ29udHJhY3Q7CiAgICB1aW50MzIgcHVibGljIGZsb29ySWQ7CiAgICBGbG9vclN0YXR1cyBwdWJsaWMgc3RhdHVzID0gRmxvb3JTdGF0dXMuTm90WWV0OwogICAgYWRkcmVzcyBwdWJsaWMgd2lubmVyOwoKICAgIGV2ZW50IEJpZChhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBGbG9vcldvbihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBQYXlvdXQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKCiAgICBtb2RpZmllciBvbmx5T3JhY2xlIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gYmFzZUNvbnRyYWN0Lm9yYWNsZSgpKTsKICAgICAgICBfOwogICAgfQogICAgbW9kaWZpZXIgb25seU93bmVyT3JPcmFjbGUgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lciB8fCBtc2cuc2VuZGVyID09IGJhc2VDb250cmFjdC5vcmFjbGUoKSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBGbG9vcih1aW50MzIgX2Zsb29ySWQsIGFkZHJlc3MgX2Jhc2VDb250cmFjdCkgcHVibGljIHsKICAgICAgICBiYXNlQ29udHJhY3QgPSBFVFRva2VuKF9iYXNlQ29udHJhY3QpOwogICAgICAgIGZsb29ySWQgPSBfZmxvb3JJZDsKICAgIH0KCgogICAgZnVuY3Rpb24gX2lzQ29udHJhY3QoYWRkcmVzcyBfdXNlcikgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgdWludCBzaXplOwogICAgICAgIGFzc2VtYmx5IHsgc2l6ZSA6PSBleHRjb2Rlc2l6ZShfdXNlcikgfQogICAgICAgIHJldHVybiBzaXplID4gMDsKICAgIH0KCiAgICBmdW5jdGlvbiBfcHJvY2Vzc0RpdmlkZW5kcyh1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgewogICAgICAgIGlmIChfdmFsdWUgPiAwKSB7CiAgICAgICAgICAgIGFkZHJlc3MoYmFzZUNvbnRyYWN0KS50cmFuc2ZlcihfdmFsdWUpOwogICAgICAgICAgICBiYXNlQ29udHJhY3QuYWNjZXB0RGl2aWRlbmRzKF92YWx1ZSwgZmxvb3JJZCk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIF9wcm9jZXNzQ3JlZGl0KGFkZHJlc3MgX3VzZXIsIHVpbnQyNTYgX3ZhbHVlKSBpbnRlcm5hbCB7CiAgICAgICAgaWYgKF92YWx1ZSA+IDApIHsKICAgICAgICAgICAgX3VzZXIudHJhbnNmZXIoX3ZhbHVlKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gX3Jld2FyZFRva2VucyhhZGRyZXNzIF91c2VyLCB1aW50MjU2IF90b2tlbnMpIGludGVybmFsIHsKICAgICAgICBpZiAoX3Rva2VucyA+IDApIHsKICAgICAgICAgICAgYmFzZUNvbnRyYWN0LnJld2FyZFRva2Vuc0Zsb29yKF91c2VyLCBfdG9rZW5zLCBmbG9vcklkKTsKICAgICAgICB9CiAgICB9Cn0KCmNvbnRyYWN0IFN0YXJBdWN0aW9uIHsKICAgIGFkZHJlc3MgcHVibGljIGhpZ2hlc3RCaWRkZXI7CiAgICBib29sIHB1YmxpYyBlbmRlZDsKfQoKY29udHJhY3QgQ2hhcmFjdGVyU2FsZSB7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQzMltdKSBwdWJsaWMgY2hhcmFjdGVyczsKfQoKY29udHJhY3QgQ2F1bGRyb25zTWluaWdhbWVQcmVzYWxlIGlzIEZsb29yLCBBY2NlcHRzVG9rZW5zIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICAgIGJvb2wgcHVibGljIGVuYWJsZWQ7CgogICAgZW51bSBDYXVsZHJvblR5cGUgewogICAgICAgIE5vQ2F1bGRyb24sCiAgICAgICAgRXRoZXJDYXVsZHJvbiwKICAgICAgICBFdGl0Q2F1bGRyb24KICAgIH0KCiAgICBzdHJ1Y3QgQ2F1bGRyb24gewogICAgICAgIHVpbnQyNTYgdGltZXJEdXJhdGlvbjsKICAgICAgICBDYXVsZHJvblR5cGUgY2F1bGRyb25UeXBlOwoKICAgICAgICB1aW50MzIgY3VycmVudFJvdW5kOwogICAgICAgIHVpbnQyNTYgZXhwaXJhdGlvblRpbWVyOwoKICAgICAgICBtYXBwaW5nKHVpbnQzMiA9PiBhZGRyZXNzW10pIGNvbnRyaWJ1dG9yczsKICAgICAgICB1aW50MzIgY29udHJpYnV0b3JzQ291bnQ7CiAgICAgICAgbWFwcGluZyh1aW50MzIgPT4gbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpKSBjb250cmlidXRpb25zOwogICAgICAgIHVpbnQyNTYgdG90YWxDb250cmlidXRpb247CiAgICAgICAgYWRkcmVzcyB0b3BDb250cmlidXRvcjsKICAgIH0KCiAgICBtYXBwaW5nKHVpbnQ4ID0+IENhdWxkcm9uKSBwdWJsaWMgY2F1bGRyb25zOwoKICAgIHVpbnQgY29uc3RhbnQgbnVtU3RhckF1Y3Rpb25zID0gMTI7CiAgICBtYXBwaW5nKHVpbnQ4ID0+IFN0YXJBdWN0aW9uKSBwdWJsaWMgc3RhckF1Y3Rpb25zOyAvLyBhdWN0aW9uIDcgPSBob3JzZQoKICAgIGV2ZW50IENvbnRyaWJ1dGlvbihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludDI1NiB2YWx1ZSwgdWludDggY2F1bGRyb25JZCwgdWludDMyIHJvdW5kKTsKICAgIGV2ZW50IFdpbm5lcihhZGRyZXNzIHVzZXIsIHVpbnQyNTYgdmFsdWUsIHVpbnQ4IGNhdWxkcm9uSWQsIHVpbnQzMiByb3VuZCk7CgogICAgZnVuY3Rpb24gQ2F1bGRyb25zTWluaWdhbWVQcmVzYWxlKHVpbnQzMiBfZmxvb3JJZCwgYWRkcmVzcyBfYmFzZUNvbnRyYWN0KQogICAgICAgIEZsb29yKF9mbG9vcklkLCBfYmFzZUNvbnRyYWN0KQogICAgICAgIEFjY2VwdHNUb2tlbnMoX2Jhc2VDb250cmFjdCkKICAgICAgICBwdWJsaWMKICAgIHsKICAgICAgICBlbmFibGVkID0gdHJ1ZTsKCiAgICAgICAgY2F1bGRyb25zWzFdID0gQ2F1bGRyb24oewogICAgICAgICAgICB0aW1lckR1cmF0aW9uOiA1IG1pbnV0ZXMsCiAgICAgICAgICAgIGNhdWxkcm9uVHlwZTogQ2F1bGRyb25UeXBlLkV0aGVyQ2F1bGRyb24sCgogICAgICAgICAgICBjdXJyZW50Um91bmQ6IDEsCiAgICAgICAgICAgIGV4cGlyYXRpb25UaW1lcjogMCwKCiAgICAgICAgICAgIGNvbnRyaWJ1dG9yc0NvdW50OiAwLAogICAgICAgICAgICB0b3RhbENvbnRyaWJ1dGlvbjogMCwKICAgICAgICAgICAgdG9wQ29udHJpYnV0b3I6IDAKICAgICAgICB9KTsKICAgICAgICBjYXVsZHJvbnNbMl0gPSBDYXVsZHJvbih7CiAgICAgICAgICAgIHRpbWVyRHVyYXRpb246IDIwIG1pbnV0ZXMsCiAgICAgICAgICAgIGNhdWxkcm9uVHlwZTogQ2F1bGRyb25UeXBlLkV0aXRDYXVsZHJvbiwKCiAgICAgICAgICAgIGN1cnJlbnRSb3VuZDogMSwKICAgICAgICAgICAgZXhwaXJhdGlvblRpbWVyOiAwLAoKICAgICAgICAgICAgY29udHJpYnV0b3JzQ291bnQ6IDAsCiAgICAgICAgICAgIHRvdGFsQ29udHJpYnV0aW9uOiAwLAogICAgICAgICAgICB0b3BDb250cmlidXRvcjogMAogICAgICAgIH0pOwogICAgICAgIGNhdWxkcm9uc1szXSA9IENhdWxkcm9uKHsKICAgICAgICAgICAgdGltZXJEdXJhdGlvbjogNjAgbWludXRlcywKICAgICAgICAgICAgY2F1bGRyb25UeXBlOiBDYXVsZHJvblR5cGUuRXRoZXJDYXVsZHJvbiwKCiAgICAgICAgICAgIGN1cnJlbnRSb3VuZDogMSwKICAgICAgICAgICAgZXhwaXJhdGlvblRpbWVyOiAwLAoKICAgICAgICAgICAgY29udHJpYnV0b3JzQ291bnQ6IDAsCiAgICAgICAgICAgIHRvdGFsQ29udHJpYnV0aW9uOiAwLAogICAgICAgICAgICB0b3BDb250cmlidXRvcjogMAogICAgICAgIH0pOwogICAgICAgIGNhdWxkcm9uc1s0XSA9IENhdWxkcm9uKHsKICAgICAgICAgICAgdGltZXJEdXJhdGlvbjogMTIwIG1pbnV0ZXMsCiAgICAgICAgICAgIGNhdWxkcm9uVHlwZTogQ2F1bGRyb25UeXBlLkV0aXRDYXVsZHJvbiwKCiAgICAgICAgICAgIGN1cnJlbnRSb3VuZDogMSwKICAgICAgICAgICAgZXhwaXJhdGlvblRpbWVyOiAwLAoKICAgICAgICAgICAgY29udHJpYnV0b3JzQ291bnQ6IDAsCiAgICAgICAgICAgIHRvdGFsQ29udHJpYnV0aW9uOiAwLAogICAgICAgICAgICB0b3BDb250cmlidXRvcjogMAogICAgICAgIH0pOwogICAgICAgIGNhdWxkcm9uc1s1XSA9IENhdWxkcm9uKHsKICAgICAgICAgICAgdGltZXJEdXJhdGlvbjogMTIgaG91cnMsCiAgICAgICAgICAgIGNhdWxkcm9uVHlwZTogQ2F1bGRyb25UeXBlLkV0aGVyQ2F1bGRyb24sCgogICAgICAgICAgICBjdXJyZW50Um91bmQ6IDEsCiAgICAgICAgICAgIGV4cGlyYXRpb25UaW1lcjogMCwKCiAgICAgICAgICAgIGNvbnRyaWJ1dG9yc0NvdW50OiAwLAogICAgICAgICAgICB0b3RhbENvbnRyaWJ1dGlvbjogMCwKICAgICAgICAgICAgdG9wQ29udHJpYnV0b3I6IDAKICAgICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBpc0NhdWxkcm9uRXhwaXJlZCh1aW50OCBfY2F1bGRyb25JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBjYXVsZHJvbnNbX2NhdWxkcm9uSWRdLmV4cGlyYXRpb25UaW1lciAhPSAwICYmIGNhdWxkcm9uc1tfY2F1bGRyb25JZF0uZXhwaXJhdGlvblRpbWVyIDwgbm93OwogICAgfQoKICAgIGZ1bmN0aW9uIGhvcnNlTWFzdGVyKCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIGlmIChhZGRyZXNzKHN0YXJBdWN0aW9uc1s3XSkgPT0gMHgwKSB7CiAgICAgICAgICAgIHJldHVybiAweDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHN0YXJBdWN0aW9uc1s3XS5oaWdoZXN0QmlkZGVyKCk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uKCkgcHVibGljIHBheWFibGUgewogICAgICAgIC8vIE5vdCBhY2NlcHRpbmcgRXRoZXIgZGlyZWN0bHkKICAgICAgICByZXZlcnQoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRFbmFibGVkKGJvb2wgX2VuYWJsZWQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIGVuYWJsZWQgPSBfZW5hYmxlZDsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRTdGFyQXVjdGlvbih1aW50OCBfaWQsIGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHN0YXJBdWN0aW9uc1tfaWRdID0gU3RhckF1Y3Rpb24oX2FkZHJlc3MpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9hY2NlcHRDb250cmlidXRpb24oYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIHVpbnQ4IF9jYXVsZHJvbklkKSBpbnRlcm5hbCB7CiAgICAgICAgcmVxdWlyZSghaXNDYXVsZHJvbkV4cGlyZWQoX2NhdWxkcm9uSWQpKTsKCiAgICAgICAgQ2F1bGRyb24gc3RvcmFnZSBjYXVsZHJvbiA9IGNhdWxkcm9uc1tfY2F1bGRyb25JZF07CgogICAgICAgIHVpbnQyNTYgZXhpc3RpbmdDb250cmlidXRpb24gPSBjYXVsZHJvbi5jb250cmlidXRpb25zW2NhdWxkcm9uLmN1cnJlbnRSb3VuZF1bX2Zyb21dOwoKICAgICAgICBpZiAoZXhpc3RpbmdDb250cmlidXRpb24gPT0gMCkgewogICAgICAgICAgICBjYXVsZHJvbi5jb250cmlidXRvcnNbY2F1bGRyb24uY3VycmVudFJvdW5kXS5wdXNoKF9mcm9tKTsKICAgICAgICAgICAgY2F1bGRyb24uY29udHJpYnV0b3JzQ291bnQgKys7CiAgICAgICAgfQoKICAgICAgICB1aW50MjU2IHVzZXJOZXdDb250cmlidXRpb24gPSBleGlzdGluZ0NvbnRyaWJ1dGlvbi5hZGQoX3ZhbHVlKTsKCiAgICAgICAgY2F1bGRyb24uY29udHJpYnV0aW9uc1tjYXVsZHJvbi5jdXJyZW50Um91bmRdW19mcm9tXSA9IHVzZXJOZXdDb250cmlidXRpb247CiAgICAgICAgY2F1bGRyb24udG90YWxDb250cmlidXRpb24gPSBjYXVsZHJvbi50b3RhbENvbnRyaWJ1dGlvbi5hZGQoX3ZhbHVlKTsKCiAgICAgICAgaWYgKHVzZXJOZXdDb250cmlidXRpb24gPiBjYXVsZHJvbi5jb250cmlidXRpb25zW2NhdWxkcm9uLmN1cnJlbnRSb3VuZF1bY2F1bGRyb24udG9wQ29udHJpYnV0b3JdKSB7CiAgICAgICAgICAgIGNhdWxkcm9uLnRvcENvbnRyaWJ1dG9yID0gX2Zyb207CiAgICAgICAgfQoKICAgICAgICB1aW50OCBwZW9wbGVUb1N0YXJ0ID0gX2NhdWxkcm9uSWQgPT0gMSA/IDEwIDogMzsKICAgICAgICBpZiAoY2F1bGRyb24uZXhwaXJhdGlvblRpbWVyID09IDAgJiYgY2F1bGRyb24uY29udHJpYnV0b3JzQ291bnQgPj0gcGVvcGxlVG9TdGFydCkgewogICAgICAgICAgICBjYXVsZHJvbi5leHBpcmF0aW9uVGltZXIgPSBub3cgKyBjYXVsZHJvbi50aW1lckR1cmF0aW9uOwogICAgICAgIH0KCiAgICAgICAgZW1pdCBDb250cmlidXRpb24oX2Zyb20sIF92YWx1ZSwgX2NhdWxkcm9uSWQsIGNhdWxkcm9uLmN1cnJlbnRSb3VuZCk7CiAgICB9CgogICAgZnVuY3Rpb24gYWNjZXB0VG9rZW5zKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlLCB1aW50MjU2IF9jYXVsZHJvbklkLCB1aW50MjU2IC8qcGFyYW0yKi8sIHVpbnQyNTYgLypwYXJhbTMqLykgZXh0ZXJuYWwgb25seVRva2VuQ29udHJhY3QgewogICAgICAgIHJlcXVpcmUoIV9pc0NvbnRyYWN0KF9mcm9tKSk7CiAgICAgICAgcmVxdWlyZShlbmFibGVkKTsKICAgICAgICByZXF1aXJlKGNhdWxkcm9uc1t1aW50OChfY2F1bGRyb25JZCldLmNhdWxkcm9uVHlwZSA9PSBDYXVsZHJvblR5cGUuRXRpdENhdWxkcm9uKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA+PSAxIGZpbm5leSk7CgogICAgICAgIF9hY2NlcHRDb250cmlidXRpb24oX2Zyb20sIF92YWx1ZSwgdWludDgoX2NhdWxkcm9uSWQpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhY2NlcHRFdGhlcih1aW50OCBfY2F1bGRyb25JZCkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZSghX2lzQ29udHJhY3QobXNnLnNlbmRlcikpOwogICAgICAgIHJlcXVpcmUoZW5hYmxlZCk7CiAgICAgICAgcmVxdWlyZShjYXVsZHJvbnNbX2NhdWxkcm9uSWRdLmNhdWxkcm9uVHlwZSA9PSBDYXVsZHJvblR5cGUuRXRoZXJDYXVsZHJvbik7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPj0gMSBmaW5uZXkpOwoKICAgICAgICBfYWNjZXB0Q29udHJpYnV0aW9uKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgX2NhdWxkcm9uSWQpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9yb3RhdGVDYXVsZHJvbih1aW50OCBfY2F1bGRyb25JZCkgaW50ZXJuYWwgewogICAgICAgIHJlcXVpcmUoaXNDYXVsZHJvbkV4cGlyZWQoX2NhdWxkcm9uSWQpKTsKCiAgICAgICAgQ2F1bGRyb24gc3RvcmFnZSBjYXVsZHJvbiA9IGNhdWxkcm9uc1tfY2F1bGRyb25JZF07CgogICAgICAgIGNhdWxkcm9uLmN1cnJlbnRSb3VuZCArKzsKICAgICAgICBjYXVsZHJvbi5leHBpcmF0aW9uVGltZXIgPSAwOwoKICAgICAgICBjYXVsZHJvbi5jb250cmlidXRvcnNDb3VudCA9IDA7CiAgICAgICAgY2F1bGRyb24udG90YWxDb250cmlidXRpb24gPSAwOwogICAgICAgIGNhdWxkcm9uLnRvcENvbnRyaWJ1dG9yID0gMDsKICAgIH0KCiAgICBmdW5jdGlvbiBjYWxjdWxhdGVSZXdhcmQodWludDI1NiB0b3RhbFZhbHVlLCB1aW50MjU2IGJhc2VQZXJjZW50LCB1aW50OCBsZXZlbCkgcHVibGljIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIC8vIFJld2FyZCA9IHRvdGFsVmFsdWUgKiByZXdhcmRQZXJjZW50JQogICAgICAgIC8vIHJld2FyZFBlcmNlbnQgPSBiYXNlUGVyY2VudCooOTEuNS4uOTklKQogICAgICAgIHVpbnQyNTYgbGV2ZWxBZGRpdGlvbiA9IHVpbnQyNTYobGV2ZWwpLm11bCg1KTsgLy8gMC4uMTUgLT4gMC4uNzUKICAgICAgICB1aW50MjU2IG1vZGlmaWNhdGlvblBlcmNlbnQgPSBsZXZlbEFkZGl0aW9uLmFkZCg5MTUpOwoKICAgICAgICB1aW50MjU2IGZpbmFsUGVyY2VudDEwMDAgPSBiYXNlUGVyY2VudC5tdWwobW9kaWZpY2F0aW9uUGVyY2VudCk7IC8vIDAuLjEwMDAwMAoKICAgICAgICBhc3NlcnQoZmluYWxQZXJjZW50MTAwMCAvIDEwMDAgPD0gYmFzZVBlcmNlbnQpOwogICAgICAgIGFzc2VydChmaW5hbFBlcmNlbnQxMDAwIDw9IDEwMDAwMCk7CgogICAgICAgIHJldHVybiB0b3RhbFZhbHVlLm11bChmaW5hbFBlcmNlbnQxMDAwKS5kaXYoMTAwMDAwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBwaWNrV2lubmVycygKICAgICAgICB1aW50OCBfY2F1bGRyb25JZCwKICAgICAgICBhZGRyZXNzIHdpbm5lcjEsCiAgICAgICAgYWRkcmVzcyB3aW5uZXIyLAogICAgICAgIGFkZHJlc3Mgd2lubmVyMywKICAgICAgICB1aW50OCB3aW5uZXIxTGV2ZWwsCiAgICAgICAgdWludDggd2lubmVyMkxldmVsLAogICAgICAgIHVpbnQ4IHdpbm5lcjNMZXZlbAogICAgKSBleHRlcm5hbCBvbmx5T3JhY2xlIHsKICAgICAgICByZXF1aXJlKGlzQ2F1bGRyb25FeHBpcmVkKF9jYXVsZHJvbklkKSB8fCAhZW5hYmxlZCk7CgogICAgICAgIENhdWxkcm9uIHN0b3JhZ2UgY2F1bGRyb24gPSBjYXVsZHJvbnNbX2NhdWxkcm9uSWRdOwoKICAgICAgICByZXF1aXJlKGNhdWxkcm9uLmNvbnRyaWJ1dGlvbnNbY2F1bGRyb24uY3VycmVudFJvdW5kXVt3aW5uZXIxXSA+IDApOwogICAgICAgIHJlcXVpcmUoY2F1bGRyb24uY29udHJpYnV0aW9uc1tjYXVsZHJvbi5jdXJyZW50Um91bmRdW3dpbm5lcjJdID4gMCk7CiAgICAgICAgcmVxdWlyZShjYXVsZHJvbi5jb250cmlidXRpb25zW2NhdWxkcm9uLmN1cnJlbnRSb3VuZF1bd2lubmVyM10gPiAwKTsKCiAgICAgICAgcmVxdWlyZSh3aW5uZXIxTGV2ZWwgPD0gMTUpOwogICAgICAgIHJlcXVpcmUod2lubmVyMkxldmVsIDw9IDE1KTsKICAgICAgICByZXF1aXJlKHdpbm5lcjNMZXZlbCA8PSAxNSk7CgogICAgICAgIHVpbnQyNTYgd2lubmVyMVJld2FyZCA9IGNhbGN1bGF0ZVJld2FyZChjYXVsZHJvbi50b3RhbENvbnRyaWJ1dGlvbiwgNTAsIHdpbm5lcjFMZXZlbCk7CiAgICAgICAgdWludDI1NiB3aW5uZXIyUmV3YXJkID0gY2FsY3VsYXRlUmV3YXJkKGNhdWxkcm9uLnRvdGFsQ29udHJpYnV0aW9uLCAzNSwgd2lubmVyMkxldmVsKTsKICAgICAgICB1aW50MjU2IHdpbm5lcjNSZXdhcmQgPSBjYWxjdWxhdGVSZXdhcmQoY2F1bGRyb24udG90YWxDb250cmlidXRpb24sIDE1LCB3aW5uZXIzTGV2ZWwpOwoKICAgICAgICB1aW50MjU2IHJlbWFpbmluZ1Jld2FyZCA9CiAgICAgICAgICAgIGNhdWxkcm9uLnRvdGFsQ29udHJpYnV0aW9uCiAgICAgICAgICAgICAgICAuc3ViKHdpbm5lcjFSZXdhcmQpCiAgICAgICAgICAgICAgICAuc3ViKHdpbm5lcjJSZXdhcmQpCiAgICAgICAgICAgICAgICAuc3ViKHdpbm5lcjNSZXdhcmQpOwoKICAgICAgICBpZiAoY2F1bGRyb24uY2F1bGRyb25UeXBlID09IENhdWxkcm9uVHlwZS5FdGhlckNhdWxkcm9uKSB7CiAgICAgICAgICAgIHdpbm5lcjEudHJhbnNmZXIod2lubmVyMVJld2FyZCk7CiAgICAgICAgICAgIHdpbm5lcjIudHJhbnNmZXIod2lubmVyMlJld2FyZCk7CiAgICAgICAgICAgIHdpbm5lcjMudHJhbnNmZXIod2lubmVyM1Jld2FyZCk7CgogICAgICAgICAgICAvLyBJbmZlcm5hbCBIb3JzZSBvd25lciBnZXRzIDUlIG9mIHRoZSByZW1haW5kZXIKICAgICAgICAgICAgaWYgKGhvcnNlTWFzdGVyKCkgIT0gMHgwKSB7CiAgICAgICAgICAgICAgICByZW1haW5pbmdSZXdhcmQgPSByZW1haW5pbmdSZXdhcmQuc3ViKHJlbWFpbmluZ1Jld2FyZC5tdWwoNSkuZGl2KDEwMCkpOwogICAgICAgICAgICAgICAgaG9yc2VNYXN0ZXIoKS50cmFuc2ZlcihyZW1haW5pbmdSZXdhcmQubXVsKDUpLmRpdigxMDApKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gVGhlIHJlc3Qgb2YgdGhlIHJlbWFpbmRlciBnb2VzIHRvIHRoZSBFVElUIERpdmlkZW5kIHBvb2wKICAgICAgICAgICAgX3Byb2Nlc3NEaXZpZGVuZHMocmVtYWluaW5nUmV3YXJkKTsKCiAgICAgICAgfSBlbHNlIGlmIChjYXVsZHJvbi5jYXVsZHJvblR5cGUgPT0gQ2F1bGRyb25UeXBlLkV0aXRDYXVsZHJvbikgewogICAgICAgICAgICBiYXNlQ29udHJhY3QudHJhbnNmZXIod2lubmVyMSwgd2lubmVyMVJld2FyZCk7CiAgICAgICAgICAgIGJhc2VDb250cmFjdC50cmFuc2Zlcih3aW5uZXIyLCB3aW5uZXIyUmV3YXJkKTsKICAgICAgICAgICAgYmFzZUNvbnRyYWN0LnRyYW5zZmVyKHdpbm5lcjMsIHdpbm5lcjNSZXdhcmQpOwoKICAgICAgICAgICAgLy8gRXhjZXNzIEVUSVQgdG9rZW5zIGFyZSBidXJuZWQKICAgICAgICAgICAgYmFzZUNvbnRyYWN0LmJ1cm4ocmVtYWluaW5nUmV3YXJkKTsKICAgICAgICB9CgogICAgICAgIGVtaXQgV2lubmVyKHdpbm5lcjEsIHdpbm5lcjFSZXdhcmQsIF9jYXVsZHJvbklkLCBjYXVsZHJvbi5jdXJyZW50Um91bmQpOwogICAgICAgIGVtaXQgV2lubmVyKHdpbm5lcjIsIHdpbm5lcjJSZXdhcmQsIF9jYXVsZHJvbklkLCBjYXVsZHJvbi5jdXJyZW50Um91bmQpOwogICAgICAgIGVtaXQgV2lubmVyKHdpbm5lcjMsIHdpbm5lcjNSZXdhcmQsIF9jYXVsZHJvbklkLCBjYXVsZHJvbi5jdXJyZW50Um91bmQpOwoKICAgICAgICBfcm90YXRlQ2F1bGRyb24oX2NhdWxkcm9uSWQpOwogICAgfQoKCiAgICBmdW5jdGlvbiBjb250cmlidXRvcnNPZkNhdWxkcm9uKHVpbnQ4IF9jYXVsZHJvbklkKSBwdWJsaWMgdmlldyByZXR1cm5zIChhZGRyZXNzW10pIHsKICAgICAgICBDYXVsZHJvbiBzdG9yYWdlIGNhdWxkcm9uID0gY2F1bGRyb25zW19jYXVsZHJvbklkXTsKCiAgICAgICAgcmV0dXJuIGNhdWxkcm9uLmNvbnRyaWJ1dG9yc1tjYXVsZHJvbi5jdXJyZW50Um91bmRdOwogICAgfQoKICAgIGZ1bmN0aW9uIGNvbnRyaWJ1dGlvbkluQ2F1bGRyb24odWludDggX2NhdWxkcm9uSWQsIGFkZHJlc3MgX3VzZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBDYXVsZHJvbiBzdG9yYWdlIGNhdWxkcm9uID0gY2F1bGRyb25zW19jYXVsZHJvbklkXTsKCiAgICAgICAgcmV0dXJuIGNhdWxkcm9uLmNvbnRyaWJ1dGlvbnNbY2F1bGRyb24uY3VycmVudFJvdW5kXVtfdXNlcl07CiAgICB9CgogICAgZnVuY3Rpb24gY29udHJpYnV0b3JzT2ZDYXVsZHJvblJvdW5kKHVpbnQ4IF9jYXVsZHJvbklkLCB1aW50MzIgX3JvdW5kKSBwdWJsaWMgdmlldyByZXR1cm5zIChhZGRyZXNzW10pIHsKICAgICAgICBDYXVsZHJvbiBzdG9yYWdlIGNhdWxkcm9uID0gY2F1bGRyb25zW19jYXVsZHJvbklkXTsKCiAgICAgICAgcmV0dXJuIGNhdWxkcm9uLmNvbnRyaWJ1dG9yc1tfcm91bmRdOwogICAgfQoKICAgIGZ1bmN0aW9uIGNvbnRyaWJ1dGlvbkluQ2F1bGRyb25Sb3VuZCh1aW50OCBfY2F1bGRyb25JZCwgYWRkcmVzcyBfdXNlciwgdWludDMyIF9yb3VuZCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgICAgIENhdWxkcm9uIHN0b3JhZ2UgY2F1bGRyb24gPSBjYXVsZHJvbnNbX2NhdWxkcm9uSWRdOwoKICAgICAgICByZXR1cm4gY2F1bGRyb24uY29udHJpYnV0aW9uc1tfcm91bmRdW191c2VyXTsKICAgIH0KCn0='.
	

]
