Class {
	#name : #SRT545ef6db327e0861f199222c0c2d162a0f63e723,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT545ef6db327e0861f199222c0c2d162a0f63e723 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjA7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKCiAgLyoqCiAgKiBAZGV2IE11bHRpcGxpZXMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAqLwogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIC8qKgogICogQGRldiBJbnRlZ2VyIGRpdmlzaW9uIG9mIHR3byBudW1iZXJzLCB0cnVuY2F0aW5nIHRoZSBxdW90aWVudC4KICAqLwogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgLyoqCiAgKiBAZGV2IFN1YnN0cmFjdHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdyAoaS5lLiBpZiBzdWJ0cmFoZW5kIGlzIGdyZWF0ZXIgdGhhbiBtaW51ZW5kKS4KICAqLwogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIC8qKgogICogQGRldiBBZGRzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLy8vIEB0aXRsZSBJbnRlcmZhY2UgZm9yIGNvbnRyYWN0cyBjb25mb3JtaW5nIHRvIEVSQy03MjE6IE5vbi1GdW5naWJsZSBUb2tlbnMKLy8vIEBhdXRob3IgRGlldGVyIFNoaXJsZXkgPDxhIGhyZWY9Ii9jZG4tY2dpL2wvZW1haWwtcHJvdGVjdGlvbiIgY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSJlOThkOGM5ZDhjYTk4ODkxODA4Njg0OTM4Yzg3Yzc4YTg2Ij5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9hPj4gKGh0dHBzOi8vZ2l0aHViLmNvbS9kZXRlKQpjb250cmFjdCBFUkM3MjEgewogICAgLy8gUmVxdWlyZWQgbWV0aG9kcwogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IHRvdGFsKTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKICAgIGZ1bmN0aW9uIG93bmVyT2YodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcyBfb3duZXIpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgcHVibGljOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYzsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgcHVibGljOwoKICAgIC8vIEV2ZW50cwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHRva2VuSWQpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBhcHByb3ZlZCwgdWludDI1NiB0b2tlbklkKTsKCiAgICAvLyBPcHRpb25hbAogICAgZnVuY3Rpb24gbmFtZSgpIHB1YmxpYyBwdXJlIHJldHVybnMgKHN0cmluZyBfbmFtZSk7CiAgICBmdW5jdGlvbiBzeW1ib2woKSBwdWJsaWMgcHVyZSByZXR1cm5zIChzdHJpbmcgX3N5bWJvbCk7CiAgICAvLyBmdW5jdGlvbiB0b2tlbnNPZk93bmVyKGFkZHJlc3MgX293bmVyKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQyNTZbXSB0b2tlbklkcyk7CiAgICAvLyBmdW5jdGlvbiB0b2tlbk1ldGFkYXRhKHVpbnQyNTYgX3Rva2VuSWQsIHN0cmluZyBfcHJlZmVycmVkVHJhbnNwb3J0KSBwdWJsaWMgdmlldyByZXR1cm5zIChzdHJpbmcgaW5mb1VybCk7CgogICAgLy8gRVJDLTE2NSBDb21wYXRpYmlsaXR5IChodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTY1KQogICAgLy8gZnVuY3Rpb24gc3VwcG9ydHNJbnRlcmZhY2UoYnl0ZXM0IF9pbnRlcmZhY2VJRCkgZXh0ZXJuYWwgdmlldyByZXR1cm5zIChib29sKTsKfQoKY29udHJhY3QgY3J5cHRvQ2hhbGxlbmdlIGlzIEVSQzcyMXsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgZXZlbnQgQm91Z2h0ICh1aW50MjU2IGluZGV4ZWQgX3Rva2VuSWQsIGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIHVpbnQyNTYgX3ByaWNlKTsKICBldmVudCBTb2xkICh1aW50MjU2IGluZGV4ZWQgX3Rva2VuSWQsIGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIHVpbnQyNTYgX3ByaWNlKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfYXBwcm92ZWQsIHVpbnQyNTYgX3Rva2VuSWQpOwoKICBhZGRyZXNzIHByaXZhdGUgb3duZXI7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwcml2YXRlIGFkbWluczsKCiAgdWludDI1NiBwcml2YXRlIGluY3JlYXNlTGltaXQxID0gMC4wMiBldGhlcjsKICB1aW50MjU2IHByaXZhdGUgaW5jcmVhc2VMaW1pdDIgPSAwLjUgZXRoZXI7CiAgdWludDI1NiBwcml2YXRlIGluY3JlYXNlTGltaXQzID0gMi4wIGV0aGVyOwogIHVpbnQyNTYgcHJpdmF0ZSBpbmNyZWFzZUxpbWl0NCA9IDUuMCBldGhlcjsKCiAgdWludDI1NltdIHByaXZhdGUgbGlzdGVkVG9rZW5zOwogIG1hcHBpbmcgKHVpbnQyNTYgPT4gdWludDI1NikgcHJpdmF0ZSBiZXQxT2ZUb2tlbjsKICBtYXBwaW5nICh1aW50MjU2ID0+IHVpbnQyNTYpIHByaXZhdGUgYmV0Mk9mVG9rZW47CiAgbWFwcGluZyAodWludDI1NiA9PiB1aW50MjU2KSBwcml2YXRlIGJldDFkZWx0YU9mVG9rZW47CiAgbWFwcGluZyAodWludDI1NiA9PiB1aW50MjU2KSBwcml2YXRlIGJldDJkZWx0YU9mVG9rZW47ICAKICBtYXBwaW5nICh1aW50MjU2ID0+IGFkZHJlc3MpIHByaXZhdGUgb3duZXJPZlRva2VuOwogIG1hcHBpbmcgKHVpbnQyNTYgPT4gYWRkcmVzcykgcHJpdmF0ZSBvd25lcjFPZlRva2VuOwogIG1hcHBpbmcgKHVpbnQyNTYgPT4gYWRkcmVzcykgcHJpdmF0ZSBvd25lcjJPZlRva2VuOwogIG1hcHBpbmcgKHVpbnQyNTYgPT4gYWRkcmVzcykgcHJpdmF0ZSB3aXRuZXNzT2ZUb2tlbjsgIAogIG1hcHBpbmcgKHVpbnQyNTYgPT4gYWRkcmVzcykgcHJpdmF0ZSBwMU9mVG9rZW47CiAgbWFwcGluZyAodWludDI1NiA9PiBhZGRyZXNzKSBwcml2YXRlIHAyT2ZUb2tlbjsgICAgCiAgbWFwcGluZyAodWludDI1NiA9PiB1aW50MjU2KSBwcml2YXRlIHByaWNlMU9mVG9rZW47CiAgbWFwcGluZyAodWludDI1NiA9PiB1aW50MjU2KSBwcml2YXRlIHByaWNlMk9mVG9rZW47ICAKICBtYXBwaW5nICh1aW50MjU2ID0+IHVpbnQyNTYpIHByaXZhdGUgZnJlZTFPZlRva2VuOwogIG1hcHBpbmcgKHVpbnQyNTYgPT4gdWludDI1NikgcHJpdmF0ZSBmcmVlMk9mVG9rZW47CiAgbWFwcGluZyAodWludDI1NiA9PiBhZGRyZXNzKSBwcml2YXRlIGFwcHJvdmVkT2ZUb2tlbjsKICBtYXBwaW5nICh1aW50MjU2ID0+IHVpbnQyNTYpIHByaXZhdGUgaW5kZXhPZklkOwogIAogIGZ1bmN0aW9uIGNyeXB0b0NoYWxsZW5nZSAoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgYWRtaW5zW293bmVyXSA9IHRydWU7ICAgIAogIH0KCiAgLyogTW9kaWZpZXJzICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShvd25lciA9PSBtc2cuc2VuZGVyKTsKICAgIF87CiAgfQoKICBtb2RpZmllciBvbmx5QWRtaW5zKCkgewogICAgcmVxdWlyZShhZG1pbnNbbXNnLnNlbmRlcl0pOwogICAgXzsKICB9CgogIG1vZGlmaWVyIG9ubHlXaXRuZXNzKHVpbnQyNTYgX3Rva2VuSWQpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSB3aXRuZXNzT2ZUb2tlbltfdG9rZW5JZF0pOwogICAgXzsKICB9ICAKCiAgLyogT3duZXIgKi8KICBmdW5jdGlvbiBzZXRPd25lciAoYWRkcmVzcyBfb3duZXIpIG9ubHlPd25lcigpIHB1YmxpYyB7CiAgICBvd25lciA9IF9vd25lcjsKICB9CgogIGZ1bmN0aW9uIGFkZEFkbWluIChhZGRyZXNzIF9hZG1pbikgb25seU93bmVyKCkgcHVibGljIHsKICAgIGFkbWluc1tfYWRtaW5dID0gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZUFkbWluIChhZGRyZXNzIF9hZG1pbikgb25seU93bmVyKCkgcHVibGljIHsKICAgIGRlbGV0ZSBhZG1pbnNbX2FkbWluXTsKICB9CgogIC8qIFdpdGhkcmF3ICovCiAgLyoKICAgIE5PVElDRTogVGhlc2UgZnVuY3Rpb25zIHdpdGhkcmF3IHRoZSBkZXZlbG9wZXIncyBjdXQgd2hpY2ggaXMgbGVmdAogICAgaW4gdGhlIGNvbnRyYWN0IGJ5IGBidXlgLiBVc2VyIGZ1bmRzIGFyZSBpbW1lZGlhdGVseSBzZW50IHRvIHRoZSBvbGQKICAgIG93bmVyIGluIGBidXlgLCBubyB1c2VyIGZ1bmRzIGFyZSBsZWZ0IGluIHRoZSBjb250cmFjdC4KICAqLwogIGZ1bmN0aW9uIHdpdGhkcmF3QWxsICgpIG9ubHlBZG1pbnMoKSBwdWJsaWMgewogICBtc2cuc2VuZGVyLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgfQoKICBmdW5jdGlvbiB3aXRoZHJhd0Ftb3VudCAodWludDI1NiBfYW1vdW50KSBvbmx5QWRtaW5zKCkgcHVibGljIHsKICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoX2Ftb3VudCk7CiAgfQoKICAvKiBCdXlpbmcgKi8KICBmdW5jdGlvbiBjYWxjdWxhdGVOZXh0UHJpY2UgKHVpbnQyNTYgX3ByaWNlKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IF9uZXh0UHJpY2UpIHsKICAgIGlmIChfcHJpY2UgPCBpbmNyZWFzZUxpbWl0MSkgewogICAgICByZXR1cm4gX3ByaWNlLm11bCgyMDApLmRpdig5NSk7CiAgICB9IGVsc2UgaWYgKF9wcmljZSA8IGluY3JlYXNlTGltaXQyKSB7CiAgICAgIHJldHVybiBfcHJpY2UubXVsKDEzNSkuZGl2KDk2KTsKICAgIH0gZWxzZSBpZiAoX3ByaWNlIDwgaW5jcmVhc2VMaW1pdDMpIHsKICAgICAgcmV0dXJuIF9wcmljZS5tdWwoMTI1KS5kaXYoOTcpOwogICAgfSBlbHNlIGlmIChfcHJpY2UgPCBpbmNyZWFzZUxpbWl0NCkgewogICAgICByZXR1cm4gX3ByaWNlLm11bCgxMTcpLmRpdig5Nyk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gX3ByaWNlLm11bCgxMTUpLmRpdig5OCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjYWxjdWxhdGVEZXZDdXQgKHVpbnQyNTYgX3ByaWNlKSBwdWJsaWMgcHVyZSByZXR1cm5zICh1aW50MjU2IF9kZXZDdXQpIHsKICAgICByZXR1cm4gX3ByaWNlLmRpdigyMCk7CiAgfQoKICAvKgogICAgIEJ1eSBhIGNvdW50cnkgZGlyZWN0bHkgZnJvbSB0aGUgY29udHJhY3QgZm9yIHRoZSBjYWxjdWxhdGVkIHByaWNlCiAgICAgd2hpY2ggZW5zdXJlcyB0aGF0IHRoZSBvd25lciBnZXRzIGEgcHJvZml0LiAgQWxsIGNvdW50cmllcyB0aGF0CiAgICAgaGF2ZSBiZWVuIGxpc3RlZCBjYW4gYmUgYm91Z2h0IGJ5IHRoaXMgbWV0aG9kLiBVc2VyIGZ1bmRzIGFyZSBzZW50CiAgICAgZGlyZWN0bHkgdG8gdGhlIHByZXZpb3VzIG93bmVyIGFuZCBhcmUgbmV2ZXIgc3RvcmVkIGluIHRoZSBjb250cmFjdC4KICAqLwogIGZ1bmN0aW9uIGJ1eTEgKHVpbnQyNTYgX3Rva2VuSWQpIHBheWFibGUgcHVibGljIHsKICAgIHJlcXVpcmUocHJpY2UxT2YoX3Rva2VuSWQpID4gMCk7CiAgICByZXF1aXJlKG93bmVyMU9mKF90b2tlbklkKSAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUobXNnLnZhbHVlID49IHByaWNlMU9mKF90b2tlbklkKSk7CiAgICByZXF1aXJlKG93bmVyMU9mKF90b2tlbklkKSAhPSBtc2cuc2VuZGVyKTsKICAgIHJlcXVpcmUoIWlzQ29udHJhY3QobXNnLnNlbmRlcikpOwogICAgcmVxdWlyZShtc2cuc2VuZGVyICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShub3cgPj0gZnJlZTFPZlRva2VuW190b2tlbklkXSk7CiAgICByZXF1aXJlKG5vdyA8PSBmcmVlMk9mVG9rZW5bX3Rva2VuSWRdKTsKCiAgICBhZGRyZXNzIG9sZE93bmVyID0gb3duZXIxT2YoX3Rva2VuSWQpOwogICAgYWRkcmVzcyBuZXdPd25lciA9IG1zZy5zZW5kZXI7CiAgICB1aW50MjU2IHByaWNlID0gcHJpY2UxT2YoX3Rva2VuSWQpOwogICAgdWludDI1NiBleGNlc3MgPSBtc2cudmFsdWUuc3ViKHByaWNlKTsKCiAgICBwcmljZTFPZlRva2VuW190b2tlbklkXSA9IG5leHRQcmljZTFPZihfdG9rZW5JZCk7CgogICAgdWludDI1NiBkZXZDdXQgPSBjYWxjdWxhdGVEZXZDdXQocHJpY2UpOwogICAgb2xkT3duZXIudHJhbnNmZXIocHJpY2Uuc3ViKGRldkN1dCkpOwoKICAgIGlmIChleGNlc3MgPiAwKSB7CiAgICAgIG5ld093bmVyLnRyYW5zZmVyKGV4Y2Vzcyk7CiAgICB9CgogICAgb3duZXIxT2ZUb2tlbltfdG9rZW5JZF0gPSBuZXdPd25lcjsKCiAgfQoKICBmdW5jdGlvbiBidXkyICh1aW50MjU2IF90b2tlbklkKSBwYXlhYmxlIHB1YmxpYyB7CiAgICByZXF1aXJlKHByaWNlMk9mKF90b2tlbklkKSA+IDApOwogICAgcmVxdWlyZShvd25lcjJPZihfdG9rZW5JZCkgIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBwcmljZTJPZihfdG9rZW5JZCkpOwogICAgcmVxdWlyZShvd25lcjJPZihfdG9rZW5JZCkgIT0gbXNnLnNlbmRlcik7CiAgICByZXF1aXJlKCFpc0NvbnRyYWN0KG1zZy5zZW5kZXIpKTsKICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUobm93ID49IGZyZWUxT2ZUb2tlbltfdG9rZW5JZF0pOwogICAgcmVxdWlyZShub3cgPD0gZnJlZTJPZlRva2VuW190b2tlbklkXSk7CgogICAgYWRkcmVzcyBvbGRPd25lciA9IG93bmVyMk9mKF90b2tlbklkKTsKICAgIGFkZHJlc3MgbmV3T3duZXIgPSBtc2cuc2VuZGVyOwogICAgdWludDI1NiBwcmljZSA9IHByaWNlMk9mKF90b2tlbklkKTsKICAgIHVpbnQyNTYgZXhjZXNzID0gbXNnLnZhbHVlLnN1YihwcmljZSk7CgogICAgcHJpY2UyT2ZUb2tlbltfdG9rZW5JZF0gPSBuZXh0UHJpY2UyT2YoX3Rva2VuSWQpOwoKICAgIHVpbnQyNTYgZGV2Q3V0ID0gY2FsY3VsYXRlRGV2Q3V0KHByaWNlKTsKICAgIG9sZE93bmVyLnRyYW5zZmVyKHByaWNlLnN1YihkZXZDdXQpKTsKCiAgICBpZiAoZXhjZXNzID4gMCkgewogICAgICBuZXdPd25lci50cmFuc2ZlcihleGNlc3MpOwogICAgfQoKICAgIG93bmVyMk9mVG9rZW5bX3Rva2VuSWRdID0gbmV3T3duZXI7CiAgfSAgCgogIC8qIEVSQzcyMSAqLwoKICBmdW5jdGlvbiBuYW1lKCkgcHVibGljIHB1cmUgcmV0dXJucyAoc3RyaW5nIF9uYW1lKSB7CiAgICByZXR1cm4gImJldHNpZ25hdHVyZSI7CiAgfQoKICBmdW5jdGlvbiBzeW1ib2woKSBwdWJsaWMgcHVyZSByZXR1cm5zIChzdHJpbmcgX3N5bWJvbCkgewogICAgcmV0dXJuICJCRVQiOwogIH0KCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IF90b3RhbFN1cHBseSkgewogICAgcmV0dXJuIGxpc3RlZFRva2Vucy5sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiBiYWxhbmNlT2YgKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IF9iYWxhbmNlKSB7CiAgICB1aW50MjU2IGNvdW50ZXIgPSAwOwoKICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IGxpc3RlZFRva2Vucy5sZW5ndGg7IGkrKykgewogICAgICBpZiAob3duZXJPZihsaXN0ZWRUb2tlbnNbaV0pID09IF9vd25lcikgewogICAgICAgIGNvdW50ZXIrKzsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBjb3VudGVyOwogIH0KCiAgZnVuY3Rpb24gb3duZXJPZih1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgdmlldyByZXR1cm5zIChhZGRyZXNzIF9vd25lcikgewogICAgcmV0dXJuIG93bmVyT2ZUb2tlbltfdG9rZW5JZF07CiAgfQoKICBmdW5jdGlvbiBvd25lcjFPZiAodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcyBfb3duZXIpIHsKICAgIHJldHVybiBvd25lcjFPZlRva2VuW190b2tlbklkXTsKICB9CgogIGZ1bmN0aW9uIG93bmVyMk9mICh1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgdmlldyByZXR1cm5zIChhZGRyZXNzIF9vd25lcikgewogICAgcmV0dXJuIG93bmVyMk9mVG9rZW5bX3Rva2VuSWRdOwogIH0KCiAgZnVuY3Rpb24gdG9rZW5zT2YgKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2W10gX3Rva2VuSWRzKSB7CiAgICB1aW50MjU2W10gbWVtb3J5IFRva2VucyA9IG5ldyB1aW50MjU2W10oYmFsYW5jZU9mKF9vd25lcikpOwoKICAgIHVpbnQyNTYgVG9rZW5Db3VudGVyID0gMDsKICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IGxpc3RlZFRva2Vucy5sZW5ndGg7IGkrKykgewogICAgICBpZiAob3duZXJPZihsaXN0ZWRUb2tlbnNbaV0pID09IF9vd25lcikgewogICAgICAgIFRva2Vuc1tUb2tlbkNvdW50ZXJdID0gbGlzdGVkVG9rZW5zW2ldOwogICAgICAgIFRva2VuQ291bnRlciArPSAxOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIFRva2VuczsKICB9CgogIGZ1bmN0aW9uIHRva2VuRXhpc3RzICh1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgcHVyZSByZXR1cm5zIChib29sIF9leGlzdHMpIHsKICAgIHJldHVybiBfdG9rZW5JZCA9PSBfdG9rZW5JZDsKICB9CgogIGZ1bmN0aW9uIGFwcHJvdmVkRm9yKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKGFkZHJlc3MgX2FwcHJvdmVkKSB7CiAgICByZXR1cm4gYXBwcm92ZWRPZlRva2VuW190b2tlbklkXTsKICB9CgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgIT0gX3RvKTsKICAgIHJlcXVpcmUodG9rZW5FeGlzdHMoX3Rva2VuSWQpKTsKICAgIHJlcXVpcmUob3duZXJPZihfdG9rZW5JZCkgPT0gbXNnLnNlbmRlcik7CgogICAgaWYgKF90byA9PSAwKSB7CiAgICAgIGlmIChhcHByb3ZlZE9mVG9rZW5bX3Rva2VuSWRdICE9IDApIHsKICAgICAgICBkZWxldGUgYXBwcm92ZWRPZlRva2VuW190b2tlbklkXTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCAwLCBfdG9rZW5JZCk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGFwcHJvdmVkT2ZUb2tlbltfdG9rZW5JZF0gPSBfdG87CiAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF90bywgX3Rva2VuSWQpOwogICAgfQogIH0KCiAgLyogVHJhbnNmZXJyaW5nIGEgY291bnRyeSB0byBhbm90aGVyIG93bmVyIHdpbGwgZW50aXRsZSB0aGUgbmV3IG93bmVyIHRoZSBwcm9maXRzIGZyb20gYGJ1eWAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgcHVibGljIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lck9mKF90b2tlbklkKSk7CiAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdG9rZW5JZCk7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB7CiAgICByZXF1aXJlKGFwcHJvdmVkRm9yKF90b2tlbklkKSA9PSBtc2cuc2VuZGVyKTsKICAgIF90cmFuc2ZlcihfZnJvbSwgX3RvLCBfdG9rZW5JZCk7CiAgfQoKICBmdW5jdGlvbiBfdHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIGludGVybmFsIHsKICAgIHJlcXVpcmUodG9rZW5FeGlzdHMoX3Rva2VuSWQpKTsKICAgIHJlcXVpcmUob3duZXJPZihfdG9rZW5JZCkgPT0gX2Zyb20pOwogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKHRoaXMpKTsKCiAgICBvd25lck9mVG9rZW5bX3Rva2VuSWRdID0gX3RvOwogICAgYXBwcm92ZWRPZlRva2VuW190b2tlbklkXSA9IDA7CgogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3Rva2VuSWQpOwogIH0KCiAgLyogUmVhZCAqLwogIGZ1bmN0aW9uIGlzQWRtaW4gKGFkZHJlc3MgX2FkbWluKSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sIF9pc0FkbWluKSB7CiAgICByZXR1cm4gYWRtaW5zW19hZG1pbl07CiAgfQoKICBmdW5jdGlvbiBwcmljZTFPZiAodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBfcHJpY2UpIHsKICAgIHJldHVybiBwcmljZTFPZlRva2VuW190b2tlbklkXTsKICB9CgogIGZ1bmN0aW9uIHByaWNlMk9mICh1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IF9wcmljZSkgewogICAgcmV0dXJuIHByaWNlMk9mVG9rZW5bX3Rva2VuSWRdOwogIH0gIAoKICBmdW5jdGlvbiBmcmVlMU9mICh1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IF9mcmVlMSkgewogICAgcmV0dXJuIGZyZWUxT2ZUb2tlbltfdG9rZW5JZF07CiAgfQogIAogIGZ1bmN0aW9uIGZyZWUyT2YgKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgX2ZyZWUyKSB7CiAgICAgIHJldHVybiBmcmVlMk9mVG9rZW5bX3Rva2VuSWRdOwogIH0KCiAgZnVuY3Rpb24gbmV4dFByaWNlMU9mICh1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IF9uZXh0UHJpY2UpIHsKICAgIHJldHVybiBjYWxjdWxhdGVOZXh0UHJpY2UocHJpY2UxT2YoX3Rva2VuSWQpKTsKICB9CgogIGZ1bmN0aW9uIG5leHRQcmljZTJPZiAodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBfbmV4dFByaWNlKSB7CiAgICByZXR1cm4gY2FsY3VsYXRlTmV4dFByaWNlKHByaWNlMk9mKF90b2tlbklkKSk7CiAgfSAgCgogIGZ1bmN0aW9uIHdpdG5lc3NPZiAodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcyBfd2l0bmVzcykgewogICAgcmV0dXJuIHdpdG5lc3NPZlRva2VuW190b2tlbklkXTsKICB9CgogIGZ1bmN0aW9uIGJldDFPZiAodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBfYmV0MSkgewogICAgcmV0dXJuIGJldDFPZlRva2VuW190b2tlbklkXTsKICB9CgoKICBmdW5jdGlvbiBiZXQyT2YgKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgX2JldDIpIHsKICAgIHJldHVybiBiZXQyT2ZUb2tlbltfdG9rZW5JZF07CiAgfQoKCiAgZnVuY3Rpb24gYmV0MWRlbHRhT2YgKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgX2JldDFkZWx0YSkgewogICAgcmV0dXJuIGJldDFkZWx0YU9mVG9rZW5bX3Rva2VuSWRdOwogIH0KCiAgZnVuY3Rpb24gYmV0MmRlbHRhT2YgKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgX2JldDJkZWx0YSkgewogICAgcmV0dXJuIGJldDJkZWx0YU9mVG9rZW5bX3Rva2VuSWRdOwogIH0KCiAgZnVuY3Rpb24gcDFPZiAodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcyBfcDFPZikgewogICAgcmV0dXJuIHAxT2ZUb2tlbltfdG9rZW5JZF07CiAgfQoKCiAgZnVuY3Rpb24gcDJPZiAodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcyBfcDJPZikgewogICAgcmV0dXJuIHAyT2ZUb2tlbltfdG9rZW5JZF07CiAgfQoKICBmdW5jdGlvbiBhbGxPZiAodWludDI1NiBfdG9rZW5JZCkgZXh0ZXJuYWwgdmlldyByZXR1cm5zIChhZGRyZXNzIF9vd25lcjEsIGFkZHJlc3MgX293bmVyMiwgdWludDI1NiBfcHJpY2UxLCB1aW50MjU2IF9wcmljZTIsIHVpbnQyNTYgX2ZyZWUxLCB1aW50MjU2IF9mcmVlMiwgYWRkcmVzcyBfd2l0bmVzcykgewogICAgcmV0dXJuIChvd25lcjFPZihfdG9rZW5JZCksIG93bmVyMk9mKF90b2tlbklkKSwgcHJpY2UxT2YoX3Rva2VuSWQpLCBwcmljZTJPZihfdG9rZW5JZCksIGZyZWUxT2YoX3Rva2VuSWQpLCBmcmVlMk9mKF90b2tlbklkKSwgd2l0bmVzc09mKF90b2tlbklkKSk7CiAgfQogIAogIC8qIFV0aWwgKi8KICBmdW5jdGlvbiBpc0NvbnRyYWN0KGFkZHJlc3MgYWRkcikgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICB1aW50IHNpemU7CiAgICBhc3NlbWJseSB7IHNpemUgOj0gZXh0Y29kZXNpemUoYWRkcikgfSAvLyBzb2xpdW0tZGlzYWJsZS1saW5lCiAgICByZXR1cm4gc2l6ZSA+IDA7CiAgfQogIApmdW5jdGlvbiBqdWRnZSh1aW50MjU2IF90b2tlbklkLCBib29sIF9pc1AxV2luKSBvbmx5V2l0bmVzcyhfdG9rZW5JZCkgcHVibGljIHsKICAgIHJlcXVpcmUocHJpY2UyT2ZUb2tlbltfdG9rZW5JZF0gIT0gMCk7CiAgICByZXF1aXJlKG5vdyA+IGZyZWUyT2ZUb2tlbltfdG9rZW5JZF0pOwoKICAgIHVpbnQgcmV3YXJkID0gYmV0MU9mVG9rZW5bX3Rva2VuSWRdICsgYmV0Mk9mVG9rZW5bX3Rva2VuSWRdOwogICAgcmV3YXJkIC09IGNhbGN1bGF0ZURldkN1dChyZXdhcmQpOwogICAgaWYgKF9pc1AxV2luID09IHRydWUpIHsKICAgICAgcDFPZlRva2VuW190b2tlbklkXS50cmFuc2ZlcihyZXdhcmQubXVsKGJldDFPZlRva2VuW190b2tlbklkXSkuZGl2KGJldDFPZlRva2VuW190b2tlbklkXSArIHByaWNlMU9mVG9rZW5bX3Rva2VuSWRdKSk7CiAgICAgIG93bmVyMU9mVG9rZW5bX3Rva2VuSWRdLnRyYW5zZmVyKHJld2FyZC5tdWwocHJpY2UxT2ZUb2tlbltfdG9rZW5JZF0pLmRpdihiZXQxT2ZUb2tlbltfdG9rZW5JZF0gKyBwcmljZTFPZlRva2VuW190b2tlbklkXSkpOwogICAgfSBlbHNlIHsKICAgICAgcDJPZlRva2VuW190b2tlbklkXS50cmFuc2ZlcihyZXdhcmQubXVsKGJldDJPZlRva2VuW190b2tlbklkXSkuZGl2KGJldDJPZlRva2VuW190b2tlbklkXSArIHByaWNlMk9mVG9rZW5bX3Rva2VuSWRdKSk7CiAgICAgIG93bmVyMk9mVG9rZW5bX3Rva2VuSWRdLnRyYW5zZmVyKHJld2FyZC5tdWwocHJpY2UyT2ZUb2tlbltfdG9rZW5JZF0pLmRpdihiZXQyT2ZUb2tlbltfdG9rZW5JZF0gKyBwcmljZTJPZlRva2VuW190b2tlbklkXSkpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gYWNjZXB0MSh1aW50MjU2IF90b2tlbklkLCB1aW50MjU2IF9wcmljZTIpIHB1YmxpYyBwYXlhYmxlIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBwMk9mVG9rZW5bX3Rva2VuSWRdKTsKICAgIHJlcXVpcmUobXNnLnZhbHVlID49IGJldDJPZlRva2VuW190b2tlbklkXSk7CiAgICByZXF1aXJlKF9wcmljZTIgPiAwKTsKICAgIHByaWNlMk9mVG9rZW5bX3Rva2VuSWRdID0gX3ByaWNlMjsKICB9CgogIGZ1bmN0aW9uIGFjY2VwdDIodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHBheWFibGUgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHAyT2ZUb2tlbltfdG9rZW5JZF0pOwogICAgcmVxdWlyZShtc2cudmFsdWUgPj0gYmV0MmRlbHRhT2ZUb2tlbltfdG9rZW5JZF0pOwogICAgYmV0Mk9mVG9rZW5bX3Rva2VuSWRdICs9IGJldDJkZWx0YU9mVG9rZW5bX3Rva2VuSWRdOwogICAgYmV0MWRlbHRhT2ZUb2tlbltfdG9rZW5JZF0gPSBiZXQyZGVsdGFPZlRva2VuW190b2tlbklkXSA9IDA7CiAgfQoKICBmdW5jdGlvbiBjYW5jZWwxKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gcDFPZlRva2VuW190b2tlbklkXSk7CiAgICByZXF1aXJlKHByaWNlMk9mVG9rZW5bX3Rva2VuSWRdID09IDApOwogICAgbXNnLnNlbmRlci50cmFuc2ZlcihiZXQxT2ZUb2tlbltfdG9rZW5JZF0pOwogIH0KICAKICBmdW5jdGlvbiBjYW5jZWwyKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gcDFPZlRva2VuW190b2tlbklkXSk7CiAgICByZXF1aXJlKGJldDFkZWx0YU9mVG9rZW5bX3Rva2VuSWRdICE9IDApOwogICAgbXNnLnNlbmRlci50cmFuc2ZlcihiZXQxZGVsdGFPZlRva2VuW190b2tlbklkXSk7CiAgICBiZXQxZGVsdGFPZlRva2VuW190b2tlbklkXSA9IDA7IAogIH0KICAKICBmdW5jdGlvbiBpc3N1ZVRva2VuKGFkZHJlc3MgcDIsIGFkZHJlc3Mgd2l0bmVzcywgdWludDI1NiBiZXQyLCB1aW50MjU2IHByaWNlMSwgdWludDI1NiBmcm96ZW4xLCB1aW50MjU2IGZyb3plbjIpIHBheWFibGUgcHVibGljIHsKICAgIHJlcXVpcmUobXNnLnZhbHVlID49IDEwMDApOwogICAgcmVxdWlyZSh3aXRuZXNzICE9IG1zZy5zZW5kZXIpOwogICAgcmVxdWlyZSh3aXRuZXNzICE9IHAyKTsKICAgIHJlcXVpcmUocHJpY2UxID4gMCk7CiAgICB1aW50IGkgPSBsaXN0ZWRUb2tlbnMubGVuZ3RoOwogICAgYmV0MU9mVG9rZW5baV0gPSBtc2cudmFsdWU7CiAgICBiZXQyT2ZUb2tlbltpXSA9IGJldDI7CiAgICB3aXRuZXNzT2ZUb2tlbltpXSA9IHdpdG5lc3M7CiAgICBwMU9mVG9rZW5baV0gPSBvd25lcjFPZlRva2VuW2ldID0gbXNnLnNlbmRlcjsgIAogICAgcDJPZlRva2VuW2ldID0gb3duZXIyT2ZUb2tlbltpXSA9IHAyOyAgICAKICAgIHByaWNlMU9mVG9rZW5baV0gPSBwcmljZTE7CiAgICBmcmVlMU9mVG9rZW5baV0gPSBub3cgKyBmcm96ZW4xOwogICAgZnJlZTJPZlRva2VuW2ldID0gbm93ICsgZnJvemVuMSArIGZyb3plbjI7CiAgICBsaXN0ZWRUb2tlbnMucHVzaChpKTsKICB9CgogIGZ1bmN0aW9uIGFkZEJldCh1aW50MjU2IF90b2tlbklkLCB1aW50MjU2IF9iZXQyZGVsdGEpIHB1YmxpYyBwYXlhYmxlIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBwMU9mVG9rZW5bX3Rva2VuSWRdKTsKICAgIGJldDFkZWx0YU9mVG9rZW5bX3Rva2VuSWRdID0gbXNnLnZhbHVlOwogICAgYmV0MmRlbHRhT2ZUb2tlbltfdG9rZW5JZF0gPSBfYmV0MmRlbHRhOwogIH0KfQ=='.
	

]
