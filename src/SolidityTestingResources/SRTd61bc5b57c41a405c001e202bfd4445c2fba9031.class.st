Class {
	#name : #SRTd61bc5b57c41a405c001e202bfd4445c2fba9031,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd61bc5b57c41a405c001e202bfd4445c2fba9031 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjsKCi8vLyBJbXBsZW1lbnRzIEVSQyAyMCBUb2tlbiBzdGFuZGFyZDogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCi8vLyBAdGl0bGUgQWJzdHJhY3QgdG9rZW4gY29udHJhY3QgLSBGdW5jdGlvbnMgdG8gYmUgaW1wbGVtZW50ZWQgYnkgdG9rZW4gY29udHJhY3RzLgoKY29udHJhY3QgQWJzdHJhY3RUb2tlbiB7CiAgICAvLyBUaGlzIGlzIG5vdCBhbiBhYnN0cmFjdCBmdW5jdGlvbiwgYmVjYXVzZSBzb2xjIHdvbid0IHJlY29nbml6ZSBnZW5lcmF0ZWQgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgcHVibGljIHZhcmlhYmxlcyBhcyBmdW5jdGlvbnMKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpIHt9CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBvd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgQWJzdHJhY3RUb2tlbiB7CgogICAgLyoKICAgICAqICBEYXRhIHN0cnVjdHVyZXMKICAgICAqLwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIC8qCiAgICAgKiAgUmVhZCBhbmQgd3JpdGUgc3RvcmFnZSBmdW5jdGlvbnMKICAgICAqLwogICAgLy8vIEBkZXYgVHJhbnNmZXJzIHNlbmRlcidzIHRva2VucyB0byBhIGdpdmVuIGFkZHJlc3MuIFJldHVybnMgc3VjY2Vzcy4KICAgIC8vLyBAcGFyYW0gX3RvIEFkZHJlc3Mgb2YgdG9rZW4gcmVjZWl2ZXIuCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyLgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLy8vIEBkZXYgQWxsb3dzIGFsbG93ZWQgdGhpcmQgcGFydHkgdG8gdHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlci4gUmV0dXJucyBzdWNjZXNzLgogICAgLy8vIEBwYXJhbSBfZnJvbSBBZGRyZXNzIGZyb20gd2hlcmUgdG9rZW5zIGFyZSB3aXRoZHJhd24uCiAgICAvLy8gQHBhcmFtIF90byBBZGRyZXNzIHRvIHdoZXJlIHRva2VucyBhcmUgc2VudC4KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIE51bWJlciBvZiB0b2tlbnMgdG8gdHJhbnNmZXIuCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCkgewogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLy8vIEBkZXYgUmV0dXJucyBudW1iZXIgb2YgdG9rZW5zIG93bmVkIGJ5IGdpdmVuIGFkZHJlc3MuCiAgICAvLy8gQHBhcmFtIF9vd25lciBBZGRyZXNzIG9mIHRva2VuIG93bmVyLgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICAvLy8gQGRldiBTZXRzIGFwcHJvdmVkIGFtb3VudCBvZiB0b2tlbnMgZm9yIHNwZW5kZXIuIFJldHVybnMgc3VjY2Vzcy4KICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgQWRkcmVzcyBvZiBhbGxvd2VkIGFjY291bnQuCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgYXBwcm92ZWQgdG9rZW5zLgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoKICAgICAqIFJlYWQgc3RvcmFnZSBmdW5jdGlvbnMKICAgICAqLwogICAgLy8vIEBkZXYgUmV0dXJucyBudW1iZXIgb2YgYWxsb3dlZCB0b2tlbnMgZm9yIGdpdmVuIGFkZHJlc3MuCiAgICAvLy8gQHBhcmFtIF9vd25lciBBZGRyZXNzIG9mIHRva2VuIG93bmVyLgogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBBZGRyZXNzIG9mIHRva2VuIHNwZW5kZXIuCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKfQoKCi8vLyBAdGl0bGUgVG9rZW4gY29udHJhY3QgLSBJbXBsZW1lbnRzIFN0YW5kYXJkIFRva2VuIEludGVyZmFjZSB3aXRoIEh1bWFuaVEgZmVhdHVyZXMuCi8vLyBAYXV0aG9yIEV2Z2VueSBZdXJ0YWV2IC0gPDxhIGhyZWY9Ii9jZG4tY2dpL2wvZW1haWwtcHJvdGVjdGlvbiIgY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSI5ZWZiZThmOWZiZjBlN2RlZmJlYWY2ZmJlY2Y3ZjFmMGYyZmZmY2IwZmRmMWYzIj5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9hPj4KY29udHJhY3QgSHVtYW5pcVRva2VuIGlzIFN0YW5kYXJkVG9rZW4gewoKICAgIC8qCiAgICAgKiBFeHRlcm5hbCBjb250cmFjdHMKICAgICAqLwogICAgYWRkcmVzcyBwdWJsaWMgZW1pc3Npb25Db250cmFjdEFkZHJlc3MgPSAweDA7CgogICAgLyoKICAgICAqIFRva2VuIG1ldGEgZGF0YQogICAgICovCiAgICBzdHJpbmcgY29uc3RhbnQgcHVibGljIG5hbWUgPSAiSHVtYW5pUSI7CiAgICBzdHJpbmcgY29uc3RhbnQgcHVibGljIHN5bWJvbCA9ICJITVEiOwogICAgdWludDggY29uc3RhbnQgcHVibGljIGRlY2ltYWxzID0gMDsKCiAgICBhZGRyZXNzIHB1YmxpYyBmb3VuZGVyID0gMHgwOwogICAgYm9vbCBsb2NrZWQgPSB0cnVlOwogICAgLyoKICAgICAqIE1vZGlmaWVycwogICAgICovCiAgICBtb2RpZmllciBvbmx5Rm91bmRlcigpIHsKICAgICAgICAvLyBPbmx5IGZvdW5kZXIgaXMgYWxsb3dlZCB0byBkbyB0aGlzIGFjdGlvbi4KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBmb3VuZGVyKSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIGlzQ3Jvd2RmdW5kaW5nQ29udHJhY3QoKSB7CiAgICAgICAgLy8gT25seSBlbWlzc2lvbiBhZGRyZXNzIGlzIGFsbG93ZWQgdG8gcHJvY2VlZC4KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBlbWlzc2lvbkNvbnRyYWN0QWRkcmVzcykgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciB1bmxvY2tlZCgpIHsKICAgICAgICAvLyBPbmx5IHdoZW4gdHJhbnNmZXJyaW5nIGNvaW5zIGlzIGVuYWJsZWQuCiAgICAgICAgaWYgKGxvY2tlZCA9PSB0cnVlKSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgICAgICBfOwogICAgfQoKICAgIC8qCiAgICAgKiBDb250cmFjdCBmdW5jdGlvbnMKICAgICAqLwoKICAgIC8vLyBAZGV2IENyb3dkZnVuZGluZyBjb250cmFjdCBpc3N1ZXMgbmV3IHRva2VucyBmb3IgYWRkcmVzcy4gUmV0dXJucyBzdWNjZXNzLgogICAgLy8vIEBwYXJhbSBfZm9yIEFkZHJlc3Mgb2YgcmVjZWl2ZXIuCiAgICAvLy8gQHBhcmFtIHRva2VuQ291bnQgTnVtYmVyIG9mIHRva2VucyB0byBpc3N1ZS4KICAgIGZ1bmN0aW9uIGlzc3VlVG9rZW5zKGFkZHJlc3MgX2ZvciwgdWludCB0b2tlbkNvdW50KQogICAgICAgIGV4dGVybmFsCiAgICAgICAgcGF5YWJsZQogICAgICAgIGlzQ3Jvd2RmdW5kaW5nQ29udHJhY3QKICAgICAgICByZXR1cm5zIChib29sKQogICAgewogICAgICAgIGlmICh0b2tlbkNvdW50ID09IDApIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBiYWxhbmNlc1tfZm9yXSArPSB0b2tlbkNvdW50OwogICAgICAgIHRvdGFsU3VwcGx5ICs9IHRva2VuQ291bnQ7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKQogICAgICAgIHVubG9ja2VkCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQogICAgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkKICAgICAgICB1bmxvY2tlZAogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykKICAgIHsKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgLy8vIEBkZXYgRnVuY3Rpb24gdG8gY2hhbmdlIGFkZHJlc3MgdGhhdCBpcyBhbGxvd2VkIHRvIGRvIGVtaXNzaW9uLgogICAgLy8vIEBwYXJhbSBuZXdBZGRyZXNzIEFkZHJlc3Mgb2YgbmV3IGVtaXNzaW9uIGNvbnRyYWN0LgogICAgZnVuY3Rpb24gY2hhbmdlRW1pc3Npb25Db250cmFjdEFkZHJlc3MoYWRkcmVzcyBuZXdBZGRyZXNzKQogICAgICAgIGV4dGVybmFsCiAgICAgICAgb25seUZvdW5kZXIKICAgICAgICByZXR1cm5zIChib29sKQogICAgewogICAgICAgIGVtaXNzaW9uQ29udHJhY3RBZGRyZXNzID0gbmV3QWRkcmVzczsKICAgIH0KCiAgICAvLy8gQGRldiBGdW5jdGlvbiB0aGF0IGxvY2tzL3VubG9ja3MgdHJhbnNmZXJzIG9mIHRva2VuLgogICAgLy8vIEBwYXJhbSB2YWx1ZSBUcnVlL0ZhbHNlCiAgICBmdW5jdGlvbiBsb2NrKGJvb2wgdmFsdWUpCiAgICAgICAgZXh0ZXJuYWwKICAgICAgICBvbmx5Rm91bmRlcgogICAgewogICAgICAgIGxvY2tlZCA9IHZhbHVlOwogICAgfQoKICAgIC8vLyBAZGV2IENvbnRyYWN0IGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHNldHMgaW5pdGlhbCB0b2tlbiBiYWxhbmNlcy4KICAgIC8vLyBAcGFyYW0gX2ZvdW5kZXIgQWRkcmVzcyBvZiB0aGUgZm91bmRlciBvZiBIdW1hbmlRLgogICAgZnVuY3Rpb24gSHVtYW5pcVRva2VuKGFkZHJlc3MgX2ZvdW5kZXIpCiAgICB7CiAgICAgICAgdG90YWxTdXBwbHkgPSAwOwogICAgICAgIGZvdW5kZXIgPSBfZm91bmRlcjsKICAgIH0KfQoKCi8vLyBAdGl0bGUgSHVtYW5pcUlDTyBjb250cmFjdCAtIFRha2VzIGZ1bmRzIGZyb20gdXNlcnMgYW5kIGlzc3VlcyB0b2tlbnMuCi8vLyBAYXV0aG9yIEV2Z2VueSBZdXJ0YWV2IC0gPDxhIGhyZWY9Ii9jZG4tY2dpL2wvZW1haWwtcHJvdGVjdGlvbiIgY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSI0NTIwMzMyMjIwMmIzYzA1MjAzMTJkMjAzNzJjMmEyYjI5MjQyNzZiMjYyYTI4Ij5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9hPj4KY29udHJhY3QgSHVtYW5pcUlDTyB7CgogICAgLyoKICAgICAqIEV4dGVybmFsIGNvbnRyYWN0cwogICAgICovCiAgICBIdW1hbmlxVG9rZW4gcHVibGljIGh1bWFuaXFUb2tlbjsKCiAgICAvKgogICAgICogQ3Jvd2RmdW5kaW5nIHBhcmFtZXRlcnMKICAgICAqLwogICAgdWludCBjb25zdGFudCBwdWJsaWMgQ1JPV0RGVU5ESU5HX1BFUklPRCA9IDMgd2Vla3M7CgogICAgLyoKICAgICAqICBTdG9yYWdlCiAgICAgKi8KICAgIGFkZHJlc3MgcHVibGljIGZvdW5kZXI7CiAgICBhZGRyZXNzIHB1YmxpYyBtdWx0aXNpZzsKICAgIHVpbnQgcHVibGljIHN0YXJ0RGF0ZSA9IDA7CiAgICB1aW50IHB1YmxpYyBpY29CYWxhbmNlID0gMDsKICAgIHVpbnQgcHVibGljIGNvaW5zSXNzdWVkID0gMDsKICAgIHVpbnQgcHVibGljIGJhc2VUb2tlblByaWNlID0gMSBmaW5uZXk7IC8vIDAuMDAxIEVUSAogICAgdWludCBwdWJsaWMgZGlzY291bnRlZFByaWNlID0gYmFzZVRva2VuUHJpY2U7CiAgICBib29sIHB1YmxpYyBpc0lDT0FjdGl2ZSA9IGZhbHNlOwoKICAgIC8vIHBhcnRpY2lwYW50IGFkZHJlc3MgPT4gdmFsdWUgaW4gV2VpCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBpbnZlc3RtZW50czsKCiAgICAvKgogICAgICogIE1vZGlmaWVycwogICAgICovCiAgICBtb2RpZmllciBvbmx5Rm91bmRlcigpIHsKICAgICAgICAvLyBPbmx5IGZvdW5kZXIgaXMgYWxsb3dlZCB0byBkbyB0aGlzIGFjdGlvbi4KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBmb3VuZGVyKSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG1pbkludmVzdG1lbnQoKSB7CiAgICAgICAgLy8gVXNlciBoYXMgdG8gc2VuZCBhdCBsZWFzdCB0aGUgZXRoZXIgdmFsdWUgb2Ygb25lIHRva2VuLgogICAgICAgIGlmIChtc2cudmFsdWUgPCBiYXNlVG9rZW5QcmljZSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBpY29BY3RpdmUoKSB7CiAgICAgICAgaWYgKGlzSUNPQWN0aXZlID09IGZhbHNlKSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgICAgICBfOwogICAgfQoKICAgIC8vLyBAZGV2IFJldHVybnMgY3VycmVudCBib251cwogICAgZnVuY3Rpb24gZ2V0Q3VycmVudEJvbnVzKCkKICAgICAgICBwdWJsaWMKICAgICAgICBjb25zdGFudAogICAgICAgIHJldHVybnMgKHVpbnQpCiAgICB7CiAgICAgICAgcmV0dXJuIGdldEJvbnVzKG5vdyk7CiAgICB9CgogICAgLy8vIEBkZXYgUmV0dXJucyBib251cyBmb3IgdGhlIHNwZWNpZmljIG1vbWVudAogICAgLy8vIEBwYXJhbSB0aW1lc3RhbXAgVGltZSBvZiBpbnZlc3RtZW50IChpbiBzZWNvbmRzKQogICAgZnVuY3Rpb24gZ2V0Qm9udXModWludCB0aW1lc3RhbXApCiAgICAgICAgcHVibGljCiAgICAgICAgY29uc3RhbnQKICAgICAgICByZXR1cm5zICh1aW50KQogICAgewoKICAgICAgICBpZiAodGltZXN0YW1wIDwgc3RhcnREYXRlKSB7CiAgICAgICAgICAgIHJldHVybiAxNDk5OyAvLyA0OS45JQogICAgICAgIH0KCiAgICAgICAgdWludCBpY29EdXJhdGlvbiA9IHRpbWVzdGFtcCAtIHN0YXJ0RGF0ZTsKICAgICAgICBpZiAoaWNvRHVyYXRpb24gPj0gMTYgZGF5cykgewogICAgICAgICAgICByZXR1cm4gMTAwMDsgIC8vIDAlCiAgICAgICAgfSBlbHNlIGlmIChpY29EdXJhdGlvbiA+PSA5IGRheXMpIHsKICAgICAgICAgICAgcmV0dXJuIDExMjU7ICAvLyAxMi41JQogICAgICAgIH0gZWxzZSBpZiAoaWNvRHVyYXRpb24gPj0gMiBkYXlzKSB7CiAgICAgICAgICAgIHJldHVybiAxMjUwOyAgLy8gMjUlCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIDE0OTk7ICAvLyA0OS45JQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBjYWxjdWxhdGVUb2tlbnModWludCBpbnZlc3RtZW50LCB1aW50IHRpbWVzdGFtcCkKICAgICAgICBwdWJsaWMKICAgICAgICBjb25zdGFudAogICAgICAgIHJldHVybnMgKHVpbnQpCiAgICB7CiAgICAgICAgLy8gY2FsY3VsYXRlIGRpc2NvdW50ZWRQcmljZQogICAgICAgIGRpc2NvdW50ZWRQcmljZSA9IChiYXNlVG9rZW5QcmljZSAqIDEwMDApIC8gZ2V0Qm9udXModGltZXN0YW1wKTsKCiAgICAgICAgLy8gVG9rZW4gY291bnQgaXMgcm91bmRlZCBkb3duLiBTZW50IEVUSCBzaG91bGQgYmUgbXVsdGlwbGVzIG9mIGJhc2VUb2tlblByaWNlLgogICAgICAgIHJldHVybiBpbnZlc3RtZW50IC8gZGlzY291bnRlZFByaWNlOwogICAgfQoKICAgIC8vLyBAZGV2IElzc3VlcyB0b2tlbnMKICAgIC8vLyBAcGFyYW0gYmVuZWZpY2lhcnkgQWRkcmVzcyB0aGUgdG9rZW5zIHdpbGwgYmUgaXNzdWVkIHRvLgogICAgLy8vIEBwYXJhbSBpbnZlc3RtZW50IEludmVzdGVkIGFtb3VudCBpbiBXZWkKICAgIC8vLyBAcGFyYW0gdGltZXN0YW1wIFRpbWUgb2YgaW52ZXN0bWVudCAoaW4gc2Vjb25kcykKICAgIC8vLyBAcGFyYW0gc2VuZFRvRm91bmRlcnMgV2hldGhlciB0byBzZW5kIHJlY2VpdmVkIGV0aGVycyB0byBtdWx0aXNpZyBhZGRyZXNzIG9yIG5vdAogICAgZnVuY3Rpb24gaXNzdWVUb2tlbnMoYWRkcmVzcyBiZW5lZmljaWFyeSwgdWludCBpbnZlc3RtZW50LCB1aW50IHRpbWVzdGFtcCwgYm9vbCBzZW5kVG9Gb3VuZGVycykKICAgICAgICBwcml2YXRlCiAgICAgICAgcmV0dXJucyAodWludCkKICAgIHsKICAgICAgICB1aW50IHRva2VuQ291bnQgPSBjYWxjdWxhdGVUb2tlbnMoaW52ZXN0bWVudCwgdGltZXN0YW1wKTsKCiAgICAgICAgLy8gRXRoZXIgc3BlbnQgYnkgdXNlci4KICAgICAgICB1aW50IHJvdW5kZWRJbnZlc3RtZW50ID0gdG9rZW5Db3VudCAqIGRpc2NvdW50ZWRQcmljZTsKCiAgICAgICAgLy8gU2VuZCBjaGFuZ2UgYmFjayB0byB1c2VyLgogICAgICAgIGlmIChzZW5kVG9Gb3VuZGVycyAmJiBpbnZlc3RtZW50ID4gcm91bmRlZEludmVzdG1lbnQgJiYgIWJlbmVmaWNpYXJ5LnNlbmQoaW52ZXN0bWVudCAtIHJvdW5kZWRJbnZlc3RtZW50KSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CgogICAgICAgIC8vIFVwZGF0ZSBmdW5kJ3MgYW5kIHVzZXIncyBiYWxhbmNlIGFuZCB0b3RhbCBzdXBwbHkgb2YgdG9rZW5zLgogICAgICAgIGljb0JhbGFuY2UgKz0gaW52ZXN0bWVudDsKICAgICAgICBjb2luc0lzc3VlZCArPSB0b2tlbkNvdW50OwogICAgICAgIGludmVzdG1lbnRzW2JlbmVmaWNpYXJ5XSArPSByb3VuZGVkSW52ZXN0bWVudDsKCiAgICAgICAgLy8gU2VuZCBmdW5kcyB0byBmb3VuZGVycyBpZiBpbnZlc3RtZW50IHdhcyBtYWRlCiAgICAgICAgaWYgKHNlbmRUb0ZvdW5kZXJzICYmICFtdWx0aXNpZy5zZW5kKHJvdW5kZWRJbnZlc3RtZW50KSkgewogICAgICAgICAgICAvLyBDb3VsZCBub3Qgc2VuZCBtb25leQogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CgogICAgICAgIGlmICghaHVtYW5pcVRva2VuLmlzc3VlVG9rZW5zKGJlbmVmaWNpYXJ5LCB0b2tlbkNvdW50KSkgewogICAgICAgICAgICAvLyBUb2tlbnMgY291bGQgbm90IGJlIGlzc3VlZC4KICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdG9rZW5Db3VudDsKICAgIH0KCiAgICAvLy8gQGRldiBBbGxvd3MgdXNlciB0byBjcmVhdGUgdG9rZW5zIGlmIHRva2VuIGNyZWF0aW9uIGlzIHN0aWxsIGdvaW5nCiAgICAvLy8gYW5kIGNhcCB3YXMgbm90IHJlYWNoZWQuIFJldHVybnMgdG9rZW4gY291bnQuCiAgICBmdW5jdGlvbiBmdW5kKCkKICAgICAgICBwdWJsaWMKICAgICAgICBpY29BY3RpdmUKICAgICAgICBtaW5JbnZlc3RtZW50CiAgICAgICAgcGF5YWJsZQogICAgICAgIHJldHVybnMgKHVpbnQpCiAgICB7CiAgICAgICAgcmV0dXJuIGlzc3VlVG9rZW5zKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgbm93LCB0cnVlKTsKICAgIH0KCiAgICAvLy8gQGRldiBJc3N1ZXMgdG9rZW5zIGZvciB1c2VycyB3aG8gbWFkZSBCVEMgcHVyY2hhc2VzLgogICAgLy8vIEBwYXJhbSBiZW5lZmljaWFyeSBBZGRyZXNzIHRoZSB0b2tlbnMgd2lsbCBiZSBpc3N1ZWQgdG8uCiAgICAvLy8gQHBhcmFtIGludmVzdG1lbnQgSW52ZXN0ZWQgYW1vdW50IGluIFdlaQogICAgLy8vIEBwYXJhbSB0aW1lc3RhbXAgVGltZSBvZiBpbnZlc3RtZW50IChpbiBzZWNvbmRzKQogICAgZnVuY3Rpb24gZml4SW52ZXN0bWVudChhZGRyZXNzIGJlbmVmaWNpYXJ5LCB1aW50IGludmVzdG1lbnQsIHVpbnQgdGltZXN0YW1wKQogICAgICAgIGV4dGVybmFsCiAgICAgICAgaWNvQWN0aXZlCiAgICAgICAgb25seUZvdW5kZXIKICAgICAgICByZXR1cm5zICh1aW50KQogICAgewogICAgICAgIGlmICh0aW1lc3RhbXAgPT0gMCkgewogICAgICAgICAgICByZXR1cm4gaXNzdWVUb2tlbnMoYmVuZWZpY2lhcnksIGludmVzdG1lbnQsIG5vdywgZmFsc2UpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGlzc3VlVG9rZW5zKGJlbmVmaWNpYXJ5LCBpbnZlc3RtZW50LCB0aW1lc3RhbXAsIGZhbHNlKTsKICAgIH0KCiAgICAvLy8gQGRldiBJZiBJQ08gaGFzIHN1Y2Nlc3NmdWxseSBmaW5pc2hlZCBzZW5kcyB0aGUgbW9uZXkgdG8gbXVsdGlzaWcKICAgIC8vLyB3YWxsZXQuCiAgICBmdW5jdGlvbiBmaW5pc2hDcm93ZHNhbGUoKQogICAgICAgIGV4dGVybmFsCiAgICAgICAgb25seUZvdW5kZXIKICAgICAgICByZXR1cm5zIChib29sKQogICAgewogICAgICAgIGlmIChpc0lDT0FjdGl2ZSA9PSB0cnVlKSB7CiAgICAgICAgICAgIGlzSUNPQWN0aXZlID0gZmFsc2U7CiAgICAgICAgICAgIC8vIEZvdW5kZXJzIHJlY2VpdmUgMTQlIG9mIGFsbCBjcmVhdGVkIHRva2Vucy4KICAgICAgICAgICAgIHVpbnQgZm91bmRlckJvbnVzID0gKGNvaW5zSXNzdWVkICogMTQpIC8gODY7CiAgICAgICAgICAgICBpZiAoIWh1bWFuaXFUb2tlbi5pc3N1ZVRva2VucyhtdWx0aXNpZywgZm91bmRlckJvbnVzKSkgewogICAgICAgICAgICAgICAgIC8vIFRva2VucyBjb3VsZCBub3QgYmUgaXNzdWVkLgogICAgICAgICAgICAgICAgIHRocm93OwogICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvLy8gQGRldiBTZXRzIHRva2VuIHZhbHVlIGluIFdlaS4KICAgIC8vLyBAcGFyYW0gdmFsdWVJbldlaSBOZXcgdmFsdWUuCiAgICBmdW5jdGlvbiBjaGFuZ2VCYXNlVG9rZW5QcmljZSh1aW50IHZhbHVlSW5XZWkpCiAgICAgICAgZXh0ZXJuYWwKICAgICAgICBvbmx5Rm91bmRlcgogICAgICAgIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgYmFzZVRva2VuUHJpY2UgPSB2YWx1ZUluV2VpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAZGV2IEZ1bmN0aW9uIHRoYXQgYWN0aXZhdGVzIElDTy4KICAgIGZ1bmN0aW9uIHN0YXJ0SUNPKCkKICAgICAgICBleHRlcm5hbAogICAgICAgIG9ubHlGb3VuZGVyCiAgICB7CiAgICAgICAgaWYgKGlzSUNPQWN0aXZlID09IGZhbHNlICYmIHN0YXJ0RGF0ZSA9PSAwKSB7CiAgICAgICAgICAvLyBTdGFydCBJQ08KICAgICAgICAgIGlzSUNPQWN0aXZlID0gdHJ1ZTsKICAgICAgICAgIC8vIFNldCBzdGFydC1kYXRlIG9mIHRva2VuIGNyZWF0aW9uCiAgICAgICAgICBzdGFydERhdGUgPSBub3c7CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBAZGV2IENvbnRyYWN0IGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHNldHMgZm91bmRlciBhbmQgbXVsdGlzaWcgYWRkcmVzc2VzLgogICAgZnVuY3Rpb24gSHVtYW5pcUlDTyhhZGRyZXNzIF9mb3VuZGVyLCBhZGRyZXNzIF9tdWx0aXNpZywgYWRkcmVzcyB0b2tlbl9hZGRyZXNzKSB7CiAgICAgICAgLy8gU2V0IGZvdW5kZXIgYWRkcmVzcwogICAgICAgIGZvdW5kZXIgPSBfZm91bmRlcjsKICAgICAgICAvLyBTZXQgbXVsdGlzaWcgYWRkcmVzcwogICAgICAgIG11bHRpc2lnID0gX211bHRpc2lnOwogICAgICAgIC8vIFNldCB0b2tlbiBhZGRyZXNzCiAgICAgICAgaHVtYW5pcVRva2VuID0gSHVtYW5pcVRva2VuKHRva2VuX2FkZHJlc3MpOwogICAgfQoKICAgIC8vLyBAZGV2IEZhbGxiYWNrIGZ1bmN0aW9uLiBDYWxscyBmdW5kKCkgZnVuY3Rpb24gdG8gY3JlYXRlIHRva2Vucy4KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgewogICAgICAgIGZ1bmQoKTsKICAgIH0KfQ=='.
	

]
