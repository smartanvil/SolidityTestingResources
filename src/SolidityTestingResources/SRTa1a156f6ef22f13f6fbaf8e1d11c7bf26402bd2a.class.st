Class {
	#name : #SRTa1a156f6ef22f13f6fbaf8e1d11c7bf26402bd2a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTa1a156f6ef22f13f6fbaf8e1d11c7bf26402bd2a >> base64 [
	^ 'LyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IEVSQzIwIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKICAgIAp9CgoKY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMCB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgogICAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CiAgICAKCiAgICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgdWludDI1NiBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQp9CgoKICAgIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLiAKICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CgogICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAvLyAgYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgcmVxdWlyZSgoX3ZhbHVlID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CgogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKCn0KCgpjb250cmFjdCBTUENUb2tlbiBpcyBCYXNpY1Rva2VuIHsKCnVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKc3RyaW5nIHB1YmxpYyBuYW1lID0gIlNlY3VyaXR5UGx1c0Nsb3VkIFRva2VuIjsgICAgICAgICAgICAgIC8vbmFtZSBvZiB0aGUgdG9rZW4Kc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiU1BDIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN5bWJvbCBvZiB0aGUgdG9rZW4KdWludDggcHVibGljIGRlY2ltYWxzID0gMTg7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlY2ltYWxzCnVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5ID0gNTAwMDAwMDAwICogMTAqKjE4OyAgICAgICAgICAgICAvLyB0b3RhbCBzdXBwbHkgb2YgU1BDIFRva2VucyAgCgovLyB2YXJpYWJsZXMKdWludDI1NiBwdWJsaWMga2V5RW1wbG95ZWVzQWxsb2NhdGlvbjsgICAgICAgICAgICAgIC8vIGZ1bmQgYWxsb2NhdGVkIHRvIGtleSBlbXBsb3llZXMgCnVpbnQyNTYgcHVibGljIGJvdW50aWVzQWxsb2NhdGlvbjsgICAgICAgICAgICAgICAgICAvLyBmdW5kIGFsbG9jYXRlZCB0byBhZHZpc29ycyAKdWludDI1NiBwdWJsaWMgbG9uZ1Rlcm1CdWRnZXRBbGxvY2F0aW9uOyAgICAgICAgICAgIC8vIGZ1bmQgYWxsb2NhdGVkIHRvIE1hcmtldCAKdWludDI1NiBwdWJsaWMgYm9udXNBbGxvY2F0aW9uOyAgICAgICAgICAgICAgICAgICAgIC8vIGZ1bmRzIGFsbG9jYXRlZCB0byBmb3VuZGVycyB0aGF0IGluIHVuZGVyIHZlc3RpbmcgcGVyaW9kCnVpbnQyNTYgcHVibGljIHRvdGFsQWxsb2NhdGVkVG9rZW5zOyAgICAgICAgICAgICAgICAvLyB2YXJpYWJsZSB0byBrZWVwIHRyYWNrIG9mIGZ1bmRzIGFsbG9jYXRlZAp1aW50MjU2IHB1YmxpYyB0b2tlbnNBbGxvY2F0ZWRUb0Nyb3dkRnVuZDsgICAgICAgICAgLy8gZnVuZHMgYWxsb2NhdGVkIHRvIGNyb3dkZnVuZAoKLy8gYWRkcmVzc2VzCi8vIG11bHRpIHNpZ24gYWRkcmVzcyBvZiBmb3VuZGVycyB3aGljaCBob2xkIAphZGRyZXNzIHB1YmxpYyBmb3VuZGVyTXVsdGlTaWdBZGRyZXNzID0gMHg3MGIwZWEwNThhZWU4NDUzNDJCMDlmMTc2OWEyYkU4ZGVCNDZhQTg2OyAgICAgCmFkZHJlc3MgcHVibGljIGNyb3dkRnVuZEFkZHJlc3M7ICAgICAgICAgICAgICAgICAgICAvLyBhZGRyZXNzIG9mIGNyb3dkZnVuZCBjb250cmFjdAphZGRyZXNzIHB1YmxpYyBvd25lcjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3duZXIgb2YgdGhlIGNvbnRyYWN0Ci8vIGJvbnVzIGZ1bmRzIGdldCBhbGxvY2F0ZWQgdG8gYmVsb3cgYWRkcmVzcwphZGRyZXNzIHB1YmxpYyBib251c0FsbG9jQWRkcmVzcyA9IDB4OTU4MTcxMTlCNThEMTk1QzEwYTkzNURlNmZBNDE0MWMyNjQ3QWE1NjsKLy8gQWRkcmVzcyB0byBhbGxvY2F0ZSB0aGUgYm91bnRpZXMKYWRkcmVzcyBwdWJsaWMgYm91bnRpZXNBbGxvY0FkZHJlc3MgPSAweDYyNzJBNzUyMWM2MGRFNjJhQmMwNDhmN0I0MEY2MWY3NzVCMzJkNzg7Ci8vIEFkZHJlc3MgdG8gYWxsb2NhdGUgdGhlIExUQgphZGRyZXNzIHB1YmxpYyBsb25nVGVybWJ1ZGdldEFsbG9jQWRkcmVzcyA9IDB4MDBhNjg1OGZlMjZjMzI2YzY2NGE2QjY0OTllNDdENzJlOTg0MDJCYjsKCi8vZXZlbnRzCgpldmVudCBDaGFuZ2VGb3VuZGVyc1dhbGxldEFkZHJlc3ModWludDI1NiAgX2Jsb2NrVGltZVN0YW1wLCBhZGRyZXNzIGluZGV4ZWQgX2ZvdW5kZXJzV2FsbGV0QWRkcmVzcyk7CgovL21vZGlmaWVycwoKICBtb2RpZmllciBvbmx5Q3Jvd2RGdW5kQWRkcmVzcygpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBjcm93ZEZ1bmRBZGRyZXNzKTsKICAgIF87CiAgfQoKICBtb2RpZmllciBub25aZXJvQWRkcmVzcyhhZGRyZXNzIF90bykgewogICAgcmVxdWlyZShfdG8gIT0gMHgwKTsKICAgIF87CiAgfQoKICBtb2RpZmllciBvbmx5Rm91bmRlcnMoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZm91bmRlck11bHRpU2lnQWRkcmVzcyk7CiAgICBfOwogIH0KCgogIAogICAvLyBjcmVhdGlvbiBvZiB0aGUgdG9rZW4gY29udHJhY3QgCiAgIGZ1bmN0aW9uIFNQQ1Rva2VuIChhZGRyZXNzIF9jcm93ZEZ1bmRBZGRyZXNzKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICBjcm93ZEZ1bmRBZGRyZXNzID0gX2Nyb3dkRnVuZEFkZHJlc3M7CgogICAgLy8gVG9rZW4gRGlzdHJpYnV0aW9uIAogICAga2V5RW1wbG95ZWVzQWxsb2NhdGlvbiA9IDUwICogMTAgKiogMjQ7ICAgICAgICAgICAvLyAxMCAlIGFsbG9jYXRpb24gb2YgdG90YWxTdXBwbHkgCiAgICBib3VudGllc0FsbG9jYXRpb24gPSAzNSAqIDEwICoqIDI0OyAgICAgICAgICAgICAgIC8vIDcgJSBhbGxvY2F0aW9uIG9mIHRvdGFsU3VwcGx5IAogICAgdG9rZW5zQWxsb2NhdGVkVG9Dcm93ZEZ1bmQgPSAyNSAqIDEwICoqIDI1OyAgICAgICAvLyA1MCAlIGFsbG9jYXRpb24gb2YgdG90YWxTdXBwbHkKICAgIGxvbmdUZXJtQnVkZ2V0QWxsb2NhdGlvbiA9IDEwICogMTAgKiogMjU7ICAgICAgICAgLy8gMjAgJSBhbGxvY2F0aW9uIG9mIHRvdGFsU3VwcGx5CiAgICBib251c0FsbG9jYXRpb24gPSA2NSAqIDEwICoqIDI0OyAgICAgICAgICAgICAgICAgIC8vIDEzICUgYWxsb2NhdGlvbiBvZiB0b3RhbFN1cHBseQoKICAgIC8vIEFzc2lnbmVkIGJhbGFuY2VzIHRvIHJlc3BlY3RpdmUgc3Rha2Vob2xkZXJzCiAgICBiYWxhbmNlc1tmb3VuZGVyTXVsdGlTaWdBZGRyZXNzXSA9IGtleUVtcGxveWVlc0FsbG9jYXRpb247CiAgICBiYWxhbmNlc1tjcm93ZEZ1bmRBZGRyZXNzXSA9IHRva2Vuc0FsbG9jYXRlZFRvQ3Jvd2RGdW5kOwogICAgYmFsYW5jZXNbYm9udXNBbGxvY0FkZHJlc3NdID0gYm9udXNBbGxvY2F0aW9uOwogICAgYmFsYW5jZXNbYm91bnRpZXNBbGxvY0FkZHJlc3NdID0gYm91bnRpZXNBbGxvY2F0aW9uOwogICAgYmFsYW5jZXNbbG9uZ1Rlcm1idWRnZXRBbGxvY0FkZHJlc3NdID0gbG9uZ1Rlcm1CdWRnZXRBbGxvY2F0aW9uOwoKICAgIHRvdGFsQWxsb2NhdGVkVG9rZW5zID0gYmFsYW5jZXNbZm91bmRlck11bHRpU2lnQWRkcmVzc10gKyBiYWxhbmNlc1tib251c0FsbG9jQWRkcmVzc10gKyBiYWxhbmNlc1tib3VudGllc0FsbG9jQWRkcmVzc10gKyBiYWxhbmNlc1tsb25nVGVybWJ1ZGdldEFsbG9jQWRkcmVzc107CiAgfQoKLy8gZnVuY3Rpb24gdG8ga2VlcCB0cmFjayBvZiB0aGUgdG90YWwgdG9rZW4gYWxsb2NhdGlvbgogIGZ1bmN0aW9uIGNoYW5nZVRvdGFsU3VwcGx5KHVpbnQyNTYgX2Ftb3VudCkgb25seUNyb3dkRnVuZEFkZHJlc3MgewogICAgdG90YWxBbGxvY2F0ZWRUb2tlbnMgKz0gX2Ftb3VudDsKICB9CgovLyBmdW5jdGlvbiB0byBjaGFuZ2UgZm91bmRlciBtdWx0aXNpZyB3YWxsZXQgYWRkcmVzcyAgICAgICAgICAgIAogIGZ1bmN0aW9uIGNoYW5nZUZvdW5kZXJNdWx0aVNpZ0FkZHJlc3MoYWRkcmVzcyBfbmV3Rm91bmRlck11bHRpU2lnQWRkcmVzcykgb25seUZvdW5kZXJzIG5vblplcm9BZGRyZXNzKF9uZXdGb3VuZGVyTXVsdGlTaWdBZGRyZXNzKSB7CiAgICBmb3VuZGVyTXVsdGlTaWdBZGRyZXNzID0gX25ld0ZvdW5kZXJNdWx0aVNpZ0FkZHJlc3M7CiAgICBDaGFuZ2VGb3VuZGVyc1dhbGxldEFkZHJlc3Mobm93LCBmb3VuZGVyTXVsdGlTaWdBZGRyZXNzKTsKICB9CgoKLy8gZmFsbGJhY2sgZnVuY3Rpb24gdG8gcmVzdHJpY3QgZGlyZWN0IHNlbmRpbmcgb2YgZXRoZXIKICBmdW5jdGlvbiAoKSB7CiAgICByZXZlcnQoKTsKICB9Cgp9CgoKCmNvbnRyYWN0IFNQQ0Nyb3dkRnVuZCB7CgogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CiAgICAKICAgIFNQQ1Rva2VuIHB1YmxpYyB0b2tlbjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUb2tlbiBjb250cmFjdCByZWZlcmVuY2UKCiAgICAvL3ZhcmlhYmxlcwogICAgdWludDI1NiBwdWJsaWMgcHJlU2FsZVN0YXJ0VGltZSA9IDE1MDk0OTQ0MDE7ICAgICAgICAgICAgIC8vIFdlZG5lc2RheSwgMDEtTm92LTE3IDAwOjAwOjAxIFVUQyAgICAgCiAgICB1aW50MjU2IHB1YmxpYyBwcmVTYWxlRW5kVGltZSA9IDE1MTA1MzExOTk7ICAgICAgICAgICAgICAgLy8gU3VuZGF5LCAxMi1Ob3YtMTcgMjM6NTk6NTkgVVRDICAgICAgICAgICAKICAgIHVpbnQyNTYgcHVibGljIGNyb3dkZnVuZFN0YXJ0RGF0ZSA9IDE1MTEzMDg4MDE7ICAgICAgICAgICAvLyBXZWRuZXNkYXksIDIyLU5vdi0xNyAwMDowMDowMSBVVEMKICAgIHVpbnQyNTYgcHVibGljIGNyb3dkZnVuZEVuZERhdGUgPSAxNTE1MjgzMTk5OyAgICAgICAgICAgICAvLyBTYXR1cmRheSwgMDYtSmFuLTE4IDIzOjU5OjU5IFVUQwogICAgdWludDI1NiBwdWJsaWMgdG90YWxXZWlSYWlzZWQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvdW50ZXIgdG8gdHJhY2sgdGhlIGFtb3VudCByYWlzZWQKICAgIHVpbnQyNTYgcHVibGljIGV4Y2hhbmdlUmF0ZUZvckVUSCA9IDMwMDsgICAgICAgICAgICAgICAgICAvLyBOby4gb2YgU09DIFRva2VucyBpbiAxIEVUSAogICAgdWludDI1NiBwdWJsaWMgZXhjaGFuZ2VSYXRlRm9yQlRDID0gNDUwMDsgICAgICAgICAgICAgICAgIC8vIE5vLiBvZiBTUEMgVG9rZW5zIGluIDEgQlRDICAKICAgIHVpbnQyNTYgaW50ZXJuYWwgdG9rZW5Tb2xkSW5QcmVzYWxlID0gMDsKICAgIHVpbnQyNTYgaW50ZXJuYWwgdG9rZW5Tb2xkSW5Dcm93ZHNhbGUgPSAwOwogICAgdWludDI1NiBpbnRlcm5hbCBtaW5BbW91bnQgPSAxICogMTAgKiogMTc7ICAgICAgICAgICAgICAgIC8vIEVxdWl2YWxlbnQgdG8gMC4xIEVUSAoKICAgIGJvb2wgaW50ZXJuYWwgaXNUb2tlbkRlcGxveWVkID0gZmFsc2U7ICAgICAgICAgICAgICAgICAgICAvLyBGbGFnIHRvIHRyYWNrIHRoZSB0b2tlbiBkZXBsb3ltZW50IC0tIG9ubHkgY2FuIGJlIHNldCBvbmNlCiAKCiAgICAgLy8gYWRkcmVzc2VzCiAgICAvLyBGb3VuZGVycyBtdWx0aXNpZyBhZGRyZXNzCiAgICBhZGRyZXNzIHB1YmxpYyBmb3VuZGVyTXVsdGlTaWdBZGRyZXNzID0gMHhGNTBhQ0UxMmUwNTM3MTExYmU3ODI4OTlGZDVjNGY1ZjYzODM0MGQ1OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgIC8vIE93bmVyIG9mIHRoZSBjb250cmFjdAogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgCiAgICBlbnVtIFN0YXRlIHsgUHJlU2FsZSwgQ3Jvd2RmdW5kLCBGaW5pc2ggfQoKICAgIC8vZXZlbnRzCiAgICBldmVudCBUb2tlblB1cmNoYXNlKGFkZHJlc3MgaW5kZXhlZCBiZW5lZmljaWFyeSwgdWludDI1NiB2YWx1ZSwgdWludDI1NiBhbW91bnQpOyAKICAgIGV2ZW50IENyb3dkRnVuZENsb3NlZCh1aW50MjU2IF9ibG9ja1RpbWVTdGFtcCk7CiAgICBldmVudCBDaGFuZ2VGb3VuZGVyc1dhbGxldEFkZHJlc3ModWludDI1NiBfYmxvY2tUaW1lU3RhbXAsIGFkZHJlc3MgaW5kZXhlZCBfZm91bmRlcnNXYWxsZXRBZGRyZXNzKTsKICAgCiAgICAvL01vZGlmaWVycwogICAgbW9kaWZpZXIgdG9rZW5Jc0RlcGxveWVkKCkgewogICAgICAgIHJlcXVpcmUoaXNUb2tlbkRlcGxveWVkID09IHRydWUpOwogICAgICAgIF87CiAgICB9CiAgICBtb2RpZmllciBub25aZXJvRXRoKCkgewogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID4gMCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBub25aZXJvQWRkcmVzcyhhZGRyZXNzIF90bykgewogICAgICAgIHJlcXVpcmUoX3RvICE9IDB4MCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5Rm91bmRlcnMoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGZvdW5kZXJNdWx0aVNpZ0FkZHJlc3MpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5UHVibGljKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSBmb3VuZGVyTXVsdGlTaWdBZGRyZXNzKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIGluU3RhdGUoU3RhdGUgc3RhdGUpIHsKICAgICAgICByZXF1aXJlKGdldFN0YXRlKCkgPT0gc3RhdGUpOyAKICAgICAgICBfOwogICAgfQoKICAgICAvLyBDb25zdHJ1Y3RvciB0byBpbml0aWFsaXplIHRoZSBsb2NhbCB2YXJpYWJsZXMgCiAgICBmdW5jdGlvbiBTUENDcm93ZEZ1bmQgKCkgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICAvLyBGdW5jdGlvbiB0byBjaGFuZ2UgdGhlIGZvdW5kZXJzIG11bHRpc2lnIGFkZHJlc3MgCiAgICAgZnVuY3Rpb24gc2V0Rm91bmRlck11bHRpU2lnQWRkcmVzcyhhZGRyZXNzIF9uZXdGb3VuZGVyQWRkcmVzcykgb25seUZvdW5kZXJzICBub25aZXJvQWRkcmVzcyhfbmV3Rm91bmRlckFkZHJlc3MpIHsKICAgICAgICBmb3VuZGVyTXVsdGlTaWdBZGRyZXNzID0gX25ld0ZvdW5kZXJBZGRyZXNzOwogICAgICAgIENoYW5nZUZvdW5kZXJzV2FsbGV0QWRkcmVzcyhub3csIGZvdW5kZXJNdWx0aVNpZ0FkZHJlc3MpOwogICAgfQoKICAgIC8vIEF0dGFjaCB0aGUgdG9rZW4gY29udHJhY3QsIGNhbiBvbmx5IGJlIGRvbmUgb25jZSAgICAgCiAgICBmdW5jdGlvbiBzZXRUb2tlbkFkZHJlc3MoYWRkcmVzcyBfdG9rZW5BZGRyZXNzKSBleHRlcm5hbCBvbmx5T3duZXIgbm9uWmVyb0FkZHJlc3MoX3Rva2VuQWRkcmVzcykgewogICAgICAgIHJlcXVpcmUoaXNUb2tlbkRlcGxveWVkID09IGZhbHNlKTsKICAgICAgICB0b2tlbiA9IFNQQ1Rva2VuKF90b2tlbkFkZHJlc3MpOwogICAgICAgIGlzVG9rZW5EZXBsb3llZCA9IHRydWU7CiAgICB9CgogICAgLy8gZnVuY3Rpb24gY2FsbCBhZnRlciBjcm93ZEZ1bmRFbmRUaW1lLgogICAgLy8gSXQgdHJhbnNmZXJzIHRoZSByZW1haW5pbmcgdG9rZW5zIHRvIHJlbWFpbmluZ1Rva2VuSG9sZGVyIGFkZHJlc3MKICAgIGZ1bmN0aW9uIGVuZENyb3dkZnVuZCgpIG9ubHlGb3VuZGVycyBpblN0YXRlKFN0YXRlLkZpbmlzaCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUobm93ID4gY3Jvd2RmdW5kRW5kRGF0ZSk7CiAgICAgICAgdWludDI1NiByZW1haW5pbmdUb2tlbiA9IHRva2VuLmJhbGFuY2VPZih0aGlzKTsgIC8vIHJlbWFpbmluZyB0b2tlbnMKCiAgICAgICAgaWYgKHJlbWFpbmluZ1Rva2VuICE9IDApIAogICAgICAgICAgdG9rZW4udHJhbnNmZXIoZm91bmRlck11bHRpU2lnQWRkcmVzcywgcmVtYWluaW5nVG9rZW4pOyAKICAgICAgICBDcm93ZEZ1bmRDbG9zZWQobm93KTsKICAgICAgICByZXR1cm4gdHJ1ZTsgCiAgICB9CgogICAgLy8gQnV5IHRva2VuIGZ1bmN0aW9uIGNhbGwgb25seSBpbiBkdXJhdGlvbiBvZiBjcm93ZGZ1bmQgYWN0aXZlIAogICAgZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgYmVuZWZpY2lhcnkpIAogICAgbm9uWmVyb0V0aCAKICAgIHRva2VuSXNEZXBsb3llZCAKICAgIG9ubHlQdWJsaWMgCiAgICBub25aZXJvQWRkcmVzcyhiZW5lZmljaWFyeSkgCiAgICBwYXlhYmxlIAogICAgcmV0dXJucyhib29sKSAKICAgIHsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBtaW5BbW91bnQpOwoKICAgICAgICBpZiAoZ2V0U3RhdGUoKSA9PSBTdGF0ZS5QcmVTYWxlKSB7CiAgICAgICAgICAgIGlmIChidXlQcmVTYWxlVG9rZW5zKGJlbmVmaWNpYXJ5KSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlcXVpcmUobm93ID49IGNyb3dkZnVuZFN0YXJ0RGF0ZSAmJiBub3cgPD0gY3Jvd2RmdW5kRW5kRGF0ZSk7CiAgICAgICAgICAgIGZ1bmRUcmFuc2Zlcihtc2cudmFsdWUpOwoKICAgICAgICAgICAgdWludDI1NiBhbW91bnQgPSBnZXROb09mVG9rZW5zKGV4Y2hhbmdlUmF0ZUZvckVUSCwgbXNnLnZhbHVlKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICh0b2tlbi50cmFuc2ZlcihiZW5lZmljaWFyeSwgYW1vdW50KSkgewogICAgICAgICAgICAgICAgdG9rZW5Tb2xkSW5Dcm93ZHNhbGUgPSB0b2tlblNvbGRJbkNyb3dkc2FsZS5hZGQoYW1vdW50KTsKICAgICAgICAgICAgICAgIHRva2VuLmNoYW5nZVRvdGFsU3VwcGx5KGFtb3VudCk7IAogICAgICAgICAgICAgICAgdG90YWxXZWlSYWlzZWQgPSB0b3RhbFdlaVJhaXNlZC5hZGQobXNnLnZhbHVlKTsKICAgICAgICAgICAgICAgIFRva2VuUHVyY2hhc2UoYmVuZWZpY2lhcnksIG1zZy52YWx1ZSwgYW1vdW50KTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9IAogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgCiAgICB9CiAgICAgICAgCiAgICAvLyBmdW5jdGlvbiB0byBidXkgdGhlIHRva2VucyBhdCBwcmVzYWxlIAogICAgZnVuY3Rpb24gYnV5UHJlU2FsZVRva2VucyhhZGRyZXNzIGJlbmVmaWNpYXJ5KSBpbnRlcm5hbCByZXR1cm5zKGJvb2wpIHsKICAgICAgICAgICAgCiAgICAgICAgICAgIHVpbnQyNTYgYW1vdW50ID0gZ2V0VG9rZW5zRm9yUHJlU2FsZShleGNoYW5nZVJhdGVGb3JFVEgsIG1zZy52YWx1ZSk7CiAgICAgICAgICAgIGZ1bmRUcmFuc2Zlcihtc2cudmFsdWUpOwoKICAgICAgICAgICAgaWYgKHRva2VuLnRyYW5zZmVyKGJlbmVmaWNpYXJ5LCBhbW91bnQpKSB7CiAgICAgICAgICAgICAgICB0b2tlblNvbGRJblByZXNhbGUgPSB0b2tlblNvbGRJblByZXNhbGUuYWRkKGFtb3VudCk7CiAgICAgICAgICAgICAgICB0b2tlbi5jaGFuZ2VUb3RhbFN1cHBseShhbW91bnQpOyAKICAgICAgICAgICAgICAgIHRvdGFsV2VpUmFpc2VkID0gdG90YWxXZWlSYWlzZWQuYWRkKG1zZy52YWx1ZSk7CiAgICAgICAgICAgICAgICBUb2tlblB1cmNoYXNlKGJlbmVmaWNpYXJ5LCBtc2cudmFsdWUsIGFtb3VudCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9ICAgIAoKLy8gZnVuY3Rpb24gdG8gY2FsY3VsYXRlIHRoZSB0b3RhbCBubyBvZiB0b2tlbnMgd2l0aCBib251cyBtdWx0aXBsaWNhdGlvbgogICAgZnVuY3Rpb24gZ2V0Tm9PZlRva2Vucyh1aW50MjU2IF9leGNoYW5nZVJhdGUsIHVpbnQyNTYgX2Ftb3VudCkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgICB1aW50MjU2IG5vT2ZUb2tlbiA9IF9hbW91bnQubXVsKF9leGNoYW5nZVJhdGUpOwogICAgICAgICB1aW50MjU2IG5vT2ZUb2tlbldpdGhCb251cyA9ICgoMTAwICsgZ2V0Q3VycmVudEJvbnVzUmF0ZSgpKSAqIG5vT2ZUb2tlbiApLmRpdigxMDApOwogICAgICAgICByZXR1cm4gbm9PZlRva2VuV2l0aEJvbnVzOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFRva2Vuc0ZvclByZVNhbGUodWludDI1NiBfZXhjaGFuZ2VSYXRlLCB1aW50MjU2IF9hbW91bnQpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IG5vT2ZUb2tlbiA9IF9hbW91bnQubXVsKF9leGNoYW5nZVJhdGUpOwogICAgICAgIHVpbnQyNTYgbm9PZlRva2VuV2l0aEJvbnVzID0gKCgxMDAgKyBnZXRDdXJyZW50Qm9udXNSYXRlKCkpICogbm9PZlRva2VuICkuZGl2KDEwMCk7CiAgICAgICAgaWYgKG5vT2ZUb2tlbldpdGhCb251cyArIHRva2VuU29sZEluUHJlc2FsZSA+ICg1MDAwMDAwMCAqIDEwICoqIDE4KSApIHsKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBub09mVG9rZW5XaXRoQm9udXM7CiAgICB9CgogICAgLy8gZnVuY3Rpb24gdG8gdHJhbnNmZXIgdGhlIGZ1bmRzIHRvIGZvdW5kZXJzIGFjY291bnQKICAgIGZ1bmN0aW9uIGZ1bmRUcmFuc2Zlcih1aW50MjU2IHdlaUFtb3VudCkgaW50ZXJuYWwgewogICAgICAgIGZvdW5kZXJNdWx0aVNpZ0FkZHJlc3MudHJhbnNmZXIod2VpQW1vdW50KTsKICAgIH0KCgovLyBHZXQgZnVuY3Rpb25zIAoKICAgIC8vIGZ1bmN0aW9uIHRvIGdldCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgY3Jvd2RzYWxlCiAgICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKFN0YXRlKSB7CiAgICAgICAgaWYgKG5vdyA+PSBwcmVTYWxlU3RhcnRUaW1lICYmIG5vdyA8PSBwcmVTYWxlRW5kVGltZSkgewogICAgICAgICAgICByZXR1cm4gU3RhdGUuUHJlU2FsZTsKICAgICAgICB9CiAgICAgICAgaWYgKG5vdyA+PSBjcm93ZGZ1bmRTdGFydERhdGUgJiYgbm93IDw9IGNyb3dkZnVuZEVuZERhdGUpIHsKICAgICAgICAgICAgcmV0dXJuIFN0YXRlLkNyb3dkZnVuZDsKICAgICAgICB9IAogICAgICAgIHJldHVybiBTdGF0ZS5GaW5pc2g7CiAgICB9CgoKICAgIC8vIGZ1bmN0aW9uIHByb3ZpZGUgdGhlIGN1cnJlbnQgYm9udXMgcmF0ZQogICAgZnVuY3Rpb24gZ2V0Q3VycmVudEJvbnVzUmF0ZSgpIGludGVybmFsIHJldHVybnMgKHVpbnQ4KSB7CiAgICAgICAgCiAgICAgICAgaWYgKGdldFN0YXRlKCkgPT0gU3RhdGUuUHJlU2FsZSkgewogICAgICAgICAgIHJldHVybiA1MDsKICAgICAgICB9IAogICAgICAgIGlmIChnZXRTdGF0ZSgpID09IFN0YXRlLkNyb3dkZnVuZCkgewogICAgICAgICAgIGlmICh0b2tlblNvbGRJbkNyb3dkc2FsZSA8PSAoMTAwMDAwMDAwICogMTAgKiogMTgpICkgewogICAgICAgICAgICAgICByZXR1cm4gMzA7CiAgICAgICAgICAgfQogICAgICAgICAgIGlmICh0b2tlblNvbGRJbkNyb3dkc2FsZSA+ICgxMDAwMDAwMDAgKiAxMCAqKiAxOCkgJiYgdG9rZW5Tb2xkSW5Dcm93ZHNhbGUgPD0gKDE3NTAwMDAwMCAqIDEwICoqIDE4KSkgewogICAgICAgICAgICAgICByZXR1cm4gMTA7CiAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCgogICAgLy8gcHJvdmlkZXMgdGhlIGJvbnVzICUgCiAgICBmdW5jdGlvbiBjdXJyZW50Qm9udXMoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDgpIHsKICAgICAgICByZXR1cm4gZ2V0Q3VycmVudEJvbnVzUmF0ZSgpOwogICAgfQoKICAgIC8vIEdFVCBmdW5jdGlvbnMKCiAgICBmdW5jdGlvbiBnZXRDb250cmFjdFRpbWVzdGFtcCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICggCiAgICAgICAgdWludDI1NiBfcHJlc2FsZVN0YXJ0RGF0ZSwgCiAgICAgICAgdWludDI1NiBfcHJlc2FsZUVuZERhdGUsIAogICAgICAgIHVpbnQyNTYgX2Nyb3dkc2FsZVN0YXJ0RGF0ZSwgCiAgICAgICAgdWludDI1NiBfY3Jvd2RzYWxlRW5kRGF0ZSkgCiAgICB7CiAgICAgICAgcmV0dXJuIChwcmVTYWxlU3RhcnRUaW1lLCBwcmVTYWxlRW5kVGltZSwgY3Jvd2RmdW5kU3RhcnREYXRlLCBjcm93ZGZ1bmRFbmREYXRlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRFeGNoYW5nZVJhdGUoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBfZXhjaGFuZ2VSYXRlRm9yRVRILCB1aW50MjU2IF9leGNoYW5nZVJhdGVGb3JCVEMpIHsKICAgICAgICByZXR1cm4gKGV4Y2hhbmdlUmF0ZUZvckVUSCwgZXhjaGFuZ2VSYXRlRm9yQlRDKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXROb09mU29sZFRva2VuKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgX3Rva2VuU29sZEluUHJlc2FsZSAsIHVpbnQyNTYgX3Rva2VuU29sZEluQ3Jvd2RzYWxlKSB7CiAgICAgICAgcmV0dXJuICh0b2tlblNvbGRJblByZXNhbGUsIHRva2VuU29sZEluQ3Jvd2RzYWxlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRXZWlSYWlzZWQoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBfdG90YWxXZWlSYWlzZWQpIHsKICAgICAgICByZXR1cm4gdG90YWxXZWlSYWlzZWQ7CiAgICB9CgogICAgLy8gQ3Jvd2RmdW5kIGVudHJ5CiAgICAvLyBzZW5kIGV0aGVyIHRvIHRoZSBjb250cmFjdCBhZGRyZXNzCiAgICAvLyBXaXRoIGF0IGxlYXN0IDIwMCAwMDAgZ2FzCiAgICBmdW5jdGlvbigpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICBidXlUb2tlbnMobXNnLnNlbmRlcik7CiAgICB9Cn0='.
	

]
