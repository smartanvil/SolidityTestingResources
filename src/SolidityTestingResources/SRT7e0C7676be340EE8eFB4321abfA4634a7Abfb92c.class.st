Class {
	#name : #SRT7e0C7676be340EE8eFB4321abfA4634a7Abfb92c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT7e0C7676be340EE8eFB4321abfA4634a7Abfb92c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovKiBUT0RPOiBjaGFuZ2UgdGhpcyB0byBhbiBpbnRlcmZhY2UgZGVmaW5pdGlvbiBhcyBzb29uIGFzIHRydWZmbGUgYWNjZXB0cyBpdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90cnVmZmxlc3VpdGUvdHJ1ZmZsZS9pc3N1ZXMvNTYwICovCmNvbnRyYWN0IElUcmFuc2ZlcmFibGUgewogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKfQoKLyoqCkB0aXRsZSBQTEFZIFRva2VuCgpFUkMyMCBUb2tlbiB3aXRoIGFkZGl0aW9uYWwgbWludCBmdW5jdGlvbmFsaXR5LgpBICJjb250cm9sbGVyIiAoaW5pdGlhbGl6ZWQgdG8gdGhlIGNvbnRyYWN0IGNyZWF0b3IpIGhhcyBleGNsdXNpdmUgcGVybWlzc2lvbiB0byBtaW50LgpUaGUgY29udHJvbGxlciBhZGRyZXNzIGNhbiBiZSBjaGFuZ2VkIHVudGlsIGxvY2tlZC4KCkltcGxlbWVudGF0aW9uIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9Db25zZW5TeXMvVG9rZW5zCiovCmNvbnRyYWN0IFBsYXlUb2tlbiB7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseSA9IDA7CiAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAiUExBWSI7CiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSAxODsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIlBMWSI7CiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAnMSc7CgogICAgYWRkcmVzcyBwdWJsaWMgY29udHJvbGxlcjsKICAgIGJvb2wgcHVibGljIGNvbnRyb2xsZXJMb2NrZWQgPSBmYWxzZTsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7CgogICAgbW9kaWZpZXIgb25seUNvbnRyb2xsZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGNvbnRyb2xsZXIpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqIEBkZXYgY29uc3RydWN0b3IgKi8KICAgIGZ1bmN0aW9uIFBsYXlUb2tlbihhZGRyZXNzIF9jb250cm9sbGVyKSB7CiAgICAgICAgY29udHJvbGxlciA9IF9jb250cm9sbGVyOwogICAgfQoKICAgIC8qKiBTZXRzIGEgbmV3IGNvbnRyb2xsZXIgYWRkcmVzcyBpZiB0aGUgY3VycmVudCBjb250cm9sbGVyIGlzbid0IGxvY2tlZCAqLwogICAgZnVuY3Rpb24gc2V0Q29udHJvbGxlcihhZGRyZXNzIF9uZXdDb250cm9sbGVyKSBvbmx5Q29udHJvbGxlciB7CiAgICAgICAgcmVxdWlyZSghIGNvbnRyb2xsZXJMb2NrZWQpOwogICAgICAgIGNvbnRyb2xsZXIgPSBfbmV3Q29udHJvbGxlcjsKICAgIH0KCiAgICAvKiogTG9ja3MgdGhlIGN1cnJlbnQgY29udHJvbGxlciBhZGRyZXNzIGZvcmV2ZXIgKi8KICAgIGZ1bmN0aW9uIGxvY2tDb250cm9sbGVyKCkgb25seUNvbnRyb2xsZXIgewogICAgICAgIGNvbnRyb2xsZXJMb2NrZWQgPSB0cnVlOwogICAgfQoKICAgIC8qKgogICAgQ3JlYXRlcyBuZXcgdG9rZW5zIGZvciB0aGUgZ2l2ZW4gcmVjZWl2ZXIuCiAgICBDYW4gYmUgY2FsbGVkIG9ubHkgYnkgdGhlIGNvbnRyYWN0IGNyZWF0b3IuCiAgICAqLwogICAgZnVuY3Rpb24gbWludChhZGRyZXNzIF9yZWNlaXZlciwgdWludDI1NiBfdmFsdWUpIG9ubHlDb250cm9sbGVyIHsKICAgICAgICBiYWxhbmNlc1tfcmVjZWl2ZXJdICs9IF92YWx1ZTsKICAgICAgICB0b3RhbFN1cHBseSArPSBfdmFsdWU7CiAgICAgICAgLy8gKHByb2JhYmx5KSByZWNvbW1lbmRlZCBieSB0aGUgc3RhbmRhcmQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9wdWxsLzYxMC9maWxlcyNkaWZmLWM4NDZmMzEzODFlMjZkOGJlZWVhZTI0YWZjZGY0ZTNlUjk5CiAgICAgICAgVHJhbnNmZXIoMCwgX3JlY2VpdmVyLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLyogQWRkaXRpb25hbCBSZXN0cmljdGlvbjogZG9uJ3QgYWNjZXB0IHRva2VuIHBheW1lbnRzIHRvIHRoZSBjb250cmFjdCBpdHNlbGYgYW5kIHRvIGFkZHJlc3MgMCBpbiBvcmRlciB0byBhdm9pZCBtb3N0CiAgICAgICAgIHRva2VuIGxvc3NlcyBieSBtaXN0YWtlIC0gYXMgaXMgZGlzY3Vzc2VkIGluIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMjMgKi8KICAgICAgICByZXF1aXJlKChfdG8gIT0gMCkgJiYgKF90byAhPSBhZGRyZXNzKHRoaXMpKSk7CgogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgLyogQXBwcm92ZXMgYW5kIHRoZW4gY2FsbHMgdGhlIHJlY2VpdmluZyBjb250cmFjdCAqLwogICAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9leHRyYURhdGEpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwoKICAgICAgICAvKiBjYWxsIHRoZSByZWNlaXZlQXBwcm92YWwgZnVuY3Rpb24gb24gdGhlIGNvbnRyYWN0IHlvdSB3YW50IHRvIGJlIG5vdGlmaWVkLiBUaGlzIGNyYWZ0cyB0aGUgZnVuY3Rpb24gc2lnbmF0dXJlIG1hbnVhbGx5IHNvIG9uZSBkb2Vzbid0IGhhdmUgdG8gaW5jbHVkZSBhIGNvbnRyYWN0IGluIGhlcmUganVzdCBmb3IgdGhpcy4KICAgICAgICByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuQ29udHJhY3QsIGJ5dGVzIF9leHRyYURhdGEpCiAgICAgICAgaXQgaXMgYXNzdW1lZCB0aGF0IHdoZW4gZG9lcyB0aGlzIHRoYXQgdGhlIGNhbGwgKnNob3VsZCogc3VjY2VlZCwgb3RoZXJ3aXNlIG9uZSB3b3VsZCB1c2UgdmFuaWxsYSBhcHByb3ZlIGluc3RlYWQuICovCiAgICAgICAgcmVxdWlyZShfc3BlbmRlci5jYWxsKGJ5dGVzNChieXRlczMyKHNoYTMoInJlY2VpdmVBcHByb3ZhbChhZGRyZXNzLHVpbnQyNTYsYWRkcmVzcyxieXRlcykiKSkpLCBtc2cuc2VuZGVyLCBfdmFsdWUsIHRoaXMsIF9leHRyYURhdGEpKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgIFdpdGhkcmF3cyB0b2tlbnMgaGVsZCBieSB0aGUgY29udHJhY3QgdG8gYSBnaXZlbiBhY2NvdW50LgogICAgTW90aXZhdGlvbjogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMjMjaXNzdWVjb21tZW50LTMxNzk4NzU3MQogICAgKi8KICAgIGZ1bmN0aW9uIHdpdGhkcmF3VG9rZW5zKElUcmFuc2ZlcmFibGUgX3Rva2VuLCBhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBvbmx5Q29udHJvbGxlciB7CiAgICAgICAgX3Rva2VuLnRyYW5zZmVyKF90bywgX2Ftb3VudCk7CiAgICB9Cn0KCi8qKiBAdGl0bGUgUDRQIERvbmF0aW9uIFBvb2wKCkNvbnRyYWN0IHdoaWNoIHJlY2VpdmVzIGRvbmF0aW9ucyBmb3IgcHJpdmFjeSBwcm9qZWN0cy4KRG9uYXRvcnMgd2lsbCBiZSByZXdhcmRlZCB3aXRoIFBMQVkgdG9rZW5zLgoKVGhlIGRvbmF0aW9uIHByb2Nlc3MgaXMgMi1waGFzZWQuCkRvbmF0aW9ucyBvZiB0aGUgZmlyc3Qgcm91bmQgd2lsbCBiZSB3ZWlnaHRlZCB0d2ljZSBhcyBtdWNoIGNvbXBhcmVkIHRvIGxhdGVyIGRvbmF0aW9ucy4KClRoZSByZWNlaXZlZCBFdGhlciBmdW5kcyB3aWxsIG5vdCBiZSBhY2Nlc3NpYmxlIGR1cmluZyB0aGUgZG9uYXRpb24gcGVyaW9kLgpEb25hdGVkIEV0aCBjYW4gYmUgcmV0cmlldmVkIG9ubHkgYWZ0ZXIgdGhlIGRvbmF0aW9uIHJvdW5kcyBhcmUgb3ZlciBhbmQgdGhlIHNldCB1bmxvY2sgdGltZXN0YW1wIGlzIHJlYWNoZWQuCkluIG9yZGVyIHRvIG5ldmVyIG93biB0aGUgZnVuZHMsIHRoZSBjb250cmFjdCBvd25lciBjYW4gc2V0IGFuZCBsb2NrIHRoZSByZWNlaXZlciBhZGRyZXNzIGJlZm9yZWhhbmQuClRoZSByZWNlaXZlciBhZGRyZXNzIGNhbiBiZSBhbiBleHRlcm5hbCBhY2NvdW50IG9yIGEgZGlzdHJpYnV0aW9uIGNvbnRyYWN0LgoKTm90ZSB0aGF0IHRoZXJlJ3Mgbm8gd2F5IGZvciB0aGUgb3duZXIgdG8gd2l0aGRyYXcgdG9rZW5zIGFzc2lnbmVkIHRvIGRvbmF0b3JzIHdoaWNoIGFyZW4ndCB3aXRoZHJhd24uCkluIGNhc2UgZGVzdHJveSgpIGlzIGludm9rZWQsIHRoZXkgd2lsbCBlZmZlY3RpdmVseSBiZSBidXJuZWQuCiovCmNvbnRyYWN0IFA0UFBvb2wgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgICBQbGF5VG9rZW4gcHVibGljIHBsYXlUb2tlbjsKCiAgICB1aW50OCBwdWJsaWMgY3VycmVudFN0YXRlID0gMDsKICAgIC8vIHZhbGlkIHN0YXRlcyAobm90IHVzaW5nIGVudW0gaW4gb3JkZXIgdG8gYmUgYWJsZSB0byBzaW1wbHkgaW5jcmVtZW50IGluIHN0YXJ0TmV4dFBoYXNlKCkpOgogICAgdWludDggcHVibGljIGNvbnN0YW50IFNUQVRFX05PVF9TVEFSVEVEID0gMDsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBTVEFURV9ET05BVElPTl9ST1VORF8xID0gMTsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBTVEFURV9QTEFZSU5HID0gMjsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBTVEFURV9ET05BVElPTl9ST1VORF8yID0gMzsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBTVEFURV9QQVlPVVQgPSA0OwoKICAgIHVpbnQyNTYgcHVibGljIHRva2VuUGVyRXRoOyAvLyBjYWxjdWxhdGVkIGFmdGVyIGZpbmlzaGluZyBkb25hdGlvbiByb3VuZHMKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1Nikgcm91bmQxRG9uYXRpb25zOwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHJvdW5kMkRvbmF0aW9uczsKCiAgICAvLyBnbGl0Y2g6IGZvcmdvdCB0byByZW5hbWUgdGhvc2UgZnJvbSAicGhhc2UiIHRvICJyb3VuZCIgdG9vCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFBoYXNlMURvbmF0aW9ucyA9IDA7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFBoYXNlMkRvbmF0aW9ucyA9IDA7CgogICAgLy8gMTUwOTQ5NDQwMCA9IDIwMTcgTm92IDAxLCAwMDowMCAoVVRDKQogICAgdWludDMyIHB1YmxpYyBkb25hdGlvblVubG9ja1RzID0gdWludDMyKG5vdyk7IC8vMTUwOTQ5NDQwMDsKCiAgICAvLyBzaGFyZSBvZiB0aGUgcG9vbGVkIHRva2VucyB0aGUgb3duZXIgKGRldmVsb3BlcnMpIGdldHMgaW4gcGVyY2VudAogICAgdWludDggcHVibGljIGNvbnN0YW50IG93bmVyVG9rZW5TaGFyZVBjdCA9IDIwOwoKICAgIGFkZHJlc3MgcHVibGljIGRvbmF0aW9uUmVjZWl2ZXI7CiAgICBib29sIHB1YmxpYyBkb25hdGlvblJlY2VpdmVyTG9ja2VkID0gZmFsc2U7CgogICAgZXZlbnQgU3RhdGVDaGFuZ2VkKHVpbnQ4IG5ld1N0YXRlKTsKICAgIGV2ZW50IERvbmF0ZWRFdGhQYXlvdXQoYWRkcmVzcyByZWNlaXZlciwgdWludDI1NiBhbW91bnQpOwoKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seUR1cmluZ0RvbmF0aW9uUm91bmRzKCkgewogICAgICAgIHJlcXVpcmUoY3VycmVudFN0YXRlID09IFNUQVRFX0RPTkFUSU9OX1JPVU5EXzEgfHwgY3VycmVudFN0YXRlID09IFNUQVRFX0RPTkFUSU9OX1JPVU5EXzIpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seUlmUGF5b3V0VW5sb2NrZWQoKSB7CiAgICAgICAgcmVxdWlyZShjdXJyZW50U3RhdGUgPT0gU1RBVEVfUEFZT1VUKTsKICAgICAgICByZXF1aXJlKHVpbnQzMihub3cpID49IGRvbmF0aW9uVW5sb2NrVHMpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqIEBkZXYgY29uc3RydWN0b3IgKi8KICAgIGZ1bmN0aW9uIFA0UFBvb2woYWRkcmVzcyBfdG9rZW5BZGRyKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIHBsYXlUb2tlbiA9IFBsYXlUb2tlbihfdG9rZW5BZGRyKTsKICAgIH0KCiAgICAvKiogU28gY2FsbGVkICJmYWxsYmFjayBmdW5jdGlvbiIgd2hpY2ggaGFuZGxlcyBpbmNvbWluZyBFdGhlciBwYXltZW50cwogICAgUmVtZW1iZXJzIHdoaWNoIGFkZHJlc3MgcGF5ZWQgaG93IG11Y2gsIGRvdWJsaW5nIHJvdW5kIDEgY29udHJpYnV0aW9ucy4KICAgICovCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIG9ubHlEdXJpbmdEb25hdGlvblJvdW5kcyB7CiAgICAgICAgZG9uYXRlRm9ySW1wbChtc2cuc2VuZGVyKTsKICAgIH0KCiAgICAvKiogUmVjZWl2ZXMgRXRoIG9uIGJlaGFsZiBvZiBzb21lYm9keSBlbHNlCiAgICBDYW4gYmUgdXNlZCBmb3IgcHJveHkgcGF5bWVudHMuCiAgICAqLwogICAgZnVuY3Rpb24gZG9uYXRlRm9yKGFkZHJlc3MgX2Rvbm9yKSBwYXlhYmxlIG9ubHlEdXJpbmdEb25hdGlvblJvdW5kcyB7CiAgICAgICAgZG9uYXRlRm9ySW1wbChfZG9ub3IpOwogICAgfQoKICAgIGZ1bmN0aW9uIHN0YXJ0TmV4dFBoYXNlKCkgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKGN1cnJlbnRTdGF0ZSA8PSBTVEFURV9QQVlPVVQpOwogICAgICAgIGN1cnJlbnRTdGF0ZSsrOwogICAgICAgIGlmKGN1cnJlbnRTdGF0ZSA9PSBTVEFURV9QQVlPVVQpIHsKICAgICAgICAgICAgLy8gZG9uYXRpb24gZW5kZWQuIENhbGN1bGF0ZSBhbmQgcGVyc2lzdCB0aGUgZGlzdHJpYnV0aW9uIGtleToKICAgICAgICAgICAgdG9rZW5QZXJFdGggPSBjYWxjVG9rZW5QZXJFdGgoKTsKICAgICAgICB9CiAgICAgICAgU3RhdGVDaGFuZ2VkKGN1cnJlbnRTdGF0ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0RG9uYXRpb25VbmxvY2tUcyh1aW50MzIgX25ld1RzKSBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoX25ld1RzID4gZG9uYXRpb25VbmxvY2tUcyk7CiAgICAgICAgZG9uYXRpb25VbmxvY2tUcyA9IF9uZXdUczsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXREb25hdGlvblJlY2VpdmVyKGFkZHJlc3MgX3JlY2VpdmVyKSBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoISBkb25hdGlvblJlY2VpdmVyTG9ja2VkKTsKICAgICAgICBkb25hdGlvblJlY2VpdmVyID0gX3JlY2VpdmVyOwogICAgfQoKICAgIGZ1bmN0aW9uIGxvY2tEb25hdGlvblJlY2VpdmVyKCkgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKGRvbmF0aW9uUmVjZWl2ZXIgIT0gMCk7CiAgICAgICAgZG9uYXRpb25SZWNlaXZlckxvY2tlZCA9IHRydWU7CiAgICB9CgogICAgLy8gdGhpcyBjb3VsZCBiZSBsZWZ0IGF2YWlsYWJsZSB0byBldmVyeWJvZHkgaW5zdGVhZCBvZiBvd25lciBvbmx5CiAgICBmdW5jdGlvbiBwYXlvdXREb25hdGlvbnMoKSBvbmx5T3duZXIgb25seUlmUGF5b3V0VW5sb2NrZWQgewogICAgICAgIHJlcXVpcmUoZG9uYXRpb25SZWNlaXZlciAhPSAwKTsKICAgICAgICB2YXIgYW1vdW50ID0gdGhpcy5iYWxhbmNlOwogICAgICAgIHJlcXVpcmUoZG9uYXRpb25SZWNlaXZlci5zZW5kKGFtb3VudCkpOwogICAgICAgIERvbmF0ZWRFdGhQYXlvdXQoZG9uYXRpb25SZWNlaXZlciwgYW1vdW50KTsKICAgIH0KCiAgICAvKiogRW1lcmdlbmN5IGZhbGxiYWNrIGZvciByZXRyaWV2aW5nIGZ1bmRzCiAgICBJbiBjYXNlIHNvbWV0aGluZyBnb2VzIGhvcnJpYmx5IHdyb25nLCB0aGlzIGFsbG93cyB0byByZXRyaWV2ZSBFdGggZnJvbSB0aGUgY29udHJhY3QuCiAgICBCZWNvbWVzIGF2YWlsYWJsZSBhdCBNYXJjaCAxIDIwMTguCiAgICBJZiBjYWxsZWQsIGFsbCB0b2tlbnMgc3RpbGwgb3duZWQgYnkgdGhlIGNvbnRyYWN0IChub3Qgd2l0aGRyYXduIGJ5IGFueWJvZHkpIGFyZSBidXJuZWQuCiAgICAqLwogICAgZnVuY3Rpb24gZGVzdHJveSgpIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShjdXJyZW50U3RhdGUgPT0gU1RBVEVfUEFZT1VUKTsKICAgICAgICByZXF1aXJlKG5vdyA+IDE1MTk4NjI0MDApOwogICAgICAgIHNlbGZkZXN0cnVjdChvd25lcik7CiAgICB9CgogICAgLyoqIEFsbG93cyBkb25hdG9ycyB0byB3aXRoZHJhdyB0aGUgc2hhcmUgb2YgdG9rZW5zIHRoZXkgYXJlIGVudGl0bGVkIHRvICovCiAgICBmdW5jdGlvbiB3aXRoZHJhd1Rva2VuU2hhcmUoKSB7CiAgICAgICAgcmVxdWlyZSh0b2tlblBlckV0aCA+IDApOyAvLyB0aGlzIGltcGxpZXMgdGhhdCBkb25hdGlvbiByb3VuZHMgaGF2ZSBjbG9zZWQKICAgICAgICByZXF1aXJlKHBsYXlUb2tlbi50cmFuc2Zlcihtc2cuc2VuZGVyLCBjYWxjVG9rZW5TaGFyZU9mKG1zZy5zZW5kZXIpKSk7CiAgICAgICAgcm91bmQxRG9uYXRpb25zW21zZy5zZW5kZXJdID0gMDsKICAgICAgICByb3VuZDJEb25hdGlvbnNbbXNnLnNlbmRlcl0gPSAwOwogICAgfQoKICAgIC8vICMjIyMjIyMjIyBJTlRFUk5BTCBGVU5DVElPTlMgIyMjIyMjIyMjIwoKICAgIGZ1bmN0aW9uIGNhbGNUb2tlblNoYXJlT2YoYWRkcmVzcyBfYWRkcikgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgaWYoX2FkZHIgPT0gb3duZXIpIHsKICAgICAgICAgICAgLy8gVE9ETzogdGhpcyBjb3VsZCBwcm9iYWJseSBiZSBzaW1wbGlmaWVkLiBCdXQgZG9lcyB0aGUgam9iIHdpdGhvdXQgcmVxdWlyaW5nIGFkZGl0aW9uYWwgc3RvcmFnZQogICAgICAgICAgICB2YXIgdmlydHVhbEV0aEJhbGFuY2UgPSAoKCh0b3RhbFBoYXNlMURvbmF0aW9ucyoyICsgdG90YWxQaGFzZTJEb25hdGlvbnMpICogMTAwKSAvICgxMDAgLSBvd25lclRva2VuU2hhcmVQY3QpICsgMSk7CiAgICAgICAgICAgIHJldHVybiAoKHRva2VuUGVyRXRoICogdmlydHVhbEV0aEJhbGFuY2UpICogb3duZXJUb2tlblNoYXJlUGN0KSAvICgxMDAgKiAxRTE4KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gKHRva2VuUGVyRXRoICogKHJvdW5kMURvbmF0aW9uc1tfYWRkcl0qMiArIHJvdW5kMkRvbmF0aW9uc1tfYWRkcl0pKSAvIDFFMTg7CiAgICAgICAgfQogICAgfQoKICAgIC8vIFdpbGwgdGhyb3cgaWYgbm8gZG9uYXRpb25zIHdlcmUgcmVjZWl2ZWQuCiAgICBmdW5jdGlvbiBjYWxjVG9rZW5QZXJFdGgoKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICB2YXIgdG9rZW5CYWxhbmNlID0gcGxheVRva2VuLmJhbGFuY2VPZih0aGlzKTsKICAgICAgICAvLyB0aGUgZmluYWwgKyAxIG1ha2VzIHN1cmUgd2UncmUgbm90IHJ1bm5pbmcgb3V0IG9mIHRva2VucyBkdWUgdG8gcm91bmRpbmcgYXJ0aWZhY3RzLgogICAgICAgIC8vIHRoYXQgd291bGQgb3RoZXJ3aXNlIGJlICh0aGVvcmV0aWNhbGx5LCBpZiBhbGwgdG9rZW5zIGFyZSB3aXRoZHJhd24pIHBvc3NpYmxlLAogICAgICAgIC8vIGJlY2F1c2UgdGhpcyBudW1iZXIgYWN0cyBhcyBkaXZpc29yIGZvciB0aGUgcmV0dXJuIHZhbHVlLgogICAgICAgIHZhciB2aXJ0dWFsRXRoQmFsYW5jZSA9ICgoKHRvdGFsUGhhc2UxRG9uYXRpb25zKjIgKyB0b3RhbFBoYXNlMkRvbmF0aW9ucykgKiAxMDApIC8gKDEwMCAtIG93bmVyVG9rZW5TaGFyZVBjdCkgKyAxKTsKICAgICAgICAvLyB1c2UgMTggZGVjaW1hbHMgcHJlY2lzaW9uLiBObyBkYW5nZXIgb2Ygb3ZlcmZsb3cgd2l0aCAyNTYgYml0cy4KICAgICAgICByZXR1cm4gdG9rZW5CYWxhbmNlICogMUUxOCAvICh2aXJ0dWFsRXRoQmFsYW5jZSk7CiAgICB9CgogICAgZnVuY3Rpb24gZG9uYXRlRm9ySW1wbChhZGRyZXNzIF9kb25vcikgaW50ZXJuYWwgb25seUR1cmluZ0RvbmF0aW9uUm91bmRzIHsKICAgICAgICBpZihjdXJyZW50U3RhdGUgPT0gU1RBVEVfRE9OQVRJT05fUk9VTkRfMSkgewogICAgICAgICAgICByb3VuZDFEb25hdGlvbnNbX2Rvbm9yXSArPSBtc2cudmFsdWU7CiAgICAgICAgICAgIHRvdGFsUGhhc2UxRG9uYXRpb25zICs9IG1zZy52YWx1ZTsKICAgICAgICB9IGVsc2UgaWYoY3VycmVudFN0YXRlID09IFNUQVRFX0RPTkFUSU9OX1JPVU5EXzIpIHsKICAgICAgICAgICAgcm91bmQyRG9uYXRpb25zW19kb25vcl0gKz0gbXNnLnZhbHVlOwogICAgICAgICAgICB0b3RhbFBoYXNlMkRvbmF0aW9ucyArPSBtc2cudmFsdWU7CiAgICAgICAgfQogICAgfQp9'.
	

]
