Class {
	#name : #SRT35ba0d41cdf5e4cd2542a3ff8ea206398439a230,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT35ba0d41cdf5e4cd2542a3ff8ea206398439a230 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Ci8qKgoqIFNNQVJUUmVhbHR5CiogRVJDLTIwIFRva2VuIFN0YW5kYXJkIENvbXBsaWFudCArIENyb3dkc2FsZQoqIEBhdXRob3IgT3lld29sZSBBLiBTYW11ZWwgPGEgaHJlZj0iL2Nkbi1jZ2kvbC9lbWFpbC1wcm90ZWN0aW9uIiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9IjA4Njc3MTZkN2Y2NzY0NmQ2OTZhNjk3MTY3NjU2MTQ4NmY2NTY5NjE2NDI2NmI2NzY1Ij5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9hPgoqLwoKCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewoKICAvKioKICAqIEBkZXYgTXVsdGlwbGllcyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93LgogICovCiAgZnVuY3Rpb24gc2FmZU11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIC8qKgogICogQGRldiBJbnRlZ2VyIGRpdmlzaW9uIG9mIHR3byBudW1iZXJzLCB0cnVuY2F0aW5nIHRoZSBxdW90aWVudC4KICAqLwogIGZ1bmN0aW9uIHNhZmVEaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIC8qKgogICogQGRldiBTdWJzdHJhY3RzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cgKGkuZS4gaWYgc3VidHJhaGVuZCBpcyBncmVhdGVyIHRoYW4gbWludWVuZCkuCiAgKi8KICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgLyoqCiAgKiBAZGV2IEFkZHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAqLwogIGZ1bmN0aW9uIHNhZmVBZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLyoqCiogQHRpdGxlIEFkbWluIHBhcmFtZXRlcnMKKiBAZGV2IERlZmluZSBhZG1pbmlzdHJhdGlvbiBwYXJhbWV0ZXJzIGZvciB0aGlzIGNvbnRyYWN0CiovCmNvbnRyYWN0IGFkbWluZWQgewogICAgLy9UaGlzIHRva2VuIGNvbnRyYWN0IGlzIGFkbWluaXN0ZXJlZAogICAgYWRkcmVzcyBwdWJsaWMgYWRtaW47IC8vQWRtaW4gYWRkcmVzcyBpcyBwdWJsaWMKICAgIGJvb2wgcHVibGljIGxvY2tTdXBwbHk7IC8vTWludCBhbmQgQnVybiBMb2NrIGZsYWcKICAgIGJvb2wgcHVibGljIGxvY2tUcmFuc2ZlcjsgLy9UcmFuc2ZlciBMb2NrIGZsYWcKICAgIGFkZHJlc3MgcHVibGljIGFsbG93ZWRBZGRyZXNzOyAvL2FuIGFkZHJlc3MgdGhhdCBjYW4gb3ZlcnJpZGUgbG9jayBjb25kaXRpb24KICAgIGJvb2wgcHVibGljIGxvY2tUb2tlblN1cHBseTsKCiAgICAvKioKICAgICogQGRldiBDb250cmFjdCBjb25zdHJ1Y3RvcgogICAgKiBkZWZpbmUgaW5pdGlhbCBhZG1pbmlzdHJhdG9yCiAgICAqLwogICAgZnVuY3Rpb24gYWRtaW5lZCgpIGludGVybmFsIHsKICAgICAgICBhZG1pbiA9IG1zZy5zZW5kZXI7IC8vU2V0IGluaXRpYWwgYWRtaW4gdG8gY29udHJhY3QgY3JlYXRvcgogICAgICAgIEFkbWluZWQoYWRtaW4pOwogICAgfQoKICAgLyoqCiAgICAqIEBkZXYgRnVuY3Rpb24gdG8gc2V0IGFuIGFsbG93ZWQgYWRkcmVzcwogICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIGdpdmUgcHJpdmlsZWdlcy4KICAgICovCiAgICBmdW5jdGlvbiBzZXRBbGxvd2VkQWRkcmVzcyhhZGRyZXNzIF90bykgcHVibGljIHsKICAgICAgICBhbGxvd2VkQWRkcmVzcyA9IF90bzsKICAgICAgICBBbGxvd2VkU2V0KF90byk7CiAgICB9CgogICAgbW9kaWZpZXIgb25seUFkbWluKCkgeyAvL0EgbW9kaWZpZXIgdG8gZGVmaW5lIGFkbWluLW9ubHkgZnVuY3Rpb25zCiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGFkbWluKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIHN1cHBseUxvY2soKSB7IC8vQSBtb2RpZmllciB0byBsb2NrIG1pbnQgYW5kIGJ1cm4gdHJhbnNhY3Rpb25zCiAgICAgICAgcmVxdWlyZShsb2NrU3VwcGx5ID09IGZhbHNlKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIHRyYW5zZmVyTG9jaygpIHsgLy9BIG1vZGlmaWVyIHRvIGxvY2sgdHJhbnNhY3Rpb25zCiAgICAgICAgcmVxdWlyZShsb2NrVHJhbnNmZXIgPT0gZmFsc2UgfHwgYWxsb3dlZEFkZHJlc3MgPT0gbXNnLnNlbmRlcik7CiAgICAgICAgXzsKICAgIH0KCiAgIC8qKgogICAgKiBAZGV2IEZ1bmN0aW9uIHRvIHNldCBuZXcgYWRtaW4gYWRkcmVzcwogICAgKiBAcGFyYW0gX25ld0FkbWluIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIGFkbWluaXN0cmF0aW9uIHRvCiAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJBZG1pbnNoaXAoYWRkcmVzcyBfbmV3QWRtaW4pIG9ubHlBZG1pbiBwdWJsaWMgeyAvL0FkbWluIGNhbiBiZSB0cmFuc2ZlcmVkCiAgICAgICAgYWRtaW4gPSBfbmV3QWRtaW47CiAgICAgICAgVHJhbnNmZXJBZG1pbnNoaXAoYWRtaW4pOwogICAgfQoKICAgLyoqCiAgICAqIEBkZXYgRnVuY3Rpb24gdG8gc2V0IG1pbnQgYW5kIGJ1cm4gbG9ja3MKICAgICogQHBhcmFtIF9zZXQgYm9vbGVhbiBmbGFnICh0cnVlIHwgZmFsc2UpCiAgICAqLwogICAgZnVuY3Rpb24gc2V0U3VwcGx5TG9jayhib29sIF9zZXQpIG9ubHlBZG1pbiBwdWJsaWMgeyAvL09ubHkgdGhlIGFkbWluIGNhbiBzZXQgYSBsb2NrIG9uIHN1cHBseQogICAgICAgIGxvY2tTdXBwbHkgPSBfc2V0OwogICAgICAgIFNldFN1cHBseUxvY2soX3NldCk7CiAgICB9CgogICAvKioKICAgICogQGRldiBGdW5jdGlvbiB0byBzZXQgdHJhbnNmZXIgbG9jawogICAgKiBAcGFyYW0gX3NldCBib29sZWFuIGZsYWcgKHRydWUgfCBmYWxzZSkKICAgICovCiAgICBmdW5jdGlvbiBzZXRUcmFuc2ZlckxvY2soYm9vbCBfc2V0KSBvbmx5QWRtaW4gcHVibGljIHsgLy9Pbmx5IHRoZSBhZG1pbiBjYW4gc2V0IGEgbG9jayBvbiB0cmFuc2ZlcnMKICAgICAgICBsb2NrVHJhbnNmZXIgPSBfc2V0OwogICAgICAgIFNldFRyYW5zZmVyTG9jayhfc2V0KTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRMb2NrVG9rZW5TdXBwbHkoYm9vbCBfc2V0KSBvbmx5QWRtaW4gcHVibGljIHsKICAgICAgICBsb2NrVG9rZW5TdXBwbHkgPSBfc2V0OwogICAgICAgIFNldExvY2tUb2tlblN1cHBseShfc2V0KTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRMb2NrVG9rZW5TdXBwbHkoKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIGxvY2tUb2tlblN1cHBseTsKICAgIH0KCiAgICAvL0FsbCBhZG1pbiBhY3Rpb25zIGhhdmUgYSBsb2cgZm9yIHB1YmxpYyByZXZpZXcKICAgIGV2ZW50IEFsbG93ZWRTZXQoYWRkcmVzcyBfdG8pOwogICAgZXZlbnQgU2V0U3VwcGx5TG9jayhib29sIF9zZXQpOwogICAgZXZlbnQgU2V0VHJhbnNmZXJMb2NrKGJvb2wgX3NldCk7CiAgICBldmVudCBUcmFuc2ZlckFkbWluc2hpcChhZGRyZXNzIG5ld0FkbWluaXN0ZXIpOwogICAgZXZlbnQgQWRtaW5lZChhZGRyZXNzIGFkbWluaXN0ZXIpOwogICAgZXZlbnQgU2V0TG9ja1Rva2VuU3VwcGx5KGJvb2wgX3NldCk7Cgp9CgovKioKICogVG9rZW4gY29udHJhY3QgaW50ZXJmYWNlIGZvciBleHRlcm5hbCB1c2UKICovCmNvbnRyYWN0IEVSQzIwVG9rZW5JbnRlcmZhY2UgewogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwp9CgovKioKKiBAdGl0bGUgVG9rZW4gZGVmaW5pdGlvbgoqIEBkZXYgRGVmaW5lIHRva2VuIHBhcmFtdGVycyBpbmNsdWRpbmcgRVJDMjAgb25lcwoqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwVG9rZW5JbnRlcmZhY2UsIGFkbWluZWQgeyAvL1N0YW5kYXJkIGRlZmluaXRpb24gb2YgYSBFUkMyMFRva2VuCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsgLy9BIG1hcHBpbmcgb2YgYWxsIGJhbGFuY2VzIHBlciBhZGRyZXNzCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7IC8vQSBtYXBwaW5nIG9mIGFsbCBhbGxvd2FuY2VzCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIGZyb3plbjsgLy9BIG1hcHBpbmcgb2YgZnJvemVuIGFjY291bnRzCgogICAgLyoqCiAgICAqIEBkZXYgR2V0IHRoZSBiYWxhbmNlIG9mIGFuIHNwZWNpZmllZCBhZGRyZXNzLgogICAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIGJlIHF1ZXJ5LgogICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiB0cmFuc2ZlciB0b2tlbiB0byBhIHNwZWNpZmllZCBhZGRyZXNzCiAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHRyYW5zZmVyTG9jayBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7IC8vSWYgeW91IGRvbnQgd2FudCB0aGF0IHBlb3BsZSBkZXN0cm95IHRva2VuCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUpOwogICAgICAgIHJlcXVpcmUoZnJvemVuW21zZy5zZW5kZXJdPT1mYWxzZSk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zYWZlU3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uc2FmZUFkZChfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiB0cmFuc2ZlciB0b2tlbiBmcm9tIGFuIGFkZHJlc3MgdG8gYW5vdGhlciBzcGVjaWZpZWQgYWRkcmVzcyB1c2luZyBhbGxvd2FuY2UKICAgICogQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIHdoZXJlIHRva2VuIGNvbWVzLgogICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgdHJhbnNmZXJMb2NrIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsgLy9JZiB5b3UgZG9udCB3YW50IHRoYXQgcGVvcGxlIGRlc3Ryb3kgdG9rZW4KICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKTsKICAgICAgICByZXF1aXJlKGZyb3plbltfZnJvbV09PWZhbHNlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5zYWZlQWRkKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnNhZmVTdWIoX3ZhbHVlKTsKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnNhZmVTdWIoX3ZhbHVlKTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IEFzc2lnbiBhbGxvd2FuY2UgdG8gYW4gc3BlY2lmaWVkIGFkZHJlc3MgdG8gdXNlIHRoZSBvd25lciBiYWxhbmNlCiAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB0byBiZSBhbGxvd2VkIHRvIHNwZW5kLgogICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgYWxsb3dlZC4KICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IEdldCB0aGUgYWxsb3dhbmNlIG9mIGFuIHNwZWNpZmllZCBhZGRyZXNzIHRvIHVzZSBhbm90aGVyIGFkZHJlc3MgYmFsYW5jZS4KICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgb3duZXIgb2YgdGhlIHRva2Vucy4KICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhbGxvd2VkIHNwZW5kZXIuCiAgICAqLwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBNaW50IHRva2VuIHRvIGFuIHNwZWNpZmllZCBhZGRyZXNzLgogICAgKiBAcGFyYW0gX3RhcmdldCBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjZWl2ZXIgb2YgdGhlIHRva2Vucy4KICAgICogQHBhcmFtIF9taW50ZWRBbW91bnQgYW1vdW50IHRvIG1pbnQuCiAgICAqLwogICAgZnVuY3Rpb24gbWludFRva2VuKGFkZHJlc3MgX3RhcmdldCwgdWludDI1NiBfbWludGVkQW1vdW50KSBvbmx5QWRtaW4gc3VwcGx5TG9jayBwdWJsaWMgewogICAgICAgIGJhbGFuY2VzW190YXJnZXRdID0gU2FmZU1hdGguc2FmZUFkZChiYWxhbmNlc1tfdGFyZ2V0XSwgX21pbnRlZEFtb3VudCk7CiAgICAgICAgdG90YWxTdXBwbHkgPSBTYWZlTWF0aC5zYWZlQWRkKHRvdGFsU3VwcGx5LCBfbWludGVkQW1vdW50KTsKICAgICAgICBUcmFuc2ZlcigwLCB0aGlzLCBfbWludGVkQW1vdW50KTsKICAgICAgICBUcmFuc2Zlcih0aGlzLCBfdGFyZ2V0LCBfbWludGVkQW1vdW50KTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBCdXJuIHRva2VuIG9mIGFuIHNwZWNpZmllZCBhZGRyZXNzLgogICAgKiBAcGFyYW0gX3RhcmdldCBUaGUgYWRkcmVzcyBvZiB0aGUgaG9sZGVyIG9mIHRoZSB0b2tlbnMuCiAgICAqIEBwYXJhbSBfYnVybmVkQW1vdW50IGFtb3VudCB0byBidXJuLgogICAgKi8KICAgIGZ1bmN0aW9uIGJ1cm5Ub2tlbihhZGRyZXNzIF90YXJnZXQsIHVpbnQyNTYgX2J1cm5lZEFtb3VudCkgb25seUFkbWluIHN1cHBseUxvY2sgcHVibGljIHsKICAgICAgICBiYWxhbmNlc1tfdGFyZ2V0XSA9IFNhZmVNYXRoLnNhZmVTdWIoYmFsYW5jZXNbX3RhcmdldF0sIF9idXJuZWRBbW91bnQpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gU2FmZU1hdGguc2FmZVN1Yih0b3RhbFN1cHBseSwgX2J1cm5lZEFtb3VudCk7CiAgICAgICAgQnVybmVkKF90YXJnZXQsIF9idXJuZWRBbW91bnQpOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IEZyb3plbiBhY2NvdW50LgogICAgKiBAcGFyYW0gX3RhcmdldCBUaGUgYWRkcmVzcyB0byBiZWluZyBmcm96ZW4uCiAgICAqIEBwYXJhbSBfZmxhZyBUaGUgc3RhdHVzIG9mIHRoZSBmcm96ZW4KICAgICovCiAgICBmdW5jdGlvbiBzZXRGcm96ZW4oYWRkcmVzcyBfdGFyZ2V0LGJvb2wgX2ZsYWcpIG9ubHlBZG1pbiBwdWJsaWMgewogICAgICAgIGZyb3plbltfdGFyZ2V0XT1fZmxhZzsKICAgICAgICBGcm96ZW5TdGF0dXMoX3RhcmdldCxfZmxhZyk7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgTG9nIEV2ZW50cwogICAgKi8KICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBCdXJuZWQoYWRkcmVzcyBpbmRleGVkIF90YXJnZXQsIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEZyb3plblN0YXR1cyhhZGRyZXNzIF90YXJnZXQsYm9vbCBfZmxhZyk7Cn0KCmNvbnRyYWN0IFNNQVJUUmVhbHR5IGlzIFN0YW5kYXJkVG9rZW57CiAgICAvL3VzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogICAgCiAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAiU01BUlRSZWFsdHkiOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiUkxUWSI7CiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSA4OwogICAgc3RyaW5nIHB1YmxpYyB2ZXJzaW9uID0gIjEuMC4wIjsKCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBSQVRFID0gMTI1MDsgLy8xIFJMVFkgPSAwLjAwMDggRVRICiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIAogICAgLy8gYW1vdW50IG9mIHJhaXNlZCBtb25leSBpbiB3ZWkKICAgIHVpbnQyNTYgd2VpUmFpc2VkOyAgICAKICAgIAogICAgc3RydWN0IElDT1BoYXNlIHsKICAgICAgICB1aW50IGZyb21UaW1lc3RhbXA7IC8vaWNvIHN0YXJ0aW5nIHRpbWVzdGFtcAogICAgICAgIHVpbnQgdG9UaW1lc3RhbXA7IC8vIGljbyBlbmQgdGltZXN0YW1wCiAgICAgICAgdWludDI1NiBtaW5pbXVtOyAvLyBNaW5pbXVtIHB1cmNoYXNlIGZvciBlYWNoIHBoYXNlCiAgICAgICAgdWludDI1NiBmdW5kUmFpc2VkOwogICAgICAgIHVpbnQgYm9udXM7IC8vIEluIHBlcmNlbnQsIGllIDEwIGlzIGEgMTAlIGZvciBib251cwogICAgICAgIHVpbnQgdG90YWxOdW1iZXJPZlRva2VuUHVyY2hhc2U7IC8vbnVtYmVyIG9mIHRva2VuIGFsbG93ZWQgZm9yIGVhY2ggcGhhc2UKICAgIH0KICAgIAogICAgbWFwcGluZyh1aW50ID0+IElDT1BoYXNlKSBwaGFzZXM7CiAgICB1aW50IGljb1BoYXNlQ291bnRlciA9IDA7CiAgICAKICAgIGVudW0gSWNvU3RhdHVze1BlbmRpbmcsIEFjdGl2ZSwgSW5hY3RpdmV9CiAgICBJY29TdGF0dXMgc3RhdHVzOyAgICAKICAgIAogICAgZnVuY3Rpb24gU01BUlRSZWFsdHkoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgCiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIAogICAgICAgIHRvdGFsU3VwcGx5ID0gNTAwMDAwMDAwICogKDEwKip1aW50MjU2KGRlY2ltYWxzKSk7ICAgICAgICAgIC8vNTAwIG1pbGxpb24gaW5pdGlhbCB0b2tlbiBjcmVhdGlvbgogICAgICAgIAogICAgICAgIC8vVG9rZW5zIHRvIGNyZWF0b3Igd2FsbGV0IC0gRm9yIGRpc3RyaWJ1dGlvbiAgICAgICAgCiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gMjAwMDAwMDAwICogKDEwKip1aW50MjU2KGRlY2ltYWxzKSk7IC8vNDAlIGZvciBwdWJsaWMgZGlzdHJpYnV0aW9uCiAgICAgICAgCiAgICAgICAgLy9Jbml0aWFsIFRva2VuIERpc3RyaWJ1dGlvbgogICAgICAgIGJhbGFuY2VzWzB4Rjk1NjhiZDc3MkM5QjUxNzE5MzI3NWIzQzJFMENEQWQzOEU1ODZiQl0gPSA1MDAwMDAwMCAqICgxMCoqdWludDI1NihkZWNpbWFscykpOyAvLzEwJSBEZXZlbG9wbWVudCwgRXhlY3V0aXZlLCBhbmQgQWR2aXNvcnkgVGVhbXMKICAgICAgICBiYWxhbmNlc1sweDA3QURCMUQ5Mzk5QmQxRmE0ZkQ2MTNEMzE3OURGRTg4Mzc1NUJiMTNdID0gNTAwMDAwMDAgKiAoMTAqKnVpbnQyNTYoZGVjaW1hbHMpKTsgLy8xMCUgU01BUlRSZWFsdHkgRWNvbm9teQogICAgICAgIGJhbGFuY2VzWzB4ZDM1OTA5RGJlRWI1MjU1RDY1YjFlYTE0NjAyQzdmMDBjZTM4NzJmNl0gPSA1MDAwMDAwMCAqICgxMCoqdWludDI1NihkZWNpbWFscykpOyAvLzEwJSBNYXJrZXRpbmcKICAgICAgICBiYWxhbmNlc1sweDlEMkZlNEQ1ZjFkYzRGY0ExZjBFYTVmNDYxQzlmQUE1RDA5YjlDQ0VdID0gNTAwMDAwMDAgKiAoMTAqKnVpbnQyNTYoZGVjaW1hbHMpKTsgLy8xMCUgU01BUlRNb3J0Z2FnZXMKICAgICAgICBiYWxhbmNlc1sweDhCYjQxODQ4QjZkRDNEOThiODg0OTA0OWI3ODBkQzM1NDk1NjhjODldID0gMjUwMDAwMDAgKiAoMTAqKnVpbnQyNTYoZGVjaW1hbHMpKTsgLy81JSBBZG1pbgogICAgICAgIGJhbGFuY2VzWzB4Qzc4REYxOTVERTU3MTdGQjE1RkIzNDQ4RDVDNjg5M0U4ZTdmQjI1NF0gPSAyNTAwMDAwMCAqICgxMCoqdWludDI1NihkZWNpbWFscykpOyAvLzUlIENvbnRyYWN0b3JzCiAgICAgICAgYmFsYW5jZXNbMHg0NjkwNjc4OTI2QkNmOUIzMDk4NWMwNjgwNmQ0NTY4QzBDNDk4MTIzXSA9IDI1MDAwMDAwICogKDEwKip1aW50MjU2KGRlY2ltYWxzKSk7IC8vNSUgTGVnYWwKICAgICAgICBiYWxhbmNlc1sweDA4QUY4MDNGMEY5MGNjREJGQ2UwNDZCYzExMzgyMmNGZjQxNWUxNDhdID0gMjAwMDAwMDAgKiAoMTAqKnVpbnQyNTYoZGVjaW1hbHMpKTsgLy80JSBCb3VudGllcyBhbmQgR2l2ZWF3YXlzCiAgICAgICAgYmFsYW5jZXNbMHg4NjYxZEZiNjdkRTRFNTU2OWRhOTg1OWY1Q0I0QWE2NzZjZDVGNDgwXSA9IDUwMDAwMDAgKiAoMTAqKnVpbnQyNTYoZGVjaW1hbHMpKTsgLy8xJSBDaGFyaXRhYmxlIFVzZQogICAgICAgIAogICAgfQogICAgCiAgICAvL1NldCBJQ08gU3RhdHVzCiAgICBmdW5jdGlvbiBhY3RpdmF0ZUlDT1N0YXR1cygpIHB1YmxpYyB7CiAgICAgICAgc3RhdHVzID0gSWNvU3RhdHVzLkFjdGl2ZTsKICAgIH0gICAgCiAgICAKICAgIC8vU2V0IGVhY2ggUGhhc2Ugb2YgeW91ciBJQ08gaGVyZQogICAgZnVuY3Rpb24gc2V0SUNPUGhhc2UodWludCBfZnJvbVRpbWVzdGFtcCwgdWludCBfdG9UaW1lc3RhbXAsIHVpbnQyNTYgX21pbiwgdWludCBfYm9udXMpIG9ubHlBZG1pbiBwdWJsaWMgcmV0dXJucyAodWludCBJQ09QaGFzZUlkKSB7CiAgICAgICAgdWludCBpY29QaGFzZUlkID0gaWNvUGhhc2VDb3VudGVyKys7CiAgICAgICAgSUNPUGhhc2Ugc3RvcmFnZSBpY28gPSBwaGFzZXNbaWNvUGhhc2VJZF07CiAgICAgICAgaWNvLmZyb21UaW1lc3RhbXAgPSBfZnJvbVRpbWVzdGFtcDsKICAgICAgICBpY28udG9UaW1lc3RhbXAgPSBfdG9UaW1lc3RhbXA7CiAgICAgICAgaWNvLm1pbmltdW0gPSBfbWluOwogICAgICAgIGljby5ib251cyA9IF9ib251czsKICAgICAgICAvL2ljby50b3RhbE51bWJlck9mVG9rZW5QdXJjaGFzZSA9IF9udW1PZlRva2VuOwoKICAgICAgICBwaGFzZXNbaWNvUGhhc2VJZF0gPSBpY287CgogICAgICAgIHJldHVybiBpY29QaGFzZUlkOwogICAgfQogICAgCiAgICAvL0dldCBjdXJyZW50IElDTyBQaGFzZQogICAgZnVuY3Rpb24gZ2V0Q3VycmVudElDT1BoYXNlQm9udXMoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50IF9ib251cywgdWludCBpY29QaGFzZUlkKSB7CiAgICAgICAgcmVxdWlyZShpY29QaGFzZUNvdW50ZXIgPiAwKTsKICAgICAgICB1aW50IGN1cnJlbnRUaW1lc3RhbXAgPSBibG9jay50aW1lc3RhbXA7IC8vR2V0IHRoZSBjdXJyZW50IGJsb2NrIHRpbWVzdGFtcAoKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBpY29QaGFzZUNvdW50ZXI7IGkrKykgewogICAgICAgICAgICAKICAgICAgICAgICAgSUNPUGhhc2Ugc3RvcmFnZSBpY28gPSBwaGFzZXNbaV07CgogICAgICAgICAgICBpZiAoY3VycmVudFRpbWVzdGFtcCA+PSBpY28uZnJvbVRpbWVzdGFtcCAmJiBjdXJyZW50VGltZXN0YW1wIDw9IGljby50b1RpbWVzdGFtcCkgewogICAgICAgICAgICAgICAgcmV0dXJuIChpY28uYm9udXMsIGkpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgIH0KICAgIAogICAgLy8gT3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gaGF2ZSBhIHdheSB0byBhZGQgYnVzaW5lc3MgbG9naWMgdG8geW91ciBjcm93ZHNhbGUgd2hlbiBidXlpbmcKICAgIGZ1bmN0aW9uIGdldFRva2VuQW1vdW50KHVpbnQyNTYgd2VpQW1vdW50KSBpbnRlcm5hbCByZXR1cm5zKHVpbnQyNTYgdG9rZW4sIHVpbnQgaWQpIHsKICAgICAgICB2YXIgKGJvbnVzLCBwaGFzZUlkKSA9IGdldEN1cnJlbnRJQ09QaGFzZUJvbnVzKCk7ICAgICAgIC8vZ2V0IGN1cnJlbnQgSUNPIHBoYXNlIGluZm9ybWF0aW9uCiAgICAgICAgdWludDI1NiBudW1PZlRva2VucyA9IHdlaUFtb3VudC5zYWZlTXVsKFJBVEUpOwogICAgICAgIHVpbnQyNTYgYm9udXNUb2tlbiA9IChib251cyAvIDEwMCkgKiBudW1PZlRva2VuczsKICAgICAgICAKICAgICAgICB1aW50MjU2IHRvdGFsVG9rZW4gPSBudW1PZlRva2Vucy5zYWZlQWRkKGJvbnVzVG9rZW4pOyAgICAgICAgICAgICAgIC8vVG90YWwgdG9rZW5zIHRvIHRyYW5zZmVyCiAgICAgICAgcmV0dXJuICh0b3RhbFRva2VuLCBwaGFzZUlkKTsKICAgIH0gICAgCiAgICAKICAgIC8vIGxvdyBsZXZlbCB0b2tlbiBwdXJjaGFzZSBmdW5jdGlvbgogICAgZnVuY3Rpb24gX2J1eVRva2VucyhhZGRyZXNzIGJlbmVmaWNpYXJ5KSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZShiZW5lZmljaWFyeSAhPSBhZGRyZXNzKDApICYmIGJlbmVmaWNpYXJ5ICE9IG93bmVyKTsKICAgICAgICAKICAgICAgICB1aW50MjU2IHdlaUFtb3VudCA9IG1zZy52YWx1ZTsKICAgICAgICAKICAgICAgICAvLyBjYWxjdWxhdGUgdG9rZW4gYW1vdW50IHRvIGJlIGNyZWF0ZWQKICAgICAgICB2YXIgKHRva2VucywgcGhhc2VJZCkgPSBnZXRUb2tlbkFtb3VudCh3ZWlBbW91bnQpOwogICAgICAgIAogICAgICAgIC8vdXBkYXRlIHRoZSBjdXJyZW50IElDTyBQaGFzZQogICAgICAgIElDT1BoYXNlIHN0b3JhZ2UgaWNvID0gcGhhc2VzW3BoYXNlSWRdOyAvL2dldCBwaGFzZQogICAgICAgIGljby5mdW5kUmFpc2VkID0gaWNvLmZ1bmRSYWlzZWQuc2FmZUFkZChtc2cudmFsdWUpOyAvL1VwZGF0ZSBmdW5kUmFpc2VkIGZvciBhIHBhcnRpY3VsYXIgcGhhc2UKICAgICAgICBwaGFzZXNbcGhhc2VJZF0gPSBpY287CiAgICAgICAgCiAgICAgICAgLy8gdXBkYXRlIHN0YXRlCiAgICAgICAgd2VpUmFpc2VkID0gd2VpUmFpc2VkLnNhZmVBZGQod2VpQW1vdW50KTsKICAgICAgICAKICAgICAgICBfdHJhbnNmZXJUb2tlbihiZW5lZmljaWFyeSwgdG9rZW5zKTsKICAgICAgICBUb2tlblB1cmNoYXNlKG1zZy5zZW5kZXIsIGJlbmVmaWNpYXJ5LCB3ZWlBbW91bnQsIHRva2Vucyk7CiAgICAgICAgCiAgICAgICAgZm9yd2FyZEZ1bmRzKCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIF90cmFuc2ZlclRva2VuKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sKXsKICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSBiYWxhbmNlc1tvd25lcl0uc2FmZVN1YihfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5zYWZlQWRkKF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKGFkZHJlc3MoMCksIF90bywgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7ICAgICAgICAKICAgIH0KICAgIAogICAgLy8gc2VuZCBldGhlciB0byB0aGUgZnVuZCBjb2xsZWN0aW9uIHdhbGxldAogICAgLy8gb3ZlcnJpZGUgdG8gY3JlYXRlIGN1c3RvbSBmdW5kIGZvcndhcmRpbmcgbWVjaGFuaXNtcwogICAgZnVuY3Rpb24gZm9yd2FyZEZ1bmRzKCkgaW50ZXJuYWwgewogICAgICAgIG93bmVyLnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgICB9ICAgIAoKICAgIC8vIGZhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGJ1eSB0b2tlbnMKICAgIGZ1bmN0aW9uICgpIGV4dGVybmFsIHBheWFibGUgewogICAgICAgIF9idXlUb2tlbnMobXNnLnNlbmRlcik7CiAgICB9IAogICAgCiAgICAKICAgIGV2ZW50IFRva2VuUHVyY2hhc2UoYWRkcmVzcyBfc2VuZGVyLCBhZGRyZXNzIF9iZW5lZmljaWFyeSwgdWludDI1NiB3ZWlBbW91bnQsIHVpbnQyNTYgdG9rZW5zKTsKICAgIAp9'.
	

]
