Class {
	#name : #SRTc0506ceb264b057182a4c3ab8a0b910a545479f0,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc0506ceb264b057182a4c3ab8a0b910a545479f0 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjsKCmNvbnRyYWN0IFRva2VuIHsKICAgIC8qIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuICovCiAgICBzdHJpbmcgcHVibGljIHN0YW5kYXJkOwogICAgc3RyaW5nIHB1YmxpYyBuYW1lOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7CiAgICB1aW50MjU2IHB1YmxpYyBfdG90YWxTdXBwbHk7CgogICAgLyogVGhpcyBjcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGJhbGFuY2VzICovCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2Y7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2FuY2U7CgogICAgLyogRVJDMjAgRXZlbnRzICovCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7CgogICAgLyogSW5pdGlhbGl6ZXMgY29udHJhY3Qgd2l0aCBpbml0aWFsIHN1cHBseSB0b2tlbnMgdG8gdGhlIGNyZWF0b3Igb2YgdGhlIGNvbnRyYWN0ICovCiAgICBmdW5jdGlvbiBUb2tlbih1aW50MjU2IGluaXRpYWxTdXBwbHksIHN0cmluZyBfc3RhbmRhcmQsIHN0cmluZyBfbmFtZSwgc3RyaW5nIF9zeW1ib2wsIHVpbnQ4IF9kZWNpbWFscykgewogICAgICAgIF90b3RhbFN1cHBseSA9IGluaXRpYWxTdXBwbHk7CiAgICAgICAgYmFsYW5jZU9mW3RoaXNdID0gaW5pdGlhbFN1cHBseTsKICAgICAgICBzdGFuZGFyZCA9IF9zdGFuZGFyZDsKICAgICAgICBuYW1lID0gX25hbWU7CiAgICAgICAgc3ltYm9sID0gX3N5bWJvbDsKICAgICAgICBkZWNpbWFscyA9IF9kZWNpbWFsczsKICAgIH0KCiAgICAvKiBHZXQgYnVybmFibGUgdG90YWwgc3VwcGx5ICovCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnModWludDI1NiBzdXBwbHkpIHsKICAgICAgICByZXR1cm4gX3RvdGFsU3VwcGx5OwogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNmZXIgdG9rZW4gbG9naWMKICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBmcm9tLgogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJJbnRlcm5hbChhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGludGVybmFsIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW19mcm9tXSA+PSBfdmFsdWUpOwoKICAgICAgICAvLyBDaGVjayBmb3Igb3ZlcmZsb3dzCiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbX3RvXSArIF92YWx1ZSA+PSBiYWxhbmNlT2ZbX3RvXSk7CgogICAgICAgIGJhbGFuY2VPZltfZnJvbV0gLT0gX3ZhbHVlOwoKICAgICAgICBiYWxhbmNlT2ZbX3RvXSArPSBfdmFsdWU7CgogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2FuY2VbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb21JbnRlcm5hbChhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGludGVybmFsIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoX3ZhbHVlID49IGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0pOyAgIC8vIENoZWNrIGFsbG93YW5jZQoKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKCiAgICAgICAgcmV0dXJuIHRyYW5zZmVySW50ZXJuYWwoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KfQoKY29udHJhY3QgSUNPIHsKICAgIHVpbnQyNTYgcHVibGljIFBSRV9JQ09fU0lOQ0UgPSAxNTAwMzAzNjAwOyAgICAgICAgICAgICAgICAgICAgIC8vIDA3LzE3LzIwMTcgQCAxNTowMCAoVVRDKQogICAgdWludDI1NiBwdWJsaWMgUFJFX0lDT19USUxMID0gMTUwMDQ3NjQwMDsgICAgICAgICAgICAgICAgICAgICAgLy8gMDcvMTkvMjAxNyBAIDE1OjAwIChVVEMpCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBQUkVfSUNPX0JPTlVTX1JBVEUgPSA3MDsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFBSRV9JQ09fU0xHTl9MRVNTID0gNTAwMCBldGhlcjsgICAgICAgICAgICAgICAgIC8vIHVwcGVyIGxpbWl0IGZvciBwcmUgaWNvIGlzIDVrIGV0aGVyCgogICAgdWludDI1NiBwdWJsaWMgSUNPX1NJTkNFID0gMTUwMDk5NDgwMDsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMDcvMjUvMjAxNyBAIDk6MDBhbSAoVVRDKQogICAgdWludDI1NiBwdWJsaWMgSUNPX1RJTEwgPSAxNTAyODA5MjAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMDgvMTUvMjAxNyBAIDk6MDBhbSAoVVRDKQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgSUNPX0JPTlVTMV9TTEdOX0xFU1MgPSAyMDAwMCBldGhlcjsgICAgICAgICAgICAgICAgLy8gYm9udXMgMSB3aWxsIHdvcmsgb25seSBpZiAyMDAwMCBldGggd2VyZSBjb2xsZWN0ZWQgZHVyaW5nIGZpcnN0IHBoYXNlIG9mIGljbwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgSUNPX0JPTlVTMV9SQVRFID0gMzA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYm9udXMgMSByYXRlCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBJQ09fQk9OVVMyX1NMR05fTEVTUyA9IDUwMDAwIGV0aGVyOyAgICAgICAgICAgICAgICAvLyBib251cyAxIHdpbGwgd29yayBvbmx5IGlmIDUwMDAwIGV0aCB3ZXJlIGNvbGxlY3RlZCBkdXJpbmcgc2Vjb25kIHBoYXNlIG9mIGljbwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgSUNPX0JPTlVTMl9SQVRFID0gMTU7IC8vIGJvbnVzIDIgcmF0ZQoKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU29sZFNsb2duczsKCiAgICAvKiBUaGlzIGdlbmVyYXRlcyBhIHB1YmxpYyBldmVudCBvbiB0aGUgYmxvY2tjaGFpbiB0aGF0IHdpbGwgbm90aWZ5IGNsaWVudHMgKi8KICAgIGV2ZW50IEJvbnVzRWFybmVkKGFkZHJlc3MgdGFyZ2V0LCB1aW50MjU2IGJvbnVzKTsKCiAgICAvKioKICAgICAqIENhbGN1bGF0ZSBhbW91bnQgb2YgcHJlbWl1bSBib251c2VzCiAgICAgKiBAcGFyYW0gaWNvU3RlcCBpZGVudGlmaWVzIGlzIGl0IHByZS1pY28gKGVxdWFscyAwKSBvciBpY28gKGVxdWFscyAxKQogICAgICogQHBhcmFtIHRvdGFsU29sZFNsb2ducyB0b3RhbCBhbW91bnQgb2YgYWxyZWFkeSBzb2xkIHNsb2duIHRva2Vucy4KICAgICAqIEBwYXJhbSBzb2xkU2xvZ25zIHRvdGFsIGFtb3VudCBzb2xkIHNsb2ducyBpbiBjdXJyZW50IHRyYW5zYWN0aW9uLgogICAgICovCiAgICBmdW5jdGlvbiBjYWxjdWxhdGVCb251cyh1aW50OCBpY29TdGVwLCB1aW50MjU2IHRvdGFsU29sZFNsb2ducywgdWludDI1NiBzb2xkU2xvZ25zKSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgaWYoaWNvU3RlcCA9PSAxKSB7CiAgICAgICAgICAgIC8vIHByZSBpY28KICAgICAgICAgICAgcmV0dXJuIHNvbGRTbG9nbnMgLyAxMDAgKiBQUkVfSUNPX0JPTlVTX1JBVEU7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYoaWNvU3RlcCA9PSAyKSB7CiAgICAgICAgICAgIC8vIGljbwogICAgICAgICAgICBpZih0b3RhbFNvbGRTbG9nbnMgPiBJQ09fQk9OVVMxX1NMR05fTEVTUyArIElDT19CT05VUzJfU0xHTl9MRVNTKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdWludDI1NiBhdmFpbGFibGVGb3JCb251czEgPSBJQ09fQk9OVVMxX1NMR05fTEVTUyAtIHRvdGFsU29sZFNsb2duczsKCiAgICAgICAgICAgIHVpbnQyNTYgdG1wID0gc29sZFNsb2duczsKICAgICAgICAgICAgdWludDI1NiBib251cyA9IDA7CgogICAgICAgICAgICB1aW50MjU2IHRva2Vuc0ZvckJvbnVzMSA9IDA7CgogICAgICAgICAgICBpZihhdmFpbGFibGVGb3JCb251czEgPiAwICYmIGF2YWlsYWJsZUZvckJvbnVzMSA8PSBJQ09fQk9OVVMxX1NMR05fTEVTUykgewogICAgICAgICAgICAgICAgdG9rZW5zRm9yQm9udXMxID0gdG1wID4gYXZhaWxhYmxlRm9yQm9udXMxID8gYXZhaWxhYmxlRm9yQm9udXMxIDogdG1wOwoKICAgICAgICAgICAgICAgIGJvbnVzICs9IHRva2Vuc0ZvckJvbnVzMSAvIDEwMCAqIElDT19CT05VUzFfUkFURTsKICAgICAgICAgICAgICAgIHRtcCAtPSB0b2tlbnNGb3JCb251czE7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHVpbnQyNTYgYXZhaWxhYmxlRm9yQm9udXMyID0gKElDT19CT05VUzJfU0xHTl9MRVNTICsgSUNPX0JPTlVTMV9TTEdOX0xFU1MpIC0gdG90YWxTb2xkU2xvZ25zIC0gdG9rZW5zRm9yQm9udXMxOwoKICAgICAgICAgICAgdWludDI1NiB0b2tlbnNGb3JCb251czIgPSAwOwoKICAgICAgICAgICAgaWYoYXZhaWxhYmxlRm9yQm9udXMyID4gMCAmJiBhdmFpbGFibGVGb3JCb251czIgPD0gSUNPX0JPTlVTMl9TTEdOX0xFU1MpIHsKICAgICAgICAgICAgICAgIHRva2Vuc0ZvckJvbnVzMiA9IHRtcCA+IGF2YWlsYWJsZUZvckJvbnVzMiA/IGF2YWlsYWJsZUZvckJvbnVzMiA6IHRtcDsKCiAgICAgICAgICAgICAgICBib251cyArPSB0b2tlbnNGb3JCb251czIgLyAxMDAgKiBJQ09fQk9OVVMyX1JBVEU7CiAgICAgICAgICAgICAgICB0bXAgLT0gdG9rZW5zRm9yQm9udXMyOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gYm9udXM7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gMDsKICAgIH0KfQoKY29udHJhY3QgRXNjcm93SUNPIGlzIFRva2VuLCBJQ08gewogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgTUlOX1BSRV9JQ09fU0xPR05fQ09MTEVDVEVEID0gMTAwMCBldGhlcjsgICAgICAgLy8gUFJFIElDTyBpcyBzdWNjZXNzZnVsIG9ubHkgaWYgc29sZCAxMC4wMDAuMDAwIHNsb2ducwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgTUlOX0lDT19TTE9HTl9DT0xMRUNURUQgPSAxMDAwIGV0aGVyOyAgICAgICAgICAvLyBJQ08gaXMgc3VjY2Vzc2Z1bCBvbmx5IGlmIHNvbGQgMTAwLjAwMC4wMDAgc2xvZ25zCgogICAgYm9vbCBwdWJsaWMgaXNUcmFuc2FjdGlvbnNBbGxvd2VkOwoKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU29sZFNsb2duczsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBwcmVJY29FdGhlcnM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBpY29FdGhlcnM7CgogICAgZXZlbnQgUmVmdW5kRXRoKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBJY29GaW5pc2hlZCgpOwoKICAgIGZ1bmN0aW9uIEVzY3Jvd0lDTygpIHsKICAgICAgICBpc1RyYW5zYWN0aW9uc0FsbG93ZWQgPSBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRJY29TdGVwKHVpbnQyNTYgdGltZSkgcmV0dXJucyAodWludDggc3RlcCkgewogICAgICAgIGlmKHRpbWUgPj0gIFBSRV9JQ09fU0lOQ0UgJiYgdGltZSA8PSBQUkVfSUNPX1RJTEwpIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYodGltZSA+PSBJQ09fU0lOQ0UgJiYgdGltZSA8PSBJQ09fVElMTCkgewogICAgICAgICAgICAvLyBpY28gc2hvdWQgZmFpbCBpZiBjb2xsZWN0ZWQgbGVzcyB0aGFuIDEwMDAgc2xvZ25zIGR1cmluZyBwcmUgaWNvCiAgICAgICAgICAgIGlmKHRvdGFsU29sZFNsb2ducyA+PSBNSU5fUFJFX0lDT19TTE9HTl9DT0xMRUNURUQpIHsKICAgICAgICAgICAgICAgIHJldHVybiAyOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gMDsKICAgIH0KCiAgICAvKioKICAgICAqIG9mZmljaWFsbHkgZmluaXNoIElDTywgb25seSBhbGxvd2VkIGFmdGVyIElDTyBpcyBlbmRlZAogICAgICovCiAgICBmdW5jdGlvbiBpY29GaW5pc2hJbnRlcm5hbCh1aW50MjU2IHRpbWUpIGludGVybmFsIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBpZih0aW1lIDw9IElDT19USUxMKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmKHRvdGFsU29sZFNsb2ducyA+PSBNSU5fSUNPX1NMT0dOX0NPTExFQ1RFRCkgewogICAgICAgICAgICAvLyBidXJuIHRva2VucyBhc3NpZ25lZCB0byBzbWFydCBjb250cmFjdAoKICAgICAgICAgICAgX3RvdGFsU3VwcGx5ID0gX3RvdGFsU3VwcGx5IC0gYmFsYW5jZU9mW3RoaXNdOwoKICAgICAgICAgICAgYmFsYW5jZU9mW3RoaXNdID0gMDsKCiAgICAgICAgICAgIC8vIGFsbG93IHRyYW5zYWN0aW9ucyBmb3IgZXZlcnlvbmUKICAgICAgICAgICAgaXNUcmFuc2FjdGlvbnNBbGxvd2VkID0gdHJ1ZTsKCiAgICAgICAgICAgIEljb0ZpbmlzaGVkKCk7CgogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvKioKICAgICAqIHJlZnVuZCBpY28gbWV0aG9kCiAgICAgKi8KICAgIGZ1bmN0aW9uIHJlZnVuZEludGVybmFsKHVpbnQyNTYgdGltZSkgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGlmKHRpbWUgPD0gUFJFX0lDT19USUxMKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmKHRvdGFsU29sZFNsb2ducyA+PSBNSU5fUFJFX0lDT19TTE9HTl9DT0xMRUNURUQpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgdWludDI1NiB0cmFuc2ZlcmVkRXRoZXJzOwoKICAgICAgICB0cmFuc2ZlcmVkRXRoZXJzID0gcHJlSWNvRXRoZXJzW21zZy5zZW5kZXJdOwoKICAgICAgICBpZih0cmFuc2ZlcmVkRXRoZXJzID4gMCkgewogICAgICAgICAgICBwcmVJY29FdGhlcnNbbXNnLnNlbmRlcl0gPSAwOwoKICAgICAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdID0gMDsKCiAgICAgICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIodHJhbnNmZXJlZEV0aGVycyk7CgogICAgICAgICAgICBSZWZ1bmRFdGgobXNnLnNlbmRlciwgdHJhbnNmZXJlZEV0aGVycyk7CgogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KfQoKY29udHJhY3QgU2xvZ25Ub2tlbiBpcyBUb2tlbiwgRXNjcm93SUNPIHsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgU1RBTkRBUkQgPSAnU2xvZ24gdjAuMSc7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IE5BTUUgPSAnU0xPR04nOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBTWU1CT0wgPSAnU0xHTic7CiAgICB1aW50OCBwdWJsaWMgY29uc3RhbnQgUFJFQ0lTSU9OID0gMTQ7CgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgVE9UQUxfU1VQUExZID0gODAwMDAwIGV0aGVyOyAvLyBpbml0aWFsIHRvdGFsIHN1cHBseSBlcXVhbHMgdG8gOC4wMDAuMDAwLjAwMCBzbG9nbnMgb3IgODAwLjAwMCBldGhzCgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgQ09SRV9URUFNX1RPS0VOUyA9IFRPVEFMX1NVUFBMWSAvIDEwMCAqIDE1OyAgICAgICAvLyAxNSUKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IEFEVklTT1JZX0JPQVJEX1RPS0VOUyA9IFRPVEFMX1NVUFBMWSAvIDEwMDAgKiAxNTsgICAgICAgLy8gMS41JQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgT1BFTlNPVVJDRV9UT0tFTlMgPSBUT1RBTF9TVVBQTFkgLyAxMDAwICogNzU7ICAgICAvLyA3LjUlCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBSRVNFUlZFX1RPS0VOUyA9IFRPVEFMX1NVUFBMWSAvIDEwMCAqIDU7ICAgICAgICAgIC8vIDUlCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBCT1VOVFlfVE9LRU5TID0gVE9UQUxfU1VQUExZIC8gMTAwOyAgICAgICAgICAgICAgIC8vIDElCgogICAgYWRkcmVzcyBwdWJsaWMgYWR2aXNvcnlCb2FyZEZ1bmRNYW5hZ2VyOwogICAgYWRkcmVzcyBwdWJsaWMgb3BlbnNvdXJjZUZ1bmRNYW5hZ2VyOwogICAgYWRkcmVzcyBwdWJsaWMgcmVzZXJ2ZUZ1bmRNYW5hZ2VyOwogICAgYWRkcmVzcyBwdWJsaWMgYm91bnR5RnVuZE1hbmFnZXI7CiAgICBhZGRyZXNzIHB1YmxpYyBldGhGdW5kTWFuYWdlcjsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIC8qIFRoaXMgZ2VuZXJhdGVzIGEgcHVibGljIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgY2xpZW50cyAqLwogICAgZXZlbnQgQm9udXNFYXJuZWQoYWRkcmVzcyB0YXJnZXQsIHVpbnQyNTYgYm9udXMpOwoKICAgIC8qIE1vZGlmaWVycyAqLwogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUob3duZXIgPT0gbXNnLnNlbmRlcik7CgogICAgICAgIF87CiAgICB9CgogICAgLyogSW5pdGlhbGl6ZXMgY29udHJhY3Qgd2l0aCBpbml0aWFsIHN1cHBseSB0b2tlbnMgdG8gdGhlIGNyZWF0b3Igb2YgdGhlIGNvbnRyYWN0ICovCiAgICBmdW5jdGlvbiBTbG9nblRva2VuKAogICAgYWRkcmVzcyBbXSBjb3JlVGVhbSwKICAgIGFkZHJlc3MgX2Fkdmlzb3J5Qm9hcmRGdW5kTWFuYWdlciwKICAgIGFkZHJlc3MgX29wZW5zb3VyY2VGdW5kTWFuYWdlciwKICAgIGFkZHJlc3MgX3Jlc2VydmVGdW5kTWFuYWdlciwKICAgIGFkZHJlc3MgX2JvdW50eUZ1bmRNYW5hZ2VyLAogICAgYWRkcmVzcyBfZXRoRnVuZE1hbmFnZXIKICAgICkKICAgIFRva2VuIChUT1RBTF9TVVBQTFksIFNUQU5EQVJELCBOQU1FLCBTWU1CT0wsIFBSRUNJU0lPTikKICAgIEVzY3Jvd0lDTygpCiAgICB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwoKICAgICAgICBhZHZpc29yeUJvYXJkRnVuZE1hbmFnZXIgPSBfYWR2aXNvcnlCb2FyZEZ1bmRNYW5hZ2VyOwogICAgICAgIG9wZW5zb3VyY2VGdW5kTWFuYWdlciA9IF9vcGVuc291cmNlRnVuZE1hbmFnZXI7CiAgICAgICAgcmVzZXJ2ZUZ1bmRNYW5hZ2VyID0gX3Jlc2VydmVGdW5kTWFuYWdlcjsKICAgICAgICBib3VudHlGdW5kTWFuYWdlciA9IF9ib3VudHlGdW5kTWFuYWdlcjsKICAgICAgICBldGhGdW5kTWFuYWdlciA9IF9ldGhGdW5kTWFuYWdlcjsKCiAgICAgICAgLy8gdHJhbnNmZXIgdG9rZW5zIHRvIGNvcmUgdGVhbQogICAgICAgIHVpbnQyNTYgdG9rZW5zUGVyTWVtYmVyID0gQ09SRV9URUFNX1RPS0VOUyAvIGNvcmVUZWFtLmxlbmd0aDsKCiAgICAgICAgZm9yKHVpbnQ4IGkgPSAwOyBpIDwgY29yZVRlYW0ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdHJhbnNmZXJJbnRlcm5hbCh0aGlzLCBjb3JlVGVhbVtpXSwgdG9rZW5zUGVyTWVtYmVyKTsKICAgICAgICB9CgogICAgICAgIC8vIEFkdmlzb3J5IGJvYXJkIGZ1bmQKICAgICAgICB0cmFuc2ZlckludGVybmFsKHRoaXMsIGFkdmlzb3J5Qm9hcmRGdW5kTWFuYWdlciwgQURWSVNPUllfQk9BUkRfVE9LRU5TKTsKCiAgICAgICAgLy8gT3BlbnNvdXJjZSBmdW5kCiAgICAgICAgdHJhbnNmZXJJbnRlcm5hbCh0aGlzLCBvcGVuc291cmNlRnVuZE1hbmFnZXIsIE9QRU5TT1VSQ0VfVE9LRU5TKTsKCiAgICAgICAgLy8gUmVzZXJ2ZSBmdW5kCiAgICAgICAgdHJhbnNmZXJJbnRlcm5hbCh0aGlzLCByZXNlcnZlRnVuZE1hbmFnZXIsIFJFU0VSVkVfVE9LRU5TKTsKCiAgICAgICAgLy8gQm91bnR5IGZ1bmQKICAgICAgICB0cmFuc2ZlckludGVybmFsKHRoaXMsIGJvdW50eUZ1bmRNYW5hZ2VyLCBCT1VOVFlfVE9LRU5TKTsKICAgIH0KCiAgICBmdW5jdGlvbiBidXlGb3IoYWRkcmVzcyBfdXNlciwgdWludDI1NiBldGhlcnMsIHVpbnQgdGltZSkgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShldGhlcnMgPiAwKTsKCiAgICAgICAgdWludDggaWNvU3RlcCA9IGdldEljb1N0ZXAodGltZSk7CgogICAgICAgIHJlcXVpcmUoaWNvU3RlcCA9PSAxIHx8IGljb1N0ZXAgPT0gMik7CgogICAgICAgIC8vIG1heGltdW0gY29sbGVjdGVkIGFtb3VudCBmb3IgcHJlaWNvIGlzIDUwMDAgZXRoZXIKICAgICAgICBpZihpY29TdGVwID09IDEgJiYgKHRvdGFsU29sZFNsb2ducyArIGV0aGVycykgPiA1MDAwIGV0aGVyKSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KCiAgICAgICAgdWludDI1NiBzbG9nbkFtb3VudCA9IGV0aGVyczsgLy8gY2FsY3VsYXRlcyB0aGUgYW1vdW50CgogICAgICAgIHVpbnQyNTYgYm9udXMgPSBjYWxjdWxhdGVCb251cyhpY29TdGVwLCB0b3RhbFNvbGRTbG9nbnMsIHNsb2duQW1vdW50KTsKCiAgICAgICAgLy8gY2hlY2sgZm9yIGF2YWlsYWJsZSBzbG9nbnMKICAgICAgICByZXF1aXJlKGJhbGFuY2VPZlt0aGlzXSA+PSBzbG9nbkFtb3VudCArIGJvbnVzKTsKCiAgICAgICAgaWYoYm9udXMgPiAwKSB7CiAgICAgICAgICAgIEJvbnVzRWFybmVkKF91c2VyLCBib251cyk7CiAgICAgICAgfQoKICAgICAgICB0cmFuc2ZlckludGVybmFsKHRoaXMsIF91c2VyLCBzbG9nbkFtb3VudCArIGJvbnVzKTsKCiAgICAgICAgdG90YWxTb2xkU2xvZ25zICs9IHNsb2duQW1vdW50OwoKICAgICAgICBpZihpY29TdGVwID09IDEpIHsKICAgICAgICAgICAgcHJlSWNvRXRoZXJzW191c2VyXSArPSBldGhlcnM7ICAgICAgLy8gZmlsbCBldGhlcmV1bSB1c2VkIGZvciByZWZ1bmQgaWYgZ29hbCBub3QgcmVhY2hlZAogICAgICAgIH0KICAgICAgICBpZihpY29TdGVwID09IDIpIHsKICAgICAgICAgICAgaWNvRXRoZXJzW191c2VyXSArPSBldGhlcnM7ICAgICAgLy8gZmlsbCBldGhlcmV1bSB1c2VkIGZvciByZWZ1bmQgaWYgZ29hbCBub3QgcmVhY2hlZAogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBCdXkgU2xvZ24gdG9rZW5zCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJ1eSgpIHBheWFibGUgewogICAgICAgIGJ1eUZvcihtc2cuc2VuZGVyLCBtc2cudmFsdWUsIGJsb2NrLnRpbWVzdGFtcCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBNYW5hZ2UgZXRoZXJldW0gYmFsYW5jZQogICAgICogQHBhcmFtIHRvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICAgICogQHBhcmFtIHZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRXRoZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYobXNnLnNlbmRlciAhPSBldGhGdW5kTWFuYWdlcikgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBpZih0b3RhbFNvbGRTbG9nbnMgPCBNSU5fUFJFX0lDT19TTE9HTl9DT0xMRUNURUQpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgaWYodGhpcy5iYWxhbmNlIDwgdmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgdG8udHJhbnNmZXIodmFsdWUpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGlmKGlzVHJhbnNhY3Rpb25zQWxsb3dlZCA9PSBmYWxzZSkgewogICAgICAgICAgICBpZihtc2cuc2VuZGVyICE9IGJvdW50eUZ1bmRNYW5hZ2VyKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0cmFuc2ZlckludGVybmFsKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZihpc1RyYW5zYWN0aW9uc0FsbG93ZWQgPT0gZmFsc2UpIHsKICAgICAgICAgICAgaWYoX2Zyb20gIT0gYm91bnR5RnVuZE1hbmFnZXIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRyYW5zZmVyRnJvbUludGVybmFsKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gcmVmdW5kKCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiByZWZ1bmRJbnRlcm5hbChibG9jay50aW1lc3RhbXApOwogICAgfQoKICAgIGZ1bmN0aW9uIGljb0ZpbmlzaCgpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gaWNvRmluaXNoSW50ZXJuYWwoYmxvY2sudGltZXN0YW1wKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRQcmVJY29EYXRlcyh1aW50MjU2IHNpbmNlLCB1aW50MjU2IHRpbGwpIG9ubHlPd25lciB7CiAgICAgICAgUFJFX0lDT19TSU5DRSA9IHNpbmNlOwogICAgICAgIFBSRV9JQ09fVElMTCA9IHRpbGw7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0SWNvRGF0ZXModWludDI1NiBzaW5jZSwgdWludDI1NiB0aWxsKSBvbmx5T3duZXIgewogICAgICAgIElDT19TSU5DRSA9IHNpbmNlOwogICAgICAgIElDT19USUxMID0gdGlsbDsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRUcmFuc2FjdGlvbnNBbGxvd2VkKGJvb2wgZW5hYmxlZCkgb25seU93bmVyIHsKICAgICAgICBpc1RyYW5zYWN0aW9uc0FsbG93ZWQgPSBlbmFibGVkOwogICAgfQoKICAgIGZ1bmN0aW9uICgpIHBheWFibGUgewogICAgICAgIHRocm93OwogICAgfQp9'.
	

]
