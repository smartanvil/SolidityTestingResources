Class {
	#name : #SRTca5228d1fe52d22db85e02ca305cddd9e573d752,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTca5228d1fe52d22db85e02ca305cddd9e573d752 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7CgovKgogIENvcHlyaWdodCAyMDE3LCBGYXN0Q2FzaE1vbmV5UGx1cy5iaXoKCiAgVGhpcyBpcyBoaWdobHkgcHJvcHJpYXRhcnkgc29mdHdhcmUuIFVuZGVyIG5vIGNpcmN1bXN0YW5jZXMgaXMgYW55b25lLCBleGNlcHQgZm9yIGVtcGxveWVlcyBvZgogIEZhc3RDYXNoTW9uZXlQbHVzLmJpeiwgYXV0aG9yaXplZCB0byBtb2RpZnksIGRpc3RyaWJ1dGUsIHVzZSwgb3Igb3RoZXJ3aXNlIHByb2ZpdCBmcm9tIHRoZXNlCiAgY29udHJhY3RzLiBBbnlvbmUgYXR0ZW1wdGluZyB0byBkbyBzbyB3aWxsIGJlIHByb3NlY3V0ZWQgdW5kZXIgdGhlIGZ1bGwgZXh0ZW50IG9mIHRoZSBsYXcuCiovCgoKLy8gU2V0IGV4ZWN1dGl2ZSBwZXJtaXNzaW9ucyBvZiBjb250cmFjdApjb250cmFjdCBGYXN0Q2FzaE1vbmV5UGx1c1Blcm1pc3Npb25zIHsKICBhZGRyZXNzIHB1YmxpYyBjZW50cmFsQmFua2VyOwoKICBmdW5jdGlvbiBGYXN0Q2FzaE1vbmV5UGx1c1Blcm1pc3Npb25zKCkgcHVibGljIHsKICAgIGNlbnRyYWxCYW5rZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgbW9kaWZpZXIgb25seUNlbnRyYWxCYW5rZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gY2VudHJhbEJhbmtlcik7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gc2V0Q2VudHJhbEJhbmtlcihhZGRyZXNzIG5ld0NlbnRyYWxCYW5rZXIpIGV4dGVybmFsIG9ubHlDZW50cmFsQmFua2VyIHsKICAgIHJlcXVpcmUobmV3Q2VudHJhbEJhbmtlciAhPSBhZGRyZXNzKDApKTsKICAgIGNlbnRyYWxCYW5rZXIgPSBuZXdDZW50cmFsQmFua2VyOwogIH0KfQoKLy8gU2V0IGlkZW50aWZ5aW5nIGluZm9ybWF0aW9uCmNvbnRyYWN0IEZhc3RDYXNoTW9uZXlQbHVzQmFzZSBpcyBGYXN0Q2FzaE1vbmV5UGx1c1Blcm1pc3Npb25zIHsKICBzdHJpbmcgcHVibGljIG5hbWUgPSAiRmFzdENhc2hNb25leVBsdXMiOwogIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIkZBU1RDQVNIIjsKICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSAxODsKCiAgZnVuY3Rpb24gdXBkYXRlU3ltYm9sKHN0cmluZyBfbmV3U3ltYm9sKSBleHRlcm5hbCBvbmx5Q2VudHJhbEJhbmtlciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHN5bWJvbCA9IF9uZXdTeW1ib2w7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCi8vIERlc2NyaWJlIHRoZSBzdG9yYWdlIG1lY2hhbmlzbSBvZiB0aGUgY29udHJhY3QKLy8gYmFsYW5jZU9mIHJlZmVycyB0byB0aGUgc3RhbmRhcmQgbWFwcGluZyBvZiBldGggYWRkcmVzcyA9PiBiYWxhbmNlCi8vIHJvdXRpbmdDb2RlcyByZWZlciB0byBhIHNob3J0ZXIsIGh1bWFuLXJlYWRhYmxlIHN0cmluZyAoYnV0IHN0b3JlZCBhcyBieXRlcykKLy8gcm91dGluZ0NvZGVzIGFyZSB1c2VkIHByaW1lcmFsbHkgZm9yIHJlZmVyYWwgZmVlcywgYnV0IGNhbiBhbHNvIGJlIHVzZWQgdG8gdHJhbnNmZXIgRmFzdENhc2gKY29udHJhY3QgRmFzdENhc2hNb25leVBsdXNTdG9yYWdlIGlzIEZhc3RDYXNoTW9uZXlQbHVzQmFzZSB7CiAgbWFwcGluZyAoYnl0ZXMzMiA9PiBhZGRyZXNzKSBwdWJsaWMgcm91dGluZ0NvZGVNYXA7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgYmFsYW5jZU9mOwogIGJ5dGVzMzJbXSBwdWJsaWMgcm91dGluZ0NvZGVzOwoKICBmdW5jdGlvbiBGYXN0Q2FzaE1vbmV5UGx1c1N0b3JhZ2UoKSB7CiAgICBieXRlczMyIGNlbnRyYWxCYW5rZXJSb3V0aW5nQ29kZSA9ICJlbGVjdHJpY0dPRF9QT1dFUnZ5UzR4WTY5UjNhUiQiOwogICAgcm91dGluZ0NvZGVzLnB1c2goY2VudHJhbEJhbmtlclJvdXRpbmdDb2RlKTsKICAgIHJvdXRpbmdDb2RlTWFwW2NlbnRyYWxCYW5rZXJSb3V0aW5nQ29kZV0gPSBtc2cuc2VuZGVyOwogIH0KCiAgZnVuY3Rpb24gYmFsYW5jZU9mUm91dGluZ0NvZGUoYnl0ZXMzMiByb3V0aW5nQ29kZSkgZXh0ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgYWRkcmVzcyBfYWRkcmVzcyA9IHJvdXRpbmdDb2RlTWFwW3JvdXRpbmdDb2RlXTsKICAgIHJldHVybiBiYWxhbmNlT2ZbX2FkZHJlc3NdOwogIH0KCiAgZnVuY3Rpb24gdG90YWxJbnZlc3RvcnMoKSBleHRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICByZXR1cm4gcm91dGluZ0NvZGVzLmxlbmd0aDsKICB9CgogIGZ1bmN0aW9uIGNyZWF0ZVJvdXRpbmdDb2RlKGJ5dGVzMzIgX3JvdXRpbmdDb2RlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXF1aXJlKHJvdXRpbmdDb2RlTWFwW19yb3V0aW5nQ29kZV0gPT0gYWRkcmVzcygwKSk7CgogICAgcm91dGluZ0NvZGVNYXBbX3JvdXRpbmdDb2RlXSA9IG1zZy5zZW5kZXI7CiAgICByb3V0aW5nQ29kZXMucHVzaChfcm91dGluZ0NvZGUpOwogICAgcmV0dXJuIHRydWU7CiAgfQp9CgovLyBNYWludGFpbiBFUkMyMCBjb21wbGlhbmNlIC0tIGFsbG93IG90aGVyIGNvbnRyYWN0cyB0byBhY2Nlc3MgYWNjb3VudHMKY29udHJhY3QgRmFzdENhc2hNb25leVBsdXNBY2Nlc3NDb250cm9sIGlzIEZhc3RDYXNoTW9uZXlQbHVzU3RvcmFnZSB7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSBpbnRlcm5hbCBhbGxvd2VkOwoKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKTsKCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgZXh0ZXJuYWwgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgZXh0ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KfQoKLyoKSGFuZGxlIGFsbCB0aGUgbG9naWMgZm9yIHNlbGxpbmcgRmFzdENhc2ggdG8gdGhlIHB1YmxpYwogIFRoZSB0b3RhbCBzdXBwbHkgaXMgMTAwMDAwMCBGYXN0Q2FzaC4KICBCdXQsIGJlY2F1c2Ugc29saWRpdHkgZG9lcyBub3Qgc3VwcG9ydCBmbG9hdGluZyBwb2ludCBudW1iZXJzLCB3ZSBjcmVhdGUgYSAic21hbGxlc3QgZGVub21pbmF0aW9uIiwgZXF1YWwgdG8gMTBlLTE4IEZhc3RDYXNoCiAgVGhpcyBzbWFsbGVzdCBkZW5vbWluYXRpb24gaXMgY2FsbGVkIHRoZSAiTW9uZXlCdWNrIgogIEFkZGl0aW9uYWxseSwgY29udHJhY3RzIGRvIG5vdCBzdXBwb3J0IG51bWJlcnMgbGFyZ2VyIHRoYW4gMl4yNTYgKH4xLjE1ZTc3KQoKICBUaGUgcHJpY2Ugb2YgRmFzdENhc2ggaW4gV0VJIGluY3JlYXNlcyBieSAyMCUgZXZlcnkgd2VlaywgdXAgdG8gd2VlayA3MS4KICBJbiBvcmRlciB0byBrZWVwIHRoZSBwcmljZSBjb25zaXN0ZW50IHdpdGggVVNELCB0aGUgRVRIIHByaWNlIGlzIGFkanVzdGVkIGJ5IHRoZSBVU0RXRUkgcmF0ZSAod2hpY2ggdGhlIGNlbnRyYWwgYmFua2VyIG1heSBjaGFuZ2UpLgoKICBUaGUgVVNEL0ZBU1RDQVNIIHJhdGUgaXMgdGhlbiAkMC4yNSAqICgxLjIgKiogd2Vla3NTaW5jZVN0YXJ0KQogIFdoZXJlYXMsIHRoZSBFVEgvRkFTVENBU0ggcmF0ZSBpcyBVU0QvRkFTVENBU0ggKiBFVEgvVVNECgogIEJ1dCwgZHVlIHRvIHRoZSBkZWNpbWFsIHBsYWNlIHJlc3RyaWN0aW9uLCB3ZSBtdXN0IG11bHRpcGx5IHNpbmdsZSBkZWNpbWFsIHBsYWNlcyBieSAxMCwgYW5kIGNyeXB0byBhbW91bnRzIGJ5IDEwXjE4LCBhbmQgb25seSBkaXZpZGUgYmlnIG51bWJlcnMuCiAgU28sIFdFSS9GQVNUQ0FTSCA9IFdFSS9VU0QgKiAoIDQgLyAoKDEyICoqIHdlZWtzU2luY2VTdGFydCkgLyAxMCkgKQogIChUbyBtYWludGFpbiBjb25zaXN0ZW5jeSB3aXRoIG90aGVyIGN1cnJlbmN5IGV4Y2hhbmdlIHN5bWJvbHMsIFdFSS9VU0QgaXMgcmVmZXJyZWQgdG8gYXMgVVNEV0VJKQogIGdldEV4Y2hhbmdlUmF0ZSB1c2VzIGFsZ2VicmEgdG8gYWRqdXN0IHRoZXNlIG51bWJlcnMgZnVydGhlciwgc3VjaCB0aGF0IG5vIHBvaW50IG9mIHRoZSBjYWxjdWxhdGlvbiByZWZlcnMgdG8gYSBudW1iZXIgZ3JlYXRlciB0aGFuIDJeMjU2LgoKCiAgQWRkaXRpb25hbGx5LCBhbGwgcHVyY2hhc2VzIG9mIEZBU1RDQVNIIGdvaW5nIHRocm91Z2ggdGhlIGBidXlgIGNoYW5uZWwgKHdoaWNoIG1heSBoYXZlIGEgcm91dGluZ0NvZGUgYXMgcmVmZXJhbCksIGNyZWRpdCB0aGUgcmVmZXJyZXIgd2l0aCBhIEZhc3RDYXNoIGJvbnVzIGVxdWFsIHRvIDEwJSBvZiB0aGUgc2FsZSBhbW91bnQuCiovCmNvbnRyYWN0IEZhc3RDYXNoTW9uZXlQbHVzU2FsZXMgaXMgRmFzdENhc2hNb25leVBsdXNBY2Nlc3NDb250cm9sIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICB1aW50MjU2IHB1YmxpYyBmYXN0Q2FzaEJhbms7CiAgdWludCBwdWJsaWMgY3JlYXRpb25EYXRlOwogIHVpbnQgcHJpdmF0ZSBjb25zdGFudCBvbmVXZWVrID0gNjAgKiA2MCAqIDI0ICogNzsKICB1aW50IHB1YmxpYyBVU0RXRUkgPSA3NjAwMDAwMDAwMDAwMDA7CiAgdWludCBwdWJsaWMgcmVmZXJhbEJvbnVzID0gMTA7CgogIGV2ZW50IFNhbGUoYWRkcmVzcyBfYWRkcmVzcywgdWludCBfYW1vdW50KTsKCiAgZnVuY3Rpb24gRmFzdENhc2hNb25leVBsdXNTYWxlcygpIHB1YmxpYyB7CiAgICB0b3RhbFN1cHBseSA9IDEwMDAwMDAgKiAxMCAqKiB1aW50MjU2KGRlY2ltYWxzKTsKICAgIGZhc3RDYXNoQmFuayA9IHRvdGFsU3VwcGx5OwogICAgY3JlYXRpb25EYXRlID0gbm93OwogIH0KCiAgZnVuY3Rpb24gdXBkYXRlVVNEV0VJKHVpbnQgX3dlaSkgZXh0ZXJuYWwgb25seUNlbnRyYWxCYW5rZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBVU0RXRUkgPSBfd2VpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiB1cGRhdGVSZWZlcmFsQm9udXModWludCBfbmV3Qm9udXMpIGV4dGVybmFsIG9ubHlDZW50cmFsQmFua2VyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmVmZXJhbEJvbnVzID0gX25ld0JvbnVzOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiB3ZWVrc0Zyb21DcmVhdGlvbigpIHJldHVybnMgKHVpbnQpIHsKICAgIHJldHVybiAobm93IC0gY3JlYXRpb25EYXRlKSAvIG9uZVdlZWs7CiAgfQoKICBmdW5jdGlvbiBnZXRFeGNoYW5nZVJhdGUodWludCBfd2VlaywgdWludCBfdmFsdWUsIHVpbnQgX3VzZHdlaSkgcHVibGljIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgX193ZWVrOwogICAgaWYgKF93ZWVrID4gNzEpIHsKICAgICAgX193ZWVrID0gNzE7CiAgICB9IGVsc2UgewogICAgICBfX3dlZWsgPSBfd2VlazsKICAgIH0KCiAgICB1aW50IGV4dHJhQWRqID0gMDsKICAgIGlmIChfX3dlZWsgPiA1MCkgewogICAgICBleHRyYUFkaiA9IF9fd2VlayAtIDUwOwogICAgfQoKICAgIHVpbnQgbWluQWRqID0gMTA7CiAgICB1aW50IHggPSBfX3dlZWsgKyBkZWNpbWFscyAtIChtaW5BZGogKyBleHRyYUFkaik7CgogICAgdWludCBuID0gX3ZhbHVlICogNCAqIHVpbnQoMTAgKiogeCk7CiAgICB1aW50IGQgPSAoIF91c2R3ZWkgLyB1aW50KDEwICoqIG1pbkFkaikgKSAqICh1aW50KDEyICoqIF9fd2VlaykgLyB1aW50KDEwICoqIGV4dHJhQWRqKSk7CgogICAgcmV0dXJuIG4gLyBkOwogIH0KCiAgZnVuY3Rpb24gZ2V0Q3VycmVudEV4Y2hhbmdlUmF0ZSgpIHB1YmxpYyByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IF93ZWVrID0gd2Vla3NGcm9tQ3JlYXRpb24oKTsKICAgIHJldHVybiBnZXRFeGNoYW5nZVJhdGUoX3dlZWssIFVTRFdFSSwgVVNEV0VJKTsKICB9CgogIGZ1bmN0aW9uIF9tYWtlU2FsZSgpIHByaXZhdGUgcmV0dXJucyAodWludCkgewogICAgdWludCBfd2VlayA9IHdlZWtzRnJvbUNyZWF0aW9uKCk7CiAgICB1aW50IF92YWx1ZSA9IG1zZy52YWx1ZTsKCiAgICB1aW50IG1vbmV5QnVja3MgPSBnZXRFeGNoYW5nZVJhdGUoX3dlZWssIF92YWx1ZSwgVVNEV0VJKTsKCiAgICByZXF1aXJlKG1vbmV5QnVja3MgPiAwKTsKICAgIHJlcXVpcmUoZmFzdENhc2hCYW5rID49IG1vbmV5QnVja3MpOwoKICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSArPSBtb25leUJ1Y2tzOwogICAgZmFzdENhc2hCYW5rIC09IG1vbmV5QnVja3M7CgogICAgY2VudHJhbEJhbmtlci50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgU2FsZShtc2cuc2VuZGVyLCBtb25leUJ1Y2tzKTsKICAgIHJldHVybiBtb25leUJ1Y2tzOwogIH0KCiAgZnVuY3Rpb24gYnV5KGJ5dGVzMzIgX3JvdXRpbmdDb2RlLCBieXRlczMyIF9yZWZlcmFsKSBwYXlhYmxlIHsKICAgIHVpbnQgbW9uZXlCdWNrcyA9IF9tYWtlU2FsZSgpOwoKICAgIGlmIChyb3V0aW5nQ29kZU1hcFtfcm91dGluZ0NvZGVdID09IGFkZHJlc3MoMCkpIHsKICAgICAgYm9vbCByb3V0aW5nQ29kZUNyZWF0ZWQgPSBjcmVhdGVSb3V0aW5nQ29kZShfcm91dGluZ0NvZGUpOwogICAgICByZXF1aXJlKHJvdXRpbmdDb2RlQ3JlYXRlZCk7CiAgICB9CgogICAgaWYgKF9yZWZlcmFsWzBdICE9IDApIHsKICAgICAgdWludCByZWZlcmFsRmVlOwogICAgICBpZiAoZmFzdENhc2hCYW5rID4gKG1vbmV5QnVja3MgLyByZWZlcmFsQm9udXMpKSB7CiAgICAgICAgcmVmZXJhbEZlZSA9IG1vbmV5QnVja3MgLyByZWZlcmFsQm9udXM7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVmZXJhbEZlZSA9IGZhc3RDYXNoQmFuazsKICAgICAgfQogICAgICBhZGRyZXNzIHJlZmVyZW5jZSA9IHJvdXRpbmdDb2RlTWFwW19yZWZlcmFsXTsKICAgICAgaWYgKHJlZmVyZW5jZSAhPSBhZGRyZXNzKDApKSB7CiAgICAgICAgYmFsYW5jZU9mW3JlZmVyZW5jZV0gKz0gcmVmZXJhbEZlZTsKICAgICAgICBmYXN0Q2FzaEJhbmsgLT0gcmVmZXJhbEZlZTsKICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7CiAgICBfbWFrZVNhbGUoKTsKICB9Cn0KCi8vIFRyYW5zZmVyIEZhc3RDYXNoIGJldHdlZW4gYWNjb3VudHMgYnkgZWl0aGVyIEVUSCBhZGRyZXNzIG9yIEZhc3RDYXNoIHJvdXRpbmdDb2RlCmNvbnRyYWN0IEZhc3RDYXNoTW9uZXlQbHVzVHJhbnNmZXIgaXMgRmFzdENhc2hNb25leVBsdXNTYWxlcyB7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50IF92YWx1ZSk7CgogIGZ1bmN0aW9uIF90cmFuc2ZlcigKICAgIGFkZHJlc3MgX2Zyb20sCiAgICBhZGRyZXNzIF90bywKICAgIHVpbnQgX2Ftb3VudAogICkgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3ModGhpcykpOwogICAgcmVxdWlyZShfYW1vdW50ID4gMCk7CiAgICByZXF1aXJlKGJhbGFuY2VPZltfZnJvbV0gPj0gX2Ftb3VudCk7CiAgICByZXF1aXJlKGJhbGFuY2VPZltfdG9dICsgX2Ftb3VudCA+IGJhbGFuY2VPZltfdG9dKTsKCiAgICBiYWxhbmNlT2ZbX2Zyb21dIC09IF9hbW91bnQ7CiAgICBiYWxhbmNlT2ZbX3RvXSArPSBfYW1vdW50OwoKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7CgogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBleHRlcm5hbCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJldHVybiBfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfYW1vdW50KTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBleHRlcm5hbCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJlcXVpcmUoYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCk7CgogICAgYm9vbCB0cmFuZmVyU3VjY2VzcyA9IF90cmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsKICAgIGlmICh0cmFuZmVyU3VjY2VzcykgewogICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfYW1vdW50OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJUb0FjY291bnQoYnl0ZXMzMiBfdG9Sb3V0aW5nQ29kZSwgdWludCBfYW1vdW50KSBleHRlcm5hbCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJldHVybiBfdHJhbnNmZXIobXNnLnNlbmRlciwgcm91dGluZ0NvZGVNYXBbX3RvUm91dGluZ0NvZGVdLCBfYW1vdW50KTsKICB9CgogIC8vIG5lZWQgdG8gcGxheSBhcm91bmQgd2l0aCB0aGlzIHRvIGZpZ3VyZSBvdXQgc29tZSBvZiB0aGUgc3BlY2lmaWNzCiAgZnVuY3Rpb24gdHJhbnNmZXJSb3V0aW5nQ29kZShieXRlczMyIF9yb3V0aW5nQ29kZSwgYWRkcmVzcyBfdG8pIGV4dGVybmFsIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgYWRkcmVzcyBvd25lciA9IHJvdXRpbmdDb2RlTWFwW19yb3V0aW5nQ29kZV07CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoKICAgIHJvdXRpbmdDb2RlTWFwW19yb3V0aW5nQ29kZV0gPSBfdG87CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIF90cmFuc2ZlckZyb21CYW5rKGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIGludGVybmFsIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF9hbW91bnQgPiAwKTsKICAgIHJlcXVpcmUoZmFzdENhc2hCYW5rID49IF9hbW91bnQpOwogICAgcmVxdWlyZShiYWxhbmNlT2ZbX3RvXSArIF9hbW91bnQgPiBiYWxhbmNlT2ZbX3RvXSk7CgogICAgZmFzdENhc2hCYW5rIC09IF9hbW91bnQ7CiAgICBiYWxhbmNlT2ZbX3RvXSArPSBfYW1vdW50OwoKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7CgogICAgcmV0dXJuIHRydWU7CiAgfQogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbUJhbmsoYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgZXh0ZXJuYWwgb25seUNlbnRyYWxCYW5rZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXR1cm4gX3RyYW5zZmVyRnJvbUJhbmsoX3RvLCBfYW1vdW50KTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbUJhbmtUb0FjY291bnQoYnl0ZXMzMiBfdG9Sb3V0aW5nQ29kZSwgdWludCBfYW1vdW50KSBleHRlcm5hbCBvbmx5Q2VudHJhbEJhbmtlciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJldHVybiBfdHJhbnNmZXJGcm9tQmFuayhyb3V0aW5nQ29kZU1hcFtfdG9Sb3V0aW5nQ29kZV0sIF9hbW91bnQpOwogIH0KfQoKY29udHJhY3QgRmFzdENhc2hNb25leVBsdXMgaXMgRmFzdENhc2hNb25leVBsdXNUcmFuc2ZlciB7Cgp9'.
	

]
