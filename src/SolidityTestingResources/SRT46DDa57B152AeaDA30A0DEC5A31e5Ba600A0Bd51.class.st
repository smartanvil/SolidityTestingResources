Class {
	#name : #SRT46DDa57B152AeaDA30A0DEC5A31e5Ba600A0Bd51,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT46DDa57B152AeaDA30A0DEC5A31e5Ba600A0Bd51 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgppbnRlcmZhY2UgdG9rZW5SZWNpcGllbnQgeyBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWM7IH0KCmNvbnRyYWN0IE95c3RlclBlYXJsIHsKICAgIC8vIFB1YmxpYyB2YXJpYWJsZXMgb2YgUFJMCiAgICBzdHJpbmcgcHVibGljIG5hbWU7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgdWludDI1NiBwdWJsaWMgZnVuZHM7CiAgICBhZGRyZXNzIHB1YmxpYyBkaXJlY3RvcjsKICAgIGJvb2wgcHVibGljIHNhbGVDbG9zZWQ7CiAgICBib29sIHB1YmxpYyBkaXJlY3RvckxvY2s7CiAgICB1aW50MjU2IHB1YmxpYyBjbGFpbUFtb3VudDsKICAgIHVpbnQyNTYgcHVibGljIHBheUFtb3VudDsKICAgIHVpbnQyNTYgcHVibGljIGZlZUFtb3VudDsKICAgIHVpbnQyNTYgcHVibGljIGVwb2NoOwogICAgdWludDI1NiBwdWJsaWMgcmV0ZW50aW9uTWF4OwoKICAgIC8vIEFycmF5IGRlZmluaXRpb25zCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgcHVibGljIGFsbG93YW5jZTsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGJ1cmllZDsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGNsYWltZWQ7CgogICAgLy8gRVJDMjAgZXZlbnQKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgCiAgICAvLyBFUkMyMCBldmVudAogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7CgogICAgLy8gVGhpcyBub3RpZmllcyBjbGllbnRzIGFib3V0IHRoZSBhbW91bnQgYnVybnQKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIF9mcm9tLCB1aW50MjU2IF92YWx1ZSk7CiAgICAKICAgIC8vIFRoaXMgbm90aWZpZXMgY2xpZW50cyBhYm91dCBhbiBhZGRyZXNzIGdldHRpbmcgYnVyaWVkCiAgICBldmVudCBCdXJ5KGFkZHJlc3MgaW5kZXhlZCBfdGFyZ2V0LCB1aW50MjU2IF92YWx1ZSk7CiAgICAKICAgIC8vIFRoaXMgbm90aWZpZXMgY2xpZW50cyBhYm91dCBhIGNsYWltIGJlaW5nIG1hZGUgb24gYSBidXJpZWQgYWRkcmVzcwogICAgZXZlbnQgQ2xhaW0oYWRkcmVzcyBpbmRleGVkIF90YXJnZXQsIGFkZHJlc3MgaW5kZXhlZCBfcGF5b3V0LCBhZGRyZXNzIGluZGV4ZWQgX2ZlZSk7CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3RvciBmdW5jdGlvbgogICAgICoKICAgICAqIEluaXRpYWxpemVzIGNvbnRyYWN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIE95c3RlclBlYXJsKCkgcHVibGljIHsKICAgICAgICBkaXJlY3RvciA9IG1zZy5zZW5kZXI7CiAgICAgICAgbmFtZSA9ICJPeXN0ZXIgUGVhcmwiOwogICAgICAgIHN5bWJvbCA9ICJQUkwiOwogICAgICAgIGRlY2ltYWxzID0gMTg7CiAgICAgICAgZnVuZHMgPSAwOwogICAgICAgIHRvdGFsU3VwcGx5ID0gMDsKICAgICAgICBzYWxlQ2xvc2VkID0gdHJ1ZTsKICAgICAgICBkaXJlY3RvckxvY2sgPSBmYWxzZTsKICAgICAgICAKICAgICAgICAvLyBNYXJrZXRpbmcgc2hhcmUgKDUlKQogICAgICAgIHRvdGFsU3VwcGx5ICs9IDI1MDAwMDAwICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CiAgICAgICAgCiAgICAgICAgLy8gRGV2ZnVuZCBzaGFyZSAoMTUlKQogICAgICAgIHRvdGFsU3VwcGx5ICs9IDc1MDAwMDAwICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CiAgICAgICAgCiAgICAgICAgLy8gQWxsb2NhdGlvbiB0byBtYXRjaCBQUkVQUkwgc3VwcGx5IGFuZCByZXNlcnZhdGlvbiBmb3IgZGlzY3JldGlvbmFyeSB1c2UKICAgICAgICB0b3RhbFN1cHBseSArPSA4MDAwMDAwICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CiAgICAgICAgCiAgICAgICAgLy8gQXNzaWduIHJlc2VydmVkIFBSTCBzdXBwbHkgdG8gdGhlIGRpcmVjdG9yCiAgICAgICAgYmFsYW5jZXNbZGlyZWN0b3JdID0gdG90YWxTdXBwbHk7CiAgICAgICAgCiAgICAgICAgLy8gRGVmaW5lIGRlZmF1bHQgdmFsdWVzIGZvciBPeXN0ZXIgZnVuY3Rpb25zCiAgICAgICAgY2xhaW1BbW91bnQgPSA1ICogMTAgKiogKHVpbnQyNTYoZGVjaW1hbHMpIC0gMSk7CiAgICAgICAgcGF5QW1vdW50ID0gNCAqIDEwICoqICh1aW50MjU2KGRlY2ltYWxzKSAtIDEpOwogICAgICAgIGZlZUFtb3VudCA9IDEgKiAxMCAqKiAodWludDI1NihkZWNpbWFscykgLSAxKTsKICAgICAgICAKICAgICAgICAvLyBTZWNvbmRzIGluIGEgeWVhcgogICAgICAgIGVwb2NoID0gMzE1MzYwMDA7CiAgICAgICAgCiAgICAgICAgLy8gTWF4aW11bSB0aW1lIGZvciBhIHNlY3RvciB0byByZW1haW4gc3RvcmVkCiAgICAgICAgcmV0ZW50aW9uTWF4ID0gNDAgKiAxMCAqKiB1aW50MjU2KGRlY2ltYWxzKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBFUkMyMCBiYWxhbmNlIGZ1bmN0aW9uCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQogICAgCiAgICBtb2RpZmllciBvbmx5RGlyZWN0b3IgewogICAgICAgIC8vIERpcmVjdG9yIGNhbiBsb2NrIHRoZW1zZWx2ZXMgb3V0IHRvIGNvbXBsZXRlIGRlY2VudHJhbGl6YXRpb24gb2YgT3lzdGVyIG5ldHdvcmsKICAgICAgICAvLyBBbiBhbHRlcm5hdGl2ZSBpcyB0aGF0IGFub3RoZXIgc21hcnQgY29udHJhY3QgY291bGQgYmVjb21lIHRoZSBkZWNlbnRyYWxpemVkIGRpcmVjdG9yCiAgICAgICAgcmVxdWlyZSghZGlyZWN0b3JMb2NrKTsKICAgICAgICAKICAgICAgICAvLyBPbmx5IHRoZSBkaXJlY3RvciBpcyBwZXJtaXR0ZWQKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZGlyZWN0b3IpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIG1vZGlmaWVyIG9ubHlEaXJlY3RvckZvcmNlIHsKICAgICAgICAvLyBPbmx5IHRoZSBkaXJlY3RvciBpcyBwZXJtaXR0ZWQKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZGlyZWN0b3IpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIC8qKgogICAgICogVHJhbnNmZXJzIHRoZSBkaXJlY3RvciB0byBhIG5ldyBhZGRyZXNzCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRGlyZWN0b3IoYWRkcmVzcyBuZXdEaXJlY3RvcikgcHVibGljIG9ubHlEaXJlY3RvckZvcmNlIHsKICAgICAgICBkaXJlY3RvciA9IG5ld0RpcmVjdG9yOwogICAgfQogICAgCiAgICAvKioKICAgICAqIFdpdGhkcmF3IGZ1bmRzIGZyb20gdGhlIGNvbnRyYWN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIHdpdGhkcmF3RnVuZHMoKSBwdWJsaWMgb25seURpcmVjdG9yRm9yY2UgewogICAgICAgIGRpcmVjdG9yLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogUGVybWFuZW50bHkgbG9jayBvdXQgdGhlIGRpcmVjdG9yIHRvIGRlY2VudHJhbGl6ZSBPeXN0ZXIKICAgICAqIEludm9jYXRpb24gaXMgZGlzY3JldGlvbmFyeSBiZWNhdXNlIE95c3RlciBtaWdodCBiZSBiZXR0ZXIgc3VpdGVkIHRvCiAgICAgKiB0cmFuc2l0aW9uIHRvIGFuIGFydGlmaWNpYWxseSBpbnRlbGxpZ2VudCBzbWFydCBjb250cmFjdCBkaXJlY3RvcgogICAgICovCiAgICBmdW5jdGlvbiBzZWxmTG9jaygpIHB1YmxpYyBwYXlhYmxlIG9ubHlEaXJlY3RvciB7CiAgICAgICAgLy8gVGhlIHNhbGUgbXVzdCBiZSBjbG9zZWQgYmVmb3JlIHRoZSBkaXJlY3RvciBnZXRzIGxvY2tlZCBvdXQKICAgICAgICByZXF1aXJlKHNhbGVDbG9zZWQpOwogICAgICAgIAogICAgICAgIC8vIFByZXZlbnRzIGFjY2lkZW50YWwgbG9ja291dAogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID09IDEwIGV0aGVyKTsKICAgICAgICAKICAgICAgICAvLyBQZXJtYW5lbnRseSBsb2NrIG91dCB0aGUgZGlyZWN0b3IKICAgICAgICBkaXJlY3RvckxvY2sgPSB0cnVlOwogICAgfQogICAgCiAgICAvKioKICAgICAqIERpcmVjdG9yIGNhbiBhbHRlciB0aGUgc3RvcmFnZS1wZWcgYW5kIGJyb2tlciBmZWVzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFtZW5kQ2xhaW0odWludDggY2xhaW1BbW91bnRTZXQsIHVpbnQ4IHBheUFtb3VudFNldCwgdWludDggZmVlQW1vdW50U2V0LCB1aW50OCBhY2N1cmFjeSkgcHVibGljIG9ubHlEaXJlY3RvciB7CiAgICAgICAgcmVxdWlyZShjbGFpbUFtb3VudFNldCA9PSAocGF5QW1vdW50U2V0ICsgZmVlQW1vdW50U2V0KSk7CiAgICAgICAgCiAgICAgICAgY2xhaW1BbW91bnQgPSBjbGFpbUFtb3VudFNldCAqIDEwICoqICh1aW50MjU2KGRlY2ltYWxzKSAtIGFjY3VyYWN5KTsKICAgICAgICBwYXlBbW91bnQgPSBwYXlBbW91bnRTZXQgKiAxMCAqKiAodWludDI1NihkZWNpbWFscykgLSBhY2N1cmFjeSk7CiAgICAgICAgZmVlQW1vdW50ID0gZmVlQW1vdW50U2V0ICogMTAgKiogKHVpbnQyNTYoZGVjaW1hbHMpIC0gYWNjdXJhY3kpOwogICAgfQogICAgCiAgICAvKioKICAgICAqIERpcmVjdG9yIGNhbiBhbHRlciB0aGUgZXBvY2ggdGltZQogICAgICovCiAgICBmdW5jdGlvbiBhbWVuZEVwb2NoKHVpbnQyNTYgZXBvY2hTZXQpIHB1YmxpYyBvbmx5RGlyZWN0b3IgewogICAgICAgIC8vIFNldCB0aGUgZXBvY2gKICAgICAgICBlcG9jaCA9IGVwb2NoU2V0OwogICAgfQogICAgCiAgICAvKioKICAgICAqIERpcmVjdG9yIGNhbiBhbHRlciB0aGUgbWF4aW11bSB0aW1lIG9mIHN0b3JhZ2UgcmV0ZW50aW9uCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFtZW5kUmV0ZW50aW9uKHVpbnQ4IHJldGVudGlvblNldCwgdWludDggYWNjdXJhY3kpIHB1YmxpYyBvbmx5RGlyZWN0b3IgewogICAgICAgIC8vIFNldCByZXRlbnRpb25NYXgKICAgICAgICByZXRlbnRpb25NYXggPSByZXRlbnRpb25TZXQgKiAxMCAqKiAodWludDI1NihkZWNpbWFscykgLSBhY2N1cmFjeSk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogRGlyZWN0b3IgY2FuIGNsb3NlIHRoZSBjcm93ZHNhbGUKICAgICAqLwogICAgZnVuY3Rpb24gY2xvc2VTYWxlKCkgcHVibGljIG9ubHlEaXJlY3RvciB7CiAgICAgICAgLy8gVGhlIHNhbGUgbXVzdCBiZSBjdXJyZW50bHkgb3BlbgogICAgICAgIHJlcXVpcmUoIXNhbGVDbG9zZWQpOwogICAgICAgIAogICAgICAgIC8vIExvY2sgdGhlIGNyb3dkc2FsZQogICAgICAgIHNhbGVDbG9zZWQgPSB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogRGlyZWN0b3IgY2FuIG9wZW4gdGhlIGNyb3dkc2FsZQogICAgICovCiAgICBmdW5jdGlvbiBvcGVuU2FsZSgpIHB1YmxpYyBvbmx5RGlyZWN0b3IgewogICAgICAgIC8vIFRoZSBzYWxlIG11c3QgYmUgY3VycmVudGx5IGNsb3NlZAogICAgICAgIHJlcXVpcmUoc2FsZUNsb3NlZCk7CiAgICAgICAgCiAgICAgICAgLy8gVW5sb2NrIHRoZSBjcm93ZHNhbGUKICAgICAgICBzYWxlQ2xvc2VkID0gZmFsc2U7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogT3lzdGVyIFByb3RvY29sIEZ1bmN0aW9uCiAgICAgKiBNb3JlIGluZm9ybWF0aW9uIGF0IGh0dHBzOi8vb3lzdGVyLndzL095c3RlcldoaXRlcGFwZXIucGRmCiAgICAgKiAKICAgICAqIEJ1cnkgYW4gYWRkcmVzcwogICAgICoKICAgICAqIFdoZW4gYW4gYWRkcmVzcyBpcyBidXJpZWQ7IG9ubHkgY2xhaW1BbW91bnQgY2FuIGJlIHdpdGhkcmF3biBvbmNlIHBlciBlcG9jaAogICAgICovCiAgICBmdW5jdGlvbiBidXJ5KCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIFRoZSBhZGRyZXNzIG11c3QgYmUgcHJldmlvdXNseSB1bmJ1cmllZAogICAgICAgIHJlcXVpcmUoIWJ1cmllZFttc2cuc2VuZGVyXSk7CiAgICAgICAgCiAgICAgICAgLy8gQW4gYWRkcmVzcyBtdXN0IGhhdmUgYXQgbGVhc3QgY2xhaW1BbW91bnQgdG8gYmUgYnVyaWVkCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBjbGFpbUFtb3VudCk7CiAgICAgICAgCiAgICAgICAgLy8gUHJldmVudCBhZGRyZXNzZXMgd2l0aCBsYXJnZSBiYWxhbmNlcyBmcm9tIGdldHRpbmcgYnVyaWVkCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA8PSByZXRlbnRpb25NYXgpOwogICAgICAgIAogICAgICAgIC8vIFNldCBidXJpZWQgc3RhdGUgdG8gdHJ1ZQogICAgICAgIGJ1cmllZFttc2cuc2VuZGVyXSA9IHRydWU7CiAgICAgICAgCiAgICAgICAgLy8gU2V0IHRoZSBpbml0aWFsIGNsYWltIGNsb2NrIHRvIDEKICAgICAgICBjbGFpbWVkW21zZy5zZW5kZXJdID0gMTsKICAgICAgICAKICAgICAgICAvLyBFeGVjdXRlIGFuIGV2ZW50IHJlZmxlY3RpbmcgdGhlIGNoYW5nZQogICAgICAgIEJ1cnkobXNnLnNlbmRlciwgYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCiAgICAvKioKICAgICAqIE95c3RlciBQcm90b2NvbCBGdW5jdGlvbgogICAgICogTW9yZSBpbmZvcm1hdGlvbiBhdCBodHRwczovL295c3Rlci53cy9PeXN0ZXJXaGl0ZXBhcGVyLnBkZgogICAgICogCiAgICAgKiBDbGFpbSBQUkwgZnJvbSBhIGJ1cmllZCBhZGRyZXNzCiAgICAgKgogICAgICogSWYgYSBwcmlvciBjbGFpbSB3YXNuJ3QgbWFkZSBkdXJpbmcgdGhlIGN1cnJlbnQgZXBvY2gsIHRoZW4gY2xhaW1BbW91bnQgY2FuIGJlIHdpdGhkcmF3bgogICAgICoKICAgICAqIEBwYXJhbSBfcGF5b3V0IHRoZSBhZGRyZXNzIG9mIHRoZSB3ZWJzaXRlIG93bmVyCiAgICAgKiBAcGFyYW0gX2ZlZSB0aGUgYWRkcmVzcyBvZiB0aGUgYnJva2VyIG5vZGUKICAgICAqLwogICAgZnVuY3Rpb24gY2xhaW0oYWRkcmVzcyBfcGF5b3V0LCBhZGRyZXNzIF9mZWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBUaGUgY2xhaW1lZCBhZGRyZXNzIG11c3QgaGF2ZSBhbHJlYWR5IGJlZW4gYnVyaWVkCiAgICAgICAgcmVxdWlyZShidXJpZWRbbXNnLnNlbmRlcl0pOwogICAgICAgIAogICAgICAgIC8vIFRoZSBwYXlvdXQgYW5kIGZlZSBhZGRyZXNzZXMgbXVzdCBiZSBkaWZmZXJlbnQKICAgICAgICByZXF1aXJlKF9wYXlvdXQgIT0gX2ZlZSk7CiAgICAgICAgCiAgICAgICAgLy8gVGhlIGNsYWltZWQgYWRkcmVzcyBjYW5ub3QgcGF5IGl0c2VsZgogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSBfcGF5b3V0KTsKICAgICAgICAKICAgICAgICAvLyBUaGUgY2xhaW1lZCBhZGRyZXNzIGNhbm5vdCBwYXkgaXRzZWxmCiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyICE9IF9mZWUpOwogICAgICAgIAogICAgICAgIC8vIEl0IG11c3QgYmUgZWl0aGVyIHRoZSBmaXJzdCB0aW1lIHRoaXMgYWRkcmVzcyBpcyBiZWluZyBjbGFpbWVkIG9yIGF0bGVhc3QgZXBvY2ggaW4gdGltZSBoYXMgcGFzc2VkCiAgICAgICAgcmVxdWlyZShjbGFpbWVkW21zZy5zZW5kZXJdID09IDEgfHwgKGJsb2NrLnRpbWVzdGFtcCAtIGNsYWltZWRbbXNnLnNlbmRlcl0pID49IGVwb2NoKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBpZiB0aGUgYnVyaWVkIGFkZHJlc3MgaGFzIGVub3VnaAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gY2xhaW1BbW91bnQpOwogICAgICAgIAogICAgICAgIC8vIFJlc2V0IHRoZSBjbGFpbSBjbG9jayB0byB0aGUgY3VycmVudCB0aW1lCiAgICAgICAgY2xhaW1lZFttc2cuc2VuZGVyXSA9IGJsb2NrLnRpbWVzdGFtcDsKICAgICAgICAKICAgICAgICAvLyBTYXZlIHRoaXMgZm9yIGFuIGFzc2VydGlvbiBpbiB0aGUgZnV0dXJlCiAgICAgICAgdWludDI1NiBwcmV2aW91c0JhbGFuY2VzID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0gKyBiYWxhbmNlc1tfcGF5b3V0XSArIGJhbGFuY2VzW19mZWVdOwogICAgICAgIAogICAgICAgIC8vIFJlbW92ZSBjbGFpbUFtb3VudCBmcm9tIHRoZSBidXJpZWQgYWRkcmVzcwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IGNsYWltQW1vdW50OwogICAgICAgIAogICAgICAgIC8vIFBheSB0aGUgd2Vic2l0ZSBvd25lciB0aGF0IGludm9rZWQgdGhlIHdlYiBub2RlIHRoYXQgZm91bmQgdGhlIFBSTCBzZWVkIGtleQogICAgICAgIGJhbGFuY2VzW19wYXlvdXRdICs9IHBheUFtb3VudDsKICAgICAgICAKICAgICAgICAvLyBQYXkgdGhlIGJyb2tlciBub2RlIHRoYXQgdW5sb2NrZWQgdGhlIFBSTAogICAgICAgIGJhbGFuY2VzW19mZWVdICs9IGZlZUFtb3VudDsKICAgICAgICAKICAgICAgICAvLyBFeGVjdXRlIGV2ZW50cyB0byByZWZsZWN0IHRoZSBjaGFuZ2VzCiAgICAgICAgQ2xhaW0obXNnLnNlbmRlciwgX3BheW91dCwgX2ZlZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3BheW91dCwgcGF5QW1vdW50KTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfZmVlLCBmZWVBbW91bnQpOwogICAgICAgIAogICAgICAgIC8vIEZhaWxzYWZlIGxvZ2ljIHRoYXQgc2hvdWxkIG5ldmVyIGJlIGZhbHNlCiAgICAgICAgYXNzZXJ0KGJhbGFuY2VzW21zZy5zZW5kZXJdICsgYmFsYW5jZXNbX3BheW91dF0gKyBiYWxhbmNlc1tfZmVlXSA9PSBwcmV2aW91c0JhbGFuY2VzKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBDcm93ZHNhbGUgZnVuY3Rpb24KICAgICAqLwogICAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewogICAgICAgIC8vIENoZWNrIGlmIGNyb3dkc2FsZSBpcyBzdGlsbCBhY3RpdmUKICAgICAgICByZXF1aXJlKCFzYWxlQ2xvc2VkKTsKICAgICAgICAKICAgICAgICAvLyBNaW5pbXVtIGFtb3VudCBpcyAxIGZpbm5leQogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IDEgZmlubmV5KTsKICAgICAgICAKICAgICAgICAvLyBQcmljZSBpcyAxIEVUSCA9IDUwMDAgUFJMCiAgICAgICAgdWludDI1NiBhbW91bnQgPSBtc2cudmFsdWUgKiA1MDAwOwogICAgICAgIAogICAgICAgIC8vIHRvdGFsU3VwcGx5IGxpbWl0IGlzIDUwMCBtaWxsaW9uIFBSTAogICAgICAgIHJlcXVpcmUodG90YWxTdXBwbHkgKyBhbW91bnQgPD0gKDUwMDAwMDAwMCAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKSk7CiAgICAgICAgCiAgICAgICAgLy8gSW5jcmVhc2VzIHRoZSB0b3RhbCBzdXBwbHkKICAgICAgICB0b3RhbFN1cHBseSArPSBhbW91bnQ7CiAgICAgICAgCiAgICAgICAgLy8gQWRkcyB0aGUgYW1vdW50IHRvIHRoZSBiYWxhbmNlCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gYW1vdW50OwogICAgICAgIAogICAgICAgIC8vIFRyYWNrIEVUSCBhbW91bnQgcmFpc2VkCiAgICAgICAgZnVuZHMgKz0gbXNnLnZhbHVlOwogICAgICAgIAogICAgICAgIC8vIEV4ZWN1dGUgYW4gZXZlbnQgcmVmbGVjdGluZyB0aGUgY2hhbmdlCiAgICAgICAgVHJhbnNmZXIodGhpcywgbXNnLnNlbmRlciwgYW1vdW50KTsKICAgIH0KCiAgICAvKioKICAgICAqIEludGVybmFsIHRyYW5zZmVyLCBjYW4gYmUgY2FsbGVkIGJ5IHRoaXMgY29udHJhY3Qgb25seQogICAgICovCiAgICBmdW5jdGlvbiBfdHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBpbnRlcm5hbCB7CiAgICAgICAgLy8gU2VuZGluZyBhZGRyZXNzZXMgY2Fubm90IGJlIGJ1cmllZAogICAgICAgIHJlcXVpcmUoIWJ1cmllZFtfZnJvbV0pOwogICAgICAgIAogICAgICAgIC8vIElmIHRoZSByZWNlaXZpbmcgYWRkcmVzcyBpcyBidXJpZWQsIGl0IGNhbm5vdCBleGNlZWQgcmV0ZW50aW9uTWF4CiAgICAgICAgaWYgKGJ1cmllZFtfdG9dKSB7CiAgICAgICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA8PSByZXRlbnRpb25NYXgpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBQcmV2ZW50IHRyYW5zZmVyIHRvIDB4MCBhZGRyZXNzLCB1c2UgYnVybigpIGluc3RlYWQKICAgICAgICByZXF1aXJlKF90byAhPSAweDApOwogICAgICAgIAogICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSk7CiAgICAgICAgCiAgICAgICAgLy8gQ2hlY2sgZm9yIG92ZXJmbG93cwogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pOwogICAgICAgIAogICAgICAgIC8vIFNhdmUgdGhpcyBmb3IgYW4gYXNzZXJ0aW9uIGluIHRoZSBmdXR1cmUKICAgICAgICB1aW50MjU2IHByZXZpb3VzQmFsYW5jZXMgPSBiYWxhbmNlc1tfZnJvbV0gKyBiYWxhbmNlc1tfdG9dOwogICAgICAgIAogICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgCiAgICAgICAgLy8gQWRkIHRoZSBzYW1lIHRvIHRoZSByZWNpcGllbnQKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIAogICAgICAgIC8vIEZhaWxzYWZlIGxvZ2ljIHRoYXQgc2hvdWxkIG5ldmVyIGJlIGZhbHNlCiAgICAgICAgYXNzZXJ0KGJhbGFuY2VzW19mcm9tXSArIGJhbGFuY2VzW190b10gPT0gcHJldmlvdXNCYWxhbmNlcyk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUcmFuc2ZlciB0b2tlbnMKICAgICAqCiAgICAgKiBTZW5kIGBfdmFsdWVgIHRva2VucyB0byBgX3RvYCBmcm9tIHlvdXIgYWNjb3VudAogICAgICoKICAgICAqIEBwYXJhbSBfdG8gdGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IHRvIHNlbmQKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgewogICAgICAgIF90cmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvdGhlciBhZGRyZXNzCiAgICAgKgogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbnMgdG8gYF90b2AgaW4gYmVoYWxmIG9mIGBfZnJvbWAKICAgICAqCiAgICAgKiBAcGFyYW0gX2Zyb20gdGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgICogQHBhcmFtIF90byB0aGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBhbW91bnQgdG8gc2VuZAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy8gQ2hlY2sgYWxsb3dhbmNlCiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSk7CiAgICAgICAgYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgX3RyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgYWxsb3dhbmNlIGZvciBvdGhlciBhZGRyZXNzCiAgICAgKgogICAgICogQWxsb3dzIGBfc3BlbmRlcmAgdG8gc3BlbmQgbm8gbW9yZSB0aGFuIGBfdmFsdWVgIHRva2VucyBvbiB5b3VyIGJlaGFsZgogICAgICoKICAgICAqIEBwYXJhbSBfc3BlbmRlciB0aGUgYWRkcmVzcyBhdXRob3JpemVkIHRvIHNwZW5kCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBtYXggYW1vdW50IHRoZXkgY2FuIHNwZW5kCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYwogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIEJ1cmllZCBhZGRyZXNzZXMgY2Fubm90IGJlIGFwcHJvdmVkCiAgICAgICAgcmVxdWlyZSghYnVyaWVkW19zcGVuZGVyXSk7CiAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBhbGxvd2FuY2UgZm9yIG90aGVyIGFkZHJlc3MgYW5kIG5vdGlmeQogICAgICoKICAgICAqIEFsbG93cyBgX3NwZW5kZXJgIHRvIHNwZW5kIG5vIG1vcmUgdGhhbiBgX3ZhbHVlYCB0b2tlbnMgb24geW91ciBiZWhhbGYsIGFuZCB0aGVuIHBpbmcgdGhlIGNvbnRyYWN0IGFib3V0IGl0CiAgICAgKgogICAgICogQHBhcmFtIF9zcGVuZGVyIHRoZSBhZGRyZXNzIGF1dGhvcml6ZWQgdG8gc3BlbmQKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIG1heCBhbW91bnQgdGhleSBjYW4gc3BlbmQKICAgICAqIEBwYXJhbSBfZXh0cmFEYXRhIHNvbWUgZXh0cmEgaW5mb3JtYXRpb24gdG8gc2VuZCB0byB0aGUgYXBwcm92ZWQgY29udHJhY3QKICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9leHRyYURhdGEpCiAgICAgICAgcHVibGljCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgdG9rZW5SZWNpcGllbnQgc3BlbmRlciA9IHRva2VuUmVjaXBpZW50KF9zcGVuZGVyKTsKICAgICAgICBpZiAoYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKSkgewogICAgICAgICAgICBzcGVuZGVyLnJlY2VpdmVBcHByb3ZhbChtc2cuc2VuZGVyLCBfdmFsdWUsIHRoaXMsIF9leHRyYURhdGEpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBEZXN0cm95IHRva2VucwogICAgICoKICAgICAqIFJlbW92ZSBgX3ZhbHVlYCB0b2tlbnMgZnJvbSB0aGUgc3lzdGVtIGlycmV2ZXJzaWJseQogICAgICoKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIGFtb3VudCBvZiBtb25leSB0byBidXJuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJ1cm4odWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBCdXJpZWQgYWRkcmVzc2VzIGNhbm5vdCBiZSBidXJudAogICAgICAgIHJlcXVpcmUoIWJ1cmllZFttc2cuc2VuZGVyXSk7CiAgICAgICAgCiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUpOwogICAgICAgIAogICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAKICAgICAgICAvLyBVcGRhdGVzIHRvdGFsU3VwcGx5CiAgICAgICAgdG90YWxTdXBwbHkgLT0gX3ZhbHVlOwogICAgICAgIEJ1cm4obXNnLnNlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIERlc3Ryb3kgdG9rZW5zIGZyb20gb3RoZXIgYWNjb3VudAogICAgICoKICAgICAqIFJlbW92ZSBgX3ZhbHVlYCB0b2tlbnMgZnJvbSB0aGUgc3lzdGVtIGlycmV2ZXJzaWJseSBvbiBiZWhhbGYgb2YgYF9mcm9tYC4KICAgICAqCiAgICAgKiBAcGFyYW0gX2Zyb20gdGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IG9mIG1vbmV5IHRvIGJ1cm4KICAgICAqLwogICAgZnVuY3Rpb24gYnVybkZyb20oYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBCdXJpZWQgYWRkcmVzc2VzIGNhbm5vdCBiZSBidXJudAogICAgICAgIHJlcXVpcmUoIWJ1cmllZFtfZnJvbV0pOwogICAgICAgIAogICAgICAgIC8vIENoZWNrIGlmIHRoZSB0YXJnZXRlZCBiYWxhbmNlIGlzIGVub3VnaAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSk7CiAgICAgICAgCiAgICAgICAgLy8gQ2hlY2sgYWxsb3dhbmNlCiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSk7CiAgICAgICAgCiAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgdGFyZ2V0ZWQgYmFsYW5jZQogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgCiAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyJ3MgYWxsb3dhbmNlCiAgICAgICAgYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgCiAgICAgICAgLy8gVXBkYXRlIHRvdGFsU3VwcGx5CiAgICAgICAgdG90YWxTdXBwbHkgLT0gX3ZhbHVlOwogICAgICAgIEJ1cm4oX2Zyb20sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0='.
	

]
