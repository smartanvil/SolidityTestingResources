Class {
	#name : #SRTb7f78e6016cD45A448d3703ab1b4f5B5E5d41E69,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTb7f78e6016cD45A448d3703ab1b4f5B5E5d41E69 >> base64 [
	^ 'LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogVGhpcyBjb250cmFjdCBoYXMgYmVlbiBtZXJnZWQgd2l0aCBzb2xpZGlmeQogKiBodHRwczovL2dpdGh1Yi5jb20vdGllc25ldHdvcmsvc29saWRpZnkKICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiAKIHByYWdtYSBzb2xpZGl0eSBeMC40LjEwOwoKLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogaW1wb3J0ICIuL0Zsb29ySW52ZXN0UmVzdHJpY3Rpb25zLnNvbCIgOiBzdGFydAogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAqIGltcG9ydCAiLi9JSW52ZXN0UmVzdHJpY3Rpb25zLnNvbCIgOiBzdGFydAogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAqIGltcG9ydCAiLi4vY29tbW9uL01hbmFnZWFibGUuc29sIiA6IHN0YXJ0CiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogaW1wb3J0ICIuLi9jb21tb24vT3duZWQuc29sIiA6IHN0YXJ0CiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKCmNvbnRyYWN0IE93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOyAgICAgICAgCgogICAgZnVuY3Rpb24gT3duZWQoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIC8vIGFsbG93cyBleGVjdXRpb24gYnkgdGhlIG93bmVyIG9ubHkKICAgIG1vZGlmaWVyIG93bmVyT25seSB7CiAgICAgICAgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqQGRldiBhbGxvd3MgdHJhbnNmZXJyaW5nIHRoZSBjb250cmFjdCBvd25lcnNoaXAuICovCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIF9uZXdPd25lcikgcHVibGljIG93bmVyT25seSB7CiAgICAgICAgcmVxdWlyZShfbmV3T3duZXIgIT0gb3duZXIpOwogICAgICAgIG93bmVyID0gX25ld093bmVyOwogICAgfQp9Ci8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAqIGltcG9ydCAiLi4vY29tbW9uL093bmVkLnNvbCIgOiBlbmQKICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgovLy9BIHRva2VuIHRoYXQgaGF2ZSBhbiBvd25lciBhbmQgYSBsaXN0IG9mIG1hbmFnZXJzIHRoYXQgY2FuIHBlcmZvcm0gc29tZSBvcGVyYXRpb25zCi8vL093bmVyIGlzIGFsd2F5cyBhIG1hbmFnZXIgdG9vCmNvbnRyYWN0IE1hbmFnZWFibGUgaXMgT3duZWQgewoKICAgIGV2ZW50IE1hbmFnZXJTZXQoYWRkcmVzcyBtYW5hZ2VyLCBib29sIHN0YXRlKTsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBtYW5hZ2VyczsKCiAgICBmdW5jdGlvbiBNYW5hZ2VhYmxlKCkgT3duZWQoKSB7CiAgICAgICAgbWFuYWdlcnNbb3duZXJdID0gdHJ1ZTsKICAgIH0KCiAgICAvKipAZGV2IEFsbG93cyBleGVjdXRpb24gYnkgbWFuYWdlcnMgb25seSAqLwogICAgbW9kaWZpZXIgbWFuYWdlck9ubHkgewogICAgICAgIGFzc2VydChtYW5hZ2Vyc1ttc2cuc2VuZGVyXSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIF9uZXdPd25lcikgcHVibGljIG93bmVyT25seSB7CiAgICAgICAgc3VwZXIudHJhbnNmZXJPd25lcnNoaXAoX25ld093bmVyKTsKCiAgICAgICAgbWFuYWdlcnNbX25ld093bmVyXSA9IHRydWU7CiAgICAgICAgbWFuYWdlcnNbbXNnLnNlbmRlcl0gPSBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRNYW5hZ2VyKGFkZHJlc3MgbWFuYWdlciwgYm9vbCBzdGF0ZSkgb3duZXJPbmx5IHsKICAgICAgICBtYW5hZ2Vyc1ttYW5hZ2VyXSA9IHN0YXRlOwogICAgICAgIE1hbmFnZXJTZXQobWFuYWdlciwgc3RhdGUpOwogICAgfQp9LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogaW1wb3J0ICIuLi9jb21tb24vTWFuYWdlYWJsZS5zb2wiIDogZW5kCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKLyoqIEBkZXYgUmVzdHJpY3Rpb25zIG9uIGludmVzdG1lbnQgKi8KY29udHJhY3QgSUludmVzdFJlc3RyaWN0aW9ucyBpcyBNYW5hZ2VhYmxlIHsKICAgIC8qKkBkZXYgUmV0dXJucyB0cnVlIGlmIGludmVzdG1ldCBpcyBhbGxvd2VkICovCiAgICBmdW5jdGlvbiBjYW5JbnZlc3QoYWRkcmVzcyBpbnZlc3RvciwgdWludCBhbW91bnQsIHVpbnQgdG9rZW5zTGVmdCkgY29uc3RhbnQgcmV0dXJucyAoYm9vbCByZXN1bHQpIHsKICAgICAgICBpbnZlc3RvcjsgYW1vdW50OyByZXN1bHQ7IHRva2Vuc0xlZnQ7CiAgICB9CgogICAgLyoqQGRldiBDYWxsZWQgd2hlbiBpbnZlc3RtZW50IHdhcyBtYWRlICovCiAgICBmdW5jdGlvbiBpbnZlc3RIYXBwZW5lZChhZGRyZXNzIGludmVzdG9yLCB1aW50IGFtb3VudCkgbWFuYWdlck9ubHkge30gICAgCn0vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBpbXBvcnQgIi4vSUludmVzdFJlc3RyaWN0aW9ucy5zb2wiIDogZW5kCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKLyoqQGRldiBBbGxvd3Mgb25seSBpbnZlc3RtZW50cyB3aXRoIGxhcmdlIGVub3VnaCBhbW91bnQgb25seSAgKi8KY29udHJhY3QgRmxvb3JJbnZlc3RSZXN0cmljdGlvbnMgaXMgSUludmVzdFJlc3RyaWN0aW9ucyB7CgogICAgLyoqQGRldiBUaGUgc21hbGxlc3QgYWNjZXB0aWJsZSBldGhlciBhbW91bnQgKi8KICAgIHVpbnQyNTYgcHVibGljIGZsb29yOwoKICAgIC8qKkBkZXYgVHJ1ZSBpZiBhZGRyZXNzIGFscmVhZHkgaW52ZXN0ZWQgKi8KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGludmVzdG9yczsKCgogICAgZnVuY3Rpb24gRmxvb3JJbnZlc3RSZXN0cmljdGlvbnModWludDI1NiBfZmxvb3IpIHsKICAgICAgICBmbG9vciA9IF9mbG9vcjsKICAgIH0KCiAgICAvKipAZGV2IElJbnZlc3RSZXN0cmljdGlvbnMgaW1wbGVtZW50YXRpb24gKi8KICAgIGZ1bmN0aW9uIGNhbkludmVzdChhZGRyZXNzIGludmVzdG9yLCB1aW50IGFtb3VudCwgdWludCB0b2tlbnNMZWZ0KSBjb25zdGFudCByZXR1cm5zIChib29sIHJlc3VsdCkgewogICAgICAgIAogICAgICAgIC8vYWxsb3cgaW52ZXN0bWVudCBpZiBpdCBpc24ndCB0aGUgZmlyc3Qgb25lIAogICAgICAgIGlmIChpbnZlc3RvcnNbaW52ZXN0b3JdKSB7CiAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy9vdGhlcndpc2UgY2hlY2sgdGhlIGZsb29yCiAgICAgICAgICAgIHJlc3VsdCA9IChhbW91bnQgPj0gZmxvb3IpOwogICAgICAgIH0KICAgIH0KCiAgICAvKipAZGV2IElJbnZlc3RSZXN0cmljdGlvbnMgaW1wbGVtZW50YXRpb24gKi8KICAgIGZ1bmN0aW9uIGludmVzdEhhcHBlbmVkKGFkZHJlc3MgaW52ZXN0b3IsIHVpbnQgYW1vdW50KSBtYW5hZ2VyT25seSB7CiAgICAgICAgaW52ZXN0b3JzW2ludmVzdG9yXSA9IHRydWU7CiAgICB9CgogICAgLyoqQGRldiBDaGFuZ2VzIGludmVzdG1lbnQgbG93IGNhcCAqLwogICAgZnVuY3Rpb24gY2hhbmdlRmxvb3IodWludDI1NiBuZXdGbG9vcikgbWFuYWdlck9ubHkgewogICAgICAgIGZsb29yID0gbmV3Rmxvb3I7CiAgICB9Cn0vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBpbXBvcnQgIi4vRmxvb3JJbnZlc3RSZXN0cmljdGlvbnMuc29sIiA6IGVuZAogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogaW1wb3J0ICIuL0lDcm93ZHNhbGVGb3JtdWxhLnNvbCIgOiBzdGFydAogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCi8qKkBkZXYgQWJzdHJhY3Rpb24gb2YgY3Jvd2RzYWxlIHRva2VuIGNhbGN1bGF0aW9uIGZ1bmN0aW9uICovCmNvbnRyYWN0IElDcm93ZHNhbGVGb3JtdWxhIHsKCiAgICAvKipAZGV2IFJldHVybnMgYW1vdW50IG9mIHRva2VucyB0aGF0IGNhbiBiZSBib3VnaHQgd2l0aCBnaXZlbiB3ZWlBbW91bnQgKi8KICAgIGZ1bmN0aW9uIGhvd01hbnlUb2tlbnNGb3JFdGhlcih1aW50MjU2IHdlaUFtb3VudCkgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2IHRva2VucywgdWludDI1NiBleGNlc3MpIHsKICAgICAgICB3ZWlBbW91bnQ7IHRva2VuczsgZXhjZXNzOwogICAgfQoKICAgIC8qKkBkZXYgUmV0dXJucyBob3cgbWFueSB0b2tlbnMgbGVmdCBmb3Igc2FsZSAqLwogICAgZnVuY3Rpb24gdG9rZW5zTGVmdCgpIGNvbnN0YW50IHJldHVybnModWludDI1NiBfbGVmdCkgeyBfbGVmdDt9ICAgIAp9LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogaW1wb3J0ICIuL0lDcm93ZHNhbGVGb3JtdWxhLnNvbCIgOiBlbmQKICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgovKipAZGV2IEluIGFkZGl0aW9uIHRvICdmbG9vcicgYmVoYXZpb3IgcmVzdHJpY3RzIGludmVzdG1lbnRzIGlmIHRoZXJlIGFyZSBhbHJlYWR5IHRvbyBtYW55IGludmVzdG9ycy4gCkNvbnRyYWN0IG93bmVyIGNhbiByZXNlcnZlIHNvbWUgcGxhY2VzIGZvciBmdXR1cmUgaW52ZXN0bWVudHM6CjEuIEl0IGlzIHBvc3NpYmxlIHRvIHJlc2VydmUgYSBwbGFjZSBmb3IgdW5rbm93biBhZGRyZXNzIHVzaW5nICdyZXNlcnZlJyBmdW5jdGlvbi4gCiAgICBXaGVuIGludmVzdCBoYXBwZW5zIHlvdSBzaG91bGQgJ3VucmVzZXJ2ZScgdGhhdCBwbGFjZSBtYW51YWxseQoyLiBJdCBpcyBhbHNvIHBvc3NpYmxlIHRvIHJlc2VydmUgYSBjZXJ0YWluIGFkZHJlc3MgdXNpbmcgJ3Jlc2VydmVGb3InLiAKICAgIFdoZW4gc3VjaCBpbnZlc3RvciBpbnZlc3RzLCB0aGUgcGxhY2UgYmVjb21lcyB1bnJlc2VydmVkICAqLwpjb250cmFjdCBQYXJ0aWNpcGFudEludmVzdFJlc3RyaWN0aW9ucyBpcyBGbG9vckludmVzdFJlc3RyaWN0aW9ucyB7CgogICAgc3RydWN0IFJlc2VydmVkSW52ZXN0b3IgewogICAgICAgIGJvb2wgcmVzZXJ2ZWQ7ICAgICAgICAKICAgICAgICB1aW50MjU2IHRva2VuczsKICAgIH0KCiAgICBldmVudCBSZXNlcnZlS25vd24oYm9vbCBzdGF0ZSwgYWRkcmVzcyBpbnZlc3RvciwgdWludDI1NiB3ZWlBbW91bnQsIHVpbnQyNTYgdG9rZW5zKTsKICAgIGV2ZW50IFJlc2VydmVVbmtub3duKGJvb2wgc3RhdGUsIHVpbnQzMiBpbmRleCwgdWludDI1NiB3ZWlBbW91bnQsIHVpbnQyNTYgdG9rZW5zKTsKCiAgICAvKipAZGV2IEFycmF5IG9mIHVua25vd24gaW52ZXN0b3JzICovCiAgICBSZXNlcnZlZEludmVzdG9yW10gcHVibGljIHVua25vd25JbnZlc3RvcnM7CgogICAgLyoqQGRldiBGb3JtdWxhIHRvIGNhbGN1bGF0ZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJ1eSovCiAgICBJQ3Jvd2RzYWxlRm9ybXVsYSBwdWJsaWMgZm9ybXVsYTsKCiAgICAvKipAZGV2IE1heGltdW0gbnVtYmVyIG9mIGFsbG93ZWQgaW52ZXN0b3JzICovCiAgICB1aW50MzIgcHVibGljIG1heEludmVzdG9yczsgICAgCgogICAgLyoqQGRldiBDdXJyZW50IG51bWJlciBvZiBpbnZlc3RvcnMgKi8KICAgIHVpbnQzMiBwdWJsaWMgaW52ZXN0b3JzQ291bnQ7CgogICAgLyoqQGRldiBDdXJyZW50IG51bWJlciBvZiBrbm93biByZXNlcnZlZCBpbnZlc3RvcnMgKi8KICAgIHVpbnQzMiBwdWJsaWMga25vd25SZXNlcnZlZDsKCiAgICAvKipAZGV2IEN1cnJlbnQgbnVtYmVyIG9mIHVua25vd24gcmVzZXJ2ZWQgaW52ZXN0b3JzICovCiAgICB1aW50MzIgcHVibGljIHVua25vd25SZXNlcnZlZDsKCiAgICAvKipAZGV2IElmIGFkZHJlc3MgaXMgcmVzZXJ2ZWQsIHNob3dzIGhvdyBtdWNoIHRva2VucyByZXNlcnZlZCBmb3IgaGltICovCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyByZXNlcnZlZEludmVzdG9yczsKCiAgICAvKipAZGV2IEhvdyBtdWNoIHRva2VucyByZXNlcnZlZCAqLwogICAgdWludDI1NiBwdWJsaWMgdG9rZW5zUmVzZXJ2ZWQ7CgogICAgZnVuY3Rpb24gUGFydGljaXBhbnRJbnZlc3RSZXN0cmljdGlvbnModWludDI1NiBfZmxvb3IsIHVpbnQzMiBfbWF4VG90YWxJbnZlc3RvcnMpCiAgICAgICAgRmxvb3JJbnZlc3RSZXN0cmljdGlvbnMoX2Zsb29yKQogICAgewogICAgICAgIG1heEludmVzdG9ycyA9IF9tYXhUb3RhbEludmVzdG9yczsKICAgIH0KCiAgICAvKipAZGV2IFNldHMgZm9ybXVsYSAqLwogICAgZnVuY3Rpb24gc2V0Rm9ybXVsYShJQ3Jvd2RzYWxlRm9ybXVsYSBfZm9ybXVsYSkgbWFuYWdlck9ubHkgewogICAgICAgIGZvcm11bGEgPSBfZm9ybXVsYTsgICAgICAgIAogICAgfQoKICAgIC8qKkBkZXYgUmV0dXJucyB0cnVlIGlmIHRoZXJlIGFyZSBzdGlsbCBmcmVlIHBsYWNlcyBmb3IgaW52ZXN0b3JzICovCiAgICBmdW5jdGlvbiBoYXNGcmVlUGxhY2VzKCkgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBnZXRJbnZlc3RvckNvdW50KCkgPCBtYXhJbnZlc3RvcnM7CiAgICB9CgogICAgLyoqQGRldiBSZXR1cm5zIG51bWJlciBvZiBpbnZlc3RvcnMsIGluY2x1ZGluZyByZXNlcnZlZCAqLwogICAgZnVuY3Rpb24gZ2V0SW52ZXN0b3JDb3VudCgpIGNvbnN0YW50IHJldHVybnModWludDMyKSB7CiAgICAgICAgcmV0dXJuIGludmVzdG9yc0NvdW50ICsga25vd25SZXNlcnZlZCArIHVua25vd25SZXNlcnZlZDsKICAgIH0KCiAgICAvKipAZGV2IElJbnZlc3RSZXN0cmljdGlvbnMgb3ZlcnJpZGUgKi8KICAgIGZ1bmN0aW9uIGNhbkludmVzdChhZGRyZXNzIGludmVzdG9yLCB1aW50IGFtb3VudCwgdWludCB0b2tlbnNMZWZ0KSBjb25zdGFudCByZXR1cm5zIChib29sIHJlc3VsdCkgewogICAgICAgIC8vRmlyc3QgY2hlY2sgYW5jZXN0b3IncyByZXN0cmljdGlvbi4gCiAgICAgICAgLy9BbGxvdyBvbmx5IGlmIGl0IGlzIHJlc2VydmVkIGludmVzdG9yIG9yIGl0IGludmVzdGVkIGVhcmxpZXIgb3IgdGhlcmUgaXMgc3RpbGwgcm9vbSBmb3IgbmV3IGludmVzdG9ycwogICAgICAgIGlmIChzdXBlci5jYW5JbnZlc3QoaW52ZXN0b3IsIGFtb3VudCwgdG9rZW5zTGVmdCkpIHsKICAgICAgICAgICAgaWYgKHJlc2VydmVkSW52ZXN0b3JzW2ludmVzdG9yXSA+IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdmFyICh0b2tlbnMsIGV4Y2VzcykgPSBmb3JtdWxhLmhvd01hbnlUb2tlbnNGb3JFdGhlcihhbW91bnQpOwogICAgICAgICAgICAgICAgaWYgKHRva2Vuc0xlZnQgPj0gdG9rZW5zUmVzZXJ2ZWQgKyB0b2tlbnMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW52ZXN0b3JzW2ludmVzdG9yXSB8fCBoYXNGcmVlUGxhY2VzKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KIAogICAgLyoqQGRldiBJSW52ZXN0UmVzdHJpY3Rpb25zIG92ZXJyaWRlICovCiAgICBmdW5jdGlvbiBpbnZlc3RIYXBwZW5lZChhZGRyZXNzIGludmVzdG9yLCB1aW50IGFtb3VudCkgbWFuYWdlck9ubHkgewogICAgICAgIGlmICghaW52ZXN0b3JzW2ludmVzdG9yXSkgewogICAgICAgICAgICBpbnZlc3RvcnNbaW52ZXN0b3JdID0gdHJ1ZTsKICAgICAgICAgICAgaW52ZXN0b3JzQ291bnQrKzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vaWYgdGhhdCBpbnZlc3RvciB3YXMgYWxyZWFkeSByZXNlcnZlZCwgdW5yZXNlcnZlIHRoZSBwbGFjZQogICAgICAgICAgICBpZiAocmVzZXJ2ZWRJbnZlc3RvcnNbaW52ZXN0b3JdID4gMCkgewogICAgICAgICAgICAgICAgdW5yZXNlcnZlRm9yKGludmVzdG9yKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvKipAZGV2IFJlc2VydmVzIGEgcGxhY2UgZm9yIGludmVzdG9yICovCiAgICBmdW5jdGlvbiByZXNlcnZlRm9yKGFkZHJlc3MgaW52ZXN0b3IsIHVpbnQyNTYgd2VpQW1vdW50KSBtYW5hZ2VyT25seSB7CiAgICAgICAgcmVxdWlyZSghaW52ZXN0b3JzW2ludmVzdG9yXSAmJiBoYXNGcmVlUGxhY2VzKCkpOwoKICAgICAgICBpZihyZXNlcnZlZEludmVzdG9yc1tpbnZlc3Rvcl0gPT0gMCkgewogICAgICAgICAgICBrbm93blJlc2VydmVkKys7CiAgICAgICAgfQoKICAgICAgICByZXNlcnZlZEludmVzdG9yc1tpbnZlc3Rvcl0gKz0gcmVzZXJ2ZVRva2Vucyh3ZWlBbW91bnQpOwogICAgICAgIFJlc2VydmVLbm93bih0cnVlLCBpbnZlc3Rvciwgd2VpQW1vdW50LCByZXNlcnZlZEludmVzdG9yc1tpbnZlc3Rvcl0pOwogICAgfQoKICAgIC8qKkBkZXYgVW5yZXNlcnZlcyBzcGVjaWFsIGFkZHJlc3MuIEZvciBleGFtcGxlIGlmIGludmVzdG9yIGhhdmVuJ3Qgc2VudCBldGhlciAqLwogICAgZnVuY3Rpb24gdW5yZXNlcnZlRm9yKGFkZHJlc3MgaW52ZXN0b3IpIG1hbmFnZXJPbmx5IHsKICAgICAgICByZXF1aXJlKHJlc2VydmVkSW52ZXN0b3JzW2ludmVzdG9yXSAhPSAwKTsKCiAgICAgICAga25vd25SZXNlcnZlZC0tOwogICAgICAgIHVucmVzZXJ2ZVRva2VucyhyZXNlcnZlZEludmVzdG9yc1tpbnZlc3Rvcl0pOwogICAgICAgIHJlc2VydmVkSW52ZXN0b3JzW2ludmVzdG9yXSA9IDA7CgogICAgICAgIFJlc2VydmVLbm93bihmYWxzZSwgaW52ZXN0b3IsIDAsIDApOwogICAgfQoKICAgIC8qKkBkZXYgUmVzZXJ2ZXMgcGxhY2UgZm9yIHVua25vd24gYWRkcmVzcyAqLwogICAgZnVuY3Rpb24gcmVzZXJ2ZSh1aW50MjU2IHdlaUFtb3VudCkgbWFuYWdlck9ubHkgewogICAgICAgIHJlcXVpcmUoaGFzRnJlZVBsYWNlcygpKTsKICAgICAgICB1bmtub3duUmVzZXJ2ZWQrKzsKICAgICAgICB1aW50MzIgaWQgPSB1aW50MzIodW5rbm93bkludmVzdG9ycy5sZW5ndGgrKyk7CiAgICAgICAgdW5rbm93bkludmVzdG9yc1tpZF0ucmVzZXJ2ZWQgPSB0cnVlOyAgICAgICAgCiAgICAgICAgdW5rbm93bkludmVzdG9yc1tpZF0udG9rZW5zID0gcmVzZXJ2ZVRva2Vucyh3ZWlBbW91bnQpOwoKICAgICAgICBSZXNlcnZlVW5rbm93bih0cnVlLCBpZCwgd2VpQW1vdW50LCB1bmtub3duSW52ZXN0b3JzW2lkXS50b2tlbnMpOwogICAgfQoKICAgIC8qKkBkZXYgVW5yZXNlcnZlcyBwbGFjZSBmb3IgdW5rbm93biBhZGRyZXNzIHNwZWNpZmllZCBieSBhbiBpbmRleCBpbiBhcnJheSAqLwogICAgZnVuY3Rpb24gdW5yZXNlcnZlKHVpbnQzMiBpbmRleCkgbWFuYWdlck9ubHkgewogICAgICAgIHJlcXVpcmUoaW5kZXggPCB1bmtub3duSW52ZXN0b3JzLmxlbmd0aCAmJiB1bmtub3duSW52ZXN0b3JzW2luZGV4XS5yZXNlcnZlZCk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0KHVua25vd25SZXNlcnZlZCA+IDApOwogICAgICAgIHVua25vd25SZXNlcnZlZC0tOwogICAgICAgIHVucmVzZXJ2ZVRva2Vucyh1bmtub3duSW52ZXN0b3JzW2luZGV4XS50b2tlbnMpOyAgICAgICAgCiAgICAgICAgdW5rbm93bkludmVzdG9yc1tpbmRleF0ucmVzZXJ2ZWQgPSBmYWxzZTsKCiAgICAgICAgUmVzZXJ2ZVVua25vd24oZmFsc2UsIGluZGV4LCAwLCAwKTsKICAgIH0KCiAgICAvKipAZGV2IFJlc2VydmVkIHRva2VucyBmb3IgZ2l2ZW4gYW1vdW50IG9mIGV0aGVyLCByZXR1cm5zIHJlc2VydmVkIGFtb3VudCAqLwogICAgZnVuY3Rpb24gcmVzZXJ2ZVRva2Vucyh1aW50MjU2IHdlaUFtb3VudCkgCiAgICAgICAgaW50ZXJuYWwgCiAgICAgICAgbWFuYWdlck9ubHkgCiAgICAgICAgcmV0dXJucyh1aW50MjU2KSAKICAgIHsKICAgICAgICB1aW50MjU2IHRva2VuczsKICAgICAgICB1aW50MjU2IGV4Y2VzczsKICAgICAgICAodG9rZW5zLCBleGNlc3MpID0gZm9ybXVsYS5ob3dNYW55VG9rZW5zRm9yRXRoZXIod2VpQW1vdW50KTsKICAgICAgICAKICAgICAgICBpZiAodG9rZW5zUmVzZXJ2ZWQgKyB0b2tlbnMgPiBmb3JtdWxhLnRva2Vuc0xlZnQoKSkgewogICAgICAgICAgICB0b2tlbnMgPSBmb3JtdWxhLnRva2Vuc0xlZnQoKSAtIHRva2Vuc1Jlc2VydmVkOwogICAgICAgIH0KICAgICAgICB0b2tlbnNSZXNlcnZlZCArPSB0b2tlbnM7CgogICAgICAgIHJldHVybiB0b2tlbnM7CiAgICB9CgogICAgLyoqQGRldiBVbnJlc2VydmVzIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zICovCiAgICBmdW5jdGlvbiB1bnJlc2VydmVUb2tlbnModWludDI1NiB0b2tlbkFtb3VudCkgCiAgICAgICAgaW50ZXJuYWwgCiAgICAgICAgbWFuYWdlck9ubHkgCiAgICB7CiAgICAgICAgaWYgKHRva2VuQW1vdW50ID4gdG9rZW5zUmVzZXJ2ZWQpIHsKICAgICAgICAgICAgdG9rZW5zUmVzZXJ2ZWQgPSAwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRva2Vuc1Jlc2VydmVkID0gdG9rZW5zUmVzZXJ2ZWQgLSB0b2tlbkFtb3VudDsKICAgICAgICB9CiAgICB9Cn0='.
	

]
