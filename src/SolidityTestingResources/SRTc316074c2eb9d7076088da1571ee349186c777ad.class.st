Class {
	#name : #SRTc316074c2eb9d7076088da1571ee349186c777ad,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc316074c2eb9d7076088da1571ee349186c777ad >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLyoqCiAqIEB0aXRsZSBNYXRoCiAqIEBkZXYgQXNzb3J0ZWQgbWF0aCBvcGVyYXRpb25zCiAqLwpsaWJyYXJ5IE1hdGggewogIGZ1bmN0aW9uIG1heDY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9Cn0KCgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgoKLyoqCiAqIEB0aXRsZSBTYWZlRVJDMjAKICogQGRldiBXcmFwcGVycyBhcm91bmQgRVJDMjAgb3BlcmF0aW9ucyB0aGF0IHRocm93IG9uIGZhaWx1cmUuCiAqIFRvIHVzZSB0aGlzIGxpYnJhcnkgeW91IGNhbiBhZGQgYSBgdXNpbmcgU2FmZUVSQzIwIGZvciBFUkMyMDtgIHN0YXRlbWVudCB0byB5b3VyIGNvbnRyYWN0LAogKiB3aGljaCBhbGxvd3MgeW91IHRvIGNhbGwgdGhlIHNhZmUgb3BlcmF0aW9ucyBhcyBgdG9rZW4uc2FmZVRyYW5zZmVyKC4uLilgLCBldGMuCiAqLwpsaWJyYXJ5IFNhZmVFUkMyMCB7CiAgZnVuY3Rpb24gc2FmZVRyYW5zZmVyKEVSQzIwQmFzaWMgdG9rZW4sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIGludGVybmFsIHsKICAgIGFzc2VydCh0b2tlbi50cmFuc2Zlcih0bywgdmFsdWUpKTsKICB9CgogIGZ1bmN0aW9uIHNhZmVUcmFuc2ZlckZyb20oRVJDMjAgdG9rZW4sIGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgaW50ZXJuYWwgewogICAgYXNzZXJ0KHRva2VuLnRyYW5zZmVyRnJvbShmcm9tLCB0bywgdmFsdWUpKTsKICB9CgogIGZ1bmN0aW9uIHNhZmVBcHByb3ZlKEVSQzIwIHRva2VuLCBhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIGludGVybmFsIHsKICAgIGFzc2VydCh0b2tlbi5hcHByb3ZlKHNwZW5kZXIsIHZhbHVlKSk7CiAgfQp9CgoKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cgp9CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKCiAgLyoqCiAgKiBAZGV2IE11bHRpcGxpZXMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAqLwogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIC8qKgogICogQGRldiBJbnRlZ2VyIGRpdmlzaW9uIG9mIHR3byBudW1iZXJzLCB0cnVuY2F0aW5nIHRoZSBxdW90aWVudC4KICAqLwogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgLyoqCiAgKiBAZGV2IFN1YnN0cmFjdHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdyAoaS5lLiBpZiBzdWJ0cmFoZW5kIGlzIGdyZWF0ZXIgdGhhbiBtaW51ZW5kKS4KICAqLwogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIC8qKgogICogQGRldiBBZGRzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKCgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIHVpbnQyNTYgdG90YWxTdXBwbHlfOwoKICAvKioKICAqIEBkZXYgdG90YWwgbnVtYmVyIG9mIHRva2VucyBpbiBleGlzdGVuY2UKICAqLwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIHRvdGFsU3VwcGx5XzsKICB9CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwoKICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCgoKLyoqCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBAZGV2IEltcGxlbWVudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFyZCB0b2tlbi4KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgaW50ZXJuYWwgYWxsb3dlZDsKCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1tfZnJvbV0pOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0pOwoKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQXBwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqCiAgICogQmV3YXJlIHRoYXQgY2hhbmdpbmcgYW4gYWxsb3dhbmNlIHdpdGggdGhpcyBtZXRob2QgYnJpbmdzIHRoZSByaXNrIHRoYXQgc29tZW9uZSBtYXkgdXNlIGJvdGggdGhlIG9sZAogICAqIGFuZCB0aGUgbmV3IGFsbG93YW5jZSBieSB1bmZvcnR1bmF0ZSB0cmFuc2FjdGlvbiBvcmRlcmluZy4gT25lIHBvc3NpYmxlIHNvbHV0aW9uIHRvIG1pdGlnYXRlIHRoaXMKICAgKiByYWNlIGNvbmRpdGlvbiBpcyB0byBmaXJzdCByZWR1Y2UgdGhlIHNwZW5kZXIncyBhbGxvd2FuY2UgdG8gMCBhbmQgc2V0IHRoZSBkZXNpcmVkIHZhbHVlIGFmdGVyd2FyZHM6CiAgICogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9CgogIC8qKgogICAqIEBkZXYgSW5jcmVhc2UgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKgogICAqIGFwcHJvdmUgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFsbG93ZWRbX3NwZW5kZXJdID09IDAuIFRvIGluY3JlbWVudAogICAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsCiAgICogdGhlIGZpcnN0IHRyYW5zYWN0aW9uIGlzIG1pbmVkKQogICAqIEZyb20gTW9ub2xpdGhEQU8gVG9rZW4uc29sCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfYWRkZWRWYWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBpbmNyZWFzZSB0aGUgYWxsb3dhbmNlIGJ5LgogICAqLwogIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRGVjcmVhc2UgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKgogICAqIGFwcHJvdmUgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFsbG93ZWRbX3NwZW5kZXJdID09IDAuIFRvIGRlY3JlbWVudAogICAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsCiAgICogdGhlIGZpcnN0IHRyYW5zYWN0aW9uIGlzIG1pbmVkKQogICAqIEZyb20gTW9ub2xpdGhEQU8gVG9rZW4uc29sCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3VidHJhY3RlZFZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGRlY3JlYXNlIHRoZSBhbGxvd2FuY2UgYnkuCiAgICovCiAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICB1aW50IG9sZFZhbHVlID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl07CiAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgfQogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KCn0KCgoKCgoKLyoqCiAqIEB0aXRsZSBCdXJuYWJsZSBUb2tlbgogKiBAZGV2IFRva2VuIHRoYXQgY2FuIGJlIGlycmV2ZXJzaWJseSBidXJuZWQgKGRlc3Ryb3llZCkuCiAqLwpjb250cmFjdCBCdXJuYWJsZVRva2VuIGlzIEJhc2ljVG9rZW4gewoKICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBidXJuZXIsIHVpbnQyNTYgdmFsdWUpOwoKICAvKioKICAgKiBAZGV2IEJ1cm5zIGEgc3BlY2lmaWMgYW1vdW50IG9mIHRva2Vucy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgYnVybmVkLgogICAqLwogIGZ1bmN0aW9uIGJ1cm4odWludDI1NiBfdmFsdWUpIHB1YmxpYyB7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CiAgICAvLyBubyBuZWVkIHRvIHJlcXVpcmUgdmFsdWUgPD0gdG90YWxTdXBwbHksIHNpbmNlIHRoYXQgd291bGQgaW1wbHkgdGhlCiAgICAvLyBzZW5kZXIncyBiYWxhbmNlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdG90YWxTdXBwbHksIHdoaWNoICpzaG91bGQqIGJlIGFuIGFzc2VydGlvbiBmYWlsdXJlCgogICAgYWRkcmVzcyBidXJuZXIgPSBtc2cuc2VuZGVyOwogICAgYmFsYW5jZXNbYnVybmVyXSA9IGJhbGFuY2VzW2J1cm5lcl0uc3ViKF92YWx1ZSk7CiAgICB0b3RhbFN1cHBseV8gPSB0b3RhbFN1cHBseV8uc3ViKF92YWx1ZSk7CiAgICBCdXJuKGJ1cm5lciwgX3ZhbHVlKTsKICB9Cn0KCgoKCgoKCgoKY29udHJhY3QgVG9rZW5XaXRoT3duZXIgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7Cn0KCi8qKgogKiBAdGl0bGUgUGVyaW9kaWNhbFJlbGVhc2VMb2NrCiAqIEBkZXYgUGVyaW9kaWNhbFJlbGVhc2VMb2NrIGlzIGEgdG9rZW4gaG9sZGVyIGNvbnRyYWN0IHRoYXQgd2lsbCBhbGxvdyBhIGdyb3VwIG9mCiAqIGJlbmVmaWNpYXJpZXMgdG8gcmVsZWFzZSB0aGUgdG9rZW5zIGV2ZW5seSBhbmQgcGVyaW9kaWNhbGx5IGFmdGVyIHRoZSBmcm96ZW4gYWdlCiAqLwpjb250cmFjdCBQZXJpb2RpY1JlbGVhc2VMb2NrIHsKICAgIHVzaW5nIFNhZmVFUkMyMCBmb3IgRVJDMjBCYXNpYzsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIHN0cnVjdCBGcm96ZW5TdGF0dXMgewogICAgICAgIHVpbnQyNTYgZnJvemVuVGltZXN0YW1wOyAgICAgICAgLy8gdGhlIGZyb3plbiB0aW1lCiAgICAgICAgdWludDI1NiBmcm96ZW5BbW91bnQ7ICAgICAgICAgICAvLyB0aGUgcmVtYWluIGZyb3plbiBhbW91bnQKICAgICAgICB1aW50MjU2IHJlbGVhc2VBbW91bnQ7ICAgICAgICAgIC8vIHJlbGVhc2UgYW1vdW50IGVhY2ggdGltZQogICAgICAgIHVpbnQyNTYgbGFzdFJlbGVhc2VUaW1lc3RhbXA7ICAgLy8gbGFzdCByZWxlYXNlIHRpbWUKICAgIH0KCiAgICAvLyBGaXJlZCB3aGVuIHRva2VuIGNvbnRyYWN0IHN1Y2Nlc3NmdWxseSBjYWxscyBmcmVlemUKICAgIGV2ZW50IEZyZWV6ZVRva2VucyhhZGRyZXNzIGluZGV4ZWQgX3RhcmdldCwgdWludDI1NiBfZnJvemVuQW1vdW50KTsKICAgIC8vIEZpcmVkIHdoZW4gdG9rZW4gaG9sZGVyIHN1Y2Nlc3NmdWxseSBjYWxscyByZWxlYXNlCiAgICBldmVudCBSZWxlYXNlVG9rZW5zKGFkZHJlc3MgaW5kZXhlZCBfdGFyZ2V0LCB1aW50MjU2IF9yZWxlYXNlQW1vdW50KTsKCiAgICBldmVudCBUZXN0KHVpbnQyNTYgYmFsYW5jZSwgdWludDI1NiBmcm96ZW4pOwoKICAgIC8vIEVSQzIwIGJhc2ljIHRva2VuIGNvbnRyYWN0IGJlaW5nIGhlbGQKICAgIEVSQzIwQmFzaWMgcHVibGljIHRva2VuOwoKICAgIG1vZGlmaWVyIGJ5VG9rZW4gewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBhZGRyZXNzKHRva2VuKSk7CiAgICAgICAgXzsKICAgIH0KCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbEZyb3plbjsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gRnJvemVuU3RhdHVzKSBwdWJsaWMgZnJvemVuU3RhdHVzZXM7CgogICAgLy8gdGltZSBwZXJpb2QgYmV0d2VlbiBmcm96ZW4gYW5kIGZpcnN0IHJlbGVhc2UKICAgIHVpbnQyNTYgcHVibGljIGZpcnN0UmVsZWFzZVBlcmlvZDsKICAgIC8vIHRpbWUgcGVyaW9kIGJldHdlZW4gbGFzdCByZWxlYXNlIGFuZCBuZXh0IHJlbGVhc2UKICAgIHVpbnQyNTYgcHVibGljIHJlZ3VsYXJSZWxlYXNlUGVyaW9kOwoKICAgIGZ1bmN0aW9uIFBlcmlvZGljUmVsZWFzZUxvY2soRVJDMjBCYXNpYyBfdG9rZW4sIHVpbnQyNTYgX2ZpcnN0UmVsZWFzZVBlcmlvZCwgdWludDI1NiBfcmVndWxhclJlbGVhc2VQZXJpb2QpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfZmlyc3RSZWxlYXNlUGVyaW9kID49IDEgc2Vjb25kcyk7CiAgICAgICAgcmVxdWlyZShfcmVndWxhclJlbGVhc2VQZXJpb2QgPj0gMSBzZWNvbmRzKTsKCiAgICAgICAgdG9rZW4gPSBfdG9rZW47CiAgICAgICAgZmlyc3RSZWxlYXNlUGVyaW9kID0gX2ZpcnN0UmVsZWFzZVBlcmlvZDsKICAgICAgICByZWd1bGFyUmVsZWFzZVBlcmlvZCA9IF9yZWd1bGFyUmVsZWFzZVBlcmlvZDsKICAgIH0KCiAgICBmdW5jdGlvbiBmcm96ZW5TdGF0dXNPZihhZGRyZXNzIF90YXJnZXQpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYsIHVpbnQyNTYsIHVpbnQyNTYsIHVpbnQyNTYpIHsKICAgICAgICBGcm96ZW5TdGF0dXMgc3RvcmFnZSBmcm96ZW5TdGF0dXMgPSBmcm96ZW5TdGF0dXNlc1tfdGFyZ2V0XTsKICAgICAgICByZXR1cm4gKAogICAgICAgICAgICBmcm96ZW5TdGF0dXMuZnJvemVuVGltZXN0YW1wLAogICAgICAgICAgICBmcm96ZW5TdGF0dXMuZnJvemVuQW1vdW50LAogICAgICAgICAgICBmcm96ZW5TdGF0dXMucmVsZWFzZUFtb3VudCwKICAgICAgICAgICAgZnJvemVuU3RhdHVzLmxhc3RSZWxlYXNlVGltZXN0YW1wCiAgICAgICAgKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBub3RpY2UgRnJlZXplIF9mcm96ZW5BbW91bnQgb2YgdG9rZW5zIGhlbGQgYnkgX3RhcmdldCB3aXRoIFBlcmlvZGljUmVsZWFzZUxvY2suCiAgICAgKi8KICAgIGZ1bmN0aW9uIGZyZWV6ZShhZGRyZXNzIF90YXJnZXQsIHVpbnQyNTYgX2Zyb3plbkFtb3VudCwgdWludDI1NiBfcmVsZWFzZUFtb3VudCkgYnlUb2tlbiBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX3RhcmdldCAhPSAweDApOwogICAgICAgIHJlcXVpcmUoX2Zyb3plbkFtb3VudCA+IDApOwogICAgICAgIHJlcXVpcmUoX3JlbGVhc2VBbW91bnQgPCBfZnJvemVuQW1vdW50KTsKCiAgICAgICAgdG90YWxGcm96ZW4gPSB0b3RhbEZyb3plbi5hZGQoX2Zyb3plbkFtb3VudCk7CgogICAgICAgIEZyb3plblN0YXR1cyBzdG9yYWdlIGZyb3plblN0YXR1cyA9IGZyb3plblN0YXR1c2VzW190YXJnZXRdOwogICAgICAgIHJlcXVpcmUoZnJvemVuU3RhdHVzLmZyb3plbkFtb3VudCA9PSAwKTsgLy8gZWFjaCBhZGRyZXNzIGNhbiBvbmx5IGJlIGxvY2tlZCBpbiBhIGNvbnRyYWN0IG9uY2UKCiAgICAgICAgZnJvemVuU3RhdHVzLmZyb3plblRpbWVzdGFtcCA9IG5vdzsKICAgICAgICBmcm96ZW5TdGF0dXMuZnJvemVuQW1vdW50ID0gX2Zyb3plbkFtb3VudDsKICAgICAgICBmcm96ZW5TdGF0dXMucmVsZWFzZUFtb3VudCA9IF9yZWxlYXNlQW1vdW50OwoKICAgICAgICBGcmVlemVUb2tlbnMoX3RhcmdldCwgX2Zyb3plbkFtb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAbm90aWNlIFRyYW5zZmVycyB0b2tlbnMgaGVsZCBieSBQZXJpb2RpY1JlbGVhc2VMb2NrIHRvIGJlbmVmaWNpYXJ5LgogICAgICovCiAgICBmdW5jdGlvbiByZWxlYXNlKCkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBhZGRyZXNzIHRhcmdldCA9IG1zZy5zZW5kZXI7CgogICAgICAgIEZyb3plblN0YXR1cyBzdG9yYWdlIGZyb3plblN0YXR1cyA9IGZyb3plblN0YXR1c2VzW3RhcmdldF07CiAgICAgICAgcmVxdWlyZShmcm96ZW5TdGF0dXMuZnJvemVuQW1vdW50ID4gMCk7CgogICAgICAgIHVpbnQyNTYgYWN0dWFsTGFzdFJlbGVhc2VUaW1lc3RhbXA7CgogICAgICAgIGlmIChmcm96ZW5TdGF0dXMubGFzdFJlbGVhc2VUaW1lc3RhbXAgPT0gMCkgewogICAgICAgICAgICBhY3R1YWxMYXN0UmVsZWFzZVRpbWVzdGFtcCA9IGZyb3plblN0YXR1cy5mcm96ZW5UaW1lc3RhbXAgKyBmaXJzdFJlbGVhc2VQZXJpb2Q7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWN0dWFsTGFzdFJlbGVhc2VUaW1lc3RhbXAgPSBmcm96ZW5TdGF0dXMubGFzdFJlbGVhc2VUaW1lc3RhbXAgKyByZWd1bGFyUmVsZWFzZVBlcmlvZDsKICAgICAgICB9CgogICAgICAgIHJlcXVpcmUobm93ID49IGFjdHVhbExhc3RSZWxlYXNlVGltZXN0YW1wKTsKICAgICAgICBmcm96ZW5TdGF0dXMubGFzdFJlbGVhc2VUaW1lc3RhbXAgPSBhY3R1YWxMYXN0UmVsZWFzZVRpbWVzdGFtcDsKCiAgICAgICAgdWludDI1NiBhY3R1YWxSZWxlYXNlQW1vdW50ID0gTWF0aC5taW4yNTYoZnJvemVuU3RhdHVzLmZyb3plbkFtb3VudCwgZnJvemVuU3RhdHVzLnJlbGVhc2VBbW91bnQpOwoKICAgICAgICB0b2tlbi5zYWZlVHJhbnNmZXIodGFyZ2V0LCBhY3R1YWxSZWxlYXNlQW1vdW50KTsKCiAgICAgICAgZnJvemVuU3RhdHVzLmZyb3plbkFtb3VudCA9IGZyb3plblN0YXR1cy5mcm96ZW5BbW91bnQuc3ViKGFjdHVhbFJlbGVhc2VBbW91bnQpOwogICAgICAgIHRvdGFsRnJvemVuID0gdG90YWxGcm96ZW4uc3ViKGFjdHVhbFJlbGVhc2VBbW91bnQpOwoKICAgICAgICBSZWxlYXNlVG9rZW5zKHRhcmdldCwgYWN0dWFsUmVsZWFzZUFtb3VudCk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgKiBAbm90aWNlIFRyYW5zZmVycyB0b2tlbnMgb2YgdW5rbm93biBob2xkZXJzIHRvIHRva2VuIGNvbnRyYWN0IG93bmVyLgogICAgKi8KICAgIGZ1bmN0aW9uIG1pc3NpbmdUb2tlbnNGYWxsYmFjaygpIHB1YmxpYyB7CiAgICAgICAgdWludDI1NiBtaXNzaW5nVG9rZW5zID0gdG9rZW4uYmFsYW5jZU9mKHRoaXMpLnN1Yih0b3RhbEZyb3plbik7CiAgICAgICAgcmVxdWlyZShtaXNzaW5nVG9rZW5zID4gMCk7CgogICAgICAgIFRva2VuV2l0aE93bmVyIHRva2VuV2l0aE93bmVyID0gVG9rZW5XaXRoT3duZXIodG9rZW4pOwoKICAgICAgICB0b2tlbi5zYWZlVHJhbnNmZXIodG9rZW5XaXRoT3duZXIub3duZXIoKSwgbWlzc2luZ1Rva2Vucyk7CiAgICB9Cn0KCmNvbnRyYWN0IFR1dG9yZXVtIGlzIE93bmFibGUsIFN0YW5kYXJkVG9rZW4sIEJ1cm5hYmxlVG9rZW4gewogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkVjb3RvcGlhIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkVDTyI7CiAgICB1aW50OCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBJTklUSUFMX1NVUFBMWSA9IDIwMDAwMDAwMDAwICogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKTsKCiAgICBmdW5jdGlvbiBUdXRvcmV1bSgpIHB1YmxpYyB7CiAgICAgICAgdG90YWxTdXBwbHlfID0gSU5JVElBTF9TVVBQTFk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBJTklUSUFMX1NVUFBMWTsKICAgICAgICBUcmFuc2ZlcigweDAsIG1zZy5zZW5kZXIsIElOSVRJQUxfU1VQUExZKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckFuZEZyZWV6ZShhZGRyZXNzIF90bywgUGVyaW9kaWNSZWxlYXNlTG9jayBfbG9jaywgdWludDI1NiBfdHJhbnNmZXJBbW91bnQsIHVpbnQyNTYgX2Zyb3plbkFtb3VudCwgdWludDI1NiBfcmVsZWFzZUFtb3VudCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKF9sb2NrLnRva2VuKCkgPT0gdGhpcyk7CgogICAgICAgIGlmIChfdHJhbnNmZXJBbW91bnQgPiAwKSB7CiAgICAgICAgICAgIGFzc2VydCh0cmFuc2ZlcihfdG8sIF90cmFuc2ZlckFtb3VudCkpOwogICAgICAgIH0KCiAgICAgICAgaWYgKF9mcm96ZW5BbW91bnQgPiAwKSB7CiAgICAgICAgICAgIGFzc2VydCh0cmFuc2ZlcihfbG9jaywgX2Zyb3plbkFtb3VudCkpOwogICAgICAgICAgICBhc3NlcnQoX2xvY2suZnJlZXplKF90bywgX2Zyb3plbkFtb3VudCwgX3JlbGVhc2VBbW91bnQpKTsKCiAgICAgICAgICAgIGFzc2VydChiYWxhbmNlc1tfbG9ja10gPj0gX2xvY2sudG90YWxGcm96ZW4oKSk7CiAgICAgICAgfQogICAgfQp9'.
	

]
