Class {
	#name : #SRTd3d72bdd70c2a1dbc3ff6556a8c5f1d0d3a92b7a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd3d72bdd70c2a1dbc3ff6556a8c5f1d0d3a92b7a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgogLy8vIEB0aXRsZSBTYWZlTWF0aCBjb250cmFjdCAtIG1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MKY29udHJhY3QgU2FmZU1hdGggewogIGZ1bmN0aW9uIHNhZmVNdWwodWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc2FmZURpdih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50KSB7CiAgICBhc3NlcnQoYiA+IDApOwogICAgdWludCBjID0gYSAvIGI7CiAgICBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc2FmZVN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIHNhZmVBZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSArIGI7CiAgICBhc3NlcnQoYz49YSAmJiBjPj1iKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gbWF4NjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtYXgyNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KfQoKIC8vLyBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKY29udHJhY3QgRVJDMjAgewogIHVpbnQgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KTsgIAogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIG9rKTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIG9rKTsKICBmdW5jdGlvbiBkZWNpbWFscygpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IHZhbHVlKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsKfQoKIC8vLyBAdGl0bGUgT3duYWJsZSBjb250cmFjdCAtIGJhc2UgY29udHJhY3Qgd2l0aCBhbiBvd25lcgpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9Cn0KCiAvLy8gQHRpdGxlIFNpbGVudE5vdGFyeSB0b2tlbiBzYWxlIGNvbnRyYWN0CmNvbnRyYWN0IFNpbGVudE5vdGFyeVRva2VuU2FsZSBpcyBPd25hYmxlLCBTYWZlTWF0aCB7CgogICAvLy8gU3RhdGUgbWFjaGluZQogICAvLy8gUHJlcGFyaW5nOiBXYWl0aW5nIGZvciBJQ08gc3RhcnQKICAgLy8vIFNlbGxpbmc6IEFjdGl2ZSBzYWxlCiAgIC8vLyBQcm9sb25nZWRTZWxsaW5nOiBQcm9sb25nZWQgYWN0aXZlIHNhbGUKICAgLy8vIFRva2VuU2hvcnRhZ2U6IElDTyBwZXJpb2QgaXNuJ3Qgb3ZlciB5ZXQsIGJ1dCB0aGVyZSBhcmUgbm8gdG9rZW5zIG9uIHRoZSBjb250cmFjdAogICAvLy8gRmluaXNoZWQ6IElDTyBoYXMgZmluaXNoZWQKICBlbnVtIFN0YXR1cyB7VW5rbm93biwgUHJlcGFyaW5nLCBTZWxsaW5nLCBQcm9sb25nZWRTZWxsaW5nLCBUb2tlblNob3J0YWdlLCBGaW5pc2hlZH0KCiAgLy8vIEEgbmV3IGludmVzdG1lbnQgd2FzIG1hZGUKICBldmVudCBJbnZlc3RlZChhZGRyZXNzIGludmVzdG9yLCB1aW50IHdlaUFtb3VudCwgdWludCB0b2tlbkFtb3VudCk7CgogIC8vLyBDb250cmFjdCBvd25lciB3aXRoZHJldyBzb21lIHRva2VucyB0byB0ZWFtIHdhbGxldAogIGV2ZW50IFdpdGhkcmF3KHVpbnQgdG9rZW5BbW91bnQpOwoKICAvLy8gVG9rZW4gdW5pdCBwcmljZSBjaGFuZ2VkCiAgZXZlbnQgVG9rZW5QcmljZUNoYW5nZWQodWludCBuZXdUb2tlblByaWNlKTsKCiAgLy8vIFNOVFIgdG9rZW4gYWRkcmVzcwogIEVSQzIwIHB1YmxpYyB0b2tlbjsKCiAgLy8vIHdhbGxldCBhZGRyZXNzIHRvIHRyYW5zZmVyIGludmVzdGVkIEVUSAogIGFkZHJlc3MgcHVibGljIGV0aE11bHRpc2lnV2FsbGV0OwoKICAvLy8gd2FsbGV0IGFkZHJlc3MgdG8gd2l0aGRyYXcgdW51c2VkIHRva2VucwogIGFkZHJlc3MgcHVibGljIHRva2VuTXVsdGlzaWdXYWxsZXQ7CgogIC8vLyBJQ08gc3RhcnQgdGltZQogIHVpbnQgcHVibGljIHN0YXJ0VGltZTsKCiAgLy8vIElDTyBkdXJhdGlvbiBpbiBzZWNvbmRzCiAgdWludCBwdWJsaWMgZHVyYXRpb247CgogIC8vLyBQcm9sb25nZWQgSUNPIGR1cmF0aW9uIGluIHNlY29uZHMsIDAgaWYgbm8gcHJvbG9uZ2F0aW9uIGlzIHBsYW5uZWQKICB1aW50IHB1YmxpYyBwcm9sb25nZWREdXJhdGlvbjsKCiAgLy8vIFRva2VuIHByaWNlIGluIHdlaQogIHVpbnQgcHVibGljIHRva2VuUHJpY2U7CgogIC8vLyBNaW5pbWFsIGludmVzdG1lbnQgYW1vdW50IGluIHdlaQogIHVpbnQgcHVibGljIG1pbkludmVzdG1lbnQ7CgogIC8vLyBMaXN0IG9mIGFkZHJlc3NlcyBhbGxvd2VkIHRvIHNlbmQgRVRIIHRvIHRoaXMgY29udHJhY3QsIGVtcHR5IGlmIGFueW9uZSBpcyBhbGxvd2VkCiAgYWRkcmVzc1tdIHB1YmxpYyBhbGxvd2VkU2VuZGVyczsKCiAgLy8vIFRoZSBudW1iZXIgb2YgdG9rZW5zIGFscmVhZHkgc29sZCB0aHJvdWdoIHRoaXMgY29udHJhY3QKICB1aW50IHB1YmxpYyB0b2tlbnNTb2xkQW1vdW50ID0gMDsKCiAgLy8vICBIb3cgbWFueSB3ZWkgb2YgZnVuZGluZyB3ZSBoYXZlIHJhaXNlZAogIHVpbnQgcHVibGljIHdlaVJhaXNlZEFtb3VudCA9IDA7CgogIC8vLyAgSG93IG1hbnkgZGlzdGluY3QgYWRkcmVzc2VzIGhhdmUgaW52ZXN0ZWQKICB1aW50IHB1YmxpYyBpbnZlc3RvckNvdW50ID0gMDsKCiAgLy8vICBXYXMgcHJvbG9uZ2F0aW9uIHBlcm1pdHRlZCBieSBvd25lciBvciBub3QKICBib29sIHB1YmxpYyBwcm9sb25nYXRpb25QZXJtaXR0ZWQ7CgogIC8vLyAgSG93IG11Y2ggRVRIIGVhY2ggYWRkcmVzcyBoYXMgaW52ZXN0ZWQgdG8gdGhpcyBjcm93ZHNhbGUKICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBpbnZlc3RlZEFtb3VudE9mOwoKICAvLy8gIEhvdyBtdWNoIHRva2VucyB0aGlzIGNyb3dkc2FsZSBoYXMgY3JlZGl0ZWQgZm9yIGVhY2ggaW52ZXN0b3IgYWRkcmVzcwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIHRva2VuQW1vdW50T2Y7CgogIC8vLyBNdWx0aXBsaWVyIGZvciB0b2tlbiB2YWx1ZQogIHVpbnQgcHVibGljIHRva2VuVmFsdWVNdWx0aXBsaWVyOwoKICAvLy8gU3RvcCB0cmlnZ2VyIGluIGV4Y2VzcwogIGJvb2wgcHVibGljIHN0b3BwZWQ7CgogIC8vLyBAZGV2IENvbnN0cnVjdG9yCiAgLy8vIEBwYXJhbSBfdG9rZW4gU05UUiB0b2tlbiBhZGRyZXNzCiAgLy8vIEBwYXJhbSBfZXRoTXVsdGlzaWdXYWxsZXQgd2FsbGV0IGFkZHJlc3MgdG8gdHJhbnNmZXIgaW52ZXN0ZWQgRVRICiAgLy8vIEBwYXJhbSBfdG9rZW5NdWx0aXNpZ1dhbGxldCB3YWxsZXQgYWRkcmVzcyB0byB3aXRoZHJhdyB1bnVzZWQgdG9rZW5zCiAgLy8vIEBwYXJhbSBfc3RhcnRUaW1lIElDTyBzdGFydCB0aW1lCiAgLy8vIEBwYXJhbSBfZHVyYXRpb24gSUNPIGR1cmF0aW9uIGluIHNlY29uZHMKICAvLy8gQHBhcmFtIF9wcm9sb25nZWREdXJhdGlvbiBQcm9sb25nZWQgSUNPIGR1cmF0aW9uIGluIHNlY29uZHMsIDAgaWYgbm8gcHJvbG9uZ2F0aW9uIGlzIHBsYW5uZWQKICAvLy8gQHBhcmFtIF90b2tlblByaWNlIFRva2VuIHByaWNlIGluIHdlaQogIC8vLyBAcGFyYW0gX21pbkludmVzdG1lbnQgTWluaW1hbCBpbnZlc3RtZW50IGFtb3VudCBpbiB3ZWkKICAvLy8gQHBhcmFtIF9hbGxvd2VkU2VuZGVycyBMaXN0IG9mIGFkZHJlc3NlcyBhbGxvd2VkIHRvIHNlbmQgRVRIIHRvIHRoaXMgY29udHJhY3QsIGVtcHR5IGlmIGFueW9uZSBpcyBhbGxvd2VkCiAgZnVuY3Rpb24gU2lsZW50Tm90YXJ5VG9rZW5TYWxlKGFkZHJlc3MgX3Rva2VuLCBhZGRyZXNzIF9ldGhNdWx0aXNpZ1dhbGxldCwgYWRkcmVzcyBfdG9rZW5NdWx0aXNpZ1dhbGxldCwKICAgICAgICAgICAgdWludCBfc3RhcnRUaW1lLCB1aW50IF9kdXJhdGlvbiwgdWludCBfcHJvbG9uZ2VkRHVyYXRpb24sIHVpbnQgX3Rva2VuUHJpY2UsIHVpbnQgX21pbkludmVzdG1lbnQsIGFkZHJlc3NbXSBfYWxsb3dlZFNlbmRlcnMpIHB1YmxpYyB7CiAgICByZXF1aXJlKF90b2tlbiAhPSAwKTsKICAgIHJlcXVpcmUoX2V0aE11bHRpc2lnV2FsbGV0ICE9IDApOwogICAgcmVxdWlyZShfdG9rZW5NdWx0aXNpZ1dhbGxldCAhPSAwKTsKICAgIHJlcXVpcmUoX2R1cmF0aW9uID4gMCk7CiAgICByZXF1aXJlKF90b2tlblByaWNlID4gMCk7CiAgICByZXF1aXJlKF9taW5JbnZlc3RtZW50ID4gMCk7CgogICAgdG9rZW4gPSBFUkMyMChfdG9rZW4pOwogICAgZXRoTXVsdGlzaWdXYWxsZXQgPSBfZXRoTXVsdGlzaWdXYWxsZXQ7CiAgICB0b2tlbk11bHRpc2lnV2FsbGV0ID0gX3Rva2VuTXVsdGlzaWdXYWxsZXQ7CiAgICBzdGFydFRpbWUgPSBfc3RhcnRUaW1lOwogICAgZHVyYXRpb24gPSBfZHVyYXRpb247CiAgICBwcm9sb25nZWREdXJhdGlvbiA9IF9wcm9sb25nZWREdXJhdGlvbjsKICAgIHRva2VuUHJpY2UgPSBfdG9rZW5QcmljZTsKICAgIG1pbkludmVzdG1lbnQgPSBfbWluSW52ZXN0bWVudDsKICAgIGFsbG93ZWRTZW5kZXJzID0gX2FsbG93ZWRTZW5kZXJzOwogICAgdG9rZW5WYWx1ZU11bHRpcGxpZXIgPSAxMCAqKiB0b2tlbi5kZWNpbWFscygpOwogIH0KCiAgLy8vIEBkZXYgU2VsbCB0b2tlbnMgdG8gRVRIIHNlbmRlcgogIGZ1bmN0aW9uKCkgcHVibGljIHBheWFibGUgewogICAgcmVxdWlyZSghc3RvcHBlZCk7CiAgICByZXF1aXJlKGdldEN1cnJlbnRTdGF0dXMoKSA9PSBTdGF0dXMuU2VsbGluZyB8fCBnZXRDdXJyZW50U3RhdHVzKCkgPT0gU3RhdHVzLlByb2xvbmdlZFNlbGxpbmcpOwogICAgcmVxdWlyZShtc2cudmFsdWUgPj0gbWluSW52ZXN0bWVudCk7CiAgICBhZGRyZXNzIHJlY2VpdmVyID0gbXNnLnNlbmRlcjsKCiAgICAvLyBDaGVjayBpZiBjdXJyZW50IHNlbmRlciBpcyBhbGxvd2VkIHRvIHBhcnRpY2lwYXRlIGluIHRoaXMgY3Jvd2RzYWxlCiAgICB2YXIgc2VuZGVyQWxsb3dlZCA9IGZhbHNlOwogICAgaWYgKGFsbG93ZWRTZW5kZXJzLmxlbmd0aCA+IDApIHsKICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgYWxsb3dlZFNlbmRlcnMubGVuZ3RoOyBpKyspCiAgICAgICAgaWYgKGFsbG93ZWRTZW5kZXJzW2ldID09IHJlY2VpdmVyKXsKICAgICAgICAgIHNlbmRlckFsbG93ZWQgPSB0cnVlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgfQogICAgZWxzZQogICAgICBzZW5kZXJBbGxvd2VkID0gdHJ1ZTsKCiAgICBhc3NlcnQoc2VuZGVyQWxsb3dlZCk7CgogICAgdWludCB3ZWlBbW91bnQgPSBtc2cudmFsdWU7CiAgICB1aW50IHRva2VuQW1vdW50ID0gc2FmZURpdihzYWZlTXVsKHdlaUFtb3VudCwgdG9rZW5WYWx1ZU11bHRpcGxpZXIpLCB0b2tlblByaWNlKTsKICAgIGFzc2VydCh0b2tlbkFtb3VudCA+IDApOwoKICAgIHVpbnQgY2hhbmdlV2VpID0gMDsKICAgIHZhciBjdXJyZW50Q29udHJhY3RUb2tlbnMgPSB0b2tlbi5iYWxhbmNlT2YoYWRkcmVzcyh0aGlzKSk7CiAgICBpZiAoY3VycmVudENvbnRyYWN0VG9rZW5zIDwgdG9rZW5BbW91bnQpIHsKICAgICAgdmFyIGNoYW5nZVRva2VuQW1vdW50ID0gc2FmZVN1Yih0b2tlbkFtb3VudCwgY3VycmVudENvbnRyYWN0VG9rZW5zKTsKICAgICAgY2hhbmdlV2VpID0gc2FmZURpdihzYWZlTXVsKGNoYW5nZVRva2VuQW1vdW50LCB0b2tlblByaWNlKSwgdG9rZW5WYWx1ZU11bHRpcGxpZXIpOwogICAgICB0b2tlbkFtb3VudCA9IGN1cnJlbnRDb250cmFjdFRva2VuczsKICAgICAgd2VpQW1vdW50ID0gc2FmZVN1Yih3ZWlBbW91bnQsIGNoYW5nZVdlaSk7CiAgICB9CgogICAgaWYoaW52ZXN0ZWRBbW91bnRPZltyZWNlaXZlcl0gPT0gMCkgewogICAgICAgLy8gQSBuZXcgaW52ZXN0b3IKICAgICAgIGludmVzdG9yQ291bnQrKzsKICAgIH0KICAgIC8vIFVwZGF0ZSBpbnZlc3Rvci1hbW91bnQgbWFwcGluZ3MKICAgIGludmVzdGVkQW1vdW50T2ZbcmVjZWl2ZXJdID0gc2FmZUFkZChpbnZlc3RlZEFtb3VudE9mW3JlY2VpdmVyXSwgd2VpQW1vdW50KTsKICAgIHRva2VuQW1vdW50T2ZbcmVjZWl2ZXJdID0gc2FmZUFkZCh0b2tlbkFtb3VudE9mW3JlY2VpdmVyXSwgdG9rZW5BbW91bnQpOwogICAgLy8gVXBkYXRlIHRvdGFscwogICAgd2VpUmFpc2VkQW1vdW50ID0gc2FmZUFkZCh3ZWlSYWlzZWRBbW91bnQsIHdlaUFtb3VudCk7CiAgICB0b2tlbnNTb2xkQW1vdW50ID0gc2FmZUFkZCh0b2tlbnNTb2xkQW1vdW50LCB0b2tlbkFtb3VudCk7CgogICAgLy8gVHJhbnNmZXIgdGhlIGludmVzdGVkIEVUSCB0byB0aGUgbXVsdGlzaWcgd2FsbGV0OwogICAgZXRoTXVsdGlzaWdXYWxsZXQudHJhbnNmZXIod2VpQW1vdW50KTsKCiAgICAvLyBUcmFuc2ZlciB0aGUgYm91Z2h0IHRva2VucyB0byB0aGUgRVRIIHNlbmRlcgogICAgdmFyIHRyYW5zZmVyU3VjY2VzcyA9IHRva2VuLnRyYW5zZmVyKHJlY2VpdmVyLCB0b2tlbkFtb3VudCk7CiAgICBhc3NlcnQodHJhbnNmZXJTdWNjZXNzKTsKCiAgICAvLyBSZXR1cm4gY2hhbmdlIGlmIGFueQogICAgaWYgKGNoYW5nZVdlaSA+IDApIHsKICAgICAgcmVjZWl2ZXIudHJhbnNmZXIoY2hhbmdlV2VpKTsKICAgIH0KCiAgICAvLyBUZWxsIHVzIHRoZSBpbnZlc3RtZW50IHN1Y2NlZWRlZAogICAgSW52ZXN0ZWQocmVjZWl2ZXIsIHdlaUFtb3VudCwgdG9rZW5BbW91bnQpOwogIH0KCiAgIC8vLyBAZGV2IFRva2VuIHNhbGUgc3RhdGUgbWFjaGluZSBtYW5hZ2VtZW50LgogICAvLy8gQHJldHVybiBTdGF0dXMgY3VycmVudCBzdGF0dXMKICBmdW5jdGlvbiBnZXRDdXJyZW50U3RhdHVzKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKFN0YXR1cykgewogICAgaWYgKHN0YXJ0VGltZSA+IG5vdykKICAgICAgcmV0dXJuIFN0YXR1cy5QcmVwYXJpbmc7CiAgICBpZiAobm93ID4gc3RhcnRUaW1lICsgZHVyYXRpb24gKyBwcm9sb25nZWREdXJhdGlvbikKICAgICAgcmV0dXJuIFN0YXR1cy5GaW5pc2hlZDsKICAgIGlmIChub3cgPiBzdGFydFRpbWUgKyBkdXJhdGlvbiAmJiAhcHJvbG9uZ2F0aW9uUGVybWl0dGVkKQogICAgICByZXR1cm4gU3RhdHVzLkZpbmlzaGVkOwogICAgaWYgKHRva2VuLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKSA8PSAwKQogICAgICByZXR1cm4gU3RhdHVzLlRva2VuU2hvcnRhZ2U7CiAgICBpZiAobm93ID4gc3RhcnRUaW1lICsgZHVyYXRpb24pCiAgICAgIHJldHVybiBTdGF0dXMuUHJvbG9uZ2VkU2VsbGluZzsKICAgIGlmIChub3cgPj0gc3RhcnRUaW1lKQogICAgICAgIHJldHVybiBTdGF0dXMuU2VsbGluZzsKICAgIHJldHVybiBTdGF0dXMuVW5rbm93bjsKICB9CgogIC8vLyBAZGV2IFdpdGhkcmF3IHJlbWFpbmluZyB0b2tlbnMgdG8gdGhlIHRlYW0gd2FsbGV0CiAgLy8vIEBwYXJhbSB2YWx1ZSBBbW91bnQgb2YgdG9rZW5zIHRvIHdpdGhkcmF3CiAgZnVuY3Rpb24gd2l0aGRyYXdUb2tlbnModWludCB2YWx1ZSkgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKHZhbHVlIDw9IHRva2VuLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKSk7CiAgICAvLyBSZXR1cm4gdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIHRvIHRlYW0gd2FsbGV0CiAgICB0b2tlbi50cmFuc2Zlcih0b2tlbk11bHRpc2lnV2FsbGV0LCB2YWx1ZSk7CiAgICBXaXRoZHJhdyh2YWx1ZSk7CiAgfQoKICAvLy8gQGRldiBDaGFuZ2UgY3VycmVudCB0b2tlbiBwcmljZQogIC8vLyBAcGFyYW0gbmV3VG9rZW5QcmljZSBOZXcgdG9rZW4gdW5pdCBwcmljZSBpbiB3ZWkKICBmdW5jdGlvbiBjaGFuZ2VUb2tlblByaWNlKHVpbnQgbmV3VG9rZW5QcmljZSkgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5ld1Rva2VuUHJpY2UgPiAwKTsKCiAgICB0b2tlblByaWNlID0gbmV3VG9rZW5QcmljZTsKICAgIFRva2VuUHJpY2VDaGFuZ2VkKG5ld1Rva2VuUHJpY2UpOwogIH0KCiAgLy8vIEBkZXYgUHJvbG9uZyBJQ08gaWYgb3duZXIgZGVjaWRlcyB0byBkbyBpdAogIGZ1bmN0aW9uIHByb2xvbmcoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoIXByb2xvbmdhdGlvblBlcm1pdHRlZCAmJiBwcm9sb25nZWREdXJhdGlvbiA+IDApOwogICAgcHJvbG9uZ2F0aW9uUGVybWl0dGVkID0gdHJ1ZTsKICB9CgogIC8vLyBAZGV2IENhbGxlZCBieSB0aGUgb3duZXIgb24gZXhjZXNzLCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlCiAgZnVuY3Rpb24gc3RvcFNhbGUoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHN0b3BwZWQgPSB0cnVlOwogIH0KCiAgLy8vIEBkZXYgQ2FsbGVkIGJ5IHRoZSBvd25lciBvbiBlbmQgb2YgZXhjZXNzLCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZQogIGZ1bmN0aW9uIHJlc3VtZVNhbGUoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoc3RvcHBlZCk7CiAgICBzdG9wcGVkID0gZmFsc2U7CiAgfQoKICAvLy8gQGRldiBDYWxsZWQgYnkgdGhlIG93bmVyIHRvIGRlc3Ryb3kgY29udHJhY3QKICBmdW5jdGlvbiBraWxsKCkgcHVibGljIG9ubHlPd25lciB7CiAgICBzZWxmZGVzdHJ1Y3Qob3duZXIpOwogIH0KfQ=='.
	

]
