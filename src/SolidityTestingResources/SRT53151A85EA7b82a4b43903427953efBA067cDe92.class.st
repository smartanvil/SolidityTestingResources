Class {
	#name : #SRT53151A85EA7b82a4b43903427953efBA067cDe92,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT53151A85EA7b82a4b43903427953efBA067cDe92 >> base64 [
	^ 'Y29udHJhY3QgU2FmZU1hdGggewogICAgCiAgICB1aW50MjU2IGNvbnN0YW50IE1BWF9VSU5UMjU2ID0gMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGOwoKICAgIGZ1bmN0aW9uIHNhZmVBZGQodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgewogICAgICAgIHJlcXVpcmUoeCA8PSBNQVhfVUlOVDI1NiAtIHkpOwogICAgICAgIHJldHVybiB4ICsgeTsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICByZXF1aXJlKHggPj0geSk7CiAgICAgICAgcmV0dXJuIHggLSB5OwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVNdWwodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgewogICAgICAgIGlmICh5ID09IDApIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIHJlcXVpcmUoeCA8PSAoTUFYX1VJTlQyNTYgLyB5KSk7CiAgICAgICAgcmV0dXJuIHggKiB5OwogICAgfQp9CmNvbnRyYWN0IE93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgYWRkcmVzcyBwdWJsaWMgbmV3T3duZXI7CgogICAgZnVuY3Rpb24gT3duZWQoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoX25ld093bmVyICE9IG93bmVyKTsKICAgICAgICBuZXdPd25lciA9IF9uZXdPd25lcjsKICAgIH0KCiAgICBmdW5jdGlvbiBhY2NlcHRPd25lcnNoaXAoKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBuZXdPd25lcik7CiAgICAgICAgT3duZXJVcGRhdGUob3duZXIsIG5ld093bmVyKTsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgICAgIG5ld093bmVyID0gMHgwOwogICAgfQoKICAgIGV2ZW50IE93bmVyVXBkYXRlKGFkZHJlc3MgX3ByZXZPd25lciwgYWRkcmVzcyBfbmV3T3duZXIpOwp9CmNvbnRyYWN0IExvY2thYmxlIGlzIE93bmVkIHsKCiAgICB1aW50MjU2IHB1YmxpYyBsb2NrZWRVbnRpbEJsb2NrOwoKICAgIGV2ZW50IENvbnRyYWN0TG9ja2VkKHVpbnQyNTYgX3VudGlsQmxvY2ssIHN0cmluZyBfcmVhc29uKTsKCiAgICBtb2RpZmllciBsb2NrQWZmZWN0ZWQgewogICAgICAgIHJlcXVpcmUoYmxvY2subnVtYmVyID4gbG9ja2VkVW50aWxCbG9jayk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBsb2NrRnJvbVNlbGYodWludDI1NiBfdW50aWxCbG9jaywgc3RyaW5nIF9yZWFzb24pIGludGVybmFsIHsKICAgICAgICBsb2NrZWRVbnRpbEJsb2NrID0gX3VudGlsQmxvY2s7CiAgICAgICAgQ29udHJhY3RMb2NrZWQoX3VudGlsQmxvY2ssIF9yZWFzb24pOwogICAgfQoKCiAgICBmdW5jdGlvbiBsb2NrVW50aWwodWludDI1NiBfdW50aWxCbG9jaywgc3RyaW5nIF9yZWFzb24pIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGxvY2tlZFVudGlsQmxvY2sgPSBfdW50aWxCbG9jazsKICAgICAgICBDb250cmFjdExvY2tlZChfdW50aWxCbG9jaywgX3JlYXNvbik7CiAgICB9Cn0KY29udHJhY3QgUmVlbnRyYW5jeUhhbmRsaW5nQ29udHJhY3R7CgogICAgYm9vbCBsb2NrZWQ7CgogICAgbW9kaWZpZXIgbm9SZWVudHJhbmN5KCkgewogICAgICAgIHJlcXVpcmUoIWxvY2tlZCk7CiAgICAgICAgbG9ja2VkID0gdHJ1ZTsKICAgICAgICBfOwogICAgICAgIGxvY2tlZCA9IGZhbHNlOwogICAgfQp9CmNvbnRyYWN0IHRva2VuUmVjaXBpZW50SW50ZXJmYWNlIHsKICBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZXh0cmFEYXRhKTsKfQpjb250cmFjdCBFUkMyMFRva2VuSW50ZXJmYWNlIHsKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IF90b3RhbFN1cHBseSk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsKCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cn0KY29udHJhY3QgU3BvcnRpZnlUb2tlbkludGVyZmFjZSB7CiAgICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYzsKfQoKY29udHJhY3QgQ3Jvd2RzYWxlIGlzIFJlZW50cmFuY3lIYW5kbGluZ0NvbnRyYWN0LCBPd25lZCB7CgogIHN0cnVjdCBDb250cmlidXRvckRhdGEgewogICAgdWludCBjb250cmlidXRpb25BbW91bnQ7CiAgICB1aW50IHRva2Vuc0lzc3VlZDsKICB9CgogIG1hcHBpbmcoYWRkcmVzcyA9PiBDb250cmlidXRvckRhdGEpIHB1YmxpYyBjb250cmlidXRvckxpc3Q7CiAgdWludCBuZXh0Q29udHJpYnV0b3JJbmRleDsKICBtYXBwaW5nKHVpbnQgPT4gYWRkcmVzcykgY29udHJpYnV0b3JJbmRleGVzOwoKICBzdGF0ZSBwdWJsaWMgY3Jvd2RzYWxlU3RhdGUgPSBzdGF0ZS5wZW5kaW5nU3RhcnQ7CiAgZW51bSBzdGF0ZSB7IHBlbmRpbmdTdGFydCwgY3Jvd2RzYWxlLCBjcm93ZHNhbGVFbmRlZCB9CgogIHVpbnQgcHVibGljIGNyb3dkc2FsZVN0YXJ0QmxvY2s7CiAgdWludCBwdWJsaWMgY3Jvd2RzYWxlRW5kZWRCbG9jazsKCiAgZXZlbnQgQ3Jvd2RzYWxlU3RhcnRlZCh1aW50IGJsb2NrTnVtYmVyKTsKICBldmVudCBDcm93ZHNhbGVFbmRlZCh1aW50IGJsb2NrTnVtYmVyKTsKICBldmVudCBFcnJvclNlbmRpbmdFVEgoYWRkcmVzcyB0bywgdWludCBhbW91bnQpOwogIGV2ZW50IE1pbkNhcFJlYWNoZWQodWludCBibG9ja051bWJlcik7CiAgZXZlbnQgTWF4Q2FwUmVhY2hlZCh1aW50IGJsb2NrTnVtYmVyKTsKCiAgYWRkcmVzcyB0b2tlbkFkZHJlc3MgPSAweDA7CiAgdWludCBkZWNpbWFscyA9IDE4OwoKICB1aW50IGV0aFRvVG9rZW5Db252ZXJzaW9uOwoKICB1aW50IHB1YmxpYyBtaW5DYXA7CiAgdWludCBwdWJsaWMgbWF4Q2FwOwogIHVpbnQgcHVibGljIGV0aFJhaXNlZDsKICB1aW50IHB1YmxpYyB0b2tlblRvdGFsU3VwcGx5ID0gMjAwMDAwMDAwICogMTAqKmRlY2ltYWxzOwoKICBhZGRyZXNzIHB1YmxpYyBtdWx0aXNpZ0FkZHJlc3M7CiAgdWludCBibG9ja3NJbkFEYXk7CgogIHVpbnQgbmV4dENvbnRyaWJ1dG9yVG9DbGFpbTsKICBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgaGFzQ2xhaW1lZEV0aFdoZW5GYWlsOwoKICB1aW50IGNyb3dkc2FsZVRva2VuQ2FwID0gICAgICAgICAgMTM0MDAwMDAwICogMTAqKmRlY2ltYWxzOwogIHVpbnQgZm91bmRlcnNBbmRUZWFtVG9rZW5zID0gICAgICAgMzYwMDAwMDAgKiAxMCoqZGVjaW1hbHM7CiAgdWludCBhZHZpc29yQW5kQW1iYXNzYWRvclRva2VucyA9ICAyMDAwMDAwMCAqIDEwKipkZWNpbWFsczsKICB1aW50IGZ1dHVyZVByb21vRXZlbnRUb2tlbnMgPSAgICAgIDEwMDAwMDAwICogMTAqKmRlY2ltYWxzOwogIGJvb2wgZm91bmRlcnNBbmRUZWFtVG9rZW5zQ2xhaW1lZCA9IGZhbHNlOwogIGJvb2wgYWR2aXNvckFuZEFtYmFzc2Fkb3JUb2tlbnNDbGFpbWVkID0gZmFsc2U7CiAgYm9vbCBmdXR1cmVQcm9tb0V2ZW50VG9rZW5zQ2xhaW1lZCA9IGZhbHNlOwoKICAvLwogIC8vIFVubmFtZWQgZnVuY3Rpb24gdGhhdCBydW5zIHdoZW4gZXRoIGlzIHNlbnQgdG8gdGhlIGNvbnRyYWN0CiAgLy8KICBmdW5jdGlvbigpIG5vUmVlbnRyYW5jeSBwYXlhYmxlIHB1YmxpYyB7CiAgICByZXF1aXJlKG1zZy52YWx1ZSAhPSAwKTsgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaHJvdyBpZiB2YWx1ZSBpcyAwCiAgICByZXF1aXJlKGNyb3dkc2FsZVN0YXRlICE9IHN0YXRlLmNyb3dkc2FsZUVuZGVkKTsvLyBDaGVjayBpZiBjcm93ZHNhbGUgaGFzIGVuZGVkCgogICAgYm9vbCBzdGF0ZUNoYW5nZWQgPSBjaGVja0Nyb3dkc2FsZVN0YXRlKCk7ICAgICAgLy8gQ2hlY2sgYmxvY2tzIGFuZCBjYWxpYnJhdGUgY3Jvd2RzYWxlIHN0YXRlCgogICAgaWYgKGNyb3dkc2FsZVN0YXRlID09IHN0YXRlLmNyb3dkc2FsZSkgewogICAgICBwcm9jZXNzVHJhbnNhY3Rpb24obXNnLnNlbmRlciwgbXNnLnZhbHVlKTsgICAgLy8gUHJvY2VzcyB0cmFuc2FjdGlvbiBhbmQgaXNzdWUgdG9rZW5zCiAgICB9IGVsc2UgewogICAgICByZWZ1bmRUcmFuc2FjdGlvbihzdGF0ZUNoYW5nZWQpOyAgICAgICAgICAgICAgLy8gU2V0IHN0YXRlIGFuZCByZXR1cm4gZnVuZHMgb3IgdGhyb3cKICAgIH0KICB9CgogIC8vCiAgLy8gQ2hlY2sgY3Jvd2RzYWxlIHN0YXRlIGFuZCBjYWxpYnJhdGUgaXQKICAvLwogIGZ1bmN0aW9uIGNoZWNrQ3Jvd2RzYWxlU3RhdGUoKSBpbnRlcm5hbCByZXR1cm5zIChib29sKSB7CiAgICBpZiAoZXRoUmFpc2VkID09IG1heENhcCAmJiBjcm93ZHNhbGVTdGF0ZSAhPSBzdGF0ZS5jcm93ZHNhbGVFbmRlZCkgeyAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIG1heCBjYXAgaXMgcmVhY2hlZAogICAgICBjcm93ZHNhbGVTdGF0ZSA9IHN0YXRlLmNyb3dkc2FsZUVuZGVkOwogICAgICBDcm93ZHNhbGVFbmRlZChibG9jay5udW1iZXIpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSYWlzZSBldmVudAogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBpZiAoYmxvY2subnVtYmVyID4gY3Jvd2RzYWxlU3RhcnRCbG9jayAmJiBibG9jay5udW1iZXIgPD0gY3Jvd2RzYWxlRW5kZWRCbG9jaykgeyAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGFyZSBpbiBjcm93ZHNhbGUgc3RhdGUKICAgICAgaWYgKGNyb3dkc2FsZVN0YXRlICE9IHN0YXRlLmNyb3dkc2FsZSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgc3RhdGUgbmVlZHMgdG8gYmUgY2hhbmdlZAogICAgICAgIGNyb3dkc2FsZVN0YXRlID0gc3RhdGUuY3Jvd2RzYWxlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgbmV3IHN0YXRlCiAgICAgICAgQ3Jvd2RzYWxlU3RhcnRlZChibG9jay5udW1iZXIpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJhaXNlIGV2ZW50CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmIChjcm93ZHNhbGVTdGF0ZSAhPSBzdGF0ZS5jcm93ZHNhbGVFbmRlZCAmJiBibG9jay5udW1iZXIgPiBjcm93ZHNhbGVFbmRlZEJsb2NrKSB7ICAgICAgIC8vIENoZWNrIGlmIGNyb3dkc2FsZSBpcyBvdmVyCiAgICAgICAgY3Jvd2RzYWxlU3RhdGUgPSBzdGF0ZS5jcm93ZHNhbGVFbmRlZDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCBuZXcgc3RhdGUKICAgICAgICBDcm93ZHNhbGVFbmRlZChibG9jay5udW1iZXIpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmFpc2UgZXZlbnQKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgLy8KICAvLyBEZWNpZGUgaWYgdGhyb3cgb3Igb25seSByZXR1cm4gZXRoZXIKICAvLwogIGZ1bmN0aW9uIHJlZnVuZFRyYW5zYWN0aW9uKGJvb2wgX3N0YXRlQ2hhbmdlZCkgaW50ZXJuYWwgewogICAgaWYgKF9zdGF0ZUNoYW5nZWQpIHsKICAgICAgbXNnLnNlbmRlci50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgfSBlbHNlIHsKICAgICAgcmV2ZXJ0KCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjYWxjdWxhdGVFdGhUb1Rva2VuKHVpbnQgX2V0aCwgdWludCBfYmxvY2tOdW1iZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zKHVpbnQpIHsKICAgIGlmIChfYmxvY2tOdW1iZXIgPCBjcm93ZHNhbGVTdGFydEJsb2NrICsgYmxvY2tzSW5BRGF5ICogMykgewogICAgICByZXR1cm4gX2V0aCAqIDMyOTg7CiAgICB9CiAgICBpZiAoX2V0aCA+PSAxMDAqMTAqKmRlY2ltYWxzKSB7CiAgICAgIHJldHVybiBfZXRoICogMzI5ODsKICAgIH0KICAgIGlmIChfYmxvY2tOdW1iZXIgPiBjcm93ZHNhbGVTdGFydEJsb2NrKSB7CiAgICAgIHJldHVybiBfZXRoICogMjk5ODsKICAgIH0KICB9CgogIC8vCiAgLy8gSXNzdWUgdG9rZW5zIGFuZCByZXR1cm4gaWYgdGhlcmUgaXMgb3ZlcmZsb3cKICAvLwogIGZ1bmN0aW9uIHByb2Nlc3NUcmFuc2FjdGlvbihhZGRyZXNzIF9jb250cmlidXRvciwgdWludCBfYW1vdW50KSBpbnRlcm5hbHsKICAgIHVpbnQgY29udHJpYnV0aW9uQW1vdW50ID0gX2Ftb3VudDsKICAgIHVpbnQgcmV0dXJuQW1vdW50ID0gMDsKCiAgICBpZiAoX2Ftb3VudCA+IChtYXhDYXAgLSBldGhSYWlzZWQpKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbWF4IGNvbnRyaWJ1dGlvbiBpcyBsb3dlciB0aGFuIF9hbW91bnQgc2VudAogICAgICBjb250cmlidXRpb25BbW91bnQgPSBtYXhDYXAgLSBldGhSYWlzZWQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGF0IHVzZXIgY29udGlidXRlcyBoaXMgbWF4aW11bSBhbG93ZWQgY29udHJpYnV0aW9uCiAgICAgIHJldHVybkFtb3VudCA9IF9hbW91bnQgLSBjb250cmlidXRpb25BbW91bnQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGhvd211Y2ggaGUgbXVzdCBnZXQgYmFjawogICAgfQoKICAgIGlmIChldGhSYWlzZWQgKyBjb250cmlidXRpb25BbW91bnQgPiBtaW5DYXAgJiYgbWluQ2FwID4gZXRoUmFpc2VkKSB7CiAgICAgIE1pbkNhcFJlYWNoZWQoYmxvY2subnVtYmVyKTsKICAgIH0KCiAgICBpZiAoZXRoUmFpc2VkICsgY29udHJpYnV0aW9uQW1vdW50ID09IG1heENhcCAmJiBldGhSYWlzZWQgPCBtYXhDYXApIHsKICAgICAgTWF4Q2FwUmVhY2hlZChibG9jay5udW1iZXIpOwogICAgfQoKICAgIGlmIChjb250cmlidXRvckxpc3RbX2NvbnRyaWJ1dG9yXS5jb250cmlidXRpb25BbW91bnQgPT0gMCkgewogICAgICAgIGNvbnRyaWJ1dG9ySW5kZXhlc1tuZXh0Q29udHJpYnV0b3JJbmRleF0gPSBfY29udHJpYnV0b3I7CiAgICAgICAgbmV4dENvbnRyaWJ1dG9ySW5kZXggKz0gMTsKICAgIH0KCiAgICBjb250cmlidXRvckxpc3RbX2NvbnRyaWJ1dG9yXS5jb250cmlidXRpb25BbW91bnQgKz0gY29udHJpYnV0aW9uQW1vdW50OwogICAgZXRoUmFpc2VkICs9IGNvbnRyaWJ1dGlvbkFtb3VudDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRvIGV0aCByYWlzZWQKCiAgICB1aW50IHRva2VuQW1vdW50ID0gY2FsY3VsYXRlRXRoVG9Ub2tlbihjb250cmlidXRpb25BbW91bnQsIGJsb2NrLm51bWJlcik7ICAgICAvLyBDYWxjdWxhdGUgaG93IG11Y2ggdG9rZW5zIG11c3QgY29udHJpYnV0b3IgZ2V0CiAgICBpZiAodG9rZW5BbW91bnQgPiAwKSB7CiAgICAgIFNwb3J0aWZ5VG9rZW5JbnRlcmZhY2UodG9rZW5BZGRyZXNzKS5taW50KF9jb250cmlidXRvciwgdG9rZW5BbW91bnQpOyAgICAgICAvLyBJc3N1ZSBuZXcgdG9rZW5zCiAgICAgIGNvbnRyaWJ1dG9yTGlzdFtfY29udHJpYnV0b3JdLnRva2Vuc0lzc3VlZCArPSB0b2tlbkFtb3VudDsgICAgICAgICAgICAgICAgICAvLyBsb2cgdG9rZW4gaXNzdWFuY2UKICAgIH0KICAgIGlmIChyZXR1cm5BbW91bnQgIT0gMCkgewogICAgICBfY29udHJpYnV0b3IudHJhbnNmZXIocmV0dXJuQW1vdW50KTsKICAgIH0gCiAgfQoKICBmdW5jdGlvbiBwdXNoQW5nZWxJbnZlc3RtZW50RGF0YShhZGRyZXNzIF9hZGRyZXNzLCB1aW50IF9ldGhDb250cmlidXRlZCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgIGFzc2VydChldGhSYWlzZWQgKyBfZXRoQ29udHJpYnV0ZWQgPD0gbWF4Q2FwKTsKICAgICAgcHJvY2Vzc1RyYW5zYWN0aW9uKF9hZGRyZXNzLCBfZXRoQ29udHJpYnV0ZWQpOwogIH0KICBmdW5jdGlvbiBkZXBvc2l0QW5nZWxJbnZlc3RtZW50RXRoKCkgcGF5YWJsZSBvbmx5T3duZXIgcHVibGljIHt9CiAgCgogIC8vCiAgLy8gTWV0aG9kIGlzIG5lZWRlZCBmb3IgcmVjb3ZlcmluZyB0b2tlbnMgYWNjZWRlbnRhbHkgc2VudCB0byB0b2tlbiBhZGRyZXNzCiAgLy8KICBmdW5jdGlvbiBzYWx2YWdlVG9rZW5zRnJvbUNvbnRyYWN0KGFkZHJlc3MgX3Rva2VuQWRkcmVzcywgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgb25seU93bmVyIHB1YmxpYyB7CiAgICBFUkMyMFRva2VuSW50ZXJmYWNlKF90b2tlbkFkZHJlc3MpLnRyYW5zZmVyKF90bywgX2Ftb3VudCk7CiAgfQoKICAvLwogIC8vIHdpdGhkcmF3RXRoIHdoZW4gbWluaW11bSBjYXAgaXMgcmVhY2hlZAogIC8vCiAgZnVuY3Rpb24gd2l0aGRyYXdFdGgoKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUodGhpcy5iYWxhbmNlICE9IDApOwogICAgcmVxdWlyZShldGhSYWlzZWQgPj0gbWluQ2FwKTsKCiAgICBtdWx0aXNpZ0FkZHJlc3MudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICB9CgogIC8vCiAgLy8gVXNlcnMgY2FuIGNsYWltIHRoZWlyIGNvbnRyaWJ1dGlvbiBpZiBtaW4gY2FwIGlzIG5vdCByYWlzZWQKICAvLwogIGZ1bmN0aW9uIGNsYWltRXRoSWZGYWlsZWQoKSBwdWJsaWMgewogICAgcmVxdWlyZShibG9jay5udW1iZXIgPiBjcm93ZHNhbGVFbmRlZEJsb2NrICYmIGV0aFJhaXNlZCA8IG1pbkNhcCk7ICAgIC8vIENoZWNrIGlmIGNyb3dkc2FsZSBoYXMgZmFpbGVkCiAgICByZXF1aXJlKGNvbnRyaWJ1dG9yTGlzdFttc2cuc2VuZGVyXS5jb250cmlidXRpb25BbW91bnQgPiAwKTsgICAgICAgICAgLy8gQ2hlY2sgaWYgY29udHJpYnV0b3IgaGFzIGNvbnRyaWJ1dGVkIHRvIGNyb3dkc2FsZUVuZGVkQmxvY2sKICAgIHJlcXVpcmUoIWhhc0NsYWltZWRFdGhXaGVuRmFpbFttc2cuc2VuZGVyXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBjb250cmlidXRvciBoYXMgYWxyZWFkeSBjbGFpbWVkIGhpcyBldGgKCiAgICB1aW50IGV0aENvbnRyaWJ1dGVkID0gY29udHJpYnV0b3JMaXN0W21zZy5zZW5kZXJdLmNvbnRyaWJ1dGlvbkFtb3VudDsgLy8gR2V0IGNvbnRyaWJ1dG9ycyBjb250cmlidXRpb24KICAgIGhhc0NsYWltZWRFdGhXaGVuRmFpbFttc2cuc2VuZGVyXSA9IHRydWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhhdCBoZSBoYXMgY2xhaW1lZAogICAgaWYgKCFtc2cuc2VuZGVyLnNlbmQoZXRoQ29udHJpYnV0ZWQpKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWZ1bmQgZXRoCiAgICAgIEVycm9yU2VuZGluZ0VUSChtc2cuc2VuZGVyLCBldGhDb250cmlidXRlZCk7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gaXNzdWUgcmFpc2UgZXZlbnQgZm9yIG1hbnVhbCByZWNvdmVyeQogICAgfQogIH0KCiAgLy8KICAvLyBPd25lciBjYW4gYmF0Y2ggcmV0dXJuIGNvbnRyaWJ1dG9ycyBjb250cmlidXRpb25zKGV0aCkKICAvLwogIGZ1bmN0aW9uIGJhdGNoUmV0dXJuRXRoSWZGYWlsZWQodWludCBfbnVtYmVyT2ZSZXR1cm5zKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUoYmxvY2subnVtYmVyID4gY3Jvd2RzYWxlRW5kZWRCbG9jayAmJiBldGhSYWlzZWQgPCBtaW5DYXApOyAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBjcm93ZHNhbGUgaGFzIGZhaWxlZAogICAgYWRkcmVzcyBjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzOwogICAgdWludCBjb250cmlidXRpb247CiAgICBmb3IgKHVpbnQgY250ID0gMDsgY250IDwgX251bWJlck9mUmV0dXJuczsgY250KyspIHsKICAgICAgY3VycmVudFBhcnRpY2lwYW50QWRkcmVzcyA9IGNvbnRyaWJ1dG9ySW5kZXhlc1tuZXh0Q29udHJpYnV0b3JUb0NsYWltXTsgICAgICAgICAvLyBHZXQgbmV4dCB1bmNsYWltZWQgcGFydGljaXBhbnQKICAgICAgaWYgKGN1cnJlbnRQYXJ0aWNpcGFudEFkZHJlc3MgPT0gMHgwKSB7CiAgICAgICAgcmV0dXJuOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYWxsIHRoZSBwYXJ0aWNpcGFudHMgd2VyZSBjb21wZW5zYXRlZAogICAgICB9CiAgICAgIGlmICghaGFzQ2xhaW1lZEV0aFdoZW5GYWlsW2N1cnJlbnRQYXJ0aWNpcGFudEFkZHJlc3NdKSB7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcGFydGljaXBhbnQgaGFzIGFscmVhZHkgY2xhaW1lZAogICAgICAgIGNvbnRyaWJ1dGlvbiA9IGNvbnRyaWJ1dG9yTGlzdFtjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzXS5jb250cmlidXRpb25BbW91bnQ7IC8vIEdldCBjb250cmlidXRpb24gb2YgcGFydGljaXBhbnQKICAgICAgICBoYXNDbGFpbWVkRXRoV2hlbkZhaWxbY3VycmVudFBhcnRpY2lwYW50QWRkcmVzc10gPSB0cnVlOyAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhhdCBoZSBoYXMgY2xhaW1lZAogICAgICAgIGlmICghY3VycmVudFBhcnRpY2lwYW50QWRkcmVzcy5zZW5kKGNvbnRyaWJ1dGlvbikpIHsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlZnVuZCBldGgKICAgICAgICAgIEVycm9yU2VuZGluZ0VUSChjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzLCBjb250cmlidXRpb24pOyAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbiBpc3N1ZSByYWlzZSBldmVudCBmb3IgbWFudWFsIHJlY292ZXJ5CiAgICAgICAgfQogICAgICB9CiAgICAgIG5leHRDb250cmlidXRvclRvQ2xhaW0gKz0gMTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVwZWF0CiAgICB9CiAgfQoKICAvLwogIC8vIElmIHRoZXJlIHdlcmUgYW55IGlzc3VlL2F0dGFjaCB3aXRoIHJlZnVuZCBvd25lciBjYW4gd2l0aHJhdyBldGggYXQgdGhlIGVuZCBmb3IgbWFudWFsIHJlY292ZXJ5CiAgLy8KICBmdW5jdGlvbiB3aXRoZHJhd1JlbWFpbmluZ0JhbGFuY2VGb3JNYW51YWxSZWNvdmVyeSgpIG9ubHlPd25lciBwdWJsaWMgewogICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgIT0gMCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGFyZSBhbnkgZXRoIHRvIGNsYWltCiAgICByZXF1aXJlKGJsb2NrLm51bWJlciA+IGNyb3dkc2FsZUVuZGVkQmxvY2spOyAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgY3Jvd2RzYWxlIGlzIG92ZXIKICAgIHJlcXVpcmUoY29udHJpYnV0b3JJbmRleGVzW25leHRDb250cmlidXRvclRvQ2xhaW1dID09IDB4MCk7ICAvLyBDaGVjayBpZiBhbGwgdGhlIHVzZXJzIHdlcmUgcmVmdW5kZWQKICAgIG11bHRpc2lnQWRkcmVzcy50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOyAgICAgICAgICAgICAgICAgICAgICAvLyBXaXRoZHJhdyB0byBtdWx0aXNpZwogIH0KCiAgZnVuY3Rpb24gY2xhaW1UZWFtVG9rZW5zKGFkZHJlc3MgX3RvLCB1aW50IF9jaG9pY2UpIG9ubHlPd25lciBwdWJsaWMgewogICAgcmVxdWlyZShjcm93ZHNhbGVTdGF0ZSA9PSBzdGF0ZS5jcm93ZHNhbGVFbmRlZCk7CiAgICByZXF1aXJlKGV0aFJhaXNlZCA+PSBtaW5DYXApOwoKICAgIHVpbnQgbWludEFtb3VudDsKICAgIGlmIChfY2hvaWNlID09IDEpIHsKICAgICAgYXNzZXJ0KCFhZHZpc29yQW5kQW1iYXNzYWRvclRva2Vuc0NsYWltZWQpOwogICAgICBtaW50QW1vdW50ID0gYWR2aXNvckFuZEFtYmFzc2Fkb3JUb2tlbnM7CiAgICAgIGFkdmlzb3JBbmRBbWJhc3NhZG9yVG9rZW5zQ2xhaW1lZCA9IHRydWU7CiAgICB9IGVsc2UgaWYgKF9jaG9pY2UgPT0gMikgewogICAgICBhc3NlcnQoIWZ1dHVyZVByb21vRXZlbnRUb2tlbnNDbGFpbWVkKTsKICAgICAgbWludEFtb3VudCA9IGZ1dHVyZVByb21vRXZlbnRUb2tlbnM7CiAgICAgIGZ1dHVyZVByb21vRXZlbnRUb2tlbnNDbGFpbWVkID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoX2Nob2ljZSA9PSAzKSB7CiAgICAgIGFzc2VydCghZm91bmRlcnNBbmRUZWFtVG9rZW5zQ2xhaW1lZCk7CiAgICAgIGFzc2VydChhZHZpc29yQW5kQW1iYXNzYWRvclRva2Vuc0NsYWltZWQpOwogICAgICBhc3NlcnQoZnV0dXJlUHJvbW9FdmVudFRva2Vuc0NsYWltZWQpOwogICAgICBhc3NlcnQodG9rZW5Ub3RhbFN1cHBseSA+IEVSQzIwVG9rZW5JbnRlcmZhY2UodG9rZW5BZGRyZXNzKS50b3RhbFN1cHBseSgpKTsKICAgICAgbWludEFtb3VudCA9IHRva2VuVG90YWxTdXBwbHkgLSBFUkMyMFRva2VuSW50ZXJmYWNlKHRva2VuQWRkcmVzcykudG90YWxTdXBwbHkoKTsKICAgICAgZm91bmRlcnNBbmRUZWFtVG9rZW5zQ2xhaW1lZCA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICByZXZlcnQoKTsKICAgIH0KICAgIFNwb3J0aWZ5VG9rZW5JbnRlcmZhY2UodG9rZW5BZGRyZXNzKS5taW50KF90bywgbWludEFtb3VudCk7CiAgfQoKCiAgLy8KICAvLyBPd25lciBjYW4gc2V0IG11bHRpc2lnIGFkZHJlc3MgZm9yIGNyb3dkc2FsZQogIC8vCiAgZnVuY3Rpb24gc2V0TXVsdGlzaWdBZGRyZXNzKGFkZHJlc3MgX25ld0FkZHJlc3MpIG9ubHlPd25lciBwdWJsaWMgewogICAgbXVsdGlzaWdBZGRyZXNzID0gX25ld0FkZHJlc3M7CiAgfQoKICAvLwogIC8vIE93bmVyIGNhbiBzZXQgdG9rZW4gYWRkcmVzcyB3aGVyZSBtaW50cyB3aWxsIGhhcHBlbgogIC8vCiAgZnVuY3Rpb24gc2V0VG9rZW4oYWRkcmVzcyBfbmV3QWRkcmVzcykgb25seU93bmVyIHB1YmxpYyB7CiAgICB0b2tlbkFkZHJlc3MgPSBfbmV3QWRkcmVzczsKICB9CgogIGZ1bmN0aW9uIGdldFRva2VuQWRkcmVzcygpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zKGFkZHJlc3MpIHsKICAgIHJldHVybiB0b2tlbkFkZHJlc3M7CiAgfQoKICBmdW5jdGlvbiBpbnZlc3RvckNvdW50KCkgY29uc3RhbnQgcHVibGljIHJldHVybnModWludCkgewogICAgcmV0dXJuIG5leHRDb250cmlidXRvckluZGV4OwogIH0KfQoKY29udHJhY3QgU3BvcnRpZnlDcm93ZHNhbGUgaXMgQ3Jvd2RzYWxlIHsKICAKICBmdW5jdGlvbiBTcG9ydGlmeUNyb3dkc2FsZSgpIHsgCgogICAgY3Jvd2RzYWxlU3RhcnRCbG9jayA9IDQ1OTUxMzg7CiAgICBjcm93ZHNhbGVFbmRlZEJsb2NrID0gNDcwODEyMDsKCiAgICBtaW5DYXAgPSA0MTkwMDAwMDAwMDAwMDAwMDAwMDAwOwogICAgbWF4Q2FwID0gNDA2MjkwMDAwMDAwMDAwMDAwMDAwMDA7CgogICAgYmxvY2tzSW5BRGF5ID0gNjY0NjsKICB9Cn0='.
	

]
