Class {
	#name : #SRTbff422e9af8e453314639d4665745a9a39aa0592,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTbff422e9af8e453314639d4665745a9a39aa0592 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Ci8vICYjMTY5OyBCdWxsZW9uLiBBbGwgUmlnaHRzIFJlc2VydmVkCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9Cgpjb250cmFjdCBvd25lZCB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIGFkZHJlc3MgcHVibGljIG5ld093bmVyOwoKICAgIGZ1bmN0aW9uIG93bmVkKCkgcGF5YWJsZSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQogICAgCiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUob3duZXIgPT0gbXNnLnNlbmRlcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIF9vd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfb3duZXIgIT0gMCk7CiAgICAgICAgbmV3T3duZXIgPSBfb3duZXI7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNvbmZpcm1Pd25lcigpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShuZXdPd25lciA9PSBtc2cuc2VuZGVyKTsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgICAgIGRlbGV0ZSBuZXdPd25lcjsKICAgIH0KfQoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsgIAogICAgCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwogICAgLyoqCiAgICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CgogICAgICAvLyBTYWZlTWF0aC5zdWIgd2lsbCB0aHJvdyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJhbGFuY2UuCiAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4gCiAgICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgICAqLwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKCiAgICAvKioKICAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZAogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoKICAgICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldAogICAgICAvLyByZXF1aXJlIChfdmFsdWUgPD0gX2FsbG93YW5jZSk7CgogICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IEFwcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CgogICAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgICAvLyAgYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICAqLwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CiAgICAKICAgIC8qKgogICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKICAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwgCiAgICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgICovCiAgICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSBwdWJsaWMKICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMKICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgICAgfSBlbHNlIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgICAgfQogICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKCmNvbnRyYWN0IEJ1bGxlb25JQ08gaXMgb3duZWQgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAiMS4wIjsKICAgIGFkZHJlc3MgcHJpdmF0ZSBXSVRIRFJBV19XQUxMRVQ7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFNvbGQgPSAwOwogICAgdWludDI1NiBwdWJsaWMgc29sZE9uU3RhZ2UgPSAwOwogICAgdWludDggcHVibGljIGN1cnJlbnRTdGFnZSA9IDA7CiAgICBCdWxsZW9uIHB1YmxpYyByZXdhcmRUb2tlbjsKCgogICAgdWludDI1NltdIHRva2Vuc1JhdGUgPSBbMTAwMCw4MDAsNjAwLDQwMCwyMDAsMTAwLDc1LDUwLDI1LDEwLDUsMV07CiAgICB1aW50MjU2W10gdG9rZW5zQ2FwID0gWzc2MDAwMCw3NjAwMDAsNzYwMDAwLDc2MDAwMCw3NjAwMDAsNzYwMDAwLDc2MDAwMCw3NjAwMDAsNzYwMDAwLDc2MDAwMCw3NjAwMDAsNzYwMDAwXTsKICAgIG1hcHBpbmcoYWRkcmVzcz0+dWludDI1NikgaW52ZXN0bWVudHM7CiAgICB1aW50MjU2IExJTUlUX09OX0JFTkVGSUNJQVJZID0gMTAwMCAqIDEgZXRoZXI7CgogICAgZnVuY3Rpb24gaW52ZXN0bWVudHNPZihhZGRyZXNzIGJlbmVmaWNpYXJ5KSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgIHJldHVybiBpbnZlc3RtZW50c1tiZW5lZmljaWFyeV07CiAgICB9CiAgCiAgICBmdW5jdGlvbiBhdmFpbGFibGVPblN0YWdlKCkgcHVibGljIGNvbnN0YW50IHJldHVybnModWludDI1NikgewogICAgICAgIHJldHVybiB0b2tlbnNDYXBbY3VycmVudFN0YWdlXS5tdWwoMSBldGhlcikuc3ViKHNvbGRPblN0YWdlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjcmVhdGVUb2tlbkNvbnRyYWN0KCkgaW50ZXJuYWwgcmV0dXJucyAoQnVsbGVvbikgewogICAgICByZXR1cm4gbmV3IEJ1bGxlb24oKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjdXJyZW50U3RhZ2VUb2tlbnNDYXAoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgIHJldHVybiB0b2tlbnNDYXBbY3VycmVudFN0YWdlXTsKICAgIH0KICAgIGZ1bmN0aW9uIGN1cnJlbnRTdGFnZVRva2Vuc1JhdGUoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgIHJldHVybiB0b2tlbnNSYXRlW2N1cnJlbnRTdGFnZV07CiAgICB9CgogICAgZnVuY3Rpb24gQnVsbGVvbklDTygpIHBheWFibGUgb3duZWQoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIFdJVEhEUkFXX1dBTExFVCA9IG1zZy5zZW5kZXI7IAogICAgICAgIHJld2FyZFRva2VuID0gY3JlYXRlVG9rZW5Db250cmFjdCgpOwogICAgfQoKICAgIGZ1bmN0aW9uICgpIHBheWFibGUgewogICAgICAgIGJ1eVRva2Vucyhtc2cuc2VuZGVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBidXlUb2tlbnMoYWRkcmVzcyBiZW5lZmljaWFyeSkgcGF5YWJsZSB7CiAgICAgIGJvb2wgY2FuQnV5ID0gaW52ZXN0bWVudHNPZihiZW5lZmljaWFyeSkgPCBMSU1JVF9PTl9CRU5FRklDSUFSWTsKICAgICAgYm9vbCB2YWxpZFB1cmNoYXNlID0gYmVuZWZpY2lhcnkgIT0gMHgwICYmIG1zZy52YWx1ZSAhPSAwOwogICAgICB1aW50MjU2IGN1cnJlbnRUb2tlbnNBbW91bnQgPSBhdmFpbGFibGVUb2tlbnMoKTsKICAgICAgcmVxdWlyZShjYW5CdXkgJiYgdmFsaWRQdXJjaGFzZSAmJiBjdXJyZW50VG9rZW5zQW1vdW50ID4gMCk7CiAgICAgIHVpbnQyNTYgYm91Z2h0VG9rZW5zOwogICAgICB1aW50MjU2IHJlZnVuZEFtb3VudCA9IDA7CiAgICAgIAogICAgICB1aW50MjU2WzJdIG1lbW9yeSB0b2tlbnNBbmRSZWZ1bmQgPSBjYWxjTXVsdGlTdGFnZSgpOwogICAgICBib3VnaHRUb2tlbnMgPSB0b2tlbnNBbmRSZWZ1bmRbMF07CiAgICAgIHJlZnVuZEFtb3VudCA9IHRva2Vuc0FuZFJlZnVuZFsxXTsKCiAgICAgIHJlcXVpcmUoYm91Z2h0VG9rZW5zIDwgY3VycmVudFRva2Vuc0Ftb3VudCk7CgogICAgICB0b3RhbFNvbGQgPSB0b3RhbFNvbGQuYWRkKGJvdWdodFRva2Vucyk7CiAgICAgIGludmVzdG1lbnRzW2JlbmVmaWNpYXJ5XSA9IGludmVzdG1lbnRzW2JlbmVmaWNpYXJ5XS5hZGQoYm91Z2h0VG9rZW5zKTsKICAgICAgaWYoIHNvbGRPblN0YWdlID49IHRva2Vuc0NhcFtjdXJyZW50U3RhZ2VdLm11bCgxIGV0aGVyKSkgewogICAgICAgIHRvTmV4dFN0YWdlKCk7CiAgICAgIH0gCiAgICAgIAogICAgICByZXdhcmRUb2tlbi50cmFuc2ZlcihiZW5lZmljaWFyeSxib3VnaHRUb2tlbnMpOwogICAgICBpZiAocmVmdW5kQW1vdW50ID4gMCkgCiAgICAgICAgICByZWZ1bmRNb25leShyZWZ1bmRBbW91bnQpOwoKICAgICAgd2l0aGRyYXdGdW5kcyh0aGlzLmJhbGFuY2UpOwogICAgfQoKICAgIGZ1bmN0aW9uIGZvcmNlV2l0aGRyYXcoKSBvbmx5T3duZXIgewogICAgICB3aXRoZHJhd0Z1bmRzKHRoaXMuYmFsYW5jZSk7CiAgICB9CgogICAgZnVuY3Rpb24gY2FsY011bHRpU3RhZ2UoKSBpbnRlcm5hbCByZXR1cm5zKHVpbnQyNTZbMl0pIHsKICAgICAgdWludDI1NiBzdGFnZUJvdWdodFRva2VuczsKICAgICAgdWludDI1NiB1bmRpc3RyaWJ1dGVkQW1vdW50ID0gbXNnLnZhbHVlOyAKICAgICAgdWludDI1NiBfYm91Z2h0VG9rZW5zID0gMDsgCiAgICAgIHVpbnQyNTYgdW5kaXN0cmlidXRlZFRva2VucyA9IGF2YWlsYWJsZVRva2VucygpOyAKCiAgICAgIHdoaWxlKHVuZGlzdHJpYnV0ZWRBbW91bnQgPiAwICYmIHVuZGlzdHJpYnV0ZWRUb2tlbnMgPiAwKSB7CiAgICAgICAgYm9vbCBuZWVkTmV4dFN0YWdlID0gZmFsc2U7IAogICAgICAgIAogICAgICAgIHN0YWdlQm91Z2h0VG9rZW5zID0gZ2V0VG9rZW5zQW1vdW50KHVuZGlzdHJpYnV0ZWRBbW91bnQpOwogICAgICAgIAoKICAgICAgICBpZih0b3RhbEludmVzdG1lbnRzKF9ib3VnaHRUb2tlbnMuYWRkKHN0YWdlQm91Z2h0VG9rZW5zKSkgPiBMSU1JVF9PTl9CRU5FRklDSUFSWSl7CiAgICAgICAgICBzdGFnZUJvdWdodFRva2VucyA9IExJTUlUX09OX0JFTkVGSUNJQVJZLnN1YihfYm91Z2h0VG9rZW5zKTsKICAgICAgICAgIHVuZGlzdHJpYnV0ZWRUb2tlbnMgPSBzdGFnZUJvdWdodFRva2VuczsgCiAgICAgICAgfQoKICAgICAgICAKICAgICAgICBpZiAoc3RhZ2VCb3VnaHRUb2tlbnMgPiBhdmFpbGFibGVPblN0YWdlKCkpIHsKICAgICAgICAgIHN0YWdlQm91Z2h0VG9rZW5zID0gYXZhaWxhYmxlT25TdGFnZSgpOwogICAgICAgICAgbmVlZE5leHRTdGFnZSA9IHRydWU7IAogICAgICAgIH0KICAgICAgICAKICAgICAgICBfYm91Z2h0VG9rZW5zID0gX2JvdWdodFRva2Vucy5hZGQoc3RhZ2VCb3VnaHRUb2tlbnMpOwogICAgICAgIHVuZGlzdHJpYnV0ZWRUb2tlbnMgPSB1bmRpc3RyaWJ1dGVkVG9rZW5zLnN1YihzdGFnZUJvdWdodFRva2Vucyk7IAogICAgICAgIHVuZGlzdHJpYnV0ZWRBbW91bnQgPSB1bmRpc3RyaWJ1dGVkQW1vdW50LnN1YihnZXRUb2tlbnNDb3N0KHN0YWdlQm91Z2h0VG9rZW5zKSk7IAogICAgICAgIHNvbGRPblN0YWdlID0gc29sZE9uU3RhZ2UuYWRkKHN0YWdlQm91Z2h0VG9rZW5zKTsKICAgICAgICBpZiAobmVlZE5leHRTdGFnZSkgCiAgICAgICAgICB0b05leHRTdGFnZSgpOwogICAgICB9CiAgICAgIHJldHVybiBbX2JvdWdodFRva2Vucyx1bmRpc3RyaWJ1dGVkQW1vdW50XTsKICAgIH0KCgogICAgZnVuY3Rpb24gc2V0V2l0aGRyYXdXYWxsZXQoYWRkcmVzcyBhZGRyZXNzVG9XaXRoZHJhdykgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShhZGRyZXNzVG9XaXRoZHJhdyAhPSAweDApOwogICAgICAgIFdJVEhEUkFXX1dBTExFVCA9IGFkZHJlc3NUb1dpdGhkcmF3OwogICAgfQogICAgZnVuY3Rpb24gdG90YWxJbnZlc3RtZW50cyh1aW50IGFkZGl0aW9uYWxBbW91bnQpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgcmV0dXJuIGludmVzdG1lbnRzT2YobXNnLnNlbmRlcikuYWRkKGFkZGl0aW9uYWxBbW91bnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlZnVuZE1vbmV5KHVpbnQyNTYgcmVmdW5kQW1vdW50KSBpbnRlcm5hbCB7CiAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIocmVmdW5kQW1vdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiBidXJuVG9rZW5zKHVpbnQyNTYgYW1vdW50KSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgcmV3YXJkVG9rZW4uYnVybihhbW91bnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFRva2Vuc0Nvc3QodWludDI1NiBfdG9rZW5zQW1vdW50KSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgcmV0dXJuIF90b2tlbnNBbW91bnQuZGl2KHRva2Vuc1JhdGVbY3VycmVudFN0YWdlXSk7CiAgICB9IAoKICAgIGZ1bmN0aW9uIGdldFRva2Vuc0Ftb3VudCh1aW50MjU2IF9hbW91bnRJbldlaSkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgIHJldHVybiBfYW1vdW50SW5XZWkubXVsKHRva2Vuc1JhdGVbY3VycmVudFN0YWdlXSk7CiAgICB9CgogICAgZnVuY3Rpb24gdG9OZXh0U3RhZ2UoKSBpbnRlcm5hbCB7CiAgICAgICAgCiAgICAgICAgaWYoY3VycmVudFN0YWdlIDwgdG9rZW5zUmF0ZS5sZW5ndGggJiYgY3VycmVudFN0YWdlIDwgdG9rZW5zQ2FwLmxlbmd0aCl7CiAgICAgICAgICBjdXJyZW50U3RhZ2UrKzsKICAgICAgICAgIHNvbGRPblN0YWdlID0gMDsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gYXZhaWxhYmxlVG9rZW5zKCkgcHVibGljIGNvbnN0YW50IHJldHVybnModWludDI1NikgewogICAgICAgIHJldHVybiByZXdhcmRUb2tlbi5iYWxhbmNlT2YoYWRkcmVzcyh0aGlzKSk7CiAgICB9CgogICAgZnVuY3Rpb24gd2l0aGRyYXdGdW5kcyh1aW50MjU2IGFtb3VudCkgaW50ZXJuYWwgewogICAgICAgIFdJVEhEUkFXX1dBTExFVC50cmFuc2ZlcihhbW91bnQpOwogICAgfQp9CgoKY29udHJhY3QgQnVsbGVvbiBpcyBTdGFuZGFyZFRva2VuIHsKICAgICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgYnVybmVyLCB1aW50MjU2IHZhbHVlKTsKCiAgICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJCdWxsZW9uIjsKICAgICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiQkxOIjsKICAgICAgdWludDggcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CiAgICAgIHN0cmluZyBwdWJsaWMgdmVyc2lvbiA9ICIxLjAiOwogICAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseSAgPSA5NTAwMDAwICogMSBldGhlcjsKICAgICAgbWFwcGluZyhhZGRyZXNzPT51aW50MjU2KSBwcmVtaW5lT2Y7CiAgICAgIGFkZHJlc3NbXSBwcml2YXRlIHByZW1pbmVXYWxsZXRzID0gWwogICAgICAgICAgMHhkQUIyNmEwNDU5NENhNEVEQjI3NjY3MkJFMEEwRjY5N2U1YTI0YUZiLCAKICAgICAgICAgIDB4QTc1RTYyODc0Q2IyNUQ1M2U1NjNBMjY5REY0YjUyZDVBMjhlN0E4ZSwgCiAgICAgICAgICAweDZGZjQ4MGEzMEQwMzdCNzc0YzZhYmE5MzU0NjhmYTU1NjBkNzY5YTQgIAogICAgICBdOwoKICAgICAgZnVuY3Rpb24gQnVsbGVvbigpIHB1YmxpYyB7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSB0b3RhbFN1cHBseTsKICAgICAgICBwcmVtaW5lT2ZbcHJlbWluZVdhbGxldHNbMF1dID0gOTUwMDAgKiAxIGV0aGVyOyAKICAgICAgICBwcmVtaW5lT2ZbcHJlbWluZVdhbGxldHNbMV1dID0gOTUwMDAgKiAxIGV0aGVyOwogICAgICAgIHByZW1pbmVPZltwcmVtaW5lV2FsbGV0c1syXV0gPSAxOTAwMDAgKiAxIGV0aGVyOwogICAgICAgIAogICAgICAgIGZvcih1aW50IGkgPSAwOyBpPHByZW1pbmVXYWxsZXRzLmxlbmd0aDtpKyspIHsKICAgICAgICAgIHRyYW5zZmVyKHByZW1pbmVXYWxsZXRzW2ldLHByZW1pbmVPZltwcmVtaW5lV2FsbGV0c1tpXV0pOwogICAgICAgIH0KICAgICAgfQoKICAgIC8qKgogICAgICogQGRldiBCdXJucyBhIHNwZWNpZmljIGFtb3VudCBvZiB0b2tlbnMuCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgYnVybmVkLgogICAgICovCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CgogICAgICAgIGFkZHJlc3MgYnVybmVyID0gbXNnLnNlbmRlcjsKICAgICAgICBiYWxhbmNlc1tidXJuZXJdID0gYmFsYW5jZXNbYnVybmVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YihfdmFsdWUpOwogICAgICAgIEJ1cm4oYnVybmVyLCBfdmFsdWUpOwogICAgfQogIH0='.
	

]
