Class {
	#name : #SRTbd5cfa0e509b2981753da7a53ee18f5876f8631e,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTbd5cfa0e509b2981753da7a53ee18f5876f8631e >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgppbnRlcmZhY2UgdG9rZW5SZWNpcGllbnQgeyBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWM7IH0KCmNvbnRyYWN0IEV0aGVyZXVtVWx0aW1hdGUgewogICAgc3RyaW5nIHB1YmxpYyBuYW1lOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIHVpbnQyNTYgcHVibGljIGZ1bmRzOwogICAgYWRkcmVzcyBwdWJsaWMgZGlyZWN0b3I7CiAgICBib29sIHB1YmxpYyBzYWxlQ2xvc2VkOwogICAgYm9vbCBwdWJsaWMgZGlyZWN0b3JMb2NrOwogICAgdWludDI1NiBwdWJsaWMgY2xhaW1BbW91bnQ7CiAgICB1aW50MjU2IHB1YmxpYyBwYXlBbW91bnQ7CiAgICB1aW50MjU2IHB1YmxpYyBmZWVBbW91bnQ7CiAgICB1aW50MjU2IHB1YmxpYyBlcG9jaDsKICAgIHVpbnQyNTYgcHVibGljIHJldGVudGlvbk1heDsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgcHVibGljIGFsbG93YW5jZTsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGJ1cmllZDsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGNsYWltZWQ7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICAKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwoKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIF9mcm9tLCB1aW50MjU2IF92YWx1ZSk7CiAgICAKICAgIGV2ZW50IEJ1cnkoYWRkcmVzcyBpbmRleGVkIF90YXJnZXQsIHVpbnQyNTYgX3ZhbHVlKTsKICAgIAogICAgZXZlbnQgQ2xhaW0oYWRkcmVzcyBpbmRleGVkIF90YXJnZXQsIGFkZHJlc3MgaW5kZXhlZCBfcGF5b3V0LCBhZGRyZXNzIGluZGV4ZWQgX2ZlZSk7CgogICAgZnVuY3Rpb24gRXRoZXJldW1VbHRpbWF0ZSgpIHB1YmxpYyB7CiAgICAgICAgZGlyZWN0b3IgPSBtc2cuc2VuZGVyOwogICAgICAgIG5hbWUgPSAiRXRoZXJldW0gVWx0aW1hdGUiOwogICAgICAgIHN5bWJvbCA9ICJFVEhVVCI7CiAgICAgICAgZGVjaW1hbHMgPSAxODsKICAgICAgICBzYWxlQ2xvc2VkID0gZmFsc2U7CiAgICAgICAgZGlyZWN0b3JMb2NrID0gZmFsc2U7CiAgICAgICAgZnVuZHMgPSAwOwogICAgICAgIHRvdGFsU3VwcGx5ID0gMDsKICAgICAgICAKICAgICAgICB0b3RhbFN1cHBseSArPSAxMDAwMDAwICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CiAgICAgICAgCiAgICAgICAgLy8gQXNzaWduIHJlc2VydmVkIEVUSFVUIHN1cHBseSB0byB0aGUgZGlyZWN0b3IKICAgICAgICBiYWxhbmNlc1tkaXJlY3Rvcl0gPSB0b3RhbFN1cHBseTsKICAgICAgICAKICAgICAgICAvLyBEZWZpbmUgZGVmYXVsdCB2YWx1ZXMgZm9yIEV0aGVyZXVtIFVsdGltYXRlIGZ1bmN0aW9ucwogICAgICAgIGNsYWltQW1vdW50ID0gNSAqIDEwICoqICh1aW50MjU2KGRlY2ltYWxzKSAtIDEpOwogICAgICAgIHBheUFtb3VudCA9IDQgKiAxMCAqKiAodWludDI1NihkZWNpbWFscykgLSAxKTsKICAgICAgICBmZWVBbW91bnQgPSAxICogMTAgKiogKHVpbnQyNTYoZGVjaW1hbHMpIC0gMSk7CiAgICAgICAgCiAgICAgICAgLy8gU2Vjb25kcyBpbiBhIHllYXIKICAgICAgICBlcG9jaCA9IDMxNTM2MDAwOwogICAgICAgIAogICAgICAgIHJldGVudGlvbk1heCA9IDQwICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQogICAgCiAgICBtb2RpZmllciBvbmx5RGlyZWN0b3IgewogICAgICAgIHJlcXVpcmUoIWRpcmVjdG9yTG9jayk7CiAgICAgICAgCiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGRpcmVjdG9yKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICBtb2RpZmllciBvbmx5RGlyZWN0b3JGb3JjZSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGRpcmVjdG9yKTsKICAgICAgICBfOwogICAgfQogICAgCgogICAgZnVuY3Rpb24gdHJhbnNmZXJEaXJlY3RvcihhZGRyZXNzIG5ld0RpcmVjdG9yKSBwdWJsaWMgb25seURpcmVjdG9yRm9yY2UgewogICAgICAgIGRpcmVjdG9yID0gbmV3RGlyZWN0b3I7CiAgICB9CiAgICAKCiAgICBmdW5jdGlvbiB3aXRoZHJhd0Z1bmRzKCkgcHVibGljIG9ubHlEaXJlY3RvckZvcmNlIHsKICAgICAgICBkaXJlY3Rvci50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgfQoKCQogICAgZnVuY3Rpb24gc2VsZkxvY2soKSBwdWJsaWMgcGF5YWJsZSBvbmx5RGlyZWN0b3IgewogICAgICAgIHJlcXVpcmUoc2FsZUNsb3NlZCk7CiAgICAgICAgCiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPT0gMTAgZXRoZXIpOwogICAgICAgIAogICAgICAgIGRpcmVjdG9yTG9jayA9IHRydWU7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGFtZW5kQ2xhaW0odWludDggY2xhaW1BbW91bnRTZXQsIHVpbnQ4IHBheUFtb3VudFNldCwgdWludDggZmVlQW1vdW50U2V0LCB1aW50OCBhY2N1cmFjeSkgcHVibGljIG9ubHlEaXJlY3RvciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKGNsYWltQW1vdW50U2V0ID09IChwYXlBbW91bnRTZXQgKyBmZWVBbW91bnRTZXQpKTsKICAgICAgICAKICAgICAgICBjbGFpbUFtb3VudCA9IGNsYWltQW1vdW50U2V0ICogMTAgKiogKHVpbnQyNTYoZGVjaW1hbHMpIC0gYWNjdXJhY3kpOwogICAgICAgIHBheUFtb3VudCA9IHBheUFtb3VudFNldCAqIDEwICoqICh1aW50MjU2KGRlY2ltYWxzKSAtIGFjY3VyYWN5KTsKICAgICAgICBmZWVBbW91bnQgPSBmZWVBbW91bnRTZXQgKiAxMCAqKiAodWludDI1NihkZWNpbWFscykgLSBhY2N1cmFjeSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKCiAgICBmdW5jdGlvbiBhbWVuZEVwb2NoKHVpbnQyNTYgZXBvY2hTZXQpIHB1YmxpYyBvbmx5RGlyZWN0b3IgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy8gU2V0IHRoZSBlcG9jaAogICAgICAgIGVwb2NoID0gZXBvY2hTZXQ7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKCiAgICBmdW5jdGlvbiBhbWVuZFJldGVudGlvbih1aW50OCByZXRlbnRpb25TZXQsIHVpbnQ4IGFjY3VyYWN5KSBwdWJsaWMgb25seURpcmVjdG9yIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIFNldCByZXRlbnRpb25NYXgKICAgICAgICByZXRlbnRpb25NYXggPSByZXRlbnRpb25TZXQgKiAxMCAqKiAodWludDI1NihkZWNpbWFscykgLSBhY2N1cmFjeSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKCiAgICBmdW5jdGlvbiBjbG9zZVNhbGUoKSBwdWJsaWMgb25seURpcmVjdG9yIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIFRoZSBzYWxlIG11c3QgYmUgY3VycmVudGx5IG9wZW4KICAgICAgICByZXF1aXJlKCFzYWxlQ2xvc2VkKTsKICAgICAgICAKICAgICAgICAvLyBMb2NrIHRoZSBjcm93ZHNhbGUKICAgICAgICBzYWxlQ2xvc2VkID0gdHJ1ZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgZnVuY3Rpb24gb3BlblNhbGUoKSBwdWJsaWMgb25seURpcmVjdG9yIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIFRoZSBzYWxlIG11c3QgYmUgY3VycmVudGx5IGNsb3NlZAogICAgICAgIHJlcXVpcmUoc2FsZUNsb3NlZCk7CiAgICAgICAgCiAgICAgICAgLy8gVW5sb2NrIHRoZSBjcm93ZHNhbGUKICAgICAgICBzYWxlQ2xvc2VkID0gZmFsc2U7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKCiAgICBmdW5jdGlvbiBidXJ5KCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIFRoZSBhZGRyZXNzIG11c3QgYmUgcHJldmlvdXNseSB1bmJ1cmllZAogICAgICAgIHJlcXVpcmUoIWJ1cmllZFttc2cuc2VuZGVyXSk7CiAgICAgICAgCiAgICAgICAgLy8gQW4gYWRkcmVzcyBtdXN0IGhhdmUgYXQgbGVhc3QgY2xhaW1BbW91bnQgdG8gYmUgYnVyaWVkCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBjbGFpbUFtb3VudCk7CiAgICAgICAgCiAgICAgICAgLy8gUHJldmVudCBhZGRyZXNzZXMgd2l0aCBsYXJnZSBiYWxhbmNlcyBmcm9tIGdldHRpbmcgYnVyaWVkCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA8PSByZXRlbnRpb25NYXgpOwogICAgICAgIAogICAgICAgIC8vIFNldCBidXJpZWQgc3RhdGUgdG8gdHJ1ZQogICAgICAgIGJ1cmllZFttc2cuc2VuZGVyXSA9IHRydWU7CiAgICAgICAgCiAgICAgICAgLy8gU2V0IHRoZSBpbml0aWFsIGNsYWltIGNsb2NrIHRvIDEKICAgICAgICBjbGFpbWVkW21zZy5zZW5kZXJdID0gMTsKICAgICAgICAKICAgICAgICAvLyBFeGVjdXRlIGFuIGV2ZW50IHJlZmxlY3RpbmcgdGhlIGNoYW5nZQogICAgICAgIEJ1cnkobXNnLnNlbmRlciwgYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCgogICAgZnVuY3Rpb24gY2xhaW0oYWRkcmVzcyBfcGF5b3V0LCBhZGRyZXNzIF9mZWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBUaGUgY2xhaW1lZCBhZGRyZXNzIG11c3QgaGF2ZSBhbHJlYWR5IGJlZW4gYnVyaWVkCiAgICAgICAgcmVxdWlyZShidXJpZWRbbXNnLnNlbmRlcl0pOwogICAgICAgIAogICAgICAgIC8vIFRoZSBwYXlvdXQgYW5kIGZlZSBhZGRyZXNzZXMgbXVzdCBiZSBkaWZmZXJlbnQKICAgICAgICByZXF1aXJlKF9wYXlvdXQgIT0gX2ZlZSk7CiAgICAgICAgCiAgICAgICAgLy8gVGhlIGNsYWltZWQgYWRkcmVzcyBjYW5ub3QgcGF5IGl0c2VsZgogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSBfcGF5b3V0KTsKICAgICAgICAKICAgICAgICAvLyBUaGUgY2xhaW1lZCBhZGRyZXNzIGNhbm5vdCBwYXkgaXRzZWxmCiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyICE9IF9mZWUpOwogICAgICAgIAogICAgICAgIC8vIEl0IG11c3QgYmUgZWl0aGVyIHRoZSBmaXJzdCB0aW1lIHRoaXMgYWRkcmVzcyBpcyBiZWluZyBjbGFpbWVkIG9yIGF0bGVhc3QgZXBvY2ggaW4gdGltZSBoYXMgcGFzc2VkCiAgICAgICAgcmVxdWlyZShjbGFpbWVkW21zZy5zZW5kZXJdID09IDEgfHwgKGJsb2NrLnRpbWVzdGFtcCAtIGNsYWltZWRbbXNnLnNlbmRlcl0pID49IGVwb2NoKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBpZiB0aGUgYnVyaWVkIGFkZHJlc3MgaGFzIGVub3VnaAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gY2xhaW1BbW91bnQpOwogICAgICAgIAogICAgICAgIC8vIFJlc2V0IHRoZSBjbGFpbSBjbG9jayB0byB0aGUgY3VycmVudCBibG9jayB0aW1lCiAgICAgICAgY2xhaW1lZFttc2cuc2VuZGVyXSA9IGJsb2NrLnRpbWVzdGFtcDsKICAgICAgICAKICAgICAgICAvLyBTYXZlIHRoaXMgZm9yIGFuIGFzc2VydGlvbiBpbiB0aGUgZnV0dXJlCiAgICAgICAgdWludDI1NiBwcmV2aW91c0JhbGFuY2VzID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0gKyBiYWxhbmNlc1tfcGF5b3V0XSArIGJhbGFuY2VzW19mZWVdOwogICAgICAgIAogICAgICAgIC8vIFJlbW92ZSBjbGFpbUFtb3VudCBmcm9tIHRoZSBidXJpZWQgYWRkcmVzcwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IGNsYWltQW1vdW50OwogICAgICAgIAogICAgICAgIC8vIFBheSB0aGUgd2Vic2l0ZSBvd25lciB0aGF0IGludm9rZWQgdGhlIHdlYiBub2RlIHRoYXQgZm91bmQgdGhlIEVUSFQgc2VlZCBrZXkKICAgICAgICBiYWxhbmNlc1tfcGF5b3V0XSArPSBwYXlBbW91bnQ7CiAgICAgICAgCiAgICAgICAgLy8gUGF5IHRoZSBicm9rZXIgbm9kZSB0aGF0IHVubG9ja2VkIHRoZSBFVEhVVAogICAgICAgIGJhbGFuY2VzW19mZWVdICs9IGZlZUFtb3VudDsKICAgICAgICAKICAgICAgICAvLyBFeGVjdXRlIGV2ZW50cyB0byByZWZsZWN0IHRoZSBjaGFuZ2VzCiAgICAgICAgQ2xhaW0obXNnLnNlbmRlciwgX3BheW91dCwgX2ZlZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3BheW91dCwgcGF5QW1vdW50KTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfZmVlLCBmZWVBbW91bnQpOwogICAgICAgIAogICAgICAgIC8vIEZhaWxzYWZlIGxvZ2ljIHRoYXQgc2hvdWxkIG5ldmVyIGJlIGZhbHNlCiAgICAgICAgYXNzZXJ0KGJhbGFuY2VzW21zZy5zZW5kZXJdICsgYmFsYW5jZXNbX3BheW91dF0gKyBiYWxhbmNlc1tfZmVlXSA9PSBwcmV2aW91c0JhbGFuY2VzKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBDcm93ZHNhbGUgZnVuY3Rpb24KICAgICAqLwogICAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewogICAgICAgIHJlcXVpcmUoIXNhbGVDbG9zZWQpOwogICAgICAgIAogICAgICAgIC8vIE1pbmltdW0gYW1vdW50IGlzIDEgZmlubmV5CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPj0gMSBmaW5uZXkpOwogICAgICAgIAogICAgICAgIC8vIFByaWNlIGlzIDEgRVRIID0gMTAwMDAgRVRIVAogICAgICAgIHVpbnQyNTYgYW1vdW50ID0gbXNnLnZhbHVlICogMzAwMDA7CiAgICAgICAgCiAgICAgICAgLy8gU3VwcGx5IGNhcCBtYXkgaW5jcmVhc2UKICAgICAgICByZXF1aXJlKHRvdGFsU3VwcGx5ICsgYW1vdW50IDw9ICgxMDAwMDAwMCAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKSk7CiAgICAgICAgCiAgICAgICAgLy8gSW5jcmVhc2VzIHRoZSB0b3RhbCBzdXBwbHkKICAgICAgICB0b3RhbFN1cHBseSArPSBhbW91bnQ7CiAgICAgICAgCiAgICAgICAgLy8gQWRkcyB0aGUgYW1vdW50IHRvIHRoZSBiYWxhbmNlCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gYW1vdW50OwogICAgICAgIAogICAgICAgIC8vIFRyYWNrIEVUSCBhbW91bnQgcmFpc2VkCiAgICAgICAgZnVuZHMgKz0gbXNnLnZhbHVlOwogICAgICAgIAogICAgICAgIC8vIEV4ZWN1dGUgYW4gZXZlbnQgcmVmbGVjdGluZyB0aGUgY2hhbmdlCiAgICAgICAgVHJhbnNmZXIodGhpcywgbXNnLnNlbmRlciwgYW1vdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiBfdHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBpbnRlcm5hbCB7CiAgICAgICAgLy8gU2VuZGluZyBhZGRyZXNzZXMgY2Fubm90IGJlIGJ1cmllZAogICAgICAgIHJlcXVpcmUoIWJ1cmllZFtfZnJvbV0pOwogICAgICAgIAogICAgICAgIC8vIElmIHRoZSByZWNlaXZpbmcgYWRkcmVzcyBpcyBidXJpZWQsIGl0IGNhbm5vdCBleGNlZWQgcmV0ZW50aW9uTWF4CiAgICAgICAgaWYgKGJ1cmllZFtfdG9dKSB7CiAgICAgICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA8PSByZXRlbnRpb25NYXgpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXF1aXJlKF90byAhPSAweDApOwogICAgICAgIAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSk7CiAgICAgICAgCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSk7CiAgICAgICAgCiAgICAgICAgdWludDI1NiBwcmV2aW91c0JhbGFuY2VzID0gYmFsYW5jZXNbX2Zyb21dICsgYmFsYW5jZXNbX3RvXTsKICAgICAgICAKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgIAogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0KGJhbGFuY2VzW19mcm9tXSArIGJhbGFuY2VzW190b10gPT0gcHJldmlvdXNCYWxhbmNlcyk7CiAgICB9CgoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHsKICAgICAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgfQoKCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy8gQ2hlY2sgYWxsb3dhbmNlCiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSk7CiAgICAgICAgYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgX3RyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBCdXJpZWQgYWRkcmVzc2VzIGNhbm5vdCBiZSBhcHByb3ZlZAogICAgICAgIHJlcXVpcmUoIWJ1cmllZFttc2cuc2VuZGVyXSk7CiAgICAgICAgCiAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9leHRyYURhdGEpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICB0b2tlblJlY2lwaWVudCBzcGVuZGVyID0gdG9rZW5SZWNpcGllbnQoX3NwZW5kZXIpOwogICAgICAgIGlmIChhcHByb3ZlKF9zcGVuZGVyLCBfdmFsdWUpKSB7CiAgICAgICAgICAgIHNwZW5kZXIucmVjZWl2ZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0KCgogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIEJ1cmllZCBhZGRyZXNzZXMgY2Fubm90IGJlIGJ1cm50CiAgICAgICAgcmVxdWlyZSghYnVyaWVkW21zZy5zZW5kZXJdKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSk7CiAgICAgICAgCiAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIAogICAgICAgIC8vIFVwZGF0ZXMgdG90YWxTdXBwbHkKICAgICAgICB0b3RhbFN1cHBseSAtPSBfdmFsdWU7CiAgICAgICAgQnVybihtc2cuc2VuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICBmdW5jdGlvbiBidXJuRnJvbShhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIEJ1cmllZCBhZGRyZXNzZXMgY2Fubm90IGJlIGJ1cm50CiAgICAgICAgcmVxdWlyZSghYnVyaWVkW19mcm9tXSk7CiAgICAgICAgCiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRhcmdldGVkIGJhbGFuY2UgaXMgZW5vdWdoCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBhbGxvd2FuY2UKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdKTsKICAgICAgICAKICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSB0YXJnZXRlZCBiYWxhbmNlCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICAKICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIncyBhbGxvd2FuY2UKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAKICAgICAgICAvLyBVcGRhdGUgdG90YWxTdXBwbHkKICAgICAgICB0b3RhbFN1cHBseSAtPSBfdmFsdWU7CiAgICAgICAgQnVybihfZnJvbSwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQ=='.
	

]
