Class {
	#name : #SRTFBb8B91fFe0EE6B8f626F03E1378f5569432d406,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTFBb8B91fFe0EE6B8f626F03E1378f5569432d406 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuODsKCi8vc29sYyAtLWJpbiAtLWFiaSAtLW9wdGltaXplICAtLW9wdGltaXplLXJ1bnMgMjAwMDAgLW8gLiBUZXN0cG9vbC5zb2wgCgoKLy9pbXBvcnQgIi4vU0hBM181MTIuc29sIjsKCmNvbnRyYWN0IFNIQTNfNTEyIHsKICAgIGZ1bmN0aW9uIFNIQTNfNTEyKCkge30KICAgIAogICAgZnVuY3Rpb24ga2VjY2FrX2YodWludFsyNV0gQSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyh1aW50WzI1XSkgewogICAgICAgIHVpbnRbNV0gbWVtb3J5IEM7CiAgICAgICAgdWludFs1XSBtZW1vcnkgRDsKICAgICAgICB1aW50IHg7CiAgICAgICAgdWludCB5OwogICAgICAgIC8vdWludCBEXzA7IHVpbnQgRF8xOyB1aW50IERfMjsgdWludCBEXzM7IHVpbnQgRF80OwogICAgICAgIHVpbnRbMjVdIG1lbW9yeSBCOwogICAgICAgIAogICAgICAgIHVpbnRbMjRdIG1lbW9yeSBSQz0gWwogICAgICAgICAgICAgICAgICAgdWludCgweDAwMDAwMDAwMDAwMDAwMDEpLAogICAgICAgICAgICAgICAgICAgMHgwMDAwMDAwMDAwMDA4MDgyLAogICAgICAgICAgICAgICAgICAgMHg4MDAwMDAwMDAwMDA4MDhBLAogICAgICAgICAgICAgICAgICAgMHg4MDAwMDAwMDgwMDA4MDAwLAogICAgICAgICAgICAgICAgICAgMHgwMDAwMDAwMDAwMDA4MDhCLAogICAgICAgICAgICAgICAgICAgMHgwMDAwMDAwMDgwMDAwMDAxLAogICAgICAgICAgICAgICAgICAgMHg4MDAwMDAwMDgwMDA4MDgxLAogICAgICAgICAgICAgICAgICAgMHg4MDAwMDAwMDAwMDA4MDA5LAogICAgICAgICAgICAgICAgICAgMHgwMDAwMDAwMDAwMDAwMDhBLAogICAgICAgICAgICAgICAgICAgMHgwMDAwMDAwMDAwMDAwMDg4LAogICAgICAgICAgICAgICAgICAgMHgwMDAwMDAwMDgwMDA4MDA5LAogICAgICAgICAgICAgICAgICAgMHgwMDAwMDAwMDgwMDAwMDBBLAogICAgICAgICAgICAgICAgICAgMHgwMDAwMDAwMDgwMDA4MDhCLAogICAgICAgICAgICAgICAgICAgMHg4MDAwMDAwMDAwMDAwMDhCLAogICAgICAgICAgICAgICAgICAgMHg4MDAwMDAwMDAwMDA4MDg5LAogICAgICAgICAgICAgICAgICAgMHg4MDAwMDAwMDAwMDA4MDAzLAogICAgICAgICAgICAgICAgICAgMHg4MDAwMDAwMDAwMDA4MDAyLAogICAgICAgICAgICAgICAgICAgMHg4MDAwMDAwMDAwMDAwMDgwLAogICAgICAgICAgICAgICAgICAgMHgwMDAwMDAwMDAwMDA4MDBBLAogICAgICAgICAgICAgICAgICAgMHg4MDAwMDAwMDgwMDAwMDBBLAogICAgICAgICAgICAgICAgICAgMHg4MDAwMDAwMDgwMDA4MDgxLAogICAgICAgICAgICAgICAgICAgMHg4MDAwMDAwMDAwMDA4MDgwLAogICAgICAgICAgICAgICAgICAgMHgwMDAwMDAwMDgwMDAwMDAxLAogICAgICAgICAgICAgICAgICAgMHg4MDAwMDAwMDgwMDA4MDA4IF07CiAgICAgICAgCiAgICAgICAgZm9yKCB1aW50IGkgPSAwIDsgaSA8IDI0IDsgaSsrICkgewogICAgICAgICAgICAvKgogICAgICAgICAgICBmb3IoIHggPSAwIDsgeCA8IDUgOyB4KysgKSB7CiAgICAgICAgICAgICAgICBDW3hdID0gQVs1KnhdXkFbNSp4KzFdXkFbNSp4KzJdXkFbNSp4KzNdXkFbNSp4KzRdOyAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfSovCiAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIENbMF09QVswXV5BWzFdXkFbMl1eQVszXV5BWzRdOwogICAgICAgICAgICBDWzFdPUFbNV1eQVs2XV5BWzddXkFbOF1eQVs5XTsKICAgICAgICAgICAgQ1syXT1BWzEwXV5BWzExXV5BWzEyXV5BWzEzXV5BWzE0XTsKICAgICAgICAgICAgQ1szXT1BWzE1XV5BWzE2XV5BWzE3XV5BWzE4XV5BWzE5XTsKICAgICAgICAgICAgQ1s0XT1BWzIwXV5BWzIxXV5BWzIyXV5BWzIzXV5BWzI0XTsKCiAgICAgICAgICAgIC8qCiAgICAgICAgICAgIGZvciggeCA9IDAgOyB4IDwgNSA7IHgrKyApIHsKICAgICAgICAgICAgICAgIERbeF0gPSBDWyh4KzQpJTVdXigoQ1soeCsxKSU1XSAqIDIpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChDWyh4KzEpJTVdLygyKio2MykpKTsKICAgICAgICAgICAgfSovCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICAgICAgRFswXT1DWzRdIF4gKChDWzFdICogMikmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKENbMV0gLyAoMiAqKiA2MykpKTsKICAgICAgICAgICAgRFsxXT1DWzBdIF4gKChDWzJdICogMikmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKENbMl0gLyAoMiAqKiA2MykpKTsKICAgICAgICAgICAgRFsyXT1DWzFdIF4gKChDWzNdICogMikmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKENbM10gLyAoMiAqKiA2MykpKTsKICAgICAgICAgICAgRFszXT1DWzJdIF4gKChDWzRdICogMikmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKENbNF0gLyAoMiAqKiA2MykpKTsKICAgICAgICAgICAgRFs0XT1DWzNdIF4gKChDWzBdICogMikmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKENbMF0gLyAoMiAqKiA2MykpKTsKCiAgICAgICAgICAgIC8qCiAgICAgICAgICAgIGZvciggeCA9IDAgOyB4IDwgNSA7IHgrKyApIHsKICAgICAgICAgICAgICAgIGZvciggeSA9IDAgOyB5IDwgNSA7IHkrKyApIHsKICAgICAgICAgICAgICAgICAgICBBWzUqeCt5XSA9IEFbNSp4K3ldIF4gRFt4XTsKICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAKICAgICAgICAgICAgfSovCiAgICAgICAgICAgIAoKICAgICAgICAgICAgCiAgICAgICAgICAgIEFbMF09QVswXSBeIERbMF07CiAgICAgICAgICAgIEFbMV09QVsxXSBeIERbMF07CiAgICAgICAgICAgIEFbMl09QVsyXSBeIERbMF07CiAgICAgICAgICAgIEFbM109QVszXSBeIERbMF07CiAgICAgICAgICAgIEFbNF09QVs0XSBeIERbMF07CiAgICAgICAgICAgIEFbNV09QVs1XSBeIERbMV07CiAgICAgICAgICAgIEFbNl09QVs2XSBeIERbMV07CiAgICAgICAgICAgIEFbN109QVs3XSBeIERbMV07CiAgICAgICAgICAgIEFbOF09QVs4XSBeIERbMV07CiAgICAgICAgICAgIEFbOV09QVs5XSBeIERbMV07CiAgICAgICAgICAgIEFbMTBdPUFbMTBdIF4gRFsyXTsKICAgICAgICAgICAgQVsxMV09QVsxMV0gXiBEWzJdOwogICAgICAgICAgICBBWzEyXT1BWzEyXSBeIERbMl07CiAgICAgICAgICAgIEFbMTNdPUFbMTNdIF4gRFsyXTsKICAgICAgICAgICAgQVsxNF09QVsxNF0gXiBEWzJdOwogICAgICAgICAgICBBWzE1XT1BWzE1XSBeIERbM107CiAgICAgICAgICAgIEFbMTZdPUFbMTZdIF4gRFszXTsKICAgICAgICAgICAgQVsxN109QVsxN10gXiBEWzNdOwogICAgICAgICAgICBBWzE4XT1BWzE4XSBeIERbM107CiAgICAgICAgICAgIEFbMTldPUFbMTldIF4gRFszXTsKICAgICAgICAgICAgQVsyMF09QVsyMF0gXiBEWzRdOwogICAgICAgICAgICBBWzIxXT1BWzIxXSBeIERbNF07CiAgICAgICAgICAgIEFbMjJdPUFbMjJdIF4gRFs0XTsKICAgICAgICAgICAgQVsyM109QVsyM10gXiBEWzRdOwogICAgICAgICAgICBBWzI0XT1BWzI0XSBeIERbNF07CgogICAgICAgICAgICAvKlJobyBhbmQgcGkgc3RlcHMqLyAgICAgICAgICAgIAogICAgICAgICAgICBCWzBdPUFbMF07CiAgICAgICAgICAgIEJbOF09KChBWzFdICogKDIgKiogMzYpKSYweGZmZmZmZmZmZmZmZmZmZmYgfCAoQVsxXSAvICgyICoqIDI4KSkpOwogICAgICAgICAgICBCWzExXT0oKEFbMl0gKiAoMiAqKiAzKSkmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKEFbMl0gLyAoMiAqKiA2MSkpKTsKICAgICAgICAgICAgQlsxOV09KChBWzNdICogKDIgKiogNDEpKSYweGZmZmZmZmZmZmZmZmZmZmYgfCAoQVszXSAvICgyICoqIDIzKSkpOwogICAgICAgICAgICBCWzIyXT0oKEFbNF0gKiAoMiAqKiAxOCkpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChBWzRdIC8gKDIgKiogNDYpKSk7CiAgICAgICAgICAgIEJbMl09KChBWzVdICogKDIgKiogMSkpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChBWzVdIC8gKDIgKiogNjMpKSk7CiAgICAgICAgICAgIEJbNV09KChBWzZdICogKDIgKiogNDQpKSYweGZmZmZmZmZmZmZmZmZmZmYgfCAoQVs2XSAvICgyICoqIDIwKSkpOwogICAgICAgICAgICBCWzEzXT0oKEFbN10gKiAoMiAqKiAxMCkpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChBWzddIC8gKDIgKiogNTQpKSk7CiAgICAgICAgICAgIEJbMTZdPSgoQVs4XSAqICgyICoqIDQ1KSkmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKEFbOF0gLyAoMiAqKiAxOSkpKTsKICAgICAgICAgICAgQlsyNF09KChBWzldICogKDIgKiogMikpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChBWzldIC8gKDIgKiogNjIpKSk7CiAgICAgICAgICAgIEJbNF09KChBWzEwXSAqICgyICoqIDYyKSkmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKEFbMTBdIC8gKDIgKiogMikpKTsKICAgICAgICAgICAgQls3XT0oKEFbMTFdICogKDIgKiogNikpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChBWzExXSAvICgyICoqIDU4KSkpOwogICAgICAgICAgICBCWzEwXT0oKEFbMTJdICogKDIgKiogNDMpKSYweGZmZmZmZmZmZmZmZmZmZmYgfCAoQVsxMl0gLyAoMiAqKiAyMSkpKTsKICAgICAgICAgICAgQlsxOF09KChBWzEzXSAqICgyICoqIDE1KSkmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKEFbMTNdIC8gKDIgKiogNDkpKSk7CiAgICAgICAgICAgIEJbMjFdPSgoQVsxNF0gKiAoMiAqKiA2MSkpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChBWzE0XSAvICgyICoqIDMpKSk7CiAgICAgICAgICAgIEJbMV09KChBWzE1XSAqICgyICoqIDI4KSkmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKEFbMTVdIC8gKDIgKiogMzYpKSk7CiAgICAgICAgICAgIEJbOV09KChBWzE2XSAqICgyICoqIDU1KSkmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKEFbMTZdIC8gKDIgKiogOSkpKTsKICAgICAgICAgICAgQlsxMl09KChBWzE3XSAqICgyICoqIDI1KSkmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKEFbMTddIC8gKDIgKiogMzkpKSk7CiAgICAgICAgICAgIEJbMTVdPSgoQVsxOF0gKiAoMiAqKiAyMSkpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChBWzE4XSAvICgyICoqIDQzKSkpOwogICAgICAgICAgICBCWzIzXT0oKEFbMTldICogKDIgKiogNTYpKSYweGZmZmZmZmZmZmZmZmZmZmYgfCAoQVsxOV0gLyAoMiAqKiA4KSkpOwogICAgICAgICAgICBCWzNdPSgoQVsyMF0gKiAoMiAqKiAyNykpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChBWzIwXSAvICgyICoqIDM3KSkpOwogICAgICAgICAgICBCWzZdPSgoQVsyMV0gKiAoMiAqKiAyMCkpJjB4ZmZmZmZmZmZmZmZmZmZmZiB8IChBWzIxXSAvICgyICoqIDQ0KSkpOwogICAgICAgICAgICBCWzE0XT0oKEFbMjJdICogKDIgKiogMzkpKSYweGZmZmZmZmZmZmZmZmZmZmYgfCAoQVsyMl0gLyAoMiAqKiAyNSkpKTsKICAgICAgICAgICAgQlsxN109KChBWzIzXSAqICgyICoqIDgpKSYweGZmZmZmZmZmZmZmZmZmZmYgfCAoQVsyM10gLyAoMiAqKiA1NikpKTsKICAgICAgICAgICAgQlsyMF09KChBWzI0XSAqICgyICoqIDE0KSkmMHhmZmZmZmZmZmZmZmZmZmZmIHwgKEFbMjRdIC8gKDIgKiogNTApKSk7CgogICAgICAgICAgICAvKlhpIHN0YXRlKi8KICAgICAgICAgICAgLyoKICAgICAgICAgICAgZm9yKCB4ID0gMCA7IHggPCA1IDsgeCsrICkgewogICAgICAgICAgICAgICAgZm9yKCB5ID0gMCA7IHkgPCA1IDsgeSsrICkgewogICAgICAgICAgICAgICAgICAgIEFbNSp4K3ldID0gQls1KngreV1eKCh+Qls1KigoeCsxKSU1KSt5XSkgJiBCWzUqKCh4KzIpJTUpK3ldKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSovCiAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICAgICAgQVswXT1CWzBdXigofkJbNV0pICYgQlsxMF0pOwogICAgICAgICAgICBBWzFdPUJbMV1eKCh+Qls2XSkgJiBCWzExXSk7CiAgICAgICAgICAgIEFbMl09QlsyXV4oKH5CWzddKSAmIEJbMTJdKTsKICAgICAgICAgICAgQVszXT1CWzNdXigofkJbOF0pICYgQlsxM10pOwogICAgICAgICAgICBBWzRdPUJbNF1eKCh+Qls5XSkgJiBCWzE0XSk7CiAgICAgICAgICAgIEFbNV09Qls1XV4oKH5CWzEwXSkgJiBCWzE1XSk7CiAgICAgICAgICAgIEFbNl09Qls2XV4oKH5CWzExXSkgJiBCWzE2XSk7CiAgICAgICAgICAgIEFbN109Qls3XV4oKH5CWzEyXSkgJiBCWzE3XSk7CiAgICAgICAgICAgIEFbOF09Qls4XV4oKH5CWzEzXSkgJiBCWzE4XSk7CiAgICAgICAgICAgIEFbOV09Qls5XV4oKH5CWzE0XSkgJiBCWzE5XSk7CiAgICAgICAgICAgIEFbMTBdPUJbMTBdXigofkJbMTVdKSAmIEJbMjBdKTsKICAgICAgICAgICAgQVsxMV09QlsxMV1eKCh+QlsxNl0pICYgQlsyMV0pOwogICAgICAgICAgICBBWzEyXT1CWzEyXV4oKH5CWzE3XSkgJiBCWzIyXSk7CiAgICAgICAgICAgIEFbMTNdPUJbMTNdXigofkJbMThdKSAmIEJbMjNdKTsKICAgICAgICAgICAgQVsxNF09QlsxNF1eKCh+QlsxOV0pICYgQlsyNF0pOwogICAgICAgICAgICBBWzE1XT1CWzE1XV4oKH5CWzIwXSkgJiBCWzBdKTsKICAgICAgICAgICAgQVsxNl09QlsxNl1eKCh+QlsyMV0pICYgQlsxXSk7CiAgICAgICAgICAgIEFbMTddPUJbMTddXigofkJbMjJdKSAmIEJbMl0pOwogICAgICAgICAgICBBWzE4XT1CWzE4XV4oKH5CWzIzXSkgJiBCWzNdKTsKICAgICAgICAgICAgQVsxOV09QlsxOV1eKCh+QlsyNF0pICYgQls0XSk7CiAgICAgICAgICAgIEFbMjBdPUJbMjBdXigofkJbMF0pICYgQls1XSk7CiAgICAgICAgICAgIEFbMjFdPUJbMjFdXigofkJbMV0pICYgQls2XSk7CiAgICAgICAgICAgIEFbMjJdPUJbMjJdXigofkJbMl0pICYgQls3XSk7CiAgICAgICAgICAgIEFbMjNdPUJbMjNdXigofkJbM10pICYgQls4XSk7CiAgICAgICAgICAgIEFbMjRdPUJbMjRdXigofkJbNF0pICYgQls5XSk7CgogICAgICAgICAgICAvKkxhc3Qgc3RlcCovCiAgICAgICAgICAgIEFbMF09QVswXV5SQ1tpXTsgICAgICAgICAgICAKICAgICAgICB9CgogICAgICAgIAogICAgICAgIHJldHVybiBBOwogICAgfQogCiAgICAKICAgIGZ1bmN0aW9uIHNwb25nZSh1aW50WzldIE0pIGNvbnN0YW50IGludGVybmFsIHJldHVybnModWludFsxNl0pIHsKICAgICAgICBpZiggKE0ubGVuZ3RoICogOCkgIT0gNzIgKSB0aHJvdzsKICAgICAgICBNWzVdID0gMHgwMTsKICAgICAgICBNWzhdID0gMHg4MDAwMDAwMDAwMDAwMDAwOwogICAgICAgIAogICAgICAgIHVpbnQgciA9IDcyOwogICAgICAgIHVpbnQgdyA9IDg7CiAgICAgICAgdWludCBzaXplID0gTS5sZW5ndGggKiA4OwogICAgICAgIAogICAgICAgIHVpbnRbMjVdIG1lbW9yeSBTOwogICAgICAgIHVpbnQgaTsgdWludCB5OyB1aW50IHg7CiAgICAgICAgLypBYnNvcmJpbmcgUGhhc2UqLwogICAgICAgIGZvciggaSA9IDAgOyBpIDwgc2l6ZS9yIDsgaSsrICkgewogICAgICAgICAgICBmb3IoIHkgPSAwIDsgeSA8IDUgOyB5KysgKSB7CiAgICAgICAgICAgICAgICBmb3IoIHggPSAwIDsgeCA8IDUgOyB4KysgKSB7CiAgICAgICAgICAgICAgICAgICAgaWYoICh4KzUqeSkgPCAoci93KSApIHsKICAgICAgICAgICAgICAgICAgICAgICAgU1s1KngreV0gPSBTWzUqeCt5XSBeIE1baSo5ICsgeCArIDUqeV07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIFMgPSBrZWNjYWtfZihTKTsKICAgICAgICB9CgogICAgICAgIC8qU3F1ZWV6aW5nIHBoYXNlKi8KICAgICAgICB1aW50WzE2XSBtZW1vcnkgcmVzdWx0OwogICAgICAgIHVpbnQgYiA9IDA7CiAgICAgICAgd2hpbGUoIGIgPCAxNiApIHsKICAgICAgICAgICAgZm9yKCB5ID0gMCA7IHkgPCA1IDsgeSsrICkgewogICAgICAgICAgICAgICAgZm9yKCB4ID0gMCA7IHggPCA1IDsgeCsrICkgewogICAgICAgICAgICAgICAgICAgIGlmKCAoeCs1KnkpPChyL3cpICYmIChiPDE2KSApIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2JdID0gU1s1KngreV0gJiAweEZGRkZGRkZGOyAKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2IrMV0gPSBTWzUqeCt5XSAvIDB4MTAwMDAwMDAwOwogICAgICAgICAgICAgICAgICAgICAgICBiKz0yOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAgCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgfQoKfQoKLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCmNvbnRyYWN0IEV0aGFzaCBpcyBTSEEzXzUxMiB7CiAgICAKICAgIG1hcHBpbmcoYWRkcmVzcz0+Ym9vbCkgcHVibGljIG93bmVyczsKICAgIAogICAgZnVuY3Rpb24gRXRoYXNoKGFkZHJlc3NbM10gX293bmVycykgewogICAgICAgIG93bmVyc1tfb3duZXJzWzBdXSA9IHRydWU7CiAgICAgICAgb3duZXJzW19vd25lcnNbMV1dID0gdHJ1ZTsKICAgICAgICBvd25lcnNbX293bmVyc1syXV0gPSB0cnVlOyAgICAgICAgICAgICAgICAKICAgIH0KICAgICAKICAgIGZ1bmN0aW9uIGZudiggdWludCB2MSwgdWludCB2MiApIGNvbnN0YW50IGludGVybmFsIHJldHVybnModWludCkgewogICAgICAgIHJldHVybiAoKHYxKjB4MDEwMDAxOTMpIF4gdjIpICYgMHhGRkZGRkZGRjsKICAgIH0KCgoKICAgIGZ1bmN0aW9uIGNvbXB1dGVDYWNoZVJvb3QoIHVpbnQgaW5kZXgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50IGluZGV4SW5FbGVtZW50c0FycmF5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludFtdIGVsZW1lbnRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludFtdIHdpdG5lc3MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50IGJyYW5jaFNpemUgKSBjb25zdGFudCBwcml2YXRlIHJldHVybnModWludCkgewogCiAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgdWludCBsZWFmID0gY29tcHV0ZUxlYWYoZWxlbWVudHMsIGluZGV4SW5FbGVtZW50c0FycmF5KSAmIDB4RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY7CgogICAgICAgIHVpbnQgbGVmdDsKICAgICAgICB1aW50IHJpZ2h0OwogICAgICAgIHVpbnQgbm9kZTsKICAgICAgICBib29sIG9kZEJyYW5jaFNpemUgPSAoYnJhbmNoU2l6ZSAlIDIpID4gMDsKICAgICAgICAgCiAgICAgICAgYXNzZW1ibHkgewogICAgICAgICAgICBicmFuY2hTaXplIDo9IGRpdihicmFuY2hTaXplLDIpCiAgICAgICAgICAgIC8vYnJhbmNoU2l6ZSAvPSAyOwogICAgICAgIH0KICAgICAgICB1aW50IHdpdG5lc3NJbmRleCA9IGluZGV4SW5FbGVtZW50c0FycmF5ICogYnJhbmNoU2l6ZTsKICAgICAgICBpZiggb2RkQnJhbmNoU2l6ZSApIHdpdG5lc3NJbmRleCArPSBpbmRleEluRWxlbWVudHNBcnJheTsgIAoKICAgICAgICBmb3IoIHVpbnQgZGVwdGggPSAwIDsgZGVwdGggPCBicmFuY2hTaXplIDsgZGVwdGgrKyApIHsKICAgICAgICAgICAgYXNzZW1ibHkgewogICAgICAgICAgICAgICAgbm9kZSA6PSBtbG9hZChhZGQoYWRkKHdpdG5lc3MsMHgyMCksbXVsKGFkZChkZXB0aCx3aXRuZXNzSW5kZXgpLDB4MjApKSkKICAgICAgICAgICAgfQogICAgICAgICAgICAvL25vZGUgID0gd2l0bmVzc1t3aXRuZXNzSW5kZXggKyBkZXB0aF0gJiAweEZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGOwogICAgICAgICAgICBpZiggaW5kZXggJiAweDEgPT0gMCApIHsKICAgICAgICAgICAgICAgIGxlZnQgPSBsZWFmOwogICAgICAgICAgICAgICAgYXNzZW1ibHl7CiAgICAgICAgICAgICAgICAgICAgLy9yaWdodCA9IG5vZGUgJiAweEZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGOyAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICByaWdodCA6PSBhbmQobm9kZSwweEZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBhc3NlbWJseXsKICAgICAgICAgICAgICAgICAgICAvL2xlZnQgPSBub2RlICYgMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjsKICAgICAgICAgICAgICAgICAgICBsZWZ0IDo9IGFuZChub2RlLDB4RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkYpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByaWdodCA9IGxlYWY7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGxlYWYgPSB1aW50KHNoYTMobGVmdCxyaWdodCkpICYgMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjsKICAgICAgICAgICAgYXNzZW1ibHkgewogICAgICAgICAgICAgICAgaW5kZXggOj0gZGl2KGluZGV4LDIpIAogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vaW5kZXggPSBpbmRleCAvIDI7CgogICAgICAgICAgICAvL25vZGUgID0gd2l0bmVzc1t3aXRuZXNzSW5kZXggKyBkZXB0aF0gLyAoMioqMTI4KTsKICAgICAgICAgICAgaWYoIGluZGV4ICYgMHgxID09IDAgKSB7CiAgICAgICAgICAgICAgICBsZWZ0ID0gbGVhZjsKICAgICAgICAgICAgICAgIGFzc2VtYmx5ewogICAgICAgICAgICAgICAgICAgIHJpZ2h0IDo9IGRpdihub2RlLDB4MTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwKQogICAgICAgICAgICAgICAgICAgIC8vcmlnaHQgPSBub2RlIC8gMHgxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBhc3NlbWJseSB7CiAgICAgICAgICAgICAgICAgICAgLy9sZWZ0ID0gbm9kZSAvIDB4MTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOwogICAgICAgICAgICAgICAgICAgIGxlZnQgOj0gZGl2KG5vZGUsMHgxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDApCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByaWdodCA9IGxlYWY7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGxlYWYgPSB1aW50KHNoYTMobGVmdCxyaWdodCkpICYgMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjsKICAgICAgICAgICAgYXNzZW1ibHkgewogICAgICAgICAgICAgICAgaW5kZXggOj0gZGl2KGluZGV4LDIpIAogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vaW5kZXggPSBpbmRleCAvIDI7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKCBvZGRCcmFuY2hTaXplICkgewogICAgICAgICAgICBhc3NlbWJseSB7CiAgICAgICAgICAgICAgICBub2RlIDo9IG1sb2FkKGFkZChhZGQod2l0bmVzcywweDIwKSxtdWwoYWRkKGRlcHRoLHdpdG5lc3NJbmRleCksMHgyMCkpKQogICAgICAgICAgICB9CiAgICAgICAgCiAgICAgICAgICAgIC8vbm9kZSAgPSB3aXRuZXNzW3dpdG5lc3NJbmRleCArIGRlcHRoXSAmIDB4RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY7CiAgICAgICAgICAgIGlmKCBpbmRleCAmIDB4MSA9PSAwICkgewogICAgICAgICAgICAgICAgbGVmdCA9IGxlYWY7CiAgICAgICAgICAgICAgICBhc3NlbWJseXsKICAgICAgICAgICAgICAgICAgICAvL3JpZ2h0ID0gbm9kZSAmIDB4RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY7ICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHJpZ2h0IDo9IGFuZChub2RlLDB4RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkYpCiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgYXNzZW1ibHl7CiAgICAgICAgICAgICAgICAgICAgLy9sZWZ0ID0gbm9kZSAmIDB4RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY7ICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGxlZnQgOj0gYW5kKG5vZGUsMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByaWdodCA9IGxlYWY7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGxlYWYgPSB1aW50KHNoYTMobGVmdCxyaWdodCkpICYgMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjsgICAgICAgIAogICAgICAgIH0KICAgICAgICAKICAgICAgICAKICAgICAgICByZXR1cm4gbGVhZjsKICAgIH0KCiAgICAKICAgIGZ1bmN0aW9uIHRvQkUoIHVpbnQgeCApIGNvbnN0YW50IGludGVybmFsIHJldHVybnModWludCkgewogICAgICAgIHVpbnQgeSA9IDA7CiAgICAgICAgZm9yKCB1aW50IGkgPSAwIDsgaSA8IDMyIDsgaSsrICkgewogICAgICAgICAgICB5ID0geSAqIDI1NjsKICAgICAgICAgICAgeSArPSAoeCAmIDB4RkYpOwogICAgICAgICAgICB4ID0geCAvIDI1NjsgICAgICAgICAgICAKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHk7CiAgICAgICAgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNvbXB1dGVTaGEzKCB1aW50WzE2XSBzLCB1aW50WzhdIGNtaXggKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zKHVpbnQpIHsKICAgICAgICB1aW50IHMwID0gc1swXSArIHNbMV0gKiAoMioqMzIpICsgc1syXSAqICgyKio2NCkgKyBzWzNdICogKDIqKjk2KSArCiAgICAgICAgICAgICAgICAgIChzWzRdICsgc1s1XSAqICgyKiozMikgKyBzWzZdICogKDIqKjY0KSArIHNbN10gKiAoMioqOTYpKSooMioqMTI4KTsKCiAgICAgICAgdWludCBzMSA9IHNbOF0gKyBzWzldICogKDIqKjMyKSArIHNbMTBdICogKDIqKjY0KSArIHNbMTFdICogKDIqKjk2KSArCiAgICAgICAgICAgICAgICAgIChzWzEyXSArIHNbMTNdICogKDIqKjMyKSArIHNbMTRdICogKDIqKjY0KSArIHNbMTVdICogKDIqKjk2KSkqKDIqKjEyOCk7CiAgICAgICAgICAgICAgICAgIAogICAgICAgIHVpbnQgYyA9IGNtaXhbMF0gKyBjbWl4WzFdICogKDIqKjMyKSArIGNtaXhbMl0gKiAoMioqNjQpICsgY21peFszXSAqICgyKio5NikgKwogICAgICAgICAgICAgICAgICAoY21peFs0XSArIGNtaXhbNV0gKiAoMioqMzIpICsgY21peFs2XSAqICgyKio2NCkgKyBjbWl4WzddICogKDIqKjk2KSkqKDIqKjEyOCk7CgogICAgICAgIAogICAgICAgIC8qIGdvZCBrbm93cyB3aHkgbmVlZCB0byBjb252ZXJ0IHRvIGJpZyBlbmRpYW4gKi8KICAgICAgICByZXR1cm4gdWludCggc2hhMyh0b0JFKHMwKSx0b0JFKHMxKSx0b0JFKGMpKSApOwogICAgfQogCiAKICAgIGZ1bmN0aW9uIGNvbXB1dGVMZWFmKCB1aW50W10gZGF0YVNldExvb2t1cCwgdWludCBpbmRleCApIGNvbnN0YW50IGludGVybmFsIHJldHVybnModWludCkgewogICAgICAgIHJldHVybiB1aW50KCBzaGEzKGRhdGFTZXRMb29rdXBbNCppbmRleF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVNldExvb2t1cFs0KmluZGV4ICsgMV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVNldExvb2t1cFs0KmluZGV4ICsgMl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVNldExvb2t1cFs0KmluZGV4ICsgM10pICk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgfQogCiAgICBmdW5jdGlvbiBjb21wdXRlUyggdWludCBoZWFkZXIsIHVpbnQgbm9uY2VMZSApIGNvbnN0YW50IGludGVybmFsIHJldHVybnModWludFsxNl0pIHsKICAgICAgICB1aW50WzldICBtZW1vcnkgTTsKICAgICAgICAKICAgICAgICBoZWFkZXIgPSByZXZlcnNlQnl0ZXMoaGVhZGVyKTsKICAgICAgICAKICAgICAgICBNWzBdID0gdWludChoZWFkZXIpICYgMHhGRkZGRkZGRkZGRkZGRkZGOwogICAgICAgIGhlYWRlciA9IGhlYWRlciAvIDIqKjY0OwogICAgICAgIE1bMV0gPSB1aW50KGhlYWRlcikgJiAweEZGRkZGRkZGRkZGRkZGRkY7CiAgICAgICAgaGVhZGVyID0gaGVhZGVyIC8gMioqNjQ7CiAgICAgICAgTVsyXSA9IHVpbnQoaGVhZGVyKSAmIDB4RkZGRkZGRkZGRkZGRkZGRjsKICAgICAgICBoZWFkZXIgPSBoZWFkZXIgLyAyKio2NDsKICAgICAgICBNWzNdID0gdWludChoZWFkZXIpICYgMHhGRkZGRkZGRkZGRkZGRkZGOwoKICAgICAgICAvLyBtYWtlIGxpdHRsZSBlbmRpYW4gbm9uY2UKICAgICAgICBNWzRdID0gbm9uY2VMZTsKICAgICAgICByZXR1cm4gc3BvbmdlKE0pOwogICAgfQogICAgCiAgICBmdW5jdGlvbiByZXZlcnNlQnl0ZXMoIHVpbnQgaW5wdXQgKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zKHVpbnQpIHsKICAgICAgICB1aW50IHJlc3VsdCA9IDA7CiAgICAgICAgZm9yKHVpbnQgaSA9IDAgOyBpIDwgMzIgOyBpKysgKSB7CiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCAqIDI1NjsKICAgICAgICAgICAgcmVzdWx0ICs9IGlucHV0ICYgMHhmZjsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlucHV0IC89IDI1NjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICAgIAogICAgc3RydWN0IEV0aGFzaENhY2hlT3B0RGF0YSB7CiAgICAgICAgdWludFs1MTJdICAgIG1lcmtsZU5vZGVzOwogICAgICAgIHVpbnQgICAgICAgICBmdWxsU2l6ZUluMTI4UmVzdWx0aW9uOwogICAgICAgIHVpbnQgICAgICAgICBicmFuY2hEZXB0aDsKICAgIH0KICAgIAogICAgbWFwcGluZyh1aW50PT5FdGhhc2hDYWNoZU9wdERhdGEpIGVwb2NoRGF0YTsKICAgIAogICAgZnVuY3Rpb24gZ2V0RXBvY2hEYXRhKCB1aW50IGVwb2NoSW5kZXgsIHVpbnQgbm9kZUluZGV4ICkgY29uc3RhbnQgcmV0dXJucyh1aW50WzNdKSB7CiAgICAgICAgcmV0dXJuIFtlcG9jaERhdGFbZXBvY2hJbmRleF0ubWVya2xlTm9kZXNbbm9kZUluZGV4XSwKICAgICAgICAgICAgICAgIGVwb2NoRGF0YVtlcG9jaEluZGV4XS5mdWxsU2l6ZUluMTI4UmVzdWx0aW9uLAogICAgICAgICAgICAgICAgZXBvY2hEYXRhW2Vwb2NoSW5kZXhdLmJyYW5jaERlcHRoXTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gaXNFcG9jaERhdGFTZXQoIHVpbnQgZXBvY2hJbmRleCApIGNvbnN0YW50IHJldHVybnMoYm9vbCkgewogICAgICAgIHJldHVybiBlcG9jaERhdGFbZXBvY2hJbmRleF0uZnVsbFNpemVJbjEyOFJlc3VsdGlvbiAhPSAwOwogICAgCiAgICB9CiAgICAgICAgCiAgICBldmVudCBTZXRFcG9jaERhdGEoIGFkZHJlc3MgaW5kZXhlZCBzZW5kZXIsIHVpbnQgZXJyb3IsIHVpbnQgZXJyb3JJbmZvICk7ICAgIAogICAgZnVuY3Rpb24gc2V0RXBvY2hEYXRhKCB1aW50IGVwb2NoLAogICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50IGZ1bGxTaXplSW4xMjhSZXN1bHRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQgYnJhbmNoRGVwdGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnRbXSBtZXJrbGVOb2RlcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludCBzdGFydCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludCBudW1FbGVtcyApIHsKCiAgICAgICAgaWYoICEgb3duZXJzW21zZy5zZW5kZXJdICkgewogICAgICAgICAgICAvL0Vycm9yTG9nKCAic2V0RXBvY2hEYXRhOiBvbmx5IG93bmVyIGNhbiBzZXQgZGF0YSIsIHVpbnQobXNnLnNlbmRlcikgKTsKICAgICAgICAgICAgU2V0RXBvY2hEYXRhKCBtc2cuc2VuZGVyLCAweDgyMDAwMDAwLCB1aW50KG1zZy5zZW5kZXIpICk7CiAgICAgICAgICAgIHJldHVybjsgICAgICAgIAogICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgZm9yKCB1aW50IGkgPSAwIDsgaSA8IG51bUVsZW1zIDsgaSsrICkgewogICAgICAgICAgICBpZiggZXBvY2hEYXRhW2Vwb2NoXS5tZXJrbGVOb2Rlc1tzdGFydCtpXSA+IDAgKSB7CiAgICAgICAgICAgICAgICAvL0Vycm9yTG9nKCJlcG9jaCBhbHJlYWR5IHNldCIsIGVwb2NoW2ldKTsKICAgICAgICAgICAgICAgIFNldEVwb2NoRGF0YSggbXNnLnNlbmRlciwgMHg4MjAwMDAwMSwgZXBvY2ggKiAoMioqMTI4KSArIHN0YXJ0ICsgaSApOwogICAgICAgICAgICAgICAgcmV0dXJuOyAgICAgICAgICAgIAoKICAgICAgICAgICAgfSAKICAgICAgICAgICAgZXBvY2hEYXRhW2Vwb2NoXS5tZXJrbGVOb2Rlc1tzdGFydCtpXSA9IG1lcmtsZU5vZGVzW2ldOwogICAgICAgIH0KICAgICAgICBlcG9jaERhdGFbZXBvY2hdLmZ1bGxTaXplSW4xMjhSZXN1bHRpb24gPSBmdWxsU2l6ZUluMTI4UmVzdWx0aW9uOwogICAgICAgIGVwb2NoRGF0YVtlcG9jaF0uYnJhbmNoRGVwdGggPSBicmFuY2hEZXB0aDsKICAgICAgICAKICAgICAgICBTZXRFcG9jaERhdGEoIG1zZy5zZW5kZXIsIDAgLCAwICk7ICAgICAgICAKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRNZXJrbGVMZWF2ZSggdWludCBlcG9jaEluZGV4LCB1aW50IHAgKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zKHVpbnQpIHsgICAgICAgIAogICAgICAgIHVpbnQgcm9vdEluZGV4ID0gcCA+PiBlcG9jaERhdGFbZXBvY2hJbmRleF0uYnJhbmNoRGVwdGg7CiAgICAgICAgdWludCBleHBlY3RlZFJvb3QgPSBlcG9jaERhdGFbZXBvY2hJbmRleF0ubWVya2xlTm9kZXNbKHJvb3RJbmRleC8yKV07CiAgICAgICAgaWYoIChyb290SW5kZXggJSAyKSA9PSAwICkgZXhwZWN0ZWRSb290ID0gZXhwZWN0ZWRSb290ICYgMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjsKICAgICAgICBlbHNlIGV4cGVjdGVkUm9vdCA9IGV4cGVjdGVkUm9vdCAvICgyKioxMjgpOwogICAgICAgIAogICAgICAgIHJldHVybiBleHBlY3RlZFJvb3Q7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGhhc2hpbW90byggYnl0ZXMzMiAgICAgIGhlYWRlciwKICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZXM4ICAgICAgIG5vbmNlTGUsCiAgICAgICAgICAgICAgICAgICAgICAgIHVpbnRbXSAgICAgICBkYXRhU2V0TG9va3VwLAogICAgICAgICAgICAgICAgICAgICAgICB1aW50W10gICAgICAgd2l0bmVzc0Zvckxvb2t1cCwKICAgICAgICAgICAgICAgICAgICAgICAgdWludCAgICAgICAgIGVwb2NoSW5kZXggKSBjb25zdGFudCByZXR1cm5zKHVpbnQpIHsKICAgICAgICAgCiAgICAgICAgdWludFsxNl0gbWVtb3J5IHM7CiAgICAgICAgdWludFszMl0gbWVtb3J5IG1peDsKICAgICAgICB1aW50WzhdICBtZW1vcnkgY21peDsKICAgICAgICAKICAgICAgICB1aW50WzJdICBtZW1vcnkgZGVwdGhBbmRGdWxsU2l6ZSA9IFtlcG9jaERhdGFbZXBvY2hJbmRleF0uYnJhbmNoRGVwdGgsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVwb2NoRGF0YVtlcG9jaEluZGV4XS5mdWxsU2l6ZUluMTI4UmVzdWx0aW9uXTsKICAgICAgICAgICAgICAgIAogICAgICAgIHVpbnQgaTsKICAgICAgICB1aW50IGo7CiAgICAgICAgCiAgICAgICAgaWYoICEgaXNFcG9jaERhdGFTZXQoIGVwb2NoSW5kZXggKSApIHJldHVybiAweEZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkU7CiAgICAgICAgCiAgICAgICAgaWYoIGRlcHRoQW5kRnVsbFNpemVbMV0gPT0gMCApIHsKICAgICAgICAgICAgcmV0dXJuIDB4RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjsKICAgICAgICB9CgogICAgICAgIAogICAgICAgIHMgPSBjb21wdXRlUyh1aW50KGhlYWRlciksIHVpbnQobm9uY2VMZSkpOwogICAgICAgIGZvciggaSA9IDAgOyBpIDwgMTYgOyBpKysgKSB7ICAgICAgICAgICAgCiAgICAgICAgICAgIGFzc2VtYmx5IHsKICAgICAgICAgICAgICAgIGxldCBvZmZzZXQgOj0gbXVsKGksMHgyMCkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy9taXhbaV0gPSBzW2ldOwogICAgICAgICAgICAgICAgbXN0b3JlKGFkZChtaXgsb2Zmc2V0KSxtbG9hZChhZGQocyxvZmZzZXQpKSkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gbWl4W2krMTZdID0gc1tpXTsKICAgICAgICAgICAgICAgIG1zdG9yZShhZGQobWl4LGFkZCgweDIwMCxvZmZzZXQpKSxtbG9hZChhZGQocyxvZmZzZXQpKSkgICAgCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZvciggaSA9IDAgOyBpIDwgNjQgOyBpKysgKSB7CiAgICAgICAgICAgIHVpbnQgcCA9IGZudiggaSBeIHNbMF0sIG1peFtpICUgMzJdKSAlIGRlcHRoQW5kRnVsbFNpemVbMV07CiAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICAgICAgaWYoIGNvbXB1dGVDYWNoZVJvb3QoIHAsIGksIGRhdGFTZXRMb29rdXAsICB3aXRuZXNzRm9yTG9va3VwLCBkZXB0aEFuZEZ1bGxTaXplWzBdICkgICE9IGdldE1lcmtsZUxlYXZlKCBlcG9jaEluZGV4LCBwICkgKSB7CiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gUG9XIGZhaWxlZAogICAgICAgICAgICAgICAgcmV0dXJuIDB4RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjsKICAgICAgICAgICAgfSAgICAgICAKCiAgICAgICAgICAgIGZvciggaiA9IDAgOyBqIDwgOCA7IGorKyApIHsKCiAgICAgICAgICAgICAgICBhc3NlbWJseXsKICAgICAgICAgICAgICAgICAgICAvL21peFtqXSA9IGZudihtaXhbal0sIGRhdGFTZXRMb29rdXBbNCppXSAmIHZhckZGRkZGRkZGICk7CiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGFPZmZzZXQgOj0gYWRkKG11bCgweDgwLGkpLGFkZChkYXRhU2V0TG9va3VwLDB4MjApKQogICAgICAgICAgICAgICAgICAgIGxldCBkYXRhVmFsdWUgICA6PSBhbmQobWxvYWQoZGF0YU9mZnNldCksMHhGRkZGRkZGRikKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBsZXQgbWl4T2Zmc2V0IDo9IGFkZChtaXgsbXVsKDB4MjAsaikpCiAgICAgICAgICAgICAgICAgICAgbGV0IG1peFZhbHVlICA6PSBtbG9hZChtaXhPZmZzZXQpCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8gZm52ID0gcmV0dXJuICgodjEqMHgwMTAwMDE5MykgXiB2MikgJiAweEZGRkZGRkZGOwogICAgICAgICAgICAgICAgICAgIGxldCBmbnZWYWx1ZSA6PSBhbmQoeG9yKG11bChtaXhWYWx1ZSwweDAxMDAwMTkzKSxkYXRhVmFsdWUpLDB4RkZGRkZGRkYpICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBtc3RvcmUobWl4T2Zmc2V0LGZudlZhbHVlKQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vbWl4W2orOF0gPSBmbnYobWl4W2orOF0sIGRhdGFTZXRMb29rdXBbNCppICsgMV0gJiAweEZGRkZGRkZGICk7CiAgICAgICAgICAgICAgICAgICAgZGF0YU9mZnNldCA6PSBhZGQoZGF0YU9mZnNldCwweDIwKQogICAgICAgICAgICAgICAgICAgIGRhdGFWYWx1ZSAgIDo9IGFuZChtbG9hZChkYXRhT2Zmc2V0KSwweEZGRkZGRkZGKQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIG1peE9mZnNldCA6PSBhZGQobWl4T2Zmc2V0LDB4MTAwKQogICAgICAgICAgICAgICAgICAgIG1peFZhbHVlICA6PSBtbG9hZChtaXhPZmZzZXQpCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8gZm52ID0gcmV0dXJuICgodjEqMHgwMTAwMDE5MykgXiB2MikgJiAweEZGRkZGRkZGOwogICAgICAgICAgICAgICAgICAgIGZudlZhbHVlIDo9IGFuZCh4b3IobXVsKG1peFZhbHVlLDB4MDEwMDAxOTMpLGRhdGFWYWx1ZSksMHhGRkZGRkZGRikgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIG1zdG9yZShtaXhPZmZzZXQsZm52VmFsdWUpCgogICAgICAgICAgICAgICAgICAgIC8vbWl4W2orMTZdID0gZm52KG1peFtqKzE2XSwgZGF0YVNldExvb2t1cFs0KmkgKyAyXSAmIDB4RkZGRkZGRkYgKTsKICAgICAgICAgICAgICAgICAgICBkYXRhT2Zmc2V0IDo9IGFkZChkYXRhT2Zmc2V0LDB4MjApCiAgICAgICAgICAgICAgICAgICAgZGF0YVZhbHVlICAgOj0gYW5kKG1sb2FkKGRhdGFPZmZzZXQpLDB4RkZGRkZGRkYpCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgbWl4T2Zmc2V0IDo9IGFkZChtaXhPZmZzZXQsMHgxMDApCiAgICAgICAgICAgICAgICAgICAgbWl4VmFsdWUgIDo9IG1sb2FkKG1peE9mZnNldCkKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBmbnYgPSByZXR1cm4gKCh2MSoweDAxMDAwMTkzKSBeIHYyKSAmIDB4RkZGRkZGRkY7CiAgICAgICAgICAgICAgICAgICAgZm52VmFsdWUgOj0gYW5kKHhvcihtdWwobWl4VmFsdWUsMHgwMTAwMDE5MyksZGF0YVZhbHVlKSwweEZGRkZGRkZGKSAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgbXN0b3JlKG1peE9mZnNldCxmbnZWYWx1ZSkKCiAgICAgICAgICAgICAgICAgICAgLy9taXhbaisyNF0gPSBmbnYobWl4W2orMjRdLCBkYXRhU2V0TG9va3VwWzQqaSArIDNdICYgMHhGRkZGRkZGRiApOwogICAgICAgICAgICAgICAgICAgIGRhdGFPZmZzZXQgOj0gYWRkKGRhdGFPZmZzZXQsMHgyMCkKICAgICAgICAgICAgICAgICAgICBkYXRhVmFsdWUgICA6PSBhbmQobWxvYWQoZGF0YU9mZnNldCksMHhGRkZGRkZGRikKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBtaXhPZmZzZXQgOj0gYWRkKG1peE9mZnNldCwweDEwMCkKICAgICAgICAgICAgICAgICAgICBtaXhWYWx1ZSAgOj0gbWxvYWQobWl4T2Zmc2V0KQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIGZudiA9IHJldHVybiAoKHYxKjB4MDEwMDAxOTMpIF4gdjIpICYgMHhGRkZGRkZGRjsKICAgICAgICAgICAgICAgICAgICBmbnZWYWx1ZSA6PSBhbmQoeG9yKG11bChtaXhWYWx1ZSwweDAxMDAwMTkzKSxkYXRhVmFsdWUpLDB4RkZGRkZGRkYpICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBtc3RvcmUobWl4T2Zmc2V0LGZudlZhbHVlKSAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vbWl4W2pdID0gZm52KG1peFtqXSwgZGF0YVNldExvb2t1cFs0KmldICYgMHhGRkZGRkZGRiApOwogICAgICAgICAgICAgICAgLy9taXhbais4XSA9IGZudihtaXhbais4XSwgZGF0YVNldExvb2t1cFs0KmkgKyAxXSAmIDB4RkZGRkZGRkYgKTsKICAgICAgICAgICAgICAgIC8vbWl4W2orMTZdID0gZm52KG1peFtqKzE2XSwgZGF0YVNldExvb2t1cFs0KmkgKyAyXSAmIDB4RkZGRkZGRkYgKTsgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvL21peFtqKzI0XSA9IGZudihtaXhbaisyNF0sIGRhdGFTZXRMb29rdXBbNCppICsgM10gJiAweEZGRkZGRkZGICk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy9kYXRhU2V0TG9va3VwWzQqaSAgICBdID0gZGF0YVNldExvb2t1cFs0KmkgICAgXS8oMioqMzIpOwogICAgICAgICAgICAgICAgLy9kYXRhU2V0TG9va3VwWzQqaSArIDFdID0gZGF0YVNldExvb2t1cFs0KmkgKyAxXS8oMioqMzIpOwogICAgICAgICAgICAgICAgLy9kYXRhU2V0TG9va3VwWzQqaSArIDJdID0gZGF0YVNldExvb2t1cFs0KmkgKyAyXS8oMioqMzIpOwogICAgICAgICAgICAgICAgLy9kYXRhU2V0TG9va3VwWzQqaSArIDNdID0gZGF0YVNldExvb2t1cFs0KmkgKyAzXS8oMioqMzIpOyAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgYXNzZW1ibHl7CiAgICAgICAgICAgICAgICAgICAgbGV0IG9mZnNldCA6PSBhZGQoYWRkKGRhdGFTZXRMb29rdXAsMHgyMCksbXVsKGksMHg4MCkpCiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlICA6PSBkaXYobWxvYWQob2Zmc2V0KSwweDEwMDAwMDAwMCkKICAgICAgICAgICAgICAgICAgICBtc3RvcmUob2Zmc2V0LHZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBvZmZzZXQgOj0gYWRkKG9mZnNldCwweDIwKQogICAgICAgICAgICAgICAgICAgIHZhbHVlICA6PSBkaXYobWxvYWQob2Zmc2V0KSwweDEwMDAwMDAwMCkKICAgICAgICAgICAgICAgICAgICBtc3RvcmUob2Zmc2V0LHZhbHVlKQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIG9mZnNldCA6PSBhZGQob2Zmc2V0LDB4MjApCiAgICAgICAgICAgICAgICAgICAgdmFsdWUgIDo9IGRpdihtbG9hZChvZmZzZXQpLDB4MTAwMDAwMDAwKQogICAgICAgICAgICAgICAgICAgIG1zdG9yZShvZmZzZXQsdmFsdWUpICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBvZmZzZXQgOj0gYWRkKG9mZnNldCwweDIwKQogICAgICAgICAgICAgICAgICAgIHZhbHVlICA6PSBkaXYobWxvYWQob2Zmc2V0KSwweDEwMDAwMDAwMCkKICAgICAgICAgICAgICAgICAgICBtc3RvcmUob2Zmc2V0LHZhbHVlKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIAogICAgICAgIGZvciggaSA9IDAgOyBpIDwgMzIgOyBpICs9IDQpIHsKICAgICAgICAgICAgY21peFtpLzRdID0gKGZudihmbnYoZm52KG1peFtpXSwgbWl4W2krMV0pLCBtaXhbaSsyXSksIG1peFtpKzNdKSk7CiAgICAgICAgfQogICAgICAgIAoKICAgICAgICB1aW50IHJlc3VsdCA9IGNvbXB1dGVTaGEzKHMsY21peCk7IAoKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIAogICAgfQp9'.
	

]
