Class {
	#name : #SRT068a37f2b086f1909a65c195fa084006acd6a79f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT068a37f2b086f1909a65c195fa084006acd6a79f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CgogIC8qKgogICogQGRldiBNdWx0aXBsaWVzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICAvKioKICAqIEBkZXYgSW50ZWdlciBkaXZpc2lvbiBvZiB0d28gbnVtYmVycywgdHJ1bmNhdGluZyB0aGUgcXVvdGllbnQuCiAgKi8KICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIC8qKgogICogQGRldiBTdWJzdHJhY3RzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cgKGkuZS4gaWYgc3VidHJhaGVuZCBpcyBncmVhdGVyIHRoYW4gbWludWVuZCkuCiAgKi8KICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICAvKioKICAqIEBkZXYgQWRkcyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93LgogICovCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKCi8qKgogKiBAdGl0bGUgQ2xhaW1hYmxlCiAqIEBkZXYgRXh0ZW5zaW9uIGZvciB0aGUgT3duYWJsZSBjb250cmFjdCwgd2hlcmUgdGhlIG93bmVyc2hpcCBuZWVkcyB0byBiZSBjbGFpbWVkLgogKiBUaGlzIGFsbG93cyB0aGUgbmV3IG93bmVyIHRvIGFjY2VwdCB0aGUgdHJhbnNmZXIuCiAqLwpjb250cmFjdCBDbGFpbWFibGUgaXMgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgcGVuZGluZ093bmVyOwoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgcGVuZGluZ093bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlQZW5kaW5nT3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gcGVuZGluZ093bmVyKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byBzZXQgdGhlIHBlbmRpbmdPd25lciBhZGRyZXNzLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICBwZW5kaW5nT3duZXIgPSBuZXdPd25lcjsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBwZW5kaW5nT3duZXIgYWRkcmVzcyB0byBmaW5hbGl6ZSB0aGUgdHJhbnNmZXIuCiAgICovCiAgZnVuY3Rpb24gY2xhaW1Pd25lcnNoaXAoKSBvbmx5UGVuZGluZ093bmVyIHB1YmxpYyB7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgcGVuZGluZ093bmVyKTsKICAgIG93bmVyID0gcGVuZGluZ093bmVyOwogICAgcGVuZGluZ093bmVyID0gYWRkcmVzcygwKTsKICB9Cn0KCgovKioKICogQHRpdGxlIFBhdXNhYmxlCiAqIEBkZXYgQmFzZSBjb250cmFjdCB3aGljaCBhbGxvd3MgY2hpbGRyZW4gdG8gaW1wbGVtZW50IGFuIGVtZXJnZW5jeSBzdG9wIG1lY2hhbmlzbS4KICovCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgewogIGV2ZW50IFBhdXNlKCk7CiAgZXZlbnQgVW5wYXVzZSgpOwoKICBib29sIHB1YmxpYyBwYXVzZWQgPSBmYWxzZTsKCgogIC8qKgogICAqIEBkZXYgTW9kaWZpZXIgdG8gbWFrZSBhIGZ1bmN0aW9uIGNhbGxhYmxlIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgaXMgbm90IHBhdXNlZC4KICAgKi8KICBtb2RpZmllciB3aGVuTm90UGF1c2VkKCkgewogICAgcmVxdWlyZSghcGF1c2VkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRvIG1ha2UgYSBmdW5jdGlvbiBjYWxsYWJsZSBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IGlzIHBhdXNlZC4KICAgKi8KICBtb2RpZmllciB3aGVuUGF1c2VkKCkgewogICAgcmVxdWlyZShwYXVzZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byBwYXVzZSwgdHJpZ2dlcnMgc3RvcHBlZCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHBhdXNlKCkgb25seU93bmVyIHdoZW5Ob3RQYXVzZWQgcHVibGljIHsKICAgIHBhdXNlZCA9IHRydWU7CiAgICBQYXVzZSgpOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHVucGF1c2UsIHJldHVybnMgdG8gbm9ybWFsIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gdW5wYXVzZSgpIG9ubHlPd25lciB3aGVuUGF1c2VkIHB1YmxpYyB7CiAgICBwYXVzZWQgPSBmYWxzZTsKICAgIFVucGF1c2UoKTsKICB9Cn0KCgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgoKLyoqCiAqIEB0aXRsZSBTYWZlRVJDMjAKICogQGRldiBXcmFwcGVycyBhcm91bmQgRVJDMjAgb3BlcmF0aW9ucyB0aGF0IHRocm93IG9uIGZhaWx1cmUuCiAqIFRvIHVzZSB0aGlzIGxpYnJhcnkgeW91IGNhbiBhZGQgYSBgdXNpbmcgU2FmZUVSQzIwIGZvciBFUkMyMDtgIHN0YXRlbWVudCB0byB5b3VyIGNvbnRyYWN0LAogKiB3aGljaCBhbGxvd3MgeW91IHRvIGNhbGwgdGhlIHNhZmUgb3BlcmF0aW9ucyBhcyBgdG9rZW4uc2FmZVRyYW5zZmVyKC4uLilgLCBldGMuCiAqLwpsaWJyYXJ5IFNhZmVFUkMyMCB7CiAgZnVuY3Rpb24gc2FmZVRyYW5zZmVyKEVSQzIwQmFzaWMgdG9rZW4sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIGludGVybmFsIHsKICAgIGFzc2VydCh0b2tlbi50cmFuc2Zlcih0bywgdmFsdWUpKTsKICB9CgogIGZ1bmN0aW9uIHNhZmVUcmFuc2ZlckZyb20oRVJDMjAgdG9rZW4sIGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgaW50ZXJuYWwgewogICAgYXNzZXJ0KHRva2VuLnRyYW5zZmVyRnJvbShmcm9tLCB0bywgdmFsdWUpKTsKICB9CgogIGZ1bmN0aW9uIHNhZmVBcHByb3ZlKEVSQzIwIHRva2VuLCBhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIGludGVybmFsIHsKICAgIGFzc2VydCh0b2tlbi5hcHByb3ZlKHNwZW5kZXIsIHZhbHVlKSk7CiAgfQp9CgoKLyoqCiAqIEB0aXRsZSBDb250cmFjdHMgdGhhdCBzaG91bGQgYmUgYWJsZSB0byByZWNvdmVyIHRva2VucwogKiBAYXV0aG9yIFN5bFRpCiAqIEBkZXYgVGhpcyBhbGxvdyBhIGNvbnRyYWN0IHRvIHJlY292ZXIgYW55IEVSQzIwIHRva2VuIHJlY2VpdmVkIGluIGEgY29udHJhY3QgYnkgdHJhbnNmZXJyaW5nIHRoZSBiYWxhbmNlIHRvIHRoZSBjb250cmFjdCBvd25lci4KICogVGhpcyB3aWxsIHByZXZlbnQgYW55IGFjY2lkZW50YWwgbG9zcyBvZiB0b2tlbnMuCiAqLwpjb250cmFjdCBDYW5SZWNsYWltVG9rZW4gaXMgT3duYWJsZSB7CiAgdXNpbmcgU2FmZUVSQzIwIGZvciBFUkMyMEJhc2ljOwoKICAvKioKICAgKiBAZGV2IFJlY2xhaW0gYWxsIEVSQzIwQmFzaWMgY29tcGF0aWJsZSB0b2tlbnMKICAgKiBAcGFyYW0gdG9rZW4gRVJDMjBCYXNpYyBUaGUgYWRkcmVzcyBvZiB0aGUgdG9rZW4gY29udHJhY3QKICAgKi8KICBmdW5jdGlvbiByZWNsYWltVG9rZW4oRVJDMjBCYXNpYyB0b2tlbikgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgIHVpbnQyNTYgYmFsYW5jZSA9IHRva2VuLmJhbGFuY2VPZih0aGlzKTsKICAgIHRva2VuLnNhZmVUcmFuc2Zlcihvd25lciwgYmFsYW5jZSk7CiAgfQoKfQoKCi8vLyBAZGV2IEltcGxlbWVudHMgYWNjZXNzIGNvbnRyb2wgdG8gdGhlIENocm9ub3MgY29udHJhY3QuCmNvbnRyYWN0IENocm9ub3NBY2Nlc3NDb250cm9sIGlzIENsYWltYWJsZSwgUGF1c2FibGUsIENhblJlY2xhaW1Ub2tlbiB7CiAgICBhZGRyZXNzIHB1YmxpYyBjZm9BZGRyZXNzOwogICAgCiAgICBmdW5jdGlvbiBDaHJvbm9zQWNjZXNzQ29udHJvbCgpIHB1YmxpYyB7CiAgICAgICAgLy8gVGhlIGNyZWF0b3Igb2YgdGhlIGNvbnRyYWN0IGlzIHRoZSBpbml0aWFsIENGTy4KICAgICAgICBjZm9BZGRyZXNzID0gbXNnLnNlbmRlcjsKICAgIH0KICAgIAogICAgLy8vIEBkZXYgQWNjZXNzIG1vZGlmaWVyIGZvciBDRk8tb25seSBmdW5jdGlvbmFsaXR5LgogICAgbW9kaWZpZXIgb25seUNGTygpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gY2ZvQWRkcmVzcyk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLy8gQGRldiBBc3NpZ25zIGEgbmV3IGFkZHJlc3MgdG8gYWN0IGFzIHRoZSBDRk8uIE9ubHkgYXZhaWxhYmxlIHRvIHRoZSBjdXJyZW50IGNvbnRyYWN0IG93bmVyLgogICAgLy8vIEBwYXJhbSBfbmV3Q0ZPIFRoZSBhZGRyZXNzIG9mIHRoZSBuZXcgQ0ZPLgogICAgZnVuY3Rpb24gc2V0Q0ZPKGFkZHJlc3MgX25ld0NGTykgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKF9uZXdDRk8gIT0gYWRkcmVzcygwKSk7CgogICAgICAgIGNmb0FkZHJlc3MgPSBfbmV3Q0ZPOwogICAgfQp9CgoKLy8vIEBkZXYgRGVmaW5lcyBiYXNlIGRhdGEgc3RydWN0dXJlcyBmb3IgQ2hyb25vcy4KY29udHJhY3QgQ2hyb25vc0Jhc2UgaXMgQ2hyb25vc0FjY2Vzc0NvbnRyb2wgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CiAKICAgIC8vLyBAbm90aWNlIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIGEgZ2FtZSBpcyBsaXZlLgogICAgYm9vbCBwdWJsaWMgZ2FtZVN0YXJ0ZWQ7CiAgICAKICAgIC8vLyBAbm90aWNlIFRoZSBwbGF5ZXIgd2hvIHN0YXJ0ZWQgdGhlIGdhbWUuCiAgICBhZGRyZXNzIHB1YmxpYyBnYW1lU3RhcnRlcjsKICAgIAogICAgLy8vIEBub3RpY2UgVGhlIGxhc3QgcGxheWVyIHRvIGhhdmUgZW50ZXJlZC4KICAgIGFkZHJlc3MgcHVibGljIGxhc3RQbGF5ZXI7CiAgICAKICAgIC8vLyBAbm90aWNlIFRoZSB0aW1lc3RhbXAgb2YgdGhlIGxhc3QgcGxheS4KICAgIHVpbnQyNTYgcHVibGljIGxhc3RQbGF5VGltZXN0YW1wOwoKICAgIC8vLyBAbm90aWNlIFRoZSBudW1iZXIgb2Ygc2Vjb25kcyBiZWZvcmUgdGhlIGdhbWUgZW5kcy4KICAgIHVpbnQyNTYgcHVibGljIHRpbWVvdXQgPSAxMjA7CiAgICAKICAgIC8vLyBAbm90aWNlIFRoZSB3YWdlciBpbmRleCBvZiB0aGUgdGhlIGN1cnJlbnQgd2FnZXIgaW4gdGhlIGdhbWUuCiAgICB1aW50MjU2IHB1YmxpYyB3YWdlckluZGV4ID0gMDsKfQoKCi8qKgogKiBAdGl0bGUgUHVsbFBheW1lbnQKICogQGRldiBCYXNlIGNvbnRyYWN0IHN1cHBvcnRpbmcgYXN5bmMgc2VuZCBmb3IgcHVsbCBwYXltZW50cy4gSW5oZXJpdCBmcm9tIHRoaXMKICogY29udHJhY3QgYW5kIHVzZSBhc3luY1NlbmQgaW5zdGVhZCBvZiBzZW5kLgogKi8KY29udHJhY3QgUHVsbFBheW1lbnQgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIHBheW1lbnRzOwogIHVpbnQyNTYgcHVibGljIHRvdGFsUGF5bWVudHM7CgogIC8qKgogICogQGRldiB3aXRoZHJhdyBhY2N1bXVsYXRlZCBiYWxhbmNlLCBjYWxsZWQgYnkgcGF5ZWUuCiAgKi8KICBmdW5jdGlvbiB3aXRoZHJhd1BheW1lbnRzKCkgcHVibGljIHsKICAgIGFkZHJlc3MgcGF5ZWUgPSBtc2cuc2VuZGVyOwogICAgdWludDI1NiBwYXltZW50ID0gcGF5bWVudHNbcGF5ZWVdOwoKICAgIHJlcXVpcmUocGF5bWVudCAhPSAwKTsKICAgIHJlcXVpcmUodGhpcy5iYWxhbmNlID49IHBheW1lbnQpOwoKICAgIHRvdGFsUGF5bWVudHMgPSB0b3RhbFBheW1lbnRzLnN1YihwYXltZW50KTsKICAgIHBheW1lbnRzW3BheWVlXSA9IDA7CgogICAgYXNzZXJ0KHBheWVlLnNlbmQocGF5bWVudCkpOwogIH0KCiAgLyoqCiAgKiBAZGV2IENhbGxlZCBieSB0aGUgcGF5ZXIgdG8gc3RvcmUgdGhlIHNlbnQgYW1vdW50IGFzIGNyZWRpdCB0byBiZSBwdWxsZWQuCiAgKiBAcGFyYW0gZGVzdCBUaGUgZGVzdGluYXRpb24gYWRkcmVzcyBvZiB0aGUgZnVuZHMuCiAgKiBAcGFyYW0gYW1vdW50IFRoZSBhbW91bnQgdG8gdHJhbnNmZXIuCiAgKi8KICBmdW5jdGlvbiBhc3luY1NlbmQoYWRkcmVzcyBkZXN0LCB1aW50MjU2IGFtb3VudCkgaW50ZXJuYWwgewogICAgcGF5bWVudHNbZGVzdF0gPSBwYXltZW50c1tkZXN0XS5hZGQoYW1vdW50KTsKICAgIHRvdGFsUGF5bWVudHMgPSB0b3RhbFBheW1lbnRzLmFkZChhbW91bnQpOwogIH0KfQoKCi8vLyBAZGV2IERlZmluZXMgYmFzZSBmaW5hbmNlIGZ1bmN0aW9uYWxpdHkgZm9yIENocm9ub3MuCmNvbnRyYWN0IENocm9ub3NGaW5hbmNlIGlzIENocm9ub3NCYXNlLCBQdWxsUGF5bWVudCB7CiAgICAvLy8gQG5vdGljZSBUaGUgZGV2IGZlZSBpbiAxLzEwMDB0aAogICAgLy8vIG9mIGEgcGVyY2VudGFnZS4KICAgIHVpbnQyNTYgcHVibGljIGZlZVBlcmNlbnRhZ2UgPSAyNTAwOwogICAgCiAgICAvLy8gQG5vdGljZSBUaGUgZ2FtZSBzdGFydGVyIGZlZS4KICAgIHVpbnQyNTYgcHVibGljIGdhbWVTdGFydGVyRGl2aWRlbmRQZXJjZW50YWdlID0gMTAwMDsKICAgIAogICAgLy8vIEBub3RpY2UgVGhlIHByaWNlIHRvIHBsYXkuCiAgICB1aW50MjU2IHB1YmxpYyBwcmljZSA9IDAuMDA1IGV0aGVyOwogICAgCiAgICAvLy8gQG5vdGljZSBUaGUgY3VycmVudCBwcml6ZSBwb29sIChpbiB3ZWkpLgogICAgdWludDI1NiBwdWJsaWMgcHJpemVQb29sOwogICAgCiAgICAvLy8gQG5vdGljZSBUaGUgY3VycmVudCA3dGggd2FnZXIgcG9vbCAoaW4gd2VpKS4KICAgIHVpbnQyNTYgcHVibGljIHdhZ2VyUG9vbDsKICAgIAogICAgLy8vIEBkZXYgU2VuZCBmdW5kcyB0byBhIGJlbmVmaWNpYXJ5LiBJZiBzZW5kaW5nIGZhaWxzLCBhc3NpZ24KICAgIC8vLyBmdW5kcyB0byB0aGUgYmVuZWZpY2lhcnkncyBiYWxhbmNlIGZvciBtYW51YWwgd2l0aGRyYXdhbC4KICAgIC8vLyBAcGFyYW0gYmVuZWZpY2lhcnkgVGhlIGJlbmVmaWNpYXJ5J3MgYWRkcmVzcyB0byBzZW5kIGZ1bmRzIHRvCiAgICAvLy8gQHBhcmFtIGFtb3VudCBUaGUgYW1vdW50IHRvIHNlbmQuCiAgICBmdW5jdGlvbiBfc2VuZEZ1bmRzKGFkZHJlc3MgYmVuZWZpY2lhcnksIHVpbnQyNTYgYW1vdW50KSBpbnRlcm5hbCB7CiAgICAgICAgaWYgKCFiZW5lZmljaWFyeS5zZW5kKGFtb3VudCkpIHsKICAgICAgICAgICAgLy8gRmFpbGVkIHRvIHNlbmQgZnVuZHMuIFRoaXMgY2FuIGhhcHBlbiBkdWUgdG8gYSBmYWlsdXJlIGluCiAgICAgICAgICAgIC8vIGZhbGxiYWNrIGNvZGUgb2YgdGhlIGJlbmVmaWNpYXJ5LCBvciBiZWNhdXNlIG9mIGNhbGxzdGFjawogICAgICAgICAgICAvLyBkZXB0aC4KICAgICAgICAgICAgLy8gU2VuZCBmdW5kcyBhc3luY2hyb25vdXNseSBmb3IgbWFudWFsIHdpdGhkcmF3YWwgYnkgdGhlCiAgICAgICAgICAgIC8vIGJlbmVmaWNpYXJ5LgogICAgICAgICAgICBhc3luY1NlbmQoYmVuZWZpY2lhcnksIGFtb3VudCk7CiAgICAgICAgfQogICAgfQogICAgCiAgICAvLy8gQG5vdGljZSBXaXRoZHJhdyAodW5vd2VkKSBjb250cmFjdCBiYWxhbmNlLgogICAgZnVuY3Rpb24gd2l0aGRyYXdGcmVlQmFsYW5jZSgpIGV4dGVybmFsIG9ubHlDRk8gewogICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgZnJlZSAodW5vd2VkKSBiYWxhbmNlLgogICAgICAgIHVpbnQyNTYgZnJlZUJhbGFuY2UgPSB0aGlzLmJhbGFuY2Uuc3ViKHRvdGFsUGF5bWVudHMpLnN1Yihwcml6ZVBvb2wpLnN1Yih3YWdlclBvb2wpOwogICAgICAgIAogICAgICAgIGNmb0FkZHJlc3MudHJhbnNmZXIoZnJlZUJhbGFuY2UpOwogICAgfQp9CgoKLy8vIEBkZXYgRGVmaW5lcyBjb3JlIENocm9ub3MgZnVuY3Rpb25hbGl0eS4KY29udHJhY3QgQ2hyb25vc0NvcmUgaXMgQ2hyb25vc0ZpbmFuY2UgewogICAgZnVuY3Rpb24gQ2hyb25vc0NvcmUodWludDI1NiBfcHJpY2UsIHVpbnQyNTYgX3RpbWVvdXQpIHB1YmxpYyB7CiAgICAgICAgcHJpY2UgPSBfcHJpY2U7CiAgICAgICAgdGltZW91dCA9IF90aW1lb3V0OwogICAgfQogICAgCiAgICBldmVudCBTdGFydChhZGRyZXNzIGluZGV4ZWQgc3RhcnRlciwgdWludDI1NiB0aW1lc3RhbXApOwogICAgZXZlbnQgRW5kKGFkZHJlc3MgaW5kZXhlZCB3aW5uZXIsIHVpbnQyNTYgdGltZXN0YW1wLCB1aW50MjU2IHByaXplKTsKICAgIGV2ZW50IFBsYXkoYWRkcmVzcyBpbmRleGVkIHBsYXllciwgdWludDI1NiB0aW1lc3RhbXAsIHVpbnQyNTYgdGltZW91dFRpbWVzdGFtcCwgdWludDI1NiB3YWdlckluZGV4LCB1aW50MjU2IG5ld1ByaXplUG9vbCk7CiAgICAKICAgIC8vLyBAbm90aWNlIFBhcnRpY2lwYXRlIGluIHRoZSBnYW1lLgogICAgLy8vIEBwYXJhbSBzdGFydE5ld0dhbWVJZklkbGUgU3RhcnQgYSBuZXcgZ2FtZSBpZiB0aGUgY3VycmVudCBnYW1lIGlzIGlkbGUuCiAgICBmdW5jdGlvbiBwbGF5KGJvb2wgc3RhcnROZXdHYW1lSWZJZGxlKSBleHRlcm5hbCBwYXlhYmxlIHsKICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhlIGdhbWUgc2hvdWxkIGVuZC4gUHJvY2VzcyBwYXltZW50LgogICAgICAgIF9wcm9jZXNzR2FtZUVuZCgpOwogICAgICAgIAogICAgICAgIC8vIEVub3VnaCBFdGhlciBtdXN0IGJlIHN1cHBsaWVkLgogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IHByaWNlKTsKICAgICAgICAKICAgICAgICBpZiAoIWdhbWVTdGFydGVkKSB7CiAgICAgICAgICAgIC8vIElmIHRoZSBnYW1lIGlzIG5vdCBzdGFydGVkLCB0aGUgY29udHJhY3QgbXVzdCBub3QgYmUgcGF1c2VkLgogICAgICAgICAgICByZXF1aXJlKCFwYXVzZWQpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gSWYgdGhlIGdhbWUgaXMgbm90IHN0YXJ0ZWQsIHRoZSBwbGF5ZXIgbXVzdCBiZSB3aWxsaW5nIHRvIHN0YXJ0CiAgICAgICAgICAgIC8vIGEgbmV3IGdhbWUuCiAgICAgICAgICAgIHJlcXVpcmUoc3RhcnROZXdHYW1lSWZJZGxlKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFN0YXJ0IHRoZSBnYW1lLgogICAgICAgICAgICBnYW1lU3RhcnRlZCA9IHRydWU7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBTZXQgdGhlIGdhbWUgc3RhcnRlci4KICAgICAgICAgICAgZ2FtZVN0YXJ0ZXIgPSBtc2cuc2VuZGVyOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gRW1pdCBzdGFydCBldmVudC4KICAgICAgICAgICAgU3RhcnQobXNnLnNlbmRlciwgYmxvY2sudGltZXN0YW1wKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBmZWVzIGFuZCBkaXZpZGVuZHMuCiAgICAgICAgdWludDI1NiBmZWUgPSBwcmljZS5tdWwoZmVlUGVyY2VudGFnZSkuZGl2KDEwMDAwMCk7CiAgICAgICAgdWludDI1NiBkaXZpZGVuZCA9IHByaWNlLm11bChnYW1lU3RhcnRlckRpdmlkZW5kUGVyY2VudGFnZSkuZGl2KDEwMDAwMCk7CiAgICAgICAgdWludDI1NiB3YWdlclBvb2xQYXJ0ID0gcHJpY2UubXVsKDIpLmRpdig3KTsKICAgICAgICAKICAgICAgICAvLyBTZXQgdGhlIGxhc3QgcGxheWVyIGFuZCBibG9jaywgaW5jcmVhc2UgcHJpemUuCiAgICAgICAgbGFzdFBsYXllciA9IG1zZy5zZW5kZXI7CiAgICAgICAgbGFzdFBsYXlUaW1lc3RhbXAgPSBibG9jay50aW1lc3RhbXA7CiAgICAgICAgcHJpemVQb29sID0gcHJpemVQb29sLmFkZChwcmljZS5zdWIoZmVlKS5zdWIoZGl2aWRlbmQpLnN1Yih3YWdlclBvb2xQYXJ0KSk7CiAgICAgICAgCiAgICAgICAgLy8gRW1pdCBldmVudC4KICAgICAgICBQbGF5KG1zZy5zZW5kZXIsIGJsb2NrLnRpbWVzdGFtcCwgYmxvY2sudGltZXN0YW1wICsgdGltZW91dCwgd2FnZXJJbmRleCwgcHJpemVQb29sKTsKICAgICAgICAKICAgICAgICAvLyBTZW5kIHRoZSBnYW1lIHN0YXJ0ZXIgZGl2aWRlbmQuCiAgICAgICAgX3NlbmRGdW5kcyhnYW1lU3RhcnRlciwgZGl2aWRlbmQpOwogICAgICAgIAogICAgICAgIC8vIEdpdmUgdGhlIHdhZ2VyIHByaWNlIGV2ZXJ5IDd0aCB3YWdlci4KICAgICAgICBpZiAod2FnZXJJbmRleCA+IDAgJiYgKHdhZ2VySW5kZXggJSA3KSA9PSAwKSB7CiAgICAgICAgICAgIC8vIEdpdmUgdGhlIHdhZ2VyIHByaXplIHRvIHRoZSBzZW5kZXIuCiAgICAgICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIod2FnZXJQb29sKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFJlc2V0IHRoZSB3YWdlciBwb29sLgogICAgICAgICAgICB3YWdlclBvb2wgPSAwOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBBZGQgZnVuZHMgdG8gdGhlIHdhZ2VyIHBvb2wuCiAgICAgICAgd2FnZXJQb29sID0gd2FnZXJQb29sLmFkZCh3YWdlclBvb2xQYXJ0KTsKICAgICAgICAKICAgICAgICAvLyBJbmNyZW1lbnQgdGhlIHdhZ2VyIGluZGV4LgogICAgICAgIHdhZ2VySW5kZXggPSB3YWdlckluZGV4LmFkZCgxKTsKICAgICAgICAKICAgICAgICAvLyBSZWZ1bmQgYW55IGV4Y2VzcyBFdGhlciBzZW50LgogICAgICAgIC8vIFRoaXMgc3VidHJhY3Rpb24gbmV2ZXIgdW5kZXJmbG93cywgYXMgbXNnLnZhbHVlIGlzIGd1YXJhbnRlZWQKICAgICAgICAvLyB0byBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gcHJpY2UuCiAgICAgICAgdWludDI1NiBleGNlc3MgPSBtc2cudmFsdWUgLSBwcmljZTsKICAgICAgICAKICAgICAgICBpZiAoZXhjZXNzID4gMCkgewogICAgICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGV4Y2Vzcyk7CiAgICAgICAgfQogICAgfQogICAgCiAgICAvLy8gQG5vdGljZSBFbmQgdGhlIGdhbWUuIFBheSBwcml6ZS4KICAgIGZ1bmN0aW9uIGVuZEdhbWUoKSBleHRlcm5hbCB7CiAgICAgICAgcmVxdWlyZShfcHJvY2Vzc0dhbWVFbmQoKSk7CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IEVuZCB0aGUgZ2FtZS4gUGF5IHByaXplLgogICAgZnVuY3Rpb24gX3Byb2Nlc3NHYW1lRW5kKCkgaW50ZXJuYWwgcmV0dXJucyhib29sKSB7CiAgICAgICAgaWYgKCFnYW1lU3RhcnRlZCkgewogICAgICAgICAgICAvLyBObyBnYW1lIGlzIHN0YXJ0ZWQuCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAKICAgICAgICBpZiAoYmxvY2sudGltZXN0YW1wIDw9IGxhc3RQbGF5VGltZXN0YW1wICsgdGltZW91dCkgewogICAgICAgICAgICAvLyBUaGUgZ2FtZSBoYXMgbm90IHlldCBmaW5pc2hlZC4KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBUaGUgZ2FtZSBoYXMgZmluaXNoZWQuIFBheSB0aGUgcHJpemUgdG8gdGhlIGxhc3QgcGxheWVyLgogICAgICAgIF9zZW5kRnVuZHMobGFzdFBsYXllciwgcHJpemVQb29sKTsKICAgICAgICAKICAgICAgICAvLyBFbWl0IGV2ZW50LgogICAgICAgIEVuZChsYXN0UGxheWVyLCBsYXN0UGxheVRpbWVzdGFtcCwgcHJpemVQb29sKTsKICAgICAgICAKICAgICAgICAvLyBSZXNldCB0aGUgZ2FtZS4KICAgICAgICBnYW1lU3RhcnRlZCA9IGZhbHNlOwogICAgICAgIGdhbWVTdGFydGVyID0gMHgwOwogICAgICAgIGxhc3RQbGF5ZXIgPSAweDA7CiAgICAgICAgbGFzdFBsYXlUaW1lc3RhbXAgPSAwOwogICAgICAgIHdhZ2VySW5kZXggPSAwOwogICAgICAgIHByaXplUG9vbCA9IDA7CiAgICAgICAgd2FnZXJQb29sID0gMDsKICAgICAgICAKICAgICAgICAvLyBJbmRpY2F0ZSBlbmRpbmcgdGhlIGdhbWUgd2FzIHN1Y2Nlc3NmdWwuCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0='.
	

]
