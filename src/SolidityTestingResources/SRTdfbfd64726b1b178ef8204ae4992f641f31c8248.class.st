Class {
	#name : #SRTdfbfd64726b1b178ef8204ae4992f641f31c8248,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTdfbfd64726b1b178ef8204ae4992f641f31c8248 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKioKICogRWxvcGxheSBDcm93ZHNhbGUgVG9rZW4gQ29udHJhY3QKICogQGF1dGhvciBFbG9wbGF5IHRlYW0gKDIwMTcpCiAqIFRoZSBNSVQgTGljZW5jZQogKi8KCgovKioKICogU2FmZSBtYXRocywgYm9ycm93ZWQgZnJvbSBPcGVuWmVwcGVsaW4KICogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9ibG9iL21hc3Rlci9jb250cmFjdHMvbWF0aC9TYWZlTWF0aC5zb2wKICovCmxpYnJhcnkgU2FmZU1hdGggewoKICAgIC8qKgogICAgICogQWRkIGEgbnVtYmVyIHRvIGFub3RoZXIgbnVtYmVyLCBjaGVja2luZyBmb3Igb3ZlcmZsb3dzCiAgICAgKgogICAgICogQHBhcmFtIGEgICAgICAgICAgIGZpcnN0IG51bWJlcgogICAgICogQHBhcmFtIGIgICAgICAgICAgIHNlY29uZCBudW1iZXIKICAgICAqIEByZXR1cm4gICAgICAgICAgICBzdW0gb2YgYSArIGIKICAgICAqLwogICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgIH0KCiAgICAvKioKICAgICAqIFN1YnRyYWN0IGEgbnVtYmVyIGZyb20gYW5vdGhlciBudW1iZXIsIGNoZWNraW5nIGZvciB1bmRlcmZsb3dzCiAgICAgKgogICAgICogQHBhcmFtIGEgICAgICAgICAgIGZpcnN0IG51bWJlcgogICAgICogQHBhcmFtIGIgICAgICAgICAgIHNlY29uZCBudW1iZXIKICAgICAqIEByZXR1cm4gICAgICAgICAgICBhIC0gYgogICAgICovCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9Cgp9CgoKLyoqCiAqIE93bmVkIGNvbnRyYWN0IGdpdmVzIG93bmVyc2hpcCBjaGVja2luZwogKi8KY29udHJhY3QgT3duZWQgewoKICAgIC8qKgogICAgICogQ3VycmVudCBjb250cmFjdCBvd25lcgogICAgICovCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIC8qKgogICAgICogTmV3IG93bmVyIC8gcHJldGVuZGVyCiAgICAgKi8KICAgIGFkZHJlc3MgcHVibGljIG5ld093bmVyOwoKICAgIC8qKgogICAgICogRXZlbnQgZmlyZXMgd2hlbiBvd25lcnNoaXAgaXMgdHJhbnNmZXJyZWQgYW5kIGFjY2VwdGVkCiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tICAgICAgICAgaW5pdGlhbCBvd25lcgogICAgICogQHBhcmFtIF90byAgICAgICAgICAgbmV3IG93bmVyCiAgICAgKi8KICAgIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90byk7CgogICAgLyoqCiAgICAgKiBPd25lZCBjb250cmFjdCBjb25zdHJ1Y3RvcgogICAgICovCiAgICBmdW5jdGlvbiBPd25lZCgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgLyoqCiAgICAgKiBNb2RpZmllciAtIHVzZWQgdG8gY2hlY2sgYWN0aW9ucyBhbGxvd2VkIG9ubHkgZm9yIGNvbnRyYWN0IG93bmVyCiAgICAgKi8KICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogUmVxdWVzdCB0byBjaGFuZ2Ugb3duZXJzaGlwIChjYWxsZWQgYnkgY3VycmVudCBvd25lcikKICAgICAqCiAgICAgKiBAcGFyYW0gX25ld093bmVyICAgICAgICAgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8KICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICAgICAgbmV3T3duZXIgPSBfbmV3T3duZXI7CiAgICB9CgogICAgLyoqCiAgICAgKiBBY2NlcHQgb3duZXJzaGlwIHJlcXVlc3QsIHdvcmtzIG9ubHkgaWYgY2FsbGVkIGJ5IG5ldyBvd25lcgogICAgICovCiAgICBmdW5jdGlvbiBhY2NlcHRPd25lcnNoaXAoKSB7CiAgICAgICAgLy8gQXZvaWQgbXVsdGlwbGUgZXZlbnRzIHRyaWdnZXJpbmcgaW4gY2FzZSBvZiBzZXZlcmFsIGNhbGxzIGZyb20gb3duZXIKICAgICAgICBpZiAobXNnLnNlbmRlciA9PSBuZXdPd25lciAmJiBvd25lciAhPSBuZXdPd25lcikgewogICAgICAgICAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgICAgIH0KICAgIH0KfQoKCi8qKgogKiBFUkMyMCBUb2tlbiwgd2l0aCB0aGUgYWRkaXRpb24gb2Ygc3ltYm9sLCBuYW1lIGFuZCBkZWNpbWFscwogKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwVG9rZW4gewogICAgLyoqCiAgICAgKiBVc2UgU2FmZU1hdGggdG8gY2hlY2sgb3Zlci91bmRlcmZsb3dzCiAgICAgKi8KICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICAgIC8qKgogICAgICogVG90YWwgU3VwcGx5CiAgICAgKi8KICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5ID0gMDsKCiAgICAvKioKICAgICAqIEJhbGFuY2VzIGZvciBlYWNoIGFjY291bnQKICAgICAqLwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2Y7CgogICAgLyoqCiAgICAgKiBPd25lciBvZiBhY2NvdW50IGFwcHJvdmVzIHRoZSB0cmFuc2ZlciBvZiBhbiBhbW91bnQgdG8gYW5vdGhlciBhY2NvdW50CiAgICAgKi8KICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dhbmNlOwoKICAgIC8qKgogICAgICogRXZlbnQgZmlyZXMgd2hlbiB0b2tlbnMgYXJlIHRyYW5zZmVycmVkCiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tICAgICAgICAgc3BlbmRlciBhZGRyZXNzCiAgICAgKiBAcGFyYW0gX3RvICAgICAgICAgICB0YXJnZXQgYWRkcmVzcwogICAgICogQHBhcmFtIF92YWx1ZSAgICAgICAgYW1vdW50IG9mIHRva2VucwogICAgICovCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKCiAgICAvKioKICAgICAqIEV2ZW50IGZpcmVzIHdoZW4gc3BlbmRpbmcgb2YgdG9rZW5zIGFyZSBhcHByb3ZlZAogICAgICoKICAgICAqIEBwYXJhbSBfb3duZXIgICAgICAgIG93bmVyIGFkZHJlc3MKICAgICAqIEBwYXJhbSBfc3BlbmRlciAgICAgIHNwZW5kZXIgYWRkcmVzcwogICAgICogQHBhcmFtIF92YWx1ZSAgICAgICAgYW1vdW50IG9mIGFsbG93ZWQgdG9rZW5zCiAgICAgKi8KICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwoKICAgIC8qKgogICAgICogVHJhbnNmZXIgdGhlIGJhbGFuY2UgZnJvbSBvd25lcidzIGFjY291bnQgdG8gYW5vdGhlciBhY2NvdW50CiAgICAgKgogICAgICogQHBhcmFtIF90byAgICAgICAgIHRhcmdldCBhZGRyZXNzCiAgICAgKiBAcGFyYW0gX2Ftb3VudCAgICAgYW1vdW50IG9mIHRva2VucwogICAgICogQHJldHVybiAgICAgICAgICAgIHRydWUgb24gc3VjY2VzcwogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoYmFsYW5jZU9mW21zZy5zZW5kZXJdID49IF9hbW91bnQgICAgICAgICAgICAgICAgLy8gVXNlciBoYXMgYmFsYW5jZQogICAgICAgICAgICAmJiBfYW1vdW50ID4gMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vbi16ZXJvIHRyYW5zZmVyCiAgICAgICAgICAgICYmIGJhbGFuY2VPZltfdG9dICsgX2Ftb3VudCA+IGJhbGFuY2VPZltfdG9dICAgICAvLyBPdmVyZmxvdyBjaGVjawogICAgICAgICkgewogICAgICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gLT0gX2Ftb3VudDsKICAgICAgICAgICAgYmFsYW5jZU9mW190b10gKz0gX2Ftb3VudDsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfYW1vdW50KTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEFsbG93IF9zcGVuZGVyIHRvIHdpdGhkcmF3IGZyb20geW91ciBhY2NvdW50LCBtdWx0aXBsZSB0aW1lcywgdXAgdG8gdGhlCiAgICAgKiBfdmFsdWUgYW1vdW50LiBJZiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBhZ2FpbiBpdCBvdmVyd3JpdGVzIHRoZQogICAgICogY3VycmVudCBhbGxvd2FuY2Ugd2l0aCBfdmFsdWUuCiAgICAgKgogICAgICogQHBhcmFtIF9zcGVuZGVyICAgIHNwZW5kZXIgYWRkcmVzcwogICAgICogQHBhcmFtIF9hbW91bnQgICAgIGFtb3VudCBvZiB0b2tlbnMKICAgICAqIEByZXR1cm4gICAgICAgICAgICB0cnVlIG9uIHN1Y2Nlc3MKICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93YW5jZVttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfYW1vdW50OwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNwZW5kZXIgb2YgdG9rZW5zIHRyYW5zZmVyIGFuIGFtb3VudCBvZiB0b2tlbnMgZnJvbSB0aGUgdG9rZW4gb3duZXIncwogICAgICogYmFsYW5jZSB0byB0aGUgc3BlbmRlcidzIGFjY291bnQuIFRoZSBvd25lciBvZiB0aGUgdG9rZW5zIG11c3QgYWxyZWFkeQogICAgICogaGF2ZSBhcHByb3ZlKC4uLiktZCB0aGlzIHRyYW5zZmVyCiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tICAgICAgIHNwZW5kZXIgYWRkcmVzcwogICAgICogQHBhcmFtIF90byAgICAgICAgIHRhcmdldCBhZGRyZXNzCiAgICAgKiBAcGFyYW0gX2Ftb3VudCAgICAgYW1vdW50IG9mIHRva2VucwogICAgICogQHJldHVybiAgICAgICAgICAgIHRydWUgb24gc3VjY2VzcwogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYgKGJhbGFuY2VPZltfZnJvbV0gPj0gX2Ftb3VudCAgICAgICAgICAgICAgICAgIC8vIEZyb20gYS9jIGhhcyBiYWxhbmNlCiAgICAgICAgICAgICYmIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCAgICAvLyBUcmFuc2ZlciBhcHByb3ZlZAogICAgICAgICAgICAmJiBfYW1vdW50ID4gMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vbi16ZXJvIHRyYW5zZmVyCiAgICAgICAgICAgICYmIGJhbGFuY2VPZltfdG9dICsgX2Ftb3VudCA+IGJhbGFuY2VPZltfdG9dICAvLyBPdmVyZmxvdyBjaGVjawogICAgICAgICkgewogICAgICAgICAgICBiYWxhbmNlT2ZbX2Zyb21dIC09IF9hbW91bnQ7CiAgICAgICAgICAgIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX2Ftb3VudDsKICAgICAgICAgICAgYmFsYW5jZU9mW190b10gKz0gX2Ftb3VudDsKICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9Cn0KCgpjb250cmFjdCBFbG9QbGF5VG9rZW4gaXMgRVJDMjBUb2tlbiwgT3duZWQgewoKICAgIC8qKgogICAgICogVG9rZW4gZGF0YQogICAgICovCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJFTFQiOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkVsb1BsYXlUb2tlbiI7CiAgICB1aW50OCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKCiAgICAvKioKICAgICAqIFdhbGxldCB3aGVyZSBpbnZlc3RlZCBFdGhlcnMgd2lsbCBiZSBzZW50CiAgICAgKi8KICAgIGFkZHJlc3MgcHVibGljIFRBUkdFVF9BRERSRVNTOwoKICAgIC8qKgogICAgICogV2FsbGV0IHdoZXJlIGJvbnVzIHRva2VucyB3aWxsIGJlIHNlbnQKICAgICAqLwogICAgYWRkcmVzcyBwdWJsaWMgVEFSR0VUX1RPS0VOU19BRERSRVNTOwoKICAgIC8qKgogICAgICogU3RhcnQvZW5kIHRpbWVzdGFtcCAodW5peCkKICAgICAqLwogICAgdWludDI1NiBwdWJsaWMgU1RBUlRfVFM7CiAgICB1aW50MjU2IHB1YmxpYyBFTkRfVFM7CgogICAgLyoqCiAgICAgKiBDQVAgaW4gZXRoZXIgLSBtYXkgYmUgY2hhbmdlZCBiZWZvcmUgY3Jvd2RzYWxlIHN0YXJ0cyB0byBtYXRjaCBhY3R1YWwgRVRIL1VTRCByYXRlCiAgICAgKi8KICAgIHVpbnQyNTYgcHVibGljIENBUDsKCiAgICAvKioKICAgICAqIFVzZC9ldGggcmF0ZSBhdCBzdGFydCBvZiBJQ08uIFVzZWQgZm9yIHJhaXNlZCBmdW5kcyBjYWxjdWxhdGlvbnMKICAgICAqLwogICAgdWludDI1NiBwdWJsaWMgVVNERVRIUkFURTsKCiAgICAvKioKICAgICAqIElzIGNvbnRyYWN0IGhhbHRlZCAoaW4gY2FzZSBvZiBlbWVyZ2VuY3kpCiAgICAgKiBEZWZhdWx0IHZhbHVlIHdpbGwgYmUgZmFsc2UgKG5vdCBoYWx0ZWQpCiAgICAgKi8KICAgIGJvb2wgcHVibGljIGhhbHRlZDsKCiAgICAvKioKICAgICAqIFRvdGFsIEV0aGVycyBpbnZlc3RlZAogICAgICovCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbEV0aGVyczsKCiAgICAvKioKICAgICAqIEV2ZW50IGZpcmVzIHdoZW4gdG9rZW5zIGFyZSBib3VnaHQKICAgICAqCiAgICAgKiBAcGFyYW0gYnV5ZXIgICAgICAgICAgICAgICAgICAgICB0b2tlbnMgYnV5ZXIKICAgICAqIEBwYXJhbSBldGhlcnMgICAgICAgICAgICAgICAgICAgIHRvdGFsIEV0aGVycyBpbnZlc3RlZCAoaW4gd2VpKQogICAgICogQHBhcmFtIG5ld19ldGhlcl9iYWxhbmNlICAgICAgICAgbmV3IEV0aGVycyBiYWxhbmNlIChpbiB3ZWkpCiAgICAgKiBAcGFyYW0gdG9rZW5zICAgICAgICAgICAgICAgICAgICB0b2tlbnMgYm91Z2h0IGZvciB0cmFuc2FjdGlvbgogICAgICogQHBhcmFtIHRhcmdldF9hZGRyZXNzX3Rva2VucyAgICAgYWRkaXRpb25hbCB0b2tlbnMgZ2VuZXJhdGVkIGZvciBtdWx0aXNpZ25hdHVyZSB3YWxsZXQKICAgICAqIEBwYXJhbSBuZXdfdG90YWxfc3VwcGx5ICAgICAgICAgIHRvdGFsIHRva2VucyBib3VnaHQKICAgICAqIEBwYXJhbSBidXlfcHJpY2UgICAgICAgICAgICAgICAgIHRva2Vucy9FVEggcmF0ZSBmb3IgdHJhbnNhY3Rpb24KICAgICAqLwogICAgZXZlbnQgVG9rZW5zQm91Z2h0KGFkZHJlc3MgaW5kZXhlZCBidXllciwgdWludDI1NiBldGhlcnMsCiAgICAgICAgdWludDI1NiBuZXdfZXRoZXJfYmFsYW5jZSwgdWludDI1NiB0b2tlbnMsIHVpbnQyNTYgdGFyZ2V0X2FkZHJlc3NfdG9rZW5zLAogICAgICAgIHVpbnQyNTYgbmV3X3RvdGFsX3N1cHBseSwgdWludDI1NiBidXlfcHJpY2UpOwoKICAgIC8qKgogICAgICogRXZlbnQgZmlyZXMgd2hlbiB0b2tlbnMgYXJlIGJvdWdodAogICAgICoKICAgICAqIEBwYXJhbSBiYWNrZXIgICAgICAgICAgICAgICAgICAgIGJ1eWVyCiAgICAgKiBAcGFyYW0gYW1vdW50ICAgICAgICAgICAgICAgICAgICB0b3RhbCBFdGhlcnMgaW52ZXN0ZWQgKGluIHdlaSkKICAgICAqIEBwYXJhbSBpc0NvbnRyaWJ1dGlvbiAgICAgICAgICAgIGFsd2F5cyB0cnVlIGluIG91ciBjYXNlCiAgICAgKi8KICAgIGV2ZW50IEZ1bmRUcmFuc2ZlcihhZGRyZXNzIGJhY2tlciwgdWludCBhbW91bnQsIGJvb2wgaXNDb250cmlidXRpb24pOwoKCiAgICAvKioKICAgICAqIEVsb1BsYXlUb2tlbiBjb250cmFjdCBjb25zdHJ1Y3RvcgogICAgICoKICAgICAqIEBwYXJhbSBfc3RhcnRfdHMgICAgICAgICBjcm93ZHNhbGUgc3RhcnQgdGltZXN0YW1wICh1bml4KQogICAgICogQHBhcmFtIF9lbmRfdHMgICAgICAgICAgIGNyb3dkc2FsZSBlbmQgdGltZXN0YW1wICh1bml4KQogICAgICogQHBhcmFtIF9jYXAgICAgICAgICAgICAgIGNyb3dkc2FsZSB1cHBlciBjYXAgKGluIHdlaSkKICAgICAqIEBwYXJhbSBfdGFyZ2V0X2FkZHJlc3MgICBtdWx0aXNpZ25hdHVyZSB3YWxsZXQgd2hlcmUgRXRoZXJzIHdpbGwgYmUgc2VudCB0bwogICAgICogQHBhcmFtIF90YXJnZXRfdG9rZW5zX2FkZHJlc3MgICBhY2NvdW50IHdoZXJlIDMwJSBvZiB0b2tlbnMgd2lsbCBiZSBzZW50IHRvCiAgICAgKiBAcGFyYW0gX3VzZGV0aHJhdGUgICAgICAgVVNEIHRvIEVUSCByYXRlCiAgICAgKi8KICAgIGZ1bmN0aW9uIEVsb1BsYXlUb2tlbih1aW50MjU2IF9zdGFydF90cywgdWludDI1NiBfZW5kX3RzLCB1aW50MjU2IF9jYXAsIGFkZHJlc3MgX3RhcmdldF9hZGRyZXNzLCAgYWRkcmVzcyBfdGFyZ2V0X3Rva2Vuc19hZGRyZXNzLCB1aW50MjU2IF91c2RldGhyYXRlKSB7CiAgICAgICAgU1RBUlRfVFMgICAgICAgID0gX3N0YXJ0X3RzOwogICAgICAgIEVORF9UUyAgICAgICAgICA9IF9lbmRfdHM7CiAgICAgICAgQ0FQICAgICAgICAgICAgID0gX2NhcDsKICAgICAgICBVU0RFVEhSQVRFICAgICAgPSBfdXNkZXRocmF0ZTsKICAgICAgICBUQVJHRVRfQUREUkVTUyAgPSBfdGFyZ2V0X2FkZHJlc3M7CiAgICAgICAgVEFSR0VUX1RPS0VOU19BRERSRVNTICA9IF90YXJnZXRfdG9rZW5zX2FkZHJlc3M7CiAgICB9CgogICAgLyoqCiAgICAgKiBVcGRhdGUgY2FwIGJlZm9yZSBjcm93ZHNhbGUgc3RhcnRzCiAgICAgKgogICAgICogQHBhcmFtIF9jYXAgICAgICAgICAgbmV3IGNyb3dkc2FsZSB1cHBlciBjYXAgKGluIHdlaSkKICAgICAqIEBwYXJhbSBfdXNkZXRocmF0ZSAgIFVTRCB0byBFVEggcmF0ZQogICAgICovCiAgICBmdW5jdGlvbiB1cGRhdGVDYXAodWludDI1NiBfY2FwLCB1aW50MjU2IF91c2RldGhyYXRlKSBvbmx5T3duZXIgewogICAgICAgIC8vIERvbid0IHByb2Nlc3MgaWYgaGFsdGVkCiAgICAgICAgcmVxdWlyZSghaGFsdGVkKTsKICAgICAgICAvLyBNYWtlIHN1cmUgY3Jvd2RzYWxlIGlzbnQgc3RhcnRlZCB5ZXQKICAgICAgICByZXF1aXJlKG5vdyA8IFNUQVJUX1RTKTsKICAgICAgICBDQVAgPSBfY2FwOwogICAgICAgIFVTREVUSFJBVEUgPSBfdXNkZXRocmF0ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCByYWlzZWQgVVNEIGJhc2VkIG9uIFVTREVUSFJBVEUKICAgICAqCiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgVVNEIHJhaXNlZCB2YWx1ZQogICAgICovCiAgICBmdW5jdGlvbiB0b3RhbFVTRCgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gdG90YWxFdGhlcnMgKiBVU0RFVEhSQVRFOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IHRva2VucyBwZXIgRVRIIGZvciBjdXJyZW50IGRhdGUvdGltZQogICAgICoKICAgICAqIEByZXR1cm4gICAgICAgICAgICBjdXJyZW50IHRva2Vucy9FVEggcmF0ZQogICAgICovCiAgICBmdW5jdGlvbiBidXlQcmljZSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYnV5UHJpY2VBdChub3cpOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IHRva2VucyBwZXIgRVRIIGZvciBnaXZlbiBkYXRlL3RpbWUKICAgICAqCiAgICAgKiBAcGFyYW0gX2F0ICAgICAgICAgdGltZXN0YW1wICh1bml4KQogICAgICogQHJldHVybiAgICAgICAgICAgIHRva2Vucy9FVEggcmF0ZSBmb3IgZ2l2ZW4gdGltZXN0YW1wCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJ1eVByaWNlQXQodWludDI1NiBfYXQpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBpZiAoX2F0IDwgU1RBUlRfVFMpIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfSBlbHNlIGlmIChfYXQgPCBTVEFSVF9UUyArIDM2MDApIHsKICAgICAgICAgICAgLy8gMXN0IGhvdXIgPSAxMDAwMCArIDIwJSA9IDEyMDAwCiAgICAgICAgICAgIHJldHVybiAxMjAwMDsKICAgICAgICB9IGVsc2UgaWYgKF9hdCA8IFNUQVJUX1RTICsgMzYwMCAqIDI0KSB7CiAgICAgICAgICAgIC8vIDFzdCBkYXkgPSAxMDAwMCArIDE1JSA9IDExNTAwCiAgICAgICAgICAgIHJldHVybiAxMTUwMDsKICAgICAgICB9IGVsc2UgaWYgKF9hdCA8IFNUQVJUX1RTICsgMzYwMCAqIDI0ICogNykgewogICAgICAgICAgICAvLyAxc3Qgd2VlayA9IDEwMDAwICsgMTAlID0gMTEwMDAKICAgICAgICAgICAgcmV0dXJuIDExMDAwOwogICAgICAgIH0gZWxzZSBpZiAoX2F0IDwgU1RBUlRfVFMgKyAzNjAwICogMjQgKiA3ICogMikgewogICAgICAgICAgICAvLyAybmQgd2VlayA9IDEwMDAwICsgNSUgPSAxMDUwMAogICAgICAgICAgICByZXR1cm4gMTA1MDA7CiAgICAgICAgfSBlbHNlIGlmIChfYXQgPD0gRU5EX1RTKSB7CiAgICAgICAgICAgIC8vIE1vcmUgdGhhbiAyIHdlZWtzID0gMTAwMDAKICAgICAgICAgICAgcmV0dXJuIDEwMDAwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEhhbHQgdHJhbnNhY3Rpb25zIGluIGNhc2Ugb2YgZW1lcmdlbmN5CiAgICAgKi8KICAgIGZ1bmN0aW9uIGhhbHQoKSBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoIWhhbHRlZCk7CiAgICAgICAgaGFsdGVkID0gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFVuaGFsdCBoYWx0ZWQgY29udHJhY3QKICAgICAqLwogICAgZnVuY3Rpb24gdW5oYWx0KCkgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKGhhbHRlZCk7CiAgICAgICAgaGFsdGVkID0gZmFsc2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBPd25lciB0byBhZGQgcHJlY29tbWl0bWVudCBmdW5kaW5nIHRva2VuIGJhbGFuY2UgYmVmb3JlIHRoZSBjcm93ZHNhbGUgY29tbWVuY2VzCiAgICAgKiBVc2VkIGZvciBwcmUtc2FsZSBjb21taXRtZW50cywgYWRkZWQgbWFudWFsbHkKICAgICAqCiAgICAgKiBAcGFyYW0gX3BhcnRpY2lwYW50ICAgICAgICAgYWRkcmVzcyB0aGF0IHdpbGwgcmVjZWl2ZSB0b2tlbnMKICAgICAqIEBwYXJhbSBfYmFsYW5jZSAgICAgICAgICAgICBudW1iZXIgb2YgdG9rZW5zCiAgICAgKiBAcGFyYW0gX2V0aGVycyAgICAgICAgIEV0aGVycyB2YWx1ZSAobmVlZGVkIGZvciBzdGF0cykKICAgICAqCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFkZFByZWNvbW1pdG1lbnQoYWRkcmVzcyBfcGFydGljaXBhbnQsIHVpbnQyNTYgX2JhbGFuY2UsIHVpbnQyNTYgX2V0aGVycykgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG5vdyA8IFNUQVJUX1RTKTsKICAgICAgICAvLyBNaW5pbXVtIHZhbHVlID0gMUVMVAogICAgICAgIC8vIFNpbmNlIHdlIGFyZSB1c2luZyAxOCBkZWNpbWFscyBmb3IgdG9rZW4KICAgICAgICByZXF1aXJlKF9iYWxhbmNlID49IDEgZXRoZXIpOwoKICAgICAgICAvLyBUbyBhdm9pZCBvdmVyZmxvdywgZmlyc3QgZGl2aWRlIHRoZW4gbXVsdGlwbHkgKHRvIGNsZWFybHkgc2hvdyA3MCUrMzAlLCByZXN1bHQgd2Fzbid0IHByZWNhbGN1bGF0ZWQpCiAgICAgICAgdWludCBhZGRpdGlvbmFsX3Rva2VucyA9IF9iYWxhbmNlIC8gNzAgKiAzMDsKCiAgICAgICAgYmFsYW5jZU9mW19wYXJ0aWNpcGFudF0gPSBiYWxhbmNlT2ZbX3BhcnRpY2lwYW50XS5hZGQoX2JhbGFuY2UpOwogICAgICAgIGJhbGFuY2VPZltUQVJHRVRfVE9LRU5TX0FERFJFU1NdID0gYmFsYW5jZU9mW1RBUkdFVF9UT0tFTlNfQUREUkVTU10uYWRkKGFkZGl0aW9uYWxfdG9rZW5zKTsKCiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX2JhbGFuY2UpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKGFkZGl0aW9uYWxfdG9rZW5zKTsKCiAgICAgICAgLy8gQWRkIEVUSCByYWlzZWQgdG8gdG90YWwKICAgICAgICB0b3RhbEV0aGVycyA9IHRvdGFsRXRoZXJzLmFkZChfZXRoZXJzKTsKCiAgICAgICAgVHJhbnNmZXIoMHgwLCBfcGFydGljaXBhbnQsIF9iYWxhbmNlKTsKICAgICAgICBUcmFuc2ZlcigweDAsIFRBUkdFVF9UT0tFTlNfQUREUkVTUywgYWRkaXRpb25hbF90b2tlbnMpOwogICAgfQoKICAgIC8qKgogICAgICogQnV5IHRva2VucyBmcm9tIHRoZSBjb250cmFjdAogICAgICovCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsKICAgICAgICBwcm94eVBheW1lbnQobXNnLnNlbmRlcik7CiAgICB9CgogICAgLyoqCiAgICAgKiBFeGNoYW5nZXMgY2FuIGJ1eSBvbiBiZWhhbGYgb2YgcGFydGljaXBhbnQKICAgICAqCiAgICAgKiBAcGFyYW0gX3BhcnRpY2lwYW50ICAgICAgICAgYWRkcmVzcyB0aGF0IHdpbGwgcmVjZWl2ZSB0b2tlbnMKICAgICAqLwogICAgZnVuY3Rpb24gcHJveHlQYXltZW50KGFkZHJlc3MgX3BhcnRpY2lwYW50KSBwYXlhYmxlIHsKICAgICAgICAvLyBEb24ndCBwcm9jZXNzIGlmIGhhbHRlZAogICAgICAgIHJlcXVpcmUoIWhhbHRlZCk7CiAgICAgICAgLy8gTm8gY29udHJpYnV0aW9ucyBiZWZvcmUgdGhlIHN0YXJ0IG9mIHRoZSBjcm93ZHNhbGUKICAgICAgICByZXF1aXJlKG5vdyA+PSBTVEFSVF9UUyk7CiAgICAgICAgLy8gTm8gY29udHJpYnV0aW9ucyBhZnRlciB0aGUgZW5kIG9mIHRoZSBjcm93ZHNhbGUKICAgICAgICByZXF1aXJlKG5vdyA8PSBFTkRfVFMpOwogICAgICAgIC8vIE5vIGNvbnRyaWJ1dGlvbnMgYWZ0ZXIgQ0FQIGlzIHJlYWNoZWQKICAgICAgICByZXF1aXJlKHRvdGFsRXRoZXJzIDwgQ0FQKTsKICAgICAgICAvLyBSZXF1aXJlIDAuMSBldGggbWluaW11bQogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IDAuMSBldGhlcik7CgogICAgICAgIC8vIEFkZCBFVEggcmFpc2VkIHRvIHRvdGFsCiAgICAgICAgdG90YWxFdGhlcnMgPSB0b3RhbEV0aGVycy5hZGQobXNnLnZhbHVlKTsKICAgICAgICAvLyBDYW5ub3QgZXhjZWVkIGNhcCBtb3JlIHRoYW4gMC4xIEVUSCAodG8gYmUgYWJsZSB0byBmaW5pc2ggSUNPIGlmIENBUCAtIHRvdGFsRXRoZXJzIDwgMC4xKQogICAgICAgIHJlcXVpcmUodG90YWxFdGhlcnMgPCBDQVAgKyAwLjEgZXRoZXIpOwoKICAgICAgICAvLyBXaGF0IGlzIHRoZSBFTFQgdG8gRVRIIHJhdGUKICAgICAgICB1aW50MjU2IF9idXlQcmljZSA9IGJ1eVByaWNlKCk7CgogICAgICAgIC8vIENhbGN1bGF0ZSAjRUxUIC0gdGhpcyBpcyBzYWZlIGFzIF9idXlQcmljZSBpcyBrbm93bgogICAgICAgIC8vIGFuZCBtc2cudmFsdWUgaXMgcmVzdHJpY3RlZCB0byB2YWxpZCB2YWx1ZXMKICAgICAgICB1aW50IHRva2VucyA9IG1zZy52YWx1ZSAqIF9idXlQcmljZTsKCiAgICAgICAgLy8gQ2hlY2sgdG9rZW5zID4gMAogICAgICAgIHJlcXVpcmUodG9rZW5zID4gMCk7CiAgICAgICAgLy8gQ29tcHV0ZSB0b2tlbnMgZm9yIGZvdW5kYXRpb247IHVzZXIgdG9rZW5zID0gNzAlOyBUQVJHRVRfQUREUkVTUyA9IDMwJQogICAgICAgIC8vIE51bWJlciBvZiB0b2tlbnMgcmVzdHJpY3RlZCBzbyBtYXRocyBpcyBzYWZlCiAgICAgICAgLy8gVG8gY2xlYXJseSBzaG93IDcwJSszMCUsIHJlc3VsdCB3YXNuJ3QgcHJlY2FsY3VsYXRlZAogICAgICAgIHVpbnQgYWRkaXRpb25hbF90b2tlbnMgPSB0b2tlbnMgKiAzMCAvIDcwOwoKICAgICAgICAvLyBBZGQgdG8gdG90YWwgc3VwcGx5CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQodG9rZW5zKTsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChhZGRpdGlvbmFsX3Rva2Vucyk7CgogICAgICAgIC8vIEFkZCB0byBiYWxhbmNlcwogICAgICAgIGJhbGFuY2VPZltfcGFydGljaXBhbnRdID0gYmFsYW5jZU9mW19wYXJ0aWNpcGFudF0uYWRkKHRva2Vucyk7CiAgICAgICAgYmFsYW5jZU9mW1RBUkdFVF9UT0tFTlNfQUREUkVTU10gPSBiYWxhbmNlT2ZbVEFSR0VUX1RPS0VOU19BRERSRVNTXS5hZGQoYWRkaXRpb25hbF90b2tlbnMpOwoKICAgICAgICAvLyBMb2cgZXZlbnRzCiAgICAgICAgVG9rZW5zQm91Z2h0KF9wYXJ0aWNpcGFudCwgbXNnLnZhbHVlLCB0b3RhbEV0aGVycywgdG9rZW5zLCBhZGRpdGlvbmFsX3Rva2VucywKICAgICAgICAgICAgdG90YWxTdXBwbHksIF9idXlQcmljZSk7CiAgICAgICAgRnVuZFRyYW5zZmVyKF9wYXJ0aWNpcGFudCwgbXNnLnZhbHVlLCB0cnVlKTsKICAgICAgICBUcmFuc2ZlcigweDAsIF9wYXJ0aWNpcGFudCwgdG9rZW5zKTsKICAgICAgICBUcmFuc2ZlcigweDAsIFRBUkdFVF9UT0tFTlNfQUREUkVTUywgYWRkaXRpb25hbF90b2tlbnMpOwoKICAgICAgICAvLyBNb3ZlIHRoZSBmdW5kcyB0byBhIHNhZmUgd2FsbGV0CiAgICAgICAgVEFSR0VUX0FERFJFU1MudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRyYW5zZmVyIHRoZSBiYWxhbmNlIGZyb20gb3duZXIncyBhY2NvdW50IHRvIGFub3RoZXIgYWNjb3VudCwgd2l0aCBhCiAgICAgKiBjaGVjayB0aGF0IHRoZSBjcm93ZHNhbGUgaXMgZmluYWxpemVkCiAgICAgKgogICAgICogQHBhcmFtIF90byAgICAgICAgICAgICAgICB0b2tlbnMgcmVjZWl2ZXIKICAgICAqIEBwYXJhbSBfYW1vdW50ICAgICAgICAgICAgdG9rZW5zIGFtb3VudAogICAgICogQHJldHVybiAgICAgICAgICAgICAgICAgICB0cnVlIG9uIHN1Y2Nlc3MKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy8gQ2Fubm90IHRyYW5zZmVyIGJlZm9yZSBjcm93ZHNhbGUgZW5kcyBvciBjYXAgcmVhY2hlZAogICAgICAgIHJlcXVpcmUobm93ID4gRU5EX1RTIHx8IHRvdGFsRXRoZXJzID49IENBUCk7CiAgICAgICAgLy8gU3RhbmRhcmQgdHJhbnNmZXIKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLCBfYW1vdW50KTsKICAgIH0KCiAgICAvKioKICAgICAqIFNwZW5kZXIgb2YgdG9rZW5zIHRyYW5zZmVyIGFuIGFtb3VudCBvZiB0b2tlbnMgZnJvbSB0aGUgdG9rZW4gb3duZXIncwogICAgICogYmFsYW5jZSB0byBhbm90aGVyIGFjY291bnQsIHdpdGggYSBjaGVjayB0aGF0IHRoZSBjcm93ZHNhbGUgaXMKICAgICAqIGZpbmFsaXplZAogICAgICoKICAgICAqIEBwYXJhbSBfZnJvbSAgICAgICAgICAgICAgdG9rZW5zIHNlbmRlcgogICAgICogQHBhcmFtIF90byAgICAgICAgICAgICAgICB0b2tlbnMgcmVjZWl2ZXIKICAgICAqIEBwYXJhbSBfYW1vdW50ICAgICAgICAgICAgdG9rZW5zIGFtb3VudAogICAgICogQHJldHVybiAgICAgICAgICAgICAgICAgICB0cnVlIG9uIHN1Y2Nlc3MKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpCiAgICAgICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIENhbm5vdCB0cmFuc2ZlciBiZWZvcmUgY3Jvd2RzYWxlIGVuZHMgb3IgY2FwIHJlYWNoZWQKICAgICAgICByZXF1aXJlKG5vdyA+IEVORF9UUyB8fCB0b3RhbEV0aGVycyA+PSBDQVApOwogICAgICAgIC8vIFN0YW5kYXJkIHRyYW5zZmVyRnJvbQogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBPd25lciBjYW4gdHJhbnNmZXIgb3V0IGFueSBhY2NpZGVudGFsbHkgc2VudCBFUkMyMCB0b2tlbnMKICAgICAqCiAgICAgKiBAcGFyYW0gX3Rva2VuQWRkcmVzcyAgICAgICB0b2tlbnMgYWRkcmVzcwogICAgICogQHBhcmFtIF9hbW91bnQgICAgICAgICAgICAgdG9rZW5zIGFtb3VudAogICAgICogQHJldHVybiAgICAgICAgICAgICAgICAgICB0cnVlIG9uIHN1Y2Nlc3MKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJBbnlFUkMyMFRva2VuKGFkZHJlc3MgX3Rva2VuQWRkcmVzcywgdWludCBfYW1vdW50KQogICAgICBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmV0dXJuIEVSQzIwVG9rZW4oX3Rva2VuQWRkcmVzcykudHJhbnNmZXIob3duZXIsIF9hbW91bnQpOwogICAgfQp9'.
	

]
