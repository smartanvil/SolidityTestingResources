Class {
	#name : #SRTdD1AcE2f45962e4C1297c784009478865e3B13bE,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTdD1AcE2f45962e4C1297c784009478865e3B13bE >> base64 [
	^ 'Ly8vIG1hdGguc29sIC0tIG1peGluIGZvciBpbmxpbmUgbnVtZXJpY2FsIHdpemFyZHJ5CgovLyBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQovLyBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQovLyB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvcgovLyAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLgoKLy8gVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCi8vIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCi8vIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUKLy8gR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCi8vIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlCi8vIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgoKcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7Cgpjb250cmFjdCBEU01hdGggewogICAgZnVuY3Rpb24gYWRkKHVpbnQgeCwgdWludCB5KSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgeikgewogICAgICAgIHJlcXVpcmUoKHogPSB4ICsgeSkgPj0geCk7CiAgICB9CiAgICBmdW5jdGlvbiBzdWIodWludCB4LCB1aW50IHkpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCB6KSB7CiAgICAgICAgcmVxdWlyZSgoeiA9IHggLSB5KSA8PSB4KTsKICAgIH0KICAgIGZ1bmN0aW9uIG11bCh1aW50IHgsIHVpbnQgeSkgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50IHopIHsKICAgICAgICByZXF1aXJlKHkgPT0gMCB8fCAoeiA9IHggKiB5KSAvIHkgPT0geCk7CiAgICB9CgogICAgZnVuY3Rpb24gbWluKHVpbnQgeCwgdWludCB5KSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgeikgewogICAgICAgIHJldHVybiB4IDw9IHkgPyB4IDogeTsKICAgIH0KICAgIGZ1bmN0aW9uIG1heCh1aW50IHgsIHVpbnQgeSkgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50IHopIHsKICAgICAgICByZXR1cm4geCA+PSB5ID8geCA6IHk7CiAgICB9CiAgICBmdW5jdGlvbiBpbWluKGludCB4LCBpbnQgeSkgaW50ZXJuYWwgcHVyZSByZXR1cm5zIChpbnQgeikgewogICAgICAgIHJldHVybiB4IDw9IHkgPyB4IDogeTsKICAgIH0KICAgIGZ1bmN0aW9uIGltYXgoaW50IHgsIGludCB5KSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKGludCB6KSB7CiAgICAgICAgcmV0dXJuIHggPj0geSA/IHggOiB5OwogICAgfQoKICAgIHVpbnQgY29uc3RhbnQgV0FEID0gMTAgKiogMTg7CiAgICB1aW50IGNvbnN0YW50IFJBWSA9IDEwICoqIDI3OwoKICAgIGZ1bmN0aW9uIHdtdWwodWludCB4LCB1aW50IHkpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCB6KSB7CiAgICAgICAgeiA9IGFkZChtdWwoeCwgeSksIFdBRCAvIDIpIC8gV0FEOwogICAgfQogICAgZnVuY3Rpb24gcm11bCh1aW50IHgsIHVpbnQgeSkgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50IHopIHsKICAgICAgICB6ID0gYWRkKG11bCh4LCB5KSwgUkFZIC8gMikgLyBSQVk7CiAgICB9CiAgICBmdW5jdGlvbiB3ZGl2KHVpbnQgeCwgdWludCB5KSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgeikgewogICAgICAgIHogPSBhZGQobXVsKHgsIFdBRCksIHkgLyAyKSAvIHk7CiAgICB9CiAgICBmdW5jdGlvbiByZGl2KHVpbnQgeCwgdWludCB5KSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgeikgewogICAgICAgIHogPSBhZGQobXVsKHgsIFJBWSksIHkgLyAyKSAvIHk7CiAgICB9CgogICAgLy8gVGhpcyBmYW1vdXMgYWxnb3JpdGhtIGlzIGNhbGxlZCAiZXhwb25lbnRpYXRpb24gYnkgc3F1YXJpbmciCiAgICAvLyBhbmQgY2FsY3VsYXRlcyB4Xm4gd2l0aCB4IGFzIGZpeGVkLXBvaW50IGFuZCBuIGFzIHJlZ3VsYXIgdW5zaWduZWQuCiAgICAvLwogICAgLy8gSXQncyBPKGxvZyBuKSwgaW5zdGVhZCBvZiBPKG4pIGZvciBuYWl2ZSByZXBlYXRlZCBtdWx0aXBsaWNhdGlvbi4KICAgIC8vCiAgICAvLyBUaGVzZSBmYWN0cyBhcmUgd2h5IGl0IHdvcmtzOgogICAgLy8KICAgIC8vICBJZiBuIGlzIGV2ZW4sIHRoZW4geF5uID0gKHheMileKG4vMikuCiAgICAvLyAgSWYgbiBpcyBvZGQsICB0aGVuIHhebiA9IHggKiB4XihuLTEpLAogICAgLy8gICBhbmQgYXBwbHlpbmcgdGhlIGVxdWF0aW9uIGZvciBldmVuIHggZ2l2ZXMKICAgIC8vICAgIHhebiA9IHggKiAoeF4yKV4oKG4tMSkgLyAyKS4KICAgIC8vCiAgICAvLyAgQWxzbywgRVZNIGRpdmlzaW9uIGlzIGZsb29yaW5nIGFuZAogICAgLy8gICAgZmxvb3JbKG4tMSkgLyAyXSA9IGZsb29yW24gLyAyXS4KICAgIC8vCiAgICBmdW5jdGlvbiBycG93KHVpbnQgeCwgdWludCBuKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgeikgewogICAgICAgIHogPSBuICUgMiAhPSAwID8geCA6IFJBWTsKCiAgICAgICAgZm9yIChuIC89IDI7IG4gIT0gMDsgbiAvPSAyKSB7CiAgICAgICAgICAgIHggPSBybXVsKHgsIHgpOwoKICAgICAgICAgICAgaWYgKG4gJSAyICE9IDApIHsKICAgICAgICAgICAgICAgIHogPSBybXVsKHosIHgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9CgovLyBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQovLyBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQovLyB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvcgovLyAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLgoKLy8gVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCi8vIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCi8vIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUKLy8gR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCi8vIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlCi8vIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgoKcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7Cgpjb250cmFjdCBEU0F1dGhvcml0eSB7CiAgICBmdW5jdGlvbiBjYW5DYWxsKAogICAgICAgIGFkZHJlc3Mgc3JjLCBhZGRyZXNzIGRzdCwgYnl0ZXM0IHNpZwogICAgKSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sKTsKfQoKY29udHJhY3QgRFNBdXRoRXZlbnRzIHsKICAgIGV2ZW50IExvZ1NldEF1dGhvcml0eSAoYWRkcmVzcyBpbmRleGVkIGF1dGhvcml0eSk7CiAgICBldmVudCBMb2dTZXRPd25lciAgICAgKGFkZHJlc3MgaW5kZXhlZCBvd25lcik7Cn0KCmNvbnRyYWN0IERTQXV0aCBpcyBEU0F1dGhFdmVudHMgewogICAgRFNBdXRob3JpdHkgIHB1YmxpYyAgYXV0aG9yaXR5OwogICAgYWRkcmVzcyAgICAgIHB1YmxpYyAgb3duZXI7CgogICAgZnVuY3Rpb24gRFNBdXRoKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgTG9nU2V0T3duZXIobXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0T3duZXIoYWRkcmVzcyBvd25lcl8pCiAgICAgICAgcHVibGljCiAgICAgICAgYXV0aAogICAgewogICAgICAgIG93bmVyID0gb3duZXJfOwogICAgICAgIExvZ1NldE93bmVyKG93bmVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRBdXRob3JpdHkoRFNBdXRob3JpdHkgYXV0aG9yaXR5XykKICAgICAgICBwdWJsaWMKICAgICAgICBhdXRoCiAgICB7CiAgICAgICAgYXV0aG9yaXR5ID0gYXV0aG9yaXR5XzsKICAgICAgICBMb2dTZXRBdXRob3JpdHkoYXV0aG9yaXR5KTsKICAgIH0KCiAgICBtb2RpZmllciBhdXRoIHsKICAgICAgICByZXF1aXJlKGlzQXV0aG9yaXplZChtc2cuc2VuZGVyLCBtc2cuc2lnKSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBpc0F1dGhvcml6ZWQoYWRkcmVzcyBzcmMsIGJ5dGVzNCBzaWcpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGlmIChzcmMgPT0gYWRkcmVzcyh0aGlzKSkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKHNyYyA9PSBvd25lcikgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKGF1dGhvcml0eSA9PSBEU0F1dGhvcml0eSgwKSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGF1dGhvcml0eS5jYW5DYWxsKHNyYywgdGhpcywgc2lnKTsKICAgICAgICB9CiAgICB9Cn0KCi8vLyBlcmMyMC5zb2wgLS0gQVBJIGZvciB0aGUgRVJDMjAgdG9rZW4gc3RhbmRhcmQKCi8vIFNlZSA8aHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwPi4KCi8vIFRoaXMgZmlsZSBsaWtlbHkgZG9lcyBub3QgbWVldCB0aGUgdGhyZXNob2xkIG9mIG9yaWdpbmFsaXR5Ci8vIHJlcXVpcmVkIGZvciBjb3B5cmlnaHQgdG8gYXBwbHkuICBBcyBhIHJlc3VsdCwgdGhpcyBpcyBmcmVlIGFuZAovLyB1bmVuY3VtYmVyZWQgc29mdHdhcmUgYmVsb25naW5nIHRvIHRoZSBwdWJsaWMgZG9tYWluLgoKcHJhZ21hIHNvbGlkaXR5IF4wLjQuODsKCmNvbnRyYWN0IEVSQzIwRXZlbnRzIHsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBzcmMsIGFkZHJlc3MgaW5kZXhlZCBndXksIHVpbnQgd2FkKTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBzcmMsIGFkZHJlc3MgaW5kZXhlZCBkc3QsIHVpbnQgd2FkKTsKfQoKY29udHJhY3QgRVJDMjAgaXMgRVJDMjBFdmVudHMgewogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIGd1eSkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBzcmMsIGFkZHJlc3MgZ3V5KSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KTsKCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgZ3V5LCB1aW50IHdhZCkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBkc3QsIHVpbnQgd2FkKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oCiAgICAgICAgYWRkcmVzcyBzcmMsIGFkZHJlc3MgZHN0LCB1aW50IHdhZAogICAgKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7Cn0KCi8qIFZpZXdseSBtYWluIHRva2VuIHNhbGUgY29udHJhY3QsIHdoZXJlIGNvbnRyaWJ1dG9ycyBzZW5kIGV0aGVycyBpbiBvcmRlciB0bwogKiBsYXRlciByZWNlaXZlIFZJRVcgdG9rZW5zIChvdXRzaWRlIG9mIHRoaXMgY29udHJhY3QpLgogKi8KY29udHJhY3QgVmlld2x5TWFpblNhbGUgaXMgRFNBdXRoLCBEU01hdGggewoKICAgIC8vIFNUQVRFCgogICAgdWludCBwdWJsaWMgbWluQ29udHJpYnV0aW9uQW1vdW50ID0gNSBldGhlcjsgLy8gaW5pdGlhbCBtaW4gY29udHJpYnV0aW9uIGFtb3VudAogICAgdWludCBwdWJsaWMgbWF4VG90YWxBbW91bnQgPSA0MzAwIGV0aGVyOyAgICAgLy8gaW5pdGlhbCBtaW4gY29udHJpYnV0aW9uIGFtb3VudAogICAgYWRkcmVzcyBwdWJsaWMgYmVuZWZpY2lhcnk7ICAgICAgICAgICAgICAgICAgLy8gYWRkcmVzcyB0byBjb2xsZWN0IGNvbnRyaWJ1dGVkIGFtb3VudCB0bwogICAgdWludCBwdWJsaWMgc3RhcnRCbG9jazsgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgYmxvY2sgb2Ygc2FsZQogICAgdWludCBwdWJsaWMgZW5kQmxvY2s7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5kIGJsb2NrIG9mIHNhbGUKCiAgICB1aW50IHB1YmxpYyB0b3RhbENvbnRyaWJ1dGVkQW1vdW50OyAgICAgICAgICAvLyBzdG9yZXMgYWxsIGNvbnRyaWJ1dGlvbnMKICAgIHVpbnQgcHVibGljIHRvdGFsUmVmdW5kZWRBbW91bnQ7ICAgICAgICAgICAgIC8vIHN0b3JlcyBhbGwgcmVmdW5kcwoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgY29udHJpYnV0aW9uczsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgcmVmdW5kczsKCiAgICBib29sIHB1YmxpYyB3aGl0ZWxpc3RSZXF1aXJlZDsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgd2hpdGVsaXN0OwoKCiAgICAvLyBFVkVOVFMKCiAgICBldmVudCBMb2dDb250cmlidXRlKGFkZHJlc3MgY29udHJpYnV0b3IsIHVpbnQgYW1vdW50KTsKICAgIGV2ZW50IExvZ1JlZnVuZChhZGRyZXNzIGNvbnRyaWJ1dG9yLCB1aW50IGFtb3VudCk7CiAgICBldmVudCBMb2dDb2xsZWN0QW1vdW50KHVpbnQgYW1vdW50KTsKCgogICAgLy8gTU9ESUZJRVJTCgogICAgbW9kaWZpZXIgc2FsZU9wZW4oKSB7CiAgICAgICAgcmVxdWlyZShibG9jay5udW1iZXIgPj0gc3RhcnRCbG9jayk7CiAgICAgICAgcmVxdWlyZShibG9jay5udW1iZXIgPD0gZW5kQmxvY2spOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgcmVxdWlyZVdoaXRlbGlzdCgpIHsKICAgICAgICBpZiAod2hpdGVsaXN0UmVxdWlyZWQpIHJlcXVpcmUod2hpdGVsaXN0W21zZy5zZW5kZXJdKTsKICAgICAgICBfOwogICAgfQoKCiAgICAvLyBQVUJMSUMKCiAgICBmdW5jdGlvbiBWaWV3bHlNYWluU2FsZShhZGRyZXNzIGJlbmVmaWNpYXJ5XykgcHVibGljIHsKICAgICAgICBiZW5lZmljaWFyeSA9IGJlbmVmaWNpYXJ5XzsKICAgIH0KCiAgICBmdW5jdGlvbigpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICBjb250cmlidXRlKCk7CiAgICB9CgoKICAgIC8vIEFVVEgtUkVRVUlSRUQKCiAgICBmdW5jdGlvbiByZWZ1bmQoYWRkcmVzcyBjb250cmlidXRvcikgcHVibGljIGF1dGggewogICAgICAgIHVpbnQgYW1vdW50ID0gY29udHJpYnV0aW9uc1tjb250cmlidXRvcl07CiAgICAgICAgcmVxdWlyZShhbW91bnQgPiAwKTsKICAgICAgICByZXF1aXJlKGFtb3VudCA8PSB0aGlzLmJhbGFuY2UpOwoKICAgICAgICBjb250cmlidXRpb25zW2NvbnRyaWJ1dG9yXSA9IDA7CiAgICAgICAgcmVmdW5kc1tjb250cmlidXRvcl0gKz0gYW1vdW50OwogICAgICAgIHRvdGFsUmVmdW5kZWRBbW91bnQgKz0gYW1vdW50OwogICAgICAgIHRvdGFsQ29udHJpYnV0ZWRBbW91bnQgLT0gYW1vdW50OwogICAgICAgIGNvbnRyaWJ1dG9yLnRyYW5zZmVyKGFtb3VudCk7CiAgICAgICAgTG9nUmVmdW5kKGNvbnRyaWJ1dG9yLCBhbW91bnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldE1pbkNvbnRyaWJ1dGlvbkFtb3VudCh1aW50IG1pbkFtb3VudCkgcHVibGljIGF1dGggewogICAgICAgIHJlcXVpcmUobWluQW1vdW50ID4gMCk7CgogICAgICAgIG1pbkNvbnRyaWJ1dGlvbkFtb3VudCA9IG1pbkFtb3VudDsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRNYXhUb3RhbEFtb3VudCh1aW50IG1heEFtb3VudCkgcHVibGljIGF1dGggewogICAgICAgIHJlcXVpcmUobWF4QW1vdW50ID4gMCk7CgogICAgICAgIG1heFRvdGFsQW1vdW50ID0gbWF4QW1vdW50OwogICAgfQoKICAgIGZ1bmN0aW9uIGluaXRTYWxlKHVpbnQgc3RhcnRCbG9ja18sIHVpbnQgZW5kQmxvY2tfKSBwdWJsaWMgYXV0aCB7CiAgICAgICAgcmVxdWlyZShzdGFydEJsb2NrXyA+IDApOwogICAgICAgIHJlcXVpcmUoZW5kQmxvY2tfID4gc3RhcnRCbG9ja18pOwoKICAgICAgICBzdGFydEJsb2NrID0gc3RhcnRCbG9ja187CiAgICAgICAgZW5kQmxvY2sgICA9IGVuZEJsb2NrXzsKICAgIH0KCiAgICBmdW5jdGlvbiBjb2xsZWN0QW1vdW50KHVpbnQgYW1vdW50KSBwdWJsaWMgYXV0aCB7CiAgICAgICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgPj0gYW1vdW50KTsKCiAgICAgICAgYmVuZWZpY2lhcnkudHJhbnNmZXIoYW1vdW50KTsKICAgICAgICBMb2dDb2xsZWN0QW1vdW50KGFtb3VudCk7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkVG9XaGl0ZWxpc3QoYWRkcmVzc1tdIGNvbnRyaWJ1dG9ycykgcHVibGljIGF1dGggewogICAgICAgIHJlcXVpcmUoY29udHJpYnV0b3JzLmxlbmd0aCAhPSAwKTsKCiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgY29udHJpYnV0b3JzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB3aGl0ZWxpc3RbY29udHJpYnV0b3JzW2ldXSA9IHRydWU7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZUZyb21XaGl0ZWxpc3QoYWRkcmVzc1tdIGNvbnRyaWJ1dG9ycykgcHVibGljIGF1dGggewogICAgICAgIHJlcXVpcmUoY29udHJpYnV0b3JzLmxlbmd0aCAhPSAwKTsKCiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgY29udHJpYnV0b3JzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB3aGl0ZWxpc3RbY29udHJpYnV0b3JzW2ldXSA9IGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBzZXRXaGl0ZWxpc3RSZXF1aXJlZChib29sIHNldHRpbmcpIHB1YmxpYyBhdXRoIHsKICAgICAgICB3aGl0ZWxpc3RSZXF1aXJlZCA9IHNldHRpbmc7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0T3duZXIoYWRkcmVzcyBvd25lcl8pIHB1YmxpYyBhdXRoIHsKICAgICAgICByZXZlcnQoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRBdXRob3JpdHkoRFNBdXRob3JpdHkgYXV0aG9yaXR5XykgcHVibGljIGF1dGggewogICAgICAgIHJldmVydCgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlY292ZXJUb2tlbnMoYWRkcmVzcyB0b2tlbl8pIHB1YmxpYyBhdXRoIHsKICAgICAgICBFUkMyMCB0b2tlbiA9IEVSQzIwKHRva2VuXyk7CiAgICAgICAgdG9rZW4udHJhbnNmZXIoYmVuZWZpY2lhcnksIHRva2VuLmJhbGFuY2VPZih0aGlzKSk7CiAgICB9CgoKICAgIC8vIFBSSVZBVEUKCiAgICBmdW5jdGlvbiBjb250cmlidXRlKCkgcHJpdmF0ZSBzYWxlT3BlbiByZXF1aXJlV2hpdGVsaXN0IHsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBtaW5Db250cmlidXRpb25BbW91bnQpOwogICAgICAgIHJlcXVpcmUobWF4VG90YWxBbW91bnQgPj0gYWRkKHRvdGFsQ29udHJpYnV0ZWRBbW91bnQsIG1zZy52YWx1ZSkpOwoKICAgICAgICBjb250cmlidXRpb25zW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZTsKICAgICAgICB0b3RhbENvbnRyaWJ1dGVkQW1vdW50ICs9IG1zZy52YWx1ZTsKICAgICAgICBMb2dDb250cmlidXRlKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgICB9Cn0='.
	

]
