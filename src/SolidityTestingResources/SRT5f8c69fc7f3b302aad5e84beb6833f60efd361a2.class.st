Class {
	#name : #SRT5f8c69fc7f3b302aad5e84beb6833f60efd361a2,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5f8c69fc7f3b302aad5e84beb6833f60efd361a2 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgovLyBMZWVTdW5nQ29pbiBNYWRlIEJ5IFBpbmtDaGVycnkgLSA8c3BhbiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9ImE3Y2VjOWQ0YzZjOWNlZDNkZWQ0Y2NjNmM5ZTdjMGNhYzZjZWNiODljNGM4Y2EiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L3NwYW4+Ci8vIExlZVN1bmdDb2luIFJlcXVlc3QgUXVlc3Rpb24gLSA8c3BhbiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9ImI5ZDJkNmNiZGNkOGRhZDZkMGQ3Y2FkNmQ1Y2NjZGQwZDZkN2Y5ZGVkNGQ4ZDBkNTk3ZGFkNmQ0Ij5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9zcGFuPgoKbGlicmFyeSBTYWZlTWF0aAp7CiAgCWZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KQogICAgewoJCXVpbnQyNTYgYyA9IGEgKiBiOwoJCWFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CgoJCXJldHVybiBjOwogIAl9CgogIAlmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikKCXsKCQl1aW50MjU2IGMgPSBhIC8gYjsKCgkJcmV0dXJuIGM7CiAgCX0KCiAgCWZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KQoJewoJCWFzc2VydChiIDw9IGEpOwoKCQlyZXR1cm4gYSAtIGI7CiAgCX0KCiAgCWZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KQoJewoJCXVpbnQyNTYgYyA9IGEgKyBiOwoJCWFzc2VydChjID49IGEpOwoKCQlyZXR1cm4gYzsKICAJfQp9CgoKY29udHJhY3QgT3duZXJIZWxwZXIKewogIAlhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgCWV2ZW50IE93bmVyVHJhbnNmZXJQcm9wb3NlKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90byk7CgogIAltb2RpZmllciBvbmx5T3duZXIKCXsKCQlyZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoJCV87CiAgCX0KCiAgCWZ1bmN0aW9uIE93bmVySGVscGVyKCkgcHVibGljCgl7CgkJb3duZXIgPSBtc2cuc2VuZGVyOwogIAl9CgogIAlmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIF90bykgb25seU93bmVyIHB1YmxpYwoJewogICAgICAgICAgICByZXF1aXJlKF90byAhPSBvd25lcik7CiAgICAJCXJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMHgwKSk7CiAgICAJCW93bmVyID0gX3RvOwogICAgCQlPd25lclRyYW5zZmVyUHJvcG9zZShvd25lciwgX3RvKTsKICAJfQoKfQoKCmNvbnRyYWN0IEVSQzIwSW50ZXJmYWNlCnsKICAJZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50IF92YWx1ZSk7CiAgCWV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludCBfdmFsdWUpOwoJZXZlbnQgQnVybmVkKGFkZHJlc3MgaW5kZXhlZCBfYnVybmVyLCB1aW50IF92YWx1ZSk7CgogIAlmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICAJZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKTsKICAJZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAJZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgCWZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogIAlmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IHJlbWFpbmluZyk7CglmdW5jdGlvbiBidXJuKHVpbnQgX2J1cm5BbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwp9CgoKY29udHJhY3QgRVJDMjBUb2tlbiBpcyBFUkMyMEludGVyZmFjZSwgT3duZXJIZWxwZXIKewogIAl1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgCXVpbnQgcHVibGljIHRva2Vuc0lzc3VlZFRvdGFsID0gMDsKICAJYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgYnVybkFkZHJlc3MgPSAwOwoKICAJbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwogIAltYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKCiAgCWZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpCgl7CgkJcmV0dXJuIHRva2Vuc0lzc3VlZFRvdGFsOwogIAl9CgogIAlmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpCgl7CgkJcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgCX0KCglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQoJewoJCXJlcXVpcmUoIGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF9hbW91bnQgKTsKCgkgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CgkJYmFsYW5jZXNbX3RvXSAgICAgICAgPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKCgkJVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfYW1vdW50KTsKICAgIAoJCXJldHVybiB0cnVlOwogIAl9CgogIAlmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykKCXsKCQlyZXF1aXJlICggYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCApOwoKCQlhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF9hbW91bnQ7CiAgICAJCQoJCUFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfYW1vdW50KTsKCgkJcmV0dXJuIHRydWU7Cgl9CgogIAlmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykKCXsKCQlyZXF1aXJlKCBiYWxhbmNlc1tfZnJvbV0gPj0gX2Ftb3VudCApOwoJCXJlcXVpcmUoIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF9hbW91bnQgKTsKCQliYWxhbmNlc1tfZnJvbV0gICAgICAgICAgICA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX2Ftb3VudCk7CgkJYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CgkJYmFsYW5jZXNbX3RvXSAgICAgICAgICAgICAgPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKCgkJVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7CgkJcmV0dXJuIHRydWU7CiAgCX0KCiAgCWZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKQoJewoJCXJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIAl9CgoJZnVuY3Rpb24gYnVybih1aW50IF9idXJuQW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQoJewoJCWFkZHJlc3MgYnVybmVyID0gbXNnLnNlbmRlcjsKCQliYWxhbmNlc1tidXJuZXJdID0gYmFsYW5jZXNbYnVybmVyXS5zdWIoX2J1cm5BbW91bnQpOwoJCXRva2Vuc0lzc3VlZFRvdGFsID0gdG9rZW5zSXNzdWVkVG90YWwuc3ViKF9idXJuQW1vdW50KTsKCQlCdXJuZWQoYnVybmVyLCBfYnVybkFtb3VudCk7CgkJVHJhbnNmZXIoYnVybmVyLCBidXJuQWRkcmVzcywgX2J1cm5BbW91bnQpOwoKCQlyZXR1cm4gdHJ1ZTsKCX0KfQoKY29udHJhY3QgTGVlU3VuZ0NvaW4gaXMgRVJDMjBUb2tlbgp7Cgl1aW50IGNvbnN0YW50IEUxOCA9IDEwKioxODsKCiAgCXN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSAJPSAiTGVlU3VuZ0NvaW4iOwogIAlzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCAJPSAiTFNDIjsKICAJdWludCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgCT0gMTg7CgoJYWRkcmVzcyBwdWJsaWMgd2FsbGV0OwoJYWRkcmVzcyBwdWJsaWMgYWRtaW5XYWxsZXQ7CglhZGRyZXNzIHB1YmxpYyBJY29Db250cmFjdDsKCgl1aW50IHB1YmxpYyBjb25zdGFudCB0b3RhbENvaW5DYXAgICA9IDIwMDAwMDAwMDAgKiBFMTg7Cgl1aW50IHB1YmxpYyBjb25zdGFudCBpY29Db2luQ2FwICAgICA9IDE0MDAwMDAwMDAgKiBFMTg7Cgl1aW50IHB1YmxpYyBjb25zdGFudCBta3RDb2luQ2FwICAgICA9ICA2MDAwMDAwMDAgKiBFMTg7Cgl1aW50IHB1YmxpYyBjb25zdGFudCBwcmVTYWxlQ29pbkNhcCA9ICA0ODAwMDAwMDAgKiBFMTg7CgoJdWludCBwdWJsaWMgY29pblBlckV0aCA9IDIwMDAwICogRTE4OwoKCXVpbnQgcHVibGljIGNvbnN0YW50IHByaXZhdGVTYWxlQm9udXMJID0gMzA7Cgl1aW50IHB1YmxpYyBjb25zdGFudCBwcmVTYWxlRmlyc3RCb251cwkgPSAyMDsKCXVpbnQgcHVibGljIGNvbnN0YW50IHByZVNhbGVTZWNvbmRCb251cyAgPSAxNTsKCXVpbnQgcHVibGljIGNvbnN0YW50IG1haW5TYWxlRmlyc3RCb251cwkgPSA1OwoJdWludCBwdWJsaWMgY29uc3RhbnQgbWFpblNhbGVTZWNvbmRCb251cyA9IDA7CgogIAl1aW50IHB1YmxpYyBjb25zdGFudCBwcmVTYWxlRmlyc3RTdGFydERhdGUgPSAxNTE3Nzg4ODAwOyAvLyAyMDE4LTAyLTA1IDAwOjAwIFVUQwogIAl1aW50IHB1YmxpYyBjb25zdGFudCBwcmVTYWxlRmlyc3RFbmREYXRlICAgPSAxNTE4MzA3MjAwOyAvLyAyMDE4LTAyLTExIDAwOjAwIFVUQwoKICAJdWludCBwdWJsaWMgY29uc3RhbnQgcHJlU2FsZVNlY29uZFN0YXJ0RGF0ZSA9IDE1MTgzOTM2MDA7IC8vIDIwMTgtMDItMTIgMDA6MDAgVVRDCiAgCXVpbnQgcHVibGljIGNvbnN0YW50IHByZVNhbGVTZWNvbmRFbmREYXRlICAgPSAxNTE4OTEyMDAwOyAvLyAyMDE4LTAyLTE4IDAwOjAwIFVUQwoKCiAgCXVpbnQgcHVibGljIGNvbnN0YW50IG1haW5TYWxlRmlyc3RTdGFydERhdGUgPSAxNTE5NjAzMjAwOyAvLyAyMDE4LTAyLTI2IDAwOjAwIFVUQwogIAl1aW50IHB1YmxpYyBjb25zdGFudCBtYWluU2FsZUZpcnN0RW5kRGF0ZSAgID0gMTUyMDEyMTYwMDsgLy8gMjAxOC0wMy0wNCAwMDowMCBVVEMKCiAgCXVpbnQgcHVibGljIGNvbnN0YW50IG1haW5TYWxlU2Vjb25kU3RhcnREYXRlID0gMTUyMDIwODAwMDsgLy8gMjAxOC0wMy0wNSAwMDowMCBVVEMKICAJdWludCBwdWJsaWMgY29uc3RhbnQgbWFpblNhbGVTZWNvbmRFbmREYXRlICAgPSAxNTIwNzI2NDAwOyAvLyAyMDE4LTAzLTExIDAwOjAwIFVUQwoKCXVpbnQgcHVibGljIGNvbnN0YW50IHRyYW5zZmVyQ29vbGRvd24gPSAyIGRheXM7CgoJdWludCBwdWJsaWMgY29uc3RhbnQgcHJlU2FsZU1pbkV0aCAgPSAxIGV0aGVyOwoJdWludCBwdWJsaWMgY29uc3RhbnQgbWFpblNhbGVNaW5FdGggPSAgMSBldGhlciAvIDI7IC8vIDAuNSBFdGhlcgoKICAJdWludCBwdWJsaWMgcHJpRXRoZXJSZWNlaXZlZCA9IDA7IC8vIEV0aGVyIGFjdHVhbGx5IHJlY2VpdmVkIGJ5IHRoZSBjb250cmFjdAogIAl1aW50IHB1YmxpYyBpY29FdGhlclJlY2VpdmVkID0gMDsgLy8gRXRoZXIgYWN0dWFsbHkgcmVjZWl2ZWQgYnkgdGhlIGNvbnRyYWN0CgogICAgdWludCBwdWJsaWMgY29pbklzc3VlZFRvdGFsICAgICA9IDA7CiAgCXVpbnQgcHVibGljIGNvaW5Jc3N1ZWRJY28gICAgICAgPSAwOwogIAl1aW50IHB1YmxpYyBjb2luSXNzdWVkTWt0ICAgICAgID0gMDsKCQoJdWludCBwdWJsaWMgY29pbkJ1cm5JY28gPSAwOwoJdWludCBwdWJsaWMgY29pbkJ1cm5Na3QgPSAwOwoKICAJbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBpY29FdGhlckNvbnRyaWJ1dGVkOwogIAltYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcHVibGljIGljb0NvaW5SZWNlaXZlZDsKICAJbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyByZWZ1bmRDbGFpbWVkOwogIAltYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGNvaW5Mb2NrZWQ7CiAgCQogCWV2ZW50IFdhbGxldENoYW5nZShhZGRyZXNzIF9uZXdXYWxsZXQpOwogIAlldmVudCBBZG1pbldhbGxldENoYW5nZShhZGRyZXNzIF9uZXdBZG1pbldhbGxldCk7CiAgCWV2ZW50IENvaW5NaW50ZWQoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgdWludCBfdG9rZW5zLCB1aW50IF9iYWxhbmNlKTsKICAJZXZlbnQgQ29pbklzc3VlZChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCB1aW50IF90b2tlbnMsIHVpbnQgX2JhbGFuY2UsIHVpbnQgX2V0aGVyQ29udHJpYnV0ZWQpOwogIAlldmVudCBSZWZ1bmQoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgdWludCBfYW1vdW50LCB1aW50IF90b2tlbnMpOwogIAlldmVudCBMb2NrUmVtb3ZlKGFkZHJlc3MgaW5kZXhlZCBfcGFydGljaXBhbnQpOwoJZXZlbnQgV2l0aERyYXcoYWRkcmVzcyBpbmRleGVkIF90bywgdWludCBfYW1vdW50KTsKCWV2ZW50IE93bmVyUmVjbGFpbShhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIHVpbnQgX2Ftb3VudCk7CgogIAlmdW5jdGlvbiBMZWVTdW5nQ29pbigpIHB1YmxpYwoJewoJCXJlcXVpcmUoIGljb0NvaW5DYXAgKyBta3RDb2luQ2FwID09IHRvdGFsQ29pbkNhcCApOwoJCXdhbGxldCA9IG93bmVyOwoJCWFkbWluV2FsbGV0ID0gb3duZXI7CgkJCgkJSWNvQ29udHJhY3QgPSAweDZFNUIzZEJGQjZhODVEMTFlNWQwZDRBNTYxOEM1MzgzOERhNjM5MDA7CgkJcHJpRXRoZXJSZWNlaXZlZCA9IDUxNyBldGhlcjsKCQlpY29FdGhlclJlY2VpdmVkID0gMTEyMjYwMjU1MjkzMDAwMDAwMDAwOwogIAl9CgogIAlmdW5jdGlvbiAoKSBwYXlhYmxlIHB1YmxpYwoJewogICAgCWJ1eUNvaW4oKTsKICAJfQogIAkKICAJZnVuY3Rpb24gYXROb3coKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkKCXsKCQlyZXR1cm4gbm93OwogIAl9CgogIAlmdW5jdGlvbiBidXlDb2luKCkgcHJpdmF0ZQoJewoJCXVpbnQgbm93VGltZSA9IGF0Tm93KCk7CgoJCXVpbnQgc2FsZVRpbWUgPSAwOyAvLyAxIDogcHJlU2FsZUZpcnN0LCAyIDogcHJlU2FsZVNlY29uZCwgMyA6IG1haW5TYWxlRmlyc3QsIDQgOiBtYWluU2FsZVNlY29uZAoKCQl1aW50IG1pbkV0aCA9IDA7CgkJdWludCBtYXhFdGggPSAzMDAgZXRoZXI7CgoJCXVpbnQgY29pbnMgPSAwOwoJCXVpbnQgY29pbkJvbnVzID0gMDsKCQl1aW50IGNvaW5DYXAgPSAwOwoKCQlpZiAobm93VGltZSA+IHByZVNhbGVGaXJzdFN0YXJ0RGF0ZSAmJiBub3dUaW1lIDwgcHJlU2FsZUZpcnN0RW5kRGF0ZSkKCQl7CgkJCXNhbGVUaW1lID0gMTsKCQkJbWluRXRoID0gcHJlU2FsZU1pbkV0aDsKCQkJY29pbkJvbnVzID0gcHJlU2FsZUZpcnN0Qm9udXM7CgkJCWNvaW5DYXAgPSBwcmVTYWxlQ29pbkNhcDsKCQl9CgoJCWlmIChub3dUaW1lID4gcHJlU2FsZVNlY29uZFN0YXJ0RGF0ZSAmJiBub3dUaW1lIDwgcHJlU2FsZVNlY29uZEVuZERhdGUpCgkJewoJCQlzYWxlVGltZSA9IDI7CgkJCW1pbkV0aCA9IHByZVNhbGVNaW5FdGg7CgkJCWNvaW5Cb251cyA9IHByZVNhbGVTZWNvbmRCb251czsKCQkJY29pbkNhcCA9IHByZVNhbGVDb2luQ2FwOwoJCX0KCgkJaWYgKG5vd1RpbWUgPiBtYWluU2FsZUZpcnN0U3RhcnREYXRlICYmIG5vd1RpbWUgPCBtYWluU2FsZUZpcnN0RW5kRGF0ZSkKCQl7CgkJCXNhbGVUaW1lID0gMzsKCQkJbWluRXRoID0gbWFpblNhbGVNaW5FdGg7CgkJCWNvaW5Cb251cyA9IG1haW5TYWxlRmlyc3RCb251czsKCQkJY29pbkNhcCA9IGljb0NvaW5DYXA7CgkJfQoKCQlpZiAobm93VGltZSA+IG1haW5TYWxlU2Vjb25kU3RhcnREYXRlICYmIG5vd1RpbWUgPCBtYWluU2FsZVNlY29uZEVuZERhdGUpCgkJewoJCQlzYWxlVGltZSA9IDQ7CgkJCW1pbkV0aCA9IG1haW5TYWxlTWluRXRoOwoJCQljb2luQm9udXMgPSBtYWluU2FsZVNlY29uZEJvbnVzOwoJCQljb2luQ2FwID0gaWNvQ29pbkNhcDsKCQl9CgkJCgkJcmVxdWlyZSggc2FsZVRpbWUgPj0gMSAmJiBzYWxlVGltZSA8PSA0ICk7CgkJcmVxdWlyZSggbXNnLnZhbHVlID49IG1pbkV0aCApOwoJCXJlcXVpcmUoIGljb0V0aGVyQ29udHJpYnV0ZWRbbXNnLnNlbmRlcl0uYWRkKG1zZy52YWx1ZSkgPD0gbWF4RXRoICk7CgoJCWNvaW5zID0gY29pblBlckV0aC5tdWwobXNnLnZhbHVlKSAvIDEgZXRoZXI7CiAgICAgIAljb2lucyA9IGNvaW5zLm11bCgxMDAgKyBjb2luQm9udXMpIC8gMTAwOwoKCQlyZXF1aXJlKCBjb2luSXNzdWVkSWNvLmFkZChjb2lucykgPD0gY29pbkNhcCApOwoKCQliYWxhbmNlc1ttc2cuc2VuZGVyXSAgICAgICAgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQoY29pbnMpOwoJICAgIGljb0NvaW5SZWNlaXZlZFttc2cuc2VuZGVyXSA9IGljb0NvaW5SZWNlaXZlZFttc2cuc2VuZGVyXS5hZGQoY29pbnMpOwoJCWNvaW5Jc3N1ZWRJY28gICAgICAgICAgICAgICA9IGNvaW5Jc3N1ZWRJY28uYWRkKGNvaW5zKTsKCQl0b2tlbnNJc3N1ZWRUb3RhbCAgICAgICAgICAgPSB0b2tlbnNJc3N1ZWRUb3RhbC5hZGQoY29pbnMpOwogICAgCgkJaWNvRXRoZXJSZWNlaXZlZCAgICAgICAgICAgICAgICA9IGljb0V0aGVyUmVjZWl2ZWQuYWRkKG1zZy52YWx1ZSk7CgkJaWNvRXRoZXJDb250cmlidXRlZFttc2cuc2VuZGVyXSA9IGljb0V0aGVyQ29udHJpYnV0ZWRbbXNnLnNlbmRlcl0uYWRkKG1zZy52YWx1ZSk7CiAgICAKCQljb2luTG9ja2VkW21zZy5zZW5kZXJdID0gdHJ1ZTsKICAgIAoJCVRyYW5zZmVyKDB4MCwgbXNnLnNlbmRlciwgY29pbnMpOwoJCUNvaW5Jc3N1ZWQobXNnLnNlbmRlciwgY29pbnMsIGJhbGFuY2VzW21zZy5zZW5kZXJdLCBtc2cudmFsdWUpOwoKCQl3YWxsZXQudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICAJfQoKIAlmdW5jdGlvbiBpc1RyYW5zZmVyYWJsZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sIHRyYW5zZmVyYWJsZSkKCXsKCQlpZiAoIGF0Tm93KCkgPCBtYWluU2FsZVNlY29uZEVuZERhdGUgKyB0cmFuc2ZlckNvb2xkb3duICkKCQl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCXJldHVybiB0cnVlOwogIAl9CgoJZnVuY3Rpb24gY29pbkxvY2tSZW1vdmUoYWRkcmVzcyBfcGFydGljaXBhbnQpIHB1YmxpYwoJewoJCXJlcXVpcmUoIG1zZy5zZW5kZXIgPT0gYWRtaW5XYWxsZXQgfHwgbXNnLnNlbmRlciA9PSBvd25lciApOwoJCWNvaW5Mb2NrZWRbX3BhcnRpY2lwYW50XSA9IGZhbHNlOwoJCUxvY2tSZW1vdmUoX3BhcnRpY2lwYW50KTsKICAJfQoKCWZ1bmN0aW9uIGNvaW5Mb2NrUm1vdmVNdWx0aXBsZShhZGRyZXNzW10gX3BhcnRpY2lwYW50cykgcHVibGljCgl7CgkJcmVxdWlyZSggbXNnLnNlbmRlciA9PSBhZG1pbldhbGxldCB8fCBtc2cuc2VuZGVyID09IG93bmVyICk7CiAgICAJCQoJCWZvciAodWludCBpID0gMDsgaSA8IF9wYXJ0aWNpcGFudHMubGVuZ3RoOyBpKyspCgkJewogIAkJCWNvaW5Mb2NrZWRbX3BhcnRpY2lwYW50c1tpXV0gPSBmYWxzZTsKICAJCQlMb2NrUmVtb3ZlKF9wYXJ0aWNpcGFudHNbaV0pOwoJCX0KICAJfQoKICAJZnVuY3Rpb24gY2hhbmdlV2FsbGV0KGFkZHJlc3MgX3dhbGxldCkgb25seU93bmVyIHB1YmxpYwoJewogICAgCQlyZXF1aXJlKCBfd2FsbGV0ICE9IGFkZHJlc3MoMHgwKSApOwogICAgCQl3YWxsZXQgPSBfd2FsbGV0OwogICAgCQlXYWxsZXRDaGFuZ2Uod2FsbGV0KTsKICAJfQoKICAJZnVuY3Rpb24gY2hhbmdlQWRtaW5XYWxsZXQoYWRkcmVzcyBfd2FsbGV0KSBvbmx5T3duZXIgcHVibGljCgl7CiAgICAJCXJlcXVpcmUoIF93YWxsZXQgIT0gYWRkcmVzcygweDApICk7CiAgICAJCWFkbWluV2FsbGV0ID0gX3dhbGxldDsKICAgIAkJQWRtaW5XYWxsZXRDaGFuZ2UoYWRtaW5XYWxsZXQpOwogIAl9CgogIAlmdW5jdGlvbiBtaW50TWFya2V0aW5nKGFkZHJlc3MgX3BhcnRpY2lwYW50LCB1aW50IF9hbW91bnQpIG9ubHlPd25lciBwdWJsaWMKCXsKCQl1aW50IGNvaW5zID0gX2Ftb3VudCAqIEUxODsKCQkKCQlyZXF1aXJlKCBjb2lucyA8PSBta3RDb2luQ2FwLnN1Yihjb2luSXNzdWVkTWt0KSApOwoJCQoJCWJhbGFuY2VzW19wYXJ0aWNpcGFudF0gPSBiYWxhbmNlc1tfcGFydGljaXBhbnRdLmFkZChjb2lucyk7CgkJCgkJY29pbklzc3VlZE1rdCAgID0gY29pbklzc3VlZE1rdC5hZGQoY29pbnMpOwoJCWNvaW5Jc3N1ZWRUb3RhbCA9IGNvaW5Jc3N1ZWRUb3RhbC5hZGQoY29pbnMpOwoJCXRva2Vuc0lzc3VlZFRvdGFsID0gdG9rZW5zSXNzdWVkVG90YWwuYWRkKGNvaW5zKTsKCQkKCQljb2luTG9ja2VkW19wYXJ0aWNpcGFudF0gPSB0cnVlOwoJCQoJCVRyYW5zZmVyKDB4MCwgX3BhcnRpY2lwYW50LCBjb2lucyk7CgkJQ29pbk1pbnRlZChfcGFydGljaXBhbnQsIGNvaW5zLCBiYWxhbmNlc1tfcGFydGljaXBhbnRdKTsKICAJfQogIAkKICAJZnVuY3Rpb24gbWludEljb1Rva2VuTXVsdGlwbGUoYWRkcmVzc1tdIF9hZGRyZXNzZXMsIHVpbnRbXSBfYW1vdW50cykgb25seU93bmVyIHB1YmxpYwogIAl7CgkJdWludCBjb2lucyA9IDA7CgkJCgkJZm9yICh1aW50IGkgPSAwOyBpIDwgX2FkZHJlc3Nlcy5sZW5ndGg7IGkrKykKCQl7CgkJICAgIGNvaW5zID0gX2Ftb3VudHNbaV0gKiBFMTg7CgkJICAgIAoJCSAgICBiYWxhbmNlc1tfYWRkcmVzc2VzW2ldXSA9IGJhbGFuY2VzW19hZGRyZXNzZXNbaV1dLmFkZChjb2lucyk7CiAgICAKCQkgICAgY29pbklzc3VlZEljbyAgICAgICA9IGNvaW5Jc3N1ZWRJY28uYWRkKGNvaW5zKTsKCQkgICAgY29pbklzc3VlZFRvdGFsICAgICA9IGNvaW5Jc3N1ZWRUb3RhbC5hZGQoY29pbnMpOwoJCSAgICB0b2tlbnNJc3N1ZWRUb3RhbCAgID0gdG9rZW5zSXNzdWVkVG90YWwuYWRkKGNvaW5zKTsKICAgIAoJCSAgICBjb2luTG9ja2VkW19hZGRyZXNzZXNbaV1dID0gdHJ1ZTsKCQkgICAgVHJhbnNmZXIoMHgwLCBfYWRkcmVzc2VzW2ldLCBjb2lucyk7CgkgICAgICAgIENvaW5NaW50ZWQoX2FkZHJlc3Nlc1tpXSwgY29pbnMsIGJhbGFuY2VzW19hZGRyZXNzZXNbaV1dKTsKCQl9CiAgCX0KICAJCiAgCWZ1bmN0aW9uIG93bmVyV2l0aGRyYXcoKSBleHRlcm5hbCBvbmx5T3duZXIKCXsKCQl1aW50IGFtb3VudCA9IHRoaXMuYmFsYW5jZTsKCQl3YWxsZXQudHJhbnNmZXIoYW1vdW50KTsKCQlXaXRoRHJhdyhtc2cuc2VuZGVyLCBhbW91bnQpOwogIAl9CiAgCQogIAlmdW5jdGlvbiB0cmFuc2ZlckFueUVSQzIwVG9rZW4oYWRkcmVzcyB0b2tlbkFkZHJlc3MsIHVpbnQgYW1vdW50KSBvbmx5T3duZXIgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykKCXsKICAJCXJldHVybiBFUkMyMEludGVyZmFjZSh0b2tlbkFkZHJlc3MpLnRyYW5zZmVyKG93bmVyLCBhbW91bnQpOwogIAl9CiAgCQogIAlmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQoJewoJCXJlcXVpcmUoIGlzVHJhbnNmZXJhYmxlKCkgKTsKCQlyZXF1aXJlKCBjb2luTG9ja2VkW21zZy5zZW5kZXJdID09IGZhbHNlICk7CgkJcmVxdWlyZSggY29pbkxvY2tlZFtfdG9dID09IGZhbHNlICk7CgkJcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX2Ftb3VudCk7CiAgCX0KICAJCiAgCWZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQoJewoJCXJlcXVpcmUoIGlzVHJhbnNmZXJhYmxlKCkgKTsKCQlyZXF1aXJlKCBjb2luTG9ja2VkW19mcm9tXSA9PSBmYWxzZSApOwoJCXJlcXVpcmUoIGNvaW5Mb2NrZWRbX3RvXSA9PSBmYWxzZSApOwoJCXJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgCX0KCiAgCWZ1bmN0aW9uIHRyYW5zZmVyTXVsdGlwbGUoYWRkcmVzc1tdIF9hZGRyZXNzZXMsIHVpbnRbXSBfYW1vdW50cykgZXh0ZXJuYWwKICAJewoJCXJlcXVpcmUoIGlzVHJhbnNmZXJhYmxlKCkgKTsKCQlyZXF1aXJlKCBjb2luTG9ja2VkW21zZy5zZW5kZXJdID09IGZhbHNlICk7CgkJcmVxdWlyZSggX2FkZHJlc3Nlcy5sZW5ndGggPT0gX2Ftb3VudHMubGVuZ3RoICk7CgkJCgkJZm9yICh1aW50IGkgPSAwOyBpIDwgX2FkZHJlc3Nlcy5sZW5ndGg7IGkrKykKCQl7CiAgCQkJaWYgKGNvaW5Mb2NrZWRbX2FkZHJlc3Nlc1tpXV0gPT0gZmFsc2UpIAoJCQl7CgkJCQlzdXBlci50cmFuc2ZlcihfYWRkcmVzc2VzW2ldLCBfYW1vdW50c1tpXSk7CgkJCX0KCQl9CiAgCX0KCiAgCWZ1bmN0aW9uIHJlY2xhaW1GdW5kcygpIGV4dGVybmFsCgl7CgkJdWludCBjb2luczsKCQl1aW50IGFtb3VudDsKCgkJcmVxdWlyZSggYXROb3coKSA+IG1haW5TYWxlU2Vjb25kRW5kRGF0ZSApOwoJCXJlcXVpcmUoICFyZWZ1bmRDbGFpbWVkW21zZy5zZW5kZXJdICk7CgkJcmVxdWlyZSggaWNvRXRoZXJDb250cmlidXRlZFttc2cuc2VuZGVyXSA+IDAgKTsKCgkJY29pbnMgPSBpY29Db2luUmVjZWl2ZWRbbXNnLnNlbmRlcl07CgkJYW1vdW50ID0gaWNvRXRoZXJDb250cmlidXRlZFttc2cuc2VuZGVyXTsKCgkJYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoY29pbnMpOwoJCXRva2Vuc0lzc3VlZFRvdGFsICAgID0gdG9rZW5zSXNzdWVkVG90YWwuc3ViKGNvaW5zKTsKCgkJcmVmdW5kQ2xhaW1lZFttc2cuc2VuZGVyXSA9IHRydWU7CgoJCW1zZy5zZW5kZXIudHJhbnNmZXIoYW1vdW50KTsKCgkJVHJhbnNmZXIobXNnLnNlbmRlciwgMHgwLCBjb2lucyk7CgkJUmVmdW5kKG1zZy5zZW5kZXIsIGFtb3VudCwgY29pbnMpOwogIAl9CiAgCQogICAgZnVuY3Rpb24gdHJhbnNmZXJUb093bmVyKGFkZHJlc3MgX2Zyb20pIG9ubHlPd25lciBwdWJsaWMKICAgIHsKCQlyZXF1aXJlKCBjb2luTG9ja2VkW19mcm9tXSA9PSBmYWxzZSApOwogICAgICAgIHVpbnQgYW1vdW50ID0gYmFsYW5jZU9mKF9mcm9tKTsKICAgICAgICAKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKGFtb3VudCk7CiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gYmFsYW5jZXNbb3duZXJdLmFkZChhbW91bnQpOwogICAgICAgIAogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBvd25lciwgYW1vdW50KTsKICAgICAgICBPd25lclJlY2xhaW0oX2Zyb20sIG93bmVyLCBhbW91bnQpOwogICAgfQoKCWZ1bmN0aW9uIGJ1cm5JY29Db2lucygpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQoJewoJICAgIHVpbnQgY29pbnMgPSAxNDAwMDAwMDAwICogRTE4OwoJICAgIGNvaW5zID0gY29pbnMuc3ViKGNvaW5Jc3N1ZWRJY28pOwoJICAgIAoJICAgIGFkZHJlc3MgYnVybmVyID0gbXNnLnNlbmRlcjsKCSAgICAKCQliYWxhbmNlc1tidXJuZXJdID0gYmFsYW5jZXNbYnVybmVyXS5hZGQoY29pbnMpOwoJCQoJCWNvaW5Jc3N1ZWRUb3RhbCA9IGNvaW5Jc3N1ZWRUb3RhbC5hZGQoY29pbnMpOwoJCWNvaW5Jc3N1ZWRJY28gICA9IGNvaW5Jc3N1ZWRJY28uYWRkKGNvaW5zKTsKCQl0b2tlbnNJc3N1ZWRUb3RhbCA9IHRva2Vuc0lzc3VlZFRvdGFsLmFkZChjb2lucyk7CgkJCgkJVHJhbnNmZXIoMHgwLCBidXJuZXIsIGNvaW5zKTsKCQkKICAgICAgICBjb2luSXNzdWVkVG90YWwgPSBjb2luSXNzdWVkVG90YWwuc3ViKGNvaW5zKTsKICAgICAgICBjb2luSXNzdWVkSWNvID0gY29pbklzc3VlZEljby5zdWIoY29pbnMpOwogICAgICAgIGNvaW5CdXJuSWNvID0gY29pbkJ1cm5JY28uYWRkKGNvaW5zKTsKCQkKCQlyZXR1cm4gc3VwZXIuYnVybihjb2lucyk7Cgl9CgoJZnVuY3Rpb24gYnVybk1rdENvaW5zKCkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpCgl7CgkgICAgdWludCBjb2lucyA9IDYwMDAwMDAwMCAqIEUxODsKCSAgICBjb2lucyA9IGNvaW5zLnN1Yihjb2luSXNzdWVkTWt0KTsKCSAgICAKCSAgICBhZGRyZXNzIGJ1cm5lciA9IG1zZy5zZW5kZXI7CgkgICAgCgkJYmFsYW5jZXNbYnVybmVyXSA9IGJhbGFuY2VzW2J1cm5lcl0uYWRkKGNvaW5zKTsKCQkKCQljb2luSXNzdWVkVG90YWwgPSBjb2luSXNzdWVkVG90YWwuYWRkKGNvaW5zKTsKCQljb2luSXNzdWVkSWNvICAgPSBjb2luSXNzdWVkSWNvLmFkZChjb2lucyk7CgkJdG9rZW5zSXNzdWVkVG90YWwgPSB0b2tlbnNJc3N1ZWRUb3RhbC5hZGQoY29pbnMpOwoJCQoJCVRyYW5zZmVyKDB4MCwgYnVybmVyLCBjb2lucyk7CgkJCiAgICAgICAgY29pbklzc3VlZFRvdGFsID0gY29pbklzc3VlZFRvdGFsLnN1Yihjb2lucyk7CiAgICAgICAgY29pbklzc3VlZE1rdCA9IGNvaW5Jc3N1ZWRNa3Quc3ViKGNvaW5zKTsKICAgICAgICBjb2luQnVybk1rdCA9IGNvaW5CdXJuTWt0LmFkZChjb2lucyk7CgkJCgkJcmV0dXJuIHN1cGVyLmJ1cm4oY29pbnMpOwoJfQoKfQ=='.
	

]
