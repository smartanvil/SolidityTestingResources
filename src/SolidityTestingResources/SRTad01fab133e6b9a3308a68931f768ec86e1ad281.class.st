Class {
	#name : #SRTad01fab133e6b9a3308a68931f768ec86e1ad281,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTad01fab133e6b9a3308a68931f768ec86e1ad281 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7Cgpjb250cmFjdCBSb3NoYW1ibyB7CiAgICBlbnVtIFN0YXRlIHsgVW5yZWFsaXplZCwgQ3JlYXRlZCwgSm9pbmVkLCBFbmRlZCB9CiAgICBlbnVtIFJlc3VsdCB7IFVuZmluaXNoZWQsIERyYXcsIFdpbiwgTG9zcywgRm9yZmVpdCB9CiAgICBlbnVtIFJlc3VsdFR5cGUgeyBOb25lLCBTdHJhaWdodFVwLCBUaWVicm9rZW4sIFN1cGVyRHJhdyB9IAogICAgc3RydWN0IEdhbWUgewogICAgICAgIGFkZHJlc3MgcGxheWVyMTsKICAgICAgICBhZGRyZXNzIHBsYXllcjI7CiAgICAgICAgdWludCB2YWx1ZTsKICAgICAgICBieXRlczMyIGhpZGRlbk1vdmUxOwogICAgICAgIHVpbnQ4IG1vdmUxOyAvLyAwID0gbm90IHNldCwgMSA9IFJvY2ssIDIgPSBQYXBlciwgMyA9IFNjaXNzb3JzCiAgICAgICAgdWludDggbW92ZTI7CiAgICAgICAgdWludCBnYW1lU3RhcnQ7CiAgICAgICAgdWludDggdGllYnJlYWtlcjsKICAgICAgICB1aW50OCB0aWVicmVha2VyMTsKICAgICAgICB1aW50OCB0aWVicmVha2VyMjsKICAgICAgICBTdGF0ZSBzdGF0ZTsKICAgICAgICBSZXN1bHQgcmVzdWx0OwogICAgICAgIFJlc3VsdFR5cGUgcmVzdWx0VHlwZTsKICAgIH0KICAgIAogICAgYWRkcmVzcyBwdWJsaWMgb3duZXIxOwogICAgdWludDggY29uc3RhbnQgZmVlRGl2aXNvciA9IDEwMDsKICAgIHVpbnQgY29uc3RhbnQgcmV2ZWFsVGltZSA9IDcgZGF5czsKICAgIGJvb2wgcGF1c2VkOwogICAgYm9vbCBleHBpcmVkOwogICAgdWludCBnYW1lSWRDb3VudGVyOwogICAgCiAgICBldmVudCBEZXBvc2l0KGFkZHJlc3MgaW5kZXhlZCBwbGF5ZXIsIHVpbnQgYW1vdW50KTsKICAgIGV2ZW50IFdpdGhkcmF3KGFkZHJlc3MgaW5kZXhlZCBwbGF5ZXIsIHVpbnQgYW1vdW50KTsKICAgIGV2ZW50IEdhbWVDcmVhdGVkKGFkZHJlc3MgaW5kZXhlZCBwbGF5ZXIxLCBhZGRyZXNzIGluZGV4ZWQgcGxheWVyMiwgdWludCBpbmRleGVkIGdhbWVJZCwgdWludCB2YWx1ZSwgYnl0ZXMzMiBoaWRkZW5Nb3ZlMSk7CiAgICBldmVudCBHYW1lSm9pbmVkKGFkZHJlc3MgaW5kZXhlZCBwbGF5ZXIxLCBhZGRyZXNzIGluZGV4ZWQgcGxheWVyMiwgdWludCBpbmRleGVkIGdhbWVJZCwgdWludCB2YWx1ZSwgdWludDggbW92ZTIsIHVpbnQgZ2FtZVN0YXJ0KTsKICAgIGV2ZW50IEdhbWVFbmRlZChhZGRyZXNzIGluZGV4ZWQgcGxheWVyMSwgYWRkcmVzcyBpbmRleGVkIHBsYXllcjIsIHVpbnQgaW5kZXhlZCBnYW1lSWQsIHVpbnQgdmFsdWUsIFJlc3VsdCByZXN1bHQsIFJlc3VsdFR5cGUgcmVzdWx0VHlwZSk7CiAgICAKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgYmFsYW5jZXM7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcHVibGljIHRvdGFsV29uOwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyB0b3RhbExvc3Q7CiAgICAKICAgIEdhbWUgW10gcHVibGljIGdhbWVzOwogICAgbWFwcGluZyhhZGRyZXNzID0+IHN0cmluZykgcHVibGljIHBsYXllck5hbWVzOwogICAgbWFwcGluZyh1aW50ID0+IGJvb2wpIHB1YmxpYyBuYW1lVGFrZW47CiAgICBtYXBwaW5nKGJ5dGVzMzIgPT4gYm9vbCkgcHVibGljIHNlY3JldFRha2VuOwogICAgCiAgICBtb2RpZmllciBvbmx5T3duZXIgeyByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIxKTsgXzsgfQogICAgbW9kaWZpZXIgbm90UGF1c2VkIHsgcmVxdWlyZSghcGF1c2VkKTsgXzsgfQogICAgbW9kaWZpZXIgbm90RXhwaXJlZCB7IHJlcXVpcmUoIWV4cGlyZWQpOyBfOyB9CgogICAgZnVuY3Rpb24gUm9zaGFtYm8oKSBwdWJsaWMgewogICAgICAgIG93bmVyMSA9IG1zZy5zZW5kZXI7CiAgICAgICAgcGF1c2VkID0gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiByYW5kKHVpbnQ4IG1pbiwgdWludDggbWF4KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50OCl7CiAgICAgICAgcmV0dXJuIHVpbnQ4KGJsb2NrLmJsb2NraGFzaChibG9jay5udW1iZXItbWluKSklIG1heCArIG1pbjsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ2V0R2FtZXMoKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zIChHYW1lIFtdKSB7CiAgICAgICAgcmV0dXJuIGdhbWVzOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB0b3RhbFByb2ZpdChhZGRyZXNzIHBsYXllcikgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAoaW50KSB7CiAgICAgICAgaWYgKHRvdGFsTG9zdFtwbGF5ZXJdID4gdG90YWxXb25bcGxheWVyXSkgewogICAgICAgICAgICByZXR1cm4gLWludCh0b3RhbExvc3RbcGxheWVyXSAtIHRvdGFsV29uW3BsYXllcl0pOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGludCh0b3RhbFdvbltwbGF5ZXJdIC0gdG90YWxMb3N0W3BsYXllcl0pOwogICAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gY3JlYXRlR2FtZShieXRlczMyIG1vdmUsIHVpbnQgdmFsLCBhZGRyZXNzIHBsYXllcjIpIHB1YmxpYwogICAgcGF5YWJsZSBub3RQYXVzZWQgbm90RXhwaXJlZCByZXR1cm5zICh1aW50IGdhbWVJZCkgewogICAgICAgIGRlcG9zaXQoKTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IHZhbCk7CiAgICAgICAgcmVxdWlyZSghc2VjcmV0VGFrZW5bbW92ZV0pOwogICAgICAgIHNlY3JldFRha2VuW21vdmVdID0gdHJ1ZTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSB2YWw7CiAgICAgICAgZ2FtZUlkID0gZ2FtZUlkQ291bnRlcjsKICAgICAgICBnYW1lcy5wdXNoKEdhbWUobXNnLnNlbmRlciwgcGxheWVyMiwgdmFsLCBtb3ZlLCAwLCAwLCAwLCAwLCAwLCAwLCBTdGF0ZS5DcmVhdGVkLCBSZXN1bHQoMCksIFJlc3VsdFR5cGUoMCkpKTsKCiAgICAgICAgR2FtZUNyZWF0ZWQobXNnLnNlbmRlciwgcGxheWVyMiwgZ2FtZUlkLCB2YWwsIG1vdmUpOwogICAgICAgIGdhbWVJZENvdW50ZXIrKzsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYWJvcnRHYW1lKHVpbnQgZ2FtZUlkKSBwdWJsaWMgbm90UGF1c2VkIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIEdhbWUgc3RvcmFnZSB0aGlzR2FtZSA9IGdhbWVzW2dhbWVJZF07CiAgICAgICAgcmVxdWlyZSh0aGlzR2FtZS5wbGF5ZXIxID09IG1zZy5zZW5kZXIpOwogICAgICAgIHJlcXVpcmUodGhpc0dhbWUuc3RhdGUgPT0gU3RhdGUuQ3JlYXRlZCk7CiAgICAgICAgdGhpc0dhbWUuc3RhdGUgPSBTdGF0ZS5FbmRlZDsKCiAgICAgICAgR2FtZUVuZGVkKHRoaXNHYW1lLnBsYXllcjEsIHRoaXNHYW1lLnBsYXllcjIsIGdhbWVJZCwgdGhpc0dhbWUudmFsdWUsIFJlc3VsdCgwKSwgUmVzdWx0VHlwZS5TdHJhaWdodFVwKTsKCiAgICAgICAgbXNnLnNlbmRlci50cmFuc2Zlcih0aGlzR2FtZS52YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGpvaW5HYW1lKHVpbnQgZ2FtZUlkLCB1aW50OCBtb3ZlLCB1aW50OCB0aWVicmVha2VyKSBwdWJsaWMgcGF5YWJsZSBub3RQYXVzZWQgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgR2FtZSBzdG9yYWdlIHRoaXNHYW1lID0gZ2FtZXNbZ2FtZUlkXTsKICAgICAgICByZXF1aXJlKHRoaXNHYW1lLnN0YXRlID09IFN0YXRlLkNyZWF0ZWQpOwogICAgICAgIHJlcXVpcmUobW92ZSA+IDAgJiYgbW92ZSA8PSAzKTsKICAgICAgICBpZiAodGhpc0dhbWUucGxheWVyMiA9PSAweDApIHsKICAgICAgICAgICAgdGhpc0dhbWUucGxheWVyMiA9IG1zZy5zZW5kZXI7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXF1aXJlKHRoaXNHYW1lLnBsYXllcjIgPT0gbXNnLnNlbmRlcik7CiAgICAgICAgfQogICAgICAgIHJlcXVpcmUodGhpc0dhbWUudmFsdWUgPT0gbXNnLnZhbHVlKTsKICAgICAgICB0aGlzR2FtZS5nYW1lU3RhcnQgPSBub3c7CiAgICAgICAgdGhpc0dhbWUuc3RhdGUgPSBTdGF0ZS5Kb2luZWQ7CiAgICAgICAgdGhpc0dhbWUubW92ZTIgPSBtb3ZlOwogICAgICAgIHRoaXNHYW1lLnRpZWJyZWFrZXIyID0gdGllYnJlYWtlcjsKCiAgICAgICAgR2FtZUpvaW5lZCh0aGlzR2FtZS5wbGF5ZXIxLCB0aGlzR2FtZS5wbGF5ZXIyLCBnYW1lSWQsIHRoaXNHYW1lLnZhbHVlLCB0aGlzR2FtZS5tb3ZlMiwgdGhpc0dhbWUuZ2FtZVN0YXJ0KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gcmV2ZWFsTW92ZSh1aW50IGdhbWVJZCwgdWludDggbW92ZSwgdWludDggdGllYnJlYWtlciwgc3RyaW5nIHNlY3JldCkgcHVibGljIG5vdFBhdXNlZCByZXR1cm5zIChSZXN1bHQgcmVzdWx0KSB7CiAgICAgICAgR2FtZSBzdG9yYWdlIHRoaXNHYW1lID0gZ2FtZXNbZ2FtZUlkXTsKICAgICAgICBSZXN1bHRUeXBlIHJlc3VsdFR5cGUgPSBSZXN1bHRUeXBlLk5vbmU7CiAgICAgICAgcmVxdWlyZSh0aGlzR2FtZS5zdGF0ZSA9PSBTdGF0ZS5Kb2luZWQpOwogICAgICAgIHJlcXVpcmUodGhpc0dhbWUucGxheWVyMSA9PSBtc2cuc2VuZGVyKTsKICAgICAgICByZXF1aXJlKHRoaXNHYW1lLmhpZGRlbk1vdmUxID09IGtlY2NhazI1Nih1aW50KG1vdmUpLCB1aW50KHRpZWJyZWFrZXIpLCBzZWNyZXQpKTsKICAgICAgICB0aGlzR2FtZS5tb3ZlMSA9IG1vdmU7CiAgICAgICAgdGhpc0dhbWUudGllYnJlYWtlcjEgPSB0aWVicmVha2VyOwogICAgICAgIGlmIChtb3ZlID4gMCAmJiBtb3ZlIDw9IDMpIHsKICAgICAgICAgICAgcmVzdWx0ID0gUmVzdWx0KCgoMyArIG1vdmUgLSB0aGlzR2FtZS5tb3ZlMikgJSAzKSArIDEpOyAKICAgICAgICB9CiAgICAgICAgZWxzZSB7IC8vIFBsYXllciAxIHN1Ym1pdHRlZCBpbnZhbGlkIG1vdmUKICAgICAgICAgICAgcmVzdWx0ID0gUmVzdWx0Lkxvc3M7CiAgICAgICAgfQogICAgICAgIHRoaXNHYW1lLnN0YXRlID0gU3RhdGUuRW5kZWQ7CiAgICAgICAgYWRkcmVzcyB3aW5uZXI7CiAgICAgICAgaWYgKHJlc3VsdCAhPSBSZXN1bHQuRHJhdykgewogICAgICAgICAgICByZXN1bHRUeXBlID0gUmVzdWx0VHlwZS5TdHJhaWdodFVwOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJlc3VsdCA9PSBSZXN1bHQuRHJhdykgewogICAgICAgICAgICB0aGlzR2FtZS50aWVicmVha2VyID0gcmFuZCgxLCAxMDApOwoKICAgICAgICAgICAgaW50OCBwbGF5ZXIxVGllYnJlYWtlciA9ICBpbnQ4KHRoaXNHYW1lLnRpZWJyZWFrZXIpIC0gaW50OCh0aGlzR2FtZS50aWVicmVha2VyMSk7CiAgICAgICAgICAgIGlmKHBsYXllcjFUaWVicmVha2VyIDwgMCkgewogICAgICAgICAgICAgICAgcGxheWVyMVRpZWJyZWFrZXIgPSBwbGF5ZXIxVGllYnJlYWtlciAqIGludDgoLTEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGludDggcGxheWVyMlRpZWJyZWFrZXIgPSBpbnQ4KHRoaXNHYW1lLnRpZWJyZWFrZXIpIC0gaW50OCh0aGlzR2FtZS50aWVicmVha2VyMik7CiAgICAgICAgICAgIGlmKHBsYXllcjJUaWVicmVha2VyIDwgMCkgewogICAgICAgICAgICAgICAgcGxheWVyMlRpZWJyZWFrZXIgPSBwbGF5ZXIyVGllYnJlYWtlciAqIGludDgoLTEpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZihwbGF5ZXIxVGllYnJlYWtlciA9PSBwbGF5ZXIyVGllYnJlYWtlcikgewogICAgICAgICAgICAgICAgcmVzdWx0VHlwZSA9IFJlc3VsdFR5cGUuU3VwZXJEcmF3OwogICAgICAgICAgICAgICAgYmFsYW5jZXNbdGhpc0dhbWUucGxheWVyMV0gKz0gdGhpc0dhbWUudmFsdWU7CiAgICAgICAgICAgICAgICBiYWxhbmNlc1t0aGlzR2FtZS5wbGF5ZXIyXSArPSB0aGlzR2FtZS52YWx1ZTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICByZXN1bHRUeXBlID0gUmVzdWx0VHlwZS5UaWVicm9rZW47CiAgICAgICAgICAgICAgICBpZihwbGF5ZXIxVGllYnJlYWtlciA8IHBsYXllcjJUaWVicmVha2VyKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gUmVzdWx0LldpbjsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFJlc3VsdC5Mb3NzOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKHJlc3VsdFR5cGUgIT0gUmVzdWx0VHlwZS5TdXBlckRyYXcpIHsKICAgICAgICAgICAgaWYgKHJlc3VsdCA9PSBSZXN1bHQuV2luKSB7CiAgICAgICAgICAgICAgICB3aW5uZXIgPSB0aGlzR2FtZS5wbGF5ZXIxOwogICAgICAgICAgICAgICAgdG90YWxMb3N0W3RoaXNHYW1lLnBsYXllcjJdICs9IHRoaXNHYW1lLnZhbHVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgd2lubmVyID0gdGhpc0dhbWUucGxheWVyMjsKICAgICAgICAgICAgICAgIHRvdGFsTG9zdFt0aGlzR2FtZS5wbGF5ZXIxXSArPSB0aGlzR2FtZS52YWx1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICB1aW50IGZlZSA9ICh0aGlzR2FtZS52YWx1ZSkgLyBmZWVEaXZpc29yOwogICAgICAgICAgICBiYWxhbmNlc1tvd25lcjFdICs9IGZlZSoyOwogICAgICAgICAgICB0b3RhbFdvblt3aW5uZXJdICs9IHRoaXNHYW1lLnZhbHVlIC0gZmVlKjI7CiAgICAgICAgICAgIC8vIE5vIHJlLWVudHJhbmN5IGF0dGFjayBpcyBwb3NzaWJsZSBiZWNhdXNlCiAgICAgICAgICAgIC8vIHRoZSBzdGF0ZSBoYXMgYWxyZWFkeSBiZWVuIHNldCB0byBTdGF0ZS5FbmRlZAogICAgICAgICAgICB3aW5uZXIudHJhbnNmZXIoKHRoaXNHYW1lLnZhbHVlKjIpIC0gZmVlKjIpOwogICAgICAgIH0KCiAgICAgICAgdGhpc0dhbWUucmVzdWx0ID0gcmVzdWx0OwogICAgICAgIHRoaXNHYW1lLnJlc3VsdFR5cGUgPSByZXN1bHRUeXBlOwoKICAgICAgICBHYW1lRW5kZWQodGhpc0dhbWUucGxheWVyMSwgdGhpc0dhbWUucGxheWVyMiwgZ2FtZUlkLCB0aGlzR2FtZS52YWx1ZSwgcmVzdWx0LCByZXN1bHRUeXBlKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZm9yZmVpdEdhbWUodWludCBnYW1lSWQpIHB1YmxpYyBub3RQYXVzZWQgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgR2FtZSBzdG9yYWdlIHRoaXNHYW1lID0gZ2FtZXNbZ2FtZUlkXTsKICAgICAgICByZXF1aXJlKHRoaXNHYW1lLnN0YXRlID09IFN0YXRlLkpvaW5lZCk7CiAgICAgICAgcmVxdWlyZSh0aGlzR2FtZS5wbGF5ZXIxID09IG1zZy5zZW5kZXIpOwogICAgICAgIAogICAgICAgIHVpbnQgZmVlID0gKHRoaXNHYW1lLnZhbHVlKSAvIGZlZURpdmlzb3I7IAogICAgICAgIGJhbGFuY2VzW293bmVyMV0gKz0gZmVlKjI7CiAgICAgICAgdG90YWxMb3N0W3RoaXNHYW1lLnBsYXllcjFdICs9IHRoaXNHYW1lLnZhbHVlOwogICAgICAgIHRvdGFsV29uW3RoaXNHYW1lLnBsYXllcjJdICs9IHRoaXNHYW1lLnZhbHVlIC0gZmVlKjI7CiAgICAgICAgdGhpc0dhbWUuc3RhdGUgPSBTdGF0ZS5FbmRlZDsKICAgICAgICB0aGlzR2FtZS5yZXN1bHQgPSBSZXN1bHQuRm9yZmVpdDsgLy8gTG9zcyBmb3IgcGxheWVyIDEKCiAgICAgICAgR2FtZUVuZGVkKHRoaXNHYW1lLnBsYXllcjEsIHRoaXNHYW1lLnBsYXllcjIsIGdhbWVJZCwgdGhpc0dhbWUudmFsdWUsIHRoaXNHYW1lLnJlc3VsdCwgUmVzdWx0VHlwZS5TdHJhaWdodFVwKTsKICAgICAgICAKICAgICAgICB0aGlzR2FtZS5wbGF5ZXIyLnRyYW5zZmVyKCh0aGlzR2FtZS52YWx1ZSoyKSAtIGZlZSoyKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY2xhaW1HYW1lKHVpbnQgZ2FtZUlkKSBwdWJsaWMgbm90UGF1c2VkIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIEdhbWUgc3RvcmFnZSB0aGlzR2FtZSA9IGdhbWVzW2dhbWVJZF07CiAgICAgICAgcmVxdWlyZSh0aGlzR2FtZS5zdGF0ZSA9PSBTdGF0ZS5Kb2luZWQpOwogICAgICAgIHJlcXVpcmUodGhpc0dhbWUucGxheWVyMiA9PSBtc2cuc2VuZGVyKTsKICAgICAgICByZXF1aXJlKHRoaXNHYW1lLmdhbWVTdGFydCArIHJldmVhbFRpbWUgPCBub3cpOyAKICAgICAgICAKICAgICAgICB1aW50IGZlZSA9ICh0aGlzR2FtZS52YWx1ZSkgLyBmZWVEaXZpc29yOwogICAgICAgIGJhbGFuY2VzW293bmVyMV0gKz0gZmVlKjI7CiAgICAgICAgdG90YWxMb3N0W3RoaXNHYW1lLnBsYXllcjFdICs9IHRoaXNHYW1lLnZhbHVlOwogICAgICAgIHRvdGFsV29uW3RoaXNHYW1lLnBsYXllcjJdICs9IHRoaXNHYW1lLnZhbHVlIC0gZmVlKjI7CiAgICAgICAgdGhpc0dhbWUuc3RhdGUgPSBTdGF0ZS5FbmRlZDsKICAgICAgICB0aGlzR2FtZS5yZXN1bHQgPSBSZXN1bHQuRm9yZmVpdDsgLy8gTG9zcyBmb3IgcGxheWVyIDEKICAgICAgICAKICAgICAgICBHYW1lRW5kZWQodGhpc0dhbWUucGxheWVyMSwgdGhpc0dhbWUucGxheWVyMiwgZ2FtZUlkLCB0aGlzR2FtZS52YWx1ZSwgdGhpc0dhbWUucmVzdWx0LCBSZXN1bHRUeXBlLlN0cmFpZ2h0VXApOwoKICAgICAgICB0aGlzR2FtZS5wbGF5ZXIyLnRyYW5zZmVyKCh0aGlzR2FtZS52YWx1ZSoyKSAtIGZlZSoyKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZG9uYXRlKCkgcHVibGljIHBheWFibGUgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgIT0gMCk7CiAgICAgICAgYmFsYW5jZXNbb3duZXIxXSArPSBtc2cudmFsdWU7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgZnVuY3Rpb24gZGVwb3NpdCgpIHB1YmxpYyBwYXlhYmxlIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlICE9IDApOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZTsKCiAgICAgICAgRGVwb3NpdChtc2cuc2VuZGVyLCBtc2cudmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgZnVuY3Rpb24gd2l0aGRyYXcoKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgdWludCBhbW91bnQgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXTsKICAgICAgICBpZiAoYW1vdW50ID09IDApIHJldHVybiBmYWxzZTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IDA7CiAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihhbW91bnQpOwoKICAgICAgICBXaXRoZHJhdyhtc2cuc2VuZGVyLCBhbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBwYXVzZShib29sIHNldHBhdXNlKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBwYXVzZWQgPSBzZXRwYXVzZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZXhwaXJlKGJvb2wgc2V0ZXhwaXJlKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBleHBpcmVkID0gc2V0ZXhwaXJlOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBzZXRPd25lcihhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcjEpOwogICAgICAgIG93bmVyMSA9IG5ld093bmVyOwogICAgfQogICAgCn0='.
	

]
