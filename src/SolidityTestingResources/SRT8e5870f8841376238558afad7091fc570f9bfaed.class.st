Class {
	#name : #SRT8e5870f8841376238558afad7091fc570f9bfaed,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT8e5870f8841376238558afad7091fc570f9bfaed >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5XjAuNC4xNzsKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9Cgp9CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuIAogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLiAKICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCgoKCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICB2YXIgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldAogICAgLy8gcmVxdWlyZSAoX3ZhbHVlIDw9IF9hbGxvd2FuY2UpOwoKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9Cgp9Cgpjb250cmFjdCBWdWVQYXlUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKCXVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoJLy8gRXZlbnRzCglldmVudCBDcmVhdGVkVlVQKGFkZHJlc3MgaW5kZXhlZCBfY3JlYXRvciwgdWludDI1NiBfYW1vdW50T2ZWVVApOwoJZXZlbnQgVlVQUmVmdW5kZWRGb3JXZWkoYWRkcmVzcyBpbmRleGVkIF9yZWZ1bmRlciwgdWludDI1NiBfYW1vdW50T2ZXZWkpOwoJZXZlbnQgcHJpbnQodWludDI1NiB2dXApOwoJLy8gVG9rZW4gZGF0YQoJc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIlZ1ZVBheSBUb2tlbiI7CglzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJWVVAiOwoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsgIC8vIFNpbmNlIG91ciBkZWNpbWFscyBlcXVhbHMgdGhlIG51bWJlciBvZiB3ZWkgcGVyIGV0aGVyLCB3ZSBuZWVkbid0IG11bHRpcGx5IHNlbnQgdmFsdWVzIHdoZW4gY29udmVydGluZyBiZXR3ZWVuIFZVUCBhbmQgRVRILgoJc3RyaW5nIHB1YmxpYyB2ZXJzaW9uID0gIjEuMCI7CgkKCS8vIEFkZHJlc3NlcyBhbmQgY29udHJhY3RzCglhZGRyZXNzIHB1YmxpYyBleGVjdXRvcjsKCS8vVnVlcGF5IE11bHRpc2lnIFdhbGxldAoJYWRkcmVzcyBwdWJsaWMgdnVlUGF5RVRIRGVzdGluYXRpb249MHg4Qjg2OThERWUxMDBGQzVGNTYxODQ4RDBFNTdFOTQ1MDJCZDkzMThiOwoJLy9WdWVwYXkgRGV2ZWxvcG1lbnQgYWN0aXZpdGllcyBXYWxsZXQKCWFkZHJlc3MgcHVibGljIGNvbnN0YW50IGRldlZVUERlc3RpbmF0aW9uPTB4MzE0MDNmQTU1YUVhMjA2NWJCRGQyNzc4YkZFZDk2NjAxNGFiMDA4MTsKCS8vVnVlUGF5IENvcmUgVGVhbSByZXNlcnZlIFdhbGxldAoJYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgY29yZVZVUERlc3RpbmF0aW9uPTB4MjJkMzEwMTk0YjVhYzUwODZiRGFjYjJiMGYzNkQ4ZjBhNTk3MWIyMzsKCS8vVnVlUGF5IEFkdmlzb3J5IGFuZCBQcm9tb3Rpb25zIChQUi9NYXJrZXRpbmcvTWVkaWEgZXRjYy4pIHdhbGxldAoJYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgYWR2aXNvcnlWVVBEZXN0aW5hdGlvbj0weDk5MUFCRTc0YTFBQzNkOTAzZEE0NzlDYTlmZWRlM2QwOTU0ZDQzMEI7CgkvL1Z1ZVBheSBVc2VyIERFdmVsb3BtZW50IEZ1bmQgV2FsbGV0CglhZGRyZXNzIHB1YmxpYyBjb25zdGFudCB1ZGZWVVBEZXN0aW5hdGlvbj0weGY0MzA3QzA3MzQ1MWI4MEEwQmFEMUUwOTlmRDJCN2YwZmUzOGI3ZTk7CgkvL1Z1ZXBheSBDb2ZvdW5kZXIgV2FsbGV0CglhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBjb2ZvdW5kZXJWVVBEZXN0aW5hdGlvbj0weDg2M0IyMjE3RTgwZTZDNjE5MmY2M0QzNzE2YzBjQzc3MTFGYWQ1YjQ7CgkvL1Z1ZVBheSBVbnNvbGQgVG9rZW5zIHdhbGxldAoJYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgdW5zb2xkVlVQRGVzdGluYXRpb249MHg1MDc2MDg0YTMzNzdlY0RGOEFENWNEMGYyNkEyMWJBODQ4RGRGNDM1OwoJLy9Ub3RhbCBWdWVQYXkgU29sZAoJdWludDI1NiBwdWJsaWMgdG90YWxWVVA7CgkKCS8vIFNhbGUgZGF0YQoJYm9vbCBwdWJsaWMgc2FsZUhhc0VuZGVkOwoJYm9vbCBwdWJsaWMgbWluQ2FwUmVhY2hlZDsKCWJvb2wgcHVibGljIHByZVNhbGVFbmRlZDsKCWJvb2wgcHVibGljIGFsbG93UmVmdW5kOwoJbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgRVRIQ29udHJpYnV0ZWQ7Cgl1aW50MjU2IHB1YmxpYyB0b3RhbEVUSFJhaXNlZDsKCXVpbnQyNTYgcHVibGljIHByZVNhbGVTdGFydEJsb2NrOwoJdWludDI1NiBwdWJsaWMgcHJlU2FsZUVuZEJsb2NrOwoJdWludDI1NiBwdWJsaWMgaWNvRW5kQmxvY2s7CgkKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IGNvbGRTdG9yYWdlWWVhcnMgPSAxMCB5ZWFyczsKICAgIHVpbnQgcHVibGljIGNvcmVUZWFtVW5sb2NrZWRBdDsKICAgIHVpbnQgcHVibGljIHVuc29sZFVubG9ja2VkQXQ7CiAgICB1aW50MjU2IGNvcmVUZWFtU2hhcmU7CiAgICB1aW50MjU2IGNvZm91bmRlclNoYXJlOwogICAgdWludDI1NiBhZHZpc29yeVRlYW1TaGFyZTsKICAgIAoJLy8gQ2FsY3VsYXRlIHRoZSBWVVAgdG8gRVRIIHJhdGUgZm9yIHRoZSBjdXJyZW50IHRpbWUgcGVyaW9kIG9mIHRoZSBzYWxlCgl1aW50MjU2IGN1clRva2VuUmF0ZSA9IFZVUF9QRVJfRVRIX0JBU0VfUkFURTsKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IElOSVRJQUxfVlVQX1RPS0VOX1NVUFBMWSA9MTAwMDAwMDAwMGUxODsKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IFZVUF9UT0tFTl9TVVBQTFlfVElFUjEgPTE1MDAwMDAwMGUxODsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFZVUF9UT0tFTl9TVVBQTFlfVElFUjIgPTI3MDAwMDAwMGUxODsKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IFZVUF9UT0tFTl9TVVBQTFlfVElFUjMgPTM4MDAwMDAwMGUxODsKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IFZVUF9UT0tFTl9TVVBQTFlfVElFUjQgPTQwMDAwMDAwMGUxODsKCQoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUFJFU0FMRV9JQ09fUE9SVElPTiA9NDAwMDAwMDAwZTE4OyAgLy8gVG90YWwgZm9yIHNhbGUgaW4gUHJlIFNhbGUgYW5kIElDTyBJbiBwZXJjZW50YWdlCgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBBRFZJU09SWV9URUFNX1BPUlRJT04gPTUwMDAwMDAwZTE4OyAgLy8gVG90YWwgQWR2aXNvcnkgc2hhcmUgSW4gcGVyY2VudGFnZQoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgQ09SRV9URUFNX1BPUlRJT04gPTUwMDAwMDAwZTE4OyAgLy8gVG90YWwgY29yZSBUZWFtIHNoYXJlICBwZXJjZW50YWdlCgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBERVZfVEVBTV9QT1JUSU9OID01MDAwMDAwMGUxODsgIC8vIFRvdGFsIGRldiB0ZWFtIHNoYXJlIEluIHBlcmNlbnRhZ2UKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IENPX0ZPVU5ERVJfUE9SVElPTiA9IDM1MDAwMDAwMGUxODsgIC8vIFRvdGFsIGNvZm91bmRlciBzaGFyZSBJbiBwZXJjZW50YWdlCgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBVREZfUE9SVElPTiA9MTAwMDAwMDAwZTE4OyAgLy8gVG90YWwgdXNlciBkZXZlIGZ1bmQgc2hhcmUgSW4gcGVyY2VudGFnZQoJCgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBWVVBfUEVSX0VUSF9CQVNFX1JBVEUgPSAyMDAwOyAgLy8gMjAwMCBWVVAgPSAxIEVUSCBkdXJpbmcgbm9ybWFsIHBhcnQgb2YgdG9rZW4gc2FsZQoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgVlVQX1BFUl9FVEhfUFJFX1NBTEVfUkFURSA9IDMwMDA7IC8vIDMwMDAgVlVQIEAgNTAlICBkaXNjb3VudCBpbiBwcmUgc2FsZQoJCgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBWVVBfUEVSX0VUSF9JQ09fVElFUjJfUkFURSA9IDI1MDA7IC8vIDI1MDAgVlVQIEAgMjUlIGRpc2NvdW50Cgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBWVVBfUEVSX0VUSF9JQ09fVElFUjNfUkFURSA9IDIyNTA7Ly8gMjI1MCBWVVAgQCAxMi41JSBkaXNjb3VudAoJCgkKCWZ1bmN0aW9uIFZ1ZVBheVRva2VuICgpIHB1YmxpYyBwYXlhYmxlCgl7CgoJICAgIHRvdGFsU3VwcGx5ID0gSU5JVElBTF9WVVBfVE9LRU5fU1VQUExZOwoJICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gSU5JVElBTF9WVVBfVE9LRU5fU1VQUExZOwoJICAgIAoJCS8vU3RhcnQgUHJlLXNhbGUgYXBwcm94IG9uIHRoZSA2dGggb2N0b2JlciA4OjAwIEdNVAoJICAgIHByZVNhbGVTdGFydEJsb2NrPTQzMzk0OTI7CgkgICAgLy9wcmVTYWxlU3RhcnRCbG9jaz1ibG9jay5udW1iZXI7CgkgICAgcHJlU2FsZUVuZEJsb2NrID0gcHJlU2FsZVN0YXJ0QmxvY2sgKyAzNzgwMDsgIC8vIEVxdWl2YWxlbnQgdG8gMTQgZGF5cyBsYXRlciwgYXNzdW1pbmcgMzIgc2Vjb25kIGJsb2NrcwoJICAgIGljb0VuZEJsb2NrID0gcHJlU2FsZUVuZEJsb2NrICsgODEwMDA7ICAvLyBFcXVpdmFsZW50IHRvIDMwIGRheXMgLCBhc3N1bWluZyAzMiBzZWNvbmQgYmxvY2tzCgkJZXhlY3V0b3IgPSBtc2cuc2VuZGVyOwoJCXNhbGVIYXNFbmRlZCA9IGZhbHNlOwoJCW1pbkNhcFJlYWNoZWQgPSBmYWxzZTsKCQlhbGxvd1JlZnVuZCA9IGZhbHNlOwoJCWFkdmlzb3J5VGVhbVNoYXJlID0gQURWSVNPUllfVEVBTV9QT1JUSU9OOwoJCXRvdGFsRVRIUmFpc2VkID0gMDsKCQl0b3RhbFZVUD0wOwoKCX0KCglmdW5jdGlvbiAoKSBwYXlhYmxlIHB1YmxpYyB7CgkJCgkJLy9taW5pbXVtIC4wNSBFdGhlciByZXF1aXJlZC4KCQlyZXF1aXJlKG1zZy52YWx1ZSA+PSAuMDUgZXRoZXIpOwoJCS8vIElmIHNhbGUgaXMgbm90IGFjdGl2ZSwgZG8gbm90IGNyZWF0ZSBWVVAKCQlyZXF1aXJlKCFzYWxlSGFzRW5kZWQpOwoJCS8vUmVxdWlyZXMgYmxvY2sgdG8gYmUgPj0gUHJlLVNhbGUgc3RhcnQgYmxvY2sgCgkJcmVxdWlyZShibG9jay5udW1iZXIgPj0gcHJlU2FsZVN0YXJ0QmxvY2spOwoJCS8vUmVxdWlyZXMgYmxvY2subnVtYmVyIHRvIGJlIGxlc3MgdGhhbiBpY29FbmRCbG9jayBudW1iZXIKCQlyZXF1aXJlKGJsb2NrLm51bWJlciA8IGljb0VuZEJsb2NrKTsKCQkvL0hhcyB0aGUgUHJlLVNhbGUgZW5kZWQsIGFmdGVyIDE0IGRheXMsIFByZS1TYWxlIGVuZHMuCgkJaWYgKGJsb2NrLm51bWJlciA+IHByZVNhbGVFbmRCbG9jayl7CgkJICAgIHByZVNhbGVFbmRlZD10cnVlOwoJCX0KCQkvLyBEbyBub3QgZG8gYW55dGhpbmcgaWYgdGhlIGFtb3VudCBvZiBldGhlciBzZW50IGlzIDAKCQlyZXF1aXJlKG1zZy52YWx1ZSE9MCk7CgoJCXVpbnQyNTYgbmV3RXRoZXJCYWxhbmNlID0gdG90YWxFVEhSYWlzZWQuYWRkKG1zZy52YWx1ZSk7CgkJLy9HZXQgdGhlIGFwcHJvcHJpYXRlIHJhdGUgd2hpY2ggYXBwbGllcwoJCWdldEN1cnJlbnRWVVBSYXRlKCk7CgkJLy8gQ2FsY3VsYXRlIHRoZSBhbW91bnQgb2YgVlVQIGJlaW5nIHB1cmNoYXNlCgkJCgkJdWludDI1NiBhbW91bnRPZlZVUCA9IG1zZy52YWx1ZS5tdWwoY3VyVG9rZW5SYXRlKTsKCQogICAgICAgIC8vQWNjcnVlIFZVUCB0b2tlbnMKCQl0b3RhbFZVUD10b3RhbFZVUC5hZGQoYW1vdW50T2ZWVVApOwoJICAgIC8vIGlmIGFsbCB0b2tlbnMgc29sZCBvdXQgLCBzYWxlIGVuZHMuCgkJcmVxdWlyZSh0b3RhbFZVUDw9IFBSRVNBTEVfSUNPX1BPUlRJT04pOwoJCQoJCS8vIEVuc3VyZSB0aGF0IHRoZSB0cmFuc2FjdGlvbiBpcyBzYWZlCgkJdWludDI1NiB0b3RhbFN1cHBseVNhZmUgPSB0b3RhbFN1cHBseS5zdWIoYW1vdW50T2ZWVVApOwoJCXVpbnQyNTYgYmFsYW5jZVNhZmUgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQoYW1vdW50T2ZWVVApOwoJCXVpbnQyNTYgY29udHJpYnV0ZWRTYWZlID0gRVRIQ29udHJpYnV0ZWRbbXNnLnNlbmRlcl0uYWRkKG1zZy52YWx1ZSk7CgkJCgkJLy8gVXBkYXRlIGluZGl2aWR1YWwgYW5kIHRvdGFsIGJhbGFuY2VzCgkJdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseVNhZmU7CgkJYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlU2FmZTsKCgkJdG90YWxFVEhSYWlzZWQgPSBuZXdFdGhlckJhbGFuY2U7CgkJRVRIQ29udHJpYnV0ZWRbbXNnLnNlbmRlcl0gPSBjb250cmlidXRlZFNhZmU7CgoJCUNyZWF0ZWRWVVAobXNnLnNlbmRlciwgYW1vdW50T2ZWVVApOwoJfQoJCglmdW5jdGlvbiBnZXRDdXJyZW50VlVQUmF0ZSgpIGludGVybmFsIHsKCSAgICAgICAgLy9kZWZhdWx0IHRvIHRoZSBiYXNlIHJhdGUKCSAgICAgICAgY3VyVG9rZW5SYXRlID0gVlVQX1BFUl9FVEhfQkFTRV9SQVRFOwoKCSAgICAgICAgLy9pZiBWVVAgc29sZCA8IDEwMCBtaWxsIGFuZCBzdGlsbCBpbiBwcmVzYWxlLCB1c2UgUHJlLVNhbGUgcmF0ZQoJICAgICAgICBpZiAoKHRvdGFsVlVQIDw9IFZVUF9UT0tFTl9TVVBQTFlfVElFUjEpICYmICghcHJlU2FsZUVuZGVkKSkgeyAgICAKCQkJICAgICAgICBjdXJUb2tlblJhdGUgPSBWVVBfUEVSX0VUSF9QUkVfU0FMRV9SQVRFOwoJICAgICAgICB9CgkJICAgIC8vSWYgVlVQIFNvbGQgPCAxMDAgbWlsbCBhbmQgUHJlLVNhbGUgZW5kZWQsIHVzZSBUaWVyMiByYXRlCgkgICAgICAgIGlmICgodG90YWxWVVAgPD0gVlVQX1RPS0VOX1NVUFBMWV9USUVSMSkgJiYgKHByZVNhbGVFbmRlZCkpIHsKCQkJICAgICBjdXJUb2tlblJhdGUgPSBWVVBfUEVSX0VUSF9JQ09fVElFUjJfUkFURTsKCQkgICAgfQoJCSAgICAvL2lmIFZVUCBTb2xkID4gMTAwIG1pbGwsIHVzZSBUaWVyIDIgcmF0ZSBpcnJlc3BlY3RpdmUgb2YgUHJlLVNhbGUgZW5kIG9yIG5vdAoJCSAgICBpZiAodG90YWxWVVAgPlZVUF9UT0tFTl9TVVBQTFlfVElFUjEgKSB7CgkJCSAgICBjdXJUb2tlblJhdGUgPSBWVVBfUEVSX0VUSF9JQ09fVElFUjJfUkFURTsKCQkgICAgfQoJCSAgICAvL2lmIFZVUCBzb2xkIG1vcmUgdGhhbiAyMDAgbWlsbCB1c2UgVGllcjMgcmF0ZQoJCSAgICBpZiAodG90YWxWVVAgPlZVUF9UT0tFTl9TVVBQTFlfVElFUjIgKSB7CgkJCSAgICBjdXJUb2tlblJhdGUgPSBWVVBfUEVSX0VUSF9JQ09fVElFUjNfUkFURTsKCQkgICAgICAgIAoJCSAgICB9CiAgICAgICAgICAgIC8vaWYgVlVQIHNvZCBtb3JlIHRoYW4gMzAwbWlsbAoJCSAgICBpZiAodG90YWxWVVAgPlZVUF9UT0tFTl9TVVBQTFlfVElFUjMpewoJCSAgICAgICAgY3VyVG9rZW5SYXRlID0gVlVQX1BFUl9FVEhfQkFTRV9SQVRFOwoJCSAgICB9Cgl9CiAgICAvLyBDcmVhdGUgVlVQIHRva2VucyBmcm9tIHRoZSBBZHZpc29yeSBidWNrZXQgZm9yIG1hcmtldGluZywgUFIsIE1lZGlhIHdoZXJlIHdlIGFyZSAKICAgIC8vcGF5aW5nIHVwZnJvbnQgZm9yIHRoZXNlIGFjdGl2aXRpZXMgaW4gVlVQIHRva2Vucy4KICAgIC8vQ2xpZW50cyA9IE1lZGlhLCBQUiwgTWFya2V0aW5nIHByb21vdGlvbiBldGMuCiAgICBmdW5jdGlvbiBjcmVhdGVDdXN0b21WVVAoYWRkcmVzcyBfY2xpZW50VlVQQWRkcmVzcyx1aW50MjU2IF92YWx1ZSkgcHVibGljIG9ubHlPd25lciB7CgkgICAgLy9DaGVjayB0aGUgYWRkcmVzcyBpcyB2YWxpZAoJICAgIHJlcXVpcmUoX2NsaWVudFZVUEFkZHJlc3MgIT0gYWRkcmVzcygweDApKTsKCQlyZXF1aXJlKF92YWx1ZSA+MCk7CgkJcmVxdWlyZShhZHZpc29yeVRlYW1TaGFyZT49IF92YWx1ZSk7CgkgICAKCSAgCXVpbnQyNTYgYW1vdW50T2ZWVVAgPSBfdmFsdWU7CgkgIAkvL1JlZHVjZSBmcm9tIGFkdmlzb3J5VGVhbVNoYXJlCgkgICAgYWR2aXNvcnlUZWFtU2hhcmU9YWR2aXNvcnlUZWFtU2hhcmUuc3ViKGFtb3VudE9mVlVQKTsKICAgICAgICAvL0FjY3J1ZSBWVVAgdG9rZW5zCgkJdG90YWxWVVA9dG90YWxWVVAuYWRkKGFtb3VudE9mVlVQKTsKCQkvL0Fzc2lnbiB0b2tlbnMgdG8gdGhlIGNsaWVudAoJCXVpbnQyNTYgYmFsYW5jZVNhZmUgPSBiYWxhbmNlc1tfY2xpZW50VlVQQWRkcmVzc10uYWRkKGFtb3VudE9mVlVQKTsKCQliYWxhbmNlc1tfY2xpZW50VlVQQWRkcmVzc10gPSBiYWxhbmNlU2FmZTsKCQkvL0NyZWF0ZSBWVVAgQ3JlYXRlZCBldmVudAoJCUNyZWF0ZWRWVVAoX2NsaWVudFZVUEFkZHJlc3MsIGFtb3VudE9mVlVQKTsKCQoJfQogICAgCglmdW5jdGlvbiBlbmRJQ08oKSBwdWJsaWMgb25seU93bmVyewoJCS8vIERvIG5vdCBlbmQgYW4gYWxyZWFkeSBlbmRlZCBzYWxlCgkJcmVxdWlyZSghc2FsZUhhc0VuZGVkKTsKCQkvLyBDYW4ndCBlbmQgYSBzYWxlIHRoYXQgaGFzbid0IGhpdCBpdHMgbWluaW11bSBjYXAKCQlyZXF1aXJlKG1pbkNhcFJlYWNoZWQpOwoJCQoJCXNhbGVIYXNFbmRlZCA9IHRydWU7CgoJCS8vIENhbGN1bGF0ZSBhbmQgY3JlYXRlIGFsbCB0ZWFtIHNoYXJlIFZVUHMKCQoJICAgIGNvcmVUZWFtU2hhcmUgPSBDT1JFX1RFQU1fUE9SVElPTjsKCSAgICB1aW50MjU2IGRldlRlYW1TaGFyZSA9IERFVl9URUFNX1BPUlRJT047CgkgICAgY29mb3VuZGVyU2hhcmUgPSBDT19GT1VOREVSX1BPUlRJT047CgkgICAgdWludDI1NiB1ZGZTaGFyZSA9IFVERl9QT1JUSU9OOwoJCgkgICAgCgkJYmFsYW5jZXNbZGV2VlVQRGVzdGluYXRpb25dID0gZGV2VGVhbVNoYXJlOwoJCWJhbGFuY2VzW2Fkdmlzb3J5VlVQRGVzdGluYXRpb25dID0gYWR2aXNvcnlUZWFtU2hhcmU7CgkJYmFsYW5jZXNbdWRmVlVQRGVzdGluYXRpb25dID0gdWRmU2hhcmU7CiAgICAgICAKICAgICAgICAvLyBMb2NrZWQgdGltZSBvZiBhcHByb3hpbWF0ZWx5IDkgbW9udGhzIGJlZm9yZSB0ZWFtIG1lbWJlcnMgYXJlIGFibGUgdG8gcmVkZWVlbSB0b2tlbnMuCiAgICAgICAgdWludCBuaW5lTW9udGhzID0gOSAqIDMwIGRheXM7CiAgICAgICAgY29yZVRlYW1VbmxvY2tlZEF0ID0gbm93LmFkZChuaW5lTW9udGhzKTsKICAgICAgICAvLyBMb2NrZWQgdGltZSBvZiBhcHByb3hpbWF0ZWx5IDEwIHllYXJzIGJlZm9yZSB0ZWFtIG1lbWJlcnMgYXJlIGFibGUgdG8gcmVkZWVlbSB0b2tlbnMuCiAgICAgICAgdWludCBsb2NrVGltZSA9IGNvbGRTdG9yYWdlWWVhcnM7CiAgICAgICAgdW5zb2xkVW5sb2NrZWRBdCA9IG5vdy5hZGQobG9ja1RpbWUpOwoKCQlDcmVhdGVkVlVQKGRldlZVUERlc3RpbmF0aW9uLCBkZXZUZWFtU2hhcmUpOwoJCUNyZWF0ZWRWVVAoYWR2aXNvcnlWVVBEZXN0aW5hdGlvbiwgYWR2aXNvcnlUZWFtU2hhcmUpOwoJCUNyZWF0ZWRWVVAodWRmVlVQRGVzdGluYXRpb24sIHVkZlNoYXJlKTsKCgl9CglmdW5jdGlvbiB1bmxvY2soKSBwdWJsaWMgb25seU93bmVyewoJICAgcmVxdWlyZShzYWxlSGFzRW5kZWQpOwogICAgICAgcmVxdWlyZShub3cgPiBjb3JlVGVhbVVubG9ja2VkQXQgfHwgbm93ID4gdW5zb2xkVW5sb2NrZWRBdCk7CiAgICAgICBpZiAobm93ID4gY29yZVRlYW1VbmxvY2tlZEF0KSB7CiAgICAgICAgICBiYWxhbmNlc1tjb3JlVlVQRGVzdGluYXRpb25dID0gY29yZVRlYW1TaGFyZTsKICAgICAgICAgIENyZWF0ZWRWVVAoY29yZVZVUERlc3RpbmF0aW9uLCBjb3JlVGVhbVNoYXJlKTsKICAgICAgICAgIGJhbGFuY2VzW2NvZm91bmRlclZVUERlc3RpbmF0aW9uXSA9IGNvZm91bmRlclNoYXJlOwogICAgICAgICAgQ3JlYXRlZFZVUChjb2ZvdW5kZXJWVVBEZXN0aW5hdGlvbiwgY29mb3VuZGVyU2hhcmUpOwogICAgICAgICAKICAgICAgIH0KICAgICAgIGlmIChub3cgPiB1bnNvbGRVbmxvY2tlZEF0KSB7CiAgICAgICAgICB1aW50MjU2IHVuc29sZFRva2Vucz1QUkVTQUxFX0lDT19QT1JUSU9OLnN1Yih0b3RhbFZVUCk7CiAgICAgICAgICByZXF1aXJlKHVuc29sZFRva2VucyA+IDApOwogICAgICAgICAgYmFsYW5jZXNbdW5zb2xkVlVQRGVzdGluYXRpb25dID0gdW5zb2xkVG9rZW5zOwogICAgICAgICAgQ3JlYXRlZFZVUChjb3JlVlVQRGVzdGluYXRpb24sIHVuc29sZFRva2Vucyk7CiAgICAgICAgIH0KICAgIH0KCgkvLyBBbGxvd3MgVnVlUGF5IHRvIHdpdGhkcmF3IGZ1bmRzCglmdW5jdGlvbiB3aXRoZHJhd0Z1bmRzKCkgcHVibGljIG9ubHlPd25lciB7CgkJLy8gRGlzYWxsb3cgd2l0aGRyYXcgaWYgdGhlIG1pbmltdW0gaGFzbid0IGJlZW4gcmVhY2hlZAoJCXJlcXVpcmUobWluQ2FwUmVhY2hlZCk7CgkJcmVxdWlyZSh0aGlzLmJhbGFuY2UgPiAwKTsKCQlpZih0aGlzLmJhbGFuY2UgPiAwKSB7CgkJCXZ1ZVBheUVUSERlc3RpbmF0aW9uLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CgkJfQoJfQoKCS8vIFNpZ25hbHMgdGhhdCB0aGUgc2FsZSBoYXMgcmVhY2hlZCBpdHMgbWluaW11bSBmdW5kaW5nIGdvYWwKCWZ1bmN0aW9uIHRyaWdnZXJNaW5DYXAoKSBwdWJsaWMgb25seU93bmVyIHsKCQltaW5DYXBSZWFjaGVkID0gdHJ1ZTsKCX0KCgkvLyBPcGVucyByZWZ1bmRpbmcuCglmdW5jdGlvbiB0cmlnZ2VyUmVmdW5kKCkgcHVibGljIG9ubHlPd25lcnsKCQkvLyBObyByZWZ1bmRzIGlmIHRoZSBzYWxlIHdhcyBzdWNjZXNzZnVsCgkJcmVxdWlyZSghc2FsZUhhc0VuZGVkKTsKCQkvLyBObyByZWZ1bmRzIGlmIG1pbmltdW0gY2FwIGlzIGhpdAoJCXJlcXVpcmUoIW1pbkNhcFJlYWNoZWQpOwoJCS8vIE5vIHJlZnVuZHMgaWYgdGhlIHNhbGUgaXMgc3RpbGwgcHJvZ3Jlc3NpbmcKCSAgICByZXF1aXJlKGJsb2NrLm51bWJlciA+aWNvRW5kQmxvY2spOwoJCXJlcXVpcmUobXNnLnNlbmRlciA9PSBleGVjdXRvcik7CgkJYWxsb3dSZWZ1bmQgPSB0cnVlOwoJfQoKCWZ1bmN0aW9uIGNsYWltUmVmdW5kKCkgZXh0ZXJuYWwgewoJCS8vIE5vIHJlZnVuZHMgdW50aWwgaXQgaXMgYXBwcm92ZWQKCQlyZXF1aXJlKGFsbG93UmVmdW5kKTsKCQkvLyBOb3RoaW5nIHRvIHJlZnVuZAoJCXJlcXVpcmUoRVRIQ29udHJpYnV0ZWRbbXNnLnNlbmRlcl0hPTApOwoKCQkvLyBEbyB0aGUgcmVmdW5kLgoJCXVpbnQyNTYgZXRoZXJBbW91bnQgPSBFVEhDb250cmlidXRlZFttc2cuc2VuZGVyXTsKCQlFVEhDb250cmlidXRlZFttc2cuc2VuZGVyXSA9IDA7CgoJCVZVUFJlZnVuZGVkRm9yV2VpKG1zZy5zZW5kZXIsIGV0aGVyQW1vdW50KTsKCQltc2cuc2VuZGVyLnRyYW5zZmVyKGV0aGVyQW1vdW50KTsKCX0KICAgIC8vQWxsb3cgY2hhbmdpbmcgdGhlIFZ1ZXBheSBNdWx0aVNpZyB3YWxsZXQgaW5jYXNlIG9mIGVtZXJnZW5jeQoJZnVuY3Rpb24gY2hhbmdlVnVlUGF5RVRIRGVzdGluYXRpb25BZGRyZXNzKGFkZHJlc3MgX25ld0FkZHJlc3MpIHB1YmxpYyBvbmx5T3duZXIgewoJCXZ1ZVBheUVUSERlc3RpbmF0aW9uID0gX25ld0FkZHJlc3M7Cgl9CgkKCWZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKCQkvLyBDYW5ub3QgdHJhbnNmZXIgdW5sZXNzIHRoZSBtaW5pbXVtIGNhcCBpcyBoaXQKCQlyZXF1aXJlKG1pbkNhcFJlYWNoZWQpOwoJCXJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7Cgl9CgkKCWZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CgkJLy8gQ2Fubm90IHRyYW5zZmVyIHVubGVzcyB0aGUgbWluaW11bSBjYXAgaXMgaGl0CgkJcmVxdWlyZShtaW5DYXBSZWFjaGVkKTsKCQlyZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7Cgl9CgoJCn0='.
	

]
