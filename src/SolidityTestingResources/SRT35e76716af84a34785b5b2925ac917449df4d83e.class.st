Class {
	#name : #SRT35e76716af84a34785b5b2925ac917449df4d83e,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT35e76716af84a34785b5b2925ac917449df4d83e >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7Cgpjb250cmFjdCBTYWZlTWF0aCB7CgogICAgZnVuY3Rpb24gc2FmZU11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgaWYgKGEgPT0gMCkgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVEaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZVN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVBZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9Cgpjb250cmFjdCBPd25hYmxlIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9Cn0KCmNvbnRyYWN0IExvY2thYmxlIGlzIE93bmFibGUgewogICAgYm9vbCBwdWJsaWMgY29udHJhY3RMb2NrZWQgPSBmYWxzZTsKCiAgICBtb2RpZmllciBub3RMb2NrZWQoKSB7CiAgICAgICAgcmVxdWlyZSghY29udHJhY3RMb2NrZWQpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gbG9ja0NvbnRyYWN0KCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgY29udHJhY3RMb2NrZWQgPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHVubG9ja0NvbnRyYWN0KCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgY29udHJhY3RMb2NrZWQgPSBmYWxzZTsKICAgIH0KfQoKY29udHJhY3QgRmVlQ2FsY3VsYXRvciBpcyBPd25hYmxlLCBTYWZlTWF0aCB7CgogICAgdWludCBwdWJsaWMgZmVlTnVtZXJhdG9yID0gMDsKCiAgICB1aW50IHB1YmxpYyBmZWVEZW5vbWluYXRvciA9IDA7CgogICAgdWludCBwdWJsaWMgbWluRmVlID0gMDsKCiAgICB1aW50IHB1YmxpYyBtYXhGZWUgPSAwOwoKICAgIGZ1bmN0aW9uIHNldEZlZSh1aW50IF9mZWVOdW1lcmF0b3IsIHVpbnQgX2ZlZURlbm9taW5hdG9yLCB1aW50IF9taW5GZWUsIHVpbnQgX21heEZlZSkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgZmVlTnVtZXJhdG9yID0gX2ZlZU51bWVyYXRvcjsKICAgICAgICBmZWVEZW5vbWluYXRvciA9IF9mZWVEZW5vbWluYXRvcjsKICAgICAgICBtaW5GZWUgPSBfbWluRmVlOwogICAgICAgIG1heEZlZSA9IF9tYXhGZWU7CiAgICB9CgogICAgZnVuY3Rpb24gY2FsY3VsYXRlRmVlKHVpbnQgdmFsdWUpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgcmVxdWlyZWRGZWUpIHsKICAgICAgICBpZiAoZmVlTnVtZXJhdG9yID09IDAgfHwgZmVlRGVub21pbmF0b3IgPT0gMCkgcmV0dXJuIDA7CgogICAgICAgIHVpbnQgZmVlID0gc2FmZURpdihzYWZlTXVsKHZhbHVlLCBmZWVOdW1lcmF0b3IpLCBmZWVEZW5vbWluYXRvcik7CgogICAgICAgIGlmIChmZWUgPCBtaW5GZWUpIHJldHVybiBtaW5GZWU7CgogICAgICAgIGlmIChmZWUgPiBtYXhGZWUpIHJldHVybiBtYXhGZWU7CgogICAgICAgIHJldHVybiBmZWU7CiAgICB9CgogICAgZnVuY3Rpb24gc3VidHJhY3RGZWUodWludCB2YWx1ZSkgaW50ZXJuYWwgcmV0dXJucyAodWludCBuZXdWYWx1ZSk7Cn0KCmNvbnRyYWN0IEVJUDIwSW50ZXJmYWNlIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIG93bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CgogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCmNvbnRyYWN0IE1pbnRhYmxlIGlzIE93bmFibGUgewogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBtaW50ZXJzOwoKICAgIG1vZGlmaWVyIG9ubHlNaW50ZXIgewogICAgICAgIHJlcXVpcmUobWludGVyc1ttc2cuc2VuZGVyXSA9PSB0cnVlKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIE1pbnRhYmxlKCkgcHVibGljIHsKICAgICAgICBhZGp1c3RNaW50ZXIobXNnLnNlbmRlciwgdHJ1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gYWRqdXN0TWludGVyKGFkZHJlc3MgbWludGVyLCBib29sIGNhbk1pbnQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIG1pbnRlcnNbbWludGVyXSA9IGNhbk1pbnQ7CiAgICB9CgogICAgZnVuY3Rpb24gbWludChhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWM7Cgp9Cgpjb250cmFjdCBUb2tlbiBpcyBFSVAyMEludGVyZmFjZSwgT3duYWJsZSwgU2FmZU1hdGgsIE1pbnRhYmxlLCBMb2NrYWJsZSwgRmVlQ2FsY3VsYXRvciB7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlczsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dlZDsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgZnJvemVuQWRkcmVzc2VzOwoKICAgIHN0cmluZyBwdWJsaWMgbmFtZTsKCiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7CgogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CgogICAgYm9vbCBwdWJsaWMgaXNCdXJuYWJsZTsKCiAgICBib29sIHB1YmxpYyBjYW5BbnlvbmVCdXJuOwoKICAgIG1vZGlmaWVyIG5vdEZyb3plbihhZGRyZXNzIHRhcmdldCkgewogICAgICAgIHJlcXVpcmUoIWZyb3plbkFkZHJlc3Nlc1t0YXJnZXRdKTsKICAgICAgICBfOwogICAgfQoKICAgIGV2ZW50IEFkZHJlc3NGcm96ZShhZGRyZXNzIHRhcmdldCwgYm9vbCBpc0Zyb3plbik7CgogICAgZnVuY3Rpb24gVG9rZW4oc3RyaW5nIF9uYW1lLCB1aW50OCBfZGVjaW1hbHMsIHN0cmluZyBfc3ltYm9sKSBwdWJsaWMgewogICAgICAgIG5hbWUgPSBfbmFtZTsKICAgICAgICBkZWNpbWFscyA9IF9kZWNpbWFsczsKICAgICAgICBzeW1ib2wgPSBfc3ltYm9sOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIG5vdExvY2tlZCBub3RGcm96ZW4obXNnLnNlbmRlcikgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJldHVybiB0cmFuc2Zlcihtc2cuc2VuZGVyLCB0bywgdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYmFsYW5jZXNbZnJvbV0gPSBzYWZlU3ViKGJhbGFuY2VzW2Zyb21dLCB2YWx1ZSk7CiAgICAgICAgdmFsdWUgPSBzdWJ0cmFjdEZlZSh2YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbdG9dID0gc2FmZUFkZChiYWxhbmNlc1t0b10sIHZhbHVlKTsKCiAgICAgICAgZW1pdCBUcmFuc2Zlcihmcm9tLCB0bywgdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIG5vdExvY2tlZCBub3RGcm96ZW4oZnJvbSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHVpbnQyNTYgYWxsb3dhbmNlID0gYWxsb3dlZFtmcm9tXVttc2cuc2VuZGVyXTsKICAgICAgICBiYWxhbmNlc1tmcm9tXSA9IHNhZmVTdWIoYmFsYW5jZXNbZnJvbV0sIHZhbHVlKTsKICAgICAgICBhbGxvd2VkW2Zyb21dW21zZy5zZW5kZXJdID0gc2FmZVN1YihhbGxvd2FuY2UsIHZhbHVlKTsKICAgICAgICB2YWx1ZSA9IHN1YnRyYWN0RmVlKHZhbHVlKTsKICAgICAgICBiYWxhbmNlc1t0b10gPSBzYWZlQWRkKGJhbGFuY2VzW3RvXSwgdmFsdWUpOwoKICAgICAgICBlbWl0IFRyYW5zZmVyKGZyb20sIHRvLCB2YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tvd25lcl07CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIG5vdExvY2tlZCBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtzcGVuZGVyXSA9IHZhbHVlOwogICAgICAgIGVtaXQgQXBwcm92YWwobXNnLnNlbmRlciwgc3BlbmRlciwgdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbb3duZXJdW3NwZW5kZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGZyZWV6ZUFkZHJlc3MoYWRkcmVzcyB0YXJnZXQsIGJvb2wgZnJlZXplKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBpZiAoZnJlZXplKSB7CiAgICAgICAgICAgIGZyb3plbkFkZHJlc3Nlc1t0YXJnZXRdID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkZWxldGUgZnJvemVuQWRkcmVzc2VzW3RhcmdldF07CiAgICAgICAgfQogICAgICAgIGVtaXQgQWRkcmVzc0Zyb3plKHRhcmdldCwgZnJlZXplKTsKICAgIH0KCiAgICBmdW5jdGlvbiBpc0FkZHJlc3NGcm96ZW4oYWRkcmVzcyB0YXJnZXQpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wgZnJvemVuKXsKICAgICAgICByZXR1cm4gZnJvemVuQWRkcmVzc2VzW3RhcmdldF07CiAgICB9CgogICAgZnVuY3Rpb24gbWludChhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgb25seU1pbnRlciB7CiAgICAgICAgdG90YWxTdXBwbHkgPSBzYWZlQWRkKHRvdGFsU3VwcGx5LCB2YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbdG9dID0gc2FmZUFkZChiYWxhbmNlc1t0b10sIHZhbHVlKTsKICAgICAgICBlbWl0IFRyYW5zZmVyKDB4MCwgdG8sIHZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWJ0cmFjdEZlZSh1aW50IHZhbHVlKSBpbnRlcm5hbCByZXR1cm5zICh1aW50IG5ld1ZhbHVlKSB7CiAgICAgICAgdWludCBmZWVUb1Rha2UgPSBjYWxjdWxhdGVGZWUodmFsdWUpOwoKICAgICAgICBpZiAoZmVlVG9UYWtlID09IDApIHJldHVybiB2YWx1ZTsKCiAgICAgICAgYmFsYW5jZXNbdGhpc10gPSBzYWZlQWRkKGJhbGFuY2VzW3RoaXNdLCBmZWVUb1Rha2UpOwoKICAgICAgICByZXR1cm4gdmFsdWUgLSBmZWVUb1Rha2U7CiAgICB9CgogICAgZnVuY3Rpb24gd2l0aGRyYXdGZWVzKGFkZHJlc3MgdG8pIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmV0dXJuIHRyYW5zZmVyKHRoaXMsIHRvLCBiYWxhbmNlc1t0aGlzXSk7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0QnVyblBvbGljeShib29sIF9pc0J1cm5hYmxlLCBib29sIF9jYW5BbnlvbmVCdXJuKSBwdWJsaWMgewogICAgICAgIGlzQnVybmFibGUgPSBfaXNCdXJuYWJsZTsKICAgICAgICBjYW5BbnlvbmVCdXJuID0gX2NhbkFueW9uZUJ1cm47CiAgICB9CgogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShpc0J1cm5hYmxlKTsKCiAgICAgICAgaWYgKCFjYW5BbnlvbmVCdXJuICYmIG1zZy5zZW5kZXIgIT0gb3duZXIpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzYWZlU3ViKGJhbGFuY2VzW21zZy5zZW5kZXJdLCB2YWx1ZSk7CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseSAtIHZhbHVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9Cgpjb250cmFjdCBDcm93ZHNhbGUgaXMgT3duYWJsZSwgU2FmZU1hdGggewoKICAgIHVpbnQyNTYgcHVibGljIHN0YXJ0QmxvY2s7CgogICAgdWludDI1NiBwdWJsaWMgZW5kQmxvY2s7CgogICAgdWludDI1NiBwdWJsaWMgbWF4R2FzUHJpY2U7CgogICAgdWludDI1NiBwdWJsaWMgZXhjaGFuZ2VSYXRlOwoKICAgIHVpbnQyNTYgcHVibGljIG1heFN1cHBseTsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIHBhcnRpY2lwYW50czsKCiAgICBUb2tlbiBwdWJsaWMgdG9rZW47CgogICAgYWRkcmVzcyBwcml2YXRlIHdhbGxldDsKCiAgICBib29sIHByaXZhdGUgaW5pdGlhbGlzZWQ7CgogICAgbW9kaWZpZXIgcGFydGljaXBhdGlvbk9wZW4gIHsKICAgICAgICByZXF1aXJlKGJsb2NrLm51bWJlciA+PSBzdGFydEJsb2NrKTsKICAgICAgICByZXF1aXJlKGJsb2NrLm51bWJlciA8PSBlbmRCbG9jayk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBpbml0aWFsaXNlKGFkZHJlc3MgX3dhbGxldCwgdWludDI1NiBfc3RhcnRCbG9jaywgdWludDI1NiBfZW5kQmxvY2ssIHVpbnQyNTYgX21heEdhc1ByaWNlLAogICAgICAgIHVpbnQyNTYgX2V4Y2hhbmdlUmF0ZSwgdWludDI1NiBfbWF4U3VwcGx5LCBzdHJpbmcgX25hbWUsIHVpbnQ4IF9kZWNpbWFscywgc3RyaW5nIF9zeW1ib2wpIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAoYWRkcmVzcyB0b2tlbkFkZHJlc3MpIHsKCiAgICAgICAgaWYgKHRva2VuID09IGFkZHJlc3MoMHgwKSkgewogICAgICAgICAgICB0b2tlbiA9IG5ld1Rva2VuKF9uYW1lLCBfZGVjaW1hbHMsIF9zeW1ib2wpOwogICAgICAgICAgICB0b2tlbi50cmFuc2Zlck93bmVyKG93bmVyKTsKICAgICAgICB9CgogICAgICAgIHdhbGxldCA9IF93YWxsZXQ7CiAgICAgICAgc3RhcnRCbG9jayA9IF9zdGFydEJsb2NrOwogICAgICAgIGVuZEJsb2NrID0gX2VuZEJsb2NrOwogICAgICAgIG1heEdhc1ByaWNlID0gX21heEdhc1ByaWNlOwogICAgICAgIGV4Y2hhbmdlUmF0ZSA9IF9leGNoYW5nZVJhdGU7CiAgICAgICAgbWF4U3VwcGx5ID0gX21heFN1cHBseTsKICAgICAgICBpbml0aWFsaXNlZCA9IHRydWU7CgogICAgICAgIHJldHVybiB0b2tlbjsKICAgIH0KCiAgICBmdW5jdGlvbiBuZXdUb2tlbihzdHJpbmcgX25hbWUsIHVpbnQ4IF9kZWNpbWFscywgc3RyaW5nIF9zeW1ib2wpIGludGVybmFsIHJldHVybnMgKFRva2VuKXsKICAgICAgICByZXR1cm4gbmV3IFRva2VuKF9uYW1lLCBfZGVjaW1hbHMsIF9zeW1ib2wpOwogICAgfQoKICAgIGZ1bmN0aW9uKCkgcHVibGljIHBheWFibGUgewogICAgICAgIHBhcnRpY2lwYXRlKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gcGFydGljaXBhdGUoYWRkcmVzcyBwYXJ0aWNpcGFudCwgdWludDI1NiB2YWx1ZSkgaW50ZXJuYWwgcGFydGljaXBhdGlvbk9wZW4gewogICAgICAgIHJlcXVpcmUocGFydGljaXBhbnQgIT0gYWRkcmVzcygweDApKTsKCiAgICAgICAgcmVxdWlyZSh0eC5nYXNwcmljZSA8PSBtYXhHYXNQcmljZSk7CgogICAgICAgIHJlcXVpcmUoaW5pdGlhbGlzZWQpOwoKICAgICAgICB1aW50MjU2IHRvdGFsU3VwcGx5ID0gdG9rZW4udG90YWxTdXBwbHkoKTsKICAgICAgICByZXF1aXJlKHRvdGFsU3VwcGx5IDwgbWF4U3VwcGx5KTsKCiAgICAgICAgdWludDI1NiB0b2tlbkNvdW50ID0gc2FmZU11bCh2YWx1ZSwgZXhjaGFuZ2VSYXRlKTsKICAgICAgICB1aW50MjU2IHJlbWFpbmluZyA9IDA7CgogICAgICAgIHVpbnQyNTYgbmV3VG90YWxTdXBwbHkgPSBzYWZlQWRkKHRvdGFsU3VwcGx5LCB0b2tlbkNvdW50KTsKICAgICAgICBpZiAobmV3VG90YWxTdXBwbHkgPiBtYXhTdXBwbHkpIHsKICAgICAgICAgICAgdWludDI1NiBuZXdUb2tlbkNvdW50ID0gbmV3VG90YWxTdXBwbHkgLSBtYXhTdXBwbHk7CgogICAgICAgICAgICByZW1haW5pbmcgPSBzYWZlRGl2KHRva2VuQ291bnQgLSBuZXdUb2tlbkNvdW50LCBleGNoYW5nZVJhdGUpOwogICAgICAgICAgICB0b2tlbkNvdW50ID0gbmV3VG9rZW5Db3VudDsKICAgICAgICB9CgogICAgICAgIGlmIChyZW1haW5pbmcgPiAwKSB7CiAgICAgICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIocmVtYWluaW5nKTsKICAgICAgICAgICAgdmFsdWUgPSBzYWZlU3ViKHZhbHVlLCByZW1haW5pbmcpOwogICAgICAgIH0KCiAgICAgICAgbXNnLnNlbmRlci50cmFuc2Zlcih2YWx1ZSk7CgogICAgICAgIC8vICAgICAgICB3YWxsZXQudHJhbnNmZXIodmFsdWUpOwoKICAgICAgICBzYWZlQWRkKHBhcnRpY2lwYW50c1twYXJ0aWNpcGFudF0sIHRva2VuQ291bnQpOwoKICAgICAgICB0b2tlbi5taW50KG1zZy5zZW5kZXIsIHRva2VuQ291bnQpOwogICAgfQp9'.
	

]
