Class {
	#name : #SRT14a3f4795076c0ae67c2aa9efc10e58427a00dff,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT14a3f4795076c0ae67c2aa9efc10e58427a00dff >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMDsKCi8qCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyAjICAoICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fXyNfI19fX3xfXwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfICB8X19fX19fX19fX19ffCAgXwogICAgICAgICAgICAgICAgICAgICAgIF89PT09PXwgfCB8ICAgICAgICAgICAgfCB8IHw9PT09IF8KICAgICAgICAgICAgICAgICA9PT09PXwgfC4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0uIHwgfD09PT0KICAgPC0tLS0tLS0tLS0tLS0tLS0tLS0tJyAgIC4gIC4gIC4gIC4gIC4gIC4gIC4gIC4gICAnLS0tLS0tLS0tLS0tLS0vCiAgICAgXCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvCiAgICAgIFxfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXy8KICB3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3cKd3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3CiAgIHd3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3cgCgoqLwoKY29udHJhY3QgRXRoZXJTaGlwc0NvcmUgewoKICAgIHN0cnVjdCBTaGlwUHJvZHVjdCB7CiAgICAgICAgc3RyaW5nIG5hbWU7IC8vIFNoaXAncyBuYW1lCiAgICAgICAgdWludDMyIGFybW9yOyAvLyBBcm1vciB2YWx1ZQogICAgICAgIHVpbnQzMiBzcGVlZDsgLy8gU3BlZWQgdmFsdWUKICAgICAgICB1aW50MzIgbWluRGFtYWdlOyAvLyBTaGlwJ3MgbWluaW1hbCBkYW1hZ2UgdmFsdWUKICAgICAgICB1aW50MzIgbWF4RGFtYWdlOyAvLyBTaGlwJ3MgbWF4aW11bSBkYW1hZ2UgdmFsdWUKICAgICAgICB1aW50MzIgYXR0YWNrU3BlZWQ7IC8vIFNoaXAncyBhdHRhY2sgc3BlZWQgdmFsdWUKICAgICAgICB1aW50OCBsZWFndWU7IC8vIFRoZSBiYXR0bGUgbGVhZ3VlIHdoaWNoIGFsbG93cyB0byBwbGF5IHdpdGggdGhpcyBzaGlwIHR5cGUKICAgICAgICAvLyBVbmZvcnR1bmF0ZWx5LCBpdCdzIGltcG9zc2libGUgdG8gZGVmaW5lIHRoZSB2YXJpYWJsZSBpbnNpZGUgdGhlIHN0cnVjdCBhcyBjb25zdGFudC4KICAgICAgICAvLyBIb3dldmVyLCB5b3UgY2FuIHJlYWQgdGhpcyBzbWFydC1jb250cmFjdCBhbmQgc2VlIHRoYXQgdGhlcmUgYXJlIG5vIGNoYW5nZXMgYXQgYWxsIHJlbGF0ZWQgdG8gdGhlIHN0YXJ0IHByaWNlcy4KICAgICAgICB1aW50MjU2IHN0YXJ0UHJpY2U7CiAgICAgICAgdWludDI1NiBjdXJyZW50UHJpY2U7IC8vIFRoZSBjdXJyZW50IHByaWNlLiBDaGFuZ2VzIGV2ZXJ5IHRpbWUgc29tZW9uZSBidXlzIHRoaXMga2luZCBvZiBzaGlwCiAgICAgICAgdWludDI1NiBlYXJuaW5nOyAvLyBUaGUgYW1vdW50IG9mIGVhcm5pbmcgZWFjaCBvd25lciBvZiB0aGlzIHNoaXAgZ2V0cyB3aGVuIHNvbWVvbmUgYnV5cyB0aGlzIHR5cGUgb2Ygc2hpcAogICAgICAgIHVpbnQyNTYgcmVsZWFzZVRpbWU7IC8vIFRoZSBtb21lbnQgd2hlbiBpdCB3aWxsIGJlIGFsbG93ZWQgdG8gYnV5IHRoaXMgdHlwZSBvZiBzaGlwCiAgICAgICAgdWludDMyIGFtb3VudE9mU2hpcHM7IC8vIFRoZSBhbW91bnQgb2Ygc2hpcHMgd2l0aCB0aGlzIGtpbmQgb2YgcHJvZHVjdAoKICAgIH0KCiAgICBzdHJ1Y3QgU2hpcEVudGl0eSB7CiAgICAgICAgdWludDMyIHByb2R1Y3RJRDsKICAgICAgICB1aW50OFs0XSB1cGdyYWRlczsKICAgICAgICBhZGRyZXNzIG93bmVyOyAvLyBUaGUgYWRkcmVzcyBvZiB0aGUgb3duZXIgb2YgdGhpcyBzaGlwCiAgICAgICAgYWRkcmVzcyBlYXJuZXI7IC8vIFRoZSBhZGRyZXNzIG9mIHRoZSBlYXJuZXIgb2YgdGhpcyBzaGlwIHdobyBnZXQgcGFpZAogICAgICAgIGJvb2wgc2VsbGluZzsgLy8gSXMgdGhpcyBzaGlwIG9uIHRoZSBhdWN0aW9uIG5vdz8KICAgICAgICB1aW50MjU2IGF1Y3Rpb25FbnRpdHk7IC8vIElmIGl0J3Mgb24gdGhlIGF1Y3Rpb24sCiAgICAgICAgdWludDI1NiBlYXJuZWQ7IC8vIFRvdGFsIGZ1bmRzIGVhcm5lZCB3aXRoIHRoaXMgc2hpcAogICAgICAgIHVpbnQzMiBleHA7IC8vIHNoaXAncyBleHBlcmllbmNlCiAgICAgICAgdWludDMyIGxhc3RDYXNob3V0SW5kZXg7IC8vIExhc3QgYW1vdW50IG9mIHNoaXBzIGV4aXN0aW5nIGluIHRoZSBnYW1lIHdpdGggdGhlIHNhbWUgUHJvZHVjdElECiAgICB9CgogICAgc3RydWN0IEF1Y3Rpb25FbnRpdHkgewogICAgICAgIHVpbnQzMiBzaGlwSUQ7CiAgICAgICAgdWludDI1NiBzdGFydFByaWNlOwogICAgICAgIHVpbnQyNTYgZmluaXNoUHJpY2U7CiAgICAgICAgdWludDI1NiBzdGFydFRpbWU7CiAgICAgICAgdWludDI1NiBkdXJhdGlvbjsKICAgIH0KCiAgICBldmVudCBFdmVudENhc2hPdXQgKAogICAgICAgYWRkcmVzcyBpbmRleGVkIHBsYXllciwKICAgICAgIHVpbnQyNTYgYW1vdW50CiAgICAgICApOyAvLzstKQoKICAgIGV2ZW50IEV2ZW50TG9naW4gKAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBwbGF5ZXIsCiAgICAgICAgc3RyaW5nIGhhc2gKICAgICAgICApOyAvLzstKQoKICAgIGV2ZW50IEV2ZW50VXBncmFkZVNoaXAgKAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBwbGF5ZXIsCiAgICAgICAgdWludDMyIHNoaXBJRCwKICAgICAgICB1aW50OCB1cGdyYWRlQ2hvaWNlCiAgICAgICAgKTsgLy8gOy0pCgogICAgZXZlbnQgRXZlbnRUcmFuc2ZlciAoCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIHBsYXllciwKICAgICAgICBhZGRyZXNzIGluZGV4ZWQgcmVjZWl2ZXIsCiAgICAgICAgdWludDMyIHNoaXBJRAogICAgICAgICk7IC8vIDstKQoKICAgIGV2ZW50IEV2ZW50VHJhbnNmZXJBY3Rpb24gKAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBwbGF5ZXIsCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIHJlY2VpdmVyLAogICAgICAgIHVpbnQzMiBzaGlwSUQsCiAgICAgICAgdWludDggQWN0aW9uVHlwZQogICAgICAgICk7IC8vIDstKQoKICAgIGV2ZW50IEV2ZW50QXVjdGlvbiAoCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIHBsYXllciwKICAgICAgICB1aW50MzIgc2hpcElELAogICAgICAgIHVpbnQyNTYgc3RhcnRQcmljZSwKICAgICAgICB1aW50MjU2IGZpbmlzaFByaWNlLAogICAgICAgIHVpbnQyNTYgZHVyYXRpb24sCiAgICAgICAgdWludDI1NiBjdXJyZW50VGltZQogICAgICAgICk7IC8vIDstKQogICAgICAgIAogICAgZXZlbnQgRXZlbnRDYW5jZWxBdWN0aW9uICgKICAgICAgICB1aW50MzIgc2hpcElECiAgICAgICAgKTsgLy8gOy0pCgogICAgZXZlbnQgRXZlbnRCaWQgKAogICAgICAgIHVpbnQzMiBzaGlwSUQKICAgICAgICApOyAvLyA7LSkKCiAgICBldmVudCBFdmVudEJ1eVNoaXAgKAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBwbGF5ZXIsCiAgICAgICAgdWludDMyIHByb2R1Y3RJRCwKICAgICAgICB1aW50MzIgc2hpcElECiAgICAgICAgKTsgLy8gOy0pCgogICAgYWRkcmVzcyBwdWJsaWMgVXBncmFkZU1hc3RlcjsgLy8gRWFybnMgZmVlcyBmb3IgdXBncmFkaW5nIHNoaXBzICgwLjA1IEV0aCkKICAgIGFkZHJlc3MgcHVibGljIEF1Y3Rpb25NYXN0ZXI7IC8vIEVhcm5zIGZlZXMgZm9yIHByb2R1Y2luZyBhdWN0aW9ucyAoMyUpCiAgICBhZGRyZXNzIHB1YmxpYyBTaGlwU2VsbE1hc3RlcjsgLy8gRWFybnMgZmVlcyBmb3Igc2VsbGluZyBzaGlwcyAoc3RhcnQgcHJpY2UpCgogICAgZnVuY3Rpb24gQ2hhbmdlVXBncmFkZU1hc3RlciAoYWRkcmVzcyBfbmV3TWFzdGVyKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBVcGdyYWRlTWFzdGVyKTsKICAgICAgICBVcGdyYWRlTWFzdGVyID0gX25ld01hc3RlcjsKICAgIH0KCiAgICBmdW5jdGlvbiBDaGFuZ2VTaGlwU2VsbE1hc3RlciAoYWRkcmVzcyBfbmV3TWFzdGVyKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBTaGlwU2VsbE1hc3Rlcik7CiAgICAgICAgU2hpcFNlbGxNYXN0ZXIgPSBfbmV3TWFzdGVyOwogICAgfQoKICAgIGZ1bmN0aW9uIENoYW5nZUF1Y3Rpb25NYXN0ZXIgKGFkZHJlc3MgX25ld01hc3RlcikgcHVibGljIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gQXVjdGlvbk1hc3Rlcik7CiAgICAgICAgQXVjdGlvbk1hc3RlciA9IF9uZXdNYXN0ZXI7CiAgICB9CgogICAgZnVuY3Rpb24gRXRoZXJTaGlwc0NvcmUoKSBwdWJsaWMgewoKICAgICAgICBVcGdyYWRlTWFzdGVyID0gbXNnLnNlbmRlcjsKICAgICAgICBBdWN0aW9uTWFzdGVyID0gbXNnLnNlbmRlcjsKICAgICAgICBTaGlwU2VsbE1hc3RlciA9IG1zZy5zZW5kZXI7CgogICAgICAgIC8vIENyZWF0aW5nIHNoaXAgdHlwZXMKICAgICAgICAvL25hbWUsIGFybW9yLCBzcGVlZCwgbWluRGFtYWdlLCBtYXhEYW1hZ2UsIGF0dGFja1NwZWVkLCBsZWFndWUsIHN0YXJ0IHByaWNlLCBlYXJuaW5nLCByZWxlYXNlIHRpbWUKICAgICAgICAKICAgICAgICBuZXdTaGlwUHJvZHVjdCgiTC1SYXoiLCA1MCwgNSwgNSwgNDAsIDUsIDEsIDUwMDAwMDAwMDAwMDAwMDAwLCA1MDAwMDAwMDAwMDAwMDAsIG5vdyk7CiAgICAgICAgbmV3U2hpcFByb2R1Y3QoIkwtVmlwIiwgNTAsIDQsIDYsIDM1LCA2LCAxLCA1MDAwMDAwMDAwMDAwMDAwMCwgNTAwMDAwMDAwMDAwMDAwLCBub3crKDYwKjYwKjMpKTsKICAgICAgICBuZXdTaGlwUHJvZHVjdCgiTC1SYXB0IiwgNTAsIDUsIDUsIDM1LCA1LCAxLCA1MDAwMDAwMDAwMDAwMDAwMCwgNTAwMDAwMDAwMDAwMDAwLCBub3crKDYwKjYwKjYpKTsKICAgICAgICBuZXdTaGlwUHJvZHVjdCgiTC1TbGFzaCIsIDUwLCA1LCA1LCAzMCwgNiwgMSwgNTAwMDAwMDAwMDAwMDAwMDAsIDUwMDAwMDAwMDAwMDAwMCwgbm93Kyg2MCo2MCoxMikpOwogICAgICAgIG5ld1NoaXBQcm9kdWN0KCJMLVN0aW4iLCA1MCwgNSwgNSwgNDAsIDUsIDEsIDUwMDAwMDAwMDAwMDAwMDAwLCA1MDAwMDAwMDAwMDAwMDAsIG5vdysoNjAqNjAqMjQpKTsKICAgICAgICBuZXdTaGlwUHJvZHVjdCgiTC1TY29yIiwgNTAsIDQsIDUsIDM1LCA1LCAxLCA1MDAwMDAwMDAwMDAwMDAwMCwgNTAwMDAwMDAwMDAwMDAwLCBub3crKDYwKjYwKjQ4KSk7CiAgICAgICAgCiAgICAgICAgbmV3U2hpcFByb2R1Y3QoIlN1Yi1TYyIsIDYwLCA1LCA0NSwgMTE1LCA0LCAyLCAxMDAwMDAwMDAwMDAwMDAwMDAsIDEwMDAwMDAwMDAwMDAwMDAsIG5vdyk7CiAgICAgICAgbmV3U2hpcFByb2R1Y3QoIlN1Yi1DeWNsIiwgNzAsIDQsIDQwLCAxMTUsIDQsIDIsIDEwMDAwMDAwMDAwMDAwMDAwMCwgMTAwMDAwMDAwMDAwMDAwMCwgbm93Kyg2MCo2MCo2KSk7CiAgICAgICAgbmV3U2hpcFByb2R1Y3QoIlN1Yi1EZWVwIiwgODAsIDUsIDQ1LCAxMjAsIDQsIDIsIDEwMDAwMDAwMDAwMDAwMDAwMCwgMTAwMDAwMDAwMDAwMDAwMCwgbm93Kyg2MCo2MCoxMikpOwogICAgICAgIG5ld1NoaXBQcm9kdWN0KCJTdWItU3AiLCA5MCwgNCwgNTAsIDEyMCwgMywgMiwgMTAwMDAwMDAwMDAwMDAwMDAwLCAxMDAwMDAwMDAwMDAwMDAwLCBub3crKDYwKjYwKjI0KSk7CiAgICAgICAgbmV3U2hpcFByb2R1Y3QoIlN1Yi1BYiIsIDEwMCwgNSwgNTUsIDEzMCwgMywgMiwgMTAwMDAwMDAwMDAwMDAwMDAwLCAxMDAwMDAwMDAwMDAwMDAwLCBub3crKDYwKjYwKjQ4KSk7CgogICAgICAgIG5ld1NoaXBQcm9kdWN0KCJNLVNwIiwgMTQwLCA0LCA0MCwgMTIwLCA0LCAzLCAyMDAwMDAwMDAwMDAwMDAwMDAsIDIwMDAwMDAwMDAwMDAwMDAsIG5vdyk7CiAgICAgICAgbmV3U2hpcFByb2R1Y3QoIk0tQXJtYSIsIDE1MCwgNCwgNDAsIDExNSwgNSwgMywgMjAwMDAwMDAwMDAwMDAwMDAwLCAyMDAwMDAwMDAwMDAwMDAwLCBub3crKDYwKjYwKjEyKSk7CiAgICAgICAgbmV3U2hpcFByb2R1Y3QoIk0tUGVuZXRyIiwgMTYwLCA0LCAzNSwgMTIwLCA2LCAzLCAyMDAwMDAwMDAwMDAwMDAwMDAsIDIwMDAwMDAwMDAwMDAwMDAsIG5vdysoNjAqNjAqMjQpKTsKICAgICAgICBuZXdTaGlwUHJvZHVjdCgiTS1TbGljZSIsIDE3MCwgNCwgNDUsIDEyMCwgMywgMywgMjAwMDAwMDAwMDAwMDAwMDAwLCAyMDAwMDAwMDAwMDAwMDAwLCBub3crKDYwKjYwKjM2KSk7CiAgICAgICAgbmV3U2hpcFByb2R1Y3QoIk0tSGVsbCIsIDE4MCwgMywgMzUsIDEyMCwgMiwgMywgMjAwMDAwMDAwMDAwMDAwMDAwLCAyMDAwMDAwMDAwMDAwMDAwLCBub3crKDYwKjYwKjQ4KSk7CgogICAgICAgIG5ld1NoaXBQcm9kdWN0KCJILUhhdyIsIDIxMCwgMywgNjUsIDE0MCwgMywgNCwgNDAwMDAwMDAwMDAwMDAwMDAwLCA0MDAwMDAwMDAwMDAwMDAwLCBub3cpOwogICAgICAgIG5ld1NoaXBQcm9kdWN0KCJILUZhdCIsIDIyMCwgMywgNzUsIDE1MCwgMiwgNCwgNDAwMDAwMDAwMDAwMDAwMDAwLCA0MDAwMDAwMDAwMDAwMDAwLCBub3crKDYwKjYwKjI0KSk7CiAgICAgICAgbmV3U2hpcFByb2R1Y3QoIkgtQmVoIiwgMjMwLCAyLCA4NSwgMTYwLCAyLCA0LCA0MDAwMDAwMDAwMDAwMDAwMDAsIDQwMDAwMDAwMDAwMDAwMDAsIG5vdysoNjAqNjAqNDgpKTsKICAgICAgICBuZXdTaGlwUHJvZHVjdCgiSC1NYW1tIiwgMjQwLCAyLCAxMDAsIDE3MCwgMiwgNCwgNDAwMDAwMDAwMDAwMDAwMDAwLCA0MDAwMDAwMDAwMDAwMDAwLCBub3crKDYwKjYwKjcyKSk7CiAgICAgICAgbmV3U2hpcFByb2R1Y3QoIkgtQmlnTSIsIDI1MCwgMiwgMTIwLCAxODAsIDMsIDQsIDQwMDAwMDAwMDAwMDAwMDAwMCwgNDAwMDAwMDAwMDAwMDAwMCwgbm93Kyg2MCo2MCo5NikpOwoKICAgIH0KCiAgICBmdW5jdGlvbiBjYXNoT3V0ICh1aW50MjU2IF9hbW91bnQpIHB1YmxpYyBwYXlhYmxlIHsKCiAgICAgICAgcmVxdWlyZSAoX2Ftb3VudCA+PSAwKTsgLy9qdXN0IGluIGNhc2UKICAgICAgICByZXF1aXJlIChfYW1vdW50ID09IHVpbnQyNTYodWludDEyOChfYW1vdW50KSkpOyAvLyBKdXN0IHNvbWUgbWFnaWMgc3R1ZmYKICAgICAgICByZXF1aXJlICh0aGlzLmJhbGFuY2UgPj0gX2Ftb3VudCk7IC8vIENoZWNraW5nIGlmIHRoaXMgY29udHJhY3QgaGFzIGVub3VnaHQgbW9uZXkgdG8gcGF5CiAgICAgICAgcmVxdWlyZSAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCk7IC8vIENoZWNraW5nIGlmIHBsYXllciBoYXMgZW5vdWdoIGZ1bmRzIG9uIGhpcyBiYWxhbmNlCiAgICAgICAgaWYgKF9hbW91bnQgPT0gMCl7CiAgICAgICAgICAgIF9hbW91bnQgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXTsKICAgICAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3RlZCBhbW91bnQgaXMgMCwgaXQgbWVhbnMgdGhhdCBwbGF5ZXIgd2FudHMgdG8gY2FzaG91dCB0aGUgd2hvbGUgYW1vdW50IG9mIGJhbGFuY2UKICAgICAgICB9CgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF9hbW91bnQ7IC8vIENoYW5naW5nIHRoZSBhbW91bnQgb2YgZnVuZHMgb24gdGhlIHBsYXllcidzIGluLWdhbWUgYmFsYW5jZQoKICAgICAgICBpZiAoIW1zZy5zZW5kZXIuc2VuZChfYW1vdW50KSl7IC8vIFNlbmRpbmcgZnVuZHMgYW5kIGlmIHRoZSB0cmFuc2FjdGlvbiBpcyBmYWlsZWQKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gX2Ftb3VudDsgLy8gUmV0dXJuaW5nIHRoZSBhbW91bnQgb2YgZnVuZHMgb24gdGhlIHBsYXllcidzIGluLWdhbWUgYmFsYW5jZQogICAgICAgIH0KCiAgICAgICAgRXZlbnRDYXNoT3V0IChtc2cuc2VuZGVyLCBfYW1vdW50KTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgZnVuY3Rpb24gY2FzaE91dFNoaXAgKHVpbnQzMiBfc2hpcElEKSBwdWJsaWMgcGF5YWJsZSB7CgogICAgICAgIHJlcXVpcmUgKF9zaGlwSUQgPiAwICYmIF9zaGlwSUQgPCBuZXdJZFNoaXApOyAvLyBDaGVja2luZyBpZiB0aGUgc2hpcCBleGlzdHMKICAgICAgICByZXF1aXJlIChzaGlwc1tfc2hpcElEXS5vd25lciA9PSBtc2cuc2VuZGVyKTsgLy8gQ2hlY2tpbmcgaWYgc2VuZGVyIG93bnMgdGhpcyBzaGlwCiAgICAgICAgdWludDI1NiBfYW1vdW50ID0gc2hpcFByb2R1Y3RzW3NoaXBzW19zaGlwSURdLnByb2R1Y3RJRF0uZWFybmluZyooc2hpcFByb2R1Y3RzW3NoaXBzW19zaGlwSURdLnByb2R1Y3RJRF0uYW1vdW50T2ZTaGlwcy1zaGlwc1tfc2hpcElEXS5sYXN0Q2FzaG91dEluZGV4KTsKICAgICAgICByZXF1aXJlICh0aGlzLmJhbGFuY2UgPj0gX2Ftb3VudCk7IC8vIENoZWNraW5nIGlmIHRoaXMgY29udHJhY3QgaGFzIGVub3VnaHQgbW9uZXkgdG8gcGF5CiAgICAgICAgcmVxdWlyZSAoX2Ftb3VudCA+IDApOwoKICAgICAgICB1aW50MzIgbGFzdEluZGV4ID0gc2hpcHNbX3NoaXBJRF0ubGFzdENhc2hvdXRJbmRleDsKCiAgICAgICAgc2hpcHNbX3NoaXBJRF0ubGFzdENhc2hvdXRJbmRleCA9IHNoaXBQcm9kdWN0c1tzaGlwc1tfc2hpcElEXS5wcm9kdWN0SURdLmFtb3VudE9mU2hpcHM7IC8vIENoYW5naW5nIHRoZSBhbW91bnQgb2YgZnVuZHMgb24gdGhlIHNoaXBzJ3MgaW4tZ2FtZSBiYWxhbmNlCgogICAgICAgIGlmICghc2hpcHNbX3NoaXBJRF0ub3duZXIuc2VuZChfYW1vdW50KSl7IC8vIFNlbmRpbmcgZnVuZHMgYW5kIGlmIHRoZSB0cmFuc2FjdGlvbiBpcyBmYWlsZWQKICAgICAgICAgICAgc2hpcHNbX3NoaXBJRF0ubGFzdENhc2hvdXRJbmRleCA9IGxhc3RJbmRleDsgLy8gQ2hhbmdpbmcgdGhlIGFtb3VudCBvZiBmdW5kcyBvbiB0aGUgc2hpcHMncyBpbi1nYW1lIGJhbGFuY2UKICAgICAgICB9CgogICAgICAgIEV2ZW50Q2FzaE91dCAobXNnLnNlbmRlciwgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGZ1bmN0aW9uIGxvZ2luIChzdHJpbmcgX2hhc2gpIHB1YmxpYyB7CiAgICAgICAgRXZlbnRMb2dpbiAobXNnLnNlbmRlciwgX2hhc2gpOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAvL3VwZ3JhZGUgc2hpcAogICAgLy8gQF91cGdyYWRlQ2hvaWNlOiAwIGlzIGZvciBhcm1vciwgMSBpcyBmb3IgZGFtYWdlLCAyIGlzIGZvciBzcGVlZCwgMyBpcyBmb3IgYXR0YWNrIHNwZWVkCiAgICBmdW5jdGlvbiB1cGdyYWRlU2hpcCAodWludDMyIF9zaGlwSUQsIHVpbnQ4IF91cGdyYWRlQ2hvaWNlKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZSAoX3NoaXBJRCA+IDAgJiYgX3NoaXBJRCA8IG5ld0lkU2hpcCk7IC8vIENoZWNraW5nIGlmIHRoZSBzaGlwIGV4aXN0cwogICAgICAgIHJlcXVpcmUgKHNoaXBzW19zaGlwSURdLm93bmVyID09IG1zZy5zZW5kZXIpOyAvLyBDaGVja2luZyBpZiBzZW5kZXIgb3ducyB0aGlzIHNoaXAKICAgICAgICByZXF1aXJlIChfdXBncmFkZUNob2ljZSA+PSAwICYmIF91cGdyYWRlQ2hvaWNlIDwgNCk7IC8vIEhhcyB0byBiZSBiZXR3ZWVuIDAgYW5kIDMKICAgICAgICByZXF1aXJlIChzaGlwc1tfc2hpcElEXS51cGdyYWRlc1tfdXBncmFkZUNob2ljZV0gPCA1KTsgLy8gT25seSA1IHVwZ3JhZGVzIGFyZSBhbGxvd2VkIGZvciBlYWNoIHR5cGUgb2Ygc2hpcCdzIHBhcmFtZXRyZXMKICAgICAgICByZXF1aXJlIChtc2cudmFsdWUgPj0gdXBncmFkZVByaWNlKTsgLy8gQ2hlY2tpbmcgaWYgdGhlcmUgaXMgZW5vdWdoIGFtb3VudCBvZiBtb25leSBmb3IgdGhlIHVwZ3JhZGUKICAgICAgICBzaGlwc1tfc2hpcElEXS51cGdyYWRlc1tfdXBncmFkZUNob2ljZV0rKzsgLy8gVXBncmFkaW5nCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gbXNnLnZhbHVlLXVwZ3JhZGVQcmljZTsgLy8gUmV0dXJuaW5nIHRoZSByZXN0IGFtb3VudCBvZiBtb25leSBiYWNrIHRvIHRoZSBzaGlwIG93bmVyCiAgICAgICAgYmFsYW5jZXNbVXBncmFkZU1hc3Rlcl0gKz0gdXBncmFkZVByaWNlOyAvLyBTZW5kaW5nIHRoZSBhbW91bnQgb2YgbW9uZXkgc3BlbnQgb24gdGhlIHVwZ3JhZGUgdG8gdGhlIGNvbnRyYWN0IGNyZWF0b3IKCiAgICAgICAgRXZlbnRVcGdyYWRlU2hpcCAobXNnLnNlbmRlciwgX3NoaXBJRCwgX3VwZ3JhZGVDaG9pY2UpOwogICAgICAgIHJldHVybjsKICAgIH0KCgogICAgLy8gVHJhbnNmZXIuIFVzaW5nIGZvciBzZW5kaW5nIHNoaXBzIHRvIGFub3RoZXIgcGxheWVycwogICAgZnVuY3Rpb24gX3RyYW5zZmVyICh1aW50MzIgX3NoaXBJRCwgYWRkcmVzcyBfcmVjZWl2ZXIpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZSAoX3NoaXBJRCA+IDAgJiYgX3NoaXBJRCA8IG5ld0lkU2hpcCk7IC8vIENoZWNraW5nIGlmIHRoZSBzaGlwIGV4aXN0cwogICAgICAgIHJlcXVpcmUgKHNoaXBzW19zaGlwSURdLm93bmVyID09IG1zZy5zZW5kZXIpOyAvL0NoZWNraW5nIGlmIHNlbmRlciBvd25zIHRoaXMgc2hpcAogICAgICAgIHJlcXVpcmUgKG1zZy5zZW5kZXIgIT0gX3JlY2VpdmVyKTsgLy8gQ2hlY2tpbmcgdGhhdCB0aGUgb3duZXIgaXMgbm90IHNlbmRpbmcgdGhlIHNoaXAgdG8gaGltc2VsZgogICAgICAgIHJlcXVpcmUgKHNoaXBzW19zaGlwSURdLnNlbGxpbmcgPT0gZmFsc2UpOyAvL01ha2luZyBzdXJlIHRoYXQgdGhlIHNoaXAgaXMgbm90IG9uIHRoZSBhdWN0aW9uIG5vdwogICAgICAgIHNoaXBzW19zaGlwSURdLm93bmVyID0gX3JlY2VpdmVyOyAvLyBDaGFuZ2luZyB0aGUgc2hpcCdzIG93bmVyCiAgICAgICAgc2hpcHNbX3NoaXBJRF0uZWFybmVyID0gX3JlY2VpdmVyOyAvLyBDaGFuZ2luZyB0aGUgc2hpcCdzIGVhcm5lciBhZGRyZXNzCgogICAgICAgIEV2ZW50VHJhbnNmZXIgKG1zZy5zZW5kZXIsIF9yZWNlaXZlciwgX3NoaXBJRCk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIFRyYW5zZmVyIEFjdGlvbi4gVXNpbmcgZm9yIHNlbmRpbmcgc2hpcHMgdG8gRXRoZXJBcm15J3MgY29udHJhY3RzLiBGb3IgZXhhbXBsZSwgdGhlIGJhdHRsZS1hcmVhIGNvbnRyYWN0LgogICAgZnVuY3Rpb24gX3RyYW5zZmVyQWN0aW9uICh1aW50MzIgX3NoaXBJRCwgYWRkcmVzcyBfcmVjZWl2ZXIsIHVpbnQ4IF9BY3Rpb25UeXBlKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUgKF9zaGlwSUQgPiAwICYmIF9zaGlwSUQgPCBuZXdJZFNoaXApOyAvLyBDaGVja2luZyBpZiB0aGUgc2hpcCBleGlzdHMKICAgICAgICByZXF1aXJlIChzaGlwc1tfc2hpcElEXS5vd25lciA9PSBtc2cuc2VuZGVyKTsgLy8gQ2hlY2tpbmcgaWYgc2VuZGVyIG93bnMgdGhpcyBzaGlwCiAgICAgICAgcmVxdWlyZSAobXNnLnNlbmRlciAhPSBfcmVjZWl2ZXIpOyAvLyBDaGVja2luZyB0aGF0IHRoZSBvd25lciBpcyBub3Qgc2VuZGluZyB0aGUgc2hpcCB0byBoaW1zZWxmCiAgICAgICAgcmVxdWlyZSAoc2hpcHNbX3NoaXBJRF0uc2VsbGluZyA9PSBmYWxzZSk7IC8vIE1ha2luZyBzdXJlIHRoYXQgdGhlIHNoaXAgaXMgbm90IG9uIHRoZSBhdWN0aW9uIG5vdwogICAgICAgIHNoaXBzW19zaGlwSURdLm93bmVyID0gX3JlY2VpdmVyOyAvLyBDaGFuZ2luZyB0aGUgc2hpcCdzIG93bmVyCgogICAgICAgIC8vIEFzIHlvdSBjYW4gc2VlLCB3ZSBkbyBub3QgY2hhbmdlIHRoZSBlYXJuZXIgaGVyZS4KICAgICAgICAvLyBJdCBtZWFucyB0aGF0IHRlY2huaWNhbGx5IHNwZWFraW5nLCB0aGUgc2hpcCdzIG93bmVyIGlzIHN0aWxsIGdldHRpbmcgaGlzIGVhcm5pbmdzLgogICAgICAgIC8vIEl0J3MgbG9naWNhbGx5IHRoYXQgdGhpcyBtZXRob2QgKHRyYW5zZmVyQWN0aW9uKSB3aWxsIGJlIHVzZWQgZm9yIHNlbmRpbmcgc2hpcHMgdG8gdGhlIGJhdHRsZSBhcmVhIGNvbnRyYWN0IG9yIHNvbWUgb3RoZXIgY29udHJhY3RzIHdoaWNoIHdpbGwgYmUgaW50ZXJhY3Rpbmcgd2l0aCBzaGlwcwogICAgICAgIC8vIEJlIGNhcmVmdWwgd2l0aCB0aGlzIG1ldGhvZCEgRG8gbm90IGNhbGwgaXQgdG8gdHJhbnNmZXIgc2hpcHMgdG8gYW5vdGhlciBwbGF5ZXIhCiAgICAgICAgLy8gVGhlIHJlYXNvbiB5b3Ugc2hvdWxkIG5vdCBkbyB0aGlzIGlzIHRoYXQgdGhlIG1ldGhvZCBjYWxsZWQgInRyYW5zZmVyIiBjaGFuZ2VzIHRoZSBvd25lciBhbmQgZWFybmVyLCBzbyBpdCBpcyBwb3NzaWJsZSB0byBjaGFuZ2UgdGhlIGVhcm5lciBhZGRyZXNzIHRvIHRoZSBjdXJyZW50IG93bmVyIGFkZHJlc3MgYW55IHRpbWUuCiAgICAgICAgLy8gSG93ZXZlciwgZm9yIG91ciBzcGVjaWFsIGNvbnRyYWN0cyBsaWtlIGJhdHRsZSBhcmVhLCB5b3UgYXJlIGFibGUgdG8gcmVhZCB0aGlzIGNvbnRyYWN0IGFuZCBtYWtlIHN1cmUgdGhhdCB5b3VyIHNoaXAgd2lsbCBub3QgYmUgc2VudCB0byBhbnlvbmUgZWxzZSwgb25seSBiYWNrIHRvIHlvdS4KICAgICAgICAvLyBTbywgcGxlYXNlLCBkbyBub3QgdXNlIHRoaXMgbWV0aG9kIHRvIHNlbmQgeW91ciBzaGlwcyB0byBvdGhlciBwbGF5ZXJzLiBVc2UgaXQganVzdCBmb3IgaW50ZXJhY3Rpbmcgd2l0aCBFdGhlcnNoaXBzJyBjb250cmFjdHMsIHdoaWNoIHdpbGwgYmUgbGlzdGVkIG9uIEV0aGVyc2hpcHMuY29tCgogICAgICAgIEV2ZW50VHJhbnNmZXJBY3Rpb24gKG1zZy5zZW5kZXIsIF9yZWNlaXZlciwgX3NoaXBJRCwgX0FjdGlvblR5cGUpOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAvL3NlbGxpbmcKICAgIGZ1bmN0aW9uIHNlbGxTaGlwICh1aW50MzIgX3NoaXBJRCwgdWludDI1NiBfc3RhcnRQcmljZSwgdWludDI1NiBfZmluaXNoUHJpY2UsIHVpbnQyNTYgX2R1cmF0aW9uKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUgKF9zaGlwSUQgPiAwICYmIF9zaGlwSUQgPCBuZXdJZFNoaXApOwogICAgICAgIHJlcXVpcmUgKHNoaXBzW19zaGlwSURdLm93bmVyID09IG1zZy5zZW5kZXIpOwogICAgICAgIHJlcXVpcmUgKHNoaXBzW19zaGlwSURdLnNlbGxpbmcgPT0gZmFsc2UpOyAvLyBNYWtpbmcgc3VyZSB0aGF0IHRoZSBzaGlwIGlzIG5vdCBvbiB0aGUgYXVjdGlvbiBhbHJlYWR5CiAgICAgICAgcmVxdWlyZSAoX3N0YXJ0UHJpY2UgPj0gX2ZpbmlzaFByaWNlKTsKICAgICAgICByZXF1aXJlIChfc3RhcnRQcmljZSA+IDAgJiYgX2ZpbmlzaFByaWNlID49IDApOwogICAgICAgIHJlcXVpcmUgKF9kdXJhdGlvbiA+IDApOwogICAgICAgIHJlcXVpcmUgKF9zdGFydFByaWNlID09IHVpbnQyNTYodWludDEyOChfc3RhcnRQcmljZSkpKTsgLy8gSnVzdCBzb21lIG1hZ2ljIHN0dWZmCiAgICAgICAgcmVxdWlyZSAoX2ZpbmlzaFByaWNlID09IHVpbnQyNTYodWludDEyOChfZmluaXNoUHJpY2UpKSk7IC8vIEp1c3Qgc29tZSBtYWdpYyBzdHVmZgoKICAgICAgICBhdWN0aW9uc1tuZXdJZEF1Y3Rpb25FbnRpdHldID0gQXVjdGlvbkVudGl0eShfc2hpcElELCBfc3RhcnRQcmljZSwgX2ZpbmlzaFByaWNlLCBub3csIF9kdXJhdGlvbik7CiAgICAgICAgc2hpcHNbX3NoaXBJRF0uc2VsbGluZyA9IHRydWU7CiAgICAgICAgc2hpcHNbX3NoaXBJRF0uYXVjdGlvbkVudGl0eSA9IG5ld0lkQXVjdGlvbkVudGl0eSsrOwoKICAgICAgICBFdmVudEF1Y3Rpb24gKG1zZy5zZW5kZXIsIF9zaGlwSUQsIF9zdGFydFByaWNlLCBfZmluaXNoUHJpY2UsIF9kdXJhdGlvbiwgbm93KTsKICAgIH0KCiAgICAvL2JpZGRpbmcgZnVuY3Rpb24sIHBlb3BsZSB1c2UgdGhpcyB0byBidXkgc2hpcHMKICAgIGZ1bmN0aW9uIGJpZCAodWludDMyIF9zaGlwSUQpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlIChfc2hpcElEID4gMCAmJiBfc2hpcElEIDwgbmV3SWRTaGlwKTsgLy8gQ2hlY2tpbmcgaWYgdGhlIHNoaXAgZXhpc3RzCiAgICAgICAgcmVxdWlyZSAoc2hpcHNbX3NoaXBJRF0uc2VsbGluZyA9PSB0cnVlKTsgLy8gQ2hlY2tpbmcgaWYgdGhpcyBzaGlwcyBpcyBvbiB0aGUgYXVjdGlvbiBub3cKICAgICAgICBBdWN0aW9uRW50aXR5IG1lbW9yeSBjdXJyZW50QXVjdGlvbiA9IGF1Y3Rpb25zW3NoaXBzW19zaGlwSURdLmF1Y3Rpb25FbnRpdHldOyAvLyBUaGUgYXVjdGlvbiBlbnRpdHkgZm9yIHRoaXMgc2hpcC4gSnVzdCB0byBtYWtlIHRoZSBsaW5lIGJlbG93IGVhc2llciB0byByZWFkCiAgICAgICAgdWludDI1NiBjdXJyZW50UHJpY2UgPSBjdXJyZW50QXVjdGlvbi5zdGFydFByaWNlLSgoKGN1cnJlbnRBdWN0aW9uLnN0YXJ0UHJpY2UtY3VycmVudEF1Y3Rpb24uZmluaXNoUHJpY2UpLyhjdXJyZW50QXVjdGlvbi5kdXJhdGlvbikpKihub3ctY3VycmVudEF1Y3Rpb24uc3RhcnRUaW1lKSk7CiAgICAgICAgLy8gVGhlIGxpbmUgYWJvdmUgY2FsY3VsYXRlcyB0aGUgY3VycmVudCBwcmljZSB1c2luZyB0aGUgZm9ybXVsYSBTdGFydFByaWNlLSgoKFN0YXJ0UHJpY2UtRmluaXNoUHJpY2UpL0R1cmF0aW9uKSooQ3VycmVudFRpbWUtU3RhcnRUaW1lKQogICAgICAgIGlmIChjdXJyZW50UHJpY2UgPCBjdXJyZW50QXVjdGlvbi5maW5pc2hQcmljZSl7IC8vIElmIHRoZSBhdWN0aW9uIGR1cmF0aW9uIHRpbWUgaGFzIGJlZW4gZXhwaXJlZAogICAgICAgICAgICBjdXJyZW50UHJpY2UgPSBjdXJyZW50QXVjdGlvbi5maW5pc2hQcmljZTsgIC8vIFNldHRpbmcgdGhlIGN1cnJlbnQgcHJpY2UgYXMgZmluaXNoUHJpY2UKICAgICAgICB9CiAgICAgICAgcmVxdWlyZSAoY3VycmVudFByaWNlID49IDApOyAvLyBXaG8ga25vd3MgOikKICAgICAgICByZXF1aXJlIChtc2cudmFsdWUgPj0gY3VycmVudFByaWNlKTsgLy8gQ2hlY2tpbmcgaWYgdGhlIGJ1eWVyIHNlbnQgdGhlIGFtb3VudCBvZiBtb25leSB3aGljaCBpcyBtb3JlIG9yIGVxdWFsIHRoZSBjdXJyZW50IHByaWNlCgogICAgICAgIC8vIEFsbCBpcyBmaW5lLCBjaGFuZ2luZyBiYWxhbmNlcyBhbmQgY2hhbmdpbmcgc2hpcCdzIG93bmVyCiAgICAgICAgdWludDI1NiBtYXJrZXRGZWUgPSAoY3VycmVudFByaWNlLzEwMCkqMzsgLy8gQ2FsY3VsYXRpbmcgMyUgb2YgdGhlIGN1cnJlbnQgcHJpY2UgYXMgYSBmZWUKICAgICAgICBiYWxhbmNlc1tzaGlwc1tfc2hpcElEXS5vd25lcl0gKz0gY3VycmVudFByaWNlLW1hcmtldEZlZTsgLy8gR2l2aW5nIFtjdXJyZW50IHByaWNlXS1bZmVlXSBhbW91bnQgdG8gc2VsbGVyCiAgICAgICAgYmFsYW5jZXNbQXVjdGlvbk1hc3Rlcl0gKz0gbWFya2V0RmVlOyAvLyBTZW5kaW5nIHRoZSBmZWUgYW1vdW50IHRvIHRoZSBjb250cmFjdCBjcmVhdG9yJ3MgYmFsYW5jZQogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZS1jdXJyZW50UHJpY2U7IC8vUmV0dXJuIHRoZSByZXN0IGFtb3VudCB0byBidXllcgogICAgICAgIHNoaXBzW19zaGlwSURdLm93bmVyID0gbXNnLnNlbmRlcjsgLy8gQ2hhbmdpbmcgdGhlIG93bmVyIG9mIHRoZSBzaGlwCiAgICAgICAgc2hpcHNbX3NoaXBJRF0uc2VsbGluZyA9IGZhbHNlOyAvLyBDaGFuZ2UgdGhlIHNoaXAgc3RhdHVzIHRvICJub3Qgc2VsbGluZyBub3ciCiAgICAgICAgZGVsZXRlIGF1Y3Rpb25zW3NoaXBzW19zaGlwSURdLmF1Y3Rpb25FbnRpdHldOyAvLyBEZWxldGluZyB0aGUgYXVjdGlvbiBlbnRpdHkgZnJvbSB0aGUgc3RvcmFnZSBmb3IgYXVjdGlvbnMgLS0gd2UgZG9uJ3QgbmVlZCBpdCBhbnltb3JlCiAgICAgICAgc2hpcHNbX3NoaXBJRF0uYXVjdGlvbkVudGl0eSA9IDA7IC8vIE5vdCBuZWNlc3NhcnksIGJ1dCBkZWxldGluZyB0aGUgSUQgb2YgYXVjdGlvbiBlbnRpdHkgd2hpY2ggd2FzIGRlbGV0ZWQgaW4gdGhlIG9wZXJhdGlvbiBhYm92ZQoKICAgICAgICBFdmVudEJpZCAoX3NoaXBJRCk7CiAgICB9CgogICAgLy9jYW5jZWwgYXVjdGlvbgogICAgZnVuY3Rpb24gY2FuY2VsQXVjdGlvbiAodWludDMyIF9zaGlwSUQpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZSAoX3NoaXBJRCA+IDAgJiYgX3NoaXBJRCA8IG5ld0lkU2hpcCk7IC8vIENoZWNraW5nIGlmIHRoZSBzaGlwIGV4aXN0cwogICAgICAgIHJlcXVpcmUgKHNoaXBzW19zaGlwSURdLnNlbGxpbmcgPT0gdHJ1ZSk7IC8vIENoZWNraW5nIGlmIHRoaXMgc2hpcHMgaXMgb24gdGhlIGF1Y3Rpb24gbm93CiAgICAgICAgcmVxdWlyZSAoc2hpcHNbX3NoaXBJRF0ub3duZXIgPT0gbXNnLnNlbmRlcik7IC8vIENoZWNraW5nIGlmIHNlbmRlciBvd25zIHRoaXMgc2hpcAogICAgICAgIHNoaXBzW19zaGlwSURdLnNlbGxpbmcgPSBmYWxzZTsgLy8gQ2hhbmdlIHRoZSBzaGlwIHN0YXR1cyB0byAibm90IHNlbGxpbmcgbm93IgogICAgICAgIGRlbGV0ZSBhdWN0aW9uc1tzaGlwc1tfc2hpcElEXS5hdWN0aW9uRW50aXR5XTsgLy8gRGVsZXRpbmcgdGhlIGF1Y3Rpb24gZW50aXR5IGZyb20gdGhlIHN0b3JhZ2UgZm9yIGF1Y3Rpb25zIC0tIHdlIGRvbid0IG5lZWQgaXQgYW55bW9yZQogICAgICAgIHNoaXBzW19zaGlwSURdLmF1Y3Rpb25FbnRpdHkgPSAwOyAvLyBOb3QgbmVjZXNzYXJ5LCBidXQgZGVsZXRpbmcgdGhlIElEIG9mIGF1Y3Rpb24gZW50aXR5IHdoaWNoIHdhcyBkZWxldGVkIGluIHRoZSBvcGVyYXRpb24gYWJvdmUKCiAgICAgICAgRXZlbnRDYW5jZWxBdWN0aW9uIChfc2hpcElEKTsKICAgIH0KCgogICAgZnVuY3Rpb24gbmV3U2hpcFByb2R1Y3QgKHN0cmluZyBfbmFtZSwgdWludDMyIF9hcm1vciwgdWludDMyIF9zcGVlZCwgdWludDMyIF9taW5EYW1hZ2UsIHVpbnQzMiBfbWF4RGFtYWdlLCB1aW50MzIgX2F0dGFja1NwZWVkLCB1aW50OCBfbGVhZ3VlLCB1aW50MjU2IF9wcmljZSwgdWludDI1NiBfZWFybmluZywgdWludDI1NiBfcmVsZWFzZVRpbWUpIHByaXZhdGUgewogICAgICAgIHNoaXBQcm9kdWN0c1tuZXdJZFNoaXBQcm9kdWN0KytdID0gU2hpcFByb2R1Y3QoX25hbWUsIF9hcm1vciwgX3NwZWVkLCBfbWluRGFtYWdlLCBfbWF4RGFtYWdlLCBfYXR0YWNrU3BlZWQsIF9sZWFndWUsIF9wcmljZSwgX3ByaWNlLCBfZWFybmluZywgX3JlbGVhc2VUaW1lLCAwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBidXlTaGlwICh1aW50MzIgX3NoaXBwcm9kdWN0SUQpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlIChzaGlwUHJvZHVjdHNbX3NoaXBwcm9kdWN0SURdLmN1cnJlbnRQcmljZSA+IDAgJiYgbXNnLnZhbHVlID4gMCk7IC8vdmFsdWUgaXMgbW9yZSB0aGFuIDAsIHByaWNlIGlzIG1vcmUgdGhhbiAwCiAgICAgICAgcmVxdWlyZSAobXNnLnZhbHVlID49IHNoaXBQcm9kdWN0c1tfc2hpcHByb2R1Y3RJRF0uY3VycmVudFByaWNlKTsgLy92YWx1ZSBpcyBoaWdoZXIgdGhhbiBwcmljZQogICAgICAgIHJlcXVpcmUgKHNoaXBQcm9kdWN0c1tfc2hpcHByb2R1Y3RJRF0ucmVsZWFzZVRpbWUgPD0gbm93KTsgLy9jaGVja2luZyBpZiB0aGlzIHNoaXAgd2FzIHJlbGVhc2VkLgogICAgICAgIC8vIEJhc2ljYWxseSwgdGhlIHJlbGVhc2VUaW1lIHdhcyBpbXBsZW1lbnRlZCBqdXN0IHRvIGdpdmUgYSBjaGFuY2UgdG8gZ2V0IHRoZSBuZXcgc2hpcCBmb3IgYXMgbWFueSBwbGF5ZXJzIGFzIHBvc3NpYmxlLgogICAgICAgIC8vIEl0IHByZXZlbnRzIHRoZSB1c2luZyBvZiBib3RzLgoKICAgICAgICBpZiAobXNnLnZhbHVlID4gc2hpcFByb2R1Y3RzW19zaGlwcHJvZHVjdElEXS5jdXJyZW50UHJpY2UpewogICAgICAgICAgICAvLyBJZiBwbGF5ZXIgcGF5ZWQgbW9yZSwgcHV0IHRoZSByZXN0IGFtb3VudCBvZiBtb25leSBvbiBoaXMgYmFsYW5jZQogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSBtc2cudmFsdWUtc2hpcFByb2R1Y3RzW19zaGlwcHJvZHVjdElEXS5jdXJyZW50UHJpY2U7CiAgICAgICAgfQoKICAgICAgICBzaGlwUHJvZHVjdHNbX3NoaXBwcm9kdWN0SURdLmN1cnJlbnRQcmljZSArPSBzaGlwUHJvZHVjdHNbX3NoaXBwcm9kdWN0SURdLmVhcm5pbmc7CgogICAgICAgIHNoaXBzW25ld0lkU2hpcCsrXSA9IFNoaXBFbnRpdHkgKF9zaGlwcHJvZHVjdElELCBbMCwgMCwgMCwgMF0sIG1zZy5zZW5kZXIsIG1zZy5zZW5kZXIsIGZhbHNlLCAwLCAwLCAwLCArK3NoaXBQcm9kdWN0c1tfc2hpcHByb2R1Y3RJRF0uYW1vdW50T2ZTaGlwcyk7CgogICAgICAgIC8vIEFmdGVyIGFsbCBvd25lcnMgb2YgdGhlIHNhbWUgdHlwZSBvZiBzaGlwIGdvdCB0aGVpciBlYXJuaW5ncywgYWRtaW5zIGdldCB0aGUgYW1vdW50IHdoaWNoIHJlbWFpbnMgYW5kIG5vIG9uZSBuZWVkIGl0CiAgICAgICAgLy8gQmFzaWNhbGx5LCBpdCBpcyB0aGUgc3RhcnQgcHJpY2Ugb2YgdGhlIHNoaXAuCiAgICAgICAgYmFsYW5jZXNbU2hpcFNlbGxNYXN0ZXJdICs9IHNoaXBQcm9kdWN0c1tfc2hpcHByb2R1Y3RJRF0uc3RhcnRQcmljZTsKCiAgICAgICAgRXZlbnRCdXlTaGlwIChtc2cuc2VuZGVyLCBfc2hpcHByb2R1Y3RJRCwgbmV3SWRTaGlwLTEpOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAvLyBPdXIgc3RvcmFnZSwga2V5cyBhcmUgbGlzdGVkIGZpcnN0LCB0aGVuIG1hcHBpbmdzLgogICAgLy8gT2YgY291cnNlLCBpbnN0ZWFkIG9mIHNvbWUgbWFwcGluZ3Mgd2UgY291bGQgdXNlIGFycmF5cywgYnV0IHdoeSBub3QKCiAgICB1aW50MzIgcHVibGljIG5ld0lkU2hpcCA9IDE7IC8vIFRoZSBuZXh0IElEIGZvciB0aGUgbmV3IHNoaXAKICAgIHVpbnQzMiBwdWJsaWMgbmV3SWRTaGlwUHJvZHVjdCA9IDE7IC8vIFRoZSBuZXh0IElEIGZvciB0aGUgbmV3IHNoaXAgdHlwZQogICAgdWludDI1NiBwdWJsaWMgbmV3SWRBdWN0aW9uRW50aXR5ID0gMTsgLy8gVGhlIG5leHQgSUQgZm9yIHRoZSBuZXcgYXVjdGlvbiBlbnRpdHkKCiAgICBtYXBwaW5nICh1aW50MzIgPT4gU2hpcEVudGl0eSkgc2hpcHM7IC8vIFRoZSBzdG9yYWdlCiAgICBtYXBwaW5nICh1aW50MzIgPT4gU2hpcFByb2R1Y3QpIHNoaXBQcm9kdWN0czsKICAgIG1hcHBpbmcgKHVpbnQyNTYgPT4gQXVjdGlvbkVudGl0eSkgYXVjdGlvbnM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwoKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHVwZ3JhZGVQcmljZSA9IDUwMDAwMDAwMDAwMDAwMDA7IC8vIFRoZSBmZWUgd2hpY2ggdGhlIFVncmFkZU1hc3RlciBlYXJucyBmb3IgdXBncmFkaW5nIHNoaXBzLiBGZWU6IDAuMDA1IEV0aAoKICAgIGZ1bmN0aW9uIGdldFNoaXBOYW1lICh1aW50MzIgX0lEKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nKXsKICAgICAgICByZXR1cm4gc2hpcFByb2R1Y3RzW19JRF0ubmFtZTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRTaGlwUHJvZHVjdCAodWludDMyIF9JRCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQzMls3XSl7CiAgICAgICAgcmV0dXJuIFtzaGlwUHJvZHVjdHNbX0lEXS5hcm1vciwgc2hpcFByb2R1Y3RzW19JRF0uc3BlZWQsIHNoaXBQcm9kdWN0c1tfSURdLm1pbkRhbWFnZSwgc2hpcFByb2R1Y3RzW19JRF0ubWF4RGFtYWdlLCBzaGlwUHJvZHVjdHNbX0lEXS5hdHRhY2tTcGVlZCwgdWludDMyKHNoaXBQcm9kdWN0c1tfSURdLnJlbGVhc2VUaW1lKSwgdWludDMyKHNoaXBQcm9kdWN0c1tfSURdLmxlYWd1ZSldOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFNoaXBEZXRhaWxzICh1aW50MzIgX0lEKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDMyWzZdKXsKICAgICAgICByZXR1cm4gW3NoaXBzW19JRF0ucHJvZHVjdElELCB1aW50MzIoc2hpcHNbX0lEXS51cGdyYWRlc1swXSksIHVpbnQzMihzaGlwc1tfSURdLnVwZ3JhZGVzWzFdKSwgdWludDMyKHNoaXBzW19JRF0udXBncmFkZXNbMl0pLCB1aW50MzIoc2hpcHNbX0lEXS51cGdyYWRlc1szXSksIHVpbnQzMihzaGlwc1tfSURdLmV4cCldOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFNoaXBPd25lcih1aW50MzIgX0lEKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcyl7CiAgICAgICAgcmV0dXJuIHNoaXBzW19JRF0ub3duZXI7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0U2hpcFNlbGwodWludDMyIF9JRCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpewogICAgICAgIHJldHVybiBzaGlwc1tfSURdLnNlbGxpbmc7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0U2hpcFRvdGFsRWFybmVkKHVpbnQzMiBfSUQpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KXsKICAgICAgICByZXR1cm4gc2hpcHNbX0lEXS5lYXJuZWQ7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0U2hpcEF1Y3Rpb25FbnRpdHkgKHVpbnQzMiBfSUQpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KXsKICAgICAgICByZXR1cm4gc2hpcHNbX0lEXS5hdWN0aW9uRW50aXR5OwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRQcmljZSAodWludDMyIF9JRCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpewogICAgICAgIHJldHVybiBzaGlwUHJvZHVjdHNbX0lEXS5jdXJyZW50UHJpY2U7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UHJvZHVjdEVhcm5pbmcgKHVpbnQzMiBfSUQpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KXsKICAgICAgICByZXR1cm4gc2hpcFByb2R1Y3RzW19JRF0uZWFybmluZzsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRTaGlwRWFybmluZyAodWludDMyIF9JRCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpewogICAgICAgIHJldHVybiBzaGlwUHJvZHVjdHNbc2hpcHNbX0lEXS5wcm9kdWN0SURdLmVhcm5pbmcqKHNoaXBQcm9kdWN0c1tzaGlwc1tfSURdLnByb2R1Y3RJRF0uYW1vdW50T2ZTaGlwcy1zaGlwc1tfSURdLmxhc3RDYXNob3V0SW5kZXgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRQcmljZUF1Y3Rpb24gKHVpbnQzMiBfSUQpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KXsKICAgICAgICByZXF1aXJlIChnZXRTaGlwU2VsbChfSUQpKTsKICAgICAgICBBdWN0aW9uRW50aXR5IG1lbW9yeSBjdXJyZW50QXVjdGlvbiA9IGF1Y3Rpb25zW3NoaXBzW19JRF0uYXVjdGlvbkVudGl0eV07IC8vIFRoZSBhdWN0aW9uIGVudGl0eSBmb3IgdGhpcyBzaGlwLiBKdXN0IHRvIG1ha2UgdGhlIGxpbmUgYmVsb3cgZWFzaWVyIHRvIHJlYWQKICAgICAgICB1aW50MjU2IGN1cnJlbnRQcmljZSA9IGN1cnJlbnRBdWN0aW9uLnN0YXJ0UHJpY2UtKCgoY3VycmVudEF1Y3Rpb24uc3RhcnRQcmljZS1jdXJyZW50QXVjdGlvbi5maW5pc2hQcmljZSkvKGN1cnJlbnRBdWN0aW9uLmR1cmF0aW9uKSkqKG5vdy1jdXJyZW50QXVjdGlvbi5zdGFydFRpbWUpKTsKICAgICAgICBpZiAoY3VycmVudFByaWNlIDwgY3VycmVudEF1Y3Rpb24uZmluaXNoUHJpY2UpeyAvLyBJZiB0aGUgYXVjdGlvbiBkdXJhdGlvbiB0aW1lIGhhcyBiZWVuIGV4cGlyZWQKICAgICAgICAgICAgY3VycmVudFByaWNlID0gY3VycmVudEF1Y3Rpb24uZmluaXNoUHJpY2U7ICAvLyBTZXR0aW5nIHRoZSBjdXJyZW50IHByaWNlIGFzIGZpbmlzaFByaWNlCiAgICAgICAgfQogICAgICAgIHJldHVybiBjdXJyZW50UHJpY2U7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UGxheWVyQmFsYW5jZShhZGRyZXNzIF9wbGF5ZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KXsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX3BsYXllcl07CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Q29udHJhY3RCYWxhbmNlKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpewogICAgICAgIHJldHVybiB0aGlzLmJhbGFuY2U7CiAgICB9CgogICAgZnVuY3Rpb24gaG93TWFueVNoaXBzKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQzMil7CiAgICAgICAgcmV0dXJuIG5ld0lkU2hpcFByb2R1Y3Q7CiAgICB9Cgp9CgovKgogICAgRXRoZXJBcm15LmNvbQogICAgRXRoZXJ0YW5rcy5jb20KICAgIEV0aGVyZXRhbmtzLmNvbQoqLw=='.
	

]
