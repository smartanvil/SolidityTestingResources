Class {
	#name : #SRT9beb657c8ae6c75e1260e231ac1b290620d24272,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9beb657c8ae6c75e1260e231ac1b290620d24272 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKCgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cgp9CgoKCgoKCgoKCgoKCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4KICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CgogICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKCgoKCgoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKCgovKioKICogQHRpdGxlIFN0YW5kYXJkIEVSQzIwIHRva2VuCiAqCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIGJhc2ljIHN0YW5kYXJkIHRva2VuLgogKiBAZGV2IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKiBAZGV2IEJhc2VkIG9uIGNvZGUgYnkgRmlyc3RCbG9vZDogaHR0cHM6Ly9naXRodWIuY29tL0ZpcnN0Ymxvb2Rpby90b2tlbi9ibG9iL21hc3Rlci9zbWFydF9jb250cmFjdC9GaXJzdEJsb29kVG9rZW4uc29sCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBpbnRlcm5hbCBhbGxvd2VkOwoKCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW19mcm9tXSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CgogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICoKICAgKiBCZXdhcmUgdGhhdCBjaGFuZ2luZyBhbiBhbGxvd2FuY2Ugd2l0aCB0aGlzIG1ldGhvZCBicmluZ3MgdGhlIHJpc2sgdGhhdCBzb21lb25lIG1heSB1c2UgYm90aCB0aGUgb2xkCiAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAqIHJhY2UgY29uZGl0aW9uIGlzIHRvIGZpcnN0IHJlZHVjZSB0aGUgc3BlbmRlcidzIGFsbG93YW5jZSB0byAwIGFuZCBzZXQgdGhlIGRlc2lyZWQgdmFsdWUgYWZ0ZXJ3YXJkczoKICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZnlpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCiAgLyoqCiAgICogQGRldiBJbmNyZWFzZSB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqCiAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gaW5jcmVtZW50CiAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9hZGRlZFZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGluY3JlYXNlIHRoZSBhbGxvd2FuY2UgYnkuCiAgICovCiAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXS5hZGQoX2FkZGVkVmFsdWUpOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBEZWNyZWFzZSB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqCiAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gZGVjcmVtZW50CiAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zdWJ0cmFjdGVkVmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gZGVjcmVhc2UgdGhlIGFsbG93YW5jZSBieS4KICAgKi8KICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfSBlbHNlIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKfQoKCgoKCi8qKgogKiBAdGl0bGUgQnVybmFibGUgVG9rZW4KICogQGRldiBUb2tlbiB0aGF0IGNhbiBiZSBpcnJldmVyc2libHkgYnVybmVkIChkZXN0cm95ZWQpLgogKi8KY29udHJhY3QgQnVybmFibGVUb2tlbiBpcyBCYXNpY1Rva2VuIHsKCiAgICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBidXJuZXIsIHVpbnQyNTYgdmFsdWUpOwoKICAgIC8qKgogICAgICogQGRldiBCdXJucyBhIHNwZWNpZmljIGFtb3VudCBvZiB0b2tlbnMuCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgYnVybmVkLgogICAgICovCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKICAgICAgICAvLyBubyBuZWVkIHRvIHJlcXVpcmUgdmFsdWUgPD0gdG90YWxTdXBwbHksIHNpbmNlIHRoYXQgd291bGQgaW1wbHkgdGhlCiAgICAgICAgLy8gc2VuZGVyJ3MgYmFsYW5jZSBpcyBncmVhdGVyIHRoYW4gdGhlIHRvdGFsU3VwcGx5LCB3aGljaCAqc2hvdWxkKiBiZSBhbiBhc3NlcnRpb24gZmFpbHVyZQoKICAgICAgICBhZGRyZXNzIGJ1cm5lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgYmFsYW5jZXNbYnVybmVyXSA9IGJhbGFuY2VzW2J1cm5lcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5zdWIoX3ZhbHVlKTsKICAgICAgICBCdXJuKGJ1cm5lciwgX3ZhbHVlKTsKICAgIH0KfQoKCgoKCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCgovKioKICogVGhlIFRyYW5zYm91bmRhcnkgQ3JlZGl0IFJhdGluZyB0b2tlbiAoVENSIC0gVENSVG9rZW4pIGhhcyBhIGZpeGVkIHN1cHBseSBhbmQgcmVzdHJpY3RzIHRoZSBhYmlsaXR5CiAqIHRvIHRyYW5zZmVyIHRva2VucyB1bnRpbCB0aGUgb3duZXIgaGFzIGNhbGxlZCB0aGUgZW5hYmxlVHJhbnNmZXIoKQogKiBmdW5jdGlvbi4KICoKICogVGhlIG93bmVyIGNhbiBhc3NvY2lhdGUgdGhlIHRva2VuIHdpdGggYSB0b2tlbiBzYWxlIGNvbnRyYWN0LiBJbiB0aGF0CiAqIGNhc2UsIHRoZSB0b2tlbiBiYWxhbmNlIGlzIG1vdmVkIHRvIHRoZSB0b2tlbiBzYWxlIGNvbnRyYWN0LCB3aGljaAogKiBpbiB0dXJuIGNhbiB0cmFuc2ZlciBpdHMgdG9rZW5zIHRvIGNvbnRyaWJ1dG9ycyB0byB0aGUgc2FsZS4KICovCmNvbnRyYWN0IFRDUlRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIEJ1cm5hYmxlVG9rZW4sIE93bmFibGUgewoKICAgIC8vIENvbnN0YW50cwogICAgc3RyaW5nICBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJUcmFuc2JvdW5kYXJ5IENyZWRpdCBSYXRpbmciOwogICAgc3RyaW5nICBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIlRDUiI7CiAgICB1aW50OCAgIHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwogICAgc3RyaW5nICBwdWJsaWMgY29uc3RhbnQgd2Vic2l0ZSA9ICJ3d3cudGNyLmxlZ2FsIjsgCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBJTklUSUFMX1NVUFBMWSAgICAgID0gIDI4MDAwMDAwMCAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSk7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBDUk9XRFNBTEVfQUxMT1dBTkNFID0gIDIxODQwMDAwMCAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSk7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBBRE1JTl9BTExPV0FOQ0UgICAgID0gICA2MTYwMDAwMCAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSk7CgogICAgLy8gUHJvcGVydGllcwogICAgdWludDI1NiBwdWJsaWMgY3Jvd2RTYWxlQWxsb3dhbmNlOyAgICAgIC8vIHRoZSBudW1iZXIgb2YgdG9rZW5zIGF2YWlsYWJsZSBmb3IgY3Jvd2RzYWxlcwogICAgdWludDI1NiBwdWJsaWMgYWRtaW5BbGxvd2FuY2U7ICAgICAgICAgIC8vIHRoZSBudW1iZXIgb2YgdG9rZW5zIGF2YWlsYWJsZSBmb3IgdGhlIGFkbWluaXN0cmF0b3IKICAgIGFkZHJlc3MgcHVibGljIGNyb3dkU2FsZUFkZHI7ICAgICAgICAgICAvLyB0aGUgYWRkcmVzcyBvZiBhIGNyb3dkc2FsZSBjdXJyZW50bHkgc2VsbGluZyB0aGlzIHRva2VuCiAgICBhZGRyZXNzIHB1YmxpYyBhZG1pbkFkZHI7ICAgICAgICAgICAgICAgLy8gdGhlIGFkZHJlc3Mgb2YgYSBjcm93ZHNhbGUgY3VycmVudGx5IHNlbGxpbmcgdGhpcyB0b2tlbgogICAgLy9ib29sICAgIHB1YmxpYyB0cmFuc2ZlckVuYWJsZWQgPSBmYWxzZTsgLy8gaW5kaWNhdGVzIGlmIHRyYW5zZmVycmluZyB0b2tlbnMgaXMgZW5hYmxlZCBvciBub3QKICAgIGJvb2wgICAgcHVibGljIHRyYW5zZmVyRW5hYmxlZCA9IHRydWU7ICAvLyBFbmFibGVzIGV2ZXJ5b25lIHRvIHRyYW5zZmVyIHRva2VucyAKCiAgICAvLyBNb2RpZmllcnMKICAgIG1vZGlmaWVyIG9ubHlXaGVuVHJhbnNmZXJFbmFibGVkKCkgewogICAgICAgIGlmICghdHJhbnNmZXJFbmFibGVkKSB7CiAgICAgICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBhZG1pbkFkZHIgfHwgbXNnLnNlbmRlciA9PSBjcm93ZFNhbGVBZGRyKTsKICAgICAgICB9CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBsaXN0ZWQgYWRkcmVzc2VzIGFyZSBub3QgdmFsaWQgcmVjaXBpZW50cyBvZiB0b2tlbnMuCiAgICAgKgogICAgICogMHgwICAgICAgICAgICAtIHRoZSB6ZXJvIGFkZHJlc3MgaXMgbm90IHZhbGlkCiAgICAgKiB0aGlzICAgICAgICAgIC0gdGhlIGNvbnRyYWN0IGl0c2VsZiBzaG91bGQgbm90IHJlY2VpdmUgdG9rZW5zCiAgICAgKiBvd25lciAgICAgICAgIC0gdGhlIG93bmVyIGhhcyBhbGwgdGhlIGluaXRpYWwgdG9rZW5zLCBidXQgY2Fubm90IHJlY2VpdmUgYW55IGJhY2sKICAgICAqIGFkbWluQWRkciAgICAgLSB0aGUgYWRtaW4gaGFzIGFuIGFsbG93YW5jZSBvZiB0b2tlbnMgdG8gdHJhbnNmZXIsIGJ1dCBkb2VzIG5vdCByZWNlaXZlIGFueQogICAgICogY3Jvd2RTYWxlQWRkciAtIHRoZSBjcm93ZHNhbGUgaGFzIGFuIGFsbG93YW5jZSBvZiB0b2tlbnMgdG8gdHJhbnNmZXIsIGJ1dCBkb2VzIG5vdCByZWNlaXZlIGFueQogICAgICovCiAgICBtb2RpZmllciB2YWxpZERlc3RpbmF0aW9uKGFkZHJlc3MgX3RvKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygweDApKTsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKHRoaXMpKTsKICAgICAgICByZXF1aXJlKF90byAhPSBvd25lcik7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcyhhZG1pbkFkZHIpKTsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKGNyb3dkU2FsZUFkZHIpKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3IgLSBpbnN0YW50aWF0ZXMgdG9rZW4gc3VwcGx5IGFuZCBhbGxvY2F0ZXMgYmFsYW5hY2Ugb2YKICAgICAqIHRvIHRoZSBvd25lciAobXNnLnNlbmRlcikuCiAgICAgKi8KICAgIGZ1bmN0aW9uIFRDUlRva2VuKGFkZHJlc3MgX2FkbWluKSBwdWJsaWMgewogICAgICAgIC8vIHRoZSBvd25lciBpcyBhIGN1c3RvZGlhbiBvZiB0b2tlbnMgdGhhdCBjYW4KICAgICAgICAvLyBnaXZlIGFuIGFsbG93YW5jZSBvZiB0b2tlbnMgZm9yIGNyb3dkc2FsZXMKICAgICAgICAvLyBvciB0byB0aGUgYWRtaW4sIGJ1dCBjYW5ub3QgaXRzZWxmIHRyYW5zZmVyCiAgICAgICAgLy8gdG9rZW5zOyBoZW5jZSwgdGhpcyByZXF1aXJlbWVudAogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSBfYWRtaW4pOwoKICAgICAgICB0b3RhbFN1cHBseSA9IElOSVRJQUxfU1VQUExZOwogICAgICAgIGNyb3dkU2FsZUFsbG93YW5jZSA9IENST1dEU0FMRV9BTExPV0FOQ0U7CiAgICAgICAgYWRtaW5BbGxvd2FuY2UgPSBBRE1JTl9BTExPV0FOQ0U7CgogICAgICAgIC8vIG1pbnQgYWxsIHRva2VucwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gdG90YWxTdXBwbHkuc3ViKGFkbWluQWxsb3dhbmNlKTsKICAgICAgICBUcmFuc2ZlcihhZGRyZXNzKDB4MCksIG1zZy5zZW5kZXIsIHRvdGFsU3VwcGx5LnN1YihhZG1pbkFsbG93YW5jZSkpOwoKICAgICAgICBiYWxhbmNlc1tfYWRtaW5dID0gYWRtaW5BbGxvd2FuY2U7CiAgICAgICAgVHJhbnNmZXIoYWRkcmVzcygweDApLCBfYWRtaW4sIGFkbWluQWxsb3dhbmNlKTsKCiAgICAgICAgYWRtaW5BZGRyID0gX2FkbWluOwogICAgICAgIGFwcHJvdmUoYWRtaW5BZGRyLCBhZG1pbkFsbG93YW5jZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBBc3NvY2lhdGVzIHRoaXMgdG9rZW4gd2l0aCBhIGN1cnJlbnQgY3Jvd2RzYWxlLCBnaXZpbmcgdGhlIGNyb3dkc2FsZQogICAgICogYW4gYWxsb3dhbmNlIG9mIHRva2VucyBmcm9tIHRoZSBjcm93ZHNhbGUgc3VwcGx5LiBUaGlzIGdpdmVzIHRoZQogICAgICogY3Jvd2RzYWxlIHRoZSBhYmlsaXR5IHRvIGNhbGwgdHJhbnNmZXJGcm9tIHRvIHRyYW5zZmVyIHRva2VucyB0bwogICAgICogd2hvbWV2ZXIgaGFzIHB1cmNoYXNlZCB0aGVtLgogICAgICoKICAgICAqIE5vdGUgdGhhdCBpZiBfYW1vdW50Rm9yU2FsZSBpcyAwLCB0aGVuIGl0IGlzIGFzc3VtZWQgdGhhdCB0aGUgZnVsbAogICAgICogcmVtYWluaW5nIGNyb3dkc2FsZSBzdXBwbHkgaXMgbWFkZSBhdmFpbGFibGUgdG8gdGhlIGNyb3dkc2FsZS4KICAgICAqCiAgICAgKiBAcGFyYW0gX2Nyb3dkU2FsZUFkZHIgVGhlIGFkZHJlc3Mgb2YgYSBjcm93ZHNhbGUgY29udHJhY3QgdGhhdCB3aWxsIHNlbGwgdGhpcyB0b2tlbgogICAgICogQHBhcmFtIF9hbW91bnRGb3JTYWxlIFRoZSBzdXBwbHkgb2YgdG9rZW5zIHByb3ZpZGVkIHRvIHRoZSBjcm93ZHNhbGUKICAgICAqLwogICAgZnVuY3Rpb24gc2V0Q3Jvd2RzYWxlKGFkZHJlc3MgX2Nyb3dkU2FsZUFkZHIsIHVpbnQyNTYgX2Ftb3VudEZvclNhbGUpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgLy9yZXF1aXJlKCF0cmFuc2ZlckVuYWJsZWQpOwogICAgICAgIHJlcXVpcmUoX2Ftb3VudEZvclNhbGUgPD0gY3Jvd2RTYWxlQWxsb3dhbmNlKTsKCiAgICAgICAgLy8gaWYgMCwgdGhlbiBmdWxsIGF2YWlsYWJsZSBjcm93ZHNhbGUgc3VwcGx5IGlzIGFzc3VtZWQKICAgICAgICB1aW50IGFtb3VudCA9IChfYW1vdW50Rm9yU2FsZSA9PSAwKSA/IGNyb3dkU2FsZUFsbG93YW5jZSA6IF9hbW91bnRGb3JTYWxlOwoKICAgICAgICAvLyBDbGVhciBhbGxvd2FuY2Ugb2Ygb2xkLCBhbmQgc2V0IGFsbG93YW5jZSBvZiBuZXcKICAgICAgICBhcHByb3ZlKGNyb3dkU2FsZUFkZHIsIDApOwogICAgICAgIGFwcHJvdmUoX2Nyb3dkU2FsZUFkZHIsIGFtb3VudCk7CgogICAgICAgIGNyb3dkU2FsZUFkZHIgPSBfY3Jvd2RTYWxlQWRkcjsKICAgIH0KCiAgICAvKioKICAgICAqIEVuYWJsZXMgdGhlIGFiaWxpdHkgb2YgYW55b25lIHRvIHRyYW5zZmVyIHRoZWlyIHRva2Vucy4gVGhpcyBjYW4KICAgICAqIG9ubHkgYmUgY2FsbGVkIGJ5IHRoZSB0b2tlbiBvd25lci4gT25jZSBlbmFibGVkLCBpdCBpcyBub3QKICAgICAqIHBvc3NpYmxlIHRvIGRpc2FibGUgdHJhbnNmZXJzLgogICAgICovCiAgICAvKmZ1bmN0aW9uIGVuYWJsZVRyYW5zZmVyKCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICB0cmFuc2ZlckVuYWJsZWQgPSB0cnVlOwogICAgICAgIGFwcHJvdmUoY3Jvd2RTYWxlQWRkciwgMCk7CiAgICAgICAgYXBwcm92ZShhZG1pbkFkZHIsIDApOwogICAgICAgIGNyb3dkU2FsZUFsbG93YW5jZSA9IDA7CiAgICAgICAgYWRtaW5BbGxvd2FuY2UgPSAwOwogICAgfSovCgogICAgLyoqCiAgICAgKiBPdmVycmlkZXMgRVJDMjAgdHJhbnNmZXIgZnVuY3Rpb24gd2l0aCBtb2RpZmllciB0aGF0IHByZXZlbnRzIHRoZQogICAgICogYWJpbGl0eSB0byB0cmFuc2ZlciB0b2tlbnMgdW50aWwgYWZ0ZXIgdHJhbnNmZXJzIGhhdmUgYmVlbiBlbmFibGVkLgogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyBvbmx5V2hlblRyYW5zZmVyRW5hYmxlZCB2YWxpZERlc3RpbmF0aW9uKF90bykgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBPdmVycmlkZXMgRVJDMjAgdHJhbnNmZXJGcm9tIGZ1bmN0aW9uIHdpdGggbW9kaWZpZXIgdGhhdCBwcmV2ZW50cyB0aGUKICAgICAqIGFiaWxpdHkgdG8gdHJhbnNmZXIgdG9rZW5zIHVudGlsIGFmdGVyIHRyYW5zZmVycyBoYXZlIGJlZW4gZW5hYmxlZC4KICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIG9ubHlXaGVuVHJhbnNmZXJFbmFibGVkIHZhbGlkRGVzdGluYXRpb24oX3RvKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgYm9vbCByZXN1bHQgPSBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgICAgIGlmIChtc2cuc2VuZGVyID09IGNyb3dkU2FsZUFkZHIpCiAgICAgICAgICAgICAgICBjcm93ZFNhbGVBbGxvd2FuY2UgPSBjcm93ZFNhbGVBbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICAgICAgICAgIGlmIChtc2cuc2VuZGVyID09IGFkbWluQWRkcikKICAgICAgICAgICAgICAgIGFkbWluQWxsb3dhbmNlID0gYWRtaW5BbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBPdmVycmlkZXMgdGhlIGJ1cm4gZnVuY3Rpb24gc28gdGhhdCBpdCBjYW5ub3QgYmUgY2FsbGVkIHVudGlsIGFmdGVyCiAgICAgKiB0cmFuc2ZlcnMgaGF2ZSBiZWVuIGVuYWJsZWQuCiAgICAgKgogICAgICogQHBhcmFtIF92YWx1ZSAgICBUaGUgYW1vdW50IG9mIHRva2VucyB0byBidXJuIGluIHdlaS1UQ1IKICAgICAqLwogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgcHVibGljIHsKICAgICAgICByZXF1aXJlKHRyYW5zZmVyRW5hYmxlZCB8fCBtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBzdXBlci5idXJuKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgYWRkcmVzcygweDApLCBfdmFsdWUpOwogICAgfQp9'.
	

]
