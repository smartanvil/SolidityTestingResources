Class {
	#name : #SRTfb1e5f5e984c28ad7e228cdaa1f8a0919bb6a09b,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTfb1e5f5e984c28ad7e228cdaa1f8a0919bb6a09b >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CgogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cgp9CgovKioKICogQHRpdGxlIFN0YW5kYXJkIEVSQzIwIHRva2VuCiAqCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIGJhc2ljIHN0YW5kYXJkIHRva2VuLgogKiBAZGV2IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKiBAZGV2IEJhc2VkIG9uIGNvZGUgYnkgRmlyc3RCbG9vZDogaHR0cHM6Ly9naXRodWIuY29tL0ZpcnN0Ymxvb2Rpby90b2tlbi9ibG9iL21hc3Rlci9zbWFydF9jb250cmFjdC9GaXJzdEJsb29kVG9rZW4uc29sCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwQmFzaWMgewoKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBpbnRlcm5hbCBhbGxvd2VkOwogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CgogICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1tfZnJvbV0pOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0pOwoKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQXBwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqCiAgICogQmV3YXJlIHRoYXQgY2hhbmdpbmcgYW4gYWxsb3dhbmNlIHdpdGggdGhpcyBtZXRob2QgYnJpbmdzIHRoZSByaXNrIHRoYXQgc29tZW9uZSBtYXkgdXNlIGJvdGggdGhlIG9sZAogICAqIGFuZCB0aGUgbmV3IGFsbG93YW5jZSBieSB1bmZvcnR1bmF0ZSB0cmFuc2FjdGlvbiBvcmRlcmluZy4gT25lIHBvc3NpYmxlIHNvbHV0aW9uIHRvIG1pdGlnYXRlIHRoaXMKICAgKiByYWNlIGNvbmRpdGlvbiBpcyB0byBmaXJzdCByZWR1Y2UgdGhlIHNwZW5kZXIncyBhbGxvd2FuY2UgdG8gMCBhbmQgc2V0IHRoZSBkZXNpcmVkIHZhbHVlIGFmdGVyd2FyZHM6CiAgICogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgQnVybmFibGUgVG9rZW4KICogQGRldiBUb2tlbiB0aGF0IGNhbiBiZSBpcnJldmVyc2libHkgYnVybmVkIChkZXN0cm95ZWQpLgogKi8KY29udHJhY3QgQnVybmFibGVUb2tlbiBpcyBTdGFuZGFyZFRva2VuIHsKCiAgICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBidXJuZXIsIHVpbnQyNTYgdmFsdWUpOwoKICAgIC8qKgogICAgICogQGRldiBCdXJucyBhIHNwZWNpZmljIGFtb3VudCBvZiB0b2tlbnMuCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgYnVybmVkLgogICAgICovCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwogICAgICAgIC8vIG5vIG5lZWQgdG8gcmVxdWlyZSB2YWx1ZSA8PSB0b3RhbFN1cHBseSwgc2luY2UgdGhhdCB3b3VsZCBpbXBseSB0aGUKICAgICAgICAvLyBzZW5kZXIncyBiYWxhbmNlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdG90YWxTdXBwbHksIHdoaWNoICpzaG91bGQqIGJlIGFuIGFzc2VydGlvbiBmYWlsdXJlCgogICAgICAgIGFkZHJlc3MgYnVybmVyID0gbXNnLnNlbmRlcjsKICAgICAgICBiYWxhbmNlc1tidXJuZXJdID0gYmFsYW5jZXNbYnVybmVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YihfdmFsdWUpOwogICAgICAgIEJ1cm4oYnVybmVyLCBfdmFsdWUpOwogICAgfQp9CgoKLyoqCiAqIEB0aXRsZSBNaW50YWJsZSB0b2tlbgogKiBAZGV2IFNpbXBsZSBFUkMyMCBUb2tlbiBleGFtcGxlLCB3aXRoIG1pbnRhYmxlIHRva2VuIGNyZWF0aW9uCiAqIEBkZXYgSXNzdWU6ICogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9pc3N1ZXMvMTIwCiAqIEJhc2VkIG9uIGNvZGUgYnkgVG9rZW5NYXJrZXROZXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9Ub2tlbk1hcmtldE5ldC9pY28vYmxvYi9tYXN0ZXIvY29udHJhY3RzL01pbnRhYmxlVG9rZW4uc29sCiAqLwoKY29udHJhY3QgTWludGFibGVUb2tlbiBpcyBCdXJuYWJsZVRva2VuLCBPd25hYmxlIHsKICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwogIGV2ZW50IE1pbnRGaW5pc2hlZCgpOwoKICBib29sIHB1YmxpYyBtaW50aW5nRmluaXNoZWQgPSBmYWxzZTsKCgogIG1vZGlmaWVyIGNhbk1pbnQoKSB7CiAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gbWludCB0b2tlbnMKICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRoYXQgd2lsbCByZWNlaXZlIHRoZSBtaW50ZWQgdG9rZW5zLgogICAqIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIG1pbnQuCiAgICogQHJldHVybiBBIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgKi8KICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciBjYW5NaW50IHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgIE1pbnQoX3RvLCBfYW1vdW50KTsKICAgIFRyYW5zZmVyKDB4MCwgX3RvLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBzdG9wIG1pbnRpbmcgbmV3IHRva2Vucy4KICAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgKi8KICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBtaW50aW5nRmluaXNoZWQgPSB0cnVlOwogICAgTWludEZpbmlzaGVkKCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCgovKioKICogQHRpdGxlIFBhdXNhYmxlCiAqIEBkZXYgQmFzZSBjb250cmFjdCB3aGljaCBhbGxvd3MgY2hpbGRyZW4gdG8gaW1wbGVtZW50IGFuIGVtZXJnZW5jeSBzdG9wIG1lY2hhbmlzbS4KICovCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgewogIGV2ZW50IFBhdXNlKCk7CiAgZXZlbnQgVW5wYXVzZSgpOwoKICBib29sIHB1YmxpYyBwYXVzZWQgPSBmYWxzZTsKCiAgLyoqCiAgICogQGRldiBNb2RpZmllciB0byBtYWtlIGEgZnVuY3Rpb24gY2FsbGFibGUgb25seSB3aGVuIHRoZSBjb250cmFjdCBpcyBub3QgcGF1c2VkLgogICAqLwogIG1vZGlmaWVyIHdoZW5Ob3RQYXVzZWQoKSB7CiAgICByZXF1aXJlKCFwYXVzZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgTW9kaWZpZXIgdG8gbWFrZSBhIGZ1bmN0aW9uIGNhbGxhYmxlIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgaXMgcGF1c2VkLgogICAqLwogIG1vZGlmaWVyIHdoZW5QYXVzZWQoKSB7CiAgICByZXF1aXJlKHBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHBhdXNlLCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gcGF1c2UoKSBvbmx5T3duZXIgd2hlbk5vdFBhdXNlZCBwdWJsaWMgewogICAgcGF1c2VkID0gdHJ1ZTsKICAgIFBhdXNlKCk7CiAgfQoKICAvKioKICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gdW5wYXVzZSwgcmV0dXJucyB0byBub3JtYWwgc3RhdGUKICAgKi8KICBmdW5jdGlvbiB1bnBhdXNlKCkgb25seU93bmVyIHdoZW5QYXVzZWQgcHVibGljIHsKICAgIHBhdXNlZCA9IGZhbHNlOwogICAgVW5wYXVzZSgpOwogIH0KCn0KCmNvbnRyYWN0IFBhdXNhYmxlVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgUGF1c2FibGUgewoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyB3aGVuTm90UGF1c2VkIHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gc3VwZXIuYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKTsKICB9Cgp9CgovKgogKiBAdGl0bGUgR0VTVG9rZW4KICovCmNvbnRyYWN0IEdFU1Rva2VuIGlzIE1pbnRhYmxlVG9rZW4sIFBhdXNhYmxlVG9rZW4gewogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJHYWxheHkgZVNvbHV0aW9ucyI7CiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiR0VTIjsKICB1aW50OCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKfQoKLyoqCiAqIEB0aXRsZSBDcm93ZHNhbGUKICogQGRldiBNb2RpZmllZCBjb250cmFjdCBmb3IgbWFuYWdpbmcgYSB0b2tlbiBjcm93ZHNhbGUuCiAqLwoKY29udHJhY3QgR0VTVG9rZW5Dcm93ZFNhbGUgaXMgT3duYWJsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIC8qIHRydWUgZm9yIGZpbmFsaXNlZCBjcm93ZHNhbGUgKi8KICBib29sIHB1YmxpYyBpc0ZpbmFsaXNlZDsKCiAgLyogVGhlIHRva2VuIG9iamVjdCAqLwogIE1pbnRhYmxlVG9rZW4gcHVibGljIHRva2VuOwoKICAvKiBTdGFydCBhbmQgZW5kIHRpbWVzdGFtcHMgd2hlcmUgaW52ZXN0bWVudHMgYXJlIGFsbG93ZWQgKGJvdGggaW5jbHVzaXZlKSAqLwogIHVpbnQyNTYgcHVibGljIG1haW5TYWxlU3RhcnRUaW1lOwogIHVpbnQyNTYgcHVibGljIG1haW5TYWxlRW5kVGltZTsKCiAgLyogQWRkcmVzcyB3aGVyZSBmdW5kcyBhcmUgdHJhbnNmZXJyZWYgYWZ0ZXIgY29sbGVjdGlvbiAqLwogIGFkZHJlc3MgcHVibGljIHdhbGxldDsKCiAgLyogQWRkcmVzcyB3aGVyZSBjb21wYW55IGZ1bmRzIHdpbGwgYmUgY29sbGVjdGVkICovCiAgYWRkcmVzcyBwdWJsaWMgdG9rZW5XYWxsZXQ7CgogIC8qIEhvdyBtYW55IHRva2VuIHVuaXRzIGEgYnV5ZXIgZ2V0cyBwZXIgZXRoZXIgKi8KICB1aW50MjU2IHB1YmxpYyByYXRlID0gMTAwMDA7CgogIC8qIEFtb3VudCBvZiByYWlzZWQgbW9uZXkgaW4gd2VpICovCiAgLyogUHJlU2FsZSArIFdoaXRlbGlzdCA9ICAxMjczLjc3OTA5OSBFVEgqLwogIHVpbnQyNTYgcHVibGljIHdlaVJhaXNlZCA9IDEyNzM3NzkwOTkwMDAwMDAwMDAwMDAgOwoKICAvKiAyMCwwMDAgLSAxLDI3My43NzkwOTkgPSAxOCw3MjYgaXMgd2hhdCB3aWxsIGJlIHJhaXNlZCovCgogIC8qIE1pbmltdW0gYW1vdW50IG9mIFdlaSBhbGxvd2VkIHBlciB0cmFuc2FjdGlvbiA9IDAuMSBFdGhlcnMgKi8KICB1aW50MjU2IHB1YmxpYyBzYWxlTWluaW11bVdlaSA9IDEwMDAwMDAwMDAwMDAwMDAwMDsgCiAgCiAgLyogSGFyZCBDYXAgYW1vdW50IG9mIFdlaSBhbGxvd2VkIDIwLDAwMCBFVEggKi8KICB1aW50MjU2IHB1YmxpYyBoYXJkQ2FwID0gMjAwMDAwMDAwMDAwMDAwMDAwMDAwMDA7IAogIAogIC8qIEhhcmQgQ2FwIGFtb3VudCBvZnRva2VucyB0byBiZSBzb2xkIDMwMDAwMDAwMCAqLwogIC8qIEFtb3VudCByYWlzZSBpbiBwcmVTYWxlIHJlbW92aW5nIHRoZSBleHRyYSBjb21wYW55IDExJSBhcyB3ZSBhcmUgYWxsb2NhdGluZyBoZXJlICovCiAgLyogMzAwMDAwMDAwIC0gMTIyMzU3MTcgLSAzMzAwMDAwMCAtIDYxNzg5NTIgPSAyNDg1ODUzMzEgKi8KICAvKiBUb2tlbnMgdG8gYmUgc29sZCBpbiB0aGUgSUNPIDI0ODU4NTMzMCAqLwogIHVpbnQyNTYgcHVibGljIHRva2Vuc1RvU2VsbCA9IDI0ODU4NTMzMSAqIDEwICoqIDE4OyAKCiAgLyogQWx3YXlzIGRlZmF1bHQgdG8gMjAgY2FuIGdvIHVwdG8gNTAgYmFzZSBkb24gYW1vdW50IGJlaW5nIHNlbnQgKi8KICAgc3RydWN0IEFtb3VudEJvbnVzIHsKICAgIHVpbnQyNTYgYW1vdW50OwogICAgdWludCBwZXJjZW50OwogIH0KICBBbW91bnRCb251c1tdIHB1YmxpYyBhbW91bnRCb251c2VzOwogIC8qKgogICAqIGV2ZW50IGZvciB0b2tlbiBwdXJjaGFzZSBsb2dnaW5nCiAgICogZXZlbnQgZm9yIGZpbmFsaXppbmcgdGhlIGNyb3dkc2FsZQogICAqLwogIGV2ZW50IFRva2VuUHVyY2hhc2UoYWRkcmVzcyBpbmRleGVkIHB1cmNoYXNlciwgYWRkcmVzcyBpbmRleGVkIGJlbmVmaWNpYXJ5LCB1aW50MjU2IHZhbHVlLCB1aW50MjU2IGFtb3VudCk7CiAgZXZlbnQgRmluYWxpc2VkQ3Jvd2RzYWxlKHVpbnQyNTYgdG90YWxTdXBwbHkpOwoKICBmdW5jdGlvbiBHRVNUb2tlbkNyb3dkU2FsZSh1aW50MjU2IF9tYWluU2FsZVN0YXJ0VGltZSwgdWludDI1NiBfbWFpblNhbGVFbmRUaW1lLCBhZGRyZXNzIF93YWxsZXQsIGFkZHJlc3MgX3Rva2VuV2FsbGV0KSBwdWJsaWMgewoKICAgIC8qIENhbid0IHN0YXJ0IG1haW4gc2FsZSBpbiB0aGUgcGFzdCAqLwogICAgcmVxdWlyZShfbWFpblNhbGVTdGFydFRpbWUgPj0gbm93KTsKICAgIC8qIENhbid0IGNsb3NlIG1haW4gc2FsZSBlYXJsaWVyIHRoYW4gc3RhcnQgdGltZSAqLwogICAgcmVxdWlyZShfbWFpblNhbGVFbmRUaW1lID49IF9tYWluU2FsZVN0YXJ0VGltZSk7CgogICAgLyogQ29uZmlybWluZyB3YWxsZXQgYWRkcmVzc2VzIGFzIHZhbGlkICovCiAgICByZXF1aXJlKF93YWxsZXQgIT0gMHgwKTsKICAgIHJlcXVpcmUoX3Rva2VuV2FsbGV0ICE9IDB4MCk7CgogICAgLyogQ3JlYXRlIEdFUyB0b2tlbiAqLwogICAgdG9rZW4gPSBjcmVhdGVUb2tlbkNvbnRyYWN0KCk7CiAgICAKICAgIGFtb3VudEJvbnVzZXMucHVzaChBbW91bnRCb251cyggICAgNTAwMDAwMDAwMDAwMDAwMDAwMDAsIDIwKSk7CiAgICBhbW91bnRCb251c2VzLnB1c2goQW1vdW50Qm9udXMoICAgMTAwMDAwMDAwMDAwMDAwMDAwMDAwLCAyNSkpOwogICAgYW1vdW50Qm9udXNlcy5wdXNoKEFtb3VudEJvbnVzKCAgIDI1MDAwMDAwMDAwMDAwMDAwMDAwMCwgMzApKTsKICAgIGFtb3VudEJvbnVzZXMucHVzaChBbW91bnRCb251cyggICA1MDAwMDAwMDAwMDAwMDAwMDAwMDAsIDM1KSk7CiAgICBhbW91bnRCb251c2VzLnB1c2goQW1vdW50Qm9udXMoICAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwLCA0MCkpOwogICAgYW1vdW50Qm9udXNlcy5wdXNoKEFtb3VudEJvbnVzKCAgMjUwMDAwMDAwMDAwMDAwMDAwMDAwMCwgNDUpKTsKICAgIGFtb3VudEJvbnVzZXMucHVzaChBbW91bnRCb251cygyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAsIDUwKSk7CgoKICAgIG1haW5TYWxlU3RhcnRUaW1lID0gX21haW5TYWxlU3RhcnRUaW1lOwogICAgbWFpblNhbGVFbmRUaW1lID0gX21haW5TYWxlRW5kVGltZTsKCiAgICB3YWxsZXQgPSBfd2FsbGV0IDsKICAgIHRva2VuV2FsbGV0ID0gX3Rva2VuV2FsbGV0OwoKICAgIGlzRmluYWxpc2VkID0gZmFsc2U7CgogICAgLyogTWludCB0b2tlbnMgZm9yIHByZXZpb3VzIGJhY2tlcnMgW1JlbW92ZWQgdGhlIHByZXZpb3VzIDExJSB0aGUgY29tcGFueSByYWlzZWQgaW4gcHJlc2FsZV0qLwogICAgLyogMTAxOTY0LjMwODM3NTY4MDAwMDAwMDAwMCAqIDEyMCA9IDEyMjM1NzE3IC0+IHJvdW5kaW5nIHRvIGhpZ2hlc3QgaW50ZWdlciAqLwogICAgLyogRml4ZWQgdG9rZW5zIGZvciB0aGUgd2hpdGVsaXN0IG1vbmV5IHJhaXNlZCA9IDYxNzg5NTIgKi8KICAgIC8qIEZpeGVkIHRva2VucyBmb3IgdGhlIG1hbmFnZW1lbnQgYW5kIGJvdW50eSA9IDMzMDAwMDAwICovCiAgICAvKiBUb3RhbCB0byBhbGxvdDogNjE3ODk1MiArIDEyMjM1NzE3ICsgMzMwMDAwMDAgPSA1MTQxNDY2OSAqLwogICAgdG9rZW4ubWludCh0b2tlbldhbGxldCwgNTE0MTQ2NjkgKiAxMCAqKiAxOCk7CiAgfQoKICAvKiBDcmVhdGVzIHRoZSB0b2tlbiB0byBiZSBzb2xkICovCiAgZnVuY3Rpb24gY3JlYXRlVG9rZW5Db250cmFjdCgpIGludGVybmFsIHJldHVybnMgKE1pbnRhYmxlVG9rZW4pIHsKICAgIHJldHVybiBuZXcgR0VTVG9rZW4oKTsKICB9CgogIC8qIEZhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGJ1eSB0b2tlbnMgKi8KICBmdW5jdGlvbiAoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICBidXlUb2tlbnMobXNnLnNlbmRlcik7CiAgfQoKICAvKiBMb3cgbGV2ZWwgdG9rZW4gcHVyY2hhc2UgZnVuY3Rpb24gKi8KICBmdW5jdGlvbiBidXlUb2tlbnMoYWRkcmVzcyBiZW5lZmljaWFyeSkgcHVibGljIHBheWFibGUgewogICAgcmVxdWlyZSghaXNGaW5hbGlzZWQpOwogICAgcmVxdWlyZShiZW5lZmljaWFyeSAhPSAweDApOwogICAgcmVxdWlyZShtc2cudmFsdWUgIT0gMCk7CiAgICByZXF1aXJlKG5vdyA+PSBtYWluU2FsZVN0YXJ0VGltZSAmJiBub3cgPD0gbWFpblNhbGVFbmRUaW1lKTsKICAgIHVpbnQyNTYgbmV3UmFpc2UgPSB3ZWlSYWlzZWQuYWRkKG1zZy52YWx1ZSk7CiAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBzYWxlTWluaW11bVdlaSAmJiBuZXdSYWlzZSA8PSBoYXJkQ2FwKTsKCiAgICAvKiBBZGQgYm9udXMgdG8gdG9rZW5zIGRlcGVuZHMgb24gdGhlIHZhbHVlICovCiAgICB1aW50MjU2IGJvbnVzZWRUb2tlbnMgPSBhcHBseUJvbnVzKG1zZy52YWx1ZSk7CiAgICAKICAgIC8qIENoZWNrIGlmIHdlIGhhdmUgYXZhaWxhYmxlIHRva2VucyB0byBzZWxsICovCiAgICByZXF1aXJlKGJvbnVzZWRUb2tlbnMgPCB0b2tlbnNUb1NlbGwpOwoKICAgIC8qIFVwZGF0ZSBzdGF0ZSBvbiB0aGUgYmxvY2tjaGFpbiAqLwogICAgd2VpUmFpc2VkID0gbmV3UmFpc2U7CiAgICB0b2tlbnNUb1NlbGwgPSB0b2tlbnNUb1NlbGwuc3ViKGJvbnVzZWRUb2tlbnMpOwogICAgdG9rZW4ubWludChiZW5lZmljaWFyeSwgYm9udXNlZFRva2Vucyk7CiAgICBUb2tlblB1cmNoYXNlKG1zZy5zZW5kZXIsIGJlbmVmaWNpYXJ5LCBtc2cudmFsdWUsIGJvbnVzZWRUb2tlbnMpOwogIH0KCiAgLyogRmluaXNoIENyb3dkc2FsZSwKICAgKi8KICBmdW5jdGlvbiBmaW5hbGlzZUNyb3dkc2FsZSgpIGV4dGVybmFsIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKCFpc0ZpbmFsaXNlZCk7CiAgICB0b2tlbi5maW5pc2hNaW50aW5nKCk7CiAgICBmb3J3YXJkRnVuZHMoKTsKICAgIEZpbmFsaXNlZENyb3dkc2FsZSh0b2tlbi50b3RhbFN1cHBseSgpKTsKICAgIGlzRmluYWxpc2VkID0gdHJ1ZTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyogUGF1c2UgdGhlIHRva2VuIGNvbnRyYWN0ICovCiAgZnVuY3Rpb24gcGF1c2VUb2tlbigpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICByZXF1aXJlKCFpc0ZpbmFsaXNlZCk7CiAgICBHRVNUb2tlbih0b2tlbikucGF1c2UoKTsKICB9CgogIC8qIFVucGF1c2UgdGhlIHRva2VuIGNvbnRyYWN0ICovCiAgZnVuY3Rpb24gdW5wYXVzZVRva2VuKCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgIEdFU1Rva2VuKHRva2VuKS51bnBhdXNlKCk7CiAgfQoKICAvKiBUcmFuc2ZlciB0b2tlbidzIGNvbnRyYWN0IG93bmVyc2hpcCB0byBhIG5ldyBvd25lciAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyVG9rZW5Pd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgIEdFU1Rva2VuKHRva2VuKS50cmFuc2Zlck93bmVyc2hpcChuZXdPd25lcik7CiAgfQoKICAvKiBAcmV0dXJuIHRydWUgaWYgbWFpbiBzYWxlIGV2ZW50IGhhcyBlbmRlZCAqLwogIGZ1bmN0aW9uIG1haW5TYWxlSGFzRW5kZWQoKSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gbm93ID4gbWFpblNhbGVFbmRUaW1lOwogIH0KCiAgLyogU2VuZCBldGhlciB0byB0aGUgZnVuZCBjb2xsZWN0aW9uIHdhbGxldCAqLwogIGZ1bmN0aW9uIGZvcndhcmRGdW5kcygpIGludGVybmFsIHsKICAgIHdhbGxldC50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogIH0KCiAgLyogU2V0IG5ldyBkYXRlcyBmb3IgbWFpbi1zYWxlIChlbWVyZ2VuY3kgY2FzZSkgKi8KICBmdW5jdGlvbiBzZXRNYWluU2FsZURhdGVzKHVpbnQyNTYgX21haW5TYWxlU3RhcnRUaW1lLCB1aW50MjU2IF9tYWluU2FsZUVuZFRpbWUpIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZSghaXNGaW5hbGlzZWQpOwogICAgcmVxdWlyZShfbWFpblNhbGVTdGFydFRpbWUgPCBfbWFpblNhbGVFbmRUaW1lKTsKICAgIG1haW5TYWxlU3RhcnRUaW1lID0gX21haW5TYWxlU3RhcnRUaW1lOwogICAgbWFpblNhbGVFbmRUaW1lID0gX21haW5TYWxlRW5kVGltZTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyogRnVuY3Rpb24gdG8gY2FsY3VsYXRlIGJvbnVzIHRva2VucyBiYXNlZCBvbiB0aGUgYW1vdW50IHNlbnQgYnkgdGhlIGNvbnRyaWJ1dG9yICovCiAgZnVuY3Rpb24gYXBwbHlCb251cyh1aW50MjU2IHdlaUFtb3VudCkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBib251c2VkVG9rZW5zKSB7CiAgICAvKiBCb251cyB0b2tlbnMgdG8gYmUgYWRkZWQgKi8KICAgIHVpbnQyNTYgdG9rZW5zVG9BZGQgPSAwOwoKICAgIC8qIENhbGN1bHRpbmcgdGhlIGFtb250IG9mIHRva2VucyB0byBiZSBhbGxvY2F0ZWQgYmFzZWQgb24gcmF0ZSBhbmQgdGhlIG1vbmV5IHRyYW5zZmVycmVkICovCiAgICB1aW50MjU2IHRva2VucyA9IHdlaUFtb3VudC5tdWwocmF0ZSk7CiAgICAKICAgIGZvcih1aW50OCBpID0gMDsgaSA8IGFtb3VudEJvbnVzZXMubGVuZ3RoOyBpKyspewogICAgICAgIGlmKHdlaUFtb3VudCA8IGFtb3VudEJvbnVzZXNbaV0uYW1vdW50KXsKICAgICAgICAgICB0b2tlbnNUb0FkZCA9IHRva2Vucy5tdWwoYW1vdW50Qm9udXNlc1tpXS5wZXJjZW50KS5kaXYoMTAwKTsKICAgICAgICAgICAgcmV0dXJuIHRva2Vucy5hZGQodG9rZW5zVG9BZGQpOwogICAgICAgIH0KICAgIH0KICAgIC8qIERlZmF1bHQgY2FsbGJhY2sgYXQgMjAlLCBqdXN0IGFzIGEgcHJlY2F1dGlvbiAqLwogICAgcmV0dXJuIHRva2Vucy5tdWwoMTIwKS5kaXYoMTAwKTsKICB9CgogIC8qICAKICAqIEZ1bmN0aW9uIHRvIGV4dHJhY3QgZnVuZHMgYXMgcmVxdWlyZWQgYmVmb3JlIGZpbmFsaXppbmcKICAqLwogIGZ1bmN0aW9uIGZldGNoRnVuZHMoKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHdhbGxldC50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogIH0KCn0='.
	

]
