Class {
	#name : #SRT903a61bc9ff163138959f9f7b00f4b00ca0f3210,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT903a61bc9ff163138959f9f7b00f4b00ca0f3210 >> base64 [
	^ 'LyogU2ltcGxlIHRva2VuIC0gc2ltcGxlIHRva2VuIGZvciBQcmVJQ08gYW5kIElDTwogICBDb3B5cmlnaHQgKEMpIDIwMTcgIFNlcmdleSBTaGVya3Vub3YgPDxzcGFuIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iOWNmMGY5ZjVmMmYwZmRlYmU5ZjJkY2YwZjlmNWYyZjBmZGViZTlmMmIyZjNlZWZiIj5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9zcGFuPj4KICAgQ29weXJpZ2h0IChDKSAyMDE3ICBPT00uQUcgPDxzcGFuIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iNWMzNTMyM2EzMzFjMzMzMzMxNzIzZDNiIj5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9zcGFuPj4KCiAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHNpbXBsZSB0b2tlbi4KCiAgIFRva2VuIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KCiAgIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAogICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlCiAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgogICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICBhbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwczovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uICAqLwoKcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2IGMpIHsKICAgICAgICBjID0gYSArIGI7CgogICAgICAgIGFzc2VydChjID49IGEpOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2IGMpIHsKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKCiAgICAgICAgYyA9IGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2IGMpIHsKICAgICAgICBjID0gYSAqIGI7CgogICAgICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NiBjKSB7CiAgICAgICAgYyA9IGEgLyBiOwogICAgfQoKICAgIGZ1bmN0aW9uIG1vZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2IGMpIHsKICAgICAgICBjID0gYSAlIGI7CiAgICB9CgogICAgZnVuY3Rpb24gbWluKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYgYykgewogICAgICAgIGMgPSBhOwoKICAgICAgICBpZihhID4gYikKICAgICAgICAgICBjID0gYjsKICAgIH0KfQoKY29udHJhY3QgQUJYVG9rZW4gewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgYWRkcmVzcyBwdWJsaWMgbWludGVyOwoKICAgIHN0cmluZyBwdWJsaWMgbmFtZTsKCiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsKCiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7CgogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2Y7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSkgcHVibGljIGFsbG93YW5jZTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgb2xkVG9rZW5zSG9sZGVyLAogICAgICAgICAgICAgICAgICAgYWRkcmVzcyBpbmRleGVkIG5ld1Rva2Vuc0hvbGRlciwgdWludDI1NiB0b2tlbnNOdW1iZXIpOwoKICAgIC8vQW4gQXR0YWNrIFZlY3RvciBvbiBBcHByb3ZlL1RyYW5zZmVyRnJvbSBNZXRob2RzOgogICAgLy9odHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIHRva2Vuc1NwZW5kZXIsCiAgICAgICAgICAgICAgICAgICBhZGRyZXNzIGluZGV4ZWQgb2xkVG9rZW5zSG9sZGVyLAogICAgICAgICAgICAgICAgICAgYWRkcmVzcyBpbmRleGVkIG5ld1Rva2Vuc0hvbGRlciwgdWludDI1NiB0b2tlbnNOdW1iZXIpOwoKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCB0b2tlbnNIb2xkZXIsIGFkZHJlc3MgaW5kZXhlZCB0b2tlbnNTcGVuZGVyLAogICAgICAgICAgICAgICAgICAgdWludDI1NiBuZXdUb2tlbnNOdW1iZXIpOwoKICAgIC8vQW4gQXR0YWNrIFZlY3RvciBvbiBBcHByb3ZlL1RyYW5zZmVyRnJvbSBNZXRob2RzOgogICAgLy9odHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIHRva2Vuc0hvbGRlciwgYWRkcmVzcyBpbmRleGVkIHRva2Vuc1NwZW5kZXIsCiAgICAgICAgICAgICAgICAgICB1aW50MjU2IG9sZFRva2Vuc051bWJlciwgdWludDI1NiBuZXdUb2tlbnNOdW1iZXIpOwoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShvd25lciA9PSBtc2cuc2VuZGVyKTsKCiAgICAgICAgXzsKICAgIH0KCiAgICAvL0VSQzIwIFNob3J0IEFkZHJlc3MgQXR0YWNrOgogICAgLy9odHRwczovL3Zlc3NlbmVzLmNvbS90aGUtZXJjMjAtc2hvcnQtYWRkcmVzcy1hdHRhY2stZXhwbGFpbmVkCiAgICAvL2h0dHBzOi8vYmxvZy5nb2xlbXByb2plY3QubmV0L2hvdy10by1maW5kLTEwbS1ieS1qdXN0LXJlYWRpbmctYmxvY2tjaGFpbi02YWU5ZDM5ZmNkOTUKICAgIC8vaHR0cHM6Ly9lcmljcmFmYWxvZmYuY29tL2FuYWx5emluZy10aGUtZXJjMjAtc2hvcnQtYWRkcmVzcy1hdHRhY2sKICAgIG1vZGlmaWVyIGNoZWNrUGF5bG9hZFNpemUodWludDI1NiBzaXplKSB7CiAgICAgICAgcmVxdWlyZShtc2cuZGF0YS5sZW5ndGggPT0gc2l6ZSArIDQpOwoKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlOb3ROdWxsVG9rZW5Ib2xkZXIoYWRkcmVzcyB0b2tlbkhvbGRlcikgewogICAgICAgIHJlcXVpcmUodG9rZW5Ib2xkZXIgIT0gYWRkcmVzcygwKSk7CgogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gQUJYVG9rZW4oc3RyaW5nIF9uYW1lLCBzdHJpbmcgX3N5bWJvbCwgdWludDggX2RlY2ltYWxzLAogICAgICAgICAgICAgICAgICAgICAgdWludDI1NiBfdG90YWxTdXBwbHkpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIG5hbWUgPSBfbmFtZTsKICAgICAgICBzeW1ib2wgPSBfc3ltYm9sOwogICAgICAgIGRlY2ltYWxzID0gX2RlY2ltYWxzOwogICAgICAgIHRvdGFsU3VwcGx5ID0gX3RvdGFsU3VwcGx5Lm11bCgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSk7CgogICAgICAgIHJlcXVpcmUoZGVjaW1hbHMgPD0gNzcpOwoKICAgICAgICBiYWxhbmNlT2ZbdGhpc10gPSB0b3RhbFN1cHBseTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRPd25lcihhZGRyZXNzIF9vd25lcikgcHVibGljIG9ubHlPd25lciByZXR1cm5zKGJvb2wpIHsKICAgICAgICBvd25lciA9IF9vd25lcjsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0TWludGVyKGFkZHJlc3MgX21pbnRlcikgcHVibGljIG9ubHlPd25lciByZXR1cm5zKGJvb2wpIHsKICAgICAgICBzYWZlQXBwcm92ZSh0aGlzLCBtaW50ZXIsIDApOwoKICAgICAgICBtaW50ZXIgPSBfbWludGVyOwoKICAgICAgICBzYWZlQXBwcm92ZSh0aGlzLCBtaW50ZXIsIGJhbGFuY2VPZlt0aGlzXSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vRVJDMjAgU2hvcnQgQWRkcmVzcyBBdHRhY2s6CiAgICAvL2h0dHBzOi8vdmVzc2VuZXMuY29tL3RoZS1lcmMyMC1zaG9ydC1hZGRyZXNzLWF0dGFjay1leHBsYWluZWQKICAgIC8vaHR0cHM6Ly9ibG9nLmdvbGVtcHJvamVjdC5uZXQvaG93LXRvLWZpbmQtMTBtLWJ5LWp1c3QtcmVhZGluZy1ibG9ja2NoYWluLTZhZTlkMzlmY2Q5NQogICAgLy9odHRwczovL2VyaWNyYWZhbG9mZi5jb20vYW5hbHl6aW5nLXRoZS1lcmMyMC1zaG9ydC1hZGRyZXNzLWF0dGFjawogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBuZXdUb2tlbnNIb2xkZXIsIHVpbnQyNTYgdG9rZW5zTnVtYmVyKSBwdWJsaWMKICAgICAgICAgICAgICAgICAgICAgY2hlY2tQYXlsb2FkU2l6ZSgyICogMzIpIHJldHVybnMoYm9vbCkgewogICAgICAgIHRyYW5zZmVyKG1zZy5zZW5kZXIsIG5ld1Rva2Vuc0hvbGRlciwgdG9rZW5zTnVtYmVyKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy9BbiBBdHRhY2sgVmVjdG9yIG9uIEFwcHJvdmUvVHJhbnNmZXJGcm9tIE1ldGhvZHM6CiAgICAvL2h0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICAvLwogICAgLy9FUkMyMCBTaG9ydCBBZGRyZXNzIEF0dGFjazoKICAgIC8vaHR0cHM6Ly92ZXNzZW5lcy5jb20vdGhlLWVyYzIwLXNob3J0LWFkZHJlc3MtYXR0YWNrLWV4cGxhaW5lZAogICAgLy9odHRwczovL2Jsb2cuZ29sZW1wcm9qZWN0Lm5ldC9ob3ctdG8tZmluZC0xMG0tYnktanVzdC1yZWFkaW5nLWJsb2NrY2hhaW4tNmFlOWQzOWZjZDk1CiAgICAvL2h0dHBzOi8vZXJpY3JhZmFsb2ZmLmNvbS9hbmFseXppbmctdGhlLWVyYzIwLXNob3J0LWFkZHJlc3MtYXR0YWNrCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBvbGRUb2tlbnNIb2xkZXIsIGFkZHJlc3MgbmV3VG9rZW5zSG9sZGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQyNTYgdG9rZW5zTnVtYmVyKSBwdWJsaWMgY2hlY2tQYXlsb2FkU2l6ZSgzICogMzIpCiAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5zKGJvb2wpIHsKICAgICAgICBhbGxvd2FuY2Vbb2xkVG9rZW5zSG9sZGVyXVttc2cuc2VuZGVyXSA9CiAgICAgICAgICAgIGFsbG93YW5jZVtvbGRUb2tlbnNIb2xkZXJdW21zZy5zZW5kZXJdLnN1Yih0b2tlbnNOdW1iZXIpOwoKICAgICAgICB0cmFuc2ZlcihvbGRUb2tlbnNIb2xkZXIsIG5ld1Rva2Vuc0hvbGRlciwgdG9rZW5zTnVtYmVyKTsKCiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgb2xkVG9rZW5zSG9sZGVyLCBuZXdUb2tlbnNIb2xkZXIsIHRva2Vuc051bWJlcik7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vRVJDMjAgU2hvcnQgQWRkcmVzcyBBdHRhY2s6CiAgICAvL2h0dHBzOi8vdmVzc2VuZXMuY29tL3RoZS1lcmMyMC1zaG9ydC1hZGRyZXNzLWF0dGFjay1leHBsYWluZWQKICAgIC8vaHR0cHM6Ly9ibG9nLmdvbGVtcHJvamVjdC5uZXQvaG93LXRvLWZpbmQtMTBtLWJ5LWp1c3QtcmVhZGluZy1ibG9ja2NoYWluLTZhZTlkMzlmY2Q5NQogICAgLy9odHRwczovL2VyaWNyYWZhbG9mZi5jb20vYW5hbHl6aW5nLXRoZS1lcmMyMC1zaG9ydC1hZGRyZXNzLWF0dGFjawogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHRva2Vuc1NwZW5kZXIsIHVpbnQyNTYgbmV3VG9rZW5zTnVtYmVyKSBwdWJsaWMKICAgICAgICAgICAgICAgICAgICBjaGVja1BheWxvYWRTaXplKDIgKiAzMikgcmV0dXJucyhib29sKSB7CiAgICAgICAgc2FmZUFwcHJvdmUobXNnLnNlbmRlciwgdG9rZW5zU3BlbmRlciwgbmV3VG9rZW5zTnVtYmVyKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy9BbiBBdHRhY2sgVmVjdG9yIG9uIEFwcHJvdmUvVHJhbnNmZXJGcm9tIE1ldGhvZHM6CiAgICAvL2h0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICAvLwogICAgLy9FUkMyMCBTaG9ydCBBZGRyZXNzIEF0dGFjazoKICAgIC8vaHR0cHM6Ly92ZXNzZW5lcy5jb20vdGhlLWVyYzIwLXNob3J0LWFkZHJlc3MtYXR0YWNrLWV4cGxhaW5lZAogICAgLy9odHRwczovL2Jsb2cuZ29sZW1wcm9qZWN0Lm5ldC9ob3ctdG8tZmluZC0xMG0tYnktanVzdC1yZWFkaW5nLWJsb2NrY2hhaW4tNmFlOWQzOWZjZDk1CiAgICAvL2h0dHBzOi8vZXJpY3JhZmFsb2ZmLmNvbS9hbmFseXppbmctdGhlLWVyYzIwLXNob3J0LWFkZHJlc3MtYXR0YWNrCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgdG9rZW5zU3BlbmRlciwgdWludDI1NiBvbGRUb2tlbnNOdW1iZXIsCiAgICAgICAgICAgICAgICAgICAgIHVpbnQyNTYgbmV3VG9rZW5zTnVtYmVyKSBwdWJsaWMgY2hlY2tQYXlsb2FkU2l6ZSgzICogMzIpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJucyhib29sKSB7CiAgICAgICAgcmVxdWlyZShhbGxvd2FuY2VbbXNnLnNlbmRlcl1bdG9rZW5zU3BlbmRlcl0gPT0gb2xkVG9rZW5zTnVtYmVyKTsKCiAgICAgICAgdW5zYWZlQXBwcm92ZShtc2cuc2VuZGVyLCB0b2tlbnNTcGVuZGVyLCBuZXdUb2tlbnNOdW1iZXIpOwoKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCB0b2tlbnNTcGVuZGVyLCBvbGRUb2tlbnNOdW1iZXIsIG5ld1Rva2Vuc051bWJlcik7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3Mgb2xkVG9rZW5zSG9sZGVyLCBhZGRyZXNzIG5ld1Rva2Vuc0hvbGRlciwKICAgICAgICAgICAgICAgICAgICAgIHVpbnQyNTYgdG9rZW5zTnVtYmVyKSBwcml2YXRlCiAgICAgICAgICAgICAgICAgICAgICBvbmx5Tm90TnVsbFRva2VuSG9sZGVyKG9sZFRva2Vuc0hvbGRlcikgewogICAgICAgIGJhbGFuY2VPZltvbGRUb2tlbnNIb2xkZXJdID0KICAgICAgICAgICAgYmFsYW5jZU9mW29sZFRva2Vuc0hvbGRlcl0uc3ViKHRva2Vuc051bWJlcik7CgogICAgICAgIGJhbGFuY2VPZltuZXdUb2tlbnNIb2xkZXJdID0KICAgICAgICAgICAgYmFsYW5jZU9mW25ld1Rva2Vuc0hvbGRlcl0uYWRkKHRva2Vuc051bWJlcik7CgogICAgICAgIFRyYW5zZmVyKG9sZFRva2Vuc0hvbGRlciwgbmV3VG9rZW5zSG9sZGVyLCB0b2tlbnNOdW1iZXIpOwogICAgfQoKICAgIC8vQW4gQXR0YWNrIFZlY3RvciBvbiBBcHByb3ZlL1RyYW5zZmVyRnJvbSBNZXRob2RzOgogICAgLy9odHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgZnVuY3Rpb24gdW5zYWZlQXBwcm92ZShhZGRyZXNzIHRva2Vuc0hvbGRlciwgYWRkcmVzcyB0b2tlbnNTcGVuZGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MjU2IG5ld1Rva2Vuc051bWJlcikgcHJpdmF0ZQogICAgICAgICAgICAgICAgICAgICAgICAgIG9ubHlOb3ROdWxsVG9rZW5Ib2xkZXIodG9rZW5zSG9sZGVyKSB7CiAgICAgICAgYWxsb3dhbmNlW3Rva2Vuc0hvbGRlcl1bdG9rZW5zU3BlbmRlcl0gPSBuZXdUb2tlbnNOdW1iZXI7CgogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIHRva2Vuc1NwZW5kZXIsIG5ld1Rva2Vuc051bWJlcik7CiAgICB9CiAgICAKICAgIC8vQW4gQXR0YWNrIFZlY3RvciBvbiBBcHByb3ZlL1RyYW5zZmVyRnJvbSBNZXRob2RzOgogICAgLy9odHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgZnVuY3Rpb24gc2FmZUFwcHJvdmUoYWRkcmVzcyB0b2tlbnNIb2xkZXIsIGFkZHJlc3MgdG9rZW5zU3BlbmRlciwKICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQyNTYgbmV3VG9rZW5zTnVtYmVyKSBwcml2YXRlIHsKICAgICAgICByZXF1aXJlKGFsbG93YW5jZVt0b2tlbnNIb2xkZXJdW3Rva2Vuc1NwZW5kZXJdID09IDAgfHwKICAgICAgICAgICAgICAgIG5ld1Rva2Vuc051bWJlciA9PSAwKTsKCiAgICAgICAgdW5zYWZlQXBwcm92ZSh0b2tlbnNIb2xkZXIsIHRva2Vuc1NwZW5kZXIsIG5ld1Rva2Vuc051bWJlcik7CiAgICB9Cn0KCmNvbnRyYWN0IE1pbnRlciB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBlbnVtIE1pbnRlclN0YXRlIHsKICAgICAgICB0b2tlblNhbGVXYWl0LAogICAgICAgIHRva2VuU2FsZVN0YXJ0ZWQsCiAgICAgICAgT3ZlcgogICAgfQoKICAgIHN0cnVjdCBUb2tlbnNhbGUgewogICAgICAgIHVpbnQyNTYgc3RhcnRUaW1lOwogICAgICAgIHVpbnQyNTYgZW5kVGltZTsKICAgICAgICB1aW50MjU2IHRva2Vuc01pbmltdW1OdW1iZXJGb3JCdXk7CiAgICAgICAgdWludDI1NiB0b2tlbnNDb3N0OwogICAgfQoKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIGFkZHJlc3MgcHVibGljIG1hbmFnZXI7CgogICAgYm9vbCBwdWJsaWMgcGF1c2VkID0gZmFsc2U7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyB3aGl0ZUxpc3Q7CgogICAgQUJYVG9rZW4gcHVibGljIHRva2VuOwoKICAgIFRva2Vuc2FsZSBwdWJsaWMgdG9rZW5TYWxlOwoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShvd25lciA9PSBtc2cuc2VuZGVyKTsKCiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5Tm90UGF1c2VkIHsKICAgICAgICByZXF1aXJlKCFwYXVzZWQpOwoKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlEdXJpbmdUb2tlbnNhbGUgewogICAgICAgIHJlcXVpcmUobWludGVyU3RhdGUoKSA9PSBNaW50ZXJTdGF0ZS50b2tlblNhbGVTdGFydGVkKTsKCiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5QWZ0ZXJUb2tlbnNhbGVPdmVyIHsKICAgICAgICByZXF1aXJlKG1pbnRlclN0YXRlKCkgPT0gTWludGVyU3RhdGUuT3Zlcik7CgogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seVdoaXRlTGlzdCB7CiAgICAgICAgcmVxdWlyZSh3aGl0ZUxpc3RbbXNnLnNlbmRlcl0pOwoKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIGNoZWNrTGltaXRzVG9CdXlUb2tlbnMgewogICAgICAgIHJlcXVpcmUodG9rZW5TYWxlLnRva2Vuc01pbmltdW1OdW1iZXJGb3JCdXkgPD0KICAgICAgICAgICAgICAgIHRva2Vuc051bWJlckZvckJ1eSgpLmRpdigxMCAqKiB1aW50MjU2KHRva2VuLmRlY2ltYWxzKCkpKSk7CgogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gTWludGVyKGFkZHJlc3MgX21hbmFnZXIsIEFCWFRva2VuIF90b2tlbiwKICAgICAgICAgICAgICAgICAgICB1aW50MjU2IHRva2VuU2FsZVN0YXJ0VGltZSwgdWludDI1NiB0b2tlblNhbGVFbmRUaW1lLAogICAgICAgICAgICAgICAgICAgIHVpbnQyNTYgdG9rZW5TYWxlVG9rZW5zTWluaW11bU51bWJlckZvckJ1eSkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgbWFuYWdlciA9IF9tYW5hZ2VyOwogICAgICAgIHRva2VuID0gX3Rva2VuOwogICAgICAgIHRva2VuU2FsZS5zdGFydFRpbWUgPSB0b2tlblNhbGVTdGFydFRpbWU7CiAgICAgICAgdG9rZW5TYWxlLmVuZFRpbWUgPSB0b2tlblNhbGVFbmRUaW1lOwogICAgICAgIHRva2VuU2FsZS50b2tlbnNNaW5pbXVtTnVtYmVyRm9yQnV5ID0KICAgICAgICAgICAgdG9rZW5TYWxlVG9rZW5zTWluaW11bU51bWJlckZvckJ1eTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRPd25lcihhZGRyZXNzIF9vd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgb3duZXIgPSBfb3duZXI7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0TWFuYWdlcihhZGRyZXNzIF9tYW5hZ2VyKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBtYW5hZ2VyID0gX21hbmFnZXI7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0UGF1c2VkKGJvb2wgX3BhdXNlZCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcGF1c2VkID0gX3BhdXNlZDsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGRXaGl0ZUxpc3QoYWRkcmVzcyB0b2tlbnNIb2xkZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHdoaXRlTGlzdFt0b2tlbnNIb2xkZXJdID0gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiByZW1vdmVXaGl0ZUxpc3QoYWRkcmVzcyB0b2tlbnNIb2xkZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHdoaXRlTGlzdFt0b2tlbnNIb2xkZXJdID0gZmFsc2U7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0VG9rZW5TYWxlU3RhcnRUaW1lKHVpbnQyNTYgdGltZXN0YW1wKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICB0b2tlblNhbGUuc3RhcnRUaW1lID0gdGltZXN0YW1wOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFRva2VuU2FsZUVuZFRpbWUodWludDI1NiB0aW1lc3RhbXApIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHRva2VuU2FsZS5lbmRUaW1lID0gdGltZXN0YW1wOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFRva2VuU2FsZVRva2Vuc01pbmltdW1OdW1iZXJGb3JCdXkodWludDI1NiB0b2tlbnNOdW1iZXIpIHB1YmxpYwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubHlPd25lciB7CiAgICAgICAgdG9rZW5TYWxlLnRva2Vuc01pbmltdW1OdW1iZXJGb3JCdXkgPSB0b2tlbnNOdW1iZXI7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0VG9rZW5TYWxlVG9rZW5zQ29zdCh1aW50MjU2IHRva2Vuc0Nvc3QpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHRva2VuU2FsZS50b2tlbnNDb3N0ID0gdG9rZW5zQ29zdDsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlclJlc3RUb2tlbnNUb093bmVyKCkgcHVibGljIG9ubHlPd25lcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubHlBZnRlclRva2Vuc2FsZU92ZXIgewogICAgICAgIHRva2VuLnRyYW5zZmVyRnJvbSh0b2tlbiwgbXNnLnNlbmRlciwgdG9rZW4uYWxsb3dhbmNlKHRva2VuLCB0aGlzKSk7CiAgICB9CgogICAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgb25seUR1cmluZ1Rva2Vuc2FsZSBvbmx5Tm90UGF1c2VkIG9ubHlXaGl0ZUxpc3QKICAgICAgICAgICAgICAgIGNoZWNrTGltaXRzVG9CdXlUb2tlbnMgewogICAgICAgIHVpbnQyNTYgdG9rZW5zTnVtYmVyID0gdG9rZW5zTnVtYmVyRm9yQnV5KCk7CgogICAgICAgIHVpbnQyNTYgYXZpYWJsZVRva2Vuc051bWJlciA9CiAgICAgICAgICAgIHRva2VuLmJhbGFuY2VPZih0b2tlbikubWluKHRva2VuLmFsbG93YW5jZSh0b2tlbiwgdGhpcykpOwoKICAgICAgICB1aW50MjU2IHJlc3RDb2lucyA9IDA7CgogICAgICAgIGlmKHRva2Vuc051bWJlciA+PSBhdmlhYmxlVG9rZW5zTnVtYmVyKSB7CiAgICAgICAgICAgIHVpbnQyNTYgcmVzdFRva2Vuc051bWJlciA9IHRva2Vuc051bWJlci5zdWIoYXZpYWJsZVRva2Vuc051bWJlcik7CgogICAgICAgICAgICByZXN0Q29pbnMgPQogICAgICAgICAgICAgICAgcmVzdFRva2Vuc051bWJlci5tdWwodG9rZW5TYWxlLnRva2Vuc0Nvc3QpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRpdigxMCAqKiB1aW50MjU2KHRva2VuLmRlY2ltYWxzKCkpKTsKCiAgICAgICAgICAgIHRva2Vuc051bWJlciA9IGF2aWFibGVUb2tlbnNOdW1iZXI7CiAgICAgICAgfQoKICAgICAgICB0b2tlbi50cmFuc2ZlckZyb20odG9rZW4sIG1zZy5zZW5kZXIsIHRva2Vuc051bWJlcik7CgogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIocmVzdENvaW5zKTsKCiAgICAgICAgbWFuYWdlci50cmFuc2Zlcihtc2cudmFsdWUuc3ViKHJlc3RDb2lucykpOwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbnRlclN0YXRlKCkgcHJpdmF0ZSBjb25zdGFudCByZXR1cm5zKE1pbnRlclN0YXRlKSB7CiAgICAgICAgaWYodG9rZW5TYWxlLnN0YXJ0VGltZSA+IG5vdykgewogICAgICAgICAgICByZXR1cm4gTWludGVyU3RhdGUudG9rZW5TYWxlV2FpdDsKICAgICAgICB9IGVsc2UgaWYodG9rZW5TYWxlLmVuZFRpbWUgPiBub3cpIHsKICAgICAgICAgICAgcmV0dXJuIE1pbnRlclN0YXRlLnRva2VuU2FsZVN0YXJ0ZWQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIE1pbnRlclN0YXRlLk92ZXI7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRva2Vuc051bWJlckZvckJ1eSgpIHByaXZhdGUgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIG1zZy52YWx1ZS5tdWwoMTAgKiogdWludDI1Nih0b2tlbi5kZWNpbWFscygpKSkKICAgICAgICAgICAgICAgICAgICAgICAgLmRpdih0b2tlblNhbGUudG9rZW5zQ29zdCk7CiAgICB9Cn0='.
	

]
