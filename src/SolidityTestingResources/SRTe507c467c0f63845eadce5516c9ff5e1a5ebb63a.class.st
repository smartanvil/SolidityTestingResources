Class {
	#name : #SRTe507c467c0f63845eadce5516c9ff5e1a5ebb63a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe507c467c0f63845eadce5516c9ff5e1a5ebb63a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewoKICAvKioKICAqIEBkZXYgTXVsdGlwbGllcyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93LgogICovCiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmIChhID09IDApIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgLyoqCiAgKiBAZGV2IEludGVnZXIgZGl2aXNpb24gb2YgdHdvIG51bWJlcnMsIHRydW5jYXRpbmcgdGhlIHF1b3RpZW50LgogICovCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICAvKioKICAqIEBkZXYgU3Vic3RyYWN0cyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93IChpLmUuIGlmIHN1YnRyYWhlbmQgaXMgZ3JlYXRlciB0aGFuIG1pbnVlbmQpLgogICovCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgLyoqCiAgKiBAZGV2IEFkZHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAqLwogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKCmNvbnRyYWN0IENhaVNoZW4gaXMgT3duYWJsZSB7CiAgICBzdHJ1Y3QgR2lmdCB7CiAgICAgICAgYm9vbCBleGlzdHM7ICAgICAgICAvLyAwIE9ubHkgdHJ1ZSBpZiB0aGlzIGV4aXN0cwogICAgICAgIHVpbnQgZ2lmdElkOyAgICAgICAgLy8gMSBUaGUgZ2lmdCBJRAogICAgICAgIGFkZHJlc3MgZ2l2ZXI7ICAgICAgLy8gMiBUaGUgYWRkcmVzcyBvZiB0aGUgZ2l2ZXIKICAgICAgICBhZGRyZXNzIHJlY2lwaWVudDsgIC8vIDMgVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICAgIHVpbnQgZXhwaXJ5OyAgICAgICAgLy8gNCBUaGUgZXhwaXJ5IGRhdGV0aW1lIG9mIHRoZSB0aW1lbG9jayBhcyBhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIFVuaXggdGltZXN0YW1wCiAgICAgICAgdWludCBhbW91bnQ7ICAgICAgICAvLyA1IFRoZSBhbW91bnQgb2YgRVRICiAgICAgICAgYm9vbCByZWRlZW1lZDsgICAgICAvLyA2IFdoZXRoZXIgdGhlIGZ1bmRzIGhhdmUgYWxyZWFkeSBiZWVuIHJlZGVlbWVkCiAgICAgICAgc3RyaW5nIGdpdmVyTmFtZTsgICAvLyA3IFRoZSBnaXZlcidzIG5hbWUKICAgICAgICBzdHJpbmcgbWVzc2FnZTsgICAgIC8vIDggQSBtZXNzYWdlIGZyb20gdGhlIGdpdmVyIHRvIHRoZSByZWNpcGllbnQKICAgICAgICB1aW50IHRpbWVzdGFtcDsgICAgIC8vIDkgVGhlIHRpbWVzdGFtcCBvZiB3aGVuIHRoZSBnaWZ0IHdhcyBnaXZlbgogICAgfQoKICAgIC8vIFRvdGFsIGZlZXMgZ2F0aGVyZWQgc2luY2UgdGhlIHN0YXJ0IG9mIHRoZSBjb250cmFjdCBvciB0aGUgbGFzdCB0aW1lCiAgICAvLyBmZWVzIHdlcmUgY29sbGVjdGVkLCB3aGljaGV2ZXIgaXMgbGF0ZXN0CiAgICB1aW50IHB1YmxpYyBmZWVzR2F0aGVyZWQ7CgogICAgLy8gRWFjaCBnaWZ0IGhhcyBhIHVuaXF1ZSBJRC4gSWYgeW91IGluY3JlbWVudCB0aGlzIHZhbHVlLCB5b3Ugd2lsbCBnZXQKICAgIC8vIGFuIHVudXNlZCBnaWZ0IElELgogICAgdWludCBwdWJsaWMgbmV4dEdpZnRJZDsKCiAgICAvLyBNYXBzIGVhY2ggcmVjaXBpZW50IGFkZHJlc3MgdG8gYSBsaXN0IG9mIGdpZnRJRHMgb2YgR2lmdHMgdGhleSBoYXZlCiAgICAvLyByZWNlaXZlZC4KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludFtdKSBwdWJsaWMgcmVjaXBpZW50VG9HaWZ0SWRzOwoKICAgIC8vIE1hcHMgZWFjaCBnaWZ0IElEIHRvIGl0cyBhc3NvY2lhdGVkIGdpZnQuCiAgICBtYXBwaW5nICh1aW50ID0+IEdpZnQpIHB1YmxpYyBnaWZ0SWRUb0dpZnQ7CgogICAgZXZlbnQgQ29uc3RydWN0ZWQgKGFkZHJlc3MgaW5kZXhlZCBieSwgdWludCBpbmRleGVkIGFtb3VudCk7CgogICAgZXZlbnQgQ29sbGVjdGVkQWxsRmVlcyAoYWRkcmVzcyBpbmRleGVkIGJ5LCB1aW50IGluZGV4ZWQgYW1vdW50KTsKCiAgICBldmVudCBEaXJlY3RseURlcG9zaXRlZChhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludCBpbmRleGVkIGFtb3VudCk7CgogICAgZXZlbnQgR2F2ZSAodWludCBpbmRleGVkIGdpZnRJZCwKICAgICAgICAgICAgICAgIGFkZHJlc3MgaW5kZXhlZCBnaXZlciwKICAgICAgICAgICAgICAgIGFkZHJlc3MgaW5kZXhlZCByZWNpcGllbnQsCiAgICAgICAgICAgICAgICB1aW50IGFtb3VudCwgdWludCBleHBpcnkpOwoKICAgIGV2ZW50IFJlZGVlbWVkICh1aW50IGluZGV4ZWQgZ2lmdElkLAogICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgaW5kZXhlZCBnaXZlciwKICAgICAgICAgICAgICAgICAgICBhZGRyZXNzIGluZGV4ZWQgcmVjaXBpZW50LAogICAgICAgICAgICAgICAgICAgIHVpbnQgYW1vdW50KTsKCiAgICAvLyBDb25zdHJ1Y3RvcgogICAgZnVuY3Rpb24gQ2FpU2hlbigpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICBDb25zdHJ1Y3RlZChtc2cuc2VuZGVyLCBtc2cudmFsdWUpOwogICAgfQoKICAgIC8vIEZhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIGFsbG93cyB0aGlzIGNvbnRyYWN0IHRvIHJlY2VpdmUgZnVuZHMuCiAgICBmdW5jdGlvbiAoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgLy8gU2VuZGluZyBFVEggZGlyZWN0bHkgdG8gdGhpcyBjb250cmFjdCBkb2VzIG5vdGhpbmcgZXhjZXB0IGxvZyBhbgogICAgICAgIC8vIGV2ZW50LgogICAgICAgIERpcmVjdGx5RGVwb3NpdGVkKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgICB9CgogICAgLy8vLyBHZXR0ZXIgZnVuY3Rpb25zOgoKICAgIGZ1bmN0aW9uIGdldEdpZnRJZHNCeVJlY2lwaWVudCAoYWRkcmVzcyByZWNpcGllbnQpIAogICAgcHVibGljIHZpZXcgcmV0dXJucyAodWludFtdKSB7CiAgICAgICAgcmV0dXJuIHJlY2lwaWVudFRvR2lmdElkc1tyZWNpcGllbnRdOwogICAgfQoKICAgIC8vLy8gQ29udHJhY3QgZnVuY3Rpb25zOgoKICAgIC8vIENhbGwgdGhpcyBmdW5jdGlvbiB3aGlsZSBzZW5kaW5nIEVUSCB0byBnaXZlIGEgZ2lmdC4KICAgIC8vIEByZWNpcGllbnQ6IHRoZSByZWNpcGllbnQncyBhZGRyZXNzCiAgICAvLyBAZXhwaXJ5OiB0aGUgVW5peCB0aW1lc3RhbXAgb2YgdGhlIGV4cGlyeSBkYXRldGltZS4KICAgIC8vIEBnaXZlck5hbWU6IHRoZSBuYW1lIG9mIHRoZSBnaXZlcgogICAgLy8gQG1lc3NhZ2U6IGEgcGVyc29uYWwgbWVzc2FnZQogICAgLy8gVGVzdGVkIGluIHRlc3QvdGVzdF9naXZlLmpzIGFuZCB0ZXN0L1Rlc3RHaXZlLnNvbAogICAgZnVuY3Rpb24gZ2l2ZSAoYWRkcmVzcyByZWNpcGllbnQsIHVpbnQgZXhwaXJ5LCBzdHJpbmcgZ2l2ZXJOYW1lLCBzdHJpbmcgbWVzc2FnZSkKICAgIHB1YmxpYyBwYXlhYmxlIHJldHVybnMgKHVpbnQpIHsKICAgICAgICBhZGRyZXNzIGdpdmVyID0gbXNnLnNlbmRlcjsKCiAgICAgICAgLy8gVmFsaWRhdGUgdGhlIGdpdmVyIGFkZHJlc3MKICAgICAgICBhc3NlcnQoZ2l2ZXIgIT0gYWRkcmVzcygwKSk7CgogICAgICAgIC8vIFRoZSBnaWZ0IG11c3QgYmUgYSBwb3NpdGl2ZSBhbW91bnQgb2YgRVRICiAgICAgICAgdWludCBhbW91bnQgPSBtc2cudmFsdWU7CiAgICAgICAgcmVxdWlyZShhbW91bnQgPiAwKTsKICAgICAgICAKICAgICAgICAvLyBUaGUgZXhwaXJ5IGRhdGV0aW1lIG11c3QgYmUgaW4gdGhlIGZ1dHVyZS4KICAgICAgICAvLyBUaGUgcG9zc2libGUgZHJpZnQgaXMgb25seSAxMiBtaW51dGVzLgogICAgICAgIC8vIFNlZTogaHR0cHM6Ly9jb25zZW5zeXMuZ2l0aHViLmlvL3NtYXJ0LWNvbnRyYWN0LWJlc3QtcHJhY3RpY2VzL3JlY29tbWVuZGF0aW9ucy8jdGltZXN0YW1wLWRlcGVuZGVuY2UKICAgICAgICByZXF1aXJlKGV4cGlyeSA+IG5vdyk7CgogICAgICAgIC8vIFRoZSBnaXZlciBhbmQgdGhlIHJlY2lwaWVudCBtdXN0IGJlIGRpZmZlcmVudCBhZGRyZXNzZXMKICAgICAgICByZXF1aXJlKGdpdmVyICE9IHJlY2lwaWVudCk7CgogICAgICAgIC8vIFRoZSByZWNpcGllbnQgbXVzdCBiZSBhIHZhbGlkIGFkZHJlc3MKICAgICAgICByZXF1aXJlKHJlY2lwaWVudCAhPSBhZGRyZXNzKDApKTsKCiAgICAgICAgLy8gTWFrZSBzdXJlIG5leHRHaWZ0SWQgaXMgMCBvciBwb3NpdGl2ZSwgb3IgdGhpcyBjb250cmFjdCBpcyBidWdneQogICAgICAgIGFzc2VydChuZXh0R2lmdElkID49IDApOwoKICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGNvbnRyYWN0IG93bmVyJ3MgZmVlCiAgICAgICAgdWludCBmZWVUYWtlbiA9IGZlZShhbW91bnQpOwogICAgICAgIGFzc2VydChmZWVUYWtlbiA+PSAwKTsKCiAgICAgICAgLy8gSW5jcmVtZW50IGZlZXNHYXRoZXJlZAogICAgICAgIGZlZXNHYXRoZXJlZCA9IFNhZmVNYXRoLmFkZChmZWVzR2F0aGVyZWQsIGZlZVRha2VuKTsKCiAgICAgICAgLy8gU2hhdmUgb2ZmIHRoZSBmZWUgZnJvbSB0aGUgYW1vdW50CiAgICAgICAgdWludCBhbXRHaXZlbiA9IFNhZmVNYXRoLnN1YihhbW91bnQsIGZlZVRha2VuKTsKICAgICAgICBhc3NlcnQoYW10R2l2ZW4gPiAwKTsKCiAgICAgICAgLy8gSWYgYSBnaWZ0IHdpdGggdGhpcyBuZXcgZ2lmdCBJRCBhbHJlYWR5IGV4aXN0cywgdGhpcyBjb250cmFjdCBpcyBidWdneS4KICAgICAgICBhc3NlcnQoZ2lmdElkVG9HaWZ0W25leHRHaWZ0SWRdLmV4aXN0cyA9PSBmYWxzZSk7CgogICAgICAgIC8vIFVwZGF0ZSB0aGUgbWFwcGluZ3MKICAgICAgICByZWNpcGllbnRUb0dpZnRJZHNbcmVjaXBpZW50XS5wdXNoKG5leHRHaWZ0SWQpOwogICAgICAgIGdpZnRJZFRvR2lmdFtuZXh0R2lmdElkXSA9IAogICAgICAgICAgICBHaWZ0KHRydWUsIG5leHRHaWZ0SWQsIGdpdmVyLCByZWNpcGllbnQsIGV4cGlyeSwgCiAgICAgICAgICAgIGFtdEdpdmVuLCBmYWxzZSwgZ2l2ZXJOYW1lLCBtZXNzYWdlLCBub3cpOwoKICAgICAgICB1aW50IGdpZnRJZCA9IG5leHRHaWZ0SWQ7CgogICAgICAgIC8vIEluY3JlbWVudCBuZXh0R2lmdElkCiAgICAgICAgbmV4dEdpZnRJZCA9IFNhZmVNYXRoLmFkZChnaWZ0SWQsIDEpOwoKICAgICAgICAvLyBJZiBhIGdpZnQgd2l0aCB0aGlzIG5ldyBnaWZ0IElEIGFscmVhZHkgZXhpc3RzLCB0aGlzIGNvbnRyYWN0IGlzIGJ1Z2d5LgogICAgICAgIGFzc2VydChnaWZ0SWRUb0dpZnRbbmV4dEdpZnRJZF0uZXhpc3RzID09IGZhbHNlKTsKCiAgICAgICAgLy8gTG9nIHRoZSBldmVudAogICAgICAgIEdhdmUoZ2lmdElkLCBnaXZlciwgcmVjaXBpZW50LCBhbW91bnQsIGV4cGlyeSk7CgogICAgICAgIHJldHVybiBnaWZ0SWQ7CiAgICB9CgogICAgLy8gQ2FsbCB0aGlzIGZ1bmN0aW9uIHRvIHJlZGVlbSBhIGdpZnQgb2YgRVRILgogICAgLy8gVGVzdGVkIGluIHRlc3QvdGVzdF9yZWRlZW0uanMKICAgIGZ1bmN0aW9uIHJlZGVlbSAodWludCBnaWZ0SWQpIHB1YmxpYyB7CiAgICAgICAgLy8gVGhlIGdpZnRJRCBzaG91bGQgYmUgMCBvciBwb3NpdGl2ZQogICAgICAgIHJlcXVpcmUoZ2lmdElkID49IDApOwoKICAgICAgICAvLyBUaGUgZ2lmdCBtdXN0IGV4aXN0IGFuZCBtdXN0IG5vdCBoYXZlIGFscmVhZHkgYmVlbiByZWRlZW1lZAogICAgICAgIHJlcXVpcmUoaXNWYWxpZEdpZnQoZ2lmdElkVG9HaWZ0W2dpZnRJZF0pKTsKCiAgICAgICAgLy8gVGhlIHJlY2lwaWVudCBtdXN0IGJlIHRoZSBjYWxsZXIgb2YgdGhpcyBmdW5jdGlvbgogICAgICAgIGFkZHJlc3MgcmVjaXBpZW50ID0gZ2lmdElkVG9HaWZ0W2dpZnRJZF0ucmVjaXBpZW50OwogICAgICAgIHJlcXVpcmUocmVjaXBpZW50ID09IG1zZy5zZW5kZXIpOwoKICAgICAgICAvLyBUaGUgY3VycmVudCBkYXRldGltZSBtdXN0IGJlIHRoZSBzYW1lIG9yIGFmdGVyIHRoZSBleHBpcnkgdGltZXN0YW1wCiAgICAgICAgcmVxdWlyZShub3cgPj0gZ2lmdElkVG9HaWZ0W2dpZnRJZF0uZXhwaXJ5KTsKCiAgICAgICAgLy8vLyBJZiB0aGUgZm9sbG93aW5nIGFzc2VydCBzdGF0ZW1lbnRzIGFyZSB0cmlnZ2VyZWQsIHRoaXMgY29udHJhY3QgaXMKICAgICAgICAvLy8vIGJ1Z2d5LgoKICAgICAgICAvLyBUaGUgYW1vdW50IG11c3QgYmUgcG9zaXRpdmUgYmVjYXVzZSB0aGlzIGlzIHJlcXVpcmVkIGluIGdpdmUoKQogICAgICAgIHVpbnQgYW1vdW50ID0gZ2lmdElkVG9HaWZ0W2dpZnRJZF0uYW1vdW50OwogICAgICAgIGFzc2VydChhbW91bnQgPiAwKTsKCiAgICAgICAgLy8gVGhlIGdpdmVyIG11c3Qgbm90IGJlIHRoZSByZWNpcGllbnQgYmVjYXVzZSB0aGlzIHdhcyBhc3NlcnRlZCBpbiBnaXZlKCkKICAgICAgICBhZGRyZXNzIGdpdmVyID0gZ2lmdElkVG9HaWZ0W2dpZnRJZF0uZ2l2ZXI7CiAgICAgICAgYXNzZXJ0KGdpdmVyICE9IHJlY2lwaWVudCk7CgogICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgZ2l2ZXIgaXMgdmFsaWQgYmVjYXVzZSB0aGlzIHdhcyBhc3NlcnRlZCBpbiBnaXZlKCk7CiAgICAgICAgYXNzZXJ0KGdpdmVyICE9IGFkZHJlc3MoMCkpOwoKICAgICAgICAvLyBVcGRhdGUgdGhlIGdpZnQgdG8gbWFyayBpdCBhcyByZWRlZW1lZCwgc28gdGhhdCB0aGUgZnVuZHMgY2Fubm90IGJlCiAgICAgICAgLy8gZG91YmxlLXNwZW50CiAgICAgICAgZ2lmdElkVG9HaWZ0W2dpZnRJZF0ucmVkZWVtZWQgPSB0cnVlOwoKICAgICAgICAvLyBUcmFuc2ZlciB0aGUgZnVuZHMKICAgICAgICByZWNpcGllbnQudHJhbnNmZXIoYW1vdW50KTsKCiAgICAgICAgLy8gTG9nIHRoZSBldmVudAogICAgICAgIFJlZGVlbWVkKGdpZnRJZCwgZ2lmdElkVG9HaWZ0W2dpZnRJZF0uZ2l2ZXIsIHJlY2lwaWVudCwgYW1vdW50KTsKICAgIH0KCiAgICAvLyBDYWxjdWxhdGUgdGhlIGNvbnRyYWN0IG93bmVyJ3MgZmVlCiAgICAvLyBUZXN0ZWQgaW4gdGVzdC90ZXN0X2ZlZS5qcwogICAgZnVuY3Rpb24gZmVlICh1aW50IGFtb3VudCkgcHVibGljIHB1cmUgcmV0dXJucyAodWludCkgewogICAgICAgIGlmIChhbW91bnQgPD0gMC4wMSBldGhlcikgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9IGVsc2UgaWYgKGFtb3VudCA+IDAuMDEgZXRoZXIpIHsKICAgICAgICAgICAgcmV0dXJuIFNhZmVNYXRoLmRpdihhbW91bnQsIDEwMCk7CiAgICAgICAgfQogICAgfQoKICAgIC8vIFRyYW5zZmVyIHRoZSBmZWVzIGNvbGxlY3RlZCB0aHVzIGZhciB0byB0aGUgY29udHJhY3Qgb3duZXIuCiAgICAvLyBPbmx5IHRoZSBjb250cmFjdCBvd25lciBtYXkgaW52b2tlIHRoaXMgZnVuY3Rpb24uCiAgICAvLyBUZXN0ZWQgaW4gdGVzdC90ZXN0X2NvbGxlY3RfZmVlcy5qcwogICAgZnVuY3Rpb24gY29sbGVjdEFsbEZlZXMgKCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgLy8gU3RvcmUgdGhlIGZlZSBhbW91bnQgaW4gYSB0ZW1wb3JhcnkgdmFyaWFibGUKICAgICAgICB1aW50IGFtb3VudCA9IGZlZXNHYXRoZXJlZDsKCiAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIGFtb3VudCBpcyBwb3NpdGl2ZQogICAgICAgIHJlcXVpcmUoYW1vdW50ID4gMCk7CgogICAgICAgIC8vIFNldCB0aGUgZmVlc0dhdGhlcmVkIHN0YXRlIHZhcmlhYmxlIHRvIDAKICAgICAgICBmZWVzR2F0aGVyZWQgPSAwOwoKICAgICAgICAvLyBNYWtlIHRoZSB0cmFuc2ZlcgogICAgICAgIG93bmVyLnRyYW5zZmVyKGFtb3VudCk7CgogICAgICAgIENvbGxlY3RlZEFsbEZlZXMob3duZXIsIGFtb3VudCk7CiAgICB9CgogICAgLy8gUmV0dXJucyB0cnVlIG9ubHkgaWYgdGhlIGdpZnQgZXhpc3RzIGFuZCBoYXMgbm90IGFscmVhZHkgYmVlbgogICAgLy8gcmVkZWVtZWQKICAgIGZ1bmN0aW9uIGlzVmFsaWRHaWZ0KEdpZnQgZ2lmdCkgcHJpdmF0ZSBwdXJlIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gZ2lmdC5leGlzdHMgPT0gdHJ1ZSAmJiBnaWZ0LnJlZGVlbWVkID09IGZhbHNlOwogICAgfQp9'.
	

]
