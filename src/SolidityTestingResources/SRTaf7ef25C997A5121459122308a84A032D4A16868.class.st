Class {
	#name : #SRTaf7ef25C997A5121459122308a84A032D4A16868,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTaf7ef25C997A5121459122308a84A032D4A16868 >> base64 [
	^ 'LyoKICBDb3B5cmlnaHQgMjAxNyBMb29wcmluZyBQcm9qZWN0IEx0ZCAoTG9vcHJpbmcgRm91bmRhdGlvbikuCiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKi8KcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Ci8vLyBAdGl0bGUgVXRpbGl0eSBGdW5jdGlvbnMgZm9yIHVpbnQKLy8vIEBhdXRob3IgRGFuaWVsIFdhbmcgLSA8PGEgaHJlZj0iL2Nkbi1jZ2kvbC9lbWFpbC1wcm90ZWN0aW9uIiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9ImQ1YjFiNGJiYmNiMGI5OTViOWJhYmFhNWE3YmNiYmIyZmJiYWE3YjIiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L2E+PgpsaWJyYXJ5IE1hdGhVaW50IHsKICAgIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50IGMpIHsKICAgICAgICBjID0gYSAqIGI7CiAgICAgICAgcmVxdWlyZShhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICB9CiAgICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCkgewogICAgICAgIHJlcXVpcmUoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9CiAgICBmdW5jdGlvbiBhZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCBjKSB7CiAgICAgICAgYyA9IGEgKyBiOwogICAgICAgIHJlcXVpcmUoYyA+PSBhKTsKICAgIH0KICAgIGZ1bmN0aW9uIHRvbGVyYW50U3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgYykgewogICAgICAgIHJldHVybiAoYSA+PSBiKSA/IGEgLSBiIDogMDsKICAgIH0KICAgIC8vLyBAZGV2IGNhbGN1bGF0ZSB0aGUgc3F1YXJlIG9mIENvZWZmaWNpZW50IG9mIFZhcmlhdGlvbiAoQ1YpCiAgICAvLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29lZmZpY2llbnRfb2ZfdmFyaWF0aW9uCiAgICBmdW5jdGlvbiBjdnNxdWFyZSgKICAgICAgICB1aW50W10gYXJyLAogICAgICAgIHVpbnQgc2NhbGUKICAgICAgICApCiAgICAgICAgaW50ZXJuYWwKICAgICAgICBwdXJlCiAgICAgICAgcmV0dXJucyAodWludCkKICAgIHsKICAgICAgICB1aW50IGxlbiA9IGFyci5sZW5ndGg7CiAgICAgICAgcmVxdWlyZShsZW4gPiAxKTsKICAgICAgICByZXF1aXJlKHNjYWxlID4gMCk7CiAgICAgICAgdWludCBhdmcgPSAwOwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIGF2ZyArPSBhcnJbaV07CiAgICAgICAgfQogICAgICAgIGF2ZyA9IGF2ZyAvIGxlbjsKICAgICAgICBpZiAoYXZnID09IDApIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIHVpbnQgY3ZzID0gMDsKICAgICAgICB1aW50IHM7CiAgICAgICAgdWludCBpdGVtOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICAgICAgICBpdGVtID0gYXJyW2ldOwogICAgICAgICAgICBzID0gaXRlbSA+IGF2ZyA/IGl0ZW0gLSBhdmcgOiBhdmcgLSBpdGVtOwogICAgICAgICAgICBjdnMgKz0gbXVsKHMsIHMpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gKChtdWwobXVsKGN2cywgc2NhbGUpLCBzY2FsZSkgLyBhdmcpIC8gYXZnKSAvIChsZW4gLSAxKTsKICAgIH0KfQovKgogIENvcHlyaWdodCAyMDE3IExvb3ByaW5nIFByb2plY3QgTHRkIChMb29wcmluZyBGb3VuZGF0aW9uKS4KICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwovKgogIENvcHlyaWdodCAyMDE3IExvb3ByaW5nIFByb2plY3QgTHRkIChMb29wcmluZyBGb3VuZGF0aW9uKS4KICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwovLy8gQHRpdGxlIEVSQzIwIFRva2VuIEludGVyZmFjZQovLy8gQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCi8vLyBAYXV0aG9yIERhbmllbCBXYW5nIC0gPDxhIGhyZWY9Ii9jZG4tY2dpL2wvZW1haWwtcHJvdGVjdGlvbiIgY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSI1ZDM5M2MzMzM0MzgzMTFkMzEzMjMyMmQyZjM0MzMzYTczMzIyZjNhIj5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9hPj4KY29udHJhY3QgRVJDMjAgewogICAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7CgkKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgdmlldyBwdWJsaWMgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwp9Ci8qCiAgQ29weXJpZ2h0IDIwMTcgTG9vcHJpbmcgUHJvamVjdCBMdGQgKExvb3ByaW5nIEZvdW5kYXRpb24pLgogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiovCi8qCiAgQ29weXJpZ2h0IDIwMTcgTG9vcHJpbmcgUHJvamVjdCBMdGQgKExvb3ByaW5nIEZvdW5kYXRpb24pLgogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiovCi8vLyBAdGl0bGUgT3duYWJsZQovLy8gQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljCi8vLyAgICAgIGF1dGhvcml6YXRpb24gY29udHJvbCBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YKLy8vICAgICAgInVzZXIgcGVybWlzc2lvbnMiLgpjb250cmFjdCBPd25hYmxlIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyCiAgICApOwogICAgLy8vIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QKICAgIC8vLyAgICAgIHRvIHRoZSBzZW5kZXIuCiAgICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CiAgICAvLy8gQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KICAgIC8vLyBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhCiAgICAvLy8gICAgICBuZXdPd25lci4KICAgIC8vLyBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShuZXdPd25lciAhPSAweDApOwogICAgICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KfQovLy8gQHRpdGxlIENsYWltYWJsZQovLy8gQGRldiBFeHRlbnNpb24gZm9yIHRoZSBPd25hYmxlIGNvbnRyYWN0LCB3aGVyZSB0aGUgb3duZXJzaGlwIG5lZWRzCi8vLyAgICAgIHRvIGJlIGNsYWltZWQuIFRoaXMgYWxsb3dzIHRoZSBuZXcgb3duZXIgdG8gYWNjZXB0IHRoZSB0cmFuc2Zlci4KY29udHJhY3QgQ2xhaW1hYmxlIGlzIE93bmFibGUgewogICAgYWRkcmVzcyBwdWJsaWMgcGVuZGluZ093bmVyOwogICAgLy8vIEBkZXYgTW9kaWZpZXIgdGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBwZW5kaW5nT3duZXIuCiAgICBtb2RpZmllciBvbmx5UGVuZGluZ093bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBwZW5kaW5nT3duZXIpOwogICAgICAgIF87CiAgICB9CiAgICAvLy8gQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gc2V0IHRoZSBwZW5kaW5nT3duZXIgYWRkcmVzcy4KICAgIC8vLyBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShuZXdPd25lciAhPSAweDAgJiYgbmV3T3duZXIgIT0gb3duZXIpOwogICAgICAgIHBlbmRpbmdPd25lciA9IG5ld093bmVyOwogICAgfQogICAgLy8vIEBkZXYgQWxsb3dzIHRoZSBwZW5kaW5nT3duZXIgYWRkcmVzcyB0byBmaW5hbGl6ZSB0aGUgdHJhbnNmZXIuCiAgICBmdW5jdGlvbiBjbGFpbU93bmVyc2hpcCgpIG9ubHlQZW5kaW5nT3duZXIgcHVibGljIHsKICAgICAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgcGVuZGluZ093bmVyKTsKICAgICAgICBvd25lciA9IHBlbmRpbmdPd25lcjsKICAgICAgICBwZW5kaW5nT3duZXIgPSAweDA7CiAgICB9Cn0KLy8vIEB0aXRsZSBUb2tlblRyYW5zZmVyRGVsZWdhdGUKLy8vIEBkZXYgQWN0cyBhcyBhIG1pZGRsZSBtYW4gdG8gdHJhbnNmZXIgRVJDMjAgdG9rZW5zIG9uIGJlaGFsZiBvZiBkaWZmZXJlbnQKLy8vIHZlcnNpb25zIG9mIExvb3ByaW5nIHByb3RvY29sIHRvIGF2b2lkIEVSQzIwIHJlLWF1dGhvcml6YXRpb24uCi8vLyBAYXV0aG9yIERhbmllbCBXYW5nIC0gPDxhIGhyZWY9Ii9jZG4tY2dpL2wvZW1haWwtcHJvdGVjdGlvbiIgY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSIwZjZiNmU2MTY2NmE2MzRmNjM2MDYwN2Y3ZDY2NjE2ODIxNjA3ZDY4Ij5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9hPj4uCmNvbnRyYWN0IFRva2VuVHJhbnNmZXJEZWxlZ2F0ZSBpcyBDbGFpbWFibGUgewogICAgdXNpbmcgTWF0aFVpbnQgZm9yIHVpbnQ7CiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLy8gVmFyaWFibGVzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gQWRkcmVzc0luZm8pIHByaXZhdGUgYWRkcmVzc0luZm9zOwogICAgYWRkcmVzcyBwdWJsaWMgbGF0ZXN0QWRkcmVzczsKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vLyBTdHJ1Y3RzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8KICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIHN0cnVjdCBBZGRyZXNzSW5mbyB7CiAgICAgICAgYWRkcmVzcyBwcmV2aW91czsKICAgICAgICB1aW50MzIgIGluZGV4OwogICAgICAgIGJvb2wgICAgYXV0aG9yaXplZDsKICAgIH0KICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vLyBNb2RpZmllcnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8KICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIG1vZGlmaWVyIG9ubHlBdXRob3JpemVkKCkgewogICAgICAgIHJlcXVpcmUoYWRkcmVzc0luZm9zW21zZy5zZW5kZXJdLmF1dGhvcml6ZWQpOwogICAgICAgIF87CiAgICB9CiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLy8gRXZlbnRzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICBldmVudCBBZGRyZXNzQXV0aG9yaXplZChhZGRyZXNzIGluZGV4ZWQgYWRkciwgdWludDMyIG51bWJlcik7CiAgICBldmVudCBBZGRyZXNzRGVhdXRob3JpemVkKGFkZHJlc3MgaW5kZXhlZCBhZGRyLCB1aW50MzIgbnVtYmVyKTsKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vLyBQdWJsaWMgRnVuY3Rpb25zICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8KICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vLyBAZGV2IEFkZCBhIExvb3ByaW5nIHByb3RvY29sIGFkZHJlc3MuCiAgICAvLy8gQHBhcmFtIGFkZHIgQSBsb29wcmluZyBwcm90b2NvbCBhZGRyZXNzLgogICAgZnVuY3Rpb24gYXV0aG9yaXplQWRkcmVzcyhhZGRyZXNzIGFkZHIpCiAgICAgICAgb25seU93bmVyCiAgICAgICAgZXh0ZXJuYWwKICAgIHsKICAgICAgICB2YXIgYWRkckluZm8gPSBhZGRyZXNzSW5mb3NbYWRkcl07CiAgICAgICAgaWYgKGFkZHJJbmZvLmluZGV4ICE9IDApIHsgLy8gZXhpc3RpbmcKICAgICAgICAgICAgaWYgKGFkZHJJbmZvLmF1dGhvcml6ZWQgPT0gZmFsc2UpIHsgLy8gcmUtYXV0aG9yaXplCiAgICAgICAgICAgICAgICBhZGRySW5mby5hdXRob3JpemVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIEFkZHJlc3NBdXRob3JpemVkKGFkZHIsIGFkZHJJbmZvLmluZGV4KTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFkZHJlc3MgcHJldiA9IGxhdGVzdEFkZHJlc3M7CiAgICAgICAgICAgIGlmIChwcmV2ID09IDB4MCkgewogICAgICAgICAgICAgICAgYWRkckluZm8uaW5kZXggPSAxOwogICAgICAgICAgICAgICAgYWRkckluZm8uYXV0aG9yaXplZCA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhZGRySW5mby5wcmV2aW91cyA9IHByZXY7CiAgICAgICAgICAgICAgICBhZGRySW5mby5pbmRleCA9IGFkZHJlc3NJbmZvc1twcmV2XS5pbmRleCArIDE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYWRkckluZm8uYXV0aG9yaXplZCA9IHRydWU7CiAgICAgICAgICAgIGxhdGVzdEFkZHJlc3MgPSBhZGRyOwogICAgICAgICAgICBBZGRyZXNzQXV0aG9yaXplZChhZGRyLCBhZGRySW5mby5pbmRleCk7CiAgICAgICAgfQogICAgfQogICAgLy8vIEBkZXYgUmVtb3ZlIGEgTG9vcHJpbmcgcHJvdG9jb2wgYWRkcmVzcy4KICAgIC8vLyBAcGFyYW0gYWRkciBBIGxvb3ByaW5nIHByb3RvY29sIGFkZHJlc3MuCiAgICBmdW5jdGlvbiBkZWF1dGhvcml6ZUFkZHJlc3MoYWRkcmVzcyBhZGRyKQogICAgICAgIG9ubHlPd25lcgogICAgICAgIGV4dGVybmFsCiAgICB7CiAgICAgICAgdWludDMyIGluZGV4ID0gYWRkcmVzc0luZm9zW2FkZHJdLmluZGV4OwogICAgICAgIGlmIChpbmRleCAhPSAwKSB7CiAgICAgICAgICAgIGFkZHJlc3NJbmZvc1thZGRyXS5hdXRob3JpemVkID0gZmFsc2U7CiAgICAgICAgICAgIEFkZHJlc3NEZWF1dGhvcml6ZWQoYWRkciwgaW5kZXgpOwogICAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIGlzQWRkcmVzc0F1dGhvcml6ZWQoYWRkcmVzcyBhZGRyKQogICAgICAgIHB1YmxpYwogICAgICAgIHZpZXcKICAgICAgICByZXR1cm5zIChib29sKQogICAgewogICAgICAgIHJldHVybiBhZGRyZXNzSW5mb3NbYWRkcl0uYXV0aG9yaXplZDsKICAgIH0KICAgIGZ1bmN0aW9uIGdldExhdGVzdEF1dGhvcml6ZWRBZGRyZXNzZXModWludCBtYXgpCiAgICAgICAgZXh0ZXJuYWwKICAgICAgICB2aWV3CiAgICAgICAgcmV0dXJucyAoYWRkcmVzc1tdIGFkZHJlc3NlcykKICAgIHsKICAgICAgICBhZGRyZXNzZXMgPSBuZXcgYWRkcmVzc1tdKG1heCk7CiAgICAgICAgYWRkcmVzcyBhZGRyID0gbGF0ZXN0QWRkcmVzczsKICAgICAgICBBZGRyZXNzSW5mbyBtZW1vcnkgYWRkckluZm87CiAgICAgICAgdWludCBjb3VudCA9IDA7CiAgICAgICAgd2hpbGUgKGFkZHIgIT0gMHgwICYmIGNvdW50IDwgbWF4KSB7CiAgICAgICAgICAgIGFkZHJJbmZvID0gYWRkcmVzc0luZm9zW2FkZHJdOwogICAgICAgICAgICBpZiAoYWRkckluZm8uaW5kZXggPT0gMCkgewogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYWRkcmVzc2VzW2NvdW50KytdID0gYWRkcjsKICAgICAgICAgICAgYWRkciA9IGFkZHJJbmZvLnByZXZpb3VzOwogICAgICAgIH0KICAgIH0KICAgIC8vLyBAZGV2IEludm9rZSBFUkMyMCB0cmFuc2ZlckZyb20gbWV0aG9kLgogICAgLy8vIEBwYXJhbSB0b2tlbiBBZGRyZXNzIG9mIHRva2VuIHRvIHRyYW5zZmVyLgogICAgLy8vIEBwYXJhbSBmcm9tIEFkZHJlc3MgdG8gdHJhbnNmZXIgdG9rZW4gZnJvbS4KICAgIC8vLyBAcGFyYW0gdG8gQWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbiB0by4KICAgIC8vLyBAcGFyYW0gdmFsdWUgQW1vdW50IG9mIHRva2VuIHRvIHRyYW5zZmVyLgogICAgZnVuY3Rpb24gdHJhbnNmZXJUb2tlbigKICAgICAgICBhZGRyZXNzIHRva2VuLAogICAgICAgIGFkZHJlc3MgZnJvbSwKICAgICAgICBhZGRyZXNzIHRvLAogICAgICAgIHVpbnQgICAgdmFsdWUpCiAgICAgICAgb25seUF1dGhvcml6ZWQKICAgICAgICBleHRlcm5hbAogICAgewogICAgICAgIGlmICh2YWx1ZSA+IDAgJiYgZnJvbSAhPSB0bykgewogICAgICAgICAgICByZXF1aXJlKAogICAgICAgICAgICAgICAgRVJDMjAodG9rZW4pLnRyYW5zZmVyRnJvbShmcm9tLCB0bywgdmFsdWUpCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gYmF0Y2hUcmFuc2ZlclRva2VuKAogICAgICAgIGFkZHJlc3MgbHJjVG9rZW5BZGRyZXNzLAogICAgICAgIGFkZHJlc3MgZmVlUmVjaXBpZW50LAogICAgICAgIGJ5dGVzMzJbXSBiYXRjaCkKICAgICAgICBvbmx5QXV0aG9yaXplZAogICAgICAgIGV4dGVybmFsCiAgICB7CiAgICAgICAgdWludCBsZW4gPSBiYXRjaC5sZW5ndGg7CiAgICAgICAgcmVxdWlyZShsZW4gJSA2ID09IDApOwogICAgICAgIHZhciBscmMgPSBFUkMyMChscmNUb2tlbkFkZHJlc3MpOwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IGxlbjsgaSArPSA2KSB7CiAgICAgICAgICAgIGFkZHJlc3Mgb3duZXIgPSBhZGRyZXNzKGJhdGNoW2ldKTsKICAgICAgICAgICAgYWRkcmVzcyBwcmV2T3duZXIgPSBhZGRyZXNzKGJhdGNoWyhpICsgbGVuIC0gNikgJSBsZW5dKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFBheSB0b2tlbiB0byBwcmV2aW91cyBvcmRlciwgb3IgdG8gbWluZXIgYXMgcHJldmlvdXMgb3JkZXIncwogICAgICAgICAgICAvLyBtYXJnaW4gc3BsaXQgb3IvYW5kIHRoaXMgb3JkZXIncyBtYXJnaW4gc3BsaXQuCiAgICAgICAgICAgIHZhciB0b2tlbiA9IEVSQzIwKGFkZHJlc3MoYmF0Y2hbaSArIDFdKSk7CiAgICAgICAgICAgIC8vIEhlcmUgYmF0Y2hbaSsyXSBoYXMgYmVlbiBjaGVja2VkIG5vdCB0byBiZSAwLgogICAgICAgICAgICBpZiAob3duZXIgIT0gcHJldk93bmVyKSB7CiAgICAgICAgICAgICAgICByZXF1aXJlKAogICAgICAgICAgICAgICAgICAgIHRva2VuLnRyYW5zZmVyRnJvbShvd25lciwgcHJldk93bmVyLCB1aW50KGJhdGNoW2kgKyAyXSkpCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChvd25lciAhPSBmZWVSZWNpcGllbnQpIHsKICAgICAgICAgICAgICAgIGJ5dGVzMzIgaXRlbSA9IGJhdGNoW2kgKyAzXTsKICAgICAgICAgICAgICAgIGlmIChpdGVtICE9IDApIHsKICAgICAgICAgICAgICAgICAgICByZXF1aXJlKAogICAgICAgICAgICAgICAgICAgICAgICB0b2tlbi50cmFuc2ZlckZyb20ob3duZXIsIGZlZVJlY2lwaWVudCwgdWludChpdGVtKSkKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgICAgIGl0ZW0gPSBiYXRjaFtpICsgNF07CiAgICAgICAgICAgICAgICBpZiAoaXRlbSAhPSAwKSB7CiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSgKICAgICAgICAgICAgICAgICAgICAgICAgbHJjLnRyYW5zZmVyRnJvbShmZWVSZWNpcGllbnQsIG93bmVyLCB1aW50KGl0ZW0pKQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpdGVtID0gYmF0Y2hbaSArIDVdOwogICAgICAgICAgICAgICAgaWYgKGl0ZW0gIT0gMCkgewogICAgICAgICAgICAgICAgICAgIHJlcXVpcmUoCiAgICAgICAgICAgICAgICAgICAgICAgIGxyYy50cmFuc2ZlckZyb20ob3duZXIsIGZlZVJlY2lwaWVudCwgdWludChpdGVtKSkKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9'.
	

]
