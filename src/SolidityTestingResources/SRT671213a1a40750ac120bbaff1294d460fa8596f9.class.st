Class {
	#name : #SRT671213a1a40750ac120bbaff1294d460fa8596f9,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT671213a1a40750ac120bbaff1294d460fa8596f9 >> base64 [
	^ 'LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KLyogQ29weXJpZ2h0IChjKSAyMDE4IFRoZSBldGhlci5vbmxpbmUgUHJvamVjdC4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuCi8qIAovKiBodHRwczovL2V0aGVyLm9ubGluZSAgVGhlIGZpcnN0IFJQRyBnYW1lIG9mIGJsb2NrY2hhaW4gICAgICAgICAgICAgICAgIAovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwpwcmFnbWEgc29saWRpdHkgXjAuNC4yMDsKCi8vLyBAdGl0bGUgRVJDLTE2NSBTdGFuZGFyZCBJbnRlcmZhY2UgRGV0ZWN0aW9uCi8vLyBAZGV2IFNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9ibG9iL21hc3Rlci9FSVBTL2VpcC0xNjUubWQKaW50ZXJmYWNlIEVSQzE2NSB7CiAgICBmdW5jdGlvbiBzdXBwb3J0c0ludGVyZmFjZShieXRlczQgaW50ZXJmYWNlSUQpIGV4dGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCk7Cn0KCi8vLyBAdGl0bGUgRVJDLTcyMSBOb24tRnVuZ2libGUgVG9rZW4gU3RhbmRhcmQKLy8vIEBkZXYgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2Jsb2IvbWFzdGVyL0VJUFMvZWlwLTcyMS5tZApjb250cmFjdCBFUkM3MjEgaXMgRVJDMTY1IHsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdG9rZW5JZCk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX2FwcHJvdmVkLCB1aW50MjU2IF90b2tlbklkKTsKICAgIGV2ZW50IEFwcHJvdmFsRm9yQWxsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfb3BlcmF0b3IsIGJvb2wgX2FwcHJvdmVkKTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgZXh0ZXJuYWwgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIG93bmVyT2YodWludDI1NiBfdG9rZW5JZCkgZXh0ZXJuYWwgdmlldyByZXR1cm5zIChhZGRyZXNzKTsKICAgIGZ1bmN0aW9uIHNhZmVUcmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQsIGJ5dGVzIGRhdGEpIGV4dGVybmFsOwogICAgZnVuY3Rpb24gc2FmZVRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgZXh0ZXJuYWw7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIGV4dGVybmFsOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9hcHByb3ZlZCwgdWludDI1NiBfdG9rZW5JZCkgZXh0ZXJuYWw7CiAgICBmdW5jdGlvbiBzZXRBcHByb3ZhbEZvckFsbChhZGRyZXNzIF9vcGVyYXRvciwgYm9vbCBfYXBwcm92ZWQpIGV4dGVybmFsOwogICAgZnVuY3Rpb24gZ2V0QXBwcm92ZWQodWludDI1NiBfdG9rZW5JZCkgZXh0ZXJuYWwgdmlldyByZXR1cm5zIChhZGRyZXNzKTsKICAgIGZ1bmN0aW9uIGlzQXBwcm92ZWRGb3JBbGwoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX29wZXJhdG9yKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKGJvb2wpOwp9CgovLy8gQHRpdGxlIEVSQy03MjEgTm9uLUZ1bmdpYmxlIFRva2VuIFN0YW5kYXJkCmludGVyZmFjZSBFUkM3MjFUb2tlblJlY2VpdmVyIHsKCWZ1bmN0aW9uIG9uRVJDNzIxUmVjZWl2ZWQoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdG9rZW5JZCwgYnl0ZXMgZGF0YSkgZXh0ZXJuYWwgcmV0dXJucyhieXRlczQpOwp9CgovLy8gQHRpdGxlIEVSQy03MjEgTm9uLUZ1bmdpYmxlIFRva2VuIFN0YW5kYXJkLCBvcHRpb25hbCBtZXRhZGF0YSBleHRlbnNpb24KaW50ZXJmYWNlIEVSQzcyMU1ldGFkYXRhIC8qIGlzIEVSQzcyMSAqLyB7CiAgICBmdW5jdGlvbiBuYW1lKCkgZXh0ZXJuYWwgcHVyZSByZXR1cm5zIChzdHJpbmcgX25hbWUpOwogICAgZnVuY3Rpb24gc3ltYm9sKCkgZXh0ZXJuYWwgcHVyZSByZXR1cm5zIChzdHJpbmcgX3N5bWJvbCk7CiAgICBmdW5jdGlvbiB0b2tlblVSSSh1aW50MjU2IF90b2tlbklkKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKHN0cmluZyk7Cn0KCi8vLyBAdGl0bGUgRVJDLTcyMSBOb24tRnVuZ2libGUgVG9rZW4gU3RhbmRhcmQsIG9wdGlvbmFsIGVudW1lcmF0aW9uIGV4dGVuc2lvbgppbnRlcmZhY2UgRVJDNzIxRW51bWVyYWJsZSAvKiBpcyBFUkM3MjEgKi8gewogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gdG9rZW5CeUluZGV4KHVpbnQyNTYgX2luZGV4KSBleHRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gdG9rZW5PZk93bmVyQnlJbmRleChhZGRyZXNzIF9vd25lciwgdWludDI1NiBfaW5kZXgpIGV4dGVybmFsIHZpZXcgcmV0dXJucyAodWludDI1Nik7Cn0KCmNvbnRyYWN0IEFjY2Vzc0FkbWluIHsKICAgIGJvb2wgcHVibGljIGlzUGF1c2VkID0gZmFsc2U7CiAgICBhZGRyZXNzIHB1YmxpYyBhZGRyQWRtaW47ICAKCiAgICBldmVudCBBZG1pblRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmVBZG1pbiwgYWRkcmVzcyBpbmRleGVkIG5ld0FkbWluKTsKCiAgICBmdW5jdGlvbiBBY2Nlc3NBZG1pbigpIHB1YmxpYyB7CiAgICAgICAgYWRkckFkbWluID0gbXNnLnNlbmRlcjsKICAgIH0gIAoKCiAgICBtb2RpZmllciBvbmx5QWRtaW4oKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGFkZHJBZG1pbik7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciB3aGVuTm90UGF1c2VkKCkgewogICAgICAgIHJlcXVpcmUoIWlzUGF1c2VkKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIHdoZW5QYXVzZWQgewogICAgICAgIHJlcXVpcmUoaXNQYXVzZWQpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gc2V0QWRtaW4oYWRkcmVzcyBfbmV3QWRtaW4pIGV4dGVybmFsIG9ubHlBZG1pbiB7CiAgICAgICAgcmVxdWlyZShfbmV3QWRtaW4gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgQWRtaW5UcmFuc2ZlcnJlZChhZGRyQWRtaW4sIF9uZXdBZG1pbik7CiAgICAgICAgYWRkckFkbWluID0gX25ld0FkbWluOwogICAgfQoKICAgIGZ1bmN0aW9uIGRvUGF1c2UoKSBleHRlcm5hbCBvbmx5QWRtaW4gd2hlbk5vdFBhdXNlZCB7CiAgICAgICAgaXNQYXVzZWQgPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGRvVW5wYXVzZSgpIGV4dGVybmFsIG9ubHlBZG1pbiB3aGVuUGF1c2VkIHsKICAgICAgICBpc1BhdXNlZCA9IGZhbHNlOwogICAgfQp9Cgpjb250cmFjdCBBY2Nlc3NTZXJ2aWNlIGlzIEFjY2Vzc0FkbWluIHsKICAgIGFkZHJlc3MgcHVibGljIGFkZHJTZXJ2aWNlOwogICAgYWRkcmVzcyBwdWJsaWMgYWRkckZpbmFuY2U7CgogICAgbW9kaWZpZXIgb25seVNlcnZpY2UoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGFkZHJTZXJ2aWNlKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlGaW5hbmNlKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBhZGRyRmluYW5jZSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRTZXJ2aWNlKGFkZHJlc3MgX25ld1NlcnZpY2UpIGV4dGVybmFsIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gYWRkclNlcnZpY2UgfHwgbXNnLnNlbmRlciA9PSBhZGRyQWRtaW4pOwogICAgICAgIHJlcXVpcmUoX25ld1NlcnZpY2UgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgYWRkclNlcnZpY2UgPSBfbmV3U2VydmljZTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRGaW5hbmNlKGFkZHJlc3MgX25ld0ZpbmFuY2UpIGV4dGVybmFsIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gYWRkckZpbmFuY2UgfHwgbXNnLnNlbmRlciA9PSBhZGRyQWRtaW4pOwogICAgICAgIHJlcXVpcmUoX25ld0ZpbmFuY2UgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgYWRkckZpbmFuY2UgPSBfbmV3RmluYW5jZTsKICAgIH0KfQoKY29udHJhY3QgV2FyVG9rZW4gaXMgRVJDNzIxLCBBY2Nlc3NBZG1pbiB7CiAgICAvLy8gQGRldiBUaGUgZXF1aXBtZW50IGluZm8KICAgIHN0cnVjdCBGYXNoaW9uIHsKICAgICAgICB1aW50MTYgcHJvdG9JZDsgICAgIC8vIDAgIEVxdWlwbWVudCBJRAogICAgICAgIHVpbnQxNiBxdWFsaXR5OyAgICAgLy8gMSAgUmFyaXR5OiAxIENvYXJzZS8yIEdvb2QvMyBSYXJlLzQgRXBpYy81IExlZ2VuZGFyeQogICAgICAgIHVpbnQxNiBwb3M7ICAgICAgICAgLy8gMiAgU2xvdHM6IDEgV2VhcG9uLzIgSGF0LzMgQ2xvdGgvNCBQYW50LzUgU2hvZXMvOSBQZXRzCiAgICAgICAgdWludDE2IGhlYWx0aDsgICAgICAvLyAzICBIZWFsdGgKICAgICAgICB1aW50MTYgYXRrTWluOyAgICAgIC8vIDQgIE1pbiBhdHRhY2sKICAgICAgICB1aW50MTYgYXRrTWF4OyAgICAgIC8vIDUgIE1heCBhdHRhY2sKICAgICAgICB1aW50MTYgZGVmZW5jZTsgICAgIC8vIDYgIERlZmVubnNlCiAgICAgICAgdWludDE2IGNyaXQ7ICAgICAgICAvLyA3ICBDcml0aWNhbCByYXRlCiAgICAgICAgdWludDE2IGF0dHJFeHQxOyAgICAvLyA4ICBmdXR1cmUgc3RhdCAxCiAgICAgICAgdWludDE2IGF0dHJFeHQyOyAgICAvLyA5ICBmdXR1cmUgc3RhdCAyCiAgICAgICAgdWludDE2IGF0dHJFeHQzOyAgICAvLyAxMCBmdXR1cmUgc3RhdCAzCiAgICAgICAgdWludDE2IGF0dHJFeHQ0OyAgICAvLyAxMSBmdXR1cmUgc3RhdCA0CiAgICB9CgogICAgLy8vIEBkZXYgQWxsIGVxdWlwbWVudHMgdG9rZW5BcnJheSAobm90IGV4Y2VlZGluZyAyXjMyLTEpCiAgICBGYXNoaW9uW10gcHVibGljIGZhc2hpb25BcnJheTsKCiAgICAvLy8gQGRldiBBbW91bnQgb2YgdG9rZW5zIGRlc3Ryb3llZAogICAgdWludDI1NiBkZXN0cm95RmFzaGlvbkNvdW50OwoKICAgIC8vLyBAZGV2IEVxdWlwbWVudCB0b2tlbiBJRCB2cyBvd25lciBhZGRyZXNzCiAgICBtYXBwaW5nICh1aW50MjU2ID0+IGFkZHJlc3MpIGZhc2hpb25JZFRvT3duZXI7CgogICAgLy8vIEBkZXYgRXF1aXBtZW50cyBvd25lciBieSB0aGUgb3duZXIgKGFycmF5KQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2W10pIG93bmVyVG9GYXNoaW9uQXJyYXk7CgogICAgLy8vIEBkZXYgRXF1aXBtZW50IHRva2VuIElEIHNlYXJjaCBpbiBvd25lciBhcnJheQogICAgbWFwcGluZyAodWludDI1NiA9PiB1aW50MjU2KSBmYXNoaW9uSWRUb093bmVySW5kZXg7CgogICAgLy8vIEBkZXYgVGhlIGF1dGhvcml6ZWQgYWRkcmVzcyBmb3IgZWFjaCBXQVIKICAgIG1hcHBpbmcgKHVpbnQyNTYgPT4gYWRkcmVzcykgZmFzaGlvbklkVG9BcHByb3ZhbHM7CgogICAgLy8vIEBkZXYgVGhlIGF1dGhvcml6ZWQgb3BlcmF0b3JzIGZvciBlYWNoIGFkZHJlc3MKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSkgb3BlcmF0b3JUb0FwcHJvdmFsczsKCiAgICAvLy8gQGRldiBUcnVzdCBjb250cmFjdAogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBhY3Rpb25Db250cmFjdHM7CgogICAgZnVuY3Rpb24gc2V0QWN0aW9uQ29udHJhY3QoYWRkcmVzcyBfYWN0aW9uQWRkciwgYm9vbCBfdXNlZnVsKSBleHRlcm5hbCBvbmx5QWRtaW4gewogICAgICAgIGFjdGlvbkNvbnRyYWN0c1tfYWN0aW9uQWRkcl0gPSBfdXNlZnVsOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEFjdGlvbkNvbnRyYWN0KGFkZHJlc3MgX2FjdGlvbkFkZHIpIGV4dGVybmFsIHZpZXcgb25seUFkbWluIHJldHVybnMoYm9vbCkgewogICAgICAgIHJldHVybiBhY3Rpb25Db250cmFjdHNbX2FjdGlvbkFkZHJdOwogICAgfQoKICAgIC8vLyBAZGV2IFRoaXMgZW1pdHMgd2hlbiB0aGUgYXBwcm92ZWQgYWRkcmVzcyBmb3IgYW4gV0FSIGlzIGNoYW5nZWQgb3IgcmVhZmZpcm1lZC4KICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfYXBwcm92ZWQsIHVpbnQyNTYgX3Rva2VuSWQpOwoKICAgIC8vLyBAZGV2IFRoaXMgZW1pdHMgd2hlbiBhbiBvcGVyYXRvciBpcyBlbmFibGVkIG9yIGRpc2FibGVkIGZvciBhbiBvd25lci4KICAgIGV2ZW50IEFwcHJvdmFsRm9yQWxsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfb3BlcmF0b3IsIGJvb2wgX2FwcHJvdmVkKTsKCiAgICAvLy8gQGRldiBUaGlzIGVtaXRzIHdoZW4gdGhlIGVxdWlwbWVudCBvd25lcnNoaXAgY2hhbmdlZCAKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdG9rZW5JZCk7CgogICAgLy8vIEBkZXYgVGhpcyBlbWl0cyB3aGVuIHRoZSBlcXVpcG1lbnQgY3JlYXRlZAogICAgZXZlbnQgQ3JlYXRlRmFzaGlvbihhZGRyZXNzIGluZGV4ZWQgb3duZXIsIHVpbnQyNTYgdG9rZW5JZCwgdWludDE2IHByb3RvSWQsIHVpbnQxNiBxdWFsaXR5LCB1aW50MTYgcG9zLCB1aW50MTYgY3JlYXRlVHlwZSk7CgogICAgLy8vIEBkZXYgVGhpcyBlbWl0cyB3aGVuIHRoZSBlcXVpcG1lbnQncyBhdHRyaWJ1dGVzIGNoYW5nZWQKICAgIGV2ZW50IENoYW5nZUZhc2hpb24oYWRkcmVzcyBpbmRleGVkIG93bmVyLCB1aW50MjU2IHRva2VuSWQsIHVpbnQxNiBjaGFuZ2VUeXBlKTsKCiAgICAvLy8gQGRldiBUaGlzIGVtaXRzIHdoZW4gdGhlIGVxdWlwbWVudCBkZXN0cm95ZWQKICAgIGV2ZW50IERlbGV0ZUZhc2hpb24oYWRkcmVzcyBpbmRleGVkIG93bmVyLCB1aW50MjU2IHRva2VuSWQsIHVpbnQxNiBkZWxldGVUeXBlKTsKICAgIAogICAgZnVuY3Rpb24gV2FyVG9rZW4oKSBwdWJsaWMgewogICAgICAgIGFkZHJBZG1pbiA9IG1zZy5zZW5kZXI7CiAgICAgICAgZmFzaGlvbkFycmF5Lmxlbmd0aCArPSAxOwogICAgfQoKICAgIC8vIG1vZGlmaWVyCiAgICAvLy8gQGRldiBDaGVjayBpZiB0b2tlbiBJRCBpcyB2YWxpZAogICAgbW9kaWZpZXIgaXNWYWxpZFRva2VuKHVpbnQyNTYgX3Rva2VuSWQpIHsKICAgICAgICByZXF1aXJlKF90b2tlbklkID49IDEgJiYgX3Rva2VuSWQgPD0gZmFzaGlvbkFycmF5Lmxlbmd0aCk7CiAgICAgICAgcmVxdWlyZShmYXNoaW9uSWRUb093bmVyW190b2tlbklkXSAhPSBhZGRyZXNzKDApKTsgCiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBjYW5UcmFuc2Zlcih1aW50MjU2IF90b2tlbklkKSB7CiAgICAgICAgYWRkcmVzcyBvd25lciA9IGZhc2hpb25JZFRvT3duZXJbX3Rva2VuSWRdOwogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lciB8fCBtc2cuc2VuZGVyID09IGZhc2hpb25JZFRvQXBwcm92YWxzW190b2tlbklkXSB8fCBvcGVyYXRvclRvQXBwcm92YWxzW293bmVyXVttc2cuc2VuZGVyXSk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLyBFUkM3MjEKICAgIGZ1bmN0aW9uIHN1cHBvcnRzSW50ZXJmYWNlKGJ5dGVzNCBfaW50ZXJmYWNlSWQpIGV4dGVybmFsIHZpZXcgcmV0dXJucyhib29sKSB7CiAgICAgICAgLy8gRVJDMTY1IHx8IEVSQzcyMSB8fCBFUkMxNjVeRVJDNzIxCiAgICAgICAgcmV0dXJuIChfaW50ZXJmYWNlSWQgPT0gMHgwMWZmYzlhNyB8fCBfaW50ZXJmYWNlSWQgPT0gMHg4MGFjNThjZCB8fCBfaW50ZXJmYWNlSWQgPT0gMHg4MTUzOTE2YSkgJiYgKF9pbnRlcmZhY2VJZCAhPSAweGZmZmZmZmZmKTsKICAgIH0KICAgICAgICAKICAgIGZ1bmN0aW9uIG5hbWUoKSBwdWJsaWMgcHVyZSByZXR1cm5zKHN0cmluZykgewogICAgICAgIHJldHVybiAiV0FSIFRva2VuIjsKICAgIH0KCiAgICBmdW5jdGlvbiBzeW1ib2woKSBwdWJsaWMgcHVyZSByZXR1cm5zKHN0cmluZykgewogICAgICAgIHJldHVybiAiV0FSIjsKICAgIH0KCiAgICAvLy8gQGRldiBTZWFyY2ggZm9yIHRva2VuIHF1YW50aXR5IGFkZHJlc3MKICAgIC8vLyBAcGFyYW0gX293bmVyIEFkZHJlc3MgdGhhdCBuZWVkcyB0byBiZSBzZWFyY2hlZAogICAgLy8vIEByZXR1cm4gUmV0dXJucyB0b2tlbiBxdWFudGl0eQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBleHRlcm5hbCB2aWV3IHJldHVybnModWludDI1NikgewogICAgICAgIHJlcXVpcmUoX293bmVyICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJldHVybiBvd25lclRvRmFzaGlvbkFycmF5W19vd25lcl0ubGVuZ3RoOwogICAgfQoKICAgIC8vLyBAZGV2IEZpbmQgdGhlIG93bmVyIG9mIGFuIFdBUgogICAgLy8vIEBwYXJhbSBfdG9rZW5JZCBUaGUgdG9rZW5JZCBvZiBXQVIKICAgIC8vLyBAcmV0dXJuIEdpdmUgVGhlIGFkZHJlc3Mgb2YgdGhlIG93bmVyIG9mIHRoaXMgV0FSCiAgICBmdW5jdGlvbiBvd25lck9mKHVpbnQyNTYgX3Rva2VuSWQpIGV4dGVybmFsIHZpZXcgLyppc1ZhbGlkVG9rZW4oX3Rva2VuSWQpKi8gcmV0dXJucyAoYWRkcmVzcyBvd25lcikgewogICAgICAgIHJldHVybiBmYXNoaW9uSWRUb093bmVyW190b2tlbklkXTsKICAgIH0KCiAgICAvLy8gQGRldiBUcmFuc2ZlcnMgdGhlIG93bmVyc2hpcCBvZiBhbiBXQVIgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyIGFkZHJlc3MKICAgIC8vLyBAcGFyYW0gX2Zyb20gVGhlIGN1cnJlbnQgb3duZXIgb2YgdGhlIFdBUgogICAgLy8vIEBwYXJhbSBfdG8gVGhlIG5ldyBvd25lcgogICAgLy8vIEBwYXJhbSBfdG9rZW5JZCBUaGUgV0FSIHRvIHRyYW5zZmVyCiAgICAvLy8gQHBhcmFtIGRhdGEgQWRkaXRpb25hbCBkYXRhIHdpdGggbm8gc3BlY2lmaWVkIGZvcm1hdCwgc2VudCBpbiBjYWxsIHRvIGBfdG9gCiAgICBmdW5jdGlvbiBzYWZlVHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkLCBieXRlcyBkYXRhKSAKICAgICAgICBleHRlcm5hbAogICAgICAgIHdoZW5Ob3RQYXVzZWQKICAgIHsKICAgICAgICBfc2FmZVRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdG9rZW5JZCwgZGF0YSk7CiAgICB9CgogICAgLy8vIEBkZXYgVHJhbnNmZXJzIHRoZSBvd25lcnNoaXAgb2YgYW4gV0FSIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlciBhZGRyZXNzCiAgICAvLy8gQHBhcmFtIF9mcm9tIFRoZSBjdXJyZW50IG93bmVyIG9mIHRoZSBXQVIKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBuZXcgb3duZXIKICAgIC8vLyBAcGFyYW0gX3Rva2VuSWQgVGhlIFdBUiB0byB0cmFuc2ZlcgogICAgZnVuY3Rpb24gc2FmZVRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgCiAgICAgICAgZXh0ZXJuYWwKICAgICAgICB3aGVuTm90UGF1c2VkCiAgICB7CiAgICAgICAgX3NhZmVUcmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3Rva2VuSWQsICIiKTsKICAgIH0KCiAgICAvLy8gQGRldiBUcmFuc2ZlciBvd25lcnNoaXAgb2YgYW4gV0FSLCAnX3RvJyBtdXN0IGJlIGEgdmFpbGQgYWRkcmVzcywgb3IgdGhlIFdBUiB3aWxsIGxvc3QKICAgIC8vLyBAcGFyYW0gX2Zyb20gVGhlIGN1cnJlbnQgb3duZXIgb2YgdGhlIFdBUgogICAgLy8vIEBwYXJhbSBfdG8gVGhlIG5ldyBvd25lcgogICAgLy8vIEBwYXJhbSBfdG9rZW5JZCBUaGUgV0FSIHRvIHRyYW5zZmVyCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpCiAgICAgICAgZXh0ZXJuYWwKICAgICAgICB3aGVuTm90UGF1c2VkCiAgICAgICAgaXNWYWxpZFRva2VuKF90b2tlbklkKQogICAgICAgIGNhblRyYW5zZmVyKF90b2tlbklkKQogICAgewogICAgICAgIGFkZHJlc3Mgb3duZXIgPSBmYXNoaW9uSWRUb093bmVyW190b2tlbklkXTsKICAgICAgICByZXF1aXJlKG93bmVyICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUob3duZXIgPT0gX2Zyb20pOwogICAgICAgIAogICAgICAgIF90cmFuc2ZlcihfZnJvbSwgX3RvLCBfdG9rZW5JZCk7CiAgICB9CgogICAgLy8vIEBkZXYgU2V0IG9yIHJlYWZmaXJtIHRoZSBhcHByb3ZlZCBhZGRyZXNzIGZvciBhbiBXQVIKICAgIC8vLyBAcGFyYW0gX2FwcHJvdmVkIFRoZSBuZXcgYXBwcm92ZWQgV0FSIGNvbnRyb2xsZXIKICAgIC8vLyBAcGFyYW0gX3Rva2VuSWQgVGhlIFdBUiB0byBhcHByb3ZlCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX2FwcHJvdmVkLCB1aW50MjU2IF90b2tlbklkKQogICAgICAgIGV4dGVybmFsCiAgICAgICAgd2hlbk5vdFBhdXNlZAogICAgewogICAgICAgIGFkZHJlc3Mgb3duZXIgPSBmYXNoaW9uSWRUb093bmVyW190b2tlbklkXTsKICAgICAgICByZXF1aXJlKG93bmVyICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lciB8fCBvcGVyYXRvclRvQXBwcm92YWxzW293bmVyXVttc2cuc2VuZGVyXSk7CgogICAgICAgIGZhc2hpb25JZFRvQXBwcm92YWxzW190b2tlbklkXSA9IF9hcHByb3ZlZDsKICAgICAgICBBcHByb3ZhbChvd25lciwgX2FwcHJvdmVkLCBfdG9rZW5JZCk7CiAgICB9CgogICAgLy8vIEBkZXYgRW5hYmxlIG9yIGRpc2FibGUgYXBwcm92YWwgZm9yIGEgdGhpcmQgcGFydHkgKCJvcGVyYXRvciIpIHRvIG1hbmFnZSBhbGwgeW91ciBhc3NldC4KICAgIC8vLyBAcGFyYW0gX29wZXJhdG9yIEFkZHJlc3MgdG8gYWRkIHRvIHRoZSBzZXQgb2YgYXV0aG9yaXplZCBvcGVyYXRvcnMuCiAgICAvLy8gQHBhcmFtIF9hcHByb3ZlZCBUcnVlIGlmIHRoZSBvcGVyYXRvcnMgaXMgYXBwcm92ZWQsIGZhbHNlIHRvIHJldm9rZSBhcHByb3ZhbAogICAgZnVuY3Rpb24gc2V0QXBwcm92YWxGb3JBbGwoYWRkcmVzcyBfb3BlcmF0b3IsIGJvb2wgX2FwcHJvdmVkKSAKICAgICAgICBleHRlcm5hbCAKICAgICAgICB3aGVuTm90UGF1c2VkCiAgICB7CiAgICAgICAgb3BlcmF0b3JUb0FwcHJvdmFsc1ttc2cuc2VuZGVyXVtfb3BlcmF0b3JdID0gX2FwcHJvdmVkOwogICAgICAgIEFwcHJvdmFsRm9yQWxsKG1zZy5zZW5kZXIsIF9vcGVyYXRvciwgX2FwcHJvdmVkKTsKICAgIH0KCiAgICAvLy8gQGRldiBHZXQgdGhlIGFwcHJvdmVkIGFkZHJlc3MgZm9yIGEgc2luZ2xlIFdBUgogICAgLy8vIEBwYXJhbSBfdG9rZW5JZCBUaGUgV0FSIHRvIGZpbmQgdGhlIGFwcHJvdmVkIGFkZHJlc3MgZm9yCiAgICAvLy8gQHJldHVybiBUaGUgYXBwcm92ZWQgYWRkcmVzcyBmb3IgdGhpcyBXQVIsIG9yIHRoZSB6ZXJvIGFkZHJlc3MgaWYgdGhlcmUgaXMgbm9uZQogICAgZnVuY3Rpb24gZ2V0QXBwcm92ZWQodWludDI1NiBfdG9rZW5JZCkgZXh0ZXJuYWwgdmlldyBpc1ZhbGlkVG9rZW4oX3Rva2VuSWQpIHJldHVybnMgKGFkZHJlc3MpIHsKICAgICAgICByZXR1cm4gZmFzaGlvbklkVG9BcHByb3ZhbHNbX3Rva2VuSWRdOwogICAgfQoKICAgIC8vLyBAZGV2IFF1ZXJ5IGlmIGFuIGFkZHJlc3MgaXMgYW4gYXV0aG9yaXplZCBvcGVyYXRvciBmb3IgYW5vdGhlciBhZGRyZXNzCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0aGF0IG93bnMgdGhlIFdBUnMKICAgIC8vLyBAcGFyYW0gX29wZXJhdG9yIFRoZSBhZGRyZXNzIHRoYXQgYWN0cyBvbiBiZWhhbGYgb2YgdGhlIG93bmVyCiAgICAvLy8gQHJldHVybiBUcnVlIGlmIGBfb3BlcmF0b3JgIGlzIGFuIGFwcHJvdmVkIG9wZXJhdG9yIGZvciBgX293bmVyYCwgZmFsc2Ugb3RoZXJ3aXNlCiAgICBmdW5jdGlvbiBpc0FwcHJvdmVkRm9yQWxsKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9vcGVyYXRvcikgZXh0ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIG9wZXJhdG9yVG9BcHByb3ZhbHNbX293bmVyXVtfb3BlcmF0b3JdOwogICAgfQoKICAgIC8vLyBAZGV2IENvdW50IFdBUnMgdHJhY2tlZCBieSB0aGlzIGNvbnRyYWN0CiAgICAvLy8gQHJldHVybiBBIGNvdW50IG9mIHZhbGlkIFdBUnMgdHJhY2tlZCBieSB0aGlzIGNvbnRyYWN0LCB3aGVyZSBlYWNoIG9uZSBvZgogICAgLy8vICB0aGVtIGhhcyBhbiBhc3NpZ25lZCBhbmQgcXVlcnlhYmxlIG93bmVyIG5vdCBlcXVhbCB0byB0aGUgemVybyBhZGRyZXNzCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGV4dGVybmFsIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBmYXNoaW9uQXJyYXkubGVuZ3RoIC0gZGVzdHJveUZhc2hpb25Db3VudCAtIDE7CiAgICB9CgogICAgLy8vIEBkZXYgRG8gdGhlIHJlYWwgdHJhbnNmZXIgd2l0aCBvdXQgYW55IGNvbmRpdGlvbiBjaGVja2luZwogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgb2xkIG93bmVyIG9mIHRoaXMgV0FSKElmIGNyZWF0ZWQ6IDB4MCkKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBuZXcgb3duZXIgb2YgdGhpcyBXQVIgCiAgICAvLy8gQHBhcmFtIF90b2tlbklkIFRoZSB0b2tlbklkIG9mIHRoZSBXQVIKICAgIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgaW50ZXJuYWwgewogICAgICAgIGlmIChfZnJvbSAhPSBhZGRyZXNzKDApKSB7CiAgICAgICAgICAgIHVpbnQyNTYgaW5kZXhGcm9tID0gZmFzaGlvbklkVG9Pd25lckluZGV4W190b2tlbklkXTsKICAgICAgICAgICAgdWludDI1NltdIHN0b3JhZ2UgZnNBcnJheSA9IG93bmVyVG9GYXNoaW9uQXJyYXlbX2Zyb21dOwogICAgICAgICAgICByZXF1aXJlKGZzQXJyYXlbaW5kZXhGcm9tXSA9PSBfdG9rZW5JZCk7CgogICAgICAgICAgICAvLyBJZiB0aGUgV0FSIGlzIG5vdCB0aGUgZWxlbWVudCBvZiBhcnJheSwgY2hhbmdlIGl0IHRvIHdpdGggdGhlIGxhc3QKICAgICAgICAgICAgaWYgKGluZGV4RnJvbSAhPSBmc0FycmF5Lmxlbmd0aCAtIDEpIHsKICAgICAgICAgICAgICAgIHVpbnQyNTYgbGFzdFRva2VuSWQgPSBmc0FycmF5W2ZzQXJyYXkubGVuZ3RoIC0gMV07CiAgICAgICAgICAgICAgICBmc0FycmF5W2luZGV4RnJvbV0gPSBsYXN0VG9rZW5JZDsgCiAgICAgICAgICAgICAgICBmYXNoaW9uSWRUb093bmVySW5kZXhbbGFzdFRva2VuSWRdID0gaW5kZXhGcm9tOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZzQXJyYXkubGVuZ3RoIC09IDE7IAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGZhc2hpb25JZFRvQXBwcm92YWxzW190b2tlbklkXSAhPSBhZGRyZXNzKDApKSB7CiAgICAgICAgICAgICAgICBkZWxldGUgZmFzaGlvbklkVG9BcHByb3ZhbHNbX3Rva2VuSWRdOwogICAgICAgICAgICB9ICAgICAgCiAgICAgICAgfQoKICAgICAgICAvLyBHaXZlIHRoZSBXQVIgdG8gJ190bycKICAgICAgICBmYXNoaW9uSWRUb093bmVyW190b2tlbklkXSA9IF90bzsKICAgICAgICBvd25lclRvRmFzaGlvbkFycmF5W190b10ucHVzaChfdG9rZW5JZCk7CiAgICAgICAgZmFzaGlvbklkVG9Pd25lckluZGV4W190b2tlbklkXSA9IG93bmVyVG9GYXNoaW9uQXJyYXlbX3RvXS5sZW5ndGggLSAxOwogICAgICAgIAogICAgICAgIFRyYW5zZmVyKF9mcm9tICE9IGFkZHJlc3MoMCkgPyBfZnJvbSA6IHRoaXMsIF90bywgX3Rva2VuSWQpOwogICAgfQoKICAgIC8vLyBAZGV2IEFjdHVhbGx5IHBlcmZvcm0gdGhlIHNhZmVUcmFuc2ZlckZyb20KICAgIGZ1bmN0aW9uIF9zYWZlVHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkLCBieXRlcyBkYXRhKSAKICAgICAgICBpbnRlcm5hbAogICAgICAgIGlzVmFsaWRUb2tlbihfdG9rZW5JZCkgCiAgICAgICAgY2FuVHJhbnNmZXIoX3Rva2VuSWQpCiAgICB7CiAgICAgICAgYWRkcmVzcyBvd25lciA9IGZhc2hpb25JZFRvT3duZXJbX3Rva2VuSWRdOwogICAgICAgIHJlcXVpcmUob3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShvd25lciA9PSBfZnJvbSk7CiAgICAgICAgCiAgICAgICAgX3RyYW5zZmVyKF9mcm9tLCBfdG8sIF90b2tlbklkKTsKCiAgICAgICAgLy8gRG8gdGhlIGNhbGxiYWNrIGFmdGVyIGV2ZXJ5dGhpbmcgaXMgZG9uZSB0byBhdm9pZCByZWVudHJhbmN5IGF0dGFjawogICAgICAgIHVpbnQyNTYgY29kZVNpemU7CiAgICAgICAgYXNzZW1ibHkgeyBjb2RlU2l6ZSA6PSBleHRjb2Rlc2l6ZShfdG8pIH0KICAgICAgICBpZiAoY29kZVNpemUgPT0gMCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGJ5dGVzNCByZXR2YWwgPSBFUkM3MjFUb2tlblJlY2VpdmVyKF90bykub25FUkM3MjFSZWNlaXZlZChfZnJvbSwgX3Rva2VuSWQsIGRhdGEpOwogICAgICAgIC8vIGJ5dGVzNChrZWNjYWsyNTYoIm9uRVJDNzIxUmVjZWl2ZWQoYWRkcmVzcyx1aW50MjU2LGJ5dGVzKSIpKSA9IDB4ZjBiOWU1YmE7CiAgICAgICAgcmVxdWlyZShyZXR2YWwgPT0gMHhmMGI5ZTViYSk7CiAgICB9CgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgLy8vIEBkZXYgRXF1aXBtZW50IGNyZWF0aW9uCiAgICAvLy8gQHBhcmFtIF9vd25lciBPd25lciBvZiB0aGUgZXF1aXBtZW50IGNyZWF0ZWQKICAgIC8vLyBAcGFyYW0gX2F0dHJzIEF0dHJpYnV0ZXMgb2YgdGhlIGVxdWlwbWVudCBjcmVhdGVkCiAgICAvLy8gQHJldHVybiBUb2tlbiBJRCBvZiB0aGUgZXF1aXBtZW50IGNyZWF0ZWQKICAgIGZ1bmN0aW9uIGNyZWF0ZUZhc2hpb24oYWRkcmVzcyBfb3duZXIsIHVpbnQxNls5XSBfYXR0cnMpIAogICAgICAgIGV4dGVybmFsIAogICAgICAgIHdoZW5Ob3RQYXVzZWQKICAgICAgICByZXR1cm5zKHVpbnQyNTYpCiAgICB7CiAgICAgICAgcmVxdWlyZShhY3Rpb25Db250cmFjdHNbbXNnLnNlbmRlcl0pOwogICAgICAgIHJlcXVpcmUoX293bmVyICE9IGFkZHJlc3MoMCkpOwoKICAgICAgICB1aW50MjU2IG5ld0Zhc2hpb25JZCA9IGZhc2hpb25BcnJheS5sZW5ndGg7CiAgICAgICAgcmVxdWlyZShuZXdGYXNoaW9uSWQgPCA0Mjk0OTY3Mjk2KTsKCiAgICAgICAgZmFzaGlvbkFycmF5Lmxlbmd0aCArPSAxOwogICAgICAgIEZhc2hpb24gc3RvcmFnZSBmcyA9IGZhc2hpb25BcnJheVtuZXdGYXNoaW9uSWRdOwogICAgICAgIGZzLnByb3RvSWQgPSBfYXR0cnNbMF07CiAgICAgICAgZnMucXVhbGl0eSA9IF9hdHRyc1sxXTsKICAgICAgICBmcy5wb3MgPSBfYXR0cnNbMl07CiAgICAgICAgaWYgKF9hdHRyc1szXSAhPSAwKSB7CiAgICAgICAgICAgIGZzLmhlYWx0aCA9IF9hdHRyc1szXTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKF9hdHRyc1s0XSAhPSAwKSB7CiAgICAgICAgICAgIGZzLmF0a01pbiA9IF9hdHRyc1s0XTsKICAgICAgICAgICAgZnMuYXRrTWF4ID0gX2F0dHJzWzVdOwogICAgICAgIH0KICAgICAgIAogICAgICAgIGlmIChfYXR0cnNbNl0gIT0gMCkgewogICAgICAgICAgICBmcy5kZWZlbmNlID0gX2F0dHJzWzZdOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBpZiAoX2F0dHJzWzddICE9IDApIHsKICAgICAgICAgICAgZnMuY3JpdCA9IF9hdHRyc1s3XTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgX3RyYW5zZmVyKDAsIF9vd25lciwgbmV3RmFzaGlvbklkKTsKICAgICAgICBDcmVhdGVGYXNoaW9uKF9vd25lciwgbmV3RmFzaGlvbklkLCBfYXR0cnNbMF0sIF9hdHRyc1sxXSwgX2F0dHJzWzJdLCBfYXR0cnNbOF0pOwogICAgICAgIHJldHVybiBuZXdGYXNoaW9uSWQ7CiAgICB9CgogICAgLy8vIEBkZXYgT25lIHNwZWNpZmljIGF0dHJpYnV0ZSBvZiB0aGUgZXF1aXBtZW50IG1vZGlmaWVkCiAgICBmdW5jdGlvbiBfY2hhbmdlQXR0ckJ5SW5kZXgoRmFzaGlvbiBzdG9yYWdlIF9mcywgdWludDE2IF9pbmRleCwgdWludDE2IF92YWwpIGludGVybmFsIHsKICAgICAgICBpZiAoX2luZGV4ID09IDMpIHsKICAgICAgICAgICAgX2ZzLmhlYWx0aCA9IF92YWw7CiAgICAgICAgfSBlbHNlIGlmKF9pbmRleCA9PSA0KSB7CiAgICAgICAgICAgIF9mcy5hdGtNaW4gPSBfdmFsOwogICAgICAgIH0gZWxzZSBpZihfaW5kZXggPT0gNSkgewogICAgICAgICAgICBfZnMuYXRrTWF4ID0gX3ZhbDsKICAgICAgICB9IGVsc2UgaWYoX2luZGV4ID09IDYpIHsKICAgICAgICAgICAgX2ZzLmRlZmVuY2UgPSBfdmFsOwogICAgICAgIH0gZWxzZSBpZihfaW5kZXggPT0gNykgewogICAgICAgICAgICBfZnMuY3JpdCA9IF92YWw7CiAgICAgICAgfSBlbHNlIGlmKF9pbmRleCA9PSA4KSB7CiAgICAgICAgICAgIF9mcy5hdHRyRXh0MSA9IF92YWw7CiAgICAgICAgfSBlbHNlIGlmKF9pbmRleCA9PSA5KSB7CiAgICAgICAgICAgIF9mcy5hdHRyRXh0MiA9IF92YWw7CiAgICAgICAgfSBlbHNlIGlmKF9pbmRleCA9PSAxMCkgewogICAgICAgICAgICBfZnMuYXR0ckV4dDMgPSBfdmFsOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF9mcy5hdHRyRXh0NCA9IF92YWw7CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBAZGV2IEVxdWltZW50IGF0dHJpYnV0ZXMgbW9kaWZpZWQgKG1heCA0IHN0YXRzIG1vZGlmaWVkKQogICAgLy8vIEBwYXJhbSBfdG9rZW5JZCBFcXVpcG1lbnQgVG9rZW4gSUQKICAgIC8vLyBAcGFyYW0gX2lkeEFycmF5IFN0YXRzIG9yZGVyIHRoYXQgbXVzdCBiZSBtb2RpZmllZAogICAgLy8vIEBwYXJhbSBfcGFyYW1zIFN0YXQgdmFsdWUgdGhhdCBtdXN0IGJlIG1vZGlmaWVkCiAgICAvLy8gQHBhcmFtIF9jaGFuZ2VUeXBlIE1vZGlmaWNhdGlvbiB0eXBlIHN1Y2ggYXMgZW5oYW5jZSwgc29ja2V0LCBldGMuCiAgICBmdW5jdGlvbiBjaGFuZ2VGYXNoaW9uQXR0cih1aW50MjU2IF90b2tlbklkLCB1aW50MTZbNF0gX2lkeEFycmF5LCB1aW50MTZbNF0gX3BhcmFtcywgdWludDE2IF9jaGFuZ2VUeXBlKSAKICAgICAgICBleHRlcm5hbCAKICAgICAgICB3aGVuTm90UGF1c2VkCiAgICAgICAgaXNWYWxpZFRva2VuKF90b2tlbklkKSAKICAgIHsKICAgICAgICByZXF1aXJlKGFjdGlvbkNvbnRyYWN0c1ttc2cuc2VuZGVyXSk7CgogICAgICAgIEZhc2hpb24gc3RvcmFnZSBmcyA9IGZhc2hpb25BcnJheVtfdG9rZW5JZF07CiAgICAgICAgaWYgKF9pZHhBcnJheVswXSA+IDApIHsKICAgICAgICAgICAgX2NoYW5nZUF0dHJCeUluZGV4KGZzLCBfaWR4QXJyYXlbMF0sIF9wYXJhbXNbMF0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKF9pZHhBcnJheVsxXSA+IDApIHsKICAgICAgICAgICAgX2NoYW5nZUF0dHJCeUluZGV4KGZzLCBfaWR4QXJyYXlbMV0sIF9wYXJhbXNbMV0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKF9pZHhBcnJheVsyXSA+IDApIHsKICAgICAgICAgICAgX2NoYW5nZUF0dHJCeUluZGV4KGZzLCBfaWR4QXJyYXlbMl0sIF9wYXJhbXNbMl0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKF9pZHhBcnJheVszXSA+IDApIHsKICAgICAgICAgICAgX2NoYW5nZUF0dHJCeUluZGV4KGZzLCBfaWR4QXJyYXlbM10sIF9wYXJhbXNbM10pOwogICAgICAgIH0KCiAgICAgICAgQ2hhbmdlRmFzaGlvbihmYXNoaW9uSWRUb093bmVyW190b2tlbklkXSwgX3Rva2VuSWQsIF9jaGFuZ2VUeXBlKTsKICAgIH0KCiAgICAvLy8gQGRldiBFcXVpcG1lbnQgZGVzdHJ1Y3Rpb24KICAgIC8vLyBAcGFyYW0gX3Rva2VuSWQgRXF1aXBtZW50IFRva2VuIElECiAgICAvLy8gQHBhcmFtIF9kZWxldGVUeXBlIERlc3RydWN0aW9uIHR5cGUsIHN1Y2ggYXMgY3JhZnQKICAgIGZ1bmN0aW9uIGRlc3Ryb3lGYXNoaW9uKHVpbnQyNTYgX3Rva2VuSWQsIHVpbnQxNiBfZGVsZXRlVHlwZSkKICAgICAgICBleHRlcm5hbCAKICAgICAgICB3aGVuTm90UGF1c2VkCiAgICAgICAgaXNWYWxpZFRva2VuKF90b2tlbklkKSAKICAgIHsKICAgICAgICByZXF1aXJlKGFjdGlvbkNvbnRyYWN0c1ttc2cuc2VuZGVyXSk7CgogICAgICAgIGFkZHJlc3MgX2Zyb20gPSBmYXNoaW9uSWRUb093bmVyW190b2tlbklkXTsKICAgICAgICB1aW50MjU2IGluZGV4RnJvbSA9IGZhc2hpb25JZFRvT3duZXJJbmRleFtfdG9rZW5JZF07CiAgICAgICAgdWludDI1NltdIHN0b3JhZ2UgZnNBcnJheSA9IG93bmVyVG9GYXNoaW9uQXJyYXlbX2Zyb21dOyAKICAgICAgICByZXF1aXJlKGZzQXJyYXlbaW5kZXhGcm9tXSA9PSBfdG9rZW5JZCk7CgogICAgICAgIGlmIChpbmRleEZyb20gIT0gZnNBcnJheS5sZW5ndGggLSAxKSB7CiAgICAgICAgICAgIHVpbnQyNTYgbGFzdFRva2VuSWQgPSBmc0FycmF5W2ZzQXJyYXkubGVuZ3RoIC0gMV07CiAgICAgICAgICAgIGZzQXJyYXlbaW5kZXhGcm9tXSA9IGxhc3RUb2tlbklkOyAKICAgICAgICAgICAgZmFzaGlvbklkVG9Pd25lckluZGV4W2xhc3RUb2tlbklkXSA9IGluZGV4RnJvbTsKICAgICAgICB9CiAgICAgICAgZnNBcnJheS5sZW5ndGggLT0gMTsgCgogICAgICAgIGZhc2hpb25JZFRvT3duZXJbX3Rva2VuSWRdID0gYWRkcmVzcygwKTsKICAgICAgICBkZWxldGUgZmFzaGlvbklkVG9Pd25lckluZGV4W190b2tlbklkXTsKICAgICAgICBkZXN0cm95RmFzaGlvbkNvdW50ICs9IDE7CgogICAgICAgIFRyYW5zZmVyKF9mcm9tLCAwLCBfdG9rZW5JZCk7CgogICAgICAgIERlbGV0ZUZhc2hpb24oX2Zyb20sIF90b2tlbklkLCBfZGVsZXRlVHlwZSk7CiAgICB9CgogICAgLy8vIEBkZXYgU2FmZSB0cmFuc2ZlciBieSB0cnVzdCBjb250cmFjdHMKICAgIGZ1bmN0aW9uIHNhZmVUcmFuc2ZlckJ5Q29udHJhY3QodWludDI1NiBfdG9rZW5JZCwgYWRkcmVzcyBfdG8pIAogICAgICAgIGV4dGVybmFsCiAgICAgICAgd2hlbk5vdFBhdXNlZAogICAgewogICAgICAgIHJlcXVpcmUoYWN0aW9uQ29udHJhY3RzW21zZy5zZW5kZXJdKTsKCiAgICAgICAgcmVxdWlyZShfdG9rZW5JZCA+PSAxICYmIF90b2tlbklkIDw9IGZhc2hpb25BcnJheS5sZW5ndGgpOwogICAgICAgIGFkZHJlc3Mgb3duZXIgPSBmYXNoaW9uSWRUb093bmVyW190b2tlbklkXTsKICAgICAgICByZXF1aXJlKG93bmVyICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUob3duZXIgIT0gX3RvKTsKCiAgICAgICAgX3RyYW5zZmVyKG93bmVyLCBfdG8sIF90b2tlbklkKTsKICAgIH0KCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAvLy8gQGRldiBHZXQgZmFzaGlvbiBhdHRycyBieSB0b2tlbklkCiAgICBmdW5jdGlvbiBnZXRGYXNoaW9uKHVpbnQyNTYgX3Rva2VuSWQpIGV4dGVybmFsIHZpZXcgaXNWYWxpZFRva2VuKF90b2tlbklkKSByZXR1cm5zICh1aW50MTZbMTJdIGRhdGFzKSB7CiAgICAgICAgRmFzaGlvbiBzdG9yYWdlIGZzID0gZmFzaGlvbkFycmF5W190b2tlbklkXTsKICAgICAgICBkYXRhc1swXSA9IGZzLnByb3RvSWQ7CiAgICAgICAgZGF0YXNbMV0gPSBmcy5xdWFsaXR5OwogICAgICAgIGRhdGFzWzJdID0gZnMucG9zOwogICAgICAgIGRhdGFzWzNdID0gZnMuaGVhbHRoOwogICAgICAgIGRhdGFzWzRdID0gZnMuYXRrTWluOwogICAgICAgIGRhdGFzWzVdID0gZnMuYXRrTWF4OwogICAgICAgIGRhdGFzWzZdID0gZnMuZGVmZW5jZTsKICAgICAgICBkYXRhc1s3XSA9IGZzLmNyaXQ7CiAgICAgICAgZGF0YXNbOF0gPSBmcy5hdHRyRXh0MTsKICAgICAgICBkYXRhc1s5XSA9IGZzLmF0dHJFeHQyOwogICAgICAgIGRhdGFzWzEwXSA9IGZzLmF0dHJFeHQzOwogICAgICAgIGRhdGFzWzExXSA9IGZzLmF0dHJFeHQ0OwogICAgfQoKICAgIC8vLyBAZGV2IEdldCB0b2tlbklkcyBhbmQgZmxhZ3MgYnkgb3duZXIKICAgIGZ1bmN0aW9uIGdldE93bkZhc2hpb25zKGFkZHJlc3MgX293bmVyKSBleHRlcm5hbCB2aWV3IHJldHVybnModWludDI1NltdIHRva2VucywgdWludDMyW10gZmxhZ3MpIHsKICAgICAgICByZXF1aXJlKF9vd25lciAhPSBhZGRyZXNzKDApKTsKICAgICAgICB1aW50MjU2W10gc3RvcmFnZSBmc0FycmF5ID0gb3duZXJUb0Zhc2hpb25BcnJheVtfb3duZXJdOwogICAgICAgIHVpbnQyNTYgbGVuZ3RoID0gZnNBcnJheS5sZW5ndGg7CiAgICAgICAgdG9rZW5zID0gbmV3IHVpbnQyNTZbXShsZW5ndGgpOwogICAgICAgIGZsYWdzID0gbmV3IHVpbnQzMltdKGxlbmd0aCk7CiAgICAgICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgdG9rZW5zW2ldID0gZnNBcnJheVtpXTsKICAgICAgICAgICAgRmFzaGlvbiBzdG9yYWdlIGZzID0gZmFzaGlvbkFycmF5W2ZzQXJyYXlbaV1dOwogICAgICAgICAgICBmbGFnc1tpXSA9IHVpbnQzMih1aW50MzIoZnMucHJvdG9JZCkgKiAxMDAgKyB1aW50MzIoZnMucXVhbGl0eSkgKiAxMCArIGZzLnBvcyk7CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBAZGV2IFdBUiB0b2tlbiBpbmZvIHJldHVybmVkIGJhc2VkIG9uIFRva2VuIElEIHRyYW5zZmVyZWQgKDY0IGF0IG1vc3QpCiAgICBmdW5jdGlvbiBnZXRGYXNoaW9uc0F0dHJzKHVpbnQyNTZbXSBfdG9rZW5zKSBleHRlcm5hbCB2aWV3IHJldHVybnModWludDE2W10gYXR0cnMpIHsKICAgICAgICB1aW50MjU2IGxlbmd0aCA9IF90b2tlbnMubGVuZ3RoOwogICAgICAgIHJlcXVpcmUobGVuZ3RoIDw9IDY0KTsKICAgICAgICBhdHRycyA9IG5ldyB1aW50MTZbXShsZW5ndGggKiAxMSk7CiAgICAgICAgdWludDI1NiB0b2tlbklkOwogICAgICAgIHVpbnQyNTYgaW5kZXg7CiAgICAgICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgdG9rZW5JZCA9IF90b2tlbnNbaV07CiAgICAgICAgICAgIGlmIChmYXNoaW9uSWRUb093bmVyW3Rva2VuSWRdICE9IGFkZHJlc3MoMCkpIHsKICAgICAgICAgICAgICAgIGluZGV4ID0gaSAqIDExOwogICAgICAgICAgICAgICAgRmFzaGlvbiBzdG9yYWdlIGZzID0gZmFzaGlvbkFycmF5W3Rva2VuSWRdOwogICAgICAgICAgICAgICAgYXR0cnNbaW5kZXhdID0gZnMuaGVhbHRoOwogICAgICAgICAgICAgICAgYXR0cnNbaW5kZXggKyAxXSA9IGZzLmF0a01pbjsKICAgICAgICAgICAgICAgIGF0dHJzW2luZGV4ICsgMl0gPSBmcy5hdGtNYXg7CiAgICAgICAgICAgICAgICBhdHRyc1tpbmRleCArIDNdID0gZnMuZGVmZW5jZTsKICAgICAgICAgICAgICAgIGF0dHJzW2luZGV4ICsgNF0gPSBmcy5jcml0OwogICAgICAgICAgICAgICAgYXR0cnNbaW5kZXggKyA1XSA9IGZzLmF0dHJFeHQxOwogICAgICAgICAgICAgICAgYXR0cnNbaW5kZXggKyA2XSA9IGZzLmF0dHJFeHQyOwogICAgICAgICAgICAgICAgYXR0cnNbaW5kZXggKyA3XSA9IGZzLmF0dHJFeHQzOwogICAgICAgICAgICAgICAgYXR0cnNbaW5kZXggKyA4XSA9IGZzLmF0dHJFeHQ0OwogICAgICAgICAgICB9ICAgCiAgICAgICAgfQogICAgfQp9Cgpjb250cmFjdCBBY3Rpb25QcmVzZWxsIGlzIEFjY2Vzc1NlcnZpY2UgewogICAgV2FyVG9rZW4gdG9rZW5Db250cmFjdDsKICAgIG1hcHBpbmcgKHVpbnQxNiA9PiB1aW50MTYpIHBldFByZXNlbGxDb3VudGVyOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MTZbXSkgcHJlc2VsbExpbWl0OwoKICAgIGV2ZW50IFBldFByZVNlbGxlZChhZGRyZXNzIGluZGV4ZWQgYnV5ZXIsIHVpbnQxNiBwcm90b0lkKTsKCiAgICBmdW5jdGlvbiBBY3Rpb25QcmVzZWxsKGFkZHJlc3MgX25mdEFkZHIpIHB1YmxpYyB7CiAgICAgICAgYWRkckFkbWluID0gbXNnLnNlbmRlcjsKICAgICAgICBhZGRyU2VydmljZSA9IG1zZy5zZW5kZXI7CiAgICAgICAgYWRkckZpbmFuY2UgPSBtc2cuc2VuZGVyOwoKICAgICAgICB0b2tlbkNvbnRyYWN0ID0gV2FyVG9rZW4oX25mdEFkZHIpOwoKICAgICAgICBwZXRQcmVzZWxsQ291bnRlclsxMDAwMV0gPSA1MDsKICAgICAgICBwZXRQcmVzZWxsQ291bnRlclsxMDAwMl0gPSAzMDsKICAgICAgICBwZXRQcmVzZWxsQ291bnRlclsxMDAwM10gPSA1MDsKICAgICAgICBwZXRQcmVzZWxsQ291bnRlclsxMDAwNF0gPSAzMDsKICAgICAgICBwZXRQcmVzZWxsQ291bnRlclsxMDAwNV0gPSAzMDsKICAgIH0KCiAgICBmdW5jdGlvbigpIGV4dGVybmFsIHBheWFibGUgewoKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRXYXJUb2tlbkFkZHIoYWRkcmVzcyBfbmZ0QWRkcikgZXh0ZXJuYWwgb25seUFkbWluIHsKICAgICAgICB0b2tlbkNvbnRyYWN0ID0gV2FyVG9rZW4oX25mdEFkZHIpOwogICAgfQoKICAgIGZ1bmN0aW9uIHBldFByZXNlbGwodWludDE2IF9wcm90b0lkKSAKICAgICAgICBleHRlcm5hbAogICAgICAgIHBheWFibGUKICAgICAgICB3aGVuTm90UGF1c2VkIAogICAgewogICAgICAgIHVpbnQxNiBjdXJTdXBwbHkgPSBwZXRQcmVzZWxsQ291bnRlcltfcHJvdG9JZF07CiAgICAgICAgcmVxdWlyZShjdXJTdXBwbHkgPiAwKTsKICAgICAgICB1aW50MTZbXSBzdG9yYWdlIGJ1eUFycmF5ID0gcHJlc2VsbExpbWl0W21zZy5zZW5kZXJdOwogICAgICAgIHVpbnQyNTYgY3VyQnV5Q250ID0gYnV5QXJyYXkubGVuZ3RoOwogICAgICAgIHJlcXVpcmUoY3VyQnV5Q250IDwgMTApOwoKICAgICAgICB1aW50MjU2IHBheUJhY2sgPSAwOwogICAgICAgIGlmIChfcHJvdG9JZCA9PSAxMDAwMSkgewogICAgICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSAwLjY2IGV0aGVyKTsKICAgICAgICAgICAgcGF5QmFjayA9IChtc2cudmFsdWUgLSAwLjY2IGV0aGVyKTsKICAgICAgICAgICAgdWludDE2WzldIG1lbW9yeSBwYXJhbTEgPSBbMTAwMDEsIDUsIDksIDQwMCwgMCwgMCwgMCwgMCwgMV07ICAgICAgIC8vIGhwICs0MDAKICAgICAgICAgICAgdG9rZW5Db250cmFjdC5jcmVhdGVGYXNoaW9uKG1zZy5zZW5kZXIsIHBhcmFtMSk7CiAgICAgICAgICAgIGJ1eUFycmF5LnB1c2goMTAwMDEpOwogICAgICAgIH0gZWxzZSBpZihfcHJvdG9JZCA9PSAxMDAwMikgewogICAgICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSAwLjk5IGV0aGVyKTsKICAgICAgICAgICAgcGF5QmFjayA9IChtc2cudmFsdWUgLSAwLjk5IGV0aGVyKTsKICAgICAgICAgICAgdWludDE2WzldIG1lbW9yeSBwYXJhbTIgPSBbMTAwMDIsIDUsIDksIDAsIDYwLCA2MCwgMCwgMCwgMV07ICAgICAgIC8vIGF0ayArNjAKICAgICAgICAgICAgdG9rZW5Db250cmFjdC5jcmVhdGVGYXNoaW9uKG1zZy5zZW5kZXIsIHBhcmFtMik7CiAgICAgICAgICAgIGJ1eUFycmF5LnB1c2goMTAwMDIpOwogICAgICAgIH0gZWxzZSBpZihfcHJvdG9JZCA9PSAxMDAwMykgewogICAgICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSAwLjY2IGV0aGVyKTsKICAgICAgICAgICAgcGF5QmFjayA9IChtc2cudmFsdWUgLSAwLjY2IGV0aGVyKTsKICAgICAgICAgICAgdWludDE2WzldIG1lbW9yeSBwYXJhbTMgPSBbMTAwMDMsIDUsIDksIDAsIDAsIDAsIDQwLCAwLCAxXTsgICAgICAgIC8vIGRlZiArNDAKICAgICAgICAgICAgdG9rZW5Db250cmFjdC5jcmVhdGVGYXNoaW9uKG1zZy5zZW5kZXIsIHBhcmFtMyk7CiAgICAgICAgICAgIGJ1eUFycmF5LnB1c2goMTAwMDMpOwogICAgICAgIH0gZWxzZSBpZihfcHJvdG9JZCA9PSAxMDAwNCkgewogICAgICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSAwLjk5IGV0aGVyKTsKICAgICAgICAgICAgcGF5QmFjayA9IChtc2cudmFsdWUgLSAwLjk5IGV0aGVyKTsKICAgICAgICAgICAgdWludDE2WzldIG1lbW9yeSBwYXJhbTQgPSBbMTAwMDQsIDUsIDksIDAsIDAsIDAsIDAsIDMsIDFdOyAgICAgICAgIC8vIGNyaXQgKzMKICAgICAgICAgICAgdG9rZW5Db250cmFjdC5jcmVhdGVGYXNoaW9uKG1zZy5zZW5kZXIsIHBhcmFtNCk7CiAgICAgICAgICAgIGJ1eUFycmF5LnB1c2goMTAwMDQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IDAuOTkgZXRoZXIpOwogICAgICAgICAgICBwYXlCYWNrID0gKG1zZy52YWx1ZSAtIDAuOTkgZXRoZXIpOwogICAgICAgICAgICB1aW50MTZbOV0gbWVtb3J5IHBhcmFtNSA9IFsxMDAwNSwgNSwgOSwgMjAwLCAyMCwgMjAsIDIwLCAwLCAxXTsgICAgLy8gaHAgKzIwMCwgYXRrICsyMCwgZGVmICsyMAogICAgICAgICAgICB0b2tlbkNvbnRyYWN0LmNyZWF0ZUZhc2hpb24obXNnLnNlbmRlciwgcGFyYW01KTsKICAgICAgICAgICAgYnV5QXJyYXkucHVzaCgxMDAwNSk7CiAgICAgICAgfQoKICAgICAgICBwZXRQcmVzZWxsQ291bnRlcltfcHJvdG9JZF0gPSAoY3VyU3VwcGx5IC0gMSk7CgogICAgICAgIFBldFByZVNlbGxlZChtc2cuc2VuZGVyLCBfcHJvdG9JZCk7CgogICAgICAgIGFkZHJGaW5hbmNlLnRyYW5zZmVyKG1zZy52YWx1ZSAtIHBheUJhY2spOyAgICAgICAgLy8gbmVlZCAyMzAwIGdhcyAtXy0hCiAgICAgICAgaWYgKHBheUJhY2sgPiAwKSB7CiAgICAgICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIocGF5QmFjayk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHdpdGhkcmF3KCkgCiAgICAgICAgZXh0ZXJuYWwgCiAgICB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGFkZHJGaW5hbmNlIHx8IG1zZy5zZW5kZXIgPT0gYWRkckFkbWluKTsKICAgICAgICBhZGRyRmluYW5jZS50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFBldENhblByZXNlbGxDb3VudCgpIGV4dGVybmFsIHZpZXcgcmV0dXJucyAodWludDE2WzVdIGNudEFycmF5KSB7CiAgICAgICAgY250QXJyYXlbMF0gPSBwZXRQcmVzZWxsQ291bnRlclsxMDAwMV07CiAgICAgICAgY250QXJyYXlbMV0gPSBwZXRQcmVzZWxsQ291bnRlclsxMDAwMl07CiAgICAgICAgY250QXJyYXlbMl0gPSBwZXRQcmVzZWxsQ291bnRlclsxMDAwM107CiAgICAgICAgY250QXJyYXlbM10gPSBwZXRQcmVzZWxsQ291bnRlclsxMDAwNF07CiAgICAgICAgY250QXJyYXlbNF0gPSBwZXRQcmVzZWxsQ291bnRlclsxMDAwNV07ICAgCiAgICB9CgogICAgZnVuY3Rpb24gZ2V0QnV5Q291bnQoYWRkcmVzcyBfb3duZXIpIGV4dGVybmFsIHZpZXcgcmV0dXJucyAodWludDMyKSB7CiAgICAgICAgcmV0dXJuIHVpbnQzMihwcmVzZWxsTGltaXRbX293bmVyXS5sZW5ndGgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEJ1eUFycmF5KGFkZHJlc3MgX293bmVyKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQxNltdKSB7CiAgICAgICAgdWludDE2W10gc3RvcmFnZSBidXlBcnJheSA9IHByZXNlbGxMaW1pdFtfb3duZXJdOwogICAgICAgIHJldHVybiBidXlBcnJheTsKICAgIH0KfQ=='.
	

]
