Class {
	#name : #SRT373604ee6f3bce3b7126bb38f54ce6fd5ec59803,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT373604ee6f3bce3b7126bb38f54ce6fd5ec59803 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjA7CgovKioKICogQHRpdGxlIENvbnRyYWN0UmVjZWl2ZXIKICogQGRldiBSZWNlaXZlciBmb3IgRVJDMjIzIHRva2VucwogKi8KY29udHJhY3QgQ29udHJhY3RSZWNlaXZlciB7CgogIHN0cnVjdCBUS04gewogICAgYWRkcmVzcyBzZW5kZXI7CiAgICB1aW50IHZhbHVlOwogICAgYnl0ZXMgZGF0YTsKICAgIGJ5dGVzNCBzaWc7CiAgfQoKICBmdW5jdGlvbiB0b2tlbkZhbGxiYWNrKGFkZHJlc3MgX2Zyb20sIHVpbnQgX3ZhbHVlLCBieXRlcyBfZGF0YSkgcHVibGljIHB1cmUgewogICAgVEtOIG1lbW9yeSB0a247CiAgICB0a24uc2VuZGVyID0gX2Zyb207CiAgICB0a24udmFsdWUgPSBfdmFsdWU7CiAgICB0a24uZGF0YSA9IF9kYXRhOwogICAgdWludDMyIHUgPSB1aW50MzIoX2RhdGFbM10pICsgKHVpbnQzMihfZGF0YVsyXSkgPDwgOCkgKyAodWludDMyKF9kYXRhWzFdKSA8PCAxNikgKyAodWludDMyKF9kYXRhWzBdKSA8PCAyNCk7CiAgICB0a24uc2lnID0gYnl0ZXM0KHUpOwoKICAgIC8qIHRrbiB2YXJpYWJsZSBpcyBhbmFsb2d1ZSBvZiBtc2cgdmFyaWFibGUgb2YgRXRoZXIgdHJhbnNhY3Rpb24KICAgICogIHRrbi5zZW5kZXIgaXMgcGVyc29uIHdobyBpbml0aWF0ZWQgdGhpcyB0b2tlbiB0cmFuc2FjdGlvbiAgIChhbmFsb2d1ZSBvZiBtc2cuc2VuZGVyKQogICAgKiAgdGtuLnZhbHVlIHRoZSBudW1iZXIgb2YgdG9rZW5zIHRoYXQgd2VyZSBzZW50ICAgKGFuYWxvZ3VlIG9mIG1zZy52YWx1ZSkKICAgICogIHRrbi5kYXRhIGlzIGRhdGEgb2YgdG9rZW4gdHJhbnNhY3Rpb24gICAoYW5hbG9ndWUgb2YgbXNnLmRhdGEpCiAgICAqICB0a24uc2lnIGlzIDQgYnl0ZXMgc2lnbmF0dXJlIG9mIGZ1bmN0aW9uCiAgICAqICBpZiBkYXRhIG9mIHRva2VuIHRyYW5zYWN0aW9uIGlzIGEgZnVuY3Rpb24gZXhlY3V0aW9uCiAgICAqLwogIH0KfQoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cn0KCgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICAvKioKICAqIEBkZXYgTXVsdGlwbGllcyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93LgogICovCiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmIChhID09IDApIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgLyoqCiAgKiBAZGV2IEludGVnZXIgZGl2aXNpb24gb2YgdHdvIG51bWJlcnMsIHRydW5jYXRpbmcgdGhlIHF1b3RpZW50LgogICovCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICAvKioKICAqIEBkZXYgU3Vic3RyYWN0cyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93IChpLmUuIGlmIHN1YnRyYWhlbmQgaXMgZ3JlYXRlciB0aGFuIG1pbnVlbmQpLgogICovCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgLyoqCiAgKiBAZGV2IEFkZHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAqLwogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9Cgpjb250cmFjdCBFUkMyMjMgewogIHVpbnQgcHVibGljIHRvdGFsU3VwcGx5OwoKICBmdW5jdGlvbiBuYW1lKCkgcHVibGljIHZpZXcgcmV0dXJucyAoc3RyaW5nIF9uYW1lKTsKICBmdW5jdGlvbiBzeW1ib2woKSBwdWJsaWMgdmlldyByZXR1cm5zIChzdHJpbmcgX3N5bWJvbCk7CiAgZnVuY3Rpb24gZGVjaW1hbHMoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50OCBfZGVjaW1hbHMpOwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBfc3VwcGx5KTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpOwoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSwgYnl0ZXMgZGF0YSkgcHVibGljIHJldHVybnMgKGJvb2wgb2spOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUsIGJ5dGVzIGRhdGEsIHN0cmluZyBjdXN0b21fZmFsbGJhY2spIHB1YmxpYyByZXR1cm5zIChib29sIG9rKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlLCBieXRlcyBpbmRleGVkIGRhdGEpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwp9Cgpjb250cmFjdCBDbGlwIGlzIEVSQzIyMywgT3duYWJsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJDbGlwVG9rZW4iOwogIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIkNMSVAiOwogIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDg7CiAgdWludDI1NiBwdWJsaWMgaW5pdGlhbFN1cHBseSA9IDEyMGU4ICogMWU4OwogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIHVpbnQyNTYgcHVibGljIGRpc3RyaWJ1dGVBbW91bnQgPSAwOwogIGJvb2wgcHVibGljIG1pbnRpbmdGaW5pc2hlZCA9IGZhbHNlOwoKICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGZyb3plbkFjY291bnQ7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgdW5sb2NrVW5peFRpbWU7CgogIGV2ZW50IEZyb3plbkZ1bmRzKGFkZHJlc3MgaW5kZXhlZCB0YXJnZXQsIGJvb2wgZnJvemVuKTsKICBldmVudCBMb2NrZWRGdW5kcyhhZGRyZXNzIGluZGV4ZWQgdGFyZ2V0LCB1aW50MjU2IGxvY2tlZCk7CiAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgYnVybmVyLCB1aW50MjU2IHZhbHVlKTsKICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwogIGV2ZW50IE1pbnRGaW5pc2hlZCgpOwoKICBmdW5jdGlvbiBDbGlwKCkgcHVibGljIHsKICAgIHRvdGFsU3VwcGx5ID0gaW5pdGlhbFN1cHBseTsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gdG90YWxTdXBwbHk7CiAgfQoKICBmdW5jdGlvbiBuYW1lKCkgcHVibGljIHZpZXcgcmV0dXJucyAoc3RyaW5nIF9uYW1lKSB7CiAgICAgIHJldHVybiBuYW1lOwogIH0KCiAgZnVuY3Rpb24gc3ltYm9sKCkgcHVibGljIHZpZXcgcmV0dXJucyAoc3RyaW5nIF9zeW1ib2wpIHsKICAgICAgcmV0dXJuIHN5bWJvbDsKICB9CgogIGZ1bmN0aW9uIGRlY2ltYWxzKCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDggX2RlY2ltYWxzKSB7CiAgICAgIHJldHVybiBkZWNpbWFsczsKICB9CgogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBfdG90YWxTdXBwbHkpIHsKICAgICAgcmV0dXJuIHRvdGFsU3VwcGx5OwogIH0KCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCiAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQyNTYgc2l6ZSl7CiAgICBhc3NlcnQobXNnLmRhdGEubGVuZ3RoID49IHNpemUgKyA0KTsKICAgIF87CiAgfQoKICAvLyBGdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIGEgdXNlciBvciBhbm90aGVyIGNvbnRyYWN0IHdhbnRzIHRvIHRyYW5zZmVyIGZ1bmRzIC4KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUsIGJ5dGVzIF9kYXRhLCBzdHJpbmcgX2N1c3RvbV9mYWxsYmFjaykgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmVxdWlyZShfdmFsdWUgPiAwCiAgICAgICAgICAgICYmIGZyb3plbkFjY291bnRbbXNnLnNlbmRlcl0gPT0gZmFsc2UKICAgICAgICAgICAgJiYgZnJvemVuQWNjb3VudFtfdG9dID09IGZhbHNlCiAgICAgICAgICAgICYmIG5vdyA+IHVubG9ja1VuaXhUaW1lW21zZy5zZW5kZXJdCiAgICAgICAgICAgICYmIG5vdyA+IHVubG9ja1VuaXhUaW1lW190b10pOwoKICAgIGlmKGlzQ29udHJhY3QoX3RvKSkgewogICAgICAgIGlmIChiYWxhbmNlT2YobXNnLnNlbmRlcikgPCBfdmFsdWUpIHJldmVydCgpOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gU2FmZU1hdGguc3ViKGJhbGFuY2VPZihtc2cuc2VuZGVyKSwgX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gU2FmZU1hdGguYWRkKGJhbGFuY2VPZihfdG8pLCBfdmFsdWUpOwogICAgICAgIGFzc2VydChfdG8uY2FsbC52YWx1ZSgwKShieXRlczQoa2VjY2FrMjU2KF9jdXN0b21fZmFsbGJhY2spKSwgbXNnLnNlbmRlciwgX3ZhbHVlLCBfZGF0YSkpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlLCBfZGF0YSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgcmV0dXJuIHRyYW5zZmVyVG9BZGRyZXNzKF90bywgX3ZhbHVlLCBfZGF0YSk7CiAgICB9CiAgfQoKCiAgLy8gRnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiBhIHVzZXIgb3IgYW5vdGhlciBjb250cmFjdCB3YW50cyB0byB0cmFuc2ZlciBmdW5kcyAuCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlLCBieXRlcyBfZGF0YSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmVxdWlyZShfdmFsdWUgPiAwCiAgICAgICAgICAgICYmIGZyb3plbkFjY291bnRbbXNnLnNlbmRlcl0gPT0gZmFsc2UKICAgICAgICAgICAgJiYgZnJvemVuQWNjb3VudFtfdG9dID09IGZhbHNlCiAgICAgICAgICAgICYmIG5vdyA+IHVubG9ja1VuaXhUaW1lW21zZy5zZW5kZXJdCiAgICAgICAgICAgICYmIG5vdyA+IHVubG9ja1VuaXhUaW1lW190b10pOwoKICAgIGlmKGlzQ29udHJhY3QoX3RvKSkgewogICAgICAgIHJldHVybiB0cmFuc2ZlclRvQ29udHJhY3QoX3RvLCBfdmFsdWUsIF9kYXRhKTsKICAgIH0KICAgIGVsc2UgewogICAgICAgIHJldHVybiB0cmFuc2ZlclRvQWRkcmVzcyhfdG8sIF92YWx1ZSwgX2RhdGEpOwogICAgfQogIH0KCiAgLy8gU3RhbmRhcmQgZnVuY3Rpb24gdHJhbnNmZXIgc2ltaWxhciB0byBFUkMyMCB0cmFuc2ZlciB3aXRoIG5vIF9kYXRhIC4KICAvLyBBZGRlZCBkdWUgdG8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgcmVhc29ucyAuCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXF1aXJlKF92YWx1ZSA+IDAKICAgICAgICAgICAgJiYgZnJvemVuQWNjb3VudFttc2cuc2VuZGVyXSA9PSBmYWxzZQogICAgICAgICAgICAmJiBmcm96ZW5BY2NvdW50W190b10gPT0gZmFsc2UKICAgICAgICAgICAgJiYgbm93ID4gdW5sb2NrVW5peFRpbWVbbXNnLnNlbmRlcl0KICAgICAgICAgICAgJiYgbm93ID4gdW5sb2NrVW5peFRpbWVbX3RvXSk7CgogICAgLy9zdGFuZGFyZCBmdW5jdGlvbiB0cmFuc2ZlciBzaW1pbGFyIHRvIEVSQzIwIHRyYW5zZmVyIHdpdGggbm8gX2RhdGEKICAgIC8vYWRkZWQgZHVlIHRvIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHJlYXNvbnMKICAgIGJ5dGVzIG1lbW9yeSBlbXB0eTsKICAgIGlmKGlzQ29udHJhY3QoX3RvKSkgewogICAgICAgIHJldHVybiB0cmFuc2ZlclRvQ29udHJhY3QoX3RvLCBfdmFsdWUsIGVtcHR5KTsKICAgIH0KICAgIGVsc2UgewogICAgICAgIHJldHVybiB0cmFuc2ZlclRvQWRkcmVzcyhfdG8sIF92YWx1ZSwgZW1wdHkpOwogICAgfQogIH0KCiAgLy8gYXNzZW1ibGUgdGhlIGdpdmVuIGFkZHJlc3MgYnl0ZWNvZGUuIElmIGJ5dGVjb2RlIGV4aXN0cyB0aGVuIHRoZSBfYWRkciBpcyBhIGNvbnRyYWN0LgogIGZ1bmN0aW9uIGlzQ29udHJhY3QoYWRkcmVzcyBfYWRkcikgcHJpdmF0ZSB2aWV3IHJldHVybnMgKGJvb2wgaXNfY29udHJhY3QpIHsKICAgIHVpbnQgbGVuZ3RoOwogICAgYXNzZW1ibHkgewogICAgICAvLyByZXRyaWV2ZSB0aGUgc2l6ZSBvZiB0aGUgY29kZSBvbiB0YXJnZXQgYWRkcmVzcywgdGhpcyBuZWVkcyBhc3NlbWJseQogICAgICBsZW5ndGggOj0gZXh0Y29kZXNpemUoX2FkZHIpCiAgICB9CiAgICByZXR1cm4gKGxlbmd0aD4wKTsKICB9CgogIC8vIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gdHJhbnNhY3Rpb24gdGFyZ2V0IGlzIGFuIGFkZHJlc3MKICBmdW5jdGlvbiB0cmFuc2ZlclRvQWRkcmVzcyhhZGRyZXNzIF90bywgdWludCBfdmFsdWUsIGJ5dGVzIF9kYXRhKSBwcml2YXRlIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgaWYgKGJhbGFuY2VPZihtc2cuc2VuZGVyKSA8IF92YWx1ZSkgcmV2ZXJ0KCk7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IFNhZmVNYXRoLnN1YihiYWxhbmNlT2YobXNnLnNlbmRlciksIF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gU2FmZU1hdGguYWRkKGJhbGFuY2VPZihfdG8pLCBfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUsIF9kYXRhKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy9mdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIHRyYW5zYWN0aW9uIHRhcmdldCBpcyBhIGNvbnRyYWN0CiAgZnVuY3Rpb24gdHJhbnNmZXJUb0NvbnRyYWN0KGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSwgYnl0ZXMgX2RhdGEpIHByaXZhdGUgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBpZiAoYmFsYW5jZU9mKG1zZy5zZW5kZXIpIDwgX3ZhbHVlKSByZXZlcnQoKTsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gU2FmZU1hdGguc3ViKGJhbGFuY2VPZihtc2cuc2VuZGVyKSwgX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBTYWZlTWF0aC5hZGQoYmFsYW5jZU9mKF90byksIF92YWx1ZSk7CiAgICBDb250cmFjdFJlY2VpdmVyIHJlY2VpdmVyID0gQ29udHJhY3RSZWNlaXZlcihfdG8pOwogICAgcmVjZWl2ZXIudG9rZW5GYWxsYmFjayhtc2cuc2VuZGVyLCBfdmFsdWUsIF9kYXRhKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlLCBfZGF0YSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgUHJldmVudCB0YXJnZXRzIGZyb20gc2VuZGluZyBvciByZWNlaXZpbmcgdG9rZW5zCiAgICogQHBhcmFtIHRhcmdldHMgQWRkcmVzc2VzIHRvIGJlIGZyb3plbgogICAqIEBwYXJhbSBpc0Zyb3plbiBlaXRoZXIgdG8gZnJlZXplIGl0IG9yIG5vdAogICAqLwogIGZ1bmN0aW9uIGZyZWV6ZUFjY291bnRzKGFkZHJlc3NbXSB0YXJnZXRzLCBib29sIGlzRnJvemVuKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUodGFyZ2V0cy5sZW5ndGggPiAwKTsKCiAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCB0YXJnZXRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHJlcXVpcmUodGFyZ2V0c1tpXSAhPSAweDApOwogICAgICBmcm96ZW5BY2NvdW50W3RhcmdldHNbaV1dID0gaXNGcm96ZW47CiAgICAgIEZyb3plbkZ1bmRzKHRhcmdldHNbaV0sIGlzRnJvemVuKTsKICAgIH0KICB9CgogIC8qKgogICAqIEBkZXYgUHJldmVudCB0YXJnZXRzIGZyb20gc2VuZGluZyBvciByZWNlaXZpbmcgdG9rZW5zIGJ5IHNldHRpbmcgVW5peCB0aW1lcwogICAqIEBwYXJhbSB0YXJnZXRzIEFkZHJlc3NlcyB0byBiZSBsb2NrZWQgZnVuZHMKICAgKiBAcGFyYW0gdW5peFRpbWVzIFVuaXggdGltZXMgd2hlbiBsb2NraW5nIHVwIHdpbGwgYmUgZmluaXNoZWQKICAgKi8KICBmdW5jdGlvbiBsb2NrdXBBY2NvdW50cyhhZGRyZXNzW10gdGFyZ2V0cywgdWludFtdIHVuaXhUaW1lcykgb25seU93bmVyIHB1YmxpYyB7CiAgICByZXF1aXJlKHRhcmdldHMubGVuZ3RoID4gMAogICAgICAgICAgICAmJiB0YXJnZXRzLmxlbmd0aCA9PSB1bml4VGltZXMubGVuZ3RoKTsKCiAgICBmb3IodWludCBpID0gMDsgaSA8IHRhcmdldHMubGVuZ3RoOyBpKyspewogICAgICByZXF1aXJlKHVubG9ja1VuaXhUaW1lW3RhcmdldHNbaV1dIDwgdW5peFRpbWVzW2ldKTsKICAgICAgdW5sb2NrVW5peFRpbWVbdGFyZ2V0c1tpXV0gPSB1bml4VGltZXNbaV07CiAgICAgIExvY2tlZEZ1bmRzKHRhcmdldHNbaV0sIHVuaXhUaW1lc1tpXSk7CiAgICB9CiAgfQoKICAvKioKICAgKiBAZGV2IEJ1cm5zIGEgc3BlY2lmaWMgYW1vdW50IG9mIHRva2Vucy4KICAgKiBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3MgdGhhdCB3aWxsIGJ1cm4gdGhlIHRva2Vucy4KICAgKiBAcGFyYW0gX3VuaXRBbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSBidXJuZWQuCiAgICovCiAgZnVuY3Rpb24gYnVybihhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF91bml0QW1vdW50KSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUoX3VuaXRBbW91bnQgPiAwCiAgICAgICAgICAgICYmIGJhbGFuY2VPZihfZnJvbSkgPj0gX3VuaXRBbW91bnQpOwoKICAgIGJhbGFuY2VzW19mcm9tXSA9IFNhZmVNYXRoLnN1YihiYWxhbmNlc1tfZnJvbV0sIF91bml0QW1vdW50KTsKICAgIHRvdGFsU3VwcGx5ID0gU2FmZU1hdGguc3ViKHRvdGFsU3VwcGx5LCBfdW5pdEFtb3VudCk7CiAgICBCdXJuKF9mcm9tLCBfdW5pdEFtb3VudCk7CiAgfQoKICBtb2RpZmllciBjYW5NaW50KCkgewogICAgcmVxdWlyZSghbWludGluZ0ZpbmlzaGVkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIG1pbnQgdG9rZW5zCiAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0aGF0IHdpbGwgcmVjZWl2ZSB0aGUgbWludGVkIHRva2Vucy4KICAgKiBAcGFyYW0gX3VuaXRBbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gbWludC4KICAgKi8KICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF91bml0QW1vdW50KSBvbmx5T3duZXIgY2FuTWludCBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdW5pdEFtb3VudCA+IDApOwoKICAgIHRvdGFsU3VwcGx5ID0gU2FmZU1hdGguYWRkKHRvdGFsU3VwcGx5LCBfdW5pdEFtb3VudCk7CiAgICBiYWxhbmNlc1tfdG9dID0gU2FmZU1hdGguYWRkKGJhbGFuY2VzW190b10sIF91bml0QW1vdW50KTsKICAgIE1pbnQoX3RvLCBfdW5pdEFtb3VudCk7CiAgICBUcmFuc2ZlcihhZGRyZXNzKDApLCBfdG8sIF91bml0QW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBzdG9wIG1pbnRpbmcgbmV3IHRva2Vucy4KICAgKi8KICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgb25seU93bmVyIGNhbk1pbnQgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIG1pbnRpbmdGaW5pc2hlZCA9IHRydWU7CiAgICBNaW50RmluaXNoZWQoKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBkaXN0cmlidXRlIHRva2VucyB0byB0aGUgbGlzdCBvZiBhZGRyZXNzZXMgYnkgdGhlIHByb3ZpZGVkIGFtb3VudAogICAqLwogIGZ1bmN0aW9uIGRpc3RyaWJ1dGVUb2tlbnMoYWRkcmVzc1tdIGFkZHJlc3NlcywgdWludDI1NiBhbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKGFtb3VudCA+IDAKICAgICAgICAgICAgJiYgYWRkcmVzc2VzLmxlbmd0aCA+IDAKICAgICAgICAgICAgJiYgZnJvemVuQWNjb3VudFttc2cuc2VuZGVyXSA9PSBmYWxzZQogICAgICAgICAgICAmJiBub3cgPiB1bmxvY2tVbml4VGltZVttc2cuc2VuZGVyXSk7CgogICAgYW1vdW50ID0gU2FmZU1hdGgubXVsKGFtb3VudCwgMWU4KTsKICAgIHVpbnQyNTYgdG90YWxBbW91bnQgPSBTYWZlTWF0aC5tdWwoYW1vdW50LCBhZGRyZXNzZXMubGVuZ3RoKTsKICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gdG90YWxBbW91bnQpOwoKICAgIGZvciAodWludCBpID0gMDsgaSA8IGFkZHJlc3Nlcy5sZW5ndGg7IGkrKykgewogICAgICByZXF1aXJlKGFkZHJlc3Nlc1tpXSAhPSAweDAKICAgICAgICAgICAgICAmJiBmcm96ZW5BY2NvdW50W2FkZHJlc3Nlc1tpXV0gPT0gZmFsc2UKICAgICAgICAgICAgICAmJiBub3cgPiB1bmxvY2tVbml4VGltZVthZGRyZXNzZXNbaV1dKTsKCiAgICAgIGJhbGFuY2VzW2FkZHJlc3Nlc1tpXV0gPSBTYWZlTWF0aC5hZGQoYmFsYW5jZXNbYWRkcmVzc2VzW2ldXSwgYW1vdW50KTsKICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgYWRkcmVzc2VzW2ldLCBhbW91bnQpOwogICAgfQogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBTYWZlTWF0aC5zdWIoYmFsYW5jZXNbbXNnLnNlbmRlcl0sIHRvdGFsQW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjb2xsZWN0IHRva2VucyBmcm9tIHRoZSBsaXN0IG9mIGFkZHJlc3NlcwogICAqLwogIGZ1bmN0aW9uIGNvbGxlY3RUb2tlbnMoYWRkcmVzc1tdIGFkZHJlc3NlcywgdWludFtdIGFtb3VudHMpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShhZGRyZXNzZXMubGVuZ3RoID4gMAogICAgICAgICAgICAmJiBhZGRyZXNzZXMubGVuZ3RoID09IGFtb3VudHMubGVuZ3RoKTsKCiAgICB1aW50MjU2IHRvdGFsQW1vdW50ID0gMDsKCiAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBhZGRyZXNzZXMubGVuZ3RoOyBpKyspIHsKICAgICAgcmVxdWlyZShhbW91bnRzW2ldID4gMAogICAgICAgICAgICAgICYmIGFkZHJlc3Nlc1tpXSAhPSAweDAKICAgICAgICAgICAgICAmJiBmcm96ZW5BY2NvdW50W2FkZHJlc3Nlc1tpXV0gPT0gZmFsc2UKICAgICAgICAgICAgICAmJiBub3cgPiB1bmxvY2tVbml4VGltZVthZGRyZXNzZXNbaV1dKTsKCiAgICAgIGFtb3VudHNbaV0gPSBTYWZlTWF0aC5tdWwoYW1vdW50c1tpXSwgMWU4KTsKICAgICAgcmVxdWlyZShiYWxhbmNlc1thZGRyZXNzZXNbaV1dID49IGFtb3VudHNbaV0pOwogICAgICBiYWxhbmNlc1thZGRyZXNzZXNbaV1dID0gU2FmZU1hdGguc3ViKGJhbGFuY2VzW2FkZHJlc3Nlc1tpXV0sIGFtb3VudHNbaV0pOwogICAgICB0b3RhbEFtb3VudCA9IFNhZmVNYXRoLmFkZCh0b3RhbEFtb3VudCwgYW1vdW50c1tpXSk7CiAgICAgIFRyYW5zZmVyKGFkZHJlc3Nlc1tpXSwgbXNnLnNlbmRlciwgYW1vdW50c1tpXSk7CiAgICB9CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IFNhZmVNYXRoLmFkZChiYWxhbmNlc1ttc2cuc2VuZGVyXSwgdG90YWxBbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBzZXREaXN0cmlidXRlQW1vdW50KHVpbnQyNTYgX3VuaXRBbW91bnQpIG9ubHlPd25lciBwdWJsaWMgewogICAgZGlzdHJpYnV0ZUFtb3VudCA9IF91bml0QW1vdW50OwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBkaXN0cmlidXRlIHRva2VucyB0byB0aGUgbXNnLnNlbmRlciBhdXRvbWF0aWNhbGx5CiAgICogICAgICBJZiBkaXN0cmlidXRlQW1vdW50IGlzIDAsIHRoaXMgZnVuY3Rpb24gZG9lc24ndCB3b3JrCiAgICovCiAgZnVuY3Rpb24gYXV0b0Rpc3RyaWJ1dGUoKSBwYXlhYmxlIHB1YmxpYyB7CiAgICByZXF1aXJlKGRpc3RyaWJ1dGVBbW91bnQgPiAwCiAgICAgICAgICAgICYmIGJhbGFuY2VPZihvd25lcikgPj0gZGlzdHJpYnV0ZUFtb3VudAogICAgICAgICAgICAmJiBmcm96ZW5BY2NvdW50W21zZy5zZW5kZXJdID09IGZhbHNlCiAgICAgICAgICAgICYmIG5vdyA+IHVubG9ja1VuaXhUaW1lW21zZy5zZW5kZXJdKTsKICAgIGlmIChtc2cudmFsdWUgPiAwKSBvd25lci50cmFuc2Zlcihtc2cudmFsdWUpOwoKICAgIGJhbGFuY2VzW293bmVyXSA9IFNhZmVNYXRoLnN1YihiYWxhbmNlc1tvd25lcl0sIGRpc3RyaWJ1dGVBbW91bnQpOwogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBTYWZlTWF0aC5hZGQoYmFsYW5jZXNbbXNnLnNlbmRlcl0sIGRpc3RyaWJ1dGVBbW91bnQpOwogICAgVHJhbnNmZXIob3duZXIsIG1zZy5zZW5kZXIsIGRpc3RyaWJ1dGVBbW91bnQpOwogIH0KCiAgLyoqCiAgICogQGRldiB0b2tlbiBmYWxsYmFjayBmdW5jdGlvbgogICAqLwogIGZ1bmN0aW9uKCkgcGF5YWJsZSBwdWJsaWMgewogICAgYXV0b0Rpc3RyaWJ1dGUoKTsKICB9Cn0='.
	

]
