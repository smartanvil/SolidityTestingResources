Class {
	#name : #SRTD42433A8a0A1CEB73c8ff4e432463e2ee109039d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTD42433A8a0A1CEB73c8ff4e432463e2ee109039d >> base64 [
	^ 'Y29udHJhY3QgVG9rZW4geyAKICAgIGZ1bmN0aW9uIGlzc3VlKGFkZHJlc3MgX3JlY2lwaWVudCwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykge30gCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkge30KICAgIGZ1bmN0aW9uIHVubG9jaygpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykge30KICAgIGZ1bmN0aW9uIHN0YXJ0SW5jZW50aXZlRGlzdHJpYnV0aW9uKCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIHt9CiAgICBmdW5jdGlvbiBvd25lcigpIHJldHVybnMgKGFkZHJlc3MgX293bmVyKSB7fQp9Cgpjb250cmFjdCBEUlBDcm93ZHNhbGUgewoKICAgIC8vIENyb3dkc2FsZSBkZXRhaWxzCiAgICBhZGRyZXNzIHB1YmxpYyBiZW5lZmljaWFyeTsgLy8gQ29tcGFueSBhZGRyZXNzIG11bHRpc2lnICg0OSUgZnVuZGluZykKICAgIGFkZHJlc3MgcHVibGljIGNvbmZpcm1lZEJ5OyAvLyBBZGRyZXNzIHRoYXQgY29uZmlybWVkIGJlbmVmaWNpYXJ5CiAgICB1aW50MjU2IHB1YmxpYyBtaW5BbW91bnQgPSA0MTM3IGV0aGVyOyAvLyDiiYggNzI0LjAwMCBldXJvCiAgICB1aW50MjU2IHB1YmxpYyBtYXhBbW91bnQgPSA1NDI4NSBldGhlcjsgLy8g4omIIDkuNSBtbG4gZXVybwogICAgdWludDI1NiBwdWJsaWMgbWluQWNjZXB0ZWRBbW91bnQgPSA0MCBmaW5uZXk7IC8vIDEvMjUgZXRoZXIKCiAgICAvKioKICAgICAqIDUxJSBvZiB0aGUgcmFpc2VkIGFtb3VudCByZW1haW5zIGluIHRoZSBjcm93ZHNhbGUgY29udHJhY3QgCiAgICAgKiB0byBiZSByZWxlYXNlZCB0byBEQ09SUCBvbiBsYXVuY2ggd2l0aCBhcHJvdmFsIG9mIHRva2VuaG9sZGVycy4KICAgICAqCiAgICAgKiBTZWUgd2hpdGVwYXBlciBmb3IgbW9yZSBpbmZvcm1hdGlvbgogICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBwZXJjZW50YWdlT2ZSYWlzZWRBbW91bnRUaGF0UmVtYWluc0luQ29udHJhY3QgPSA1MTsgLy8gMC41MSAqIDEwXjIKCiAgICAvLyBFdGggdG8gRFJQIHJhdGUKICAgIHVpbnQyNTYgcHVibGljIHJhdGVBbmdlbERheSA9IDY1MDsKICAgIHVpbnQyNTYgcHVibGljIHJhdGVGaXJzdFdlZWsgPSA1NTA7CiAgICB1aW50MjU2IHB1YmxpYyByYXRlU2Vjb25kV2VlayA9IDQ3NTsKICAgIHVpbnQyNTYgcHVibGljIHJhdGVUaGlyZFdlZWsgPSA0MjU7CiAgICB1aW50MjU2IHB1YmxpYyByYXRlTGFzdFdlZWsgPSA0MDA7CgogICAgdWludDI1NiBwdWJsaWMgcmF0ZUFuZ2VsRGF5RW5kID0gMSBkYXlzOwogICAgdWludDI1NiBwdWJsaWMgcmF0ZUZpcnN0V2Vla0VuZCA9IDggZGF5czsKICAgIHVpbnQyNTYgcHVibGljIHJhdGVTZWNvbmRXZWVrRW5kID0gMTUgZGF5czsKICAgIHVpbnQyNTYgcHVibGljIHJhdGVUaGlyZFdlZWtFbmQgPSAyMiBkYXlzOwogICAgdWludDI1NiBwdWJsaWMgcmF0ZUxhc3RXZWVrRW5kID0gMjkgZGF5czsKCiAgICBlbnVtIFN0YWdlcyB7CiAgICAgICAgSW5Qcm9ncmVzcywKICAgICAgICBFbmRlZCwKICAgICAgICBXaXRoZHJhd24sCiAgICAgICAgUHJvcG9zZWQsCiAgICAgICAgQWNjZXB0ZWQKICAgIH0KCiAgICBTdGFnZXMgcHVibGljIHN0YWdlID0gU3RhZ2VzLkluUHJvZ3Jlc3M7CgogICAgLy8gQ3Jvd2RzYWxlIHN0YXRlCiAgICB1aW50MjU2IHB1YmxpYyBzdGFydDsKICAgIHVpbnQyNTYgcHVibGljIGVuZDsKICAgIHVpbnQyNTYgcHVibGljIHJhaXNlZDsKCiAgICAvLyBEUlAgdG9rZW4KICAgIFRva2VuIHB1YmxpYyBkcnBUb2tlbjsKCiAgICAvLyBJbnZlc3RlZCBiYWxhbmNlcwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgICBzdHJ1Y3QgUHJvcG9zYWwgewogICAgICAgIGFkZHJlc3MgZGNvcnBBZGRyZXNzOwogICAgICAgIHVpbnQyNTYgZGVhZGxpbmU7CiAgICAgICAgdWludDI1NiBhcHByb3ZlZFdlaWdodDsKICAgICAgICB1aW50MjU2IGRpc2FwcHJvdmVkV2VpZ2h0OwogICAgICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1Nikgdm90ZWQ7CiAgICB9CgogICAgLy8gT3duZXJzaGlwIHRyYW5zZmVyIHByb3Bvc2FsCiAgICBQcm9wb3NhbCBwdWJsaWMgdHJhbnNmZXJQcm9wb3NhbDsKCiAgICAvLyBUaW1lIHRvIHZvdGUKICAgIHVpbnQyNTYgcHVibGljIHRyYW5zZmVyUHJvcG9zYWxFbmQgPSA3IGRheXM7CgogICAgLy8gVGltZSBiZXR3ZWVuIHByb3Bvc2FscwogICAgdWludDI1NiBwdWJsaWMgdHJhbnNmZXJQcm9wb3NhbENvb2xkb3duID0gMSBkYXlzOwoKCiAgICAvKioKICAgICAqIFRocm93IGlmIGF0IHN0YWdlIG90aGVyIHRoYW4gY3VycmVudCBzdGFnZQogICAgICogCiAgICAgKiBAcGFyYW0gX3N0YWdlIGV4cGVjdGVkIHN0YWdlIHRvIHRlc3QgZm9yCiAgICAgKi8KICAgIG1vZGlmaWVyIGF0U3RhZ2UoU3RhZ2VzIF9zdGFnZSkgewogICAgICAgIGlmIChzdGFnZSAhPSBfc3RhZ2UpIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgICAgIF87CiAgICB9CiAgICAKCiAgICAvKioKICAgICAqIFRocm93IGlmIGF0IHN0YWdlIG90aGVyIHRoYW4gY3VycmVudCBzdGFnZQogICAgICogCiAgICAgKiBAcGFyYW0gX3N0YWdlMSBleHBlY3RlZCBzdGFnZSB0byB0ZXN0IGZvcgogICAgICogQHBhcmFtIF9zdGFnZTIgZXhwZWN0ZWQgc3RhZ2UgdG8gdGVzdCBmb3IKICAgICAqLwogICAgbW9kaWZpZXIgYXRTdGFnZXMoU3RhZ2VzIF9zdGFnZTEsIFN0YWdlcyBfc3RhZ2UyKSB7CiAgICAgICAgaWYgKHN0YWdlICE9IF9zdGFnZTEgJiYgc3RhZ2UgIT0gX3N0YWdlMikgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgXzsKICAgIH0KCgogICAgLyoqCiAgICAgKiBUaHJvdyBpZiBzZW5kZXIgaXMgbm90IGJlbmVmaWNpYXJ5CiAgICAgKi8KICAgIG1vZGlmaWVyIG9ubHlCZW5lZmljaWFyeSgpIHsKICAgICAgICBpZiAoYmVuZWZpY2lhcnkgIT0gbXNnLnNlbmRlcikgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgXzsKICAgIH0KCgogICAgLyoqCiAgICAgKiBUaHJvdyBpZiBzZW5kZXIgaGFzIGEgRENQIGJhbGFuY2Ugb2YgemVybwogICAgICovCiAgICBtb2RpZmllciBvbmx5U2hhcmVob2xkZXJzKCkgewogICAgICAgIGlmIChkcnBUb2tlbi5iYWxhbmNlT2YobXNnLnNlbmRlcikgPT0gMCkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgXzsKICAgIH0KCgogICAgLyoqCiAgICAgKiBUaHJvdyBpZiB0aGUgY3VycmVudCB0cmFuc2ZlciBwcm9wb3NhbCdzIGRlYWRsaW5lCiAgICAgKiBpcyBpbiB0aGUgcGFzdAogICAgICovCiAgICBtb2RpZmllciBiZWZvcmVEZWFkbGluZSgpIHsKICAgICAgICBpZiAobm93ID4gdHJhbnNmZXJQcm9wb3NhbC5kZWFkbGluZSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgXzsKICAgIH0KCgogICAgLyoqCiAgICAgKiBUaHJvdyBpZiB0aGUgY3VycmVudCB0cmFuc2ZlciBwcm9wb3NhbCdzIGRlYWRsaW5lIAogICAgICogaXMgaW4gdGhlIGZ1dHVyZQogICAgICovCiAgICBtb2RpZmllciBhZnRlckRlYWRsaW5lKCkgewogICAgICAgIGlmIChub3cgPCB0cmFuc2ZlclByb3Bvc2FsLmRlYWRsaW5lKSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgICAgICBfOwogICAgfQoKCiAgICAvKiogCiAgICAgKiBHZXQgYmFsYW5jZSBvZiBgX2ludmVzdG9yYCAKICAgICAqIAogICAgICogQHBhcmFtIF9pbnZlc3RvciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICAgKiBAcmV0dXJuIFRoZSBiYWxhbmNlCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9pbnZlc3RvcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19pbnZlc3Rvcl07CiAgICB9CgoKICAgIC8qKgogICAgICogTW9zdCBwYXJhbXMgYXJlIGhhcmRjb2RlZCBmb3IgY2xhcml0eQogICAgICoKICAgICAqIEBwYXJhbSBfdG9rZW5BZGRyZXNzIFRoZSBhZGRyZXNzIG9mIHRoZSBEUlAgdG9rZW4gY29udGFjdAogICAgICovCiAgICBmdW5jdGlvbiBEUlBDcm93ZHNhbGUoYWRkcmVzcyBfdG9rZW5BZGRyZXNzLCBhZGRyZXNzIF9iZW5lZmljaWFyeSwgdWludDI1NiBfc3RhcnQpIHsKICAgICAgICBkcnBUb2tlbiA9IFRva2VuKF90b2tlbkFkZHJlc3MpOwogICAgICAgIGJlbmVmaWNpYXJ5ID0gX2JlbmVmaWNpYXJ5OwogICAgICAgIHN0YXJ0ID0gX3N0YXJ0OwogICAgICAgIGVuZCA9IHN0YXJ0ICsgMjkgZGF5czsKICAgIH0KCgogICAgLyoqCiAgICAgKiBGb3IgdGVzdGluZyBwdXJwb3NlcwogICAgICoKICAgICAqIEByZXR1cm4gVGhlIGJlbmVmaWNpYXJ5IGFkZHJlc3MKICAgICAqLwogICAgZnVuY3Rpb24gY29uZmlybUJlbmVmaWNpYXJ5KCkgb25seUJlbmVmaWNpYXJ5IHsKICAgICAgICBjb25maXJtZWRCeSA9IG1zZy5zZW5kZXI7CiAgICB9CgoKICAgIC8qKgogICAgICogQ29udmVydCBgX3dlaWAgdG8gYW4gYW1vdW50IGluIERSUCB1c2luZyAKICAgICAqIHRoZSBjdXJyZW50IHJhdGUKICAgICAqCiAgICAgKiBAcGFyYW0gX3dlaSBhbW91bnQgb2Ygd2VpIHRvIGNvbnZlcnQKICAgICAqIEByZXR1cm4gVGhlIGFtb3VudCBpbiBEUlAKICAgICAqLwogICAgZnVuY3Rpb24gdG9EUlAodWludDI1NiBfd2VpKSByZXR1cm5zICh1aW50MjU2IGFtb3VudCkgewogICAgICAgIHVpbnQyNTYgcmF0ZSA9IDA7CiAgICAgICAgaWYgKHN0YWdlICE9IFN0YWdlcy5FbmRlZCAmJiBub3cgPj0gc3RhcnQgJiYgbm93IDw9IGVuZCkgewoKICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGFuZ2VsZGF5CiAgICAgICAgICAgIGlmIChub3cgPD0gc3RhcnQgKyByYXRlQW5nZWxEYXlFbmQpIHsKICAgICAgICAgICAgICAgIHJhdGUgPSByYXRlQW5nZWxEYXk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIENoZWNrIGZpcnN0IHdlZWsKICAgICAgICAgICAgZWxzZSBpZiAobm93IDw9IHN0YXJ0ICsgcmF0ZUZpcnN0V2Vla0VuZCkgewogICAgICAgICAgICAgICAgcmF0ZSA9IHJhdGVGaXJzdFdlZWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIENoZWNrIHNlY29uZCB3ZWVrCiAgICAgICAgICAgIGVsc2UgaWYgKG5vdyA8PSBzdGFydCArIHJhdGVTZWNvbmRXZWVrRW5kKSB7CiAgICAgICAgICAgICAgICByYXRlID0gcmF0ZVNlY29uZFdlZWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIENoZWNrIHRoaXJkIHdlZWsKICAgICAgICAgICAgZWxzZSBpZiAobm93IDw9IHN0YXJ0ICsgcmF0ZVRoaXJkV2Vla0VuZCkgewogICAgICAgICAgICAgICAgcmF0ZSA9IHJhdGVUaGlyZFdlZWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIENoZWNrIGxhc3Qgd2VlawogICAgICAgICAgICBlbHNlIGlmIChub3cgPD0gc3RhcnQgKyByYXRlTGFzdFdlZWtFbmQpIHsKICAgICAgICAgICAgICAgIHJhdGUgPSByYXRlTGFzdFdlZWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBfd2VpICogcmF0ZSAqIDEwKioyIC8gMSBldGhlcjsgLy8gMTAqKjIgZm9yIDIgZGVjaW1hbHMKICAgIH0KCgogICAgLyoqCiAgICAgKiBGdW5jdGlvbiB0byBlbmQgdGhlIGNyb3dkc2FsZSBieSBzZXR0aW5nIAogICAgICogdGhlIHN0YWdlIHRvIEVuZGVkCiAgICAgKi8KICAgIGZ1bmN0aW9uIGVuZENyb3dkc2FsZSgpIGF0U3RhZ2UoU3RhZ2VzLkluUHJvZ3Jlc3MpIHsKCiAgICAgICAgLy8gQ3Jvd2RzYWxlIG5vdCBlbmRlZCB5ZXQKICAgICAgICBpZiAobm93IDwgZW5kKSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KCiAgICAgICAgc3RhZ2UgPSBTdGFnZXMuRW5kZWQ7CiAgICB9CgoKICAgIC8qKgogICAgICogVHJhbnNmZXIgYXBwcm9wcmlhdGUgcGVyY2VudGFnZSBvZiByYWlzZWQgYW1vdW50IAogICAgICogdG8gdGhlIGNvbXBhbnkgYWRkcmVzcwogICAgICovCiAgICBmdW5jdGlvbiB3aXRoZHJhdygpIG9ubHlCZW5lZmljaWFyeSBhdFN0YWdlKFN0YWdlcy5FbmRlZCkgewoKICAgICAgICAvLyBDb25maXJtIHRoYXQgbWluQW1vdW50IGlzIHJhaXNlZAogICAgICAgIGlmIChyYWlzZWQgPCBtaW5BbW91bnQpIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQoKICAgICAgICB1aW50MjU2IGFtb3VudFRvU2VuZCA9IHJhaXNlZCAqICgxMDAgLSBwZXJjZW50YWdlT2ZSYWlzZWRBbW91bnRUaGF0UmVtYWluc0luQ29udHJhY3QpIC8gMTAqKjI7CiAgICAgICAgaWYgKCFiZW5lZmljaWFyeS5zZW5kKGFtb3VudFRvU2VuZCkpIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQoKICAgICAgICBzdGFnZSA9IFN0YWdlcy5XaXRoZHJhd247CiAgICB9CgoKICAgIC8qKgogICAgICogUmVmdW5kIGluIHRoZSBjYXNlIG9mIGFuIHVuc3VjY2Vzc2Z1bCBjcm93ZHNhbGUuIFRoZSAKICAgICAqIGNyb3dkc2FsZSBpcyBjb25zaWRlcmVkIHVuc3VjY2Vzc2Z1bCBpZiBtaW5BbW91bnQgd2FzIAogICAgICogbm90IHJhaXNlZCBiZWZvcmUgZW5kCiAgICAgKi8KICAgIGZ1bmN0aW9uIHJlZnVuZCgpIGF0U3RhZ2UoU3RhZ2VzLkVuZGVkKSB7CgogICAgICAgIC8vIE9ubHkgYWxsb3cgcmVmdW5kcyBpZiBtaW5BbW91bnQgaXMgbm90IHJhaXNlZAogICAgICAgIGlmIChyYWlzZWQgPj0gbWluQW1vdW50KSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KCiAgICAgICAgdWludDI1NiByZWNlaXZlZEFtb3VudCA9IGJhbGFuY2VzW21zZy5zZW5kZXJdOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gMDsKCiAgICAgICAgaWYgKHJlY2VpdmVkQW1vdW50ID4gMCAmJiAhbXNnLnNlbmRlci5zZW5kKHJlY2VpdmVkQW1vdW50KSkgewogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHJlY2VpdmVkQW1vdW50OwogICAgICAgIH0KICAgIH0KCgogICAgLyoqCiAgICAgKiBQcm9wb3NlIHRoZSB0cmFuc2ZlciBvZiB0aGUgdG9rZW4gY29udHJhY3Qgb3duZXJzaGlwCiAgICAgKiB0byBgX2Rjb3JwQWRkcmVzc2AgCiAgICAgKgogICAgICogQHBhcmFtIF9kY29ycEFkZHJlc3MgdGhlIGFkZHJlc3Mgb2YgdGhlIHByb3Bvc2VkIHRva2VuIG93bmVyIAogICAgICovCiAgICBmdW5jdGlvbiBwcm9wb3NlVHJhbnNmZXIoYWRkcmVzcyBfZGNvcnBBZGRyZXNzKSBvbmx5QmVuZWZpY2lhcnkgYXRTdGFnZXMoU3RhZ2VzLldpdGhkcmF3biwgU3RhZ2VzLlByb3Bvc2VkKSB7CiAgICAgICAgCiAgICAgICAgLy8gQ2hlY2sgZm9yIGEgcGVuZGluZyBwcm9wb3NhbAogICAgICAgIGlmIChzdGFnZSA9PSBTdGFnZXMuUHJvcG9zZWQgJiYgbm93IDwgdHJhbnNmZXJQcm9wb3NhbC5kZWFkbGluZSArIHRyYW5zZmVyUHJvcG9zYWxDb29sZG93bikgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CgogICAgICAgIHRyYW5zZmVyUHJvcG9zYWwgPSBQcm9wb3NhbCh7CiAgICAgICAgICAgIGRjb3JwQWRkcmVzczogX2Rjb3JwQWRkcmVzcywKICAgICAgICAgICAgZGVhZGxpbmU6IG5vdyArIHRyYW5zZmVyUHJvcG9zYWxFbmQsCiAgICAgICAgICAgIGFwcHJvdmVkV2VpZ2h0OiAwLAogICAgICAgICAgICBkaXNhcHByb3ZlZFdlaWdodDogMAogICAgICAgIH0pOwoKICAgICAgICBzdGFnZSA9IFN0YWdlcy5Qcm9wb3NlZDsKICAgIH0KCgogICAgLyoqCiAgICAgKiBBbGxvd3MgRFJQIGhvbGRlcnMgdG8gdm90ZSBvbiB0aGUgcG9wb3NlZCB0cmFuc2ZlciBvZiAKICAgICAqIG93bmVyc2hpcC4gV2VpZ2h0IGlzIGNhbGN1bGF0ZWQgZGlyZWN0bHksIHRoaXMgaXMgbm8gcHJvYmxlbSAKICAgICAqIGJlY2F1c2UgdG9rZW5zIGNhbm5vdCBiZSB0cmFuc2ZlcnJlZCB5ZXQKICAgICAqCiAgICAgKiBAcGFyYW0gX2FwcHJvdmUgaW5kaWNhdGVzIGlmIHRoZSBzZW5kZXIgc3VwcG9ydHMgdGhlIHByb3Bvc2FsCiAgICAgKi8KICAgIGZ1bmN0aW9uIHZvdGUoYm9vbCBfYXBwcm92ZSkgb25seVNoYXJlaG9sZGVycyBiZWZvcmVEZWFkbGluZSBhdFN0YWdlKFN0YWdlcy5Qcm9wb3NlZCkgewoKICAgICAgICAvLyBPbmUgdm90ZSBwZXIgcHJvcG9zYWwKICAgICAgICBpZiAodHJhbnNmZXJQcm9wb3NhbC52b3RlZFttc2cuc2VuZGVyXSA+PSB0cmFuc2ZlclByb3Bvc2FsLmRlYWRsaW5lIC0gdHJhbnNmZXJQcm9wb3NhbEVuZCkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CgogICAgICAgIHRyYW5zZmVyUHJvcG9zYWwudm90ZWRbbXNnLnNlbmRlcl0gPSBub3c7CiAgICAgICAgdWludDI1NiB3ZWlnaHQgPSBkcnBUb2tlbi5iYWxhbmNlT2YobXNnLnNlbmRlcik7CgogICAgICAgIGlmIChfYXBwcm92ZSkgewogICAgICAgICAgICB0cmFuc2ZlclByb3Bvc2FsLmFwcHJvdmVkV2VpZ2h0ICs9IHdlaWdodDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0cmFuc2ZlclByb3Bvc2FsLmRpc2FwcHJvdmVkV2VpZ2h0ICs9IHdlaWdodDsKICAgICAgICB9CiAgICB9CgoKICAgIC8qKgogICAgICogQ2FsY3VsYXRlcyB0aGUgdm90ZXMgYW5kIGlmIHRoZSBtYWpvcml0eSB3ZWlndCBhcHByb3ZlZCAKICAgICAqIHRoZSBwcm9wb3NhbCB0aGUgdHJhbnNmZXIgb2Ygb3duZXJzaGlwIGlzIGV4ZWN1dGVkLgogICAgIAogICAgICogVGhlIENyb3dkc2FsZSBjb250YWN0IHRyYW5zZmVycmVzIHRoZSBvd25lcnNoaXAgb2YgdGhlIAogICAgICogdG9rZW4gY29udHJhY3QgdG8gRENvcnAgYW5kIHN0YXJ0cyB0aGUgaW5zZW50aXZlIAogICAgICogZGlzdHJpYnV0aW9uIHJlY29yZGVkIGluIHRoZSB0b2tlbiBjb250cmFjdC4KICAgICAqLwogICAgZnVuY3Rpb24gZXhlY3V0ZVRyYW5zZmVyKCkgYWZ0ZXJEZWFkbGluZSBhdFN0YWdlKFN0YWdlcy5Qcm9wb3NlZCkgewoKICAgICAgICAvLyBDaGVjayBhcHByb3ZlZAogICAgICAgIGlmICh0cmFuc2ZlclByb3Bvc2FsLmFwcHJvdmVkV2VpZ2h0IDw9IHRyYW5zZmVyUHJvcG9zYWwuZGlzYXBwcm92ZWRXZWlnaHQpIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQoKICAgICAgICBpZiAoIWRycFRva2VuLnVubG9jaygpKSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgICAgICAKICAgICAgICBpZiAoIWRycFRva2VuLnN0YXJ0SW5jZW50aXZlRGlzdHJpYnV0aW9uKCkpIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQoKICAgICAgICBkcnBUb2tlbi50cmFuc2Zlck93bmVyc2hpcCh0cmFuc2ZlclByb3Bvc2FsLmRjb3JwQWRkcmVzcyk7CiAgICAgICAgaWYgKGRycFRva2VuLm93bmVyKCkgIT0gdHJhbnNmZXJQcm9wb3NhbC5kY29ycEFkZHJlc3MpIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQoKICAgICAgICBpZiAoIXRyYW5zZmVyUHJvcG9zYWwuZGNvcnBBZGRyZXNzLnNlbmQodGhpcy5iYWxhbmNlKSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CgogICAgICAgIHN0YWdlID0gU3RhZ2VzLkFjY2VwdGVkOwogICAgfQoKICAgIAogICAgLyoqCiAgICAgKiBSZWNlaXZlcyBFdGggYW5kIGlzc3VlIERSUCB0b2tlbnMgdG8gdGhlIHNlbmRlcgogICAgICovCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIGF0U3RhZ2UoU3RhZ2VzLkluUHJvZ3Jlc3MpIHsKCiAgICAgICAgLy8gQ3Jvd2RzYWxlIG5vdCBzdGFydGVkIHlldAogICAgICAgIGlmIChub3cgPCBzdGFydCkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CgogICAgICAgIC8vIENyb3dkc2FsZSBleHBpcmVkCiAgICAgICAgaWYgKG5vdyA+IGVuZCkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CgogICAgICAgIC8vIEVuZm9yY2UgbWluIGFtb3VudAogICAgICAgIGlmIChtc2cudmFsdWUgPCBtaW5BY2NlcHRlZEFtb3VudCkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAKICAgICAgICB1aW50MjU2IHJlY2VpdmVkID0gbXNnLnZhbHVlOwogICAgICAgIHVpbnQyNTYgdmFsdWVJbkRSUCA9IHRvRFJQKG1zZy52YWx1ZSk7CiAgICAgICAgaWYgKCFkcnBUb2tlbi5pc3N1ZShtc2cuc2VuZGVyLCB2YWx1ZUluRFJQKSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IHJlY2VpdmVkOwogICAgICAgIHJhaXNlZCArPSByZWNlaXZlZDsKCiAgICAgICAgLy8gQ2hlY2sgbWF4QW1vdW50IHJhaXNlZAogICAgICAgIGlmIChyYWlzZWQgPj0gbWF4QW1vdW50KSB7CiAgICAgICAgICAgIHN0YWdlID0gU3RhZ2VzLkVuZGVkOwogICAgICAgIH0KICAgIH0KfQ=='.
	

]
