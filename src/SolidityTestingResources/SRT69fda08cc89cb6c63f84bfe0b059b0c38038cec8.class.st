Class {
	#name : #SRT69fda08cc89cb6c63f84bfe0b059b0c38038cec8,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT69fda08cc89cb6c63f84bfe0b059b0c38038cec8 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuODsKCgovLyBNZXRydW1jb2luIEx0ZC4gd3d3Lm1ldHJ1bWNvaW4uY29tIAoKLy8gJ2ludGVyZmFjZSc6Ci8vICB0aGlzIGlzIGV4cGVjdGVkIGZyb20gYW5vdGhlciBjb250cmFjdCwKLy8gIGlmIGl0IHdhbnRzIHRvIHNwZW5kIHRva2VucyAoc2hhcmVzKSBvZiBiZWhhbGYgb2YgdGhlIHRva2VuIG93bmVyCi8vICBpbiBvdXIgY29udHJhY3QKY29udHJhY3QgdG9rZW5SZWNpcGllbnQgewogICAgZnVuY3Rpb24gcmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MgX2Zyb20sIC8vIHNoYXJlaG9kZXIKICAgIHVpbnQyNTYgX3ZhbHVlLCAvLyBudW1iZXIgb2Ygc2hhcmVzCiAgICBhZGRyZXNzIF9zaGFyZSwgLy8gLSB3aWxsIGJlIHRoaXMgY29udHJhY3QKICAgIGJ5dGVzIF9leHRyYURhdGEpOyAvLwp9CgoKY29udHJhY3QgTWV0cnVtY29pblNoYXJlcyB7CgogICAgLyogU3RhbmRhcmQgcHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4gKi8KCiAgICAvLyBzdHJpbmcgcHVibGljIHN0YW5kYXJkID0gJ0VSQzIwIFRva2VuJzsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCgogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIk1ldHJ1bWNvaW4gTHRkLiI7CgogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiU2hhcmVzIjsKCiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSAwOwoKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5ID0gNTAwMDA7CgogICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLSBDb3Jwb3JhdGUgU3RvY2sgTGVkZ2VyIC0tLS0tLS0tLS0gKi8KICAgIC8vIFNoYXJlcywgc2hhcmVob2xkZXJzLCBiYWxhbmNlcyBlY3QuCgogICAgLy8gbGlzdCBvZiBhbGwgc2hhcmVob2xkZXJzIChyZXByZXNlbnRlZCBieSBFdGhlcmV1bSBhY2NvdW50cykKICAgIC8vIGluIHRoaXMgQ29ycG9yYXRpb24ncyBoaXN0b3J5LCAjIGlzIElECiAgICBhZGRyZXNzW10gcHVibGljIHNoYXJlaG9sZGVyOwoKICAgIC8vIHRoaXMgaGVscHMgdG8gZmluZCBhZGRyZXNzIGJ5IElEIHdpdGhvdXQgbG9vcAogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgc2hhcmVob2xkZXJJRDsKCiAgICAvLyBsaXN0IG9mIGFkZHJlc3Nlcywgd2hvIGN1cnJlbnRseSBvd24gYXQgbGVhc3Qgb25lIHNoYXJlCiAgICBhZGRyZXNzW10gcHVibGljIGFjdGl2ZVNoYXJlaG9sZGVyc0FycmF5OwoKICAgIC8vIG1ha2VzIHBvc3NpYmxlIHRvIGl0ZXJhdGUgdGhyb3VnaCBhbiBhcnJheSBmcm9tIERhcHAKICAgIHVpbnQyNTYgcHVibGljIGFjdGl2ZVNoYXJlaG9sZGVyc0FycmF5TGVuZ3RoOwoKICAgIC8vIGJhbGFuY2VzOgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZU9mOwoKICAgIC8vIHNoYXJlcyB0aGF0IGhhdmUgdG8gYmUgbWFuYWdlZCBieSBleHRlcm5hbCBjb250cmFjdAogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dhbmNlOwoKICAgIC8qIC0tLS0tLS0gVXRpbGl0aWVzOiAgKi8KICAgIC8vIHVuaXZlcnNhbCBldmVudHMKICAgIGV2ZW50IFJlc3VsdChhZGRyZXNzIHRyYW5zYWN0aW9uSW5pdGlhdGVkQnksIHN0cmluZyBtZXNzYWdlKTsKCiAgICBldmVudCBNZXNzYWdlKHN0cmluZyBtZXNzYWdlKTsKCiAgICAvKiAgLS0tLS0tLS0tLS0tLS0tIENvbnN0cnVjdG9yIC0tLS0tLS0tLSAqLwogICAgLy8gSW5pdGlhbGl6ZXMgY29udHJhY3Qgd2l0aCBpbml0aWFsIHN1cHBseSB0b2tlbnMgdG8gdGhlIGNyZWF0b3Igb2YgdGhlIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBNZXRydW1jb2luU2hhcmVzKCkgey8vIC0gdHJ1ZmZsZSBjb21waWxlcyBvbmx5IG5vIGFyZ3MgQ29uc3RydWN0b3IKICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPSB0b3RhbFN1cHBseTsKICAgICAgICAvLyBHaXZlIHRoZSBjcmVhdG9yIGFsbCBpbml0aWFsCiAgICAgICAgLy8gLS0gc3RhcnQgY29ycG9yYXRlIHN0b2NrIGxlZGdlcgogICAgICAgIC8vIChwdXNoIC0gcmV0dXJucyB0aGUgbmV3IGxlbmd0aCk7CiAgICAgICAgc2hhcmVob2xkZXJJRFt0aGlzXSA9IHNoYXJlaG9sZGVyLnB1c2godGhpcykgLSAxOwogICAgICAgIC8vICMgMAogICAgICAgIHNoYXJlaG9sZGVySURbbXNnLnNlbmRlcl0gPSBzaGFyZWhvbGRlci5wdXNoKG1zZy5zZW5kZXIpIC0gMTsKICAgICAgICAvLyAjMQogICAgICAgIGFjdGl2ZVNoYXJlaG9sZGVyc0FycmF5LnB1c2gobXNnLnNlbmRlcik7CiAgICAgICAgLy8gYWRkIHRvIGFjdGl2ZSBzaGFyZWhvbGRlcnMKICAgICAgICAvLyB1cGRhdGUgQWN0aXZlU2hhcmVob2xkZXJzQXJyYXkgKGFycmF5IG9mIHNoYXJlaG9sZGVycyBoYXZpbmcgYXQgbGVhc3Qgb25lIHNoYXJlKQogICAgICAgIHJlZnJlc2hBY3RpdmVTaGFyZWhvbGRlcnNBcnJheSgpOwoKICAgIH0KCiAgICAvKiAtLS0tLS0tLS0tLS0tLS0gU2hhcmVzIG1hbmFnZW1lbnQgLS0tLS0tICovCgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CgogICAgZnVuY3Rpb24gcmVmcmVzaEFjdGl2ZVNoYXJlaG9sZGVyc0FycmF5KCkgcmV0dXJucyAoYWRkcmVzc1tdKSB7CiAgICAgICAgZGVsZXRlIGFjdGl2ZVNoYXJlaG9sZGVyc0FycmF5OwogICAgICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IHNoYXJlaG9sZGVyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChiYWxhbmNlT2Zbc2hhcmVob2xkZXJbaV1dID4gMCkgewogICAgICAgICAgICAgICAgYWN0aXZlU2hhcmVob2xkZXJzQXJyYXkucHVzaChzaGFyZWhvbGRlcltpXSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgYWN0aXZlU2hhcmVob2xkZXJzQXJyYXlMZW5ndGggPSBhY3RpdmVTaGFyZWhvbGRlcnNBcnJheS5sZW5ndGg7CiAgICAgICAgcmV0dXJuIGFjdGl2ZVNoYXJlaG9sZGVyc0FycmF5OwogICAgfQoKICAgIC8vIGNvbnN0YW50CiAgICBmdW5jdGlvbiBnZXRTaGFyZWhvbGRlckFycmF5KCkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzc1tdKXsKICAgICAgICByZXR1cm4gc2hhcmVob2xkZXI7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0U2hhcmVob2xkZXJBcnJheUxlbmd0aCgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpewogICAgICAgIHJldHVybiBzaGFyZWhvbGRlci5sZW5ndGg7CiAgICB9CgogICAgLyogLS0tLSBUcmFuc2ZlciBzaGFyZXMgdG8gYW5vdGhlciBhZGRyZXNzIC0tLS0qLwogICAgLy8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy8gY2hlY2sgYXJndW1lbnRzOgogICAgICAgIGlmIChfdmFsdWUgPCAxKSB0aHJvdzsKICAgICAgICBpZiAodGhpcyA9PSBfdG8pIHRocm93OwogICAgICAgIC8vIGRvIG5vdCBzZW5kIHNoYXJlcyB0byBjb250cmFjdCBpdHNlbGY7CiAgICAgICAgaWYgKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA8IF92YWx1ZSkgdGhyb3c7CiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCgogICAgICAgIC8vIG1ha2UgdHJhbnNhY3Rpb24KICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIGJhbGFuY2VPZltfdG9dICs9IF92YWx1ZTsKICAgICAgICAvLyBBZGQgdGhlIHNhbWUgdG8gdGhlIHJlY2lwaWVudAoKICAgICAgICAvLyBpZiBuZXcgYWRkcmVzcywgYWRkIGl0IHRvIHNoYXJlaG9sZGVycyBoaXN0b3J5IChzdG9jayBsZWRnZXIpOgogICAgICAgIGlmIChzaGFyZWhvbGRlcklEW190b10gPT0gMCkgey8vIC0tLS0tLS0tLS0tIGNoZWNrIGlmIHdvcmtzCiAgICAgICAgICAgIHNoYXJlaG9sZGVySURbX3RvXSA9IHNoYXJlaG9sZGVyLnB1c2goX3RvKSAtIDE7CiAgICAgICAgfQoKICAgICAgICAvLyB1cGRhdGUgQWN0aXZlU2hhcmVob2xkZXJzQXJyYXkgKGFycmF5IG9mIHNoYXJlaG9sZGVycyBoYXZpbmcgYXQgbGVhc3Qgb25lIHNoYXJlKQogICAgICAgIHJlZnJlc2hBY3RpdmVTaGFyZWhvbGRlcnNBcnJheSgpOwoKICAgICAgICAvLyBOb3RpZnkgYW55b25lIGxpc3RlbmluZyB0aGF0IHRoaXMgdHJhbnNmZXIgdG9vayBwbGFjZQogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICB9IC8vIGVuZCBvZiB0cmFuc2ZlcigpCgogICAgLyogQWxsb3cgYW5vdGhlciBjb250cmFjdCB0byBzcGVuZCBzb21lIHNoYXJlcyBpbiB5b3VyIGJlaGFsZgogICAgKHNoYXJlaG9sZGVyIGNhbGxzIHRoaXMpICovCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCAvLyBhbm90aGVyIGNvbnRyYWN0J3MgYWRyZXNzCiAgICB1aW50MjU2IF92YWx1ZSwgLy8gbnVtYmVyIG9mIHNoYXJlcwogICAgYnl0ZXMgX2V4dHJhRGF0YSkgLy8gZGF0YSBmb3IgYW5vdGhlciBjb250cmFjdAogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy8gbXNnLnNlbmRlciAtIGFjY291bnQgb3duZXIgd2hvIGdpdmVzIGFsbG93YW5jZQogICAgICAgIC8vIF9zcGVuZGVyICAgLSBhZGRyZXNzIG9mIGFub3RoZXIgY29udHJhY3QKICAgICAgICAvLyBpdCB3cml0ZXMgaW4gImFsbG93YW5jZSIgdGhhdCB0aGlzIG93bmVyIGFsbG93cyBhbm90aGVyCiAgICAgICAgLy8gY29udHJhY3QgKF9zcGVuZGVyKSB0byBzcGVuZCB0aGlzIGFtb3VudCAoX3ZhbHVlKSBvZiBzaGFyZXMKICAgICAgICAvLyBpbiBoaXMgYmVoYWxmCiAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICAvLyAnc3BlbmRlcicgaXMgYW5vdGhlciBjb250cmFjdCB0aGF0IGltcGxlbWVudHMgY29kZQogICAgICAgIC8vICBwcmVzY3JpYmVkIGluICdzaGFyZVJlY2lwaWVudCcgYWJvdmUKICAgICAgICB0b2tlblJlY2lwaWVudCBzcGVuZGVyID0gdG9rZW5SZWNpcGllbnQoX3NwZW5kZXIpOwogICAgICAgIC8vIHRoaXMgY29udHJhY3QgY2FsbHMgJ3JlY2VpdmVBcHByb3ZhbCcgZnVuY3Rpb24KICAgICAgICAvLyBvZiBhbm90aGVyIGNvbnRyYWN0IHRvIHNlbmQgaW5mb3JtYXRpb24gYWJvdXQKICAgICAgICAvLyBhbGxvd2FuY2UKICAgICAgICBzcGVuZGVyLnJlY2VpdmVBcHByb3ZhbChtc2cuc2VuZGVyLCAvLyBzaGFyZXMgb3duZXIKICAgICAgICBfdmFsdWUsIC8vIG51bWJlciBvZiBzaGFyZXMKICAgICAgICB0aGlzLCAvLyB0aGlzIGNvbnRyYWN0J3MgYWRyZXNzCiAgICAgICAgX2V4dHJhRGF0YSk7CiAgICAgICAgLy8gZGF0YSBmcm9tIHNoYXJlcyBvd25lcgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qIHRoaXMgZnVuY3Rpb24gY2FuIGJlIGNhbGxlZCBmcm9tIGFub3RoZXIgY29udHJhY3QsIGFmdGVyIGl0CiAgICBoYXZlIGFsbG93YW5jZSB0byB0cmFuc2ZlciBzaGFyZXMgaW4gYmVoYWxmIG9mIHNoYXJlaG9sZGVyICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sCiAgICBhZGRyZXNzIF90bywKICAgIHVpbnQyNTYgX3ZhbHVlKQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgogICAgICAgIC8vIENoZWNrIGFyZ3VtZW50czoKICAgICAgICAvLyBzaG91bGQgb25lIHNoYXJlIG9yIG1vcmUKICAgICAgICBpZiAoX3ZhbHVlIDwgMSkgdGhyb3c7CiAgICAgICAgLy8gZG8gbm90IHNlbmQgc2hhcmVzIHRvIHRoaXMgY29udHJhY3QgaXRzZWxmOwogICAgICAgIGlmICh0aGlzID09IF90bykgdGhyb3c7CiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCiAgICAgICAgaWYgKGJhbGFuY2VPZltfZnJvbV0gPCBfdmFsdWUpIHRocm93OwoKICAgICAgICAvLyBDaGVjayBhbGxvd2FuY2UKICAgICAgICBpZiAoX3ZhbHVlID4gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSkgdGhyb3c7CgogICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIGJhbGFuY2VPZltfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgIC8vIEFkZCB0aGUgc2FtZSB0byB0aGUgcmVjaXBpZW50CiAgICAgICAgYmFsYW5jZU9mW190b10gKz0gX3ZhbHVlOwoKICAgICAgICAvLyBDaGFuZ2UgYWxsb3dhbmNlcyBjb3JyZXNwb25kaW5nbHkKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKCiAgICAgICAgLy8gaWYgdHJhbnNmZXIgdG8gbmV3IGFkZHJlc3MgLS0gYWRkIGhpbSB0byBsZWRnZXIKICAgICAgICBpZiAoc2hhcmVob2xkZXJJRFtfdG9dID09IDApIHsKICAgICAgICAgICAgc2hhcmVob2xkZXJJRFtfdG9dID0gc2hhcmVob2xkZXIucHVzaChfdG8pIC0gMTsKICAgICAgICAgICAgLy8gcHVzaCBmdW5jdGlvbiByZXR1cm5zIHRoZSBuZXcgbGVuZ3RoCiAgICAgICAgfQoKICAgICAgICAvLyB1cGRhdGUgQWN0aXZlU2hhcmVob2xkZXJzQXJyYXkgKGFycmF5IG9mIHNoYXJlaG9sZGVycyBoYXZpbmcgYXQgbGVhc3Qgb25lIHNoYXJlKQogICAgICAgIHJlZnJlc2hBY3RpdmVTaGFyZWhvbGRlcnNBcnJheSgpOwoKICAgICAgICAvLyBOb3RpZnkgYW55b25lIGxpc3RlbmluZyB0aGF0IHRoaXMgdHJhbnNmZXIgdG9vayBwbGFjZQogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qICAtLS0tLS0tLS0gVm90aW5nICAtLS0tLS0tLS0tLS0tLSAgKi8KICAgIC8vIHdlIG9ubHkgY291bnQgJ3llcycgdm90ZXMsIG5vdCB2b3RpbmcgJ3llcycKICAgIC8vIGNvbnNpZGVyZWQgYXMgdm90aW5nICdubycgKGFzIHN0YXRlZCBpbiBCeWxhd3MpCgogICAgLy8gZWFjaCBwcm9wb3NhbCBzaG91bGQgY29udGFpbiBpdCdzIHRleHQKICAgIC8vIGluZGV4IG9mIHRleHQgaW4gdGhpcyBhcnJheSBpcyBhIHByb3Bvc2FsIElECiAgICBzdHJpbmdbXSBwdWJsaWMgcHJvcG9zYWxUZXh0OwoKICAgIC8vIHByb3Bvc2FsSUQgPT4gKHNoYXJlaG9sZGVyID0+ICJpZiBhbHJlYWR5IHZvdGVkIGZvciB0aGlzIHByb3Bvc2FsIikKICAgIG1hcHBpbmcgKHVpbnQyNTYgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSkgdm90ZWQ7CgogICAgLy8gcHJvcG9zYWxJRCA9PiBhZGRyZXNzZXMgdm90ZWQgJ3llcycKICAgIC8vIGV4YWN0IG51bWJlciBvZiB2b3RlcyBhY2NvcmRpbmcgdG8gc2hhcmVzIHdpbGwgYmUgY291bnRlZAogICAgLy8gYWZ0ZXIgZGVhZGxpbmUKICAgIG1hcHBpbmcgKHVpbnQyNTYgPT4gYWRkcmVzc1tdKSBwdWJsaWMgdm90ZXM7CgogICAgLy8gcHJvcG9zYWxJRCA9PiBkZWFkbGluZQogICAgbWFwcGluZyAodWludDI1NiA9PiB1aW50MjU2KSBwdWJsaWMgZGVhZGxpbmU7CgogICAgLy8gcHJvcG9zYWxJRCA9PiBmaW5hbCAneWVzJyB2b3RlcwogICAgbWFwcGluZyAodWludDI1NiA9PiB1aW50MjU2KSBwdWJsaWMgcmVzdWx0czsKCiAgICAvLyBwcm9wb3NhbHMgb2YgZXZlcnkgc2hhcmVob2xkZXIKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NltdKSBwdWJsaWMgcHJvcG9zYWxzQnlTaGFyZWhvbGRlcjsKCiAgICAvLyB1c2VmdWwgZm9yIERhcHAsIHRvIGdldCBhcnJheSB1c2luZyBsb29wCiAgICBmdW5jdGlvbiBnZXRQcm9wb3NhbFRleHRBcnJheUxlbmd0aCgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpewogICAgICAgIHJldHVybiBwcm9wb3NhbFRleHQubGVuZ3RoOwogICAgfQoKICAgIGV2ZW50IFByb3Bvc2FsQWRkZWQodWludDI1NiBwcm9wb3NhbElELAogICAgYWRkcmVzcyBpbml0aWF0b3IsCiAgICBzdHJpbmcgZGVzY3JpcHRpb24sCiAgICB1aW50MjU2IGRlYWRsaW5lKTsKCiAgICBldmVudCBWb3RpbmdGaW5pc2hlZCh1aW50MjU2IHByb3Bvc2FsSUQsIHVpbnQyNTYgdm90ZXMpOwoKICAgIGZ1bmN0aW9uIG1ha2VOZXdQcm9wb3NhbChzdHJpbmcgX3Byb3Bvc2FsRGVzY3JpcHRpb24sCiAgICB1aW50MjU2IF9kZWJhdGluZ1BlcmlvZEluTWludXRlcykKICAgIHJldHVybnMgKHVpbnQyNTYpewogICAgICAgIC8vIG9ubHkgc2hhcmVob2xkZXIgd2l0aCBvbmUgb3IgbW9yZSBzaGFyZXMgY2FuIG1ha2UgYSBwcm9wb3NhbAogICAgICAgIC8vICEhISEgY2FuIGJlIG1vcmUgdGhlbiBvbmUgc2hhcmUgcmVxdWlyZWQKICAgICAgICBpZiAoYmFsYW5jZU9mW21zZy5zZW5kZXJdIDwgMSkgdGhyb3c7CgogICAgICAgIGlmIChfZGViYXRpbmdQZXJpb2RJbk1pbnV0ZXMgPCAxKSB0aHJvdzsKCiAgICAgICAgdWludDI1NiBpZCA9IHByb3Bvc2FsVGV4dC5wdXNoKF9wcm9wb3NhbERlc2NyaXB0aW9uKSAtIDE7CiAgICAgICAgZGVhZGxpbmVbaWRdID0gbm93ICsgX2RlYmF0aW5nUGVyaW9kSW5NaW51dGVzICogMSBtaW51dGVzOwoKICAgICAgICAvLyBhZGQgdG8gcHJvcG9zYWxzIG9mIHRoaXMgc2hhcmVob2xkZXI6CiAgICAgICAgcHJvcG9zYWxzQnlTaGFyZWhvbGRlclttc2cuc2VuZGVyXS5wdXNoKGlkKTsKCiAgICAgICAgLy8gaW5pdGlhdG9yIGFsd2F5cyB2b3RlcyAneWVzJwogICAgICAgIHZvdGVzW2lkXS5wdXNoKG1zZy5zZW5kZXIpOwogICAgICAgIHZvdGVkW2lkXVttc2cuc2VuZGVyXSA9IHRydWU7CgogICAgICAgIFByb3Bvc2FsQWRkZWQoaWQsIG1zZy5zZW5kZXIsIF9wcm9wb3NhbERlc2NyaXB0aW9uLCBkZWFkbGluZVtpZF0pOwoKICAgICAgICByZXR1cm4gaWQ7CiAgICAgICAgLy8gcmV0dXJucyBwcm9wb3NhbCBpZAogICAgfQoKICAgIC8vID4+PiBub3QgZnJvbSBXYWxsZXQgKG5lZWRzIG1zZy5zZW5kZXIpLCBmcm9tIERhcHAKICAgIGZ1bmN0aW9uIGdldE15UHJvcG9zYWxzKCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NltdKXsKICAgICAgICByZXR1cm4gcHJvcG9zYWxzQnlTaGFyZWhvbGRlclttc2cuc2VuZGVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiB2b3RlRm9yUHJvcG9zYWwodWludDI1NiBfcHJvcG9zYWxJRCkgcmV0dXJucyAoc3RyaW5nKSB7CgogICAgICAgIC8vIGlmIG5vIHNoYXJlcyBjdXJyZW50bHkgb3duZWQgLSBubyByaWdodCB0byB2b3RlCiAgICAgICAgaWYgKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA8IDEpIHJldHVybiAibm8gc2hhcmVzLCB2b3RlIG5vdCBhY2NlcHRlZCI7CgogICAgICAgIC8vIGlmIGFscmVhZHkgdm90ZWQgLSB0aHJvdywgZWxzZSB2b3RpbmcgY2FuIGJlIHNwYW1tZWQKICAgICAgICBpZiAodm90ZWRbX3Byb3Bvc2FsSURdW21zZy5zZW5kZXJdKSB7CiAgICAgICAgICAgIHJldHVybiAiYWxyZWFkeSB2b3RlZCwgdm90ZSBub3QgYWNjZXB0ZWQiOwogICAgICAgIH0KCiAgICAgICAgLy8gbm8gdm90ZXMgYWZ0ZXIgZGVhZGxpbmUKICAgICAgICBpZiAobm93ID4gZGVhZGxpbmVbX3Byb3Bvc2FsSURdKSB7CiAgICAgICAgICAgIHJldHVybiAidm90ZSBub3QgYWNjZXB0ZWQgYWZ0ZXIgZGVhZGxpbmUiOwogICAgICAgIH0KCiAgICAgICAgLy8gYWRkIHRvIGxpc3Qgb2Ygdm90ZWQgJ3llcycKICAgICAgICB2b3Rlc1tfcHJvcG9zYWxJRF0ucHVzaChtc2cuc2VuZGVyKTsKICAgICAgICB2b3RlZFtfcHJvcG9zYWxJRF1bbXNnLnNlbmRlcl0gPSB0cnVlOwogICAgICAgIHJldHVybiAidm90ZSBhY2NlcHRlZCI7CiAgICB9CgogICAgLy8gdG8gY291bnQgdm90ZXMgdGhpcyB0cmFuc2FjdGlvbiBzaG91bGQgYmUgc3RhcnRlZCBtYW51YWxseQogICAgLy8gZnJvbSBfYW55XyBFdGhlcmV1bSBhZGRyZXNzIGFmdGVyIGRlYWRsaW5lCiAgICBmdW5jdGlvbiBjb3VudFZvdGVzKHVpbnQyNTYgX3Byb3Bvc2FsSUQpIHJldHVybnMgKHVpbnQyNTYpewoKICAgICAgICAvLyBpZiBub3QgYWZ0ZXIgZGVhZGxpbmUgLSB0aHJvdwogICAgICAgIGlmIChub3cgPCBkZWFkbGluZVtfcHJvcG9zYWxJRF0pIHRocm93OwoKICAgICAgICAvLyBpZiBhbHJlYWR5IGNvdW50ZWQgcmV0dXJuIHJlc3VsdDsKICAgICAgICBpZiAocmVzdWx0c1tfcHJvcG9zYWxJRF0gPiAwKSByZXR1cm4gcmVzdWx0c1tfcHJvcG9zYWxJRF07CgogICAgICAgIC8vIGVsc2Ugc2hvdWxkIGNvdW50IHJlc3VsdHMgYW5kIHN0b3JlIGluIHB1YmxpYyB2YXJpYWJsZQogICAgICAgIHVpbnQyNTYgcmVzdWx0ID0gMDsKICAgICAgICBmb3IgKHVpbnQyNTYgaSA9IDA7IGkgPCB2b3Rlc1tfcHJvcG9zYWxJRF0ubGVuZ3RoOyBpKyspIHsKCiAgICAgICAgICAgIGFkZHJlc3Mgdm90ZXIgPSB2b3Rlc1tfcHJvcG9zYWxJRF1baV07CiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCArIGJhbGFuY2VPZlt2b3Rlcl07CiAgICAgICAgfQogICAgICAgIC8vIC0tLS0tPj4+ICEhISBpbXBvcnRhbnQKICAgICAgICAvLyBzdG9yZSByZXN1bHQKICAgICAgICByZXN1bHRzW19wcm9wb3NhbElEXSA9IHJlc3VsdDsKCiAgICAgICAgLy8gTG9nIGFuZCBub3RpZnkgYW55b25lIGxpc3RlbmluZyB0aGF0IHRoaXMgdm90aW5nIGZpbmlzaGVkCiAgICAgICAgLy8gd2l0aCAncmVzdWx0JyAtIG51bWJlciBvZiAneWVzJyB2b3RlcwogICAgICAgIFZvdGluZ0ZpbmlzaGVkKF9wcm9wb3NhbElELCByZXN1bHQpOwoKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKfQ=='.
	

]
