Class {
	#name : #SRT5db2d4a2e6d06f9afe906fc33036f77ebe87b59b,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5db2d4a2e6d06f9afe906fc33036f77ebe87b59b >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vCi8vIEdaUiAnR2l6ZXIgR2FtaW5nJyB0b2tlbiBwdWJsaWMgc2FsZSBjb250cmFjdAovLwovLyBGb3IgZGV0YWlscywgcGxlYXNlIHZpc2l0OiBodHRwOi8vd3d3LmdpemVyLmlvCi8vCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vCi8vIFNhZmVNYXRoIChkaXZpc2lvbiBub3QgbmVlZGVkKQovLwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpsaWJyYXJ5IFNhZmVNYXRoIHsKCiAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgYykgewogICAgYyA9IGEgKyBiOwogICAgcmVxdWlyZSggYyA+PSBhICk7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCBjKSB7CiAgICByZXF1aXJlKCBiIDw9IGEgKTsKICAgIGMgPSBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50IGMpIHsKICAgIGMgPSBhICogYjsKICAgIHJlcXVpcmUoIGEgPT0gMCB8fCBjIC8gYSA9PSBiICk7CiAgfQoKfQoKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8KLy8gT3duZWQgY29udHJhY3QKLy8KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY29udHJhY3QgT3duZWQgewoKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICBhZGRyZXNzIHB1YmxpYyBuZXdPd25lcjsKCiAgLy8gRXZlbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlclByb3Bvc2VkKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90byk7CiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIF90byk7CgogIC8vIE1vZGlmaWVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgbW9kaWZpZXIgb25seU93bmVyIHsKICAgIHJlcXVpcmUoIG1zZy5zZW5kZXIgPT0gb3duZXIgKTsKICAgIF87CiAgfQoKICAvLyBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogIGZ1bmN0aW9uIE93bmVkKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoIF9uZXdPd25lciAhPSBvd25lciApOwogICAgcmVxdWlyZSggX25ld093bmVyICE9IGFkZHJlc3MoMHgwKSApOwogICAgbmV3T3duZXIgPSBfbmV3T3duZXI7CiAgICBPd25lcnNoaXBUcmFuc2ZlclByb3Bvc2VkKG93bmVyLCBfbmV3T3duZXIpOwogIH0KCiAgZnVuY3Rpb24gYWNjZXB0T3duZXJzaGlwKCkgcHVibGljIHsKICAgIHJlcXVpcmUoIG1zZy5zZW5kZXIgPT0gbmV3T3duZXIgKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lcik7CiAgfQoKfQoKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8KLy8gRVJDIFRva2VuIFN0YW5kYXJkICMyMCBJbnRlcmZhY2UKLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvYmxvYi9tYXN0ZXIvRUlQUy9laXAtMjAtdG9rZW4tc3RhbmRhcmQubWQKLy8KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY29udHJhY3QgRVJDMjBJbnRlcmZhY2UgewoKICAvLyBFdmVudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludCBfdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludCBfdmFsdWUpOwoKICAvLyBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50IGJhbGFuY2UpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50IHJlbWFpbmluZyk7Cgp9CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLwovLyBFUkMgVG9rZW4gU3RhbmRhcmQgIzIwCi8vCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmNvbnRyYWN0IEVSQzIwVG9rZW4gaXMgRVJDMjBJbnRlcmZhY2UsIE93bmVkIHsKICAKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgdWludCBwdWJsaWMgdG9rZW5zSXNzdWVkVG90YWwgPSAwOwogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBiYWxhbmNlczsKICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKCiAgLy8gRnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAvKiBUb3RhbCB0b2tlbiBzdXBwbHkgKi8KCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KSB7CiAgICByZXR1cm4gdG9rZW5zSXNzdWVkVG90YWw7CiAgfQoKICAvKiBHZXQgdGhlIGFjY291bnQgYmFsYW5jZSBmb3IgYW4gYWRkcmVzcyAqLwoKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKICAvKiBUcmFuc2ZlciB0aGUgYmFsYW5jZSBmcm9tIG93bmVyJ3MgYWNjb3VudCB0byBhbm90aGVyIGFjY291bnQgKi8KCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgLy8gYW1vdW50IHNlbnQgY2Fubm90IGV4Y2VlZCBiYWxhbmNlCiAgICByZXF1aXJlKCBiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfYW1vdW50ICk7CgogICAgLy8gdXBkYXRlIGJhbGFuY2VzCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KTsKICAgIGJhbGFuY2VzW190b10gICAgICAgID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CgogICAgLy8gbG9nIGV2ZW50CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKiBBbGxvdyBfc3BlbmRlciB0byB3aXRoZHJhdyBmcm9tIHlvdXIgYWNjb3VudCB1cCB0byBfYW1vdW50ICovCgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAvLyBhcHByb3ZhbCBhbW91bnQgY2Fubm90IGV4Y2VlZCB0aGUgYmFsYW5jZQogICAgcmVxdWlyZSggYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCApOwogICAgICAKICAgIC8vIHVwZGF0ZSBhbGxvd2VkIGFtb3VudAogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfYW1vdW50OwogICAgCiAgICAvLyBsb2cgZXZlbnQKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyogU3BlbmRlciBvZiB0b2tlbnMgdHJhbnNmZXJzIHRva2VucyBmcm9tIHRoZSBvd25lcidzIGJhbGFuY2UgKi8KICAvKiBNdXN0IGJlIHByZS1hcHByb3ZlZCBieSBvd25lciAqLwoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgLy8gYmFsYW5jZSBjaGVja3MKICAgIHJlcXVpcmUoIGJhbGFuY2VzW19mcm9tXSA+PSBfYW1vdW50ICk7CiAgICByZXF1aXJlKCBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfYW1vdW50ICk7CgogICAgLy8gdXBkYXRlIGJhbGFuY2VzIGFuZCBhbGxvd2VkIGFtb3VudAogICAgYmFsYW5jZXNbX2Zyb21dICAgICAgICAgICAgPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF9hbW91bnQpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CiAgICBiYWxhbmNlc1tfdG9dICAgICAgICAgICAgICA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwoKICAgIC8vIGxvZyBldmVudAogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qIFJldHVybnMgdGhlIGFtb3VudCBvZiB0b2tlbnMgYXBwcm92ZWQgYnkgdGhlIG93bmVyICovCiAgLyogdGhhdCBjYW4gYmUgdHJhbnNmZXJyZWQgYnkgc3BlbmRlciAqLwoKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9Cgp9CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLwovLyBHWlIgcHVibGljIHRva2VuIHNhbGUKLy8KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY29udHJhY3QgR2l6ZXJUb2tlbiBpcyBFUkMyMFRva2VuIHsKCiAgLyogVXRpbGl0eSB2YXJpYWJsZSAqLwogIAogIHVpbnQgY29uc3RhbnQgRTYgID0gMTAqKjY7CgogIC8qIEJhc2ljIHRva2VuIGRhdGEgKi8KCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lICAgICA9ICJHaXplciBHYW1pbmcgVG9rZW4iOwogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sICAgPSAiR1pSIjsKICB1aW50OCAgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gNjsKCiAgLyogV2FsbGV0cyAqLwogIAogIGFkZHJlc3MgcHVibGljIHdhbGxldDsKICBhZGRyZXNzIHB1YmxpYyByZWRlbXB0aW9uV2FsbGV0OwoKICAvKiBDcm93ZHNhbGUgcGFyYW1ldGVycyAoY29uc3RhbnRzKSAqLwoKICB1aW50IHB1YmxpYyBjb25zdGFudCBEQVRFX0lDT19TVEFSVCA9IDE1MTg5NjI0MDA7IC8vIDE4LUZlYi0yMDE4IDE0OjAwIFVUQyAwOTowMCBFU1QKICB1aW50IHB1YmxpYyBjb25zdGFudCBEQVRFX0lDT19FTkQgICA9IDE1MjExMjI0MDA7IC8vIDE1LU1hci0yMDE4IDE0OjAwIFVUQyAxMDowMCBFU1QKCiAgdWludCBwdWJsaWMgY29uc3RhbnQgVE9LRU5fU1VQUExZX1RPVEFMID0gMTAwMDAwMDAgKiBFNjsKICB1aW50IHB1YmxpYyBjb25zdGFudCBUT0tFTl9TVVBQTFlfQ1JPV0QgPSAgNjExMjkyNiAqIEU2OwogIHVpbnQgcHVibGljIGNvbnN0YW50IFRPS0VOX1NVUFBMWV9PV05FUiA9ICAzODg3MDc0ICogRTY7IC8vIDIsMDAwLDAwMCB0b2tlbnMgcmVzZXJ2ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEsODg3LDA3NCBwcmVzYWxlIHRva2VucwoKICB1aW50IHB1YmxpYyBjb25zdGFudCBNSU5fQ09OVFJJQlVUSU9OID0gMSBldGhlciAvIDEwMDsgIAogIAogIHVpbnQgcHVibGljIGNvbnN0YW50IFRPS0VOU19QRVJfRVRIID0gMTAwMDsKICAKICB1aW50IHB1YmxpYyBjb25zdGFudCBEQVRFX1RPS0VOU19VTkxPQ0tFRCA9IDE1MzcwMjAwMDA7IC8vIDE1LVNFUC0yMDE4IDE0OjAwIFVUQyAxMDowMCBFU1QKICAKICAvKiBDcm93ZHNhbGUgdmFyaWFibGVzICovCgogIHVpbnQgcHVibGljIHRva2Vuc0lzc3VlZENyb3dkICA9IDA7CiAgdWludCBwdWJsaWMgdG9rZW5zSXNzdWVkT3duZXIgID0gMDsKICB1aW50IHB1YmxpYyB0b2tlbnNJc3N1ZWRMb2NrZWQgPSAwOwogIAogIHVpbnQgcHVibGljIGV0aGVyUmVjZWl2ZWQgPSAwOyAvLyBkb2VzIG5vdCBpbmNsdWRlIHByZXNhbGUgZXRoZXJzCgogIC8qIEtlZXAgdHJhY2sgb2YgKyBldGhlcnMgY29udHJpYnV0ZWQsCiAgICAgICAgICAgICAgICAgICArIHRva2VucyByZWNlaXZlZCAKICAgICAgICAgICAgICAgICAgICsgdG9rZW5zIGxvY2tlZCBkdXJpbmcgQ3Jvd2RzYWxlICovCiAgCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBldGhlckNvbnRyaWJ1dGVkOwogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgdG9rZW5zUmVjZWl2ZWQ7CiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBsb2NrZWQ7CiAgCiAgLy8gRXZlbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogIAogIGV2ZW50IFdhbGxldFVwZGF0ZWQoYWRkcmVzcyBfbmV3V2FsbGV0KTsKICBldmVudCBSZWRlbXB0aW9uV2FsbGV0VXBkYXRlZChhZGRyZXNzIF9uZXdSZWRlbXB0aW9uV2FsbGV0KTsKICBldmVudCBFdGhDZW50c1VwZGF0ZWQodWludCBfY2VudHMpOwogIGV2ZW50IFRva2Vuc0lzc3VlZENyb3dkKGFkZHJlc3MgaW5kZXhlZCBfcmVjaXBpZW50LCB1aW50IF90b2tlbnMsIHVpbnQgX2V0aGVyKTsKICBldmVudCBUb2tlbnNJc3N1ZWRPd25lcihhZGRyZXNzIGluZGV4ZWQgX3JlY2lwaWVudCwgdWludCBfdG9rZW5zLCBib29sIF9sb2NrZWQpOwoKICAvLyBCYXNpYyBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tCgogIC8qIEluaXRpYWxpemUgKi8KCiAgZnVuY3Rpb24gR2l6ZXJUb2tlbigpIHB1YmxpYyB7CiAgICByZXF1aXJlKCBUT0tFTl9TVVBQTFlfT1dORVIgKyBUT0tFTl9TVVBQTFlfQ1JPV0QgPT0gVE9LRU5fU1VQUExZX1RPVEFMICk7CiAgICB3YWxsZXQgPSBvd25lcjsKICAgIHJlZGVtcHRpb25XYWxsZXQgPSBvd25lcjsKICB9CgogIC8qIEZhbGxiYWNrICovCiAgCiAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewogICAgYnV5VG9rZW5zKCk7CiAgfQoKICAvLyBJbmZvcm1hdGlvbiBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tCiAgCiAgLyogV2hhdCB0aW1lIGlzIGl0PyAqLwogIAogIGZ1bmN0aW9uIGF0Tm93KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCkgewogICAgcmV0dXJuIG5vdzsKICB9CgogIC8qIEFyZSB0b2tlbnMgdHJhZGVhYmxlICovCiAgCiAgZnVuY3Rpb24gdHJhZGVhYmxlKCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgaWYgKGF0Tm93KCkgPiBEQVRFX0lDT19FTkQpIHJldHVybiB0cnVlIDsKICAgIHJldHVybiBmYWxzZTsKICB9CiAgCiAgLyogQXZhaWxhYmxlIHRvIG1pbnQgYnkgb3duZXIgKi8KICAKICBmdW5jdGlvbiBhdmFpbGFibGVUb01pbnQoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50IGF2YWlsYWJsZSkgewogICAgaWYgKGF0Tm93KCkgPD0gREFURV9JQ09fRU5EKSB7CiAgICAgIGF2YWlsYWJsZSA9IFRPS0VOX1NVUFBMWV9PV05FUi5zdWIodG9rZW5zSXNzdWVkT3duZXIpOwogICAgfSBlbHNlIHsKICAgICAgYXZhaWxhYmxlID0gVE9LRU5fU1VQUExZX1RPVEFMLnN1Yih0b2tlbnNJc3N1ZWRUb3RhbCk7CiAgICB9CiAgfQogIAogIC8qIFVubG9ja2VkIHRva2VucyBpbiBhbiBhY2NvdW50ICovCiAgCiAgZnVuY3Rpb24gdW5sb2NrZWRUb2tlbnMoYWRkcmVzcyBfYWNjb3VudCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCBfdW5sb2NrZWRUb2tlbnMpIHsKICAgIGlmIChhdE5vdygpIDw9IERBVEVfVE9LRU5TX1VOTE9DS0VEKSB7CiAgICAgIHJldHVybiBiYWxhbmNlc1tfYWNjb3VudF0gLSBsb2NrZWRbX2FjY291bnRdOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGJhbGFuY2VzW19hY2NvdW50XTsKICAgIH0KICB9CgogIC8vIE93bmVyIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0KICAKICAvKiBDaGFuZ2UgdGhlIGNyb3dkc2FsZSB3YWxsZXQgYWRkcmVzcyAqLwoKICBmdW5jdGlvbiBzZXRXYWxsZXQoYWRkcmVzcyBfd2FsbGV0KSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoIF93YWxsZXQgIT0gYWRkcmVzcygweDApICk7CiAgICB3YWxsZXQgPSBfd2FsbGV0OwogICAgV2FsbGV0VXBkYXRlZChfd2FsbGV0KTsKICB9CgogIC8qIENoYW5nZSB0aGUgcmVkZW1wdGlvbiB3YWxsZXQgYWRkcmVzcyAqLwoKICBmdW5jdGlvbiBzZXRSZWRlbXB0aW9uV2FsbGV0KGFkZHJlc3MgX3dhbGxldCkgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKCBfd2FsbGV0ICE9IGFkZHJlc3MoMHgwKSApOwogICAgcmVkZW1wdGlvbldhbGxldCA9IF93YWxsZXQ7CiAgICBSZWRlbXB0aW9uV2FsbGV0VXBkYXRlZChfd2FsbGV0KTsKICB9CiAgCiAgLyogTWludGluZyBvZiB0b2tlbnMgYnkgb3duZXIgKi8KCiAgZnVuY3Rpb24gbWludFRva2VucyhhZGRyZXNzIF9hY2NvdW50LCB1aW50IF90b2tlbnMpIHB1YmxpYyBvbmx5T3duZXIgewogICAgLy8gY2hlY2sgdG9rZW4gYW1vdW50CiAgICByZXF1aXJlKCBfdG9rZW5zIDw9IGF2YWlsYWJsZVRvTWludCgpICk7CiAgICAKICAgIC8vIHVwZGF0ZQogICAgYmFsYW5jZXNbX2FjY291bnRdID0gYmFsYW5jZXNbX2FjY291bnRdLmFkZChfdG9rZW5zKTsKICAgIHRva2Vuc0lzc3VlZE93bmVyICA9IHRva2Vuc0lzc3VlZE93bmVyLmFkZChfdG9rZW5zKTsKICAgIHRva2Vuc0lzc3VlZFRvdGFsICA9IHRva2Vuc0lzc3VlZFRvdGFsLmFkZChfdG9rZW5zKTsKICAgIAogICAgLy8gbG9nIGV2ZW50CiAgICBUcmFuc2ZlcigweDAsIF9hY2NvdW50LCBfdG9rZW5zKTsKICAgIFRva2Vuc0lzc3VlZE93bmVyKF9hY2NvdW50LCBfdG9rZW5zLCBmYWxzZSk7CiAgfQoKICAvKiBNaW50aW5nIG9mIHRva2VucyBieSBvd25lciAqLwoKICBmdW5jdGlvbiBtaW50VG9rZW5zTG9ja2VkKGFkZHJlc3MgX2FjY291bnQsIHVpbnQgX3Rva2VucykgcHVibGljIG9ubHlPd25lciB7CiAgICAvLyBjaGVjayB0b2tlbiBhbW91bnQKICAgIHJlcXVpcmUoIF90b2tlbnMgPD0gYXZhaWxhYmxlVG9NaW50KCkgKTsKICAgIAogICAgLy8gdXBkYXRlCiAgICBiYWxhbmNlc1tfYWNjb3VudF0gPSBiYWxhbmNlc1tfYWNjb3VudF0uYWRkKF90b2tlbnMpOwogICAgbG9ja2VkW19hY2NvdW50XSAgID0gbG9ja2VkW19hY2NvdW50XS5hZGQoX3Rva2Vucyk7CiAgICB0b2tlbnNJc3N1ZWRPd25lciAgPSB0b2tlbnNJc3N1ZWRPd25lci5hZGQoX3Rva2Vucyk7CiAgICB0b2tlbnNJc3N1ZWRUb3RhbCAgPSB0b2tlbnNJc3N1ZWRUb3RhbC5hZGQoX3Rva2Vucyk7CiAgICB0b2tlbnNJc3N1ZWRMb2NrZWQgPSB0b2tlbnNJc3N1ZWRMb2NrZWQuYWRkKF90b2tlbnMpOwogICAgCiAgICAvLyBsb2cgZXZlbnQKICAgIFRyYW5zZmVyKDB4MCwgX2FjY291bnQsIF90b2tlbnMpOwogICAgVG9rZW5zSXNzdWVkT3duZXIoX2FjY291bnQsIF90b2tlbnMsIHRydWUpOwogIH0gIAogIAogIC8qIFRyYW5zZmVyIG91dCBhbnkgYWNjaWRlbnRhbGx5IHNlbnQgRVJDMjAgdG9rZW5zICovCgogIGZ1bmN0aW9uIHRyYW5zZmVyQW55RVJDMjBUb2tlbihhZGRyZXNzIHRva2VuQWRkcmVzcywgdWludCBhbW91bnQpIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgIHJldHVybiBFUkMyMEludGVyZmFjZSh0b2tlbkFkZHJlc3MpLnRyYW5zZmVyKG93bmVyLCBhbW91bnQpOwogIH0KCiAgLy8gUHJpdmF0ZSBmdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLQoKICAvKiBBY2NlcHQgRVRIIGR1cmluZyBjcm93ZHNhbGUgKGNhbGxlZCBieSBkZWZhdWx0IGZ1bmN0aW9uKSAqLwoKICBmdW5jdGlvbiBidXlUb2tlbnMoKSBwcml2YXRlIHsKICAgIAogICAgLy8gYmFzaWMgY2hlY2tzCiAgICByZXF1aXJlKCBhdE5vdygpID4gREFURV9JQ09fU1RBUlQgJiYgYXROb3coKSA8IERBVEVfSUNPX0VORCApOwogICAgcmVxdWlyZSggbXNnLnZhbHVlID49IE1JTl9DT05UUklCVVRJT04gKTsKICAgIAogICAgLy8gY2hlY2sgdG9rZW4gdm9sdW1lCiAgICB1aW50IHRva2Vuc0F2YWlsYWJsZSA9IFRPS0VOX1NVUFBMWV9DUk9XRC5zdWIodG9rZW5zSXNzdWVkQ3Jvd2QpOwogICAgdWludCB0b2tlbnMgPSBtc2cudmFsdWUubXVsKFRPS0VOU19QRVJfRVRIKSAvIDEwKioxMjsKICAgIHJlcXVpcmUoIHRva2VucyA8PSB0b2tlbnNBdmFpbGFibGUgKTsKICAgIAogICAgLy8gaXNzdWUgdG9rZW5zCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLmFkZCh0b2tlbnMpOwogICAgCiAgICAvLyB1cGRhdGUgZ2xvYmFsIHRyYWNraW5nIHZhcmlhYmxlcwogICAgdG9rZW5zSXNzdWVkQ3Jvd2QgID0gdG9rZW5zSXNzdWVkQ3Jvd2QuYWRkKHRva2Vucyk7CiAgICB0b2tlbnNJc3N1ZWRUb3RhbCAgPSB0b2tlbnNJc3N1ZWRUb3RhbC5hZGQodG9rZW5zKTsKICAgIGV0aGVyUmVjZWl2ZWQgICAgICA9IGV0aGVyUmVjZWl2ZWQuYWRkKG1zZy52YWx1ZSk7CiAgICAKICAgIC8vIHVwZGF0ZSBjb250cmlidXRvciB0cmFja2luZyB2YXJpYWJsZXMKICAgIGV0aGVyQ29udHJpYnV0ZWRbbXNnLnNlbmRlcl0gPSBldGhlckNvbnRyaWJ1dGVkW21zZy5zZW5kZXJdLmFkZChtc2cudmFsdWUpOwogICAgdG9rZW5zUmVjZWl2ZWRbbXNnLnNlbmRlcl0gICA9IHRva2Vuc1JlY2VpdmVkW21zZy5zZW5kZXJdLmFkZCh0b2tlbnMpOwogICAgCiAgICAvLyB0cmFuc2ZlciBFdGhlciBvdXQKICAgIGlmICh0aGlzLmJhbGFuY2UgPiAwKSB3YWxsZXQudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKCiAgICAvLyBsb2cgdG9rZW4gaXNzdWFuY2UKICAgIFRva2Vuc0lzc3VlZENyb3dkKG1zZy5zZW5kZXIsIHRva2VucywgbXNnLnZhbHVlKTsKICAgIFRyYW5zZmVyKDB4MCwgbXNnLnNlbmRlciwgdG9rZW5zKTsKICB9CgogIC8vIEVSQzIwIGZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0KCiAgLyogT3ZlcnJpZGUgInRyYW5zZmVyIiAqLwoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXF1aXJlKCB0cmFkZWFibGUoKSApOwogICAgcmVxdWlyZSggdW5sb2NrZWRUb2tlbnMobXNnLnNlbmRlcikgPj0gX2Ftb3VudCApOwogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX2Ftb3VudCk7CiAgfQogIAogIC8qIE92ZXJyaWRlICJ0cmFuc2ZlckZyb20iICovCgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXF1aXJlKCB0cmFkZWFibGUoKSApOwogICAgcmVxdWlyZSggdW5sb2NrZWRUb2tlbnMoX2Zyb20pID49IF9hbW91bnQgKTsgCiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF9hbW91bnQpOwogIH0KCiAgLy8gQnVsayB0b2tlbiB0cmFuc2ZlciBmdW5jdGlvbiAtLS0tLQoKICAvKiBNdWx0aXBsZSB0b2tlbiB0cmFuc2ZlcnMgZnJvbSBvbmUgYWRkcmVzcyB0byBzYXZlIGdhcyAqLwoKICBmdW5jdGlvbiB0cmFuc2Zlck11bHRpcGxlKGFkZHJlc3NbXSBfYWRkcmVzc2VzLCB1aW50W10gX2Ftb3VudHMpIGV4dGVybmFsIHsKICAgIHJlcXVpcmUoIHRyYWRlYWJsZSgpICk7CiAgICByZXF1aXJlKCBfYWRkcmVzc2VzLmxlbmd0aCA9PSBfYW1vdW50cy5sZW5ndGggKTsKICAgIHJlcXVpcmUoIF9hZGRyZXNzZXMubGVuZ3RoIDw9IDEwMCApOwogICAgCiAgICB1aW50IGk7CiAgICAKICAgIC8vIGNoZWNrIHRva2VuIGFtb3VudHMKICAgIHVpbnQgdG9rZW5zX3RvX3RyYW5zZmVyID0gMDsKICAgIGZvciAoaSA9IDA7IGkgPCBfYWRkcmVzc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRva2Vuc190b190cmFuc2ZlciA9IHRva2Vuc190b190cmFuc2Zlci5hZGQoX2Ftb3VudHNbaV0pOwogICAgfQogICAgcmVxdWlyZSggdG9rZW5zX3RvX3RyYW5zZmVyIDw9IHVubG9ja2VkVG9rZW5zKG1zZy5zZW5kZXIpICk7CiAgICAKICAgIC8vIGRvIHRoZSB0cmFuc2ZlcnMKICAgIGZvciAoaSA9IDA7IGkgPCBfYWRkcmVzc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHN1cGVyLnRyYW5zZmVyKF9hZGRyZXNzZXNbaV0sIF9hbW91bnRzW2ldKTsKICAgIH0KICB9ICAKICAKfQ=='.
	

]
