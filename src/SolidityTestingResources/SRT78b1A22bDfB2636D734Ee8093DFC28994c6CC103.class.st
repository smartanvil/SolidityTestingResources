Class {
	#name : #SRT78b1A22bDfB2636D734Ee8093DFC28994c6CC103,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT78b1A22bDfB2636D734Ee8093DFC28994c6CC103 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IDAuNC4yMTsKCmNvbnRyYWN0IG93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIGZ1bmN0aW9uIG93bmVkKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgbW9kaWZpZXIgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KfQoKaW50ZXJmYWNlIHRva2VuUmVjaXBpZW50IHsgZnVuY3Rpb24gcmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlLCBhZGRyZXNzIF90b2tlbiwgYnl0ZXMgX2V4dHJhRGF0YSkgcHVibGljOyB9Cgpjb250cmFjdCBUb2tlbkVSQzIwIHsKICAgIHN0cmluZyBwdWJsaWMgbmFtZTsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgdWludDggcHVibGljIGRlY2ltYWxzID0gMTg7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2Y7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2FuY2U7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CiAgICAKCiAgICAvLy8gQ29uc3RydWN0b3IKICAgIGZ1bmN0aW9uIFRva2VuRVJDMjAoCiAgICAgICAgdWludDI1NiBpbml0aWFsU3VwcGx5LAogICAgICAgIHN0cmluZyB0b2tlbk5hbWUsCiAgICAgICAgc3RyaW5nIHRva2VuU3ltYm9sCiAgICApIHB1YmxpYyB7CiAgICAgICAgdG90YWxTdXBwbHkgPSBpbml0aWFsU3VwcGx5ICogMTAgKiogdWludDI1NihkZWNpbWFscyk7ICAvLyBVcGRhdGUgdG90YWwgc3VwcGx5IHdpdGggdGhlIGRlY2ltYWwgYW1vdW50CiAgICAgICAgYmFsYW5jZU9mW3RoaXNdID0gdG90YWxTdXBwbHk7ICAgICAgICAgICAgICAgIC8vIEdpdmUgdGhlIGNvbnRyYWN0LCBub3QgdGhlIGNyZWF0b3IgYWxsIGluaXRpYWwgdG9rZW5zCiAgICAgICAgbmFtZSA9IHRva2VuTmFtZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgbmFtZSBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICAgIHN5bWJvbCA9IHRva2VuU3ltYm9sOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIHN5bWJvbCBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgfQoKICAgIC8qKgogICAgICogU2V0IGFsbG93YW5jZSBmb3Igb3RoZXIgYWRkcmVzcwogICAgICoKICAgICAqIEFsbG93cyBgX3NwZW5kZXJgIHRvIHNwZW5kIG5vIG1vcmUgdGhhbiBgX3ZhbHVlYCB0b2tlbnMgaW4geW91ciBiZWhhbGYKICAgICAqCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3MgYXV0aG9yaXplZCB0byBzcGVuZAogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgbWF4IGFtb3VudCB0aGV5IGNhbiBzcGVuZAogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMKICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2FuY2VbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IGFsbG93YW5jZSBmb3Igb3RoZXIgYWRkcmVzcyBhbmQgbm90aWZ5CiAgICAgKgogICAgICogQWxsb3dzIGBfc3BlbmRlcmAgdG8gc3BlbmQgbm8gbW9yZSB0aGFuIGBfdmFsdWVgIHRva2VucyBpbiB5b3VyIGJlaGFsZiwgYW5kIHRoZW4gcGluZyB0aGUgY29udHJhY3QgYWJvdXQgaXQKICAgICAqCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3MgYXV0aG9yaXplZCB0byBzcGVuZAogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgbWF4IGFtb3VudCB0aGV5IGNhbiBzcGVuZAogICAgICogQHBhcmFtIF9leHRyYURhdGEgc29tZSBleHRyYSBpbmZvcm1hdGlvbiB0byBzZW5kIHRvIHRoZSBhcHByb3ZlZCBjb250cmFjdAogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSkKICAgICAgICBwdWJsaWMKICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICB0b2tlblJlY2lwaWVudCBzcGVuZGVyID0gdG9rZW5SZWNpcGllbnQoX3NwZW5kZXIpOwogICAgICAgIGlmIChhcHByb3ZlKF9zcGVuZGVyLCBfdmFsdWUpKSB7CiAgICAgICAgICAgIHNwZW5kZXIucmVjZWl2ZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0KfQoKLyoqKioqKioqKioqKioqKioqKioqKiBMYW5kY29pbiBUb2tlbiAqKioqKioqKioqKioqKioqKioqKiovCgpjb250cmFjdCBMYW5kQ29pbiBpcyBvd25lZCwgVG9rZW5FUkMyMCB7CgogICAgLyoqKioqKioqKioqKiAwLjEgSW5pdGlhbGlzZSB2YXJpYWJsZXMgYW5kIGV2ZW50cyAqKioqKioqKioqKiovCgogICAgdWludDI1NiBwdWJsaWMgYnV5UHJpY2U7CiAgICB1aW50MjU2IHB1YmxpYyBpY29TdGFydFVuaXg7CiAgICB1aW50MjU2IHB1YmxpYyBpY29FbmRVbml4OwogICAgYm9vbCBwdWJsaWMgaWNvT3ZlcnJpZGU7CiAgICBib29sIHB1YmxpYyB3aXRoZHJhd2xzRW5hYmxlZDsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBwYWlkSW47CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBmcm96ZW5BY2NvdW50OwoKICAgIC8vLyBGcmVlemluZyBhbmQgYnVybmluZyBldmVudHMKICAgIGV2ZW50IEZyb3plbkZ1bmRzKGFkZHJlc3MgdGFyZ2V0LCBib29sIGZyb3plbik7CiAgICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50MjU2IHZhbHVlKTsKICAgIGV2ZW50IEZ1bmRUcmFuc2ZlcihhZGRyZXNzIHJlY2lwaWVudCwgdWludDI1NiBhbW91bnQpOwoKICAgIC8qKioqKioqKioqKiogMC4yIENvbnN0cnVjdG9yICoqKioqKioqKioqKi8KCiAgICAvLy8gSW5pdGlhbGl6ZXMgY29udHJhY3Qgd2l0aCBpbml0aWFsIHN1cHBseSB0b2tlbnMgdG8gdGhlIGNyZWF0b3Igb2YgdGhlIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBMYW5kQ29pbigKICAgICAgICB1aW50MjU2IGluaXRpYWxTdXBwbHksCiAgICAgICAgc3RyaW5nIHRva2VuTmFtZSwKICAgICAgICBzdHJpbmcgdG9rZW5TeW1ib2wsCiAgICAgICAgdWludDI1NiBfYnV5UHJpY2UsICAgIC8vSU4gV0VJLiBEZWZhdWx0OiAxMDAwMDAwMDAwMDAwMDAwMDAgKDEwMCBmaW5uZXksIG9yIDEwMCAqIDEwKioxNSkKICAgICAgICB1aW50MjU2IF9pY29TdGFydFVuaXgsICAgICAgLy8gRGVmYXVsdDogMTUyNDE4MjQwMCAoMjAgQXByaWwgMjAxOCAwMDowMDowMCBVVEMpCiAgICAgICAgdWludDI1NiBfaWNvRW5kVW5peCAgICAgICAgIC8vIERlZmF1bHQ6IDE1MjY3NzQzOTkgKDE5IE1heSAyMDE4IDIzOjU5OjU5IFVUQykKICAgICkgVG9rZW5FUkMyMChpbml0aWFsU3VwcGx5LCB0b2tlbk5hbWUsIHRva2VuU3ltYm9sKSBwdWJsaWMgewogICAgICAgIGJ1eVByaWNlID0gX2J1eVByaWNlOwogICAgICAgIGljb1N0YXJ0VW5peCA9IF9pY29TdGFydFVuaXg7CiAgICAgICAgaWNvRW5kVW5peCA9IF9pY29FbmRVbml4OwogICAgICAgIGljb092ZXJyaWRlID0gZmFsc2U7CiAgICAgICAgd2l0aGRyYXdsc0VuYWJsZWQgPSBmYWxzZTsKICAgICAgICAvLyBHcmFudCBvd25lciBhbGxvd2FuY2UgdG8gdGhlIGNvbnRyYWN0J3Mgc3VwcGx5CiAgICAgICAgYWxsb3dhbmNlW3RoaXNdW293bmVyXSA9IHRvdGFsU3VwcGx5OwogICAgfQoKICAgIC8qKioqKioqKioqKiogMS4gVHJhbnNmZXJzICoqKioqKioqKioqKi8KCiAgICAvKiBJbnRlcm5hbCB0cmFuc2Zlciwgb25seSBjYW4gYmUgY2FsbGVkIGJ5IHRoaXMgY29udHJhY3QgKi8KICAgIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGludGVybmFsIHsKICAgICAgICByZXF1aXJlIChfdG8gIT0gMHgwKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCB0cmFuc2ZlciB0byAweDAgYWRkcmVzcy4gVXNlIGJ1cm4oKSBpbnN0ZWFkCiAgICAgICAgcmVxdWlyZSAoYmFsYW5jZU9mW19mcm9tXSA+PSBfdmFsdWUpOyAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaAogICAgICAgIHJlcXVpcmUgKGJhbGFuY2VPZltfdG9dICsgX3ZhbHVlID4gYmFsYW5jZU9mW190b10pOyAvLyBDaGVjayBmb3Igb3ZlcmZsb3dzCiAgICAgICAgcmVxdWlyZSghZnJvemVuQWNjb3VudFtfZnJvbV0pOyAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHNlbmRlciBpcyBmcm96ZW4KICAgICAgICByZXF1aXJlKCFmcm96ZW5BY2NvdW50W190b10pOyAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcmVjaXBpZW50IGlzIGZyb3plbgogICAgICAgIHVpbnQgcHJldmlvdXNCYWxhbmNlcyA9IGJhbGFuY2VPZltfZnJvbV0gKyBiYWxhbmNlT2ZbX3RvXTsgIC8vIGZvciBmaW5hbCBjaGVjayBpbiBhIGNvdXBsZSBvZiBsaW5lcwogICAgICAgIGJhbGFuY2VPZltfZnJvbV0gLT0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIKICAgICAgICBiYWxhbmNlT2ZbX3RvXSArPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBzYW1lIHRvIHRoZSByZWNpcGllbnQKICAgICAgICByZXF1aXJlKGJhbGFuY2VPZltfZnJvbV0gKyBiYWxhbmNlT2ZbX3RvXSA9PSBwcmV2aW91c0JhbGFuY2VzKTsgLy8gRmluYWwgY2hlY2sgKGJhc2ljYWxseSBhbiBhc3NlcnRpb24pCiAgICAgICAgZW1pdCBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOyAgICAgICAgICAgICAgICAgICAgICAgLy8gQnJvYWRjYXN0IGV2ZW50ICAgICAgIAogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNmZXIgdG9rZW5zCiAgICAgKgogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbnMgdG8gYF90b2AgZnJvbSB5b3VyIGFjY291bnQKICAgICAqCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIGFtb3VudCB0byBzZW5kCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHsKICAgICAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNmZXIgdG9rZW5zIGZyb20gb3RoZXIgYWRkcmVzcwogICAgICoKICAgICAqIFNlbmQgYF92YWx1ZWAgdG9rZW5zIHRvIGBfdG9gIGluIGJlaGFsZiBvZiBgX2Zyb21gCiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IHRvIHNlbmQKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0pOyAgICAgLy8gQ2hlY2sgYWxsb3dhbmNlCiAgICAgICAgYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgX3RyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqKioqKioqKioqKiAyLiBCdXlpbmcgKioqKioqKioqKioqLwoKICAgIC8vLyBNb2RpZmllciB0byBvbmx5IGFsbG93IGFmdGVyIElDTyBoYXMgc3RhcnRlZAogICAgbW9kaWZpZXIgaW5JQ090aW1lZnJhbWUoKSB7CiAgICAgICAgcmVxdWlyZSgobm93ID49IGljb1N0YXJ0VW5peCAqIDEgc2Vjb25kcyAmJiBub3cgPD0gaWNvRW5kVW5peCAqIDEgc2Vjb25kcykgfHwgKGljb092ZXJyaWRlID09IHRydWUpKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vLyBAbm90aWNlIEJ1eSB0b2tlbnMgZnJvbSBjb250cmFjdCBieSBzZW5kaW5nIGV0aGVyCiAgICBmdW5jdGlvbiBidXkoKSBpbklDT3RpbWVmcmFtZSBwYXlhYmxlIHB1YmxpYyB7CiAgICAgICAgdWludCBhbW91bnQgPSBtc2cudmFsdWUgKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpIC8gYnV5UHJpY2U7ICAgICAgICAgICAgLy8gY2FsY3VsYXRlcyB0aGUgYW1vdW50CiAgICAgICAgX3RyYW5zZmVyKHRoaXMsIG1zZy5zZW5kZXIsIGFtb3VudCk7ICAgICAgICAgICAgICAJCQkJLy8gbWFrZXMgdGhlIHRyYW5zZmVycwogICAgICAgIHBhaWRJblttc2cuc2VuZGVyXSArPSBtc2cudmFsdWU7CiAgICB9CgogICAgLy8vIGFsc28gbWFrZSB0aGlzIHRoZSBkZWZhdWx0IHBheWFibGUgZnVuY3Rpb24KICAgIGZ1bmN0aW9uICgpIGluSUNPdGltZWZyYW1lIHBheWFibGUgcHVibGljIHsKICAgICAgICB1aW50IGFtb3VudCA9IG1zZy52YWx1ZSAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSkgLyBidXlQcmljZTsgICAgICAgICAgICAvLyBjYWxjdWxhdGVzIHRoZSBhbW91bnQKICAgICAgICBfdHJhbnNmZXIodGhpcywgbXNnLnNlbmRlciwgYW1vdW50KTsgICAgICAgICAgICAgIAkJCQkvLyBtYWtlcyB0aGUgdHJhbnNmZXJzCiAgICAgICAgcGFpZEluW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZTsKICAgIH0KCiAgICAvKioqKioqKioqKioqIDMuIEN1cnJlbmN5IENvbnRyb2wgKioqKioqKioqKioqLwoKICAgIC8vLyBAbm90aWNlIENyZWF0ZSBgbWludGVkQW1vdW50YCB0b2tlbnMgYW5kIHNlbmQgaXQgdG8gYHRhcmdldGAKICAgIC8vLyBAcGFyYW0gdGFyZ2V0IEFkZHJlc3MgdG8gcmVjZWl2ZSB0aGUgdG9rZW5zCiAgICAvLy8gQHBhcmFtIG1pbnRlZEFtb3VudCB0aGUgYW1vdW50IG9mIHRva2VucyBpdCB3aWxsIHJlY2VpdmUKICAgIGZ1bmN0aW9uIG1pbnRUb2tlbihhZGRyZXNzIHRhcmdldCwgdWludDI1NiBtaW50ZWRBbW91bnQpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGJhbGFuY2VPZlt0YXJnZXRdICs9IG1pbnRlZEFtb3VudDsKICAgICAgICB0b3RhbFN1cHBseSArPSBtaW50ZWRBbW91bnQ7CiAgICAgICAgZW1pdCBUcmFuc2ZlcigwLCB0aGlzLCBtaW50ZWRBbW91bnQpOwogICAgICAgIGVtaXQgVHJhbnNmZXIodGhpcywgdGFyZ2V0LCBtaW50ZWRBbW91bnQpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIGBmcmVlemU/IFByZXZlbnQgfCBBbGxvd2AgYHRhcmdldGAgZnJvbSBzZW5kaW5nICYgcmVjZWl2aW5nIHRva2VucwogICAgLy8vIEBwYXJhbSB0YXJnZXQgQWRkcmVzcyB0byBiZSBmcm96ZW4KICAgIC8vLyBAcGFyYW0gZnJlZXplIGVpdGhlciB0byBmcmVlemUgaXQgb3Igbm90CiAgICBmdW5jdGlvbiBmcmVlemVBY2NvdW50KGFkZHJlc3MgdGFyZ2V0LCBib29sIGZyZWV6ZSkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgZnJvemVuQWNjb3VudFt0YXJnZXRdID0gZnJlZXplOwogICAgICAgIGVtaXQgRnJvemVuRnVuZHModGFyZ2V0LCBmcmVlemUpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIE9ubHkgY2VudHJhbCBtaW50IGNhbiBidXJuIGZyb20gdGhlaXIgb3duIHN1cHBseQogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSwgdWludDI1NiBfY29uZmlybWF0aW9uKSBvbmx5T3duZXIgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoX2NvbmZpcm1hdGlvbj09NzAwNyk7ICAgICAgICAgICAgICAgICAvLyBUbyBtYWtlIHN1cmUgaXQncyBub3QgZG9uZSBieSBtaXN0YWtlCiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKTsgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOyAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIHRvdGFsU3VwcGx5IC09IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlcyB0b3RhbFN1cHBseQogICAgICAgIGVtaXQgQnVybihtc2cuc2VuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIEFsbG93IHVzZXJzIHRvIGJ1eSB0b2tlbnMgZm9yICduZXdCdXlQcmljZScsIGluIHdlaQogICAgLy8vIEBwYXJhbSBuZXdCdXlQcmljZSBQcmljZSB1c2VycyBjYW4gYnV5IGZyb20gdGhlIGNvbnRyYWN0LCBpbiB3ZWkKICAgIGZ1bmN0aW9uIHNldFByaWNlcyh1aW50MjU2IG5ld0J1eVByaWNlKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBidXlQcmljZSA9IG5ld0J1eVByaWNlOwogICAgfQoKICAgIC8vLyBSdW4gdGhpcyBpZiBvd25lcnNoaXAgdHJhbnNmZXJyZWQKICAgIGZ1bmN0aW9uIHNldENvbnRyYWN0QWxsb3dhbmNlKGFkZHJlc3MgYWxsb3dlZEFkZHJlc3MsIHVpbnQyNTYgYWxsb3dlZEFtb3VudCkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIAlyZXF1aXJlKGFsbG93ZWRBbW91bnQgPD0gdG90YWxTdXBwbHkpOwogICAgCWFsbG93YW5jZVt0aGlzXVthbGxvd2VkQWRkcmVzc10gPSBhbGxvd2VkQW1vdW50OwogICAgCXJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKioqKioqKioqKiogNC4gSW52ZXN0b3IgV2l0aGRyYXdscyAqKioqKioqKioqKiovCiAgIAogICAJLy8vIEZ1bmN0aW9uIHRvIG92ZXJyaWRlIElDTyBkYXRlcyB0byBhbGxvdyBzZWNvbmRhcnkgSUNPCiAgICBmdW5jdGlvbiBzZWNvbmRhcnlJQ08oYm9vbCBfaWNvT3ZlcnJpZGUpIG9ubHlPd25lciBwdWJsaWMgewogICAgCWljb092ZXJyaWRlID0gX2ljb092ZXJyaWRlOwogICAgfQoKICAgIC8vLyBGdW5jdGlvbiB0byBhbGxvdyBpbnZlc3RvcnMgdG8gd2l0aGRyYXcgRVRICiAgICBmdW5jdGlvbiBlbmFibGVXaXRoZHJhd2FsKGJvb2wgX3dpdGhkcmF3bHNFbmFibGVkKSBvbmx5T3duZXIgcHVibGljIHsKICAgIAl3aXRoZHJhd2xzRW5hYmxlZCA9IF93aXRoZHJhd2xzRW5hYmxlZDsKICAgIH0KCiAgICAgZnVuY3Rpb24gc2FmZVdpdGhkcmF3YWwoKSBwdWJsaWMgewogICAgCXJlcXVpcmUod2l0aGRyYXdsc0VuYWJsZWQpOwogICAgCXJlcXVpcmUobm93ID4gaWNvRW5kVW5peCk7CiAgICAJdWludDI1NiB3ZWlBbW91bnQgPSBwYWlkSW5bbXNnLnNlbmRlcl07IAkKICAgIAl1aW50MjU2IHB1cmNoYXNlZFRva2VuQW1vdW50ID0gcGFpZEluW21zZy5zZW5kZXJdICogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKSAvIGJ1eVByaWNlOwoKICAgIAkvLyBBIHRva2VuaG9sZGVyIGNhbid0IHBvdXIgYmFjayBpbnRvIHRoZSBzeXN0ZW0gbW9yZSBMYW5kY29pbiB0aGFuIHlvdSBoYXZlIAogICAgCWlmKHB1cmNoYXNlZFRva2VuQW1vdW50ID4gYmFsYW5jZU9mW21zZy5zZW5kZXJdKSB7IHB1cmNoYXNlZFRva2VuQW1vdW50ID0gYmFsYW5jZU9mW21zZy5zZW5kZXJdOyB9CiAgICAJLy8gQSB0b2tlbmhvbGRlciBnZXRzIHRoZSBFdGggYmFjayBmb3IgdGhlaXIgcmVtYWluaW5nIHRva2VuIG1heAogICAgCWlmKHdlaUFtb3VudCA+IGJhbGFuY2VPZlttc2cuc2VuZGVyXSAqIGJ1eVByaWNlIC8gKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKSkgeyB3ZWlBbW91bnQgPSBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gKiBidXlQcmljZSAvICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSk7IH0KICAgIAkKICAgICAgICBpZiAocHVyY2hhc2VkVG9rZW5BbW91bnQgPiAwICYmIHdlaUFtb3VudCA+IDApIHsKCSAgICAgICAgX3RyYW5zZmVyKG1zZy5zZW5kZXIsIHRoaXMsIHB1cmNoYXNlZFRva2VuQW1vdW50KTsKICAgICAgICAgICAgaWYgKG1zZy5zZW5kZXIuc2VuZCh3ZWlBbW91bnQpKSB7CiAgICAgICAgICAgICAgICBwYWlkSW5bbXNnLnNlbmRlcl0gPSAwOwogICAgICAgICAgICAgICAgZW1pdCBGdW5kVHJhbnNmZXIobXNnLnNlbmRlciwgd2VpQW1vdW50KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90cmFuc2Zlcih0aGlzLCBtc2cuc2VuZGVyLCBwdXJjaGFzZWRUb2tlbkFtb3VudCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gd2l0aGRyYXdhbCgpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgkJcmVxdWlyZShub3cgPiBpY29FbmRVbml4ICYmICFpY29PdmVycmlkZSk7CgkJYWRkcmVzcyB0aGlzQ29udHJhY3QgPSB0aGlzOwoJCWlmIChvd25lciA9PSBtc2cuc2VuZGVyKSB7CiAgICAgICAgICAgIGlmIChtc2cuc2VuZGVyLnNlbmQodGhpc0NvbnRyYWN0LmJhbGFuY2UpKSB7CiAgICAgICAgICAgICAgICBlbWl0IEZ1bmRUcmFuc2Zlcihtc2cuc2VuZGVyLCB0aGlzQ29udHJhY3QuYmFsYW5jZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBtYW51YWxXaXRoZHJhd2FsRmFsbGJhY2soYWRkcmVzcyB0YXJnZXQsIHVpbnQyNTYgYW1vdW50KSBvbmx5T3duZXIgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgCXJlcXVpcmUobm93ID4gaWNvRW5kVW5peCAmJiAhaWNvT3ZlcnJpZGUpOwogICAgCWFkZHJlc3MgdGhpc0NvbnRyYWN0ID0gdGhpczsKICAgIAlyZXF1aXJlKGFtb3VudCA8PSB0aGlzQ29udHJhY3QuYmFsYW5jZSk7CgkJaWYgKG93bmVyID09IG1zZy5zZW5kZXIpIHsKCQkgICAgaWYgKHRhcmdldC5zZW5kKGFtb3VudCkpIHsKCQkgICAgICAgIHJldHVybiB0cnVlOwoJCSAgICB9IGVsc2UgewoJCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJCSAgICB9CiAgICAgICAgfQogICAgfQp9'.
	

]
