Class {
	#name : #SRTf5f01f5cc75b29c277ec4ea82874bc443c4167b0,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTf5f01f5cc75b29c277ec4ea82874bc443c4167b0 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovKioKICogQHRpdGxlIE93bmVyc2hpcCBpbnRlcmZhY2UKICoKICogUGVybWluZW50IG93bmVyc2hpcAogKgogKiAjY3JlYXRlZCAwMS8xMC8yMDE3CiAqICNhdXRob3IgRnJhbmsgQm9ubmV0CiAqLwpjb250cmFjdCBJT3duZXJzaGlwIHsKCiAgICAvKioKICAgICAqIFJldHVybnMgdHJ1ZSBpZiBgX2FjY291bnRgIGlzIHRoZSBjdXJyZW50IG93bmVyCiAgICAgKgogICAgICogQHBhcmFtIF9hY2NvdW50IFRoZSBhZGRyZXNzIHRvIHRlc3QgYWdhaW5zdAogICAgICovCiAgICBmdW5jdGlvbiBpc093bmVyKGFkZHJlc3MgX2FjY291bnQpIGNvbnN0YW50IHJldHVybnMgKGJvb2wpOwoKCiAgICAvKioKICAgICAqIEdldHMgdGhlIGN1cnJlbnQgb3duZXIKICAgICAqCiAgICAgKiBAcmV0dXJuIGFkZHJlc3MgVGhlIGN1cnJlbnQgb3duZXIKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0T3duZXIoKSBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzKTsKfQoKCi8qKgogKiBAdGl0bGUgT3duZXJzaGlwCiAqCiAqIFBlcm1pbmVudCBvd25lcnNoaXAKICoKICogI2NyZWF0ZWQgMDEvMTAvMjAxNwogKiAjYXV0aG9yIEZyYW5rIEJvbm5ldAogKi8KY29udHJhY3QgT3duZXJzaGlwIGlzIElPd25lcnNoaXAgewoKICAgIC8vIE93bmVyCiAgICBhZGRyZXNzIGludGVybmFsIG93bmVyOwoKCiAgICAvKioKICAgICAqIFRoZSBwdWJsaXNoZXIgaXMgdGhlIGluaXRhbCBvd25lcgogICAgICovCiAgICBmdW5jdGlvbiBPd25lcnNoaXAoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKCiAgICAvKioKICAgICAqIEFjY2VzcyBpcyByZXN0cmljdGVkIHRvIHRoZSBjdXJyZW50IG93bmVyCiAgICAgKi8KICAgIG1vZGlmaWVyIG9ubHlfb3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKCiAgICAvKioKICAgICAqIFJldHVybnMgdHJ1ZSBpZiBgX2FjY291bnRgIGlzIHRoZSBjdXJyZW50IG93bmVyCiAgICAgKgogICAgICogQHBhcmFtIF9hY2NvdW50IFRoZSBhZGRyZXNzIHRvIHRlc3QgYWdhaW5zdAogICAgICovCiAgICBmdW5jdGlvbiBpc093bmVyKGFkZHJlc3MgX2FjY291bnQpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIF9hY2NvdW50ID09IG93bmVyOwogICAgfQoKCiAgICAvKioKICAgICAqIEdldHMgdGhlIGN1cnJlbnQgb3duZXIKICAgICAqCiAgICAgKiBAcmV0dXJuIGFkZHJlc3MgVGhlIGN1cnJlbnQgb3duZXIKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0T3duZXIoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHJldHVybiBvd25lcjsKICAgIH0KfQoKCi8qKgogKiBAdGl0bGUgVHJhbnNmZXJhYmxlIG93bmVyc2hpcCBpbnRlcmZhY2UKICoKICogRW5oYW5jZXMgb3duZXJzaGlwIGJ5IGFsbG93aW5nIHRoZSBjdXJyZW50IG93bmVyIHRvIAogKiB0cmFuc2ZlciBvd25lcnNoaXAgdG8gYSBuZXcgb3duZXIKICoKICogI2NyZWF0ZWQgMDEvMTAvMjAxNwogKiAjYXV0aG9yIEZyYW5rIEJvbm5ldAogKi8KY29udHJhY3QgSVRyYW5zZmVyYWJsZU93bmVyc2hpcCB7CiAgICAKCiAgICAvKioKICAgICAqIFRyYW5zZmVyIG93bmVyc2hpcCB0byBgX25ld093bmVyYAogICAgICoKICAgICAqIEBwYXJhbSBfbmV3T3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgdGhhdCB3aWxsIGJlY29tZSB0aGUgbmV3IG93bmVyIAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIF9uZXdPd25lcik7Cn0KCgovKioKICogQHRpdGxlIFRyYW5zZmVyYWJsZSBvd25lcnNoaXAKICoKICogRW5oYW5jZXMgb3duZXJzaGlwIGJ5IGFsbG93aW5nIHRoZSBjdXJyZW50IG93bmVyIHRvIAogKiB0cmFuc2ZlciBvd25lcnNoaXAgdG8gYSBuZXcgb3duZXIKICoKICogI2NyZWF0ZWQgMDEvMTAvMjAxNwogKiAjYXV0aG9yIEZyYW5rIEJvbm5ldAogKi8KY29udHJhY3QgVHJhbnNmZXJhYmxlT3duZXJzaGlwIGlzIElUcmFuc2ZlcmFibGVPd25lcnNoaXAsIE93bmVyc2hpcCB7CgoKICAgIC8qKgogICAgICogVHJhbnNmZXIgb3duZXJzaGlwIHRvIGBfbmV3T3duZXJgCiAgICAgKgogICAgICogQHBhcmFtIF9uZXdPd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCB0aGF0IHdpbGwgYmVjb21lIHRoZSBuZXcgb3duZXIgCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBwdWJsaWMgb25seV9vd25lciB7CiAgICAgICAgb3duZXIgPSBfbmV3T3duZXI7CiAgICB9Cn0KCgovKioKICogQHRpdGxlIFBhdXNhYmxlIGludGVyZmFjZQogKgogKiBTaW1wbGUgaW50ZXJmYWNlIHRvIHBhdXNlIGFuZCByZXN1bWUgCiAqCiAqICNjcmVhdGVkIDExLzEwLzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmNvbnRyYWN0IElQYXVzYWJsZSB7CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGltcGxlbWVudGluZyBjb250cmFjdCBpcyAKICAgICAqIGN1cnJlbnRseSBwYXVzZWQgb3Igbm90CiAgICAgKgogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSBwYXVzZWQgc3RhdGUgaXMgYWN0aXZlCiAgICAgKi8KICAgIGZ1bmN0aW9uIGlzUGF1c2VkKCkgY29uc3RhbnQgcmV0dXJucyAoYm9vbCk7CgoKICAgIC8qKgogICAgICogQ2hhbmdlIHRoZSBzdGF0ZSB0byBwYXVzZWQKICAgICAqLwogICAgZnVuY3Rpb24gcGF1c2UoKTsKCgogICAgLyoqCiAgICAgKiBDaGFuZ2UgdGhlIHN0YXRlIHRvIHJlc3VtZSwgdW5kbyB0aGUgZWZmZWN0cyAKICAgICAqIG9mIGNhbGxpbmcgcGF1c2UKICAgICAqLwogICAgZnVuY3Rpb24gcmVzdW1lKCk7Cn0KCgovKioKICogQHRpdGxlIFRva2VuIHJldHJpZXZlIGludGVyZmFjZQogKgogKiBBbGxvd3MgdG9rZW5zIHRvIGJlIHJldHJpZXZlZCBmcm9tIGEgY29udHJhY3QKICoKICogI2NyZWF0ZWQgMjkvMDkvMjAxNwogKiAjYXV0aG9yIEZyYW5rIEJvbm5ldAogKi8KY29udHJhY3QgSVRva2VuUmV0cmlldmVyIHsKCiAgICAvKioKICAgICAqIEV4dHJhY3RzIHRva2VucyBmcm9tIHRoZSBjb250cmFjdAogICAgICoKICAgICAqIEBwYXJhbSBfdG9rZW5Db250cmFjdCBUaGUgYWRkcmVzcyBvZiBFUkMyMCBjb21wYXRpYmxlIHRva2VuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHJldHJpZXZlVG9rZW5zKGFkZHJlc3MgX3Rva2VuQ29udHJhY3QpOwp9CgoKLyoqCiAqIEB0aXRsZSBUb2tlbiByZXRyaWV2ZQogKgogKiBBbGxvd3MgdG9rZW5zIHRvIGJlIHJldHJpZXZlZCBmcm9tIGEgY29udHJhY3QKICoKICogI2NyZWF0ZWQgMTgvMTAvMjAxNwogKiAjYXV0aG9yIEZyYW5rIEJvbm5ldAogKi8KY29udHJhY3QgVG9rZW5SZXRyaWV2ZXIgaXMgSVRva2VuUmV0cmlldmVyIHsKCiAgICAvKioKICAgICAqIEV4dHJhY3RzIHRva2VucyBmcm9tIHRoZSBjb250cmFjdAogICAgICoKICAgICAqIEBwYXJhbSBfdG9rZW5Db250cmFjdCBUaGUgYWRkcmVzcyBvZiBFUkMyMCBjb21wYXRpYmxlIHRva2VuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHJldHJpZXZlVG9rZW5zKGFkZHJlc3MgX3Rva2VuQ29udHJhY3QpIHB1YmxpYyB7CiAgICAgICAgSVRva2VuIHRva2VuSW5zdGFuY2UgPSBJVG9rZW4oX3Rva2VuQ29udHJhY3QpOwogICAgICAgIHVpbnQgdG9rZW5CYWxhbmNlID0gdG9rZW5JbnN0YW5jZS5iYWxhbmNlT2YodGhpcyk7CiAgICAgICAgaWYgKHRva2VuQmFsYW5jZSA+IDApIHsKICAgICAgICAgICAgdG9rZW5JbnN0YW5jZS50cmFuc2Zlcihtc2cuc2VuZGVyLCB0b2tlbkJhbGFuY2UpOwogICAgICAgIH0KICAgIH0KfQoKCi8qKgogKiBAdGl0bGUgVG9rZW4gb2JzZXJ2ZXIgaW50ZXJmYWNlCiAqCiAqIEFsbG93cyBhIHRva2VuIHNtYXJ0LWNvbnRyYWN0IHRvIG5vdGlmeSBvYnNlcnZlcnMgCiAqIHdoZW4gdG9rZW5zIGFyZSByZWNlaXZlZAogKgogKiAjY3JlYXRlZCAwOS8xMC8yMDE3CiAqICNhdXRob3IgRnJhbmsgQm9ubmV0CiAqLwpjb250cmFjdCBJVG9rZW5PYnNlcnZlciB7CgogICAgLyoqCiAgICAgKiBDYWxsZWQgYnkgdGhlIG9ic2VydmVkIHRva2VuIHNtYXJ0LWNvbnRyYWN0IGluIG9yZGVyIAogICAgICogdG8gbm90aWZ5IHRoZSB0b2tlbiBvYnNlcnZlciB3aGVuIHRva2VucyBhcmUgcmVjZWl2ZWQKICAgICAqCiAgICAgKiBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3MgdGhhdCB0aGUgdG9rZW5zIHdoZXJlIHNlbmQgZnJvbQogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0aGF0IHdhcyByZWNlaXZlZAogICAgICovCiAgICBmdW5jdGlvbiBub3RpZnlUb2tlbnNSZWNlaXZlZChhZGRyZXNzIF9mcm9tLCB1aW50IF92YWx1ZSk7Cn0KCgovKioKICogQHRpdGxlIEFic3RyYWN0IHRva2VuIG9ic2VydmVyCiAqCiAqIEFsbG93cyBvYnNlcnZlcnMgdG8gYmUgbm90aWZpZWQgYnkgYW4gb2JzZXJ2ZWQgdG9rZW4gc21hcnQtY29udHJhY3QKICogd2hlbiB0b2tlbnMgYXJlIHJlY2VpdmVkCiAqCiAqICNjcmVhdGVkIDA5LzEwLzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmNvbnRyYWN0IFRva2VuT2JzZXJ2ZXIgaXMgSVRva2VuT2JzZXJ2ZXIgewoKICAgIC8qKgogICAgICogQ2FsbGVkIGJ5IHRoZSBvYnNlcnZlZCB0b2tlbiBzbWFydC1jb250cmFjdCBpbiBvcmRlciAKICAgICAqIHRvIG5vdGlmeSB0aGUgdG9rZW4gb2JzZXJ2ZXIgd2hlbiB0b2tlbnMgYXJlIHJlY2VpdmVkCiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIHRoYXQgdGhlIHRva2VucyB3aGVyZSBzZW5kIGZyb20KICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCB3YXMgcmVjZWl2ZWQKICAgICAqLwogICAgZnVuY3Rpb24gbm90aWZ5VG9rZW5zUmVjZWl2ZWQoYWRkcmVzcyBfZnJvbSwgdWludCBfdmFsdWUpIHB1YmxpYyB7CiAgICAgICAgb25Ub2tlbnNSZWNlaXZlZChtc2cuc2VuZGVyLCBfZnJvbSwgX3ZhbHVlKTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBFdmVudCBoYW5kbGVyCiAgICAgKiAKICAgICAqIENhbGxlZCBieSBgX3Rva2VuYCB3aGVuIGEgdG9rZW4gYW1vdW50IGlzIHJlY2VpdmVkCiAgICAgKgogICAgICogQHBhcmFtIF90b2tlbiBUaGUgdG9rZW4gY29udHJhY3QgdGhhdCByZWNlaXZlZCB0aGUgdHJhbnNhY3Rpb24KICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWNjb3VudCBvciBjb250cmFjdCB0aGF0IHNlbmQgdGhlIHRyYW5zYWN0aW9uCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSB2YWx1ZSBvZiB0b2tlbnMgdGhhdCB3aGVyZSByZWNlaXZlZAogICAgICovCiAgICBmdW5jdGlvbiBvblRva2Vuc1JlY2VpdmVkKGFkZHJlc3MgX3Rva2VuLCBhZGRyZXNzIF9mcm9tLCB1aW50IF92YWx1ZSkgaW50ZXJuYWw7Cn0KCgovKioKICogQHRpdGxlIEVSQzIwIGNvbXBhdGlibGUgdG9rZW4gaW50ZXJmYWNlCiAqCiAqIC0gSW1wbGVtZW50cyBFUkMgMjAgVG9rZW4gc3RhbmRhcmQKICogLSBJbXBsZW1lbnRzIHNob3J0IGFkZHJlc3MgYXR0YWNrIGZpeAogKgogKiAjY3JlYXRlZCAyOS8wOS8yMDE3CiAqICNhdXRob3IgRnJhbmsgQm9ubmV0CiAqLwpjb250cmFjdCBJVG9rZW4geyAKCiAgICAvKiogCiAgICAgKiBHZXQgdGhlIHRvdGFsIHN1cHBseSBvZiB0b2tlbnMKICAgICAqIAogICAgICogQHJldHVybiBUaGUgdG90YWwgc3VwcGx5CiAgICAgKi8KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludCk7CgoKICAgIC8qKiAKICAgICAqIEdldCBiYWxhbmNlIG9mIGBfb3duZXJgIAogICAgICogCiAgICAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIGZyb20gd2hpY2ggdGhlIGJhbGFuY2Ugd2lsbCBiZSByZXRyaWV2ZWQKICAgICAqIEByZXR1cm4gVGhlIGJhbGFuY2UKICAgICAqLwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKCgogICAgLyoqIAogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYAogICAgICogCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sKTsKCgogICAgLyoqIAogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBfZnJvbWAgb24gdGhlIGNvbmRpdGlvbiBpdCBpcyBhcHByb3ZlZCBieSBgX2Zyb21gCiAgICAgKiAKICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCk7CgoKICAgIC8qKiAKICAgICAqIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX3NwZW5kZXJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogICAgICogCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2ZlcgogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSBhcHByb3ZhbCB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCk7CgoKICAgIC8qKiAKICAgICAqIEdldCB0aGUgYW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgdGhhdCBgX3NwZW5kZXJgIGlzIGFsbG93ZWQgdG8gc3BlbmQgZnJvbSBgX293bmVyYAogICAgICogCiAgICAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IG93bmluZyB0b2tlbnMKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgICAqIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudAogICAgICovCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwp9CgoKLyoqCiAqIEB0aXRsZSBNYW5hZ2VkVG9rZW4gaW50ZXJmYWNlCiAqCiAqIEFkZHMgdGhlIGZvbGxvd2luZyBmdW5jdGlvbmFsaXR5IHRvIHRoZSBiYXNpYyBFUkMyMCB0b2tlbgogKiAtIExvY2tpbmcKICogLSBJc3N1aW5nCiAqIC0gQnVybmluZyAKICoKICogI2NyZWF0ZWQgMjkvMDkvMjAxNwogKiAjYXV0aG9yIEZyYW5rIEJvbm5ldAogKi8KY29udHJhY3QgSU1hbmFnZWRUb2tlbiBpcyBJVG9rZW4geyAKCiAgICAvKiogCiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHRva2VuIGlzIGxvY2tlZAogICAgICogCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHRva2VuIGlzIGxvY2tlZAogICAgICovCiAgICBmdW5jdGlvbiBpc0xvY2tlZCgpIGNvbnN0YW50IHJldHVybnMgKGJvb2wpOwoKCiAgICAvKioKICAgICAqIExvY2tzIHRoZSB0b2tlbiBzbyB0aGF0IHRoZSB0cmFuc2ZlcmluZyBvZiB2YWx1ZSBpcyBkaXNhYmxlZCAKICAgICAqCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHVubG9ja2luZyB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gbG9jaygpIHJldHVybnMgKGJvb2wpOwoKCiAgICAvKioKICAgICAqIFVubG9ja3MgdGhlIHRva2VuIHNvIHRoYXQgdGhlIHRyYW5zZmVyaW5nIG9mIHZhbHVlIGlzIGVuYWJsZWQgCiAgICAgKgogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB1bmxvY2tpbmcgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIHVubG9jaygpIHJldHVybnMgKGJvb2wpOwoKCiAgICAvKioKICAgICAqIElzc3VlcyBgX3ZhbHVlYCBuZXcgdG9rZW5zIHRvIGBfdG9gCiAgICAgKgogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB3aGljaCB0aGUgdG9rZW5zIHdpbGwgYmUgaXNzdWVkCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgbmV3IHRva2VucyB0byBpc3N1ZQogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB0b2tlbnMgd2hlcmUgc3VjZXNzZnVsbHkgaXNzdWVkIG9yIG5vdAogICAgICovCiAgICBmdW5jdGlvbiBpc3N1ZShhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wpOwoKCiAgICAvKioKICAgICAqIEJ1cm5zIGBfdmFsdWVgIHRva2VucyBvZiBgX2Zyb21gCiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIHRoYXQgb3ducyB0aGUgdG9rZW5zIHRvIGJlIGJ1cm5lZAogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBidXJuZWQKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgdG9rZW5zIHdoZXJlIHN1Y2Vzc2Z1bGx5IGJ1cm5lZCBvciBub3QgCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJ1cm4oYWRkcmVzcyBfZnJvbSwgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wpOwp9CgoKLyoqCiAqIEB0aXRsZSBUb2tlbiBDaGFuZ2VyIGludGVyZmFjZQogKgogKiBCYXNpYyB0b2tlbiBjaGFuZ2VyIHB1YmxpYyBpbnRlcmZhY2UgCiAqCiAqICNjcmVhdGVkIDA2LzEwLzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmNvbnRyYWN0IElUb2tlbkNoYW5nZXIgewoKICAgIC8qKgogICAgICogUmV0dXJucyB0cnVlIGlmICdfdG9rZW4nIGlzIG9uIG9mIHRoZSB0b2tlbnMgdGhhdCBhcmUgCiAgICAgKiBtYW5hZ2VkIGJ5IHRoaXMgdG9rZW4gY2hhbmdlcgogICAgICogCiAgICAgKiBAcGFyYW0gX3Rva2VuIFRoZSBhZGRyZXNzIGJlaW5nIHRlc3RlZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSAnX3Rva2VuJyBpcyBwYXJ0IG9mIHRoaXMgdG9rZW4gY2hhbmdlcgogICAgICovCiAgICBmdW5jdGlvbiBpc1Rva2VuKGFkZHJlc3MgX3Rva2VuKSBjb25zdGFudCByZXR1cm5zIChib29sKTsKCgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBhZGRyZXNzIG9mIHRoZSBsZWZ0IHRva2VuCiAgICAgKgogICAgICogQHJldHVybiBMZWZ0IHRva2VuIGFkZHJlc3MKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0TGVmdFRva2VuKCkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcyk7CgoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgYWRkcmVzcyBvZiB0aGUgcmlnaHQgdG9rZW4KICAgICAqCiAgICAgKiBAcmV0dXJuIFJpZ2h0IHRva2VuIGFkZHJlc3MKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0UmlnaHRUb2tlbigpIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MpOwoKCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGZlZSB0aGF0IGlzIHBhaWQgaW4gdG9rZW5zIHdoZW4gdXNpbmcgCiAgICAgKiB0aGUgdG9rZW4gY2hhbmdlcgogICAgICoKICAgICAqIEByZXR1cm4gVGhlIHBlcmNlbnRhZ2Ugb2YgdG9rZW5zIHRoYXQgaXMgY2hhcmdlZAogICAgICovCiAgICBmdW5jdGlvbiBnZXRGZWUoKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKCiAgICAKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgcmF0ZSB0aGF0IGlzIHVzZWQgdG8gY2hhbmdlIGJldHdlZW4gdG9rZW5zCiAgICAgKgogICAgICogQHJldHVybiBUaGUgcmF0ZSB1c2VkIHdoZW4gY2hhbmdpbmcgdG9rZW5zCiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldFJhdGUoKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKCgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBwcmVjaXNpb24gb2YgdGhlIHJhdGUgYW5kIGZlZSBwYXJhbXMKICAgICAqCiAgICAgKiBAcmV0dXJuIFRoZSBhbW91bnQgb2YgZGVjaW1hbHMgdXNlZAogICAgICovCiAgICBmdW5jdGlvbiBnZXRQcmVjaXNpb24oKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKCgogICAgLyoqCiAgICAgKiBDYWxjdWxhdGVzIGFuZCByZXR1cm5zIHRoZSBmZWUgYmFzZWQgb24gYF92YWx1ZWAgb2YgdG9rZW5zCiAgICAgKgogICAgICogQHJldHVybiBUaGUgYWN0dWFsIGZlZQogICAgICovCiAgICBmdW5jdGlvbiBjYWxjdWxhdGVGZWUodWludCBfdmFsdWUpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwp9CgoKLyoqCiAqIEB0aXRsZSBUb2tlbiBDaGFuZ2VyCiAqCiAqIFByb3ZpZGVzIGEgZ2VuZXJpYyB3YXkgdG8gY29udmVydCBiZXR3ZWVuIHR3byB0b2tlbnMgdXNpbmcgYSBmaXhlZCAKICogcmF0aW8gYW5kIGFuIG9wdGlvbmFsIGZlZS4KICoKICogI2NyZWF0ZWQgMDYvMTAvMjAxNwogKiAjYXV0aG9yIEZyYW5rIEJvbm5ldAogKi8KY29udHJhY3QgVG9rZW5DaGFuZ2VyIGlzIElUb2tlbkNoYW5nZXIsIElQYXVzYWJsZSB7CgogICAgSU1hbmFnZWRUb2tlbiBwcml2YXRlIHRva2VuTGVmdDsgLy8gdG9rZW5MZWZ0ID0gdG9rZW5SaWdodCAqIHJhdGUgLyBwcmVjaXNpb24KICAgIElNYW5hZ2VkVG9rZW4gcHJpdmF0ZSB0b2tlblJpZ2h0OyAvLyB0b2tlblJpZ2h0ID0gdG9rZW5MZWZ0IC8gcmF0ZSAqIHByZWNpc2lvbgoKICAgIHVpbnQgcHJpdmF0ZSByYXRlOyAvLyBSYXRpbyBiZXR3ZWVuIHRva2VucwogICAgdWludCBwcml2YXRlIGZlZTsgLy8gUGVyY2VudGFnZSBsb3N0IGluIHRyYW5zZmVyCiAgICB1aW50IHByaXZhdGUgcHJlY2lzaW9uOyAvLyBQcmVjaXNpb24gCiAgICBib29sIHByaXZhdGUgcGF1c2VkOyAvLyBQYXVzZWQgc3RhdGUKICAgIGJvb2wgcHJpdmF0ZSBidXJuOyAvLyBXaGV0aGVyIHRoZSBjaGFuZ2VyIHNob3VsZCBidXJuIHRva2VucwoKCiAgICAvKioKICAgICAqIE9ubHkgaWYgJ190b2tlbicgaXMgdGhlIGxlZnQgb3IgcmlnaHQgdG9rZW4gCiAgICAgKiB0aGF0IG9mIHRoZSB0b2tlbiBjaGFuZ2VyCiAgICAgKi8KICAgIG1vZGlmaWVyIGlzX3Rva2VuKGFkZHJlc3MgX3Rva2VuKSB7CiAgICAgICAgcmVxdWlyZShfdG9rZW4gPT0gYWRkcmVzcyh0b2tlbkxlZnQpIHx8IF90b2tlbiA9PSBhZGRyZXNzKHRva2VuUmlnaHQpKTsKICAgICAgICBfOwogICAgfQoKCiAgICAvKioKICAgICAqIENvbnN0cnVjdCB0b2tlbiBjaGFuZ2VyCiAgICAgKgogICAgICogQHBhcmFtIF90b2tlbkxlZnQgUmVmIHRvIHRoZSAnbGVmdCcgdG9rZW4gc21hcnQtY29udHJhY3QKICAgICAqIEBwYXJhbSBfdG9rZW5SaWdodCBSZWYgdG8gdGhlICdyaWdodCcgdG9rZW4gc21hcnQtY29udHJhY3QKICAgICAqIEBwYXJhbSBfcmF0ZSBUaGUgcmF0ZSB1c2VkIHdoZW4gY2hhbmdpbmcgdG9rZW5zCiAgICAgKiBAcGFyYW0gX2ZlZSBUaGUgcGVyY2VudGFnZSBvZiB0b2tlbnMgdGhhdCBpcyBjaGFyZ2VkCiAgICAgKiBAcGFyYW0gX2RlY2ltYWxzIFRoZSBhbW91bnQgb2YgZGVjaW1hbHMgdXNlZCBmb3IgX3JhdGUgYW5kIF9mZWUKICAgICAqIEBwYXJhbSBfcGF1c2VkIFdoZXRoZXIgdGhlIHRva2VuIGNoYW5nZXIgc3RhcnRzIGluIHRoZSBwYXVzZWQgc3RhdGUgb3Igbm90CiAgICAgKiBAcGFyYW0gX2J1cm4gV2hldGhlciB0aGUgY2hhbmdlciBzaG91bGQgYnVybiB0b2tlbnMgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIFRva2VuQ2hhbmdlcihhZGRyZXNzIF90b2tlbkxlZnQsIGFkZHJlc3MgX3Rva2VuUmlnaHQsIHVpbnQgX3JhdGUsIHVpbnQgX2ZlZSwgdWludCBfZGVjaW1hbHMsIGJvb2wgX3BhdXNlZCwgYm9vbCBfYnVybikgewogICAgICAgIHRva2VuTGVmdCA9IElNYW5hZ2VkVG9rZW4oX3Rva2VuTGVmdCk7CiAgICAgICAgdG9rZW5SaWdodCA9IElNYW5hZ2VkVG9rZW4oX3Rva2VuUmlnaHQpOwogICAgICAgIHJhdGUgPSBfcmF0ZTsKICAgICAgICBmZWUgPSBfZmVlOwogICAgICAgIHByZWNpc2lvbiA9IF9kZWNpbWFscyA+IDAgPyAxMCoqX2RlY2ltYWxzIDogMTsKICAgICAgICBwYXVzZWQgPSBfcGF1c2VkOwogICAgICAgIGJ1cm4gPSBfYnVybjsKICAgIH0KCiAgICAKICAgIC8qKgogICAgICogUmV0dXJucyB0cnVlIGlmICdfdG9rZW4nIGlzIG9uIG9mIHRoZSB0b2tlbnMgdGhhdCBhcmUgCiAgICAgKiBtYW5hZ2VkIGJ5IHRoaXMgdG9rZW4gY2hhbmdlcgogICAgICogCiAgICAgKiBAcGFyYW0gX3Rva2VuIFRoZSBhZGRyZXNzIGJlaW5nIHRlc3RlZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSAnX3Rva2VuJyBpcyBwYXJ0IG9mIHRoaXMgdG9rZW4gY2hhbmdlcgogICAgICovCiAgICBmdW5jdGlvbiBpc1Rva2VuKGFkZHJlc3MgX3Rva2VuKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBfdG9rZW4gPT0gYWRkcmVzcyh0b2tlbkxlZnQpIHx8IF90b2tlbiA9PSBhZGRyZXNzKHRva2VuUmlnaHQpOwogICAgfQoKCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGFkZHJlc3Mgb2YgdGhlIGxlZnQgdG9rZW4KICAgICAqCiAgICAgKiBAcmV0dXJuIExlZnQgdG9rZW4gYWRkcmVzcwogICAgICovCiAgICBmdW5jdGlvbiBnZXRMZWZ0VG9rZW4oKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHJldHVybiB0b2tlbkxlZnQ7CiAgICB9CgoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgYWRkcmVzcyBvZiB0aGUgcmlnaHQgdG9rZW4KICAgICAqCiAgICAgKiBAcmV0dXJuIFJpZ2h0IHRva2VuIGFkZHJlc3MKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0UmlnaHRUb2tlbigpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzKSB7CiAgICAgICAgcmV0dXJuIHRva2VuUmlnaHQ7CiAgICB9CgoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgZmVlIHRoYXQgaXMgcGFpZCBpbiB0b2tlbnMgd2hlbiB1c2luZyAKICAgICAqIHRoZSB0b2tlbiBjaGFuZ2VyCiAgICAgKgogICAgICogQHJldHVybiBUaGUgcGVyY2VudGFnZSBvZiB0b2tlbnMgdGhhdCBpcyBjaGFyZ2VkCiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldEZlZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIGZlZTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSByYXRlIHRoYXQgaXMgdXNlZCB0byBjaGFuZ2UgYmV0d2VlbiB0b2tlbnMKICAgICAqCiAgICAgKiBAcmV0dXJuIFRoZSByYXRlIHVzZWQgd2hlbiBjaGFuZ2luZyB0b2tlbnMKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0UmF0ZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIHJhdGU7CiAgICB9CgoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgcHJlY2lzaW9uIG9mIHRoZSByYXRlIGFuZCBmZWUgcGFyYW1zCiAgICAgKgogICAgICogQHJldHVybiBUaGUgYW1vdW50IG9mIGRlY2ltYWxzIHVzZWQKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0UHJlY2lzaW9uKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gcHJlY2lzaW9uOwogICAgfQoKCiAgICAvKioKICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgdG9rZW4gY2hhbmdlciBpcyBjdXJyZW50bHkgCiAgICAgKiBwYXVzZWQgb3Igbm90LiBXaGlsZSBiZWluZyBpbiB0aGUgcGF1c2VkIHN0YXRlIAogICAgICogdGhlIGNvbnRyYWN0IHNob3VsZCByZXZlcnQgdGhlIHRyYW5zYWN0aW9uIGluc3RlYWQgCiAgICAgKiBvZiBjb252ZXJ0aW5nIHRva2VucwogICAgICoKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgdG9rZW4gY2hhbmdlciBpcyBpbiB0aGUgcGF1c2VkIHN0YXRlCiAgICAgKi8KICAgIGZ1bmN0aW9uIGlzUGF1c2VkKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gcGF1c2VkOwogICAgfQoKCiAgICAvKioKICAgICAqIFBhdXNlIHRoZSB0b2tlbiBjaGFuZ2VyIG1ha2luZyB0aGUgY29udHJhY3QgCiAgICAgKiByZXZlcnQgdGhlIHRyYW5zYWN0aW9uIGluc3RlYWQgb2YgY29udmVydGluZyAKICAgICAqLwogICAgZnVuY3Rpb24gcGF1c2UoKSBwdWJsaWMgewogICAgICAgIHBhdXNlZCA9IHRydWU7CiAgICB9CgoKICAgIC8qKgogICAgICogUmVzdW1lIHRoZSB0b2tlbiBjaGFuZ2VyIG1ha2luZyB0aGUgY29udHJhY3QgCiAgICAgKiBjb252ZXJ0IHRva2VucyBpbnN0ZWFkIG9mIHJldmVydGluZyB0aGUgdHJhbnNhY3Rpb24gCiAgICAgKi8KICAgIGZ1bmN0aW9uIHJlc3VtZSgpIHB1YmxpYyB7CiAgICAgICAgcGF1c2VkID0gZmFsc2U7CiAgICB9CgoKICAgIC8qKgogICAgICogQ2FsY3VsYXRlcyBhbmQgcmV0dXJucyB0aGUgZmVlIGJhc2VkIG9uIGBfdmFsdWVgIG9mIHRva2VucwogICAgICoKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBpcyBiZWluZyBjb252ZXJ0ZWQKICAgICAqIEByZXR1cm4gVGhlIGFjdHVhbCBmZWUKICAgICAqLwogICAgZnVuY3Rpb24gY2FsY3VsYXRlRmVlKHVpbnQgX3ZhbHVlKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBmZWUgPT0gMCA/IDAgOiBfdmFsdWUgKiBmZWUgLyBwcmVjaXNpb247CiAgICB9CgoKICAgIC8qKgogICAgICogQ29udmVydHMgdG9rZW5zIGJ5IGJ1cm5pbmcgdGhlIHRva2VucyByZWNlaXZlZCBhdCB0aGUgdG9rZW4gc21hcnQtY29udGFjdCAKICAgICAqIGxvY2F0ZWQgYXQgYF9mcm9tYCBhbmQgYnkgaXNzdWluZyB0b2tlbnMgYXQgdGhlIG9wcG9zaXRlIHRva2VuIHNtYXJ0LWNvbnRyYWN0CiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tIFRoZSB0b2tlbiBzbWFydC1jb250cmFjdCB0aGF0IHJlY2VpdmVkIHRoZSB0b2tlbnMKICAgICAqIEBwYXJhbSBfc2VuZGVyIFRoZSBhY2NvdW50IHRoYXQgc2VuZCB0aGUgdG9rZW5zICh0b2tlbiBvd25lcikKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCB3aGVyZSByZWNlaXZlZAogICAgICovCiAgICBmdW5jdGlvbiBjb252ZXJ0KGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3NlbmRlciwgdWludCBfdmFsdWUpIGludGVybmFsIHsKICAgICAgICByZXF1aXJlKCFwYXVzZWQpOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CgogICAgICAgIHVpbnQgYW1vdW50VG9Jc3N1ZTsKICAgICAgICBpZiAoX2Zyb20gPT0gYWRkcmVzcyh0b2tlbkxlZnQpKSB7CiAgICAgICAgICAgIGFtb3VudFRvSXNzdWUgPSBfdmFsdWUgKiByYXRlIC8gcHJlY2lzaW9uOwogICAgICAgICAgICB0b2tlblJpZ2h0Lmlzc3VlKF9zZW5kZXIsIGFtb3VudFRvSXNzdWUgLSBjYWxjdWxhdGVGZWUoYW1vdW50VG9Jc3N1ZSkpOwogICAgICAgICAgICBpZiAoYnVybikgewogICAgICAgICAgICAgICAgdG9rZW5MZWZ0LmJ1cm4odGhpcywgX3ZhbHVlKTsKICAgICAgICAgICAgfSAgIAogICAgICAgIH0gCiAgICAgICAgCiAgICAgICAgZWxzZSBpZiAoX2Zyb20gPT0gYWRkcmVzcyh0b2tlblJpZ2h0KSkgewogICAgICAgICAgICBhbW91bnRUb0lzc3VlID0gX3ZhbHVlICogcHJlY2lzaW9uIC8gcmF0ZTsKICAgICAgICAgICAgdG9rZW5MZWZ0Lmlzc3VlKF9zZW5kZXIsIGFtb3VudFRvSXNzdWUgLSBjYWxjdWxhdGVGZWUoYW1vdW50VG9Jc3N1ZSkpOwogICAgICAgICAgICBpZiAoYnVybikgewogICAgICAgICAgICAgICAgdG9rZW5SaWdodC5idXJuKHRoaXMsIF92YWx1ZSk7CiAgICAgICAgICAgIH0gCiAgICAgICAgfQogICAgfQp9CgoKLyoqCiAqIEB0aXRsZSBEUlAgVG9rZW4gQ2hhbmdlcgogKgogKiBUaGlzIGNvbnRyYWN0IG9mIHRoaXMgVkMgcGxhdGZvcm0gdG9rZW4gY2hhbmdlciB3aWxsIGFsbG93IGFueW9uZSB3aXRoIGEgY3VycmVudCBiYWxhbmNlIG9mIERSUCwgCiAqIHRvIGRlcG9zaXQgaXQgYW5kIGluIHJldHVybiByZWNlaXZlIERSUFUsIG9yIERSUFMuCiAqCiAqIERSUFUgYXMgaW5kaWNhdGVkIGJ5IGl0cyDigJhV4oCZIGRlc2lnbmF0aW9uIGlzIERjb3Jw4oCZcyB1dGlsaXR5IHRva2VuIGZvciB0aG9zZSB3aG8gYXJlIHVuZGVyIHN0cmljdCAKICogY29tcGxpYW5jZSB3aXRoaW4gdGhlaXIgY291bnRyeSBvZiByZXNpZGVuY2UsIGFuZCBkb2VzIG5vdCBlbnRpdGxlIGhvbGRlcnMgdG8gcHJvZml0IHNoYXJpbmcuCiAqCiAqIERSUFMgYXMgaW5kaWNhdGVkIGJ5IGl0cyDigJhT4oCZIGRlc2lnbmF0aW9uLCBtYWludGFpbmluZyB0aGUgcHJpbWFyeSBzZWN1cml0eSBmdW5jdGlvbnMgb2YgdGhlIERSUCB0b2tlbiAKICogYXMgb3V0bGluZWQgd2l0aGluIHRoZSBEY29ycCB3aGl0ZXBhcGVyLiBUaG9zZSB3aG8gYmVhciBEUlBTIHdpbGwgYmUgZW50aXRsZWQgdG8gcHJvZml0IHNoYXJpbmcgaW4gdGhlIAogKiBmb3JtIG9mIGRpdmlkZW5kcyBhcyBwZXIgYSB2b3RpbmcgcHJvY2VzcywgYW5kIGlzIGNvbnNpZGVyZWQgdGhlICJTZWN1cml0eSIgdG9rZW4gb2YgRGNvcnAuCiAqCiAqIGh0dHBzOi8vd3d3LmRjb3JwLml0L3Rva2VuY2hhbmdlcgogKgogKiAjY3JlYXRlZCAwNi8xMC8yMDE3CiAqICNhdXRob3IgRnJhbmsgQm9ubmV0CiAqLwpjb250cmFjdCBEUlBUb2tlbkNoYW5nZXIgaXMgVG9rZW5DaGFuZ2VyLCBUb2tlbk9ic2VydmVyLCBUcmFuc2ZlcmFibGVPd25lcnNoaXAsIFRva2VuUmV0cmlldmVyIHsKCiAgICAvKioKICAgICAqIENvbnN0cnVjdCBkcnBzIC0gZHJwdSB0b2tlbiBjaGFuZ2VyCiAgICAgKgogICAgICogQHBhcmFtIF9kcnBzIFJlZiB0byB0aGUgRFJQUyB0b2tlbiBzbWFydC1jb250cmFjdCBodHRwczovL3d3dy5kY29ycC5pdC9kcnBzCiAgICAgKiBAcGFyYW0gX2RycHUgUmVmIHRvIHRoZSBEUlBVIHRva2VuIHNtYXJ0LWNvbnRyYWN0IGh0dHBzOi8vd3d3LmRjb3JwLml0L2RycHUKICAgICAqLwogICAgZnVuY3Rpb24gRFJQVG9rZW5DaGFuZ2VyKGFkZHJlc3MgX2RycHMsIGFkZHJlc3MgX2RycHUpIAogICAgICAgIFRva2VuQ2hhbmdlcihfZHJwcywgX2RycHUsIDIwMDAwLCAxMDAsIDQsIGZhbHNlLCB0cnVlKSB7fQoKCiAgICAvKioKICAgICAqIFBhdXNlIHRoZSB0b2tlbiBjaGFuZ2VyIG1ha2luZyB0aGUgY29udHJhY3QgCiAgICAgKiByZXZlcnQgdGhlIHRyYW5zYWN0aW9uIGluc3RlYWQgb2YgY29udmVydGluZyAKICAgICAqLwogICAgZnVuY3Rpb24gcGF1c2UoKSBwdWJsaWMgb25seV9vd25lciB7CiAgICAgICAgc3VwZXIucGF1c2UoKTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBSZXN1bWUgdGhlIHRva2VuIGNoYW5nZXIgbWFraW5nIHRoZSBjb250cmFjdCAKICAgICAqIGNvbnZlcnQgdG9rZW5zIGluc3RlYWQgb2YgcmV2ZXJ0aW5nIHRoZSB0cmFuc2FjdGlvbiAKICAgICAqLwogICAgZnVuY3Rpb24gcmVzdW1lKCkgcHVibGljIG9ubHlfb3duZXIgewogICAgICAgIHN1cGVyLnJlc3VtZSgpOwogICAgfQoKCiAgICAvKioKICAgICAqIEV2ZW50IGhhbmRsZXIgdGhhdCBpbml0aWFsaXplcyB0aGUgdG9rZW4gY29udmVyc2lvbgogICAgICogCiAgICAgKiBDYWxsZWQgYnkgYF90b2tlbmAgd2hlbiBhIHRva2VuIGFtb3VudCBpcyByZWNlaXZlZCBvbiAKICAgICAqIHRoZSBhZGRyZXNzIG9mIHRoaXMgdG9rZW4gY2hhbmdlcgogICAgICoKICAgICAqIEBwYXJhbSBfdG9rZW4gVGhlIHRva2VuIGNvbnRyYWN0IHRoYXQgcmVjZWl2ZWQgdGhlIHRyYW5zYWN0aW9uCiAgICAgKiBAcGFyYW0gX2Zyb20gVGhlIGFjY291bnQgb3IgY29udHJhY3QgdGhhdCBzZW5kIHRoZSB0cmFuc2FjdGlvbgogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgdmFsdWUgb2YgdG9rZW5zIHRoYXQgd2hlcmUgcmVjZWl2ZWQKICAgICAqLwogICAgZnVuY3Rpb24gb25Ub2tlbnNSZWNlaXZlZChhZGRyZXNzIF90b2tlbiwgYWRkcmVzcyBfZnJvbSwgdWludCBfdmFsdWUpIGludGVybmFsIGlzX3Rva2VuKF90b2tlbikgewogICAgICAgIHJlcXVpcmUoX3Rva2VuID09IG1zZy5zZW5kZXIpOwoKICAgICAgICAvLyBDb252ZXJ0IHRva2VucwogICAgICAgIGNvbnZlcnQoX3Rva2VuLCBfZnJvbSwgX3ZhbHVlKTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBGYWlsc2FmZSBtZWNoYW5pc20KICAgICAqIAogICAgICogQWxsb3dzIHRoZSBvd25lciB0byByZXRyaWV2ZSB0b2tlbnMgZnJvbSB0aGUgY29udHJhY3QgdGhhdCAKICAgICAqIG1pZ2h0IGhhdmUgYmVlbiBzZW5kIHRoZXJlIGJ5IGFjY2lkZW50CiAgICAgKgogICAgICogQHBhcmFtIF90b2tlbkNvbnRyYWN0IFRoZSBhZGRyZXNzIG9mIEVSQzIwIGNvbXBhdGlibGUgdG9rZW4KICAgICAqLwogICAgZnVuY3Rpb24gcmV0cmlldmVUb2tlbnMoYWRkcmVzcyBfdG9rZW5Db250cmFjdCkgcHVibGljIG9ubHlfb3duZXIgewogICAgICAgIHN1cGVyLnJldHJpZXZlVG9rZW5zKF90b2tlbkNvbnRyYWN0KTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBQcmV2ZW50cyB0aGUgYWNjaWRlbnRhbCBzZW5kaW5nIG9mIGV0aGVyCiAgICAgKi8KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgewogICAgICAgIHJldmVydCgpOwogICAgfQp9'.
	

]
