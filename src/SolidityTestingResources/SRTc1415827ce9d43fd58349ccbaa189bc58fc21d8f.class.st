Class {
	#name : #SRTc1415827ce9d43fd58349ccbaa189bc58fc21d8f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc1415827ce9d43fd58349ccbaa189bc58fc21d8f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgoKY29udHJhY3QgVG9rZW4gewogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50IHRvdGFsU3VwcGx5KTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IHJlbWFpbmluZyk7CgogICAgZnVuY3Rpb24gaXNzdWUoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIF9uZXdPd25lcikgcHVibGljOwp9CgoKY29udHJhY3QgUmVnaXN0cnkgewogICAgZnVuY3Rpb24gdXBkYXRlRmVlKHVpbnQyNTYgX2ZlZSkgcHVibGljOwogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYzsKfQoKCmNvbnRyYWN0IERBTyB7CiAgICBmdW5jdGlvbiBwYXlGZWUoKSBwdWJsaWMgcGF5YWJsZTsKfQoKCmNvbnRyYWN0IFRva2VuUmVjaXBpZW50IHsKICAgIGFkZHJlc3MgcHVibGljIHJlY2VpdmVyID0gMHhEODZiMTdkNDJFNDM4NTI5M0I5NjFCRTcwNDYwMmVERjBmNGIzZUI4OwoKICAgIGV2ZW50IHJlY2VpdmVkRXRoZXIoYWRkcmVzcyBzZW5kZXIsIHVpbnQgYW1vdW50KTsKCiAgICAvLyBEZXYgZG9uYXRpb25zCiAgICBmdW5jdGlvbiAoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgcmVjZWl2ZXIudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgICAgICByZWNlaXZlZEV0aGVyKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gcGF5RmVlKCkgcHVibGljIHBheWFibGUgewogICAgICAgIHJlY2VpdmVkRXRoZXIobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiB3aXRoZHJhd1Rva2VuQmFsYW5jZSh1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW4pIHB1YmxpYyB7CiAgICAgICAgVG9rZW4gZXJjMjAgPSBUb2tlbihfdG9rZW4pOwogICAgICAgIHJlcXVpcmUoZXJjMjAudHJhbnNmZXIocmVjZWl2ZXIsIF92YWx1ZSkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdpdGhkcmF3RnVsbFRva2VuQmFsYW5jZShhZGRyZXNzIF90b2tlbikgcHVibGljIHsKICAgICAgICBUb2tlbiBlcmMyMCA9IFRva2VuKF90b2tlbik7CiAgICAgICAgcmVxdWlyZShlcmMyMC50cmFuc2ZlcihyZWNlaXZlciwgZXJjMjAuYmFsYW5jZU9mKHRoaXMpKSk7CiAgICB9Cgp9CgoKLyoqCiAqIFRoZSBzaGFyZWhvbGRlciBhc3NvY2lhdGlvbiBjb250cmFjdCBpdHNlbGYKICovCmNvbnRyYWN0IEVuZ3JhdmVkREFPIGlzIFRva2VuUmVjaXBpZW50IHsKCiAgICBldmVudCBQcm9wb3NhbEFkZGVkKHVpbnQgcHJvcG9zYWxJRCk7CiAgICBldmVudCBWb3RlZCh1aW50IHByb3Bvc2FsSUQsIGJvb2wgcG9zaXRpb24sIGFkZHJlc3Mgdm90ZXIpOwogICAgZXZlbnQgUHJvcG9zYWxUYWxsaWVkKHVpbnQgcHJvcG9zYWxJRCwgdWludCByZXN1bHQsIHVpbnQgcXVvcnVtLCBib29sIGFjdGl2ZSk7CiAgICBldmVudCBDaGFuZ2VPZlJ1bGVzKHVpbnQgbmV3TWluaW11bVF1b3J1bSwgdWludCBuZXdEZWJhdGluZ1BlcmlvZEluTWludXRlcywgYWRkcmVzcyBuZXdFZ2NUb2tlbik7CgogICAgdWludCBwdWJsaWMgZGl2aWRlbmQ7CgogICAgdWludCBwdWJsaWMgbWluaW11bVF1b3J1bTsKICAgIHVpbnQgcHVibGljIGRlYmF0aW5nUGVyaW9kSW5NaW51dGVzOwogICAgUHJvcG9zYWxbXSBwdWJsaWMgcHJvcG9zYWxzOwogICAgdWludCBwdWJsaWMgbnVtUHJvcG9zYWxzOwoKICAgIHVpbnQgcHVibGljIG1pbkFtb3VudDsKCiAgICBUb2tlbiBwdWJsaWMgZWdjVG9rZW47CiAgICBUb2tlbiBwdWJsaWMgZWdyVG9rZW47CgogICAgUmVnaXN0cnkgcHVibGljIG93bmVyc2hpcDsKICAgIFJlZ2lzdHJ5IHB1YmxpYyBpbnRlZ3JpdHk7CgogICAgLy8gUGF5bWVudCBkYXRlcwogICAgdWludDI1NiBwdWJsaWMgd2l0aGRyYXdTdGFydDsKCiAgICAvLyBFR0Mgc3RvcmVkIGJhbGFuY2VzIGZvciBkaXZpZGVuZHMKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgaW50ZXJuYWwgbG9ja2VkQmFsYW5jZXM7CgogICAgZW51bSBQcm9wb3NhbFR5cGUgewogICAgICAgIFRyYW5zZmVyT3duZXJzaGlwLAogICAgICAgIENoYW5nZU93bmVyc2hpcEZlZSwKICAgICAgICBDaGFuZ2VJbnRlZ3JpdHlGZWUKICAgIH0KCiAgICBzdHJ1Y3QgUHJvcG9zYWwgewogICAgICAgIHN0cmluZyBkZXNjcmlwdGlvbjsKICAgICAgICB1aW50IHZvdGluZ0RlYWRsaW5lOwogICAgICAgIGJvb2wgZXhlY3V0ZWQ7CiAgICAgICAgYm9vbCBwcm9wb3NhbFBhc3NlZDsKICAgICAgICB1aW50IG51bWJlck9mVm90ZXM7CiAgICAgICAgVm90ZVtdIHZvdGVzOwogICAgICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgdm90ZWQ7CiAgICAgICAgUHJvcG9zYWxUeXBlIHByb3Bvc2FsVHlwZTsKICAgICAgICB1aW50IG5ld0ZlZTsKICAgICAgICBhZGRyZXNzIG5ld0RhbzsKICAgIH0KCiAgICBzdHJ1Y3QgVm90ZSB7CiAgICAgICAgYm9vbCBpblN1cHBvcnQ7CiAgICAgICAgYWRkcmVzcyB2b3RlcjsKICAgIH0KCiAgICAvLyBNb2RpZmllciB0aGF0IGFsbG93cyBvbmx5IHNoYXJlaG9sZGVycyB0byB2b3RlIGFuZCBjcmVhdGUgbmV3IHByb3Bvc2FscwogICAgbW9kaWZpZXIgb25seVNoYXJlaG9sZGVycyB7CiAgICAgICAgcmVxdWlyZShlZ2NUb2tlbi5iYWxhbmNlT2YobXNnLnNlbmRlcikgPiAwKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3IgZnVuY3Rpb24KICAgICAqCiAgICAgKiBGaXJzdCB0aW1lIHNldHVwCiAgICAgKi8KICAgIGZ1bmN0aW9uIEVuZ3JhdmVkREFPKAogICAgICAgIGFkZHJlc3MgX293bmVyc2hpcEFkZHJlc3MsCiAgICAgICAgYWRkcmVzcyBfaW50ZWdyaXR5QWRkcmVzcywKICAgICAgICBhZGRyZXNzIF9lZ3JUb2tlbkFkZHJlc3MsCiAgICAgICAgYWRkcmVzcyBfZWdjVG9rZW5BZGRyZXNzLAogICAgICAgIHVpbnQgX21pbmltdW1RdW9ydW0sCiAgICAgICAgdWludCBfZGViYXRpbmdQZXJpb2RJbk1pbnV0ZXMsCiAgICAgICAgdWludCBfbWluQW1vdW50CiAgICApIHB1YmxpYyB7CiAgICAgICAgb3duZXJzaGlwID0gUmVnaXN0cnkoX293bmVyc2hpcEFkZHJlc3MpOwogICAgICAgIGludGVncml0eSA9IFJlZ2lzdHJ5KF9pbnRlZ3JpdHlBZGRyZXNzKTsKICAgICAgICBlZ3JUb2tlbiA9IFRva2VuKF9lZ3JUb2tlbkFkZHJlc3MpOwogICAgICAgIGVnY1Rva2VuID0gVG9rZW4oX2VnY1Rva2VuQWRkcmVzcyk7CgogICAgICAgIHdpdGhkcmF3U3RhcnQgPSBibG9jay50aW1lc3RhbXA7CgogICAgICAgIGlmIChfbWluaW11bVF1b3J1bSA9PSAwKSB7CiAgICAgICAgICAgIF9taW5pbXVtUXVvcnVtID0gMTsKICAgICAgICB9CgogICAgICAgIG1pbmltdW1RdW9ydW0gPSBfbWluaW11bVF1b3J1bTsKICAgICAgICBkZWJhdGluZ1BlcmlvZEluTWludXRlcyA9IF9kZWJhdGluZ1BlcmlvZEluTWludXRlczsKICAgICAgICBDaGFuZ2VPZlJ1bGVzKG1pbmltdW1RdW9ydW0sIGRlYmF0aW5nUGVyaW9kSW5NaW51dGVzLCBlZ2NUb2tlbik7CgogICAgICAgIG1pbkFtb3VudCA9IF9taW5BbW91bnQ7CiAgICB9CgogICAgZnVuY3Rpb24gd2l0aGRyYXdEaXZpZGVuZHMoKSBwdWJsaWMgewogICAgICAgIC8vIExvY2tlZCBiYWxhbmNlIGlzIHBvc2l0aXZlCiAgICAgICAgcmVxdWlyZShsb2NrZWRCYWxhbmNlc1ttc2cuc2VuZGVyXSA+IDApOwoKICAgICAgICAvLyBPbiB0aW1lCiAgICAgICAgcmVxdWlyZShibG9jay50aW1lc3RhbXAgPj0gd2l0aGRyYXdTdGFydCArIDMgZGF5cyAmJiBibG9jay50aW1lc3RhbXAgPCB3aXRoZHJhd1N0YXJ0ICsgMSB3ZWVrcyk7CgogICAgICAgIHVpbnQyNTYgbG9ja2VkID0gbG9ja2VkQmFsYW5jZXNbbXNnLnNlbmRlcl07CiAgICAgICAgbG9ja2VkQmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAwOwoKICAgICAgICB1aW50MjU2IGVhcm5pbmdzID0gZGl2aWRlbmQgKiBsb2NrZWQgLyAxZTE4OwoKICAgICAgICAvLyBTZW5kIHRva2VucyBiYWNrIHRvIHRoZSBzdGFrZWhvbGRlcgogICAgICAgIGVnY1Rva2VuLnRyYW5zZmVyKG1zZy5zZW5kZXIsIGxvY2tlZCk7CiAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihlYXJuaW5ncyk7CiAgICB9CgogICAgZnVuY3Rpb24gdW5sb2NrRnVuZHMoKSBwdWJsaWMgewogICAgICAgIC8vIExvY2tlZCBiYWxhbmNlIGlzIHBvc2l0aXZlCiAgICAgICAgcmVxdWlyZShsb2NrZWRCYWxhbmNlc1ttc2cuc2VuZGVyXSA+IDApOwoKICAgICAgICB1aW50MjU2IGxvY2tlZCA9IGxvY2tlZEJhbGFuY2VzW21zZy5zZW5kZXJdOwogICAgICAgIGxvY2tlZEJhbGFuY2VzW21zZy5zZW5kZXJdID0gMDsKCiAgICAgICAgLy8gU2VuZCB0b2tlbnMgYmFjayB0byB0aGUgc3Rha2Vob2xkZXIKICAgICAgICBlZ2NUb2tlbi50cmFuc2Zlcihtc2cuc2VuZGVyLCBsb2NrZWQpOwogICAgfQoKICAgIC8vIExvY2sgZnVuZHMgZm9yIGRpdmlkZW5kcyBwYXltZW50CiAgICBmdW5jdGlvbiBsb2NrRnVuZHModWludCBfdmFsdWUpIHB1YmxpYyB7CiAgICAgICAgLy8gVGhyZWUgZGF5cyBiZWZvcmUgdGhlIHBheW1lbnQgZGF0ZQogICAgICAgIHJlcXVpcmUoYmxvY2sudGltZXN0YW1wID49IHdpdGhkcmF3U3RhcnQgJiYgYmxvY2sudGltZXN0YW1wIDwgd2l0aGRyYXdTdGFydCArIDMgZGF5cyk7CgogICAgICAgIGxvY2tlZEJhbGFuY2VzW21zZy5zZW5kZXJdICs9IF92YWx1ZTsKCiAgICAgICAgcmVxdWlyZShlZ2NUb2tlbi5hbGxvd2FuY2UobXNnLnNlbmRlciwgdGhpcykgPj0gX3ZhbHVlKTsKICAgICAgICByZXF1aXJlKGVnY1Rva2VuLnRyYW5zZmVyRnJvbShtc2cuc2VuZGVyLCB0aGlzLCBfdmFsdWUpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBuZXdPd25lcnNoaXBGZWVQcm9wb3NhbCgKICAgICAgICB1aW50MjU2IF9uZXdGZWUsCiAgICAgICAgc3RyaW5nIF9qb2JEZXNjcmlwdGlvbgogICAgKQogICAgICAgIHB1YmxpYyBvbmx5U2hhcmVob2xkZXJzCiAgICAgICAgcmV0dXJucyAodWludCBwcm9wb3NhbElEKQogICAgewogICAgICAgIHByb3Bvc2FsSUQgPSBwcm9wb3NhbHMubGVuZ3RoKys7CiAgICAgICAgUHJvcG9zYWwgc3RvcmFnZSBwID0gcHJvcG9zYWxzW3Byb3Bvc2FsSURdOwogICAgICAgIHAuZGVzY3JpcHRpb24gPSBfam9iRGVzY3JpcHRpb247CiAgICAgICAgcC52b3RpbmdEZWFkbGluZSA9IGJsb2NrLnRpbWVzdGFtcCArIGRlYmF0aW5nUGVyaW9kSW5NaW51dGVzICogMSBtaW51dGVzOwogICAgICAgIHAuZXhlY3V0ZWQgPSBmYWxzZTsKICAgICAgICBwLnByb3Bvc2FsUGFzc2VkID0gZmFsc2U7CiAgICAgICAgcC5udW1iZXJPZlZvdGVzID0gMDsKICAgICAgICBwLnByb3Bvc2FsVHlwZSA9IFByb3Bvc2FsVHlwZS5DaGFuZ2VPd25lcnNoaXBGZWU7CiAgICAgICAgcC5uZXdGZWUgPSBfbmV3RmVlOwogICAgICAgIFByb3Bvc2FsQWRkZWQocHJvcG9zYWxJRCk7CiAgICAgICAgbnVtUHJvcG9zYWxzID0gcHJvcG9zYWxJRCsxOwoKICAgICAgICByZXR1cm4gcHJvcG9zYWxJRDsKICAgIH0KCiAgICBmdW5jdGlvbiBuZXdJbnRlZ3JpdHlGZWVQcm9wb3NhbCgKICAgICAgICB1aW50MjU2IF9uZXdGZWUsCiAgICAgICAgc3RyaW5nIF9qb2JEZXNjcmlwdGlvbgogICAgKQogICAgICAgIHB1YmxpYyBvbmx5U2hhcmVob2xkZXJzCiAgICAgICAgcmV0dXJucyAodWludCBwcm9wb3NhbElEKQogICAgewogICAgICAgIHByb3Bvc2FsSUQgPSBwcm9wb3NhbHMubGVuZ3RoKys7CiAgICAgICAgUHJvcG9zYWwgc3RvcmFnZSBwID0gcHJvcG9zYWxzW3Byb3Bvc2FsSURdOwogICAgICAgIHAuZGVzY3JpcHRpb24gPSBfam9iRGVzY3JpcHRpb247CiAgICAgICAgcC52b3RpbmdEZWFkbGluZSA9IGJsb2NrLnRpbWVzdGFtcCArIGRlYmF0aW5nUGVyaW9kSW5NaW51dGVzICogMSBtaW51dGVzOwogICAgICAgIHAuZXhlY3V0ZWQgPSBmYWxzZTsKICAgICAgICBwLnByb3Bvc2FsUGFzc2VkID0gZmFsc2U7CiAgICAgICAgcC5udW1iZXJPZlZvdGVzID0gMDsKICAgICAgICBwLnByb3Bvc2FsVHlwZSA9IFByb3Bvc2FsVHlwZS5DaGFuZ2VJbnRlZ3JpdHlGZWU7CiAgICAgICAgcC5uZXdGZWUgPSBfbmV3RmVlOwogICAgICAgIFByb3Bvc2FsQWRkZWQocHJvcG9zYWxJRCk7CiAgICAgICAgbnVtUHJvcG9zYWxzID0gcHJvcG9zYWxJRCsxOwoKICAgICAgICByZXR1cm4gcHJvcG9zYWxJRDsKICAgIH0KCiAgICBmdW5jdGlvbiBuZXdUcmFuc2ZlclByb3Bvc2FsKAogICAgICAgIGFkZHJlc3MgX25ld0RhbywKICAgICAgICBzdHJpbmcgX2pvYkRlc2NyaXB0aW9uCiAgICApCiAgICAgICAgcHVibGljIG9ubHlTaGFyZWhvbGRlcnMKICAgICAgICByZXR1cm5zICh1aW50IHByb3Bvc2FsSUQpCiAgICB7CiAgICAgICAgcHJvcG9zYWxJRCA9IHByb3Bvc2Fscy5sZW5ndGgrKzsKICAgICAgICBQcm9wb3NhbCBzdG9yYWdlIHAgPSBwcm9wb3NhbHNbcHJvcG9zYWxJRF07CiAgICAgICAgcC5kZXNjcmlwdGlvbiA9IF9qb2JEZXNjcmlwdGlvbjsKICAgICAgICBwLnZvdGluZ0RlYWRsaW5lID0gYmxvY2sudGltZXN0YW1wICsgZGViYXRpbmdQZXJpb2RJbk1pbnV0ZXMgKiAxIG1pbnV0ZXM7CiAgICAgICAgcC5leGVjdXRlZCA9IGZhbHNlOwogICAgICAgIHAucHJvcG9zYWxQYXNzZWQgPSBmYWxzZTsKICAgICAgICBwLm51bWJlck9mVm90ZXMgPSAwOwogICAgICAgIHAucHJvcG9zYWxUeXBlID0gUHJvcG9zYWxUeXBlLlRyYW5zZmVyT3duZXJzaGlwOwogICAgICAgIHAubmV3RGFvID0gX25ld0RhbzsKICAgICAgICBQcm9wb3NhbEFkZGVkKHByb3Bvc2FsSUQpOwogICAgICAgIG51bVByb3Bvc2FscyA9IHByb3Bvc2FsSUQrMTsKCiAgICAgICAgcmV0dXJuIHByb3Bvc2FsSUQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBMb2cgYSB2b3RlIGZvciBhIHByb3Bvc2FsCiAgICAgKgogICAgICogVm90ZSBgc3VwcG9ydHNQcm9wb3NhbD8gaW4gc3VwcG9ydCBvZiA6IGFnYWluc3RgIHByb3Bvc2FsICNgcHJvcG9zYWxOdW1iZXJgCiAgICAgKgogICAgICogQHBhcmFtIHByb3Bvc2FsTnVtYmVyIG51bWJlciBvZiBwcm9wb3NhbAogICAgICogQHBhcmFtIHN1cHBvcnRzUHJvcG9zYWwgZWl0aGVyIGluIGZhdm9yIG9yIGFnYWluc3QgaXQKICAgICAqLwogICAgZnVuY3Rpb24gdm90ZSgKICAgICAgICB1aW50IHByb3Bvc2FsTnVtYmVyLAogICAgICAgIGJvb2wgc3VwcG9ydHNQcm9wb3NhbAogICAgKQogICAgICAgIHB1YmxpYyBvbmx5U2hhcmVob2xkZXJzCiAgICAgICAgcmV0dXJucyAodWludCB2b3RlSUQpCiAgICB7CiAgICAgICAgUHJvcG9zYWwgc3RvcmFnZSBwID0gcHJvcG9zYWxzW3Byb3Bvc2FsTnVtYmVyXTsKICAgICAgICByZXF1aXJlKHAudm90ZWRbbXNnLnNlbmRlcl0gIT0gdHJ1ZSk7CgogICAgICAgIHZvdGVJRCA9IHAudm90ZXMubGVuZ3RoKys7CiAgICAgICAgcC52b3Rlc1t2b3RlSURdID0gVm90ZSh7aW5TdXBwb3J0OiBzdXBwb3J0c1Byb3Bvc2FsLCB2b3RlcjogbXNnLnNlbmRlcn0pOwogICAgICAgIHAudm90ZWRbbXNnLnNlbmRlcl0gPSB0cnVlOwogICAgICAgIHAubnVtYmVyT2ZWb3RlcyA9IHZvdGVJRCArIDE7CiAgICAgICAgVm90ZWQocHJvcG9zYWxOdW1iZXIsIHN1cHBvcnRzUHJvcG9zYWwsIG1zZy5zZW5kZXIpOwogICAgICAgIHJldHVybiB2b3RlSUQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBGaW5pc2ggdm90ZQogICAgICoKICAgICAqIENvdW50IHRoZSB2b3RlcyBwcm9wb3NhbCAjYHByb3Bvc2FsTnVtYmVyYCBhbmQgZXhlY3V0ZSBpdCBpZiBhcHByb3ZlZAogICAgICoKICAgICAqIEBwYXJhbSBwcm9wb3NhbE51bWJlciBwcm9wb3NhbCBudW1iZXIKICAgICAqLwogICAgZnVuY3Rpb24gZXhlY3V0ZVByb3Bvc2FsKHVpbnQgcHJvcG9zYWxOdW1iZXIpIHB1YmxpYyB7CiAgICAgICAgUHJvcG9zYWwgc3RvcmFnZSBwID0gcHJvcG9zYWxzW3Byb3Bvc2FsTnVtYmVyXTsKCiAgICAgICAgcmVxdWlyZShibG9jay50aW1lc3RhbXAgPiBwLnZvdGluZ0RlYWRsaW5lICYmICFwLmV4ZWN1dGVkKTsKCiAgICAgICAgLy8gLi4udGhlbiB0YWxseSB0aGUgcmVzdWx0cwogICAgICAgIHVpbnQgcXVvcnVtID0gMDsKICAgICAgICB1aW50IHllYSA9IDA7CiAgICAgICAgdWludCBuYXkgPSAwOwoKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBwLnZvdGVzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgIFZvdGUgc3RvcmFnZSB2ID0gcC52b3Rlc1tpXTsKICAgICAgICAgICAgdWludCB2b3RlV2VpZ2h0ID0gZWdjVG9rZW4uYmFsYW5jZU9mKHYudm90ZXIpOwogICAgICAgICAgICBxdW9ydW0gKz0gdm90ZVdlaWdodDsKICAgICAgICAgICAgaWYgKHYuaW5TdXBwb3J0KSB7CiAgICAgICAgICAgICAgICB5ZWEgKz0gdm90ZVdlaWdodDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG5heSArPSB2b3RlV2VpZ2h0OwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXF1aXJlKHF1b3J1bSA+PSBtaW5pbXVtUXVvcnVtKTsgLy8gQ2hlY2sgaWYgYSBtaW5pbXVtIHF1b3J1bSBoYXMgYmVlbiByZWFjaGVkCgogICAgICAgIGlmICh5ZWEgPiBuYXkpIHsKICAgICAgICAgICAgLy8gUHJvcG9zYWwgcGFzc2VkOyBleGVjdXRlIHRoZSB0cmFuc2FjdGlvbgoKICAgICAgICAgICAgcC5leGVjdXRlZCA9IHRydWU7CgogICAgICAgICAgICBpZiAocC5wcm9wb3NhbFR5cGUgPT0gUHJvcG9zYWxUeXBlLkNoYW5nZU93bmVyc2hpcEZlZSkgewogICAgICAgICAgICAgICAgY2hhbmdlT3duZXJzaGlwRmVlKHAubmV3RmVlKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChwLnByb3Bvc2FsVHlwZSA9PSBQcm9wb3NhbFR5cGUuQ2hhbmdlSW50ZWdyaXR5RmVlKSB7CiAgICAgICAgICAgICAgICBjaGFuZ2VJbnRlZ3JpdHlGZWUocC5uZXdGZWUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHAucHJvcG9zYWxUeXBlID09IFByb3Bvc2FsVHlwZS5UcmFuc2Zlck93bmVyc2hpcCkgewogICAgICAgICAgICAgICAgdHJhbnNmZXJPd25lcnNoaXAocC5uZXdEYW8pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBwLnByb3Bvc2FsUGFzc2VkID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBQcm9wb3NhbCBmYWlsZWQKICAgICAgICAgICAgcC5wcm9wb3NhbFBhc3NlZCA9IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgLy8gRmlyZSBFdmVudHMKICAgICAgICBQcm9wb3NhbFRhbGxpZWQocHJvcG9zYWxOdW1iZXIsIHllYSAtIG5heSwgcXVvcnVtLCBwLnByb3Bvc2FsUGFzc2VkKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzdGFydEluY29tZURpc3RyaWJ1dGlvbigpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZSh3aXRoZHJhd1N0YXJ0ICsgOTAgZGF5cyA8IGJsb2NrLnRpbWVzdGFtcCk7CgogICAgICAgIHVpbnQyNTYgdG90YWxTdXBwbHkgPSBlZ2NUb2tlbi50b3RhbFN1cHBseSgpOwogICAgICAgIHJlcXVpcmUodG90YWxTdXBwbHkgPiAwKTsKCiAgICAgICAgLy8gQXQgbGVhc3QgMSB3ZWkgcGVyIFhFRyBzbyBkaXZpZGVuZCA+IDAKICAgICAgICBkaXZpZGVuZCA9IHRoaXMuYmFsYW5jZSAqIDFlMTggLyB0b3RhbFN1cHBseTsKICAgICAgICByZXF1aXJlKGRpdmlkZW5kID49IG1pbkFtb3VudCk7CgogICAgICAgIHdpdGhkcmF3U3RhcnQgPSBibG9jay50aW1lc3RhbXA7CiAgICB9CgogICAgZnVuY3Rpb24gdG9rZW5FeGNoYW5nZSh1aW50IF9hbW91bnQpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShlZ3JUb2tlbi5hbGxvd2FuY2UobXNnLnNlbmRlciwgdGhpcykgPj0gX2Ftb3VudCk7CiAgICAgICAgcmVxdWlyZShlZ3JUb2tlbi50cmFuc2ZlckZyb20obXNnLnNlbmRlciwgMHgwLCBfYW1vdW50KSk7CiAgICAgICAgLy8gMTAwIFhFRyAoMTggZGVjaW1hbHMpIHBlciBFR1IgKDMgZGVjaW1hbHMpCiAgICAgICAgcmVxdWlyZShlZ2NUb2tlbi5pc3N1ZShtc2cuc2VuZGVyLCBfYW1vdW50ICogMWUxNykpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoYW5nZU93bmVyc2hpcEZlZSh1aW50MjU2IF9uZXdGZWUpIHByaXZhdGUgewogICAgICAgIG93bmVyc2hpcC51cGRhdGVGZWUoX25ld0ZlZSk7CiAgICB9CgogICAgZnVuY3Rpb24gY2hhbmdlSW50ZWdyaXR5RmVlKHVpbnQyNTYgX25ld0ZlZSkgcHJpdmF0ZSB7CiAgICAgICAgaW50ZWdyaXR5LnVwZGF0ZUZlZShfbmV3RmVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIF9uZXdEYW8pIHByaXZhdGUgewogICAgICAgIHJlcXVpcmUoYmxvY2sudGltZXN0YW1wID4gd2l0aGRyYXdTdGFydCArIDEgd2Vla3MpOwoKICAgICAgICAvLyBUcmFuc2ZlciBhbGwgZXRoZXIgdG8gdGhlIG5ldyBEQU8KICAgICAgICBEQU8oX25ld0RhbykucGF5RmVlLnZhbHVlKHRoaXMuYmFsYW5jZSkoKTsKCiAgICAgICAgLy8gVHJhbnNmZXIgb3duZXJzaGlwIG9mIHRoZSBvd25lZCBjb250cmFjdHMKICAgICAgICBvd25lcnNoaXAudHJhbnNmZXJPd25lcnNoaXAoX25ld0Rhbyk7CiAgICAgICAgaW50ZWdyaXR5LnRyYW5zZmVyT3duZXJzaGlwKF9uZXdEYW8pOwogICAgICAgIGVnclRva2VuLnRyYW5zZmVyT3duZXJzaGlwKF9uZXdEYW8pOwogICAgICAgIGVnY1Rva2VuLnRyYW5zZmVyT3duZXJzaGlwKF9uZXdEYW8pOwogICAgfQoKfQ=='.
	

]
