Class {
	#name : #SRTc438b4c0dfbb1593be6dee03bbd1a84bb3aa6213,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc438b4c0dfbb1593be6dee03bbd1a84bb3aa6213 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLy8vIEB0aXRsZSBBYnN0cmFjdCBFUkMyMCB0b2tlbiBpbnRlcmZhY2UKY29udHJhY3QgQWJzdHJhY3RUb2tlbiB7CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7fQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBJc3N1YW5jZShhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgoKY29udHJhY3QgT3duZWQgewoKICAgIGFkZHJlc3MgcHVibGljIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIGFkZHJlc3MgcHVibGljIHBvdGVudGlhbE93bmVyOwoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlQb3RlbnRpYWxPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHBvdGVudGlhbE93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGV2ZW50IE5ld093bmVyKGFkZHJlc3Mgb2xkLCBhZGRyZXNzIGN1cnJlbnQpOwogICAgZXZlbnQgTmV3UG90ZW50aWFsT3duZXIoYWRkcmVzcyBvbGQsIGFkZHJlc3MgcG90ZW50aWFsKTsKCiAgICBmdW5jdGlvbiBzZXRPd25lcihhZGRyZXNzIF9uZXcpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seU93bmVyCiAgICB7CiAgICAgICAgTmV3UG90ZW50aWFsT3duZXIob3duZXIsIF9uZXcpOwogICAgICAgIHBvdGVudGlhbE93bmVyID0gX25ldzsKICAgIH0KCiAgICBmdW5jdGlvbiBjb25maXJtT3duZXJzaGlwKCkKICAgICAgICBwdWJsaWMKICAgICAgICBvbmx5UG90ZW50aWFsT3duZXIKICAgIHsKICAgICAgICBOZXdPd25lcihvd25lciwgcG90ZW50aWFsT3duZXIpOwogICAgICAgIG93bmVyID0gcG90ZW50aWFsT3duZXI7CiAgICAgICAgcG90ZW50aWFsT3duZXIgPSAwOwogICAgfQp9CgoKLy8vIEltcGxlbWVudHMgRVJDIDIwIFRva2VuIHN0YW5kYXJkOiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBBYnN0cmFjdFRva2VuLCBPd25lZCB7CgogICAgLyoKICAgICAqICBEYXRhIHN0cnVjdHVyZXMKICAgICAqLwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIC8qCiAgICAgKiAgUmVhZCBhbmQgd3JpdGUgc3RvcmFnZSBmdW5jdGlvbnMKICAgICAqLwogICAgLy8vIEBkZXYgVHJhbnNmZXJzIHNlbmRlcidzIHRva2VucyB0byBhIGdpdmVuIGFkZHJlc3MuIFJldHVybnMgc3VjY2Vzcy4KICAgIC8vLyBAcGFyYW0gX3RvIEFkZHJlc3Mgb2YgdG9rZW4gcmVjZWl2ZXIuCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyLgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBAZGV2IEFsbG93cyBhbGxvd2VkIHRoaXJkIHBhcnR5IHRvIHRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIuIFJldHVybnMgc3VjY2Vzcy4KICAgIC8vLyBAcGFyYW0gX2Zyb20gQWRkcmVzcyBmcm9tIHdoZXJlIHRva2VucyBhcmUgd2l0aGRyYXduLgogICAgLy8vIEBwYXJhbSBfdG8gQWRkcmVzcyB0byB3aGVyZSB0b2tlbnMgYXJlIHNlbnQuCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyLgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgIGlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLy8vIEBkZXYgUmV0dXJucyBudW1iZXIgb2YgdG9rZW5zIG93bmVkIGJ5IGdpdmVuIGFkZHJlc3MuCiAgICAvLy8gQHBhcmFtIF9vd25lciBBZGRyZXNzIG9mIHRva2VuIG93bmVyLgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICAvLy8gQGRldiBTZXRzIGFwcHJvdmVkIGFtb3VudCBvZiB0b2tlbnMgZm9yIHNwZW5kZXIuIFJldHVybnMgc3VjY2Vzcy4KICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgQWRkcmVzcyBvZiBhbGxvd2VkIGFjY291bnQuCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgYXBwcm92ZWQgdG9rZW5zLgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoKICAgICAqIFJlYWQgc3RvcmFnZSBmdW5jdGlvbnMKICAgICAqLwogICAgLy8vIEBkZXYgUmV0dXJucyBudW1iZXIgb2YgYWxsb3dlZCB0b2tlbnMgZm9yIGdpdmVuIGFkZHJlc3MuCiAgICAvLy8gQHBhcmFtIF9vd25lciBBZGRyZXNzIG9mIHRva2VuIG93bmVyLgogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBBZGRyZXNzIG9mIHRva2VuIHNwZW5kZXIuCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKfQoKCi8vLyBAdGl0bGUgU2FmZU1hdGggY29udHJhY3QgLSBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzLgovLy8gQGF1dGhvciBPcGVuWmVwcGVsaW46IGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvYmxvYi9tYXN0ZXIvY29udHJhY3RzL21hdGgvU2FmZU1hdGguc29sCmNvbnRyYWN0IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIHVpbnQgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgYXNzZXJ0KGIgPiAwKTsKICAgICAgICB1aW50IGMgPSBhIC8gYjsKICAgICAgICBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gcG93KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSAqKiBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9CgoKLy8vIEB0aXRsZSBUb2tlbiBjb250cmFjdCAtIEltcGxlbWVudHMgU3RhbmRhcmQgRVJDMjAgd2l0aCBhZGRpdGlvbmFsIGZlYXR1cmVzLgovLy8gQGF1dGhvciBaZXJpb24gLSA8PHNwYW4gY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSI2OTAwMDcwYjA2MTEyOTEzMGMxYjAwMDYwNzQ3MDAwNiI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvc3Bhbj4+CmNvbnRyYWN0IFRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIFNhZmVNYXRoIHsKCiAgICAvLyBUaW1lIG9mIHRoZSBjb250cmFjdCBjcmVhdGlvbgogICAgdWludCBwdWJsaWMgY3JlYXRpb25UaW1lOwoKICAgIGZ1bmN0aW9uIFRva2VuKCkgewogICAgICAgIGNyZWF0aW9uVGltZSA9IG5vdzsKICAgIH0KCgogICAgLy8vIEBkZXYgT3duZXIgY2FuIHRyYW5zZmVyIG91dCBhbnkgYWNjaWRlbnRhbGx5IHNlbnQgRVJDMjAgdG9rZW5zCiAgICBmdW5jdGlvbiB0cmFuc2ZlckVSQzIwVG9rZW4oYWRkcmVzcyB0b2tlbkFkZHJlc3MpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seU93bmVyCiAgICAgICAgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICB1aW50IGJhbGFuY2UgPSBBYnN0cmFjdFRva2VuKHRva2VuQWRkcmVzcykuYmFsYW5jZU9mKHRoaXMpOwogICAgICAgIHJldHVybiBBYnN0cmFjdFRva2VuKHRva2VuQWRkcmVzcykudHJhbnNmZXIob3duZXIsIGJhbGFuY2UpOwogICAgfQoKICAgIC8vLyBAZGV2IE11bHRpcGxpZXMgdGhlIGdpdmVuIG51bWJlciBieSAxMF4oZGVjaW1hbHMpCiAgICBmdW5jdGlvbiB3aXRoRGVjaW1hbHModWludCBudW1iZXIsIHVpbnQgZGVjaW1hbHMpCiAgICAgICAgaW50ZXJuYWwKICAgICAgICByZXR1cm5zICh1aW50KQogICAgewogICAgICAgIHJldHVybiBtdWwobnVtYmVyLCBwb3coMTAsIGRlY2ltYWxzKSk7CiAgICB9Cn0KCgovLy8gQHRpdGxlIFRva2VuIGNvbnRyYWN0IC0gSW1wbGVtZW50cyBTdGFuZGFyZCBFUkMyMCBUb2tlbiBmb3IgUWNoYWluIHByb2plY3QuCi8vLyBAYXV0aG9yIFplcmlvbiAtIDw8c3BhbiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9ImI0ZGRkYWQ2ZGJjY2Y0Y2VkMWM2ZGRkYmRhOWFkZGRiIj5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9zcGFuPj4KY29udHJhY3QgUWNoYWluVG9rZW4gaXMgVG9rZW4gewoKICAgIC8qCiAgICAgKiBUb2tlbiBtZXRhIGRhdGEKICAgICAqLwogICAgc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBuYW1lID0gIkV0aGVyZXVtIFFjaGFpbiBUb2tlbiI7CiAgICBzdHJpbmcgY29uc3RhbnQgcHVibGljIHN5bWJvbCA9ICJFUUMiOwogICAgdWludDggY29uc3RhbnQgcHVibGljIGRlY2ltYWxzID0gODsKCiAgICAvLyBBZGRyZXNzIHdoZXJlIEZvdW5kYXRpb24gdG9rZW5zIGFyZSBhbGxvY2F0ZWQKICAgIGFkZHJlc3MgY29uc3RhbnQgcHVibGljIGZvdW5kYXRpb25SZXNlcnZlID0gMHhGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGOwoKICAgIC8vIEFkZHJlc3Mgd2hlcmUgYWxsIHRva2VucyBmb3IgdGhlIElDTyBzdGFnZSBhcmUgaW5pdGlhbGx5IGFsbG9jYXRlZAogICAgYWRkcmVzcyBjb25zdGFudCBwdWJsaWMgaWNvQWxsb2NhdGlvbiA9IDB4MTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTsKCiAgICAvLyBBZGRyZXNzIHdoZXJlIGFsbCB0b2tlbnMgZm9yIHRoZSBQcmVJQ08gYXJlIGluaXRpYWxseSBhbGxvY2F0ZWQKICAgIGFkZHJlc3MgY29uc3RhbnQgcHVibGljIHByZUljb0FsbG9jYXRpb24gPSAweDIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI7CgogICAgLy8gSUNPIHN0YXJ0IGRhdGUuIDEwLzI0LzIwMTcgQCA5OjAwcG0gKFVUQykKICAgIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIHN0YXJ0RGF0ZSA9IDE1MDg4Nzg4MDA7CiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBkdXJhdGlvbiA9IDQyIGRheXM7CgogICAgLy8gUHVibGljIGtleSBvZiB0aGUgc2lnbmVyCiAgICBhZGRyZXNzIHB1YmxpYyBzaWduZXI7CgogICAgLy8gRm91bmRhdGlvbiBtdWx0aXNpZ25hdHVyZSB3YWxsZXQsIGFsbCBFdGhlciBpcyBjb2xsZWN0ZWQgdGhlcmUKICAgIGFkZHJlc3MgcHVibGljIG11bHRpc2lnOwoKICAgIC8vLyBAZGV2IENvbnRyYWN0IGNvbnN0cnVjdG9yLCBzZXRzIHRvdGFsU3VwcGx5CiAgICBmdW5jdGlvbiBRY2hhaW5Ub2tlbihhZGRyZXNzIF9zaWduZXIsIGFkZHJlc3MgX211bHRpc2lnKQogICAgewogICAgICAgIC8vIE92ZXJhbGwsIDM3NSwwMDAsMDAwIEVRQyB0b2tlbnMgYXJlIGRpc3RyaWJ1dGVkCiAgICAgICAgdG90YWxTdXBwbHkgPSB3aXRoRGVjaW1hbHMoMzc1MDAwMDAwLCBkZWNpbWFscyk7CgogICAgICAgIC8vIDExLDUwMCwwMDAgdG9rZW5zIHdlcmUgc29sZCBkdXJpbmcgdGhlIFByZUlDTwogICAgICAgIHVpbnQgcHJlSWNvVG9rZW5zID0gd2l0aERlY2ltYWxzKDExNTAwMDAwLCBkZWNpbWFscyk7CgogICAgICAgIC8vIDQwJSBvZiB0b3RhbCBzdXBwbHkgaXMgYWxsb2NhdGVkIGZvciB0aGUgRm91bmRhdGlvbgogICAgICAgIGJhbGFuY2VzW2ZvdW5kYXRpb25SZXNlcnZlXSA9IGRpdihtdWwodG90YWxTdXBwbHksIDQwKSwgMTAwKTsKCiAgICAgICAgLy8gUHJlSUNPIHRva2VucyBhcmUgYWxsb2NhdGVkIHRvIHRoZSBzcGVjaWFsIGFkZHJlc3MgYW5kIHdpbGwgYmUgZGlzdHJpYnV0ZWQgbWFudWFsbHkKICAgICAgICBiYWxhbmNlc1twcmVJY29BbGxvY2F0aW9uXSA9IHByZUljb1Rva2VuczsKCiAgICAgICAgLy8gVGhlIHJlc3Qgb2YgdGhlIHRva2VucyBpcyBhdmFpbGFibGUgZm9yIHNhbGUKICAgICAgICBiYWxhbmNlc1tpY29BbGxvY2F0aW9uXSA9IHRvdGFsU3VwcGx5IC0gcHJlSWNvVG9rZW5zIC0gYmFsYW5jZU9mKGZvdW5kYXRpb25SZXNlcnZlKTsKCiAgICAgICAgLy8gQWxsb3cgdGhlIG93bmVyIHRvIGRpc3RyaWJ1dGUgdG9rZW5zIGZyb20gdGhlIFByZUlDTyBhbGxvY2F0aW9uIGFkZHJlc3MKICAgICAgICBhbGxvd2VkW3ByZUljb0FsbG9jYXRpb25dW21zZy5zZW5kZXJdID0gYmFsYW5jZU9mKHByZUljb0FsbG9jYXRpb24pOwoKICAgICAgICAvLyBBbGxvdyB0aGUgb3duZXIgdG8gd2l0aGRyYXcgdG9rZW5zIGZyb20gdGhlIEZvdW5kYXRpb24gcmVzZXJ2ZQogICAgICAgIGFsbG93ZWRbZm91bmRhdGlvblJlc2VydmVdW21zZy5zZW5kZXJdID0gYmFsYW5jZU9mKGZvdW5kYXRpb25SZXNlcnZlKTsKCiAgICAgICAgc2lnbmVyID0gX3NpZ25lcjsKICAgICAgICBtdWx0aXNpZyA9IF9tdWx0aXNpZzsKICAgIH0KCiAgICBtb2RpZmllciBpY29Jc0FjdGl2ZSB7CiAgICAgICAgcmVxdWlyZShub3cgPj0gc3RhcnREYXRlICYmIG5vdyA8IHN0YXJ0RGF0ZSArIGR1cmF0aW9uKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIGljb0lzQ29tcGxldGVkIHsKICAgICAgICByZXF1aXJlKG5vdyA+PSBzdGFydERhdGUgKyBkdXJhdGlvbik7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLy8gQGRldiBTZXR0bGUgYW4gaW52ZXN0bWVudCBhbmQgZGlzdHJpYnV0ZSB0b2tlbnMKICAgIGZ1bmN0aW9uIGludmVzdChhZGRyZXNzIGludmVzdG9yLCB1aW50MjU2IHRva2VuUHJpY2UsIHVpbnQyNTYgdmFsdWUsIGJ5dGVzMzIgaGFzaCwgdWludDggdiwgYnl0ZXMzMiByLCBieXRlczMyIHMpCiAgICAgICAgcHVibGljCiAgICAgICAgaWNvSXNBY3RpdmUKICAgICAgICBwYXlhYmxlCiAgICB7CiAgICAgICAgLy8gQ2hlY2sgdGhlIGhhc2gKICAgICAgICByZXF1aXJlKHNoYTI1Nih1aW50KGludmVzdG9yKSA8PCA5NiB8IHRva2VuUHJpY2UpID09IGhhc2gpOwoKICAgICAgICAvLyBDaGVjayB0aGUgc2lnbmF0dXJlCiAgICAgICAgcmVxdWlyZShlY3JlY292ZXIoaGFzaCwgdiwgciwgcykgPT0gc2lnbmVyKTsKCiAgICAgICAgLy8gRGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB2YWx1ZSBhcmd1bWVudCBhbmQgYWN0dWFsIHZhbHVlIHNob3VsZCBub3QgYmUKICAgICAgICAvLyBtb3JlIHRoYW4gMC4wMDUgRVRIIChnYXMgY29tbWlzc2lvbikKICAgICAgICByZXF1aXJlKHN1Yih2YWx1ZSwgbXNnLnZhbHVlKSA8PSB3aXRoRGVjaW1hbHMoNSwgMTUpKTsKCiAgICAgICAgLy8gTnVtYmVyIG9mIHRva2VucyB0byBkaXN0cmlidXRlCiAgICAgICAgdWludDI1NiB0b2tlbnNOdW1iZXIgPSBkaXYod2l0aERlY2ltYWxzKHZhbHVlLCBkZWNpbWFscyksIHRva2VuUHJpY2UpOwoKICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBlbm91Z2ggdG9rZW5zIGxlZnQKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW2ljb0FsbG9jYXRpb25dID49IHRva2Vuc051bWJlcik7CgogICAgICAgIC8vIFNlbmQgRXRoZXIgdG8gdGhlIG11bHRpc2lnCiAgICAgICAgcmVxdWlyZShtdWx0aXNpZy5zZW5kKG1zZy52YWx1ZSkpOwoKICAgICAgICAvLyBBbGxvY2F0ZSB0b2tlbnMgdG8gYW4gaW52ZXN0b3IKICAgICAgICBiYWxhbmNlc1tpY29BbGxvY2F0aW9uXSAtPSB0b2tlbnNOdW1iZXI7CiAgICAgICAgYmFsYW5jZXNbaW52ZXN0b3JdICs9IHRva2Vuc051bWJlcjsKICAgICAgICBUcmFuc2ZlcihpY29BbGxvY2F0aW9uLCBpbnZlc3RvciwgdG9rZW5zTnVtYmVyKTsKICAgIH0KCiAgICAvLy8gQGRldiBPdmVycmlkZXMgT3duZWQuc29sIGZ1bmN0aW9uCiAgICBmdW5jdGlvbiBjb25maXJtT3duZXJzaGlwKCkKICAgICAgICBwdWJsaWMKICAgICAgICBvbmx5UG90ZW50aWFsT3duZXIKICAgIHsKICAgICAgICAvLyBBbGxvdyBuZXcgb3duZXIgdG8gd2l0aGRyYXcgdG9rZW5zIGZyb20gRm91bmRhdGlvbiByZXNlcnZlIGFuZAogICAgICAgIC8vIHByZUlDTyBhbGxvY2F0aW9uIGFkZHJlc3MKICAgICAgICBhbGxvd2VkW2ZvdW5kYXRpb25SZXNlcnZlXVtwb3RlbnRpYWxPd25lcl0gPSBiYWxhbmNlT2YoZm91bmRhdGlvblJlc2VydmUpOwogICAgICAgIGFsbG93ZWRbcHJlSWNvQWxsb2NhdGlvbl1bcG90ZW50aWFsT3duZXJdID0gYmFsYW5jZU9mKHByZUljb0FsbG9jYXRpb24pOwoKICAgICAgICAvLyBGb3JiaWQgb2xkIG93bmVyIHRvIHdpdGhkcmF3IHRva2VucyBmcm9tIEZvdW5kYXRpb24gcmVzZXJ2ZSBhbmQKICAgICAgICAvLyBwcmVJQ08gYWxsb2NhdGlvbiBhZGRyZXNzCiAgICAgICAgYWxsb3dlZFtmb3VuZGF0aW9uUmVzZXJ2ZV1bb3duZXJdID0gMDsKICAgICAgICBhbGxvd2VkW3ByZUljb0FsbG9jYXRpb25dW293bmVyXSA9IDA7CgogICAgICAgIC8vIENoYW5nZSBvd25lcgogICAgICAgIHN1cGVyLmNvbmZpcm1Pd25lcnNoaXAoKTsKICAgIH0KCiAgICAvLy8gQGRldiBXaXRoZHJhd3MgdG9rZW5zIGZyb20gRm91bmRhdGlvbiByZXNlcnZlCiAgICBmdW5jdGlvbiB3aXRoZHJhd0Zyb21SZXNlcnZlKHVpbnQgYW1vdW50KQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgewogICAgICAgIC8vIFdpdGhkcmF3IHRva2VucyBmcm9tIEZvdW5kYXRpb24gcmVzZXJ2ZSB0byBtdWx0aXNpZyBhZGRyZXNzCiAgICAgICAgcmVxdWlyZSh0cmFuc2ZlckZyb20oZm91bmRhdGlvblJlc2VydmUsIG11bHRpc2lnLCBhbW91bnQpKTsKICAgIH0KCiAgICAvLy8gQGRldiBDaGFuZ2VzIG11bHRpc2lnIGFkZHJlc3MKICAgIGZ1bmN0aW9uIGNoYW5nZU11bHRpc2lnKGFkZHJlc3MgX211bHRpc2lnKQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgewogICAgICAgIG11bHRpc2lnID0gX211bHRpc2lnOwogICAgfQoKICAgIC8vLyBAZGV2IEJ1cm5zIHRoZSByZXN0IG9mIHRoZSB0b2tlbnMgYWZ0ZXIgdGhlIGNyb3dkc2FsZSBlbmQKICAgIGZ1bmN0aW9uIGJ1cm4oKQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgICAgIGljb0lzQ29tcGxldGVkCiAgICB7CiAgICAgICAgdG90YWxTdXBwbHkgPSBzdWIodG90YWxTdXBwbHksIGJhbGFuY2VPZihpY29BbGxvY2F0aW9uKSk7CiAgICAgICAgYmFsYW5jZXNbaWNvQWxsb2NhdGlvbl0gPSAwOwogICAgfQp9'.
	

]
