Class {
	#name : #SRT5e21dd5ae3074d36db940bd4e0290fbba6b34cb3,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5e21dd5ae3074d36db940bd4e0290fbba6b34cb3 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKXsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9Cn0KCgovKioKICogQHRpdGxlIFBhdXNhYmxlCiAqIEBkZXYgQmFzZSBjb250cmFjdCB3aGljaCBhbGxvd3MgY2hpbGRyZW4gdG8gaW1wbGVtZW50IGFuIGVtZXJnZW5jeSBzdG9wIG1lY2hhbmlzbS4KICovCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgewogIGV2ZW50IFBhdXNlKCk7CiAgZXZlbnQgVW5wYXVzZSgpOwoKICBib29sIHB1YmxpYyBwYXVzZWQgPSBmYWxzZTsKCgogIC8qKgogICAqIEBkZXYgbW9kaWZpZXIgdG8gYWxsb3cgYWN0aW9ucyBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IElTIHBhdXNlZAogICAqLwogIG1vZGlmaWVyIHdoZW5Ob3RQYXVzZWQoKSB7CiAgICByZXF1aXJlICghcGF1c2VkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IG1vZGlmaWVyIHRvIGFsbG93IGFjdGlvbnMgb25seSB3aGVuIHRoZSBjb250cmFjdCBJUyBOT1QgcGF1c2VkCiAgICovCiAgbW9kaWZpZXIgd2hlblBhdXNlZCB7CiAgICByZXF1aXJlIChwYXVzZWQpIDsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gcGF1c2UsIHRyaWdnZXJzIHN0b3BwZWQgc3RhdGUKICAgKi8KICBmdW5jdGlvbiBwYXVzZSgpIG9ubHlPd25lciB3aGVuTm90UGF1c2VkICBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcGF1c2VkID0gdHJ1ZTsKICAgIFBhdXNlKCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byB1bnBhdXNlLCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHVucGF1c2UoKSBvbmx5T3duZXIgd2hlblBhdXNlZCBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcGF1c2VkID0gZmFsc2U7CiAgICBVbnBhdXNlKCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpewogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9Cn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgaW50ZXJuYWwgYWxsb3dlZDsKCiAgLyoqCiAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CgogICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAvLyAgYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgcmVxdWlyZSgoX3ZhbHVlID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CgogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBNaW50YWJsZSB0b2tlbgogKiBAZGV2IFNpbXBsZSBFUkMyMCBUb2tlbiBleGFtcGxlLCB3aXRoIG1pbnRhYmxlIHRva2VuIGNyZWF0aW9uCiAqIEBkZXYgSXNzdWU6ICogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9pc3N1ZXMvMTIwCiAqIEJhc2VkIG9uIGNvZGUgYnkgVG9rZW5NYXJrZXROZXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9Ub2tlbk1hcmtldE5ldC9pY28vYmxvYi9tYXN0ZXIvY29udHJhY3RzL01pbnRhYmxlVG9rZW4uc29sCiAqLwoKY29udHJhY3QgTWludGFibGVUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwogIGV2ZW50IE1pbnRGaW5pc2hlZCgpOwoKICBib29sIHB1YmxpYyBtaW50aW5nRmluaXNoZWQgPSBmYWxzZTsKCiAgbW9kaWZpZXIgY2FuTWludCgpIHsKICAgIHJlcXVpcmUoIW1pbnRpbmdGaW5pc2hlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgKiBAZGV2IEZ1bmN0aW9uIHRvIG1pbnQgdG9rZW5zCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRoYXQgd2lsbCByZWNpZXZlIHRoZSBtaW50ZWQgdG9rZW5zLgogICAgKiBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IG9mIHRva2VucyB0byBtaW50LgogICAgKiBAcmV0dXJuIEEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICAqLwogIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgb25seU93bmVyIGNhbk1pbnQgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9hbW91bnQpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgVHJhbnNmZXIoMFgwLCBfdG8sIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgRnVuY3Rpb24gdG8gc3RvcCBtaW50aW5nIG5ldyB0b2tlbnMuCiAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgKi8KICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBtaW50aW5nRmluaXNoZWQgPSB0cnVlOwogICAgTWludEZpbmlzaGVkKCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCmNvbnRyYWN0IFJlcG9ydGVyVG9rZW4gaXMgTWludGFibGVUb2tlbiwgUGF1c2FibGV7CiAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIlJlcG9ydGVyIFRva2VuIjsKICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJORVdTIjsKICB1aW50MjU2IHB1YmxpYyBkZWNpbWFscyA9IDE4OwoKICBib29sIHB1YmxpYyB0cmFkaW5nU3RhcnRlZCA9IGZhbHNlOwoKICAvKioKICAqIEBkZXYgbW9kaWZpZXIgdGhhdCB0aHJvd3MgaWYgdHJhZGluZyBoYXMgbm90IHN0YXJ0ZWQgeWV0CiAgICovCiAgbW9kaWZpZXIgaGFzU3RhcnRlZFRyYWRpbmcoKSB7CiAgICByZXF1aXJlKHRyYWRpbmdTdGFydGVkKTsKICAgIF87CiAgfQoKICAvKioKICAqIEBkZXYgQWxsb3dzIHRoZSBvd25lciB0byBlbmFibGUgdGhlIHRyYWRpbmcuIFRoaXMgY2FuIG5vdCBiZSB1bmRvbmUKICAqLwogIGZ1bmN0aW9uIHN0YXJ0VHJhZGluZygpIHB1YmxpYyBvbmx5T3duZXIgewogICAgdHJhZGluZ1N0YXJ0ZWQgPSB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgYW55b25lIHRvIHRyYW5zZmVyIHRoZSBDaGFuZ2UgdG9rZW5zIG9uY2UgdHJhZGluZyBoYXMgc3RhcnRlZAogICAqIEBwYXJhbSBfdG8gdGhlIHJlY2lwaWVudCBhZGRyZXNzIG9mIHRoZSB0b2tlbnMuCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQuCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBoYXNTdGFydGVkVHJhZGluZyB3aGVuTm90UGF1c2VkIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogIH0KCiAgLyoqCiAgKiBAZGV2IEFsbG93cyBhbnlvbmUgdG8gdHJhbnNmZXIgdGhlIENoYW5nZSB0b2tlbnMgb25jZSB0cmFkaW5nIGhhcyBzdGFydGVkCiAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAqIEBwYXJhbSBfdmFsdWUgdWludCB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBoYXNTdGFydGVkVHJhZGluZyB3aGVuTm90UGF1c2VkIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiBlbWVyZ2VuY3lFUkMyMERyYWluKCBFUkMyMCBvZGRUb2tlbiwgdWludCBhbW91bnQgKSBwdWJsaWMgewogICAgb2RkVG9rZW4udHJhbnNmZXIob3duZXIsIGFtb3VudCk7CiAgfQp9Cgpjb250cmFjdCBSZXBvcnRlclRva2VuU2FsZSBpcyBPd25hYmxlLCBQYXVzYWJsZXsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgLy8gVGhlIHRva2VuIGJlaW5nIHNvbGQKICBSZXBvcnRlclRva2VuIHB1YmxpYyB0b2tlbjsKCiAgdWludDI1NiBwdWJsaWMgZGVjaW1hbHM7ICAKICB1aW50MjU2IHB1YmxpYyBvbmVDb2luOwoKICAvLyBzdGFydCBhbmQgZW5kIGJsb2NrIHdoZXJlIGludmVzdG1lbnRzIGFyZSBhbGxvd2VkIChib3RoIGluY2x1c2l2ZSkKICB1aW50MjU2IHB1YmxpYyBzdGFydFRpbWVzdGFtcDsKICB1aW50MjU2IHB1YmxpYyBlbmRUaW1lc3RhbXA7CgogIC8vIGFkZHJlc3Mgd2hlcmUgZnVuZHMgYXJlIGNvbGxlY3RlZAogIGFkZHJlc3MgcHVibGljIG11bHRpU2lnOwoKICBmdW5jdGlvbiBzZXRXYWxsZXQoYWRkcmVzcyBfbmV3V2FsbGV0KSBwdWJsaWMgb25seU93bmVyIHsKICAgIG11bHRpU2lnID0gX25ld1dhbGxldDsKICB9CgogIC8vIFRoZXNlIHdpbGwgYmUgc2V0IGJ5IHNldFRpZXIoKQogIHVpbnQyNTYgcHVibGljIHJhdGU7IC8vIGhvdyBtYW55IHRva2VuIHVuaXRzIGEgYnV5ZXIgZ2V0cyBwZXIgd2VpCiAgdWludDI1NiBwdWJsaWMgbWluQ29udHJpYnV0aW9uID0gMC4wMDAxIGV0aGVyOyAgLy8gbWluaW11bSBjb250cmlidXRpbyB0byBwYXJ0aWNpcGF0ZSBpbiB0b2tlbnNhbGUKICB1aW50MjU2IHB1YmxpYyBtYXhDb250cmlidXRpb24gPSAyMDAwMDAgZXRoZXI7ICAvLyBkZWZhdWx0IGxpbWl0IHRvIHRva2VucyB0aGF0IHRoZSB1c2VycyBjYW4gYnV5CgogIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKgoKICAvLyBhbW91bnQgb2YgcmFpc2VkIG1vbmV5IGluIHdlaQogIHVpbnQyNTYgcHVibGljIHdlaVJhaXNlZDsKCiAgLy8gYW1vdW50IG9mIHJhaXNlZCB0b2tlbnMgCiAgdWludDI1NiBwdWJsaWMgdG9rZW5SYWlzZWQ7CgogIC8vIG1heGltdW0gYW1vdW50IG9mIHRva2VucyBiZWluZyBjcmVhdGVkCiAgdWludDI1NiBwdWJsaWMgbWF4VG9rZW5zOwoKICAvLyBtYXhpbXVtIGFtb3VudCBvZiB0b2tlbnMgZm9yIHNhbGUKICB1aW50MjU2IHB1YmxpYyB0b2tlbnNGb3JTYWxlOyAgLy8gMzYgTWlsbGlvbiBUb2tlbnMgZm9yIFNBTEUKCiAgLy8gbnVtYmVyIG9mIHBhcnRpY2lwYW50cyBpbiBwcmVzYWxlCiAgdWludDI1NiBwdWJsaWMgbnVtYmVyT2ZQdXJjaGFzZXJzID0gMDsKCiAgLy8gIGZvciB3aGl0ZWxpc3QKICBhZGRyZXNzIHB1YmxpYyBjczsKCiAvLyAgZm9yIHJhdGUKICB1aW50IHB1YmxpYyByOwoKCiAgLy8gc3dpdGNoIG9uL29mZiB0aGUgYXV0aG9yaXNhdGlvbiAsIGRlZmF1bHQ6IGZhbHNlCiAgYm9vbCAgICBwdWJsaWMgZnJlZUZvckFsbCA9IGZhbHNlOwoKICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBhdXRob3Jpc2VkOyAvLyBqdXN0IHRvIGFubm95IHRoZSBoZWNrIG91dCBvZiBhbWVyaWNhbnMKCiAgZXZlbnQgVG9rZW5QdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgYmVuZWZpY2lhcnksIHVpbnQyNTYgdmFsdWUsIHVpbnQyNTYgYW1vdW50KTsKICBldmVudCBTYWxlQ2xvc2VkKCk7CgogIGZ1bmN0aW9uIFJlcG9ydGVyVG9rZW5TYWxlKCkgcHVibGljIHsKICAgIHN0YXJ0VGltZXN0YW1wID0gMTUwODY4NDQwMDsgLy8gMjIgT2N0LiAyMDE3LiAxNTowMCBVVEMKICAgIGVuZFRpbWVzdGFtcCA9IDE1MjExMjYwMDA7ICAgLy8gMTUgTWFyYy4gMjAxOC4gMTU6MDAgVVRDICAxNTIxMTI2MDAwCiAgICBtdWx0aVNpZyA9IDB4RDAwZDA4NUYxMjVFQUZFQTllOGM1RDNmNGJjMjVlNkQwYzkzQWYwZTsKCiAgICB0b2tlbiA9IG5ldyBSZXBvcnRlclRva2VuKCk7CiAgICBkZWNpbWFscyA9IHRva2VuLmRlY2ltYWxzKCk7CiAgICBvbmVDb2luID0gMTAgKiogZGVjaW1hbHM7CiAgICBtYXhUb2tlbnMgPSA2MCAqICgxMCoqNikgKiBvbmVDb2luOwogICAgdG9rZW5zRm9yU2FsZSA9IDM2ICogKDEwKio2KSAqIG9uZUNvaW47CiAgfQoKICAvKioKICAqIEBkZXYgQ2FsY3VsYXRlcyB0aGUgYW1vdW50IG9mIGJvbnVzIGNvaW5zIHRoZSBidXllciBnZXRzCiAgKi8KICBmdW5jdGlvbiBzZXRUaWVyKHVpbnQgbmV3UikgaW50ZXJuYWwgewogICAgLy8gZmlyc3QgMjUlIHRva2VucyBnZXQgZXh0cmEgMzAlIG9mIHRva2VucywgbmV4dCBoYWxmIGdldCAxNSUKICAgIGlmICh0b2tlblJhaXNlZCA8PSA5MDAwMDAwICogb25lQ29pbikgewogICAgICByYXRlID0gbmV3UiAqIDE0Mi8xMDA7CiAgICAgIC8vbWluQ29udHJpYnV0aW9uID0gMTAwIGV0aGVyOwogICAgICAvL21heENvbnRyaWJ1dGlvbiA9IDEwMDAwMDAgZXRoZXI7CiAgICB9IGVsc2UgaWYgKHRva2VuUmFpc2VkIDw9IDE4MDAwMDAwICogb25lQ29pbikgewogICAgICByYXRlID0gbmV3UiAqMTE3LzEwMDsKICAgICAgLy9taW5Db250cmlidXRpb24gPSA1IGV0aGVyOwogICAgICAvL21heENvbnRyaWJ1dGlvbiA9IDEwMDAwMDAgZXRoZXI7CiAgICB9IGVsc2UgewogICAgICByYXRlID0gbmV3UiAqIDE7CiAgICAgIC8vbWluQ29udHJpYnV0aW9uID0gMC4wMSBldGhlcjsKICAgICAgLy9tYXhDb250cmlidXRpb24gPSAxMDAgZXRoZXI7CiAgICB9CiAgfQoKICAvLyBAcmV0dXJuIHRydWUgaWYgY3Jvd2RzYWxlIGV2ZW50IGhhcyBlbmRlZAogIGZ1bmN0aW9uIGhhc0VuZGVkKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgIGlmIChub3cgPiBlbmRUaW1lc3RhbXApCiAgICAgIHJldHVybiB0cnVlOwogICAgaWYgKHRva2VuUmFpc2VkID49IHRva2Vuc0ZvclNhbGUpCiAgICAgIHJldHVybiB0cnVlOyAvLyBpZiB3ZSByZWFjaCB0aGUgdG9rZW5zRm9yU2FsZQogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgLyoqCiAgKiBAZGV2IHRocm93cyBpZiBwZXJzb24gc2VuZGluZyBpcyBub3QgY29udHJhY3Qgb3duZXIgb3IgY3Mgcm9sZQogICAqLwogIG1vZGlmaWVyIG9ubHlDU29yT3duZXIoKSB7CiAgICByZXF1aXJlKChtc2cuc2VuZGVyID09IG93bmVyKSB8fCAobXNnLnNlbmRlcj09Y3MpKTsKICAgIF87CiAgfQogICBtb2RpZmllciBvbmx5Q1MoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gY3MpOwogICAgXzsKICB9CgogIC8qKgogICogQGRldiB0aHJvd3MgaWYgcGVyc29uIHNlbmRpbmcgaXMgbm90IGF1dGhvcmlzZWQgb3Igc2VuZHMgbm90aGluZwogICovCiAgbW9kaWZpZXIgb25seUF1dGhvcmlzZWQoKSB7CiAgICByZXF1aXJlIChhdXRob3Jpc2VkW21zZy5zZW5kZXJdIHx8IGZyZWVGb3JBbGwpOwogICAgcmVxdWlyZSAobm93ID49IHN0YXJ0VGltZXN0YW1wKTsKICAgIHJlcXVpcmUgKCEoaGFzRW5kZWQoKSkpOwogICAgcmVxdWlyZSAobXVsdGlTaWcgIT0gMHgwKTsKICAgIHJlcXVpcmUodG9rZW5zRm9yU2FsZSA+IHRva2VuUmFpc2VkKTsgLy8gY2hlY2sgd2UgYXJlIG5vdCBvdmVyIHRoZSBudW1iZXIgb2YgdG9rZW5zRm9yU2FsZQogICAgXzsKICB9CgogIC8qKgogICogQGRldiBhdXRob3Jpc2UgYW4gYWNjb3VudCB0byBwYXJ0aWNpcGF0ZQogICovCiAgZnVuY3Rpb24gYXV0aG9yaXNlQWNjb3VudChhZGRyZXNzIHdob20pIG9ubHlDU29yT3duZXIgcHVibGljIHsKICAgIGF1dGhvcmlzZWRbd2hvbV0gPSB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IGF1dGhvcmlzZSBhIGxvdCBvZiBhY2NvdW50cyBpbiBvbmUgZ28KICAqLwogIGZ1bmN0aW9uIGF1dGhvcmlzZU1hbnlBY2NvdW50cyhhZGRyZXNzW10gbWFueSkgb25seUNTb3JPd25lciBwdWJsaWMgewogICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgbWFueS5sZW5ndGg7IGkrKykgewogICAgICBhdXRob3Jpc2VkW21hbnlbaV1dID0gdHJ1ZTsKICAgIH0KICB9CgogIC8qKgogICogQGRldiBiYW4gYW4gYWNjb3VudCBmcm9tIHBhcnRpY2lwYXRpb24gKGRlZmF1bHQpCiAgKi8KICBmdW5jdGlvbiBibG9ja0FjY291bnQoYWRkcmVzcyB3aG9tKSBvbmx5Q1Nvck93bmVyIHB1YmxpYyB7CiAgICBhdXRob3Jpc2VkW3dob21dID0gZmFsc2U7CiAgIH0gIAogICAgCiAgLyoqCiAgKiBAZGV2IHNldCBhIG5ldyBDUyByZXByZXNlbnRhdGl2ZQogICovCiAgZnVuY3Rpb24gc2V0Q1MoYWRkcmVzcyBuZXdDUykgb25seU93bmVyIHB1YmxpYyB7CiAgICBjcyA9IG5ld0NTOwogIH0KCiAgIC8qKgogICogQGRldiBzZXQgYSBuZXcgQ1MgcmVwcmVzZW50YXRpdmUKICAqLwogIGZ1bmN0aW9uIHNldFJhdGUodWludCBuZXdSYXRlKSBvbmx5Q1Nvck93bmVyIHB1YmxpYyB7CiAgICByZXF1aXJlKCAwIDwgbmV3UmF0ZSAmJiBuZXdSYXRlIDwgMzAwMCk7IAogICAgciA9IG5ld1JhdGU7CiAgfQoKCiAgZnVuY3Rpb24gcGxhY2VUb2tlbnMoYWRkcmVzcyBiZW5lZmljaWFyeSwgdWludDI1NiBfdG9rZW5zKSBvbmx5Q1MgcHVibGljIHsKICAgIC8vY2hlY2sgbWluaW11bSBhbmQgbWF4aW11bSBhbW91bnQKICAgIHJlcXVpcmUoX3Rva2VucyAhPSAwKTsKICAgIHJlcXVpcmUoIWhhc0VuZGVkKCkpOwogICAgdWludDI1NiBhbW91bnQgPSAwOwogICAgaWYgKHRva2VuLmJhbGFuY2VPZihiZW5lZmljaWFyeSkgPT0gMCkgewogICAgICBudW1iZXJPZlB1cmNoYXNlcnMrKzsKICAgIH0KICAgIHRva2VuUmFpc2VkID0gdG9rZW5SYWlzZWQuYWRkKF90b2tlbnMpOyAvLyBzbyB3ZSBjYW4gZ28gc2xpZ2h0bHkgb3ZlcgogICAgdG9rZW4ubWludChiZW5lZmljaWFyeSwgX3Rva2Vucyk7CiAgICBUb2tlblB1cmNoYXNlKGJlbmVmaWNpYXJ5LCBhbW91bnQsIF90b2tlbnMpOwogIH0KCiAgLy8gbG93IGxldmVsIHRva2VuIHB1cmNoYXNlIGZ1bmN0aW9uCiAgZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgYmVuZWZpY2lhcnksIHVpbnQyNTYgYW1vdW50KSBvbmx5QXV0aG9yaXNlZCB3aGVuTm90UGF1c2VkIGludGVybmFsIHsKCiAgICBzZXRUaWVyKHIpOwoKICAgIC8vY2hlY2sgbWluaW11bSBhbmQgbWF4aW11bSBhbW91bnQKICAgIHJlcXVpcmUoYW1vdW50ID49IG1pbkNvbnRyaWJ1dGlvbik7CiAgICByZXF1aXJlKGFtb3VudCA8PSBtYXhDb250cmlidXRpb24pOwoKICAgIC8vIGNhbGN1bGF0ZSB0b2tlbiBhbW91bnQgdG8gYmUgY3JlYXRlZAogICAgdWludDI1NiB0b2tlbnMgPSBhbW91bnQubXVsKHJhdGUpOwoKICAgIC8vIHVwZGF0ZSBzdGF0ZQogICAgd2VpUmFpc2VkID0gd2VpUmFpc2VkLmFkZChhbW91bnQpOwogICAgaWYgKHRva2VuLmJhbGFuY2VPZihiZW5lZmljaWFyeSkgPT0gMCkgewogICAgICBudW1iZXJPZlB1cmNoYXNlcnMrKzsKICAgIH0KICAgIHRva2VuUmFpc2VkID0gdG9rZW5SYWlzZWQuYWRkKHRva2Vucyk7IC8vIHNvIHdlIGNhbiBnbyBzbGlnaHRseSBvdmVyCiAgICB0b2tlbi5taW50KGJlbmVmaWNpYXJ5LCB0b2tlbnMpOwogICAgVG9rZW5QdXJjaGFzZShiZW5lZmljaWFyeSwgYW1vdW50LCB0b2tlbnMpOwogICAgbXVsdGlTaWcudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsgLy8gYmV0dGVyIGluIGNhc2UgYW55IG90aGVyIGV0aGVyIGVuZHMgdXAgaGVyZQogIH0KCiAgLy8gdHJhbnNmZXIgb3duZXJzaGlwIG9mIHRoZSB0b2tlbiB0byB0aGUgb3duZXIgb2YgdGhlIHByZXNhbGUgY29udHJhY3QKICBmdW5jdGlvbiBmaW5pc2hTYWxlKCkgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKGhhc0VuZGVkKCkpOwoKICAgIC8vIGFzc2lnbiB0aGUgcmVzdCBvZiB0aGUgNjBNIHRva2VucyB0byB0aGUgcmVzZXJ2ZQogICAgdWludCB1bmFzc2lnbmVkOwogICAgaWYobWF4VG9rZW5zID4gdG9rZW5SYWlzZWQpIHsKICAgICAgdW5hc3NpZ25lZCAgPSBtYXhUb2tlbnMuc3ViKHRva2VuUmFpc2VkKTsKICAgICAgdG9rZW4ubWludChtdWx0aVNpZyx1bmFzc2lnbmVkKTsKICAgIH0KICAgIHRva2VuLmZpbmlzaE1pbnRpbmcoKTsKICAgIHRva2VuLnRyYW5zZmVyT3duZXJzaGlwKG93bmVyKTsKICAgIFNhbGVDbG9zZWQoKTsKICB9CgogIC8vIGZhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGJ1eSB0b2tlbnMKICBmdW5jdGlvbiAoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICBidXlUb2tlbnMobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIGVtZXJnZW5jeUVSQzIwRHJhaW4oIEVSQzIwIG9kZFRva2VuLCB1aW50IGFtb3VudCApIHB1YmxpYyB7CiAgICBvZGRUb2tlbi50cmFuc2Zlcihvd25lciwgYW1vdW50KTsKICB9Cn0='.
	

]
