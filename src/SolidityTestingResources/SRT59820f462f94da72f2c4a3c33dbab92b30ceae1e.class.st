Class {
	#name : #SRT59820f462f94da72f2c4a3c33dbab92b30ceae1e,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT59820f462f94da72f2c4a3c33dbab92b30ceae1e >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgovLyBBYnN0cmFjdCBjb250cmFjdCBmb3IgdGhlIGZ1bGwgRVJDIDIwIFRva2VuIHN0YW5kYXJkCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAoKbGlicmFyeSBTYWZlTWF0aCB7CiBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICAgIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKY29udHJhY3QgVG9rZW4gewogICAgLyogVGhpcyBpcyBhIHNsaWdodCBjaGFuZ2UgdG8gdGhlIEVSQzIwIGJhc2Ugc3RhbmRhcmQuCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgc3VwcGx5KTsKICAgIGlzIHJlcGxhY2VkIHdpdGg6CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIFRoaXMgYXV0b21hdGljYWxseSBjcmVhdGVzIGEgZ2V0dGVyIGZ1bmN0aW9uIGZvciB0aGUgdG90YWxTdXBwbHkuCiAgICBUaGlzIGlzIG1vdmVkIHRvIHRoZSBiYXNlIGNvbnRyYWN0IHNpbmNlIHB1YmxpYyBnZXR0ZXIgZnVuY3Rpb25zIGFyZSBub3QKICAgIGN1cnJlbnRseSByZWNvZ25pc2VkIGFzIGFuIGltcGxlbWVudGF0aW9uIG9mIHRoZSBtYXRjaGluZyBhYnN0cmFjdAogICAgZnVuY3Rpb24gYnkgdGhlIGNvbXBpbGVyLgogICAgKi8KICAgIC8vLyB0b3RhbCBhbW91bnQgb2YgdG9rZW5zCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICAvLy8gQHJldHVybiBUaGUgYmFsYW5jZQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKCiAgICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYG1zZy5zZW5kZXJgCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBfZnJvbWAgb24gdGhlIGNvbmRpdGlvbiBpdCBpcyBhcHByb3ZlZCBieSBgX2Zyb21gCiAgICAvLy8gQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8vIEBub3RpY2UgYG1zZy5zZW5kZXJgIGFwcHJvdmVzIGBfc3BlbmRlcmAgdG8gc3BlbmQgYF92YWx1ZWAgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSBhcHByb3ZhbCB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IG93bmluZyB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAvLy8gQHJldHVybiBBbW91bnQgb2YgcmVtYWluaW5nIHRva2VucyBhbGxvd2VkIHRvIHNwZW50CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKfQoKLyoKWW91IHNob3VsZCBpbmhlcml0IGZyb20gU3RhbmRhcmRUb2tlbiBvciwgZm9yIGEgdG9rZW4gbGlrZSB5b3Ugd291bGQgd2FudCB0bwpkZXBsb3kgaW4gc29tZXRoaW5nIGxpa2UgTWlzdCwgc2VlIEh1bWFuU3RhbmRhcmRUb2tlbi5zb2wuCihUaGlzIGltcGxlbWVudHMgT05MWSB0aGUgc3RhbmRhcmQgZnVuY3Rpb25zIGFuZCBOT1RISU5HIGVsc2UuCklmIHlvdSBkZXBsb3kgdGhpcywgeW91IHdvbid0IGhhdmUgYW55dGhpbmcgdXNlZnVsLikKCkltcGxlbWVudHMgRVJDIDIwIFRva2VuIHN0YW5kYXJkOiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKLiovCgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIFRva2VuIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKCiAgICAgICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwoKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbX2Zyb21dKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CgogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIC8qKgogICAqIGFwcHJvdmUgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFsbG93ZWRbX3NwZW5kZXJdID09IDAuIFRvIGluY3JlbWVudAogICAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsCiAgICogdGhlIGZpcnN0IHRyYW5zYWN0aW9uIGlzIG1pbmVkKQogICAqLwogIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgIH0gZWxzZSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgIH0KCgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKfQoKY29udHJhY3QgSHVtYW5TdGFuZGFyZFRva2VuIGlzIFN0YW5kYXJkVG9rZW4gewoKICAgIGZ1bmN0aW9uICgpIHB1YmxpYyB7CiAgICAgICAgLy9pZiBldGhlciBpcyBzZW50IHRvIHRoaXMgYWRkcmVzcywgc2VuZCBpdCBiYWNrLgogICAgICAgIHRocm93OwogICAgfQoKICAgIC8qIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuICovCgogICAgLyoKICAgIE5PVEU6CiAgICBUaGUgZm9sbG93aW5nIHZhcmlhYmxlcyBhcmUgT1BUSU9OQUwgdmFuaXRpZXMuIE9uZSBkb2VzIG5vdCBoYXZlIHRvIGluY2x1ZGUgdGhlbS4KICAgIFRoZXkgYWxsb3cgb25lIHRvIGN1c3RvbWlzZSB0aGUgdG9rZW4gY29udHJhY3QgJiBpbiBubyB3YXkgaW5mbHVlbmNlcyB0aGUgY29yZSBmdW5jdGlvbmFsaXR5LgogICAgU29tZSB3YWxsZXRzL2ludGVyZmFjZXMgbWlnaHQgbm90IGV2ZW4gYm90aGVyIHRvIGxvb2sgYXQgdGhpcyBpbmZvcm1hdGlvbi4KICAgICovCiAgICBzdHJpbmcgcHVibGljIG5hbWU7ICAgICAgICAgICAgICAgICAgIC8vZmFuY3kgbmFtZTogZWcgWUVFOiBhIFRva2VuIGZvciBZZWUgRWNvc3lzdGVtLgogICAgdWludDggcHVibGljIGRlY2ltYWxzOyAgICAgICAgICAgICAgICAvL0hvdyBtYW55IGRlY2ltYWxzIHRvIHNob3cuIGllLiBUaGVyZSBjb3VsZCAxMDAwIGJhc2UgdW5pdHMgd2l0aCAzIGRlY2ltYWxzLiBNZWFuaW5nIDAuOTgwIFlFRSA9IDk4MCBiYXNlIHVuaXRzLiBJdCdzIGxpa2UgY29tcGFyaW5nIDEgd2VpIHRvIDEgZXRoZXIuCiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsgICAgICAgICAgICAgICAgIC8vQW4gaWRlbnRpZmllcjogZWcgWUVFCiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAnSDAuMSc7ICAgICAgIC8vaHVtYW4gMC4xIHN0YW5kYXJkLiBKdXN0IGFuIGFyYml0cmFyeSB2ZXJzaW9uaW5nIHNjaGVtZS4KCiAgICBmdW5jdGlvbiBIdW1hblN0YW5kYXJkVG9rZW4gKAogICAgICAgIHVpbnQyNTYgX2luaXRpYWxBbW91bnQsCiAgICAgICAgc3RyaW5nIF90b2tlbk5hbWUsCiAgICAgICAgdWludDggX2RlY2ltYWxVbml0cywKICAgICAgICBzdHJpbmcgX3Rva2VuU3ltYm9sCiAgICAgICAgKSBpbnRlcm5hbCB7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBfaW5pdGlhbEFtb3VudDsgICAgICAgICAgICAgICAvLyBHaXZlIHRoZSBjcmVhdG9yIGFsbCBpbml0aWFsIHRva2VucwogICAgICAgIHRvdGFsU3VwcGx5ID0gX2luaXRpYWxBbW91bnQ7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRvdGFsIHN1cHBseQogICAgICAgIG5hbWUgPSBfdG9rZW5OYW1lOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBuYW1lIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgZGVjaW1hbHMgPSBfZGVjaW1hbFVuaXRzOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbW91bnQgb2YgZGVjaW1hbHMgZm9yIGRpc3BsYXkgcHVycG9zZXMKICAgICAgICBzeW1ib2wgPSBfdG9rZW5TeW1ib2w7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgc3ltYm9sIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICB9CgogICAgLyogQXBwcm92ZXMgYW5kIHRoZW4gY2FsbHMgdGhlIHJlY2VpdmluZyBjb250cmFjdCAqLwogICAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9leHRyYURhdGEpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKCiAgICAgICAgLy9jYWxsIHRoZSByZWNlaXZlQXBwcm92YWwgZnVuY3Rpb24gb24gdGhlIGNvbnRyYWN0IHlvdSB3YW50IHRvIGJlIG5vdGlmaWVkLiBUaGlzIGNyYWZ0cyB0aGUgZnVuY3Rpb24gc2lnbmF0dXJlIG1hbnVhbGx5IHNvIG9uZSBkb2Vzbid0IGhhdmUgdG8gaW5jbHVkZSBhIGNvbnRyYWN0IGluIGhlcmUganVzdCBmb3IgdGhpcy4KICAgICAgICAvL3JlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW5Db250cmFjdCwgYnl0ZXMgX2V4dHJhRGF0YSkKICAgICAgICAvL2l0IGlzIGFzc3VtZWQgdGhhdCB3aGVuIGRvZXMgdGhpcyB0aGF0IHRoZSBjYWxsICpzaG91bGQqIHN1Y2NlZWQsIG90aGVyd2lzZSBvbmUgd291bGQgdXNlIHZhbmlsbGEgYXBwcm92ZSBpbnN0ZWFkLgogICAgICAgIGlmKCFfc3BlbmRlci5jYWxsKGJ5dGVzNChieXRlczMyKGtlY2NhazI1NigicmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MsdWludDI1NixhZGRyZXNzLGJ5dGVzKSIpKSksIG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSkpIHsgdGhyb3c7IH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKY29udHJhY3QgWUVFVG9rZW4gaXMgSHVtYW5TdGFuZGFyZFRva2VuKDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwLCJZZWUgLSBBIEJsb2NrY2hhaW4tcG93ZXJlZCAmIENsb3VkLWJhc2VkIFNvY2lhbCBFY29zeXN0ZW0iLDE4LCJZRUUiKXsKIGZ1bmN0aW9uICgpIHB1YmxpYyB7CiAgICAgICAgLy9pZiBldGhlciBpcyBzZW50IHRvIHRoaXMgYWRkcmVzcywgc2VuZCBpdCBiYWNrLgogICAgICAgIHRocm93OwogICAgfQogCiBmdW5jdGlvbiBZRUVUb2tlbiAoKSBwdWJsaWMgewogIAogICAgfQp9Cgpjb250cmFjdCBZZWVMb2NrZXJGb3JZZWVFY29sb2d5IHsKICAgIGFkZHJlc3MgcHVibGljIGFjY291bnRMb2NrZWQ7ICAgLy90aGUgYWNvdW50IGJlZW4gbG9ja2VkCiAgICB1aW50MjU2IHB1YmxpYyB0aW1lTG9ja2VkU3RhcnQ7ICAgICAgLy9sb2NrZWQgdGltZSAKICAgIHVpbnQyNTYgcHVibGljIGFtb3VudE5lZWRUb0JlTG9jazsgIC8vdG90YWwgYW1vdW50IG5lZWQgbG9jawogICAgdWludDI1NiBwdWJsaWMgdW5sb2NrUGVyaW9kOyAgICAgIC8vbW9udGgsIHF1YXJ0ZXIgb3IgeWVhciAKICAgIHVpbnQyNTYgcHVibGljIHVubG9ja1BlcmlvZE51bTsgICAvL251bWJlciBvZiBwZXJpb2QgZm9yIHVubG9jawogICAgCiAgICBhZGRyZXNzICBwcml2YXRlIHllZVRva2VuQWRkcmVzcyA9IDB4OTIyMTA1ZkFkODE1M0Y1MTZiQ2ZCODI5ZjU2REMwOTdhMEUxRDcwNTsgLy9uZWVkIGNoYW5nZSB0byByZWFsIGFkZHJlc3Mgb24gbWFpbiBjaGFpbgogICAgWUVFVG9rZW4gcHJpdmF0ZSB5ZWVUb2tlbiA9IFlFRVRva2VuKHllZVRva2VuQWRkcmVzcyk7CiAgICAKICAgIGV2ZW50IEV2dFVubG9jayhhZGRyZXNzIGxvY2tBY2NvdW50LCB1aW50MjU2IHZhbHVlKTsKCiAgICBmdW5jdGlvbiBfYmFsYW5jZSgpIHB1YmxpYyB2aWV3IHJldHVybnModWludDI1NiBhbW91bnQpewogICAgICAgIHJldHVybiB5ZWVUb2tlbi5iYWxhbmNlT2YodGhpcyk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHVubG9ja0N1cnJlbnRBdmFpbGFibGVGdW5kcygpIHB1YmxpYyByZXR1cm5zKGJvb2wgcmVzdWx0KXsKICAgICAgICB1aW50MjU2IGFtb3VudCA9IGdldEN1cnJlbnRBdmFpbGFibGVGdW5kcygpOwogICAgICAgIGlmICggYW1vdW50ID09IDAgKXsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBlbHNlewogICAgICAgICAgICBib29sIHJldCA9IHllZVRva2VuLnRyYW5zZmVyKGFjY291bnRMb2NrZWQsIGFtb3VudCk7CiAgICAgICAgICAgIEV2dFVubG9jayhhY2NvdW50TG9ja2VkLCBhbW91bnQpOwogICAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ2V0TmVlZExvY2tGdW5kcygpIHB1YmxpYyB2aWV3IHJldHVybnModWludDI1NiBuZWVkTG9ja0Z1bmRzKXsKICAgICAgICB1aW50MjU2IGNvdW50ID0gKG5vdyAtIHRpbWVMb2NrZWRTdGFydCkvdW5sb2NrUGVyaW9kICsgMTsgLy9pZiBmaXJzdCB1bmxvY2sgaXMgYXQgcGVyaW9kIGJlZ2luLCB0aGVuICsxIGhlcmUKICAgICAgICBpZiAoIGNvdW50ID4gdW5sb2NrUGVyaW9kTnVtICl7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgICAgICBlbHNlewogICAgICAgICAgICB1aW50MjU2IG5lZWRMb2NrID0gMDsKICAgICAgICAgICAgdWludDI1NiB1bmxvY2tBbW91bnQ7CiAgICAgICAgICAgIGlmICggY291bnQgPj0gMSAmJiBjb3VudCA8PSA0ICl7CiAgICAgICAgICAgICAgICB1bmxvY2tBbW91bnQgPSBjb3VudCAqIGFtb3VudE5lZWRUb0JlTG9jayAvIDY7CiAgICAgICAgICAgICAgICBuZWVkTG9jayA9IGFtb3VudE5lZWRUb0JlTG9jayAtIHVubG9ja0Ftb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmICggY291bnQgPj0gNSAmJiBjb3VudCA8PSA4ICl7CiAgICAgICAgICAgICAgICB1bmxvY2tBbW91bnQgPSA0ICogYW1vdW50TmVlZFRvQmVMb2NrIC8gNiArIChjb3VudCAtIDQpICogYW1vdW50TmVlZFRvQmVMb2NrIC8gMTI7CiAgICAgICAgICAgICAgICBuZWVkTG9jayA9IGFtb3VudE5lZWRUb0JlTG9jayAtIHVubG9ja0Ftb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbmVlZExvY2s7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRBdmFpbGFibGVGdW5kcygpIHB1YmxpYyB2aWV3IHJldHVybnModWludDI1NiBhdmFpbGFibGVGdW5kcyl7CiAgICAgICAgdWludDI1NiBiYWxhbmNlID0geWVlVG9rZW4uYmFsYW5jZU9mKHRoaXMpOwogICAgICAgIHVpbnQyNTYgbmVlZExvY2sgPSBnZXROZWVkTG9ja0Z1bmRzKCk7CiAgICAgICAgaWYgKCBiYWxhbmNlID4gbmVlZExvY2sgKXsKICAgICAgICAgICAgcmV0dXJuIGJhbGFuY2UgLSBuZWVkTG9jazsKICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiBnZXROZWVkTG9ja0Z1bmRzRnJvbVBlcmlvZCh1aW50MjU2IGVuZFRpbWUsIHVpbnQyNTYgc3RhcnRUaW1lKSBwdWJsaWMgdmlldyByZXR1cm5zKHVpbnQyNTYgbmVlZExvY2tGdW5kcyl7CiAgICAgICAgdWludDI1NiBjb3VudCA9IChlbmRUaW1lIC0gc3RhcnRUaW1lKS91bmxvY2tQZXJpb2QgKyAxOyAvL2lmIGZpcnN0IHVubG9jayBpcyBhdCBwZXJpb2QgYmVnaW4sIHRoZW4gKzEgaGVyZQogICAgICAgIGlmICggY291bnQgPiB1bmxvY2tQZXJpb2ROdW0gKXsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIGVsc2V7CiAgICAgICAgICAgIHVpbnQyNTYgbmVlZExvY2sgPSAwOwogICAgICAgICAgICB1aW50MjU2IHVubG9ja0Ftb3VudDsKICAgICAgICAgICAgaWYgKCBjb3VudCA+PSAxICYmIGNvdW50IDw9IDQgKXsKICAgICAgICAgICAgICAgIHVubG9ja0Ftb3VudCA9IGNvdW50ICogYW1vdW50TmVlZFRvQmVMb2NrIC8gNjsKICAgICAgICAgICAgICAgIG5lZWRMb2NrID0gYW1vdW50TmVlZFRvQmVMb2NrIC0gdW5sb2NrQW1vdW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKCBjb3VudCA+PSA1ICYmIGNvdW50IDw9IDggKXsKICAgICAgICAgICAgICAgIHVubG9ja0Ftb3VudCA9IDQgKiBhbW91bnROZWVkVG9CZUxvY2sgLyA2ICsgKGNvdW50IC0gNCkgKiBhbW91bnROZWVkVG9CZUxvY2sgLyAxMjsKICAgICAgICAgICAgICAgIG5lZWRMb2NrID0gYW1vdW50TmVlZFRvQmVMb2NrIC0gdW5sb2NrQW1vdW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBuZWVkTG9jazsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIFllZUxvY2tlckZvclllZUVjb2xvZ3koKSBwdWJsaWMgewogICAgICAgIC8vVG90YWwgMy4wIGJpbGxpb24gWUVFIHRvIGJlIGxvY2tlZAogICAgICAgIC8vVW5sb2NrIDAuNSBiaWxsaW9uIGF0IHRoZSBiZWdpbiBvZiBldmVyeSB5ZWFyIG9mIHRoZSBmaXJzdCA0IHllYXJzCiAgICAgICAgLy9VbmxvY2sgMC4yNSBiaWxsaW9uIGF0IHRoZSBiZWdpbiBvZiBldmVyeSB5ZWFyIG9mIHRoZSBuZXh0IDQgeWVhcnMKICAgICAgICBhY2NvdW50TG9ja2VkID0gbXNnLnNlbmRlcjsKICAgICAgICB1aW50MjU2IGJhc2UgPSAxMDAwMDAwMDAwMDAwMDAwMDAwOwogICAgICAgIGFtb3VudE5lZWRUb0JlTG9jayA9IDMwMDAwMDAwMDAgKiBiYXNlOyAvLzMuMCBiaWxsaW9uCiAgICAgICAgdW5sb2NrUGVyaW9kID0gMSB5ZWFyczsKICAgICAgICB1bmxvY2tQZXJpb2ROdW0gPSA4OwogICAgICAgIHRpbWVMb2NrZWRTdGFydCA9IG5vdzsKICAgIH0gICAgCgp9'.
	

]
