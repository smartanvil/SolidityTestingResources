Class {
	#name : #SRT119B721777598F3ee7A7e63babA09cc2a0B0B0b5,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT119B721777598F3ee7A7e63babA09cc2a0B0B0b5 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKCiAgZnVuY3Rpb24gbXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludCBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICBhc3NlcnQoYiA+IDApOwogICAgdWludCBjID0gYSAvIGI7CiAgICBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zKHVpbnQpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IEVSQzIwIHsKICAgIHVpbnQgcHVibGljIHRvdGFsU3VwcGx5ID0gMDsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludCBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50IF92YWx1ZSk7Cgp9IC8vIEZ1bmN0aW9ucyBvZiBFUkMyMCBzdGFuZGFyZAoKCgpjb250cmFjdCBEYXRhcml1c0lDTyB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBUb2tlbnNfRm9yX1NhbGUgPSAxNDYwMDAwMDAqMWUxODsgLy8gVG9rZW5zIGZvciBTYWxlIHdpdGhvdXQgYm9udXNlcyhIYXJkQ2FwKQogICAgdWludCBwdWJsaWMgY29uc3RhbnQgVG90YWxfQW1vdW50ID0gMjAwMDAwMDAwKjFlMTg7IC8vIEZpeGVkIHRvdGFsIHN1cHBseQogICAgdWludCBwdWJsaWMgU29sZCA9IDA7CgogICAgdWludCBDT05TVF9ERUwgPSAxMDAwOwoKICAgIHVpbnQgcHVibGljIFRva2Vuc19QZXJfRG9sbGFyID0gMjE3OTsKICAgIHVpbnQgcHVibGljIFJhdGVfRXRoID0gNDQ2OyAvLyBSYXRlIFVTRCBwZXIgRVRICiAgICB1aW50IHB1YmxpYyBUb2tlbl9QcmljZSA9IFRva2Vuc19QZXJfRG9sbGFyICogUmF0ZV9FdGggLyBDT05TVF9ERUw7IC8vIERBVCBwZXIgRVRICgogICAgZXZlbnQgTG9nU3RhcnRQcmVJQ08oKTsKICAgIGV2ZW50IExvZ1N0YXJ0SUNPKCk7CiAgICBldmVudCBMb2dQYXVzZSgpOwogICAgZXZlbnQgTG9nRmluaXNoUHJlSUNPKCk7CiAgICBldmVudCBMb2dGaW5pc2hJQ08oYWRkcmVzcyBSZXNlcnZlRnVuZCk7CiAgICBldmVudCBMb2dCdXlGb3JJbnZlc3RvcihhZGRyZXNzIGludmVzdG9yLCB1aW50IGRhdFZhbHVlLCBzdHJpbmcgdHhIYXNoKTsKCiAgICBEQVQgcHVibGljIGRhdCA9IG5ldyBEQVQodGhpcyk7CgogICAgYWRkcmVzcyBwdWJsaWMgQ29tcGFueTsKICAgIGFkZHJlc3MgcHVibGljIEJvdW50eUZ1bmQ7CiAgICBhZGRyZXNzIHB1YmxpYyBTdXBwb3J0RnVuZDsKICAgIGFkZHJlc3MgcHVibGljIFJlc2VydmVGdW5kOwogICAgYWRkcmVzcyBwdWJsaWMgVGVhbUZ1bmQ7CgogICAgYWRkcmVzcyBwdWJsaWMgTWFuYWdlcjsgLy8gTWFuYWdlciBjb250cm9scyBjb250cmFjdAogICAgYWRkcmVzcyBwdWJsaWMgQ29udHJvbGxlcl9BZGRyZXNzMTsgLy8gRmlyc3QgYWRkcmVzcyB0aGF0IGlzIHVzZWQgdG8gYnV5IHRva2VucyBmb3Igb3RoZXIgY3J5cHRvcwogICAgYWRkcmVzcyBwdWJsaWMgQ29udHJvbGxlcl9BZGRyZXNzMjsgLy8gU2Vjb25kIGFkZHJlc3MgdGhhdCBpcyB1c2VkIHRvIGJ1eSB0b2tlbnMgZm9yIG90aGVyIGNyeXB0b3MKICAgIGFkZHJlc3MgcHVibGljIENvbnRyb2xsZXJfQWRkcmVzczM7IC8vIFRoaXJkIGFkZHJlc3MgdGhhdCBpcyB1c2VkIHRvIGJ1eSB0b2tlbnMgZm9yIG90aGVyIGNyeXB0b3MKICAgIG1vZGlmaWVyIG1hbmFnZXJPbmx5IHsgcmVxdWlyZShtc2cuc2VuZGVyID09IE1hbmFnZXIpOyBfOyB9CiAgICBtb2RpZmllciBjb250cm9sbGVyc09ubHkgewogICAgICByZXF1aXJlKChtc2cuc2VuZGVyID09IENvbnRyb2xsZXJfQWRkcmVzczEpIHx8IChtc2cuc2VuZGVyID09IENvbnRyb2xsZXJfQWRkcmVzczIpIHx8IChtc2cuc2VuZGVyID09IENvbnRyb2xsZXJfQWRkcmVzczMpKTsKICAgICAgXzsKICAgIH0KCiAgICB1aW50IHN0YXJ0VGltZSA9IDA7CiAgICB1aW50IGJvdW50eUFtb3VudCA9IDQwMDAwMDAqMWUxODsKICAgIHVpbnQgc3VwcG9ydEFtb3VudCA9IDEwMDAwMDAwKjFlMTg7CiAgICB1aW50IHJlc2VydmVBbW91bnQgPSAyNDAwMDAwMCoxZTE4OwogICAgdWludCB0ZWFtQW1vdW50ID0gMTYwMDAwMDAqMWUxODsKCiAgICBlbnVtIFN0YXR1cyB7CiAgICAgICAgICAgICAgICAgIENyZWF0ZWQsCiAgICAgICAgICAgICAgICAgIFByZUljb1N0YXJ0ZWQsCiAgICAgICAgICAgICAgICAgIFByZUljb0ZpbmlzaGVkLAogICAgICAgICAgICAgICAgICBQcmVJY29QYXVzZWQsCiAgICAgICAgICAgICAgICAgIEljb1BhdXNlZCwKICAgICAgICAgICAgICAgICAgSWNvU3RhcnRlZCwKICAgICAgICAgICAgICAgICAgSWNvRmluaXNoZWQKICAgICAgICAgICAgICAgICAgfQogICAgU3RhdHVzIHN0YXR1cyA9IFN0YXR1cy5DcmVhdGVkOwoKICAgIGZ1bmN0aW9uIERhdGFyaXVzSUNPKAogICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgX0NvbXBhbnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyBfQm91bnR5RnVuZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzIF9TdXBwb3J0RnVuZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzIF9SZXNlcnZlRnVuZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzIF9UZWFtRnVuZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzIF9NYW5hZ2VyLAogICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgX0NvbnRyb2xsZXJfQWRkcmVzczEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyBfQ29udHJvbGxlcl9BZGRyZXNzMiwKICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzIF9Db250cm9sbGVyX0FkZHJlc3MzCiAgICAgICAgICAgICAgICAgICAgICAgICAgKSBwdWJsaWMgewogICAgICAgQ29tcGFueSA9IF9Db21wYW55OwogICAgICAgQm91bnR5RnVuZCA9IF9Cb3VudHlGdW5kOwogICAgICAgU3VwcG9ydEZ1bmQgPSBfU3VwcG9ydEZ1bmQ7CiAgICAgICBSZXNlcnZlRnVuZCA9IF9SZXNlcnZlRnVuZDsKICAgICAgIFRlYW1GdW5kID0gX1RlYW1GdW5kOwogICAgICAgTWFuYWdlciA9IF9NYW5hZ2VyOwogICAgICAgQ29udHJvbGxlcl9BZGRyZXNzMSA9IF9Db250cm9sbGVyX0FkZHJlc3MxOwogICAgICAgQ29udHJvbGxlcl9BZGRyZXNzMiA9IF9Db250cm9sbGVyX0FkZHJlc3MyOwogICAgICAgQ29udHJvbGxlcl9BZGRyZXNzMyA9IF9Db250cm9sbGVyX0FkZHJlc3MzOwogICAgfQoKLy8gZnVuY3Rpb24gZm9yIGNoYW5naW5nIHJhdGUgb2YgRVRIIGFuZCBwcmljZSBvZiB0b2tlbgoKCiAgICBmdW5jdGlvbiBzZXRSYXRlKHVpbnQgX1JhdGVFdGgpIGV4dGVybmFsIG1hbmFnZXJPbmx5IHsKICAgICAgIFJhdGVfRXRoID0gX1JhdGVFdGg7CiAgICAgICBUb2tlbl9QcmljZSA9IFRva2Vuc19QZXJfRG9sbGFyKlJhdGVfRXRoL0NPTlNUX0RFTDsKICAgIH0KCgovL0lDTyBzdGF0dXMgZnVuY3Rpb25zCgogICAgZnVuY3Rpb24gc3RhcnRQcmVJY28oKSBleHRlcm5hbCBtYW5hZ2VyT25seSB7CiAgICAgICByZXF1aXJlKHN0YXR1cyA9PSBTdGF0dXMuQ3JlYXRlZCB8fCBzdGF0dXMgPT0gU3RhdHVzLlByZUljb1BhdXNlZCk7CiAgICAgICBpZihzdGF0dXMgPT0gU3RhdHVzLkNyZWF0ZWQpIHsKICAgICAgICAgICBkYXQubWludChCb3VudHlGdW5kLCBib3VudHlBbW91bnQpOwogICAgICAgICAgIGRhdC5taW50KFN1cHBvcnRGdW5kLCBzdXBwb3J0QW1vdW50KTsKICAgICAgICAgICBkYXQubWludChSZXNlcnZlRnVuZCwgcmVzZXJ2ZUFtb3VudCk7CiAgICAgICAgICAgZGF0Lm1pbnQoVGVhbUZ1bmQsIHRlYW1BbW91bnQpOwogICAgICAgfQogICAgICAgc3RhdHVzID0gU3RhdHVzLlByZUljb1N0YXJ0ZWQ7CiAgICAgICBMb2dTdGFydFByZUlDTygpOwogICAgfQoKICAgIGZ1bmN0aW9uIGZpbmlzaFByZUljbygpIGV4dGVybmFsIG1hbmFnZXJPbmx5IHsgLy8gRnVuZHMgZm9yIG1pbnRpbmcgb2YgdG9rZW5zCiAgICAgICByZXF1aXJlKHN0YXR1cyA9PSBTdGF0dXMuUHJlSWNvU3RhcnRlZCB8fCBzdGF0dXMgPT0gU3RhdHVzLlByZUljb1BhdXNlZCk7CgogICAgICAgc3RhdHVzID0gU3RhdHVzLlByZUljb0ZpbmlzaGVkOwogICAgICAgTG9nRmluaXNoUHJlSUNPKCk7CiAgICB9CgoKICAgIGZ1bmN0aW9uIHN0YXJ0SWNvKCkgZXh0ZXJuYWwgbWFuYWdlck9ubHkgewogICAgICAgcmVxdWlyZShzdGF0dXMgPT0gU3RhdHVzLlByZUljb0ZpbmlzaGVkIHx8IHN0YXR1cyA9PSBTdGF0dXMuSWNvUGF1c2VkKTsKICAgICAgIGlmKHN0YXR1cyA9PSBTdGF0dXMuUHJlSWNvRmluaXNoZWQpIHsKICAgICAgICAgc3RhcnRUaW1lID0gbm93OwogICAgICAgfQogICAgICAgc3RhdHVzID0gU3RhdHVzLkljb1N0YXJ0ZWQ7CiAgICAgICBMb2dTdGFydElDTygpOwogICAgfQoKICAgIGZ1bmN0aW9uIGZpbmlzaEljbygpIGV4dGVybmFsIG1hbmFnZXJPbmx5IHsgLy8gRnVuZHMgZm9yIG1pbnRpbmcgb2YgdG9rZW5zCgogICAgICAgcmVxdWlyZShzdGF0dXMgPT0gU3RhdHVzLkljb1N0YXJ0ZWQgfHwgc3RhdHVzID09IFN0YXR1cy5JY29QYXVzZWQpOwoKICAgICAgIHVpbnQgYWxyZWFkeU1pbnRlZCA9IGRhdC50b3RhbFN1cHBseSgpOyAvLz1QdWJsaWNJQ08rUHJpdmF0ZU9mZmVyCgogICAgICAgZGF0Lm1pbnQoUmVzZXJ2ZUZ1bmQsIFRvdGFsX0Ftb3VudC5zdWIoYWxyZWFkeU1pbnRlZCkpOyAvLwoKICAgICAgIGRhdC5kZWZyb3N0KCk7CgogICAgICAgc3RhdHVzID0gU3RhdHVzLkljb0ZpbmlzaGVkOwogICAgICAgTG9nRmluaXNoSUNPKFJlc2VydmVGdW5kKTsKICAgIH0KCiAgICBmdW5jdGlvbiBwYXVzZUljbygpIGV4dGVybmFsIG1hbmFnZXJPbmx5IHsKICAgICAgIHJlcXVpcmUoc3RhdHVzID09IFN0YXR1cy5JY29TdGFydGVkKTsKICAgICAgIHN0YXR1cyA9IFN0YXR1cy5JY29QYXVzZWQ7CiAgICAgICBMb2dQYXVzZSgpOwogICAgfQogICAgZnVuY3Rpb24gcGF1c2VQcmVJY28oKSBleHRlcm5hbCBtYW5hZ2VyT25seSB7CiAgICAgICByZXF1aXJlKHN0YXR1cyA9PSBTdGF0dXMuUHJlSWNvU3RhcnRlZCk7CiAgICAgICBzdGF0dXMgPSBTdGF0dXMuUHJlSWNvUGF1c2VkOwogICAgICAgTG9nUGF1c2UoKTsKICAgIH0KCi8vIGZ1bmN0aW9uIHRoYXQgYnV5cyB0b2tlbnMgd2hlbiBpbnZlc3RvciBzZW5kcyBFVEggdG8gYWRkcmVzcyBvZiBJQ08KICAgIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CgogICAgICAgYnV5KG1zZy5zZW5kZXIsIG1zZy52YWx1ZSAqIFRva2VuX1ByaWNlKTsKICAgIH0KCi8vIGZ1bmN0aW9uIGZvciBidXlpbmcgdG9rZW5zIHRvIGludmVzdG9ycyB3aG8gcGFpZCBpbiBvdGhlciBjcnlwdG9zCgogICAgZnVuY3Rpb24gYnV5Rm9ySW52ZXN0b3IoYWRkcmVzcyBfaW52ZXN0b3IsIHVpbnQgX2RhdFZhbHVlLCBzdHJpbmcgX3R4SGFzaCkgZXh0ZXJuYWwgY29udHJvbGxlcnNPbmx5IHsKICAgICAgIGJ1eShfaW52ZXN0b3IsIF9kYXRWYWx1ZSk7CiAgICAgICBMb2dCdXlGb3JJbnZlc3RvcihfaW52ZXN0b3IsIF9kYXRWYWx1ZSwgX3R4SGFzaCk7CiAgICB9CgovLyBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgYnV5aW5nIHRva2VucwoKICAgIGZ1bmN0aW9uIGJ1eShhZGRyZXNzIF9pbnZlc3RvciwgdWludCBfZGF0VmFsdWUpIGludGVybmFsIHsKICAgICAgIHJlcXVpcmUoKHN0YXR1cyA9PSBTdGF0dXMuUHJlSWNvU3RhcnRlZCkgfHwgKHN0YXR1cyA9PSBTdGF0dXMuSWNvU3RhcnRlZCkpOwogICAgICAgcmVxdWlyZShfZGF0VmFsdWUgPiAwKTsKCiAgICAgICB1aW50IGJvbnVzID0gZ2V0Qm9udXMoX2RhdFZhbHVlKTsKCiAgICAgICB1aW50IHRvdGFsID0gX2RhdFZhbHVlLmFkZChib251cyk7CgogICAgICAgcmVxdWlyZShTb2xkICsgdG90YWwgPD0gVG9rZW5zX0Zvcl9TYWxlKTsKICAgICAgIGRhdC5taW50KF9pbnZlc3RvciwgdG90YWwpOwogICAgICAgU29sZCA9IFNvbGQuYWRkKF9kYXRWYWx1ZSk7CiAgICB9CgovLyBmdW5jdGlvbiB0aGF0IGNhbGN1bGF0ZXMgYm9udXMKICAgIGZ1bmN0aW9uIGdldEJvbnVzKHVpbnQgX3ZhbHVlKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgdWludCBib251cyA9IDA7CiAgICAgICB1aW50IHRpbWUgPSBub3c7CiAgICAgICBpZihzdGF0dXMgPT0gU3RhdHVzLlByZUljb1N0YXJ0ZWQpIHsKICAgICAgICAgICAgYm9udXMgPSBfdmFsdWUubXVsKDM1KS5kaXYoMTAwKTsKICAgICAgICAgICAgcmV0dXJuIGJvbnVzOwogICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYodGltZSA8PSBzdGFydFRpbWUgKyA2IGhvdXJzKQogICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgICBib251cyA9IF92YWx1ZS5tdWwoMzApLmRpdigxMDApOwogICAgICAgICAgICAgICAgICByZXR1cm4gYm9udXM7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKHRpbWUgPD0gc3RhcnRUaW1lICsgMTIgaG91cnMpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgYm9udXMgPSBfdmFsdWUubXVsKDI1KS5kaXYoMTAwKTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGJvbnVzOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZih0aW1lIDw9IHN0YXJ0VGltZSArIDI0IGhvdXJzKQogICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgICBib251cyA9IF92YWx1ZS5tdWwoMjApLmRpdigxMDApOwogICAgICAgICAgICAgICAgICByZXR1cm4gYm9udXM7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKHRpbWUgPD0gc3RhcnRUaW1lICsgNDggaG91cnMpCiAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICAgIGJvbnVzID0gX3ZhbHVlLm11bCgxMCkuZGl2KDEwMCk7CiAgICAgICAgICAgICAgICAgIHJldHVybiBib251czsKICAgICAgICAgICAgfQogICAgICAgfQogICAgICAgcmV0dXJuIGJvbnVzOwogICAgfQoKLy9mdW5jdGlvbiB0byB3aXRoZHJhdyBFVEggZnJvbSBzbWFydCBjb250cmFjdAoKICAgIGZ1bmN0aW9uIHdpdGhkcmF3RXRoZXIodWludDI1NiBfdmFsdWUpIGV4dGVybmFsIG1hbmFnZXJPbmx5IHsKICAgICAgIHJlcXVpcmUoKHN0YXR1cyA9PSBTdGF0dXMuUHJlSWNvRmluaXNoZWQpIHx8IChzdGF0dXMgPT0gU3RhdHVzLkljb0ZpbmlzaGVkKSk7CiAgICAgICBDb21wYW55LnRyYW5zZmVyKF92YWx1ZSk7CiAgICB9Cgp9Cgpjb250cmFjdCBEQVQgIGlzIEVSQzIwIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJEYXRhcml1cyBUb2tlbiI7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJEQVQiOwogICAgdWludCBwdWJsaWMgZGVjaW1hbHMgPSAxODsKCiAgICBhZGRyZXNzIHB1YmxpYyBpY287CgogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludDI1NiB2YWx1ZSk7CgogICAgYm9vbCBwdWJsaWMgdG9rZW5zQXJlRnJvemVuID0gdHJ1ZTsKCiAgICBtb2RpZmllciBpY29Pbmx5IHsgcmVxdWlyZShtc2cuc2VuZGVyID09IGljbyk7IF87IH0KCiAgICBmdW5jdGlvbiBEQVQoYWRkcmVzcyBfaWNvKSBwdWJsaWMgewogICAgICAgaWNvID0gX2ljbzsKICAgIH0KCgogICAgZnVuY3Rpb24gbWludChhZGRyZXNzIF9ob2xkZXIsIHVpbnQgX3ZhbHVlKSBleHRlcm5hbCBpY29Pbmx5IHsKICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CiAgICAgICBiYWxhbmNlc1tfaG9sZGVyXSA9IGJhbGFuY2VzW19ob2xkZXJdLmFkZChfdmFsdWUpOwogICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX3ZhbHVlKTsKICAgICAgIFRyYW5zZmVyKDB4MCwgX2hvbGRlciwgX3ZhbHVlKTsKICAgIH0KCgogICAgZnVuY3Rpb24gZGVmcm9zdCgpIGV4dGVybmFsIGljb09ubHkgewogICAgICAgdG9rZW5zQXJlRnJvemVuID0gZmFsc2U7CiAgICB9CgogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgewogICAgICAgcmVxdWlyZSghdG9rZW5zQXJlRnJvemVuKTsKICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YihfdmFsdWUpOwogICAgICAgQnVybihtc2cuc2VuZGVyLCBfdmFsdWUpOwogICAgfQoKCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZSghdG9rZW5zQXJlRnJvemVuKTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZSghdG9rZW5zQXJlRnJvemVuKTsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF9hbW91bnQpOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICB9CgoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAgICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgICAgICAvLyAgYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgICAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgICAgICByZXF1aXJlKChfYW1vdW50ID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CgogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX2Ftb3VudDsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQp9'.
	

]
