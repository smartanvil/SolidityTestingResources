Class {
	#name : #SRTaa929c976386d6c8e79c14bc16075d54e2693247,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTaa929c976386d6c8e79c14bc16075d54e2693247 >> base64 [
	^ 'LyoqICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IgKi8KbGlicmFyeSBTYWZlTWF0aCB7CgogIC8qKgogICogQGRldiBNdWx0aXBsaWVzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICAvKiogICogQGRldiBJbnRlZ2VyIGRpdmlzaW9uIG9mIHR3byBudW1iZXJzLCB0cnVuY2F0aW5nIHRoZSBxdW90aWVudC4gICovCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICAvKiogICogQGRldiBTdWJzdHJhY3RzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cgKGkuZS4gaWYgc3VidHJhaGVuZCBpcyBncmVhdGVyIHRoYW4gbWludWVuZCkuICAqLwogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIC8qKgogICogQGRldiBBZGRzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIHVpbnQyNTYgdG90YWxTdXBwbHlfOwoKICAvKioKICAqIEBkZXYgdG90YWwgbnVtYmVyIG9mIHRva2VucyBpbiBleGlzdGVuY2UKICAqLwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIHRvdGFsU3VwcGx5XzsKICB9CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwoKfQoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBAZGV2IEltcGxlbWVudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFyZCB0b2tlbi4KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgaW50ZXJuYWwgYWxsb3dlZDsKCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgCiAgLyoqCiAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICoKICAgKiBCZXdhcmUgdGhhdCBjaGFuZ2luZyBhbiBhbGxvd2FuY2Ugd2l0aCB0aGlzIG1ldGhvZCBicmluZ3MgdGhlIHJpc2sgdGhhdCBzb21lb25lIG1heSB1c2UgYm90aCB0aGUgb2xkCiAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAqIHJhY2UgY29uZGl0aW9uIGlzIHRvIGZpcnN0IHJlZHVjZSB0aGUgc3BlbmRlcidzIGFsbG93YW5jZSB0byAwIGFuZCBzZXQgdGhlIGRlc2lyZWQgdmFsdWUgYWZ0ZXJ3YXJkczoKICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZnlpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCiAgLyoqCiAgICogQGRldiBJbmNyZWFzZSB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqCiAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gaW5jcmVtZW50CiAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9hZGRlZFZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGluY3JlYXNlIHRoZSBhbGxvd2FuY2UgYnkuCiAgICovCiAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXS5hZGQoX2FkZGVkVmFsdWUpOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBEZWNyZWFzZSB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqCiAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gZGVjcmVtZW50CiAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zdWJ0cmFjdGVkVmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gZGVjcmVhc2UgdGhlIGFsbG93YW5jZSBieS4KICAgKi8KICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfSBlbHNlIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7ICAgICAgICAgICAgICAgIC8qXiAyMyBeKi8KICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgIAp9CmNvbnRyYWN0IFRva2VuIGlzIFN0YW5kYXJkVG9rZW4gewogIHN0cmluZyBwdWJsaWMgbmFtZTsgLy8gc29saXVtLWRpc2FibGUtbGluZSB1cHBlcmNhc2UKICBzdHJpbmcgcHVibGljIHN5bWJvbDsgLy8gc29saXVtLWRpc2FibGUtbGluZSB1cHBlcmNhc2UKICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7IC8vIHNvbGl1bS1kaXNhYmxlLWxpbmUgdXBwZXJjYXNlCiAgdWludDY0IHB1YmxpYyBjb25zdGFudCBzZXF1ZW5jZSA9IDYzMzI5NDYwNDc4OwogIHVpbnQyNTYgcHVibGljIGFEcm9wZWRUaGlzV2VlazsKICB1aW50MjU2IGxhc3RXZWVrOwogIHVpbnQyNTYgZGVjaW1hdGU7CiAgdWludDI1NiB3ZWVrbHlfbGltaXQ7CiAgdWludDI1NiBhaXJfZHJvcDsKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYWlyZHJvcGVkOwogIGFkZHJlc3MgY29udHJvbDsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKICB1aW50MjU2IHB1YmxpYyBNYXJrZXQ7IC8vIEAgY3VycmVudCBmcmFjCiAgdWludDI1NiBwdWJsaWMgQXZhaWxhYmxlVG9rZW5Qb29sOyAvLyBhbGwgb2YgY29udHJhY3RzIGluaXRpYWwgdG9rZW5zIG9uIGNyZWF0aW9uCiAgCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLCBjb250cm9sLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lciB8fCBtc2cuc2VuZGVyID09IGNvbnRyb2wpOwogICAgXzsKICB9CiAgbW9kaWZpZXIgb25seUNvbnRyb2woKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gY29udHJvbCk7CiAgICBfOwogIH0KICAKICBmdW5jdGlvbiBjaGFuZ2VOYW1lKHN0cmluZyBuZXdOYW1lKSBvbmx5T3duZXIgcHVibGljIHsKICAgIG5hbWUgPSBuZXdOYW1lOwogIH0KICAKICBmdW5jdGlvbiBSZWNvcmRUcmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGludGVybmFsIHsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CglpZihhaXJkcm9wZWRbX2Zyb21dID09IDApIGFpcmRyb3BlZFtfZnJvbV0gPSAxOwoJaWYoYWlyZHJvcGVkW190b10gPT0gMCkgYWlyZHJvcGVkW190b10gPSAxOwogIH0KICAKICAvKioqIEBwYXJhbSBuZXdPd25lciAgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvCiAgICBvd25lciB0b2tlbnMgZ28gd2l0aCBvd25lciwgYWlyZHJvcHMgYWx3YXlzIGZyb20gb3duZXIgcG9vbCAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKCU93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CglpZihvd25lciAhPSBuZXdPd25lcikgewoJICB1aW50MjU2IHQgPSBiYWxhbmNlc1tvd25lcl0gLyAxMDsKCSAgYmFsYW5jZXNbbmV3T3duZXJdICs9IGJhbGFuY2VzW293bmVyXSAtIHQ7CgkgIGJhbGFuY2VzW293bmVyXSA9IHQ7CiAgICB9CQogICAgb3duZXIgPSBuZXdPd25lcjsKCXVwZGF0ZSgpOwogIH0gLyoqKiBAcGFyYW0gbmV3Q29udHJvbCAgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgY29udHJvbCB0by4gICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyQ29udHJvbChhZGRyZXNzIG5ld0NvbnRyb2wpIHB1YmxpYyBvbmx5Q29udHJvbCB7CiAgICByZXF1aXJlKG5ld0NvbnRyb2wgIT0gYWRkcmVzcygwKSAmJiBuZXdDb250cm9sICE9IGFkZHJlc3ModGhpcykpOyAgCgljb250cm9sID1uZXdDb250cm9sOwogfSAvKmluaXQgY29udHJhY3QgaXRzZWxmIGFzIG93bmVyIG9mIGFsbCBpdHMgdG9rZW5zLCBhbGwgdG9rZW5zIHNldCcnJycndG8gYWlyIGRyb3AsIGFuZCBhbHdheXMgY29tZXMgZm9ybSBvd25lcidzIGJ1Y2tldCAKICAgListLS0tLS0rICAgICArLS0tLS0tKyAgICAgKy0tLS0tLSsgICAgICstLS0tLS0rICAgICArLS0tLS0tKy4gICAgID09PT09PT09PT09PT09PT09PT0gPT09PT09PT09PT09PT09PT09PQogLicgfCAgICAuJ3wgICAgL3wgICAgIC98ICAgICB8ICAgICAgfCAgICAgfFwgICAgIHxcICAgIHxgLiAgICB8IGAuICAgKi9mdW5jdGlvbiBUb2tlbih1aW50MjU2IF9pbml0aWFsQW1vdW50LC8qCistLS0rLS0rJyAgfCAgICstKy0tLS0rIHwgICAgICstLS0tLS0rICAgICB8ICstLS0tKy0rICAgfCAgYCstLSstLS0rICAqL3N0cmluZyBfdG9rZW5OYW1lLCB1aW50OCBfZGVjaW1hbFVuaXRzLC8qCnwgICB8ICB8ICAgfCAgIHwgfCAgSyB8IHwgICAgIHwgIE4gICB8ICAgICB8IHwgMCAgfCB8ICAgfCAgIHwgIHwgICB8ICAqL3N0cmluZyBfdG9rZW5TeW1ib2wpIHB1YmxpYyB7IGNvbnRyb2wgPSBtc2cuc2VuZGVyOyAvKgp8ICAsKy0tKy0tLSsgICB8ICstLS0tKy0rICAgICArLS0tLS0tKyAgICAgKy0rLS0tLSsgfCAgICstLS0rLS0rICAgfCAgKi9vd25lciA9IGFkZHJlc3ModGhpcyk7T3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcygwKSwgb3duZXIpOy8qCnwuJyAgICB8IC4nICAgIHwvICAgICB8LyAgICAgIHwgICAgICB8ICAgICAgXHwgICAgIFx8ICAgIGAuIHwgICBgLiB8ICAqL3RvdGFsU3VwcGx5XyA9IF9pbml0aWFsQW1vdW50OyBiYWxhbmNlc1tvd25lcl0gPSB0b3RhbFN1cHBseV87IC8qCistLS0tLS0rJyAgICAgICstLS0tLS0rICAgICAgICstLS0tLS0rICAgICAgICstLS0tLS0rICAgICAgYCstLS0tLS0rICAqL1JlY29yZFRyYW5zZmVyKDB4MCwgb3duZXIsIHRvdGFsU3VwcGx5Xyk7CiAgICBzeW1ib2wgPSBfdG9rZW5TeW1ib2w7ICAgCgluYW1lID0gX3Rva2VuTmFtZTsKICAgIGRlY2ltYWxzID0gX2RlY2ltYWxVbml0czsgICAgICAgICAgICAgICAgICAgICAgICAgICAgCglkZWNpbWF0ZSA9ICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSk7Cgl3ZWVrbHlfbGltaXQgPSAxMDAwMDAgKiBkZWNpbWF0ZTsKCWFpcl9kcm9wID0gMTAxOCAqIGRlY2ltYXRlOwoJaWYoKCh0b3RhbFN1cHBseV8gICoyKS9kZWNpbWF0ZSkgPiAxIGV0aGVyKSBjb2VmID0gMTsKCWVsc2UgY29lZiA9IDEgZXRoZXIgLyAoKHRvdGFsU3VwcGx5XyAgKjIpL2RlY2ltYXRlKTsKCXVwZGF0ZSgpOwogIH0gLyoqIHJlc2N1ZSBsb3N0IGVyYzIwIGtpbiAqKi8KICBmdW5jdGlvbiB0cmFuc2ZlcmVyYzIwKGFkZHJlc3MgdG9rZW5BZGRyZXNzLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGV4dGVybmFsIG9ubHlDb250cm9sIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoJcmV0dXJuIEVSQzIwKHRva2VuQWRkcmVzcykudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogIH0gLyoqIHRva2VuIG5vIG1vcmUgKiovCiAgZnVuY3Rpb24gZGVzdHJveSgpIG9ubHlDb250cm9sIGV4dGVybmFsIHsKICAgIHJlcXVpcmUob3duZXIgIT0gYWRkcmVzcyh0aGlzKSk7IHNlbGZkZXN0cnVjdChvd25lcik7CiAgfSAgCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoJcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0pOwoJaWYoYmFsYW5jZXNbX2Zyb21dID09IDApIHsgCiAgICAgIHVpbnQyNTYgcXR5ID0gYXZhaWxhYmxlQWlyZHJvcChfZnJvbSk7CgkgIGlmKHF0eSA+IDApIHsgIC8vIHF0eSBpcyB2YWxpZGF0ZWQgcXR5IGFnYWluc3QgYmFsYW5jZXMgaW4gYWlyZHJvcAoJICAgIGJhbGFuY2VzW293bmVyXSAtPSBxdHk7CgkgICAgYmFsYW5jZXNbX3RvXSArPSBxdHk7CgkJYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKCQlSZWNvcmRUcmFuc2Zlcihvd25lciwgX2Zyb20sIF92YWx1ZSk7CgkJUmVjb3JkVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKCQl1cGRhdGUoKTsKCQlhRHJvcGVkVGhpc1dlZWsgKz0gcXR5OwoJCXJldHVybiB0cnVlOwoJICB9CQoJICByZXZlcnQoKTsgLy8gbm8gZ28KCX0KICAKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW19mcm9tXSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBSZWNvcmRUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwoJdXBkYXRlKCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9ICAKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCS8vIGlmIG5vIGJhbGFuY2UsIHNlZSBpZiBlbGlnaWJsZSBmb3IgYWlyZHJvcCBpbnN0ZWFkCiAgICBpZihiYWxhbmNlc1ttc2cuc2VuZGVyXSA9PSAwKSB7IAogICAgICB1aW50MjU2IHF0eSA9IGF2YWlsYWJsZUFpcmRyb3AobXNnLnNlbmRlcik7CgkgIGlmKHF0eSA+IDApIHsgIC8vIHF0eSBpcyB2YWxpZGF0ZWQgcXR5IGFnYWluc3QgYmFsYW5jZXMgaW4gYWlyZHJvcAoJICAgIGJhbGFuY2VzW293bmVyXSAtPSBxdHk7CgkgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gcXR5OwoJCVJlY29yZFRyYW5zZmVyKG93bmVyLCBfdG8sIF92YWx1ZSk7CgkJdXBkYXRlKCk7CgkJYWlyZHJvcGVkW21zZy5zZW5kZXJdID0gMTsKCQlhRHJvcGVkVGhpc1dlZWsgKz0gcXR5OwoJCXJldHVybiB0cnVlOwoJICB9CQoJICByZXZlcnQoKTsgLy8gbm8gZ28KCX0KICAKICAgIC8vIGV4aXN0aW5nIGJhbGFuY2UKICAgIGlmKGJhbGFuY2VzW21zZy5zZW5kZXJdIDwgX3ZhbHVlKSByZXZlcnQoKTsKCWlmKGJhbGFuY2VzW190b10gKyBfdmFsdWUgPCBiYWxhbmNlc1tfdG9dKSByZXZlcnQoKTsKCQogICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CgliYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICBSZWNvcmRUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7Cgl1cGRhdGUoKTsKCXJldHVybiB0cnVlOwogIH0gIAogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICBiYWxhbmNlID0gYmFsYW5jZXNbd2hvXTsKCWlmKGJhbGFuY2UgPT0gMCkgCgkgIHJldHVybiBhdmFpbGFibGVBaXJkcm9wKHdobyk7CgkKICAgIHJldHVybiBiYWxhbmNlOwogIH0gIAogIC8qICAqIGNoZWNrIHRoZSBmYXVjZXQgICovICAKICBmdW5jdGlvbiBhdmFpbGFibGVBaXJkcm9wKGFkZHJlc3Mgd2hvKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZihiYWxhbmNlc1tvd25lcl0gPT0gMCkgcmV0dXJuIDA7CglpZihhaXJkcm9wZWRbd2hvXSA+IDApIHJldHVybiAwOyAvLyBhbHJlYWR5IHNlZW4gdGhpcwoJCglpZiAodGhpc3dlZWsoKSA+IGxhc3RXZWVrIHx8IGFEcm9wZWRUaGlzV2VlayA8IHdlZWtseV9saW1pdCkgewoJICBpZihiYWxhbmNlc1tvd25lcl0gPiBhaXJfZHJvcCkgcmV0dXJuIGFpcl9kcm9wOwoJICBlbHNlIHJldHVybiBiYWxhbmNlc1tvd25lcl07Cgl9CglyZXR1cm4gMDsKICB9ICBmdW5jdGlvbiB0aGlzd2VlaygpIGludGVybmFsIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIG5vdyAvIDEgd2Vla3M7CiAgfSAgZnVuY3Rpb24gZ2V0QWlyRHJvcGVkVG9kYXkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAodGhpc3dlZWsoKSA+IGxhc3RXZWVrKSByZXR1cm4gMDsKCWVsc2UgcmV0dXJuIGFEcm9wZWRUaGlzV2VlazsKICB9ICAKICBmdW5jdGlvbiB0cmFuc2ZlckJhbGFuY2UoYWRkcmVzcyB1cENvbnRyYWN0KSBleHRlcm5hbCBvbmx5Q29udHJvbCB7CiAgICByZXF1aXJlKHVwQ29udHJhY3QgIT0gYWRkcmVzcygwKSAmJiB1cENvbnRyYWN0LnNlbmQodGhpcy5iYWxhbmNlKSk7CiAgfQogIGZ1bmN0aW9uICgpIHBheWFibGUgcHVibGljIHsKICAgIHVpbnQyNTYgcXR5ID0gY2FsYyhtc2cudmFsdWUpOwoJaWYocXR5ID4gMCkgewoJICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSBxdHk7CgkgIGJhbGFuY2VzW293bmVyXSAtPSBxdHk7CgkgIFJlY29yZFRyYW5zZmVyKG93bmVyLCBtc2cuc2VuZGVyLCBxdHkpOwoJICB1cGRhdGUoKTsKCX0gZWxzZSByZXZlcnQoKTsKICB9IAogIHVpbnQyNTYgY29lZjsKICBmdW5jdGlvbiB1cGRhdGUoKSBpbnRlcm5hbCB7CiAgICBpZihiYWxhbmNlc1tvd25lcl0gIT0gQXZhaWxhYmxlVG9rZW5Qb29sKSB7CgkgIE1hcmtldCA9ICgoKHRvdGFsU3VwcGx5XyAtIGJhbGFuY2VzW293bmVyXSkgKiogMikgLyBjb2VmKTsKCSAgQXZhaWxhYmxlVG9rZW5Qb29sID0gYmFsYW5jZXNbb3duZXJdOwoJfQogIH0KICBmdW5jdGlvbiBjYWxjKHVpbnQyNTYgX3YpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmKGJhbGFuY2VzW293bmVyXSA9PSAwKSByZXR1cm4gMDsKCXVpbnQyNTYgeCA9IChjb2VmICogKF92ICsgTWFya2V0KSk7IAoJdWludDI1NiBxdHkgPSB4OwoJdWludDI1NiB6ID0gKHggKyAxKSAvIDI7CiAgICB3aGlsZSAoeiA8IHF0eSkgewogICAgICAgIHF0eSA9IHo7CiAgICAgICAgeiA9ICh4IC8geiArIHopIC8gMjsKICAgIH0gLyogYWRkIGEgZnJhYyBvZiBhaXJkcm9wIHdpdGggZWFjaCAqLyAKCXVpbnQyNTYgZHJvcCA9IDA7CglpZihfdiA+IDUwMDAwMDAwMDAwMDAwMDApIGRyb3AgPSAoYWlyX2Ryb3AgKiAoMSArIChfdiAvIDMwMDAwMDAwMDAwMDAwMDApKSk7CQoJdWludDI1NiB3b3J0aCA9IChxdHkgLSAodG90YWxTdXBwbHlfIC0gYmFsYW5jZXNbb3duZXJdKSkgKyBkcm9wOwoJaWYod29ydGggPiBiYWxhbmNlc1tvd25lcl0pIHJldHVybiBiYWxhbmNlc1tvd25lcl07CglyZXR1cm4gd29ydGg7CiAgfSAgCn0='.
	

]
