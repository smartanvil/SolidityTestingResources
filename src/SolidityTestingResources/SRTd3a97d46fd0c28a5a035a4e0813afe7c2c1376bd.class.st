Class {
	#name : #SRTd3a97d46fd0c28a5a035a4e0813afe7c2c1376bd,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd3a97d46fd0c28a5a035a4e0813afe7c2c1376bd >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7Cgpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOyAgICAgIAogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cgp9CgppbnRlcmZhY2UgT3JhY2xpemVJIHsKICAgIC8vIGFkZHJlc3MgcHVibGljIGNiQWRkcmVzczsKICAgIGZ1bmN0aW9uIGNiQWRkcmVzcygpIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MpOyAvLyBSZWFkcyBwdWJsaWMgdmFyaWFibGUgY2JBZGRyZXNzIAogICAgZnVuY3Rpb24gcXVlcnkodWludCBfdGltZXN0YW1wLCBzdHJpbmcgX2RhdGFzb3VyY2UsIHN0cmluZyBfYXJnKSBwYXlhYmxlIHJldHVybnMgKGJ5dGVzMzIgX2lkKTsKICAgIGZ1bmN0aW9uIHF1ZXJ5X3dpdGhHYXNMaW1pdCh1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgc3RyaW5nIF9hcmcsIHVpbnQgX2dhc2xpbWl0KSBwYXlhYmxlIHJldHVybnMgKGJ5dGVzMzIgX2lkKTsKICAgIGZ1bmN0aW9uIHF1ZXJ5Mih1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgc3RyaW5nIF9hcmcxLCBzdHJpbmcgX2FyZzIpIHBheWFibGUgcmV0dXJucyAoYnl0ZXMzMiBfaWQpOwogICAgZnVuY3Rpb24gcXVlcnkyX3dpdGhHYXNMaW1pdCh1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgc3RyaW5nIF9hcmcxLCBzdHJpbmcgX2FyZzIsIHVpbnQgX2dhc2xpbWl0KSBwYXlhYmxlIHJldHVybnMgKGJ5dGVzMzIgX2lkKTsKICAgIGZ1bmN0aW9uIHF1ZXJ5Tih1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgYnl0ZXMgX2FyZ04pIHBheWFibGUgcmV0dXJucyAoYnl0ZXMzMiBfaWQpOwogICAgZnVuY3Rpb24gcXVlcnlOX3dpdGhHYXNMaW1pdCh1aW50IF90aW1lc3RhbXAsIHN0cmluZyBfZGF0YXNvdXJjZSwgYnl0ZXMgX2FyZ04sIHVpbnQgX2dhc2xpbWl0KSBwYXlhYmxlIHJldHVybnMgKGJ5dGVzMzIgX2lkKTsKICAgIGZ1bmN0aW9uIGdldFByaWNlKHN0cmluZyBfZGF0YXNvYXVyY2UpIHJldHVybnMgKHVpbnQgX2RzcHJpY2UpOwogICAgZnVuY3Rpb24gZ2V0UHJpY2Uoc3RyaW5nIF9kYXRhc291cmNlLCB1aW50IGdhc2xpbWl0KSByZXR1cm5zICh1aW50IF9kc3ByaWNlKTsKICAgIGZ1bmN0aW9uIHVzZUNvdXBvbihzdHJpbmcgX2NvdXBvbik7CiAgICBmdW5jdGlvbiBzZXRQcm9vZlR5cGUoYnl0ZSBfcHJvb2ZUeXBlKTsKICAgIGZ1bmN0aW9uIHNldENvbmZpZyhieXRlczMyIF9jb25maWcpOwogICAgZnVuY3Rpb24gc2V0Q3VzdG9tR2FzUHJpY2UodWludCBfZ2FzUHJpY2UpOwogICAgZnVuY3Rpb24gcmFuZG9tRFNfZ2V0U2Vzc2lvblB1YktleUhhc2goKSByZXR1cm5zKGJ5dGVzMzIpOwp9CgppbnRlcmZhY2UgT3JhY2xpemVBZGRyUmVzb2x2ZXJJIHsKICAgIGZ1bmN0aW9uIGdldEFkZHJlc3MoKSByZXR1cm5zIChhZGRyZXNzIF9hZGRyKTsKfQoKLy8gdGhpcyBpcyBhIHJlZHVjZWQgYW5kIG9wdGltaXplIHZlcnNpb24gb2YgdGhlIHVzaW5nT3JhY2FsaXplIGNvbnRyYWN0IGluIGh0dHBzOi8vZ2l0aHViLmNvbS9vcmFjbGl6ZS9ldGhlcmV1bS1hcGkvYmxvYi9tYXN0ZXIvb3JhY2xpemVBUElfMC40LnNvbApjb250cmFjdCBteVVzaW5nT3JhY2FsaXplIGlzIE93bmFibGUgewogICAgT3JhY2xpemVBZGRyUmVzb2x2ZXJJIE9BUjsKICAgIE9yYWNsaXplSSBwdWJsaWMgb3JhY2xpemU7CiAgICB1aW50IHB1YmxpYyBvcmFjYWxpemVfZ2FzbGltaXQgPSAxMDAwMDA7CgogICAgZnVuY3Rpb24gbXlVc2luZ09yYWNhbGl6ZSgpIHsKICAgICAgICBvcmFjbGl6ZV9zZXROZXR3b3JrKCk7CiAgICAgICAgdXBkYXRlX29yYWNhbGl6ZSgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHVwZGF0ZV9vcmFjYWxpemUoKSBwdWJsaWMgewogICAgICAgIG9yYWNsaXplID0gT3JhY2xpemVJKE9BUi5nZXRBZGRyZXNzKCkpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBvcmFjbGl6ZV9xdWVyeShzdHJpbmcgZGF0YXNvdXJjZSwgc3RyaW5nIGFyZzEsIHN0cmluZyBhcmcyKSBpbnRlcm5hbCByZXR1cm5zIChieXRlczMyIGlkKSB7CiAgICAgICAgdWludCBwcmljZSA9IG9yYWNsaXplLmdldFByaWNlKGRhdGFzb3VyY2UsIG9yYWNhbGl6ZV9nYXNsaW1pdCk7CiAgICAgICAgaWYgKHByaWNlID4gMSBldGhlciArIHR4Lmdhc3ByaWNlKm9yYWNhbGl6ZV9nYXNsaW1pdCkgcmV0dXJuIDA7IC8vIHVuZXhwZWN0ZWRseSBoaWdoIHByaWNlCiAgICAgICAgcmV0dXJuIG9yYWNsaXplLnF1ZXJ5Ml93aXRoR2FzTGltaXQudmFsdWUocHJpY2UpKDAsIGRhdGFzb3VyY2UsIGFyZzEsIGFyZzIsIG9yYWNhbGl6ZV9nYXNsaW1pdCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIG9yYWNsaXplX2dldFByaWNlKHN0cmluZyBkYXRhc291cmNlKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIG9yYWNsaXplLmdldFByaWNlKGRhdGFzb3VyY2UsIG9yYWNhbGl6ZV9nYXNsaW1pdCk7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0R2FzTGltaXQodWludCBfbmV3TGltaXQpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIG9yYWNhbGl6ZV9nYXNsaW1pdCA9IF9uZXdMaW1pdDsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gb3JhY2xpemVfc2V0TmV0d29yaygpIGludGVybmFsIHsKICAgICAgICBpZiAoZ2V0Q29kZVNpemUoMHgxZDNCMjYzOGE3Y0M5ZjJDQjNEMjk4QTNEQTdhOTBCNjdFNTUwNmVkKT4wKXsgLy9tYWlubmV0CiAgICAgICAgICAgIE9BUiA9IE9yYWNsaXplQWRkclJlc29sdmVySSgweDFkM0IyNjM4YTdjQzlmMkNCM0QyOThBM0RBN2E5MEI2N0U1NTA2ZWQpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChnZXRDb2RlU2l6ZSgweGMwM0EyNjE1RDVlZmFmNUY0OUY2MEI3QkI2NTgzZWFlYzIxMmZkZjEpPjApeyAvL3JvcHN0ZW4gdGVzdG5ldAogICAgICAgICAgICBPQVIgPSBPcmFjbGl6ZUFkZHJSZXNvbHZlckkoMHhjMDNBMjYxNUQ1ZWZhZjVGNDlGNjBCN0JCNjU4M2VhZWMyMTJmZGYxKTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoZ2V0Q29kZVNpemUoMHhCN0EwN0JjRjJCYTJmMjcwM2IyNEMwNjkxYjUyNzg5OTlDNTlBQzdlKT4wKXsgLy9rb3ZhbiB0ZXN0bmV0CiAgICAgICAgICAgIE9BUiA9IE9yYWNsaXplQWRkclJlc29sdmVySSgweEI3QTA3QmNGMkJhMmYyNzAzYjI0QzA2OTFiNTI3ODk5OUM1OUFDN2UpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChnZXRDb2RlU2l6ZSgweDE0NjUwMGNmZDM1QjIyRTRBMzkyRmUwYURjMDZEZTFhMTM2OEVkNDgpPjApeyAvL3JpbmtlYnkgdGVzdG5ldAogICAgICAgICAgICBPQVIgPSBPcmFjbGl6ZUFkZHJSZXNvbHZlckkoMHgxNDY1MDBjZmQzNUIyMkU0QTM5MkZlMGFEYzA2RGUxYTEzNjhFZDQ4KTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoZ2V0Q29kZVNpemUoMHg2ZjQ4NUM4QkY2ZmM0M2VBMjEyRTkzQkJGOGNlMDQ2QzdmMWNiNDc1KT4wKXsgLy9ldGhlcmV1bS1icmlkZ2UKICAgICAgICAgICAgT0FSID0gT3JhY2xpemVBZGRyUmVzb2x2ZXJJKDB4NmY0ODVDOEJGNmZjNDNlQTIxMkU5M0JCRjhjZTA0NkM3ZjFjYjQ3NSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKGdldENvZGVTaXplKDB4MjBlMTJBMUY4NTlCM0ZlYUU1RmIyQTBBMzJDMThGNWE2NTU1NWJCRik+MCl7IC8vZXRoZXIuY2FtcCBpZGUKICAgICAgICAgICAgT0FSID0gT3JhY2xpemVBZGRyUmVzb2x2ZXJJKDB4MjBlMTJBMUY4NTlCM0ZlYUU1RmIyQTBBMzJDMThGNWE2NTU1NWJCRik7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKGdldENvZGVTaXplKDB4NTFlZmFGNGM4QjNDOUFmQkQ1YUI5RjRiYkM4Mjc4NEFiNmVmOGZBQSk+MCl7IC8vYnJvd3Nlci1zb2xpZGl0eQogICAgICAgICAgICBPQVIgPSBPcmFjbGl6ZUFkZHJSZXNvbHZlckkoMHg1MWVmYUY0YzhCM0M5QWZCRDVhQjlGNGJiQzgyNzg0QWI2ZWY4ZkFBKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBnZXRDb2RlU2l6ZShhZGRyZXNzIF9hZGRyKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zKHVpbnQgX3NpemUpIHsKICAgICAgICBhc3NlbWJseSB7CiAgICAgICAgICAgIF9zaXplIDo9IGV4dGNvZGVzaXplKF9hZGRyKQogICAgICAgIH0KICAgICAgICByZXR1cm4gX3NpemU7CiAgICB9CgogICAgLy8gVGhpcyB3aWxsIG5vdCB0aHJvdyBlcnJvciBvbiB3cm9uZyBpbnB1dCwgYnV0IGluc3RlYWQgY29uc3VtZSBsYXJnZSBhbmQgdW5rbm93biBhbW91bnQgb2YgZ2FzCiAgICAvLyBUaGlzIHNob3VsZCBuZXZlciBvY2N1cmUgYXMgaXQncyB1c2Ugd2l0aCB0aGUgU2hhcGVTaGlmdCBkZXBvc2l0IHJldHVybiB2YWx1ZSBpcyBjaGVja2VkIGJlZm9yZSBjYWxsaW5nIGZ1bmN0aW9uCiAgICBmdW5jdGlvbiBwYXJzZUFkZHIoc3RyaW5nIF9hKSBpbnRlcm5hbCByZXR1cm5zIChhZGRyZXNzKXsKICAgICAgICBieXRlcyBtZW1vcnkgdG1wID0gYnl0ZXMoX2EpOwogICAgICAgIHVpbnQxNjAgaWFkZHIgPSAwOwogICAgICAgIHVpbnQxNjAgYjE7CiAgICAgICAgdWludDE2MCBiMjsKICAgICAgICBmb3IgKHVpbnQgaT0yOyBpPDIrMioyMDsgaSs9Mil7CiAgICAgICAgICAgIGlhZGRyICo9IDI1NjsKICAgICAgICAgICAgYjEgPSB1aW50MTYwKHRtcFtpXSk7CiAgICAgICAgICAgIGIyID0gdWludDE2MCh0bXBbaSsxXSk7CiAgICAgICAgICAgIGlmICgoYjEgPj0gOTcpJiYoYjEgPD0gMTAyKSkgYjEgLT0gODc7CiAgICAgICAgICAgIGVsc2UgaWYgKChiMSA+PSA2NSkmJihiMSA8PSA3MCkpIGIxIC09IDU1OwogICAgICAgICAgICBlbHNlIGlmICgoYjEgPj0gNDgpJiYoYjEgPD0gNTcpKSBiMSAtPSA0ODsKICAgICAgICAgICAgaWYgKChiMiA+PSA5NykmJihiMiA8PSAxMDIpKSBiMiAtPSA4NzsKICAgICAgICAgICAgZWxzZSBpZiAoKGIyID49IDY1KSYmKGIyIDw9IDcwKSkgYjIgLT0gNTU7CiAgICAgICAgICAgIGVsc2UgaWYgKChiMiA+PSA0OCkmJihiMiA8PSA1NykpIGIyIC09IDQ4OwogICAgICAgICAgICBpYWRkciArPSAoYjEqMTYrYjIpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYWRkcmVzcyhpYWRkcik7CiAgICB9Cn0KCi8vLyBAdGl0bGUgSW50ZXItY3J5cHRvIGN1cnJlbmN5IGNvbnZlcnRlcgovLy8gQGF1dGhvciBKYWNrIFRhbm5lciAtIDw8YSBocmVmPSIvY2RuLWNnaS9sL2VtYWlsLXByb3RlY3Rpb24iIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iOTVmZmZiZTFhNGEzZDVmY2Y2YmJmNGY2YmJlMGZlIj5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9hPj4KY29udHJhY3QgSW50ZXJDcnlwdG8gaXMgT3duYWJsZSwgbXlVc2luZ09yYWNhbGl6ZSB7CiAgICAvLyBfX19fX19fX19fX19fX19WQVJJQUJMRVNfX19fX19fX19fX19fX18KICAgIHN0cnVjdCBUcmFuc2FjdGlvbiB7CiAgICAgICAgYWRkcmVzcyByZXR1cm5BZGRyZXNzOwogICAgICAgIHVpbnQgYW1vdW50OwogICAgfQoKICAgIG1hcHBpbmcgKHVpbnQgPT4gVHJhbnNhY3Rpb24pIHB1YmxpYyB0cmFuc2FjdGlvbnM7CiAgICB1aW50IHRyYW5zYWN0aW9uQ291bnQgPSAwOwogICAgbWFwcGluZyAoYnl0ZXMzMiA9PiB1aW50KSBvcmFjYWxpemVNeUlkMnRyYW5zYWN0aW9uSUQ7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyByZWNvdmVyYWJsZTsKCiAgICAvLyBfX19fX19fX19fX19fX19FVkVOVFNfX19fX19fX19fX19fX18KICAgIGV2ZW50IFRyYW5zYWN0aW9uU3RhcnRlZCh1aW50IGluZGV4ZWQgdHJhbnNhY3Rpb25JRCk7CiAgICBldmVudCBUcmFuc2FjdGlvblNlbnRUb1NoYXBlU2hpZnQodWludCBpbmRleGVkIHRyYW5zYWN0aW9uSUQsIGFkZHJlc3MgaW5kZXhlZCByZXR1cm5BZGRyZXNzLCBhZGRyZXNzIGluZGV4ZWQgZGVwb3NpdEFkZHJlc3MsIHVpbnQgYW1vdW50KTsKICAgIGV2ZW50IFRyYW5zYWN0aW9uQWJvcnRlZCh1aW50IGluZGV4ZWQgdHJhbnNhY3Rpb25JRCwgc3RyaW5nIHJlYXNvbik7CiAgICBldmVudCBSZWNvdmVyZWQoYWRkcmVzcyBpbmRleGVkIHJlY292ZXJlZFRvLCB1aW50IGFtb3VudCk7CgogICAgLy8gX19fX19fX19fX19fX19fRVhURVJOQUwgRlVOQ1RJT05TX19fX19fX19fX19fX19fCiAgICAvLyBjb25zdHJ1Y3RvcgogICAgZnVuY3Rpb24gSW50ZXJDcnlwdG8oKSB7fQoKICAgIC8vIHN1aWNpZGUgZnVuY3Rpb24KICAgIGZ1bmN0aW9uIGtpbGwoKSBvbmx5T3duZXIgZXh0ZXJuYWwgewogICAgICAgIHNlbGZkZXN0cnVjdChvd25lcik7CiAgICB9CgogICAgLy8gRGVmYXVsdCBmdW5jdGlvbiB3aGljaCB3aWxsIGFjY2VwdCBFdGhlcgogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7fQoKICAgIC8vIFJldHVybiB0aGUgcHJpY2Ugb2YgdXNpbmcgT3JhY2FsaXplCiAgICBmdW5jdGlvbiBnZXRJbnRlckNyeXB0b1ByaWNlKCkgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gb3JhY2xpemVfZ2V0UHJpY2UoJ1VSTCcpOwogICAgfQoKICAgIC8vIENyZWF0ZSBhIGNyeXB0b2N1cnJlbmN5IGNvbnZlcnNpb24gdXNpbmcgT3JhY2FsaXplIGFuZCBTaGFwZXNoaWZ0IHJldHVybiBhZGRyZXNzID0gbXNnLnNlbmRlcgogICAgZnVuY3Rpb24gc2VuZFRvT3RoZXJCbG9ja2NoYWluMShzdHJpbmcgX2NvaW5TeW1ib2wsIHN0cmluZyBfdG9BZGRyZXNzKSBleHRlcm5hbCBwYXlhYmxlIHJldHVybnModWludCkgewogICAgICAgIHJldHVybiBlbmdpbmUoX2NvaW5TeW1ib2wsIF90b0FkZHJlc3MsIG1zZy5zZW5kZXIpOwogICAgfQogICAgCiAgICAvLyBDcmVhdGUgYSBjcnlwdG9jdXJyZW5jeSBjb252ZXJzaW9uIHVzaW5nIE9yYWNhbGl6ZSBhbmQgY3VzdG9tIFNoYXBlc2hpZnQgcmV0dXJuIGFkZHJlc3MKICAgIGZ1bmN0aW9uIHNlbmRUb090aGVyQmxvY2tjaGFpbjIoc3RyaW5nIF9jb2luU3ltYm9sLCBzdHJpbmcgX3RvQWRkcmVzcywgYWRkcmVzcyBfcmV0dXJuQWRkcmVzcykgZXh0ZXJuYWwgcGF5YWJsZSByZXR1cm5zKHVpbnQpIHsKICAgICAgICByZXR1cm4gZW5naW5lKF9jb2luU3ltYm9sLCBfdG9BZGRyZXNzLCBfcmV0dXJuQWRkcmVzcyk7CiAgICB9CgogICAgLy8gQ2FsbGJhY2sgZnVuY3Rpb24gZm9yIE9yYWNhbGl6ZQogICAgZnVuY3Rpb24gX19jYWxsYmFjayhieXRlczMyIG15aWQsIHN0cmluZyByZXN1bHQpIHsKICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvcmFjbGl6ZS5jYkFkZHJlc3MoKSkgcmV2ZXJ0KCk7CgogICAgICAgIHVpbnQgdHJhbnNhY3Rpb25JRCA9IG9yYWNhbGl6ZU15SWQydHJhbnNhY3Rpb25JRFtteWlkXTsKICAgICAgICBUcmFuc2FjdGlvbiBtZW1vcnkgdHJhbnNhY3Rpb24gPSB0cmFuc2FjdGlvbnNbdHJhbnNhY3Rpb25JRF07CiAgICAgICAgCiAgICAgICAgaWYoIGJ5dGVzKHJlc3VsdCkubGVuZ3RoID09IDAgKSB7CiAgICAgICAgICAgIFRyYW5zYWN0aW9uQWJvcnRlZCh0cmFuc2FjdGlvbklELCAiT3JhY2FsaXplIHJldHVybiB2YWx1ZSB3YXMgaW52YWxpZCwgdGhpcyBpcyBwcm9iYWJseSBkdWUgdG8gaW5jb3JyZWN0IHNlbmRUb090aGVyQmxvY2tjaGFpbigpIGFyZ21lbnRzIik7CiAgICAgICAgICAgIHJlY292ZXJhYmxlW3RyYW5zYWN0aW9uLnJldHVybkFkZHJlc3NdICs9IHRyYW5zYWN0aW9uLmFtb3VudDsKICAgICAgICAgICAgdHJhbnNhY3Rpb24uYW1vdW50ID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGFkZHJlc3MgZGVwb3NpdEFkZHJlc3MgPSBwYXJzZUFkZHIocmVzdWx0KTsKICAgICAgICAgICAgcmVxdWlyZShkZXBvc2l0QWRkcmVzcyAhPSBtc2cuc2VuZGVyKTsgLy8gcHJldmVudCBEQU8gdHBlIHJlY3Vyc2lvbiBoYWNrIHRoYXQgY2FuIHBvdGVudGlhbGx5IGJlIGRvbmUgYnkgb3JhY2FsaXplCiAgICAgICAgICAgIHVpbnQgc2VuZEFtb3VudCA9IHRyYW5zYWN0aW9uLmFtb3VudDsKICAgICAgICAgICAgdHJhbnNhY3Rpb24uYW1vdW50ID0gMDsKICAgICAgICAgICAgaWYgKGRlcG9zaXRBZGRyZXNzLnNlbmQoc2VuZEFtb3VudCkpCiAgICAgICAgICAgICAgICBUcmFuc2FjdGlvblNlbnRUb1NoYXBlU2hpZnQodHJhbnNhY3Rpb25JRCwgdHJhbnNhY3Rpb24ucmV0dXJuQWRkcmVzcywgZGVwb3NpdEFkZHJlc3MsIHNlbmRBbW91bnQpOwogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIFRyYW5zYWN0aW9uQWJvcnRlZCh0cmFuc2FjdGlvbklELCAidHJhbnNhY3Rpb24gdG8gYWRkcmVzcyByZXR1cm5lZCBieSBPcmFjYWxpemUgZmFpbGVkIik7CiAgICAgICAgICAgICAgICByZWNvdmVyYWJsZVt0cmFuc2FjdGlvbi5yZXR1cm5BZGRyZXNzXSArPSBzZW5kQW1vdW50OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIC8vIENhbmNlbCBhIHRyYW5zYWN0aW9uIHRoYXQgaGFzIG5vdCBiZWVuIGNvbXBsZXRlZAogICAgLy8gTm90ZSB0aGF0IHRoaXMgc2hvdWxkIG9ubHkgYmUgcmVxdWlyZWQgaWYgT3JhY2FsaXplIHNob3VsZCBmYWlsIHRvIHJlc3BvbmQKICAgIGZ1bmN0aW9uIGNhbmNlbFRyYW5zYWN0aW9uKHVpbnQgdHJhbnNhY3Rpb25JRCkgZXh0ZXJuYWwgewogICAgICAgIFRyYW5zYWN0aW9uIG1lbW9yeSB0cmFuc2FjdGlvbiA9IHRyYW5zYWN0aW9uc1t0cmFuc2FjdGlvbklEXTsKICAgICAgICAKICAgICAgICBpZiAodHJhbnNhY3Rpb24uYW1vdW50ID4gMCkgewogICAgICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gdHJhbnNhY3Rpb24ucmV0dXJuQWRkcmVzcyk7CiAgICAgICAgICAgIHJlY292ZXJhYmxlW21zZy5zZW5kZXJdICs9IHRyYW5zYWN0aW9uLmFtb3VudDsKICAgICAgICAgICAgdHJhbnNhY3Rpb24uYW1vdW50ID0gMDsKICAgICAgICAgICAgVHJhbnNhY3Rpb25BYm9ydGVkKHRyYW5zYWN0aW9uSUQsICJ0cmFuc2FjdGlvbiBjYW5jZWxsZWQgYnkgY3JlYXRvciIpOwogICAgICAgIH0KICAgIH0KCiAgICAvLyBTZW5kIGFueSBwZW5kaW5nIGZ1bmRzIGJhY2sgdG8gdGhlaXIgb3duZXIKICAgIGZ1bmN0aW9uIHJlY292ZXIoKSBleHRlcm5hbCB7CiAgICAgICAgdWludCBhbW91bnQgPSByZWNvdmVyYWJsZVttc2cuc2VuZGVyXTsKICAgICAgICByZWNvdmVyYWJsZVttc2cuc2VuZGVyXSA9IDA7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIuc2VuZChhbW91bnQpKSB7CiAgICAgICAgICAgIFJlY292ZXJlZChtc2cuc2VuZGVyLCBhbW91bnQpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmVjb3ZlcmFibGVbbXNnLnNlbmRlcl0gPSBhbW91bnQ7CiAgICAgICAgfQogICAgfQogICAgLy8gX19fX19fX19fX19fX19fUFVCTElDIEZVTkNUSU9OU19fX19fX19fX19fX19fXwoKCiAgICAvLyBfX19fX19fX19fX19fX19JTlRFUk5BTCBGVU5DVElPTlNfX19fX19fX19fX19fX18KICAgIC8vIFJlcXVlc3QgZm9yIGEgU2hhcGVTaGlmdCB0cmFuc2FjdGlvbiB0byBiZSBtYWRlCiAgICBmdW5jdGlvbiBlbmdpbmUoc3RyaW5nIF9jb2luU3ltYm9sLCBzdHJpbmcgX3RvQWRkcmVzcywgYWRkcmVzcyBfcmV0dXJuQWRkcmVzcykgaW50ZXJuYWwgcmV0dXJucyh1aW50IHRyYW5zYWN0aW9uSUQpIHsKICAgICAgICAvLyBFeGFtcGxlIGFyZ3VtZW50czoKICAgICAgICAvLyAibHRjIiwgIkxiWmNEZE1lUDk2a284NUgyMVRRaWk5OFlGRjlSZ1pnM0QiICAgTGl0ZWNvaW4KICAgICAgICAvLyAiYnRjIiwgIjFMOG9SaWpnbWtmY1pEWUEyMWI3M2I2RGV3THR5WXM4N3MiICAgQml0Y29pbgogICAgICAgIC8vICJkYXNoIiwgIlhvb3Bvd3MxN2lka1R3TnJNWnV5U1hCd1FEb3JzZXpRQXgiICBEYXNoCiAgICAgICAgLy8gInplYyIsICJ0MU43dGYxeFJ4ejVjQks1MUpBRGlqTERXUzU5MkZQSnR5YSIgIFpDYXNoCiAgICAgICAgLy8gImRvZ2UiLCAiRE1BRnZ3VEgydXBuaTdlVGF1OGF1NlJrdGdtMmJVa01laSIgICBEb2dlY29pbgogICAgICAgIC8vIFNlZSBodHRwczovL2luZm8uc2hhcGVzaGlmdC5pby9hYm91dAogICAgICAgIC8vIFRlc3Qgc3ltYm9sIHBhaXJzIHVzaW5nIFNoYXBlU2hpZnQgQVBJIChzaGFwZXNoaWZ0LmlvL3ZhbGlkYXRlQWRkcmVzcy9bYWRkcmVzc10vW2NvaW5TeW1ib2xdKSBvciBieSBjcmVhdGluZyBhIHRlc3QKICAgICAgICAvLyB0cmFuc2FjdGlvbiBmaXJzdCB3aGVuZXZlciBwb3NzaWJsZSBiZWZvcmUgdXNpbmcgaXQgd2l0aCBJbnRlckNyeXB0bwogICAgICAgIAogICAgICAgIHRyYW5zYWN0aW9uSUQgPSB0cmFuc2FjdGlvbkNvdW50Kys7CgogICAgICAgIGlmICghaXNWYWxpZGF0ZVBhcmFtZXRlcihfY29pblN5bWJvbCwgNikgfHwgIWlzVmFsaWRhdGVQYXJhbWV0ZXIoX3RvQWRkcmVzcywgMTIwKSkgeyAvLyBXYXZlcyBzbWJvbCBpcyAid2F2ZXMiICwgTW9uZXJvIGludGVncmF0ZWQgYWRkcmVzc2VzIGFyZSAxMDYgY2hhcmFjdGVycwogICAgICAgICAgICBUcmFuc2FjdGlvbkFib3J0ZWQodHJhbnNhY3Rpb25JRCwgImlucHV0IHBhcmFtZXRlcnMgYXJlIHRvbyBsb25nIG9yIGNvbnRhaW4gaW52YWxpZCBzeW1ib2xzIik7CiAgICAgICAgICAgIHJlY292ZXJhYmxlW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAKICAgICAgICB1aW50IG9yYWNhbGl6ZVByaWNlID0gZ2V0SW50ZXJDcnlwdG9QcmljZSgpOwoKICAgICAgICBpZiAobXNnLnZhbHVlID4gb3JhY2FsaXplUHJpY2UpIHsKICAgICAgICAgICAgVHJhbnNhY3Rpb24gbWVtb3J5IHRyYW5zYWN0aW9uID0gVHJhbnNhY3Rpb24oX3JldHVybkFkZHJlc3MsIG1zZy52YWx1ZS1vcmFjYWxpemVQcmljZSk7CiAgICAgICAgICAgIHRyYW5zYWN0aW9uc1t0cmFuc2FjdGlvbklEXSA9IHRyYW5zYWN0aW9uOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ3JlYXRlIHBvc3QgZGF0YSBzdHJpbmcgbGlrZSAnIHsid2l0aGRyYXdhbCI6IkxiWmNEZE1lUDk2a284NUgyMVRRaWk5OFlGRjlSZ1pnM0QiLCJwYWlyIjoiZXRoX2x0YyIsInJldHVybkFkZHJlc3MiOiI1NTg5OTlmZjJlMGRhZWZjYjRmY2RlZDRjODllMDdmZGY5Y2NiNTZjIn0nCiAgICAgICAgICAgIHN0cmluZyBtZW1vcnkgcG9zdERhdGEgPSBjcmVhdGVTaGFwZVNoaWZ0VHJhbnNhY3Rpb25Qb3N0KF9jb2luU3ltYm9sLCBfdG9BZGRyZXNzKTsKCiAgICAgICAgICAgIC8vIFRPRE86IHNlbmQgY3VzdG9tIGdhc0xpbWl0IGZvciByZXRybiB0cmFuc2FjdGlvbiBlcXVhbCB0byB0aGUgZXhhY3QgY29zdCBvZiBfX2NhbGxiYWNrLiBOb3RlIHRoYXQgdGhpcyBzaG91bGQgb25seSBiZSBkb25ld2hlbiB0aGUgY29udHJhY3QgaXMgZmluYWxpemVkCiAgICAgICAgICAgIGJ5dGVzMzIgbXlRdWVyeUlkID0gb3JhY2xpemVfcXVlcnkoIlVSTCIsICJqc29uKGh0dHBzOi8vc2hhcGVzaGlmdC5pby9zaGlmdCkuZGVwb3NpdCIsIHBvc3REYXRhKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChteVF1ZXJ5SWQgPT0gMCkgewogICAgICAgICAgICAgICAgVHJhbnNhY3Rpb25BYm9ydGVkKHRyYW5zYWN0aW9uSUQsICJ1bmV4cGVjdGVkbHkgaGlnaCBPcmFjYWxpemUgcHJpY2Ugd2hlbiBjYWxsaW5nIG9yYWNhbGl6ZV9xdWVyeSIpOwogICAgICAgICAgICAgICAgcmVjb3ZlcmFibGVbbXNnLnNlbmRlcl0gKz0gbXNnLnZhbHVlLW9yYWNhbGl6ZVByaWNlOwogICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24uYW1vdW50ID0gMDsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBvcmFjYWxpemVNeUlkMnRyYW5zYWN0aW9uSURbbXlRdWVyeUlkXSA9IHRyYW5zYWN0aW9uSUQ7CiAgICAgICAgICAgIFRyYW5zYWN0aW9uU3RhcnRlZCh0cmFuc2FjdGlvbklEKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIFRyYW5zYWN0aW9uQWJvcnRlZCh0cmFuc2FjdGlvbklELCAiTm90IGVub3VnaCBFdGhlciBzZW50IHRvIGNvdmVyIE9yYWNhbGl6ZSBmZWUiKTsKICAgICAgICAgICAgLy8gdHJhbnNhY3Rpb25zW3RyYW5zYWN0aW9uSURdLmFtb3VudCA9IDA7CiAgICAgICAgICAgIHJlY292ZXJhYmxlW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8vIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20va2llcmFuZWxieS9LaW5nT2ZUaGVFdGhlclRocm9uZS9ibG9iL21hc3Rlci9jb250cmFjdHMvS2luZ09mVGhlRXRoZXJUaHJvbmUuc29sCiAgICBmdW5jdGlvbiBpc1ZhbGlkYXRlUGFyYW1ldGVyKHN0cmluZyBfcGFyYW1ldGVyLCB1aW50IG1heFNpemUpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKGJvb2wgYWxsb3dlZCkgewogICAgICAgIGJ5dGVzIG1lbW9yeSBwYXJhbWV0ZXJCeXRlcyA9IGJ5dGVzKF9wYXJhbWV0ZXIpOwogICAgICAgIHVpbnQgbGVuZ3RoQnl0ZXMgPSBwYXJhbWV0ZXJCeXRlcy5sZW5ndGg7CiAgICAgICAgaWYgKGxlbmd0aEJ5dGVzIDwgMSB8fAogICAgICAgICAgICBsZW5ndGhCeXRlcyA+IG1heFNpemUpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBsZW5ndGhCeXRlczsgaSsrKSB7CiAgICAgICAgICAgIGJ5dGUgYiA9IHBhcmFtZXRlckJ5dGVzW2ldOwogICAgICAgICAgICBpZiAoICEoCiAgICAgICAgICAgICAgICAoYiA+PSA0OCAmJiBiIDw9IDU3KSB8fCAvLyAwIC0gOQogICAgICAgICAgICAgICAgKGIgPj0gNjUgJiYgYiA8PSA5MCkgfHwgLy8gQSAtIFoKICAgICAgICAgICAgICAgIChiID49IDk3ICYmIGIgPD0gMTIyKSAgIC8vIGEgLSB6CiAgICAgICAgICAgICkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY29uY2F0Qnl0ZXMoYnl0ZXMgYjEsIGJ5dGVzIGIyLCBieXRlcyBiMywgYnl0ZXMgYjQsIGJ5dGVzIGI1LCBieXRlcyBiNiwgYnl0ZXMgYjcpIGludGVybmFsIHJldHVybnMgKGJ5dGVzIGJGaW5hbCkgewogICAgICAgIGJGaW5hbCA9IG5ldyBieXRlcyhiMS5sZW5ndGggKyBiMi5sZW5ndGggKyBiMy5sZW5ndGggKyBiNC5sZW5ndGggKyBiNS5sZW5ndGggKyBiNi5sZW5ndGggKyBiNy5sZW5ndGgpOwoKICAgICAgICB1aW50IGkgPSAwOwogICAgICAgIHVpbnQgajsKICAgICAgICBmb3IgKGogPSAwOyBqIDwgYjEubGVuZ3RoOyBqKyspIGJGaW5hbFtpKytdID0gYjFbal07CiAgICAgICAgZm9yIChqID0gMDsgaiA8IGIyLmxlbmd0aDsgaisrKSBiRmluYWxbaSsrXSA9IGIyW2pdOwogICAgICAgIGZvciAoaiA9IDA7IGogPCBiMy5sZW5ndGg7IGorKykgYkZpbmFsW2krK10gPSBiM1tqXTsKICAgICAgICBmb3IgKGogPSAwOyBqIDwgYjQubGVuZ3RoOyBqKyspIGJGaW5hbFtpKytdID0gYjRbal07CiAgICAgICAgZm9yIChqID0gMDsgaiA8IGI1Lmxlbmd0aDsgaisrKSBiRmluYWxbaSsrXSA9IGI1W2pdOwogICAgICAgIGZvciAoaiA9IDA7IGogPCBiNi5sZW5ndGg7IGorKykgYkZpbmFsW2krK10gPSBiNltqXTsKICAgICAgICBmb3IgKGogPSAwOyBqIDwgYjcubGVuZ3RoOyBqKyspIGJGaW5hbFtpKytdID0gYjdbal07CiAgICB9CgogICAgZnVuY3Rpb24gY3JlYXRlU2hhcGVTaGlmdFRyYW5zYWN0aW9uUG9zdChzdHJpbmcgX2NvaW5TeW1ib2wsIHN0cmluZyBfdG9BZGRyZXNzKSBpbnRlcm5hbCByZXR1cm5zIChzdHJpbmcgc0ZpbmFsKSB7CiAgICAgICAgc3RyaW5nIG1lbW9yeSBzMSA9ICcgeyJ3aXRoZHJhd2FsIjoiJzsKICAgICAgICBzdHJpbmcgbWVtb3J5IHMzID0gJyIsInBhaXIiOiJldGhfJzsKICAgICAgICBzdHJpbmcgbWVtb3J5IHM1ID0gJyIsInJldHVybkFkZHJlc3MiOiInOwogICAgICAgIHN0cmluZyBtZW1vcnkgczcgPSAnIn0nOwoKICAgICAgICBieXRlcyBtZW1vcnkgYkZpbmFsID0gY29uY2F0Qnl0ZXMoYnl0ZXMoczEpLCBieXRlcyhfdG9BZGRyZXNzKSwgYnl0ZXMoczMpLCBieXRlcyhfY29pblN5bWJvbCksIGJ5dGVzKHM1KSwgYnl0ZXMoYWRkcmVzc1RvQnl0ZXMobXNnLnNlbmRlcikpLCBieXRlcyhzNykpOwoKICAgICAgICBzRmluYWwgPSBzdHJpbmcoYkZpbmFsKTsKICAgIH0KCiAgICAgICAgLy8gQXV0aG9yZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2F4aWMKICAgIGZ1bmN0aW9uIG5pYmJsZVRvQ2hhcih1aW50IG5pYmJsZSkgaW50ZXJuYWwgcmV0dXJucyAodWludCByZXQpIHsKICAgICAgICBpZiAobmliYmxlID4gOSkKICAgICAgICByZXR1cm4gbmliYmxlICsgODc7IC8vIG5pYmJsZSArICdhJy0gMTAKICAgICAgICBlbHNlCiAgICAgICAgcmV0dXJuIG5pYmJsZSArIDQ4OyAvLyAnMCcKICAgIH0KCiAgICAvLyBBdXRob3JlZCBieSBodHRwczovL2dpdGh1Yi5jb20vYXhpYwogICAgZnVuY3Rpb24gYWRkcmVzc1RvQnl0ZXMoYWRkcmVzcyBfYWRkcmVzcykgaW50ZXJuYWwgcmV0dXJucyAoYnl0ZXMpIHsKICAgICAgICB1aW50MTYwIHRtcCA9IHVpbnQxNjAoX2FkZHJlc3MpOwoKICAgICAgICAvLyA0MCBieXRlcyBvZiBzcGFjZSwgYnV0IGFjdHVhbGx5IHVzZXMgNjQgYnl0ZXMKICAgICAgICBzdHJpbmcgbWVtb3J5IGhvbGRlciA9ICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIjsKICAgICAgICBieXRlcyBtZW1vcnkgcmV0ID0gYnl0ZXMoaG9sZGVyKTsKCiAgICAgICAgLy8gTk9URTogdGhpcyBpcyB3cml0dGVuIGluIGFuIGV4cGVuc2l2ZSB3YXksIGFzIG91dC1vZi1vcmRlciBhcnJheSBhY2Nlc3MKICAgICAgICAvLyAgICAgICBpcyBub3Qgc3VwcG9ydGVkIHlldCwgZS5nLiB3ZSBjYW5ub3QgZ28gaW4gcmV2ZXJzZSBlYXNpbHkKICAgICAgICAvLyAgICAgICAob3IgbWF5YmUgaXQgaXMgYSBidWc6IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9zb2xpZGl0eS9pc3N1ZXMvMjEyKQogICAgICAgIHVpbnQgaiA9IDA7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgMjA7IGkrKykgewogICAgICAgICAgICB1aW50IF90bXAgPSB0bXAgLyAoMiAqKiAoOCooMTktaSkpKTsgLy8gc2hyKHRtcCwgOCooMTktaSkpCiAgICAgICAgICAgIHVpbnQgbmIxID0gKF90bXAgLyAweDEwKSAmIDB4MGY7ICAgICAvLyBzaHIodG1wLCA4KSAmIDB4MGYKICAgICAgICAgICAgdWludCBuYjIgPSBfdG1wICYgMHgwZjsKICAgICAgICAgICAgcmV0W2orK10gPSBieXRlKG5pYmJsZVRvQ2hhcihuYjEpKTsKICAgICAgICAgICAgcmV0W2orK10gPSBieXRlKG5pYmJsZVRvQ2hhcihuYjIpKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZXQ7CiAgICB9CgogICAgLy8gX19fX19fX19fX19fX19fUFJJVkFURSBGVU5DVElPTlNfX19fX19fX19fX19fX18KCn0='.
	

]
