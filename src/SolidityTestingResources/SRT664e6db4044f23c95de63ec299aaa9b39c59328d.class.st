Class {
	#name : #SRT664e6db4044f23c95de63ec299aaa9b39c59328d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT664e6db4044f23c95de63ec299aaa9b39c59328d >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IDAuNC4yMTsKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gJ0RpZ2l0aXplIENvaW4gLSBEVFonIHRva2VuIGNvbnRyYWN0OiBodHRwczovL2RpZ2l0aXplY29pbi5jb20gCi8vCi8vIFN5bWJvbCAgICAgIDogRFRaCi8vIE5hbWUgICAgICAgIDogRGlnaXRpemUgQ29pbgovLyBUb3RhbCBzdXBwbHk6IDIwMCwwMDAsMDAwCi8vIERlY2ltYWxzICAgIDogMTgKLy8KLy8KLy8gKGMpIFJhZGVrIE9zdHJvd3NraSAvIGh0dHA6Ly9zdGFydG9uY2hhaW4uY29tIC0gVGhlIE1JVCBMaWNlbmNlLgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKCiAgLyoqCiAgKiBAZGV2IE11bHRpcGxpZXMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAqLwogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICByZXF1aXJlKGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICAvKioKICAqIEBkZXYgSW50ZWdlciBkaXZpc2lvbiBvZiB0d28gbnVtYmVycywgdHJ1bmNhdGluZyB0aGUgcXVvdGllbnQuCiAgKi8KICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgcmVxdWlyZShiID4gMCk7CiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIHJldHVybiBjOwogIH0KCiAgLyoqCiAgKiBAZGV2IFN1YnN0cmFjdHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdyAoaS5lLiBpZiBzdWJ0cmFoZW5kIGlzIGdyZWF0ZXIgdGhhbiBtaW51ZW5kKS4KICAqLwogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXF1aXJlKGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICAvKioKICAqIEBkZXYgQWRkcyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93LgogICovCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgcmVxdWlyZShjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBfcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIF9uZXdPd25lcik7CgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBfbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoX25ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgb3duZXIgPSBfbmV3T3duZXI7CiAgICBlbWl0IE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBfbmV3T3duZXIpOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBDdXRkb3duVG9rZW4KICogQGRldiBTb21lIEVSQzIwIGludGVyZmFjZSBtZXRob2RzIHVzZWQgaW4gdGhpcyBjb250cmFjdAogKi8KY29udHJhY3QgQ3V0ZG93blRva2VuIHsKICAJZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX3dobykgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgCWZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIAlmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwp9CgovKioKICogQHRpdGxlIEFwcHJvdmVBbmRDYWxsRmFsbGJhY2sKICogQGRldiBJbnRlcmZhY2UgZnVuY3Rpb24gY2FsbGVkIGZyb20gYGFwcHJvdmVBbmRDYWxsYCBub3RpZnlpbmcgdGhhdCB0aGUgYXBwcm92YWwgaGFwcGVuZWQKICovCmNvbnRyYWN0IEFwcHJvdmVBbmRDYWxsRmFsbGJhY2sgewogICAgZnVuY3Rpb24gcmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX2Ftb3VudCwgYWRkcmVzcyBfdG9rZW5Db250cmFjdCwgYnl0ZXMgX2RhdGEpIHB1YmxpYyByZXR1cm5zIChib29sKTsKfQoKLyoqCiAqIEB0aXRsZSBEaWdpdGl6ZSBDb2luCiAqIEBkZXYgQnVybmFibGUgRVJDMjAgdG9rZW4gd2l0aCBpbml0aWFsIHRyYW5zZmVycyBibG9ja2VkCiAqLwpjb250cmFjdCBEaWdpdGl6ZUNvaW4gaXMgT3duYWJsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwogIAogIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIF9idXJuZXIsIHVpbnQyNTYgX3ZhbHVlKTsKICBldmVudCBUcmFuc2ZlcnNFbmFibGVkKCk7CiAgZXZlbnQgVHJhbnNmZXJSaWdodEdpdmVuKGFkZHJlc3MgaW5kZXhlZCBfdG8pOwogIGV2ZW50IFRyYW5zZmVyUmlnaHRDYW5jZWxsZWQoYWRkcmVzcyBpbmRleGVkIF9mcm9tKTsKICBldmVudCBXaXRoZHJhd25FUkMyMFRva2VucyhhZGRyZXNzIGluZGV4ZWQgX3Rva2VuQ29udHJhY3QsIGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIHVpbnQyNTYgX2JhbGFuY2UpOwogIGV2ZW50IFdpdGhkcmF3bkV0aGVyKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIHVpbnQyNTYgX2JhbGFuY2UpOwogIGV2ZW50IEFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9kYXRhKTsKCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkRpZ2l0aXplIENvaW4iOwogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkRUWiI7CiAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBpbml0aWFsU3VwcGx5ID0gMjAwMDAwMDAwICogKDEwICoqIGRlY2ltYWxzKTsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlczsKICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgaW50ZXJuYWwgYWxsb3dlZDsKCiAgLy9UaGlzIG1hcHBpbmcgaXMgdXNlZCBmb3IgdGhlIHRva2VuIG93bmVyIGFuZCBjcm93ZHNhbGUgY29udHJhY3QgdG8gCiAgLy90cmFuc2ZlciB0b2tlbnMgYmVmb3JlIHRoZXkgYXJlIHRyYW5zZmVyYWJsZQogIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgdHJhbnNmZXJHcmFudHM7CiAgLy9UaGlzIGZsYWcgY29udHJvbHMgdGhlIGdsb2JhbCB0b2tlbiB0cmFuc2ZlcgogIGJvb2wgcHVibGljIHRyYW5zZmVyYWJsZTsKCiAgLyoqCiAgICogQGRldiBNb2RpZmllciB0byBjaGVjayBpZiB0b2tlbnMgY2FuIGJlIHRyYW5zZmVyZWQuCiAgICovCiAgbW9kaWZpZXIgY2FuVHJhbnNmZXIoKSB7CiAgICByZXF1aXJlKHRyYW5zZmVyYWJsZSB8fCB0cmFuc2ZlckdyYW50c1ttc2cuc2VuZGVyXSk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBUaGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgCiAgICogdG8gdGhlIHNlbmRlciBhY2NvdW50IGFuZCBhc3NpZ25zIHRoZW0gYWxsIHRva2Vucy4KICAgKi8KICBmdW5jdGlvbiBEaWdpdGl6ZUNvaW4oKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgdG90YWxTdXBwbHkgPSBpbml0aWFsU3VwcGx5OwogICAgYmFsYW5jZXNbb3duZXJdID0gdG90YWxTdXBwbHk7CiAgICB0cmFuc2ZlckdyYW50c1tvd25lcl0gPSB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBUaGlzIGNvbnRyYWN0IGRvZXMgbm90IGFjY2VwdCBhbnkgZXRoZXIuIAogICAqIEFueSBmb3JjZWQgZXRoZXIgY2FuIGJlIHdpdGhkcmF3biB3aXRoIGB3aXRoZHJhd0V0aGVyKClgIGJ5IHRoZSBvd25lci4KICAgKi8KICBmdW5jdGlvbiAoKSBwYXlhYmxlIHB1YmxpYyB7CiAgICByZXZlcnQoKTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLgogICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKICAvKioKICAqIEBkZXYgVHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGNhblRyYW5zZmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGVtaXQgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgY2FuVHJhbnNmZXIgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbX2Zyb21dKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGVtaXQgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICoKICAgKiBCZXdhcmUgdGhhdCBjaGFuZ2luZyBhbiBhbGxvd2FuY2Ugd2l0aCB0aGlzIG1ldGhvZCBicmluZ3MgdGhlIHJpc2sgdGhhdCBzb21lb25lIG1heSB1c2UgYm90aCB0aGUgb2xkCiAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAqIHJhY2UgY29uZGl0aW9uIGlzIHRvIGZpcnN0IHJlZHVjZSB0aGUgc3BlbmRlcidzIGFsbG93YW5jZSB0byAwIGFuZCBzZXQgdGhlIGRlc2lyZWQgdmFsdWUgYWZ0ZXJ3YXJkczoKICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIGNhblRyYW5zZmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIGVtaXQgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmeWluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICAvKioKICAgKiBAZGV2IEluY3JlYXNlIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICoKICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKICAgKiBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbAogICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX2FkZGVkVmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gaW5jcmVhc2UgdGhlIGFsbG93YW5jZSBieS4KICAgKi8KICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIGNhblRyYW5zZmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICBlbWl0IEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRGVjcmVhc2UgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKgogICAqIGFwcHJvdmUgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFsbG93ZWRbX3NwZW5kZXJdID09IDAuIFRvIGRlY3JlbWVudAogICAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsCiAgICogdGhlIGZpcnN0IHRyYW5zYWN0aW9uIGlzIG1pbmVkKQogICAqIEZyb20gTW9ub2xpdGhEQU8gVG9rZW4uc29sCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3VidHJhY3RlZFZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGRlY3JlYXNlIHRoZSBhbGxvd2FuY2UgYnkuCiAgICovCiAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIGNhblRyYW5zZmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICB1aW50IG9sZFZhbHVlID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl07CiAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgfQogICAgZW1pdCBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGFwcHJvdmUgdGhlIHRyYW5zZmVyIG9mIHRoZSB0b2tlbnMgYW5kIHRvIGNhbGwgYW5vdGhlciBjb250cmFjdCBpbiBvbmUgc3RlcAogICAqIEBwYXJhbSBfcmVjaXBpZW50IFRoZSB0YXJnZXQgY29udHJhY3QgZm9yIHRva2VucyBhbmQgZnVuY3Rpb24gY2FsbAogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gc2VuZAogICAqIEBwYXJhbSBfZGF0YSBFeHRyYSBkYXRhIHRvIGJlIHNlbnQgdG8gdGhlIHJlY2lwaWVudCBjb250cmFjdCBmdW5jdGlvbgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3JlY2lwaWVudCwgdWludCBfdmFsdWUsIGJ5dGVzIF9kYXRhKSBjYW5UcmFuc2ZlciBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfcmVjaXBpZW50XSA9IF92YWx1ZTsKICAgIGVtaXQgQXBwcm92ZUFuZENhbGwobXNnLnNlbmRlciwgX3JlY2lwaWVudCwgX3ZhbHVlLCBfZGF0YSk7CiAgICBBcHByb3ZlQW5kQ2FsbEZhbGxiYWNrKF9yZWNpcGllbnQpLnJlY2VpdmVBcHByb3ZhbChtc2cuc2VuZGVyLCBfdmFsdWUsIGFkZHJlc3ModGhpcyksIF9kYXRhKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBCdXJucyBhIHNwZWNpZmljIGFtb3VudCBvZiB0b2tlbnMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIGJ1cm5lZC4KICAgKi8KICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgewogICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwogICAgYWRkcmVzcyBidXJuZXIgPSBtc2cuc2VuZGVyOwogICAgYmFsYW5jZXNbYnVybmVyXSA9IGJhbGFuY2VzW2J1cm5lcl0uc3ViKF92YWx1ZSk7CiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YihfdmFsdWUpOwogICAgZW1pdCBCdXJuKGJ1cm5lciwgX3ZhbHVlKTsKICB9CgogIC8qKgogICAqIEBkZXYgRW5hYmxlcyB0aGUgdHJhbnNmZXIgb2YgdG9rZW5zIGZvciBldmVyeW9uZQogICAqLwogIGZ1bmN0aW9uIGVuYWJsZVRyYW5zZmVycygpIG9ubHlPd25lciBwdWJsaWMgewogICAgcmVxdWlyZSghdHJhbnNmZXJhYmxlKTsKICAgIHRyYW5zZmVyYWJsZSA9IHRydWU7CiAgICBlbWl0IFRyYW5zZmVyc0VuYWJsZWQoKTsKICB9CgogIC8qKgogICAqIEBkZXYgQXNzaWducyB0aGUgc3BlY2lhbCB0cmFuc2ZlciByaWdodCwgYmVmb3JlIHRyYW5zZmVycyBhcmUgZW5hYmxlZAogICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgcmVjZWl2aW5nIHRoZSB0cmFuc2ZlciBncmFudAogICAqLwogIGZ1bmN0aW9uIGdyYW50VHJhbnNmZXJSaWdodChhZGRyZXNzIF90bykgb25seU93bmVyIHB1YmxpYyB7CiAgICByZXF1aXJlKCF0cmFuc2ZlcmFibGUpOwogICAgcmVxdWlyZSghdHJhbnNmZXJHcmFudHNbX3RvXSk7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHRyYW5zZmVyR3JhbnRzW190b10gPSB0cnVlOwogICAgZW1pdCBUcmFuc2ZlclJpZ2h0R2l2ZW4oX3RvKTsKICB9CgogIC8qKgogICAqIEBkZXYgUmVtb3ZlcyB0aGUgc3BlY2lhbCB0cmFuc2ZlciByaWdodCwgYmVmb3JlIHRyYW5zZmVycyBhcmUgZW5hYmxlZAogICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyB0aGF0IHRoZSB0cmFuc2ZlciBncmFudCBpcyByZW1vdmVkIGZyb20KICAgKi8KICBmdW5jdGlvbiBjYW5jZWxUcmFuc2ZlclJpZ2h0KGFkZHJlc3MgX2Zyb20pIG9ubHlPd25lciBwdWJsaWMgewogICAgcmVxdWlyZSghdHJhbnNmZXJhYmxlKTsKICAgIHJlcXVpcmUodHJhbnNmZXJHcmFudHNbX2Zyb21dKTsKICAgIHRyYW5zZmVyR3JhbnRzW19mcm9tXSA9IGZhbHNlOwogICAgZW1pdCBUcmFuc2ZlclJpZ2h0Q2FuY2VsbGVkKF9mcm9tKTsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRvIHRyYW5zZmVyIG91dCB0aGUgYmFsYW5jZSBvZiBhcmJpdHJhcnkgRVJDMjAgdG9rZW5zIGZyb20gdGhlIGNvbnRyYWN0LgogICAqIEBwYXJhbSBfdG9rZW4gVGhlIGNvbnRyYWN0IGFkZHJlc3Mgb2YgdGhlIEVSQzIwIHRva2VuLgogICAqLwogIGZ1bmN0aW9uIHdpdGhkcmF3RVJDMjBUb2tlbnMoQ3V0ZG93blRva2VuIF90b2tlbikgb25seU93bmVyIHB1YmxpYyB7CiAgICB1aW50MjU2IHRvdGFsQmFsYW5jZSA9IF90b2tlbi5iYWxhbmNlT2YoYWRkcmVzcyh0aGlzKSk7CiAgICByZXF1aXJlKHRvdGFsQmFsYW5jZSA+IDApOwogICAgX3Rva2VuLnRyYW5zZmVyKG93bmVyLCB0b3RhbEJhbGFuY2UpOwogICAgZW1pdCBXaXRoZHJhd25FUkMyMFRva2VucyhhZGRyZXNzKF90b2tlbiksIG93bmVyLCB0b3RhbEJhbGFuY2UpOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdG8gdHJhbnNmZXIgb3V0IHRoZSBldGhlciBiYWxhbmNlIHRoYXQgd2FzIGZvcmNlZCBpbnRvIHRoaXMgY29udHJhY3QsIGUuZyB3aXRoIGBzZWxmZGVzdHJ1Y3RgCiAgICovCiAgZnVuY3Rpb24gd2l0aGRyYXdFdGhlcigpIG9ubHlPd25lciBwdWJsaWMgewogICAgdWludDI1NiB0b3RhbEJhbGFuY2UgPSBhZGRyZXNzKHRoaXMpLmJhbGFuY2U7CiAgICByZXF1aXJlKHRvdGFsQmFsYW5jZSA+IDApOwogICAgb3duZXIudHJhbnNmZXIodG90YWxCYWxhbmNlKTsKICAgIGVtaXQgV2l0aGRyYXduRXRoZXIob3duZXIsIHRvdGFsQmFsYW5jZSk7CiAgfQp9'.
	

]
