Class {
	#name : #SRT1c381ca8112f823941c37cb9514819909ecb102d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT1c381ca8112f823941c37cb9514819909ecb102d >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7CgoKCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKCiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cgp9Ci8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4KICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CgogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludCBzaXplKSB7CiAgICBhc3NlcnQobXNnLmRhdGEubGVuZ3RoID09IHNpemUgKyA0KTsKICAgIF87CiAgfQoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgb25seVBheWxvYWRTaXplKDIgKiAzMikgcmV0dXJucyAoYm9vbCkgewogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQp9CgovKioKICogQHRpdGxlIFN0YW5kYXJkIEVSQzIwIHRva2VuCiAqCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIGJhc2ljIHN0YW5kYXJkIHRva2VuLgogKiBAZGV2IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKiBAZGV2IEJhc2VkIG9uIGNvZGUgYnkgRmlyc3RCbG9vZDogaHR0cHM6Ly9naXRodWIuY29tL0ZpcnN0Ymxvb2Rpby90b2tlbi9ibG9iL21hc3Rlci9zbWFydF9jb250cmFjdC9GaXJzdEJsb29kVG9rZW4uc29sCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAvLyByZXF1aXJlIChfdmFsdWUgPD0gX2FsbG93YW5jZSk7CgogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKCiAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICByZXF1aXJlKChfdmFsdWUgPT0gMCkgfHwgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKCiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKCiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBNaW50YWJsZSB0b2tlbgogKiBAZGV2IFNpbXBsZSBFUkMyMCBUb2tlbiBleGFtcGxlLCB3aXRoIG1pbnRhYmxlIHRva2VuIGNyZWF0aW9uCiAqIEBkZXYgSXNzdWU6ICogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9pc3N1ZXMvMTIwCiAqIEJhc2VkIG9uIGNvZGUgYnkgVG9rZW5NYXJrZXROZXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9Ub2tlbk1hcmtldE5ldC9pY28vYmxvYi9tYXN0ZXIvY29udHJhY3RzL01pbnRhYmxlVG9rZW4uc29sCiAqLwoKY29udHJhY3QgTWludGFibGVUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKCiAgZXZlbnQgTWludChhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgYW1vdW50KTsKICBldmVudCBNaW50RmluaXNoZWQoKTsKCiAgYm9vbCBwdWJsaWMgbWludGluZ0ZpbmlzaGVkID0gZmFsc2U7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgY3Jvd2RzYWxlQ29udHJhY3RzOwoKICBtb2RpZmllciBjYW5NaW50KCkgewogICAgcmVxdWlyZSghbWludGluZ0ZpbmlzaGVkKTsKICAgIF87CiAgfQoKICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciBjYW5NaW50IHJldHVybnMgKGJvb2wpIHsKCiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgIE1pbnQoX3RvLCBfYW1vdW50KTsKICAgIFRyYW5zZmVyKHRoaXMsIF90bywgX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcoKSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCkgewogICAgbWludGluZ0ZpbmlzaGVkID0gdHJ1ZTsKICAgIE1pbnRGaW5pc2hlZCgpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKfQoKY29udHJhY3QgQlNFVG9rZW4gaXMgTWludGFibGVUb2tlbiB7CgogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICIgQkxBQ0sgU05BSUwgRU5FUkdZICI7CgogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkJTRSI7CgogIHVpbnQzMiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKCiAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgYnVybmVyLCB1aW50MjU2IHZhbHVlKTsKCiAgLyoqCiAgICogQGRldiBCdXJucyBhIHNwZWNpZmljIGFtb3VudCBvZiB0b2tlbnMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIGJ1cm5lZC4KICAgKi8KICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgewogICAgcmVxdWlyZShfdmFsdWUgPiAwKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKICAgIC8vIG5vIG5lZWQgdG8gcmVxdWlyZSB2YWx1ZSA8PSB0b3RhbFN1cHBseSwgc2luY2UgdGhhdCB3b3VsZCBpbXBseSB0aGUKICAgIC8vIHNlbmRlcidzIGJhbGFuY2UgaXMgZ3JlYXRlciB0aGFuIHRoZSB0b3RhbFN1cHBseSwgd2hpY2ggKnNob3VsZCogYmUgYW4gYXNzZXJ0aW9uIGZhaWx1cmUKCiAgICBhZGRyZXNzIGJ1cm5lciA9IG1zZy5zZW5kZXI7CiAgICBiYWxhbmNlc1tidXJuZXJdID0gYmFsYW5jZXNbYnVybmVyXS5zdWIoX3ZhbHVlKTsKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKF92YWx1ZSk7CiAgICBCdXJuKGJ1cm5lciwgX3ZhbHVlKTsKICB9Cgp9Cgpjb250cmFjdCBSZWVudHJhbmN5R3VhcmQgewoKICAvKioKICAgKiBAZGV2IFdlIHVzZSBhIHNpbmdsZSBsb2NrIGZvciB0aGUgd2hvbGUgY29udHJhY3QuCiAgICovCiAgYm9vbCBwcml2YXRlIHJlbnRyYW5jeV9sb2NrID0gZmFsc2U7CgogIC8qKgogICAqIEBkZXYgUHJldmVudHMgYSBjb250cmFjdCBmcm9tIGNhbGxpbmcgaXRzZWxmLCBkaXJlY3RseSBvciBpbmRpcmVjdGx5LgogICAqIEBub3RpY2UgSWYgeW91IG1hcmsgYSBmdW5jdGlvbiBgbm9uUmVlbnRyYW50YCwgeW91IHNob3VsZCBhbHNvCiAgICogbWFyayBpdCBgZXh0ZXJuYWxgLiBDYWxsaW5nIG9uZSBub25SZWVudHJhbnQgZnVuY3Rpb24gZnJvbQogICAqIGFub3RoZXIgaXMgbm90IHN1cHBvcnRlZC4gSW5zdGVhZCwgeW91IGNhbiBpbXBsZW1lbnQgYQogICAqIGBwcml2YXRlYCBmdW5jdGlvbiBkb2luZyB0aGUgYWN0dWFsIHdvcmssIGFuZCBhIGBleHRlcm5hbGAKICAgKiB3cmFwcGVyIG1hcmtlZCBhcyBgbm9uUmVlbnRyYW50YC4KICAgKi8KICBtb2RpZmllciBub25SZWVudHJhbnQoKSB7CiAgICByZXF1aXJlKCFyZW50cmFuY3lfbG9jayk7CiAgICByZW50cmFuY3lfbG9jayA9IHRydWU7CiAgICBfOwogICAgcmVudHJhbmN5X2xvY2sgPSBmYWxzZTsKICB9Cn0KCmNvbnRyYWN0IFN0YXRlZnVsIHsKICBlbnVtIFN0YXRlIHsKICBJbml0LAogIFByZUljbywKICBQcmVJY29QYXVzZWQsCiAgcHJlSWNvRmluaXNoZWQsCiAgSUNPLAogIHNhbGVQYXVzZWQsCiAgQ3Jvd2RzYWxlRmluaXNoZWQsCiAgY29tcGFueVNvbGQKICB9CiAgU3RhdGUgcHVibGljIHN0YXRlID0gU3RhdGUuSW5pdDsKCiAgZXZlbnQgU3RhdGVDaGFuZ2VkKFN0YXRlIG9sZFN0YXRlLCBTdGF0ZSBuZXdTdGF0ZSk7CgogIGZ1bmN0aW9uIHNldFN0YXRlKFN0YXRlIG5ld1N0YXRlKSBpbnRlcm5hbCB7CiAgICBTdGF0ZSBvbGRTdGF0ZSA9IHN0YXRlOwogICAgc3RhdGUgPSBuZXdTdGF0ZTsKICAgIFN0YXRlQ2hhbmdlZChvbGRTdGF0ZSwgbmV3U3RhdGUpOwogIH0KfQoKCmNvbnRyYWN0IEZpYXRDb250cmFjdCB7CiAgZnVuY3Rpb24gRVRIKHVpbnQgX2lkKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiBVU0QodWludCBfaWQpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIEVVUih1aW50IF9pZCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gR0JQKHVpbnQgX2lkKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB1cGRhdGVkQXQodWludCBfaWQpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwp9Cgpjb250cmFjdCBDcm93ZHNhbGUgaXMgT3duYWJsZSwgUmVlbnRyYW5jeUd1YXJkLCBTdGF0ZWZ1bCB7CgogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHByZUlDT2ludmVzdG9yczsKICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIElDT2ludmVzdG9yczsKCiAgQlNFVG9rZW4gcHVibGljIHRva2VuIDsKICB1aW50MjU2IHB1YmxpYyBzdGFydElDTzsKICB1aW50MjU2IHB1YmxpYyBzdGFydFByZUlDTzsKICB1aW50MjU2IHB1YmxpYyBwZXJpb2Q7CiAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgcmF0ZUNlbnQgPSAyMDAwMDAwMDAwMDAwMDAwOwogIAogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHByZUlDT1Rva2VuSGFyZENhcCA9IDQ0MDAwMCAqIDEgZXRoZXI7CiAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgSUNPVG9rZW5IYXJkQ2FwID0gMTU0MDAwMCAqIDEgZXRoZXI7CiAgdWludDI1NiBwdWJsaWMgY29sbGVjdGVkQ2VudDsKICB1aW50MjU2IGRheSA9IDg2NDAwOyAvLyBzZWMgaW4gZGF5CiAgdWludDI1NiBwdWJsaWMgc29sZFRva2VuczsKICB1aW50MjU2IHB1YmxpYyBwcmljZVVTRDsgLy8gZm9ybWF0IDEgY2VudCA9IHByaWNlVVNEICogd2VpCgoKICBhZGRyZXNzIG11bHRpc2lnOwogIGFkZHJlc3MgcHVibGljIG9yYWNsZTsKCgogIG1vZGlmaWVyIG9ubHlPd25lck9yT3JhY2xlKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG9yYWNsZSB8fCBtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKICBmdW5jdGlvbiBjaGFuZ2VPcmFjbGUoYWRkcmVzcyBfb3JhY2xlKSBvbmx5T3duZXIgZXh0ZXJuYWwgewogICAgcmVxdWlyZShfb3JhY2xlICE9IDApOwogICAgb3JhY2xlID0gX29yYWNsZTsKICB9CgogIG1vZGlmaWVyIHNhbGVJc09uKCkgewogICAgcmVxdWlyZSgoc3RhdGUgPT0gU3RhdGUuUHJlSWNvIHx8IHN0YXRlID09IFN0YXRlLklDTykgJiYobm93IDwgc3RhcnRJQ08gKyBwZXJpb2QgfHwgbm93IDwgc3RhcnRQcmVJQ08gKyBwZXJpb2QpKTsKICAgIF87CiAgfQoKICBtb2RpZmllciBpc1VuZGVySGFyZENhcCgpIHsKICAgIHJlcXVpcmUoc29sZFRva2VucyA8IGdldEhhcmRjYXAoKSk7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gZ2V0SGFyZGNhcCgpIGludGVybmFsIHJldHVybnModWludDI1NikgewogICAgaWYgKHN0YXRlID09IFN0YXRlLlByZUljbykgewogICAgICByZXR1cm4gcHJlSUNPVG9rZW5IYXJkQ2FwOwogICAgfQogICAgZWxzZSB7CiAgICAgIGlmIChzdGF0ZSA9PSBTdGF0ZS5JQ08pIHsKICAgICAgICByZXR1cm4gSUNPVG9rZW5IYXJkQ2FwOwogICAgICB9CiAgICB9CiAgfQoKCiAgZnVuY3Rpb24gQ3Jvd2RzYWxlKGFkZHJlc3MgX211bHRpc2lnLCB1aW50MjU2IF9wcmljZVVTRCkgewogICAgcHJpY2VVU0QgPSBfcHJpY2VVU0Q7CiAgICBtdWx0aXNpZyA9IF9tdWx0aXNpZzsKICAgIHRva2VuID0gbmV3IEJTRVRva2VuKCk7CgogIH0KICBmdW5jdGlvbiBzdGFydENvbXBhbnlTZWxsKCkgb25seU93bmVyIHsKICAgIHJlcXVpcmUoc3RhdGU9PSBTdGF0ZS5Dcm93ZHNhbGVGaW5pc2hlZCk7CiAgICBzZXRTdGF0ZShTdGF0ZS5jb21wYW55U29sZCk7CiAgfQoKICAvLyBmb3IgbWludCB0b2tlbnMgdG8gVVNEIGludmVzdG9yCiAgZnVuY3Rpb24gdXNkU2FsZShhZGRyZXNzIF90bywgdWludCBfdmFsdWVVU0QpIG9ubHlPd25lciAgewogICAgdWludDI1NiB2YWx1ZUNlbnQgPSBfdmFsdWVVU0QgKiAxMDA7CiAgICB1aW50MjU2IHRva2Vuc0Ftb3VudCA9IHJhdGVDZW50Lm11bCh2YWx1ZUNlbnQpOwogICAgY29sbGVjdGVkQ2VudCArPSB2YWx1ZUNlbnQ7CiAgICB0b2tlbi5taW50KF90bywgdG9rZW5zQW1vdW50KTsKICAgIGlmIChzdGF0ZSA9PSBTdGF0ZS5JQ08gfHwgc3RhdGUgPT0gU3RhdGUucHJlSWNvRmluaXNoZWQpIHsKICAgICAgSUNPaW52ZXN0b3JzW190b10gKz0gdG9rZW5zQW1vdW50OwogICAgfSBlbHNlIHsKICAgICAgcHJlSUNPaW52ZXN0b3JzW190b10gKz0gdG9rZW5zQW1vdW50OwogICAgfQogICAgc29sZFRva2VucyArPSB0b2tlbnNBbW91bnQ7CiAgfQoKICBmdW5jdGlvbiBwYXVzZVNhbGUoKSBvbmx5T3duZXIgewogICAgcmVxdWlyZShzdGF0ZSA9PSBTdGF0ZS5JQ08pOwogICAgc2V0U3RhdGUoU3RhdGUuc2FsZVBhdXNlZCk7CiAgfQoKICBmdW5jdGlvbiBwYXVzZVByZVNhbGUoKSBvbmx5T3duZXIgewogICAgcmVxdWlyZShzdGF0ZSA9PSBTdGF0ZS5QcmVJY28pOwogICAgc2V0U3RhdGUoU3RhdGUuUHJlSWNvUGF1c2VkKTsKICB9CgogIGZ1bmN0aW9uIHN0YXJ0UHJlSWNvKHVpbnQyNTYgX3BlcmlvZCwgdWludDI1NiBfcHJpY2VVU0QpIG9ubHlPd25lciB7CiAgICByZXF1aXJlKF9wZXJpb2QgPiAwKTsKICAgIHJlcXVpcmUoc3RhdGUgPT0gU3RhdGUuSW5pdCB8fCBzdGF0ZSA9PSBTdGF0ZS5QcmVJY29QYXVzZWQpOwogICAgcHJpY2VVU0QgPSBfcHJpY2VVU0Q7CiAgICBzdGFydFByZUlDTyA9IG5vdzsKICAgIHBlcmlvZCA9IF9wZXJpb2QgKiBkYXk7CiAgICBzZXRTdGF0ZShTdGF0ZS5QcmVJY28pOwogIH0KCiAgZnVuY3Rpb24gZmluaXNoUHJlSWNvKCkgb25seU93bmVyIHsKICAgIHJlcXVpcmUoc3RhdGUgPT0gU3RhdGUuUHJlSWNvKTsKICAgIHNldFN0YXRlKFN0YXRlLnByZUljb0ZpbmlzaGVkKTsKICAgIGJvb2wgaXNTZW50ID0gbXVsdGlzaWcuY2FsbC5nYXMoMzAwMDAwMCkudmFsdWUodGhpcy5iYWxhbmNlKSgpOwogICAgcmVxdWlyZShpc1NlbnQpOwogIH0KCiAgZnVuY3Rpb24gc3RhcnRJY28odWludDI1NiBfcGVyaW9kLCB1aW50MjU2IF9wcmljZVVTRCkgb25seU93bmVyIHsKICAgIHJlcXVpcmUoX3BlcmlvZCA+IDApOwogICAgcmVxdWlyZShzdGF0ZSA9PSBTdGF0ZS5QcmVJY28gfHwgc3RhdGUgPT0gU3RhdGUuc2FsZVBhdXNlZCB8fCBzdGF0ZSA9PSBTdGF0ZS5wcmVJY29GaW5pc2hlZCk7CiAgICBwcmljZVVTRCA9IF9wcmljZVVTRDsKICAgIHN0YXJ0SUNPID0gbm93OwogICAgcGVyaW9kID0gX3BlcmlvZCAqIGRheTsKICAgIHNldFN0YXRlKFN0YXRlLklDTyk7CiAgfQoKICBmdW5jdGlvbiBzZXRQcmljZVVTRCh1aW50MjU2IF9wcmljZVVTRCkgb25seU93bmVyT3JPcmFjbGUgewogICAgcHJpY2VVU0QgPSBfcHJpY2VVU0Q7CiAgfQoKICBmdW5jdGlvbiBmaW5pc2hJQ08oKSBvbmx5T3duZXIgewogICAgcmVxdWlyZShzdGF0ZSA9PSBTdGF0ZS5JQ08pOwogICAgc2V0U3RhdGUoU3RhdGUuQ3Jvd2RzYWxlRmluaXNoZWQpOwogICAgYm9vbCBpc1NlbnQgPSBtdWx0aXNpZy5jYWxsLmdhcygzMDAwMDAwKS52YWx1ZSh0aGlzLmJhbGFuY2UpKCk7CiAgICByZXF1aXJlKGlzU2VudCk7CgogIH0KICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgb25seU93bmVyIHsKCiAgICB0b2tlbi5maW5pc2hNaW50aW5nKCk7CgogIH0KCiAgZnVuY3Rpb24gZ2V0RG91YmxlKCkgbm9uUmVlbnRyYW50IHsKICAgIHJlcXVpcmUgKHN0YXRlID09IFN0YXRlLklDTyB8fCBzdGF0ZSA9PSBTdGF0ZS5jb21wYW55U29sZCk7CiAgICB1aW50MjU2IGV4dHJhVG9rZW5zQW1vdW50OwogICAgaWYgKHN0YXRlID09IFN0YXRlLklDTykgewogICAgICBleHRyYVRva2Vuc0Ftb3VudCA9IHByZUlDT2ludmVzdG9yc1ttc2cuc2VuZGVyXTsKICAgICAgcHJlSUNPaW52ZXN0b3JzW21zZy5zZW5kZXJdID0gMDsKICAgICAgdG9rZW4ubWludChtc2cuc2VuZGVyLCBleHRyYVRva2Vuc0Ftb3VudCk7CiAgICAgIElDT2ludmVzdG9yc1ttc2cuc2VuZGVyXSArPSBleHRyYVRva2Vuc0Ftb3VudDsKICAgIH0KICAgIGVsc2UgewogICAgICBpZiAoc3RhdGUgPT0gU3RhdGUuY29tcGFueVNvbGQpIHsKICAgICAgICBleHRyYVRva2Vuc0Ftb3VudCA9IHByZUlDT2ludmVzdG9yc1ttc2cuc2VuZGVyXSArIElDT2ludmVzdG9yc1ttc2cuc2VuZGVyXTsKICAgICAgICBwcmVJQ09pbnZlc3RvcnNbbXNnLnNlbmRlcl0gPSAwOwogICAgICAgIElDT2ludmVzdG9yc1ttc2cuc2VuZGVyXSA9IDA7CiAgICAgICAgdG9rZW4ubWludChtc2cuc2VuZGVyLCBleHRyYVRva2Vuc0Ftb3VudCk7CiAgICAgIH0KICAgIH0KICB9CgoKICBmdW5jdGlvbiBtaW50VG9rZW5zKCkgcGF5YWJsZSBzYWxlSXNPbiBpc1VuZGVySGFyZENhcCBub25SZWVudHJhbnQgewogICAgdWludDI1NiB2YWx1ZVdFSSA9IG1zZy52YWx1ZTsKICAgIHVpbnQyNTYgdmFsdWVDZW50ID0gdmFsdWVXRUkuZGl2KHByaWNlVVNEKTsKICAgIHVpbnQyNTYgdG9rZW5zID0gcmF0ZUNlbnQubXVsKHZhbHVlQ2VudCk7CiAgICB1aW50MjU2IGhhcmRjYXAgPSBnZXRIYXJkY2FwKCk7CiAgICBpZiAoc29sZFRva2VucyArIHRva2VucyA+IGhhcmRjYXApIHsKICAgICAgdG9rZW5zID0gaGFyZGNhcC5zdWIoc29sZFRva2Vucyk7CiAgICAgIHZhbHVlQ2VudCA9IHRva2Vucy5kaXYocmF0ZUNlbnQpOwogICAgICB2YWx1ZVdFSSA9IHZhbHVlQ2VudC5tdWwocHJpY2VVU0QpOwogICAgICB1aW50MjU2IGNoYW5nZSA9IG1zZy52YWx1ZSAtIHZhbHVlV0VJOwogICAgICBib29sIGlzU2VudCA9IG1zZy5zZW5kZXIuY2FsbC5nYXMoMzAwMDAwMCkudmFsdWUoY2hhbmdlKSgpOwogICAgICByZXF1aXJlKGlzU2VudCk7CiAgICB9CiAgICB0b2tlbi5taW50KG1zZy5zZW5kZXIsIHRva2Vucyk7CiAgICBjb2xsZWN0ZWRDZW50ICs9IHZhbHVlQ2VudDsKICAgIHNvbGRUb2tlbnMgKz0gdG9rZW5zOwogICAgaWYgKHN0YXRlID09IFN0YXRlLlByZUljbykgewogICAgICBwcmVJQ09pbnZlc3RvcnNbbXNnLnNlbmRlcl0gKz0gdG9rZW5zOwogICAgfQogICAgZWxzZSB7CiAgICAgIElDT2ludmVzdG9yc1ttc2cuc2VuZGVyXSArPSB0b2tlbnM7CiAgICB9CiAgfQoKICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsKICAgIG1pbnRUb2tlbnMoKTsKICB9Cn0='.
	

]
