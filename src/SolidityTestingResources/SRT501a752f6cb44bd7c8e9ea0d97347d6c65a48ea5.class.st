Class {
	#name : #SRT501a752f6cb44bd7c8e9ea0d97347d6c65a48ea5,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT501a752f6cb44bd7c8e9ea0d97347d6c65a48ea5 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBFUkMyMCB7CgogICAgLy8gRXZlbnRzCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKCBhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKCiAgICAvLyBTdGF0ZWxlc3MgZnVuY3Rpb25zCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IHN1cHBseSk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoIGFkZHJlc3Mgd2hvICkgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQyNTYgdmFsdWUpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQgdmFsdWUpOwoKICAgIC8vIFN0YXRlZnVsIGZ1bmN0aW9ucwogICAgZnVuY3Rpb24gdHJhbnNmZXIoIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKCBhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKfQoKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cgp9CgoKLyoqCiAqIEB0aXRsZSBQYXVzYWJsZQogKiBAZGV2IEJhc2UgY29udHJhY3Qgd2hpY2ggYWxsb3dzIGNoaWxkcmVuIHRvIGltcGxlbWVudCBhbiBlbWVyZ2VuY3kgc3RvcCBtZWNoYW5pc20uCiAqLwpjb250cmFjdCBQYXVzYWJsZSBpcyBPd25hYmxlIHsKICBldmVudCBQYXVzZSgpOwogIGV2ZW50IFVucGF1c2UoKTsKCiAgYm9vbCBwdWJsaWMgcGF1c2VkID0gZmFsc2U7CgoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRvIG1ha2UgYSBmdW5jdGlvbiBjYWxsYWJsZSBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IGlzIG5vdCBwYXVzZWQuCiAgICovCiAgbW9kaWZpZXIgd2hlbk5vdFBhdXNlZCgpIHsKICAgIHJlcXVpcmUoIXBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBNb2RpZmllciB0byBtYWtlIGEgZnVuY3Rpb24gY2FsbGFibGUgb25seSB3aGVuIHRoZSBjb250cmFjdCBpcyBwYXVzZWQuCiAgICovCiAgbW9kaWZpZXIgd2hlblBhdXNlZCgpIHsKICAgIHJlcXVpcmUocGF1c2VkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gcGF1c2UsIHRyaWdnZXJzIHN0b3BwZWQgc3RhdGUKICAgKi8KICBmdW5jdGlvbiBwYXVzZSgpIG9ubHlPd25lciB3aGVuTm90UGF1c2VkIHB1YmxpYyB7CiAgICBwYXVzZWQgPSB0cnVlOwogICAgUGF1c2UoKTsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byB1bnBhdXNlLCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHVucGF1c2UoKSBvbmx5T3duZXIgd2hlblBhdXNlZCBwdWJsaWMgewogICAgcGF1c2VkID0gZmFsc2U7CiAgICBVbnBhdXNlKCk7CiAgfQp9CgoKCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICovCmxpYnJhcnkgU2FmZU1hdGggewoKCiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmIChhID09IDApIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KICAKfQoKCgovKioKICogQHRpdGxlIFdoaXRlbGlzdAogKiBAZGV2IFRoZSBXaGl0ZWxpc3QgY29udHJhY3QgaGFzIGEgd2hpdGVsaXN0IG9mIGFkZHJlc3NlcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbCBmdW5jdGlvbnMuCiAqIEBkZXYgVGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBXaGl0ZWxpc3QgaXMgT3duYWJsZSB7CiAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyB3aGl0ZWxpc3Q7CiAgCiAgZXZlbnQgV2hpdGVsaXN0ZWRBZGRyZXNzQWRkZWQoYWRkcmVzcyBhZGRyKTsKICBldmVudCBXaGl0ZWxpc3RlZEFkZHJlc3NSZW1vdmVkKGFkZHJlc3MgYWRkcik7CgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCB0aGF0J3Mgbm90IHdoaXRlbGlzdGVkLgogICAqLwogIG1vZGlmaWVyIG9ubHlXaGl0ZWxpc3RlZCgpIHsKICAgIHJlcXVpcmUod2hpdGVsaXN0W21zZy5zZW5kZXJdKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IGFkZCBhbiBhZGRyZXNzIHRvIHRoZSB3aGl0ZWxpc3QKICAgKiBAcGFyYW0gYWRkciBhZGRyZXNzCiAgICogQHJldHVybiB0cnVlIGlmIHRoZSBhZGRyZXNzIHdhcyBhZGRlZCB0byB0aGUgd2hpdGVsaXN0LCBmYWxzZSBpZiB0aGUgYWRkcmVzcyB3YXMgYWxyZWFkeSBpbiB0aGUgd2hpdGVsaXN0IAogICAqLwogIGZ1bmN0aW9uIGFkZEFkZHJlc3NUb1doaXRlbGlzdChhZGRyZXNzIGFkZHIpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyhib29sIHN1Y2Nlc3MpIHsKICAgIGlmICghd2hpdGVsaXN0W2FkZHJdKSB7CiAgICAgIHdoaXRlbGlzdFthZGRyXSA9IHRydWU7CiAgICAgIFdoaXRlbGlzdGVkQWRkcmVzc0FkZGVkKGFkZHIpOwogICAgICBzdWNjZXNzID0gdHJ1ZTsgCiAgICB9CiAgfQoKICAvKioKICAgKiBAZGV2IGFkZCBhZGRyZXNzZXMgdG8gdGhlIHdoaXRlbGlzdAogICAqIEBwYXJhbSBhZGRycyBhZGRyZXNzZXMKICAgKiBAcmV0dXJuIHRydWUgaWYgYXQgbGVhc3Qgb25lIGFkZHJlc3Mgd2FzIGFkZGVkIHRvIHRoZSB3aGl0ZWxpc3QsIAogICAqIGZhbHNlIGlmIGFsbCBhZGRyZXNzZXMgd2VyZSBhbHJlYWR5IGluIHRoZSB3aGl0ZWxpc3QgIAogICAqLwogIGZ1bmN0aW9uIGFkZEFkZHJlc3Nlc1RvV2hpdGVsaXN0KGFkZHJlc3NbXSBhZGRycykgb25seU93bmVyIHB1YmxpYyByZXR1cm5zKGJvb2wgc3VjY2VzcykgewogICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgYWRkcnMubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKGFkZEFkZHJlc3NUb1doaXRlbGlzdChhZGRyc1tpXSkpIHsKICAgICAgICBzdWNjZXNzID0gdHJ1ZTsKICAgICAgfQogICAgfQogIH0KCiAgLyoqCiAgICogQGRldiByZW1vdmUgYW4gYWRkcmVzcyBmcm9tIHRoZSB3aGl0ZWxpc3QKICAgKiBAcGFyYW0gYWRkciBhZGRyZXNzCiAgICogQHJldHVybiB0cnVlIGlmIHRoZSBhZGRyZXNzIHdhcyByZW1vdmVkIGZyb20gdGhlIHdoaXRlbGlzdCwgCiAgICogZmFsc2UgaWYgdGhlIGFkZHJlc3Mgd2Fzbid0IGluIHRoZSB3aGl0ZWxpc3QgaW4gdGhlIGZpcnN0IHBsYWNlIAogICAqLwogIGZ1bmN0aW9uIHJlbW92ZUFkZHJlc3NGcm9tV2hpdGVsaXN0KGFkZHJlc3MgYWRkcikgb25seU93bmVyIHB1YmxpYyByZXR1cm5zKGJvb2wgc3VjY2VzcykgewogICAgaWYgKHdoaXRlbGlzdFthZGRyXSkgewogICAgICB3aGl0ZWxpc3RbYWRkcl0gPSBmYWxzZTsKICAgICAgV2hpdGVsaXN0ZWRBZGRyZXNzUmVtb3ZlZChhZGRyKTsKICAgICAgc3VjY2VzcyA9IHRydWU7CiAgICB9CiAgfQoKICAvKioKICAgKiBAZGV2IHJlbW92ZSBhZGRyZXNzZXMgZnJvbSB0aGUgd2hpdGVsaXN0CiAgICogQHBhcmFtIGFkZHJzIGFkZHJlc3NlcwogICAqIEByZXR1cm4gdHJ1ZSBpZiBhdCBsZWFzdCBvbmUgYWRkcmVzcyB3YXMgcmVtb3ZlZCBmcm9tIHRoZSB3aGl0ZWxpc3QsIAogICAqIGZhbHNlIGlmIGFsbCBhZGRyZXNzZXMgd2VyZW4ndCBpbiB0aGUgd2hpdGVsaXN0IGluIHRoZSBmaXJzdCBwbGFjZQogICAqLwogIGZ1bmN0aW9uIHJlbW92ZUFkZHJlc3Nlc0Zyb21XaGl0ZWxpc3QoYWRkcmVzc1tdIGFkZHJzKSBvbmx5T3duZXIgcHVibGljIHJldHVybnMoYm9vbCBzdWNjZXNzKSB7CiAgICBmb3IgKHVpbnQyNTYgaSA9IDA7IGkgPCBhZGRycy5sZW5ndGg7IGkrKykgewogICAgICBpZiAocmVtb3ZlQWRkcmVzc0Zyb21XaGl0ZWxpc3QoYWRkcnNbaV0pKSB7CiAgICAgICAgc3VjY2VzcyA9IHRydWU7CiAgICAgIH0KICAgIH0KICB9Cgp9Cgpjb250cmFjdCBUYWxlbnRDb2luIGlzIEVSQzIwLCBPd25hYmxlLCBXaGl0ZWxpc3QsIFBhdXNhYmxlewogIAogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIGFkbWluczsgIC8vIE1hcHBpbmcgb2Ygd2hvIGlzIGFuIGFkbWluCiAgbWFwcGluZyggYWRkcmVzcyA9PiB1aW50MjU2ICkgYmFsYW5jZXM7CiAgbWFwcGluZyggYWRkcmVzcyA9PiBtYXBwaW5nKCBhZGRyZXNzID0+IHVpbnQyNTYgKSApIGFwcHJvdmFsczsKICBtYXBwaW5nKCBhZGRyZXNzID0+IHVpbnQyNTYgKSByYXRlbWFwcGluZzsKICAvL0hvdyBtdWNoIEVUSCBlYWNoIGFkZHJlc3MgaGFzIGludmVzdGVkCiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgaW52ZXN0ZWRBbW91bnRPZjsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICBhZGRyZXNzIHB1YmxpYyB3YWxsZXRBZGRyZXNzOwogIHVpbnQyNTYgcHVibGljIHN1cHBseTsKICBzdHJpbmcgcHVibGljIG5hbWU7CiAgdWludDI1NiBwdWJsaWMgZGVjaW1hbHM7CiAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CiAgdWludDI1NiBwdWJsaWMgcmF0ZTsKICB1aW50IHB1YmxpYyB3ZWlSYWlzZWQ7CiAgdWludCBwdWJsaWMgc29sZFRva2VuczsKICB1aW50IHB1YmxpYyBpbnZlc3RvckNvdW50OwogIAoKICBmdW5jdGlvbiBUYWxlbnRDb2luKGFkZHJlc3MgX3dhbGxldEFkZHJlc3MsIHVpbnQyNTYgX3N1cHBseSwgc3RyaW5nIF9uYW1lLCB1aW50MjU2IF9kZWNpbWFscywgc3RyaW5nIF9zeW1ib2wsIHVpbnQyNTYgX3JhdGUgKSBwdWJsaWMgewogICAgcmVxdWlyZShfd2FsbGV0QWRkcmVzcyAhPSAweDApOwogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBfc3VwcGx5OwogICAgcmF0ZW1hcHBpbmdbbXNnLnNlbmRlcl0gPSBfcmF0ZTsKICAgIHN1cHBseSA9IF9zdXBwbHk7CiAgICBuYW1lID0gX25hbWU7CiAgICBkZWNpbWFscyA9IF9kZWNpbWFsczsKICAgIHN5bWJvbCA9IF9zeW1ib2w7CiAgICByYXRlID0gX3JhdGU7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICBhZG1pbnNbbXNnLnNlbmRlcl0gPSB0cnVlOwogICAgd2FsbGV0QWRkcmVzcyA9IF93YWxsZXRBZGRyZXNzOwogIH0KICAKICAgIGZ1bmN0aW9uICgpIGV4dGVybmFsIHBheWFibGUgewogICAgICAgIGNyZWF0ZVRva2VucygpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBjcmVhdGVUb2tlbnMoKSBwdWJsaWMgcGF5YWJsZSBvbmx5V2hpdGVsaXN0ZWQoKSB3aGVuTm90UGF1c2VkKCl7CiAgICByZXF1aXJlKG1zZy52YWx1ZSA+MCk7CiAgICBpZiAoaW52ZXN0ZWRBbW91bnRPZlttc2cuc2VuZGVyXSA9PSAwKSB7CiAgICAgICAgICAgIGludmVzdG9yQ291bnQrKzsKICAgICAgICB9CiAgICB1aW50MjU2IHRva2VucyA9IG1zZy52YWx1ZS5tdWwocmF0ZSk7ICAKICAgIHJlcXVpcmUoc3VwcGx5ID49IHRva2VucyAmJiBiYWxhbmNlc1tvd25lcl0gPj0gdG9rZW5zKTsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKHRva2Vucyk7CiAgICBiYWxhbmNlc1tvd25lcl0gPSBiYWxhbmNlc1tvd25lcl0uc3ViKHRva2Vucyk7IAogICAgd2FsbGV0QWRkcmVzcy50cmFuc2Zlcihtc2cudmFsdWUpOyAKICAgIFRyYW5zZmVyKG93bmVyLCBtc2cuc2VuZGVyLCB0b2tlbnMpOwogICAgaW52ZXN0ZWRBbW91bnRPZlttc2cuc2VuZGVyXSA9IGludmVzdGVkQW1vdW50T2ZbbXNnLnNlbmRlcl0uYWRkKG1zZy52YWx1ZSk7CiAgICB3ZWlSYWlzZWQgPSB3ZWlSYWlzZWQuYWRkKG1zZy52YWx1ZSk7CiAgICBzb2xkVG9rZW5zID0gc29sZFRva2Vucy5hZGQodG9rZW5zKTsKICAgIH0KICAgIAogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQpIHsKICAgIHJldHVybiBzdXBwbHk7CiAgfQoKICBmdW5jdGlvbiBiYWxhbmNlT2YoIGFkZHJlc3MgX3dobyApIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50KSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX3dob107CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlciggYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBvbmx5V2hpdGVsaXN0ZWQoKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBpZiAoaW52ZXN0ZWRBbW91bnRPZltfdG9dID09IDApIHsKICAgICAgICBpbnZlc3RvckNvdW50Kys7CiAgICB9CiAgICByZXF1aXJlKF90byAhPSAweDApOwogICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCAmJiBzdXBwbHkgPj0gX3ZhbHVlKTsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKCBtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSApOwogICAgc29sZFRva2VucyA9IHNvbGRUb2tlbnMuYWRkKF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbSggYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBvbmx5V2hpdGVsaXN0ZWQoKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXF1aXJlKF9mcm9tICE9IDB4MCAmJiBfdG8gIT0gMHgwKTsKICAgIHJlcXVpcmUoYXBwcm92YWxzW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwKTsKICAgIGFwcHJvdmFsc1tfZnJvbV1bbXNnLnNlbmRlcl0gPSBhcHByb3ZhbHNbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2ZlciggX2Zyb20sIF90bywgX3ZhbHVlICk7CiAgICBzb2xkVG9rZW5zID0gc29sZFRva2Vucy5hZGQoX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgb2spIHsKICAgIHJlcXVpcmUoX3NwZW5kZXIgIT0gMHgwKTsKICAgIGFwcHJvdmFsc1ttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbCggbXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSApOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50KSB7CiAgICByZXR1cm4gYXBwcm92YWxzW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCiAgZnVuY3Rpb24gaW5jcmVhc2VTdXBwbHkodWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3RvKSBvbmx5T3duZXIoKSBwdWJsaWMgcmV0dXJucyhib29sIHN1Y2Nlc3MpIHsKICAgIHJlcXVpcmUoX3RvICE9IDB4MCk7CiAgICBzdXBwbHkgPSBzdXBwbHkuYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKDAsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gZGVjcmVhc2VTdXBwbHkodWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX2Zyb20pIG9ubHlPd25lcigpIHB1YmxpYyByZXR1cm5zKGJvb2wgc3VjY2VzcykgewogICAgcmVxdWlyZShfZnJvbSAhPSAweDApOwogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgc3VwcGx5ID0gc3VwcGx5LnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIDAsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGluY3JlYXNlUmF0ZSh1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG8pIG9ubHlPd25lcigpIHB1YmxpYyByZXR1cm5zKGJvb2wgc3VjY2VzcykgewogICAgcmVxdWlyZShfdG8gIT0gMHgwKTsKICAgIHJhdGUgPSByYXRlLmFkZChfdmFsdWUpOwogICAgcmF0ZW1hcHBpbmdbX3RvXSA9IHJhdGVtYXBwaW5nW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2ZlcigwLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGRlY3JlYXNlUmF0ZSh1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfZnJvbSkgb25seU93bmVyKCkgcHVibGljIHJldHVybnMoYm9vbCBzdWNjZXNzKSB7CiAgICByZXF1aXJlKF9mcm9tICE9IDB4MCk7CiAgICByYXRlbWFwcGluZ1tfZnJvbV0gPSByYXRlbWFwcGluZ1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICByYXRlID0gcmF0ZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCAwLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQogIAogIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIG9ubHlPd25lcigpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGFwcHJvdmFsc1ttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBhcHByb3ZhbHNbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYXBwcm92YWxzW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgb25seU93bmVyKCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgdWludCBvbGRWYWx1ZSA9IGFwcHJvdmFsc1ttc2cuc2VuZGVyXVtfc3BlbmRlcl07CiAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgIGFwcHJvdmFsc1ttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfSBlbHNlIHsKICAgICAgYXBwcm92YWxzW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgIH0KICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhcHByb3ZhbHNbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KCn0='.
	

]
