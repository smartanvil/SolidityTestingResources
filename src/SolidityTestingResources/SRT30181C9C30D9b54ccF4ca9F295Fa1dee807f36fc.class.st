Class {
	#name : #SRT30181C9C30D9b54ccF4ca9F295Fa1dee807f36fc,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT30181C9C30D9b54ccF4ca9F295Fa1dee807f36fc >> base64 [
	^ 'LyoKCiAgICAsLS0tLS4uICAgICAgCiAgIC8gICAvICAgXCAgICAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogIC8gICAuICAgICA6ICAgICAgICAgICAqUXdveW4gRGlnaXRhbCBJbnZlc3RtZW50cywgTExDICoKIC4gICAvICAgOy4gIFwgICAgICAgICAgKkNvcm5lcnN0b25lIHZlcnNpb24gMC4xICAgICAgICAqCi4gICA7ICAgLyAgYCA7ICAgICAgICAgICpEYW5pZWwgUGl0dG1hbiwgQ0VPICAgICAgICAgICAgKgo7ICAgfCAgOyBcIDsgfCAgICAgICAgICAqRGVjZW1iZXIgMjAxNyAgICAgICAgICAgICAgICAgICoKfCAgIDogIHwgOyB8ICcgICAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCi4gICB8ICAnICcgJyA6ICAgCicgICA7ICBcOyAvICB8ICAgCiBcICAgXCAgJywgIC4gXCAgCiAgOyAgIDogICAgICA7IHwgCiAgIFwgICBcIC4nYC0tIiAKCgpUb2tlbml6ZWQgQ29tcGFueSBFcXVpdHkgUmlnaHQgVHJhbnNmZXIgQWdyZWVtZW50CgoKClN1YmplY3QgdG8gYW4gZXhpc3RpbmcgUmlnaHQgb2YgT3duZXJzaGlwIFRva2VuIFRyYW5zZmVyIEFncmVlbWVudCBvciBvdGhlcndpc2UgcHJvY2xhaW1lZCBwb3NzZXNzaW9uIG9mIG93bmVyc2hpcCBvZiB0aGUgdW5kZXJseWluZyAKCmFzc2V0ICgidGhlIENvbXBhbnkgRXF1aXR5IiksIHJlZmVyZW5jZWQgaGVyZWFmdGVyIGFzICJQMDAzXzI1NzkzIiwgUXdveW4gRGlnaXRhbCBJbnZlc3RtZW50cywgTExDLCAoaGVyZWFmdGVyIHRoZSDigJxUb2tlbiBJc3N1ZXLigJ0pIAoKKHRoZSDigJxQdXJjaGFzZXLigJ0gb3IgdGhlIOKAnGxpZW4gaG9sZGVy4oCdKSBoZXJlYnkgYWdyZWVzIHRvIHRva2VuaXplIGhpcyBvd25lcnNoaXAgb2YgIHRoZSBDb21wYW55IEVxdWl0eSBSaWdodCBncmFudGVkIHVuZGVyIHRoZSAKCkFncmVlbWVudCBQMDAzXzI1NzkzLCAodGhlIOKAnFRva2VuaXplZCBSaWdodCB0byBDb21wYW55IEVxdWl0eSBSZXZlbnVl4oCdKS4gCgpVcGxvYWRpbmcgdGhpcyBBZ3JlZW1lbnQgb24gdGhlIGJsb2NrY2hhaW4gd2lsbCBiZSBoYXNoZWQgYW5kIHJlZmVycmVkIGluIGNvZGUgb2YgYSBTbWFydCBDb250cmFjdCBnZW5lcmF0ZWQgYnkgdGhlIFRva2VuIElzc3Vlci4gCgoxLiBTQUxFIE9GIFRIRSBUT0tFTklaRUQgUklHSFQuIAoKMS4xLiBUaGUgVG9rZW4gSXNzdWVyIGhlcmVieSBhZ3JlZXMgdG8gaXNzdWUgMTAwMDAwMCBUb2tlbihzKSBhdCB0aGUgcHJpY2Ugb2YgYXMgLjEgZXRoZXIgMjAxNy0xMi0wNiBvbiB0aGUgYmxvY2tjaGFpbiBvZiB0aGUgVG9rZW4gCgpJc3N1ZXLigJlzIGNob2ljZSAoRXRoZXJldW0pLiAKCjEuMiAgVGhlIFRva2VuIElzc3VlciBoZXJlYnkgcmVzZXJ2ZXMgdGhlIHJpZ2h0IHRvIGlzc3VlIG1vcmUgdG9rZW5zIGRlcGVuZGVudCBvbiBtYXJrZXQgZGVtYW5kLgoKMi4gVE9LRU4gQlVZRVLigJlTIFBBWU1FTlQgQVMgQ09ORElUSU9OIFBSRUNFREVOVC4gCgoyLjEuIFRva2VuIEJ1eWVy4oCZcyAoZGVmaW5lZCBpbiBTZWN0aW9uIDE0KSBwYXltZW50IGZvciB0aGUgVG9rZW4ocykgaXNzdWVkIGJ5IFRva2VuIElzc3VlciB1bmRlciBTZWN0aW9uIDEgaXMgYSBjb25kaXRpb24gcHJlY2VkZW50IHRvIAoKdGhlIGZvcm1hdGlvbiBvZiB0aGlzIEFncmVlbWVudC4gVGhlcmUgd2lsbCBubyBiaW5kaW5nIEFncmVlbWVudCB1bnRpbCB0aGUgcGF5bWVudCBmcm9tIHRoZSBUb2tlbiBCdXllciBpcyBhcHBlYXJlZCBpbiB0aGUgVG9rZW4gCgpJc3N1ZXLigJlzIGV0aGVyZXVtLXdhbGxldCBhY2NvdW50LiAKCjIuMi4gTGlrZXdpc2UsIHRoZXJlIHdpbGwgYmUgbm8gYmluZGluZyBhZ3JlZW1lbnQgd2l0aCBhbnkgc3Vic2VxdWVudCB0b2tlbiBidXllciB1bmxlc3MgdGhlIHBheW1lbnQgZm9yIHRoZSBUb2tlbiBjcmVhdGVkIGhlcmV1bmRlciAKCm1hZGUgdG8gdGhlIFRva2VuIEhvbGRlciBhdCB0aGUgbW9tZW50IG9mIHNlbGxpbmcgdGhlIFRva2VuLiAKCjMuIFNNQVJUIENPTlRSQUNULiBGb3IgdGhlIHB1cnBvc2Ugb2YgcmVjb3JkaW5nIHRoZSBvd25lcnNoaXAgb2YgdGhlIENvbXBhbnkgRXF1aXR5IFJpZ2h0IGNyZWF0ZWQgdW5kZXIgdGhlIEFncmVlbWVudCBQMDAzXzI1NzkzLCAKClRva2VuIElzc3VlciBnZW5lcmF0ZXMgYSBTbWFydCBDb250cmFjdC4gVGhpcyBTbWFydCBDb250cmFjdCBmYWNpbGl0YXRlcyB0aGUgZGlyZWN0IHRyYW5zZmVyIG9mIHRoZSBDb21wYW55IEVxdWl0eSBSaWdodCBjcmVhdGVkIHRvIGFuIAoKaW5kaXZpZHVhbCBvciBhbiBlbnRpdHkgdGhhdCBtYWtlcyB0aGUgcGF5bWVudCBmb3IgdGhlIFRva2VuIHJlcHJlc2VudGluZyB0aGUgb3duZXJzaGlwIG9mIHRoZSBDb21wYW55IEVxdWl0eSBSaWdodCBjcmVhdGVkIHVuZGVyIHRoZSAKCkFncmVlbWVudCBLMDAzLTIwMTcgKHRoZSDigJxUb2tlbiBIb2xkZXLigJ0pLiAKCjQuIFRPS0VOIEhPTERFUuKAmVMgUklHSFQuIAoKNC4xLiBTdWJqZWN0IHRvIHRoZSBBZ3JlZW1lbnQgUDAwM18yNTc5MywgYWxsIFRva2VuIEhvbGRlcihzKSB3aWxsIGJlIGdyYW50ZWQgdGhlIHJpZ2h0IHRvIHNldCBhIG5ldyBwcmljZSBmb3IgdGhlIHB1cmNoYXNlZCB0b2tlbiAKCmhlcmV1bmRlciwgcHJvdmlkZWQgdGhhdCBoZS9zaGUgY2Fubm90IGludGVyZmVyZSBvciBlbmZvcmNlIGluIHRoZSBDb21wYW55IEVxdWl0eSBPd25lcuKAmXMgZGVjaXNpb24gcmVnYXJkaW5nIHRoZSBDb21wYW55IEVxdWl0eSAKCnN1YmplY3QgdG8gdGhlIEFncmVlbWVudCBQMDAzXzI1NzkzLiAKCjQuMi4gU3ViamVjdCB0byB0aGUgQWdyZWVtZW50IFAwMDNfMjU3OTMsIFRva2VuIEhvbGRlcihzKeKAmXMgQ29tcGFueSBFcXVpdHkgUmlnaHQgZG9lcyBub3QgY3JlYXRlIGFueSB0eXBlIG9mIGEgbGllbiBvbiB0aGUgQ29tcGFueSAKCkVxdWl0eSBzdWJqZWN0IHRvIHRoZSBBZ3JlZW1lbnQgUDAwM18yNTc5My4gVG9rZW4gSG9sZGVy4oCZcyBDb21wYW55IEVxdWl0eSBSaWdodCB3aWxsIGJlIGxpbWl0ZWQgdG8gdGhlIFJpZ2h0IHRvIGNsYWltIHRoZSBhbW91bnQgb2YgCgp0aGUgQ29tcGFueSBFcXVpdHkgSW5jb21lIHByb21pc2VkIGJ5IHRoZSBDb21wYW55IEVxdWl0eSBPd25lciB0byBUb2tlbiBJc3N1ZXIgdW5kZXIgdGhlIEFncmVlbWVudCBQMDAzXzI1NzkzLiAKCjUuIFJJR0hUIE9XTkVS4oCZUyBXQVJSQU5USUVTIEFORCBEVVRJRVMuIFRva2VuIElzc3VlciBhbmQgc3Vic2VxdWVudCBUb2tlbiBIb2xkZXIgaGVyZWJ5IHJlcHJlc2VudCBhbmQgd2FycmFudCB0aGF0LCB0byB0aGUgYmVzdCBvZiAKCmhpcy9oZXIga25vd2xlZGdlLCBoZS9zaGUgaXMgdGhlIHNvbGUgbGF3ZnVsIG93bmVyIG9mIHRoZSB0b2tlbml6ZWQgQ29tcGFueSBFcXVpdHkgUmlnaHQgY3JlYXRlZCB1bmRlciB0aGUgQWdyZWVtZW50IFAwMDNfMjU3OTMgYW5kIAoKZnJlZSBhbmQgY2xlYXIgb2YgYW55IGxpZW5zIGFuZCBlbmN1bWJyYW5jZXMgZXhjZXB0IHRoZSBvbmVzIGRpc2Nsb3NlZCB0byBUb2tlbiBJc3N1ZXIgZnJvbSB0aGUgQ29tcGFueSBFcXVpdHkgT3duZXIgdW5kZXIgdGhlIAoKQWdyZWVtZW50IFAwMDNfMjU3OTMuIFRva2VuIElzc3VlciBhbmQgZWFjaCBzdWJzZXF1ZW50IFRva2VuIEhvbGRlcihzKSBoYXZlIGZ1bGwgcmlnaHQsIHBvd2VyIGFuZCBhdXRob3JpdHkgdG8gc2VsbCBhbmQgdHJhbnNmZXIgCgpoaXMvaGVyIFJpZ2h0IGNyZWF0ZWQgdW5kZXIgdGhlIEFncmVlbWVudCBQMDAzXzI1NzkzLiBUb2tlbiBJc3N1ZXIgYW5kIGVhY2ggc3Vic2VxdWVudCBUb2tlbiBIb2xkZXIgYWxzbyB3YXJyYW50IHRoYXQgaGUvc2hlIGRvZXMgbm90IAoKY3VycmVudGx5IGtub3cgb2YgYW5kIGhhcyBubyByZWFzb24gdG8ga25vdyBvZiBhbnkgdGhpcmQgcGFydHkgY2xhaW0gdG8gYW55IHJpZ2h0LCB0aXRsZSwgb3IgdXNlIG9mIHRoZSBSaWdodCBjcmVhdGVkIHVuZGVyIHRoZSAKCkFncmVlbWVudCBQMDAzXzI1NzkzIGV4Y2VwdCB0aGUgb25lcyBkaXNjbG9zZWQgdG8gVG9rZW4gSXNzdWVyIGZyb20gdGhlIENvbXBhbnkgRXF1aXR5IE93bmVyIHVuZGVyIHRoZSBBZ3JlZW1lbnQgUDAwM18yNTc5My4gVG9rZW4gCgpJc3N1ZXIgYW5kIGVhY2ggc3Vic2VxdWVudCBUb2tlbiBIb2xkZXIgZGlkIG5vdCBhbmQgd2lsbCBub3QgZXhlY3V0ZSBhbnkgYWdyZWVtZW50IGluIGNvbmZsaWN0IHdpdGggdGhpcyBBZ3JlZW1lbnQuIE9uY2UgYSB0b2tlbiAKCnB1cmNoYXNlciBtYWtlcyB0aGUgZnVsbCBwYXltZW50IHB1cnN1YW50IHRvIFNlY3Rpb24gMSwgVG9rZW4gSXNzdWVyIHdpbGwgdGFrZSBhbnkgYWN0aW9ucyB0aGF0IG1heSBiZSBuZWNlc3Nhcnkgb3IgZGVzaXJhYmxlIHRvIAoKcHJvdGVjdCBhbmQgcGVyZmVjdCB0aGUgUHVyY2hhc2Vy4oCZcyBDb21wYW55IEVxdWl0eSBSaWdodCBjcmVhdGVkIHVuZGVyIHRoZSBBZ3JlZW1lbnQgUDAwM18yNTc5My4gCgo2LiBBU1NVTVBUSU9OIE9GIFJJU0suIAoKRWFjaCBUb2tlbiBIb2xkZXIgYmVhcnMgdGhlIHJpc2sgb2YgbG9zcyB3aGVuIHB1cmNoYXNpbmcgYSBUb2tlbiByZXByZXNlbnRpbmcgdGhlIG93bmVyc2hpcCBvZiB0aGUgQ29tcGFueSBFcXVpdHkgUmlnaHQgY3JlYXRlZCB1bmRlciAKCnRoZSBBZ3JlZW1lbnQgUDAwM18yNTc5My4gVG9rZW4gSXNzdWVyIHdpbGwgbm90IGJlIHJlc3BvbnNpYmxlIGZvciBhbmQgd2lsbCBub3QgYmUgbGlhYmxlIGZvciBhbnkgbG9zcyBhcmlzaW5nIGZyb206IChhKSBmYWlsdXJlIG9yIAoKbWFsZnVuY3Rpb24gb2YgaGFyZHdhcmUsIHNvZnR3YXJlLCBzZXJ2ZXIsIGFuZCBpbnRlcm5ldCBjb25uZWN0aW9uczsgKGIpIG1hbGljaW91cyBzb2Z0d2FyZSBpbnRyb2R1Y3Rpb247IChjKSB0aGUgdGhpcmQgcGFydHkgbWF5IAoKb2J0YWluIHVuYXV0aG9yaXplZCBhY2Nlc3MgdG8gaW5mb3JtYXRpb24gc3RvcmVkIHdpdGhpbiBidXllcuKAmXMgYWNjb3VudCwgaW5jbHVkaW5nLCBidXQgbm90IGxpbWl0ZWQgdG8gQnV5ZXLigJlzIHN0b3JhZ2UgYWRkcmVzcyBhbmQgCgpwcml2YXRlIGtleTsgKGQpIGZvcmdvdHRlbiBwYXNzd29yZHM7IGFuZCAoZSkgaW5jb3JyZWN0bHkgY29uc3RydWN0ZWQgdHJhbnNhY3Rpb25zIG9yIG1pc3R5cGVkIGFjY291bnQgYWRkcmVzcy4gCgo3LiBESVNDTEFJTUVSLgoKVGhpcyBUb2tlbml6ZWQgQ29tcGFueSBFcXVpdHkgUmlnaHQgc3ViamVjdCB0byB0aGUgQWdyZWVtZW50IFAwMDNfMjU3OTMgaXMgbm90IGEgY29uc3VtZXIgZ29vZCBhbmQgc29sZCBvbiBhbiDigJxhcyBpc+KAnSBhbmQgCgrigJxhcy1hdmFpbGFibGXigJ0gYmFzaXMuIFRva2VuIEhvbGRlcihzKSBiZWFycyB0aGUgZW50aXJlIHJpc2ssIFRva2VuIElzc3VlciBzZWxscyB0aGUgdG9rZW5pemVkIENvbXBhbnkgRXF1aXR5IFJpZ2h0IHRvIFRva2VuIEhvbGRlcihzKSAKCndpdGhvdXQgYW55IHdhcnJhbnR5IG9mIGZpdG5lc3MgZm9yIGEgcGFydGljdWxhciBwdXJwb3NlLCBhbmQgVG9rZW4gSG9sZGVyKHMpIGFja25vd2xlZGdlcyB0aGF0IG5vIHdhcnJhbnQgb2YgZml0bmVzcyBjb3VsZCBiZSBvZmZlcmVkCgpiZWNhdXNlIG9mIHRoZSBtYW55IGZ1dHVyZSB0ZWNobmljYWwgYW5kIGxlZ2FsIHVuY2VydGFpbnRpZXMgcmVnYXJkaW5nIHRoZSBUb2tlbml6ZWQgQ29tcGFueSBFcXVpdHkgUmlnaHQuIAoKOC4gVEFYLgoKVG9rZW4gSXNzdWVyIGlzIG5vdCByZXNwb25zaWJsZSBmb3IgYW55IHRheGVzIG9yIGFueSBvdGhlciBjb3N0cyByZWxhdGVkIHRvIHB1cmNoYXNpbmcgdGhlIFRva2VuaXplZCBDb21wYW55IEVxdWl0eSBSaWdodCBjcmVhdGVkIAoKdW5kZXIgdGhlIEFncmVlbWVudCBQMDAzXzI1NzkzLiAKCjkuIE5PIERBTUFHRVMuCgpUb2tlbiBJc3N1ZXIgd2lsbCBuZXZlciBiZSBsaWFibGUgdG8gVG9rZW4gSG9sZGVyKHMpIGZvciBjb25zZXF1ZW50aWFsIGFuZCBhbnkga2luZCBvZiBkYW1hZ2VzLCBpbmNsdWRpbmcgYnV0IG5vdCBsaW1pdGVkIHRvIGxvc3QgCgpwcm9maXRzLiAKCjEwLiBNQVJLRVQgUklTSy4KCkFsbCBUb2tlbiBIb2xkZXIocykgdW5kZXJzdGFuZHMgdGhhdCB0aGlzIFRva2VuaXplZCBDb21wYW55IEVxdWl0eSBSaWdodCBpcyBhIG5ldyBhbmQgcmVsYXRpdmVseSB1bnRlc3RlZCBleGNoYW5nZSBtZWRpdW0uIFRva2VuIAoKSG9sZGVyKHMpIHRoZXJlZm9yZSB1bmRlcnN0YW5kcyB0aGF0IFRva2VuIElzc3VlciBjYW5ub3QgcHJlZGljdCBob3cgdGhlIHZhbHVlIG9mIHRoZSBUb2tlbml6ZWQgUmlnaHQgd2lsbCBjaGFuZ2UsIHRoZSBjb25zdW1lciAKCmRlbWFuZCBmb3IgdGhlIFRva2VuaXplZCBSaWdodCwgdGVjaG5pY2FsIGRpZmZpY3VsdGllcyBpbiBvciBtb2RpZmljYXRpb24gdG8gdGhlIHBlZXItdG8tcGVlciBibG9ja2NoYWluIG5ldHdvcmssIGNoYW5nZSBvZiAKCnJlZ3VsYXRpb25zLCBhbmQgYWxsIG90aGVyIG9ic3RhY2xlcyB0aGF0IGEgcGVlci10by1wZWVyIGJsb2NrY2hhaW4gbmV0d29yayBtaWdodCBmYWNlLiBBbGwgVG9rZW4gSG9sZGVyKHMpIGFmZmlybWF0aXZlbHkgcmVwcmVzZW50cyAKCnRoYXQgaGUvc2hlIGlzIGEgc29waGlzdGljYXRlZCBibG9ja2NoYWluIHVzZXJzIGFuZCB0aGVyZWZvcmUga25vd2luZ2x5IGFzc3VtZXMgYWxsIGtub3duIGFuZCB1bmtub3duIHJpc2sgb2YgbG9zcy4gQWxsIFRva2VuIEhvbGRlcihzKQoKaGFzIG5vdCByZWNvdXJzZSB3aGF0c29ldmVyIGFnYWluc3QgVG9rZW4gSXNzdWVyIGZvciBkYW1hZ2VzIG9yIGxpYWJpbGl0eSBzdWZmZXJlZCBieSBUb2tlbiBIb2xkZXIocykgZHVlIHRvIHRoZSBtYXJrZXQgY29uZGl0aW9uIG9yIAoKd2hhdHNvZXZlciBjYXVzZXMuIAoKMTEuIFJJU0sgT0YgRklOQU5DSUFMIFJFR1VMQVRJT04uCgpBbGwgVG9rZW4gSG9sZGVyKHMpIHVuZGVyc3RhbmRzIHRoYXQgdGhlIFRva2VuaXplZCBDb21wYW55IEVxdWl0eSBSaWdodCBpcyBhIHJlbGF0aXZlbHkgbmV3IHRlY2hub2xvZ3kgYW5kIG5vIG9uZSBjYW4gcHJlZGljdCBob3cgdGhlIAoKZ292ZXJubWVudCBmb3IgZWFjaCBjb3VudHJ5IG1heSBhcHBseSBhbmQgZW5mb3JjZSB0aGUgZXhpc3RpbmcgbGF3cyBvciByZWd1bGF0ZSB0aGUgVG9rZW5pemVkIFJpZ2h0IG9yIG90aGVyIHBlZXItdG8tcGVlciBibG9ja2NoYWluIAoKYmFzZWQgZXhjaGFuZ2UgdGVjaG5vbG9naWVzIGluIHRoZSBmdXR1cmUuIEFsbCBUb2tlbiBIb2xkZXIocykgdW5kZXJzdGFuZHMgdGhhdCB0aGVyZSBpcyBhIGhpZ2ggbGV2ZWwgb2YgdW5jZXJ0YWludHksIGFuZCBhbGwgVG9rZW4gCgpIb2xkZXIocykgYXNzdW1lcyB0aGF0IGFsbCBmaW5hbmNpYWwgcmVndWxhdG9yeSByaXNrIGluaGVyZW50IGluIG9wZXJhdGluZyBhbmQgdHJhbnNmZXJyaW5nIHRoZSBUb2tlbml6ZWQgUmlnaHQuIAoKQWxsIFRva2VuIEhvbGRlcihzKSBoYXMgbm8gcmVjb3Vyc2Ugd2hhdHNvZXZlciBhZ2FpbnN0IFRva2VuIElzc3VlciBmb3IgZGFtYWdlcywgY2l2aWwgYW5kIGNyaW1pbmFsLCBzdWZmZXJlZCBieSBlYWNoIFRva2VuIEhvbGRlcihzKSAKCmR1ZSB0byByZWd1bGF0b3J5IGVuZm9yY2VtZW50LiBUb2tlbiBJc3N1ZXIgZG9lcyBub3QgYW5kIGNhbm5vdCB3YXJyYW50IHRoYXQgdGhlIGV4ZXJjaXNlIG9yIHRyYW5zZmVyIG9mIHRoZSBUb2tlbml6ZWQgQ29tcGFueSBFcXVpdHkgCgpSaWdodCBpcyBsZWdhbCBpbiBhbGwgc3BlY2lmaWMganVyaXNkaWN0aW9uIG9mIGVhY2ggY291bnRyeS4gVG9rZW4gSXNzdWVyIGhhcyBub3QgZHV0eSB0byBhZHZpc2Ugb3Igd2FybiB0byBlYWNoIFRva2VuIEhvbGRlcihzKSBhbmQgCgplYWNoIFRva2VuIEhvbGRlcihzKSB3aWxsIG5vdCBhZHZpc2Ugb3Igd2FybiBUb2tlbiBJc3N1ZXIgYWJvdXQgYW55IHBhcnRpY3VsYXIgbGVnYWwgb3IgcmVndWxhdG9yeSByZXF1aXJlbWVudChzKS4gRWFjaCBUb2tlbiBIb2xkZXIocykKCmlzIHNvbGVseSBvYmxpZ2F0ZWQgdG8gdW5kZXJzdGFuZCB0aGUgbGF3cyBhbmQgcmVndWxhdGlvbnMgb2YgaXRzIGxvY2FsIGp1cmlzZGljdGlvbiBiZWZvcmUgZXhlcmNpc2luZywgc2VsbGluZywgb3IgcHVyY2hhc2luZyB0aGUgCgpUb2tlbml6ZWQgUmlnaHQsIGFuZCBUb2tlbiBIb2xkZXIocykgaXMgc29sZWx5IHJlc3BvbnNpYmxlIGZvciBhbnkgb2YgaXRzIGFjdGlvbnMgdGhhdCBtYXkgYmUgdW5sYXdmdWwuIAoKMTIuIERFRklOSVRJT05TLiAKCuKAnFRva2VuaXplZCBSaWdodCB0byBDb21wYW55IEVxdWl0eSBSZXZlbnVl4oCdIG1lYW5zIGEgZGlnaXRpemVkIHBvcnRpb24gb3IgdW5pdCBvZiB0aGUgc3luZGljYXRlZCBvd25lcnNoaXAgb2YgdGhlIENvbXBhbnkgRXF1aXR5IFJpZ2h0IAoKY3JlYXRlZCB1bmRlciB0aGUgQWdyZWVtZW50IFAwMDNfMjU3OTMuIOKAnFRva2VuIEhvbGRlcihzKeKAnSBtZWFucyBhIGJ1eWVyKHMpIG9mIHRoZSB0b2tlbml6ZWQgUmlnaHQgcmVwcmVzZW50aW5nIGFuIG93bmVyc2hpcCBvZiB0aGUgCgpDb21wYW55IEVxdWl0eSBSaWdodCB0aHJvdWdoIHRoZSBTbWFydCBDb250cmFjdCBjcmVhdGVkIGJ5IHRoZSBUb2tlbiBJc3N1ZXIgaGVyZXVuZGVyLiDigJxTbWFydCBDb250cmFjdOKAnSBtZWFucyB0ZXJtcyBhbmQgY29uZGl0aW9ucyAKCmZvciBhIGxlZ2FsbHkgZWZmZWN0aXZlIEluc3RydW1lbnQgd3JpdHRlbiBpbiBwcm9ncmFtbWluZyBsYW5ndWFnZSBvciBhc3NldCBwcm90b2NvbCBpbnRvIHRoZSBibG9ja2NoYWluIG9mIFRva2VuIElzc3VlcuKAmXMgY2hvaWNlLiAKCuKAnFRva2VuIEJ1eWVy4oCdIG1lYW5zIHRoYXQgYSBwYXJ0eSAoYW4gaW5kaXZpZHVhbCwgbGVnYWwgZW50aXR5LCBvciBhdXRob3JpemVkIHBlcnNvbiByZXByZXNlbnRpbmcgYW4gb3JnYW5pemF0aW9uKSB0aGF0IGludGVuZHMgdG8gYnV5IAoKdGhlIFRva2VuaXplZCBDb21wYW55IEVxdWl0eSBSaWdodCBpbml0aWFsbHkgaXNzdWVkIGJ5IFRva2VuIElzc3VlciBoZXJldW5kZXIuIAoKMTMuIERJU1BVVEUgUkVTT0xUVUlPTi4KCkluZm9ybWFsIFJlc29sdXRpb24uIElmIGVpdGhlciBUb2tlbiBJc3N1ZXIgb3IgVG9rZW4gSG9sZGVyIGhhcyBhbnkgY29uY2VybnMgcmVnYXJkaW5nIGEgYnJlYWNoIHVuZGVyIHRoaXMgQWdyZWVtZW50LCB0aGUgY29tcGxhaW5pbmcgCgpwYXJ0eSBtdXN0IGZpcnN0IG5vdGlmeSB0aGUgb3RoZXIgYW5kIGFsbG93IHRoZSBvdGhlciBwYXJ0eSBhdCBsZWFzdCAzMCBkYXlzIHRvIHJlbWVkeSB0aGUgY2xhaW1lZCBicmVhY2guIEJpbmRpbmcgQXJiaXRyYXRpb24uIEFueSAKCmRpc3B1dGUgYXJpc2luZyBvdXQgb2Ygb3IgcmVsYXRpbmcgdG8gdGhpcyBBZ3JlZW1lbnQsIG9yIHRoZSBicmVhY2ggdGhlcmVvZiwgc2hhbGwgZmluYWxseSBzZXR0bGVkIHVuZGVyIHRoZSBSdWxlcyBvZiBBcmJpdHJhdGlvbiBvZiAKCnRoZSBJbnRlcm5hdGlvbmFsIENoYW1iZXIgb2YgQ29tbWVyY2UgYnkgb25lIG9yIHRocmVlIGFyYml0cmF0b3IsIGFuZCBqdWRnZW1lbnQgdXBvbiB0aGUgYXdhcmQgcmVuZGVyZWQgdGhlIGFyYml0cmF0b3JzIG1heSBiZSAKCmVudGVyZWQgaW4gYSBjb3VydCBpbiBVbml0ZWQgU3RhdGVzIGp1cmlzZGljdGlvbi4gVGhlIGFyYml0cmF0aW9uIHdpbGwgYmUgY29uZHVjdGVkIGluIHRoZSBFbmdsaXNoIGxhbmd1YWdlLCBpbiBhY2NvcmRhbmNlIHdpdGggdGhlIAoKaW50ZXJuYXRpb25hbCBBcmJpdHJhdGlvbiBSdWxlcyBvZiB0aGUgVW5pdGVkIFN0YXRlcyBDb21tZXJjaWFsIEFyYml0cmF0aW9uIEJvYXJkLiAKCjE0LiBNSVNDRUxMQU5FT1VTLgoKMTQuMS4gTm8gQ29uZGl0aW9ucyB0byBFZmZlY3RpdmVuZXNzOyBFbnRpcmUgQWdyZWVtZW50LiBUaGVyZSBhcmUgbm8gY29uZGl0aW9ucyB0byB0aGUgZWZmZWN0aXZlbmVzcyBvZiB0aGlzIEFncmVlbWVudC4gVGhpcyBBZ3JlZW1lbnQgCgpjb250YWlucyB0aGUgZW50aXJlIGFncmVlbWVudCBhbmQgdW5kZXJzdGFuZGluZyBvZiB0aGUgUGFydGllcyBoZXJldG8sIGFuZCBzdXBlcnNlZGVzIGFueSBwcmlvciBhZ3JlZW1lbnRzIG9yIHVuZGVyc3RhbmRpbmdzIGJldHdlZW4gCgpvciBhbW9uZyB0aGUgUGFydGllcyBoZXJldG8sIHdoaWNoIHJlc3BlY3QgdG8gdGhlIHN1YmplY3QgbWF0dGVyIGhlcmVvZi4gCgoxNC4yLiBHb3Zlcm5pbmcgTGF3LiBUaGlzIEFncmVlbWVudCwgYW5kIHRoZSByaWdodCBvZiB0aGUgUGFydGllcyBoZXJldG8sIHNoYWxsIGJlIGdvdmVybmVkIGJ5LCBjb25zdHJ1ZWQgYW5kIGVuZm9yY2VkIGluIGFjY29yZGFuY2UgCgp3aXRoIHRoZSBsYXdzIG9mIFVuaXRlZCBTdGF0ZXMgcmVnYXJkbGVzcyBvZiB0aGUgY29uZmxpY3Qgb2YgbGF3cyBwcmluY2lwbGUuIEFueSBhY3Rpb24gaW4gcmVzcGVjdCBvZiwgb3IgY29uY2VybmluZywgdGhpcyBBZ3JlZW1lbnQgCgpzaGFsbCBiZSBsaXRpZ2F0ZWQgc29sZWx5IGluIFVuaXRlZCBTdGF0ZXMgYW5kIGJvdGggUGFydGllcyBjb25zZW50IHRvIGp1cmlzZGljdGlvbiBvZiB0aGUgcGVyc29uIGFuZCB2ZW51ZSBzb2xlbHkgaW4gVW5pdGVkIFN0YXRlcyAuIAoKMTQuMy4gQW1lbmRtZW50IGFuZCBXYWl2ZXJzLiBUaGlzIEFncmVlbWVudCBtYXkgYmUgYW1lbmRlZCBvbmx5IGJ5IGFuIGluc3RydW1lbnQgaW4gd3JpdGluZyBzaWduZWQgYnkgdGhlIFBhcnRpZXMgaGVyZXRvLiBObyB3YWl2ZXJzIAoKb2Ygb3IgZXhjZXB0aW9ucyB0byBhbnkgdGVybSwgY29uZGl0aW9uIG9yIHByb3Zpc2lvbiBvZiB0aGlzIEFncmVlbWVudCwgaW4gYW55IG9uZSBvciBtb3JlIGluc3RhbmNlcywgc2hhbGwgYmUgZGVlbWVkIHRvIGJlLCBvciAKCmNvbnN0cnVlZCBhcywgYSBmdXJ0aGVyIG9yIGNvbnRpbnVpbmcgd2FpdmVyIG9mIGFueSBzdWNoIHRlcm0sIGNvbmRpdGlvbiBvciBwcm92aXNpb24uIAoKMTQuNC4gU2V2ZXJhYmlsaXR5LiBJZiBhbnkgcHJvdmlzaW9uIG9mIHRoaXMgQWdyZWVtZW50IGlzIGhlbGQgdG8gYmUgaW52YWxpZCBvciB1bmVuZm9yY2VhYmxlLCB0aGUgdmFsaWRpdHkgYW5kIGVuZm9yY2VhYmlsaXR5IG9mIHRoZSAKCnJlbWFpbmluZyBwcm92aXNpb25zIG9mIHRoaXMgQWdyZWVtZW50IHNoYWxsIG5vdCBiZSBhZmZlY3RlZCB0aGVyZWJ5LiAKCjE0LjUuIEVhY2ggcGFydHksIGluIGVudGVyaW5nIGludG8gdGhpcyBBZ3JlZW1lbnQsIGFjdHMgYXMgYW4gaW5kZXBlbmRlbnQgcGFydHkgYW5kIG5vdGhpbmcgaGVyZWluIHNoYWxsIGJlIGNvbnN0cnVlZCB0byBjcmVhdGUgYSAKCnBhcnRuZXJzaGlwIG9yIGpvaW50IHZlbnR1cmUgYmV0d2VlbiB0aGUgUGFydGllcyBvciB0byBjb25zdGl0dXRlIGFnZW5jeSBvZiBhbiBzb3J0LiBOZWl0aGVyIHBhcnR5IHNoYWxsIGhhdmUgdGhlIGF1dGhvcml0eSB0byBiaW5kIHRoZSBvdGhlci4gCgoxNC42LiBGb3JjZSBNYWpldXJlLiBBIHBhcnR5IGlzIG5vdCBsaWFibGUgZm9yIGZhaWx1cmUgdG8gcGVyZm9ybSB0aGUgcGFydHnigJlzIG9ibGlnYXRpb25zIGlmIHN1Y2ggZmFpbHVyZSBpcyBhcyBhIHJlc3VsdCBvZiBBY3RzIG9mIAoKR29kIGluY2x1ZGluZzogZmlyZSwgZmxvb2QsIGVhcnRocXVha2UsIHN0b3JtLCBodXJyaWNhbmUgb3Igb3RoZXIgbmF0dXJhbCBkaXNhc3RlciksIHdhciwgaW52YXNpb24sIGFjdCBvZiBmb3JlaWduIGVuZW1pZXMsIAoKaG9zdGlsaXRpZXMgKHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB3YXIgaXMgZGVjbGFyZWQpLCBjaXZpbCB3YXIsIHJlYmVsbGlvbiwgcmV2b2x1dGlvbiwgaW5zdXJyZWN0aW9uLCBtaWxpdGFyeSBvciB1c3VycGVkIHBvd2VyIG9yIAoKY29uZmlzY2F0aW9uLCB0ZXJyb3Jpc3QgYWN0aXZpdGllcywgbmF0aW9uYWxpemF0aW9uLCBnb3Zlcm5tZW50IHNhbmN0aW9uLCBvciBnb3Zlcm5tZW50IHByb2hpYml0aW9uIG9yIHJlZ3VsYXRpb24gcHJldmVudGluZyB0aGUgCgp0cmFkZSBvZiBibG9ja2NoYWluLWJhY2tlZCB0b2tlbihzKS4gCgpJTiBXSVRORVNTIFdIRVJFT0YsIHRoZSBUb2tlbiBJc3N1ZXIsIFF3b3luIERpZ2l0YWwgSW52ZXN0bWVudHMsIExMQyBoZXJldG8gaGF2ZSBleGVjdXRlZCB0aGlzIEFncmVlbWVudCBhcyBvZiB0aGUgZGF0ZSBmaXJzdCB3cml0dGVuIAoKYWJvdmUuIAoKVG9rZW4gSXNzdWVyL1Rva2VuIEhvbGRlcgoKRGFuaWVsIFBpdHRtYW4sIENFTwpfX19fX19fX19fX19fX19fX19fX19fX19fX19fXyAKUXdveW4gRGlnaXRhbCBJbnZlc3RtZW50cywgTExDIAoyMDE3LTEyLTA2ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLwoKCi8qKioqKioqKioqKioqKioqKioqKgogKiBTTUFSVCBDT05UUkFDVCAgICoKICogQ09ERSBCRUdJTlMgSEVSRSAqCiAqKioqKioqKioqKioqKioqKioqLyAKCi8qRVJDMjAqLyAgICAgICAgIApwcmFnbWEgc29saWRpdHkgXjAuNC4xODsKIAovL1RPS0VOIFNFQ1VSSVRZLy8KIAogLyoqCiAqIEB0aXRsZSBNYXRoCiAqIEBkZXYgQXNzb3J0ZWQgbWF0aCBvcGVyYXRpb25zCiAqLwoKbGlicmFyeSBNYXRoIHsKICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW42NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1heDI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQp9CiAKIC8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KIAogLyoKICogQHRpdGxlIE1lcmtsZVByb29mCiAqIEBkZXYgTWVya2xlIHByb29mIHZlcmlmaWNhdGlvbgogKiBAbm90ZSBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vYW1lZW5zb2wvbWVya2xlLXRyZWUtc29saWRpdHkvYmxvYi9tYXN0ZXIvc3JjL01lcmtsZVByb29mLnNvbAogKi8KbGlicmFyeSBNZXJrbGVQcm9vZiB7CiAgLyoKICAgKiBAZGV2IFZlcmlmaWVzIGEgTWVya2xlIHByb29mIHByb3ZpbmcgdGhlIGV4aXN0ZW5jZSBvZiBhIGxlYWYgaW4gYSBNZXJrbGUgdHJlZS4gQXNzdW1lcyB0aGF0IGVhY2ggcGFpciBvZiBsZWF2ZXMKICAgKiBhbmQgZWFjaCBwYWlyIG9mIHByZS1pbWFnZXMgaXMgc29ydGVkLgogICAqIEBwYXJhbSBfcHJvb2YgTWVya2xlIHByb29mIGNvbnRhaW5pbmcgc2libGluZyBoYXNoZXMgb24gdGhlIGJyYW5jaCBmcm9tIHRoZSBsZWFmIHRvIHRoZSByb290IG9mIHRoZSBNZXJrbGUgdHJlZQogICAqIEBwYXJhbSBfcm9vdCBNZXJrbGUgcm9vdAogICAqIEBwYXJhbSBfbGVhZiBMZWFmIG9mIE1lcmtsZSB0cmVlCiAgICovCiAgZnVuY3Rpb24gdmVyaWZ5UHJvb2YoYnl0ZXMgX3Byb29mLCBieXRlczMyIF9yb290LCBieXRlczMyIF9sZWFmKSBwdWJsaWMgcHVyZSByZXR1cm5zIChib29sKSB7CiAgICAvLyBDaGVjayBpZiBwcm9vZiBsZW5ndGggaXMgYSBtdWx0aXBsZSBvZiAzMgogICAgaWYgKF9wcm9vZi5sZW5ndGggJSAzMiAhPSAwKSByZXR1cm4gZmFsc2U7CgogICAgYnl0ZXMzMiBwcm9vZkVsZW1lbnQ7CiAgICBieXRlczMyIGNvbXB1dGVkSGFzaCA9IF9sZWFmOwoKICAgIGZvciAodWludDI1NiBpID0gMzI7IGkgPD0gX3Byb29mLmxlbmd0aDsgaSArPSAzMikgewogICAgICBhc3NlbWJseSB7CiAgICAgICAgLy8gTG9hZCB0aGUgY3VycmVudCBlbGVtZW50IG9mIHRoZSBwcm9vZgogICAgICAgIHByb29mRWxlbWVudCA6PSBtbG9hZChhZGQoX3Byb29mLCBpKSkKICAgICAgfQoKICAgICAgaWYgKGNvbXB1dGVkSGFzaCA8IHByb29mRWxlbWVudCkgewogICAgICAgIC8vIEhhc2goY3VycmVudCBjb21wdXRlZCBoYXNoICsgY3VycmVudCBlbGVtZW50IG9mIHRoZSBwcm9vZikKICAgICAgICBjb21wdXRlZEhhc2ggPSBrZWNjYWsyNTYoY29tcHV0ZWRIYXNoLCBwcm9vZkVsZW1lbnQpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIEhhc2goY3VycmVudCBlbGVtZW50IG9mIHRoZSBwcm9vZiArIGN1cnJlbnQgY29tcHV0ZWQgaGFzaCkKICAgICAgICBjb21wdXRlZEhhc2ggPSBrZWNjYWsyNTYocHJvb2ZFbGVtZW50LCBjb21wdXRlZEhhc2gpOwogICAgICB9CiAgICB9CgogICAgLy8gQ2hlY2sgaWYgdGhlIGNvbXB1dGVkIGhhc2ggKHJvb3QpIGlzIGVxdWFsIHRvIHRoZSBwcm92aWRlZCByb290CiAgICByZXR1cm4gY29tcHV0ZWRIYXNoID09IF9yb290OwogIH0KfQoKIC8qKgogKiBAdGl0bGUgSGVscHMgY29udHJhY3RzIGd1YXJkIGFnYWlucyByZW50cmFuY3kgYXR0YWNrcy4KICogQGF1dGhvciBSZW1jbyBCbG9lbWVuIDw8c3BhbiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9IjI4NWE0ZDQ1NGI0NzY4MWE1ODA2NGI0NzQ1Ij5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9zcGFuPj4KICogQG5vdGljZSBJZiB5b3UgbWFyayBhIGZ1bmN0aW9uIGBub25SZWVudHJhbnRgLCB5b3Ugc2hvdWxkIGFsc28KICogbWFyayBpdCBgZXh0ZXJuYWxgLgogKi8KY29udHJhY3QgUmVlbnRyYW5jeUd1YXJkIHsKCiAgLyoqCiAgICogQGRldiBXZSB1c2UgYSBzaW5nbGUgbG9jayBmb3IgdGhlIHdob2xlIGNvbnRyYWN0LgogICAqLwogIGJvb2wgcHJpdmF0ZSByZW50cmFuY3lfbG9jayA9IGZhbHNlOwoKICAvKioKICAgKiBAZGV2IFByZXZlbnRzIGEgY29udHJhY3QgZnJvbSBjYWxsaW5nIGl0c2VsZiwgZGlyZWN0bHkgb3IgaW5kaXJlY3RseS4KICAgKiBAbm90aWNlIElmIHlvdSBtYXJrIGEgZnVuY3Rpb24gYG5vblJlZW50cmFudGAsIHlvdSBzaG91bGQgYWxzbwogICAqIG1hcmsgaXQgYGV4dGVybmFsYC4gQ2FsbGluZyBvbmUgbm9uUmVlbnRyYW50IGZ1bmN0aW9uIGZyb20KICAgKiBhbm90aGVyIGlzIG5vdCBzdXBwb3J0ZWQuIEluc3RlYWQsIHlvdSBjYW4gaW1wbGVtZW50IGEKICAgKiBgcHJpdmF0ZWAgZnVuY3Rpb24gZG9pbmcgdGhlIGFjdHVhbCB3b3JrLCBhbmQgYSBgZXh0ZXJuYWxgCiAgICogd3JhcHBlciBtYXJrZWQgYXMgYG5vblJlZW50cmFudGAuCiAgICovCiAgbW9kaWZpZXIgbm9uUmVlbnRyYW50KCkgewogICAgcmVxdWlyZSghcmVudHJhbmN5X2xvY2spOwogICAgcmVudHJhbmN5X2xvY2sgPSB0cnVlOwogICAgXzsKICAgIHJlbnRyYW5jeV9sb2NrID0gZmFsc2U7CiAgfQoKfQoKLy9Db3JuZXJzdG9uZSBUT0tFTi8vCgovKkNvbnRyYWN0IHRvIERlY2xhcmUgT3duZXIqLwpjb250cmFjdCBvd25lZCB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICBmdW5jdGlvbiBvd25lZCgpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9Cn0KCi8qIEludGVyZmFjZXMgKi8KaW50ZXJmYWNlIHRva2VuUmVjaXBpZW50IHsgZnVuY3Rpb24gcmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlLCBhZGRyZXNzIF90b2tlbiwgYnl0ZXMgX2V4dHJhRGF0YSkgcHVibGljOyB9CgovL0Nvcm5lcnN0b25lIENvbnRyYWN0Ly8KCi8qIENvcm5lcnN0b25lIFRva2VuIENvbnRyYWN0ICovCmNvbnRyYWN0IENvcm5lcnN0b25lIGlzIG93bmVkewogICAgLy8gUHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4KICAgIHN0cmluZyBwdWJsaWMgbmFtZTsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgdWludDggcHVibGljIGRlY2ltYWxzOwogICAgLy8gMTggZGVjaW1hbHMgaXMgdGhlIHN0cm9uZ2x5IHN1Z2dlc3RlZCBkZWZhdWx0LCBhdm9pZCBjaGFuZ2luZyBpdAogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgLy8gVGhpcyBjcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGJhbGFuY2VzCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2Y7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2FuY2U7CiAgICAKICAgIC8vIFRoaXMgY3JlYXRlcyBhbiBhcnJveSBmb3IgYWNjb3VudHMgdG8gZnJlZXplCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBmcm96ZW5BY2NvdW50OwoKICAgIC8vIFRoaXMgZ2VuZXJhdGVzIGEgcHVibGljIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgY2xpZW50cwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CgogICAgLy8gVGhpcyBub3RpZmllcyBjbGllbnRzIGFib3V0IHRoZSBhbW91bnQgYnVybnQKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGZyb20sIHVpbnQyNTYgdmFsdWUpOwogICAgCiAgICAvLyBUaGlzIG5vdGlmaWVzIGNsaWVudHMgb2YgZnJvemVuIGFjY291bnQKICAgIGV2ZW50IEZyb3plbkZ1bmRzKGFkZHJlc3MgdGFyZ2V0LCBib29sIGZyb3plbik7CgogICAgLyoqCiAgICAgKiBDb25zdHJjdG9yIGZ1bmN0aW9uCiAgICAgKgogICAgICogSW5pdGlhbGl6ZXMgY29udHJhY3Qgd2l0aCBpbml0aWFsIHN1cHBseSB0b2tlbnMgdG8gdGhlIGNyZWF0b3Igb2YgdGhlIGNvbnRyYWN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIENvcm5lcnN0b25lKAogICAgICAgIHVpbnQyNTYgaW5pdGlhbFN1cHBseSwKICAgICAgICBzdHJpbmcgdG9rZW5OYW1lLAogICAgICAgIHN0cmluZyB0b2tlblN5bWJvbAogICAgKSBwdWJsaWMgewogICAgICAgIHRvdGFsU3VwcGx5ID0gaW5pdGlhbFN1cHBseSAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpOyAgLy8gVXBkYXRlIHRvdGFsIHN1cHBseSB3aXRoIHRoZSBkZWNpbWFsIGFtb3VudCAgLy8gVXBkYXRlIHRvdGFsIHN1cHBseSB3aXRoIHRoZSBkZWNpbWFsIGFtb3VudAogICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSA9IHRvdGFsU3VwcGx5OyAgICAgICAgICAgICAgICAvLyBHaXZlIHRoZSBjcmVhdG9yIGFsbCBpbml0aWFsIHRva2VucwogICAgICAgIG5hbWUgPSB0b2tlbk5hbWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIG5hbWUgZm9yIGRpc3BsYXkgcHVycG9zZXMKICAgICAgICBzeW1ib2wgPSB0b2tlblN5bWJvbDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBzeW1ib2wgZm9yIGRpc3BsYXkgcHVycG9zZXMKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZnJlZXplQWNjb3VudChhZGRyZXNzIHRhcmdldCwgYm9vbCBmcmVlemUpIG9ubHlPd25lciBwdWJsaWN7CiAgICAgICAgZnJvemVuQWNjb3VudFt0YXJnZXRdID0gZnJlZXplOwogICAgICAgIEZyb3plbkZ1bmRzKHRhcmdldCwgZnJlZXplKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBJbnRlcm5hbCB0cmFuc2Zlciwgb25seSBjYW4gYmUgY2FsbGVkIGJ5IHRoaXMgY29udHJhY3QKICAgICAqLwogICAgZnVuY3Rpb24gX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaW50ZXJuYWwgewogICAgICAgIC8vIFByZXZlbnQgdHJhbnNmZXIgdG8gMHgwIGFkZHJlc3MuIFVzZSBidXJuKCkgaW5zdGVhZAogICAgICAgIHJlcXVpcmUoX3RvICE9IDB4MCk7CiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbX2Zyb21dID49IF92YWx1ZSk7CiAgICAgICAgLy8gQ2hlY2sgZm9yIG92ZXJmbG93cwogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW190b10gKyBfdmFsdWUgPiBiYWxhbmNlT2ZbX3RvXSk7CiAgICAgICAgLy8gU2F2ZSB0aGlzIGZvciBhbiBhc3NlcnRpb24gaW4gdGhlIGZ1dHVyZQogICAgICAgIC8vIENoZWNrIGlmIHNlbmRlciBpcyBmcm96ZW4KICAgICAgICByZXF1aXJlKCFmcm96ZW5BY2NvdW50W19mcm9tXSk7ICAgICAgICAKICAgICAgICAvLyBDaGVjayBpZiByZWNpcGllbnQgaXMgZnJvemVuCiAgICAgICAgcmVxdWlyZSghZnJvemVuQWNjb3VudFtfdG9dKTsgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgdWludCBwcmV2aW91c0JhbGFuY2VzID0gYmFsYW5jZU9mW19mcm9tXSArIGJhbGFuY2VPZltfdG9dOwogICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIGJhbGFuY2VPZltfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgIC8vIEFkZCB0aGUgc2FtZSB0byB0aGUgcmVjaXBpZW50CiAgICAgICAgYmFsYW5jZU9mW190b10gKz0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgLy8gQXNzZXJ0cyBhcmUgdXNlZCB0byB1c2Ugc3RhdGljIGFuYWx5c2lzIHRvIGZpbmQgYnVncyBpbiB5b3VyIGNvZGUuIFRoZXkgc2hvdWxkIG5ldmVyIGZhaWwKICAgICAgICBhc3NlcnQoYmFsYW5jZU9mW19mcm9tXSArIGJhbGFuY2VPZltfdG9dID09IHByZXZpb3VzQmFsYW5jZXMpOwogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNmZXIgdG9rZW5zCiAgICAgKgogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbnMgdG8gYF90b2AgZnJvbSB5b3VyIGFjY291bnQKICAgICAqCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIGFtb3VudCB0byBzZW5kCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHsKICAgICAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNmZXIgdG9rZW5zIGZyb20gb3RoZXIgYWRkcmVzcwogICAgICoKICAgICAqIFNlbmQgYF92YWx1ZWAgdG9rZW5zIHRvIGBfdG9gIGluIGJlaGFsZiBvZiBgX2Zyb21gCiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IHRvIHNlbmQKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0pOyAgICAgLy8gQ2hlY2sgYWxsb3dhbmNlCiAgICAgICAgYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgX3RyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgYWxsb3dhbmNlIGZvciBvdGhlciBhZGRyZXNzCiAgICAgKgogICAgICogQWxsb3dzIGBfc3BlbmRlcmAgdG8gc3BlbmQgbm8gbW9yZSB0aGFuIGBfdmFsdWVgIHRva2VucyBpbiB5b3VyIGJlaGFsZgogICAgICoKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBhdXRob3JpemVkIHRvIHNwZW5kCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBtYXggYW1vdW50IHRoZXkgY2FuIHNwZW5kCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYwogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93YW5jZVttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgYWxsb3dhbmNlIGZvciBvdGhlciBhZGRyZXNzIGFuZCBub3RpZnkKICAgICAqCiAgICAgKiBBbGxvd3MgYF9zcGVuZGVyYCB0byBzcGVuZCBubyBtb3JlIHRoYW4gYF92YWx1ZWAgdG9rZW5zIGluIHlvdXIgYmVoYWxmLCBhbmQgdGhlbiBwaW5nIHRoZSBjb250cmFjdCBhYm91dCBpdAogICAgICoKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBhdXRob3JpemVkIHRvIHNwZW5kCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBtYXggYW1vdW50IHRoZXkgY2FuIHNwZW5kCiAgICAgKiBAcGFyYW0gX2V4dHJhRGF0YSBzb21lIGV4dHJhIGluZm9ybWF0aW9uIHRvIHNlbmQgdG8gdGhlIGFwcHJvdmVkIGNvbnRyYWN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZXh0cmFEYXRhKQogICAgICAgIHB1YmxpYwogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHRva2VuUmVjaXBpZW50IHNwZW5kZXIgPSB0b2tlblJlY2lwaWVudChfc3BlbmRlcik7CiAgICAgICAgaWYgKGFwcHJvdmUoX3NwZW5kZXIsIF92YWx1ZSkpIHsKICAgICAgICAgICAgc3BlbmRlci5yZWNlaXZlQXBwcm92YWwobXNnLnNlbmRlciwgX3ZhbHVlLCB0aGlzLCBfZXh0cmFEYXRhKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogRGVzdHJveSB0b2tlbnMKICAgICAqCiAgICAgKiBSZW1vdmUgYF92YWx1ZWAgdG9rZW5zIGZyb20gdGhlIHN5c3RlbSBpcnJldmVyc2libHkKICAgICAqCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBhbW91bnQgb2YgbW9uZXkgdG8gYnVybgogICAgICovCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKTsgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOyAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIHRvdGFsU3VwcGx5IC09IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlcyB0b3RhbFN1cHBseQogICAgICAgIEJ1cm4obXNnLnNlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIERlc3Ryb3kgdG9rZW5zIGZyb20gb3RoZXIgYWNjb3VudAogICAgICoKICAgICAqIFJlbW92ZSBgX3ZhbHVlYCB0b2tlbnMgZnJvbSB0aGUgc3lzdGVtIGlycmV2ZXJzaWJseSBvbiBiZWhhbGYgb2YgYF9mcm9tYC4KICAgICAqCiAgICAgKiBAcGFyYW0gX2Zyb20gdGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IG9mIG1vbmV5IHRvIGJ1cm4KICAgICAqLwogICAgZnVuY3Rpb24gYnVybkZyb20oYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKGJhbGFuY2VPZltfZnJvbV0gPj0gX3ZhbHVlKTsgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRhcmdldGVkIGJhbGFuY2UgaXMgZW5vdWdoCiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSk7ICAgIC8vIENoZWNrIGFsbG93YW5jZQogICAgICAgIGJhbGFuY2VPZltfZnJvbV0gLT0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSB0YXJnZXRlZCBiYWxhbmNlCiAgICAgICAgYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7ICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcidzIGFsbG93YW5jZQogICAgICAgIHRvdGFsU3VwcGx5IC09IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdG90YWxTdXBwbHkKICAgICAgICBCdXJuKF9mcm9tLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9CgovKiBBRFZBTkNFRCBUT0tFTiAgKi8KCmNvbnRyYWN0IE15QWR2YW5jZWRUb2tlbiBpcyBvd25lZCwgQ29ybmVyc3RvbmUgewoKICAgIHVpbnQyNTYgcHVibGljIHNlbGxQcmljZTsKICAgIHVpbnQyNTYgcHVibGljIGJ1eVByaWNlOwoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGZyb3plbkFjY291bnQ7CgogICAgLyogVGhpcyBnZW5lcmF0ZXMgYSBwdWJsaWMgZXZlbnQgb24gdGhlIGJsb2NrY2hhaW4gdGhhdCB3aWxsIG5vdGlmeSBjbGllbnRzICovCiAgICBldmVudCBGcm96ZW5GdW5kcyhhZGRyZXNzIHRhcmdldCwgYm9vbCBmcm96ZW4pOwoKICAgIC8qIEluaXRpYWxpemVzIGNvbnRyYWN0IHdpdGggaW5pdGlhbCBzdXBwbHkgdG9rZW5zIHRvIHRoZSBjcmVhdG9yIG9mIHRoZSBjb250cmFjdCAqLwogICAgZnVuY3Rpb24gTXlBZHZhbmNlZFRva2VuKAogICAgICAgIHVpbnQyNTYgaW5pdGlhbFN1cHBseSwKICAgICAgICBzdHJpbmcgdG9rZW5OYW1lLAogICAgICAgIHN0cmluZyB0b2tlblN5bWJvbAogICAgKSBDb3JuZXJzdG9uZShpbml0aWFsU3VwcGx5LCB0b2tlbk5hbWUsIHRva2VuU3ltYm9sKSBwdWJsaWMge30KCiAgICAvKiBJbnRlcm5hbCB0cmFuc2Zlciwgb25seSBjYW4gYmUgY2FsbGVkIGJ5IHRoaXMgY29udHJhY3QgKi8KICAgIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGludGVybmFsIHsKICAgICAgICByZXF1aXJlIChfdG8gIT0gMHgwKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCB0cmFuc2ZlciB0byAweDAgYWRkcmVzcy4gVXNlIGJ1cm4oKSBpbnN0ZWFkCiAgICAgICAgcmVxdWlyZSAoYmFsYW5jZU9mW19mcm9tXSA+PSBfdmFsdWUpOyAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaAogICAgICAgIHJlcXVpcmUgKGJhbGFuY2VPZltfdG9dICsgX3ZhbHVlID4gYmFsYW5jZU9mW190b10pOyAvLyBDaGVjayBmb3Igb3ZlcmZsb3dzCiAgICAgICAgcmVxdWlyZSghZnJvemVuQWNjb3VudFtfZnJvbV0pOyAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHNlbmRlciBpcyBmcm96ZW4KICAgICAgICByZXF1aXJlKCFmcm96ZW5BY2NvdW50W190b10pOyAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcmVjaXBpZW50IGlzIGZyb3plbgogICAgICAgIGJhbGFuY2VPZltfZnJvbV0gLT0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIKICAgICAgICBiYWxhbmNlT2ZbX3RvXSArPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBzYW1lIHRvIHRoZSByZWNpcGllbnQKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIENyZWF0ZSBgbWludGVkQW1vdW50YCB0b2tlbnMgYW5kIHNlbmQgaXQgdG8gYHRhcmdldGAKICAgIC8vLyBAcGFyYW0gdGFyZ2V0IEFkZHJlc3MgdG8gcmVjZWl2ZSB0aGUgdG9rZW5zCiAgICAvLy8gQHBhcmFtIG1pbnRlZEFtb3VudCB0aGUgYW1vdW50IG9mIHRva2VucyBpdCB3aWxsIHJlY2VpdmUKICAgIGZ1bmN0aW9uIG1pbnRUb2tlbihhZGRyZXNzIHRhcmdldCwgdWludDI1NiBtaW50ZWRBbW91bnQpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGJhbGFuY2VPZlt0YXJnZXRdICs9IG1pbnRlZEFtb3VudDsKICAgICAgICB0b3RhbFN1cHBseSArPSBtaW50ZWRBbW91bnQ7CiAgICAgICAgVHJhbnNmZXIoMCwgdGhpcywgbWludGVkQW1vdW50KTsKICAgICAgICBUcmFuc2Zlcih0aGlzLCB0YXJnZXQsIG1pbnRlZEFtb3VudCk7CiAgICB9CgogICAgLy8vIEBub3RpY2UgYGZyZWV6ZT8gUHJldmVudCB8IEFsbG93YCBgdGFyZ2V0YCBmcm9tIHNlbmRpbmcgJiByZWNlaXZpbmcgdG9rZW5zCiAgICAvLy8gQHBhcmFtIHRhcmdldCBBZGRyZXNzIHRvIGJlIGZyb3plbgogICAgLy8vIEBwYXJhbSBmcmVlemUgZWl0aGVyIHRvIGZyZWV6ZSBpdCBvciBub3QKICAgIGZ1bmN0aW9uIGZyZWV6ZUFjY291bnQoYWRkcmVzcyB0YXJnZXQsIGJvb2wgZnJlZXplKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBmcm96ZW5BY2NvdW50W3RhcmdldF0gPSBmcmVlemU7CiAgICAgICAgRnJvemVuRnVuZHModGFyZ2V0LCBmcmVlemUpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIEFsbG93IHVzZXJzIHRvIGJ1eSB0b2tlbnMgZm9yIGBuZXdCdXlQcmljZWAgZXRoIGFuZCBzZWxsIHRva2VucyBmb3IgYG5ld1NlbGxQcmljZWAgZXRoCiAgICAvLy8gQHBhcmFtIG5ld1NlbGxQcmljZSBQcmljZSB0aGUgdXNlcnMgY2FuIHNlbGwgdG8gdGhlIGNvbnRyYWN0CiAgICAvLy8gQHBhcmFtIG5ld0J1eVByaWNlIFByaWNlIHVzZXJzIGNhbiBidXkgZnJvbSB0aGUgY29udHJhY3QKICAgIGZ1bmN0aW9uIHNldFByaWNlcyh1aW50MjU2IG5ld1NlbGxQcmljZSwgdWludDI1NiBuZXdCdXlQcmljZSkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgc2VsbFByaWNlID0gbmV3U2VsbFByaWNlOwogICAgICAgIGJ1eVByaWNlID0gbmV3QnV5UHJpY2U7CiAgICB9CgogICAgLy8vIEBub3RpY2UgQnV5IHRva2VucyBmcm9tIGNvbnRyYWN0IGJ5IHNlbmRpbmcgZXRoZXIKICAgIGZ1bmN0aW9uIGJ1eSgpIHBheWFibGUgcHVibGljIHsKICAgICAgICB1aW50IGFtb3VudCA9IG1zZy52YWx1ZSAvIGJ1eVByaWNlOyAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZXMgdGhlIGFtb3VudAogICAgICAgIF90cmFuc2Zlcih0aGlzLCBtc2cuc2VuZGVyLCBhbW91bnQpOyAgICAgICAgICAgICAgLy8gbWFrZXMgdGhlIHRyYW5zZmVycwogICAgfQoKICAgIC8vLyBAbm90aWNlIFNlbGwgYGFtb3VudGAgdG9rZW5zIHRvIGNvbnRyYWN0CiAgICAvLy8gQHBhcmFtIGFtb3VudCBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNvbGQKICAgIGZ1bmN0aW9uIHNlbGwodWludDI1NiBhbW91bnQpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgPj0gYW1vdW50ICogc2VsbFByaWNlKTsgICAgICAvLyBjaGVja3MgaWYgdGhlIGNvbnRyYWN0IGhhcyBlbm91Z2ggZXRoZXIgdG8gYnV5CiAgICAgICAgX3RyYW5zZmVyKG1zZy5zZW5kZXIsIHRoaXMsIGFtb3VudCk7ICAgICAgICAgICAgICAvLyBtYWtlcyB0aGUgdHJhbnNmZXJzCiAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihhbW91bnQgKiBzZWxsUHJpY2UpOyAgICAgICAgICAvLyBzZW5kcyBldGhlciB0byB0aGUgc2VsbGVyLiBJdCdzIGltcG9ydGFudCB0byBkbyB0aGlzIGxhc3QgdG8gYXZvaWQgcmVjdXJzaW9uIGF0dGFja3MKICAgIH0KfQ=='.
	

]
