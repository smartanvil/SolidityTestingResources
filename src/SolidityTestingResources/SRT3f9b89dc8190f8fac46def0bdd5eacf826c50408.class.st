Class {
	#name : #SRT3f9b89dc8190f8fac46def0bdd5eacf826c50408,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT3f9b89dc8190f8fac46def0bdd5eacf826c50408 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4gMC40IC44OwoKCmNvbnRyYWN0IEVSQzIwIHsKCiAgICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnModWludDI1Nik7CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyh1aW50KTsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zKGJvb2wgb2spOwoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50IHZhbHVlKSByZXR1cm5zKGJvb2wgb2spOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHJldHVybnMoYm9vbCBvayk7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7CgogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB2YWx1ZSk7Cgp9Cgpjb250cmFjdCBibG9ja29wdGlvbnMgaXMgRVJDMjAKCnsKCiAgICAgICAvKiBQdWJsaWMgdmFyaWFibGVzIG9mIHRoZSB0b2tlbiAqLwogICAgICAvL1RvIHN0b3JlIG5hbWUgZm9yIHRva2VuCiAgICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJibG9ja29wdGlvbnMiOwogICAgCiAgICAgIC8vVG8gc3RvcmUgc3ltYm9sIGZvciB0b2tlbiAgICAgICAKICAgICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiQk9QVCI7CiAgICAKICAgICAgLy9UbyBzdG9yZSBkZWNpbWFsIHBsYWNlcyBmb3IgdG9rZW4KICAgICAgdWludDggcHVibGljIGRlY2ltYWxzID0gODsgICAgCiAgICAKICAgICAgLy9UbyBzdG9yZSBjdXJyZW50IHN1cHBseSBvZiBCT1BUCiAgICAgIHVpbnQgcHVibGljIHRvdGFsU3VwcGx5PTIwMDAwMDAwICogMTAwMDAwMDAwOwogICAgICAKICAgICAgIHVpbnQgcHJlX2ljb19zdGFydDsKICAgICAgIHVpbnQgcHJlX2ljb19lbmQ7CiAgICAgICB1aW50IGljb19zdGFydDsKICAgICAgIHVpbnQgaWNvX2VuZDsKICAgICAgIG1hcHBpbmcodWludCA9PiBhZGRyZXNzKSBpbnZlc3RvcjsKICAgICAgIG1hcHBpbmcodWludCA9PiB1aW50KSB3ZWlyZWNlaXZlZDsKICAgICAgIG1hcHBpbmcodWludCA9PiB1aW50KSBvcHRzU2VudDsKICAgICAgCiAgICAgICAgZXZlbnQgcHJlaWNvKHVpbnQgY291bnRlcixhZGRyZXNzIGludmVzdG9yLHVpbnQgd2VpcmVjZWl2ZWQsdWludCBvcHRzU2VudCk7CiAgICAgICAgZXZlbnQgaWNvKHVpbnQgY291bnRlcixhZGRyZXNzIGludmVzdG9yLHVpbnQgd2VpcmVjZWl2ZWQsdWludCBvcHRzU2VudCk7CiAgICAgICAgdWludCBjb3VudGVyPTA7CiAgICAgICAgdWludCBwcm9maXRfc2VudD0wOwogICAgICAgIGJvb2wgc3RvcHBlZCA9IGZhbHNlOwogICAgICAgIAogICAgICBmdW5jdGlvbiBibG9ja29wdGlvbnMoKXsKICAgICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICAgIGJhbGFuY2VzW293bmVyXSA9IHRvdGFsU3VwcGx5IDsgLy90byBoYW5kbGUgOCBkZWNpbWFsIHBsYWNlcwogICAgICAgICAgcHJlX2ljb19zdGFydCA9IG5vdzsKICAgICAgICAgIHByZV9pY29fZW5kID0gcHJlX2ljb19zdGFydCArIDcgZGF5czsKICAgICAgICAgIAogICAgICAgIH0KICAgICAgLy9tYXAgdG8gc3RvcmUgQk9QVCBiYWxhbmNlIGNvcnJlc3BvbmRpbmcgdG8gYWRkcmVzcwogICAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgYmFsYW5jZXM7CiAgICAKICAgICAgLy9UbyBzdG9yZSBzcGVuZGVyIHdpdGggYWxsb3dlZCBhbW91bnQgb2YgQk9QVCB0byBzcGVuZCBjb3JyZXNwb25kaW5nIHRvIEJPUFRzIGhvbGRlcidzIGFjY291bnQKICAgICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSBhbGxvd2VkOwogICAgCiAgICAgIC8vb3duZXIgdmFyaWFibGUgdG8gc3RvcmUgY29udHJhY3Qgb3duZXIgYWNjb3VudAogICAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgICAgCiAgICAgIC8vbW9kaWZpZXIgdG8gY2hlY2sgdHJhbnNhY3Rpb24gaW5pdGlhdG9yIGlzIG9ubHkgb3duZXIKICAgICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyID09IG93bmVyKQogICAgICAgICAgXzsKICAgICAgfQogICAgCiAgICAgIC8vb3duZXJzaGlwIGNhbiBiZSB0cmFuc2ZlcnJlZCB0byBwcm92aWRlZCBuZXdPd25lci4gRnVuY3Rpb24gY2FuIG9ubHkgYmUgaW5pdGlhdGVkIGJ5IGNvbnRyYWN0IG93bmVyJ3MgYWNjb3VudAogICAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgICAgICAgYmFsYW5jZXNbbmV3T3duZXJdID0gYmFsYW5jZXNbb3duZXJdOwogICAgICAgICAgYmFsYW5jZXNbb3duZXJdPTA7CiAgICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgICB9CgogICAgICAgIC8qKgogICAgICAgICogTXVsdGlwbGljYXRpb24gd2l0aCBzYWZldHkgY2hlY2sKICAgICAgICAqLwogICAgICAgIGZ1bmN0aW9uIE11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgICAgdWludCBjID0gYSAqIGI7CiAgICAgICAgICAvL2NoZWNrIHJlc3VsdCBzaG91bGQgbm90IGJlIG90aGVyIHdpc2UgdW50aWwgYT0wCiAgICAgICAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgICAgICAgcmV0dXJuIGM7CiAgICAgICAgfQogICAgCiAgICAgICAgLyoqCiAgICAgICAgKiBEaXZpc2lvbiB3aXRoIHNhZmV0eSBjaGVjawogICAgICAgICovCiAgICAgICAgZnVuY3Rpb24gRGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgICAvL292ZXJmbG93IGNoZWNrOyBiIG11c3Qgbm90IGJlIDAKICAgICAgICAgIGFzc2VydChiID4gMCk7CiAgICAgICAgICB1aW50IGMgPSBhIC8gYjsKICAgICAgICAgIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOwogICAgICAgICAgcmV0dXJuIGM7CiAgICAgICAgfQogICAgCiAgICAgICAgLyoqCiAgICAgICAgKiBTdWJ0cmFjdGlvbiB3aXRoIHNhZmV0eSBjaGVjawogICAgICAgICovCiAgICAgICAgZnVuY3Rpb24gU3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgICAvL2IgbXVzdCBiZSBncmVhdGVyIHRoYXQgYSBhcyB3ZSBuZWVkIHRvIHN0b3JlIHZhbHVlIGluIHVuc2lnbmVkIGludGVnZXIKICAgICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgICAgIH0KICAgIAogICAgICAgIC8qKgogICAgICAgICogQWRkaXRpb24gd2l0aCBzYWZldHkgY2hlY2sKICAgICAgICAqLwogICAgICAgIGZ1bmN0aW9uIEFkZCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgICAgdWludCBjID0gYSArIGI7CiAgICAgICAgICAvL3Jlc3VsdCBtdXN0IGJlIGdyZWF0ZXIgYXMgYSBvciBiIGNhbiBub3QgYmUgbmVnYXRpdmUKICAgICAgICAgIGFzc2VydChjPj1hICYmIGM+PWIpOwogICAgICAgICAgcmV0dXJuIGM7CiAgICAgICAgfQogICAgCiAgICAgIC8qKgogICAgICAgICogYXNzZXJ0IHVzZWQgaW4gZGlmZmVyZW50IE1hdGggZnVuY3Rpb25zCiAgICAgICAgKi8KICAgICAgICBmdW5jdGlvbiBhc3NlcnQoYm9vbCBhc3NlcnRpb24pIGludGVybmFsIHsKICAgICAgICAgIGlmICghYXNzZXJ0aW9uKSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgICAgfQogICAgICAgIH0KICAgIAogICAgLy9JbXBsZW1lbnRhdGlvbiBmb3IgdHJhbnNmZXJyaW5nIEJPUFQgdG8gcHJvdmlkZWQgYWRkcmVzcyAKICAgICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sKXsKCiAgICAgICAgdWludCBjaGVjayA9IGJhbGFuY2VzW293bmVyXSAtIF92YWx1ZTsKICAgICAgICBpZihtc2cuc2VuZGVyID09IG93bmVyICYmIG5vdz49cHJlX2ljb19zdGFydCAmJiBub3c8PXByZV9pY29fZW5kICYmIGNoZWNrIDwgMTkwMDAwMDAwMDAwMDAwMCkKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZihtc2cuc2VuZGVyID09b3duZXIgJiYgbm93Pj1wcmVfaWNvX2VuZCAmJiBub3c8PShwcmVfaWNvX2VuZCArIDE2IGRheXMpICYmIGNoZWNrIDwgMTg1MDAwMDAwMDAwMDAwMCkKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZihtc2cuc2VuZGVyID09IG93bmVyICYmIGNoZWNrIDwgMTUwMDAwMDAwMDAwMDAwICYmIG5vdyA8IGljb19zdGFydCArIDE4MCBkYXlzKQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChtc2cuc2VuZGVyID09IG93bmVyICYmIGNoZWNrIDwgMTAwMDAwMDAwMDAwMDAwICYmIG5vdyA8IGljb19zdGFydCArIDM2MCBkYXlzKQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChtc2cuc2VuZGVyID09IG93bmVyICYmIGNoZWNrIDwgNTAwMDAwMDAwMDAwMDAgJiYgbm93IDwgaWNvX3N0YXJ0ICsgNTQwIGRheXMpCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIC8vQ2hlY2sgcHJvdmlkZWQgQk9QVCBzaG91bGQgbm90IGJlIDAKICAgICAgIGVsc2UgaWYgKF92YWx1ZSA+IDApIHsKICAgICAgICAgIC8vZGVkdWN0IE9QVFMgYW1vdW50IGZyb20gdHJhbnNhY3Rpb24gaW5pdGlhdG9yCiAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IFN1YihiYWxhbmNlc1ttc2cuc2VuZGVyXSxfdmFsdWUpOwogICAgICAgICAgLy9BZGQgT1BUUyB0byBiYWxhY2Ugb2YgdGFyZ2V0IGFjY291bnQKICAgICAgICAgIGJhbGFuY2VzW190b10gPSBBZGQoYmFsYW5jZXNbX3RvXSxfdmFsdWUpOwogICAgICAgICAgLy9FbWl0IGV2ZW50IGZvciB0cmFuc2ZlcnJpbmcgQk9QVAogICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIGVsc2V7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICAgIAogICAgICAvL1RyYW5zZmVyIGluaXRpYXRlZCBieSBzcGVuZGVyIAogICAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICAKICAgICAgICAvL0NoZWNrIHByb3ZpZGVkIEJPUFQgc2hvdWxkIG5vdCBiZSAwCiAgICAgICAgaWYgKF92YWx1ZSA+IDApIHsKICAgICAgICAgIC8vR2V0IGFtb3VudCBvZiBCT1BUIGZvciB3aGljaCBzcGVuZGVyIGlzIGF1dGhvcml6ZWQKICAgICAgICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CiAgICAgICAgICAvL0FkZCBhbW91bnQgb2YgQk9QVCBpbiB0cmFyZ2V0IGFjY291bnQncyBiYWxhbmNlCiAgICAgICAgICBiYWxhbmNlc1tfdG9dID0gQWRkKGJhbGFuY2VzW190b10sIF92YWx1ZSk7CiAgICAgICAgICAvL0RlZHVjdCBCT1BUIGFtb3VudCBmcm9tIF9mcm9tIGFjY291bnQKICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IFN1YihiYWxhbmNlc1tfZnJvbV0sIF92YWx1ZSk7CiAgICAgICAgICAvL0RlZHVjdCBBdXRob3JpemVkIGFtb3VudCBmb3Igc3BlbmRlcgogICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBTdWIoX2FsbG93YW5jZSwgX3ZhbHVlKTsKICAgICAgICAgIC8vRW1pdCBldmVudCBmb3IgVHJhbnNmZXIKICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgCiAgICAgIC8vR2V0IEJPUFQgYmFsYW5jZSBmb3IgcHJvdmlkZWQgYWRkcmVzcwogICAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgICB9CiAgICAgIAogICAgICAvL0FkZCBzcGVuZGVyIHRvIGF1dGhvcml6ZSBmb3Igc3BlbmRpbmcgc3BlY2lmaWVkIGFtb3VudCBvZiBCT1BUIAogICAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgLy9FbWl0IGV2ZW50IGZvciBhcHByb3ZhbCBwcm92aWRlZCB0byBzcGVuZGVyCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgICAgCiAgICAgIC8vR2V0IEJPUFQgYW1vdW50IHRoYXQgc3BlbmRlciBjYW4gc3BlbmQgZnJvbSBwcm92aWRlZCBvd25lcidzIGFjY291bnQgCiAgICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgICAgfQogICAgICAKICAgICAgIC8qCQogICAgICAgKiBGYWlsc2FmZSBkcmFpbgogICAgICAgKi8KICAgIAlmdW5jdGlvbiBkcmFpbigpIG9ubHlPd25lciB7CiAgICAJCW93bmVyLnNlbmQodGhpcy5iYWxhbmNlKTsKICAgIAl9CgkKICAgIAlmdW5jdGlvbigpIHBheWFibGUgCiAgICAJeyAgIAogICAgCSAgICBpZighc3RvcHBlZCkKICAgIAkgICAgcmV2ZXJ0KCk7CiAgICAJICAgICBlbHNlIGlmKG1zZy5zZW5kZXIgPT0gb3duZXIpCiAgICAJICAgIHsKICAgIAkgICAgICAgIHByb2ZpdF9zZW50ID0gbXNnLnZhbHVlOwogICAgCSAgICB9CiAgICAJICAgZWxzZSBpZihub3c+PXByZV9pY29fc3RhcnQgJiYgbm93PD1wcmVfaWNvX2VuZCkKICAgIAkgICAgewogICAgCSAgICAgICAgdWludCBjaGVjayA9IGJhbGFuY2VzW293bmVyXS0oKDQwMCptc2cudmFsdWUpLzEwMDAwMDAwMDAwKTsKICAgIAkgICAgICAgIGlmKGNoZWNrID49IDE5MDAwMDAwMDAwMDAwMDApCiAgICAgICAgICAgICAgICBwcmVfaWNvKG1zZy5zZW5kZXIsbXNnLnZhbHVlKTsKICAgIAkgICAgfQogICAgICAgICAgICBlbHNlIGlmIChub3c+PWljb19zdGFydCAmJiBub3c8aWNvX2VuZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbWFpbl9pY28obXNnLnNlbmRlcixtc2cudmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgIH0KICAgICAgIAogICAgICAgZnVuY3Rpb24gcHJlX2ljbyhhZGRyZXNzIHNlbmRlciwgdWludCB2YWx1ZSlwYXlhYmxlCiAgICAgICB7CiAgICAgICAgICBjb3VudGVyID0gY291bnRlcisxOwoJICAgICAgaW52ZXN0b3JbY291bnRlcl09c2VuZGVyOwogICAgICAgICAgd2VpcmVjZWl2ZWRbY291bnRlcl09dmFsdWU7CiAgICAgICAgICBvcHRzU2VudFtjb3VudGVyXSA9ICg0MDAqdmFsdWUpLzEwMDAwMDAwMDAwOwogICAgICAgICAgYmFsYW5jZXNbb3duZXJdPWJhbGFuY2VzW293bmVyXS1vcHRzU2VudFtjb3VudGVyXTsKICAgICAgICAgIGJhbGFuY2VzW2ludmVzdG9yW2NvdW50ZXJdXSs9b3B0c1NlbnRbY291bnRlcl07CiAgICAgICAgICBwcmVpY28oY291bnRlcixpbnZlc3Rvcltjb3VudGVyXSx3ZWlyZWNlaXZlZFtjb3VudGVyXSxvcHRzU2VudFtjb3VudGVyXSk7CiAgICAgICB9CiAgICAgICAKICAgICAgIGZ1bmN0aW9uICBtYWluX2ljbyhhZGRyZXNzIHNlbmRlciwgdWludCB2YWx1ZSlwYXlhYmxlCiAgICAgICB7CiAgICAgICAgICAgaWYobm93ID49IGljb19zdGFydCAmJiBub3cgPD0gKGljb19zdGFydCArIDcgZGF5cykpIC8vMjAlIGRpc2NvdW50IG9uIEJPUFQKICAgICAgICAgICB7CiAgICAgICAgICAgICAgY291bnRlciA9IGNvdW50ZXIrMTsKICAgIAkgICAgICBpbnZlc3Rvcltjb3VudGVyXT1zZW5kZXI7CiAgICAgICAgICAgICAgd2VpcmVjZWl2ZWRbY291bnRlcl09dmFsdWU7CiAgICAgICAgICAgICAgb3B0c1NlbnRbY291bnRlcl0gPSAoMjUwKnZhbHVlKS8xMDAwMDAwMDAwMDsKICAgICAgICAgICAgICBiYWxhbmNlc1tvd25lcl09YmFsYW5jZXNbb3duZXJdLW9wdHNTZW50W2NvdW50ZXJdOwogICAgICAgICAgICAgIGJhbGFuY2VzW2ludmVzdG9yW2NvdW50ZXJdXSs9b3B0c1NlbnRbY291bnRlcl07CiAgICAgICAgICAgICAgaWNvKGNvdW50ZXIsaW52ZXN0b3JbY291bnRlcl0sd2VpcmVjZWl2ZWRbY291bnRlcl0sb3B0c1NlbnRbY291bnRlcl0pOwogICAgICAgICAgIH0KICAgICAgICAgICBlbHNlIGlmIChub3cgPj0gKGljb19zdGFydCArIDcgZGF5cykgJiYgbm93IDw9IChpY29fc3RhcnQgKyAxNCBkYXlzKSkgLy8xMCUgZGlzY291bnQgb24gQk9QVAogICAgICAgICAgIHsKICAgICAgICAgICAgICBjb3VudGVyID0gY291bnRlcisxOwogICAgCSAgICAgIGludmVzdG9yW2NvdW50ZXJdPXNlbmRlcjsKICAgICAgICAgICAgICB3ZWlyZWNlaXZlZFtjb3VudGVyXT12YWx1ZTsKICAgICAgICAgICAgICBvcHRzU2VudFtjb3VudGVyXSA9ICgyMjAqdmFsdWUpLzEwMDAwMDAwMDAwOwogICAgICAgICAgICAgIGJhbGFuY2VzW293bmVyXT1iYWxhbmNlc1tvd25lcl0tb3B0c1NlbnRbY291bnRlcl07CiAgICAgICAgICAgICAgYmFsYW5jZXNbaW52ZXN0b3JbY291bnRlcl1dKz1vcHRzU2VudFtjb3VudGVyXTsKICAgICAgICAgICAgICBpY28oY291bnRlcixpbnZlc3Rvcltjb3VudGVyXSx3ZWlyZWNlaXZlZFtjb3VudGVyXSxvcHRzU2VudFtjb3VudGVyXSk7CiAgICAgICAgICAgfQogICAgICAgICAgIGVsc2UgaWYgKG5vdyA+PSAoaWNvX3N0YXJ0ICsgMTQgZGF5cykgJiYgbm93IDw9IChpY29fc3RhcnQgKyAzMSBkYXlzKSkgLy9ubyBkaXNjb3VudCBvbiBCT1BUCiAgICAgICAgICAgewogICAgICAgICAgICAgIGNvdW50ZXIgPSBjb3VudGVyKzE7CiAgICAJICAgICAgaW52ZXN0b3JbY291bnRlcl09c2VuZGVyOwogICAgICAgICAgICAgIHdlaXJlY2VpdmVkW2NvdW50ZXJdPXZhbHVlOwogICAgICAgICAgICAgIG9wdHNTZW50W2NvdW50ZXJdID0gKDIwMCp2YWx1ZSkvMTAwMDAwMDAwMDA7CiAgICAgICAgICAgICAgYmFsYW5jZXNbb3duZXJdPWJhbGFuY2VzW293bmVyXS1vcHRzU2VudFtjb3VudGVyXTsKICAgICAgICAgICAgICBiYWxhbmNlc1tpbnZlc3Rvcltjb3VudGVyXV0rPW9wdHNTZW50W2NvdW50ZXJdOwogICAgICAgICAgICAgIGljbyhjb3VudGVyLGludmVzdG9yW2NvdW50ZXJdLHdlaXJlY2VpdmVkW2NvdW50ZXJdLG9wdHNTZW50W2NvdW50ZXJdKTsKICAgICAgICAgICB9CiAgICAgICB9CiAgICAgICAKICAgICAgIGZ1bmN0aW9uIHN0YXJ0SUNPKClvbmx5T3duZXIKICAgICAgIHsKICAgICAgICAgICBpY29fc3RhcnQgPSBub3c7CiAgICAgICAgICAgaWNvX2VuZD1pY29fc3RhcnQgKyAzMSBkYXlzOwogICAgICAgICAgIHByZV9pY29fc3RhcnQgPSAwOwogICAgICAgICAgIHByZV9pY29fZW5kID0gMDsKICAgICAgICAgICAKICAgICAgIH0KICAgICAgIAogICAgICAKICAgICAgICBmdW5jdGlvbiBlbmRJQ08oKW9ubHlPd25lcgogICAgICAgewogICAgICAgICAgc3RvcHBlZD10cnVlOwogICAgICAgICAgaWYoYmFsYW5jZXNbb3duZXJdID4gMjAwMDAwMCkKICAgICAgICAgIGJhbGFuY2VzW293bmVyXSA9IDIwMDAwMDA7CiAgICAgICAgICAgCiAgICAgICB9CgogICAgICAgIHN0cnVjdCBkaXN0cmlidXRpb25TdHJ1Y3QKICAgICAgICB7CiAgICAgICAgICAgIHVpbnQgZGl2aWRlbnQ7CiAgICAgICAgICAgIGJvb2wgZGl2aWRlbnRTdGF0dXM7CiAgICAgICAgfSAgIAogICAgICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBkaXN0cmlidXRpb25TdHJ1Y3QpIGRpdmlkZW50c01hcDsKICAgICAgICBtYXBwaW5nKHVpbnQgPT4gYWRkcmVzcylyZXF1ZXN0b3I7CiAgIAogICAgICAgICBldmVudCBkaXZpZGVudFNlbnQodWludCByZXF1ZXN0TnVtYmVyLGFkZHJlc3MgdG8sdWludCBkaXZpKTsKICAgICAgICAgdWludCByZXF1ZXN0Q291bnQ9MDsKICAgICAgICAgIAogICAgICAgICAgZnVuY3Rpb24gZGlzdHJpYnV0ZSgpb25seU93bmVyCiAgICAgICAgICB7CiAgICAgICAgICAgICAgZm9yKHVpbnQgaT0xOyBpIDw9IGNvdW50ZXI7aSsrKQogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGRpdmlkZW50c01hcFtpbnZlc3RvcltpXV0uZGl2aWRlbnQgPSAoYmFsYW5jZU9mKGludmVzdG9yW2ldKSpwcm9maXRfc2VudCkvKHRvdGFsU3VwcGx5KjEwMDAwMDAwMCk7CiAgICAgICAgICAgICAgICBkaXZpZGVudHNNYXBbaW52ZXN0b3JbaV1dLmRpdmlkZW50U3RhdHVzID0gdHJ1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICAgCiAgICAgICAgICBmdW5jdGlvbiByZXF1ZXN0RGl2aWRlbnQoKXBheWFibGUKICAgICAgICAgIHsKICAgICAgICAgICAgICByZXF1ZXN0Q291bnQgPSByZXF1ZXN0Q291bnQgKyAxOwogICAgICAgICAgICAgIHJlcXVlc3RvcltyZXF1ZXN0Q291bnRdID0gbXNnLnNlbmRlcjsKICAgICAgICAgICAgICAgICAgaWYoZGl2aWRlbnRzTWFwW3JlcXVlc3RvcltyZXF1ZXN0Q291bnRdXS5kaXZpZGVudFN0YXR1cyA9PSB0cnVlKQogICAgICAgICAgICAgICAgICB7ICAgCiAgICAgICAgICAgICAgICAgICAgICBkaXZpZGVudFNlbnQocmVxdWVzdENvdW50LHJlcXVlc3RvcltyZXF1ZXN0Q291bnRdLGRpdmlkZW50c01hcFtyZXF1ZXN0b3JbcmVxdWVzdENvdW50XV0uZGl2aWRlbnQpOwogICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdG9yW3JlcXVlc3RDb3VudF0uc2VuZChkaXZpZGVudHNNYXBbcmVxdWVzdG9yW3JlcXVlc3RDb3VudF1dLmRpdmlkZW50KTsKICAgICAgICAgICAgICAgICAgICAgIGRpdmlkZW50c01hcFtyZXF1ZXN0b3JbcmVxdWVzdENvdW50XV0uZGl2aWRlbnRTdGF0dXMgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAKICAgICAgICAgIH0KCn0='.
	

]
