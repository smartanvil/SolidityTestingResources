Class {
	#name : #SRT6D56fb76d62bBB01cec94612db6bfAd81bF65F3A,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT6D56fb76d62bBB01cec94612db6bfAd81bF65F3A >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5XjAuNC4xMzsKCi8qKgogKiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gbWF4NjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1heDI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgewogICAgaWYgKCFhc3NlcnRpb24pIHsKICAgICAgdGhyb3c7CiAgICB9CiAgfQp9CgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4gCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgYmFsYW5jZXM7CgogIC8qKgogICAqIEBkZXYgRml4IGZvciB0aGUgRVJDMjAgc2hvcnQgYWRkcmVzcyBhdHRhY2suCiAgICovCiAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgc2l6ZSkgewogICAgIGlmKG1zZy5kYXRhLmxlbmd0aCA8IHNpemUgKyA0KSB7CiAgICAgICB0aHJvdzsKICAgICB9CiAgICAgXzsKICB9CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seVBheWxvYWRTaXplKDIgKiAzMikgewogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuIAogICogQHJldHVybiBBbiB1aW50IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9Cgp9CgoKLyoqCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBAZGV2IEltcGxlbWVudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFyZCB0b2tlbi4KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBCYXNpY1Rva2VuLCBFUkMyMCB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seVBheWxvYWRTaXplKDMgKiAzMikgewogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgIC8vIGlmIChfdmFsdWUgPiBfYWxsb3dhbmNlKSB0aHJvdzsKCiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWFobGYgb2YgbXNnLnNlbmRlci4KICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSB7CgogICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAvLyAgYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgaWYgKChfdmFsdWUgIT0gMCkgJiYgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdICE9IDApKSB0aHJvdzsKCiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGFuIGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcmV0dXJuIEEgdWludCBzcGVjaWZpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKfQoKCmNvbnRyYWN0IFNGVFRva2VuIGlzIFN0YW5kYXJkVG9rZW4gewoJdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgoJc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIlNGVCBUb2tlbiI7CglzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJTRlQiOwoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsgCglzdHJpbmcgcHVibGljIHZlcnNpb24gPSAiMS4wIjsKCQoJYWRkcmVzcyBwdWJsaWMgZXhlY3V0b3I7CglhZGRyZXNzIHB1YmxpYyBkZXZFVEhEZXN0aW5hdGlvbjsKCWFkZHJlc3MgcHVibGljIGRldlNGVERlc3RpbmF0aW9uOwoJCglib29sIHB1YmxpYyBzYWxlSGFzRW5kZWQ7Cglib29sIHB1YmxpYyBtaW5DYXBSZWFjaGVkOwoJYm9vbCBwdWJsaWMgYWxsb3dSZWZ1bmQ7CgoJbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgRVRIQ29udHJpYnV0ZWQ7CgoJdWludDI1NiBwdWJsaWMgdG90YWxFVEhSYWlzZWQ7CgoJdWludDI1NiBwdWJsaWMgc2FsZVN0YXJ0QmxvY2s7Cgl1aW50MjU2IHB1YmxpYyBzYWxlRW5kQmxvY2s7CgogICAgICAgIHVpbnQyNTYgcHVibGljIHNhbGVGaXJzdEVhcmx5QmlyZEVuZEJsb2NrOwoJdWludDI1NiBwdWJsaWMgc2FsZVNlY29uZEVhcmx5QmlyZEVuZEJsb2NrOwoKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IERFVl9QT1JUSU9OID0gNDU7Cgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBTRUNVUklUWV9FVEhFUl9DQVAgPSAyMDAwMCBldGhlcjsKCiAgICAgICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgU0ZUX1BFUl9FVEhfRklSU1RfRUFSTFlfQklSRF9SQVRFID0gNTUwOwoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgU0ZUX1BFUl9FVEhfU0VDT05EX0VBUkxZX0JJUkRfUkFURSA9IDUyNTsKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IFNGVF9QRVJfRVRIX0JBU0VfUkFURSA9IDUwMDsgCgkKCWZ1bmN0aW9uIFNGVFRva2VuKCkgewoJICAgICAgICBleGVjdXRvciA9IG1zZy5zZW5kZXI7CgoJCXNhbGVIYXNFbmRlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgbWluQ2FwUmVhY2hlZCA9IGZhbHNlOwoJCWFsbG93UmVmdW5kID0gZmFsc2U7CgoJCWRldkVUSERlc3RpbmF0aW9uID0gMHg4QzVDYkU5QjI4NjE4RGQyZDdlNkE0MTEwRkI1MkRGYTM3OGEwMTk2OwoJCWRldlNGVERlc3RpbmF0aW9uID0gMHg4QzVDYkU5QjI4NjE4RGQyZDdlNkE0MTEwRkI1MkRGYTM3OGEwMTk2OwoKCQl0b3RhbEVUSFJhaXNlZCA9IDA7CgkJdG90YWxTdXBwbHkgPSAwOwoKCQlzYWxlU3RhcnRCbG9jayA9IDQxNjY1MzA7CgkJc2FsZUVuZEJsb2NrID0gNDI5MTgxMDsKCiAgICAgICAgICAgICAgICBzYWxlRmlyc3RFYXJseUJpcmRFbmRCbG9jayA9IDQxOTQ2MTA7CiAgICAgICAgICAgICAgICBzYWxlU2Vjb25kRWFybHlCaXJkRW5kQmxvY2sgPSA0MjI3MDEwIDsKCgl9CgkKCWZ1bmN0aW9uIGNyZWF0ZVRva2VucygpIHBheWFibGUgZXh0ZXJuYWwgewoJCWlmIChzYWxlSGFzRW5kZWQpIHRocm93OwoJCWlmIChibG9jay5udW1iZXIgPCBzYWxlU3RhcnRCbG9jaykgdGhyb3c7CgkJaWYgKGJsb2NrLm51bWJlciA+IHNhbGVFbmRCbG9jaykgdGhyb3c7CgkJdWludDI1NiBuZXdFdGhlckJhbGFuY2UgPSB0b3RhbEVUSFJhaXNlZC5hZGQobXNnLnZhbHVlKTsKCQlpZiAobmV3RXRoZXJCYWxhbmNlID4gU0VDVVJJVFlfRVRIRVJfQ0FQKSB0aHJvdzsgCgkJaWYgKDAgPT0gbXNnLnZhbHVlKSB0aHJvdzsKCQkKCQl1aW50MjU2IGN1clRva2VuUmF0ZSA9IFNGVF9QRVJfRVRIX0JBU0VfUkFURTsKCiAgICAgICAgICAgICAgICBpZiAoYmxvY2subnVtYmVyIDwgc2FsZUZpcnN0RWFybHlCaXJkRW5kQmxvY2spIHsKCSAgICAgICAgICBjdXJUb2tlblJhdGUgPSBTRlRfUEVSX0VUSF9GSVJTVF9FQVJMWV9CSVJEX1JBVEU7CgkJfQoJCWVsc2UgaWYgKGJsb2NrLm51bWJlciA8IHNhbGVTZWNvbmRFYXJseUJpcmRFbmRCbG9jaykgewoJCSAgY3VyVG9rZW5SYXRlID0gU0ZUX1BFUl9FVEhfU0VDT05EX0VBUkxZX0JJUkRfUkFURTsKCQl9CgoJCXVpbnQyNTYgYW1vdW50T2ZFVEggPSBtc2cudmFsdWUubXVsKGN1clRva2VuUmF0ZSk7CgoJCXVpbnQyNTYgdG90YWxTdXBwbHlTYWZlID0gdG90YWxTdXBwbHkuYWRkKGFtb3VudE9mRVRIKTsKCQl1aW50MjU2IGJhbGFuY2VTYWZlID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKGFtb3VudE9mRVRIKTsKCQl1aW50MjU2IGNvbnRyaWJ1dGVkU2FmZSA9IEVUSENvbnRyaWJ1dGVkW21zZy5zZW5kZXJdLmFkZChtc2cudmFsdWUpOwoKCQl0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5U2FmZTsKCQliYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VTYWZlOwoKCQl0b3RhbEVUSFJhaXNlZCA9IG5ld0V0aGVyQmFsYW5jZTsKCQlFVEhDb250cmlidXRlZFttc2cuc2VuZGVyXSA9IGNvbnRyaWJ1dGVkU2FmZTsKCgl9CgkKCWZ1bmN0aW9uIGVuZFNhbGUoKSB7CgkJaWYgKHNhbGVIYXNFbmRlZCkgdGhyb3c7CgkJaWYgKCFtaW5DYXBSZWFjaGVkKSB0aHJvdzsKCQlpZiAobXNnLnNlbmRlciAhPSBleGVjdXRvcikgdGhyb3c7CgogICAgICAgICAgICAgICAgdWludDI1NiBhZGRpdGlvbmFsU0ZUID0gKHRvdGFsU3VwcGx5Lm11bChERVZfUE9SVElPTikpLmRpdigxMDAgLSBERVZfUE9SVElPTik7CgkJdWludDI1NiB0b3RhbFN1cHBseVNhZmUgPSB0b3RhbFN1cHBseS5hZGQoYWRkaXRpb25hbFNGVCk7CgkJdWludDI1NiBkZXZTaGFyZSA9IGFkZGl0aW9uYWxTRlQ7CgoJCXRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHlTYWZlOwoJCWJhbGFuY2VzW2RldlNGVERlc3RpbmF0aW9uXSA9IGRldlNoYXJlOwoKCSAgICAgICAgc2FsZUhhc0VuZGVkID0gdHJ1ZTsKCgkJaWYgKHRoaXMuYmFsYW5jZSA+IDApIHsKCQkJaWYgKCFkZXZFVEhEZXN0aW5hdGlvbi5jYWxsLnZhbHVlKHRoaXMuYmFsYW5jZSkoKSkgdGhyb3c7CgkJfQoJfQoKICAgICAgCWZ1bmN0aW9uIHdpdGhkcmF3RnVuZHMoKSB7CgkJaWYgKDAgPT0gdGhpcy5iYWxhbmNlKSB0aHJvdzsKCQlpZiAoIW1pbkNhcFJlYWNoZWQpIHRocm93OwoJCWlmICghZGV2RVRIRGVzdGluYXRpb24uY2FsbC52YWx1ZSh0aGlzLmJhbGFuY2UpKCkpIHRocm93OwoJfQoKICAgICAgICBmdW5jdGlvbiB0cmlnZ2VyTWluQ2FwKCkgewoJCWlmIChtc2cuc2VuZGVyICE9IGV4ZWN1dG9yKSB0aHJvdzsKCQltaW5DYXBSZWFjaGVkID0gdHJ1ZTsKCX0KCglmdW5jdGlvbiB0cmlnZ2VyUmVmdW5kKCkgewoJCS8vIE5vIHJlZnVuZHMgaWYgdGhlIHNhbGUgd2FzIHN1Y2Nlc3NmdWwKCQlpZiAoc2FsZUhhc0VuZGVkKSB0aHJvdzsKCQkvLyBObyByZWZ1bmRzIGlmIG1pbmltdW0gY2FwIGlzIGhpdAoJCWlmIChtaW5DYXBSZWFjaGVkKSB0aHJvdzsKCQkvLyBObyByZWZ1bmRzIGlmIHRoZSBzYWxlIGlzIHN0aWxsIHByb2dyZXNzaW5nCgkJaWYgKGJsb2NrLm51bWJlciA8IHNhbGVFbmRCbG9jaykgdGhyb3c7CgkJaWYgKG1zZy5zZW5kZXIgIT0gZXhlY3V0b3IpIHRocm93OwoKCQlhbGxvd1JlZnVuZCA9IHRydWU7Cgl9CgoJZnVuY3Rpb24gcmVmdW5kKCkgZXh0ZXJuYWwgewoJCS8vIE5vIHJlZnVuZHMgdW50aWwgaXQgaXMgYXBwcm92ZWQKCQlpZiAoIWFsbG93UmVmdW5kKSB0aHJvdzsKCQkvLyBOb3RoaW5nIHRvIHJlZnVuZAoJCWlmICgwID09IEVUSENvbnRyaWJ1dGVkW21zZy5zZW5kZXJdKSB0aHJvdzsKCgkJLy8gRG8gdGhlIHJlZnVuZC4KCQl1aW50MjU2IGV0aGVyQW1vdW50ID0gRVRIQ29udHJpYnV0ZWRbbXNnLnNlbmRlcl07CgkJRVRIQ29udHJpYnV0ZWRbbXNnLnNlbmRlcl0gPSAwOwoKCQlpZiAoIW1zZy5zZW5kZXIuc2VuZChldGhlckFtb3VudCkpIHRocm93OwoJfQoJCglmdW5jdGlvbiBjaGFuZ2VEZXZlbG9wZXJFVEhEZXN0aW5hdGlvbkFkZHJlc3MoYWRkcmVzcyBfbmV3QWRkcmVzcykgewoJCWlmIChtc2cuc2VuZGVyICE9IGV4ZWN1dG9yKSB0aHJvdzsKCQlkZXZFVEhEZXN0aW5hdGlvbiA9IF9uZXdBZGRyZXNzOwoJfQoJCglmdW5jdGlvbiBjaGFuZ2VEZXZlbG9wZXJTRlREZXN0aW5hdGlvbkFkZHJlc3MoYWRkcmVzcyBfbmV3QWRkcmVzcykgewoJCWlmIChtc2cuc2VuZGVyICE9IGV4ZWN1dG9yKSB0aHJvdzsKCQlkZXZTRlREZXN0aW5hdGlvbiA9IF9uZXdBZGRyZXNzOwoJfQoJCglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHsKCQlzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7Cgl9CgkKCWZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHsKCQlzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKCX0KCiAgICAgICAgZnVuY3Rpb24oKSBwYXlhYmxlewogICAgICAgICAgdGhpcy5jcmVhdGVUb2tlbnMoKTsKICAgICAgICB9Cn0='.
	

]
