Class {
	#name : #SRTfad1f1549f979c525b03141ceaa65775cf56b724,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTfad1f1549f979c525b03141ceaa65775cf56b724 >> base64 [
	^ 'LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogVGhpcyBjb250cmFjdCBoYXMgYmVlbiBtZXJnZWQgd2l0aCBzb2xpZGlmeQogKiBodHRwczovL2dpdGh1Yi5jb20vdGllc25ldHdvcmsvc29saWRpZnkKICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiAKIHByYWdtYSBzb2xpZGl0eSBeMC40LjExOwoKLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogaW1wb3J0ICIuL1N0YW5kYXJkVG9rZW4uc29sIiA6IHN0YXJ0CiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAqIGltcG9ydCAiLi9TYWZlTWF0aC5zb2wiIDogc3RhcnQKICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSAgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpICBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSAgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpICBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9Ci8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAqIGltcG9ydCAiLi9TYWZlTWF0aC5zb2wiIDogZW5kCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gewoKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKCiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCiAgZXZlbnQgUGF1c2UoKTsKICBldmVudCBVbnBhdXNlKCk7CgogIGJvb2wgcHVibGljIHBhdXNlZCA9IGZhbHNlOwoKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBpbnRlcm5hbCBhbGxvd2VkOwogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gU3RhbmRhcmRUb2tlbigpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpICBwdWJsaWMgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKCiAgICAvLyBTYWZlTWF0aC5zdWIgd2lsbCB0aHJvdyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJhbGFuY2UuCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLgogICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgIHB1YmxpYyB3aGVuTm90UGF1c2VkIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbX2Zyb21dKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQXBwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqCiAgICogQmV3YXJlIC0gY2hhbmdpbmcgYW4gYWxsb3dhbmNlIHdpdGggdGhpcyBtZXRob2QgYnJpbmdzIHRoZSByaXNrIHRoYXQgc29tZW9uZSBtYXkgdXNlIGJvdGggdGhlIG9sZAogICAqIGFuZCB0aGUgbmV3IGFsbG93YW5jZSBieSB1bmZvcnR1bmF0ZSB0cmFuc2FjdGlvbiBvcmRlcmluZy4gT25lIHBvc3NpYmxlIHNvbHV0aW9uIHRvIG1pdGlnYXRlIHRoaXMKICAgKiByYWNlIGNvbmRpdGlvbiBpcyB0byBmaXJzdCByZWR1Y2UgdGhlIHNwZW5kZXIncyBhbGxvd2FuY2UgdG8gMCBhbmQgc2V0IHRoZSBkZXNpcmVkIHZhbHVlIGFmdGVyd2FyZHM6CiAgICogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSAgcHVibGljIHdoZW5Ob3RQYXVzZWQgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCiAgLyoqCiAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gaW5jcmVtZW50CiAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgKi8KICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSBwdWJsaWMgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgcHVibGljIHdoZW5Ob3RQYXVzZWQgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICB1aW50IG9sZFZhbHVlID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl07CiAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgfQogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBNb2RpZmllciB0byBtYWtlIGEgZnVuY3Rpb24gY2FsbGFibGUgb25seSB3aGVuIHRoZSBjb250cmFjdCBpcyBub3QgcGF1c2VkLgogICAqLwogIG1vZGlmaWVyIHdoZW5Ob3RQYXVzZWQoKSB7CiAgICByZXF1aXJlKCFwYXVzZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgTW9kaWZpZXIgdG8gbWFrZSBhIGZ1bmN0aW9uIGNhbGxhYmxlIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgaXMgcGF1c2VkLgogICAqLwogIG1vZGlmaWVyIHdoZW5QYXVzZWQoKSB7CiAgICByZXF1aXJlKHBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHBhdXNlLCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gcGF1c2UoKSBvbmx5T3duZXIgd2hlbk5vdFBhdXNlZCBwdWJsaWMgewogICAgcGF1c2VkID0gdHJ1ZTsKICAgIFBhdXNlKCk7CiAgfQoKICAvKioKICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gdW5wYXVzZSwgcmV0dXJucyB0byBub3JtYWwgc3RhdGUKICAgKi8KICBmdW5jdGlvbiB1bnBhdXNlKCkgb25seU93bmVyIHdoZW5QYXVzZWQgcHVibGljIHsKICAgIHBhdXNlZCA9IGZhbHNlOwogICAgVW5wYXVzZSgpOwogIH0KCn0KLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogaW1wb3J0ICIuL1N0YW5kYXJkVG9rZW4uc29sIiA6IGVuZAogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCmNvbnRyYWN0IENvaW5zT3BlblRva2VuIGlzIFN0YW5kYXJkVG9rZW4KewoKCiAgLy8gVG9rZW4gaW5mb3JtYXRpb25zCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkNPVCI7CiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiQ09UIjsKICB1aW50OCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKCiAgdWludCBwdWJsaWMgdG90YWxTdXBwbHkgPSAyMzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDsKICB1aW50MjU2IHB1YmxpYyBwcmVzYWxlU3VwcGx5ID0gMjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDsKICB1aW50MjU2IHB1YmxpYyBzYWxlU3VwcGx5ID0gMTMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA7CiAgdWludDI1NiBwdWJsaWMgcmVzZXJ2ZVN1cHBseSA9IDgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA7CgogIHVpbnQyNTYgcHVibGljIHNhbGVTdGFydFRpbWUgPSAxNTExMTM2MDAwOyAvKiBNb25kYXksIE5vdmVtYmVyIDIwLCAyMDE3IDEyOjAwOjAwIEFNICovCiAgdWludDI1NiBwdWJsaWMgc2FsZUVuZFRpbWUgPSAxNTEzNzI4MDAwOyAvKiBXZWRuZXNkYXksIERlY2VtYmVyIDIwLCAyMDE3IDEyOjAwOjAwIEFNICovCiAgdWludDI1NiBwdWJsaWMgcHJlU2FsZVN0YXJ0VGltZSA9IDE1MDg0NTc2MDA7IC8qIEZyaWRheSwgT2N0b2JlciAyMCwgMjAxNyAxMjowMDowMCBBTSAqLwogIHVpbnQyNTYgcHVibGljIGRldmVsb3BlckxvY2sgPSAxNTAwNTA4ODAwOwoKICB1aW50MjU2IHB1YmxpYyB0b3RhbFdlaVJhaXNlZCA9IDA7CgogIHVpbnQyNTYgcHVibGljIHByZVNhbGVUb2tlblByaWNlID0gMTQwMDsKICB1aW50MjU2IHB1YmxpYyBzYWxlVG9rZW5QcmljZSA9IDcwMDsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBsYXN0RGl2aWRlbmQ7CiAgbWFwcGluZyAodWludDI1NiA9PnVpbnQyNTYpIGRpdmlkZW5kTGlzdDsKICB1aW50MjU2IGN1cnJlbnREaXZpZGVuZCA9IDA7CiAgdWludDI1NiBkaXZpZGVuZEFtb3VudCA9IDA7CgogIHN0cnVjdCBCdXlPcmRlciB7CiAgICAgIHVpbnQyNTYgd2V0aGVyOwogICAgICBhZGRyZXNzIHJlY2VpdmVyOwogICAgICBhZGRyZXNzIHBheWVyOwogICAgICBib29sIHByZXNhbGU7CiAgfQoKICAvKioKICAgKiBldmVudCBmb3IgdG9rZW4gcHVyY2hhc2UgbG9nZ2luZwogICAqIEBwYXJhbSBwdXJjaGFzZXIgd2hvIHBhaWQgZm9yIHRoZSB0b2tlbnMKICAgKiBAcGFyYW0gYmVuZWZpY2lhcnkgd2hvIGdvdCB0aGUgdG9rZW5zCiAgICogQHBhcmFtIHZhbHVlIHdlaXMgcGFpZCBmb3IgcHVyY2hhc2UKICAgKiBAcGFyYW0gYW1vdW50IGFtb3VudCBvZiB0b2tlbnMgcHVyY2hhc2VkCiAgICovCiAgZXZlbnQgVG9rZW5QdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgcHVyY2hhc2VyLCBhZGRyZXNzIGluZGV4ZWQgYmVuZWZpY2lhcnksIHVpbnQyNTYgdmFsdWUsIHVpbnQyNTYgYW1vdW50LCBib29sIHByZXNhbGUpOwoKICAvKioKICAgKiBldmVudCBmb3Igbm90aWZ5aW5nIG9mIGEgRXRoZXIgcmVjZWl2ZWQgdG8gZGlzdHJpYnV0ZSBhcyBkaXZpZGVuZAogICAqIEBwYXJhbSBhbW91bnQgb2YgZGl2aWRlbmQgcmVjZWl2ZWQKICAgKi8KICBldmVudCBEaXZpZGVuZEF2YWlsYWJsZSh1aW50IGFtb3VudCk7CgogIC8qKgogICAqIGV2ZW50IHRyaWdnZXJlZCB3aGVuIHNlbmRpbmcgZGl2aWRlbmQgdG8gb3duZXIKICAgKiBAcGFyYW0gcmVjZWl2ZXIgd2hvIGlzIHJlY2VpdmluZyB0aGUgcGF5b3V0CiAgICogQHBhcmFtIGFtb3VudG9mZXRoZXIgcGFpZCByZWNlaXZlZAogICAqLwogIGV2ZW50IFNlbmREaXZpZGVuZChhZGRyZXNzIGluZGV4ZWQgcmVjZWl2ZXIsIHVpbnQgYW1vdW50b2ZldGhlcik7CgogIGZ1bmN0aW9uKCkgcGF5YWJsZSB7CiAgICBpZiAobXNnLnNlbmRlciA9PSBvd25lcikgewogICAgICBnaXZlRGl2aWRlbmQoKTsKICAgIH0gZWxzZSB7CiAgICAgIGJ1eVRva2Vucyhtc2cuc2VuZGVyKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGVuZFNhbGUoKSB3aGVuTm90UGF1c2VkIHsKICAgIHJlcXVpcmUgKCFpc0luU2FsZSgpKTsKICAgIHJlcXVpcmUgKHNhbGVTdXBwbHkgIT0gMCk7CiAgICByZXNlcnZlU3VwcGx5ID0gcmVzZXJ2ZVN1cHBseS5hZGQoc2FsZVN1cHBseSk7CiAgfQoKICAvKioKICAgKiBCdXkgdG9rZW5zIGR1cmluZyB0aGUgc2FsZS9wcmVzYWxlCiAgICogQHBhcmFtIF9yZWNlaXZlciB3aG8gc2hvdWxkIHJlY2VpdmUgdGhlIHRva2VucwogICAqLwogIGZ1bmN0aW9uIGJ1eVRva2VucyhhZGRyZXNzIF9yZWNlaXZlcikgcGF5YWJsZSB3aGVuTm90UGF1c2VkIHsKICAgIHJlcXVpcmUgKG1zZy52YWx1ZSAhPSAwKTsKICAgIHJlcXVpcmUgKF9yZWNlaXZlciAhPSAweDApOwogICAgcmVxdWlyZSAoaXNJblNhbGUoKSk7CiAgICBib29sIGlzUHJlc2FsZSA9IGlzSW5QcmVzYWxlKCk7CiAgICBpZiAoIWlzUHJlc2FsZSkgewogICAgICBjaGVja1ByZXNhbGUoKTsKICAgIH0KICAgIHVpbnQyNTYgdG9rZW5QcmljZSA9IHNhbGVUb2tlblByaWNlOwogICAgaWYgKGlzUHJlc2FsZSkgewogICAgICB0b2tlblByaWNlID0gcHJlU2FsZVRva2VuUHJpY2U7CiAgICB9CiAgICB1aW50MjU2IHRva2VucyA9IChtc2cudmFsdWUpLm11bCh0b2tlblByaWNlKTsKICAgIGlmIChpc1ByZXNhbGUpIHsKICAgICAgaWYgKHByZXNhbGVTdXBwbHkgPCB0b2tlbnMpIHsKICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBpZiAoc2FsZVN1cHBseSA8IHRva2VucykgewogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0KICAgIGNoZWNrRGl2aWRlbmQoX3JlY2VpdmVyKTsKICAgIFRva2VuUHVyY2hhc2UobXNnLnNlbmRlciwgX3JlY2VpdmVyLCBtc2cudmFsdWUsIHRva2VucywgaXNQcmVzYWxlKTsKICAgIHRvdGFsV2VpUmFpc2VkID0gdG90YWxXZWlSYWlzZWQuYWRkKG1zZy52YWx1ZSk7CiAgICBUcmFuc2ZlcigweDAsIF9yZWNlaXZlciwgdG9rZW5zKTsKICAgIGJhbGFuY2VzW19yZWNlaXZlcl0gPSBiYWxhbmNlc1tfcmVjZWl2ZXJdLmFkZCh0b2tlbnMpOwogICAgaWYgKGlzUHJlc2FsZSkgewogICAgICBwcmVzYWxlU3VwcGx5ID0gcHJlc2FsZVN1cHBseS5zdWIodG9rZW5zKTsKICAgIH0gZWxzZSB7CiAgICAgIHNhbGVTdXBwbHkgPSBzYWxlU3VwcGx5LnN1Yih0b2tlbnMpOwogICAgfQogIH0KCiAgLyoqCiAgICogQGRldiBQYXkgdGhpcyBmdW5jdGlvbiB0byBhZGQgdGhlIGRpdmlkZW5kcwogICAqLwogIGZ1bmN0aW9uIGdpdmVEaXZpZGVuZCgpIHBheWFibGUgd2hlbk5vdFBhdXNlZCB7CiAgICByZXF1aXJlIChtc2cudmFsdWUgIT0gMCk7CiAgICBkaXZpZGVuZEFtb3VudCA9IGRpdmlkZW5kQW1vdW50LmFkZChtc2cudmFsdWUpOwogICAgZGl2aWRlbmRMaXN0W2N1cnJlbnREaXZpZGVuZF0gPSAobXNnLnZhbHVlKS5tdWwoMTAwMDAwMDAwMDApLmRpdih0b3RhbFN1cHBseSk7CiAgICBjdXJyZW50RGl2aWRlbmQgPSBjdXJyZW50RGl2aWRlbmQuYWRkKDEpOwogICAgRGl2aWRlbmRBdmFpbGFibGUobXNnLnZhbHVlKTsKICB9CgogIC8qKgogICAqIEBkZXYgUmV0dXJucyB0cnVlIGlmIHdlIGFyZSBzdGlsbCBpbiBwcmUgc2FsZSBwZXJpb2QKICAgKiBAcGFyYW0gX2FjY291bnQgVGhlIGFkZHJlc3MgdG8gY2hlY2sgYW5kIHNlbmQgZGl2aWRlbmRzCiAgICovCiAgZnVuY3Rpb24gY2hlY2tEaXZpZGVuZChhZGRyZXNzIF9hY2NvdW50KSB3aGVuTm90UGF1c2VkIHsKICAgIGlmIChsYXN0RGl2aWRlbmRbX2FjY291bnRdICE9IGN1cnJlbnREaXZpZGVuZCkgewogICAgICBpZiAoYmFsYW5jZU9mKF9hY2NvdW50KSAhPSAwKSB7CiAgICAgICAgdWludDI1NiB0b1NlbmQgPSAwOwogICAgICAgIGZvciAodWludCBpID0gbGFzdERpdmlkZW5kW19hY2NvdW50XTsgaSA8IGN1cnJlbnREaXZpZGVuZDsgaSsrKSB7CiAgICAgICAgICB0b1NlbmQgKz0gYmFsYW5jZU9mKF9hY2NvdW50KS5tdWwoZGl2aWRlbmRMaXN0W2ldKS5kaXYoMTAwMDAwMDAwMDApOwogICAgICAgIH0KICAgICAgICBpZiAodG9TZW5kID4gMCAmJiB0b1NlbmQgPD0gZGl2aWRlbmRBbW91bnQpIHsKICAgICAgICAgIF9hY2NvdW50LnRyYW5zZmVyKHRvU2VuZCk7CiAgICAgICAgICBkaXZpZGVuZEFtb3VudCA9IGRpdmlkZW5kQW1vdW50LnN1Yih0b1NlbmQpOwogICAgICAgICAgU2VuZERpdmlkZW5kKF9hY2NvdW50LCB0b1NlbmQpOwogICAgICAgIH0KICAgICAgfQogICAgICBsYXN0RGl2aWRlbmRbX2FjY291bnRdID0gY3VycmVudERpdmlkZW5kOwogICAgfQogIH0KCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzIGNoZWNraW5nIGlmIHRoZXkgYXJlIGRpdmlkZW5kcyB0byBwYXkKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBjaGVja0RpdmlkZW5kKG1zZy5zZW5kZXIpOwogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICB9CgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlciBjaGVja2luZyBpZiB0aGV5IGFyZSBkaXZpZGVuZHMgdG8gcGF5CiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBjaGVja0RpdmlkZW5kKF9mcm9tKTsKICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICB9CgogIC8qKgogICAqIEBkZXYgUmV0dXJucyB0cnVlIGlmIHdlIGFyZSBzdGlsbCBpbiBwcmUgc2FsZSBwZXJpb2QKICAgKi8KICBmdW5jdGlvbiBpc0luUHJlc2FsZSgpIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBzYWxlU3RhcnRUaW1lID4gbm93OwogIH0KCiAgLyoqCiAgICogQGRldiBSZXR1cm5zIHRydWUgaWYgd2UgYXJlIHN0aWxsIGluIHNhbGUgcGVyaW9kCiAgICovCiAgZnVuY3Rpb24gaXNJblNhbGUoKSBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gc2FsZUVuZFRpbWUgPj0gbm93ICYmIHByZVNhbGVTdGFydFRpbWUgPD0gbm93OwogIH0KCiAgLy8gQHJldHVybiB0cnVlIGlmIHRoZSB0cmFuc2FjdGlvbiBjYW4gYnV5IHRva2VucwogIGZ1bmN0aW9uIGNoZWNrUHJlc2FsZSgpIGludGVybmFsIHsKICAgIGlmICghaXNJblByZXNhbGUoKSAmJiBwcmVzYWxlU3VwcGx5ID4gMCkgewogICAgICBzYWxlU3VwcGx5ID0gc2FsZVN1cHBseS5hZGQocHJlc2FsZVN1cHBseSk7CiAgICAgIHByZXNhbGVTdXBwbHkgPSAwOwogICAgfQogIH0KCiAgLyoqCiAgICogRGlzdHJpYnV0ZSB0b2tlbnMgZnJvbSB0aGUgcmVzZXJ2ZQogICAqIEBwYXJhbSBfYW1vdW50IEFtb3VudCB0byB0cmFuc2ZlcgogICAqIEBwYXJhbSBfcmVjZWl2ZXIgQWRkcmVzcyBvZiB0aGUgcmVjZWl2ZXIKICAgKi8KICBmdW5jdGlvbiBkaXN0cmlidXRlUmVzZXJ2ZVN1cHBseSh1aW50MjU2IF9hbW91bnQsIGFkZHJlc3MgX3JlY2VpdmVyKSBvbmx5T3duZXIgd2hlbk5vdFBhdXNlZCB7CiAgICByZXF1aXJlIChfYW1vdW50IDw9IHJlc2VydmVTdXBwbHkpOwogICAgcmVxdWlyZSAobm93ID49IGRldmVsb3BlckxvY2spOwogICAgY2hlY2tEaXZpZGVuZChfcmVjZWl2ZXIpOwogICAgYmFsYW5jZXNbX3JlY2VpdmVyXSA9IGJhbGFuY2VzW19yZWNlaXZlcl0uYWRkKF9hbW91bnQpOwogICAgcmVzZXJ2ZVN1cHBseS5zdWIoX2Ftb3VudCk7CiAgICBUcmFuc2ZlcigweDAsIF9yZWNlaXZlciwgX2Ftb3VudCk7CiAgfQoKICAvKioKICAgKiBXaXRoZHJhdyBzb21lIEV0aGVyIGZyb20gY29udHJhY3QKICAgKi8KICBmdW5jdGlvbiB3aXRoZHJhdyh1aW50IF9hbW91bnQpIG9ubHlPd25lciB7CiAgICByZXF1aXJlIChfYW1vdW50ICE9IDApOwogICAgcmVxdWlyZSAoX2Ftb3VudCA8IHRoaXMuYmFsYW5jZSk7CiAgICAobXNnLnNlbmRlcikudHJhbnNmZXIoX2Ftb3VudCk7CiAgfQoKICAvKioKICAgKiBXaXRoZHJhdyBFdGhlciBmcm9tIGNvbnRyYWN0CiAgICovCiAgZnVuY3Rpb24gd2l0aGRyYXdFdmVyeXRoaW5nKCkgb25seU93bmVyIHsKICAgIChtc2cuc2VuZGVyKS50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogIH0KCn0='.
	

]
