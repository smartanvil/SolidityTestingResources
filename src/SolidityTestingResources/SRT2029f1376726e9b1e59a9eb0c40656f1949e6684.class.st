Class {
	#name : #SRT2029f1376726e9b1e59a9eb0c40656f1949e6684,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT2029f1376726e9b1e59a9eb0c40656f1949e6684 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cgp9CgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9Cgpjb250cmFjdCBBTFQxVG9rZW4gaXMgT3duYWJsZSwgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSAgICAgPSAiQWx0YWlyIFZSIHByZXNhbGUgdG9rZW4iOwogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sICAgPSAiQUxUMSI7CiAgdWludDggIHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwoKICBib29sIHB1YmxpYyBtaW50aW5nRmluaXNoZWQgPSBmYWxzZTsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlczsKICBhZGRyZXNzW10gcHVibGljIGhvbGRlcnM7CgogIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CiAgZXZlbnQgTWludEZpbmlzaGVkKCk7CgogIC8qKgogICogQGRldiBGdW5jdGlvbiB0byBtaW50IHRva2VucwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0aGF0IHdpbGwgcmVjZWl2ZSB0aGUgbWludGVkIHRva2Vucy4KICAqIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIG1pbnQuCiAgKiBAcmV0dXJuIEEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICovCiAgZnVuY3Rpb24gbWludChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBvbmx5T3duZXIgY2FuTWludCBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX2Ftb3VudCk7CiAgICBpZiAoYmFsYW5jZXNbX3RvXSA9PSAwKSB7IAogICAgICBob2xkZXJzLnB1c2goX3RvKTsKICAgIH0KICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKCiAgICBNaW50KF90bywgX2Ftb3VudCk7CiAgICBUcmFuc2ZlcihhZGRyZXNzKDApLCBfdG8sIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgRnVuY3Rpb24gdG8gc3RvcCBtaW50aW5nIG5ldyB0b2tlbnMuCiAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAqLwogIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcoKSBvbmx5T3duZXIgY2FuTWludCBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgbWludGluZ0ZpbmlzaGVkID0gdHJ1ZTsKICAgIE1pbnRGaW5pc2hlZCgpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgQ3VycmVudCB0b2tlbiBpcyBub3QgdHJhbnNmZXJyZWQuCiAgKiBBZnRlciBzdGFydCBvZmZpY2lhbCB0b2tlbiBzYWxlIEFMVCwgeW91IGNhbiBleGNoYW5nZSB5b3VyIEFMVDEgdG8gQUxUCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzLCB1aW50MjU2KSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmV2ZXJ0KCk7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKICBtb2RpZmllciBjYW5NaW50KCkgewogICAgcmVxdWlyZSghbWludGluZ0ZpbmlzaGVkKTsKICAgIF87CiAgfQp9CgovKioKICogQHRpdGxlIENyb3dkc2FsZSBBTFQxIHByZXNhbGUgdG9rZW4KICovCgpjb250cmFjdCBDcm93ZHNhbGUgaXMgT3duYWJsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIHVpbnQyNTYgICBwdWJsaWMgY29uc3RhbnQgcmF0ZSA9IDEwMDAwOyAgICAgICAgICAgICAgICAgIC8vIEhvdyBtYW55IHRva2VuIHVuaXRzIGEgYnV5ZXIgZ2V0cyBwZXIgd2VpCiAgdWludDI1NiAgIHB1YmxpYyBjb25zdGFudCBjYXAgPSA4MDAwMDAwMCBldGhlcjsgICAgICAgICAgLy8gTWF4aW11bSBhbW91bnQgb2YgZnVuZHMKCiAgYm9vbCAgICAgIHB1YmxpYyBpc0ZpbmFsaXplZCA9IGZhbHNlOwoKICB1aW50MjU2ICAgcHVibGljIGVuZFRpbWUgPSAxNTIyNTQwODAwOyAgICAgICAgICAgICAgICAgIC8vIEVuZCB0aW1lc3RhbXBzIHdoZXJlIGludmVzdG1lbnRzIGFyZSBhbGxvd2VkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwMS1BcHItMTggMDA6MDA6MDAgVVRDCiAgdWludDI1NiBwdWJsaWMgYm9udXNEZWNyZWFzZURheSA9IDE1MTc1Mjk2MDA7ICAgICAgICAgICAvLyBGaXJzdCBkYXkgd2l0aCBsb3dlciBib251cyAwMi1GZWItMTggMDA6MDA6MDAgVVRDCgogIEFMVDFUb2tlbiAgICAgcHVibGljIHRva2VuOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFMVDEgdG9rZW4gaXRzZWxmCiAgQUxUMVRva2VuICAgICBwdWJsaWMgb2xkVG9rZW47ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT2xkIEFMVDEgdG9rZW4gZm9yIGJhbGFuY2UgY29udmVydGluZwogIGFkZHJlc3MgICAgICAgcHVibGljIHdhbGxldDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdhbGxldCBvZiBmdW5kcwogIHVpbnQyNTYgICAgICAgcHVibGljIHdlaVJhaXNlZDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFtb3VudCBvZiByYWlzZWQgbW9uZXkgaW4gd2VpCgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgb2xkSG9sZGVyczsKCiAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgYm9udXNCeUFtb3VudCA9IDcwOwogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGFtb3VudEZvckJvbnVzID0gNTAgZXRoZXI7CgogIG1hcHBpbmcodWludCA9PiB1aW50KSBwdWJsaWMgYm9udXNlc0J5RGF0ZXM7CiAgdWludFtdIHB1YmxpYyBib251c2VzRGF0ZXM7CgogIGV2ZW50IFRva2VuUHVyY2hhc2UoYWRkcmVzcyBpbmRleGVkIHB1cmNoYXNlciwgYWRkcmVzcyBpbmRleGVkIGJlbmVmaWNpYXJ5LCB1aW50MjU2IHZhbHVlLCB1aW50MjU2IGFtb3VudCk7CiAgZXZlbnQgRmluYWxpemVkKCk7CgogIGZ1bmN0aW9uIENyb3dkc2FsZSAoQUxUMVRva2VuIF9BTFQxLCBBTFQxVG9rZW4gX09sZEFMVDEsIGFkZHJlc3MgX3dhbGxldCkgcHVibGljIHsKICAgIGFzc2VydChhZGRyZXNzKF9BTFQxKSAhPSBhZGRyZXNzKDApKTsKICAgIGFzc2VydChhZGRyZXNzKF9PbGRBTFQxKSAhPSBhZGRyZXNzKDApKTsKICAgIGFzc2VydChfd2FsbGV0ICE9IGFkZHJlc3MoMCkpOwogICAgYXNzZXJ0KGVuZFRpbWUgPiBub3cpOwogICAgYXNzZXJ0KHJhdGUgPiAwKTsKICAgIGFzc2VydChjYXAgPiAwKTsKCiAgICB0b2tlbiA9IF9BTFQxOwogICAgb2xkVG9rZW4gPSBfT2xkQUxUMTsKCiAgICBib251c2VzRGF0ZXMgPSBbCiAgICAgIGJvbnVzRGVjcmVhc2VEYXksICAgLy8gMDItRmViLTE4IDAwOjAwOjAwIFVUQwogICAgICAxNTE3Nzg4ODAwLCAgICAgICAgIC8vIDA1LUZlYi0xOCAwMDowMDowMCBVVEMKICAgICAgMTUxODA0ODAwMCwgICAgICAgICAvLyAwOC1GZWItMTggMDA6MDA6MDAgVVRDCiAgICAgIDE1MTgzMDcyMDAsICAgICAgICAgLy8gMTEtRmViLTE4IDAwOjAwOjAwIFVUQwogICAgICAxNTE4NTY2NDAwLCAgICAgICAgIC8vIDE0LUZlYi0xOCAwMDowMDowMCBVVEMKICAgICAgMTUxODgyNTYwMCwgICAgICAgICAvLyAxNy1GZWItMTggMDA6MDA6MDAgVVRDCiAgICAgIDE1MTkwODQ4MDAsICAgICAgICAgLy8gMjAtRmViLTE4IDAwOjAwOjAwIFVUQwogICAgICAxNTE5MzQ0MDAwLCAgICAgICAgIC8vIDIzLUZlYi0xOCAwMDowMDowMCBVVEMKICAgICAgMTUxOTYwMzIwMCAgICAgICAgICAvLyAyNi1GZWItMTggMDA6MDA6MDAgVVRDCiAgICBdOwoKICAgIGJvbnVzZXNCeURhdGVzW2JvbnVzZXNEYXRlc1swXV0gPSA3MDsKICAgIGJvbnVzZXNCeURhdGVzW2JvbnVzZXNEYXRlc1sxXV0gPSA2NTsKICAgIGJvbnVzZXNCeURhdGVzW2JvbnVzZXNEYXRlc1syXV0gPSA2MDsKICAgIGJvbnVzZXNCeURhdGVzW2JvbnVzZXNEYXRlc1szXV0gPSA1NTsKICAgIGJvbnVzZXNCeURhdGVzW2JvbnVzZXNEYXRlc1s0XV0gPSA1MDsKICAgIGJvbnVzZXNCeURhdGVzW2JvbnVzZXNEYXRlc1s1XV0gPSA0NTsKICAgIGJvbnVzZXNCeURhdGVzW2JvbnVzZXNEYXRlc1s2XV0gPSA0MDsKICAgIGJvbnVzZXNCeURhdGVzW2JvbnVzZXNEYXRlc1s3XV0gPSAzNTsKICAgIGJvbnVzZXNCeURhdGVzW2JvbnVzZXNEYXRlc1s4XV0gPSAzMDsKCiAgCiAgICB3YWxsZXQgPSBfd2FsbGV0OwogIH0KCiAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewogICAgYnV5VG9rZW5zKG1zZy5zZW5kZXIpOwogIH0KCiAgZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgYmVuZWZpY2lhcnkpIHB1YmxpYyBwYXlhYmxlIHsKICAgIHJlcXVpcmUoYmVuZWZpY2lhcnkgIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKHZhbGlkUHVyY2hhc2UoKSk7CgogICAgdWludDI1NiB3ZWlBbW91bnQgPSBtc2cudmFsdWU7CiAgICB1aW50MjU2IHRva2VucyA9IHRva2Vuc0ZvcldlaSh3ZWlBbW91bnQpOwogICAgCiAgICB3ZWlSYWlzZWQgPSB3ZWlSYWlzZWQuYWRkKHdlaUFtb3VudCk7CgogICAgdG9rZW4ubWludChiZW5lZmljaWFyeSwgdG9rZW5zKTsKICAgIFRva2VuUHVyY2hhc2UobXNnLnNlbmRlciwgYmVuZWZpY2lhcnksIHdlaUFtb3VudCwgdG9rZW5zKTsKCiAgICBmb3J3YXJkRnVuZHMoKTsKICB9CgogIGZ1bmN0aW9uIGdldEJvbnVzKHVpbnQyNTYgX3Rva2VucykgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKF90b2tlbnMuZGl2KHJhdGUpID49IGFtb3VudEZvckJvbnVzICYmIG5vdyA8PSBib251c2VzRGF0ZXNbOF0pIHJldHVybiBfdG9rZW5zLm11bCg3MCkuZGl2KDEwMCk7CiAgICBpZiAobm93IDwgYm9udXNlc0RhdGVzWzBdKSByZXR1cm4gZ2V0Qm9udXNCeURhdGUoMCwgX3Rva2Vucyk7CiAgICBpZiAobm93IDwgYm9udXNlc0RhdGVzWzFdKSByZXR1cm4gZ2V0Qm9udXNCeURhdGUoMSwgX3Rva2Vucyk7CiAgICBpZiAobm93IDwgYm9udXNlc0RhdGVzWzJdKSByZXR1cm4gZ2V0Qm9udXNCeURhdGUoMiwgX3Rva2Vucyk7CiAgICBpZiAobm93IDwgYm9udXNlc0RhdGVzWzNdKSByZXR1cm4gZ2V0Qm9udXNCeURhdGUoMywgX3Rva2Vucyk7CiAgICBpZiAobm93IDwgYm9udXNlc0RhdGVzWzRdKSByZXR1cm4gZ2V0Qm9udXNCeURhdGUoNCwgX3Rva2Vucyk7CiAgICBpZiAobm93IDwgYm9udXNlc0RhdGVzWzVdKSByZXR1cm4gZ2V0Qm9udXNCeURhdGUoNSwgX3Rva2Vucyk7CiAgICBpZiAobm93IDwgYm9udXNlc0RhdGVzWzZdKSByZXR1cm4gZ2V0Qm9udXNCeURhdGUoNiwgX3Rva2Vucyk7CiAgICBpZiAobm93IDwgYm9udXNlc0RhdGVzWzddKSByZXR1cm4gZ2V0Qm9udXNCeURhdGUoNywgX3Rva2Vucyk7CiAgICBpZiAobm93IDwgYm9udXNlc0RhdGVzWzhdKSByZXR1cm4gZ2V0Qm9udXNCeURhdGUoOCwgX3Rva2Vucyk7CiAgICByZXR1cm4gX3Rva2Vucy5tdWwoMjUpLmRpdigxMDApOwogIH0KCiAgIGZ1bmN0aW9uIGdldEJvbnVzQnlEYXRlKHVpbnQyNTYgX251bWJlciwgdWludDI1NiBfdG9rZW5zKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJvbnVzKSB7CiAgICBib251cyA9IF90b2tlbnMubXVsKGJvbnVzZXNCeURhdGVzW2JvbnVzZXNEYXRlc1tfbnVtYmVyXV0pLmRpdigxMDApOwogICB9CgogIGZ1bmN0aW9uIGNvbnZlcnRPbGRUb2tlbihhZGRyZXNzIGJlbmVmaWNpYXJ5KSBwdWJsaWMgb2xkVG9rZW5Ib2xkZXJzKGJlbmVmaWNpYXJ5KSBvbGRUb2tlbkZpbmFsaXplZCB7CiAgICB1aW50IGFtb3VudCA9IG9sZFRva2VuLmJhbGFuY2VPZihiZW5lZmljaWFyeSk7CiAgICBvbGRIb2xkZXJzW2JlbmVmaWNpYXJ5XSA9IGFtb3VudDsKICAgIHdlaVJhaXNlZCA9IHdlaVJhaXNlZC5hZGQoYW1vdW50LmRpdigxNzAwMCkpOwogICAgdG9rZW4ubWludChiZW5lZmljaWFyeSwgYW1vdW50KTsKICB9CgogIGZ1bmN0aW9uIGNvbnZlcnRBbGxPbGRUb2tlbnModWludDI1NiBsZW5ndGgsIHVpbnQyNTYgc3RhcnQpIHB1YmxpYyBvbGRUb2tlbkZpbmFsaXplZCB7CiAgICBmb3IgKHVpbnQgaSA9IHN0YXJ0OyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKG9sZEhvbGRlcnNbb2xkVG9rZW4uaG9sZGVycyhpKV0gPT0gMCkgewogICAgICAgIGNvbnZlcnRPbGRUb2tlbihvbGRUb2tlbi5ob2xkZXJzKGkpKTsKICAgICAgfQogICAgfQogIH0KCiAgLyoqCiAgICogQGRldiBDYWxscyB0aGUgY29udHJhY3QncyBmaW5hbGl6YXRpb24gZnVuY3Rpb24uCiAgICovCiAgZnVuY3Rpb24gZmluYWxpemUoKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUoIWlzRmluYWxpemVkKTsKCiAgICBmaW5hbGl6YXRpb24oKTsKICAgIEZpbmFsaXplZCgpOwoKICAgIGlzRmluYWxpemVkID0gdHJ1ZTsKICB9CgogIC8vIHNlbmQgZXRoZXIgdG8gdGhlIGZ1bmQgY29sbGVjdGlvbiB3YWxsZXQKICAvLyBvdmVycmlkZSB0byBjcmVhdGUgY3VzdG9tIGZ1bmQgZm9yd2FyZGluZyBtZWNoYW5pc21zCiAgZnVuY3Rpb24gZm9yd2FyZEZ1bmRzKCkgaW50ZXJuYWwgewogICAgd2FsbGV0LnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgfQoKICAvLyBAcmV0dXJuIHRydWUgaWYgdGhlIHRyYW5zYWN0aW9uIGNhbiBidXkgdG9rZW5zCiAgZnVuY3Rpb24gdmFsaWRQdXJjaGFzZSgpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgYm9vbCB0b2tlbk1pbnRpbmdGaW5pc2hlZCA9IHRva2VuLm1pbnRpbmdGaW5pc2hlZCgpOwogICAgYm9vbCB3aXRoaW5DYXAgPSB0b2tlbi50b3RhbFN1cHBseSgpLmFkZCh0b2tlbnNGb3JXZWkobXNnLnZhbHVlKSkgPD0gY2FwOwogICAgYm9vbCB3aXRoaW5QZXJpb2QgPSBub3cgPD0gZW5kVGltZTsKICAgIGJvb2wgbm9uWmVyb1B1cmNoYXNlID0gbXNnLnZhbHVlICE9IDA7CiAgICBib29sIG1vcmVUaGFuTWluaW11bVBheW1lbnQgPSBtc2cudmFsdWUgPj0gMC4wNSBldGhlcjsKCiAgICByZXR1cm4gIXRva2VuTWludGluZ0ZpbmlzaGVkICYmIHdpdGhpbkNhcCAmJiB3aXRoaW5QZXJpb2QgJiYgbm9uWmVyb1B1cmNoYXNlICYmIG1vcmVUaGFuTWluaW11bVBheW1lbnQ7CiAgfQoKICBmdW5jdGlvbiB0b2tlbnNGb3JXZWkodWludCB3ZWlBbW91bnQpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgdG9rZW5zKSB7CiAgICB0b2tlbnMgPSB3ZWlBbW91bnQubXVsKHJhdGUpOwogICAgdG9rZW5zID0gdG9rZW5zLmFkZChnZXRCb251cyh0b2tlbnMpKTsKICB9CgogIGZ1bmN0aW9uIGZpbmFsaXphdGlvbigpIGludGVybmFsIHsKICAgIHRva2VuLmZpbmlzaE1pbnRpbmcoKTsKICAgIGVuZFRpbWUgPSBub3c7CiAgfQoKICAvLyBAcmV0dXJuIHRydWUgaWYgY3Jvd2RzYWxlIGV2ZW50IGhhcyBlbmRlZAogIGZ1bmN0aW9uIGhhc0VuZGVkKCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIG5vdyA+IGVuZFRpbWU7CiAgfQoKCiAgLyoqCiAgICogVGhyb3dzIGlmIGNhbGxlZCBieSBub3QgYW4gQUxUMCBob2xkZXIgb3Igc2Vjb25kIHRpbWUgY2FsbCBmb3Igc2FtZSBBTFQwIGhvbGRlcgogICAqLwogIG1vZGlmaWVyIG9sZFRva2VuSG9sZGVycyhhZGRyZXNzIGJlbmVmaWNpYXJ5KSB7CiAgICByZXF1aXJlKG9sZFRva2VuLmJhbGFuY2VPZihiZW5lZmljaWFyeSkgPiAwKTsKICAgIHJlcXVpcmUob2xkSG9sZGVyc1tiZW5lZmljaWFyeV0gPT0gMCk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgb2xkVG9rZW5GaW5hbGl6ZWQoKSB7CiAgICByZXF1aXJlKG9sZFRva2VuLm1pbnRpbmdGaW5pc2hlZCgpKTsKICAgIF87CiAgfQoKfQ=='.
	

]
