Class {
	#name : #SRTc35dce7925cb3a33406abda3158a336f0a59cc0a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc35dce7925cb3a33406abda3158a336f0a59cc0a >> base64 [
	^ 'bGlicmFyeSBTYWZlTWF0aCB7CiAgICBmdW5jdGlvbiBtdWwodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICB1aW50IGMgPSBhICogYjsKICAgICAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgICAgIHJldHVybiBjOwogICAgfQogICAgZnVuY3Rpb24gZGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgYXNzZXJ0KGIgPiAwKTsKICAgICAgICB1aW50IGMgPSBhIC8gYjsKICAgICAgICBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KICAgIGZ1bmN0aW9uIHN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgICB9CiAgICBmdW5jdGlvbiBhZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICAgdWludCBjID0gYSArIGI7CiAgICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgICByZXR1cm4gYzsKICAgICB9CiAgICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICAgICB9CgogICAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgICAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICAgIH0KCiAgICBmdW5jdGlvbiBtYXgyNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgICB9CgogICAgZnVuY3Rpb24gbWluMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgICB9Cn0KCmNvbnRyYWN0IHRva2VuUENUIHsKICAgIC8qIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuICovCiAgICAgICAgc3RyaW5nIHB1YmxpYyBuYW1lOwogICAgICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKICAgICAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseSA9IDA7CgoKICAgICAgICBmdW5jdGlvbiB0b2tlblBDVCAoc3RyaW5nIF9uYW1lLCBzdHJpbmcgX3N5bWJvbCwgdWludDggX2RlY2ltYWxzKXsKICAgICAgICAgICAgbmFtZSA9IF9uYW1lOwogICAgICAgICAgICBzeW1ib2wgPSBfc3ltYm9sOwogICAgICAgICAgICBkZWNpbWFscyA9IF9kZWNpbWFsczsKCiAgICAgICAgfQogICAgLyogVGhpcyBjcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGJhbGFuY2VzICovCiAgICAgICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZU9mOwoKfQoKY29udHJhY3QgUHJlc2FsZSBpcyB0b2tlblBDVCB7CgogICAgICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwogICAgICAgIHN0cmluZyBuYW1lID0gJ1ByZXNhbGUgQ3J5cHRvVGlja2V0cyBUb2tlbic7CiAgICAgICAgc3RyaW5nIHN5bWJvbCA9ICdQQ1QnOwogICAgICAgIHVpbnQ4IGRlY2ltYWxzID0gMTg7CiAgICAgICAgYWRkcmVzcyBtYW5hZ2VyOwogICAgICAgIGFkZHJlc3MgcHVibGljIGljbzsKCiAgICAgICAgZnVuY3Rpb24gUHJlc2FsZSAoYWRkcmVzcyBfbWFuYWdlcikgdG9rZW5QQ1QgKG5hbWUsIHN5bWJvbCwgZGVjaW1hbHMpewogICAgICAgICAgICAgbWFuYWdlciA9IF9tYW5hZ2VyOwoKICAgICAgICB9CgogICAgICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IGFtb3VudCk7CiAgICAgICAgZXZlbnQgQnVybihhZGRyZXNzIF9mcm9tLCB1aW50MjU2IGFtb3VudCk7CgogICAgICAgIG1vZGlmaWVyIG9ubHlNYW5hZ2VyewogICAgICAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG1hbmFnZXIpOwogICAgICAgICAgICBfOwogICAgICAgIH0KCiAgICAgICAgbW9kaWZpZXIgb25seUljb3sKICAgICAgICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBpY28pOwogICAgICAgICAgICBfOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBtaW50VG9rZW5zKGFkZHJlc3MgX2ludmVzdG9yLCB1aW50MjU2IF9taW50ZWRBbW91bnQpIHB1YmxpYyBvbmx5TWFuYWdlciB7CiAgICAgICAgICAgICBiYWxhbmNlT2ZbX2ludmVzdG9yXSA9IGJhbGFuY2VPZltfaW52ZXN0b3JdLmFkZChfbWludGVkQW1vdW50KTsKICAgICAgICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9taW50ZWRBbW91bnQpOwogICAgICAgICAgICAgVHJhbnNmZXIodGhpcywgX2ludmVzdG9yLCBfbWludGVkQW1vdW50KTsKCiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBidXJuVG9rZW5zKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgb25seUljb3sKICAgICAgICAgICAgIHVpbnQgIHRva2VucyA9IGJhbGFuY2VPZltfb3duZXJdOwogICAgICAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbX293bmVyXSAhPSAwKTsKICAgICAgICAgICAgIGJhbGFuY2VPZltfb3duZXJdID0gMDsKICAgICAgICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKHRva2Vucyk7CiAgICAgICAgICAgICBCdXJuKF9vd25lciwgdG9rZW5zKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHNldEljbyhhZGRyZXNzIF9pY28pIG9ubHlNYW5hZ2VyewogICAgICAgICAgICBpY28gPSBfaWNvOwogICAgICAgIH0KfQoKY29udHJhY3QgRVJDMjAgewogICAgdWludCBwdWJsaWMgdG90YWxTdXBwbHkgPSAwOwoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludCk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sKTsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludCk7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKTsKCn0gLy8gRnVuY3Rpb25zIG9mIEVSQzIwIHN0YW5kYXJkCgoKCmNvbnRyYWN0IENyeXB0b1RpY2tldHNJQ08gewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgVG9rZW5zX0Zvcl9TYWxlID0gNTI1MDAwMDAwKjFlMTg7IC8vIFRva2VucyBmb3IgU2FsZSB3aXRob3V0IGJvbnVzZXMoSGFyZENhcCkKCiAgICAvLyBTdHlsZTogQ2FwcyBzaG91bGQgbm90IGJlIHVzZWQgZm9yIHZhcnMsIG9ubHkgZm9yIGNvbnN0cyEKICAgIHVpbnQgcHVibGljIFJhdGVfRXRoID0gMjk4OyAvLyBSYXRlIFVTRCBwZXIgRVRICiAgICB1aW50IHB1YmxpYyBUb2tlbl9QcmljZSA9IDI1ICogUmF0ZV9FdGg7IC8vIFRLVCBwZXIgRVRICiAgICB1aW50IHB1YmxpYyBTb2xkTm9Cb251c2VzID0gMDsgLy9Tb2xkIHRva2VucyB3aXRob3V0IGJvbnVzZXMKCgogICAgZXZlbnQgTG9nU3RhcnRJQ08oKTsKICAgIGV2ZW50IExvZ1BhdXNlSUNPKCk7CiAgICBldmVudCBMb2dGaW5pc2hJQ08oYWRkcmVzcyBib3VudHlGdW5kLCBhZGRyZXNzIGFkdmlzb3JzRnVuZCwgYWRkcmVzcyBpdGRGdW5kLCBhZGRyZXNzIHN0b3JhZ2VGdW5kKTsKICAgIGV2ZW50IExvZ0J1eUZvckludmVzdG9yKGFkZHJlc3MgaW52ZXN0b3IsIHVpbnQgdGt0VmFsdWUsIHN0cmluZyB0eEhhc2gpOwogICAgZXZlbnQgTG9nUmVwbGFjZVRva2VuKGFkZHJlc3MgaW52ZXN0b3IsIHVpbnQgdGt0VmFsdWUpOwoKICAgIFRLVCBwdWJsaWMgdGt0ID0gbmV3IFRLVCh0aGlzKTsKICAgIFByZXNhbGUgcHVibGljIHByZXNhbGU7CgogICAgYWRkcmVzcyBwdWJsaWMgQ29tcGFueTsKICAgIGFkZHJlc3MgcHVibGljIEJvdW50eUZ1bmQ7CiAgICBhZGRyZXNzIHB1YmxpYyBBZHZpc29yc0Z1bmQ7CiAgICBhZGRyZXNzIHB1YmxpYyBJdGRGdW5kOwogICAgYWRkcmVzcyBwdWJsaWMgU3RvcmFnZUZ1bmQ7CgogICAgYWRkcmVzcyBwdWJsaWMgTWFuYWdlcjsgLy8gTWFuYWdlciBjb250cm9scyBjb250cmFjdAogICAgYWRkcmVzcyBwdWJsaWMgQ29udHJvbGxlcl9BZGRyZXNzMTsgLy8gRmlyc3QgYWRkcmVzcyB0aGF0IGlzIHVzZWQgdG8gYnV5IHRva2VucyBmb3Igb3RoZXIgY3J5cHRvcwogICAgYWRkcmVzcyBwdWJsaWMgQ29udHJvbGxlcl9BZGRyZXNzMjsgLy8gU2Vjb25kIGFkZHJlc3MgdGhhdCBpcyB1c2VkIHRvIGJ1eSB0b2tlbnMgZm9yIG90aGVyIGNyeXB0b3MKICAgIGFkZHJlc3MgcHVibGljIENvbnRyb2xsZXJfQWRkcmVzczM7IC8vIFRoaXJkIGFkZHJlc3MgdGhhdCBpcyB1c2VkIHRvIGJ1eSB0b2tlbnMgZm9yIG90aGVyIGNyeXB0b3MKICAgIG1vZGlmaWVyIG1hbmFnZXJPbmx5IHsgcmVxdWlyZShtc2cuc2VuZGVyID09IE1hbmFnZXIpOyBfOyB9CiAgICBtb2RpZmllciBjb250cm9sbGVyc09ubHkgeyByZXF1aXJlKChtc2cuc2VuZGVyID09IENvbnRyb2xsZXJfQWRkcmVzczEpIHx8IChtc2cuc2VuZGVyID09IENvbnRyb2xsZXJfQWRkcmVzczIpIHx8IChtc2cuc2VuZGVyID09IENvbnRyb2xsZXJfQWRkcmVzczMpKTsgXzsgfQoKICAgIHVpbnQgc3RhcnRUaW1lID0gMDsKICAgIHVpbnQgYm91bnR5UGFydCA9IDI7IC8vIDIlIG9mIFRvdGFsU3VwcGx5IGZvciBCb3VudHlGdW5kCiAgICB1aW50IGFkdmlzb3JzUGFydCA9IDM1OyAvLzMsNSUgb2YgVG90YWxTdXBwbHkgZm9yIEFkdmlzb3JzRnVuZAogICAgdWludCBpdGRQYXJ0ID0gMTU7IC8vMTUlIG9mIFRvdGFsU3VwcGx5IGZvciBJdGRGdW5kCiAgICB1aW50IHN0b3JhZ2VQYXJ0ID0gMzsgLy8zJSBvZiBUb3RhbFN1cHBseSBmb3IgU3RvcmFnZUZ1bmQKICAgIHVpbnQgaWNvQW5kUE9mUGFydCA9IDc2NTsgLy8gNzYsNSUgb2YgVG90YWxTdXBwbHkgZm9yIFB1YmxpY0lDTyBhbmQgUHJpdmF0ZU9mZmVyCiAgICBlbnVtIFN0YXR1c0lDTyB7IENyZWF0ZWQsIFN0YXJ0ZWQsIFBhdXNlZCwgRmluaXNoZWQgfQogICAgU3RhdHVzSUNPIHN0YXR1c0lDTyA9IFN0YXR1c0lDTy5DcmVhdGVkOwoKCiAgICBmdW5jdGlvbiBDcnlwdG9UaWNrZXRzSUNPKGFkZHJlc3MgX3ByZXNhbGUsIGFkZHJlc3MgX0NvbXBhbnksIGFkZHJlc3MgX0JvdW50eUZ1bmQsIGFkZHJlc3MgX0Fkdmlzb3JzRnVuZCwgYWRkcmVzcyBfSXRkRnVuZCwgYWRkcmVzcyBfU3RvcmFnZUZ1bmQsIGFkZHJlc3MgX01hbmFnZXIsIGFkZHJlc3MgX0NvbnRyb2xsZXJfQWRkcmVzczEsIGFkZHJlc3MgX0NvbnRyb2xsZXJfQWRkcmVzczIsIGFkZHJlc3MgX0NvbnRyb2xsZXJfQWRkcmVzczMpewogICAgICAgcHJlc2FsZSA9IFByZXNhbGUoX3ByZXNhbGUpOwogICAgICAgQ29tcGFueSA9IF9Db21wYW55OwogICAgICAgQm91bnR5RnVuZCA9IF9Cb3VudHlGdW5kOwogICAgICAgQWR2aXNvcnNGdW5kID0gX0Fkdmlzb3JzRnVuZDsKICAgICAgIEl0ZEZ1bmQgPSBfSXRkRnVuZDsKICAgICAgIFN0b3JhZ2VGdW5kID0gX1N0b3JhZ2VGdW5kOwogICAgICAgTWFuYWdlciA9IF9NYW5hZ2VyOwogICAgICAgQ29udHJvbGxlcl9BZGRyZXNzMSA9IF9Db250cm9sbGVyX0FkZHJlc3MxOwogICAgICAgQ29udHJvbGxlcl9BZGRyZXNzMiA9IF9Db250cm9sbGVyX0FkZHJlc3MyOwogICAgICAgQ29udHJvbGxlcl9BZGRyZXNzMyA9IF9Db250cm9sbGVyX0FkZHJlc3MzOwogICAgfQoKLy8gZnVuY3Rpb24gZm9yIGNoYW5naW5nIHJhdGUgb2YgRVRIIGFuZCBwcmljZSBvZiB0b2tlbgoKCiAgICBmdW5jdGlvbiBzZXRSYXRlKHVpbnQgX1JhdGVFdGgpIGV4dGVybmFsIG1hbmFnZXJPbmx5IHsKICAgICAgIFJhdGVfRXRoID0gX1JhdGVFdGg7CiAgICAgICBUb2tlbl9QcmljZSA9IDI1KlJhdGVfRXRoOwogICAgfQoKCi8vSUNPIHN0YXR1cyBmdW5jdGlvbnMKCiAgICBmdW5jdGlvbiBzdGFydEljbygpIGV4dGVybmFsIG1hbmFnZXJPbmx5IHsKICAgICAgIHJlcXVpcmUoc3RhdHVzSUNPID09IFN0YXR1c0lDTy5DcmVhdGVkIHx8IHN0YXR1c0lDTyA9PSBTdGF0dXNJQ08uUGF1c2VkKTsKICAgICAgIGlmKHN0YXR1c0lDTyA9PSBTdGF0dXNJQ08uQ3JlYXRlZCkKICAgICAgIHsKICAgICAgICAgc3RhcnRUaW1lID0gbm93OwogICAgICAgfQogICAgICAgTG9nU3RhcnRJQ08oKTsKICAgICAgIHN0YXR1c0lDTyA9IFN0YXR1c0lDTy5TdGFydGVkOwogICAgfQoKICAgIGZ1bmN0aW9uIHBhdXNlSWNvKCkgZXh0ZXJuYWwgbWFuYWdlck9ubHkgewogICAgICAgcmVxdWlyZShzdGF0dXNJQ08gPT0gU3RhdHVzSUNPLlN0YXJ0ZWQpOwogICAgICAgc3RhdHVzSUNPID0gU3RhdHVzSUNPLlBhdXNlZDsKICAgICAgIExvZ1BhdXNlSUNPKCk7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGZpbmlzaEljbygpIGV4dGVybmFsIG1hbmFnZXJPbmx5IHsgLy8gRnVuZHMgZm9yIG1pbnRpbmcgb2YgdG9rZW5zCgogICAgICAgcmVxdWlyZShzdGF0dXNJQ08gPT0gU3RhdHVzSUNPLlN0YXJ0ZWQpOwoKICAgICAgIHVpbnQgYWxyZWFkeU1pbnRlZCA9IHRrdC50b3RhbFN1cHBseSgpOyAvLz1QdWJsaWNJQ08rUHJpdmF0ZU9mZmVyCiAgICAgICB1aW50IHRvdGFsQW1vdW50ID0gYWxyZWFkeU1pbnRlZCAqIDEwMDAgLyBpY29BbmRQT2ZQYXJ0OwoKCiAgICAgICB0a3QubWludChCb3VudHlGdW5kLCBib3VudHlQYXJ0ICogdG90YWxBbW91bnQgLyAxMDApOyAvLyAyJSBmb3IgQm91bnR5CiAgICAgICB0a3QubWludChBZHZpc29yc0Z1bmQsIGFkdmlzb3JzUGFydCAqIHRvdGFsQW1vdW50IC8gMTAwMCk7IC8vIDMuNSUgZm9yIEFkdmlzb3JzCiAgICAgICB0a3QubWludChJdGRGdW5kLCBpdGRQYXJ0ICogdG90YWxBbW91bnQgLyAxMDApOyAvLyAxNSUgZm9yIFRpY2tldHNjbG91ZCBsdGQKICAgICAgIHRrdC5taW50KFN0b3JhZ2VGdW5kLCBzdG9yYWdlUGFydCAqIHRvdGFsQW1vdW50IC8gMTAwKTsgLy8gMyUgZm9yIFN0b3JhZ2UKCiAgICAgICB0a3QuZGVmcm9zdCgpOwoKICAgICAgIHN0YXR1c0lDTyA9IFN0YXR1c0lDTy5GaW5pc2hlZDsKICAgICAgIExvZ0ZpbmlzaElDTyhCb3VudHlGdW5kLCBBZHZpc29yc0Z1bmQsIEl0ZEZ1bmQsIFN0b3JhZ2VGdW5kKTsKICAgIH0KCi8vIGZ1bmN0aW9uIHRoYXQgYnV5cyB0b2tlbnMgd2hlbiBpbnZlc3RvciBzZW5kcyBFVEggdG8gYWRkcmVzcyBvZiBJQ08KICAgIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CgogICAgICAgYnV5KG1zZy5zZW5kZXIsIG1zZy52YWx1ZSAqIFRva2VuX1ByaWNlKTsKICAgIH0KCi8vIGZ1bmN0aW9uIGZvciBidXlpbmcgdG9rZW5zIHRvIGludmVzdG9ycyB3aG8gcGFpZCBpbiBvdGhlciBjcnlwdG9zCgogICAgZnVuY3Rpb24gYnV5Rm9ySW52ZXN0b3IoYWRkcmVzcyBfaW52ZXN0b3IsIHVpbnQgX3RrdFZhbHVlLCBzdHJpbmcgX3R4SGFzaCkgZXh0ZXJuYWwgY29udHJvbGxlcnNPbmx5IHsKICAgICAgIGJ1eShfaW52ZXN0b3IsIF90a3RWYWx1ZSk7CiAgICAgICBMb2dCdXlGb3JJbnZlc3RvcihfaW52ZXN0b3IsIF90a3RWYWx1ZSwgX3R4SGFzaCk7CiAgICB9CgovL2Z1bmN0aW9uIGZvciBidXlpbmcgdG9rZW5zIGZvciBwcmVzYWxlIGludmVzdG9ycwoKICAgIGZ1bmN0aW9uIHJlcGxhY2VUb2tlbihhZGRyZXNzIF9pbnZlc3RvcikgbWFuYWdlck9ubHl7CiAgICAgICAgIHJlcXVpcmUoc3RhdHVzSUNPICE9IFN0YXR1c0lDTy5GaW5pc2hlZCk7CiAgICAgICAgIHVpbnQgcGN0VG9rZW5zID0gcHJlc2FsZS5iYWxhbmNlT2YoX2ludmVzdG9yKTsKICAgICAgICAgcmVxdWlyZShwY3RUb2tlbnMgPiAwKTsKICAgICAgICAgcHJlc2FsZS5idXJuVG9rZW5zKF9pbnZlc3Rvcik7CiAgICAgICAgIHRrdC5taW50KF9pbnZlc3RvciwgcGN0VG9rZW5zKTsKCiAgICAgICAgIExvZ1JlcGxhY2VUb2tlbihfaW52ZXN0b3IsIHBjdFRva2Vucyk7CiAgICB9Ci8vIGludGVybmFsIGZ1bmN0aW9uIGZvciBidXlpbmcgdG9rZW5zCgogICAgZnVuY3Rpb24gYnV5KGFkZHJlc3MgX2ludmVzdG9yLCB1aW50IF90a3RWYWx1ZSkgaW50ZXJuYWwgewogICAgICAgcmVxdWlyZShzdGF0dXNJQ08gPT0gU3RhdHVzSUNPLlN0YXJ0ZWQpOwogICAgICAgcmVxdWlyZShfdGt0VmFsdWUgPiAwKTsKCgogICAgICAgdWludCBib251cyA9IGdldEJvbnVzKF90a3RWYWx1ZSk7CgogICAgICAgdWludCBfdG90YWwgPSBfdGt0VmFsdWUuYWRkKGJvbnVzKTsKCiAgICAgICByZXF1aXJlKFNvbGROb0JvbnVzZXMgKyBfdGt0VmFsdWUgPD0gVG9rZW5zX0Zvcl9TYWxlKTsKICAgICAgIHRrdC5taW50KF9pbnZlc3RvciwgX3RvdGFsKTsKCiAgICAgICBTb2xkTm9Cb251c2VzID0gU29sZE5vQm9udXNlcy5hZGQoX3RrdFZhbHVlKTsKICAgIH0KCi8vIGZ1bmN0aW9uIHRoYXQgY2FsY3VsYXRlcyBib251cwogICAgZnVuY3Rpb24gZ2V0Qm9udXModWludCBfdmFsdWUpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICB1aW50IGJvbnVzID0gMDsKICAgICAgIHVpbnQgdGltZSA9IG5vdzsKICAgICAgIGlmKHRpbWUgPj0gc3RhcnRUaW1lICYmIHRpbWUgPD0gc3RhcnRUaW1lICsgNDggaG91cnMpCiAgICAgICB7CgogICAgICAgICAgICBib251cyA9IF92YWx1ZSAqIDIwLzEwMDsKICAgICAgICB9CgogICAgICAgaWYodGltZSA+IHN0YXJ0VGltZSArIDQ4IGhvdXJzICYmIHRpbWUgPD0gc3RhcnRUaW1lICsgOTYgaG91cnMpCiAgICAgICB7CiAgICAgICAgICAgIGJvbnVzID0gX3ZhbHVlICogMTAvMTAwOwogICAgICAgfQoKICAgICAgIGlmKHRpbWUgPiBzdGFydFRpbWUgKyA5NiBob3VycyAmJiB0aW1lIDw9IHN0YXJ0VGltZSArIDE2OCBob3VycykKICAgICAgIHsKCiAgICAgICAgICAgIGJvbnVzID0gX3ZhbHVlICogNS8xMDA7CiAgICAgICAgfQoKICAgICAgIHJldHVybiBib251czsKICAgIH0KCi8vZnVuY3Rpb24gdG8gd2l0aGRyYXcgRVRIIGZyb20gc21hcnQgY29udHJhY3QKCiAgICAvLyBTVUdHRVNUSU9OOgogICAgLy8gZXZlbiBpZiB5b3UgbG9zZSB5b3UgbWFuYWdlciBrZXlzIC0+IHlvdSBzdGlsbCB3aWxsIGJlIGFibGUgdG8gZ2V0IEVUSAogICAgZnVuY3Rpb24gd2l0aGRyYXdFdGhlcih1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwgbWFuYWdlck9ubHkgewogICAgICAgcmVxdWlyZShzdGF0dXNJQ08gPT0gU3RhdHVzSUNPLkZpbmlzaGVkKTsKICAgICAgIENvbXBhbnkudHJhbnNmZXIoX3ZhbHVlKTsKICAgIH0KCn0KCmNvbnRyYWN0IFRLVCAgaXMgRVJDMjAgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIkNyeXB0b1RpY2tldHMgQ09JTiI7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJUS1QiOwogICAgdWludCBwdWJsaWMgZGVjaW1hbHMgPSAxODsKCiAgICBhZGRyZXNzIHB1YmxpYyBpY287CgogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludDI1NiB2YWx1ZSk7CgogICAgYm9vbCBwdWJsaWMgdG9rZW5zQXJlRnJvemVuID0gdHJ1ZTsKCiAgICBtb2RpZmllciBpY29Pbmx5IHsgcmVxdWlyZShtc2cuc2VuZGVyID09IGljbyk7IF87IH0KCiAgICBmdW5jdGlvbiBUS1QoYWRkcmVzcyBfaWNvKSB7CiAgICAgICBpY28gPSBfaWNvOwogICAgfQoKCiAgICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX2hvbGRlciwgdWludCBfdmFsdWUpIGV4dGVybmFsIGljb09ubHkgewogICAgICAgcmVxdWlyZShfdmFsdWUgIT0gMCk7CiAgICAgICBiYWxhbmNlc1tfaG9sZGVyXSA9IGJhbGFuY2VzW19ob2xkZXJdLmFkZChfdmFsdWUpOwogICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX3ZhbHVlKTsKICAgICAgIFRyYW5zZmVyKDB4MCwgX2hvbGRlciwgX3ZhbHVlKTsKICAgIH0KCgogICAgZnVuY3Rpb24gZGVmcm9zdCgpIGV4dGVybmFsIGljb09ubHkgewogICAgICAgdG9rZW5zQXJlRnJvemVuID0gZmFsc2U7CiAgICB9CgogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgewogICAgICAgcmVxdWlyZSghdG9rZW5zQXJlRnJvemVuKTsKICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YihfdmFsdWUpOwogICAgICAgQnVybihtc2cuc2VuZGVyLCBfdmFsdWUpOwogICAgfQoKCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKCF0b2tlbnNBcmVGcm96ZW4pOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoIXRva2Vuc0FyZUZyb3plbik7CiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfYW1vdW50KTsKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgfQoKCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAgICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgICAgICAvLyAgYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgICAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgICAgICByZXF1aXJlKChfYW1vdW50ID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CgogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX2Ftb3VudDsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQp9'.
	

]
