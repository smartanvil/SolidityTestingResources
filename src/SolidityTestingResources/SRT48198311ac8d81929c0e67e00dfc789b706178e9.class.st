Class {
	#name : #SRT48198311ac8d81929c0e67e00dfc789b706178e9,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT48198311ac8d81929c0e67e00dfc789b706178e9 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLiAKICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLiAKICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgIC8vIHJlcXVpcmUgKF92YWx1ZSA8PSBfYWxsb3dhbmNlKTsKCiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICBpZiAobmV3T3duZXIgIT0gYWRkcmVzcygwKSkgewogICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQogIH0KCn0KCi8qKgogKiBAdGl0bGUgUGF1c2FibGUKICogQGRldiBCYXNlIGNvbnRyYWN0IHdoaWNoIGFsbG93cyBjaGlsZHJlbiB0byBpbXBsZW1lbnQgYW4gZW1lcmdlbmN5IHN0b3AgbWVjaGFuaXNtLgogKi8KY29udHJhY3QgUGF1c2FibGUgaXMgT3duYWJsZSB7CiAgZXZlbnQgUGF1c2UoKTsKICBldmVudCBVbnBhdXNlKCk7CgogIGJvb2wgcHVibGljIHBhdXNlZCA9IGZhbHNlOwoKICAvKioKICAgKiBAZGV2IG1vZGlmaWVyIHRvIGFsbG93IGFjdGlvbnMgb25seSB3aGVuIHRoZSBjb250cmFjdCBJUyBwYXVzZWQKICAgKi8KICBtb2RpZmllciB3aGVuTm90UGF1c2VkKCkgewogICAgcmVxdWlyZSghcGF1c2VkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IG1vZGlmaWVyIHRvIGFsbG93IGFjdGlvbnMgb25seSB3aGVuIHRoZSBjb250cmFjdCBJUyBOT1QgcGF1c2VkCiAgICovCiAgbW9kaWZpZXIgd2hlblBhdXNlZCB7CiAgICByZXF1aXJlKHBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHBhdXNlLCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gcGF1c2UoKSBvbmx5T3duZXIgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sKSB7CiAgICBwYXVzZWQgPSB0cnVlOwogICAgUGF1c2UoKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHVucGF1c2UsIHJldHVybnMgdG8gbm9ybWFsIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gdW5wYXVzZSgpIG9ubHlPd25lciB3aGVuUGF1c2VkIHJldHVybnMgKGJvb2wpIHsKICAgIHBhdXNlZCA9IGZhbHNlOwogICAgVW5wYXVzZSgpOwogICAgcmV0dXJuIHRydWU7CiAgfQp9CgovKioKICogQHRpdGxlIFNsb3QgVGlja2V0IHRva2VuCiAqIEBkZXYgU2ltcGxlIEVSQzIwIFRva2VuIGV4YW1wbGUsIHdpdGggbWludGFibGUgdG9rZW4gY3JlYXRpb24KICogQGRldiBJc3N1ZTogKiBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5L2lzc3Vlcy8xMjAKICogQmFzZWQgb24gY29kZSBieSBUb2tlbk1hcmtldE5ldDogaHR0cHM6Ly9naXRodWIuY29tL1Rva2VuTWFya2V0TmV0L2ljby9ibG9iL21hc3Rlci9jb250cmFjdHMvTWludGFibGVUb2tlbi5zb2wKICovCiAKY29udHJhY3QgU2xvdFRpY2tldCBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKCiAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIlNsb3QgVGlja2V0IjsKICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSAwOwogIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIlNMT1QiOwogIHN0cmluZyBwdWJsaWMgdmVyc2lvbiA9ICIwLjEiOwoKICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwoKICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgIE1pbnQoX3RvLCBfYW1vdW50KTsKICAgIFRyYW5zZmVyKDB4MCwgX3RvLCBfYW1vdW50KTsgLy8gc28gaXQgaXMgZGlzcGxheWVkIHByb3Blcmx5IG9uIEV0aGVyU2NhbgogICAgcmV0dXJuIHRydWU7CiAgfQoKZnVuY3Rpb24gZGVzdHJveSgpIG9ubHlPd25lciB7CiAgICAvLyBUcmFuc2ZlciBFdGggdG8gb3duZXIgYW5kIHRlcm1pbmF0ZSBjb250cmFjdAogICAgc2VsZmRlc3RydWN0KG93bmVyKTsKICB9Cgp9Cgpjb250cmFjdCBTbG90IGlzIE93bmFibGUsIFBhdXNhYmxlIHsgLy8gVE9ETzogZm9yIHByb2R1Y3Rpb24gZGlzYWJsZSB0b2tlbkRlc3RydWN0aWJsZQogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgLy8gdGhpcyB0b2tlbiBpcyBqdXN0IGEgZ2ltbWljayB0byByZWNlaXZlIHdoZW4gYnV5aW5nIGEgdGlja2V0LCBpdCB3b250IGFmZmVjdCB0aGUgcHJpemUKICAgIFNsb3RUaWNrZXQgcHVibGljIHRva2VuOwoKICAgIC8vIGV2ZXJ5IHBhcnRpY2lwYW50IGhhcyBhbiBhY2NvdW50IGluZGV4LCB0aGUgd2lubmVycyBhcmUgcGlja2VkIGZyb20gaGVyZQogICAgLy8gYWxsIHdpbm5lcnMgYXJlIHBpY2tlZCBpbiBvcmRlciBmcm9tIHRoZSBzaW5nbGUgcmFuZG9tIGludCAKICAgIC8vIG5lZWRzIHRvIGJlIGNsZWFyZWQgYWZ0ZXIgZXZlcnkgZ2FtZQogICAgbWFwcGluZyAodWludCA9PiBtYXBwaW5nICh1aW50ID0+IGFkZHJlc3MpKSBwYXJ0aWNpcGFudHM7IC8vIGdhbWUgbnVtYmVyID0+IGNvdW50ZXIgPT4gYWRkcmVzcwogICAgdWludDI1NltdIHByaXplcyA9IFswLjA0IGV0aGVyLCAKICAgICAgICAgICAgICAgICAgICAgICAgMC4wMiBldGhlciwKICAgICAgICAgICAgICAgICAgICAgICAgMC4wMSBldGhlciwgCiAgICAgICAgICAgICAgICAgICAgICAgIDUgZmlubmV5LCAKICAgICAgICAgICAgICAgICAgICAgICAgNSBmaW5uZXksIAogICAgICAgICAgICAgICAgICAgICAgICA1IGZpbm5leSwgCiAgICAgICAgICAgICAgICAgICAgICAgIDUgZmlubmV5LCAKICAgICAgICAgICAgICAgICAgICAgICAgNSBmaW5uZXldOwogICAgCgogICAgdWludDggICBjb25zdGFudCBwdWJsaWMgU0laRSA9IDEwOyAvLyBzaXplIG9mIHRoZSBsb3R0ZXJ5CiAgICB1aW50MzIgIGNvbnN0YW50IHB1YmxpYyBKQUNLUE9UX1NJWkUgPSAxMDAwMDAwOyAvLyBvbmUgaW4gYSBtaWxsaW9uCiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBQUklDRSA9IDEwIGZpbm5leTsKICAgIAogICAgdWludDI1NiBwdWJsaWMgamFja3BvdDsKICAgIHVpbnQyNTYgcHVibGljIGdhbWVOdW1iZXI7CiAgICBhZGRyZXNzIHdhbGxldDsKICAgIHVpbnQyNTYgY291bnRlcjsKCiAgICBldmVudCBBbm90aGVyUGFydGljaXBhbnQoYWRkcmVzcyBpbmRleGVkIF9wYXJ0aWNpcGFudCwgdWludDI1NiBpbmRleGVkIF9nYW1lLCB1aW50MjU2IGluZGV4ZWQgX251bWJlcik7CiAgICBldmVudCBQcml6ZUF3YXJkZWQodWludDI1NiBpbmRleGVkIF9nYW1lICwgYWRkcmVzcyBpbmRleGVkIF93aW5uZXIsIHVpbnQyNTYgaW5kZXhlZCBfYW1vdW50KTsKICAgIGV2ZW50IEphY2twb3RBd2FyZGVkKHVpbnQyNTYgaW5kZXhlZCBfZ2FtZSwgYWRkcmVzcyBpbmRleGVkIF93aW5uZXIsIHVpbnQyNTYgaW5kZXhlZCBfYW1vdW50KTsKICAgIGV2ZW50IFJlZnVuZGVkKGFkZHJlc3MgaW5kZXhlZCBfcGFydGljaXBhbnQsIHVpbnQyNTYgX2Ftb3VudCk7CgogICAgZnVuY3Rpb24gU2xvdChhZGRyZXNzIF93YWxsZXQpIHBheWFibGUgewogICAgICAgIHRva2VuID0gbmV3IFNsb3RUaWNrZXQoKTsKICAgICAgICB3YWxsZXQgPSBfd2FsbGV0OwoKICAgICAgICBqYWNrcG90ID0gMDsKICAgICAgICBnYW1lTnVtYmVyID0gMDsKICAgICAgICBjb3VudGVyID0gMDsKICAgIH0KCiAgICBmdW5jdGlvbigpIHBheWFibGUgewogICAgICAgIC8vIGZhbGxiYWNrIGZ1bmN0aW9uIHRvIGJ1eSB0aWNrZXRzIGZyb20KICAgICAgICBidXlUaWNrZXRzRm9yKG1zZy5zZW5kZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIGJ1eVRpY2tldHNGb3IoYWRkcmVzcyBiZW5lZmljaWFyeSkgd2hlbk5vdFBhdXNlZCgpIHBheWFibGUgewogICAgICAgIHJlcXVpcmUoYmVuZWZpY2lhcnkgIT0gMHgwKTsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBQUklDRSk7CgogICAgICAgIC8vIGNhbGN1bGF0ZSBudW1iZXIgb2YgdGlja2V0cywgaXNzdWUgdG9rZW5zIGFuZCBhZGQgcGFydGljaXBhbnRzCiAgICAgICAgLy8gZXZlcnkgMTAwIGZpbm5leSBidXlzIGEgdGlja2V0LCB0aGUgcmVzdCBpcyByZXR1cm5lZAogICAgICAgIHVpbnQyNTYgY2hhbmdlID0gbXNnLnZhbHVlJVBSSUNFOwogICAgICAgIHVpbnQyNTYgbnVtYmVyT2ZUaWNrZXRzID0gbXNnLnZhbHVlLnN1YihjaGFuZ2UpLmRpdihQUklDRSk7CiAgICAgICAgdG9rZW4ubWludChiZW5lZmljaWFyeSwgbnVtYmVyT2ZUaWNrZXRzKTsKICAgICAgICBhZGRQYXJ0aWNpcGFudChiZW5lZmljaWFyeSwgbnVtYmVyT2ZUaWNrZXRzKTsKCiAgICAgICAgLy8gUmV0dXJuIGNoYW5nZSB0byBtc2cuc2VuZGVyCiAgICAgICAgLy8gVE9ETzogY2hlY2sgaWYgY2hhbmdlIGFtb3VudCBjb3JyZWN0CiAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihjaGFuZ2UpOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZFBhcnRpY2lwYW50KGFkZHJlc3MgX3BhcnRpY2lwYW50LCB1aW50MjU2IF9udW1iZXJPZlRpY2tldHMpIHByaXZhdGUgewogICAgICAgIC8vIGlmIG51bWJlciBvZiB0aWNrZXRzIGV4Y2VlZHMgdGhlIHNpemUgb2YgdGhlIGdhbWUsIHRpY2tldHMgYXJlIGFkZGVkIHRvIG5leHQgZ2FtZQoKICAgICAgICBmb3IgKHVpbnQyNTYgaSA9IDA7IGkgPCBfbnVtYmVyT2ZUaWNrZXRzOyBpKyspIHsKICAgICAgICAgICAgcGFydGljaXBhbnRzW2NvdW50ZXIvU0laRV1bY291bnRlciVTSVpFXSA9IF9wYXJ0aWNpcGFudDsKICAgICAgICAgICAgQW5vdGhlclBhcnRpY2lwYW50KF9wYXJ0aWNpcGFudCwgY291bnRlci9TSVpFLCBjb3VudGVyJVNJWkUpOwoKICAgICAgICAgICAgLy8gbXNnLnNlbmRlciB0cmlnZ2VycyB0aGUgZHJhd2luZyBvZiBsb3RzCiAgICAgICAgICAgIGlmICgrK2NvdW50ZXIlU0laRSA9PSAwKSAKICAgICAgICAgICAgICAgIGF3YXJkUHJpemVzKCk7CiAgICAgICAgCiAgICAgICAgICAgIC8vIGxvb3AgY29udGludWVzIGlmIHRoZXJlIGFyZSBtb3JlIHRpY2tldHMKICAgICAgICB9CiAgICAgICAgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHJhbmQodWludDMyIF9zaXplKSBjb25zdGFudCBwcml2YXRlIHJldHVybnMgKHVpbnQyNTYgcmFuZG9tTnVtYmVyKSB7CiAgICAgIC8vIFByb3ZpZGluZyByYW5kb20gbnVtYmVycyB3aXRoaW4gYSBkZXRlcm1pbmlzdGljIHN5c3RlbSBpcywgbmF0dXJhbGx5LCBhbiBpbXBvc3NpYmxlIHRhc2suCiAgICAgIC8vIEhvd2V2ZXIsIHdlIGNhbiBhcHByb3hpbWF0ZSB3aXRoIHBzZXVkby1yYW5kb20gbnVtYmVycyBieSB1dGlsaXNpbmcgZGF0YSB3aGljaCBpcyBnZW5lcmFsbHkgdW5rbm93YWJsZQogICAgICAvLyBhdCB0aGUgdGltZSBvZiB0cmFuc2FjdGluZy4gU3VjaCBkYXRhIG1pZ2h0IGluY2x1ZGUgdGhlIGJsb2Nr4oCZcyBoYXNoLgoKICAgICAgICByZXR1cm4gdWludDI1NihrZWNjYWsyNTYoYmxvY2suYmxvY2toYXNoKGJsb2NrLm51bWJlci0xKSwgYmxvY2suYmxvY2toYXNoKGJsb2NrLm51bWJlci0xMCkpKSVfc2l6ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhd2FyZFByaXplcygpIHByaXZhdGUgewogICAgICAgIHVpbnQyNTYgd2lubmVySW5kZXggPSByYW5kKFNJWkUpOwogICAgICAgIC8vIGhhc2ggcmVzdWx0IG9mIHR3byBkaWdpdCBudW1iZXIgKGluZGV4KSB3aXRoIDQgbGVhZGluZyB6ZXJvZXMgd2lsbCB3aW4KICAgICAgICBib29sIGphY2twb3RXb24gPSB3aW5uZXJJbmRleCA9PSByYW5kKEpBQ0tQT1RfU0laRSk7IAoKICAgICAgICAvLyBsb29wIHRocm91Z2h0IHRoZSBwcml6ZXMsIGluY3JlbWVudGluZyB0aGUgd2lubmVyIGluZGV4IHRvIHJlY2VpdmUgdGhlIG5leHQgcHJpemUKICAgICAgICBmb3IgKHVpbnQ4IGkgPSAwOyBpIDwgcHJpemVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoamFja3BvdFdvbiAmJiBpPT0wKSAKICAgICAgICAgICAgICAgIGRpc3RyaWJ1dGVKYWNrcG90KHdpbm5lckluZGV4KTsKCiAgICAgICAgICAgIHBhcnRpY2lwYW50c1tnYW1lTnVtYmVyXVt3aW5uZXJJbmRleCVTSVpFXS50cmFuc2Zlcihwcml6ZXNbaV0pOyAvLyBtc2cuc2VuZGVyIHBheXMgdGhlIGdhcywgaGUncyByZWZ1bmRlZCBsYXRlciwgJSB0byB3cmFwIGFyb3VuZAogICAgICAgICAgICBQcml6ZUF3YXJkZWQoZ2FtZU51bWJlciwgcGFydGljaXBhbnRzW2dhbWVOdW1iZXJdW3dpbm5lckluZGV4JVNJWkVdLCBwcml6ZXNbaV0pOwoKICAgICAgICAgICAgd2lubmVySW5kZXgrKzsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gU3BsaXQgdGhlIHJlc3QKICAgICAgICBqYWNrcG90ID0gamFja3BvdC5hZGQoMi41IGZpbm5leSk7ICAvLyBhZGQgdG8gamFja3BvdAogICAgICAgIHdhbGxldC50cmFuc2ZlcigyLjQ5IGZpbm5leSk7ICAgICAgICAvLyAqY2FzaCByZWdpc3RlciBzb3VuZCoKICAgICAgICAvLyBnYXMgZm9yIFR4IGlzIGFyb3VuZCAxMDAwMDAsIHRpbWVzIDEwIHRyYW5zYWN0aW9ucywgb2YgYXJvdW5kIDUgR3dlaSBpcyBhcm91bmQgMSBmaW5uZXkKICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKDAuMDEgZmlubmV5KTsgICAgIC8vIHJlcGF5IGdhcyB0byBtc2cuc2VuZGVyCgogICAgICAgIGdhbWVOdW1iZXIrKzsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXN0cmlidXRlSmFja3BvdCh1aW50MjU2IF93aW5uZXJJbmRleCkgcHJpdmF0ZSB7CiAgICAgICAgcGFydGljaXBhbnRzW2dhbWVOdW1iZXJdW193aW5uZXJJbmRleF0udHJhbnNmZXIoamFja3BvdCk7CiAgICAgICAgSmFja3BvdEF3YXJkZWQoZ2FtZU51bWJlciwgIHBhcnRpY2lwYW50c1tnYW1lTnVtYmVyXVtfd2lubmVySW5kZXhdLCBqYWNrcG90KTsKICAgICAgICBqYWNrcG90ID0gMDsgLy8gbGF0ZXIgb24gaW4gdGhlIGNvZGUgc2VxdWVuY2UgZnVuZHMgd2lsbCBiZSBhZGRlZAogICAgfQoKICAgIGZ1bmN0aW9uIHJlZnVuZEFsbCgpIG9ubHlPd25lciB7CiAgICAgICAgLy8gV2Ugc2VuZCByZWZ1bmRzIGFmdGVyIHRoZSBnYW1lIGhhcyBnb25lIDEgbW9udGggd2l0aG91dCBjb25jbHVzaW9uCgogICAgICAgIGZvciAodWludDggaSA9IDA7IGkgPCBjb3VudGVyJVNJWkU7IGkrKykgeyAvLyBub3QgY291bnRlci5zaXplLCBidXQgbW9kdWx1cyBvZiBTSVpFCiAgICAgICAgICAgIHBhcnRpY2lwYW50c1tnYW1lTnVtYmVyXVtpXS50cmFuc2ZlcihQUklDRSk7CiAgICAgICAgICAgIFJlZnVuZGVkKG1zZy5zZW5kZXIsIFBSSUNFKTsKICAgICAgICB9CgogICAgICAgIC8vIHJlZHVjZSB0aGUgY291bnRlcgogICAgICAgIGNvdW50ZXIgLT0gY291bnRlciVTSVpFOwogICAgfQoKICAgIGZ1bmN0aW9uIGRlc3Ryb3koKSBvbmx5T3duZXIgewogICAgICAgIC8vIFRyYW5zZmVyIEV0aCB0byBvd25lciBhbmQgdGVybWluYXRlIGNvbnRyYWN0CiAgICAgICAgdG9rZW4uZGVzdHJveSgpOwogICAgICAgIHNlbGZkZXN0cnVjdChvd25lcik7CiAgICB9CgogICAgZnVuY3Rpb24gY2hhbmdlV2FsbGV0KGFkZHJlc3MgX25ld1dhbGxldCkgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKF9uZXdXYWxsZXQgIT0gMHgwKTsKICAgICAgICB3YWxsZXQgPSBfbmV3V2FsbGV0OwogICAgfQoKfQ=='.
	

]
