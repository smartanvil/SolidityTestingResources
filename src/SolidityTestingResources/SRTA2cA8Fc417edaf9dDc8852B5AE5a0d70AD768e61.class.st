Class {
	#name : #SRTA2cA8Fc417edaf9dDc8852B5AE5a0d70AD768e61,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTA2cA8Fc417edaf9dDc8852B5AE5a0d70AD768e61 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7Cgpjb250cmFjdCBFUkMyMCB7CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgc3VwcGx5KTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZiggYWRkcmVzcyB3aG8gKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50IHZhbHVlKTsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZSggYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyICkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCBfYWxsb3dhbmNlKTsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlciggYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgb2spOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKCBhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIG9rKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoIGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSApIHB1YmxpYyByZXR1cm5zIChib29sIG9rKTsKCiAgICBldmVudCBUcmFuc2ZlciggYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbCggYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB2YWx1ZSk7Cn0KCmNvbnRyYWN0IERTQXV0aG9yaXR5IHsKICAgIGZ1bmN0aW9uIGNhbkNhbGwoCiAgICAgICAgYWRkcmVzcyBzcmMsIGFkZHJlc3MgZHN0LCBieXRlczQgc2lnCiAgICApIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wpOwp9Cgpjb250cmFjdCBEU0F1dGhFdmVudHMgewogICAgZXZlbnQgTG9nU2V0QXV0aG9yaXR5IChhZGRyZXNzIGluZGV4ZWQgYXV0aG9yaXR5KTsKICAgIGV2ZW50IExvZ1NldE93bmVyICAgICAoYWRkcmVzcyBpbmRleGVkIG93bmVyKTsKfQoKY29udHJhY3QgRFNBdXRoIGlzIERTQXV0aEV2ZW50cyB7CiAgICBEU0F1dGhvcml0eSAgcHVibGljICBhdXRob3JpdHk7CiAgICBhZGRyZXNzICAgICAgcHVibGljICBvd25lcjsKCiAgICBmdW5jdGlvbiBEU0F1dGgoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICBMb2dTZXRPd25lcihtc2cuc2VuZGVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRPd25lcihhZGRyZXNzIG93bmVyXykKICAgICAgICBwdWJsaWMKICAgICAgICBhdXRoCiAgICB7CiAgICAgICAgb3duZXIgPSBvd25lcl87CiAgICAgICAgTG9nU2V0T3duZXIob3duZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldEF1dGhvcml0eShEU0F1dGhvcml0eSBhdXRob3JpdHlfKQogICAgICAgIHB1YmxpYwogICAgICAgIGF1dGgKICAgIHsKICAgICAgICBhdXRob3JpdHkgPSBhdXRob3JpdHlfOwogICAgICAgIExvZ1NldEF1dGhvcml0eShhdXRob3JpdHkpOwogICAgfQoKICAgIG1vZGlmaWVyIGF1dGggewogICAgICAgIHJlcXVpcmUoaXNBdXRob3JpemVkKG1zZy5zZW5kZXIsIG1zZy5zaWcpKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzQXV0aG9yaXplZChhZGRyZXNzIHNyYywgYnl0ZXM0IHNpZykgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgaWYgKHNyYyA9PSBhZGRyZXNzKHRoaXMpKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSBpZiAoc3JjID09IG93bmVyKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSBpZiAoYXV0aG9yaXR5ID09IERTQXV0aG9yaXR5KDApKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gYXV0aG9yaXR5LmNhbkNhbGwoc3JjLCB0aGlzLCBzaWcpOwogICAgICAgIH0KICAgIH0KfQoKY29udHJhY3QgQVBNYXRoIHsKICAgIGZ1bmN0aW9uIHNhZmVBZGQodWludCB4LCB1aW50IHkpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCB6KSB7CiAgICAgICAgcmVxdWlyZSgoeiA9IHggKyB5KSA+PSB4KTsKICAgIH0KICAgIGZ1bmN0aW9uIHNhZmVTdWIodWludCB4LCB1aW50IHkpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCB6KSB7CiAgICAgICAgcmVxdWlyZSgoeiA9IHggLSB5KSA8PSB4KTsKICAgIH0KICAgIGZ1bmN0aW9uIHNhZmVNdWwodWludCB4LCB1aW50IHkpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCB6KSB7CiAgICAgICAgcmVxdWlyZSh5ID09IDAgfHwgKHogPSB4ICogeSkgLyB5ID09IHgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVNaW4odWludCB4LCB1aW50IHkpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCB6KSB7CiAgICAgICAgcmV0dXJuIHggPD0geSA/IHggOiB5OwogICAgfQogICAgZnVuY3Rpb24gc2FmZU1heCh1aW50IHgsIHVpbnQgeSkgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50IHopIHsKICAgICAgICByZXR1cm4geCA+PSB5ID8geCA6IHk7CiAgICB9CiAgICBmdW5jdGlvbiBzYWZlTWluKGludCB4LCBpbnQgeSkgaW50ZXJuYWwgcHVyZSByZXR1cm5zIChpbnQgeikgewogICAgICAgIHJldHVybiB4IDw9IHkgPyB4IDogeTsKICAgIH0KICAgIGZ1bmN0aW9uIHNhZmVNYXgoaW50IHgsIGludCB5KSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKGludCB6KSB7CiAgICAgICAgcmV0dXJuIHggPj0geSA/IHggOiB5OwogICAgfQoKICAgIHVpbnQgY29uc3RhbnQgV0FEID0gMTAgKiogMTg7CiAgICB1aW50IGNvbnN0YW50IFJBWSA9IDEwICoqIDI3OwoKICAgIGZ1bmN0aW9uIHNhZmVXbXVsKHVpbnQgeCwgdWludCB5KSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgeikgewogICAgICAgIHogPSBzYWZlQWRkKHNhZmVNdWwoeCwgeSksIFdBRCAvIDIpIC8gV0FEOwogICAgfQogICAgZnVuY3Rpb24gc2FmZVJtdWwodWludCB4LCB1aW50IHkpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCB6KSB7CiAgICAgICAgeiA9IHNhZmVBZGQoc2FmZU11bCh4LCB5KSwgUkFZIC8gMikgLyBSQVk7CiAgICB9CiAgICBmdW5jdGlvbiBzYWZlV2Rpdih1aW50IHgsIHVpbnQgeSkgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50IHopIHsKICAgICAgICB6ID0gc2FmZUFkZChzYWZlTXVsKHgsIFdBRCksIHkgLyAyKSAvIHk7CiAgICB9CiAgICBmdW5jdGlvbiBzYWZlUmRpdih1aW50IHgsIHVpbnQgeSkgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50IHopIHsKICAgICAgICB6ID0gc2FmZUFkZChzYWZlTXVsKHgsIFJBWSksIHkgLyAyKSAvIHk7CiAgICB9CgogICAgLy8gVGhpcyBmYW1vdXMgYWxnb3JpdGhtIGlzIGNhbGxlZCAiZXhwb25lbnRpYXRpb24gYnkgc3F1YXJpbmciCiAgICAvLyBhbmQgY2FsY3VsYXRlcyB4Xm4gd2l0aCB4IGFzIGZpeGVkLXBvaW50IGFuZCBuIGFzIHJlZ3VsYXIgdW5zaWduZWQuCiAgICAvLwogICAgLy8gSXQncyBPKGxvZyBuKSwgaW5zdGVhZCBvZiBPKG4pIGZvciBuYWl2ZSByZXBlYXRlZCBtdWx0aXBsaWNhdGlvbi4KICAgIC8vCiAgICAvLyBUaGVzZSBmYWN0cyBhcmUgd2h5IGl0IHdvcmtzOgogICAgLy8KICAgIC8vICBJZiBuIGlzIGV2ZW4sIHRoZW4geF5uID0gKHheMileKG4vMikuCiAgICAvLyAgSWYgbiBpcyBvZGQsICB0aGVuIHhebiA9IHggKiB4XihuLTEpLAogICAgLy8gICBhbmQgYXBwbHlpbmcgdGhlIGVxdWF0aW9uIGZvciBldmVuIHggZ2l2ZXMKICAgIC8vICAgIHhebiA9IHggKiAoeF4yKV4oKG4tMSkgLyAyKS4KICAgIC8vCiAgICAvLyAgQWxzbywgRVZNIGRpdmlzaW9uIGlzIGZsb29yaW5nIGFuZAogICAgLy8gICAgZmxvb3JbKG4tMSkgLyAyXSA9IGZsb29yW24gLyAyXS4KICAgIC8vCiAgICBmdW5jdGlvbiBycG93KHVpbnQgeCwgdWludCBuKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgeikgewogICAgICAgIHogPSBuICUgMiAhPSAwID8geCA6IFJBWTsKCiAgICAgICAgZm9yIChuIC89IDI7IG4gIT0gMDsgbiAvPSAyKSB7CiAgICAgICAgICAgIHggPSBzYWZlUm11bCh4LCB4KTsKCiAgICAgICAgICAgIGlmIChuICUgMiAhPSAwKSB7CiAgICAgICAgICAgICAgICB6ID0gc2FmZVJtdWwoeiwgeCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCmNvbnRyYWN0IERyaXZlenlQcml2YXRlQ29pblNoYXJlZFN0b3JhZ2UgaXMgRFNBdXRoIHsKICAgIHVpbnQgX3RvdGFsU3VwcGx5ID0gMDsKCiAgICAvLyDjgqrjg7zjg4rjg7znmbvpjLLjgZXjgozjgabjgYTjgovjgqLjg4njg6zjgrkKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSBvd25lckFkZHJlc3NlczsKCiAgICAvLyDjgqrjg7zjg4rjg7zjgqLjg4njg6zjgrnjga4gTFVUCiAgICBhZGRyZXNzW10gcHVibGljIG93bmVyQWRkcmVzc0xVVDsKCiAgICAvLyDkv6HpoLzjgafjgY3jgovjgrPjg7Pjg4jjg6njgq/jg4jjgavnmbvpjLLjgZXjgozjgabjgYTjgovjgqLjg4njg6zjgrkKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSB0cnVzdGVkQ29udHJhY3RBZGRyZXNzZXM7CgogICAgLy8g5L+h6aC844Gn44GN44KL44Kz44Oz44OI44Op44Kv44OI44GuIExVVAogICAgYWRkcmVzc1tdIHB1YmxpYyB0cnVzdGVkQWRkcmVzc0xVVDsKCiAgICAvLyDjg5vjg6/jgqTjg4jjg6rjgrnjg4ggKEtZQ+eiuuiqjea4iOOBvykg44Gu44Ki44OJ44Os44K5CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgYXBwcm92ZWRBZGRyZXNzZXM7CgogICAgLy8g44Ob44Ov44Kk44OI44Oq44K544OI44GuIExVVAogICAgYWRkcmVzc1tdIHB1YmxpYyBhcHByb3ZlZEFkZHJlc3NMVVQ7CgogICAgLy8g5bi444Gr6Kix5Y+v44GV44KM44Gm44GE44KL6Zai5pWwCiAgICBtYXBwaW5nKGJ5dGVzNCA9PiBib29sKSBhY3Rpb25zQWx3YXlzUGVybWl0dGVkOwoKICAgIC8qKgogICAgICogY3VzdG9tIGV2ZW50cwogICAgICovCgogICAgLyogYWRkT3duZXJBZGRyZXNzIOOBl+OBn+OBqOOBjeOBq+eZuueUn+OBmeOCi+OCpOODmeODs+ODiAogICAgICoge2FkZHJlc3N9IHNlbmRlckFkZHJlc3MgLSDlrp/ooYzogIXjga7jgqLjg4njg6zjgrkKICAgICAqIHthZGRyZXNzfSB1c2VyQWRkcmVzcyAtIOioseWPr+OBleOCjOOBn+ODpuODvOOCtuOBruOCouODieODrOOCuQogICAgICovCiAgICBldmVudCBBZGRPd25lckFkZHJlc3MoYWRkcmVzcyBpbmRleGVkIHNlbmRlckFkZHJlc3MsIGFkZHJlc3MgaW5kZXhlZCB1c2VyQWRkcmVzcyk7CgogICAgLyogcmVtb3ZlT3duZXJBZGRyZXNzIOOBl+OBn+OBqOOBjeOBq+eZuueUn+OBmeOCi+OCpOODmeODs+ODiAogICAgICoge2FkZHJlc3N9IHNlbmRlckFkZHJlc3MgLSDlrp/ooYzogIXjga7jgqLjg4njg6zjgrkKICAgICAqIHthZGRyZXNzfSB1c2VyQWRkcmVzcyAtIOioseWPr+OCkuWPluOCiua2iOOBleOCjOOBn+ODpuODvOOCtuOBruOCouODieODrOOCuQogICAgICovCiAgICBldmVudCBSZW1vdmVPd25lckFkZHJlc3MoYWRkcmVzcyBpbmRleGVkIHNlbmRlckFkZHJlc3MsIGFkZHJlc3MgaW5kZXhlZCB1c2VyQWRkcmVzcyk7CgogICAgLyogYWRkVHJ1c3RlZENvbnRyYWN0QWRkcmVzcyDjgZfjgZ/jgajjgY3jgavnmbrnlJ/jgZnjgovjgqTjg5njg7Pjg4gKICAgICAqIHthZGRyZXNzfSBzZW5kZXJBZGRyZXNzIC0g5a6f6KGM6ICF44Gu44Ki44OJ44Os44K5CiAgICAgKiB7YWRkcmVzc30gdXNlckFkZHJlc3MgLSDoqLHlj6/jgZXjgozjgZ/jg6bjg7zjgrbjga7jgqLjg4njg6zjgrkKICAgICAqLwogICAgZXZlbnQgQWRkVHJ1c3RlZENvbnRyYWN0QWRkcmVzcyhhZGRyZXNzIGluZGV4ZWQgc2VuZGVyQWRkcmVzcywgYWRkcmVzcyBpbmRleGVkIHVzZXJBZGRyZXNzKTsKCiAgICAvKiByZW1vdmVUcnVzdGVkQ29udHJhY3RBZGRyZXNzIOOBl+OBn+OBqOOBjeOBq+eZuueUn+OBmeOCi+OCpOODmeODs+ODiAogICAgICoge2FkZHJlc3N9IHNlbmRlckFkZHJlc3MgLSDlrp/ooYzogIXjga7jgqLjg4njg6zjgrkKICAgICAqIHthZGRyZXNzfSB1c2VyQWRkcmVzcyAtIOioseWPr+OCkuWPluOCiua2iOOBleOCjOOBn+ODpuODvOOCtuOBruOCouODieODrOOCuQogICAgICovCiAgICBldmVudCBSZW1vdmVUcnVzdGVkQ29udHJhY3RBZGRyZXNzKGFkZHJlc3MgaW5kZXhlZCBzZW5kZXJBZGRyZXNzLCBhZGRyZXNzIGluZGV4ZWQgdXNlckFkZHJlc3MpOwoKCiAgICAvKioKICAgICAqIOaMh+WumuOBl+OBn+OCouODieODrOOCueOCkuOCquODvOODiuODvOS4gOimp+OBq+i/veWKoOOBmeOCiwogICAgICogQHBhcmFtIGFkZHIgKGFkZHJlc3MpIC0g44Kq44O844OK44O844Gr6L+95Yqg44GX44Gf44GE44Ki44OJ44Os44K5CiAgICAgKiBAcmV0dXJuIHtib29sfSDov73liqDjgavmiJDlip/jgZfjgZ/loLTlkIjjga8gdHJ1ZSDjgpLov5TjgZkKICAgICAqLwogICAgZnVuY3Rpb24gYWRkT3duZXJBZGRyZXNzKGFkZHJlc3MgYWRkcikgYXV0aCBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIG93bmVyQWRkcmVzc2VzW2FkZHJdID0gdHJ1ZTsKICAgICAgICBvd25lckFkZHJlc3NMVVQucHVzaChhZGRyKTsKICAgICAgICBBZGRPd25lckFkZHJlc3MobXNnLnNlbmRlciwgYWRkcik7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiDmjIflrprjgZfjgZ/jgqLjg4njg6zjgrnjgpLkv6HpoLzjgafjgY3jgovjgrPjg7Pjg4jjg6njgq/jg4jkuIDopqfjgavov73liqDjgZnjgosKICAgICAqIOOBk+OBk+OBq+i/veWKoOOBleOCjOOBn+OCs+ODs+ODiOODqeOCr+ODiOOBr+OAgW1pbnQg44KEIGJ1cm4g44Gq44Gp44Gu566h55CG6ICF44Kz44Oe44Oz44OJ44KS5a6f6KGM44Gn44GN44KLICjjgYTjgo/jgobjgosgc3VkbykKICAgICAqIEBwYXJhbSBhZGRyIChhZGRyZXNzKSAtIOS/oemgvOOBp+OBjeOCi+OCs+ODs+ODiOODqeOCr+ODiOS4gOimp+OBq+i/veWKoOOBl+OBn+OBhOOCouODieODrOOCuQogICAgICogQHJldHVybiB7Ym9vbH0g6L+95Yqg44Gr5oiQ5Yqf44GX44Gf5aC05ZCI44GvIHRydWUg44KS6L+U44GZCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFkZFRydXN0ZWRDb250cmFjdEFkZHJlc3MoYWRkcmVzcyBhZGRyKSBhdXRoIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgdHJ1c3RlZENvbnRyYWN0QWRkcmVzc2VzW2FkZHJdID0gdHJ1ZTsKICAgICAgICB0cnVzdGVkQWRkcmVzc0xVVC5wdXNoKGFkZHIpOwogICAgICAgIEFkZFRydXN0ZWRDb250cmFjdEFkZHJlc3MobXNnLnNlbmRlciwgYWRkcik7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiDmjIflrprjgZfjgZ/jgqLjg4njg6zjgrnjgpJLWUPmib/oqo3muIjjgb/jgqLjg4njg6zjgrnkuIDopqfjgavov73liqDjgZnjgosKICAgICAqIOOBk+OBk+OBq+i/veWKoOOBleOCjOOBn+OCouODieODrOOCueOBr+ODiOODvOOCr+ODs+OBruizvOWFpeOBjOOBp+OBjeOCiwogICAgICogQHBhcmFtIGFkZHIgKGFkZHJlc3MpIC0gS1lD5om/6KqN5riI44G/44Ki44OJ44Os44K55LiA6Kan44Gr6L+95Yqg44GX44Gf44GE44Ki44OJ44Os44K5CiAgICAgKiBAcmV0dXJuIHtib29sfSDov73liqDjgavmiJDlip/jgZfjgZ/loLTlkIjjga8gdHJ1ZSDjgpLov5TjgZkKICAgICAqLwogICAgZnVuY3Rpb24gYWRkQXBwcm92ZWRBZGRyZXNzKGFkZHJlc3MgYWRkcikgYXV0aCBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGFwcHJvdmVkQWRkcmVzc2VzW2FkZHJdID0gdHJ1ZTsKICAgICAgICBhcHByb3ZlZEFkZHJlc3NMVVQucHVzaChhZGRyKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIOaMh+WumuOBl+OBn+OCouODieODrOOCueOCkuOCquODvOODiuODvOS4gOimp+OBi+OCieWJiumZpOOBmeOCiwogICAgICogQHBhcmFtIGFkZHIgKGFkZHJlc3MpIC0g44Kq44O844OK44O844GL44KJ5aSW44GX44Gf44GE44Ki44OJ44Os44K5CiAgICAgKiBAcmV0dXJuIHtib29sfSDliYrpmaTjgavmiJDlip/jgZfjgZ/loLTlkIjjga8gdHJ1ZSDjgpLov5TjgZkKICAgICAqLwogICAgZnVuY3Rpb24gcmVtb3ZlT3duZXJBZGRyZXNzKGFkZHJlc3MgYWRkcikgYXV0aCBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIG93bmVyQWRkcmVzc2VzW2FkZHJdID0gZmFsc2U7CiAgICAgICAgUmVtb3ZlT3duZXJBZGRyZXNzKG1zZy5zZW5kZXIsIGFkZHIpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICog5oyH5a6a44GX44Gf44Ki44OJ44Os44K544KS5L+h6aC844Gn44GN44KL44Kz44Oz44OI44Op44Kv44OI5LiA6Kan44GL44KJ5YmK6Zmk44GZ44KLCiAgICAgKiBAcGFyYW0gYWRkciAoYWRkcmVzcykgLSDkv6HpoLzjgafjgY3jgovjgrPjg7Pjg4jjg6njgq/jg4jkuIDopqfjgYvjgonlpJbjgZfjgZ/jgYTjgqLjg4njg6zjgrkKICAgICAqIEByZXR1cm4ge2Jvb2x9IOWJiumZpOOBq+aIkOWKn+OBl+OBn+WgtOWQiOOBryB0cnVlIOOCkui/lOOBmQogICAgICovCiAgICBmdW5jdGlvbiByZW1vdmVUcnVzdGVkQ29udHJhY3RBZGRyZXNzKGFkZHJlc3MgYWRkcikgYXV0aCBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHRydXN0ZWRDb250cmFjdEFkZHJlc3Nlc1thZGRyXSA9IGZhbHNlOwogICAgICAgIFJlbW92ZVRydXN0ZWRDb250cmFjdEFkZHJlc3MobXNnLnNlbmRlciwgYWRkcik7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiDmjIflrprjgZfjgZ/jgqLjg4njg6zjgrnjgpJLWUPmib/oqo3muIjjgb/jgqLjg4njg6zjgrnkuIDopqfjgYvjgonliYrpmaTjgZnjgosKICAgICAqIEBwYXJhbSBhZGRyIChhZGRyZXNzKSAtIEtZQ+aJv+iqjea4iOOBv+OCouODieODrOOCueS4gOimp+OBi+OCieWkluOBl+OBn+OBhOOCouODieODrOOCuQogICAgICogQHJldHVybiB7Ym9vbH0g5YmK6Zmk44Gr5oiQ5Yqf44GX44Gf5aC05ZCI44GvIHRydWUg44KS6L+U44GZCiAgICAgKi8KICAgIGZ1bmN0aW9uIHJlbW92ZUFwcHJvdmVkQWRkcmVzcyhhZGRyZXNzIGFkZHIpIGF1dGggcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBhcHByb3ZlZEFkZHJlc3Nlc1thZGRyXSA9IGZhbHNlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICog5oyH5a6a44GX44Gf44Ki44OJ44Os44K544GM44Kq44O844OK44O844Gn44GC44KL44GL44KS6Kq/44G544KLCiAgICAgKiBAcGFyYW0gYWRkciAoYWRkcmVzcykgLSDjgqrjg7zjg4rjg7zjgafjgYLjgovjgYvoqr/jgbnjgZ/jgYTjgqLjg4njg6zjgrkKICAgICAqIEByZXR1cm4ge2Jvb2x9IOOCquODvOODiuODvOOBp+OBguOBo+OBn+WgtOWQiOOBryB0cnVlIOOCkui/lOOBmQogICAgICovCiAgICBmdW5jdGlvbiBpc093bmVyQWRkcmVzcyhhZGRyZXNzIGFkZHIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIG93bmVyQWRkcmVzc2VzW2FkZHJdOwogICAgfQoKICAgIC8qKgogICAgICog5oyH5a6a44GX44Gf44Ki44OJ44Os44K544GMS1lD5om/6KqN5riI44G/44Gn44GC44KL44GL44KS6Kq/44G544KLCiAgICAgKiBAcGFyYW0gYWRkciAoYWRkcmVzcykgLSBLWUPmib/oqo3muIjjgb/jgafjgYLjgovjgYvoqr/jgbnjgZ/jgYTjgqLjg4njg6zjgrkKICAgICAqIEByZXR1cm4ge2Jvb2x9IEtZQ+aJv+iqjea4iOOBv+OBp+OBguOBo+OBn+WgtOWQiOOBryB0cnVlIOOCkui/lOOBmQogICAgICovCiAgICBmdW5jdGlvbiBpc0FwcHJvdmVkQWRkcmVzcyhhZGRyZXNzIGFkZHIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIGFwcHJvdmVkQWRkcmVzc2VzW2FkZHJdOwogICAgfQoKICAgIC8qKgogICAgICog5oyH5a6a44GX44Gf44Ki44OJ44Os44K544GM5L+h6aC844Gn44GN44KL44Kz44Oz44OI44Op44Kv44OI44Gn44GC44KL44GL44KS6Kq/44G544KLCiAgICAgKiBAcGFyYW0gYWRkciAoYWRkcmVzcykgLSDkv6HpoLzjgafjgY3jgovjgrPjg7Pjg4jjg6njgq/jg4jjgafjgYLjgovjgYvoqr/jgbnjgZ/jgYTjgqLjg4njg6zjgrkKICAgICAqIEByZXR1cm4ge2Jvb2x9IOS/oemgvOOBp+OBjeOCi+OCs+ODs+ODiOODqeOCr+ODiOOBp+OBguOBo+OBn+WgtOWQiOOBryB0cnVlIOOCkui/lOOBmQogICAgICovCiAgICBmdW5jdGlvbiBpc1RydXN0ZWRDb250cmFjdEFkZHJlc3MoYWRkcmVzcyBhZGRyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiB0cnVzdGVkQ29udHJhY3RBZGRyZXNzZXNbYWRkcl07CiAgICB9CgogICAgLyoqCiAgICAgKiDjgqrjg7zjg4rjg7zjga7jgqLjg4njg6zjgrnkuIDopqfjgavnmbvpjLLjgZfjgabjgYTjgovjgqLjg4njg6zjgrnmlbDjgpLoqr/jgbnjgosKICAgICAqIOWQjOS4gOOCouODieODrOOCueOBq+OBpOOBhOOBpuOAgeODquOCueODiOOBrui/veWKoOOBqOWJiumZpOOCkue5sOOCiui/lOOBl+OBn+WgtOWQiOOBr+mHjeikh+OBl+OBpuOCq+OCpuODs+ODiOOBleOCjOOCiyAKICAgICAqIEByZXR1cm4ge3VpbnR9IOeZu+mMsuOBleOCjOOBpuOBhOOCi+OCouODieODrOOCueOBruaVsAogICAgICovCiAgICBmdW5jdGlvbiBvd25lckFkZHJlc3NTaXplKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gb3duZXJBZGRyZXNzTFVULmxlbmd0aDsKICAgIH0KCiAgICAvKioKICAgICAqIG4g55Wq55uu44Gr55m76Yyy44GV44KM44Gf44Kq44O844OK44O844Gu44Ki44OJ44Os44K544KS5Y+W5b6X44GZ44KLIChMb29rIHVwIHRhYmxlKQogICAgICogQHBhcmFtIGluZGV4ICh1aW50KSAtIG4g55Wq55uu44KS5oyH5a6a44GZ44KLCiAgICAgKiBAcmV0dXJuIHthZGRyZXNzfSDnmbvpjLLjgZXjgozjgabjgYTjgovjgqLjg4njg6zjgrkKICAgICAqLwogICAgZnVuY3Rpb24gb3duZXJBZGRyZXNzSW5MVVQodWludCBpbmRleCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MpIHsKICAgICAgICByZXR1cm4gb3duZXJBZGRyZXNzTFVUW2luZGV4XTsKICAgIH0KCiAgICAvKioKICAgICAqIOS/oemgvOOBp+OBjeOCi+OCs+ODs+ODiOODqeOCr+ODiOS4gOimp+OBq+eZu+mMsuOBl+OBpuOBhOOCi+OCouODieODrOOCueaVsOOCkuiqv+OBueOCiwogICAgICog5ZCM5LiA44Ki44OJ44Os44K544Gr44Gk44GE44Gm44CB44Oq44K544OI44Gu6L+95Yqg44Go5YmK6Zmk44KS57mw44KK6L+U44GX44Gf5aC05ZCI44Gv6YeN6KSH44GX44Gm44Kr44Km44Oz44OI44GV44KM44KLIAogICAgICogQHJldHVybiB7dWludH0g55m76Yyy44GV44KM44Gm44GE44KL44Ki44OJ44Os44K544Gu5pWwCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRydXN0ZWRBZGRyZXNzU2l6ZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIHRydXN0ZWRBZGRyZXNzTFVULmxlbmd0aDsKICAgIH0KCiAgICAvKioKICAgICAqIG4g55Wq55uu44Gr55m76Yyy44GV44KM44Gf5L+h6aC844Gn44GN44KL44Kz44Oz44OI44Op44Kv44OI44KS5Y+W5b6X44GZ44KLIChMb29rIHVwIHRhYmxlKQogICAgICogQHBhcmFtIGluZGV4ICh1aW50KSAtIG4g55Wq55uu44KS5oyH5a6a44GZ44KLCiAgICAgKiBAcmV0dXJuIHthZGRyZXNzfSDnmbvpjLLjgZXjgozjgabjgYTjgovjgrPjg7Pjg4jjg6njgq/jg4jjga7jgqLjg4njg6zjgrkKICAgICAqLwogICAgZnVuY3Rpb24gdHJ1c3RlZEFkZHJlc3NJbkxVVCh1aW50IGluZGV4KSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHJldHVybiB0cnVzdGVkQWRkcmVzc0xVVFtpbmRleF07CiAgICB9CgogICAgLyoqCiAgICAgKiBLWUPmib/oqo3muIjjgb/jgqLjg4njg6zjgrnjga7kuIDopqfjgavnmbvpjLLjgZfjgabjgYTjgovjgqLjg4njg6zjgrnmlbDjgpLoqr/jgbnjgosKICAgICAqIOWQjOS4gOOCouODieODrOOCueOBq+OBpOOBhOOBpuOAgeODquOCueODiOOBrui/veWKoOOBqOWJiumZpOOCkue5sOOCiui/lOOBl+OBn+WgtOWQiOOBr+mHjeikh+OBl+OBpuOCq+OCpuODs+ODiOOBleOCjOOCiyAKICAgICAqIEByZXR1cm4ge3VpbnR9IOeZu+mMsuOBleOCjOOBpuOBhOOCi+OCouODieODrOOCueOBruaVsAogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlZEFkZHJlc3NTaXplKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gYXBwcm92ZWRBZGRyZXNzTFVULmxlbmd0aDsKICAgIH0KCiAgICAvKioKICAgICAqIG4g55Wq55uu44Gr55m76Yyy44GV44KM44GfS1lD5om/6KqN5riI44G/44Ki44OJ44Os44K544KS5Y+W5b6X44GZ44KLIChMb29rIHVwIHRhYmxlKQogICAgICogQHBhcmFtIGluZGV4ICh1aW50KSAtIG4g55Wq55uu44KS5oyH5a6a44GZ44KLCiAgICAgKiBAcmV0dXJuIHthZGRyZXNzfSDnmbvpjLLjgZXjgozjgabjgYTjgovjgqLjg4njg6zjgrkKICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZWRBZGRyZXNzSW5MVVQodWludCBpbmRleCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MpIHsKICAgICAgICByZXR1cm4gYXBwcm92ZWRBZGRyZXNzTFVUW2luZGV4XTsKICAgIH0KCgogICAgZnVuY3Rpb24gaXNBdXRob3JpemVkKGFkZHJlc3Mgc3JjLCBieXRlczQgc2lnKSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gc3JjID09IGFkZHJlc3ModGhpcykgfHwgc3JjID09IG93bmVyIHx8IGlzT3duZXJBZGRyZXNzKHNyYykgfHwgaXNUcnVzdGVkQ29udHJhY3RBZGRyZXNzKHNyYykgfHwgYWN0aW9uc0Fsd2F5c1Blcm1pdHRlZFtzaWddOwogICAgfQp9Cgpjb250cmFjdCBEcml2ZXp5UHJpdmF0ZUNvaW5TdG9yYWdlIGlzIERTQXV0aCB7CiAgICB1aW50IF90b3RhbFN1cHBseSA9IDA7CgogICAgLy8g5q6L6auY5LiA6KanCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgY29pbkJhbGFuY2VzOwoKICAgIC8vIOmAgemHkeioseWPr+mhjeOBruS4gOimpwogICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIGNvaW5BbGxvd2FuY2VzOwoKICAgIC8vIOWFsemAmuOCueODiOODrOODvOOCuAogICAgRHJpdmV6eVByaXZhdGVDb2luU2hhcmVkU3RvcmFnZSBwdWJsaWMgc2hhcmVkU3RvcmFnZTsKCiAgICAvLyDluLjjgavoqLHlj6/jgZXjgozjgabjgYTjgovplqLmlbAKICAgIG1hcHBpbmcoYnl0ZXM0ID0+IGJvb2wpIGFjdGlvbnNBbHdheXNQZXJtaXR0ZWQ7CgogICAgLy8g44Om44O844K26ZaT44Gn44Gu6YCB6YeR44GM44Gn44GN44KL44GL44Gp44GG44GLCiAgICBib29sIHB1YmxpYyB0cmFuc2ZlckJldHdlZW5Vc2VyczsKCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGV4dGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gX3RvdGFsU3VwcGx5OwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFRvdGFsU3VwcGx5KHVpbnQgYW1vdW50KSBhdXRoIGV4dGVybmFsIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBfdG90YWxTdXBwbHkgPSBhbW91bnQ7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gY29pbkJhbGFuY2VPZihhZGRyZXNzIGFkZHIpIGV4dGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gY29pbkJhbGFuY2VzW2FkZHJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGNvaW5BbGxvd2FuY2VPZihhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBzcGVuZGVyKSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIGNvaW5BbGxvd2FuY2VzW19vd25lcl1bc3BlbmRlcl07CiAgICB9CgogICAgZnVuY3Rpb24gc2V0Q29pbkJhbGFuY2UoYWRkcmVzcyBhZGRyLCB1aW50IGFtb3VudCkgYXV0aCBleHRlcm5hbCByZXR1cm5zIChib29sKSB7CiAgICAgICAgY29pbkJhbGFuY2VzW2FkZHJdID0gYW1vdW50OwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldENvaW5BbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSkgYXV0aCBleHRlcm5hbCByZXR1cm5zIChib29sKSB7CiAgICAgICAgY29pbkFsbG93YW5jZXNbX293bmVyXVtzcGVuZGVyXSA9IHZhbHVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFNoYXJlZFN0b3JhZ2UoYWRkcmVzcyBhZGRyKSBhdXRoIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgc2hhcmVkU3RvcmFnZSA9IERyaXZlenlQcml2YXRlQ29pblNoYXJlZFN0b3JhZ2UoYWRkcik7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb3dUcmFuc2ZlckJldHdlZW5Vc2VycygpIGF1dGggcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB0cmFuc2ZlckJldHdlZW5Vc2VycyA9IHRydWU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gZGlzYWxsb3dUcmFuc2ZlckJldHdlZW5Vc2VycygpIGF1dGggcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB0cmFuc2ZlckJldHdlZW5Vc2VycyA9IGZhbHNlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGNhblRyYW5zZmVyQmV0d2VlblVzZXJzKCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiB0cmFuc2ZlckJldHdlZW5Vc2VyczsKICAgIH0KCiAgICBmdW5jdGlvbiBpc0F1dGhvcml6ZWQoYWRkcmVzcyBzcmMsIGJ5dGVzNCBzaWcpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBhY3Rpb25zQWx3YXlzUGVybWl0dGVkW3NpZ10gfHwgc3JjID09IGFkZHJlc3ModGhpcykgfHwgc3JjID09IG93bmVyIHx8IHNoYXJlZFN0b3JhZ2UuaXNPd25lckFkZHJlc3Moc3JjKSB8fCBzaGFyZWRTdG9yYWdlLmlzVHJ1c3RlZENvbnRyYWN0QWRkcmVzcyhzcmMpOwogICAgfQp9Cgpjb250cmFjdCBEcml2ZXp5UHJpdmF0ZUNvaW5BY2NlcHRhYmxlQ29udHJhY3QgewogICAgZnVuY3Rpb24gcmVjZWl2ZVRva2VuKGFkZHJlc3MgYWRkciwgdWludCBhbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sKTsKCiAgICBmdW5jdGlvbiBpc0RyaXZlenlQcml2YXRlVG9rZW5BY2NlcHRhYmxlKCkgcHVibGljIHB1cmUgcmV0dXJucyAoYm9vbCk7Cn0KCmNvbnRyYWN0IERyaXZlenlQcml2YXRlQ29pbkltcGxlbWVudGF0aW9uIGlzIERTQXV0aCwgQVBNYXRoIHsKICAgIERyaXZlenlQcml2YXRlQ29pblN0b3JhZ2UgcHVibGljIGNvaW5TdG9yYWdlOwogICAgRHJpdmV6eVByaXZhdGVDb2luU2hhcmVkU3RvcmFnZSBwdWJsaWMgc2hhcmVkU3RvcmFnZTsKICAgIERyaXZlenlQcml2YXRlQ29pbiBwdWJsaWMgY29pbjsKCgogICAgLyoqCiAgICAgKiBjdXN0b20gZXZlbnRzCiAgICAgKi8KCiAgICAvKiBzdG9yYWdlIOOCkuioreWumuOBl+OBn+OBqOOBjeOBq+eZuueUn+OBmeOCi+OCpOODmeODs+ODiAogICAgICoge2FkZHJlc3N9IHNlbmRlckFkZHJlc3MgLSDlrp/ooYzogIXjga7jgqLjg4njg6zjgrkKICAgICAqIHthZGRyZXNzfSBjb250cmFjdEFkZHJlc3MgLSDoqK3lrprjgZfjgZ8gc3RvcmFnZSDjga7jgrPjg7Pjg4jjg6njgq/jg4jjgqLjg4njg6zjgrkKICAgICAqLwogICAgZXZlbnQgU2V0U3RvcmFnZShhZGRyZXNzIGluZGV4ZWQgc2VuZGVyQWRkcmVzcywgYWRkcmVzcyBpbmRleGVkIGNvbnRyYWN0QWRkcmVzcyk7CgogICAgLyogc2hhcmVkIHN0b3JhZ2Ug44KS6Kit5a6a44GX44Gf44Go44GN44Gr55m655Sf44GZ44KL44Kk44OZ44Oz44OICiAgICAgKiB7YWRkcmVzc30gc2VuZGVyQWRkcmVzcyAtIOWun+ihjOiAheOBruOCouODieODrOOCuQogICAgICoge2FkZHJlc3N9IGNvbnRyYWN0QWRkcmVzcyAtIOioreWumuOBl+OBnyBzaGFyZWQgc3RvcmFnZSDjga7jgrPjg7Pjg4jjg6njgq/jg4jjgqLjg4njg6zjgrkKICAgICAqLwogICAgZXZlbnQgU2V0U2hhcmVkU3RvcmFnZShhZGRyZXNzIGluZGV4ZWQgc2VuZGVyQWRkcmVzcywgYWRkcmVzcyBpbmRleGVkIGNvbnRyYWN0QWRkcmVzcyk7CgogICAgLyogY29pbiDjgpLoqK3lrprjgZfjgZ/jgajjgY3jgavnmbrnlJ/jgZnjgovjgqTjg5njg7Pjg4gKICAgICAqIHthZGRyZXNzfSBzZW5kZXJBZGRyZXNzIC0g5a6f6KGM6ICF44Gu44Ki44OJ44Os44K5CiAgICAgKiB7YWRkcmVzc30gY29udHJhY3RBZGRyZXNzIC0g6Kit5a6a44GX44GfIGNvaW4g44Gu44Kz44Oz44OI44Op44Kv44OI44Ki44OJ44Os44K5CiAgICAgKi8KICAgIGV2ZW50IFNldENvaW4oYWRkcmVzcyBpbmRleGVkIHNlbmRlckFkZHJlc3MsIGFkZHJlc3MgaW5kZXhlZCBjb250cmFjdEFkZHJlc3MpOwoKICAgIC8qIG1pbnQg44GX44Gf44Go44GN44Gr55m655Sf44GZ44KL44Kk44OZ44Oz44OICiAgICAgKiB7YWRkcmVzc30gc2VuZGVyQWRkcmVzcyAtIOWun+ihjOiAheOBruOCouODieODrOOCuQogICAgICoge2FkZHJlc3N9IHJlY2VpdmVyQWRkcmVzcyAtIOOCs+OCpOODs+OCkuWPl+OBkeWPluOCi+ODpuODvOOCtuOBruOCouODieODrOOCuQogICAgICoge3VpbnR9IGFtb3VudCAtIOeZuuihjOmrmAogICAgICovCiAgICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCBzZW5kZXJBZGRyZXNzLCBhZGRyZXNzIGluZGV4ZWQgcmVjZWl2ZXJBZGRyZXNzLCB1aW50IGFtb3VudCk7CgogICAgLyogYnVybiDjgZfjgZ/jgajjgY3jgavnmbrnlJ/jgZnjgovjgqTjg5njg7Pjg4gKICAgICAqIHthZGRyZXNzfSBzZW5kZXJBZGRyZXNzIC0g5a6f6KGM6ICF44Gu44Ki44OJ44Os44K5CiAgICAgKiB7YWRkcmVzc30gcmVjZWl2ZXJBZGRyZXNzIC0g44Kz44Kk44Oz44KS5raI5Y2044GZ44KL44Om44O844K244Gu44Ki44OJ44Os44K5CiAgICAgKiB7dWludH0gYW1vdW50IC0g5raI5Y206auYCiAgICAgKi8KICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIHNlbmRlckFkZHJlc3MsIGFkZHJlc3MgaW5kZXhlZCByZWNlaXZlckFkZHJlc3MsIHVpbnQgYW1vdW50KTsKCiAgICAvKiBhZGRBcHByb3ZlZEFkZHJlc3Mg44GX44Gf44Go44GN44Gr55m655Sf44GZ44KL44Kk44OZ44Oz44OICiAgICAgKiB7YWRkcmVzc30gc2VuZGVyQWRkcmVzcyAtIOWun+ihjOiAheOBruOCouODieODrOOCuQogICAgICoge2FkZHJlc3N9IHVzZXJBZGRyZXNzIC0g6Kix5Y+v44GV44KM44Gf44Om44O844K244Gu44Ki44OJ44Os44K5CiAgICAgKi8KICAgIGV2ZW50IEFkZEFwcHJvdmVkQWRkcmVzcyhhZGRyZXNzIGluZGV4ZWQgc2VuZGVyQWRkcmVzcywgYWRkcmVzcyBpbmRleGVkIHVzZXJBZGRyZXNzKTsKCiAgICAvKiByZW1vdmVBcHByb3ZlZEFkZHJlc3Mg44GX44Gf44Go44GN44Gr55m655Sf44GZ44KL44Kk44OZ44Oz44OICiAgICAgKiB7YWRkcmVzc30gc2VuZGVyQWRkcmVzcyAtIOWun+ihjOiAheOBruOCouODieODrOOCuQogICAgICoge2FkZHJlc3N9IHVzZXJBZGRyZXNzIC0g6Kix5Y+v44GM5Y+W44KK5raI44GV44KM44Gf44Om44O844K244Gu44Ki44OJ44Os44K5CiAgICAgKi8KICAgIGV2ZW50IFJlbW92ZUFwcHJvdmVkQWRkcmVzcyhhZGRyZXNzIGluZGV4ZWQgc2VuZGVyQWRkcmVzcywgYWRkcmVzcyBpbmRleGVkIHVzZXJBZGRyZXNzKTsKCiAgICAvKioKICAgICAqIOe3j+eZuuihjOmrmOOCkui/lOOBmQogICAgICogQHJldHVybiB7dWludH0g44Kz44Kk44Oz44Gu57eP55m66KGM6auYCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgYXV0aCBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIGNvaW5TdG9yYWdlLnRvdGFsU3VwcGx5KCk7CiAgICB9CgogICAgLyoqCiAgICAgKiDmjIflrprjgZfjgZ/jgqLjg4njg6zjgrnjgYzkv53mnInjgZnjgovjgrPjgqTjg7Pjga7mrovpq5jjgpLov5TjgZkKICAgICAqIEBwYXJhbSBhZGRyIHthZGRyZXNzfSAtIOOCs+OCpOODs+OBruaui+mrmOOCkuiqv+OBueOBn+OBhOOCouODieODrOOCuQogICAgICogQHJldHVybiB7dWludH0g44Kz44Kk44Oz44Gu5q6L6auYCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIGFkZHIpIGF1dGggcHVibGljIHZpZXcgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBjb2luU3RvcmFnZS5jb2luQmFsYW5jZU9mKGFkZHIpOwogICAgfQoKICAgIC8qKgogICAgICogRVJDMjAgVG9rZW4gU3RhbmRhcmTjgavmupbmi6DjgZfjgZ/plqLmlbAKICAgICAqCiAgICAgKiDjgYLjgovjg6bjg7zjgrbjgYzkv53mnInjgZnjgovjgrPjgqTjg7PjgpLmjIflrprjgZfjgZ/jgqLjg4njg6zjgrnjgavpgIHph5HjgZnjgosKICAgICAqIEBwYXJhbSBzZW5kZXIge2FkZHJlc3N9IC0g6YCB5L+h5YWDICjos4fph5HmupApIOOBruOCouODieODrOOCuQogICAgICogQHBhcmFtIHRvIHthZGRyZXNzfSAtIOWum+WFiOOBruOCouODieODrOOCuQogICAgICogQHBhcmFtIGFtb3VudCB7dWludH0gLSDpgIHku5jjgZnjgovjgrPjgqTjg7Pjga7liIbph48KICAgICAqIEByZXR1cm4ge2Jvb2x9IOOCs+OCpOODs+OBruaui+mrmAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHNlbmRlciwgYWRkcmVzcyB0bywgdWludCBhbW91bnQpIGF1dGggcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICAvLyDmrovpq5jjgpLotoXjgYjjgabpgIHph5HjgZfjgabjgarjgYTjgYvnorroqo0KICAgICAgICByZXF1aXJlKGNvaW5TdG9yYWdlLmNvaW5CYWxhbmNlT2Yoc2VuZGVyKSA+PSBhbW91bnQpOwoKICAgICAgICAvLyAx5YaG5Lul5LiK6YCB44KN44GG44Go44GX44Gm44GE44KL44GL56K66KqNCiAgICAgICAgcmVxdWlyZShhbW91bnQgPiAwKTsKCiAgICAgICAgLy8g5Y+X5Y+W6ICF44GM44Kq44O844OK44O844G+44Gf44Gv6Kix5Y+v44GV44KM44GfIChLWUMg6YCa6YGO5riI44G/KSDjgqLjg4njg6zjgrnjgYvjgpLnorroqo0KICAgICAgICByZXF1aXJlKGNhblRyYW5zZmVyKHNlbmRlciwgdG8pKTsKCiAgICAgICAgLy8g6YCB6YeR5YWD44Gu5q6L6auY44KS5rib44KJ44GX44CB6YCB6YeR5YWI44Gu5q6L6auY44KS5aKX44KE44GZCiAgICAgICAgY29pblN0b3JhZ2Uuc2V0Q29pbkJhbGFuY2Uoc2VuZGVyLCBzYWZlU3ViKGNvaW5TdG9yYWdlLmNvaW5CYWxhbmNlT2Yoc2VuZGVyKSwgYW1vdW50KSk7CiAgICAgICAgY29pblN0b3JhZ2Uuc2V0Q29pbkJhbGFuY2UodG8sIHNhZmVBZGQoY29pblN0b3JhZ2UuY29pbkJhbGFuY2VPZih0byksIGFtb3VudCkpOwoKICAgICAgICAvLyDpgIHph5HlhYjjgYzjgrPjg7Pjg4jjg6njgq/jg4jjgafjgIFpc0RyaXZlenlQcml2YXRlVG9rZW5BY2NlcHRhYmxlIOOBjCB0cnVlIOOCkui/lOOBmeOCs+ODs+ODiOODqeOCr+ODiOOBp+OBrwogICAgICAgIC8vIHJlY2VpdmVUb2tlbigpIOmWouaVsOOCkuOCs+ODvOODq+OBmeOCiwogICAgICAgIGlmIChpc0NvbnRyYWN0KHRvKSkgewogICAgICAgICAgICBEcml2ZXp5UHJpdmF0ZUNvaW5BY2NlcHRhYmxlQ29udHJhY3QgcmVjZWl2ZXIgPSBEcml2ZXp5UHJpdmF0ZUNvaW5BY2NlcHRhYmxlQ29udHJhY3QodG8pOwogICAgICAgICAgICBpZiAocmVjZWl2ZXIuaXNEcml2ZXp5UHJpdmF0ZVRva2VuQWNjZXB0YWJsZSgpKSB7CiAgICAgICAgICAgICAgICByZXF1aXJlKHJlY2VpdmVyLnJlY2VpdmVUb2tlbihzZW5kZXIsIGFtb3VudCkpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogRVJDMjAgVG9rZW4gU3RhbmRhcmTjgavmupbmi6DjgZfjgZ/plqLmlbAKICAgICAqCiAgICAgKiDmjIflrprjgZfjgZ/jg6bjg7zjgrbjgYzkv53mnInjgZnjgovjgrPjgqTjg7PjgpLmjIflrprjgZfjgZ/jgqLjg4njg6zjgrnjgavpgIHph5HjgZnjgosKICAgICAqIEBwYXJhbSBzZW5kZXIge2FkZHJlc3N9IC0g6YCB5LuY5pON5L2c44KS5a6f6KGM44GZ44KL44Om44O844K244Gu44Ki44OJ44Os44K5CiAgICAgKiBAcGFyYW0gZnJvbSB7YWRkcmVzc30gLSDos4fph5HmupDjgajjgarjgovjg6bjg7zjgrbjga7jgqLjg4njg6zjgrkKICAgICAqIEBwYXJhbSB0byB7YWRkcmVzc30gLSDlrpvlhYjjga7jgqLjg4njg6zjgrkKICAgICAqIEBwYXJhbSBhbW91bnQge3VpbnR9IC0g6YCB5LuY44GZ44KL44Kz44Kk44Oz44Gu5YiG6YePCiAgICAgKiBAcmV0dXJuIHtib29sfSDpgIHku5jjgavmiJDlip/jgZfjgZ/loLTlkIjjga8gdHJ1ZSDjgpLov5TjgZkKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3Mgc2VuZGVyLCBhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgYW1vdW50KSBhdXRoIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgLy8g44Ki44Ot44O844Ki44Oz44K544KS6LaF44GI44Gm6YCB6YeR44GX44Gm44Gq44GE44GL56K66KqNCiAgICAgICAgcmVxdWlyZShjb2luU3RvcmFnZS5jb2luQWxsb3dhbmNlT2Yoc2VuZGVyLCBmcm9tKSA+PSBhbW91bnQpOwoKICAgICAgICAvLyB0cmFuc2ZlciDlh6bnkIbjgavlvJXjgY3ntpnjgZAKICAgICAgICB0cmFuc2Zlcihmcm9tLCB0bywgYW1vdW50KTsKCiAgICAgICAgLy8g44Ki44Ot44O844Ki44Oz44K544KS5rib44KJ44GZCiAgICAgICAgY29pblN0b3JhZ2Uuc2V0Q29pbkFsbG93YW5jZShmcm9tLCBzZW5kZXIsIHNhZmVTdWIoY29pblN0b3JhZ2UuY29pbkFsbG93YW5jZU9mKHNlbmRlciwgZnJvbSksIGFtb3VudCkpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEVSQzIwIFRva2VuIFN0YW5kYXJk44Gr5rqW5oug44GX44Gf6Zai5pWwCiAgICAgKgogICAgICogc3BlbmRlcu+8iOaUr+aJleOBhOWFg+OBruOCouODieODrOOCue+8ieOBq3NlbmRlcu+8iOmAgeS/oeiAhe+8ieOBjGFtb3VudOWIhuOBoOOBkeaUr+aJleOBhuOBruOCkuioseWPr+OBmeOCiwogICAgICog44GT44Gu6Zai5pWw44GM5ZG844Gw44KM44KL5bqm44Gr6YCB6YeR5Y+v6IO944Gq6YeR6aGN44KS5pu05paw44GZ44KL44CCCiAgICAgKgogICAgICogQHBhcmFtIHNlbmRlciB7YWRkcmVzc30gLSDoqLHlj6/mk43kvZzjgpLlrp/ooYzjgZnjgovjg6bjg7zjgrbjga7jgqLjg4njg6zjgrkKICAgICAqIEBwYXJhbSBzcGVuZGVyIChhZGRyZXNzfSAtIOmAgeS7mOaTjeS9nOOCkuioseWPr+OBmeOCi+WvvuixoeODpuODvOOCtuOBruOCouODieODrOOCuQogICAgICogQHBhcmFtIGFtb3VudCB7dWludH0gLSDpgIHku5jjgpLoqLHlj6/jgZnjgovjgrPjgqTjg7Pjga7liIbph48KICAgICAqIEByZXR1cm4ge2Jvb2x9IOioseWPr+OBq+aIkOWKn+OBl+OBn+WgtOWQiOOBryB0cnVlIOOCkui/lOOBmQogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc2VuZGVyLCBhZGRyZXNzIHNwZW5kZXIsIHVpbnQgYW1vdW50KSBhdXRoIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgY29pblN0b3JhZ2Uuc2V0Q29pbkFsbG93YW5jZShzZW5kZXIsIHNwZW5kZXIsIGFtb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBFUkMyMCBUb2tlbiBTdGFuZGFyZOOBq+a6luaLoOOBl+OBn+mWouaVsAogICAgICoKICAgICAqIOaMh+WumuOBl+OBn+ODpuODvOOCtuOBq+WvvuOBl+OAgemAgeS7mOaTjeS9nOOBjOioseWPr+OBleOCjOOBpuOBhOOCi+ODiOODvOOCr+ODs+OBruWIhumHj+OCkui/lOOBmQogICAgICoKICAgICAqIEBwYXJhbSBvd25lciB7YWRkcmVzc30gLSDos4fph5HmupDjgajjgarjgovjg6bjg7zjgrbjga7jgqLjg4njg6zjgrkKICAgICAqIEBwYXJhbSBzcGVuZGVyIHthZGRyZXNzfSAtIOmAgeS7mOaTjeS9nOOCkuioseWPr+OBl+OBpuOBhOOCi+ODpuODvOOCtuOBruOCouODieODrOOCuQogICAgICogQHJldHVybiB7dWludH0g6Kix5Y+v44GV44KM44Gm44GE44KL44OI44O844Kv44Oz44Gu5YiG6YeP44KS6L+U44GZCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGF1dGggcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gY29pblN0b3JhZ2UuY29pbkFsbG93YW5jZU9mKG93bmVyLCBzcGVuZGVyKTsKICAgIH0KCiAgICAvKioKICAgICAqIOODiOODvOOCr+ODs+OCueODiOODrOODvOOCuCAo44GT44Gu44OI44O844Kv44Oz44Gr6ZmQ44KK5pyJ5Yq544Gq44K544OI44Os44O844K4KSDjgpLoqK3lrprjgZnjgosgPE93bmVy44Gu44G/5a6f6KGM5Y+v6IO9PgogICAgICogQHBhcmFtIGFkZHIge2FkZHJlc3N9IC0gRHJpdmV6eVByaXZhdGVDb2luU3RvcmFnZSDjga7jgqLjg4njg6zjgrkKICAgICAqIEByZXR1cm4ge2Jvb2x9IFN0b3JhZ2Ug44Gu6Kit5a6a44Gr5oiQ5Yqf44GX44Gf44KJIHRydWUg44KS6L+U44GZCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldFN0b3JhZ2UoYWRkcmVzcyBhZGRyKSBhdXRoIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgY29pblN0b3JhZ2UgPSBEcml2ZXp5UHJpdmF0ZUNvaW5TdG9yYWdlKGFkZHIpOwogICAgICAgIFNldFN0b3JhZ2UobXNnLnNlbmRlciwgYWRkcik7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiDlhbHmnInjgrnjg4jjg6zjg7zjgrggKOS4gOmAo+OBrueZuuihjOOBq+OBiuOBhOOBpuWFsemAmuWIqeeUqOOBmeOCi+OCueODiOODrOODvOOCuCkg44KS6Kit5a6a44GZ44KLIDxPd25lcuOBruOBv+Wun+ihjOWPr+iDvT4KICAgICAqIEBwYXJhbSBhZGRyIHthZGRyZXNzfSAtIERyaXZlenlQcml2YXRlQ29pblNoYXJlZFN0b3JhZ2Ug44Gu44Ki44OJ44Os44K5CiAgICAgKiBAcmV0dXJuIHtib29sfSBTdG9yYWdlIOOBruioreWumuOBq+aIkOWKn+OBl+OBn+OCiSB0cnVlIOOCkui/lOOBmQogICAgICovCiAgICBmdW5jdGlvbiBzZXRTaGFyZWRTdG9yYWdlKGFkZHJlc3MgYWRkcikgYXV0aCBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHNoYXJlZFN0b3JhZ2UgPSBEcml2ZXp5UHJpdmF0ZUNvaW5TaGFyZWRTdG9yYWdlKGFkZHIpOwogICAgICAgIFNldFNoYXJlZFN0b3JhZ2UobXNnLnNlbmRlciwgYWRkcik7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb2luIChFUkMyMCDmupbmi6Djga7lhazplovjgZnjgovjgrPjg7Pjg4jjg6njgq/jg4gpIOOCkuioreWumuOBmeOCiyA8T3duZXLjga7jgb/lrp/ooYzlj6/og70+CiAgICAgKiBAcGFyYW0gYWRkciB7YWRkcmVzc30gLSBEcml2ZXp5UHJpdmF0ZUNvaW4g44Gu44Ki44OJ44Os44K5CiAgICAgKiBAcmV0dXJuIHtib29sfSBDb2luIOOBruioreWumuOBq+aIkOWKn+OBl+OBn+OCiSB0cnVlIOOCkui/lOOBmQogICAgICovCiAgICBmdW5jdGlvbiBzZXRDb2luKGFkZHJlc3MgYWRkcikgYXV0aCBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGNvaW4gPSBEcml2ZXp5UHJpdmF0ZUNvaW4oYWRkcik7CiAgICAgICAgU2V0Q29pbihtc2cuc2VuZGVyLCBhZGRyKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIOaMh+WumuOBl+OBn+OCouODieODrOOCueOBq+OCs+OCpOODs+OCkueZuuihjOOBmeOCiyA8T3duZXLjga7jgb/lrp/ooYzlj6/og70+CiAgICAgKiBAcGFyYW0gcmVjZWl2ZXIge2FkZHJlc3N9IC0g55m66KGM44GX44Gf44Kz44Kk44Oz44Gu5Y+X5Y+W44Ki44Kr44Km44Oz44OICiAgICAgKiBAcGFyYW0gYW1vdW50IHt1aW50fSAtIOeZuuihjOmHjwogICAgICogQHJldHVybiB7Ym9vbH0g55m66KGM44Gr5oiQ5Yqf44GX44Gf44KJIHRydWUg44KS6L+U44GZCiAgICAgKi8KICAgIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyByZWNlaXZlciwgdWludCBhbW91bnQpIGF1dGggcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICAvLyAx5YaG5Lul5LiK55m66KGM44GX44KI44GG44Go44GX44Gm44GE44KL44GL56K66KqNCiAgICAgICAgcmVxdWlyZShhbW91bnQgPiAwKTsKCiAgICAgICAgLy8g55m66KGM5q6L6auY44KS5aKX44KE44GZCiAgICAgICAgY29pblN0b3JhZ2Uuc2V0VG90YWxTdXBwbHkoc2FmZUFkZChjb2luU3RvcmFnZS50b3RhbFN1cHBseSgpLCBhbW91bnQpKTsKCiAgICAgICAgLy8g6Ieq5YiG6Ieq6Lqr44Gr55m66KGM44GZ44KLCiAgICAgICAgLy8g55m66KGM44Gr5YWI56uL44Gh44CB6Ieq5YiG44GM44OI44O844Kv44Oz44KS5oyB44Gm44KL44KI44GG44Gr44GZ44KLCiAgICAgICAgYWRkQXBwcm92ZWRBZGRyZXNzKGFkZHJlc3ModGhpcykpOwogICAgICAgIGNvaW5TdG9yYWdlLnNldENvaW5CYWxhbmNlKGFkZHJlc3ModGhpcyksIHNhZmVBZGQoY29pblN0b3JhZ2UuY29pbkJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKSwgYW1vdW50KSk7CgogICAgICAgIC8vIOiHquWIhuiHqui6q+OBi+OCieebuOaJi+OBq+mAgeS7mOOBmeOCiwogICAgICAgIHJlcXVpcmUoY29pbi50cmFuc2ZlcihyZWNlaXZlciwgYW1vdW50KSk7CgogICAgICAgIC8vIOODreOCsOOBq+S/neWtmAogICAgICAgIE1pbnQobXNnLnNlbmRlciwgcmVjZWl2ZXIsIGFtb3VudCk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICog5oyH5a6a44GX44Gf44Ki44OJ44Os44K544GL44KJ44Kz44Kk44Oz44KS5Zue5Y+O44GZ44KLIDxPd25lcuOBruOBv+Wun+ihjOWPr+iDvT4KICAgICAqIEBwYXJhbSByZWNlaXZlciB7YWRkcmVzc30gLSDlm57lj47lhYjjga7jgqLjgqvjgqbjg7Pjg4gKICAgICAqIEBwYXJhbSBhbW91bnQge3VpbnR9IC0g5Zue5Y+O6YePCiAgICAgKiBAcmV0dXJuIHtib29sfSDlm57lj47jgavmiJDlip/jgZfjgZ/jgokgdHJ1ZSDjgpLov5TjgZkKICAgICAqLwogICAgZnVuY3Rpb24gYnVybihhZGRyZXNzIHJlY2VpdmVyLCB1aW50IGFtb3VudCkgYXV0aCBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIC8vIDHlhobku6XkuIrlm57lj47jgZfjgojjgYbjgajjgZfjgabjgYTjgovjgYvnorroqo0KICAgICAgICByZXF1aXJlKGFtb3VudCA+IDApOwoKICAgICAgICAvLyDlm57lj47lhYjjga7jgqLjgqvjgqbjg7Pjg4jjga7miYDmjIHph5HpoY3ku6XkuIvjgpLlm57lj47jgZfjgojjgYbjgajjgZfjgabjgYTjgovjgYvnorroqo0KICAgICAgICByZXF1aXJlKGNvaW5TdG9yYWdlLmNvaW5CYWxhbmNlT2YocmVjZWl2ZXIpID49IGFtb3VudCk7CgogICAgICAgIC8vIOWbnuWPjuOBmeOCi+aui+mHj+OBriBhcHByb3ZlIOOCkuW8t+WItueahOOBq+ioreWumuOBmeOCiwogICAgICAgIC8vIOWbnuWPjuOBq+WFiOeri+OBoeOAgeiHquWIhuOBjOODiOODvOOCr+ODs+OCkuaMgeOBpuOCi+OCiOOBhuOBq+OBmeOCiwogICAgICAgIGFwcHJvdmUoYWRkcmVzcyh0aGlzKSwgcmVjZWl2ZXIsIGFtb3VudCk7CiAgICAgICAgYWRkQXBwcm92ZWRBZGRyZXNzKGFkZHJlc3ModGhpcykpOwoKICAgICAgICAvLyDoh6rliIboh6rouqvjga7jgrPjg7Pjg4jjg6njgq/jg4jjgavlm57lj47jgZnjgosKICAgICAgICByZXF1aXJlKGNvaW4udHJhbnNmZXJGcm9tKHJlY2VpdmVyLCBhZGRyZXNzKHRoaXMpLCBhbW91bnQpKTsKCiAgICAgICAgLy8g5Zue5Y+O5b6M44CB44Kz44Kk44Oz44KS5rq244GL44GZCiAgICAgICAgY29pblN0b3JhZ2Uuc2V0VG90YWxTdXBwbHkoc2FmZVN1Yihjb2luU3RvcmFnZS50b3RhbFN1cHBseSgpLCBhbW91bnQpKTsKICAgICAgICBjb2luU3RvcmFnZS5zZXRDb2luQmFsYW5jZShhZGRyZXNzKHRoaXMpLCBzYWZlU3ViKGNvaW5TdG9yYWdlLmNvaW5CYWxhbmNlT2YoYWRkcmVzcyh0aGlzKSksIGFtb3VudCkpOwoKICAgICAgICAvLyDjg63jgrDjgavkv53lrZgKICAgICAgICBCdXJuKG1zZy5zZW5kZXIsIHJlY2VpdmVyLCBhbW91bnQpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIOaMh+WumuOBl+OBn+OCouODieODrOOCueOCkuODm+ODr+OCpOODiOODquOCueODiOOBq+i/veWKoCA8T3duZXLjga7jgb/lrp/ooYzlj6/og70+CiAgICAgKiBAcGFyYW0gYWRkciB7YWRkcmVzc30gLSDov73liqDjgZnjgovjgqLjgqvjgqbjg7Pjg4gKICAgICAqIEByZXR1cm4ge2Jvb2x9IOi/veWKoOOBq+aIkOWKn+OBl+OBn+OCiSB0cnVlIOOCkui/lOOBmQogICAgICovCiAgICBmdW5jdGlvbiBhZGRBcHByb3ZlZEFkZHJlc3MoYWRkcmVzcyBhZGRyKSBhdXRoIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgc2hhcmVkU3RvcmFnZS5hZGRBcHByb3ZlZEFkZHJlc3MoYWRkcik7CiAgICAgICAgQWRkQXBwcm92ZWRBZGRyZXNzKG1zZy5zZW5kZXIsIGFkZHIpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICog5oyH5a6a44GX44Gf44Ki44OJ44Os44K544KS44Ob44Ov44Kk44OI44Oq44K544OI44GL44KJ5YmK6ZmkIDxPd25lcuOBruOBv+Wun+ihjOWPr+iDvT4KICAgICAqIEBwYXJhbSBhZGRyIHthZGRyZXNzfSAtIOWJiumZpOOBmeOCi+OCouOCq+OCpuODs+ODiAogICAgICogQHJldHVybiB7Ym9vbH0g5YmK6Zmk44Gr5oiQ5Yqf44GX44Gf44KJIHRydWUg44KS6L+U44GZCiAgICAgKi8KICAgIGZ1bmN0aW9uIHJlbW92ZUFwcHJvdmVkQWRkcmVzcyhhZGRyZXNzIGFkZHIpIGF1dGggcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBzaGFyZWRTdG9yYWdlLnJlbW92ZUFwcHJvdmVkQWRkcmVzcyhhZGRyKTsKICAgICAgICBSZW1vdmVBcHByb3ZlZEFkZHJlc3MobXNnLnNlbmRlciwgYWRkcik7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiDjg6bjg7zjgrbplpPjga7pgIHph5HjgpLoqLHlj6/jgZnjgosgPE93bmVy44Gu44G/5a6f6KGM5Y+v6IO9PgogICAgICogQHJldHVybiB7Ym9vbH0g6Kix5Y+v44Gr5oiQ5Yqf44GX44Gf44KJIHRydWUg44KS6L+U44GZCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFsbG93VHJhbnNmZXJCZXR3ZWVuVXNlcnMoKSBhdXRoIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgY29pblN0b3JhZ2UuYWxsb3dUcmFuc2ZlckJldHdlZW5Vc2VycygpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICog44Om44O844K26ZaT44Gu6YCB6YeR44KS56aB5q2i44GZ44KLIDxPd25lcuOBruOBv+Wun+ihjOWPr+iDvT4KICAgICAqIEByZXR1cm4ge2Jvb2x9IOemgeatouOBq+aIkOWKn+OBl+OBn+OCiSB0cnVlIOOCkui/lOOBmQogICAgICovCiAgICBmdW5jdGlvbiBkaXNhbGxvd1RyYW5zZmVyQmV0d2VlblVzZXJzKCkgYXV0aCBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGNvaW5TdG9yYWdlLmRpc2FsbG93VHJhbnNmZXJCZXR3ZWVuVXNlcnMoKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIERTQXV0aCDjga4gY2FuQ2FsbChzcmMsIGRzdCwgc2lnKSDjga4gb3ZlcnJpZGUKICAgICAqIOOCt+OCsOODjeODgeODo+OBqOWun+ihjOiAheODrOODmeODq+OBp+mWouaVsOOBruWun+ihjOWPr+WQpuOCkui/lOOBmQogICAgICMKICAgICAqIEBwYXJhbSBzcmMge2FkZHJlc3N9IC0g5ZG844Gz5Ye644GX5YWD44Om44O844K244Gu44Ki44OJ44Os44K5CiAgICAgKiBAcGFyYW0gZHN0IHthZGRyZXNzfSAtIOWun+ihjOWFiOOCs+ODs+ODiOODqeOCr+ODiOOBruOCouODieODrOOCuQogICAgICogQHBhcmFtIHNpZyB7Ynl0ZXM0fSAtIOmWouaVsOOBruOCt+OCsOODjeODgeODoyAoU0hBMykKICAgICAqIEByZXR1cm4ge2Jvb2x9IOmWouaVsOOBjOWun+ihjOWPr+iDveOBp+OBguOCjOOBsCB0cnVlIOOCkui/lOOBmQogICAgICovCiAgICBmdW5jdGlvbiBjYW5DYWxsKGFkZHJlc3Mgc3JjLCBhZGRyZXNzIGRzdCwgYnl0ZXM0IHNpZykgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICBkc3Q7IC8vIEhBQ0sgLSDlvJXmlbDjgpLkvb/jgo/jgarjgYTjgajjgrPjg7Pjg5HjgqTjg6njgYzorablkYrjgpLlh7rjgZkKICAgICAgICBzaWc7IC8vIEhBQ0sgLSDjgZPjgaHjgonjgoLlkIzmp5gKCiAgICAgICAgLy8g44Kq44O844OK44O844Gr44KI44KL5a6f6KGM44CB44CM5L+h55So44GZ44KL44Kz44Oz44OI44Op44Kv44OI44CN44GL44KJ44Gu5ZG844Gz5Ye644GX44CB44Kz44Kk44Oz44GL44KJ44Gu5ZG844Gz5Ye644GX44Gv6Kix5Y+vCiAgICAgICAgcmV0dXJuIHNyYyA9PSBvd25lciB8fCBzaGFyZWRTdG9yYWdlLmlzT3duZXJBZGRyZXNzKHNyYykgfHwgc2hhcmVkU3RvcmFnZS5pc1RydXN0ZWRDb250cmFjdEFkZHJlc3Moc3JjKSB8fCBzcmMgPT0gYWRkcmVzcyhjb2luKTsKICAgIH0KCiAgICAvKioKICAgICAqIOaMh+WumuOBl+OBn+ODpuODvOOCtumWk+OBp+OBrui7oumAgeOBjOaJv+iqjeOBleOCjOOCi+OBi+OBqeOBhuOBiwogICAgICogLSDlj5flj5bogIXjgYwgYXBwcm92ZWRBZGRyZXNzIOOBiyBvd25lckFkZHJlc3Mg44Gr5bGe44GZ44KLCiAgICAgKiAtIGNvaW5TdG9yYWdlLmNhblRyYW5zZmVyQmV0d2VlblVzZXJzID0gZmFsc2Ug44Gu5aC05ZCI44CB5Y+X5Y+W6ICF44GL6YCB5L+h6ICF44Gu44GE44Ga44KM44GL44GMIG93bmVyQWRkcmVzcyDjgb7jgZ/jga8gdHJ1c3RlZENvbnRyYWN0QWRkcmVzcyDjgavlsZ7jgZnjgosKICAgICAqIEBwYXJhbSBmcm9tIHthZGRyZXNzfSAtIOmAgeS7mOiAheOBruOCouODieODrOOCuQogICAgICogQHBhcmFtIHRvIHthZGRyZXNzfSAtIOWPl+WPluiAheOBruOCouODieODrOOCuQogICAgICogQHJldHVybiB7Ym9vbH0g6Lui6YCB44Gn44GN44KL5aC05ZCI44GvIHRydWUg44KS6L+U44GZCiAgICAgKi8KICAgIGZ1bmN0aW9uIGNhblRyYW5zZmVyKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bykgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIC8vIOWPl+WPluiAheOBjOOCquODvOODiuODvOOBvuOBn+OBr+ioseWPr+OBleOCjOOBnyAoS1lDIOmAmumBjua4iOOBvykg44Ki44OJ44Os44K544GL44KS56K66KqNCiAgICAgICAgcmVxdWlyZShzaGFyZWRTdG9yYWdlLmlzT3duZXJBZGRyZXNzKHRvKSB8fCBzaGFyZWRTdG9yYWdlLmlzQXBwcm92ZWRBZGRyZXNzKHRvKSk7CgogICAgICAgIC8vIOODpuODvOOCtumWk+OBrumAgemHkeOBjOioseWPr+OBleOCjOOBpuOBhOOCi+OBi+OAgeOBneOBhuOBp+OBquOBhOWgtOWQiOOBr+mAgeOCiuaJi+OBvuOBn+OBr+WPl+OBkeaJi+OBjOOAjOOCquODvOODiuODvOOAjeOBguOCi+OBhOOBr+OAjOS/oemgvOOBp+OBjeOCi+OCs+ODs+ODiOODqeOCr+ODiOOAjeOBq+WFpeOBo+OBpuOBhOOCi+OBi+OAggogICAgICAgIHJlcXVpcmUoY29pblN0b3JhZ2UuY2FuVHJhbnNmZXJCZXR3ZWVuVXNlcnMoKSB8fCBzaGFyZWRTdG9yYWdlLmlzT3duZXJBZGRyZXNzKGZyb20pIHx8IHNoYXJlZFN0b3JhZ2UuaXNUcnVzdGVkQ29udHJhY3RBZGRyZXNzKGZyb20pIHx8IHNoYXJlZFN0b3JhZ2UuaXNPd25lckFkZHJlc3ModG8pIHx8IHNoYXJlZFN0b3JhZ2UuaXNUcnVzdGVkQ29udHJhY3RBZGRyZXNzKHRvKSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogRFNBdXRoIOOBriBpc0F1dGhvcml6ZWQoc3JjLCBzaWcpIOOBriBvdmVycmlkZQogICAgICogQHBhcmFtIHNyYyB7YWRkcmVzc30gLSDjgrPjg7Pjg4jjg6njgq/jg4jjga7lrp/ooYzogIUKICAgICAqIEBwYXJhbSBzaWcge2J5dGVzNH0gLSDjgrPjg7Pjg4jjg6njgq/jg4jjga7jgrfjgrDjg43jg4Hjg6Pjga4gU0hBMyDlgKQKICAgICAqIEByZXR1cm4ge2Jvb2x9IOWRvOOBs+WHuuOBl+WPr+iDveOBqumWouaVsOOBruWgtOWQiOOBryB0cnVlIOOCkui/lOOBmQogICAgICovCiAgICBmdW5jdGlvbiBpc0F1dGhvcml6ZWQoYWRkcmVzcyBzcmMsIGJ5dGVzNCBzaWcpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gY2FuQ2FsbChzcmMsIGFkZHJlc3ModGhpcyksIHNpZyk7CiAgICB9CgogICAgLyoqCiAgICAgKiDmjIflrprjgZXjgozjgZ/jgqLjg4njg6zjgrnjgYzjgrPjg7Pjg4jjg6njgq/jg4jjgafjgYLjgovjgYvliKTlrprjgZnjgosKICAgICAqIEBwYXJhbSBhZGRyIHthZGRyZXNzfSAtIOWIpOWumuWvvuixoeOBruOCs+ODs+ODiOODqeOCr+ODiAogICAgICogQHJldHVybiB7Ym9vbH0g44Kz44Oz44OI44Op44Kv44OI44Gn44GC44KM44GwIHRydWUKICAgICAqLwogICAgZnVuY3Rpb24gaXNDb250cmFjdChhZGRyZXNzIGFkZHIpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wgcmVzdWx0KSB7CiAgICAgICAgdWludCBsZW5ndGg7CiAgICAgICAgYXNzZW1ibHkgewogICAgICAgICAgICAvLyDjgqLjg4njg6zjgrnjgYzmjIHjgaTjg57jgrfjg7Poqp7jga7jgrXjgqTjgrrjgpLlj5blvpfjgZnjgosKICAgICAgICAgICAgbGVuZ3RoIDo9IGV4dGNvZGVzaXplKGFkZHIpCiAgICAgICAgfQoKICAgICAgICAvLyDlvZPoqbLjgqLjg4njg6zjgrnjgYzjg57jgrfjg7Poqp7jgpLmjIHjgabjgbDjgrPjg7Pjg4jjg6njgq/jg4jjgajopovlgZrjgZvjgosKICAgICAgICByZXR1cm4gKGxlbmd0aCA+IDApOwogICAgfQoKICAgIC8qKgogICAgICogRHJpdmV6eVByaXZhdGVDb2luQWNjZXB0YWJsZUNvbnRyYWN0I2lzRHJpdmV6eVByaXZhdGVUb2tlbkFjY2VwdGFibGUg44GuIG92ZXJyaWRlCiAgICAgKiDjgZPjga7jgrPjg7Pjg4jjg6njgq/jg4jjga8gUHJpdmF0ZSBUb2tlbiDjgpLlj5fjgZHlj5bjgonjgarjgYQKICAgICAqIEByZXR1cm4ge2Jvb2x9IOW4uOOBqyBmYWxzZSDjgpLov5TjgZkKICAgICAqLwogICAgZnVuY3Rpb24gaXNEcml2ZXp5UHJpdmF0ZVRva2VuQWNjZXB0YWJsZSgpIHB1YmxpYyBwdXJlIHJldHVybnMgKGJvb2wgcmVzdWx0KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQp9CgoKLyoqCiAqIEVSQzIwIOOBq+a6luaLoOOBl+OBn+OCs+OCpOODs+OBruWFrOmWi+OCpOODs+OCv+ODleOCp+ODvOOCuQogKi8KY29udHJhY3QgRHJpdmV6eVByaXZhdGVDb2luIGlzIEVSQzIwLCBEU0F1dGggewogICAgLyoqCiAgICAgKiBwdWJsaWMgdmFyaWFibGVzIC0gRXRoZXJzY2FuIOOBquOBqeOBq+ihqOekuuOBleOCjOOCiwogICAgICovCiAgICAKICAgIC8qIOOCs+OCpOODs+OBruWQjeWJjSAqLwogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIlVuaSAwLjEuMCI7CgogICAgLyog44Kz44Kk44Oz44Gu44K344Oz44Oc44OrICovCiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJPUkkiOwoKICAgIC8qIOmAmuiyqOOBruacgOWwj+WNmOS9jeOBruahgeaVsOOAgiA2IOOBruWgtOWQiOOBr+Wwj+aVsOesrDbkvY3jgYzmnIDlsI/ljZjkvY3jgajjgarjgosgKDAuMDAwMDAxIE9SSSkgKi8KICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDY7CgogICAgLyoqCiAgICAgKiBjdXN0b20gZXZlbnRzCiAgICAgKi8KCiAgICAvKiBJbXBsZW1lbnRhdGlvbiDjgpLoqK3lrprjgZfjgZ/jgajjgY3jgavnmbrnlJ/jgZnjgovjgqTjg5njg7Pjg4gKICAgICAqIHthZGRyZXNzfSBzZW5kZXJBZGRyZXNzIC0g5a6f6KGM6ICF44Gu44Ki44OJ44Os44K5CiAgICAgKiB7YWRkcmVzc30gY29udHJhY3RBZGRyZXNzIC0g6Kit5a6a44GX44GfIGltcGxlbWVudGF0aW9uIOOBruOCs+ODs+ODiOODqeOCr+ODiOOCouODieODrOOCuQogICAgICovCiAgICBldmVudCBTZXRJbXBsZW1lbnRhdGlvbihhZGRyZXNzIGluZGV4ZWQgc2VuZGVyQWRkcmVzcywgYWRkcmVzcyBpbmRleGVkIGNvbnRyYWN0QWRkcmVzcyk7CgogICAgLyoqCiAgICAgKiBwcml2YXRlIHZhcmlhYmxlcwogICAgICovCgogICAgLy8g44OI44O844Kv44Oz44Gu44Ot44K444OD44Kv5a6f6KOF44Kk44Oz44K544K/44Oz44K5CiAgICBEcml2ZXp5UHJpdmF0ZUNvaW5JbXBsZW1lbnRhdGlvbiBwdWJsaWMgaW1wbGVtZW50YXRpb247CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gRVJDMjAgVG9rZW4gU3RhbmRhcmQgZnVuY3Rpb25zCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgLyoqCiAgICAgKiDnt4/nmbrooYzpq5jjgpLov5TjgZkKICAgICAqIEByZXR1cm4ge3VpbnR9IOOCs+OCpOODs+OBrue3j+eZuuihjOmrmAogICAgICovCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIGltcGxlbWVudGF0aW9uLnRvdGFsU3VwcGx5KCk7CiAgICB9CgogICAgLyoqCiAgICAgKiDmjIflrprjgZfjgZ/jgqLjg4njg6zjgrnjgYzkv53mnInjgZnjgovjgrPjgqTjg7Pjga7mrovpq5jjgpLov5TjgZkKICAgICAqIEBwYXJhbSBhZGRyIHthZGRyZXNzfSAtIOOCs+OCpOODs+OBruaui+mrmOOCkuiqv+OBueOBn+OBhOOCouODieODrOOCuQogICAgICogQHJldHVybiB7dWludH0g44Kz44Kk44Oz44Gu5q6L6auYCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIGFkZHIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIGltcGxlbWVudGF0aW9uLmJhbGFuY2VPZihhZGRyKTsKICAgIH0KCiAgICAvKioKICAgICAqIOiHquWIhuOBjOS/neacieOBmeOCi+OCs+OCpOODs+OCkuaMh+WumuOBl+OBn+OCouODieODrOOCueOBq+mAgemHkeOBmeOCiwogICAgICogQHBhcmFtIHRvIHthZGRyZXNzfSAtIOWum+WFiOOBruOCouODieODrOOCuQogICAgICogQHBhcmFtIGFtb3VudCB7dWludH0gLSDpgIHku5jjgZnjgovjgrPjgqTjg7Pjga7liIbph48KICAgICAqIEByZXR1cm4ge2Jvb2x9IOmAgeS7mOOBq+aIkOWKn+OBl+OBn+WgtOWQiOOBryB0cnVlIOOCkui/lOOBmQogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IGFtb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBpZiAoaW1wbGVtZW50YXRpb24udHJhbnNmZXIobXNnLnNlbmRlciwgdG8sIGFtb3VudCkpIHsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgdG8sIGFtb3VudCk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiDmjIflrprjgZfjgZ/jg6bjg7zjgrbjgYzkv53mnInjgZnjgovjgrPjgqTjg7PjgpLmjIflrprjgZfjgZ/jgqLjg4njg6zjgrnjgavpgIHph5HjgZnjgosKICAgICAqIEBwYXJhbSBmcm9tIHthZGRyZXNzfSAtIOizh+mHkea6kOOBqOOBquOCi+ODpuODvOOCtuOBruOCouODieODrOOCuQogICAgICogQHBhcmFtIHRvIHthZGRyZXNzfSAtIOWum+WFiOOBruOCouODieODrOOCuQogICAgICogQHBhcmFtIGFtb3VudCB7dWludH0gLSDpgIHku5jjgZnjgovjgrPjgqTjg7Pjga7liIbph48KICAgICAqIEByZXR1cm4ge2Jvb2x9IOmAgeS7mOOBq+aIkOWKn+OBl+OBn+WgtOWQiOOBryB0cnVlIOOCkui/lOOBmQogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IGFtb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBpZiAoaW1wbGVtZW50YXRpb24udHJhbnNmZXJGcm9tKG1zZy5zZW5kZXIsIGZyb20sIHRvLCBhbW91bnQpKSB7CiAgICAgICAgICAgIFRyYW5zZmVyKGZyb20sIHRvLCBhbW91bnQpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICog5oyH5a6a44GX44Gf44Om44O844K244Gr5a++44GX44CBKOODiOODvOOCr+ODs+aJgOacieiAheOBq+S7o+OCj+OBo+OBpinmjIflrprjgZfjgZ/liIbph4/jga7jg4jjg7zjgq/jg7Pjga7pgIHku5jjgpLoqLHlj6/jgZnjgosKICAgICAqIEBwYXJhbSBzcGVuZGVyIHthZGRyZXNzfSAtIOmAgeS7mOaTjeS9nOOCkuioseWPr+OBmeOCi+WvvuixoeODpuODvOOCtuOBruOCouODieODrOOCuQogICAgICogQHBhcmFtIGFtb3VudCB7dWludH0gLSDpgIHku5jjgpLoqLHlj6/jgZnjgovjgrPjgqTjg7Pjga7liIbph48KICAgICAqIEByZXR1cm4ge2Jvb2x9IOioseWPr+OBq+aIkOWKn+OBl+OBn+WgtOWQiOOBryB0cnVlIOOCkui/lOOBmQogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCBhbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgaWYgKGltcGxlbWVudGF0aW9uLmFwcHJvdmUobXNnLnNlbmRlciwgc3BlbmRlciwgYW1vdW50KSkgewogICAgICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBzcGVuZGVyLCBhbW91bnQpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICog5oyH5a6a44GX44Gf44Om44O844K244Gr5a++44GX44CB6YCB5LuY5pON5L2c44GM6Kix5Y+v44GV44KM44Gm44GE44KL44OI44O844Kv44Oz44Gu5YiG6YeP44KS6L+U44GZCiAgICAgKiBAcGFyYW0gYWRkciB7YWRkcmVzc30gLSDos4fph5HmupDjgajjgarjgovjg6bjg7zjgrbjga7jgqLjg4njg6zjgrkKICAgICAqIEBwYXJhbSBzcGVuZGVyIHt1aW50fSAtIOmAgeS7mOaTjeS9nOOCkuioseWPr+OBl+OBpuOBhOOCi+ODpuODvOOCtuOBruOCouODieODrOOCuQogICAgICogQHJldHVybiB7dWludH0g6Kix5Y+v44GV44KM44Gm44GE44KL44OI44O844Kv44Oz44Gu5YiG6YeP44KS6L+U44GZCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIGFkZHIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gaW1wbGVtZW50YXRpb24uYWxsb3dhbmNlKGFkZHIsIHNwZW5kZXIpOwogICAgfQoKICAgIC8qKgogICAgICogaW1wbGVtZW50YXRpb24gKOWun+ijhSkg44GM5a6a576p44GV44KM44Gf44Kz44Oz44OI44Op44Kv44OI44KS6Kit5a6a44GZ44KLIDxPd25lcuOBruOBv+Wun+ihjOWPr+iDvT4KICAgICAqIEBwYXJhbSBhZGRyIHthZGRyZXNzfSAtIOOCs+ODs+ODiOODqeOCr+ODiOOBruOCouODieODrOOCuQogICAgICogQHJldHVybiB7Ym9vbH0g6Kit5a6a5aSJ5pu044Gr5oiQ5Yqf44GX44Gf5aC05ZCI44GvIHRydWUg44KS6L+U44GZCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldEltcGxlbWVudGF0aW9uKGFkZHJlc3MgYWRkcikgYXV0aCBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGltcGxlbWVudGF0aW9uID0gRHJpdmV6eVByaXZhdGVDb2luSW1wbGVtZW50YXRpb24oYWRkcik7CiAgICAgICAgU2V0SW1wbGVtZW50YXRpb24obXNnLnNlbmRlciwgYWRkcik7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBEU0F1dGgg44GuIGlzQXV0aG9yaXplZChzcmMsIHNpZykg44GuIG92ZXJyaWRlCiAgICAgKiBAcGFyYW0gc3JjIHthZGRyZXNzfSAtIOOCs+ODs+ODiOODqeOCr+ODiOOBruWun+ihjOiAhQogICAgICogQHBhcmFtIHNpZyB7Ynl0ZXM0fSAtIOOCs+ODs+ODiOODqeOCr+ODiOOBruOCt+OCsOODjeODgeODo+OBriBTSEEzIOWApAogICAgICogQHJldHVybiB7Ym9vbH0g5ZG844Gz5Ye644GX5Y+v6IO944Gq6Zai5pWw44Gu5aC05ZCI44GvIHRydWUg44KS6L+U44GZCiAgICAgKi8KICAgIGZ1bmN0aW9uIGlzQXV0aG9yaXplZChhZGRyZXNzIHNyYywgYnl0ZXM0IHNpZykgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzcmMgPT0gYWRkcmVzcyh0aGlzKSB8fCAgLy8g44Kz44Oz44OI44Op44Kv44OI6Ieq6Lqr44Gr44KI44KL5ZG844Gz5Ye644GZCiAgICAgICAgICAgIHNyYyA9PSBvd25lciB8fCAgICAgICAgICAgICAvLyDjgrPjg7Pjg4jjg6njgq/jg4jjga7jg4fjg5fjg63jgqTogIUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGltcGxlbWVudGF0aW9uIOOBjOWumue+qea4iOOBv+OBp+OBguOCi+WgtOWQiOOBr+OAgUltcGxlbWVudGF0aW9uI2NhbkNhbGwg44Gr5ZG844Gz5Ye644GX5Y+v5ZCm44OB44Kn44OD44Kv44KS5aeU6K2yCiAgICAgICAgICAgIChpbXBsZW1lbnRhdGlvbiAhPSBEcml2ZXp5UHJpdmF0ZUNvaW5JbXBsZW1lbnRhdGlvbigwKSAmJiBpbXBsZW1lbnRhdGlvbi5jYW5DYWxsKHNyYywgYWRkcmVzcyh0aGlzKSwgc2lnKSk7CiAgICB9Cn0KCgovKioKICogRVJDMjAg44Gr5rqW5oug44GX44Gf44Kz44Kk44Oz44Gu5YWs6ZaL44Kk44Oz44K/44OV44Kn44O844K5CiAqLwpjb250cmFjdCBEcml2ZXp5UHJpdmF0ZURlY2VtYmVyQ29pbiBpcyBEcml2ZXp5UHJpdmF0ZUNvaW4gewogICAgLyoqCiAgICAgKiBwdWJsaWMgdmFyaWFibGVzIC0gRXRoZXJzY2FuIOOBquOBqeOBq+ihqOekuuOBleOCjOOCiwogICAgICovCiAgICAKICAgIC8qIOOCs+OCpOODs+OBruWQjeWJjSAqLwogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIlJlbnRhbCBDb2lucyAxLjAgMXN0IHByaXZhdGUgb2ZmZXJpbmciOwoKICAgIC8qIOOCs+OCpOODs+OBruOCt+ODs+ODnOODqyAqLwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiUkMxIjsKCiAgICAvKiDpgJrosqjjga7mnIDlsI/ljZjkvY3jga7moYHmlbDjgIIgNiDjga7loLTlkIjjga/lsI/mlbDnrKw25L2N44GM5pyA5bCP5Y2Y5L2N44Go44Gq44KLICgwLjAwMDAwMSBSQzEpICovCiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSA2OwoKfQ=='.
	

]
