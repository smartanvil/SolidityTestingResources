Class {
	#name : #SRT9ad748Cc73FA6Bf6F48ec4AF64cfe1181f6127A6,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9ad748Cc73FA6Bf6F48ec4AF64cfe1181f6127A6 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyBPd25lZCBjb250cmFjdAovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvbnRyYWN0IE93bmVkIHsKICAgIGFkZHJlc3Mgb3duZXI7CiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQogICAgZnVuY3Rpb24gb3duZWQoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIF9uZXdPd25lcikgcHVibGljIG9ubHlPd25lcnsKICAgICAgICBvd25lciA9IF9uZXdPd25lcjsKICAgIH0KfQoKCi8vIFNhZmUgbWF0aHMsIGJvcnJvd2VkIGZyb20gT3BlblplcHBlbGluCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KbGlicmFyeSBTYWZlTWF0aCB7CgogIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cgp9Cgpjb250cmFjdCB0b2tlblJlY2lwaWVudCB7CiAgZnVuY3Rpb24gcmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlLCBhZGRyZXNzIF90b2tlbiwgYnl0ZXMgX2V4dHJhRGF0YSkgcHVibGljOwp9Cgpjb250cmFjdCBFUkMyMFRva2VuIHsKICAgIC8qIFRoaXMgaXMgYSBzbGlnaHQgY2hhbmdlIHRvIHRoZSBFUkMyMCBiYXNlIHN0YW5kYXJkLgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSk7CiAgICBpcyByZXBsYWNlZCB3aXRoOgogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICBUaGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBhIGdldHRlciBmdW5jdGlvbiBmb3IgdGhlIHRvdGFsU3VwcGx5LgogICAgVGhpcyBpcyBtb3ZlZCB0byB0aGUgYmFzZSBjb250cmFjdCBzaW5jZSBwdWJsaWMgZ2V0dGVyIGZ1bmN0aW9ucyBhcmUgbm90CiAgICBjdXJyZW50bHkgcmVjb2duaXNlZCBhcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgbWF0Y2hpbmcgYWJzdHJhY3QKICAgIGZ1bmN0aW9uIGJ5IHRoZSBjb21waWxlci4KICAgICovCiAgICAvLy8gdG90YWwgYW1vdW50IG9mIHRva2VucwogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgZnJvbSB3aGljaCB0aGUgYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZAogICAgLy8vIEByZXR1cm4gVGhlIGJhbGFuY2UKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CgogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYAogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX3NwZW5kZXJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2ZlcgogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgLy8vIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudAogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cn0KCmNvbnRyYWN0IGxpbWl0ZWRGYWN0b3IgewogICAgdWludDI1NiBwdWJsaWMgc3RhcnRUaW1lOwogICAgdWludDI1NiBwdWJsaWMgc3RvcFRpbWU7CiAgICBhZGRyZXNzIHB1YmxpYyB3YWxsZXRBZGRyZXNzOwogICAgYWRkcmVzcyBwdWJsaWMgdGVhbUFkZHJlc3M7CiAgICBhZGRyZXNzIHB1YmxpYyBjb250cmlidXRvcnNBZGRyZXNzOwogICAgYm9vbCBwdWJsaWMgdG9rZW5Gcm96ZW4gPSB0cnVlOwogICAgbW9kaWZpZXIgdGVhbUFjY291bnROZWVkRnJlZXplT25lWWVhcihhZGRyZXNzIF9hZGRyZXNzKSB7CiAgICAgICAgaWYoX2FkZHJlc3MgPT0gdGVhbUFkZHJlc3MpIHsKICAgICAgICAgICAgcmVxdWlyZShub3cgPiBzdGFydFRpbWUgKyAxIHllYXJzKTsKICAgICAgICB9CiAgICAgICAgXzsKICAgIH0KICAgIAogICAgbW9kaWZpZXIgVG9rZW5VbkZyZWV6ZSgpIHsKICAgICAgICByZXF1aXJlKCF0b2tlbkZyb3plbik7CiAgICAgICAgXzsKICAgIH0gCn0KY29udHJhY3Qgc3RhbmRhcmRUb2tlbiBpcyBFUkMyMFRva2VuLCBsaW1pdGVkRmFjdG9yIHsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93YW5jZXM7CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIC8qIFRyYW5zZmVycyB0b2tlbnMgZnJvbSB5b3VyIGFkZHJlc3MgdG8gb3RoZXIgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIFRva2VuVW5GcmVlemUgdGVhbUFjY291bnROZWVkRnJlZXplT25lWWVhcihtc2cuc2VuZGVyKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+IF92YWx1ZSk7ICAgICAgICAgICAvLyBUaHJvdyBpZiBzZW5kZXIgaGFzIGluc3VmZmljaWVudCBiYWxhbmNlCiAgICAgICAgcmVxdWlyZSAoYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pOyAgLy8gVGhyb3cgaWYgb3dlcmZsb3cgZGV0ZWN0ZWQKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgLy8gRGVkdWN0IHNlbmRlcnMgYmFsYW5jZQogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgcmVjaXZlcnMgYmxhYW5jZQogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsgICAgICAgICAgICAgICAgICAvLyBSYWlzZSBUcmFuc2ZlciBldmVudAogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qIEFwcHJvdmUgb3RoZXIgYWRkcmVzcyB0byBzcGVuZCB0b2tlbnMgb24geW91ciBhY2NvdW50ICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgVG9rZW5VbkZyZWV6ZSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2FuY2VzW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsgICAgICAgICAgLy8gU2V0IGFsbG93YW5jZQogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOyAgICAgICAgICAgICAvLyBSYWlzZSBBcHByb3ZhbCBldmVudAogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qIEFwcHJvdmUgYW5kIHRoZW4gY29tbXVuaWNhdGUgdGhlIGFwcHJvdmVkIGNvbnRyYWN0IGluIGEgc2luZ2xlIHR4ICovCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSkgcHVibGljIFRva2VuVW5GcmVlemUgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgdG9rZW5SZWNpcGllbnQgc3BlbmRlciA9IHRva2VuUmVjaXBpZW50KF9zcGVuZGVyKTsgICAgICAgICAgICAgIC8vIENhc3Qgc3BlbmRlciB0byB0b2tlblJlY2lwaWVudCBjb250cmFjdAogICAgICAgIGFwcHJvdmUoX3NwZW5kZXIsIF92YWx1ZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgYXBwcm92YWwgdG8gY29udHJhY3QgZm9yIF92YWx1ZQogICAgICAgIHNwZW5kZXIucmVjZWl2ZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSk7ICAvLyBSYWlzZSBtZXRob2Qgb24gX3NwZW5kZXIgY29udHJhY3QKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKiBBIGNvbnRyYWN0IGF0dGVtcHRzIHRvIGdldCB0aGUgY29pbnMgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyBUb2tlblVuRnJlZXplIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUgKGJhbGFuY2VzW19mcm9tXSA+IF92YWx1ZSk7ICAgICAgICAgICAgICAgIC8vIFRocm93IGlmIHNlbmRlciBkb2VzIG5vdCBoYXZlIGVub3VnaCBiYWxhbmNlCiAgICAgICAgcmVxdWlyZSAoYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pOyAgLy8gVGhyb3cgaWYgb3ZlcmZsb3cgZGV0ZWN0ZWQKICAgICAgICByZXF1aXJlIChfdmFsdWUgPiBhbGxvd2FuY2VzW19mcm9tXVttc2cuc2VuZGVyXSk7ICAvLyBUaHJvdyBpZiB5b3UgZG8gbm90IGhhdmUgYWxsb3dhbmNlCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlZHVjdCBzZW5kZXJzIGJhbGFuY2UKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHJlY2lwaWVudCBibGFhbmNlCiAgICAgICAgYWxsb3dhbmNlc1tfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOyAgICAgICAgICAgIC8vIERlZHVjdCBhbGxvd2FuY2UgZm9yIHRoaXMgYWRkcmVzcwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7ICAgICAgICAgICAgICAgICAgICAgICAvLyBSYWlzZSBUcmFuc2ZlciBldmVudAogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qIEdldCB0aGUgYW1vdW50IG9mIGFsbG93ZWQgdG9rZW5zIHRvIHNwZW5kICovCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHB1YmxpYyBUb2tlblVuRnJlZXplIHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93YW5jZXNbX293bmVyXVtfc3BlbmRlcl07CiAgICB9Cgp9Cgpjb250cmFjdCBGYW5zQ2hhaW5Ub2tlbiBpcyBzdGFuZGFyZFRva2VuLE93bmVkIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICAgIHN0cmluZyBjb25zdGFudCBwdWJsaWMgbmFtZT0iRmFuc0NoYWluIjsKICAgIHN0cmluZyBjb25zdGFudCBwdWJsaWMgc3ltYm9sPSJGU0MiOwogICAgdWludDI1NiBjb25zdGFudCBwdWJsaWMgZGVjaW1hbHM9MTg7CiAgICAKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5ID0gMDsKICAgIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIHRvcFRvdGFsU3VwcGx5ID0gMjQqMTAqKjcqMTAqKmRlY2ltYWxzOwogICAgdWludDI1NiBwdWJsaWMgdGVhbVN1cHBseSA9IHBlcmNlbnQoMjUpOwogICAgdWludDI1NiBwdWJsaWMgcHJpdmF0ZUZ1bmRTdXBwbHkgPSBwZXJjZW50KDI1KTsKICAgIHVpbnQyNTYgcHVibGljIHByaXZhdGVGdW5kaW5nU3VwcGx5ID0gMDsKICAgIHVpbnQyNTYgcHVibGljIElDT3RvdGFsU3VwcGx5ID0gcGVyY2VudCgyMCk7CiAgICB1aW50MjU2IHB1YmxpYyBJQ09TdXBwbHkgPSAwOwogICAgdWludDI1NiBwdWJsaWMgQ29udHJpYnV0b3JzU3VwcGx5ID0gcGVyY2VudCgzMCk7CiAgICB1aW50MjU2IHB1YmxpYyBleGNoYW5nZVJhdGU7CiAgICAKICAgIAogICAgCiAgICAvLy8gQGRldiBGYWxsYmFjayB0byBjYWxsaW5nIGRlcG9zaXQgd2hlbiBldGhlciBpcyBzZW50IGRpcmVjdGx5IHRvIGNvbnRyYWN0LgogICAgZnVuY3Rpb24oKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgZGVwb3NpdFRva2VuKG1zZy52YWx1ZSk7CiAgICB9CiAgICAKICAgIAogICAgZnVuY3Rpb24gRmFuc0NoYWluVG9rZW4oKSBwdWJsaWMgewogICAgICAgIG93bmVyPW1zZy5zZW5kZXI7CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IEJ1eXMgdG9rZW5zIHdpdGggRXRoZXIuCiAgICBmdW5jdGlvbiBkZXBvc2l0VG9rZW4odWludDI1NiBfdmFsdWUpIGludGVybmFsIHsKICAgICAgICB1aW50MjU2IHRva2VuQWxsb2MgPSBidXlQcmljZUF0KGdldFRpbWUoKSkgKiBfdmFsdWU7CiAgICAgICAgSUNPU3VwcGx5ID0gSUNPU3VwcGx5LmFkZCh0b2tlbkFsbG9jKTsKICAgICAgICByZXF1aXJlIChJQ09TdXBwbHkgPCBJQ090b3RhbFN1cHBseSk7CiAgICAgICAgbWludFRva2VucyAobXNnLnNlbmRlciwgdG9rZW5BbGxvYyk7CiAgICAgICAgZm9yd2FyZEZ1bmRzKCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGZvcndhcmRGdW5kcygpIGludGVybmFsIHsKICAgICAgICByZXF1aXJlKHdhbGxldEFkZHJlc3MgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgd2FsbGV0QWRkcmVzcy50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgfQogICAgCiAgICAvLy8gQGRldiBJc3N1ZSBuZXcgdG9rZW5zCiAgICBmdW5jdGlvbiBtaW50VG9rZW5zKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIGludGVybmFsIHsKICAgICAgICByZXF1aXJlIChiYWxhbmNlc1tfdG9dICsgX2Ftb3VudCA+IGJhbGFuY2VzW190b10pOyAgICAgIC8vIENoZWNrIGZvciBvdmVyZmxvd3MKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7ICAgICAgICAgICAgIC8vIFNldCBtaW50ZWQgY29pbnMgdG8gdGFyZ2V0CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX2Ftb3VudCk7CiAgICAgICAgVHJhbnNmZXIoMHgwLCBfdG8sIF9hbW91bnQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgVHJhbnNmZXIgZXZlbnQgZnJvbSAweAogICAgfQogICAgCiAgICAvLy8gQGRldiBDYWxjdWxhdGUgZXhjaGFuZ2UKICAgIGZ1bmN0aW9uIGJ1eVByaWNlQXQodWludDI1NiBfdGltZSkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgaWYgKF90aW1lID49IHN0YXJ0VGltZSAmJiBfdGltZSA8PSBzdG9wVGltZSkgewogICAgICAgICAgICByZXR1cm4gZXhjaGFuZ2VSYXRlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgIH0KICAgIAogICAgLy8vIEBkZXYgR2V0IHRpbWUKICAgIGZ1bmN0aW9uIGdldFRpbWUoKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gbm93OwogICAgfQogICAgCiAgICAvLy8gQGRldiBzZXQgaW5pdGlhbCBtZXNzYWdlCiAgICBmdW5jdGlvbiBzZXRJbml0aWFsVmFyaWJsZXMoCiAgICAgICAgdWludDI1NiBfaWNvU3RhcnRUaW1lLCAKICAgICAgICB1aW50MjU2IF9pY29TdG9wVGltZSwKICAgICAgICB1aW50MjU2IF9leGNoYW5nZVJhdGUsCiAgICAgICAgYWRkcmVzcyBfd2FsbGV0QWRkcmVzcywKICAgICAgICBhZGRyZXNzIF90ZWFtQWRkcmVzcywKICAgICAgICBhZGRyZXNzIF9jb250cmlidXRvcnNBZGRyZXNzCiAgICAgICAgKQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlPd25lciB7CiAgICAgICAgICAgIHN0YXJ0VGltZSA9IF9pY29TdGFydFRpbWU7CiAgICAgICAgICAgIHN0b3BUaW1lID0gX2ljb1N0b3BUaW1lOwogICAgICAgICAgICBleGNoYW5nZVJhdGU9X2V4Y2hhbmdlUmF0ZTsKICAgICAgICAgICAgd2FsbGV0QWRkcmVzcyA9IF93YWxsZXRBZGRyZXNzOwogICAgICAgICAgICB0ZWFtQWRkcmVzcyA9IF90ZWFtQWRkcmVzczsKICAgICAgICAgICAgY29udHJpYnV0b3JzQWRkcmVzcyA9IF9jb250cmlidXRvcnNBZGRyZXNzOwogICAgICAgIH0KICAgIAogICAgLy8vIEBkZXYgd2l0aERyYXcgRXRoZXIgdG8gYSBTYWZlIFdhbGxldAogICAgZnVuY3Rpb24gd2l0aERyYXcoKSBwdWJsaWMgcGF5YWJsZSBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUgKG1zZy5zZW5kZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZSAoZ2V0VGltZSgpID4gc3RvcFRpbWUpOwogICAgICAgIHdhbGxldEFkZHJlc3MudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICAgIH0KICAgIAogICAgLy8vIEBkZXYgdW5mcmVlemUgaWYgSUNPIHN1Y2NlZWQKICAgIGZ1bmN0aW9uIHVuZnJlZXplVG9rZW5UcmFuc2Zlcihib29sIF9mcmVlemUpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHRva2VuRnJvemVuID0gIV9mcmVlemU7CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IGFsbG9jYXRlIFRva2VuCiAgICBmdW5jdGlvbiBhbGxvY2F0ZVRva2VucyhhZGRyZXNzW10gX293bmVycywgdWludDI1NltdIF92YWx1ZXMpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUgKF9vd25lcnMubGVuZ3RoID09IF92YWx1ZXMubGVuZ3RoKTsKICAgICAgICBmb3IodWludDI1NiBpID0gMDsgaSA8IF9vd25lcnMubGVuZ3RoIDsgaSsrKXsKICAgICAgICAgICAgYWRkcmVzcyBvd25lciA9IF9vd25lcnNbaV07CiAgICAgICAgICAgIHVpbnQyNTYgdmFsdWUgPSBfdmFsdWVzW2ldOwogICAgICAgICAgICBJQ09TdXBwbHkgPSBJQ09TdXBwbHkuYWRkKHZhbHVlKTsKICAgICAgICAgICAgcmVxdWlyZSh0b3RhbFN1cHBseSA8IElDT3RvdGFsU3VwcGx5KTsKICAgICAgICAgICAgbWludFRva2Vucyhvd25lciwgdmFsdWUpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgLy8vIEBkZXYgY2FsY3V0ZSB0aGUgdG9rZW5zCiAgICBmdW5jdGlvbiBwZXJjZW50KHVpbnQyNTYgcGVyY2VudGFnZSkgaW50ZXJuYWwgIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBwZXJjZW50YWdlLm11bCh0b3BUb3RhbFN1cHBseSkuZGl2KDEwMCk7CiAgICB9CiAgICAgCiAgICAgLy8vIEBkZXYgYWxsb2NhdGUgdG9rZW4gZm9yIFRlYW0gQWRkcmVzcwogICAgZnVuY3Rpb24gYWxsb2NhdGVUZWFtVG9rZW4oKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBtaW50VG9rZW5zKHRlYW1BZGRyZXNzLCB0ZWFtU3VwcGx5KTsKICAgIH0KICAgIAogICAgLy8vIEBkZXYgYWxsb2NhdGUgdG9rZW4gZm9yIFByaXZhdGUgQWRkcmVzcwogICAgZnVuY3Rpb24gYWxsb2NhdGVQcml2YXRlVG9rZW4oYWRkcmVzc1tdIF9wcml2YXRlRnVuZGluZ0FkZHJlc3MsIHVpbnQyNTZbXSBfYW1vdW50KSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlIChfcHJpdmF0ZUZ1bmRpbmdBZGRyZXNzLmxlbmd0aCA9PSBfYW1vdW50Lmxlbmd0aCk7CiAgICAgICAgZm9yKHVpbnQyNTYgaSA9IDA7IGkgPCBfcHJpdmF0ZUZ1bmRpbmdBZGRyZXNzLmxlbmd0aCA7IGkrKyl7CiAgICAgICAgICAgIGFkZHJlc3Mgb3duZXIgPSBfcHJpdmF0ZUZ1bmRpbmdBZGRyZXNzW2ldOwogICAgICAgICAgICB1aW50MjU2IHZhbHVlID0gX2Ftb3VudFtpXTsKICAgICAgICAgICAgcHJpdmF0ZUZ1bmRpbmdTdXBwbHkgPSBwcml2YXRlRnVuZGluZ1N1cHBseS5hZGQodmFsdWUpOwogICAgICAgICAgICByZXF1aXJlKHByaXZhdGVGdW5kaW5nU3VwcGx5IDw9IHByaXZhdGVGdW5kU3VwcGx5KTsKICAgICAgICAgICAgbWludFRva2Vucyhvd25lciwgdmFsdWUpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgLy8vIEBkZXYgYWxsb2NhdGUgdG9rZW4gZm9yIGNvbnRyaWJ1dG9ycyBBZGRyZXNzCiAgICBmdW5jdGlvbiBhbGxvY2F0ZUNvbnRyaWJ1dG9yc1Rva2VuKCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgbWludFRva2Vucyhjb250cmlidXRvcnNBZGRyZXNzLCBDb250cmlidXRvcnNTdXBwbHkpOwogICAgfQp9'.
	

]
