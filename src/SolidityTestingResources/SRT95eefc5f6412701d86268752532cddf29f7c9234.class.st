Class {
	#name : #SRT95eefc5f6412701d86268752532cddf29f7c9234,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT95eefc5f6412701d86268752532cddf29f7c9234 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7CgoKLyoqCiAqIE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludCBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgYXNzZXJ0aW9uKSBpbnRlcm5hbCB7CiAgICBpZiAoIWFzc2VydGlvbikgewogICAgICB0aHJvdzsKICAgIH0KICB9Cn0KCgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwp9CgoKCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4gCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgYmFsYW5jZXM7CgogIC8qKgogICAqIEBkZXYgRml4IGZvciB0aGUgRVJDMjAgc2hvcnQgYWRkcmVzcyBhdHRhY2suCiAgICovCiAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgc2l6ZSkgewogICAgIGlmKG1zZy5kYXRhLmxlbmd0aCA8IHNpemUgKyA0KSB7CiAgICAgICB0aHJvdzsKICAgICB9CiAgICAgXzsKICB9CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seVBheWxvYWRTaXplKDIgKiAzMikgewogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuIAogICogQHJldHVybiBBbiB1aW50IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9Cgp9CgoKCgoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50IHZhbHVlKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsKfQoKCgoKCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICogQGRldiBJbXBsZW1hbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcnQgdG9rZW4uCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEJhc2ljVG9rZW4sIEVSQzIwIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSBhbGxvd2VkOwoKCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludCB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMyAqIDMyKSB7CiAgICB2YXIgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldAogICAgLy8gaWYgKF92YWx1ZSA+IF9hbGxvd2FuY2UpIHRocm93OwoKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICB9CgogIC8qKgogICAqIEBkZXYgQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVhaGxmIG9mIG1zZy5zZW5kZXIuCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgewoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIGlmICgoX3ZhbHVlICE9IDApICYmIChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSAhPSAwKSkgdGhyb3c7CgogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhbiBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCn0KCgoKCgoKLy8vIEB0aXRsZSBTVUMgUHJvdG9jb2wgVG9rZW4uCmNvbnRyYWN0IFNVQ1Rva2VuIGlzIFN0YW5kYXJkVG9rZW4gewogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBOQU1FID0gIlNVUFBMWUNIQUlOIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgU1lNQk9MID0gIlNVQyI7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBERUNJTUFMUyA9IDE4OwoKICAgIC8vLyBEdXJpbmcgdG9rZW4gc2FsZSwgd2UgdXNlIG9uZSBjb25zaXN0ZW50IHByaWNlOiA1MDAwMCBTVUMvRVRILgogICAgLy8vIFdlIHNwbGl0IHRoZSBlbnRpcmUgdG9rZW4gc2FsZSBwZXJpb2QgaW50byAzIHBoYXNlcywgZWFjaAogICAgLy8vIHBoYXNlIGhhcyBhIGRpZmZlcmVudCBib251cyBzZXR0aW5nIGFzIHNwZWNpZmllZCBpbiBgYm9udXNQZXJjZW50YWdlc2AuCiAgICAvLy8gVGhlIHJlYWwgcHJpY2UgZm9yIHBoYXNlIGkgaXMgYCgxICsgYm9udXNQZXJjZW50YWdlc1tpXS8xMDAuMCkgKiBCQVNFX1JBVEVgLgogICAgLy8vIFRoZSBmaXJzdCBwaGFzZSBvciBlYXJseS1iaXJkIHBoYXNlIGhhcyBhIG11Y2ggaGlnaGVyIGJvbnVzLgogICAgdWludDhbMTBdIHB1YmxpYyBib251c1BlcmNlbnRhZ2VzID0gWwogICAgICAgIDIwLAogICAgICAgIDEwLAogICAgICAgIDAKICAgIF07CgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgTlVNX09GX1BIQVNFID0gMzsKICAKICAgIC8vLyBFYWNoIHBoYXNlIGNvbnRhaW5zIGV4YWN0bHkgMjkwMDAgRXRoZXJldW0gYmxvY2tzLCB3aGljaCBpcyByb3VnaGx5IDcgZGF5cywKICAgIC8vLyB3aGljaCBtYWtlcyB0aGlzIDMtcGhhc2Ugc2FsZSBwZXJpb2Qgcm91Z2hseSAyMSBkYXlzLgogICAgdWludDE2IHB1YmxpYyBjb25zdGFudCBCTE9DS1NfUEVSX1BIQVNFID0gMjkwMDA7CgogICAgLy8vIFRoaXMgaXMgd2hlcmUgd2UgaG9sZCBFVEggZHVyaW5nIHRoaXMgdG9rZW4gc2FsZS4gV2Ugd2lsbCBub3QgdHJhbnNmZXIgYW55IEV0aGVyCiAgICAvLy8gb3V0IG9mIHRoaXMgYWRkcmVzcyBiZWZvcmUgd2UgaW52b2NhdGUgdGhlIGBjbG9zZWAgZnVuY3Rpb24gdG8gZmluYWxpemUgdGhlIHNhbGUuIAogICAgLy8vIFRoaXMgcHJvbWlzZSBpcyBub3QgZ3VhbnJhbnRlZWQgYnkgc21hcnQgY29udHJhY3QgYnkgY2FuIGJlIHZlcmlmaWVkIHdpdGggcHVibGljCiAgICAvLy8gRXRoZXJldW0gdHJhbnNhY3Rpb25zIGRhdGEgYXZhaWxhYmxlIG9uIHNldmVyYWwgYmxvY2tjaGFpbiBicm93c2Vycy4KICAgIC8vLyBUaGlzIGlzIHRoZSBvbmx5IGFkZHJlc3MgZnJvbSB3aGljaCBgc3RhcnRgIGFuZCBgY2xvc2VgIGNhbiBiZSBpbnZvY2F0ZWQuCiAgICAvLy8gTm90ZTogdGhpcyB3aWxsIGJlIGluaXRpYWxpemVkIGR1cmluZyB0aGUgY29udHJhY3QgZGVwbG95bWVudC4KICAgIGFkZHJlc3MgcHVibGljIHRhcmdldDsKCiAgICAvLy8gYGZpcnN0YmxvY2tgIHNwZWNpZmllcyBmcm9tIHdoaWNoIGJsb2NrIG91ciB0b2tlbiBzYWxlIHN0YXJ0cy4KICAgIC8vLyBUaGlzIGNhbiBvbmx5IGJlIG1vZGlmaWVkIG9uY2UgYnkgdGhlIG93bmVyIG9mIGB0YXJnZXRgIGFkZHJlc3MuCiAgICB1aW50IHB1YmxpYyBmaXJzdGJsb2NrID0gMDsKCiAgICAvLy8gSW5kaWNhdGVzIHdoZXRoZXIgdW5zb2xkIHRva2VuIGhhdmUgYmVlbiBpc3N1ZWQuIFRoaXMgcGFydCBvZiBTVUMgdG9rZW4KICAgIC8vLyBpcyBtYW5hZ2VkIGJ5IHRoZSBwcm9qZWN0IHRlYW0gYW5kIGlzIGlzc3VlZCBkaXJlY3RseSB0byBgdGFyZ2V0YC4KICAgIGJvb2wgcHVibGljIHVuc29sZFRva2VuSXNzdWVkID0gZmFsc2U7CgogICAgLy8vIE1pbmltdW0gYW1vdW50IG9mIGZ1bmRzIHRvIGJlIHJhaXNlZCBmb3IgdGhlIHNhbGUgdG8gc3VjY2VlZC4gCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBHT0FMID0gNTAwMCBldGhlcjsKCiAgICAvLy8gTWF4aW11bSBhbW91bnQgb2YgZnVuZCB0byBiZSByYWlzZWQsIHRoZSBzYWxlIGVuZHMgb24gcmVhY2hpbmcgdGhpcyBhbW91bnQuCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBIQVJEX0NBUCA9IDEwMDAwIGV0aGVyOwoKICAgIC8vLyBCYXNlIGV4Y2hhbmdlIHJhdGUgaXMgc2V0IHRvIDEgRVRIID0gNTAwMDAgU1VDLgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgQkFTRV9SQVRFID0gNTAwMDA7CgogICAgLy8vIEEgc2ltcGxlIHN0YXQgZm9yIGVtaXR0aW5nIGV2ZW50cy4KICAgIHVpbnQgcHVibGljIHRvdGFsRXRoUmVjZWl2ZWQgPSAwOwoKICAgIC8vLyBJc3N1ZSBldmVudCBpbmRleCBzdGFydGluZyBmcm9tIDAuCiAgICB1aW50IHB1YmxpYyBpc3N1ZUluZGV4ID0gMDsKCiAgICAvKiAKICAgICAqIEVWRU5UUwogICAgICovCgogICAgLy8vIEVtaXR0ZWQgb25seSBvbmNlIGFmdGVyIHRva2VuIHNhbGUgc3RhcnRzLgogICAgZXZlbnQgU2FsZVN0YXJ0ZWQoKTsKCiAgICAvLy8gRW1pdHRlZCBvbmx5IG9uY2UgYWZ0ZXIgdG9rZW4gc2FsZSBlbmRlZCAoYWxsIHRva2VuIGlzc3VlZCkuCiAgICBldmVudCBTYWxlRW5kZWQoKTsKCiAgICAvLy8gRW1pdHRlZCB3aGVuIGEgZnVuY3Rpb24gaXMgaW52b2NhdGVkIGJ5IHVuYXV0aG9yaXplZCBhZGRyZXNzZXMuCiAgICBldmVudCBJbnZhbGlkQ2FsbGVyKGFkZHJlc3MgY2FsbGVyKTsKCiAgICAvLy8gRW1pdHRlZCB3aGVuIGEgZnVuY3Rpb24gaXMgaW52b2NhdGVkIHdpdGhvdXQgdGhlIHNwZWNpZmllZCBwcmVjb25kaXRpb25zLgogICAgLy8vIFRoaXMgZXZlbnQgd2lsbCBub3QgY29tZSBhbG9uZSB3aXRoIGFuIGV4Y2VwdGlvbi4KICAgIGV2ZW50IEludmFsaWRTdGF0ZShieXRlcyBtc2cpOwoKICAgIC8vLyBFbWl0dGVkIGZvciBlYWNoIHN1Y3Vlc3NmdWwgdG9rZW4gcHVyY2hhc2UuCiAgICBldmVudCBJc3N1ZSh1aW50IGlzc3VlSW5kZXgsIGFkZHJlc3MgYWRkciwgdWludCBldGhBbW91bnQsIHVpbnQgdG9rZW5BbW91bnQpOwoKICAgIC8vLyBFbWl0dGVkIGlmIHRoZSB0b2tlbiBzYWxlIHN1Y2NlZWRlZC4KICAgIGV2ZW50IFNhbGVTdWNjZWVkZWQoKTsKCiAgICAvLy8gRW1pdHRlZCBpZiB0aGUgdG9rZW4gc2FsZSBmYWlsZWQuCiAgICAvLy8gV2hlbiB0b2tlbiBzYWxlIGZhaWxlZCwgYWxsIEV0aGVyIHdpbGwgYmUgcmV0dXJuIHRvIHRoZSBvcmlnaW5hbCBwdXJjaGFzaW5nCiAgICAvLy8gYWRkcmVzcyB3aXRoIGEgbWlub3IgZGVkdWN0aW9uIG9mIHRyYW5zYWN0aW9uIGZlZe+8iGdhcykKICAgIGV2ZW50IFNhbGVGYWlsZWQoKTsKCiAgICAvKgogICAgICogTU9ESUZJRVJTCiAgICAgKi8KCiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIGlmICh0YXJnZXQgPT0gbXNnLnNlbmRlcikgewogICAgICAgICAgICBfOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEludmFsaWRDYWxsZXIobXNnLnNlbmRlcik7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgIH0KCiAgICBtb2RpZmllciBiZWZvcmVTdGFydCB7CiAgICAgICAgaWYgKCFzYWxlU3RhcnRlZCgpKSB7CiAgICAgICAgICAgIF87CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgSW52YWxpZFN0YXRlKCJTYWxlIGhhcyBub3Qgc3RhcnRlZCB5ZXQiKTsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgfQoKICAgIG1vZGlmaWVyIGluUHJvZ3Jlc3MgewogICAgICAgIGlmIChzYWxlU3RhcnRlZCgpICYmICFzYWxlRW5kZWQoKSkgewogICAgICAgICAgICBfOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEludmFsaWRTdGF0ZSgiU2FsZSBpcyBub3QgaW4gcHJvZ3Jlc3MiKTsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgfQoKICAgIG1vZGlmaWVyIGFmdGVyRW5kIHsKICAgICAgICBpZiAoc2FsZUVuZGVkKCkpIHsKICAgICAgICAgICAgXzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBJbnZhbGlkU3RhdGUoIlNhbGUgaXMgbm90IGVuZGVkIHlldCIpOwogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBDT05TVFJVQ1RPUiAKICAgICAqIAogICAgICogQGRldiBJbml0aWFsaXplIHRoZSBTVUMgVG9rZW4KICAgICAqIEBwYXJhbSBfdGFyZ2V0IFRoZSBlc2Nyb3cgYWNjb3VudCBhZGRyZXNzCiAgICAgKi8KICAgIGZ1bmN0aW9uIFNVQ1Rva2VuKGFkZHJlc3MgX3RhcmdldCkgewogICAgICAgIHRhcmdldCA9IF90YXJnZXQ7CiAgICAgICAgdG90YWxTdXBwbHkgPSAxMCAqKiAyNzsKICAgICAgICBiYWxhbmNlc1t0YXJnZXRdID0gdG90YWxTdXBwbHk7CiAgICB9CgogICAgLyoKICAgICAqIFBVQkxJQyBGVU5DVElPTlMKICAgICAqLwoKICAgIC8vLyBAZGV2IFN0YXJ0IHRoZSB0b2tlbiBzYWxlLgogICAgLy8vIEBwYXJhbSBfZmlyc3RibG9jayBUaGUgYmxvY2sgZnJvbSB3aGljaCB0aGUgc2FsZSB3aWxsIHN0YXJ0LgogICAgZnVuY3Rpb24gc3RhcnQodWludCBfZmlyc3RibG9jaykgcHVibGljIG9ubHlPd25lciBiZWZvcmVTdGFydCB7CiAgICAgICAgaWYgKF9maXJzdGJsb2NrIDw9IGJsb2NrLm51bWJlcikgewogICAgICAgICAgICAvLyBNdXN0IHNwZWNpZnkgYSBibG9jayBpbiB0aGUgZnV0dXJlLgogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CgogICAgICAgIGZpcnN0YmxvY2sgPSBfZmlyc3RibG9jazsKICAgICAgICBTYWxlU3RhcnRlZCgpOwogICAgfQoKICAgIC8vLyBAZGV2IFRyaWdnZXJzIHVuc29sZCB0b2tlbnMgdG8gYmUgaXNzdWVkIHRvIGB0YXJnZXRgIGFkZHJlc3MuCiAgICBmdW5jdGlvbiBjbG9zZSgpIHB1YmxpYyBvbmx5T3duZXIgYWZ0ZXJFbmQgewogICAgICAgIGlmICh0b3RhbEV0aFJlY2VpdmVkIDwgR09BTCkgewogICAgICAgICAgICBTYWxlRmFpbGVkKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgU2FsZVN1Y2NlZWRlZCgpOwogICAgICAgIH0KICAgIH0KCiAgICAvLy8gQGRldiBSZXR1cm5zIHRoZSBjdXJyZW50IHByaWNlLgogICAgZnVuY3Rpb24gcHJpY2UoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCB0b2tlbnMpIHsKICAgICAgICByZXR1cm4gY29tcHV0ZVRva2VuQW1vdW50KDEgZXRoZXIpOwogICAgfQoKICAgIC8vLyBAZGV2IFRoaXMgZGVmYXVsdCBmdW5jdGlvbiBhbGxvd3MgdG9rZW4gdG8gYmUgcHVyY2hhc2VkIGJ5IGRpcmVjdGx5CiAgICAvLy8gc2VuZGluZyBldGhlciB0byB0aGlzIHNtYXJ0IGNvbnRyYWN0LgogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7CiAgICAgICAgaXNzdWVUb2tlbihtc2cuc2VuZGVyKTsKICAgIH0KCiAgICAvLy8gQGRldiBJc3N1ZSB0b2tlbiBiYXNlZCBvbiBFdGhlciByZWNlaXZlZC4KICAgIC8vLyBAcGFyYW0gcmVjaXBpZW50IEFkZHJlc3MgdGhhdCBuZXdseSBpc3N1ZWQgdG9rZW4gd2lsbCBiZSBzZW50IHRvLgogICAgZnVuY3Rpb24gaXNzdWVUb2tlbihhZGRyZXNzIHJlY2lwaWVudCkgcGF5YWJsZSBpblByb2dyZXNzIHsKICAgICAgICAvLyBXZSBvbmx5IGFjY2VwdCBtaW5pbXVtIHB1cmNoYXNlIG9mIDAuMDEgRVRILgogICAgICAgIGFzc2VydChtc2cudmFsdWUgPj0gMC4wMSBldGhlcik7CgogICAgICAgIC8vIFdlIG9ubHkgYWNjZXB0IG1heGltdW0gcHVyY2hhc2Ugb2YgMTAwMDAgRVRILgogICAgICAgIGFzc2VydChtc2cudmFsdWUgPD0gMTAwMDAgZXRoZXIpOwoKICAgICAgICAvLyBXZSBvbmx5IGFjY2VwdCB0b3RhbEV0aFJlY2VpdmVkIDwgSEFSRF9DQVAKICAgICAgICB1aW50IGV0aFJlY2VpdmVkID0gdG90YWxFdGhSZWNlaXZlZCArIG1zZy52YWx1ZTsKICAgICAgICBhc3NlcnQoZXRoUmVjZWl2ZWQgPD0gSEFSRF9DQVApOwoKICAgICAgICB1aW50IHRva2VucyA9IGNvbXB1dGVUb2tlbkFtb3VudChtc2cudmFsdWUpOwogICAgICAgIHRvdGFsRXRoUmVjZWl2ZWQgPSB0b3RhbEV0aFJlY2VpdmVkLmFkZChtc2cudmFsdWUpOwogICAgICAgIAogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKHRva2Vucyk7CiAgICAgICAgYmFsYW5jZXNbdGFyZ2V0XSA9IGJhbGFuY2VzW3RhcmdldF0uc3ViKHRva2Vucyk7CgogICAgICAgIElzc3VlKAogICAgICAgICAgICBpc3N1ZUluZGV4KyssCiAgICAgICAgICAgIHJlY2lwaWVudCwKICAgICAgICAgICAgbXNnLnZhbHVlLAogICAgICAgICAgICB0b2tlbnMKICAgICAgICApOwoKICAgICAgICBpZiAoIXRhcmdldC5zZW5kKG1zZy52YWx1ZSkpIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgfQoKICAgIC8qCiAgICAgKiBJTlRFUk5BTCBGVU5DVElPTlMKICAgICAqLwogIAogICAgLy8vIEBkZXYgQ29tcHV0ZSB0aGUgYW1vdW50IG9mIFNVQyB0b2tlbiB0aGF0IGNhbiBiZSBwdXJjaGFzZWQuCiAgICAvLy8gQHBhcmFtIGV0aEFtb3VudCBBbW91bnQgb2YgRXRoZXIgdG8gcHVyY2hhc2UgU1VDLgogICAgLy8vIEByZXR1cm4gQW1vdW50IG9mIFNVQyB0b2tlbiB0byBwdXJjaGFzZQogICAgZnVuY3Rpb24gY29tcHV0ZVRva2VuQW1vdW50KHVpbnQgZXRoQW1vdW50KSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50IHRva2VucykgewogICAgICAgIHVpbnQgcGhhc2UgPSAoYmxvY2subnVtYmVyIC0gZmlyc3RibG9jaykuZGl2KEJMT0NLU19QRVJfUEhBU0UpOwoKICAgICAgICAvLyBBIHNhZmUgY2hlY2sKICAgICAgICBpZiAocGhhc2UgPj0gYm9udXNQZXJjZW50YWdlcy5sZW5ndGgpIHsKICAgICAgICAgICAgcGhhc2UgPSBib251c1BlcmNlbnRhZ2VzLmxlbmd0aCAtIDE7CiAgICAgICAgfQoKICAgICAgICB1aW50IHRva2VuQmFzZSA9IGV0aEFtb3VudC5tdWwoQkFTRV9SQVRFKTsKICAgICAgICB1aW50IHRva2VuQm9udXMgPSB0b2tlbkJhc2UubXVsKGJvbnVzUGVyY2VudGFnZXNbcGhhc2VdKS5kaXYoMTAwKTsKCiAgICAgICAgdG9rZW5zID0gdG9rZW5CYXNlLmFkZCh0b2tlbkJvbnVzKTsKICAgIH0KCiAgICAvLy8gQHJldHVybiB0cnVlIGlmIHNhbGUgaGFzIHN0YXJ0ZWQsIGZhbHNlIG90aGVyd2lzZS4KICAgIGZ1bmN0aW9uIHNhbGVTdGFydGVkKCkgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiAoZmlyc3RibG9jayA+IDAgJiYgYmxvY2subnVtYmVyID49IGZpcnN0YmxvY2spOwogICAgfQoKICAgIC8vLyBAcmV0dXJuIHRydWUgaWYgc2FsZSBoYXMgZW5kZWQsIGZhbHNlIG90aGVyd2lzZS4KICAgIGZ1bmN0aW9uIHNhbGVFbmRlZCgpIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gZmlyc3RibG9jayA+IDAgJiYgKHNhbGVEdWUoKSB8fCBoYXJkQ2FwUmVhY2hlZCgpKTsKICAgIH0KCiAgICAvLy8gQHJldHVybiB0cnVlIGlmIHNhbGUgaXMgZHVlIHdoZW4gdGhlIGxhc3QgcGhhc2UgaXMgZmluaXNoZWQuCiAgICBmdW5jdGlvbiBzYWxlRHVlKCkgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBibG9jay5udW1iZXIgPj0gZmlyc3RibG9jayArIEJMT0NLU19QRVJfUEhBU0UgKiBOVU1fT0ZfUEhBU0U7CiAgICB9CgogICAgLy8vIEByZXR1cm4gdHJ1ZSBpZiB0aGUgaGFyZCBjYXAgaXMgcmVhY2hlZC4KICAgIGZ1bmN0aW9uIGhhcmRDYXBSZWFjaGVkKCkgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiB0b3RhbEV0aFJlY2VpdmVkID49IEhBUkRfQ0FQOwogICAgfQp9'.
	

]
