Class {
	#name : #SRT45125B61f06b2e9b8fC8A2Ea688c35e27086d2ae,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT45125B61f06b2e9b8fC8A2Ea688c35e27086d2ae >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgppbnRlcmZhY2UgdG9rZW5SZWNpcGllbnQgeyBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWM7IH0KCmNvbnRyYWN0IE95c3RlclBlYXJsIHsKICAgIC8vIFB1YmxpYyB2YXJpYWJsZXMgb2YgUFJMCiAgICBzdHJpbmcgcHVibGljIG5hbWU7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgdWludDI1NiBwdWJsaWMgZnVuZHM7CiAgICBhZGRyZXNzIHB1YmxpYyBkaXJlY3RvcjsKICAgIGJvb2wgcHVibGljIHNhbGVDbG9zZWQ7CiAgICBib29sIHB1YmxpYyBkaXJlY3RvckxvY2s7CiAgICB1aW50MjU2IHB1YmxpYyBjbGFpbUFtb3VudDsKICAgIHVpbnQyNTYgcHVibGljIHBheUFtb3VudDsKICAgIHVpbnQyNTYgcHVibGljIGZlZUFtb3VudDsKICAgIHVpbnQyNTYgcHVibGljIGVwb2NoOwogICAgdWludDI1NiBwdWJsaWMgcmV0ZW50aW9uTWF4OwoKICAgIC8vIFRoaXMgY3JlYXRlcyBhbiBhcnJheSB3aXRoIGFsbCBiYWxhbmNlcwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2FuY2U7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBidXJpZWQ7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBjbGFpbWVkOwoKICAgIC8vIEVSQzIwIGV2ZW50CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIAogICAgLy8gRVJDMjAgZXZlbnQKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwoKICAgIC8vIFRoaXMgbm90aWZpZXMgY2xpZW50cyBhYm91dCB0aGUgYW1vdW50IGJ1cm50CiAgICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50MjU2IHZhbHVlKTsKICAgIAogICAgLy8gVGhpcyBub3RpZmllcyBjbGllbnRzIGFib3V0IHRoZSBhbiBhZGRyZXNzIGdldHRpbmcgYnVyaWVkCiAgICBldmVudCBCdXJ5KGFkZHJlc3MgaW5kZXhlZCB0YXJnZXQsIHVpbnQyNTYgdmFsdWUpOwogICAgCiAgICAvLyBUaGlzIG5vdGlmaWVzIGNsaWVudHMgYWJvdXQgYSBjbGFpbSBiZWluZyBtYWRlIG9uIGEgYnVyaWVkIGFkZHJlc3MKICAgIGV2ZW50IENsYWltKGFkZHJlc3MgaW5kZXhlZCB0YXJnZXQsIGFkZHJlc3MgaW5kZXhlZCBwYXlvdXQsIGFkZHJlc3MgaW5kZXhlZCBmZWUpOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3IgZnVuY3Rpb24KICAgICAqCiAgICAgKiBJbml0aWFsaXplcyBjb250cmFjdAogICAgICovCiAgICBmdW5jdGlvbiBPeXN0ZXJQZWFybCgpIHB1YmxpYyB7CiAgICAgICAgZGlyZWN0b3IgPSBtc2cuc2VuZGVyOwogICAgICAgIG5hbWUgPSAiT3lzdGVyIFBlYXJsIjsKICAgICAgICBzeW1ib2wgPSAiVFNQUkwiOwogICAgICAgIGRlY2ltYWxzID0gMTg7CiAgICAgICAgZnVuZHMgPSAwOwogICAgICAgIHRvdGFsU3VwcGx5ID0gMDsKICAgICAgICBzYWxlQ2xvc2VkID0gdHJ1ZTsKICAgICAgICBkaXJlY3RvckxvY2sgPSBmYWxzZTsKICAgICAgICAKICAgICAgICAvLyBNYXJrZXRpbmcgc2hhcmUgKDUlKQogICAgICAgIHRvdGFsU3VwcGx5ICs9IDI1MDAwMDAwICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CiAgICAgICAgCiAgICAgICAgLy8gRGV2ZnVuZCBzaGFyZSAoMTUlKQogICAgICAgIHRvdGFsU3VwcGx5ICs9IDc1MDAwMDAwICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CiAgICAgICAgCiAgICAgICAgLy8gQWxsb2NhdGlvbiB0byBtYXRjaCBQUkVQUkwgc3VwcGx5CiAgICAgICAgdG90YWxTdXBwbHkgKz0gMTAwMDAwMCAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpOwogICAgICAgIAogICAgICAgIC8vIEFzc2lnbiByZXNlcnZlZCBQUkwgc3VwcGx5IHRvIGNvbnRyYWN0IG93bmVyCiAgICAgICAgYmFsYW5jZXNbZGlyZWN0b3JdID0gdG90YWxTdXBwbHk7CiAgICAgICAgCiAgICAgICAgLy9kZWZpbmUgZGVmYXVsdCB2YWx1ZXMgZm9yIE95c3RlciBmdW5jdGlvbnMKICAgICAgICBjbGFpbUFtb3VudCA9IDUgKiAxMCAqKiAodWludDI1NihkZWNpbWFscykgLSAxKTsKICAgICAgICBwYXlBbW91bnQgPSA0ICogMTAgKiogKHVpbnQyNTYoZGVjaW1hbHMpIC0gMSk7CiAgICAgICAgZmVlQW1vdW50ID0gMSAqIDEwICoqICh1aW50MjU2KGRlY2ltYWxzKSAtIDEpOwogICAgICAgIAogICAgICAgIC8vc2Vjb25kcyBpbiBhIHllYXIKICAgICAgICBlcG9jaCA9IDMxNTM2MDAxOwogICAgICAgIAogICAgICAgIC8vTWF4aW11bSB0aW1lIGZvciBhIHNlY3RvciB0byByZW1haW4gc3RvcmVkCiAgICAgICAgcmV0ZW50aW9uTWF4ID0gNDAgKiAxMCAqKiB1aW50MjU2KGRlY2ltYWxzKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBFUkMyMCBmdW5jdGlvbgogICAgICovCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KICAgIAogICAgbW9kaWZpZXIgb25seURpcmVjdG9yIHsKICAgICAgICAvLyBPd25lciBjYW4gbG9jayB0aGVtc2VsdmVzIG91dCB0byBjb21wbGV0ZSBkZWNlbnRyYWxpemF0aW9uIG9mIE95c3RlciBuZXR3b3JrCiAgICAgICAgcmVxdWlyZSghZGlyZWN0b3JMb2NrKTsKICAgICAgICAKICAgICAgICAvLyBMb2Nrb3V0IHdpbGwgb2NjdXIgZXZlbnR1YWxseSwgZ3VhcmFudGVlaW5nIE95c3RlciBkZWNlbnRyYWxpemF0aW9uCiAgICAgICAgcmVxdWlyZShibG9jay5udW1iZXIgPCA4MDAwMDAwKTsKICAgICAgICAKICAgICAgICAvLyBPbmx5IHRoZSBjb250cmFjdCBvd25lciBpcyBwZXJtaXR0ZWQKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZGlyZWN0b3IpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIG1vZGlmaWVyIG9ubHlEaXJlY3RvckZvcmNlIHsKICAgICAgICAvLyBPbmx5IHRoZSBjb250cmFjdCBvd25lciBpcyBwZXJtaXR0ZWQKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZGlyZWN0b3IpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIC8qKgogICAgICogVHJhbnNmZXJzIHRoZSBjb250cmFjdCBvd25lciB0byBhIG5ldyBhZGRyZXNzCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRGlyZWN0b3IoYWRkcmVzcyBuZXdEaXJlY3RvcikgcHVibGljIG9ubHlEaXJlY3RvckZvcmNlIHsKICAgICAgICBkaXJlY3RvciA9IG5ld0RpcmVjdG9yOwogICAgfQogICAgCiAgICAvKioKICAgICAqIFdpdGhkcmF3IGZ1bmRzIGZyb20gdGhlIGNyb3dkc2FsZQogICAgICovCiAgICBmdW5jdGlvbiB3aXRoZHJhd0Z1bmRzKCkgcHVibGljIG9ubHlEaXJlY3RvckZvcmNlIHsKICAgICAgICBkaXJlY3Rvci50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgfQogICAgCiAgICAvKioKICAgICAqIFBlcm1hbmVudGx5IGxvY2sgb3V0IHRoZSBjb250cmFjdCBvd25lciB0byBkZWNlbnRyYWxpemUgT3lzdGVyCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNlbGZMb2NrKCkgcHVibGljIG9ubHlEaXJlY3RvciB7CiAgICAgICAgLy8gVGhlIHNhbGUgbXVzdCBiZSBjbG9zZWQgYmVmb3JlIHRoZSBvd25lciBnZXRzIGxvY2tlZCBvdXQKICAgICAgICByZXF1aXJlKHNhbGVDbG9zZWQpOwogICAgICAgIAogICAgICAgIC8vIFBlcm1hbmVudGx5IGxvY2sgb3V0IHRoZSBjb250cmFjdCBvd25lcgogICAgICAgIGRpcmVjdG9yTG9jayA9IHRydWU7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogQ29udHJhY3Qgb3duZXIgY2FuIGFsdGVyIHRoZSBzdG9yYWdlLXBlZyBhbmQgYnJva2VyIGZlZXMKICAgICAqLwogICAgZnVuY3Rpb24gYW1lbmRDbGFpbSh1aW50OCBjbGFpbUFtb3VudFNldCwgdWludDggcGF5QW1vdW50U2V0LCB1aW50OCBmZWVBbW91bnRTZXQpIHB1YmxpYyBvbmx5RGlyZWN0b3IgewogICAgICAgIHJlcXVpcmUoY2xhaW1BbW91bnRTZXQgPT0gKHBheUFtb3VudFNldCArIGZlZUFtb3VudFNldCkpOwogICAgICAgIAogICAgICAgIGNsYWltQW1vdW50ID0gY2xhaW1BbW91bnRTZXQgKiAxMCAqKiAodWludDI1NihkZWNpbWFscykgLSAxKTsKICAgICAgICBwYXlBbW91bnQgPSBwYXlBbW91bnRTZXQgKiAxMCAqKiAodWludDI1NihkZWNpbWFscykgLSAxKTsKICAgICAgICBmZWVBbW91bnQgPSBmZWVBbW91bnRTZXQgKiAxMCAqKiAodWludDI1NihkZWNpbWFscykgLSAxKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBDb250cmFjdCBvd25lciBjYW4gYWx0ZXIgdGhlIGVwb2NoIHRpbWUKICAgICAqLwogICAgZnVuY3Rpb24gYW1lbmRFcG9jaCh1aW50MjU2IGVwb2NoU2V0KSBwdWJsaWMgb25seURpcmVjdG9yIHsKICAgICAgICAvLyBTZXQgdGhlIGVwb2NoCiAgICAgICAgZXBvY2ggPSBlcG9jaFNldDsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBDb250cmFjdCBvd25lciBjYW4gYWx0ZXIgdGhlIG1heGltdW0gc3RvcmFnZSByZXRlbnRpb24KICAgICAqLwogICAgZnVuY3Rpb24gYW1lbmRSZXRlbnRpb24odWludDggcmV0ZW50aW9uU2V0KSBwdWJsaWMgb25seURpcmVjdG9yIHsKICAgICAgICAvLyBTZXQgUmV0ZW50aW9uTWF4CiAgICAgICAgcmV0ZW50aW9uTWF4ID0gcmV0ZW50aW9uU2V0ICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogRGlyZWN0b3IgY2FuIGNsb3NlIHRoZSBjcm93ZHNhbGUKICAgICAqLwogICAgZnVuY3Rpb24gY2xvc2VTYWxlKCkgcHVibGljIG9ubHlEaXJlY3RvciB7CiAgICAgICAgLy8gVGhlIHNhbGUgbXVzdCBiZSBjdXJyZW50bHkgb3BlbgogICAgICAgIHJlcXVpcmUoIXNhbGVDbG9zZWQpOwogICAgICAgIAogICAgICAgIC8vIExvY2sgdGhlIGNyb3dkc2FsZQogICAgICAgIHNhbGVDbG9zZWQgPSB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogRGlyZWN0b3IgY2FuIG9wZW4gdGhlIGNyb3dkc2FsZQogICAgICovCiAgICBmdW5jdGlvbiBvcGVuU2FsZSgpIHB1YmxpYyBvbmx5RGlyZWN0b3IgewogICAgICAgIC8vIFRoZSBzYWxlIG11c3QgYmUgY3VycmVudGx5IGNsb3NlZAogICAgICAgIHJlcXVpcmUoc2FsZUNsb3NlZCk7CiAgICAgICAgCiAgICAgICAgLy8gVW5sb2NrIHRoZSBjcm93ZHNhbGUKICAgICAgICBzYWxlQ2xvc2VkID0gZmFsc2U7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogT3lzdGVyIFByb3RvY29sIEZ1bmN0aW9uCiAgICAgKiBNb3JlIGluZm9ybWF0aW9uIGF0IGh0dHBzOi8vb3lzdGVyLndzL095c3RlcldoaXRlcGFwZXIucGRmCiAgICAgKiAKICAgICAqIEJ1cnkgYW4gYWRkcmVzcwogICAgICoKICAgICAqIFdoZW4gYW4gYWRkcmVzcyBpcyBidXJpZWQ7IG9ubHkgY2xhaW1BbW91bnQgY2FuIGJlIHdpdGhkcmF3biBvbmNlIHBlciBlcG9jaAogICAgICoKICAgICAqLwogICAgZnVuY3Rpb24gYnVyeSgpIHB1YmxpYyB7CiAgICAgICAgLy8gVGhlIGFkZHJlc3MgbXVzdCBiZSBwcmV2aW91c2x5IHVuYnVyaWVkCiAgICAgICAgcmVxdWlyZSghYnVyaWVkW21zZy5zZW5kZXJdKTsKICAgICAgICAKICAgICAgICAvLyBBbiBhZGRyZXNzIG11c3QgaGF2ZSBhdGxlYXN0IGNsYWltQW1vdW50IHRvIGJlIGJ1cmllZAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPiBjbGFpbUFtb3VudCk7CiAgICAgICAgCiAgICAgICAgLy8gUHJldmVudCBhZGRyZXNzZXMgd2l0aCBsYXJnZSBiYWxhbmNlcyBmcm9tIGdldHRpbmcgYnVyaWVkCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA8PSByZXRlbnRpb25NYXgpOwogICAgICAgIAogICAgICAgIC8vIFNldCBidXJpZWQgc3RhdGUgdG8gdHJ1ZQogICAgICAgIGJ1cmllZFttc2cuc2VuZGVyXSA9IHRydWU7CiAgICAgICAgCiAgICAgICAgLy8gU2V0IHRoZSBpbml0aWFsIGNsYWltIGNsb2NrIHRvIDEKICAgICAgICBjbGFpbWVkW21zZy5zZW5kZXJdID0gMTsKICAgICAgICAKICAgICAgICAvLyBFeGVjdXRlIGFuIGV2ZW50IHJlZmxlY3RpbmcgdGhlIGNoYW5nZQogICAgICAgIEJ1cnkobXNnLnNlbmRlciwgYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwogICAgfQogICAgCiAgICAvKioKICAgICAqIE95c3RlciBQcm90b2NvbCBGdW5jdGlvbgogICAgICogTW9yZSBpbmZvcm1hdGlvbiBhdCBodHRwczovL295c3Rlci53cy9PeXN0ZXJXaGl0ZXBhcGVyLnBkZgogICAgICogCiAgICAgKiBDbGFpbSBQUkwgZnJvbSBhIGJ1cmllZCBhZGRyZXNzCiAgICAgKgogICAgICogSWYgYSBwcmlvciBjbGFpbSB3YXNuJ3QgbWFkZSBkdXJpbmcgdGhlIGN1cnJlbnQgZXBvY2gKICAgICAqCiAgICAgKiBAcGFyYW0gX3BheW91dCBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAgKiBAcGFyYW0gX2ZlZSB0aGUgYW1vdW50IHRvIHNlbmQKICAgICAqLwogICAgZnVuY3Rpb24gY2xhaW0oYWRkcmVzcyBfcGF5b3V0LCBhZGRyZXNzIF9mZWUpIHB1YmxpYyB7CiAgICAgICAgLy8gVGhlIGNsYWltZWQgYWRkcmVzcyBtdXN0IGhhdmUgYWxyZWFkeSBiZWVuIGJ1cmllZAogICAgICAgIHJlcXVpcmUoYnVyaWVkW21zZy5zZW5kZXJdKTsKICAgICAgICAKICAgICAgICAvLyBUaGUgcGF5b3V0IGFuZCBmZWUgYWRkcmVzc2VzIG11c3QgYmUgZGlmZmVyZW50CiAgICAgICAgcmVxdWlyZShfcGF5b3V0ICE9IF9mZWUpOwogICAgICAgIAogICAgICAgIC8vIFRoZSBjbGFpbWVkIGFkZHJlc3MgY2Fubm90IHBheSBpdHNlbGYKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgIT0gX3BheW91dCk7CiAgICAgICAgCiAgICAgICAgLy8gVGhlIGNsYWltZWQgYWRkcmVzcyBjYW5ub3QgcGF5IGl0c2VsZgogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSBfZmVlKTsKICAgICAgICAKICAgICAgICAvLyBJdCBtdXN0IGJlIGVpdGhlciB0aGUgZmlyc3QgdGltZSB0aGlzIGFkZHJlc3MgaXMgYmVpbmcgY2xhaW1lZCBvciBhdGxlYXN0IGVwb2NoIGluIHRpbWUgaGFzIHBhc3NlZAogICAgICAgIHJlcXVpcmUoY2xhaW1lZFttc2cuc2VuZGVyXSA9PSAxIHx8IChibG9jay50aW1lc3RhbXAgLSBjbGFpbWVkW21zZy5zZW5kZXJdKSA+PSBlcG9jaCk7CiAgICAgICAgCiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJ1cmllZCBhZGRyZXNzIGhhcyBlbm91Z2gKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IGNsYWltQW1vdW50KTsKICAgICAgICAKICAgICAgICAvLyBSZXNldCB0aGUgY2xhaW0gY2xvY2sgdG8gdGhlIGN1cnJlbnQgdGltZQogICAgICAgIGNsYWltZWRbbXNnLnNlbmRlcl0gPSBibG9jay50aW1lc3RhbXA7CiAgICAgICAgCiAgICAgICAgLy8gU2F2ZSB0aGlzIGZvciBhbiBhc3NlcnRpb24gaW4gdGhlIGZ1dHVyZQogICAgICAgIHVpbnQyNTYgcHJldmlvdXNCYWxhbmNlcyA9IGJhbGFuY2VzW21zZy5zZW5kZXJdICsgYmFsYW5jZXNbX3BheW91dF0gKyBiYWxhbmNlc1tfZmVlXTsKICAgICAgICAKICAgICAgICAvLyBSZW1vdmUgY2xhaW1BbW91bnQgZnJvbSB0aGUgYnVyaWVkIGFkZHJlc3MKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBjbGFpbUFtb3VudDsKICAgICAgICAKICAgICAgICAvLyBQYXkgdGhlIHdlYnNpdGUgb3duZXIgdGhhdCBpbnZva2VkIHRoZSB3ZWJub2RlIHRoYXQgZm91bmQgdGhlIFBSTCBzZWVkIGtleQogICAgICAgIGJhbGFuY2VzW19wYXlvdXRdICs9IHBheUFtb3VudDsKICAgICAgICAKICAgICAgICAvLyBQYXkgdGhlIGJyb2tlciBub2RlIHRoYXQgdW5sb2NrZWQgdGhlIFBSTAogICAgICAgIGJhbGFuY2VzW19mZWVdICs9IGZlZUFtb3VudDsKICAgICAgICAKICAgICAgICAvLyBFeGVjdXRlIGV2ZW50cyB0byByZWZsZWN0IHRoZSBjaGFuZ2VzCiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3BheW91dCwgcGF5QW1vdW50KTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfZmVlLCBmZWVBbW91bnQpOwogICAgICAgIENsYWltKG1zZy5zZW5kZXIsIF9wYXlvdXQsIF9mZWUpOwogICAgICAgIAogICAgICAgIC8vIEFzc2VydHMgYXJlIHVzZWQgdG8gdXNlIHN0YXRpYyBhbmFseXNpcyB0byBmaW5kIGJ1Z3MgaW4geW91ciBjb2RlLCB0aGV5IHNob3VsZCBuZXZlciBmYWlsCiAgICAgICAgYXNzZXJ0KGJhbGFuY2VzW21zZy5zZW5kZXJdICsgYmFsYW5jZXNbX3BheW91dF0gKyBiYWxhbmNlc1tfZmVlXSA9PSBwcmV2aW91c0JhbGFuY2VzKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBDcm93ZHNhbGUgZnVuY3Rpb24KICAgICAqLwogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSBwdWJsaWMgewogICAgICAgIC8vIENoZWNrIGlmIGNyb3dkc2FsZSBpcyBzdGlsbCBhY3RpdmUKICAgICAgICByZXF1aXJlKCFzYWxlQ2xvc2VkKTsKICAgICAgICAKICAgICAgICAvLyBNaW5pbXVtIGFtb3VudCBpcyAxIGZpbm5leQogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IDEgZmlubmV5KTsKICAgICAgICAKICAgICAgICAvLyBQcmljZSBpcyAxIEVUSCA9IDUwMDAgUFJMCiAgICAgICAgdWludDI1NiBhbW91bnQgPSBtc2cudmFsdWUgKiA1MDAwOwogICAgICAgIAogICAgICAgIC8vIHRvdGFsU3VwcGx5IGxpbWl0IGlzIDUwMCBtaWxsaW9uIFBSTAogICAgICAgIHJlcXVpcmUodG90YWxTdXBwbHkgKyBhbW91bnQgPD0gKDUwMDAwMDAwMCAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKSk7CiAgICAgICAgCiAgICAgICAgLy8gSW5jcmVhc2VzIHRoZSB0b3RhbCBzdXBwbHkKICAgICAgICB0b3RhbFN1cHBseSArPSBhbW91bnQ7CiAgICAgICAgCiAgICAgICAgLy8gQWRkcyB0aGUgYW1vdW50IHRvIGJ1eWVyJ3MgYmFsYW5jZQogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IGFtb3VudDsKICAgICAgICAKICAgICAgICAvLyBUcmFjayBFVEggYW1vdW50IHJhaXNlZAogICAgICAgIGZ1bmRzICs9IG1zZy52YWx1ZTsKICAgICAgICAKICAgICAgICAvLyBFeGVjdXRlIGFuIGV2ZW50IHJlZmxlY3RpbmcgdGhlIGNoYW5nZQogICAgICAgIFRyYW5zZmVyKHRoaXMsIG1zZy5zZW5kZXIsIGFtb3VudCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBJbnRlcm5hbCB0cmFuc2Zlciwgb25seSBjYW4gYmUgY2FsbGVkIGJ5IHRoaXMgY29udHJhY3QKICAgICAqLwogICAgZnVuY3Rpb24gX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaW50ZXJuYWwgewogICAgICAgIC8vIFNlbmRpbmcgYWRkcmVzc2VzIGNhbm5vdCBiZSBidXJpZWQKICAgICAgICByZXF1aXJlKCFidXJpZWRbX2Zyb21dKTsKICAgICAgICAKICAgICAgICAvLyBJZiB0aGUgcmVjZWl2aW5nIGFkZHJlc3NlIGlzIGJ1cmllZCwgaXQgY2Fubm90IGV4Y2VlZCByZXRlbnRpb25NYXgKICAgICAgICBpZiAoYnVyaWVkW190b10pIHsKICAgICAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfdG9dICsgX3ZhbHVlIDw9IHJldGVudGlvbk1heCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIFByZXZlbnQgdHJhbnNmZXIgdG8gMHgwIGFkZHJlc3MuIFVzZSBidXJuKCkgaW5zdGVhZAogICAgICAgIHJlcXVpcmUoX3RvICE9IDB4MCk7CiAgICAgICAgCiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBmb3Igb3ZlcmZsb3dzCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSk7CiAgICAgICAgCiAgICAgICAgLy8gU2F2ZSB0aGlzIGZvciBhbiBhc3NlcnRpb24gaW4gdGhlIGZ1dHVyZQogICAgICAgIHVpbnQyNTYgcHJldmlvdXNCYWxhbmNlcyA9IGJhbGFuY2VzW19mcm9tXSArIGJhbGFuY2VzW190b107CiAgICAgICAgCiAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICAKICAgICAgICAvLyBBZGQgdGhlIHNhbWUgdG8gdGhlIHJlY2lwaWVudAogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgCiAgICAgICAgLy8gQXNzZXJ0cyBhcmUgdXNlZCB0byB1c2Ugc3RhdGljIGFuYWx5c2lzIHRvIGZpbmQgYnVncyBpbiB5b3VyIGNvZGUsIHRoZXkgc2hvdWxkIG5ldmVyIGZhaWwKICAgICAgICBhc3NlcnQoYmFsYW5jZXNbX2Zyb21dICsgYmFsYW5jZXNbX3RvXSA9PSBwcmV2aW91c0JhbGFuY2VzKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRyYW5zZmVyIHRva2VucwogICAgICoKICAgICAqIFNlbmQgYF92YWx1ZWAgdG9rZW5zIHRvIGBfdG9gIGZyb20geW91ciBhY2NvdW50CiAgICAgKgogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBhbW91bnQgdG8gc2VuZAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyB7CiAgICAgICAgX3RyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRyYW5zZmVyIHRva2VucyBmcm9tIG90aGVyIGFkZHJlc3MKICAgICAqCiAgICAgKiBTZW5kIGBfdmFsdWVgIHRva2VucyB0byBgX3RvYCBpbiBiZWhhbGYgb2YgYF9mcm9tYAogICAgICoKICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIGFtb3VudCB0byBzZW5kCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBDaGVjayBhbGxvd2FuY2UKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdKTsKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICBfdHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBhbGxvd2FuY2UgZm9yIG90aGVyIGFkZHJlc3MKICAgICAqCiAgICAgKiBBbGxvd3MgYF9zcGVuZGVyYCB0byBzcGVuZCBubyBtb3JlIHRoYW4gYF92YWx1ZWAgdG9rZW5zIGluIHlvdXIgYmVoYWxmCiAgICAgKgogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIGF1dGhvcml6ZWQgdG8gc3BlbmQKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIG1heCBhbW91bnQgdGhleSBjYW4gc3BlbmQKICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy8gQnVyaWVkIGFkZHJlc3NlcyBjYW5ub3QgYmUgYXBwcm92ZWQKICAgICAgICByZXF1aXJlKCFidXJpZWRbX3NwZW5kZXJdKTsKICAgICAgICAKICAgICAgICBhbGxvd2FuY2VbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIAogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IGFsbG93YW5jZSBmb3Igb3RoZXIgYWRkcmVzcyBhbmQgbm90aWZ5CiAgICAgKgogICAgICogQWxsb3dzIGBfc3BlbmRlcmAgdG8gc3BlbmQgbm8gbW9yZSB0aGFuIGBfdmFsdWVgIHRva2VucyBpbiB5b3VyIGJlaGFsZiwgYW5kIHRoZW4gcGluZyB0aGUgY29udHJhY3QgYWJvdXQgaXQKICAgICAqCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3MgYXV0aG9yaXplZCB0byBzcGVuZAogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgbWF4IGFtb3VudCB0aGV5IGNhbiBzcGVuZAogICAgICogQHBhcmFtIF9leHRyYURhdGEgc29tZSBleHRyYSBpbmZvcm1hdGlvbiB0byBzZW5kIHRvIHRoZSBhcHByb3ZlZCBjb250cmFjdAogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSkKICAgICAgICBwdWJsaWMKICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICB0b2tlblJlY2lwaWVudCBzcGVuZGVyID0gdG9rZW5SZWNpcGllbnQoX3NwZW5kZXIpOwogICAgICAgIGlmIChhcHByb3ZlKF9zcGVuZGVyLCBfdmFsdWUpKSB7CiAgICAgICAgICAgIHNwZW5kZXIucmVjZWl2ZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIERlc3Ryb3kgdG9rZW5zCiAgICAgKgogICAgICogUmVtb3ZlIGBfdmFsdWVgIHRva2VucyBmcm9tIHRoZSBzeXN0ZW0gaXJyZXZlcnNpYmx5CiAgICAgKgogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IG9mIG1vbmV5IHRvIGJ1cm4KICAgICAqLwogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIEJ1cmllZCBhZGRyZXNzZXMgY2Fubm90IGJlIGJ1cm50CiAgICAgICAgcmVxdWlyZSghYnVyaWVkW21zZy5zZW5kZXJdKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSk7CiAgICAgICAgCiAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIAogICAgICAgIC8vIFVwZGF0ZXMgdG90YWxTdXBwbHkKICAgICAgICB0b3RhbFN1cHBseSAtPSBfdmFsdWU7CiAgICAgICAgQnVybihtc2cuc2VuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogRGVzdHJveSB0b2tlbnMgZnJvbSBvdGhlciBhY2NvdW50CiAgICAgKgogICAgICogUmVtb3ZlIGBfdmFsdWVgIHRva2VucyBmcm9tIHRoZSBzeXN0ZW0gaXJyZXZlcnNpYmx5IG9uIGJlaGFsZiBvZiBgX2Zyb21gLgogICAgICoKICAgICAqIEBwYXJhbSBfZnJvbSB0aGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBhbW91bnQgb2YgbW9uZXkgdG8gYnVybgogICAgICovCiAgICBmdW5jdGlvbiBidXJuRnJvbShhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIEJ1cmllZCBhZGRyZXNzZXMgY2Fubm90IGJlIGJ1cm50CiAgICAgICAgcmVxdWlyZSghYnVyaWVkW19mcm9tXSk7CiAgICAgICAgCiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRhcmdldGVkIGJhbGFuY2UgaXMgZW5vdWdoCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBhbGxvd2FuY2UKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdKTsKICAgICAgICAKICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSB0YXJnZXRlZCBiYWxhbmNlCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICAKICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIncyBhbGxvd2FuY2UKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAKICAgICAgICAvLyBVcGRhdGUgdG90YWxTdXBwbHkKICAgICAgICB0b3RhbFN1cHBseSAtPSBfdmFsdWU7CiAgICAgICAgQnVybihfZnJvbSwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQ=='.
	

]
