Class {
	#name : #SRT6a2dc5eaea3c34ddf8d6eb19bb0ebe5f278f4fd5,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT6a2dc5eaea3c34ddf8d6eb19bb0ebe5f278f4fd5 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7Cgpjb250cmFjdCBUb2tlbiB7CgogICAgLyogVG90YWwgYW1vdW50IG9mIHRva2VucyAqLwogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgLyoKICAgICAqIEV2ZW50cwogICAgICovCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwoKICAgIC8qCiAgICAgKiBQdWJsaWMgZnVuY3Rpb25zCiAgICAgKi8KCiAgICAvLy8gQG5vdGljZSBzZW5kIGB2YWx1ZWAgdG9rZW4gdG8gYHRvYCBmcm9tIGBtc2cuc2VuZGVyYAogICAgLy8vIEBwYXJhbSB0byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIHZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYHZhbHVlYCB0b2tlbiB0byBgdG9gIGZyb20gYGZyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYGZyb21gCiAgICAvLy8gQHBhcmFtIGZyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgLy8vIEBwYXJhbSB0byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIHZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwoKICAgIC8vLyBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgc3BlbmRlcmAgdG8gc3BlbmQgYHZhbHVlYCB0b2tlbnMKICAgIC8vLyBAcGFyYW0gc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSBhcHByb3ZhbCB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CgogICAgLy8vIEBwYXJhbSBvd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICAvLy8gQHJldHVybiBUaGUgYmFsYW5jZQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KTsKCiAgICAvLy8gQHBhcmFtIG93bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IG93bmluZyB0b2tlbnMKICAgIC8vLyBAcGFyYW0gc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KTsKfQoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBUb2tlbiB7CiAgICAvKgogICAgICogIFN0b3JhZ2UKICAgICovCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSBhbGxvd2FuY2VzOwoKICAgIC8qCiAgICAgKiAgUHVibGljIGZ1bmN0aW9ucwogICAgKi8KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIC8vIERvIG5vdCBhbGxvdyB0cmFuc2ZlciB0byAweDAgb3IgdGhlIHRva2VuIGNvbnRyYWN0IGl0c2VsZgogICAgICAgIHJlcXVpcmUoKHRvICE9IDB4MCkgJiYgKHRvICE9IGFkZHJlc3ModGhpcykpKTsKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPCB2YWx1ZSkKICAgICAgICAgICAgcmV2ZXJ0KCk7ICAvLyBCYWxhbmNlIHRvbyBsb3cKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSB2YWx1ZTsKICAgICAgICBiYWxhbmNlc1t0b10gKz0gdmFsdWU7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgdG8sIHZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIC8vIERvIG5vdCBhbGxvdyB0cmFuc2ZlciB0byAweDAgb3IgdGhlIHRva2VuIGNvbnRyYWN0IGl0c2VsZgogICAgICAgIHJlcXVpcmUoKHRvICE9IDB4MCkgJiYgKHRvICE9IGFkZHJlc3ModGhpcykpKTsKICAgICAgICBpZiAoYmFsYW5jZXNbZnJvbV0gPCB2YWx1ZSB8fCBhbGxvd2FuY2VzW2Zyb21dW21zZy5zZW5kZXJdIDwgdmFsdWUpCiAgICAgICAgICAgIHJldmVydCgpOyAvLyBCYWxhbmNlIG9yIGFsbG93YW5jZSB0b28gbG93CiAgICAgICAgYmFsYW5jZXNbdG9dICs9IHZhbHVlOwogICAgICAgIGJhbGFuY2VzW2Zyb21dIC09IHZhbHVlOwogICAgICAgIGFsbG93YW5jZXNbZnJvbV1bbXNnLnNlbmRlcl0gLT0gdmFsdWU7CiAgICAgICAgVHJhbnNmZXIoZnJvbSwgdG8sIHZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBhbGxvd2FuY2VzW21zZy5zZW5kZXJdW3NwZW5kZXJdID0gdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgc3BlbmRlciwgdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIGFsbG93YW5jZXNbb3duZXJdW3NwZW5kZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIG93bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tvd25lcl07CiAgICB9Cn0KCmxpYnJhcnkgU2FmZU1hdGggewogICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgIGFzc2VydChjID49IGEpOwogICAgICByZXR1cm4gYzsKICAgIH0KfQoKY29udHJhY3QgU2hpdFRva2VuIGlzIFN0YW5kYXJkVG9rZW4gewoKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIC8qCiAgICAqICBNZXRhZGF0YQogICAgKi8KICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJTaGl0IFV0aWxpdHkgVG9rZW4iOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiU0hJVCI7CiAgICB1aW50OCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHRva2VuVW5pdCA9IDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpOwoKICAgIC8qCiAgICAqICBDb250cmFjdCBvd25lciAoU2hpdCBJbnRlcm5hdGlvbmFsKQogICAgKi8KICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIC8qCiAgICAqICBIYXJkd2FyZSB3YWxsZXRzCiAgICAqLwogICAgYWRkcmVzcyBwdWJsaWMgZXRoRnVuZEFkZHJlc3M7ICAvLyBBZGRyZXNzIGZvciBFVEggb3duZWQgYnkgU2hpdCBJbnRlcm5hdGlvbmFsCiAgICBhZGRyZXNzIHB1YmxpYyBzaGl0RnVuZEFkZHJlc3M7ICAvLyBBZGRyZXNzIGZvciBTSElUIGFsbG9jYXRlZCB0byBTaGl0IEludGVybmF0aW9uYWwKCiAgICAvKgogICAgKiAgTGlzdCBvZiByZWdpc3RlcmVkIHBhcnRpY2lwYW50cwogICAgKi8KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIHJlZ2lzdGVyZWQ7CgogICAgLyoKICAgICogIExpc3Qgb2YgdG9rZW4gcHVyY2hhc2VzIHBlciBhZGRyZXNzCiAgICAqICBTYW1lIGFzIGJhbGFuY2VzW10sIGV4Y2VwdCB1c2VkIGZvciBpbmRpdmlkdWFsIGNhcCBjYWxjdWxhdGlvbnMsIAogICAgKiAgYmVjYXVzZSB1c2VycyBjYW4gdHJhbnNmZXIgdG9rZW5zIG91dCBkdXJpbmcgc2FsZSBhbmQgcmVzZXQgdG9rZW4gY291bnQgaW4gYmFsYW5jZXMuCiAgICAqLwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgcHVyY2hhc2VzOwoKICAgIC8qCiAgICAqICBDcm93ZHNhbGUgcGFyYW1ldGVycwogICAgKi8KICAgIGJvb2wgcHVibGljIGlzRmluYWxpemVkOwogICAgYm9vbCBwdWJsaWMgaXNTdG9wcGVkOwogICAgdWludDI1NiBwdWJsaWMgc3RhcnRCbG9jazsgIC8vIEJsb2NrIG51bWJlciB3aGVuIHNhbGUgcGVyaW9kIGJlZ2lucwogICAgdWludDI1NiBwdWJsaWMgZW5kQmxvY2s7ICAvLyBCbG9jayBudW1iZXIgd2hlbiBzYWxlIHBlcmlvZCBlbmRzCiAgICB1aW50MjU2IHB1YmxpYyBmaXJzdENhcEVuZGluZ0Jsb2NrOyAgLy8gQmxvY2sgbnVtYmVyIHdoZW4gZmlyc3QgaW5kaXZpZHVhbCB1c2VyIGNhcCBwZXJpb2QgZW5kcwogICAgdWludDI1NiBwdWJsaWMgc2Vjb25kQ2FwRW5kaW5nQmxvY2s7ICAvLyBCbG9jayBudW1iZXIgd2hlbiBzZWNvbmQgaW5kaXZpZHVhbCB1c2VyIGNhcCBwZXJpb2QgZW5kcwogICAgdWludDI1NiBwdWJsaWMgYXNzaWduZWRTdXBwbHk7ICAvLyBUb3RhbCBTSElUIHRva2VucyBjdXJyZW50bHkgYXNzaWduZWQKICAgIHVpbnQyNTYgcHVibGljIHRva2VuRXhjaGFuZ2VSYXRlOyAgLy8gVW5pdHMgb2YgU0hJVCBwZXIgRVRICiAgICB1aW50MjU2IHB1YmxpYyBiYXNlVG9rZW5DYXBQZXJBZGRyZXNzOyAgLy8gQmFzZSB1c2VyIGNhcCBpbiBTSElUIHRva2VucwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgYmFzZUV0aENhcFBlckFkZHJlc3MgPSAxMDAwMDAwIGV0aGVyOyAgLy8gQmFzZSB1c2VyIGNhcCBpbiBFVEgKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGJsb2Nrc0luRmlyc3RDYXBQZXJpb2QgPSAxOyAgLy8gQmxvY2sgbGVuZ3RoIGZvciBmaXJzdCBjYXAgcGVyaW9kCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBibG9ja3NJblNlY29uZENhcFBlcmlvZCA9IDE7ICAvLyBCbG9jayBsZW5ndGggZm9yIHNlY29uZCBjYXAgcGVyaW9kCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBnYXNMaW1pdEluV2VpID0gNTEwMDAwMDAwMDAgd2VpOyAvLyAgR2FzIHByaWNlIGxpbWl0IGR1cmluZyBpbmRpdmlkdWFsIGNhcCBwZXJpb2QgCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBzaGl0RnVuZCA9IDEwMCAqICgxMCoqNikgKiB0b2tlblVuaXQ7ICAvLyAxMDBNIFNISVQgcmVzZXJ2ZWQgZm9yIGRldmVsb3BtZW50IGFuZCB1c2VyIGdyb3d0aCBmdW5kIAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgbWluQ2FwID0gMSAqIHRva2VuVW5pdDsgIC8vIDEwME0gbWluIGNhcCB0byBiZSBzb2xkIGR1cmluZyBzYWxlCgogICAgLyoKICAgICogIEV2ZW50cwogICAgKi8KICAgIGV2ZW50IFJlZnVuZFNlbnQoYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQ2xhaW1TSElUKGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKCiAgICBtb2RpZmllciBvbmx5QnkoYWRkcmVzcyBfYWNjb3VudCl7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IF9hY2NvdW50KTsgIAogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIG9ubHlCeShvd25lcikgZXh0ZXJuYWwgewogICAgICAgIG93bmVyID0gX25ld093bmVyOwogICAgfQoKICAgIG1vZGlmaWVyIG1pbkNhcFJlYWNoZWQoKSB7CiAgICAgICAgcmVxdWlyZShhc3NpZ25lZFN1cHBseSA+PSBtaW5DYXApOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgbWluQ2FwTm90UmVhY2hlZCgpIHsKICAgICAgICByZXF1aXJlKGFzc2lnbmVkU3VwcGx5IDwgbWluQ2FwKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIHJlc3BlY3RUaW1lRnJhbWUoKSB7CiAgICAgICAgcmVxdWlyZShibG9jay5udW1iZXIgPj0gc3RhcnRCbG9jayAmJiBibG9jay5udW1iZXIgPCBlbmRCbG9jayk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBzYWxlUGVyaW9kQ29tcGxldGVkKCkgewogICAgICAgIHJlcXVpcmUoYmxvY2subnVtYmVyID49IGVuZEJsb2NrIHx8IGFzc2lnbmVkU3VwcGx5LmFkZChzaGl0RnVuZCkgPT0gdG90YWxTdXBwbHkpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgaXNWYWxpZFN0YXRlKCkgewogICAgICAgIHJlcXVpcmUoIWlzRmluYWxpemVkICYmICFpc1N0b3BwZWQpOwogICAgICAgIF87CiAgICB9CgogICAgLyoKICAgICogIENvbnN0cnVjdG9yCiAgICAqLwogICAgZnVuY3Rpb24gU2hpdFRva2VuKAogICAgICAgIGFkZHJlc3MgX2V0aEZ1bmRBZGRyZXNzLAogICAgICAgIGFkZHJlc3MgX3NoaXRGdW5kQWRkcmVzcywKICAgICAgICB1aW50MjU2IF9zdGFydEJsb2NrLAogICAgICAgIHVpbnQyNTYgX2VuZEJsb2NrLAogICAgICAgIHVpbnQyNTYgX3Rva2VuRXhjaGFuZ2VSYXRlKSAKICAgICAgICBwdWJsaWMgCiAgICB7CiAgICAgICAgcmVxdWlyZShfc2hpdEZ1bmRBZGRyZXNzICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZShfZXRoRnVuZEFkZHJlc3MgIT0gMHgwKTsKICAgICAgICByZXF1aXJlKF9zdGFydEJsb2NrIDwgX2VuZEJsb2NrICYmIF9zdGFydEJsb2NrID4gYmxvY2subnVtYmVyKTsKCiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOyAvLyBDcmVhdG9yIG9mIGNvbnRyYWN0IGlzIG93bmVyCiAgICAgICAgaXNGaW5hbGl6ZWQgPSBmYWxzZTsgLy8gQ29udHJvbHMgcHJlLXNhbGUgc3RhdGUgdGhyb3VnaCBjcm93ZHNhbGUgc3RhdGUKICAgICAgICBpc1N0b3BwZWQgPSBmYWxzZTsgIC8vIENpcmN1aXQgYnJlYWtlciAob25seSB0byBiZSB1c2VkIGJ5IGNvbnRyYWN0IG93bmVyIGluIGNhc2Ugb2YgZW1lcmdlbmN5KQogICAgICAgIGV0aEZ1bmRBZGRyZXNzID0gX2V0aEZ1bmRBZGRyZXNzOwogICAgICAgIHNoaXRGdW5kQWRkcmVzcyA9IF9zaGl0RnVuZEFkZHJlc3M7CiAgICAgICAgc3RhcnRCbG9jayA9IF9zdGFydEJsb2NrOwogICAgICAgIGVuZEJsb2NrID0gX2VuZEJsb2NrOwogICAgICAgIHRva2VuRXhjaGFuZ2VSYXRlID0gX3Rva2VuRXhjaGFuZ2VSYXRlOwogICAgICAgIGJhc2VUb2tlbkNhcFBlckFkZHJlc3MgPSBiYXNlRXRoQ2FwUGVyQWRkcmVzcy5tdWwodG9rZW5FeGNoYW5nZVJhdGUpOwogICAgICAgIGZpcnN0Q2FwRW5kaW5nQmxvY2sgPSBzdGFydEJsb2NrLmFkZChibG9ja3NJbkZpcnN0Q2FwUGVyaW9kKTsKICAgICAgICBzZWNvbmRDYXBFbmRpbmdCbG9jayA9IGZpcnN0Q2FwRW5kaW5nQmxvY2suYWRkKGJsb2Nrc0luU2Vjb25kQ2FwUGVyaW9kKTsKICAgICAgICB0b3RhbFN1cHBseSA9IDEwMDAgKiAoMTAqKjYpICogdG9rZW5Vbml0OyAgLy8gMUIgdG90YWwgU0hJVCB0b2tlbnMKICAgICAgICBhc3NpZ25lZFN1cHBseSA9IDA7ICAvLyBTZXQgc3RhcnRpbmcgYXNzaWduZWQgc3VwcGx5IHRvIDAKICAgIH0KCiAgICAvLy8gQG5vdGljZSBTdG9wIHNhbGUgaW4gY2FzZSBvZiBlbWVyZ2VuY3kgKGkuZS4gY2lyY3VpdCBicmVha2VyKQogICAgLy8vIEBkZXYgT25seSBhbGxvd2VkIHRvIGJlIGNhbGxlZCBieSB0aGUgb3duZXIKICAgIGZ1bmN0aW9uIHN0b3BTYWxlKCkgb25seUJ5KG93bmVyKSBleHRlcm5hbCB7CiAgICAgICAgaXNTdG9wcGVkID0gdHJ1ZTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBSZXN0YXJ0IHNhbGUgaW4gY2FzZSBvZiBhbiBlbWVyZ2VuY3kgc3RvcAogICAgLy8vIEBkZXYgT25seSBhbGxvd2VkIHRvIGJlIGNhbGxlZCBieSB0aGUgb3duZXIKICAgIGZ1bmN0aW9uIHJlc3RhcnRTYWxlKCkgb25seUJ5KG93bmVyKSBleHRlcm5hbCB7CiAgICAgICAgaXNTdG9wcGVkID0gZmFsc2U7CiAgICB9CgogICAgLy8vIEBkZXYgRmFsbGJhY2sgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gYnV5IHRva2VucwogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSBwdWJsaWMgewogICAgICAgIGNsYWltVG9rZW5zKCk7CiAgICB9CgogICAgLy8vIEBub3RpY2UgQ3JlYXRlIGBtc2cudmFsdWVgIEVUSCB3b3J0aCBvZiBTSElUCiAgICAvLy8gQGRldiBPbmx5IGFsbG93ZWQgdG8gYmUgY2FsbGVkIHdpdGhpbiB0aGUgdGltZWZyYW1lIG9mIHRoZSBzYWxlIHBlcmlvZAogICAgZnVuY3Rpb24gY2xhaW1Ub2tlbnMoKSByZXNwZWN0VGltZUZyYW1lIGlzVmFsaWRTdGF0ZSBwYXlhYmxlIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPiAwKTsKCiAgICAgICAgdWludDI1NiB0b2tlbnMgPSBtc2cudmFsdWUubXVsKHRva2VuRXhjaGFuZ2VSYXRlKTsKCiAgICAgICAgcmVxdWlyZShpc1dpdGhpbkNhcCh0b2tlbnMpKTsKCiAgICAgICAgLy8gQ2hlY2sgdGhhdCB3ZSdyZSBub3Qgb3ZlciB0b3RhbHMKICAgICAgICB1aW50MjU2IGNoZWNrZWRTdXBwbHkgPSBhc3NpZ25lZFN1cHBseS5hZGQodG9rZW5zKTsKCiAgICAgICAgLy8gUmV0dXJuIG1vbmV5IGlmIHdlJ3JlIG92ZXIgdG90YWwgdG9rZW4gc3VwcGx5CiAgICAgICAgcmVxdWlyZShjaGVja2VkU3VwcGx5LmFkZChzaGl0RnVuZCkgPD0gdG90YWxTdXBwbHkpOyAKCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQodG9rZW5zKTsKICAgICAgICBwdXJjaGFzZXNbbXNnLnNlbmRlcl0gPSBwdXJjaGFzZXNbbXNnLnNlbmRlcl0uYWRkKHRva2Vucyk7CgogICAgICAgIGFzc2lnbmVkU3VwcGx5ID0gY2hlY2tlZFN1cHBseTsKICAgICAgICBDbGFpbVNISVQobXNnLnNlbmRlciwgdG9rZW5zKTsgIC8vIExvZ3MgdG9rZW4gY3JlYXRpb24gZm9yIFVJIHB1cnBvc2VzCiAgICAgICAgLy8gQXMgcGVyIEVSQzIwIHNwZWMsIGEgdG9rZW4gY29udHJhY3Qgd2hpY2ggY3JlYXRlcyBuZXcgdG9rZW5zIFNIT1VMRCB0cmlnZ2VyIGEgVHJhbnNmZXIgZXZlbnQgd2l0aCB0aGUgX2Zyb20gYWRkcmVzcwogICAgICAgIC8vIHNldCB0byAweDAgd2hlbiB0b2tlbnMgYXJlIGNyZWF0ZWQgKGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2Jsb2IvbWFzdGVyL0VJUFMvZWlwLTIwLXRva2VuLXN0YW5kYXJkLm1kKQogICAgICAgIFRyYW5zZmVyKDB4MCwgbXNnLnNlbmRlciwgdG9rZW5zKTsKICAgIH0KCiAgICAvLy8gQGRldiBDaGVja3MgaWYgdHJhbnNhY3Rpb24gbWVldHMgaW5kaXZpZHVhbCBjYXAgcmVxdWlyZW1lbnRzCiAgICBmdW5jdGlvbiBpc1dpdGhpbkNhcCh1aW50MjU2IHRva2VucykgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgLy8gUmV0dXJuIHRydWUgaWYgd2UndmUgcGFzc2VkIHRoZSBjYXAgcGVyaW9kCiAgICAgICAgaWYgKGJsb2NrLm51bWJlciA+PSBzZWNvbmRDYXBFbmRpbmdCbG9jaykgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIC8vIEVuc3VyZSB1c2VyIGlzIHVuZGVyIGdhcyBsaW1pdAogICAgICAgIHJlcXVpcmUodHguZ2FzcHJpY2UgPD0gZ2FzTGltaXRJbldlaSk7CiAgICAgICAgCiAgICAgICAgLy8gRW5zdXJlIHVzZXIgaXMgbm90IHB1cmNoYXNpbmcgbW9yZSB0b2tlbnMgdGhhbiBhbGxvd2VkCiAgICAgICAgaWYgKGJsb2NrLm51bWJlciA8IGZpcnN0Q2FwRW5kaW5nQmxvY2spIHsKICAgICAgICAgICAgcmV0dXJuIHB1cmNoYXNlc1ttc2cuc2VuZGVyXS5hZGQodG9rZW5zKSA8PSBiYXNlVG9rZW5DYXBQZXJBZGRyZXNzOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBwdXJjaGFzZXNbbXNnLnNlbmRlcl0uYWRkKHRva2VucykgPD0gYmFzZVRva2VuQ2FwUGVyQWRkcmVzcy5tdWwoNCk7CiAgICAgICAgfQogICAgfQoKCiAgICAvLy8gQG5vdGljZSBVcGRhdGVzIHJlZ2lzdHJhdGlvbiBzdGF0dXMgb2YgYW4gYWRkcmVzcyBmb3Igc2FsZSBwYXJ0aWNpcGF0aW9uCiAgICAvLy8gQHBhcmFtIHRhcmdldCBBZGRyZXNzIHRoYXQgd2lsbCBiZSByZWdpc3RlcmVkIG9yIGRlcmVnaXN0ZXJlZAogICAgLy8vIEBwYXJhbSBpc1JlZ2lzdGVyZWQgTmV3IHJlZ2lzdHJhdGlvbiBzdGF0dXMgb2YgYWRkcmVzcwogICAgZnVuY3Rpb24gY2hhbmdlUmVnaXN0cmF0aW9uU3RhdHVzKGFkZHJlc3MgdGFyZ2V0LCBib29sIGlzUmVnaXN0ZXJlZCkgcHVibGljIG9ubHlCeShvd25lcikgewogICAgICAgIHJlZ2lzdGVyZWRbdGFyZ2V0XSA9IGlzUmVnaXN0ZXJlZDsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBVcGRhdGVzIHJlZ2lzdHJhdGlvbiBzdGF0dXMgZm9yIG11bHRpcGxlIGFkZHJlc3NlcyBmb3IgcGFydGljaXBhdGlvbgogICAgLy8vIEBwYXJhbSB0YXJnZXRzIEFkZHJlc3NlcyB0aGF0IHdpbGwgYmUgcmVnaXN0ZXJlZCBvciBkZXJlZ2lzdGVyZWQKICAgIC8vLyBAcGFyYW0gaXNSZWdpc3RlcmVkIE5ldyByZWdpc3RyYXRpb24gc3RhdHVzIG9mIGFkZHJlc3NlcwogICAgZnVuY3Rpb24gY2hhbmdlUmVnaXN0cmF0aW9uU3RhdHVzZXMoYWRkcmVzc1tdIHRhcmdldHMsIGJvb2wgaXNSZWdpc3RlcmVkKSBwdWJsaWMgb25seUJ5KG93bmVyKSB7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgdGFyZ2V0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBjaGFuZ2VSZWdpc3RyYXRpb25TdGF0dXModGFyZ2V0c1tpXSwgaXNSZWdpc3RlcmVkKTsKICAgICAgICB9CiAgICB9CgogICAgLy8vIEBub3RpY2UgU2VuZHMgdGhlIEVUSCB0byBFVEggZnVuZCB3YWxsZXQgYW5kIGZpbmFsaXplcyB0aGUgdG9rZW4gc2FsZQogICAgZnVuY3Rpb24gZmluYWxpemUoKSBtaW5DYXBSZWFjaGVkIHNhbGVQZXJpb2RDb21wbGV0ZWQgaXNWYWxpZFN0YXRlIG9ubHlCeShvd25lcikgZXh0ZXJuYWwgewogICAgICAgIC8vIFVwb24gc3VjY2Vzc2Z1bCBjb21wbGV0aW9uIG9mIHNhbGUsIHNlbmQgdG9rZW5zIHRvIFNISVQgZnVuZAogICAgICAgIGJhbGFuY2VzW3NoaXRGdW5kQWRkcmVzc10gPSBiYWxhbmNlc1tzaGl0RnVuZEFkZHJlc3NdLmFkZChzaGl0RnVuZCk7CiAgICAgICAgYXNzaWduZWRTdXBwbHkgPSBhc3NpZ25lZFN1cHBseS5hZGQoc2hpdEZ1bmQpOwogICAgICAgIENsYWltU0hJVChzaGl0RnVuZEFkZHJlc3MsIHNoaXRGdW5kKTsgICAvLyBMb2cgdG9rZW5zIGNsYWltZWQgYnkgU0hJVCBJbnRlcm5hdGlvbmFsIFNISVQgZnVuZAogICAgICAgIFRyYW5zZmVyKDB4MCwgc2hpdEZ1bmRBZGRyZXNzLCBzaGl0RnVuZCk7CiAgICAgICAgCiAgICAgICAgLy8gSW4gdGhlIGNhc2Ugd2hlcmUgbm90IGFsbCAxMDBNIFNoaXQgYWxsb2NhdGVkIHRvIGNyb3dkZnVuZCBwYXJ0aWNpcGFudHMKICAgICAgICAvLyBpcyBzb2xkLCBzZW5kIHRoZSByZW1haW5pbmcgdW5hc3NpZ25lZCBzdXBwbHkgdG8gU2hpdCBmdW5kIGFkZHJlc3MsCiAgICAgICAgLy8gd2hpY2ggd2lsbCB0aGVuIGJlIHVzZWQgdG8gZnVuZCB0aGUgdXNlciBncm93dGggcG9vbC4KICAgICAgICBpZiAoYXNzaWduZWRTdXBwbHkgPCB0b3RhbFN1cHBseSkgewogICAgICAgICAgICB1aW50MjU2IHVuYXNzaWduZWRTdXBwbHkgPSB0b3RhbFN1cHBseS5zdWIoYXNzaWduZWRTdXBwbHkpOwogICAgICAgICAgICBiYWxhbmNlc1tzaGl0RnVuZEFkZHJlc3NdID0gYmFsYW5jZXNbc2hpdEZ1bmRBZGRyZXNzXS5hZGQodW5hc3NpZ25lZFN1cHBseSk7CiAgICAgICAgICAgIGFzc2lnbmVkU3VwcGx5ID0gYXNzaWduZWRTdXBwbHkuYWRkKHVuYXNzaWduZWRTdXBwbHkpOwoKICAgICAgICAgICAgQ2xhaW1TSElUKHNoaXRGdW5kQWRkcmVzcywgdW5hc3NpZ25lZFN1cHBseSk7ICAvLyBMb2cgdG9rZW5zIGNsYWltZWQgYnkgU2hpdCBJbnRlcm5hdGlvbmFsIFNISVQgZnVuZAogICAgICAgICAgICBUcmFuc2ZlcigweDAsIHNoaXRGdW5kQWRkcmVzcywgdW5hc3NpZ25lZFN1cHBseSk7CiAgICAgICAgfQoKICAgICAgICBldGhGdW5kQWRkcmVzcy50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwoKICAgICAgICBpc0ZpbmFsaXplZCA9IHRydWU7IC8vIEZpbmFsaXplIHNhbGUKICAgIH0KCiAgICAvLy8gQG5vdGljZSBBbGxvd3MgY29udHJpYnV0b3JzIHRvIHJlY292ZXIgdGhlaXIgRVRIIGluIHRoZSBjYXNlIG9mIGEgZmFpbGVkIHRva2VuIHNhbGUKICAgIC8vLyBAZGV2IE9ubHkgYWxsb3dlZCB0byBiZSBjYWxsZWQgb25jZSBzYWxlIHBlcmlvZCBpcyBvdmVyIElGIHRoZSBtaW4gY2FwIGlzIG5vdCByZWFjaGVkCiAgICAvLy8gQHJldHVybiBib29sIFRydWUgaWYgcmVmdW5kIHN1Y2Nlc3NmdWxseSBzZW50LCBmYWxzZSBvdGhlcndpc2UKICAgIGZ1bmN0aW9uIHJlZnVuZCgpIG1pbkNhcE5vdFJlYWNoZWQgc2FsZVBlcmlvZENvbXBsZXRlZCBpc1ZhbGlkU3RhdGUgZXh0ZXJuYWwgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSBzaGl0RnVuZEFkZHJlc3MpOyAgLy8gU2hpdCBJbnRlcm5hdGlvbmFsIG5vdCBlbnRpdGxlZCB0byBhIHJlZnVuZAoKICAgICAgICB1aW50MjU2IHNoaXRWYWwgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXTsKICAgICAgICByZXF1aXJlKHNoaXRWYWwgPiAwKTsgLy8gUHJldmVudCByZWZ1bmQgaWYgc2VuZGVyIFNoaXQgYmFsYW5jZSBpcyAwCgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKHNoaXRWYWwpOwogICAgICAgIGFzc2lnbmVkU3VwcGx5ID0gYXNzaWduZWRTdXBwbHkuc3ViKHNoaXRWYWwpOyAvLyBBZGp1c3QgYXNzaWduZWQgc3VwcGx5IHRvIGFjY291bnQgZm9yIHJlZnVuZGVkIGFtb3VudAogICAgICAgIAogICAgICAgIHVpbnQyNTYgZXRoVmFsID0gc2hpdFZhbC5kaXYodG9rZW5FeGNoYW5nZVJhdGUpOyAvLyBDb3ZlcnQgU2hpdCB0byBFVEgKCiAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihldGhWYWwpOwogICAgICAgIAogICAgICAgIFJlZnVuZFNlbnQobXNnLnNlbmRlciwgZXRoVmFsKTsgIC8vIExvZyBzdWNjZXNzZnVsIHJlZnVuZCAKICAgIH0KCiAgICAvKgogICAgICAgIE5PVEU6IFdlIGV4cGxpY2l0bHkgZG8gbm90IGRlZmluZSBhIGZhbGxiYWNrIGZ1bmN0aW9uLCBpbiBvcmRlciB0byBwcmV2ZW50IAogICAgICAgIHJlY2VpdmluZyBFdGhlciBmb3Igbm8gcmVhc29uLiBBcyBub3RlZCBpbiBTb2xpZGl0eSBkb2N1bWVudGF0aW9uLCBjb250cmFjdHMgCiAgICAgICAgdGhhdCByZWNlaXZlIEV0aGVyIGRpcmVjdGx5ICh3aXRob3V0IGEgZnVuY3Rpb24gY2FsbCwgaS5lLiB1c2luZyBzZW5kIG9yIHRyYW5zZmVyKQogICAgICAgIGJ1dCBkbyBub3QgZGVmaW5lIGEgZmFsbGJhY2sgZnVuY3Rpb24gdGhyb3cgYW4gZXhjZXB0aW9uLCBzZW5kaW5nIGJhY2sgdGhlIEV0aGVyICh0aGlzIHdhcyBkaWZmZXJlbnQgYmVmb3JlIFNvbGlkaXR5IHYwLjQuMCkuCiAgICAqLwp9'.
	

]
