Class {
	#name : #SRTc9320fbe0f9925f17221a461e1f0883cae1f109e,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc9320fbe0f9925f17221a461e1f0883cae1f109e >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgoKLyoqCiogQHRpdGxlIFNhZmVNYXRoCiogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKKi8KbGlicmFyeSBTYWZlTWF0aCB7CmZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nikgewp1aW50MjU2IGMgPSBhICogYjsKYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKcmV0dXJuIGM7Cn0KCmZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewovLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKdWludDI1NiBjID0gYSAvIGI7Ci8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCnJldHVybiBjOwp9CgpmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKYXNzZXJ0KGIgPD0gYSk7CnJldHVybiBhIC0gYjsKfQoKZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CnVpbnQyNTYgYyA9IGEgKyBiOwphc3NlcnQoYyA+PSBhKTsKcmV0dXJuIGM7Cn0KfQoKY29udHJhY3QgRVJDMjAgewp1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CmV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwpmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CmZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjAgewp1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCm1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwptb2RpZmllciBub25aZXJvRXRoKHVpbnQgX3ZhbHVlKSB7CnJlcXVpcmUoX3ZhbHVlID4gMCk7Cl87Cn0KCm1vZGlmaWVyIG9ubHlQYXlsb2FkU2l6ZSgpIHsKcmVxdWlyZShtc2cuZGF0YS5sZW5ndGggPj0gNjgpOwpfOwp9Ci8qKgoqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgoqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KKi8KCmZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgbm9uWmVyb0V0aChfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSByZXR1cm5zIChib29sKSB7CmlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pewpiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwpiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwpyZXR1cm4gdHJ1ZTsKfWVsc2V7CnJldHVybiBmYWxzZTsKfQp9CgovKioKKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAoqLwoKZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgbm9uWmVyb0V0aChfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSByZXR1cm5zIChib29sKSB7CmlmKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKXsKdWludDI1NiBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CmFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CmJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKcmV0dXJuIHRydWU7Cn1lbHNlewpyZXR1cm4gZmFsc2U7Cn0KfQoKCi8qKgoqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KKi8KCmZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CnJldHVybiBiYWxhbmNlc1tfb3duZXJdOwp9CgpmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CgovLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAovLyBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90Ci8vIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CnJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CkFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwpyZXR1cm4gdHJ1ZTsKfQoKLyoqCiogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgoqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWJsZSBmb3IgdGhlIHNwZW5kZXIuCiovCmZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07Cn0KCn0KCgpjb250cmFjdCBSUFRUb2tlbiBpcyBCYXNpY1Rva2VuIHsKCnVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKc3RyaW5nIHB1YmxpYyBuYW1lID0gIlJQVCBUb2tlbiI7IC8vbmFtZSBvZiB0aGUgdG9rZW4Kc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiUlBUIjsgLy8gc3ltYm9sIG9mIHRoZSB0b2tlbgp1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSAxODsgLy8gZGVjaW1hbHMKdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHkgPSAxMDAwMDAwMDAgKiAxMCoqMTg7IC8vIHRvdGFsIHN1cHBseSBvZiBSUFQgVG9rZW5zCgovLyB2YXJpYWJsZXMKdWludDI1NiBwdWJsaWMga2V5RW1wbG95ZWVBbGxvY2F0aW9uOyAvLyBmdW5kIGFsbG9jYXRlZCB0byBrZXkgZW1wbG95ZWUKdWludDI1NiBwdWJsaWMgdG90YWxBbGxvY2F0ZWRUb2tlbnM7IC8vIHZhcmlhYmxlIHRvIHJlZ3VsYXRlIHRoZSBmdW5kcyBhbGxvY2F0aW9uCnVpbnQyNTYgcHVibGljIHRva2Vuc0FsbG9jYXRlZFRvQ3Jvd2RGdW5kOyAvLyBmdW5kcyBhbGxvY2F0ZWQgdG8gY3Jvd2RmdW5kCgovLyBhZGRyZXNzZXMKYWRkcmVzcyBwdWJsaWMgZm91bmRlck11bHRpU2lnQWRkcmVzcyA9IDB4Zjk2RTkwNTA5MWQzOGNhMjVlMDZDMDE0ZkU2N2I1Q0E5MzllRTgzRDsgLy8gbXVsdGkgc2lnbiBhZGRyZXNzIG9mIGZvdW5kZXJzIHdoaWNoIGhvbGQKYWRkcmVzcyBwdWJsaWMgY3Jvd2RGdW5kQWRkcmVzczsgLy8gYWRkcmVzcyBvZiBjcm93ZGZ1bmQgY29udHJhY3QKCi8vZXZlbnRzCmV2ZW50IENoYW5nZUZvdW5kZXJzV2FsbGV0QWRkcmVzcyh1aW50MjU2IF9ibG9ja1RpbWVTdGFtcCwgYWRkcmVzcyBpbmRleGVkIF9mb3VuZGVyc1dhbGxldEFkZHJlc3MpOwpldmVudCBUcmFuc2ZlclByZUFsbG9jYXRlZEZ1bmRzKHVpbnQyNTYgX2Jsb2NrVGltZVN0YW1wICwgYWRkcmVzcyBfdG8gLCB1aW50MjU2IF92YWx1ZSk7CgovL21vZGlmaWVycwptb2RpZmllciBvbmx5Q3Jvd2RGdW5kQWRkcmVzcygpIHsKcmVxdWlyZShtc2cuc2VuZGVyID09IGNyb3dkRnVuZEFkZHJlc3MpOwpfOwp9Cgptb2RpZmllciBub25aZXJvQWRkcmVzcyhhZGRyZXNzIF90bykgewpyZXF1aXJlKF90byAhPSAweDApOwpfOwp9Cgptb2RpZmllciBvbmx5Rm91bmRlcnMoKSB7CnJlcXVpcmUobXNnLnNlbmRlciA9PSBmb3VuZGVyTXVsdGlTaWdBZGRyZXNzKTsKXzsKfQoKLy8gY3JlYXRpb24gb2YgdGhlIHRva2VuIGNvbnRyYWN0CmZ1bmN0aW9uIFJQVFRva2VuIChhZGRyZXNzIF9jcm93ZEZ1bmRBZGRyZXNzKSB7CmNyb3dkRnVuZEFkZHJlc3MgPSBfY3Jvd2RGdW5kQWRkcmVzczsKCi8vIFRva2VuIERpc3RyaWJ1dGlvbgp0b2tlbnNBbGxvY2F0ZWRUb0Nyb3dkRnVuZCA9IDcwICogMTAgKiogMjQ7IC8vIDcwICUgYWxsb2NhdGlvbiBvZiB0b3RhbFN1cHBseQprZXlFbXBsb3llZUFsbG9jYXRpb24gPSAzMCAqIDEwICoqIDI0OyAvLyAzMCAlIGFsbG9jYXRpb24gb2YgdG90YWxTdXBwbHkKCi8vIEFzc2lnbmVkIGJhbGFuY2VzIHRvIHJlc3BlY3RpdmUgc3Rha2Vob2xkZXJzCmJhbGFuY2VzW2ZvdW5kZXJNdWx0aVNpZ0FkZHJlc3NdID0ga2V5RW1wbG95ZWVBbGxvY2F0aW9uOwpiYWxhbmNlc1tjcm93ZEZ1bmRBZGRyZXNzXSA9IHRva2Vuc0FsbG9jYXRlZFRvQ3Jvd2RGdW5kOwoKdG90YWxBbGxvY2F0ZWRUb2tlbnMgPSBiYWxhbmNlc1tmb3VuZGVyTXVsdGlTaWdBZGRyZXNzXTsKfQoKLy8gZnVuY3Rpb24gdG8ga2VlcCB0cmFjayBvZiB0aGUgdG90YWwgdG9rZW4gYWxsb2NhdGlvbgpmdW5jdGlvbiBjaGFuZ2VUb3RhbFN1cHBseSh1aW50MjU2IF9hbW91bnQpIG9ubHlDcm93ZEZ1bmRBZGRyZXNzIHsKdG90YWxBbGxvY2F0ZWRUb2tlbnMgPSB0b3RhbEFsbG9jYXRlZFRva2Vucy5hZGQoX2Ftb3VudCk7Cn0KCi8vIGZ1bmN0aW9uIHRvIGNoYW5nZSBmb3VuZGVyIG11bHRpc2lnIHdhbGxldCBhZGRyZXNzCmZ1bmN0aW9uIGNoYW5nZUZvdW5kZXJNdWx0aVNpZ0FkZHJlc3MoYWRkcmVzcyBfbmV3Rm91bmRlck11bHRpU2lnQWRkcmVzcykgb25seUZvdW5kZXJzIG5vblplcm9BZGRyZXNzKF9uZXdGb3VuZGVyTXVsdGlTaWdBZGRyZXNzKSB7CmZvdW5kZXJNdWx0aVNpZ0FkZHJlc3MgPSBfbmV3Rm91bmRlck11bHRpU2lnQWRkcmVzczsKQ2hhbmdlRm91bmRlcnNXYWxsZXRBZGRyZXNzKG5vdywgZm91bmRlck11bHRpU2lnQWRkcmVzcyk7Cn0KCn0KCgpjb250cmFjdCBSUFRDcm93ZHNhbGUgewoKdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7ClJQVFRva2VuIHB1YmxpYyB0b2tlbjsgLy8gVG9rZW4gdmFyaWFibGUKLy92YXJpYWJsZXMKdWludDI1NiBwdWJsaWMgdG90YWxXZWlSYWlzZWQ7IC8vIEZsYWcgdG8gdHJhY2sgdGhlIGFtb3VudCByYWlzZWQKdWludDMyIHB1YmxpYyBleGNoYW5nZVJhdGUgPSAzMDAwOyAvLyBjYWxjdWxhdGVkIHVzaW5nIHByaWNlT2ZFdGhlckluVVNEL3ByaWNlT2ZSUFRUb2tlbgp1aW50MjU2IHB1YmxpYyBwcmVEaXN0cmlUb0FjcXVpYW50YW5jZXNTdGFydFRpbWUgPSAxNTEwODc2ODAxOyAvLyBGcmlkYXksIDE3LU5vdi0xNyAwMDowMDowMSBVVEMKdWludDI1NiBwdWJsaWMgcHJlRGlzdHJpVG9BY3F1aWFudGFuY2VzRW5kVGltZSA9IDE1MTE4MjcxOTk7IC8vIE1vbmRheSwgMjctTm92LTE3IDIzOjU5OjU5IFVUQwp1aW50MjU2IHB1YmxpYyBwcmVzYWxlU3RhcnRUaW1lID0gMTUxMTgyNzIwMDsgLy8gVHVlc2RheSwgMjgtTm92LTE3IDAwOjAwOjAwIFVUQwp1aW50MjU2IHB1YmxpYyBwcmVzYWxlRW5kVGltZSA9IDE1MTMwMzY3OTk7IC8vIE1vbmRheSwgMTEtRGVjLTE3IDIzOjU5OjU5IFVUQwp1aW50MjU2IHB1YmxpYyBjcm93ZGZ1bmRTdGFydFRpbWUgPSAxNTEzMDM2ODAwOyAvLyBUdWVzZGF5LCAxMi1EZWMtMTcgMDA6MDA6MDAgVVRDCnVpbnQyNTYgcHVibGljIGNyb3dkZnVuZEVuZFRpbWUgPSAxNTE1NjI4Nzk5OyAvLyBXZWRuZXNkYXksIDEwLUphbi0xOCAyMzo1OTo1OSBVVEMKYm9vbCBpbnRlcm5hbCBpc1Rva2VuRGVwbG95ZWQgPSBmYWxzZTsgLy8gRmxhZyB0byB0cmFjayB0aGUgdG9rZW4gZGVwbG95bWVudAovLyBhZGRyZXNzZXMKYWRkcmVzcyBwdWJsaWMgZm91bmRlck11bHRpU2lnQWRkcmVzczsgLy8gRm91bmRlcnMgbXVsdGkgc2lnbiBhZGRyZXNzCmFkZHJlc3MgcHVibGljIHJlbWFpbmluZ1Rva2VuSG9sZGVyOyAvLyBBZGRyZXNzIHRvIGhvbGQgdGhlIHJlbWFpbmluZyB0b2tlbnMgYWZ0ZXIgY3Jvd2RmdW5kIGVuZAphZGRyZXNzIHB1YmxpYyBiZW5lZmljaWFyeUFkZHJlc3M7IC8vIEFsbCBmdW5kcyBhcmUgdHJhbnNmZXJyZWQgdG8gdGhpcyBhZGRyZXNzCgplbnVtIFN0YXRlIHsgQWNxdWlhbnRhbmNlcywgUHJlU2FsZSwgQ3Jvd2RGdW5kLCBDbG9zZWQgfQoKLy9ldmVudHMKZXZlbnQgVG9rZW5QdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgYmVuZWZpY2lhcnksIHVpbnQyNTYgdmFsdWUsIHVpbnQyNTYgYW1vdW50KTsKZXZlbnQgQ3Jvd2RGdW5kQ2xvc2VkKHVpbnQyNTYgX2Jsb2NrVGltZVN0YW1wKTsKZXZlbnQgQ2hhbmdlRm91bmRlcnNXYWxsZXRBZGRyZXNzKHVpbnQyNTYgX2Jsb2NrVGltZVN0YW1wLCBhZGRyZXNzIGluZGV4ZWQgX2ZvdW5kZXJzV2FsbGV0QWRkcmVzcyk7Ci8vTW9kaWZpZXJzCm1vZGlmaWVyIHRva2VuSXNEZXBsb3llZCgpIHsKcmVxdWlyZShpc1Rva2VuRGVwbG95ZWQgPT0gdHJ1ZSk7Cl87Cn0KbW9kaWZpZXIgbm9uWmVyb0V0aCgpIHsKcmVxdWlyZShtc2cudmFsdWUgPiAwKTsKXzsKfQoKbW9kaWZpZXIgbm9uWmVyb0FkZHJlc3MoYWRkcmVzcyBfdG8pIHsKcmVxdWlyZShfdG8gIT0gMHgwKTsKXzsKfQoKbW9kaWZpZXIgb25seUZvdW5kZXJzKCkgewpyZXF1aXJlKG1zZy5zZW5kZXIgPT0gZm91bmRlck11bHRpU2lnQWRkcmVzcyk7Cl87Cn0KCm1vZGlmaWVyIG9ubHlQdWJsaWMoKSB7CnJlcXVpcmUobXNnLnNlbmRlciAhPSBmb3VuZGVyTXVsdGlTaWdBZGRyZXNzKTsKXzsKfQoKbW9kaWZpZXIgaW5TdGF0ZShTdGF0ZSBzdGF0ZSkgewpyZXF1aXJlKGdldFN0YXRlKCkgPT0gc3RhdGUpOwpfOwp9Cgptb2RpZmllciBpbkJldHdlZW4oKSB7CnJlcXVpcmUobm93ID49IHByZURpc3RyaVRvQWNxdWlhbnRhbmNlc1N0YXJ0VGltZSAmJiBub3cgPD0gY3Jvd2RmdW5kRW5kVGltZSk7Cl87Cn0KCi8vIENvbnN0cnVjdG9yIHRvIGluaXRpYWxpemUgdGhlIGxvY2FsIHZhcmlhYmxlcwpmdW5jdGlvbiBSUFRDcm93ZHNhbGUgKGFkZHJlc3MgX2ZvdW5kZXJXYWxsZXRBZGRyZXNzLCBhZGRyZXNzIF9yZW1haW5pbmdUb2tlbkhvbGRlciwgYWRkcmVzcyBfYmVuZWZpY2lhcnlBZGRyZXNzKSB7CmZvdW5kZXJNdWx0aVNpZ0FkZHJlc3MgPSBfZm91bmRlcldhbGxldEFkZHJlc3M7CnJlbWFpbmluZ1Rva2VuSG9sZGVyID0gX3JlbWFpbmluZ1Rva2VuSG9sZGVyOwpiZW5lZmljaWFyeUFkZHJlc3MgPSBfYmVuZWZpY2lhcnlBZGRyZXNzOwp9CgovLyBGdW5jdGlvbiB0byBjaGFuZ2UgdGhlIGZvdW5kZXJzIG11bHRpIHNpZ24gYWRkcmVzcwpmdW5jdGlvbiBzZXRGb3VuZGVyTXVsdGlTaWdBZGRyZXNzKGFkZHJlc3MgX25ld0ZvdW5kZXJBZGRyZXNzKSBvbmx5Rm91bmRlcnMgbm9uWmVyb0FkZHJlc3MoX25ld0ZvdW5kZXJBZGRyZXNzKSB7CmZvdW5kZXJNdWx0aVNpZ0FkZHJlc3MgPSBfbmV3Rm91bmRlckFkZHJlc3M7CkNoYW5nZUZvdW5kZXJzV2FsbGV0QWRkcmVzcyhub3csIGZvdW5kZXJNdWx0aVNpZ0FkZHJlc3MpOwp9Ci8vIEF0dGFjaCB0aGUgdG9rZW4gY29udHJhY3QKZnVuY3Rpb24gc2V0VG9rZW5BZGRyZXNzKGFkZHJlc3MgX3Rva2VuQWRkcmVzcykgZXh0ZXJuYWwgb25seUZvdW5kZXJzIG5vblplcm9BZGRyZXNzKF90b2tlbkFkZHJlc3MpIHsKcmVxdWlyZShpc1Rva2VuRGVwbG95ZWQgPT0gZmFsc2UpOwp0b2tlbiA9IFJQVFRva2VuKF90b2tlbkFkZHJlc3MpOwppc1Rva2VuRGVwbG95ZWQgPSB0cnVlOwp9CgoKLy8gZnVuY3Rpb24gY2FsbCBhZnRlciBjcm93ZEZ1bmRFbmRUaW1lIGl0IHRyYW5zZmVycyB0aGUgcmVtYWluaW5nIHRva2VucyB0byByZW1haW5pbmdUb2tlbkhvbGRlciBhZGRyZXNzCmZ1bmN0aW9uIGVuZENyb3dkZnVuZCgpIG9ubHlGb3VuZGVycyByZXR1cm5zIChib29sKSB7CnJlcXVpcmUobm93ID4gY3Jvd2RmdW5kRW5kVGltZSk7CnVpbnQyNTYgcmVtYWluaW5nVG9rZW4gPSB0b2tlbi5iYWxhbmNlT2YodGhpcyk7IC8vIHJlbWFpbmluZyB0b2tlbnMKCmlmIChyZW1haW5pbmdUb2tlbiAhPSAwKSB7CnRva2VuLnRyYW5zZmVyKHJlbWFpbmluZ1Rva2VuSG9sZGVyLCByZW1haW5pbmdUb2tlbik7CkNyb3dkRnVuZENsb3NlZChub3cpOwpyZXR1cm4gdHJ1ZTsKfSBlbHNlIHsKQ3Jvd2RGdW5kQ2xvc2VkKG5vdyk7CnJldHVybiBmYWxzZTsKfQp9CgovLyBCdXkgdG9rZW4gZnVuY3Rpb24gY2FsbCBvbmx5IGluIGR1cmF0aW9uIG9mIGNyb3dkZnVuZCBhY3RpdmUKZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgYmVuZWZpY2lhcnkpCm5vblplcm9FdGgKdG9rZW5Jc0RlcGxveWVkCm9ubHlQdWJsaWMKbm9uWmVyb0FkZHJlc3MoYmVuZWZpY2lhcnkpCmluQmV0d2VlbgpwYXlhYmxlCnB1YmxpYwpyZXR1cm5zKGJvb2wpCnsKZnVuZFRyYW5zZmVyKG1zZy52YWx1ZSk7Cgp1aW50MjU2IGFtb3VudCA9IGdldE5vT2ZUb2tlbnMoZXhjaGFuZ2VSYXRlLCBtc2cudmFsdWUpOwppZiAodG9rZW4udHJhbnNmZXIoYmVuZWZpY2lhcnksIGFtb3VudCkpIHsKdG9rZW4uY2hhbmdlVG90YWxTdXBwbHkoYW1vdW50KTsKdG90YWxXZWlSYWlzZWQgPSB0b3RhbFdlaVJhaXNlZC5hZGQobXNnLnZhbHVlKTsKVG9rZW5QdXJjaGFzZShiZW5lZmljaWFyeSwgbXNnLnZhbHVlLCBhbW91bnQpOwpyZXR1cm4gdHJ1ZTsKfQpyZXR1cm4gZmFsc2U7Cn0KCgovLyBmdW5jdGlvbiB0byB0cmFuc2ZlciB0aGUgZnVuZHMgdG8gZm91bmRlcnMgYWNjb3VudApmdW5jdGlvbiBmdW5kVHJhbnNmZXIodWludDI1NiB3ZWlBbW91bnQpIGludGVybmFsIHsKYmVuZWZpY2lhcnlBZGRyZXNzLnRyYW5zZmVyKHdlaUFtb3VudCk7Cn0KCi8vIEdldCBmdW5jdGlvbnMKCi8vIGZ1bmN0aW9uIHRvIGdldCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgY3Jvd2RzYWxlCmZ1bmN0aW9uIGdldFN0YXRlKCkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyhTdGF0ZSkgewppZiAobm93ID49IHByZURpc3RyaVRvQWNxdWlhbnRhbmNlc1N0YXJ0VGltZSAmJiBub3cgPD0gcHJlRGlzdHJpVG9BY3F1aWFudGFuY2VzRW5kVGltZSkgewpyZXR1cm4gU3RhdGUuQWNxdWlhbnRhbmNlczsKfSBpZiAobm93ID49IHByZXNhbGVTdGFydFRpbWUgJiYgbm93IDw9IHByZXNhbGVFbmRUaW1lKSB7CnJldHVybiBTdGF0ZS5QcmVTYWxlOwp9IGlmIChub3cgPj0gY3Jvd2RmdW5kU3RhcnRUaW1lICYmIG5vdyA8PSBjcm93ZGZ1bmRFbmRUaW1lKSB7CnJldHVybiBTdGF0ZS5Dcm93ZEZ1bmQ7Cn0gZWxzZSB7CnJldHVybiBTdGF0ZS5DbG9zZWQ7Cn0KfQoKCi8vIGZ1bmN0aW9uIHRvIGNhbGN1bGF0ZSB0aGUgdG90YWwgbm8gb2YgdG9rZW5zIHdpdGggYm9udXMgbXVsdGlwbGljYXRpb24KZnVuY3Rpb24gZ2V0Tm9PZlRva2Vucyh1aW50MzIgX2V4Y2hhbmdlUmF0ZSwgdWludDI1NiBfYW1vdW50KSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CnVpbnQyNTYgbm9PZlRva2VuID0gX2Ftb3VudC5tdWwodWludDI1NihfZXhjaGFuZ2VSYXRlKSk7CnVpbnQyNTYgbm9PZlRva2VuV2l0aEJvbnVzID0gKCh1aW50MjU2KDEwMCArIGdldEN1cnJlbnRCb251c1JhdGUoKSkpLm11bChub09mVG9rZW4pKS5kaXYoMTAwKTsKcmV0dXJuIG5vT2ZUb2tlbldpdGhCb251czsKfQoKCi8vIGZ1bmN0aW9uIHByb3ZpZGUgdGhlIGN1cnJlbnQgYm9udXMgcmF0ZQpmdW5jdGlvbiBnZXRDdXJyZW50Qm9udXNSYXRlKCkgaW50ZXJuYWwgcmV0dXJucyAodWludDgpIHsKaWYgKGdldFN0YXRlKCkgPT0gU3RhdGUuQWNxdWlhbnRhbmNlcykgewpyZXR1cm4gNDA7Cn0KaWYgKGdldFN0YXRlKCkgPT0gU3RhdGUuUHJlU2FsZSkgewpyZXR1cm4gMjA7Cn0KaWYgKGdldFN0YXRlKCkgPT0gU3RhdGUuQ3Jvd2RGdW5kKSB7CnJldHVybiAwOwp9IGVsc2UgewpyZXR1cm4gMDsKfQp9CgovLyBwcm92aWRlcyB0aGUgYm9udXMgJQpmdW5jdGlvbiBnZXRCb251cygpIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4KSB7CnJldHVybiBnZXRDdXJyZW50Qm9udXNSYXRlKCk7Cn0KCi8vIHNlbmQgZXRoZXIgdG8gdGhlIGNvbnRyYWN0IGFkZHJlc3MKLy8gV2l0aCBhdCBsZWFzdCAyMDAgMDAwIGdhcwpmdW5jdGlvbigpIHB1YmxpYyBwYXlhYmxlIHsKYnV5VG9rZW5zKG1zZy5zZW5kZXIpOwp9Cn0='.
	

]
