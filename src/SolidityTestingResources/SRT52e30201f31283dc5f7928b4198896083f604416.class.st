Class {
	#name : #SRT52e30201f31283dc5f7928b4198896083f604416,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT52e30201f31283dc5f7928b4198896083f604416 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7Cgpjb250cmFjdCBTYWZlTWF0aCB7CiAgLy9pbnRlcm5hbHMKCiAgZnVuY3Rpb24gc2FmZU11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIHNhZmVBZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGM+PWEgJiYgYz49Yik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHNhZmVEaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgYXNzZXJ0KGIgPiAwKTsKICAgICAgdWludCBjID0gYSAvIGI7CiAgICAgIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOwogICAgICByZXR1cm4gYzsKICB9Cn0KCi8vIEVSQyAyMCBUb2tlbgovLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKCmNvbnRyYWN0IFRva2VuIHsKICAgIC8qIFRoaXMgaXMgYSBzbGlnaHQgY2hhbmdlIHRvIHRoZSBFUkMyMCBiYXNlIHN0YW5kYXJkLgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSk7CiAgICBpcyByZXBsYWNlZCB3aXRoOgogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICBUaGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBhIGdldHRlciBmdW5jdGlvbiBmb3IgdGhlIHRvdGFsU3VwcGx5LgogICAgVGhpcyBpcyBtb3ZlZCB0byB0aGUgYmFzZSBjb250cmFjdCBzaW5jZSBwdWJsaWMgZ2V0dGVyIGZ1bmN0aW9ucyBhcmUgbm90CiAgICBjdXJyZW50bHkgcmVjb2duaXNlZCBhcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgbWF0Y2hpbmcgYWJzdHJhY3QKICAgIGZ1bmN0aW9uIGJ5IHRoZSBjb21waWxlci4KICAgICovCiAgICAvLy8gdG90YWwgYW1vdW50IG9mIHRva2VucwogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgZnJvbSB3aGljaCB0aGUgYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZAogICAgLy8vIEByZXR1cm4gVGhlIGJhbGFuY2UKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKCiAgICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYG1zZy5zZW5kZXJgCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYF9mcm9tYCBvbiB0aGUgY29uZGl0aW9uIGl0IGlzIGFwcHJvdmVkIGJ5IGBfZnJvbWAKICAgIC8vLyBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX3NwZW5kZXJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2ZlcgogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IG93bmluZyB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAvLy8gQHJldHVybiBBbW91bnQgb2YgcmVtYWluaW5nIHRva2VucyBhbGxvd2VkIHRvIHNwZW50CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwp9Cgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIFRva2VuIHsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vRGVmYXVsdCBhc3N1bWVzIHRvdGFsU3VwcGx5IGNhbid0IGJlIG92ZXIgbWF4ICgyXjI1NiAtIDEpLgogICAgICAgIC8vSWYgeW91ciB0b2tlbiBsZWF2ZXMgb3V0IHRvdGFsU3VwcGx5IGFuZCBjYW4gaXNzdWUgbW9yZSB0b2tlbnMgYXMgdGltZSBnb2VzIG9uLCB5b3UgbmVlZCB0byBjaGVjayBpZiBpdCBkb2Vzbid0IHdyYXAuCiAgICAgICAgLy9SZXBsYWNlIHRoZSBpZiB3aXRoIHRoaXMgb25lIGluc3RlYWQuCiAgICAgICAgLy9pZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy9zYW1lIGFzIGFib3ZlLiBSZXBsYWNlIHRoaXMgbGluZSB3aXRoIHRoZSBmb2xsb3dpbmcgaWYgeW91IHdhbnQgdG8gcHJvdGVjdCBhZ2FpbnN0IHdyYXBwaW5nIHVpbnRzLgogICAgICAgIC8vaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7Cn0KCgovKioKICogTW9sZENvaW4gcHJlLXNlbGwgY29udHJhY3QuCiAqCiAqLwpjb250cmFjdCBNb2xkQ29pbiBpcyBTdGFuZGFyZFRva2VuLCBTYWZlTWF0aCB7CgogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIk1PTEQiOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiTUxEIjsKICAgIHVpbnQgcHVibGljIGRlY2ltYWxzID0gMTg7CgogICAgdWludCBwdWJsaWMgc3RhcnREYXRldGltZTsgLy9wcmUtc2VsbCBzdGFydCBkYXRldGltZSBzZWNvbmRzCiAgICB1aW50IHB1YmxpYyBmaXJzdFN0YWdlRGF0ZXRpbWU7IC8vZmlyc3QgMTIwIGhvdXJzIHByZS1zZWxsIGluIHNlY29uZHMKICAgIHVpbnQgcHVibGljIHNlY29uZFN0YWdlRGF0ZXRpbWU7IC8vc2Vjb25kIHN0YWdlLCAyNDAgaG91cnMgb2YgcHJlLXNlbGwgaW4gc2Vjb25kcy4KICAgIHVpbnQgcHVibGljIGVuZERhdGV0aW1lOyAvL3ByZS1zZWxsIGVuZCBkYXRldGltZSBzZWNvbmRzIChzZXQgaW4gY29uc3RydWN0b3IpCgogICAgLy8gSW5pdGlhbCBmb3VuZGVyIGFkZHJlc3MgKHNldCBpbiBjb25zdHJ1Y3RvcikKICAgIC8vIEFsbCBkZXBvc2l0ZWQgRVRIIHdpbGwgYmUgaW5zdGFudGx5IGZvcndhcmRlZCB0byB0aGlzIGFkZHJlc3MuCiAgICBhZGRyZXNzIHB1YmxpYyBmb3VuZGVyOwoKICAgIC8vIGFkbWluaXN0cmF0b3IgYWRkcmVzcwogICAgYWRkcmVzcyBwdWJsaWMgYWRtaW47CgogICAgdWludCBwdWJsaWMgY29pbkFsbG9jYXRpb24gPSAyMCAqIDEwKio4ICogMTAqKmRlY2ltYWxzOyAvLzIwMDBNIHRva2VucyBzdXBwbHkgZm9yIHByZS1zZWxsCiAgICB1aW50IHB1YmxpYyBhbmdlbEFsbG9jYXRpb24gPSAyICogMTAqKjggKiAxMCoqZGVjaW1hbHM7IC8vIDIwME0gb2YgdG9rZW4gc3VwcGx5IGFsbG9jYXRlZCBhbmdlbCBpbnZlc3RvcgogICAgdWludCBwdWJsaWMgZm91bmRlckFsbG9jYXRpb24gPSAzICogMTAqKjggKiAxMCoqZGVjaW1hbHM7IC8vMzAwTSBvZiB0b2tlbiBzdXBwbHkgYWxsb2NhdGVkIGZvciB0aGUgZm91bmRlciBhbGxvY2F0aW9uCgogICAgYm9vbCBwdWJsaWMgZm91bmRlckFsbG9jYXRlZCA9IGZhbHNlOyAvL3RoaXMgd2lsbCBjaGFuZ2UgdG8gdHJ1ZSB3aGVuIHRoZSBmb3VuZGVyIGZ1bmQgaXMgYWxsb2NhdGVkCgogICAgdWludCBwdWJsaWMgc2FsZVRva2VuU3VwcGx5ID0gMDsgLy90aGlzIHdpbGwga2VlcCB0cmFjayBvZiB0aGUgdG9rZW4gc3VwcGx5IGNyZWF0ZWQgZHVyaW5nIHRoZSBwcmUtc2VsbAogICAgdWludCBwdWJsaWMgc2FsZXNWb2x1bWUgPSAwOyAvL3RoaXMgd2lsbCBrZWVwIHRyYWNrIG9mIHRoZSBFdGhlciByYWlzZWQgZHVyaW5nIHRoZSBwcmUtc2VsbAoKICAgIHVpbnQgcHVibGljIGFuZ2VsVG9rZW5TdXBwbHkgPSAwOyAvL3RoaXMgd2lsbCBrZWVwIHRyYWNrIG9mIHRoZSB0b2tlbiBhbmdlbCBzdXBwbHkKCiAgICBib29sIHB1YmxpYyBoYWx0ZWQgPSBmYWxzZTsgLy90aGUgYWRtaW4gYWRkcmVzcyBjYW4gc2V0IHRoaXMgdG8gdHJ1ZSB0byBoYWx0IHRoZSBwcmUtc2VsbCBkdWUgdG8gZW1lcmdlbmN5CgogICAgZXZlbnQgQnV5KGFkZHJlc3MgaW5kZXhlZCBzZW5kZXIsIHVpbnQgZXRoLCB1aW50IHRva2Vucyk7CiAgICBldmVudCBBbGxvY2F0ZUZvdW5kZXJUb2tlbnMoYWRkcmVzcyBpbmRleGVkIHNlbmRlciwgdWludCB0b2tlbnMpOwogICAgZXZlbnQgQWxsb2NhdGVBbmdlbFRva2VucyhhZGRyZXNzIGluZGV4ZWQgc2VuZGVyLCBhZGRyZXNzIHRvLCB1aW50IHRva2Vucyk7CiAgICBldmVudCBBbGxvY2F0ZVVuc29sZFRva2VucyhhZGRyZXNzIGluZGV4ZWQgc2VuZGVyLCBhZGRyZXNzIGhvbGRlciwgdWludCB0b2tlbnMpOwoKICAgIG1vZGlmaWVyIG9ubHlBZG1pbiB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGFkbWluKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIGR1cmluZ0Nyb3dkU2FsZSB7CiAgICAgICAgcmVxdWlyZShibG9jay50aW1lc3RhbXAgPj0gc3RhcnREYXRldGltZSAmJiBibG9jay50aW1lc3RhbXAgPD0gZW5kRGF0ZXRpbWUpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKgogICAgICogSW50ZWdlciB2YWx1ZSByZXByZXNlbnRpbmcgdGhlIG51bWJlciBvZiBzZWNvbmRzIHNpbmNlIDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQwogICAgICovCiAgICBmdW5jdGlvbiBNb2xkQ29pbih1aW50IHN0YXJ0RGF0ZXRpbWVJblNlY29uZHMsIGFkZHJlc3MgZm91bmRlcldhbGxldCkgewoKICAgICAgICBhZG1pbiA9IG1zZy5zZW5kZXI7CiAgICAgICAgZm91bmRlciA9IGZvdW5kZXJXYWxsZXQ7CiAgICAgICAgc3RhcnREYXRldGltZSA9IHN0YXJ0RGF0ZXRpbWVJblNlY29uZHM7CiAgICAgICAgZmlyc3RTdGFnZURhdGV0aW1lID0gc3RhcnREYXRldGltZSArIDEyMCAqIDEgaG91cnM7CiAgICAgICAgc2Vjb25kU3RhZ2VEYXRldGltZSA9IGZpcnN0U3RhZ2VEYXRldGltZSArIDI0MCAqIDEgaG91cnM7CiAgICAgICAgZW5kRGF0ZXRpbWUgPSBzZWNvbmRTdGFnZURhdGV0aW1lICsgMjA0MCAqIDEgaG91cnM7CgogICAgfQoKICAgIC8qKgogICAgICogUHJpY2UgZm9yIGNyb3dkc2FsZSBieSB0aW1lCiAgICAgKi8KICAgIGZ1bmN0aW9uIHByaWNlKHVpbnQgdGltZUluU2Vjb25kcykgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICAgICAgaWYgKHRpbWVJblNlY29uZHMgPCBzdGFydERhdGV0aW1lKSByZXR1cm4gMDsKICAgICAgICBpZiAodGltZUluU2Vjb25kcyA8PSBmaXJzdFN0YWdlRGF0ZXRpbWUpIHJldHVybiAxNTAwMDsgLy8xMjAgaG91cnMKICAgICAgICBpZiAodGltZUluU2Vjb25kcyA8PSBzZWNvbmRTdGFnZURhdGV0aW1lKSByZXR1cm4gMTIwMDA7IC8vMjQwIGhvdXJzCiAgICAgICAgaWYgKHRpbWVJblNlY29uZHMgPD0gZW5kRGF0ZXRpbWUpIHJldHVybiAxMDAwMDsgLy8yMDQwIGhvdXJzCiAgICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgLyoqCiAgICAgKiBhbGxvdyBhbnlvbmUgc2VuZHMgZnVuZHMgdG8gdGhlIGNvbnRyYWN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIGJ1eSgpIHBheWFibGUgewogICAgICAgIGJ1eVJlY2lwaWVudChtc2cuc2VuZGVyKTsKICAgIH0KCiAgICBmdW5jdGlvbigpIHBheWFibGUgewogICAgICAgIGJ1eVJlY2lwaWVudChtc2cuc2VuZGVyKTsKICAgIH0KCiAgICAvKioKICAgICAqIE1haW4gdG9rZW4gYnV5IGZ1bmN0aW9uLgogICAgICogQnV5IGZvciB0aGUgc2VuZGVyIGl0c2VsZiBvciBidXkgb24gdGhlIGJlaGFsZiBvZiBzb21lYm9keSBlbHNlICh0aGlyZCBwYXJ0eSBhZGRyZXNzKS4KICAgICAqLwogICAgZnVuY3Rpb24gYnV5UmVjaXBpZW50KGFkZHJlc3MgcmVjaXBpZW50KSBkdXJpbmdDcm93ZFNhbGUgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZSghaGFsdGVkKTsKCiAgICAgICAgdWludCB0b2tlbnMgPSBzYWZlTXVsKG1zZy52YWx1ZSwgcHJpY2UoYmxvY2sudGltZXN0YW1wKSk7CiAgICAgICAgcmVxdWlyZShzYWZlQWRkKHNhbGVUb2tlblN1cHBseSx0b2tlbnMpPD1jb2luQWxsb2NhdGlvbiApOwoKICAgICAgICBiYWxhbmNlc1tyZWNpcGllbnRdID0gc2FmZUFkZChiYWxhbmNlc1tyZWNpcGllbnRdLCB0b2tlbnMpOwoKICAgICAgICB0b3RhbFN1cHBseSA9IHNhZmVBZGQodG90YWxTdXBwbHksIHRva2Vucyk7CiAgICAgICAgc2FsZVRva2VuU3VwcGx5ID0gc2FmZUFkZChzYWxlVG9rZW5TdXBwbHksIHRva2Vucyk7CiAgICAgICAgc2FsZXNWb2x1bWUgPSBzYWZlQWRkKHNhbGVzVm9sdW1lLCBtc2cudmFsdWUpOwoKICAgICAgICBpZiAoIWZvdW5kZXIuY2FsbC52YWx1ZShtc2cudmFsdWUpKCkpIHJldmVydCgpOyAvL2ltbWVkaWF0ZWx5IHNlbmQgRXRoZXIgdG8gZm91bmRlciBhZGRyZXNzCgogICAgICAgIEJ1eShyZWNpcGllbnQsIG1zZy52YWx1ZSwgdG9rZW5zKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB1cCBmb3VuZGVyIGFkZHJlc3MgdG9rZW4gYmFsYW5jZS4KICAgICAqLwogICAgZnVuY3Rpb24gYWxsb2NhdGVGb3VuZGVyVG9rZW5zKCkgb25seUFkbWluIHsKICAgICAgICByZXF1aXJlKCBibG9jay50aW1lc3RhbXAgPiBlbmREYXRldGltZSApOwogICAgICAgIHJlcXVpcmUoIWZvdW5kZXJBbGxvY2F0ZWQpOwoKICAgICAgICBiYWxhbmNlc1tmb3VuZGVyXSA9IHNhZmVBZGQoYmFsYW5jZXNbZm91bmRlcl0sIGZvdW5kZXJBbGxvY2F0aW9uKTsKICAgICAgICB0b3RhbFN1cHBseSA9IHNhZmVBZGQodG90YWxTdXBwbHksIGZvdW5kZXJBbGxvY2F0aW9uKTsKICAgICAgICBmb3VuZGVyQWxsb2NhdGVkID0gdHJ1ZTsKCiAgICAgICAgQWxsb2NhdGVGb3VuZGVyVG9rZW5zKG1zZy5zZW5kZXIsIGZvdW5kZXJBbGxvY2F0aW9uKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB1cCBhbmdlbCBhZGRyZXNzIHRva2VuIGJhbGFuY2UuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFsbG9jYXRlQW5nZWxUb2tlbnMoYWRkcmVzcyBhbmdlbCwgdWludCB0b2tlbnMpIG9ubHlBZG1pbiB7CgogICAgICAgIHJlcXVpcmUoc2FmZUFkZChhbmdlbFRva2VuU3VwcGx5LHRva2VucykgPD0gYW5nZWxBbGxvY2F0aW9uICk7CgogICAgICAgIGJhbGFuY2VzW2FuZ2VsXSA9IHNhZmVBZGQoYmFsYW5jZXNbYW5nZWxdLCB0b2tlbnMpOwogICAgICAgIGFuZ2VsVG9rZW5TdXBwbHkgPSBzYWZlQWRkKGFuZ2VsVG9rZW5TdXBwbHksIHRva2Vucyk7CiAgICAgICAgdG90YWxTdXBwbHkgPSBzYWZlQWRkKHRvdGFsU3VwcGx5LCB0b2tlbnMpOwoKICAgICAgICBBbGxvY2F0ZUFuZ2VsVG9rZW5zKG1zZy5zZW5kZXIsIGFuZ2VsLCB0b2tlbnMpOwogICAgfQoKICAgIC8qKgogICAgICogRW1lcmdlbmN5IFN0b3AgY3Jvd2RzYWxlLgogICAgICovCiAgICBmdW5jdGlvbiBoYWx0KCkgb25seUFkbWluIHsKICAgICAgICBoYWx0ZWQgPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHVuaGFsdCgpIG9ubHlBZG1pbiB7CiAgICAgICAgaGFsdGVkID0gZmFsc2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBDaGFuZ2UgYWRtaW4gYWRkcmVzcy4KICAgICAqLwogICAgZnVuY3Rpb24gY2hhbmdlQWRtaW4oYWRkcmVzcyBuZXdBZG1pbikgb25seUFkbWluICB7CiAgICAgICAgYWRtaW4gPSBuZXdBZG1pbjsKICAgIH0KCiAgICAvKioKICAgICAqIGFycmFuZ2UgdW5zb2xkIGNvaW5zCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFycmFuZ2VVbnNvbGRUb2tlbnMoYWRkcmVzcyBob2xkZXIsIHVpbnQyNTYgdG9rZW5zKSBvbmx5QWRtaW4gewogICAgICAgIHJlcXVpcmUoIGJsb2NrLnRpbWVzdGFtcCA+IGVuZERhdGV0aW1lICk7CiAgICAgICAgcmVxdWlyZSggc2FmZUFkZChzYWxlVG9rZW5TdXBwbHksdG9rZW5zKSA8PSBjb2luQWxsb2NhdGlvbiApOwogICAgICAgIHJlcXVpcmUoIGJhbGFuY2VzW2hvbGRlcl0gPjAgKTsKCiAgICAgICAgYmFsYW5jZXNbaG9sZGVyXSA9IHNhZmVBZGQoYmFsYW5jZXNbaG9sZGVyXSwgdG9rZW5zKTsKICAgICAgICBzYWxlVG9rZW5TdXBwbHkgPSBzYWZlQWRkKHNhbGVUb2tlblN1cHBseSwgdG9rZW5zKTsKICAgICAgICB0b3RhbFN1cHBseSA9IHNhZmVBZGQodG90YWxTdXBwbHksIHRva2Vucyk7CgogICAgICAgIEFsbG9jYXRlVW5zb2xkVG9rZW5zKG1zZy5zZW5kZXIsIGhvbGRlciwgdG9rZW5zKTsKCiAgICB9Cgp9'.
	

]
