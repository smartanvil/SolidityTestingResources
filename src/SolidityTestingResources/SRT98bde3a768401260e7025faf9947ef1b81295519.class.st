Class {
	#name : #SRT98bde3a768401260e7025faf9947ef1b81295519,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT98bde3a768401260e7025faf9947ef1b81295519 >> base64 [
	^ 'LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogVGhpcyBjb250cmFjdCBoYXMgYmVlbiBtZXJnZWQgd2l0aCBzb2xpZGlmeQogKiBodHRwczovL2dpdGh1Yi5jb20vdGllc25ldHdvcmsvc29saWRpZnkKICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiAKIHByYWdtYSBzb2xpZGl0eSBeMC40LjEwOwoKLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogaW1wb3J0ICIuLi9jb21tb24vTWFuYWdlYWJsZS5zb2wiIDogc3RhcnQKICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBpbXBvcnQgIi4uL2NvbW1vbi9Pd25lZC5zb2wiIDogc3RhcnQKICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgoKY29udHJhY3QgT3duZWQgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7ICAgICAgICAKCiAgICBmdW5jdGlvbiBPd25lZCgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgLy8gYWxsb3dzIGV4ZWN1dGlvbiBieSB0aGUgb3duZXIgb25seQogICAgbW9kaWZpZXIgb3duZXJPbmx5IHsKICAgICAgICBhc3NlcnQobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKipAZGV2IGFsbG93cyB0cmFuc2ZlcnJpbmcgdGhlIGNvbnRyYWN0IG93bmVyc2hpcC4gKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBwdWJsaWMgb3duZXJPbmx5IHsKICAgICAgICByZXF1aXJlKF9uZXdPd25lciAhPSBvd25lcik7CiAgICAgICAgb3duZXIgPSBfbmV3T3duZXI7CiAgICB9Cn0KLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogaW1wb3J0ICIuLi9jb21tb24vT3duZWQuc29sIiA6IGVuZAogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCi8vL0EgdG9rZW4gdGhhdCBoYXZlIGFuIG93bmVyIGFuZCBhIGxpc3Qgb2YgbWFuYWdlcnMgdGhhdCBjYW4gcGVyZm9ybSBzb21lIG9wZXJhdGlvbnMKLy8vT3duZXIgaXMgYWx3YXlzIGEgbWFuYWdlciB0b28KY29udHJhY3QgTWFuYWdlYWJsZSBpcyBPd25lZCB7CgogICAgZXZlbnQgTWFuYWdlclNldChhZGRyZXNzIG1hbmFnZXIsIGJvb2wgc3RhdGUpOwoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIG1hbmFnZXJzOwoKICAgIGZ1bmN0aW9uIE1hbmFnZWFibGUoKSBPd25lZCgpIHsKICAgICAgICBtYW5hZ2Vyc1tvd25lcl0gPSB0cnVlOwogICAgfQoKICAgIC8qKkBkZXYgQWxsb3dzIGV4ZWN1dGlvbiBieSBtYW5hZ2VycyBvbmx5ICovCiAgICBtb2RpZmllciBtYW5hZ2VyT25seSB7CiAgICAgICAgYXNzZXJ0KG1hbmFnZXJzW21zZy5zZW5kZXJdKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBwdWJsaWMgb3duZXJPbmx5IHsKICAgICAgICBzdXBlci50cmFuc2Zlck93bmVyc2hpcChfbmV3T3duZXIpOwoKICAgICAgICBtYW5hZ2Vyc1tfbmV3T3duZXJdID0gdHJ1ZTsKICAgICAgICBtYW5hZ2Vyc1ttc2cuc2VuZGVyXSA9IGZhbHNlOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldE1hbmFnZXIoYWRkcmVzcyBtYW5hZ2VyLCBib29sIHN0YXRlKSBvd25lck9ubHkgewogICAgICAgIG1hbmFnZXJzW21hbmFnZXJdID0gc3RhdGU7CiAgICAgICAgTWFuYWdlclNldChtYW5hZ2VyLCBzdGF0ZSk7CiAgICB9Cn0vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBpbXBvcnQgIi4uL2NvbW1vbi9NYW5hZ2VhYmxlLnNvbCIgOiBlbmQKICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAqIGltcG9ydCAiLi9WYWx1ZVRva2VuLnNvbCIgOiBzdGFydAogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAqIGltcG9ydCAiLi9FUkMyMFN0YW5kYXJkVG9rZW4uc29sIiA6IHN0YXJ0CiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogaW1wb3J0ICIuL0lFUkMyMFRva2VuLnNvbCIgOiBzdGFydAogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCi8qKkBkZXYgRVJDMjAgY29tcGxpYW50IHRva2VuIGludGVyZmFjZS4gCmh0dHBzOi8vdGhlZXRoZXJldW0ud2lraS93L2luZGV4LnBocC9FUkMyMF9Ub2tlbl9TdGFuZGFyZCAKaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvYmxvYi9tYXN0ZXIvRUlQUy9laXAtMjAtdG9rZW4tc3RhbmRhcmQubWQgKi8KY29udHJhY3QgSUVSQzIwVG9rZW4gewoKICAgIC8vIHRoZXNlIGZ1bmN0aW9ucyBhcmVuJ3QgYWJzdHJhY3Qgc2luY2UgdGhlIGNvbXBpbGVyIGVtaXRzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGdldHRlciBmdW5jdGlvbnMgYXMgZXh0ZXJuYWwgICAgCiAgICBmdW5jdGlvbiBuYW1lKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHN0cmluZyBfbmFtZSkgeyBfbmFtZTsgfQogICAgZnVuY3Rpb24gc3ltYm9sKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHN0cmluZyBfc3ltYm9sKSB7IF9zeW1ib2w7IH0KICAgIGZ1bmN0aW9uIGRlY2ltYWxzKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4IF9kZWNpbWFscykgeyBfZGVjaW1hbHM7IH0KICAgIAogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50IHRvdGFsKSB7dG90YWw7fQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpIHtfb3duZXI7IGJhbGFuY2U7fSAgICAKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpIHtfb3duZXI7IF9zcGVuZGVyOyByZW1haW5pbmc7fQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgCgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKTsKfQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBpbXBvcnQgIi4vSUVSQzIwVG9rZW4uc29sIiA6IGVuZAogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogaW1wb3J0ICIuLi9jb21tb24vU2FmZU1hdGguc29sIiA6IHN0YXJ0CiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKLyoqZGV2IFV0aWxpdHkgbWV0aG9kcyBmb3Igb3ZlcmZsb3ctcHJvb2YgYXJpdGhtZXRpYyBvcGVyYXRpb25zIAoqLwpjb250cmFjdCBTYWZlTWF0aCB7CgogICAgLyoqZGV2IFJldHVybnMgdGhlIHN1bSBvZiBhIGFuZCBiLiBUaHJvd3MgYW4gZXhjZXB0aW9uIGlmIGl0IGV4Y2VlZHMgdWludDI1NiBsaW1pdHMqLwogICAgZnVuY3Rpb24gc2FmZUFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgeyAgICAgICAgCiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CgogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIC8qKmRldiBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlIG9mIGEgYW5kIGIuIFRocm93cyBhbiBleGNlcHRpb24gaWYgYSBpcyBsZXNzIHRoYW4gYiovCiAgICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGEgPj0gYik7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIC8qKmRldiBSZXR1cm5zIHRoZSBwcm9kdWN0IG9mIGEgYW5kIGIuIFRocm93cyBhbiBleGNlcHRpb24gaWYgaXQgZXhjZWVkcyB1aW50MjU2IGxpbWl0cyovCiAgICBmdW5jdGlvbiBzYWZlTXVsdCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgaW50ZXJuYWwgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiB6ID0geCAqIHk7CiAgICAgICAgYXNzZXJ0KCh4ID09IDApIHx8ICh6IC8geCA9PSB5KSk7CiAgICAgICAgcmV0dXJuIHo7CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZURpdih1aW50MjU2IHgsIHVpbnQyNTYgeSkgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGFzc2VydCh5ICE9IDApOwogICAgICAgIHJldHVybiB4IC8geTsKICAgIH0KfS8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAqIGltcG9ydCAiLi4vY29tbW9uL1NhZmVNYXRoLnNvbCIgOiBlbmQKICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgovKipAZGV2IFN0YW5kYXJkIEVSQzIwIGNvbXBsaWFudCB0b2tlbiBpbXBsZW1lbnRhdGlvbiAqLwpjb250cmFjdCBFUkMyMFN0YW5kYXJkVG9rZW4gaXMgSUVSQzIwVG9rZW4sIFNhZmVNYXRoIHsKICAgIHN0cmluZyBwdWJsaWMgbmFtZTsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgdWludDggcHVibGljIGRlY2ltYWxzOwoKICAgIC8vdG9rZW5zIGFscmVhZHkgaXNzdWVkCiAgICB1aW50MjU2IHRva2Vuc0lzc3VlZDsKICAgIC8vYmFsYW5jZXMgZm9yIGVhY2ggYWNjb3VudAogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIC8vb25lIGFjY291bnQgYXBwcm92ZXMgdGhlIHRyYW5zZmVyIG9mIGFuIGFtb3VudCB0byBhbm90aGVyIGFjY291bnQKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCiAgICBmdW5jdGlvbiBFUkMyMFN0YW5kYXJkVG9rZW4oKSB7CiAgICAgCiAgICB9ICAgIAoKICAgIC8vCiAgICAvL0lFUkMyMFRva2VuIGltcGxlbWVudGF0aW9uCiAgICAvLyAKCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgdG90YWwpIHsKICAgICAgICB0b3RhbCA9IHRva2Vuc0lzc3VlZDsKICAgIH0KIAogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpIHsKICAgICAgICBiYWxhbmNlID0gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCiAgICAgICAgLy8gc2FmZVN1YiBpbnNpZGUgZG9UcmFuc2ZlciB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgICAgICBkb1RyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsgICAgICAgIAogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgCiAgICAgICAgLy8gQ2hlY2sgZm9yIGFsbG93YW5jZSBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBzYWZlU3ViKGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLCBfdmFsdWUpOyAgICAgICAgCiAgICAgICAgLy8gc2FmZVN1YiBpbnNpZGUgZG9UcmFuc2ZlciB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgICAgICBkb1RyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7ICAgICAgICAKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZW1haW5pbmcgPSBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfSAgICAKCiAgICAvLwogICAgLy8gQWRkaXRpb25hbCBmdW5jdGlvbnMKICAgIC8vCiAgICAvKipAZGV2IEdldHMgcmVhbCB0b2tlbiBhbW91bnQgaW4gdGhlIHNtYWxsZXN0IHRva2VuIHVuaXRzICovCiAgICBmdW5jdGlvbiBnZXRSZWFsVG9rZW5BbW91bnQodWludDI1NiB0b2tlbnMpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gdG9rZW5zICogKHVpbnQyNTYoMTApICoqIGRlY2ltYWxzKTsKICAgIH0KCiAgICAvLwogICAgLy8gSW50ZXJuYWwgZnVuY3Rpb25zCiAgICAvLyAgICAKICAgIAogICAgZnVuY3Rpb24gZG9UcmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGludGVybmFsIHsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBzYWZlU3ViKGJhbGFuY2VzW19mcm9tXSwgX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLCBfdmFsdWUpOwogICAgfQp9LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogaW1wb3J0ICIuL0VSQzIwU3RhbmRhcmRUb2tlbi5zb2wiIDogZW5kCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBpbXBvcnQgIi4uL3Rva2VuL1ZhbHVlVG9rZW5BZ2VudC5zb2wiIDogc3RhcnQKICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgoKCgovKipAZGV2IFdhdGNoZXMgdHJhbnNmZXIgb3BlcmF0aW9uIG9mIHRva2VucyB0byB2YWxpZGF0ZSB2YWx1ZS1kaXN0cmlidXRpb24gc3RhdGUgKi8KY29udHJhY3QgVmFsdWVUb2tlbkFnZW50IHsKCiAgICAvKipAZGV2IFRva2VuIHdob3NlIHRyYW5zZmVycyB0aGF0IGNvbnRyYWN0IHdhdGNoZXMgKi8KICAgIFZhbHVlVG9rZW4gcHVibGljIHZhbHVlVG9rZW47CgogICAgLyoqQGRldiBBbGxvd3Mgb25seSB0b2tlbiB0byBleGVjdXRlIG1ldGhvZCAqLwogICAgbW9kaWZpZXIgdmFsdWVUb2tlbk9ubHkge3JlcXVpcmUobXNnLnNlbmRlciA9PSBhZGRyZXNzKHZhbHVlVG9rZW4pKTsgXzt9CgogICAgZnVuY3Rpb24gVmFsdWVUb2tlbkFnZW50KFZhbHVlVG9rZW4gdG9rZW4pIHsKICAgICAgICB2YWx1ZVRva2VuID0gdG9rZW47CiAgICB9CgogICAgLyoqQGRldiBDYWxsZWQganVzdCBiZWZvcmUgdGhlIHRva2VuIGJhbGFuY2UgdXBkYXRlKi8gICAKICAgIGZ1bmN0aW9uIHRva2VuSXNCZWluZ1RyYW5zZmVycmVkKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiBhbW91bnQpOwoKICAgIC8qKkBkZXYgQ2FsbGVkIHdoZW4gbm9uLXRyYW5zZmVyIHRva2VuIHN0YXRlIGNoYW5nZSBvY2N1cnM6IGJ1cm4sIGlzc3VlLCBjaGFuZ2Ugb2YgdmFsdWFibGUgdG9rZW5zLgogICAgaG9sZGVyIC0gYWRkcmVzcyBvZiB0b2tlbiBob2xkZXIgdGhhdCBjb21taXR0ZWQgdGhlIGNoYW5nZQogICAgYW1vdW50IC0gYW1vdW50IG9mIG5ldyBvciBkZWxldGVkIHRva2VucyAgKi8KICAgIGZ1bmN0aW9uIHRva2VuQ2hhbmdlZChhZGRyZXNzIGhvbGRlciwgdWludDI1NiBhbW91bnQpOwp9LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogaW1wb3J0ICIuLi90b2tlbi9WYWx1ZVRva2VuQWdlbnQuc29sIiA6IGVuZAogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCgovKipAZGV2IENhbiBiZSByZWxpZWQgb24gdG8gZGlzdHJpYnV0ZSB2YWx1ZXMgYWNjb3JkaW5nIHRvIGl0cyBiYWxhbmNlcyAKIENhbiBzZXQgc29tZSByZXNlcnZlIGFkZHJlc2VzIHdob3NlIHRva2VucyBkb24ndCB0YWtlIHBhcnQgaW4gZGl2aWRlbmQgZGlzdHJpYnV0aW9uICovCmNvbnRyYWN0IFZhbHVlVG9rZW4gaXMgTWFuYWdlYWJsZSwgRVJDMjBTdGFuZGFyZFRva2VuIHsKICAgIAogICAgLyoqQGRldiBXYXRjaGVzIHRyYW5zZmVyIG9wZXJhdGlvbiBvZiB0aGlzIHRva2VuICovCiAgICBWYWx1ZVRva2VuQWdlbnQgdmFsdWVBZ2VudDsKCiAgICAvKipAZGV2IEhvbGRlcnMgb2YgcmVzZXJ2ZWQgdG9rZW5zICovCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyByZXNlcnZlZDsKCiAgICAvKipAZGV2IFJlc2VydmVkIHRva2VuIGFtb3VudCAqLwogICAgdWludDI1NiBwdWJsaWMgcmVzZXJ2ZWRBbW91bnQ7CgogICAgZnVuY3Rpb24gVmFsdWVUb2tlbigpIHt9CgogICAgLyoqQGRldiBTZXRzIG5ldyB2YWx1ZSBhZ2VudCAqLwogICAgZnVuY3Rpb24gc2V0VmFsdWVBZ2VudChWYWx1ZVRva2VuQWdlbnQgbmV3QWdlbnQpIG1hbmFnZXJPbmx5IHsKICAgICAgICB2YWx1ZUFnZW50ID0gbmV3QWdlbnQ7CiAgICB9CgogICAgZnVuY3Rpb24gZG9UcmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGludGVybmFsIHsKCiAgICAgICAgaWYgKGFkZHJlc3ModmFsdWVBZ2VudCkgIT0gMHgwKSB7CiAgICAgICAgICAgIC8vZmlyc3QgZXhlY3V0ZSBhZ2VudCBtZXRob2QKICAgICAgICAgICAgdmFsdWVBZ2VudC50b2tlbklzQmVpbmdUcmFuc2ZlcnJlZChfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIH0KCiAgICAgICAgLy9maXJzdCBjaGVjayBpZiBhZGRyZXNzZXMgYXJlIHJlc2VydmVkIGFuZCBhZGp1c3QgcmVzZXJ2ZWQgYW1vdW50IGFjY29yZGluZ2x5CiAgICAgICAgaWYgKHJlc2VydmVkW19mcm9tXSkgewogICAgICAgICAgICByZXNlcnZlZEFtb3VudCA9IHNhZmVTdWIocmVzZXJ2ZWRBbW91bnQsIF92YWx1ZSk7CiAgICAgICAgICAgIC8vcmVzZXJ2ZWRBbW91bnQgLT0gX3ZhbHVlOwogICAgICAgIH0gCiAgICAgICAgaWYgKHJlc2VydmVkW190b10pIHsKICAgICAgICAgICAgcmVzZXJ2ZWRBbW91bnQgPSBzYWZlQWRkKHJlc2VydmVkQW1vdW50LCBfdmFsdWUpOwogICAgICAgICAgICAvL3Jlc2VydmVkQW1vdW50ICs9IF92YWx1ZTsKICAgICAgICB9CgogICAgICAgIC8vdGhlbiBkbyBhY3R1YWwgdHJhbnNmZXIKICAgICAgICBzdXBlci5kb1RyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgLyoqQGRldiBSZXR1cm5zIGEgdG9rZW4gYW1vdW50IHRoYXQgaXMgYWNjb3VudGVkIGluIHRoZSBwcm9jZXNzIG9mIGRpdmlkZW5kIGNhbGN1bGF0aW9uICovCiAgICBmdW5jdGlvbiBnZXRWYWx1YWJsZVRva2VuQW1vdW50KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiB0b3RhbFN1cHBseSgpIC0gcmVzZXJ2ZWRBbW91bnQ7CiAgICB9CgogICAgLyoqQGRldiBTZXRzIHNwZWNpZmljIGFkZHJlc3MgdG8gYmUgcmVzZXJ2ZWQgKi8KICAgIGZ1bmN0aW9uIHNldFJlc2VydmVkKGFkZHJlc3MgaG9sZGVyLCBib29sIHN0YXRlKSBtYW5hZ2VyT25seSB7ICAgICAgICAKCiAgICAgICAgdWludDI1NiBob2xkZXJCYWxhbmNlID0gYmFsYW5jZU9mKGhvbGRlcik7CiAgICAgICAgaWYgKGFkZHJlc3ModmFsdWVBZ2VudCkgIT0gMHgwKSB7ICAgICAgICAgICAgCiAgICAgICAgICAgIHZhbHVlQWdlbnQudG9rZW5DaGFuZ2VkKGhvbGRlciwgaG9sZGVyQmFsYW5jZSk7CiAgICAgICAgfQoKICAgICAgICAvL2NoYW5nZSByZXNlcnZlZCB0b2tlbiBhbW91bnQgYWNjb3JkaW5nIHRvIGhvbGRlcidzIHN0YXRlCiAgICAgICAgaWYgKHN0YXRlKSB7CiAgICAgICAgICAgIC8vcmVzZXJ2ZWRBbW91bnQgKz0gaG9sZGVyQmFsYW5jZTsKICAgICAgICAgICAgcmVzZXJ2ZWRBbW91bnQgPSBzYWZlQWRkKHJlc2VydmVkQW1vdW50LCBob2xkZXJCYWxhbmNlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvL3Jlc2VydmVkQW1vdW50IC09IGhvbGRlckJhbGFuY2U7CiAgICAgICAgICAgIHJlc2VydmVkQW1vdW50ID0gc2FmZVN1YihyZXNlcnZlZEFtb3VudCwgaG9sZGVyQmFsYW5jZSk7CiAgICAgICAgfQoKICAgICAgICByZXNlcnZlZFtob2xkZXJdID0gc3RhdGU7CiAgICB9Cn0vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBpbXBvcnQgIi4vVmFsdWVUb2tlbi5zb2wiIDogZW5kCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBpbXBvcnQgIi4vUmV0dXJuYWJsZVRva2VuLnNvbCIgOiBzdGFydAogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCgoKLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogaW1wb3J0ICIuL1JldHVyblRva2VuQWdlbnQuc29sIiA6IHN0YXJ0CiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKCgoKLy8vUmV0dXJuYWJsZSB0b2tlbnMgcmVjZWl2ZXIKY29udHJhY3QgUmV0dXJuVG9rZW5BZ2VudCBpcyBNYW5hZ2VhYmxlIHsKICAgIC8vUmV0dXJuYWJsZVRva2VuIHB1YmxpYyByZXR1cm5hYmxlVG9rZW47CgogICAgLyoqQGRldiBMaXN0IG9mIHJldHVybmFibGUgdG9rZW5zIGluIGZvcm1hdCB0b2tlbi0+ZmxhZyAgKi8KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIHJldHVybmFibGVUb2tlbnM7CgogICAgLyoqQGRldiBBbGxvd3Mgb25seSB0b2tlbiB0byBleGVjdXRlIG1ldGhvZCAqLwogICAgLy9tb2RpZmllciByZXR1cm5hYmxlVG9rZW5Pbmx5IHtyZXF1aXJlKG1zZy5zZW5kZXIgPT0gYWRkcmVzcyhyZXR1cm5hYmxlVG9rZW4pKTsgXzt9CiAgICBtb2RpZmllciByZXR1cm5hYmxlVG9rZW5Pbmx5IHtyZXF1aXJlKHJldHVybmFibGVUb2tlbnNbbXNnLnNlbmRlcl0pOyBfO30KCiAgICAvKipAZGV2IEV4ZWN1dGVzIHdoZW4gdG9rZW5zIGFyZSB0cmFuc2ZlcnJlZCB0byB0aGlzICovCiAgICBmdW5jdGlvbiByZXR1cm5Ub2tlbihhZGRyZXNzIGZyb20sIHVpbnQyNTYgYW1vdW50UmV0dXJuZWQpOwoKICAgIC8qKkBkZXYgU2V0cyB0b2tlbiB0aGF0IGNhbiBjYWxsIHJldHVyblRva2VuIG1ldGhvZCAqLwogICAgZnVuY3Rpb24gc2V0UmV0dXJuYWJsZVRva2VuKFJldHVybmFibGVUb2tlbiB0b2tlbikgbWFuYWdlck9ubHkgewogICAgICAgIHJldHVybmFibGVUb2tlbnNbYWRkcmVzcyh0b2tlbildID0gdHJ1ZTsKICAgIH0KCiAgICAvKipAZGV2IFJlbW92ZXMgdG9rZW4gdGhhdCBjYW4gY2FsbCByZXR1cm5Ub2tlbiBtZXRob2QgKi8KICAgIGZ1bmN0aW9uIHJlbW92ZVJldHVybmFibGVUb2tlbihSZXR1cm5hYmxlVG9rZW4gdG9rZW4pIG1hbmFnZXJPbmx5IHsKICAgICAgICByZXR1cm5hYmxlVG9rZW5zW2FkZHJlc3ModG9rZW4pXSA9IGZhbHNlOwogICAgfQp9LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogaW1wb3J0ICIuL1JldHVyblRva2VuQWdlbnQuc29sIiA6IGVuZAogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCi8vL1Rva2VuIHRoYXQgd2hlbiBzZW50IHRvIHNwZWNpZmllZCBjb250cmFjdCAocmV0dXJuQWdlbnQpIGludm9rZXMgYWRkaXRpb25hbCBhY3Rpb25zCmNvbnRyYWN0IFJldHVybmFibGVUb2tlbiBpcyBNYW5hZ2VhYmxlLCBFUkMyMFN0YW5kYXJkVG9rZW4gewoKICAgIC8qKkBkZXYgTGlzdCBvZiByZXR1cm4gYWdlbnRzICovCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyByZXR1cm5BZ2VudHM7CgogICAgZnVuY3Rpb24gUmV0dXJuYWJsZVRva2VuKCkge30gICAgCiAgICAKICAgIC8qKkBkZXYgU2V0cyBuZXcgcmV0dXJuIGFnZW50ICovCiAgICBmdW5jdGlvbiBzZXRSZXR1cm5BZ2VudChSZXR1cm5Ub2tlbkFnZW50IGFnZW50KSBtYW5hZ2VyT25seSB7CiAgICAgICAgcmV0dXJuQWdlbnRzW2FkZHJlc3MoYWdlbnQpXSA9IHRydWU7CiAgICB9CgogICAgLyoqQGRldiBSZW1vdmVzIHJldHVybiBhZ2VudCBmcm9tIGxpc3QgKi8KICAgIGZ1bmN0aW9uIHJlbW92ZVJldHVybkFnZW50KFJldHVyblRva2VuQWdlbnQgYWdlbnQpIG1hbmFnZXJPbmx5IHsKICAgICAgICByZXR1cm5BZ2VudHNbYWRkcmVzcyhhZ2VudCldID0gZmFsc2U7CiAgICB9CgogICAgZnVuY3Rpb24gZG9UcmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGludGVybmFsIHsKICAgICAgICBzdXBlci5kb1RyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgaWYgKHJldHVybkFnZW50c1tfdG9dKSB7CiAgICAgICAgICAgIFJldHVyblRva2VuQWdlbnQoX3RvKS5yZXR1cm5Ub2tlbihfZnJvbSwgX3ZhbHVlKTsgICAgICAgICAgICAgICAgCiAgICAgICAgfQogICAgfQp9LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogaW1wb3J0ICIuL1JldHVybmFibGVUb2tlbi5zb2wiIDogZW5kCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBpbXBvcnQgIi4vSUJ1cm5hYmxlVG9rZW4uc29sIiA6IHN0YXJ0CiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKLyoqQGRldiBBIHRva2VuIHRoYXQgY2FuIGJlIGJ1cm50ICovCmNvbnRyYWN0IElCdXJuYWJsZVRva2VuIHsKICAgIGZ1bmN0aW9uIGJ1cm4odWludDI1NiBfdmFsdWUpOwp9LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICogaW1wb3J0ICIuL0lCdXJuYWJsZVRva2VuLnNvbCIgOiBlbmQKICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgovKipAZGV2IGJjc2hvcC5pbyBjcm93ZHNhbGUgdG9rZW4gKi8KY29udHJhY3QgQkNTVG9rZW4gaXMgVmFsdWVUb2tlbiwgUmV0dXJuYWJsZVRva2VuLCBJQnVybmFibGVUb2tlbiB7CgogICAgLyoqQGRldiBTcGVjaWZpZXMgYWxsb3dlZCBhZGRyZXNzIHRoYXQgYWx3YXlzIGNhbiB0cmFuc2ZlciB0b2tlbnMgaW4gY2FzZSBvZiBnbG9iYWwgdHJhbnNmZXIgbG9jayAqLwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgdHJhbnNmZXJBbGxvd2VkOwogICAgLyoqQGRldiBTcGVjaWZpZXMgdGltZXN0YW1wIHdoZW4gc3BlY2lmaWMgdG9rZW4gaG9sZGVyIGNhbiB0cmFuc2ZlciBmdW5kcyAqLyAgICAKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIHRyYW5zZmVyTG9ja1VudGlsOyAKICAgIC8qKkBkZXYgVHJ1ZSBpZiB0cmFuc2ZlciBpcyBsb2NrZWQgZm9yIGFsbCBob2xkZXJzLCBmYWxzZSBvdGhlcndpc2UgKi8KICAgIGJvb2wgcHVibGljIHRyYW5zZmVyTG9ja2VkOwoKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBzZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwoKICAgIC8qKkBkZXYgQ3JlYXRlcyBhIHRva2VuIHdpdGggZ2l2ZW4gaW5pdGlhbCBzdXBwbHkgICovCiAgICBmdW5jdGlvbiBCQ1NUb2tlbih1aW50MjU2IF9pbml0aWFsU3VwcGx5LCB1aW50OCBfZGVjaW1hbHMpIHsKICAgICAgICBuYW1lID0gIkJDU2hvcC5pbyBUb2tlbiI7CiAgICAgICAgc3ltYm9sID0gIkJDUyI7CiAgICAgICAgZGVjaW1hbHMgPSBfZGVjaW1hbHM7ICAgICAgICAKCiAgICAgICAgdG9rZW5zSXNzdWVkID0gX2luaXRpYWxTdXBwbHkgKiAodWludDI1NigxMCkgKiogZGVjaW1hbHMpOwogICAgICAgIC8vc3RvcmUgYWxsIHRva2VucyBhdCB0aGUgb3duZXIncyBhZGRyZXNzOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gdG9rZW5zSXNzdWVkOwoKICAgICAgICB0cmFuc2ZlckxvY2tlZCA9IHRydWU7CiAgICAgICAgdHJhbnNmZXJBbGxvd2VkW21zZy5zZW5kZXJdID0gdHJ1ZTsgICAgICAgIAogICAgfQoKICAgIC8qKkBkZXYgRVJDMjBTdGFuZGF0ZFRva2VuIG92ZXJyaWRlICovCiAgICBmdW5jdGlvbiBkb1RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgewogICAgICAgIHJlcXVpcmUoY2FuVHJhbnNmZXIoX2Zyb20pKTsKICAgICAgICBzdXBlci5kb1RyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICB9ICAgIAoKICAgIC8qKkBkZXYgUmV0dXJucyB0cnVlIGlmIGdpdmVuIGFkZHJlc3MgY2FuIHRyYW5zZmVyIHRva2VucyAqLwogICAgZnVuY3Rpb24gY2FuVHJhbnNmZXIoYWRkcmVzcyBob2xkZXIpIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICBpZih0cmFuc2ZlckxvY2tlZCkgewogICAgICAgICAgICByZXR1cm4gdHJhbnNmZXJBbGxvd2VkW2hvbGRlcl07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIG5vdyA+IHRyYW5zZmVyTG9ja1VudGlsW2hvbGRlcl07CiAgICAgICAgfQogICAgICAgIC8vcmV0dXJuICF0cmFuc2ZlckxvY2tlZCAmJiBub3cgPiB0cmFuc2ZlckxvY2tVbnRpbFtob2xkZXJdOwogICAgfSAgICAKCiAgICAvKipAZGV2IExvY2sgdHJhbnNmZXIgZm9yIGEgZ2l2ZW4gaG9sZGVyIGZvciBhIGdpdmVuIGFtb3VudCBvZiBkYXlzICovCiAgICBmdW5jdGlvbiBsb2NrVHJhbnNmZXJGb3IoYWRkcmVzcyBob2xkZXIsIHVpbnQyNTYgZGF5c0Zyb21Ob3cpIG1hbmFnZXJPbmx5IHsKICAgICAgICB0cmFuc2ZlckxvY2tVbnRpbFtob2xkZXJdID0gZGF5c0Zyb21Ob3cgKiAxIGRheXMgKyBub3c7CiAgICB9CgogICAgLyoqQGRldiBTZXRzIHRyYW5zZmVyIGFsbG93YW5jZSBmb3Igc3BlY2lmaWMgaG9sZGVyICovCiAgICBmdW5jdGlvbiBhbGxvd1RyYW5zZmVyRm9yKGFkZHJlc3MgaG9sZGVyLCBib29sIHN0YXRlKSBtYW5hZ2VyT25seSB7CiAgICAgICAgdHJhbnNmZXJBbGxvd2VkW2hvbGRlcl0gPSBzdGF0ZTsKICAgIH0KCiAgICAvKipAZGV2IExvY2tzIG9yIGFsbG93cyB0cmFuc2ZlciBmb3IgYWxsIGhvbGRlcnMsIGZvciBlbWVyZ2VuY3kgcmVhc29ucyovCiAgICBmdW5jdGlvbiBzZXRMb2NrZWRTdGF0ZShib29sIHN0YXRlKSBtYW5hZ2VyT25seSB7CiAgICAgICAgdHJhbnNmZXJMb2NrZWQgPSBzdGF0ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgbWFuYWdlck9ubHkgeyAgICAgICAgCiAgICAgICAgcmVxdWlyZSAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKTsgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKCiAgICAgICAgaWYgKGFkZHJlc3ModmFsdWVBZ2VudCkgIT0gMHgwKSB7ICAgICAgICAgICAgCiAgICAgICAgICAgIHZhbHVlQWdlbnQudG9rZW5DaGFuZ2VkKG1zZy5zZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgfQoKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIHRva2Vuc0lzc3VlZCAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlcyB0b3RhbFN1cHBseSAgICAgICAgCgogICAgICAgIEJ1cm4obXNnLnNlbmRlciwgX3ZhbHVlKTsgICAgICAgIAogICAgfQp9'.
	

]
