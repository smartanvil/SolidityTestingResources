Class {
	#name : #SRT2Fb3C22230c39496eDc13c16d09F34368346Ac1D,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT2Fb3C22230c39496eDc13c16d09F34368346Ac1D >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7Cgpjb250cmFjdCBJU21hcnRDZXJ0IHsKCS8vIHN0YXRlIHZhcmlhYmxlcwoJbWFwcGluZyAoYnl0ZXMzMiA9PiBTaWduZWREYXRhKSBoYXNoZXM7CgltYXBwaW5nIChhZGRyZXNzID0+IEFjY2Vzc1N0cnVjdCkgYWNjZXNzTGlzdDsKCW1hcHBpbmcgKGJ5dGVzMzIgPT4gUmV2b2tlU3RydWN0KSByZXZva2VkOwoJbWFwcGluZyAoYnl0ZXMzMiA9PiBMdmwyU3RydWN0W10pIGlkTWFwOwoJYWRkcmVzcyBvd25lcjsKCgkvLyBjb25zdGFudHMKCXN0cmluZyBjb25zdGFudCBDT0RFX0FDQ0VTU19ERU5JRUQgPSAiQTAwMSI7CglzdHJpbmcgY29uc3RhbnQgQ09ERV9BQ0NFU1NfUE9TVEVSX05PVF9BVVRIT1JJWkVEID0gIkEwMDIiOwoJc3RyaW5nIGNvbnN0YW50IENPREVfQUNDRVNTX0lTU1VFUl9OT1RfQVVUSE9SSVpFRCA9ICJBMDAzIjsKCXN0cmluZyBjb25zdGFudCBDT0RFX0FDQ0VTU19WRVJJRllfTk9UX0FVVEhPUklaRUQgPSAiQTAwNCI7CglzdHJpbmcgY29uc3RhbnQgTVNHX0lTU1VFUl9TSUdfTk9UX01BVENIRUQgPSAiRTAwMSI7IC8vIklzc3VlcidzIGFkZHJlc3Mgbm90IG1hdGNoZWQgd2l0aCBzaWduZWQgaGFzaCI7CglzdHJpbmcgY29uc3RhbnQgTVNHX0RPQ19SRUdJU1RFUkVEID0gIkUwMDIiOyAvLyJEb2N1bWVudCBhbHJlYWR5IHJlZ2lzdGVyZWQiOyAKCXN0cmluZyBjb25zdGFudCBNU0dfUkVWT0tFRCA9ICJFMDAzIjsgLy8iRG9jdW1lbnQgYWxyZWFkeSByZXZva2VkIjsgCQoJc3RyaW5nIGNvbnN0YW50IE1TR19OT1RSRUcgPSAiRTAwNCI7IC8vIkRvY3VtZW50IG5vdCByZWdpc3RlcmVkIjsKCXN0cmluZyBjb25zdGFudCBNU0dfSU5WQUxJRCA9ICJFMDA1IjsgIC8vIkRvY3VtZW50IG5vdCB2YWxpZCI7IAoJc3RyaW5nIGNvbnN0YW50IE1TR19OT0ZPVU5EID0gIkUwMDYiOyAvLyJObyByZWNvcmQgZm91bmQiOwoJc3RyaW5nIGNvbnN0YW50IE1TR19JTlZBTElEX0NFUlRfTUVSS0xFX05PVF9NQVRDSEVEID0gIkUwMDciOwoJc3RyaW5nIGNvbnN0YW50IE1TR19JTlZBTElEX0FDQ0VTU19SSUdIVCA9ICJFMDA4IjsKCXN0cmluZyBjb25zdGFudCBNU0dfQkFUQ0hfUkVWT0tFRCA9ICJFMDA5IjsgLy8iQmF0Y2ggdGhhdCB0aGUgZG9jdW1lbnQgYmVsb25nIHRvIGhhcyBhbHJlYWR5IGJlZW4gcmV2b2tlZCI7CglzdHJpbmcgY29uc3RhbnQgTVNHX01FUktMRV9DQU5OT1RfRU1QVFkgPSAiRTAxMCI7CglzdHJpbmcgY29uc3RhbnQgTVNHX01FUktMRV9OT1RfUkVHSVNURVJFRCA9ICJFMDExIjsKCXN0cmluZyBjb25zdGFudCBTVEFUVVNfUEFTUyA9ICJQQVNTIjsKCXN0cmluZyBjb25zdGFudCBTVEFUVVNfRkFJTCA9ICJGQUlMIjsKCWJ5dGVzMSBjb25zdGFudCBBQ0NFU1NfSVNTVUVSID0gMHgwNDsKCWJ5dGVzMSBjb25zdGFudCBBQ0NFU1NfUE9TVEVSID0gMHgwMjsKCWJ5dGVzMSBjb25zdGFudCBBQ0NFU1NfVkVSSUZJRVIgPSAweDAxOwoJYnl0ZXMxIGNvbnN0YW50IEFDQ0VTU19BTEwgPSAweDA3OwoJYnl0ZXMxIGNvbnN0YW50IEFDQ0VTU19JU1NVRVJfUE9TVEVSID0gMHgwNTsKCWJ5dGVzMSBjb25zdGFudCBBQ0NFU1NfTk9ORSA9IDB4MDA7CgoJc3RydWN0IFNpZ25lZERhdGEgewoJCS8vIHN0cmluZyBkYXRhOwoJCWJ5dGVzIHNpZzsKCQl1aW50IHJlZ2lzdGVyRGF0ZTsKCQlib29sIGV4aXN0czsgLy8gZW1wdHkgZW50cnkgdG8gdGhpcyBzdHJ1Y3QgaW5pdGlhbGx5IHNldCB0byBmYWxzZQoJfQoKCXN0cnVjdCBSZWNvcmRTdHJ1Y3QgewoJCWJ5dGVzMzIgcmVjb3JkSWQ7IC8vIHJlZiBpZCB0byBoYXNoc3RvcmUKCQlib29sIGV4aXN0czsgLy8gZW1wdHkgZW50cnkgdG8gdGhpcyBzdHJ1Y3QgaW5pdGlhbGx5IHNldCB0byBmYWxzZQoJfQoKCXN0cnVjdCBMdmwyU3RydWN0IHsKCQlieXRlczMyIHJlY29yZElkOwoJCWJ5dGVzMzIgY2VydGhhc2g7CgkJYm9vbCBleGlzdHM7Cgl9CgoJc3RydWN0IFJldm9rZVN0cnVjdCB7CgkJYm9vbCBleGlzdHM7CgkJYnl0ZXMzMiBtZXJrbGVIYXNoOwoJCWJvb2wgYmF0Y2hGbGFnOwoJCXVpbnQgZGF0ZTsKCX0KCglzdHJ1Y3QgQWNjZXNzU3RydWN0IHsKCQlieXRlczEgYWNjZXNzUmlnaHQ7CgkJdWludCBkYXRlOwoJCWJvb2wgaXNWYWx1ZTsKCX0KCglmdW5jdGlvbiBJU21hcnRDZXJ0KCkgcHVibGljIHsKCQlvd25lciA9IG1zZy5zZW5kZXI7Cgl9CgoJZXZlbnQgTG9nVXNlclJpZ2h0KHN0cmluZywgc3RyaW5nKTsKCWZ1bmN0aW9uIHVzZXJSaWdodChhZGRyZXNzIHVzZXJBZGRyLCBieXRlczEgYWNjZXNzUmlnaHQsIHVpbnQgZGF0ZSkgcHVibGljIHsKCQlpZiAob3duZXIgIT0gbXNnLnNlbmRlcikgewoJCQlMb2dVc2VyUmlnaHQoU1RBVFVTX0ZBSUwsIENPREVfQUNDRVNTX0RFTklFRCk7CgkJCXJldHVybjsKCQl9CgkJaWYgKGFjY2Vzc1JpZ2h0ICE9IEFDQ0VTU19JU1NVRVIgJiYgYWNjZXNzUmlnaHQgIT0gQUNDRVNTX1BPU1RFUiAmJiBhY2Nlc3NSaWdodCAhPSBBQ0NFU1NfVkVSSUZJRVIgJiYgYWNjZXNzUmlnaHQgIT0gQUNDRVNTX0FMTCAmJiBhY2Nlc3NSaWdodCAhPSBBQ0NFU1NfSVNTVUVSX1BPU1RFUiAmJiBhY2Nlc3NSaWdodCAhPSBBQ0NFU1NfTk9ORSkgewoJCQlMb2dVc2VyUmlnaHQoU1RBVFVTX0ZBSUwsIE1TR19JTlZBTElEX0FDQ0VTU19SSUdIVCk7CgkJCXJldHVybjsKCQl9CgkJYWNjZXNzTGlzdFt1c2VyQWRkcl0uYWNjZXNzUmlnaHQgPSBhY2Nlc3NSaWdodDsKCQlhY2Nlc3NMaXN0W3VzZXJBZGRyXS5kYXRlID0gZGF0ZTsKCQlhY2Nlc3NMaXN0W3VzZXJBZGRyXS5pc1ZhbHVlID0gdHJ1ZTsKCQlMb2dVc2VyUmlnaHQoU1RBVFVTX1BBU1MsICIiKTsKCX0KCglmdW5jdGlvbiBjaGVja0FjY2VzcyhhZGRyZXNzIHVzZXIsIGJ5dGVzMSBhY2Nlc3MpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCkgewoJCWlmIChhY2Nlc3NMaXN0W3VzZXJdLmlzVmFsdWUpIHsKCQkJaWYgKGFjY2Vzc0xpc3RbdXNlcl0uYWNjZXNzUmlnaHQgJiBhY2Nlc3MgPT0gYWNjZXNzKSB7CgkJCQlyZXR1cm4gdHJ1ZTsKCQkJfQoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9CgoJZnVuY3Rpb24gaW50ZXJuYWxSZWdpc3RlckNlcnQoYnl0ZXMzMiBjZXJ0SGFzaCwgYnl0ZXMgc2lnLCB1aW50IHJlZ2lzdHJhdGlvbkRhdGUpIGludGVybmFsIHJldHVybnMgKHN0cmluZywgc3RyaW5nKSB7CgkJYWRkcmVzcyBpc3N1ZXI7CgoJCWlmICghY2hlY2tBY2Nlc3MobXNnLnNlbmRlciwgQUNDRVNTX1BPU1RFUikpIHsKCQkJcmV0dXJuIChTVEFUVVNfRkFJTCwgQ09ERV9BQ0NFU1NfUE9TVEVSX05PVF9BVVRIT1JJWkVEKTsKCQl9CgkJCgkJaXNzdWVyID0gIHJlY292ZXJBZGRyKGNlcnRIYXNoLCBzaWcpOwoJCWlmICghY2hlY2tBY2Nlc3MoaXNzdWVyLCBBQ0NFU1NfSVNTVUVSKSkgewoJCQlyZXR1cm4gKFNUQVRVU19GQUlMLCBDT0RFX0FDQ0VTU19JU1NVRVJfTk9UX0FVVEhPUklaRUQpOwoJCX0KCgkJaWYgKGhhc2hlc1tjZXJ0SGFzaF0uZXhpc3RzKSB7CgkJCS8vIGNoZWNrIGlmIGRvYyBoYXMgYWxyZWFkeSBiZWVuIHJldm9rZWQKCQkJaWYgKHJldm9rZWRbY2VydEhhc2hdLmV4aXN0cykgewoJCQkJcmV0dXJuIChTVEFUVVNfRkFJTCwgTVNHX1JFVk9LRUQpOwoJCQl9IGVsc2UgewoJCQkJcmV0dXJuIChTVEFUVVNfRkFJTCwgTVNHX0RPQ19SRUdJU1RFUkVEKTsKCQkJfQkJCgkJfQkKCgkJLy8gc2lnbmVkIGRhdGEgKGluIHIsIHMsIHYpCgkJaGFzaGVzW2NlcnRIYXNoXS5zaWcgPSBzaWc7CgkJLy8gY2VydGlmaWNhdGUgcmVnaXN0cmF0aW9uIGRhdGUgKFlZWVltbWRkKQoJCWhhc2hlc1tjZXJ0SGFzaF0ucmVnaXN0ZXJEYXRlID0gcmVnaXN0cmF0aW9uRGF0ZTsKCQkvLyBpbmRpY2F0ZSB0aGUgcmVjb3JkIGV4aXN0cwoJCWhhc2hlc1tjZXJ0SGFzaF0uZXhpc3RzID0gdHJ1ZTsKCQlyZXR1cm4gKFNUQVRVU19QQVNTLCAiIik7Cgl9CgoJZnVuY3Rpb24gaW50ZXJuYWxSZWdpc3RlckNlcnRXaXRoSUQoYnl0ZXMzMiBjZXJ0SGFzaCwgYnl0ZXMgc2lnLCBieXRlczMyIG1lcmtsZUhhc2gsIHVpbnQgcmVnaXN0cmF0aW9uRGF0ZSwgYnl0ZXMzMiBpZCkgaW50ZXJuYWwgcmV0dXJucyAoc3RyaW5nLCBzdHJpbmcpIHsKCQlzdHJpbmcgbWVtb3J5IHN0YXR1czsKCQlzdHJpbmcgbWVtb3J5IG1lc3NhZ2U7CgoJCS8vIGNoZWNrIGlmIGFueSByZWNvcmQgYXNzb2NpYXRlZCB3aXRoIGlkCgkJZm9yICh1aW50IGkgPSAwOyBpIDwgaWRNYXBbaWRdLmxlbmd0aDsgaSsrKSB7CgkJCWlmIChpZE1hcFtpZF1baV0uZXhpc3RzID09IHRydWUgJiYgaWRNYXBbaWRdW2ldLmNlcnRoYXNoID09IGNlcnRIYXNoKSB7CgkJCQlyZXR1cm4gKFNUQVRVU19GQUlMLCBNU0dfRE9DX1JFR0lTVEVSRUQpOwoJCQl9CgkJfQoKCQkvLyBjaGVjayBpZiBtZXJrbGUgcm9vdCBoYXMgYWxyZWFkeSBiZWVuIHJldm9rZWQKCQlpZiAobWVya2xlSGFzaCAhPSAweDAwKSB7CgkJCWlmIChyZXZva2VkW21lcmtsZUhhc2hdLmV4aXN0cyAmJiByZXZva2VkW21lcmtsZUhhc2hdLmJhdGNoRmxhZykgewoJCQkJcmV0dXJuIChTVEFUVVNfRkFJTCwgTVNHX0JBVENIX1JFVk9LRUQpOwoJCQl9CQkKCQl9CgoJCS8vIGNoZWNrIGlmIG1lcmtsZSByb290IGlzIGVtcHR5CgkJaWYgKG1lcmtsZUhhc2ggPT0gMHgwMCkgewoJCQlyZXR1cm4gKFNUQVRVU19GQUlMLCBNU0dfTUVSS0xFX0NBTk5PVF9FTVBUWSk7CgkJfQoKCQkvLyBjaGVjayBpZiBtZXJrbGUgaXMgZXhpc3RzCgkJaWYgKCFoYXNoZXNbbWVya2xlSGFzaF0uZXhpc3RzKSB7CgkJCXJldHVybiAoU1RBVFVTX0ZBSUwsIE1TR19NRVJLTEVfTk9UX1JFR0lTVEVSRUQpOwoJCX0JCgoJCS8vIHJlZ2lzdGVyIGNlcnRpZmljYXRlCgkJKHN0YXR1cywgbWVzc2FnZSkgPSBpbnRlcm5hbFJlZ2lzdGVyQ2VydChjZXJ0SGFzaCwgc2lnLCByZWdpc3RyYXRpb25EYXRlKTsKCQlpZiAoa2VjY2FrMjU2KHN0YXR1cykgIT0ga2VjY2FrMjU2KFNUQVRVU19QQVNTKSkgewoJCQlyZXR1cm4gKHN0YXR1cywgbWVzc2FnZSk7CQkKCQl9CgoJCS8vIHN0b3JlIHJlY29yZCBpZCBieSBJRAoJCWlkTWFwW2lkXS5wdXNoKEx2bDJTdHJ1Y3Qoe3JlY29yZElkOm1lcmtsZUhhc2gsIGNlcnRoYXNoOmNlcnRIYXNoLCBleGlzdHM6dHJ1ZX0pKTsKCgkJcmV0dXJuIChTVEFUVVNfUEFTUywgIiIpOwoJfQoKCWZ1bmN0aW9uIGludGVybmFsUmV2b2tlQ2VydChieXRlczMyIGNlcnRIYXNoLCBieXRlcyBzaWdDZXJ0SGFzaCwgYnl0ZXMzMiBtZXJrbGVIYXNoLCBib29sIGJhdGNoRmxhZywgdWludCByZXZvY2F0aW9uRGF0ZSkgaW50ZXJuYWwgcmV0dXJucyAoc3RyaW5nLCBzdHJpbmcpIHsKCQlhZGRyZXNzIGlzc3VlcjE7CgkJYWRkcmVzcyBpc3N1ZXIyOwoJCS8vIGNoZWNrIHBvc3RlciBhY2Nlc3MgcmlnaHQKCQlpZiAoIWNoZWNrQWNjZXNzKG1zZy5zZW5kZXIsIEFDQ0VTU19QT1NURVIpKSB7CgkJCXJldHVybiAoU1RBVFVTX0ZBSUwsIENPREVfQUNDRVNTX1BPU1RFUl9OT1RfQVVUSE9SSVpFRCk7CgkJfQoJCS8vIGNoZWNrIGlzc3VlciBhY2Nlc3MgcmlnaHQKCQlpc3N1ZXIxID0gcmVjb3ZlckFkZHIoY2VydEhhc2gsIHNpZ0NlcnRIYXNoKTsKCQlpZiAoIWNoZWNrQWNjZXNzKGlzc3VlcjEsIEFDQ0VTU19JU1NVRVIpKSB7CgkJCXJldHVybiAoU1RBVFVTX0ZBSUwsIENPREVfQUNDRVNTX0lTU1VFUl9OT1RfQVVUSE9SSVpFRCk7CgkJfQoJCS8vIGlmIGJhdGNoLCBlbnN1cmUgYm90aCBjZXJ0SGFzaCBhbmQgbWVya2xlSGFzaCBhcmUgc2FtZQoJCWlmIChiYXRjaEZsYWcpIHsKCQkJaWYgKGNlcnRIYXNoICE9IG1lcmtsZUhhc2gpIHsKCQkJCXJldHVybiAoU1RBVFVTX0ZBSUwsIE1TR19JTlZBTElEX0NFUlRfTUVSS0xFX05PVF9NQVRDSEVEKTsKCQkJfQoJCQlpZiAobWVya2xlSGFzaCA9PSAweDAwKSB7CgkJCQlyZXR1cm4gKFNUQVRVU19GQUlMLCBNU0dfTUVSS0xFX0NBTk5PVF9FTVBUWSk7CgkJCX0KCQl9CgkJaWYgKG1lcmtsZUhhc2ggIT0gMHgwMCkgewoJCQkvLyBjaGVjayBpZiBkb2MgKG1lcmtsZSByb290KSBpcyByZWdpc3RlcmVkCgkJCWlmIChoYXNoZXNbbWVya2xlSGFzaF0uZXhpc3RzID09IGZhbHNlKSB7CgkJCQlyZXR1cm4gKFNUQVRVU19GQUlMLCBNU0dfTk9UUkVHKTsKCQkJfQoJCQkvLyBjaGVjayBpZiByZXF1ZXN0ZWQgc2lnbmF0dXJlIGFuZCBzdG9yZWQgc2lnbmF0dXJlIGlzIHNhbWUgYnkgY29tcGFyaW5nIHR3byBpc3N1ZXIgYWRkcmVzc2VzCgkJCWlzc3VlcjIgPSByZWNvdmVyQWRkcihtZXJrbGVIYXNoLCBoYXNoZXNbbWVya2xlSGFzaF0uc2lnKTsKCQkJaWYgKGlzc3VlcjEgIT0gaXNzdWVyMikgewoJCQkJcmV0dXJuIChTVEFUVVNfRkFJTCwgTVNHX0lTU1VFUl9TSUdfTk9UX01BVENIRUQpOwoJCQl9CgkJfQkJCQkKCQkvLyBjaGVjayBpZiBkb2MgaGFzIGFscmVhZHkgYmVlbiByZXZva2VkCgkJaWYgKHJldm9rZWRbY2VydEhhc2hdLmV4aXN0cykgewoJCQlyZXR1cm4gKFNUQVRVU19GQUlMLCBNU0dfUkVWT0tFRCk7CgkJfQoJCS8vIHN0b3JlIC8gdXBkYXRlCgkJaWYgKGJhdGNoRmxhZykgewoJCQlyZXZva2VkW2NlcnRIYXNoXS5iYXRjaEZsYWcgPSB0cnVlOwoJCX0gZWxzZSB7CQkJCgkJCXJldm9rZWRbY2VydEhhc2hdLmJhdGNoRmxhZyA9IGZhbHNlOwoJCX0KCQlyZXZva2VkW2NlcnRIYXNoXS5leGlzdHMgPSB0cnVlOwoJCXJldm9rZWRbY2VydEhhc2hdLm1lcmtsZUhhc2ggPSBtZXJrbGVIYXNoOwoJCXJldm9rZWRbY2VydEhhc2hdLmRhdGUgPSByZXZvY2F0aW9uRGF0ZTsKCgkJcmV0dXJuIChTVEFUVVNfUEFTUywgIiIpOwoJfQoKCS8vIGV2ZW50IGFzIGEgZm9ybSBvZiByZXR1cm4gdmFsdWUsIHN0YXRlIG11dGF0aW5nIGZ1bmN0aW9uIGNhbm5vdCByZXR1cm4gdmFsdWUgdG8gZXh0ZXJuYWwgcGFydHkKCWV2ZW50IExvZ1JlZ2lzdGVyQ2VydChzdHJpbmcsIHN0cmluZyk7CglmdW5jdGlvbiByZWdpc3RlckNlcnQoYnl0ZXMzMiBjZXJ0SGFzaCwgYnl0ZXMgc2lnLCB1aW50IHJlZ2lzdHJhdGlvbkRhdGUpIHB1YmxpYyB7CQkKCQlzdHJpbmcgbWVtb3J5IHN0YXR1czsKCQlzdHJpbmcgbWVtb3J5IG1lc3NhZ2U7CgoJCShzdGF0dXMsIG1lc3NhZ2UpID0gaW50ZXJuYWxSZWdpc3RlckNlcnQoY2VydEhhc2gsIHNpZywgcmVnaXN0cmF0aW9uRGF0ZSk7CQkKCQlMb2dSZWdpc3RlckNlcnQoc3RhdHVzLCBtZXNzYWdlKTsKCX0KCglldmVudCBMb2dSZWdpc3RlckNlcnRXaXRoSUQoc3RyaW5nLCBzdHJpbmcpOwoJZnVuY3Rpb24gcmVnaXN0ZXJDZXJ0V2l0aElEKGJ5dGVzMzIgY2VydEhhc2gsIGJ5dGVzIHNpZywgYnl0ZXMzMiBtZXJrbGVIYXNoLCB1aW50IHJlZ2lzdHJhdGlvbkRhdGUsIGJ5dGVzMzIgaWQpIHB1YmxpYyB7CgkJc3RyaW5nIG1lbW9yeSBzdGF0dXM7CgkJc3RyaW5nIG1lbW9yeSBtZXNzYWdlOwoKCQkvLyByZWdpc3RlciBjZXJ0aWZpY2F0ZQoJCShzdGF0dXMsIG1lc3NhZ2UpID0gaW50ZXJuYWxSZWdpc3RlckNlcnRXaXRoSUQoY2VydEhhc2gsIHNpZywgbWVya2xlSGFzaCwgcmVnaXN0cmF0aW9uRGF0ZSwgaWQpOwoJCUxvZ1JlZ2lzdGVyQ2VydFdpdGhJRChzdGF0dXMsIG1lc3NhZ2UpOwoJfQoKCS8vIGZvciB2ZXJpZmljYXRpb24gCglmdW5jdGlvbiBpbnRlcm5hbFZlcmlmeUNlcnQoYnl0ZXMzMiBjZXJ0SGFzaCwgYnl0ZXMzMiBtZXJrbGVIYXNoLCBhZGRyZXNzIGlzc3VlcikgaW50ZXJuYWwgdmlldyByZXR1cm5zIChzdHJpbmcsIHN0cmluZykgewoJCWJ5dGVzMzIgdG1wQ2VydEhhc2g7CgoJCS8vIGNoZWNrIGlmIGRvYyBoYXMgYWxyZWFkeSBiZWVuIHJldm9rZWQKCQlpZiAocmV2b2tlZFtjZXJ0SGFzaF0uZXhpc3RzICYmICFyZXZva2VkW2NlcnRIYXNoXS5iYXRjaEZsYWcpIHsKCQkJcmV0dXJuIChTVEFUVVNfRkFJTCwgTVNHX1JFVk9LRUQpOwoJCX0KCQlpZiAobWVya2xlSGFzaCAhPSAweDAwKSB7CgkJCS8vIGNoZWNrIGlmIG1lcmtsZSByb290IGhhcyBhbHJlYWR5IGJlZW4gcmV2b2tlZAoJCQlpZiAocmV2b2tlZFttZXJrbGVIYXNoXS5leGlzdHMgJiYgcmV2b2tlZFttZXJrbGVIYXNoXS5iYXRjaEZsYWcpIHsKCQkJCXJldHVybiAoU1RBVFVTX0ZBSUwsIE1TR19SRVZPS0VEKTsKCQkJfQoJCQl0bXBDZXJ0SGFzaCA9IG1lcmtsZUhhc2g7CgkJfSBlbHNlIHsKCQkJdG1wQ2VydEhhc2ggPSBjZXJ0SGFzaDsKCQl9CQkKCQkvLyBjaGVjayBpZiBkb2MgaW4gaGFzaCBzdG9yZQoJCWlmIChoYXNoZXNbdG1wQ2VydEhhc2hdLmV4aXN0cykgewoJCQlpZiAocmVjb3ZlckFkZHIodG1wQ2VydEhhc2gsIGhhc2hlc1t0bXBDZXJ0SGFzaF0uc2lnKSAhPSBpc3N1ZXIpIHsJCQkKCQkJCXJldHVybiAoU1RBVFVTX0ZBSUwsIE1TR19JTlZBTElEKTsKCQkJfQoJCQlyZXR1cm4gKFNUQVRVU19QQVNTLCAiIik7CgkJfSBlbHNlIHsKCQkJcmV0dXJuIChTVEFUVVNfRkFJTCwgTVNHX05PVFJFRyk7CgkJfQoJfQoKCWZ1bmN0aW9uIHZlcmlmeUNlcnQoYnl0ZXMzMiBjZXJ0SGFzaCwgYnl0ZXMzMiBtZXJrbGVIYXNoLCBhZGRyZXNzIGlzc3VlcikgcHVibGljIHZpZXcgcmV0dXJucyAoc3RyaW5nLCBzdHJpbmcpIHsKCQlzdHJpbmcgbWVtb3J5IHN0YXR1czsKCQlzdHJpbmcgbWVtb3J5IG1lc3NhZ2U7CgkJYm9vbCBpc0F1dGhvcml6ZWQ7CgoJCS8vIGNoZWNrIHZlcmlmeSBhY2Nlc3MKCQlpc0F1dGhvcml6ZWQgPSBjaGVja1ZlcmlmeUFjY2VzcygpOwoJCWlmICghaXNBdXRob3JpemVkKSB7CgkJCXJldHVybiAoU1RBVFVTX0ZBSUwsIENPREVfQUNDRVNTX1ZFUklGWV9OT1RfQVVUSE9SSVpFRCk7CgkJfQoKCQkoc3RhdHVzLCBtZXNzYWdlKSA9IGludGVybmFsVmVyaWZ5Q2VydChjZXJ0SGFzaCwgbWVya2xlSGFzaCwgaXNzdWVyKTsKCQlyZXR1cm4gKHN0YXR1cywgbWVzc2FnZSk7Cgl9CgoJZnVuY3Rpb24gdmVyaWZ5Q2VydFdpdGhJRChieXRlczMyIGNlcnRIYXNoLCBieXRlczMyIG1lcmtsZUhhc2gsIGJ5dGVzMzIgaWQsIGFkZHJlc3MgaXNzdWVyKSBwdWJsaWMgdmlldyByZXR1cm5zIChzdHJpbmcsIHN0cmluZykgewoJCXN0cmluZyBtZW1vcnkgc3RhdHVzOwoJCXN0cmluZyBtZW1vcnkgbWVzc2FnZTsKCQlib29sIGlzQXV0aG9yaXplZDsKCgkJLy8gY2hlY2sgdmVyaWZ5IGFjY2VzcwoJCWlzQXV0aG9yaXplZCA9IGNoZWNrVmVyaWZ5QWNjZXNzKCk7CgkJaWYgKCFpc0F1dGhvcml6ZWQpIHsKCQkJcmV0dXJuIChTVEFUVVNfRkFJTCwgQ09ERV9BQ0NFU1NfVkVSSUZZX05PVF9BVVRIT1JJWkVEKTsKCQl9CgoJCS8vIGNoZWNrIGlmIGFueSByZWNvcmQgYXNzb2NpYXRlZCB3aXRoIGlkCgkJZm9yICh1aW50IGkgPSAwOyBpIDwgaWRNYXBbaWRdLmxlbmd0aDsgaSsrKSB7CgkJCWlmIChpZE1hcFtpZF1baV0uZXhpc3RzID09IHRydWUgJiYgaWRNYXBbaWRdW2ldLmNlcnRoYXNoID09IGNlcnRIYXNoKSB7CgkJCQkoc3RhdHVzLCBtZXNzYWdlKSA9IGludGVybmFsVmVyaWZ5Q2VydChjZXJ0SGFzaCwgbWVya2xlSGFzaCwgaXNzdWVyKTsKCQkJCXJldHVybiAoc3RhdHVzLCBtZXNzYWdlKTsKCQkJfQoJCX0KCQkvLyBubyByZWNvcmQgZm91bmQKCQlyZXR1cm4gKFNUQVRVU19GQUlMLCBNU0dfTk9GT1VORCk7Cgl9CgoJZnVuY3Rpb24gY2hlY2tWZXJpZnlBY2Nlc3MoKSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKGJvb2wpIHsKCQkvLyBjaGVjayBpZiBzZW5kZXIgaXMgYXV0aG9yaXplZCBmb3IgY2VydCB2ZXJpZmljYXRpb24KCQlyZXR1cm4gY2hlY2tBY2Nlc3MobXNnLnNlbmRlciwgQUNDRVNTX1ZFUklGSUVSKTsKCX0KCgkvLyBldmVudCBhcyBhIGZvcm0gb2YgcmV0dXJuIHZhbHVlLCBzdGF0ZSBtdXRhdGluZyBmdW5jdGlvbiBjYW5ub3QgcmV0dXJuIHZhbHVlIHRvIGV4dGVybmFsIHBhcnR5CglldmVudCBMb2dSZXZva2VDZXJ0KHN0cmluZywgc3RyaW5nKTsKCWZ1bmN0aW9uIHJldm9rZUNlcnQoYnl0ZXMzMiBjZXJ0SGFzaCwgYnl0ZXMgc2lnQ2VydEhhc2gsIGJ5dGVzMzIgbWVya2xlSGFzaCwgYm9vbCBiYXRjaEZsYWcsIHVpbnQgcmV2b2NhdGlvbkRhdGUpIHB1YmxpYyB7CgkJc3RyaW5nIG1lbW9yeSBzdGF0dXM7CgkJc3RyaW5nIG1lbW9yeSBtZXNzYWdlOwoKCQkoc3RhdHVzLCBtZXNzYWdlKSA9IGludGVybmFsUmV2b2tlQ2VydChjZXJ0SGFzaCwgc2lnQ2VydEhhc2gsIG1lcmtsZUhhc2gsIGJhdGNoRmxhZywgcmV2b2NhdGlvbkRhdGUpOwoJCUxvZ1Jldm9rZUNlcnQoc3RhdHVzLCBtZXNzYWdlKTsKCX0KCgkvLyBldmVudCBMb2dSZWlzc3VlQ2VydChzdHJpbmcsIGJ5dGVzMzIsIHN0cmluZyk7CglldmVudCBMb2dSZWlzc3VlQ2VydChzdHJpbmcsIHN0cmluZyk7CglmdW5jdGlvbiByZWlzc3VlQ2VydChieXRlczMyIHJldm9rZUNlcnRIYXNoLCBieXRlcyByZXZva2VTaWdDZXJ0SGFzaCwgYnl0ZXMzMiByZXZva2VNZXJrbGVIYXNoLCB1aW50IHJldm9jYXRpb25EYXRlLCBieXRlczMyIHJlZ2lzdGVyQ2VydEhhc2gsIGJ5dGVzIHJlZ2lzdGVyU2lnLCB1aW50IHJlZ2lzdHJhdGlvbkRhdGUpIHB1YmxpYyB7CgkJc3RyaW5nIG1lbW9yeSBzdGF0dXM7CgkJc3RyaW5nIG1lbW9yeSBtZXNzYWdlOwoKCQkvLyByZXZva2UgY2VydGlmaWNhdGUKCQkoc3RhdHVzLCBtZXNzYWdlKSA9IGludGVybmFsUmV2b2tlQ2VydChyZXZva2VDZXJ0SGFzaCwgcmV2b2tlU2lnQ2VydEhhc2gsIHJldm9rZU1lcmtsZUhhc2gsIGZhbHNlLCByZXZvY2F0aW9uRGF0ZSk7CgkJaWYgKGtlY2NhazI1NihzdGF0dXMpICE9IGtlY2NhazI1NihTVEFUVVNfUEFTUykpIHsKCQkJTG9nUmVpc3N1ZUNlcnQoc3RhdHVzLCBtZXNzYWdlKTsKCQkJcmV0dXJuOwoJCX0KCgkJLy8gcmVnaXN0ZXIgY2VydGlmaWNhdGUKCQkoc3RhdHVzLCBtZXNzYWdlKSA9IGludGVybmFsUmVnaXN0ZXJDZXJ0KHJlZ2lzdGVyQ2VydEhhc2gsIHJlZ2lzdGVyU2lnLCByZWdpc3RyYXRpb25EYXRlKTsKCQlMb2dSZWlzc3VlQ2VydChzdGF0dXMsIG1lc3NhZ2UpOwoJCWlmIChrZWNjYWsyNTYoc3RhdHVzKSAhPSBrZWNjYWsyNTYoU1RBVFVTX1BBU1MpKSB7CgkJCXJldmVydCgpOwkJCQoJCX0KCgkJTG9nUmVpc3N1ZUNlcnQoU1RBVFVTX1BBU1MsICIiKTsKCX0KCglldmVudCBMb2dSZWlzc3VlQ2VydFdpdGhJRChzdHJpbmcsIHN0cmluZyk7CglmdW5jdGlvbiByZWlzc3VlQ2VydFdpdGhJRChieXRlczMyIHJldm9rZUNlcnRIYXNoLCBieXRlcyByZXZva2VTaWdDZXJ0SGFzaCwgYnl0ZXMzMiByZXZva2VNZXJrbGVIYXNoLCB1aW50IHJldm9jYXRpb25EYXRlLCBieXRlczMyIHJlZ2lzdGVyQ2VydEhhc2gsIGJ5dGVzIHJlZ2lzdGVyU2lnLCBieXRlczMyIHJlZ2lzdGVyTWVya2xlSGFzaCwgdWludCByZWdpc3RyYXRpb25EYXRlLCBieXRlczMyIGlkKSBwdWJsaWMgewoJCXN0cmluZyBtZW1vcnkgc3RhdHVzOwoJCXN0cmluZyBtZW1vcnkgbWVzc2FnZTsKCgkJLy8gcmV2b2tlIGNlcnRpZmljYXRlCgkJKHN0YXR1cywgbWVzc2FnZSkgPSBpbnRlcm5hbFJldm9rZUNlcnQocmV2b2tlQ2VydEhhc2gsIHJldm9rZVNpZ0NlcnRIYXNoLCByZXZva2VNZXJrbGVIYXNoLCBmYWxzZSwgcmV2b2NhdGlvbkRhdGUpOwoJCWlmIChrZWNjYWsyNTYoc3RhdHVzKSAhPSBrZWNjYWsyNTYoU1RBVFVTX1BBU1MpKSB7CgkJCUxvZ1JlaXNzdWVDZXJ0V2l0aElEKHN0YXR1cywgbWVzc2FnZSk7CgkJCXJldHVybjsKCQl9CgoJCS8vIHJlZ2lzdGVyIGNlcnRpZmljYXRlCgkJKHN0YXR1cywgbWVzc2FnZSkgPSBpbnRlcm5hbFJlZ2lzdGVyQ2VydFdpdGhJRChyZWdpc3RlckNlcnRIYXNoLCByZWdpc3RlclNpZywgcmVnaXN0ZXJNZXJrbGVIYXNoLCByZWdpc3RyYXRpb25EYXRlLCBpZCk7CgkJTG9nUmVpc3N1ZUNlcnRXaXRoSUQoc3RhdHVzLCBtZXNzYWdlKTsKCQlpZiAoa2VjY2FrMjU2KHN0YXR1cykgIT0ga2VjY2FrMjU2KFNUQVRVU19QQVNTKSkgewoJCQlyZXZlcnQoKTsKCQl9CgoJCUxvZ1JlaXNzdWVDZXJ0V2l0aElEKFNUQVRVU19QQVNTLCAiIik7Cgl9CgoJZnVuY3Rpb24gcmVjb3ZlckFkZHIoYnl0ZXMzMiBoYXNoLCBieXRlcyBzaWcpIGludGVybmFsIHB1cmUgcmV0dXJucyAoYWRkcmVzcykgewoJCWJ5dGVzMzIgcjsKCQlieXRlczMyIHM7CgkJdWludDggdjsKCgkJLy9DaGVjayB0aGUgc2lnbmF0dXJlIGxlbmd0aAoJCWlmIChzaWcubGVuZ3RoICE9IDY1KSB7CgkJCXJldHVybiAoYWRkcmVzcygwKSk7CgkJfQoJCQoJCS8vIERpdmlkZSB0aGUgc2lnbmF0dXJlIGluIHIsIHMgYW5kIHYgdmFyaWFibGVzCiAgICAgICAgYXNzZW1ibHkgewogICAgICAgICAgciA6PSBtbG9hZChhZGQoc2lnLCAzMykpCiAgICAgICAgICBzIDo9IG1sb2FkKGFkZChzaWcsIDY1KSkKICAgICAgICAgIHYgOj0gbWxvYWQoYWRkKHNpZywgMSkpCiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIFZlcnNpb24gb2Ygc2lnbmF0dXJlIHNob3VsZCBiZSAyNyBvciAyOCwgYnV0IDAgYW5kIDEgYXJlIGFsc28gcG9zc2libGUgdmVyc2lvbnMKICAgICAgICBpZiAodiA8IDI3KSB7CiAgICAgICAgICB2ICs9IDI3OwogICAgICAgIH0KCgkJLy8gSWYgdGhlIHZlcnNpb24gaXMgY29ycmVjdCByZXR1cm4gdGhlIHNpZ25lciBhZGRyZXNzCgkJaWYgKHYgIT0gMjcgJiYgdiAhPSAyOCkgewoJCQlyZXR1cm4gKGFkZHJlc3MoMSkpOwoJCX0gZWxzZSB7CgkJCXJldHVybiBlY3JlY292ZXIoaGFzaCwgdiwgciwgcyk7CgkJfQoJfQp9'.
	

]
