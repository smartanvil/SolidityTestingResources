Class {
	#name : #SRT8008292c480b1d23a4203d94468cc899759bc70e,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT8008292c480b1d23a4203d94468cc899759bc70e >> base64 [
	^ 'Ly8gIF9fXyAgICAgICAgICAgICBfICAgICAgICAgICAgICAgICAgICAgICAgIF9fXyAgICAgICAgICAgICAgXwovLyB8IF8gKSAgXyAgXyAgIF9ffCB8ICBfXyBfICAgIF9fIF9fICBfX18gICB8IF8gXCAgX19fICAgX19fIHwgfF8KLy8gfCBfIFwgfCB8fCB8IC8gX2AgfCAvIF9gIHwgICBcIFYgLyAoXy08ICAgfCAgXy8gLyAtXykgKF8tPCB8ICBffAovLyB8X19fLyAgXF8sX3wgXF9fLF98IFxfXyxffCAgICBcXy8gIC9fXy8gICB8X3wgICBcX19ffCAvX18vICBcX198CgovLyBCdWRhIHZzIFBlc3QKLy8gdGhlIG1vc3QgcmlkaWN1bG91cyBSb2NrLVNjaXNzb3ItUGFwZXIgZ2FtZSBvbiBFdGhlcmV1bQovLyBDb3B5cmlnaHQgMjAxOCB3d3cuYnVkYXBlc3RnYW1lLmNvbQoKcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyBGaWxlOiBjb250cmFjdHMtcmF3L093bmFibGUuc29sCgpjb250cmFjdCBPd25hYmxlIHsKICAgICAgYWRkcmVzcyBwdWJsaWMgICAgICAgIG93bmVyOwoKCiAgICAgICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQgKGFkZHJlc3MgaW5kZXhlZCBwcmV2T3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgogICAgICAgIGZ1bmN0aW9uIE93bmFibGUgKCkgcHVibGljIHsKICAgICAgICAgICAgICAgIG93bmVyICAgICAgID0gbXNnLnNlbmRlcjsKICAgICAgICB9CgogICAgICAgIG1vZGlmaWVyIG9ubHlPd25lciAoKSB7CiAgICAgICAgICAgICAgICByZXF1aXJlIChtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICAgICAgICAgIF87CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcCAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgICAgICAgcmVxdWlyZSAobmV3T3duZXIgIT0gYWRkcmVzcyAoMCkpOwoKICAgICAgICAgICAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZCAob3duZXIsIG5ld093bmVyKTsKICAgICAgICAgICAgICBvd25lciAgICAgPSBuZXdPd25lcjsKICAgICAgICB9Cn0KCi8vIEZpbGU6IGNvbnRyYWN0cy1yYXcvU2FmZU1hdGguc29sCgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgICAgICBmdW5jdGlvbiBhZGQgKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAgICAgICB1aW50MjU2ICAgYyA9IGEgKyBiOwogICAgICAgICAgICAgIGFzc2VydCAoYyA+PSBhKTsKICAgICAgICAgICAgICByZXR1cm4gYzsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHN1YiAodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgICAgICAgIGFzc2VydCAoYiA8PSBhKTsKICAgICAgICAgICAgICByZXR1cm4gYSAtIGI7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBtdWwgKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAgICAgICAgIGlmIChhID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB1aW50MjU2IGMgPSBhICogYjsKICAgICAgICAgICAgICAgIGFzc2VydCAoYy9hID09IGIpOwogICAgICAgICAgICAgICAgcmV0dXJuIGM7CiAgICAgICAgfQoKICAgICAgICAvLyBTb2xpZHR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzCiAgICAgICAgLy8gZnVuY3Rpb24gZGl2ICh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgLy8gICAgICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICAgICAgLy8gICAgICAgdWludDI1NiAgIGMgPSBhL2I7CiAgICAgICAgLy8gICAgICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgICAgICAvLyAgICAgICByZXR1cm4gYzsKICAgICAgICAvLyB9Cn0KCi8vIEZpbGU6IGNvbnRyYWN0cy1yYXcvU3RhbmRhcmRUb2tlbi5zb2wKCi8vIEVSQzIwIGlzIEVSQzIwQmFzaWMKCgovLyBFUkMyMCBzdGFuZGFyZApjb250cmFjdCBFUkMyMCB7CiAgICAgICAgLy8gQmFzaWMKICAgICAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSAoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICAgICAgICBmdW5jdGlvbiBiYWxhbmNlT2YgKGFkZHJlc3MgdG9rZW5Pd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgICAgICAgZnVuY3Rpb24gdHJhbnNmZXIgKGFkZHJlc3MgdG8sIHVpbnQyNTYgYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICAgICAgZXZlbnQgVHJhbnNmZXIgKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgYW1vdW50KTsKCiAgICAgICAgLy8gQWRkaXRpb25hbAogICAgICAgIGZ1bmN0aW9uIGFsbG93YW5jZSAoYWRkcmVzcyB0b2tlbk93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogICAgICAgIGZ1bmN0aW9uIGFwcHJvdmUgKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiBhbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICAgICAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20gKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiBhbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICAgICAgICBldmVudCBBcHByb3ZhbCAoYWRkcmVzcyBpbmRleGVkIHRva2VuT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IGFtb3VudCk7Cn0KCgovLyBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMKCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAgewogICAgICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgICAgICAvLyBCYXNpYwogICAgICAgIHVpbnQyNTYgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90b2tlblRvdGFsOwogICAgICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgICAgICAgIF90b2tlbkJhbGFuY2VzOwoKICAgICAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSAoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX3Rva2VuVG90YWw7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBiYWxhbmNlT2YgKGFkZHJlc3MgdG9rZW5Pd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgICAgICAgICAgICAgcmV0dXJuIF90b2tlbkJhbGFuY2VzW3Rva2VuT3duZXJdOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gX3RyYW5zZmVyIChhZGRyZXNzIHRvLCB1aW50MjU2IGFtb3VudCkgaW50ZXJuYWwgewogICAgICAgICAgICAgICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgICAgICAgICAgICAgLy8gU2FmZU1hdGguYWRkIHdpbGwgdGhyb3cgaWYgb3ZlcmZsb3dzCiAgICAgICAgICAgICAgICBfdG9rZW5CYWxhbmNlc1ttc2cuc2VuZGVyXSAgICAgID0gX3Rva2VuQmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViIChhbW91bnQpOwogICAgICAgICAgICAgICAgX3Rva2VuQmFsYW5jZXNbdG9dICAgICAgICAgICAgICA9IF90b2tlbkJhbGFuY2VzW3RvXS5hZGQgKGFtb3VudCk7CgogICAgICAgICAgICAgICAgVHJhbnNmZXIgKG1zZy5zZW5kZXIsIHRvLCBhbW91bnQpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdHJhbnNmZXIgKGFkZHJlc3MgdG8sIHVpbnQyNTYgYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgICAgICAgICAgcmVxdWlyZSAodG8gIT0gYWRkcmVzcyAoMCkpOwogICAgICAgICAgICAgICAgcmVxdWlyZSAoYW1vdW50IDw9IF90b2tlbkJhbGFuY2VzW21zZy5zZW5kZXJdKTsgICAgIC8vIHNob3VsZCBub3QgYmUgbmVjZXNzYXJ5LCBidXQgZG91YmxlIGNoZWNrcwoKICAgICAgICAgICAgICAgIF90cmFuc2ZlciAodG8sIGFtb3VudCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgoKICAgICAgICAvLyBBZGRpdGlvbmFsCiAgICAgICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBpbnRlcm5hbCAgX3Rva2VuQWxsb3dhbmNlOwoKICAgICAgICBmdW5jdGlvbiBhbGxvd2FuY2UgKGFkZHJlc3MgdG9rZW5Pd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX3Rva2VuQWxsb3dhbmNlW3Rva2VuT3duZXJdW3NwZW5kZXJdOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gYXBwcm92ZSAoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IGFtb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICAgICAgICAgIF90b2tlbkFsbG93YW5jZVttc2cuc2VuZGVyXVtzcGVuZGVyXSAgID0gYW1vdW50OwogICAgICAgICAgICAgICAgQXBwcm92YWwgKG1zZy5zZW5kZXIsIHNwZW5kZXIsIGFtb3VudCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIF90cmFuc2ZlckZyb20gKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiBhbW91bnQpIGludGVybmFsIHsKICAgICAgICAgICAgICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgICAgICAgICAgICAgIC8vIFNhZmVNYXRoLmFkZCB3aWxsIHRocm93IGlmIG92ZXJmbG93cwogICAgICAgICAgICAgICAgX3Rva2VuQmFsYW5jZXNbZnJvbV0gICAgPSBfdG9rZW5CYWxhbmNlc1tmcm9tXS5zdWIgKGFtb3VudCk7CiAgICAgICAgICAgICAgICBfdG9rZW5CYWxhbmNlc1t0b10gICAgICA9IF90b2tlbkJhbGFuY2VzW3RvXS5hZGQgKGFtb3VudCk7CgogICAgICAgICAgICAgICAgVHJhbnNmZXIgKGZyb20sIHRvLCBhbW91bnQpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tIChhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgICAgICAgICAgcmVxdWlyZSAodG8gIT0gYWRkcmVzcyAoMCkpOwogICAgICAgICAgICAgICAgcmVxdWlyZSAoYW1vdW50IDw9IF90b2tlbkJhbGFuY2VzW2Zyb21dKTsKICAgICAgICAgICAgICAgIHJlcXVpcmUgKGFtb3VudCA8PSBfdG9rZW5BbGxvd2FuY2VbZnJvbV1bbXNnLnNlbmRlcl0pOwoKICAgICAgICAgICAgICAgIF90cmFuc2ZlckZyb20gKGZyb20sIHRvLCBhbW91bnQpOwoKICAgICAgICAgICAgICAgIF90b2tlbkFsbG93YW5jZVtmcm9tXVttc2cuc2VuZGVyXSAgICAgPSBfdG9rZW5BbGxvd2FuY2VbZnJvbV1bbXNnLnNlbmRlcl0uc3ViIChhbW91bnQpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQp9CgovLyBGaWxlOiBjb250cmFjdHMtcmF3L1JvY2tTY2lzc29yUGFwZXIuc29sCgovLyAgX19fICAgICAgICAgICAgIF8gICAgICAgICAgICAgICAgICAgICAgICAgX19fICAgICAgICAgICAgICBfCi8vIHwgXyApICBfICBfICAgX198IHwgIF9fIF8gICAgX18gX18gIF9fXyAgIHwgXyBcICBfX18gICBfX18gfCB8XwovLyB8IF8gXCB8IHx8IHwgLyBfYCB8IC8gX2AgfCAgIFwgViAvIChfLTwgICB8ICBfLyAvIC1fKSAoXy08IHwgIF98Ci8vIHxfX18vICBcXyxffCBcX18sX3wgXF9fLF98ICAgIFxfLyAgL19fLyAgIHxffCAgIFxfX198IC9fXy8gIFxfX3wKCi8vIEJ1ZGEgdnMgUGVzdAovLyB0aGUgbW9zdCByaWRpY3Vsb3VzIFJvY2stU2Npc3Nvci1QYXBlciBnYW1lIG9uIEV0aGVyZXVtCi8vIENvcHlyaWdodCAyMDE4IHd3dy5idWRhcGVzdGdhbWUuY29tCgpwcmFnbWEgc29saWRpdHkgXjAuNC4xODsKCgoKCgpjb250cmFjdCBSU1BTY2llbmNlSW50ZXJmYWNlIHsKCiAgICAgICAgZnVuY3Rpb24gaXNSU1BTY2llbmNlKCkgcHVibGljIHB1cmUgcmV0dXJucyAoYm9vbCk7CiAgICAgICAgZnVuY3Rpb24gY2FsY1Bvc2VCaXRzICh1aW50MjU2IHNlaywgdWludDI1NiBwb3Nlc2VrMCwgdWludDI1NiBwb3Nlc2VrMSkgcHVibGljIHB1cmUgcmV0dXJucyAodWludDI1Nik7Cn0KCgpjb250cmFjdCBSb2NrU2Npc3NvclBhcGVyIGlzIFN0YW5kYXJkVG9rZW4sIE93bmFibGUgewogICAgICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgICAgICBzdHJpbmcgcHVibGljICAgbmFtZSAgICAgICAgICAgICAgICA9ICdSb2NrU2Npc3NvclBhcGVyJzsKICAgICAgICBzdHJpbmcgcHVibGljICAgc3ltYm9sICAgICAgICAgICAgICA9ICdSU1AnOwogICAgICAgIHVpbnQ4IHB1YmxpYyAgICBkZWNpbWFscyAgICAgICAgICAgID0gMTg7CgogICAgICAgIHVpbnQ4IHB1YmxpYyAgICB2ZXJzaW9uICAgICAgICAgICAgID0gNzsKCiAgICAgICAgLy8gdWludDI1NiBwdWJsaWMgIGluaXRpYWxBbW91bnQgICAgICAgID0gNSAqIDEwKip1aW50KGRlY2ltYWxzKzYpOwoKICAgICAgICBSU1BTY2llbmNlSW50ZXJmYWNlIHB1YmxpYyAgICAgIHJzcFNjaWVuY2U7CgoKICAgICAgICBmdW5jdGlvbiBfc2V0UlNQU2NpZW5jZUFkZHJlc3MgKGFkZHJlc3MgYWRkcikgaW50ZXJuYWwgewogICAgICAgICAgICAgICAgUlNQU2NpZW5jZUludGVyZmFjZSAgICAgY2FuZGlkYXRlICAgPSBSU1BTY2llbmNlSW50ZXJmYWNlIChhZGRyKTsKICAgICAgICAgICAgICAgIHJlcXVpcmUgKGNhbmRpZGF0ZS5pc1JTUFNjaWVuY2UgKCkpOwogICAgICAgICAgICAgICAgcnNwU2NpZW5jZSAgICAgID0gY2FuZGlkYXRlOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gc2V0UlNQU2NpZW5jZUFkZHJlc3MgKGFkZHJlc3MgYWRkcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgICAgICAgICBfc2V0UlNQU2NpZW5jZUFkZHJlc3MgKGFkZHIpOwogICAgICAgIH0KCiAgICAgICAgLy8gQ29uc3RydWN0b3IgaXMgbm90IGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgZm9ydHVuYXRlbHkKICAgICAgICBmdW5jdGlvbiBSb2NrU2Npc3NvclBhcGVyIChhZGRyZXNzIGFkZHIpIHB1YmxpYyB7CiAgICAgICAgICAgICAgICAvLyBPbndlciBzaG91bGQgYmUgc2V0IHVwIGFuZCBiZWNvbWUgbXNnLnNlbmRlcgogICAgICAgICAgICAgICAgLy8gRHVyaW5nIHRlc3QsIG1pbnQgb3duZXIgc29tZSBhbW91bnQKICAgICAgICAgICAgICAgIC8vIER1cmluZyBkZXBsb3ltZW50LCBvbndlciBoaW1zZWxmIGhhcyB0byBidXkgdG9rZW5zIHRvIGJlIGZhaXIKICAgICAgICAgICAgICAgIC8vIF9taW50IChtc2cuc2VuZGVyLCBpbml0aWFsQW1vdW50KTsKCiAgICAgICAgICAgICAgICBpZiAoYWRkciAhPSBhZGRyZXNzKDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRSU1BTY2llbmNlQWRkcmVzcyAoYWRkcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiAoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgICAgICAgICByZXZlcnQgKCk7CiAgICAgICAgfQoKCiAgICAgICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgICAgICAgICB3ZWlJbnZlc3RlZDsKICAgICAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyAgICAgICAgIHdlaVJlZnVuZGVkOwoKICAgICAgICBtYXBwaW5nIChhZGRyZXNzID0+IGFkZHJlc3MpIHB1YmxpYyAgICAgICAgIHJlZmVycmFsczsKICAgICAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyAgICAgICAgIG5SZWZzOwogICAgICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljICAgICAgICAgd2VpRnJvbVJlZnM7CgogICAgICAgIGV2ZW50IFRva2VuSW52ZXN0IChhZGRyZXNzIGluZGV4ZWQgcHVyY2hhc2VyLCB1aW50MjU2IG5XZWlzLCB1aW50MjU2IG5Ub2tlbnMsIGFkZHJlc3MgcmVmZXJyYWwpOwogICAgICAgIGV2ZW50IFRva2VuUmVmdW5kIChhZGRyZXNzIGluZGV4ZWQgcHVyY2hhc2VyLCB1aW50MjU2IG5XZWlzLCB1aW50MjU2IG5Ub2tlbnMpOwoKICAgICAgICAvLyBCdXlpbmcgYW5kIHNlbGxpbmcgaW5jdXIgbWludGluZyBhbmQgYnVybmluZwogICAgICAgIGZ1bmN0aW9uIF9taW50IChhZGRyZXNzIHRva2VuT3duZXIsIHVpbnQyNTYgYW1vdW50KSBpbnRlcm5hbCB7CiAgICAgICAgICAgICAgICBfdG9rZW5Ub3RhbCAgICAgICAgICAgICAgICAgICAgID0gX3Rva2VuVG90YWwuYWRkIChhbW91bnQpOwogICAgICAgICAgICAgICAgX3Rva2VuQmFsYW5jZXNbdG9rZW5Pd25lcl0gICAgICs9IGFtb3VudDsgICAvLyBubyBuZWVkIHRvIHJlcXVpcmUsIG92ZXJmbG93IGFscmVhZHkgY2hlY2tlZCBhYm92ZQoKICAgICAgICAgICAgICAgIC8vIEp1c3QgZW1pdCBhIFRyYW5zZmVyIEV2ZW50CiAgICAgICAgICAgICAgICBUcmFuc2ZlciAoYWRkcmVzcyAoMCksIHRva2VuT3duZXIsIGFtb3VudCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBfYnVybiAoYWRkcmVzcyB0b2tlbk93bmVyLCB1aW50MjU2IGFtb3VudCkgaW50ZXJuYWwgewogICAgICAgICAgICAgICAgX3Rva2VuQmFsYW5jZXNbdG9rZW5Pd25lcl0gID0gX3Rva2VuQmFsYW5jZXNbdG9rZW5Pd25lcl0uc3ViIChhbW91bnQpOwogICAgICAgICAgICAgICAgX3Rva2VuVG90YWwgICAgICAgICAgICAgICAgLT0gYW1vdW50OyAgICAgICAvLyBubyBuZWVkIHRvIHJlcXVpcmUsIHVuZGVyZmxvdyBhbHJlYWR5IGNoZWNrZWQgYWJvdmUKCiAgICAgICAgICAgICAgICAvLyBKdXN0IGVtaXQgYSBUcmFuc2ZlciBFdmVudAogICAgICAgICAgICAgICAgVHJhbnNmZXIgKHRva2VuT3duZXIsIGFkZHJlc3MgKDApLCBhbW91bnQpOwogICAgICAgIH0KCiAgICAgICAgLy8gT25seSBvd25lciBpcyBhbGxvd2VkIHRvIGRvIHRoaXMKICAgICAgICBmdW5jdGlvbiBtaW50ICh1aW50MjU2IGFtb3VudCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgICAgICAgICBfbWludCAobXNnLnNlbmRlciwgYW1vdW50KTsKICAgICAgICB9CgoKICAgICAgICBmdW5jdGlvbiBidXlUb2tlbnMgKGFkZHJlc3MgcmVmZXJyYWwpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICAgICAgICAgIC8vIG1pbmltdW0gYnV5czogMSB0b2tlbgogICAgICAgICAgICAgICAgdWludDI1NiAgICAgYW1vdW50ICAgICAgPSBtc2cudmFsdWUubXVsICg1MDAwKTsKICAgICAgICAgICAgICAgIHJlcXVpcmUgKGFtb3VudCA+PSAxICogMTAqKnVpbnQoZGVjaW1hbHMpKTsKCiAgICAgICAgICAgICAgICAvLyBfcHJvY2Vzc1B1cmNoYXNlLCBfZGVsaXZlclRva2VucyB1c2luZyBNaW50aW5nCiAgICAgICAgICAgICAgICBfbWludCAobXNnLnNlbmRlciwgYW1vdW50KTsKCiAgICAgICAgICAgICAgICBpZiAoIHJlZmVycmFsc1ttc2cuc2VuZGVyXSA9PSBhZGRyZXNzKDApICYmCiAgICAgICAgICAgICAgICAgICAgIHJlZmVycmFsICE9IG1zZy5zZW5kZXIgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWZlcnJhbCA9PSBhZGRyZXNzKDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJyYWwgICAgPSBvd25lcjsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJyYWxzW21zZy5zZW5kZXJdICAgPSByZWZlcnJhbDsKICAgICAgICAgICAgICAgICAgICAgICAgblJlZnNbcmVmZXJyYWxdICAgICAgICArPSAxOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIEZ1bmQgbG9ncwogICAgICAgICAgICAgICAgd2VpSW52ZXN0ZWRbbXNnLnNlbmRlcl0gICAgKz0gbXNnLnZhbHVlOwogICAgICAgICAgICAgICAgVG9rZW5JbnZlc3QgKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgYW1vdW50LCByZWZlcnJhbCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBzZWxsVG9rZW5zICh1aW50MjU2IGFtb3VudCkgcHVibGljIHsKICAgICAgICAgICAgICAgIF9idXJuIChtc2cuc2VuZGVyLCBhbW91bnQpOwoKICAgICAgICAgICAgICAgIC8vIHVpbnQyNTYgICAgIG5XZWlzICAgPSBhbW91bnQvcmF0ZSAqIDAuOTsKICAgICAgICAgICAgICAgIHVpbnQyNTYgICAgIG5XZWlzICAgPSBhbW91bnQgLyA1MDAwOwogICAgICAgICAgICAgICAgLy8gZ2FtZUJhbGFuY2UgICAgICAgIC09IG5XZWlzOwoKICAgICAgICAgICAgICAgIC8vIEZ1bmQgbG9ncwogICAgICAgICAgICAgICAgd2VpUmVmdW5kZWRbbXNnLnNlbmRlcl0gICAgICs9IG5XZWlzOwogICAgICAgICAgICAgICAgVG9rZW5SZWZ1bmQgKG1zZy5zZW5kZXIsIG5XZWlzLCBhbW91bnQpOwoKICAgICAgICAgICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIgKG5XZWlzKTsKICAgICAgICB9CgoKCiAgICAgICAgLy8gR2FtaW5ncwogICAgICAgIHN0cnVjdCBHYW1lUlNQIHsKICAgICAgICAgICAgICAgIGFkZHJlc3MgICAgICAgICBjcmVhdG9yOwogICAgICAgICAgICAgICAgdWludDI1NiAgICAgICAgIGNyZWF0b3JQb3NlOwogICAgICAgICAgICAgICAgLy8gdWludDI1NgogICAgICAgICAgICAgICAgdWludDI1NiAgICAgICAgIG5Ub2tlbnM7CgogICAgICAgICAgICAgICAgYWRkcmVzcyAgICAgICAgIHBsYXllcjsKICAgICAgICAgICAgICAgIHVpbnQyNTYgICAgICAgICBwbGF5ZXJQb3NlOwogICAgICAgICAgICAgICAgdWludDI1NiAgICAgICAgIHNlazsKICAgICAgICAgICAgICAgIHVpbnQyNTYgICAgICAgICBwb3NlYml0czsKICAgICAgICB9CgoKICAgICAgICBHYW1lUlNQW10gICBnYW1lczsKICAgICAgICAvLyBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyAgICAgICAgIGxhc3RHYW1lSWQ7CgogICAgICAgIGZ1bmN0aW9uIHRvdGFsR2FtZXMgKCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgICAgICAgICAgICAgcmV0dXJuIGdhbWVzLmxlbmd0aDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdhbWVJbmZvICh1aW50MjU2IGdhbWVJZCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcywgdWludDI1NiwgdWludDI1NiwgYWRkcmVzcywgdWludDI1NiwgdWludDI1NiwgdWludDI1NikgewogICAgICAgICAgICAgICAgR2FtZVJTUCBzdG9yYWdlICAgICBnYW1lICAgID0gZ2FtZXNbZ2FtZUlkXTsKCiAgICAgICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgICAgICAgIGdhbWUuY3JlYXRvciwKICAgICAgICAgICAgICAgICAgICBnYW1lLmNyZWF0b3JQb3NlLAogICAgICAgICAgICAgICAgICAgIGdhbWUublRva2VucywKICAgICAgICAgICAgICAgICAgICBnYW1lLnBsYXllciwKICAgICAgICAgICAgICAgICAgICBnYW1lLnBsYXllclBvc2UsCiAgICAgICAgICAgICAgICAgICAgZ2FtZS5zZWssCiAgICAgICAgICAgICAgICAgICAgZ2FtZS5wb3NlYml0cwogICAgICAgICAgICAgICAgKTsKICAgICAgICB9CgoKICAgICAgICB1aW50OCBwdWJsaWMgICAgICAgIG93bmVyQ3V0ICAgICAgICAgICAgPSA1OyAgICAgICAgICAgICAgICAvLyA1IHBlcmNlbnQKICAgICAgICB1aW50OCBwdWJsaWMgICAgICAgIHJlZmVycmFsQ3V0ICAgICAgICAgPSA1OyAgICAgICAgICAgICAgICAvLyA1IHBlcmNlbnQKICAgICAgICBmdW5jdGlvbiBjaGFuZ2VGZWVDdXQgKHVpbnQ4IG93bkN1dCwgdWludDggcmVmQ3V0KSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICAgICAgICAgIG93bmVyQ3V0ICAgICAgICA9IG93bkN1dDsKICAgICAgICAgICAgICAgIHJlZmVycmFsQ3V0ICAgICA9IHJlZkN1dDsKICAgICAgICB9CgoKICAgICAgICBldmVudCBHYW1lQ3JlYXRlZCAoYWRkcmVzcyBpbmRleGVkIGNyZWF0b3IsIHVpbnQyNTYgZ2FtZUlkLCB1aW50MjU2IHBvc2UpOwogICAgICAgIGV2ZW50IEdhbWVQbGF5ZWQgKGFkZHJlc3MgaW5kZXhlZCBwbGF5ZXIsIHVpbnQyNTYgZ2FtZUlkLCB1aW50MjU2IHBvc2UpOwogICAgICAgIGV2ZW50IEdhbWVTb2x2ZWQgKGFkZHJlc3MgaW5kZXhlZCBzb2x2ZXIsIHVpbnQyNTYgZ2FtZUlkLCB1aW50MjU2IHBvc2ViaXRzLCBhZGRyZXNzIHJlZmVycmFsLCB1aW50MjU2IHNvbHZlckZlZSk7CgogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUdhbWUgKHVpbnQyNTYgYW1vdW50LCB1aW50MjU2IHBvc2UpIHB1YmxpYyB7CiAgICAgICAgICAgICAgICAvLyBXaWxsIGNoZWNrIHRva2VuQmFsYW5jZSBvZiBzZW5kZXIgaW4gdHJhbnNmZXIgKCkKICAgICAgICAgICAgICAgIC8vIHJlcXVpcmUgKF90b2tlbkJhbGFuY2VzW21zZy5zZW5kZXJdID49IGFtb3VudCAmJiBhbW91bnQgPj0gMTAwICogMTAqKnVpbnQoZGVjaW1hbHMpKTsKICAgICAgICAgICAgICAgIHJlcXVpcmUgKF90b2tlbkJhbGFuY2VzW21zZy5zZW5kZXJdID49IGFtb3VudCk7CgogICAgICAgICAgICAgICAgLy8gV2Ugc2V0IDEgYXMgdGhlIG1pbmltYWwgdG9rZW4gcmVxdWlyZWQsIGJ1dCAxMDAgdG9rZW5zIHByb2JhYmx5IGlzIHRoZSBtaW5pbXVtIHZpYWJsZQogICAgICAgICAgICAgICAgcmVxdWlyZSAoYW1vdW50ID49IDEgKiAxMCoqdWludChkZWNpbWFscykpOwoKCiAgICAgICAgICAgICAgICAvLyBlc2NyZXcgdG9rZW5zOwogICAgICAgICAgICAgICAgX3RyYW5zZmVyICh0aGlzLCBhbW91bnQpOwoKICAgICAgICAgICAgICAgIEdhbWVSU1AgbWVtb3J5ICAgICAgZ2FtZSAgICA9IEdhbWVSU1AgKHsKICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRvcjogICAgICAgIG1zZy5zZW5kZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0b3JQb3NlOiAgICBwb3NlLAogICAgICAgICAgICAgICAgICAgICAgICBuVG9rZW5zOiAgICAgICAgYW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXI6ICAgICAgICAgYWRkcmVzcyAoMCksCiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllclBvc2U6ICAgICAwLAogICAgICAgICAgICAgICAgICAgICAgICBzZWs6ICAgICAgICAgICAgMCwKICAgICAgICAgICAgICAgICAgICAgICAgcG9zZWJpdHM6ICAgICAgIDAKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHVpbnQyNTYgICAgIGdhbWVJZCAgICAgICAgICA9IGdhbWVzLnB1c2ggKGdhbWUpIC0gMTsKCiAgICAgICAgICAgICAgICAvLyBsYXN0R2FtZUlkW21zZy5zZW5kZXJdICAgICAgPSBnYW1lSWQ7CiAgICAgICAgICAgICAgICAvLyBUb2RvOiBMYXN0IEdhbWVJZAogICAgICAgICAgICAgICAgLy8gTGV0J3MgYmUgYWJzb2x1dGVseSBzdXJlIGFycmF5IGRvbid0IGhpdCBpdHMgbGltaXRzCiAgICAgICAgICAgICAgICByZXF1aXJlIChnYW1lSWQgPT0gdWludDI1Nih1aW50MzIoZ2FtZUlkKSkpOwogICAgICAgICAgICAgICAgR2FtZUNyZWF0ZWQgKG1zZy5zZW5kZXIsIGdhbWVJZCwgcG9zZSk7CiAgICAgICAgfQoKCiAgICAgICAgZnVuY3Rpb24gcGxheUdhbWUgKHVpbnQyNTYgZ2FtZUlkLCB1aW50MjU2IHBvc2UpIHB1YmxpYyB7CiAgICAgICAgICAgICAgICBHYW1lUlNQIHN0b3JhZ2UgICAgIGdhbWUgICAgPSBnYW1lc1tnYW1lSWRdOwoKICAgICAgICAgICAgICAgIHJlcXVpcmUgKG1zZy5zZW5kZXIgIT0gZ2FtZS5jcmVhdG9yKTsKICAgICAgICAgICAgICAgIHJlcXVpcmUgKGdhbWUucGxheWVyID09IGFkZHJlc3MgKDApKTsKCiAgICAgICAgICAgICAgICB1aW50MjU2ICAgICBuVG9rZW5zID0gZ2FtZS5uVG9rZW5zOwogICAgICAgICAgICAgICAgLy8gV2lsbCBjaGVjayB0b2tlbkJhbGFuY2Ugb2Ygc2VuZGVyIGluIHRyYW5zZmVyICgpCiAgICAgICAgICAgICAgICByZXF1aXJlIChfdG9rZW5CYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBuVG9rZW5zKTsKCiAgICAgICAgICAgICAgICAvLyBlc2NyZXcgdG9rZW5zOwogICAgICAgICAgICAgICAgX3RyYW5zZmVyICh0aGlzLCBuVG9rZW5zKTsKCiAgICAgICAgICAgICAgICBnYW1lLnBsYXllciAgICAgICAgID0gbXNnLnNlbmRlcjsKICAgICAgICAgICAgICAgIGdhbWUucGxheWVyUG9zZSAgICAgPSBwb3NlOwoKICAgICAgICAgICAgICAgIEdhbWVQbGF5ZWQgKG1zZy5zZW5kZXIsIGdhbWVJZCwgcG9zZSk7CiAgICAgICAgfQoKICAgICAgICAvLyBDb252ZW5pZW5jZSBmdW5jdGlvbnMKICAgICAgICBmdW5jdGlvbiBidXlBbmRDcmVhdGVHYW1lICh1aW50MjU2IGFtb3VudCwgdWludDI1NiBwb3NlLCBhZGRyZXNzIHJlZmVycmFsKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgICAgICAgICBidXlUb2tlbnMgKHJlZmVycmFsKTsKICAgICAgICAgICAgICAgIGNyZWF0ZUdhbWUgKGFtb3VudCwgcG9zZSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBidXlBbmRQbGF5R2FtZSAodWludDI1NiBnYW1lSWQsIHVpbnQyNTYgcG9zZSwgYWRkcmVzcyByZWZlcnJhbCkgcHVibGljIHBheWFibGUgewogICAgICAgICAgICAgICAgYnV5VG9rZW5zIChyZWZlcnJhbCk7CiAgICAgICAgICAgICAgICBwbGF5R2FtZSAoZ2FtZUlkLCBwb3NlKTsKICAgICAgICB9CgoKICAgICAgICAvLyBCb3VudHkgdG8gZXRodGhyb3dhd2F5NAogICAgICAgIGZ1bmN0aW9uIF9zb2x2ZUdhbWUgKHVpbnQyNTYgZ2FtZUlkLCB1aW50MjU2IHNlaywgdWludDI1NiBzb2xGZWUpIGludGVybmFsIHsKICAgICAgICAgICAgICAgIEdhbWVSU1Agc3RvcmFnZSAgICAgZ2FtZSAgICA9IGdhbWVzW2dhbWVJZF07CgogICAgICAgICAgICAgICAgcmVxdWlyZSAoZ2FtZS5wbGF5ZXIgIT0gYWRkcmVzcyAoMCkpOwogICAgICAgICAgICAgICAgdWludDI1NiAgICAgblRva2VucyAgICAgPSBnYW1lLm5Ub2tlbnM7CgogICAgICAgICAgICAgICAgcmVxdWlyZSAoX3Rva2VuQmFsYW5jZXNbdGhpc10gPj0gblRva2VucyAqIDIpOwoKICAgICAgICAgICAgICAgIHVpbnQyNTYgICAgIG93bmVyRmVlICAgICAgICAgICAgPSBuVG9rZW5zICogMiAqIG93bmVyQ3V0IC8gMTAwOwogICAgICAgICAgICAgICAgdWludDI1NiAgICAgcmVmZXJyYWxGZWUgICAgICAgICA9IG5Ub2tlbnMgKiAyICogcmVmZXJyYWxDdXQgLyAxMDA7CiAgICAgICAgICAgICAgICB1aW50MjU2ICAgICB3aW5uZXJQcml6ZSAgICAgICAgID0gblRva2VucyAqIDIgLSBvd25lckZlZSAtIHJlZmVycmFsRmVlIC0gc29sRmVlOwogICAgICAgICAgICAgICAgdWludDI1NiAgICAgZHJhd1ByaXplICAgICAgICAgICA9IG5Ub2tlbnMgLSBzb2xGZWUvMjsKCiAgICAgICAgICAgICAgICByZXF1aXJlIChnYW1lLnNlayA9PSAwICYmIHNlayAhPSAwKTsKICAgICAgICAgICAgICAgIGdhbWUuc2VrICAgICAgICA9IHNlazsKCiAgICAgICAgICAgICAgICBhZGRyZXNzICAgICByZWZlcnJhbDsKICAgICAgICAgICAgICAgIC8vIExldCdzIHN0YXJ0IHNvbHZpbmcgdGhlIGdhbWUKICAgICAgICAgICAgICAgIHVpbnQyNTYgICAgIHBvc2ViaXRzICAgICAgICA9IHJzcFNjaWVuY2UuY2FsY1Bvc2VCaXRzIChzZWssIGdhbWUuY3JlYXRvclBvc2UsIGdhbWUucGxheWVyUG9zZSk7CgogICAgICAgICAgICAgICAgLy8gUkssIFNDLCBQQSwgICBSSywgU0MsIFBBCiAgICAgICAgICAgICAgICAvLyAxLCAgMiwgIDQsICAgIDgsICAxNiwgMzIKICAgICAgICAgICAgICAgIGlmICgocG9zZWJpdHMgJSA5KSA9PSAwKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDksIDE4IG9yIDM2CiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUgKGRyYXdQcml6ZSA+PSAwKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRyYXcgKHdlIGRvbid0IHRha2UgYW55IGZlZXMgLSBmYWlyIGVub3VnaD8pCiAgICAgICAgICAgICAgICAgICAgICAgIF90cmFuc2ZlckZyb20gKHRoaXMsIGdhbWUuY3JlYXRvciwgZHJhd1ByaXplKTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RyYW5zZmVyRnJvbSAodGhpcywgZ2FtZS5wbGF5ZXIsIGRyYXdQcml6ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmICgocG9zZWJpdHMgJSAxNykgPT0gMCB8fCBwb3NlYml0cyA9PSAxMikgeyAgICAgICAgICAvLyAxMiwgMTcsIG9yIDM0CiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUgKHdpbm5lclByaXplID49IDApOwoKICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJyYWwgICAgICAgICAgICA9IHJlZmVycmFsc1tnYW1lLmNyZWF0b3JdOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVmZXJyYWwgPT0gYWRkcmVzcygwKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVycmFsICAgID0gb3duZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0b3Igd2lucwogICAgICAgICAgICAgICAgICAgICAgICBfdHJhbnNmZXJGcm9tICh0aGlzLCBnYW1lLmNyZWF0b3IsIHdpbm5lclByaXplKTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RyYW5zZmVyRnJvbSAodGhpcywgcmVmZXJyYWwsIHJlZmVycmFsRmVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RyYW5zZmVyRnJvbSAodGhpcywgb3duZXIsIG93bmVyRmVlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHdlaUZyb21SZWZzW3JlZmVycmFsXSAgICAgKz0gcmVmZXJyYWxGZWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmICgocG9zZWJpdHMgJSAxMCkgPT0gMCB8fCBwb3NlYml0cyA9PSAzMykgeyAgICAgICAgICAvLyAxMCwgMjAsIG9yIDMzCiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUgKHdpbm5lclByaXplID49IDApOwoKICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJyYWwgICAgICAgICAgICA9IHJlZmVycmFsc1tnYW1lLnBsYXllcl07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWZlcnJhbCA9PSBhZGRyZXNzKDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJyYWwgICAgPSBvd25lcjsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGxheWVyIHdpbnMKICAgICAgICAgICAgICAgICAgICAgICAgX3RyYW5zZmVyRnJvbSAodGhpcywgZ2FtZS5wbGF5ZXIsIHdpbm5lclByaXplKTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RyYW5zZmVyRnJvbSAodGhpcywgcmVmZXJyYWwsIHJlZmVycmFsRmVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RyYW5zZmVyRnJvbSAodGhpcywgb3duZXIsIG93bmVyRmVlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHdlaUZyb21SZWZzW3JlZmVycmFsXSAgICAgKz0gcmVmZXJyYWxGZWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHNvbEZlZSA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RyYW5zZmVyRnJvbSAodGhpcywgbXNnLnNlbmRlciwgc29sRmVlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBnYW1lLnBvc2ViaXRzICAgID0gcG9zZWJpdHM7CiAgICAgICAgICAgICAgICBHYW1lU29sdmVkIChtc2cuc2VuZGVyLCBnYW1lSWQsIGdhbWUucG9zZWJpdHMsIHJlZmVycmFsLCBzb2xGZWUpOwogICAgICAgIH0KCgoKICAgICAgICAvLyBBbnlvbmUgY291bGQgY2FsbCB0aGlzIHRvIGNsYWltIHRoZSBwcml6ZSAoYW4gcGF5IGdhcyBoaW1zZWxmKQogICAgICAgIGZ1bmN0aW9uIHNvbHZlR2FtZSAodWludDI1NiBnYW1lSWQsIHVpbnQyNTYgc2VrKSBwdWJsaWMgewogICAgICAgICAgICAgICAgX3NvbHZlR2FtZSAoZ2FtZUlkLCBzZWssIDApOwogICAgICAgIH0KCiAgICAgICAgLy8gT3IgdGhlIGdhbWUgY291bGQgYmUgYXV0b21hdGljYWxseSBzb2x2ZWQgYSBmZXcgbW9tZW50cyBsYXRlciBieSB0aGUgb3duZXIsCiAgICAgICAgLy8gY2hhcmdpbmcgYSAnc29sdmVyRmVlJwogICAgICAgIGZ1bmN0aW9uIGF1dG9Tb2x2ZUdhbWUgKHVpbnQyNTYgZ2FtZUlkLCB1aW50MjU2IHNlaywgdWludDI1NiBzb2xGZWUpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgICAgICAgICAgX3NvbHZlR2FtZSAoZ2FtZUlkLCBzZWssIHNvbEZlZSk7CiAgICAgICAgfQoKfQ=='.
	

]
