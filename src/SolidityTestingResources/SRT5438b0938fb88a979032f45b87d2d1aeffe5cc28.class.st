Class {
	#name : #SRT5438b0938fb88a979032f45b87d2d1aeffe5cc28,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5438b0938fb88a979032f45b87d2d1aeffe5cc28 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIEdpZnRvIFRva2VuIGJ5IEdpZnRvIExpbWl0ZWQuCi8vIEFuIEVSQzIwIHN0YW5kYXJkCi8vCi8vIGF1dGhvcjogR2lmdG8gVGVhbQovLyBDb250YWN0OiA8YSBocmVmPSIvY2RuLWNnaS9sL2VtYWlsLXByb3RlY3Rpb24iIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iMGM2ODZkNzg3YjY0NjI2Yjc5NzU2OTYyNGM2YjYxNmQ2NTYwMjI2ZjYzNjEiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L2E+Cgpjb250cmFjdCBFUkMyMEludGVyZmFjZSB7CiAgICAvLyBHZXQgdGhlIHRvdGFsIHRva2VuIHN1cHBseQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBfdG90YWxTdXBwbHkpOwogCiAgICAvLyBHZXQgdGhlIGFjY291bnQgYmFsYW5jZSBvZiBhbm90aGVyIGFjY291bnQgd2l0aCBhZGRyZXNzIF9vd25lcgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKIAogICAgLy8gU2VuZCBfdmFsdWUgYW1vdW50IG9mIHRva2VucyB0byBhZGRyZXNzIF90bwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAKICAgIC8vIFRyaWdnZXJlZCB3aGVuIHRva2VucyBhcmUgdHJhbnNmZXJyZWQuCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKIAogICAgLy8gVHJpZ2dlcmVkIHdoZW5ldmVyIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIGlzIGNhbGxlZC4KICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwp9CiAKY29udHJhY3QgR2lmdG8gaXMgRVJDMjBJbnRlcmZhY2UgewogICAgdWludCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSA1OwoKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkdpZnRvIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJHaWZ0byI7CgogICAgYm9vbCBwdWJsaWMgX3NlbGxpbmcgPSBmYWxzZTsvL2luaXRpYWwgbm90IHNlbGxpbmcKICAgIHVpbnQgcHVibGljIF90b3RhbFN1cHBseSA9IDEwICoqIDE0OyAvLyB0b3RhbCBzdXBwbHkgaXMgMTBeMTQgdW5pdCwgZXF1aXZhbGVudCB0byAxMF45IEdpZnRvCiAgICB1aW50IHB1YmxpYyBfb3JpZ2luYWxCdXlQcmljZSA9IDEwICoqIDEwOyAvLyBvcmlnaW5hbCBidXkgaW4gd2VpIG9mIG9uZSB1bml0LiBBanVzdGFibGUuCgogICAgLy8gT3duZXIgb2YgdGhpcyBjb250cmFjdAogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAKICAgIC8vIEJhbGFuY2VzIEdpZnRvIGZvciBlYWNoIGFjY291bnQKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgICAvLyBMaXN0IG9mIGFwcHJvdmVkIGludmVzdG9ycwogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIGFwcHJvdmVkSW52ZXN0b3JMaXN0OwogICAgCiAgICAvLyBtYXBwaW5nIERlcG9zaXQKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBkZXBvc2l0OwogICAgCiAgICAvLyBidXllcnMgYnV5IHRva2VuIGRlcG9zaXQKICAgIGFkZHJlc3NbXSBidXllcnM7CiAgICAKICAgIC8vIGljb1BlcmNlbnQKICAgIHVpbnQgX2ljb1BlcmNlbnQgPSAxMDsKICAgIAogICAgLy8gX2ljb1N1cHBseSBpcyB0aGUgYXZhbGFibGUgdW5pdC4gSW5pdGlhbGx5LCBpdCBpcyBfdG90YWxTdXBwbHkKICAgIHVpbnQgcHVibGljIF9pY29TdXBwbHkgPSBfdG90YWxTdXBwbHkgKiBfaWNvUGVyY2VudCAvIDEwMDsKICAgIAogICAgLy8gbWluaW11bSBidXkgMC4xIEVUSAogICAgdWludCBwdWJsaWMgX21pbmltdW1CdXkgPSAxMCAqKiAxNzsKICAgIAogICAgLy8gbWF4aW11bSBidXkgMzAgRVRICiAgICB1aW50IHB1YmxpYyBfbWF4aW11bUJ1eSA9IDMwICogMTAgKiogMTg7CiAgICAKICAgIC8qKgogICAgICogRnVuY3Rpb25zIHdpdGggdGhpcyBtb2RpZmllciBjYW4gb25seSBiZSBleGVjdXRlZCBieSB0aGUgb3duZXIKICAgICAqLwogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICAqIEZ1bmN0aW9ucyB3aXRoIHRoaXMgbW9kaWZpZXIgY2FuIG9ubHkgYmUgZXhlY3V0ZWQgYnkgdXNlcnMgZXhjZXB0IG93bmVycwogICAgICovCiAgICBtb2RpZmllciBvbmx5Tm90T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyICE9IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogRnVuY3Rpb25zIHdpdGggdGhpcyBtb2RpZmllciBjaGVjayBvbiBzYWxlIHN0YXR1cwogICAgICogT25seSBhbGxvdyBzYWxlIGlmIF9zZWxsaW5nIGlzIG9uCiAgICAgKi8KICAgIG1vZGlmaWVyIG9uU2FsZSgpIHsKICAgICAgICByZXF1aXJlKF9zZWxsaW5nICYmIChfaWNvU3VwcGx5ID4gMCkgKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogRnVuY3Rpb25zIHdpdGggdGhpcyBtb2RpZmllciBjaGVjayB0aGUgdmFsaWRpdHkgb2Ygb3JpZ2luYWwgYnV5IHByaWNlCiAgICAgKi8KICAgIG1vZGlmaWVyIHZhbGlkT3JpZ2luYWxCdXlQcmljZSgpIHsKICAgICAgICByZXF1aXJlKF9vcmlnaW5hbEJ1eVByaWNlID4gMCk7CiAgICAgICAgXzsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBGdW5jdGlvbnMgd2l0aCB0aGlzIG1vZGlmaWVyIGNoZWNrIHRoZSB2YWxpZGl0eSBvZiBhZGRyZXNzIGlzIGludmVzdG9yCiAgICAgKi8KICAgIG1vZGlmaWVyIHZhbGlkSW52ZXN0b3IoKSB7CiAgICAgICAgcmVxdWlyZShhcHByb3ZlZEludmVzdG9yTGlzdFttc2cuc2VuZGVyXSk7CiAgICAgICAgXzsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBGdW5jdGlvbnMgd2l0aCB0aGlzIG1vZGlmaWVyIGNoZWNrIHRoZSB2YWxpZGl0eSBvZiBtc2cgdmFsdWUKICAgICAqIHZhbHVlIG11c3QgZ3JlYXRlciB0aGFuIGVxdWFsIG1pbmltdW1CdXlQcmljZQogICAgICogdG90YWwgZGVwb3NpdCBtdXN0IGxlc3MgdGhhbiBlcXVhbCBtYXhpbXVtQnV5UHJpY2UKICAgICAqLwogICAgbW9kaWZpZXIgdmFsaWRWYWx1ZSgpewogICAgICAgIC8vIGlmIHZhbHVlIDwgX21pbmltdW1CdXkgT1IgdG90YWwgZGVwb3NpdCBvZiBtc2cuc2VuZGVyID4gbWF4aW11bUJ1eVByaWNlCiAgICAgICAgcmVxdWlyZSAoIChtc2cudmFsdWUgPj0gX21pbmltdW1CdXkpICYmCiAgICAgICAgICAgICAgICAoIChkZXBvc2l0W21zZy5zZW5kZXJdICsgbXNnLnZhbHVlKSA8PSBfbWF4aW11bUJ1eSkgKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vLyBAZGV2IEZhbGxiYWNrIGZ1bmN0aW9uIGFsbG93cyB0byBidXkgZXRoZXIuCiAgICBmdW5jdGlvbigpCiAgICAgICAgcHVibGljCiAgICAgICAgcGF5YWJsZQogICAgICAgIHZhbGlkVmFsdWUgewogICAgICAgIC8vIGNoZWNrIHRoZSBmaXJzdCBidXkgPT4gcHVzaCB0byBBcnJheQogICAgICAgIGlmIChkZXBvc2l0W21zZy5zZW5kZXJdID09IDAgJiYgbXNnLnZhbHVlICE9IDApewogICAgICAgICAgICAvLyBhZGQgbmV3IGJ1eWVyIHRvIExpc3QKICAgICAgICAgICAgYnV5ZXJzLnB1c2gobXNnLnNlbmRlcik7CiAgICAgICAgfQogICAgICAgIC8vIGluY3JlYXNlIGFtb3VudCBkZXBvc2l0IG9mIGJ1eWVyCiAgICAgICAgZGVwb3NpdFttc2cuc2VuZGVyXSArPSBtc2cudmFsdWU7CiAgICB9CgogICAgLy8vIEBkZXYgQ29uc3RydWN0b3IKICAgIGZ1bmN0aW9uIEdpZnRvKCkgCiAgICAgICAgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gX3RvdGFsU3VwcGx5OwogICAgICAgIFRyYW5zZmVyKDB4MCwgb3duZXIsIF90b3RhbFN1cHBseSk7CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IEdldHMgdG90YWxTdXBwbHkKICAgIC8vLyBAcmV0dXJuIFRvdGFsIHN1cHBseQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKQogICAgICAgIHB1YmxpYyAKICAgICAgICBjb25zdGFudCAKICAgICAgICByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIF90b3RhbFN1cHBseTsKICAgIH0KICAgIAogICAgLy8vIEBkZXYgc2V0IG5ldyBpY29QZXJjZW50CiAgICAvLy8gQHBhcmFtIG5ld0ljb1BlcmNlbnQgbmV3IHZhbHVlIG9mIGljb1BlcmNlbnQKICAgIGZ1bmN0aW9uIHNldEljb1BlcmNlbnQodWludDI1NiBuZXdJY29QZXJjZW50KQogICAgICAgIHB1YmxpYyAKICAgICAgICBvbmx5T3duZXIKICAgICAgICByZXR1cm5zIChib29sKXsKICAgICAgICBfaWNvUGVyY2VudCA9IG5ld0ljb1BlcmNlbnQ7CiAgICAgICAgX2ljb1N1cHBseSA9IF90b3RhbFN1cHBseSAqIF9pY29QZXJjZW50IC8gMTAwOwogICAgfQogICAgCiAgICAvLy8gQGRldiBzZXQgbmV3IF9taW5pbXVtQnV5CiAgICAvLy8gQHBhcmFtIG5ld01pbmltdW1CdXkgbmV3IHZhbHVlIG9mIF9taW5pbXVtQnV5CiAgICBmdW5jdGlvbiBzZXRNaW5pbXVtQnV5KHVpbnQyNTYgbmV3TWluaW11bUJ1eSkKICAgICAgICBwdWJsaWMgCiAgICAgICAgb25seU93bmVyCiAgICAgICAgcmV0dXJucyAoYm9vbCl7CiAgICAgICAgX21pbmltdW1CdXkgPSBuZXdNaW5pbXVtQnV5OwogICAgfQogICAgCiAgICAvLy8gQGRldiBzZXQgbmV3IF9tYXhpbXVtQnV5CiAgICAvLy8gQHBhcmFtIG5ld01heGltdW1CdXkgbmV3IHZhbHVlIG9mIF9tYXhpbXVtQnV5CiAgICBmdW5jdGlvbiBzZXRNYXhpbXVtQnV5KHVpbnQyNTYgbmV3TWF4aW11bUJ1eSkKICAgICAgICBwdWJsaWMgCiAgICAgICAgb25seU93bmVyCiAgICAgICAgcmV0dXJucyAoYm9vbCl7CiAgICAgICAgX21heGltdW1CdXkgPSBuZXdNYXhpbXVtQnV5OwogICAgfQogCiAgICAvLy8gQGRldiBHZXRzIGFjY291bnQncyBiYWxhbmNlCiAgICAvLy8gQHBhcmFtIF9hZGRyIEFkZHJlc3Mgb2YgdGhlIGFjY291bnQKICAgIC8vLyBAcmV0dXJuIEFjY291bnQgYmFsYW5jZQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX2FkZHIpIAogICAgICAgIHB1YmxpYwogICAgICAgIGNvbnN0YW50IAogICAgICAgIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX2FkZHJdOwogICAgfQogICAgCiAgICAvLy8gQGRldiBjaGVjayBhZGRyZXNzIGlzIGFwcHJvdmVkIGludmVzdG9yCiAgICAvLy8gQHBhcmFtIF9hZGRyIGFkZHJlc3MKICAgIGZ1bmN0aW9uIGlzQXBwcm92ZWRJbnZlc3RvcihhZGRyZXNzIF9hZGRyKQogICAgICAgIHB1YmxpYwogICAgICAgIGNvbnN0YW50CiAgICAgICAgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBhcHByb3ZlZEludmVzdG9yTGlzdFtfYWRkcl07CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IGZpbHRlciBidXllcnMgaW4gbGlzdCBidXllcnMKICAgIC8vLyBAcGFyYW0gaXNJbnZlc3RvciB0eXBlIGJ1eWVycywgaXMgaW52ZXN0b3Igb3Igbm90CiAgICBmdW5jdGlvbiBmaWx0ZXJCdXllcnMoYm9vbCBpc0ludmVzdG9yKQogICAgICAgIHByaXZhdGUKICAgICAgICBjb25zdGFudAogICAgICAgIHJldHVybnMoYWRkcmVzc1tdIGZpbHRlckxpc3QpewogICAgICAgIGFkZHJlc3NbXSBtZW1vcnkgZmlsdGVyVG1wID0gbmV3IGFkZHJlc3NbXShidXllcnMubGVuZ3RoKTsKICAgICAgICB1aW50IGNvdW50ID0gMDsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBidXllcnMubGVuZ3RoOyBpKyspewogICAgICAgICAgICBpZihhcHByb3ZlZEludmVzdG9yTGlzdFtidXllcnNbaV1dID09IGlzSW52ZXN0b3IpewogICAgICAgICAgICAgICAgZmlsdGVyVG1wW2NvdW50XSA9IGJ1eWVyc1tpXTsKICAgICAgICAgICAgICAgIGNvdW50Kys7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZmlsdGVyTGlzdCA9IG5ldyBhZGRyZXNzW10oY291bnQpOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb3VudDsgaSsrKXsKICAgICAgICAgICAgaWYoZmlsdGVyVG1wW2ldICE9IDB4MCl7CiAgICAgICAgICAgICAgICBmaWx0ZXJMaXN0W2ldID0gZmlsdGVyVG1wW2ldOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgCiAgICAvLy8gQGRldiBmaWx0ZXIgYnV5ZXJzIGFyZSBpbnZlc3RvciBpbiBsaXN0IGRlcG9zaXRlZAogICAgZnVuY3Rpb24gZ2V0SW52ZXN0b3JCdXllcnMoKQogICAgICAgIHB1YmxpYwogICAgICAgIGNvbnN0YW50CiAgICAgICAgcmV0dXJucyhhZGRyZXNzW10pewogICAgICAgIHJldHVybiBmaWx0ZXJCdXllcnModHJ1ZSk7CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IGZpbHRlciBub3JtYWwgQnV5ZXJzIGluIGxpc3QgYnV5ZXIgZGVwb3NpdGVkCiAgICBmdW5jdGlvbiBnZXROb3JtYWxCdXllcnMoKQogICAgICAgIHB1YmxpYwogICAgICAgIGNvbnN0YW50CiAgICAgICAgcmV0dXJucyhhZGRyZXNzW10pewogICAgICAgIHJldHVybiBmaWx0ZXJCdXllcnMoZmFsc2UpOwogICAgfQogICAgCiAgICAvLy8gQGRldiBnZXQgRVRIIGRlcG9zaXQKICAgIC8vLyBAcGFyYW0gX2FkZHIgYWRkcmVzcyBnZXQgZGVwb3NpdAogICAgLy8vIEByZXR1cm4gYW1vdW50IGRlcG9zaXQgb2YgYW4gYnV5ZXIKICAgIGZ1bmN0aW9uIGdldERlcG9zaXQoYWRkcmVzcyBfYWRkcikKICAgICAgICBwdWJsaWMKICAgICAgICBjb25zdGFudAogICAgICAgIHJldHVybnModWludDI1Nil7CiAgICAgICAgcmV0dXJuIGRlcG9zaXRbX2FkZHJdOwogICAgfQogICAgCiAgICAvLy8gQGRldiBnZXQgdG90YWwgZGVwb3NpdCBvZiBidXllcnMKICAgIC8vLyBAcmV0dXJuIGFtb3VudCBFVEggZGVwb3NpdAogICAgZnVuY3Rpb24gZ2V0VG90YWxEZXBvc2l0KCkKICAgICAgICBwdWJsaWMKICAgICAgICBjb25zdGFudAogICAgICAgIHJldHVybnModWludDI1NiB0b3RhbERlcG9zaXQpewogICAgICAgIHRvdGFsRGVwb3NpdCA9IDA7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgYnV5ZXJzLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgdG90YWxEZXBvc2l0ICs9IGRlcG9zaXRbYnV5ZXJzW2ldXTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IGRlbGl2ZXJ5IHRva2VuIGZvciBidXllcgogICAgLy8vIEBwYXJhbSBpc0ludmVzdG9yIHRyYW5zZmVyIHRva2VuIGZvciBpbnZlc3RvciBvciBub3QKICAgIC8vLyAgICAgICAgIHRydWU6IGludmVzdG9ycwogICAgLy8vICAgICAgICAgZmFsc2U6IG5vdCBpbnZlc3RvcnMKICAgIGZ1bmN0aW9uIGRlbGl2ZXJ5VG9rZW4oYm9vbCBpc0ludmVzdG9yKQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgICAgIHZhbGlkT3JpZ2luYWxCdXlQcmljZSB7CiAgICAgICAgLy9zdW1hcnkgZGVwb3NpdCBvZiBpbnZlc3RvcnMKICAgICAgICB1aW50MjU2IHN1bSA9IDA7CiAgICAgICAgCiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgYnV5ZXJzLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgaWYoYXBwcm92ZWRJbnZlc3Rvckxpc3RbYnV5ZXJzW2ldXSA9PSBpc0ludmVzdG9yKSB7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIGNvbXB1dGUgYW1vdW50IHRva2VuIG9mIGVhY2ggYnV5ZXIKICAgICAgICAgICAgICAgIHVpbnQyNTYgcmVxdWVzdGVkVW5pdHMgPSBkZXBvc2l0W2J1eWVyc1tpXV0gLyBfb3JpZ2luYWxCdXlQcmljZTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy9jaGVjayByZXF1ZXN0ZWRVbml0cyA+IF9pY29TdXBwbHkKICAgICAgICAgICAgICAgIGlmKHJlcXVlc3RlZFVuaXRzIDw9IF9pY29TdXBwbHkgJiYgcmVxdWVzdGVkVW5pdHMgPiAwICl7CiAgICAgICAgICAgICAgICAgICAgLy8gcHJlcGFyZSB0cmFuc2ZlciBkYXRhCiAgICAgICAgICAgICAgICAgICAgLy8gTk9URTogbWFrZSBzdXJlIGJhbGFuY2VzIG93bmVyIGdyZWF0ZXIgdGhhbiBfaWNvU3VwcGx5CiAgICAgICAgICAgICAgICAgICAgYmFsYW5jZXNbb3duZXJdIC09IHJlcXVlc3RlZFVuaXRzOwogICAgICAgICAgICAgICAgICAgIGJhbGFuY2VzW2J1eWVyc1tpXV0gKz0gcmVxdWVzdGVkVW5pdHM7CiAgICAgICAgICAgICAgICAgICAgX2ljb1N1cHBseSAtPSByZXF1ZXN0ZWRVbml0czsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBzdWJtaXQgdHJhbnNmZXIKICAgICAgICAgICAgICAgICAgICBUcmFuc2Zlcihvd25lciwgYnV5ZXJzW2ldLCByZXF1ZXN0ZWRVbml0cyk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgZGVwb3NpdCBvZiBidXllcgogICAgICAgICAgICAgICAgICAgIHN1bSArPSBkZXBvc2l0W2J1eWVyc1tpXV07CiAgICAgICAgICAgICAgICAgICAgZGVwb3NpdFtidXllcnNbaV1dID0gMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvL3RyYW5zZmVyIHRvdGFsIEVUSCBvZiBpbnZlc3RvcnMgdG8gb3duZXIKICAgICAgICBvd25lci50cmFuc2ZlcihzdW0pOwogICAgfQogICAgCiAgICAvLy8gQGRldiByZXR1cm4gRVRIIGZvciBub3JtYWwgYnV5ZXJzCiAgICBmdW5jdGlvbiByZXR1cm5FVEhmb3JOb3JtYWxCdXllcnMoKQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlPd25lcnsKICAgICAgICBmb3IodWludCBpID0gMDsgaSA8IGJ1eWVycy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgIC8vIGJ1eWVyIG5vdCBhcHByb3ZlIGludmVzdG9yCiAgICAgICAgICAgIGlmICghYXBwcm92ZWRJbnZlc3Rvckxpc3RbYnV5ZXJzW2ldXSkgewogICAgICAgICAgICAgICAgLy8gZ2V0IGRlcG9zaXQgb2YgYnV5ZXIKICAgICAgICAgICAgICAgIHVpbnQyNTYgYnV5ZXJEZXBvc2l0ID0gZGVwb3NpdFtidXllcnNbaV1dOwogICAgICAgICAgICAgICAgLy8gcmVzZXQgZGVwb3NpdCBvZiBidXllcgogICAgICAgICAgICAgICAgZGVwb3NpdFtidXllcnNbaV1dID0gMDsKICAgICAgICAgICAgICAgIC8vIHJldHVybiBkZXBvc2l0IGFtb3VudCBmb3IgYnV5ZXIKICAgICAgICAgICAgICAgIGJ1eWVyc1tpXS50cmFuc2ZlcihidXllckRlcG9zaXQpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogCiAgICAvLy8gQGRldiBUcmFuc2ZlcnMgdGhlIGJhbGFuY2UgZnJvbSBNdWx0aXNpZyB3YWxsZXQgdG8gYW4gYWNjb3VudAogICAgLy8vIEBwYXJhbSBfdG8gUmVjaXBpZW50IGFkZHJlc3MKICAgIC8vLyBAcGFyYW0gX2Ftb3VudCBUcmFuc2ZlcmVkIGFtb3VudCBpbiB1bml0CiAgICAvLy8gQHJldHVybiBUcmFuc2ZlciBzdGF0dXMKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpCiAgICAgICAgcHVibGljIAogICAgICAgIHJldHVybnMgKGJvb2wpIHsKICAgICAgICAvLyBpZiBzZW5kZXIncyBiYWxhbmNlIGhhcyBlbm91Z2ggdW5pdCBhbmQgYW1vdW50ID49IDAsIAogICAgICAgIC8vICAgICAgYW5kIHRoZSBzdW0gaXMgbm90IG92ZXJmbG93LAogICAgICAgIC8vIHRoZW4gZG8gdHJhbnNmZXIgCiAgICAgICAgaWYgKCAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCkgJiYKICAgICAgICAgICAgIChfYW1vdW50ID49IDApICYmIAogICAgICAgICAgICAgKGJhbGFuY2VzW190b10gKyBfYW1vdW50ID4gYmFsYW5jZXNbX3RvXSkgKSB7ICAKCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF9hbW91bnQ7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX2Ftb3VudDsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfYW1vdW50KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiB0cnVlOwoKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICB9CiAgICB9CgogICAgLy8vIEBkZXYgRW5hYmxlcyBzYWxlIAogICAgZnVuY3Rpb24gdHVybk9uU2FsZSgpIG9ubHlPd25lciAKICAgICAgICBwdWJsaWMgewogICAgICAgIF9zZWxsaW5nID0gdHJ1ZTsKICAgIH0KCiAgICAvLy8gQGRldiBEaXNhYmxlcyBzYWxlCiAgICBmdW5jdGlvbiB0dXJuT2ZmU2FsZSgpIG9ubHlPd25lciAKICAgICAgICBwdWJsaWMgewogICAgICAgIF9zZWxsaW5nID0gZmFsc2U7CiAgICB9CgogICAgLy8vIEBkZXYgR2V0cyBzZWxsaW5nIHN0YXR1cwogICAgZnVuY3Rpb24gaXNTZWxsaW5nTm93KCkgCiAgICAgICAgcHVibGljIAogICAgICAgIGNvbnN0YW50CiAgICAgICAgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBfc2VsbGluZzsKICAgIH0KCiAgICAvLy8gQGRldiBVcGRhdGVzIGJ1eSBwcmljZSAob3duZXIgT05MWSkKICAgIC8vLyBAcGFyYW0gbmV3QnV5UHJpY2UgTmV3IGJ1eSBwcmljZSAoaW4gdW5pdCkKICAgIGZ1bmN0aW9uIHNldEJ1eVByaWNlKHVpbnQgbmV3QnV5UHJpY2UpIAogICAgICAgIG9ubHlPd25lciAKICAgICAgICBwdWJsaWMgewogICAgICAgIF9vcmlnaW5hbEJ1eVByaWNlID0gbmV3QnV5UHJpY2U7CiAgICB9CgogICAgLy8vIEBkZXYgQWRkcyBsaXN0IG9mIG5ldyBpbnZlc3RvcnMgdG8gdGhlIGludmVzdG9ycyBsaXN0IGFuZCBhcHByb3ZlIGFsbAogICAgLy8vIEBwYXJhbSBuZXdJbnZlc3Rvckxpc3QgQXJyYXkgb2YgbmV3IGludmVzdG9ycyBhZGRyZXNzZXMgdG8gYmUgYWRkZWQKICAgIGZ1bmN0aW9uIGFkZEludmVzdG9yTGlzdChhZGRyZXNzW10gbmV3SW52ZXN0b3JMaXN0KQogICAgICAgIG9ubHlPd25lcgogICAgICAgIHB1YmxpYyB7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgbmV3SW52ZXN0b3JMaXN0Lmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgYXBwcm92ZWRJbnZlc3Rvckxpc3RbbmV3SW52ZXN0b3JMaXN0W2ldXSA9IHRydWU7CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBAZGV2IFJlbW92ZXMgbGlzdCBvZiBpbnZlc3RvcnMgZnJvbSBsaXN0CiAgICAvLy8gQHBhcmFtIGludmVzdG9yTGlzdCBBcnJheSBvZiBhZGRyZXNzZXMgb2YgaW52ZXN0b3JzIHRvIGJlIHJlbW92ZWQKICAgIGZ1bmN0aW9uIHJlbW92ZUludmVzdG9yTGlzdChhZGRyZXNzW10gaW52ZXN0b3JMaXN0KQogICAgICAgIG9ubHlPd25lcgogICAgICAgIHB1YmxpYyB7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgaW52ZXN0b3JMaXN0Lmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgYXBwcm92ZWRJbnZlc3Rvckxpc3RbaW52ZXN0b3JMaXN0W2ldXSA9IGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICAvLy8gQGRldiBCdXlzIEdpZnRvCiAgICAvLy8gQHJldHVybiBBbW91bnQgb2YgcmVxdWVzdGVkIHVuaXRzIAogICAgZnVuY3Rpb24gYnV5KCkgcGF5YWJsZQogICAgICAgIG9ubHlOb3RPd25lciAKICAgICAgICB2YWxpZE9yaWdpbmFsQnV5UHJpY2UKICAgICAgICB2YWxpZEludmVzdG9yCiAgICAgICAgb25TYWxlIAogICAgICAgIHB1YmxpYwogICAgICAgIHJldHVybnMgKHVpbnQyNTYgYW1vdW50KSB7CiAgICAgICAgLy8gY29udmVydCBidXkgYW1vdW50IGluIHdlaSB0byBudW1iZXIgb2YgdW5pdCB3YW50IHRvIGJ1eQogICAgICAgIHVpbnQgcmVxdWVzdGVkVW5pdHMgPSBtc2cudmFsdWUgLyBfb3JpZ2luYWxCdXlQcmljZSA7CiAgICAgICAgCiAgICAgICAgLy9jaGVjayByZXF1ZXN0ZWRVbml0cyA8PSBfaWNvU3VwcGx5CiAgICAgICAgcmVxdWlyZShyZXF1ZXN0ZWRVbml0cyA8PSBfaWNvU3VwcGx5KTsKCiAgICAgICAgLy8gcHJlcGFyZSB0cmFuc2ZlciBkYXRhCiAgICAgICAgYmFsYW5jZXNbb3duZXJdIC09IHJlcXVlc3RlZFVuaXRzOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IHJlcXVlc3RlZFVuaXRzOwogICAgICAgIAogICAgICAgIC8vIGRlY3JlYXNlIF9pY29TdXBwbHkKICAgICAgICBfaWNvU3VwcGx5IC09IHJlcXVlc3RlZFVuaXRzOwoKICAgICAgICAvLyBzdWJtaXQgdHJhbnNmZXIKICAgICAgICBUcmFuc2Zlcihvd25lciwgbXNnLnNlbmRlciwgcmVxdWVzdGVkVW5pdHMpOwoKICAgICAgICAvL3RyYW5zZmVyIEVUSCB0byBvd25lcgogICAgICAgIG93bmVyLnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHJlcXVlc3RlZFVuaXRzOwogICAgfQogICAgCiAgICAvLy8gQGRldiBXaXRoZHJhd3MgRXRoZXIgaW4gY29udHJhY3QgKE93bmVyIG9ubHkpCiAgICAvLy8gQHJldHVybiBTdGF0dXMgb2Ygd2l0aGRyYXdhbAogICAgZnVuY3Rpb24gd2l0aGRyYXcoKSBvbmx5T3duZXIgCiAgICAgICAgcHVibGljIAogICAgICAgIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gb3duZXIuc2VuZCh0aGlzLmJhbGFuY2UpOwogICAgfQp9'.
	

]
