Class {
	#name : #SRT9be2fb04a5ff6216b81fd6023a82ade588ce67dc,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9be2fb04a5ff6216b81fd6023a82ade588ce67dc >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CgogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cgp9CgovKioKICogQHRpdGxlIFN0YW5kYXJkIEVSQzIwIHRva2VuCiAqCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIGJhc2ljIHN0YW5kYXJkIHRva2VuLgogKiBAZGV2IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKiBAZGV2IEJhc2VkIG9uIGNvZGUgYnkgRmlyc3RCbG9vZDogaHR0cHM6Ly9naXRodWIuY29tL0ZpcnN0Ymxvb2Rpby90b2tlbi9ibG9iL21hc3Rlci9zbWFydF9jb250cmFjdC9GaXJzdEJsb29kVG9rZW4uc29sCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwQmFzaWMgewoKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBpbnRlcm5hbCBhbGxvd2VkOwogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CgogICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1tfZnJvbV0pOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0pOwoKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQXBwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqCiAgICogQmV3YXJlIHRoYXQgY2hhbmdpbmcgYW4gYWxsb3dhbmNlIHdpdGggdGhpcyBtZXRob2QgYnJpbmdzIHRoZSByaXNrIHRoYXQgc29tZW9uZSBtYXkgdXNlIGJvdGggdGhlIG9sZAogICAqIGFuZCB0aGUgbmV3IGFsbG93YW5jZSBieSB1bmZvcnR1bmF0ZSB0cmFuc2FjdGlvbiBvcmRlcmluZy4gT25lIHBvc3NpYmxlIHNvbHV0aW9uIHRvIG1pdGlnYXRlIHRoaXMKICAgKiByYWNlIGNvbmRpdGlvbiBpcyB0byBmaXJzdCByZWR1Y2UgdGhlIHNwZW5kZXIncyBhbGxvd2FuY2UgdG8gMCBhbmQgc2V0IHRoZSBkZXNpcmVkIHZhbHVlIGFmdGVyd2FyZHM6CiAgICogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgQnVybmFibGUgVG9rZW4KICogQGRldiBUb2tlbiB0aGF0IGNhbiBiZSBpcnJldmVyc2libHkgYnVybmVkIChkZXN0cm95ZWQpLgogKi8KY29udHJhY3QgQnVybmFibGVUb2tlbiBpcyBTdGFuZGFyZFRva2VuIHsKCiAgICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBidXJuZXIsIHVpbnQyNTYgdmFsdWUpOwoKICAgIC8qKgogICAgICogQGRldiBCdXJucyBhIHNwZWNpZmljIGFtb3VudCBvZiB0b2tlbnMuCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgYnVybmVkLgogICAgICovCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwogICAgICAgIC8vIG5vIG5lZWQgdG8gcmVxdWlyZSB2YWx1ZSA8PSB0b3RhbFN1cHBseSwgc2luY2UgdGhhdCB3b3VsZCBpbXBseSB0aGUKICAgICAgICAvLyBzZW5kZXIncyBiYWxhbmNlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdG90YWxTdXBwbHksIHdoaWNoICpzaG91bGQqIGJlIGFuIGFzc2VydGlvbiBmYWlsdXJlCgogICAgICAgIGFkZHJlc3MgYnVybmVyID0gbXNnLnNlbmRlcjsKICAgICAgICBiYWxhbmNlc1tidXJuZXJdID0gYmFsYW5jZXNbYnVybmVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YihfdmFsdWUpOwogICAgICAgIEJ1cm4oYnVybmVyLCBfdmFsdWUpOwogICAgfQp9CgoKLyoqCiAqIEB0aXRsZSBNaW50YWJsZSB0b2tlbgogKiBAZGV2IFNpbXBsZSBFUkMyMCBUb2tlbiBleGFtcGxlLCB3aXRoIG1pbnRhYmxlIHRva2VuIGNyZWF0aW9uCiAqIEBkZXYgSXNzdWU6ICogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9pc3N1ZXMvMTIwCiAqIEJhc2VkIG9uIGNvZGUgYnkgVG9rZW5NYXJrZXROZXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9Ub2tlbk1hcmtldE5ldC9pY28vYmxvYi9tYXN0ZXIvY29udHJhY3RzL01pbnRhYmxlVG9rZW4uc29sCiAqLwoKY29udHJhY3QgTWludGFibGVUb2tlbiBpcyBCdXJuYWJsZVRva2VuLCBPd25hYmxlIHsKICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwogIGV2ZW50IE1pbnRGaW5pc2hlZCgpOwoKICBib29sIHB1YmxpYyBtaW50aW5nRmluaXNoZWQgPSBmYWxzZTsKCgogIG1vZGlmaWVyIGNhbk1pbnQoKSB7CiAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gbWludCB0b2tlbnMKICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRoYXQgd2lsbCByZWNlaXZlIHRoZSBtaW50ZWQgdG9rZW5zLgogICAqIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIG1pbnQuCiAgICogQHJldHVybiBBIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgKi8KICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciBjYW5NaW50IHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgIE1pbnQoX3RvLCBfYW1vdW50KTsKICAgIFRyYW5zZmVyKDB4MCwgX3RvLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBzdG9wIG1pbnRpbmcgbmV3IHRva2Vucy4KICAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgKi8KICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBtaW50aW5nRmluaXNoZWQgPSB0cnVlOwogICAgTWludEZpbmlzaGVkKCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCgovKioKICogQHRpdGxlIFBhdXNhYmxlCiAqIEBkZXYgQmFzZSBjb250cmFjdCB3aGljaCBhbGxvd3MgY2hpbGRyZW4gdG8gaW1wbGVtZW50IGFuIGVtZXJnZW5jeSBzdG9wIG1lY2hhbmlzbS4KICovCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgewogIGV2ZW50IFBhdXNlKCk7CiAgZXZlbnQgVW5wYXVzZSgpOwoKICBib29sIHB1YmxpYyBwYXVzZWQgPSBmYWxzZTsKCiAgLyoqCiAgICogQGRldiBNb2RpZmllciB0byBtYWtlIGEgZnVuY3Rpb24gY2FsbGFibGUgb25seSB3aGVuIHRoZSBjb250cmFjdCBpcyBub3QgcGF1c2VkLgogICAqLwogIG1vZGlmaWVyIHdoZW5Ob3RQYXVzZWQoKSB7CiAgICByZXF1aXJlKCFwYXVzZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgTW9kaWZpZXIgdG8gbWFrZSBhIGZ1bmN0aW9uIGNhbGxhYmxlIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgaXMgcGF1c2VkLgogICAqLwogIG1vZGlmaWVyIHdoZW5QYXVzZWQoKSB7CiAgICByZXF1aXJlKHBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHBhdXNlLCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gcGF1c2UoKSBvbmx5T3duZXIgd2hlbk5vdFBhdXNlZCBwdWJsaWMgewogICAgcGF1c2VkID0gdHJ1ZTsKICAgIFBhdXNlKCk7CiAgfQoKICAvKioKICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gdW5wYXVzZSwgcmV0dXJucyB0byBub3JtYWwgc3RhdGUKICAgKi8KICBmdW5jdGlvbiB1bnBhdXNlKCkgb25seU93bmVyIHdoZW5QYXVzZWQgcHVibGljIHsKICAgIHBhdXNlZCA9IGZhbHNlOwogICAgVW5wYXVzZSgpOwogIH0KCn0KCmNvbnRyYWN0IFBhdXNhYmxlVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgUGF1c2FibGUgewoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyB3aGVuTm90UGF1c2VkIHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gc3VwZXIuYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKTsKICB9Cgp9CgovKgogKiBAdGl0bGUgR0VTVG9rZW4KICovCmNvbnRyYWN0IEdFU1Rva2VuIGlzIE1pbnRhYmxlVG9rZW4sIFBhdXNhYmxlVG9rZW4gewogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJHYWxheHkgZVNvbHV0aW9ucyI7CiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiR0VTIjsKICB1aW50OCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKfQoKLyoqCiAqIEB0aXRsZSBDcm93ZHNhbGUKICogQGRldiBNb2RpZmllZCBjb250cmFjdCBmb3IgbWFuYWdpbmcgYSB0b2tlbiBjcm93ZHNhbGUuCiAqLwoKY29udHJhY3QgR0VTVG9rZW5Dcm93ZFNhbGUgaXMgT3duYWJsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIC8qIHRydWUgZm9yIGZpbmFsaXNlZCBjcm93ZHNhbGUgKi8KICBib29sIHB1YmxpYyBpc0ZpbmFsaXNlZDsKCiAgLyogVGhlIHRva2VuIG9iamVjdCAqLwogIE1pbnRhYmxlVG9rZW4gcHVibGljIHRva2VuOwoKICAvKiBTdGFydCBhbmQgZW5kIHRpbWVzdGFtcHMgd2hlcmUgaW52ZXN0bWVudHMgYXJlIGFsbG93ZWQgKGJvdGggaW5jbHVzaXZlKSAqLwogIHVpbnQyNTYgcHVibGljIG1haW5TYWxlU3RhcnRUaW1lOwogIHVpbnQyNTYgcHVibGljIG1haW5TYWxlRW5kVGltZTsKCiAgLyogQWRkcmVzcyB3aGVyZSBmdW5kcyBhcmUgdHJhbnNmZXJyZWYgYWZ0ZXIgY29sbGVjdGlvbiAqLwogIGFkZHJlc3MgcHVibGljIHdhbGxldDsKCiAgLyogQWRkcmVzcyB3aGVyZSBjb21wYW55IGZ1bmRzIHdpbGwgYmUgY29sbGVjdGVkICovCiAgYWRkcmVzcyBwdWJsaWMgdG9rZW5XYWxsZXQ7CgogIC8qIEhvdyBtYW55IHRva2VuIHVuaXRzIGEgYnV5ZXIgZ2V0cyBwZXIgZXRoZXIgKi8KICB1aW50MjU2IHB1YmxpYyByYXRlID0gMTAwMDA7CgogIC8qIEFtb3VudCBvZiByYWlzZWQgbW9uZXkgaW4gd2VpICovCiAgLyogUHJlU2FsZSA9IDc5My4wMzAxNDQyMjM2ODggRVRIICovCiAgLyogV2hpdGVsaXN0ID0gNDg3LjA3OTg0MTkgRVRIICovIAogIC8qIFByZVNhbGUgKyBXaGl0ZWxpc3QgPSAgMSwyODAuMTA5OTg2MTIzNyBFVEgqLwogIHVpbnQyNTYgcHVibGljIHdlaVJhaXNlZCA9IDEyODAxMDk5ODYxMjM3MDAwMDAwMDAgOwoKICAvKiAyMCwwMDAgLSA3OTMuMDMwMTQ0MjIzNjg4IC0gNDg3LjA3OTg0MTkgPSAxOCw3MTkuODkgIGlzIHdoYXQgd2lsbCBiZSByYWlzZWQqLwoKICAvKiBNaW5pbXVtIGFtb3VudCBvZiBXZWkgYWxsb3dlZCBwZXIgdHJhbnNhY3Rpb24gPSAwLjEgRXRoZXJzICovCiAgdWludDI1NiBwdWJsaWMgc2FsZU1pbmltdW1XZWkgPSAxMDAwMDAwMDAwMDAwMDAwMDA7IAogIAogIC8qIEhhcmQgQ2FwIGFtb3VudCBvZiBXZWkgYWxsb3dlZCAyMCwwMDAgRVRIICovCiAgdWludDI1NiBwdWJsaWMgaGFyZENhcCA9IDIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOyAKICAKICAvKiBIYXJkIENhcCBhbW91bnQgb2Z0b2tlbnMgdG8gYmUgc29sZCAzMDAwMDAwMDAgKi8KICAvKiBBbW91bnQgcmFpc2UgaW4gcHJlU2FsZSByZW1vdmluZyB0aGUgZXh0cmEgY29tcGFueSAxMSUgYXMgd2UgYXJlIGFsbG9jYXRpbmcgaGVyZSAqLwogIC8qIDMwMDAwMDAwMCAtIDEyMjM1NzE3IC0gMzMwMDAwMDAgLSAzODM1ODkyNyA9IDIxNjQwNTM1NiAqLwogIC8qIFRva2VucyB0byBiZSBzb2xkIGluIHRoZSBJQ08gMjE2NDA1MzU2ICovCiAgdWludDI1NiBwdWJsaWMgdG9rZW5zVG9TZWxsID0gMjE2NDA1MzU2ICogMTAgKiogMTg7IAoKICAvKiBBbHdheXMgZGVmYXVsdCB0byAyMCBjYW4gZ28gdXB0byA1MCBiYXNlIGRvbiBhbW91bnQgYmVpbmcgc2VudCAqLwogICBzdHJ1Y3QgQW1vdW50Qm9udXMgewogICAgdWludDI1NiBhbW91bnQ7CiAgICB1aW50IHBlcmNlbnQ7CiAgfQogIEFtb3VudEJvbnVzW10gcHVibGljIGFtb3VudEJvbnVzZXM7CiAgLyoqCiAgICogZXZlbnQgZm9yIHRva2VuIHB1cmNoYXNlIGxvZ2dpbmcKICAgKiBldmVudCBmb3IgZmluYWxpemluZyB0aGUgY3Jvd2RzYWxlCiAgICovCiAgZXZlbnQgVG9rZW5QdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgcHVyY2hhc2VyLCBhZGRyZXNzIGluZGV4ZWQgYmVuZWZpY2lhcnksIHVpbnQyNTYgdmFsdWUsIHVpbnQyNTYgYW1vdW50KTsKICBldmVudCBGaW5hbGlzZWRDcm93ZHNhbGUodWludDI1NiB0b3RhbFN1cHBseSk7CgogIGZ1bmN0aW9uIEdFU1Rva2VuQ3Jvd2RTYWxlKHVpbnQyNTYgX21haW5TYWxlU3RhcnRUaW1lLCB1aW50MjU2IF9tYWluU2FsZUVuZFRpbWUsIGFkZHJlc3MgX3dhbGxldCwgYWRkcmVzcyBfdG9rZW5XYWxsZXQpIHB1YmxpYyB7CgogICAgLyogQ2FuJ3Qgc3RhcnQgbWFpbiBzYWxlIGluIHRoZSBwYXN0ICovCiAgICByZXF1aXJlKF9tYWluU2FsZVN0YXJ0VGltZSA+PSBub3cpOwogICAgLyogQ2FuJ3QgY2xvc2UgbWFpbiBzYWxlIGVhcmxpZXIgdGhhbiBzdGFydCB0aW1lICovCiAgICByZXF1aXJlKF9tYWluU2FsZUVuZFRpbWUgPj0gX21haW5TYWxlU3RhcnRUaW1lKTsKCiAgICAvKiBDb25maXJtaW5nIHdhbGxldCBhZGRyZXNzZXMgYXMgdmFsaWQgKi8KICAgIHJlcXVpcmUoX3dhbGxldCAhPSAweDApOwogICAgcmVxdWlyZShfdG9rZW5XYWxsZXQgIT0gMHgwKTsKCiAgICAvKiBDcmVhdGUgR0VTIHRva2VuICovCiAgICB0b2tlbiA9IGNyZWF0ZVRva2VuQ29udHJhY3QoKTsKICAgIAogICAgYW1vdW50Qm9udXNlcy5wdXNoKEFtb3VudEJvbnVzKCAgICA1MDAwMDAwMDAwMDAwMDAwMDAwMCwgMjApKTsKICAgIGFtb3VudEJvbnVzZXMucHVzaChBbW91bnRCb251cyggICAxMDAwMDAwMDAwMDAwMDAwMDAwMDAsIDI1KSk7CiAgICBhbW91bnRCb251c2VzLnB1c2goQW1vdW50Qm9udXMoICAgMjUwMDAwMDAwMDAwMDAwMDAwMDAwLCAzMCkpOwogICAgYW1vdW50Qm9udXNlcy5wdXNoKEFtb3VudEJvbnVzKCAgIDUwMDAwMDAwMDAwMDAwMDAwMDAwMCwgMzUpKTsKICAgIGFtb3VudEJvbnVzZXMucHVzaChBbW91bnRCb251cyggIDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAsIDQwKSk7CiAgICBhbW91bnRCb251c2VzLnB1c2goQW1vdW50Qm9udXMoICAyNTAwMDAwMDAwMDAwMDAwMDAwMDAwLCA0NSkpOwogICAgYW1vdW50Qm9udXNlcy5wdXNoKEFtb3VudEJvbnVzKDIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCwgNTApKTsKCgogICAgbWFpblNhbGVTdGFydFRpbWUgPSBfbWFpblNhbGVTdGFydFRpbWU7CiAgICBtYWluU2FsZUVuZFRpbWUgPSBfbWFpblNhbGVFbmRUaW1lOwoKICAgIHdhbGxldCA9IG1zZy5zZW5kZXIgOwogICAgdG9rZW5XYWxsZXQgPSBtc2cuc2VuZGVyOwoKICAgIGlzRmluYWxpc2VkID0gZmFsc2U7CgogICAgLyogTWludCB0b2tlbnMgZm9yIHByZXZpb3VzIGJhY2tlcnMgW1JlbW92ZWQgdGhlIHByZXZpb3VzIDExJSB0aGUgY29tcGFueSByYWlzZWQgaW4gcHJlc2FsZV0qLwogICAgLyogMTAxOTY0LjMwODM3NTY4MDAwMDAwMDAwMCAqIDEyMCA9IDEyMjM1NzE3IC0+IHJvdW5kaW5nIHRvIGhpZ2hlc3QgaW50ZWdlciAqLwogICAgLyogRml4ZWQgdG9rZW5zIGZvciB0aGUgd2hpdGVsaXN0IG1vbmV5IHJhaXNlZCA9IDM4MzU4OTI3Ki8KICAgIC8qIEZpeGVkIHRva2VucyBmb3IgdGhlIG1hbmFnZW1lbnQgYW5kIGJvdW50eSA9IDMzMDAwMDAwICovCiAgICAvKiBUb3RhbCB0byBhbGxvdDogMzgzNTg5MjcgKyAxMjIzNTcxNyArIDMzMDAwMDAwID0gODM1OTQ2NDQgKi8KICAgIHRva2VuLm1pbnQodG9rZW5XYWxsZXQsIDgzNTk0NjQ0ICogMTAgKiogMTgpOwogIH0KCiAgLyogQ3JlYXRlcyB0aGUgdG9rZW4gdG8gYmUgc29sZCAqLwogIGZ1bmN0aW9uIGNyZWF0ZVRva2VuQ29udHJhY3QoKSBpbnRlcm5hbCByZXR1cm5zIChNaW50YWJsZVRva2VuKSB7CiAgICByZXR1cm4gbmV3IEdFU1Rva2VuKCk7CiAgfQoKICAvKiBGYWxsYmFjayBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBidXkgdG9rZW5zICovCiAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewogICAgYnV5VG9rZW5zKG1zZy5zZW5kZXIpOwogIH0KCiAgLyogTG93IGxldmVsIHRva2VuIHB1cmNoYXNlIGZ1bmN0aW9uICovCiAgZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgYmVuZWZpY2lhcnkpIHB1YmxpYyBwYXlhYmxlIHsKICAgIHJlcXVpcmUoIWlzRmluYWxpc2VkKTsKICAgIHJlcXVpcmUoYmVuZWZpY2lhcnkgIT0gMHgwKTsKICAgIHJlcXVpcmUobXNnLnZhbHVlICE9IDApOwogICAgcmVxdWlyZShub3cgPj0gbWFpblNhbGVTdGFydFRpbWUgJiYgbm93IDw9IG1haW5TYWxlRW5kVGltZSk7CiAgICB1aW50MjU2IG5ld1JhaXNlID0gd2VpUmFpc2VkLmFkZChtc2cudmFsdWUpOwogICAgcmVxdWlyZShtc2cudmFsdWUgPj0gc2FsZU1pbmltdW1XZWkgJiYgbmV3UmFpc2UgPD0gaGFyZENhcCk7CgogICAgLyogQWRkIGJvbnVzIHRvIHRva2VucyBkZXBlbmRzIG9uIHRoZSB2YWx1ZSAqLwogICAgdWludDI1NiBib251c2VkVG9rZW5zID0gYXBwbHlCb251cyhtc2cudmFsdWUpOwogICAgCiAgICAvKiBDaGVjayBpZiB3ZSBoYXZlIGF2YWlsYWJsZSB0b2tlbnMgdG8gc2VsbCAqLwogICAgcmVxdWlyZShib251c2VkVG9rZW5zIDwgdG9rZW5zVG9TZWxsKTsKCiAgICAvKiBVcGRhdGUgc3RhdGUgb24gdGhlIGJsb2NrY2hhaW4gKi8KICAgIHdlaVJhaXNlZCA9IG5ld1JhaXNlOwogICAgdG9rZW5zVG9TZWxsID0gdG9rZW5zVG9TZWxsLnN1Yihib251c2VkVG9rZW5zKTsKICAgIHRva2VuLm1pbnQoYmVuZWZpY2lhcnksIGJvbnVzZWRUb2tlbnMpOwogICAgVG9rZW5QdXJjaGFzZShtc2cuc2VuZGVyLCBiZW5lZmljaWFyeSwgbXNnLnZhbHVlLCBib251c2VkVG9rZW5zKTsKICB9CgogIC8qIEZpbmlzaCBDcm93ZHNhbGUsCiAgICovCiAgZnVuY3Rpb24gZmluYWxpc2VDcm93ZHNhbGUoKSBleHRlcm5hbCBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZSghaXNGaW5hbGlzZWQpOwogICAgdG9rZW4uZmluaXNoTWludGluZygpOwogICAgZm9yd2FyZEZ1bmRzKCk7CiAgICBGaW5hbGlzZWRDcm93ZHNhbGUodG9rZW4udG90YWxTdXBwbHkoKSk7CiAgICBpc0ZpbmFsaXNlZCA9IHRydWU7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qIFBhdXNlIHRoZSB0b2tlbiBjb250cmFjdCAqLwogIGZ1bmN0aW9uIHBhdXNlVG9rZW4oKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgcmVxdWlyZSghaXNGaW5hbGlzZWQpOwogICAgR0VTVG9rZW4odG9rZW4pLnBhdXNlKCk7CiAgfQoKICAvKiBVbnBhdXNlIHRoZSB0b2tlbiBjb250cmFjdCAqLwogIGZ1bmN0aW9uIHVucGF1c2VUb2tlbigpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICBHRVNUb2tlbih0b2tlbikudW5wYXVzZSgpOwogIH0KCiAgLyogVHJhbnNmZXIgdG9rZW4ncyBjb250cmFjdCBvd25lcnNoaXAgdG8gYSBuZXcgb3duZXIgKi8KICBmdW5jdGlvbiB0cmFuc2ZlclRva2VuT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICBHRVNUb2tlbih0b2tlbikudHJhbnNmZXJPd25lcnNoaXAobmV3T3duZXIpOwogIH0KCiAgLyogQHJldHVybiB0cnVlIGlmIG1haW4gc2FsZSBldmVudCBoYXMgZW5kZWQgKi8KICBmdW5jdGlvbiBtYWluU2FsZUhhc0VuZGVkKCkgZXh0ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIG5vdyA+IG1haW5TYWxlRW5kVGltZTsKICB9CgogIC8qIFNlbmQgZXRoZXIgdG8gdGhlIGZ1bmQgY29sbGVjdGlvbiB3YWxsZXQgKi8KICBmdW5jdGlvbiBmb3J3YXJkRnVuZHMoKSBpbnRlcm5hbCB7CiAgICB3YWxsZXQudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICB9CgogIC8qIFNldCBuZXcgZGF0ZXMgZm9yIG1haW4tc2FsZSAoZW1lcmdlbmN5IGNhc2UpICovCiAgZnVuY3Rpb24gc2V0TWFpblNhbGVEYXRlcyh1aW50MjU2IF9tYWluU2FsZVN0YXJ0VGltZSwgdWludDI1NiBfbWFpblNhbGVFbmRUaW1lKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoIWlzRmluYWxpc2VkKTsKICAgIHJlcXVpcmUoX21haW5TYWxlU3RhcnRUaW1lIDwgX21haW5TYWxlRW5kVGltZSk7CiAgICBtYWluU2FsZVN0YXJ0VGltZSA9IF9tYWluU2FsZVN0YXJ0VGltZTsKICAgIG1haW5TYWxlRW5kVGltZSA9IF9tYWluU2FsZUVuZFRpbWU7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qIEZ1bmN0aW9uIHRvIGNhbGN1bGF0ZSBib251cyB0b2tlbnMgYmFzZWQgb24gdGhlIGFtb3VudCBzZW50IGJ5IHRoZSBjb250cmlidXRvciAqLwogIGZ1bmN0aW9uIGFwcGx5Qm9udXModWludDI1NiB3ZWlBbW91bnQpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYm9udXNlZFRva2VucykgewogICAgLyogQm9udXMgdG9rZW5zIHRvIGJlIGFkZGVkICovCiAgICB1aW50MjU2IHRva2Vuc1RvQWRkID0gMDsKCiAgICAvKiBDYWxjdWx0aW5nIHRoZSBhbW9udCBvZiB0b2tlbnMgdG8gYmUgYWxsb2NhdGVkIGJhc2VkIG9uIHJhdGUgYW5kIHRoZSBtb25leSB0cmFuc2ZlcnJlZCAqLwogICAgdWludDI1NiB0b2tlbnMgPSB3ZWlBbW91bnQubXVsKHJhdGUpOwogICAgCiAgICBmb3IodWludDggaSA9IDA7IGkgPCBhbW91bnRCb251c2VzLmxlbmd0aDsgaSsrKXsKICAgICAgICBpZih3ZWlBbW91bnQgPCBhbW91bnRCb251c2VzW2ldLmFtb3VudCl7CiAgICAgICAgICAgdG9rZW5zVG9BZGQgPSB0b2tlbnMubXVsKGFtb3VudEJvbnVzZXNbaV0ucGVyY2VudCkuZGl2KDEwMCk7CiAgICAgICAgICAgIHJldHVybiB0b2tlbnMuYWRkKHRva2Vuc1RvQWRkKTsKICAgICAgICB9CiAgICB9CiAgICAvKiBEZWZhdWx0IGNhbGxiYWNrIGF0IDIwJSwganVzdCBhcyBhIHByZWNhdXRpb24gKi8KICAgIHJldHVybiB0b2tlbnMubXVsKDEyMCkuZGl2KDEwMCk7CiAgfQoKICAvKiAgCiAgKiBGdW5jdGlvbiB0byBleHRyYWN0IGZ1bmRzIGFzIHJlcXVpcmVkIGJlZm9yZSBmaW5hbGl6aW5nCiAgKi8KICBmdW5jdGlvbiBmZXRjaEZ1bmRzKCkgb25seU93bmVyIHB1YmxpYyB7CiAgICB3YWxsZXQudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICB9Cgp9'.
	

]
