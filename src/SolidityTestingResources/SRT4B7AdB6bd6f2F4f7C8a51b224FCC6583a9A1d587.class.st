Class {
	#name : #SRT4B7AdB6bd6f2F4f7C8a51b224FCC6583a9A1d587,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4B7AdB6bd6f2F4f7C8a51b224FCC6583a9A1d587 >> base64 [
	^ 'Y29udHJhY3QgTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPiAwKTsKICAgIHVpbnQgYyA9IGEgLyBiOwogICAgYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgewogICAgaWYgKCFhc3NlcnRpb24pIHsKICAgICAgdGhyb3c7CiAgICB9CiAgfQp9CmNvbnRyYWN0IFRva2VuIHsKICAgIC8qIFRoaXMgaXMgYSBzbGlnaHQgY2hhbmdlIHRvIHRoZSBFUkMyMCBiYXNlIHN0YW5kYXJkLgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSk7CiAgICBpcyByZXBsYWNlZCB3aXRoOgogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICBUaGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBhIGdldHRlciBmdW5jdGlvbiBmb3IgdGhlIHRvdGFsU3VwcGx5LgogICAgVGhpcyBpcyBtb3ZlZCB0byB0aGUgYmFzZSBjb250cmFjdCBzaW5jZSBwdWJsaWMgZ2V0dGVyIGZ1bmN0aW9ucyBhcmUgbm90CiAgICBjdXJyZW50bHkgcmVjb2duaXNlZCBhcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgbWF0Y2hpbmcgYWJzdHJhY3QKICAgIGZ1bmN0aW9uIGJ5IHRoZSBjb21waWxlci4KICAgICovCiAgICAvLy8gdG90YWwgYW1vdW50IG9mIHRva2VucwogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbERpdmlkZW5kczsKICAgIHVpbnQgcHVibGljIHZvdGVFbmRzID0gMTsKICAgIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIGZyb20gd2hpY2ggdGhlIGJhbGFuY2Ugd2lsbCBiZSByZXRyaWV2ZWQKICAgIC8vLyBAcmV0dXJuIFRoZSBiYWxhbmNlCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CgogICAgZnVuY3Rpb24gdm90ZUJhbGFuY2UoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CgogICAgZnVuY3Rpb24gdm90ZUNvdW50KGFkZHJlc3MgX3Byb3Bvc2FsKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGNvdW50KTsKCiAgICAvLy8gQG5vdGljZSBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9zcGVuZGVyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXIKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgLy8vIEByZXR1cm4gcmVtYWluaW5nIG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudAogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKCn0KCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgVG9rZW4gewoKICAgIHN0cnVjdCBBY2NvdW50IHsKICAgICAgICB1aW50IHZvdGVzOwogICAgICAgIHVpbnQgbGFzdFZvdGU7CiAgICAgICAgdWludCBsYXN0RGl2aWRlbmRzOwogICAgfQoKICAgIG1vZGlmaWVyIHZvdGVVcGRhdGVyKGFkZHJlc3MgX3RvLCBhZGRyZXNzIF9mcm9tKSB7CiAgICAgICAgaWYgKGFjY291bnRzW19mcm9tXS5sYXN0Vm90ZSA9PSB2b3RlRW5kcykgewogICAgICAgICAgICBpZiAoYWNjb3VudHNbX3RvXS5sYXN0Vm90ZSA8IHZvdGVFbmRzKSB7CiAgICAgICAgICAgICAgICBhY2NvdW50c1tfdG9dLnZvdGVzID0gYmFsYW5jZXNbX3RvXTsKICAgICAgICAgICAgICAgIGFjY291bnRzW190b10ubGFzdFZvdGUgPSB2b3RlRW5kczsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoYWNjb3VudHNbX2Zyb21dLmxhc3RWb3RlIDwgdm90ZUVuZHMpIHsKICAgICAgICAgICAgYWNjb3VudHNbX2Zyb21dLnZvdGVzID0gYmFsYW5jZXNbX2Zyb21dOwogICAgICAgICAgICBhY2NvdW50c1tfZnJvbV0ubGFzdFZvdGUgPSB2b3RlRW5kczsKICAgICAgICAgICAgaWYgKGFjY291bnRzW190b10ubGFzdFZvdGUgPCB2b3RlRW5kcykgewogICAgICAgICAgICAgICAgYWNjb3VudHNbX3RvXS52b3RlcyA9IGJhbGFuY2VzW190b107CiAgICAgICAgICAgICAgICBhY2NvdW50c1tfdG9dLmxhc3RWb3RlID0gdm90ZUVuZHM7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgXzsKCiAgICB9CiAgICBtb2RpZmllciB1cGRhdGVBY2NvdW50KGFkZHJlc3MgYWNjb3VudCkgewogICAgICB2YXIgb3dpbmcgPSBkaXZpZGVuZHNPd2luZyhhY2NvdW50KTsKICAgICAgaWYob3dpbmcgPiAwKSB7CiAgICAgICAgYWNjb3VudC5zZW5kKG93aW5nKTsKICAgICAgICBhY2NvdW50c1thY2NvdW50XS5sYXN0RGl2aWRlbmRzID0gdG90YWxEaXZpZGVuZHM7CiAgICAgIH0KICAgICAgXzsKICAgIH0KICAgIGZ1bmN0aW9uIGRpdmlkZW5kc093aW5nKGFkZHJlc3MgYWNjb3VudCkgaW50ZXJuYWwgcmV0dXJucyh1aW50KSB7CiAgICAgIHZhciBuZXdEaXZpZGVuZHMgPSB0b3RhbERpdmlkZW5kcyAtIGFjY291bnRzW2FjY291bnRdLmxhc3REaXZpZGVuZHM7CiAgICAgIHJldHVybiAoYmFsYW5jZXNbYWNjb3VudF0gKiBuZXdEaXZpZGVuZHMpIC8gdG90YWxTdXBwbHk7CiAgICB9CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQogICAgZnVuY3Rpb24gdm90ZUNvdW50KGFkZHJlc3MgX3Byb3Bvc2FsKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGNvdW50KSB7CiAgICAgICAgcmV0dXJuIHZvdGVzW19wcm9wb3NhbF07CiAgICB9CiAgICBmdW5jdGlvbiB2b3RlQmFsYW5jZShhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKQogICAgewogICAgICAgIHJldHVybiBhY2NvdW50c1tfb3duZXJdLnZvdGVzOwoKICAgIH0KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSAKICAgIHVwZGF0ZUFjY291bnQobXNnLnNlbmRlcikKICAgIHVwZGF0ZUFjY291bnQoX3RvKQogICAgdm90ZVVwZGF0ZXIoX3RvLCBtc2cuc2VuZGVyKQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSAKICAgIHsKICAgICAgICAvL0RlZmF1bHQgYXNzdW1lcyB0b3RhbFN1cHBseSBjYW4ndCBiZSBvdmVyIG1heCAoMl4yNTYgLSAxKS4KICAgICAgICAvL0lmIHlvdXIgdG9rZW4gbGVhdmVzIG91dCB0b3RhbFN1cHBseSBhbmQgY2FuIGlzc3VlIG1vcmUgdG9rZW5zIGFzIHRpbWUgZ29lcyBvbiwgeW91IG5lZWQgdG8gY2hlY2sgaWYgaXQgZG9lc24ndCB3cmFwLgogICAgICAgIC8vUmVwbGFjZSB0aGUgaWYgd2l0aCB0aGlzIG9uZSBpbnN0ZWFkLgogICAgICAgIC8vaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCkgewogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpCiAgICB1cGRhdGVBY2NvdW50KF9mcm9tKQogICAgdXBkYXRlQWNjb3VudChfdG8pICAKICAgIHZvdGVVcGRhdGVyKF90bywgX2Zyb20pCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIAogICAgewogICAgICAgIC8vc2FtZSBhcyBhYm92ZS4gUmVwbGFjZSB0aGlzIGxpbmUgd2l0aCB0aGUgZm9sbG93aW5nIGlmIHlvdSB3YW50IHRvIHByb3RlY3QgYWdhaW5zdCB3cmFwcGluZyB1aW50cy4KICAgICAgICAvL2lmIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgIGlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQogICAgfQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gQWNjb3VudCkgYWNjb3VudHM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQgKSB2b3RlczsKfQoKY29udHJhY3QgU0lTQSBpcyBTdGFuZGFyZFRva2VuLCBNYXRoIHsKCgoJc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBuYW1lID0gIlNJU0EgVG9rZW4iOwoJc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBzeW1ib2wgPSAiU0lTQSI7Cgl1aW50IGNvbnN0YW50IHB1YmxpYyBkZWNpbWFscyA9IDE4OwoKCWFkZHJlc3MgcHVibGljIGljb190b2tlbnMgPSAweDExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTE7CglhZGRyZXNzIHB1YmxpYyBwcmVJQ09fdG9rZW5zID0gMHgyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyOwoJYWRkcmVzcyBwdWJsaWMgYm91bnR5X2Z1bmRzOwoJYWRkcmVzcyBwdWJsaWMgZm91bmRlcjsKCWFkZHJlc3MgcHVibGljIGFkbWluOwoJYWRkcmVzcyBwdWJsaWMgdGVhbV9mdW5kczsKCWFkZHJlc3MgcHVibGljIGlzc3VlcjsKCWFkZHJlc3MgcHVibGljIHByZXNlbGxlcjsKCgoKCgoJZnVuY3Rpb24gKCkgcGF5YWJsZSB7CgkgIHRvdGFsRGl2aWRlbmRzICs9IG1zZy52YWx1ZTsKCSAgLy9kZWR1Y3QobXNnLnNlbmRlciwgYW1vdW50KTsKCX0KCgoJbW9kaWZpZXIgb25seUZvdW5kZXIoKSB7CgkgICAgLy8gT25seSBmb3VuZGVyIGlzIGFsbG93ZWQgdG8gZG8gdGhpcyBhY3Rpb24uCgkgICAgaWYgKG1zZy5zZW5kZXIgIT0gZm91bmRlcikgewoJICAgICAgICB0aHJvdzsKCSAgICB9CgkgICAgXzsKCX0KCW1vZGlmaWVyIG9ubHlBZG1pbigpIHsKCSAgICAvLyBPbmx5IGFkbWluIGlzIGFsbG93ZWQgdG8gZG8gdGhpcyBhY3Rpb24uCgkgICAgaWYgKG1zZy5zZW5kZXIgIT0gYWRtaW4pIHsKCSAgICAgICAgdGhyb3c7CgkgICAgfQoJICAgIF87Cgl9CiAgICBtb2RpZmllciBvbmx5SXNzdWVyKCkgewogICAgICAgIC8vIE9ubHkgSXNzdWVyIGlzIGFsbG93ZWQgdG8gcHJvY2VlZC4KICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBpc3N1ZXIpIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgICAgIF87CiAgICB9CgoKICAgIGZ1bmN0aW9uIGNhc3RWb3RlKGFkZHJlc3MgcHJvcG9zYWwpIAogICAgCXB1YmxpYwogICAgewogICAgCWlmIChhY2NvdW50c1ttc2cuc2VuZGVyXS5sYXN0Vm90ZSA8IHZvdGVFbmRzKSB7CiAgICAJCWFjY291bnRzW21zZy5zZW5kZXJdLnZvdGVzID0gYmFsYW5jZXNbbXNnLnNlbmRlcl07CiAgICAJCWFjY291bnRzW21zZy5zZW5kZXJdLmxhc3RWb3RlID0gdm90ZUVuZHM7CgogICAgCX0gZWxzZSBpZiAoYWNjb3VudHNbbXNnLnNlbmRlcl0udm90ZXMgPT0gMCApIHsKICAgIAkJdGhyb3c7CiAgICAJfQogICAgCXZvdGVzW3Byb3Bvc2FsXSA9IGFjY291bnRzW21zZy5zZW5kZXJdLnZvdGVzOwogICAgCWFjY291bnRzW21zZy5zZW5kZXJdLnZvdGVzID0gMDsKICAgIAkKICAgIH0KICAgIGZ1bmN0aW9uIGNhbGxWb3RlKCkgCiAgICAJcHVibGljCiAgICAJb25seUFkbWluCiAgICAJcmV0dXJucyAoYm9vbCkKICAgIHsKICAgIAl2b3RlRW5kcyA9IG5vdyArIDcgZGF5czsKCiAgICB9CiAgICBmdW5jdGlvbiBpc3N1ZVRva2VucyhhZGRyZXNzIF9mb3IsIHVpbnQyNTYgYW1vdW50KQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlJc3N1ZXIKICAgICAgICByZXR1cm5zIChib29sKQogICAgewogICAgICAgIGlmKGFsbG93ZWRbaWNvX3Rva2Vuc11baXNzdWVyXSA+PSBhbW91bnQpIHsgCiAgICAgICAgICAgIHRyYW5zZmVyRnJvbShpY29fdG9rZW5zLCBfZm9yLCBhbW91bnQpOwoKICAgICAgICAgICAgLy8gSXNzdWUoX2ZvciwgbXNnLnNlbmRlciwgYW1vdW50KTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gY2hhbmdlUHJlc2VsbGVyKGFkZHJlc3MgbmV3QWRkcmVzcykKICAgICAgICBleHRlcm5hbAogICAgICAgIG9ubHlBZG1pbgogICAgICAgIHJldHVybnMgKGJvb2wpCiAgICB7ICAgIAogICAgICAgIGRlbGV0ZSBhbGxvd2VkW3ByZUlDT190b2tlbnNdW3ByZXNlbGxlcl07CiAgICAgICAgcHJlc2VsbGVyID0gbmV3QWRkcmVzczsKCiAgICAgICAgYWxsb3dlZFtwcmVJQ09fdG9rZW5zXVtwcmVzZWxsZXJdID0gYmFsYW5jZU9mKHByZUlDT190b2tlbnMpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIGZ1bmN0aW9uIGNoYW5nZUlzc3VlcihhZGRyZXNzIG5ld0FkZHJlc3MpCiAgICAgICAgZXh0ZXJuYWwKICAgICAgICBvbmx5QWRtaW4KICAgICAgICByZXR1cm5zIChib29sKQogICAgeyAgICAKICAgICAgICBkZWxldGUgYWxsb3dlZFtpY29fdG9rZW5zXVtpc3N1ZXJdOwogICAgICAgIGlzc3VlciA9IG5ld0FkZHJlc3M7CgogICAgICAgIGFsbG93ZWRbaWNvX3Rva2Vuc11baXNzdWVyXSA9IGJhbGFuY2VPZihpY29fdG9rZW5zKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CglmdW5jdGlvbiBTSVNBKGFkZHJlc3MgX2ZvdW5kZXIsIGFkZHJlc3MgX2FkbWluLCBhZGRyZXNzIF9ib3VudHksIGFkZHJlc3MgX3RlYW0pIHsKCQlmb3VuZGVyID0gX2ZvdW5kZXI7CgkJYWRtaW4gPSBfYWRtaW47CgkJYm91bnR5X2Z1bmRzID0gX2JvdW50eTsKCQl0ZWFtX2Z1bmRzID0gX3RlYW07CgkJdG90YWxTdXBwbHkgPSA1MDAwMDAwMCAqIDEgZXRoZXI7CgkJYmFsYW5jZXNbcHJlSUNPX3Rva2Vuc10gPSA1MDAwMDAwICogMSBldGhlcjsKCQliYWxhbmNlc1tib3VudHlfZnVuZHNdICs9IDMwMDAwMDAgKiAxIGV0aGVyOwoJCWJhbGFuY2VzW3RlYW1fZnVuZHNdICs9IDcwMDAwMDAgKiAxIGV0aGVyOwoJCWJhbGFuY2VzW2ljb190b2tlbnNdID0gMzI1MDAwMDAgKiAxIGV0aGVyOwoKCgoJfQoKfQpjb250cmFjdCBTSVNBY3Jvd2RzYWxlIGlzIE1hdGggewoKCVNJU0EgcHVibGljIFNJU0FfdG9rZW47IAoJYWRkcmVzcyBwdWJsaWMgZm91bmRlcjsgCglhZGRyZXNzIHB1YmxpYyBzYWxlX2FkZHJlc3MgPSAweDExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTE7CgoJLy9QcmljZSAvIDEwMAoJdWludCBwdWJsaWMgcHJpY2UgPSA0NDgxNzkyNzE3MDg2ODM1MDsKCS8vdWludCBwcmljZSA9IGRpdigxMDAgZXRoZXIsIDI2Nzc1MCAqIGV0aGVyKQoKCXVpbnQgcHVibGljIGJlZ2lucyA9IDE1MTExMzYwMDA7Cgl1aW50IHB1YmxpYyBlbmRzID0gMTUxMzcyODAwMDsKCglmdW5jdGlvbiBwcmljZUNoYW5nZSgpIHsKCQlpZiAobm93ID4gYmVnaW5zKSB7CgkJCXByaWNlID0gNDQ4MTc5MjcxNzA4NjgzNTA7CgkJCS8vcHJpY2UgPSAzNzM0ODI3MjY0MjM5MDI4NwoJCX0gZWxzZSBpZiAobm93ID4gKGJlZ2lucyArIDEgZGF5cykpIHsKCQkJcHJpY2UgPSA0ODcxNTEzODIyOTIwNDcyNTsKCQl9IGVsc2UgaWYgKG5vdyA+IChiZWdpbnMgKyA3IGRheXMpKSB7CgkJCXByaWNlID0gNTA5Mjk0NjI2OTQxNjg1NzU7CgkJfSBlbHNlIGlmICggbm93ID4gKGJlZ2lucyArIDE0IGRheXMpKSB7CgkJCXByaWNlID0gNTMzNTQ2NzUyMDM0MTQ2OTQ7CgkJfSBlbHNlIGlmIChub3cgPiAoYmVnaW5zICsgMjEgZGF5cykpIHsKCQkJcHJpY2UgPSA1NjAyMjQwODk2MzU4NTQzMDsKCQl9Cgl9Cgltb2RpZmllciBpc0V4cGlyZWQoKSB7CgkJaWYgKG5vdyA8IGJlZ2lucykgewoJCQl0aHJvdzsKCQl9CgkJaWYobm93ID4gZW5kcykgewoJCQl0aHJvdzsKCQl9CgkJXzsKCX0KCWZ1bmN0aW9uIFNJU0Fjcm93ZHNhbGUoYWRkcmVzcyB0b2tlbkFkZHJlc3MsIGFkZHJlc3MgZm91bmRlckFkZHJlc3MpIHsKCQlmb3VuZGVyID0gZm91bmRlckFkZHJlc3M7CgkJU0lTQV90b2tlbiA9IFNJU0EodG9rZW5BZGRyZXNzKTsKCgl9CgoJZnVuY3Rpb24gKCkgcGF5YWJsZQoJCWlzRXhwaXJlZCAKCXsKCQlwcmljZUNoYW5nZSgpOwoJCXVpbnQgYW1vdW50ID0gbXNnLnZhbHVlOwoJCXVpbnQgdG9rZW5zID0gZGl2KGFtb3VudCAqIDEwMCBldGhlciwgcHJpY2UpOwoJCWlmIChmb3VuZGVyLnNlbmQoYW1vdW50KSkgewoJCQlTSVNBX3Rva2VuLmlzc3VlVG9rZW5zKG1zZy5zZW5kZXIsIHRva2Vucyk7CgkJfSBlbHNlIHsKCQkJdGhyb3c7CgkJfQoJfQp9'.
	

]
