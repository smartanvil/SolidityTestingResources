Class {
	#name : #SRTec33fB8D7c781F6FeaF2Dd46D521D4F292320200,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTec33fB8D7c781F6FeaF2Dd46D521D4F292320200 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuODsKCmNvbnRyYWN0IEVSQzIwIHsKICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zIChib29sIG9rKTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zIChib29sIG9rKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB2YWx1ZSk7Cn0KCgpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIGlmIChtc2cuc2VuZGVyID09IG93bmVyKQogICAgICBfOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgIGlmIChuZXdPd25lciAhPSBhZGRyZXNzKDApKSBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCmNvbnRyYWN0IFRva2VuU3BlbmRlciB7CiAgICBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZXh0cmFEYXRhKTsKfQoKY29udHJhY3QgU2FmZU1hdGggewogIGZ1bmN0aW9uIHNhZmVNdWwodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc2FmZURpdih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPiAwKTsKICAgIHVpbnQgYyA9IGEgLyBiOwogICAgYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHNhZmVTdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gc2FmZUFkZCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSArIGI7CiAgICBhc3NlcnQoYz49YSAmJiBjPj1iKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gbWF4NjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1heDI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgewogICAgaWYgKCFhc3NlcnRpb24pIHsKICAgICAgdGhyb3c7CiAgICB9CiAgfQp9Cgpjb250cmFjdCBQdWxsUGF5bWVudCB7CiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBwYXltZW50czsKICBldmVudCBSZWZ1bmRFVEgoYWRkcmVzcyB0bywgdWludCB2YWx1ZSk7CiAgLy8gc3RvcmUgc2VudCBhbW91bnQgYXMgY3JlZGl0IHRvIGJlIHB1bGxlZCwgY2FsbGVkIGJ5IHBheWVyCiAgZnVuY3Rpb24gYXN5bmNTZW5kKGFkZHJlc3MgZGVzdCwgdWludCBhbW91bnQpIGludGVybmFsIHsKICAgIHBheW1lbnRzW2Rlc3RdICs9IGFtb3VudDsKICB9CgogIC8vIHdpdGhkcmF3IGFjY3VtdWxhdGVkIGJhbGFuY2UsIGNhbGxlZCBieSBwYXllZQogIGZ1bmN0aW9uIHdpdGhkcmF3UGF5bWVudHMoKSB7CiAgICBhZGRyZXNzIHBheWVlID0gbXNnLnNlbmRlcjsKICAgIHVpbnQgcGF5bWVudCA9IHBheW1lbnRzW3BheWVlXTsKICAgIAogICAgaWYgKHBheW1lbnQgPT0gMCkgewogICAgICB0aHJvdzsKICAgIH0KCiAgICBpZiAodGhpcy5iYWxhbmNlIDwgcGF5bWVudCkgewogICAgICB0aHJvdzsKICAgIH0KCiAgICBwYXltZW50c1twYXllZV0gPSAwOwoKICAgIGlmICghcGF5ZWUuc2VuZChwYXltZW50KSkgewogICAgICB0aHJvdzsKICAgIH0KICAgIFJlZnVuZEVUSChwYXllZSxwYXltZW50KTsKICB9Cn0KCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgewogIGJvb2wgcHVibGljIHN0b3BwZWQ7CgogIG1vZGlmaWVyIHN0b3BJbkVtZXJnZW5jeSB7CiAgICBpZiAoc3RvcHBlZCkgewogICAgICB0aHJvdzsKICAgIH0KICAgIF87CiAgfQogIAogIG1vZGlmaWVyIG9ubHlJbkVtZXJnZW5jeSB7CiAgICBpZiAoIXN0b3BwZWQpIHsKICAgICAgdGhyb3c7CiAgICB9CiAgICBfOwogIH0KCiAgLy8gY2FsbGVkIGJ5IHRoZSBvd25lciBvbiBlbWVyZ2VuY3ksIHRyaWdnZXJzIHN0b3BwZWQgc3RhdGUKICBmdW5jdGlvbiBlbWVyZ2VuY3lTdG9wKCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgIHN0b3BwZWQgPSB0cnVlOwogIH0KCiAgLy8gY2FsbGVkIGJ5IHRoZSBvd25lciBvbiBlbmQgb2YgZW1lcmdlbmN5LCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZQogIGZ1bmN0aW9uIHJlbGVhc2UoKSBleHRlcm5hbCBvbmx5T3duZXIgb25seUluRW1lcmdlbmN5IHsKICAgIHN0b3BwZWQgPSBmYWxzZTsKICB9Cgp9CgoKY29udHJhY3QgUkxDIGlzIEVSQzIwLCBTYWZlTWF0aCwgT3duYWJsZSB7CgogICAgLyogUHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4gKi8KICBzdHJpbmcgcHVibGljIG5hbWU7ICAgICAgIC8vZmFuY3kgbmFtZQogIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsgICAgLy9Ib3cgbWFueSBkZWNpbWFscyB0byBzaG93LgogIHN0cmluZyBwdWJsaWMgdmVyc2lvbiA9ICd2MC4xJzsgCiAgdWludCBwdWJsaWMgaW5pdGlhbFN1cHBseTsKICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsKICBib29sIHB1YmxpYyBsb2NrZWQ7CiAgLy91aW50IHB1YmxpYyB1bmxvY2tCbG9jazsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKCiAgLy8gbG9jayB0cmFuc2ZlciBkdXJpbmcgdGhlIElDTwogIG1vZGlmaWVyIG9ubHlVbmxvY2tlZCgpIHsKICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyICYmIGxvY2tlZCkgdGhyb3c7CiAgICBfOwogIH0KCiAgLyoKICAgKiAgVGhlIFJMQyBUb2tlbiBjcmVhdGVkIHdpdGggdGhlIHRpbWUgYXQgd2hpY2ggdGhlIGNyb3dkc2FsZSBlbmQKICAgKi8KCiAgZnVuY3Rpb24gUkxDKCkgewogICAgLy8gbG9jayB0aGUgdHJhbnNmZXIgZnVuY3Rpb24gZHVyaW5nIHRoZSBjcm93ZHNhbGUKICAgIGxvY2tlZCA9IHRydWU7CiAgICAvL3VubG9ja0Jsb2NrPSAgbm93ICsgNDUgZGF5czsgLy8gKHRlc3RuZXQpIC0gZm9yIG1haW5uZXQgcHV0IHRoZSBibG9jayBudW1iZXIKCiAgICBpbml0aWFsU3VwcGx5ID0gODcwMDAwMDAwMDAwMDAwMDA7CiAgICB0b3RhbFN1cHBseSA9IGluaXRpYWxTdXBwbHk7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGluaXRpYWxTdXBwbHk7Ly8gR2l2ZSB0aGUgY3JlYXRvciBhbGwgaW5pdGlhbCB0b2tlbnMgICAgICAgICAgICAgICAgICAgIAogICAgbmFtZSA9ICdpRXguZWMgTmV0d29yayBUb2tlbic7ICAgICAgICAvLyBTZXQgdGhlIG5hbWUgZm9yIGRpc3BsYXkgcHVycG9zZXMgICAgIAogICAgc3ltYm9sID0gJ1JMQyc7ICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIHN5bWJvbCBmb3IgZGlzcGxheSBwdXJwb3NlcyAgCiAgICBkZWNpbWFscyA9IDk7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gQW1vdW50IG9mIGRlY2ltYWxzIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgfQoKICBmdW5jdGlvbiB1bmxvY2soKSBvbmx5T3duZXIgewogICAgbG9ja2VkID0gZmFsc2U7CiAgfQoKICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKXsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2FmZVN1YihiYWxhbmNlc1ttc2cuc2VuZGVyXSwgX3ZhbHVlKSA7CiAgICB0b3RhbFN1cHBseSA9IHNhZmVTdWIodG90YWxTdXBwbHksIF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCAweDAsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seVVubG9ja2VkIHJldHVybnMgKGJvb2wpIHsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2FmZVN1YihiYWxhbmNlc1ttc2cuc2VuZGVyXSwgX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBzYWZlQWRkKGJhbGFuY2VzW190b10sIF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlVbmxvY2tlZCByZXR1cm5zIChib29sKSB7CiAgICB2YXIgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwogICAgCiAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLCBfdmFsdWUpOwogICAgYmFsYW5jZXNbX2Zyb21dID0gc2FmZVN1YihiYWxhbmNlc1tfZnJvbV0sIF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IHNhZmVTdWIoX2FsbG93YW5jZSwgX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9CgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogICAgLyogQXBwcm92ZSBhbmQgdGhlbiBjb211bmljYXRlIHRoZSBhcHByb3ZlZCBjb250cmFjdCBpbiBhIHNpbmdsZSB0eCAqLwogIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZXh0cmFEYXRhKXsgICAgCiAgICAgIFRva2VuU3BlbmRlciBzcGVuZGVyID0gVG9rZW5TcGVuZGVyKF9zcGVuZGVyKTsKICAgICAgaWYgKGFwcHJvdmUoX3NwZW5kZXIsIF92YWx1ZSkpIHsKICAgICAgICAgIHNwZW5kZXIucmVjZWl2ZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSk7CiAgICAgIH0KICB9CgogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KICAKfQoKCgoKY29udHJhY3QgQ3Jvd2RzYWxlIGlzIFNhZmVNYXRoLCBQdWxsUGF5bWVudCwgUGF1c2FibGUgewoKICAJc3RydWN0IEJhY2tlciB7CgkJdWludCB3ZWlSZWNlaXZlZDsJLy8gQW1vdW50IG9mIEVUSCBnaXZlbgoJCXN0cmluZyBidGNfYWRkcmVzczsgIC8vc3RvcmUgdGhlIGJ0YyBhZGRyZXNzIGZvciBmdWxsIHRyYWNlYWJpbGl0eQoJCXVpbnQgc2F0b3NoaVJlY2VpdmVkOwkvLyBBbW91bnQgb2YgQlRDIGdpdmVuCgkJdWludCBybGNTZW50OwoJfQoKCVJMQyAJcHVibGljIHJsYzsgICAgICAgICAvLyBSTEMgY29udHJhY3QgcmVmZXJlbmNlCglhZGRyZXNzIHB1YmxpYyBvd25lcjsgICAgICAgLy8gQ29udHJhY3Qgb3duZXIgKGlFeC5lYyB0ZWFtKQoJYWRkcmVzcyBwdWJsaWMgbXVsdGlzaWdFVEg7IC8vIE11bHRpc2lnIGNvbnRyYWN0IHRoYXQgd2lsbCByZWNlaXZlIHRoZSBFVEgKCWFkZHJlc3MgcHVibGljIEJUQ3Byb3h5OwkvLyBhZGRyZXNzIG9mIHRoZSBCVEMgUHJveHkKCgl1aW50IHB1YmxpYyBSTENQZXJFVEg7ICAgICAgLy8gTnVtYmVyIG9mIFJMQyBwZXIgRVRICgl1aW50IHB1YmxpYyBSTENQZXJTQVRPU0hJOyAgLy8gTnVtYmVyIG9mIFJMQyBwZXIgU0FUT1NISQoJdWludCBwdWJsaWMgRVRIUmVjZWl2ZWQ7ICAgIC8vIE51bWJlciBvZiBFVEggcmVjZWl2ZWQKCXVpbnQgcHVibGljIEJUQ1JlY2VpdmVkOyAgICAvLyBOdW1iZXIgb2YgQlRDIHJlY2VpdmVkCgl1aW50IHB1YmxpYyBSTENTZW50VG9FVEg7ICAgLy8gTnVtYmVyIG9mIFJMQyBzZW50IHRvIEVUSCBjb250cmlidXRvcnMKCXVpbnQgcHVibGljIFJMQ1NlbnRUb0JUQzsgICAvLyBOdW1iZXIgb2YgUkxDIHNlbnQgdG8gQlRDIGNvbnRyaWJ1dG9ycwoJdWludCBwdWJsaWMgc3RhcnRCbG9jazsgICAgIC8vIENyb3dkc2FsZSBzdGFydCBibG9jawoJdWludCBwdWJsaWMgZW5kQmxvY2s7ICAgICAgIC8vIENyb3dkc2FsZSBlbmQgYmxvY2sKCXVpbnQgcHVibGljIG1pbkNhcDsgICAgICAgICAvLyBNaW5pbXVtIG51bWJlciBvZiBSTEMgdG8gc2VsbAoJdWludCBwdWJsaWMgbWF4Q2FwOyAgICAgICAgIC8vIE1heGltdW0gbnVtYmVyIG9mIFJMQyB0byBzZWxsCglib29sIHB1YmxpYyBtYXhDYXBSZWFjaGVkOyAgLy8gTWF4IGNhcCBoYXMgYmVlbiByZWFjaGVkCgl1aW50IHB1YmxpYyBtaW5JbnZlc3RFVEg7ICAgLy8gTWluaW11bSBhbW91bnQgdG8gaW52ZXN0Cgl1aW50IHB1YmxpYyBtaW5JbnZlc3RCVEM7ICAgLy8gTWluaW11bSBhbW91bnQgdG8gaW52ZXN0Cglib29sIHB1YmxpYyBjcm93ZHNhbGVDbG9zZWQ7Ly8gSXMgY3Jvd2RzYWxlIHN0aWxsIG9uIGdvaW5nCgoJYWRkcmVzcyBwdWJsaWMgYm91bnR5OwkJLy8gYWRkcmVzcyBhdCB3aGljaCB0aGUgYm91bnR5IFJMQyB3aWxsIGJlIHNlbnQKCWFkZHJlc3MgcHVibGljIHJlc2VydmU7IAkvLyBhZGRyZXNzIGF0IHdoaWNoIHRoZSBjb250aW5nZW5jeSByZXNlcnZlIHdpbGwgYmUgc2VudAoJYWRkcmVzcyBwdWJsaWMgdGVhbTsJCS8vIGFkZHJlc3MgYXQgd2hpY2ggdGhlIHRlYW0gUkxDIHdpbGwgYmUgc2VudAoKCXVpbnQgcHVibGljIHJsY19ib3VudHk7CQkvLyBhbW91bnQgb2YgYm91bnRpZXMgUkxDCgl1aW50IHB1YmxpYyBybGNfcmVzZXJ2ZTsJLy8gYW1vdW50IG9mIHRoZSBjb250aW5nZW5jeSByZXNlcnZlCgl1aW50IHB1YmxpYyBybGNfdGVhbTsJCS8vIGFtb3VudCBvZiB0aGUgdGVhbSBSTEMgCgltYXBwaW5nKGFkZHJlc3MgPT4gQmFja2VyKSBwdWJsaWMgYmFja2VyczsgLy9iYWNrZXJzRVRIIGluZGV4ZWQgYnkgdGhlaXIgRVRIIGFkZHJlc3MKCgltb2RpZmllciBvbmx5QnkoYWRkcmVzcyBhKXsKCQlpZiAobXNnLnNlbmRlciAhPSBhKSB0aHJvdzsgIAoJCV87Cgl9CgoJbW9kaWZpZXIgbWluQ2FwTm90UmVhY2hlZCgpIHsKCQlpZiAoKG5vdzxlbmRCbG9jaykgfHwgUkxDU2VudFRvRVRIICsgUkxDU2VudFRvQlRDID49IG1pbkNhcCApIHRocm93OwoJCV87Cgl9CgoJbW9kaWZpZXIgcmVzcGVjdFRpbWVGcmFtZSgpIHsKCQlpZiAoKG5vdyA8IHN0YXJ0QmxvY2spIHx8IChub3cgPiBlbmRCbG9jayApKSB0aHJvdzsKCQlfOwoJfQoKCS8qCgkqIEV2ZW50CgkqLwoJZXZlbnQgUmVjZWl2ZWRFVEgoYWRkcmVzcyBhZGRyLCB1aW50IHZhbHVlKTsKCWV2ZW50IFJlY2VpdmVkQlRDKGFkZHJlc3MgYWRkciwgc3RyaW5nIGZyb20sIHVpbnQgdmFsdWUsIHN0cmluZyB0eGlkKTsKCWV2ZW50IFJlZnVuZEJUQyhzdHJpbmcgdG8sIHVpbnQgdmFsdWUpOwoJZXZlbnQgTG9ncyhhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludCBhbW91bnQsIHN0cmluZyB2YWx1ZSk7CgoJLyoKCSoJQ29uc3RydWN0b3IKCSovCgkvL2Z1bmN0aW9uIENyb3dkc2FsZSgpIHsKCWZ1bmN0aW9uIENyb3dkc2FsZSgpIHsKCQlvd25lciA9IG1zZy5zZW5kZXI7CgkJQlRDcHJveHkgPSAweDc1YzZjY2ViMWEzM2YxNzczNjkwNTNmOGEwZTg0MGRlOTZiNGVkMGU7CgkJcmxjID0gUkxDKDB4NjA3RjRDNUJCNjcyMjMwZTg2NzIwODU1MzJmN2U5MDE1NDRhNzM3NSk7CgkJbXVsdGlzaWdFVEggPSAweEFlMzA3ZTM4NzFFNUEzMjFjMDU1OUZCZjAyMzNBMzhjOTM3QjgyNkE7CgkJdGVhbSA9IDB4ZDY1MzgwRDc3MzIwOGE2QWE0OTQ3MkJmNTUxODZiODU1QjM5MzI5ODsKCQlyZXNlcnZlID0gMHgyNEY2YjM3NzcwQzYwNjdEMDVBQ2MyYUQyQzQyZDFCYWZkZTk1ZDQ4OwoJCWJvdW50eSA9IDB4ODIyNmEyNGRBMDg3MEZiOEExMjhFNEZjMTUyMjhhOWM0YTViYUMyOTsKCQlSTENTZW50VG9FVEggPSAwOwoJCVJMQ1NlbnRUb0JUQyA9IDA7CgkJbWluSW52ZXN0RVRIID0gMSBldGhlcjsKCQltaW5JbnZlc3RCVEMgPSA1MDAwMDAwOwkJCS8vIGFwcHJveCA1MCBVU0Qgb3IgMC4wNTAwMDAwMCBCVEMKCQlzdGFydEJsb2NrID0gMCA7ICAgICAgICAgICAgCS8vIHNob3VsZCB3YWl0IGZvciB0aGUgY2FsbCBvZiB0aGUgZnVuY3Rpb24gc3RhcnQKCQllbmRCbG9jayA9ICAwOyAgCQkJCS8vIHNob3VsZCB3YWl0IGZvciB0aGUgY2FsbCBvZiB0aGUgZnVuY3Rpb24gc3RhcnQKCQlSTENQZXJFVEggPSAyMDAwMDAwMDAwMDA7CQkvLyB3aWxsIGJlIHVwZGF0ZSBldmVyeSAxMG1pbiBiYXNlZCBvbiB0aGUga3Jha2VuIEVUSEJUQwoJCVJMQ1BlclNBVE9TSEkgPSA1MDAwMDsJCQkvLyA1MDAwIFJMQyBwYXIgQlRDID09IDUwLDAwMCBSTEMgcGVyIHNhdG9zaGkKCQltaW5DYXA9MTIwMDAwMDAwMDAwMDAwMDA7CgkJbWF4Q2FwPTYwMDAwMDAwMDAwMDAwMDAwOwoJCXJsY19ib3VudHk9MTcwMDAwMDAwMDAwMDAwMDsJLy8gbWF4IDYwMDAwMDAgUkxDCgkJcmxjX3Jlc2VydmU9MTcwMDAwMDAwMDAwMDAwMDsJLy8gbWF4IDYwMDAwMDAgUkxDCgkJcmxjX3RlYW09MTIwMDAwMDAwMDAwMDAwMDA7Cgl9CgoJLyogCgkgKiBUaGUgZmFsbGJhY2sgZnVuY3Rpb24gY29ycmVzcG9uZHMgdG8gYSBkb25hdGlvbiBpbiBFVEgKCSAqLwoJZnVuY3Rpb24oKSBwYXlhYmxlIHsKCQlpZiAobm93ID4gZW5kQmxvY2spIHRocm93OwoJCXJlY2VpdmVFVEgobXNnLnNlbmRlcik7Cgl9CgoJLyogCgkgKiBUbyBjYWxsIHRvIHN0YXJ0IHRoZSBjcm93ZHNhbGUKCSAqLwoJZnVuY3Rpb24gc3RhcnQoKSBvbmx5Qnkob3duZXIpIHsKCQlzdGFydEJsb2NrID0gbm93IDsgICAgICAgICAgICAKCQllbmRCbG9jayA9ICBub3cgKyAzMCBkYXlzOyAgICAKCX0KCgkvKgoJKglSZWNlaXZlcyBhIGRvbmF0aW9uIGluIEVUSAoJKi8KCWZ1bmN0aW9uIHJlY2VpdmVFVEgoYWRkcmVzcyBiZW5lZmljaWFyeSkgaW50ZXJuYWwgc3RvcEluRW1lcmdlbmN5ICByZXNwZWN0VGltZUZyYW1lICB7CgkJaWYgKG1zZy52YWx1ZSA8IG1pbkludmVzdEVUSCkgdGhyb3c7CQkJCQkJCQkvL2Rvbid0IGFjY2VwdCBmdW5kaW5nIHVuZGVyIGEgcHJlZGVmaW5lZCB0aHJlc2hvbGQKCQl1aW50IHJsY1RvU2VuZCA9IGJvbnVzKHNhZmVNdWwobXNnLnZhbHVlLFJMQ1BlckVUSCkvKDEgZXRoZXIpKTsJCS8vY29tcHV0ZSB0aGUgbnVtYmVyIG9mIFJMQyB0byBzZW5kCgkJaWYgKHNhZmVBZGQocmxjVG9TZW5kLCBzYWZlQWRkKFJMQ1NlbnRUb0VUSCwgUkxDU2VudFRvQlRDKSkgPiBtYXhDYXApIHRocm93OwkKCgkJQmFja2VyIGJhY2tlciA9IGJhY2tlcnNbYmVuZWZpY2lhcnldOwoJCWlmICghcmxjLnRyYW5zZmVyKGJlbmVmaWNpYXJ5LCBybGNUb1NlbmQpKSB0aHJvdzsgICAgIAkJCQkvLyBEbyB0aGUgUkxDIHRyYW5zZmVyIHJpZ2h0IG5vdyAKCQliYWNrZXIucmxjU2VudCA9IHNhZmVBZGQoYmFja2VyLnJsY1NlbnQsIHJsY1RvU2VuZCk7CgkJYmFja2VyLndlaVJlY2VpdmVkID0gc2FmZUFkZChiYWNrZXIud2VpUmVjZWl2ZWQsIG1zZy52YWx1ZSk7CQkvLyBVcGRhdGUgdGhlIHRvdGFsIHdlaSBjb2xsZWN0ZWQgZHVyaW5nIHRoZSBjcm93ZGZ1bmRpbmcgZm9yIHRoaXMgYmFja2VyICAgIAoJCUVUSFJlY2VpdmVkID0gc2FmZUFkZChFVEhSZWNlaXZlZCwgbXNnLnZhbHVlKTsJCQkJCQkvLyBVcGRhdGUgdGhlIHRvdGFsIHdlaSBjb2xsZWN0ZWQgZHVyaW5nIHRoZSBjcm93ZGZ1bmRpbmcKCQlSTENTZW50VG9FVEggPSBzYWZlQWRkKFJMQ1NlbnRUb0VUSCwgcmxjVG9TZW5kKTsKCgkJZW1pdFJMQyhybGNUb1NlbmQpOwkJCQkJCQkJCQkJCQkvLyBjb21wdXRlIHRoZSB2YXJpYWJsZSBwYXJ0IAoJCVJlY2VpdmVkRVRIKGJlbmVmaWNpYXJ5LEVUSFJlY2VpdmVkKTsJCQkJCQkJCS8vIHNlbmQgdGhlIGNvcnJlc3BvbmRpbmcgY29udHJpYnV0aW9uIGV2ZW50Cgl9CgkKCS8qCgkqIHJlY2VpdmVzIGEgZG9uYXRpb24gaW4gQlRDCgkqLwoJZnVuY3Rpb24gcmVjZWl2ZUJUQyhhZGRyZXNzIGJlbmVmaWNpYXJ5LCBzdHJpbmcgYnRjX2FkZHJlc3MsIHVpbnQgdmFsdWUsIHN0cmluZyB0eGlkKSBzdG9wSW5FbWVyZ2VuY3kgcmVzcGVjdFRpbWVGcmFtZSBvbmx5QnkoQlRDcHJveHkpIHJldHVybnMgKGJvb2wgcmVzKXsKCQlpZiAodmFsdWUgPCBtaW5JbnZlc3RCVEMpIHRocm93OwkJCQkJCQkJCQkJLy8gdGhpcyB2ZXJpZiBpcyBhbHNvIG1hZGUgb24gdGhlIGJ0Y3Byb3h5CgoJCXVpbnQgcmxjVG9TZW5kID0gYm9udXMoc2FmZU11bCh2YWx1ZSxSTENQZXJTQVRPU0hJKSk7CQkJCQkJLy9jb21wdXRlIHRoZSBudW1iZXIgb2YgUkxDIHRvIHNlbmQKCQlpZiAoc2FmZUFkZChybGNUb1NlbmQsIHNhZmVBZGQoUkxDU2VudFRvRVRILCBSTENTZW50VG9CVEMpKSA+IG1heENhcCkgewkJLy8gY2hlY2sgaWYgd2UgYXJlIG5vdCByZWFjaGluZyB0aGUgbWF4Q2FwIGJ5IGFjY2VwdGluZyB0aGlzIGRvbmF0aW9uCgkJCVJlZnVuZEJUQyhidGNfYWRkcmVzcyAsIHZhbHVlKTsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJQmFja2VyIGJhY2tlciA9IGJhY2tlcnNbYmVuZWZpY2lhcnldOwoJCWlmICghcmxjLnRyYW5zZmVyKGJlbmVmaWNpYXJ5LCBybGNUb1NlbmQpKSB0aHJvdzsJCQkJCQkJLy8gRG8gdGhlIHRyYW5zZmVyIHJpZ2h0IG5vdyAKCQliYWNrZXIucmxjU2VudCA9IHNhZmVBZGQoYmFja2VyLnJsY1NlbnQgLCBybGNUb1NlbmQpOwoJCWJhY2tlci5idGNfYWRkcmVzcyA9IGJ0Y19hZGRyZXNzOwoJCWJhY2tlci5zYXRvc2hpUmVjZWl2ZWQgPSBzYWZlQWRkKGJhY2tlci5zYXRvc2hpUmVjZWl2ZWQsIHZhbHVlKTsKCQlCVENSZWNlaXZlZCA9ICBzYWZlQWRkKEJUQ1JlY2VpdmVkLCB2YWx1ZSk7CQkJCQkJCQkJLy8gVXBkYXRlIHRoZSB0b3RhbCBzYXRvc2hpIGNvbGxlY3RlZCBkdXJpbmcgdGhlIGNyb3dkZnVuZGluZyBmb3IgdGhpcyBiYWNrZXIKCQlSTENTZW50VG9CVEMgPSBzYWZlQWRkKFJMQ1NlbnRUb0JUQywgcmxjVG9TZW5kKTsJCQkJCQkJLy8gVXBkYXRlIHRoZSB0b3RhbCBzYXRvc2hpIGNvbGxlY3RlZCBkdXJpbmcgdGhlIGNyb3dkZnVuZGluZwoJCWVtaXRSTEMocmxjVG9TZW5kKTsKCQlSZWNlaXZlZEJUQyhiZW5lZmljaWFyeSwgYnRjX2FkZHJlc3MsIEJUQ1JlY2VpdmVkLCB0eGlkKTsKCQlyZXR1cm4gdHJ1ZTsKCX0KCgkvKgoJICpDb21wdXRlIHRoZSB2YXJpYWJsZSBwYXJ0CgkgKi8KCWZ1bmN0aW9uIGVtaXRSTEModWludCBhbW91bnQpIGludGVybmFsIHsKCQlybGNfYm91bnR5ID0gc2FmZUFkZChybGNfYm91bnR5LCBhbW91bnQvMTApOwoJCXJsY190ZWFtID0gc2FmZUFkZChybGNfdGVhbSwgYW1vdW50LzIwKTsKCQlybGNfcmVzZXJ2ZSA9IHNhZmVBZGQocmxjX3Jlc2VydmUsIGFtb3VudC8xMCk7CgkJTG9ncyhtc2cuc2VuZGVyICxhbW91bnQsICJlbWl0UkxDIik7Cgl9CgoJLyoKCSAqQ29tcHV0ZSB0aGUgUkxDIGJvbnVzIGFjY29yZGluZyB0byB0aGUgaW52ZXN0bWVudCBwZXJpb2QKCSAqLwoJZnVuY3Rpb24gYm9udXModWludCBhbW91bnQpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKCQlpZiAobm93IDwgc2FmZUFkZChzdGFydEJsb2NrLCAxMCBkYXlzKSkgcmV0dXJuIChzYWZlQWRkKGFtb3VudCwgYW1vdW50LzUpKTsgICAvLyBib251cyAyMCUKCQlpZiAobm93IDwgc2FmZUFkZChzdGFydEJsb2NrLCAyMCBkYXlzKSkgcmV0dXJuIChzYWZlQWRkKGFtb3VudCwgYW1vdW50LzEwKSk7ICAvLyBib251cyAxMCUKCQlyZXR1cm4gYW1vdW50OwoJfQoKCS8qIAoJICogV2hlbiBtaW5jYXAgaXMgbm90IHJlYWNoIGJhY2tlciBjYW4gY2FsbCB0aGUgYXBwcm92ZUFuZENhbGwgZnVuY3Rpb24gb2YgdGhlIFJMQyB0b2tlbiBjb250cmFjdAoJICogd2l0aCB0aGlzIGNyb3dkc2FsZSBjb250cmFjdCBvbiBwYXJhbWV0ZXIgd2l0aCBhbGwgdGhlIFJMQyB0aGV5IGdldCBpbiBvcmRlciB0byBiZSByZWZ1bmQKCSAqLwoJZnVuY3Rpb24gcmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlLCBhZGRyZXNzIF90b2tlbiwgYnl0ZXMgX2V4dHJhRGF0YSkgbWluQ2FwTm90UmVhY2hlZCBwdWJsaWMgewoJCWlmIChtc2cuc2VuZGVyICE9IGFkZHJlc3MocmxjKSkgdGhyb3c7IAoJCWlmIChfZXh0cmFEYXRhLmxlbmd0aCAhPSAwKSB0aHJvdzsJCQkJCQkJCS8vIG5vIGV4dHJhZGF0YSBuZWVkZWQKCQlpZiAoX3ZhbHVlICE9IGJhY2tlcnNbX2Zyb21dLnJsY1NlbnQpIHRocm93OwkJCQkJLy8gY29tcGFyZSB2YWx1ZSBmcm9tIGJhY2tlciBiYWxhbmNlCgkJaWYgKCFybGMudHJhbnNmZXJGcm9tKF9mcm9tLCBhZGRyZXNzKHRoaXMpLCBfdmFsdWUpKSB0aHJvdyA7CS8vIGdldCB0aGUgdG9rZW4gYmFjayB0byB0aGUgY3Jvd2RzYWxlIGNvbnRyYWN0CgkJaWYgKCFybGMuYnVybihfdmFsdWUpKSB0aHJvdyA7CQkJCQkJCQkJLy8gdG9rZW4gc2VudCBmb3IgcmVmdW5kIGFyZSBidXJudAoJCXVpbnQgRVRIVG9TZW5kID0gYmFja2Vyc1tfZnJvbV0ud2VpUmVjZWl2ZWQ7CgkJYmFja2Vyc1tfZnJvbV0ud2VpUmVjZWl2ZWQ9MDsKCQl1aW50IEJUQ1RvU2VuZCA9IGJhY2tlcnNbX2Zyb21dLnNhdG9zaGlSZWNlaXZlZDsKCQliYWNrZXJzW19mcm9tXS5zYXRvc2hpUmVjZWl2ZWQgPSAwOwoJCWlmIChFVEhUb1NlbmQgPiAwKSB7CgkJCWFzeW5jU2VuZChfZnJvbSxFVEhUb1NlbmQpOwkJCQkJCQkJCS8vIHB1bGwgcGF5bWVudCB0byBnZXQgcmVmdW5kIGluIEVUSAoJCX0KCQlpZiAoQlRDVG9TZW5kID4gMCkKCQkJUmVmdW5kQlRDKGJhY2tlcnNbX2Zyb21dLmJ0Y19hZGRyZXNzICxCVENUb1NlbmQpOwkJCS8vIGV2ZW50IG1lc3NhZ2UgdG8gbWFudWFsbHkgcmVmdW5kIEJUQwoJfQoKCS8qCgkqIFVwZGF0ZSB0aGUgcmF0ZSBSTEMgcGVyIEVUSCwgY29tcHV0ZWQgZXh0ZXJuYWxseSBieSB1c2luZyB0aGUgRVRIQlRDIGluZGV4IG9uIGtyYWtlbiBldmVyeSAxMG1pbgoJKi8KCWZ1bmN0aW9uIHNldFJMQ1BlckVUSCh1aW50IHJhdGUpIG9ubHlCeShCVENwcm94eSkgewoJCVJMQ1BlckVUSD1yYXRlOwoJfQoJCgkvKgkKCSogRmluYWxpemUgdGhlIGNyb3dkc2FsZSwgc2hvdWxkIGJlIGNhbGxlZCBhZnRlciB0aGUgcmVmdW5kIHBlcmlvZAoJKi8KCWZ1bmN0aW9uIGZpbmFsaXplKCkgb25seUJ5KG93bmVyKSB7CgkJLy8gY2hlY2sKCQlpZiAoUkxDU2VudFRvRVRIICsgUkxDU2VudFRvQlRDIDwgbWF4Q2FwIC0gNTAwMDAwMDAwMDAwMCAmJiBub3cgPCBlbmRCbG9jaykgdGhyb3c7CS8vIGNhbm5vdCBmaW5hbGlzZSBiZWZvcmUgMzAgZGF5IHVudGlsIG1heGNhcCBpcyByZWFjaGVkIG1pbnVzIDFCVEMKCQlpZiAoUkxDU2VudFRvRVRIICsgUkxDU2VudFRvQlRDIDwgbWluQ2FwICYmIG5vdyA8IGVuZEJsb2NrICsgMTUgZGF5cykgdGhyb3cgOwkJLy8gaWYgbWluY2FwIGlzIG5vdCByZWFjaGVkIGRvbm9ycyBoYXZlIDE1ZGF5cyB0byBnZXQgcmVmdW5kIGJlZm9yZSB3ZSBjYW4gZmluYWxpc2UKCQlpZiAoIW11bHRpc2lnRVRILnNlbmQodGhpcy5iYWxhbmNlKSkgdGhyb3c7CQkJCQkJCQkJCQkvLyBtb3ZlcyB0aGUgcmVtYWluaW5nIEVUSCB0byB0aGUgbXVsdGlzaWcgYWRkcmVzcwoJCWlmIChybGNfcmVzZXJ2ZSA+IDYwMDAwMDAwMDAwMDAwMDApewkJCQkJCQkJCQkJCS8vIG1vdmVzIFJMQyB0byB0aGUgdGVhbSwgcmVzZXJ2ZSBhbmQgYm91bnR5IGFkZHJlc3MKCQkJaWYoIXJsYy50cmFuc2ZlcihyZXNlcnZlLDYwMDAwMDAwMDAwMDAwMDApKSB0aHJvdzsJCQkJCQkJCS8vIG1heCBjYXAgNjAwMDAwMFJMQwoJCQlybGNfcmVzZXJ2ZSA9IDYwMDAwMDAwMDAwMDAwMDA7CgkJfSBlbHNlIHsKCQkJaWYoIXJsYy50cmFuc2ZlcihyZXNlcnZlLHJsY19yZXNlcnZlKSkgdGhyb3c7ICAKCQl9CgkJaWYgKHJsY19ib3VudHkgPiA2MDAwMDAwMDAwMDAwMDAwKXsKCQkJaWYoIXJsYy50cmFuc2Zlcihib3VudHksNjAwMDAwMDAwMDAwMDAwMCkpIHRocm93OwkJCQkJCQkJLy8gbWF4IGNhcCA2MDAwMDAwUkxDCgkJCXJsY19ib3VudHkgPSA2MDAwMDAwMDAwMDAwMDAwOwoJCX0gZWxzZSB7CgkJCWlmKCFybGMudHJhbnNmZXIoYm91bnR5LHJsY19ib3VudHkpKSB0aHJvdzsKCQl9CgkJaWYgKCFybGMudHJhbnNmZXIodGVhbSxybGNfdGVhbSkpIHRocm93OwoJCXVpbnQgUkxDRW1pdHRlZCA9IHJsY19yZXNlcnZlICsgcmxjX2JvdW50eSArIHJsY190ZWFtICsgUkxDU2VudFRvQlRDICsgUkxDU2VudFRvRVRIOwoJCWlmIChSTENFbWl0dGVkIDwgcmxjLnRvdGFsU3VwcGx5KCkpCQkJCQkJCQkJCQkJCS8vIGJ1cm4gdGhlIHJlc3Qgb2YgUkxDCgkJCSAgcmxjLmJ1cm4ocmxjLnRvdGFsU3VwcGx5KCkgLSBSTENFbWl0dGVkKTsKCQlybGMudW5sb2NrKCk7CgkJY3Jvd2RzYWxlQ2xvc2VkID0gdHJ1ZTsKCX0KCgkvKgkKCSogRmFpbHNhZmUgZHJhaW4KCSovCglmdW5jdGlvbiBkcmFpbigpIG9ubHlCeShvd25lcikgewoJCWlmICghb3duZXIuc2VuZCh0aGlzLmJhbGFuY2UpKSB0aHJvdzsKCX0KfQ=='.
	

]
