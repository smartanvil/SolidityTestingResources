Class {
	#name : #SRTdd1bd98403f24a6dff1c948cfdec509bfc244fc8,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTdd1bd98403f24a6dff1c948cfdec509bfc244fc8 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7CgovKgoqICAgICAgICAgIyMjIyMgIyMgICAgICAgICAjIyMjIyAgICAjIyAgICAgIyMjICAgICAgICAgICMjICAgICAgICAgICAgICAgICAgICAgICAjIyMgICAjIyMgICAgIAoqICAgICAgIyMjIyMjICAvIyMjICAgICAjIyMjIyMgIC8gICMjIyMgLyAvIyMjIyAgICAgICAjIyMjICAvICAgICAgICAgICAgICAgICAgICAgIyMjICAgIyMjICAgIAoqICAgICAvIyAgIC8gIC8gICMjIyAgIC8jICAgLyAgLyAgICMjIyMvIC8gICAjIyMgICAgICAvIyMjIy8gICAgICAgICAgICAgICAgICAgICAgICMjICAgICMjICAgIAoqICAgIC8gICAgLyAgLyAgICAjIyMgLyAgICAvICAvICAgICMgIyAgICAgICAgIyMjICAgIC8gICAjIyAgICAgICAgICAgICAgICAgICAgICAgICMjICAgICMjICAgIAoqICAgICAgICAvICAvICAgICAgIyMgICAgIC8gIC8gICAgICMgICAgICAgICAgICMjIyAgLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMjICAgICMjICAgIAoqICAgICAgICMjICMjICAgICAgIyMgICAgIyMgIyMgICAgICMgICAgICAgICAgICAjIyMvICAgICAgICAgIyMjICAvIyMjICAgICAvIyMjICAgICMjICAgICMjICAgIAoqICAgICAgICMjICMjICAgICAgIyMgICAgIyMgIyMgICAgICMgICAgICAgICAgICAgIyMjICAgICAgICAgICMjIy8gIyMjIyAvIC8gIyMjICAvICMjICAgICMjICAgIAoqICAgICAvIyMjICMjICAgICAgLyAgICAgIyMgIyMjIyMjIyMgICAgICAgICAgICAgLyMjIyAgICAgICAgICAjIyAgICMjIy8gLyAgICMjIy8gICMjICAgICMjICAgIAoqICAgIC8gIyMjICMjICAgICAvICAgICAgIyMgIyMgICAgICMgICAgICAgICAgICAvICAjIyMgICAgICAgICAjIyAgICAgICAjIyAgICAjIyAgICMjICAgICMjICAgIAoqICAgICAgICMjICMjIyMjIy8gICAgICAgIyMgIyMgICAgICMjICAgICAgICAgIC8gICAgIyMjICAgICAgICAjIyAgICAgICAjIyAgICAjIyAgICMjICAgICMjICAgIAoqICAgICAgICMjICMjIyMjIyAgICAgICAgIyAgIyMgICAgICMjICAgICAgICAgLyAgICAgICMjIyAgICAgICAjIyAgICAgICAjIyAgICAjIyAgICMjICAgICMjICAgIAoqICAgICAgICMjICMjICAgICAgICAgICAgICAgLyAgICAgICAjIyAgICAgICAvICAgICAgICAjIyMgICAgICAjIyAgICAgICAjIyAgICAjIyAgICMjICAgICMjICAgIAoqICAgICAgICMjICMjICAgICAgICAgICAvIyMvICAgICAgICAjIyAgICAgIC8gICAgICAgICAgIyMjICAgLyAjIyAgICAgICAjIyAgICAjIyAgICMjICAgICMjICAgIAoqICAgICAgICMjICMjICAgICAgICAgIC8gICMjIyMjICAgICAgIyMgICAgLyAgICAgICAgICAgICMjIyMvICAjIyMgICAgICAgIyMjIyMjICAgICMjIyAvICMjIyAvIAoqICAjIyAgICMjICMjICAgICAgICAgLyAgICAgIyMgICAgICAgICAgICAvICAgICAgICAgICAgICAjIyMgICAgIyMjICAgICAgICMjIyMgICAgICAjIy8gICAjIy8gIAoqICMjIyAgICMgIC8gICAgICAgICAgIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoqICAjIyMgICAgLyAgICAgICAgICAgICMjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoqICAgIyMjIyMvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoqICAgICAjIyMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoqICAKKiAgICAgICBfX19fCiogICAgICAvXCcgLlwgICAgX19fX18KKiAgICAgLzogXF9fX1wgIC8gLiAgL1wKKiAgICAgXCcgLyAuIC8gL19fX18vLi5cCiogICAgICBcL19fXy8gIFwnICAnXCAgLwoqICAgICAgICAgICAgICAgXCdfXydcLwoqCiogLy8gUHJvYmFibHkgVW5mYWlyIC8vCioKKiAvLyoqKiBEZXZlbG9wZWQgQnk6CiogICBfX19fXyAgICAgICBfICAgICAgICAgXyAgICAgICAgIF8gX19fIF8gICAgICAgICAKKiAgfF8gICBffF9fIF9ffCB8XyAgXyBfIChfKV9fIF9fIF98IHwgXyAoXylfX18gX19fIAoqICAgIHwgfC8gLV8pIF98ICcgXHwgJyBcfCAvIF8vIF9gIHwgfCAgIC8gKF8tPC8gLV8pCiogICAgfF98XF9fX1xfX3xffHxffF98fF98X1xfX1xfXyxffF98X3xfXF8vX18vXF9fX3wKKiAgIAoqICAgJiMxNjk7IDIwMTggVGVjaG5pY2FsUmlzZS4gIFdyaXR0ZW4gaW4gTWFyY2ggMjAxOC4gIAoqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC4gIERvIG5vdCBjb3B5LCBhZGFwdCwgb3Igb3RoZXJ3aXNlIHVzZSB3aXRob3V0IHBlcm1pc3Npb24uCiogICBodHRwczovL3d3dy5yZWRkaXQuY29tL3VzZXIvVGVjaG5pY2FsUmlzZS8KKiAgCiovCgpjb250cmFjdCBQSFhSZWNlaXZpbmdDb250cmFjdCB7CiAgICAvKioKICAgICAqIEBkZXYgU3RhbmRhcmQgRVJDMjIzIGZ1bmN0aW9uIHRoYXQgd2lsbCBoYW5kbGUgaW5jb21pbmcgdG9rZW4gdHJhbnNmZXJzLgogICAgICoKICAgICAqIEBwYXJhbSBfZnJvbSAgVG9rZW4gc2VuZGVyIGFkZHJlc3MuCiAgICAgKiBAcGFyYW0gX3ZhbHVlIEFtb3VudCBvZiB0b2tlbnMuCiAgICAgKiBAcGFyYW0gX2RhdGEgIFRyYW5zYWN0aW9uIG1ldGFkYXRhLgogICAgICovCiAgICBmdW5jdGlvbiB0b2tlbkZhbGxiYWNrKGFkZHJlc3MgX2Zyb20sIHVpbnQgX3ZhbHVlLCBieXRlcyBfZGF0YSkgcHVibGljOwp9Cgpjb250cmFjdCBQSFhJbnRlcmZhY2UgewogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlLCBieXRlcyBfZGF0YSkgcHVibGljIHJldHVybnMgKGJvb2wpOwp9Cgpjb250cmFjdCB1c2luZ0RTU2FmZUFkZFN1YiB7CiAgICBmdW5jdGlvbiBzYWZlVG9BZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiAoYSArIGIgPj0gYSk7CiAgICB9CiAgICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXF1aXJlKHNhZmVUb0FkZChhLCBiKSk7CiAgICAgICAgcmV0dXJuIGEgKyBiOwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVUb1N1YnRyYWN0KHVpbnQgYSwgdWludCBiKSBwdXJlIGludGVybmFsIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gKGIgPD0gYSk7CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZVN1Yih1aW50IGEsIHVpbnQgYikgcHVyZSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmVxdWlyZShzYWZlVG9TdWJ0cmFjdChhLCBiKSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfSAKCiAgICAvLyBwYXJzZUludAogICAgZnVuY3Rpb24gcGFyc2VJbnQoc3RyaW5nIF9hKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gcGFyc2VJbnQoX2EsIDApOwogICAgfQoKICAgIC8vIHBhcnNlSW50KHBhcnNlRmxvYXQqMTBeX2IpCiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcgX2EsIHVpbnQgX2IpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCkgewogICAgICAgIGJ5dGVzIG1lbW9yeSBicmVzdWx0ID0gYnl0ZXMoX2EpOwogICAgICAgIHVpbnQgbWludCA9IDA7CiAgICAgICAgYm9vbCBkZWNpbWFscyA9IGZhbHNlOwogICAgICAgIGZvciAodWludCBpPTA7IGk8YnJlc3VsdC5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgIGlmICgoYnJlc3VsdFtpXSA+PSA0OCkmJihicmVzdWx0W2ldIDw9IDU3KSl7CiAgICAgICAgICAgICAgICBpZiAoZGVjaW1hbHMpewogICAgICAgICAgICAgICAgICAgaWYgKF9iID09IDApIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGVsc2UgX2ItLTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG1pbnQgKj0gMTA7CiAgICAgICAgICAgICAgICBtaW50ICs9IHVpbnQoYnJlc3VsdFtpXSkgLSA0ODsKICAgICAgICAgICAgfSBlbHNlIGlmIChicmVzdWx0W2ldID09IDQ2KSBkZWNpbWFscyA9IHRydWU7CiAgICAgICAgfQogICAgICAgIGlmIChfYiA+IDApIG1pbnQgKj0gMTAqKl9iOwogICAgICAgIHJldHVybiBtaW50OwogICAgfQp9Cgpjb250cmFjdCBQSFhyb2xsIGlzIFBIWFJlY2VpdmluZ0NvbnRyYWN0LCB1c2luZ0RTU2FmZUFkZFN1YiB7CiAgICAKICAgIC8qCiAgICAgKiBjaGVja3MgcGxheWVyIHByb2ZpdCwgYmV0IHNpemUgYW5kIHBsYXllciBudW1iZXIgaXMgd2l0aGluIHJhbmdlCiAgICAqLwogICAgbW9kaWZpZXIgYmV0SXNWYWxpZCh1aW50IF9iZXRTaXplLCB1aW50IF9wbGF5ZXJOdW1iZXIpIHsgICAgICAKICAgICAgICByZXF1aXJlKCgoKChfYmV0U2l6ZSAqICgxMDAtKHNhZmVTdWIoX3BsYXllck51bWJlciwxKSkpKSAvIChzYWZlU3ViKF9wbGF5ZXJOdW1iZXIsMSkpK19iZXRTaXplKSkqaG91c2VFZGdlL2hvdXNlRWRnZURpdmlzb3IpLV9iZXRTaXplIDwgbWF4UHJvZml0ICYmIF9iZXRTaXplID4gbWluQmV0ICYmIF9wbGF5ZXJOdW1iZXIgPiBtaW5OdW1iZXIgJiYgX3BsYXllck51bWJlciA8IG1heE51bWJlcik7ICAgICAgICAKCQlfOwogICAgfQoKICAgIC8qCiAgICAgKiBjaGVja3MgZ2FtZSBpcyBjdXJyZW50bHkgYWN0aXZlCiAgICAqLwogICAgbW9kaWZpZXIgZ2FtZUlzQWN0aXZlIHsKICAgICAgICByZXF1aXJlKGdhbWVQYXVzZWQgPT0gZmFsc2UpOwoJCV87CiAgICB9ICAgIAoKICAgIC8qCiAgICAgKiBjaGVja3MgcGF5b3V0cyBhcmUgY3VycmVudGx5IGFjdGl2ZQogICAgKi8KICAgIG1vZGlmaWVyIHBheW91dHNBcmVBY3RpdmUgewogICAgICAgIHJlcXVpcmUocGF5b3V0c1BhdXNlZCA9PSBmYWxzZSk7CgkJXzsKICAgIH0gICAgCgogICAgLyoKICAgICAqIGNoZWNrcyBvbmx5IG93bmVyIGFkZHJlc3MgaXMgY2FsbGluZwogICAgKi8KICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgIF87CiAgICB9CgogICAgLyoKICAgICAqIGNoZWNrcyBvbmx5IHRyZWFzdXJ5IGFkZHJlc3MgaXMgY2FsbGluZwogICAgKi8KICAgIG1vZGlmaWVyIG9ubHlUcmVhc3VyeSB7CiAgICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSB0cmVhc3VyeSk7CiAgICAgICAgIF87CiAgICB9ICAgIAoKICAgIC8qCiAgICAgKiBnYW1lIHZhcnMKICAgICovIAogICAgdWludCBjb25zdGFudCBwdWJsaWMgbWF4UHJvZml0RGl2aXNvciA9IDEwMDAwMDA7CiAgICB1aW50IGNvbnN0YW50IHB1YmxpYyBob3VzZUVkZ2VEaXZpc29yID0gMTAwMDsgICAgCiAgICB1aW50IGNvbnN0YW50IHB1YmxpYyBtYXhOdW1iZXIgPSA5OTsgCiAgICB1aW50IGNvbnN0YW50IHB1YmxpYyBtaW5OdW1iZXIgPSAyOwoJYm9vbCBwdWJsaWMgZ2FtZVBhdXNlZDsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgYm9vbCBwdWJsaWMgcGF5b3V0c1BhdXNlZDsgCiAgICBhZGRyZXNzIHB1YmxpYyB0cmVhc3VyeTsKICAgIHVpbnQgcHVibGljIGNvbnRyYWN0QmFsYW5jZTsKICAgIHVpbnQgcHVibGljIGhvdXNlRWRnZTsgICAgIAogICAgdWludCBwdWJsaWMgbWF4UHJvZml0OyAgIAogICAgdWludCBwdWJsaWMgbWF4UHJvZml0QXNQZXJjZW50T2ZIb3VzZTsgICAgICAgICAgICAgICAgICAgIAogICAgdWludCBwdWJsaWMgbWluQmV0OyAKICAgIC8vaW5pdCBkaXNjb250aW51ZWQgY29udHJhY3QgZGF0YSAgICAgICAgCiAgICBpbnQgcHVibGljIHRvdGFsQmV0cyA9IDA7CiAgICAvL2luaXQgZGlzY29udGludWVkIGNvbnRyYWN0IGRhdGEgCiAgICB1aW50IHB1YmxpYyB0b3RhbFRSc1dvbiA9IDA7CiAgICAvL2luaXQgZGlzY29udGludWVkIGNvbnRyYWN0IGRhdGEgIAogICAgdWludCBwdWJsaWMgdG90YWxUUnNXYWdlcmVkID0gMDsgICAgCgogICAgLyoKICAgICAqIHBsYXllciB2YXJzCiAgICAqLwogICAgdWludCBwdWJsaWMgcm5nSWQ7CiAgICBtYXBwaW5nICh1aW50ID0+IGFkZHJlc3MpIHBsYXllckFkZHJlc3M7CiAgICBtYXBwaW5nICh1aW50ID0+IHVpbnQpIHBsYXllckJldElkOwogICAgbWFwcGluZyAodWludCA9PiB1aW50KSBwbGF5ZXJCZXRWYWx1ZTsKICAgIG1hcHBpbmcgKHVpbnQgPT4gdWludCkgcGxheWVyRGllUmVzdWx0OwogICAgbWFwcGluZyAodWludCA9PiB1aW50KSBwbGF5ZXJOdW1iZXI7CiAgICBtYXBwaW5nICh1aW50ID0+IHVpbnQpIHBsYXllclByb2ZpdDsKCiAgICAvKgogICAgICogZXZlbnRzCiAgICAqLwogICAgLyogbG9nIGJldHMgKyBvdXRwdXQgdG8gd2ViMyBmb3IgcHJlY2lzZSAncGF5b3V0IG9uIHdpbicgZmllbGQgaW4gVUkgKi8KICAgIGV2ZW50IExvZ0JldCh1aW50IGluZGV4ZWQgQmV0SUQsIGFkZHJlc3MgaW5kZXhlZCBQbGF5ZXJBZGRyZXNzLCB1aW50IGluZGV4ZWQgUmV3YXJkVmFsdWUsIHVpbnQgUHJvZml0VmFsdWUsIHVpbnQgQmV0VmFsdWUsIHVpbnQgUGxheWVyTnVtYmVyKTsgICAgICAKICAgIC8qIG91dHB1dCB0byB3ZWIzIFVJIG9uIGJldCByZXN1bHQqLwogICAgLyogU3RhdHVzOiAwPWxvc2UsIDE9d2luLCAyPXdpbiArIGZhaWxlZCBzZW5kLCAzPXJlZnVuZCwgND1yZWZ1bmQgKyBmYWlsZWQgc2VuZCovCglldmVudCBMb2dSZXN1bHQodWludCBpbmRleGVkIEJldElELCBhZGRyZXNzIGluZGV4ZWQgUGxheWVyQWRkcmVzcywgdWludCBQbGF5ZXJOdW1iZXIsIHVpbnQgRGljZVJlc3VsdCwgdWludCBWYWx1ZSwgaW50IFN0YXR1cyk7ICAgCiAgICAvKiBsb2cgbWFudWFsIHJlZnVuZHMgKi8KICAgIGV2ZW50IExvZ1JlZnVuZCh1aW50IGluZGV4ZWQgQmV0SUQsIGFkZHJlc3MgaW5kZXhlZCBQbGF5ZXJBZGRyZXNzLCB1aW50IGluZGV4ZWQgUmVmdW5kVmFsdWUpOwogICAgLyogbG9nIG93bmVyIHRyYW5zZmVycyAqLwogICAgZXZlbnQgTG9nT3duZXJUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgU2VudFRvQWRkcmVzcywgdWludCBpbmRleGVkIEFtb3VudFRyYW5zZmVycmVkKTsgICAgICAgICAgICAgICAKCiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBQSFhUS05BRERSID0gMHgxNGI3NTlBMTU4ODc5QjEzMzcxMGY0MDU5ZDMyNTY1YjRhNjYxNDBDOwogICAgUEhYSW50ZXJmYWNlIHB1YmxpYyBQSFhUS047CgogICAgLyoKICAgICAqIGluaXQKICAgICovCiAgICBmdW5jdGlvbiBQSFhyb2xsKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgdHJlYXN1cnkgPSBtc2cuc2VuZGVyOwogICAgICAgIC8vIEluaXRpYWxpemUgdGhlIFBIWCBDb250cmFjdAogICAgICAgIFBIWFRLTiA9IFBIWEludGVyZmFjZShQSFhUS05BRERSKTsgCiAgICAgICAgLyogaW5pdCA5OTAgPSA5OSUgKDElIGhvdXNlRWRnZSkqLwogICAgICAgIG93bmVyU2V0SG91c2VFZGdlKDk5MCk7CiAgICAgICAgLyogaW5pdCAxMCwwMDAgPSAxJSAgKi8KICAgICAgICBvd25lclNldE1heFByb2ZpdEFzUGVyY2VudE9mSG91c2UoMTAwMDApOwogICAgICAgIC8qIGluaXQgbWluIGJldCAoMC4xIFBIWCkgKi8KICAgICAgICBvd25lclNldE1pbkJldCgxMDAwMDAwMDAwMDAwMDAwMDApOyAgICAgICAgCiAgICB9CgogICAgLy8gVGhpcyBpcyBhIHN1cGVyY2hlYXAgcHN1ZWRvLXJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yCiAgICAvLyB0aGF0IHJlbGllcyBvbiB0aGUgZmFjdCB0aGF0ICJ3aG8iIHdpbGwgbWluZSBhbmQgIndoZW4iIHRoZXkgd2lsbAogICAgLy8gbWluZSBpcyByYW5kb20uICBUaGlzIGlzIHVzdWFsbHkgdnVsbmVyYWJsZSB0byAiaW5zaWRlIHRoZSBibG9jayIKICAgIC8vIGF0dGFja3Mgd2hlcmUgc29tZW9uZSB3cml0ZXMgYSBjb250cmFjdCBtaW5lZCBpbiB0aGUgc2FtZSBibG9jawogICAgLy8gYW5kIGNhbGxzIHRoaXMgY29udHJhY3QgZnJvbSBpdCAtLSBidXQgd2UgZG9uJ3QgYWNjZXB0IHRyYW5zYWN0aW9ucwogICAgLy8gZnJvbSBvdGhlciBjb250cmFjdHMsIGxlc3NlbmluZyB0aGF0IHJpc2suICBJdCBzZWVtcyBsaWtlIHNvbWVvbmUKICAgIC8vIHdvdWxkIHRoZXJlZm9yZSBuZWVkIHRvIGJlIGFibGUgdG8gcHJlZGljdCB0aGUgYmxvY2sgbWluZXIgYW5kCiAgICAvLyBibG9jayB0aW1lc3RhbXAgaW4gYWR2YW5jZSB0byBoYWNrIHRoaXMuICAKICAgIC8vIAogICAgLy8gJiMxNzU7XF8o44OEKV8vJiMxNzU7IAogICAgLy8gCiAgICBmdW5jdGlvbiBfcFJhbmQodWludCBfbW9kdWxvKSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXF1aXJlKCgxIDwgX21vZHVsbykgJiYgKF9tb2R1bG8gPD0gMTAwMCkpOwogICAgICAgIHVpbnQgc2VlZDEgPSB1aW50KGJsb2NrLmNvaW5iYXNlKTsgLy8gR2V0IE1pbmVyJ3MgQWRkcmVzcwogICAgICAgIHVpbnQgc2VlZDIgPSBub3c7IC8vIEdldCB0aGUgdGltZXN0YW1wCiAgICAgICAgcmV0dXJuIHVpbnQoa2VjY2FrMjU2KHNlZWQxLCBzZWVkMikpICUgX21vZHVsbzsKICAgIH0KCiAgICAvKgogICAgICogcHVibGljIGZ1bmN0aW9uCiAgICAgKiBwbGF5ZXIgc3VibWl0IGJldAogICAgICogb25seSBpZiBnYW1lIGlzIGFjdGl2ZSAmIGJldCBpcyB2YWxpZAogICAgKi8KICAgIGZ1bmN0aW9uIF9wbGF5ZXJSb2xsRGljZSh1aW50IF9yb2xsVW5kZXIsIFRLTiBfdGtuKSBwcml2YXRlIAogICAgICAgIGdhbWVJc0FjdGl2ZQogICAgICAgIGJldElzVmFsaWQoX3Rrbi52YWx1ZSwgX3JvbGxVbmRlcikKCXsKICAgICAgICAvLyBOb3RlIHRoYXQgbXNnLnNlbmRlciBpcyB0aGUgVG9rZW4gQ29udHJhY3QgQWRkcmVzcwogICAgCS8vIGFuZCAiX2Zyb20iIGlzIHRoZSBzZW5kZXIgb2YgdGhlIHRva2VucwogICAgCXJlcXVpcmUoX2h1bWFuU2VuZGVyKF90a24uc2VuZGVyKSk7IC8vIENoZWNrIHRoYXQgdGhpcyBpcyBhIG5vbi1jb250cmFjdCBzZW5kZXIKICAgIAlyZXF1aXJlKF9waHhUb2tlbihtc2cuc2VuZGVyKSk7IC8vIENoZWNrIHRoYXQgdGhpcyBpcyBhIFBIWCBUb2tlbiBUcmFuc2ZlcgoJICAgIAoJICAgIC8vIEluY3JlbWVudCBybmdJZAoJICAgIHJuZ0lkKys7CgkgICAgCiAgICAgICAgLyogbWFwIGJldCBpZCB0byB0aGlzIHdhZ2VyICovCgkJcGxheWVyQmV0SWRbcm5nSWRdID0gcm5nSWQ7CiAgICAgICAgLyogbWFwIHBsYXllciBsdWNreSBudW1iZXIgKi8KCQlwbGF5ZXJOdW1iZXJbcm5nSWRdID0gX3JvbGxVbmRlcjsKICAgICAgICAvKiBtYXAgdmFsdWUgb2Ygd2FnZXIgKi8KICAgICAgICBwbGF5ZXJCZXRWYWx1ZVtybmdJZF0gPSBfdGtuLnZhbHVlOwogICAgICAgIC8qIG1hcCBwbGF5ZXIgYWRkcmVzcyAqLwogICAgICAgIHBsYXllckFkZHJlc3Nbcm5nSWRdID0gX3Rrbi5zZW5kZXI7CiAgICAgICAgLyogc2FmZWx5IG1hcCBwbGF5ZXIgcHJvZml0ICovICAgCiAgICAgICAgcGxheWVyUHJvZml0W3JuZ0lkXSA9IDA7IAogIAogICAgICAgIC8qIHByb3ZpZGVzIGFjY3VyYXRlIG51bWJlcnMgZm9yIHdlYjMgYW5kIGFsbG93cyBmb3IgbWFudWFsIHJlZnVuZHMgKi8KICAgICAgICBlbWl0IExvZ0JldChwbGF5ZXJCZXRJZFtybmdJZF0sIHBsYXllckFkZHJlc3Nbcm5nSWRdLCBzYWZlQWRkKHBsYXllckJldFZhbHVlW3JuZ0lkXSwgcGxheWVyUHJvZml0W3JuZ0lkXSksIHBsYXllclByb2ZpdFtybmdJZF0sIHBsYXllckJldFZhbHVlW3JuZ0lkXSwgcGxheWVyTnVtYmVyW3JuZ0lkXSk7ICAgICAgIAogICAgICAgIAogICAgICAgIC8qIG1hcCBEaWUgcmVzdWx0IHRvIHBsYXllciAqLwogICAgICAgIHBsYXllckRpZVJlc3VsdFtybmdJZF0gPSBfcFJhbmQoMTAwKSArIDE7CgogICAgICAgIC8qIHRvdGFsIG51bWJlciBvZiBiZXRzICovCiAgICAgICAgdG90YWxCZXRzICs9IDE7CiAgICAgICAgCiAgICAgICAgLyogdG90YWwgd2FnZXJlZCAqLwogICAgICAgIHRvdGFsVFJzV2FnZXJlZCArPSBwbGF5ZXJCZXRWYWx1ZVtybmdJZF07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgLyoKICAgICAgICAqIHBheSB3aW5uZXIKICAgICAgICAqIHVwZGF0ZSBjb250cmFjdCBiYWxhbmNlIHRvIGNhbGN1bGF0ZSBuZXcgbWF4IGJldAogICAgICAgICogc2VuZCByZXdhcmQKICAgICAgICAqLwogICAgICAgIGlmKHBsYXllckRpZVJlc3VsdFtybmdJZF0gPCBwbGF5ZXJOdW1iZXJbcm5nSWRdKXsgCiAgICAgICAgICAgIC8qIHNhZmVseSBtYXAgcGxheWVyIHByb2ZpdCAqLyAgIAogICAgICAgICAgICBwbGF5ZXJQcm9maXRbcm5nSWRdID0gKCgoKF90a24udmFsdWUgKiAoMTAwLShzYWZlU3ViKF9yb2xsVW5kZXIsMSkpKSkgLyAoc2FmZVN1Yihfcm9sbFVuZGVyLDEpKStfdGtuLnZhbHVlKSkqaG91c2VFZGdlL2hvdXNlRWRnZURpdmlzb3IpLV90a24udmFsdWU7CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiBzYWZlbHkgcmVkdWNlIGNvbnRyYWN0IGJhbGFuY2UgYnkgcGxheWVyIHByb2ZpdCAqLwogICAgICAgICAgICBjb250cmFjdEJhbGFuY2UgPSBzYWZlU3ViKGNvbnRyYWN0QmFsYW5jZSwgcGxheWVyUHJvZml0W3JuZ0lkXSk7IAoKICAgICAgICAgICAgLyogdXBkYXRlIHRvdGFsIFJpc2VzIHdvbiAqLwogICAgICAgICAgICB0b3RhbFRSc1dvbiA9IHNhZmVBZGQodG90YWxUUnNXb24sIHBsYXllclByb2ZpdFtybmdJZF0pOyAgICAgICAgICAgICAgCgogICAgICAgICAgICBlbWl0IExvZ1Jlc3VsdChwbGF5ZXJCZXRJZFtybmdJZF0sIHBsYXllckFkZHJlc3Nbcm5nSWRdLCBwbGF5ZXJOdW1iZXJbcm5nSWRdLCBwbGF5ZXJEaWVSZXN1bHRbcm5nSWRdLCBwbGF5ZXJQcm9maXRbcm5nSWRdLCAxKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAvKiB1cGRhdGUgbWF4aW11bSBwcm9maXQgKi8KICAgICAgICAgICAgc2V0TWF4UHJvZml0KCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBUcmFuc2ZlciBwcm9maXQgcGx1cyBvcmlnaW5hbCBiZXQKICAgICAgICAgICAgUEhYVEtOLnRyYW5zZmVyKHBsYXllckFkZHJlc3Nbcm5nSWRdLCBwbGF5ZXJQcm9maXRbcm5nSWRdICsgX3Rrbi52YWx1ZSk7CiAgICAgICAgICAgIAogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLyoKICAgICAgICAgICAgKiBubyB3aW4KICAgICAgICAgICAgKiBzZW5kIDEgUmlzZSB0byBhIGxvc2luZyBiZXQKICAgICAgICAgICAgKiB1cGRhdGUgY29udHJhY3QgYmFsYW5jZSB0byBjYWxjdWxhdGUgbmV3IG1heCBiZXQKICAgICAgICAgICAgKi8KICAgICAgICAgICAgZW1pdCBMb2dSZXN1bHQocGxheWVyQmV0SWRbcm5nSWRdLCBwbGF5ZXJBZGRyZXNzW3JuZ0lkXSwgcGxheWVyTnVtYmVyW3JuZ0lkXSwgcGxheWVyRGllUmVzdWx0W3JuZ0lkXSwgcGxheWVyQmV0VmFsdWVbcm5nSWRdLCAwKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgLyogIAogICAgICAgICAgICAqICBzYWZlIGFkanVzdCBjb250cmFjdEJhbGFuY2UKICAgICAgICAgICAgKiAgc2V0TWF4UHJvZml0CiAgICAgICAgICAgICogIHNlbmQgMSBSaXNlIHRvIGxvc2luZyBiZXQKICAgICAgICAgICAgKi8KICAgICAgICAgICAgY29udHJhY3RCYWxhbmNlID0gc2FmZUFkZChjb250cmFjdEJhbGFuY2UsIChwbGF5ZXJCZXRWYWx1ZVtybmdJZF0tMSkpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgIC8qIHVwZGF0ZSBtYXhpbXVtIHByb2ZpdCAqLwogICAgICAgICAgICBzZXRNYXhQcm9maXQoKTsgCgogICAgICAgICAgICAvKgogICAgICAgICAgICAqIHNlbmQgMSBSaXNlICAgICAgICAgICAgICAgCiAgICAgICAgICAgICovCiAgICAgICAgICAgIFBIWFRLTi50cmFuc2ZlcihwbGF5ZXJBZGRyZXNzW3JuZ0lkXSwgMSk7CgogICAgICAgICAgICByZXR1cm47ICAgICAgICAgICAgCiAgICAgICAgfQoKICAgIH0gCiAgICAKICAgIC8vICFJbXBvcnRhbnQ6IE5vdGUgdGhlIHVzZSBvZiB0aGUgZm9sbG93aW5nIHN0cnVjdAogICAgc3RydWN0IFRLTiB7IGFkZHJlc3Mgc2VuZGVyOyB1aW50IHZhbHVlOyB9CiAgICBmdW5jdGlvbiB0b2tlbkZhbGxiYWNrKGFkZHJlc3MgX2Zyb20sIHVpbnQgX3ZhbHVlLCBieXRlcyBfZGF0YSkgcHVibGljIHsKICAgICAgICBpZihfZnJvbSA9PSB0cmVhc3VyeSkgewogICAgICAgICAgICBjb250cmFjdEJhbGFuY2UgPSBzYWZlQWRkKGNvbnRyYWN0QmFsYW5jZSwgX3ZhbHVlKTsgICAgICAgIAogICAgICAgICAgICAvKiBzYWZlbHkgdXBkYXRlIGNvbnRyYWN0IGJhbGFuY2UgKi8KICAgICAgICAgICAgLyogdXBkYXRlIHRoZSBtYXhpbXVtIHByb2ZpdCAqLwogICAgICAgICAgICBzZXRNYXhQcm9maXQoKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFRLTiBtZW1vcnkgX3RrbjsKICAgICAgICAgICAgX3Rrbi5zZW5kZXIgPSBfZnJvbTsKICAgICAgICAgICAgX3Rrbi52YWx1ZSA9IF92YWx1ZTsKICAgICAgICAgICAgX3BsYXllclJvbGxEaWNlKHBhcnNlSW50KHN0cmluZyhfZGF0YSkpLCBfdGtuKTsKICAgICAgICB9CiAgICB9CiAgICAgICAgICAgIAogICAgLyoKICAgICogaW50ZXJuYWwgZnVuY3Rpb24KICAgICogc2V0cyBtYXggcHJvZml0CiAgICAqLwogICAgZnVuY3Rpb24gc2V0TWF4UHJvZml0KCkgaW50ZXJuYWwgewogICAgICAgIG1heFByb2ZpdCA9IChjb250cmFjdEJhbGFuY2UqbWF4UHJvZml0QXNQZXJjZW50T2ZIb3VzZSkvbWF4UHJvZml0RGl2aXNvcjsgIAogICAgfSAKCiAgICAvKiBvbmx5IG93bmVyIGFkanVzdCBjb250cmFjdCBiYWxhbmNlIHZhcmlhYmxlIChvbmx5IHVzZWQgZm9yIG1heCBwcm9maXQgY2FsYykgKi8KICAgIGZ1bmN0aW9uIG93bmVyVXBkYXRlQ29udHJhY3RCYWxhbmNlKHVpbnQgbmV3Q29udHJhY3RCYWxhbmNlSW5UUnMpIHB1YmxpYyAKCQlvbmx5T3duZXIKICAgIHsgICAgICAgIAogICAgICAgY29udHJhY3RCYWxhbmNlID0gbmV3Q29udHJhY3RCYWxhbmNlSW5UUnM7CiAgICB9ICAgIAoKICAgIC8qIG9ubHkgb3duZXIgYWRkcmVzcyBjYW4gc2V0IGhvdXNlRWRnZSAqLwogICAgZnVuY3Rpb24gb3duZXJTZXRIb3VzZUVkZ2UodWludCBuZXdIb3VzZUVkZ2UpIHB1YmxpYyAKCQlvbmx5T3duZXIKICAgIHsKICAgICAgICBob3VzZUVkZ2UgPSBuZXdIb3VzZUVkZ2U7CiAgICB9CgogICAgLyogb25seSBvd25lciBhZGRyZXNzIGNhbiBzZXQgbWF4UHJvZml0QXNQZXJjZW50T2ZIb3VzZSAqLwogICAgZnVuY3Rpb24gb3duZXJTZXRNYXhQcm9maXRBc1BlcmNlbnRPZkhvdXNlKHVpbnQgbmV3TWF4UHJvZml0QXNQZXJjZW50KSBwdWJsaWMgCgkJb25seU93bmVyCiAgICB7CiAgICAgICAgLyogcmVzdHJpY3QgZWFjaCBiZXQgdG8gYSBtYXhpbXVtIHByb2ZpdCBvZiAxJSBjb250cmFjdEJhbGFuY2UgKi8KICAgICAgICByZXF1aXJlKG5ld01heFByb2ZpdEFzUGVyY2VudCA8PSAxMDAwMCk7CiAgICAgICAgbWF4UHJvZml0QXNQZXJjZW50T2ZIb3VzZSA9IG5ld01heFByb2ZpdEFzUGVyY2VudDsKICAgICAgICBzZXRNYXhQcm9maXQoKTsKICAgIH0KCiAgICAvKiBvbmx5IG93bmVyIGFkZHJlc3MgY2FuIHNldCBtaW5CZXQgKi8KICAgIGZ1bmN0aW9uIG93bmVyU2V0TWluQmV0KHVpbnQgbmV3TWluaW11bUJldCkgcHVibGljIAoJCW9ubHlPd25lcgogICAgewogICAgICAgIG1pbkJldCA9IG5ld01pbmltdW1CZXQ7CiAgICB9ICAgICAgIAoKICAgIC8qIG9ubHkgb3duZXIgYWRkcmVzcyBjYW4gdHJhbnNmZXIgUEhYICovCiAgICBmdW5jdGlvbiBvd25lclRyYW5zZmVyUEhYKGFkZHJlc3Mgc2VuZFRvLCB1aW50IGFtb3VudCkgcHVibGljIAoJCW9ubHlPd25lcgogICAgeyAgICAgICAgCiAgICAgICAgLyogc2FmZWx5IHVwZGF0ZSBjb250cmFjdCBiYWxhbmNlIHdoZW4gc2VuZGluZyBvdXQgZnVuZHMqLwogICAgICAgIGNvbnRyYWN0QmFsYW5jZSA9IHNhZmVTdWIoY29udHJhY3RCYWxhbmNlLCBhbW91bnQpOwkJCiAgICAgICAgLyogdXBkYXRlIG1heCBwcm9maXQgKi8KICAgICAgICBzZXRNYXhQcm9maXQoKTsKICAgICAgICByZXF1aXJlKCFQSFhUS04udHJhbnNmZXIoc2VuZFRvLCBhbW91bnQpKTsKICAgICAgICBlbWl0IExvZ093bmVyVHJhbnNmZXIoc2VuZFRvLCBhbW91bnQpOyAKICAgIH0KCiAgICAvKiBvbmx5IG93bmVyIGFkZHJlc3MgY2FuIHNldCBlbWVyZ2VuY3kgcGF1c2UgIzEgKi8KICAgIGZ1bmN0aW9uIG93bmVyUGF1c2VHYW1lKGJvb2wgbmV3U3RhdHVzKSBwdWJsaWMgCgkJb25seU93bmVyCiAgICB7CgkJZ2FtZVBhdXNlZCA9IG5ld1N0YXR1czsKICAgIH0KCiAgICAvKiBvbmx5IG93bmVyIGFkZHJlc3MgY2FuIHNldCBlbWVyZ2VuY3kgcGF1c2UgIzIgKi8KICAgIGZ1bmN0aW9uIG93bmVyUGF1c2VQYXlvdXRzKGJvb2wgbmV3UGF5b3V0U3RhdHVzKSBwdWJsaWMgCgkJb25seU93bmVyCiAgICB7CgkJcGF5b3V0c1BhdXNlZCA9IG5ld1BheW91dFN0YXR1czsKICAgIH0gCgogICAgLyogb25seSBvd25lciBhZGRyZXNzIGNhbiBzZXQgdHJlYXN1cnkgYWRkcmVzcyAqLwogICAgZnVuY3Rpb24gb3duZXJTZXRUcmVhc3VyeShhZGRyZXNzIG5ld1RyZWFzdXJ5KSBwdWJsaWMgCgkJb25seU93bmVyCgl7CiAgICAgICAgdHJlYXN1cnkgPSBuZXdUcmVhc3VyeTsKICAgIH0gICAgICAgICAKCiAgICAvKiBvbmx5IG93bmVyIGFkZHJlc3MgY2FuIHNldCBvd25lciBhZGRyZXNzICovCiAgICBmdW5jdGlvbiBvd25lckNoYW5nZU93bmVyKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyAKCQlvbmx5T3duZXIKCXsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQoKICAgIC8qIG9ubHkgb3duZXIgYWRkcmVzcyBjYW4gc2VsZmRlc3RydWN0IC0gZW1lcmdlbmN5ICovCiAgICBmdW5jdGlvbiBvd25lcmtpbGwoKSBwdWJsaWMgCgkJb25seU93bmVyCgl7CiAgICAgICAgUEhYVEtOLnRyYW5zZmVyKG93bmVyLCBjb250cmFjdEJhbGFuY2UpOwoJCXNlbGZkZXN0cnVjdChvd25lcik7Cgl9ICAgIAoKICAgIGZ1bmN0aW9uIF9waHhUb2tlbihhZGRyZXNzIF90b2tlbkNvbnRyYWN0KSBwcml2YXRlIHB1cmUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBfdG9rZW5Db250cmFjdCA9PSBQSFhUS05BRERSOyAvLyBSZXR1cm5zICJ0cnVlIiBvZiB0aGlzIGlzIHRoZSBQSFggVG9rZW4gQ29udHJhY3QKICAgIH0KICAgIAogICAgLy8gRGV0ZXJtaW5lIGlmIHRoZSAiX2Zyb20iIGFkZHJlc3MgaXMgYSBjb250cmFjdAogICAgZnVuY3Rpb24gX2h1bWFuU2VuZGVyKGFkZHJlc3MgX2Zyb20pIHByaXZhdGUgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgIHVpbnQgY29kZUxlbmd0aDsKICAgICAgYXNzZW1ibHkgewogICAgICAgICAgY29kZUxlbmd0aCA6PSBleHRjb2Rlc2l6ZShfZnJvbSkKICAgICAgfQogICAgICByZXR1cm4gKGNvZGVMZW5ndGggPT0gMCk7IC8vIElmIHRoaXMgaXMgInRydWUiIHNlbmRlciBpcyBtb3N0IGxpa2VseSBhIFdhbGxldAogICAgfQoKfQ=='.
	

]
