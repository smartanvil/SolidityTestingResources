Class {
	#name : #SRTEF68e7C694F40c8202821eDF525dE3782458639f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTEF68e7C694F40c8202821eDF525dE3782458639f >> base64 [
	^ 'LyoKCiAgQ29weXJpZ2h0IDIwMTcgTG9vcHJpbmcgRm91bmRhdGlvbi4KCiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoKICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoKKi8KcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKfQoKLyoqCiAqIE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludCBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgYXNzZXJ0aW9uKSBpbnRlcm5hbCB7CiAgICBpZiAoIWFzc2VydGlvbikgewogICAgICB0aHJvdzsKICAgIH0KICB9Cn0KCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4gCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgYmFsYW5jZXM7CgogIC8qKgogICAqIEBkZXYgRml4IGZvciB0aGUgRVJDMjAgc2hvcnQgYWRkcmVzcyBhdHRhY2suCiAgICovCiAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgc2l6ZSkgewogICAgIGlmKG1zZy5kYXRhLmxlbmd0aCA8IHNpemUgKyA0KSB7CiAgICAgICB0aHJvdzsKICAgICB9CiAgICAgXzsKICB9CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seVBheWxvYWRTaXplKDIgKiAzMikgewogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuIAogICogQHJldHVybiBBbiB1aW50IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9Cgp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50IHZhbHVlKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBAZGV2IEltcGxlbWFudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFydCB0b2tlbi4KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBCYXNpY1Rva2VuLCBFUkMyMCB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludCB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMyAqIDMyKSB7CiAgICB2YXIgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldAogICAgLy8gaWYgKF92YWx1ZSA+IF9hbGxvd2FuY2UpIHRocm93OwoKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICB9CgogIC8qKgogICAqIEBkZXYgQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVhaGxmIG9mIG1zZy5zZW5kZXIuCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgewoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIGlmICgoX3ZhbHVlICE9IDApICYmIChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSAhPSAwKSkgdGhyb3c7CgogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhbiBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCn0KCi8vLyBAdGl0bGUgTG9vcHJpbmcgUHJvdG9jb2wgVG9rZW4uCi8vLyBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIHRva2VuIHNhbGUsIHBsZWFzZSB2aXNpdCBodHRwczovL2xvb3ByaW5nLm9yZwovLy8gQGF1dGhvciBLb25nbGlhbmcgWmhvbmcgLSA8PHNwYW4gY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSI3NDFmMWIxYTEzMTgxZDE1MWExMzM0MTgxYjFiMDQwNjFkMWExMzVhMWIwNjEzIj5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9zcGFuPj4sIERhbmllbCBXYW5nIC0gPDxzcGFuIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iNzgxYzE5MTYxMTFkMTQzODE0MTcxNzA4MGExMTE2MWY1NjE3MGExZiI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvc3Bhbj4+Lgpjb250cmFjdCBMb29wcmluZ1Rva2VuIGlzIFN0YW5kYXJkVG9rZW4gewogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBOQU1FID0gIkxvb3ByaW5nQ29pbiI7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IFNZTUJPTCA9ICJMUkMiOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgREVDSU1BTFMgPSAxODsKCiAgICAvLy8gRHVyaW5nIHRva2VuIHNhbGUsIHdlIHVzZSBvbmUgY29uc2lzdGVudCBwcmljZTogNTAwMCBMUkMvRVRILgogICAgLy8vIFdlIHNwbGl0IHRoZSBlbnRpcmUgdG9rZW4gc2FsZSBwZXJpb2QgaW50byAxMCBwaGFzZXMsIGVhY2gKICAgIC8vLyBwaGFzZSBoYXMgYSBkaWZmZXJlbnQgYm9udXMgc2V0dGluZyBhcyBzcGVjaWZpZWQgaW4gYGJvbnVzUGVyY2VudGFnZXNgLgogICAgLy8vIFRoZSByZWFsIHByaWNlIGZvciBwaGFzZSBpIGlzIGAoMSArIGJvbnVzUGVyY2VudGFnZXNbaV0vMTAwLjApICogQkFTRV9SQVRFYC4KICAgIC8vLyBUaGUgZmlyc3QgcGhhc2Ugb3IgZWFybHktYmlyZCBwaGFzZSBoYXMgYSBtdWNoIGhpZ2hlciBib251cy4KICAgIHVpbnQ4WzEwXSBwdWJsaWMgYm9udXNQZXJjZW50YWdlcyA9IFsKICAgICAgICAyMCwKICAgICAgICAxNiwKICAgICAgICAxNCwKICAgICAgICAxMiwKICAgICAgICAxMCwKICAgICAgICA4LAogICAgICAgIDYsCiAgICAgICAgNCwKICAgICAgICAyLAogICAgICAgIDAKICAgIF07CgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgTlVNX09GX1BIQVNFID0gMTA7CiAgCiAgICAvLy8gRWFjaCBwaGFzZSBjb250YWlucyBleGFjdGx5IDE1MjUwIEV0aGVyZXVtIGJsb2Nrcywgd2hpY2ggaXMgcm91Z2hseSAzIGRheXMsCiAgICAvLy8gd2hpY2ggbWFrZXMgdGhpcyAxMC1waGFzZSBzYWxlIHBlcmlvZCByb3VnaGx5IDMwIGRheXMuCiAgICAvLy8gU2VlIGh0dHBzOi8vd3d3LmV0aGVyZXVtLm9yZy9jcm93ZHNhbGUjc2NoZWR1bGluZy1hLWNhbGwKICAgIHVpbnQxNiBwdWJsaWMgY29uc3RhbnQgQkxPQ0tTX1BFUl9QSEFTRSA9IDE1MjUwOwoKICAgIC8vLyBUaGlzIGlzIHdoZXJlIHdlIGhvbGQgRVRIIGR1cmluZyB0aGlzIHRva2VuIHNhbGUuIFdlIHdpbGwgbm90IHRyYW5zZmVyIGFueSBFdGhlcgogICAgLy8vIG91dCBvZiB0aGlzIGFkZHJlc3MgYmVmb3JlIHdlIGludm9jYXRlIHRoZSBgY2xvc2VgIGZ1bmN0aW9uIHRvIGZpbmFsaXplIHRoZSBzYWxlLiAKICAgIC8vLyBUaGlzIHByb21pc2UgaXMgbm90IGd1YW5yYW50ZWVkIGJ5IHNtYXJ0IGNvbnRyYWN0IGJ5IGNhbiBiZSB2ZXJpZmllZCB3aXRoIHB1YmxpYwogICAgLy8vIEV0aGVyZXVtIHRyYW5zYWN0aW9ucyBkYXRhIGF2YWlsYWJsZSBvbiBzZXZlcmFsIGJsb2NrY2hhaW4gYnJvd3NlcnMuCiAgICAvLy8gVGhpcyBpcyB0aGUgb25seSBhZGRyZXNzIGZyb20gd2hpY2ggYHN0YXJ0YCBhbmQgYGNsb3NlYCBjYW4gYmUgaW52b2NhdGVkLgogICAgLy8vCiAgICAvLy8gTm90ZTogdGhpcyB3aWxsIGJlIGluaXRpYWxpemVkIGR1cmluZyB0aGUgY29udHJhY3QgZGVwbG95bWVudC4KICAgIGFkZHJlc3MgcHVibGljIHRhcmdldDsKCiAgICAvLy8gYGZpcnN0YmxvY2tgIHNwZWNpZmllcyBmcm9tIHdoaWNoIGJsb2NrIG91ciB0b2tlbiBzYWxlIHN0YXJ0cy4KICAgIC8vLyBUaGlzIGNhbiBvbmx5IGJlIG1vZGlmaWVkIG9uY2UgYnkgdGhlIG93bmVyIG9mIGB0YXJnZXRgIGFkZHJlc3MuCiAgICB1aW50IHB1YmxpYyBmaXJzdGJsb2NrID0gMDsKCiAgICAvLy8gSW5kaWNhdGVzIHdoZXRoZXIgdW5zb2xkIHRva2VuIGhhdmUgYmVlbiBpc3N1ZWQuIFRoaXMgcGFydCBvZiBMUkMgdG9rZW4KICAgIC8vLyBpcyBtYW5hZ2VkIGJ5IHRoZSBwcm9qZWN0IHRlYW0gYW5kIGlzIGlzc3VlZCBkaXJlY3RseSB0byBgdGFyZ2V0YC4KICAgIGJvb2wgcHVibGljIHVuc29sZFRva2VuSXNzdWVkID0gZmFsc2U7CgogICAgLy8vIE1pbmltdW0gYW1vdW50IG9mIGZ1bmRzIHRvIGJlIHJhaXNlZCBmb3IgdGhlIHNhbGUgdG8gc3VjY2VlZC4gCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBHT0FMID0gNTAwMDAgZXRoZXI7CgogICAgLy8vIE1heGltdW0gYW1vdW50IG9mIGZ1bmQgdG8gYmUgcmFpc2VkLCB0aGUgc2FsZSBlbmRzIG9uIHJlYWNoaW5nIHRoaXMgYW1vdW50LgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgSEFSRF9DQVAgPSAxMjAwMDAgZXRoZXI7CgogICAgLy8vIE1heGltdW0gdW5zb2xkIHJhdGlvLCB0aGlzIGlzIGhpdCB3aGVuIHRoZSBtaW5pbnVtIGxldmVsIG9mIGFtb3VudCBvZiBmdW5kIGlzIHJhaXNlZC4KICAgIHVpbnQgcHVibGljIGNvbnN0YW50IE1BWF9VTlNPTERfUkFUSU8gPSA2NzU7IC8vIDY3LjUlCgogICAgLy8vIEJhc2UgZXhjaGFuZ2UgcmF0ZSBpcyBzZXQgdG8gMSBFVEggPSA1MDAwIExSQy4KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IEJBU0VfUkFURSA9IDUwMDA7CgogICAgLy8vIEEgc2ltcGxlIHN0YXQgZm9yIGVtaXR0aW5nIGV2ZW50cy4KICAgIHVpbnQgcHVibGljIHRvdGFsRXRoUmVjZWl2ZWQgPSAwOwoKICAgIC8vLyBJc3N1ZSBldmVudCBpbmRleCBzdGFydGluZyBmcm9tIDAuCiAgICB1aW50IHB1YmxpYyBpc3N1ZUluZGV4ID0gMDsKCiAgICAvKiAKICAgICAqIEVWRU5UUwogICAgICovCgogICAgLy8vIEVtaXR0ZWQgb25seSBvbmNlIGFmdGVyIHRva2VuIHNhbGUgc3RhcnRzLgogICAgZXZlbnQgU2FsZVN0YXJ0ZWQoKTsKCiAgICAvLy8gRW1pdHRlZCBvbmx5IG9uY2UgYWZ0ZXIgdG9rZW4gc2FsZSBlbmRlZCAoYWxsIHRva2VuIGlzc3VlZCkuCiAgICBldmVudCBTYWxlRW5kZWQoKTsKCiAgICAvLy8gRW1pdHRlZCB3aGVuIGEgZnVuY3Rpb24gaXMgaW52b2NhdGVkIGJ5IHVuYXV0aG9yaXplZCBhZGRyZXNzZXMuCiAgICBldmVudCBJbnZhbGlkQ2FsbGVyKGFkZHJlc3MgY2FsbGVyKTsKCiAgICAvLy8gRW1pdHRlZCB3aGVuIGEgZnVuY3Rpb24gaXMgaW52b2NhdGVkIHdpdGhvdXQgdGhlIHNwZWNpZmllZCBwcmVjb25kaXRpb25zLgogICAgLy8vIFRoaXMgZXZlbnQgd2lsbCBub3QgY29tZSBhbG9uZSB3aXRoIGFuIGV4Y2VwdGlvbi4KICAgIGV2ZW50IEludmFsaWRTdGF0ZShieXRlcyBtc2cpOwoKICAgIC8vLyBFbWl0dGVkIGZvciBlYWNoIHN1Y3Vlc3NmdWwgdG9rZW4gcHVyY2hhc2UuCiAgICBldmVudCBJc3N1ZSh1aW50IGlzc3VlSW5kZXgsIGFkZHJlc3MgYWRkciwgdWludCBldGhBbW91bnQsIHVpbnQgdG9rZW5BbW91bnQpOwoKICAgIC8vLyBFbWl0dGVkIGlmIHRoZSB0b2tlbiBzYWxlIHN1Y2NlZWRlZC4KICAgIGV2ZW50IFNhbGVTdWNjZWVkZWQoKTsKCiAgICAvLy8gRW1pdHRlZCBpZiB0aGUgdG9rZW4gc2FsZSBmYWlsZWQuCiAgICAvLy8gV2hlbiB0b2tlbiBzYWxlIGZhaWxlZCwgYWxsIEV0aGVyIHdpbGwgYmUgcmV0dXJuIHRvIHRoZSBvcmlnaW5hbCBwdXJjaGFzaW5nCiAgICAvLy8gYWRkcmVzcyB3aXRoIGEgbWlub3IgZGVkdWN0aW9uIG9mIHRyYW5zYWN0aW9uIGZlZe+8iGdhcykKICAgIGV2ZW50IFNhbGVGYWlsZWQoKTsKCiAgICAvKgogICAgICogTU9ESUZJRVJTCiAgICAgKi8KCiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIGlmICh0YXJnZXQgPT0gbXNnLnNlbmRlcikgewogICAgICAgICAgICBfOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEludmFsaWRDYWxsZXIobXNnLnNlbmRlcik7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgIH0KCiAgICBtb2RpZmllciBiZWZvcmVTdGFydCB7CiAgICAgICAgaWYgKCFzYWxlU3RhcnRlZCgpKSB7CiAgICAgICAgICAgIF87CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgSW52YWxpZFN0YXRlKCJTYWxlIGhhcyBub3Qgc3RhcnRlZCB5ZXQiKTsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgfQoKICAgIG1vZGlmaWVyIGluUHJvZ3Jlc3MgewogICAgICAgIGlmIChzYWxlU3RhcnRlZCgpICYmICFzYWxlRW5kZWQoKSkgewogICAgICAgICAgICBfOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEludmFsaWRTdGF0ZSgiU2FsZSBpcyBub3QgaW4gcHJvZ3Jlc3MiKTsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgfQoKICAgIG1vZGlmaWVyIGFmdGVyRW5kIHsKICAgICAgICBpZiAoc2FsZUVuZGVkKCkpIHsKICAgICAgICAgICAgXzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBJbnZhbGlkU3RhdGUoIlNhbGUgaXMgbm90IGVuZGVkIHlldCIpOwogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBDT05TVFJVQ1RPUiAKICAgICAqIAogICAgICogQGRldiBJbml0aWFsaXplIHRoZSBMb29wcmluZyBUb2tlbgogICAgICogQHBhcmFtIF90YXJnZXQgVGhlIGVzY3JvdyBhY2NvdW50IGFkZHJlc3MsIGFsbCBldGhlcnMgd2lsbAogICAgICogYmUgc2VudCB0byB0aGlzIGFkZHJlc3MuCiAgICAgKiBUaGlzIGFkZHJlc3Mgd2lsbCBiZSA6IDB4MDAwNzNGNzE1NTQ1OUM5MjA1MDEwQ2IzNDUzYTBmMzkyYTBDMzIxMAogICAgICovCiAgICBmdW5jdGlvbiBMb29wcmluZ1Rva2VuKGFkZHJlc3MgX3RhcmdldCkgewogICAgICAgIHRhcmdldCA9IF90YXJnZXQ7CiAgICB9CgogICAgLyoKICAgICAqIFBVQkxJQyBGVU5DVElPTlMKICAgICAqLwoKICAgIC8vLyBAZGV2IFN0YXJ0IHRoZSB0b2tlbiBzYWxlLgogICAgLy8vIEBwYXJhbSBfZmlyc3RibG9jayBUaGUgYmxvY2sgZnJvbSB3aGljaCB0aGUgc2FsZSB3aWxsIHN0YXJ0LgogICAgZnVuY3Rpb24gc3RhcnQodWludCBfZmlyc3RibG9jaykgcHVibGljIG9ubHlPd25lciBiZWZvcmVTdGFydCB7CiAgICAgICAgaWYgKF9maXJzdGJsb2NrIDw9IGJsb2NrLm51bWJlcikgewogICAgICAgICAgICAvLyBNdXN0IHNwZWNpZnkgYSBibG9jayBpbiB0aGUgZnV0dXJlLgogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CgogICAgICAgIGZpcnN0YmxvY2sgPSBfZmlyc3RibG9jazsKICAgICAgICBTYWxlU3RhcnRlZCgpOwogICAgfQoKICAgIC8vLyBAZGV2IFRyaWdnZXJzIHVuc29sZCB0b2tlbnMgdG8gYmUgaXNzdWVkIHRvIGB0YXJnZXRgIGFkZHJlc3MuCiAgICBmdW5jdGlvbiBjbG9zZSgpIHB1YmxpYyBvbmx5T3duZXIgYWZ0ZXJFbmQgewogICAgICAgIGlmICh0b3RhbEV0aFJlY2VpdmVkIDwgR09BTCkgewogICAgICAgICAgICBTYWxlRmFpbGVkKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaXNzdWVVbnNvbGRUb2tlbigpOwogICAgICAgICAgICBTYWxlU3VjY2VlZGVkKCk7CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBAZGV2IFJldHVybnMgdGhlIGN1cnJlbnQgcHJpY2UuCiAgICBmdW5jdGlvbiBwcmljZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IHRva2VucykgewogICAgICAgIHJldHVybiBjb21wdXRlVG9rZW5BbW91bnQoMSBldGhlcik7CiAgICB9CgogICAgLy8vIEBkZXYgVGhpcyBkZWZhdWx0IGZ1bmN0aW9uIGFsbG93cyB0b2tlbiB0byBiZSBwdXJjaGFzZWQgYnkgZGlyZWN0bHkKICAgIC8vLyBzZW5kaW5nIGV0aGVyIHRvIHRoaXMgc21hcnQgY29udHJhY3QuCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsKICAgICAgICBpc3N1ZVRva2VuKG1zZy5zZW5kZXIpOwogICAgfQoKICAgIC8vLyBAZGV2IElzc3VlIHRva2VuIGJhc2VkIG9uIEV0aGVyIHJlY2VpdmVkLgogICAgLy8vIEBwYXJhbSByZWNpcGllbnQgQWRkcmVzcyB0aGF0IG5ld2x5IGlzc3VlZCB0b2tlbiB3aWxsIGJlIHNlbnQgdG8uCiAgICBmdW5jdGlvbiBpc3N1ZVRva2VuKGFkZHJlc3MgcmVjaXBpZW50KSBwYXlhYmxlIGluUHJvZ3Jlc3MgewogICAgICAgIC8vIFdlIG9ubHkgYWNjZXB0IG1pbmltdW0gcHVyY2hhc2Ugb2YgMC4wMSBFVEguCiAgICAgICAgYXNzZXJ0KG1zZy52YWx1ZSA+PSAwLjAxIGV0aGVyKTsKCiAgICAgICAgdWludCB0b2tlbnMgPSBjb21wdXRlVG9rZW5BbW91bnQobXNnLnZhbHVlKTsKICAgICAgICB0b3RhbEV0aFJlY2VpdmVkID0gdG90YWxFdGhSZWNlaXZlZC5hZGQobXNnLnZhbHVlKTsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZCh0b2tlbnMpOwogICAgICAgIGJhbGFuY2VzW3JlY2lwaWVudF0gPSBiYWxhbmNlc1tyZWNpcGllbnRdLmFkZCh0b2tlbnMpOwoKICAgICAgICBJc3N1ZSgKICAgICAgICAgICAgaXNzdWVJbmRleCsrLAogICAgICAgICAgICByZWNpcGllbnQsCiAgICAgICAgICAgIG1zZy52YWx1ZSwKICAgICAgICAgICAgdG9rZW5zCiAgICAgICAgKTsKCiAgICAgICAgaWYgKCF0YXJnZXQuc2VuZChtc2cudmFsdWUpKSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgIH0KCiAgICAvKgogICAgICogSU5URVJOQUwgRlVOQ1RJT05TCiAgICAgKi8KICAKICAgIC8vLyBAZGV2IENvbXB1dGUgdGhlIGFtb3VudCBvZiBMUkMgdG9rZW4gdGhhdCBjYW4gYmUgcHVyY2hhc2VkLgogICAgLy8vIEBwYXJhbSBldGhBbW91bnQgQW1vdW50IG9mIEV0aGVyIHRvIHB1cmNoYXNlIExSQy4KICAgIC8vLyBAcmV0dXJuIEFtb3VudCBvZiBMUkMgdG9rZW4gdG8gcHVyY2hhc2UKICAgIGZ1bmN0aW9uIGNvbXB1dGVUb2tlbkFtb3VudCh1aW50IGV0aEFtb3VudCkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludCB0b2tlbnMpIHsKICAgICAgICB1aW50IHBoYXNlID0gKGJsb2NrLm51bWJlciAtIGZpcnN0YmxvY2spLmRpdihCTE9DS1NfUEVSX1BIQVNFKTsKCiAgICAgICAgLy8gQSBzYWZlIGNoZWNrCiAgICAgICAgaWYgKHBoYXNlID49IGJvbnVzUGVyY2VudGFnZXMubGVuZ3RoKSB7CiAgICAgICAgICAgIHBoYXNlID0gYm9udXNQZXJjZW50YWdlcy5sZW5ndGggLSAxOwogICAgICAgIH0KCiAgICAgICAgdWludCB0b2tlbkJhc2UgPSBldGhBbW91bnQubXVsKEJBU0VfUkFURSk7CiAgICAgICAgdWludCB0b2tlbkJvbnVzID0gdG9rZW5CYXNlLm11bChib251c1BlcmNlbnRhZ2VzW3BoYXNlXSkuZGl2KDEwMCk7CgogICAgICAgIHRva2VucyA9IHRva2VuQmFzZS5hZGQodG9rZW5Cb251cyk7CiAgICB9CgogICAgLy8vIEBkZXYgSXNzdWUgdW5zb2xkIHRva2VuIHRvIGB0YXJnZXRgIGFkZHJlc3MuCiAgICAvLy8gVGhlIG1hdGggaXMgYXMgZm9sbG93czoKICAgIC8vLyAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwogICAgLy8vICAgfCAgICAgICBUb3RhbCBFdGhlcnMgUmVjZWl2ZWQgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICB8CiAgICAvLy8gICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyAgVW5zb2xkIFRva2VuIFBvcnRpb24gIHwKICAgIC8vLyAgIHwgICBMb3dlciBCb3VuZCAgIHwgICBVcHBlciBCb3VuZCAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgfAogICAgLy8vICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rCiAgICAvLy8gICB8ICAgICAgNTAsMDAwICAgICB8ICAgICA2MCwwMDAgICAgICAgfCAgICAgICAgIDY3LjUlICAgICAgICAgIHwKICAgIC8vLyAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwogICAgLy8vICAgfCAgICAgIDYwLDAwMCAgICAgfCAgICAgNzAsMDAwICAgICAgIHwgICAgICAgICA2NS4wJSAgICAgICAgICB8CiAgICAvLy8gICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKICAgIC8vLyAgIHwgICAgICA3MCwwMDAgICAgIHwgICAgIDgwLDAwMCAgICAgICB8ICAgICAgICAgNjIuNSUgICAgICAgICAgfAogICAgLy8vICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rCiAgICAvLy8gICB8ICAgICAgODAsMDAwICAgICB8ICAgICA5MCwwMDAgICAgICAgfCAgICAgICAgIDYwLjAlICAgICAgICAgIHwKICAgIC8vLyAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwogICAgLy8vICAgfCAgICAgIDkwLDAwMCAgICAgfCAgICAxMDAsMDAwICAgICAgIHwgICAgICAgICA1Ny41JSAgICAgICAgICB8CiAgICAvLy8gICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKICAgIC8vLyAgIHwgICAgIDEwMCwwMDAgICAgIHwgICAgMTEwLDAwMCAgICAgICB8ICAgICAgICAgNTUuMCUgICAgICAgICAgfAogICAgLy8vICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rCiAgICAvLy8gICB8ICAgICAxMTAsMDAwICAgICB8ICAgIDEyMCwwMDAgICAgICAgfCAgICAgICAgIDUyLjUlICAgICAgICAgIHwKICAgIC8vLyAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwogICAgLy8vICAgfCAgICAgMTIwLDAwMCAgICAgfCAgICAgICAgICAgICAgICAgIHwgICAgICAgICA1MC4wJSAgICAgICAgICB8CiAgICAvLy8gICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKICAgIGZ1bmN0aW9uIGlzc3VlVW5zb2xkVG9rZW4oKSBpbnRlcm5hbCB7CiAgICAgICAgaWYgKHVuc29sZFRva2VuSXNzdWVkKSB7CiAgICAgICAgICAgIEludmFsaWRTdGF0ZSgiVW5zb2xkIHRva2VuIGhhcyBiZWVuIGlzc3VlZCBhbHJlYWR5Iik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gQWRkIGFub3RoZXIgc2FmZSBndWFyZCAKICAgICAgICAgICAgcmVxdWlyZSh0b3RhbEV0aFJlY2VpdmVkID49IEdPQUwpOwoKICAgICAgICAgICAgdWludCBsZXZlbCA9IHRvdGFsRXRoUmVjZWl2ZWQuc3ViKEdPQUwpLmRpdigxMDAwMCBldGhlcik7CiAgICAgICAgICAgIGlmIChsZXZlbCA+IDcpIHsKICAgICAgICAgICAgICAgIGxldmVsID0gNzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdWludCB1bnNvbGRSYXRpb0luVGhvdXNhbmQgPSBNQVhfVU5TT0xEX1JBVElPIC0gMjUgKiBsZXZlbDsKCgogICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGB1bnNvbGRUb2tlbmAgdG8gYmUgaXNzdWVkLCB0aGUgYW1vdW50IG9mIGB1bnNvbGRUb2tlbmAKICAgICAgICAgICAgLy8gaXMgYmFzZWQgb24gdGhlIGlzc3VlZCBhbW91bnQsIHRoYXQgaXMgdGhlIGB0b3RhbFN1cHBseWAsIGR1cmluZyAKICAgICAgICAgICAgLy8gdGhlIHNhbGU6CiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgIHRvdGFsU3VwcGx5CiAgICAgICAgICAgIC8vICAgdW5zb2xkVG9rZW4gPSAtLS0tLS0tLS0tLS0tLS0gKiByCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgIDEgLSByCiAgICAgICAgICAgIHVpbnQgdW5zb2xkVG9rZW4gPSB0b3RhbFN1cHBseS5kaXYoMTAwMCAtIHVuc29sZFJhdGlvSW5UaG91c2FuZCkubXVsKHVuc29sZFJhdGlvSW5UaG91c2FuZCk7CgogICAgICAgICAgICAvLyBBZGp1c3QgYHRvdGFsU3VwcGx5YC4KICAgICAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQodW5zb2xkVG9rZW4pOwogICAgICAgICAgICAvLyBJc3N1ZSBgdW5zb2xkVG9rZW5gIHRvIHRoZSB0YXJnZXQgYWNjb3VudC4KICAgICAgICAgICAgYmFsYW5jZXNbdGFyZ2V0XSA9IGJhbGFuY2VzW3RhcmdldF0uYWRkKHVuc29sZFRva2VuKTsKCiAgICAgICAgICAgIElzc3VlKAogICAgICAgICAgICAgICAgaXNzdWVJbmRleCsrLAogICAgICAgICAgICAgICAgdGFyZ2V0LAogICAgICAgICAgICAgICAgMCwKICAgICAgICAgICAgICAgIHVuc29sZFRva2VuCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIAogICAgICAgICAgICB1bnNvbGRUb2tlbklzc3VlZCA9IHRydWU7CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBAcmV0dXJuIHRydWUgaWYgc2FsZSBoYXMgc3RhcnRlZCwgZmFsc2Ugb3RoZXJ3aXNlLgogICAgZnVuY3Rpb24gc2FsZVN0YXJ0ZWQoKSBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIChmaXJzdGJsb2NrID4gMCAmJiBibG9jay5udW1iZXIgPj0gZmlyc3RibG9jayk7CiAgICB9CgogICAgLy8vIEByZXR1cm4gdHJ1ZSBpZiBzYWxlIGhhcyBlbmRlZCwgZmFsc2Ugb3RoZXJ3aXNlLgogICAgZnVuY3Rpb24gc2FsZUVuZGVkKCkgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBmaXJzdGJsb2NrID4gMCAmJiAoc2FsZUR1ZSgpIHx8IGhhcmRDYXBSZWFjaGVkKCkpOwogICAgfQoKICAgIC8vLyBAcmV0dXJuIHRydWUgaWYgc2FsZSBpcyBkdWUgd2hlbiB0aGUgbGFzdCBwaGFzZSBpcyBmaW5pc2hlZC4KICAgIGZ1bmN0aW9uIHNhbGVEdWUoKSBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIGJsb2NrLm51bWJlciA+PSBmaXJzdGJsb2NrICsgQkxPQ0tTX1BFUl9QSEFTRSAqIE5VTV9PRl9QSEFTRTsKICAgIH0KCiAgICAvLy8gQHJldHVybiB0cnVlIGlmIHRoZSBoYXJkIGNhcCBpcyByZWFjaGVkLgogICAgZnVuY3Rpb24gaGFyZENhcFJlYWNoZWQoKSBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHRvdGFsRXRoUmVjZWl2ZWQgPj0gSEFSRF9DQVA7CiAgICB9Cn0='.
	

]
