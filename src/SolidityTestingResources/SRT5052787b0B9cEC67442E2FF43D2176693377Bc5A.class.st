Class {
	#name : #SRT5052787b0B9cEC67442E2FF43D2176693377Bc5A,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5052787b0B9cEC67442E2FF43D2176693377Bc5A >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovKioKICogUHVsc2FyIHRva2VuIGNvbnRyYWN0LgogKiBEYXRlOiAyMDE3LTExLTE0LgogKi8KCgpjb250cmFjdCBPd25hYmxlIHsKCiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7ICAgLy8gVGhlIG93bmVyIG9mIHRoZSBjb250cmFjdAoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZCAoIGFkZHJlc3MgaW5kZXhlZCBwcmV2X293bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3X293bmVyICk7CgogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgbW9kaWZpZXIgb25seU93bmVyIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAgKGFkZHJlc3MgbmV3X293bmVyKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUobmV3X293bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld19vd25lcik7CiAgICBvd25lciA9IG5ld19vd25lcjsKICB9CgoKfSAvLyBPd25hYmxlCgoKLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyogICAgICAgUFVMU0FSIFRPS0VOIFNUQVJUUyBIRVJFICAgICAgICAgKi8KLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCmNvbnRyYWN0IFB1bHNhclRva2VuIGlzIE93bmFibGUgewoKICAvKioqKioqKiogUHVibGljIGNvbnN0YW50cyAqKioqKioqKi8KCiAgLy8gVG9rZW4gZGVjaW1hbCBzY2FsZSBpcyB0aGUgc2FtZSBhcyBFdGhlciB0byBXZWkgc2NhbGUgPSAxMF4xOCAoMTggZGVjaW1hbCBkaWdpdHMpCiAgdWludCBwdWJsaWMgY29uc3RhbnQgVE9LRU5fU0NBTEUgPSAxIGV0aGVyIC8gMSB3ZWk7IC8vICgxMCAqKiAxOCkKCiAgLy8gVG90YWwgYW1vdW50IG9mIHRva2VucwogIHVpbnQgcHVibGljIGNvbnN0YW50IFRPVEFMX1NVUFBMWSA9IDM0NTQwMDAwICogVE9LRU5fU0NBTEU7CgogIC8vIDIwMTctMTEtMTMgMDg6MTM6MDAgVVRDID0gMDA6MTM6MDAgUFNUCiAgdWludCBwdWJsaWMgY29uc3RhbnQgSUNPX1NUQVJUX1RJTUUgPSAxNTEwNTYwNzgwOwoKICAvLyBNaW5pbXVtIGFjY2VwdGVkIGNvbnRyaWJ1dGlvbiBpcyAwLjEgRXRoZXIKICB1aW50IHB1YmxpYyBjb25zdGFudCBNSU5fQUNDRVBURURfVkFMVUUgPSAxMDAwMDAwMDAwMDAwMDAwMDAgd2VpOyAvLyAwLjEgZXRoZXIKCiAgLy8gTWluaW11bSBidXliYWNrIGFtb3VudCBvZiB0b2tlbnMKICB1aW50IHB1YmxpYyBjb25zdGFudCBNSU5fQlVZQkFDS19WQUxVRSA9IDEgKiBUT0tFTl9TQ0FMRTsKCiAgLy8gUHVibGljIGlkZW50aWZpZXJzIG9mIHRoZSB0b2tlbgogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgTkFNRSA9ICJQdWxzYXIiOyAgICAgICAvLyB0b2tlbiBuYW1lCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBTWU1CT0wgPSAiUFZDIjsgICAgICAgIC8vIHRva2VuIHN5bWJvbAoKCiAgLyoqCiAgICogQ29udHJhY3Qgc3RhdGUgbWFjaGluZS4gICAgICAgICAgICAgICAgICAgICAgICAgICBfX19fX19fX19fX19fCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKGkyAgICAgICAgICAgICB8CiAgICogRGVwbG95ZWQgLT4gSUNPU3RhcnRlZCAtPiBJQ09TdG9wcGVkIC0+IEJ1eWJhY2tFbmFibGVkIC0+IEJ1eWJhY2tQYXVzZWQgLT4gRGVzdHJveWVkLgogICAqLwogIGVudW0gQ29udHJhY3RTdGF0ZSB7IERlcGxveWVkLCBJQ09TdGFydGVkLCBJQ09TdG9wcGVkLCBCdXliYWNrRW5hYmxlZCwgQnV5YmFja1BhdXNlZCwgRGVzdHJveWVkIH0KCiAgLy8gQ3VycmVudCBzdGF0ZSBvZiB0aGUgY29udHJhY3QKICBDb250cmFjdFN0YXRlIHByaXZhdGUgY29udHJhY3RTdGF0ZSA9IENvbnRyYWN0U3RhdGUuRGVwbG95ZWQ7CgogIC8vIENvbnRyYWN0IHN0YXRlIGNoYW5nZSBldmVudAogIGV2ZW50IFN0YXRlICggQ29udHJhY3RTdGF0ZSBzdGF0ZSApOwoKICAvLyBUaGlzIGdlbmVyYXRlcyBhIHB1YmxpYyBldmVudCBvbiB0aGUgYmxvY2tjaGFpbiB0aGF0IHdpbGwgbm90aWZ5IGNsaWVudHMKICBldmVudCBUcmFuc2ZlciAoIGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUgKTsKCgogIC8qKioqKioqKiBQdWJsaWMgdmFyaWFibGVzICoqKioqKioqKi8KCiAgLy8gVGhpcyBjcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGJhbGFuY2VzCiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgYmFsYW5jZU9mOwoKICAvLyBSZXNlcnZlZCBib3VudHkgdG9rZW5zCiAgdWludCBwdWJsaWMgYm91bnR5VG9rZW5zID0gNDAwMDAgKiBUT0tFTl9TQ0FMRTsKCiAgLy8gU2VsbGluZyBwcmljZSBvZiB0b2tlbnMgaW4gV2VpCiAgdWludCBwdWJsaWMgc2VsbGluZ1ByaWNlID0gMDsKCiAgLy8gQnV5YmFjayBwcmljZSBvZiB0b2tlbnMgaW4gV2VpCiAgdWludCBwdWJsaWMgYnV5YmFja1ByaWNlID0gMDsKCiAgLy8gQW1vdW50IG9mIEV0aGVyIHRoZSBjb250cmFjdCBldmVyIHJlY2VpdmVkCiAgdWludCBwdWJsaWMgZXRoZXJBY2N1bXVsYXRvciA9IDA7CgogIC8vIElDTyBzdGFydCB0aW1lCiAgdWludCBwdWJsaWMgaWNvU3RhcnRUaW1lID0gSUNPX1NUQVJUX1RJTUU7CgogIC8vIFRydXN0ZWQgKGF1dGhvcml6ZWQpIHNlbmRlciBvZiB0b2tlbnMKICBhZGRyZXNzIHB1YmxpYyB0cnVzdGVkU2VuZGVyID0gYWRkcmVzcygwKTsKCgogIC8qKioqKioqKiBQcml2YXRlIHZhcmlhYmxlcyAqKioqKioqKi8KCiAgdWludDhbNF0gcHJpdmF0ZSBib251c2VzID0gWyB1aW50OCgxNSksIHVpbnQ4KDEwKSwgdWludDgoNSksIHVpbnQ4KDMpIF07ICAvLyB0aGVzZSBhcmUgcGVyY2VudHMKICB1aW50WzRdICBwcml2YXRlIHN0YWdpbmcgPSBbIDEgd2Vla3MsICAgMiB3ZWVrcywgICAzIHdlZWtzLCAgNCB3ZWVrcyBdOyAgIC8vIHRpbWVmcmFtZSB3aGVuIHRoZSBib251c2VzIGFyZSBlZmZlY3RpdmUKCgogIC8qKgogICAqIFRoZSBjb25zdHJ1Y3RvciBpbml0aWFsaXplcyB0aGUgY29udHJhY3QuCiAgICovCiAgZnVuY3Rpb24gUHVsc2FyVG9rZW4oKSBwdWJsaWMKICB7CiAgICAvLyBpbnRlbnRpb25hbGx5IGxlZnQgZW1wdHkKICB9CgoKICAvKioqKioqKiogSGVscGVyIGZ1bmN0aW9ucyAqKioqKioqKi8KCiAgLyogQ2FsY3VsYXRlIGN1cnJlbnQgYm9udXMgcGVyY2VudC4gKi8KICBmdW5jdGlvbiBjYWxjQm9udXNQZXJjZW50KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDgpIHsKICAgIHVpbnQ4IF9ib251cyA9IDA7CiAgICB1aW50IF9lbGFwc2VkID0gbm93IC0gaWNvU3RhcnRUaW1lOwoKICAgIGZvciAodWludDggaSA9IDA7IGkgPCBzdGFnaW5nLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChfZWxhcHNlZCA8PSBzdGFnaW5nW2ldKSB7CiAgICAgICAgICBfYm9udXMgPSBib251c2VzW2ldOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBfYm9udXM7CiAgfQoKICAvKiBBZGQgYm9udXMgdG8gdGhlIGFtb3VudCwgZm9yIGV4YW1wbGUgMjAwICsgMTUlIGJvbnVzID0gMjMwLiAqLwogIGZ1bmN0aW9uIGNhbGNBbW91bnRXaXRoQm9udXModWludCB0b2tlbl92YWx1ZSwgdWludDggYm9udXMpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpIHsKICAgIHJldHVybiAgKHRva2VuX3ZhbHVlICogKDEwMCArIGJvbnVzKSkgLyAxMDA7CiAgfQoKICAvKiBDb252ZXJ0IGFtb3VudCBpbiBXZWkgdG8gdG9rZW5zLiAqLwogIGZ1bmN0aW9uIGNhbGNFdGhlcnNUb1Rva2Vucyh1aW50IGV0aGVyX3ZhbHVlLCB1aW50OCBib251cykgcHVibGljIHZpZXcgcmV0dXJucyAodWludCkgewogICAgcmV0dXJuIGNhbGNBbW91bnRXaXRoQm9udXMoVE9LRU5fU0NBTEUgKiBldGhlcl92YWx1ZS9zZWxsaW5nUHJpY2UsIGJvbnVzKTsKICB9CgogIC8qIENvbnZlcnQgYW1vdW50IGluIHRva2VucyB0byBXZWkuICovCiAgZnVuY3Rpb24gY2FsY1Rva2Vuc1RvRXRoZXJzKHVpbnQgdG9rZW5fdmFsdWUpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpIHsKICAgICAgcmV0dXJuIChidXliYWNrUHJpY2UgKiB0b2tlbl92YWx1ZSkgLyBUT0tFTl9TQ0FMRTsKICB9CgogIC8qKgogICAqIEludGVybmFsIHRyYW5zZmVyIG9mIHRva2Vucywgb25seSBjYW4gYmUgY2FsbGVkIGZyb20gd2l0aGluIHRoaXMgY29udHJhY3QuCiAgICoKICAgKiBAcGFyYW0gX2Zyb20gICBTb3VyY2UgYWRkcmVzcwogICAqIEBwYXJhbSBfdG8gICAgIERlc3RpbmF0aW9uIGFkZHJlc3MKICAgKiBAcGFyYW0gX3ZhbHVlICBBbW91bnQgb2YgdG9rZW5zIChkbyBub3QgZm9yZ2V0IHRvIG11bHRpcGx5IGJ5IHNjYWxlIDEwXjE4KQogICAqLwogIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGludGVybmFsCiAgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygweDApKTsgICAgICAgICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgdHJhbnNmZXIgdG8gMHgwIGFkZHJlc3MKICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB0aGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHplcm8KICAgIHJlcXVpcmUoYmFsYW5jZU9mW19mcm9tXSA+PSBfdmFsdWUpOyAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2ggdG9rZW5zCiAgICByZXF1aXJlKGJhbGFuY2VPZltfdG9dICsgX3ZhbHVlID4gYmFsYW5jZU9mW190b10pOyAgLy8gY2hlY2sgZm9yIG92ZXJmbG93cwoKICAgIGJhbGFuY2VPZltfZnJvbV0gIC09IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIKICAgIGJhbGFuY2VPZltfdG9dICAgICs9IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIHNhbWUgdG8gdGhlIHJlY2lwaWVudAoKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7ICAgICAgICAgICAgICAgICAgICAgICAvLyBmaXJlIHRoZSBldmVudAogIH0KCgogIC8qKioqKioqKioqKioqKioqKioqKioqKioqIFB1YmxpYyBpbnRlcmZhY2UgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgogIC8qKgogICAqIFZpZXcgY3VycmVudCBzdGF0ZSBvZiB0aGUgY29udHJhY3QuCiAgICoKICAgKiBSZXR1cm5zOiBDdXJyZW50IHN0YXRlIG9mIHRoZSBjb250cmFjdCBhcyB1aW50OCwgc3RhcnRpbmcgZnJvbSAwLgogICAqLwogIGZ1bmN0aW9uIGdldENvbnRyYWN0U3RhdGUoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50OCkgewogICAgcmV0dXJuIHVpbnQ4KGNvbnRyYWN0U3RhdGUpOwogIH0KCiAgLyoqCiAgICogVmlldyBjdXJyZW50IHRva2VuIGJhbGFuY2Ugb2YgdGhlIGNvbnRyYWN0LgogICAqCiAgICogUmV0dXJuczogQ3VycmVudCBhbW91bnQgb2YgdG9rZW5zIGluIHRoZSBjb250cmFjdC4KICAgKi8KICBmdW5jdGlvbiBnZXRDb250cmFjdFRva2VuQmFsYW5jZSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpIHsKICAgIHJldHVybiBiYWxhbmNlT2ZbdGhpc107CiAgfQoKICAvKioKICAgKiBWaWV3IGN1cnJlbnQgdG9rZW4gYmFsYW5jZSBvZiB0aGUgZ2l2ZW4gYWRkcmVzcy4KICAgKgogICAqIFJldHVybnM6IEN1cnJlbnQgYW1vdW50IG9mIHRva2VucyBob2xkIGJ5IHRoZSBhZGRyZXNzCiAgICoKICAgKiBAcGFyYW0gaG9sZGVyX2FkZHJlc3MgSG9sZGVyIG9mIHRva2VucwogICAqLwogIGZ1bmN0aW9uIGdldFRva2VuQmFsYW5jZShhZGRyZXNzIGhvbGRlcl9hZGRyZXNzKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KSB7CiAgICByZXF1aXJlKGhvbGRlcl9hZGRyZXNzICE9IGFkZHJlc3MoMCkpOwogICAgcmV0dXJuIGJhbGFuY2VPZltob2xkZXJfYWRkcmVzc107CiAgfQoKICAvKioKICAgKiBWaWV3IHRvdGFsIGFtb3VudCBvZiBjdXJyZW50bHkgZGlzdHJpYnV0ZWQgdG9rZW5zLgogICAqCiAgICogUmV0dXJuczogVG90YWwgYW1vdW50IG9mIGRpc3RyaWJ1dGVkIHRva2Vucy4KICAgKi8KICBmdW5jdGlvbiBnZXREaXN0cmlidXRlZFRva2VucygpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpIHsKICAgICAgcmV0dXJuIFRPVEFMX1NVUFBMWSAtIGJhbGFuY2VPZlt0aGlzXTsKICB9CgogIC8qKgogICAqIFZpZXcgY3VycmVudCBFdGhlciBiYWxhbmNlIG9mIHRoZSBjb250cmFjdC4KICAgKgogICAqIFJldHVybnM6IEN1cnJlbnQgYW1vdW50IG9mIFdlaSBhdCB0aGUgY29udHJhY3QncyBhZGRyZXNzLgogICAqLwogIGZ1bmN0aW9uIGdldENvbnRyYWN0RXRoZXJCYWxhbmNlKCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCkgewogICAgcmV0dXJuIHRoaXMuYmFsYW5jZTsKICB9CgogIC8qKgogICAqIFZpZXcgY3VycmVudCBFdGhlciBiYWxhbmNlIG9mIHRoZSBnaXZlbiBhZGRyZXNzLgogICAqCiAgICogUmV0dXJuczogQ3VycmVudCBhbW91bnQgb2YgV2VpIGF0IHRoZSBnaXZlbiBhZGRyZXNzLgogICAqLwogIGZ1bmN0aW9uIGdldEV0aGVyQmFsYW5jZShhZGRyZXNzIGhvbGRlcl9hZGRyZXNzKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KSB7CiAgICByZXF1aXJlKGhvbGRlcl9hZGRyZXNzICE9IGFkZHJlc3MoMCkpOwogICAgcmV0dXJuIGhvbGRlcl9hZGRyZXNzLmJhbGFuY2U7CiAgfQoKCiAgLyoqCiAgICogQnV5IHRva2VucyBmb3IgRXRoZXIuCiAgICogU3RhdGUgbXVzdCBiZSBvbmx5IElDT1N0YXJ0ZWQuCiAgICovCiAgZnVuY3Rpb24gaW52ZXN0KCkgcHVibGljIHBheWFibGUKICB7CiAgICByZXF1aXJlKGNvbnRyYWN0U3RhdGUgPT0gQ29udHJhY3RTdGF0ZS5JQ09TdGFydGVkKTsgICAvLyBjaGVjayBzdGF0ZQogICAgcmVxdWlyZShub3cgPj0gaWNvU3RhcnRUaW1lKTsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgdGltZQogICAgcmVxdWlyZShtc2cudmFsdWUgPj0gTUlOX0FDQ0VQVEVEX1ZBTFVFKTsgICAgICAgICAgICAgLy8gY2hlY2sgYW1vdW50IG9mIGNvbnRyaWJ1dGlvbgoKICAgIHVpbnQ4IF9ib251cyAgPSBjYWxjQm9udXNQZXJjZW50KCk7CiAgICB1aW50ICBfdG9rZW5zID0gY2FsY0V0aGVyc1RvVG9rZW5zKG1zZy52YWx1ZSwgX2JvbnVzKTsKCiAgICByZXF1aXJlKGJhbGFuY2VPZlt0aGlzXSA+PSBfdG9rZW5zKTsgICAgICAgICAgICAgICAgICAvLyBjaGVjayBhbW91bnQgb2YgdG9rZW5zCgogICAgX3RyYW5zZmVyKHRoaXMsIG1zZy5zZW5kZXIsIF90b2tlbnMpOyAgICAgICAgICAgICAgICAgLy8gdHJhbmZlciB0b2tlbnMgdG8gdGhlIGludmVzdG9yCgogICAgZXRoZXJBY2N1bXVsYXRvciArPSBtc2cudmFsdWU7ICAgICAgLy8gZmluYWxseSB1cGRhdGUgdGhlIGNvdW50ZXIgb2YgcmVjZWl2ZWQgRXRoZXIKICB9CgoKICAvLyBEZWZhdWx0IGZhbGxiYWNrIGZ1bmN0aW9uIGhhbmRsZXMgc2VuZGluZyBFdGhlciB0byB0aGUgY29udHJhY3QuCiAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewogICAgaW52ZXN0KCk7CiAgfQoKICAvKioKICAgKiBUb2tlbiBob2xkZXJzIHdpdGhkcmF3IEV0aGVyIGluIGV4Y2hhbmdlIG9mIHRoZWlyIHRva2Vucy4KICAgKiAKICAgKiBAcGFyYW0gdG9rZW5fdmFsdWUgQW1vdW50IG9mIHRva2VucyBiZWluZyByZXR1cm5lZCAoZG8gbm90IGZvcmdldCB0byBtdWx0aXBseSBieSBzY2FsZSAxMF4xOCkKICAgKi8KICBmdW5jdGlvbiBidXliYWNrKHVpbnQgdG9rZW5fdmFsdWUpIHB1YmxpYwogIHsKICAgIHJlcXVpcmUoY29udHJhY3RTdGF0ZSA9PSBDb250cmFjdFN0YXRlLkJ1eWJhY2tFbmFibGVkKTsgICAvLyBjaGVjayBjdXJyZW50IHN0YXRlCiAgICByZXF1aXJlKGJ1eWJhY2tQcmljZSA+IDApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnV5YmFjayBwcmljZSBtdXN0IGJlIHNldAogICAgcmVxdWlyZSh0b2tlbl92YWx1ZSA+PSBNSU5fQlVZQkFDS19WQUxVRSk7ICAgICAgICAgICAgICAgIC8vIG1pbmltdW0gYWxsb3dlZCBhbW91bnQgb2YgdG9rZW5zCiAgICByZXF1aXJlKG1zZy5zZW5kZXIgIT0gb3duZXIpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIG93bmVyIGNhbid0IGJ1eWJhY2sKCiAgICB1aW50IF9ldGhlcnMgPSBjYWxjVG9rZW5zVG9FdGhlcnModG9rZW5fdmFsdWUpOwoKICAgIC8vIENoZWNrIGlmIHRoZSBjb250cmFjdCBoYXMgZW5vdWdoIGV0aGVyIHRvIGJ1eWJhY2sgdGhlIHRva2VucwogICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgPj0gX2V0aGVycyk7CgogICAgLy8gVHJhbnNmZXIgdGhlIHRva2VucyBiYWNrIHRvIHRoZSBjb250cmFjdAogICAgX3RyYW5zZmVyKG1zZy5zZW5kZXIsIHRoaXMsIHRva2VuX3ZhbHVlKTsKCiAgICAvLyBTZW5kIGV0aGVyIHRvIHRoZSBzZWxsZXIuIEl0J3MgaW1wb3J0YW50IHRvIGRvIHRoaXMgbGFzdCB0byBhdm9pZCByZWN1cnNpb24gYXR0YWNrcy4KICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoX2V0aGVycyk7CiAgfQoKICAvKioqKioqKioqKioqKioqKioqKioqKioqKiogT3duZXIncyBpbnRlcmZhY2UgKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgogIC8qKgogICAqIFNldCBJQ08gc3RhcnQgdGltZQogICAqCiAgICogUmVzdHJpY3RlZCB0byB0aGUgb3duZXIuCiAgICoKICAgKiBAcGFyYW0gc3RhcnRfdGltZSBOZXcgc3RhcnQgdGltZSBhcyBudW1iZXIgb2Ygc2Vjb25kcyBmcm9tIFVuaXggRXBvY2gKICAgKi8KICBmdW5jdGlvbiBzZXRJQ09TdGFydFRpbWUodWludCBzdGFydF90aW1lKSBvbmx5T3duZXIgZXh0ZXJuYWwgewogICAgaWNvU3RhcnRUaW1lID0gc3RhcnRfdGltZTsKICB9CgogIC8qKgogICAqIFNldCB0b2tlbiBzZWxsaW5nIHByaWNlIGluIFdlaS4KICAgKgogICAqIFJlc3RyaWN0ZWQgdG8gdGhlIG93bmVyLgogICAqCiAgICogQHBhcmFtIHNlbGxpbmdfcHJpY2UgTmV3IHNlbGxpbmcgcHJpY2UgaW4gV2VpCiAgICovCiAgZnVuY3Rpb24gc2V0U2VsbGluZ1ByaWNlKHVpbnQgc2VsbGluZ19wcmljZSkgb25seU93bmVyIHB1YmxpYyB7CiAgICByZXF1aXJlKHNlbGxpbmdfcHJpY2UgIT0gMCk7CiAgICBzZWxsaW5nUHJpY2UgPSBzZWxsaW5nX3ByaWNlOwogIH0KCiAgLyoqCiAgICogU3RhcnQgc2VsbGluZyB0b2tlbnMuCiAgICoKICAgKiBSZXN0cmljdGVkIHRvIHRoZSBvd25lci4KICAgKgogICAqIEBwYXJhbSBzZWxsaW5nX3ByaWNlIE5ldyBzZWxsaW5nIHByaWNlIGluIFdlaQogICAqLwogIGZ1bmN0aW9uIHN0YXJ0SUNPKHVpbnQgc2VsbGluZ19wcmljZSkgb25seU93bmVyIGV4dGVybmFsIHsKICAgIHJlcXVpcmUoY29udHJhY3RTdGF0ZSA9PSBDb250cmFjdFN0YXRlLkRlcGxveWVkKTsKICAgIHNldFNlbGxpbmdQcmljZShzZWxsaW5nX3ByaWNlKTsKCiAgICBiYWxhbmNlT2ZbdGhpc10gPSBUT1RBTF9TVVBQTFk7CgogICAgY29udHJhY3RTdGF0ZSA9IENvbnRyYWN0U3RhdGUuSUNPU3RhcnRlZDsKICAgIFN0YXRlKGNvbnRyYWN0U3RhdGUpOwogIH0KCiAgLyoqCiAgICogU3RvcCBzZWxsaW5nIHRva2Vucy4KICAgKiBSZXN0cmljdGVkIHRvIHRoZSBvd25lci4KICAgKi8KICBmdW5jdGlvbiBzdG9wSUNPKCkgb25seU93bmVyIGV4dGVybmFsIHsKICAgIHJlcXVpcmUoY29udHJhY3RTdGF0ZSA9PSBDb250cmFjdFN0YXRlLklDT1N0YXJ0ZWQpOwoKICAgIGNvbnRyYWN0U3RhdGUgPSBDb250cmFjdFN0YXRlLklDT1N0b3BwZWQ7CiAgICBTdGF0ZShjb250cmFjdFN0YXRlKTsKICB9CgogIC8qKgogICAqIFRyYW5zZmVyIEV0aGVyIGZyb20gdGhlIGNvbnRyYWN0IHRvIHRoZSBvd25lci4KICAgKiBSZXN0cmljdGVkIHRvIHRoZSBvd25lci4KICAgKgogICAqIEBwYXJhbSBldGhlcl92YWx1ZSBBbW91bnQgaW4gV2VpCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJFdGhlcnNUb093bmVyKHVpbnQgZXRoZXJfdmFsdWUpIG9ubHlPd25lciBleHRlcm5hbCB7CiAgICByZXF1aXJlKHRoaXMuYmFsYW5jZSA+PSBldGhlcl92YWx1ZSk7CiAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGV0aGVyX3ZhbHVlKTsKICB9CgogIC8qKgogICAqIFNldCB0aGUgdHJ1c3RlZCBzZW5kZXIgb2YgdG9rZW5zLgogICAqIFBhc3MgKDApIHRvIHJlbW92ZSB0aGUgdHJ1c3RlciBzZW5kZXIuCiAgICogUmVzdHJpY3RlZCB0byB0aGUgb3duZXIuCiAgICoKICAgKiBAcGFyYW0gdHJ1c3RlZF9hZGRyZXNzIE5ldyB0cnVzdGVkIHNlbmRlcgogICAqLwogIGZ1bmN0aW9uIHNldFRydXN0ZWRTZW5kZXIoYWRkcmVzcyB0cnVzdGVkX2FkZHJlc3MpIG9ubHlPd25lciBleHRlcm5hbCB7CiAgICB0cnVzdGVkU2VuZGVyID0gdHJ1c3RlZF9hZGRyZXNzOwogIH0KCiAgLyoqCiAgICogVHJhbnNmZXIgdG9rZW5zIHRvIGFuIGFkZHJlc3MuCiAgICogUmVzdHJpY3RlZCB0byB0aGUgb3duZXIgb3IgdG8gdGhlIHRydXN0ZWQgYWRkcmVzcy4KICAgKgogICAqIEBwYXJhbSByZWNpcGllbnRfYWRkcmVzcyBSZWNpcGllbnQgYWRkcmVzcwogICAqIEBwYXJhbSB0b2tlbl92YWx1ZSBBbW91bnQgb2YgdG9rZW5zIChkbyBub3QgZm9yZ2V0IHRvIG11bHRpcGx5IGJ5IHNjYWxlIDEwXjE4KQogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyVG9rZW5zKGFkZHJlc3MgcmVjaXBpZW50X2FkZHJlc3MsIHVpbnQgdG9rZW5fdmFsdWUpIGV4dGVybmFsIHsKICAgIHJlcXVpcmUoIChtc2cuc2VuZGVyID09IG93bmVyKSB8fCAobXNnLnNlbmRlciA9PSB0cnVzdGVkU2VuZGVyKSApOyAgLy8gUmVzdHJpY3RlZCB0byB0aGUgb3duZXIgb3IgdG8gdHJ1c3RlZFNlbmRlcgogICAgcmVxdWlyZShjb250cmFjdFN0YXRlID09IENvbnRyYWN0U3RhdGUuSUNPU3RhcnRlZCk7ICAgICAgICAgICAgICAgICAvLyBjaGVjayBzdGF0ZQogICAgcmVxdWlyZShub3cgPj0gaWNvU3RhcnRUaW1lKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayB0aW1lCgogICAgX3RyYW5zZmVyKHRoaXMsIHJlY2lwaWVudF9hZGRyZXNzLCB0b2tlbl92YWx1ZSk7CiAgfQoKICAvKioKICAgKiBHcmFudCBib3VudHkgdG9rZW5zIHRvIGFuIGFkZHJlc3MuCiAgICogUmVzdHJpY3RlZCB0byB0aGUgb3duZXIuCiAgICogU3RhdGUgbXVzdCBiZSBJQ09TdGFydGVkIG9yIElDT1N0b3BwZWQuCiAgICoKICAgKiBAcGFyYW0gcmVjaXBpZW50X2FkZHJlc3MgUmVjaXBpZW50IGFkZHJlc3MKICAgKiBAcGFyYW0gdG9rZW5fdmFsdWUgQW1vdW50IG9mIHRva2VucyAoZG8gbm90IGZvcmdldCB0byBtdWx0aXBseSBieSBzY2FsZSAxMF4xOCkKICAgKi8KICBmdW5jdGlvbiBncmFudEJvdW50eShhZGRyZXNzIHJlY2lwaWVudF9hZGRyZXNzLCB1aW50IHRva2VuX3ZhbHVlKSBvbmx5T3duZXIgZXh0ZXJuYWwgewogICAgcmVxdWlyZSgoY29udHJhY3RTdGF0ZSA9PSBDb250cmFjdFN0YXRlLklDT1N0YXJ0ZWQpIHx8IChjb250cmFjdFN0YXRlID09IENvbnRyYWN0U3RhdGUuSUNPU3RvcHBlZCkpOyAgLy8gY2hlY2sgdGhlIHN0YXRlCiAgICByZXF1aXJlKGJvdW50eVRva2VucyA+PSB0b2tlbl92YWx1ZSk7ICAvLyBjaGVjayByZW1haW5pbmcgYW1vdW50IG9mIGJvdW50eSB0b2tlbnMKICAgIHJlcXVpcmUobm93ID49IGljb1N0YXJ0VGltZSk7ICAgICAvLyBjaGVjayB0aW1lCgogICAgX3RyYW5zZmVyKHRoaXMsIHJlY2lwaWVudF9hZGRyZXNzLCB0b2tlbl92YWx1ZSk7CiAgICBib3VudHlUb2tlbnMgLT0gdG9rZW5fdmFsdWU7CiAgfQoKICAvKioKICAgKiBSZWZ1bmQgaW52ZXN0bWVudCBieSB0cmFuc2ZlcnJpbmcgYWxsIHRva2VucyBiYWNrIHRvIHRoZSBjb250cmFjdCBhbmQgc2VuZGluZyBFdGhlciB0byB0aGUgaW52ZXN0b3IuCiAgICoKICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGEgbmVjZXNzYXJ5IG1lYXN1cmUsIGJlY2F1c2UgbWF4aW11bSA5OSBhY2NyZWRpdGVkIFVTIGludmVzdG9ycyBhcmUgYWxsb3dlZCAKICAgKiB1bmRlciBleGVtcHRpb25zIGZyb20gcmVnaXN0cmF0aW9uIHdpdGggdGhlIFUuUy4gU2VjdXJpdGllcyBhbmQgRXhjaGFuZ2UgQ29tbWlzc2lvbiAKICAgKiBwdXJzdWFudCB0byBSZWd1bGF0aW9uIEQsIFNlY3Rpb24gNTA2KGMpIG9mIHRoZSBTZWN1cml0aWVzIEFjdCBvZiAxOTMzLCBhcyBhbWVuZGVkICh0aGUg4oCcU2VjdXJpdGllcyBBY3TigJ0pLgogICAqIAogICAqIFdlIHdpbGwgc2VsZWN0IDk5IGFjY3JlZGl0ZWQgVVMgaW52ZXN0b3JzIGFuZCByZWZ1bmQgaW52ZXN0bWVudHMgdG8gYWxsIG90aGVyIFVTIGFjY3JlZGl0ZWQgaW52ZXN0b3JzIHRvIGNvbXBseSB3aXRoIHRoaXMgcmVndWxhdGlvbi4KICAgKgogICAqIEludmVzdG9ycyBmcm9tIG90aGVyIGNvdW50cmllcyAobm9uLVVTIGludmVzdG9ycykgd2lsbCBub3QgYmUgYWZmZWN0ZWQuCiAgICoKICAgKiBTdGF0ZSBtdXN0IGJlIElDT1N0b3BwZWQgb3IgQnV5YmFja1BhdXNlZC4KICAgKgogICAqIFJlc3RyaWN0ZWQgdG8gdGhlIG93bmVyLgogICAqCiAgICogQHBhcmFtIGludmVzdG9yX2FkZHJlc3MgVGhlIGFkZHJlc3Mgb2YgdGhlIGludmVzdG9yCiAgICogQHBhcmFtIGV0aGVyX3ZhbHVlIFRoZSBhbW91bnQgaW4gV2VpCiAgICovCiAgZnVuY3Rpb24gcmVmdW5kSW52ZXN0bWVudChhZGRyZXNzIGludmVzdG9yX2FkZHJlc3MsIHVpbnQgZXRoZXJfdmFsdWUpIG9ubHlPd25lciBleHRlcm5hbCB7CiAgICByZXF1aXJlKChjb250cmFjdFN0YXRlID09IENvbnRyYWN0U3RhdGUuSUNPU3RvcHBlZCkgfHwgKGNvbnRyYWN0U3RhdGUgPT0gQ29udHJhY3RTdGF0ZS5CdXliYWNrUGF1c2VkKSk7ICAgLy8gY2hlY2sgdGhlIHN0YXRlCgogICAgcmVxdWlyZShpbnZlc3Rvcl9hZGRyZXNzICE9IG93bmVyKTsgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IHJlZnVuZCB0byB0aGUgb3duZXIKICAgIHJlcXVpcmUoaW52ZXN0b3JfYWRkcmVzcyAhPSBhZGRyZXNzKHRoaXMpKTsgICAgICAgICAgIC8vIGRvIG5vdCByZWZ1bmQgdG8gdGhlIGNvbnRyYWN0CiAgICByZXF1aXJlKGJhbGFuY2VPZltpbnZlc3Rvcl9hZGRyZXNzXSA+IDApOyAgICAgICAgICAgICAvLyBpbnZlc3RvcidzIHRva2VuIGJhbGFuY2UgbXVzdCBiZSBncmVhdGVyIHRoYW4gemVybwogICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgPj0gZXRoZXJfdmFsdWUpOyAgICAgICAgICAgICAgICAgLy8gdGhlIGNvbnRyYWN0IG11c3QgaGF2ZSBlbm91Z2ggZXRoZXIKCiAgICAvLyBUcmFuc2ZlciB0aGUgdG9rZW5zIGJhY2sgdG8gdGhlIGNvbnRyYWN0CiAgICBfdHJhbnNmZXIoaW52ZXN0b3JfYWRkcmVzcywgdGhpcywgYmFsYW5jZU9mW2ludmVzdG9yX2FkZHJlc3NdKTsKCiAgICAvLyBTZW5kIGV0aGVyIHRvIHRoZSBpbnZlc3Rvci4gSXQncyBpbXBvcnRhbnQgdG8gZG8gdGhpcyBsYXN0IHRvIGF2b2lkIHJlY3Vyc2lvbiBhdHRhY2tzLgogICAgaW52ZXN0b3JfYWRkcmVzcy50cmFuc2ZlcihldGhlcl92YWx1ZSk7CiAgfQoKICAvKioKICAgKiBTZXQgdG9rZW4gYnV5YmFjayBwcmljZSBpbiBXZWkuCiAgICoKICAgKiBSZXN0cmljdGVkIHRvIHRoZSBvd25lci4KICAgKgogICAqIEBwYXJhbSBidXliYWNrX3ByaWNlIE5ldyBidXliYWNrIHByaWNlIGluIFdlaQogICAqLwogIGZ1bmN0aW9uIHNldEJ1eWJhY2tQcmljZSh1aW50IGJ1eWJhY2tfcHJpY2UpIG9ubHlPd25lciBwdWJsaWMgewogICAgcmVxdWlyZShidXliYWNrX3ByaWNlID4gMCk7CiAgICBidXliYWNrUHJpY2UgPSBidXliYWNrX3ByaWNlOwogIH0KCiAgLyoqCiAgICogRW5hYmxlIGJ1eWJhY2suCiAgICogU3RhdGUgbXVzdCBiZSBJQ09TdG9wcGVkIG9yIEJ1eWJhY2tQYXVzZWQuCiAgICogQnV5YmFjayBjYW4gYmUgcGF1c2VkIHdpdGggcGF1c2VCdXliYWNrKCkuCiAgICoKICAgKiBSZXN0cmljdGVkIHRvIHRoZSBvd25lci4KICAgKgogICAqIEBwYXJhbSBidXliYWNrX3ByaWNlIE5ldyBidXliYWNrIHByaWNlIGluIFdlaQogICAqLwogIGZ1bmN0aW9uIGVuYWJsZUJ1eWJhY2sodWludCBidXliYWNrX3ByaWNlKSBvbmx5T3duZXIgZXh0ZXJuYWwgewogICAgcmVxdWlyZSgoY29udHJhY3RTdGF0ZSA9PSBDb250cmFjdFN0YXRlLklDT1N0b3BwZWQpIHx8IChjb250cmFjdFN0YXRlID09IENvbnRyYWN0U3RhdGUuQnV5YmFja1BhdXNlZCkpOwogICAgc2V0QnV5YmFja1ByaWNlKGJ1eWJhY2tfcHJpY2UpOwoKICAgIGNvbnRyYWN0U3RhdGUgPSBDb250cmFjdFN0YXRlLkJ1eWJhY2tFbmFibGVkOwogICAgU3RhdGUoY29udHJhY3RTdGF0ZSk7CiAgfQoKICAvKioKICAgKiBQYXVzZSBidXliYWNrLgogICAqIFN0YXRlIG11c3QgYmUgQnV5YmFja0VuYWJsZWQuCiAgICogQnV5YmFjayBjYW4gYmUgcmUtZW5hYmxlZCB3aXRoIGVuYWJsZUJ1eWJhY2soKS4KICAgKgogICAqIFJlc3RyaWN0ZWQgdG8gdGhlIG93bmVyLgogICAqLwogIGZ1bmN0aW9uIHBhdXNlQnV5YmFjaygpIG9ubHlPd25lciBleHRlcm5hbCB7CiAgICAgIHJlcXVpcmUoY29udHJhY3RTdGF0ZSA9PSBDb250cmFjdFN0YXRlLkJ1eWJhY2tFbmFibGVkKTsKCiAgICAgIGNvbnRyYWN0U3RhdGUgPSBDb250cmFjdFN0YXRlLkJ1eWJhY2tQYXVzZWQ7CiAgICAgIFN0YXRlKGNvbnRyYWN0U3RhdGUpOwogIH0KCiAgLyoqCiAgICogRGVzdHJveSB0aGUgY29udHJhY3QgYW5kIHNlbmQgYWxsIEV0aGVyIHRvIHRoZSBvd25lci4KICAgKiBUaGUgY29udHJhY3QgbXVzdCBiZSBpbiB0aGUgQnV5YmFja1BhdXNlZCBzdGF0ZS4KICAgKgogICAqIFJlc3RyaWN0ZWQgdG8gdGhlIG93bmVyLgogICAqLwogIGZ1bmN0aW9uIGRlc3Ryb3lDb250cmFjdCgpIG9ubHlPd25lciBleHRlcm5hbCB7CiAgICAgIHJlcXVpcmUoY29udHJhY3RTdGF0ZSA9PSBDb250cmFjdFN0YXRlLkJ1eWJhY2tQYXVzZWQpOwoKICAgICAgY29udHJhY3RTdGF0ZSA9IENvbnRyYWN0U3RhdGUuRGVzdHJveWVkOwogICAgICBTdGF0ZShjb250cmFjdFN0YXRlKTsKCiAgICAgIHNlbGZkZXN0cnVjdChvd25lcik7ICAvLyBzZW5kIGFsbCBtb25leSB0byB0aGUgb3duZXIgYW5kIGRlc3Ryb3kgdGhlIGNvbnRyYWN0IQogIH0KCn0gLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGVuZCBvZiBjb250cmFjdCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tICov'.
	

]
