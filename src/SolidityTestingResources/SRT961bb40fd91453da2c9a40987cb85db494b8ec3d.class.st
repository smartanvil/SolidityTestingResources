Class {
	#name : #SRT961bb40fd91453da2c9a40987cb85db494b8ec3d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT961bb40fd91453da2c9a40987cb85db494b8ec3d >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgppbnRlcmZhY2UgTWFuYWdlZFRva2VuewogICAgZnVuY3Rpb24gc2V0TG9jayhib29sIF9uZXdMb2NrU3RhdGUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gbWludChhZGRyZXNzIF9mb3IsIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBkZW1pbnQoYWRkcmVzcyBfZm9yLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gZGVjaW1hbHMoKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50OCBkZWNEaWdpdHMpOwogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IHN1cHBseSk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7Cn0KICAKY29udHJhY3QgSGFyZGNvZGVkQ3Jvd2RzYWxlIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIC8vZ2xvYmFsIGRlZmluaXNpb25zCgogICAgZW51bSBJQ09TdGF0ZUVudW0ge05vdFN0YXJ0ZWQsIFN0YXJ0ZWQsIFJlZnVuZGVkLCBTdWNjZXNzZnVsfQoKICAgIGFkZHJlc3MgcHVibGljIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIE1hbmFnZWRUb2tlbiBwdWJsaWMgbWFuYWdlZFRva2VuTGVkZ2VyOwoKICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJUb2tlbnNhbGUgb2YgQ1BMIjsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIkNQTCI7CgogICAgYm9vbCBwdWJsaWMgaGFsdGVkID0gZmFsc2U7CiAgICAgCiAgICB1aW50MjU2IHB1YmxpYyBtaW5Ub2tlbnNUb0J1eSA9IDcwMDsKICAgIAogICAgdWludDI1NiBwdWJsaWMgcHJlSUNPY29udHJpYnV0b3JzID0gMDsKCiAgICB1aW50MjU2IHB1YmxpYyBwcmVJQ09zdGFydDsKICAgIHVpbnQyNTYgcHVibGljIHByZUlDT2VuZDsKICAgIHVpbnQyNTYgcHVibGljIHByZUlDT2dvYWw7CiAgICB1aW50MjU2IHB1YmxpYyBwcmVJQ09jb2xsZWN0ZWQgPSAwOwogICAgdWludDI1NiBwdWJsaWMgcHJlSUNPY2FwID0gMCBldGhlcjsKICAgIHVpbnQyNTYgcHVibGljIHByZUlDT3Rva2Vuc1NvbGQgPSAwOwogICAgSUNPU3RhdGVFbnVtIHB1YmxpYyBwcmVJQ09zdGF0ZSA9IElDT1N0YXRlRW51bS5Ob3RTdGFydGVkOwogICAgCiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSA5OwogICAgdWludDI1NiBwdWJsaWMgREVDSU1BTF9NVUxUSVBMSUVSID0gMTAqKnVpbnQyNTYoZGVjaW1hbHMpOwoKICAgIHVpbnQ4IHB1YmxpYyBzYWxlSW5kZXggPSAwOwogCiAgICB1aW50MjU2IHB1YmxpYyBwcmVJQ09wcmljZSA9IHVpbnQyNTYoMSBldGhlcikuZGl2KDEwMDApOwogICAgdWludDI1NlszXSBwdWJsaWMgcHJlSUNPYm9udXNNdWx0aXBpZXJzSW5QZXJjZW50ID0gWzE1MCwgMTQ1LCAxNDBdOwogICAgdWludDI1NlszXSBwdWJsaWMgcHJlSUNPY29pbnNMZWZ0ID0gWzEwMDAwMDAqREVDSU1BTF9NVUxUSVBMSUVSLCAxMDAwMDAwKkRFQ0lNQUxfTVVMVElQTElFUiwgMTAwMDAwMCpERUNJTUFMX01VTFRJUExJRVJdOwogICAgdWludDI1NiBwdWJsaWMgdG90YWxQcmVJQ09hdmFpbGlibGVXaXRoQm9udXMgPSA0MzUwMDAwKkRFQ0lNQUxfTVVMVElQTElFUjsgCiAgICB1aW50MjU2IHB1YmxpYyBtYXhJc3N1ZWRXaXRoQW1vdW50QmFzZWRCb251cyA9IDQ2NTAwMDAqREVDSU1BTF9NVUxUSVBMSUVSOyAKICAgIHVpbnQyNTZbNF0gcHVibGljIHByZUlDT2Ftb3VudEJvbnVzTGltaXRzID0gWzUgZXRoZXIsIDIwIGV0aGVyLCA1MCBldGhlciwgMzAwIGV0aGVyXTsKICAgIHVpbnQyNTZbNF0gcHVibGljIHByZUlDT2Ftb3VudEJvbnVzTXVsdGlwaWVySW5QZXJjZW50ID0gWzEwMywgMTA1LCAxMDcsIDExMF07CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyB3ZWlGb3JSZWZ1bmRQcmVJQ087CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyB3ZWlUb1JlY292ZXJQcmVJQ087CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlc0ZvclByZUlDTzsKCiAgICBldmVudCBQdXJjaGFzZWQoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCB1aW50MjU2IF92YWx1ZSk7CgogICAgZnVuY3Rpb24gYWR2YW5jZVN0YXRlKCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHRyYW5zaXRpb25TdGF0ZSgpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zaXRpb25TdGF0ZSgpIGludGVybmFsIHsKICAgICAgICBpZiAobm93ID49IHByZUlDT3N0YXJ0KSB7CiAgICAgICAgICAgIGlmIChwcmVJQ09zdGF0ZSA9PSBJQ09TdGF0ZUVudW0uTm90U3RhcnRlZCkgewogICAgICAgICAgICAgICAgcHJlSUNPc3RhdGUgPSBJQ09TdGF0ZUVudW0uU3RhcnRlZDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocHJlSUNPY2FwID4gMCAmJiBwcmVJQ09jb2xsZWN0ZWQgPj0gcHJlSUNPY2FwKSB7CiAgICAgICAgICAgICAgICBwcmVJQ09zdGF0ZSA9IElDT1N0YXRlRW51bS5TdWNjZXNzZnVsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICggKHNhbGVJbmRleCA9PSBwcmVJQ09jb2luc0xlZnQubGVuZ3RoKSAmJiAocHJlSUNPY29pbnNMZWZ0W3NhbGVJbmRleC0xXSA9PSAwKSApIHsKICAgICAgICAgICAgICAgIHByZUlDT3N0YXRlID0gSUNPU3RhdGVFbnVtLlN1Y2Nlc3NmdWw7CiAgICAgICAgICAgIH0KICAgICAgICB9IGlmIChub3cgPj0gcHJlSUNPZW5kKSB7CiAgICAgICAgICAgIGlmIChwcmVJQ09zdGF0ZSA9PSBJQ09TdGF0ZUVudW0uU3RhcnRlZCkgewogICAgICAgICAgICAgICAgaWYgKHByZUlDT2NvbGxlY3RlZCA+PSBwcmVJQ09nb2FsKSB7CiAgICAgICAgICAgICAgICAgICAgcHJlSUNPc3RhdGUgPSBJQ09TdGF0ZUVudW0uU3VjY2Vzc2Z1bDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcHJlSUNPc3RhdGUgPSBJQ09TdGF0ZUVudW0uUmVmdW5kZWQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IAogICAgfQoKICAgIG1vZGlmaWVyIHN0YXRlVHJhbnNpdGlvbigpIHsKICAgICAgICB0cmFuc2l0aW9uU3RhdGUoKTsKICAgICAgICBfOwogICAgICAgIHRyYW5zaXRpb25TdGF0ZSgpOwogICAgfQoKICAgIG1vZGlmaWVyIG5vdEhhbHRlZCgpIHsKICAgICAgICByZXF1aXJlKCFoYWx0ZWQpOwogICAgICAgIF87CiAgICB9CgogICAgLy8gT3duZXJzaGlwCgogICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOyAgICAgIAogICAgICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBtYW5hZ2VkVG9rZW5MZWRnZXIuYmFsYW5jZU9mKF9vd25lcik7CiAgICB9CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gbWFuYWdlZFRva2VuTGVkZ2VyLnRvdGFsU3VwcGx5KCk7CiAgICB9CgoKICAgIGZ1bmN0aW9uIEhhcmRjb2RlZENyb3dkc2FsZSAodWludCBfcHJlSUNPc3RhcnQsIHVpbnQgX3ByZUlDT2VuZCwgdWludCBfcHJlSUNPZ29hbCwgdWludCBfcHJlSUNPY2FwLCBhZGRyZXNzIF9uZXdMZWRnZXJBZGRyZXNzKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX3ByZUlDT3N0YXJ0ID4gbm93KTsKICAgICAgICByZXF1aXJlKF9wcmVJQ09lbmQgPiBfcHJlSUNPc3RhcnQpOwogICAgICAgIHJlcXVpcmUoX3ByZUlDT2dvYWwgPiAwKTsKICAgICAgICByZXF1aXJlKF9uZXdMZWRnZXJBZGRyZXNzICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHByZUlDT3N0YXJ0ID0gX3ByZUlDT3N0YXJ0OwogICAgICAgIHByZUlDT2VuZCA9IF9wcmVJQ09lbmQ7CiAgICAgICAgcHJlSUNPZ29hbCA9IF9wcmVJQ09nb2FsOwogICAgICAgIHByZUlDT2NhcCA9IF9wcmVJQ09jYXA7CiAgICAgICAgbWFuYWdlZFRva2VuTGVkZ2VyID0gTWFuYWdlZFRva2VuKF9uZXdMZWRnZXJBZGRyZXNzKTsKICAgICAgICBhc3NlcnQobWFuYWdlZFRva2VuTGVkZ2VyLmRlY2ltYWxzKCkgPT0gZGVjaW1hbHMpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldE5hbWVBbmRUaWNrZXIoc3RyaW5nIF9uYW1lLCBzdHJpbmcgX3N5bWJvbCkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKGJ5dGVzKF9uYW1lKS5sZW5ndGggPiAxKTsKICAgICAgICByZXF1aXJlKGJ5dGVzKF9zeW1ib2wpLmxlbmd0aCA+IDEpOwogICAgICAgIG5hbWUgPSBfbmFtZTsKICAgICAgICBzeW1ib2wgPSBfc3ltYm9sOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldExlZGdlciAoYWRkcmVzcyBfbmV3TGVkZ2VyQWRkcmVzcykgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKF9uZXdMZWRnZXJBZGRyZXNzICE9IGFkZHJlc3MoMCkpOwogICAgICAgIG1hbmFnZWRUb2tlbkxlZGdlciA9IE1hbmFnZWRUb2tlbihfbmV3TGVkZ2VyQWRkcmVzcyk7CiAgICAgICAgYXNzZXJ0KG1hbmFnZWRUb2tlbkxlZGdlci5kZWNpbWFscygpID09IGRlY2ltYWxzKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHN0YXRlVHJhbnNpdGlvbiBub3RIYWx0ZWQgZXh0ZXJuYWwgewogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID4gMCk7CiAgICAgICAgcmVxdWlyZShwcmVJQ09zdGF0ZSA9PSBJQ09TdGF0ZUVudW0uU3RhcnRlZCk7CiAgICAgICAgYXNzZXJ0KHByZUlDT0J1eSgpKTsKICAgIH0KCiAgICAKICAgIGZ1bmN0aW9uIGZpbmFsaXplKCkgc3RhdGVUcmFuc2l0aW9uIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKHByZUlDT3N0YXRlID09IElDT1N0YXRlRW51bS5TdWNjZXNzZnVsKTsKICAgICAgICBvd25lci50cmFuc2ZlcihwcmVJQ09jb2xsZWN0ZWQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldEhhbHQoYm9vbCBfaGFsdCkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBoYWx0ZWQgPSBfaGFsdDsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBjYWxjdWxhdGVBbW91bnRCb3VnaHRQcmVJQ08odWludDI1NiBfd2Vpc1NlbnRTY2FsZWQsIHVpbnQyNTYgX2Ftb3VudEJvbnVzTXVsdGlwbGllcikgCiAgICAgICAgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiBfdG9rZW5zVG9CdXlTY2FsZWQsIHVpbnQyNTYgX3dlaXNMZWZ0U2NhbGVkKSB7CiAgICAgICAgdWludDI1NiB2YWx1ZSA9IF93ZWlzU2VudFNjYWxlZDsKICAgICAgICB1aW50MjU2IHRvdGFsUHVyY2hhc2VkID0gMDsKICAgICAgICBmb3IgKHVpbnQ4IGkgPSBzYWxlSW5kZXg7IGkgPCBwcmVJQ09jb2luc0xlZnQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKHByZUlDT2NvaW5zTGVmdFtpXSA9PSAwKSB7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICB1aW50MjU2IGZvclRoaXNSYXRlID0gdmFsdWUuZGl2KHByZUlDT3ByaWNlKTsKICAgICAgICAgICAgaWYgKGZvclRoaXNSYXRlID09IDApIHsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChmb3JUaGlzUmF0ZSA+PSBwcmVJQ09jb2luc0xlZnRbaV0pIHsKICAgICAgICAgICAgICAgIGZvclRoaXNSYXRlID0gcHJlSUNPY29pbnNMZWZ0W2ldOwogICAgICAgICAgICAgICAgcHJlSUNPY29pbnNMZWZ0W2ldID0gMDsKICAgICAgICAgICAgICAgIHNhbGVJbmRleCA9IGkrMTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHByZUlDT2NvaW5zTGVmdFtpXSA9IHByZUlDT2NvaW5zTGVmdFtpXS5zdWIoZm9yVGhpc1JhdGUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHVpbnQyNTYgY29uc3VtZWQgPSBmb3JUaGlzUmF0ZS5tdWwocHJlSUNPcHJpY2UpOwogICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnN1Yihjb25zdW1lZCk7CiAgICAgICAgICAgIGZvclRoaXNSYXRlID0gZm9yVGhpc1JhdGUubXVsKF9hbW91bnRCb251c011bHRpcGxpZXIuYWRkKHByZUlDT2JvbnVzTXVsdGlwaWVyc0luUGVyY2VudFtpXSkuc3ViKDEwMCkpLmRpdigxMDApOwogICAgICAgICAgICB0b3RhbFB1cmNoYXNlZCA9IHRvdGFsUHVyY2hhc2VkLmFkZChmb3JUaGlzUmF0ZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiAodG90YWxQdXJjaGFzZWQsIHZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRCb251c011bHRpcGllckluUGVyY2VudHModWludDI1NiBfc2VudEFtb3VudCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBfbXVsdGkpIHsKICAgICAgICB1aW50MjU2IGJvbnVzTXVsdGlwbGllciA9IDEwMDsKICAgICAgICBmb3IgKHVpbnQ4IGkgPSAwOyBpIDwgcHJlSUNPYW1vdW50Qm9udXNMaW1pdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKF9zZW50QW1vdW50IDwgcHJlSUNPYW1vdW50Qm9udXNMaW1pdHNbaV0pIHsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYm9udXNNdWx0aXBsaWVyID0gcHJlSUNPYW1vdW50Qm9udXNNdWx0aXBpZXJJblBlcmNlbnRbaV07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGJvbnVzTXVsdGlwbGllcjsKICAgIH0KCiAgICBmdW5jdGlvbiBwcmVJQ09CdXkoKSBpbnRlcm5hbCBub3RIYWx0ZWQgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgdWludDI1NiB3ZWlzU2VudFNjYWxlZCA9IG1zZy52YWx1ZS5tdWwoREVDSU1BTF9NVUxUSVBMSUVSKTsKICAgICAgICBhZGRyZXNzIF9mb3IgPSBtc2cuc2VuZGVyOwogICAgICAgIHVpbnQyNTYgYW1vdW50Qm9udXMgPSBnZXRCb251c011bHRpcGllckluUGVyY2VudHMobXNnLnZhbHVlKTsKICAgICAgICB2YXIgKHRva2Vuc0JvdWdodCwgZnVuZHNMZWZ0U2NhbGVkKSA9IGNhbGN1bGF0ZUFtb3VudEJvdWdodFByZUlDTyh3ZWlzU2VudFNjYWxlZCwgYW1vdW50Qm9udXMpOwogICAgICAgIGlmICh0b2tlbnNCb3VnaHQgPCBtaW5Ub2tlbnNUb0J1eS5tdWwoREVDSU1BTF9NVUxUSVBMSUVSKSkgewogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICB9CiAgICAgICAgdWludDI1NiBmdW5kc0xlZnQgPSBmdW5kc0xlZnRTY2FsZWQuZGl2KERFQ0lNQUxfTVVMVElQTElFUik7CiAgICAgICAgdWludDI1NiB0b3RhbFNwZW50ID0gbXNnLnZhbHVlLnN1YihmdW5kc0xlZnQpOwogICAgICAgIGlmIChiYWxhbmNlT2YoX2ZvcikgPT0gMCkgewogICAgICAgICAgICBwcmVJQ09jb250cmlidXRvcnMgPSBwcmVJQ09jb250cmlidXRvcnMgKyAxOwogICAgICAgIH0KICAgICAgICBtYW5hZ2VkVG9rZW5MZWRnZXIubWludChfZm9yLCB0b2tlbnNCb3VnaHQpOwogICAgICAgIGJhbGFuY2VzRm9yUHJlSUNPW19mb3JdID0gYmFsYW5jZXNGb3JQcmVJQ09bX2Zvcl0uYWRkKHRva2Vuc0JvdWdodCk7CiAgICAgICAgd2VpRm9yUmVmdW5kUHJlSUNPW19mb3JdID0gd2VpRm9yUmVmdW5kUHJlSUNPW19mb3JdLmFkZCh0b3RhbFNwZW50KTsKICAgICAgICB3ZWlUb1JlY292ZXJQcmVJQ09bX2Zvcl0gPSB3ZWlUb1JlY292ZXJQcmVJQ09bX2Zvcl0uYWRkKGZ1bmRzTGVmdCk7CiAgICAgICAgUHVyY2hhc2VkKF9mb3IsIHRva2Vuc0JvdWdodCk7CiAgICAgICAgcHJlSUNPY29sbGVjdGVkID0gcHJlSUNPY29sbGVjdGVkLmFkZCh0b3RhbFNwZW50KTsKICAgICAgICBwcmVJQ090b2tlbnNTb2xkID0gcHJlSUNPdG9rZW5zU29sZC5hZGQodG9rZW5zQm91Z2h0KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiByZWNvdmVyTGVmdG92ZXJzUHJlSUNPKCkgc3RhdGVUcmFuc2l0aW9uIG5vdEhhbHRlZCBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShwcmVJQ09zdGF0ZSAhPSBJQ09TdGF0ZUVudW0uTm90U3RhcnRlZCk7CiAgICAgICAgdWludDI1NiB2YWx1ZSA9IHdlaVRvUmVjb3ZlclByZUlDT1ttc2cuc2VuZGVyXTsKICAgICAgICBkZWxldGUgd2VpVG9SZWNvdmVyUHJlSUNPW21zZy5zZW5kZXJdOwogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIodmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlZnVuZFByZUlDTygpIHN0YXRlVHJhbnNpdGlvbiBub3RIYWx0ZWQgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUocHJlSUNPc3RhdGUgPT0gSUNPU3RhdGVFbnVtLlJlZnVuZGVkKTsKICAgICAgICB1aW50MjU2IHZhbHVlID0gd2VpRm9yUmVmdW5kUHJlSUNPW21zZy5zZW5kZXJdOwogICAgICAgIGRlbGV0ZSB3ZWlGb3JSZWZ1bmRQcmVJQ09bbXNnLnNlbmRlcl07CiAgICAgICAgdWludDI1NiB0b2tlblZhbHVlID0gYmFsYW5jZXNGb3JQcmVJQ09bbXNnLnNlbmRlcl07CiAgICAgICAgZGVsZXRlIGJhbGFuY2VzRm9yUHJlSUNPW21zZy5zZW5kZXJdOwogICAgICAgIG1hbmFnZWRUb2tlbkxlZGdlci5kZW1pbnQobXNnLnNlbmRlciwgdG9rZW5WYWx1ZSk7CiAgICAgICAgbXNnLnNlbmRlci50cmFuc2Zlcih2YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gY2xlYW51cCgpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUocHJlSUNPc3RhdGUgPT0gSUNPU3RhdGVFbnVtLlN1Y2Nlc3NmdWwpOwogICAgICAgIHNlbGZkZXN0cnVjdChvd25lcik7CiAgICB9Cgp9'.
	

]
