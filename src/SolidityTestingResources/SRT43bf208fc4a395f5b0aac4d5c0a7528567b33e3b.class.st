Class {
	#name : #SRT43bf208fc4a395f5b0aac4d5c0a7528567b33e3b,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT43bf208fc4a395f5b0aac4d5c0a7528567b33e3b >> base64 [
	^ 'Ly8gQXV0aG9yIDogc2hpZnQKCnByYWdtYSBzb2xpZGl0eSBeMC40LjE4OwoKLy8tLS0tLS0tLS0gT3BlblplcHBlbGluJ3MgU2FmZSBNYXRoCi8vU291cmNlIDogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9ibG9iL21hc3Rlci9jb250cmFjdHMvbWF0aC9TYWZlTWF0aC5zb2wKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gRVJDMjAgSW50ZXJmYWNlOiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKY29udHJhY3QgRVJDMjAgewogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7Cn0KCi8qCiAgVGhpcyBjb250cmFjdCBzdG9yZXMgdHdpY2UgZXZlcnkga2V5IHZhbHVlIGluIG9yZGVyIHRvIGJlIGFibGUgdG8gcmVkaXN0cmlidXRlIGZ1bmRzCiAgd2hlbiB0aGUgYm9udXMgdG9rZW5zIGFyZSByZWNlaXZlZCAod2hpY2ggaXMgdHlwaWNhbGx5IFggbW9udGhzIGFmdGVyIHRoZSBpbml0aWFsIGJ1eSkuCiovCgpjb250cmFjdCBNb29uZ2FuZyB7CgogIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIG1pbkFtb3VudFJlYWNoZWQgewogICAgLy9JbiByZWFsaXR5LCB0aGUgY29ycmVjdCBhbW91bnQgaXMgdGhlIGFtb3VudCArIDElCiAgICB1aW50MjU2IGNvcnJlY3RfYW1vdW50ID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChtaW5fYW1vdW50LCAxMDApLCA5OSk7CiAgICByZXF1aXJlKHRoaXMuYmFsYW5jZSA+PSBjb3JyZWN0X2Ftb3VudCk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgdW5kZXJNYXhBbW91bnQgewogICAgdWludDI1NiBjb3JyZWN0X2Ftb3VudCA9IFNhZmVNYXRoLmRpdihTYWZlTWF0aC5tdWwobWF4X2Ftb3VudCwgMTAwKSwgOTkpOwogICAgcmVxdWlyZShtYXhfYW1vdW50ID09IDAgfHwgdGhpcy5iYWxhbmNlIDw9IGNvcnJlY3RfYW1vdW50KTsKICAgIF87CiAgfQoKICAvL0NvbnN0YW50cyBvZiB0aGUgY29udHJhY3QKICB1aW50MjU2IGNvbnN0YW50IEZFRSA9IDEwMDsgICAgLy8xJSBmZWUKICB1aW50MjU2IGNvbnN0YW50IEZFRV9ERVYgPSBTYWZlTWF0aC5kaXYoMjAsIDMpOyAvLzE1JSBvbiB0aGUgMSUgZmVlCiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgYWRkcmVzcyBjb25zdGFudCBwdWJsaWMgZGV2ZWxvcGVyID0gMHhFRTA2QmREYWZGQTU2YTMwMzcxOERFNTNBNWJjMzQ3RWZiRTRDNjhmOwogIHVpbnQyNTYgaW5kaXZpZHVhbF9jYXA7CgogIC8vVmFyaWFibGVzIHN1YmplY3QgdG8gY2hhbmdlcwogIHVpbnQyNTYgcHVibGljIG1heF9hbW91bnQ7ICAvLzAgbWVhbnMgdGhlcmUgaXMgbm8gbGltaXQKICB1aW50MjU2IHB1YmxpYyBtaW5fYW1vdW50OwoKICAvL1N0b3JlIHRoZSBhbW91bnQgb2YgRVRIIGRlcG9zaXRlZCBieSBlYWNoIGFjY291bnQuCiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZXM7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZXNfYm9udXM7CiAgLy8gVHJhY2sgd2hldGhlciB0aGUgY29udHJhY3QgaGFzIGJvdWdodCB0aGUgdG9rZW5zIHlldC4KICBib29sIHB1YmxpYyBib3VnaHRfdG9rZW5zID0gZmFsc2U7CiAgLy8gUmVjb3JkIEVUSCB2YWx1ZSBvZiB0b2tlbnMgY3VycmVudGx5IGhlbGQgYnkgY29udHJhY3QuCiAgdWludDI1NiBwdWJsaWMgY29udHJhY3RfZXRoX3ZhbHVlOwogIHVpbnQyNTYgcHVibGljIGNvbnRyYWN0X2V0aF92YWx1ZV9ib251czsKICAvL1NldCBieSB0aGUgb3duZXIgaW4gb3JkZXIgdG8gYWxsb3cgdGhlIHdpdGhkcmF3YWwgb2YgYm9udXMgdG9rZW5zLgogIGJvb2wgYm9udXNfcmVjZWl2ZWQ7CiAgLy9UaGUgYWRkcmVzcyBvZiB0aGUgY29udGFjdC4KICBhZGRyZXNzIHB1YmxpYyBzYWxlOwogIC8vVG9rZW4gYWRkcmVzcwogIEVSQzIwIHB1YmxpYyB0b2tlbjsKICAvL1JlY29yZHMgdGhlIGZlZXMgdGhhdCBoYXZlIHRvIGJlIHNlbnQKICB1aW50MjU2IGZlZXM7CiAgLy9TZXQgYnkgdGhlIG93bmVyLiBBbGxvd3MgcGVvcGxlIHRvIHJlZnVuZCB0b3RhbGx5IG9yIHBhcnRpYWxseS4KICBib29sIHB1YmxpYyBhbGxvd19yZWZ1bmRzOwogIC8vVGhlIHJlZHVjdGlvbiBvZiB0aGUgYWxsb2NhdGlvbiBpbiAlIHwgZXhhbXBsZSA6IDQwIC0+IDQwJSByZWR1Y3Rpb24KICB1aW50MjU2IHBlcmNlbnRfcmVkdWN0aW9uOwogIAogIC8vSW50ZXJuYWwgZnVuY3Rpb25zCiAgZnVuY3Rpb24gTW9vbmdhbmcodWludDI1NiBtYXgsIHVpbnQyNTYgbWluLCB1aW50MjU2IGNhcCkgewogICAgLyoKICAgIENvbnN0cnVjdG9yCiAgICAqLwogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgbWF4X2Ftb3VudCA9IG1heDsKICAgIG1pbl9hbW91bnQgPSBtaW47CiAgICBpbmRpdmlkdWFsX2NhcCA9IGNhcDsKICB9CgogIC8vRnVuY3Rpb25zIGZvciB0aGUgb3duZXIKCiAgLy8gQnV5IHRoZSB0b2tlbnMuIFNlbmRzIEVUSCB0byB0aGUgcHJlc2FsZSB3YWxsZXQgYW5kIHJlY29yZHMgdGhlIEVUSCBhbW91bnQgaGVsZCBpbiB0aGUgY29udHJhY3QuCiAgZnVuY3Rpb24gYnV5X3RoZV90b2tlbnMoKSBvbmx5T3duZXIgbWluQW1vdW50UmVhY2hlZCB1bmRlck1heEFtb3VudCB7CiAgICByZXF1aXJlKCFib3VnaHRfdG9rZW5zKTsKICAgIC8vQXZvaWRzIGJ1cm5pbmcgdGhlIGZ1bmRzCiAgICByZXF1aXJlKHNhbGUgIT0gMHgwKTsKICAgIC8vUmVjb3JkIHRoYXQgdGhlIGNvbnRyYWN0IGhhcyBib3VnaHQgdGhlIHRva2Vucy4KICAgIGJvdWdodF90b2tlbnMgPSB0cnVlOwogICAgLy9TZW5kcyB0aGUgZmVlIGJlZm9yZSBzbyB0aGUgY29udHJhY3RfZXRoX3ZhbHVlIGNvbnRhaW5zIHRoZSBjb3JyZWN0IGJhbGFuY2UKICAgIHVpbnQyNTYgZGV2X2ZlZSA9IFNhZmVNYXRoLmRpdihmZWVzLCBGRUVfREVWKTsKICAgIG93bmVyLnRyYW5zZmVyKFNhZmVNYXRoLnN1YihmZWVzLCBkZXZfZmVlKSk7CiAgICBkZXZlbG9wZXIudHJhbnNmZXIoZGV2X2ZlZSk7CiAgICAvL1JlY29yZCB0aGUgYW1vdW50IG9mIEVUSCBzZW50IGFzIHRoZSBjb250cmFjdCdzIGN1cnJlbnQgdmFsdWUuCiAgICBjb250cmFjdF9ldGhfdmFsdWUgPSB0aGlzLmJhbGFuY2U7CiAgICBjb250cmFjdF9ldGhfdmFsdWVfYm9udXMgPSB0aGlzLmJhbGFuY2U7CiAgICAvLyBUcmFuc2ZlciBhbGwgdGhlIGZ1bmRzIHRvIHRoZSBjcm93ZHNhbGUgYWRkcmVzcy4KICAgIHNhbGUudHJhbnNmZXIoY29udHJhY3RfZXRoX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIGZvcmNlX3JlZnVuZChhZGRyZXNzIF90b19yZWZ1bmQpIG9ubHlPd25lciB7CiAgICB1aW50MjU2IGV0aF90b193aXRoZHJhdyA9IFNhZmVNYXRoLmRpdihTYWZlTWF0aC5tdWwoYmFsYW5jZXNbX3RvX3JlZnVuZF0sIDEwMCksIDk5KTsKICAgIGJhbGFuY2VzW190b19yZWZ1bmRdID0gMDsKICAgIGJhbGFuY2VzX2JvbnVzW190b19yZWZ1bmRdID0gMDsKICAgIGZlZXMgPSBTYWZlTWF0aC5zdWIoZmVlcywgU2FmZU1hdGguZGl2KGV0aF90b193aXRoZHJhdywgRkVFKSk7CiAgICBfdG9fcmVmdW5kLnRyYW5zZmVyKGV0aF90b193aXRoZHJhdyk7CiAgfQoKICBmdW5jdGlvbiBmb3JjZV9wYXJ0aWFsX3JlZnVuZChhZGRyZXNzIF90b19yZWZ1bmQpIG9ubHlPd25lciB7CiAgICByZXF1aXJlKGFsbG93X3JlZnVuZHMgJiYgcGVyY2VudF9yZWR1Y3Rpb24gPiAwKTsKICAgIC8vQW1vdW50IHRvIHJlZnVuZCBpcyB0aGUgYW1vdW50IG1pbnVzIHRoZSBYJSBvZiB0aGUgcmVkdWN0aW9uCiAgICAvL2Ftb3VudF90b19yZWZ1bmQgPSBiYWxhbmNlKlgKICAgIHVpbnQyNTYgYmFzaWNfYW1vdW50ID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChiYWxhbmNlc1tfdG9fcmVmdW5kXSwgcGVyY2VudF9yZWR1Y3Rpb24pLCAxMDApOwogICAgdWludDI1NiBldGhfdG9fd2l0aGRyYXcgPSBiYXNpY19hbW91bnQ7CiAgICBpZiAoIWJvdWdodF90b2tlbnMpIHsKICAgICAgLy9XZSBoYXZlIHRvIHRha2UgaW4gYWNjb3VudCB0aGUgcGFydGlhbCByZWZ1bmQgb2YgdGhlIGZlZSB0b28gaWYgdGhlIHRva2VucyB3ZXJlbid0IGJvdWdodCB5ZXQKICAgICAgZXRoX3RvX3dpdGhkcmF3ID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChiYXNpY19hbW91bnQsIDEwMCksIDk5KTsKICAgICAgZmVlcyA9IFNhZmVNYXRoLnN1YihmZWVzLCBTYWZlTWF0aC5kaXYoZXRoX3RvX3dpdGhkcmF3LCBGRUUpKTsKICAgIH0KICAgIGJhbGFuY2VzW190b19yZWZ1bmRdID0gU2FmZU1hdGguc3ViKGJhbGFuY2VzW190b19yZWZ1bmRdLCBldGhfdG9fd2l0aGRyYXcpOwogICAgYmFsYW5jZXNfYm9udXNbX3RvX3JlZnVuZF0gPSBiYWxhbmNlc1tfdG9fcmVmdW5kXTsKICAgIF90b19yZWZ1bmQudHJhbnNmZXIoZXRoX3RvX3dpdGhkcmF3KTsKICB9CgogIGZ1bmN0aW9uIHNldF9zYWxlX2FkZHJlc3MoYWRkcmVzcyBfc2FsZSkgb25seU93bmVyIHsKICAgIC8vQXZvaWQgbWlzdGFrZSBvZiBwdXR0aW5nIDB4MCBhbmQgY2FuJ3QgY2hhbmdlIHR3aWNlIHRoZSBzYWxlIGFkZHJlc3MKICAgIHJlcXVpcmUoX3NhbGUgIT0gMHgwICYmIHNhbGUgPT0gMHgwKTsKICAgIHNhbGUgPSBfc2FsZTsKICB9CgogIGZ1bmN0aW9uIHNldF90b2tlbl9hZGRyZXNzKGFkZHJlc3MgX3Rva2VuKSBvbmx5T3duZXIgewogICAgcmVxdWlyZShfdG9rZW4gIT0gMHgwKTsKICAgIHRva2VuID0gRVJDMjAoX3Rva2VuKTsKICB9CgogIGZ1bmN0aW9uIHNldF9ib251c19yZWNlaXZlZChib29sIF9ib29sZWFuKSBvbmx5T3duZXIgewogICAgYm9udXNfcmVjZWl2ZWQgPSBfYm9vbGVhbjsKICB9CgogIGZ1bmN0aW9uIHNldF9hbGxvd19yZWZ1bmRzKGJvb2wgX2Jvb2xlYW4pIG9ubHlPd25lciB7CiAgICAvKgogICAgSW4gY2FzZSwgZm9yIHNvbWUgcmVhc29ucywgdGhlIHByb2plY3QgcmVmdW5kcyB0aGUgbW9uZXkKICAgICovCiAgICBhbGxvd19yZWZ1bmRzID0gX2Jvb2xlYW47CiAgfQoKICBmdW5jdGlvbiBzZXRfcGVyY2VudF9yZWR1Y3Rpb24odWludDI1NiBfcmVkdWN0aW9uKSBvbmx5T3duZXIgewogICAgICBwZXJjZW50X3JlZHVjdGlvbiA9IF9yZWR1Y3Rpb247CiAgfQoKICBmdW5jdGlvbiBjaGFuZ2VfaW5kaXZpZHVhbF9jYXAodWludDI1NiBfY2FwKSBvbmx5T3duZXIgewogICAgaW5kaXZpZHVhbF9jYXAgPSBfY2FwOwogIH0KCiAgZnVuY3Rpb24gY2hhbmdlX293bmVyKGFkZHJlc3MgbmV3X293bmVyKSBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdfb3duZXIgIT0gMHgwKTsKICAgIG93bmVyID0gbmV3X293bmVyOwogIH0KCiAgZnVuY3Rpb24gY2hhbmdlX21heF9hbW91bnQodWludDI1NiBfYW1vdW50KSBvbmx5T3duZXIgewogICAgICAvL0FUVEVOVElPTiEgVGhlIG5ldyBhbW91bnQgc2hvdWxkIGJlIGluIHdlaQogICAgICAvL1VzZSBodHRwczovL2V0aGVyY29udmVydGVyLm9ubGluZS8KICAgICAgbWF4X2Ftb3VudCA9IF9hbW91bnQ7CiAgfQoKICBmdW5jdGlvbiBjaGFuZ2VfbWluX2Ftb3VudCh1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciB7CiAgICAgIC8vQVRURU5USU9OISBUaGUgbmV3IGFtb3VudCBzaG91bGQgYmUgaW4gd2VpCiAgICAgIC8vVXNlIGh0dHBzOi8vZXRoZXJjb252ZXJ0ZXIub25saW5lLwogICAgICBtaW5fYW1vdW50ID0gX2Ftb3VudDsKICB9CgogIC8vUHVibGljIGZ1bmN0aW9ucwoKICAvLyBBbGxvd3MgYW55IHVzZXIgdG8gd2l0aGRyYXcgaGlzIHRva2Vucy4KICBmdW5jdGlvbiB3aXRoZHJhdygpIHsKICAgIC8vIERpc2FsbG93IHdpdGhkcmF3IGlmIHRva2VucyBoYXZlbid0IGJlZW4gYm91Z2h0IHlldC4KICAgIHJlcXVpcmUoYm91Z2h0X3Rva2Vucyk7CiAgICB1aW50MjU2IGNvbnRyYWN0X3Rva2VuX2JhbGFuY2UgPSB0b2tlbi5iYWxhbmNlT2YoYWRkcmVzcyh0aGlzKSk7CiAgICAvLyBEaXNhbGxvdyB0b2tlbiB3aXRoZHJhd2FscyBpZiB0aGVyZSBhcmUgbm8gdG9rZW5zIHRvIHdpdGhkcmF3LgogICAgcmVxdWlyZShjb250cmFjdF90b2tlbl9iYWxhbmNlICE9IDApOwogICAgdWludDI1NiB0b2tlbnNfdG9fd2l0aGRyYXcgPSBTYWZlTWF0aC5kaXYoU2FmZU1hdGgubXVsKGJhbGFuY2VzW21zZy5zZW5kZXJdLCBjb250cmFjdF90b2tlbl9iYWxhbmNlKSwgY29udHJhY3RfZXRoX3ZhbHVlKTsKICAgIC8vIFVwZGF0ZSB0aGUgdmFsdWUgb2YgdG9rZW5zIGN1cnJlbnRseSBoZWxkIGJ5IHRoZSBjb250cmFjdC4KICAgIGNvbnRyYWN0X2V0aF92YWx1ZSA9IFNhZmVNYXRoLnN1Yihjb250cmFjdF9ldGhfdmFsdWUsIGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKICAgIC8vIFVwZGF0ZSB0aGUgdXNlcidzIGJhbGFuY2UgcHJpb3IgdG8gc2VuZGluZyB0byBwcmV2ZW50IHJlY3Vyc2l2ZSBjYWxsLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAwOwogICAgLy8gU2VuZCB0aGUgZnVuZHMuICBUaHJvd3Mgb24gZmFpbHVyZSB0byBwcmV2ZW50IGxvc3Mgb2YgZnVuZHMuCiAgICByZXF1aXJlKHRva2VuLnRyYW5zZmVyKG1zZy5zZW5kZXIsIHRva2Vuc190b193aXRoZHJhdykpOwogIH0KCiAgZnVuY3Rpb24gd2l0aGRyYXdfYm9udXMoKSB7CiAgLyoKICAgIFNwZWNpYWwgZnVuY3Rpb24gdG8gd2l0aGRyYXcgdGhlIGJvbnVzIHRva2VucyBhZnRlciB0aGUgNiBtb250aHMgbG9ja3VwLgogICAgYm9udXNfcmVjZWl2ZWQgaGFzIHRvIGJlIHNldCB0byB0cnVlLgogICovCiAgICByZXF1aXJlKGJvdWdodF90b2tlbnMgJiYgYm9udXNfcmVjZWl2ZWQpOwogICAgdWludDI1NiBjb250cmFjdF90b2tlbl9iYWxhbmNlID0gdG9rZW4uYmFsYW5jZU9mKGFkZHJlc3ModGhpcykpOwogICAgcmVxdWlyZShjb250cmFjdF90b2tlbl9iYWxhbmNlICE9IDApOwogICAgdWludDI1NiB0b2tlbnNfdG9fd2l0aGRyYXcgPSBTYWZlTWF0aC5kaXYoU2FmZU1hdGgubXVsKGJhbGFuY2VzX2JvbnVzW21zZy5zZW5kZXJdLCBjb250cmFjdF90b2tlbl9iYWxhbmNlKSwgY29udHJhY3RfZXRoX3ZhbHVlX2JvbnVzKTsKICAgIGNvbnRyYWN0X2V0aF92YWx1ZV9ib251cyA9IFNhZmVNYXRoLnN1Yihjb250cmFjdF9ldGhfdmFsdWVfYm9udXMsIGJhbGFuY2VzX2JvbnVzW21zZy5zZW5kZXJdKTsKICAgIGJhbGFuY2VzX2JvbnVzW21zZy5zZW5kZXJdID0gMDsKICAgIHJlcXVpcmUodG9rZW4udHJhbnNmZXIobXNnLnNlbmRlciwgdG9rZW5zX3RvX3dpdGhkcmF3KSk7CiAgfQogIAogIC8vIEFsbG93cyBhbnkgdXNlciB0byBnZXQgaGlzIGV0aCByZWZ1bmRlZCBiZWZvcmUgdGhlIHB1cmNoYXNlIGlzIG1hZGUuCiAgZnVuY3Rpb24gcmVmdW5kKCkgewogICAgcmVxdWlyZShhbGxvd19yZWZ1bmRzICYmIHBlcmNlbnRfcmVkdWN0aW9uID09IDApOwogICAgLy9iYWxhbmNlIG9mIGNvbnRyaWJ1dG9yID0gY29udHJpYnV0aW9uICogMC45OQogICAgLy9zbyBjb250cmlidXRpb24gPSBiYWxhbmNlLzAuOTkKICAgIHVpbnQyNTYgZXRoX3RvX3dpdGhkcmF3ID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChiYWxhbmNlc1ttc2cuc2VuZGVyXSwgMTAwKSwgOTkpOwogICAgLy8gVXBkYXRlIHRoZSB1c2VyJ3MgYmFsYW5jZSBwcmlvciB0byBzZW5kaW5nIEVUSCB0byBwcmV2ZW50IHJlY3Vyc2l2ZSBjYWxsLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAwOwogICAgLy9VcGRhdGVzIHRoZSBiYWxhbmNlc19ib251cyB0b28KICAgIGJhbGFuY2VzX2JvbnVzW21zZy5zZW5kZXJdID0gMDsKICAgIC8vVXBkYXRlcyB0aGUgZmVlcyB2YXJpYWJsZSBieSBzdWJzdHJhY3RpbmcgdGhlIHJlZnVuZGVkIGZlZQogICAgZmVlcyA9IFNhZmVNYXRoLnN1YihmZWVzLCBTYWZlTWF0aC5kaXYoZXRoX3RvX3dpdGhkcmF3LCBGRUUpKTsKICAgIC8vIFJldHVybiB0aGUgdXNlcidzIGZ1bmRzLiAgVGhyb3dzIG9uIGZhaWx1cmUgdG8gcHJldmVudCBsb3NzIG9mIGZ1bmRzLgogICAgbXNnLnNlbmRlci50cmFuc2ZlcihldGhfdG9fd2l0aGRyYXcpOwogIH0KCiAgLy9BbGxvd3MgYW55IHVzZXIgdG8gZ2V0IGEgcGFydCBvZiBoaXMgRVRIIHJlZnVuZGVkLCBpbiBwcm9wb3J0aW9uCiAgLy90byB0aGUgJSByZWR1Y2VkIG9mIHRoZSBhbGxvY2F0aW9uCiAgZnVuY3Rpb24gcGFydGlhbF9yZWZ1bmQoKSB7CiAgICByZXF1aXJlKGFsbG93X3JlZnVuZHMgJiYgcGVyY2VudF9yZWR1Y3Rpb24gPiAwKTsKICAgIC8vQW1vdW50IHRvIHJlZnVuZCBpcyB0aGUgYW1vdW50IG1pbnVzIHRoZSBYJSBvZiB0aGUgcmVkdWN0aW9uCiAgICAvL2Ftb3VudF90b19yZWZ1bmQgPSBiYWxhbmNlKlgKICAgIHVpbnQyNTYgYmFzaWNfYW1vdW50ID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChiYWxhbmNlc1ttc2cuc2VuZGVyXSwgcGVyY2VudF9yZWR1Y3Rpb24pLCAxMDApOwogICAgdWludDI1NiBldGhfdG9fd2l0aGRyYXcgPSBiYXNpY19hbW91bnQ7CiAgICBpZiAoIWJvdWdodF90b2tlbnMpIHsKICAgICAgLy9XZSBoYXZlIHRvIHRha2UgaW4gYWNjb3VudCB0aGUgcGFydGlhbCByZWZ1bmQgb2YgdGhlIGZlZSB0b28gaWYgdGhlIHRva2VucyB3ZXJlbid0IGJvdWdodCB5ZXQKICAgICAgZXRoX3RvX3dpdGhkcmF3ID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChiYXNpY19hbW91bnQsIDEwMCksIDk5KTsKICAgICAgZmVlcyA9IFNhZmVNYXRoLnN1YihmZWVzLCBTYWZlTWF0aC5kaXYoZXRoX3RvX3dpdGhkcmF3LCBGRUUpKTsKICAgIH0KICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gU2FmZU1hdGguc3ViKGJhbGFuY2VzW21zZy5zZW5kZXJdLCBldGhfdG9fd2l0aGRyYXcpOwogICAgYmFsYW5jZXNfYm9udXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXTsKICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoZXRoX3RvX3dpdGhkcmF3KTsKICB9CgogIC8vIERlZmF1bHQgZnVuY3Rpb24uICBDYWxsZWQgd2hlbiBhIHVzZXIgc2VuZHMgRVRIIHRvIHRoZSBjb250cmFjdC4KICBmdW5jdGlvbiAoKSBwYXlhYmxlIHVuZGVyTWF4QW1vdW50IHsKICAgIHJlcXVpcmUoIWJvdWdodF90b2tlbnMpOwogICAgLy8xJSBmZWUgaXMgdGFrZW4gb24gdGhlIEVUSAogICAgdWludDI1NiBmZWUgPSBTYWZlTWF0aC5kaXYobXNnLnZhbHVlLCBGRUUpOwogICAgZmVlcyA9IFNhZmVNYXRoLmFkZChmZWVzLCBmZWUpOwogICAgLy9VcGRhdGVzIGJvdGggb2YgdGhlIGJhbGFuY2VzCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IFNhZmVNYXRoLmFkZChiYWxhbmNlc1ttc2cuc2VuZGVyXSwgU2FmZU1hdGguc3ViKG1zZy52YWx1ZSwgZmVlKSk7CiAgICAvL0NoZWNrcyBpZiB0aGUgaW5kaXZpZHVhbCBjYXAgaXMgcmVzcGVjdGVkCiAgICAvL0lmIGl0J3Mgbm90LCBjaGFuZ2VzIGFyZSByZXZlcnRlZAogICAgcmVxdWlyZShpbmRpdmlkdWFsX2NhcCA9PSAwIHx8IGJhbGFuY2VzW21zZy5zZW5kZXJdIDw9IGluZGl2aWR1YWxfY2FwKTsKICAgIGJhbGFuY2VzX2JvbnVzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl07CiAgfQp9'.
	

]
