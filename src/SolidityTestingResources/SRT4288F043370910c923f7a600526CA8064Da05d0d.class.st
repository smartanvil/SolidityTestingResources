Class {
	#name : #SRT4288F043370910c923f7a600526CA8064Da05d0d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4288F043370910c923f7a600526CA8064Da05d0d >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIFRva2VuIFRydXN0ZWUgSW1wbGVtZW50YXRpb24KLy8KLy8gQ29weXJpZ2h0IChjKSAyMDE3IE9wZW5TVCBMdGQuCi8vIGh0dHBzOi8vc2ltcGxldG9rZW4ub3JnLwovLwovLyBUaGUgTUlUIExpY2VuY2UuCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gU2FmZU1hdGggTGlicmFyeSBJbXBsZW1lbnRhdGlvbgovLwovLyBDb3B5cmlnaHQgKGMpIDIwMTcgT3BlblNUIEx0ZC4KLy8gaHR0cHM6Ly9zaW1wbGV0b2tlbi5vcmcvCi8vCi8vIFRoZSBNSVQgTGljZW5jZS4KLy8KLy8gQmFzZWQgb24gdGhlIFNhZmVNYXRoIGxpYnJhcnkgYnkgdGhlIE9wZW5aZXBwZWxpbiB0ZWFtLgovLyBDb3B5cmlnaHQgKGMpIDIwMTYgU21hcnQgQ29udHJhY3QgU29sdXRpb25zLCBJbmMuCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkKLy8gVGhlIE1JVCBMaWNlbnNlLgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKbGlicmFyeSBTYWZlTWF0aCB7CgogICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhICogYjsKCiAgICAgICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKCiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICAgICAgdWludDI1NiBjID0gYSAvIGI7CgogICAgICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CgogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCgogICAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhICsgYjsKCiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CgogICAgICAgIHJldHVybiBjOwogICAgfQp9CgovLwovLyBJbXBsZW1lbnRzIGJhc2ljIG93bmVyc2hpcCB3aXRoIDItc3RlcCB0cmFuc2ZlcnMuCi8vCmNvbnRyYWN0IE93bmVkIHsKCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIGFkZHJlc3MgcHVibGljIHByb3Bvc2VkT3duZXI7CgogICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJJbml0aWF0ZWQoYWRkcmVzcyBpbmRleGVkIF9wcm9wb3NlZE93bmVyKTsKICAgIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVyQ29tcGxldGVkKGFkZHJlc3MgaW5kZXhlZCBfbmV3T3duZXIpOwoKCiAgICBmdW5jdGlvbiBPd25lZCgpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShpc093bmVyKG1zZy5zZW5kZXIpKTsKICAgICAgICBfOwogICAgfQoKCiAgICBmdW5jdGlvbiBpc093bmVyKGFkZHJlc3MgX2FkZHJlc3MpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiAoX2FkZHJlc3MgPT0gb3duZXIpOwogICAgfQoKCiAgICBmdW5jdGlvbiBpbml0aWF0ZU93bmVyc2hpcFRyYW5zZmVyKGFkZHJlc3MgX3Byb3Bvc2VkT3duZXIpIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHByb3Bvc2VkT3duZXIgPSBfcHJvcG9zZWRPd25lcjsKCiAgICAgICAgT3duZXJzaGlwVHJhbnNmZXJJbml0aWF0ZWQoX3Byb3Bvc2VkT3duZXIpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgZnVuY3Rpb24gY29tcGxldGVPd25lcnNoaXBUcmFuc2ZlcigpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHByb3Bvc2VkT3duZXIpOwoKICAgICAgICBvd25lciA9IHByb3Bvc2VkT3duZXI7CiAgICAgICAgcHJvcG9zZWRPd25lciA9IGFkZHJlc3MoMCk7CgogICAgICAgIE93bmVyc2hpcFRyYW5zZmVyQ29tcGxldGVkKG93bmVyKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0KCi8vCi8vIEltcGxlbWVudHMgYSBtb3JlIGFkdmFuY2VkIG93bmVyc2hpcCBhbmQgcGVybWlzc2lvbiBtb2RlbCBiYXNlZCBvbiBvd25lciwKLy8gYWRtaW4gYW5kIG9wcyBwZXIgU2ltcGxlIFRva2VuIGtleSBtYW5hZ2VtZW50IHNwZWNpZmljYXRpb24uCi8vCmNvbnRyYWN0IE9wc01hbmFnZWQgaXMgT3duZWQgewoKICAgIGFkZHJlc3MgcHVibGljIG9wc0FkZHJlc3M7CiAgICBhZGRyZXNzIHB1YmxpYyBhZG1pbkFkZHJlc3M7CgogICAgZXZlbnQgQWRtaW5BZGRyZXNzQ2hhbmdlZChhZGRyZXNzIGluZGV4ZWQgX25ld0FkZHJlc3MpOwogICAgZXZlbnQgT3BzQWRkcmVzc0NoYW5nZWQoYWRkcmVzcyBpbmRleGVkIF9uZXdBZGRyZXNzKTsKCgogICAgZnVuY3Rpb24gT3BzTWFuYWdlZCgpIHB1YmxpYwogICAgICAgIE93bmVkKCkKICAgIHsKICAgIH0KCgogICAgbW9kaWZpZXIgb25seUFkbWluKCkgewogICAgICAgIHJlcXVpcmUoaXNBZG1pbihtc2cuc2VuZGVyKSk7CiAgICAgICAgXzsKICAgIH0KCgogICAgbW9kaWZpZXIgb25seUFkbWluT3JPcHMoKSB7CiAgICAgICAgcmVxdWlyZShpc0FkbWluKG1zZy5zZW5kZXIpIHx8IGlzT3BzKG1zZy5zZW5kZXIpKTsKICAgICAgICBfOwogICAgfQoKCiAgICBtb2RpZmllciBvbmx5T3duZXJPckFkbWluKCkgewogICAgICAgIHJlcXVpcmUoaXNPd25lcihtc2cuc2VuZGVyKSB8fCBpc0FkbWluKG1zZy5zZW5kZXIpKTsKICAgICAgICBfOwogICAgfQoKCiAgICBtb2RpZmllciBvbmx5T3BzKCkgewogICAgICAgIHJlcXVpcmUoaXNPcHMobXNnLnNlbmRlcikpOwogICAgICAgIF87CiAgICB9CgoKICAgIGZ1bmN0aW9uIGlzQWRtaW4oYWRkcmVzcyBfYWRkcmVzcykgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIChhZG1pbkFkZHJlc3MgIT0gYWRkcmVzcygwKSAmJiBfYWRkcmVzcyA9PSBhZG1pbkFkZHJlc3MpOwogICAgfQoKCiAgICBmdW5jdGlvbiBpc09wcyhhZGRyZXNzIF9hZGRyZXNzKSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gKG9wc0FkZHJlc3MgIT0gYWRkcmVzcygwKSAmJiBfYWRkcmVzcyA9PSBvcHNBZGRyZXNzKTsKICAgIH0KCgogICAgZnVuY3Rpb24gaXNPd25lck9yT3BzKGFkZHJlc3MgX2FkZHJlc3MpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiAoaXNPd25lcihfYWRkcmVzcykgfHwgaXNPcHMoX2FkZHJlc3MpKTsKICAgIH0KCgogICAgLy8gT3duZXIgYW5kIEFkbWluIGNhbiBjaGFuZ2UgdGhlIGFkbWluIGFkZHJlc3MuIEFkZHJlc3MgY2FuIGFsc28gYmUgc2V0IHRvIDAgdG8gJ2Rpc2FibGUnIGl0LgogICAgZnVuY3Rpb24gc2V0QWRtaW5BZGRyZXNzKGFkZHJlc3MgX2FkbWluQWRkcmVzcykgZXh0ZXJuYWwgb25seU93bmVyT3JBZG1pbiByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShfYWRtaW5BZGRyZXNzICE9IG93bmVyKTsKICAgICAgICByZXF1aXJlKF9hZG1pbkFkZHJlc3MgIT0gYWRkcmVzcyh0aGlzKSk7CiAgICAgICAgcmVxdWlyZSghaXNPcHMoX2FkbWluQWRkcmVzcykpOwoKICAgICAgICBhZG1pbkFkZHJlc3MgPSBfYWRtaW5BZGRyZXNzOwoKICAgICAgICBBZG1pbkFkZHJlc3NDaGFuZ2VkKF9hZG1pbkFkZHJlc3MpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgLy8gT3duZXIgYW5kIEFkbWluIGNhbiBjaGFuZ2UgdGhlIG9wZXJhdGlvbnMgYWRkcmVzcy4gQWRkcmVzcyBjYW4gYWxzbyBiZSBzZXQgdG8gMCB0byAnZGlzYWJsZScgaXQuCiAgICBmdW5jdGlvbiBzZXRPcHNBZGRyZXNzKGFkZHJlc3MgX29wc0FkZHJlc3MpIGV4dGVybmFsIG9ubHlPd25lck9yQWRtaW4gcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX29wc0FkZHJlc3MgIT0gb3duZXIpOwogICAgICAgIHJlcXVpcmUoX29wc0FkZHJlc3MgIT0gYWRkcmVzcyh0aGlzKSk7CiAgICAgICAgcmVxdWlyZSghaXNBZG1pbihfb3BzQWRkcmVzcykpOwoKICAgICAgICBvcHNBZGRyZXNzID0gX29wc0FkZHJlc3M7CgogICAgICAgIE9wc0FkZHJlc3NDaGFuZ2VkKF9vcHNBZGRyZXNzKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0KCmNvbnRyYWN0IFNpbXBsZVRva2VuQ29uZmlnIHsKCiAgICBzdHJpbmcgIHB1YmxpYyBjb25zdGFudCBUT0tFTl9TWU1CT0wgICA9ICJTVCI7CiAgICBzdHJpbmcgIHB1YmxpYyBjb25zdGFudCBUT0tFTl9OQU1FICAgICA9ICJTaW1wbGUgVG9rZW4iOwogICAgdWludDggICBwdWJsaWMgY29uc3RhbnQgVE9LRU5fREVDSU1BTFMgPSAxODsKCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBERUNJTUFMU0ZBQ1RPUiA9IDEwKip1aW50MjU2KFRPS0VOX0RFQ0lNQUxTKTsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFRPS0VOU19NQVggICAgID0gODAwMDAwMDAwICogREVDSU1BTFNGQUNUT1I7Cn0KCmNvbnRyYWN0IEVSQzIwSW50ZXJmYWNlIHsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwoKICAgIGZ1bmN0aW9uIG5hbWUoKSBwdWJsaWMgdmlldyByZXR1cm5zIChzdHJpbmcpOwogICAgZnVuY3Rpb24gc3ltYm9sKCkgcHVibGljIHZpZXcgcmV0dXJucyAoc3RyaW5nKTsKICAgIGZ1bmN0aW9uIGRlY2ltYWxzKCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDgpOwogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKfQoKLy8KLy8gU3RhbmRhcmQgRVJDMjAgaW1wbGVtZW50YXRpb24sIHdpdGggb3duZXJzaGlwLgovLwpjb250cmFjdCBFUkMyMFRva2VuIGlzIEVSQzIwSW50ZXJmYWNlLCBPd25lZCB7CgogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgc3RyaW5nICBwcml2YXRlIHRva2VuTmFtZTsKICAgIHN0cmluZyAgcHJpdmF0ZSB0b2tlblN5bWJvbDsKICAgIHVpbnQ4ICAgcHJpdmF0ZSB0b2tlbkRlY2ltYWxzOwogICAgdWludDI1NiBpbnRlcm5hbCB0b2tlblRvdGFsU3VwcGx5OwoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKCiAgICBmdW5jdGlvbiBFUkMyMFRva2VuKHN0cmluZyBfc3ltYm9sLCBzdHJpbmcgX25hbWUsIHVpbnQ4IF9kZWNpbWFscywgdWludDI1NiBfdG90YWxTdXBwbHkpIHB1YmxpYwogICAgICAgIE93bmVkKCkKICAgIHsKICAgICAgICB0b2tlblN5bWJvbCAgICAgID0gX3N5bWJvbDsKICAgICAgICB0b2tlbk5hbWUgICAgICAgID0gX25hbWU7CiAgICAgICAgdG9rZW5EZWNpbWFscyAgICA9IF9kZWNpbWFsczsKICAgICAgICB0b2tlblRvdGFsU3VwcGx5ID0gX3RvdGFsU3VwcGx5OwogICAgICAgIGJhbGFuY2VzW293bmVyXSAgPSBfdG90YWxTdXBwbHk7CgogICAgICAgIC8vIEFjY29yZGluZyB0byB0aGUgRVJDMjAgc3RhbmRhcmQsIGEgdG9rZW4gY29udHJhY3Qgd2hpY2ggY3JlYXRlcyBuZXcgdG9rZW5zIHNob3VsZCB0cmlnZ2VyCiAgICAgICAgLy8gYSBUcmFuc2ZlciBldmVudCBhbmQgdHJhbnNmZXJzIG9mIDAgdmFsdWVzIG11c3QgYWxzbyBmaXJlIHRoZSBldmVudC4KICAgICAgICBUcmFuc2ZlcigweDAsIG93bmVyLCBfdG90YWxTdXBwbHkpOwogICAgfQoKCiAgICBmdW5jdGlvbiBuYW1lKCkgcHVibGljIHZpZXcgcmV0dXJucyAoc3RyaW5nKSB7CiAgICAgICAgcmV0dXJuIHRva2VuTmFtZTsKICAgIH0KCgogICAgZnVuY3Rpb24gc3ltYm9sKCkgcHVibGljIHZpZXcgcmV0dXJucyAoc3RyaW5nKSB7CiAgICAgICAgcmV0dXJuIHRva2VuU3ltYm9sOwogICAgfQoKCiAgICBmdW5jdGlvbiBkZWNpbWFscygpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQ4KSB7CiAgICAgICAgcmV0dXJuIHRva2VuRGVjaW1hbHM7CiAgICB9CgoKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiB0b2tlblRvdGFsU3VwcGx5OwogICAgfQoKCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBBY2NvcmRpbmcgdG8gdGhlIEVJUDIwIHNwZWMsICJ0cmFuc2ZlcnMgb2YgMCB2YWx1ZXMgTVVTVCBiZSB0cmVhdGVkIGFzIG5vcm1hbAogICAgICAgIC8vIHRyYW5zZmVycyBhbmQgZmlyZSB0aGUgVHJhbnNmZXIgZXZlbnQiLgogICAgICAgIC8vIEFsc28sIHNob3VsZCB0aHJvdyBpZiBub3QgZW5vdWdoIGJhbGFuY2UuIFRoaXMgaXMgdGFrZW4gY2FyZSBvZiBieSBTYWZlTWF0aC4KICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwoKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CgogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwoKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0KCi8vCi8vIFNpbXBsZVRva2VuIGlzIGEgc3RhbmRhcmQgRVJDMjAgdG9rZW4gd2l0aCBzb21lIGFkZGl0aW9uYWwgZnVuY3Rpb25hbGl0eToKLy8gLSBJdCBoYXMgYSBjb25jZXB0IG9mIGZpbmFsaXplCi8vIC0gQmVmb3JlIGZpbmFsaXplLCBub2JvZHkgY2FuIHRyYW5zZmVyIHRva2VucyBleGNlcHQ6Ci8vICAgICAtIE93bmVyIGFuZCBvcGVyYXRpb25zIGNhbiB0cmFuc2ZlciB0b2tlbnMKLy8gICAgIC0gQW55Ym9keSBjYW4gc2VuZCBiYWNrIHRva2VucyB0byBvd25lcgovLyAtIEFmdGVyIGZpbmFsaXplLCBubyByZXN0cmljdGlvbnMgb24gdG9rZW4gdHJhbnNmZXJzCi8vCgovLwovLyBQZXJtaXNzaW9ucywgYWNjb3JkaW5nIHRvIHRoZSBTVCBrZXkgbWFuYWdlbWVudCBzcGVjaWZpY2F0aW9uLgovLwovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE93bmVyICAgIEFkbWluICAgT3BzCi8vIHRyYW5zZmVyIChiZWZvcmUgZmluYWxpemUpICAgICAgICAgICB4ICAgICAgICAgICAgICAgeAovLyB0cmFuc2ZlckZvcm0gKGJlZm9yZSBmaW5hbGl6ZSkgICAgICAgeCAgICAgICAgICAgICAgIHgKLy8gZmluYWxpemUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgKLy8KCmNvbnRyYWN0IFNpbXBsZVRva2VuIGlzIEVSQzIwVG9rZW4sIE9wc01hbmFnZWQsIFNpbXBsZVRva2VuQ29uZmlnIHsKCiAgICBib29sIHB1YmxpYyBmaW5hbGl6ZWQ7CgoKICAgIC8vIEV2ZW50cwogICAgZXZlbnQgQnVybnQoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCB1aW50MjU2IF9hbW91bnQpOwogICAgZXZlbnQgRmluYWxpemVkKCk7CgoKICAgIGZ1bmN0aW9uIFNpbXBsZVRva2VuKCkgcHVibGljCiAgICAgICAgRVJDMjBUb2tlbihUT0tFTl9TWU1CT0wsIFRPS0VOX05BTUUsIFRPS0VOX0RFQ0lNQUxTLCBUT0tFTlNfTUFYKQogICAgICAgIE9wc01hbmFnZWQoKQogICAgewogICAgICAgIGZpbmFsaXplZCA9IGZhbHNlOwogICAgfQoKCiAgICAvLyBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgc3RhbmRhcmQgdHJhbnNmZXIgbWV0aG9kIHRoYXQgdGFrZXMgaW50byBhY2NvdW50IHRoZSBmaW5hbGl6ZSBmbGFnLgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgY2hlY2tUcmFuc2ZlckFsbG93ZWQobXNnLnNlbmRlciwgX3RvKTsKCiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICAgIH0KCgogICAgLy8gSW1wbGVtZW50YXRpb24gb2YgdGhlIHN0YW5kYXJkIHRyYW5zZmVyRnJvbSBtZXRob2QgdGhhdCB0YWtlcyBpbnRvIGFjY291bnQgdGhlIGZpbmFsaXplIGZsYWcuCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgY2hlY2tUcmFuc2ZlckFsbG93ZWQobXNnLnNlbmRlciwgX3RvKTsKCiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgfQoKCiAgICBmdW5jdGlvbiBjaGVja1RyYW5zZmVyQWxsb3dlZChhZGRyZXNzIF9zZW5kZXIsIGFkZHJlc3MgX3RvKSBwcml2YXRlIHZpZXcgewogICAgICAgIGlmIChmaW5hbGl6ZWQpIHsKICAgICAgICAgICAgLy8gRXZlcnlib2R5IHNob3VsZCBiZSBvayB0byB0cmFuc2ZlciBvbmNlIHRoZSB0b2tlbiBpcyBmaW5hbGl6ZWQuCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8vIE93bmVyIGFuZCBPcHMgYXJlIGFsbG93ZWQgdG8gdHJhbnNmZXIgdG9rZW5zIGJlZm9yZSB0aGUgc2FsZSBpcyBmaW5hbGl6ZWQuCiAgICAgICAgLy8gVGhpcyBhbGxvd3MgdGhlIHRva2VucyB0byBtb3ZlIGZyb20gdGhlIFRva2VuU2FsZSBjb250cmFjdCB0byBhIGJlbmVmaWNpYXJ5LgogICAgICAgIC8vIFdlIGFsc28gYWxsb3cgc29tZW9uZSB0byBzZW5kIHRva2VucyBiYWNrIHRvIHRoZSBvd25lci4gVGhpcyBpcyB1c2VmdWwgYW1vbmcgb3RoZXIKICAgICAgICAvLyBjYXNlcywgZm9yIHRoZSBUcnVzdGVlIHRvIHRyYW5zZmVyIHVubG9ja2VkIHRva2VucyBiYWNrIHRvIHRoZSBvd25lciAocmVjbGFpbVRva2VucykuCiAgICAgICAgcmVxdWlyZShpc093bmVyT3JPcHMoX3NlbmRlcikgfHwgX3RvID09IG93bmVyKTsKICAgIH0KCiAgICAvLyBJbXBsZW1lbnQgYSBidXJuIGZ1bmN0aW9uIHRvIHBlcm1pdCBtc2cuc2VuZGVyIHRvIHJlZHVjZSBpdHMgYmFsYW5jZQogICAgLy8gd2hpY2ggYWxzbyByZWR1Y2VzIHRva2VuVG90YWxTdXBwbHkKICAgIGZ1bmN0aW9uIGJ1cm4odWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgdG9rZW5Ub3RhbFN1cHBseSA9IHRva2VuVG90YWxTdXBwbHkuc3ViKF92YWx1ZSk7CgogICAgICAgIEJ1cm50KG1zZy5zZW5kZXIsIF92YWx1ZSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICAvLyBGaW5hbGl6ZSBtZXRob2QgbWFya3MgdGhlIHBvaW50IHdoZXJlIHRva2VuIHRyYW5zZmVycyBhcmUgZmluYWxseSBhbGxvd2VkIGZvciBldmVyeWJvZHkuCiAgICBmdW5jdGlvbiBmaW5hbGl6ZSgpIGV4dGVybmFsIG9ubHlBZG1pbiByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKCFmaW5hbGl6ZWQpOwoKICAgICAgICBmaW5hbGl6ZWQgPSB0cnVlOwoKICAgICAgICBGaW5hbGl6ZWQoKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0KCi8vCi8vIEltcGxlbWVudHMgYSBzaW1wbGUgdHJ1c3RlZSB3aGljaCBjYW4gcmVsZWFzZSB0b2tlbnMgYmFzZWQgb24KLy8gYW4gZXhwbGljaXQgY2FsbCBmcm9tIHRoZSBvd25lci4KLy8KCi8vCi8vIFBlcm1pc3Npb25zLCBhY2NvcmRpbmcgdG8gdGhlIFNUIGtleSBtYW5hZ2VtZW50IHNwZWNpZmljYXRpb24uCi8vCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPd25lciAgICBBZG1pbiAgIE9wcyAgIFJldm9rZQovLyBncmFudEFsbG9jYXRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICB4ICAgICAgeAovLyByZXZva2VBbGxvY2F0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgKLy8gcHJvY2Vzc0FsbG9jYXRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgKLy8gcmVjbGFpbVRva2VucyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeAovLyBzZXRSZXZva2VBZGRyZXNzICAgICAgICAgICAgICAgICB4ICAgICAgICAgICAgICAgICAgICAgIHgKLy8KCmNvbnRyYWN0IFRydXN0ZWUgaXMgT3BzTWFuYWdlZCB7CgogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgoKICAgIFNpbXBsZVRva2VuIHB1YmxpYyB0b2tlbkNvbnRyYWN0OwoKICAgIHN0cnVjdCBBbGxvY2F0aW9uIHsKICAgICAgICB1aW50MjU2IGFtb3VudEdyYW50ZWQ7CiAgICAgICAgdWludDI1NiBhbW91bnRUcmFuc2ZlcnJlZDsKICAgICAgICBib29sICAgIHJldm9rYWJsZTsKICAgIH0KCiAgICAvLyBUaGUgdHJ1c3RlZSBoYXMgYSBzcGVjaWFsICdyZXZva2UnIGtleSB3aGljaCBpcyBhbGxvd2VkIHRvIHJldm9rZSBhbGxvY2F0aW9ucy4KICAgIGFkZHJlc3MgcHVibGljIHJldm9rZUFkZHJlc3M7CgogICAgLy8gVG90YWwgbnVtYmVyIG9mIHRva2VucyB0aGF0IGFyZSBjdXJyZW50bHkgYWxsb2NhdGVkLgogICAgLy8gVGhpcyBkb2VzIG5vdCBpbmNsdWRlIHRva2VucyB0aGF0IGhhdmUgYmVlbiBwcm9jZXNzZWQgKHNlbnQgdG8gYW4gYWRkcmVzcykgYWxyZWFkeSBvcgogICAgLy8gdGhlIG9uZXMgaW4gdGhlIHRydXN0ZWUncyBhY2NvdW50IHRoYXQgaGF2ZSBub3QgYmVlbiBhbGxvY2F0ZWQgeWV0LgogICAgdWludDI1NiBwdWJsaWMgdG90YWxMb2NrZWQ7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBBbGxvY2F0aW9uKSBwdWJsaWMgYWxsb2NhdGlvbnM7CgoKICAgIC8vCiAgICAvLyBFdmVudHMKICAgIC8vCiAgICBldmVudCBBbGxvY2F0aW9uR3JhbnRlZChhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfYWNjb3VudCwgdWludDI1NiBfYW1vdW50LCBib29sIF9yZXZva2FibGUpOwogICAgZXZlbnQgQWxsb2NhdGlvblJldm9rZWQoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX2FjY291bnQsIHVpbnQyNTYgX2Ftb3VudFJldm9rZWQpOwogICAgZXZlbnQgQWxsb2NhdGlvblByb2Nlc3NlZChhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfYWNjb3VudCwgdWludDI1NiBfYW1vdW50KTsKICAgIGV2ZW50IFJldm9rZUFkZHJlc3NDaGFuZ2VkKGFkZHJlc3MgaW5kZXhlZCBfbmV3QWRkcmVzcyk7CiAgICBldmVudCBUb2tlbnNSZWNsYWltZWQodWludDI1NiBfYW1vdW50KTsKCgogICAgZnVuY3Rpb24gVHJ1c3RlZShTaW1wbGVUb2tlbiBfdG9rZW5Db250cmFjdCkgcHVibGljCiAgICAgICAgT3BzTWFuYWdlZCgpCiAgICB7CiAgICAgICAgcmVxdWlyZShhZGRyZXNzKF90b2tlbkNvbnRyYWN0KSAhPSBhZGRyZXNzKDApKTsKCiAgICAgICAgdG9rZW5Db250cmFjdCA9IF90b2tlbkNvbnRyYWN0OwogICAgfQoKCiAgICBtb2RpZmllciBvbmx5T3duZXJPclJldm9rZSgpIHsKICAgICAgICByZXF1aXJlKGlzT3duZXIobXNnLnNlbmRlcikgfHwgaXNSZXZva2UobXNnLnNlbmRlcikpOwogICAgICAgIF87CiAgICB9CgoKICAgIG1vZGlmaWVyIG9ubHlSZXZva2UoKSB7CiAgICAgICAgcmVxdWlyZShpc1Jldm9rZShtc2cuc2VuZGVyKSk7CiAgICAgICAgXzsKICAgIH0KCgogICAgZnVuY3Rpb24gaXNSZXZva2UoYWRkcmVzcyBfYWRkcmVzcykgcHJpdmF0ZSB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gKHJldm9rZUFkZHJlc3MgIT0gYWRkcmVzcygwKSAmJiBfYWRkcmVzcyA9PSByZXZva2VBZGRyZXNzKTsKICAgIH0KCgogICAgLy8gT3duZXIgYW5kIHJldm9rZSBjYW4gY2hhbmdlIHRoZSByZXZva2UgYWRkcmVzcy4gQWRkcmVzcyBjYW4gYWxzbyBiZSBzZXQgdG8gMCB0byAnZGlzYWJsZScgaXQuCiAgICBmdW5jdGlvbiBzZXRSZXZva2VBZGRyZXNzKGFkZHJlc3MgX3Jldm9rZUFkZHJlc3MpIGV4dGVybmFsIG9ubHlPd25lck9yUmV2b2tlIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF9yZXZva2VBZGRyZXNzICE9IG93bmVyKTsKICAgICAgICByZXF1aXJlKCFpc0FkbWluKF9yZXZva2VBZGRyZXNzKSk7CiAgICAgICAgcmVxdWlyZSghaXNPcHMoX3Jldm9rZUFkZHJlc3MpKTsKCiAgICAgICAgcmV2b2tlQWRkcmVzcyA9IF9yZXZva2VBZGRyZXNzOwoKICAgICAgICBSZXZva2VBZGRyZXNzQ2hhbmdlZChfcmV2b2tlQWRkcmVzcyk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICAvLyBBbGxvd3MgYWRtaW4gb3Igb3BzIHRvIGNyZWF0ZSBuZXcgYWxsb2NhdGlvbnMgZm9yIGEgc3BlY2lmaWMgYWNjb3VudC4KICAgIGZ1bmN0aW9uIGdyYW50QWxsb2NhdGlvbihhZGRyZXNzIF9hY2NvdW50LCB1aW50MjU2IF9hbW91bnQsIGJvb2wgX3Jldm9rYWJsZSkgcHVibGljIG9ubHlBZG1pbk9yT3BzIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF9hY2NvdW50ICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoX2FjY291bnQgIT0gYWRkcmVzcyh0aGlzKSk7CiAgICAgICAgcmVxdWlyZShfYW1vdW50ID4gMCk7CgogICAgICAgIC8vIENhbid0IGNyZWF0ZSBhbiBhbGxvY2F0aW9uIGlmIHRoZXJlIGlzIGFscmVhZHkgb25lIGZvciB0aGlzIGFjY291bnQuCiAgICAgICAgcmVxdWlyZShhbGxvY2F0aW9uc1tfYWNjb3VudF0uYW1vdW50R3JhbnRlZCA9PSAwKTsKCiAgICAgICAgaWYgKGlzT3BzKG1zZy5zZW5kZXIpKSB7CiAgICAgICAgICAgIC8vIE9uY2UgdGhlIHRva2VuIGNvbnRyYWN0IGlzIGZpbmFsaXplZCwgdGhlIG9wcyBrZXkgc2hvdWxkIG5vdCBiZSBhYmxlIHRvIGdyYW50IGFsbG9jYXRpb25zIGFueSBsb25nZXIuCiAgICAgICAgICAgIC8vIEJlZm9yZSBmaW5hbGl6ZWQsIGl0IGlzIHVzZWQgYnkgdGhlIFRva2VuU2FsZSBjb250cmFjdCB0byBhbGxvY2F0ZSBwcmUtc2FsZXMuCiAgICAgICAgICAgIHJlcXVpcmUoIXRva2VuQ29udHJhY3QuZmluYWxpemVkKCkpOwogICAgICAgIH0KCiAgICAgICAgdG90YWxMb2NrZWQgPSB0b3RhbExvY2tlZC5hZGQoX2Ftb3VudCk7CiAgICAgICAgcmVxdWlyZSh0b3RhbExvY2tlZCA8PSB0b2tlbkNvbnRyYWN0LmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKSk7CgogICAgICAgIGFsbG9jYXRpb25zW19hY2NvdW50XSA9IEFsbG9jYXRpb24oewogICAgICAgICAgICBhbW91bnRHcmFudGVkICAgICA6IF9hbW91bnQsCiAgICAgICAgICAgIGFtb3VudFRyYW5zZmVycmVkIDogMCwKICAgICAgICAgICAgcmV2b2thYmxlICAgICAgICAgOiBfcmV2b2thYmxlCiAgICAgICAgfSk7CgogICAgICAgIEFsbG9jYXRpb25HcmFudGVkKG1zZy5zZW5kZXIsIF9hY2NvdW50LCBfYW1vdW50LCBfcmV2b2thYmxlKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIC8vIEFsbG93cyB0aGUgcmV2b2tlIGtleSB0byByZXZva2UgYWxsb2NhdGlvbnMsIGlmIHJldm9rZSBpcyBhbGxvd2VkLgogICAgZnVuY3Rpb24gcmV2b2tlQWxsb2NhdGlvbihhZGRyZXNzIF9hY2NvdW50KSBleHRlcm5hbCBvbmx5UmV2b2tlIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF9hY2NvdW50ICE9IGFkZHJlc3MoMCkpOwoKICAgICAgICBBbGxvY2F0aW9uIG1lbW9yeSBhbGxvY2F0aW9uID0gYWxsb2NhdGlvbnNbX2FjY291bnRdOwoKICAgICAgICByZXF1aXJlKGFsbG9jYXRpb24ucmV2b2thYmxlKTsKCiAgICAgICAgdWludDI1NiBvd25lclJlZnVuZCA9IGFsbG9jYXRpb24uYW1vdW50R3JhbnRlZC5zdWIoYWxsb2NhdGlvbi5hbW91bnRUcmFuc2ZlcnJlZCk7CgogICAgICAgIGRlbGV0ZSBhbGxvY2F0aW9uc1tfYWNjb3VudF07CgogICAgICAgIHRvdGFsTG9ja2VkID0gdG90YWxMb2NrZWQuc3ViKG93bmVyUmVmdW5kKTsKCiAgICAgICAgQWxsb2NhdGlvblJldm9rZWQobXNnLnNlbmRlciwgX2FjY291bnQsIG93bmVyUmVmdW5kKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIC8vIFB1c2ggbW9kZWwgd2hpY2ggYWxsb3dzIG9wcyB0byB0cmFuc2ZlciB0b2tlbnMgdG8gdGhlIGJlbmVmaWNpYXJ5LgogICAgLy8gVGhlIGV4YWN0IGFtb3VudCB0byB0cmFuc2ZlciBpcyBjYWxjdWxhdGVkIGJhc2VkIG9uIGFncmVlbWVudHMgd2l0aAogICAgLy8gdGhlIGJlbmVmaWNpYXJpZXMuIEhlcmUgd2Ugb25seSByZXN0cmljdCB0aGF0IHRoZSB0b3RhbCBhbW91bnQgdHJhbnNmZXJlZCBjYW5ub3QKICAgIC8vIGV4Y2VlZCB3aGF0IGhhcyBiZWVuIGdyYW50ZWQuCiAgICBmdW5jdGlvbiBwcm9jZXNzQWxsb2NhdGlvbihhZGRyZXNzIF9hY2NvdW50LCB1aW50MjU2IF9hbW91bnQpIGV4dGVybmFsIG9ubHlPcHMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX2FjY291bnQgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfYW1vdW50ID4gMCk7CgogICAgICAgIEFsbG9jYXRpb24gc3RvcmFnZSBhbGxvY2F0aW9uID0gYWxsb2NhdGlvbnNbX2FjY291bnRdOwoKICAgICAgICByZXF1aXJlKGFsbG9jYXRpb24uYW1vdW50R3JhbnRlZCA+IDApOwoKICAgICAgICB1aW50MjU2IHRyYW5zZmVyYWJsZSA9IGFsbG9jYXRpb24uYW1vdW50R3JhbnRlZC5zdWIoYWxsb2NhdGlvbi5hbW91bnRUcmFuc2ZlcnJlZCk7CgogICAgICAgIGlmICh0cmFuc2ZlcmFibGUgPCBfYW1vdW50KSB7CiAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgYWxsb2NhdGlvbi5hbW91bnRUcmFuc2ZlcnJlZCA9IGFsbG9jYXRpb24uYW1vdW50VHJhbnNmZXJyZWQuYWRkKF9hbW91bnQpOwoKICAgICAgICAvLyBOb3RlIHRoYXQgdHJhbnNmZXIgd2lsbCBmYWlsIGlmIHRoZSB0b2tlbiBjb250cmFjdCBoYXMgbm90IGJlZW4gZmluYWxpemVkIHlldC4KICAgICAgICByZXF1aXJlKHRva2VuQ29udHJhY3QudHJhbnNmZXIoX2FjY291bnQsIF9hbW91bnQpKTsKCiAgICAgICAgdG90YWxMb2NrZWQgPSB0b3RhbExvY2tlZC5zdWIoX2Ftb3VudCk7CgogICAgICAgIEFsbG9jYXRpb25Qcm9jZXNzZWQobXNnLnNlbmRlciwgX2FjY291bnQsIF9hbW91bnQpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgLy8gQWxsb3dzIHRoZSBhZG1pbiB0byBjbGFpbSBiYWNrIGFsbCB0b2tlbnMgdGhhdCBhcmUgbm90IGN1cnJlbnRseSBhbGxvY2F0ZWQuCiAgICAvLyBOb3RlIHRoYXQgdGhlIHRydXN0ZWUgc2hvdWxkIGJlIGFibGUgdG8gbW92ZSB0b2tlbnMgZXZlbiBiZWZvcmUgdGhlIHRva2VuIGlzCiAgICAvLyBmaW5hbGl6ZWQgYmVjYXVzZSBTaW1wbGVUb2tlbiBhbGxvd3Mgc2VuZGluZyBiYWNrIHRvIG93bmVyIHNwZWNpZmljYWxseS4KICAgIGZ1bmN0aW9uIHJlY2xhaW1Ub2tlbnMoKSBleHRlcm5hbCBvbmx5QWRtaW4gcmV0dXJucyAoYm9vbCkgewogICAgICAgIHVpbnQyNTYgb3duQmFsYW5jZSA9IHRva2VuQ29udHJhY3QuYmFsYW5jZU9mKGFkZHJlc3ModGhpcykpOwoKICAgICAgICAvLyBJZiBiYWxhbmNlIDw9IGFtb3VudCBsb2NrZWQsIHRoZXJlIGlzIG5vdGhpbmcgdG8gcmVjbGFpbS4KICAgICAgICByZXF1aXJlKG93bkJhbGFuY2UgPiB0b3RhbExvY2tlZCk7CgogICAgICAgIHVpbnQyNTYgYW1vdW50UmVjbGFpbWVkID0gb3duQmFsYW5jZS5zdWIodG90YWxMb2NrZWQpOwoKICAgICAgICBhZGRyZXNzIHRva2VuT3duZXIgPSB0b2tlbkNvbnRyYWN0Lm93bmVyKCk7CiAgICAgICAgcmVxdWlyZSh0b2tlbk93bmVyICE9IGFkZHJlc3MoMCkpOwoKICAgICAgICByZXF1aXJlKHRva2VuQ29udHJhY3QudHJhbnNmZXIodG9rZW5Pd25lciwgYW1vdW50UmVjbGFpbWVkKSk7CgogICAgICAgIFRva2Vuc1JlY2xhaW1lZChhbW91bnRSZWNsYWltZWQpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQ=='.
	

]
