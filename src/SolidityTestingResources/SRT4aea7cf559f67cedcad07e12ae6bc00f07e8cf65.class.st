Class {
	#name : #SRT4aea7cf559f67cedcad07e12ae6bc00f07e8cf65,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4aea7cf559f67cedcad07e12ae6bc00f07e8cf65 >> base64 [
	^ 'Ly9sYXN0IGNvbXBpbGVkIHdpdGggc29sanNvbi12MC4zLjYtMjAxNi0wOC0yOS1iODA2MGM1LmpzCgpjb250cmFjdCBTYWZlTWF0aCB7CiAgLy9pbnRlcm5hbHMKCiAgZnVuY3Rpb24gc2FmZU11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIHNhZmVBZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGM+PWEgJiYgYz49Yik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgewogICAgaWYgKCFhc3NlcnRpb24pIHRocm93OwogIH0KfQoKY29udHJhY3QgVG9rZW4gewoKICAgIC8vLyBAcmV0dXJuIHRvdGFsIGFtb3VudCBvZiB0b2tlbnMKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpIHt9CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgZnJvbSB3aGljaCB0aGUgYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZAogICAgLy8vIEByZXR1cm4gVGhlIGJhbGFuY2UKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7fQoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9CgogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBfZnJvbWAgb24gdGhlIGNvbmRpdGlvbiBpdCBpcyBhcHByb3ZlZCBieSBgX2Zyb21gCiAgICAvLy8gQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQoKICAgIC8vLyBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX2FkZHJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2Ygd2VpIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2ZlcgogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHt9CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKCiAgICB1aW50IHB1YmxpYyBkZWNpbWFsczsKICAgIHN0cmluZyBwdWJsaWMgbmFtZTsKfQoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBUb2tlbiB7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvL0RlZmF1bHQgYXNzdW1lcyB0b3RhbFN1cHBseSBjYW4ndCBiZSBvdmVyIG1heCAoMl4yNTYgLSAxKS4KICAgICAgICAvL0lmIHlvdXIgdG9rZW4gbGVhdmVzIG91dCB0b3RhbFN1cHBseSBhbmQgY2FuIGlzc3VlIG1vcmUgdG9rZW5zIGFzIHRpbWUgZ29lcyBvbiwgeW91IG5lZWQgdG8gY2hlY2sgaWYgaXQgZG9lc24ndCB3cmFwLgogICAgICAgIC8vUmVwbGFjZSB0aGUgaWYgd2l0aCB0aGlzIG9uZSBpbnN0ZWFkLgogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsKICAgICAgICAvL2lmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCkgewogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vc2FtZSBhcyBhYm92ZS4gUmVwbGFjZSB0aGlzIGxpbmUgd2l0aCB0aGUgZm9sbG93aW5nIGlmIHlvdSB3YW50IHRvIHByb3RlY3QgYWdhaW5zdCB3cmFwcGluZyB1aW50cy4KICAgICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsKICAgICAgICAvL2lmIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKfQoKY29udHJhY3QgUmVzZXJ2ZVRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIFNhZmVNYXRoIHsKICAgIGFkZHJlc3MgcHVibGljIG1pbnRlcjsKICAgIGZ1bmN0aW9uIFJlc2VydmVUb2tlbigpIHsKICAgICAgbWludGVyID0gbXNnLnNlbmRlcjsKICAgIH0KICAgIGZ1bmN0aW9uIGNyZWF0ZShhZGRyZXNzIGFjY291bnQsIHVpbnQgYW1vdW50KSB7CiAgICAgIGlmIChtc2cuc2VuZGVyICE9IG1pbnRlcikgdGhyb3c7CiAgICAgIGJhbGFuY2VzW2FjY291bnRdID0gc2FmZUFkZChiYWxhbmNlc1thY2NvdW50XSwgYW1vdW50KTsKICAgICAgdG90YWxTdXBwbHkgPSBzYWZlQWRkKHRvdGFsU3VwcGx5LCBhbW91bnQpOwogICAgfQogICAgZnVuY3Rpb24gZGVzdHJveShhZGRyZXNzIGFjY291bnQsIHVpbnQgYW1vdW50KSB7CiAgICAgIGlmIChtc2cuc2VuZGVyICE9IG1pbnRlcikgdGhyb3c7CiAgICAgIGlmIChiYWxhbmNlc1thY2NvdW50XSA8IGFtb3VudCkgdGhyb3c7CiAgICAgIGJhbGFuY2VzW2FjY291bnRdID0gc2FmZVN1YihiYWxhbmNlc1thY2NvdW50XSwgYW1vdW50KTsKICAgICAgdG90YWxTdXBwbHkgPSBzYWZlU3ViKHRvdGFsU3VwcGx5LCBhbW91bnQpOwogICAgfQp9Cgpjb250cmFjdCBFdGhlckRlbHRhIGlzIFNhZmVNYXRoIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSB0b2tlbnM7IC8vbWFwcGluZyBvZiB0b2tlbiBhZGRyZXNzZXMgdG8gbWFwcGluZyBvZiBhY2NvdW50IGJhbGFuY2VzCiAgLy9ldGhlciBiYWxhbmNlcyBhcmUgaGVsZCBpbiB0aGUgdG9rZW49MCBhY2NvdW50CiAgbWFwcGluZyAoYnl0ZXMzMiA9PiB1aW50KSBvcmRlckZpbGxzOwogIGFkZHJlc3MgcHVibGljIGZlZUFjY291bnQ7CiAgdWludCBwdWJsaWMgZmVlTWFrZTsgLy9wZXJjZW50YWdlIHRpbWVzICgxIGV0aGVyKQogIHVpbnQgcHVibGljIGZlZVRha2U7IC8vcGVyY2VudGFnZSB0aW1lcyAoMSBldGhlcikKCiAgZXZlbnQgT3JkZXIoYWRkcmVzcyB0b2tlbkdldCwgdWludCBhbW91bnRHZXQsIGFkZHJlc3MgdG9rZW5HaXZlLCB1aW50IGFtb3VudEdpdmUsIHVpbnQgZXhwaXJlcywgdWludCBub25jZSwgYWRkcmVzcyB1c2VyLCB1aW50OCB2LCBieXRlczMyIHIsIGJ5dGVzMzIgcyk7CiAgZXZlbnQgQ2FuY2VsKGFkZHJlc3MgdG9rZW5HZXQsIHVpbnQgYW1vdW50R2V0LCBhZGRyZXNzIHRva2VuR2l2ZSwgdWludCBhbW91bnRHaXZlLCB1aW50IGV4cGlyZXMsIHVpbnQgbm9uY2UsIGFkZHJlc3MgdXNlciwgdWludDggdiwgYnl0ZXMzMiByLCBieXRlczMyIHMpOwogIGV2ZW50IFRyYWRlKGFkZHJlc3MgdG9rZW5HZXQsIHVpbnQgYW1vdW50R2V0LCBhZGRyZXNzIHRva2VuR2l2ZSwgdWludCBhbW91bnRHaXZlLCBhZGRyZXNzIGdldCwgYWRkcmVzcyBnaXZlKTsKICBldmVudCBEZXBvc2l0KGFkZHJlc3MgdG9rZW4sIGFkZHJlc3MgdXNlciwgdWludCBhbW91bnQsIHVpbnQgYmFsYW5jZSk7CiAgZXZlbnQgV2l0aGRyYXcoYWRkcmVzcyB0b2tlbiwgYWRkcmVzcyB1c2VyLCB1aW50IGFtb3VudCwgdWludCBiYWxhbmNlKTsKCiAgZnVuY3Rpb24gRXRoZXJEZWx0YShhZGRyZXNzIGZlZUFjY291bnRfLCB1aW50IGZlZU1ha2VfLCB1aW50IGZlZVRha2VfKSB7CiAgICBmZWVBY2NvdW50ID0gZmVlQWNjb3VudF87CiAgICBmZWVNYWtlID0gZmVlTWFrZV87CiAgICBmZWVUYWtlID0gZmVlVGFrZV87CiAgfQoKICBmdW5jdGlvbigpIHsKICAgIHRocm93OwogIH0KCiAgZnVuY3Rpb24gZGVwb3NpdCgpIHsKICAgIHRva2Vuc1swXVttc2cuc2VuZGVyXSA9IHNhZmVBZGQodG9rZW5zWzBdW21zZy5zZW5kZXJdLCBtc2cudmFsdWUpOwogICAgRGVwb3NpdCgwLCBtc2cuc2VuZGVyLCBtc2cudmFsdWUsIHRva2Vuc1swXVttc2cuc2VuZGVyXSk7CiAgfQoKICBmdW5jdGlvbiB3aXRoZHJhdyh1aW50IGFtb3VudCkgewogICAgaWYgKG1zZy52YWx1ZT4wKSB0aHJvdzsKICAgIGlmICh0b2tlbnNbMF1bbXNnLnNlbmRlcl0gPCBhbW91bnQpIHRocm93OwogICAgdG9rZW5zWzBdW21zZy5zZW5kZXJdID0gc2FmZVN1Yih0b2tlbnNbMF1bbXNnLnNlbmRlcl0sIGFtb3VudCk7CiAgICBpZiAoIW1zZy5zZW5kZXIuY2FsbC52YWx1ZShhbW91bnQpKCkpIHRocm93OwogICAgV2l0aGRyYXcoMCwgbXNnLnNlbmRlciwgYW1vdW50LCB0b2tlbnNbMF1bbXNnLnNlbmRlcl0pOwogIH0KCiAgZnVuY3Rpb24gZGVwb3NpdFRva2VuKGFkZHJlc3MgdG9rZW4sIHVpbnQgYW1vdW50KSB7CiAgICAvL3JlbWVtYmVyIHRvIGNhbGwgVG9rZW4oYWRkcmVzcykuYXBwcm92ZSh0aGlzLCBhbW91bnQpIG9yIHRoaXMgY29udHJhY3Qgd2lsbCBub3QgYmUgYWJsZSB0byBkbyB0aGUgdHJhbnNmZXIgb24geW91ciBiZWhhbGYuCiAgICBpZiAobXNnLnZhbHVlPjAgfHwgdG9rZW49PTApIHRocm93OwogICAgaWYgKCFUb2tlbih0b2tlbikudHJhbnNmZXJGcm9tKG1zZy5zZW5kZXIsIHRoaXMsIGFtb3VudCkpIHRocm93OwogICAgdG9rZW5zW3Rva2VuXVttc2cuc2VuZGVyXSA9IHNhZmVBZGQodG9rZW5zW3Rva2VuXVttc2cuc2VuZGVyXSwgYW1vdW50KTsKICAgIERlcG9zaXQodG9rZW4sIG1zZy5zZW5kZXIsIGFtb3VudCwgdG9rZW5zW3Rva2VuXVttc2cuc2VuZGVyXSk7CiAgfQoKICBmdW5jdGlvbiB3aXRoZHJhd1Rva2VuKGFkZHJlc3MgdG9rZW4sIHVpbnQgYW1vdW50KSB7CiAgICBpZiAobXNnLnZhbHVlPjAgfHwgdG9rZW49PTApIHRocm93OwogICAgaWYgKHRva2Vuc1t0b2tlbl1bbXNnLnNlbmRlcl0gPCBhbW91bnQpIHRocm93OwogICAgdG9rZW5zW3Rva2VuXVttc2cuc2VuZGVyXSA9IHNhZmVTdWIodG9rZW5zW3Rva2VuXVttc2cuc2VuZGVyXSwgYW1vdW50KTsKICAgIGlmICghVG9rZW4odG9rZW4pLnRyYW5zZmVyKG1zZy5zZW5kZXIsIGFtb3VudCkpIHRocm93OwogICAgV2l0aGRyYXcodG9rZW4sIG1zZy5zZW5kZXIsIGFtb3VudCwgdG9rZW5zW3Rva2VuXVttc2cuc2VuZGVyXSk7CiAgfQoKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB0b2tlbiwgYWRkcmVzcyB1c2VyKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICByZXR1cm4gdG9rZW5zW3Rva2VuXVt1c2VyXTsKICB9CgogIGZ1bmN0aW9uIG9yZGVyKGFkZHJlc3MgdG9rZW5HZXQsIHVpbnQgYW1vdW50R2V0LCBhZGRyZXNzIHRva2VuR2l2ZSwgdWludCBhbW91bnRHaXZlLCB1aW50IGV4cGlyZXMsIHVpbnQgbm9uY2UsIHVpbnQ4IHYsIGJ5dGVzMzIgciwgYnl0ZXMzMiBzKSB7CiAgICBpZiAobXNnLnZhbHVlPjApIHRocm93OwogICAgT3JkZXIodG9rZW5HZXQsIGFtb3VudEdldCwgdG9rZW5HaXZlLCBhbW91bnRHaXZlLCBleHBpcmVzLCBub25jZSwgbXNnLnNlbmRlciwgdiwgciwgcyk7CiAgfQoKICBmdW5jdGlvbiB0cmFkZShhZGRyZXNzIHRva2VuR2V0LCB1aW50IGFtb3VudEdldCwgYWRkcmVzcyB0b2tlbkdpdmUsIHVpbnQgYW1vdW50R2l2ZSwgdWludCBleHBpcmVzLCB1aW50IG5vbmNlLCBhZGRyZXNzIHVzZXIsIHVpbnQ4IHYsIGJ5dGVzMzIgciwgYnl0ZXMzMiBzLCB1aW50IGFtb3VudCkgewogICAgLy9hbW91bnQgaXMgaW4gYW1vdW50R2V0IHRlcm1zCiAgICBpZiAobXNnLnZhbHVlPjApIHRocm93OwogICAgYnl0ZXMzMiBoYXNoID0gc2hhMjU2KHRva2VuR2V0LCBhbW91bnRHZXQsIHRva2VuR2l2ZSwgYW1vdW50R2l2ZSwgZXhwaXJlcywgbm9uY2UpOwogICAgaWYgKCEoCiAgICAgIGVjcmVjb3ZlcihoYXNoLHYscixzKSA9PSB1c2VyICYmCiAgICAgIGJsb2NrLm51bWJlciA8PSBleHBpcmVzICYmCiAgICAgIHNhZmVBZGQob3JkZXJGaWxsc1toYXNoXSwgYW1vdW50KSA8PSBhbW91bnRHZXQgJiYKICAgICAgdG9rZW5zW3Rva2VuR2V0XVttc2cuc2VuZGVyXSA+PSBhbW91bnQgJiYKICAgICAgdG9rZW5zW3Rva2VuR2l2ZV1bdXNlcl0gPj0gc2FmZU11bChhbW91bnRHaXZlLCBhbW91bnQpIC8gYW1vdW50R2V0CiAgICApKSB0aHJvdzsKICAgIHRva2Vuc1t0b2tlbkdldF1bbXNnLnNlbmRlcl0gPSBzYWZlU3ViKHRva2Vuc1t0b2tlbkdldF1bbXNnLnNlbmRlcl0sIGFtb3VudCk7CiAgICB0b2tlbnNbdG9rZW5HZXRdW3VzZXJdID0gc2FmZUFkZCh0b2tlbnNbdG9rZW5HZXRdW3VzZXJdLCBzYWZlTXVsKGFtb3VudCwgKCgxIGV0aGVyKSAtIGZlZU1ha2UpKSAvICgxIGV0aGVyKSk7CiAgICB0b2tlbnNbdG9rZW5HZXRdW2ZlZUFjY291bnRdID0gc2FmZUFkZCh0b2tlbnNbdG9rZW5HZXRdW2ZlZUFjY291bnRdLCBzYWZlTXVsKGFtb3VudCwgZmVlTWFrZSkgLyAoMSBldGhlcikpOwogICAgdG9rZW5zW3Rva2VuR2l2ZV1bdXNlcl0gPSBzYWZlU3ViKHRva2Vuc1t0b2tlbkdpdmVdW3VzZXJdLCBzYWZlTXVsKGFtb3VudEdpdmUsIGFtb3VudCkgLyBhbW91bnRHZXQpOwogICAgdG9rZW5zW3Rva2VuR2l2ZV1bbXNnLnNlbmRlcl0gPSBzYWZlQWRkKHRva2Vuc1t0b2tlbkdpdmVdW21zZy5zZW5kZXJdLCBzYWZlTXVsKHNhZmVNdWwoKCgxIGV0aGVyKSAtIGZlZVRha2UpLCBhbW91bnRHaXZlKSwgYW1vdW50KSAvIGFtb3VudEdldCAvICgxIGV0aGVyKSk7CiAgICB0b2tlbnNbdG9rZW5HaXZlXVtmZWVBY2NvdW50XSA9IHNhZmVBZGQodG9rZW5zW3Rva2VuR2l2ZV1bZmVlQWNjb3VudF0sIHNhZmVNdWwoc2FmZU11bChmZWVUYWtlLCBhbW91bnRHaXZlKSwgYW1vdW50KSAvIGFtb3VudEdldCAvICgxIGV0aGVyKSk7CiAgICBvcmRlckZpbGxzW2hhc2hdID0gc2FmZUFkZChvcmRlckZpbGxzW2hhc2hdLCBhbW91bnQpOwogICAgVHJhZGUodG9rZW5HZXQsIGFtb3VudCwgdG9rZW5HaXZlLCBhbW91bnRHaXZlICogYW1vdW50IC8gYW1vdW50R2V0LCB1c2VyLCBtc2cuc2VuZGVyKTsKICB9CgogIGZ1bmN0aW9uIHRlc3RUcmFkZShhZGRyZXNzIHRva2VuR2V0LCB1aW50IGFtb3VudEdldCwgYWRkcmVzcyB0b2tlbkdpdmUsIHVpbnQgYW1vdW50R2l2ZSwgdWludCBleHBpcmVzLCB1aW50IG5vbmNlLCBhZGRyZXNzIHVzZXIsIHVpbnQ4IHYsIGJ5dGVzMzIgciwgYnl0ZXMzMiBzLCB1aW50IGFtb3VudCwgYWRkcmVzcyBzZW5kZXIpIGNvbnN0YW50IHJldHVybnMoYm9vbCkgewogICAgaWYgKCEoCiAgICAgIHRva2Vuc1t0b2tlbkdldF1bc2VuZGVyXSA+PSBhbW91bnQgJiYKICAgICAgYXZhaWxhYmxlVm9sdW1lKHRva2VuR2V0LCBhbW91bnRHZXQsIHRva2VuR2l2ZSwgYW1vdW50R2l2ZSwgZXhwaXJlcywgbm9uY2UsIHVzZXIsIHYsIHIsIHMpID49IGFtb3VudAogICAgKSkgcmV0dXJuIGZhbHNlOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBhdmFpbGFibGVWb2x1bWUoYWRkcmVzcyB0b2tlbkdldCwgdWludCBhbW91bnRHZXQsIGFkZHJlc3MgdG9rZW5HaXZlLCB1aW50IGFtb3VudEdpdmUsIHVpbnQgZXhwaXJlcywgdWludCBub25jZSwgYWRkcmVzcyB1c2VyLCB1aW50OCB2LCBieXRlczMyIHIsIGJ5dGVzMzIgcykgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICBieXRlczMyIGhhc2ggPSBzaGEyNTYodG9rZW5HZXQsIGFtb3VudEdldCwgdG9rZW5HaXZlLCBhbW91bnRHaXZlLCBleHBpcmVzLCBub25jZSk7CiAgICBpZiAoISgKICAgICAgZWNyZWNvdmVyKGhhc2gsdixyLHMpID09IHVzZXIgJiYKICAgICAgYmxvY2subnVtYmVyIDw9IGV4cGlyZXMKICAgICkpIHJldHVybiAwOwogICAgdWludCBhdmFpbGFibGUxID0gc2FmZVN1YihhbW91bnRHZXQsIG9yZGVyRmlsbHNbaGFzaF0pOwogICAgdWludCBhdmFpbGFibGUyID0gc2FmZU11bCh0b2tlbnNbdG9rZW5HaXZlXVt1c2VyXSwgYW1vdW50R2V0KSAvIGFtb3VudEdpdmU7CiAgICBpZiAoYXZhaWxhYmxlMTxhdmFpbGFibGUyKSByZXR1cm4gYXZhaWxhYmxlMTsKICAgIHJldHVybiBhdmFpbGFibGUyOwogIH0KCiAgZnVuY3Rpb24gY2FuY2VsT3JkZXIoYWRkcmVzcyB0b2tlbkdldCwgdWludCBhbW91bnRHZXQsIGFkZHJlc3MgdG9rZW5HaXZlLCB1aW50IGFtb3VudEdpdmUsIHVpbnQgZXhwaXJlcywgdWludCBub25jZSwgdWludDggdiwgYnl0ZXMzMiByLCBieXRlczMyIHMpIHsKICAgIGlmIChtc2cudmFsdWU+MCkgdGhyb3c7CiAgICBieXRlczMyIGhhc2ggPSBzaGEyNTYodG9rZW5HZXQsIGFtb3VudEdldCwgdG9rZW5HaXZlLCBhbW91bnRHaXZlLCBleHBpcmVzLCBub25jZSk7CiAgICBpZiAoZWNyZWNvdmVyKGhhc2gsdixyLHMpICE9IG1zZy5zZW5kZXIpIHRocm93OwogICAgb3JkZXJGaWxsc1toYXNoXSA9IGFtb3VudEdldDsKICAgIENhbmNlbCh0b2tlbkdldCwgYW1vdW50R2V0LCB0b2tlbkdpdmUsIGFtb3VudEdpdmUsIGV4cGlyZXMsIG5vbmNlLCBtc2cuc2VuZGVyLCB2LCByLCBzKTsKICB9Cn0='.
	

]
