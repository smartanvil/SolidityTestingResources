Class {
	#name : #SRTb8327f32127afe37a544c52b628653e222a93bad,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTb8327f32127afe37a544c52b628653e222a93bad >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLy8gQHRpdGxlIFNhZmVNYXRoIGxpYnJhcnkKbGlicmFyeSBTYWZlTWF0aCB7CgogIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgLyBiOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQoKfQoKLy8vIEB0aXRsZSBSb2xlcyBjb250cmFjdApjb250cmFjdCBSb2xlcyB7CiAgCiAgLy8vIEFkZHJlc3Mgb2Ygb3duZXIgLSBBbGwgcHJpdmlsZWdlcwogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAvLy8gR2xvYmFsIG9wZXJhdG9yIGFkZHJlc3MKICBhZGRyZXNzIHB1YmxpYyBnbG9iYWxPcGVyYXRvcjsKCiAgLy8vIENyb3dkc2FsZSBhZGRyZXNzCiAgYWRkcmVzcyBwdWJsaWMgY3Jvd2RzYWxlOwogIAogIGZ1bmN0aW9uIFJvbGVzKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIC8vLyBJbml0aWFsbHkgc2V0IHRvIDB4MAogICAgZ2xvYmFsT3BlcmF0b3IgPSBhZGRyZXNzKDApOyAKICAgIC8vLyBJbml0aWFsbHkgc2V0IHRvIDB4MCAgICAKICAgIGNyb3dkc2FsZSA9IGFkZHJlc3MoMCk7IAogIH0KCiAgLy8gbW9kaWZpZXIgdG8gZW5mb3JjZSBvbmx5IG93bmVyIGZ1bmN0aW9uIGFjY2VzcwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgLy8gbW9kaWZpZXIgdG8gZW5mb3JjZSBvbmx5IGdsb2JhbCBvcGVyYXRvciBmdW5jdGlvbiBhY2Nlc3MKICBtb2RpZmllciBvbmx5R2xvYmFsT3BlcmF0b3IoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZ2xvYmFsT3BlcmF0b3IpOwogICAgXzsKICB9CgogIC8vIG1vZGlmaWVyIHRvIGVuZm9yY2UgYW55IG9mIDMgc3BlY2lmaWVkIHJvbGVzIHRvIGFjY2VzcyBmdW5jdGlvbgogIG1vZGlmaWVyIGFueVJvbGUoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgbXNnLnNlbmRlciA9PSBnbG9iYWxPcGVyYXRvciB8fCBtc2cuc2VuZGVyID09IGNyb3dkc2FsZSk7CiAgICBfOwogIH0KCiAgLy8vIEBkZXYgQ2hhbmdlIHRoZSBvd25lcgogIC8vLyBAcGFyYW0gbmV3T3duZXIgQWRkcmVzcyBvZiB0aGUgbmV3IG93bmVyCiAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJDaGFuZ2VkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCiAgLy8vIEBkZXYgQ2hhbmdlIGdsb2JhbCBvcGVyYXRvciAtIGluaXRpYWxseSBzZXQgdG8gMAogIC8vLyBAcGFyYW0gbmV3R2xvYmFsT3BlcmF0b3IgQWRkcmVzcyBvZiB0aGUgbmV3IGdsb2JhbCBvcGVyYXRvcgogIGZ1bmN0aW9uIGNoYW5nZUdsb2JhbE9wZXJhdG9yKGFkZHJlc3MgbmV3R2xvYmFsT3BlcmF0b3IpIG9ubHlPd25lciBwdWJsaWMgewogICAgcmVxdWlyZShuZXdHbG9iYWxPcGVyYXRvciAhPSBhZGRyZXNzKDApKTsKICAgIEdsb2JhbE9wZXJhdG9yQ2hhbmdlZChnbG9iYWxPcGVyYXRvciwgbmV3R2xvYmFsT3BlcmF0b3IpOwogICAgZ2xvYmFsT3BlcmF0b3IgPSBuZXdHbG9iYWxPcGVyYXRvcjsKICB9CgogIC8vLyBAZGV2IENoYW5nZSBjcm93ZHNhbGUgYWRkcmVzcyAtIGluaXRpYWxseSBzZXQgdG8gMAogIC8vLyBAcGFyYW0gbmV3Q3Jvd2RzYWxlIEFkZHJlc3Mgb2YgY3Jvd2RzYWxlIGNvbnRyYWN0CiAgZnVuY3Rpb24gY2hhbmdlQ3Jvd2RzYWxlKGFkZHJlc3MgbmV3Q3Jvd2RzYWxlKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUobmV3Q3Jvd2RzYWxlICE9IGFkZHJlc3MoMCkpOwogICAgQ3Jvd2RzYWxlQ2hhbmdlZChjcm93ZHNhbGUsIG5ld0Nyb3dkc2FsZSk7CiAgICBjcm93ZHNhbGUgPSBuZXdDcm93ZHNhbGU7CiAgfQoKICAvLy8gRXZlbnRzCiAgZXZlbnQgT3duZXJDaGFuZ2VkKGFkZHJlc3MgaW5kZXhlZCBfcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIF9uZXdPd25lcik7CiAgZXZlbnQgR2xvYmFsT3BlcmF0b3JDaGFuZ2VkKGFkZHJlc3MgaW5kZXhlZCBfcHJldmlvdXNHbG9iYWxPcGVyYXRvciwgYWRkcmVzcyBpbmRleGVkIF9uZXdHbG9iYWxPcGVyYXRvcik7CiAgZXZlbnQgQ3Jvd2RzYWxlQ2hhbmdlZChhZGRyZXNzIGluZGV4ZWQgX3ByZXZpb3VzQ3Jvd2RzYWxlLCBhZGRyZXNzIGluZGV4ZWQgX25ld0Nyb3dkc2FsZSk7Cgp9CgovLy8gQHRpdGxlIEVSQzIwIGNvbnRyYWN0Ci8vLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9ibG9iL21hc3Rlci9FSVBTL2VpcC0yMC10b2tlbi1zdGFuZGFyZC5tZApjb250cmFjdCBFUkMyMCB7CiAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCk7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwogIAogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsKfQoKLy8vIEB0aXRsZSBFeHRlbmRlZFRva2VuIGNvbnRyYWN0CmNvbnRyYWN0IEV4dGVuZGVkVG9rZW4gaXMgRVJDMjAsIFJvbGVzIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgLy8vIE1heCBhbW91bnQgb2YgbWludGVkIHRva2VucyAoNiBiaWxsaW9uIHRva2VucykKICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBNSU5UX0NBUCA9IDYgKiAxMCoqMjc7CgogIC8vLyBNaW5pbXVtIGFtb3VudCB0byBsb2NrICgxMDAgMDAwIHRva2VucykKICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBNSU5JTVVNX0xPQ0tfQU1PVU5UID0gMTAwMDAwICogMTAqKjE4OwoKICAvLy8gU3RydWN0dXJlIHRoYXQgZGVzY3JpYmVzIGxvY2tpbmcgb2YgdG9rZW5zCiAgc3RydWN0IExvY2tlZCB7CiAgICAgIC8vLy8gQW1vdW50IG9mIHRva2VucyBsb2NrZWQKICAgICAgdWludDI1NiBsb2NrZWRBbW91bnQ7IAogICAgICAvLy8gVGltZSB3aGVuIHRva2VucyB3ZXJlIGxhc3QgbG9ja2VkCiAgICAgIHVpbnQyNTYgbGFzdFVwZGF0ZWQ7IAogICAgICAvLy8gVGltZSB3aGVuIGJvbnVzIHdhcyBsYXN0IGNsYWltZWQKICAgICAgdWludDI1NiBsYXN0Q2xhaW1lZDsgCiAgfQogIAogIC8vLyBVc2VkIHRvIHBhdXNlIHRoZSB0cmFuc2ZlcgogIGJvb2wgcHVibGljIHRyYW5zZmVyUGF1c2VkID0gZmFsc2U7CgogIC8vLyBNYXBwaW5nIGZvciBiYWxhbmNlcwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgcHVibGljIGJhbGFuY2VzOwogIC8vLyBNYXBwaW5nIGZvciBsb2NrZWQgYW1vdW50cwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gTG9ja2VkKSBwdWJsaWMgbG9ja2VkOwogIC8vLyBNYXBwaW5nIGZvciBhbGxvd2FuY2UKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIGludGVybmFsIGFsbG93ZWQ7CgogIC8vLyBAZGV2IFBhdXNlIHRva2VuIHRyYW5zZmVyCiAgZnVuY3Rpb24gcGF1c2UoKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgdHJhbnNmZXJQYXVzZWQgPSB0cnVlOwogICAgICBQYXVzZSgpOwogIH0KCiAgLy8vIEBkZXYgVW5wYXVzZSB0b2tlbiB0cmFuc2ZlcgogIGZ1bmN0aW9uIHVucGF1c2UoKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgdHJhbnNmZXJQYXVzZWQgPSBmYWxzZTsKICAgICAgVW5wYXVzZSgpOwogIH0KCiAgLy8vIEBkZXYgTWludCBuZXcgdG9rZW5zLiBPd25lciwgR2xvYmFsIG9wZXJhdG9yIGFuZCBDcm93ZHNhbGUgY2FuIG1pbnQgbmV3IHRva2VucyBhbmQgdXBkYXRlIHRvdGFsU3VwcGx5CiAgLy8vIEBwYXJhbSBfdG8gQWRkcmVzcyB3aGVyZSB0aGUgdG9rZW5zIHdpbGwgYmUgbWludGVkCiAgLy8vIEBwYXJhbSBfYW1vdW50IEFtb3VudCBvZiB0b2tlbnMgdG8gYmUgbWludGVkCiAgLy8vIEByZXR1cm4gVHJ1ZSBpZiBzdWNjZXNzZnVsbHkgbWludGVkCiAgZnVuY3Rpb24gbWludChhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBwdWJsaWMgYW55Um9sZSByZXR1cm5zIChib29sKSB7CiAgICAgIF9taW50KF90bywgX2Ftb3VudCk7CiAgICAgIE1pbnQoX3RvLCBfYW1vdW50KTsKICAgICAgcmV0dXJuIHRydWU7CiAgfQogIAogIC8vLyBAZGV2IFVzZWQgYnkgbWludCBmdW5jdGlvbgogIGZ1bmN0aW9uIF9taW50KGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIGludGVybmFsIHJldHVybnMgKGJvb2wpIHsKICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CgkgICAgcmVxdWlyZSh0b3RhbFN1cHBseS5hZGQoX2Ftb3VudCkgPD0gTUlOVF9DQVApOwogICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8vLyBAZGV2IEJ1cm5zIHRoZSBhbW91bnQgb2YgdG9rZW5zLiBUb2tlbnMgY2FuIGJlIG9ubHkgYnVybmVkIGZyb20gR2xvYmFsIG9wZXJhdG9yCiAgLy8vIEBwYXJhbSBfYW1vdW50IEFtb3VudCBvZiB0b2tlbnMgdG8gYmUgYnVybmVkCiAgLy8vIEByZXR1cm4gVHJ1ZSBpZiBzdWNjZXNzZnVsbHkgYnVybmVkCiAgZnVuY3Rpb24gYnVybih1aW50IF9hbW91bnQpIHB1YmxpYyBvbmx5R2xvYmFsT3BlcmF0b3IgcmV0dXJucyAoYm9vbCkgewoJICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCk7CgkgICAgdWludDI1NiBuZXdCYWxhbmNlID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOyAgICAgIAogICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IG5ld0JhbGFuY2U7CiAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKF9hbW91bnQpOwogICAgICBCdXJuKG1zZy5zZW5kZXIsIF9hbW91bnQpOwogICAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8vLyBAZGV2IENoZWNrcyB0aGUgYW1vdW50IG9mIGxvY2tlZCB0b2tlbnMKICAvLy8gQHBhcmFtIF9mcm9tIEFkZHJlc3MgdGhhdCB3ZSB3aXNoIHRvIGNoZWNrIHRoZSBsb2NrZWQgYW1vdW50CiAgLy8vIEByZXR1cm4gTnVtYmVyIG9mIGxvY2tlZCB0b2tlbnMKICBmdW5jdGlvbiBsb2NrZWRBbW91bnQoYWRkcmVzcyBfZnJvbSkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgcmV0dXJuIGxvY2tlZFtfZnJvbV0ubG9ja2VkQW1vdW50OwogIH0KCiAgLy8gdG9rZW4gbG9jawogIC8vLyBAZGV2IExvY2tpbmcgdG9rZW5zCiAgLy8vIEBwYXJhbSBfYW1vdW50IEFtb3VudCBvZiB0b2tlbnMgdG8gYmUgbG9ja2VkCiAgLy8vIEByZXR1cm4gVHJ1ZSBpZiBzdWNjZXNzZnVsbHkgbG9ja2VkCiAgZnVuY3Rpb24gbG9jayh1aW50IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgIHJlcXVpcmUoX2Ftb3VudCA+PSBNSU5JTVVNX0xPQ0tfQU1PVU5UKTsKICAgICAgdWludCBuZXdMb2NrZWRBbW91bnQgPSBsb2NrZWRbbXNnLnNlbmRlcl0ubG9ja2VkQW1vdW50LmFkZChfYW1vdW50KTsKICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBuZXdMb2NrZWRBbW91bnQpOwogICAgICBfY2hlY2tMb2NrKG1zZy5zZW5kZXIpOwogICAgICBsb2NrZWRbbXNnLnNlbmRlcl0ubG9ja2VkQW1vdW50ID0gbmV3TG9ja2VkQW1vdW50OwogICAgICBsb2NrZWRbbXNnLnNlbmRlcl0ubGFzdFVwZGF0ZWQgPSBub3c7CiAgICAgIExvY2sobXNnLnNlbmRlciwgX2Ftb3VudCk7CiAgICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8vIEBkZXYgVXNlZCBieSBsb2NrLCBjbGFpbUJvbnVzIGFuZCB1bmxvY2sgZnVuY3Rpb25zCiAgZnVuY3Rpb24gX2NoZWNrTG9jayhhZGRyZXNzIF9mcm9tKSBpbnRlcm5hbCByZXR1cm5zIChib29sKSB7CiAgICBpZiAobG9ja2VkW19mcm9tXS5sb2NrZWRBbW91bnQgPj0gTUlOSU1VTV9MT0NLX0FNT1VOVCkgewogICAgICByZXR1cm4gX21pbnRCb251cyhfZnJvbSwgbG9ja2VkW19mcm9tXS5sb2NrZWRBbW91bnQpOwogICAgfQogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgLy8vIEBkZXYgVXNlZCBieSBsb2NrIGFuZCB1bmxvY2sgZnVuY3Rpb25zCiAgZnVuY3Rpb24gX21pbnRCb251cyhhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF9hbW91bnQpIGludGVybmFsIHJldHVybnMgKGJvb2wpIHsKICAgICAgdWludCByZWZlcmVudFRpbWUgPSBtYXgobG9ja2VkW19mcm9tXS5sYXN0VXBkYXRlZCwgbG9ja2VkW19mcm9tXS5sYXN0Q2xhaW1lZCk7CiAgICAgIHVpbnQgdGltZURpZmZlcmVuY2UgPSBub3cuc3ViKHJlZmVyZW50VGltZSk7CiAgICAgIHVpbnQgYW1vdW50VGVtcCA9IChfYW1vdW50Lm11bCh0aW1lRGlmZmVyZW5jZSkpLmRpdigzMCBkYXlzKTsgCiAgICAgIHVpbnQgbWludGFibGVBbW91bnQgPSBhbW91bnRUZW1wLmRpdigxMDApOwoKICAgICAgbG9ja2VkW19mcm9tXS5sYXN0Q2xhaW1lZCA9IG5vdzsKICAgICAgX21pbnQoX2Zyb20sIG1pbnRhYmxlQW1vdW50KTsKICAgICAgTG9ja0NsYWltZWQoX2Zyb20sIG1pbnRhYmxlQW1vdW50KTsKICAgICAgcmV0dXJuIHRydWU7CiAgfQoKICAvLy8gQGRldiBDbGFpbSBib251cyBmcm9tIGxvY2tlZCBhbW91bnQKICAvLy8gQHJldHVybiBUcnVlIGlmIHN1Y2Nlc3NmdWwKICBmdW5jdGlvbiBjbGFpbUJvbnVzKCkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgcmVxdWlyZShtc2cuc2VuZGVyICE9IGFkZHJlc3MoMCkpOwogICAgICByZXR1cm4gX2NoZWNrTG9jayhtc2cuc2VuZGVyKTsKICB9CgogIC8vLyBAZGV2IFVubG9ja2luZyB0aGUgbG9ja2VkIGFtb3VudCBvZiB0b2tlbnMKICAvLy8gQHBhcmFtIF9hbW91bnQgQW1vdW50IG9mIHRva2VucyB0byBiZSB1bmxvY2tlZAogIC8vLyBAcmV0dXJuIFRydWUgaWYgc3VjY2Vzc2Z1bAogIGZ1bmN0aW9uIHVubG9jayh1aW50IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSBhZGRyZXNzKDApKTsKICAgICAgcmVxdWlyZShsb2NrZWRbbXNnLnNlbmRlcl0ubG9ja2VkQW1vdW50ID49IF9hbW91bnQpOwogICAgICB1aW50IG5ld0xvY2tlZEFtb3VudCA9IGxvY2tlZFttc2cuc2VuZGVyXS5sb2NrZWRBbW91bnQuc3ViKF9hbW91bnQpOwogICAgICBpZiAobmV3TG9ja2VkQW1vdW50IDwgTUlOSU1VTV9MT0NLX0FNT1VOVCkgewogICAgICAgIFVubG9jayhtc2cuc2VuZGVyLCBsb2NrZWRbbXNnLnNlbmRlcl0ubG9ja2VkQW1vdW50KTsKICAgICAgICBfY2hlY2tMb2NrKG1zZy5zZW5kZXIpOwogICAgICAgIGxvY2tlZFttc2cuc2VuZGVyXS5sb2NrZWRBbW91bnQgPSAwOwogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFttc2cuc2VuZGVyXS5sb2NrZWRBbW91bnQgPSBuZXdMb2NrZWRBbW91bnQ7CiAgICAgICAgVW5sb2NrKG1zZy5zZW5kZXIsIF9hbW91bnQpOwogICAgICAgIF9taW50Qm9udXMobXNnLnNlbmRlciwgX2Ftb3VudCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgfQoKICAvLy8gQGRldiBVc2VkIGJ5IHRyYW5zZmVyIGZ1bmN0aW9uCiAgZnVuY3Rpb24gX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaW50ZXJuYWwgewogICAgcmVxdWlyZSghdHJhbnNmZXJQYXVzZWQpOwogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUuYWRkKGxvY2tlZFtfZnJvbV0ubG9ja2VkQW1vdW50KSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQogIAogIC8vLyBAZGV2IFRyYW5zZmVyIHRva2VucwogIC8vLyBAcGFyYW0gX3RvIEFkZHJlc3MgdG8gcmVjZWl2ZSB0aGUgdG9rZW5zCiAgLy8vIEBwYXJhbSBfdmFsdWUgQW1vdW50IG9mIHRva2VucyB0byBiZSBzZW50CiAgLy8vIEByZXR1cm4gVHJ1ZSBpZiBzdWNjZXNzZnVsCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgX3RyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KICAKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIF90cmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvLy8gQGRldiBDaGVjayBiYWxhbmNlIG9mIGFuIGFkZHJlc3MKICAvLy8gQHBhcmFtIF9vd25lciBBZGRyZXNzIHRvIGJlIGNoZWNrZWQKICAvLy8gQHJldHVybiBOdW1iZXIgb2YgdG9rZW5zCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9CgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfSBlbHNlIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvLy8gQGRldiBHZXQgbWF4IG51bWJlcgogIC8vLyBAcGFyYW0gYSBGaXJzdCBudW1iZXIKICAvLy8gQHBhcmFtIGIgU2Vjb25kIG51bWJlcgogIC8vLyBAcmV0dXJuIFRoZSBiaWdnZXIgb25lIDopCiAgZnVuY3Rpb24gbWF4KHVpbnQgYSwgdWludCBiKSBwdXJlIGludGVybmFsIHJldHVybnModWludCkgewogICAgcmV0dXJuIChhID4gYikgPyBhIDogYjsKICB9CgogIC8vLyBAZGV2IERvbid0IGFjY2VwdCBldGhlcgogIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKICAgIHJldmVydCgpOwogIH0KCiAgLy8vIEBkZXYgQ2xhaW0gdG9rZW5zIHRoYXQgaGF2ZSBiZWVuIHNlbnQgdG8gY29udHJhY3QgbWlzdGFrZW5seQogIC8vLyBAcGFyYW0gX3Rva2VuIFRva2VuIGFkZHJlc3MgdGhhdCB3ZSB3YW50IHRvIGNsYWltCiAgZnVuY3Rpb24gY2xhaW1Ub2tlbnMoYWRkcmVzcyBfdG9rZW4pIHB1YmxpYyBvbmx5T3duZXIgewogICAgaWYgKF90b2tlbiA9PSBhZGRyZXNzKDApKSB7CiAgICAgICAgIG93bmVyLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICAgICAgIHJldHVybjsKICAgIH0KCiAgICBFUkMyMCB0b2tlbiA9IEVSQzIwKF90b2tlbik7CiAgICB1aW50IGJhbGFuY2UgPSB0b2tlbi5iYWxhbmNlT2YodGhpcyk7CiAgICB0b2tlbi50cmFuc2Zlcihvd25lciwgYmFsYW5jZSk7CiAgICBDbGFpbWVkVG9rZW5zKF90b2tlbiwgb3duZXIsIGJhbGFuY2UpOwogIH0KCiAgLy8vIEV2ZW50cwogIGV2ZW50IE1pbnQoYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCk7CiAgZXZlbnQgQnVybihhZGRyZXNzIF9mcm9tLCB1aW50IF9hbW91bnQpOwogIGV2ZW50IExvY2soYWRkcmVzcyBfZnJvbSwgdWludCBfYW1vdW50KTsKICBldmVudCBMb2NrQ2xhaW1lZChhZGRyZXNzIF9mcm9tLCB1aW50IF9hbW91bnQpOwogIGV2ZW50IFVubG9jayhhZGRyZXNzIF9mcm9tLCB1aW50IF9hbW91bnQpOwogIGV2ZW50IENsYWltZWRUb2tlbnMoYWRkcmVzcyBpbmRleGVkIF90b2tlbiwgYWRkcmVzcyBpbmRleGVkIF9vd25lciwgdWludCBfYW1vdW50KTsKICBldmVudCBQYXVzZSgpOwogIGV2ZW50IFVucGF1c2UoKTsKCn0KCi8vLyBAdGl0bGUgV2l6emxlIEluZmluaXR5IFRva2VuIGNvbnRyYWN0CmNvbnRyYWN0IFdpenpsZUluZmluaXR5VG9rZW4gaXMgRXh0ZW5kZWRUb2tlbiB7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiV2l6emxlIEluZmluaXR5IFRva2VuIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIldaSSI7CiAgICB1aW50OCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgdmVyc2lvbiA9ICJ2MSI7CgogICAgZnVuY3Rpb24gV2l6emxlSW5maW5pdHlUb2tlbigpIHB1YmxpYyB7IAogICAgICB0b3RhbFN1cHBseSA9IDA7CiAgICB9Cgp9'.
	

]
