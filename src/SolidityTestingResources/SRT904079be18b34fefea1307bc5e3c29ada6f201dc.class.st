Class {
	#name : #SRT904079be18b34fefea1307bc5e3c29ada6f201dc,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT904079be18b34fefea1307bc5e3c29ada6f201dc >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHRoYXQgYXJlIHNhZmUgZm9yIHVpbnQyNTYgYWdhaW5zdCBvdmVyZmxvdyBhbmQgbmVnYXRpdmUgdmFsdWVzCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9ibG9iL21hc3Rlci9jb250cmFjdHMvbWF0aC9TYWZlTWF0aC5zb2wKICovCgpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKCi8qKgogKiBAdGl0bGUgTW9kZXJhdGVkCiAqIEBkZXYgcmVzdHJpY3RzIGV4ZWN1dGlvbiBvZiAnb25seU1vZGVyYXRvcicgbW9kaWZpZWQgZnVuY3Rpb25zIHRvIHRoZSBjb250cmFjdCBtb2RlcmF0b3IKICogQGRldiByZXN0cmljdHMgZXhlY3V0aW9uIG9mICdpZlVucmVzdHJpY3RlZCcgbW9kaWZpZWQgZnVuY3Rpb25zIHRvIHdoZW4gdW5yZXN0cmljdGVkIAogKiAgICAgIGJvb2xlYW4gc3RhdGUgaXMgdHJ1ZQogKiBAZGV2IGFsbG93cyBmb3IgdGhlIGV4dHJhY3Rpb24gb2YgZXRoZXIgb3Igb3RoZXIgRVJDMjAgdG9rZW5zIG1pc3Rha2VubHkgc2VudCB0byB0aGlzIGFkZHJlc3MKICovCmNvbnRyYWN0IE1vZGVyYXRlZCB7CiAgICAKICAgIGFkZHJlc3MgcHVibGljIG1vZGVyYXRvcjsKICAgIAogICAgYm9vbCBwdWJsaWMgdW5yZXN0cmljdGVkOwogICAgCiAgICBtb2RpZmllciBvbmx5TW9kZXJhdG9yIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gbW9kZXJhdG9yKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICBtb2RpZmllciBpZlVucmVzdHJpY3RlZCB7CiAgICAgICAgcmVxdWlyZSh1bnJlc3RyaWN0ZWQpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIG1vZGlmaWVyIG9ubHlQYXlsb2FkU2l6ZSh1aW50MjU2IG51bVdvcmRzKSB7CiAgICAgICAgYXNzZXJ0KG1zZy5kYXRhLmxlbmd0aCA+PSBudW1Xb3JkcyAqIDMyICsgNCk7CiAgICAgICAgXzsKICAgIH0gICAgCiAgICAKICAgIGZ1bmN0aW9uIE1vZGVyYXRlZCgpIHB1YmxpYyB7CiAgICAgICAgbW9kZXJhdG9yID0gbXNnLnNlbmRlcjsKICAgICAgICB1bnJlc3RyaWN0ZWQgPSB0cnVlOwogICAgfQogICAgCiAgICBmdW5jdGlvbiByZWFzc2lnbk1vZGVyYXRvcihhZGRyZXNzIG5ld01vZGVyYXRvcikgcHVibGljIG9ubHlNb2RlcmF0b3IgewogICAgICAgIG1vZGVyYXRvciA9IG5ld01vZGVyYXRvcjsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gcmVzdHJpY3QoKSBwdWJsaWMgb25seU1vZGVyYXRvciB7CiAgICAgICAgdW5yZXN0cmljdGVkID0gZmFsc2U7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHVucmVzdHJpY3QoKSBwdWJsaWMgb25seU1vZGVyYXRvciB7CiAgICAgICAgdW5yZXN0cmljdGVkID0gdHJ1ZTsKICAgIH0gIAogICAgCiAgICAvLy8gVGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgdG8gZXh0cmFjdCB0b2tlbnMgbWlzdGFrZW5seSBzZW50IHRvIHRoaXMgY29udHJhY3QuCiAgICAvLy8gQHBhcmFtIF90b2tlbiBUaGUgYWRkcmVzcyBvZiB0aGUgdG9rZW4gY29udHJhY3QgdGhhdCB5b3Ugd2FudCB0byByZWNvdmVyCiAgICBmdW5jdGlvbiBleHRyYWN0KGFkZHJlc3MgX3Rva2VuKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX3Rva2VuICE9IGFkZHJlc3MoMHgwKSk7CiAgICAgICAgVG9rZW4gdG9rZW4gPSBUb2tlbihfdG9rZW4pOwogICAgICAgIHVpbnQyNTYgYmFsYW5jZSA9IHRva2VuLmJhbGFuY2VPZih0aGlzKTsKICAgICAgICByZXR1cm4gdG9rZW4udHJhbnNmZXIobW9kZXJhdG9yLCBiYWxhbmNlKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gaXNDb250cmFjdChhZGRyZXNzIF9hZGRyKSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICB1aW50MjU2IHNpemU7CiAgICAgICAgYXNzZW1ibHkgeyBzaXplIDo9IGV4dGNvZGVzaXplKF9hZGRyKSB9CiAgICAgICAgcmV0dXJuIChzaXplID4gMCk7CiAgICB9ICAgIAp9IAoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBUb2tlbiB7IAoKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOyAgICAKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsgICAgCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsgICAgCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsgICAgCgp9CgoKCgoKCi8qKgogKiBAdGl0bGUgQ29udHJvbGxlZAogKiBAZGV2IFJlc3RyaWN0cyBleGVjdXRpb24gb2YgbW9kaWZpZWQgZnVuY3Rpb25zIHRvIHRoZSBjb250cmFjdCBjb250cm9sbGVyIGFsb25lCiAqLwpjb250cmFjdCBDb250cm9sbGVkIHsKICAgIGFkZHJlc3MgcHVibGljIGNvbnRyb2xsZXI7CgogICAgZnVuY3Rpb24gQ29udHJvbGxlZCgpIHB1YmxpYyB7CiAgICAgICAgY29udHJvbGxlciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgbW9kaWZpZXIgb25seUNvbnRyb2xsZXIgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBjb250cm9sbGVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyQ29udHJvbChhZGRyZXNzIG5ld0NvbnRyb2xsZXIpIHB1YmxpYyBvbmx5Q29udHJvbGxlcnsKICAgICAgICBjb250cm9sbGVyID0gbmV3Q29udHJvbGxlcjsKICAgIH0KfQoKLyoqCiAqIEB0aXRsZSBSZWZ1bmRWYXVsdAogKiBAZGV2IFRoaXMgY29udHJhY3QgaXMgdXNlZCBmb3Igc3RvcmluZyBmdW5kcyB3aGlsZSBhIGNyb3dkc2FsZQogKiBpcyBpbiBwcm9ncmVzcy4gU3VwcG9ydHMgcmVmdW5kaW5nIHRoZSBtb25leSBpZiBjcm93ZHNhbGUgZmFpbHMsCiAqIGFuZCBmb3J3YXJkaW5nIGl0IGlmIGNyb3dkc2FsZSBpcyBzdWNjZXNzZnVsLgogKi8KY29udHJhY3QgUmVmdW5kVmF1bHQgaXMgQ29udHJvbGxlZCB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICAgIAogICAgZW51bSBTdGF0ZSB7IEFjdGl2ZSwgUmVmdW5kaW5nLCBDbG9zZWQgfQogICAgCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBkZXBvc2l0ZWQ7CiAgICBhZGRyZXNzIHB1YmxpYyB3YWxsZXQ7CiAgICBTdGF0ZSBwdWJsaWMgc3RhdGU7CiAgICAKICAgIGV2ZW50IENsb3NlZCgpOwogICAgZXZlbnQgUmVmdW5kc0VuYWJsZWQoKTsKICAgIGV2ZW50IFJlZnVuZGVkKGFkZHJlc3MgaW5kZXhlZCBiZW5lZmljaWFyeSwgdWludDI1NiB3ZWlBbW91bnQpOwogICAgCiAgICBmdW5jdGlvbiBSZWZ1bmRWYXVsdChhZGRyZXNzIF93YWxsZXQpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfd2FsbGV0ICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHdhbGxldCA9IF93YWxsZXQ7ICAgICAgICAKICAgICAgICBzdGF0ZSA9IFN0YXRlLkFjdGl2ZTsKICAgIH0KCglmdW5jdGlvbiAoKSBleHRlcm5hbCBwYXlhYmxlIHsKCSAgICByZXZlcnQoKTsKCX0KICAgIAogICAgZnVuY3Rpb24gZGVwb3NpdChhZGRyZXNzIGludmVzdG9yKSBvbmx5Q29udHJvbGxlciBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZShzdGF0ZSA9PSBTdGF0ZS5BY3RpdmUpOwogICAgICAgIGRlcG9zaXRlZFtpbnZlc3Rvcl0gPSBkZXBvc2l0ZWRbaW52ZXN0b3JdLmFkZChtc2cudmFsdWUpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBjbG9zZSgpIG9ubHlDb250cm9sbGVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShzdGF0ZSA9PSBTdGF0ZS5BY3RpdmUpOwogICAgICAgIHN0YXRlID0gU3RhdGUuQ2xvc2VkOwogICAgICAgIENsb3NlZCgpOwogICAgICAgIHdhbGxldC50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBlbmFibGVSZWZ1bmRzKCkgb25seUNvbnRyb2xsZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKHN0YXRlID09IFN0YXRlLkFjdGl2ZSk7CiAgICAgICAgc3RhdGUgPSBTdGF0ZS5SZWZ1bmRpbmc7CiAgICAgICAgUmVmdW5kc0VuYWJsZWQoKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gcmVmdW5kKGFkZHJlc3MgaW52ZXN0b3IpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShzdGF0ZSA9PSBTdGF0ZS5SZWZ1bmRpbmcpOwogICAgICAgIHVpbnQyNTYgZGVwb3NpdGVkVmFsdWUgPSBkZXBvc2l0ZWRbaW52ZXN0b3JdOwogICAgICAgIGRlcG9zaXRlZFtpbnZlc3Rvcl0gPSAwOwogICAgICAgIGludmVzdG9yLnRyYW5zZmVyKGRlcG9zaXRlZFZhbHVlKTsKICAgICAgICBSZWZ1bmRlZChpbnZlc3RvciwgZGVwb3NpdGVkVmFsdWUpOwogICAgfQp9Cgpjb250cmFjdCBDcm93ZFNhbGUgaXMgTW9kZXJhdGVkIHsKCXVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoJCgkvLyBMRU9OIEVSQzIwIHNtYXJ0IGNvbnRyYWN0CglUb2tlbiBwdWJsaWMgdG9rZW5Db250cmFjdDsKCQogICAgLy8gY3Jvd2RzYWxlIHN0YXJ0cyAxIE1hcmNoIDIwMTgsIDAwaDAwIFBEVAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgc3RhcnREYXRlID0gMTUxOTg5MTIwMDsKICAgIC8vIGNyb3dkc2FsZSBlbmRzIDMxIERlY2VtYmVyIDIwMTgsIDIzaDU5IFBEVAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZW5kRGF0ZSA9IDE1NDYyNDMxNDA7CiAgICAKICAgIC8vIGNyb3dkc2FsZSBhaW1zIHRvIHNlbGwgYXQgbGVhc3QgMTAwIDAwMCBMRU9OUwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgY3Jvd2RzYWxlVGFyZ2V0ID0gMTAwMDAwICogMTAqKjE4OwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgbWFyZ2luID0gMTAwMCAqIDEwKioxODsKICAgIC8vIHJ1bm5pbmcgdG90YWwgb2YgdG9rZW5zIHNvbGQKICAgIHVpbnQyNTYgcHVibGljIHRva2Vuc1NvbGQ7CiAgICAKICAgIC8vIGV0aGVyZXVtIHRvIFVTIERvbGxhciBleGNoYW5nZSByYXRlCiAgICB1aW50MjU2IHB1YmxpYyBldGhlclRvVVNEUmF0ZTsKICAgIAogICAgLy8gYWRkcmVzcyB0byByZWNlaXZlIGFjY3VtdWxhdGVkIGV0aGVyIGdpdmVuIGEgc3VjY2Vzc2Z1bCBjcm93ZHNhbGUKCWFkZHJlc3MgcHVibGljIGNvbnN0YW50IGV0aGVyVmF1bHQgPSAweEQ4ZDk3RTNCNWRCMTM4OTFlMDgyRjAwRUQzZmU5QTBCQzZCN2VBMDE7ICAgIAoJLy8gdmF1bHQgY29udHJhY3QgZXNjcm93cyBldGhlciBhbmQgZmFjaWxpdGF0ZXMgcmVmdW5kcyBnaXZlbiB1bnN1Y2Nlc2Z1bCBjcm93ZHNhbGUKCVJlZnVuZFZhdWx0IHB1YmxpYyByZWZ1bmRWYXVsdDsKICAgIAogICAgLy8gbWluaW11bSBvZiAwLjAwNSBldGhlciB0byBwYXJ0aWNpcGF0ZSBpbiBjcm93ZHNhbGUKCXVpbnQyNTYgY29uc3RhbnQgcHVyY2hhc2VUaHJlc2hvbGQgPSA1IGZpbm5leTsKCiAgICAvLyBib29sZWFuIHRvIGluZGljYXRlIGNyb3dkc2FsZSBmaW5hbGl6ZWQgc3RhdGUJCglib29sIHB1YmxpYyBpc0ZpbmFsaXplZCA9IGZhbHNlOwoJCglib29sIHB1YmxpYyBhY3RpdmUgPSBmYWxzZTsKCQoJLy8gZmluYWxpemF0aW9uIGV2ZW50CglldmVudCBGaW5hbGl6ZWQoKTsKCQoJLy8gcHVyY2hhc2UgZXZlbnQKCWV2ZW50IFB1cmNoYXNlZChhZGRyZXNzIGluZGV4ZWQgcHVyY2hhc2VyLCB1aW50MjU2IGluZGV4ZWQgdG9rZW5zKTsKICAgIAogICAgLy8gY2hlY2tzIHRoYXQgY3Jvd2Qgc2FsZSBpcyBsaXZlCQogICAgbW9kaWZpZXIgb25seVdoaWxlQWN0aXZlIHsKICAgICAgICByZXF1aXJlKG5vdyA+PSBzdGFydERhdGUgJiYgbm93IDw9IGVuZERhdGUgJiYgYWN0aXZlKTsKICAgICAgICBfOwogICAgfQkKCQogICAgZnVuY3Rpb24gQ3Jvd2RTYWxlKGFkZHJlc3MgX3Rva2VuQWRkciwgdWludDI1NiBwcmljZSkgcHVibGljIHsKICAgICAgICAvLyB0aGUgTEVPTiB0b2tlbiBjb250cmFjdAogICAgICAgIHRva2VuQ29udHJhY3QgPSBUb2tlbihfdG9rZW5BZGRyKTsKICAgICAgICAvLyBpbml0aWF0ZSBuZXcgcmVmdW5kIHZhdWx0IHRvIGVzY3JvdyBldGhlciBmcm9tIHB1cmNoYXNlcnMKICAgICAgICByZWZ1bmRWYXVsdCA9IG5ldyBSZWZ1bmRWYXVsdChldGhlclZhdWx0KTsKICAgICAgICAKICAgICAgICBldGhlclRvVVNEUmF0ZSA9IHByaWNlOwogICAgfQkKCWZ1bmN0aW9uIHNldFJhdGUodWludDI1NiBfcmF0ZSkgcHVibGljIG9ubHlNb2RlcmF0b3IgcmV0dXJucyAoYm9vbCkgewoJICAgIGV0aGVyVG9VU0RSYXRlID0gX3JhdGU7Cgl9CgkvLyBmYWxsYmFjayBmdW5jdGlvbiBpbnZva2VzIGJ1eVRva2VucyBtZXRob2QKCWZ1bmN0aW9uKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CgkgICAgYnV5VG9rZW5zKG1zZy5zZW5kZXIpOwoJfQoJCgkvLyBmb3J3YXJkcyBldGhlciByZWNlaXZlZCB0byByZWZ1bmQgdmF1bHQgYW5kIGdlbmVyYXRlcyB0b2tlbnMgZm9yIHB1cmNoYXNlcgoJZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgX3B1cmNoYXNlcikgcHVibGljIHBheWFibGUgaWZVbnJlc3RyaWN0ZWQgb25seVdoaWxlQWN0aXZlIHJldHVybnMgKGJvb2wpIHsKCSAgICByZXF1aXJlKCF0YXJnZXRSZWFjaGVkKCkpOwoJICAgIHJlcXVpcmUobXNnLnZhbHVlID4gcHVyY2hhc2VUaHJlc2hvbGQpOwoJICAgIHJlZnVuZFZhdWx0LmRlcG9zaXQudmFsdWUobXNnLnZhbHVlKShfcHVyY2hhc2VyKTsKCSAgICAvLyAxIExFT04gaXMgcHJpY2VkIGF0IDEgVVNECgkgICAgLy8gZXRoZXJUb1VTRFJhdGUgaXMgc3RvcmVkIGluIGNlbnRzLCAvMTAwIHRvIGdldCBVU0QgcXVhbnRpdHkKCSAgICAvLyBjcm93ZHNhbGUgb2ZmZXJzIDEwMCUgYm9udXMsIHB1cmNoYXNlciByZWNlaXZlcyAodG9rZW5zIGJlZm9yZSBib251cykgKiAyCgkgICAgLy8gdG9rZW5zID0gKGV0aGVyICogZXRoZXJUb1VTRFJhdGUgaW4gY2VudHMpICogMiAvIDEwMAoJCXVpbnQyNTYgX3Rva2VucyA9IChtc2cudmFsdWUpLm11bChldGhlclRvVVNEUmF0ZSkuZGl2KDUwKTsJCQoJCXJlcXVpcmUodG9rZW5Db250cmFjdC50cmFuc2ZlckZyb20obW9kZXJhdG9yLF9wdXJjaGFzZXIsIF90b2tlbnMpKTsKICAgICAgICB0b2tlbnNTb2xkID0gdG9rZW5zU29sZC5hZGQoX3Rva2Vucyk7CiAgICAgICAgUHVyY2hhc2VkKF9wdXJjaGFzZXIsIF90b2tlbnMpOwogICAgICAgIHJldHVybiB0cnVlOwoJfQkKCQoJZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHB1YmxpYyBvbmx5TW9kZXJhdG9yIHJldHVybnMgKGJvb2wpIHsKCSAgICByZXF1aXJlKCFhY3RpdmUgJiYgIWlzRmluYWxpemVkKTsKCSAgICByZXF1aXJlKHRva2VuQ29udHJhY3QuYWxsb3dhbmNlKG1vZGVyYXRvcixhZGRyZXNzKHRoaXMpKSA9PSBjcm93ZHNhbGVUYXJnZXQgKyBtYXJnaW4pOwoJICAgIGFjdGl2ZSA9IHRydWU7Cgl9CgkKCS8vIGFjdGl2YXRlcyBlbmQgb2YgY3Jvd2RzYWxlIHN0YXRlCiAgICBmdW5jdGlvbiBmaW5hbGl6ZSgpIHB1YmxpYyBvbmx5TW9kZXJhdG9yIHsKICAgICAgICAvLyBjYW5ub3QgaGF2ZSBiZWVuIGludm9rZWQgYmVmb3JlCiAgICAgICAgcmVxdWlyZSghaXNGaW5hbGl6ZWQpOwogICAgICAgIC8vIGNhbiBvbmx5IGJlIGludm9rZWQgYWZ0ZXIgZW5kIGRhdGUgb3IgaWYgdGFyZ2V0IGhhcyBiZWVuIHJlYWNoZWQKICAgICAgICByZXF1aXJlKGhhc0VuZGVkKCkgfHwgdGFyZ2V0UmVhY2hlZCgpKTsKICAgICAgICAKICAgICAgICAvLyBpZiBjcm93ZHNhbGUgaGFzIGJlZW4gc3VjY2Vzc2Z1bAogICAgICAgIGlmKHRhcmdldFJlYWNoZWQoKSkgewogICAgICAgICAgICAvLyBjbG9zZSByZWZ1bmQgdmF1bHQgYW5kIGZvcndhcmQgZXRoZXIgdG8gZXRoZXJWYXVsdAogICAgICAgICAgICByZWZ1bmRWYXVsdC5jbG9zZSgpOwoKICAgICAgICAvLyBpZiB0aGUgc2FsZSB3YXMgdW5zdWNjZXNzZnVsICAgIAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIGFjdGl2YXRlIHJlZnVuZCB2YXVsdAogICAgICAgICAgICByZWZ1bmRWYXVsdC5lbmFibGVSZWZ1bmRzKCk7CiAgICAgICAgfQogICAgICAgIC8vIGVtaXQgRmluYWxpemVkIGV2ZW50CiAgICAgICAgRmluYWxpemVkKCk7CiAgICAgICAgLy8gc2V0IGlzRmluYWxpemVkIGJvb2xlYW4gdG8gdHJ1ZQogICAgICAgIGlzRmluYWxpemVkID0gdHJ1ZTsKICAgICAgICAKICAgICAgICBhY3RpdmUgPSBmYWxzZTsKCiAgICB9CiAgICAKCS8vIGNoZWNrcyBpZiBlbmQgZGF0ZSBvZiBjcm93ZHNhbGUgaXMgcGFzc2VkICAgIAogICAgZnVuY3Rpb24gaGFzRW5kZWQoKSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gKG5vdyA+IGVuZERhdGUpOwogICAgfQogICAgCiAgICAvLyBjaGVja3MgaWYgY3Jvd2RzYWxlIHRhcmdldCBpcyByZWFjaGVkCiAgICBmdW5jdGlvbiB0YXJnZXRSZWFjaGVkKCkgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuICh0b2tlbnNTb2xkID49IGNyb3dkc2FsZVRhcmdldCk7CiAgICB9CiAgICAKICAgIC8vIHJlZnVuZHMgZXRoZXIgdG8gaW52ZXN0b3JzIGlmIGNyb3dkc2FsZSBpcyB1bnN1Y2Nlc3NmdWwgCiAgICBmdW5jdGlvbiBjbGFpbVJlZnVuZCgpIHB1YmxpYyB7CiAgICAgICAgLy8gY2FuIG9ubHkgYmUgaW52b2tlZCBhZnRlciBzYWxlIGlzIGZpbmFsaXplZAogICAgICAgIHJlcXVpcmUoaXNGaW5hbGl6ZWQpOwogICAgICAgIC8vIGNhbiBvbmx5IGJlIGludm9rZWQgaWYgc2FsZSB0YXJnZXQgd2FzIG5vdCByZWFjaGVkCiAgICAgICAgcmVxdWlyZSghdGFyZ2V0UmVhY2hlZCgpKTsKICAgICAgICAvLyBpZiBtc2cuc2VuZGVyIGludmVzdGVkIGV0aGVyIGR1cmluZyBjcm93ZHNhbGUgLSByZWZ1bmQgdGhlbSBvZiB0aGVpciBjb250cmlidXRpb24KICAgICAgICByZWZ1bmRWYXVsdC5yZWZ1bmQobXNnLnNlbmRlcik7CiAgICB9Cn0='.
	

]
