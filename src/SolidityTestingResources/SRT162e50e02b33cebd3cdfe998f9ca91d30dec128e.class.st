Class {
	#name : #SRT162e50e02b33cebd3cdfe998f9ca91d30dec128e,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT162e50e02b33cebd3cdfe998f9ca91d30dec128e >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7Cgpjb250cmFjdCBPd25hYmxlIHsKCiAgYWRkcmVzcyBwdWJsaWMgY29udHJhY3RPd25lcjsKCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBjb250cmFjdE93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIG1vZGlmaWVyIG9ubHlDb250cmFjdE93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGNvbnRyYWN0T3duZXIpOwogICAgXzsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyQ29udHJhY3RPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYyBvbmx5Q29udHJhY3RPd25lciB7CiAgICByZXF1aXJlKF9uZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIGNvbnRyYWN0T3duZXIgPSBfbmV3T3duZXI7CiAgfQogIAogIGZ1bmN0aW9uIGNvbnRyYWN0V2l0aGRyYXcoKSBwdWJsaWMgb25seUNvbnRyYWN0T3duZXIgewogICAgICBjb250cmFjdE93bmVyLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgfSAgCgp9CgovLy8gQHRpdGxlIEludGVyZmFjZSBmb3IgY29udHJhY3RzIGNvbmZvcm1pbmcgdG8gRVJDLTcyMTogTm9uLUZ1bmdpYmxlIFRva2VucwovLy8gQGF1dGhvciBEaWV0ZXIgU2hpcmxleSA8PGEgaHJlZj0iL2Nkbi1jZ2kvbC9lbWFpbC1wcm90ZWN0aW9uIiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9Ijc0MTAxMTAwMTEzNDE1MGMxZDFiMTkwZTExMWE1YTE3MWIiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L2E+PiAoaHR0cHM6Ly9naXRodWIuY29tL2RldGUpCmNvbnRyYWN0IEVSQzcyMSB7CiAgLy8gUmVxdWlyZWQgbWV0aG9kcwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKICBmdW5jdGlvbiBpbXBsZW1lbnRzRVJDNzIxKCkgcHVibGljIHB1cmUgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gb3duZXJPZih1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgdmlldyByZXR1cm5zIChhZGRyZXNzIGFkZHIpOwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiB0b3RhbCk7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYzsKCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB0b2tlbklkKTsKCiAgLy8gT3B0aW9uYWwKICAvLyBmdW5jdGlvbiBuYW1lKCkgcHVibGljIHZpZXcgcmV0dXJucyAoc3RyaW5nIG5hbWUpOwogIC8vIGZ1bmN0aW9uIHN5bWJvbCgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHN0cmluZyBzeW1ib2wpOwogIC8vIGZ1bmN0aW9uIHRva2VuT2ZPd25lckJ5SW5kZXgoYWRkcmVzcyBfb3duZXIsIHVpbnQyNTYgX2luZGV4KSBleHRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQyNTYgdG9rZW5JZCk7CiAgLy8gZnVuY3Rpb24gdG9rZW5zT2ZPd25lcihhZGRyZXNzIF9vd25lcikgZXh0ZXJuYWwgdmlldyByZXR1cm5zICh1aW50MjU2W10gdG9rZW5JZHMpOwogIC8vIGZ1bmN0aW9uIHRva2VuTWV0YWRhdGEodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoc3RyaW5nIGluZm9VcmwpOwp9Cgpjb250cmFjdCBFdGhQaXJhbmhhIGlzIEVSQzcyMSwgT3duYWJsZSB7CgogIGV2ZW50IFBpcmFuaGFDcmVhdGVkKHVpbnQyNTYgdG9rZW5JZCwgc3RyaW5nIG5hbWUsIGFkZHJlc3Mgb3duZXIpOwogIGV2ZW50IFRva2VuU29sZCh1aW50MjU2IHRva2VuSWQsIHVpbnQyNTYgb2xkUHJpY2UsIHVpbnQyNTYgbmV3UHJpY2UsIGFkZHJlc3MgcHJldk93bmVyLCBhZGRyZXNzIHdpbm5lciwgc3RyaW5nIG5hbWUpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB0b2tlbklkKTsKCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBOQU1FID0gIlBpcmFuaGEiOwogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgU1lNQk9MID0gIlBpcmFuaGFUb2tlbiI7CgogIG1hcHBpbmcgKHVpbnQyNTYgPT4gYWRkcmVzcykgcHJpdmF0ZSBwaXJhbmhhSWRUb093bmVyOwoKICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHByaXZhdGUgb3duZXJzaGlwVG9rZW5Db3VudDsKICAKICAgLyoqKiBEQVRBVFlQRVMgKioqLwogIHN0cnVjdCBQaXJhbmhhIHsKICAgIHN0cmluZyBuYW1lOwoJdWludDggc2l6ZTsKCXVpbnQyNTYgZ2VuOwoJdWludDggdW5pcXVlOwoJdWludDI1NiBncm93dGhTdGFydFRpbWU7Cgl1aW50MjU2IHNlbGxQcmljZTsKCXVpbnQ4IGh1bmdyeTsKICB9CgogIFBpcmFuaGFbXSBwdWJsaWMgcGlyYW5oYXM7CiAgCiAgdWludDI1NiBwcml2YXRlIGJyZWVkaW5nQ29zdCA9IDAuMDAxIGV0aGVyOwogIHVpbnQyNTYgcHJpdmF0ZSBiaXRlQ29zdCA9IDAuMDAxIGV0aGVyOwoKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgeyAvL0VSQzcyMQogICAgcmV0dXJuIG93bmVyc2hpcFRva2VuQ291bnRbX293bmVyXTsKICB9CgogIGZ1bmN0aW9uIGNyZWF0ZVBpcmFuaGFUb2tlbihzdHJpbmcgX25hbWUsIGFkZHJlc3MgX293bmVyLCB1aW50MjU2IF9wcmljZSwgdWludDggX3NpemUsIHVpbnQ4IF9odW5ncnkpIHB1YmxpYyBvbmx5Q29udHJhY3RPd25lciB7CgkJLy9FbWl0IG5ldyB0b2tlbnMgT05MWSBHRU4gMSAKCQlfY3JlYXRlUGlyYW5oYShfbmFtZSwgX293bmVyLCBfcHJpY2UsIF9zaXplLCAxLCAwLCBfaHVuZ3J5KTsKICB9CgogIGZ1bmN0aW9uIGltcGxlbWVudHNFUkM3MjEoKSBwdWJsaWMgcHVyZSByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIG5hbWUoKSBwdWJsaWMgcHVyZSByZXR1cm5zIChzdHJpbmcpIHsgLy9FUkM3MjEKICAgIHJldHVybiBOQU1FOwogIH0KCiAgZnVuY3Rpb24gc3ltYm9sKCkgcHVibGljIHB1cmUgcmV0dXJucyAoc3RyaW5nKSB7IC8vRVJDNzIxCiAgICByZXR1cm4gU1lNQk9MOwogIH0gIAoKICBmdW5jdGlvbiBvd25lck9mKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKGFkZHJlc3Mgb3duZXIpIHsgLy9FUkM3MjEKICAgIG93bmVyID0gcGlyYW5oYUlkVG9Pd25lcltfdG9rZW5JZF07CiAgICByZXF1aXJlKG93bmVyICE9IGFkZHJlc3MoMCkpOwogIH0KCiAgZnVuY3Rpb24gYnV5KHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyBwYXlhYmxlIHsKICAgIGFkZHJlc3Mgb2xkT3duZXIgPSBwaXJhbmhhSWRUb093bmVyW190b2tlbklkXTsKICAgIGFkZHJlc3MgbmV3T3duZXIgPSBtc2cuc2VuZGVyOwoKCVBpcmFuaGEgc3RvcmFnZSBwaXJhbmhhID0gcGlyYW5oYXNbX3Rva2VuSWRdOwoKICAgIHVpbnQyNTYgc2VsbGluZ1ByaWNlID0gcGlyYW5oYS5zZWxsUHJpY2U7CgogICAgcmVxdWlyZShvbGRPd25lciAhPSBuZXdPd25lcik7CiAgICByZXF1aXJlKF9hZGRyZXNzTm90TnVsbChuZXdPd25lcikpOwogICAgcmVxdWlyZShtc2cudmFsdWUgPj0gc2VsbGluZ1ByaWNlICYmIHNlbGxpbmdQcmljZSA+IDApOwoKICAgIHVpbnQyNTYgcGF5bWVudCA9IHVpbnQyNTYoU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChzZWxsaW5nUHJpY2UsIDk3KSwgMTAwKSk7IC8vOTclIHRvIHByZXZpb3VzIG93bmVyLCAzJSBkZXYgdGF4CgogICAgLy8gU3RvcCBzZWxsaW5nCiAgICBwaXJhbmhhLnNlbGxQcmljZT0wOwoJcGlyYW5oYS5odW5ncnk9MDsKCiAgICBfdHJhbnNmZXIob2xkT3duZXIsIG5ld093bmVyLCBfdG9rZW5JZCk7CgogICAgLy8gUGF5IHByZXZpb3VzIHRva2VuT3duZXIgaWYgb3duZXIgaXMgbm90IGNvbnRyYWN0CiAgICBpZiAob2xkT3duZXIgIT0gYWRkcmVzcyh0aGlzKSkgewogICAgICBvbGRPd25lci50cmFuc2ZlcihwYXltZW50KTsgLy8KICAgIH0KCiAgICBUb2tlblNvbGQoX3Rva2VuSWQsIHNlbGxpbmdQcmljZSwgMCwgb2xkT3duZXIsIG5ld093bmVyLCBwaXJhbmhhc1tfdG9rZW5JZF0ubmFtZSk7CgkKICAgIGlmIChtc2cudmFsdWUgPiBzZWxsaW5nUHJpY2UpIHsgLy9pZiBleGNlc3MgcGF5CgkgICAgdWludDI1NiBwdXJjaGFzZUV4Y2VzcyA9IFNhZmVNYXRoLnN1Yihtc2cudmFsdWUsIHNlbGxpbmdQcmljZSk7CgkJbXNnLnNlbmRlci50cmFuc2ZlcihwdXJjaGFzZUV4Y2Vzcyk7Cgl9CiAgfQogIAogIGZ1bmN0aW9uIGNoYW5nZVBpcmFuaGFOYW1lKHVpbnQyNTYgX3Rva2VuSWQsIHN0cmluZyBfbmFtZSkgcHVibGljIHBheWFibGUgewoJcmVxdWlyZSAocGlyYW5oYUlkVG9Pd25lcltfdG9rZW5JZF0gPT0gbXNnLnNlbmRlciAmJiBtc2cudmFsdWUgPT0gYml0ZUNvc3QpOwoJcmVxdWlyZShieXRlcyhfbmFtZSkubGVuZ3RoIDw9IDE1KTsKCQoJUGlyYW5oYSBzdG9yYWdlIHBpcmFuaGEgPSBwaXJhbmhhc1tfdG9rZW5JZF07CglwaXJhbmhhLm5hbWUgPSBfbmFtZTsKICB9CiAgCiAgZnVuY3Rpb24gY2hhbmdlQmVlZGluZ0Nvc3QodWludDI1NiBfbmV3Q29zdCkgcHVibGljIG9ubHlDb250cmFjdE93bmVyIHsKICAgIHJlcXVpcmUoX25ld0Nvc3QgPiAwKTsKCWJyZWVkaW5nQ29zdD1fbmV3Q29zdDsKICB9ICAKCiAgZnVuY3Rpb24gY2hhbmdlQml0ZUNvc3QodWludDI1NiBfbmV3Q29zdCkgcHVibGljIG9ubHlDb250cmFjdE93bmVyIHsKICAgIHJlcXVpcmUoX25ld0Nvc3QgPiAwKTsKCWJpdGVDb3N0PV9uZXdDb3N0OwogIH0gICAgCiAgCiAgZnVuY3Rpb24gc3RhcnRTZWxsaW5nKHVpbnQyNTYgX3Rva2VuSWQsIHVpbnQyNTYgX3ByaWNlKSBwdWJsaWMgewoJcmVxdWlyZSAocGlyYW5oYUlkVG9Pd25lcltfdG9rZW5JZF0gPT0gbXNnLnNlbmRlcik7CgkKCVBpcmFuaGEgc3RvcmFnZSBwaXJhbmhhID0gcGlyYW5oYXNbX3Rva2VuSWRdOwoJcGlyYW5oYS5zZWxsUHJpY2UgPSBfcHJpY2U7CiAgfSAgCgogIGZ1bmN0aW9uIHN0b3BTZWxsaW5nKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB7CglyZXF1aXJlIChwaXJhbmhhSWRUb093bmVyW190b2tlbklkXSA9PSBtc2cuc2VuZGVyKTsKCglQaXJhbmhhIHN0b3JhZ2UgcGlyYW5oYSA9IHBpcmFuaGFzW190b2tlbklkXTsKCXJlcXVpcmUgKHBpcmFuaGEuc2VsbFByaWNlID4gMCk7CgkKCXBpcmFuaGEuc2VsbFByaWNlID0gMDsKICB9ICAKICAKICBmdW5jdGlvbiBodW5ncnkodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHsKCXJlcXVpcmUgKHBpcmFuaGFJZFRvT3duZXJbX3Rva2VuSWRdID09IG1zZy5zZW5kZXIpOwoKCVBpcmFuaGEgc3RvcmFnZSBwaXJhbmhhID0gcGlyYW5oYXNbX3Rva2VuSWRdOwoJcmVxdWlyZSAocGlyYW5oYS5odW5ncnkgPT0gMCk7CgkKCXVpbnQ4IHBpcmFuaGFTaXplPXVpbnQ4KHBpcmFuaGEuc2l6ZSsobm93LXBpcmFuaGEuZ3Jvd3RoU3RhcnRUaW1lKS8zMDApOwoKCXJlcXVpcmUgKHBpcmFuaGFTaXplIDwgMjQwKTsKCQoJcGlyYW5oYS5odW5ncnkgPSAxOwogIH0gICAKCiAgZnVuY3Rpb24gbm90SHVuZ3J5KHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB7CglyZXF1aXJlIChwaXJhbmhhSWRUb093bmVyW190b2tlbklkXSA9PSBtc2cuc2VuZGVyKTsKCglQaXJhbmhhIHN0b3JhZ2UgcGlyYW5oYSA9IHBpcmFuaGFzW190b2tlbklkXTsKCXJlcXVpcmUgKHBpcmFuaGEuaHVuZ3J5ID09IDEpOwoJCglwaXJhbmhhLmh1bmdyeSA9IDA7CiAgfSAgIAoKICBmdW5jdGlvbiBiaXRlKHVpbnQyNTYgX3Rva2VuSWQsIHVpbnQyNTYgX3ZpY3RpbVRva2VuSWQpIHB1YmxpYyBwYXlhYmxlIHsKCXJlcXVpcmUgKHBpcmFuaGFJZFRvT3duZXJbX3Rva2VuSWRdID09IG1zZy5zZW5kZXIpOwoJcmVxdWlyZSAobXNnLnZhbHVlID09IGJpdGVDb3N0KTsKCQoJUGlyYW5oYSBzdG9yYWdlIHBpcmFuaGEgPSBwaXJhbmhhc1tfdG9rZW5JZF07CglQaXJhbmhhIHN0b3JhZ2UgdmljdGltUGlyYW5oYSA9IHBpcmFuaGFzW192aWN0aW1Ub2tlbklkXTsKCXJlcXVpcmUgKHBpcmFuaGEuaHVuZ3J5ID09IDEgJiYgdmljdGltUGlyYW5oYS5odW5ncnkgPT0gMSk7CgoJdWludDggdml0aW1QaXJhbmhhU2l6ZT11aW50OCh2aWN0aW1QaXJhbmhhLnNpemUrKG5vdy12aWN0aW1QaXJhbmhhLmdyb3d0aFN0YXJ0VGltZSkvMzAwKTsKCQoJcmVxdWlyZSAodml0aW1QaXJhbmhhU2l6ZT40MCk7IC8vIGRvbid0IGJpdGUgYSBzbWFsbAoKCXVpbnQ4IHBpcmFuaGFTaXplPXVpbnQ4KHBpcmFuaGEuc2l6ZSsobm93LXBpcmFuaGEuZ3Jvd3RoU3RhcnRUaW1lKS8zMDApKzEwOwoJCglpZiAocGlyYW5oYVNpemU+MjQwKSB7IAoJICAgIHBpcmFuaGEuc2l6ZSA9IDI0MDsgLy9tYXhpbXVtCgkJcGlyYW5oYS5odW5ncnkgPSAwOwoJfSBlbHNlIHsKCSAgICBwaXJhbmhhLnNpemUgPSBwaXJhbmhhU2l6ZTsKCX0KICAgICAKCS8vZGVjcmVhc2UgdmljdGltIHNpemUgCglpZiAodml0aW1QaXJhbmhhU2l6ZT49NTApIHsKCSAgICB2aXRpbVBpcmFuaGFTaXplLT0xMDsKCSAgICB2aWN0aW1QaXJhbmhhLnNpemUgPSB2aXRpbVBpcmFuaGFTaXplOwoJfQogICAgZWxzZSB7CgkJdmljdGltUGlyYW5oYS5zaXplPTQwOwoJfQoJCglwaXJhbmhhLmdyb3d0aFN0YXJ0VGltZT1ub3c7Cgl2aWN0aW1QaXJhbmhhLmdyb3d0aFN0YXJ0VGltZT1ub3c7CgkKICB9ICAgIAogIAogIGZ1bmN0aW9uIGJyZWVkaW5nKHVpbnQyNTYgX21hbGVUb2tlbklkLCB1aW50MjU2IF9mZW1hbGVUb2tlbklkKSBwdWJsaWMgcGF5YWJsZSB7CiAgCiAgICByZXF1aXJlIChwaXJhbmhhSWRUb093bmVyW19tYWxlVG9rZW5JZF0gPT0gIG1zZy5zZW5kZXIgJiYgcGlyYW5oYUlkVG9Pd25lcltfZmVtYWxlVG9rZW5JZF0gPT0gbXNnLnNlbmRlcik7CglyZXF1aXJlIChtc2cudmFsdWUgPT0gYnJlZWRpbmdDb3N0KTsKCglQaXJhbmhhIHN0b3JhZ2UgcGlyYW5oYU1hbGUgPSBwaXJhbmhhc1tfbWFsZVRva2VuSWRdOwoJUGlyYW5oYSBzdG9yYWdlIHBpcmFuaGFGZW1hbGUgPSBwaXJhbmhhc1tfZmVtYWxlVG9rZW5JZF07CgkKCXVpbnQ4IG1hbGVTaXplPXVpbnQ4KHBpcmFuaGFNYWxlLnNpemUrKG5vdy1waXJhbmhhTWFsZS5ncm93dGhTdGFydFRpbWUpLzMwMCk7CglpZiAobWFsZVNpemU+MjQwKQoJICAgcGlyYW5oYU1hbGUuc2l6ZT0yNDA7CgllbHNlIAoJICAgcGlyYW5oYU1hbGUuc2l6ZT1tYWxlU2l6ZTsKCgl1aW50OCBmZW1hbGVTaXplPXVpbnQ4KHBpcmFuaGFGZW1hbGUuc2l6ZSsobm93LXBpcmFuaGFGZW1hbGUuZ3Jvd3RoU3RhcnRUaW1lKS8zMDApOwoJaWYgKGZlbWFsZVNpemU+MjQwKQoJICAgcGlyYW5oYUZlbWFsZS5zaXplPTI0MDsKCWVsc2UgCgkgICBwaXJhbmhhRmVtYWxlLnNpemU9ZmVtYWxlU2l6ZTsKCSAgIAoJcmVxdWlyZSAocGlyYW5oYU1hbGUuc2l6ZSA+IDE1MCAmJiBwaXJhbmhhRmVtYWxlLnNpemUgPiAxNTApOwoJCgl1aW50OCBuZXdib3JuU2l6ZSA9IHVpbnQ4KFNhZmVNYXRoLmRpdihTYWZlTWF0aC5hZGQocGlyYW5oYU1hbGUuc2l6ZSwgcGlyYW5oYU1hbGUuc2l6ZSksNCkpOwoJCgl1aW50MjU2IG1heEdlbj1waXJhbmhhRmVtYWxlLmdlbjsKCXVpbnQyNTYgbWluR2VuPXBpcmFuaGFNYWxlLmdlbjsKCQoJaWYgKHBpcmFuaGFNYWxlLmdlbiA+IHBpcmFuaGFGZW1hbGUuZ2VuKSB7CgkJbWF4R2VuPXBpcmFuaGFNYWxlLmdlbjsKCQltaW5HZW49cGlyYW5oYUZlbWFsZS5nZW47Cgl9IAoJCgl1aW50MjU2IHJhbmROdW0gPSB1aW50MjU2KGJsb2NrLmJsb2NraGFzaChibG9jay5udW1iZXItMSkpOwoJdWludDI1NiBuZXdib3JuR2VuOwoJdWludDggbmV3Ym9yblVuaXF1ZSA9IHVpbnQ4KHJhbmROdW0lMTAwKzEpOyAvL2NoYW5jZSB0byBnZXQgcmFyZSBwaXJhbmhhCgkKCWlmIChyYW5kTnVtJSgxMCttYXhHZW4pID09IDEpIHsgLy8gbmV3IGdlbmVyYXRpb24sIGRpZmZpY3VsdCBkZXBlbmRzIG9uIG1heGdlbgoJCW5ld2Jvcm5HZW4gPSBTYWZlTWF0aC5hZGQobWF4R2VuLDEpOwoJfSBlbHNlIGlmIChtYXhHZW4gPT0gbWluR2VuKSB7CgkJbmV3Ym9ybkdlbiA9IG1heEdlbjsKCX0gZWxzZSB7CgkJbmV3Ym9ybkdlbiA9IFNhZmVNYXRoLmFkZChyYW5kTnVtJShtYXhHZW4tbWluR2VuKzEpLG1pbkdlbik7Cgl9CgkKCS8vIDUlIGNoYW5jZSB0byBnZXQgcmFyZSBwaXJhbmhhcyBmb3IgZWFjaCBnZW4KCWlmIChuZXdib3JuVW5pcXVlID4gNSkgCgkJbmV3Ym9yblVuaXF1ZSA9IDA7CgkJCiAgICAgLy9pbml0aWF0ZSBuZXcgc2l6ZSwgY2FuY2VsIHNlbGxpbmcKCSBwaXJhbmhhTWFsZS5zaXplID0gdWludDgoU2FmZU1hdGguZGl2KHBpcmFuaGFNYWxlLnNpemUsMikpOwkJCiAgICAgcGlyYW5oYUZlbWFsZS5zaXplID0gdWludDgoU2FmZU1hdGguZGl2KHBpcmFuaGFGZW1hbGUuc2l6ZSwyKSk7CQoKCSBwaXJhbmhhTWFsZS5ncm93dGhTdGFydFRpbWUgPSBub3c7CSAKCSBwaXJhbmhhRmVtYWxlLmdyb3d0aFN0YXJ0VGltZSA9IG5vdzsJIAoKCSBwaXJhbmhhTWFsZS5zZWxsUHJpY2UgPSAwOwkgCgkgcGlyYW5oYUZlbWFsZS5zZWxsUHJpY2UgPSAwOwkgCgkJCglfY3JlYXRlUGlyYW5oYSgiRXRoUGlyYW5oYSIsIG1zZy5zZW5kZXIsIDAsIG5ld2Jvcm5TaXplLCBuZXdib3JuR2VuLCBuZXdib3JuVW5pcXVlLCAwKTsKICAKICB9CiAgCiAgZnVuY3Rpb24gYWxsUGlyYW5oYXNJbmZvKHVpbnQyNTYgX3N0YXJ0UGlyYW5oYUlkKSBwdWJsaWMgdmlldyByZXR1cm5zIChhZGRyZXNzW10gb3duZXJzLCB1aW50MjU2W10gc2l6ZXMsIHVpbnQ4W10gaHVuZ3J5LCB1aW50MjU2W10gcHJpY2VzKSB7IC8vZm9yIHdlYiBzaXRlIHZpZXcKCQoJUGlyYW5oYSBzdG9yYWdlIHBpcmFuaGE7Cgl1aW50MjU2IGluZGV4VG8gPSB0b3RhbFN1cHBseSgpOwoJCiAgICBpZiAoaW5kZXhUbyA9PSAwIHx8IF9zdGFydFBpcmFuaGFJZCA+PSBpbmRleFRvKSB7CiAgICAgICAgLy8gUmV0dXJuIGFuIGVtcHR5IGFycmF5CiAgICAgIHJldHVybiAobmV3IGFkZHJlc3NbXSgwKSwgbmV3IHVpbnQyNTZbXSgwKSwgbmV3IHVpbnQ4W10oMCksIG5ldyB1aW50MjU2W10oMCkpOwogICAgfQoKCWlmIChpbmRleFRvID4gX3N0YXJ0UGlyYW5oYUlkKzEwMDApCgkJaW5kZXhUbyA9IF9zdGFydFBpcmFuaGFJZCArIDEwMDA7CgkJCiAgICB1aW50MjU2IHRvdGFsUmVzdWx0UGlyYW5oYXMgPSBpbmRleFRvIC0gX3N0YXJ0UGlyYW5oYUlkOwkJCgkJCglhZGRyZXNzW10gbWVtb3J5IG93bmVyc19yZXMgPSBuZXcgYWRkcmVzc1tdKHRvdGFsUmVzdWx0UGlyYW5oYXMpOwoJdWludDI1NltdIG1lbW9yeSBzaXplX3JlcyA9IG5ldyB1aW50MjU2W10odG90YWxSZXN1bHRQaXJhbmhhcyk7Cgl1aW50OFtdIG1lbW9yeSBodW5ncnlfcmVzID0gbmV3IHVpbnQ4W10odG90YWxSZXN1bHRQaXJhbmhhcyk7Cgl1aW50MjU2W10gbWVtb3J5IHByaWNlc19yZXMgPSBuZXcgdWludDI1NltdKHRvdGFsUmVzdWx0UGlyYW5oYXMpOwoJCglmb3IgKHVpbnQyNTYgcGlyYW5oYUlkID0gX3N0YXJ0UGlyYW5oYUlkOyBwaXJhbmhhSWQgPCBpbmRleFRvOyBwaXJhbmhhSWQrKykgewoJICBwaXJhbmhhID0gcGlyYW5oYXNbcGlyYW5oYUlkXTsKCSAgCgkgIG93bmVyc19yZXNbcGlyYW5oYUlkIC0gX3N0YXJ0UGlyYW5oYUlkXSA9IHBpcmFuaGFJZFRvT3duZXJbcGlyYW5oYUlkXTsKICAgICAgc2l6ZV9yZXNbcGlyYW5oYUlkIC0gX3N0YXJ0UGlyYW5oYUlkXSA9IHVpbnQyNTYocGlyYW5oYS5zaXplKyhub3ctcGlyYW5oYS5ncm93dGhTdGFydFRpbWUpLzMwMCk7CSAgCgkgIGh1bmdyeV9yZXNbcGlyYW5oYUlkIC0gX3N0YXJ0UGlyYW5oYUlkXSA9IHBpcmFuaGEuaHVuZ3J5OwoJICBwcmljZXNfcmVzW3BpcmFuaGFJZCAtIF9zdGFydFBpcmFuaGFJZF0gPSBwaXJhbmhhLnNlbGxQcmljZTsKCX0KCQoJcmV0dXJuIChvd25lcnNfcmVzLCBzaXplX3JlcywgaHVuZ3J5X3JlcywgcHJpY2VzX3Jlcyk7CiAgfQogIAogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiB0b3RhbCkgeyAvL0VSQzcyMQogICAgcmV0dXJuIHBpcmFuaGFzLmxlbmd0aDsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgeyAvL0VSQzcyMQogICAgcmVxdWlyZShfb3ducyhtc2cuc2VuZGVyLCBfdG9rZW5JZCkpOwogICAgcmVxdWlyZShfYWRkcmVzc05vdE51bGwoX3RvKSk7CgoJX3RyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3Rva2VuSWQpOwogIH0KCgogIC8qIFBSSVZBVEUgRlVOQ1RJT05TICovCiAgZnVuY3Rpb24gX2FkZHJlc3NOb3ROdWxsKGFkZHJlc3MgX3RvKSBwcml2YXRlIHB1cmUgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIF90byAhPSBhZGRyZXNzKDApOwogIH0KCgogIGZ1bmN0aW9uIF9jcmVhdGVQaXJhbmhhKHN0cmluZyBfbmFtZSwgYWRkcmVzcyBfb3duZXIsIHVpbnQyNTYgX3ByaWNlLCB1aW50OCBfc2l6ZSwgdWludDI1NiBfZ2VuLCB1aW50OCBfdW5pcXVlLCB1aW50OCBfaHVuZ3J5KSBwcml2YXRlIHsKICAgIFBpcmFuaGEgbWVtb3J5IF9waXJhbmhhID0gUGlyYW5oYSh7CiAgICAgIG5hbWU6IF9uYW1lLAoJICBzaXplOiBfc2l6ZSwKCSAgZ2VuOiBfZ2VuLAoJICB1bmlxdWU6IF91bmlxdWUsCSAgCgkgIGdyb3d0aFN0YXJ0VGltZTogbm93LAoJICBzZWxsUHJpY2U6IF9wcmljZSwKCSAgaHVuZ3J5OiBfaHVuZ3J5CiAgICB9KTsKICAgIHVpbnQyNTYgbmV3UGlyYW5oYUlkID0gcGlyYW5oYXMucHVzaChfcGlyYW5oYSkgLSAxOwoKICAgIHJlcXVpcmUobmV3UGlyYW5oYUlkID09IHVpbnQyNTYodWludDMyKG5ld1BpcmFuaGFJZCkpKTsgLy9jaGVjayBtYXhpbXVtIGxpbWl0IG9mIHRva2VucwoKICAgIFBpcmFuaGFDcmVhdGVkKG5ld1BpcmFuaGFJZCwgX25hbWUsIF9vd25lcik7CgogICAgX3RyYW5zZmVyKGFkZHJlc3MoMCksIF9vd25lciwgbmV3UGlyYW5oYUlkKTsKICB9CgogIGZ1bmN0aW9uIF9vd25zKGFkZHJlc3MgX2NoZWNrZWRBZGRyLCB1aW50MjU2IF90b2tlbklkKSBwcml2YXRlIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIF9jaGVja2VkQWRkciA9PSBwaXJhbmhhSWRUb093bmVyW190b2tlbklkXTsKICB9CgogIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgcHJpdmF0ZSB7CiAgICBvd25lcnNoaXBUb2tlbkNvdW50W190b10rKzsKICAgIHBpcmFuaGFJZFRvT3duZXJbX3Rva2VuSWRdID0gX3RvOwoKICAgIC8vIFdoZW4gY3JlYXRpbmcgbmV3IHBpcmFuaGFzIF9mcm9tIGlzIDB4MCwgYnV0IHdlIGNhbid0IGFjY291bnQgdGhhdCBhZGRyZXNzLgogICAgaWYgKF9mcm9tICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXJzaGlwVG9rZW5Db3VudFtfZnJvbV0tLTsKICAgIH0KCiAgICAvLyBFbWl0IHRoZSB0cmFuc2ZlciBldmVudC4KICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF90b2tlbklkKTsKICB9Cn0KCmxpYnJhcnkgU2FmZU1hdGggewoKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9'.
	

]
