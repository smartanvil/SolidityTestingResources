Class {
	#name : #SRT4b0712de9b75bc68a566215acca876ea5e55c172,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4b0712de9b75bc68a566215acca876ea5e55c172 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBPd25hYmxlIHsKCiAgYWRkcmVzcyBwdWJsaWMgb3duZXIgPSBtc2cuc2VuZGVyOwogIGFkZHJlc3MgcHJpdmF0ZSBuZXdPd25lciA9IGFkZHJlc3MoMCk7CgogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShfbmV3T3duZXIgIT0gYWRkcmVzcygwKSk7ICAgICAgCiAgICBuZXdPd25lciA9IF9uZXdPd25lcjsKICB9CgogIGZ1bmN0aW9uIGFjY2VwdE93bmVyc2hpcCgpIHB1YmxpYyB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gbmV3T3duZXIpOwoKICAgIG93bmVyID0gbmV3T3duZXI7CiAgICBuZXdPd25lciA9IGFkZHJlc3MoMCk7CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9Cgp9CgoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCB7CgogIC8qKgogICAqIHRoZSB0b3RhbCB0b2tlbiBzdXBwbHkuCiAgICovCiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogIC8qKgogICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgZnJvbSB3aGljaCB0aGUgYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZAogICAqIEByZXR1cm4gVGhlIGJhbGFuY2UKICAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwoKICAvKioKICAgKiBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogIC8qKgogICAqIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBfZnJvbWAgb24gdGhlIGNvbmRpdGlvbiBpdCBpcyBhcHByb3ZlZCBieSBgX2Zyb21gCiAgICogQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAvKioKICAgKiBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX3NwZW5kZXJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2ZlcgogICAqIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogIC8qKgogICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgKiBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CgogIC8qKgogICAqIE1VU1QgdHJpZ2dlciB3aGVuIHRva2VucyBhcmUgdHJhbnNmZXJyZWQsIGluY2x1ZGluZyB6ZXJvIHZhbHVlIHRyYW5zZmVycy4KICAgKi8KICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKCiAgLyoqCiAgICogTVVTVCB0cmlnZ2VyIG9uIGFueSBzdWNjZXNzZnVsIGNhbGwgdG8gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkKICAgKi8KICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKCn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvYmxvYi9tYXN0ZXIvRUlQUy9laXAtMjAtdG9rZW4tc3RhbmRhcmQubWQKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IE9wZW5aZXBwZWxpbjogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9ibG9iL21hc3Rlci9jb250cmFjdHMvdG9rZW4vU3RhbmRhcmRUb2tlbi5zb2wKICovCmNvbnRyYWN0IEVSQzIwVG9rZW4gaXMgRVJDMjAgewoKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgogIC8qKgogICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KICAKICAvKioKICAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CgogICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gKz1fdmFsdWU7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA+IDApOwoKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAKICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgCiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZnlpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KICAgKgogICAqIEJld2FyZSB0aGF0IGNoYW5naW5nIGFuIGFsbG93YW5jZSB3aXRoIHRoaXMgbWV0aG9kIGJyaW5ncyB0aGUgcmlzayB0aGF0IHNvbWVvbmUgbWF5IHVzZSBib3RoIHRoZSBvbGQKICAgKiBhbmQgdGhlIG5ldyBhbGxvd2FuY2UgYnkgdW5mb3J0dW5hdGUgdHJhbnNhY3Rpb24gb3JkZXJpbmcuIE9uZSBwb3NzaWJsZSBzb2x1dGlvbiB0byBtaXRpZ2F0ZSB0aGlzCiAgICogcmFjZSBjb25kaXRpb24gaXMgdG8gZmlyc3QgcmVkdWNlIHRoZSBzcGVuZGVyJ3MgYWxsb3dhbmNlIHRvIDAgYW5kIHNldCB0aGUgZGVzaXJlZCB2YWx1ZSBhZnRlcndhcmRzOgogICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cgp9Cgpjb250cmFjdCBOaXRyb1Rva2VuIGlzIEVSQzIwVG9rZW4sIE93bmFibGUgewogICAgCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIk5pdHJvIjsKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJOT1giOwogIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwoKICBmdW5jdGlvbiBOaXRyb1Rva2VuKHVpbnQyNTYgX3RvdGFsU3VwcGx5KSBwdWJsaWMgewogICAgdG90YWxTdXBwbHkgPSBfdG90YWxTdXBwbHk7CiAgICBiYWxhbmNlc1tvd25lcl0gPSBfdG90YWxTdXBwbHk7CiAgICBUcmFuc2ZlcihhZGRyZXNzKDApLCBvd25lciwgX3RvdGFsU3VwcGx5KTsKICB9CiAgCiAgZnVuY3Rpb24gYWNjZXB0T3duZXJzaGlwKCkgcHVibGljIHsKICAgIGFkZHJlc3Mgb2xkT3duZXIgPSBvd25lcjsKICAgIHN1cGVyLmFjY2VwdE93bmVyc2hpcCgpOwogICAgYmFsYW5jZXNbb3duZXJdID0gYmFsYW5jZXNbb2xkT3duZXJdOwogICAgYmFsYW5jZXNbb2xkT3duZXJdID0gMDsKICAgIFRyYW5zZmVyKG9sZE93bmVyLCBvd25lciwgYmFsYW5jZXNbb3duZXJdKTsKICB9Cgp9Cgpjb250cmFjdCBEZWNsYXJhdGlvbiB7CiAgCiAgZW51bSBUb2tlblR5cGVzIHsgY3Jvd2RzYWxlLCBpbnRlcmFjdGl2ZSwgaWNhbmR5LCBjb25zdWx0YW50LCB0ZWFtLCByZXNlcnZlIH0KICBtYXBwaW5nKHVpbnQgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VzOwogIAogIHVpbnQyNTYgcHVibGljIHByZVNhbGVTdGFydCA9IDE1MTEwMjA4MDA7CiAgdWludDI1NiBwdWJsaWMgcHJlU2FsZUVuZCA9IDE1MTE0NTI4MDA7CiAgICAKICB1aW50MjU2IHB1YmxpYyBzYWxlU3RhcnQgPSAxNTEyMDU3NjAwOwogIHVpbnQyNTYgcHVibGljIHNhbGVTdGFydEZpcnN0RGF5RW5kID0gc2FsZVN0YXJ0ICsgMSBkYXlzOwogIHVpbnQyNTYgcHVibGljIHNhbGVTdGFydFNlY29uZERheUVuZCA9IHNhbGVTdGFydCArIDMgZGF5czsKICB1aW50MjU2IHB1YmxpYyBzYWxlRW5kID0gMTUxNDMwNDAwMDsKICAKICB1aW50MjU2IHB1YmxpYyB0ZWFtRnJvemVuVG9rZW5zID0gNDgwMDAwMCAqIDEgZXRoZXI7CiAgdWludDI1NiBwdWJsaWMgdGVhbVVuZnJlZXplRGF0ZSA9IHNhbGVFbmQgKyAxODIgZGF5czsKCiAgdWludDI1NiBwdWJsaWMgcHJlc2FsZU1pblZhbHVlID0gNSBldGhlcjsKIAogIHVpbnQyNTYgcHVibGljIHByZVNhbGVSYXRlID0gMTA0MDsKICB1aW50MjU2IHB1YmxpYyBzYWxlUmF0ZSA9IDgwMDsKICB1aW50MjU2IHB1YmxpYyBzYWxlUmF0ZUZpcnN0RGF5ID0gMTAwMDsKICB1aW50MjU2IHB1YmxpYyBzYWxlUmF0ZVNlY29uZERheSA9IDkyMDsKCiAgTml0cm9Ub2tlbiBwdWJsaWMgdG9rZW47CgogIGZ1bmN0aW9uIERlY2xhcmF0aW9uKCkgcHVibGljIHsKICAgIGJhbGFuY2VzW3VpbnQ4KFRva2VuVHlwZXMuY3Jvd2RzYWxlKV0gPSA2MDAwMDAwMCAqIDEgZXRoZXI7CiAgICBiYWxhbmNlc1t1aW50OChUb2tlblR5cGVzLmludGVyYWN0aXZlKV0gPSA2MDAwMDAwICogMSBldGhlcjsKICAgIGJhbGFuY2VzW3VpbnQ4KFRva2VuVHlwZXMuaWNhbmR5KV0gPSAzMDAwMDAwICogMSBldGhlcjsKICAgIGJhbGFuY2VzW3VpbnQ4KFRva2VuVHlwZXMuY29uc3VsdGFudCldID0gMTIwMDAwMCAqIDEgZXRoZXI7CiAgICBiYWxhbmNlc1t1aW50OChUb2tlblR5cGVzLnRlYW0pXSA9IDcyMDAwMDAgKiAxIGV0aGVyOwogICAgYmFsYW5jZXNbdWludDgoVG9rZW5UeXBlcy5yZXNlcnZlKV0gPSA0MjYwMDAwMCAqIDEgZXRoZXI7CiAgICB0b2tlbiA9IG5ldyBOaXRyb1Rva2VuKDEyMDAwMDAwMCAqIDEgZXRoZXIpOwogIH0KICAKICBtb2RpZmllciB3aXRoaW5QZXJpb2QoKXsKICAgIHJlcXVpcmUoaXNQcmVzYWxlKCkgfHwgaXNTYWxlKCkpOwogICAgXzsKICB9CiAgCiAgZnVuY3Rpb24gaXNQcmVzYWxlKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpewogICAgcmV0dXJuIG5vdz49cHJlU2FsZVN0YXJ0ICYmIG5vdzw9cHJlU2FsZUVuZDsKICB9CgogIGZ1bmN0aW9uIGlzU2FsZSgpICBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCl7CiAgICByZXR1cm4gbm93ID49IHNhbGVTdGFydCAmJiBub3cgPD0gc2FsZUVuZDsKICB9CiAgCiAgZnVuY3Rpb24gcmF0ZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoaXNQcmVzYWxlKCkpIHsKICAgICAgcmV0dXJuIHByZVNhbGVSYXRlOwogICAgfSBlbHNlIGlmIChub3c+PXNhbGVTdGFydCAmJiBub3c8PShzYWxlU3RhcnRGaXJzdERheUVuZCkpewogICAgICByZXR1cm4gc2FsZVJhdGVGaXJzdERheTsKICAgIH0gZWxzZSBpZiAobm93PihzYWxlU3RhcnRGaXJzdERheUVuZCkgJiYgbm93PD0oc2FsZVN0YXJ0U2Vjb25kRGF5RW5kKSl7CiAgICAgIHJldHVybiBzYWxlUmF0ZVNlY29uZERheTsKICAgIH0KICAgIHJldHVybiBzYWxlUmF0ZTsKICB9CiAgCn0KCmNvbnRyYWN0IENyb3dkc2FsZSBpcyBEZWNsYXJhdGlvbiwgT3duYWJsZXsKICAgIAogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgYWRkcmVzcyBwdWJsaWMgd2FsbGV0OwogICAgCiAgICB1aW50MjU2IHB1YmxpYyB3ZWlMaW1pdCA9IDYgZXRoZXI7CiAgICB1aW50MjU2IHB1YmxpYyBzYXRMaW1pdCA9IDMwMDAwMDAwOwoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSB1c2VyczsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSB3ZWlPd2VkOwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHNhdE93ZWQ7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1Nikgd2VpVG9rZW5zT3dlZDsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBzYXRUb2tlbnNPd2VkOwogICAgCiAgICB1aW50MjU2IHB1YmxpYyB3ZWlSYWlzZWQ7CiAgICB1aW50MjU2IHB1YmxpYyBzYXRSYWlzZWQ7CgogICAgZXZlbnQgVG9rZW5QdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgcHVyY2hhc2VyLCBhZGRyZXNzIGluZGV4ZWQgYmVuZWZpY2lhcnksIHVpbnQyNTYgdmFsdWUsIHVpbnQyNTYgYW1vdW50KTsKICAgIAogICAgZnVuY3Rpb24gQ3Jvd2RzYWxlKGFkZHJlc3MgX3dhbGxldCkgRGVjbGFyYXRpb24gcHVibGljIHsKICAgICAgICB3YWxsZXQgPSBfd2FsbGV0OyAgICAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewogICAgICAgIGJ1eSgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdlaUZyZWV6ZShhZGRyZXNzIF9hZGRyLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgewogICAgICAgIHVpbnQyNTYgYW1vdW50ID0gX3ZhbHVlICogcmF0ZSgpOwogICAgICAgIGJhbGFuY2VzWzBdID0gYmFsYW5jZXNbMF0uc3ViKGFtb3VudCk7CiAgICAgICAgd2VpT3dlZFtfYWRkcl0gKz0gX3ZhbHVlOwogICAgICAgIHdlaVRva2Vuc093ZWRbX2FkZHJdICs9IGFtb3VudDsKICAgIH0KCiAgICBmdW5jdGlvbiB3ZWlUcmFuc2ZlcihhZGRyZXNzIF9hZGRyLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgewogICAgICAgIHVpbnQyNTYgYW1vdW50ID0gX3ZhbHVlICogcmF0ZSgpOwogICAgICAgIGJhbGFuY2VzWzBdID0gYmFsYW5jZXNbMF0uc3ViKGFtb3VudCk7CiAgICAgICAgdG9rZW4udHJhbnNmZXIoX2FkZHIsIGFtb3VudCk7CiAgICAgICAgd2VpUmFpc2VkICs9IF92YWx1ZTsKICAgICAgICBUb2tlblB1cmNoYXNlKF9hZGRyLCBfYWRkciwgX3ZhbHVlLCBhbW91bnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGJ1eSgpIHdpdGhpblBlcmlvZCBwdWJsaWMgcGF5YWJsZSByZXR1cm5zIChib29sKXsKICAgICAgICBpZiAoaXNQcmVzYWxlKCkpIHsKICAgICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IHByZXNhbGVNaW5WYWx1ZSk7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+IDApOwogICAgICAgIH0KICAgICAgICBpZiAod2VpT3dlZFttc2cuc2VuZGVyXT4wKSB7CiAgICAgICAgICB3ZWlGcmVlemUobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsKICAgICAgICB9IGVsc2UgaWYgKG1zZy52YWx1ZT53ZWlMaW1pdCAmJiAhdXNlcnNbbXNnLnNlbmRlcl0pIHsKICAgICAgICAgIHdlaUZyZWV6ZShtc2cuc2VuZGVyLCBtc2cudmFsdWUuc3ViKHdlaUxpbWl0KSk7CiAgICAgICAgICB3ZWlUcmFuc2Zlcihtc2cuc2VuZGVyLCB3ZWlMaW1pdCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHdlaVRyYW5zZmVyKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBfdmVyaWZ5KGFkZHJlc3MgX2FkZHIpIG9ubHlPd25lciBpbnRlcm5hbCB7CiAgICAgICAgdXNlcnNbX2FkZHJdID0gdHJ1ZTsKICAgICAgICAKICAgICAgICB3ZWlSYWlzZWQgKz0gd2VpT3dlZFtfYWRkcl07CiAgICAgICAgc2F0UmFpc2VkICs9IHNhdE93ZWRbX2FkZHJdOwoKICAgICAgICB0b2tlbi50cmFuc2ZlcihfYWRkciwgd2VpVG9rZW5zT3dlZFtfYWRkcl0gKyBzYXRUb2tlbnNPd2VkW19hZGRyXSk7CiAgICAgICAgCiAgICAgICAgVG9rZW5QdXJjaGFzZShfYWRkciwgX2FkZHIsIDAsIHdlaVRva2Vuc093ZWRbX2FkZHJdICsgc2F0VG9rZW5zT3dlZFtfYWRkcl0pOwoKICAgICAgICB3ZWlPd2VkW19hZGRyXT0wOwogICAgICAgIHNhdE93ZWRbX2FkZHJdPTA7CiAgICAgICAgd2VpVG9rZW5zT3dlZFtfYWRkcl09MDsKICAgICAgICBzYXRUb2tlbnNPd2VkW19hZGRyXT0wOwogICAgfQoKICAgIGZ1bmN0aW9uIHZlcmlmeShhZGRyZXNzIF9hZGRyKSBwdWJsaWMgcmV0dXJucyhib29sKXsKICAgICAgICBfdmVyaWZ5KF9hZGRyKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gaXNWZXJpZmllZChhZGRyZXNzIF9hZGRyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyhib29sKXsKICAgICAgcmV0dXJuIHVzZXJzW19hZGRyXTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ2V0V2VpVG9rZW5zT3dlZChhZGRyZXNzIF9hZGRyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nil7CiAgICAgICAgcmV0dXJuIHdlaVRva2Vuc093ZWRbX2FkZHJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFNhdFRva2Vuc093ZWQoYWRkcmVzcyBfYWRkcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpewogICAgICAgIHJldHVybiBzYXRUb2tlbnNPd2VkW19hZGRyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBvd2VkVG9rZW5zKGFkZHJlc3MgX2FkZHIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KXsKICAgICAgICByZXR1cm4gd2VpVG9rZW5zT3dlZFtfYWRkcl0gKyBzYXRUb2tlbnNPd2VkW19hZGRyXTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ2V0U2F0T3dlZChhZGRyZXNzIF9hZGRyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nil7CiAgICAgICAgcmV0dXJuIHNhdE93ZWRbX2FkZHJdOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBnZXRXZWlPd2VkKGFkZHJlc3MgX2FkZHIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KXsKICAgICAgICByZXR1cm4gd2VpT3dlZFtfYWRkcl07CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHNhdEZyZWV6ZShhZGRyZXNzIF9hZGRyLCB1aW50MjU2IF93ZWksIHVpbnQgX3NhdCkgcHJpdmF0ZSB7CiAgICAgICAgdWludDI1NiBhbW91bnQgPSBfd2VpICogcmF0ZSgpOwogICAgICAgIGJhbGFuY2VzWzBdID0gYmFsYW5jZXNbMF0uc3ViKGFtb3VudCk7CiAgICAgICAgCiAgICAgICAgc2F0T3dlZFtfYWRkcl0gKz0gX3NhdDsKICAgICAgICBzYXRUb2tlbnNPd2VkW19hZGRyXSArPSBhbW91bnQ7ICAgIAogICAgfQoKICAgIGZ1bmN0aW9uIHNhdFRyYW5zZmVyKGFkZHJlc3MgX2FkZHIsIHVpbnQyNTYgX3dlaSwgdWludCBfc2F0KSBwcml2YXRlIHsKICAgICAgICB1aW50MjU2IGFtb3VudCA9IF93ZWkgKiByYXRlKCk7CiAgICAgICAgYmFsYW5jZXNbMF0gPSBiYWxhbmNlc1swXS5zdWIoYW1vdW50KTsKICAgICAgICAKICAgICAgICB0b2tlbi50cmFuc2ZlcihfYWRkciwgYW1vdW50KTsKICAgICAgICBUb2tlblB1cmNoYXNlKF9hZGRyLCBfYWRkciwgX3dlaSwgYW1vdW50KTsKICAgICAgICBzYXRSYWlzZWQgKz0gX3NhdDsKICAgIH0KCiAgICBmdW5jdGlvbiBidXlGb3JCdGMoCiAgICAgICAgYWRkcmVzcyBfYWRkciwKICAgICAgICB1aW50MjU2IF9zYXQsCiAgICAgICAgdWludDI1NiBfc2F0T3dlZCwKICAgICAgICB1aW50MjU2IF93ZWksCiAgICAgICAgdWludDI1NiBfd2VpT3dlZAogICAgKSBvbmx5T3duZXIgd2l0aGluUGVyaW9kIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfYWRkciAhPSBhZGRyZXNzKDApKTsKICAgICAgICAKICAgICAgICBzYXRGcmVlemUoX2FkZHIsIF93ZWlPd2VkLCBfc2F0T3dlZCk7CiAgICAgICAgc2F0VHJhbnNmZXIoX2FkZHIsIF93ZWksIF9zYXQpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiByZWZ1bmRXZWkoYWRkcmVzcyBfYWRkciwgdWludDI1NiBfYW1vdW50KSBvbmx5T3duZXIgcHVibGljIHJldHVybnMgKGJvb2wpewogICAgICAgIF9hZGRyLnRyYW5zZmVyKF9hbW91bnQpOwogICAgICAgIGJhbGFuY2VzWzBdICs9IHdlaVRva2Vuc093ZWRbX2FkZHJdOwogICAgICAgIHdlaVRva2Vuc093ZWRbX2FkZHJdID0gMDsKICAgICAgICB3ZWlPd2VkW19hZGRyXSA9IDA7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgCiAgICBmdW5jdGlvbiByZWZ1bmRlZFNhdChhZGRyZXNzIF9hZGRyKSBvbmx5T3duZXIgcHVibGljIHJldHVybnMgKGJvb2wpewogICAgICAgIGJhbGFuY2VzWzBdICs9IHNhdFRva2Vuc093ZWRbX2FkZHJdOwogICAgICAgIHNhdFRva2Vuc093ZWRbX2FkZHJdID0gMDsKICAgICAgICBzYXRPd2VkW19hZGRyXSA9IDA7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHNlbmRPdGhlclRva2VucygKICAgICAgICB1aW50OCBfaW5kZXgsCiAgICAgICAgYWRkcmVzcyBfYWRkciwKICAgICAgICB1aW50MjU2IF9hbW91bnQKICAgICkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfYWRkciE9YWRkcmVzcygwKSk7CgogICAgICAgIGlmIChfaW5kZXg9PXVpbnQ4KFRva2VuVHlwZXMudGVhbSkgJiYgbm93PHRlYW1VbmZyZWV6ZURhdGUpIHsKICAgICAgICAgICAgdWludDI1NiBsaW1pdCA9IGJhbGFuY2VzW3VpbnQ4KFRva2VuVHlwZXMudGVhbSldLnN1Yih0ZWFtRnJvemVuVG9rZW5zKTsKICAgICAgICAgICAgcmVxdWlyZShfYW1vdW50PD1saW1pdCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHRva2VuLnRyYW5zZmVyKF9hZGRyLCBfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfaW5kZXhdID0gYmFsYW5jZXNbX2luZGV4XS5zdWIoX2Ftb3VudCk7CiAgICAgICAgVG9rZW5QdXJjaGFzZShvd25lciwgX2FkZHIsIDAsIF9hbW91bnQpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiByc3J2VG9TYWxlKHVpbnQyNTYgX2Ftb3VudCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgYmFsYW5jZXNbdWludDgoVG9rZW5UeXBlcy5yZXNlcnZlKV0gPSBiYWxhbmNlc1t1aW50OChUb2tlblR5cGVzLnJlc2VydmUpXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbMF0gKz0gX2Ftb3VudDsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZm9yd2FyZEZ1bmRzKHVpbnQyNTYgYW1vdW50KSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICB3YWxsZXQudHJhbnNmZXIoYW1vdW50KTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gc2V0VG9rZW5Pd25lcihhZGRyZXNzIF9hZGRyKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICB0b2tlbi50cmFuc2Zlck93bmVyc2hpcChfYWRkcik7CiAgICB9Cgp9'.
	

]
