Class {
	#name : #SRTbfd77110f80695f1a97fed29b06abc25dfd447a7,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTbfd77110f80695f1a97fed29b06abc25dfd447a7 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjA7CgogCi8qCiBfX19fICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19fICAgICAgICAgICAgICAgICAgICAgICAgX19fICAgICAgICAgICAgICBfXyAgICAgIF9fICAgICAgICAgICAgICAgICAgICAgICBfXyAgICAgICAgIAovXCAgX2BcICAgICAgICAgICAgICAgICAgICAgICAgICAvJ19fX1wgICAgICAgICAgICAgICAgICAgICAvJ19fX1wgICAgICAgICAgICAvXCBcICBfXy9cIFwgICAgICAgICAgICAgICAgICAgICAvXCBcICAgICAgICAKXCBcIFxMXCBcIF8gX18gICAgX19fICAgICBfX18gICAvXCBcX18vICAgICAgICAgICAgICBfX18gICAvXCBcX18vICAgICAgICAgICAgXCBcIFwvXCBcIFwgXCAgICAgX18gICAgICBfXyAgICAgXCBcIFwvJ1wgICAgCiBcIFwgLF9fLy9cYCdfX1wgLyBfX2BcICAvIF9fYFwgXCBcICxfX1wgICAgICAgICAgICAvIF9fYFwgXCBcICxfX1wgICAgICAgICAgICBcIFwgXCBcIFwgXCBcICAvJ19fYFwgIC8nX19gXCAgICBcIFwgLCA8ICAgIAogIFwgXCBcLyBcIFwgXC8gL1wgXExcIFwvXCBcTFwgXCBcIFwgXF8vICAgICAgICAgICAvXCBcTFwgXCBcIFwgXF8vICAgICAgICAgICAgIFwgXCBcXy8gXF9cIFwvXCAgX18vIC9cIFxMXC5cXyAgIFwgXCBcXGBcICAKICAgXCBcX1wgIFwgXF9cIFwgXF9fX18vXCBcX19fXy8gIFwgXF9cICAgICAgICAgICAgXCBcX19fXy8gIFwgXF9cICAgICAgICAgICAgICAgXCBgXF9fX3hfX18vXCBcX19fX1xcIFxfXy8uXF9cICAgXCBcX1wgXF9cCiAgICBcL18vICAgXC9fLyAgXC9fX18vICBcL19fXy8gICAgXC9fLyAgICAgICAgICAgICBcL19fXy8gICAgXC9fLyAgICAgICAgICAgICAgICAnXC9fXy8vX18vICBcL19fX18vIFwvX18vXC9fLyAgICBcL18vXC9fLwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX19fICAgICBfX19fXyAgICAgICAgICAgICAgICAgICBfX19fXyAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXCAgX2BcICAvXCAgX19gXCAgICAgLydcXy9gXCAgICAvXCAgX19gXCAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCBcIFxMXF9cXCBcIFwvXCBcICAgL1wgICAgICBcICAgXCBcIFwvXCBcICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIFwgIF9cLyBcIFwgXCBcIFwgIFwgXCBcX19cIFwgICBcIFwgXCBcIFwgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwgXCBcLyAgIFwgXCBcX1wgXCAgXCBcIFxfL1wgXCAgIFwgXCBcX1wgXCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCBcX1wgICAgXCBcX19fX19cICBcIFxfXFwgXF9cICAgXCBcX19fX19cCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcL18vICAgICBcL19fX19fLyAgIFwvXy8gXC9fLyAgICBcL19fX19fLwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiogSXNzdWU6IE9yZGluYXJ5IHB5cmFtaWQgc2NoZW1lcyBoYXZlIGEgdG9rZW4gcHJpY2UgdGhhdCB2YXJpZXMgd2l0aCB0aGUgY29udHJhY3QgYmFsYW5jZS4gCiogVGhpcyBsZWF2ZXMgeW91IHZ1bG5lcmFibGUgdG8gdGhlIHdoaW1zIG9mIHRoZSBtYXJrZXQsIGFzIGEgc3VkZGVuIGNyYXNoIGNhbiBkcmFpbiB5b3VyIGludmVzdG1lbnQgYXQgYW55IHRpbWUuCiogU29sdXRpb246IFdlIHJlbW92ZSB0b2tlbnMgZnJvbSB0aGUgZXF1YXRpb24gYWx0b2dldGhlciwgcmVsaWV2aW5nIGludmVzdG9ycyBvZiB2b2xhdGlsaXR5LiAKKiBUaGUgb3V0Y29tZSBpcyBhIHB5cmFtaWQgc2NoZW1lIHBvd2VyZWQgZW50aXJlbHkgYnkgZGl2aWRlbmRzLgoqIFdlIGRpc3RyaWJ1dGUgMjAlIG9mIGV2ZXJ5IGJ1eSBhbmQgc2VsbCB0byBzaGFyZWhvbGRlcnMgaW4gcHJvcG9ydGlvbiB0byB0aGVpciBzdGFrZSBpbiB0aGUgY29udHJhY3QuIAoqIE9uY2UgeW91J3ZlIG1hZGUgYSBkZXBvc2l0LCB5b3VyIGRpdmlkZW5kcyB3aWxsIGFjY3VtdWxhdGUgb3ZlciB0aW1lIHdoaWxlIHlvdXIgaW52ZXN0bWVudCByZW1haW5zIHNhZmUgYW5kIHN0YWJsZSwgCiogbWFraW5nIHRoaXMgdGhlIHVsdGltYXRlIHZlaGljbGUgZm9yIHBhc3NpdmUgaW5jb21lLgoqCgoKY29udHJhY3QgUHJvb2ZPZldlYWtGT01PIAogICAgCiAgICB7CiAgICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgID0gICAgICAgICAgICBNT0RJRklFUlMgICAgICAgICAgPQogICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBvbmx5IHBlb3BsZSB3aXRoIHRva2VucwogICAgbW9kaWZpZXIgb25seUJhZ2hvbGRlcnMoKSB7CiAgICAgICAgcmVxdWlyZShteVRva2VucygpID4gMCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLyBvbmx5IHBlb3BsZSB3aXRoIHByb2ZpdHMKICAgIG1vZGlmaWVyIG9ubHlTdHJvbmdoYW5kcygpIHsKICAgICAgICByZXF1aXJlKG15RGl2aWRlbmRzKHRydWUpID4gMCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLyBhZG1pbmlzdHJhdG9ycyBjYW46CiAgICAvLyAtPiBjaGFuZ2UgdGhlIG5hbWUgb2YgdGhlIGNvbnRyYWN0CiAgICAvLyAtPiBjaGFuZ2UgdGhlIG5hbWUgb2YgdGhlIHRva2VuCiAgICAvLyAtPiBjaGFuZ2UgdGhlIFBvUyBkaWZmaWN1bHR5IChIb3cgbWFueSB0b2tlbnMgaXQgY29zdHMgdG8gaG9sZCBhIG1hc3Rlcm5vZGUsIGluIGNhc2UgaXQgZ2V0cyBjcmF6eSBoaWdoIGxhdGVyKQogICAgLy8gdGhleSBDQU5OT1Q6CiAgICAvLyAtPiB0YWtlIGZ1bmRzCiAgICAvLyAtPiBkaXNhYmxlIHdpdGhkcmF3YWxzCiAgICAvLyAtPiBraWxsIHRoZSBjb250cmFjdAogICAgLy8gLT4gY2hhbmdlIHRoZSBwcmljZSBvZiB0b2tlbnMKCgoqLwoKCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IEZvcmVpZ25Ub2tlbiB7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwp9Cgpjb250cmFjdCBFUkMyMEJhc2ljIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCmludGVyZmFjZSBUb2tlbiB7IAogICAgZnVuY3Rpb24gZGlzdHIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IHN1cHBseSk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwp9Cgpjb250cmFjdCAgUHJvb2ZPZldlYWtGT01PIGlzIEVSQzIwIHsKICAgIAogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CiAgICBhZGRyZXNzIG93bmVyID0gbXNnLnNlbmRlcjsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgYmxhY2tsaXN0OwoKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJQcm9vZiBPZiBXZWFrIEZPTU8iOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiUE9XRk9NTyI7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDg7CiAgICAKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5ID0gODAwMDAwMDBlODsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsRGlzdHJpYnV0ZWQgPSAxMDsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsUmVtYWluaW5nID0gdG90YWxTdXBwbHkuc3ViKHRvdGFsRGlzdHJpYnV0ZWQpOwogICAgdWludDI1NiBwdWJsaWMgdmFsdWU7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKICAgIAogICAgZXZlbnQgRGlzdHIoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CiAgICBldmVudCBEaXN0ckZpbmlzaGVkKCk7CiAgICAKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGJ1cm5lciwgdWludDI1NiB2YWx1ZSk7CgogICAgYm9vbCBwdWJsaWMgZGlzdHJpYnV0aW9uRmluaXNoZWQgPSBmYWxzZTsKICAgIAogICAgbW9kaWZpZXIgY2FuRGlzdHIoKSB7CiAgICAgICAgcmVxdWlyZSghZGlzdHJpYnV0aW9uRmluaXNoZWQpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgCiAgICAKICAgIGZ1bmN0aW9uICBQcm9vZk9mV2Vha0ZPTU8gKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgdmFsdWUgPSAxMzA3ZTg7CiAgICAgICAgZGlzdHIob3duZXIsIHRvdGFsRGlzdHJpYnV0ZWQpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBpZiAobmV3T3duZXIgIT0gYWRkcmVzcygwKSkgewogICAgICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgICAgIH0KICAgIH0KICAgIAogICAKCiAgIAoKICAgIGZ1bmN0aW9uIGZpbmlzaERpc3RyaWJ1dGlvbigpIG9ubHlPd25lciBjYW5EaXN0ciBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGRpc3RyaWJ1dGlvbkZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICBEaXN0ckZpbmlzaGVkKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGRpc3RyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIGNhbkRpc3RyIHByaXZhdGUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHRvdGFsRGlzdHJpYnV0ZWQgPSB0b3RhbERpc3RyaWJ1dGVkLmFkZChfYW1vdW50KTsKICAgICAgICB0b3RhbFJlbWFpbmluZyA9IHRvdGFsUmVtYWluaW5nLnN1YihfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CiAgICAgICAgRGlzdHIoX3RvLCBfYW1vdW50KTsKICAgICAgICBUcmFuc2ZlcihhZGRyZXNzKDApLCBfdG8sIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIAogICAgICAgIGlmICh0b3RhbERpc3RyaWJ1dGVkID49IHRvdGFsU3VwcGx5KSB7CiAgICAgICAgICAgIGRpc3RyaWJ1dGlvbkZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGFpcmRyb3AoYWRkcmVzc1tdIGFkZHJlc3Nlcykgb25seU93bmVyIGNhbkRpc3RyIHB1YmxpYyB7CiAgICAgICAgCiAgICAgICAgcmVxdWlyZShhZGRyZXNzZXMubGVuZ3RoIDw9IDI1NSk7CiAgICAgICAgcmVxdWlyZSh2YWx1ZSA8PSB0b3RhbFJlbWFpbmluZyk7CiAgICAgICAgCiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgYWRkcmVzc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHJlcXVpcmUodmFsdWUgPD0gdG90YWxSZW1haW5pbmcpOwogICAgICAgICAgICBkaXN0cihhZGRyZXNzZXNbaV0sIHZhbHVlKTsKICAgICAgICB9CgkKICAgICAgICBpZiAodG90YWxEaXN0cmlidXRlZCA+PSB0b3RhbFN1cHBseSkgewogICAgICAgICAgICBkaXN0cmlidXRpb25GaW5pc2hlZCA9IHRydWU7CiAgICAgICAgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiBkaXN0cmlidXRpb24oYWRkcmVzc1tdIGFkZHJlc3NlcywgdWludDI1NiBhbW91bnQpIG9ubHlPd25lciBjYW5EaXN0ciBwdWJsaWMgewogICAgICAgIAogICAgICAgIHJlcXVpcmUoYWRkcmVzc2VzLmxlbmd0aCA8PSAyNTUpOwogICAgICAgIHJlcXVpcmUoYW1vdW50IDw9IHRvdGFsUmVtYWluaW5nKTsKICAgICAgICAKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBhZGRyZXNzZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgcmVxdWlyZShhbW91bnQgPD0gdG90YWxSZW1haW5pbmcpOwogICAgICAgICAgICBkaXN0cihhZGRyZXNzZXNbaV0sIGFtb3VudCk7CiAgICAgICAgfQoJCiAgICAgICAgaWYgKHRvdGFsRGlzdHJpYnV0ZWQgPj0gdG90YWxTdXBwbHkpIHsKICAgICAgICAgICAgZGlzdHJpYnV0aW9uRmluaXNoZWQgPSB0cnVlOwogICAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gZGlzdHJpYnV0ZUFtb3VudHMoYWRkcmVzc1tdIGFkZHJlc3NlcywgdWludDI1NltdIGFtb3VudHMpIG9ubHlPd25lciBjYW5EaXN0ciBwdWJsaWMgewoKICAgICAgICByZXF1aXJlKGFkZHJlc3Nlcy5sZW5ndGggPD0gMjU1KTsKICAgICAgICByZXF1aXJlKGFkZHJlc3Nlcy5sZW5ndGggPT0gYW1vdW50cy5sZW5ndGgpOwogICAgICAgIAogICAgICAgIGZvciAodWludDggaSA9IDA7IGkgPCBhZGRyZXNzZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgcmVxdWlyZShhbW91bnRzW2ldIDw9IHRvdGFsUmVtYWluaW5nKTsKICAgICAgICAgICAgZGlzdHIoYWRkcmVzc2VzW2ldLCBhbW91bnRzW2ldKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICh0b3RhbERpc3RyaWJ1dGVkID49IHRvdGFsU3VwcGx5KSB7CiAgICAgICAgICAgICAgICBkaXN0cmlidXRpb25GaW5pc2hlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uICgpIGV4dGVybmFsIHBheWFibGUgewogICAgICAgICAgICBnZXRUb2tlbnMoKTsKICAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdldFRva2VucygpIHBheWFibGUgY2FuRGlzdHIgcHVibGljIHsKICAgICAgICAKICAgICAgICBpZiAodmFsdWUgPiB0b3RhbFJlbWFpbmluZykgewogICAgICAgICAgICB2YWx1ZSA9IHRvdGFsUmVtYWluaW5nOwogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXF1aXJlKHZhbHVlIDw9IHRvdGFsUmVtYWluaW5nKTsKICAgICAgICAKICAgICAgICBhZGRyZXNzIGludmVzdG9yID0gbXNnLnNlbmRlcjsKICAgICAgICB1aW50MjU2IHRvR2l2ZSA9IHZhbHVlOwogICAgICAgIAogICAgICAgIGRpc3RyKGludmVzdG9yLCB0b0dpdmUpOwogICAgICAgIAogICAgICAgIGlmICh0b0dpdmUgPiAwKSB7CiAgICAgICAgICAgIGJsYWNrbGlzdFtpbnZlc3Rvcl0gPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRvdGFsRGlzdHJpYnV0ZWQgPj0gdG90YWxTdXBwbHkpIHsKICAgICAgICAgICAgZGlzdHJpYnV0aW9uRmluaXNoZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgICAKICAgICAKICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2KSB7CgkgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgLy8gbWl0aWdhdGVzIHRoZSBFUkMyMCBzaG9ydCBhZGRyZXNzIGF0dGFjawogICAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgc2l6ZSkgewogICAgICAgIGFzc2VydChtc2cuZGF0YS5sZW5ndGggPj0gc2l6ZSArIDQpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlQYXlsb2FkU2l6ZSgyICogMzIpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfYW1vdW50IDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKICAgICAgICAKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlQYXlsb2FkU2l6ZSgzICogMzIpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfYW1vdW50IDw9IGJhbGFuY2VzW19mcm9tXSk7CiAgICAgICAgcmVxdWlyZShfYW1vdW50IDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsKICAgICAgICAKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF9hbW91bnQpOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIG1pdGlnYXRlcyB0aGUgRVJDMjAgc3BlbmQvYXBwcm92YWwgcmFjZSBjb25kaXRpb24KICAgICAgICBpZiAoX3ZhbHVlICE9IDAgJiYgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gIT0gMCkgeyByZXR1cm4gZmFsc2U7IH0KICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBnZXRUb2tlbkJhbGFuY2UoYWRkcmVzcyB0b2tlbkFkZHJlc3MsIGFkZHJlc3Mgd2hvKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludCl7CiAgICAgICAgRm9yZWlnblRva2VuIHQgPSBGb3JlaWduVG9rZW4odG9rZW5BZGRyZXNzKTsKICAgICAgICB1aW50IGJhbCA9IHQuYmFsYW5jZU9mKHdobyk7CiAgICAgICAgcmV0dXJuIGJhbDsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gd2l0aGRyYXcoKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICB1aW50MjU2IGV0aGVyQmFsYW5jZSA9IHRoaXMuYmFsYW5jZTsKICAgICAgICBvd25lci50cmFuc2ZlcihldGhlckJhbGFuY2UpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CiAgICAgICAgLy8gbm8gbmVlZCB0byByZXF1aXJlIHZhbHVlIDw9IHRvdGFsU3VwcGx5LCBzaW5jZSB0aGF0IHdvdWxkIGltcGx5IHRoZQogICAgICAgIC8vIHNlbmRlcidzIGJhbGFuY2UgaXMgZ3JlYXRlciB0aGFuIHRoZSB0b3RhbFN1cHBseSwgd2hpY2ggKnNob3VsZCogYmUgYW4gYXNzZXJ0aW9uIGZhaWx1cmUKCiAgICAgICAgYWRkcmVzcyBidXJuZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIGJhbGFuY2VzW2J1cm5lcl0gPSBiYWxhbmNlc1tidXJuZXJdLnN1YihfdmFsdWUpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKF92YWx1ZSk7CiAgICAgICAgdG90YWxEaXN0cmlidXRlZCA9IHRvdGFsRGlzdHJpYnV0ZWQuc3ViKF92YWx1ZSk7CiAgICAgICAgQnVybihidXJuZXIsIF92YWx1ZSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHdpdGhkcmF3Rm9yZWlnblRva2VucyhhZGRyZXNzIF90b2tlbkNvbnRyYWN0KSBvbmx5T3duZXIgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBGb3JlaWduVG9rZW4gdG9rZW4gPSBGb3JlaWduVG9rZW4oX3Rva2VuQ29udHJhY3QpOwogICAgICAgIHVpbnQyNTYgYW1vdW50ID0gdG9rZW4uYmFsYW5jZU9mKGFkZHJlc3ModGhpcykpOwogICAgICAgIHJldHVybiB0b2tlbi50cmFuc2Zlcihvd25lciwgYW1vdW50KTsKICAgIH0KCgp9CgovKiBZT1UgU0hPVUxEIFJFQUQgVEhFIENPTlRSQUNUKi8='.
	

]
