Class {
	#name : #SRTf7ceaf2ee0a1e237e624e0e5c8b7cc0d28f01088,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTf7ceaf2ee0a1e237e624e0e5c8b7cc0d28f01088 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKLyoqCiAqIEB0aXRsZSBNYXRoCiAqIEBkZXYgQXNzb3J0ZWQgbWF0aCBvcGVyYXRpb25zCiAqLwoKbGlicmFyeSBNYXRoIHsKICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW42NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1heDI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQp9CgoKCgoKY29udHJhY3QgTXVsdGlPd25lcnMgewoKICAgIGV2ZW50IEFjY2Vzc0dyYW50KGFkZHJlc3MgaW5kZXhlZCBvd25lcik7CiAgICBldmVudCBBY2Nlc3NSZXZva2UoYWRkcmVzcyBpbmRleGVkIG93bmVyKTsKICAgIAogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIG93bmVyczsKCiAgICBmdW5jdGlvbiBNdWx0aU93bmVycygpIHB1YmxpYyB7CiAgICAgICAgb3duZXJzW21zZy5zZW5kZXJdID0gdHJ1ZTsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7IAogICAgICAgIHJlcXVpcmUob3duZXJzW21zZy5zZW5kZXJdID09IHRydWUpOwogICAgICAgIF87IAogICAgfQoKICAgIGZ1bmN0aW9uIGlzT3duZXIoKSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIG93bmVyc1ttc2cuc2VuZGVyXSA/IHRydWUgOiBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbiBncmFudChhZGRyZXNzIF9uZXdPd25lcikgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICBvd25lcnNbX25ld093bmVyXSA9IHRydWU7CiAgICAgICAgQWNjZXNzR3JhbnQoX25ld093bmVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiByZXZva2UoYWRkcmVzcyBfb2xkT3duZXIpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyICE9IF9vbGRPd25lcik7CiAgICAgICAgb3duZXJzW19vbGRPd25lcl0gPSBmYWxzZTsKICAgICAgICBBY2Nlc3NSZXZva2UoX29sZE93bmVyKTsKICAgIH0KfQoKLyoqCiAqIEB0aXRsZSBFUkM3MjEgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9laXBzL2lzc3Vlcy83MjEKICovCmNvbnRyYWN0IEVSQzcyMSB7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF90b2tlbklkKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX2FwcHJvdmVkLCB1aW50MjU2IF90b2tlbklkKTsKCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IF9iYWxhbmNlKTsKICBmdW5jdGlvbiBvd25lck9mKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKGFkZHJlc3MgX293bmVyKTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgcHVibGljOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYzsKICBmdW5jdGlvbiB0YWtlT3duZXJzaGlwKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYzsKfQoKLyoqCiAqIEB0aXRsZSBFUkM3MjFUb2tlbgogKiBHZW5lcmljIGltcGxlbWVudGF0aW9uIGZvciB0aGUgcmVxdWlyZWQgZnVuY3Rpb25hbGl0eSBvZiB0aGUgRVJDNzIxIHN0YW5kYXJkCiAqLwpjb250cmFjdCBFUkM3MjFUb2tlbiBpcyBFUkM3MjEgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAvLyBUb3RhbCBhbW91bnQgb2YgdG9rZW5zCiAgdWludDI1NiBpbnRlcm5hbCB0b3RhbFRva2VuczsKCiAgLy8gTWFwcGluZyBmcm9tIHRva2VuIElEIHRvIG93bmVyCiAgbWFwcGluZyAodWludDI1NiA9PiBhZGRyZXNzKSBwcml2YXRlIHRva2VuT3duZXI7CgogIC8vIE1hcHBpbmcgZnJvbSB0b2tlbiBJRCB0byBhcHByb3ZlZCBhZGRyZXNzCiAgbWFwcGluZyAodWludDI1NiA9PiBhZGRyZXNzKSBwcml2YXRlIHRva2VuQXBwcm92YWxzOwoKICAvLyBNYXBwaW5nIGZyb20gb3duZXIgdG8gbGlzdCBvZiBvd25lZCB0b2tlbiBJRHMKICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTZbXSkgcHJpdmF0ZSBvd25lZFRva2VuczsKCiAgLy8gTWFwcGluZyBmcm9tIHRva2VuIElEIHRvIGluZGV4IG9mIHRoZSBvd25lciB0b2tlbnMgbGlzdAogIG1hcHBpbmcgKHVpbnQyNTYgPT4gdWludDI1NikgcHJpdmF0ZSBvd25lZFRva2Vuc0luZGV4OwoKICAvKioKICAqIEBkZXYgR3VhcmFudGVlcyBtc2cuc2VuZGVyIGlzIG93bmVyIG9mIHRoZSBnaXZlbiB0b2tlbgogICogQHBhcmFtIF90b2tlbklkIHVpbnQyNTYgSUQgb2YgdGhlIHRva2VuIHRvIHZhbGlkYXRlIGl0cyBvd25lcnNoaXAgYmVsb25ncyB0byBtc2cuc2VuZGVyCiAgKi8KICBtb2RpZmllciBvbmx5T3duZXJPZih1aW50MjU2IF90b2tlbklkKSB7CiAgICByZXF1aXJlKG93bmVyT2YoX3Rva2VuSWQpID09IG1zZy5zZW5kZXIpOwogICAgXzsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSB0b3RhbCBhbW91bnQgb2YgdG9rZW5zIHN0b3JlZCBieSB0aGUgY29udHJhY3QKICAqIEByZXR1cm4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIHRvdGFsIGFtb3VudCBvZiB0b2tlbnMKICAqLwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIHRvdGFsVG9rZW5zOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgdG8gcXVlcnkgdGhlIGJhbGFuY2Ugb2YKICAqIEByZXR1cm4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MKICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIG93bmVkVG9rZW5zW19vd25lcl0ubGVuZ3RoOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGxpc3Qgb2YgdG9rZW5zIG93bmVkIGJ5IGEgZ2l2ZW4gYWRkcmVzcwogICogQHBhcmFtIF9vd25lciBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0b2tlbnMgb2YKICAqIEByZXR1cm4gdWludDI1NltdIHJlcHJlc2VudGluZyB0aGUgbGlzdCBvZiB0b2tlbnMgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzCiAgKi8KICBmdW5jdGlvbiB0b2tlbnNPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NltdKSB7CiAgICByZXR1cm4gb3duZWRUb2tlbnNbX293bmVyXTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBvd25lciBvZiB0aGUgc3BlY2lmaWVkIHRva2VuIElECiAgKiBAcGFyYW0gX3Rva2VuSWQgdWludDI1NiBJRCBvZiB0aGUgdG9rZW4gdG8gcXVlcnkgdGhlIG93bmVyIG9mCiAgKiBAcmV0dXJuIG93bmVyIGFkZHJlc3MgY3VycmVudGx5IG1hcmtlZCBhcyB0aGUgb3duZXIgb2YgdGhlIGdpdmVuIHRva2VuIElECiAgKi8KICBmdW5jdGlvbiBvd25lck9mKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKGFkZHJlc3MpIHsKICAgIGFkZHJlc3Mgb3duZXIgPSB0b2tlbk93bmVyW190b2tlbklkXTsKICAgIHJlcXVpcmUob3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICByZXR1cm4gb3duZXI7CiAgfQoKICAvKioKICAgKiBAZGV2IEdldHMgdGhlIGFwcHJvdmVkIGFkZHJlc3MgdG8gdGFrZSBvd25lcnNoaXAgb2YgYSBnaXZlbiB0b2tlbiBJRAogICAqIEBwYXJhbSBfdG9rZW5JZCB1aW50MjU2IElEIG9mIHRoZSB0b2tlbiB0byBxdWVyeSB0aGUgYXBwcm92YWwgb2YKICAgKiBAcmV0dXJuIGFkZHJlc3MgY3VycmVudGx5IGFwcHJvdmVkIHRvIHRha2Ugb3duZXJzaGlwIG9mIHRoZSBnaXZlbiB0b2tlbiBJRAogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmVkRm9yKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKGFkZHJlc3MpIHsKICAgIHJldHVybiB0b2tlbkFwcHJvdmFsc1tfdG9rZW5JZF07CiAgfQoKICAvKioKICAqIEBkZXYgVHJhbnNmZXJzIHRoZSBvd25lcnNoaXAgb2YgYSBnaXZlbiB0b2tlbiBJRCB0byBhbm90aGVyIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gYWRkcmVzcyB0byByZWNlaXZlIHRoZSBvd25lcnNoaXAgb2YgdGhlIGdpdmVuIHRva2VuIElECiAgKiBAcGFyYW0gX3Rva2VuSWQgdWludDI1NiBJRCBvZiB0aGUgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgb25seU93bmVyT2YoX3Rva2VuSWQpIHsKICAgIGNsZWFyQXBwcm92YWxBbmRUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF90b2tlbklkKTsKICB9CgogIC8qKgogICogQGRldiBBcHByb3ZlcyBhbm90aGVyIGFkZHJlc3MgdG8gY2xhaW0gZm9yIHRoZSBvd25lcnNoaXAgb2YgdGhlIGdpdmVuIHRva2VuIElECiAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgdG8gYmUgYXBwcm92ZWQgZm9yIHRoZSBnaXZlbiB0b2tlbiBJRAogICogQHBhcmFtIF90b2tlbklkIHVpbnQyNTYgSUQgb2YgdGhlIHRva2VuIHRvIGJlIGFwcHJvdmVkCiAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgb25seU93bmVyT2YoX3Rva2VuSWQpIHsKICAgIGFkZHJlc3Mgb3duZXIgPSBvd25lck9mKF90b2tlbklkKTsKICAgIHJlcXVpcmUoX3RvICE9IG93bmVyKTsKICAgIGlmIChhcHByb3ZlZEZvcihfdG9rZW5JZCkgIT0gMCB8fCBfdG8gIT0gMCkgewogICAgICB0b2tlbkFwcHJvdmFsc1tfdG9rZW5JZF0gPSBfdG87CiAgICAgIEFwcHJvdmFsKG93bmVyLCBfdG8sIF90b2tlbklkKTsKICAgIH0KICB9CgogIC8qKgogICogQGRldiBDbGFpbXMgdGhlIG93bmVyc2hpcCBvZiBhIGdpdmVuIHRva2VuIElECiAgKiBAcGFyYW0gX3Rva2VuSWQgdWludDI1NiBJRCBvZiB0aGUgdG9rZW4gYmVpbmcgY2xhaW1lZCBieSB0aGUgbXNnLnNlbmRlcgogICovCiAgZnVuY3Rpb24gdGFrZU93bmVyc2hpcCh1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgewogICAgcmVxdWlyZShpc0FwcHJvdmVkRm9yKG1zZy5zZW5kZXIsIF90b2tlbklkKSk7CiAgICBjbGVhckFwcHJvdmFsQW5kVHJhbnNmZXIob3duZXJPZihfdG9rZW5JZCksIG1zZy5zZW5kZXIsIF90b2tlbklkKTsKICB9CgogIC8qKgogICogQGRldiBNaW50IHRva2VuIGZ1bmN0aW9uCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRoYXQgd2lsbCBvd24gdGhlIG1pbnRlZCB0b2tlbgogICogQHBhcmFtIF90b2tlbklkIHVpbnQyNTYgSUQgb2YgdGhlIHRva2VuIHRvIGJlIG1pbnRlZCBieSB0aGUgbXNnLnNlbmRlcgogICovCiAgZnVuY3Rpb24gX21pbnQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIGludGVybmFsIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgYWRkVG9rZW4oX3RvLCBfdG9rZW5JZCk7CiAgICBUcmFuc2ZlcigweDAsIF90bywgX3Rva2VuSWQpOwogIH0KCiAgLyoqCiAgKiBAZGV2IEJ1cm5zIGEgc3BlY2lmaWMgdG9rZW4KICAqIEBwYXJhbSBfdG9rZW5JZCB1aW50MjU2IElEIG9mIHRoZSB0b2tlbiBiZWluZyBidXJuZWQgYnkgdGhlIG1zZy5zZW5kZXIKICAqLwogIGZ1bmN0aW9uIF9idXJuKHVpbnQyNTYgX3Rva2VuSWQpIG9ubHlPd25lck9mKF90b2tlbklkKSBpbnRlcm5hbCB7CiAgICBpZiAoYXBwcm92ZWRGb3IoX3Rva2VuSWQpICE9IDApIHsKICAgICAgY2xlYXJBcHByb3ZhbChtc2cuc2VuZGVyLCBfdG9rZW5JZCk7CiAgICB9CiAgICByZW1vdmVUb2tlbihtc2cuc2VuZGVyLCBfdG9rZW5JZCk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCAweDAsIF90b2tlbklkKTsKICB9CgogIC8qKgogICogQGRldiBCdXJucyBhIHNwZWNpZmljIHRva2VuIGZvciBhIHVzZXIuCiAgKiBAcGFyYW0gX3Rva2VuSWQgdWludDI1NiBJRCBvZiB0aGUgdG9rZW4gYmVpbmcgYnVybmVkIGJ5IHRoZSBtc2cuc2VuZGVyCiAgKi8KICBmdW5jdGlvbiBfYnVybkZvcihhZGRyZXNzIF9vd25lciwgdWludDI1NiBfdG9rZW5JZCkgaW50ZXJuYWwgewogICAgaWYgKGlzQXBwcm92ZWRGb3IoX293bmVyLCBfdG9rZW5JZCkpIHsKICAgICAgY2xlYXJBcHByb3ZhbChfb3duZXIsIF90b2tlbklkKTsKICAgIH0KICAgIHJlbW92ZVRva2VuKF9vd25lciwgX3Rva2VuSWQpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgMHgwLCBfdG9rZW5JZCk7CiAgfQoKICAvKioKICAgKiBAZGV2IFRlbGxzIHdoZXRoZXIgdGhlIG1zZy5zZW5kZXIgaXMgYXBwcm92ZWQgZm9yIHRoZSBnaXZlbiB0b2tlbiBJRCBvciBub3QKICAgKiBUaGlzIGZ1bmN0aW9uIGlzIG5vdCBwcml2YXRlIHNvIGl0IGNhbiBiZSBleHRlbmRlZCBpbiBmdXJ0aGVyIGltcGxlbWVudGF0aW9ucyBsaWtlIHRoZSBvcGVyYXRhYmxlIEVSQzcyMQogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBvZiB0aGUgb3duZXIgdG8gcXVlcnkgdGhlIGFwcHJvdmFsIG9mCiAgICogQHBhcmFtIF90b2tlbklkIHVpbnQyNTYgSUQgb2YgdGhlIHRva2VuIHRvIHF1ZXJ5IHRoZSBhcHByb3ZhbCBvZgogICAqIEByZXR1cm4gYm9vbCB3aGV0aGVyIHRoZSBtc2cuc2VuZGVyIGlzIGFwcHJvdmVkIGZvciB0aGUgZ2l2ZW4gdG9rZW4gSUQgb3Igbm90CiAgICovCiAgZnVuY3Rpb24gaXNBcHByb3ZlZEZvcihhZGRyZXNzIF9vd25lciwgdWludDI1NiBfdG9rZW5JZCkgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gYXBwcm92ZWRGb3IoX3Rva2VuSWQpID09IF9vd25lcjsKICB9CgogIC8qKgogICogQGRldiBJbnRlcm5hbCBmdW5jdGlvbiB0byBjbGVhciBjdXJyZW50IGFwcHJvdmFsIGFuZCB0cmFuc2ZlciB0aGUgb3duZXJzaGlwIG9mIGEgZ2l2ZW4gdG9rZW4gSUQKICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAqIEBwYXJhbSBfdG8gYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0aGUgdG9rZW4gdG8KICAqIEBwYXJhbSBfdG9rZW5JZCB1aW50MjU2IElEIG9mIHRoZSB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICovCiAgZnVuY3Rpb24gY2xlYXJBcHByb3ZhbEFuZFRyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBpbnRlcm5hbCB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3RvICE9IG93bmVyT2YoX3Rva2VuSWQpKTsKICAgIHJlcXVpcmUob3duZXJPZihfdG9rZW5JZCkgPT0gX2Zyb20pOwoKICAgIGNsZWFyQXBwcm92YWwoX2Zyb20sIF90b2tlbklkKTsKICAgIHJlbW92ZVRva2VuKF9mcm9tLCBfdG9rZW5JZCk7CiAgICBhZGRUb2tlbihfdG8sIF90b2tlbklkKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF90b2tlbklkKTsKICB9CgogIC8qKgogICogQGRldiBJbnRlcm5hbCBmdW5jdGlvbiB0byBjbGVhciBjdXJyZW50IGFwcHJvdmFsIG9mIGEgZ2l2ZW4gdG9rZW4gSUQKICAqIEBwYXJhbSBfdG9rZW5JZCB1aW50MjU2IElEIG9mIHRoZSB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICovCiAgZnVuY3Rpb24gY2xlYXJBcHByb3ZhbChhZGRyZXNzIF9vd25lciwgdWludDI1NiBfdG9rZW5JZCkgcHJpdmF0ZSB7CiAgICByZXF1aXJlKG93bmVyT2YoX3Rva2VuSWQpID09IF9vd25lcik7CiAgICB0b2tlbkFwcHJvdmFsc1tfdG9rZW5JZF0gPSAwOwogICAgQXBwcm92YWwoX293bmVyLCAwLCBfdG9rZW5JZCk7CiAgfQoKICAvKioKICAqIEBkZXYgSW50ZXJuYWwgZnVuY3Rpb24gdG8gYWRkIGEgdG9rZW4gSUQgdG8gdGhlIGxpc3Qgb2YgYSBnaXZlbiBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgcmVwcmVzZW50aW5nIHRoZSBuZXcgb3duZXIgb2YgdGhlIGdpdmVuIHRva2VuIElECiAgKiBAcGFyYW0gX3Rva2VuSWQgdWludDI1NiBJRCBvZiB0aGUgdG9rZW4gdG8gYmUgYWRkZWQgdG8gdGhlIHRva2VucyBsaXN0IG9mIHRoZSBnaXZlbiBhZGRyZXNzCiAgKi8KICBmdW5jdGlvbiBhZGRUb2tlbihhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgcHJpdmF0ZSB7CiAgICByZXF1aXJlKHRva2VuT3duZXJbX3Rva2VuSWRdID09IGFkZHJlc3MoMCkpOwogICAgdG9rZW5Pd25lcltfdG9rZW5JZF0gPSBfdG87CiAgICB1aW50MjU2IGxlbmd0aCA9IGJhbGFuY2VPZihfdG8pOwogICAgb3duZWRUb2tlbnNbX3RvXS5wdXNoKF90b2tlbklkKTsKICAgIG93bmVkVG9rZW5zSW5kZXhbX3Rva2VuSWRdID0gbGVuZ3RoOwogICAgdG90YWxUb2tlbnMgPSB0b3RhbFRva2Vucy5hZGQoMSk7CiAgfQoKICAvKioKICAqIEBkZXYgSW50ZXJuYWwgZnVuY3Rpb24gdG8gcmVtb3ZlIGEgdG9rZW4gSUQgZnJvbSB0aGUgbGlzdCBvZiBhIGdpdmVuIGFkZHJlc3MKICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIHJlcHJlc2VudGluZyB0aGUgcHJldmlvdXMgb3duZXIgb2YgdGhlIGdpdmVuIHRva2VuIElECiAgKiBAcGFyYW0gX3Rva2VuSWQgdWludDI1NiBJRCBvZiB0aGUgdG9rZW4gdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZSB0b2tlbnMgbGlzdCBvZiB0aGUgZ2l2ZW4gYWRkcmVzcwogICovCiAgZnVuY3Rpb24gcmVtb3ZlVG9rZW4oYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdG9rZW5JZCkgcHJpdmF0ZSB7CiAgICByZXF1aXJlKG93bmVyT2YoX3Rva2VuSWQpID09IF9mcm9tKTsKCiAgICB1aW50MjU2IHRva2VuSW5kZXggPSBvd25lZFRva2Vuc0luZGV4W190b2tlbklkXTsKICAgIHVpbnQyNTYgbGFzdFRva2VuSW5kZXggPSBiYWxhbmNlT2YoX2Zyb20pLnN1YigxKTsKICAgIHVpbnQyNTYgbGFzdFRva2VuID0gb3duZWRUb2tlbnNbX2Zyb21dW2xhc3RUb2tlbkluZGV4XTsKCiAgICB0b2tlbk93bmVyW190b2tlbklkXSA9IDA7CiAgICBvd25lZFRva2Vuc1tfZnJvbV1bdG9rZW5JbmRleF0gPSBsYXN0VG9rZW47CiAgICBvd25lZFRva2Vuc1tfZnJvbV1bbGFzdFRva2VuSW5kZXhdID0gMDsKICAgIC8vIE5vdGUgdGhhdCB0aGlzIHdpbGwgaGFuZGxlIHNpbmdsZS1lbGVtZW50IGFycmF5cy4gSW4gdGhhdCBjYXNlLCBib3RoIHRva2VuSW5kZXggYW5kIGxhc3RUb2tlbkluZGV4IGFyZSBnb2luZyB0bwogICAgLy8gYmUgemVyby4gVGhlbiB3ZSBjYW4gbWFrZSBzdXJlIHRoYXQgd2Ugd2lsbCByZW1vdmUgX3Rva2VuSWQgZnJvbSB0aGUgb3duZWRUb2tlbnMgbGlzdCBzaW5jZSB3ZSBhcmUgZmlyc3Qgc3dhcHBpbmcKICAgIC8vIHRoZSBsYXN0VG9rZW4gdG8gdGhlIGZpcnN0IHBvc2l0aW9uLCBhbmQgdGhlbiBkcm9wcGluZyB0aGUgZWxlbWVudCBwbGFjZWQgaW4gdGhlIGxhc3QgcG9zaXRpb24gb2YgdGhlIGxpc3QKCiAgICBvd25lZFRva2Vuc1tfZnJvbV0ubGVuZ3RoLS07CiAgICBvd25lZFRva2Vuc0luZGV4W190b2tlbklkXSA9IDA7CiAgICBvd25lZFRva2Vuc0luZGV4W2xhc3RUb2tlbl0gPSB0b2tlbkluZGV4OwogICAgdG90YWxUb2tlbnMgPSB0b3RhbFRva2Vucy5zdWIoMSk7CiAgfQp9Cgpjb250cmFjdCBCYXNlIGlzIEVSQzcyMVRva2VuLCBNdWx0aU93bmVycyB7CgogIGV2ZW50IE5ld0NSTFRva2VuKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgdWludDI1NiBpbmRleGVkIHRva2VuSWQsIHVpbnQyNTYgdHJhaXRzKTsKICBldmVudCBVcGRhdGVkQ1JMVG9rZW4odWludDI1NiBpbmRleGVkIFVVSUQsIHVpbnQyNTYgaW5kZXhlZCB0b2tlbklkLCB1aW50MjU2IHRyYWl0cyk7CgogIHVpbnQyNTYgVE9LRU5fVVVJRDsKICB1aW50MjU2IFVQR1JBREVfVVVJRDsKCiAgZnVuY3Rpb24gX2NyZWF0ZVRva2VuKGFkZHJlc3MgX293bmVyLCB1aW50MjU2IF90cmFpdHMpIGludGVybmFsIHsKICAgIC8vIGVtaXQgdGhlIGNyZWF0b24gZXZlbnQKICAgIE5ld0NSTFRva2VuKAogICAgICBfb3duZXIsCiAgICAgIFRPS0VOX1VVSUQsCiAgICAgIF90cmFpdHMKICAgICk7CgogICAgLy8gVGhpcyB3aWxsIGFzc2lnbiBvd25lcnNoaXAsIGFuZCBhbHNvIGVtaXQgdGhlIFRyYW5zZmVyIGV2ZW50CiAgICBfbWludChfb3duZXIsIFRPS0VOX1VVSUQpOwoKICAgIFRPS0VOX1VVSUQrKzsKICB9CgogIGZ1bmN0aW9uIF91cGRhdGVUb2tlbih1aW50MjU2IF90b2tlbklkLCB1aW50MjU2IF90cmFpdHMpIGludGVybmFsIHsKICAgIC8vIGVtaXQgdGhlIGNyZWF0b24gZXZlbnQKICAgIFVwZGF0ZWRDUkxUb2tlbigKICAgICAgVVBHUkFERV9VVUlELAogICAgICBfdG9rZW5JZCwKICAgICAgX3RyYWl0cwogICAgKTsKCiAgICBVUEdSQURFX1VVSUQrKzsKICB9CgogIC8vIEV0aCBiYWxhbmNlIGNvbnRyb2xzCgogIC8vIFdlIGNhbiB3aXRoZHJhdyBldGggYmFsYW5jZSBvZiBjb250cmFjdC4KICBmdW5jdGlvbiB3aXRoZHJhd0JhbGFuY2UoKSBvbmx5T3duZXIgZXh0ZXJuYWwgewogICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgPiAwKTsKCiAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgfQp9Cgpjb250cmFjdCBMb290Ym94U3RvcmUgaXMgQmFzZSB7CiAgLy8gbWFwcGluZyBiZXR3ZWVuIHNwZWNpZmljIExvb3Rib3ggY29udHJhY3QgYWRkcmVzcyB0byBwcmljZSBpbiB3ZWkKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgZXRoUHJpY2VkTG9vdGJveGVzOwoKICAvLyBtYXBwaW5nIGJldHdlZW4gc3BlY2lmaWMgTG9vdGJveCBjb250cmFjdCBhZGRyZXNzIHRvIHByaWNlIGluIE5PUyB0b2tlbnMKICBtYXBwaW5nKHVpbnQyNTYgPT4gdWludDI1NikgTk9TUGFja2FnZXM7CgogIHVpbnQyNTYgVVVJRDsKCiAgZXZlbnQgTk9TUHVyY2hhc2VkKHVpbnQyNTYgaW5kZXhlZCBVVUlELCBhZGRyZXNzIGluZGV4ZWQgb3duZXIsIHVpbnQyNTYgaW5kZXhlZCBOT1NBbXRQdXJjaGFzZWQpOwoKICBmdW5jdGlvbiBhZGRMb290Ym94KGFkZHJlc3MgX2xvb3Rib3hBZGRyZXNzLCB1aW50MjU2IF9wcmljZSkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgIGV0aFByaWNlZExvb3Rib3hlc1tfbG9vdGJveEFkZHJlc3NdID0gX3ByaWNlOwogIH0KCiAgZnVuY3Rpb24gcmVtb3ZlTG9vdGJveChhZGRyZXNzIF9sb290Ym94QWRkcmVzcykgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgIGRlbGV0ZSBldGhQcmljZWRMb290Ym94ZXNbX2xvb3Rib3hBZGRyZXNzXTsKICB9CgogIGZ1bmN0aW9uIGJ1eUV0aExvb3Rib3goYWRkcmVzcyBfbG9vdGJveEFkZHJlc3MpIHBheWFibGUgZXh0ZXJuYWwgewogICAgLy8gVmVyaWZ5IHRoZSBnaXZlbiBsb290Ym94IGNvbnRyYWN0IGV4aXN0cyBhbmQgdGhleSd2ZSBwYWlkIGVub3VnaAogICAgcmVxdWlyZShldGhQcmljZWRMb290Ym94ZXNbX2xvb3Rib3hBZGRyZXNzXSAhPSAwKTsKICAgIHJlcXVpcmUobXNnLnZhbHVlID49IGV0aFByaWNlZExvb3Rib3hlc1tfbG9vdGJveEFkZHJlc3NdKTsKCiAgICBMb290Ym94SW50ZXJmYWNlKF9sb290Ym94QWRkcmVzcykuYnV5KG1zZy5zZW5kZXIpOwogIH0KCiAgZnVuY3Rpb24gYWRkTk9TUGFja2FnZSh1aW50MjU2IF9OT1NBbXQsIHVpbnQyNTYgX2V0aFByaWNlKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgTk9TUGFja2FnZXNbX05PU0FtdF0gPSBfZXRoUHJpY2U7CiAgfQogIAogIGZ1bmN0aW9uIHJlbW92ZU5PU1BhY2thZ2UodWludDI1NiBfTk9TQW10KSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgZGVsZXRlIE5PU1BhY2thZ2VzW19OT1NBbXRdOwogIH0KCiAgZnVuY3Rpb24gYnV5Tk9TKHVpbnQyNTYgX05PU0FtdCkgcGF5YWJsZSBleHRlcm5hbCB7CiAgICByZXF1aXJlKE5PU1BhY2thZ2VzW19OT1NBbXRdICE9IDApOwogICAgcmVxdWlyZShtc2cudmFsdWUgPj0gTk9TUGFja2FnZXNbX05PU0FtdF0pOwogICAgCiAgICBOT1NQdXJjaGFzZWQoVVVJRCwgbXNnLnNlbmRlciwgX05PU0FtdCk7CiAgICBVVUlEKys7CiAgfQp9Cgpjb250cmFjdCBFeHRlcm5hbEludGVyZmFjZSB7CiAgZnVuY3Rpb24gZ2l2ZUl0ZW0oYWRkcmVzcyBfcmVjaXBpZW50LCB1aW50MjU2IF90cmFpdHMpIGV4dGVybmFsOwoKICBmdW5jdGlvbiBnaXZlTXVsdGlwbGVJdGVtcyhhZGRyZXNzIF9yZWNpcGllbnQsIHVpbnQyNTZbXSBfdHJhaXRzKSBleHRlcm5hbDsKCiAgZnVuY3Rpb24gZ2l2ZU11bHRpcGxlSXRlbXNUb011bHRpcGxlUmVjaXBpZW50cyhhZGRyZXNzW10gX3JlY2lwaWVudHMsIHVpbnQyNTZbXSBfdHJhaXRzKSBleHRlcm5hbDsKCiAgZnVuY3Rpb24gZ2l2ZU11bHRpcGxlSXRlbXNBbmREZXN0cm95TXVsdGlwbGVJdGVtcyhhZGRyZXNzIF9yZWNpcGllbnQsIHVpbnQyNTZbXSBfdHJhaXRzLCB1aW50MjU2W10gX3Rva2VuSWRzKSBleHRlcm5hbDsKICAKICBmdW5jdGlvbiBkZXN0cm95SXRlbSh1aW50MjU2IF90b2tlbklkKSBleHRlcm5hbDsKCiAgZnVuY3Rpb24gZGVzdHJveU11bHRpcGxlSXRlbXModWludDI1NltdIF90b2tlbklkcykgZXh0ZXJuYWw7CgogIGZ1bmN0aW9uIHVwZGF0ZUl0ZW1UcmFpdHModWludDI1NiBfdG9rZW5JZCwgdWludDI1NiBfdHJhaXRzKSBleHRlcm5hbDsKfQoKCmNvbnRyYWN0IENvcmUgaXMgTG9vdGJveFN0b3JlLCBFeHRlcm5hbEludGVyZmFjZSB7CiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGF1dGhvcml6ZWRFeHRlcm5hbDsKCiAgZnVuY3Rpb24gYWRkQXV0aG9yaXplZEV4dGVybmFsKGFkZHJlc3MgX2FkZHJlc3MpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICBhdXRob3JpemVkRXh0ZXJuYWxbX2FkZHJlc3NdID0gMTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZUF1dGhvcml6ZWRFeHRlcm5hbChhZGRyZXNzIF9hZGRyZXNzKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgZGVsZXRlIGF1dGhvcml6ZWRFeHRlcm5hbFtfYWRkcmVzc107CiAgfQoKICAvLyBWZXJpZnkgdGhlIGNhbGxlciBvZiB0aGlzIGZ1bmN0aW9uIGlzIGEgTG9vdGJveCBjb250cmFjdCBvciByYWNlLCBvciBjcmFmdGluZywgb3IgdXBncmFkZQogIG1vZGlmaWVyIG9ubHlBdXRob3JpemVkKCkgeyAKICAgIHJlcXVpcmUoZXRoUHJpY2VkTG9vdGJveGVzW21zZy5zZW5kZXJdICE9IDAgfHwKICAgICAgICAgICAgYXV0aG9yaXplZEV4dGVybmFsW21zZy5zZW5kZXJdICE9IDApOwogICAgICBfOyAKICB9CgogIGZ1bmN0aW9uIGdpdmVJdGVtKGFkZHJlc3MgX3JlY2lwaWVudCwgdWludDI1NiBfdHJhaXRzKSBvbmx5QXV0aG9yaXplZCBleHRlcm5hbCB7CiAgICBfY3JlYXRlVG9rZW4oX3JlY2lwaWVudCwgX3RyYWl0cyk7CiAgfQoKICBmdW5jdGlvbiBnaXZlTXVsdGlwbGVJdGVtcyhhZGRyZXNzIF9yZWNpcGllbnQsIHVpbnQyNTZbXSBfdHJhaXRzKSBvbmx5QXV0aG9yaXplZCBleHRlcm5hbCB7CiAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBfdHJhaXRzLmxlbmd0aDsgKytpKSB7CiAgICAgIF9jcmVhdGVUb2tlbihfcmVjaXBpZW50LCBfdHJhaXRzW2ldKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGdpdmVNdWx0aXBsZUl0ZW1zVG9NdWx0aXBsZVJlY2lwaWVudHMoYWRkcmVzc1tdIF9yZWNpcGllbnRzLCB1aW50MjU2W10gX3RyYWl0cykgb25seUF1dGhvcml6ZWQgZXh0ZXJuYWwgewogICAgcmVxdWlyZShfcmVjaXBpZW50cy5sZW5ndGggPT0gX3RyYWl0cy5sZW5ndGgpOwoKICAgIGZvciAodWludCBpID0gMDsgaSA8IF90cmFpdHMubGVuZ3RoOyArK2kpIHsKICAgICAgX2NyZWF0ZVRva2VuKF9yZWNpcGllbnRzW2ldLCBfdHJhaXRzW2ldKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGdpdmVNdWx0aXBsZUl0ZW1zQW5kRGVzdHJveU11bHRpcGxlSXRlbXMoYWRkcmVzcyBfcmVjaXBpZW50LCB1aW50MjU2W10gX3RyYWl0cywgdWludDI1NltdIF90b2tlbklkcykgb25seUF1dGhvcml6ZWQgZXh0ZXJuYWwgewogICAgZm9yICh1aW50IGkgPSAwOyBpIDwgX3RyYWl0cy5sZW5ndGg7ICsraSkgewogICAgICBfY3JlYXRlVG9rZW4oX3JlY2lwaWVudCwgX3RyYWl0c1tpXSk7CiAgICB9CgogICAgZm9yIChpID0gMDsgaSA8IF90b2tlbklkcy5sZW5ndGg7ICsraSkgewogICAgICBfYnVybkZvcihvd25lck9mKF90b2tlbklkc1tpXSksIF90b2tlbklkc1tpXSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBkZXN0cm95SXRlbSh1aW50MjU2IF90b2tlbklkKSBvbmx5QXV0aG9yaXplZCBleHRlcm5hbCB7CiAgICBfYnVybkZvcihvd25lck9mKF90b2tlbklkKSwgX3Rva2VuSWQpOwogIH0KCiAgZnVuY3Rpb24gZGVzdHJveU11bHRpcGxlSXRlbXModWludDI1NltdIF90b2tlbklkcykgb25seUF1dGhvcml6ZWQgZXh0ZXJuYWwgewogICAgZm9yICh1aW50IGkgPSAwOyBpIDwgX3Rva2VuSWRzLmxlbmd0aDsgKytpKSB7CiAgICAgIF9idXJuRm9yKG93bmVyT2YoX3Rva2VuSWRzW2ldKSwgX3Rva2VuSWRzW2ldKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHVwZGF0ZUl0ZW1UcmFpdHModWludDI1NiBfdG9rZW5JZCwgdWludDI1NiBfdHJhaXRzKSBvbmx5QXV0aG9yaXplZCBleHRlcm5hbCB7CiAgICBfdXBkYXRlVG9rZW4oX3Rva2VuSWQsIF90cmFpdHMpOwogIH0KfQoKCmNvbnRyYWN0IExvb3Rib3hJbnRlcmZhY2UgewogIGV2ZW50IExvb3Rib3hQdXJjaGFzZWQoYWRkcmVzcyBpbmRleGVkIG93bmVyLCB1aW50MTYgZGlzcGxheVZhbHVlKTsKICAKICBmdW5jdGlvbiBidXkoYWRkcmVzcyBfYnV5ZXIpIGV4dGVybmFsOwp9'.
	

]
