Class {
	#name : #SRT8aaefb9d925b3a39595c26290a9d115f9c46dfab,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT8aaefb9d925b3a39595c26290a9d115f9c46dfab >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7Cgpjb250cmFjdCBFUkMyMCB7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdmFsdWUpIHJldHVybnMgKGJvb2wgb2spOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwp9CgovL1NhZmUgbWF0aApjb250cmFjdCBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gc2FmZU11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzYWZlRGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICBhc3NlcnQoYiA+IDApOwogICAgdWludCBjID0gYSAvIGI7CiAgICBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc2FmZVN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICsgYjsKICAgIGFzc2VydChjPj1hICYmIGM+PWIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCn0KCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIFNhZmVNYXRoIHsKCiAgLyogVG9rZW4gc3VwcGx5IGdvdCBpbmNyZWFzZWQgYW5kIGEgbmV3IG93bmVyIHJlY2VpdmVkIHRoZXNlIHRva2VucyAqLwogIGV2ZW50IE1pbnRlZChhZGRyZXNzIHJlY2VpdmVyLCB1aW50IGFtb3VudCk7CgogIC8qIEFjdHVhbCBiYWxhbmNlcyBvZiB0b2tlbiBob2xkZXJzICovCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwoKICAvKiBhcHByb3ZlKCkgYWxsb3dhbmNlcyAqLwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKCiAgLyogSW50ZXJmYWNlIGRlY2xhcmF0aW9uICovCiAgZnVuY3Rpb24gaXNUb2tlbigpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sIFllcykgewogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzYWZlU3ViKGJhbGFuY2VzW21zZy5zZW5kZXJdLCBfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZXNbX3RvXSwgX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICB1aW50IF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLCBfdmFsdWUpOwogICAgYmFsYW5jZXNbX2Zyb21dID0gc2FmZVN1YihiYWxhbmNlc1tfZnJvbV0sIF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IHNhZmVTdWIoX2FsbG93YW5jZSwgX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9hZGRyZXNzKSBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfYWRkcmVzc107CiAgfQoKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCiAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICByZXF1aXJlKChfdmFsdWUgPT0gMCkgfHwgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKCiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9CgovLyBtaXRpZ2F0ZSBzaG9ydCBhZGRyZXNzIGF0dGFjawptb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludCBudW1Xb3JkcykgewogICAgYXNzZXJ0KG1zZy5kYXRhLmxlbmd0aCA9PSBudW1Xb3JkcyAqIDMyICsgNCk7CiAgICBfOwp9Cgp9Cgpjb250cmFjdCBDQlRva2VuIGlzIFN0YW5kYXJkVG9rZW4gewoKICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJDcnlwdG9CYXphciBUb2tlbiI7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJDQlQiOwogICAgdWludDggcHVibGljIGRlY2ltYWxzID0gNDsKICAgIHVpbnQgcHVibGljIHRvdGFsU3VwcGx5ID0gMTAwMDAwMDAwMCAqICgxMCAqKiB1aW50KGRlY2ltYWxzKSk7Ly9Ub3RhbCBzdXBwbHkKICAgIHVpbnQgcHVibGljIHNlbGxQcmljZSA9IDEwMDAwMDAwMDAwMDAwMDAgd2VpOy8vVG9rZW5zIGFyZSBzb2xkIGZvciB0aGlzIHByaWNlCiAgICAKICAgIC8vVXBncmFkYWJsZSBjb250cmFjdAogICAgYWRkcmVzcyBwdWJsaWMgZGVsZWdhdGVDb250cmFjdDsKICAgIGJvb2wgcHVibGljIGNvbnRyYWN0VXBncmFkYWJsZSA9IGZhbHNlOwogICAgYWRkcmVzc1tdIHB1YmxpYyBwcmV2aW91c0RlbGVnYXRlczsKICAgIAogICAgLy9BZGRyZXNzZXMgdGhhdCBhcmUgYWxsb3dlZCB0byB0cmFuc2ZlciB0b2tlbnMKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGFsbG93ZWRUcmFuc2ZlcjsKCQogICAgLy9Cb251c2VzIGZvciBzZWxlY3RlZCBhZGRyZXNzZXMKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgcHVibGljIHNwZWNpYWxCb251czsKICAgIAoJLy9UZWNobmljYWwgdmFyaWFibGVzIHRvIHN0b3JlIHN0YXRlcwoJYm9vbCBwdWJsaWMgVHJhbnNmZXJBbGxvd2VkID0gdHJ1ZTsvL1Rva2VuIHRyYW5zZmVycyBhcmUgYmxvY2tlZAogICAgYm9vbCBwdWJsaWMgU2FsZVBhdXNlZCA9IGZhbHNlOyAvL1doZXRoZXIgdGhlIHNhbGUgaXMgbm93IHN1c3BlbmRlZCAodHJ1ZSBvciBmYWxzZSkKICAgIHVpbnQgcHVibGljIGN1cnJlbnRCb251cyA9IDA7Ly9DdXJyZW50IGJvbnVzIHRvIHRva2VucyBwdXJjaGFzZXMKCQogICAgLy9UZWNobmljYWwgdmFyaWFibGVzIHRvIHN0b3JlIHN0YXRpc3RpY2FsIGRhdGEKCXVpbnQgcHVibGljIFN0YXRzRXRoZXJldW1SYWlzZWQgPSAwIHdlaTsvL1RvdGFsIEV0aGVyZXVtIHJhaXNlZAoJdWludCBwdWJsaWMgU3RhdHNTb2xkID0gMDsvL1NvbGQgdG9rZW5zIGFtb3VudAoJdWludCBwdWJsaWMgU3RhdHNNaW50ZWQgPSAwOy8vTWludGVkIHRva2VucyBhbW91bnQKCXVpbnQgcHVibGljIFN0YXRzVG90YWwgPSAwOy8vT3ZlcmFsbCB0b2tlbnMgYW1vdW50CgogICAgLy9FdmVudCBsb2dzCiAgICBldmVudCBCdXkoYWRkcmVzcyBpbmRleGVkIHNlbmRlciwgdWludCBldGgsIHVpbnQgdG9rZW5zLCB1aW50IGJvbnVzKTsvL1Rva2VucyBwdXJjaGFzZWQKICAgIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIGZyb20sIHVpbnQgdG9rZW5zKTsvLyBUaGlzIG5vdGlmaWVzIGNsaWVudHMgYWJvdXQgdGhlIGFtb3VudCBtaW50ZWQKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGZyb20sIHVpbnQgdG9rZW5zKTsvLyBUaGlzIG5vdGlmaWVzIGNsaWVudHMgYWJvdXQgdGhlIGFtb3VudCBidXJudAogICAgZXZlbnQgUHJpY2VDaGFuZ2VkKHN0cmluZyBfdGV4dCwgdWludCBfdG9rZW5QcmljZSk7Ly9NYW51YWwgdG9rZW4gcHJpY2UKICAgIGV2ZW50IEJvbnVzQ2hhbmdlZChzdHJpbmcgX3RleHQsIHVpbnQgX3BlcmNlbnQpOy8vU2FsZSBib251cyBwZXJjZW50IGZvciBlYWNoIHB1cmNoYXNlCiAgICBldmVudCBEZWxlZ2F0ZUNoYW5nZWQoYWRkcmVzcyBvbGRBZGRyZXNzLCBhZGRyZXNzIG5ld0FkZHJlc3MpOy8vRGVsZWdhdGVjYWxsIGNvbnRyYWN0IGFkZHJlc3MgY2hhbmdlZAogICAgCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lciA9IDB4MDsvL0FkbWluIGFjdGlvbnMKICAgIGFkZHJlc3MgcHVibGljIG1pbnRlciA9IDB4MDsvL01pbnRlciB0b2tlbnMKICAgIGFkZHJlc3MgcHVibGljIHdhbGxldCA9IDB4MDsvL1dhbGxldCB0byByZWNlaXZlIEVUSAogCmZ1bmN0aW9uIENCVG9rZW4oYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX21pbnRlciwgYWRkcmVzcyBfd2FsbGV0KSBwYXlhYmxlIHsKICAgIAogICAgICBvd25lciA9IF9vd25lcjsKICAgICAgbWludGVyID0gX21pbnRlcjsKICAgICAgd2FsbGV0ID0gX3dhbGxldDsKICAgIAogICAgICBiYWxhbmNlc1tvd25lcl0gPSAwOwogICAgICBiYWxhbmNlc1ttaW50ZXJdID0gMDsKICAgICAgYmFsYW5jZXNbd2FsbGV0XSA9IDA7CiAgICAgICAgCiAgICAgIGFsbG93ZWRUcmFuc2Zlcltvd25lcl0gPSB0cnVlOwogICAgICBhbGxvd2VkVHJhbnNmZXJbbWludGVyXSA9IHRydWU7CiAgICAgIGFsbG93ZWRUcmFuc2Zlclt3YWxsZXRdID0gdHJ1ZTsKICAgIH0KICAgIAogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KICAgIAogICAgbW9kaWZpZXIgb25seU1pbnRlcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gbWludGVyKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vVHJhbnNhY3Rpb24gcmVjZWl2ZWQgLSBydW4gdGhlIHB1cmNoYXNlIGZ1bmN0aW9uCiAgICBmdW5jdGlvbigpIHBheWFibGUgewogICAgICAgIGJ1eSgpOwogICAgfQogICAgCiAgICAvL1NlZSB0aGUgY3VycmVudCB0b2tlbiBwcmljZSBpbiB3ZWkgKGh0dHBzOi8vZXRoZXJjb252ZXJ0ZXIub25saW5lIHRvIGNvbnZlcnQgdG8gb3RoZXIgdW5pdHMsIHN1Y2ggYXMgRVRIKQogICAgZnVuY3Rpb24gcHJpY2UoKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIHNlbGxQcmljZTsKICAgIH0KCiAgICAvL0VuYWJsZSBvciBkaXNhYmxlIGNvbnRyYWN0IHVwZ3JhZGFiaWxpdHkKICAgIGZ1bmN0aW9uIGNoYW5nZUNvbnRyYWN0VXBncmFkYWJpbGl0eShib29sIF9jb250cmFjdFVwZ3JhZGFibGUpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgY29udHJhY3RVcGdyYWRhYmxlID0gX2NvbnRyYWN0VXBncmFkYWJsZTsKICAgIH0KCiAgICAvL0NoYW5nZSBkZWxlZ2F0ZWNhbGwgdXBncmFkYWJsZSBjb250cmFjdCBhZGRyZXNzCiAgICBmdW5jdGlvbiBjaGFuZ2VEZWxlZ2F0ZShhZGRyZXNzIF9uZXdEZWxlZ2F0ZSkgZXh0ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lciB8fCBtc2cuc2VuZGVyID09IG1pbnRlcik7CgogICAgICAgIGlmIChfbmV3RGVsZWdhdGUgIT0gZGVsZWdhdGVDb250cmFjdCkgewogICAgICAgICAgICBwcmV2aW91c0RlbGVnYXRlcy5wdXNoKGRlbGVnYXRlQ29udHJhY3QpOwogICAgICAgICAgICB2YXIgb2xkRGVsZWdhdGUgPSBkZWxlZ2F0ZUNvbnRyYWN0OwogICAgICAgICAgICBkZWxlZ2F0ZUNvbnRyYWN0ID0gX25ld0RlbGVnYXRlOwogICAgICAgICAgICBEZWxlZ2F0ZUNoYW5nZWQob2xkRGVsZWdhdGUsIF9uZXdEZWxlZ2F0ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vRGVsZWdhdGVjYWxsIGZ1bmN0aW9ucyBmb3J3YXJkZWQgdG8gdXBncmFkYWJsZSBjb250cmFjdAogICAgZnVuY3Rpb24gZnVuY3Rpb25PbmUodWludDI1NiBfdmFsdWVPbmUsIHVpbnQyNTYgX3ZhbHVlVHdvLCB1aW50MjU2IF92YWx1ZVRocmVlLCB1aW50MjU2IF92YWx1ZUZvdXIpIG9ubHlQYXlsb2FkU2l6ZSg0KSByZXR1cm5zIChib29sIG9rKSB7CiAgICAgICAgcmVxdWlyZShjb250cmFjdFVwZ3JhZGFibGUpOy8vVXBncmFkYWJpbGl0eSBzaG91bGQgYmUgZW5hYmxlZAogICAgICAgIHJldHVybiBkZWxlZ2F0ZUNvbnRyYWN0LmRlbGVnYXRlY2FsbChieXRlczQoc2hhMygiZnVuY3Rpb25PbmUodWludDI1Nix1aW50MjU2LHVpbnQyNTYsdWludDI1NikiKSksIF92YWx1ZU9uZSwgX3ZhbHVlVHdvLCBfdmFsdWVUaHJlZSwgX3ZhbHVlRm91cik7CiAgICB9CgogICAgZnVuY3Rpb24gZnVuY3Rpb25Ud28odWludDI1NiBfdmFsdWVPbmUsIHVpbnQyNTYgX3ZhbHVlVHdvLCB1aW50MjU2IF92YWx1ZVRocmVlLCB1aW50MjU2IF92YWx1ZUZvdXIpIG9ubHlQYXlsb2FkU2l6ZSg0KSByZXR1cm5zIChib29sIG9rKSB7CiAgICAgICAgcmVxdWlyZShjb250cmFjdFVwZ3JhZGFibGUpOy8vVXBncmFkYWJpbGl0eSBzaG91bGQgYmUgZW5hYmxlZAogICAgICAgIHJldHVybiBkZWxlZ2F0ZUNvbnRyYWN0LmRlbGVnYXRlY2FsbChieXRlczQoc2hhMygiZnVuY3Rpb25Ud28odWludDI1Nix1aW50MjU2LHVpbnQyNTYsdWludDI1NikiKSksIF92YWx1ZU9uZSwgX3ZhbHVlVHdvLCBfdmFsdWVUaHJlZSwgX3ZhbHVlRm91cik7CiAgICB9CgogICAgZnVuY3Rpb24gZnVuY3Rpb25UaHJlZSh1aW50MjU2IF92YWx1ZU9uZSwgdWludDI1NiBfdmFsdWVUd28sIHVpbnQyNTYgX3ZhbHVlVGhyZWUsIHVpbnQyNTYgX3ZhbHVlRm91cikgb25seVBheWxvYWRTaXplKDQpIHJldHVybnMgKGJvb2wgb2spIHsKICAgICAgICByZXF1aXJlKGNvbnRyYWN0VXBncmFkYWJsZSk7Ly9VcGdyYWRhYmlsaXR5IHNob3VsZCBiZSBlbmFibGVkCiAgICAgICAgcmV0dXJuIGRlbGVnYXRlQ29udHJhY3QuZGVsZWdhdGVjYWxsKGJ5dGVzNChzaGEzKCJmdW5jdGlvblRocmVlKHVpbnQyNTYsdWludDI1Nix1aW50MjU2LHVpbnQyNTYpIikpLCBfdmFsdWVPbmUsIF92YWx1ZVR3bywgX3ZhbHVlVGhyZWUsIF92YWx1ZUZvdXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIGZ1bmN0aW9uRm91cih1aW50MjU2IF92YWx1ZU9uZSwgdWludDI1NiBfdmFsdWVUd28sIHVpbnQyNTYgX3ZhbHVlVGhyZWUsIHVpbnQyNTYgX3ZhbHVlRm91cikgb25seVBheWxvYWRTaXplKDQpIHJldHVybnMgKGJvb2wgb2spIHsKICAgICAgICByZXF1aXJlKGNvbnRyYWN0VXBncmFkYWJsZSk7Ly9VcGdyYWRhYmlsaXR5IHNob3VsZCBiZSBlbmFibGVkCiAgICAgICAgcmV0dXJuIGRlbGVnYXRlQ29udHJhY3QuZGVsZWdhdGVjYWxsKGJ5dGVzNChzaGEzKCJmdW5jdGlvbkZvdXIodWludDI1Nix1aW50MjU2LHVpbnQyNTYsdWludDI1NikiKSksIF92YWx1ZU9uZSwgX3ZhbHVlVHdvLCBfdmFsdWVUaHJlZSwgX3ZhbHVlRm91cik7CiAgICB9CgogICAgZnVuY3Rpb24gZnVuY3Rpb25GaXZlKHVpbnQyNTYgX3ZhbHVlT25lLCB1aW50MjU2IF92YWx1ZVR3bywgdWludDI1NiBfdmFsdWVUaHJlZSwgdWludDI1NiBfdmFsdWVGb3VyKSBvbmx5UGF5bG9hZFNpemUoNCkgcmV0dXJucyAoYm9vbCBvaykgewogICAgICAgIHJlcXVpcmUoIVNhbGVQYXVzZWQpOy8vRnVuY3Rpb24gY2FsbCBwZXJtaXR0ZWQgaWYgc2FsZSBpcyBwYXVzZWQKICAgICAgICByZXR1cm4gZGVsZWdhdGVDb250cmFjdC5kZWxlZ2F0ZWNhbGwoYnl0ZXM0KHNoYTMoImZ1bmN0aW9uRml2ZSh1aW50MjU2LHVpbnQyNTYsdWludDI1Nix1aW50MjU2KSIpKSwgX3ZhbHVlT25lLCBfdmFsdWVUd28sIF92YWx1ZVRocmVlLCBfdmFsdWVGb3VyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBmdW5jdGlvblNpeCh1aW50MjU2IF92YWx1ZU9uZSwgdWludDI1NiBfdmFsdWVUd28sIHVpbnQyNTYgX3ZhbHVlVGhyZWUsIHVpbnQyNTYgX3ZhbHVlRm91cikgb25seVBheWxvYWRTaXplKDQpIHJldHVybnMgKGJvb2wgb2spIHsKICAgICAgICByZXF1aXJlKCFTYWxlUGF1c2VkKTsvL0Z1bmN0aW9uIGNhbGwgcGVybWl0dGVkIGlmIHNhbGUgaXMgcGF1c2VkCiAgICAgICAgcmV0dXJuIGRlbGVnYXRlQ29udHJhY3QuZGVsZWdhdGVjYWxsKGJ5dGVzNChzaGEzKCJmdW5jdGlvblNpeCh1aW50MjU2LHVpbnQyNTYsdWludDI1Nix1aW50MjU2KSIpKSwgX3ZhbHVlT25lLCBfdmFsdWVUd28sIF92YWx1ZVRocmVlLCBfdmFsdWVGb3VyKTsKICAgIH0KCiAgICAvL01hbnVhbGx5IHNldCB0aGUgdG9rZW4gcHJpY2UgKGluIHdlaSAtIGh0dHBzOi8vZXRoZXJjb252ZXJ0ZXIub25saW5lKQogICAgZnVuY3Rpb24gc2V0VG9rZW5QcmljZSh1aW50IF90b2tlblByaWNlKSBleHRlcm5hbCB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyIHx8IG1zZy5zZW5kZXIgPT0gbWludGVyKTsKICAgICAgICBzZWxsUHJpY2UgPSBfdG9rZW5QcmljZTsKICAgICAgICBQcmljZUNoYW5nZWQoIk5ldyBwcmljZSBpcyAiLCBfdG9rZW5QcmljZSk7CiAgICB9CiAgICAKICAgIC8vU2V0IHRoZSBib251cyBwZXJjZW50IGZvciBlYWNoIHB1cmNoYXNlCiAgICBmdW5jdGlvbiBzZXRCb251cyh1aW50IF9wZXJjZW50KSBleHRlcm5hbCB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyIHx8IG1zZy5zZW5kZXIgPT0gbWludGVyKTsKICAgICAgICByZXF1aXJlKF9wZXJjZW50ID49MCk7CiAgICAgICAgY3VycmVudEJvbnVzID0gc2FmZUFkZCgxMDAsX3BlcmNlbnQpOwogICAgICAgIEJvbnVzQ2hhbmdlZCgiTmV3IGJvbnVzIGlzICIsIF9wZXJjZW50KTsKICAgIH0KICAgIAogICAgLy9TZXQgdGhlIGJvbnVzIHBlcmNlbnQgZm9yIHNlbGVjdGVkIGFkZHJlc3MKICAgIGZ1bmN0aW9uIHNldFNwZWNpYWxCb251cyhhZGRyZXNzIF90YXJnZXQsIHVpbnQgX3BlcmNlbnQpIGV4dGVybmFsIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgbXNnLnNlbmRlciA9PSBtaW50ZXIpOwogICAgICAgIHJlcXVpcmUoX3BlcmNlbnQgPj0wKTsKICAgICAgICBzcGVjaWFsQm9udXNbX3RhcmdldF0gPSBzYWZlQWRkKDEwMCxfcGVyY2VudCk7CiAgICB9CiAgICAgCiAgICAvL0FsbG93IG9yIHByb2hpYml0IHRva2VuIHRyYW5zZmVycwogICAgZnVuY3Rpb24gc2V0VHJhbnNmZXJBbGxvd2FuY2UoYm9vbCBfYWxsb3dhbmNlKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIFRyYW5zZmVyQWxsb3dlZCA9IF9hbGxvd2FuY2U7CiAgICB9CiAgICAKICAgIC8vVGVtcG9yYXJpbHkgc3VzcGVuZCB0b2tlbiBzYWxlCiAgICBmdW5jdGlvbiBldmVudFBhdXNlKGJvb2wgX3BhdXNlKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgICAgIFNhbGVQYXVzZWQgPSBfcGF1c2U7CiAgICB9CiAgICAKICAgIC8vIFNlbmQgYF9hbW91bnRgIG9mIHRva2VucyB0byBgX3RhcmdldGAKICAgIGZ1bmN0aW9uIG1pbnRUb2tlbnMoYWRkcmVzcyBfdGFyZ2V0LCB1aW50IF9hbW91bnQpIGV4dGVybmFsIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgbXNnLnNlbmRlciA9PSBtaW50ZXIpOwogICAgICAgIHJlcXVpcmUoX2Ftb3VudCA+IDApOy8vTnVtYmVyIG9mIHRva2VucyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwCiAgICAgICAgdWludCBhbW91bnQ9X2Ftb3VudCAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSk7CiAgICAgICAgcmVxdWlyZShzYWZlQWRkKFN0YXRzVG90YWwsIGFtb3VudCkgPD0gdG90YWxTdXBwbHkpOy8vVGhlIGFtb3VudCBvZiB0b2tlbnMgY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiBUb3RhbCBzdXBwbHkKICAgICAgICBiYWxhbmNlc1tfdGFyZ2V0XSA9IHNhZmVBZGQoYmFsYW5jZXNbX3RhcmdldF0sIGFtb3VudCk7CiAgICAgICAgU3RhdHNNaW50ZWQgPSBzYWZlQWRkKFN0YXRzTWludGVkLCBhbW91bnQpOy8vVXBkYXRlIG51bWJlciBvZiB0b2tlbnMgbWludGVkCiAgICAgICAgU3RhdHNUb3RhbCA9IHNhZmVBZGQoU3RhdHNUb3RhbCwgYW1vdW50KTsvL1VwZGF0ZSB0b3RhbCBudW1iZXIgb2YgdG9rZW5zCiAgICAgICAgVHJhbnNmZXIoMCwgdGhpcywgYW1vdW50KTsKICAgICAgICBUcmFuc2Zlcih0aGlzLCBfdGFyZ2V0LCBhbW91bnQpOwogICAgICAgIE1pbnQoX3RhcmdldCwgYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgLy8gRGVjcmVhc2UgdXNlciBiYWxhbmNlCiAgICBmdW5jdGlvbiBkZWNyZWFzZVRva2VucyhhZGRyZXNzIF90YXJnZXQsIHVpbnQgX2Ftb3VudCkgZXh0ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lciB8fCBtc2cuc2VuZGVyID09IG1pbnRlcik7CiAgICAgICAgcmVxdWlyZShfYW1vdW50ID4gMCk7Ly9OdW1iZXIgb2YgdG9rZW5zIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAKICAgICAgICB1aW50IGFtb3VudD1fYW1vdW50ICogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKTsKICAgICAgICBiYWxhbmNlc1tfdGFyZ2V0XSA9IHNhZmVTdWIoYmFsYW5jZXNbX3RhcmdldF0sIGFtb3VudCk7CiAgICAgICAgU3RhdHNNaW50ZWQgPSBzYWZlU3ViKFN0YXRzTWludGVkLCBhbW91bnQpOy8vVXBkYXRlIG51bWJlciBvZiB0b2tlbnMgbWludGVkCiAgICAgICAgU3RhdHNUb3RhbCA9IHNhZmVTdWIoU3RhdHNUb3RhbCwgYW1vdW50KTsvL1VwZGF0ZSB0b3RhbCBudW1iZXIgb2YgdG9rZW5zCiAgICAgICAgVHJhbnNmZXIoX3RhcmdldCwgMCwgYW1vdW50KTsKICAgICAgICBCdXJuKF90YXJnZXQsIGFtb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIC8vIEFsbG93IGBfdGFyZ2V0YCBtYWtlIHRva2VuIHRyYW5mZXJzCiAgICBmdW5jdGlvbiBhbGxvd1RyYW5zZmVyKGFkZHJlc3MgX3RhcmdldCwgYm9vbCBfYWxsb3cpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgYWxsb3dlZFRyYW5zZmVyW190YXJnZXRdID0gX2FsbG93OwogICAgfQoKICAgIC8vVGhlIGZ1bmN0aW9uIG9mIGJ1eWluZyB0b2tlbnMgb24gc2FsZQogICAgZnVuY3Rpb24gYnV5KCkgcHVibGljIHBheWFibGUgcmV0dXJucyhib29sKSB7CgogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSBvd25lcik7Ly9UaGUgZm91bmRlciBjYW5ub3QgYnV5IHRva2VucwogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSBtaW50ZXIpOy8vVGhlIG1pbnRlciBjYW5ub3QgYnV5IHRva2VucwogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSB3YWxsZXQpOy8vVGhlIHdhbGxldCBhZGRyZXNzIGNhbm5vdCBidXkgdG9rZW5zCiAgICAgICAgcmVxdWlyZSghU2FsZVBhdXNlZCk7Ly9QdXJjaGFzZSBwZXJtaXR0ZWQgaWYgc2FsZSBpcyBwYXVzZWQKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBwcmljZSgpKTsvL1RoZSBhbW91bnQgcmVjZWl2ZWQgaW4gd2VpIG11c3QgYmUgZ3JlYXRlciB0aGFuIHRoZSBjb3N0IG9mIDEgdG9rZW4KCiAgICAgICAgdWludCB0b2tlbnMgPSBtc2cudmFsdWUvcHJpY2UoKTsvL051bWJlciBvZiB0b2tlbnMgdG8gYmUgcmVjZWl2ZWQgYnkgdGhlIGJ1eWVyCiAgICAgICAgcmVxdWlyZSh0b2tlbnMgPiAwKTsvL051bWJlciBvZiB0b2tlbnMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMAogICAgICAgIAogICAgICAgIC8vQWRkIGJvbnVzIHRva2VucwogICAgICAgIGlmKGN1cnJlbnRCb251cyA+IDApewogICAgICAgIHVpbnQgYm9udXMgPSBzYWZlTXVsKHRva2VucywgY3VycmVudEJvbnVzKTsKICAgICAgICBib251cyA9IHNhZmVEaXYoYm9udXMsIDEwMCk7CiAgICAgICAgdG9rZW5zID0gc2FmZUFkZChib251cywgdG9rZW5zKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy9BZGQgYm9udXMgdG9rZW5zIGlmIHRoaXMgYnV5ZXIgaGF2ZSBzcGVjaWFsIGJvbnVzCiAgICAgICAgaWYoc3BlY2lhbEJvbnVzW21zZy5zZW5kZXJdID4gMCl7CiAgICAgICAgdWludCBhZGRyZXNzQm9udXMgPSBzYWZlTXVsKHRva2Vucywgc3BlY2lhbEJvbnVzW21zZy5zZW5kZXJdKTsKICAgICAgICBhZGRyZXNzQm9udXMgPSBzYWZlRGl2KGFkZHJlc3NCb251cywgMTAwKTsKICAgICAgICB0b2tlbnMgPSBzYWZlQWRkKGFkZHJlc3NCb251cywgdG9rZW5zKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgdWludCB0b2tlbnNUb0FkZD10b2tlbnMgKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpOwogICAgICAgIAogICAgICAgIHJlcXVpcmUoc2FmZUFkZChTdGF0c1NvbGQsIHRva2Vuc1RvQWRkKSA8PSB0b3RhbFN1cHBseSk7Ly9UaGUgYW1vdW50IG9mIHNvbGQgdG9rZW5zIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gdG90YWwgc3VwcGx5CiAgICAgICAgCiAgICAgICAgd2FsbGV0LnRyYW5zZmVyKG1zZy52YWx1ZSk7Ly9TZW5kIHJlY2VpdmVkIEVUSCB0byB0aGUgZnVuZHJhaXNpbmcgcHVyc2UKICAgICAgICAKICAgICAgICAvL0NyZWRpdGluZyBvZiB0b2tlbnMgdG8gdGhlIGJ1eWVyCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzYWZlQWRkKGJhbGFuY2VzW21zZy5zZW5kZXJdLCB0b2tlbnNUb0FkZCk7CiAgICAgICAgU3RhdHNTb2xkID0gc2FmZUFkZChTdGF0c1NvbGQsIHRva2Vuc1RvQWRkKTsvL1VwZGF0ZSBudW1iZXIgb2YgdG9rZW5zIHNvbGQKICAgICAgICBTdGF0c1RvdGFsID0gc2FmZUFkZChTdGF0c1RvdGFsLCB0b2tlbnNUb0FkZCk7Ly9VcGRhdGUgdG90YWwgbnVtYmVyIG9mIHRva2VucwogICAgICAgIFRyYW5zZmVyKDAsIHRoaXMsIHRva2Vuc1RvQWRkKTsKICAgICAgICBUcmFuc2Zlcih0aGlzLCBtc2cuc2VuZGVyLCB0b2tlbnNUb0FkZCk7CiAgICAgICAgCiAgICAgICAgU3RhdHNFdGhlcmV1bVJhaXNlZCA9IHNhZmVBZGQoU3RhdHNFdGhlcmV1bVJhaXNlZCwgbXNnLnZhbHVlKTsvL1VwZGF0ZSB0b3RhbCBFVEggY29sbGVjdGVkCiAgICAgICAgCiAgICAgICAgLy9SZWNvcmQgZXZlbnQgbG9ncyB0byB0aGUgYmxvY2tjaGFpbgogICAgICAgIEJ1eShtc2cuc2VuZGVyLCBtc2cudmFsdWUsIHRva2Vuc1RvQWRkLCBjdXJyZW50Qm9udXMpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAKICAgICAgICAvL0ZvcmJpZCB0b2tlbiB0cmFuc2ZlcnMKICAgICAgICBpZighVHJhbnNmZXJBbGxvd2VkKXsKICAgICAgICAgICAgcmVxdWlyZShhbGxvd2VkVHJhbnNmZXJbbXNnLnNlbmRlcl0pOwogICAgICAgIH0KICAgICAgICAKICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgCiAgICAgICAgLy9Gb3JiaWQgdG9rZW4gdHJhbnNmZXJzCiAgICAgICAgaWYoIVRyYW5zZmVyQWxsb3dlZCl7CiAgICAgICAgICAgIHJlcXVpcmUoYWxsb3dlZFRyYW5zZmVyW21zZy5zZW5kZXJdKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIC8vQ2hhbmdlIG93bmVyCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIF90bykgZXh0ZXJuYWwgb25seU93bmVyKCkgewogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tvd25lcl07CiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gMDsKICAgICAgICBvd25lciA9IF90bzsKICAgIH0KCiAgICAvL0NoYW5nZSBtaW50ZXIKICAgIGZ1bmN0aW9uIGNoYW5nZU1pbnRlcihhZGRyZXNzIF90bykgZXh0ZXJuYWwgb25seU93bmVyKCkgewogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1ttaW50ZXJdOwogICAgICAgIGJhbGFuY2VzW21pbnRlcl0gPSAwOwogICAgICAgIG1pbnRlciA9IF90bzsKICAgIH0KCiAgICAvL0NoYW5nZSB3YWxsZXQKICAgIGZ1bmN0aW9uIGNoYW5nZVdhbGxldChhZGRyZXNzIF90bykgZXh0ZXJuYWwgb25seU93bmVyKCkgewogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1t3YWxsZXRdOwogICAgICAgIGJhbGFuY2VzW3dhbGxldF0gPSAwOwogICAgICAgIHdhbGxldCA9IF90bzsKICAgIH0KfQ=='.
	

]
