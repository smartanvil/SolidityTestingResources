Class {
	#name : #SRT8b7d07b6ffB9364e97B89cEA8b84F94249bE459F,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT8b7d07b6ffB9364e97B89cEA8b84F94249bE459F >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyBGVVRSLCBidXQgdGltZSBpcyBzaG9ydGVyIGFuZCBsZXNzIGV0aGVyIC8gdG9rZW5zLgoKY29udHJhY3QgRlVUWCB7CgogICAgdWludDI1NiBjb25zdGFudCBNQVhfVUlOVDI1NiA9IDIqKjI1NiAtIDE7CiAgICAKICAgIHVpbnQyNTYgTUFYX1NVQk1JVFRFRCA9IDUwMDA2NzE1NzYxOTQ1NTAwMDAwMDA7CgogICAgLy8gKG5vIHByZW1pbmUpCiAgICB1aW50MjU2IF90b3RhbFN1cHBseSA9IDA7CiAgICAKICAgIC8vIFRoZSBmb2xsb3dpbmcgMiB2YXJpYWJsZXMgYXJlIGVzc2VudGlhbGx5IGEgbG9va3VwIHRhYmxlLgogICAgLy8gVGhleSBhcmUgbm90IGNvbnN0YW50IGJlY2F1c2UgdGhleSBhcmUgbWVtb3J5LgogICAgLy8gSSBjYW1lIHVwIHdpdGggdGhpcyBiZWNhdXNlIGNhbGN1bGF0aW5nIGl0IHdhcyBleHBlbnNpdmUsCiAgICAvLyBlc3BlY2lhbGx5IHNvIHdoZW4gY3Jvc3NpbmcgdGllcnMuCiAgICAKICAgIC8vIFN1bSBvZiBlYWNoIHRpZXIgYnkgZXRoZXIgc3VibWl0dGVkLgogICB1aW50MjU2W10gbGV2ZWxzID0gWyAKICAgICAgODc3MTkyOTgyNDU2MTQwMDAwMDAsCiAgICAgMTk4OTU1MjUzMzAxNzk0MDAwMDAwLAogICAgIDM3MzUwMDcwNzg0NzI0ODAwMDAwMCwKICAgICA2NDExNDc3NjY2NzA3NzgwMDAwMDAsCiAgICAgOTg0MDA0OTA5NTI3OTIxMDAwMDAwLAogICAgMTQ4NDAwNDkwOTUyNzkyMDAwMDAwMCwKICAgIDIxODQwMDQ5MDk1Mjc5MjAwMDAwMDAsCiAgICAzMDg0MDA0OTA5NTI3OTIwMDAwMDAwLAogICAgNDE1MDY3MTU3NjE5NDU5MDAwMDAwMCwKICAgIDUwMDA2NzE1NzYxOTQ1NTAwMDAwMDAKICAgIF07CiAgICAKICAgIC8vIFRva2VuIGFtb3VudHMgZm9yIGVhY2ggdGllci4KICAgIHVpbnQyNTZbXSByYXRpb3MgPSBbCiAgICAgIDExNCwKICAgICAgODksCiAgICAgIDU1LAogICAgICAzNCwKICAgICAgMjEsCiAgICAgIDEzLAogICAgICAgOCwKICAgICAgIDUsCiAgICAgICAzLAogICAgICAgMiBdOwogICAgIAogICAgLy8gdG90YWwgZXRoZXIgc3VibWl0dGVkIGJlZm9yZSBmZWVzLgogICAgdWludDI1NiBfc3VibWl0dGVkID0gMDsKICAgIAogICAgdWludDI1NiBwdWJsaWMgdGllciA9IDA7CiAgICAKICAgIC8vIEVSQzIwIGV2ZW50cy4KICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludCBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50IF92YWx1ZSk7CiAgICAKICAgIC8vIEZVVFIgZXZlbnRzLgogICAgZXZlbnQgTWluZWQoYWRkcmVzcyBpbmRleGVkIF9taW5lciwgdWludCBfdmFsdWUpOwogICAgZXZlbnQgV2FpdFN0YXJ0ZWQodWludDI1NiBlbmRUaW1lKTsKICAgIGV2ZW50IFN3YXBTdGFydGVkKHVpbnQyNTYgZW5kVGltZSk7CiAgICBldmVudCBNaW5pbmdTdGFydCh1aW50MjU2IGVuZF90aW1lLCB1aW50MjU2IHN3YXBfdGltZSwgdWludDI1NiBzd2FwX2VuZF90aW1lKTsKICAgIGV2ZW50IE1pbmluZ0V4dGVuZGVkKHVpbnQyNTYgZW5kX3RpbWUsIHVpbnQyNTYgc3dhcF90aW1lLCB1aW50MjU2IHN3YXBfZW5kX3RpbWUpOwoKIAogICAgLy8gT3B0aW9uYWwgRVJDMjAgdmFsdWVzLgogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIkZ1dGVyZXVtIFgiOwogICAgdWludDggcHVibGljIGRlY2ltYWxzID0gMTg7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJGVVRYIjsKICAgIAogICAgLy8gUHVibGljIHZhcmlhYmxlcyBzbyB0aGUgY3VyaW91cyBjYW4gY2hlY2sgdGhlIHN0YXRlLgogICAgYm9vbCBwdWJsaWMgc3dhcCA9IGZhbHNlOwogICAgYm9vbCBwdWJsaWMgd2FpdCA9IGZhbHNlOwogICAgYm9vbCBwdWJsaWMgZXh0ZW5kZWQgPSBmYWxzZTsKICAgIAogICAgLy8gUHVibGljIGVuZCB0aW1lIGZvciB0aGUgY3VycmVudCBzdGF0ZS4KICAgIHVpbnQyNTYgcHVibGljIGVuZFRpbWU7CiAgICAKICAgIC8vIFRoZXNlIGFyZSBjYWxjdWxhdGVkIGF0IG1pbmluZyBzdGFydC4KICAgIHVpbnQyNTYgc3dhcFRpbWU7CiAgICB1aW50MjU2IHN3YXBFbmRUaW1lOwogICAgdWludDI1NiBlbmRUaW1lRXh0ZW5kZWQ7CiAgICB1aW50MjU2IHN3YXBUaW1lRXh0ZW5kZWQ7CiAgICB1aW50MjU2IHN3YXBFbmRUaW1lRXh0ZW5kZWQ7CiAgICAKICAgIC8vIFBheSByYXRlIGNhbGN1bGF0ZWQgZnJvbSBiYWxhbmNlIGxhdGVyLgogICAgdWludDI1NiBwdWJsaWMgcGF5UmF0ZSA9IDA7CiAgICAKICAgIC8vIEZlZSB2YXJpYWJsZXMuICBGZWVzIGFyZSByZXNlcnZlZCBhbmQgdGhlbiB3aXRoZHJhd24gIGxhdGVyLgogICAgdWludDI1NiBzdWJtaXR0ZWRGZWVzUGFpZCA9IDA7CiAgICB1aW50MjU2IHBlbmFsdHkgPSAwOwogICAgdWludDI1NiByZXNlcnZlZEZlZXMgPSAwOwogICAgCiAgICAvLyBTdG9yYWdlLgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCgogICAvLyBGYWxsYmFjayBmdW5jdGlvbiBtaW5lcyB0aGUgdG9rZW5zLgogICAvLyBTZW5kIGZyb20gYSB3YWxsZXQgeW91IGNvbnRyb2wuCiAgIC8vIERPTidUIHNlbmQgZnJvbSBhbiBleGNoYW5nZSB3YWxsZXQhCiAgIC8vIFdlIHJlY29tbWVuZCBzZW5kaW5nIHVzaW5nIGEgbWV0aG9kIHRoYXQgY2FsY3VsYXRlcyBnYXMgZm9yIHlvdS4KICAgLy8gSGVyZSBhcmUgc29tZSBlc3RpbWF0ZXMgKG5vdCBndWFyYW50ZWVkIHRvIGJlIGFjY3VyYXRlKToKICAgLy8gSXQgdXN1YWxseSBjb3N0cyBhcm91bmQgOTBrIGdhcy4gIEl0IGNvc3QgbW9yZSBpZiB5b3UgY3Jvc3MgYSB0aWVyLgogICAvLyBNYXhpbXVtIGFyb3VuZCAxOTBrIGdhcy4KICAgZnVuY3Rpb24gKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgIAogICAgICAgcmVxdWlyZShtc2cuc2VuZGVyICE9IGFkZHJlc3MoMCkgJiYKICAgICAgICAgICAgICAgIHRpZXIgIT0gMTAgJiYKICAgICAgICAgICAgICAgIHN3YXAgPT0gZmFsc2UgJiYKICAgICAgICAgICAgICAgIHdhaXQgPT0gZmFsc2UpOwogICAgCiAgICAgICAgdWludDI1NiBpc3N1ZWQgPSBtaW50KG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgICAgICAgCiAgICAgICAgTWluZWQobXNnLnNlbmRlciwgaXNzdWVkKTsKICAgICAgICBUcmFuc2Zlcih0aGlzLCBtc2cuc2VuZGVyLCBpc3N1ZWQpOwogICAgfQogICAgCiAgICAvLyBDb25zdHJ1Y3Rvci4KICAgIGZ1bmN0aW9uIEZVVFgoKSBwdWJsaWMgewogICAgICAgIF9zdGFydCgpOwogICAgfQogICAgCiAgICAvLyBUaGlzIGdldHMgY2FsbGVkIGJ5IGNvbnN0cnVjdG9yIEFORCBhZnRlciB0aGUgc3dhcCB0byByZXN0YXJ0IGV2ZXJ0eWluZy4KICAgIGZ1bmN0aW9uIF9zdGFydCgpIGludGVybmFsIAogICAgewogICAgICAgIHN3YXAgPSBmYWxzZTsKICAgICAgICB3YWl0ID0gZmFsc2U7CiAgICAgICAgZXh0ZW5kZWQgPSBmYWxzZTsKICAgIAogICAgICAgIGVuZFRpbWUgPSBub3cgKyA5MCBkYXlzOwogICAgICAgIHN3YXBUaW1lID0gZW5kVGltZSArIDMwIGRheXM7CiAgICAgICAgc3dhcEVuZFRpbWUgPSBzd2FwVGltZSArIDUgZGF5czsKICAgICAgICBlbmRUaW1lRXh0ZW5kZWQgPSBub3cgKyAyNzAgZGF5czsKICAgICAgICBzd2FwVGltZUV4dGVuZGVkID0gZW5kVGltZUV4dGVuZGVkICsgOTAgZGF5czsKICAgICAgICBzd2FwRW5kVGltZUV4dGVuZGVkID0gc3dhcFRpbWVFeHRlbmRlZCArIDUgZGF5czsKICAgICAgICAKICAgICAgICBzdWJtaXR0ZWRGZWVzUGFpZCA9IDA7CiAgICAgICAgX3N1Ym1pdHRlZCA9IDA7CiAgICAgICAgCiAgICAgICAgcmVzZXJ2ZWRGZWVzID0gMDsKICAgICAgICAKICAgICAgICBwYXlSYXRlID0gMDsKICAgICAgICAKICAgICAgICB0aWVyID0gMDsKICAgICAgICAgICAgICAgIAogICAgICAgIE1pbmluZ1N0YXJ0KGVuZFRpbWUsIHN3YXBUaW1lLCBzd2FwRW5kVGltZSk7CiAgICB9CiAgICAKICAgIC8vIFJlc3RhcnRzIGV2ZXJ5dGhpbmcgYWZ0ZXIgc3dhcC4KICAgIC8vIFRoaXMgaXMgZXhwZW5zaXZlLCBzbyB3ZSBtYWtlIHNvbWVvbmUgY2FsbCBpdCBhbmQgcGF5IGZvciB0aGUgZ2FzLgogICAgLy8gQW55IGhvbGRlcnMgdGhhdCBtaXNzIHRoZSBzd2FwIGdldCB0byBrZWVwIHRoZWlyIHRva2Vucy4KICAgIC8vIEV0aGVyIHN0YXlzIGluIGNvbnRyYWN0LCBtaW51cyAyMCUgcGVuYWx0eSBmZWUuCiAgICBmdW5jdGlvbiByZXN0YXJ0KCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKHN3YXAgJiYgbm93ID49IGVuZFRpbWUpOwogICAgICAgIAogICAgICAgIHBlbmFsdHkgPSB0aGlzLmJhbGFuY2UgKiAyMDAwIC8gMTAwMDA7CiAgICAgICAgCiAgICAgICAgcGF5RmVlcygpOwogICAgICAgIAogICAgICAgIF9zdGFydCgpOwogICAgfQogICAgCiAgICAvLyBFUkMyMCBzdGFuZGFyZCBzdXBwbHkgZnVuY3Rpb24uCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KQogICAgewogICAgICAgIHJldHVybiBfdG90YWxTdXBwbHk7CiAgICB9CiAgICAKICAgIC8vIE1pbnRzIG5ldyB0b2tlbnMgd2hlbiB0aGV5IGFyZSBtaW5lZC4KICAgIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSAKICAgIHsKICAgICAgICB1aW50MjU2IHRvdGFsID0gX3N1Ym1pdHRlZCArIF92YWx1ZTsKICAgICAgICAKICAgICAgICBpZiAodG90YWwgPiBNQVhfU1VCTUlUVEVEKQogICAgICAgIHsKICAgICAgICAgICAgdWludDI1NiByZWZ1bmQgPSB0b3RhbCAtIE1BWF9TVUJNSVRURUQgLSAxOwogICAgICAgICAgICBfdmFsdWUgPSBfdmFsdWUgLSByZWZ1bmQ7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyByZWZ1bmQgbW9uZXkgYW5kIGNvbnRpbnVlLgogICAgICAgICAgICBfdG8udHJhbnNmZXIocmVmdW5kKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgX3N1Ym1pdHRlZCArPSBfdmFsdWU7CiAgICAgICAgCiAgICAgICAgdG90YWwgLT0gcmVmdW5kOwogICAgICAgIAogICAgICAgIHVpbnQyNTYgdG9rZW5zID0gY2FsY3VsYXRlVG9rZW5zKHRvdGFsLCBfdmFsdWUpOwogICAgICAgIAogICAgICAgIGJhbGFuY2VzW190b10gKz0gdG9rZW5zOwogICAgICAgCiAgICAgICAgX3RvdGFsU3VwcGx5ICs9IHRva2VuczsKICAgICAgICAKICAgICAgICByZXR1cm4gdG9rZW5zOwogICAgfQogICAgCiAgICAvLyBDYWxjdWxhdGVzIHRoZSB0b2tlbnMgbWluZWQgYmFzZWQgb24gdGhlIHRpZXIuCiAgICBmdW5jdGlvbiBjYWxjdWxhdGVUb2tlbnModWludDI1NiB0b3RhbCwgdWludDI1NiBfdmFsdWUpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpCiAgICB7CiAgICAgICAgaWYgKHRpZXIgPT0gMTApIAogICAgICAgIHsKICAgICAgICAgICAgLy8gVGhpcyBqdXN0IHJvdW5kcyBpdCBvZmYgdG8gYW4gZXZlbiBudW1iZXIuCiAgICAgICAgICAgIHJldHVybiA3NDAwMDAwMDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgdWludDI1NiB0b2tlbnMgPSAwOwogICAgICAgIAogICAgICAgIGlmICh0b3RhbCA+IGxldmVsc1t0aWVyXSkKICAgICAgICB7CiAgICAgICAgICAgIHVpbnQyNTYgcmVtYWluaW5nID0gdG90YWwgLSBsZXZlbHNbdGllcl07CiAgICAgICAgICAgIF92YWx1ZSAtPSByZW1haW5pbmc7CiAgICAgICAgICAgIHRva2VucyA9IChfdmFsdWUpICogcmF0aW9zW3RpZXJdOwogICAgICAgICAgIAogICAgICAgICAgICB0aWVyICs9IDE7CiAgICAgICAgICAgIAogICAgICAgICAgICB0b2tlbnMgKz0gY2FsY3VsYXRlVG9rZW5zKHRvdGFsLCByZW1haW5pbmcpOwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICB0b2tlbnMgPSBfdmFsdWUgKiByYXRpb3NbdGllcl07CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJldHVybiB0b2tlbnM7CiAgICB9CiAgICAKICAgIC8vIFRoaXMgaXMgYmFzaWNhbGx5IHNvIHlvdSBkb24ndCBoYXZlIHRvIGFkZCAxIHRvIHRoZSBsYXN0IGNvbXBsZXRlZCB0aWVyLgogICAgLy8gIFlvdSdyZSB3ZWxjb21lLgogICAgZnVuY3Rpb24gY3VycmVudFRpZXIoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgaWYgKHRpZXIgPT0gMTApCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gMTA7CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiB0aWVyICsgMTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8vIEV0aGVyIHJlbWFpbmluZyBmb3IgdGllci4KICAgIGZ1bmN0aW9uIGxlZnRJblRpZXIoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgaWYgKHRpZXIgPT0gMTApIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiBsZXZlbHNbdGllcl0gLSBfc3VibWl0dGVkOwogICAgICAgIH0KICAgIH0KICAgIAogICAgLy8gVG90YWwgc3VtYml0dGVkIGZvciBtaW5pbmcuCiAgICBmdW5jdGlvbiBzdWJtaXR0ZWQoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIF9zdWJtaXR0ZWQ7CiAgICB9CiAgICAKICAgIC8vIEJhbGFuY2UgbWludXMgb3VzdGFuZGluZyBmZWVzLgogICAgZnVuY3Rpb24gYmFsYW5jZU1pbnVzRmVlc091dHN0YW5kaW5nKCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiB0aGlzLmJhbGFuY2UgLSAocGVuYWx0eSArIChfc3VibWl0dGVkIC0gc3VibWl0dGVkRmVlc1BhaWQpICogMTUzMCAvIDEwMDAwKTsgIC8vIGZlZXMgYXJlIDE1LjMgJSB0b3RhbC4KICAgIH0KICAgIAogICAgLy8gQ2FsY3VsYXRlcyB0aGUgYW1vdW50IG9mIGV0aGVyIHBlciB0b2tlbiBmcm9tIHRoZSBiYWxhbmNlLgogICAgLy8gVGhpcyBpcyBjYWxjdWxhdGVkIG9uY2UgYnkgdGhlIGZpcnN0IGFjY291bnQgdG8gc3dhcC4KICAgIGZ1bmN0aW9uIGNhbHVsYXRlUmF0ZSgpIGludGVybmFsIHsKICAgICAgICByZXNlcnZlZEZlZXMgPSBwZW5hbHR5ICsgKF9zdWJtaXR0ZWQgLSBzdWJtaXR0ZWRGZWVzUGFpZCkgKiAxNTMwIC8gMTAwMDA7ICAvLyBmZWVzIGFyZSAxNS4zICUgdG90YWwuCiAgICAgICAgCiAgICAgICAgdWludDI1NiB0b2tlbnMgPSBfdG90YWxTdXBwbHkgLyAxIGV0aGVyOwogICAgICAgIHBheVJhdGUgPSAodGhpcy5iYWxhbmNlIC0gcmVzZXJ2ZWRGZWVzKTsKCiAgICAgICAgcGF5UmF0ZSA9IHBheVJhdGUgLyB0b2tlbnM7CiAgICB9CiAgICAKICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIHRva2VuIHRyYW5zZmVyIGFuZCBmZWUgcGF5bWVudC4KICAgIC8vIEl0IGNoZWNrcyB0aGUgbmV4dCBkZWFkbGluZSBhbmQgdGhlbiB1cGRhdGVzIHRoZSBkZWFkbGluZSBhbmQgc3RhdGUuCiAgICAvLyAKICAgIC8vIEl0IHVzZXMgdGhlIGJsb2NrIHRpbWUsIGJ1dCB0aGUgdGltZSBwZXJpb2RzIGFyZSBkYXlzIGFuZCBtb250aHMsCiAgICAvLyBzbyBpdCBzaG91bGQgYmUgcHJldHR5IHNhZmUgICYjMTc1O1xfKOODhClfLyYjMTc1OyAKICAgIGZ1bmN0aW9uIF91cGRhdGVTdGF0ZSgpIGludGVybmFsIHsKICAgICAgICAvLyBNb3N0IG9mIHRoZSB0aW1lLCB0aGlzIHdpbGwganVzdCBiZSBza2lwcGVkLgogICAgICAgIGlmIChub3cgPj0gZW5kVGltZSkKICAgICAgICB7CiAgICAgICAgICAgIC8vIFdlIGFyZSBub3QgY3VycmVudGx5IHN3YXBwaW5nIG9yIHdhaXRpbmcgdG8gc3dhcAogICAgICAgICAgICBpZighc3dhcCAmJiAhd2FpdCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKGV4dGVuZGVkKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vIEl0J3MgYmVlbiAzNiBtb250aHMuCiAgICAgICAgICAgICAgICAgICAgd2FpdCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgZW5kVGltZSA9IHN3YXBUaW1lRXh0ZW5kZWQ7CiAgICAgICAgICAgICAgICAgICAgV2FpdFN0YXJ0ZWQoZW5kVGltZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aWVyID09IDEwKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vIFRpZXJzIGZpbGxlZAogICAgICAgICAgICAgICAgICAgIHdhaXQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGVuZFRpbWUgPSBzd2FwVGltZTsKICAgICAgICAgICAgICAgICAgICBXYWl0U3RhcnRlZChlbmRUaW1lKTsKICAgICAgICAgICAgICAgIH0gCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy8gRXh0ZW5kZWQgdG8gMzYgbW9udGhzCiAgICAgICAgICAgICAgICAgICAgZW5kVGltZSA9IGVuZFRpbWVFeHRlbmRlZDsKICAgICAgICAgICAgICAgICAgICBleHRlbmRlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgTWluaW5nRXh0ZW5kZWQoZW5kVGltZSwgc3dhcFRpbWUsIHN3YXBFbmRUaW1lKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSAKICAgICAgICAgICAgZWxzZSBpZiAod2FpdCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgLy8gSXQncyB0aW1lIHRvIHN3YXAuCiAgICAgICAgICAgICAgICBzd2FwID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHdhaXQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKGV4dGVuZGVkKSAKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBlbmRUaW1lID0gc3dhcEVuZFRpbWVFeHRlbmRlZDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBlbmRUaW1lID0gc3dhcEVuZFRpbWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIFN3YXBTdGFydGVkKGVuZFRpbWUpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAKICAgIC8vIFN0YW5kYXJkIEVSQzIwIHRyYW5zZmVyIHBsdXMgc3RhdGUgY2hlY2sgYW5kIHRva2VuIHN3YXAgbG9naWMuCiAgICAvLwogICAgLy8gV2UgcmVjb21tZW5kIHNlbmRpbmcgdXNpbmcgYSBtZXRob2QgdGhhdCBjYWxjdWxhdGVzIGdhcyBmb3IgeW91LgogICAgLy8KICAgIC8vIEhlcmUgYXJlIHNvbWUgZXN0aW1hdGVzIChub3QgZ3VhcmFudGVlZCB0byBiZSBhY2N1cmF0ZSk6CiAgICAvLyBJdCB1c3VhbGx5IGNvc3RzIGFyb3VuZCAzN2sgZ2FzLiAgSXQgY29zdCBtb3JlIGlmIHRoZSBzdGF0ZSBjaGFuZ2VzLgogICAgLy8gU3RhdGUgY2hhbmdlIG1lYW5zIGFyb3VuZCA1NWsgLSA2NWsgZ2FzLgogICAgLy8gU3dhcHBpbmcgdG9rZW5zIGZvciBldGhlciBjb3N0cyBhcm91bmQgNDZrIGdhcy4gKGFyb3VuZCA5M2sgZm9yIHRoZSBmaXJzdCBhY2NvdW50IHRvIHN3YXApCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSk7CiAgICAgICAgCiAgICAgICAgIC8vIE5vcm1hbCB0cmFuc2ZlcnMgY2hlY2sgaWYgdGltZSBpcyBleHBpcmVkLiAgCiAgICAgICAgX3VwZGF0ZVN0YXRlKCk7CgogICAgICAgIC8vIENoZWNrIGlmIHNlbmRpbmcgaW4gZm9yIHN3YXAuCiAgICAgICAgaWYgKF90byA9PSBhZGRyZXNzKHRoaXMpKSAKICAgICAgICB7CiAgICAgICAgICAgIC8vIHRocm93IGlmIHRoZXkgY2FuJ3Qgc3dhcCB5ZXQuCiAgICAgICAgICAgIHJlcXVpcmUoc3dhcCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAocGF5UmF0ZSA9PSAwKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjYWx1bGF0ZVJhdGUoKTsgLy8gR2FzIHRvIGNhbGMgdGhlIHJhdGUgcGFpZCBieSBmaXJzdCB1bmx1Y2t5IHNvdWwuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHVpbnQyNTYgYW1vdW50ID0gX3ZhbHVlICogcGF5UmF0ZTsKICAgICAgICAgICAgLy8gQWRqdXN0IGZvciBkZWNpbWFscwogICAgICAgICAgICBhbW91bnQgLz0gMSBldGhlcjsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEJ1cm4gdG9rZW5zLgogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgICBfdG90YWxTdXBwbHkgLT0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvL3NlbmQgZXRoZXIKICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihhbW91bnQpOwogICAgICAgIH0gZWxzZQogICAgICAgIHsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgLy8gU3RhbmRhcmQgRVJDMjAuCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAKICAgICAgICB1aW50MjU2IGFsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2FuY2UgPj0gX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgIGlmIChhbGxvd2FuY2UgPCBNQVhfVUlOVDI1NikgewogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgfQogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gU3RhbmRhcmQgRVJDMjAuCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIC8vIFN0YW5kYXJkIEVSQzIwLgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQogICAgCiAgICAvLyAqKioqKioqKioqKioqKioqKioqKgogICAgLy8gRmVlIHN0dWZmLgoKICAgIC8vIEFkZHJlc3NlcyBmb3IgZmVlcy4KICAgIGFkZHJlc3MgcHVibGljIGZvdW5kYXRpb24gPSAweDk1MGVjNGVmNjkzZDkwZjg1MTljNDIxMzgyMWU0NjI0MjZkMzA5MDU7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lciA9IDB4NzhCRkNBNUUyMEIwRDcxMEViRUY5ODI0OWY2OGQ5MzIwZUU0MjNiZTsKICAgIGFkZHJlc3MgcHVibGljIGRldiA9IDB4NWQyYjlmNTM0NWU2OWUyMzkwY2U0YzI2Y2NjOWMyOTEwYTA5NzUyMDsKICAgIAogICAgLy8gUGF5cyBmZWVzIHRvIHRoZSBmb3VuZGF0aW9uLCB0aGUgb3duZXIsIGFuZCB0aGUgZGV2LgogICAgLy8gSXQgYWxzbyB1cGRhdGVzIHRoZSBzdGF0ZS4gIEFueW9uZSBjYW4gY2FsbCB0aGlzLgogICAgZnVuY3Rpb24gcGF5RmVlcygpIHB1YmxpYyB7CiAgICAgICAgIC8vIENoZWNrIHN0YXRlIHRvIHNlZSBpZiBzd2FwIG5lZWRzIHRvIGhhcHBlbi4KICAgICAgICAgX3VwZGF0ZVN0YXRlKCk7CiAgICAgICAgIAogICAgICAgIHVpbnQyNTYgZmVlcyA9IHBlbmFsdHkgKyAoX3N1Ym1pdHRlZCAtIHN1Ym1pdHRlZEZlZXNQYWlkKSAqIDE1MzAgLyAxMDAwMDsgIC8vIGZlZXMgYXJlIDE1LjMgJSB0b3RhbC4KICAgICAgICBzdWJtaXR0ZWRGZWVzUGFpZCA9IF9zdWJtaXR0ZWQ7CiAgICAgICAgCiAgICAgICAgcmVzZXJ2ZWRGZWVzID0gMDsKICAgICAgICBwZW5hbHR5ID0gMDsKICAgICAgICAKICAgICAgICBpZiAoZmVlcyA+IDApIAogICAgICAgIHsKICAgICAgICAgICAgZm91bmRhdGlvbi50cmFuc2ZlcihmZWVzIC8gMyk7CiAgICAgICAgICAgIG93bmVyLnRyYW5zZmVyKGZlZXMgLyAzKTsKICAgICAgICAgICAgZGV2LnRyYW5zZmVyKGZlZXMgLyAzKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNoYW5nZUZvdW5kYXRpb24gKGFkZHJlc3MgX3JlY2VpdmVyKSBwdWJsaWMKICAgIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZm91bmRhdGlvbik7CiAgICAgICAgZm91bmRhdGlvbiA9IF9yZWNlaXZlcjsKICAgIH0KICAgIAogICAgCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lciAoYWRkcmVzcyBfcmVjZWl2ZXIpIHB1YmxpYwogICAgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgb3duZXIgPSBfcmVjZWl2ZXI7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNoYW5nZURldiAoYWRkcmVzcyBfcmVjZWl2ZXIpIHB1YmxpYwogICAgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBkZXYpOwogICAgICAgIGRldiA9IF9yZWNlaXZlcjsKICAgIH0gICAgCgp9'.
	

]
