Class {
	#name : #SRTc5bbae50781be1669306b9e001eff57a2957b09d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc5bbae50781be1669306b9e001eff57a2957b09d >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIEdpZnRvIFRva2VuIGJ5IEdpZnRvIExpbWl0ZWQuCi8vIEFuIEVSQzIwIHN0YW5kYXJkCi8vCi8vIGF1dGhvcjogR2lmdG8gVGVhbQovLyBDb250YWN0OiA8c3BhbiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9ImMzYTdhMmI3YjRhYmFkYTRiNmJhYTZhZDgzYTRhZWEyYWFhZmVkYTBhY2FlIj5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9zcGFuPgoKY29udHJhY3QgRVJDMjBJbnRlcmZhY2UgewogICAgLy8gR2V0IHRoZSB0b3RhbCB0b2tlbiBzdXBwbHkKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgX3RvdGFsU3VwcGx5KTsKIAogICAgLy8gR2V0IHRoZSBhY2NvdW50IGJhbGFuY2Ugb2YgYW5vdGhlciBhY2NvdW50IHdpdGggYWRkcmVzcyBfb3duZXIKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CiAKICAgIC8vIFNlbmQgX3ZhbHVlIGFtb3VudCBvZiB0b2tlbnMgdG8gYWRkcmVzcyBfdG8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICAKICAgIC8vIHRyYW5zZmVyIF92YWx1ZSBhbW91bnQgb2YgdG9rZW4gYXBwcm92ZWQgYnkgYWRkcmVzcyBfZnJvbQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8gYXBwcm92ZSBhbiBhZGRyZXNzIHdpdGggX3ZhbHVlIGFtb3VudCBvZiB0b2tlbnMKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vIGdldCByZW1haW5pbmcgdG9rZW4gYXBwcm92ZWQgYnkgX293bmVyIHRvIF9zcGVuZGVyCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CiAgCiAgICAvLyBUcmlnZ2VyZWQgd2hlbiB0b2tlbnMgYXJlIHRyYW5zZmVycmVkLgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAKICAgIC8vIFRyaWdnZXJlZCB3aGVuZXZlciBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBpcyBjYWxsZWQuCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKfQogCmNvbnRyYWN0IEdpZnRvIGlzIEVSQzIwSW50ZXJmYWNlIHsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gNTsKCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJHVE8iOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkdpZnRvIjsKCiAgICBib29sIHB1YmxpYyBfc2VsbGluZyA9IHRydWU7Ly9pbml0aWFsIHNlbGxpbmcKICAgIHVpbnQyNTYgcHVibGljIF90b3RhbFN1cHBseSA9IDEwICoqIDE0OyAvLyB0b3RhbCBzdXBwbHkgaXMgMTBeMTQgdW5pdCwgZXF1aXZhbGVudCB0byAxMF45IEdpZnRvCiAgICB1aW50MjU2IHB1YmxpYyBfb3JpZ2luYWxCdXlQcmljZSA9IDQzICogMTAqKjc7IC8vIG9yaWdpbmFsIGJ1eSAxRVRIID0gNDMwMCBHaWZ0byA9IDQzICogMTAqKjcgdW5pdAoKICAgIC8vIE93bmVyIG9mIHRoaXMgY29udHJhY3QKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogCiAgICAvLyBCYWxhbmNlcyBHaWZ0byBmb3IgZWFjaCBhY2NvdW50CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHJpdmF0ZSBiYWxhbmNlczsKICAgIAogICAgLy8gT3duZXIgb2YgYWNjb3VudCBhcHByb3ZlcyB0aGUgdHJhbnNmZXIgb2YgYW4gYW1vdW50IHRvIGFub3RoZXIgYWNjb3VudAogICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHByaXZhdGUgYWxsb3dlZDsKCiAgICAvLyBMaXN0IG9mIGFwcHJvdmVkIGludmVzdG9ycwogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIHByaXZhdGUgYXBwcm92ZWRJbnZlc3Rvckxpc3Q7CiAgICAKICAgIC8vIGRlcG9zaXQKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwcml2YXRlIGRlcG9zaXQ7CiAgICAKICAgIC8vIGljb1BlcmNlbnQKICAgIHVpbnQyNTYgcHVibGljIF9pY29QZXJjZW50ID0gMTA7CiAgICAKICAgIC8vIF9pY29TdXBwbHkgaXMgdGhlIGF2YWxhYmxlIHVuaXQuIEluaXRpYWxseSwgaXQgaXMgX3RvdGFsU3VwcGx5CiAgICB1aW50MjU2IHB1YmxpYyBfaWNvU3VwcGx5ID0gX3RvdGFsU3VwcGx5ICogX2ljb1BlcmNlbnQgLyAxMDA7CiAgICAKICAgIC8vIG1pbmltdW0gYnV5IDAuMyBFVEgKICAgIHVpbnQyNTYgcHVibGljIF9taW5pbXVtQnV5ID0gMyAqIDEwICoqIDE3OwogICAgCiAgICAvLyBtYXhpbXVtIGJ1eSAyNSBFVEgKICAgIHVpbnQyNTYgcHVibGljIF9tYXhpbXVtQnV5ID0gMjUgKiAxMCAqKiAxODsKCiAgICAvLyB0b3RhbFRva2VuU29sZAogICAgdWludDI1NiBwdWJsaWMgdG90YWxUb2tlblNvbGQgPSAwOwogICAgCiAgICAvLyB0cmFkYWJsZQogICAgYm9vbCBwdWJsaWMgdHJhZGFibGUgPSBmYWxzZTsKICAgIAogICAgLyoqCiAgICAgKiBGdW5jdGlvbnMgd2l0aCB0aGlzIG1vZGlmaWVyIGNhbiBvbmx5IGJlIGV4ZWN1dGVkIGJ5IHRoZSBvd25lcgogICAgICovCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogRnVuY3Rpb25zIHdpdGggdGhpcyBtb2RpZmllciBjaGVjayBvbiBzYWxlIHN0YXR1cwogICAgICogT25seSBhbGxvdyBzYWxlIGlmIF9zZWxsaW5nIGlzIG9uCiAgICAgKi8KICAgIG1vZGlmaWVyIG9uU2FsZSgpIHsKICAgICAgICByZXF1aXJlKF9zZWxsaW5nKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICAvKioKICAgICAqIEZ1bmN0aW9ucyB3aXRoIHRoaXMgbW9kaWZpZXIgY2hlY2sgdGhlIHZhbGlkaXR5IG9mIGFkZHJlc3MgaXMgaW52ZXN0b3IKICAgICAqLwogICAgbW9kaWZpZXIgdmFsaWRJbnZlc3RvcigpIHsKICAgICAgICByZXF1aXJlKGFwcHJvdmVkSW52ZXN0b3JMaXN0W21zZy5zZW5kZXJdKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICAvKioKICAgICAqIEZ1bmN0aW9ucyB3aXRoIHRoaXMgbW9kaWZpZXIgY2hlY2sgdGhlIHZhbGlkaXR5IG9mIG1zZyB2YWx1ZQogICAgICogdmFsdWUgbXVzdCBncmVhdGVyIHRoYW4gZXF1YWwgbWluaW11bUJ1eVByaWNlCiAgICAgKiB0b3RhbCBkZXBvc2l0IG11c3QgbGVzcyB0aGFuIGVxdWFsIG1heGltdW1CdXlQcmljZQogICAgICovCiAgICBtb2RpZmllciB2YWxpZFZhbHVlKCl7CiAgICAgICAgLy8gcmVxdWlyZSB2YWx1ZSA+PSBfbWluaW11bUJ1eSBBTkQgdG90YWwgZGVwb3NpdCBvZiBtc2cuc2VuZGVyIDw9IG1heGltdW1CdXlQcmljZQogICAgICAgIHJlcXVpcmUgKCAobXNnLnZhbHVlID49IF9taW5pbXVtQnV5KSAmJgogICAgICAgICAgICAgICAgKCAoZGVwb3NpdFttc2cuc2VuZGVyXSArIG1zZy52YWx1ZSkgPD0gX21heGltdW1CdXkpICk7CiAgICAgICAgXzsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiAKICAgICAqLwogICAgbW9kaWZpZXIgaXNUcmFkYWJsZSgpewogICAgICAgIHJlcXVpcmUodHJhZGFibGUgPT0gdHJ1ZSB8fCBtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vLyBAZGV2IEZhbGxiYWNrIGZ1bmN0aW9uIGFsbG93cyB0byBidXkgZXRoZXIuCiAgICBmdW5jdGlvbigpCiAgICAgICAgcHVibGljCiAgICAgICAgcGF5YWJsZSB7CiAgICAgICAgYnV5R2lmdG8oKTsKICAgIH0KICAgIAogICAgLy8vIEBkZXYgYnV5IGZ1bmN0aW9uIGFsbG93cyB0byBidXkgZXRoZXIuIGZvciB1c2luZyBvcHRpb25hbCBkYXRhCiAgICBmdW5jdGlvbiBidXlHaWZ0bygpCiAgICAgICAgcHVibGljCiAgICAgICAgcGF5YWJsZQogICAgICAgIG9uU2FsZQogICAgICAgIHZhbGlkVmFsdWUKICAgICAgICB2YWxpZEludmVzdG9yIHsKICAgICAgICB1aW50MjU2IHJlcXVlc3RlZFVuaXRzID0gKG1zZy52YWx1ZSAqIF9vcmlnaW5hbEJ1eVByaWNlKSAvIDEwKioxODsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW293bmVyXSA+PSByZXF1ZXN0ZWRVbml0cyk7CiAgICAgICAgLy8gcHJlcGFyZSB0cmFuc2ZlciBkYXRhCiAgICAgICAgYmFsYW5jZXNbb3duZXJdIC09IHJlcXVlc3RlZFVuaXRzOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IHJlcXVlc3RlZFVuaXRzOwogICAgICAgIAogICAgICAgIC8vIGluY3JlYXNlIHRvdGFsIGRlcG9zaXQgYW1vdW50CiAgICAgICAgZGVwb3NpdFttc2cuc2VuZGVyXSArPSBtc2cudmFsdWU7CiAgICAgICAgCiAgICAgICAgLy8gY2hlY2sgdG90YWwgYW5kIGF1dG8gdHVybk9mZlNhbGUKICAgICAgICB0b3RhbFRva2VuU29sZCArPSByZXF1ZXN0ZWRVbml0czsKICAgICAgICBpZiAodG90YWxUb2tlblNvbGQgPj0gX2ljb1N1cHBseSl7CiAgICAgICAgICAgIF9zZWxsaW5nID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIHN1Ym1pdCB0cmFuc2ZlcgogICAgICAgIFRyYW5zZmVyKG93bmVyLCBtc2cuc2VuZGVyLCByZXF1ZXN0ZWRVbml0cyk7CiAgICAgICAgb3duZXIudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgIH0KCiAgICAvLy8gQGRldiBDb25zdHJ1Y3RvcgogICAgZnVuY3Rpb24gR2lmdG8oKSAKICAgICAgICBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICBzZXRCdXlQcmljZShfb3JpZ2luYWxCdXlQcmljZSk7CiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gX3RvdGFsU3VwcGx5OwogICAgICAgIFRyYW5zZmVyKDB4MCwgb3duZXIsIF90b3RhbFN1cHBseSk7CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IEdldHMgdG90YWxTdXBwbHkKICAgIC8vLyBAcmV0dXJuIFRvdGFsIHN1cHBseQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKQogICAgICAgIHB1YmxpYyAKICAgICAgICBjb25zdGFudCAKICAgICAgICByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIF90b3RhbFN1cHBseTsKICAgIH0KICAgIAogICAgLy8vIEBkZXYgRW5hYmxlcyBzYWxlIAogICAgZnVuY3Rpb24gdHVybk9uU2FsZSgpIG9ubHlPd25lciAKICAgICAgICBwdWJsaWMgewogICAgICAgIF9zZWxsaW5nID0gdHJ1ZTsKICAgIH0KCiAgICAvLy8gQGRldiBEaXNhYmxlcyBzYWxlCiAgICBmdW5jdGlvbiB0dXJuT2ZmU2FsZSgpIG9ubHlPd25lciAKICAgICAgICBwdWJsaWMgewogICAgICAgIF9zZWxsaW5nID0gZmFsc2U7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHR1cm5PblRyYWRhYmxlKCkgCiAgICAgICAgcHVibGljCiAgICAgICAgb25seU93bmVyewogICAgICAgIHRyYWRhYmxlID0gdHJ1ZTsKICAgIH0KICAgIAogICAgLy8vIEBkZXYgc2V0IG5ldyBpY29QZXJjZW50CiAgICAvLy8gQHBhcmFtIG5ld0ljb1BlcmNlbnQgbmV3IHZhbHVlIG9mIGljb1BlcmNlbnQKICAgIGZ1bmN0aW9uIHNldEljb1BlcmNlbnQodWludDI1NiBuZXdJY29QZXJjZW50KQogICAgICAgIHB1YmxpYyAKICAgICAgICBvbmx5T3duZXIgewogICAgICAgIF9pY29QZXJjZW50ID0gbmV3SWNvUGVyY2VudDsKICAgICAgICBfaWNvU3VwcGx5ID0gX3RvdGFsU3VwcGx5ICogX2ljb1BlcmNlbnQgLyAxMDA7CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IHNldCBuZXcgX21heGltdW1CdXkKICAgIC8vLyBAcGFyYW0gbmV3TWF4aW11bUJ1eSBuZXcgdmFsdWUgb2YgX21heGltdW1CdXkKICAgIGZ1bmN0aW9uIHNldE1heGltdW1CdXkodWludDI1NiBuZXdNYXhpbXVtQnV5KQogICAgICAgIHB1YmxpYyAKICAgICAgICBvbmx5T3duZXIgewogICAgICAgIF9tYXhpbXVtQnV5ID0gbmV3TWF4aW11bUJ1eTsKICAgIH0KCiAgICAvLy8gQGRldiBVcGRhdGVzIGJ1eSBwcmljZSAob3duZXIgT05MWSkKICAgIC8vLyBAcGFyYW0gbmV3QnV5UHJpY2UgTmV3IGJ1eSBwcmljZSAoaW4gdW5pdCkKICAgIGZ1bmN0aW9uIHNldEJ1eVByaWNlKHVpbnQyNTYgbmV3QnV5UHJpY2UpIAogICAgICAgIG9ubHlPd25lciAKICAgICAgICBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobmV3QnV5UHJpY2U+MCk7CiAgICAgICAgX29yaWdpbmFsQnV5UHJpY2UgPSBuZXdCdXlQcmljZTsgLy8gMzAwMCBHaWZ0byA9IDMwMDAgMDAwMDAgdW5pdAogICAgICAgIC8vIGNvbnRyb2wgX21heGltdW1CdXlfVVNEID0gMTAsMDAwIFVTRCwgR2lmdG8gcHJpY2UgaXMgMC4xVVNECiAgICAgICAgLy8gbWF4aW11bUJ1eV9HaWZ0byA9IDEwMCwwMDAgR2lmdG8gPSAxMDAsMDAwLDAwMDAwIHVuaXQKICAgICAgICAvLyAzMDAwIEdpZnRvID0gMUVUSCA9PiBtYXhpbXVtRVRIID0gMTAwLDAwMCwwMDAwMCAvIF9vcmlnaW5hbEJ1eVByaWNlCiAgICAgICAgLy8gMTAwLDAwMCwwMDAwMC8zMDAwIDAwMDAgfiAzM0VUSCA9PiBjaGFuZ2UgdG8gd2VpCiAgICAgICAgX21heGltdW1CdXkgPSAxMCoqMTggKiAxMDAwMDAwMDAwMCAvX29yaWdpbmFsQnV5UHJpY2U7CiAgICB9CiAgICAgICAgCiAgICAvLy8gQGRldiBHZXRzIGFjY291bnQncyBiYWxhbmNlCiAgICAvLy8gQHBhcmFtIF9hZGRyIEFkZHJlc3Mgb2YgdGhlIGFjY291bnQKICAgIC8vLyBAcmV0dXJuIEFjY291bnQgYmFsYW5jZQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX2FkZHIpIAogICAgICAgIHB1YmxpYwogICAgICAgIGNvbnN0YW50IAogICAgICAgIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX2FkZHJdOwogICAgfQogICAgCiAgICAvLy8gQGRldiBjaGVjayBhZGRyZXNzIGlzIGFwcHJvdmVkIGludmVzdG9yCiAgICAvLy8gQHBhcmFtIF9hZGRyIGFkZHJlc3MKICAgIGZ1bmN0aW9uIGlzQXBwcm92ZWRJbnZlc3RvcihhZGRyZXNzIF9hZGRyKQogICAgICAgIHB1YmxpYwogICAgICAgIGNvbnN0YW50CiAgICAgICAgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBhcHByb3ZlZEludmVzdG9yTGlzdFtfYWRkcl07CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IGdldCBFVEggZGVwb3NpdAogICAgLy8vIEBwYXJhbSBfYWRkciBhZGRyZXNzIGdldCBkZXBvc2l0CiAgICAvLy8gQHJldHVybiBhbW91bnQgZGVwb3NpdCBvZiBhbiBidXllcgogICAgZnVuY3Rpb24gZ2V0RGVwb3NpdChhZGRyZXNzIF9hZGRyKQogICAgICAgIHB1YmxpYwogICAgICAgIGNvbnN0YW50CiAgICAgICAgcmV0dXJucyh1aW50MjU2KXsKICAgICAgICByZXR1cm4gZGVwb3NpdFtfYWRkcl07Cn0KICAgIAogICAgLy8vIEBkZXYgQWRkcyBsaXN0IG9mIG5ldyBpbnZlc3RvcnMgdG8gdGhlIGludmVzdG9ycyBsaXN0IGFuZCBhcHByb3ZlIGFsbAogICAgLy8vIEBwYXJhbSBuZXdJbnZlc3Rvckxpc3QgQXJyYXkgb2YgbmV3IGludmVzdG9ycyBhZGRyZXNzZXMgdG8gYmUgYWRkZWQKICAgIGZ1bmN0aW9uIGFkZEludmVzdG9yTGlzdChhZGRyZXNzW10gbmV3SW52ZXN0b3JMaXN0KQogICAgICAgIG9ubHlPd25lcgogICAgICAgIHB1YmxpYyB7CiAgICAgICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgbmV3SW52ZXN0b3JMaXN0Lmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgYXBwcm92ZWRJbnZlc3Rvckxpc3RbbmV3SW52ZXN0b3JMaXN0W2ldXSA9IHRydWU7CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBAZGV2IFJlbW92ZXMgbGlzdCBvZiBpbnZlc3RvcnMgZnJvbSBsaXN0CiAgICAvLy8gQHBhcmFtIGludmVzdG9yTGlzdCBBcnJheSBvZiBhZGRyZXNzZXMgb2YgaW52ZXN0b3JzIHRvIGJlIHJlbW92ZWQKICAgIGZ1bmN0aW9uIHJlbW92ZUludmVzdG9yTGlzdChhZGRyZXNzW10gaW52ZXN0b3JMaXN0KQogICAgICAgIG9ubHlPd25lcgogICAgICAgIHB1YmxpYyB7CiAgICAgICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgaW52ZXN0b3JMaXN0Lmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgYXBwcm92ZWRJbnZlc3Rvckxpc3RbaW52ZXN0b3JMaXN0W2ldXSA9IGZhbHNlOwogICAgICAgIH0KICAgIH0KIAogICAgLy8vIEBkZXYgVHJhbnNmZXJzIHRoZSBiYWxhbmNlIGZyb20gbXNnLnNlbmRlciB0byBhbiBhY2NvdW50CiAgICAvLy8gQHBhcmFtIF90byBSZWNpcGllbnQgYWRkcmVzcwogICAgLy8vIEBwYXJhbSBfYW1vdW50IFRyYW5zZmVyZWQgYW1vdW50IGluIHVuaXQKICAgIC8vLyBAcmV0dXJuIFRyYW5zZmVyIHN0YXR1cwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkKICAgICAgICBwdWJsaWMgCiAgICAgICAgaXNUcmFkYWJsZQogICAgICAgIHJldHVybnMgKGJvb2wpIHsKICAgICAgICAvLyBpZiBzZW5kZXIncyBiYWxhbmNlIGhhcyBlbm91Z2ggdW5pdCBhbmQgYW1vdW50ID49IDAsIAogICAgICAgIC8vICAgICAgYW5kIHRoZSBzdW0gaXMgbm90IG92ZXJmbG93LAogICAgICAgIC8vIHRoZW4gZG8gdHJhbnNmZXIgCiAgICAgICAgaWYgKCAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCkgJiYKICAgICAgICAgICAgIChfYW1vdW50ID49IDApICYmIAogICAgICAgICAgICAgKGJhbGFuY2VzW190b10gKyBfYW1vdW50ID4gYmFsYW5jZXNbX3RvXSkgKSB7ICAKCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF9hbW91bnQ7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX2Ftb3VudDsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfYW1vdW50KTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KICAgICAKICAgIC8vIFNlbmQgX3ZhbHVlIGFtb3VudCBvZiB0b2tlbnMgZnJvbSBhZGRyZXNzIF9mcm9tIHRvIGFkZHJlc3MgX3RvCiAgICAvLyBUaGUgdHJhbnNmZXJGcm9tIG1ldGhvZCBpcyB1c2VkIGZvciBhIHdpdGhkcmF3IHdvcmtmbG93LCBhbGxvd2luZyBjb250cmFjdHMgdG8gc2VuZAogICAgLy8gdG9rZW5zIG9uIHlvdXIgYmVoYWxmLCBmb3IgZXhhbXBsZSB0byAiZGVwb3NpdCIgdG8gYSBjb250cmFjdCBhZGRyZXNzIGFuZC9vciB0byBjaGFyZ2UKICAgIC8vIGZlZXMgaW4gc3ViLWN1cnJlbmNpZXM7IHRoZSBjb21tYW5kIHNob3VsZCBmYWlsIHVubGVzcyB0aGUgX2Zyb20gYWNjb3VudCBoYXMKICAgIC8vIGRlbGliZXJhdGVseSBhdXRob3JpemVkIHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UgdmlhIHNvbWUgbWVjaGFuaXNtOyB3ZSBwcm9wb3NlCiAgICAvLyB0aGVzZSBzdGFuZGFyZGl6ZWQgQVBJcyBmb3IgYXBwcm92YWw6CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oCiAgICAgICAgYWRkcmVzcyBfZnJvbSwKICAgICAgICBhZGRyZXNzIF90bywKICAgICAgICB1aW50MjU2IF9hbW91bnQKICAgICkKICAgIHB1YmxpYwogICAgaXNUcmFkYWJsZQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfYW1vdW50CiAgICAgICAgICAgICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF9hbW91bnQKICAgICAgICAgICAgJiYgX2Ftb3VudCA+IDAKICAgICAgICAgICAgJiYgYmFsYW5jZXNbX3RvXSArIF9hbW91bnQgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfYW1vdW50OwogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfYW1vdW50OwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF9hbW91bnQ7CiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF9hbW91bnQpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQogICAgCiAgICAvLyBBbGxvdyBfc3BlbmRlciB0byB3aXRoZHJhdyBmcm9tIHlvdXIgYWNjb3VudCwgbXVsdGlwbGUgdGltZXMsIHVwIHRvIHRoZSBfdmFsdWUgYW1vdW50LgogICAgLy8gSWYgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYWdhaW4gaXQgb3ZlcndyaXRlcyB0aGUgY3VycmVudCBhbGxvd2FuY2Ugd2l0aCBfdmFsdWUuCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudCkgCiAgICAgICAgcHVibGljCiAgICAgICAgaXNUcmFkYWJsZQogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX2Ftb3VudDsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIC8vIGdldCBhbGxvd2FuY2UKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgCiAgICAgICAgcHVibGljCiAgICAgICAgY29uc3RhbnQgCiAgICAgICAgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KICAgIAogICAgLy8vIEBkZXYgV2l0aGRyYXdzIEV0aGVyIGluIGNvbnRyYWN0IChPd25lciBvbmx5KQogICAgLy8vIEByZXR1cm4gU3RhdHVzIG9mIHdpdGhkcmF3YWwKICAgIGZ1bmN0aW9uIHdpdGhkcmF3KCkgb25seU93bmVyIAogICAgICAgIHB1YmxpYyAKICAgICAgICByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIG93bmVyLnNlbmQodGhpcy5iYWxhbmNlKTsKICAgIH0KfQ=='.
	

]
