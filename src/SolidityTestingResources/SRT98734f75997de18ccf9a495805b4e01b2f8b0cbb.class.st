Class {
	#name : #SRT98734f75997de18ccf9a495805b4e01b2f8b0cbb,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT98734f75997de18ccf9a495805b4e01b2f8b0cbb >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7Cgpjb250cmFjdCBFbGNvaW5JQ08gewoKICAvLyBDb25zdGFudHMKICAvLyA9PT09PT09PT0KCiAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgdG9rZW5zUGVyRXRoID0gMzAwOyAvLyBFTEMgcGVyIEVUSAogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHRva2VuTGltaXQgPSA2MCAqIDFlNiAqIDFlMTg7CiAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgdG9rZW5zRm9yU2FsZSA9IHRva2VuTGltaXQgKiA1MCAvIDEwMDsKICB1aW50MjU2IHB1YmxpYyBwcmVzYWxlU29sZCA9IDA7CiAgdWludDI1NiBwdWJsaWMgc3RhcnRUaW1lID0gMTUxMTAzODgwMDsgLy8gMTkgTm92ZW1iZXIgMjAxNyAxODowMCBVVEMKICB1aW50MjU2IHB1YmxpYyBlbmRUaW1lID0gMTUxNzc3ODAwMDsgLy8gMDUgRmVicnVhcnkgMjAxOCAxODowMCBVVEMKCiAgLy8gRXZlbnRzCiAgLy8gPT09PT09CgogIGV2ZW50IFJ1bkljbygpOwogIGV2ZW50IFBhdXNlSWNvKCk7CiAgZXZlbnQgRmluaXNoSWNvKGFkZHJlc3MgdGVhbSwgYWRkcmVzcyBmb3VuZGF0aW9uLCBhZGRyZXNzIGFkdmlzb3JzLCBhZGRyZXNzIGJvdW50eSk7CgoKICAvLyBTdGF0ZSB2YXJpYWJsZXMKICAvLyA9PT09PT09PT09PT09PT0KCiAgRUxDIHB1YmxpYyBlbGM7CgogIGFkZHJlc3MgcHVibGljIHRlYW07CiAgbW9kaWZpZXIgdGVhbU9ubHkgeyByZXF1aXJlKG1zZy5zZW5kZXIgPT0gdGVhbSk7IF87IH0KCiAgZW51bSBJY29TdGF0ZSB7IFByZXNhbGUsIFJ1bm5pbmcsIFBhdXNlZCwgRmluaXNoZWQgfQogIEljb1N0YXRlIHB1YmxpYyBpY29TdGF0ZSA9IEljb1N0YXRlLlByZXNhbGU7CgoKICAvLyBDb25zdHJ1Y3RvcgogIC8vID09PT09PT09PT09CgogIGZ1bmN0aW9uIEVsY29pbklDTyhhZGRyZXNzIF90ZWFtKSBwdWJsaWMgewogICAgdGVhbSA9IF90ZWFtOwogICAgZWxjID0gbmV3IEVMQyh0aGlzLCB0b2tlbkxpbWl0KTsKICB9CgoKICAvLyBQdWJsaWMgZnVuY3Rpb25zCiAgLy8gPT09PT09PT09PT09PT09PQoKICAvLyBIZXJlIHlvdSBjYW4gYnV5IHNvbWUgdG9rZW5zIChqdXN0IGRvbid0IGZvcmdldCB0byBwcm92aWRlIGVub3VnaCBnYXMpLgogIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICBidXlGb3IobXNnLnNlbmRlcik7CiAgfQoKCiAgZnVuY3Rpb24gYnV5Rm9yKGFkZHJlc3MgX2ludmVzdG9yKSBwdWJsaWMgcGF5YWJsZSB7CiAgICByZXF1aXJlKGljb1N0YXRlID09IEljb1N0YXRlLlJ1bm5pbmcpOwogICAgcmVxdWlyZShtc2cudmFsdWUgPiAwKTsKICAgIGJ1eShfaW52ZXN0b3IsIG1zZy52YWx1ZSk7CiAgfQoKCiAgZnVuY3Rpb24gZ2V0UHJlc2FsZVRvdGFsKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgIGlmKF92YWx1ZSA8IDEwIGV0aGVyKSB7CiAgICAgIHJldHVybiBfdmFsdWUgKiB0b2tlbnNQZXJFdGg7CiAgICB9CgogICAgaWYoX3ZhbHVlID49IDEwIGV0aGVyICYmIF92YWx1ZSA8IDEwMCBldGhlcikgewogICAgICByZXR1cm4gY2FsY1ByZXNhbGVEaXNjb3VudChfdmFsdWUsIDMpOwogICAgfQoKICAgIGlmKF92YWx1ZSA+PSAxMDAgZXRoZXIgJiYgX3ZhbHVlIDwgMTAwMCBldGhlcikgewogICAgICByZXR1cm4gY2FsY1ByZXNhbGVEaXNjb3VudChfdmFsdWUsIDUpOwogICAgfQoKICAgIGlmKF92YWx1ZSA+PSAxMDAwIGV0aGVyKSB7CiAgICAgIHJldHVybiBjYWxjUHJlc2FsZURpc2NvdW50KF92YWx1ZSwgMTApOwogICAgfQogIH0KCmZ1bmN0aW9uIGdldFRpbWVCb251cyh1aW50IHRpbWUpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgaWYgKHRpbWUgPCBzdGFydFRpbWUgKyAxIHdlZWtzKSByZXR1cm4gMjAwOwogICAgICAgIGlmICh0aW1lIDwgc3RhcnRUaW1lICsgMiB3ZWVrcykgcmV0dXJuIDE1MDsKICAgICAgICBpZiAodGltZSA8IHN0YXJ0VGltZSArIDMgd2Vla3MpIHJldHVybiAxMDA7CiAgICAgICAgaWYgKHRpbWUgPCBzdGFydFRpbWUgKyA0IHdlZWtzKSByZXR1cm4gNTA7CiAgICAgICAgcmV0dXJuIDA7CiAgICB9CgogIGZ1bmN0aW9uIGdldFRvdGFsKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBfZWxjVmFsdWUgPSBfdmFsdWUgKiB0b2tlbnNQZXJFdGg7CiAgICB1aW50MjU2IF9ib251cyA9IGdldEJvbnVzKF9lbGNWYWx1ZSwgZWxjLnRvdGFsU3VwcGx5KCkgLSBwcmVzYWxlU29sZCk7CgogICAgcmV0dXJuIF9lbGNWYWx1ZSArIF9ib251czsKICB9CgoKICBmdW5jdGlvbiBnZXRCb251cyh1aW50MjU2IF9lbGNWYWx1ZSwgdWludDI1NiBfc29sZCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTZbOF0gbWVtb3J5IF9ib251c1BhdHRlcm4gPSBbIHVpbnQyNTYoMTUwKSwgMTMwLCAxMTAsIDkwLCA3MCwgNTAsIDMwLCAxMCBdOwogICAgdWludDI1NiBfc3RlcCA9ICh0b2tlbnNGb3JTYWxlIC0gcHJlc2FsZVNvbGQpIC8gMTA7CiAgICB1aW50MjU2IF9ib251cyA9IDA7CgogICAgZm9yKHVpbnQ4IGkgPSAwOyBpIDwgX2JvbnVzUGF0dGVybi5sZW5ndGg7ICsraSkgewogICAgICB1aW50MjU2IF9taW4gPSBfc3RlcCAqIGk7CiAgICAgIHVpbnQyNTYgX21heCA9IF9zdGVwICogKGkgKyAxKTsKICAgICAgaWYoX3NvbGQgPj0gX21pbiAmJiBfc29sZCA8IF9tYXgpIHsKICAgICAgICB1aW50MjU2IF9ib251c1BhcnQgPSBtaW4oX2VsY1ZhbHVlLCBfbWF4IC0gX3NvbGQpOwogICAgICAgIF9ib251cyArPSBfYm9udXNQYXJ0ICogX2JvbnVzUGF0dGVybltpXSAvIDEwMDA7CiAgICAgICAgX2VsY1ZhbHVlIC09IF9ib251c1BhcnQ7CiAgICAgICAgX3NvbGQgICs9IF9ib251c1BhcnQ7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gX2JvbnVzOwogIH0KCgogIC8vIFByaXZlbGVnZWQgZnVuY3Rpb25zCiAgLy8gPT09PT09PT09PT09PT09PT09PT0KCiAgZnVuY3Rpb24gbWludEZvckVhcmx5SW52ZXN0b3JzKGFkZHJlc3NbXSBfaW52ZXN0b3JzLCB1aW50MjU2W10gX3ZhbHVlcykgZXh0ZXJuYWwgdGVhbU9ubHkgewogICAgcmVxdWlyZShfaW52ZXN0b3JzLmxlbmd0aCA9PSBfdmFsdWVzLmxlbmd0aCk7CiAgICBmb3IgKHVpbnQyNTYgaSA9IDA7IGkgPCBfaW52ZXN0b3JzLmxlbmd0aDsgKytpKSB7CiAgICAgIG1pbnRQcmVzYWxlVG9rZW5zKF9pbnZlc3RvcnNbaV0sIF92YWx1ZXNbaV0pOwogICAgfQogIH0KCgogIGZ1bmN0aW9uIG1pbnRGb3IoYWRkcmVzcyBfaW52ZXN0b3IsIHVpbnQyNTYgX2VsY1ZhbHVlKSBleHRlcm5hbCB0ZWFtT25seSB7CiAgICByZXF1aXJlKGljb1N0YXRlICE9IEljb1N0YXRlLkZpbmlzaGVkKTsKICAgIHJlcXVpcmUoZWxjLnRvdGFsU3VwcGx5KCkgKyBfZWxjVmFsdWUgPD0gdG9rZW5zRm9yU2FsZSk7CgogICAgZWxjLm1pbnQoX2ludmVzdG9yLCBfZWxjVmFsdWUpOwogIH0KCgogIGZ1bmN0aW9uIHdpdGhkcmF3RXRoZXIodWludDI1NiBfdmFsdWUpIGV4dGVybmFsIHRlYW1Pbmx5IHsKICAgIHRlYW0udHJhbnNmZXIoX3ZhbHVlKTsKICB9CgoKICAvLyBTYXZlIHRva2VucyBmcm9tIGNvbnRyYWN0CiAgZnVuY3Rpb24gd2l0aGRyYXdUb2tlbihhZGRyZXNzIF90b2tlbkNvbnRyYWN0LCB1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwgdGVhbU9ubHkgewogICAgRVJDMjAgX3Rva2VuID0gRVJDMjAoX3Rva2VuQ29udHJhY3QpOwogICAgX3Rva2VuLnRyYW5zZmVyKHRlYW0sIF92YWx1ZSk7CiAgfQoKCiAgZnVuY3Rpb24gd2l0aGRyYXdUb2tlbkZyb21FbGMoYWRkcmVzcyBfdG9rZW5Db250cmFjdCwgdWludDI1NiBfdmFsdWUpIGV4dGVybmFsIHRlYW1Pbmx5IHsKICAgIGVsYy53aXRoZHJhd1Rva2VuKF90b2tlbkNvbnRyYWN0LCB0ZWFtLCBfdmFsdWUpOwogIH0KCgogIC8vIElDTyBzdGF0ZSBtYW5hZ2VtZW50OiBzdGFydCAvIHBhdXNlIC8gZmluaXNoCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgZnVuY3Rpb24gc3RhcnRJY28oKSBleHRlcm5hbCB0ZWFtT25seSB7CiAgICByZXF1aXJlKGljb1N0YXRlID09IEljb1N0YXRlLlByZXNhbGUgfHwgaWNvU3RhdGUgPT0gSWNvU3RhdGUuUGF1c2VkKTsKICAgIGljb1N0YXRlID0gSWNvU3RhdGUuUnVubmluZzsKICAgIFJ1bkljbygpOwogIH0KCgogIGZ1bmN0aW9uIHBhdXNlSWNvKCkgZXh0ZXJuYWwgdGVhbU9ubHkgewogICAgcmVxdWlyZShpY29TdGF0ZSA9PSBJY29TdGF0ZS5SdW5uaW5nKTsKICAgIGljb1N0YXRlID0gSWNvU3RhdGUuUGF1c2VkOwogICAgUGF1c2VJY28oKTsKICB9CgoKICBmdW5jdGlvbiBmaW5pc2hJY28oYWRkcmVzcyBfdGVhbSwgYWRkcmVzcyBfZm91bmRhdGlvbiwgYWRkcmVzcyBfYWR2aXNvcnMsIGFkZHJlc3MgX2JvdW50eSkgZXh0ZXJuYWwgdGVhbU9ubHkgewogICAgcmVxdWlyZShpY29TdGF0ZSA9PSBJY29TdGF0ZS5SdW5uaW5nIHx8IGljb1N0YXRlID09IEljb1N0YXRlLlBhdXNlZCk7CgogICAgaWNvU3RhdGUgPSBJY29TdGF0ZS5GaW5pc2hlZDsKICAgIHVpbnQyNTYgX3RlYW1GdW5kID0gZWxjLnRvdGFsU3VwcGx5KCkgKiAyIC8gMjsKCiAgICB1aW50MjU2IF9kZW4gPSAxMDAwMDsKICAgIGVsYy5taW50KF90ZWFtLCBfdGVhbUZ1bmQgKiA0MDAwIC8gX2Rlbik7CiAgICBlbGMubWludChfZm91bmRhdGlvbiwgX3RlYW1GdW5kICogNDAwMCAvIF9kZW4pOwogICAgZWxjLm1pbnQoX2Fkdmlzb3JzLCBfdGVhbUZ1bmQgKiAxMDAwIC8gX2Rlbik7CiAgICBlbGMubWludChfYm91bnR5LCBfdGVhbUZ1bmQgICogMTAwMCAvIF9kZW4pOwoKICAgIGVsYy5kZWZyb3N0KCk7CgogICAgRmluaXNoSWNvKF90ZWFtLCBfZm91bmRhdGlvbiwgX2Fkdmlzb3JzLCBfYm91bnR5KTsKICB9CgoKICAvLyBQcml2YXRlIGZ1bmN0aW9ucwogIC8vID09PT09PT09PT09PT09PT09CgogIGZ1bmN0aW9uIG1pbnRQcmVzYWxlVG9rZW5zKGFkZHJlc3MgX2ludmVzdG9yLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgewogICAgcmVxdWlyZShpY29TdGF0ZSA9PSBJY29TdGF0ZS5QcmVzYWxlKTsKICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CgogICAgdWludDI1NiBfZWxjVmFsdWUgPSBnZXRQcmVzYWxlVG90YWwoX3ZhbHVlKTsKCiAgICB1aW50MjU2IHRpbWVCb251c0Ftb3VudCA9IF9lbGNWYWx1ZSAqIGdldFRpbWVCb251cyhub3cpIC8gMTAwMDsKCiAgICAgX2VsY1ZhbHVlICs9IHRpbWVCb251c0Ftb3VudDsKCiAgICByZXF1aXJlKGVsYy50b3RhbFN1cHBseSgpICsgX2VsY1ZhbHVlIDw9IHRva2Vuc0ZvclNhbGUpOwoKICAgIGVsYy5taW50KF9pbnZlc3RvciwgX2VsY1ZhbHVlKTsKICAgIHByZXNhbGVTb2xkICs9IF9lbGNWYWx1ZTsKICB9CgoKICBmdW5jdGlvbiBjYWxjUHJlc2FsZURpc2NvdW50KHVpbnQyNTYgX3ZhbHVlLCB1aW50MjU2IF9wZXJjZW50KSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gX3ZhbHVlICogdG9rZW5zUGVyRXRoICogMTAwIC8gKDEwMCAtIF9wZXJjZW50KTsKICB9CgogIGZ1bmN0aW9uIG1pbih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBidXkoYWRkcmVzcyBfaW52ZXN0b3IsIHVpbnQyNTYgX3ZhbHVlKSBpbnRlcm5hbCB7CiAgICB1aW50MjU2IF90b3RhbCA9IGdldFRvdGFsKF92YWx1ZSk7CgogICAgcmVxdWlyZShlbGMudG90YWxTdXBwbHkoKSArIF90b3RhbCA8PSB0b2tlbnNGb3JTYWxlKTsKCiAgICBlbGMubWludChfaW52ZXN0b3IsIF90b3RhbCk7CiAgfQp9CgpsaWJyYXJ5IE1hdGggewogIGZ1bmN0aW9uIG1heDY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW42NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtYXgyNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQp9CgoKLy8gQHRpdGxlIFNhZmVNYXRoICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKIApsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKCi8vIEB0aXRsZSBFUkMyMEJhc2ljICAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZSAgKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAKY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovLyAgQHRpdGxlIEVSQzIwIGludGVyZmFjZSAgKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKIApjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8vIEB0aXRsZSBCYXNpYyB0b2tlbiAgKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLgogCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLy8gQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcyAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4gICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCiAgICAvLyBTYWZlTWF0aC5zdWIgd2lsbCB0aHJvdyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJhbGFuY2UuCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8vIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLgogIC8vIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9Cgp9CgovLwovLyBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KLy8KLy8gQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCi8vIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCi8vIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKIApjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKCiAgIC8vCiAgIC8vIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAvLyBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgLy8gQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgIC8vKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJyZWQKICAgCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoKICAgIHVpbnQyNTYgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldAogICAgLy8gcmVxdWlyZSAoX3ZhbHVlIDw9IF9hbGxvd2FuY2UpOwoKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8KICAgLy8gQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgIC8vCiAgIC8vIEJld2FyZSB0aGF0IGNoYW5naW5nIGFuIGFsbG93YW5jZSB3aXRoIHRoaXMgbWV0aG9kIGJyaW5ncyB0aGUgcmlzayB0aGF0IHNvbWVvbmUgbWF5IHVzZSBib3RoIHRoZSBvbGQKICAgLy8gYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAvLyByYWNlIGNvbmRpdGlvbiBpcyB0byBmaXJzdCByZWR1Y2UgdGhlIHNwZW5kZXIncyBhbGxvd2FuY2UgdG8gMCBhbmQgc2V0IHRoZSBkZXNpcmVkIHZhbHVlIGFmdGVyd2FyZHM6CiAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgIC8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8vIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgLy8gQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAvLyBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgLy8gQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmeWluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgogICAKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKIC8vIGFwcHJvdmUgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFsbG93ZWRbX3NwZW5kZXJdID09IDAuIFRvIGluY3JlbWVudAogICAvLyBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbAogICAvLyB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgIC8vIEZyb20gTW9ub2xpdGhEQU8gVG9rZW4uc29sCiAgIAogICAKICAgCiAgCiAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkKICAgIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkKICAgIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfSBlbHNlIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKfQoKY29udHJhY3QgRUxDIGlzIFN0YW5kYXJkVG9rZW4gewoKICAvLyBDb25zdGFudHMKICAvLyA9PT09PT09PT0KCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkVsY29pbiBUb2tlbiI7CiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiRUxDIjsKICB1aW50OCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKICB1aW50MjU2IHB1YmxpYyB0b2tlbkxpbWl0OwoKCiAgLy8gU3RhdGUgdmFyaWFibGVzCiAgLy8gPT09PT09PT09PT09PT09CgogIGFkZHJlc3MgcHVibGljIGljbzsKICBtb2RpZmllciBpY29Pbmx5IHsgcmVxdWlyZShtc2cuc2VuZGVyID09IGljbyk7IF87IH0KCiAgLy8gVG9rZW5zIGFyZSBmcm96ZW4gdW50aWwgSUNPIGVuZHMuCiAgYm9vbCBwdWJsaWMgdG9rZW5zQXJlRnJvemVuID0gdHJ1ZTsKCgogIC8vIENvbnN0cnVjdG9yCiAgLy8gPT09PT09PT09PT0KCiAgZnVuY3Rpb24gRUxDKGFkZHJlc3MgX2ljbywgdWludDI1NiBfdG9rZW5MaW1pdCkgcHVibGljIHsKICAgIGljbyA9IF9pY287CiAgICB0b2tlbkxpbWl0ID0gX3Rva2VuTGltaXQ7CiAgfQoKCiAgLy8gUHJpdmVsZWdlZCBmdW5jdGlvbnMKICAvLyA9PT09PT09PT09PT09PT09PT09PQoKICAvLyBNaW50IGZldyB0b2tlbnMgYW5kIHRyYW5zZmVyIHRoZW0gdG8gc29tZSBhZGRyZXNzLgogIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfaG9sZGVyLCB1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwgaWNvT25seSB7CiAgICByZXF1aXJlKF9ob2xkZXIgIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSAhPSAwKTsKICAgIHJlcXVpcmUodG90YWxTdXBwbHkgKyBfdmFsdWUgPD0gdG9rZW5MaW1pdCk7CgogICAgYmFsYW5jZXNbX2hvbGRlcl0gKz0gX3ZhbHVlOwogICAgdG90YWxTdXBwbHkgKz0gX3ZhbHVlOwogICAgVHJhbnNmZXIoMHgwLCBfaG9sZGVyLCBfdmFsdWUpOwogIH0KCgogIC8vIEFsbG93IHRva2VuIHRyYW5zZmVyLgogIGZ1bmN0aW9uIGRlZnJvc3QoKSBleHRlcm5hbCBpY29Pbmx5IHsKICAgIHRva2Vuc0FyZUZyb3plbiA9IGZhbHNlOwogIH0KCgogIC8vIFNhdmUgdG9rZW5zIGZyb20gY29udHJhY3QKICBmdW5jdGlvbiB3aXRoZHJhd1Rva2VuKGFkZHJlc3MgX3Rva2VuQ29udHJhY3QsIGFkZHJlc3Mgd2hlcmUsIHVpbnQyNTYgX3ZhbHVlKSBleHRlcm5hbCBpY29Pbmx5IHsKICAgIEVSQzIwIF90b2tlbiA9IEVSQzIwKF90b2tlbkNvbnRyYWN0KTsKICAgIF90b2tlbi50cmFuc2Zlcih3aGVyZSwgX3ZhbHVlKTsKICB9CgoKICAvLyBFUkMyMCBmdW5jdGlvbnMKICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09CgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKCF0b2tlbnNBcmVGcm96ZW4pOwogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICB9CgoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZSghdG9rZW5zQXJlRnJvemVuKTsKICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICB9CgoKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZSghdG9rZW5zQXJlRnJvemVuKTsKICAgIHJldHVybiBzdXBlci5hcHByb3ZlKF9zcGVuZGVyLCBfdmFsdWUpOwogIH0KfQ=='.
	

]
