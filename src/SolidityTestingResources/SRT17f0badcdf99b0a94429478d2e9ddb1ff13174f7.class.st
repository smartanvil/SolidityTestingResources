Class {
	#name : #SRT17f0badcdf99b0a94429478d2e9ddb1ff13174f7,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT17f0badcdf99b0a94429478d2e9ddb1ff13174f7 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLyoqICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IgKi8KbGlicmFyeSBTYWZlTWF0aCB7CgogIC8qKgogICogQGRldiBNdWx0aXBsaWVzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICAvKiogICogQGRldiBJbnRlZ2VyIGRpdmlzaW9uIG9mIHR3byBudW1iZXJzLCB0cnVuY2F0aW5nIHRoZSBxdW90aWVudC4gICovCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICAvKiogICogQGRldiBTdWJzdHJhY3RzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cgKGkuZS4gaWYgc3VidHJhaGVuZCBpcyBncmVhdGVyIHRoYW4gbWludWVuZCkuICAqLwogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIC8qKgogICogQGRldiBBZGRzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIHVpbnQyNTYgdG90YWxTdXBwbHlfOwoKICAvKioKICAqIEBkZXYgdG90YWwgbnVtYmVyIG9mIHRva2VucyBpbiBleGlzdGVuY2UKICAqLwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIHRvdGFsU3VwcGx5XzsKICB9CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwoKfQoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBAZGV2IEltcGxlbWVudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFyZCB0b2tlbi4KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgaW50ZXJuYWwgYWxsb3dlZDsKCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgCiAgLyoqCiAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICoKICAgKiBCZXdhcmUgdGhhdCBjaGFuZ2luZyBhbiBhbGxvd2FuY2Ugd2l0aCB0aGlzIG1ldGhvZCBicmluZ3MgdGhlIHJpc2sgdGhhdCBzb21lb25lIG1heSB1c2UgYm90aCB0aGUgb2xkCiAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAqIHJhY2UgY29uZGl0aW9uIGlzIHRvIGZpcnN0IHJlZHVjZSB0aGUgc3BlbmRlcidzIGFsbG93YW5jZSB0byAwIGFuZCBzZXQgdGhlIGRlc2lyZWQgdmFsdWUgYWZ0ZXJ3YXJkczoKICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZnlpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCiAgLyoqCiAgICogQGRldiBJbmNyZWFzZSB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqCiAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gaW5jcmVtZW50CiAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9hZGRlZFZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGluY3JlYXNlIHRoZSBhbGxvd2FuY2UgYnkuCiAgICovCiAgZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXS5hZGQoX2FkZGVkVmFsdWUpOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBEZWNyZWFzZSB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqCiAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gZGVjcmVtZW50CiAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zdWJ0cmFjdGVkVmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gZGVjcmVhc2UgdGhlIGFsbG93YW5jZSBieS4KICAgKi8KICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfSBlbHNlIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7ICAgICAgICAgICAgICAgIC8qXiAyMyBeKi8KICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgIAp9CmNvbnRyYWN0IGtuZiBpcyBTdGFuZGFyZFRva2VuIHsKICBzdHJpbmcgcHVibGljIG5hbWU7IC8vIHNvbGl1bS1kaXNhYmxlLWxpbmUgdXBwZXJjYXNlCiAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7IC8vIHNvbGl1bS1kaXNhYmxlLWxpbmUgdXBwZXJjYXNlCiAgdWludDggcHVibGljIGRlY2ltYWxzOyAvLyBzb2xpdW0tZGlzYWJsZS1saW5lIHVwcGVyY2FzZQogIHVpbnQyNTYgRHJvcGVkVGhpc1dlZWs7CiAgdWludDI1NiBsYXN0V2VlazsKICB1aW50MjU2IGRlY2ltYXRlOwogIHVpbnQyNTYgd2Vla2x5X2xpbWl0OwogIHVpbnQyNTYgYWlyX2Ryb3A7CiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGFpcmRyb3BlZDsKICBhZGRyZXNzIGNvbnRyb2w7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CiAgZnVuY3Rpb24gYXZhaWxhYmxlU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGJhbGFuY2VzW293bmVyXTsKICB9CiAgCiAgbW9kaWZpZXIgb25seUNvbnRyb2woKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gY29udHJvbCk7CiAgICBfOwogIH0KICAKICBmdW5jdGlvbiBjaGFuZ2VOYW1lKHN0cmluZyBuZXdOYW1lKSBvbmx5Q29udHJvbCBwdWJsaWMgewogICAgbmFtZSA9IG5ld05hbWU7CiAgfQogIAogIGZ1bmN0aW9uIFJlY29yZFRyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgewogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKCWlmKGFpcmRyb3BlZFtfZnJvbV0gPT0gMCkgYWlyZHJvcGVkW19mcm9tXSA9IDE7CglpZihhaXJkcm9wZWRbX3RvXSA9PSAwKSBhaXJkcm9wZWRbX3RvXSA9IDE7CglpZiAodGhpc3dlZWsoKSA+IGxhc3RXZWVrKSB7CgkgIGxhc3RXZWVrID0gdGhpc3dlZWsoKTsKCSAgRHJvcGVkVGhpc1dlZWsgPSAwOwoJfQogIH0KICAKICAvKioqICovCiAgZnVuY3Rpb24gQXdhcmQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3YpIHB1YmxpYyBvbmx5Q29udHJvbCB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCXJlcXVpcmUoX3YgPD0gYmFsYW5jZXNbb3duZXJdKTsKCWJhbGFuY2VzW190b10gKz0gX3Y7CgliYWxhbmNlc1tvd25lcl0gLT0gX3Y7CglSZWNvcmRUcmFuc2Zlcihvd25lciwgX3RvLCBfdik7CiAgfQogIAogIC8qKiogQHBhcmFtIG5ld093bmVyICBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8KICAgIG93bmVyIHRva2VucyBnbyB3aXRoIG93bmVyLCBhaXJkcm9wcyBhbHdheXMgZnJvbSBvd25lciBwb29sICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlDb250cm9sIHsKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CglPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwoJb3duZXIgPSBuZXdPd25lcjsKICB9IC8qKiogQHBhcmFtIG5ld0NvbnRyb2wgIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIGNvbnRyb2wgdG8uICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckNvbnRyb2woYWRkcmVzcyBuZXdDb250cm9sKSBwdWJsaWMgb25seUNvbnRyb2wgewogICAgcmVxdWlyZShuZXdDb250cm9sICE9IGFkZHJlc3MoMCkgJiYgbmV3Q29udHJvbCAhPSBhZGRyZXNzKHRoaXMpKTsgIAoJY29udHJvbCA9bmV3Q29udHJvbDsKIH0gLyppbml0IGNvbnRyYWN0IGl0c2VsZiBhcyBvd25lciBvZiBhbGwgaXRzIHRva2VucywgYWxsIHRva2VucyBzZXQnJycnJ3RvIGFpciBkcm9wLCBhbmQgYWx3YXlzIGNvbWVzIGZvcm0gb3duZXIncyBidWNrZXQgCiAgIC4rLS0tLS0tKyAgICAgKy0tLS0tLSsgICAgICstLS0tLS0rICAgICArLS0tLS0tKyAgICAgKy0tLS0tLSsuICAgICA9PT09PT09PT09PT09PT09PT09ID09PT09PT09PT09PT09PT09PT0KIC4nIHwgICAgLid8ICAgIC98ICAgICAvfCAgICAgfCAgICAgIHwgICAgIHxcICAgICB8XCAgICB8YC4gICAgfCBgLiAgICovZnVuY3Rpb24ga25mKHVpbnQyNTYgX2luaXRpYWxBbW91bnQsLyoKKy0tLSstLSsnICB8ICAgKy0rLS0tLSsgfCAgICAgKy0tLS0tLSsgICAgIHwgKy0tLS0rLSsgICB8ICBgKy0tKy0tLSsgICovc3RyaW5nIF90b2tlbk5hbWUsIHVpbnQ4IF9kZWNpbWFsVW5pdHMsLyoKfCAgIHwgIHwgICB8ICAgfCB8ICBLIHwgfCAgICAgfCAgTiAgIHwgICAgIHwgfCBGICB8IHwgICB8ICAgfCAgfCAgIHwgICovc3RyaW5nIF90b2tlblN5bWJvbCkgcHVibGljIHsgY29udHJvbCA9IG1zZy5zZW5kZXI7IC8qCnwgICwrLS0rLS0tKyAgIHwgKy0tLS0rLSsgICAgICstLS0tLS0rICAgICArLSstLS0tKyB8ICAgKy0tLSstLSsgICB8ICAqL293bmVyID0gYWRkcmVzcyh0aGlzKTtPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzKDApLCBvd25lcik7LyoKfC4nICAgIHwgLicgICAgfC8gICAgIHwvICAgICAgfCAgICAgIHwgICAgICBcfCAgICAgXHwgICAgYC4gfCAgIGAuIHwgICovdG90YWxTdXBwbHlfID0gX2luaXRpYWxBbW91bnQ7IGJhbGFuY2VzW293bmVyXSA9IHRvdGFsU3VwcGx5XzsgLyoKKy0tLS0tLSsnICAgICAgKy0tLS0tLSsgICAgICAgKy0tLS0tLSsgICAgICAgKy0tLS0tLSsgICAgICBgKy0tLS0tLSsgICovUmVjb3JkVHJhbnNmZXIoMHgwLCBvd25lciwgdG90YWxTdXBwbHlfKTsKICAgIHN5bWJvbCA9IF90b2tlblN5bWJvbDsgICAKCW5hbWUgPSBfdG9rZW5OYW1lOwogICAgZGVjaW1hbHMgPSBfZGVjaW1hbFVuaXRzOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCWRlY2ltYXRlID0gKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKTsKCXdlZWtseV9saW1pdCA9IDEwMDAwMCAqIGRlY2ltYXRlOwoJYWlyX2Ryb3AgPSAxMDE4ICogZGVjaW1hdGU7CQogIH0gLyoqIHJlc2N1ZSBsb3N0IGVyYzIwIGtpbiAqKi8KICBmdW5jdGlvbiB0cmFuc2ZlcmVyYzIwKGFkZHJlc3MgdG9rZW5BZGRyZXNzLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGV4dGVybmFsIG9ubHlDb250cm9sIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoJcmV0dXJuIEVSQzIwKHRva2VuQWRkcmVzcykudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogIH0gLyoqIHRva2VuIG5vIG1vcmUgKiovCiAgZnVuY3Rpb24gZGVzdHJveSgpIG9ubHlDb250cm9sIGV4dGVybmFsIHsKICAgIHJlcXVpcmUob3duZXIgIT0gYWRkcmVzcyh0aGlzKSk7IHNlbGZkZXN0cnVjdChjb250cm9sKTsKICB9ICAKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CglyZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CglpZihiYWxhbmNlc1tfZnJvbV0gPT0gMCkgeyAKICAgICAgdWludDI1NiBxdHkgPSBhdmFpbGFibGVBaXJkcm9wKF9mcm9tKTsKCSAgaWYocXR5ID4gMCkgeyAgLy8gcXR5IGlzIHZhbGlkYXRlZCBxdHkgYWdhaW5zdCBiYWxhbmNlcyBpbiBhaXJkcm9wCgkgICAgYmFsYW5jZXNbb3duZXJdIC09IHF0eTsKCSAgICBiYWxhbmNlc1tfdG9dICs9IHF0eTsKCQlhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwoJCVJlY29yZFRyYW5zZmVyKG93bmVyLCBfZnJvbSwgX3ZhbHVlKTsKCQlSZWNvcmRUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwoJCURyb3BlZFRoaXNXZWVrICs9IHF0eTsKCQlyZXR1cm4gdHJ1ZTsKCSAgfQkKCSAgcmV2ZXJ0KCk7IC8vIG5vIGdvCgl9CiAgCiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1tfZnJvbV0pOwogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgUmVjb3JkVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKCXJldHVybiB0cnVlOwogIH0gIAogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoJLy8gaWYgbm8gYmFsYW5jZSwgc2VlIGlmIGVsaWdpYmxlIGZvciBhaXJkcm9wIGluc3RlYWQKICAgIGlmKGJhbGFuY2VzW21zZy5zZW5kZXJdID09IDApIHsgCiAgICAgIHVpbnQyNTYgcXR5ID0gYXZhaWxhYmxlQWlyZHJvcChtc2cuc2VuZGVyKTsKCSAgaWYocXR5ID4gMCkgeyAgLy8gcXR5IGlzIHZhbGlkYXRlZCBxdHkgYWdhaW5zdCBiYWxhbmNlcyBpbiBhaXJkcm9wCgkgICAgYmFsYW5jZXNbb3duZXJdIC09IHF0eTsKCSAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSBxdHk7CgkJUmVjb3JkVHJhbnNmZXIob3duZXIsIF90bywgX3ZhbHVlKTsKCQlhaXJkcm9wZWRbbXNnLnNlbmRlcl0gPSAxOwoJCURyb3BlZFRoaXNXZWVrICs9IHF0eTsKCQlyZXR1cm4gdHJ1ZTsKCSAgfQkKCSAgcmV2ZXJ0KCk7IC8vIG5vIGdvCgl9CiAgCiAgICAvLyBleGlzdGluZyBiYWxhbmNlCiAgICBpZihiYWxhbmNlc1ttc2cuc2VuZGVyXSA8IF92YWx1ZSkgcmV2ZXJ0KCk7CglpZihiYWxhbmNlc1tfdG9dICsgX3ZhbHVlIDwgYmFsYW5jZXNbX3RvXSkgcmV2ZXJ0KCk7CgkKICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwoJYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgUmVjb3JkVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwoJcmV0dXJuIHRydWU7CiAgfSAgCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIGJhbGFuY2UgPSBiYWxhbmNlc1t3aG9dOwoJaWYoYmFsYW5jZSA9PSAwKSAKCSAgcmV0dXJuIGF2YWlsYWJsZUFpcmRyb3Aod2hvKTsKCQogICAgcmV0dXJuIGJhbGFuY2U7CiAgfSAgCiAgLyogICogY2hlY2sgdGhlIGZhdWNldCAgKi8gIAogIGZ1bmN0aW9uIGF2YWlsYWJsZUFpcmRyb3AoYWRkcmVzcyB3aG8pIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmKGJhbGFuY2VzW293bmVyXSA9PSAwKSByZXR1cm4gMDsKCWlmKGFpcmRyb3BlZFt3aG9dID4gMCkgcmV0dXJuIDA7IC8vIGFscmVhZHkgc2VlbiB0aGlzCgkKICAgIGlmICh0aGlzd2VlaygpID4gbGFzdFdlZWsgfHwgRHJvcGVkVGhpc1dlZWsgPCB3ZWVrbHlfbGltaXQpIHsKCSAgaWYoYmFsYW5jZXNbb3duZXJdID4gYWlyX2Ryb3ApIHJldHVybiBhaXJfZHJvcDsKCSAgZWxzZSByZXR1cm4gYmFsYW5jZXNbb3duZXJdOwoJfQoJcmV0dXJuIDA7CiAgfSAKICBmdW5jdGlvbiB0aGlzd2VlaygpIGludGVybmFsIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIG5vdyAvIDEgd2Vla3M7CiAgfSAgCiAgZnVuY3Rpb24gdHJhbnNmZXJCYWxhbmNlKGFkZHJlc3MgdXBDb250cmFjdCkgZXh0ZXJuYWwgb25seUNvbnRyb2wgewogICAgcmVxdWlyZSh1cENvbnRyYWN0ICE9IGFkZHJlc3MoMCkgJiYgdXBDb250cmFjdC5zZW5kKHRoaXMuYmFsYW5jZSkpOwogIH0KICBmdW5jdGlvbiAoKSBwYXlhYmxlIHB1YmxpYyB7IH0gICAKfQ=='.
	

]
