Class {
	#name : #SRTb53ac311087965d9e085515efbe1380b2ca4de9a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTb53ac311087965d9e085515efbe1380b2ca4de9a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9Cgpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IFdURSBpcyBFUkMyMCxPd25hYmxlewoJdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgoJLy90aGUgYmFzZSBpbmZvIG9mIHRoZSB0b2tlbgoJc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lPSJXSVRFRSI7CglzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbD0iV1RFIjsKCXN0cmluZyBwdWJsaWMgY29uc3RhbnQgdmVyc2lvbiA9ICIxLjAiOwoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKCgoKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IE1BWF9QUklWQVRFX0ZVTkRJTkdfU1VQUExZPTY0ODAwMDAwMCoxMCoqZGVjaW1hbHM7CgoKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IENPT1BFUkFURV9SRVdBUkQ9MjcwMDAwMDAwKjEwKipkZWNpbWFsczsKCgoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgQURWSVNPUl9SRVdBUkQ9OTAwMDAwMDAqMTAqKmRlY2ltYWxzOwoKCgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBDT01NT05fV0lUSERSQVdfU1VQUExZPU1BWF9QUklWQVRFX0ZVTkRJTkdfU1VQUExZK0NPT1BFUkFURV9SRVdBUkQrQURWSVNPUl9SRVdBUkQ7CgoKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IFBBUlRORVJfU1VQUExZPTI3MDAwMDAwMCoxMCoqZGVjaW1hbHM7CgoKCQoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgTUFYX1BVQkxJQ19GVU5ESU5HX1NVUFBMWT0xODAwMDAwMDAqMTAqKmRlY2ltYWxzOwoKCQoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgVEVBTV9LRUVQSU5HPTM0MjAwMDAwMCoxMCoqZGVjaW1hbHM7CgoJCgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBNQVhfU1VQUExZPUNPTU1PTl9XSVRIRFJBV19TVVBQTFkrUEFSVE5FUl9TVVBQTFkrTUFYX1BVQkxJQ19GVU5ESU5HX1NVUFBMWStURUFNX0tFRVBJTkc7CgoKCXVpbnQyNTYgcHVibGljIHJhdGU7CgoKCW1hcHBpbmcoYWRkcmVzcz0+dWludDI1NikgcHVibGljIHB1YmxpY0Z1bmRpbmdXaGl0ZUxpc3Q7CgoJbWFwcGluZyhhZGRyZXNzPT51aW50MjU2KSBwdWJsaWMgIHVzZXJQdWJsaWNGdW5kaW5nRXRoQ291bnRNYXA7CgoJdWludDI1NiBwdWJsaWMgcHVibGljRnVuZGluZ1BlcnNvbmFsRXRoTGltaXQ7CgoKCXVpbnQyNTYgcHVibGljIHRvdGFsQ29tbW9uV2l0aGRyYXdTdXBwbHk7CgoJdWludDI1NiBwdWJsaWMgdG90YWxQYXJ0bmVyV2l0aGRyYXdTdXBwbHk7CgoKCXVpbnQyNTYgcHVibGljIHRvdGFsUHVibGljRnVuZGluZ1N1cHBseTsKCglib29sIHB1YmxpYyBoYXNUZWFtS2VlcGluZ1dpdGhkcmF3OwoKCgl1aW50MjU2IHB1YmxpYyBzdGFydFRpbWU7Cgl1aW50MjU2IHB1YmxpYyBlbmRUaW1lOwoJCgogICAgc3RydWN0IGVwb2NoICB7CiAgICAgICAgdWludDI1NiBsb2NrRW5kVGltZTsKICAgICAgICB1aW50MjU2IGxvY2tBbW91bnQ7CiAgICB9CgogICAgbWFwcGluZyhhZGRyZXNzPT5lcG9jaFtdKSBwdWJsaWMgbG9ja0Vwb2Noc01hcDsKCSAKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgltYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgkKCglmdW5jdGlvbiBXVEUoKXsKCQl0b3RhbFN1cHBseSA9IDAgOwoJCXRvdGFsQ29tbW9uV2l0aGRyYXdTdXBwbHk9MDsKCQl0b3RhbFBhcnRuZXJXaXRoZHJhd1N1cHBseT0wOwoJCXRvdGFsUHVibGljRnVuZGluZ1N1cHBseSA9IDA7CgkJaGFzVGVhbUtlZXBpbmdXaXRoZHJhdz1mYWxzZTsKCgoJCXN0YXJ0VGltZSA9IDE1MjUxMDQwMDA7CgkJZW5kVGltZSA9IDE1MjUxMDQwMDA7CgkJcmF0ZT0xODMwMDsKCQlwdWJsaWNGdW5kaW5nUGVyc29uYWxFdGhMaW1pdCA9IDEwMDAwMDAwMDAwMDAwMDAwMDAwOwoJfQoKCWV2ZW50IENyZWF0ZVdURShhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CgoKCW1vZGlmaWVyIG5vdFJlYWNoVG90YWxTdXBwbHkodWludDI1NiBfdmFsdWUsdWludDI1NiBfcmF0ZSl7CgkJYXNzZXJ0KE1BWF9TVVBQTFk+PXRvdGFsU3VwcGx5LmFkZChfdmFsdWUubXVsKF9yYXRlKSkpOwoJCV87Cgl9CgoJbW9kaWZpZXIgbm90UmVhY2hQdWJsaWNGdW5kaW5nU3VwcGx5KHVpbnQyNTYgX3ZhbHVlLHVpbnQyNTYgX3JhdGUpewoJCWFzc2VydChNQVhfUFVCTElDX0ZVTkRJTkdfU1VQUExZPj10b3RhbFB1YmxpY0Z1bmRpbmdTdXBwbHkuYWRkKF92YWx1ZS5tdWwoX3JhdGUpKSk7CgkJXzsKCX0KCgltb2RpZmllciBub3RSZWFjaENvbW1vbldpdGhkcmF3U3VwcGx5KHVpbnQyNTYgX3ZhbHVlLHVpbnQyNTYgX3JhdGUpewoJCWFzc2VydChDT01NT05fV0lUSERSQVdfU1VQUExZPj10b3RhbENvbW1vbldpdGhkcmF3U3VwcGx5LmFkZChfdmFsdWUubXVsKF9yYXRlKSkpOwoJCV87Cgl9CgoKCW1vZGlmaWVyIG5vdFJlYWNoUGFydG5lcldpdGhkcmF3U3VwcGx5KHVpbnQyNTYgX3ZhbHVlLHVpbnQyNTYgX3JhdGUpewoJCWFzc2VydChQQVJUTkVSX1NVUFBMWT49dG90YWxQYXJ0bmVyV2l0aGRyYXdTdXBwbHkuYWRkKF92YWx1ZS5tdWwoX3JhdGUpKSk7CgkJXzsKCX0KCgoJbW9kaWZpZXIgYXNzZXJ0RmFsc2UoYm9vbCB3aXRoZHJhd1N0YXR1cyl7CgkJYXNzZXJ0KCF3aXRoZHJhd1N0YXR1cyk7CgkJXzsKCX0KCgltb2RpZmllciBub3RCZWZvcmVUaW1lKHVpbnQyNTYgdGFyZ2V0VGltZSl7CgkJYXNzZXJ0KG5vdz50YXJnZXRUaW1lKTsKCQlfOwoJfQoKCW1vZGlmaWVyIG5vdEFmdGVyVGltZSh1aW50MjU2IHRhcmdldFRpbWUpewoJCWFzc2VydChub3c8PXRhcmdldFRpbWUpOwoJCV87Cgl9CgoJZnVuY3Rpb24gZXRoZXJQcm9jZWVkcygpIGV4dGVybmFsCgkJb25seU93bmVyCgoJewoJCWlmKCFtc2cuc2VuZGVyLnNlbmQodGhpcy5iYWxhbmNlKSkgcmV2ZXJ0KCk7Cgl9CgoKCglmdW5jdGlvbiBwcm9jZXNzRnVuZGluZyhhZGRyZXNzIHJlY2VpdmVyLHVpbnQyNTYgX3ZhbHVlLHVpbnQyNTYgX3JhdGUpIGludGVybmFsCgkJbm90UmVhY2hUb3RhbFN1cHBseShfdmFsdWUsX3JhdGUpCgl7CgkJdWludDI1NiBhbW91bnQ9X3ZhbHVlLm11bChfcmF0ZSk7CgkJdG90YWxTdXBwbHk9dG90YWxTdXBwbHkuYWRkKGFtb3VudCk7CgkJYmFsYW5jZXNbcmVjZWl2ZXJdICs9YW1vdW50OwoJCUNyZWF0ZVdURShyZWNlaXZlcixhbW91bnQpOwoJCVRyYW5zZmVyKDB4MCwgcmVjZWl2ZXIsIGFtb3VudCk7Cgl9CgoKCglmdW5jdGlvbiBjb21tb25XaXRoZHJhdyh1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwKCQlvbmx5T3duZXIKCQlub3RSZWFjaENvbW1vbldpdGhkcmF3U3VwcGx5KF92YWx1ZSwxKQoKCXsKCQlwcm9jZXNzRnVuZGluZyhtc2cuc2VuZGVyLF92YWx1ZSwxKTsKCgkJdG90YWxDb21tb25XaXRoZHJhd1N1cHBseT10b3RhbENvbW1vbldpdGhkcmF3U3VwcGx5LmFkZChfdmFsdWUpOwoJfQoKCgoJZnVuY3Rpb24gd2l0aGRyYXdUb1RlYW0oKSBleHRlcm5hbAoJCW9ubHlPd25lcgoJCWFzc2VydEZhbHNlKGhhc1RlYW1LZWVwaW5nV2l0aGRyYXcpCgkJbm90QmVmb3JlVGltZSgxNTQ1NzUzNjAwKQoJewoJCXByb2Nlc3NGdW5kaW5nKG1zZy5zZW5kZXIsVEVBTV9LRUVQSU5HLDEpOwoJCWhhc1RlYW1LZWVwaW5nV2l0aGRyYXcgPSB0cnVlOwoJfQoKCglmdW5jdGlvbiB3aXRoZHJhd1RvUGFydG5lcihhZGRyZXNzIF90byx1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwKCQlvbmx5T3duZXIKCQlub3RSZWFjaFBhcnRuZXJXaXRoZHJhd1N1cHBseShfdmFsdWUsMSkKCXsKCQlwcm9jZXNzRnVuZGluZyhfdG8sX3ZhbHVlLDEpOwoJCXRvdGFsUGFydG5lcldpdGhkcmF3U3VwcGx5PXRvdGFsUGFydG5lcldpdGhkcmF3U3VwcGx5LmFkZChfdmFsdWUpOwoJCWxvY2tCYWxhbmNlKF90byxfdmFsdWUsMTUyODQ3MzYwMCk7Cgl9CgoKCWZ1bmN0aW9uICgpIHBheWFibGUgZXh0ZXJuYWwKCQlub3RCZWZvcmVUaW1lKHN0YXJ0VGltZSkKCQlub3RBZnRlclRpbWUoZW5kVGltZSkKCQlub3RSZWFjaFB1YmxpY0Z1bmRpbmdTdXBwbHkobXNnLnZhbHVlLHJhdGUpCgl7CgkJcmVxdWlyZShwdWJsaWNGdW5kaW5nV2hpdGVMaXN0W21zZy5zZW5kZXJdPT0xKTsKCQlyZXF1aXJlKHVzZXJQdWJsaWNGdW5kaW5nRXRoQ291bnRNYXBbbXNnLnNlbmRlcl0uYWRkKG1zZy52YWx1ZSk8PXB1YmxpY0Z1bmRpbmdQZXJzb25hbEV0aExpbWl0KTsKCgkJcHJvY2Vzc0Z1bmRpbmcobXNnLnNlbmRlcixtc2cudmFsdWUscmF0ZSk7CgoJCXVpbnQyNTYgYW1vdW50PW1zZy52YWx1ZS5tdWwocmF0ZSk7CgkJdG90YWxQdWJsaWNGdW5kaW5nU3VwcGx5ID0gdG90YWxQdWJsaWNGdW5kaW5nU3VwcGx5LmFkZChhbW91bnQpOwoKCQl1c2VyUHVibGljRnVuZGluZ0V0aENvdW50TWFwW21zZy5zZW5kZXJdID0gdXNlclB1YmxpY0Z1bmRpbmdFdGhDb3VudE1hcFttc2cuc2VuZGVyXS5hZGQobXNnLnZhbHVlKTsKCX0KCgoKICAJZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgIHJldHVybnMgKGJvb2wpCiAJewoJCXJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoKCQllcG9jaFtdIGVwb2NocyA9IGxvY2tFcG9jaHNNYXBbbXNnLnNlbmRlcl07CgkJdWludDI1NiBuZWVkTG9ja0JhbGFuY2UgPSAwOwoJCWZvcih1aW50MjU2IGkgPSAwO2k8ZXBvY2hzLmxlbmd0aDtpKyspCgkJewoJCQlpZiggbm93IDwgZXBvY2hzW2ldLmxvY2tFbmRUaW1lICkKCQkJewoJCQkJbmVlZExvY2tCYWxhbmNlPW5lZWRMb2NrQmFsYW5jZS5hZGQoZXBvY2hzW2ldLmxvY2tBbW91bnQpOwoJCQl9CgkJfQoKCQlyZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpPj1uZWVkTG9ja0JhbGFuY2UpOwoKCQkvLyBTYWZlTWF0aC5zdWIgd2lsbCB0aHJvdyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJhbGFuY2UuCgkJYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKCQliYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKCQlUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CgkJcmV0dXJuIHRydWU7CiAgCX0KCiAgCWZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgCiAgCXsKCQlyZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAJfQoKCiAgCWZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSAKICAJewoJCXJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoKCQllcG9jaFtdIGVwb2NocyA9IGxvY2tFcG9jaHNNYXBbX2Zyb21dOwoJCXVpbnQyNTYgbmVlZExvY2tCYWxhbmNlID0gMDsKCQlmb3IodWludDI1NiBpID0gMDtpPGVwb2Nocy5sZW5ndGg7aSsrKQoJCXsKCQkJaWYoIG5vdyA8IGVwb2Noc1tpXS5sb2NrRW5kVGltZSApCgkJCXsKCQkJCW5lZWRMb2NrQmFsYW5jZSA9IG5lZWRMb2NrQmFsYW5jZS5hZGQoZXBvY2hzW2ldLmxvY2tBbW91bnQpOwoJCQl9CgkJfQoKCQlyZXF1aXJlKGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKT49bmVlZExvY2tCYWxhbmNlKTsKCgkJdWludDI1NiBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgoJCWJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKCQliYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKCQlhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CgkJVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKCQlyZXR1cm4gdHJ1ZTsKICAJfQoKICAJZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIAogIAl7CgkJYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CgkJQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CgkJcmV0dXJuIHRydWU7CiAgCX0KCiAgCWZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSAKICAJewoJCXJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIAl9CgoKCglmdW5jdGlvbiBsb2NrQmFsYW5jZShhZGRyZXNzIHVzZXIsIHVpbnQyNTYgbG9ja0Ftb3VudCx1aW50MjU2IGxvY2tFbmRUaW1lKSBpbnRlcm5hbAoJewoJCSBlcG9jaFtdIHN0b3JhZ2UgZXBvY2hzID0gbG9ja0Vwb2Noc01hcFt1c2VyXTsKCQkgZXBvY2hzLnB1c2goZXBvY2gobG9ja0VuZFRpbWUsbG9ja0Ftb3VudCkpOwoJfQoKICAgIGZ1bmN0aW9uIGFkZFB1YmxpY0Z1bmRpbmdXaGl0ZUxpc3QoYWRkcmVzc1tdIF9saXN0KSBleHRlcm5hbAogICAgCW9ubHlPd25lcgogICAgewogICAgICAgIHVpbnQyNTYgY291bnQgPSBfbGlzdC5sZW5ndGg7CiAgICAgICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgIAlwdWJsaWNGdW5kaW5nV2hpdGVMaXN0W19saXN0IFtpXV0gPSAxOwogICAgICAgIH0gICAgCQogICAgfQoKCWZ1bmN0aW9uIHJlZnJlc2hSYXRlKHVpbnQyNTYgX3JhdGUpIGV4dGVybmFsCgkJb25seU93bmVyCgl7CgkJcmF0ZT1fcmF0ZTsKCX0KCQogICAgZnVuY3Rpb24gcmVmcmVzaFB1YmxpY0Z1bmRpbmdUaW1lKHVpbnQyNTYgX3N0YXJ0VGltZSx1aW50MjU2IF9lbmRUaW1lKSBleHRlcm5hbAogICAgICAgIG9ubHlPd25lcgogICAgewoJCXN0YXJ0VGltZT1fc3RhcnRUaW1lOwoJCWVuZFRpbWU9X2VuZFRpbWU7CiAgICB9CgogICAgZnVuY3Rpb24gcmVmcmVzaFB1YmxpY0Z1bmRpbmdQZXJzb25hbEV0aExpbWl0ICh1aW50MjU2IF9wdWJsaWNGdW5kaW5nUGVyc29uYWxFdGhMaW1pdCkgIGV4dGVybmFsCiAgICAJb25seU93bmVyCiAgICB7CiAgICAJcHVibGljRnVuZGluZ1BlcnNvbmFsRXRoTGltaXQ9X3B1YmxpY0Z1bmRpbmdQZXJzb25hbEV0aExpbWl0OwogICAgfQoKCSAgCn0='.
	

]
