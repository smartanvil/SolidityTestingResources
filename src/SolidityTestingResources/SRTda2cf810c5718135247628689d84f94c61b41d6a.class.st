Class {
	#name : #SRTda2cf810c5718135247628689d84f94c61b41d6a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTda2cf810c5718135247628689d84f94c61b41d6a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovLyA9PT09IERJU0NMQUlNRVIgPT09PQovLwovLyBFVEhFUkVVTSBJUyBTVElMTCBBTiBFWFBFUkVNRU5UQUwgVEVDSE5PTE9HWS4KLy8gQUxUSE9VR0ggVEhJUyBTTUFSVCBDT05UUkFDVCBXQVMgQ1JFQVRFRCBXSVRIIEdSRUFUIENBUkUgQU5EIElOIFRIRSBIT1BFIE9GIEJFSU5HIFVTRUZVTCwgTk8gR1VBUkFOVEVFUyBPRiBGTEFXTEVTUyBPUEVSQVRJT04gQ0FOIEJFIEdJVkVOLgovLyBJTiBQQVJUSUNVTEFSIC0gU1VCVElMRSBCVUdTLCBIQUNLRVIgQVRUQUNLUyBPUiBNQUxGVU5DVElPTiBPRiBVTkRFUkxZSU5HIFRFQ0hOT0xPR1kgQ0FOIENBVVNFIFVOSU5URU5USU9OQUwgQkVIQVZJT1VSLgovLyBZT1UgQVJFIFNUUk9OR0xZIEVOQ09VUkFHRUQgVE8gU1RVRFkgVEhJUyBTTUFSVCBDT05UUkFDVCBDQVJFRlVMTFkgSU4gT1JERVIgVE8gVU5ERVJTVEFORCBQT1NTSUJMRSBFREdFIENBU0VTIEFORCBSSVNLUy4KLy8gRE9OJ1QgVVNFIFRISVMgU01BUlQgQ09OVFJBQ1QgSUYgWU9VIEhBVkUgU1VCU1RBTlRJQUwgRE9VQlRTIE9SIElGIFlPVSBET04nVCBLTk9XIFdIQVQgWU9VIEFSRSBET0lORy4KLy8KLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQovLyBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsCi8vIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsCi8vIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLAovLyBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLgovLyA9PT09Ci8vCgovLy8gQGF1dGhvciBldGhlcm5pYW4gZm9yIFNhbnRpbWVudCBMTEMKLy8vIEB0aXRsZSAgQ3Jvd2RzYWxlTWludGVyCgpjb250cmFjdCBCYXNlIHsKCiAgICBmdW5jdGlvbiBtYXgodWludCBhLCB1aW50IGIpIHJldHVybnMgKHVpbnQpIHsgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOyB9CiAgICBmdW5jdGlvbiBtaW4odWludCBhLCB1aW50IGIpIHJldHVybnMgKHVpbnQpIHsgcmV0dXJuIGEgPD0gYiA/IGEgOiBiOyB9CgogICAgbW9kaWZpZXIgb25seShhZGRyZXNzIGFsbG93ZWQpIHsKICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBhbGxvd2VkKSB0aHJvdzsKICAgICAgICBfOwogICAgfQoKCiAgICAvLy9AcmV0dXJuIFRydWUgaWYgYF9hZGRyYCBpcyBhIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBpc0NvbnRyYWN0KGFkZHJlc3MgX2FkZHIpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBpZiAoX2FkZHIgPT0gMCkgcmV0dXJuIGZhbHNlOwogICAgICAgIHVpbnQgc2l6ZTsKICAgICAgICBhc3NlbWJseSB7CiAgICAgICAgICAgIHNpemUgOj0gZXh0Y29kZXNpemUoX2FkZHIpCiAgICAgICAgfQogICAgICAgIHJldHVybiAoc2l6ZSA+IDApOwogICAgfQoKICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICAgIC8vICogICAgICAgICAgcmVlbnRyYW5jeSBoYW5kbGluZyAgICAgICAgICAgICAgICAgICoKICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCiAgICAvL0BkZXYgcHJlZGVmaW5lZCBsb2NrcyAodXAgdG8gdWludCBiaXQgbGVuZ3RoLCBpLmUuIDI1NiBwb3NzaWJsZSkKICAgIHVpbnQgY29uc3RhbnQgaW50ZXJuYWwgTDAwID0gMiAqKiAwOwogICAgdWludCBjb25zdGFudCBpbnRlcm5hbCBMMDEgPSAyICoqIDE7CiAgICB1aW50IGNvbnN0YW50IGludGVybmFsIEwwMiA9IDIgKiogMjsKICAgIHVpbnQgY29uc3RhbnQgaW50ZXJuYWwgTDAzID0gMiAqKiAzOwogICAgdWludCBjb25zdGFudCBpbnRlcm5hbCBMMDQgPSAyICoqIDQ7CiAgICB1aW50IGNvbnN0YW50IGludGVybmFsIEwwNSA9IDIgKiogNTsKCiAgICAvL3ByZXZlbnRzIHJlZW50cmFuY3kgYXR0YWNzOiBzcGVjaWZpYyBsb2NrcwogICAgdWludCBwcml2YXRlIGJpdGxvY2tzID0gMDsKICAgIG1vZGlmaWVyIG5vUmVlbnRyYW5jeSh1aW50IG0pIHsKICAgICAgICB2YXIgX2xvY2tzID0gYml0bG9ja3M7CiAgICAgICAgaWYgKF9sb2NrcyAmIG0gPiAwKSB0aHJvdzsKICAgICAgICBiaXRsb2NrcyB8PSBtOwogICAgICAgIF87CiAgICAgICAgYml0bG9ja3MgPSBfbG9ja3M7CiAgICB9CgogICAgbW9kaWZpZXIgbm9BbnlSZWVudHJhbmN5IHsKICAgICAgICB2YXIgX2xvY2tzID0gYml0bG9ja3M7CiAgICAgICAgaWYgKF9sb2NrcyA+IDApIHRocm93OwogICAgICAgIGJpdGxvY2tzID0gdWludCgtMSk7CiAgICAgICAgXzsKICAgICAgICBiaXRsb2NrcyA9IF9sb2NrczsKICAgIH0KCiAgICAvLy9AZGV2IGVtcHR5IG1hcmtpbmcgbW9kaWZpZXIgc2lnbmFsaW5nIHRvIHVzZXIgb2YgdGhlIG1hcmtlZCBmdW5jdGlvbiAsIHRoYXQgaXQgY2FuIGNhdXNlIGFuIHJlZW50cmFudCBjYWxsLgogICAgLy8vICAgICBkZXZlbG9wZXIgc2hvdWxkIG1ha2UgdGhlIGNhbGxlciBmdW5jdGlvbiByZWVudHJhbnQtc2FmZSBpZiBpdCB1c2UgYSByZWVudHJhbnQgZnVuY3Rpb24uCiAgICBtb2RpZmllciByZWVudHJhbnQgeyBfOyB9Cgp9Cgpjb250cmFjdCBNaW50YWJsZVRva2VuIHsKICAgIC8vdGFyZ2V0IHRva2VuIGNvbnRyYWN0IGlzIHJlc3BvbnNpYmxlIHRvIGFjY2VwdCBvbmx5IGF1dGhvcml6ZWQgbWludCBjYWxscy4KICAgIGZ1bmN0aW9uIG1pbnQodWludCBhbW91bnQsIGFkZHJlc3MgYWNjb3VudCk7CgogICAgLy9zdGFydCB0aGUgdG9rZW4gb24gbWludGluZyBmaW5pc2hlZCwKICAgIGZ1bmN0aW9uIHN0YXJ0KCk7Cn0KCmNvbnRyYWN0IE93bmVkIGlzIEJhc2UgewoKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgYWRkcmVzcyBwdWJsaWMgbmV3T3duZXI7CgogICAgZnVuY3Rpb24gT3duZWQoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBvbmx5KG93bmVyKSB7CiAgICAgICAgbmV3T3duZXIgPSBfbmV3T3duZXI7CiAgICB9CgogICAgZnVuY3Rpb24gYWNjZXB0T3duZXJzaGlwKCkgb25seShuZXdPd25lcikgewogICAgICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KCiAgICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8pOwoKfQoKY29udHJhY3QgQmFsYW5jZVN0b3JhZ2UgewogICAgZnVuY3Rpb24gYmFsYW5jZXMoYWRkcmVzcyBhY2NvdW50KSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50IGJhbGFuY2UpOwp9Cgpjb250cmFjdCBBZGRyZXNzTGlzdCB7CiAgICBmdW5jdGlvbiBjb250YWlucyhhZGRyZXNzIGFkZHIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKTsKfQoKY29udHJhY3QgTWluTWF4V2hpdGVMaXN0IHsKICAgIGZ1bmN0aW9uIGFsbG93ZWQoYWRkcmVzcyBhZGRyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCAvKmZpbm5leSovLCB1aW50IC8qZmlubmV5Ki8gKTsKfQoKY29udHJhY3QgUHJlc2FsZUJvbnVzVm90aW5nIHsKICAgIGZ1bmN0aW9uIHJhd1ZvdGVzKGFkZHJlc3MgYWRkcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmF3Vm90ZSk7Cn0KCmNvbnRyYWN0IENyb3dkc2FsZU1pbnRlciBpcyBPd25lZCB7CgogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBWRVJTSU9OID0gIjAuMi4xIjsKCiAgICAvKiA9PT09PT0gY29uZmlndXJhdGlvbiBTVEFSVCA9PT09PT0gKi8KICAgIHVpbnQgcHVibGljIGNvbnN0YW50IENPTU1VTklUWV9TQUxFX1NUQVJUID0gMzk3MzQyMDsgLyogYXBwcm94LiAwNC4wNy4yMDE3IDE2OjAwIEdNVCsxICovCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBQUklPUklUWV9TQUxFX1NUQVJUICA9IDM5Nzg0OTY7IC8qIGFwcHJveC4gMDUuMDcuMjAxNyAxNjowMCBHTVQrMSAqLwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgUFVCTElDX1NBTEVfU1RBUlQgICAgPSAzOTgzNTc4OyAvKiBhcHByb3guIDA2LjA3LjIwMTcgMTY6MDAgR01UKzEgKi8KICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFBVQkxJQ19TQUxFX0VORCAgICAgID0gNDEzMDk2NzsgLyogYXBwcm94LiAwNC4wOC4yMDE3IDE2OjAwIEdNVCsxICovCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBXSVRIRFJBV0FMX0VORCAgICAgICA9IDQyODg1MjA7IC8qIGFwcHJveC4gMDQuMDkuMjAxNyAxNjowMCBHTVQrMSAqLwoJCiAgICBhZGRyZXNzIHB1YmxpYyBURUFNX0dST1VQX1dBTExFVCAgICAgICAgICAgPSAweEEwRDhGMzNFZjlCNDREYUFFNTIyNTMxREQ1RTcyNTI5NjJiMDkyMDc7CiAgICBhZGRyZXNzIHB1YmxpYyBBRFZJU0VSU19BTkRfRlJJRU5EU19XQUxMRVQgPSAweDQ0ZjE0NWY2QmMzNmU1MWVFRDliNjYxZTk5QzhiOUNDRjk4N2MwNDM7CgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgVEVBTV9CT05VU19QRVJfQ0VOVCAgICAgICAgICAgID0gMTg7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBBRFZJU09SU19BTkRfUEFSVE5FUlNfUEVSX0NFTlQgPSAxMDsKCiAgICBNaW50YWJsZVRva2VuICAgICAgcHVibGljIFRPS0VOICAgICAgICAgICAgICAgICAgICA9IE1pbnRhYmxlVG9rZW4oMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCk7CgogICAgQWRkcmVzc0xpc3QgICAgICAgIHB1YmxpYyBQUklPUklUWV9BRERSRVNTX0xJU1QgICAgPSBBZGRyZXNzTGlzdCgweDk0MTFDZjcwRjk3QzJFRDA5MzI1ZTU4NjI5RDQ4NDAxYUVkNTBGODkpOwogICAgTWluTWF4V2hpdGVMaXN0ICAgIHB1YmxpYyBDT01NVU5JVFlfQUxMT1dBTkNFX0xJU1QgPSBNaW5NYXhXaGl0ZUxpc3QoMHhkMjY3NWQzZWE0Nzg2OTJhZDM0ZjA5ZmExZjhiZGE2N2E5Njk2YmY3KTsKICAgIEJhbGFuY2VTdG9yYWdlICAgICBwdWJsaWMgUFJFU0FMRV9CQUxBTkNFUyAgICAgICAgID0gQmFsYW5jZVN0b3JhZ2UoMHg0RmQ5OTdFZDdjMTBEYkQwNGU5NWQzNzMwY2Q3N0Q3OTUxMzA3NkYyKTsKICAgIFByZXNhbGVCb251c1ZvdGluZyBwdWJsaWMgUFJFU0FMRV9CT05VU19WT1RJTkcgICAgID0gUHJlc2FsZUJvbnVzVm90aW5nKDB4MjgzYTk3QWY4NjcxNjUxNjlBRUNlMGIyRTk2M2I5ZjBGQzdFNWI4Yyk7CgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgQ09NTVVOSVRZX1BMVVNfUFJJT1JJVFlfU0FMRV9DQVBfRVRIID0gNDUwMDA7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBNSU5fVE9UQUxfQU1PVU5UX1RPX1JFQ0VJVkVfRVRIID0gMTUwMDA7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBNQVhfVE9UQUxfQU1PVU5UX1RPX1JFQ0VJVkVfRVRIID0gNDUwMDA7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBNSU5fQUNDRVBURURfQU1PVU5UX0ZJTk5FWSA9IDIwMDsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFRPS0VOX1BFUl9FVEggPSAxMDAwOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgUFJFX1NBTEVfQk9OVVNfUEVSX0NFTlQgPSA1NDsKCiAgICAvL2NvbnN0cnVjdG9yCiAgICBmdW5jdGlvbiBDcm93ZHNhbGVNaW50ZXIoKSB7CiAgICAgICAgLy9jaGVjayBjb25maWd1cmF0aW9uIGlmIHNvbWV0aGluZyBpbiBzZXR1cCBpcyBsb29raW5nIHdlaXJkCiAgICAgICAgaWYgKAogICAgICAgICAgICBUT0tFTl9QRVJfRVRIID09IDAKICAgICAgICAgICAgfHwgVEVBTV9CT05VU19QRVJfQ0VOVCArIEFEVklTT1JTX0FORF9QQVJUTkVSU19QRVJfQ0VOVCA+PTEwMAogICAgICAgICAgICB8fCBNSU5fQUNDRVBURURfQU1PVU5UX0ZJTk5FWSA8IDEKICAgICAgICAgICAgfHwgb3duZXIgPT0gMHgwCiAgICAgICAgICAgIHx8IGFkZHJlc3MoQ09NTVVOSVRZX0FMTE9XQU5DRV9MSVNUKSA9PSAweDAKICAgICAgICAgICAgfHwgYWRkcmVzcyhQUklPUklUWV9BRERSRVNTX0xJU1QpID09IDB4MAogICAgICAgICAgICB8fCBhZGRyZXNzKFBSRVNBTEVfQk9OVVNfVk9USU5HKSA9PSAweDAKICAgICAgICAgICAgfHwgYWRkcmVzcyhQUkVTQUxFX0JBTEFOQ0VTKSA9PSAweDAKICAgICAgICAgICAgfHwgQ09NTVVOSVRZX1NBTEVfU1RBUlQgPT0gMAogICAgICAgICAgICB8fCBQUklPUklUWV9TQUxFX1NUQVJUID09IDAKICAgICAgICAgICAgfHwgUFVCTElDX1NBTEVfU1RBUlQgPT0gMAogICAgICAgICAgICB8fCBQVUJMSUNfU0FMRV9FTkQgPT0gMAogICAgICAgICAgICB8fCBXSVRIRFJBV0FMX0VORCA9PSAwCiAgICAgICAgICAgIHx8IE1JTl9UT1RBTF9BTU9VTlRfVE9fUkVDRUlWRSA9PSAwCiAgICAgICAgICAgIHx8IE1BWF9UT1RBTF9BTU9VTlRfVE9fUkVDRUlWRSA9PSAwCiAgICAgICAgICAgIHx8IENPTU1VTklUWV9QTFVTX1BSSU9SSVRZX1NBTEVfQ0FQID09IDAKICAgICAgICAgICAgfHwgQ09NTVVOSVRZX1NBTEVfU1RBUlQgPD0gYmxvY2subnVtYmVyCiAgICAgICAgICAgIHx8IENPTU1VTklUWV9TQUxFX1NUQVJUID49IFBSSU9SSVRZX1NBTEVfU1RBUlQKICAgICAgICAgICAgfHwgUFJJT1JJVFlfU0FMRV9TVEFSVCA+PSBQVUJMSUNfU0FMRV9TVEFSVAogICAgICAgICAgICB8fCBQVUJMSUNfU0FMRV9TVEFSVCA+PSBQVUJMSUNfU0FMRV9FTkQKICAgICAgICAgICAgfHwgUFVCTElDX1NBTEVfRU5EID49IFdJVEhEUkFXQUxfRU5ECiAgICAgICAgICAgIHx8IENPTU1VTklUWV9QTFVTX1BSSU9SSVRZX1NBTEVfQ0FQID4gTUFYX1RPVEFMX0FNT1VOVF9UT19SRUNFSVZFCiAgICAgICAgICAgIHx8IE1JTl9UT1RBTF9BTU9VTlRfVE9fUkVDRUlWRSA+IE1BWF9UT1RBTF9BTU9VTlRfVE9fUkVDRUlWRSApCiAgICAgICAgdGhyb3c7CiAgICB9CgogICAgLyogPT09PT09IGNvbmZpZ3VyYXRpb24gRU5EID09PT09PSAqLwoKICAgIC8qID09PT09PSBwdWJsaWMgc3RhdGVzIFNUQVJUPT09PT09ICovCgogICAgYm9vbCBwdWJsaWMgaXNBYm9ydGVkID0gZmFsc2U7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBiYWxhbmNlczsKICAgIGJvb2wgcHVibGljIFRPS0VOX1NUQVJURUQgPSBmYWxzZTsKICAgIHVpbnQgcHVibGljIHRvdGFsX3JlY2VpdmVkX2Ftb3VudDsKICAgIGFkZHJlc3NbXSBwdWJsaWMgaW52ZXN0b3JzOwoKICAgIC8vZGlzcGxheXMgbnVtYmVyIG9mIHVuaXEgaW52ZXN0b3JzCiAgICBmdW5jdGlvbiBpbnZlc3RvcnNDb3VudCgpIGNvbnN0YW50IGV4dGVybmFsIHJldHVybnModWludCkgeyByZXR1cm4gaW52ZXN0b3JzLmxlbmd0aDsgfQoKICAgIC8vZGlzcGxheXMgcmVjZWl2ZWQgYW1vdW50IGluIGV0aCB1cHRvIG5vdwogICAgZnVuY3Rpb24gVE9UQUxfUkVDRUlWRURfRVRIKCkgY29uc3RhbnQgZXh0ZXJuYWwgcmV0dXJucyAodWludCkgeyByZXR1cm4gdG90YWxfcmVjZWl2ZWRfYW1vdW50IC8gMSBldGhlcjsgfQoKICAgIC8vZGlzcGxheXMgY3VycmVudCBjb250cmFjdCBzdGF0ZSBpbiBodW1hbiByZWFkYWJsZSBmb3JtCiAgICBmdW5jdGlvbiBzdGF0ZSgpIGNvbnN0YW50IGV4dGVybmFsIHJldHVybnMgKHN0cmluZykgeyByZXR1cm4gc3RhdGVOYW1lc1sgdWludChjdXJyZW50U3RhdGUoKSkgXTsgfQoKICAgIGZ1bmN0aW9uIHNhbl93aGl0ZWxpc3QoYWRkcmVzcyBhZGRyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50LCB1aW50KSB7IHJldHVybiBDT01NVU5JVFlfQUxMT1dBTkNFX0xJU1QuYWxsb3dlZChhZGRyKTsgfQogICAgZnVuY3Rpb24gY2ZpX3doaXRlbGlzdChhZGRyZXNzIGFkZHIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKGJvb2wpIHsgcmV0dXJuIFBSSU9SSVRZX0FERFJFU1NfTElTVC5jb250YWlucyhhZGRyKTsgfQoKICAgIC8qID09PT09PSBwdWJsaWMgc3RhdGVzIEVORCA9PT09PT0gKi8KCiAgICBzdHJpbmdbXSBwcml2YXRlIHN0YXRlTmFtZXMgPSBbIkJFRk9SRV9TVEFSVCIsICJDT01NVU5JVFlfU0FMRSIsICJQUklPUklUWV9TQUxFIiwgIlBSSU9SSVRZX1NBTEVfRklOSVNIRUQiLCAiUFVCTElDX1NBTEUiLCAiQk9OVVNfTUlOVElORyIsICJXSVRIRFJBV0FMX1JVTk5JTkciLCAiUkVGVU5EX1JVTk5JTkciLCAiQ0xPU0VEIiBdOwogICAgZW51bSBTdGF0ZSB7IEJFRk9SRV9TVEFSVCwgQ09NTVVOSVRZX1NBTEUsIFBSSU9SSVRZX1NBTEUsIFBSSU9SSVRZX1NBTEVfRklOSVNIRUQsIFBVQkxJQ19TQUxFLCBCT05VU19NSU5USU5HLCBXSVRIRFJBV0FMX1JVTk5JTkcsIFJFRlVORF9SVU5OSU5HLCBDTE9TRUQgfQoKICAgIHVpbnQgcHJpdmF0ZSBjb25zdGFudCBDT01NVU5JVFlfUExVU19QUklPUklUWV9TQUxFX0NBUCA9IENPTU1VTklUWV9QTFVTX1BSSU9SSVRZX1NBTEVfQ0FQX0VUSCAqIDEgZXRoZXI7CiAgICB1aW50IHByaXZhdGUgY29uc3RhbnQgTUlOX1RPVEFMX0FNT1VOVF9UT19SRUNFSVZFID0gTUlOX1RPVEFMX0FNT1VOVF9UT19SRUNFSVZFX0VUSCAqIDEgZXRoZXI7CiAgICB1aW50IHByaXZhdGUgY29uc3RhbnQgTUFYX1RPVEFMX0FNT1VOVF9UT19SRUNFSVZFID0gTUFYX1RPVEFMX0FNT1VOVF9UT19SRUNFSVZFX0VUSCAqIDEgZXRoZXI7CiAgICB1aW50IHByaXZhdGUgY29uc3RhbnQgTUlOX0FDQ0VQVEVEX0FNT1VOVCA9IE1JTl9BQ0NFUFRFRF9BTU9VTlRfRklOTkVZICogMSBmaW5uZXk7CiAgICBib29sIHByaXZhdGUgYWxsQm9udXNlc0FyZU1pbnRlZCA9IGZhbHNlOwoKICAgIC8vCiAgICAvLyA9PT09PT09IGludGVyZmFjZSBtZXRob2RzID09PT09PT0KICAgIC8vCgogICAgLy9hY2NlcHQgcGF5bWVudHMgaGVyZQogICAgZnVuY3Rpb24gKCkKICAgIHBheWFibGUKICAgIG5vQW55UmVlbnRyYW5jeQogICAgewogICAgICAgIFN0YXRlIHN0YXRlID0gY3VycmVudFN0YXRlKCk7CiAgICAgICAgdWludCBhbW91bnRfYWxsb3dlZDsKICAgICAgICBpZiAoc3RhdGUgPT0gU3RhdGUuQ09NTVVOSVRZX1NBTEUpIHsKICAgICAgICAgICAgdmFyIChtaW5fZmlubmV5LCBtYXhfZmlubmV5KSA9IENPTU1VTklUWV9BTExPV0FOQ0VfTElTVC5hbGxvd2VkKG1zZy5zZW5kZXIpOwogICAgICAgICAgICB2YXIgKG1pbiwgbWF4KSA9IChtaW5fZmlubmV5ICogMSBmaW5uZXksIG1heF9maW5uZXkgKiAxIGZpbm5leSk7CiAgICAgICAgICAgIHZhciBzZW5kZXJfYmFsYW5jZSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdOwogICAgICAgICAgICBhc3NlcnQgKHNlbmRlcl9iYWxhbmNlIDw9IG1heCk7IC8vc2FuaXR5IGNoZWNrOiBzaG91bGQgYmUgYWx3YXlzIHRydWU7CiAgICAgICAgICAgIGFzc2VydCAobXNnLnZhbHVlID49IG1pbik7ICAgICAgLy9yZWplY3QgcGF5bWVudHMgbGVzcyB0aGFuIG1pbmltdW0KICAgICAgICAgICAgYW1vdW50X2FsbG93ZWQgPSBtYXggLSBzZW5kZXJfYmFsYW5jZTsKICAgICAgICAgICAgX3JlY2VpdmVGdW5kc1VwVG8oYW1vdW50X2FsbG93ZWQpOwogICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT0gU3RhdGUuUFJJT1JJVFlfU0FMRSkgewogICAgICAgICAgICBhc3NlcnQgKFBSSU9SSVRZX0FERFJFU1NfTElTVC5jb250YWlucyhtc2cuc2VuZGVyKSk7CiAgICAgICAgICAgIGFtb3VudF9hbGxvd2VkID0gQ09NTVVOSVRZX1BMVVNfUFJJT1JJVFlfU0FMRV9DQVAgLSB0b3RhbF9yZWNlaXZlZF9hbW91bnQ7CiAgICAgICAgICAgIF9yZWNlaXZlRnVuZHNVcFRvKGFtb3VudF9hbGxvd2VkKTsKICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09IFN0YXRlLlBVQkxJQ19TQUxFKSB7CiAgICAgICAgICAgIGFtb3VudF9hbGxvd2VkID0gTUFYX1RPVEFMX0FNT1VOVF9UT19SRUNFSVZFIC0gdG90YWxfcmVjZWl2ZWRfYW1vdW50OwogICAgICAgICAgICBfcmVjZWl2ZUZ1bmRzVXBUbyhhbW91bnRfYWxsb3dlZCk7CiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PSBTdGF0ZS5SRUZVTkRfUlVOTklORykgewogICAgICAgICAgICAvLyBhbnkgZW50cmluZyBjYWxsIGluIFJlZnVuZCBQaGFzZSB3aWxsIGNhdXNlIGZ1bGwgcmVmdW5kCiAgICAgICAgICAgIF9zZW5kUmVmdW5kKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgfQoKCiAgICBmdW5jdGlvbiByZWZ1bmQoKSBleHRlcm5hbAogICAgaW5TdGF0ZShTdGF0ZS5SRUZVTkRfUlVOTklORykKICAgIG5vQW55UmVlbnRyYW5jeQogICAgewogICAgICAgIF9zZW5kUmVmdW5kKCk7CiAgICB9CgoKICAgIGZ1bmN0aW9uIHdpdGhkcmF3RnVuZHNBbmRTdGFydFRva2VuKCkgZXh0ZXJuYWwKICAgIGluU3RhdGUoU3RhdGUuV0lUSERSQVdBTF9SVU5OSU5HKQogICAgbm9BbnlSZWVudHJhbmN5CiAgICBvbmx5KG93bmVyKQogICAgewogICAgICAgIC8vIHRyYW5zZmVyIGZ1bmRzIHRvIG93bmVyCiAgICAgICAgaWYgKCFvd25lci5zZW5kKHRoaXMuYmFsYW5jZSkpIHRocm93OwoKICAgICAgICAvL25vdGlmeSB0b2tlbiBjb250cmFjdCB0byBzdGFydAogICAgICAgIGlmIChUT0tFTi5jYWxsKGJ5dGVzNChzaGEzKCJzdGFydCgpIikpKSkgewogICAgICAgICAgICBUT0tFTl9TVEFSVEVEID0gdHJ1ZTsKICAgICAgICAgICAgVG9rZW5TdGFydGVkKFRPS0VOKTsKICAgICAgICB9CiAgICB9CgogICAgZXZlbnQgVG9rZW5TdGFydGVkKGFkZHJlc3MgdG9rZW5BZGRyKTsKCiAgICAvL3RoZXJlIGFyZSBhcm91bmQgNDAgYWRkcmVzc2VzIGluIFBSRVNBTEVfQUREUkVTU0VTIGxpc3QuIEV2ZXJ5dGhpbmcgZml0cyBpbnRvIHNpbmdsZSBUeC4KICAgIGZ1bmN0aW9uIG1pbnRBbGxCb251c2VzKCkgZXh0ZXJuYWwKICAgIGluU3RhdGUoU3RhdGUuQk9OVVNfTUlOVElORykKICAgIG5vQW55UmVlbnRyYW5jeQogICAgewogICAgICAgIGFzc2VydCghYWxsQm9udXNlc0FyZU1pbnRlZCk7CiAgICAgICAgYWxsQm9udXNlc0FyZU1pbnRlZCA9IHRydWU7CgogICAgICAgIHVpbnQgVEVBTV9BTkRfUEFSVE5FUlNfUEVSX0NFTlQgPSBURUFNX0JPTlVTX1BFUl9DRU5UICsgQURWSVNPUlNfQU5EX1BBUlRORVJTX1BFUl9DRU5UOwoKICAgICAgICB1aW50IHRvdGFsX3ByZXNhbGVfYW1vdW50X3dpdGhfYm9udXMgPSBtaW50UHJlc2FsZUJvbnVzZXMoKTsKICAgICAgICB1aW50IHRvdGFsX2NvbGxlY3RlZF9hbW91bnQgPSB0b3RhbF9yZWNlaXZlZF9hbW91bnQgKyB0b3RhbF9wcmVzYWxlX2Ftb3VudF93aXRoX2JvbnVzOwogICAgICAgIHVpbnQgZXh0cmFfYW1vdW50ID0gdG90YWxfY29sbGVjdGVkX2Ftb3VudCAqIFRFQU1fQU5EX1BBUlRORVJTX1BFUl9DRU5UIC8gKDEwMCAtIFRFQU1fQU5EX1BBUlRORVJTX1BFUl9DRU5UKTsKICAgICAgICB1aW50IGV4dHJhX3RlYW1fYW1vdW50ID0gZXh0cmFfYW1vdW50ICogVEVBTV9CT05VU19QRVJfQ0VOVCAvIFRFQU1fQU5EX1BBUlRORVJTX1BFUl9DRU5UOwogICAgICAgIHVpbnQgZXh0cmFfcGFydG5lcnNfYW1vdW50ID0gZXh0cmFfYW1vdW50ICogQURWSVNPUlNfQU5EX1BBUlRORVJTX1BFUl9DRU5UIC8gVEVBTV9BTkRfUEFSVE5FUlNfUEVSX0NFTlQ7CiAKICAgICAgICAvL2JlYXV0aWZ5IHRvdGFsIHN1cHBseTogcm91bmQgZG93biB0byBmdWxsIGV0aC4KICAgICAgICB1aW50IHRvdGFsX3RvX21pbnQgPSB0b3RhbF9jb2xsZWN0ZWRfYW1vdW50ICsgZXh0cmFfYW1vdW50OwogICAgICAgIHVpbnQgcm91bmRfcmVtYWluZGVyID0gdG90YWxfdG9fbWludCAtICh0b3RhbF90b19taW50IC8gMSBldGhlciAqIDEgZXRoZXIpOwogICAgICAgIGV4dHJhX3RlYW1fYW1vdW50IC09IHJvdW5kX3JlbWFpbmRlcjsgLy90aGlzIHdpbGwgcmVkdWNlIHRvdGFsX3N1cHBseSB0byByb3VuZGVkIHZhbHVlCgogICAgICAgIC8vbWludCBncm91cCBib251c2VzCiAgICAgICAgX21pbnQoZXh0cmFfdGVhbV9hbW91bnQgLCBURUFNX0dST1VQX1dBTExFVCk7CiAgICAgICAgX21pbnQoZXh0cmFfcGFydG5lcnNfYW1vdW50LCBBRFZJU0VSU19BTkRfRlJJRU5EU19XQUxMRVQpOwoKICAgIH0KCiAgICBmdW5jdGlvbiBtaW50UHJlc2FsZUJvbnVzZXMoKSBpbnRlcm5hbCByZXR1cm5zKHVpbnQgYW1vdW50KSB7CiAgICAgICAgdWludCB0b3RhbF9wcmVzYWxlX2Ftb3VudF93aXRoX2JvbnVzID0gMDsKICAgICAgICAvL21pbnQgcHJlc2FsZSBib251c2VzCiAgICAgICAgZm9yKHVpbnQgaT0wOyBpIDwgUFJFU0FMRV9BRERSRVNTRVMubGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgYWRkcmVzcyBhZGRyID0gUFJFU0FMRV9BRERSRVNTRVNbaV07CiAgICAgICAgICAgIHZhciBhbW91bnRfd2l0aF9ib251cyA9IHByZXNhbGVUb2tlbkFtb3VudChhZGRyKTsKICAgICAgICAgICAgaWYgKGFtb3VudF93aXRoX2JvbnVzPjApIHsKICAgICAgICAgICAgICAgIF9taW50KGFtb3VudF93aXRoX2JvbnVzLCBhZGRyKTsKICAgICAgICAgICAgICAgIHRvdGFsX3ByZXNhbGVfYW1vdW50X3dpdGhfYm9udXMgKz0gYW1vdW50X3dpdGhfYm9udXM7CiAgICAgICAgICAgIH0KICAgICAgICB9Ly9mb3IKICAgICAgICByZXR1cm4gdG90YWxfcHJlc2FsZV9hbW91bnRfd2l0aF9ib251czsKICAgIH0KCiAgICBmdW5jdGlvbiBwcmVzYWxlVG9rZW5BbW91bnQoYWRkcmVzcyBhZGRyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50KXsKICAgICAgICB1aW50IHByZXNhbGVfYmFsYW5jZSA9IFBSRVNBTEVfQkFMQU5DRVMuYmFsYW5jZXMoYWRkcik7CiAgICAgICAgaWYgKHByZXNhbGVfYmFsYW5jZSA+IDApIHsKICAgICAgICAgICAgLy8gdGhpcyBjYWxjdWxhdGlvbiBpcyBhYm91dCB3YWl2ZWQgcHJlLXNhbGUgYm9udXMuCiAgICAgICAgICAgIC8vIHJhd1ZvdGUgY29udGFpbnMgYSB2YWx1ZSBbMC4uMSBldGhlcl0uCiAgICAgICAgICAgIC8vICAgICAwIGV0aGVyICAgIC0gbWVhbnMgImRlZmF1bHQgdmFsdWUiIG9yICJubyB2b3RlIiA6IDEwMCUgYm9udXMgc2F2ZWQKICAgICAgICAgICAgLy8gICAgIDEgZXRoZXIgICAgLSBtZWFucyAidm90ZSAxMDAlIiA6IDEwMCUgYm9udXMgc2F2ZWQKICAgICAgICAgICAgLy8gICAgPD0xMCBmaW5uZXkgLSBzcGVjaWFsIHZhbHVlICJ2b3RlIDAlIiA6IG5vIGJvbnVzIGF0IGFsbCAoMTAwJSBib251cyB3YWl2ZWQpLgogICAgICAgICAgICAvLyAgb3RoZXIgdmFsdWUgLSAiUFJFX1NBTEVfQk9OVVNfUEVSX0NFTlQgKiByYXdWb3RlIC8gMSBldGhlciIgaXMgYW4gZWZmZWN0aXZlIGJvbnVzIHBlciBjZW50IGZvciBwYXJ0aWN1bGFyIHByZXNhbGUgbWVtYmVyLgogICAgICAgICAgICAvLwogICAgICAgICAgICB2YXIgcmF3Vm90ZSA9IFBSRVNBTEVfQk9OVVNfVk9USU5HLnJhd1ZvdGVzKGFkZHIpOwogICAgICAgICAgICBpZiAocmF3Vm90ZSA9PSAwKSAgICAgICAgICAgICAgcmF3Vm90ZSA9IDEgZXRoZXI7IC8vc3BlY2lhbCBjYXNlICJubyB2b3RlIiAoZGVmYXVsdCB2YWx1ZSkgPT0+ICgxIGV0aGVyIGlzIDEwMCUpCiAgICAgICAgICAgIGVsc2UgaWYgKHJhd1ZvdGUgPD0gMTAgZmlubmV5KSByYXdWb3RlID0gMDsgICAgICAgLy9zcGVjaWFsIGNhc2UgIjAlIiAobm8gYm9udXMpICAgICAgICAgICA9PT4gKDAgZXRoZXIgaXMgICAwJSkKICAgICAgICAgICAgZWxzZSBpZiAocmF3Vm90ZSA+IDEgZXRoZXIpICAgIHJhd1ZvdGUgPSAxIGV0aGVyOyAvL21heCBib251cyBpcyAxMDAlIChzaG91bGQgbm90IG9jY3VyKQogICAgICAgICAgICB2YXIgcHJlc2FsZV9ib251cyA9IHByZXNhbGVfYmFsYW5jZSAqIFBSRV9TQUxFX0JPTlVTX1BFUl9DRU5UICogcmF3Vm90ZSAvIDEgZXRoZXIgLyAxMDA7CiAgICAgICAgICAgIHJldHVybiBwcmVzYWxlX2JhbGFuY2UgKyBwcmVzYWxlX2JvbnVzOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBhdHRhY2hUb1Rva2VuKE1pbnRhYmxlVG9rZW4gdG9rZW5BZGRyKSBleHRlcm5hbAogICAgaW5TdGF0ZShTdGF0ZS5CRUZPUkVfU1RBUlQpCiAgICBvbmx5KG93bmVyKQogICAgewogICAgICAgIFRPS0VOID0gdG9rZW5BZGRyOwogICAgfQoKICAgIGZ1bmN0aW9uIGFib3J0KCkgZXh0ZXJuYWwKICAgIGluU3RhdGVCZWZvcmUoU3RhdGUuUkVGVU5EX1JVTk5JTkcpCiAgICBvbmx5KG93bmVyKQogICAgewogICAgICAgIGlzQWJvcnRlZCA9IHRydWU7CiAgICB9CgogICAgLy8KICAgIC8vID09PT09PT0gaW1wbGVtZW50YXRpb24gbWV0aG9kcyA9PT09PT09CiAgICAvLwoKICAgIGZ1bmN0aW9uIF9zZW5kUmVmdW5kKCkgcHJpdmF0ZQogICAgdG9rZW5Ib2xkZXJzT25seQogICAgewogICAgICAgIC8vIGxvYWQgYmFsYW5jZSB0byByZWZ1bmQgcGx1cyBhbW91bnQgY3VycmVudGx5IHNlbnQKICAgICAgICB2YXIgYW1vdW50X3RvX3JlZnVuZCA9IGJhbGFuY2VzW21zZy5zZW5kZXJdICsgbXNnLnZhbHVlOwogICAgICAgIC8vIHJlc2V0IGJhbGFuY2UKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IDA7CiAgICAgICAgLy8gc2VuZCByZWZ1bmQgYmFjayB0byBzZW5kZXIKICAgICAgICBpZiAoIW1zZy5zZW5kZXIuc2VuZChhbW91bnRfdG9fcmVmdW5kKSkgdGhyb3c7CiAgICB9CgogICAgZnVuY3Rpb24gX3JlY2VpdmVGdW5kc1VwVG8odWludCBhbW91bnQpIHByaXZhdGUKICAgIG5vdFRvb1NtYWxsQW1vdW50T25seQogICAgewogICAgICAgIHJlcXVpcmUgKGFtb3VudCA+IDApOwogICAgICAgIGlmIChtc2cudmFsdWUgPiBhbW91bnQpIHsKICAgICAgICAgICAgLy8gYWNjZXB0IGFtb3VudCBvbmx5IGFuZCByZXR1cm4gY2hhbmdlCiAgICAgICAgICAgIHZhciBjaGFuZ2VfdG9fcmV0dXJuID0gbXNnLnZhbHVlIC0gYW1vdW50OwogICAgICAgICAgICBpZiAoIW1zZy5zZW5kZXIuc2VuZChjaGFuZ2VfdG9fcmV0dXJuKSkgdGhyb3c7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gYWNjZXB0IGZ1bGwgYW1vdW50CiAgICAgICAgICAgIGFtb3VudCA9IG1zZy52YWx1ZTsKICAgICAgICB9CiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID09IDApIGludmVzdG9ycy5wdXNoKG1zZy5zZW5kZXIpOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IGFtb3VudDsKICAgICAgICB0b3RhbF9yZWNlaXZlZF9hbW91bnQgKz0gYW1vdW50OwogICAgICAgIF9taW50KGFtb3VudCxtc2cuc2VuZGVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfbWludCh1aW50IGFtb3VudCwgYWRkcmVzcyBhY2NvdW50KSBwcml2YXRlIHsKICAgICAgICBNaW50YWJsZVRva2VuKFRPS0VOKS5taW50KGFtb3VudCAqIFRPS0VOX1BFUl9FVEgsIGFjY291bnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGN1cnJlbnRTdGF0ZSgpIHByaXZhdGUgY29uc3RhbnQKICAgIHJldHVybnMgKFN0YXRlKQogICAgewogICAgICAgIGlmIChpc0Fib3J0ZWQpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFsYW5jZSA+IDAKICAgICAgICAgICAgICAgICAgID8gU3RhdGUuUkVGVU5EX1JVTk5JTkcKICAgICAgICAgICAgICAgICAgIDogU3RhdGUuQ0xPU0VEOwogICAgICAgIH0gZWxzZSBpZiAoYmxvY2subnVtYmVyIDwgQ09NTVVOSVRZX1NBTEVfU1RBUlQgfHwgYWRkcmVzcyhUT0tFTikgPT0gMHgwKSB7CiAgICAgICAgICAgICByZXR1cm4gU3RhdGUuQkVGT1JFX1NUQVJUOwogICAgICAgIH0gZWxzZSBpZiAoYmxvY2subnVtYmVyIDwgUFJJT1JJVFlfU0FMRV9TVEFSVCkgewogICAgICAgICAgICByZXR1cm4gU3RhdGUuQ09NTVVOSVRZX1NBTEU7CiAgICAgICAgfSBlbHNlIGlmIChibG9jay5udW1iZXIgPCBQVUJMSUNfU0FMRV9TVEFSVCkgewogICAgICAgICAgICByZXR1cm4gdG90YWxfcmVjZWl2ZWRfYW1vdW50IDwgQ09NTVVOSVRZX1BMVVNfUFJJT1JJVFlfU0FMRV9DQVAKICAgICAgICAgICAgICAgID8gU3RhdGUuUFJJT1JJVFlfU0FMRQogICAgICAgICAgICAgICAgOiBTdGF0ZS5QUklPUklUWV9TQUxFX0ZJTklTSEVEOwogICAgICAgIH0gZWxzZSBpZiAoYmxvY2subnVtYmVyIDw9IFBVQkxJQ19TQUxFX0VORCAmJiB0b3RhbF9yZWNlaXZlZF9hbW91bnQgPCBNQVhfVE9UQUxfQU1PVU5UX1RPX1JFQ0VJVkUpIHsKICAgICAgICAgICAgcmV0dXJuIFN0YXRlLlBVQkxJQ19TQUxFOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5iYWxhbmNlID09IDApIHsKICAgICAgICAgICAgcmV0dXJuIFN0YXRlLkNMT1NFRDsKICAgICAgICB9IGVsc2UgaWYgKGJsb2NrLm51bWJlciA8PSBXSVRIRFJBV0FMX0VORCAmJiB0b3RhbF9yZWNlaXZlZF9hbW91bnQgPj0gTUlOX1RPVEFMX0FNT1VOVF9UT19SRUNFSVZFKSB7CiAgICAgICAgICAgIHJldHVybiBhbGxCb251c2VzQXJlTWludGVkCiAgICAgICAgICAgICAgICA/IFN0YXRlLldJVEhEUkFXQUxfUlVOTklORwogICAgICAgICAgICAgICAgOiBTdGF0ZS5CT05VU19NSU5USU5HOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBTdGF0ZS5SRUZVTkRfUlVOTklORzsKICAgICAgICB9CiAgICB9CgogICAgLy8KICAgIC8vID09PT09PT09PT09PSBtb2RpZmllcnMgPT09PT09PT09PT09CiAgICAvLwoKICAgIC8vZmFpbHMgaWYgc3RhdGUgZG9zbid0IG1hdGNoCiAgICBtb2RpZmllciBpblN0YXRlKFN0YXRlIHN0YXRlKSB7CiAgICAgICAgaWYgKHN0YXRlICE9IGN1cnJlbnRTdGF0ZSgpKSB0aHJvdzsKICAgICAgICBfOwogICAgfQoKICAgIC8vZmFpbHMgaWYgdGhlIGN1cnJlbnQgc3RhdGUgaXMgbm90IGJlZm9yZSB0aGFuIHRoZSBnaXZlbiBvbmUuCiAgICBtb2RpZmllciBpblN0YXRlQmVmb3JlKFN0YXRlIHN0YXRlKSB7CiAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSgpID49IHN0YXRlKSB0aHJvdzsKICAgICAgICBfOwogICAgfQoKICAgIC8vYWNjZXB0cyBjYWxscyBmcm9tIHRva2VuIGhvbGRlcnMgb25seQogICAgbW9kaWZpZXIgdG9rZW5Ib2xkZXJzT25seSgpewogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA9PSAwKSB0aHJvdzsKICAgICAgICBfOwogICAgfQoKCiAgICAvLyBkb25gdCBhY2NlcHQgdHJhbnNhY3Rpb25zIHdpdGggdmFsdWUgbGVzcyB0aGFuIGFsbG93ZWQgbWluaW11bQogICAgbW9kaWZpZXIgbm90VG9vU21hbGxBbW91bnRPbmx5KCl7CiAgICAgICAgaWYgKG1zZy52YWx1ZSA8IE1JTl9BQ0NFUFRFRF9BTU9VTlQpIHRocm93OwogICAgICAgIF87CiAgICB9CgogICAgLy8KICAgIC8vID09PT09PT09PT09PSBEQVRBID09PT09PT09PT09PQogICAgLy8KCiAgICBhZGRyZXNzW10gUFJFU0FMRV9BRERSRVNTRVMgPSBbCiAgICAgICAgMHhGNTVERmQyQjAyQ2YzMjgyNjgwQzk0QkQwMUU5RGEwNDQwNDRFNkEyLAogICAgICAgIDB4MEQ0MEI1MzgyODk0OGIzNDA2NzM2NzRBZTY1RWU3ZjVEODQ4OGUzMywKICAgICAgICAweDBlYTY5MGQ0NjZkNmJiZDE4RjEyNEUyMDRFQTQ4NmE0QmY5MzRjYkEsCiAgICAgICAgMHg2ZDI1QjlmNDBiOTJDY0YxNTgyNTA2MjVBMTUyNTc0NjAzNDY1MTkyLAogICAgICAgIDB4NDgxRGEwRjFlODljMjA2NzEyQkNlQTRmN0Q2RTYwZDdiNDJmNkM2QywKICAgICAgICAweDQxNkVEYTVENkVkMjlDQWMzZTZEOTdDMTAyZDYxQkM1NzhDNWRCODcsCiAgICAgICAgMHhENzhBYzZGRmM5MEUwODRGNWZENTYzNTYzQ2M5ZkQzM2VFMzAzZjE4LAogICAgICAgIDB4ZTY3MTRhYjUyM2FjRWNmOWI4NWQ4ODA0OTJBMkFjREJlNDE4NDg5MiwKICAgICAgICAweDI4NUE5Y0E1ZkU5ZWU4NTQ0NTcwMTZhN2E1ZDNBM0JCOTU1MzgwOTMsCiAgICAgICAgMHg2MDBjYTYzNzJmMzEyQjA4MTIwNUIyQzNkQTcyNTE3YTYwM2ExNUNjLAogICAgICAgIDB4MmI4ZDVDOTIwOWZCRDUwMEZkODE3RDk2MDgzMEFDNjcxOGI4ODExMiwKICAgICAgICAweDRCMTVEZDIzRTVmOTA2MmU0RkIzYTlCN0RFQ0Y2NTNDMDIxNWU1NjAsCiAgICAgICAgMHhENjc0NDllNkFCMjNjMWY0NmRlYTc3ZDNmNUU1RDQ3RmYzM0RjOWE5LAogICAgICAgIDB4ZDBBRGFEN2VkODFBZkRhMDM5OTY5NTY2Q2ViODQyM0UwYWIxNGQ5MCwKICAgICAgICAweDI0NWYyNzc5NmE0NGQ3RTNEMzA2NTRlRDYyODUwZmYwOUVFODU2NTYsCiAgICAgICAgMHg2MzlENmVDMmNlZjRkNmY3MTMwYjQwMTMyQjNCNkY1YjY2N2U1MTA1LAogICAgICAgIDB4NWU5YTY5Qjg2NTY5MTQ5NjVkNjlkOGRhNDljMzcwOUYwYkYyQjVFZiwKICAgICAgICAweDA4MzJjM0I4MDEzMTliNjJhQjFEMzUzNTYxNWQxZmU5YUZjMzM5N0EsCiAgICAgICAgMHhmNkRkNjMxMjc5Mzc3MjA1ODE4QzNhNjcyNUVlRUZCOUQwRjZiOUYzLAogICAgICAgIDB4NDc2OTYwNTRlNzFlNGMzZjg5OTExOTYwMWEyNTVhNzA2NUMzMDg3QiwKICAgICAgICAweGYxMDdiRTZjNjgzM2Y2MUEyNGM2NEQ2M2M4QTdmY0Q3ODRBYmZmMDYsCiAgICAgICAgMHgwNTZmMDcyQmQyMjQwMzE1YjcwOERCQ2JEREU4MGQ0MDBmMDM5NGExLAogICAgICAgIDB4OWU1QmFlQzI0NEQ4Y0NENDk0NzcwMzdFMjhlZDcwNTg0RWVBRDk1NiwKICAgICAgICAweDQwQTBiMmMxQjRFMzBGMjdlMjFERjk0ZTczNDY3MTg1NmI0ODU5NjYsCiAgICAgICAgMHg4NGYwNjIwQTU0N2E0RDE0QTc5ODc3NzBjNEY1QzI1ZDQ4OGQ2MzM1LAogICAgICAgIDB4MDM2QWMxMWMxNjFDMDlkOTRjQTM5RjdCMjRDMWJDODIwNDZjMzMyQiwKICAgICAgICAweDI5MTJBMThDOTAyZEU2Zjk1MzIxRDZkNjMwNUQ3QjgwRWVjNEMwNTUsCiAgICAgICAgMHhFMUFkMzA5NzFiODNjMTdFMkEyNGMwMzM0Q0I0NWY4MDhBYkVCYzg3LAogICAgICAgIDB4MDdmMzViN0ZFNzM1YzQ5RkQ1MDUxRDVhMEMyZTc0YzkxNzdmRWE2ZCwKICAgICAgICAweDExNjY5Q2NlNkFGM2NlMUVmMzc3NzcyMWZDQzBlZWYwZUU1N0VhYmEsCiAgICAgICAgMHhCRGJhRjY0MzRkNDBENjM1NUIxZTgwZTQwQ2M0QUI5QzY4RDk2MTE2LAogICAgICAgIDB4MTcxMjViNTlhYzUxY0VlMDI5RTRiRDc4RDdmNTk0N0QxZUE0OUJCMiwKICAgICAgICAweEEzODJBM0E2NWMzRjhlZTJiNzI2QTI1MzVCM2MzNEE4OUQ5MDk0RDQsCiAgICAgICAgMHhBQjc4Yzg3ODFmQjY0QmVkMzdCMjc0QzVFRTc1OWVFMzM0NjVmMWYzLAogICAgICAgIDB4RTc0RjIwNjI2MTJFM2NBRThhOTNFMjRiMmYwRDNhMjEzMzM3Mzg4NCwKICAgICAgICAweDUwNTEyMDk1N0E5ODA2ODI3RjhGMTExQTEyMzU2MUU4MkM0MGJDNzgsCiAgICAgICAgMHgwMEE0NjkyMkIxQzU0QWU2YjU4MThDNDlCOTdFMDNFQjRCQjM1MmUxLAogICAgICAgIDB4RTc2ZkU1MmEyNTFDOEYzYTVkY0Q2NTdFNDdBNkM4RDE2RmRmNGJGQQogICAgXTsKCn0vLyBDcm93ZHNhbGVNaW50ZXI='.
	

]
