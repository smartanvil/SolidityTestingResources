Class {
	#name : #SRT51a38f67810f4ebd1c3fead7d65cf5df2bcb0b7f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT51a38f67810f4ebd1c3fead7d65cf5df2bcb0b7f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7Cgpjb250cmFjdCBvd25lZCB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICBmdW5jdGlvbiBvd25lZCgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgbW9kaWZpZXIgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQp9CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgdG9rZW5SZWNpcGllbnQgeyBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZXh0cmFEYXRhKTsgfQoKY29udHJhY3QgUGFyZW50VG9rZW4gewoKICAgICAvKiBsaWJyYXJ5IHVzZWQgZm9yIGNhbGN1bGF0aW9ucyAqLwogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7IAoKICAgIC8qIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuICovCiAgICBzdHJpbmcgcHVibGljIG5hbWU7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBiYWxhbmNlczsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nKGFkZHJlc3M9PnVpbnQpKSBhbGxvd2FuY2U7ICAgICAgICAKCgoKICAgIC8qIEluaXRpYWxpemVzIGNvbnRyYWN0IHdpdGggaW5pdGlhbCBzdXBwbHkgdG9rZW5zIHRvIHRoZSBjcmVhdG9yIG9mIHRoZSBjb250cmFjdCAqLwogICAgZnVuY3Rpb24gUGFyZW50VG9rZW4odWludDI1NiBjdXJyZW50U3VwcGx5LAogICAgICAgIHN0cmluZyB0b2tlbk5hbWUsCiAgICAgICAgdWludDggZGVjaW1hbFVuaXRzLAogICAgICAgIHN0cmluZyB0b2tlblN5bWJvbCl7CiAgICAgICAgICAgIAogICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAgY3VycmVudFN1cHBseTsgICAgLy8gR2l2ZSB0aGUgY3JlYXRvciBhbGwgaW5pdGlhbCB0b2tlbnMgIAogICAgICAgdG90YWxTdXBwbHkgPSBjdXJyZW50U3VwcGx5OyAgICAgICAgICAgICAgLy8gVXBkYXRlIHRvdGFsIHN1cHBseSAKICAgICAgIG5hbWUgPSB0b2tlbk5hbWU7ICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgbmFtZSBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICAgZGVjaW1hbHMgPSBkZWNpbWFsVW5pdHM7ICAgICAgICAgICAgICAgICAgLy8gRGVjaW1hbHMgZm9yIHRoZSB0b2tlbnMKICAgICAgIHN5bWJvbCA9IHRva2VuU3ltYm9sOwkJCQkJLy8gU2V0IHRoZSBzeW1ib2wgZm9yIGRpc3BsYXkgcHVycG9zZXMJCiAgICB9CiAgICAKICAgIAoKICAgLy8vQG5vdGljZSBUcmFuc2ZlciB0b2tlbnMgdG8gdGhlIGJlbmVmaWNpYXJ5IGFjY291bnQKICAgLy8vQHBhcmFtICB0byBUaGUgYmVuZWZpY2lhcnkgYWNjb3VudAogICAvLy9AcGFyYW0gIHZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQgIAogICAgICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKXsKICAgICAgICByZXF1aXJlKAogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSB2YWx1ZSAKICAgICAgICAgICAgJiYgdmFsdWUgPiAwIAogICAgICAgICAgICApOwogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1Yih2YWx1ZSk7ICAgIAogICAgICAgICAgICBiYWxhbmNlc1t0b10gPSBiYWxhbmNlc1t0b10uYWRkKHZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKCS8vL0Bub3RpY2UgQWxsb3cgYW5vdGhlciBjb250cmFjdCB0byBzcGVuZCBzb21lIHRva2VucyBpbiB5b3VyIGJlaGFsZgoJLy8vQHBhcmFtICBzcGVuZGVyIFRoZSBhZGRyZXNzIGF1dGhvcml6ZWQgdG8gc3BlbmQgCgkvLy9AcGFyYW0gIHZhbHVlIFRoZSBhbW91bnQgdG8gYmUgYXBwcm92ZWQgCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkKICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2FuY2VbbXNnLnNlbmRlcl1bc3BlbmRlcl0gPSB2YWx1ZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLy9Abm90aWNlIEFwcHJvdmUgYW5kIHRoZW4gY29tbXVuaWNhdGUgdGhlIGFwcHJvdmVkIGNvbnRyYWN0IGluIGEgc2luZ2xlIHR4CgkvLy9AcGFyYW0gIHNwZW5kZXIgVGhlIGFkZHJlc3MgYXV0aG9yaXplZCB0byBzcGVuZCAKCS8vL0BwYXJhbSAgdmFsdWUgVGhlIGFtb3VudCB0byBiZSBhcHByb3ZlZCAKICAgIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSwgYnl0ZXMgZXh0cmFEYXRhKQogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgeyAgICAKICAgICAgICB0b2tlblJlY2lwaWVudCByZWNTcGVuZGVyID0gdG9rZW5SZWNpcGllbnQoc3BlbmRlcik7CiAgICAgICAgaWYgKGFwcHJvdmUoc3BlbmRlciwgdmFsdWUpKSB7CiAgICAgICAgICAgIHJlY1NwZW5kZXIucmVjZWl2ZUFwcHJvdmFsKG1zZy5zZW5kZXIsIHZhbHVlLCB0aGlzLCBleHRyYURhdGEpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICB9CgoKCiAgIC8vL0Bub3RpY2UgVHJhbnNmZXIgdG9rZW5zIGJldHdlZW4gYWNjb3VudHMKICAgLy8vQHBhcmFtICBmcm9tIFRoZSBiZW5lZmFjdG9yL3NlbmRlciBhY2NvdW50LgogICAvLy9AcGFyYW0gIHRvIFRoZSBiZW5lZmljaWFyeSBhY2NvdW50CiAgIC8vL0BwYXJhbSAgdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcmVkICAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyl7CiAgICAgICAgCiAgICAgICAgcmVxdWlyZSgKICAgICAgICAgICAgYWxsb3dhbmNlW2Zyb21dW21zZy5zZW5kZXJdID49IHZhbHVlCiAgICAgICAgICAgICYmYmFsYW5jZXNbZnJvbV0gPj0gdmFsdWUKICAgICAgICAgICAgJiYgdmFsdWUgPiAwCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIAogICAgICAgICAgICBiYWxhbmNlc1tmcm9tXSA9IGJhbGFuY2VzW2Zyb21dLnN1Yih2YWx1ZSk7CiAgICAgICAgICAgIGJhbGFuY2VzW3RvXSA9ICBiYWxhbmNlc1t0b10uYWRkKHZhbHVlKTsKICAgICAgICAgICAgYWxsb3dhbmNlW2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dhbmNlW2Zyb21dW21zZy5zZW5kZXJdLnN1Yih2YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICAKfQoKCmNvbnRyYWN0IEdsb2JhbEJUQyBpcyBvd25lZCxQYXJlbnRUb2tlbnsKCiAgICAgLyogbGlicmFyeSB1c2VkIGZvciBjYWxjdWxhdGlvbnMgKi8KICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OyAKCiAgICAgLyogUHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4gKi8KICAgIHN0cmluZyBwdWJsaWMgc3RhbmRhcmQgPSAnVG9rZW4gMC4xJzsgIAogICAgdWludDI1NiBwdWJsaWMgY3VycmVudFN1cHBseT0gMzAwMDAwMDAwMDAwMDAwMDsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkdCVEMiOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCB0b2tlbk5hbWUgPSAiR2xvYmFsQlRDIjsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDg7CgogICAgCgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgZnJvemVuQWNjb3VudDsKCgogIC8vL0Bub3RpY2UgRGVmYXVsdCBmdW5jdGlvbiB1c2VkIGZvciBhbnkgcGF5bWVudHMgbWFkZS4KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgewogICAgICAgIGFjY2VwdFBheW1lbnQoKTsgICAgCiAgICB9CiAgIAoKICAgLy8vQG5vdGljZSBBY2NlcHQgcGF5bWVudCBhbmQgdHJhbnNmZXIgdG8gb3duZXIgYWNjb3VudC4gCiAgICBmdW5jdGlvbiBhY2NlcHRQYXltZW50KCkgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWU+MCk7CiAgICAgICAgCiAgICAgICAgb3duZXIudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgIH0KCgoKICAgIGZ1bmN0aW9uIEdsb2JhbEJUQygpUGFyZW50VG9rZW4oY3VycmVudFN1cHBseSx0b2tlbk5hbWUsZGVjaW1hbHMsc3ltYm9sKXt9CgoKICAgLy8vQG5vdGljZSBQcm92aWRlcyBiYWxhbmNlIG9mIHRoZSBhY2NvdW50IHJlcXVlc3RlZCAKICAgLy8vQHBhcmFtICBhZGQgQWRkcmVzcyBvZiB0aGUgYWNjb3VudCBmb3Igd2hpY2ggYmFsYW5jZSBpcyBiZWluZyBlbnF1aXJlZAogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgYWRkKSBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpewogICAgICAgcmV0dXJuIGJhbGFuY2VzW2FkZF07CiAgICB9CiAgICAKICAgIAogICAgCiAgIC8vL0Bub3RpY2UgVHJhbnNmZXIgdG9rZW5zIHRvIHRoZSBiZW5lZmljaWFyeSBhY2NvdW50CiAgIC8vL0BwYXJhbSAgdG8gVGhlIGJlbmVmaWNpYXJ5IGFjY291bnQKICAgLy8vQHBhcmFtICB2YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkIAogICAgICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyl7CiAgICAgICAgcmVxdWlyZSgKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gdmFsdWUgCiAgICAgICAgICAgICYmIHZhbHVlID4gMCAKICAgICAgICAgICAgJiYgKCFmcm96ZW5BY2NvdW50W21zZy5zZW5kZXJdKSAJCQkJCQkJCQkJLy8gQWxsb3cgdHJhbnNmZXIgb25seSBpZiBhY2NvdW50IGlzIG5vdCBmcm96ZW4KICAgICAgICAgICAgKTsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIodmFsdWUpOyAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIGJhbGFuY2VzW3RvXSA9IGJhbGFuY2VzW3RvXS5hZGQodmFsdWUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGJhbGFuY2Ugb2YgYmVuZWZpY2lhcnkgYWNjb3VudAoJCQlUcmFuc2Zlcihtc2cuc2VuZGVyLHRvLHZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIAoKICAgLy8vQG5vdGljZSBUcmFuc2ZlciB0b2tlbnMgYmV0d2VlbiBhY2NvdW50cwogICAvLy9AcGFyYW0gIGZyb20gVGhlIGJlbmVmYWN0b3Ivc2VuZGVyIGFjY291bnQuCiAgIC8vL0BwYXJhbSAgdG8gVGhlIGJlbmVmaWNpYXJ5IGFjY291bnQKICAgLy8vQHBhcmFtICB2YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVyZWQgIAogICAgICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyl7CiAgICAgICAgCiAgICAgICAgICAgIHJlcXVpcmUoCiAgICAgICAgICAgIGFsbG93YW5jZVtmcm9tXVttc2cuc2VuZGVyXSA+PSB2YWx1ZQogICAgICAgICAgICAmJmJhbGFuY2VzW2Zyb21dID49IHZhbHVlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQ2hlY2sgaWYgdGhlIGJlbmVmYWN0b3IgaGFzIHN1ZmZpY2llbnQgYmFsYW5jZQogICAgICAgICAgICAmJiB2YWx1ZSA+IDAgCiAgICAgICAgICAgICYmICghZnJvemVuQWNjb3VudFttc2cuc2VuZGVyXSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsb3cgdHJhbnNmZXIgb25seSBpZiBhY2NvdW50IGlzIG5vdCBmcm96ZW4KICAgICAgICAgICAgKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGJhbGFuY2VzW2Zyb21dID0gYmFsYW5jZXNbZnJvbV0uc3ViKHZhbHVlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVkdWN0IGZyb20gdGhlIGJlbmVmYWN0b3IgYWNjb3VudAogICAgICAgICAgICBiYWxhbmNlc1t0b10gPSAgYmFsYW5jZXNbdG9dLmFkZCh2YWx1ZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgYmFsYW5jZSBvZiBiZW5lZmljaWFyeSBhY2NvdW50CiAgICAgICAgICAgIGFsbG93YW5jZVtmcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93YW5jZVtmcm9tXVttc2cuc2VuZGVyXS5zdWIodmFsdWUpOwogICAgICAgICAgICBUcmFuc2Zlcihmcm9tLHRvLHZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIAogICAgCgogICAvLy9Abm90aWNlIEluY3JlYXNlIHRoZSBudW1iZXIgb2YgY29pbnMKICAgLy8vQHBhcmFtICB0YXJnZXQgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgd2hlcmUgdGhlIGNvaW5zIHdvdWxkIGJlIGFkZGVkLgogICAvLy9AcGFyYW0gIG1pbnRlZEFtb3VudCBUaGUgYW1vdW50IG9mIGNvaW5zIHRvIGJlIGFkZGVkCiAgICAgICAgZnVuY3Rpb24gbWludFRva2VuKGFkZHJlc3MgdGFyZ2V0LCB1aW50MjU2IG1pbnRlZEFtb3VudCkgb25seU93bmVyIHsKICAgICAgICBiYWxhbmNlc1t0YXJnZXRdID0gYmFsYW5jZXNbdGFyZ2V0XS5hZGQobWludGVkQW1vdW50KTsgICAgICAvL0FkZCB0aGUgYW1vdW50IG9mIGNvaW5zIHRvIGJlIGluY3JlYXNlZCB0byB0aGUgYmFsYW5jZQogICAgICAgIGN1cnJlbnRTdXBwbHkgPSBjdXJyZW50U3VwcGx5LmFkZChtaW50ZWRBbW91bnQpOyAgICAgICAgICAgIC8vQWRkIHRoZSBhbW91bnQgb2YgY29pbnMgdG8gYmUgaW5jcmVhc2VkIHRvIHRoZSBzdXBwbHkKICAgICAgICBUcmFuc2ZlcigwLCB0aGlzLCBtaW50ZWRBbW91bnQpOwogICAgICAgIFRyYW5zZmVyKHRoaXMsIHRhcmdldCwgbWludGVkQW1vdW50KTsKICAgIH0KCiAgIC8vL0Bub3RpY2UgRnJlZXplIHRoZSBhY2NvdW50IGF0IHRoZSB0YXJnZXQgYWRkcmVzcwogICAvLy9AcGFyYW0gIHRhcmdldCBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCB0byBiZSBmcm96ZW4KICAgIGZ1bmN0aW9uIGZyZWV6ZUFjY291bnQoYWRkcmVzcyB0YXJnZXQsIGJvb2wgZnJlZXplKSBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoZnJlZXplKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0NoZWNrIGlmIGFjY291bnQgaGFzIHRvIGJlIGZyZWV6ZWQKICAgICAgICBmcm96ZW5BY2NvdW50W3RhcmdldF0gPSBmcmVlemU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9GcmVlemUgdGhlIGFjY291bnQgIAogICAgICAgIEZyb3plbkZ1bmRzKHRhcmdldCwgZnJlZXplKTsKICAgIH0KCgogICAvLy8gQG5vdGljZSBSZW1vdmUgdG9rZW5zIGZyb20gdGhlIHN5c3RlbSBpcnJldmVyc2libHkKICAgIC8vLyBAcGFyYW0gdmFsdWUgVGhlIGFtb3VudCBvZiBtb25leSB0byBidXJuCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgdmFsdWUpIG9ubHlPd25lciByZXR1cm5zIChib29sIHN1Y2Nlc3MpICB7CiAgICAgICAgcmVxdWlyZSAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPiB2YWx1ZSAmJiB2YWx1ZT4wKTsgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2ggYmFsYW5jZQogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKHZhbHVlKTsgICAgICAgLy8gRGVkdWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIGN1cnJlbnRTdXBwbHkgPSBjdXJyZW50U3VwcGx5LnN1Yih2YWx1ZSk7ICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGN1cnJlbnRTdXBwbHkKICAgICAgICBCdXJuKG1zZy5zZW5kZXIsIHZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBidXJuRnJvbShhZGRyZXNzIGZyb20sIHVpbnQyNTYgdmFsdWUpIG9ubHlPd25lciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW2Zyb21dID49IHZhbHVlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSB0YXJnZXRlZCBiYWxhbmNlIGlzIGVub3VnaAogICAgICAgIHJlcXVpcmUodmFsdWUgPD0gYWxsb3dhbmNlW2Zyb21dW21zZy5zZW5kZXJdKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgYWxsb3dhbmNlCiAgICAgICAgYmFsYW5jZXNbZnJvbV0gPSBiYWxhbmNlc1tmcm9tXS5zdWIodmFsdWUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWR1Y3QgZnJvbSB0aGUgdGFyZ2V0ZWQgYmFsYW5jZQogICAgICAgIGFsbG93YW5jZVtmcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93YW5jZVtmcm9tXVttc2cuc2VuZGVyXS5zdWIodmFsdWUpOyAgICAgLy8gRGVkdWN0IGZyb20gdGhlIHNlbmRlcidzIGFsbG93YW5jZQogICAgICAgIGN1cnJlbnRTdXBwbHkgPSBjdXJyZW50U3VwcGx5LnN1Yih2YWx1ZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGN1cnJlbnRTdXBwbHkKICAgICAgICBCdXJuKGZyb20sIHZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgoKICAvKiBUaGlzIG5vdGlmaWVzIGNsaWVudHMgYWJvdXQgdGhlIGFtb3VudCB0cmFuc2ZlcmVkICovCglldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sdWludDI1NiBfdmFsdWUpOyAgICAgCgogIC8qIFRoaXMgbm90aWZpZXMgY2xpZW50cyBhYm91dCB0aGUgYW1vdW50IGFwcHJvdmVkICovCglldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsdWludDI1NiBfdmFsdWUpOwoKICAvKiBUaGlzIG5vdGlmaWVzIGNsaWVudHMgYWJvdXQgdGhlIGFjY291bnQgZnJlZXplICovCglldmVudCBGcm96ZW5GdW5kcyhhZGRyZXNzIHRhcmdldCwgYm9vbCBmcm96ZW4pOwogICAgCiAgLyogVGhpcyBub3RpZmllcyBjbGllbnRzIGFib3V0IHRoZSBhbW91bnQgYnVybnQgKi8KICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludDI1NiB2YWx1ZSk7Cgp9'.
	

]
