Class {
	#name : #SRT47f383f5acbacc18a3d9ff6f7af8b49bfed27c61,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT47f383f5acbacc18a3d9ff6f7af8b49bfed27c61 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7Ci8qKgoqIEV0aCBIb2RsZXIgKGYuay5hLiBIb2RsIERBTykgYW5kIEVSQzIwIHRva2VuCiogQXV0aG9yOiBDdXJyZW5jeVR5Y29vbiBvbiBHaXRIdWIKKiBMaWNlbnNlOiBNSVQKKiBEYXRlOiAyMDE3CioKKiBEZXBsb3kgd2l0aCB0aGUgZm9sbG93aW5nIGFyZ3M6CiogIkV0aCBIb2RsZXIiLCAxOCwgIkVIREwiCioKKi8KY29udHJhY3QgRXRoSG9kbGVyIHsKICAgIC8qIEVSQzIwIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuICovCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHZlcnNpb24gPSAnSERBTyAwLjcnOwogICAgc3RyaW5nIHB1YmxpYyBuYW1lOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICAvKiBFUkMyMCBUaGlzIGNyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgYmFsYW5jZXMgKi8KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VPZjsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgcHVibGljIGFsbG93YW5jZTsKCgogICAgLyogc3RvcmUgdGhlIGJsb2NrIG51bWJlciB3aGVuIGEgd2l0aGRyYXdhbCBoYXMgYmVlbiByZXF1ZXN0ZWQqLwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB3aXRoZHJhd2FsUmVxdWVzdCkgcHVibGljIHdpdGhkcmF3YWxSZXF1ZXN0czsKICAgIHN0cnVjdCB3aXRoZHJhd2FsUmVxdWVzdCB7CiAgICB1aW50IHNpbmNlVGltZTsKICAgIHVpbnQyNTYgYW1vdW50OwogICAgfQoKICAgIC8qKgogICAgICogZmVlUG90IGNvbGxlY3RzIGZlZXMgZnJvbSBxdWljayB3aXRoZHJhd2Fscy4gVGhpcyBnZXRzIHJlLWRpc3RyaWJ1dGVkIHRvIHNsb3ctd2l0aGRyYXdhbHMKICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBmZWVQb3Q7CgogICAgdWludCBwdWJsaWMgdGltZVdhaXQgPSAzMCBkYXlzOwogICAgLy91aW50IHB1YmxpYyB0aW1lV2FpdCA9IDEgbWludXRlczsgLy8gdW5jb21tZW50IGZvciBUZXN0TmV0CgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgaW5pdGlhbFN1cHBseSA9IDA7CgogICAgLyoqCiAgICAgKiBFUkMyMCBldmVudHMgdGhlc2UgZ2VuZXJhdGUgYSBwdWJsaWMgZXZlbnQgb24gdGhlIGJsb2NrY2hhaW4gdGhhdCB3aWxsIG5vdGlmeSBjbGllbnRzCiAgICAqLwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKCiAgICBldmVudCBXaXRoZHJhd2FsUXVpY2soYWRkcmVzcyBpbmRleGVkIGJ5LCB1aW50MjU2IGFtb3VudCwgdWludDI1NiBmZWUpOyAvLyBxdWljayB3aXRoZHJhd2FsIGRvbmUKICAgIGV2ZW50IEluY29ycmVjdEZlZShhZGRyZXNzIGluZGV4ZWQgYnksIHVpbnQyNTYgZmVlUmVxdWlyZWQpOyAgLy8gaW5jb3JyZWN0IGZlZSBwYWlkIGZvciBxdWljayB3aXRoZHJhd2FsCiAgICBldmVudCBXaXRoZHJhd2FsU3RhcnRlZChhZGRyZXNzIGluZGV4ZWQgYnksIHVpbnQyNTYgYW1vdW50KTsKICAgIGV2ZW50IFdpdGhkcmF3YWxEb25lKGFkZHJlc3MgaW5kZXhlZCBieSwgdWludDI1NiBhbW91bnQsIHVpbnQyNTYgcmV3YXJkKTsgLy8gYW1vdW50IGlzIHRoZSBhbW91bnQgdGhhdCB3YXMgdXNlZCB0byBjYWxjdWxhdGUgcmV3YXJkCiAgICBldmVudCBXaXRoZHJhd2FsUHJlbWF0dXJlKGFkZHJlc3MgaW5kZXhlZCBieSwgdWludCB0aW1lVG9XYWl0KTsgLy8gTmVlZHMgdG8gd2FpdCB0aW1lVG9XYWl0IGJlZm9yZSB3aXRoZHJhd2FsIHVubG9ja2VkCiAgICBldmVudCBEZXBvc2l0ZWQoYWRkcmVzcyBpbmRleGVkIGJ5LCB1aW50MjU2IGFtb3VudCk7CgogICAgLyoqCiAgICAgKiBJbml0aWFsaXplcyBjb250cmFjdCB3aXRoIGluaXRpYWwgc3VwcGx5IHRva2VucyB0byB0aGUgY3JlYXRvciBvZiB0aGUgY29udHJhY3QKICAgICAqIEluIG91ciBjYXNlLCB0aGVyZSdzIG5vIGluaXRpYWwgc3VwcGx5LiBUb2tlbnMgd2lsbCBiZSBjcmVhdGVkIGFzIGV0aGVyIGlzIHNlbnQKICAgICAqIHRvIHRoZSBmYWxsLWJhY2sgZnVuY3Rpb24uIFRoZW4gdG9rZW5zIGFyZSBidXJuZWQgd2hlbiBldGhlciBpcyB3aXRoZHJhd24uCiAgICAgKi8KICAgIGZ1bmN0aW9uIEV0aEhvZGxlcigKICAgIHN0cmluZyB0b2tlbk5hbWUsCiAgICB1aW50OCBkZWNpbWFsVW5pdHMsCiAgICBzdHJpbmcgdG9rZW5TeW1ib2wKICAgICkgewoKICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPSBpbml0aWFsU3VwcGx5OyAgICAgICAgICAgICAgLy8gR2l2ZSB0aGUgY3JlYXRvciBhbGwgaW5pdGlhbCB0b2tlbnMgKDAgaW4gdGhpcyBjYXNlKQogICAgICAgIHRvdGFsU3VwcGx5ID0gaW5pdGlhbFN1cHBseTsgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdG90YWwgc3VwcGx5ICgwIGluIHRoaXMgY2FzZSkKICAgICAgICBuYW1lID0gdG9rZW5OYW1lOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBuYW1lIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgc3ltYm9sID0gdG9rZW5TeW1ib2w7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgc3ltYm9sIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgZGVjaW1hbHMgPSBkZWNpbWFsVW5pdHM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFtb3VudCBvZiBkZWNpbWFscyBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgfQoKICAgIC8qKgogICAgICogbm90UGVuZGluZ1dpdGhkcmF3YWwgbW9kaWZpZXIgZ3VhcmRzIHRoZSBmdW5jdGlvbiBmcm9tIGV4ZWN1dGluZyB3aGVuIGEKICAgICAqIHdpdGhkcmF3YWwgaGFzIGJlZW4gcmVxdWVzdGVkIGFuZCBpcyBjdXJyZW50bHkgcGVuZGluZwogICAgICovCiAgICBtb2RpZmllciBub3RQZW5kaW5nV2l0aGRyYXdhbCB7CiAgICAgICAgaWYgKHdpdGhkcmF3YWxSZXF1ZXN0c1ttc2cuc2VuZGVyXS5zaW5jZVRpbWUgPiAwKSB0aHJvdzsKICAgICAgICBfOwogICAgfQoKICAgIC8qKiBFUkMyMCAtIHRyYW5zZmVyIHNlbmRzIHRva2VucwogICAgICogQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYG1zZy5zZW5kZXJgCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBub3RQZW5kaW5nV2l0aGRyYXdhbCB7CiAgICAgICAgaWYgKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA8IF92YWx1ZSkgdGhyb3c7ICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICBpZiAoYmFsYW5jZU9mW190b10gKyBfdmFsdWUgPCBiYWxhbmNlT2ZbX3RvXSkgdGhyb3c7IC8vIENoZWNrIGZvciBvdmVyZmxvd3MKICAgICAgICBpZiAod2l0aGRyYXdhbFJlcXVlc3RzW190b10uc2luY2VUaW1lID4gMCkgdGhyb3c7ICAgIC8vIGNhbid0IG1vdmUgdG9rZW5zIHdoZW4gX3RvIGlzIHBlbmRpbmcgd2l0aGRyYXdhbAogICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgYmFsYW5jZU9mW190b10gKz0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHNhbWUgdG8gdGhlIHJlY2lwaWVudAogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsgICAgICAgICAgICAgICAgICAgLy8gTm90aWZ5IGFueW9uZSBsaXN0ZW5pbmcgdGhhdCB0aGlzIHRyYW5zZmVyIHRvb2sgcGxhY2UKICAgIH0KCiAgICAvKiogRVJDMjAgYXBwcm92ZSBhbGxvd3MgYW5vdGhlciBjb250cmFjdCB0byBzcGVuZCBzb21lIHRva2VucyBpbiB5b3VyIGJlaGFsZgogICAgICogQG5vdGljZSBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9zcGVuZGVyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgICoKICAgICAqCiAgICAgKiBOb3RlLCB0aGVyZSBhcmUgc29tZSBlZGdlLWNhc2VzIHdpdGggdGhlIEVSQy0yMCBhcHByb3ZlIG1lY2hhbmlzbS4gSW4gdGhpcyBjYXNlIGEgJ2JvdW5kcyBjaGVjaycKICAgICAqIHdhcyBhZGRlZCB0byBtYWtlIHN1cmUgQWxpY2UgY2FudCcgYXBwcm92ZSBCb2IgZm9yIG1vcmUgdG9rZW5zIHRoYW4gc2hlIGhhcy4KICAgICAqIFRoZSBhc3N1bXB0aW9ucyBhcmUgdGhhdCB0aGVzZSBzY2VuYXJpb3MgY291bGQgc3RpbGwgaGFwcGVuIGlmIG5vdCBtaXRpZ2F0ZWQgYnkgQWxpY2U6CiAgICAgKgogICAgICogU2NlbmFyaW8gMToKICAgICAqCiAgICAgKiBUaGUgZm9sbG93aW5nIHNjZW5hcmlvIGNvdWxkIGJlIHRoZSBleHBlY3RlZCBvdXRjb21lIGJ5IEFsaWNlLCBidXQgaWYgbm90LCBBbGljZSB3b3VsZCBuZWVkIHRvIHNldAogICAgICogaGVyIGFwcHJvdmFsIHRvIEJvYiB0byAwIGJlZm9yZSBBbGljZSBwdXJjaGFzZXMgbW9yZSB0b2tlbnMuCiAgICAgKgogICAgICogIDEuIEFsaWNlIGhhcyAxMDAgdG9rZW5zLgogICAgICogIDIuIEFsaWNlIGFwcHJvdmVzIDUwIHRva2VucyBmb3IgQm9iLgogICAgICogIDMuIEFsaWNlIGFwcHJvdmVzIDEwMCB0b2tlbnMgZm9yIENoYXJsZXMKICAgICAqICA0LiBCb2IgY2FsbHMgdHJhbnNmZXJGcm9tIGFuZCByZWNlaXZlcyBoaXMgNTAgdG9rZW5zLgogICAgICogIDUuIENoYXJsZXMgY2FsbHMgdHJhbnNmZXJGcm9tIGFuZCByZWNlaXZlcyB0aGUgcmVtYWluaW5nIDUwIHRva2VucwogICAgICogIDYuIENoYXJsZXMgc3RpbGwgaGFzIGFuIGFwcHJvdmFsIGZvciA1MCBtb3JlIHRva2VucyBmcm9tIEFsaWNlLCBldmVuIHRob3VnaCBzaGUgbm93IG93bnMgMCB0b2tlbnMuCiAgICAgKiAgNy4gQWxpY2UgcHVyY2hhc2VzIDUwIG1vcmUgdG9rZW5zCiAgICAgKiAgOC4gQ2hhcmxlcyBzZWVzIHRoaXMsIGFuZCBpbW1lZGlhdGVseSBjYWxscyB0cmFuc2ZlckZyb20gYW5kIHJlY2VpdmVzIHRob3NlIDUwIHRva2Vucy4KICAgICAqCiAgICAgKiBTY2VuYXJpbyAyOgogICAgICoKICAgICAqIFRoaXMgaXMgYSByYWNlIGNvbmRpdGlvbi4gVG8gbWl0aWdhdGUgdGhpcyBwcm9ibGVtLCBBbGljZSBzaG91bGQgc2V0IHRoZSBhbGxvd2FuY2UgdG8gMCBpbiBzdGVwIDIsCiAgICAgKiB0aGVuIHdhaXQgdW50aWwgaXQncyBtaW5lZCwgdGhlbiBpZiBCb2IgZGlkbid0IHRha2UgdGhlIDEwMCBzaGUgY2FuIHNldCB0byA1MC4gKE90aGVyd2lzZSBCb2IgbWF5CiAgICAgKiBwb3RlbnRpYWxseSBnZXQgMTUwIHRva2VucykKICAgICAqCiAgICAgKgogICAgICogIDEuIEFsaWNlIGFwcHJvdmVzIEJvYiBmb3IgMTAwLAogICAgICogIDIuIEFsaWNlIGNoYW5nZXMgaXQgdG8gNTAKICAgICAqICAzLiBCb2Igc2VlcyB0aGUgY2hhbmdlIGluIHRoZSBtZW1wb29sIGJlZm9yZSBpdCdzIG1pbmVkLCBhbmQgc2VuZHMgYSBuZXcgdHJhbnNhY3Rpb24KICAgICAqICAgICB0aGF0IHdpbGwgaG9wZWZ1bGx5IHdpbiB0aGUgcmFjZSBhbmQgd2l0aGRyYXcgdGhlIDEwMCBmaXJzdCwgbWVhbndoaWxlIHRoZSA1MCB3aWxsCiAgICAgKiAgICAgYmUgbWluZWQgYWZ0ZXIgYW5kIGFsbG93IEJvYiB0byB3aXRoZHJhdyBhbm90aGVyIDUwLgogICAgICoKICAgICAqCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIG5vdFBlbmRpbmdXaXRoZHJhd2FsCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBsaW5lIGhhcyBiZWVuIGNvbW1lbnRlZCBvdXQgYWZ0ZXIgcGVlciByZXZpZXcgIzIKICAgICAgICAvLyBJdCBtYXkgYmUgcG9zc2libGUgdGhhdCBBbGljZSBjYW4gcHJlLWFwcHJvdmUgdGhlIHJlY2lwaWVudCBpbiBhZHZhbmNlLCBiZWZvcmUgc2hlIGhhcyBhIGJhbGFuY2UuCiAgICAgICAgLy8gZWcuIEFsaWNlIG1heSBhcHByb3ZlIGEgdG90YWwgbGlmZXRpbWUgYW1vdW50IGZvciBoZXIgY2hpbGQgdG8gc3BlbmQsIGJ1dCBvbmx5IGZ1bmQgaGVyIGFjY291bnQgbW9udGhseS4KICAgICAgICAvLyBJdCBhbHNvIGFsbG93cyBoZXIgdG8gaGF2ZSBtdWx0aXBsZSBlcXVhbCBhcHByb3ZlZXMKCiAgICAgICAgLy9pZiAoYmFsYW5jZU9mW21zZy5zZW5kZXJdIDwgX3ZhbHVlKSByZXR1cm4gZmFsc2U7IC8vIERvbid0IGFsbG93IG1vcmUgdGhhbiB0aGV5IGN1cnJlbnRseSBoYXZlIChib3VuZHMgY2hlY2spCgogICAgICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXMmIzE4MDsKICAgICAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwwKWAgaWYgaXQgaXMgbm90CiAgICAgICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAgICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICAgICAgaWYgKChfdmFsdWUgIT0gMCkgJiYgKGFsbG93YW5jZVttc2cuc2VuZGVyXVtfc3BlbmRlcl0gIT0gMCkpIHRocm93OwogICAgICAgIGFsbG93YW5jZVttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBtdXN0IHJldHVybiBhIGJvb2wgYXMgcGFydCBvZiB0aGUgRVJDMjAKICAgIH0KCgogICAgLyoqCiAgICAgKiBFUkMtMjAgQXBwcm92ZXMgYW5kIHRoZW4gY2FsbHMgdGhlIHJlY2VpdmluZyBjb250cmFjdAogICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZXh0cmFEYXRhKSBub3RQZW5kaW5nV2l0aGRyYXdhbAogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgogICAgICAgIGlmICghYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKSkgcmV0dXJuIGZhbHNlOwoKICAgICAgICAvL2NhbGwgdGhlIHJlY2VpdmVBcHByb3ZhbCBmdW5jdGlvbiBvbiB0aGUgY29udHJhY3QgeW91IHdhbnQgdG8gYmUgbm90aWZpZWQuIFRoaXMgY3JhZnRzIHRoZSBmdW5jdGlvbiBzaWduYXR1cmUgbWFudWFsbHkgc28gb25lIGRvZXNuJ3QgaGF2ZSB0byBpbmNsdWRlIGEgY29udHJhY3QgaW4gaGVyZSBqdXN0IGZvciB0aGlzLgogICAgICAgIC8vcmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlLCBhZGRyZXNzIF90b2tlbkNvbnRyYWN0LCBieXRlcyBfZXh0cmFEYXRhKQogICAgICAgIC8vaXQgaXMgYXNzdW1lZCB0aGF0IHdoZW4gZG9lcyB0aGlzIHRoYXQgdGhlIGNhbGwgKnNob3VsZCogc3VjY2VlZCwgb3RoZXJ3aXNlIG9uZSB3b3VsZCB1c2UgdmFuaWxsYSBhcHByb3ZlIGluc3RlYWQuCiAgICAgICAgaWYoIV9zcGVuZGVyLmNhbGwoYnl0ZXM0KGJ5dGVzMzIoc2hhMygicmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MsdWludDI1NixhZGRyZXNzLGJ5dGVzKSIpKSksIG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSkpIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogRVJDMjAgQSBjb250cmFjdCBhdHRlbXB0cyB0byBnZXQgdGhlIGNvaW5zLiBOb3RlOiBXZSBhcmUgbm90IGFsbG93aW5nIGEgdHJhbnNmZXIgaWYKICAgICAqIGVpdGhlciB0aGUgZnJvbSBvciB0byBhZGRyZXNzIGlzIHBlbmRpbmcgd2l0aGRyYXdhbAogICAgICogQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYF9mcm9tYCBvbiB0aGUgY29uZGl0aW9uIGl0IGlzIGFwcHJvdmVkIGJ5IGBfZnJvbWAKICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIG5vdGUgdGhhdCB3ZSBjYW4ndCB1c2Ugbm90UGVuZGluZ1dpdGhkcmF3YWwgbW9kaWZpZXIgaGVyZSBzaW5jZSB0aGlzIGZ1bmN0aW9uIGRvZXMgYSB0cmFuc2ZlcgogICAgICAgIC8vIG9uIHRoZSBiZWhhbGYgb2YgX2Zyb20KICAgICAgICBpZiAod2l0aGRyYXdhbFJlcXVlc3RzW19mcm9tXS5zaW5jZVRpbWUgPiAwKSB0aHJvdzsgICAvLyBjYW4ndCBtb3ZlIHRva2VucyB3aGVuIF9mcm9tIGlzIHBlbmRpbmcgd2l0aGRyYXdhbAogICAgICAgIGlmICh3aXRoZHJhd2FsUmVxdWVzdHNbX3RvXS5zaW5jZVRpbWUgPiAwKSB0aHJvdzsgICAgIC8vIGNhbid0IG1vdmUgdG9rZW5zIHdoZW4gX3RvIGlzIHBlbmRpbmcgd2l0aGRyYXdhbAogICAgICAgIGlmIChiYWxhbmNlT2ZbX2Zyb21dIDwgX3ZhbHVlKSB0aHJvdzsgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaAogICAgICAgIGlmIChiYWxhbmNlT2ZbX3RvXSArIF92YWx1ZSA8IGJhbGFuY2VPZltfdG9dKSB0aHJvdzsgIC8vIENoZWNrIGZvciBvdmVyZmxvd3MKICAgICAgICBpZiAoX3ZhbHVlID4gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSkgdGhyb3c7ICAgICAvLyBDaGVjayBhbGxvd2FuY2UKICAgICAgICBiYWxhbmNlT2ZbX2Zyb21dIC09IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIKICAgICAgICBiYWxhbmNlT2ZbX3RvXSArPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHNhbWUgdG8gdGhlIHJlY2lwaWVudAogICAgICAgIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiB3aXRoZHJhd2FsSW5pdGlhdGUgaW5pdGlhdGVzIHRoZSB3aXRoZHJhd2FsIGJ5IGdvaW5nIGludG8gYSB3YWl0aW5nIHBlcmlvZAogICAgICogSXQgcmVtZW1iZXJzIHRoZSBibG9jayBudW1iZXIgJiBhbW91bnQgaGVsZCBhdCB0aGUgdGltZSBvZiByZXF1ZXN0LgogICAgICogVG9rZW5zIGNhbm5vdCBiZSBtb3ZlZCBvdXQgZHVyaW5nIHRoZSB3YWl0aW5nIHBlcmlvZCwgbG9ja2luZyB0aGUgdG9rZW5zIHVudGlsIHRoZW4uCiAgICAgKiBBZnRlciB0aGUgd2FpdGluZyBwZXJpb2QgZmluaXNoZXMsIHRoZSBjYWxsIHdpdGhkcmF3YWxDb21wbGV0ZQogICAgICoKICAgICAqIEdhczogNjQ0OTAKICAgICAqCiAgICAgKi8KICAgIGZ1bmN0aW9uIHdpdGhkcmF3YWxJbml0aWF0ZSgpIG5vdFBlbmRpbmdXaXRoZHJhd2FsIHsKICAgICAgICBXaXRoZHJhd2FsU3RhcnRlZChtc2cuc2VuZGVyLCBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0pOwogICAgICAgIHdpdGhkcmF3YWxSZXF1ZXN0c1ttc2cuc2VuZGVyXSA9IHdpdGhkcmF3YWxSZXF1ZXN0KG5vdywgYmFsYW5jZU9mW21zZy5zZW5kZXJdKTsKICAgIH0KCiAgICAvKioKICAgICAqIHdpdGhkcmF3YWxDb21wbGV0ZSBpcyBjYWxsZWQgYWZ0ZXIgdGhlIHdhaXRpbmcgcGVyaW9kLiBUaGUgZXRoZXIgd2lsbCBiZQogICAgICogcmV0dXJuZWQgdG8gdGhlIGNhbGxlciBhbmQgdGhlIHRva2VucyB3aWxsIGJlIGJ1cm5lZC4KICAgICAqIEEgcmV3YXJkIHdpbGwgYmUgaXNzdWVkIGJhc2VkIG9uIHRoZSBjdXJyZW50IGFtb3VudCBpbiB0aGUgZmVlUG90LCByZWxhdGl2ZSB0byB0aGUKICAgICAqIGFtb3VudCB0aGF0IHdhcyByZXF1ZXN0ZWQgZm9yIHdpdGhkcmF3YWwgd2hlbiB3aXRoZHJhd2FsSW5pdGlhdGUoKSB3YXMgY2FsbGVkLgogICAgICoKICAgICAqIEdhczogMzA5NDYKICAgICAqLwogICAgZnVuY3Rpb24gd2l0aGRyYXdhbENvbXBsZXRlKCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHdpdGhkcmF3YWxSZXF1ZXN0IHIgPSB3aXRoZHJhd2FsUmVxdWVzdHNbbXNnLnNlbmRlcl07CiAgICAgICAgaWYgKHIuc2luY2VUaW1lID09IDApIHRocm93OwogICAgICAgIGlmICgoci5zaW5jZVRpbWUgKyB0aW1lV2FpdCkgPiBub3cpIHsKICAgICAgICAgICAgLy8gaG9sZGVyIG5lZWRzIHRvIHdhaXQgc29tZSBtb3JlIGJsb2NrcwogICAgICAgICAgICBXaXRoZHJhd2FsUHJlbWF0dXJlKG1zZy5zZW5kZXIsIHIuc2luY2VUaW1lICsgdGltZVdhaXQgLSBub3cpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHVpbnQyNTYgYW1vdW50ID0gd2l0aGRyYXdhbFJlcXVlc3RzW21zZy5zZW5kZXJdLmFtb3VudDsKICAgICAgICB1aW50MjU2IHJld2FyZCA9IGNhbGN1bGF0ZVJld2FyZChyLmFtb3VudCk7CiAgICAgICAgd2l0aGRyYXdhbFJlcXVlc3RzW21zZy5zZW5kZXJdLnNpbmNlVGltZSA9IDA7ICAgLy8gVGhpcyB3aWxsIHVubG9jayB0aGUgaG9sZGVycyB0b2tlbnMKICAgICAgICB3aXRoZHJhd2FsUmVxdWVzdHNbbXNnLnNlbmRlcl0uYW1vdW50ID0gMDsgICAgICAvLyBjbGVhciB0aGUgYW1vdW50IHRoYXQgd2FzIHJlcXVlc3RlZAoKICAgICAgICBpZiAocmV3YXJkID4gMCkgewogICAgICAgICAgICBpZiAoZmVlUG90IC0gcmV3YXJkID4gZmVlUG90KSB7ICAgICAgICAgICAgIC8vIHVuZGVyZmxvdyBjaGVjawogICAgICAgICAgICAgICAgZmVlUG90ID0gMDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGZlZVBvdCAtPSByZXdhcmQ7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZG9XaXRoZHJhd2FsKHJld2FyZCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnVybiB0aGUgdG9rZW5zIGFuZCBzZW5kIGJhY2sgdGhlIGV0aGVyCiAgICAgICAgV2l0aGRyYXdhbERvbmUobXNnLnNlbmRlciwgYW1vdW50LCByZXdhcmQpOwogICAgICAgIHJldHVybiB0cnVlOwoKICAgIH0KCiAgICAvKioKICAgICAqIFJld2FyZCBpcyBiYXNlZCBvbiB0aGUgYW1vdW50IGhlbGQsIHJlbGF0aXZlIHRvIHRvdGFsIHN1cHBseSBvZiB0b2tlbnMuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVJld2FyZCh1aW50MjU2IHYpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IHJld2FyZCA9IDA7CiAgICAgICAgaWYgKGZlZVBvdCA+IDApIHsKICAgICAgICAgICAgcmV3YXJkID0gZmVlUG90ICogdiAvIHRvdGFsU3VwcGx5OyAvLyBhc3N1bWluZyB0aGF0IGlmIGZlZVBvdCA+IDAgdGhlbiBhbHNvIHRvdGFsU3VwcGx5ID4gMAogICAgICAgIH0KICAgICAgICByZXR1cm4gcmV3YXJkOwogICAgfQoKICAgIC8qKiBjYWxjdWxhdGUgdGhlIGZlZSBmb3IgcXVpY2sgd2l0aGRyYXdhbAogICAgICovCiAgICBmdW5jdGlvbiBjYWxjdWxhdGVGZWUodWludDI1NiB2KSBjb25zdGFudCByZXR1cm5zICAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgZmVlUmVxdWlyZWQgPSB2IC8gMTAwOyAvLyAxJQogICAgICAgIHJldHVybiBmZWVSZXF1aXJlZDsKICAgIH0KCiAgICAvKioKICAgICAqIFF1aWNrIHdpdGhkcmF3YWwsIG5lZWRzIHRvIHNlbmQgZXRoZXIgdG8gdGhpcyBmdW5jdGlvbiBmb3IgdGhlIGZlZS4KICAgICAqCiAgICAgKiBHYXMgdXNlOiA/IChpbmNsdWRpbmcgY2FsbCB0byBwcm9jZXNzV2l0aGRyYXdhbCkKICAgICovCiAgICBmdW5jdGlvbiBxdWlja1dpdGhkcmF3KCkgcGF5YWJsZSBub3RQZW5kaW5nV2l0aGRyYXdhbCByZXR1cm5zIChib29sKSB7CiAgICAgICAgdWludDI1NiBhbW91bnQgPSBiYWxhbmNlT2ZbbXNnLnNlbmRlcl07CiAgICAgICAgaWYgKGFtb3VudCA9PSAwKSB0aHJvdzsKICAgICAgICAvLyBjYWxjdWxhdGUgcmVxdWlyZWQgZmVlCiAgICAgICAgdWludDI1NiBmZWVSZXF1aXJlZCA9IGNhbGN1bGF0ZUZlZShhbW91bnQpOwogICAgICAgIGlmIChtc2cudmFsdWUgIT0gZmVlUmVxdWlyZWQpIHsKICAgICAgICAgICAgSW5jb3JyZWN0RmVlKG1zZy5zZW5kZXIsIGZlZVJlcXVpcmVkKTsgICAvLyBub3RpZnkgdGhlIGV4YWN0IGZlZSB0aGF0IG5lZWRzIHRvIGJlIHNlbnQKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgICAgIGZlZVBvdCArPSBtc2cudmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCBmZWUgdG8gdGhlIGZlZVBvdAogICAgICAgIGRvV2l0aGRyYXdhbCgwKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpdGhkcmF3LCAwIHJld2FyZAogICAgICAgIFdpdGhkcmF3YWxEb25lKG1zZy5zZW5kZXIsIGFtb3VudCwgMCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBkbyB3aXRoZHJhd2FsCiAgICAgKi8KICAgIGZ1bmN0aW9uIGRvV2l0aGRyYXdhbCh1aW50MjU2IGV4dHJhKSBpbnRlcm5hbCB7CiAgICAgICAgdWludDI1NiBhbW91bnQgPSBiYWxhbmNlT2ZbbXNnLnNlbmRlcl07CiAgICAgICAgaWYgKGFtb3VudCA9PSAwKSB0aHJvdzsgICAgICAgICAgICAgICAgICAgICAgLy8gY2Fubm90IHdpdGhkcmF3CiAgICAgICAgaWYgKGFtb3VudCArIGV4dHJhID4gdGhpcy5iYWxhbmNlKSB7CiAgICAgICAgICAgIHRocm93OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29udHJhY3QgZG9lc24ndCBoYXZlIGVub3VnaCBiYWxhbmNlCiAgICAgICAgfQoKICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPSAwOwogICAgICAgIGlmICh0b3RhbFN1cHBseSA8IHRvdGFsU3VwcGx5IC0gYW1vdW50KSB7CiAgICAgICAgICAgIHRocm93OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3QgbGV0IGl0IHVuZGVyZmxvdyAoc2hvdWxkIG5vdCBoYXBwZW4gc2luY2UgYW1vdW50IDw9IHRvdGFsU3VwcGx5KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRvdGFsU3VwcGx5IC09IGFtb3VudDsgICAgICAgICAgICAgICAgICAgLy8gZGVmbGF0ZSB0aGUgc3VwcGx5IQogICAgICAgIH0KICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCAwLCBhbW91bnQpOyAgICAgICAgICAgICAvLyBidXJuIGJhYnkgYnVybgogICAgICAgIGlmICghbXNnLnNlbmRlci5zZW5kKGFtb3VudCArIGV4dHJhKSkgdGhyb3c7IC8vIHJldHVybiBiYWNrIHRoZSBldGhlciBvciByb2xsYmFjayBpZiBmYWlsZWQKICAgIH0KCgogICAgLyoqCiAgICAgKiBGYWxsYmFjayBmdW5jdGlvbiB3aGVuIHNlbmRpbmcgZXRoZXIgdG8gdGhlIGNvbnRyYWN0CiAgICAgKiBHYXMgdXNlOiA2NTA1MQogICAgKi8KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgbm90UGVuZGluZ1dpdGhkcmF3YWwgewogICAgICAgIHVpbnQyNTYgYW1vdW50ID0gbXNnLnZhbHVlOyAgICAgICAgIC8vIGFtb3VudCB0aGF0IHdhcyBzZW50CiAgICAgICAgaWYgKGFtb3VudCA9PSAwKSB0aHJvdzsgICAgICAgICAgICAgLy8gbmVlZCB0byBzZW5kIHNvbWUgRVRICiAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdICs9IGFtb3VudDsgICAgLy8gbWludCBuZXcgdG9rZW5zCiAgICAgICAgdG90YWxTdXBwbHkgKz0gYW1vdW50OyAgICAgICAgICAgICAgLy8gdHJhY2sgdGhlIHN1cHBseQogICAgICAgIFRyYW5zZmVyKDAsIG1zZy5zZW5kZXIsIGFtb3VudCk7ICAgIC8vIG5vdGlmeSBvZiB0aGUgZXZlbnQKICAgICAgICBEZXBvc2l0ZWQobXNnLnNlbmRlciwgYW1vdW50KTsKICAgIH0KfQ=='.
	

]
