Class {
	#name : #SRT19cf8481ea15427a98ba3cdd6d9e14690011ab10,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT19cf8481ea15427a98ba3cdd6d9e14690011ab10 >> base64 [
	^ 'Ly9EQU8gUG9sc2thIFRva2VuIGRlcGxveW1lbnQKcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CmludGVyZmFjZSB0b2tlblJlY2lwaWVudCB7IGZ1bmN0aW9uIHJlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW4sIGJ5dGVzIF9leHRyYURhdGEpIHB1YmxpYzsgfQoKCi8vIHRpdGxlIE1pZ3JhdGlvbiBBZ2VudCBpbnRlcmZhY2UKY29udHJhY3QgTWlncmF0aW9uQWdlbnQgewogICAgZnVuY3Rpb24gbWlncmF0ZUZyb20oYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUpOwp9Cgpjb250cmFjdCBFUkMyMCB7CiAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50KTsKCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdmFsdWUpIHJldHVybnMgKGJvb2wgb2spOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwp9CgoKCi8qKgogKiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzCiAqLwpjb250cmFjdCBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gc2FmZU11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzYWZlRGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICBhc3NlcnQoYiA+IDApOwogICAgdWludCBjID0gYSAvIGI7CiAgICBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc2FmZVN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICsgYjsKICAgIGFzc2VydChjPj1hICYmIGM+PWIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgYXNzZXJ0aW9uKSBpbnRlcm5hbCB7CiAgICBpZiAoIWFzc2VydGlvbikgewogICAgICB0aHJvdzsKICAgIH0KICB9Cn0KCgoKLyoqCiAqIFN0YW5kYXJkIEVSQzIwIHRva2VuIHdpdGggU2hvcnQgSGFuZCBBdHRhY2sgYW5kIGFwcHJvdmUoKSByYWNlIGNvbmRpdGlvbiBtaXRpZ2F0aW9uLgogKgogKiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6CiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgU2FmZU1hdGggewoKICAvKiBUb2tlbiBzdXBwbHkgZ290IGluY3JlYXNlZCBhbmQgYSBuZXcgb3duZXIgcmVjZWl2ZWQgdGhlc2UgdG9rZW5zICovCiAgZXZlbnQgTWludGVkKGFkZHJlc3MgcmVjZWl2ZXIsIHVpbnQgYW1vdW50KTsKCiAgLyogQWN0dWFsIGJhbGFuY2VzIG9mIHRva2VuIGhvbGRlcnMgKi8KICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgYmFsYW5jZXM7CiAgLy8gd2hhdCBleGFjbHQgZXRoZXIgd2FzIHNlbnQKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgYmFsYW5jZXNSQVc7CiAgLyogYXBwcm92ZSgpIGFsbG93YW5jZXMgKi8KICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIGFsbG93ZWQ7CgogIC8qIEludGVyZmFjZSBkZWNsYXJhdGlvbiAqLwogIGZ1bmN0aW9uIGlzVG9rZW4oKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCB3ZUFyZSkgewogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzYWZlU3ViKGJhbGFuY2VzW21zZy5zZW5kZXJdLCBfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZXNbX3RvXSwgX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICB1aW50IF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLCBfdmFsdWUpOwogICAgYmFsYW5jZXNbX2Zyb21dID0gc2FmZVN1YihiYWxhbmNlc1tfZnJvbV0sIF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IHNhZmVTdWIoX2FsbG93YW5jZSwgX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9CgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIGlmICgoX3ZhbHVlICE9IDApICYmIChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSAhPSAwKSkgdGhyb3c7CgogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICAKICAKfQoKCi8vICBkYW9QT0xTS0F0b2tlbnMKY29udHJhY3QgZGFvUE9MU0tBdG9rZW5zewoKICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJEQU8gUE9MU0tBIFRPS0VOIHZlcnNpb24gMSI7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJEUEwiOwogICAgdWludDggcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7ICAvLyAxOCBkZWNpbWFsIHBsYWNlcywgdGhlIHNhbWUgYXMgRVRDL0VUSC9IRUUuCgogICAgLy8gUmVjZWl2ZXMgCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIGFkZHJlc3MgcHVibGljIG1pZ3JhdGlvbk1hc3RlcjsJCiAgICAvLyBUaGUgY3VycmVudCB0b3RhbCB0b2tlbiBzdXBwbHkuCgogICAgdWludDI1NiBwdWJsaWMgb3RoZXJjaGFpbnN0b3RhbHN1cHBseSA9MS4wIGV0aGVyOwogICAgdWludDI1NiBwdWJsaWMgc3VwcGx5bGltaXQgICAgICA9IDEwMDAwLjAgZXRoZXI7CgkvL3RvdGFsU3VwcGx5ICAgCiAgIHVpbnQyNTYgcHVibGljICB0b3RhbFN1cHBseSAgICAgID0gMC4wIGV0aGVyOwoJLy9jaGFpbnM6CglhZGRyZXNzIHB1YmxpYyBDaGFpbjEgPSAweDA7CglhZGRyZXNzIHB1YmxpYyBDaGFpbjIgPSAweDA7CglhZGRyZXNzIHB1YmxpYyBDaGFpbjMgPSAweDA7CglhZGRyZXNzIHB1YmxpYyBDaGFpbjQgPSAweDA7CgoJYWRkcmVzcyBwdWJsaWMgbWlncmF0aW9uQWdlbnQ9MHg4NTg1RDVBMjViMUZBMkEwRTZjM0JjZkMwOTgxOTViYWM5Nzg5QkUyOwogICAgdWludDI1NiBwdWJsaWMgdG90YWxNaWdyYXRlZDsKCgogICAgZXZlbnQgTWlncmF0ZShhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IFJlZnVuZChhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKTsKCgkKCXN0cnVjdCBzZW5kVG9rZW5Bd2F5ewoJCVN0YW5kYXJkVG9rZW4gY29pbkNvbnRyYWN0OwoJCXVpbnQgYW1vdW50OwoJCWFkZHJlc3MgcmVjaXBpZW50OwoJfQoJbWFwcGluZyh1aW50ID0+IHNlbmRUb2tlbkF3YXkpIHRyYW5zZmVyczsKCXVpbnQgbnVtVHJhbnNmZXJzPTA7CgkKICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwptYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzUkFXOwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCglldmVudCBVcGRhdGVkVG9rZW5JbmZvcm1hdGlvbihzdHJpbmcgbmV3TmFtZSwgc3RyaW5nIG5ld1N5bWJvbCk7CQogCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKCWV2ZW50IHJlY2VpdmVkRXRoZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLHVpbnQyNTYgX3ZhbHVlKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKCiAgICAgIC8vIFRoaXMgbm90aWZpZXMgY2xpZW50cyBhYm91dCB0aGUgYW1vdW50IGJ1cm50CiAgICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50MjU2IHZhbHVlKTsKICAvL3Rva2VuQ3JlYXRpb25DYXAKICBib29sIHB1YmxpYyBzdXBwbHlsaW1pdHNldCA9IGZhbHNlOwogIGJvb2wgcHVibGljIG90aGVyY2hhaW5zdG90YWxzZXQgPSBmYWxzZTsKICAgCiAgZnVuY3Rpb24gZGFvUE9MU0tBdG9rZW5zKCkgewpvd25lcj1tc2cuc2VuZGVyOwptaWdyYXRpb25NYXN0ZXI9bXNnLnNlbmRlcjsKfQoKZnVuY3Rpb24gIHNldFN1cHBseSh1aW50MjU2IHN1cHBseUxPQ0tFUikgcHVibGljIHsKICAgIAkgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgewogICAgICB0aHJvdzsKICAgIH0KCQkgICAgCSAgIGlmIChzdXBwbHlsaW1pdHNldCAhPSBmYWxzZSkgewogICAgICB0aHJvdzsKICAgIH0KCXN1cHBseWxpbWl0c2V0ID0gdHJ1ZTsKICAKCXN1cHBseWxpbWl0ID0gc3VwcGx5TE9DS0VSICoqIHVpbnQyNTYoZGVjaW1hbHMpOwovL2JhbGFuY2VzW293bmVyXT1zdXBwbHlsaW1pdDsKICB9IApmdW5jdGlvbiBzZXRvdGhlcmNoYWluc3RvdGFsc3VwcGx5KHVpbnQyNTYgc3VwcGx5TE9DS0VSKSBwdWJsaWMgewogICAgCSAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB7CiAgICAgIHRocm93OwogICAgfQoJICAgIAkgICBpZiAoc3VwcGx5bGltaXRzZXQgIT0gZmFsc2UpIHsKICAgICAgdGhyb3c7CiAgICB9CgoJb3RoZXJjaGFpbnN0b3RhbHNldCA9IHRydWU7CglvdGhlcmNoYWluc3RvdGFsc3VwcGx5ID0gc3VwcGx5TE9DS0VSICoqIHVpbnQyNTYoZGVjaW1hbHMpOwoJCiAgfSAKICAgIC8qKgogICAgICogU2V0IGFsbG93YW5jZSBmb3Igb3RoZXIgYWRkcmVzcyBhbmQgbm90aWZ5CiAgICAgKgogICAgICogQWxsb3dzIGBfc3BlbmRlcmAgdG8gc3BlbmQgbm8gbW9yZSB0aGFuIGBfdmFsdWVgIHRva2VucyBvbiB5b3VyIGJlaGFsZiwgYW5kIHRoZW4gcGluZyB0aGUgY29udHJhY3QgYWJvdXQgaXQKICAgICAqCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3MgYXV0aG9yaXplZCB0byBzcGVuZAogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgbWF4IGFtb3VudCB0aGV5IGNhbiBzcGVuZAogICAgICogQHBhcmFtIF9leHRyYURhdGEgc29tZSBleHRyYSBpbmZvcm1hdGlvbiB0byBzZW5kIHRvIHRoZSBhcHByb3ZlZCBjb250cmFjdAogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSkKICAgICAgICBwdWJsaWMKICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICB0b2tlblJlY2lwaWVudCBzcGVuZGVyID0gdG9rZW5SZWNpcGllbnQoX3NwZW5kZXIpOwogICAgICAgIGlmIChhcHByb3ZlKF9zcGVuZGVyLCBfdmFsdWUpKSB7CiAgICAgICAgICAgIHNwZW5kZXIucmVjZWl2ZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIERlc3Ryb3kgdG9rZW5zCiAgICAgKgogICAgICogUmVtb3ZlIGBfdmFsdWVgIHRva2VucyBmcm9tIHRoZSBzeXN0ZW0gaXJyZXZlcnNpYmx5CiAgICAgKgogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IG9mIG1vbmV5IHRvIGJ1cm4KICAgICAqLwogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKTsgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7ICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgdG90YWxTdXBwbHkgLT0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGVzIHRvdGFsU3VwcGx5CiAgICAgICAgQnVybihtc2cuc2VuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogRGVzdHJveSB0b2tlbnMgZnJvbSBvdGhlciBhY2NvdW50CiAgICAgKgogICAgICogUmVtb3ZlIGBfdmFsdWVgIHRva2VucyBmcm9tIHRoZSBzeXN0ZW0gaXJyZXZlcnNpYmx5IG9uIGJlaGFsZiBvZiBgX2Zyb21gLgogICAgICoKICAgICAqIEBwYXJhbSBfZnJvbSB0aGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBhbW91bnQgb2YgbW9uZXkgdG8gYnVybgogICAgICovCiAgICBmdW5jdGlvbiBidXJuRnJvbShhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSk7ICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSB0YXJnZXRlZCBiYWxhbmNlIGlzIGVub3VnaAogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsgICAgLy8gQ2hlY2sgYWxsb3dhbmNlCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgdGFyZ2V0ZWQgYmFsYW5jZQogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyJ3MgYWxsb3dhbmNlCiAgICAgICAgdG90YWxTdXBwbHkgLT0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0b3RhbFN1cHBseQogICAgICAgIEJ1cm4oX2Zyb20sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIC8vRGVmYXVsdCBhc3N1bWVzIHRvdGFsU3VwcGx5IGNhbid0IGJlIG92ZXIgbWF4ICgyXjI1NiAtIDEpLgogICAgLy9JZiB5b3VyIHRva2VuIGxlYXZlcyBvdXQgdG90YWxTdXBwbHkgYW5kIGNhbiBpc3N1ZSBtb3JlIHRva2VucyBhcyB0aW1lIGdvZXMgb24sIHlvdSBuZWVkIHRvIGNoZWNrIGlmIGl0IGRvZXNuJ3Qgd3JhcC4KICAgIC8vUmVwbGFjZSB0aGUgaWYgd2l0aCB0aGlzIG9uZSBpbnN0ZWFkLgogICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgLy9pZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsKICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAvL3NhbWUgYXMgYWJvdmUuIFJlcGxhY2UgdGhpcyBsaW5lIHdpdGggdGhlIGZvbGxvd2luZyBpZiB5b3Ugd2FudCB0byBwcm90ZWN0IGFnYWluc3Qgd3JhcHBpbmcgdWludHMuCiAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsKICAgIC8vaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsKICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0KICB9CgogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9CgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKCgkKCSAgICBmdW5jdGlvbiAoKSBwYXlhYmxlICBwdWJsaWMgewoJCSBpZihmdW5kaW5nKXsgCiAgICAgICAgcmVjZWl2ZWRFdGhlcihtc2cuc2VuZGVyLCBtc2cudmFsdWUpOwoJCWJhbGFuY2VzW21zZy5zZW5kZXJdPWJhbGFuY2VzW21zZy5zZW5kZXJdK21zZy52YWx1ZTsKCQl9IGVsc2UgdGhyb3c7CgkJCiAgICB9CiAgIAoKCgoJCiAgZnVuY3Rpb24gc2V0VG9rZW5JbmZvcm1hdGlvbihzdHJpbmcgX25hbWUsIHN0cmluZyBfc3ltYm9sKSB7CiAgICAKCSAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB7CiAgICAgIHRocm93OwogICAgfQoJbmFtZSA9IF9uYW1lOwogICAgc3ltYm9sID0gX3N5bWJvbDsKCiAgICBVcGRhdGVkVG9rZW5JbmZvcm1hdGlvbihuYW1lLCBzeW1ib2wpOwogIH0KCmZ1bmN0aW9uIHNldENoYWluc0FkZHJlc3NlcyhhZGRyZXNzIGNoYWluQWQsIGludCBjaGFpbm51bWJlcikgewogICAgCgkgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgewogICAgICB0aHJvdzsKICAgIH0KCWlmKGNoYWlubnVtYmVyPT0xKXtDaGFpbjE9Y2hhaW5BZDt9CglpZihjaGFpbm51bWJlcj09Mil7Q2hhaW4yPWNoYWluQWQ7fQoJaWYoY2hhaW5udW1iZXI9PTMpe0NoYWluMz1jaGFpbkFkO30KCWlmKGNoYWlubnVtYmVyPT00KXtDaGFpbjQ9Y2hhaW5BZDt9CQkKICB9IAoKICBmdW5jdGlvbiBEQU9Qb2xza2FUb2tlbklDT3JlZ3VsYXRpb25zKCkgZXh0ZXJuYWwgcmV0dXJucyhzdHJpbmcgd293KSB7CglyZXR1cm4gJ1JlZ3VsYXRpb25zIG9mIHByZUlDTyBhbmQgSUNPIGFyZSBwcmVzZW50IGF0IHdlYnNpdGUgIERBTyBQb2xza2EgVG9rZW4ubmV0d29yayBhbmQgYnkgdXNpbmcgdGhpcyBzbWFydGNvbnRyYWN0IGFuZCBibG9ja2NoYWlucyB5b3UgY29tbWl0IHRoYXQgeW91IGFjY2VwdCBhbmQgd2lsbCBmb2xsb3cgdGhvc2UgcnVsZXMnOwp9Ci8vIGlmIGFjY2lkZW50YWxseSBvdGhlciB0b2tlbiB3YXMgZG9uYXRlZCB0byBQcm9qZWN0IERldgoKCglmdW5jdGlvbiBzZW5kVG9rZW5BdyhhZGRyZXNzIFN0YW5kYXJkVG9rZW5BZGRyZXNzLCBhZGRyZXNzIHJlY2VpdmVyLCB1aW50IGFtb3VudCl7CgkJaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsKCQl0aHJvdzsKCQl9CgkJc2VuZFRva2VuQXdheSB0ID0gdHJhbnNmZXJzW251bVRyYW5zZmVyc107CgkJdC5jb2luQ29udHJhY3QgPSBTdGFuZGFyZFRva2VuKFN0YW5kYXJkVG9rZW5BZGRyZXNzKTsKCQl0LmFtb3VudCA9IGFtb3VudDsKCQl0LnJlY2lwaWVudCA9IHJlY2VpdmVyOwoJCXQuY29pbkNvbnRyYWN0LnRyYW5zZmVyKHJlY2VpdmVyLCBhbW91bnQpOwoJCW51bVRyYW5zZmVycysrOwoJfQoKICAgICAvLyBDcm93ZGZ1bmRpbmc6CnVpbnQgcHVibGljIHRva2VuQ3JlYXRpb25SYXRlPTEwMDA7CnVpbnQgcHVibGljIGJvbnVzQ3JlYXRpb25SYXRlPTEwMDA7CnVpbnQgcHVibGljIENyZWF0aW9uUmF0ZT0xNzYxOwogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBvbmV3ZWVrID0gMzYwMDA7CnVpbnQyNTYgcHVibGljIGZ1bmRpbmdFbmRCbG9jayA9IDU0MzM2MTY7CmJvb2wgcHVibGljIGZ1bmRpbmcgPSB0cnVlOwpib29sIHB1YmxpYyByZWZ1bmRzdGF0ZSA9IGZhbHNlOwpib29sIHB1YmxpYyBtaWdyYXRlc3RhdGU9IGZhbHNlOwogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZURhb1BPTFNLQXRva2VucyhhZGRyZXNzIGhvbGRlcikgcGF5YWJsZSB7CgogICAgICAgIGlmICghZnVuZGluZykgdGhyb3c7CgogICAgICAgIC8vIERvIG5vdCBhbGxvdyBjcmVhdGluZyAwIG9yIG1vcmUgdGhhbiB0aGUgY2FwIHRva2Vucy4KICAgICAgICBpZiAobXNnLnZhbHVlID09IDApIHRocm93OwoJCS8vIGNoZWNrIHRoZSBtYXhpbXVtIHRva2VuIGNyZWF0aW9uIGNhcAogICAgICAgIGlmIChtc2cudmFsdWUgPiAoc3VwcGx5bGltaXQgLSB0b3RhbFN1cHBseSkgLyBDcmVhdGlvblJhdGUpCiAgICAgICAgICB0aHJvdzsKCQkKCQkvL2JvbnVzIHN0cnVjdHVyZQovLyBpbiBlYXJseSBzdGFnZSB0aGVyZSBpcyBhYm91dCAxMDAlIG1vcmUgZGV0YWlscyBpbiBpY28gcmVndWxhdGlvbnMgb24gd2Vic2l0ZQovLyBwcmljZSBhbmQgY29udmVyc3Rpb24gcmF0ZSBpbiB0YWJsZWQgdG8gUExOIG5vdCBldGhlciwgYW5kIGlzIHVwZGF0ZWQgZGFpbHkKCgoKCSB2YXIgbnVtVG9rZW5zUkFXID0gbXNnLnZhbHVlOwoKICAgICAgICB2YXIgbnVtVG9rZW5zID0gbXNnLnZhbHVlICogQ3JlYXRpb25SYXRlOwogICAgICAgIHRvdGFsU3VwcGx5ICs9IG51bVRva2VuczsKCiAgICAgICAgLy8gQXNzaWduIG5ldyB0b2tlbnMgdG8gdGhlIHNlbmRlcgogICAgICAgIGJhbGFuY2VzW2hvbGRlcl0gKz0gbnVtVG9rZW5zOwogICAgICAgIGJhbGFuY2VzUkFXW2hvbGRlcl0gKz0gbnVtVG9rZW5zUkFXOwogICAgICAgIC8vIExvZyB0b2tlbiBjcmVhdGlvbiBldmVudAogICAgICAgIFRyYW5zZmVyKDAsIGhvbGRlciwgbnVtVG9rZW5zKTsKCQkKCQkvLyBDcmVhdGUgYWRkaXRpb25hbCBEYW8gVG9rZW5zIGZvciB0aGUgY29tbXVuaXR5IGFuZCBkZXZlbG9wZXJzIGFyb3VuZCAxMiUKICAgICAgICB1aW50MjU2IHBlcmNlbnRPZlRvdGFsID0gMTI7CiAgICAgICAgdWludDI1NiBhZGRpdGlvbmFsVG9rZW5zID0gCW51bVRva2VucyAqIHBlcmNlbnRPZlRvdGFsIC8gKDEwMCk7CgogICAgICAgIHRvdGFsU3VwcGx5ICs9IGFkZGl0aW9uYWxUb2tlbnM7CgogICAgICAgIGJhbGFuY2VzW21pZ3JhdGlvbk1hc3Rlcl0gKz0gYWRkaXRpb25hbFRva2VuczsKICAgICAgICBUcmFuc2ZlcigwLCBtaWdyYXRpb25NYXN0ZXIsIGFkZGl0aW9uYWxUb2tlbnMpOwoJCgl9CglmdW5jdGlvbiBzZXRCb251c0NyZWF0aW9uUmF0ZSh1aW50IG5ld1JhdGUpewoJaWYobXNnLnNlbmRlciA9PSBvd25lcikgewoJYm9udXNDcmVhdGlvblJhdGU9bmV3UmF0ZTsKCUNyZWF0aW9uUmF0ZT10b2tlbkNyZWF0aW9uUmF0ZStib251c0NyZWF0aW9uUmF0ZTsKCX0KCX0KCiAgICBmdW5jdGlvbiBGdW5kc1RyYW5zZmVyKCkgZXh0ZXJuYWwgewoJaWYoZnVuZGluZz09dHJ1ZSkgdGhyb3c7CgkJIAlpZiAoIW93bmVyLnNlbmQodGhpcy5iYWxhbmNlKSkgdGhyb3c7CiAgICB9CgkKICAgIGZ1bmN0aW9uIFBhcnRpYWxGdW5kc1RyYW5zZmVyKHVpbnQgU3ViWCkgZXh0ZXJuYWwgewoJICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHRocm93OwogICAgICAgIG93bmVyLnNlbmQodGhpcy5iYWxhbmNlIC0gU3ViWCk7Cgl9CglmdW5jdGlvbiB0dXJucmVmdW5kKCkgZXh0ZXJuYWwgewoJICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHRocm93OwoJcmVmdW5kc3RhdGU9IXJlZnVuZHN0YXRlOwogICAgICAgIH0KCQkKCQkJZnVuY3Rpb24gZnVuZGluZ1N0YXRlKCkgZXh0ZXJuYWwgewoJICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHRocm93OwoJZnVuZGluZz0hZnVuZGluZzsKICAgICAgICB9CiAgICBmdW5jdGlvbiB0dXJubWlncmF0ZSgpIGV4dGVybmFsIHsKCSAgICAgIGlmIChtc2cuc2VuZGVyICE9IG1pZ3JhdGlvbk1hc3RlcikgdGhyb3c7CgltaWdyYXRlc3RhdGU9IW1pZ3JhdGVzdGF0ZTsKfQoKICAgIC8vIG5vdGljZSBGaW5hbGl6ZSBjcm93ZGZ1bmRpbmcgY2xvc3NpbmcgZnVuZGluZyBvcHRpb25zCgkKZnVuY3Rpb24gZmluYWxpemUoKSBleHRlcm5hbCB7CiAgICAgICAgaWYgKGJsb2NrLm51bWJlciA8PSBmdW5kaW5nRW5kQmxvY2srOCpvbmV3ZWVrKSB0aHJvdzsKICAgICAgICAvLyBTd2l0Y2ggdG8gT3BlcmF0aW9uYWwgc3RhdGUuIFRoaXMgaXMgdGhlIG9ubHkgcGxhY2UgdGhpcyBjYW4gaGFwcGVuLgogICAgICAgIGZ1bmRpbmcgPSBmYWxzZTsJCgkJcmVmdW5kc3RhdGU9IXJlZnVuZHN0YXRlOwogICAgICAgIC8vIFRyYW5zZmVyIEVUSCB0byB0aGVEQU8gUG9sc2thIFRva2VuIG5ldHdvcmsgU3RvcmFnZSBhZGRyZXNzLgogICAgICAgIGlmIChtc2cuc2VuZGVyPT1vd25lcikKCQlvd25lci5zZW5kKHRoaXMuYmFsYW5jZSk7CiAgICB9CiAgICBmdW5jdGlvbiBtaWdyYXRlKHVpbnQyNTYgX3ZhbHVlKSBleHRlcm5hbCB7CiAgICAgICAgLy8gQWJvcnQgaWYgbm90IGluIE9wZXJhdGlvbmFsIE1pZ3JhdGlvbiBzdGF0ZS4KICAgICAgICBpZiAobWlncmF0ZXN0YXRlKSB0aHJvdzsKCgogICAgICAgIC8vIFZhbGlkYXRlIGlucHV0IHZhbHVlLgogICAgICAgIGlmIChfdmFsdWUgPT0gMCkgdGhyb3c7CiAgICAgICAgaWYgKF92YWx1ZSA+IGJhbGFuY2VzW21zZy5zZW5kZXJdKSB0aHJvdzsKCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIHRvdGFsU3VwcGx5IC09IF92YWx1ZTsKICAgICAgICB0b3RhbE1pZ3JhdGVkICs9IF92YWx1ZTsKICAgICAgICBNaWdyYXRpb25BZ2VudChtaWdyYXRpb25BZ2VudCkubWlncmF0ZUZyb20obXNnLnNlbmRlciwgX3ZhbHVlKTsKICAgICAgICBNaWdyYXRlKG1zZy5zZW5kZXIsIG1pZ3JhdGlvbkFnZW50LCBfdmFsdWUpOwogICAgfQoJCmZ1bmN0aW9uIHJlZnVuZFRSQSgpIGV4dGVybmFsIHsKICAgICAgICAvLyBBYm9ydCBpZiBub3QgaW4gRnVuZGluZyBGYWlsdXJlIHN0YXRlLgogICAgICAgIGlmIChmdW5kaW5nKSB0aHJvdzsKICAgICAgICBpZiAoIXJlZnVuZHN0YXRlKSB0aHJvdzsKCiAgICAgICAgdmFyIERBT1BMVG9rZW5WYWx1ZSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdOwogICAgICAgIHZhciBFVEhWYWx1ZSA9IGJhbGFuY2VzUkFXW21zZy5zZW5kZXJdOwogICAgICAgIGlmIChFVEhWYWx1ZSA9PSAwKSB0aHJvdzsKICAgICAgICBiYWxhbmNlc1JBV1ttc2cuc2VuZGVyXSA9IDA7CiAgICAgICAgdG90YWxTdXBwbHkgLT0gREFPUExUb2tlblZhbHVlOwogICAgICAgICAKICAgICAgICBSZWZ1bmQobXNnLnNlbmRlciwgRVRIVmFsdWUpOwogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoRVRIVmFsdWUpOwp9CgpmdW5jdGlvbiBwcmVJQ09yZWd1bGF0aW9ucygpIGV4dGVybmFsIHJldHVybnMoc3RyaW5nIHdvdykgewoJcmV0dXJuICdSZWd1bGF0aW9ucyBvZiBwcmVJQ08gYXJlIHByZXNlbnQgYXQgd2Vic2l0ZSAgZGFvcG9sc2thLnBsIGFuZCBieSB1c2luZyB0aGlzIHNtYXJ0Y29udHJhY3QgeW91IGNvbW1pdCB0aGF0IHlvdSBhY2NlcHQgYW5kIHdpbGwgZm9sbG93IHRob3NlIHJ1bGVzJzsKfQoKCn0KCgovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ=='.
	

]
