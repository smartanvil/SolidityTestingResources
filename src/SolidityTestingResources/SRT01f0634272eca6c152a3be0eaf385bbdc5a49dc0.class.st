Class {
	#name : #SRT01f0634272eca6c152a3be0eaf385bbdc5a49dc0,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT01f0634272eca6c152a3be0eaf385bbdc5a49dc0 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbCAKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4gCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIC8qKiAKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLiAKICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgewogICAgICB0aHJvdzsKICAgIH0KICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLiAKICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9Cgp9CgoKCi8qKgogKiBAdGl0bGUgQXV0aG9yaXphYmxlCiAqIEBkZXYgQWxsb3dzIHRvIGF1dGhvcml6ZSBhY2Nlc3MgdG8gY2VydGFpbiBmdW5jdGlvbiBjYWxscwogKiAKICogQUJJCiAqIFt7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOlt7Im5hbWUiOiJhdXRob3JpemVySW5kZXgiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6ImdldEF1dGhvcml6ZXIiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6ImFkZHJlc3MifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX2FkZHIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6ImFkZEF1dGhvcml6ZWQiLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W3sibmFtZSI6Il9hZGRyIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJpc0F1dGhvcml6ZWQiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6ImJvb2wifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiY29uc3RydWN0b3IifV0KICovCmNvbnRyYWN0IEF1dGhvcml6YWJsZSB7CgogIGFkZHJlc3NbXSBhdXRob3JpemVyczsKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgYXV0aG9yaXplckluZGV4OwoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgdGhhdCBpcyBub3QgYXV0aG9yaXplZC4gCiAgICovCiAgbW9kaWZpZXIgb25seUF1dGhvcml6ZWQgewogICAgcmVxdWlyZShpc0F1dGhvcml6ZWQobXNnLnNlbmRlcikpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgQ29udHJ1Y3RvciB0aGF0IGF1dGhvcml6ZXMgdGhlIG1zZy5zZW5kZXIuIAogICAqLwogIGZ1bmN0aW9uIEF1dGhvcml6YWJsZSgpIHsKICAgIGF1dGhvcml6ZXJzLmxlbmd0aCA9IDI7CiAgICBhdXRob3JpemVyc1sxXSA9IG1zZy5zZW5kZXI7CiAgICBhdXRob3JpemVySW5kZXhbbXNnLnNlbmRlcl0gPSAxOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBnZXQgYSBzcGVjaWZpYyBhdXRob3JpemVyCiAgICogQHBhcmFtIGF1dGhvcml6ZXJJbmRleCBpbmRleCBvZiB0aGUgYXV0aG9yaXplciB0byBiZSByZXRyaWV2ZWQuCiAgICogQHJldHVybiBUaGUgYWRkcmVzcyBvZiB0aGUgYXV0aG9yaXplci4KICAgKi8KICBmdW5jdGlvbiBnZXRBdXRob3JpemVyKHVpbnQgYXV0aG9yaXplckluZGV4KSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zKGFkZHJlc3MpIHsKICAgIHJldHVybiBhZGRyZXNzKGF1dGhvcml6ZXJzW2F1dGhvcml6ZXJJbmRleCArIDFdKTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgaWYgYW4gYWRkcmVzcyBpcyBhdXRob3JpemVkCiAgICogQHBhcmFtIF9hZGRyIHRoZSBhZGRyZXNzIHRvIGNoZWNrIGlmIGl0IGlzIGF1dGhvcml6ZWQuCiAgICogQHJldHVybiBib29sZWFuIGZsYWcgaWYgYWRkcmVzcyBpcyBhdXRob3JpemVkLgogICAqLwogIGZ1bmN0aW9uIGlzQXV0aG9yaXplZChhZGRyZXNzIF9hZGRyKSBjb25zdGFudCByZXR1cm5zKGJvb2wpIHsKICAgIHJldHVybiBhdXRob3JpemVySW5kZXhbX2FkZHJdID4gMDsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gYWRkIGEgbmV3IGF1dGhvcml6ZXIKICAgKiBAcGFyYW0gX2FkZHIgdGhlIGFkZHJlc3MgdG8gYWRkIGFzIGEgbmV3IGF1dGhvcml6ZXIuCiAgICovCiAgZnVuY3Rpb24gYWRkQXV0aG9yaXplZChhZGRyZXNzIF9hZGRyKSBleHRlcm5hbCBvbmx5QXV0aG9yaXplZCB7CiAgICBhdXRob3JpemVySW5kZXhbX2FkZHJdID0gYXV0aG9yaXplcnMubGVuZ3RoOwogICAgYXV0aG9yaXplcnMubGVuZ3RoKys7CiAgICBhdXRob3JpemVyc1thdXRob3JpemVycy5sZW5ndGggLSAxXSA9IF9hZGRyOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgRXhjaGFuZ2VSYXRlCiAqIEBkZXYgQWxsb3dzIHVwZGF0aW5nIGFuZCByZXRyaWV2ZWluZyBvZiBDb252ZXJzaW9uIFJhdGVzIGZvciBPTVQgdG9rZW5zCiAqCiAqIEFCSQogKiBbeyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il9zeW1ib2wiLCJ0eXBlIjoic3RyaW5nIn0seyJuYW1lIjoiX3JhdGUiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InVwZGF0ZVJhdGUiLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOmZhbHNlLCJpbnB1dHMiOlt7Im5hbWUiOiJkYXRhIiwidHlwZSI6InVpbnQyNTZbXSJ9XSwibmFtZSI6InVwZGF0ZVJhdGVzIiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOlt7Im5hbWUiOiJfc3ltYm9sIiwidHlwZSI6InN0cmluZyJ9XSwibmFtZSI6ImdldFJhdGUiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoib3duZXIiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6ImFkZHJlc3MifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoiYnl0ZXMzMiJ9XSwibmFtZSI6InJhdGVzIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Im5ld093bmVyIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJ0cmFuc2Zlck93bmVyc2hpcCIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOmZhbHNlLCJuYW1lIjoidGltZXN0YW1wIiwidHlwZSI6InVpbnQyNTYifSx7ImluZGV4ZWQiOmZhbHNlLCJuYW1lIjoic3ltYm9sIiwidHlwZSI6ImJ5dGVzMzIifSx7ImluZGV4ZWQiOmZhbHNlLCJuYW1lIjoicmF0ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiUmF0ZVVwZGF0ZWQiLCJ0eXBlIjoiZXZlbnQifV0KICovCmNvbnRyYWN0IEV4Y2hhbmdlUmF0ZSBpcyBPd25hYmxlIHsKCiAgZXZlbnQgUmF0ZVVwZGF0ZWQodWludCB0aW1lc3RhbXAsIGJ5dGVzMzIgc3ltYm9sLCB1aW50IHJhdGUpOwoKICBtYXBwaW5nKGJ5dGVzMzIgPT4gdWludCkgcHVibGljIHJhdGVzOwoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB1cGRhdGUgYSBzaW5nbGUgcmF0ZS4KICAgKiBAcGFyYW0gX3N5bWJvbCBUaGUgc3ltYm9sIHRvIGJlIHVwZGF0ZWQuIAogICAqIEBwYXJhbSBfcmF0ZSB0aGUgcmF0ZSBmb3IgdGhlIHN5bWJvbC4gCiAgICovCiAgZnVuY3Rpb24gdXBkYXRlUmF0ZShzdHJpbmcgX3N5bWJvbCwgdWludCBfcmF0ZSkgcHVibGljIG9ubHlPd25lciB7CiAgICByYXRlc1tzaGEzKF9zeW1ib2wpXSA9IF9yYXRlOwogICAgUmF0ZVVwZGF0ZWQobm93LCBzaGEzKF9zeW1ib2wpLCBfcmF0ZSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB1cGRhdGUgbXVsdGlwbGUgcmF0ZXMuCiAgICogQHBhcmFtIGRhdGEgYW4gYXJyYXkgdGhhdCBhbHRlcm5hdGVzIHNoYTMgaGFzaGVzIG9mIHRoZSBzeW1ib2wgYW5kIHRoZSBjb3JyZXNwb25kaW5nIHJhdGUgLiAKICAgKi8KICBmdW5jdGlvbiB1cGRhdGVSYXRlcyh1aW50W10gZGF0YSkgcHVibGljIG9ubHlPd25lciB7CiAgICBpZiAoZGF0YS5sZW5ndGggJSAyID4gMCkKICAgICAgdGhyb3c7CiAgICB1aW50IGkgPSAwOwogICAgd2hpbGUgKGkgPCBkYXRhLmxlbmd0aCAvIDIpIHsKICAgICAgYnl0ZXMzMiBzeW1ib2wgPSBieXRlczMyKGRhdGFbaSAqIDJdKTsKICAgICAgdWludCByYXRlID0gZGF0YVtpICogMiArIDFdOwogICAgICByYXRlc1tzeW1ib2xdID0gcmF0ZTsKICAgICAgUmF0ZVVwZGF0ZWQobm93LCBzeW1ib2wsIHJhdGUpOwogICAgICBpKys7CiAgICB9CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgYW55b25lIHRvIHJlYWQgdGhlIGN1cnJlbnQgcmF0ZS4KICAgKiBAcGFyYW0gX3N5bWJvbCB0aGUgc3ltYm9sIHRvIGJlIHJldHJpZXZlZC4gCiAgICovCiAgZnVuY3Rpb24gZ2V0UmF0ZShzdHJpbmcgX3N5bWJvbCkgcHVibGljIGNvbnN0YW50IHJldHVybnModWludCkgewogICAgcmV0dXJuIHJhdGVzW3NoYTMoX3N5bWJvbCldOwogIH0KCn0KCi8qKgogKiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gbWF4NjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1heDI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgewogICAgaWYgKCFhc3NlcnRpb24pIHsKICAgICAgdGhyb3c7CiAgICB9CiAgfQp9CgoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyAodWludCk7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7Cn0KCgoKCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludCk7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwp9CgoKCgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuIAogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwoKICAvKioKICAgKiBAZGV2IEZpeCBmb3IgdGhlIEVSQzIwIHNob3J0IGFkZHJlc3MgYXR0YWNrLgogICAqLwogIG1vZGlmaWVyIG9ubHlQYXlsb2FkU2l6ZSh1aW50IHNpemUpIHsKICAgICBpZihtc2cuZGF0YS5sZW5ndGggPCBzaXplICsgNCkgewogICAgICAgdGhyb3c7CiAgICAgfQogICAgIF87CiAgfQoKICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgyICogMzIpIHsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLiAKICAqIEByZXR1cm4gQW4gdWludCByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKCgoKLyoqCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBAZGV2IEltcGxlbWFudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFydCB0b2tlbi4KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBCYXNpY1Rva2VuLCBFUkMyMCB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seVBheWxvYWRTaXplKDMgKiAzMikgewogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgIC8vIGlmIChfdmFsdWUgPiBfYWxsb3dhbmNlKSB0aHJvdzsKCiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlYWhsZiBvZiBtc2cuc2VuZGVyLgogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHsKCiAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICBpZiAoKF92YWx1ZSAhPSAwKSAmJiAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gIT0gMCkpIHRocm93OwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYW4gYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9Cgp9CgoKCgoKCi8qKgogKiBAdGl0bGUgTWludGFibGUgdG9rZW4KICogQGRldiBTaW1wbGUgRVJDMjAgVG9rZW4gZXhhbXBsZSwgd2l0aCBtaW50YWJsZSB0b2tlbiBjcmVhdGlvbgogKiBAZGV2IElzc3VlOiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvaXNzdWVzLzEyMAogKiBCYXNlZCBvbiBjb2RlIGJ5IFRva2VuTWFya2V0TmV0OiBodHRwczovL2dpdGh1Yi5jb20vVG9rZW5NYXJrZXROZXQvaWNvL2Jsb2IvbWFzdGVyL2NvbnRyYWN0cy9NaW50YWJsZVRva2VuLnNvbAogKi8KCmNvbnRyYWN0IE1pbnRhYmxlVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgT3duYWJsZSB7CiAgZXZlbnQgTWludChhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwogIGV2ZW50IE1pbnRGaW5pc2hlZCgpOwoKICBib29sIHB1YmxpYyBtaW50aW5nRmluaXNoZWQgPSBmYWxzZTsKICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseSA9IDA7CgoKICBtb2RpZmllciBjYW5NaW50KCkgewogICAgaWYobWludGluZ0ZpbmlzaGVkKSB0aHJvdzsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIG1pbnQgdG9rZW5zCiAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0aGF0IHdpbGwgcmVjaWV2ZSB0aGUgbWludGVkIHRva2Vucy4KICAgKiBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IG9mIHRva2VucyB0byBtaW50LgogICAqIEByZXR1cm4gQSBib29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICovCiAgZnVuY3Rpb24gbWludChhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBvbmx5T3duZXIgY2FuTWludCByZXR1cm5zIChib29sKSB7CiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgIE1pbnQoX3RvLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBzdG9wIG1pbnRpbmcgbmV3IHRva2Vucy4KICAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgKi8KICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKICAgIG1pbnRpbmdGaW5pc2hlZCA9IHRydWU7CiAgICBNaW50RmluaXNoZWQoKTsKICAgIHJldHVybiB0cnVlOwogIH0KfQoKCi8qKgogKiBAdGl0bGUgT01Ub2tlbgogKiBAZGV2IFRoZSBtYWluIE9NVCB0b2tlbiBjb250cmFjdAogKiAKICogQUJJIAogKiBbeyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbXSwibmFtZSI6Im1pbnRpbmdGaW5pc2hlZCIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoiYm9vbCJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W10sIm5hbWUiOiJuYW1lIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJzdHJpbmcifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX3NwZW5kZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9LHsibmFtZSI6Il92YWx1ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiYXBwcm92ZSIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbXSwibmFtZSI6InRvdGFsU3VwcGx5Iiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il9mcm9tIiwidHlwZSI6ImFkZHJlc3MifSx7Im5hbWUiOiJfdG8iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsibmFtZSI6Il92YWx1ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoidHJhbnNmZXJGcm9tIiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbXSwibmFtZSI6InN0YXJ0VHJhZGluZyIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbXSwibmFtZSI6ImRlY2ltYWxzIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il90byIsInR5cGUiOiJhZGRyZXNzIn0seyJuYW1lIjoiX2Ftb3VudCIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoibWludCIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoiYm9vbCJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W10sIm5hbWUiOiJ0cmFkaW5nU3RhcnRlZCIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoiYm9vbCJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W3sibmFtZSI6Il9vd25lciIsInR5cGUiOiJhZGRyZXNzIn1dLCJuYW1lIjoiYmFsYW5jZU9mIiwib3V0cHV0cyI6W3sibmFtZSI6ImJhbGFuY2UiLCJ0eXBlIjoidWludDI1NiJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOmZhbHNlLCJpbnB1dHMiOltdLCJuYW1lIjoiZmluaXNoTWludGluZyIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoiYm9vbCJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W10sIm5hbWUiOiJvd25lciIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W10sIm5hbWUiOiJzeW1ib2wiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InN0cmluZyJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOmZhbHNlLCJpbnB1dHMiOlt7Im5hbWUiOiJfdG8iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsibmFtZSI6Il92YWx1ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoidHJhbnNmZXIiLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W3sibmFtZSI6Il9vd25lciIsInR5cGUiOiJhZGRyZXNzIn0seyJuYW1lIjoiX3NwZW5kZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6ImFsbG93YW5jZSIsIm91dHB1dHMiOlt7Im5hbWUiOiJyZW1haW5pbmciLCJ0eXBlIjoidWludDI1NiJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOmZhbHNlLCJpbnB1dHMiOlt7Im5hbWUiOiJuZXdPd25lciIsInR5cGUiOiJhZGRyZXNzIn1dLCJuYW1lIjoidHJhbnNmZXJPd25lcnNoaXAiLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiYW5vbnltb3VzIjpmYWxzZSwiaW5wdXRzIjpbeyJpbmRleGVkIjp0cnVlLCJuYW1lIjoidG8iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW5kZXhlZCI6ZmFsc2UsIm5hbWUiOiJ2YWx1ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiTWludCIsInR5cGUiOiJldmVudCJ9LHsiYW5vbnltb3VzIjpmYWxzZSwiaW5wdXRzIjpbXSwibmFtZSI6Ik1pbnRGaW5pc2hlZCIsInR5cGUiOiJldmVudCJ9LHsiYW5vbnltb3VzIjpmYWxzZSwiaW5wdXRzIjpbeyJpbmRleGVkIjp0cnVlLCJuYW1lIjoib3duZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW5kZXhlZCI6dHJ1ZSwibmFtZSI6InNwZW5kZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW5kZXhlZCI6ZmFsc2UsIm5hbWUiOiJ2YWx1ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiQXBwcm92YWwiLCJ0eXBlIjoiZXZlbnQifSx7ImFub255bW91cyI6ZmFsc2UsImlucHV0cyI6W3siaW5kZXhlZCI6dHJ1ZSwibmFtZSI6ImZyb20iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW5kZXhlZCI6dHJ1ZSwibmFtZSI6InRvIiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOmZhbHNlLCJuYW1lIjoidmFsdWUiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6IlRyYW5zZmVyIiwidHlwZSI6ImV2ZW50In1dCiAqLwpjb250cmFjdCBPTVRva2VuIGlzIE1pbnRhYmxlVG9rZW4gewoKICBzdHJpbmcgcHVibGljIG5hbWUgPSAiT01Ub2tlbiI7CiAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiT01UIjsKICB1aW50IHB1YmxpYyBkZWNpbWFscyA9IDE4OwoKICBib29sIHB1YmxpYyB0cmFkaW5nU3RhcnRlZCA9IGZhbHNlOwoKICAvKioKICAgKiBAZGV2IG1vZGlmaWVyIHRoYXQgdGhyb3dzIGlmIHRyYWRpbmcgaGFzIG5vdCBzdGFydGVkIHlldAogICAqLwogIG1vZGlmaWVyIGhhc1N0YXJ0ZWRUcmFkaW5nKCkgewogICAgcmVxdWlyZSh0cmFkaW5nU3RhcnRlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIG93bmVyIHRvIGVuYWJsZSB0aGUgdHJhZGluZy4gVGhpcyBjYW4gbm90IGJlIHVuZG9uZQogICAqLwogIGZ1bmN0aW9uIHN0YXJ0VHJhZGluZygpIG9ubHlPd25lciB7CiAgICB0cmFkaW5nU3RhcnRlZCA9IHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyBhbnlvbmUgdG8gdHJhbnNmZXIgdGhlIE9NVCB0b2tlbnMgb25jZSB0cmFkaW5nIGhhcyBzdGFydGVkCiAgICogQHBhcmFtIF90byB0aGUgcmVjaXBpZW50IGFkZHJlc3Mgb2YgdGhlIHRva2Vucy4gCiAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQuIAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaGFzU3RhcnRlZFRyYWRpbmcgewogICAgc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogIH0KCiAgIC8qKgogICAqIEBkZXYgQWxsb3dzIGFueW9uZSB0byB0cmFuc2ZlciB0aGUgT01UIHRva2VucyBvbmNlIHRyYWRpbmcgaGFzIHN0YXJ0ZWQKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGhhc1N0YXJ0ZWRUcmFkaW5nIHsKICAgIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBNYWluU2FsZQogKiBAZGV2IFRoZSBtYWluIE9NVG9rZW4gc2FsZSBjb250cmFjdAogKiAKICogQUJJCiAqIFt7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX211bHRpc2lnVmF1bHQiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6InNldE11bHRpc2lnVmF1bHQiLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W3sibmFtZSI6ImF1dGhvcml6ZXJJbmRleCIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiZ2V0QXV0aG9yaXplciIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W10sIm5hbWUiOiJleGNoYW5nZVJhdGUiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6ImFkZHJlc3MifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoiYWx0RGVwb3NpdHMiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoicmVjaXBpZW50IiwidHlwZSI6ImFkZHJlc3MifSx7Im5hbWUiOiJ0b2tlbnMiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6ImF1dGhvcml6ZWRDcmVhdGVUb2tlbnMiLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOmZhbHNlLCJpbnB1dHMiOltdLCJuYW1lIjoiZmluaXNoTWludGluZyIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbXSwibmFtZSI6Im93bmVyIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJhZGRyZXNzIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il9leGNoYW5nZVJhdGUiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6InNldEV4Y2hhbmdlUmF0ZSIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il90b2tlbiIsInR5cGUiOiJhZGRyZXNzIn1dLCJuYW1lIjoicmV0cmlldmVUb2tlbnMiLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOmZhbHNlLCJpbnB1dHMiOlt7Im5hbWUiOiJ0b3RhbEFsdERlcG9zaXRzIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJzZXRBbHREZXBvc2l0Iiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoic3RhcnQiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoicmVjaXBpZW50IiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJjcmVhdGVUb2tlbnMiLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6dHJ1ZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il9hZGRyIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJhZGRBdXRob3JpemVkIiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoibXVsdGlzaWdWYXVsdCIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOmZhbHNlLCJpbnB1dHMiOlt7Im5hbWUiOiJfaGFyZGNhcCIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoic2V0SGFyZENhcCIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Im5ld093bmVyIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJ0cmFuc2Zlck93bmVyc2hpcCIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il9zdGFydCIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoic2V0U3RhcnQiLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W10sIm5hbWUiOiJ0b2tlbiIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W3sibmFtZSI6Il9hZGRyIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJpc0F1dGhvcml6ZWQiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6ImJvb2wifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7InBheWFibGUiOnRydWUsInR5cGUiOiJmYWxsYmFjayJ9LHsiYW5vbnltb3VzIjpmYWxzZSwiaW5wdXRzIjpbeyJpbmRleGVkIjpmYWxzZSwibmFtZSI6InJlY2lwaWVudCIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjpmYWxzZSwibmFtZSI6ImV0aGVyX2Ftb3VudCIsInR5cGUiOiJ1aW50MjU2In0seyJpbmRleGVkIjpmYWxzZSwibmFtZSI6InBheV9hbW91bnQiLCJ0eXBlIjoidWludDI1NiJ9LHsiaW5kZXhlZCI6ZmFsc2UsIm5hbWUiOiJleGNoYW5nZXJhdGUiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6IlRva2VuU29sZCIsInR5cGUiOiJldmVudCJ9LHsiYW5vbnltb3VzIjpmYWxzZSwiaW5wdXRzIjpbeyJpbmRleGVkIjpmYWxzZSwibmFtZSI6InJlY2lwaWVudCIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjpmYWxzZSwibmFtZSI6InBheV9hbW91bnQiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6IkF1dGhvcml6ZWRDcmVhdGUiLCJ0eXBlIjoiZXZlbnQifSx7ImFub255bW91cyI6ZmFsc2UsImlucHV0cyI6W10sIm5hbWUiOiJNYWluU2FsZUNsb3NlZCIsInR5cGUiOiJldmVudCJ9XQogKi8KY29udHJhY3QgTWFpblNhbGUgaXMgT3duYWJsZSwgQXV0aG9yaXphYmxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKICBldmVudCBUb2tlblNvbGQoYWRkcmVzcyByZWNpcGllbnQsIHVpbnQgZXRoZXJfYW1vdW50LCB1aW50IHBheV9hbW91bnQsIHVpbnQgZXhjaGFuZ2VyYXRlKTsKICBldmVudCBBdXRob3JpemVkQ3JlYXRlKGFkZHJlc3MgcmVjaXBpZW50LCB1aW50IHBheV9hbW91bnQpOwogIGV2ZW50IE1haW5TYWxlQ2xvc2VkKCk7CgogIE9NVG9rZW4gcHVibGljIHRva2VuID0gbmV3IE9NVG9rZW4oKTsKCiAgYWRkcmVzcyBwdWJsaWMgbXVsdGlzaWdWYXVsdDsKCiAgdWludCBoYXJkY2FwID0gNDAwMDAgZXRoZXI7CiAgRXhjaGFuZ2VSYXRlIHB1YmxpYyBleGNoYW5nZVJhdGU7CgogIHVpbnQgcHVibGljIGFsdERlcG9zaXRzID0gMDsKICB1aW50IHB1YmxpYyBzdGFydCA9IDE1MTg1OTg4MDA7IC8vbmV3IERhdGUoIkZlYiAxNCAyMDE4IDA5OjAwOjAwIEdNVCIpLmdldFRpbWUoKSAvIDEwMDAKCiAgLyoqCiAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyB0b2tlbiBjcmVhdGlvbiBvbmx5IHdoZW4gdGhlIHNhbGUgSVMgT04KICAgKi8KICBtb2RpZmllciBzYWxlSXNPbigpIHsKICAgIHJlcXVpcmUobm93ID4gc3RhcnQgJiYgbm93IDwgc3RhcnQgKyAzNjUgZGF5cyk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyB0b2tlbiBjcmVhdGlvbiBvbmx5IHdoZW4gdGhlIGhhcmRjYXAgaGFzIG5vdCBiZWVuIHJlYWNoZWQKICAgKi8KICBtb2RpZmllciBpc1VuZGVySGFyZENhcCgpIHsKICAgIHJlcXVpcmUobXVsdGlzaWdWYXVsdC5iYWxhbmNlICsgYWx0RGVwb3NpdHMgPD0gaGFyZGNhcCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgYW55b25lIHRvIGNyZWF0ZSB0b2tlbnMgYnkgZGVwb3NpdGluZyBldGhlci4KICAgKiBAcGFyYW0gcmVjaXBpZW50IHRoZSByZWNpcGllbnQgdG8gcmVjZWl2ZSB0b2tlbnMuIAogICAqLwogIGZ1bmN0aW9uIGNyZWF0ZVRva2VucyhhZGRyZXNzIHJlY2lwaWVudCkgcHVibGljIGlzVW5kZXJIYXJkQ2FwIHNhbGVJc09uIHBheWFibGUgewogICAgdWludCByYXRlID0gZXhjaGFuZ2VSYXRlLmdldFJhdGUoIkVUSCIpOwogICAgdWludCB0b2tlbnMgPSByYXRlLm11bChtc2cudmFsdWUpLmRpdigxIGV0aGVyKTsKICAgIHRva2VuLm1pbnQocmVjaXBpZW50LCB0b2tlbnMpOwogICAgcmVxdWlyZShtdWx0aXNpZ1ZhdWx0LnNlbmQobXNnLnZhbHVlKSk7CiAgICBUb2tlblNvbGQocmVjaXBpZW50LCBtc2cudmFsdWUsIHRva2VucywgcmF0ZSk7CiAgfQogIAogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRvIHNldCB0aGUgdG90YWwgYWx0IGRlcG9zaXQgbWVhc3VyZWQgaW4gRVRIIHRvIG1ha2Ugc3VyZSB0aGUgaGFyZGNhcCBpbmNsdWRlcyBvdGhlciBkZXBvc2l0cwogICAqIEBwYXJhbSB0b3RhbEFsdERlcG9zaXRzIHRvdGFsIGFtb3VudCBFVEggZXF1aXZhbGVudAogICAqLwogIGZ1bmN0aW9uIHNldEFsdERlcG9zaXQodWludCB0b3RhbEFsdERlcG9zaXRzKSBwdWJsaWMgb25seU93bmVyIHsKICAgIGFsdERlcG9zaXRzID0gdG90YWxBbHREZXBvc2l0czsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIGF1dGhvcml6ZWQgYWNjZXNzIHRvIGNyZWF0ZSB0b2tlbnMuIFRoaXMgaXMgdXNlZCBmb3IgQml0Y29pbiBhbmQgRVJDMjAgZGVwb3NpdHMKICAgKiBAcGFyYW0gcmVjaXBpZW50IHRoZSByZWNpcGllbnQgdG8gcmVjZWl2ZSB0b2tlbnMuCiAgICogQHBhcmFtIHRva2VucyBudW1iZXIgb2YgdG9rZW5zIHRvIGJlIGNyZWF0ZWQuIAogICAqLwogIGZ1bmN0aW9uIGF1dGhvcml6ZWRDcmVhdGVUb2tlbnMoYWRkcmVzcyByZWNpcGllbnQsIHVpbnQgdG9rZW5zKSBwdWJsaWMgb25seUF1dGhvcml6ZWQgewogICAgdG9rZW4ubWludChyZWNpcGllbnQsIHRva2Vucyk7CiAgICBBdXRob3JpemVkQ3JlYXRlKHJlY2lwaWVudCwgdG9rZW5zKTsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBvd25lciB0byBzZXQgdGhlIGhhcmRjYXAuCiAgICogQHBhcmFtIF9oYXJkY2FwIHRoZSBuZXcgaGFyZGNhcAogICAqLwogIGZ1bmN0aW9uIHNldEhhcmRDYXAodWludCBfaGFyZGNhcCkgcHVibGljIG9ubHlPd25lciB7CiAgICBoYXJkY2FwID0gX2hhcmRjYXA7CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgb3duZXIgdG8gc2V0IHRoZSBzdGFydGluZyB0aW1lLgogICAqIEBwYXJhbSBfc3RhcnQgdGhlIG5ldyBfc3RhcnQKICAgKi8KICBmdW5jdGlvbiBzZXRTdGFydCh1aW50IF9zdGFydCkgcHVibGljIG9ubHlPd25lciB7CiAgICBzdGFydCA9IF9zdGFydDsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBvd25lciB0byBzZXQgdGhlIG11bHRpc2lnIGNvbnRyYWN0LgogICAqIEBwYXJhbSBfbXVsdGlzaWdWYXVsdCB0aGUgbXVsdGlzaWcgY29udHJhY3QgYWRkcmVzcwogICAqLwogIGZ1bmN0aW9uIHNldE11bHRpc2lnVmF1bHQoYWRkcmVzcyBfbXVsdGlzaWdWYXVsdCkgcHVibGljIG9ubHlPd25lciB7CiAgICBpZiAoX211bHRpc2lnVmF1bHQgIT0gYWRkcmVzcygwKSkgewogICAgICBtdWx0aXNpZ1ZhdWx0ID0gX211bHRpc2lnVmF1bHQ7CiAgICB9CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgb3duZXIgdG8gc2V0IHRoZSBleGNoYW5nZXJhdGUgY29udHJhY3QuCiAgICogQHBhcmFtIF9leGNoYW5nZVJhdGUgdGhlIGV4Y2hhbmdlcmF0ZSBhZGRyZXNzCiAgICovCiAgZnVuY3Rpb24gc2V0RXhjaGFuZ2VSYXRlKGFkZHJlc3MgX2V4Y2hhbmdlUmF0ZSkgcHVibGljIG9ubHlPd25lciB7CiAgICBleGNoYW5nZVJhdGUgPSBFeGNoYW5nZVJhdGUoX2V4Y2hhbmdlUmF0ZSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgb3duZXIgdG8gZmluaXNoIHRoZSBtaW50aW5nLiBUaGlzIHdpbGwgY3JlYXRlIHRoZSAKICAgKiByZXN0cmljdGVkIHRva2VucyBhbmQgdGhlbiBjbG9zZSB0aGUgbWludGluZy4KICAgKiBUaGVuIHRoZSBvd25lcnNoaXAgb2YgdGhlIE9NVCB0b2tlbiBjb250cmFjdCBpcyB0cmFuc2ZlcmVkIAogICAqIHRvIHRoaXMgb3duZXIuCiAgICovCiAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIHB1YmxpYyBvbmx5T3duZXIgewogICAgdWludCBpc3N1ZWRUb2tlblN1cHBseSA9IHRva2VuLnRvdGFsU3VwcGx5KCk7CiAgICB1aW50IHJlc3RyaWN0ZWRUb2tlbnMgPSBpc3N1ZWRUb2tlblN1cHBseS5tdWwoNDkpLmRpdig1MSk7CiAgICB0b2tlbi5taW50KG11bHRpc2lnVmF1bHQsIHJlc3RyaWN0ZWRUb2tlbnMpOwogICAgdG9rZW4uZmluaXNoTWludGluZygpOwogICAgdG9rZW4udHJhbnNmZXJPd25lcnNoaXAob3duZXIpOwogICAgTWFpblNhbGVDbG9zZWQoKTsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBvd25lciB0byB0cmFuc2ZlciBFUkMyMCB0b2tlbnMgdG8gdGhlIG11bHRpIHNpZyB2YXVsdAogICAqIEBwYXJhbSBfdG9rZW4gdGhlIGNvbnRyYWN0IGFkZHJlc3Mgb2YgdGhlIEVSQzIwIGNvbnRyYWN0CiAgICovCiAgZnVuY3Rpb24gcmV0cmlldmVUb2tlbnMoYWRkcmVzcyBfdG9rZW4pIHB1YmxpYyBvbmx5T3duZXIgewogICAgRVJDMjAgdG9rZW4gPSBFUkMyMChfdG9rZW4pOwogICAgdG9rZW4udHJhbnNmZXIobXVsdGlzaWdWYXVsdCwgdG9rZW4uYmFsYW5jZU9mKHRoaXMpKTsKICB9CgogIC8qKgogICAqIEBkZXYgRmFsbGJhY2sgZnVuY3Rpb24gd2hpY2ggcmVjZWl2ZXMgZXRoZXIgYW5kIGNyZWF0ZWQgdGhlIGFwcHJvcHJpYXRlIG51bWJlciBvZiB0b2tlbnMgZm9yIHRoZSAKICAgKiBtc2cuc2VuZGVyLgogICAqLwogIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICBjcmVhdGVUb2tlbnMobXNnLnNlbmRlcik7CiAgfQoKfQ=='.
	

]
