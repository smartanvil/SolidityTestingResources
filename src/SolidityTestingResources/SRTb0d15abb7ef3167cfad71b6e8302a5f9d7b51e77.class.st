Class {
	#name : #SRTb0d15abb7ef3167cfad71b6e8302a5f9d7b51e77,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTb0d15abb7ef3167cfad71b6e8302a5f9d7b51e77 >> base64 [
	^ 'Ly8gVW5hdHRyaWJ1dGVkIG1hdGVyaWFsIGNvcHlyaWdodCBOZXcgQWxjaGVteSBMaW1pdGVkLCAyMDE3LiBBbGwgcmlnaHRzIHJlc2VydmVkLgpwcmFnbWEgc29saWRpdHkgPj0wLjQuMTA7CgovLyBmcm9tIFplcHBlbGluCmNvbnRyYWN0IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIHNhZmVNdWwodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICB1aW50IGMgPSBhICogYjsKICAgICAgICByZXF1aXJlKGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmVxdWlyZShiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSArIGI7CiAgICAgICAgcmVxdWlyZShjPj1hICYmIGM+PWIpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9Ci8vIGVuZCBmcm9tIFplcHBlbGluCgpjb250cmFjdCBPd25lZCB7CglhZGRyZXNzIHB1YmxpYyBvd25lcjsKCWFkZHJlc3MgbmV3T3duZXI7CgoJZnVuY3Rpb24gT3duZWQoKSB7CgkJb3duZXIgPSBtc2cuc2VuZGVyOwoJfQoKCW1vZGlmaWVyIG9ubHlPd25lcigpIHsKCQlyZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoJCV87Cgl9CgoJZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIG9ubHlPd25lciB7CgkJbmV3T3duZXIgPSBfbmV3T3duZXI7Cgl9CgoJZnVuY3Rpb24gYWNjZXB0T3duZXJzaGlwKCkgewoJCWlmIChtc2cuc2VuZGVyID09IG5ld093bmVyKSB7CgkJCW93bmVyID0gbmV3T3duZXI7CgkJfQoJfQp9Cgpjb250cmFjdCBQYXVzYWJsZSBpcyBPd25lZCB7Cglib29sIHB1YmxpYyBwYXVzZWQ7CgoJZnVuY3Rpb24gcGF1c2UoKSBvbmx5T3duZXIgewoJCXBhdXNlZCA9IHRydWU7Cgl9CgoJZnVuY3Rpb24gdW5wYXVzZSgpIG9ubHlPd25lciB7CgkJcGF1c2VkID0gZmFsc2U7Cgl9CgoJbW9kaWZpZXIgbm90UGF1c2VkKCkgewoJCXJlcXVpcmUoIXBhdXNlZCk7CgkJXzsKCX0KfQoKY29udHJhY3QgRmluYWxpemFibGUgaXMgT3duZWQgewoJYm9vbCBwdWJsaWMgZmluYWxpemVkOwoKCWZ1bmN0aW9uIGZpbmFsaXplKCkgb25seU93bmVyIHsKCQlmaW5hbGl6ZWQgPSB0cnVlOwoJfQoKCW1vZGlmaWVyIG5vdEZpbmFsaXplZCgpIHsKCQlyZXF1aXJlKCFmaW5hbGl6ZWQpOwoJCV87Cgl9Cn0KCmNvbnRyYWN0IElUb2tlbiB7CglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wpOwoJZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgb3duZXIpIHJldHVybnModWludCk7Cn0KCi8vIEluIGNhc2Ugc29tZW9uZSBhY2NpZGVudGFsbHkgc2VuZHMgdG9rZW4gdG8gb25lIG9mIHRoZXNlIGNvbnRyYWN0cywKLy8gYWRkIGEgd2F5IHRvIGdldCB0aGVtIGJhY2sgb3V0Lgpjb250cmFjdCBUb2tlblJlY2VpdmFibGUgaXMgT3duZWQgewoJZnVuY3Rpb24gY2xhaW1Ub2tlbnMoYWRkcmVzcyBfdG9rZW4sIGFkZHJlc3MgX3RvKSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCkgewoJCUlUb2tlbiB0b2tlbiA9IElUb2tlbihfdG9rZW4pOwoJCXJldHVybiB0b2tlbi50cmFuc2ZlcihfdG8sIHRva2VuLmJhbGFuY2VPZih0aGlzKSk7Cgl9Cn0KCmNvbnRyYWN0IEV2ZW50RGVmaW5pdGlvbnMgewoJZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7CglldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsKfQoKY29udHJhY3QgQml0TGVhcm5Ub2tlbiBpcyBGaW5hbGl6YWJsZSwgVG9rZW5SZWNlaXZhYmxlLCBTYWZlTWF0aCwgRXZlbnREZWZpbml0aW9ucywgUGF1c2FibGUgewoJc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBuYW1lID0gIkJUTE4gVGVzdCBUb2tlbiI7Cgl1aW50OCBjb25zdGFudCBwdWJsaWMgZGVjaW1hbHMgPSA4OwoJc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBzeW1ib2wgPSAiQlRMTiI7CglDb250cm9sbGVyIHB1YmxpYyBjb250cm9sbGVyOwoJc3RyaW5nIHB1YmxpYyBtb3RkOwoJZXZlbnQgTW90ZChzdHJpbmcgbWVzc2FnZSk7CgoJLy8gZnVuY3Rpb25zIGJlbG93IHRoaXMgbGluZSBhcmUgb25seU93bmVyCgoJLy8gc2V0ICJtZXNzYWdlIG9mIHRoZSBkYXkiCglmdW5jdGlvbiBzZXRNb3RkKHN0cmluZyBfbSkgb25seU93bmVyIHsKCQltb3RkID0gX207CgkJTW90ZChfbSk7Cgl9CgoJZnVuY3Rpb24gc2V0Q29udHJvbGxlcihhZGRyZXNzIF9jKSBvbmx5T3duZXIgbm90RmluYWxpemVkIHsKCQljb250cm9sbGVyID0gQ29udHJvbGxlcihfYyk7Cgl9CgoJLy8gZnVuY3Rpb25zIGJlbG93IHRoaXMgbGluZSBhcmUgcHVibGljCgoJZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgYSkgY29uc3RhbnQgcmV0dXJucyAodWludCkgewoJCXJldHVybiBjb250cm9sbGVyLmJhbGFuY2VPZihhKTsKCX0KCglmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKCQlyZXR1cm4gY29udHJvbGxlci50b3RhbFN1cHBseSgpOwoJfQoKCWZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludCkgewoJCXJldHVybiBjb250cm9sbGVyLmFsbG93YW5jZShfb3duZXIsIF9zcGVuZGVyKTsKCX0KCglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgyKSBub3RQYXVzZWQgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgkJaWYgKGNvbnRyb2xsZXIudHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpKSB7CgkJCVRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKCQkJcmV0dXJuIHRydWU7CgkJfQoJCXJldHVybiBmYWxzZTsKCX0KCglmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMykgbm90UGF1c2VkIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCWlmIChjb250cm9sbGVyLnRyYW5zZmVyRnJvbShtc2cuc2VuZGVyLCBfZnJvbSwgX3RvLCBfdmFsdWUpKSB7CgkJCVRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CgkJCXJldHVybiB0cnVlOwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9CgoJZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgb25seVBheWxvYWRTaXplKDIpIG5vdFBhdXNlZCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCQkvLyBwcm9tb3RlIHNhZmUgdXNlciBiZWhhdmlvcgoJCWlmIChjb250cm9sbGVyLmFwcHJvdmUobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSkpIHsKCQkJQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CgkJCXJldHVybiB0cnVlOwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9CgoJZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgb25seVBheWxvYWRTaXplKDIpIG5vdFBhdXNlZCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCQlpZiAoY29udHJvbGxlci5pbmNyZWFzZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfYWRkZWRWYWx1ZSkpIHsKCQkJdWludCBuZXd2YWwgPSBjb250cm9sbGVyLmFsbG93YW5jZShtc2cuc2VuZGVyLCBfc3BlbmRlcik7CgkJCUFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBuZXd2YWwpOwoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgkJcmV0dXJuIGZhbHNlOwoJfQoKCWZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgb25seVBheWxvYWRTaXplKDIpIG5vdFBhdXNlZCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCQlpZiAoY29udHJvbGxlci5kZWNyZWFzZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfc3VidHJhY3RlZFZhbHVlKSkgewoJCQl1aW50IG5ld3ZhbCA9IGNvbnRyb2xsZXIuYWxsb3dhbmNlKG1zZy5zZW5kZXIsIF9zcGVuZGVyKTsKCQkJQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIG5ld3ZhbCk7CgkJCXJldHVybiB0cnVlOwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9CgoJbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgbnVtd29yZHMpIHsKCQlhc3NlcnQobXNnLmRhdGEubGVuZ3RoID49IG51bXdvcmRzICogMzIgKyA0KTsKCQlfOwoJfQoKCWZ1bmN0aW9uIGJ1cm4odWludCBfYW1vdW50KSBub3RQYXVzZWQgewoJCWNvbnRyb2xsZXIuYnVybihtc2cuc2VuZGVyLCBfYW1vdW50KTsKCQlUcmFuc2Zlcihtc2cuc2VuZGVyLCAweDAsIF9hbW91bnQpOwoJfQoKCS8vIGZ1bmN0aW9ucyBiZWxvdyB0aGlzIGxpbmUgYXJlIG9ubHlDb250cm9sbGVyCgoJbW9kaWZpZXIgb25seUNvbnRyb2xsZXIoKSB7CgkJYXNzZXJ0KG1zZy5zZW5kZXIgPT0gYWRkcmVzcyhjb250cm9sbGVyKSk7CgkJXzsKCX0KCglmdW5jdGlvbiBjb250cm9sbGVyVHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5Q29udHJvbGxlciB7CgkJVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKCX0KCglmdW5jdGlvbiBjb250cm9sbGVyQXBwcm92ZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIG9ubHlDb250cm9sbGVyIHsKCQlBcHByb3ZhbChfb3duZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwoJfQp9Cgpjb250cmFjdCBDb250cm9sbGVyIGlzIE93bmVkLCBGaW5hbGl6YWJsZSB7CglMZWRnZXIgcHVibGljIGxlZGdlcjsKCUJpdExlYXJuVG9rZW4gcHVibGljIHRva2VuOwoKCWZ1bmN0aW9uIENvbnRyb2xsZXIoKSB7Cgl9CgoJLy8gZnVuY3Rpb25zIGJlbG93IHRoaXMgbGluZSBhcmUgb25seU93bmVyCgoJZnVuY3Rpb24gc2V0VG9rZW4oYWRkcmVzcyBfdG9rZW4pIG9ubHlPd25lciB7CgkJdG9rZW4gPSBCaXRMZWFyblRva2VuKF90b2tlbik7Cgl9CgoJZnVuY3Rpb24gc2V0TGVkZ2VyKGFkZHJlc3MgX2xlZGdlcikgb25seU93bmVyIHsKCQlsZWRnZXIgPSBMZWRnZXIoX2xlZGdlcik7Cgl9CgoJbW9kaWZpZXIgb25seVRva2VuKCkgewoJCXJlcXVpcmUobXNnLnNlbmRlciA9PSBhZGRyZXNzKHRva2VuKSk7CgkJXzsKCX0KCgltb2RpZmllciBvbmx5TGVkZ2VyKCkgewoJCXJlcXVpcmUobXNnLnNlbmRlciA9PSBhZGRyZXNzKGxlZGdlcikpOwoJCV87Cgl9CgoJLy8gcHVibGljIGZ1bmN0aW9ucwoKCWZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludCkgewoJCXJldHVybiBsZWRnZXIudG90YWxTdXBwbHkoKTsKCX0KCglmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfYSkgY29uc3RhbnQgcmV0dXJucyAodWludCkgewoJCXJldHVybiBsZWRnZXIuYmFsYW5jZU9mKF9hKTsKCX0KCglmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKCQlyZXR1cm4gbGVkZ2VyLmFsbG93YW5jZShfb3duZXIsIF9zcGVuZGVyKTsKCX0KCgkvLyBmdW5jdGlvbnMgYmVsb3cgdGhpcyBsaW5lIGFyZSBvbmx5TGVkZ2VyCgoJZnVuY3Rpb24gbGVkZ2VyVHJhbnNmZXIoYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbCkgb25seUxlZGdlciB7CgkJdG9rZW4uY29udHJvbGxlclRyYW5zZmVyKGZyb20sIHRvLCB2YWwpOwoJfQoKCS8vIGZ1bmN0aW9ucyBiZWxvdyB0aGlzIGxpbmUgYXJlIG9ubHlUb2tlbgoKCWZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seVRva2VuIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCXJldHVybiBsZWRnZXIudHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKCX0KCglmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfc3BlbmRlciwgYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5VG9rZW4gcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgkJcmV0dXJuIGxlZGdlci50cmFuc2ZlckZyb20oX3NwZW5kZXIsIF9mcm9tLCBfdG8sIF92YWx1ZSk7Cgl9CgoJZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIG9ubHlUb2tlbiByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCQlyZXR1cm4gbGVkZ2VyLmFwcHJvdmUoX293bmVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKCX0KCglmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgb25seVRva2VuIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCXJldHVybiBsZWRnZXIuaW5jcmVhc2VBcHByb3ZhbChfb3duZXIsIF9zcGVuZGVyLCBfYWRkZWRWYWx1ZSk7Cgl9CgoJZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgb25seVRva2VuIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCXJldHVybiBsZWRnZXIuZGVjcmVhc2VBcHByb3ZhbChfb3duZXIsIF9zcGVuZGVyLCBfc3VidHJhY3RlZFZhbHVlKTsKCX0KCglmdW5jdGlvbiBidXJuKGFkZHJlc3MgX293bmVyLCB1aW50IF9hbW91bnQpIG9ubHlUb2tlbiB7CgkJbGVkZ2VyLmJ1cm4oX293bmVyLCBfYW1vdW50KTsKCX0KfQoKY29udHJhY3QgTGVkZ2VyIGlzIE93bmVkLCBTYWZlTWF0aCwgRmluYWxpemFibGUgewoJQ29udHJvbGxlciBwdWJsaWMgY29udHJvbGxlcjsKCW1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgYmFsYW5jZU9mOwoJbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSBwdWJsaWMgYWxsb3dhbmNlOwoJdWludCBwdWJsaWMgdG90YWxTdXBwbHk7Cgl1aW50IHB1YmxpYyBtaW50aW5nTm9uY2U7Cglib29sIHB1YmxpYyBtaW50aW5nU3RvcHBlZDsKCgkvLyBmdW5jdGlvbnMgYmVsb3cgdGhpcyBsaW5lIGFyZSBvbmx5T3duZXIKCglmdW5jdGlvbiBMZWRnZXIoKSB7Cgl9CgoJZnVuY3Rpb24gc2V0Q29udHJvbGxlcihhZGRyZXNzIF9jb250cm9sbGVyKSBvbmx5T3duZXIgbm90RmluYWxpemVkIHsKCQljb250cm9sbGVyID0gQ29udHJvbGxlcihfY29udHJvbGxlcik7Cgl9CgoJZnVuY3Rpb24gc3RvcE1pbnRpbmcoKSBvbmx5T3duZXIgewoJCW1pbnRpbmdTdG9wcGVkID0gdHJ1ZTsKCX0KCglmdW5jdGlvbiBtdWx0aU1pbnQodWludCBub25jZSwgdWludDI1NltdIGJpdHMpIG9ubHlPd25lciB7CgkJcmVxdWlyZSghbWludGluZ1N0b3BwZWQpOwoJCWlmIChub25jZSAhPSBtaW50aW5nTm9uY2UpIHJldHVybjsKCQltaW50aW5nTm9uY2UgKz0gMTsKCQl1aW50MjU2IGxvbWFzayA9ICgxIDw8IDk2KSAtIDE7CgkJdWludCBjcmVhdGVkID0gMDsKCQlmb3IgKHVpbnQgaT0wOyBpPGJpdHMubGVuZ3RoOyBpKyspIHsKCQkJYWRkcmVzcyBhID0gYWRkcmVzcyhiaXRzW2ldPj45Nik7CgkJCXVpbnQgdmFsdWUgPSBiaXRzW2ldJmxvbWFzazsKCQkJYmFsYW5jZU9mW2FdID0gYmFsYW5jZU9mW2FdICsgdmFsdWU7CgkJCWNvbnRyb2xsZXIubGVkZ2VyVHJhbnNmZXIoMCwgYSwgdmFsdWUpOwoJCQljcmVhdGVkICs9IHZhbHVlOwoJCX0KCQl0b3RhbFN1cHBseSArPSBjcmVhdGVkOwoJfQoKCS8vIGZ1bmN0aW9ucyBiZWxvdyB0aGlzIGxpbmUgYXJlIG9ubHlDb250cm9sbGVyCgoJbW9kaWZpZXIgb25seUNvbnRyb2xsZXIoKSB7CgkJcmVxdWlyZShtc2cuc2VuZGVyID09IGFkZHJlc3MoY29udHJvbGxlcikpOwoJCV87Cgl9CgoJZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5Q29udHJvbGxlciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCQlpZiAoYmFsYW5jZU9mW19mcm9tXSA8IF92YWx1ZSkgcmV0dXJuIGZhbHNlOwoKCQliYWxhbmNlT2ZbX2Zyb21dID0gc2FmZVN1YihiYWxhbmNlT2ZbX2Zyb21dLCBfdmFsdWUpOwoJCWJhbGFuY2VPZltfdG9dID0gc2FmZUFkZChiYWxhbmNlT2ZbX3RvXSwgX3ZhbHVlKTsKCQlyZXR1cm4gdHJ1ZTsKCX0KCglmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfc3BlbmRlciwgYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5Q29udHJvbGxlciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCQlpZiAoYmFsYW5jZU9mW19mcm9tXSA8IF92YWx1ZSkgcmV0dXJuIGZhbHNlOwoKCQl2YXIgYWxsb3dlZCA9IGFsbG93YW5jZVtfZnJvbV1bX3NwZW5kZXJdOwoJCWlmIChhbGxvd2VkIDwgX3ZhbHVlKSByZXR1cm4gZmFsc2U7CgoJCWJhbGFuY2VPZltfdG9dID0gc2FmZUFkZChiYWxhbmNlT2ZbX3RvXSwgX3ZhbHVlKTsKCQliYWxhbmNlT2ZbX2Zyb21dID0gc2FmZVN1YihiYWxhbmNlT2ZbX2Zyb21dLCBfdmFsdWUpOwoJCWFsbG93YW5jZVtfZnJvbV1bX3NwZW5kZXJdID0gc2FmZVN1YihhbGxvd2VkLCBfdmFsdWUpOwoJCXJldHVybiB0cnVlOwoJfQoKCWZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSBvbmx5Q29udHJvbGxlciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCQkvLyByZXF1aXJlIHVzZXIgdG8gc2V0IHRvIHplcm8gYmVmb3JlIHJlc2V0dGluZyB0byBub256ZXJvCgkJaWYgKChfdmFsdWUgIT0gMCkgJiYgKGFsbG93YW5jZVtfb3duZXJdW19zcGVuZGVyXSAhPSAwKSkgewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQlhbGxvd2FuY2VbX293bmVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CgkJcmV0dXJuIHRydWU7Cgl9CgoJZnVuY3Rpb24gaW5jcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIG9ubHlDb250cm9sbGVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCXVpbnQgb2xkVmFsdWUgPSBhbGxvd2FuY2VbX293bmVyXVtfc3BlbmRlcl07CgkJYWxsb3dhbmNlW19vd25lcl1bX3NwZW5kZXJdID0gc2FmZUFkZChvbGRWYWx1ZSwgX2FkZGVkVmFsdWUpOwoJCXJldHVybiB0cnVlOwoJfQoKCWZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIG9ubHlDb250cm9sbGVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCXVpbnQgb2xkVmFsdWUgPSBhbGxvd2FuY2VbX293bmVyXVtfc3BlbmRlcl07CgkJaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewoJCQlhbGxvd2FuY2VbX293bmVyXVtfc3BlbmRlcl0gPSAwOwoJCX0gZWxzZSB7CgkJCWFsbG93YW5jZVtfb3duZXJdW19zcGVuZGVyXSA9IHNhZmVTdWIob2xkVmFsdWUsIF9zdWJ0cmFjdGVkVmFsdWUpOwoJCX0KCQlyZXR1cm4gdHJ1ZTsKCX0KCglmdW5jdGlvbiBidXJuKGFkZHJlc3MgX293bmVyLCB1aW50IF9hbW91bnQpIG9ubHlDb250cm9sbGVyIHsKCQliYWxhbmNlT2ZbX293bmVyXSA9IHNhZmVTdWIoYmFsYW5jZU9mW19vd25lcl0sIF9hbW91bnQpOwoJCXRvdGFsU3VwcGx5ID0gc2FmZVN1Yih0b3RhbFN1cHBseSwgX2Ftb3VudCk7Cgl9Cn0='.
	

]
