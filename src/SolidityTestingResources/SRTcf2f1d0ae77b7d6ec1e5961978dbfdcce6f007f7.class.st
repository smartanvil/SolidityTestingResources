Class {
	#name : #SRTcf2f1d0ae77b7d6ec1e5961978dbfdcce6f007f7,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTcf2f1d0ae77b7d6ec1e5961978dbfdcce6f007f7 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogRVJDMjAgY29tcGF0aWJsZSB0b2tlbiBpbnRlcmZhY2UKICoKICogLSBJbXBsZW1lbnRzIEVSQyAyMCBUb2tlbiBzdGFuZGFyZAogKiAtIEltcGxlbWVudHMgc2hvcnQgYWRkcmVzcyBhdHRhY2sgZml4CiAqCiAqICNjcmVhdGVkIDI5LzA5LzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmludGVyZmFjZSBJVG9rZW4geyAKCiAgICAvKiogCiAgICAgKiBHZXQgdGhlIHRvdGFsIHN1cHBseSBvZiB0b2tlbnMKICAgICAqIAogICAgICogQHJldHVybiBUaGUgdG90YWwgc3VwcGx5CiAgICAgKi8KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCk7CgoKICAgIC8qKiAKICAgICAqIEdldCBiYWxhbmNlIG9mIGBfb3duZXJgIAogICAgICogCiAgICAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIGZyb20gd2hpY2ggdGhlIGJhbGFuY2Ugd2lsbCBiZSByZXRyaWV2ZWQKICAgICAqIEByZXR1cm4gVGhlIGJhbGFuY2UKICAgICAqLwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KTsKCgogICAgLyoqIAogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYAogICAgICogCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CgoKICAgIC8qKiAKICAgICAqIFNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgICogCiAgICAgKiBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKCgogICAgLyoqIAogICAgICogYG1zZy5zZW5kZXJgIGFwcHJvdmVzIGBfc3BlbmRlcmAgdG8gc3BlbmQgYF92YWx1ZWAgdG9rZW5zCiAgICAgKiAKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CgoKICAgIC8qKiAKICAgICAqIEdldCB0aGUgYW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgdGhhdCBgX3NwZW5kZXJgIGlzIGFsbG93ZWQgdG8gc3BlbmQgZnJvbSBgX293bmVyYAogICAgICogCiAgICAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IG93bmluZyB0b2tlbnMKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgICAqIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudAogICAgICovCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpOwp9CgoKLyoqCiAqIElDcm93ZHNhbGUKICoKICogQmFzZSBjcm93ZHNhbGUgaW50ZXJmYWNlIHRvIG1hbmFnZSB0aGUgc2FsZSBvZiAKICogYW4gRVJDMjAgdG9rZW4KICoKICogI2NyZWF0ZWQgMDkvMDkvMjAxNwogKiAjYXV0aG9yIEZyYW5rIEJvbm5ldAogKi8KaW50ZXJmYWNlIElDcm93ZHNhbGUgewoKICAgIC8qKgogICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBjb250cmFjdCBpcyBjdXJyZW50bHkgaW4gdGhlIHByZXNhbGUgcGhhc2UKICAgICAqCiAgICAgKiBAcmV0dXJuIFRydWUgaWYgaW4gcHJlc2FsZSBwaGFzZQogICAgICovCiAgICBmdW5jdGlvbiBpc0luUHJlc2FsZVBoYXNlKCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCk7CgoKICAgIC8qKgogICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBjb250cmFjdCBpcyBjdXJyZW50bHkgaW4gdGhlIGVuZGVkIHN0YWdlCiAgICAgKgogICAgICogQHJldHVybiBUcnVlIGlmIGVuZGVkCiAgICAgKi8KICAgIGZ1bmN0aW9uIGlzRW5kZWQoKSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sKTsKCgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRydWUgaWYgYF9iZW5lZmljaWFyeWAgaGFzIGEgYmFsYW5jZSBhbGxvY2F0ZWQKICAgICAqCiAgICAgKiBAcGFyYW0gX2JlbmVmaWNpYXJ5IFRoZSBhY2NvdW50IHRoYXQgdGhlIGJhbGFuY2UgaXMgYWxsb2NhdGVkIGZvcgogICAgICogQHBhcmFtIF9yZWxlYXNlRGF0ZSBUaGUgZGF0ZSBhZnRlciB3aGljaCB0aGUgYmFsYW5jZSBjYW4gYmUgd2l0aGRyYXduCiAgICAgKiBAcmV0dXJuIFRydWUgaWYgdGhlcmUgaXMgYSBiYWxhbmNlIHRoYXQgYmVsb25ncyB0byBgX2JlbmVmaWNpYXJ5YAogICAgICovCiAgICBmdW5jdGlvbiBoYXNCYWxhbmNlKGFkZHJlc3MgX2JlbmVmaWNpYXJ5LCB1aW50IF9yZWxlYXNlRGF0ZSkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCk7CgoKICAgIC8qKiAKICAgICAqIEdldCB0aGUgYWxsb2NhdGVkIHRva2VuIGJhbGFuY2Ugb2YgYF9vd25lcmAKICAgICAqIAogICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBhbGxvY2F0ZWQgdG9rZW4gYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZAogICAgICogQHJldHVybiBUaGUgYWxsb2NhdGVkIHRva2VuIGJhbGFuY2UKICAgICAqLwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KTsKCgogICAgLyoqIAogICAgICogR2V0IHRoZSBhbGxvY2F0ZWQgZXRoIGJhbGFuY2Ugb2YgYF9vd25lcmAKICAgICAqIAogICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBhbGxvY2F0ZWQgZXRoIGJhbGFuY2Ugd2lsbCBiZSByZXRyaWV2ZWQKICAgICAqIEByZXR1cm4gVGhlIGFsbG9jYXRlZCBldGggYmFsYW5jZQogICAgICovCiAgICBmdW5jdGlvbiBldGhCYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpOwoKCiAgICAvKiogCiAgICAgKiBHZXQgaW52ZXN0ZWQgYW5kIHJlZnVuZGFibGUgYmFsYW5jZSBvZiBgX293bmVyYCAob25seSBjb250cmlidXRpb25zIGR1cmluZyB0aGUgSUNPIHBoYXNlIGFyZSByZWdpc3RlcmVkKQogICAgICogCiAgICAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIGZyb20gd2hpY2ggdGhlIHJlZnVuZGFibGUgYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZAogICAgICogQHJldHVybiBUaGUgaW52ZXN0ZWQgcmVmdW5kYWJsZSBiYWxhbmNlCiAgICAgKi8KICAgIGZ1bmN0aW9uIHJlZnVuZGFibGVFdGhCYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpOwoKCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIHJhdGUgYW5kIGJvbnVzIHJlbGVhc2UgZGF0ZQogICAgICoKICAgICAqIEBwYXJhbSBfcGhhc2UgVGhlIHBoYXNlIHRvIHVzZSB3aGlsZSBkZXRlcm1pbmluZyB0aGUgcmF0ZQogICAgICogQHBhcmFtIF92b2x1bWUgVGhlIGFtb3VudCB3ZWkgdXNlZCB0byBkZXRlcm1pbmUgd2hhdCB2b2x1bWUgbXVsdGlwbGllciB0byB1c2UKICAgICAqIEByZXR1cm4gVGhlIHJhdGUgdXNlZCBpbiBgX3BoYXNlYCBtdWx0aXBsaWVkIGJ5IHRoZSBjb3JyZXNwb25kaW5nIHZvbHVtZSBtdWx0aXBsaWVyCiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldFJhdGUodWludCBfcGhhc2UsIHVpbnQgX3ZvbHVtZSkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCk7CgoKICAgIC8qKgogICAgICogQ29udmVydCBgX3dlaWAgdG8gYW4gYW1vdW50IGluIHRva2VucyB1c2luZyAKICAgICAqIHRoZSBgX3JhdGVgCiAgICAgKgogICAgICogQHBhcmFtIF93ZWkgYW1vdW50IG9mIHdlaSB0byBjb252ZXJ0CiAgICAgKiBAcGFyYW0gX3JhdGUgcmF0ZSB0byB1c2UgZm9yIHRoZSBjb252ZXJzaW9uCiAgICAgKiBAcmV0dXJuIEFtb3VudCBpbiB0b2tlbnMKICAgICAqLwogICAgZnVuY3Rpb24gdG9Ub2tlbnModWludCBfd2VpLCB1aW50IF9yYXRlKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KTsKCgogICAgLyoqCiAgICAgKiBSZWNlaXZlIGV0aGVyIGFuZCBpc3N1ZSB0b2tlbnMgdG8gdGhlIHNlbmRlcgogICAgICogCiAgICAgKiBUaGlzIGZ1bmN0aW9uIHJlcXVpcmVzIHRoYXQgbXNnLnNlbmRlciBpcyBub3QgYSBjb250cmFjdC4gVGhpcyBpcyByZXF1aXJlZCBiZWNhdXNlIGl0J3MgCiAgICAgKiBub3QgcG9zc2libGUgZm9yIGEgY29udHJhY3QgdG8gc3BlY2lmeSBhIGdhcyBhbW91bnQgd2hlbiBjYWxsaW5nIHRoZSAoaW50ZXJuYWwpIHNlbmQoKSAKICAgICAqIGZ1bmN0aW9uLiBTb2xpZGl0eSBpbXBvc2VzIGEgbWF4aW11bSBhbW91bnQgb2YgZ2FzICgyMzAwIGdhcyBhdCB0aGUgdGltZSBvZiB3cml0aW5nKQogICAgICogCiAgICAgKiBDb250cmFjdHMgY2FuIGNhbGwgdGhlIGNvbnRyaWJ1dGUoKSBmdW5jdGlvbiBpbnN0ZWFkCiAgICAgKi8KICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlOwoKCiAgICAvKioKICAgICAqIFJlY2VpdmUgZXRoZXIgYW5kIGlzc3VlIHRva2VucyB0byB0aGUgc2VuZGVyCiAgICAgKgogICAgICogQHJldHVybiBUaGUgYWNjZXB0ZWQgZXRoZXIgYW1vdW50CiAgICAgKi8KICAgIGZ1bmN0aW9uIGNvbnRyaWJ1dGUoKSBwdWJsaWMgcGF5YWJsZSByZXR1cm5zICh1aW50KTsKCgogICAgLyoqCiAgICAgKiBSZWNlaXZlIGV0aGVyIGFuZCBpc3N1ZSB0b2tlbnMgdG8gYF9iZW5lZmljaWFyeWAKICAgICAqCiAgICAgKiBAcGFyYW0gX2JlbmVmaWNpYXJ5IFRoZSBhY2NvdW50IHRoYXQgcmVjZWl2ZXMgdGhlIHRva2VucwogICAgICogQHJldHVybiBUaGUgYWNjZXB0ZWQgZXRoZXIgYW1vdW50CiAgICAgKi8KICAgIGZ1bmN0aW9uIGNvbnRyaWJ1dGVGb3IoYWRkcmVzcyBfYmVuZWZpY2lhcnkpIHB1YmxpYyBwYXlhYmxlIHJldHVybnMgKHVpbnQpOwoKCiAgICAvKioKICAgICAqIFdpdGhkcmF3IGFsbG9jYXRlZCB0b2tlbnMKICAgICAqLwogICAgZnVuY3Rpb24gd2l0aGRyYXdUb2tlbnMoKSBwdWJsaWM7CgoKICAgICAvKioKICAgICAqIFdpdGhkcmF3IGFsbG9jYXRlZCB0b2tlbnMKICAgICAqCiAgICAgKiBAcGFyYW0gX2JlbmVmaWNpYXJ5IEFkZHJlc3MgdG8gc2VuZCB0bwogICAgICovCiAgICBmdW5jdGlvbiB3aXRoZHJhd1Rva2Vuc1RvKGFkZHJlc3MgX2JlbmVmaWNpYXJ5KSBwdWJsaWM7CgoKICAgIC8qKgogICAgICogV2l0aGRyYXcgYWxsb2NhdGVkIGV0aGVyCiAgICAgKi8KICAgIGZ1bmN0aW9uIHdpdGhkcmF3RXRoZXIoKSBwdWJsaWM7CgoKICAgIC8qKgogICAgICogV2l0aGRyYXcgYWxsb2NhdGVkIGV0aGVyCiAgICAgKgogICAgICogQHBhcmFtIF9iZW5lZmljaWFyeSBBZGRyZXNzIHRvIHNlbmQgdG8KICAgICAqLwogICAgZnVuY3Rpb24gd2l0aGRyYXdFdGhlclRvKGFkZHJlc3MgX2JlbmVmaWNpYXJ5KSBwdWJsaWM7CgoKICAgIC8qKgogICAgICogUmVmdW5kIGluIHRoZSBjYXNlIG9mIGFuIHVuc3VjY2Vzc2Z1bCBjcm93ZHNhbGUuIFRoZSAKICAgICAqIGNyb3dkc2FsZSBpcyBjb25zaWRlcmVkIHVuc3VjY2Vzc2Z1bCBpZiBtaW5BbW91bnQgd2FzIAogICAgICogbm90IHJhaXNlZCBiZWZvcmUgZW5kIG9mIHRoZSBjcm93ZHNhbGUKICAgICAqLwogICAgZnVuY3Rpb24gcmVmdW5kKCkgcHVibGljOwoKCiAgICAvKioKICAgICAqIFJlZnVuZCBpbiB0aGUgY2FzZSBvZiBhbiB1bnN1Y2Nlc3NmdWwgY3Jvd2RzYWxlLiBUaGUgCiAgICAgKiBjcm93ZHNhbGUgaXMgY29uc2lkZXJlZCB1bnN1Y2Nlc3NmdWwgaWYgbWluQW1vdW50IHdhcyAKICAgICAqIG5vdCByYWlzZWQgYmVmb3JlIGVuZCBvZiB0aGUgY3Jvd2RzYWxlCiAgICAgKgogICAgICogQHBhcmFtIF9iZW5lZmljaWFyeSBBZGRyZXNzIHRvIHNlbmQgdG8KICAgICAqLwogICAgZnVuY3Rpb24gcmVmdW5kVG8oYWRkcmVzcyBfYmVuZWZpY2lhcnkpIHB1YmxpYzsKfQoKCi8qKgogKiBBZGRzIHRvIHRoZSBtZW1vcnkgc2lnbmF0dXJlIG9mIHRoZSBjb250cmFjdCAKICogdGhhdCBjb250YWlucyB0aGUgY29kZSB0aGF0IGlzIGNhbGxlZCBieSB0aGUgCiAqIGRpc3BhdGNoZXIKICovCmNvbnRyYWN0IERpc3BhdGNoYWJsZSB7CgoKICAgIC8qKgogICAgICogVGFyZ2V0IGNvbnRyYWN0IHRoYXQgY29udGFpbnMgdGhlIGNvZGUKICAgICAqLwogICAgYWRkcmVzcyBwcml2YXRlIHRhcmdldDsKfQoKCi8qKgogKiBUaGUgZGlzcGF0Y2hlciBpcyBhIG1pbmltYWwgJ3NoaW0nIHRoYXQgZGlzcGF0Y2hlcyBjYWxscyB0byBhIHRhcmdldGVkCiAqIGNvbnRyYWN0IHdpdGhvdXQgcmV0dXJuaW5nIGFueSBkYXRhLiAKICoKICogQ2FsbHMgYXJlIG1hZGUgdXNpbmcgJ2RlbGVnYXRlY2FsbCcsIG1lYW5pbmcgYWxsIHN0b3JhZ2UgYW5kIHZhbHVlCiAqIGlzIGtlcHQgb24gdGhlIGRpc3BhdGNoZXIuCiAqLwpjb250cmFjdCBTaW1wbGVEaXNwYXRjaGVyIHsKCiAgICAvKioKICAgICAqIFRhcmdldCBjb250cmFjdCB0aGF0IGNvbnRhaW5zIHRoZSBjb2RlCiAgICAgKi8KICAgIGFkZHJlc3MgcHJpdmF0ZSB0YXJnZXQ7CgoKICAgIC8qKgogICAgICogSW5pdGlhbGl6ZSBzaW1wbGUgZGlzcGF0Y2hlcgogICAgICoKICAgICAqIEBwYXJhbSBfdGFyZ2V0IENvbnRyYWN0IHRoYXQgaG9sZHMgdGhlIGNvZGUKICAgICAqLwogICAgZnVuY3Rpb24gU2ltcGxlRGlzcGF0Y2hlcihhZGRyZXNzIF90YXJnZXQpIHB1YmxpYyB7CiAgICAgICAgdGFyZ2V0ID0gX3RhcmdldDsKICAgIH0KCgogICAgLyoqCiAgICAgKiBFeGVjdXRlIHRhcmdldCBjb2RlIGluIHRoZSBjb250ZXh0IG9mIHRoZSBkaXNwYXRjaGVyCiAgICAgKi8KICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICB2YXIgZGVzdCA9IHRhcmdldDsKICAgICAgICBhc3NlbWJseSB7CiAgICAgICAgICAgIGNhbGxkYXRhY29weSgweDAsIDB4MCwgY2FsbGRhdGFzaXplKQogICAgICAgICAgICBzd2l0Y2ggZGVsZWdhdGVjYWxsKHN1YihnYXMsIDEwMDAwKSwgZGVzdCwgMHgwLCBjYWxsZGF0YXNpemUsIDAsIDApCiAgICAgICAgICAgIGNhc2UgMCB7IHJldmVydCgwLCAwKSB9IC8vIFRocm93CiAgICAgICAgfQogICAgfQp9CgoKLyoqCiAqIFBlcnNvbmFsQ3Jvd2RzYWxlUHJveHkgRGlzcGF0Y2hlcgogKgogKiAjY3JlYXRlZCAzMS8xMi8yMDE3CiAqICNhdXRob3IgRnJhbmsgQm9ubmV0CiAqLwpjb250cmFjdCBQZXJzb25hbENyb3dkc2FsZVByb3h5RGlzcGF0Y2hlciBpcyBTaW1wbGVEaXNwYXRjaGVyIHsKCiAgICAvLyBUYXJnZXQKICAgIGFkZHJlc3MgcHVibGljIHRhcmdldENyb3dkc2FsZTsKICAgIGFkZHJlc3MgcHVibGljIHRhcmdldFRva2VuOwoKICAgIC8vIE93bmVyCiAgICBhZGRyZXNzIHB1YmxpYyBiZW5lZmljaWFyeTsKICAgIGJ5dGVzMzIgcHJpdmF0ZSBwYXNzcGhyYXNlSGFzaDsKCgogICAgLyoqCiAgICAgKiBEZXBsb3kgcGVyc29uYWwgcHJveHkKICAgICAqCiAgICAgKiBAcGFyYW0gX3RhcmdldCBUYXJnZXQgY29udHJhY3QgdG8gZGlzcGFjaCBjYWxscyB0bwogICAgICogQHBhcmFtIF90YXJnZXRDcm93ZHNhbGUgVGFyZ2V0IGNyb3dkc2FsZSB0byBpbnZlc3QgaW4KICAgICAqIEBwYXJhbSBfdGFyZ2V0VG9rZW4gVG9rZW4gdGhhdCBpcyBib3VnaHQKICAgICAqIEBwYXJhbSBfcGFzc3BocmFzZUhhc2ggSGFzaCBvZiB0aGUgcGFzc3BocmFzZSAKICAgICAqLwogICAgZnVuY3Rpb24gUGVyc29uYWxDcm93ZHNhbGVQcm94eURpc3BhdGNoZXIoYWRkcmVzcyBfdGFyZ2V0LCBhZGRyZXNzIF90YXJnZXRDcm93ZHNhbGUsIGFkZHJlc3MgX3RhcmdldFRva2VuLCBieXRlczMyIF9wYXNzcGhyYXNlSGFzaCkgcHVibGljIAogICAgICAgIFNpbXBsZURpc3BhdGNoZXIoX3RhcmdldCkgewogICAgICAgIHRhcmdldENyb3dkc2FsZSA9IF90YXJnZXRDcm93ZHNhbGU7CiAgICAgICAgdGFyZ2V0VG9rZW4gPSBfdGFyZ2V0VG9rZW47CiAgICAgICAgcGFzc3BocmFzZUhhc2ggPSBfcGFzc3BocmFzZUhhc2g7CiAgICB9Cn0KCgovKioKICogSUNyb3dkc2FsZVByb3h5CiAqCiAqICNjcmVhdGVkIDIzLzExLzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmludGVyZmFjZSBJQ3Jvd2RzYWxlUHJveHkgewoKICAgIC8qKgogICAgICogUmVjZWl2ZSBldGhlciBhbmQgaXNzdWUgdG9rZW5zIHRvIHRoZSBzZW5kZXIKICAgICAqIAogICAgICogVGhpcyBmdW5jdGlvbiByZXF1aXJlcyB0aGF0IG1zZy5zZW5kZXIgaXMgbm90IGEgY29udHJhY3QuIFRoaXMgaXMgcmVxdWlyZWQgYmVjYXVzZSBpdCdzIAogICAgICogbm90IHBvc3NpYmxlIGZvciBhIGNvbnRyYWN0IHRvIHNwZWNpZnkgYSBnYXMgYW1vdW50IHdoZW4gY2FsbGluZyB0aGUgKGludGVybmFsKSBzZW5kKCkgCiAgICAgKiBmdW5jdGlvbi4gU29saWRpdHkgaW1wb3NlcyBhIG1heGltdW0gYW1vdW50IG9mIGdhcyAoMjMwMCBnYXMgYXQgdGhlIHRpbWUgb2Ygd3JpdGluZykKICAgICAqIAogICAgICogQ29udHJhY3RzIGNhbiBjYWxsIHRoZSBjb250cmlidXRlKCkgZnVuY3Rpb24gaW5zdGVhZAogICAgICovCiAgICBmdW5jdGlvbiAoKSBwdWJsaWMgcGF5YWJsZTsKCgogICAgLyoqCiAgICAgKiBSZWNlaXZlIGV0aGVyIGFuZCBpc3N1ZSB0b2tlbnMgdG8gdGhlIHNlbmRlcgogICAgICoKICAgICAqIEByZXR1cm4gVGhlIGFjY2VwdGVkIGV0aGVyIGFtb3VudAogICAgICovCiAgICBmdW5jdGlvbiBjb250cmlidXRlKCkgcHVibGljIHBheWFibGUgcmV0dXJucyAodWludCk7CgoKICAgIC8qKgogICAgICogUmVjZWl2ZSBldGhlciBhbmQgaXNzdWUgdG9rZW5zIHRvIGBfYmVuZWZpY2lhcnlgCiAgICAgKgogICAgICogQHBhcmFtIF9iZW5lZmljaWFyeSBUaGUgYWNjb3VudCB0aGF0IHJlY2VpdmVzIHRoZSB0b2tlbnMKICAgICAqIEByZXR1cm4gVGhlIGFjY2VwdGVkIGV0aGVyIGFtb3VudAogICAgICovCiAgICBmdW5jdGlvbiBjb250cmlidXRlRm9yKGFkZHJlc3MgX2JlbmVmaWNpYXJ5KSBwdWJsaWMgcGF5YWJsZSByZXR1cm5zICh1aW50KTsKfQoKCi8qKgogKiBDcm93ZHNhbGVQcm94eQogKgogKiAjY3JlYXRlZCAyMi8xMS8yMDE3CiAqICNhdXRob3IgRnJhbmsgQm9ubmV0CiAqLwpjb250cmFjdCBDcm93ZHNhbGVQcm94eSBpcyBJQ3Jvd2RzYWxlUHJveHkgewoKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgSUNyb3dkc2FsZSBwdWJsaWMgdGFyZ2V0OwogICAgCgogICAgLyoqCiAgICAgKiBEZXBsb3kgcHJveHkKICAgICAqCiAgICAgKiBAcGFyYW0gX293bmVyIE93bmVyIG9mIHRoZSBwcm94eQogICAgICogQHBhcmFtIF90YXJnZXQgVGFyZ2V0IGNyb3dkc2FsZQogICAgICovCiAgICBmdW5jdGlvbiBDcm93ZHNhbGVQcm94eShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfdGFyZ2V0KSBwdWJsaWMgewogICAgICAgIHRhcmdldCA9IElDcm93ZHNhbGUoX3RhcmdldCk7CiAgICAgICAgb3duZXIgPSBfb3duZXI7CiAgICB9CgoKICAgIC8qKgogICAgICogUmVjZWl2ZSBjb250cmlidXRpb24gYW5kIGZvcndhcmQgdG8gdGhlIGNyb3dkc2FsZQogICAgICogCiAgICAgKiBUaGlzIGZ1bmN0aW9uIHJlcXVpcmVzIHRoYXQgbXNnLnNlbmRlciBpcyBub3QgYSBjb250cmFjdC4gVGhpcyBpcyByZXF1aXJlZCBiZWNhdXNlIGl0J3MgCiAgICAgKiBub3QgcG9zc2libGUgZm9yIGEgY29udHJhY3QgdG8gc3BlY2lmeSBhIGdhcyBhbW91bnQgd2hlbiBjYWxsaW5nIHRoZSAoaW50ZXJuYWwpIHNlbmQoKSAKICAgICAqIGZ1bmN0aW9uLiBTb2xpZGl0eSBpbXBvc2VzIGEgbWF4aW11bSBhbW91bnQgb2YgZ2FzICgyMzAwIGdhcyBhdCB0aGUgdGltZSBvZiB3cml0aW5nKQogICAgICovCiAgICBmdW5jdGlvbiAoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgdGFyZ2V0LmNvbnRyaWJ1dGVGb3IudmFsdWUobXNnLnZhbHVlKShtc2cuc2VuZGVyKTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBSZWNlaXZlIGV0aGVyIGFuZCBpc3N1ZSB0b2tlbnMgdG8gdGhlIHNlbmRlcgogICAgICoKICAgICAqIEByZXR1cm4gVGhlIGFjY2VwdGVkIGV0aGVyIGFtb3VudAogICAgICovCiAgICBmdW5jdGlvbiBjb250cmlidXRlKCkgcHVibGljIHBheWFibGUgcmV0dXJucyAodWludCkgewogICAgICAgIHRhcmdldC5jb250cmlidXRlRm9yLnZhbHVlKG1zZy52YWx1ZSkobXNnLnNlbmRlcik7CiAgICB9CgoKICAgIC8qKgogICAgICogUmVjZWl2ZSBldGhlciBhbmQgaXNzdWUgdG9rZW5zIHRvIGBfYmVuZWZpY2lhcnlgCiAgICAgKgogICAgICogQHBhcmFtIF9iZW5lZmljaWFyeSBUaGUgYWNjb3VudCB0aGF0IHJlY2VpdmVzIHRoZSB0b2tlbnMKICAgICAqIEByZXR1cm4gVGhlIGFjY2VwdGVkIGV0aGVyIGFtb3VudAogICAgICovCiAgICBmdW5jdGlvbiBjb250cmlidXRlRm9yKGFkZHJlc3MgX2JlbmVmaWNpYXJ5KSBwdWJsaWMgcGF5YWJsZSByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdGFyZ2V0LmNvbnRyaWJ1dGVGb3IudmFsdWUobXNnLnZhbHVlKShfYmVuZWZpY2lhcnkpOwogICAgfQp9CgoKLyoqCiAqIElQZXJzb25hbENyb3dkc2FsZVByb3h5CiAqCiAqICNjcmVhdGVkIDIyLzExLzIwMTcKICogI2F1dGhvciBGcmFuayBCb25uZXQKICovCmludGVyZmFjZSBJUGVyc29uYWxDcm93ZHNhbGVQcm94eSB7CgoKICAgIC8qKgogICAgICogUmVjZWl2ZSBldGhlciB0byBmb3J3YXJkIHRvIHRoZSB0YXJnZXQgY3Jvd2RzYWxlCiAgICAgKi8KICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlOwoKCiAgICAvKioKICAgICAqIEludmVzdCByZWNlaXZlZCBldGhlciBpbiB0YXJnZXQgY3Jvd2RzYWxlCiAgICAgKi8KICAgIGZ1bmN0aW9uIGludmVzdCgpIHB1YmxpYzsKCgogICAgLyoqCiAgICAgKiBSZXF1ZXN0IGEgcmVmdW5kIGZyb20gdGhlIHRhcmdldCBjcm93ZHNhbGUKICAgICAqLwogICAgZnVuY3Rpb24gcmVmdW5kKCkgcHVibGljOwoKCiAgICAvKioKICAgICAqIFJlcXVlc3Qgb3V0c3RhbmRpbmcgdG9rZW4gYmFsYW5jZSBmcm9tIHRoZSAKICAgICAqIHRhcmdldCBjcm93ZHNhbGUKICAgICAqLwogICAgZnVuY3Rpb24gdXBkYXRlVG9rZW5CYWxhbmNlKCkgcHVibGljOwoKCiAgICAvKioKICAgICAqIFRyYW5zZmVyIHRva2VuIGJhbGFuY2UgdG8gYmVuZWZpY2lhcnkKICAgICAqLwogICAgZnVuY3Rpb24gd2l0aGRyYXdUb2tlbnMoKSBwdWJsaWM7CgoKICAgIC8qKgogICAgICogUmVxdWVzdCBvdXRzdGFuZGluZyBldGhlciBiYWxhbmNlIGZyb20gdGhlIAogICAgICogdGFyZ2V0IGNyb3dkc2FsZQogICAgICovCiAgICBmdW5jdGlvbiB1cGRhdGVFdGhlckJhbGFuY2UoKSBwdWJsaWM7CgoKICAgIC8qKgogICAgICogVHJhbnNmZXIgZXRoZXIgYmFsYW5jZSB0byBiZW5lZmljaWFyeQogICAgICovCiAgICBmdW5jdGlvbiB3aXRoZHJhd0V0aGVyKCkgcHVibGljOwp9CgoKLyoqCiAqIFBlcnNvbmFsQ3Jvd2RzYWxlUHJveHkKICoKICogI2NyZWF0ZWQgMzEvMTIvMjAxNwogKiAjYXV0aG9yIEZyYW5rIEJvbm5ldAogKi8KY29udHJhY3QgUGVyc29uYWxDcm93ZHNhbGVQcm94eSBpcyBJUGVyc29uYWxDcm93ZHNhbGVQcm94eSwgRGlzcGF0Y2hhYmxlIHsKCiAgICAvLyBUYXJnZXQKICAgIElDcm93ZHNhbGUgcHVibGljIHRhcmdldENyb3dkc2FsZTsKICAgIElUb2tlbiBwdWJsaWMgdGFyZ2V0VG9rZW47CgogICAgLy8gT3duZXIKICAgIGFkZHJlc3MgcHVibGljIGJlbmVmaWNpYXJ5OwogICAgYnl0ZXMzMiBwcml2YXRlIHBhc3NwaHJhc2VIYXNoOwoKCiAgICAvKioKICAgICAqIFJlc3RyaWN0IGNhbGwgYWNjZXNzIHRvIHdoZW4gdGhlIGJlbmVmaWNpYXJ5IAogICAgICogYWRkcmVzcyBpcyBrbm93bgogICAgICovCiAgICBtb2RpZmllciB3aGVuX2JlbmVmaWNpYXJ5X2lzX2tub3duKCkgewogICAgICAgIHJlcXVpcmUoYmVuZWZpY2lhcnkgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgXzsKICAgIH0KCgogICAgLyoqCiAgICAgKiBSZXN0cmljdCBjYWxsIGFjY2VzcyB0byB3aGVuIHRoZSBiZW5lZmljaWFyeSAKICAgICAqIGFkZHJlc3MgaXMgdW5rbm93bgogICAgICovCiAgICBtb2RpZmllciB3aGVuX2JlbmVmaWNpYXJ5X2lzX3Vua25vd24oKSB7CiAgICAgICAgcmVxdWlyZShiZW5lZmljaWFyeSA9PSBhZGRyZXNzKDApKTsKICAgICAgICBfOwogICAgfQoKCiAgICAvKioKICAgICAqIFNldCB0aGUgYmVuZWZpY2lhcnkgYWNjb3VudC4gVG9rZW5zIGFuZCBldGhlciB3aWxsIGJlIHNlbmQgCiAgICAgKiB0byB0aGlzIGFkZHJlc3MKICAgICAqCiAgICAgKiBAcGFyYW0gX2JlbmVmaWNpYXJ5IFRoZSBhZGRyZXNzIHRvIHJlY2VpdmUgdG9rZW5zIGFuZCBldGhlcgogICAgICogQHBhcmFtIF9wYXNzcGhyYXNlIFRoZSByYXcgcGFzc3BocmFzc2UKICAgICAqLwogICAgZnVuY3Rpb24gc2V0QmVuZWZpY2lhcnkoYWRkcmVzcyBfYmVuZWZpY2lhcnksIGJ5dGVzMzIgX3Bhc3NwaHJhc2UpIHB1YmxpYyB3aGVuX2JlbmVmaWNpYXJ5X2lzX3Vua25vd24gewogICAgICAgIHJlcXVpcmUoa2VjY2FrMjU2KF9wYXNzcGhyYXNlKSA9PSBwYXNzcGhyYXNlSGFzaCk7CiAgICAgICAgYmVuZWZpY2lhcnkgPSBfYmVuZWZpY2lhcnk7CiAgICB9CgoKICAgIC8qKgogICAgICogUmVjZWl2ZSBldGhlciB0byBmb3J3YXJkIHRvIHRoZSB0YXJnZXQgY3Jvd2RzYWxlCiAgICAgKi8KICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICAvLyBKdXN0IHJlY2VpdmUgZXRoZXIKICAgIH0KCgogICAgLyoqCiAgICAgKiBJbnZlc3QgcmVjZWl2ZWQgZXRoZXIgaW4gdGFyZ2V0IGNyb3dkc2FsZQogICAgICovCiAgICBmdW5jdGlvbiBpbnZlc3QoKSBwdWJsaWMgewogICAgICAgIHRhcmdldENyb3dkc2FsZS5jb250cmlidXRlLnZhbHVlKHRoaXMuYmFsYW5jZSkoKTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBSZXF1ZXN0IGEgcmVmdW5kIGZyb20gdGhlIHRhcmdldCBjcm93ZHNhbGUKICAgICAqLwogICAgZnVuY3Rpb24gcmVmdW5kKCkgcHVibGljIHsKICAgICAgICB0YXJnZXRDcm93ZHNhbGUucmVmdW5kKCk7CiAgICB9CgoKICAgIC8qKgogICAgICogUmVxdWVzdCBvdXRzdGFuZGluZyB0b2tlbiBiYWxhbmNlIGZyb20gdGhlIAogICAgICogdGFyZ2V0IGNyb3dkc2FsZQogICAgICovCiAgICBmdW5jdGlvbiB1cGRhdGVUb2tlbkJhbGFuY2UoKSBwdWJsaWMgewogICAgICAgIHRhcmdldENyb3dkc2FsZS53aXRoZHJhd1Rva2VucygpOwogICAgfQoKCiAgICAvKioKICAgICAqIFRyYW5zZmVyIHRva2VuIGJhbGFuY2UgdG8gYmVuZWZpY2lhcnkKICAgICAqLwogICAgZnVuY3Rpb24gd2l0aGRyYXdUb2tlbnMoKSBwdWJsaWMgd2hlbl9iZW5lZmljaWFyeV9pc19rbm93biB7CiAgICAgICAgdWludCBiYWxhbmNlID0gdGFyZ2V0VG9rZW4uYmFsYW5jZU9mKHRoaXMpOwogICAgICAgIHRhcmdldFRva2VuLnRyYW5zZmVyKGJlbmVmaWNpYXJ5LCBiYWxhbmNlKTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBSZXF1ZXN0IG91dHN0YW5kaW5nIGV0aGVyIGJhbGFuY2UgZnJvbSB0aGUgCiAgICAgKiB0YXJnZXQgY3Jvd2RzYWxlCiAgICAgKi8KICAgIGZ1bmN0aW9uIHVwZGF0ZUV0aGVyQmFsYW5jZSgpIHB1YmxpYyB7CiAgICAgICAgdGFyZ2V0Q3Jvd2RzYWxlLndpdGhkcmF3RXRoZXIoKTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBUcmFuc2ZlciBldGhlciBiYWxhbmNlIHRvIGJlbmVmaWNpYXJ5CiAgICAgKi8KICAgIGZ1bmN0aW9uIHdpdGhkcmF3RXRoZXIoKSBwdWJsaWMgd2hlbl9iZW5lZmljaWFyeV9pc19rbm93biB7CiAgICAgICAgYmVuZWZpY2lhcnkudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICAgIH0KfQoKCi8qKgogKiBDcm93ZHNhbGVQcm94eUZhY3RvcnkKICoKICogI2NyZWF0ZWQgMjEvMTIvMjAxNwogKiAjYXV0aG9yIEZyYW5rIEJvbm5ldAogKi8KY29udHJhY3QgQ3Jvd2RzYWxlUHJveHlGYWN0b3J5IHsKCiAgICAvLyBUYXJnZXQgCiAgICBhZGRyZXNzIHB1YmxpYyB0YXJnZXRDcm93ZHNhbGU7CiAgICBhZGRyZXNzIHB1YmxpYyB0YXJnZXRUb2tlbjsKCiAgICAvLyBEaXNwYXRjaCB0YXJnZXQKICAgIGFkZHJlc3MgcHJpdmF0ZSBwZXJzb25hbENyb3dkc2FsZVByb3h5VGFyZ2V0OwoKCiAgICAvLyBFdmVudHMKICAgIGV2ZW50IFByb3h5Q3JlYXRlZChhZGRyZXNzIHByb3h5LCBhZGRyZXNzIGJlbmVmaWNpYXJ5KTsKCgogICAgLyoqCiAgICAgKiBEZXBsb3kgZmFjdG9yeQogICAgICoKICAgICAqIEBwYXJhbSBfdGFyZ2V0Q3Jvd2RzYWxlIFRhcmdldCBjcm93ZHNhbGUgdG8gaW52ZXN0IGluCiAgICAgKiBAcGFyYW0gX3RhcmdldFRva2VuIFRva2VuIHRoYXQgaXMgYm91Z2h0CiAgICAgKi8KICAgIGZ1bmN0aW9uIENyb3dkc2FsZVByb3h5RmFjdG9yeShhZGRyZXNzIF90YXJnZXRDcm93ZHNhbGUsIGFkZHJlc3MgX3RhcmdldFRva2VuKSBwdWJsaWMgewogICAgICAgIHRhcmdldENyb3dkc2FsZSA9IF90YXJnZXRDcm93ZHNhbGU7CiAgICAgICAgdGFyZ2V0VG9rZW4gPSBfdGFyZ2V0VG9rZW47CiAgICAgICAgcGVyc29uYWxDcm93ZHNhbGVQcm94eVRhcmdldCA9IG5ldyBQZXJzb25hbENyb3dkc2FsZVByb3h5KCk7CiAgICB9CgogICAgCiAgICAvKioKICAgICAqIERlcGxveSBhIGNvbnRyYWN0IHRoYXQgc2VydmVzIGFzIGEgcHJveHkgdG8gCiAgICAgKiB0aGUgdGFyZ2V0IGNyb3dkc2FsZQogICAgICoKICAgICAqIEByZXR1cm4gVGhlIGFkZHJlc3Mgb2YgdGhlIGRlcG9zaXQgYWRkcmVzcwogICAgICovCiAgICBmdW5jdGlvbiBjcmVhdGVQcm94eUFkZHJlc3MoKSBwdWJsaWMgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIGFkZHJlc3MgcHJveHkgPSBuZXcgQ3Jvd2RzYWxlUHJveHkobXNnLnNlbmRlciwgdGFyZ2V0Q3Jvd2RzYWxlKTsKICAgICAgICBQcm94eUNyZWF0ZWQocHJveHksIG1zZy5zZW5kZXIpOwogICAgICAgIHJldHVybiBwcm94eTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBEZXBsb3kgYSBjb250cmFjdCB0aGF0IHNlcnZlcyBhcyBhIHByb3h5IHRvIAogICAgICogdGhlIHRhcmdldCBjcm93ZHNhbGUKICAgICAqCiAgICAgKiBAcGFyYW0gX2JlbmVmaWNpYXJ5IFRoZSBvd25lciBvZiB0aGUgcHJveHkKICAgICAqIEByZXR1cm4gVGhlIGFkZHJlc3Mgb2YgdGhlIGRlcG9zaXQgYWRkcmVzcwogICAgICovCiAgICBmdW5jdGlvbiBjcmVhdGVQcm94eUFkZHJlc3NGb3IoYWRkcmVzcyBfYmVuZWZpY2lhcnkpIHB1YmxpYyByZXR1cm5zIChhZGRyZXNzKSB7CiAgICAgICAgYWRkcmVzcyBwcm94eSA9IG5ldyBDcm93ZHNhbGVQcm94eShfYmVuZWZpY2lhcnksIHRhcmdldENyb3dkc2FsZSk7CiAgICAgICAgUHJveHlDcmVhdGVkKHByb3h5LCBfYmVuZWZpY2lhcnkpOwogICAgICAgIHJldHVybiBwcm94eTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBEZXBsb3kgYSBjb250cmFjdCB0aGF0IHNlcnZlcyBhcyBhIHByb3h5IHRvIAogICAgICogdGhlIHRhcmdldCBjcm93ZHNhbGUKICAgICAqCiAgICAgKiBDb250cmlidXRpb25zIHRocm91Z2ggdGhpcyBhZGRyZXNzIHdpbGwgYmUgbWFkZSAKICAgICAqIGZvciB0aGUgcGVyc29uIHRoYXQga25vd3MgdGhlIHBhc3NwaHJhc2UKICAgICAqCiAgICAgKiBAcGFyYW0gX3Bhc3NwaHJhc2VIYXNoIEhhc2ggb2YgdGhlIHBhc3NwaHJhc2UgCiAgICAgKiBAcmV0dXJuIFRoZSBhZGRyZXNzIG9mIHRoZSBkZXBvc2l0IGFkZHJlc3MKICAgICAqLwogICAgZnVuY3Rpb24gY3JlYXRlUGVyc29uYWxEZXBvc2l0QWRkcmVzcyhieXRlczMyIF9wYXNzcGhyYXNlSGFzaCkgcHVibGljIHJldHVybnMgKGFkZHJlc3MpIHsKICAgICAgICBhZGRyZXNzIHByb3h5ID0gbmV3IFBlcnNvbmFsQ3Jvd2RzYWxlUHJveHlEaXNwYXRjaGVyKAogICAgICAgICAgICBwZXJzb25hbENyb3dkc2FsZVByb3h5VGFyZ2V0LCB0YXJnZXRDcm93ZHNhbGUsIHRhcmdldFRva2VuLCBfcGFzc3BocmFzZUhhc2gpOwogICAgICAgIFByb3h5Q3JlYXRlZChwcm94eSwgbXNnLnNlbmRlcik7CiAgICAgICAgcmV0dXJuIHByb3h5OwogICAgfQoKCiAgICAvKioKICAgICAqIERlcGxveSBhIGNvbnRyYWN0IHRoYXQgc2VydmVzIGFzIGEgcHJveHkgdG8gCiAgICAgKiB0aGUgdGFyZ2V0IGNyb3dkc2FsZQogICAgICoKICAgICAqIENvbnRyaWJ1dGlvbnMgdGhyb3VnaCB0aGlzIGFkZHJlc3Mgd2lsbCBiZSBtYWRlIAogICAgICogZm9yIGBfYmVuZWZpY2lhcnlgCiAgICAgKgogICAgICogQHBhcmFtIF9iZW5lZmljaWFyeSBUaGUgb3duZXIgb2YgdGhlIHByb3h5CiAgICAgKiBAcmV0dXJuIFRoZSBhZGRyZXNzIG9mIHRoZSBkZXBvc2l0IGFkZHJlc3MKICAgICAqLwogICAgZnVuY3Rpb24gY3JlYXRlUGVyc29uYWxEZXBvc2l0QWRkcmVzc0ZvcihhZGRyZXNzIF9iZW5lZmljaWFyeSkgcHVibGljIHJldHVybnMgKGFkZHJlc3MpIHsKICAgICAgICBQZXJzb25hbENyb3dkc2FsZVByb3h5IHByb3h5ID0gUGVyc29uYWxDcm93ZHNhbGVQcm94eShuZXcgUGVyc29uYWxDcm93ZHNhbGVQcm94eURpc3BhdGNoZXIoCiAgICAgICAgICAgIHBlcnNvbmFsQ3Jvd2RzYWxlUHJveHlUYXJnZXQsIHRhcmdldENyb3dkc2FsZSwgdGFyZ2V0VG9rZW4sIGtlY2NhazI1NihieXRlczMyKF9iZW5lZmljaWFyeSkpKSk7CiAgICAgICAgcHJveHkuc2V0QmVuZWZpY2lhcnkoX2JlbmVmaWNpYXJ5LCBieXRlczMyKF9iZW5lZmljaWFyeSkpOwogICAgICAgIFByb3h5Q3JlYXRlZChwcm94eSwgX2JlbmVmaWNpYXJ5KTsKICAgICAgICByZXR1cm4gcHJveHk7CiAgICB9Cn0='.
	

]
