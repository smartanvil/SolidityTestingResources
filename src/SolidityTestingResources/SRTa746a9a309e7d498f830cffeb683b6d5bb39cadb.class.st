Class {
	#name : #SRTa746a9a309e7d498f830cffeb683b6d5bb39cadb,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTa746a9a309e7d498f830cffeb683b6d5bb39cadb >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKY29udHJhY3QgVG9rZW4gewogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgICAgICBhc3NlcnQoYyA+PSBhKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KfQoKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgICAvKioKICAgICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAgICogYWNjb3VudC4KICAgICAqLwogICAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgoKICAgIC8qKgogICAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAgICovCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKCiAgICAvKioKICAgICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KCn0KCgovKioKICogQHRpdGxlIFBhdXNhYmxlCiAqIEBkZXYgQmFzZSBjb250cmFjdCB3aGljaCBhbGxvd3MgY2hpbGRyZW4gdG8gaW1wbGVtZW50IGFuIGVtZXJnZW5jeSBzdG9wIG1lY2hhbmlzbS4KICovCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgewogICAgZXZlbnQgUGF1c2UoKTsKCiAgICBldmVudCBVbnBhdXNlKCk7CgogICAgYm9vbCBwdWJsaWMgcGF1c2VkID0gZmFsc2U7CgoKICAgIC8qKgogICAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgcGF1c2VkCiAgICAgKi8KICAgIG1vZGlmaWVyIHdoZW5Ob3RQYXVzZWQoKSB7CiAgICAgICAgcmVxdWlyZSghcGF1c2VkKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgTk9UIHBhdXNlZAogICAgICovCiAgICBtb2RpZmllciB3aGVuUGF1c2VkKCkgewogICAgICAgIHJlcXVpcmUocGF1c2VkKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHBhdXNlLCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlCiAgICAgKi8KICAgIGZ1bmN0aW9uIHBhdXNlKCkgb25seU93bmVyIHdoZW5Ob3RQYXVzZWQgewogICAgICAgIHBhdXNlZCA9IHRydWU7CiAgICAgICAgUGF1c2UoKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byB1bnBhdXNlLCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZQogICAgICovCiAgICBmdW5jdGlvbiB1bnBhdXNlKCkgb25seU93bmVyIHdoZW5QYXVzZWQgewogICAgICAgIHBhdXNlZCA9IGZhbHNlOwogICAgICAgIFVucGF1c2UoKTsKICAgIH0KfQoKCmNvbnRyYWN0IENhc2hQb2tlclByb0lDTyBpcyBPd25hYmxlLCBQYXVzYWJsZSB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgICAvKiBUaGUgcGFydHkgd2hvIGhvbGRzIHRoZSBmdWxsIHRva2VuIHBvb2wgYW5kIGhhcyBhcHByb3ZlKCknZWQgdG9rZW5zIGZvciB0aGlzIGNyb3dkc2FsZSAqLwogICAgYWRkcmVzcyBwdWJsaWMgdG9rZW5XYWxsZXQgPSAweDc3NGQ5MWFjMzVmNGUyZjk0ZjBlODIxYTAzYzZlYWZmOGFkNGMxMzg7CgogICAgdWludCBwdWJsaWMgdG9rZW5zU29sZDsKCiAgICB1aW50IHB1YmxpYyB3ZWlSYWlzZWQ7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgaG9sZFRva2VuczsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBwdXJjaGFzZVRva2VuczsKCiAgICBhZGRyZXNzW10gcHVibGljIGhvbGRUb2tlbkludmVzdG9yczsKCiAgICBUb2tlbiBwdWJsaWMgdG9rZW4gPSBUb2tlbigweEE4RjkzRkFlZTQ0MDY0NEY4OTA1OWEyYzg4YmRDOUJGM0JlNWUyZWEpOwoKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IG1pbkludmVzdCA9IDAuMDEgZXRoZXI7CgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgdG9rZW5zTGltaXQgPSA2MDAwMDAwMCBldGhlcjsKCiAgICAvLyBzdGFydCBhbmQgZW5kIHRpbWVzdGFtcHMgd2hlcmUgaW52ZXN0bWVudHMgYXJlIGFsbG93ZWQKICAgIHVpbnQyNTYgcHVibGljIHN0YXJ0VGltZSA9IDE1MDkwNDA4MDA7IC8vIDI2IE9jdG9iZXIgMjAxNyAxODowMCBVVEMKCiAgICB1aW50MjU2IHB1YmxpYyBlbmRUaW1lID0gMTUxMTcxOTIwMDsgLy8gMjYgTm92ZW1iZXIgMjAxNyAxODowMCBVVEMKCiAgICB1aW50IHB1YmxpYyBwcmljZSA9IDAuMDAxOCBldGhlcjsKCiAgICBib29sIHB1YmxpYyBpc0hvbGRUb2tlbnMgPSB0cnVlOwoKICAgIHVpbnQgcHVibGljIGludmVzdG9yQ291bnQ7CgogICAgbWFwcGluZyAoYnl0ZXMzMiA9PiBQcm9tbykgcHVibGljIHByb21vTWFwOwoKICAgIHN0cnVjdCBQcm9tbyB7CiAgICBib29sIGVuYWJsZTsKICAgIHVpbnQgaW52ZXN0b3JQZXJjZW50VG9rZW47CiAgICBhZGRyZXNzIGRlYWxlcjsKICAgIHVpbnQgZGVhbGVyUGVyY2VudFRva2VuOwogICAgdWludCBkZWFsZXJQZXJjZW50RVRIOwogICAgdWludCBidXlDb3VudDsKICAgIHVpbnQgaW52ZXN0b3JUb2tlbkFtb3VudDsKICAgIHVpbnQgZGVhbGVyVG9rZW5BbW91bnQ7CiAgICB1aW50IGludmVzdG9yRXRoQW1vdW50OwogICAgdWludCBkZWFsZXJFdGhBbW91bnQ7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGFkZFByb21vKGJ5dGVzMzIgcHJvbW9QdWJsaWNLZXksIHVpbnQgdXNlclBlcmNlbnRUb2tlbiwgYWRkcmVzcyBkZWFsZXIsIHVpbnQgZGVhbGVyUGVyY2VudFRva2VuLCB1aW50IGRlYWxlclBlcmNlbnRFVEgpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHByb21vTWFwW3Byb21vUHVibGljS2V5XSA9IFByb21vKHRydWUsIHVzZXJQZXJjZW50VG9rZW4sIGRlYWxlciwgZGVhbGVyUGVyY2VudFRva2VuLCBkZWFsZXJQZXJjZW50RVRILCAwLCAwLCAwLCAwLCAwKTsKICAgIH0KCiAgICBmdW5jdGlvbiByZW1vdmVQcm9tbyhieXRlczMyIHByb21vUHVibGljS2V5KSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBwcm9tb01hcFtwcm9tb1B1YmxpY0tleV0uZW5hYmxlID0gZmFsc2U7CiAgICB9CgoKICAgIC8qKgogICAgICogZXZlbnQgZm9yIHRva2VuIHB1cmNoYXNlIGxvZ2dpbmcKICAgICAqIEBwYXJhbSBwdXJjaGFzZXIgd2hvIHBhaWQgZm9yIHRoZSB0b2tlbnMKICAgICAqIEBwYXJhbSBiZW5lZmljaWFyeSB3aG8gZ290IHRoZSB0b2tlbnMKICAgICAqIEBwYXJhbSB2YWx1ZSB3ZWlzIHBhaWQgZm9yIHB1cmNoYXNlCiAgICAgKiBAcGFyYW0gYW1vdW50IGFtb3VudCBvZiB0b2tlbnMgcHVyY2hhc2VkCiAgICAgKi8KICAgIGV2ZW50IFRva2VuUHVyY2hhc2UoYWRkcmVzcyBpbmRleGVkIHB1cmNoYXNlciwgYWRkcmVzcyBpbmRleGVkIGJlbmVmaWNpYXJ5LCB1aW50MjU2IHZhbHVlLCB1aW50MjU2IGFtb3VudCk7CgogICAgLy8gZmFsbGJhY2sgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gYnV5IHRva2VucwogICAgZnVuY3Rpb24oKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgYnV5VG9rZW5zKG1zZy5zZW5kZXIpOwogICAgfQoKICAgIC8vIGxvdyBsZXZlbCB0b2tlbiBwdXJjaGFzZSBmdW5jdGlvbgogICAgZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgYmVuZWZpY2lhcnkpIHB1YmxpYyB3aGVuTm90UGF1c2VkIHBheWFibGUgewogICAgICAgIHJlcXVpcmUoc3RhcnRUaW1lIDw9IG5vdyAmJiBub3cgPD0gZW5kVGltZSk7CgogICAgICAgIHVpbnQgd2VpQW1vdW50ID0gbXNnLnZhbHVlOwoKICAgICAgICByZXF1aXJlKHdlaUFtb3VudCA+PSBtaW5JbnZlc3QpOwoKICAgICAgICB1aW50IHRva2VuQW1vdW50RW5hYmxlID0gdG9rZW5zTGltaXQuc3ViKHRva2Vuc1NvbGQpOwoKICAgICAgICByZXF1aXJlKHRva2VuQW1vdW50RW5hYmxlID4gMCk7CgogICAgICAgIHVpbnQgdG9rZW5BbW91bnQgPSB3ZWlBbW91bnQgLyBwcmljZSAqIDEgZXRoZXI7CgogICAgICAgIGlmICh0b2tlbkFtb3VudCA+IHRva2VuQW1vdW50RW5hYmxlKSB7CiAgICAgICAgICAgIHRva2VuQW1vdW50ID0gdG9rZW5BbW91bnRFbmFibGU7CiAgICAgICAgICAgIHdlaUFtb3VudCA9IHRva2VuQW1vdW50ICogcHJpY2UgLyAxIGV0aGVyOwogICAgICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKG1zZy52YWx1ZS5zdWIod2VpQW1vdW50KSk7CgoKICAgICAgICAgICAgaWYgKG1zZy5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIFByb21vIHN0b3JhZ2UgcHJvbW8gPSBwcm9tb01hcFtzaGEzKG1zZy5kYXRhKV07CiAgICAgICAgICAgICAgICBpZiAocHJvbW8uZW5hYmxlICYmIHByb21vLmRlYWxlclBlcmNlbnRFVEggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgdWludCBkZWFsZXJFdGhBbW91bnQgPSB3ZWlBbW91bnQgKiBwcm9tby5kZWFsZXJQZXJjZW50RVRIIC8gMTAwMDA7CiAgICAgICAgICAgICAgICAgICAgcHJvbW8uZGVhbGVyLnRyYW5zZmVyKGRlYWxlckV0aEFtb3VudCk7CiAgICAgICAgICAgICAgICAgICAgd2VpQW1vdW50ID0gd2VpQW1vdW50LnN1YihkZWFsZXJFdGhBbW91bnQpOwoKICAgICAgICAgICAgICAgICAgICBwcm9tby5kZWFsZXJFdGhBbW91bnQgKz0gZGVhbGVyRXRoQW1vdW50OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB1aW50IGNvdW50Qm9udXNBbW91bnQgPSB0b2tlbkFtb3VudCAqIGdldENvdW50Qm9udXMod2VpQW1vdW50KSAvIDEwMDA7CiAgICAgICAgICAgIHVpbnQgdGltZUJvbnVzQW1vdW50ID0gdG9rZW5BbW91bnQgKiBnZXRUaW1lQm9udXMobm93KSAvIDEwMDA7CgogICAgICAgICAgICBpZiAobXNnLmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgYnl0ZXMzMiBwcm9tb1B1YmxpY0tleSA9IHNoYTMobXNnLmRhdGEpOwogICAgICAgICAgICAgICAgcHJvbW8gPSBwcm9tb01hcFtwcm9tb1B1YmxpY0tleV07CiAgICAgICAgICAgICAgICBpZiAocHJvbW8uZW5hYmxlKSB7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgcHJvbW8uYnV5Q291bnQrKzsKICAgICAgICAgICAgICAgICAgICBwcm9tby5pbnZlc3RvclRva2VuQW1vdW50ICs9IHRva2VuQW1vdW50OwogICAgICAgICAgICAgICAgICAgIHByb21vLmludmVzdG9yRXRoQW1vdW50ICs9IHdlaUFtb3VudDsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiAocHJvbW8uZGVhbGVyUGVyY2VudFRva2VuID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB1aW50IGRlYWxlclRva2VuQW1vdW50ID0gdG9rZW5BbW91bnQgKiBwcm9tby5kZWFsZXJQZXJjZW50VG9rZW4gLyAxMDAwMDsKICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRva2Vucyhwcm9tby5kZWFsZXIsIGRlYWxlclRva2VuQW1vdW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvbW8uZGVhbGVyVG9rZW5BbW91bnQgKz0gZGVhbGVyVG9rZW5BbW91bnQ7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAocHJvbW8uZGVhbGVyUGVyY2VudEVUSCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVhbGVyRXRoQW1vdW50ID0gd2VpQW1vdW50ICogcHJvbW8uZGVhbGVyUGVyY2VudEVUSCAvIDEwMDAwOwogICAgICAgICAgICAgICAgICAgICAgICBwcm9tby5kZWFsZXIudHJhbnNmZXIoZGVhbGVyRXRoQW1vdW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgd2VpQW1vdW50ID0gd2VpQW1vdW50LnN1YihkZWFsZXJFdGhBbW91bnQpOwogICAgICAgICAgICAgICAgICAgICAgICBwcm9tby5kZWFsZXJFdGhBbW91bnQgKz0gZGVhbGVyRXRoQW1vdW50OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmIChwcm9tby5pbnZlc3RvclBlcmNlbnRUb2tlbiA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdWludCBwcm9tb0JvbnVzQW1vdW50ID0gdG9rZW5BbW91bnQgKiBwcm9tby5pbnZlc3RvclBlcmNlbnRUb2tlbiAvIDEwMDAwOwogICAgICAgICAgICAgICAgICAgICAgICB0b2tlbkFtb3VudCArPSBwcm9tb0JvbnVzQW1vdW50OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRva2VuQW1vdW50ICs9IGNvdW50Qm9udXNBbW91bnQgKyB0aW1lQm9udXNBbW91bnQ7CgogICAgICAgICAgICBpZiAodG9rZW5BbW91bnQgPiB0b2tlbkFtb3VudEVuYWJsZSkgewogICAgICAgICAgICAgICAgdG9rZW5BbW91bnQgPSB0b2tlbkFtb3VudEVuYWJsZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCgogICAgICAgIGlmIChwdXJjaGFzZVRva2Vuc1tiZW5lZmljaWFyeV0gPT0gMCkgaW52ZXN0b3JDb3VudCsrOwoKICAgICAgICBwdXJjaGFzZVRva2Vuc1tiZW5lZmljaWFyeV0gPSBwdXJjaGFzZVRva2Vuc1tiZW5lZmljaWFyeV0uYWRkKHRva2VuQW1vdW50KTsKCiAgICAgICAgc2VuZFRva2VucyhiZW5lZmljaWFyeSwgdG9rZW5BbW91bnQpOwoKICAgICAgICB3ZWlSYWlzZWQgPSB3ZWlSYWlzZWQuYWRkKHdlaUFtb3VudCk7CgogICAgICAgIFRva2VuUHVyY2hhc2UobXNnLnNlbmRlciwgYmVuZWZpY2lhcnksIHdlaUFtb3VudCwgdG9rZW5BbW91bnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNlbmRUb2tlbnMoYWRkcmVzcyB0bywgdWludCB0b2tlbkFtb3VudCkgcHJpdmF0ZSB7CiAgICAgICAgaWYgKGlzSG9sZFRva2VucykgewogICAgICAgICAgICBpZiAoaG9sZFRva2Vuc1t0b10gPT0gMCkgaG9sZFRva2VuSW52ZXN0b3JzLnB1c2godG8pOwogICAgICAgICAgICBob2xkVG9rZW5zW3RvXSA9IGhvbGRUb2tlbnNbdG9dLmFkZCh0b2tlbkFtb3VudCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXF1aXJlKHRva2VuLnRyYW5zZmVyRnJvbSh0b2tlbldhbGxldCwgdG8sIHRva2VuQW1vdW50KSk7CiAgICAgICAgfQoKICAgICAgICB0b2tlbnNTb2xkID0gdG9rZW5zU29sZC5hZGQodG9rZW5BbW91bnQpOwogICAgfQoKICAgIHVpbnRbXSBldGhlckZvckNvdW50Qm9udXMgPSBbMiBldGhlciwgMyBldGhlciwgNSBldGhlciwgNyBldGhlciwgOSBldGhlciwgMTIgZXRoZXIsIDE1IGV0aGVyLCAyMCBldGhlciwgMjUgZXRoZXIsIDMwIGV0aGVyLCAzNSBldGhlciwgNDAgZXRoZXIsIDQ1IGV0aGVyLCA1MCBldGhlciwgNjAgZXRoZXIsIDcwIGV0aGVyLCA4MCBldGhlciwgOTAgZXRoZXIsIDEwMCBldGhlciwgMTIwIGV0aGVyLCAxNTAgZXRoZXIsIDIwMCBldGhlciwgMjUwIGV0aGVyLCAzMDAgZXRoZXIsIDM1MCBldGhlciwgNDAwIGV0aGVyLCA0NTAgZXRoZXIsIDUwMCBldGhlcl07CgogICAgdWludFtdIGFtb3VudEZvckNvdW50Qm9udXMgPSBbMCwgNSwgMTAsIDE1LCAyMCwgMjUsIDMwLCAzNSwgNDAsIDQ1LCA1MCwgNTUsIDYwLCA2NSwgNzAsIDc1LCA4MCwgOTAsIDEwMCwgMTA1LCAxMTAsIDExNSwgMTIwLCAxMjUsIDEzMCwgMTM1LCAxNDAsIDE0NSwgMTUwXTsKCgogICAgZnVuY3Rpb24gZ2V0Q291bnRCb251cyh1aW50IHdlaUFtb3VudCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBldGhlckZvckNvdW50Qm9udXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKHdlaUFtb3VudCA8IGV0aGVyRm9yQ291bnRCb251c1tpXSkgcmV0dXJuIGFtb3VudEZvckNvdW50Qm9udXNbaV07CiAgICAgICAgfQogICAgICAgIHJldHVybiBhbW91bnRGb3JDb3VudEJvbnVzW2Ftb3VudEZvckNvdW50Qm9udXMubGVuZ3RoIC0gMV07CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0VGltZUJvbnVzKHVpbnQgdGltZSkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICBpZiAodGltZSA8IHN0YXJ0VGltZSArIDEgd2Vla3MpIHJldHVybiAzMDsKICAgICAgICBpZiAodGltZSA8IHN0YXJ0VGltZSArIDIgd2Vla3MpIHJldHVybiAyMDsKICAgICAgICBpZiAodGltZSA8IHN0YXJ0VGltZSArIDMgd2Vla3MpIHJldHVybiAxMDsKICAgICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBmdW5jdGlvbiB3aXRoZHJhd2FsKGFkZHJlc3MgdG8pIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHRvLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICB9CgogICAgZnVuY3Rpb24gaG9sZFRva2VuSW52ZXN0b3JzQ291bnQoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50KXsKICAgICAgICByZXR1cm4gaG9sZFRva2VuSW52ZXN0b3JzLmxlbmd0aDsKICAgIH0KCiAgICB1aW50IHB1YmxpYyBzZW5kSW52ZXN0b3JJbmRleCA9IDA7CgogICAgZnVuY3Rpb24gZmluYWxTZW5kVG9rZW5zKCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgaXNIb2xkVG9rZW5zID0gZmFsc2U7CiAgICAgICAgCiAgICAgICAgZm9yICh1aW50IGkgPSBzZW5kSW52ZXN0b3JJbmRleDsgaSA8IGhvbGRUb2tlbkludmVzdG9ycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBhZGRyZXNzIGludmVzdG9yID0gaG9sZFRva2VuSW52ZXN0b3JzW2ldOwogICAgICAgICAgICB1aW50IHRva2VuQW1vdW50ID0gaG9sZFRva2Vuc1tpbnZlc3Rvcl07CgogICAgICAgICAgICBpZiAodG9rZW5BbW91bnQgPiAwKSB7CiAgICAgICAgICAgICAgICBob2xkVG9rZW5zW2ludmVzdG9yXSA9IDA7CiAgICAgICAgICAgICAgICByZXF1aXJlKHRva2VuLnRyYW5zZmVyRnJvbSh0b2tlbldhbGxldCwgaW52ZXN0b3IsIHRva2VuQW1vdW50KSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChtc2cuZ2FzIDwgMTAwMDAwKSB7CiAgICAgICAgICAgICAgICBzZW5kSW52ZXN0b3JJbmRleCA9IGk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHNlbmRJbnZlc3RvckluZGV4ID0gaG9sZFRva2VuSW52ZXN0b3JzLmxlbmd0aDsKICAgIH0KCn0='.
	

]
