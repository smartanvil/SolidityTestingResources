Class {
	#name : #SRT69A5b8f0A12269f3AF7EB57278d78414a1A9EEb4,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT69A5b8f0A12269f3AF7EB57278d78414a1A9EEb4 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgoKLy8gKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBCZXRzdHJlYWsgVG9rZW4gc2FsZSBjb250cmFjdAovLyBSZXZpc2lvbiAxLjEKLy8gUmVmdW5kcyBpbnRlZ3JhdGVkLCBmdWxsIHRlc3Qgc3VpdGUgcGFzc2VkCi8vICoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gRVJDIFRva2VuIFN0YW5kYXJkICMyMCBJbnRlcmZhY2UKLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gSUNPIGNvbmZpZ3VyYXRpb246Ci8vIFByZXNhbGUgQm9udXMgICAgICArMzAlID0gMSwzMDAgQlNUICAgPSAxIEVUSCAgICAgICBbYmxvY2tzOiBzdGFydCAgIC0+IHMrMjUyMDBdCi8vIEZpcnN0IFdlZWsgQm9udXMgICArMjAlID0gMSwyMDAgQlNUICA9IDEgRVRIICAgICAgIFtibG9ja3M6IHMrMzYwMSAgLT4gcys1MDQwMF0KLy8gU2Vjb25kIFdlZWsgQm9udXMgICsxMCUgPSAxLDEwMCBCU1QgID0gMSBFVEggICAgICAgW2Jsb2NrczogcysyNTIwMSAtPiBzKzc1NjAwXQovLyBUaGlyZCBXZWVrIEJvbnVzICAgKzUlID0gMSwwNTAgQlNUICAgPSAxIEVUSCAgICAgICBbYmxvY2tzOiBzKzUwNDAxIC0+IHMrMTAwODAwXQovLyBGaW5hbCBXZWVrICAgICAgICAgKzAlID0gMSwwMDAgQlNUICAgPSAxIEVUSCAgICAgICBbYmxvY2tzOiBzKzc1NjAxIC0+IGVuZF0KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY29udHJhY3Qgb3duZWQgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgCgkKICAgIGZ1bmN0aW9uIG93bmVkKCkgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICAKICAgIH0KICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQp9Cgpjb250cmFjdCBzYWZlTWF0aCB7CiAgZnVuY3Rpb24gc2FmZU11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBzYWZlQXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc2FmZURpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgc2FmZUFzc2VydChiID4gMCk7CiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIHNhZmVBc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc2FmZVN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgc2FmZUFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gc2FmZUFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBzYWZlQXNzZXJ0KGM+PWEgJiYgYz49Yik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHNhZmVBc3NlcnQoYm9vbCBhc3NlcnRpb24pIGludGVybmFsIHsKICAgIGlmICghYXNzZXJ0aW9uKSByZXZlcnQoKTsKICB9Cn0KCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgb3duZWQsIHNhZmVNYXRoIHsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9Cgpjb250cmFjdCBCZXRzdHJlYWtJQ08gaXMgb3duZWQsIHNhZmVNYXRoIHsKICAgIAogIC8vIG93bmVyL2FkbWluICYgdG9rZW4gcmV3YXJkCiAgYWRkcmVzcyAgICAgICAgcHVibGljIGFkbWluID0gb3duZXI7ICAgICAgLy8gYWRtaW4gYWRkcmVzcwogIFN0YW5kYXJkVG9rZW4gIHB1YmxpYyB0b2tlblJld2FyZDsgICAgICAgIC8vIGFkZHJlc3Mgb2YgdGhlIHRva2VuIHVzZWQgYXMgcmV3YXJkCiAgCgogIC8vIGRlcGxveW1lbnQgdmFyaWFibGVzIGZvciBzdGF0aWMgc3VwcGx5IHNhbGUKICB1aW50MjU2IHB1YmxpYyBpbml0aWFsU3VwcGx5OwoKICB1aW50MjU2IHB1YmxpYyB0b2tlbnNSZW1haW5pbmc7CgogIC8vIG11bHRpLXNpZyBhZGRyZXNzZXMgYW5kIHByaWNlIHZhcmlhYmxlCiAgYWRkcmVzcyBwdWJsaWMgYmVuZWZpY2lhcnlXYWxsZXQ7CiAgLy8gYmVuZWZpY2lhcnlNdWx0aVNpZyAoZm91bmRlciBncm91cCkgb3Igd2FsbGV0IGFjY291bnQsIGxpdmUgaXMgMHgzNjFlMTRjQzViM0NmQmE1RDE5N0Q4YTlGMDJjYWY3MUIzZGNhNkZkCiAgCiAgCiAgdWludDI1NiBwdWJsaWMgdG9rZW5zUGVyRXRoUHJpY2U7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0IGluaXRpYWwgdmFsdWUgZmxvYXRpbmcgcHJpY2VWYXIgMSwzMDAgdG9rZW5zIHBlciBFdGgKCiAgLy8gdWludDI1NiB2YWx1ZXMgZm9yIG1pbixtYXgsY2Fwcyx0cmFja2luZwogIHVpbnQyNTYgcHVibGljIGFtb3VudFJhaXNlZEluV2VpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vCiAgdWludDI1NiBwdWJsaWMgZnVuZGluZ01pbkNhcEluV2VpOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8KCiAgLy8gbG9vcCBjb250cm9sLCBJQ08gc3RhcnR1cCBhbmQgbGltaXRlcnMKICBzdHJpbmcgIHB1YmxpYyBDdXJyZW50U3RhdHVzICAgICAgICAgICAgICAgICAgID0gIiI7ICAgICAgICAvLyBjdXJyZW50IGNyb3dkc2FsZSBzdGF0dXMKICB1aW50MjU2IHB1YmxpYyBmdW5kaW5nU3RhcnRCbG9jazsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjcm93ZHNhbGUgc3RhcnQgYmxvY2sjCiAgdWludDI1NiBwdWJsaWMgZnVuZGluZ0VuZEJsb2NrOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3Jvd2RzYWxlIGVuZCBibG9jayMKICBib29sICAgIHB1YmxpYyBpc0Nyb3dkU2FsZUNsb3NlZCAgICAgICAgICAgICAgID0gZmFsc2U7ICAgICAvLyBjcm93ZHNhbGUgY29tcGxldGlvbiBib29sZWFuCiAgYm9vbCAgICBwdWJsaWMgYXJlRnVuZHNSZWxlYXNlZFRvQmVuZWZpY2lhcnkgICA9IGZhbHNlOyAgICAgLy8gYm9vbGVhbiBmb3IgZm91bmRlcnMgdG8gcmVjZWl2ZSBFdGggb3Igbm90CiAgYm9vbCAgICBwdWJsaWMgaXNDcm93ZFNhbGVTZXR1cCAgICAgICAgICAgICAgICA9IGZhbHNlOyAgICAgLy8gYm9vbGVhbiBmb3IgY3Jvd2RzYWxlIHNldHVwCgogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwogIGV2ZW50IEJ1eShhZGRyZXNzIGluZGV4ZWQgX3NlbmRlciwgdWludDI1NiBfZXRoLCB1aW50MjU2IF9CU1QpOwogIGV2ZW50IFJlZnVuZChhZGRyZXNzIGluZGV4ZWQgX3JlZnVuZGVyLCB1aW50MjU2IF92YWx1ZSk7CiAgZXZlbnQgQnVybihhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSk7CiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzQXJyYXk7CiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGZ1bmRWYWx1ZTsKCiAgLy8gZGVmYXVsdCBmdW5jdGlvbiwgbWFwIGFkbWluCiAgZnVuY3Rpb24gQmV0c3RyZWFrSUNPKCkgb25seU93bmVyIHsKICAgIGFkbWluID0gbXNnLnNlbmRlcjsKICAgIEN1cnJlbnRTdGF0dXMgPSAiQ3Jvd2RzYWxlIGRlcGxveWVkIHRvIGNoYWluIjsKICB9CgogIC8vIHRvdGFsIG51bWJlciBvZiB0b2tlbnMgaW5pdGlhbGx5CiAgZnVuY3Rpb24gaW5pdGlhbEJTVFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG9rZW5Ub3RhbFN1cHBseSkgewogICAgICB0b2tlblRvdGFsU3VwcGx5ID0gc2FmZURpdihpbml0aWFsU3VwcGx5LDEwMCk7IAogIH0KCiAgLy8gcmVtYWluaW5nIG51bWJlciBvZiB0b2tlbnMKICBmdW5jdGlvbiByZW1haW5pbmdTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHRva2Vuc0xlZnQpIHsKICAgICAgdG9rZW5zTGVmdCA9IHRva2Vuc1JlbWFpbmluZzsKICB9CgogIC8vIHNldHVwIHRoZSBDcm93ZFNhbGUgcGFyYW1ldGVycwogIGZ1bmN0aW9uIFNldHVwQ3Jvd2RzYWxlKHVpbnQyNTYgX2Z1bmRpbmdTdGFydEJsb2NrLCB1aW50MjU2IF9mdW5kaW5nRW5kQmxvY2spIG9ubHlPd25lciByZXR1cm5zIChieXRlczMyIHJlc3BvbnNlKSB7CiAgICAgIAogICAgICBpZiAoKG1zZy5zZW5kZXIgPT0gYWRtaW4pCiAgICAgICYmICghKGlzQ3Jvd2RTYWxlU2V0dXApKSAgCiAgICAgICYmICghKGJlbmVmaWNpYXJ5V2FsbGV0ID4gMCkpKXsKICAgICAgCiAgICAgICAgICAvLyBpbml0IGFkZHJlc3NlcwogICAgICAgICAgdG9rZW5SZXdhcmQgICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gU3RhbmRhcmRUb2tlbigweEE3RjQwQ0NENjgzM2E2NWRENTE0MDg4RjRkNDE5QWZkOUYwQjBCNTIpOyAgCiAgICAgICAgICAKICAgICAgICAgIAogICAgICAgICAgCiAgICAgICAgICBiZW5lZmljaWFyeVdhbGxldCAgICAgICAgICAgICAgICAgICAgICAgPSAweDM2MWUxNGNDNWIzQ2ZCYTVEMTk3RDhhOUYwMmNhZjcxQjNkY2E2RmQ7CiAgICAgICAgICAKICAgICAgICAgCiAgICAgICAgICB0b2tlbnNQZXJFdGhQcmljZSAgICAgICAgICAgICAgICAgICAgICAgPSAxMzAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAvLyBzZXQgZGF5MSBpbml0aWFsIHZhbHVlIGZsb2F0aW5nIHByaWNlVmFyIDEsMzAwIHRva2VucyBwZXIgRXRoCgogICAgICAgICAgLy8gZnVuZGluZyB0YXJnZXRzCiAgICAgICAgICBmdW5kaW5nTWluQ2FwSW5XZWkgICAgICAgICAgICAgICAgICAgICAgPSAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAvLzMwMDAwMDAwMDAwMDAwMDAwMDAwMCA9ICAxMDAwIEV0aCAobWluIGNhcCkgLSBjcm93ZHNhbGUgaXMgY29uc2lkZXJlZCBzdWNjZXNzIGFmdGVyIHRoaXMgdmFsdWUgIAogICAgICAgICAgLy90ZXN0bmV0IDUwMDAwMDAwMDAwMDAwMDAwMDAgPSA1RXRoCgoKICAgICAgICAgIC8vIHVwZGF0ZSB2YWx1ZXMKICAgICAgICAgIGFtb3VudFJhaXNlZEluV2VpICAgICAgICAgICAgICAgICAgICAgICA9IDA7CiAgICAgICAgICBpbml0aWFsU3VwcGx5ICAgICAgICAgICAgICAgICAgICAgICAgICAgPSAyMDAwMDAwMDAwMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgLy8gICAyMDAsMDAwLDAwMCArIDIgZGVjaW1hbHMgPSAyMDAsMDAwLDAwMCwwMCAKICAgICAgICAgIC8vdGVzdG5ldCAxMTAwMDAwID0gMTEsMDAwCiAgICAgICAgICAKICAgICAgICAgIHRva2Vuc1JlbWFpbmluZyAgICAgICAgICAgICAgICAgICAgICAgICA9IHNhZmVEaXYoaW5pdGlhbFN1cHBseSwxMDApOwoKICAgICAgICAgIGZ1bmRpbmdTdGFydEJsb2NrICAgICAgICAgICAgICAgICAgICAgICA9IF9mdW5kaW5nU3RhcnRCbG9jazsKICAgICAgICAgIGZ1bmRpbmdFbmRCbG9jayAgICAgICAgICAgICAgICAgICAgICAgICA9IF9mdW5kaW5nRW5kQmxvY2s7CgogICAgICAgICAgLy8gY29uZmlndXJlIGNyb3dkc2FsZQogICAgICAgICAgaXNDcm93ZFNhbGVTZXR1cCAgICAgICAgICAgICAgICAgICAgICAgID0gdHJ1ZTsKICAgICAgICAgIGlzQ3Jvd2RTYWxlQ2xvc2VkICAgICAgICAgICAgICAgICAgICAgICA9IGZhbHNlOwogICAgICAgICAgQ3VycmVudFN0YXR1cyAgICAgICAgICAgICAgICAgICAgICAgICAgID0gIkNyb3dkc2FsZSBpcyBzZXR1cCI7CgogICAgICAgICAgLy9nYXMgcmVkdWN0aW9uIGV4cGVyaW1lbnQKICAgICAgICAgIHNldFByaWNlKCk7CiAgICAgICAgICByZXR1cm4gIkNyb3dkc2FsZSBpcyBzZXR1cCI7CiAgICAgICAgICAKICAgICAgfSBlbHNlIGlmIChtc2cuc2VuZGVyICE9IGFkbWluKSB7CiAgICAgICAgICByZXR1cm4gIm5vdCBhdXRob3JpemVkIjsKICAgICAgICAgIAogICAgICB9IGVsc2UgIHsKICAgICAgICAgIHJldHVybiAiY2FtcGFpZ24gY2Fubm90IGJlIGNoYW5nZWQiOwogICAgICB9CiAgICB9CgogICAgCiAgICAKICAgIGZ1bmN0aW9uIFNldHVwUHJlU2FsZShib29sIF9pc0Nyb3dkU2FsZVNldHVwKSBvbmx5T3duZXIgcmV0dXJucyAoYnl0ZXMzMiByZXNwb25zZSkgewogICAgICAKICAgICAgaWYgKChtc2cuc2VuZGVyID09IGFkbWluKSkKICAgICAgewogICAgICBpc0Nyb3dkU2FsZVNldHVwID0gX2lzQ3Jvd2RTYWxlU2V0dXA7CiAgICAgICAgICAKICAgICAgcmV0dXJuICJFeGVjdXRlZC4iOwogICAgICAgICAgCiAgICAgICAgfQogICAgfQogICAgCgoKICAgIGZ1bmN0aW9uIHNldFByaWNlKCkgewogICAgICAgIAogICAgICAgIC8vIElDTyBjb25maWd1cmF0aW9uOgogICAgICAgIC8vIFByZXNhbGUgQm9udXMgICAgICArMzAlID0gMSwzMDAgQlNUICAgPSAxIEVUSCAgICAgICBbYmxvY2tzOiBzdGFydCAgIC0+IHMrMjUyMDBdCiAgICAgICAgLy8gRmlyc3QgV2VlayBCb251cyAgICsyMCUgPSAxLDIwMCBCU1QgID0gMSBFVEggICAgICAgW2Jsb2NrczogcysyNTIwMSAgLT4gcys1MDQwMF0KICAgICAgICAvLyBTZWNvbmQgV2VlayBCb251cyAgKzEwJSA9IDEsMTAwIEJTVCAgPSAxIEVUSCAgICAgICBbYmxvY2tzOiBzKzUwNDAxIC0+IHMrNzU2MDBdCiAgICAgICAgLy8gVGhpcmQgV2VlayBCb251cyAgICs1JSA9IDEsMDUwIEJTVCAgID0gMSBFVEggICAgICAgW2Jsb2Nrczogcys3NTYwMSAtPiBzKzEwMDgwMF0KICAgICAgICAvLyBGaW5hbCBXZWVrICAgICAgICAgKzAlID0gMSwwMDAgQlNUICAgPSAxIEVUSCAgICAgICBbYmxvY2tzOiBzKzEwMDgwMSAtPiBlbmRdCiAgICAgICAgCiAgICAgIGlmIChibG9jay5udW1iZXIgPj0gZnVuZGluZ1N0YXJ0QmxvY2sgJiYgYmxvY2subnVtYmVyIDw9IGZ1bmRpbmdTdGFydEJsb2NrKzI1MjAwKSB7IAogICAgICAgICAgLy8gUHJlc2FsZSBCb251cyAgICAgICszMCUgPSAxLDMwMCBCU1QgICA9IDEgRVRIICAgICAgIFtibG9ja3M6IHN0YXJ0ICAgLT4gcysyNTIwMF0KICAgICAgICAgIAogICAgICAgIHRva2Vuc1BlckV0aFByaWNlPTEzMDA7CiAgICAgICAgCiAgICAgIH0gZWxzZSBpZiAoYmxvY2subnVtYmVyID49IGZ1bmRpbmdTdGFydEJsb2NrKzI1MjAxICYmIGJsb2NrLm51bWJlciA8PSBmdW5kaW5nU3RhcnRCbG9jays1MDQwMCkgeyAKICAgICAgICAgIC8vIEZpcnN0IFdlZWsgQm9udXMgICArMjAlID0gMSwyMDAgQlNUICA9IDEgRVRIICAgICAgIFtibG9ja3M6IHMrMjUyMDEgIC0+IHMrNTA0MDBdCiAgICAgICAgICAKICAgICAgICB0b2tlbnNQZXJFdGhQcmljZT0xMjAwOwogICAgICAgIAogICAgICB9IGVsc2UgaWYgKGJsb2NrLm51bWJlciA+PSBmdW5kaW5nU3RhcnRCbG9jays1MDQwMSAmJiBibG9jay5udW1iZXIgPD0gZnVuZGluZ1N0YXJ0QmxvY2srNzU2MDApIHsgCiAgICAgICAgICAvLyBTZWNvbmQgV2VlayBCb251cyAgKzEwJSA9IDEsMTAwIEJTVCAgPSAxIEVUSCAgICAgICBbYmxvY2tzOiBzKzUwNDAxIC0+IHMrNzU2MDBdCiAgICAgICAgICAKICAgICAgICB0b2tlbnNQZXJFdGhQcmljZT0xMTAwOwogICAgICAgIAogICAgICB9IGVsc2UgaWYgKGJsb2NrLm51bWJlciA+PSBmdW5kaW5nU3RhcnRCbG9jays3NTYwMSAmJiBibG9jay5udW1iZXIgPD0gZnVuZGluZ1N0YXJ0QmxvY2srMTAwODAwKSB7IAogICAgICAgICAgLy8gVGhpcmQgV2VlayBCb251cyAgICs1JSA9IDEsMDUwIEJTVCAgID0gMSBFVEggICAgICAgW2Jsb2Nrczogcys3NTYwMSAtPiBzKzEwMDgwMF0KICAgICAgICAgIAogICAgICAgIHRva2Vuc1BlckV0aFByaWNlPTEwNTA7CiAgICAgICAgCiAgICAgIH0gZWxzZSBpZiAoYmxvY2subnVtYmVyID49IGZ1bmRpbmdTdGFydEJsb2NrKzEwMDgwMSAmJiBibG9jay5udW1iZXIgPD0gZnVuZGluZ0VuZEJsb2NrKSB7IAogICAgICAgICAgLy8gRmluYWwgV2VlayAgICAgICAgICswJSA9IDEsMDAwIEJTVCAgID0gMSBFVEggICAgICAgW2Jsb2NrczogcysxMDA4MDEgLT4gZW5kXQogICAgICAgICAgCiAgICAgICAgdG9rZW5zUGVyRXRoUHJpY2U9MTAwMDsKICAgICAgfQogICAgfQoKICAgIC8vIGRlZmF1bHQgcGF5YWJsZSBmdW5jdGlvbiB3aGVuIHNlbmRpbmcgZXRoZXIgdG8gdGhpcyBjb250cmFjdAogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7CiAgICAgIHJlcXVpcmUobXNnLmRhdGEubGVuZ3RoID09IDApOwogICAgICBCdXlCU1R0b2tlbnMoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBCdXlCU1R0b2tlbnMoKSBwYXlhYmxlIHsKICAgICAgICAKICAgICAgLy8gMC4gY29uZGl0aW9ucyAobGVuZ3RoLCBjcm93ZHNhbGUgc2V0dXAsIHplcm8gY2hlY2ssIAogICAgICAvL2V4Y2VlZCBmdW5kaW5nIGNvbnRyaWIgY2hlY2ssIGNvbnRyYWN0IHZhbGlkIGNoZWNrLCB3aXRoaW4gZnVuZGluZyBibG9jayByYW5nZSBjaGVjaywgYmFsYW5jZSBvdmVyZmxvdyBjaGVjayBldGMpCiAgICAgIHJlcXVpcmUoIShtc2cudmFsdWUgPT0gMCkKICAgICAgJiYgKGlzQ3Jvd2RTYWxlU2V0dXApCiAgICAgICYmIChibG9jay5udW1iZXIgPj0gZnVuZGluZ1N0YXJ0QmxvY2spCiAgICAgICYmIChibG9jay5udW1iZXIgPD0gZnVuZGluZ0VuZEJsb2NrKQogICAgICAmJiAodG9rZW5zUmVtYWluaW5nID4gMCkpOwoKICAgICAgLy8gMS4gdmFycwogICAgICB1aW50MjU2IHJld2FyZFRyYW5zZmVyQW1vdW50ICAgID0gMDsKCiAgICAgIC8vIDIuIGVmZmVjdHMKICAgICAgc2V0UHJpY2UoKTsKICAgICAgYW1vdW50UmFpc2VkSW5XZWkgICAgICAgICAgICAgICA9IHNhZmVBZGQoYW1vdW50UmFpc2VkSW5XZWksbXNnLnZhbHVlKTsKICAgICAgcmV3YXJkVHJhbnNmZXJBbW91bnQgICAgICAgICAgICA9IHNhZmVEaXYoc2FmZU11bChtc2cudmFsdWUsdG9rZW5zUGVyRXRoUHJpY2UpLDEwMDAwMDAwMDAwMDAwMDAwKTsKCiAgICAgIC8vIDMuIGludGVyYWN0aW9uCiAgICAgIHRva2Vuc1JlbWFpbmluZyAgICAgICAgICAgICAgICAgPSBzYWZlU3ViKHRva2Vuc1JlbWFpbmluZywgc2FmZURpdihyZXdhcmRUcmFuc2ZlckFtb3VudCwxMDApKTsgIAogICAgICAvLyB3aWxsIGNhdXNlIHRocm93IGlmIGF0dGVtcHQgdG8gcHVyY2hhc2Ugb3ZlciB0aGUgdG9rZW4gbGltaXQgaW4gb25lIHR4IG9yIGF0IGFsbCBvbmNlIGxpbWl0IHJlYWNoZWQKICAgICAgdG9rZW5SZXdhcmQudHJhbnNmZXIobXNnLnNlbmRlciwgcmV3YXJkVHJhbnNmZXJBbW91bnQpOwoKICAgICAgLy8gNC4gZXZlbnRzCiAgICAgIGZ1bmRWYWx1ZVttc2cuc2VuZGVyXSAgICAgICAgICAgPSBzYWZlQWRkKGZ1bmRWYWx1ZVttc2cuc2VuZGVyXSwgbXNnLnZhbHVlKTsKICAgICAgVHJhbnNmZXIodGhpcywgbXNnLnNlbmRlciwgbXNnLnZhbHVlKTsKICAgICAgQnV5KG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgcmV3YXJkVHJhbnNmZXJBbW91bnQpOwogICAgfQogICAgCgogICAgZnVuY3Rpb24gYmVuZWZpY2lhcnlNdWx0aVNpZ1dpdGhkcmF3KHVpbnQyNTYgX2Ftb3VudCkgb25seU93bmVyIHsKICAgICAgcmVxdWlyZShhcmVGdW5kc1JlbGVhc2VkVG9CZW5lZmljaWFyeSAmJiAoYW1vdW50UmFpc2VkSW5XZWkgPj0gZnVuZGluZ01pbkNhcEluV2VpKSk7CiAgICAgIGJlbmVmaWNpYXJ5V2FsbGV0LnRyYW5zZmVyKF9hbW91bnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoZWNrR29hbFJlYWNoZWQoKSBvbmx5T3duZXIgcmV0dXJucyAoYnl0ZXMzMiByZXNwb25zZSkgewogICAgICAgIAogICAgICAgIC8vIHJldHVybiBjcm93ZGZ1bmQgc3RhdHVzIHRvIG93bmVyIGZvciBlYWNoIHJlc3VsdCBjYXNlLCB1cGRhdGUgcHVibGljIGNvbnN0YW50CiAgICAgICAgLy8gdXBkYXRlIHN0YXRlICYgc3RhdHVzIHZhcmlhYmxlcwogICAgICByZXF1aXJlIChpc0Nyb3dkU2FsZVNldHVwKTsKICAgICAgCiAgICAgIGlmICgoYW1vdW50UmFpc2VkSW5XZWkgPCBmdW5kaW5nTWluQ2FwSW5XZWkpICYmIChibG9jay5udW1iZXIgPD0gZnVuZGluZ0VuZEJsb2NrICYmIGJsb2NrLm51bWJlciA+PSBmdW5kaW5nU3RhcnRCbG9jaykpIHsgCiAgICAgICAgLy8gSUNPIGluIHByb2dyZXNzLCB1bmRlciBzb2Z0Y2FwCiAgICAgICAgYXJlRnVuZHNSZWxlYXNlZFRvQmVuZWZpY2lhcnkgPSBmYWxzZTsKICAgICAgICBpc0Nyb3dkU2FsZUNsb3NlZCA9IGZhbHNlOwogICAgICAgIEN1cnJlbnRTdGF0dXMgPSAiSW4gcHJvZ3Jlc3MgKEV0aCA8IFNvZnRjYXApIjsKICAgICAgICByZXR1cm4gIkluIHByb2dyZXNzIChFdGggPCBTb2Z0Y2FwKSI7CiAgICAgICAgCiAgICAgIH0gZWxzZSBpZiAoKGFtb3VudFJhaXNlZEluV2VpIDwgZnVuZGluZ01pbkNhcEluV2VpKSAmJiAoYmxvY2subnVtYmVyIDwgZnVuZGluZ1N0YXJ0QmxvY2spKSB7IC8vIElDTyBoYXMgbm90IHN0YXJ0ZWQKICAgICAgICBhcmVGdW5kc1JlbGVhc2VkVG9CZW5lZmljaWFyeSA9IGZhbHNlOwogICAgICAgIGlzQ3Jvd2RTYWxlQ2xvc2VkID0gZmFsc2U7CiAgICAgICAgQ3VycmVudFN0YXR1cyA9ICJQcmVzYWxlIGlzIHNldHVwIjsKICAgICAgICByZXR1cm4gIlByZXNhbGUgaXMgc2V0dXAiOwogICAgICAgIAogICAgICAgIAogICAgICB9IGVsc2UgaWYgKChhbW91bnRSYWlzZWRJbldlaSA8IGZ1bmRpbmdNaW5DYXBJbldlaSkgJiYgKGJsb2NrLm51bWJlciA+IGZ1bmRpbmdFbmRCbG9jaykpIHsgLy8gSUNPIGVuZGVkLCB1bmRlciBzb2Z0Y2FwCiAgICAgICAgYXJlRnVuZHNSZWxlYXNlZFRvQmVuZWZpY2lhcnkgPSBmYWxzZTsKICAgICAgICBpc0Nyb3dkU2FsZUNsb3NlZCA9IHRydWU7CiAgICAgICAgQ3VycmVudFN0YXR1cyA9ICJVbnN1Y2Nlc3NmdWwgKEV0aCA8IFNvZnRjYXApIjsKICAgICAgICByZXR1cm4gIlVuc3VjY2Vzc2Z1bCAoRXRoIDwgU29mdGNhcCkiOwogICAgICAgIAogICAgICB9IGVsc2UgaWYgKChhbW91bnRSYWlzZWRJbldlaSA+PSBmdW5kaW5nTWluQ2FwSW5XZWkpICYmICh0b2tlbnNSZW1haW5pbmcgPT0gMCkpIHsgLy8gSUNPIGVuZGVkLCBhbGwgdG9rZW5zIGdvbmUKICAgICAgICAgIGFyZUZ1bmRzUmVsZWFzZWRUb0JlbmVmaWNpYXJ5ID0gdHJ1ZTsKICAgICAgICAgIGlzQ3Jvd2RTYWxlQ2xvc2VkID0gdHJ1ZTsKICAgICAgICAgIEN1cnJlbnRTdGF0dXMgPSAiU3VjY2Vzc2Z1bCAoQlNUID49IEhhcmRjYXApISI7CiAgICAgICAgICByZXR1cm4gIlN1Y2Nlc3NmdWwgKEJTVCA+PSBIYXJkY2FwKSEiOwogICAgICAgICAgCiAgICAgICAgICAKICAgICAgfSBlbHNlIGlmICgoYW1vdW50UmFpc2VkSW5XZWkgPj0gZnVuZGluZ01pbkNhcEluV2VpKSAmJiAoYmxvY2subnVtYmVyID4gZnVuZGluZ0VuZEJsb2NrKSAmJiAodG9rZW5zUmVtYWluaW5nID4gMCkpIHsgCiAgICAgICAgICAKICAgICAgICAgIC8vIElDTyBlbmRlZCwgb3ZlciBzb2Z0Y2FwIQogICAgICAgICAgYXJlRnVuZHNSZWxlYXNlZFRvQmVuZWZpY2lhcnkgPSB0cnVlOwogICAgICAgICAgaXNDcm93ZFNhbGVDbG9zZWQgPSB0cnVlOwogICAgICAgICAgQ3VycmVudFN0YXR1cyA9ICJTdWNjZXNzZnVsIChFdGggPj0gU29mdGNhcCkhIjsKICAgICAgICAgIHJldHVybiAiU3VjY2Vzc2Z1bCAoRXRoID49IFNvZnRjYXApISI7CiAgICAgICAgICAKICAgICAgICAgIAogICAgICB9IGVsc2UgaWYgKChhbW91bnRSYWlzZWRJbldlaSA+PSBmdW5kaW5nTWluQ2FwSW5XZWkpICYmICh0b2tlbnNSZW1haW5pbmcgPiAwKSAmJiAoYmxvY2subnVtYmVyIDw9IGZ1bmRpbmdFbmRCbG9jaykpIHsgCiAgICAgICAgICAKICAgICAgICAgIC8vIElDTyBpbiBwcm9ncmVzcywgb3ZlciBzb2Z0Y2FwIQogICAgICAgIGFyZUZ1bmRzUmVsZWFzZWRUb0JlbmVmaWNpYXJ5ID0gdHJ1ZTsKICAgICAgICBpc0Nyb3dkU2FsZUNsb3NlZCA9IGZhbHNlOwogICAgICAgIEN1cnJlbnRTdGF0dXMgPSAiSW4gcHJvZ3Jlc3MgKEV0aCA+PSBTb2Z0Y2FwKSEiOwogICAgICAgIHJldHVybiAiSW4gcHJvZ3Jlc3MgKEV0aCA+PSBTb2Z0Y2FwKSEiOwogICAgICB9CiAgICAgIAogICAgICBzZXRQcmljZSgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlZnVuZCgpIHsgCiAgICAgICAgCiAgICAgICAgLy8gYW55IGNvbnRyaWJ1dG9yIGNhbiBjYWxsIHRoaXMgdG8gaGF2ZSB0aGVpciBFdGggcmV0dXJuZWQuIAogICAgICAgIC8vIHVzZXIncyBwdXJjaGFzZWQgQlNUIHRva2VucyBhcmUgYnVybmVkIHByaW9yIHJlZnVuZCBvZiBFdGguCiAgICAgICAgLy9yZXF1aXJlIG1pbkNhcCBub3QgcmVhY2hlZAogICAgICAgIAogICAgICByZXF1aXJlICgoYW1vdW50UmFpc2VkSW5XZWkgPCBmdW5kaW5nTWluQ2FwSW5XZWkpCiAgICAgICYmIChpc0Nyb3dkU2FsZUNsb3NlZCkKICAgICAgJiYgKGJsb2NrLm51bWJlciA+IGZ1bmRpbmdFbmRCbG9jaykKICAgICAgJiYgKGZ1bmRWYWx1ZVttc2cuc2VuZGVyXSA+IDApKTsKCiAgICAgIC8vYnVybiB1c2VyJ3MgdG9rZW4gQlNUIHRva2VuIGJhbGFuY2UsIHJlZnVuZCBFdGggc2VudAogICAgICB1aW50MjU2IGV0aFJlZnVuZCA9IGZ1bmRWYWx1ZVttc2cuc2VuZGVyXTsKICAgICAgYmFsYW5jZXNBcnJheVttc2cuc2VuZGVyXSA9IDA7CiAgICAgIGZ1bmRWYWx1ZVttc2cuc2VuZGVyXSA9IDA7CiAgICAgIEJ1cm4obXNnLnNlbmRlciwgZXRoUmVmdW5kKTsKCiAgICAgIC8vc2VuZCBFdGggYmFjaywgYnVybiB0b2tlbnMKICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihldGhSZWZ1bmQpOwogICAgICBSZWZ1bmQobXNnLnNlbmRlciwgZXRoUmVmdW5kKTsKICAgIH0KfQ=='.
	

]
