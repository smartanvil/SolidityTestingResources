Class {
	#name : #SRT5487939f38ad535223a6f5441edd43fac291da31,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5487939f38ad535223a6f5441edd43fac291da31 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7Cgpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCiAgICAvLyBTYWZlTWF0aC5zdWIgd2lsbCB0aHJvdyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJhbGFuY2UuCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLgogICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9Cgpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKY29udHJhY3QgTXVsdGlTZW5kIGlzIE93bmFibGUgewoJdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgoKCVBlY3VsaXVtIHB1YmxpYyBwZWN1bDsgLy8gdG9rZW4gUGVjdWxpdW0KCWFkZHJlc3MgcHVibGljIHBlY3VsQWRyZXNzID0gMHgzNjE4NTE2ZjQ1Y2QzYzkxM2Y4MWY5OTg3YWY0MTA3NzkzMmJjNDBkOyAvLyBUaGUgYWRkcmVzcyBvZiB0aGUgb2xkIFBlY3VsaXVtIGNvbnRyYWN0CQoJdWludDI1NiBwdWJsaWMgZGVjaW1hbHM7IC8vIGRlY2ltYWwgb2YgdGhlIHRva2VuCgkKCQkvL0NvbnN0cnVjdG9yCglmdW5jdGlvbiBNdWx0aVNlbmQoKSBwdWJsaWN7CgkJcGVjdWwgPSBQZWN1bGl1bShwZWN1bEFkcmVzcyk7CQoJCWRlY2ltYWxzID0gcGVjdWwuZGVjaW1hbHMoKTsKCX0KCglmdW5jdGlvbiBTZW5kKGFkZHJlc3NbXSBfdmFkZHIsIHVpbnQyNTZbXSBfdmFtb3VudHMpIG9ubHlPd25lciAKCXsKCQoJCgkJcmVxdWlyZSAoIF92YWRkci5sZW5ndGggPT0gX3ZhbW91bnRzLmxlbmd0aCApOwoJCgkJdWludDI1NiBhbW91bnRUb1NlbmRUb3RhbCA9IDA7CgkJCgkJZm9yICh1aW50MjU2IGluZGV4VGVzdD0wOyBpbmRleFRlc3Q8X3ZhZGRyLmxlbmd0aDsgaW5kZXhUZXN0KyspIC8vIFdlIGZpcnN0IHRlc3QgdGhhdCB3ZSBoYXZlIGVub3VnaCB0b2tlbiB0byBzZW5kCgkJewoJCQoJCQlhbW91bnRUb1NlbmRUb3RhbCA9IGFtb3VudFRvU2VuZFRvdGFsICsgX3ZhbW91bnRzW2luZGV4VGVzdF07IAoJCQoJCX0KCQlyZXF1aXJlKGFtb3VudFRvU2VuZFRvdGFsKjEwKipkZWNpbWFsczw9cGVjdWwuYmFsYW5jZU9mKHRoaXMpKTsgLy8gSWYgbm8gZW5vdWdoIHRva2VuLCBjYW5jZWwgdGhlIHNlbmQgCgkJCgkJCgkJZm9yICh1aW50MjU2IGluZGV4PTA7IGluZGV4PF92YWRkci5sZW5ndGg7IGluZGV4KyspIAoJCXsKCQkJYWRkcmVzcyB0b0FkZHJlc3MgPSBfdmFkZHJbaW5kZXhdOwoJCQl1aW50MjU2IGFtb3VudFRvX1NlbmQgPSBfdmFtb3VudHNbaW5kZXhdKjEwKipkZWNpbWFsczsKCQkKCSAgICAgICAgICAgICAgICBwZWN1bC50cmFuc2Zlcih0b0FkZHJlc3MsYW1vdW50VG9fU2VuZCk7CgkJfQoJfQoJCgkKCQp9CgpsaWJyYXJ5IFNhZmVFUkMyMCB7CiAgZnVuY3Rpb24gc2FmZVRyYW5zZmVyKEVSQzIwQmFzaWMgdG9rZW4sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIGludGVybmFsIHsKICAgIGFzc2VydCh0b2tlbi50cmFuc2Zlcih0bywgdmFsdWUpKTsKICB9CgogIGZ1bmN0aW9uIHNhZmVUcmFuc2ZlckZyb20oRVJDMjAgdG9rZW4sIGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgaW50ZXJuYWwgewogICAgYXNzZXJ0KHRva2VuLnRyYW5zZmVyRnJvbShmcm9tLCB0bywgdmFsdWUpKTsKICB9CgogIGZ1bmN0aW9uIHNhZmVBcHByb3ZlKEVSQzIwIHRva2VuLCBhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIGludGVybmFsIHsKICAgIGFzc2VydCh0b2tlbi5hcHByb3ZlKHNwZW5kZXIsIHZhbHVlKSk7CiAgfQp9CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgaW50ZXJuYWwgYWxsb3dlZDsKCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoKICAgIHVpbnQyNTYgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldAogICAgLy8gcmVxdWlyZSAoX3ZhbHVlIDw9IF9hbGxvd2FuY2UpOwoKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICoKICAgKiBCZXdhcmUgdGhhdCBjaGFuZ2luZyBhbiBhbGxvd2FuY2Ugd2l0aCB0aGlzIG1ldGhvZCBicmluZ3MgdGhlIHJpc2sgdGhhdCBzb21lb25lIG1heSB1c2UgYm90aCB0aGUgb2xkCiAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAqIHJhY2UgY29uZGl0aW9uIGlzIHRvIGZpcnN0IHJlZHVjZSB0aGUgc3BlbmRlcidzIGFsbG93YW5jZSB0byAwIGFuZCBzZXQgdGhlIGRlc2lyZWQgdmFsdWUgYWZ0ZXJ3YXJkczoKICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZnlpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICAvKioKICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKICAgKiBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbAogICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAogICAqLwogIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICB9IGVsc2UgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgIH0KICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cgp9Cgpjb250cmFjdCBCdXJuYWJsZVRva2VuIGlzIFN0YW5kYXJkVG9rZW4gewoKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGJ1cm5lciwgdWludDI1NiB2YWx1ZSk7CgogICAgLyoqCiAgICAgKiBAZGV2IEJ1cm5zIGEgc3BlY2lmaWMgYW1vdW50IG9mIHRva2Vucy4KICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSBidXJuZWQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJ1cm4odWludDI1NiBfdmFsdWUpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPiAwKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CiAgICAgICAgLy8gbm8gbmVlZCB0byByZXF1aXJlIHZhbHVlIDw9IHRvdGFsU3VwcGx5LCBzaW5jZSB0aGF0IHdvdWxkIGltcGx5IHRoZQogICAgICAgIC8vIHNlbmRlcidzIGJhbGFuY2UgaXMgZ3JlYXRlciB0aGFuIHRoZSB0b3RhbFN1cHBseSwgd2hpY2ggKnNob3VsZCogYmUgYW4gYXNzZXJ0aW9uIGZhaWx1cmUKCiAgICAgICAgYWRkcmVzcyBidXJuZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIGJhbGFuY2VzW2J1cm5lcl0gPSBiYWxhbmNlc1tidXJuZXJdLnN1YihfdmFsdWUpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKF92YWx1ZSk7CiAgICAgICAgQnVybihidXJuZXIsIF92YWx1ZSk7CiAgICB9Cn0KCmNvbnRyYWN0IFBlY3VsaXVtIGlzIEJ1cm5hYmxlVG9rZW4sT3duYWJsZSB7IC8vIE91ciB0b2tlbiBpcyBhIHN0YW5kYXJkIEVSQzIwIFRva2VuIHdpdGggYnVybmFibGUgYW5kIG93bmFibGUgYXB0aXR1ZGUKCgkvKlZhcmlhYmxlcyBhYm91dCB0aGUgb2xkIHRva2VuIGNvbnRyYWN0ICovCQoJUGVjdWxpdW1PbGQgcHVibGljIHBlY3VsT2xkOyAvLyBUaGUgb2xkIFBlY3VsaXVtIHRva2VuCglhZGRyZXNzIHB1YmxpYyBwZWN1bE9sZEFkcmVzcyA9IDB4NTMxNDhCYjQ1NTE3MDdlZEY1MWExZThkN0E5MzY5OGQxODkzMTIyNTsgLy8gVGhlIGFkZHJlc3Mgb2YgdGhlIG9sZCBQZWN1bGl1bSBjb250cmFjdAoKCXVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OyAvLyBXZSB1c2Ugc2FmZW1hdGggdG8gZG8gYmFzaWMgbWF0aCBvcGVyYXRpb24gKCssLSwqLC8pCgl1c2luZyBTYWZlRVJDMjAgZm9yIEVSQzIwQmFzaWM7IAoKICAgIAkvKiBQdWJsaWMgdmFyaWFibGVzIG9mIHRoZSB0b2tlbiBmb3IgRVJDMjAgY29tcGxpYW5jZSAqLwoJc3RyaW5nIHB1YmxpYyBuYW1lID0gIlBlY3VsaXVtIjsgLy90b2tlbiBuYW1lIAogICAgCXN0cmluZyBwdWJsaWMgc3ltYm9sID0gIlBDTCI7IC8vIHRva2VuIHN5bWJvbAogICAgCXVpbnQyNTYgcHVibGljIGRlY2ltYWxzID0gODsgLy8gdG9rZW4gbnVtYmVyIG9mIGRlY2ltYWwKICAgIAkKICAgIAkvKiBQdWJsaWMgdmFyaWFibGVzIHNwZWNpZmljIGZvciBQZWN1bGl1bSAqLwogICAgICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IE1BWF9TVVBQTFlfTkJUT0tFTiAgID0gMjAwMDAwMDAwMDAqMTAqKjg7IC8vIFRoZSBtYXggY2FwIGlzIDIwIEJpbGxpb24gUGVjdWxpdW0KCgltYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGJhbGFuY2VzQ2Fubm90U2VsbDsgLy8gVGhlIGJvb2xlYW4gdmFyaWFibGUsIHRvIGZyb3N0IHRoZSB0b2tlbnMKCgogICAgCS8qIEV2ZW50IGZvciB0aGUgZnJlZXplIG9mIGFjY291bnQgKi8KCWV2ZW50IENoYW5nZWRUb2tlbnMoYWRkcmVzcyBjaGFuZ2VkVGFyZ2V0LHVpbnQyNTYgYW1vdW50VG9DaGFuZ2VkKTsKCWV2ZW50IEZyb3plbkZ1bmRzKGFkZHJlc3MgYWRkcmVzc190YXJnZXQsIGJvb2wgYm9vbF9jYW5TZWxsKTsKCiAgIAoJLy9Db25zdHJ1Y3RvcgoJZnVuY3Rpb24gUGVjdWxpdW0oKSBwdWJsaWMgewoJCXRvdGFsU3VwcGx5ID0gTUFYX1NVUFBMWV9OQlRPS0VOOwoJCWJhbGFuY2VzW2FkZHJlc3ModGhpcyldID0gdG90YWxTdXBwbHk7IC8vIEF0IHRoZSBiZWdpbm5pbmcsIHRoZSBjb250cmFjdCBoYXMgYWxsIHRoZSB0b2tlbnMuIAoJCXBlY3VsT2xkID0gUGVjdWxpdW1PbGQocGVjdWxPbGRBZHJlc3MpOwkKCX0KCQoJLyoqKiBQdWJsaWMgRnVuY3Rpb25zIG9mIHRoZSBjb250cmFjdCAqKiovCQoJCQkJCglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSAKCXsgLy8gV2Ugb3ZlcnJpZ2h0IHRoZSB0cmFuc2ZlciBmdW5jdGlvbiB0byBhbGxvdyBmcmVlemUgcG9zc2liaWxpdHkKCQoJCXJlcXVpcmUoYmFsYW5jZXNDYW5ub3RTZWxsW21zZy5zZW5kZXJdPT1mYWxzZSk7CgkJcmV0dXJuIEJhc2ljVG9rZW4udHJhbnNmZXIoX3RvLF92YWx1ZSk7CgkKCX0KCQoJZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIAoJeyAvLyBXZSBvdmVycmlnaHQgdGhlIHRyYW5zZmVyRnJvbSBmdW5jdGlvbiB0byBhbGxvdyBmcmVlemUgcG9zc2liaWxpdHkKCQoJCXJlcXVpcmUoYmFsYW5jZXNDYW5ub3RTZWxsW21zZy5zZW5kZXJdPT1mYWxzZSk7CQoJCXJldHVybiBTdGFuZGFyZFRva2VuLnRyYW5zZmVyRnJvbShfZnJvbSxfdG8sX3ZhbHVlKTsKCQoJfQoKCS8qKiogIE93bmVyIEZ1bmN0aW9ucyBvZiB0aGUgY29udHJhY3QgKioqLwkKCiAgIAlmdW5jdGlvbiBDaGFuZ2VMaWNlbnNlKGFkZHJlc3MgdGFyZ2V0LCBib29sIGNhblNlbGwpIHB1YmxpYyBvbmx5T3duZXIKICAgCXsKICAgICAgICAKICAgICAgICAJYmFsYW5jZXNDYW5ub3RTZWxsW3RhcmdldF0gPSBjYW5TZWxsOwogICAgICAgIAlGcm96ZW5GdW5kcyh0YXJnZXQsIGNhblNlbGwpOwogICAgCQogICAgCX0KICAgIAkKICAgIAkJZnVuY3Rpb24gVXBncmFkZVRva2VucygpIHB1YmxpYwoJewoJLy8gVXNlIHRoaXMgZnVuY3Rpb24gdG8gc3dhcCB5b3VyIG9sZCBwZWN1bGl1bSBhZ2FpbnN0IG5ldyBvbmVzICh0aGUgbmV3IG9uZXMgZG9uJ3QgbmVlZCBkZWZyb3N0IHRvIGJlIHRyYW5zZmVyZWQpCgkvLyBPbGQgcGVjdWxpdW0gYXJlIGJ1cm5lZAoJCXJlcXVpcmUocGVjdWxPbGQudG90YWxTdXBwbHkoKT4wKTsKCQl1aW50MjU2IGFtb3VudENoYW5nZWQgPSBwZWN1bE9sZC5hbGxvd2FuY2UobXNnLnNlbmRlcixhZGRyZXNzKHRoaXMpKTsKCQlyZXF1aXJlKGFtb3VudENoYW5nZWQ+MCk7CgkJcGVjdWxPbGQudHJhbnNmZXJGcm9tKG1zZy5zZW5kZXIsYWRkcmVzcyh0aGlzKSxhbW91bnRDaGFuZ2VkKTsKCQlwZWN1bE9sZC5idXJuKGFtb3VudENoYW5nZWQpOwoKCQliYWxhbmNlc1thZGRyZXNzKHRoaXMpXSA9IGJhbGFuY2VzW2FkZHJlc3ModGhpcyldLnN1YihhbW91bnRDaGFuZ2VkKTsKICAgIAkJYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQoYW1vdW50Q2hhbmdlZCk7CgkJVHJhbnNmZXIoYWRkcmVzcyh0aGlzKSwgbXNnLnNlbmRlciwgYW1vdW50Q2hhbmdlZCk7CgkJQ2hhbmdlZFRva2Vucyhtc2cuc2VuZGVyLGFtb3VudENoYW5nZWQpOwoJCQoJfQoKCS8qKiogT3RoZXJzIEZ1bmN0aW9ucyBvZiB0aGUgY29udHJhY3QgKioqLwkKCQoJLyogQXBwcm92ZXMgYW5kIHRoZW4gY2FsbHMgdGhlIHJlY2VpdmluZyBjb250cmFjdCAqLwoJZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9leHRyYURhdGEpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCQlhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKCQlBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKCgkJcmVxdWlyZShfc3BlbmRlci5jYWxsKGJ5dGVzNChieXRlczMyKGtlY2NhazI1NigicmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MsdWludDI1NixhZGRyZXNzLGJ5dGVzKSIpKSksIG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSkpOwogICAgICAgIAlyZXR1cm4gdHJ1ZTsKICAgIH0KCiAgCWZ1bmN0aW9uIGdldEJsb2NrVGltZXN0YW1wKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpCiAgCXsKICAgICAgICAJcmV0dXJuIG5vdzsKICAJfQoKICAJZnVuY3Rpb24gZ2V0T3duZXJJbmZvcygpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzIG93bmVyQWRkciwgdWludDI1NiBvd25lckJhbGFuY2UpICAKICAJeyAvLyBSZXR1cm4gaW5mbyBhYm91dCB0aGUgcHVibGljIGFkZHJlc3MgYW5kIGJhbGFuY2Ugb2YgdGhlIGFjY291bnQgb2YgdGhlIG93bmVyIG9mIHRoZSBjb250cmFjdAogICAgCQogICAgCQlvd25lckFkZHIgPSBvd25lcjsKCQlvd25lckJhbGFuY2UgPSBiYWxhbmNlT2Yob3duZXJBZGRyKTsKICAJCiAgCX0KCn0KCmNvbnRyYWN0IFBlY3VsaXVtT2xkIGlzIEJ1cm5hYmxlVG9rZW4sT3duYWJsZSB7IC8vIE91ciB0b2tlbiBpcyBhIHN0YW5kYXJkIEVSQzIwIFRva2VuIHdpdGggYnVybmFibGUgYW5kIG93bmFibGUgYXB0aXR1ZGUKCgl1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsgLy8gV2UgdXNlIHNhZmVtYXRoIHRvIGRvIGJhc2ljIG1hdGggb3BlcmF0aW9uICgrLC0sKiwvKQoJdXNpbmcgU2FmZUVSQzIwIGZvciBFUkMyMEJhc2ljOyAKCiAgICAJLyogUHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4gZm9yIEVSQzIwIGNvbXBsaWFuY2UgKi8KCXN0cmluZyBwdWJsaWMgbmFtZSA9ICJQZWN1bGl1bSI7IC8vdG9rZW4gbmFtZSAKICAgIAlzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJQQ0wiOyAvLyB0b2tlbiBzeW1ib2wKICAgIAl1aW50MjU2IHB1YmxpYyBkZWNpbWFscyA9IDg7IC8vIHRva2VuIG51bWJlciBvZiBkZWNpbWFsCiAgICAJCiAgICAJLyogUHVibGljIHZhcmlhYmxlcyBzcGVjaWZpYyBmb3IgUGVjdWxpdW0gKi8KICAgICAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBNQVhfU1VQUExZX05CVE9LRU4gICA9IDIwMDAwMDAwMDAwKjEwKio4OyAvLyBUaGUgbWF4IGNhcCBpcyAyMCBCaWxsaW9uIFBlY3VsaXVtCgoJdWludDI1NiBwdWJsaWMgZGF0ZVN0YXJ0Q29udHJhY3Q7IC8vIFRoZSBkYXRlIG9mIHRoZSBkZXBsb3ltZW50IG9mIHRoZSB0b2tlbgoJbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBiYWxhbmNlc0NhblNlbGw7IC8vIFRoZSBib29sZWFuIHZhcmlhYmxlLCB0byBmcm9zdCB0aGUgdG9rZW5zCgl1aW50MjU2IHB1YmxpYyBkYXRlRGVmcm9zdDsgLy8gVGhlIGRhdGUgd2hlbiB0aGUgb3duZXJzIG9mIHRva2VuIGNhbiBkZWZyb3N0IHRoZWlyIHRva2VucwoKCiAgICAJLyogRXZlbnQgZm9yIHRoZSBmcmVlemUgb2YgYWNjb3VudCAqLwogCWV2ZW50IEZyb3plbkZ1bmRzKGFkZHJlc3MgdGFyZ2V0LCBib29sIGZyb3plbik7ICAgICAJIAogICAgIAlldmVudCBEZWZyb3plKGFkZHJlc3MgbXNnQWRkLCBib29sIGZyZWV6ZSk7CgkKCgogICAKCS8vQ29uc3RydWN0b3IKCWZ1bmN0aW9uIFBlY3VsaXVtT2xkKCkgewoJCXRvdGFsU3VwcGx5ID0gTUFYX1NVUFBMWV9OQlRPS0VOOwoJCWJhbGFuY2VzW293bmVyXSA9IHRvdGFsU3VwcGx5OyAvLyBBdCB0aGUgYmVnaW5uaW5nLCB0aGUgb3duZXIgaGFzIGFsbCB0aGUgdG9rZW5zLiAKCQliYWxhbmNlc0NhblNlbGxbb3duZXJdID0gdHJ1ZTsgLy8gVGhlIG93bmVyIG5lZWQgdG8gc2VsbCB0b2tlbiBmb3IgdGhlIHByaXZhdGUgc2FsZSBhbmQgZm9yIHRoZSBwcmVJQ08sIElDTy4KCQkKCQlkYXRlU3RhcnRDb250cmFjdD1ub3c7CgkJZGF0ZURlZnJvc3QgPSBkYXRlU3RhcnRDb250cmFjdCArIDg1IGRheXM7IC8vIGV2ZXJ5Ym9keSBjYW4gZGVmcm9zdCBoaXMgb3duIHRva2VuIGFmdGVyIHRoZSAyNSBqYW51YXJ5IDIwMTggKDg1IGRheXMgYWZ0ZXIgMSBOb3ZlbWJlcikKCgl9CgoJLyoqKiBQdWJsaWMgRnVuY3Rpb25zIG9mIHRoZSBjb250cmFjdCAqKiovCQoJCglmdW5jdGlvbiBkZWZyb3N0VG9rZW4oKSBwdWJsaWMgCgl7IC8vIEZ1bmN0aW9uIHRvIGRlZnJvc3QgeW91ciBvd24gdG9rZW4sIGFmdGVyIHRoZSBkYXRlIG9mIHRoZSBkZWZyb3N0CgkKCQlyZXF1aXJlKG5vdz5kYXRlRGVmcm9zdCk7CgkJYmFsYW5jZXNDYW5TZWxsW21zZy5zZW5kZXJdPXRydWU7CgkJRGVmcm96ZShtc2cuc2VuZGVyLHRydWUpOwoJfQoJCQkJCglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSAKCXsgLy8gV2Ugb3ZlcnJpZ2h0IHRoZSB0cmFuc2ZlciBmdW5jdGlvbiB0byBhbGxvdyBmcmVlemUgcG9zc2liaWxpdHkKCQoJCXJlcXVpcmUoYmFsYW5jZXNDYW5TZWxsW21zZy5zZW5kZXJdKTsKCQlyZXR1cm4gQmFzaWNUb2tlbi50cmFuc2ZlcihfdG8sX3ZhbHVlKTsKCQoJfQoJCglmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgCgl7IC8vIFdlIG92ZXJyaWdodCB0aGUgdHJhbnNmZXJGcm9tIGZ1bmN0aW9uIHRvIGFsbG93IGZyZWV6ZSBwb3NzaWJpbGl0eSAobmVlZCB0byBhbGxvdyBiZWZvcmUpCgkKCQlyZXF1aXJlKGJhbGFuY2VzQ2FuU2VsbFttc2cuc2VuZGVyXSk7CQoJCXJldHVybiBTdGFuZGFyZFRva2VuLnRyYW5zZmVyRnJvbShfZnJvbSxfdG8sX3ZhbHVlKTsKCQoJfQoKCS8qKiogIE93bmVyIEZ1bmN0aW9ucyBvZiB0aGUgY29udHJhY3QgKioqLwkKCiAgIAlmdW5jdGlvbiBmcmVlemVBY2NvdW50KGFkZHJlc3MgdGFyZ2V0LCBib29sIGNhblNlbGwpIG9ubHlPd25lciAKICAgCXsKICAgICAgICAKICAgICAgICAJYmFsYW5jZXNDYW5TZWxsW3RhcmdldF0gPSBjYW5TZWxsOwogICAgICAgIAlGcm96ZW5GdW5kcyh0YXJnZXQsIGNhblNlbGwpOwogICAgCQogICAgCX0KCgoJLyoqKiBPdGhlcnMgRnVuY3Rpb25zIG9mIHRoZSBjb250cmFjdCAqKiovCQoJCgkvKiBBcHByb3ZlcyBhbmQgdGhlbiBjYWxscyB0aGUgcmVjZWl2aW5nIGNvbnRyYWN0ICovCglmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgkJYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CgkJQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CgoJCXJlcXVpcmUoX3NwZW5kZXIuY2FsbChieXRlczQoYnl0ZXMzMihzaGEzKCJyZWNlaXZlQXBwcm92YWwoYWRkcmVzcyx1aW50MjU2LGFkZHJlc3MsYnl0ZXMpIikpKSwgbXNnLnNlbmRlciwgX3ZhbHVlLCB0aGlzLCBfZXh0cmFEYXRhKSk7CiAgICAgICAgCXJldHVybiB0cnVlOwogICAgfQoKICAJZnVuY3Rpb24gZ2V0QmxvY2tUaW1lc3RhbXAoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KQogIAl7CiAgICAgICAgCiAgICAgICAgCXJldHVybiBub3c7CiAgCQogIAl9CgogIAlmdW5jdGlvbiBnZXRPd25lckluZm9zKCkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcyBvd25lckFkZHIsIHVpbnQyNTYgb3duZXJCYWxhbmNlKSAgCiAgCXsgLy8gUmV0dXJuIGluZm8gYWJvdXQgdGhlIHB1YmxpYyBhZGRyZXNzIGFuZCBiYWxhbmNlIG9mIHRoZSBhY2NvdW50IG9mIHRoZSBvd25lciBvZiB0aGUgY29udHJhY3QKICAgIAkKICAgIAkJb3duZXJBZGRyID0gb3duZXI7CgkJb3duZXJCYWxhbmNlID0gYmFsYW5jZU9mKG93bmVyQWRkcik7CiAgCQogIAl9Cgp9'.
	

]
