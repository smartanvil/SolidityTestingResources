Class {
	#name : #SRTeb07e81cfac637d4b1bcb2124f6ba8335d5a8bd7,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTeb07e81cfac637d4b1bcb2124f6ba8335d5a8bd7 >> base64 [
	^ 'LyoqCiAgICBDb3B5cmlnaHQgKGMpIDIwMTggVGF5bG9yIE8mIzIyMDsKCiAgICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5CiAgICBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAogICAgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwogICAgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbAogICAgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzCiAgICBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgoKICAgIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCiAgICBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KCiAgICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgogICAgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCiAgICBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKICAgIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKICAgIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCiAgICBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOCiAgICBUSEUgU09GVFdBUkUuCgogICAgYmFzZWQgb24gdGhlIGNvbnRyYWN0cyBvZiBPcGVuWmVwcGVsaW46CiAgICBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5L3RyZWUvbWFzdGVyL2NvbnRyYWN0cwoKKiovCgpwcmFnbWEgc29saWRpdHkgXjAuNC4xODsKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKLyoqCiAgQHRpdGxlIFRheWxvclRva2VuCioqLwpjb250cmFjdCBUYXlsb3JUb2tlbiBpcyBPd25hYmxlewoKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIC8qKgogICAgICAgIEVWRU5UUwogICAgKiovCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgX293bmVyLCB1aW50MjU2IF9hbW91bnQpOwogICAgLyoqCiAgICAgICAgQ09OVFJBQ1QgVkFSSUFCTEVTCiAgICAqKi8KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgogICAgLy90aGlzIGFkZHJlc3MgY2FuIHRyYW5zZmVyIGV2ZW4gd2hlbiB0cmFuc2ZlciBpcyBkaXNhYmxlZC4KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIHdoaXRlbGlzdGVkVHJhbnNmZXI7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyB3aGl0ZWxpc3RlZEJ1cm47CgogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIlRheWxvciI7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJUQVkiOwogICAgdWludDggcHVibGljIGRlY2ltYWxzID0gMTg7CiAgICB1aW50MjU2IGNvbnN0YW50IGludGVybmFsIERFQ0lNQUxfQ0FTRVMgPSAxMCoqMTg7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseSA9IDEwKio3ICogREVDSU1BTF9DQVNFUzsKICAgIGJvb2wgcHVibGljIHRyYW5zZmVyYWJsZSA9IGZhbHNlOwoKICAgIC8qKgogICAgICAgIE1PRElGSUVSUwogICAgKiovCiAgICBtb2RpZmllciBvbmx5V2hlblRyYW5zZmVyYWJsZSgpewogICAgICBpZighd2hpdGVsaXN0ZWRUcmFuc2Zlclttc2cuc2VuZGVyXSl7CiAgICAgICAgcmVxdWlyZSh0cmFuc2ZlcmFibGUpOwogICAgICB9CiAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgICAgQ09OU1RSVUNUT1IKICAgICoqLwoKICAgIC8qKgogICAgICBAZGV2IENvbnN0cnVjdG9yIGZ1bmN0aW9uIGV4ZWN1dGVkIG9uIGNvbnRyYWN0IGNyZWF0aW9uCiAgICAqKi8KICAgIGZ1bmN0aW9uIFRheWxvclRva2VuKCkKICAgICAgT3duYWJsZSgpCiAgICAgIHB1YmxpYwogICAgewogICAgICBiYWxhbmNlc1tvd25lcl0gPSBiYWxhbmNlc1tvd25lcl0uYWRkKHRvdGFsU3VwcGx5KTsKICAgICAgd2hpdGVsaXN0ZWRUcmFuc2Zlclttc2cuc2VuZGVyXSA9IHRydWU7CiAgICAgIHdoaXRlbGlzdGVkQnVyblttc2cuc2VuZGVyXSA9IHRydWU7CiAgICAgIFRyYW5zZmVyKGFkZHJlc3MoMCksb3duZXIsIHRvdGFsU3VwcGx5KTsKICAgIH0KCiAgICAvKioKICAgICAgICBPV05FUiBPTkxZIEZVTkNUSU9OUwogICAgKiovCgogICAgLyoqCiAgICAgIEBkZXYgQWN0aXZhdGVzIHRoZSB0cmFzZmVyIGZvciBhbGwgdXNlcnMKICAgICoqLwogICAgZnVuY3Rpb24gYWN0aXZhdGVUcmFuc2ZlcnMoKQogICAgICBwdWJsaWMKICAgICAgb25seU93bmVyCiAgICB7CiAgICAgIHRyYW5zZmVyYWJsZSA9IHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgIEBkZXYgQWxsb3dzIHRoZSBvd25lciB0byBhZGQgYWRkcmVzc2UgdGhhdCBjYW4gYnlwYXNzIHRoZQogICAgICB0cmFuc2ZlciBsb2NrLiBFZzogSUNPIGNvbnRyYWN0LCBUR0UgY29udHJhY3QuCiAgICAgIEBwYXJhbSBfYWRkcmVzcyBhZGRyZXNzIEFkZHJlc3MgdG8gYmUgYWRkZWQKICAgICoqLwogICAgZnVuY3Rpb24gYWRkV2hpdGVsaXN0ZWRUcmFuc2ZlcihhZGRyZXNzIF9hZGRyZXNzKQogICAgICBwdWJsaWMKICAgICAgb25seU93bmVyCiAgICB7CiAgICAgIHdoaXRlbGlzdGVkVHJhbnNmZXJbX2FkZHJlc3NdID0gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAgQGRldiBTZW5kcyBhbGwgYXZhaWJsZSBUQVkgdG8gdGhlIFRHRSBjb250cmFjdCB0byBiZSBwcm9wZXJseQogICAgICBkaXN0cmlidXRlCiAgICAgIEBwYXJhbSBfdGdlQWRkcmVzcyBhZGRyZXNzIEFkZHJlc3Mgb2YgdGhlIHRva2VuIGRpc3RyaWJ1dGlvbgogICAgICBjb250cmFjdAogICAgKiovCiAgICBmdW5jdGlvbiBkaXN0cmlidXRlKGFkZHJlc3MgX3RnZUFkZHJlc3MpCiAgICAgIHB1YmxpYwogICAgICBvbmx5T3duZXIKICAgIHsKICAgICAgd2hpdGVsaXN0ZWRUcmFuc2ZlcltfdGdlQWRkcmVzc10gPSB0cnVlOwogICAgICB0cmFuc2ZlcihfdGdlQWRkcmVzcywgYmFsYW5jZXNbb3duZXJdKTsKICAgIH0KCgogICAgLyoqCiAgICAgIEBkZXYgQWxsb3dzIHRoZSBvd25lciB0byBhZGQgYWRkcmVzc2UgdGhhdCBjYW4gYnVybiB0b2tlbnMKICAgICAgRWc6IElDTyBjb250cmFjdCwgVEdFIGNvbnRyYWN0LgogICAgICBAcGFyYW0gX2FkZHJlc3MgYWRkcmVzcyBBZGRyZXNzIHRvIGJlIGFkZGVkCiAgICAqKi8KICAgIGZ1bmN0aW9uIGFkZFdoaXRlbGlzdGVkQnVybihhZGRyZXNzIF9hZGRyZXNzKQogICAgICBwdWJsaWMKICAgICAgb25seU93bmVyCiAgICB7CiAgICAgIHdoaXRlbGlzdGVkQnVybltfYWRkcmVzc10gPSB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICAgIFBVQkxJQyBGVU5DVElPTlMKICAgICoqLwoKICAgIC8qKgogICAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpCiAgICAgIHB1YmxpYwogICAgICBvbmx5V2hlblRyYW5zZmVyYWJsZQogICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpCiAgICB7CiAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CgogICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20KICAgICAgKGFkZHJlc3MgX2Zyb20sCiAgICAgICAgYWRkcmVzcyBfdG8sCiAgICAgICAgdWludDI1NiBfdmFsdWUpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seVdoZW5UcmFuc2ZlcmFibGUKICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW19mcm9tXSk7CiAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsKCiAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAqIEBkZXYgQXBwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAgRm9yIHNlY3VyaXR5IHJlYXNvbnMsIGlmIG9uZSBuZWVkIHRvIGNoYW5nZSB0aGUgdmFsdWUgZnJvbSBhIGV4aXN0aW5nIGFsbG93YW5jZSwgaXQgbXVzdCBmdXJzdCBzZXRzCiAgICBpdCB0byB6ZXJvIGFuZCB0aGVuIHNldHMgdGhlIG5ldyB2YWx1ZQoKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpCiAgICAgIHB1YmxpYwogICAgICBvbmx5V2hlblRyYW5zZmVyYWJsZQogICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpCiAgICB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgICAvKioKICAgICAqIEBkZXYgSW5jcmVhc2UgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgICAqCiAgICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKICAgICAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsCiAgICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICAgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAgICogQHBhcmFtIF9hZGRlZFZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGluY3JlYXNlIHRoZSBhbGxvd2FuY2UgYnkuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkKICAgICAgcHVibGljCiAgICAgIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IERlY3JlYXNlIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICAgKgogICAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gZGVjcmVtZW50CiAgICAgKiBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbAogICAgICogdGhlIGZpcnN0IHRyYW5zYWN0aW9uIGlzIG1pbmVkKQogICAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAqIEBwYXJhbSBfc3VidHJhY3RlZFZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGRlY3JlYXNlIHRoZSBhbGxvd2FuY2UgYnkuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKQogICAgICBwdWJsaWMKICAgICAgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgICB9IGVsc2UgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgICB9CiAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICBAZGV2IEFsbG93cyBmb3IgbXNnLnNlbmRlciB0byBidXJuIGhpcyBvbiB0b2tlbnMKICAgICAgQHBhcmFtIF9hbW91bnQgdWludDI1NiBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBidXJuZWQKICAgICoqLwogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF9hbW91bnQpCiAgICAgIHB1YmxpYwogICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpCiAgICB7CiAgICAgIHJlcXVpcmUod2hpdGVsaXN0ZWRCdXJuW21zZy5zZW5kZXJdKTsKICAgICAgcmVxdWlyZShfYW1vdW50IDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CiAgICAgIHRvdGFsU3VwcGx5ID0gIHRvdGFsU3VwcGx5LnN1YihfYW1vdW50KTsKICAgICAgQnVybihtc2cuc2VuZGVyLCBfYW1vdW50KTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIC8qKgogICAgICAgIENPTlNUQU5UIEZVTkNUSU9OUwogICAgKiovCgogICAgLyoqCiAgICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLgogICAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgdmlldyBwdWJsaWMgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpCiAgICAgIHZpZXcKICAgICAgcHVibGljCiAgICAgIHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKQogICAgewogICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCn0KCgoKY29udHJhY3QgVGF5bG9yVG9rZW5UR0UgaXMgT3duYWJsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIHVpbnQyNTYgY29uc3RhbnQgaW50ZXJuYWwgREVDSU1BTF9DQVNFUyA9IDEwKioxODsKICBUYXlsb3JUb2tlbiBwdWJsaWMgdG9rZW47CgogIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIEZPVU5ERVJTID0gMTAqKjYgKiBERUNJTUFMX0NBU0VTOwogIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIEFEVklTT1JTID0gNCAqIDEwKio1ICogREVDSU1BTF9DQVNFUzsKICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBURUFNID0gMyAqIDEwKio1ICogREVDSU1BTF9DQVNFUzsKICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBSRUZFUlJBTF9QUk9HUkFNUyA9IDcgKiAxMCoqNSAqIERFQ0lNQUxfQ0FTRVM7CiAgdWludDI1NiBjb25zdGFudCBwdWJsaWMgUFJFU0FMRSA9IDExOTA0NzYgKiBERUNJTUFMX0NBU0VTOwogIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIFBVQkxJQ1NBTEUgPSA2NDA5NTI0ICogREVDSU1BTF9DQVNFUzsKCiAgYWRkcmVzcyBwdWJsaWMgZm91bmRlcnNfYWRkcmVzczsKICBhZGRyZXNzIHB1YmxpYyBhZHZpc29yc19hZGRyZXNzOwogIGFkZHJlc3MgcHVibGljIHRlYW1fYWRkcmVzczsKICBhZGRyZXNzIHB1YmxpYyByZWZlcnJhbF9hZGRyZXNzOwogIGFkZHJlc3MgcHVibGljIHByZXNhbGVfYWRkcmVzczsKICBhZGRyZXNzIHB1YmxpYyBwdWJsaWNzYWxlX2FkZHJlc3M7CgogIC8qKgogICAgQGRldiBTZXRzIHVwIGFsbGwgdGhlIGFkZHJlc3NlcyBuZWVkZWQgZm9yIHRoZSB0b2tlbiBkaXN0cmlidXRpb24KICAgIEBwYXJhbSBfdG9rZW4gYWRkcmVzcyBUaGUgYWRkcmVzcyBvZiB0aGUgdG9rZW4gdGhhdCB3aWxsIGJlIGRpc3RyaWJ1dGVkCiAgICBAcGFyYW0gX2ZvdW5kZXJzIGFkZHJlc3NlcyBUaGUgYWRkcmVzcyB0aGF0IHRoZSBmb3VuZGVycyBzaGFyZSB3aWxsIGJlIHNlbnQgdG8KICAgIEBwYXJhbSBfYWR2aXNvcnMgYWRkcmVzc2VzIFRoZSBhZGRyZXNzIHRoYXQgdGhlIGFkdmlzb3JzIHNoYXJlIHdpbGwgYmUgc2VudCB0bwogICAgQHBhcmFtIF90ZWFtIGFkZHJlc3NlcyBUaGUgYWRkcmVzcyB0aGF0IHRoZSB0ZWFtIHNoYXJlIHdpbGwgYmUgc2VudCB0bwogICAgQHBhcmFtIF9yZWZlcnJhbCBhZGRyZXNzZXMgVGhlIGFkZHJlc3MgdGhhdCB0aGUgcmVmZXJyYWwgc2hhcmUgd2lsbCBiZSBzZW50IHRvCiAgICBAcGFyYW0gX3ByZXNhbGUgYWRkcmVzc2VzIFRoZSBhZGRyZXNzIHRoYXQgcHJlc2FsZSBzaGFyZSB3aWxsIGJlIHNlbnQgdG8KICAgIEBwYXJhbSBfcHVibGljU2FsZSBhZGRyZXNzZXMgVGhlIGFkZHJlc3MgdGhhdCB0aGUgcHVibGljIHNhbGUKICAqKi8KICBmdW5jdGlvbiBzZXRVcChhZGRyZXNzIF90b2tlbiwgYWRkcmVzcyBfZm91bmRlcnMsIGFkZHJlc3MgX2Fkdmlzb3JzLCBhZGRyZXNzIF90ZWFtLCBhZGRyZXNzIF9yZWZlcnJhbCwgYWRkcmVzcyBfcHJlc2FsZSwgYWRkcmVzcyBfcHVibGljU2FsZSkgcHVibGljIG9ubHlPd25lcnsKICAgIHRva2VuID0gVGF5bG9yVG9rZW4oX3Rva2VuKTsKICAgIGZvdW5kZXJzX2FkZHJlc3MgPSBfZm91bmRlcnM7CiAgICBhZHZpc29yc19hZGRyZXNzID0gX2Fkdmlzb3JzOwogICAgdGVhbV9hZGRyZXNzID0gX3RlYW07CiAgICByZWZlcnJhbF9hZGRyZXNzID0gX3JlZmVycmFsOwogICAgcHJlc2FsZV9hZGRyZXNzID0gX3ByZXNhbGU7CiAgICBwdWJsaWNzYWxlX2FkZHJlc3MgPSBfcHVibGljU2FsZTsKICB9CgogIC8qKgogICAgQGRldiBEaXN0cmlidXRlcyBhbGwgdGhlIHRva2VucyBiZWxvbmdpbmcgdG8gdGhpcyBjb250cmFjdCB0byBpdCdzIGRlZmluZWQgZGVzdGluYXRpb25zcwogICoqLwogIGZ1bmN0aW9uIGRpc3RyaWJ1dGUoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHVpbnQyNTYgdG90YWwgPSBGT1VOREVSUy5hZGQoQURWSVNPUlMpLmFkZChURUFNKS5hZGQoUkVGRVJSQUxfUFJPR1JBTVMpLmFkZChQUkVTQUxFKS5hZGQoUFVCTElDU0FMRSk7CiAgICByZXF1aXJlKHRvdGFsID49IHRva2VuLmJhbGFuY2VPZih0aGlzKSk7CiAgICB0b2tlbi50cmFuc2Zlcihmb3VuZGVyc19hZGRyZXNzLCBGT1VOREVSUyk7CiAgICB0b2tlbi50cmFuc2ZlcihhZHZpc29yc19hZGRyZXNzLCBBRFZJU09SUyk7CiAgICB0b2tlbi50cmFuc2Zlcih0ZWFtX2FkZHJlc3MsIFRFQU0pOwogICAgdG9rZW4udHJhbnNmZXIocmVmZXJyYWxfYWRkcmVzcywgUkVGRVJSQUxfUFJPR1JBTVMpOwogICAgdG9rZW4udHJhbnNmZXIocHJlc2FsZV9hZGRyZXNzLCBQUkVTQUxFKTsKICAgIHRva2VuLnRyYW5zZmVyKHB1YmxpY3NhbGVfYWRkcmVzcywgUFVCTElDU0FMRSk7CiAgfQoKfQ=='.
	

]
