Class {
	#name : #SRTdf9e97970c953ff6730b155845fb7bbd5ae72abf,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTdf9e97970c953ff6730b155845fb7bbd5ae72abf >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4gMC40IC44OwoKCmNvbnRyYWN0IEVSQzIwIHsKCiAgICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnModWludDI1Nik7CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyh1aW50KTsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zKGJvb2wgb2spOwoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50IHZhbHVlKSByZXR1cm5zKGJvb2wgb2spOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHJldHVybnMoYm9vbCBvayk7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7CgogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB2YWx1ZSk7Cgp9Cgpjb250cmFjdCBibG9ja29wdGlvbnMgaXMgRVJDMjAKCnsKCiAgICAgICAvKiBQdWJsaWMgdmFyaWFibGVzIG9mIHRoZSB0b2tlbiAqLwogICAgICAvL1RvIHN0b3JlIG5hbWUgZm9yIHRva2VuCiAgICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJibG9ja29wdGlvbnMiOwogICAgCiAgICAgIC8vVG8gc3RvcmUgc3ltYm9sIGZvciB0b2tlbiAgICAgICAKICAgICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiQk9QVCI7CiAgICAKICAgICAgLy9UbyBzdG9yZSBkZWNpbWFsIHBsYWNlcyBmb3IgdG9rZW4KICAgICAgdWludDggcHVibGljIGRlY2ltYWxzID0gODsgICAgCiAgICAKICAgICAgLy9UbyBzdG9yZSBjdXJyZW50IHN1cHBseSBvZiBCT1BUCiAgICAgIHVpbnQgcHVibGljIHRvdGFsU3VwcGx5PTIwMDAwMDAwICogMTAwMDAwMDAwOwogICAgICAKICAgICAgIHVpbnQgcHJlX2ljb19zdGFydDsKICAgICAgIHVpbnQgcHJlX2ljb19lbmQ7CiAgICAgICB1aW50IGljb19zdGFydDsKICAgICAgIHVpbnQgaWNvX2VuZDsKICAgICAgIG1hcHBpbmcodWludCA9PiBhZGRyZXNzKSBpbnZlc3RvcjsKICAgICAgIG1hcHBpbmcodWludCA9PiB1aW50KSB3ZWlyZWNlaXZlZDsKICAgICAgIG1hcHBpbmcodWludCA9PiB1aW50KSBvcHRzU2VudDsKICAgICAgCiAgICAgICAgZXZlbnQgcHJlaWNvKHVpbnQgY291bnRlcixhZGRyZXNzIGludmVzdG9ycyx1aW50IHdlaVJlY2VpdmVkLHVpbnQgYm9wdHNlbnQpOwogICAgICAgIGV2ZW50IGljbyh1aW50IGNvdW50ZXIsYWRkcmVzcyBpbnZlc3RvcnMsdWludCB3ZWlSZWNlaXZlZCx1aW50IGJvcHRzZW50KTsKICAgICAgICB1aW50IGNvdW50ZXI9MDsKICAgICAgICB1aW50IHByb2ZpdF9zZW50PTA7CiAgICAgICAgYm9vbCBzdG9wcGVkID0gZmFsc2U7CiAgICAgICAgCiAgICAgIGZ1bmN0aW9uIGJsb2Nrb3B0aW9ucygpewogICAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gdG90YWxTdXBwbHkgOyAvL3RvIGhhbmRsZSA4IGRlY2ltYWwgcGxhY2VzCiAgICAgICAgICBwcmVfaWNvX3N0YXJ0ID0gbm93OwogICAgICAgICAgcHJlX2ljb19lbmQgPSBwcmVfaWNvX3N0YXJ0ICsgNyBkYXlzOwogICAgICAgICAgCiAgICAgICAgfQogICAgICAvL21hcCB0byBzdG9yZSBCT1BUIGJhbGFuY2UgY29ycmVzcG9uZGluZyB0byBhZGRyZXNzCiAgICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBiYWxhbmNlczsKICAgIAogICAgICAvL1RvIHN0b3JlIHNwZW5kZXIgd2l0aCBhbGxvd2VkIGFtb3VudCBvZiBCT1BUIHRvIHNwZW5kIGNvcnJlc3BvbmRpbmcgdG8gQk9QVHMgaG9sZGVyJ3MgYWNjb3VudAogICAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIGFsbG93ZWQ7CiAgICAKICAgICAgLy9vd25lciB2YXJpYWJsZSB0byBzdG9yZSBjb250cmFjdCBvd25lciBhY2NvdW50CiAgICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgICAKICAgICAgLy9tb2RpZmllciB0byBjaGVjayB0cmFuc2FjdGlvbiBpbml0aWF0b3IgaXMgb25seSBvd25lcgogICAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgPT0gb3duZXIpCiAgICAgICAgICBfOwogICAgICB9CiAgICAKICAgICAgLy9vd25lcnNoaXAgY2FuIGJlIHRyYW5zZmVycmVkIHRvIHByb3ZpZGVkIG5ld093bmVyLiBGdW5jdGlvbiBjYW4gb25seSBiZSBpbml0aWF0ZWQgYnkgY29udHJhY3Qgb3duZXIncyBhY2NvdW50CiAgICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICAgICAgICBiYWxhbmNlc1tuZXdPd25lcl0gPSBiYWxhbmNlc1tvd25lcl07CiAgICAgICAgICBiYWxhbmNlc1tvd25lcl09MDsKICAgICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICAgIH0KCiAgICAgICAgLyoqCiAgICAgICAgKiBNdWx0aXBsaWNhdGlvbiB3aXRoIHNhZmV0eSBjaGVjawogICAgICAgICovCiAgICAgICAgZnVuY3Rpb24gTXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgICB1aW50IGMgPSBhICogYjsKICAgICAgICAgIC8vY2hlY2sgcmVzdWx0IHNob3VsZCBub3QgYmUgb3RoZXIgd2lzZSB1bnRpbCBhPTAKICAgICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgICByZXR1cm4gYzsKICAgICAgICB9CiAgICAKICAgICAgICAvKioKICAgICAgICAqIERpdmlzaW9uIHdpdGggc2FmZXR5IGNoZWNrCiAgICAgICAgKi8KICAgICAgICBmdW5jdGlvbiBEaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICAgIC8vb3ZlcmZsb3cgY2hlY2s7IGIgbXVzdCBub3QgYmUgMAogICAgICAgICAgYXNzZXJ0KGIgPiAwKTsKICAgICAgICAgIHVpbnQgYyA9IGEgLyBiOwogICAgICAgICAgYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7CiAgICAgICAgICByZXR1cm4gYzsKICAgICAgICB9CiAgICAKICAgICAgICAvKioKICAgICAgICAqIFN1YnRyYWN0aW9uIHdpdGggc2FmZXR5IGNoZWNrCiAgICAgICAgKi8KICAgICAgICBmdW5jdGlvbiBTdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICAgIC8vYiBtdXN0IGJlIGdyZWF0ZXIgdGhhdCBhIGFzIHdlIG5lZWQgdG8gc3RvcmUgdmFsdWUgaW4gdW5zaWduZWQgaW50ZWdlcgogICAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgICByZXR1cm4gYSAtIGI7CiAgICAgICAgfQogICAgCiAgICAgICAgLyoqCiAgICAgICAgKiBBZGRpdGlvbiB3aXRoIHNhZmV0eSBjaGVjawogICAgICAgICovCiAgICAgICAgZnVuY3Rpb24gQWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgICB1aW50IGMgPSBhICsgYjsKICAgICAgICAgIC8vcmVzdWx0IG11c3QgYmUgZ3JlYXRlciBhcyBhIG9yIGIgY2FuIG5vdCBiZSBuZWdhdGl2ZQogICAgICAgICAgYXNzZXJ0KGM+PWEgJiYgYz49Yik7CiAgICAgICAgICByZXR1cm4gYzsKICAgICAgICB9CiAgICAKICAgICAgLyoqCiAgICAgICAgKiBhc3NlcnQgdXNlZCBpbiBkaWZmZXJlbnQgTWF0aCBmdW5jdGlvbnMKICAgICAgICAqLwogICAgICAgIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgewogICAgICAgICAgaWYgKCFhc3NlcnRpb24pIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgCiAgICAvL0ltcGxlbWVudGF0aW9uIGZvciB0cmFuc2ZlcnJpbmcgQk9QVCB0byBwcm92aWRlZCBhZGRyZXNzIAogICAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wpewoKICAgICAgICB1aW50IGNoZWNrID0gYmFsYW5jZXNbb3duZXJdIC0gX3ZhbHVlOwogICAgICAgIGlmKG1zZy5zZW5kZXIgPT0gb3duZXIgJiYgbm93Pj1wcmVfaWNvX3N0YXJ0ICYmIG5vdzw9cHJlX2ljb19lbmQgJiYgY2hlY2sgPCAxOTAwMDAwMDAwMDAwMDAwKQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmKG1zZy5zZW5kZXIgPT1vd25lciAmJiBub3c+PXByZV9pY29fZW5kICYmIG5vdzw9KHByZV9pY29fZW5kICsgMTYgZGF5cykgJiYgY2hlY2sgPCAxODUwMDAwMDAwMDAwMDAwKQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmKG1zZy5zZW5kZXIgPT0gb3duZXIgJiYgY2hlY2sgPCAxNTAwMDAwMDAwMDAwMDAgJiYgbm93IDwgaWNvX3N0YXJ0ICsgMTgwIGRheXMpCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKG1zZy5zZW5kZXIgPT0gb3duZXIgJiYgY2hlY2sgPCAxMDAwMDAwMDAwMDAwMDAgJiYgbm93IDwgaWNvX3N0YXJ0ICsgMzYwIGRheXMpCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKG1zZy5zZW5kZXIgPT0gb3duZXIgJiYgY2hlY2sgPCA1MDAwMDAwMDAwMDAwMCAmJiBub3cgPCBpY29fc3RhcnQgKyA1NDAgZGF5cykKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgLy9DaGVjayBwcm92aWRlZCBCT1BUIHNob3VsZCBub3QgYmUgMAogICAgICAgZWxzZSBpZiAoX3ZhbHVlID4gMCkgewogICAgICAgICAgLy9kZWR1Y3QgT1BUUyBhbW91bnQgZnJvbSB0cmFuc2FjdGlvbiBpbml0aWF0b3IKICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gU3ViKGJhbGFuY2VzW21zZy5zZW5kZXJdLF92YWx1ZSk7CiAgICAgICAgICAvL0FkZCBPUFRTIHRvIGJhbGFjZSBvZiB0YXJnZXQgYWNjb3VudAogICAgICAgICAgYmFsYW5jZXNbX3RvXSA9IEFkZChiYWxhbmNlc1tfdG9dLF92YWx1ZSk7CiAgICAgICAgICAvL0VtaXQgZXZlbnQgZm9yIHRyYW5zZmVycmluZyBCT1BUCiAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgCiAgICAgIC8vVHJhbnNmZXIgaW5pdGlhdGVkIGJ5IHNwZW5kZXIgCiAgICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIAogICAgICAgIC8vQ2hlY2sgcHJvdmlkZWQgQk9QVCBzaG91bGQgbm90IGJlIDAKICAgICAgICBpZiAoX3ZhbHVlID4gMCkgewogICAgICAgICAgLy9HZXQgYW1vdW50IG9mIEJPUFQgZm9yIHdoaWNoIHNwZW5kZXIgaXMgYXV0aG9yaXplZAogICAgICAgICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKICAgICAgICAgIC8vQWRkIGFtb3VudCBvZiBCT1BUIGluIHRyYXJnZXQgYWNjb3VudCdzIGJhbGFuY2UKICAgICAgICAgIGJhbGFuY2VzW190b10gPSBBZGQoYmFsYW5jZXNbX3RvXSwgX3ZhbHVlKTsKICAgICAgICAgIC8vRGVkdWN0IEJPUFQgYW1vdW50IGZyb20gX2Zyb20gYWNjb3VudAogICAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gU3ViKGJhbGFuY2VzW19mcm9tXSwgX3ZhbHVlKTsKICAgICAgICAgIC8vRGVkdWN0IEF1dGhvcml6ZWQgYW1vdW50IGZvciBzcGVuZGVyCiAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IFN1YihfYWxsb3dhbmNlLCBfdmFsdWUpOwogICAgICAgICAgLy9FbWl0IGV2ZW50IGZvciBUcmFuc2ZlcgogICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH1lbHNlewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgICAKICAgICAgLy9HZXQgQk9QVCBiYWxhbmNlIGZvciBwcm92aWRlZCBhZGRyZXNzCiAgICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICAgIH0KICAgICAgCiAgICAgIC8vQWRkIHNwZW5kZXIgdG8gYXV0aG9yaXplIGZvciBzcGVuZGluZyBzcGVjaWZpZWQgYW1vdW50IG9mIEJPUFQgCiAgICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICAvL0VtaXQgZXZlbnQgZm9yIGFwcHJvdmFsIHByb3ZpZGVkIHRvIHNwZW5kZXIKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICAKICAgICAgLy9HZXQgQk9QVCBhbW91bnQgdGhhdCBzcGVuZGVyIGNhbiBzcGVuZCBmcm9tIHByb3ZpZGVkIG93bmVyJ3MgYWNjb3VudCAKICAgICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IHJlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgICB9CiAgICAgIAogICAgICAgLyoJCiAgICAgICAqIEZhaWxzYWZlIGRyYWluCiAgICAgICAqLwogICAgCWZ1bmN0aW9uIGRyYWluKCkgb25seU93bmVyIHsKICAgIAkJb3duZXIuc2VuZCh0aGlzLmJhbGFuY2UpOwogICAgCX0KCQogICAgCWZ1bmN0aW9uKCkgcGF5YWJsZSAKICAgIAl7ICAgCiAgICAJICAgIGlmKHN0b3BwZWQgJiYgbXNnLnNlbmRlciAhPSBvd25lcikKICAgIAkgICAgcmV2ZXJ0KCk7CiAgICAJICAgICBlbHNlIGlmKG1zZy5zZW5kZXIgPT0gb3duZXIpCiAgICAJICAgIHsKICAgIAkgICAgICAgIHByb2ZpdF9zZW50ID0gbXNnLnZhbHVlOwogICAgCSAgICB9CiAgICAJICAgZWxzZSBpZihub3c+PXByZV9pY29fc3RhcnQgJiYgbm93PD1wcmVfaWNvX2VuZCkKICAgIAkgICAgewogICAgCSAgICAgICAgdWludCBjaGVjayA9IGJhbGFuY2VzW293bmVyXS0oKDQwMCptc2cudmFsdWUpLzEwMDAwMDAwMDAwKTsKICAgIAkgICAgICAgIGlmKGNoZWNrID49IDE5MDAwMDAwMDAwMDAwMDApCiAgICAgICAgICAgICAgICBwcmVfaWNvKG1zZy5zZW5kZXIsbXNnLnZhbHVlKTsKICAgIAkgICAgfQogICAgICAgICAgICBlbHNlIGlmIChub3c+PWljb19zdGFydCAmJiBub3c8aWNvX2VuZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbWFpbl9pY28obXNnLnNlbmRlcixtc2cudmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgIH0KICAgICAgIAogICAgICAgZnVuY3Rpb24gcHJlX2ljbyhhZGRyZXNzIHNlbmRlciwgdWludCB2YWx1ZSlwYXlhYmxlCiAgICAgICB7CiAgICAgICAgICBjb3VudGVyID0gY291bnRlcisxOwoJICAgICAgaW52ZXN0b3JbY291bnRlcl09c2VuZGVyOwogICAgICAgICAgd2VpcmVjZWl2ZWRbY291bnRlcl09dmFsdWU7CiAgICAgICAgICBvcHRzU2VudFtjb3VudGVyXSA9ICg0MDAqdmFsdWUpLzEwMDAwMDAwMDAwOwogICAgICAgICAgYmFsYW5jZXNbb3duZXJdPWJhbGFuY2VzW293bmVyXS1vcHRzU2VudFtjb3VudGVyXTsKICAgICAgICAgIGJhbGFuY2VzW2ludmVzdG9yW2NvdW50ZXJdXSs9b3B0c1NlbnRbY291bnRlcl07CiAgICAgICAgICBwcmVpY28oY291bnRlcixpbnZlc3Rvcltjb3VudGVyXSx3ZWlyZWNlaXZlZFtjb3VudGVyXSxvcHRzU2VudFtjb3VudGVyXSk7CiAgICAgICB9CiAgICAgICAKICAgICAgIGZ1bmN0aW9uICBtYWluX2ljbyhhZGRyZXNzIHNlbmRlciwgdWludCB2YWx1ZSlwYXlhYmxlCiAgICAgICB7CiAgICAgICAgICAgaWYobm93ID49IGljb19zdGFydCAmJiBub3cgPD0gKGljb19zdGFydCArIDcgZGF5cykpIC8vMjAlIGRpc2NvdW50IG9uIEJPUFQKICAgICAgICAgICB7CiAgICAgICAgICAgICAgY291bnRlciA9IGNvdW50ZXIrMTsKICAgIAkgICAgICBpbnZlc3Rvcltjb3VudGVyXT1zZW5kZXI7CiAgICAgICAgICAgICAgd2VpcmVjZWl2ZWRbY291bnRlcl09dmFsdWU7CiAgICAgICAgICAgICAgb3B0c1NlbnRbY291bnRlcl0gPSAoMjUwKnZhbHVlKS8xMDAwMDAwMDAwMDsKICAgICAgICAgICAgICBiYWxhbmNlc1tvd25lcl09YmFsYW5jZXNbb3duZXJdLW9wdHNTZW50W2NvdW50ZXJdOwogICAgICAgICAgICAgIGJhbGFuY2VzW2ludmVzdG9yW2NvdW50ZXJdXSs9b3B0c1NlbnRbY291bnRlcl07CiAgICAgICAgICAgICAgaWNvKGNvdW50ZXIsaW52ZXN0b3JbY291bnRlcl0sd2VpcmVjZWl2ZWRbY291bnRlcl0sb3B0c1NlbnRbY291bnRlcl0pOwogICAgICAgICAgIH0KICAgICAgICAgICBlbHNlIGlmIChub3cgPj0gKGljb19zdGFydCArIDcgZGF5cykgJiYgbm93IDw9IChpY29fc3RhcnQgKyAxNCBkYXlzKSkgLy8xMCUgZGlzY291bnQgb24gQk9QVAogICAgICAgICAgIHsKICAgICAgICAgICAgICBjb3VudGVyID0gY291bnRlcisxOwogICAgCSAgICAgIGludmVzdG9yW2NvdW50ZXJdPXNlbmRlcjsKICAgICAgICAgICAgICB3ZWlyZWNlaXZlZFtjb3VudGVyXT12YWx1ZTsKICAgICAgICAgICAgICBvcHRzU2VudFtjb3VudGVyXSA9ICgyMjAqdmFsdWUpLzEwMDAwMDAwMDAwOwogICAgICAgICAgICAgIGJhbGFuY2VzW293bmVyXT1iYWxhbmNlc1tvd25lcl0tb3B0c1NlbnRbY291bnRlcl07CiAgICAgICAgICAgICAgYmFsYW5jZXNbaW52ZXN0b3JbY291bnRlcl1dKz1vcHRzU2VudFtjb3VudGVyXTsKICAgICAgICAgICAgICBpY28oY291bnRlcixpbnZlc3Rvcltjb3VudGVyXSx3ZWlyZWNlaXZlZFtjb3VudGVyXSxvcHRzU2VudFtjb3VudGVyXSk7CiAgICAgICAgICAgfQogICAgICAgICAgIGVsc2UgaWYgKG5vdyA+PSAoaWNvX3N0YXJ0ICsgMTQgZGF5cykgJiYgbm93IDw9IChpY29fc3RhcnQgKyAzMSBkYXlzKSkgLy9ubyBkaXNjb3VudCBvbiBCT1BUCiAgICAgICAgICAgewogICAgICAgICAgICAgIGNvdW50ZXIgPSBjb3VudGVyKzE7CiAgICAJICAgICAgaW52ZXN0b3JbY291bnRlcl09c2VuZGVyOwogICAgICAgICAgICAgIHdlaXJlY2VpdmVkW2NvdW50ZXJdPXZhbHVlOwogICAgICAgICAgICAgIG9wdHNTZW50W2NvdW50ZXJdID0gKDIwMCp2YWx1ZSkvMTAwMDAwMDAwMDA7CiAgICAgICAgICAgICAgYmFsYW5jZXNbb3duZXJdPWJhbGFuY2VzW293bmVyXS1vcHRzU2VudFtjb3VudGVyXTsKICAgICAgICAgICAgICBiYWxhbmNlc1tpbnZlc3Rvcltjb3VudGVyXV0rPW9wdHNTZW50W2NvdW50ZXJdOwogICAgICAgICAgICAgIGljbyhjb3VudGVyLGludmVzdG9yW2NvdW50ZXJdLHdlaXJlY2VpdmVkW2NvdW50ZXJdLG9wdHNTZW50W2NvdW50ZXJdKTsKICAgICAgICAgICB9CiAgICAgICB9CiAgICAgICAKICAgICAgIGZ1bmN0aW9uIHN0YXJ0SUNPKClvbmx5T3duZXIKICAgICAgIHsKICAgICAgICAgICBpY29fc3RhcnQgPSBub3c7CiAgICAgICAgICAgaWNvX2VuZD1pY29fc3RhcnQgKyAzMSBkYXlzOwogICAgICAgICAgIHByZV9pY29fc3RhcnQgPSAwOwogICAgICAgICAgIHByZV9pY29fZW5kID0gMDsKICAgICAgICAgICAKICAgICAgIH0KICAgICAgIAogICAgICAKICAgICAgICBmdW5jdGlvbiBlbmRJQ08oKW9ubHlPd25lcgogICAgICAgewogICAgICAgICAgc3RvcHBlZD10cnVlOwogICAgICAgICAgaWYoYmFsYW5jZXNbb3duZXJdID4gMTUwMDAwMDAwMDAwMDAwKQogICAgICAgICAgewogICAgICAgICAgICAgIHVpbnQgYnVybmVkVG9rZW5zID0gYmFsYW5jZXNbb3duZXJdLTE1MDAwMDAwMDAwMDAwMDsKICAgICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LWJ1cm5lZFRva2VuczsKICAgICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSAxNTAwMDAwMDAwMDAwMDA7CiAgICAgICAgICB9CiAgICAgICB9CgogICAgICAgIHN0cnVjdCBkaXN0cmlidXRpb25TdHJ1Y3QKICAgICAgICB7CiAgICAgICAgICAgIHVpbnQgZGl2aWRlbnQ7CiAgICAgICAgICAgIGJvb2wgZGl2aWRlbnRTdGF0dXM7CiAgICAgICAgfSAgIAogICAgICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBkaXN0cmlidXRpb25TdHJ1Y3QpIGRpdmlkZW50c01hcDsKICAgICAgICBtYXBwaW5nKHVpbnQgPT4gYWRkcmVzcylyZXF1ZXN0b3I7CiAgIAogICAgICAgICBldmVudCBkaXZpZGVudFNlbnQodWludCByZXF1ZXN0TnVtYmVyLGFkZHJlc3MgdG8sdWludCBkaXZpKTsKICAgICAgICAgdWludCByZXF1ZXN0Q291bnQ9MDsKICAgICAgICAgIAogICAgICAgICAgZnVuY3Rpb24gZGlzdHJpYnV0ZSgpb25seU93bmVyCiAgICAgICAgICB7CiAgICAgICAgICAgICAgZm9yKHVpbnQgaT0xOyBpIDw9IGNvdW50ZXI7aSsrKQogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGRpdmlkZW50c01hcFtpbnZlc3RvcltpXV0uZGl2aWRlbnQgPSAoYmFsYW5jZU9mKGludmVzdG9yW2ldKSpwcm9maXRfc2VudCkvKHRvdGFsU3VwcGx5KjEwMDAwMDAwMCk7CiAgICAgICAgICAgICAgICBkaXZpZGVudHNNYXBbaW52ZXN0b3JbaV1dLmRpdmlkZW50U3RhdHVzID0gdHJ1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICAgCiAgICAgICAgICBmdW5jdGlvbiByZXF1ZXN0RGl2aWRlbnQoKXBheWFibGUKICAgICAgICAgIHsKICAgICAgICAgICAgICByZXF1ZXN0Q291bnQgPSByZXF1ZXN0Q291bnQgKyAxOwogICAgICAgICAgICAgIHJlcXVlc3RvcltyZXF1ZXN0Q291bnRdID0gbXNnLnNlbmRlcjsKICAgICAgICAgICAgICAgICAgaWYoZGl2aWRlbnRzTWFwW3JlcXVlc3RvcltyZXF1ZXN0Q291bnRdXS5kaXZpZGVudFN0YXR1cyA9PSB0cnVlKQogICAgICAgICAgICAgICAgICB7ICAgCiAgICAgICAgICAgICAgICAgICAgICBkaXZpZGVudFNlbnQocmVxdWVzdENvdW50LHJlcXVlc3RvcltyZXF1ZXN0Q291bnRdLGRpdmlkZW50c01hcFtyZXF1ZXN0b3JbcmVxdWVzdENvdW50XV0uZGl2aWRlbnQpOwogICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdG9yW3JlcXVlc3RDb3VudF0uc2VuZChkaXZpZGVudHNNYXBbcmVxdWVzdG9yW3JlcXVlc3RDb3VudF1dLmRpdmlkZW50KTsKICAgICAgICAgICAgICAgICAgICAgIGRpdmlkZW50c01hcFtyZXF1ZXN0b3JbcmVxdWVzdENvdW50XV0uZGl2aWRlbnRTdGF0dXMgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAKICAgICAgICAgIH0KCn0='.
	

]
