Class {
	#name : #SRTc4b4c7776102736093222997cdcd242f3e025be9,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc4b4c7776102736093222997cdcd242f3e025be9 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICAgICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAgICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9Cn0KCgpjb250cmFjdCBQcmVTYWxlVG9rZW4gewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CiAgICBldmVudCBBbGxvd0V4Y2hhbmdlcihhZGRyZXNzIGluZGV4ZWQgZXhjaGFuZ2VyKTsKICAgIGV2ZW50IFJldm9rZUV4Y2hhbmdlcihhZGRyZXNzIGluZGV4ZWQgZXhjaGFuZ2VyKTsKICAgIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CiAgICBldmVudCBNaW50RmluaXNoZWQoKTsKICAgIGV2ZW50IEV4Y2hhbmdlKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50MjU2IGV4Y2hhbmdlZFZhbHVlLCBzdHJpbmcgc3ltYm9sLCB1aW50MjU2IGdyYW50ZWRWYWx1ZSk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKCiAgICAvLy8gVGhlIG93bmVyIG9mIHRoZSBjb250cmFjdC4KICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIC8vLyBUaGUgdG90YWwgbnVtYmVyIG9mIG1pbnRlZCB0b2tlbnMsIGV4Y2x1ZGluZyBkZXN0cm95ZWQgdG9rZW5zLgogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgLy8vIFRoZSB0b2tlbiBiYWxhbmNlIG9mIGVhY2ggYWRkcmVzcy4KICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgICAvLy8gVGhlIGZ1bGwgbGlzdCBvZiBhZGRyZXNzZXMgd2UgaGF2ZSBtaW50ZWQgdG9rZW5zIGZvciwgc3RvcmVkIGZvcgogICAgLy8vIGV4Y2hhbmdlIHB1cnBvc2VzLgogICAgYWRkcmVzc1tdIHB1YmxpYyBob2xkZXJzOwoKICAgIC8vLyBXaGV0aGVyIHRoZSB0b2tlbiBpcyBzdGlsbCBtaW50YWJsZS4KICAgIGJvb2wgcHVibGljIG1pbnRpbmdGaW5pc2hlZCA9IGZhbHNlOwoKICAgIC8vLyBBZGRyZXNzZXMgYWxsb3dlZCB0byBleGNoYW5nZSB0aGUgcHJlc2FsZSB0b2tlbnMgZm9yIHRoZSBmaW5hbAogICAgLy8vIGFuZC9vciBpbnRlcm1lZGlhcnkgdG9rZW5zLgogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBleGNoYW5nZXJzOwoKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seUV4Y2hhbmdlcigpIHsKICAgICAgICByZXF1aXJlKGV4Y2hhbmdlcnNbbXNnLnNlbmRlcl0pOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gUHJlU2FsZVRva2VuKCkgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd0V4Y2hhbmdlcihhZGRyZXNzIF9leGNoYW5nZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobWludGluZ0ZpbmlzaGVkKTsKICAgICAgICByZXF1aXJlKF9leGNoYW5nZXIgIT0gMHgwKTsKICAgICAgICByZXF1aXJlKCFleGNoYW5nZXJzW19leGNoYW5nZXJdKTsKCiAgICAgICAgZXhjaGFuZ2Vyc1tfZXhjaGFuZ2VyXSA9IHRydWU7CiAgICAgICAgQWxsb3dFeGNoYW5nZXIoX2V4Y2hhbmdlcik7CiAgICB9CgogICAgZnVuY3Rpb24gZXhjaGFuZ2UoCiAgICAgICAgYWRkcmVzcyBfZnJvbSwKICAgICAgICB1aW50MjU2IF9hbW91bnQsCiAgICAgICAgc3RyaW5nIF9zeW1ib2wsCiAgICAgICAgdWludDI1NiBfZ3JhbnRlZFZhbHVlCiAgICApCiAgICAgICAgb25seUV4Y2hhbmdlcgogICAgICAgIHB1YmxpYwogICAgICAgIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgcmVxdWlyZShtaW50aW5nRmluaXNoZWQpOyAvLyBBbHdheXMgdHJ1ZSBkdWUgdG8gZXhjaGFuZ2VycyByZXF1aXJpbmcgdGhlIHNhbWUgY29uZGl0aW9uCiAgICAgICAgcmVxdWlyZShfZnJvbSAhPSAweDApOwogICAgICAgIHJlcXVpcmUoIWV4Y2hhbmdlcnNbX2Zyb21dKTsKICAgICAgICByZXF1aXJlKF9hbW91bnQgPiAwKTsKICAgICAgICByZXF1aXJlKF9hbW91bnQgPD0gYmFsYW5jZXNbX2Zyb21dKTsKCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLmFkZChfYW1vdW50KTsKICAgICAgICBFeGNoYW5nZSgKICAgICAgICAgICAgX2Zyb20sCiAgICAgICAgICAgIF9hbW91bnQsCiAgICAgICAgICAgIF9zeW1ib2wsCiAgICAgICAgICAgIF9ncmFudGVkVmFsdWUKICAgICAgICApOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBtc2cuc2VuZGVyLCBfYW1vdW50KTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoIW1pbnRpbmdGaW5pc2hlZCk7CgogICAgICAgIG1pbnRpbmdGaW5pc2hlZCA9IHRydWU7CiAgICAgICAgTWludEZpbmlzaGVkKCk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gMHgwKTsKICAgICAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOwogICAgICAgIHJlcXVpcmUoX2Ftb3VudCA+IDApOwoKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CiAgICAgICAgaG9sZGVycy5wdXNoKF90byk7CiAgICAgICAgTWludChfdG8sIF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKDB4MCwgX3RvLCBfYW1vdW50KTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gcmV2b2tlRXhjaGFuZ2VyKGFkZHJlc3MgX2V4Y2hhbmdlcikgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShtaW50aW5nRmluaXNoZWQpOwogICAgICAgIHJlcXVpcmUoX2V4Y2hhbmdlciAhPSAweDApOwogICAgICAgIHJlcXVpcmUoZXhjaGFuZ2Vyc1tfZXhjaGFuZ2VyXSk7CgogICAgICAgIGRlbGV0ZSBleGNoYW5nZXJzW19leGNoYW5nZXJdOwogICAgICAgIFJldm9rZUV4Y2hhbmdlcihfZXhjaGFuZ2VyKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIF90bykgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIF90byk7CiAgICAgICAgb3duZXIgPSBfdG87CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQp9CgoKY29udHJhY3QgUHJlU2FsZSB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKICAgIGV2ZW50IFRva2VuUHVyY2hhc2UoYWRkcmVzcyBpbmRleGVkIHB1cmNoYXNlciwgYWRkcmVzcyBpbmRleGVkIGJlbmVmaWNpYXJ5LCB1aW50MjU2IHZhbHVlLCB1aW50MjU2IGFtb3VudCk7CiAgICBldmVudCBQYXVzZSgpOwogICAgZXZlbnQgVW5wYXVzZSgpOwogICAgZXZlbnQgV2l0aGRyYXdhbChhZGRyZXNzIGluZGV4ZWQgd2FsbGV0LCB1aW50MjU2IHdlaUFtb3VudCk7CiAgICBldmVudCBFeHRlbmRlZCh1aW50MjU2IHVudGlsKTsKICAgIGV2ZW50IEZpbmFsaXplZCgpOwogICAgZXZlbnQgUmVmdW5kaW5nKCk7CiAgICBldmVudCBSZWZ1bmRlZChhZGRyZXNzIGluZGV4ZWQgYmVuZWZpY2lhcnksIHVpbnQyNTYgd2VpQW1vdW50KTsKICAgIGV2ZW50IFdoaXRlbGlzdGVkKGFkZHJlc3MgaW5kZXhlZCBwYXJ0aWNpcGFudCwgdWludDI1NiB3ZWlBbW91bnQpOwoKICAgIC8vLyBUaGUgb3duZXIgb2YgdGhlIGNvbnRyYWN0LgogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgLy8vIFRoZSB0b2tlbiB3ZSdyZSBzZWxsaW5nLgogICAgUHJlU2FsZVRva2VuIHB1YmxpYyB0b2tlbjsKCiAgICAvLy8gVGhlIG1pbmltdW0gZ29hbCB0byByZWFjaC4gSWYgdGhlIGdvYWwgaXMgbm90IHJlYWNoZWQsIGZpbmlzaGluZwogICAgLy8vIHRoZSBzYWxlIHdpbGwgZW5hYmxlIHJlZnVuZHMuCiAgICB1aW50MjU2IHB1YmxpYyBnb2FsOwoKICAgIC8vLyBUaGUgc2FsZSBwZXJpb2QuCiAgICB1aW50MjU2IHB1YmxpYyBzdGFydFRpbWU7CiAgICB1aW50MjU2IHB1YmxpYyBlbmRUaW1lOwogICAgdWludDI1NiBwdWJsaWMgdGltZUV4dGVuc2lvbjsKCiAgICAvLy8gVGhlIG51bW5iZXIgb2YgdG9rZW5zIHRvIG1pbnQgcGVyIHdlaS4KICAgIHVpbnQyNTYgcHVibGljIHJhdGU7CgogICAgLy8vIFRoZSB0b3RhbCBudW1iZXIgb2Ygd2VpIHJhaXNlZC4gTm90ZSB0aGF0IHRoZSBjb250cmFjdCdzIGJhbGFuY2UgbWF5CiAgICAvLy8gZGlmZmVyIGZyb20gdGhpcyB2YWx1ZSBpZiBzb21lb25lIGhhcyBkZWNpZGVkIHRvIGZvcmNlZnVsbHkgc2VuZCB1cwogICAgLy8vIGV0aGVyLgogICAgdWludDI1NiBwdWJsaWMgd2VpUmFpc2VkOwoKICAgIC8vLyBUaGUgd2FsbGV0IHRoYXQgd2lsbCByZWNlaXZlIHRoZSBjb250cmFjdCdzIGJhbGFuY2Ugb25jZSB0aGUgc2FsZQogICAgLy8vIGZpbmlzaGVzIGFuZCB0aGUgbWluaW11bSBnb2FsIGlzIG1ldC4KICAgIGFkZHJlc3MgcHVibGljIHdhbGxldDsKCiAgICAvLy8gVGhlIGxpc3Qgb2YgYWRkcmVzc2VzIHRoYXQgYXJlIGFsbG93ZWQgdG8gcGFydGljaXBhdGUgaW4gdGhlIHNhbGUsCiAgICAvLy8gYW5kIHVwIHRvIHdoYXQgYW1vdW50LgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyB3aGl0ZWxpc3RlZDsKCiAgICAvLy8gVGhlIGFtb3VudCBvZiB3ZWkgaW52ZXN0ZWQgYnkgZWFjaCBpbnZlc3Rvci4KICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgZGVwb3NpdGVkOwoKICAgIC8vLyBBbiBlbnVtZXJhYmxlIGxpc3Qgb2YgaW52ZXN0b3JzLgogICAgYWRkcmVzc1tdIHB1YmxpYyBpbnZlc3RvcnM7CgogICAgLy8vIFdoZXRoZXIgdGhlIHNhbGUgaXMgcGF1c2VkLgogICAgYm9vbCBwdWJsaWMgcGF1c2VkID0gZmFsc2U7CgogICAgLy8vIFdoZXRoZXIgdGhlIHNhbGUgaGFzIGZpbmlzaGVkLCBhbmQgd2hlbi4KICAgIGJvb2wgcHVibGljIGZpbmlzaGVkID0gZmFsc2U7CiAgICB1aW50MjU2IHB1YmxpYyBmaW5pc2hlZEF0OwoKICAgIC8vLyBXaGV0aGVyIHdlJ3JlIGFjY2VwdGluZyByZWZ1bmRzLgogICAgYm9vbCBwdWJsaWMgcmVmdW5kaW5nID0gZmFsc2U7CgogICAgLy8vIFRoZSB0b3RhbCBudW1iZXIgb2Ygd2VpIHJlZnVuZGVkLgogICAgdWludDI1NiBwdWJsaWMgd2VpUmVmdW5kZWQ7CgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBzYWxlT3BlbigpIHsKICAgICAgICByZXF1aXJlKCFmaW5pc2hlZCk7CiAgICAgICAgcmVxdWlyZSghcGF1c2VkKTsKICAgICAgICByZXF1aXJlKG5vdyA+PSBzdGFydFRpbWUpOwogICAgICAgIHJlcXVpcmUobm93IDw9IGVuZFRpbWUgKyB0aW1lRXh0ZW5zaW9uKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIFByZVNhbGUoCiAgICAgICAgdWludDI1NiBfZ29hbCwKICAgICAgICB1aW50MjU2IF9zdGFydFRpbWUsCiAgICAgICAgdWludDI1NiBfZW5kVGltZSwKICAgICAgICB1aW50MjU2IF9yYXRlLAogICAgICAgIGFkZHJlc3MgX3dhbGxldAogICAgKQogICAgICAgIHBheWFibGUKICAgIHsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+IDApOwogICAgICAgIHJlcXVpcmUoX2dvYWwgPiAwKTsKICAgICAgICByZXF1aXJlKF9zdGFydFRpbWUgPj0gbm93KTsKICAgICAgICByZXF1aXJlKF9lbmRUaW1lID49IF9zdGFydFRpbWUpOwogICAgICAgIHJlcXVpcmUoX3JhdGUgPiAwKTsKICAgICAgICByZXF1aXJlKF93YWxsZXQgIT0gMHgwKTsKCiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIGdvYWwgPSBfZ29hbDsKICAgICAgICBzdGFydFRpbWUgPSBfc3RhcnRUaW1lOwogICAgICAgIGVuZFRpbWUgPSBfZW5kVGltZTsKICAgICAgICByYXRlID0gX3JhdGU7CiAgICAgICAgd2FsbGV0ID0gX3dhbGxldDsKICAgICAgICB0b2tlbiA9IG5ldyBQcmVTYWxlVG9rZW4oKTsKCiAgICAgICAgd2FsbGV0LnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7CiAgICAgICAgYnV5VG9rZW5zKG1zZy5zZW5kZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIGJ1eVRva2VucyhhZGRyZXNzIF9iZW5lZmljaWFyeSkgc2FsZU9wZW4gcHVibGljIHBheWFibGUgewogICAgICAgIHJlcXVpcmUoX2JlbmVmaWNpYXJ5ICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID4gMCk7CgogICAgICAgIHVpbnQyNTYgd2VpQW1vdW50ID0gbXNnLnZhbHVlOwogICAgICAgIHVpbnQyNTYgbmV3RGVwb3NpdGVkID0gZGVwb3NpdGVkW19iZW5lZmljaWFyeV0uYWRkKHdlaUFtb3VudCk7CgogICAgICAgIHJlcXVpcmUobmV3RGVwb3NpdGVkIDw9IHdoaXRlbGlzdGVkW19iZW5lZmljaWFyeV0pOwoKICAgICAgICB1aW50MjU2IHRva2VucyA9IHdlaUFtb3VudC5tdWwocmF0ZSk7CgogICAgICAgIGRlcG9zaXRlZFtfYmVuZWZpY2lhcnldID0gbmV3RGVwb3NpdGVkOwogICAgICAgIGludmVzdG9ycy5wdXNoKF9iZW5lZmljaWFyeSk7CgogICAgICAgIHdlaVJhaXNlZCA9IHdlaVJhaXNlZC5hZGQod2VpQW1vdW50KTsKCiAgICAgICAgdG9rZW4ubWludChfYmVuZWZpY2lhcnksIHRva2Vucyk7CiAgICAgICAgVG9rZW5QdXJjaGFzZSgKICAgICAgICAgICAgbXNnLnNlbmRlciwKICAgICAgICAgICAgX2JlbmVmaWNpYXJ5LAogICAgICAgICAgICB3ZWlBbW91bnQsCiAgICAgICAgICAgIHRva2VucwogICAgICAgICk7CiAgICB9CgogICAgZnVuY3Rpb24gZXh0ZW5kVGltZSh1aW50MjU2IF90aW1lRXh0ZW5zaW9uKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKCFmaW5pc2hlZCk7CiAgICAgICAgcmVxdWlyZShub3cgPCBlbmRUaW1lICsgdGltZUV4dGVuc2lvbik7CiAgICAgICAgcmVxdWlyZShfdGltZUV4dGVuc2lvbiA+IDApOwoKICAgICAgICB0aW1lRXh0ZW5zaW9uID0gdGltZUV4dGVuc2lvbi5hZGQoX3RpbWVFeHRlbnNpb24pOwogICAgICAgIHJlcXVpcmUodGltZUV4dGVuc2lvbiA8PSA3IGRheXMpOwoKICAgICAgICBFeHRlbmRlZChlbmRUaW1lLmFkZCh0aW1lRXh0ZW5zaW9uKSk7CiAgICB9CgogICAgZnVuY3Rpb24gZmluaXNoKCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZSghZmluaXNoZWQpOwogICAgICAgIHJlcXVpcmUobm93ID4gZW5kVGltZSArIHRpbWVFeHRlbnNpb24pOwoKICAgICAgICBmaW5pc2hlZCA9IHRydWU7CiAgICAgICAgZmluaXNoZWRBdCA9IG5vdzsKICAgICAgICB0b2tlbi5maW5pc2hNaW50aW5nKCk7CgogICAgICAgIGlmIChnb2FsUmVhY2hlZCgpKSB7CiAgICAgICAgICAgIHRva2VuLnRyYW5zZmVyT3duZXJzaGlwKG93bmVyKTsKICAgICAgICAgICAgd2l0aGRyYXcoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWZ1bmRpbmcgPSB0cnVlOwogICAgICAgICAgICBSZWZ1bmRpbmcoKTsKICAgICAgICB9CgogICAgICAgIEZpbmFsaXplZCgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHBhdXNlKCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZSghcGF1c2VkKTsKICAgICAgICBwYXVzZWQgPSB0cnVlOwogICAgICAgIFBhdXNlKCk7CiAgICB9CgogICAgZnVuY3Rpb24gcmVmdW5kKGFkZHJlc3MgX2ludmVzdG9yKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoZmluaXNoZWQpOwogICAgICAgIHJlcXVpcmUocmVmdW5kaW5nKTsKICAgICAgICByZXF1aXJlKGRlcG9zaXRlZFtfaW52ZXN0b3JdID4gMCk7CgogICAgICAgIHVpbnQyNTYgd2VpQW1vdW50ID0gZGVwb3NpdGVkW19pbnZlc3Rvcl07CiAgICAgICAgZGVwb3NpdGVkW19pbnZlc3Rvcl0gPSAwOwogICAgICAgIHdlaVJlZnVuZGVkID0gd2VpUmVmdW5kZWQuYWRkKHdlaUFtb3VudCk7CgogICAgICAgIC8vIFdvcmsgYXJvdW5kIGEgU29saXVtIGxpbnRlciBidWcgYnkgY3JlYXRpbmcgYSB2YXJpYWJsZSB0aGF0IGRvZXMKICAgICAgICAvLyBub3QgYmVnaW4gd2l0aCBhbiB1bmRlcnNjb3JlLiBTZWUgWzFdIGZvciBtb3JlIGluZm9ybWF0aW9uLgogICAgICAgIC8vCiAgICAgICAgLy8gWzFdIGh0dHBzOi8vZ2l0aHViLmNvbS9kdWFyYWdoYXY4L1NvbGl1bS9pc3N1ZXMvMTE2CiAgICAgICAgYWRkcmVzcyByZWNpcGllbnQgPSBfaW52ZXN0b3I7CiAgICAgICAgcmVjaXBpZW50LnRyYW5zZmVyKHdlaUFtb3VudCk7CgogICAgICAgIFJlZnVuZGVkKF9pbnZlc3Rvciwgd2VpQW1vdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIF90bykgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIF90byk7CiAgICAgICAgb3duZXIgPSBfdG87CiAgICB9CgogICAgZnVuY3Rpb24gdW5wYXVzZSgpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUocGF1c2VkKTsKICAgICAgICBwYXVzZWQgPSBmYWxzZTsKICAgICAgICBVbnBhdXNlKCk7CiAgICB9CgogICAgZnVuY3Rpb24gd2hpdGVsaXN0KGFkZHJlc3MgX3BhcnRpY2lwYW50LCB1aW50MjU2IF93ZWlBbW91bnQpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX3BhcnRpY2lwYW50ICE9IDB4MCk7CgogICAgICAgIHdoaXRlbGlzdGVkW19wYXJ0aWNpcGFudF0gPSBfd2VpQW1vdW50OwogICAgICAgIFdoaXRlbGlzdGVkKF9wYXJ0aWNpcGFudCwgX3dlaUFtb3VudCk7CiAgICB9CgogICAgZnVuY3Rpb24gd2l0aGRyYXcoKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKGdvYWxSZWFjaGVkKCkgfHwgKGZpbmlzaGVkICYmIG5vdyA+IGZpbmlzaGVkQXQgKyAxNCBkYXlzKSk7CgogICAgICAgIHVpbnQyNTYgd2VpQW1vdW50ID0gdGhpcy5iYWxhbmNlOwoKICAgICAgICBpZiAod2VpQW1vdW50ID4gMCkgewogICAgICAgICAgICB3YWxsZXQudHJhbnNmZXIod2VpQW1vdW50KTsKICAgICAgICAgICAgV2l0aGRyYXdhbCh3YWxsZXQsIHdlaUFtb3VudCk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGdvYWxSZWFjaGVkKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gd2VpUmFpc2VkID49IGdvYWw7CiAgICB9Cn0='.
	

]
