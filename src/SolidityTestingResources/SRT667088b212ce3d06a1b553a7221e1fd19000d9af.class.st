Class {
	#name : #SRT667088b212ce3d06a1b553a7221e1fd19000d9af,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT667088b212ce3d06a1b553a7221e1fd19000d9af >> base64 [
	^ 'Y29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICBpZiAobXNnLnNlbmRlciA9PSBvd25lcikKICAgICAgXzsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXIoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgIGlmIChuZXdPd25lciAhPSBhZGRyZXNzKDApKSBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCmNvbnRyYWN0IEVSQzIwIHsKICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zIChib29sIG9rKTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zIChib29sIG9rKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB2YWx1ZSk7Cn0KCmNvbnRyYWN0IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBzYWZlTXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHNhZmVTdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gc2FmZUFkZCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSArIGI7CiAgICBhc3NlcnQoYz49YSAmJiBjPj1iKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgYXNzZXJ0aW9uKSBpbnRlcm5hbCB7CiAgICBpZiAoIWFzc2VydGlvbikgdGhyb3c7CiAgfQp9Cgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBTYWZlTWF0aCB7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBiYWxhbmNlczsKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIGFsbG93ZWQ7CgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHNhZmVTdWIoYmFsYW5jZXNbbXNnLnNlbmRlcl0sIF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLCBfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CiAgICAKICAgIGJhbGFuY2VzW190b10gPSBzYWZlQWRkKGJhbGFuY2VzW190b10sIF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBzYWZlU3ViKGJhbGFuY2VzW19mcm9tXSwgX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gc2FmZVN1YihfYWxsb3dhbmNlLCBfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9Cgp9CgovKgogIFdpbmdzIEVSQzIwIFRva2VuLgogIEFkZGVkIGFsbG9jYXRpb24gZm9yIHVzZXJzIHdobyBwYXJ0aWNpcGlhdGVkIGluIFdpbmdzIENhbXBhaWduLgoKICBJbXBvcnRhbnQhCiAgV2UgaGF2ZSB0byBydW4gcHJlLW1pbmUgYWxsb2NhdGlvbiBmaXJzdC4KICBBbmQgb25seSB0aGVuIHJlc3Qgb2YgdXNlcnMuCiAgT3IgaXQncyBub3QgZ29pbmcgdG8gd29yayBkdWUgdG8gd2hlbkFsbG9jYXRpb24gbG9naWMuCiovCmNvbnRyYWN0IFRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIE93bmFibGUgewogIC8vIEFjY291bnQgYWxsb2NhdGlvbiBldmVudAogIGV2ZW50IEFMTE9DQVRJT04oYWRkcmVzcyBpbmRleGVkIGFjY291bnQsIHVpbnQgYW1vdW50KTsKCiAgLyoKICAgIFByZW1pbmUgZXZlbnRzCiAgKi8KICBldmVudCBQUkVNSU5FUl9BRERFRChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgYWNjb3VudCwgdWludCBhbW91bnQpOwogIGV2ZW50IFBSRU1JTkVfQUxMT0NBVElPTl9BRERFRChhZGRyZXNzIGluZGV4ZWQgYWNjb3VudCwgdWludCB0aW1lKTsKICBldmVudCBQUkVNSU5FX1JFTEVBU0UoYWRkcmVzcyBpbmRleGVkIGFjY291bnQsIHVpbnQgdGltZXN0YW1wLCB1aW50IGFtb3VudCk7CiAgZXZlbnQgUFJFTUlORVJfQ0hBTkdFRChhZGRyZXNzIGluZGV4ZWQgb2xkUHJlbWluZXIsIGFkZHJlc3MgbmV3UHJlbWluZXIsIGFkZHJlc3MgbmV3UmVjaXBpZW50KTsKCiAgLyoKICAgIFByZW1pbmUgc3RydWN0dXJlCiAgKi8KICBzdHJ1Y3QgUHJlbWluZXIgewogICAgYWRkcmVzcyBhY2NvdW50OwogICAgdWludCBtb250aGx5UGF5bWVudDsKICAgIHVpbnQgbGF0ZXN0QWxsb2NhdGlvbjsKICAgIGJvb2wgZGlzYWJsZWQ7CgogICAgdWludCBhbGxvY2F0aW9uc0NvdW50OwogICAgbWFwcGluZyh1aW50ID0+IHVpbnQpIGFsbG9jYXRpb25zOwogIH0KCiAgLyoKICAgIExpc3Qgb2YgcHJlbWluZXJzCiAgKi8KICBtYXBwaW5nKGFkZHJlc3MgPT4gUHJlbWluZXIpIHByZW1pbmVyczsKCiAgLyoKICAgIFRva2VuIE5hbWUgJiBUb2tlbiBTeW1ib2wgJiBEZWNpbWFscwogICovCiAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIldJTkdTIjsKICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJXSU5HUyI7CiAgdWludCBwdWJsaWMgZGVjaW1hbHMgPSAxODsKCiAgLyoKICAgIFRvdGFsIHN1cHBseQogICovCiAgdWludCBwdWJsaWMgdG90YWxTdXBwbHkgPSAxMCoqMjY7Ly8xMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA7CgogIC8qCiAgICBQcmVtaW5lIGFsbG9jYXRpb24gaW50ZXJ2YWwKICAqLwogIHVpbnQgcHVibGljIERBWVNfMjggPSAyNDE5MjAwOwogIHVpbnQgcHVibGljIERBWVNfMzEgPSAyNjc4NDAwOwoKICAvKgogICAgTWF4aW11bSBwcmVtaW5lIGFsbG9jYXRpb25zIGNvdW50CiAgKi8KICB1aW50IHB1YmxpYyBNQVhfQUxMT0NBVElPTlNfQ09VTlQgPSAyNjsKCiAgLyoKICAgIEhvdyBtYW55IGFjY291bnRzIGFsbG9jYXRlZD8KICAqLwogIHVpbnQgcHVibGljIGFjY291bnRzVG9BbGxvY2F0ZTsKCiAgLyoKICAgIE11bHRpc2lnbmF0dXJlCiAgKi8KICBhZGRyZXNzIHB1YmxpYyBtdWx0aXNpZ25hdHVyZTsKCiAgLyoKICAgIE9ubHkgbXVsdGlzaWduYXR1cmUKICAqLwogIG1vZGlmaWVyIG9ubHlNdWx0aXNpZ25hdHVyZSgpIHsKICAgIGlmIChtc2cuc2VuZGVyICE9IG11bHRpc2lnbmF0dXJlKSB7CiAgICAgIHRocm93OwogICAgfQoKICAgIF87CiAgfQoKICAvKgogICAgV2hlbiBwcmVtaW5lciBpcyBub3QgZGlzYWJsZWQKICAqLwogIG1vZGlmaWVyIHdoZW5QcmVtaW5lcklzbnREaXNhYmxlZChhZGRyZXNzIF9hY2NvdW50KSB7CiAgICBpZiAocHJlbWluZXJzW19hY2NvdW50XS5kaXNhYmxlZCA9PSB0cnVlKSB7CiAgICAgIHRocm93OwogICAgfQoKICAgIF87CiAgfQoKICAvKgogICAgTW9kaWZpZXIgZm9yIGNoZWNraW5nIGlzIGFsbG9jYXRpb24gY29tcGxldGVkLgogICAgTWF5YmUgd2Ugc2hvdWxkIGFkZCBoZXJlIHByZS1taW5lIGFjY291bnRzIHRvby4KICAqLwogIG1vZGlmaWVyIHdoZW5BbGxvY2F0aW9uKGJvb2wgdmFsdWUpIHsKICAgIGlmICgoYWNjb3VudHNUb0FsbG9jYXRlID4gMCkgPT0gdmFsdWUpIHsKICAgICAgXzsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93OwogICAgfQogIH0KCiAgLyoKICAgIENoZWNrIGlmIHVzZXIgYWxyZWFkeSBhbGxvY2F0ZWQKICAqLwogIG1vZGlmaWVyIHdoZW5BY2NvdW50SGFzbnRBbGxvY2F0ZWQoYWRkcmVzcyB1c2VyKSB7CiAgICBpZiAoYmFsYW5jZXNbdXNlcl0gPT0gMCkgewogICAgICBfOwogICAgfSBlbHNlIHsKICAgICAgdGhyb3c7CiAgICB9CiAgfQoKICAvKgogICAgQ2hlY2sgaWYgcHJlbWluZXIgYWxyZWFkeSBhZGRlZAogICovCiAgbW9kaWZpZXIgd2hlblByZW1pbmVIYXNudEFsbG9jYXRlZChhZGRyZXNzIHByZW1pbmVyKSB7CiAgICBpZiAocHJlbWluZXJzW3ByZW1pbmVyXS5hY2NvdW50ID09IGFkZHJlc3MoMCkpIHsKICAgICAgXzsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93OwogICAgfQogIH0KCiAgZnVuY3Rpb24gVG9rZW4odWludCBfYWNjb3VudHNUb0FsbG9jYXRlLCBhZGRyZXNzIF9tdWx0aXNpZ25hdHVyZSkgewogICAgLyoKICAgICAgTWF5YmUgd2Ugc2hvdWxkIGNhbGN1bGF0ZSBpdCBpbiBhbGxvY2F0aW9uIGFuZCBwcmUtbWluZS4KICAgICAgSSBtZWFuIHRvdGFsIHN1cHBseQogICAgKi8KICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIGFjY291bnRzVG9BbGxvY2F0ZSA9IF9hY2NvdW50c1RvQWxsb2NhdGU7CiAgICBtdWx0aXNpZ25hdHVyZSA9IF9tdWx0aXNpZ25hdHVyZTsKICB9CgogIC8qCiAgICBBbGxvY2F0ZSB0b2tlbnMgZm9yIHVzZXJzLgogICAgT25seSBvd25lciBhbmQgb25seSB3aGlsZSBhbGxvY2F0aW9uIGFjdGl2ZS4KCiAgICBTaG91bGQgY2hlY2sgaWYgdXNlciBhbGxvY2F0ZWQgYWxyZWFkeSAobm8gZG91YmxlIGFsbG9jYXRpb25zKQogICovCiAgZnVuY3Rpb24gYWxsb2NhdGUoYWRkcmVzcyB1c2VyLCB1aW50IGJhbGFuY2UpIG9ubHlPd25lcigpIHdoZW5BbGxvY2F0aW9uKHRydWUpIHdoZW5BY2NvdW50SGFzbnRBbGxvY2F0ZWQodXNlcikgewogICAgYmFsYW5jZXNbdXNlcl0gPSBiYWxhbmNlOwoKICAgIGFjY291bnRzVG9BbGxvY2F0ZS0tOwogICAgQUxMT0NBVElPTih1c2VyLCBiYWxhbmNlKTsKICB9CgogIC8qCiAgICBTdGFuZGFyZCBUb2tlbiBmdW5jdGlvbmFsCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHdoZW5BbGxvY2F0aW9uKGZhbHNlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSB3aGVuQWxsb2NhdGlvbihmYWxzZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSB3aGVuQWxsb2NhdGlvbihmYWxzZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXR1cm4gc3VwZXIuYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKTsKICB9CgogIC8qCiAgICBQcmVtaW5lIGZ1bmN0aW9uYWxpdHkKICAqLwoKICAvKgogICAgQWRkIHByZS1taW5lIGFjY291bnQKICAqLwogIGZ1bmN0aW9uIGFkZFByZW1pbmVyKGFkZHJlc3MgcHJlbWluZXIsIGFkZHJlc3MgcmVjaXBpZW50LCB1aW50IGluaXRpYWxCYWxhbmNlLCB1aW50IG1vbnRobHlQYXltZW50KSBvbmx5T3duZXIoKSB3aGVuQWxsb2NhdGlvbih0cnVlKSB3aGVuUHJlbWluZUhhc250QWxsb2NhdGVkKHByZW1pbmVyKSB7CiAgICB2YXIgcHJlbWluZSA9IFByZW1pbmVyKAogICAgICAgIHJlY2lwaWVudCwKICAgICAgICBtb250aGx5UGF5bWVudCwKICAgICAgICAwLAogICAgICAgIGZhbHNlLAogICAgICAgIDAKICAgICAgKTsKCgogICAgYmFsYW5jZXNbcmVjaXBpZW50XSA9IHNhZmVBZGQoYmFsYW5jZXNbcmVjaXBpZW50XSwgaW5pdGlhbEJhbGFuY2UpOwogICAgcHJlbWluZXJzW3ByZW1pbmVyXSA9IHByZW1pbmU7CiAgICBhY2NvdW50c1RvQWxsb2NhdGUtLTsKICAgIFBSRU1JTkVSX0FEREVEKHByZW1pbmVyLCBwcmVtaW5lLmFjY291bnQsIGluaXRpYWxCYWxhbmNlKTsKICB9CgogIC8qCiAgICBEaXNhYmxlIHByZS1taW5lcgogICovCiAgZnVuY3Rpb24gZGlzYWJsZVByZW1pbmVyKGFkZHJlc3MgX3ByZW1pbmVyLCBhZGRyZXNzIF9uZXdQcmVtaW5lciwgYWRkcmVzcyBfbmV3UmVjaXBpZW50KSBvbmx5TXVsdGlzaWduYXR1cmUoKSB3aGVuUHJlbWluZXJJc250RGlzYWJsZWQoX3ByZW1pbmVyKSB7CiAgICB2YXIgb2xkUHJlbWluZXIgPSBwcmVtaW5lcnNbX3ByZW1pbmVyXTsKCiAgICBpZiAob2xkUHJlbWluZXIuYWNjb3VudCA9PSBhZGRyZXNzKDApIHx8IHByZW1pbmVyc1tfbmV3UHJlbWluZXJdLmFjY291bnQgIT0gYWRkcmVzcygwKSkgewogICAgICB0aHJvdzsKICAgIH0KCiAgICBwcmVtaW5lcnNbX25ld1ByZW1pbmVyXSA9IG9sZFByZW1pbmVyOwogICAgcHJlbWluZXJzW19uZXdQcmVtaW5lcl0uYWNjb3VudCA9IF9uZXdSZWNpcGllbnQ7CiAgICBvbGRQcmVtaW5lci5kaXNhYmxlZCA9IHRydWU7CgogICAgaWYocHJlbWluZXJzW19uZXdQcmVtaW5lcl0uZGlzYWJsZWQgPT0gdHJ1ZSkgewogICAgICB0aHJvdzsKICAgIH0KCiAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBwcmVtaW5lcnNbX25ld1ByZW1pbmVyXS5hbGxvY2F0aW9uc0NvdW50OyBpKyspIHsKICAgICAgcHJlbWluZXJzW19uZXdQcmVtaW5lcl0uYWxsb2NhdGlvbnNbaV0gPSBvbGRQcmVtaW5lci5hbGxvY2F0aW9uc1tpXTsKICAgIH0KCiAgICBQUkVNSU5FUl9DSEFOR0VEKF9wcmVtaW5lciwgX25ld1ByZW1pbmVyLCBfbmV3UmVjaXBpZW50KTsKICB9CgogIC8qCiAgICBBZGQgcHJlLW1pbmUgYWxsb2NhdGlvbgogICovCiAgZnVuY3Rpb24gYWRkUHJlbWluZUFsbG9jYXRpb24oYWRkcmVzcyBfcHJlbWluZXIsIHVpbnQgX3RpbWUpIG9ubHlPd25lcigpIHdoZW5BbGxvY2F0aW9uKHRydWUpIHdoZW5QcmVtaW5lcklzbnREaXNhYmxlZChfcHJlbWluZXIpIHsKICAgIHZhciBwcmVtaW5lciA9IHByZW1pbmVyc1tfcHJlbWluZXJdOwoKICAgIGlmIChwcmVtaW5lci5hY2NvdW50ID09IGFkZHJlc3MoMCkgfHwgIF90aW1lID09IDAgfHwgcHJlbWluZXIuYWxsb2NhdGlvbnNDb3VudCA9PSBNQVhfQUxMT0NBVElPTlNfQ09VTlQpIHsKICAgICAgdGhyb3c7CiAgICB9CgogICAgaWYgKHByZW1pbmVyLmFsbG9jYXRpb25zQ291bnQgPiAwKSB7CiAgICAgIHZhciBwcmV2aW91c0FsbG9jYXRpb24gPSBwcmVtaW5lci5hbGxvY2F0aW9uc1twcmVtaW5lci5hbGxvY2F0aW9uc0NvdW50LTFdOwoKICAgICAgaWYgKHByZXZpb3VzQWxsb2NhdGlvbiA+IF90aW1lKSB7CiAgICAgICAgdGhyb3c7CiAgICAgIH0KCiAgICAgIGlmIChwcmV2aW91c0FsbG9jYXRpb24gKyBEQVlTXzI4ID4gX3RpbWUpIHsKICAgICAgICB0aHJvdzsKICAgICAgfQoKICAgICAgaWYgKHByZXZpb3VzQWxsb2NhdGlvbiArIERBWVNfMzEgPCBfdGltZSkgewogICAgICAgIHRocm93OwogICAgICB9CiAgICB9CgogICAgcHJlbWluZXIuYWxsb2NhdGlvbnNbcHJlbWluZXIuYWxsb2NhdGlvbnNDb3VudCsrXSA9IF90aW1lOwogICAgUFJFTUlORV9BTExPQ0FUSU9OX0FEREVEKF9wcmVtaW5lciwgX3RpbWUpOwogIH0KCiAgLyoKICAgIEdldCBwcmVtaW5lcgogICovCiAgZnVuY3Rpb24gZ2V0UHJlbWluZXIoYWRkcmVzcyBfcHJlbWluZXIpIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MsIGJvb2wsIHVpbnQsIHVpbnQsIHVpbnQpIHsKICAgIHZhciBwcmVtaW5lciA9IHByZW1pbmVyc1tfcHJlbWluZXJdOwoKICAgIHJldHVybiAocHJlbWluZXIuYWNjb3VudCwgcHJlbWluZXIuZGlzYWJsZWQsIHByZW1pbmVyLm1vbnRobHlQYXltZW50LCBwcmVtaW5lci5sYXRlc3RBbGxvY2F0aW9uLCBwcmVtaW5lci5hbGxvY2F0aW9uc0NvdW50KTsKICB9CgogIC8qCiAgICBHZXQgcHJlbWluZXIgYWxsb2NhdGlvbiB0aW1lIGJ5IGluZGV4CiAgKi8KICBmdW5jdGlvbiBnZXRQcmVtaW5lckFsbG9jYXRpb24oYWRkcmVzcyBfcHJlbWluZXIsIHVpbnQgX2luZGV4KSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICByZXR1cm4gcHJlbWluZXJzW19wcmVtaW5lcl0uYWxsb2NhdGlvbnNbX2luZGV4XTsKICB9CgogIC8qCiAgICBSZWxlYXNlIHByZW1pbmUgd2hlbiBwcmVtaW5lciBhc2tpbmcKICAgIEdhcyB1c2FnZTogMHg1Nzg2IG9yIDIyNDA2IEdBUy4KICAgIE1heGltdW0gaXMgMjYgbW9udGhzIG9mIHByZS1taW5lIGluIGNhc2Ugb2YgV2luZ3MuIFNvIHNob3VsZCBiZSBlbm91Z2ggdG8gZXhlY3V0ZSBpdC4KICAqLwogIGZ1bmN0aW9uIHJlbGVhc2VQcmVtaW5lKCkgd2hlbkFsbG9jYXRpb24oZmFsc2UpIHdoZW5QcmVtaW5lcklzbnREaXNhYmxlZChtc2cuc2VuZGVyKSB7CiAgICB2YXIgcHJlbWluZXIgPSBwcmVtaW5lcnNbbXNnLnNlbmRlcl07CgogICAgaWYgKHByZW1pbmVyLmFjY291bnQgPT0gYWRkcmVzcygwKSkgewogICAgICB0aHJvdzsKICAgIH0KCiAgICBmb3IgKHVpbnQgaSA9IHByZW1pbmVyLmxhdGVzdEFsbG9jYXRpb247IGkgPCBwcmVtaW5lci5hbGxvY2F0aW9uc0NvdW50OyBpKyspIHsKICAgICAgaWYgKHByZW1pbmVyLmFsbG9jYXRpb25zW2ldIDwgYmxvY2sudGltZXN0YW1wKSB7CiAgICAgICAgaWYgKHByZW1pbmVyLmFsbG9jYXRpb25zW2ldID09IDApIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KCiAgICAgICAgYmFsYW5jZXNbcHJlbWluZXIuYWNjb3VudF0gPSBzYWZlQWRkKGJhbGFuY2VzW3ByZW1pbmVyLmFjY291bnRdLCBwcmVtaW5lci5tb250aGx5UGF5bWVudCk7CiAgICAgICAgcHJlbWluZXIubGF0ZXN0QWxsb2NhdGlvbiA9IGk7CgogICAgICAgIFBSRU1JTkVfUkVMRUFTRShwcmVtaW5lci5hY2NvdW50LCBwcmVtaW5lci5hbGxvY2F0aW9uc1tpXSwgcHJlbWluZXIubW9udGhseVBheW1lbnQpOwogICAgICAgIHByZW1pbmVyLmFsbG9jYXRpb25zW2ldID0gMDsKICAgICAgfSBlbHNlIHsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0KfQ=='.
	

]
