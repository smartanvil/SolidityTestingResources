Class {
	#name : #SRT26fbe4f306d09469a8e7bd792c875f0bb0b3a360,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT26fbe4f306d09469a8e7bd792c875f0bb0b3a360 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgovKioKICogQHRpdGxlIFByb3ZpZGVzIG92ZXJmbG93IHNhZmUgYXJpdGhtZXRpYwogKi8KbGlicmFyeSBTYWZlTWF0aCB7CgogICAgLyoqCiAgICAgKiBAZGV2IERvZXMgc3VidHJhY3QgaW4gc2FmZSBtYW5uZXIKICAgICAqCiAgICAgKiBAcmV0dXJuIHJlc3VsdCBvZiAoX3N1YnRyYWhlbmQgLSBfc3VidHJhY3Rvcikgb3IgMCBpZiBvdmVyZmxvdyBvY2N1cnMKICAgICAqLwogICAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgX3N1YnRyYWhlbmQsIHVpbnQyNTYgX3N1YnRyYWN0b3IpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKCiAgICAgICAgLy8gb3ZlcmZsb3cgY2hlY2sKICAgICAgICBpZiAoX3N1YnRyYWN0b3IgPiBfc3VidHJhaGVuZCkKICAgICAgICAgICAgcmV0dXJuIDA7CgogICAgICAgIHJldHVybiBfc3VidHJhaGVuZCAtIF9zdWJ0cmFjdG9yOwogICAgfQp9CgovKioKICogQHRpdGxlIENvbnRyYWN0IG93bmVyIGRlZmluaXRpb24KICovCmNvbnRyYWN0IE93bmVkIHsKCiAgICAvKiBPd25lcidzIGFkZHJlc3MgKi8KICAgIGFkZHJlc3Mgb3duZXI7CgogICAgLyoqCiAgICAgKiBAZGV2IENvbnN0cnVjdG9yLCByZWNvcmRzIG1zZy5zZW5kZXIgYXMgY29udHJhY3Qgb3duZXIKICAgICAqLwogICAgZnVuY3Rpb24gT3duZWQoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBWYWxpZGF0ZXMgaWYgbXNnLnNlbmRlciBpcyBhbiBvd25lcgogICAgICovCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQp9CgovKiogCiAqIEB0aXRsZSBTdGFuZGFyZCB0b2tlbiBpbnRlcmZhY2UgKEVSQyAyMCkKICogCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KaW50ZXJmYWNlIEVSQzIwIHsKICAgIAovLyBGdW5jdGlvbnM6CiAgICAKICAgIC8qKgogICAgICogQHJldHVybiB0b3RhbCBhbW91bnQgb2YgdG9rZW5zCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CgogICAgLyoqIAogICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICAgKiBAcmV0dXJuIFRoZSBiYWxhbmNlCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CgogICAgLyoqIAogICAgICogQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYG1zZy5zZW5kZXJgCiAgICAgKiAKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpOwoKICAgIC8qKiAKICAgICAqIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBfZnJvbWAgb24gdGhlIGNvbmRpdGlvbiBpdCBpcyBhcHByb3ZlZCBieSBgX2Zyb21gCiAgICAgKiAKICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCk7CgogICAgLyoqIAogICAgICogQG5vdGljZSBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9hZGRyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMKICAgICAqIAogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHdlaSB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXIKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpOwoKICAgIC8qKiAKICAgICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgICogQHJldHVybiBBbW91bnQgb2YgcmVtYWluaW5nIHRva2VucyBhbGxvd2VkIHRvIHNwZW50CiAgICAgKi8KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CgovLyBFdmVudHM6CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKfQoKCi8qKgogKiBAdGl0bGUgSW1wbGVtZW50YXRpb24gb2YgRVJDIDIwIGludGVyZmFjZSB3aXRoIGhvbGRlcnMgbGlzdAogKi8KY29udHJhY3QgVG9rZW4gaXMgRVJDMjAgewoKICAgIC8vLyBOYW1lIG9mIHRoZSB0b2tlbgogICAgc3RyaW5nIHB1YmxpYyBuYW1lOwogICAgLy8vIFRva2VuIHN5bWJvbAogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CgogICAgLy8vIEZpeGVkIHBvaW50IGRlc2NyaXB0aW9uCiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7CgogICAgLy8vIFF0eSBvZiBzdXBwbGllZCB0b2tlbnMKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIC8vLyBUb2tlbiBob2xkZXJzIGxpc3QKICAgIGFkZHJlc3NbXSBwdWJsaWMgaG9sZGVyczsKICAgIC8qIGFkZHJlc3MgPT4gaW5kZXggaW4gYXJyYXkgb2YgaG9kbGVycywgaW5kZXggc3RhcnRzIGZyb20gMSAqLwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGluZGV4OwoKICAgIC8qIFRva2VuIGhvbGRlcnMgbWFwICovCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICAvKiBUb2tlbiB0cmFuc2ZlciBhcHByb3ZhbHMgKi8KICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93YW5jZXM7CgogICAgLyoqCiAgICAgKiBAZGV2IENvbnN0cnVjdHMgVG9rZW4gd2l0aCBnaXZlbiBgX25hbWVgLCBgX3N5bWJvbGAgYW5kIGBfZGVjaW1hbHNgCiAgICAgKi8KICAgIGZ1bmN0aW9uIFRva2VuKHN0cmluZyBfbmFtZSwgc3RyaW5nIF9zeW1ib2wsIHVpbnQ4IF9kZWNpbWFscykgewogICAgICAgIG5hbWUgPSBfbmFtZTsKICAgICAgICBzeW1ib2wgPSBfc3ltYm9sOwogICAgICAgIGRlY2ltYWxzID0gX2RlY2ltYWxzOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBHZXQgYmFsYW5jZSBvZiBnaXZlbiBhZGRyZXNzCiAgICAgKgogICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byByZXF1ZXN0IGJhbGFuY2UgZnJvbQogICAgICogQHJldHVybiBUaGUgYmFsYW5jZQogICAgICovCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgVHJhbnNmZXIgb3duIHRva2VucyB0byBnaXZlbiBhZGRyZXNzCiAgICAgKiBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgICAqCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CgogICAgICAgIC8vIGJhbGFuY2UgY2hlY2sKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKSB7CgogICAgICAgICAgICAvLyB0cmFuc2ZlcgogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwoKICAgICAgICAgICAgLy8gcHVzaCBuZXcgaG9sZGVyIGlmIF92YWx1ZSA+IDAKICAgICAgICAgICAgaWYgKF92YWx1ZSA+IDAgJiYgaW5kZXhbX3RvXSA9PSAwKSB7CiAgICAgICAgICAgICAgICBpbmRleFtfdG9dID0gaG9sZGVycy5wdXNoKF90byk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKCiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgYmV0d2VlbiBhZGRyZXNzZXMgdXNpbmcgYXBwcm92YWxzCiAgICAgKiBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgICoKICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgICogQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewoKICAgICAgICAvLyBhcHByb3ZlZCBiYWxhbmNlIGNoZWNrCiAgICAgICAgaWYgKGFsbG93YW5jZXNbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJgogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICkgewoKICAgICAgICAgICAgLy8gaGl0IGFwcHJvdmVkIGFtb3VudAogICAgICAgICAgICBhbGxvd2FuY2VzW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CgogICAgICAgICAgICAvLyB0cmFuc2ZlcgogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKCiAgICAgICAgICAgIC8vIHB1c2ggbmV3IGhvbGRlciBpZiBfdmFsdWUgPiAwCiAgICAgICAgICAgIGlmIChfdmFsdWUgPiAwICYmIGluZGV4W190b10gPT0gMCkgewogICAgICAgICAgICAgICAgaW5kZXhbX3RvXSA9IGhvbGRlcnMucHVzaChfdG8pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwoKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEFwcHJvdmUgdG9rZW4gdHJhbnNmZXIgd2l0aCBzcGVjaWZpYyBhbW91bnQKICAgICAqIEBub3RpY2UgYG1zZy5zZW5kZXJgIGFwcHJvdmVzIGBfYWRkcmAgdG8gc3BlbmQgYF92YWx1ZWAgdG9rZW5zCiAgICAgKgogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHdlaSB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXIKICAgICAqIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBhbGxvd2FuY2VzW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgR2V0IGFtb3VudCBvZiB0b2tlbnMgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgICAgKgogICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAgKiBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgICAqLwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGFsbG93YW5jZXNbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IENvbnZlbmllbnQgd2F5IHRvIHJlc2V0IGFwcHJvdmFsIGZvciBnaXZlbiBhZGRyZXNzLCBub3QgYSBwYXJ0IG9mIEVSQzIwCiAgICAgKgogICAgICogQHBhcmFtIF9zcGVuZGVyIHRoZSBhZGRyZXNzCiAgICAgKi8KICAgIGZ1bmN0aW9uIHVuYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyKSB7CiAgICAgICAgYWxsb3dhbmNlc1ttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfQoKICAgIC8qKgogICAgICogQHJldHVybiB0b3RhbCBhbW91bnQgb2YgdG9rZW5zCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiB0b3RhbFN1cHBseTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgUmV0dXJucyBjb3VudCBvZiB0b2tlbiBob2xkZXJzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGhvbGRlckNvdW50KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBob2xkZXJzLmxlbmd0aDsKICAgIH0KfQoKLyoqCiAqIEB0aXRsZSBDYXQncyBUb2tlbiwgbWlhb3chISEKICoKICogQGRldiBEZWZpbmVzIHRva2VuIHdpdGggbmFtZSAiQ2F0J3MgVG9rZW4iLCBzeW1ib2wgIkNUUyIKICogYW5kIDMgZGlnaXRzIGFmdGVyIHRoZSBwb2ludAogKi8KY29udHJhY3QgQ2F0IGlzIFRva2VuKCJUZXN0J3MgVG9rZW4iLCAiVFRTIiwgMyksIE93bmVkIHsKCiAgICAvKioKICAgICAqIEBkZXYgRW1pdHMgc3BlY2lmaWVkIG51bWJlciBvZiB0b2tlbnMuIE9ubHkgb3duZXIgY2FuIGVtaXQuCiAgICAgKiBFbWl0dGVkIHRva2VucyBhcmUgY3JlZGl0ZWQgdG8gb3duZXIncyBhY2NvdW50CiAgICAgKgogICAgICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgZW1pdHRpbmcgdG9rZW5zCiAgICAgKiBAcmV0dXJuIHRydWUgaWYgZW1pc3Npb24gc3VjY2VlZGVkLCBmYWxzZSBvdGhlcndpc2UKICAgICAqLwogICAgZnVuY3Rpb24gZW1pdCh1aW50MjU2IF92YWx1ZSkgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKCiAgICAgICAgLy8gb3ZlcmZsb3cgY2hlY2sKICAgICAgICBhc3NlcnQodG90YWxTdXBwbHkgKyBfdmFsdWUgPj0gdG90YWxTdXBwbHkpOwoKICAgICAgICAvLyBlbWlzc2lvbgogICAgICAgIHRvdGFsU3VwcGx5ICs9IF92YWx1ZTsKICAgICAgICBiYWxhbmNlc1tvd25lcl0gKz0gX3ZhbHVlOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKCi8qKgogKiBAdGl0bGUgRHJpdmVzIENhdCdzIFRva2VuIElDTwogKi8KY29udHJhY3QgQ2F0SUNPIHsKCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICAvLy8gU3RhcnRzIGF0IDIxIFNlcCAyMDE3IDA1OjAwOjAwIFVUQwogICAgLy8gdWludDI1NiBwdWJsaWMgc3RhcnQgPSAxNTA1OTcwMDAwOwogICAgdWludDI1NiBwdWJsaWMgc3RhcnQgPSAxNTAzOTcwMDAwOwogICAgLy8vIEVuZHMgYXQgMjEgTm92IDIwMTcgMDU6MDA6MDAgVVRDCiAgICB1aW50MjU2IHB1YmxpYyBlbmQgPSAxNTExMjQwNDAwOwoKICAgIC8vLyBLZWVwcyBzdXBwbGllZCBldGhlcgogICAgYWRkcmVzcyBwdWJsaWMgd2FsbGV0OwoKICAgIC8vLyBDYXQncyBUb2tlbgogICAgQ2F0IHB1YmxpYyBjYXQ7CgogICAgc3RydWN0IFN0YWdlIHsKICAgICAgICAvKiBwcmljZSBpbiB3ZWlzIGZvciBvbmUgbWlsbGlDVFMgKi8KICAgICAgICB1aW50MjU2IHByaWNlOwogICAgICAgIC8qIHN1cHBseSBjYXAgaW4gbWlsbGlDVFMgKi8KICAgICAgICB1aW50MjU2IGNhcDsKICAgIH0KCiAgICAvKiBTdGFnZSAxOiBDYXQgU2ltdWxhdG9yICovCiAgICBTdGFnZSBzaW11bGF0b3IgPSBTdGFnZSgwLjAxIGV0aGVyIC8gMTAwMCwgOTAwMDAwMDAwKTsKICAgIC8qIFN0YWdlIDI6IENhdHMgT25saW5lICovCiAgICBTdGFnZSBvbmxpbmUgPSBTdGFnZSgwLjAxMjUgZXRoZXIgLyAxMDAwLCAyNTAwMDAwMDAwKTsKICAgIC8qIFN0YWdlIDM6IENhdCBTZXF1ZWxzICovCiAgICBTdGFnZSBzZXF1ZWxzID0gU3RhZ2UoMC4wMTYgZXRoZXIgLyAxMDAwLCAzNzUwMDAwMDAwKTsKCiAgICAvKioKICAgICAqIEBkZXYgQ2F0J3MgSUNPIGNvbnN0cnVjdG9yLiBJdCBzcGF3bnMgYSBDYXQgY29udHJhY3QuCiAgICAgKgogICAgICogQHBhcmFtIF93YWxsZXQgdGhlIGFkZHJlc3Mgb2YgdGhlIElDTyB3YWxsZXQKICAgICAqLwogICAgZnVuY3Rpb24gQ2F0SUNPKGFkZHJlc3MgX3dhbGxldCkgewogICAgICAgIGNhdCA9IG5ldyBDYXQoKTsKICAgICAgICB3YWxsZXQgPSBfd2FsbGV0OwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBGYWxsYmFjayBmdW5jdGlvbiwgd29ya3Mgb25seSBpZiBJQ08gaXMgcnVubmluZwogICAgICovCiAgICBmdW5jdGlvbigpIHBheWFibGUgb25seVJ1bm5pbmcgewoKICAgICAgICB2YXIgc3VwcGxpZWQgPSBjYXQudG90YWxTdXBwbHkoKTsKICAgICAgICB2YXIgdG9rZW5zID0gdG9rZW5FbWlzc2lvbihtc2cudmFsdWUsIHN1cHBsaWVkKTsKCiAgICAgICAgLy8gcmV2ZXJ0IGlmIG5vdGhpbmcgdG8gZW1pdAogICAgICAgIHJlcXVpcmUodG9rZW5zID4gMCk7CgogICAgICAgIC8vIGVtaXQgdG9rZW5zCiAgICAgICAgYm9vbCBzdWNjZXNzID0gY2F0LmVtaXQodG9rZW5zKTsKICAgICAgICBhc3NlcnQoc3VjY2Vzcyk7CgogICAgICAgIC8vIHRyYW5zZmVyIG5ldyB0b2tlbnMgdG8gaXRzIG93bmVyCiAgICAgICAgc3VjY2VzcyA9IGNhdC50cmFuc2Zlcihtc2cuc2VuZGVyLCB0b2tlbnMpOwogICAgICAgIGFzc2VydChzdWNjZXNzKTsKCiAgICAgICAgLy8gc2VuZCB2YWx1ZSB0byB0aGUgd2FsbGV0CiAgICAgICAgd2FsbGV0LnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IENhbGN1bGF0ZXMgbnVtYmVyIG9mIHRva2VucyB0byBlbWl0CiAgICAgKgogICAgICogQHBhcmFtIF92YWx1ZSByZWNlaXZlZCBFVEgKICAgICAqIEBwYXJhbSBfc3VwcGxpZWQgdG9rZW5zIHF0eSBzdXBwbGllZCBhdCB0aGUgbW9tZW50CiAgICAgKiBAcmV0dXJuIHRva2VucyBjb3VudCB3aGljaCBpcyBhY2NlcHRlZCBmb3IgZW1pc3Npb24KICAgICAqLwogICAgZnVuY3Rpb24gdG9rZW5FbWlzc2lvbih1aW50MjU2IF92YWx1ZSwgdWludDI1NiBfc3VwcGxpZWQpIHByaXZhdGUgcmV0dXJucyAodWludDI1NikgewoKICAgICAgICB1aW50MjU2IGVtaXNzaW9uID0gMDsKICAgICAgICB1aW50MjU2IHN0YWdlVG9rZW5zOwoKICAgICAgICBTdGFnZVszXSBtZW1vcnkgc3RhZ2VzID0gW3NpbXVsYXRvciwgb25saW5lLCBzZXF1ZWxzXTsKCiAgICAgICAgLyogU3RhZ2UgMSBhbmQgMiAqLwogICAgICAgIGZvciAodWludDggaSA9IDA7IGkgPCAyOyBpKyspIHsKICAgICAgICAgICAgKHN0YWdlVG9rZW5zLCBfdmFsdWUsIF9zdXBwbGllZCkgPSBzdGFnZUVtaXNzaW9uKF92YWx1ZSwgX3N1cHBsaWVkLCBzdGFnZXNbaV0pOwogICAgICAgICAgICBlbWlzc2lvbiArPSBzdGFnZVRva2VuczsKICAgICAgICB9CgogICAgICAgIC8qIFN0YWdlIDMsIHNwZW5kIHJlbWFpbmRlciB2YWx1ZSAqLwogICAgICAgIGVtaXNzaW9uICs9IF92YWx1ZSAvIHN0YWdlc1syXS5wcmljZTsKCiAgICAgICAgcmV0dXJuIGVtaXNzaW9uOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBDYWxjdWxhdGVzIHRva2VuIGVtaXNzaW9uIGluIHRlcm1zIG9mIGdpdmVuIHN0YWdlCiAgICAgKgogICAgICogQHBhcmFtIF92YWx1ZSBjb25zdW1pbmcgRVRIIHZhbHVlCiAgICAgKiBAcGFyYW0gX3N1cHBsaWVkIHRva2VucyBxdHkgc3VwcGxpZWQgd2l0aGluIHRva2VucyBzdXBwbGllZCBmb3IgcHJldiBzdGFnZXMKICAgICAqIEBwYXJhbSBfc3RhZ2UgdGhlIHN0YWdlCiAgICAgKgogICAgICogQHJldHVybiB0b2tlbnMgZW1pdHRlZCBpbiB0aGUgc3RhZ2UsIHJldHVybnMgMCBpZiBzdGFnZSBpcyBwYXNzZWQgb3Igbm90IGVub3VnaCBfdmFsdWUKICAgICAqIEByZXR1cm4gdmFsdWVSZW1haW5kZXIgdGhlIHZhbHVlIHJlbWFpbmluZyBhZnRlciBlbWlzc2lvbiBpbiB0aGUgc3RhZ2UKICAgICAqIEByZXR1cm4gbmV3U3VwcGx5IHRvdGFsIHN1cHBsaWVkIHRva2VucyBhZnRlciBlbWlzc2lvbiBpbiB0aGUgc3RhZ2UKICAgICAqLwogICAgZnVuY3Rpb24gc3RhZ2VFbWlzc2lvbih1aW50MjU2IF92YWx1ZSwgdWludDI1NiBfc3VwcGxpZWQsIFN0YWdlIF9zdGFnZSkKICAgICAgICBwcml2YXRlCiAgICAgICAgcmV0dXJucyAodWludDI1NiB0b2tlbnMsIHVpbnQyNTYgdmFsdWVSZW1haW5kZXIsIHVpbnQyNTYgbmV3U3VwcGx5KQogICAgewoKICAgICAgICAvKiBDaGVjayBpZiB0aGVyZSBpcyBzcGFjZSBsZWZ0IGluIHRoZSBzdGFnZSAqLwogICAgICAgIGlmIChfc3VwcGxpZWQgPj0gX3N0YWdlLmNhcCkgewogICAgICAgICAgICByZXR1cm4gKDAsIF92YWx1ZSwgX3N1cHBsaWVkKTsKICAgICAgICB9CgogICAgICAgIC8qIENoZWNrIGlmIHRoZXJlIGlzIGVub3VnaCB2YWx1ZSBmb3IgYXQgbGVhc3Qgb25lIG1pbGxpQ1RTICovCiAgICAgICAgaWYgKF92YWx1ZSA8IF9zdGFnZS5wcmljZSkgewogICAgICAgICAgICByZXR1cm4gKDAsIF92YWx1ZSwgX3N1cHBsaWVkKTsKICAgICAgICB9CgogICAgICAgIC8qIFBvdGVudGlhbCBlbWlzc2lvbiAqLwogICAgICAgIHZhciBfdG9rZW5zID0gX3ZhbHVlIC8gX3N0YWdlLnByaWNlOwoKICAgICAgICAvKiBBZGp1c3QgdG8gdGhlIHNwYWNlIGxlZnQgaW4gdGhlIHN0YWdlICovCiAgICAgICAgdmFyIHJlbWFpbmRlciA9IF9zdGFnZS5jYXAuc3ViKF9zdXBwbGllZCk7CiAgICAgICAgX3Rva2VucyA9IF90b2tlbnMgPiByZW1haW5kZXIgPyByZW1haW5kZXIgOiBfdG9rZW5zOwoKICAgICAgICAvKiBVcGRhdGUgdmFsdWUgYW5kIHN1cHBseSAqLwogICAgICAgIHZhciBfdmFsdWVSZW1haW5kZXIgPSBfdmFsdWUuc3ViKF90b2tlbnMgKiBfc3RhZ2UucHJpY2UpOwogICAgICAgIHZhciBfbmV3U3VwcGx5ID0gX3N1cHBsaWVkICsgX3Rva2VuczsKCiAgICAgICAgcmV0dXJuIChfdG9rZW5zLCBfdmFsdWVSZW1haW5kZXIsIF9uZXdTdXBwbHkpOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBDaGVja3MgaWYgSUNPIGlzIHN0aWxsIHJ1bm5pbmcKICAgICAqCiAgICAgKiBAcmV0dXJuIHRydWUgaWYgSUNPIGlzIHJ1bm5pbmcsIGZhbHNlIG90aGVyd2lzZQogICAgICovCiAgICBmdW5jdGlvbiBpc1J1bm5pbmcoKSBjb25zdGFudCByZXR1cm5zIChib29sKSB7CgogICAgICAgIC8qIFRpbWVmcmFtZXMgKi8KICAgICAgICBpZiAobm93IDwgc3RhcnQpIHJldHVybiBmYWxzZTsKICAgICAgICBpZiAobm93ID49IGVuZCkgcmV0dXJuIGZhbHNlOwoKICAgICAgICAvKiBUb3RhbCBjYXAsIGhlbGQgYnkgU3RhZ2UgMyAqLwogICAgICAgIGlmIChjYXQudG90YWxTdXBwbHkoKSA+PSBzZXF1ZWxzLmNhcCkgcmV0dXJuIGZhbHNlOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgVmFsaWRhdGVzIElDTyB0aW1lZnJhbWVzIGFuZCB0b3RhbCBjYXAKICAgICAqLwogICAgbW9kaWZpZXIgb25seVJ1bm5pbmcoKSB7CgogICAgICAgIC8qIENoZWNrIHRpbWVmcmFtZXMgKi8KICAgICAgICByZXF1aXJlKG5vdyA+PSBzdGFydCk7CiAgICAgICAgcmVxdWlyZShub3cgPCBlbmQpOwoKICAgICAgICAvKiBDaGVjayBTdGFnZSAzIGNhcCAqLwogICAgICAgIHJlcXVpcmUoY2F0LnRvdGFsU3VwcGx5KCkgPCBzZXF1ZWxzLmNhcCk7CgogICAgICAgIF87CiAgICB9Cn0='.
	

]
