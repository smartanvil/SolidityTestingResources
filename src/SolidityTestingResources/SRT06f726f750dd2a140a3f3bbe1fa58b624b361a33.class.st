Class {
	#name : #SRT06f726f750dd2a140a3f3bbe1fa58b624b361a33,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT06f726f750dd2a140a3f3bbe1fa58b624b361a33 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7Cgpjb250cmFjdCBvd25lZCB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICBmdW5jdGlvbiBvd25lZCgpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9Cn0KCmludGVyZmFjZSB0b2tlblJlY2lwaWVudCB7IGZ1bmN0aW9uIHJlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW4sIGJ5dGVzIF9leHRyYURhdGEpIHB1YmxpYzsgfQoKY29udHJhY3QgUmFqVGVzdCBpcyBvd25lZCB7CiAgICAvLyBQdWJsaWMgdmFyaWFibGVzIG9mIHRoZSB0b2tlbgogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIlJhalRlc3QiOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiUlQiOwogICAgdWludDggcHVibGljIGRlY2ltYWxzID0gMTg7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseSA9IDA7CiAgICAKICAgIHVpbnQyNTYgcHVibGljIHNlbGxQcmljZSA9IDEwNDU7CiAgICB1aW50MjU2IHB1YmxpYyBidXlQcmljZSA9IDEwNDU7CgogICAgYm9vbCBwdWJsaWMgcmVsZWFzZWQgPSBmYWxzZTsKICAgIAogICAgLy8vIGNvbnRyYWN0IHRoYXQgaXMgYWxsb3dlZCB0byBjcmVhdGUgbmV3IHRva2VucyBhbmQgYWxsb3dzIHVubGlmdCB0aGUgdHJhbnNmZXIgbGltaXRzIG9uIHRoaXMgdG9rZW4KICAgIGFkZHJlc3MgcHVibGljIGNyb3dkc2FsZUFnZW50OwoKICAgIC8vIFRoaXMgY3JlYXRlcyBhbiBhcnJheSB3aXRoIGFsbCBiYWxhbmNlcwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZU9mOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dhbmNlOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgZnJvemVuQWNjb3VudDsKICAgCiAgICAvLyBUaGlzIGdlbmVyYXRlcyBhIHB1YmxpYyBldmVudCBvbiB0aGUgYmxvY2tjaGFpbiB0aGF0IHdpbGwgbm90aWZ5IGNsaWVudHMKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwoKICAgIC8qIFRoaXMgZ2VuZXJhdGVzIGEgcHVibGljIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgY2xpZW50cyAqLwogICAgZXZlbnQgRnJvemVuRnVuZHMoYWRkcmVzcyB0YXJnZXQsIGJvb2wgZnJvemVuKTsKCiAgICAvKioKICAgICAqIENvbnN0cmN0b3IgZnVuY3Rpb24KICAgICAqCiAgICAgKiBJbml0aWFsaXplcyBjb250cmFjdCB3aXRoIGluaXRpYWwgc3VwcGx5IHRva2VucyB0byB0aGUgY3JlYXRvciBvZiB0aGUgY29udHJhY3QKICAgICAqLwogICAgZnVuY3Rpb24gUmFqVGVzdCgpIHB1YmxpYyB7CiAgICB9CiAgICBtb2RpZmllciBjYW5UcmFuc2ZlcigpIHsKICAgICAgICByZXF1aXJlKHJlbGVhc2VkKTsKICAgICAgIF87CiAgICAgfQoKICAgIG1vZGlmaWVyIG9ubHlDcm93ZHNhbGVBZ2VudCgpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gY3Jvd2RzYWxlQWdlbnQpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gcmVsZWFzZVRva2VuVHJhbnNmZXIoKSBwdWJsaWMgb25seUNyb3dkc2FsZUFnZW50IHsKICAgICAgICByZWxlYXNlZCA9IHRydWU7CiAgICB9CiAgICAvKioKICAgICAqIEludGVybmFsIHRyYW5zZmVyLCBvbmx5IGNhbiBiZSBjYWxsZWQgYnkgdGhpcyBjb250cmFjdAogICAgICovCiAgICBmdW5jdGlvbiBfdHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBjYW5UcmFuc2ZlciBpbnRlcm5hbCB7CiAgICAgICAgLy8gUHJldmVudCB0cmFuc2ZlciB0byAweDAgYWRkcmVzcy4gVXNlIGJ1cm4oKSBpbnN0ZWFkCiAgICAgICAgcmVxdWlyZShfdG8gIT0gMHgwKTsKICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICByZXF1aXJlKGJhbGFuY2VPZltfZnJvbV0gPj0gX3ZhbHVlKTsKICAgICAgICAvLyBDaGVjayBmb3Igb3ZlcmZsb3dzCiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VPZltfdG9dKTsKICAgICAgICAvLyBDaGVjayBpZiBzZW5kZXIgaXMgZnJvemVuCiAgICAgICAgcmVxdWlyZSghZnJvemVuQWNjb3VudFtfZnJvbV0pOwogICAgICAgIC8vIENoZWNrIGlmIHJlY2lwaWVudCBpcyBmcm96ZW4KICAgICAgICByZXF1aXJlKCFmcm96ZW5BY2NvdW50W190b10pOwogICAgICAgIC8vIFNhdmUgdGhpcyBmb3IgYW4gYXNzZXJ0aW9uIGluIHRoZSBmdXR1cmUKICAgICAgICB1aW50IHByZXZpb3VzQmFsYW5jZXMgPSBiYWxhbmNlT2ZbX2Zyb21dICsgYmFsYW5jZU9mW190b107CiAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgYmFsYW5jZU9mW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgLy8gQWRkIHRoZSBzYW1lIHRvIHRoZSByZWNpcGllbnQKICAgICAgICBiYWxhbmNlT2ZbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICAvLyBBc3NlcnRzIGFyZSB1c2VkIHRvIHVzZSBzdGF0aWMgYW5hbHlzaXMgdG8gZmluZCBidWdzIGluIHlvdXIgY29kZS4gVGhleSBzaG91bGQgbmV2ZXIgZmFpbAogICAgICAgIGFzc2VydChiYWxhbmNlT2ZbX2Zyb21dICsgYmFsYW5jZU9mW190b10gPT0gcHJldmlvdXNCYWxhbmNlcyk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUcmFuc2ZlciB0b2tlbnMKICAgICAqCiAgICAgKiBTZW5kIGBfdmFsdWVgIHRva2VucyB0byBgX3RvYCBmcm9tIHlvdXIgYWNjb3VudAogICAgICoKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IHRvIHNlbmQKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgewogICAgICAgIF90cmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvdGhlciBhZGRyZXNzCiAgICAgKgogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbnMgdG8gYF90b2AgaW4gYmVoYWxmIG9mIGBfZnJvbWAKICAgICAqCiAgICAgKiBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBhbW91bnQgdG8gc2VuZAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSk7ICAgICAvLyBDaGVjayBhbGxvd2FuY2UKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICBfdHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBhbGxvd2FuY2UgZm9yIG90aGVyIGFkZHJlc3MKICAgICAqCiAgICAgKiBBbGxvd3MgYF9zcGVuZGVyYCB0byBzcGVuZCBubyBtb3JlIHRoYW4gYF92YWx1ZWAgdG9rZW5zIGluIHlvdXIgYmVoYWxmCiAgICAgKgogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIGF1dGhvcml6ZWQgdG8gc3BlbmQKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIG1heCBhbW91bnQgdGhleSBjYW4gc3BlbmQKICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBhbGxvd2FuY2UgZm9yIG90aGVyIGFkZHJlc3MgYW5kIG5vdGlmeQogICAgICoKICAgICAqIEFsbG93cyBgX3NwZW5kZXJgIHRvIHNwZW5kIG5vIG1vcmUgdGhhbiBgX3ZhbHVlYCB0b2tlbnMgaW4geW91ciBiZWhhbGYsIGFuZCB0aGVuIHBpbmcgdGhlIGNvbnRyYWN0IGFib3V0IGl0CiAgICAgKgogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIGF1dGhvcml6ZWQgdG8gc3BlbmQKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIG1heCBhbW91bnQgdGhleSBjYW4gc3BlbmQKICAgICAqIEBwYXJhbSBfZXh0cmFEYXRhIHNvbWUgZXh0cmEgaW5mb3JtYXRpb24gdG8gc2VuZCB0byB0aGUgYXBwcm92ZWQgY29udHJhY3QKICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9leHRyYURhdGEpCiAgICAgICAgcHVibGljCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgdG9rZW5SZWNpcGllbnQgc3BlbmRlciA9IHRva2VuUmVjaXBpZW50KF9zcGVuZGVyKTsKICAgICAgICBpZiAoYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKSkgewogICAgICAgICAgICBzcGVuZGVyLnJlY2VpdmVBcHByb3ZhbChtc2cuc2VuZGVyLCBfdmFsdWUsIHRoaXMsIF9leHRyYURhdGEpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICB9CgogICAgLy8vIEBub3RpY2UgQ3JlYXRlIGBtaW50ZWRBbW91bnRgIHRva2VucyBhbmQgc2VuZCBpdCB0byBgdGFyZ2V0YAogICAgLy8vIEBwYXJhbSB0YXJnZXQgQWRkcmVzcyB0byByZWNlaXZlIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gbWludGVkQW1vdW50IHRoZSBhbW91bnQgb2YgdG9rZW5zIGl0IHdpbGwgcmVjZWl2ZQogICAgZnVuY3Rpb24gbWludFRva2VuKGFkZHJlc3MgdGFyZ2V0LCB1aW50MjU2IG1pbnRlZEFtb3VudCkgb25seUNyb3dkc2FsZUFnZW50IHB1YmxpYyB7CiAgICAgICAgYmFsYW5jZU9mW3RhcmdldF0gKz0gbWludGVkQW1vdW50OwogICAgICAgIHRvdGFsU3VwcGx5ICs9IG1pbnRlZEFtb3VudDsKICAgICAgICBUcmFuc2Zlcih0aGlzLCB0YXJnZXQsIG1pbnRlZEFtb3VudCk7CiAgICB9CgogICAgLy8vIEBub3RpY2UgYGZyZWV6ZT8gUHJldmVudCB8IEFsbG93YCBgdGFyZ2V0YCBmcm9tIHNlbmRpbmcgJiByZWNlaXZpbmcgdG9rZW5zCiAgICAvLy8gQHBhcmFtIHRhcmdldCBBZGRyZXNzIHRvIGJlIGZyb3plbgogICAgLy8vIEBwYXJhbSBmcmVlemUgZWl0aGVyIHRvIGZyZWV6ZSBpdCBvciBub3QKICAgIGZ1bmN0aW9uIGZyZWV6ZUFjY291bnQoYWRkcmVzcyB0YXJnZXQsIGJvb2wgZnJlZXplKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBmcm96ZW5BY2NvdW50W3RhcmdldF0gPSBmcmVlemU7CiAgICAgICAgRnJvemVuRnVuZHModGFyZ2V0LCBmcmVlemUpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIEFsbG93IHVzZXJzIHRvIGJ1eSB0b2tlbnMgZm9yIGBuZXdCdXlQcmljZWAgZXRoIGFuZCBzZWxsIHRva2VucyBmb3IgYG5ld1NlbGxQcmljZWAgZXRoCiAgICAvLy8gQHBhcmFtIG5ld1NlbGxQcmljZSBQcmljZSB0aGUgdXNlcnMgY2FuIHNlbGwgdG8gdGhlIGNvbnRyYWN0CiAgICAvLy8gQHBhcmFtIG5ld0J1eVByaWNlIFByaWNlIHVzZXJzIGNhbiBidXkgZnJvbSB0aGUgY29udHJhY3QKICAgIGZ1bmN0aW9uIHNldFByaWNlcyh1aW50MjU2IG5ld1NlbGxQcmljZSwgdWludDI1NiBuZXdCdXlQcmljZSkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgc2VsbFByaWNlID0gbmV3U2VsbFByaWNlOwogICAgICAgIGJ1eVByaWNlID0gbmV3QnV5UHJpY2U7CiAgICB9CgogICAgLy8vIEBub3RpY2UgQnV5IHRva2VucyBmcm9tIGNvbnRyYWN0IGJ5IHNlbmRpbmcgZXRoZXIKICAgIGZ1bmN0aW9uIGJ1eSgpIHBheWFibGUgcHVibGljIHsKICAgICAgICB1aW50IGFtb3VudCA9IG1zZy52YWx1ZSAvIGJ1eVByaWNlOyAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZXMgdGhlIGFtb3VudAogICAgICAgIF90cmFuc2Zlcih0aGlzLCBtc2cuc2VuZGVyLCBhbW91bnQpOyAgICAgICAgICAgICAgLy8gbWFrZXMgdGhlIHRyYW5zZmVycwogICAgfQoKICAgIC8vLyBAbm90aWNlIFNlbGwgYGFtb3VudGAgdG9rZW5zIHRvIGNvbnRyYWN0CiAgICAvLy8gQHBhcmFtIGFtb3VudCBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNvbGQKICAgIGZ1bmN0aW9uIHNlbGwodWludDI1NiBhbW91bnQpIGNhblRyYW5zZmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgPj0gYW1vdW50ICogc2VsbFByaWNlKTsgICAgICAvLyBjaGVja3MgaWYgdGhlIGNvbnRyYWN0IGhhcyBlbm91Z2ggZXRoZXIgdG8gYnV5CiAgICAgICAgX3RyYW5zZmVyKG1zZy5zZW5kZXIsIHRoaXMsIGFtb3VudCk7ICAgICAgICAgICAgICAvLyBtYWtlcyB0aGUgdHJhbnNmZXJzCiAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihhbW91bnQgKiBzZWxsUHJpY2UpOyAgICAgICAgICAvLyBzZW5kcyBldGhlciB0byB0aGUgc2VsbGVyLiBJdCdzIGltcG9ydGFudCB0byBkbyB0aGlzIGxhc3QgdG8gYXZvaWQgcmVjdXJzaW9uIGF0dGFja3MKICAgIH0KCiAgICAvLy8gQGRldiBTZXQgdGhlIGNvbnRyYWN0IHRoYXQgY2FuIGNhbGwgcmVsZWFzZSBhbmQgbWFrZSB0aGUgdG9rZW4gdHJhbnNmZXJhYmxlLgogICAgLy8vIEBwYXJhbSBfY3Jvd2RzYWxlQWdlbnQgY3Jvd2RzYWxlIGNvbnRyYWN0IGFkZHJlc3MKICAgIGZ1bmN0aW9uIHNldENyb3dkc2FsZUFnZW50KGFkZHJlc3MgX2Nyb3dkc2FsZUFnZW50KSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBjcm93ZHNhbGVBZ2VudCA9IF9jcm93ZHNhbGVBZ2VudDsKICAgIH0KfQoKY29udHJhY3QgS2lsbGFibGUgaXMgb3duZWQgewogICAgZnVuY3Rpb24ga2lsbCgpIG9ubHlPd25lciB7CiAgICAgICAgc2VsZmRlc3RydWN0KG93bmVyKTsKICAgIH0KfQoKY29udHJhY3QgUmFqVGVzdElDTyBpcyBvd25lZCwgS2lsbGFibGUgewogICAgLy8vIFRoZSB0b2tlbiB3ZSBhcmUgc2VsbGluZwogICAgUmFqVGVzdCBwdWJsaWMgdG9rZW47CgogICAgLy8vIEN1cnJlbnQgU3RhdGUgTmFtZQogICAgc3RyaW5nIHB1YmxpYyBzdGF0ZSA9ICJQcmUgSUNPIjsKCiAgICAvLy8gdGhlIFVOSVggdGltZXN0YW1wIHN0YXJ0IGRhdGUgb2YgdGhlIGNyb3dkc2FsZQogICAgdWludCBwdWJsaWMgc3RhcnRzQXQgPSAxNTIxNzIxODAwOwoKICAgIC8vLyB0aGUgVU5JWCB0aW1lc3RhbXAgZW5kIGRhdGUgb2YgdGhlIGNyb3dkc2FsZQogICAgdWludCBwdWJsaWMgZW5kc0F0ID0gMTUyMTcyMzYwMDsKCiAgICAvLy8gdGhlIHByaWNlIG9mIHRva2VuCiAgICB1aW50MjU2IHB1YmxpYyBUb2tlblBlckVUSCA9IDEwNDU7CgogICAgLy8vIEhhcyB0aGlzIGNyb3dkc2FsZSBiZWVuIGZpbmFsaXplZAogICAgYm9vbCBwdWJsaWMgZmluYWxpemVkID0gZmFsc2U7CgogICAgLy8vIHRoZSBudW1iZXIgb2YgdG9rZW5zIGFscmVhZHkgc29sZCB0aHJvdWdoIHRoaXMgY29udHJhY3QKICAgIHVpbnQgcHVibGljIHRva2Vuc1NvbGQgPSAwOwoKICAgIC8vLyB0aGUgbnVtYmVyIG9mIEVUSCByYWlzZWQgdGhyb3VnaCB0aGlzIGNvbnRyYWN0CiAgICB1aW50IHB1YmxpYyB3ZWlSYWlzZWQgPSAwOwoKICAgIC8vLyBIb3cgbWFueSBkaXN0aW5jdCBhZGRyZXNzZXMgaGF2ZSBpbnZlc3RlZAogICAgdWludCBwdWJsaWMgaW52ZXN0b3JDb3VudCA9IDA7CgogICAgLy8vIEhvdyBtdWNoIEVUSCBlYWNoIGFkZHJlc3MgaGFzIGludmVzdGVkIHRvIHRoaXMgY3Jvd2RzYWxlCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBpbnZlc3RlZEFtb3VudE9mOwoKICAgIC8vLyBIb3cgbXVjaCB0b2tlbnMgdGhpcyBjcm93ZHNhbGUgaGFzIGNyZWRpdGVkIGZvciBlYWNoIGludmVzdG9yIGFkZHJlc3MKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIHRva2VuQW1vdW50T2Y7CgogICAgLy8vIEEgbmV3IGludmVzdG1lbnQgd2FzIG1hZGUKICAgIGV2ZW50IEludmVzdGVkKGFkZHJlc3MgaW52ZXN0b3IsIHVpbnQgd2VpQW1vdW50LCB1aW50IHRva2VuQW1vdW50KTsKICAgIC8vLyBDcm93ZHNhbGUgZW5kIHRpbWUgaGFzIGJlZW4gY2hhbmdlZAogICAgZXZlbnQgRW5kc0F0Q2hhbmdlZCh1aW50IGVuZHNBdCk7CiAgICAvLy8gQ2FsY3VsYXRlZCBuZXcgcHJpY2UKICAgIGV2ZW50IFJhdGVDaGFuZ2VkKHVpbnQgb2xkVmFsdWUsIHVpbnQgbmV3VmFsdWUpOwoKICAgIGZ1bmN0aW9uIFJhalRlc3RJQ08oYWRkcmVzcyBfdG9rZW4pIHsKICAgICAgICB0b2tlbiA9IFJhalRlc3QoX3Rva2VuKTsKICAgIH0KCiAgICBmdW5jdGlvbiBpbnZlc3RJbnRlcm5hbChhZGRyZXNzIHJlY2VpdmVyKSBwcml2YXRlIHsKICAgICAgICByZXF1aXJlKCFmaW5hbGl6ZWQpOwogICAgICAgIHJlcXVpcmUoc3RhcnRzQXQgPD0gbm93ICYmIGVuZHNBdCA+IG5vdyk7CgogICAgICAgIGlmKGludmVzdGVkQW1vdW50T2ZbcmVjZWl2ZXJdID09IDApIHsKICAgICAgICAgICAgLy8gQSBuZXcgaW52ZXN0b3IKICAgICAgICAgICAgaW52ZXN0b3JDb3VudCsrOwogICAgICAgIH0KCiAgICAgICAgLy8gVXBkYXRlIGludmVzdG9yCiAgICAgICAgdWludCB0b2tlbnNBbW91bnQgPSBtc2cudmFsdWUgKiBUb2tlblBlckVUSDsKICAgICAgICBpbnZlc3RlZEFtb3VudE9mW3JlY2VpdmVyXSArPSBtc2cudmFsdWU7CiAgICAgICAgdG9rZW5BbW91bnRPZltyZWNlaXZlcl0gKz0gdG9rZW5zQW1vdW50OwogICAgICAgIC8vIFVwZGF0ZSB0b3RhbHMKICAgICAgICB0b2tlbnNTb2xkICs9IHRva2Vuc0Ftb3VudDsKICAgICAgICB3ZWlSYWlzZWQgKz0gbXNnLnZhbHVlOwoKICAgICAgICAvLyBUZWxsIHVzIGludmVzdCB3YXMgc3VjY2VzcwogICAgICAgIEludmVzdGVkKHJlY2VpdmVyLCBtc2cudmFsdWUsIHRva2Vuc0Ftb3VudCk7CgogICAgICAgIHRva2VuLm1pbnRUb2tlbihyZWNlaXZlciwgdG9rZW5zQW1vdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiBidXkoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgaW52ZXN0SW50ZXJuYWwobXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24oKSBwYXlhYmxlIHsKICAgICAgICBidXkoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRFbmRzQXQodWludCB0aW1lKSBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoIWZpbmFsaXplZCk7CiAgICAgICAgZW5kc0F0ID0gdGltZTsKICAgICAgICBFbmRzQXRDaGFuZ2VkKGVuZHNBdCk7CiAgICB9CiAgICBmdW5jdGlvbiBzZXRSYXRlKHVpbnQgdmFsdWUpIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZSghZmluYWxpemVkKTsKICAgICAgICByZXF1aXJlKHZhbHVlID4gMCk7CiAgICAgICAgUmF0ZUNoYW5nZWQoVG9rZW5QZXJFVEgsIHZhbHVlKTsKICAgICAgICBUb2tlblBlckVUSCA9IHZhbHVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGZpbmFsaXplKGFkZHJlc3MgcmVjZWl2ZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoZW5kc0F0IDwgbm93KTsKICAgICAgICAvLyBGaW5hbGl6ZWQgUHJlIElDTyBjcm93ZHNlbGUuCiAgICAgICAgZmluYWxpemVkID0gdHJ1ZTsKICAgICAgICAvLyBNYWtlIHRva2VucyBUcmFuc2ZlcmFibGUKICAgICAgICB0b2tlbi5yZWxlYXNlVG9rZW5UcmFuc2ZlcigpOwogICAgICAgIC8vIFRyYW5zZmVyIEZ1bmQgdG8gb3duZXIncyBhZGRyZXNzCiAgICAgICAgcmVjZWl2ZXIudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICAgIH0KfQ=='.
	

]
