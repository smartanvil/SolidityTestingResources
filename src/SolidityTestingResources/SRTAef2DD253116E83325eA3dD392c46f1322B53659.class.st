Class {
	#name : #SRTAef2DD253116E83325eA3dD392c46f1322B53659,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTAef2DD253116E83325eA3dD392c46f1322B53659 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgIGlmIChuZXdPd25lciAhPSBhZGRyZXNzKDApKSB7CiAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLiAKICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLiAKICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAvLyByZXF1aXJlIChfdmFsdWUgPD0gX2FsbG93YW5jZSk7CgogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKCiAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICByZXF1aXJlKChfdmFsdWUgPT0gMCkgfHwgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKCiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9Cgp9CgoKCmNvbnRyYWN0IENSQ1Rva2VuIGlzIFN0YW5kYXJkVG9rZW4sT3duYWJsZXsKCS8vdGhlIGJhc2UgaW5mbyBvZiB0aGUgdG9rZW4gCglzdHJpbmcgcHVibGljIG5hbWU7CglzdHJpbmcgcHVibGljIHN5bWJvbDsKCXN0cmluZyBwdWJsaWMgY29uc3RhbnQgdmVyc2lvbiA9ICIxLjAiOwoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKCgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBNQVhfU1VQUExZID0gNTAwMDAwMDAwICogMTAqKmRlY2ltYWxzOwoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgcXVvdGEgPSBNQVhfU1VQUExZLzEwMDsKCgkvL3RoZSBwZXJjZW50YWdlIG9mIGFsbCB1c2FnZXMKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IGFsbE9mZmVyaW5nUGVyY2VudGFnZSA9IDUwOwoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgdGVhbUtlZXBpbmdQZXJjZW50YWdlID0gMTU7Cgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBjb21tdW5pdHlDb250cmlidXRpb25QZXJjZW50YWdlID0gMzU7CgoJLy90aGUgcXVvdGEgb2YgYWxsIHVzYWdlcwoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgYWxsT2ZmZXJpbmdRdW90YSA9IHF1b3RhKmFsbE9mZmVyaW5nUGVyY2VudGFnZTsKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IHRlYW1LZWVwaW5nUXVvdGEgPSBxdW90YSp0ZWFtS2VlcGluZ1BlcmNlbnRhZ2U7Cgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBjb21tdW5pdHlDb250cmlidXRpb25RdW90YSA9IHF1b3RhKmNvbW11bml0eUNvbnRyaWJ1dGlvblBlcmNlbnRhZ2U7CgoJLy90aGUgY2FwIG9mIGRpZmYgb2ZmZXJpbmcgY2hhbm5lbAoJLy90aGlzIHBlcmNlbnRhZ2UgbXVzdCBsZXNzIHRoZSB0aGUgYWxsT2ZmZXJpbmdQZXJjZW50YWdlCgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBwcml2YXRlT2ZmZXJpbmdQZXJjZW50YWdlID0gMTA7Cgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBwcml2YXRlT2ZmZXJpbmdDYXAgPSBxdW90YSpwcml2YXRlT2ZmZXJpbmdQZXJjZW50YWdlOwoKCS8vZGlmZiByYXRlIG9mIHRoZSBkaWZmIG9mZmVyaW5nIGNoYW5uZWwKCXVpbnQyNTYgcHVibGljIGNvbnN0YW50IHB1YmxpY09mZmVyaW5nRXhjaGFuZ2VSYXRlID0gMjUwMDA7Cgl1aW50MjU2IHB1YmxpYyBjb25zdGFudCBwcml2YXRlT2ZmZXJpbmdFeGNoYW5nZVJhdGUgPSA1MDAwMDsKCgkvL25lZWQgdG8gZWRpdAoJYWRkcmVzcyBwdWJsaWMgZXRoZXJQcm9jZWVkc0FjY291bnQ7CglhZGRyZXNzIHB1YmxpYyBjcmNXaXRoZHJhd0FjY291bnQ7CgoJLy9kZXBlbmRlbmN5IG9uIHRoZSBzdGFydCBkYXkKCXVpbnQyNTYgcHVibGljIGZ1bmRpbmdTdGFydEJsb2NrOwoJdWludDI1NiBwdWJsaWMgZnVuZGluZ0VuZEJsb2NrOwoJdWludDI1NiBwdWJsaWMgdGVhbUtlZXBpbmdMb2NrRW5kQmxvY2sgOwoKCXVpbnQyNTYgcHVibGljIHByaXZhdGVPZmZlcmluZ1N1cHBseTsKCXVpbnQyNTYgcHVibGljIGFsbE9mZmVyaW5nU3VwcGx5OwoJdWludDI1NiBwdWJsaWMgdGVhbVdpdGhkcmF3U3VwcGx5OwoJdWludDI1NiBwdWJsaWMgY29tbXVuaXR5Q29udHJpYnV0aW9uU3VwcGx5OwoKCgoJLy8gYm9vbCBwdWJsaWMgaXNGaW5hbGl6ZWQ7Ly8gc3dpdGNoZWQgdG8gdHJ1ZSBpbiBvcGVyYXRpb25hbCBzdGF0ZQoKCWV2ZW50IENyZWF0ZUNSQyhhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CgoJLy8gdWludDI1NiBwdWJsaWMKCglmdW5jdGlvbiBDUkNUb2tlbigpewoJCW5hbWUgPSAiQ1JDVG9rZW4iOwoJCXN5bWJvbCA9IkNSQyI7CgoJCWV0aGVyUHJvY2VlZHNBY2NvdW50ID0gMHg1MzkwZjlEMThBNzEzMWFDOUM1MzJDMWRjRDFiRUFiM2U4QTQ0Y2JGOwoJCWNyY1dpdGhkcmF3QWNjb3VudCA9IDB4YjM1MzQyNWJBNEZFMjY3MERhQzEyMzBkYTkzNDQ5ODI1MkU2OTJiRDsKCgkJZnVuZGluZ1N0YXJ0QmxvY2s9NDI2MzE2MTsKCQlmdW5kaW5nRW5kQmxvY2s9NDMxMzU2MTsKCQl0ZWFtS2VlcGluZ0xvY2tFbmRCbG9jaz01NTc3MTYxOwoKCQl0b3RhbFN1cHBseSA9IDAgOwoJCXByaXZhdGVPZmZlcmluZ1N1cHBseT0wOwoJCWFsbE9mZmVyaW5nU3VwcGx5PTA7CgkJdGVhbVdpdGhkcmF3U3VwcGx5PTA7CgkJY29tbXVuaXR5Q29udHJpYnV0aW9uU3VwcGx5PTA7Cgl9CgoKCW1vZGlmaWVyIGJlZm9yZUZ1bmRpbmdTdGFydEJsb2NrKCl7CgkJYXNzZXJ0KGdldEN1cnJlbnRCbG9ja051bSgpIDwgZnVuZGluZ1N0YXJ0QmxvY2spOwoJCV87Cgl9CgoJbW9kaWZpZXIgbm90QmVmb3JlRnVuZGluZ1N0YXJ0QmxvY2soKXsKCQlhc3NlcnQoZ2V0Q3VycmVudEJsb2NrTnVtKCkgPj0gZnVuZGluZ1N0YXJ0QmxvY2spOwoJCV87Cgl9Cgltb2RpZmllciBub3RBZnRlckZ1bmRpbmdFbmRCbG9jaygpewoJCWFzc2VydChnZXRDdXJyZW50QmxvY2tOdW0oKSA8IGZ1bmRpbmdFbmRCbG9jayk7CgkJXzsKCX0KCW1vZGlmaWVyIG5vdEJlZm9yZVRlYW1LZWVwaW5nTG9ja0VuZEJsb2NrKCl7CgkJYXNzZXJ0KGdldEN1cnJlbnRCbG9ja051bSgpID49IHRlYW1LZWVwaW5nTG9ja0VuZEJsb2NrKTsKCQlfOwoJfQoKCW1vZGlmaWVyIHRvdGFsU3VwcGx5Tm90UmVhY2hlZCh1aW50MjU2IF9ldGhDb250cmlidXRpb24sdWludCByYXRlKXsKCQlhc3NlcnQodG90YWxTdXBwbHkuYWRkKF9ldGhDb250cmlidXRpb24ubXVsKHJhdGUpKSA8PSBNQVhfU1VQUExZKTsKCQlfOwoJfQoJbW9kaWZpZXIgYWxsT2ZmZXJpbmdOb3RSZWFjaGVkKHVpbnQyNTYgX2V0aENvbnRyaWJ1dGlvbix1aW50IHJhdGUpewoJCWFzc2VydChhbGxPZmZlcmluZ1N1cHBseS5hZGQoX2V0aENvbnRyaWJ1dGlvbi5tdWwocmF0ZSkpIDw9IGFsbE9mZmVyaW5nUXVvdGEpOwoJCV87Cgl9CSAKCgltb2RpZmllciBwcml2YXRlT2ZmZXJpbmdDYXBOb3RSZWFjaGVkKHVpbnQyNTYgX2V0aENvbnRyaWJ1dGlvbil7CgkJYXNzZXJ0KHByaXZhdGVPZmZlcmluZ1N1cHBseS5hZGQoX2V0aENvbnRyaWJ1dGlvbi5tdWwocHJpdmF0ZU9mZmVyaW5nRXhjaGFuZ2VSYXRlKSkgPD0gcHJpdmF0ZU9mZmVyaW5nQ2FwKTsKCQlfOwoJfQkgCgkKCgltb2RpZmllciBldGhlclByb2NlZWRzQWNjb3VudE9ubHkoKXsKCQlhc3NlcnQobXNnLnNlbmRlciA9PSBnZXRFdGhlclByb2NlZWRzQWNjb3VudCgpKTsKCQlfOwoJfQoJbW9kaWZpZXIgY3JjV2l0aGRyYXdBY2NvdW50T25seSgpewoJCWFzc2VydChtc2cuc2VuZGVyID09IGdldENyY1dpdGhkcmF3QWNjb3VudCgpKTsKCQlfOwoJfQoKCgoKCWZ1bmN0aW9uIHByb2Nlc3NGdW5kaW5nKGFkZHJlc3MgcmVjZWl2ZXIsdWludDI1NiBfdmFsdWUsdWludDI1NiBmdW5kaW5nUmF0ZSkgaW50ZXJuYWwKCQl0b3RhbFN1cHBseU5vdFJlYWNoZWQoX3ZhbHVlLGZ1bmRpbmdSYXRlKQoJCWFsbE9mZmVyaW5nTm90UmVhY2hlZChfdmFsdWUsZnVuZGluZ1JhdGUpCgoJewoJCXVpbnQyNTYgdG9rZW5BbW91bnQgPSBfdmFsdWUubXVsKGZ1bmRpbmdSYXRlKTsKCQl0b3RhbFN1cHBseT10b3RhbFN1cHBseS5hZGQodG9rZW5BbW91bnQpOwoJCWFsbE9mZmVyaW5nU3VwcGx5PWFsbE9mZmVyaW5nU3VwcGx5LmFkZCh0b2tlbkFtb3VudCk7CgkJYmFsYW5jZXNbcmVjZWl2ZXJdICs9IHRva2VuQW1vdW50OyAgLy8gc2FmZUFkZCBub3QgbmVlZGVkOyBiYWQgc2VtYW50aWNzIHRvIHVzZSBoZXJlCgkJQ3JlYXRlQ1JDKHJlY2VpdmVyLCB0b2tlbkFtb3VudCk7CSAvLyBsb2dzIHRva2VuIGNyZWF0aW9uCgl9CgoKCWZ1bmN0aW9uICgpIHBheWFibGUgZXh0ZXJuYWx7CgkJaWYoZ2V0Q3VycmVudEJsb2NrTnVtKCk8PWZ1bmRpbmdTdGFydEJsb2NrKXsKCQkJcHJvY2Vzc1ByaXZhdGVGdW5kaW5nKG1zZy5zZW5kZXIpOwoJCX1lbHNlewoJCQlwcm9jZXNzRXRoUHVsaWNGdW5kaW5nKG1zZy5zZW5kZXIpOwoJCX0KCgoJfQoKCWZ1bmN0aW9uIHByb2Nlc3NFdGhQdWxpY0Z1bmRpbmcoYWRkcmVzcyByZWNlaXZlcikgaW50ZXJuYWwKCSBub3RCZWZvcmVGdW5kaW5nU3RhcnRCbG9jawoJIG5vdEFmdGVyRnVuZGluZ0VuZEJsb2NrCgl7CgkJcHJvY2Vzc0Z1bmRpbmcocmVjZWl2ZXIsbXNnLnZhbHVlLHB1YmxpY09mZmVyaW5nRXhjaGFuZ2VSYXRlKTsKCX0KCQoKCWZ1bmN0aW9uIHByb2Nlc3NQcml2YXRlRnVuZGluZyhhZGRyZXNzIHJlY2VpdmVyKSBpbnRlcm5hbAoJIGJlZm9yZUZ1bmRpbmdTdGFydEJsb2NrCgkgcHJpdmF0ZU9mZmVyaW5nQ2FwTm90UmVhY2hlZChtc2cudmFsdWUpCgl7CgkJdWludDI1NiB0b2tlbkFtb3VudCA9IG1zZy52YWx1ZS5tdWwocHJpdmF0ZU9mZmVyaW5nRXhjaGFuZ2VSYXRlKTsKCQlwcml2YXRlT2ZmZXJpbmdTdXBwbHk9cHJpdmF0ZU9mZmVyaW5nU3VwcGx5LmFkZCh0b2tlbkFtb3VudCk7CgkJcHJvY2Vzc0Z1bmRpbmcocmVjZWl2ZXIsbXNnLnZhbHVlLHByaXZhdGVPZmZlcmluZ0V4Y2hhbmdlUmF0ZSk7Cgl9ICAKCglmdW5jdGlvbiBpY29QbGF0Zm9ybVdpdGhkcmF3KHVpbnQyNTYgX3ZhbHVlKSBleHRlcm5hbAoJCWNyY1dpdGhkcmF3QWNjb3VudE9ubHkKCXsKCQlwcm9jZXNzRnVuZGluZyhtc2cuc2VuZGVyLF92YWx1ZSwxKTsKCX0KCglmdW5jdGlvbiB0ZWFtS2VlcGluZ1dpdGhkcmF3KHVpbnQyNTYgdG9rZW5BbW91bnQpIGV4dGVybmFsCgkgICBjcmNXaXRoZHJhd0FjY291bnRPbmx5CgkgICBub3RCZWZvcmVUZWFtS2VlcGluZ0xvY2tFbmRCbG9jawoJewoJCWFzc2VydCh0ZWFtV2l0aGRyYXdTdXBwbHkuYWRkKHRva2VuQW1vdW50KTw9dGVhbUtlZXBpbmdRdW90YSk7CgkJYXNzZXJ0KHRvdGFsU3VwcGx5LmFkZCh0b2tlbkFtb3VudCk8PU1BWF9TVVBQTFkpOwoJCXRlYW1XaXRoZHJhd1N1cHBseT10ZWFtV2l0aGRyYXdTdXBwbHkuYWRkKHRva2VuQW1vdW50KTsKCQl0b3RhbFN1cHBseT10b3RhbFN1cHBseS5hZGQodG9rZW5BbW91bnQpOwoJCWJhbGFuY2VzW21zZy5zZW5kZXJdKz10b2tlbkFtb3VudDsKCQlDcmVhdGVDUkMobXNnLnNlbmRlciwgdG9rZW5BbW91bnQpOwoJfQoKCWZ1bmN0aW9uIGNvbW11bml0eUNvbnRyaWJ1dGlvbldpdGhkcmF3KHVpbnQyNTYgdG9rZW5BbW91bnQpIGV4dGVybmFsCgkgICAgY3JjV2l0aGRyYXdBY2NvdW50T25seQoJewoJCWFzc2VydChjb21tdW5pdHlDb250cmlidXRpb25TdXBwbHkuYWRkKHRva2VuQW1vdW50KTw9Y29tbXVuaXR5Q29udHJpYnV0aW9uUXVvdGEpOwoJCWFzc2VydCh0b3RhbFN1cHBseS5hZGQodG9rZW5BbW91bnQpPD1NQVhfU1VQUExZKTsKCQljb21tdW5pdHlDb250cmlidXRpb25TdXBwbHk9Y29tbXVuaXR5Q29udHJpYnV0aW9uU3VwcGx5LmFkZCh0b2tlbkFtb3VudCk7CgkJdG90YWxTdXBwbHk9dG90YWxTdXBwbHkuYWRkKHRva2VuQW1vdW50KTsKCQliYWxhbmNlc1ttc2cuc2VuZGVyXSArPSB0b2tlbkFtb3VudDsKCQlDcmVhdGVDUkMobXNnLnNlbmRlciwgdG9rZW5BbW91bnQpOwoJfQoKCWZ1bmN0aW9uIGV0aGVyUHJvY2VlZHMoKSBleHRlcm5hbAoJCWV0aGVyUHJvY2VlZHNBY2NvdW50T25seQoJewoJCWlmKCFtc2cuc2VuZGVyLnNlbmQodGhpcy5iYWxhbmNlKSkgcmV2ZXJ0KCk7Cgl9CgkKCgoKCWZ1bmN0aW9uIGdldEN1cnJlbnRCbG9ja051bSgpICBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KXsKCQlyZXR1cm4gYmxvY2subnVtYmVyOwoJfQoKCWZ1bmN0aW9uIGdldEV0aGVyUHJvY2VlZHNBY2NvdW50KCkgaW50ZXJuYWwgIHJldHVybnMgKGFkZHJlc3MpewoJCXJldHVybiBldGhlclByb2NlZWRzQWNjb3VudDsKCX0KCgoJZnVuY3Rpb24gZ2V0Q3JjV2l0aGRyYXdBY2NvdW50KCkgaW50ZXJuYWwgcmV0dXJucyAoYWRkcmVzcyl7CgkJcmV0dXJuIGNyY1dpdGhkcmF3QWNjb3VudDsKCX0KCglmdW5jdGlvbiBzZXROYW1lKHN0cmluZyBfbmFtZSkgZXh0ZXJuYWwKCQlvbmx5T3duZXIKCXsKCQluYW1lPV9uYW1lOwoJfQoKCWZ1bmN0aW9uIHNldFN5bWJvbChzdHJpbmcgX3N5bWJvbCkgZXh0ZXJuYWwKCQlvbmx5T3duZXIKCXsKCQlzeW1ib2w9X3N5bWJvbDsKCX0KCgoJZnVuY3Rpb24gc2V0RXRoZXJQcm9jZWVkc0FjY291bnQoYWRkcmVzcyBfZXRoZXJQcm9jZWVkc0FjY291bnQpIGV4dGVybmFsCgkJb25seU93bmVyCgl7CgkJZXRoZXJQcm9jZWVkc0FjY291bnQ9X2V0aGVyUHJvY2VlZHNBY2NvdW50OwoJfQoKCWZ1bmN0aW9uIHNldENyY1dpdGhkcmF3QWNjb3VudChhZGRyZXNzIF9jcmNXaXRoZHJhd0FjY291bnQpIGV4dGVybmFsCgkJb25seU93bmVyCgl7CgkJY3JjV2l0aGRyYXdBY2NvdW50PV9jcmNXaXRoZHJhd0FjY291bnQ7Cgl9CgoJZnVuY3Rpb24gc2V0RnVuZGluZ0Jsb2NrKHVpbnQyNTYgX2Z1bmRpbmdTdGFydEJsb2NrLHVpbnQyNTYgX2Z1bmRpbmdFbmRCbG9jayx1aW50MjU2IF90ZWFtS2VlcGluZ0xvY2tFbmRCbG9jaykgZXh0ZXJuYWwKCQlvbmx5T3duZXIKCXsKCgkJZnVuZGluZ1N0YXJ0QmxvY2s9X2Z1bmRpbmdTdGFydEJsb2NrOwoJCWZ1bmRpbmdFbmRCbG9jayA9IF9mdW5kaW5nRW5kQmxvY2s7CgkJdGVhbUtlZXBpbmdMb2NrRW5kQmxvY2sgPSBfdGVhbUtlZXBpbmdMb2NrRW5kQmxvY2s7Cgl9CgoKfQ=='.
	

]
