Class {
	#name : #SRT8a6aa2091c68287d4c37e486e89850fd0e79633f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT8a6aa2091c68287d4c37e486e89850fd0e79633f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7Cgpjb250cmFjdCBXb2xrVG9rZW4gewogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBhbGxvY2F0aW9uczsKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpKSBhdXRob3JpemVkOyAvL3RydXN0ZWUKCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBpc1RyYW5zZmVyYWJsZSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCkgewogICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHNhZmVTdWIoYmFsYW5jZXNbbXNnLnNlbmRlcl0sIF92YWx1ZSk7CiAgICAgIGJhbGFuY2VzW190b10gPSBzYWZlQWRkKGJhbGFuY2VzW190b10sIF92YWx1ZSk7CiAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlLCBiYWxhbmNlc1ttc2cuc2VuZGVyXSwgYmFsYW5jZXNbX3RvXSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0KICAKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBpc1RyYW5zZmVyYWJsZSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CiAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCkgewogICAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLCBfdmFsdWUpOwogICAgICBiYWxhbmNlc1tfZnJvbV0gPSBzYWZlU3ViKGJhbGFuY2VzW19mcm9tXSwgX3ZhbHVlKTsKICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBzYWZlU3ViKF9hbGxvd2FuY2UsIF92YWx1ZSk7CiAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSwgYmFsYW5jZXNbX2Zyb21dLCBiYWxhbmNlc1tfdG9dKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQogCiAgIC8vIFBsYXRmb3JtIFNldHRsZW1lbnQKICBmdW5jdGlvbiBzZXR0bGVGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgaXNUcmFuc2ZlcmFibGUgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICB2YXIgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwogICAgdmFyIGlzUHJlYXV0aG9yaXplZCA9IGF1dGhvcml6ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwogICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgKCBpc1ByZWF1dGhvcml6ZWQgfHwgX2FsbG93YW5jZSA+PSBfdmFsdWUgKSAmJiBfdmFsdWUgPiAwKSB7CiAgICAgIGJhbGFuY2VzW190b10gPSBzYWZlQWRkKGJhbGFuY2VzW190b10sIF92YWx1ZSk7CiAgICAgIGJhbGFuY2VzW19mcm9tXSA9IHNhZmVTdWIoYmFsYW5jZXNbX2Zyb21dLCBfdmFsdWUpOwogICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUsIGJhbGFuY2VzW19mcm9tXSwgYmFsYW5jZXNbX3RvXSk7CiAgICAgIGlmIChpc1ByZWF1dGhvcml6ZWQgJiYgX2FsbG93YW5jZSA8IF92YWx1ZSl7CiAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IDA7CiAgICAgIH1lbHNlewogICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBzYWZlU3ViKF9hbGxvd2FuY2UsIF92YWx1ZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQoKCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGdlbmVyYWxUb2tlbnMgKyByZXNlcnZlZFRva2VuczsKICB9CiAKCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCgogIC8vLyBAcGFyYW0gX3RydXN0ZWUgR3JhbnQgdHJ1c3RlZSBwZXJtaXNzaW9uIHRvIHNldHRsZSBtZWRpYSBzcGVuZAogIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIGF1dGhvcml6YXRpb24gd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgZnVuY3Rpb24gYXV0aG9yaXplKGFkZHJlc3MgX3RydXN0ZWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgYXV0aG9yaXplZFttc2cuc2VuZGVyXVtfdHJ1c3RlZV0gPSB0cnVlOwogICAgQXV0aG9yaXphdGlvbihtc2cuc2VuZGVyLCBfdHJ1c3RlZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8vLyBAcGFyYW0gX3RydXN0ZWVfdG9fcmVtb3ZlIFJldm9rZSB0cnVzdGVlJ3MgcGVybWlzc2lvbiBvbiBzZXR0bGUgbWVkaWEgc3BlbmQgCiAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgZGVhdXRob3JpemF0aW9uIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogIGZ1bmN0aW9uIGRlYXV0aG9yaXplKGFkZHJlc3MgX3RydXN0ZWVfdG9fcmVtb3ZlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGF1dGhvcml6ZWRbbXNnLnNlbmRlcl1bX3RydXN0ZWVfdG9fcmVtb3ZlXSA9IGZhbHNlOwogICAgRGVhdXRob3JpemF0aW9uKG1zZy5zZW5kZXIsIF90cnVzdGVlX3RvX3JlbW92ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8vIEBwYXJhbSBfb3duZXIKICAvLyBAcGFyYW0gX3RydXN0ZWUKICAvLyBAcmV0dXJuIGF1dGhvcml6YXRpb25fc3RhdHVzIGZvciBwbGF0Zm9ybSBzZXR0bGVtZW50IAogIGZ1bmN0aW9uIGNoZWNrQXV0aG9yaXphdGlvbihhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfdHJ1c3RlZSkgY29uc3RhbnQgcmV0dXJucyAoYm9vbCBhdXRob3JpemF0aW9uX3N0YXR1cykgewogICAgcmV0dXJuIGF1dGhvcml6ZWRbX293bmVyXVtfdHJ1c3RlZV07CiAgfQoKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9CgoKICAvLyoqKiogRVJDMjAgVE9LIEV2ZW50czoKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlLCB1aW50IGZyb21fZmluYWxfdG9rLCB1aW50IHRvX2ZpbmFsX3Rvayk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7CiAgZXZlbnQgQXV0aG9yaXphdGlvbihhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3RydXN0ZWUpOwogIGV2ZW50IERlYXV0aG9yaXphdGlvbihhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3RydXN0ZWVfdG9fcmVtb3ZlKTsKCiAgZXZlbnQgTmV3T3duZXIoYWRkcmVzcyBfbmV3T3duZXIpOwogIGV2ZW50IE1pbnRFdmVudCh1aW50IHJld2FyZF90b2ssIGFkZHJlc3MgcmVjaXBpZW50KTsKICBldmVudCBMb2dSZWZ1bmQoYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogIGV2ZW50IFdvbGtDcmVhdGVkKGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICBldmVudCBWZXN0ZWQoYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwoKICBtb2RpZmllciBvbmx5T3duZXIgeyBhc3NlcnQobXNnLnNlbmRlciA9PSBvd25lcik7IF87IH0KICBtb2RpZmllciBpc09wZXJhdGlvbmFsIHsgYXNzZXJ0KHNhbGVDb21wbGV0ZWQpOyBfOyB9CiAgbW9kaWZpZXIgaXNUcmFuc2ZlcmFibGUgeyBhc3NlcnQoZ2VuZXJhbFRva2VucyA+IGNyb3dkU2FsZU1pbik7IF87fQogIG1vZGlmaWVyIGlzX25vdF9kdXN0IHsgaWYgKG1zZy52YWx1ZSA8IGR1c3QpIHRocm93OyBfOyB9IC8vIG11c3QgYmUgc3VmZmljaWVudGx5IGxhcmdlICgxIG13ZWkpIHRvIG5vdCBiZSBjb25zaWRlcmVkIGR1c3QuCiAgCiAgLy8qKioqIEVSQzIwIFRPSyBmaWVsZHM6CiAgc3RyaW5nICBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICdXb2xrIENvaW4nOwogIHN0cmluZyAgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJXT0xLIjsKICBzdHJpbmcgIHB1YmxpYyBjb25zdGFudCB2ZXJzaW9uID0gIjEuMCI7CiAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCB3b2xrRnVuZCAgPSAgMTAgKiAxMCoqMSAqIDEwKipkZWNpbWFsczsgICAgICAgIC8vICAxMDAgV29sayBpbiBvcGVyYXRpb24gRnVuZAogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGNyb3dkU2FsZU1pbiA9ICAxMCAqIDEwKiozICogMTAqKmRlY2ltYWxzOyAvLyAgMTAwMDAgV29sayBNaW4KICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBjcm93ZFNhbGVNYXggPSAgMTAgKiAxMCoqNSAqIDEwKipkZWNpbWFsczsgLy8gIDEwMDAwMDAgV29sayBNYXgKICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCB0b2tlbkV4Y2hhbmdlUmF0ZSA9IDEwMDAwOyAgIC8vIDEwMDAwIFdvbGsgcGVyIDEgRVRICiAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZHVzdCA9IDEwMDAwMDAgd2VpOyAvLyAxIE13ZWkKCiAgdWludDI1NiBwdWJsaWMgZ2VuZXJhbFRva2VucyA9IHdvbGtGdW5kOyAgICAgLy8gdG9rZW5zIGluIGNpcmN1bGF0aW9uCiAgdWludDI1NiBwdWJsaWMgcmVzZXJ2ZWRUb2tlbnM7ICAgICAgICAgICAgICAvLyBVbnZlc3RlZCBkZXZlbG9wZXIgdG9rZW5zCgogIGFkZHJlc3MgcHVibGljIG93bmVyID0gMHg1ZmNmNzAwNjU0QjgwNjJCNzA5YTQxNTI3RkFmQ2RhMzY3ZGFFN2IxOyAvLyBNSyAtIG1haW4KICBhZGRyZXNzIHB1YmxpYyBtdWx0aXNpZ1dhbGxldCA9IDB4Njk2OGE5YjkwMjQ1Y0I5YkQyNTA2Qjk0NjBlM0QxM0VENEIyRkQxZTsgCgogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHN0YXJ0X2Jsb2NrID0gMzg0MzYwMDsgICAvLyBTYWxlIFN0YXJ0aW5nIGJsb2NrCiAgdWludDI1NiBwdWJsaWMgZW5kX2Jsb2NrID0gMzg0NzIwMDsgICAgICAgICAgICAgIC8vIFNhbGUgRW5kaW5nIGJsb2NrIHdoZW4gY3Jvd2RTYWxlTWF4IG5vdCByZWFjaGVkCiAgdWludDI1NiBwdWJsaWMgdW5sb2NrZWRBdDsgICAgICAgICAgICAgICAgICAgICAgIC8vIHRlYW0gdmVzdGluZyAgCiAgdWludDI1NiBwdWJsaWMgZW5kX3RzOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNhbGUgRW5kIHRpbWUKICAKICBib29sIHB1YmxpYyBzYWxlQ29tcGxldGVkID0gZmFsc2U7ICAgICAgICAgICAgICAgCiAgYm9vbCBwdWJsaWMgZmFpcnNhbGVQcm90ZWN0aW9uID0gdHJ1ZTsgICAgICAgICAKCiAKCiAgLy8gTWlncmF0aW9uIHN1cHBvcnQKICAvL2FkZHJlc3MgbWlncmF0aW9uTWFzdGVyOwoKCiAgLy8gQ29uc3RydWN0b3I6CiAgZnVuY3Rpb24gV29saygpIG9ubHlPd25lciB7CgogICAgLy8gV29sayBJbmMgaGFzIDI1TU0gV29saywgNU1NIG9mIHdoaWNoIGlzIGFsbG9jYXRlZCBmb3IgV29sayBJbmMgRm91bmRpbmcgc3RhZmYsIHdobyB2ZXN0IGF0ICJ1bmxvY2tlZEF0IiB0aW1lCiAgICByZXNlcnZlZFRva2VucyA9IDI1ICogMTAqKmRlY2ltYWxzOwogICAgYWxsb2NhdGlvbnNbMHg1NjRhM2Y3ZDk4RWI1QjE3OTExMzJGODg3NWZlZjU4MmQ1MjhkNUNmXSA9IDIwOyAvLyB1bmFzc2lnbmVkCiAgICBhbGxvY2F0aW9uc1sweDdmNTEyQ0NGRUYwNUY2NTFBNzBGYTMyMkNlMjdGNGFkNzliNzRmZmVdID0gMTsgIC8vIFNvdXJhYmgKICAgIGFsbG9jYXRpb25zWzB4OUQyMDNBMzZjZDYxYjIxQjdDOGM3RGExZDhlZUIxM2YwNGJiMjREOV0gPSAyOyAgLy8gTWljaGFlbCAtIFRlc3QKICAgIGFsbG9jYXRpb25zWzB4NWZjZjcwMDY1NEI4MDYyQjcwOWE0MTUyN0ZBZkNkYTM2N2RhRTdiMV0gPSAxOyAgLy8gTWljaGFlbCAtIE1haW4KICAgIGFsbG9jYXRpb25zWzB4QzI4ZEE0ZDQyODY2NzU4ZDBGYzQ5YTVBMzk0OEExZjQzZGU0OTFlOV0gPSAxOyAgLy8gVXJtaQogICAgCiAgICBiYWxhbmNlc1tvd25lcl0gPSB3b2xrRnVuZDsgLy8gMTAwIHdPbGsgZ3Jvd3RoIGZ1bmQKICAgIFdvbGtDcmVhdGVkKG93bmVyLCB3b2xrRnVuZCk7CiAgfQoKICAvLyBWRVNUSU5HIFNVUFBPUlQKICBmdW5jdGlvbiB1bmxvY2soKSBleHRlcm5hbCB7CiAgICBpZiAobm93IDwgdW5sb2NrZWRBdCkgdGhyb3c7CiAgICB1aW50MjU2IHZlc3RlZCA9IGFsbG9jYXRpb25zW21zZy5zZW5kZXJdICogMTAqKmRlY2ltYWxzOwogICAgaWYgKHZlc3RlZCA8IDAgKSB0aHJvdzsgLy8gV2lsbCBmYWlsIGlmIGFsbG9jYXRpb24gKGFuZCB0aGVyZWZvcmUgdG9UcmFuc2ZlcikgaXMgMC4KICAgIGFsbG9jYXRpb25zW21zZy5zZW5kZXJdID0gMDsKICAgIHJlc2VydmVkVG9rZW5zID0gc2FmZVN1YihyZXNlcnZlZFRva2VucywgdmVzdGVkKTsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2FmZUFkZChiYWxhbmNlc1ttc2cuc2VuZGVyXSwgdmVzdGVkKTsgCiAgICBWZXN0ZWQobXNnLnNlbmRlciwgdmVzdGVkKTsKICB9CgogIC8vIENST1dEU0FMRSBTVVBQT1JUCiAgZnVuY3Rpb24gcmVkZWVtVG9rZW4oKSBwYXlhYmxlIGlzX25vdF9kdXN0IGV4dGVybmFsIHsKICAgIGlmIChzYWxlQ29tcGxldGVkKSB0aHJvdzsKICAgIGlmIChibG9jay5udW1iZXIgPCBzdGFydF9ibG9jaykgdGhyb3c7CiAgICBpZiAoYmxvY2subnVtYmVyID4gZW5kX2Jsb2NrKSB0aHJvdzsKICAgIGlmIChtc2cudmFsdWUgPD0gZHVzdCkgdGhyb3c7CiAgICBpZiAodHguZ2FzcHJpY2UgPiAwLjQ2IHN6YWJvICYmIGZhaXJzYWxlUHJvdGVjdGlvbikgdGhyb3c7IAogICAgaWYgKG1zZy52YWx1ZSA+IDEgZXRoZXIgJiYgZmFpcnNhbGVQcm90ZWN0aW9uKSB0aHJvdzsgCgogICAgdWludDI1NiB0b2tlbnMgPSBzYWZlTXVsKG1zZy52YWx1ZSwgdG9rZW5FeGNoYW5nZVJhdGUpOyAvLyBjaGVjayB0aGF0IHdlJ3JlIG5vdCBvdmVyIHRvdGFscwogICAgdWludDI1NiBjaGVja2VkU3VwcGx5ID0gc2FmZUFkZChnZW5lcmFsVG9rZW5zLCB0b2tlbnMpOwogICAgaWYgKCBjaGVja2VkU3VwcGx5ID4gY3Jvd2RTYWxlTWF4KSB0aHJvdzsgLy8gdGhleSBuZWVkIHRvIGdldCB0aGVpciBtb25leSBiYWNrIGlmIHNvbWV0aGluZyBnb2VzIHdyb25nCiAgICAgIGdlbmVyYWxUb2tlbnMgPSBjaGVja2VkU3VwcGx5OwogICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHNhZmVBZGQoYmFsYW5jZXNbbXNnLnNlbmRlcl0sIHRva2Vucyk7ICAgLy8gc2FmZUFkZCBub3QgbmVlZGVkOyBiYWQgc2VtYW50aWNzIHRvIHVzZSBoZXJlCiAgICAgIFdvbGtDcmVhdGVkKG1zZy5zZW5kZXIsIHRva2Vucyk7IC8vIGxvZ3MgdG9rZW4gY3JlYXRpb24KICAgIAogIH0KICAKCgogIC8vIERpc2FibGluZyBmYWlyc2FsZSBwcm90ZWN0aW9uICAKICBmdW5jdGlvbiBmYWlyc2FsZVByb3RlY3Rpb25PRkYoKSBvbmx5T3duZXIgewogICAgaWYgKCBibG9jay5udW1iZXIgLSBzdGFydF9ibG9jayA8IDIwMDApIHRocm93OyAvLyBmYWlyc2FsZSB3aW5kb3cgaXMgc3RyaWN0bHkgZW5mb3JjZWQgZm9yIHRoZSBmaXJzdCAyMDAwIGJsb2NrcwogICAgZmFpcnNhbGVQcm90ZWN0aW9uID0gZmFsc2U7CiAgfQoKCiAgLy8gRmluYWxpemluZyB0aGUgY3Jvd2RzYWxlCiAgZnVuY3Rpb24gZmluYWxpemUoKSBvbmx5T3duZXIgewogICAgaWYgKCBzYWxlQ29tcGxldGVkICkgdGhyb3c7CiAgICBpZiAoIGdlbmVyYWxUb2tlbnMgPCBjcm93ZFNhbGVNaW4gKSB0aHJvdzsgCiAgICBpZiAoIGJsb2NrLm51bWJlciA8IGVuZF9ibG9jayApIHRocm93OyAgCiAgICBzYWxlQ29tcGxldGVkID0gdHJ1ZTsKICAgIGVuZF90cyA9IG5vdzsKICAgIGVuZF9ibG9jayA9IGJsb2NrLm51bWJlcjsgCiAgICB1bmxvY2tlZEF0ID0gZW5kX3RzICsgMzAgbWludXRlczsKICAgIGlmICggISBtdWx0aXNpZ1dhbGxldC5zZW5kKHRoaXMuYmFsYW5jZSkgKSB0aHJvdzsKICB9CgogIGZ1bmN0aW9uIHdpdGhkcmF3KCkgb25seU93bmVyeyAJCQoJCWlmICggdGhpcy5iYWxhbmNlID09IDApIHRocm93OwoJCWlmICggZ2VuZXJhbFRva2VucyA8IGNyb3dkU2FsZU1pbikgdGhyb3c7CQogICAgICAgIGlmICggISBtdWx0aXNpZ1dhbGxldC5zZW5kKHRoaXMuYmFsYW5jZSkgKSB0aHJvdzsKICB9CgoKICBmdW5jdGlvbiByZWZ1bmQoKSB7CiAgICBpZiAoIHNhbGVDb21wbGV0ZWQgKSB0aHJvdzsgCiAgICBpZiAoIGJsb2NrLm51bWJlciA8IGVuZF9ibG9jayApIHRocm93OyAgIAogICAgaWYgKCBnZW5lcmFsVG9rZW5zID49IGNyb3dkU2FsZU1pbiApIHRocm93OyAgCiAgICBpZiAoIG1zZy5zZW5kZXIgPT0gb3duZXIgKSB0aHJvdzsKICAgIHVpbnQyNTYgVmFsID0gYmFsYW5jZXNbbXNnLnNlbmRlcl07CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IDA7CiAgICBnZW5lcmFsVG9rZW5zID0gc2FmZVN1YihnZW5lcmFsVG9rZW5zLCBWYWwpOwogICAgdWludDI1NiBldGhWYWwgPSBzYWZlRGl2KFZhbCwgdG9rZW5FeGNoYW5nZVJhdGUpOwogICAgTG9nUmVmdW5kKG1zZy5zZW5kZXIsIGV0aFZhbCk7CiAgICBpZiAoICEgbXNnLnNlbmRlci5zZW5kKGV0aFZhbCkgKSB0aHJvdzsKICB9CiAgICAKCiAgLy8gTUlOVElORyBTVVBQT1JUIC0gUmV3YXJkaW5nIGdyb3d0aCB0b2tlbnMgZm9yIHZhbHVlLWFkZGVkZGF0YSBzdXBwbGllcnMKICAKICBtb2RpZmllciBvbmx5TWludGVyIHsgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gbWludGVyX2FkZHJlc3MpOyBfOyB9CiAKICBhZGRyZXNzIHB1YmxpYyBtaW50ZXJfYWRkcmVzcyA9IG93bmVyOwoKIC8vIG1pbnRpbmcgc3VwcG9ydAogIC8vdWludCBwdWJsaWMgbWF4X2NyZWF0aW9uX3JhdGVfcGVyX3NlY29uZDsgLy8gTWF4aW11bSB0b2tlbiBjcmVhdGlvbiByYXRlIHBlciBzZWNvbmQKICAvL2FkZHJlc3MgcHVibGljIG1pbnRlcl9hZGRyZXNzOyAgICAgICAgICAgIC8vIEhhcyBwZXJtaXNzaW9uIHRvIG1pbnQKICAKICBmdW5jdGlvbiBtaW50VG9rZW5zKHVpbnQgcmV3YXJkX3RvaywgYWRkcmVzcyByZWNpcGllbnQpIGV4dGVybmFsIHBheWFibGUgb25seU1pbnRlciBpc09wZXJhdGlvbmFsCiAgewogICAgYmFsYW5jZXNbcmVjaXBpZW50XSA9IHNhZmVBZGQoYmFsYW5jZXNbcmVjaXBpZW50XSwgcmV3YXJkX3Rvayk7CiAgICBnZW5lcmFsVG9rZW5zID0gc2FmZUFkZChnZW5lcmFsVG9rZW5zLCByZXdhcmRfdG9rKTsKICAgIE1pbnRFdmVudChyZXdhcmRfdG9rLCByZWNpcGllbnQpOwogIH0KCiAgZnVuY3Rpb24gY2hhbmdlTWludGluZ0FkZHJlc3MoYWRkcmVzcyBuZXdBZGRyZXNzKSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7IAogICAgbWludGVyX2FkZHJlc3MgPSBuZXdBZGRyZXNzOyAKICAgIHJldHVybiB0cnVlOwogIH0KCiAgCiAgLy8qKioqIFNhZmVNYXRoOgogIGZ1bmN0aW9uIHNhZmVNdWwodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KICAKICBmdW5jdGlvbiBzYWZlRGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICBhc3NlcnQoYiA+IDApOwogICAgdWludCBjID0gYSAvIGI7CiAgICBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsKICAgIHJldHVybiBjOwogIH0KICAKICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CiAgCiAgZnVuY3Rpb24gc2FmZUFkZCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSArIGI7CiAgICBhc3NlcnQoYz49YSAmJiBjPj1iKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgYXNzZXJ0aW9uKSBpbnRlcm5hbCB7CiAgICBpZiAoIWFzc2VydGlvbikgdGhyb3c7CiAgfQp9'.
	

]
