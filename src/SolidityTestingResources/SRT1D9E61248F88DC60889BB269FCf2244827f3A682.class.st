Class {
	#name : #SRT1D9E61248F88DC60889BB269FCf2244827f3A682,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT1D9E61248F88DC60889BB269FCf2244827f3A682 >> base64 [
	^ 'Y29udHJhY3QgZEV0aGVyZXVtbG90dGVyeU5ldCB7CgkvKgoJCWRFdGhlcmV1bWxvdHRlcnlOZXQKCQlDb2RlZCBieTogaUZBCgkJaHR0cDovL2QuZXRoZXJldW1sb3R0ZXJ5Lm5ldAoJCXZlcjogMi4xLjAKCSovCgkKCS8qCgkJVmFycwoJKi8KCWFkZHJlc3MgcHJpdmF0ZSBvd25lcjsKCXVpbnQgcHJpdmF0ZSBjb25zdGFudCBmZWUgPSA1OwoJdWludCBwcml2YXRlIGNvbnN0YW50IGludmVzdG9yRmVlID0gNTA7Cgl1aW50IHByaXZhdGUgY29uc3RhbnQgcHJlcGFyZUJsb2NrRGVsYXkgPSA0OwoJdWludCBwcml2YXRlIGNvbnN0YW50IHJvbGxMb3NzQmxvY2tEZWxheSA9IDMwOwoJdWludCBwcml2YXRlIGNvbnN0YW50IGludmVzdFVuaXQgPSAxIGV0aGVyOwoJdWludCBwcml2YXRlIGNvbnN0YW50IGV4dHJhUmF0ZSA9IDEzMDsKCXVpbnQgcHJpdmF0ZSBjb25zdGFudCBtaW5pbXVtUm9sbFByaWNlID0gMTAgZmlubmV5OwoJdWludCBwcml2YXRlIGNvbnN0YW50IGludmVzdE1pbkR1cmF0aW9uID0gMSBkYXlzOwoJdWludCBwcml2YXRlIGNvbnN0YW50IEJlc3RSb2xsUmF0ZSA9IDI2OwoJCiAgICBib29sIHB1YmxpYyBDb250cmFjdEVuYWJsZWQgPSB0cnVlOwoJdWludCBwdWJsaWMgSmFja3BvdDsKCXVpbnQgcHVibGljIFJvbGxDb3VudDsKCXVpbnQgcHVibGljIEphY2twb3RIaXRzOwoJCgl1aW50IHByaXZhdGUgQ29udHJhY3REaXNhYmxlZEJsb2NrOwoJdWludCBwcml2YXRlIGphY2twb3RfOwoJdWludCBwcml2YXRlIGV4dHJhSmFja3BvdF87Cgl1aW50IHByaXZhdGUgZmVlVmFsdWU7Cgl1aW50IHByaXZhdGUgcGxheWVyc1BvdDsKCQoJc3RydWN0IHJvbGxzX3MgewoJCXVpbnQgYmxvY2tOdW1iZXI7CgkJYnl0ZXMzMiBleHRyYUhhc2g7CgkJYm9vbCB2YWxpZDsKCQl1aW50IHZhbHVlOwoJCXVpbnQgZ2FtZTsKCQl1aW50IGlkOwoJfQoJCgltYXBwaW5nKGFkZHJlc3MgPT4gcm9sbHNfc1tdKSBwcml2YXRlIHBsYXllcnM7CgkKCXN0cnVjdCBpbnZlc3RvcnNfcyB7CgkJYWRkcmVzcyBvd25lcjsKCQl1aW50IHZhbHVlOwoJCXVpbnQgYmFsYW5jZTsKCQlib29sIGxpdmU7CgkJYm9vbCB2YWxpZDsKCQl1aW50IHRpbWVzdGFtcDsKCX0KCQoJaW52ZXN0b3JzX3NbXSBwcml2YXRlIGludmVzdG9yczsKCQoJc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBJbmZvcm1hdGlvbiA9ICJodHRwOi8vZC5ldGhlcmV1bWxvdHRlcnkubmV0IjsKCQoJLyoKCQlEZXBsb3kKCSovCglmdW5jdGlvbiBkRXRoZXJldW1sb3R0ZXJ5TmV0KCkgewoJCW93bmVyID0gbXNnLnNlbmRlcjsKCQlpbnZlc3RvcnMubGVuZ3RoID0gMTsKCX0KCQoJLyogCgkJQ29uc3RhbnMgZnVuY3Rpb25zCgkqLwoJZnVuY3Rpb24gQ2hhbmNlT2ZXaW5uaW5nKHVpbnQgVmFsdWUpIGNvbnN0YW50IHJldHVybnModWludCBSYXRlLCB1aW50IEJldCkgewoJICAgIGlmIChqYWNrcG90XyA9PSAwKSB7CgkgICAgICAgIFJhdGUgPSAwOwoJICAgICAgICBCZXQgPSAwOwoJICAgICAgICByZXR1cm47CgkgICAgfQoJCWlmIChWYWx1ZSA8IG1pbmltdW1Sb2xsUHJpY2UpIHsKCQkJVmFsdWUgPSBtaW5pbXVtUm9sbFByaWNlOwoJCX0KCQlSYXRlID0gZ2V0UmF0ZShWYWx1ZSk7CgkJQmV0ID0gZ2V0UmVhbEJldChSYXRlKTsKCQlpZiAoVmFsdWUgPCBCZXQpIHsKCQkgICAgUmF0ZSsrOwoJCSAgICBCZXQgPSBnZXRSZWFsQmV0KFJhdGUpOwoJCX0KCQlpZiAoUmF0ZSA8IEJlc3RSb2xsUmF0ZSkgeyAKCQkgICAgUmF0ZSA9IEJlc3RSb2xsUmF0ZTsKCQkgICAgQmV0ID0gZ2V0UmVhbEJldChSYXRlKTsKICAgICAgICB9Cgl9CglmdW5jdGlvbiBCZXRQcmljZUxpbWl0KCkgY29uc3RhbnQgcmV0dXJucyh1aW50IG1pbix1aW50IG1heCkgewoJCW1pbiA9IG1pbmltdW1Sb2xsUHJpY2U7CgkJbWF4ID0gZ2V0UmVhbEJldChCZXN0Um9sbFJhdGUpOwoJfQoJZnVuY3Rpb24gSW52ZXN0b3JzKGFkZHJlc3MgQWRkcmVzcykgY29uc3RhbnQgcmV0dXJucyh1aW50IEludmVzdG1lbnQsIHVpbnQgQmFsYW5jZSwgYm9vbCBMaXZlKSB7CgkJdWludCBJbnZlc3RvcklEID0gZ2V0SW52ZXN0b3JCeUFkZHJlc3MoQWRkcmVzcyk7CgkJaWYgKEludmVzdG9ySUQgPT0gMCB8fCAhIGludmVzdG9yc1tJbnZlc3RvcklEXS52YWxpZCkgewoJCQlJbnZlc3RtZW50ID0gMDsKCQkJQmFsYW5jZSA9IDA7CgkJCUxpdmUgPSBmYWxzZTsKCQl9CgkJSW52ZXN0bWVudCA9IGludmVzdG9yc1tJbnZlc3RvcklEXS52YWx1ZTsKCQlCYWxhbmNlID0gaW52ZXN0b3JzW0ludmVzdG9ySURdLmJhbGFuY2U7CgkJTGl2ZSA9IGludmVzdG9yc1tJbnZlc3RvcklEXS5saXZlOwoJfQoJCgkvKgoJCUV4dGVybmFsIGZ1bmN0aW9ucwoJKi8KCS8qIEZhbGxiYWNrICovCglmdW5jdGlvbiAoKSB7CgkJUHJlcGFyZVJvbGwoMCk7Cgl9CgkvKiBGb3IgSW52ZXN0b3JzICovCglmdW5jdGlvbiBJbnZlc3QoKSBPbmx5RW5hYmxlZCBleHRlcm5hbCB7CgkJdWludCB2YWx1ZV8gPSBtc2cudmFsdWU7CgkJaWYgKHZhbHVlXyA8IGludmVzdFVuaXQpIHsgdGhyb3c7IH0KCQlpZiAodmFsdWVfICUgaW52ZXN0VW5pdCA+IDApIHsgCgkJCWlmICggISBtc2cuc2VuZGVyLnNlbmQodmFsdWVfICUgaW52ZXN0VW5pdCkpIHsgdGhyb3c7IH0gCgkJCXZhbHVlXyA9IHZhbHVlXyAtICh2YWx1ZV8gJSBpbnZlc3RVbml0KTsKCQl9CgkJdWludCBJbnZlc3RvcklEID0gZ2V0SW52ZXN0b3JCeUFkZHJlc3MobXNnLnNlbmRlcik7CgkJaWYgKEludmVzdG9ySUQgPT0gMCkgewoJCQlJbnZlc3RvcklEID0gaW52ZXN0b3JzLmxlbmd0aDsKCQkJaW52ZXN0b3JzLmxlbmd0aCsrOwoJCX0KCQlpZiAoaW52ZXN0b3JzW0ludmVzdG9ySURdLnZhbGlkICYmIGludmVzdG9yc1tJbnZlc3RvcklEXS5saXZlKSB7CgkJCWludmVzdG9yc1tJbnZlc3RvcklEXS52YWx1ZSArPSB2YWx1ZV87CgkJfSBlbHNlIHsKCQkJaW52ZXN0b3JzW0ludmVzdG9ySURdLnZhbHVlID0gdmFsdWVfOwoJCX0KCQlpbnZlc3RvcnNbSW52ZXN0b3JJRF0udGltZXN0YW1wID0gbm93ICsgaW52ZXN0TWluRHVyYXRpb247CgkJaW52ZXN0b3JzW0ludmVzdG9ySURdLnZhbGlkID0gdHJ1ZTsKCQlpbnZlc3RvcnNbSW52ZXN0b3JJRF0ubGl2ZSA9IHRydWU7CgkJaW52ZXN0b3JzW0ludmVzdG9ySURdLm93bmVyID0gbXNnLnNlbmRlcjsKCQlqYWNrcG90XyArPSB2YWx1ZV87CgkJc2V0SmFja3BvdCgpOwoJfQoJZnVuY3Rpb24gR2V0TXlJbnZlc3RtZW50QmFsYW5jZSgpIGV4dGVybmFsIG5vRXRoZXIgewoJCXVpbnQgSW52ZXN0b3JJRCA9IGdldEludmVzdG9yQnlBZGRyZXNzKG1zZy5zZW5kZXIpOwoJCWlmIChJbnZlc3RvcklEID09IDApIHsgdGhyb3c7IH0KCQlpZiAoICEgaW52ZXN0b3JzW0ludmVzdG9ySURdLnZhbGlkKSB7IHRocm93OyB9CgkJaWYgKGludmVzdG9yc1tJbnZlc3RvcklEXS5iYWxhbmNlID09IDApIHsgdGhyb3c7IH0KCQlpZiAoICEgbXNnLnNlbmRlci5zZW5kKCBpbnZlc3RvcnNbSW52ZXN0b3JJRF0uYmFsYW5jZSApKSB7IHRocm93OyB9CgkJaW52ZXN0b3JzW0ludmVzdG9ySURdLmJhbGFuY2UgPSAwOwoJfQoJZnVuY3Rpb24gQ2FuY2VsTXlJbnZlc3RtZW50KCkgZXh0ZXJuYWwgbm9FdGhlciB7CgkJdWludCBJbnZlc3RvcklEID0gZ2V0SW52ZXN0b3JCeUFkZHJlc3MobXNnLnNlbmRlcik7CgkJaWYgKEludmVzdG9ySUQgPT0gMCkgeyB0aHJvdzsgfQoJCWlmICggISBpbnZlc3RvcnNbSW52ZXN0b3JJRF0udmFsaWQpIHsgdGhyb3c7IH0KCQlpZiAoaW52ZXN0b3JzW0ludmVzdG9ySURdLnRpbWVzdGFtcCA+IG5vdyAmJiBDb250cmFjdEVuYWJsZWQpIHsgdGhyb3c7IH0KCQl1aW50IGJhbGFuY2VfOwoJCWlmIChpbnZlc3RvcnNbSW52ZXN0b3JJRF0ubGl2ZSkgewoJCQlqYWNrcG90XyAtPSBpbnZlc3RvcnNbSW52ZXN0b3JJRF0udmFsdWU7CgkJCWJhbGFuY2VfID0gaW52ZXN0b3JzW0ludmVzdG9ySURdLnZhbHVlOwoJCQlzZXRKYWNrcG90KCk7CgkJfQoJCWlmIChpbnZlc3RvcnNbSW52ZXN0b3JJRF0uYmFsYW5jZSA+IDApIHsKCQkJYmFsYW5jZV8gKz0gaW52ZXN0b3JzW0ludmVzdG9ySURdLmJhbGFuY2U7CgkJfQoJCWlmICggISBtc2cuc2VuZGVyLnNlbmQoIGJhbGFuY2VfICkpIHsgdGhyb3c7IH0KCQlkZWxldGUgaW52ZXN0b3JzW0ludmVzdG9ySURdOwoJfQoJLyogRm9yIFBsYXllcnMgKi8KCWZ1bmN0aW9uIERvUm9sbCgpIGV4dGVybmFsIG5vRXRoZXIgewoJCXVpbnQgdmFsdWVfOwoJCWJvb2wgZm91bmQ7CgkJZm9yICggdWludCBhPTAgOyBhIDwgcGxheWVyc1ttc2cuc2VuZGVyXS5sZW5ndGggOyBhKysgKSB7CgkJCWlmIChwbGF5ZXJzW21zZy5zZW5kZXJdW2FdLnZhbGlkKSB7CgkJCSAgICBpZiAocGxheWVyc1ttc2cuc2VuZGVyXVthXS5ibG9ja051bWJlcityb2xsTG9zc0Jsb2NrRGVsYXkgPD0gYmxvY2subnVtYmVyKSB7CgkJCSAgICAgICAgdWludCBmZWVWYWx1ZV8gPSBwbGF5ZXJzW21zZy5zZW5kZXJdW2FdLnZhbHVlLzI7CgkJCSAgICAgICAgZmVlVmFsdWUgKz0gZmVlVmFsdWVfOwoJCQkgICAgICAgIGludmVzdG9yQWRkRmVlKHBsYXllcnNbbXNnLnNlbmRlcl1bYV0udmFsdWUgLSBmZWVWYWx1ZV8pOwoJCQkJCXBsYXllcnNQb3QgLT0gcGxheWVyc1ttc2cuc2VuZGVyXVthXS52YWx1ZTsKCQkJCQlEb1JvbGxFdmVudChtc2cuc2VuZGVyLCBwbGF5ZXJzW21zZy5zZW5kZXJdW2FdLnZhbHVlLCBwbGF5ZXJzW21zZy5zZW5kZXJdW2FdLmlkLCBmYWxzZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCAwLCAwLCAwKTsKCQkJCQlkZWxldGUgcGxheWVyc1ttc2cuc2VuZGVyXVthXTsKCQkJCQlmb3VuZCA9IHRydWU7CgkJCQkJY29udGludWU7CgkJCSAgICB9CgkJCQlpZiAoICEgQ29udHJhY3RFbmFibGVkIHx8IGphY2twb3RfID09IDAgfHwgcGxheWVyc1ttc2cuc2VuZGVyXVthXS5nYW1lICE9IEphY2twb3RIaXRzKSB7CgkJCQkJdmFsdWVfICs9IHBsYXllcnNbbXNnLnNlbmRlcl1bYV0udmFsdWU7CgkJCQkJcGxheWVyc1BvdCAtPSBwbGF5ZXJzW21zZy5zZW5kZXJdW2FdLnZhbHVlOwoJCQkJCURvUm9sbEV2ZW50KG1zZy5zZW5kZXIsIHBsYXllcnNbbXNnLnNlbmRlcl1bYV0udmFsdWUsIHBsYXllcnNbbXNnLnNlbmRlcl1bYV0uaWQsIHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIDAsIDApOwoJCQkJCWRlbGV0ZSBwbGF5ZXJzW21zZy5zZW5kZXJdW2FdOwoJCQkJCWZvdW5kID0gdHJ1ZTsKCQkJCQljb250aW51ZTsKCQkJCX0KCQkJCWlmIChwbGF5ZXJzW21zZy5zZW5kZXJdW2FdLmJsb2NrTnVtYmVyIDwgYmxvY2subnVtYmVyKSB7CgkJCQkJdmFsdWVfICs9IG1ha2VSb2xsKGEpOwoJCQkJCXBsYXllcnNQb3QgLT0gcGxheWVyc1ttc2cuc2VuZGVyXVthXS52YWx1ZTsKCQkJCQlkZWxldGUgcGxheWVyc1ttc2cuc2VuZGVyXVthXTsKCQkJCQlmb3VuZCA9IHRydWU7CgkJCQkJY29udGludWU7CgkJCQl9CgkJCX0KCQl9CgkJaWYgKCAhIGZvdW5kKSB7IHRocm93OyB9CgkJaWYgKHZhbHVlXyA+IDApIHsgaWYgKCAhIG1zZy5zZW5kZXIuc2VuZCh2YWx1ZV8pKSB7IHRocm93OyB9IH0KCX0KCWZ1bmN0aW9uIFByZXBhcmVSb2xsKHVpbnQgc2VlZCkgT25seUVuYWJsZWQgewoJCWlmIChtc2cudmFsdWUgPCBtaW5pbXVtUm9sbFByaWNlKSB7IHRocm93OyB9CgkJaWYgKGphY2twb3RfID09IDApIHsgdGhyb3c7IH0KCQl1aW50IF9yYXRlID0gZ2V0UmF0ZShtc2cudmFsdWUpOwoJCXVpbnQgX3JlYWxCZXQgPSBnZXRSZWFsQmV0KF9yYXRlKTsKCQlpZiAobXNnLnZhbHVlIDwgX3JlYWxCZXQpIHsKCQkgICAgX3JhdGUrKzsKCQkgICAgX3JlYWxCZXQgPSBnZXRSZWFsQmV0KF9yYXRlKTsKCQl9CgkJaWYgKF9yYXRlIDwgQmVzdFJvbGxSYXRlKSB7IAoJCSAgICBfcmF0ZSA9IEJlc3RSb2xsUmF0ZTsKCQkgICAgX3JlYWxCZXQgPSBnZXRSZWFsQmV0KF9yYXRlKTsKICAgICAgICB9CgkJaWYgKG1zZy52YWx1ZS1fcmVhbEJldCA+IDApIHsKCQkJaWYgKCAhIG1zZy5zZW5kZXIuc2VuZCggbXNnLnZhbHVlLV9yZWFsQmV0ICkpIHsgdGhyb3c7IH0KCQl9CgkJZm9yICh1aW50IGEgPSAwIDsgYSA8IHBsYXllcnNbbXNnLnNlbmRlcl0ubGVuZ3RoIDsgYSsrKSB7CgkJCWlmICggISBwbGF5ZXJzW21zZy5zZW5kZXJdW2FdLnZhbGlkKSB7CgkJCQlwcmVwYXJlUm9sbCggYSwgX3JlYWxCZXQsIHNlZWQgKTsKCQkJCXJldHVybjsKCQkJfQoJCX0KCQlwbGF5ZXJzW21zZy5zZW5kZXJdLmxlbmd0aCsrOwoJCXByZXBhcmVSb2xsKCBwbGF5ZXJzW21zZy5zZW5kZXJdLmxlbmd0aC0xLCBfcmVhbEJldCwgc2VlZCApOwoJfQoJLyogRm9yIE93bmVyICovCglmdW5jdGlvbiBPd25lckNsb3NlQ29udHJhY3QoKSBleHRlcm5hbCBPbmx5T3duZXIgbm9FdGhlciB7CgkJaWYgKCAhIENvbnRyYWN0RW5hYmxlZCkgewoJCSAgICBpZiAoQ29udHJhY3REaXNhYmxlZEJsb2NrIDwgYmxvY2subnVtYmVyKSB7CgkJCQlpZiAocGxheWVyc1BvdCA9PSAwKSB7IHRocm93OyB9CgkJCQlpZiAoICEgbXNnLnNlbmRlci5zZW5kKCBwbGF5ZXJzUG90ICkpIHsgdGhyb3c7IH0KCQkJCXBsYXllcnNQb3QgPSAwOwoJCSAgICB9CgkJfSBlbHNlIHsKICAgIAkJQ29udHJhY3RFbmFibGVkID0gZmFsc2U7CiAgICAJCUNvbnRyYWN0RGlzYWJsZWRCbG9jayA9IGJsb2NrLm51bWJlcityb2xsTG9zc0Jsb2NrRGVsYXk7CgkJCUNvbnRyYWN0RGlzYWJsZWQoQ29udHJhY3REaXNhYmxlZEJsb2NrKTsKICAgIAkJZmVlVmFsdWUgKz0gZXh0cmFKYWNrcG90XzsKICAgIAkJZXh0cmFKYWNrcG90XyA9IDA7CgkJfQoJfQoJZnVuY3Rpb24gT3duZXJHZXRGZWUoKSBleHRlcm5hbCBPbmx5T3duZXIgbm9FdGhlciB7CgkJaWYgKGZlZVZhbHVlID09IDApIHsgdGhyb3c7IH0KCQlpZiAoICEgb3duZXIuc2VuZChmZWVWYWx1ZSkpIHsgdGhyb3c7IH0KCQlmZWVWYWx1ZSA9IDA7Cgl9CgkKCS8qCgkJUHJpdmF0ZSBmdW5jdGlvbnMKCSovCglmdW5jdGlvbiBzZXRKYWNrcG90KCkgcHJpdmF0ZSB7CgkJSmFja3BvdCA9IGV4dHJhSmFja3BvdF8gKyBqYWNrcG90XzsKCX0KCWZ1bmN0aW9uIG1ha2VSb2xsKHVpbnQgaWQpIHByaXZhdGUgcmV0dXJucyh1aW50IHdpbikgewoJCXVpbnQgZmVlVmFsdWVfID0gcGxheWVyc1ttc2cuc2VuZGVyXVtpZF0udmFsdWUgKiBmZWUgLyAxMDAgOwoJCWZlZVZhbHVlICs9IGZlZVZhbHVlXzsKCQl1aW50IGludmVzdG9yRmVlXyA9IHBsYXllcnNbbXNnLnNlbmRlcl1baWRdLnZhbHVlICogaW52ZXN0b3JGZWUgLyAxMDA7CgkJaW52ZXN0b3JBZGRGZWUoaW52ZXN0b3JGZWVfKTsKCQlleHRyYUphY2twb3RfICs9IHBsYXllcnNbbXNnLnNlbmRlcl1baWRdLnZhbHVlIC0gZmVlVmFsdWVfIC0gaW52ZXN0b3JGZWVfOwoJCXNldEphY2twb3QoKTsKCQlieXRlczMyIGhhc2hfID0gcGxheWVyc1ttc2cuc2VuZGVyXVtpZF0uZXh0cmFIYXNoOwoJCWZvciAoIHVpbnQgYSA9IDEgOyBhIDw9IHByZXBhcmVCbG9ja0RlbGF5IDsgYSsrICkgewoJCQloYXNoXyA9IHNoYTMoaGFzaF8sIGJsb2NrLmJsb2NraGFzaChwbGF5ZXJzW21zZy5zZW5kZXJdW2lkXS5ibG9ja051bWJlciAtIHByZXBhcmVCbG9ja0RlbGF5K2EpKTsKCQl9CgkJdWludCBfcmF0ZSA9IGdldFJhdGUocGxheWVyc1ttc2cuc2VuZGVyXVtpZF0udmFsdWUpOwoJCXVpbnQgYmlnTnVtYmVyID0gdWludDY0KGhhc2hfKTsKCQlpZiAoYmlnTnVtYmVyICUgX3JhdGUgPT0gMCApIHsKCQkJd2luID0gSmFja3BvdDsKCQkJZm9yICggYT0xIDsgYSA8IGludmVzdG9ycy5sZW5ndGggOyBhKysgKSB7CgkJCQlpbnZlc3RvcnNbYV0ubGl2ZSA9IGZhbHNlOwoJCQl9CgkJCUphY2twb3RIaXRzKys7CgkJCWV4dHJhSmFja3BvdF8gPSAwOwoJCQlqYWNrcG90XyA9IDA7CgkJCUphY2twb3QgPSAwOwoJCQlEb1JvbGxFdmVudChtc2cuc2VuZGVyLCB3aW4sIHBsYXllcnNbbXNnLnNlbmRlcl1baWRdLmlkLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCB0cnVlLCBiaWdOdW1iZXIsIF9yYXRlLCBiaWdOdW1iZXIgJSBfcmF0ZSk7CgkJfSBlbHNlIHsKCQkJRG9Sb2xsRXZlbnQobXNnLnNlbmRlciwgcGxheWVyc1ttc2cuc2VuZGVyXVtpZF0udmFsdWUsIHBsYXllcnNbbXNnLnNlbmRlcl1baWRdLmlkLCBmYWxzZSwgZmFsc2UsIHRydWUsIGZhbHNlLCBiaWdOdW1iZXIsIF9yYXRlLCBiaWdOdW1iZXIgJSBfcmF0ZSk7CgkJfQoJfQoJZnVuY3Rpb24gaW52ZXN0b3JBZGRGZWUodWludCB2YWx1ZSkgcHJpdmF0ZSB7CgkJYm9vbCBkb25lOwoJCWZvciAoIHVpbnQgYT0xIDsgYSA8IGludmVzdG9ycy5sZW5ndGggOyBhKysgKSB7CgkJCWlmIChpbnZlc3RvcnNbYV0ubGl2ZSAmJiBpbnZlc3RvcnNbYV0udmFsaWQpIHsKCQkJCWludmVzdG9yc1thXS5iYWxhbmNlICs9IHZhbHVlICogaW52ZXN0b3JzW2FdLnZhbHVlIC8gamFja3BvdF87CgkJCQlkb25lID0gdHJ1ZTsKCQkJfQoJCX0KCQlpZiAoICEgZG9uZSkgewoJCQlmZWVWYWx1ZSArPSB2YWx1ZTsKCQl9Cgl9CglmdW5jdGlvbiBwcmVwYXJlUm9sbCh1aW50IHJvbGxJRCwgdWludCBiZXQsIHVpbnQgc2VlZCkgcHJpdmF0ZSB7CgkJUm9sbENvdW50Kys7CgkJcGxheWVyc1ttc2cuc2VuZGVyXVtyb2xsSURdLmJsb2NrTnVtYmVyID0gYmxvY2subnVtYmVyICsgcHJlcGFyZUJsb2NrRGVsYXk7CgkJcGxheWVyc1ttc2cuc2VuZGVyXVtyb2xsSURdLmV4dHJhSGFzaCA9IHNoYTMoUm9sbENvdW50LCBub3csIHNlZWQpOwoJCXBsYXllcnNbbXNnLnNlbmRlcl1bcm9sbElEXS52YWxpZCA9IHRydWU7CgkJcGxheWVyc1ttc2cuc2VuZGVyXVtyb2xsSURdLnZhbHVlID0gYmV0OwoJCXBsYXllcnNbbXNnLnNlbmRlcl1bcm9sbElEXS5nYW1lID0gSmFja3BvdEhpdHM7CgkJcGxheWVyc1ttc2cuc2VuZGVyXVtyb2xsSURdLmlkID0gUm9sbENvdW50OwoJCXBsYXllcnNQb3QgKz0gYmV0OwoJCVByZXBhcmVSb2xsRXZlbnQobXNnLnNlbmRlciwgcGxheWVyc1ttc2cuc2VuZGVyXVtyb2xsSURdLmJsb2NrTnVtYmVyLCBwbGF5ZXJzW21zZy5zZW5kZXJdW3JvbGxJRF0udmFsdWUsIHBsYXllcnNbbXNnLnNlbmRlcl1bcm9sbElEXS5pZCk7Cgl9CgkKCS8qCgkJSW50ZXJuYWwgZnVuY3Rpb25zCgkqLwkKCWZ1bmN0aW9uIGdldFJhdGUodWludCB2YWx1ZSkgaW50ZXJuYWwgcmV0dXJucyh1aW50KXsKCQlyZXR1cm4gamFja3BvdF8gKiAxMDAwMDAwIC8gdmFsdWUgKiAxMDAgLyBpbnZlc3RvckZlZSAqIGV4dHJhUmF0ZSAvIDEwMCAvIDEwMDAwMDA7Cgl9CglmdW5jdGlvbiBnZXRSZWFsQmV0KHVpbnQgcmF0ZSkgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewoJCXJldHVybiBqYWNrcG90XyAqIDEwMDAwMDAgLyAoIHJhdGUgKiAxMDAwMDAwICogaW52ZXN0b3JGZWUgLyBleHRyYVJhdGUpOwoJfQoJZnVuY3Rpb24gZ2V0SW52ZXN0b3JCeUFkZHJlc3MoYWRkcmVzcyBBZGRyZXNzKSBpbnRlcm5hbCByZXR1cm5zICh1aW50IGlkKSB7CgkJZm9yICggaWQ9MSA7IGlkIDwgaW52ZXN0b3JzLmxlbmd0aCA7IGlkKysgKSB7CgkJCWlmIChpbnZlc3RvcnNbaWRdLm93bmVyID09IEFkZHJlc3MpIHsKCQkJCXJldHVybjsKCQkJfQoJCX0KCQlyZXR1cm4gMDsKCX0KCQoJLyoKCQlFdmVudHMKCSovCQoJZXZlbnQgRG9Sb2xsRXZlbnQoYWRkcmVzcyBQbGF5ZXIsIHVpbnQgVmFsdWUsIHVpbnQgUm9sbElELCBib29sIFJlZnVuZCwgYm9vbCBMb3N0QmV0LCBib29sIExvc3NSb2xsLCBib29sIFdpblJvbGwsIHVpbnQgQmlnTnVtYmVyLCB1aW50IFJhdGUsIHVpbnQgUm9sbFJlc3VsdCk7CglldmVudCBQcmVwYXJlUm9sbEV2ZW50KGFkZHJlc3MgUGxheWVyLCB1aW50IEJsb2NrLCB1aW50IEJldCwgdWludCBSb2xsSUQpOwoJZXZlbnQgQ29udHJhY3REaXNhYmxlZCh1aW50IExvc3NBbGxCZXRCbG9ja051bWJlcik7CgkKCS8qCgkJTW9kaWZpZXJzCgkqLwoJbW9kaWZpZXIgbm9FdGhlcigpIHsgaWYgKG1zZy52YWx1ZSA+IDApIHsgdGhyb3c7IH0gXzsgfQltb2RpZmllciBPbmx5T3duZXIoKSB7IGlmIChvd25lciAhPSBtc2cuc2VuZGVyKSB7IHRocm93OyB9IF87IH0JbW9kaWZpZXIgT25seUVuYWJsZWQoKSB7IGlmICggISBDb250cmFjdEVuYWJsZWQpIHsgdGhyb3c7IH0gXzsgfX0='.
	

]
