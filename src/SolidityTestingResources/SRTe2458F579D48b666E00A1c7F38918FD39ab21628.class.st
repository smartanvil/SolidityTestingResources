Class {
	#name : #SRTe2458F579D48b666E00A1c7F38918FD39ab21628,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe2458F579D48b666E00A1c7F38918FD39ab21628 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTQ7CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbCAKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4gCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIC8qKiAKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiByZXZlcnQoKXMgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLiAKICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgewogICAgICByZXZlcnQoKTsKICAgIH0KICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLiAKICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9Cgp9CgoKCi8qKgogKiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICAKICAKICBmdW5jdGlvbiBtdWwyNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXF1aXJlKGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSByZXZlcnQoKXMgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1YjI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgcmVxdWlyZShiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfSAgCiAgCgogIGZ1bmN0aW9uIG1heDY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW42NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtYXgyNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQp9CgoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKCgoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBFUkMyMCBpbnRlcmZhY2Ugd2l0aCBhbGxvd2FuY2VzLiAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKCgoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLiAKICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgICogQGRldiBGaXggZm9yIHRoZSBFUkMyMCBzaG9ydCBhZGRyZXNzIGF0dGFjay4KICAgKi8KICBtb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludCBzaXplKSB7CiAgICAgaWYobXNnLmRhdGEubGVuZ3RoIDwgc2l6ZSArIDQpIHsKICAgICAgIHJldmVydCgpOwogICAgIH0KICAgICBfOwogIH0KCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YjI1NihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkMjU2KF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4gCiAgKiBAcmV0dXJuIEFuIHVpbnQgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCgoKCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICogQGRldiBJbXBsZW1hbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcnQgdG9rZW4uCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEJhc2ljVG9rZW4sIEVSQzIwIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludCB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMyAqIDMyKSB7CiAgICB2YXIgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgcmV2ZXJ0KCkgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldAogICAgLy8gaWYgKF92YWx1ZSA+IF9hbGxvd2FuY2UpIHJldmVydCgpOwoKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZDI1NihfdmFsdWUpOwogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YjI1NihfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YjI1NihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICB9CgogIC8qKgogICAqIEBkZXYgQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgewoKICAgIC8vICBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIGlmICgoX3ZhbHVlICE9IDApICYmIChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSAhPSAwKSkgcmV2ZXJ0KCk7CgogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhbiBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCgp9CgoKCi8qKgogKiBAdGl0bGUgTHVja3lUb2tlbgogKiBAZGV2IFRoZSBtYWluIEx1Y2t5IHRva2VuIGNvbnRyYWN0CiAqIAogKi8KIApjb250cmFjdCBMdWNreVRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIE93bmFibGV7CiAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIkx1Y2t5ODg4Q29pbiI7CiAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiTEtZIjsKICB1aW50IHB1YmxpYyBkZWNpbWFscyA9IDE4OwoKICBldmVudCBUb2tlbkJ1cm5lZCh1aW50MjU2IHZhbHVlKTsKICAKICBmdW5jdGlvbiBMdWNreVRva2VuKCkgewogICAgdG90YWxTdXBwbHkgPSAoMTAgKiogOCkgKiAoMTAgKiogZGVjaW1hbHMpOwogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSB0b3RhbFN1cHBseTsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBvd25lciB0byBidXJuIHRoZSB0b2tlbgogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0byBiZSBidXJuZWQuCiAgICovCiAgZnVuY3Rpb24gYnVybih1aW50IF92YWx1ZSkgb25seU93bmVyIHsKICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKTsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViMjU2KF92YWx1ZSk7CiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YjI1NihfdmFsdWUpOwogICAgVG9rZW5CdXJuZWQoX3ZhbHVlKTsKICB9Cgp9CgovKioKICogQHRpdGxlIEluaXRpYWxUZXVUb2tlblNhbGUKICogQGRldiBUaGUgSW5pdGlhbCBURVUgdG9rZW4gc2FsZSBjb250cmFjdAogKiAKICovCmNvbnRyYWN0IGluaXRpYWxUZXVUb2tlblNhbGUgaXMgT3duYWJsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CiAgZXZlbnQgTG9nUGVyaW9kU3RhcnQodWludCBwZXJpb2QpOwogIGV2ZW50IExvZ0NvbGxlY3Rpb25TdGFydCh1aW50IHBlcmlvZCk7CiAgZXZlbnQgTG9nQ29udHJpYnV0aW9uKGFkZHJlc3MgaW5kZXhlZCBjb250cmlidXRvckFkZHJlc3MsIHVpbnQyNTYgd2VpQW1vdW50LCB1aW50IHBlcmlvZCk7CiAgZXZlbnQgTG9nQ29sbGVjdChhZGRyZXNzIGluZGV4ZWQgY29udHJpYnV0b3JBZGRyZXNzLCB1aW50MjU2IHRva2VuQW1vdW50LCB1aW50IHBlcmlvZCk7IAoKICBMdWNreVRva2VuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpdmF0ZSAgdG9rZW47IAogIG1hcHBpbmcodWludCA9PiBhZGRyZXNzKSAgICAgICAgICAgICAgICAgICAgICAgcHJpdmF0ZSAgd2FsbGV0T2ZQZXJpb2Q7CiAgdWludDI1NiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcml2YXRlICBtaW5Db250cmlidXRpb24gPSAwLjEgZXRoZXI7CiAgdWludCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcml2YXRlICBzYWxlU3RhcnQ7CiAgYm9vbCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcml2YXRlICBpc1Rva2VuQ29sbGVjdGFibGUgPSBmYWxzZTsKICBtYXBwaW5nKHVpbnQgPT4gdWludCkgICAgICAgICAgICAgICAgICAgICAgICAgIHByaXZhdGUgIHBlcmlvZFN0YXJ0OwogIG1hcHBpbmcodWludCA9PiB1aW50KSAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpdmF0ZSAgcGVyaW9kRGVhZGxpbmU7CiAgbWFwcGluZyh1aW50ID0+IHVpbnQyNTYpICAgICAgICAgICAgICAgICAgICAgICBwcml2YXRlICBwZXJpb2RUb2tlblBvb2w7CgogIG1hcHBpbmcodWludCA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSAgcHJpdmF0ZSAgY29udHJpYnV0aW9uOyAgCiAgbWFwcGluZyh1aW50ID0+IHVpbnQyNTYpICAgICAgICAgICAgICAgICAgICAgICBwcml2YXRlICBwZXJpb2RDb250cmlidXRpb247ICAKICBtYXBwaW5nKHVpbnQgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSkgICAgIHByaXZhdGUgIGNvbGxlY3RlZDsgIAogIG1hcHBpbmcodWludCA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSAgcHJpdmF0ZSAgdG9rZW5Db2xsZWN0ZWQ7ICAKICAKICB1aW50IHB1YmxpYyB0b3RhbFBlcmlvZCA9IDA7CiAgdWludCBwdWJsaWMgY3VycmVudFBlcmlvZCA9IDA7CgoKICAvKioKICAgKiBAZGV2IEluaXRpYWxpc2UgdGhlIGNvbnRyYWN0CiAgICogQHBhcmFtIF90b2tlbkFkZHJlc3MgYWRkcmVzcyBvZiBURVUgdG9rZW4KICAgKiBAcGFyYW0gX3dhbGxldFBlcmlvZDEgYWRkcmVzcyBvZiBwZXJpb2QgMSB3YWxsZXQKICAgKiBAcGFyYW0gX3dhbGxldFBlcmlvZDIgYWRkcmVzcyBvZiBwZXJpb2QgMiB3YWxsZXQKICAgKiBAcGFyYW0gX3Rva2VuUG9vbFBlcmlvZDEgYW1vdW50IG9mIHBvb2wgb2YgdG9rZW4gaW4gcGVyaW9kIDEKICAgKiBAcGFyYW0gX3Rva2VuUG9vbFBlcmlvZDIgYW1vdW50IG9mIHBvb2wgb2YgdG9rZW4gaW4gcGVyaW9kIDIKICAgKiBAcGFyYW0gX3NhbGVTdGFydERhdGUgc3RhcnQgZGF0ZSAvIHRpbWUgb2YgdGhlIHRva2VuIHNhbGUKICAgKi8KICBmdW5jdGlvbiBpbml0VG9rZW5TYWxlIChhZGRyZXNzIF90b2tlbkFkZHJlc3MKICAsIGFkZHJlc3MgX3dhbGxldFBlcmlvZDEsIGFkZHJlc3MgX3dhbGxldFBlcmlvZDIKICAsIHVpbnQyNTYgX3Rva2VuUG9vbFBlcmlvZDEsIHVpbnQyNTYgX3Rva2VuUG9vbFBlcmlvZDIKICAsIHVpbnQgX3NhbGVTdGFydERhdGUpIG9ubHlPd25lciB7CiAgICBhc3NlcnQodG90YWxQZXJpb2QgPT0gMCk7CiAgICBhc3NlcnQoX3Rva2VuQWRkcmVzcyAhPSBhZGRyZXNzKDApKTsKICAgIGFzc2VydChfd2FsbGV0UGVyaW9kMSAhPSBhZGRyZXNzKDApKTsKICAgIGFzc2VydChfd2FsbGV0UGVyaW9kMiAhPSBhZGRyZXNzKDApKTsKICAgIHdhbGxldE9mUGVyaW9kWzFdID0gX3dhbGxldFBlcmlvZDE7CiAgICB3YWxsZXRPZlBlcmlvZFsyXSA9IF93YWxsZXRQZXJpb2QyOwogICAgcGVyaW9kVG9rZW5Qb29sWzFdID0gX3Rva2VuUG9vbFBlcmlvZDE7CiAgICBwZXJpb2RUb2tlblBvb2xbMl0gPSBfdG9rZW5Qb29sUGVyaW9kMjsKICAgIHRva2VuID0gTHVja3lUb2tlbihfdG9rZW5BZGRyZXNzKTsKICAgIGFzc2VydCh0b2tlbi5vd25lcigpID09IG93bmVyKTsKICAgIHNldFBlcmlvZFN0YXJ0KF9zYWxlU3RhcnREYXRlKTsKIAogIH0KICAKICAKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgb3duZXIgdG8gc2V0IHRoZSBzdGFydGluZyB0aW1lLgogICAqIEBwYXJhbSBfc2FsZVN0YXJ0RGF0ZSB0aGUgbmV3IHNhbGVzIHN0YXJ0IGRhdGUgLyB0aW1lCiAgICovICAKICBmdW5jdGlvbiBzZXRQZXJpb2RTdGFydCh1aW50IF9zYWxlU3RhcnREYXRlKSBvbmx5T3duZXIgYmVmb3JlU2FsZVN0YXJ0IHByaXZhdGUgewogICAgdG90YWxQZXJpb2QgPSAwOwogICAgc2FsZVN0YXJ0ID0gX3NhbGVTdGFydERhdGU7CiAgICAKICAgIHVpbnQgcGVyaW9kMV9jb250cmlidXRpb25JbnRlcnZhbCA9IDE0IGRheXM7CiAgICB1aW50IHBlcmlvZDFfY29sbGVjdGlvbkludGVydmFsID0gMTQgZGF5czsKICAgIHVpbnQgcGVyaW9kMl9jb250cmlidXRpb25JbnRlcnZhbCA9IDcgZGF5czsKICAgIAogICAgYWRkUGVyaW9kKHNhbGVTdGFydCwgc2FsZVN0YXJ0ICsgcGVyaW9kMV9jb250cmlidXRpb25JbnRlcnZhbCk7CiAgICBhZGRQZXJpb2Qoc2FsZVN0YXJ0ICsgcGVyaW9kMV9jb250cmlidXRpb25JbnRlcnZhbCArIHBlcmlvZDFfY29sbGVjdGlvbkludGVydmFsLCBzYWxlU3RhcnQgKyBwZXJpb2QxX2NvbnRyaWJ1dGlvbkludGVydmFsICsgcGVyaW9kMV9jb2xsZWN0aW9uSW50ZXJ2YWwgKyBwZXJpb2QyX2NvbnRyaWJ1dGlvbkludGVydmFsKTsKCiAgICBjdXJyZW50UGVyaW9kID0gMTsgICAgCiAgfSAKICAKICBmdW5jdGlvbiBhZGRQZXJpb2QodWludCBfcGVyaW9kU3RhcnQsIHVpbnQgX3BlcmlvZERlYWRsaW5lKSBvbmx5T3duZXIgYmVmb3JlU2FsZUVuZCBwcml2YXRlIHsKICAgIHJlcXVpcmUoX3BlcmlvZFN0YXJ0ID49IG5vdyAmJiBfcGVyaW9kRGVhZGxpbmUgPiBfcGVyaW9kU3RhcnQgJiYgKHRvdGFsUGVyaW9kID09IDAgfHwgX3BlcmlvZFN0YXJ0ID4gcGVyaW9kRGVhZGxpbmVbdG90YWxQZXJpb2RdKSk7CiAgICB0b3RhbFBlcmlvZCA9IHRvdGFsUGVyaW9kICsgMTsKICAgIHBlcmlvZFN0YXJ0W3RvdGFsUGVyaW9kXSA9IF9wZXJpb2RTdGFydDsKICAgIHBlcmlvZERlYWRsaW5lW3RvdGFsUGVyaW9kXSA9IF9wZXJpb2REZWFkbGluZTsKICAgIHBlcmlvZENvbnRyaWJ1dGlvblt0b3RhbFBlcmlvZF0gPSAwOwogIH0KCgogIC8qKgogICAqIEBkZXYgQ2FsbCB0aGlzIG1ldGhvZCB0byBsZXQgdGhlIGNvbnRyYWN0IHRvIGdvIGludG8gbmV4dCBwZXJpb2Qgb2Ygc2FsZXMKICAgKi8KICBmdW5jdGlvbiBnb05leHRQZXJpb2QoKSBvbmx5T3duZXIgcHVibGljIHsKICAgIGZvciAodWludCBpID0gMTsgaSA8PSB0b3RhbFBlcmlvZDsgaSsrKSB7CiAgICAgICAgaWYgKGN1cnJlbnRQZXJpb2QgPCB0b3RhbFBlcmlvZCAmJiBub3cgPj0gcGVyaW9kU3RhcnRbY3VycmVudFBlcmlvZCArIDFdKSB7CiAgICAgICAgICAgIGN1cnJlbnRQZXJpb2QgPSBjdXJyZW50UGVyaW9kICsgMTsKICAgICAgICAgICAgaXNUb2tlbkNvbGxlY3RhYmxlID0gZmFsc2U7CiAgICAgICAgICAgIExvZ1BlcmlvZFN0YXJ0KGN1cnJlbnRQZXJpb2QpOwogICAgICAgIH0KICAgIH0KICAgIAogIH0KCiAgLyoqCiAgICogQGRldiBDYWxsIHRoaXMgbWV0aG9kIHRvIGxldCB0aGUgY29udHJhY3QgdG8gYWxsb3cgdG9rZW4gY29sbGVjdGlvbiBhZnRlciB0aGUgY29udHJpYnV0aW9uIHBlcmlvZAogICAqLyAgCiAgZnVuY3Rpb24gZ29Ub2tlbkNvbGxlY3Rpb24oKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUoY3VycmVudFBlcmlvZCA+IDAgJiYgbm93ID4gcGVyaW9kRGVhZGxpbmVbY3VycmVudFBlcmlvZF0gJiYgIWlzVG9rZW5Db2xsZWN0YWJsZSk7CiAgICBpc1Rva2VuQ29sbGVjdGFibGUgPSB0cnVlOwogICAgTG9nQ29sbGVjdGlvblN0YXJ0KGN1cnJlbnRQZXJpb2QpOwogIH0KCiAgLyoqCiAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBjb250cmlidXRpb24gb25seSB3aGVuIHRoZSBzYWxlIGlzIE9OCiAgICovCiAgbW9kaWZpZXIgc2FsZUlzT24oKSB7CiAgICByZXF1aXJlKGN1cnJlbnRQZXJpb2QgPiAwICYmIG5vdyA+PSBwZXJpb2RTdGFydFtjdXJyZW50UGVyaW9kXSAmJiBub3cgPCBwZXJpb2REZWFkbGluZVtjdXJyZW50UGVyaW9kXSk7CiAgICBfOwogIH0KICAKICAvKioKICAgKiBAZGV2IG1vZGlmaWVyIHRvIGFsbG93IGNvbGxlY3Rpb24gb25seSB3aGVuIHRoZSBjb2xsZWN0aW9uIGlzIE9OCiAgICovCiAgbW9kaWZpZXIgY29sbGVjdElzT24oKSB7CiAgICByZXF1aXJlKGlzVG9rZW5Db2xsZWN0YWJsZSAmJiBjdXJyZW50UGVyaW9kID4gMCAmJiBub3cgPiBwZXJpb2REZWFkbGluZVtjdXJyZW50UGVyaW9kXSAmJiAoY3VycmVudFBlcmlvZCA9PSB0b3RhbFBlcmlvZCB8fCBub3cgPCBwZXJpb2RTdGFydFtjdXJyZW50UGVyaW9kICsgMV0pKTsKICAgIF87CiAgfQogIAogIC8qKgogICAqIEBkZXYgbW9kaWZpZXIgdG8gZW5zdXJlIGl0IGlzIGJlZm9yZSBzdGFydCBvZiBmaXJzdCBwZXJpb2Qgb2Ygc2FsZQogICAqLyAgCiAgbW9kaWZpZXIgYmVmb3JlU2FsZVN0YXJ0KCkgewogICAgcmVxdWlyZSh0b3RhbFBlcmlvZCA9PSAwIHx8IG5vdyA8IHBlcmlvZFN0YXJ0WzFdKTsKICAgIF87ICAKICB9CiAgLyoqCiAgICogQGRldiBtb2RpZmllciB0byBlbnN1cmUgaXQgaXMgYmVmb3JlIHRoZSBkZWFkbGluZSBvZiBsYXN0IHNhbGUgcGVyaW9kCiAgICovICAKICAgCiAgbW9kaWZpZXIgYmVmb3JlU2FsZUVuZCgpIHsKICAgIHJlcXVpcmUoY3VycmVudFBlcmlvZCA9PSAwIHx8IG5vdyA8IHBlcmlvZERlYWRsaW5lW3RvdGFsUGVyaW9kXSk7CiAgICBfOwogIH0KICAvKioKICAgKiBAZGV2IG1vZGlmaWVyIHRvIGVuc3VyZSBpdCBpcyBhZnRlciB0aGUgZGVhZGxpbmUgb2YgbGFzdCBzYWxlIHBlcmlvZAogICAqLyAKICBtb2RpZmllciBhZnRlclNhbGVFbmQoKSB7CiAgICByZXF1aXJlKGN1cnJlbnRQZXJpb2QgPiAwICYmIG5vdyA+IHBlcmlvZERlYWRsaW5lW3RvdGFsUGVyaW9kXSk7CiAgICBfOwogIH0KICAKICBtb2RpZmllciBvdmVyTWluQ29udHJpYnV0aW9uKCkgewogICAgcmVxdWlyZShtc2cudmFsdWUgPj0gbWluQ29udHJpYnV0aW9uKTsKICAgIF87CiAgfQogIAogIAogIC8qKgogICAqIEBkZXYgcmVjb3JkIHRoZSBjb250cmlidXRpb24gb2YgYSBjb250cmlidXRpb24gCiAgICovCiAgZnVuY3Rpb24gY29udHJpYnV0ZSgpIHByaXZhdGUgc2FsZUlzT24gb3Zlck1pbkNvbnRyaWJ1dGlvbiB7CiAgICBjb250cmlidXRpb25bY3VycmVudFBlcmlvZF1bbXNnLnNlbmRlcl0gPSBjb250cmlidXRpb25bY3VycmVudFBlcmlvZF1bbXNnLnNlbmRlcl0uYWRkMjU2KG1zZy52YWx1ZSk7CiAgICBwZXJpb2RDb250cmlidXRpb25bY3VycmVudFBlcmlvZF0gPSBwZXJpb2RDb250cmlidXRpb25bY3VycmVudFBlcmlvZF0uYWRkMjU2KG1zZy52YWx1ZSk7CiAgICBhc3NlcnQod2FsbGV0T2ZQZXJpb2RbY3VycmVudFBlcmlvZF0uc2VuZChtc2cudmFsdWUpKTsKICAgIExvZ0NvbnRyaWJ1dGlvbihtc2cuc2VuZGVyLCBtc2cudmFsdWUsIGN1cnJlbnRQZXJpb2QpOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgY29udHJpYnV0b3IgdG8gY29sbGVjdCBhbGwgdG9rZW4gYWxsb3RlZCBmb3IgYWxsIHBlcmlvZCBhZnRlciBwcmVpb2QgZGVhZGxpbmUKICAgKi8KICBmdW5jdGlvbiBjb2xsZWN0VG9rZW4oKSBwdWJsaWMgY29sbGVjdElzT24gewogICAgdWludDI1NiBfdG9rZW5Db2xsZWN0ZWQgPSAwOwogICAgZm9yICh1aW50IGkgPSAxOyBpIDw9IHRvdGFsUGVyaW9kOyBpKyspIHsKICAgICAgICBpZiAoIWNvbGxlY3RlZFtpXVttc2cuc2VuZGVyXSAmJiBjb250cmlidXRpb25baV1bbXNnLnNlbmRlcl0gPiAwKQogICAgICAgIHsKICAgICAgICAgICAgX3Rva2VuQ29sbGVjdGVkID0gY29udHJpYnV0aW9uW2ldW21zZy5zZW5kZXJdLm11bDI1NihwZXJpb2RUb2tlblBvb2xbaV0pLmRpdjI1NihwZXJpb2RDb250cmlidXRpb25baV0pOwoKICAgICAgICAgICAgY29sbGVjdGVkW2ldW21zZy5zZW5kZXJdID0gdHJ1ZTsKICAgICAgICAgICAgdG9rZW4udHJhbnNmZXIobXNnLnNlbmRlciwgX3Rva2VuQ29sbGVjdGVkKTsKCiAgICAgICAgICAgIHRva2VuQ29sbGVjdGVkW2ldW21zZy5zZW5kZXJdID0gX3Rva2VuQ29sbGVjdGVkOwogICAgICAgICAgICBMb2dDb2xsZWN0KG1zZy5zZW5kZXIsIF90b2tlbkNvbGxlY3RlZCwgaSk7CiAgICAgICAgfQogICAgfQogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3cgb3duZXIgdG8gdHJhbnNmZXIgb3V0IHRoZSB0b2tlbiBpbiB0aGUgY29udHJhY3QKICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX2Ftb3VudCBhbW91bnQgdG8gdHJhbnNmZXIKICAgKi8gIAogIGZ1bmN0aW9uIHRyYW5zZmVyVG9rZW5PdXQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIG9ubHlPd25lciB7CiAgICB0b2tlbi50cmFuc2ZlcihfdG8sIF9hbW91bnQpOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvdyBvd25lciB0byB0cmFuc2ZlciBvdXQgdGhlIGV0aGVyIGluIHRoZSBjb250cmFjdAogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfYW1vdW50IGFtb3VudCB0byB0cmFuc2ZlcgogICAqLyAgCiAgZnVuY3Rpb24gdHJhbnNmZXJFdGhlck91dChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgb25seU93bmVyIHsKICAgIGFzc2VydChfdG8uc2VuZChfYW1vdW50KSk7CiAgfSAgCgogIC8qKgogICAqIEBkZXYgdG8gZ2V0IHRoZSBjb250cmlidXRpb24gYW1vdW50IG9mIGFueSBjb250cmlidXRvciB1bmRlciBkaWZmZXJlbnQgcGVyaW9kCiAgICogQHBhcmFtIF9wZXJpb2QgcGVyaW9kIHRvIGdldCB0aGUgY29udHJpYnV0aW9uIGFtb3VudAogICAqIEBwYXJhbSBfY29udHJpYnV0b3IgY29udHJpYnV0b3IgdG8gZ2V0IHRoZSBjb25yaWJ1dGlvbiBhbW91bnQKICAgKi8gIAogIGZ1bmN0aW9uIGNvbnRyaWJ1dGlvbk9mKHVpbnQgX3BlcmlvZCwgYWRkcmVzcyBfY29udHJpYnV0b3IpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gY29udHJpYnV0aW9uW19wZXJpb2RdW19jb250cmlidXRvcl0gOwogIH0KCiAgLyoqCiAgICogQGRldiB0byBnZXQgdGhlIHRvdGFsIGNvbnRyaWJ1dGlvbiBhbW91bnQgb2YgYSBnaXZlbiBwZXJpb2QKICAgKiBAcGFyYW0gX3BlcmlvZCBwZXJpb2QgdG8gZ2V0IHRoZSBjb250cmlidXRpb24gYW1vdW50CiAgICovICAKICBmdW5jdGlvbiBwZXJpb2RDb250cmlidXRpb25PZih1aW50IF9wZXJpb2QpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gcGVyaW9kQ29udHJpYnV0aW9uW19wZXJpb2RdOwogIH0KCiAgLyoqCiAgICogQGRldiB0byBjaGVjayBpZiB0b2tlbiBpcyBjb2xsZWN0ZWQgYnkgYW55IGNvbnRyaWJ1dG9yIHVuZGVyIGRpZmZlcmVudCBwZXJpb2QKICAgKiBAcGFyYW0gX3BlcmlvZCBwZXJpb2QgdG8gZ2V0IHRoZSBjb2xsZWN0ZWQgc3RhdHVzCiAgICogQHBhcmFtIF9jb250cmlidXRvciBjb250cmlidXRvciB0byBnZXQgY29sbGVjdGVkIHN0YXR1cwogICAqLyAgCiAgZnVuY3Rpb24gaXNUb2tlbkNvbGxlY3RlZCh1aW50IF9wZXJpb2QsIGFkZHJlc3MgX2NvbnRyaWJ1dG9yKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIGNvbGxlY3RlZFtfcGVyaW9kXVtfY29udHJpYnV0b3JdIDsKICB9CiAgCiAgLyoqCiAgICogQGRldiB0byBnZXQgdGhlIGFtb3VudCBvZiB0b2tlbiBjb2xsZWN0ZWQgYnkgYW55IGNvbnRyaWJ1dG9yIHVuZGVyIGRpZmZlcmVudCBwZXJpb2QKICAgKiBAcGFyYW0gX3BlcmlvZCBwZXJpb2QgdG8gZ2V0IHRoZSBhbW91bnQKICAgKiBAcGFyYW0gX2NvbnRyaWJ1dG9yIGNvbnRyaWJ1dG9yIHRvIGdldCBhbW9udAogICAqLyAgCiAgZnVuY3Rpb24gdG9rZW5Db2xsZWN0ZWRPZih1aW50IF9wZXJpb2QsIGFkZHJlc3MgX2NvbnRyaWJ1dG9yKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIHRva2VuQ29sbGVjdGVkW19wZXJpb2RdW19jb250cmlidXRvcl0gOwogIH0KCiAgLyoqCiAgICogQGRldiBGYWxsYmFjayBmdW5jdGlvbiB3aGljaCByZWNlaXZlcyBldGhlciBhbmQgY3JlYXRlIHRoZSBhcHByb3ByaWF0ZSBudW1iZXIgb2YgdG9rZW5zIGZvciB0aGUgCiAgICogbXNnLnNlbmRlci4KICAgKi8KICBmdW5jdGlvbigpIGV4dGVybmFsIHBheWFibGUgewogICAgY29udHJpYnV0ZSgpOwogIH0KCn0='.
	

]
