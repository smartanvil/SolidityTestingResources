Class {
	#name : #SRTeb41d9b0326b787a7c767478cfc4d060c6aa9dbd,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTeb41d9b0326b787a7c767478cfc4d060c6aa9dbd >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBFUkM3MjEgewogICAgLy8gRVJDMjAgY29tcGF0aWJsZSBmdW5jdGlvbnMKICAgIC8vIHVzZSB2YXJpYWJsZSBnZXR0ZXIKICAgIC8vIGZ1bmN0aW9uIG5hbWUoKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcgbmFtZSk7CiAgICAvLyBmdW5jdGlvbiBzeW1ib2woKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcgc3ltYm9sKTsKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKTsKICAgIGZ1bmN0aW9uIG93bmVyT2YodWludDI1NiBfdG9rZW5JZCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3Mgb3duZXIpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgcHVibGljIDsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG9rZW5JZCk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgZXh0ZXJuYWwgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgZXh0ZXJuYWw7CiAgICAKICAgIC8vIE9wdGlvbmFsCiAgICAvLyBmdW5jdGlvbiB0YWtlT3duZXJzaGlwKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyA7CiAgICAvLyBmdW5jdGlvbiB0b2tlbk9mT3duZXJCeUluZGV4KGFkZHJlc3MgX293bmVyLCB1aW50MjU2IF9pbmRleCkgZXh0ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludCB0b2tlbklkKTsKICAgIC8vIGZ1bmN0aW9uIHRva2VuTWV0YWRhdGEodWludDI1NiBfdG9rZW5JZCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHN0cmluZyBpbmZvVXJsKTsKICAgIAogICAgLy8gRXZlbnRzCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9hcHByb3ZlZCwgdWludDI1NiBfdG9rZW5JZCk7Cn0KCmNvbnRyYWN0IEVSQzIwIHsKICAgIC8vIEdldCB0aGUgdG90YWwgdG9rZW4gc3VwcGx5CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IF90b3RhbFN1cHBseSk7CiAKICAgIC8vIEdldCB0aGUgYWNjb3VudCBiYWxhbmNlIG9mIGFub3RoZXIgYWNjb3VudCB3aXRoIGFkZHJlc3MgX293bmVyCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwogCiAgICAvLyBTZW5kIF92YWx1ZSBhbW91bnQgb2YgdG9rZW5zIHRvIGFkZHJlc3MgX3RvCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgCiAgICAvLyB0cmFuc2ZlciBfdmFsdWUgYW1vdW50IG9mIHRva2VuIGFwcHJvdmVkIGJ5IGFkZHJlc3MgX2Zyb20KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgCiAgICAvLyBhcHByb3ZlIGFuIGFkZHJlc3Mgd2l0aCBfdmFsdWUgYW1vdW50IG9mIHRva2VucwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8gZ2V0IHJlbWFpbmluZyB0b2tlbiBhcHByb3ZlZCBieSBfb3duZXIgdG8gX3NwZW5kZXIKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsKICAKICAgIC8vIFRyaWdnZXJlZCB3aGVuIHRva2VucyBhcmUgdHJhbnNmZXJyZWQuCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKIAogICAgLy8gVHJpZ2dlcmVkIHdoZW5ldmVyIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIGlzIGNhbGxlZC4KICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwp9Cgpjb250cmFjdCBWaXJ0dWFsR2lmdCBpcyBFUkM3MjEgewogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIlZpcnR1YWxHaWZ0IjsgICAgICAgICAgICAgCiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSAwOyAgICAgICAgICAgICAgICAKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIlZURyI7ICAgICAgICAgICAgICAgICAKICAgIHN0cmluZyBwdWJsaWMgdmVyc2lvbiA9ICIxLjAiOyAgCgogICAgYWRkcmVzcyBwcml2YXRlIGRlZmF1bHRHaWZ0T3duZXI7CiAgICAKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSBhbGxvd1Blcm1pc3Npb247CgogICAgRVJDMjAgcHJpdmF0ZSBHaWZ0byA9IEVSQzIwKDB4MDBDNWJCYUU1MDc4MUJlMTY2OTMwNmI5ZTAwMUVGRjU3YTI5NTdiMDlkKTsKICAgIAogICAgZXZlbnQgQ3JlYXRpb24oYWRkcmVzcyBpbmRleGVkIF9vd25lciwgdWludDI1NiBpbmRleGVkIHRva2VuSWQpOwogICAgLy9HaWZ0IHRva2VuIHN0b3JhZ2UuCiAgICBHaWZ0VG9rZW5bXSBnaWZ0U3RvcmFnZUFycnk7CiAgICAvL0dpZnQgdGVtcGxhdGUgc3RvcmFnZS4KICAgIEdpZnRUZW1wbGF0ZVRva2VuW10gZ2lmdFRlbXBsYXRlU3RvcmFnZUFycnk7CiAgICAvL21hcHBpbmcgYWRkcmVzcyB0byBpdCdzIGdpZnQgc3VtCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHJpdmF0ZSBiYWxhbmNlczsKICAgIC8vbWFwcGluZyBnaWZ0IGlkIHRvIG93bmVyCiAgICBtYXBwaW5nKHVpbnQyNTYgPT4gYWRkcmVzcykgcHJpdmF0ZSBnaWZ0SW5kZXhUb093bmVyczsKICAgIC8vdGVsbHMgdGhlIGdpZnQgaXMgZXhpc3RlZCBieSBnaWZ0IGlkCiAgICBtYXBwaW5nKHVpbnQyNTYgPT4gYm9vbCkgcHJpdmF0ZSBnaWZ0RXhpc3RzOwogICAgLy9tYXBwaW5nIGN1cnJlbnQgb3duZXIgdG8gYXBwcm92ZWQgb3duZXJzIHRvIGdpZnQKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBwcml2YXRlIG93bmVyVG9BcHByb3ZlZEFkZHNUb0dpZklkczsKICAgIC8vbWFwcGluZyBnaWZ0IHRlbXBsYXRlIGlkIHRvIGdpZnQgaWRzCiAgICBtYXBwaW5nKHVpbnQyNTYgPT4gdWludDI1NltdKSBwcml2YXRlIGdpZnRUZW1wbGF0ZUlkVG9HaWZ0aWRzOwogICAgLy9NYXBwaW5nIGdpZnQgdHlwZSB0byBnaWZ0IGxpbWl0LgogICAgbWFwcGluZyh1aW50MjU2ID0+IHVpbnQyNTYpIHByaXZhdGUgZ2lmdFR5cGVUb0dpZnRMaW1pdDsKCiAgICAKICAgIC8vbWFwcGluZyBnaWZ0IHRlbXBsYXRlIHRvIGdpZnQgc2VsbGVkIHN1bS4KICAgIG1hcHBpbmcodWludDI1NiA9PiB1aW50MjU2KSBwcml2YXRlIGdpZnRUeXBlVG9TZWxsZWRTdW07CgogICAgLy9HaWZ0IHRlbXBsYXRlIGtub3duIGFzIDAgZ2VuZXJhdGlvbiBnaWZ0CiAgICBzdHJ1Y3QgR2lmdFRlbXBsYXRlVG9rZW4gewogICAgICAgIHVpbnQyNTYgZ2lmdFByaWNlOwogICAgICAgIHVpbnQyNTYgZ2lmdExpbWl0OwogICAgICAgIC8vZ2lmdCBpbWFnZSB1cmwKICAgICAgICBzdHJpbmcgZ2lmdEltZ1VybDsKICAgICAgICAvL2dpZnQgYW5pbWF0aW9uIHVybAogICAgICAgIHN0cmluZyBnaWZ0TmFtZTsKICAgIH0KICAgIC8vdmlydHVhbCBnaWZ0IHRva2VuCiAgICBzdHJ1Y3QgR2lmdFRva2VuIHsKICAgICAgICB1aW50MjU2IGdpZnRQcmljZTsKICAgICAgICB1aW50MjU2IGdpZnRUeXBlOwogICAgICAgIC8vZ2lmdCBpbWFnZSB1cmwKICAgICAgICBzdHJpbmcgZ2lmdEltZ1VybDsKICAgICAgICAvL2dpZnQgYW5pbWF0aW9uIHVybAogICAgICAgIHN0cmluZyBnaWZ0TmFtZTsKICAgIH0gICAgIAoKICAgIG1vZGlmaWVyIG9ubHlIYXZlUGVybWlzc2lvbigpewogICAgICAgIHJlcXVpcmUoYWxsb3dQZXJtaXNzaW9uW21zZy5zZW5kZXJdID09IHRydWUgfHwgbXNnLnNlbmRlciA9PSBkZWZhdWx0R2lmdE93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpewogICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZGVmYXVsdEdpZnRPd25lcik7CiAgICAgICAgIF87CiAgICB9CgogICAgLy9AZGV2IENvbnN0cnVjdG9yIAogICAgZnVuY3Rpb24gVmlydHVhbEdpZnQoKSBwdWJsaWMgewoKICAgICAgICBkZWZhdWx0R2lmdE93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICAKICAgICAgICBHaWZ0VG9rZW4gbWVtb3J5IG5ld0dpZnQgPSBHaWZ0VG9rZW4oewogICAgICAgICAgICBnaWZ0UHJpY2U6IDAsCiAgICAgICAgICAgIGdpZnRUeXBlOiAwLAogICAgICAgICAgICBnaWZ0SW1nVXJsOiAiIiwKICAgICAgICAgICAgZ2lmdE5hbWU6ICIiCiAgICAgICAgfSk7CgogICAgICAgICBHaWZ0VGVtcGxhdGVUb2tlbiBtZW1vcnkgbmV3R2lmdFRlbXBsYXRlID0gR2lmdFRlbXBsYXRlVG9rZW4oewogICAgICAgICAgICAgICAgZ2lmdFByaWNlOiAwLAogICAgICAgICAgICAgICAgZ2lmdExpbWl0OiAwLAogICAgICAgICAgICAgICAgZ2lmdEltZ1VybDogIiIsCiAgICAgICAgICAgICAgICBnaWZ0TmFtZTogIiIKICAgICAgICAgICAgfSk7CiAgICAgICAgCiAgICAgICAgZ2lmdFN0b3JhZ2VBcnJ5LnB1c2gobmV3R2lmdCk7IC8vIGlkID0gMAogICAgICAgIGdpZnRUZW1wbGF0ZVN0b3JhZ2VBcnJ5LnB1c2gobmV3R2lmdFRlbXBsYXRlKTsKICAgICAgIAogICAgfQoKICAgIGZ1bmN0aW9uIGFkZFBlcm1pc3Npb24oYWRkcmVzcyBfYWRkcikgCiAgICBwdWJsaWMgCiAgICBvbmx5T3duZXJ7CiAgICAgICAgYWxsb3dQZXJtaXNzaW9uW19hZGRyXSA9IHRydWU7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHJlbW92ZVBlcm1pc3Npb24oYWRkcmVzcyBfYWRkcikgCiAgICBwdWJsaWMgCiAgICBvbmx5T3duZXJ7CiAgICAgICAgYWxsb3dQZXJtaXNzaW9uW19hZGRyXSA9IGZhbHNlOwogICAgfQoKCiAgICAgLy8vQGRldiBCdXkgYSBnaWZ0IHdoaWxlIGNyZWF0ZSBhIG5ldyBnaWZ0IGJhc2VkIG9uIGdpZnQgdGVtcGxhdGUuCiAgICAgLy8vTWFrZSBzdXJlIHRvIGNhbGwgR2lmdG8uYXBwcm92ZSgpIGZpc3QsIGJlZm9yZSBjYWxsaW5nIHRoaXMgZnVuY3Rpb24KICAgIGZ1bmN0aW9uIHNlbmRHaWZ0KHVpbnQyNTYgX3R5cGUsIAogICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyByZWNpcGllbnQpCiAgICAgICAgICAgICAgICAgICAgIHB1YmxpYyAKICAgICAgICAgICAgICAgICAgICAgb25seUhhdmVQZXJtaXNzaW9uCiAgICAgICAgICAgICAgICAgICAgIHJldHVybnModWludDI1NiBfZ2lmdElkKQogICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgLy9DaGVjayBpZiB0aGUgY3JlYXRlZCBnaWZ0cyBzdW0gPCAgZ2lmdCBMaW1pdAogICAgICAgIHJlcXVpcmUoZ2lmdFR5cGVUb1NlbGxlZFN1bVtfdHlwZV0gPCBnaWZ0VGVtcGxhdGVTdG9yYWdlQXJyeVtfdHlwZV0uZ2lmdExpbWl0KTsKICAgICAgICAgLy9fdHlwZSBtdXN0IGJlIGEgdmFsaWQgdmFsdWUKICAgICAgICByZXF1aXJlKF90eXBlID4gMCAmJiBfdHlwZSA8IGdpZnRUZW1wbGF0ZVN0b3JhZ2VBcnJ5Lmxlbmd0aCk7CiAgICAgICAgLy9NaW50IGEgdmlydHVhbCBnaWZ0LgogICAgICAgIF9naWZ0SWQgPSBfbWludEdpZnQoX3R5cGUsIHJlY2lwaWVudCk7CiAgICAgICAgZ2lmdFR5cGVUb1NlbGxlZFN1bVtfdHlwZV0rKzsKICAgICAgICByZXR1cm4gX2dpZnRJZDsKICAgIH0KCiAgICAvLy8gQGRldiBNaW50IGdpZnQuCiAgICBmdW5jdGlvbiBfbWludEdpZnQodWludDI1NiBfdHlwZSwgCiAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyByZWNpcGllbnQpCiAgICAgICAgICAgICAgICAgICAgIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIAogICAgICAgICAgICAgICAgICAgICB7CgogICAgICAgIEdpZnRUb2tlbiBtZW1vcnkgbmV3R2lmdCA9IEdpZnRUb2tlbih7CiAgICAgICAgICAgIGdpZnRQcmljZTogZ2lmdFRlbXBsYXRlU3RvcmFnZUFycnlbX3R5cGVdLmdpZnRQcmljZSwKICAgICAgICAgICAgZ2lmdFR5cGU6IF90eXBlLAogICAgICAgICAgICBnaWZ0SW1nVXJsOiBnaWZ0VGVtcGxhdGVTdG9yYWdlQXJyeVtfdHlwZV0uZ2lmdEltZ1VybCwKICAgICAgICAgICAgZ2lmdE5hbWU6IGdpZnRUZW1wbGF0ZVN0b3JhZ2VBcnJ5W190eXBlXS5naWZ0TmFtZQogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIHVpbnQyNTYgZ2lmdElkID0gZ2lmdFN0b3JhZ2VBcnJ5LnB1c2gobmV3R2lmdCkgLSAxOwogICAgICAgIC8vQWRkIGdpZnRpZCB0byBnaWZ0IHRlbXBsYXRlIG1hcHBpbmcgCiAgICAgICAgZ2lmdFRlbXBsYXRlSWRUb0dpZnRpZHNbX3R5cGVdLnB1c2goZ2lmdElkKTsKICAgICAgICBnaWZ0RXhpc3RzW2dpZnRJZF0gPSB0cnVlOwogICAgICAgIC8vUmVhc3NpZ24gT3duZXJzaGlwIGZvciBuZXcgb3duZXIKICAgICAgICBfdHJhbnNmZXIoMCwgcmVjaXBpZW50LCBnaWZ0SWQpOwogICAgICAgIC8vVHJpZ2dlciBFdGhlcmV1bSBFdmVudAogICAgICAgIENyZWF0aW9uKG1zZy5zZW5kZXIsIGdpZnRJZCk7CiAgICAgICAgcmV0dXJuIGdpZnRJZDsKICAgIH0KCiAgICAvLy8gQGRldiBJbml0aWF0ZSBnaWZ0IHRlbXBsYXRlLgogICAgLy8vIEEgZ2lmdCB0ZW1wbGF0ZSBtZWFucyBhIGdpZnQgb2YgIjAiIGdlbmVyYXRpb24ncwogICAgZnVuY3Rpb24gY3JlYXRlR2lmdFRlbXBsYXRlKHVpbnQyNTYgX3ByaWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgdWludDI1NiBfbGltaXQsIAogICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nIF9pbWdVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgX2dpZnROYW1lKSAKICAgICAgICAgICAgICAgICAgICAgICAgIHB1YmxpYyBvbmx5SGF2ZVBlcm1pc3Npb24KICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybnMgKHVpbnQyNTYgZ2lmdFRlbXBsYXRlSWQpCiAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgLy9DaGVjayB0aGVzZSB2YXJpYWJsZXMKICAgICAgICByZXF1aXJlKF9wcmljZSA+IDApOwogICAgICAgIGJ5dGVzIG1lbW9yeSBpbWdVcmxTdHJpbmdUZXN0ID0gYnl0ZXMoX2ltZ1VybCk7CiAgICAgICAgYnl0ZXMgbWVtb3J5IGdpZnROYW1lU3RyaW5nVGVzdCA9IGJ5dGVzKF9naWZ0TmFtZSk7CiAgICAgICAgcmVxdWlyZShpbWdVcmxTdHJpbmdUZXN0Lmxlbmd0aCA+IDApOwogICAgICAgIHJlcXVpcmUoZ2lmdE5hbWVTdHJpbmdUZXN0Lmxlbmd0aCA+IDApOwogICAgICAgIHJlcXVpcmUoX2xpbWl0ID4gMCk7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyICE9IGFkZHJlc3MoMCkpOwogICAgICAgIC8vQ3JlYXRlIEdpZnRUZW1wbGF0ZVRva2VuCiAgICAgICAgR2lmdFRlbXBsYXRlVG9rZW4gbWVtb3J5IG5ld0dpZnRUZW1wbGF0ZSA9IEdpZnRUZW1wbGF0ZVRva2VuKHsKICAgICAgICAgICAgICAgIGdpZnRQcmljZTogX3ByaWNlLAogICAgICAgICAgICAgICAgZ2lmdExpbWl0OiBfbGltaXQsCiAgICAgICAgICAgICAgICBnaWZ0SW1nVXJsOiBfaW1nVXJsLAogICAgICAgICAgICAgICAgZ2lmdE5hbWU6IF9naWZ0TmFtZQogICAgICAgIH0pOwogICAgICAgIC8vUHVzaCBHaWZ0VGVtcGxhdGUgaW50byBzdG9yYWdlLgogICAgICAgIGdpZnRUZW1wbGF0ZUlkID0gZ2lmdFRlbXBsYXRlU3RvcmFnZUFycnkucHVzaChuZXdHaWZ0VGVtcGxhdGUpIC0gMTsKICAgICAgICBnaWZ0VHlwZVRvR2lmdExpbWl0W2dpZnRUZW1wbGF0ZUlkXSA9IF9saW1pdDsKICAgICAgICByZXR1cm4gZ2lmdFRlbXBsYXRlSWQ7CiAgICAgICAgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHVwZGF0ZVRlbXBsYXRlKHVpbnQyNTYgdGVtcGxhdGVJZCwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MjU2IF9uZXdQcmljZSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MjU2IF9uZXdsaW1pdCwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgX25ld1VybCwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgX25ld05hbWUpCiAgICBwdWJsaWMKICAgIG9ubHlPd25lciB7CiAgICAgICAgZ2lmdFRlbXBsYXRlU3RvcmFnZUFycnlbdGVtcGxhdGVJZF0uZ2lmdFByaWNlID0gX25ld1ByaWNlOwogICAgICAgIGdpZnRUZW1wbGF0ZVN0b3JhZ2VBcnJ5W3RlbXBsYXRlSWRdLmdpZnRMaW1pdCA9IF9uZXdsaW1pdDsKICAgICAgICBnaWZ0VGVtcGxhdGVTdG9yYWdlQXJyeVt0ZW1wbGF0ZUlkXS5naWZ0SW1nVXJsID0gX25ld1VybDsKICAgICAgICBnaWZ0VGVtcGxhdGVTdG9yYWdlQXJyeVt0ZW1wbGF0ZUlkXS5naWZ0TmFtZSA9IF9uZXdOYW1lOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBnZXRHaWZ0U29sZEZyb21UeXBlKHVpbnQyNTYgZ2lmdFR5cGUpCiAgICBwdWJsaWMKICAgIGNvbnN0YW50CiAgICByZXR1cm5zKHVpbnQyNTYpewogICAgICAgIHJldHVybiBnaWZ0VHlwZVRvU2VsbGVkU3VtW2dpZnRUeXBlXTsKICAgIH0KCiAgICAvL0BkZXYgUmV0cmlldmluZyBnaWZ0cyBieSB0ZW1wbGF0ZS4KICAgIGZ1bmN0aW9uIGdldEdpZnRzQnlUZW1wbGF0ZUlkKHVpbnQyNTYgdGVtcGxhdGVJZCkgCiAgICBwdWJsaWMgCiAgICBjb25zdGFudCAKICAgIHJldHVybnModWludDI1NltdIGdpZnRzSWQpIHsKICAgICAgICByZXR1cm4gZ2lmdFRlbXBsYXRlSWRUb0dpZnRpZHNbdGVtcGxhdGVJZF07CiAgICB9CiAKICAgIC8vQGRldiBSZXRyaWV2aW5ncyBhbGwgZ2lmdCB0ZW1wbGF0ZSBpZHMKICAgIGZ1bmN0aW9uIGdldEFsbEdpZnRUZW1wbGF0ZUlkcygpIAogICAgcHVibGljIAogICAgY29uc3RhbnQgCiAgICByZXR1cm5zKHVpbnQyNTZbXSkgewogICAgICAgIAogICAgICAgIGlmIChnaWZ0VGVtcGxhdGVTdG9yYWdlQXJyeS5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgIHVpbnQyNTYgdGhlTGVuZ3RoID0gZ2lmdFRlbXBsYXRlU3RvcmFnZUFycnkubGVuZ3RoIC0gMTsKICAgICAgICAgICAgdWludDI1NltdIG1lbW9yeSByZXN1bHRUZW1wSWRzID0gbmV3IHVpbnQyNTZbXSh0aGVMZW5ndGgpOwogICAgICAgICAgICB1aW50MjU2IHJlc3VsdEluZGV4ID0gMDsKICAgICAgICAgICAKICAgICAgICAgICAgZm9yICh1aW50MjU2IGkgPSAxOyBpIDw9IHRoZUxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICByZXN1bHRUZW1wSWRzW3Jlc3VsdEluZGV4XSA9IGk7CiAgICAgICAgICAgICAgICByZXN1bHRJbmRleCsrOwogICAgICAgICAgICB9CiAgICAgICAgICAgICByZXR1cm4gcmVzdWx0VGVtcElkczsKICAgICAgICB9CiAgICAgICAgcmVxdWlyZShnaWZ0VGVtcGxhdGVTdG9yYWdlQXJyeS5sZW5ndGggPiAxKTsKICAgICAgIAogICAgfQoKICAgIC8vQGRldiBSZXRyaWV2aW5nIGdpZnQgdGVtcGxhdGUgYnkgaXQncyBpZAogICAgZnVuY3Rpb24gZ2V0R2lmdFRlbXBsYXRlQnlJZCh1aW50MjU2IHRlbXBsYXRlSWQpIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQyNTYgX3ByaWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQyNTYgX2xpbWl0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyBfaW1nVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyBfZ2lmdE5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApewogICAgICAgIHJlcXVpcmUodGVtcGxhdGVJZCA+IDApOwogICAgICAgIHJlcXVpcmUodGVtcGxhdGVJZCA8IGdpZnRUZW1wbGF0ZVN0b3JhZ2VBcnJ5Lmxlbmd0aCk7CiAgICAgICAgR2lmdFRlbXBsYXRlVG9rZW4gbWVtb3J5IGdpZnRUZW1wbGF0ZSA9IGdpZnRUZW1wbGF0ZVN0b3JhZ2VBcnJ5W3RlbXBsYXRlSWRdOwogICAgICAgIF9wcmljZSA9IGdpZnRUZW1wbGF0ZS5naWZ0UHJpY2U7CiAgICAgICAgX2xpbWl0ID0gZ2lmdFRlbXBsYXRlLmdpZnRMaW1pdDsKICAgICAgICBfaW1nVXJsID0gZ2lmdFRlbXBsYXRlLmdpZnRJbWdVcmw7CiAgICAgICAgX2dpZnROYW1lID0gZ2lmdFRlbXBsYXRlLmdpZnROYW1lOwogICAgICAgIHJldHVybiAoX3ByaWNlLCBfbGltaXQsIF9pbWdVcmwsIF9naWZ0TmFtZSk7CiAgICB9CgogICAgLy8vIEBkZXYgUmV0cmlldmluZyBnaWZ0IGluZm8gYnkgZ2lmdCBpZC4KICAgIGZ1bmN0aW9uIGdldEdpZnQodWludDI1NiBfZ2lmdElkKSAKICAgICAgICAgICAgICAgICAgICBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoCiAgICAgICAgICAgICAgICAgICAgdWludDI1NiBnaWZ0VHlwZSwKICAgICAgICAgICAgICAgICAgICB1aW50MjU2IGdpZnRQcmljZSwKICAgICAgICAgICAgICAgICAgICBzdHJpbmcgaW1nVXJsLAogICAgICAgICAgICAgICAgICAgIHN0cmluZyBnaWZ0TmFtZQogICAgICAgICAgICAgICAgICAgICkgewogICAgICAgIHJlcXVpcmUoX2dpZnRJZCA8IGdpZnRTdG9yYWdlQXJyeS5sZW5ndGgpOwogICAgICAgIEdpZnRUb2tlbiBtZW1vcnkgZ1Rva2VuID0gZ2lmdFN0b3JhZ2VBcnJ5W19naWZ0SWRdOwogICAgICAgIGdpZnRUeXBlID0gZ1Rva2VuLmdpZnRUeXBlOwogICAgICAgIGdpZnRQcmljZSA9IGdUb2tlbi5naWZ0UHJpY2U7CiAgICAgICAgaW1nVXJsID0gZ1Rva2VuLmdpZnRJbWdVcmw7CiAgICAgICAgZ2lmdE5hbWUgPSBnVG9rZW4uZ2lmdE5hbWU7CiAgICAgICAgcmV0dXJuIChnaWZ0VHlwZSwgZ2lmdFByaWNlLCBpbWdVcmwsIGdpZnROYW1lKTsKICAgIH0KCiAgICAvLy8gQGRldiB0cmFuc2ZlciBnaWZ0IHRvIGEgbmV3IG93bmVyLgogICAgLy8vIEBwYXJhbSBfdG8gOiAKICAgIC8vLyBAcGFyYW0gX2dpZnRJZCA6CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfZ2lmdElkKSBleHRlcm5hbCByZXR1cm5zIChib29sIHN1Y2Nlc3MpewogICAgICAgIHJlcXVpcmUoZ2lmdEV4aXN0c1tfZ2lmdElkXSk7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gMHgwKTsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgIT0gX3RvKTsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXJPZihfZ2lmdElkKSk7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcyh0aGlzKSk7CiAgICAgICAgX3RyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2dpZnRJZCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBkZXYgY2hhbmdlIEdpZnRvIGNvbnRyYWN0J3MgYWRkcmVzcyBvciBhbm90aGVyIHR5cGUgb2YgdG9rZW4sIGxpa2UgRXRoZXIuCiAgICAvLy8gQHBhcmFtIG5ld0FkZHJlc3MgR2lmdG8gY29udHJhY3QgYWRkcmVzcwogICAgZnVuY3Rpb24gc2V0R2lmdG9BZGRyZXNzKGFkZHJlc3MgbmV3QWRkcmVzcykgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgR2lmdG8gPSBFUkMyMChuZXdBZGRyZXNzKTsKICAgIH0KICAgIAogICAgLy8vIEBkZXYgUmV0cmlldmluZyBHaWZ0byBjb250cmFjdCBhZHJlc3MKICAgIGZ1bmN0aW9uIGdldEdpZnRvQWRkcmVzcygpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzIGdpZnRvQWRkcmVzcykgewogICAgICAgIHJldHVybiBhZGRyZXNzKEdpZnRvKTsKICAgIH0KCiAgICAvLy8gQGRldiByZXR1cm5zIHRvdGFsIHN1cHBseSBmb3IgdGhpcyB0b2tlbgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpewogICAgICAgIHJldHVybiBnaWZ0U3RvcmFnZUFycnkubGVuZ3RoIC0gMTsKICAgIH0KICAgIAogICAgLy9AZGV2IAogICAgLy9AcGFyYW0gX293bmVyIAogICAgLy9AcmV0dXJuIAogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSAgcHVibGljICBjb25zdGFudCAgcmV0dXJucyAodWludDI1NiBnaWZ0U3VtKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IAogICAgLy8vIEByZXR1cm4gb3duZXIKICAgIGZ1bmN0aW9uIG93bmVyT2YodWludDI1NiBfZ2lmdElkKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcyBfb3duZXIpIHsKICAgICAgICByZXF1aXJlKGdpZnRFeGlzdHNbX2dpZnRJZF0pOwogICAgICAgIHJldHVybiBnaWZ0SW5kZXhUb093bmVyc1tfZ2lmdElkXTsKICAgIH0KICAgIAogICAgLy8vIEBkZXYgYXBwcm92ZWQgb3duZXIgCiAgICAvLy8gQHBhcmFtIF90byA6CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9naWZ0SWQpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyT2YoX2dpZnRJZCkpOwogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSBfdG8pOwogICAgICAgIAogICAgICAgIG93bmVyVG9BcHByb3ZlZEFkZHNUb0dpZklkc1ttc2cuc2VuZGVyXVtfdG9dID0gX2dpZnRJZDsKICAgICAgICAvL0V0aGVyZXVtIEV2ZW50CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3RvLCBfZ2lmdElkKTsKICAgIH0KICAgIAogICAgLy8vIEBkZXYgCiAgICAvLy8gQHBhcmFtIF9vd25lciA6IAogICAgLy8vIEBwYXJhbSBfc3BlbmRlciA6CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGdpZnRJZCkgewogICAgICAgIHJldHVybiBvd25lclRvQXBwcm92ZWRBZGRzVG9HaWZJZHNbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IAogICAgLy8vIEBwYXJhbSBfZ2lmdElkIDoKICAgIGZ1bmN0aW9uIHRha2VPd25lcnNoaXAodWludDI1NiBfZ2lmdElkKSBwdWJsaWMgewogICAgICAgIC8vQ2hlY2sgaWYgZXhpdHMKICAgICAgICByZXF1aXJlKGdpZnRFeGlzdHNbX2dpZnRJZF0pOwogICAgICAgIAogICAgICAgIGFkZHJlc3Mgb2xkT3duZXIgPSBvd25lck9mKF9naWZ0SWQpOwogICAgICAgIGFkZHJlc3MgbmV3T3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIAogICAgICAgIHJlcXVpcmUobmV3T3duZXIgIT0gb2xkT3duZXIpOwogICAgICAgIC8vTmV3IG93bmVyIGhhcyB0byBiZSBhcHByb3ZlZCBieSBvbGRvd25lci4KICAgICAgICByZXF1aXJlKG93bmVyVG9BcHByb3ZlZEFkZHNUb0dpZklkc1tvbGRPd25lcl1bbmV3T3duZXJdID09IF9naWZ0SWQpOwoKICAgICAgICAvL3RyYW5zZmVyIGdpZnQgZm9yIG5ldyBvd25lcgogICAgICAgIF90cmFuc2ZlcihvbGRPd25lciwgbmV3T3duZXIsIF9naWZ0SWQpOwogICAgICAgIGRlbGV0ZSBvd25lclRvQXBwcm92ZWRBZGRzVG9HaWZJZHNbb2xkT3duZXJdW25ld093bmVyXTsKICAgICAgICAvL0V0aGVyZXVtIEV2ZW50CiAgICAgICAgVHJhbnNmZXIob2xkT3duZXIsIG5ld093bmVyLCBfZ2lmdElkKTsKICAgIH0KICAgIAogICAgLy8vIEBkZXYgdHJhbnNmZXIgZ2lmdCBmb3IgbmV3IG93bmVyICJfdG8iCiAgICAvLy8gQHBhcmFtIF9mcm9tIDogCiAgICAvLy8gQHBhcmFtIF90byA6IAogICAgLy8vIEBwYXJhbSBfZ2lmdElkIDoKICAgIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfZ2lmdElkKSBpbnRlcm5hbCB7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfdG9dICsgMSA+IGJhbGFuY2VzW190b10pOwogICAgICAgIGJhbGFuY2VzW190b10rKzsKICAgICAgICBnaWZ0SW5kZXhUb093bmVyc1tfZ2lmdElkXSA9IF90bzsKICAgCiAgICAgICAgaWYgKF9mcm9tICE9IGFkZHJlc3MoMCkpIHsKICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dLS07CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vRXRoZXJldW0gZXZlbnQuCiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX2dpZnRJZCk7CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IHRyYW5zZmVyIEdpZnQgZm9yIG5ldyBvd25lcihfdG8pIHdoaWNoIGlzIGFwcHJvdmVkLgogICAgLy8vIEBwYXJhbSBfZnJvbSA6IGFkZHJlc3Mgb2Ygb3duZXIgb2YgZ2lmdAogICAgLy8vIEBwYXJhbSBfdG8gOiByZWNpcGllbnQgYWRkcmVzcwogICAgLy8vIEBwYXJhbSBfZ2lmdElkIDogZ2lmdCBpZAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF9naWZ0SWQpIGV4dGVybmFsIHsKCiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcyh0aGlzKSk7CiAgICAgICAgLy9DaGVjayBpZiB0aGlzIHNwZW5kZXIoX3RvKSBpcyBhcHByb3ZlZCB0byB0aGUgZ2lmdC4KICAgICAgICByZXF1aXJlKG93bmVyVG9BcHByb3ZlZEFkZHNUb0dpZklkc1tfZnJvbV1bX3RvXSA9PSBfZ2lmdElkKTsKICAgICAgICByZXF1aXJlKF9mcm9tID09IG93bmVyT2YoX2dpZnRJZCkpOwoKICAgICAgICAvL0BkZXYgcmVhc3NpZ24gb3duZXJzaGlwIG9mIHRoZSBnaWZ0LiAKICAgICAgICBfdHJhbnNmZXIoX2Zyb20sIF90bywgX2dpZnRJZCk7CiAgICAgICAgLy9EZWxldGUgYXBwcm92ZWQgc3BlbmRlcgogICAgICAgIGRlbGV0ZSBvd25lclRvQXBwcm92ZWRBZGRzVG9HaWZJZHNbX2Zyb21dW190b107CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IFJldHJpZXZpbmcgZ2lmdHMgYnkgYWRkcmVzcyBfb3duZXIKICAgIGZ1bmN0aW9uIGdpZnRzT2ZPd25lcihhZGRyZXNzIF9vd25lcikgIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTZbXSBvd25lckdpZnRzKSB7CiAgICAgICAgCiAgICAgICAgdWludDI1NiBnaWZ0Q291bnQgPSBiYWxhbmNlT2YoX293bmVyKTsKICAgICAgICBpZiAoZ2lmdENvdW50ID09IDApIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyB1aW50MjU2W10oMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdWludDI1NltdIG1lbW9yeSByZXN1bHQgPSBuZXcgdWludDI1NltdKGdpZnRDb3VudCk7CiAgICAgICAgICAgIHVpbnQyNTYgdG90YWwgPSB0b3RhbFN1cHBseSgpOwogICAgICAgICAgICB1aW50MjU2IHJlc3VsdEluZGV4ID0gMDsKCiAgICAgICAgICAgIHVpbnQyNTYgZ2lmdElkOwogICAgICAgICAgICAKICAgICAgICAgICAgZm9yIChnaWZ0SWQgPSAwOyBnaWZ0SWQgPD0gdG90YWw7IGdpZnRJZCsrKSB7CiAgICAgICAgICAgICAgICBpZiAoZ2lmdEluZGV4VG9Pd25lcnNbZ2lmdElkXSA9PSBfb3duZXIpIHsKICAgICAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0SW5kZXhdID0gZ2lmdElkOwogICAgICAgICAgICAgICAgICAgIHJlc3VsdEluZGV4Kys7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfQogICAgfQogICAgIAogICAgLy8vIEBkZXYgd2l0aGRyYXcgR1RPIGFuZCBFVEggaW4gdGhpcyBjb250cmFjdCAKICAgIGZ1bmN0aW9uIHdpdGhkcmF3R1RPKCkgCiAgICBvbmx5T3duZXIgCiAgICBwdWJsaWMgeyAKICAgICAgICBHaWZ0by50cmFuc2ZlcihkZWZhdWx0R2lmdE93bmVyLCBHaWZ0by5iYWxhbmNlT2YoYWRkcmVzcyh0aGlzKSkpOyAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gd2l0aGRyYXcoKQogICAgb25seU93bmVyCiAgICBwdWJsaWMKICAgIHJldHVybnMgKGJvb2wpewogICAgICAgIHJldHVybiBkZWZhdWx0R2lmdE93bmVyLnNlbmQodGhpcy5iYWxhbmNlKTsKICAgIH0KfQ=='.
	

]
