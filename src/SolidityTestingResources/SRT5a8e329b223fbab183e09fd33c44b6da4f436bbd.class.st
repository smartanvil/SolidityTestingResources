Class {
	#name : #SRT5a8e329b223fbab183e09fd33c44b6da4f436bbd,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5a8e329b223fbab183e09fd33c44b6da4f436bbd >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyBJZiB5b3Ugd2FubmEgZXNjYXBlIHRoaXMgY29udHJhY3QgUkVBTExZIEZBU1QKLy8gMS4gb3BlbiBNRVcvTUVUQU1BU0sKLy8gMi4gUHV0IHRoaXMgYXMgZGF0YTogMHhiMWUzNTI0MgovLyAzLiBzZW5kIDE1MDAwMCsgZ2FzCi8vIFRoYXQgY2FsbHMgdGhlIGdldE1lT3V0T2ZIZXJlKCkgbWV0aG9kCgovLyBXYWNreSB2ZXJzaW9uLCAwLTEgdG9rZW5zIHRha2VzIDEwZXRoIChzaG91bGQgYmUgYXZnIDIwMCUgZ2FpbnMpLCAxLTIgdGFrZXMgYW5vdGhlciAzMGV0aCAoYXZnIDEwMCUgZ2FpbnMpLCBhbmQgYmV5b25kIHRoYXQgd2hvIHRoZSBmdWNrIGtub3dzIGJ1dCBpdCdzIDUwJSBnYWlucwovLyAxMCUgZmVlcywgcHJpY2UgZ29lcyB1cCBjcmF6eSBmYXN0CmNvbnRyYWN0IEV0aFB5cmFtaWQgewoJdWludDI1NiBjb25zdGFudCBQUkVDSVNJT04gPSAweDEwMDAwMDAwMDAwMDAwMDAwOyAgLy8gMl42NAoJLy8gQ1JSID0gNTAgJQoJaW50IGNvbnN0YW50IENSUk4gPSAxOwoJaW50IGNvbnN0YW50IENSUkQgPSAyOwoJLy8gVGhlIHByaWNlIGNvZWZmaWNpZW50LiBDaG9zZW4gc3VjaCB0aGF0IGF0IDEgdG9rZW4gdG90YWwgc3VwcGx5CgkvLyB0aGUgcmVzZXJ2ZSBpcyAwLjUgZXRoZXIgYW5kIHByaWNlIDEgZXRoZXIvdG9rZW4uCglpbnQgY29uc3RhbnQgTE9HQyA9IC0weDI5NkFCRjc4NEEzNTg0NjhDOwoJCglzdHJpbmcgY29uc3RhbnQgcHVibGljIG5hbWUgPSAiRXRoUHlyYW1pZCI7CglzdHJpbmcgY29uc3RhbnQgcHVibGljIHN5bWJvbCA9ICJFVFAiOwoJdWludDggY29uc3RhbnQgcHVibGljIGRlY2ltYWxzID0gMTg7Cgl1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCS8vIGFtb3VudCBvZiBzaGFyZXMgZm9yIGVhY2ggYWRkcmVzcyAoc2NhbGVkIG51bWJlcikKCW1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZU9mT2xkOwoJLy8gYWxsb3dhbmNlIG1hcCwgc2VlIGVyYzIwCgltYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dhbmNlOwoJLy8gYW1vdW50IHBheWVkIG91dCBmb3IgZWFjaCBhZGRyZXNzIChzY2FsZWQgbnVtYmVyKQoJbWFwcGluZyhhZGRyZXNzID0+IGludDI1NikgcHVibGljIHBheW91dHM7CgkvLyBzdW0gb2YgYWxsIHBheW91dHMgKHNjYWxlZCBudW1iZXIpCglpbnQyNTYgcHVibGljIHRvdGFsUGF5b3V0czsKCS8vIGFtb3VudCBlYXJuZWQgZm9yIGVhY2ggc2hhcmUgKHNjYWxlZCBudW1iZXIpCgl1aW50MjU2IHB1YmxpYyBlYXJuaW5nc1BlclNoYXJlOwoKCWV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7CgoJZnVuY3Rpb24gRXRoUHlyYW1pZCgpIHB1YmxpYyB7CgkJLy9vd25lciA9IG1zZy5zZW5kZXI7Cgl9CgkKCS8vIFRoZXNlIGFyZSBmdW5jdGlvbnMgc29sZWx5IGNyZWF0ZWQgdG8gYXBwZWFzZSB0aGUgZnJvbnRlbmQKCWZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlT2ZPbGRbX293bmVyXTsKICAgIH0KCglmdW5jdGlvbiB3aXRoZHJhdyh1aW50IHRva2VuQ291bnQpIC8vIHRoZSBwYXJhbWV0ZXIgaXMgaWdub3JlZCwgeWVzCiAgICAgIHB1YmxpYwogICAgICByZXR1cm5zIChib29sKQogICAgewoJCXZhciBiYWxhbmNlID0gZGl2aWRlbmRzKG1zZy5zZW5kZXIpOwoJCXBheW91dHNbbXNnLnNlbmRlcl0gKz0gKGludDI1NikgKGJhbGFuY2UgKiBQUkVDSVNJT04pOwoJCXRvdGFsUGF5b3V0cyArPSAoaW50MjU2KSAoYmFsYW5jZSAqIFBSRUNJU0lPTik7CiAgICAgICAgCgkJbXNnLnNlbmRlci50cmFuc2ZlcihiYWxhbmNlKTsKCgkJcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gcmVpbnZlc3REaXZpZXMoKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgCiAgICB7CiAgICAgICAgdmFyIGJhbGFuY2UgPSBkaXZpZGVuZHMobXNnLnNlbmRlcik7CiAgICAgICAgcGF5b3V0c1ttc2cuc2VuZGVyXSArPSAoaW50MjU2KSAoYmFsYW5jZSAqIFBSRUNJU0lPTik7CgkJdG90YWxQYXlvdXRzICs9IChpbnQyNTYpIChiYWxhbmNlICogUFJFQ0lTSU9OKTsKCQkKCQl1aW50IHZhbHVlXyA9ICh1aW50KSAoYmFsYW5jZSk7CgkJCgkJIGlmICh2YWx1ZV8gPCAwLjAwMDAwMSBldGhlciB8fCB2YWx1ZV8gPiAxMDAwMDAwIGV0aGVyKQoJCQlyZXZlcnQoKTsKCQl2YXIgc2VuZGVyID0gbXNnLnNlbmRlcjsKCQl2YXIgcmVzID0gcmVzZXJ2ZSgpIC0gYmFsYW5jZTsKCQkvLyA1ICUgb2YgdGhlIGFtb3VudCBpcyB1c2VkIHRvIHBheSBob2xkZXJzLgoJCXZhciBmZWUgPSAodWludCkodmFsdWVfIC8gMTApOwoJCQoJCS8vIGNvbXB1dGUgbnVtYmVyIG9mIGJvdWdodCB0b2tlbnMKCQl2YXIgbnVtRXRoZXIgPSB2YWx1ZV8gLSBmZWU7CgkJdmFyIG51bVRva2VucyA9IGdldFRva2Vuc0ZvckV0aGVyMihudW1FdGhlciwgYmFsYW5jZSk7CgoJCXZhciBidXllcmZlZSA9IGZlZSAqIFBSRUNJU0lPTjsKCQlpZiAodG90YWxTdXBwbHkgPiAwKSB7CgkJCS8vIGNvbXB1dGUgaG93IHRoZSBmZWUgZGlzdHJpYnV0ZWQgdG8gcHJldmlvdXMgaG9sZGVycyBhbmQgYnV5ZXIuCgkJCS8vIFRoZSBidXllciBhbHJlYWR5IGdldHMgYSBwYXJ0IG9mIHRoZSBmZWUgYXMgaWYgaGUgd291bGQgYnV5IGVhY2ggdG9rZW4gc2VwYXJhdGVseS4KCQkJdmFyIGhvbGRlcnJld2FyZCA9CgkJCSAgICAoUFJFQ0lTSU9OIC0gKHJlcyArIG51bUV0aGVyKSAqIG51bVRva2VucyAqIFBSRUNJU0lPTiAvICh0b3RhbFN1cHBseSArIG51bVRva2VucykgLyBudW1FdGhlcikKCQkJICAgICogKHVpbnQpKENSUkQpIC8gKHVpbnQpKENSUkQtQ1JSTik7CgkJCXZhciBob2xkZXJmZWUgPSBmZWUgKiBob2xkZXJyZXdhcmQ7CgkJCWJ1eWVyZmVlIC09IGhvbGRlcmZlZTsKCQkKCQkJLy8gRmVlIGlzIGRpc3RyaWJ1dGVkIHRvIGFsbCBleGlzdGluZyB0b2tlbnMgYmVmb3JlIGJ1eWluZwoJCQl2YXIgZmVlUGVyU2hhcmUgPSBob2xkZXJmZWUgLyB0b3RhbFN1cHBseTsKCQkJZWFybmluZ3NQZXJTaGFyZSArPSBmZWVQZXJTaGFyZTsKCQl9CgkJLy8gYWRkIG51bVRva2VucyB0byB0b3RhbCBzdXBwbHkKCQl0b3RhbFN1cHBseSArPSBudW1Ub2tlbnM7CgkJLy8gYWRkIG51bVRva2VucyB0byBiYWxhbmNlCgkJYmFsYW5jZU9mT2xkW3NlbmRlcl0gKz0gbnVtVG9rZW5zOwoJCS8vIGZpeCBwYXlvdXRzIHNvIHRoYXQgc2VuZGVyIGRvZXNuJ3QgZ2V0IG9sZCBlYXJuaW5ncyBmb3IgdGhlIG5ldyB0b2tlbnMuCgkJLy8gYWxzbyBhZGQgaXRzIGJ1eWVyZmVlCgkJdmFyIHBheW91dERpZmYgPSAoaW50MjU2KSAoKGVhcm5pbmdzUGVyU2hhcmUgKiBudW1Ub2tlbnMpIC0gYnV5ZXJmZWUpOwoJCXBheW91dHNbc2VuZGVyXSArPSBwYXlvdXREaWZmOwoJCXRvdGFsUGF5b3V0cyArPSBwYXlvdXREaWZmOwoJCQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoJCglmdW5jdGlvbiBzZWxsTXlUb2tlbnNEYWRkeSgpIHB1YmxpYyB7CgkJdmFyIGJhbGFuY2UgPSBiYWxhbmNlT2YobXNnLnNlbmRlcik7CgkJdHJhbnNmZXJUb2tlbnMobXNnLnNlbmRlciwgYWRkcmVzcyh0aGlzKSwgIGJhbGFuY2UpOyAvLyB0aGlzIHRyaWdnZXJzIHRoZSBpbnRlcm5hbCBzZWxsIGZ1bmN0aW9uCgl9CgogICAgZnVuY3Rpb24gZ2V0TWVPdXRPZkhlcmUoKSBwdWJsaWMgewoJCXNlbGxNeVRva2Vuc0RhZGR5KCk7CiAgICAgICAgd2l0aGRyYXcoMSk7IC8vIHBhcmFtZXRlciBpcyBpZ25vcmVkCgl9CgkKCWZ1bmN0aW9uIGZ1bmQoKQogICAgICBwdWJsaWMKICAgICAgcGF5YWJsZSAKICAgICAgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgaWYgKG1zZy52YWx1ZSA+IDAuMDAwMDAxIGV0aGVyKQoJCQlidXkoKTsKCQllbHNlCgkJCXJldHVybiBmYWxzZTsKCSAgCiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCWZ1bmN0aW9uIGJ1eVByaWNlKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKCQlyZXR1cm4gZ2V0VG9rZW5zRm9yRXRoZXIoMSBmaW5uZXkpOwoJfQoJCglmdW5jdGlvbiBzZWxsUHJpY2UoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHZhciBldGggPSBnZXRFdGhlckZvclRva2VucygxIGZpbm5leSk7CiAgICAgICAgdmFyIGZlZSA9ICh1aW50MjU2KShldGggLyAxMCk7CiAgICAgICAgcmV0dXJuIGV0aCAtIGZlZTsKICAgIH0KCgkvLyBFbmQgb2YgdXNlbGVzcyBmdW5jdGlvbnMKCgkvLyBJbnZhcmlhbnRzCgkvLyB0b3RhbFBheW91dC9TdXBwbHkgY29ycmVjdDoKCS8vICAgdG90YWxQYXlvdXRzID0gXHN1bV97YWRkcjphZGRyZXNzfSBwYXlvdXRzKGFkZHIpCgkvLyAgIHRvdGFsU3VwcGx5ICA9IFxzdW1fe2FkZHI6YWRkcmVzc30gYmFsYW5jZU9mT2xkKGFkZHIpCgkvLyBkaXZpZGVuZHMgbm90IG5lZ2F0aXZlOgoJLy8gICBcZm9yYWxsIGFkZHI6YWRkcmVzcy4gcGF5b3V0c1thZGRyXSA8PSBlYXJuaW5nc1BlclNoYXJlICogYmFsYW5jZU9mT2xkW2FkZHJdCgkvLyBzdXBwbHkvcmVzZXJ2ZSBjb3JyZWxhdGlvbjoKCS8vICAgdG90YWxTdXBwbHkgfj0gZXhwKExPR0MgKyBDUlJOL0NSUkQqbG9nKHJlc2VydmUoKSkKCS8vICAgaS5lLiB0b3RhbFN1cHBseSA9IEMgKiByZXNlcnZlKCkqKkNSUgoJLy8gcmVzZXJ2ZSBlcXVhbHMgYmFsYW5jZSBtaW51cyBwYXlvdXRzCgkvLyAgIHJlc2VydmUoKSA9IHRoaXMuYmFsYW5jZSAtIFxzdW1fe2FkZHI6YWRkcmVzc30gZGl2aWRlbmRzKGFkZHIpCgoJZnVuY3Rpb24gdHJhbnNmZXJUb2tlbnMoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBpbnRlcm5hbCB7CgkJaWYgKGJhbGFuY2VPZk9sZFtfZnJvbV0gPCBfdmFsdWUpCgkJCXJldmVydCgpOwoJCWlmIChfdG8gPT0gYWRkcmVzcyh0aGlzKSkgewoJCQlzZWxsKF92YWx1ZSk7CgkJfSBlbHNlIHsKCQkgICAgaW50MjU2IHBheW91dERpZmYgPSAoaW50MjU2KSAoZWFybmluZ3NQZXJTaGFyZSAqIF92YWx1ZSk7CgkJICAgIGJhbGFuY2VPZk9sZFtfZnJvbV0gLT0gX3ZhbHVlOwoJCSAgICBiYWxhbmNlT2ZPbGRbX3RvXSArPSBfdmFsdWU7CgkJICAgIHBheW91dHNbX2Zyb21dIC09IHBheW91dERpZmY7CgkJICAgIHBheW91dHNbX3RvXSArPSBwYXlvdXREaWZmOwoJCX0KCQlUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwoJfQoJCglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyB7CgkgICAgdHJhbnNmZXJUb2tlbnMobXNnLnNlbmRlciwgX3RvLCAgX3ZhbHVlKTsKCX0KCQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHsKICAgICAgICB2YXIgX2FsbG93YW5jZSA9IGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl07CiAgICAgICAgaWYgKF9hbGxvd2FuY2UgPCBfdmFsdWUpCiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlIC0gX3ZhbHVlOwogICAgICAgIHRyYW5zZmVyVG9rZW5zKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHsKICAgICAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAgICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAgICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICAgICAgaWYgKChfdmFsdWUgIT0gMCkgJiYgKGFsbG93YW5jZVttc2cuc2VuZGVyXVtfc3BlbmRlcl0gIT0gMCkpIHJldmVydCgpOwogICAgICAgIGFsbG93YW5jZVttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICB9CgoJZnVuY3Rpb24gZGl2aWRlbmRzKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBhbW91bnQpIHsKCQlyZXR1cm4gKHVpbnQyNTYpICgoaW50MjU2KShlYXJuaW5nc1BlclNoYXJlICogYmFsYW5jZU9mT2xkW19vd25lcl0pIC0gcGF5b3V0c1tfb3duZXJdKSAvIFBSRUNJU0lPTjsKCX0KCglmdW5jdGlvbiB3aXRoZHJhd09sZChhZGRyZXNzIHRvKSBwdWJsaWMgewoJCXZhciBiYWxhbmNlID0gZGl2aWRlbmRzKG1zZy5zZW5kZXIpOwoJCXBheW91dHNbbXNnLnNlbmRlcl0gKz0gKGludDI1NikgKGJhbGFuY2UgKiBQUkVDSVNJT04pOwoJCXRvdGFsUGF5b3V0cyArPSAoaW50MjU2KSAoYmFsYW5jZSAqIFBSRUNJU0lPTik7CgkJdG8udHJhbnNmZXIoYmFsYW5jZSk7Cgl9CgoJZnVuY3Rpb24gYmFsYW5jZSgpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYW1vdW50KSB7CgkJcmV0dXJuIHRoaXMuYmFsYW5jZSAtIG1zZy52YWx1ZTsKCX0KCWZ1bmN0aW9uIHJlc2VydmUoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBhbW91bnQpIHsKCQlyZXR1cm4gYmFsYW5jZSgpCgkJCS0gKCh1aW50MjU2KSAoKGludDI1NikgKGVhcm5pbmdzUGVyU2hhcmUgKiB0b3RhbFN1cHBseSkgLSB0b3RhbFBheW91dHMpIC8gUFJFQ0lTSU9OKSAtIDE7Cgl9CgoJZnVuY3Rpb24gYnV5KCkgaW50ZXJuYWwgewoJCWlmIChtc2cudmFsdWUgPCAwLjAwMDAwMSBldGhlciB8fCBtc2cudmFsdWUgPiAxMDAwMDAwIGV0aGVyKQoJCQlyZXZlcnQoKTsKCQl2YXIgc2VuZGVyID0gbXNnLnNlbmRlcjsKCQkvLyAxMCAlIG9mIHRoZSBhbW91bnQgaXMgdXNlZCB0byBwYXkgaG9sZGVycy4KCQl2YXIgZmVlID0gKHVpbnQpKG1zZy52YWx1ZSAvIDEwKTsKCQkKCQkvLyBjb21wdXRlIG51bWJlciBvZiBib3VnaHQgdG9rZW5zCgkJdmFyIG51bUV0aGVyID0gbXNnLnZhbHVlIC0gZmVlOwoJCXZhciBudW1Ub2tlbnMgPSBnZXRUb2tlbnNGb3JFdGhlcihudW1FdGhlcik7CgoJCXZhciBidXllcmZlZSA9IGZlZSAqIFBSRUNJU0lPTjsKCQlpZiAodG90YWxTdXBwbHkgPiAwKSB7CgkJCS8vIGNvbXB1dGUgaG93IHRoZSBmZWUgZGlzdHJpYnV0ZWQgdG8gcHJldmlvdXMgaG9sZGVycyBhbmQgYnV5ZXIuCgkJCS8vIFRoZSBidXllciBhbHJlYWR5IGdldHMgYSBwYXJ0IG9mIHRoZSBmZWUgYXMgaWYgaGUgd291bGQgYnV5IGVhY2ggdG9rZW4gc2VwYXJhdGVseS4KCQkJdmFyIGhvbGRlcnJld2FyZCA9CgkJCSAgICAoUFJFQ0lTSU9OIC0gKHJlc2VydmUoKSArIG51bUV0aGVyKSAqIG51bVRva2VucyAqIFBSRUNJU0lPTiAvICh0b3RhbFN1cHBseSArIG51bVRva2VucykgLyBudW1FdGhlcikKCQkJICAgICogKHVpbnQpKENSUkQpIC8gKHVpbnQpKENSUkQtQ1JSTik7CgkJCXZhciBob2xkZXJmZWUgPSBmZWUgKiBob2xkZXJyZXdhcmQ7CgkJCWJ1eWVyZmVlIC09IGhvbGRlcmZlZTsKCQkKCQkJLy8gRmVlIGlzIGRpc3RyaWJ1dGVkIHRvIGFsbCBleGlzdGluZyB0b2tlbnMgYmVmb3JlIGJ1eWluZwoJCQl2YXIgZmVlUGVyU2hhcmUgPSBob2xkZXJmZWUgLyB0b3RhbFN1cHBseTsKCQkJZWFybmluZ3NQZXJTaGFyZSArPSBmZWVQZXJTaGFyZTsKCQl9CgkJLy8gYWRkIG51bVRva2VucyB0byB0b3RhbCBzdXBwbHkKCQl0b3RhbFN1cHBseSArPSBudW1Ub2tlbnM7CgkJLy8gYWRkIG51bVRva2VucyB0byBiYWxhbmNlCgkJYmFsYW5jZU9mT2xkW3NlbmRlcl0gKz0gbnVtVG9rZW5zOwoJCS8vIGZpeCBwYXlvdXRzIHNvIHRoYXQgc2VuZGVyIGRvZXNuJ3QgZ2V0IG9sZCBlYXJuaW5ncyBmb3IgdGhlIG5ldyB0b2tlbnMuCgkJLy8gYWxzbyBhZGQgaXRzIGJ1eWVyZmVlCgkJdmFyIHBheW91dERpZmYgPSAoaW50MjU2KSAoKGVhcm5pbmdzUGVyU2hhcmUgKiBudW1Ub2tlbnMpIC0gYnV5ZXJmZWUpOwoJCXBheW91dHNbc2VuZGVyXSArPSBwYXlvdXREaWZmOwoJCXRvdGFsUGF5b3V0cyArPSBwYXlvdXREaWZmOwoJfQoJCglmdW5jdGlvbiBzZWxsKHVpbnQyNTYgYW1vdW50KSBpbnRlcm5hbCB7CgkgICAgCgkgICB2YXIgbnVtRXRoZXJzQmVmb3JlRmVlID0gZ2V0RXRoZXJGb3JUb2tlbnMoYW1vdW50KTsKICAgICAgICB2YXIgZmVlID0gKHVpbnQyNTYpKG51bUV0aGVyc0JlZm9yZUZlZSAvIDEwKTsKICAgICAgICB2YXIgbnVtRXRoZXJzID0gbnVtRXRoZXJzQmVmb3JlRmVlIC0gZmVlOyAvLyBOZXQgZXRoZXIgZm9yIHNlbGxlciwgYWZ0ZXIgZmVlCiAgICAgICAgICAgIHRvdGFsU3VwcGx5IC09IGFtb3VudDsKICAgICAgICBiYWxhbmNlT2ZPbGRbbXNnLnNlbmRlcl0gLT0gYW1vdW50OwogICAgICAgICBpZih0b3RhbFN1cHBseSA+IDAgKSB7CiAgICAgICAgICAgIC8vIGZpeCBwYXlvdXRzIGFuZCBwdXQgdGhlIGV0aGVycyBpbiBwYXlvdXQKICAgICAgICAgICAgdmFyIHBheW91dERpZmYgPSAoaW50MjU2KSAoZWFybmluZ3NQZXJTaGFyZSAqIGFtb3VudCArIChudW1FdGhlcnMgKiBQUkVDSVNJT04pKTsKICAgICAgICAgICAgcGF5b3V0c1ttc2cuc2VuZGVyXSAtPSBwYXlvdXREaWZmOwogICAgICAgICAgICB0b3RhbFBheW91dHMgLT0gcGF5b3V0RGlmZjsKICAgICAKICAgICAgICAgICAgdmFyIHNlbGxlcmZlZSA9IGZlZSAqIFBSRUNJU0lPTjsKICAgICAgICAgICAgdmFyIGZlZVBlclNoYXJlID0gc2VsbGVyZmVlIC8gdG90YWxTdXBwbHk7CiAgICAgICAgICAgIGVhcm5pbmdzUGVyU2hhcmUgKz0gZmVlUGVyU2hhcmU7CiAgICAgICAgIH0KICAgICAgICAKCiAKIAoKCX0KCglmdW5jdGlvbiBnZXRUb2tlbnNGb3JFdGhlcih1aW50MjU2IGV0aGVydmFsdWUpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHRva2VucykgewoJCXJldHVybiBmaXhlZEV4cChmaXhlZExvZyhyZXNlcnZlKCkgKyBldGhlcnZhbHVlKSpDUlJOL0NSUkQgKyBMT0dDKSAtIHRvdGFsU3VwcGx5OwoJfQoKCWZ1bmN0aW9uIGdldFRva2Vuc0ZvckV0aGVyMih1aW50MjU2IGV0aGVydmFsdWUsIHVpbnQyNTYgc3ViKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB0b2tlbnMpIHsKCQlyZXR1cm4gZml4ZWRFeHAoZml4ZWRMb2cocmVzZXJ2ZSgpIC0gc3ViICsgZXRoZXJ2YWx1ZSkqQ1JSTi9DUlJEICsgTE9HQykgLSB0b3RhbFN1cHBseTsKCX0KCglmdW5jdGlvbiBnZXRFdGhlckZvclRva2Vucyh1aW50MjU2IHRva2VucykgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgZXRoZXJ2YWx1ZSkgewoJCWlmICh0b2tlbnMgPT0gdG90YWxTdXBwbHkpCgkJCXJldHVybiByZXNlcnZlKCk7CgkJcmV0dXJuIHJlc2VydmUoKSAtIGZpeGVkRXhwKChmaXhlZExvZyh0b3RhbFN1cHBseSAtIHRva2VucykgLSBMT0dDKSAqIENSUkQvQ1JSTik7Cgl9CgoJaW50MjU2IGNvbnN0YW50IG9uZSAgICAgICA9IDB4MTAwMDAwMDAwMDAwMDAwMDA7Cgl1aW50MjU2IGNvbnN0YW50IHNxcnQyICAgID0gMHgxNmEwOWU2NjdmM2JjYzkwODsKCXVpbnQyNTYgY29uc3RhbnQgc3FydGRvdDUgPSAweDBiNTA0ZjMzM2Y5ZGU2NDg0OwoJaW50MjU2IGNvbnN0YW50IGxuMiAgICAgICA9IDB4MGIxNzIxN2Y3ZDFjZjc5YWM7CglpbnQyNTYgY29uc3RhbnQgbG4yXzY0ZG90NT0gMHgyY2I1M2YwOWYwNWNjNjI3Yzg7CglpbnQyNTYgY29uc3RhbnQgYzEgICAgICAgID0gMHgxZmZmZmZmZmZmZjlkYWM5YjsKCWludDI1NiBjb25zdGFudCBjMyAgICAgICAgPSAweDBhYWFhYWFhYzE2ODc3OTA4OwoJaW50MjU2IGNvbnN0YW50IGM1ICAgICAgICA9IDB4MDY2NjY2NGU1ZTlmYTBjOTk7CglpbnQyNTYgY29uc3RhbnQgYzcgICAgICAgID0gMHgwNDkyNTQwMjZhNzYzMGFjZjsKCWludDI1NiBjb25zdGFudCBjOSAgICAgICAgPSAweDAzOGJkNzVlZDM3NzUzZDY4OwoJaW50MjU2IGNvbnN0YW50IGMxMSAgICAgICA9IDB4MDMyODRhMGMxNDYxMDkyNGY7CgoJZnVuY3Rpb24gZml4ZWRMb2codWludDI1NiBhKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKGludDI1NiBsb2cpIHsKCQlpbnQzMiBzY2FsZSA9IDA7CgkJd2hpbGUgKGEgPiBzcXJ0MikgewoJCQlhIC89IDI7CgkJCXNjYWxlKys7CgkJfQoJCXdoaWxlIChhIDw9IHNxcnRkb3Q1KSB7CgkJCWEgKj0gMjsKCQkJc2NhbGUtLTsKCQl9CgkJaW50MjU2IHMgPSAoKChpbnQyNTYpKGEpIC0gb25lKSAqIG9uZSkgLyAoKGludDI1NikoYSkgKyBvbmUpOwoJCS8vIFRoZSBwb2x5bm9taWFsIFIgPSBjMSp4ICsgYzMqeF4zICsgLi4uICsgYzExICogeF4xMQoJCS8vIGFwcHJveGltYXRlcyB0aGUgZnVuY3Rpb24gbG9nKDEreCktbG9nKDEteCkKCQkvLyBIZW5jZSBSKHMpID0gbG9nKCgxK3MpLygxLXMpKSA9IGxvZyhhKQoJCXZhciB6ID0gKHMqcykgLyBvbmU7CgkJcmV0dXJuIHNjYWxlICogbG4yICsKCQkJKHMqKGMxICsgKHoqKGMzICsgKHoqKGM1ICsgKHoqKGM3ICsgKHoqKGM5ICsgKHoqYzExL29uZSkpCgkJCQkvb25lKSkvb25lKSkvb25lKSkvb25lKSkvb25lKTsKCX0KCglpbnQyNTYgY29uc3RhbnQgYzIgPSAgMHgwMmFhYWFhYWFhYTAxNWRiMDsKCWludDI1NiBjb25zdGFudCBjNCA9IC0weDAwMGI2MGI2MDgwODM5OWQxOwoJaW50MjU2IGNvbnN0YW50IGM2ID0gIDB4MDAwMDQ1NTk1NmJjY2RkMDY7CglpbnQyNTYgY29uc3RhbnQgYzggPSAtMHgwMDAwMDFiODkzYWQwNGIzYTsKCWZ1bmN0aW9uIGZpeGVkRXhwKGludDI1NiBhKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYgZXhwKSB7CgkJaW50MjU2IHNjYWxlID0gKGEgKyAobG4yXzY0ZG90NSkpIC8gbG4yIC0gNjQ7CgkJYSAtPSBzY2FsZSpsbjI7CgkJLy8gVGhlIHBvbHlub21pYWwgUiA9IDIgKyBjMip4XjIgKyBjNCp4XjQgKyAuLi4KCQkvLyBhcHByb3hpbWF0ZXMgdGhlIGZ1bmN0aW9uIHgqKGV4cCh4KSsxKS8oZXhwKHgpLTEpCgkJLy8gSGVuY2UgZXhwKHgpID0gKFIoeCkreCkvKFIoeCkteCkKCQlpbnQyNTYgeiA9IChhKmEpIC8gb25lOwoJCWludDI1NiBSID0gKChpbnQyNTYpKDIpICogb25lKSArCgkJCSh6KihjMiArICh6KihjNCArICh6KihjNiArICh6KmM4L29uZSkpL29uZSkpL29uZSkpL29uZSk7CgkJZXhwID0gKHVpbnQyNTYpICgoKFIgKyBhKSAqIG9uZSkgLyAoUiAtIGEpKTsKCQlpZiAoc2NhbGUgPj0gMCkKCQkJZXhwIDw8PSBzY2FsZTsKCQllbHNlCgkJCWV4cCA+Pj0gLXNjYWxlOwoJCXJldHVybiBleHA7Cgl9CgoJIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQoJCgoJZnVuY3Rpb24gKCkgcGF5YWJsZSBwdWJsaWMgewoJCWlmIChtc2cudmFsdWUgPiAwKQoJCQlidXkoKTsKCQllbHNlCgkJCXdpdGhkcmF3T2xkKG1zZy5zZW5kZXIpOwoJfQp9'.
	

]
