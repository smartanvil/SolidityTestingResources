Class {
	#name : #SRT5624a41b818e4e7da13dd164f848ede66b197647,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5624a41b818e4e7da13dd164f848ede66b197647 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKbGlicmFyeSBTYWZlTWF0aCB7CiAgICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gbWF4NjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQ2NCkgewogICAgICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICAgIH0KCiAgICBmdW5jdGlvbiBtaW42NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDY0KSB7CiAgICAgICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgICB9CgogICAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgICB9CgogICAgZnVuY3Rpb24gbWluMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICAgIH0KfQoKCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgYm9vbCBwdWJsaWMgdHJhbnNmZXJzRW5hYmxlZDsKCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKCmNvbnRyYWN0IEVSQzIwIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIGJvb2wgcHVibGljIHRyYW5zZmVyc0VuYWJsZWQ7CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKfQoKCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAgIC8qKgogICAgKiBQcm90ZWN0aW9uIGFnYWluc3Qgc2hvcnQgYWRkcmVzcyBhdHRhY2sKICAgICovCiAgICBtb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludCBudW13b3JkcykgewogICAgICAgIGFzc2VydChtc2cuZGF0YS5sZW5ndGggPT0gbnVtd29yZHMgKiAzMiArIDQpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIG9ubHlQYXlsb2FkU2l6ZSgyKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwogICAgICAgIHJlcXVpcmUodHJhbnNmZXJzRW5hYmxlZCk7CgogICAgICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgICAqLwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9Cgp9CgoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBpbnRlcm5hbCBhbGxvd2VkOwoKICAgIC8qKgogICAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgb25seVBheWxvYWRTaXplKDMpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1tfZnJvbV0pOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsKICAgICAgICByZXF1aXJlKHRyYW5zZmVyc0VuYWJsZWQpOwoKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICAgKgogICAgICogQmV3YXJlIHRoYXQgY2hhbmdpbmcgYW4gYWxsb3dhbmNlIHdpdGggdGhpcyBtZXRob2QgYnJpbmdzIHRoZSByaXNrIHRoYXQgc29tZW9uZSBtYXkgdXNlIGJvdGggdGhlIG9sZAogICAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAgICogcmFjZSBjb25kaXRpb24gaXMgdG8gZmlyc3QgcmVkdWNlIHRoZSBzcGVuZGVyJ3MgYWxsb3dhbmNlIHRvIDAgYW5kIHNldCB0aGUgZGVzaXJlZCB2YWx1ZSBhZnRlcndhcmRzOgogICAgICogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZnlpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgICAqLwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgb25seVBheWxvYWRTaXplKDIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgLyoqCiAgICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKICAgICAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsCiAgICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICAgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAogICAgICovCiAgICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgICAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgICAgIH0KICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKfQoKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIGV2ZW50IE93bmVyQ2hhbmdlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCiAgICAvKioKICAgICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAgICogYWNjb3VudC4KICAgICAqLwogICAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICB9CgoKICAgIC8qKgogICAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAgICovCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKCiAgICAvKioKICAgICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAgICovCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgaW50ZXJuYWwgewogICAgICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgT3duZXJDaGFuZ2VkKG93bmVyLCBuZXdPd25lcik7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KCn0KCgovKioKICogQHRpdGxlIE1pbnRhYmxlIHRva2VuCiAqIEBkZXYgU2ltcGxlIEVSQzIwIFRva2VuIGV4YW1wbGUsIHdpdGggbWludGFibGUgdG9rZW4gY3JlYXRpb24KICogQGRldiBJc3N1ZTogKiBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5L2lzc3Vlcy8xMjAKICogQmFzZWQgb24gY29kZSBieSBUb2tlbk1hcmtldE5ldDogaHR0cHM6Ly9naXRodWIuY29tL1Rva2VuTWFya2V0TmV0L2ljby9ibG9iL21hc3Rlci9jb250cmFjdHMvTWludGFibGVUb2tlbi5zb2wKICovCgpjb250cmFjdCBNaW50YWJsZVRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIE93bmFibGUgewogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIlBsZWFzdXJlVG9rZW4iOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiUExUIjsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwoKICAgIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CiAgICBldmVudCBNaW50RmluaXNoZWQoKTsKCiAgICBib29sIHB1YmxpYyBtaW50aW5nRmluaXNoZWQ7CgogICAgbW9kaWZpZXIgY2FuTWludCgpIHsKICAgICAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEZ1bmN0aW9uIHRvIG1pbnQgdG9rZW5zCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRoYXQgd2lsbCByZWNlaXZlIHRoZSBtaW50ZWQgdG9rZW5zLgogICAgICogQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gbWludC4KICAgICAqIEByZXR1cm4gQSBib29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICAgKi8KICAgIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCwgYWRkcmVzcyBfb3duZXIpIGNhbk1pbnQgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfb3duZXJdID0gYmFsYW5jZXNbX293bmVyXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgTWludChfdG8sIF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKF9vd25lciwgX3RvLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgRnVuY3Rpb24gdG8gc3RvcCBtaW50aW5nIG5ldyB0b2tlbnMuCiAgICAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgICAqLwogICAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIG9ubHlPd25lciBjYW5NaW50IGludGVybmFsIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBtaW50aW5nRmluaXNoZWQgPSB0cnVlOwogICAgICAgIE1pbnRGaW5pc2hlZCgpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogUGV0ZXJzb24ncyBMYXcgUHJvdGVjdGlvbgogICAgICogQ2xhaW0gdG9rZW5zCiAgICAgKi8KICAgIGZ1bmN0aW9uIGNsYWltVG9rZW5zKGFkZHJlc3MgX3Rva2VuKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBpZiAoX3Rva2VuID09IDB4MCkgewogICAgICAgICAgICBvd25lci50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBNaW50YWJsZVRva2VuIHRva2VuID0gTWludGFibGVUb2tlbihfdG9rZW4pOwogICAgICAgIHVpbnQyNTYgYmFsYW5jZSA9IHRva2VuLmJhbGFuY2VPZih0aGlzKTsKICAgICAgICB0b2tlbi50cmFuc2Zlcihvd25lciwgYmFsYW5jZSk7CgogICAgICAgIFRyYW5zZmVyKF90b2tlbiwgb3duZXIsIGJhbGFuY2UpOwogICAgfQp9CgoKLyoqCiAqIEB0aXRsZSBDcm93ZHNhbGUKICogQGRldiBDcm93ZHNhbGUgaXMgYSBiYXNlIGNvbnRyYWN0IGZvciBtYW5hZ2luZyBhIHRva2VuIGNyb3dkc2FsZS4KICogQ3Jvd2RzYWxlcyBoYXZlIGEgc3RhcnQgYW5kIGVuZCB0aW1lc3RhbXBzLCB3aGVyZSBpbnZlc3RvcnMgY2FuIG1ha2UKICogdG9rZW4gcHVyY2hhc2VzLiBGdW5kcyBjb2xsZWN0ZWQgYXJlIGZvcndhcmRlZCB0byBhIHdhbGxldAogKiBhcyB0aGV5IGFycml2ZS4KICovCmNvbnRyYWN0IENyb3dkc2FsZSBpcyBPd25hYmxlIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogICAgLy8gYWRkcmVzcyB3aGVyZSBmdW5kcyBhcmUgY29sbGVjdGVkCiAgICBhZGRyZXNzIHB1YmxpYyB3YWxsZXQ7CgogICAgLy8gYW1vdW50IG9mIHJhaXNlZCBtb25leSBpbiB3ZWkKICAgIHVpbnQyNTYgcHVibGljIHdlaVJhaXNlZDsKCiAgICB1aW50MjU2IHB1YmxpYyB0b2tlbkFsbG9jYXRlZDsKCiAgICB1aW50MjU2IHB1YmxpYyBoYXJkV2VpQ2FwID0gNDk3MDAgKiAoMTAgKiogMTgpOwoKICAgIGZ1bmN0aW9uIENyb3dkc2FsZSgKICAgIGFkZHJlc3MgX3dhbGxldAogICAgKQogICAgcHVibGljCiAgICB7CiAgICAgICAgcmVxdWlyZShfd2FsbGV0ICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHdhbGxldCA9IF93YWxsZXQ7CiAgICB9Cn0KCgpjb250cmFjdCBQTFRDcm93ZHNhbGUgaXMgT3duYWJsZSwgQ3Jvd2RzYWxlLCBNaW50YWJsZVRva2VuIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIGVudW0gU3RhdGUge0FjdGl2ZSwgQ2xvc2VkfQogICAgU3RhdGUgcHVibGljIHN0YXRlOwogICAgdWludDI1NltdIHB1YmxpYyByYXRlcyAgPSBbMzAwMDAsIDE1MDAwLCA3MjUwLCA3MDAwLCA2NzUwLCA2NTAwLCA2MjUwLCA2MDAwLCA1NzUwLCA1NTAwLCA1MjUwLCA1MDAwXTsKCiAgICB1aW50MjU2W10gcHVibGljIGxpbWl0cyA9ICBbNTAqMTAqKjI0LCAgNzUqMTAqKjI0LCAxMDAqMTAqKjI0LCAxMjUqMTAqKjI0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTUwKjEwKioyNCwgMTc1KjEwKioyNCwgMjAwKjEwKioyNCwgMjI1KjEwKioyNCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDI1MCoxMCoqMjQsIDI3NSoxMCoqMjQsIDMwMCoxMCoqMjQsIDM1MCoxMCoqMjRdOwoKLyoKICAgIC8vRm9yIHRlc3RzCiAgICB1aW50MjU2W10gcHVibGljIGxpbWl0cyA9ICBbNTAqMTAqKjIxLCA3NSoxMCoqMjEsIDEwMCoxMCoqMjEsIDEyNSoxMCoqMjEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTUwKjEwKioyMSwgMTc1KjEwKioyMSwgMjAwKjEwKioyMSwgMjI1KjEwKioyMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyNTAqMTAqKjIxLCAyNzUqMTAqKjIxLCAzMDAqMTAqKjIxLCAzNTAqMTAqKjIxXTsKKi8KCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBkZXBvc2l0ZWQ7CgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgSU5JVElBTF9TVVBQTFkgPSA1MDAgKiAoMTAgKiogNikgKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpOwogICAgdWludDI1NiBwdWJsaWMgZnVuZEZvclNhbGUgPSAzNTAgKiAoMTAgKiogNikgKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpOwogICAgdWludDI1NiBwdWJsaWMgd2VpTWluU2FsZSA9IDIgKiAxMCAqKiAxNjsKCiAgICB1aW50MjU2IHB1YmxpYyBjb3VudEludmVzdG9yOwogICAgYm9vbCBwdWJsaWMgc2FsZVRva2VuID0gdHJ1ZTsKCiAgICBldmVudCBUb2tlblB1cmNoYXNlKGFkZHJlc3MgaW5kZXhlZCBiZW5lZmljaWFyeSwgdWludDI1NiB2YWx1ZSwgdWludDI1NiBhbW91bnQpOwogICAgZXZlbnQgVG9rZW5MaW1pdFJlYWNoZWQodWludDI1NiB0b2tlblJhaXNlZCwgdWludDI1NiBwdXJjaGFzZWRUb2tlbik7CiAgICBldmVudCBIYXJkQ2FwUmVhY2hlZCgpOwogICAgZXZlbnQgRmluYWxpemVkKCk7CgogICAgZnVuY3Rpb24gUExUQ3Jvd2RzYWxlKAogICAgYWRkcmVzcyBfb3duZXIsCiAgICBhZGRyZXNzIF93YWxsZXQKICAgICkKICAgIHB1YmxpYwogICAgQ3Jvd2RzYWxlKF93YWxsZXQpCiAgICB7CgogICAgICAgIHJlcXVpcmUoX3dhbGxldCAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF9vd25lciAhPSBhZGRyZXNzKDApKTsKICAgICAgICBvd25lciA9IF9vd25lcjsKICAgICAgICB0cmFuc2ZlcnNFbmFibGVkID0gdHJ1ZTsKICAgICAgICBtaW50aW5nRmluaXNoZWQgPSBmYWxzZTsKICAgICAgICBzdGF0ZSA9IFN0YXRlLkFjdGl2ZTsKICAgICAgICB0b3RhbFN1cHBseSA9IElOSVRJQUxfU1VQUExZOwogICAgICAgIGJvb2wgcmVzdWx0TWludEZvck93bmVyID0gbWludEZvck93bmVyKG93bmVyKTsKICAgICAgICByZXF1aXJlKHJlc3VsdE1pbnRGb3JPd25lcik7CiAgICB9CgogICAgbW9kaWZpZXIgaW5TdGF0ZShTdGF0ZSBfc3RhdGUpIHsKICAgICAgICByZXF1aXJlKHN0YXRlID09IF9zdGF0ZSk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLyBmYWxsYmFjayBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBidXkgdG9rZW5zCiAgICBmdW5jdGlvbigpIHBheWFibGUgcHVibGljIHsKICAgICAgICBidXlUb2tlbnMobXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gc3RhcnRTYWxlKCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgc2FsZVRva2VuID0gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBzdG9wU2FsZSgpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHNhbGVUb2tlbiA9IGZhbHNlOwogICAgfQoKICAgIC8vIGxvdyBsZXZlbCB0b2tlbiBwdXJjaGFzZSBmdW5jdGlvbgogICAgZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgX2ludmVzdG9yKSBwdWJsaWMgaW5TdGF0ZShTdGF0ZS5BY3RpdmUpIHBheWFibGUgcmV0dXJucyAodWludDI1Nil7CiAgICAgICAgcmVxdWlyZShfaW52ZXN0b3IgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShzYWxlVG9rZW4gPT0gdHJ1ZSk7CiAgICAgICAgdWludDI1NiB3ZWlBbW91bnQgPSBtc2cudmFsdWU7CiAgICAgICAgdWludDI1NiB0b2tlbnMgPSB2YWxpZFB1cmNoYXNlVG9rZW5zKHdlaUFtb3VudCk7CiAgICAgICAgaWYgKHRva2VucyA9PSAwKSB7cmV2ZXJ0KCk7fQogICAgICAgIHdlaVJhaXNlZCA9IHdlaVJhaXNlZC5hZGQod2VpQW1vdW50KTsKICAgICAgICB0b2tlbkFsbG9jYXRlZCA9IHRva2VuQWxsb2NhdGVkLmFkZCh0b2tlbnMpOwogICAgICAgIG1pbnQoX2ludmVzdG9yLCB0b2tlbnMsIG93bmVyKTsKCiAgICAgICAgVG9rZW5QdXJjaGFzZShfaW52ZXN0b3IsIHdlaUFtb3VudCwgdG9rZW5zKTsKICAgICAgICBpZiAoZGVwb3NpdGVkW19pbnZlc3Rvcl0gPT0gMCkgewogICAgICAgICAgICBjb3VudEludmVzdG9yID0gY291bnRJbnZlc3Rvci5hZGQoMSk7CiAgICAgICAgfQogICAgICAgIGRlcG9zaXQoX2ludmVzdG9yKTsKICAgICAgICB3YWxsZXQudHJhbnNmZXIod2VpQW1vdW50KTsKICAgICAgICByZXR1cm4gdG9rZW5zOwogICAgfQoKICAgIC8qKgogICAgKiBQcmUgU2FsZSAgICAgICAgICAgICAgMSBFVEggPSAzMCwwMDAgdG9rZW4gLS0gTGltaXQgPSA1MCwwMDAsMDAwICB0b2tlbnMKICAgICogMSBTdGFnZSAgICAgICAgICAgICAgIDEgRVRIID0gMTUsMDAwIHRva2VuIC0tIExpbWl0ID0gMjUsMDAwLDAwMCAgdG9rZW5zCiAgICAqIDIgU3RhZ2UgICAgICAgICAgICAgICAxIEVUSCA9IDcsMjUwICB0b2tlbiAtLSBMaW1pdCA9IDI1LDAwMCwwMDAgIHRva2VucwogICAgKiAzIFN0YWdlICAgICAgICAgICAgICAgMSBFVEggPSA3LDAwMCAgdG9rZW4gLS0gTGltaXQgPSAyNSwwMDAsMDAwICB0b2tlbnMKICAgICogNCBTdGFnZSAgICAgICAgICAgICAgIDEgRVRIID0gNiw3NTAgIHRva2VuIC0tIExpbWl0ID0gMjUsMDAwLDAwMCAgdG9rZW5zCiAgICAqIDUgU3RhZ2UgICAgICAgICAgICAgICAxIEVUSCA9IDYsNTAwICB0b2tlbiAtLSBMaW1pdCA9IDI1LDAwMCwwMDAgIHRva2VucwogICAgKiA2IFN0YWdlICAgICAgICAgICAgICAgMSBFVEggPSA2LDI1MCAgdG9rZW4gLS0gTGltaXQgPSAyNSwwMDAsMDAwICB0b2tlbnMKICAgICogNyBTdGFnZSAgICAgICAgICAgICAgIDEgRVRIID0gNiwwMDAgIHRva2VuIC0tIExpbWl0ID0gMjUsMDAwLDAwMCAgdG9rZW5zCiAgICAqIDggU3RhZ2UgICAgICAgICAgICAgICAxIEVUSCA9IDUsNzUwICB0b2tlbiAtLSBMaW1pdCA9IDI1LDAwMCwwMDAgIHRva2VucwogICAgKiA5IFN0YWdlICAgICAgICAgICAgICAgMSBFVEggPSA1LDUwMCAgdG9rZW4gLS0gTGltaXQgPSAyNSwwMDAsMDAwICB0b2tlbnMKICAgICogMTAgU3RhZ2UgICAgICAgICAgICAgIDEgRVRIID0gNSwyNTAgIHRva2VuIC0tIExpbWl0ID0gMjUsMDAwLDAwMCAgdG9rZW5zCiAgICAqIDExIFN0YWdlICAgICAgICAgICAgICAxIEVUSCA9IDUsMDAwICB0b2tlbiAtLSBMaW1pdCA9IDUwLDAwMCwwMDAgIHRva2VucwogICAgKgogICAgKi8KICAgIGZ1bmN0aW9uIGdldFRvdGFsQW1vdW50T2ZUb2tlbnModWludDI1NiBfd2VpQW1vdW50KSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGN1cnJlbnRQZXJpb2QgPSBnZXRQZXJpb2QodG9rZW5BbGxvY2F0ZWQpOwogICAgICAgIHVpbnQyNTYgYW1vdW50T2ZUb2tlbnMgPSAwOwogICAgICAgIGlmKGN1cnJlbnRQZXJpb2QgPCAxMil7CiAgICAgICAgICAgIGFtb3VudE9mVG9rZW5zID0gX3dlaUFtb3VudC5tdWwocmF0ZXNbY3VycmVudFBlcmlvZF0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFtb3VudE9mVG9rZW5zID0gMDsKICAgICAgICB9CiAgICAgICAgaWYodG9rZW5BbGxvY2F0ZWQuYWRkKGFtb3VudE9mVG9rZW5zKSA+IGZ1bmRGb3JTYWxlKXsKICAgICAgICAgICAgYW1vdW50T2ZUb2tlbnMgPSAwOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYW1vdW50T2ZUb2tlbnM7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UGVyaW9kKHVpbnQyNTYgY3VycmVudFRva2VuQWxsb2NhdGVkKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KSB7CiAgICAgICAgaWYoY3VycmVudFRva2VuQWxsb2NhdGVkID4gbGltaXRzWzExXSl7CiAgICAgICAgICAgIHJldHVybiAxMjsKICAgICAgICB9CiAgICAgICAgZm9yKHVpbnQgaSA9IDExOyBpID4gMDsgaS0tKXsKICAgICAgICAgICAgaWYoY3VycmVudFRva2VuQWxsb2NhdGVkID49IGxpbWl0c1tpLTFdKXsKICAgICAgICAgICAgICAgIHJldHVybiBpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmKGN1cnJlbnRUb2tlbkFsbG9jYXRlZCA8IGxpbWl0c1swXSl7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBkZXBvc2l0KGFkZHJlc3MgaW52ZXN0b3IpIGludGVybmFsIHsKICAgICAgICByZXF1aXJlKHN0YXRlID09IFN0YXRlLkFjdGl2ZSk7CiAgICAgICAgZGVwb3NpdGVkW2ludmVzdG9yXSA9IGRlcG9zaXRlZFtpbnZlc3Rvcl0uYWRkKG1zZy52YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gbWludEZvck93bmVyKGFkZHJlc3MgX3dhbGxldCkgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCByZXN1bHQpIHsKICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgICByZXF1aXJlKF93YWxsZXQgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgYmFsYW5jZXNbX3dhbGxldF0gPSBiYWxhbmNlc1tfd2FsbGV0XS5hZGQoSU5JVElBTF9TVVBQTFkpOwogICAgICAgIHJlc3VsdCA9IHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0RGVwb3NpdGVkKGFkZHJlc3MgX2ludmVzdG9yKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KXsKICAgICAgICByZXR1cm4gZGVwb3NpdGVkW19pbnZlc3Rvcl07CiAgICB9CgogICAgLyoqCiAgICAqIEhhcmQgY2FwIC0gNDk3MDAgRVRICiAgICAqIGZvciB0b2tlbiBzYWxlIAogICAgKi8KICAgIGZ1bmN0aW9uIHZhbGlkUHVyY2hhc2VUb2tlbnModWludDI1NiBfd2VpQW1vdW50KSBwdWJsaWMgaW5TdGF0ZShTdGF0ZS5BY3RpdmUpIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGFkZFRva2VucyA9IGdldFRvdGFsQW1vdW50T2ZUb2tlbnMoX3dlaUFtb3VudCk7CiAgICAgICAgaWYgKHRva2VuQWxsb2NhdGVkLmFkZChhZGRUb2tlbnMpID4gZnVuZEZvclNhbGUpIHsKICAgICAgICAgICAgVG9rZW5MaW1pdFJlYWNoZWQodG9rZW5BbGxvY2F0ZWQsIGFkZFRva2Vucyk7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgICAgICBpZiAod2VpUmFpc2VkLmFkZChfd2VpQW1vdW50KSA+IGhhcmRXZWlDYXApIHsKICAgICAgICAgICAgSGFyZENhcFJlYWNoZWQoKTsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIGlmIChfd2VpQW1vdW50IDwgd2VpTWluU2FsZSkgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CgogICAgcmV0dXJuIGFkZFRva2VuczsKICAgIH0KCiAgICBmdW5jdGlvbiBmaW5hbGl6ZSgpIHB1YmxpYyBvbmx5T3duZXIgaW5TdGF0ZShTdGF0ZS5BY3RpdmUpIHJldHVybnMgKGJvb2wgcmVzdWx0KSB7CiAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgICAgc3RhdGUgPSBTdGF0ZS5DbG9zZWQ7CiAgICAgICAgd2FsbGV0LnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICAgICAgZmluaXNoTWludGluZygpOwogICAgICAgIEZpbmFsaXplZCgpOwogICAgICAgIHJlc3VsdCA9IHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlQ29udHJhY3QoKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBzZWxmZGVzdHJ1Y3Qob3duZXIpOwogICAgfQp9'.
	

]
