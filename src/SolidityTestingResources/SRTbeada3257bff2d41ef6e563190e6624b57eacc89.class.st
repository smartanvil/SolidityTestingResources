Class {
	#name : #SRTbeada3257bff2d41ef6e563190e6624b57eacc89,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTbeada3257bff2d41ef6e563190e6624b57eacc89 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovL2ltcG9ydCAiLi9BdXRoQWRtaW4uc29sIjsKLy9pbXBvcnQgIi4vU2luZ2xlVG9rZW5Db2luLnNvbCI7Ci8vaW1wb3J0ICIuL1NhZmVNYXRoLnNvbCI7Cgpjb250cmFjdCBJY29NYW5hZ2VtZW50IHsKICAgIAogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CiAgICAKICAgIHVpbnQyNTYgcHJpY2UgPSAxRTE3OyAvLyB3ZWkgcGVyIDEgdG9rZW4KICAgIHVpbnQyNTYgZnJhY3RfcHJpY2UgPSAxRTExOyAgLy8gd2VpIHBlciAwLjAwMDAwMSB0b2tlbgogICAgLy91aW50MjU2IHB1YmxpYyBpY29TdGFydFRpbWUgPSBub3c7CiAgICB1aW50MjU2IHB1YmxpYyBpY29TdGFydFRpbWUgPSAxNTEyODY0MDAwOyAvLzEwIGRlYyAyMDE3IDAwOjAwCiAgICB1aW50MjU2IHB1YmxpYyBpY29FbmRUaW1lID0gMTUxODIyMDgwMDsgLy8gMTAgZmViIDIwMTggMDA6MDAKICAgIC8vdWludDI1NiBwdWJsaWMgaWNvRW5kVGltZSA9IG5vdyArIDYwIGRheXM7IC8vIGZvciB0ZXN0aW5nCiAgICAvLyB1aW50MjU2IHB1YmxpYyBpY29FbmRUaW1lID0gMTUxNzI3MDQwMDsgCiAgICB1aW50MjU2IHB1YmxpYyBtaW5faW52ID0gMUUxNzsKICAgIHVpbnQyNTYgcHVibGljIG1pbkNhcCA9IDMwMDBFMTg7CiAgICB1aW50MjU2IHB1YmxpYyBmdW5kZWQ7CiAgICAvLyB1aW50MjU2IHB1YmxpYyB0b2tlbkhvbGRlcnM7CiAgICAKICAgIGJvb2wgcHVibGljIGljb1BoYXNlID0gdHJ1ZTsKICAgIGJvb2wgcHVibGljIGljb19yZWplY3RlZCA9IGZhbHNlOwogICAgLy8gYm9vbCB0b2tlbl92YWxpZCA9IGZhbHNlOwoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgY29udHJpYnV0b3JzOwogICAgCgogICAgU2luZ2xlVG9rZW5Db2luIHB1YmxpYyB0b2tlbjsKICAgIEF1dGhBZG1pbiBhdXRoQWRtaW4gOwoKICAgIGV2ZW50IEljb2VuZCgpOwogICAgZXZlbnQgSWNvX3JlamVjdGVkKHN0cmluZyBkZXRhaWxzKTsKICAgIAogICAgbW9kaWZpZXIgb25seUR1cmluZ0ljbyB7CiAgICAgICAgcmVxdWlyZSAoaWNvUGhhc2UpOwogICAgICAgIHJlcXVpcmUobm93IDwgaWNvRW5kVGltZSAmJiBub3cgPiBpY29TdGFydFRpbWUpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgYWRtaW5Pbmx5IHsKICAgICAgICByZXF1aXJlIChhdXRoQWRtaW4uaXNDdXJyZW50QWRtaW4obXNnLnNlbmRlcikpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIC8qbW9kaWZpZXIgdXNlcnNPbmx5IHsKICAgICAgICByZXF1aXJlKGF1dGhBZG1pbi5pc0N1cnJlbnRVc2VyKG1zZy5zZW5kZXIpKTsKICAgICAgICBfOwogICAgfSovCiAgICAKICAgIGZ1bmN0aW9uICgpIG9ubHlEdXJpbmdJY28gcHVibGljIHBheWFibGUgewogICAgICAgIGludmVzdChtc2cuc2VuZGVyKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gaW52ZXN0KGFkZHJlc3MgX3RvKSBwdWJsaWMgb25seUR1cmluZ0ljbyBwYXlhYmxlIHsKICAgICAgICB1aW50MjU2IHB1cmNoYXNlID0gbXNnLnZhbHVlOwogICAgICAgIGNvbnRyaWJ1dG9yc1tfdG9dID0gY29udHJpYnV0b3JzW190b10uYWRkKHB1cmNoYXNlKTsKICAgICAgICByZXF1aXJlIChwdXJjaGFzZSA+PSBtaW5faW52KTsKICAgICAgICB1aW50MjU2IGNoYW5nZSA9IHB1cmNoYXNlLm1vZChmcmFjdF9wcmljZSk7CiAgICAgICAgdWludDI1NiBjbGVhbl9wdXJjaGFzZSA9IHB1cmNoYXNlLnN1YihjaGFuZ2UpOwoJICAgIGZ1bmRlZCA9IGZ1bmRlZC5hZGQoY2xlYW5fcHVyY2hhc2UpOwogICAgICAgIHVpbnQyNTYgdG9rZW5fYW1vdW50ID0gY2xlYW5fcHVyY2hhc2UuZGl2KGZyYWN0X3ByaWNlKTsKICAgICAgICByZXF1aXJlIChfdG8uc2VuZChjaGFuZ2UpKTsKICAgICAgICB0b2tlbi5taW50KF90bywgdG9rZW5fYW1vdW50KTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gSWNvTWFuYWdlbWVudChhZGRyZXNzIGFkbWluX2FkZHJlc3MpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZSAoaWNvU3RhcnRUaW1lIDw9IGljb0VuZFRpbWUpOwogICAgICAgIGF1dGhBZG1pbiA9IEF1dGhBZG1pbihhZG1pbl9hZGRyZXNzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRfdG9rZW4oYWRkcmVzcyBfYWRkcikgcHVibGljIGFkbWluT25seSB7CiAgICAgICAgdG9rZW4gPSBTaW5nbGVUb2tlbkNvaW4oX2FkZHIpOwogICAgfQoKICAgIGZ1bmN0aW9uIGVuZCgpIHB1YmxpYyBhZG1pbk9ubHkgewogICAgICAgIHJlcXVpcmUgKG5vdyA+PSBpY29FbmRUaW1lKTsKICAgICAgICBpY29QaGFzZSA9IGZhbHNlOwogICAgICAgIEljb2VuZCgpOwogICAgfQogICAgCiAgICAKICAgIGZ1bmN0aW9uIHdpdGhkcmF3X2Z1bmRzICh1aW50MjU2IGFtb3VudCkgcHVibGljIGFkbWluT25seSB7CiAgICAgICAgcmVxdWlyZSAodGhpcy5iYWxhbmNlID49IGFtb3VudCk7CiAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihhbW91bnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdpdGhkcmF3X2FsbF9mdW5kcyAoKSBwdWJsaWMgYWRtaW5Pbmx5IHsKICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHdpdGhkcmF3X2lmX2ZhaWxlZCgpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShub3cgPiBpY29FbmRUaW1lKTsKCSAgICByZXF1aXJlKGZ1bmRlZDxtaW5DYXApOwogICAgICAgIHJlcXVpcmUoIWljb1BoYXNlKTsKICAgICAgICByZXF1aXJlIChjb250cmlidXRvcnNbbXNnLnNlbmRlcl0gIT0gMCk7CiAgICAgICAgcmVxdWlyZSAodGhpcy5iYWxhbmNlID49IGNvbnRyaWJ1dG9yc1ttc2cuc2VuZGVyXSk7CiAgICAgICAgdWludDI1NiBhbW91bnQgPSBjb250cmlidXRvcnNbbXNnLnNlbmRlcl07CiAgICAgICAgY29udHJpYnV0b3JzW21zZy5zZW5kZXJdID0gMDsKICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGFtb3VudCk7CiAgICB9CiAgICAvLyBmdW5jdGlvbiByZWplY3QgKHN0cmluZyBkZXRhaWxzKSBhZG1pbk9ubHkgewogICAgLy8gICAgIC8vIHJlcXVpcmUgKG5vdyA+IGljb0VuZFRpbWUpOwogICAgLy8gICAgIC8vIHJlcXVpcmUgKCFpY29fcmVqZWN0ZWQpOwogICAgLy8gICAgIHN0cmxvZygiZ29uZSIpOwogICAgLy8gICAgIHVpbnQyNTYgZGl2aWRlbmRfcGVyX3Rva2VuID0gdGhpcy5iYWxhbmNlIC8gdG9rZW4udG90YWxTdXBwbHkoKTsKICAgIC8vICAgICBsb2coZGl2aWRlbmRfcGVyX3Rva2VuKTsKICAgIC8vICAgICBsb2codGhpcy5iYWxhbmNlKTsKICAgIC8vICAgICBsb2codG9rZW4udG90YWxTdXBwbHkoKSk7CiAgICAvLyAgICAgdWludCBudW1iZXJUb2tlbkhvbGRlcnMgPSB0b2tlbi5jb3VudF90b2tlbl9ob2xkZXJzKCk7CiAgICAvLyAgICAgbG9nKG51bWJlclRva2VuSG9sZGVycyk7CiAgICAvLyAgICAgdWludDI1NiB0b3RhbF9yZWplY3RlZCA9IDA7CiAgICAvLyAgICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgbnVtYmVyVG9rZW5Ib2xkZXJzOyBpKyspIHsKICAgIC8vICAgICAgICAgYWRkcmVzcyBhZGRyID0gdG9rZW4udG9rZW5Ib2xkZXIoaSk7CiAgICAvLyAgICAgICAgIGFkbG9nKGFkZHIpOwogICAgLy8gICAgICAgICB1aW50MjU2IGV0aGVyVG9TZW5kID0gZGl2aWRlbmRfcGVyX3Rva2VuICogdG9rZW4uYmFsYW5jZU9mKGFkZHIpOwogICAgLy8gICAgICAgICBsb2coZXRoZXJUb1NlbmQpOwogICAgLy8gICAgICAgICAvLyByZXF1aXJlIChldGhlclRvU2VuZCA8IDFFMTgpOwogICAgLy8gICAgICAgICByZWplY3RlZEljb0JhbGFuY2VzW2FkZHJdID0gcmVqZWN0ZWRJY29CYWxhbmNlc1thZGRyXS5hZGQoZXRoZXJUb1NlbmQpOwogICAgLy8gICAgICAgICBsb2cocmVqZWN0ZWRJY29CYWxhbmNlc1thZGRyXSk7CiAgICAvLyAgICAgICAgIHRvdGFsX3JlamVjdGVkID0gdG90YWxfcmVqZWN0ZWQuYWRkKGV0aGVyVG9TZW5kKTsKICAgIC8vICAgICAgICAgbG9nKHRvdGFsX3JlamVjdGVkKTsKICAgIC8vICAgICB9CiAgICAvLyAgICAgaWNvX3JlamVjdGVkID0gdHJ1ZTsKICAgIC8vICAgICBJY29fcmVqZWN0ZWQoZGV0YWlscyk7CiAgICAvLyAgICAgdWludDI1NiByZW1haW5kZXIgPSB0aGlzLmJhbGFuY2Uuc3ViKHRvdGFsX3JlamVjdGVkKTsKICAgIC8vICAgICBsb2cocmVtYWluZGVyKTsKICAgIC8vICAgICByZXF1aXJlIChyZW1haW5kZXIgPiAwKTsKICAgIC8vICAgICByZXF1aXJlIChtc2cuc2VuZGVyLnNlbmQocmVtYWluZGVyKSk7CiAgICAvLyAgICAgc3RybG9nKCJnb25lIik7CiAgICAvLyAgICAgcmVqZWN0ZWRJY29CYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHJlamVjdGVkSWNvQmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKHJlbWFpbmRlcik7CiAgICAvLyB9CgogICAgLy8gZnVuY3Rpb24gcmVqZWN0ZWRGdW5kV2l0aGRyYXdhbCgpIHsKICAgIC8vICAgICAKICAgIC8vIH0KfQoKY29udHJhY3QgQXV0aEFkbWluIHsKICAgIAogICAgYWRkcmVzc1tdIGFkbWluc19hcnJheTsKICAgIGFkZHJlc3NbXSB1c2Vyc19hcnJheTsKICAgIAogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBhZG1pbl9hZGRyZXNzZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHVzZXJfYWRkcmVzc2VzOwoKICAgIGV2ZW50IE5ld0FkbWluKGFkZHJlc3MgYWRkZWRCeSwgYWRkcmVzcyBhZG1pbik7CiAgICBldmVudCBSZW1vdmVBZG1pbihhZGRyZXNzIHJlbW92ZWRCeSwgYWRkcmVzcyBhZG1pbik7CiAgICBldmVudCBOZXdVc2VyQWRkZWQoYWRkcmVzcyBhZGRlZEJ5LCBhZGRyZXNzIGFjY291bnQpOwogICAgZXZlbnQgUmVtb3ZlVXNlcihhZGRyZXNzIHJlbW92ZWRCeSwgYWRkcmVzcyBhY2NvdW50KTsKCiAgICBmdW5jdGlvbiBBdXRoQWRtaW4oKSBwdWJsaWMgewogICAgICAgIGFkbWluX2FkZHJlc3Nlc1ttc2cuc2VuZGVyXSA9IHRydWU7CiAgICAgICAgTmV3QWRtaW4oMCwgbXNnLnNlbmRlcik7CiAgICAgICAgYWRtaW5zX2FycmF5LnB1c2gobXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkQWRtaW4oYWRkcmVzcyBfYWRkcmVzcykgcHVibGljIHsKICAgICAgICByZXF1aXJlIChpc0N1cnJlbnRBZG1pbihtc2cuc2VuZGVyKSk7CiAgICAgICAgcmVxdWlyZSAoIWFkbWluX2FkZHJlc3Nlc1tfYWRkcmVzc10pOwogICAgICAgIGFkbWluX2FkZHJlc3Nlc1tfYWRkcmVzc10gPSB0cnVlOwogICAgICAgIE5ld0FkbWluKG1zZy5zZW5kZXIsIF9hZGRyZXNzKTsKICAgICAgICBhZG1pbnNfYXJyYXkucHVzaChfYWRkcmVzcyk7CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlQWRtaW4oYWRkcmVzcyBfYWRkcmVzcykgcHVibGljIHsKICAgICAgICByZXF1aXJlKGlzQ3VycmVudEFkbWluKG1zZy5zZW5kZXIpKTsKICAgICAgICByZXF1aXJlIChfYWRkcmVzcyAhPSBtc2cuc2VuZGVyKTsKICAgICAgICByZXF1aXJlIChhZG1pbl9hZGRyZXNzZXNbX2FkZHJlc3NdKTsKICAgICAgICBhZG1pbl9hZGRyZXNzZXNbX2FkZHJlc3NdID0gZmFsc2U7CiAgICAgICAgUmVtb3ZlQWRtaW4obXNnLnNlbmRlciwgX2FkZHJlc3MpOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZF91c2VyKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZSAoaXNDdXJyZW50QWRtaW4obXNnLnNlbmRlcikpOwogICAgICAgIHJlcXVpcmUgKCF1c2VyX2FkZHJlc3Nlc1tfYWRkcmVzc10pOwogICAgICAgIHVzZXJfYWRkcmVzc2VzW19hZGRyZXNzXSA9IHRydWU7CiAgICAgICAgTmV3VXNlckFkZGVkKG1zZy5zZW5kZXIsIF9hZGRyZXNzKTsKICAgICAgICB1c2Vyc19hcnJheS5wdXNoKF9hZGRyZXNzKTsKICAgIH0KCiAgICBmdW5jdGlvbiByZW1vdmVfdXNlcihhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUgKGlzQ3VycmVudEFkbWluKG1zZy5zZW5kZXIpKTsKICAgICAgICByZXF1aXJlICh1c2VyX2FkZHJlc3Nlc1tfYWRkcmVzc10pOwogICAgICAgIHVzZXJfYWRkcmVzc2VzW19hZGRyZXNzXSA9IGZhbHNlOwogICAgICAgIFJlbW92ZVVzZXIobXNnLnNlbmRlciwgX2FkZHJlc3MpOwogICAgfQogICAgICAgICAgICAgICAgICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdldHRlcnMKICAgICAgICAgICAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KICAgIAogICAgZnVuY3Rpb24gaXNDdXJyZW50QWRtaW4oYWRkcmVzcyBfYWRkcmVzcykgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gYWRtaW5fYWRkcmVzc2VzW19hZGRyZXNzXTsKICAgIH0KCiAgICBmdW5jdGlvbiBpc0N1cnJlbnRPclBhc3RBZG1pbihhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IGFkbWluc19hcnJheS5sZW5ndGg7IGkrKykKICAgICAgICAgICAgcmVxdWlyZSAoYWRtaW5zX2FycmF5W2ldID09IF9hZGRyZXNzKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbiBpc0N1cnJlbnRVc2VyKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHVzZXJfYWRkcmVzc2VzW19hZGRyZXNzXTsKICAgIH0KCiAgICBmdW5jdGlvbiBpc0N1cnJlbnRPclBhc3RVc2VyKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgdXNlcnNfYXJyYXkubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIHJlcXVpcmUgKHVzZXJzX2FycmF5W2ldID09IF9hZGRyZXNzKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KfQpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9CiAgZnVuY3Rpb24gbW9kKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgJSBiOwogICAgLy91aW50MjU2IHogPSBhIC8gYjsKICAgIGFzc2VydChhID09IChhIC8gYikgKiBiICsgYyk7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlczsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgaG9sZGVyczsKICAgIGFkZHJlc3NbXSBwdWJsaWMgdG9rZW5faG9sZGVyc19hcnJheTsKICAgIAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKCiAgICAgICAgaWYgKCFob2xkZXJzW190b10pIHsKICAgICAgICAgICAgaG9sZGVyc1tfdG9dID0gdHJ1ZTsKICAgICAgICAgICAgdG9rZW5faG9sZGVyc19hcnJheS5wdXNoKF90byk7CiAgICAgICAgfQoKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwoKCiAgICAgICAgLyppZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPT0gMCkgewogICAgICAgICAgICB1aW50IGlkID0gZ2V0X2luZGV4KG1zZy5zZW5kZXIpOwogICAgICAgICAgICBkZWxldGUgdG9rZW5faG9sZGVyc19hcnJheVtpZF07CiAgICAgICAgICAgIHRva2VuX2hvbGRlcnNfYXJyYXlbaWRdID0gdG9rZW5faG9sZGVyc19hcnJheVt0b2tlbl9ob2xkZXJzX2FycmF5Lmxlbmd0aCAtIDFdOwogICAgICAgICAgICBkZWxldGUgdG9rZW5faG9sZGVyc19hcnJheVt0b2tlbl9ob2xkZXJzX2FycmF5Lmxlbmd0aC0xXTsKICAgICAgICAgICAgdG9rZW5faG9sZGVyc19hcnJheS5sZW5ndGgtLTsKICAgICAgICB9Ki8KCiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBnZXRfaW5kZXggKGFkZHJlc3MgX3dob20pIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBmb3IgKHVpbnQyNTYgaSA9IDA7IGk8dG9rZW5faG9sZGVyc19hcnJheS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAodG9rZW5faG9sZGVyc19hcnJheVtpXSA9PSBfd2hvbSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy9yZXF1aXJlICh0b2tlbl9ob2xkZXJzX2FycmF5W2ldID09IF93aG9tKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBjb3VudF90b2tlbl9ob2xkZXJzICgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIHRva2VuX2hvbGRlcnNfYXJyYXkubGVuZ3RoOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB0b2tlbkhvbGRlcih1aW50MjU2IF9pbmRleCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MpIHsKICAgICAgICByZXR1cm4gdG9rZW5faG9sZGVyc19hcnJheVtfaW5kZXhdOwogICAgfQogICAgICAKfQoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBpbnRlcm5hbCBhbGxvd2VkOwoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1tfZnJvbV0pOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0pOwogICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAvLyByZXF1aXJlIChfdmFsdWUgPD0gX2FsbG93YW5jZSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGlmICghaG9sZGVyc1tfdG9dKSB7CiAgICAgICAgaG9sZGVyc1tfdG9dID0gdHJ1ZTsKICAgICAgICB0b2tlbl9ob2xkZXJzX2FycmF5LnB1c2goX3RvKTsKICAgIH0KICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQogIAogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICByZXF1aXJlKChfdmFsdWUgPT0gMCkgfHwgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9CgogIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2FkZGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICB1aW50MjU2IG9sZFZhbHVlID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl07CiAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgfQogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KfQoKY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KIAogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQp9Cgpjb250cmFjdCBNaW50YWJsZVRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIE93bmFibGUgewogIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CiAgZXZlbnQgTWludEZpbmlzaGVkKCk7CiAgYm9vbCBwdWJsaWMgbWludGluZ0ZpbmlzaGVkID0gZmFsc2U7CiAgbW9kaWZpZXIgY2FuTWludCgpIHsKICAgIHJlcXVpcmUoIW1pbnRpbmdGaW5pc2hlZCk7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gbWludChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBvbmx5T3duZXIgY2FuTWludCBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX2Ftb3VudCk7CiAgICBpZiAoIWhvbGRlcnNbX3RvXSkgewogICAgICAgIGhvbGRlcnNbX3RvXSA9IHRydWU7CiAgICAgICAgdG9rZW5faG9sZGVyc19hcnJheS5wdXNoKF90byk7CiAgICB9IAogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgTWludChfdG8sIF9hbW91bnQpOwogICAgVHJhbnNmZXIoMHgwLCBfdG8sIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBtaW50aW5nRmluaXNoZWQgPSB0cnVlOwogICAgTWludEZpbmlzaGVkKCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCmNvbnRyYWN0IFNpbmdsZVRva2VuQ29pbiBpcyBNaW50YWJsZVRva2VuIHsKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiU3ltbWV0cnkgRnVuZCBUb2tlbiI7CiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiU1lNTSI7CiAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSA2OwogfQ=='.
	

]
