Class {
	#name : #SRTfec769e54c266de2bc3fa5df7d9f0fe2a1e39461,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTfec769e54c266de2bc3fa5df7d9f0fe2a1e39461 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgovLyBjb3B5cmlnaHQgPHNwYW4gY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSJiOWRhZDZkN2NkZDhkYWNkZjlmY2NkZDFkY2NiZGNkNGQ2ZDc5N2RhZDZkNCI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvc3Bhbj4KCmNvbnRyYWN0IFNhZmVNYXRoIHsKCiAgICAvKiBmdW5jdGlvbiBhc3NlcnQoYm9vbCBhc3NlcnRpb24pIGludGVybmFsIHsgKi8KICAgIC8qICAgaWYgKCFhc3NlcnRpb24pIHsgKi8KICAgIC8qICAgICB0aHJvdzsgKi8KICAgIC8qICAgfSAqLwogICAgLyogfSAgICAgIC8vIGFzc2VydCBubyBsb25nZXIgbmVlZGVkIG9uY2Ugc29saWRpdHkgaXMgb24gMC40LjEwICovCgogICAgZnVuY3Rpb24gc2FmZUFkZCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgcHVyZSBpbnRlcm5hbCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgdWludDI1NiB6ID0geCArIHk7CiAgICAgIGFzc2VydCgoeiA+PSB4KSAmJiAoeiA+PSB5KSk7CiAgICAgIHJldHVybiB6OwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVTdWJ0cmFjdCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgcHVyZSBpbnRlcm5hbCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgYXNzZXJ0KHggPj0geSk7CiAgICAgIHVpbnQyNTYgeiA9IHggLSB5OwogICAgICByZXR1cm4gejsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlTXVsdCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgcHVyZSBpbnRlcm5hbCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgdWludDI1NiB6ID0geCAqIHk7CiAgICAgIGFzc2VydCgoeCA9PSAwKXx8KHoveCA9PSB5KSk7CiAgICAgIHJldHVybiB6OwogICAgfQoKfQoKY29udHJhY3QgQmFzaWNBY2Nlc3NDb250cm9sIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgLy8gYWRkcmVzc1tdIHB1YmxpYyBtb2RlcmF0b3JzOwogICAgdWludDE2IHB1YmxpYyB0b3RhbE1vZGVyYXRvcnMgPSAwOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgbW9kZXJhdG9yczsKICAgIGJvb2wgcHVibGljIGlzTWFpbnRhaW5pbmcgPSB0cnVlOwoKICAgIGZ1bmN0aW9uIEJhc2ljQWNjZXNzQ29udHJvbCgpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlNb2RlcmF0b3JzKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lciB8fCBtb2RlcmF0b3JzW21zZy5zZW5kZXJdID09IHRydWUpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgaXNBY3RpdmUgewogICAgICAgIHJlcXVpcmUoIWlzTWFpbnRhaW5pbmcpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gQ2hhbmdlT3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGlmIChfbmV3T3duZXIgIT0gYWRkcmVzcygwKSkgewogICAgICAgICAgICBvd25lciA9IF9uZXdPd25lcjsKICAgICAgICB9CiAgICB9CgoKICAgIGZ1bmN0aW9uIEFkZE1vZGVyYXRvcihhZGRyZXNzIF9uZXdNb2RlcmF0b3IpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGlmIChtb2RlcmF0b3JzW19uZXdNb2RlcmF0b3JdID09IGZhbHNlKSB7CiAgICAgICAgICAgIG1vZGVyYXRvcnNbX25ld01vZGVyYXRvcl0gPSB0cnVlOwogICAgICAgICAgICB0b3RhbE1vZGVyYXRvcnMgKz0gMTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIFJlbW92ZU1vZGVyYXRvcihhZGRyZXNzIF9vbGRNb2RlcmF0b3IpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGlmIChtb2RlcmF0b3JzW19vbGRNb2RlcmF0b3JdID09IHRydWUpIHsKICAgICAgICAgICAgbW9kZXJhdG9yc1tfb2xkTW9kZXJhdG9yXSA9IGZhbHNlOwogICAgICAgICAgICB0b3RhbE1vZGVyYXRvcnMgLT0gMTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gVXBkYXRlTWFpbnRhaW5pbmcoYm9vbCBfaXNNYWludGFpbmluZykgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgaXNNYWludGFpbmluZyA9IF9pc01haW50YWluaW5nOwogICAgfQp9Cgpjb250cmFjdCBFdGhlcmVtb25FbnVtIHsKCiAgICBlbnVtIFJlc3VsdENvZGUgewogICAgICAgIFNVQ0NFU1MsCiAgICAgICAgRVJST1JfQ0xBU1NfTk9UX0ZPVU5ELAogICAgICAgIEVSUk9SX0xPV19CQUxBTkNFLAogICAgICAgIEVSUk9SX1NFTkRfRkFJTCwKICAgICAgICBFUlJPUl9OT1RfVFJBSU5FUiwKICAgICAgICBFUlJPUl9OT1RfRU5PVUdIX01PTkVZLAogICAgICAgIEVSUk9SX0lOVkFMSURfQU1PVU5UCiAgICB9CiAgICAKICAgIGVudW0gQXJyYXlUeXBlIHsKICAgICAgICBDTEFTU19UWVBFLAogICAgICAgIFNUQVRfU1RFUCwKICAgICAgICBTVEFUX1NUQVJULAogICAgICAgIFNUQVRfQkFTRSwKICAgICAgICBPQkpfU0tJTEwKICAgIH0KICAgIAogICAgZW51bSBQcm9wZXJ0eVR5cGUgewogICAgICAgIEFOQ0VTVE9SLAogICAgICAgIFhGQUNUT1IKICAgIH0KfQoKY29udHJhY3QgRXRoZXJlbW9uRGF0YUJhc2UgaXMgRXRoZXJlbW9uRW51bSwgQmFzaWNBY2Nlc3NDb250cm9sLCBTYWZlTWF0aCB7CiAgICAKICAgIHVpbnQ2NCBwdWJsaWMgdG90YWxNb25zdGVyOwogICAgdWludDMyIHB1YmxpYyB0b3RhbENsYXNzOwogICAgCiAgICAvLyB3cml0ZQogICAgZnVuY3Rpb24gd2l0aGRyYXdFdGhlcihhZGRyZXNzIF9zZW5kVG8sIHVpbnQgX2Ftb3VudCkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zKFJlc3VsdENvZGUpOwogICAgZnVuY3Rpb24gYWRkRWxlbWVudFRvQXJyYXlUeXBlKEFycmF5VHlwZSBfdHlwZSwgdWludDY0IF9pZCwgdWludDggX3ZhbHVlKSBvbmx5TW9kZXJhdG9ycyBwdWJsaWMgcmV0dXJucyh1aW50KTsKICAgIGZ1bmN0aW9uIHVwZGF0ZUluZGV4T2ZBcnJheVR5cGUoQXJyYXlUeXBlIF90eXBlLCB1aW50NjQgX2lkLCB1aW50IF9pbmRleCwgdWludDggX3ZhbHVlKSBvbmx5TW9kZXJhdG9ycyBwdWJsaWMgcmV0dXJucyh1aW50KTsKICAgIGZ1bmN0aW9uIHNldE1vbnN0ZXJDbGFzcyh1aW50MzIgX2NsYXNzSWQsIHVpbnQyNTYgX3ByaWNlLCB1aW50MjU2IF9yZXR1cm5QcmljZSwgYm9vbCBfY2F0Y2hhYmxlKSBvbmx5TW9kZXJhdG9ycyBwdWJsaWMgcmV0dXJucyh1aW50MzIpOwogICAgZnVuY3Rpb24gYWRkTW9uc3Rlck9iaih1aW50MzIgX2NsYXNzSWQsIGFkZHJlc3MgX3RyYWluZXIsIHN0cmluZyBfbmFtZSkgb25seU1vZGVyYXRvcnMgcHVibGljIHJldHVybnModWludDY0KTsKICAgIGZ1bmN0aW9uIHNldE1vbnN0ZXJPYmoodWludDY0IF9vYmpJZCwgc3RyaW5nIF9uYW1lLCB1aW50MzIgX2V4cCwgdWludDMyIF9jcmVhdGVJbmRleCwgdWludDMyIF9sYXN0Q2xhaW1JbmRleCkgb25seU1vZGVyYXRvcnMgcHVibGljOwogICAgZnVuY3Rpb24gaW5jcmVhc2VNb25zdGVyRXhwKHVpbnQ2NCBfb2JqSWQsIHVpbnQzMiBhbW91bnQpIG9ubHlNb2RlcmF0b3JzIHB1YmxpYzsKICAgIGZ1bmN0aW9uIGRlY3JlYXNlTW9uc3RlckV4cCh1aW50NjQgX29iaklkLCB1aW50MzIgYW1vdW50KSBvbmx5TW9kZXJhdG9ycyBwdWJsaWM7CiAgICBmdW5jdGlvbiByZW1vdmVNb25zdGVySWRNYXBwaW5nKGFkZHJlc3MgX3RyYWluZXIsIHVpbnQ2NCBfbW9uc3RlcklkKSBvbmx5TW9kZXJhdG9ycyBwdWJsaWM7CiAgICBmdW5jdGlvbiBhZGRNb25zdGVySWRNYXBwaW5nKGFkZHJlc3MgX3RyYWluZXIsIHVpbnQ2NCBfbW9uc3RlcklkKSBvbmx5TW9kZXJhdG9ycyBwdWJsaWM7CiAgICBmdW5jdGlvbiBjbGVhck1vbnN0ZXJSZXR1cm5CYWxhbmNlKHVpbnQ2NCBfbW9uc3RlcklkKSBvbmx5TW9kZXJhdG9ycyBwdWJsaWMgcmV0dXJucyh1aW50MjU2IGFtb3VudCk7CiAgICBmdW5jdGlvbiBjb2xsZWN0QWxsUmV0dXJuQmFsYW5jZShhZGRyZXNzIF90cmFpbmVyKSBvbmx5TW9kZXJhdG9ycyBwdWJsaWMgcmV0dXJucyh1aW50MjU2IGFtb3VudCk7CiAgICBmdW5jdGlvbiB0cmFuc2Zlck1vbnN0ZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQ2NCBfbW9uc3RlcklkKSBvbmx5TW9kZXJhdG9ycyBwdWJsaWMgcmV0dXJucyhSZXN1bHRDb2RlKTsKICAgIGZ1bmN0aW9uIGFkZEV4dHJhQmFsYW5jZShhZGRyZXNzIF90cmFpbmVyLCB1aW50MjU2IF9hbW91bnQpIG9ubHlNb2RlcmF0b3JzIHB1YmxpYyByZXR1cm5zKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gZGVkdWN0RXh0cmFCYWxhbmNlKGFkZHJlc3MgX3RyYWluZXIsIHVpbnQyNTYgX2Ftb3VudCkgb25seU1vZGVyYXRvcnMgcHVibGljIHJldHVybnModWludDI1Nik7CiAgICBmdW5jdGlvbiBzZXRFeHRyYUJhbGFuY2UoYWRkcmVzcyBfdHJhaW5lciwgdWludDI1NiBfYW1vdW50KSBvbmx5TW9kZXJhdG9ycyBwdWJsaWM7CiAgICAKICAgIC8vIHJlYWQKICAgIGZ1bmN0aW9uIGdldFNpemVBcnJheVR5cGUoQXJyYXlUeXBlIF90eXBlLCB1aW50NjQgX2lkKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyh1aW50KTsKICAgIGZ1bmN0aW9uIGdldEVsZW1lbnRJbkFycmF5VHlwZShBcnJheVR5cGUgX3R5cGUsIHVpbnQ2NCBfaWQsIHVpbnQgX2luZGV4KSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyh1aW50OCk7CiAgICBmdW5jdGlvbiBnZXRNb25zdGVyQ2xhc3ModWludDMyIF9jbGFzc0lkKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyh1aW50MzIgY2xhc3NJZCwgdWludDI1NiBwcmljZSwgdWludDI1NiByZXR1cm5QcmljZSwgdWludDMyIHRvdGFsLCBib29sIGNhdGNoYWJsZSk7CiAgICBmdW5jdGlvbiBnZXRNb25zdGVyT2JqKHVpbnQ2NCBfb2JqSWQpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zKHVpbnQ2NCBvYmpJZCwgdWludDMyIGNsYXNzSWQsIGFkZHJlc3MgdHJhaW5lciwgdWludDMyIGV4cCwgdWludDMyIGNyZWF0ZUluZGV4LCB1aW50MzIgbGFzdENsYWltSW5kZXgsIHVpbnQgY3JlYXRlVGltZSk7CiAgICBmdW5jdGlvbiBnZXRNb25zdGVyTmFtZSh1aW50NjQgX29iaklkKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyhzdHJpbmcgbmFtZSk7CiAgICBmdW5jdGlvbiBnZXRFeHRyYUJhbGFuY2UoYWRkcmVzcyBfdHJhaW5lcikgY29uc3RhbnQgcHVibGljIHJldHVybnModWludDI1Nik7CiAgICBmdW5jdGlvbiBnZXRNb25zdGVyRGV4U2l6ZShhZGRyZXNzIF90cmFpbmVyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyh1aW50KTsKICAgIGZ1bmN0aW9uIGdldE1vbnN0ZXJPYmpJZChhZGRyZXNzIF90cmFpbmVyLCB1aW50IGluZGV4KSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyh1aW50NjQpOwogICAgZnVuY3Rpb24gZ2V0RXhwZWN0ZWRCYWxhbmNlKGFkZHJlc3MgX3RyYWluZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gZ2V0TW9uc3RlclJldHVybih1aW50NjQgX29iaklkKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyh1aW50MjU2IGN1cnJlbnQsIHVpbnQyNTYgdG90YWwpOwp9Cgpjb250cmFjdCBFUkMyMEludGVyZmFjZSB7CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHRva2VuT3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgdG9rZW5Pd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB0b2tlbnMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdG9rZW5zKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdG9rZW5zKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKfQoKY29udHJhY3QgQmF0dGxlSW50ZXJmYWNlIHsKICAgIGZ1bmN0aW9uIGNyZWF0ZUNhc3RsZVdpdGhUb2tlbihhZGRyZXNzIF90cmFpbmVyLCB1aW50MzIgX25vQnJpY2ssIHN0cmluZyBfbmFtZSwgdWludDY0IF9hMSwgdWludDY0IF9hMiwgdWludDY0IF9hMywgdWludDY0IF9zMSwgdWludDY0IF9zMiwgdWludDY0IF9zMykgZXh0ZXJuYWw7Cn0KCmNvbnRyYWN0IFRyYW5zZm9ybUludGVyZmFjZSB7CiAgICBmdW5jdGlvbiByZW1vdmVIYXRjaGluZ1RpbWVXaXRoVG9rZW4oYWRkcmVzcyBfdHJhaW5lcikgZXh0ZXJuYWw7CiAgICBmdW5jdGlvbiBidXlFZ2dXaXRoVG9rZW4oYWRkcmVzcyBfdHJhaW5lcikgZXh0ZXJuYWw7Cn0KCmNvbnRyYWN0IEV0aGVyZW1vblBheW1lbnQgaXMgRXRoZXJlbW9uRW51bSwgQmFzaWNBY2Nlc3NDb250cm9sLCBTYWZlTWF0aCB7CiAgICB1aW50OCBjb25zdGFudCBwdWJsaWMgU1RBVF9DT1VOVCA9IDY7CiAgICB1aW50OCBjb25zdGFudCBwdWJsaWMgU1RBVF9NQVggPSAzMjsKICAgIHVpbnQ4IGNvbnN0YW50IHB1YmxpYyBHRU4wX05PID0gMjQ7CiAgICAKICAgIGVudW0gUGF5U2VydmljZVR5cGUgewogICAgICAgIE5PTkUsCiAgICAgICAgRkFTVF9IQVRDSElORywKICAgICAgICBSQU5ET01fRUdHCiAgICB9CiAgICAKICAgIHN0cnVjdCBNb25zdGVyQ2xhc3NBY2MgewogICAgICAgIHVpbnQzMiBjbGFzc0lkOwogICAgICAgIHVpbnQyNTYgcHJpY2U7CiAgICAgICAgdWludDI1NiByZXR1cm5QcmljZTsKICAgICAgICB1aW50MzIgdG90YWw7CiAgICAgICAgYm9vbCBjYXRjaGFibGU7CiAgICB9CgogICAgc3RydWN0IE1vbnN0ZXJPYmpBY2MgewogICAgICAgIHVpbnQ2NCBtb25zdGVySWQ7CiAgICAgICAgdWludDMyIGNsYXNzSWQ7CiAgICAgICAgYWRkcmVzcyB0cmFpbmVyOwogICAgICAgIHN0cmluZyBuYW1lOwogICAgICAgIHVpbnQzMiBleHA7CiAgICAgICAgdWludDMyIGNyZWF0ZUluZGV4OwogICAgICAgIHVpbnQzMiBsYXN0Q2xhaW1JbmRleDsKICAgICAgICB1aW50IGNyZWF0ZVRpbWU7CiAgICB9CiAgICAKICAgIC8vIGxpbmtlZCBzbWFydCBjb250cmFjdAogICAgYWRkcmVzcyBwdWJsaWMgZGF0YUNvbnRyYWN0OwogICAgYWRkcmVzcyBwdWJsaWMgYmF0dGxlQ29udHJhY3Q7CiAgICBhZGRyZXNzIHB1YmxpYyB0b2tlbkNvbnRyYWN0OwogICAgYWRkcmVzcyBwdWJsaWMgdHJhbnNmb3JtQ29udHJhY3Q7CiAgICAKICAgIGFkZHJlc3MgcHJpdmF0ZSBsYXN0SHVudGVyID0gYWRkcmVzcygweDApOwogICAgCiAgICAvLyBjb25maWcKICAgIHVpbnQgcHVibGljIGJyaWNrUHJpY2UgPSAzICogMTAgKiogODsgLy8gMyB0b2tlbnMKICAgIHVpbnQgcHVibGljIGZhc3RIYXRjaGluZ1ByaWNlID0gMzUgKiAxMCAqKiA4OyAvLyAxNSB0b2tlbnMgCiAgICB1aW50IHB1YmxpYyBidXlFZ2dQcmljZSA9IDUwICogMTAgKiogODsgLy8gNTAgdG9rZW5zCiAgICB1aW50IHB1YmxpYyB0b2tlblByaWNlID0gMC4wMDQgZXRoZXIgLyAxMCAqKiA4OwogICAgdWludCBwdWJsaWMgbWF4RGV4U2l6ZSA9IDIwMDsKICAgIHVpbnQgcHVibGljIGxhdGVzdFZhbHVlID0gMDsKICAgIAogICAgLy8gZXZlbnQKICAgIGV2ZW50IEV2ZW50Q2F0Y2hNb25zdGVyKGFkZHJlc3MgaW5kZXhlZCB0cmFpbmVyLCB1aW50NjQgb2JqSWQpOwogICAgCiAgICAvLyBtb2RpZmllcgogICAgbW9kaWZpZXIgcmVxdWlyZURhdGFDb250cmFjdCB7CiAgICAgICAgcmVxdWlyZShkYXRhQ29udHJhY3QgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgXzsgICAgICAgIAogICAgfQogICAgCiAgICBtb2RpZmllciByZXF1aXJlQmF0dGxlQ29udHJhY3QgewogICAgICAgIHJlcXVpcmUoYmF0dGxlQ29udHJhY3QgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciByZXF1aXJlVG9rZW5Db250cmFjdCB7CiAgICAgICAgcmVxdWlyZSh0b2tlbkNvbnRyYWN0ICE9IGFkZHJlc3MoMCkpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIG1vZGlmaWVyIHJlcXVpcmVUcmFuc2Zvcm1Db250cmFjdCB7CiAgICAgICAgcmVxdWlyZSh0cmFuc2Zvcm1Db250cmFjdCAhPSBhZGRyZXNzKDApKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBFdGhlcmVtb25QYXltZW50KGFkZHJlc3MgX2RhdGFDb250cmFjdCwgYWRkcmVzcyBfYmF0dGxlQ29udHJhY3QsIGFkZHJlc3MgX3Rva2VuQ29udHJhY3QsIGFkZHJlc3MgX3RyYW5zZm9ybUNvbnRyYWN0KSBwdWJsaWMgewogICAgICAgIGRhdGFDb250cmFjdCA9IF9kYXRhQ29udHJhY3Q7CiAgICAgICAgYmF0dGxlQ29udHJhY3QgPSBfYmF0dGxlQ29udHJhY3Q7CiAgICAgICAgdG9rZW5Db250cmFjdCA9IF90b2tlbkNvbnRyYWN0OwogICAgICAgIHRyYW5zZm9ybUNvbnRyYWN0ID0gX3RyYW5zZm9ybUNvbnRyYWN0OwogICAgfQogICAgCiAgICAvLyBoZWxwZXIKICAgIGZ1bmN0aW9uIGdldFJhbmRvbSh1aW50OCBtYXhSYW4sIHVpbnQ4IGluZGV4LCBhZGRyZXNzIHByaUFkZHJlc3MpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zKHVpbnQ4KSB7CiAgICAgICAgdWludDI1NiBnZW5OdW0gPSB1aW50MjU2KGJsb2NrLmJsb2NraGFzaChibG9jay5udW1iZXItMSkpICsgdWludDI1NihwcmlBZGRyZXNzKTsKICAgICAgICBmb3IgKHVpbnQ4IGkgPSAwOyBpIDwgaW5kZXggJiYgaSA8IDY7IGkgKyspIHsKICAgICAgICAgICAgZ2VuTnVtIC89IDI1NjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHVpbnQ4KGdlbk51bSAlIG1heFJhbik7CiAgICB9CiAgICAKICAgIC8vIGFkbWluCiAgICBmdW5jdGlvbiB3aXRoZHJhd1Rva2VuKGFkZHJlc3MgX3NlbmRUbywgdWludCBfYW1vdW50KSBvbmx5TW9kZXJhdG9ycyByZXF1aXJlVG9rZW5Db250cmFjdCBleHRlcm5hbCB7CiAgICAgICAgRVJDMjBJbnRlcmZhY2UgdG9rZW4gPSBFUkMyMEludGVyZmFjZSh0b2tlbkNvbnRyYWN0KTsKICAgICAgICBpZiAoX2Ftb3VudCA+IHRva2VuLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKSkgewogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICB9CiAgICAgICAgdG9rZW4udHJhbnNmZXIoX3NlbmRUbywgX2Ftb3VudCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHNldENvbnRyYWN0KGFkZHJlc3MgX2RhdGFDb250cmFjdCwgYWRkcmVzcyBfYmF0dGxlQ29udHJhY3QsIGFkZHJlc3MgX3Rva2VuQ29udHJhY3QsIGFkZHJlc3MgX3RyYW5zZm9ybUNvbnRyYWN0KSBvbmx5TW9kZXJhdG9ycyBleHRlcm5hbCB7CiAgICAgICAgZGF0YUNvbnRyYWN0ID0gX2RhdGFDb250cmFjdDsKICAgICAgICBiYXR0bGVDb250cmFjdCA9IF9iYXR0bGVDb250cmFjdDsKICAgICAgICB0b2tlbkNvbnRyYWN0ID0gX3Rva2VuQ29udHJhY3Q7CiAgICAgICAgdHJhbnNmb3JtQ29udHJhY3QgPSBfdHJhbnNmb3JtQ29udHJhY3Q7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHNldENvbmZpZyh1aW50IF9icmlja1ByaWNlLCB1aW50IF90b2tlblByaWNlLCB1aW50IF9tYXhEZXhTaXplLCB1aW50IF9mYXN0SGF0Y2hpbmdQcmljZSwgdWludCBfYnV5RWdnUHJpY2UpIG9ubHlNb2RlcmF0b3JzIGV4dGVybmFsIHsKICAgICAgICBicmlja1ByaWNlID0gX2JyaWNrUHJpY2U7CiAgICAgICAgdG9rZW5QcmljZSA9IF90b2tlblByaWNlOwogICAgICAgIG1heERleFNpemUgPSBfbWF4RGV4U2l6ZTsKICAgICAgICBmYXN0SGF0Y2hpbmdQcmljZSA9IF9mYXN0SGF0Y2hpbmdQcmljZTsKICAgICAgICBidXlFZ2dQcmljZSA9IF9idXlFZ2dQcmljZTsKICAgIH0KICAgIAogICAgLy8gYmF0dGxlCiAgICBmdW5jdGlvbiBnaXZlQmF0dGxlQm9udXMoYWRkcmVzcyBfdHJhaW5lciwgdWludCBfYW1vdW50KSBpc0FjdGl2ZSByZXF1aXJlQmF0dGxlQ29udHJhY3QgcmVxdWlyZVRva2VuQ29udHJhY3QgcHVibGljIHsKICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBiYXR0bGVDb250cmFjdCkKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgRVJDMjBJbnRlcmZhY2UgdG9rZW4gPSBFUkMyMEludGVyZmFjZSh0b2tlbkNvbnRyYWN0KTsKICAgICAgICB0b2tlbi50cmFuc2ZlcihfdHJhaW5lciwgX2Ftb3VudCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNyZWF0ZUNhc3RsZShhZGRyZXNzIF90cmFpbmVyLCB1aW50IF90b2tlbnMsIHN0cmluZyBfbmFtZSwgdWludDY0IF9hMSwgdWludDY0IF9hMiwgdWludDY0IF9hMywgdWludDY0IF9zMSwgdWludDY0IF9zMiwgdWludDY0IF9zMykgaXNBY3RpdmUgcmVxdWlyZUJhdHRsZUNvbnRyYWN0IHJlcXVpcmVUb2tlbkNvbnRyYWN0IHB1YmxpYyByZXR1cm5zKHVpbnQpewogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IHRva2VuQ29udHJhY3QpCiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIEJhdHRsZUludGVyZmFjZSBiYXR0bGUgPSBCYXR0bGVJbnRlcmZhY2UoYmF0dGxlQ29udHJhY3QpOwogICAgICAgIGJhdHRsZS5jcmVhdGVDYXN0bGVXaXRoVG9rZW4oX3RyYWluZXIsIHVpbnQzMihfdG9rZW5zL2JyaWNrUHJpY2UpLCBfbmFtZSwgX2ExLCBfYTIsIF9hMywgX3MxLCBfczIsIF9zMyk7CiAgICAgICAgcmV0dXJuIF90b2tlbnM7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNhdGNoTW9uc3RlcihhZGRyZXNzIF90cmFpbmVyLCB1aW50IF90b2tlbnMsIHVpbnQzMiBfY2xhc3NJZCwgc3RyaW5nIF9uYW1lKSBpc0FjdGl2ZSByZXF1aXJlRGF0YUNvbnRyYWN0IHJlcXVpcmVUb2tlbkNvbnRyYWN0IHB1YmxpYyByZXR1cm5zKHVpbnQpewogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IHRva2VuQ29udHJhY3QpCiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIAogICAgICAgIEV0aGVyZW1vbkRhdGFCYXNlIGRhdGEgPSBFdGhlcmVtb25EYXRhQmFzZShkYXRhQ29udHJhY3QpOwogICAgICAgIE1vbnN0ZXJDbGFzc0FjYyBtZW1vcnkgY2xhc3M7CiAgICAgICAgKGNsYXNzLmNsYXNzSWQsIGNsYXNzLnByaWNlLCBjbGFzcy5yZXR1cm5QcmljZSwgY2xhc3MudG90YWwsIGNsYXNzLmNhdGNoYWJsZSkgPSBkYXRhLmdldE1vbnN0ZXJDbGFzcyhfY2xhc3NJZCk7CiAgICAgICAgCiAgICAgICAgaWYgKGNsYXNzLmNsYXNzSWQgPT0gMCB8fCBjbGFzcy5jYXRjaGFibGUgPT0gZmFsc2UpIHsKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIGNhbiBub3Qga2VlcCB0b28gbXVjaCBldGhlcmVtb24gCiAgICAgICAgaWYgKGRhdGEuZ2V0TW9uc3RlckRleFNpemUoX3RyYWluZXIpID4gbWF4RGV4U2l6ZSkKICAgICAgICAgICAgcmV2ZXJ0KCk7CgogICAgICAgIHVpbnQgcmVxdWlyZWRUb2tlbiA9IGNsYXNzLnByaWNlL3Rva2VuUHJpY2U7CiAgICAgICAgaWYgKF90b2tlbnMgPCByZXF1aXJlZFRva2VuKQogICAgICAgICAgICByZXZlcnQoKTsKCiAgICAgICAgLy8gYWRkIG1vbnN0ZXIKICAgICAgICB1aW50NjQgb2JqSWQgPSBkYXRhLmFkZE1vbnN0ZXJPYmooX2NsYXNzSWQsIF90cmFpbmVyLCBfbmFtZSk7CiAgICAgICAgLy8gZ2VuZXJhdGUgYmFzZSBzdGF0IGZvciB0aGUgcHJldmlvdXMgb25lCiAgICAgICAgZm9yICh1aW50IGk9MDsgaSA8IFNUQVRfQ09VTlQ7IGkrPSAxKSB7CiAgICAgICAgICAgIHVpbnQ4IHZhbHVlID0gZ2V0UmFuZG9tKFNUQVRfTUFYLCB1aW50OChpKSwgbGFzdEh1bnRlcikgKyBkYXRhLmdldEVsZW1lbnRJbkFycmF5VHlwZShBcnJheVR5cGUuU1RBVF9TVEFSVCwgdWludDY0KF9jbGFzc0lkKSwgaSk7CiAgICAgICAgICAgIGRhdGEuYWRkRWxlbWVudFRvQXJyYXlUeXBlKEFycmF5VHlwZS5TVEFUX0JBU0UsIG9iaklkLCB2YWx1ZSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGxhc3RIdW50ZXIgPSBfdHJhaW5lcjsKICAgICAgICBFdmVudENhdGNoTW9uc3RlcihfdHJhaW5lciwgb2JqSWQpOwogICAgICAgIHJldHVybiByZXF1aXJlZFRva2VuOwogICAgfQogICAgCgogICAgZnVuY3Rpb24gcGF5U2VydmljZShhZGRyZXNzIF90cmFpbmVyLCB1aW50IF90b2tlbnMsIHVpbnQzMiBfdHlwZSwgc3RyaW5nIF90ZXh0LCB1aW50NjQgX3BhcmFtMSwgdWludDY0IF9wYXJhbTIsIHVpbnQ2NCBfcGFyYW0zLCB1aW50NjQgX3BhcmFtNCwgdWludDY0IF9wYXJhbTUsIHVpbnQ2NCBfcGFyYW02KSBpc0FjdGl2ZSByZXF1aXJlVHJhbnNmb3JtQ29udHJhY3QgIHB1YmxpYyByZXR1cm5zKHVpbnQgcmVzdWx0KSB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gdG9rZW5Db250cmFjdCkKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgCiAgICAgICAgVHJhbnNmb3JtSW50ZXJmYWNlIHRyYW5zZm9ybSA9IFRyYW5zZm9ybUludGVyZmFjZSh0cmFuc2Zvcm1Db250cmFjdCk7CiAgICAgICAgaWYgKF90eXBlID09IHVpbnQzMihQYXlTZXJ2aWNlVHlwZS5GQVNUX0hBVENISU5HKSkgewogICAgICAgICAgICAvLyByZW1vdmUgaGF0Y2hpbmcgdGltZSAKICAgICAgICAgICAgaWYgKF90b2tlbnMgPCBmYXN0SGF0Y2hpbmdQcmljZSkKICAgICAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgICAgICB0cmFuc2Zvcm0ucmVtb3ZlSGF0Y2hpbmdUaW1lV2l0aFRva2VuKF90cmFpbmVyKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiBmYXN0SGF0Y2hpbmdQcmljZTsKICAgICAgICB9IGVsc2UgaWYgKF90eXBlID09IHVpbnQzMihQYXlTZXJ2aWNlVHlwZS5SQU5ET01fRUdHKSkgewogICAgICAgICAgICBpZiAoX3Rva2VucyA8IGJ1eUVnZ1ByaWNlKQogICAgICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgICAgIHRyYW5zZm9ybS5idXlFZ2dXaXRoVG9rZW4oX3RyYWluZXIpOwoKICAgICAgICAgICAgcmV0dXJuIGJ1eUVnZ1ByaWNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIH0KICAgIH0KfQ=='.
	

]
