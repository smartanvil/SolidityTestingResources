Class {
	#name : #SRT29eC21157f19F7822432e87ef504D366c24E1D8B,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT29eC21157f19F7822432e87ef504D366c24E1D8B >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIE11bHRpT3duYWJsZQogKiBAZGV2IFRoZSBNdWx0aU93bmFibGUgY29udHJhY3QgaGFzIG93bmVycyBhZGRyZXNzZXMgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXJzIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE11bHRpT3duYWJsZSB7CiAgICBhZGRyZXNzIHB1YmxpYyBtYW5hZ2VyOyAvLyBhZGRyZXNzIHVzZWQgdG8gc2V0IG93bmVycwogICAgYWRkcmVzc1tdIHB1YmxpYyBvd25lcnM7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIG93bmVyQnlBZGRyZXNzOwoKICAgIGV2ZW50IEFkZE93bmVyKGFkZHJlc3Mgb3duZXIpOwogICAgZXZlbnQgUmVtb3ZlT3duZXIoYWRkcmVzcyBvd25lcik7CgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUob3duZXJCeUFkZHJlc3NbbXNnLnNlbmRlcl0gPT0gdHJ1ZSk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgTXVsdGlPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG1hbmFnZXIKICAgICAqLwogICAgZnVuY3Rpb24gTXVsdGlPd25hYmxlKCkgcHVibGljIHsKICAgICAgICBtYW5hZ2VyID0gbXNnLnNlbmRlcjsKICAgICAgICBfYWRkT3duZXIobXNnLnNlbmRlcik7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGFkZCBvd25lciBhZGRyZXNzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFkZE93bmVyKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBtYW5hZ2VyKTsKICAgICAgICBfYWRkT3duZXIoX293bmVyKTsKCiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEZ1bmN0aW9uIHRvIHJlbW92ZSBvd25lciBhZGRyZXNzCiAgICAgKi8KICAgIGZ1bmN0aW9uIHJlbW92ZU93bmVyKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBtYW5hZ2VyKTsKICAgICAgICBfcmVtb3ZlT3duZXIoX293bmVyKTsKCiAgICB9CgogICAgZnVuY3Rpb24gX2FkZE93bmVyKGFkZHJlc3MgX293bmVyKSBpbnRlcm5hbCB7CiAgICAgICAgb3duZXJCeUFkZHJlc3NbX293bmVyXSA9IHRydWU7CiAgICAgICAgCiAgICAgICAgb3duZXJzLnB1c2goX293bmVyKTsKICAgICAgICBBZGRPd25lcihfb3duZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9yZW1vdmVPd25lcihhZGRyZXNzIF9vd25lcikgaW50ZXJuYWwgewoKICAgICAgICBpZiAob3duZXJzLmxlbmd0aCA9PSAwKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIG93bmVyQnlBZGRyZXNzW19vd25lcl0gPSBmYWxzZTsKICAgICAgICAKICAgICAgICB1aW50IGlkID0gaW5kZXhPZihfb3duZXIpOwogICAgICAgIHJlbW92ZShpZCk7CiAgICAgICAgUmVtb3ZlT3duZXIoX293bmVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRPd25lcnMoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzc1tdKSB7CiAgICAgICAgcmV0dXJuIG93bmVyczsKICAgIH0KCiAgICBmdW5jdGlvbiBpbmRleE9mKGFkZHJlc3MgdmFsdWUpIGludGVybmFsIHJldHVybnModWludCkgewogICAgICAgIHVpbnQgaSA9IDA7CiAgICAgICAgd2hpbGUgKGkgPCBvd25lcnMubGVuZ3RoKSB7CiAgICAgICAgICAgIGlmIChvd25lcnNbaV0gPT0gdmFsdWUpIHsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGkrKzsKICAgICAgICB9CiAgICByZXR1cm4gaTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZSh1aW50IGluZGV4KSBpbnRlcm5hbCB7CiAgICAgICAgaWYgKGluZGV4ID49IG93bmVycy5sZW5ndGgpIHJldHVybjsKCiAgICAgICAgZm9yICh1aW50IGkgPSBpbmRleDsgaTxvd25lcnMubGVuZ3RoLTE7IGkrKyl7CiAgICAgICAgICAgIG93bmVyc1tpXSA9IG93bmVyc1tpKzFdOwogICAgICAgIH0KICAgICAgICBkZWxldGUgb3duZXJzW293bmVycy5sZW5ndGgtMV07CiAgICAgICAgb3duZXJzLmxlbmd0aC0tOwogICAgfQoKfQoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CgogIC8qKgogICogQGRldiBNdWx0aXBsaWVzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICAvKioKICAqIEBkZXYgSW50ZWdlciBkaXZpc2lvbiBvZiB0d28gbnVtYmVycywgdHJ1bmNhdGluZyB0aGUgcXVvdGllbnQuCiAgKi8KICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIC8qKgogICogQGRldiBTdWJ0cmFjdHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdyAoaS5lLiBpZiBzdWJ0cmFoZW5kIGlzIGdyZWF0ZXIgdGhhbiBtaW51ZW5kKS4KICAqLwogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIC8qKgogICogQGRldiBBZGRzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBJRVJDMjBUb2tlbiAtIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IElFUkMyMFRva2VuIHsKICAgIHN0cmluZyBwdWJsaWMgbmFtZTsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgdWludDggcHVibGljIGRlY2ltYWxzOwogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSAgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwp9Cgpjb250cmFjdCBQcmljaW5nU3RyYXRlZ3kgewoKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IEZJUlNUX1JPVU5EID0gMTUyMzY2NDAwMTsgLy8yMDE4LjA0LjE0IDAwOjAwOjAxIEdNVAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgRklSU1RfUk9VTkRfUkFURSA9IDIwOyAvLyBGSVJTVCBST1VORCBCT05VUyBSQVRFIDIwJQoKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFNFQ09ORF9ST1VORCA9IDE1MjQyNjg4MDE7IC8vMjAxOC4wNC4yMSAwMDowMDowMSBHTVQKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFNFQ09ORF9ST1VORF9SQVRFID0gMTA7IC8vIFNFQ09ORCBST1VORCBCT05VUyBSQVRFIDEwJQoKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IEZJTkFMX1JPVU5EX1JBVEUgPSAwOyAvL0ZJTkFMIFJPVU5EIEJPTlVTIFJBVEUgMCUKCgogICAgZnVuY3Rpb24gUHJpY2luZ1N0cmF0ZWd5KCkgcHVibGljIHsKICAgICAgICAKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRSYXRlKCkgcHVibGljIGNvbnN0YW50IHJldHVybnModWludDI1NiByYXRlKSB7CiAgICAgICAgaWYgKG5vdzxGSVJTVF9ST1VORCkgewogICAgICAgICAgICByZXR1cm4gKEZJUlNUX1JPVU5EX1JBVEUpOwogICAgICAgIH0gZWxzZSBpZiAobm93PFNFQ09ORF9ST1VORCkgewogICAgICAgICAgICByZXR1cm4gKFNFQ09ORF9ST1VORF9SQVRFKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gKEZJTkFMX1JPVU5EX1JBVEUpOwogICAgICAgIH0KICAgIH0KCn0KCmNvbnRyYWN0IENyb3dkU2FsZSBpcyBNdWx0aU93bmFibGUgewoKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIGVudW0gSUNPU3RhdGUgewogICAgICAgIE5vdFN0YXJ0ZWQsCiAgICAgICAgU3RhcnRlZCwKICAgICAgICBTdG9wcGVkLAogICAgICAgIEZpbmlzaGVkCiAgICB9IC8vIElDTyBTQUxFIFNUQVRFUwoKICAgIHN0cnVjdCBTdGF0cyB7IAogICAgICAgIHVpbnQyNTYgVG90YWxDb250ckFtb3VudDsKICAgICAgICBJQ09TdGF0ZSBTdGF0ZTsKICAgICAgICB1aW50MjU2IFRvdGFsQ29udHJDb3VudDsKICAgIH0KCiAgICBldmVudCBDb250cmlidXRpb24oYWRkcmVzcyBjb250cmFkZHJlc3MsIHVpbnQyNTYgZXRoYW1vdW50LCB1aW50MjU2IHRva2VuYW1vdW50KTsKICAgIGV2ZW50IFByZXNhbGVUcmFuc2ZlcnJlZChhZGRyZXNzIGNvbnRyYWRkcmVzcywgdWludDI1NiB0b2tlbmFtb3VudCk7CiAgICBldmVudCBUb2tlbk9QU1BsYXRmb3JtVHJhbnNmZXJyZWQoYWRkcmVzcyBjb250cmFkZHJlc3MsIHVpbnQyNTYgdG9rZW5hbW91bnQpOwogICAgZXZlbnQgT1ZJU0Jvb2tlZFRva2Vuc1RyYW5zZmVycmVkKGFkZHJlc3MgY29udHJhZGRyZXNzLCB1aW50MjU2IHRva2VuYW1vdW50KTsKICAgIGV2ZW50IE9WSVNTYWxlQm9va2VkKHVpbnQyNTYgam9pbnRUb2tlbik7CiAgICBldmVudCBPVklTUmVzZXJ2ZWRUb2tlbkNoYW5nZWQodWludDI1NiBqb2ludFRva2VuKTsKICAgIGV2ZW50IFJld2FyZFBvb2xUcmFuc2ZlcnJlZChhZGRyZXNzIHJld2FyZHBvb2xhZGRyZXNzLCB1aW50MjU2IHRva2VuYW1vdW50KTsKICAgIGV2ZW50IE9QU1Bvb2xUcmFuc2ZlcnJlZChhZGRyZXNzIE9QU3Bvb2xhZGRyZXNzLCB1aW50MjU2IHRva2VuYW1vdW50KTsKICAgIGV2ZW50IFNhbGVTdGFydGVkKCk7CiAgICBldmVudCBTYWxlU3RvcHBlZCgpOwogICAgZXZlbnQgU2FsZUNvbnRpbnVlZCgpOwogICAgZXZlbnQgU29sZE91dGFuZFNhbGVTdG9wcGVkKCk7CiAgICBldmVudCBTYWxlRmluaXNoZWQoKTsKICAgIGV2ZW50IFRva2VuQWRkcmVzc0NoYW5nZWQoYWRkcmVzcyBqb2ludGFkZHJlc3MsIGFkZHJlc3MgT1BTQWRkcmVzcyk7CiAgICBldmVudCBTdHJhdGVneUFkZHJlc3NDaGFuZ2VkKGFkZHJlc3Mgc3RyYXRlZ3lhZGRyZXNzKTsgICAKICAgIGV2ZW50IEZ1bmRlZChhZGRyZXNzIGZ1bmRhZGRyZXNzLCB1aW50MjU2IGFtb3VudCk7CgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgTUlOX0VUSEVSX0NPTlRSID0gMC4xIGV0aGVyOyAvLyBNSU5JTVVNIEVUSEVSIENPTlRSSUJVVElPTiAKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IE1BWF9FVEhFUl9DT05UUiA9IDEwMCBldGhlcjsgLy8gTUFYSU1VTSBFVEhFUiBDT05UUklCVVRJT04KCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBERUNJTUFMQ09VTlQgPSAxMCoqMTg7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBKT0lOVF9QRVJfRVRIID0gODAwMDsgLy8gMSBFVEggPSA4MDAwIEpPSU5UCgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUFJFU0FMRV9KT0lOVFRPS0VOUyA9IDUwMDAwMDA7IC8vIFBSRVNBTEUgNTAwIEVUSCAqIDEwMDAwIEpPSU5UIEFNT1VOVAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgVE9LRU5PUFNQTEFURk9STV9KT0lOVFRPS0VOUyA9IDI1MDAwMDAwOyAvLyBUT0tFTk9QUyBQTEFGVE9STSBSRVNFUlZFRCBBTU9VTlQKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IE1BWF9BVkFJTEFCTEVfSk9JTlRUT0tFTlMgPSAxMDAwMDAwMDA7IC8vIFBSRVNBTEUgSk9JTlQgVE9LRU4gU0FMRSBBTU9VTlQKICAgIHVpbnQyNTYgcHVibGljIEFWQUlMQUJMRV9KT0lOVFRPS0VOUyA9IHVpbnQyNTYoMTAwMDAwMDAwKS5tdWwoREVDSU1BTENPVU5UKTsKICAgICAKICAgIHVpbnQyNTYgcHVibGljIE9WSVNSRVNFUlZFRF9UT0tFTlMgPSAyNTAwMDAwMDsgLy8gUkVTRVJWRUQgVE9LRU4gQU1PVU5UIEZPUiBPVklTIFBBUlRORVIgU0FMRQogICAgdWludDI1NiBwdWJsaWMgT1ZJU0JPT0tFRF9UT0tFTlMgPSAwOwogICAgdWludDI1NiBwdWJsaWMgT1ZJU0JPT0tFRF9CT05VU1RPS0VOUyA9IDA7CgogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgU0FMRV9TVEFSVF9USU1FID0gMTUyMzA1OTIwMTsgLy9VVEMgMjAxOC0wNC0wNyAwMDowMDowMQoKICAgIAogICAgdWludDI1NiBwdWJsaWMgSUNPU0FMRV9KT0lOVFRPS0VOUyA9IDA7IC8vIElDTyBDT05UUkFDVCBUT1RBTCBKT0lOVCBTQUxFIEFNT1VOVAogICAgdWludDI1NiBwdWJsaWMgSUNPU0FMRV9CT05VU0pPSU5UVE9LRU5TID0gMDsgLy8gSUNPIENPTlRSQUNUIFRPVEFMIEpPSU5UIEJPTlVTIEFNT1VOVAogICAgdWludDI1NiBwdWJsaWMgVE9UQUxfQ09OVFJJQlVUT1JfQ09VTlQgPSAwOyAvLyBJQ08gU0FMRSBUT1RBTCBDT05UUklCVVRPUiBDT1VOVAoKICAgIElDT1N0YXRlIHB1YmxpYyBDdXJyZW50U3RhdGU7IC8vIElDTyBTQUxFIFNUQVRFCgogICAgSUVSQzIwVG9rZW4gcHVibGljIEpvaW50VG9rZW47CiAgICBJRVJDMjBUb2tlbiBwdWJsaWMgT1BTVG9rZW47CiAgICBQcmljaW5nU3RyYXRlZ3kgcHVibGljIFByaWNlU3RyYXRlZ3k7CgogICAgYWRkcmVzcyBwdWJsaWMgRnVuZEFkZHJlc3MgPSAweDI1QmM1MkNCRmVCODZmNmYxMkVhZGRGNzc1NjBiMDJjNDYxN0RDMjE7CiAgICBhZGRyZXNzIHB1YmxpYyBSZXdhcmRQb29sQWRkcmVzcyA9IDB4RWIxRkFlZjkwNjhiNkI4ZjQ2YjUwMjQ1ZUU4NzdkQTViMDNEOThDOTsKICAgIGFkZHJlc3MgcHVibGljIE92aXNBZGRyZXNzID0gMHgwOTZBNTE2NkY3NUI1QjkyMzIzNDg0MUY2OTM3NGRlMkY0N0Y5NDc4OwogICAgYWRkcmVzcyBwdWJsaWMgUHJlc2FsZUFkZHJlc3MgPSAweDNlNUVGMGVDODIyQjUxOWViMGE0MWY5NGIzNGU5MEQxNmNlOTY3RTg7CiAgICBhZGRyZXNzIHB1YmxpYyBUb2tlbk9QU1NhbGVBZGRyZXNzID0gMHg4Njg2ZTQ5RTA3QmRlNEYzODlCMGE1NzI4ZkNlODcxM0RCODM2MDJiOwogICAgYWRkcmVzcyBwdWJsaWMgU3RyYXRlZ3lBZGRyZXNzID0gMHhlMjM1NWZhQjkyMzlkNWRkYUEwNzFCREU3MjZjZWIyRGI4NzZCOEUyOwogICAgYWRkcmVzcyBwdWJsaWMgT1BTUG9vbEFkZHJlc3MgPSAweEVBNUMwRjM5ZTVFM2M3NDJmRjZlMzg3Mzk0ZTAzMzdlNzM2NmExMjE7CgogICAgbW9kaWZpZXIgY2hlY2tDYXAoKSB7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWU+PU1JTl9FVEhFUl9DT05UUik7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWU8PU1BWF9FVEhFUl9DT05UUik7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBjaGVja0JhbGFuY2UoKSB7CiAgICAgICAgcmVxdWlyZShKb2ludFRva2VuLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKT4wKTsKICAgICAgICByZXF1aXJlKE9QU1Rva2VuLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKT4wKTsKICAgICAgICBfOyAgICAgICAKICAgIH0KCiAgICBtb2RpZmllciBjaGVja1RpbWUoKSB7CiAgICAgICAgcmVxdWlyZShub3c+PVNBTEVfU1RBUlRfVElNRSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBjaGVja1N0YXRlKCkgewogICAgICAgIHJlcXVpcmUoQ3VycmVudFN0YXRlID09IElDT1N0YXRlLlN0YXJ0ZWQpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gQ3Jvd2RTYWxlKCkgewogICAgICAgIFByaWNlU3RyYXRlZ3kgPSBQcmljaW5nU3RyYXRlZ3koU3RyYXRlZ3lBZGRyZXNzKTsKCiAgICAgICAgQ3VycmVudFN0YXRlID0gSUNPU3RhdGUuTm90U3RhcnRlZDsKICAgICAgICB1aW50MjU2IF9zb2xkdG9rZW5zID0gUFJFU0FMRV9KT0lOVFRPS0VOUy5hZGQoVE9LRU5PUFNQTEFURk9STV9KT0lOVFRPS0VOUykuYWRkKE9WSVNSRVNFUlZFRF9UT0tFTlMpOwogICAgICAgIF9zb2xkdG9rZW5zID0gX3NvbGR0b2tlbnMubXVsKERFQ0lNQUxDT1VOVCk7CiAgICAgICAgQVZBSUxBQkxFX0pPSU5UVE9LRU5TID0gQVZBSUxBQkxFX0pPSU5UVE9LRU5TLnN1Yihfc29sZHRva2Vucyk7CiAgICB9CgogICAgZnVuY3Rpb24oKSBwYXlhYmxlIHB1YmxpYyBjaGVja1N0YXRlIGNoZWNrVGltZSBjaGVja0JhbGFuY2UgY2hlY2tDYXAgewogICAgICAgIGNvbnRyaWJ1dGUoKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgY2FsY3VsYXRlcyB0b2tlbiBhbW91bnRzIGFuZCBzZW5kcyB0byBjb250cmlidXRvcgogICAgICovCiAgICBmdW5jdGlvbiBjb250cmlidXRlKCkgcHJpdmF0ZSB7CiAgICAgICAgdWludDI1NiBfam9pbnRBbW91bnQgPSAwOwogICAgICAgIHVpbnQyNTYgX2pvaW50Qm9udXNBbW91bnQgPSAwOwogICAgICAgIHVpbnQyNTYgX2pvaW50VHJhbnNmZXJBbW91bnQgPSAwOwogICAgICAgIHVpbnQyNTYgX2JvbnVzUmF0ZSA9IDA7CiAgICAgICAgdWludDI1NiBfZXRoQW1vdW50ID0gbXNnLnZhbHVlOwoKICAgICAgICBpZiAobXNnLnZhbHVlLm11bChKT0lOVF9QRVJfRVRIKT5BVkFJTEFCTEVfSk9JTlRUT0tFTlMpIHsKICAgICAgICAgICAgX2V0aEFtb3VudCA9IEFWQUlMQUJMRV9KT0lOVFRPS0VOUy5kaXYoSk9JTlRfUEVSX0VUSCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX2V0aEFtb3VudCA9IG1zZy52YWx1ZTsKICAgICAgICB9ICAgICAgIAoKICAgICAgICBfYm9udXNSYXRlID0gUHJpY2VTdHJhdGVneS5nZXRSYXRlKCk7CiAgICAgICAgX2pvaW50QW1vdW50ID0gKF9ldGhBbW91bnQubXVsKEpPSU5UX1BFUl9FVEgpKTsKICAgICAgICBfam9pbnRCb251c0Ftb3VudCA9IF9ldGhBbW91bnQubXVsKEpPSU5UX1BFUl9FVEgpLm11bChfYm9udXNSYXRlKS5kaXYoMTAwKTsgIAogICAgICAgIF9qb2ludFRyYW5zZmVyQW1vdW50ID0gX2pvaW50QW1vdW50LmFkZChfam9pbnRCb251c0Ftb3VudCk7CiAgICAgICAgCiAgICAgICAgcmVxdWlyZShfam9pbnRBbW91bnQ8PUFWQUlMQUJMRV9KT0lOVFRPS0VOUyk7CgogICAgICAgIHJlcXVpcmUoSm9pbnRUb2tlbi50cmFuc2Zlcihtc2cuc2VuZGVyLCBfam9pbnRUcmFuc2ZlckFtb3VudCkpOwogICAgICAgIHJlcXVpcmUoT1BTVG9rZW4udHJhbnNmZXIobXNnLnNlbmRlciwgX2pvaW50VHJhbnNmZXJBbW91bnQpKTsgICAgIAoKICAgICAgICBpZiAobXNnLnZhbHVlPl9ldGhBbW91bnQpIHsKICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2Zlcihtc2cudmFsdWUuc3ViKF9ldGhBbW91bnQpKTsKICAgICAgICAgICAgQ3VycmVudFN0YXRlID0gSUNPU3RhdGUuU3RvcHBlZDsKICAgICAgICAgICAgU29sZE91dGFuZFNhbGVTdG9wcGVkKCk7CiAgICAgICAgfQoKICAgICAgICBBVkFJTEFCTEVfSk9JTlRUT0tFTlMgPSBBVkFJTEFCTEVfSk9JTlRUT0tFTlMuc3ViKF9qb2ludEFtb3VudCk7CiAgICAgICAgSUNPU0FMRV9KT0lOVFRPS0VOUyA9IElDT1NBTEVfSk9JTlRUT0tFTlMuYWRkKF9qb2ludEFtb3VudCk7CiAgICAgICAgSUNPU0FMRV9CT05VU0pPSU5UVE9LRU5TID0gSUNPU0FMRV9CT05VU0pPSU5UVE9LRU5TLmFkZChfam9pbnRCb251c0Ftb3VudCk7ICAgICAgICAgCiAgICAgICAgVE9UQUxfQ09OVFJJQlVUT1JfQ09VTlQgPSBUT1RBTF9DT05UUklCVVRPUl9DT1VOVC5hZGQoMSk7CgogICAgICAgIENvbnRyaWJ1dGlvbihtc2cuc2VuZGVyLCBfZXRoQW1vdW50LCBfam9pbnRUcmFuc2ZlckFtb3VudCk7CiAgICB9CgogICAgIC8qKgogICAgICogQGRldiBib29rIE9WSVMgcGFydG5lciBzYWxlIHRva2VucwogICAgICovCiAgICBmdW5jdGlvbiBib29rT1ZJU1NhbGUodWludDI1NiBfcmF0ZSwgdWludDI1NiBfam9pbnRUb2tlbikgb25seU93bmVyIHB1YmxpYyB7ICAgICAgICAgICAgICAKICAgICAgICBPVklTQk9PS0VEX1RPS0VOUyA9IE9WSVNCT09LRURfVE9LRU5TLmFkZChfam9pbnRUb2tlbik7CiAgICAgICAgcmVxdWlyZShPVklTQk9PS0VEX1RPS0VOUzw9T1ZJU1JFU0VSVkVEX1RPS0VOUy5tdWwoREVDSU1BTENPVU5UKSk7CiAgICAgICAgdWludDI1NiBfYm9udXMgPSBfam9pbnRUb2tlbi5tdWwoX3JhdGUpLmRpdigxMDApOwogICAgICAgIE9WSVNCT09LRURfQk9OVVNUT0tFTlMgPSBPVklTQk9PS0VEX0JPTlVTVE9LRU5TLmFkZChfYm9udXMpOwogICAgICAgIE9WSVNTYWxlQm9va2VkKF9qb2ludFRva2VuKTsKICAgIH0KCiAgICAgLyoqCiAgICAgKiBAZGV2IGNoYW5nZXMgT1ZJUyBwYXJ0bmVyIHNhbGUgcmVzZXJ2ZWQgdG9rZW5zCiAgICAgKi8KICAgIGZ1bmN0aW9uIGNoYW5nZU9WSVNSZXNlcnZlZFRva2VuKHVpbnQyNTYgX2pvaW50VG9rZW4pIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGlmIChfam9pbnRUb2tlbiA+IE9WSVNSRVNFUlZFRF9UT0tFTlMpIHsKICAgICAgICAgICAgQVZBSUxBQkxFX0pPSU5UVE9LRU5TID0gQVZBSUxBQkxFX0pPSU5UVE9LRU5TLnN1YigoX2pvaW50VG9rZW4uc3ViKE9WSVNSRVNFUlZFRF9UT0tFTlMpKS5tdWwoREVDSU1BTENPVU5UKSk7CiAgICAgICAgICAgIE9WSVNSRVNFUlZFRF9UT0tFTlMgPSBfam9pbnRUb2tlbjsKICAgICAgICB9IGVsc2UgaWYgKF9qb2ludFRva2VuIDwgT1ZJU1JFU0VSVkVEX1RPS0VOUykgewogICAgICAgICAgICBBVkFJTEFCTEVfSk9JTlRUT0tFTlMgPSBBVkFJTEFCTEVfSk9JTlRUT0tFTlMuYWRkKChPVklTUkVTRVJWRURfVE9LRU5TLnN1Yihfam9pbnRUb2tlbikpLm11bChERUNJTUFMQ09VTlQpKTsKICAgICAgICAgICAgT1ZJU1JFU0VSVkVEX1RPS0VOUyA9IF9qb2ludFRva2VuOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBPVklTUmVzZXJ2ZWRUb2tlbkNoYW5nZWQoX2pvaW50VG9rZW4pOwogICAgfQoKICAgICAgLyoqCiAgICAgKiBAZGV2IGNoYW5nZXMgSm9pbnQgVG9rZW4gYW5kIE9QUyBUb2tlbiBjb250cmFjdCBhZGRyZXNzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGNoYW5nZVRva2VuQWRkcmVzcyhhZGRyZXNzIF9qb2ludEFkZHJlc3MsIGFkZHJlc3MgX09QU0FkZHJlc3MpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIEpvaW50VG9rZW4gPSBJRVJDMjBUb2tlbihfam9pbnRBZGRyZXNzKTsKICAgICAgICBPUFNUb2tlbiA9IElFUkMyMFRva2VuKF9PUFNBZGRyZXNzKTsKICAgICAgICBUb2tlbkFkZHJlc3NDaGFuZ2VkKF9qb2ludEFkZHJlc3MsIF9PUFNBZGRyZXNzKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgY2hhbmdlcyBQcmljaW5nIFN0cmF0ZWd5IGNvbnRyYWN0IGFkZHJlc3MsIHdoaWNoIGNhbGN1bGF0ZXMgdG9rZW4gYW1vdW50cyB0byBnaXZlCiAgICAgKi8KICAgIGZ1bmN0aW9uIGNoYW5nZVN0cmF0ZWd5QWRkcmVzcyhhZGRyZXNzIF9zdHJhdGVneUFkZHJlc3MpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIFByaWNlU3RyYXRlZ3kgPSBQcmljaW5nU3RyYXRlZ3koX3N0cmF0ZWd5QWRkcmVzcyk7CiAgICAgICAgU3RyYXRlZ3lBZGRyZXNzQ2hhbmdlZChfc3RyYXRlZ3lBZGRyZXNzKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgdHJhbnNmZXJzIHByZXNhbGUgdG9rZW4gYW1vdW50cyB0byBjb250cmlidXRvcnMKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJQcmVzYWxlVG9rZW5zKCkgcHJpdmF0ZSB7CiAgICAgICAgcmVxdWlyZShKb2ludFRva2VuLnRyYW5zZmVyKFByZXNhbGVBZGRyZXNzLCBQUkVTQUxFX0pPSU5UVE9LRU5TLm11bChERUNJTUFMQ09VTlQpKSk7CiAgICAgICAgUHJlc2FsZVRyYW5zZmVycmVkKFByZXNhbGVBZGRyZXNzLCBQUkVTQUxFX0pPSU5UVE9LRU5TLm11bChERUNJTUFMQ09VTlQpKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgdHJhbnNmZXJzIHByZXNhbGUgdG9rZW4gYW1vdW50cyB0byBjb250cmlidXRvcnMKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJUb2tlbk9QU1BsYXRmb3JtVG9rZW5zKCkgcHJpdmF0ZSB7CiAgICAgICAgcmVxdWlyZShKb2ludFRva2VuLnRyYW5zZmVyKFRva2VuT1BTU2FsZUFkZHJlc3MsIFRPS0VOT1BTUExBVEZPUk1fSk9JTlRUT0tFTlMubXVsKERFQ0lNQUxDT1VOVCkpKTsKICAgICAgICBUb2tlbk9QU1BsYXRmb3JtVHJhbnNmZXJyZWQoVG9rZW5PUFNTYWxlQWRkcmVzcywgVE9LRU5PUFNQTEFURk9STV9KT0lOVFRPS0VOUy5tdWwoREVDSU1BTENPVU5UKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IHRyYW5zZmVycyB0b2tlbiBhbW91bnRzIHRvIG90aGVyIElDTyBwbGF0Zm9ybXMKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJPVklTQm9va2VkVG9rZW5zKCkgcHJpdmF0ZSB7CiAgICAgICAgdWludDI1NiBfdG90YWxUb2tlbnMgPSBPVklTQk9PS0VEX1RPS0VOUy5hZGQoT1ZJU0JPT0tFRF9CT05VU1RPS0VOUyk7CiAgICAgICAgaWYoX3RvdGFsVG9rZW5zPjApIHsgICAgICAgCiAgICAgICAgICAgIHJlcXVpcmUoSm9pbnRUb2tlbi50cmFuc2ZlcihPdmlzQWRkcmVzcywgX3RvdGFsVG9rZW5zKSk7CiAgICAgICAgICAgIHJlcXVpcmUoT1BTVG9rZW4udHJhbnNmZXIoT3Zpc0FkZHJlc3MsIF90b3RhbFRva2VucykpOwogICAgICAgIH0KICAgICAgICBPVklTQm9va2VkVG9rZW5zVHJhbnNmZXJyZWQoT3Zpc0FkZHJlc3MsIF90b3RhbFRva2Vucyk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IHRyYW5zZmVycyByZW1haW5pbmcgdW5zb2xkIHRva2VuIGFtb3VudCB0byByZXdhcmQgcG9vbAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlclJld2FyZFBvb2woKSBwcml2YXRlIHsKICAgICAgICB1aW50MjU2IGJhbGFuY2UgPSBKb2ludFRva2VuLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKTsKICAgICAgICBpZihiYWxhbmNlPjApIHsKICAgICAgICAgICAgcmVxdWlyZShKb2ludFRva2VuLnRyYW5zZmVyKFJld2FyZFBvb2xBZGRyZXNzLCBiYWxhbmNlKSk7CiAgICAgICAgfQogICAgICAgIFJld2FyZFBvb2xUcmFuc2ZlcnJlZChSZXdhcmRQb29sQWRkcmVzcywgYmFsYW5jZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IHRyYW5zZmVycyByZW1haW5pbmcgT1BTIHRva2VuIGFtb3VudCB0byBwb29sCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyT1BTUG9vbCgpIHByaXZhdGUgewogICAgICAgIHVpbnQyNTYgYmFsYW5jZSA9IE9QU1Rva2VuLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKTsKICAgICAgICBpZihiYWxhbmNlPjApIHsKICAgICAgICByZXF1aXJlKE9QU1Rva2VuLnRyYW5zZmVyKE9QU1Bvb2xBZGRyZXNzLCBiYWxhbmNlKSk7CiAgICAgICAgfQogICAgICAgIE9QU1Bvb2xUcmFuc2ZlcnJlZChPUFNQb29sQWRkcmVzcywgYmFsYW5jZSk7CiAgICB9CgoKICAgIC8qKgogICAgICogQGRldiBzdGFydCBmdW5jdGlvbiB0byBzdGFydCBjcm93ZHNhbGUgZm9yIGNvbnRyaWJ1dGlvbgogICAgICovCiAgICBmdW5jdGlvbiBzdGFydFNhbGUoKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKEN1cnJlbnRTdGF0ZSA9PSBJQ09TdGF0ZS5Ob3RTdGFydGVkKTsKICAgICAgICByZXF1aXJlKEpvaW50VG9rZW4uYmFsYW5jZU9mKGFkZHJlc3ModGhpcykpPjApOwogICAgICAgIHJlcXVpcmUoT1BTVG9rZW4uYmFsYW5jZU9mKGFkZHJlc3ModGhpcykpPjApOyAgICAgICAKICAgICAgICBDdXJyZW50U3RhdGUgPSBJQ09TdGF0ZS5TdGFydGVkOwogICAgICAgIHRyYW5zZmVyUHJlc2FsZVRva2VucygpOwogICAgICAgIHRyYW5zZmVyVG9rZW5PUFNQbGF0Zm9ybVRva2VucygpOwogICAgICAgIFNhbGVTdGFydGVkKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IHN0b3AgZnVuY3Rpb24gdG8gc3RvcCBjcm93ZHNhbGUgZm9yIGNvbnRyaWJ1dGlvbgogICAgICovCiAgICBmdW5jdGlvbiBzdG9wU2FsZSgpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoQ3VycmVudFN0YXRlID09IElDT1N0YXRlLlN0YXJ0ZWQpOwogICAgICAgIEN1cnJlbnRTdGF0ZSA9IElDT1N0YXRlLlN0b3BwZWQ7CiAgICAgICAgU2FsZVN0b3BwZWQoKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgY29udGludWUgZnVuY3Rpb24gdG8gY29udGludWUgY3Jvd2RzYWxlIGZvciBjb250cmlidXRpb24KICAgICAqLwogICAgZnVuY3Rpb24gY29udGludWVTYWxlKCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShDdXJyZW50U3RhdGUgPT0gSUNPU3RhdGUuU3RvcHBlZCk7CiAgICAgICAgQ3VycmVudFN0YXRlID0gSUNPU3RhdGUuU3RhcnRlZDsKICAgICAgICBTYWxlQ29udGludWVkKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IGZpbmlzaCBmdW5jdGlvbiB0byBmaW5pc2ggY3Jvd2RzYWxlIGZvciBjb250cmlidXRpb24KICAgICAqLwogICAgZnVuY3Rpb24gZmluaXNoU2FsZSgpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGlmICh0aGlzLmJhbGFuY2U+MCkgewogICAgICAgICAgICBGdW5kQWRkcmVzcy50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgICAgIH0KICAgICAgICB0cmFuc2Zlck9WSVNCb29rZWRUb2tlbnMoKTsKICAgICAgICB0cmFuc2ZlclJld2FyZFBvb2woKTsgICAgCiAgICAgICAgdHJhbnNmZXJPUFNQb29sKCk7ICAKICAgICAgICBDdXJyZW50U3RhdGUgPSBJQ09TdGF0ZS5GaW5pc2hlZDsgCiAgICAgICAgU2FsZUZpbmlzaGVkKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IGZ1bmRzIGNvbnRyYWN0J3MgYmFsYW5jZSB0byBmdW5kIGFkZHJlc3MKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0RnVuZCh1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX2Ftb3VudDw9dGhpcy5iYWxhbmNlKTsKICAgICAgICBGdW5kQWRkcmVzcy50cmFuc2ZlcihfYW1vdW50KTsKICAgICAgICBGdW5kZWQoRnVuZEFkZHJlc3MsIF9hbW91bnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFN0YXRzKCkgcHVibGljIGNvbnN0YW50IHJldHVybnModWludDI1NiBUb3RhbENvbnRyQW1vdW50LCBJQ09TdGF0ZSBTdGF0ZSwgdWludDI1NiBUb3RhbENvbnRyQ291bnQpIHsKICAgICAgICB1aW50MjU2IHRvdGFsdG9rZW4gPSAwOwogICAgICAgIHRvdGFsdG9rZW4gPSBJQ09TQUxFX0pPSU5UVE9LRU5TLmFkZChQUkVTQUxFX0pPSU5UVE9LRU5TLm11bChERUNJTUFMQ09VTlQpKTsKICAgICAgICB0b3RhbHRva2VuID0gdG90YWx0b2tlbi5hZGQoVE9LRU5PUFNQTEFURk9STV9KT0lOVFRPS0VOUy5tdWwoREVDSU1BTENPVU5UKSk7CiAgICAgICAgdG90YWx0b2tlbiA9IHRvdGFsdG9rZW4uYWRkKE9WSVNCT09LRURfVE9LRU5TKTsKICAgICAgICByZXR1cm4gKHRvdGFsdG9rZW4sIEN1cnJlbnRTdGF0ZSwgVE9UQUxfQ09OVFJJQlVUT1JfQ09VTlQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGRlc3RydWN0KCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShDdXJyZW50U3RhdGUgPT0gSUNPU3RhdGUuRmluaXNoZWQpOwogICAgICAgIHNlbGZkZXN0cnVjdChGdW5kQWRkcmVzcyk7CiAgICB9Cn0='.
	

]
