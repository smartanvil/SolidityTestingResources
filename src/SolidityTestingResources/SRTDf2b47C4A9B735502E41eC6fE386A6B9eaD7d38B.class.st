Class {
	#name : #SRTDf2b47C4A9B735502E41eC6fE386A6B9eaD7d38B,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTDf2b47C4A9B735502E41eC6fE386A6B9eaD7d38B >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjsKCi8vLyBJbXBsZW1lbnRzIEVSQyAyMCBUb2tlbiBzdGFuZGFyZDogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCi8vLyBAdGl0bGUgQWJzdHJhY3QgdG9rZW4gY29udHJhY3QgLSBGdW5jdGlvbnMgdG8gYmUgaW1wbGVtZW50ZWQgYnkgdG9rZW4gY29udHJhY3RzLgoKY29udHJhY3QgQWJzdHJhY3RUb2tlbiB7CiAgICAvLyBUaGlzIGlzIG5vdCBhbiBhYnN0cmFjdCBmdW5jdGlvbiwgYmVjYXVzZSBzb2xjIHdvbid0IHJlY29nbml6ZSBnZW5lcmF0ZWQgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgcHVibGljIHZhcmlhYmxlcyBhcyBmdW5jdGlvbnMKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpIHt9CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBvd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKICAgIGV2ZW50IElzc3VhbmNlKGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgQWJzdHJhY3RUb2tlbiB7CgogICAgLyoKICAgICAqICBEYXRhIHN0cnVjdHVyZXMKICAgICAqLwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIC8qCiAgICAgKiAgUmVhZCBhbmQgd3JpdGUgc3RvcmFnZSBmdW5jdGlvbnMKICAgICAqLwogICAgLy8vIEBkZXYgVHJhbnNmZXJzIHNlbmRlcidzIHRva2VucyB0byBhIGdpdmVuIGFkZHJlc3MuIFJldHVybnMgc3VjY2Vzcy4KICAgIC8vLyBAcGFyYW0gX3RvIEFkZHJlc3Mgb2YgdG9rZW4gcmVjZWl2ZXIuCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyLgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLy8vIEBkZXYgQWxsb3dzIGFsbG93ZWQgdGhpcmQgcGFydHkgdG8gdHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlci4gUmV0dXJucyBzdWNjZXNzLgogICAgLy8vIEBwYXJhbSBfZnJvbSBBZGRyZXNzIGZyb20gd2hlcmUgdG9rZW5zIGFyZSB3aXRoZHJhd24uCiAgICAvLy8gQHBhcmFtIF90byBBZGRyZXNzIHRvIHdoZXJlIHRva2VucyBhcmUgc2VudC4KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIE51bWJlciBvZiB0b2tlbnMgdG8gdHJhbnNmZXIuCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCkgewogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLy8vIEBkZXYgUmV0dXJucyBudW1iZXIgb2YgdG9rZW5zIG93bmVkIGJ5IGdpdmVuIGFkZHJlc3MuCiAgICAvLy8gQHBhcmFtIF9vd25lciBBZGRyZXNzIG9mIHRva2VuIG93bmVyLgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICAvLy8gQGRldiBTZXRzIGFwcHJvdmVkIGFtb3VudCBvZiB0b2tlbnMgZm9yIHNwZW5kZXIuIFJldHVybnMgc3VjY2Vzcy4KICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgQWRkcmVzcyBvZiBhbGxvd2VkIGFjY291bnQuCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgYXBwcm92ZWQgdG9rZW5zLgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoKICAgICAqIFJlYWQgc3RvcmFnZSBmdW5jdGlvbnMKICAgICAqLwogICAgLy8vIEBkZXYgUmV0dXJucyBudW1iZXIgb2YgYWxsb3dlZCB0b2tlbnMgZm9yIGdpdmVuIGFkZHJlc3MuCiAgICAvLy8gQHBhcmFtIF9vd25lciBBZGRyZXNzIG9mIHRva2VuIG93bmVyLgogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBBZGRyZXNzIG9mIHRva2VuIHNwZW5kZXIuCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKfQoKCi8vLyBAdGl0bGUgVG9rZW4gY29udHJhY3QgLSBJbXBsZW1lbnRzIFN0YW5kYXJkIFRva2VuIEludGVyZmFjZSB3aXRoIEh1bWFuaVEgZmVhdHVyZXMuCi8vLyBAYXV0aG9yIEV0aGVyaW9uTGFiIHRlYW0sIGh0dHBzOi8vZXRoZXJpb25sYWIuY29tCmNvbnRyYWN0IEh1bWFuaXFUb2tlbiBpcyBTdGFuZGFyZFRva2VuIHsKCiAgICAvKgogICAgICogRXh0ZXJuYWwgY29udHJhY3RzCiAgICAgKi8KICAgIGFkZHJlc3MgcHVibGljIGVtaXNzaW9uQ29udHJhY3RBZGRyZXNzID0gMHgwOwoKICAgIC8qCiAgICAgKiBUb2tlbiBtZXRhIGRhdGEKICAgICAqLwogICAgc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBuYW1lID0gIkh1bWFuaVEiOwogICAgc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBzeW1ib2wgPSAiSE1RIjsKICAgIHVpbnQ4IGNvbnN0YW50IHB1YmxpYyBkZWNpbWFscyA9IDg7CgogICAgYWRkcmVzcyBwdWJsaWMgZm91bmRlciA9IDB4MDsKICAgIGJvb2wgbG9ja2VkID0gdHJ1ZTsKICAgIC8qCiAgICAgKiBNb2RpZmllcnMKICAgICAqLwogICAgbW9kaWZpZXIgb25seUZvdW5kZXIoKSB7CiAgICAgICAgLy8gT25seSBmb3VuZGVyIGlzIGFsbG93ZWQgdG8gZG8gdGhpcyBhY3Rpb24uCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gZm91bmRlcikgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBpc0Nyb3dkZnVuZGluZ0NvbnRyYWN0KCkgewogICAgICAgIC8vIE9ubHkgZW1pc3Npb24gYWRkcmVzcyBpcyBhbGxvd2VkIHRvIHByb2NlZWQuCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gZW1pc3Npb25Db250cmFjdEFkZHJlc3MpIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgdW5sb2NrZWQoKSB7CiAgICAgICAgLy8gT25seSB3aGVuIHRyYW5zZmVycmluZyBjb2lucyBpcyBlbmFibGVkLgogICAgICAgIGlmIChsb2NrZWQgPT0gdHJ1ZSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgXzsKICAgIH0KCiAgICAvKgogICAgICogQ29udHJhY3QgZnVuY3Rpb25zCiAgICAgKi8KCiAgICAvLy8gQGRldiBDcm93ZGZ1bmRpbmcgY29udHJhY3QgaXNzdWVzIG5ldyB0b2tlbnMgZm9yIGFkZHJlc3MuIFJldHVybnMgc3VjY2Vzcy4KICAgIC8vLyBAcGFyYW0gX2ZvciBBZGRyZXNzIG9mIHJlY2VpdmVyLgogICAgLy8vIEBwYXJhbSB0b2tlbkNvdW50IE51bWJlciBvZiB0b2tlbnMgdG8gaXNzdWUuCiAgICBmdW5jdGlvbiBpc3N1ZVRva2VucyhhZGRyZXNzIF9mb3IsIHVpbnQgdG9rZW5Db3VudCkKICAgICAgICBleHRlcm5hbAogICAgICAgIHBheWFibGUKICAgICAgICBpc0Nyb3dkZnVuZGluZ0NvbnRyYWN0CiAgICAgICAgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICBpZiAodG9rZW5Db3VudCA9PSAwKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgYmFsYW5jZXNbX2Zvcl0gKz0gdG9rZW5Db3VudDsKICAgICAgICB0b3RhbFN1cHBseSArPSB0b2tlbkNvdW50OwogICAgICAgIElzc3VhbmNlKF9mb3IsIHRva2VuQ291bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkKICAgICAgICB1bmxvY2tlZAogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykKICAgIHsKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpCiAgICAgICAgdW5sb2NrZWQKICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpCiAgICB7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIC8vLyBAZGV2IEZ1bmN0aW9uIHRvIGNoYW5nZSBhZGRyZXNzIHRoYXQgaXMgYWxsb3dlZCB0byBkbyBlbWlzc2lvbi4KICAgIC8vLyBAcGFyYW0gbmV3QWRkcmVzcyBBZGRyZXNzIG9mIG5ldyBlbWlzc2lvbiBjb250cmFjdC4KICAgIGZ1bmN0aW9uIGNoYW5nZUVtaXNzaW9uQ29udHJhY3RBZGRyZXNzKGFkZHJlc3MgbmV3QWRkcmVzcykKICAgICAgICBleHRlcm5hbAogICAgICAgIG9ubHlGb3VuZGVyCiAgICAgICAgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICBlbWlzc2lvbkNvbnRyYWN0QWRkcmVzcyA9IG5ld0FkZHJlc3M7CiAgICB9CgogICAgLy8vIEBkZXYgRnVuY3Rpb24gdGhhdCBsb2Nrcy91bmxvY2tzIHRyYW5zZmVycyBvZiB0b2tlbi4KICAgIC8vLyBAcGFyYW0gdmFsdWUgVHJ1ZS9GYWxzZQogICAgZnVuY3Rpb24gbG9jayhib29sIHZhbHVlKQogICAgICAgIGV4dGVybmFsCiAgICAgICAgb25seUZvdW5kZXIKICAgIHsKICAgICAgICBsb2NrZWQgPSB2YWx1ZTsKICAgIH0KCiAgICAvLy8gQGRldiBDb250cmFjdCBjb25zdHJ1Y3RvciBmdW5jdGlvbiBzZXRzIGluaXRpYWwgdG9rZW4gYmFsYW5jZXMuCiAgICAvLy8gQHBhcmFtIF9mb3VuZGVyIEFkZHJlc3Mgb2YgdGhlIGZvdW5kZXIgb2YgSHVtYW5pUS4KICAgIGZ1bmN0aW9uIEh1bWFuaXFUb2tlbihhZGRyZXNzIF9mb3VuZGVyKQogICAgewogICAgICAgIHRvdGFsU3VwcGx5ID0gMDsKICAgICAgICBmb3VuZGVyID0gX2ZvdW5kZXI7CiAgICB9Cn0KCgovLy8gQHRpdGxlIEh1bWFuaXFJQ08gY29udHJhY3QgLSBUYWtlcyBmdW5kcyBmcm9tIHVzZXJzIGFuZCBpc3N1ZXMgdG9rZW5zLgovLy8gQGF1dGhvciBFdmdlbnkgWXVydGFldiAtIDw8YSBocmVmPSIvY2RuLWNnaS9sL2VtYWlsLXByb3RlY3Rpb24iIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iMDc2MjcxNjA2MjY5N2U0NzYyNzM2ZjYyNzU2ZTY4Njk2YjY2NjUyOTY0Njg2YSI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvYT4+CmNvbnRyYWN0IEh1bWFuaXFJQ08gewoKICAgIC8qCiAgICAgKiBFeHRlcm5hbCBjb250cmFjdHMKICAgICAqLwogICAgSHVtYW5pcVRva2VuIHB1YmxpYyBodW1hbmlxVG9rZW47CgogICAgLyoKICAgICAqIENyb3dkZnVuZGluZyBwYXJhbWV0ZXJzCiAgICAgKi8KICAgIHVpbnQgY29uc3RhbnQgcHVibGljIENST1dERlVORElOR19QRVJJT0QgPSAzIHdlZWtzOwoKICAgIC8qCiAgICAgKiAgU3RvcmFnZQogICAgICovCiAgICBhZGRyZXNzIHB1YmxpYyBmb3VuZGVyOwogICAgYWRkcmVzcyBwdWJsaWMgbXVsdGlzaWc7CiAgICB1aW50IHB1YmxpYyBzdGFydERhdGUgPSAwOwogICAgdWludCBwdWJsaWMgaWNvQmFsYW5jZSA9IDA7CiAgICB1aW50IHB1YmxpYyBjb2luc0lzc3VlZCA9IDA7CiAgICB1aW50IHB1YmxpYyBiYXNlVG9rZW5QcmljZSA9IDEgZmlubmV5OyAvLyAwLjAwMSBFVEgKICAgIHVpbnQgcHVibGljIGRpc2NvdW50ZWRQcmljZSA9IGJhc2VUb2tlblByaWNlOwogICAgYm9vbCBwdWJsaWMgaXNJQ09BY3RpdmUgPSBmYWxzZTsKCiAgICAvLyBwYXJ0aWNpcGFudCBhZGRyZXNzID0+IHZhbHVlIGluIFdlaQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgaW52ZXN0bWVudHM7CgogICAgLyoKICAgICAqICBNb2RpZmllcnMKICAgICAqLwogICAgbW9kaWZpZXIgb25seUZvdW5kZXIoKSB7CiAgICAgICAgLy8gT25seSBmb3VuZGVyIGlzIGFsbG93ZWQgdG8gZG8gdGhpcyBhY3Rpb24uCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gZm91bmRlcikgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBtaW5JbnZlc3RtZW50KCkgewogICAgICAgIC8vIFVzZXIgaGFzIHRvIHNlbmQgYXQgbGVhc3QgdGhlIGV0aGVyIHZhbHVlIG9mIG9uZSB0b2tlbi4KICAgICAgICBpZiAobXNnLnZhbHVlIDwgYmFzZVRva2VuUHJpY2UpIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgaWNvQWN0aXZlKCkgewogICAgICAgIGlmIChpc0lDT0FjdGl2ZSA9PSBmYWxzZSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgXzsKICAgIH0KCiAgICAvLy8gQGRldiBSZXR1cm5zIGN1cnJlbnQgYm9udXMKICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRCb251cygpCiAgICAgICAgcHVibGljCiAgICAgICAgY29uc3RhbnQKICAgICAgICByZXR1cm5zICh1aW50KQogICAgewogICAgICAgIHJldHVybiBnZXRCb251cyhub3cpOwogICAgfQoKICAgIC8vLyBAZGV2IFJldHVybnMgYm9udXMgZm9yIHRoZSBzcGVjaWZpYyBtb21lbnQKICAgIC8vLyBAcGFyYW0gdGltZXN0YW1wIFRpbWUgb2YgaW52ZXN0bWVudCAoaW4gc2Vjb25kcykKICAgIGZ1bmN0aW9uIGdldEJvbnVzKHVpbnQgdGltZXN0YW1wKQogICAgICAgIHB1YmxpYwogICAgICAgIGNvbnN0YW50CiAgICAgICAgcmV0dXJucyAodWludCkKICAgIHsKCiAgICAgICAgaWYgKHN0YXJ0RGF0ZSA9PSAwKSB7CiAgICAgICAgICAgIHJldHVybiAxNDk5OyAvLyA0OS45JQogICAgICAgIH0KCiAgICAgICAgdWludCBpY29EdXJhdGlvbiA9IHRpbWVzdGFtcCAtIHN0YXJ0RGF0ZTsKICAgICAgICBpZiAoaWNvRHVyYXRpb24gPj0gMTYgZGF5cykgewogICAgICAgICAgICByZXR1cm4gMTAwMDsgIC8vIDAlCiAgICAgICAgfSBlbHNlIGlmIChpY29EdXJhdGlvbiA+PSA5IGRheXMpIHsKICAgICAgICAgICAgcmV0dXJuIDExMjU7ICAvLyAxMi41JQogICAgICAgIH0gZWxzZSBpZiAoaWNvRHVyYXRpb24gPj0gMiBkYXlzKSB7CiAgICAgICAgICAgIHJldHVybiAxMjUwOyAgLy8gMjUlCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIDE0OTk7ICAvLyA0OS45JQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBjYWxjdWxhdGVUb2tlbnModWludCBpbnZlc3RtZW50LCB1aW50IHRpbWVzdGFtcCkKICAgICAgICBwdWJsaWMKICAgICAgICBjb25zdGFudAogICAgICAgIHJldHVybnMgKHVpbnQpCiAgICB7CiAgICAgICAgLy8gY2FsY3VsYXRlIGRpc2NvdW50ZWRQcmljZQogICAgICAgIGRpc2NvdW50ZWRQcmljZSA9IChiYXNlVG9rZW5QcmljZSAqIDEwMDApIC8gZ2V0Qm9udXModGltZXN0YW1wKTsKCiAgICAgICAgLy8gVG9rZW4gY291bnQgaXMgcm91bmRlZCBkb3duLiBTZW50IEVUSCBzaG91bGQgYmUgbXVsdGlwbGVzIG9mIGJhc2VUb2tlblByaWNlLgogICAgICAgIHJldHVybiBpbnZlc3RtZW50IC8gZGlzY291bnRlZFByaWNlOwogICAgfQoKICAgIC8vLyBAZGV2IElzc3VlcyB0b2tlbnMKICAgIC8vLyBAcGFyYW0gYmVuZWZpY2lhcnkgQWRkcmVzcyB0aGUgdG9rZW5zIHdpbGwgYmUgaXNzdWVkIHRvLgogICAgLy8vIEBwYXJhbSBpbnZlc3RtZW50IEludmVzdGVkIGFtb3VudCBpbiBXZWkKICAgIC8vLyBAcGFyYW0gdGltZXN0YW1wIFRpbWUgb2YgaW52ZXN0bWVudCAoaW4gc2Vjb25kcykKICAgIC8vLyBAcGFyYW0gc2VuZFRvRm91bmRlcnMgV2hldGhlciB0byBzZW5kIHJlY2VpdmVkIGV0aGVycyB0byBtdWx0aXNpZyBhZGRyZXNzIG9yIG5vdAogICAgZnVuY3Rpb24gaXNzdWVUb2tlbnMoYWRkcmVzcyBiZW5lZmljaWFyeSwgdWludCBpbnZlc3RtZW50LCB1aW50IHRpbWVzdGFtcCwgYm9vbCBzZW5kVG9Gb3VuZGVycykKICAgICAgICBwcml2YXRlCiAgICAgICAgcmV0dXJucyAodWludCkKICAgIHsKICAgICAgICB1aW50IHRva2VuQ291bnQgPSBjYWxjdWxhdGVUb2tlbnMoaW52ZXN0bWVudCwgdGltZXN0YW1wKTsKCiAgICAgICAgLy8gRXRoZXIgc3BlbnQgYnkgdXNlci4KICAgICAgICB1aW50IHJvdW5kZWRJbnZlc3RtZW50ID0gdG9rZW5Db3VudCAqIGRpc2NvdW50ZWRQcmljZTsKCiAgICAgICAgLy8gU2VuZCBjaGFuZ2UgYmFjayB0byB1c2VyLgogICAgICAgIGlmIChzZW5kVG9Gb3VuZGVycyAmJiBpbnZlc3RtZW50ID4gcm91bmRlZEludmVzdG1lbnQgJiYgIWJlbmVmaWNpYXJ5LnNlbmQoaW52ZXN0bWVudCAtIHJvdW5kZWRJbnZlc3RtZW50KSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CgogICAgICAgIC8vIFVwZGF0ZSBmdW5kJ3MgYW5kIHVzZXIncyBiYWxhbmNlIGFuZCB0b3RhbCBzdXBwbHkgb2YgdG9rZW5zLgogICAgICAgIGljb0JhbGFuY2UgKz0gaW52ZXN0bWVudDsKICAgICAgICBjb2luc0lzc3VlZCArPSB0b2tlbkNvdW50OwogICAgICAgIGludmVzdG1lbnRzW2JlbmVmaWNpYXJ5XSArPSByb3VuZGVkSW52ZXN0bWVudDsKCiAgICAgICAgLy8gU2VuZCBmdW5kcyB0byBmb3VuZGVycyBpZiBpbnZlc3RtZW50IHdhcyBtYWRlCiAgICAgICAgaWYgKHNlbmRUb0ZvdW5kZXJzICYmICFtdWx0aXNpZy5zZW5kKHJvdW5kZWRJbnZlc3RtZW50KSkgewogICAgICAgICAgICAvLyBDb3VsZCBub3Qgc2VuZCBtb25leQogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CgogICAgICAgIGlmICghaHVtYW5pcVRva2VuLmlzc3VlVG9rZW5zKGJlbmVmaWNpYXJ5LCB0b2tlbkNvdW50KSkgewogICAgICAgICAgICAvLyBUb2tlbnMgY291bGQgbm90IGJlIGlzc3VlZC4KICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdG9rZW5Db3VudDsKICAgIH0KCiAgICAvLy8gQGRldiBBbGxvd3MgdXNlciB0byBjcmVhdGUgdG9rZW5zIGlmIHRva2VuIGNyZWF0aW9uIGlzIHN0aWxsIGdvaW5nCiAgICAvLy8gYW5kIGNhcCB3YXMgbm90IHJlYWNoZWQuIFJldHVybnMgdG9rZW4gY291bnQuCiAgICBmdW5jdGlvbiBmdW5kKCkKICAgICAgICBwdWJsaWMKICAgICAgICBpY29BY3RpdmUKICAgICAgICBtaW5JbnZlc3RtZW50CiAgICAgICAgcGF5YWJsZQogICAgICAgIHJldHVybnMgKHVpbnQpCiAgICB7CiAgICAgICAgcmV0dXJuIGlzc3VlVG9rZW5zKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgbm93LCB0cnVlKTsKICAgIH0KCiAgICAvLy8gQGRldiBJc3N1ZXMgdG9rZW5zIGZvciB1c2VycyB3aG8gbWFkZSBCVEMgcHVyY2hhc2VzLgogICAgLy8vIEBwYXJhbSBiZW5lZmljaWFyeSBBZGRyZXNzIHRoZSB0b2tlbnMgd2lsbCBiZSBpc3N1ZWQgdG8uCiAgICAvLy8gQHBhcmFtIGludmVzdG1lbnQgSW52ZXN0ZWQgYW1vdW50IGluIFdlaQogICAgLy8vIEBwYXJhbSB0aW1lc3RhbXAgVGltZSBvZiBpbnZlc3RtZW50IChpbiBzZWNvbmRzKQogICAgZnVuY3Rpb24gZml4SW52ZXN0bWVudChhZGRyZXNzIGJlbmVmaWNpYXJ5LCB1aW50IGludmVzdG1lbnQsIHVpbnQgdGltZXN0YW1wKQogICAgICAgIGV4dGVybmFsCiAgICAgICAgaWNvQWN0aXZlCiAgICAgICAgb25seUZvdW5kZXIKICAgICAgICByZXR1cm5zICh1aW50KQogICAgewogICAgICAgIGlmICh0aW1lc3RhbXAgPT0gMCkgewogICAgICAgICAgICByZXR1cm4gaXNzdWVUb2tlbnMoYmVuZWZpY2lhcnksIGludmVzdG1lbnQsIG5vdywgZmFsc2UpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGlzc3VlVG9rZW5zKGJlbmVmaWNpYXJ5LCBpbnZlc3RtZW50LCB0aW1lc3RhbXAsIGZhbHNlKTsKICAgIH0KCiAgICAvLy8gQGRldiBJZiBJQ08gaGFzIHN1Y2Nlc3NmdWxseSBmaW5pc2hlZCBzZW5kcyB0aGUgbW9uZXkgdG8gbXVsdGlzaWcKICAgIC8vLyB3YWxsZXQuCiAgICBmdW5jdGlvbiBmaW5pc2hDcm93ZHNhbGUoKQogICAgICAgIGV4dGVybmFsCiAgICAgICAgb25seUZvdW5kZXIKICAgICAgICByZXR1cm5zIChib29sKQogICAgewogICAgICAgIGlmIChpc0lDT0FjdGl2ZSA9PSB0cnVlKSB7CiAgICAgICAgICAgIGlzSUNPQWN0aXZlID0gZmFsc2U7CiAgICAgICAgICAgIC8vIEZvdW5kZXJzIHJlY2VpdmUgMTQlIG9mIGFsbCBjcmVhdGVkIHRva2Vucy4KICAgICAgICAgICAgIHVpbnQgZm91bmRlckJvbnVzID0gKGNvaW5zSXNzdWVkICogMTQpIC8gODY7CiAgICAgICAgICAgICBpZiAoIWh1bWFuaXFUb2tlbi5pc3N1ZVRva2VucyhtdWx0aXNpZywgZm91bmRlckJvbnVzKSkgewogICAgICAgICAgICAgICAgIC8vIFRva2VucyBjb3VsZCBub3QgYmUgaXNzdWVkLgogICAgICAgICAgICAgICAgIHRocm93OwogICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvLy8gQGRldiBTZXRzIHRva2VuIHZhbHVlIGluIFdlaS4KICAgIC8vLyBAcGFyYW0gdmFsdWVJbldlaSBOZXcgdmFsdWUuCiAgICBmdW5jdGlvbiBjaGFuZ2VCYXNlVG9rZW5QcmljZSh1aW50IHZhbHVlSW5XZWkpCiAgICAgICAgZXh0ZXJuYWwKICAgICAgICBvbmx5Rm91bmRlcgogICAgICAgIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgYmFzZVRva2VuUHJpY2UgPSB2YWx1ZUluV2VpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoYW5nZVRva2VuQWRkcmVzcyhhZGRyZXNzIHRva2VuX2FkZHJlc3MpIAogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlGb3VuZGVyCiAgICB7CiAgICAgICAgIGh1bWFuaXFUb2tlbiA9IEh1bWFuaXFUb2tlbih0b2tlbl9hZGRyZXNzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VGb3VuZGVyKGFkZHJlc3MgX2ZvdW5kZXIpIAogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlGb3VuZGVyCiAgICB7CiAgICAgICAgZm91bmRlciA9IF9mb3VuZGVyOwogICAgfQoKICAgIC8vLyBAZGV2IEZ1bmN0aW9uIHRoYXQgYWN0aXZhdGVzIElDTy4KICAgIGZ1bmN0aW9uIHN0YXJ0SUNPKCkKICAgICAgICBleHRlcm5hbAogICAgICAgIG9ubHlGb3VuZGVyCiAgICB7CiAgICAgICAgaWYgKGlzSUNPQWN0aXZlID09IGZhbHNlICYmIHN0YXJ0RGF0ZSA9PSAwKSB7CiAgICAgICAgICAvLyBTdGFydCBJQ08KICAgICAgICAgIGlzSUNPQWN0aXZlID0gdHJ1ZTsKICAgICAgICAgIC8vIFNldCBzdGFydC1kYXRlIG9mIHRva2VuIGNyZWF0aW9uCiAgICAgICAgICBzdGFydERhdGUgPSBub3c7CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBAZGV2IENvbnRyYWN0IGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHNldHMgZm91bmRlciBhbmQgbXVsdGlzaWcgYWRkcmVzc2VzLgogICAgZnVuY3Rpb24gSHVtYW5pcUlDTyhhZGRyZXNzIF9mb3VuZGVyLCBhZGRyZXNzIF9tdWx0aXNpZywgYWRkcmVzcyB0b2tlbl9hZGRyZXNzKSB7CiAgICAgICAgLy8gU2V0IGZvdW5kZXIgYWRkcmVzcwogICAgICAgIGZvdW5kZXIgPSBfZm91bmRlcjsKICAgICAgICAvLyBTZXQgbXVsdGlzaWcgYWRkcmVzcwogICAgICAgIG11bHRpc2lnID0gX211bHRpc2lnOwogICAgICAgIC8vIFNldCB0b2tlbiBhZGRyZXNzCiAgICAgICAgaHVtYW5pcVRva2VuID0gSHVtYW5pcVRva2VuKHRva2VuX2FkZHJlc3MpOwogICAgfQoKICAgIC8vLyBAZGV2IEZhbGxiYWNrIGZ1bmN0aW9uLiBDYWxscyBmdW5kKCkgZnVuY3Rpb24gdG8gY3JlYXRlIHRva2Vucy4KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgewogICAgICAgIGZ1bmQoKTsKICAgIH0KfQ=='.
	

]
