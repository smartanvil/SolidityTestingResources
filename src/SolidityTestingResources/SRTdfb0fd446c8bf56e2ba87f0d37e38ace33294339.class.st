Class {
	#name : #SRTdfb0fd446c8bf56e2ba87f0d37e38ace33294339,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTdfb0fd446c8bf56e2ba87f0d37e38ace33294339 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKCiAgICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9Cgp9CgoKY29udHJhY3QgQmFzZSB7CgogICAgdWludCBwcml2YXRlIGJpdGxvY2tzID0gMDsKCiAgICBtb2RpZmllciBub0FueVJlZW50cmFuY3kgewogICAgICAgIHVpbnQgX2xvY2tzID0gYml0bG9ja3M7CiAgICAgICAgcmVxdWlyZShfbG9ja3MgPD0gMCk7CiAgICAgICAgYml0bG9ja3MgPSB1aW50KC0xKTsKICAgICAgICBfOwogICAgICAgIGJpdGxvY2tzID0gX2xvY2tzOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHkoYWRkcmVzcyBhbGxvd2VkKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGFsbG93ZWQpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgc2l6ZSkgewogICAgICAgIGFzc2VydChtc2cuZGF0YS5sZW5ndGggPT0gc2l6ZSArIDQpOwogICAgICAgIF87CiAgICB9IAoKfQoKCmNvbnRyYWN0IEVSQzIwIGlzIEJhc2UgewogICAgCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSBhbGxvd2VkOwogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CiAgICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIGJvb2wgcHVibGljIGlzRnJvemVuID0gZmFsc2U7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludCBfdmFsdWUpOwogICAgCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgaXNOb3RGcm96ZW5Pbmx5IG9ubHlQYXlsb2FkU2l6ZSgzICogMzIpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3ModGhpcykpOwogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlX2ZpeGVkKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2N1cnJlbnRWYWx1ZSwgdWludCBfdmFsdWUpIHB1YmxpYyBpc05vdEZyb3plbk9ubHkgb25seVBheWxvYWRTaXplKDMgKiAzMikgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gX2N1cnJlbnRWYWx1ZSl7CiAgICAgICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSBwdWJsaWMgaXNOb3RGcm96ZW5Pbmx5IG9ubHlQYXlsb2FkU2l6ZSgyICogMzIpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgbW9kaWZpZXIgaXNOb3RGcm96ZW5Pbmx5KCkgewogICAgICAgIHJlcXVpcmUoIWlzRnJvemVuKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIGlzRnJvemVuT25seSgpewogICAgICAgIHJlcXVpcmUoaXNGcm96ZW4pOwogICAgICAgIF87CiAgICB9Cgp9CgoKY29udHJhY3QgVG9rZW4gaXMgRVJDMjAgewoKICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJBcnJheS5pbyBUb2tlbiI7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJlUkFZIjsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDE4OwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgQklUID0gMTAqKjE4OwogICAgYm9vbCBwdWJsaWMgdGdlTGl2ZSA9IGZhbHNlOwogICAgdWludCBwdWJsaWMgdGdlU3RhcnRCbG9jazsKICAgIHVpbnQgcHVibGljIHRnZVNldHRpbmdzQW1vdW50OwogICAgdWludCBwdWJsaWMgdGdlU2V0dGluZ3NQYXJ0SW52ZXN0b3I7CiAgICB1aW50IHB1YmxpYyB0Z2VTZXR0aW5nc1BhcnRQcm9qZWN0OwogICAgdWludCBwdWJsaWMgdGdlU2V0dGluZ3NQYXJ0Rm91bmRlcnM7CiAgICB1aW50IHB1YmxpYyB0Z2VTZXR0aW5nc0Jsb2Nrc1BlclN0YWdlOwogICAgdWludCBwdWJsaWMgdGdlU2V0dGluZ3NQYXJ0SW52ZXN0b3JJbmNyZWFzZVBlclN0YWdlOwogICAgdWludCBwdWJsaWMgdGdlU2V0dGluZ3NBbW91bnRDb2xsZWN0OwogICAgdWludCBwdWJsaWMgdGdlU2V0dGluZ3NNYXhTdGFnZXM7CiAgICBhZGRyZXNzIHB1YmxpYyBwcm9qZWN0V2FsbGV0OwogICAgYWRkcmVzcyBwdWJsaWMgZm91bmRlcnNXYWxsZXQ7CiAgICBhZGRyZXNzIGNvbnN0YW50IHB1YmxpYyBidXJuQWRkcmVzcyA9IGFkZHJlc3MoMCk7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBpbnZCYWxhbmNlczsKICAgIHVpbnQgcHVibGljIHRvdGFsSW52U3VwcGx5OwoKICAgIG1vZGlmaWVyIGlzVGdlTGl2ZSgpewogICAgICAgIHJlcXVpcmUodGdlTGl2ZSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBpc05vdFRnZUxpdmUoKXsKICAgICAgICByZXF1aXJlKCF0Z2VMaXZlKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG1heFN0YWdlc0lzTm90QWNoaWV2ZWQoKSB7CiAgICAgICAgaWYgKHRvdGFsU3VwcGx5ID4gQklUKSB7CiAgICAgICAgICAgIHVpbnQgc3RhZ2UgPSBibG9jay5udW1iZXIuc3ViKHRnZVN0YXJ0QmxvY2spLmRpdih0Z2VTZXR0aW5nc0Jsb2Nrc1BlclN0YWdlKTsKICAgICAgICAgICAgcmVxdWlyZShzdGFnZSA8IHRnZVNldHRpbmdzTWF4U3RhZ2VzKTsKICAgICAgICB9CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciB0YXJnZXRJc05vdEFjaGlldmVkKCl7CiAgICAgICAgcmVxdWlyZSh0Z2VTZXR0aW5nc0Ftb3VudENvbGxlY3QgPCB0Z2VTZXR0aW5nc0Ftb3VudCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsICB1aW50IF92YWx1ZSk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgaXNOb3RGcm96ZW5Pbmx5IG9ubHlQYXlsb2FkU2l6ZSgyICogMzIpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3ModGhpcykpOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgaWYoYmFsYW5jZXNbcHJvamVjdFdhbGxldF0gPCAxICogQklUICYmICF0Z2VMaXZlKXsKICAgICAgICAgICAgX2ludGVybmFsVGdlU2V0TGl2ZSgpOwogICAgICAgIH0KICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBkZXYgQ29uc3RydWN0b3IKICAgIC8vLyBAcGFyYW0gX3Byb2plY3RXYWxsZXQgV2FsbGV0IG9mIHByb2plY3QKICAgIC8vLyBAcGFyYW0gX2ZvdW5kZXJzV2FsbGV0IFdhbGxldCBvZiBmb3VuZGVycwogICAgZnVuY3Rpb24gVG9rZW4oYWRkcmVzcyBfcHJvamVjdFdhbGxldCwgYWRkcmVzcyBfZm91bmRlcnNXYWxsZXQpIHB1YmxpYyB7CiAgICAgICAgcHJvamVjdFdhbGxldCA9IF9wcm9qZWN0V2FsbGV0OwogICAgICAgIGZvdW5kZXJzV2FsbGV0ID0gX2ZvdW5kZXJzV2FsbGV0OwogICAgfQoKICAgIC8vLyBAZGV2IEZhbGxiYWNrIGZ1bmN0aW9uIGFsbG93cyB0byBidXkgdG9rZW5zCiAgICBmdW5jdGlvbiAoKQogICAgcHVibGljCiAgICBwYXlhYmxlCiAgICBpc1RnZUxpdmUKICAgIGlzTm90RnJvemVuT25seQogICAgdGFyZ2V0SXNOb3RBY2hpZXZlZAogICAgbWF4U3RhZ2VzSXNOb3RBY2hpZXZlZAogICAgbm9BbnlSZWVudHJhbmN5CiAgICB7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPiAwKTsKICAgICAgICBpZih0Z2VTZXR0aW5nc0Ftb3VudENvbGxlY3QuYWRkKG1zZy52YWx1ZSkgPj0gdGdlU2V0dGluZ3NBbW91bnQpewogICAgICAgICAgICBfZmluaXNoVGdlKCk7CiAgICAgICAgfQogICAgICAgIHVpbnQgcmVmdW5kQW1vdW50ID0gMDsKICAgICAgICB1aW50IHNlbmRlckFtb3VudCA9IG1zZy52YWx1ZTsKICAgICAgICBpZih0Z2VTZXR0aW5nc0Ftb3VudENvbGxlY3QuYWRkKG1zZy52YWx1ZSkgPj0gdGdlU2V0dGluZ3NBbW91bnQpewogICAgICAgICAgICByZWZ1bmRBbW91bnQgPSB0Z2VTZXR0aW5nc0Ftb3VudENvbGxlY3QuYWRkKG1zZy52YWx1ZSkuc3ViKHRnZVNldHRpbmdzQW1vdW50KTsKICAgICAgICAgICAgc2VuZGVyQW1vdW50ID0gKG1zZy52YWx1ZSkuc3ViKHJlZnVuZEFtb3VudCk7CiAgICAgICAgfQogICAgICAgIHVpbnQgc3RhZ2UgPSBibG9jay5udW1iZXIuc3ViKHRnZVN0YXJ0QmxvY2spLmRpdih0Z2VTZXR0aW5nc0Jsb2Nrc1BlclN0YWdlKTsgICAgICAgIAogICAgICAgIAogICAgICAgIHVpbnQgY3VycmVudFBhcnRJbnZlc3RvciA9IHRnZVNldHRpbmdzUGFydEludmVzdG9yLmFkZChzdGFnZS5tdWwodGdlU2V0dGluZ3NQYXJ0SW52ZXN0b3JJbmNyZWFzZVBlclN0YWdlKSk7CiAgICAgICAgdWludCBhbGxTdGFrZXMgPSBjdXJyZW50UGFydEludmVzdG9yLmFkZCh0Z2VTZXR0aW5nc1BhcnRQcm9qZWN0KS5hZGQodGdlU2V0dGluZ3NQYXJ0Rm91bmRlcnMpOwogICAgICAgIHVpbnQgYW1vdW50UHJvamVjdCA9IHNlbmRlckFtb3VudC5tdWwodGdlU2V0dGluZ3NQYXJ0UHJvamVjdCkuZGl2KGFsbFN0YWtlcyk7CiAgICAgICAgdWludCBhbW91bnRGb3VuZGVycyA9IHNlbmRlckFtb3VudC5tdWwodGdlU2V0dGluZ3NQYXJ0Rm91bmRlcnMpLmRpdihhbGxTdGFrZXMpOwogICAgICAgIHVpbnQgYW1vdW50U2VuZGVyID0gc2VuZGVyQW1vdW50LnN1YihhbW91bnRQcm9qZWN0KS5zdWIoYW1vdW50Rm91bmRlcnMpOwogICAgICAgIF9taW50KGFtb3VudFByb2plY3QsIGFtb3VudEZvdW5kZXJzLCBhbW91bnRTZW5kZXIpOwogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIocmVmdW5kQW1vdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRGaW5pc2hlZCgpIHB1YmxpYyBvbmx5KHByb2plY3RXYWxsZXQpIGlzTm90RnJvemVuT25seSBpc1RnZUxpdmUgewogICAgICAgIGlmKGJhbGFuY2VzW3Byb2plY3RXYWxsZXRdID4gMSpCSVQpewogICAgICAgICAgICBfZmluaXNoVGdlKCk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHVwZGF0ZVN0YXR1cygpIHB1YmxpYyB7CiAgICAgICAgaWYgKHRvdGFsU3VwcGx5ID4gQklUKSB7CiAgICAgICAgICAgIHVpbnQgc3RhZ2UgPSBibG9jay5udW1iZXIuc3ViKHRnZVN0YXJ0QmxvY2spLmRpdih0Z2VTZXR0aW5nc0Jsb2Nrc1BlclN0YWdlKTsKICAgICAgICAgICAgaWYgKHN0YWdlID4gdGdlU2V0dGluZ3NNYXhTdGFnZXMpIHsKICAgICAgICAgICAgICAgIHRnZUxpdmUgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvLy8gQGRldiBTdGFydCBuZXcgdGdlIHN0YWdlCiAgICBmdW5jdGlvbiB0Z2VTZXRMaXZlKCkgcHVibGljIG9ubHkocHJvamVjdFdhbGxldCkgaXNOb3RUZ2VMaXZlIGlzTm90RnJvemVuT25seSB7CiAgICAgICAgX2ludGVybmFsVGdlU2V0TGl2ZSgpOwogICAgfQoKICAgIC8vLyBAZGV2IEJ1cm4gdG9rZW5zIHRvIGJ1cm5BZGRyZXNzIGZyb20gbXNnLnNlbmRlciB3YWxsZXQKICAgIC8vLyBAcGFyYW0gX2Ftb3VudCBBbW91bnQgb2YgdG9rZW5zCiAgICBmdW5jdGlvbiBidXJuKHVpbnQgX2Ftb3VudCkgcHVibGljIGlzTm90RnJvemVuT25seSBub0FueVJlZW50cmFuY3kgcmV0dXJucyhib29sIF9zdWNjZXNzKSB7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbYnVybkFkZHJlc3NdID0gYmFsYW5jZXNbYnVybkFkZHJlc3NdLmFkZChfYW1vdW50KTsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YihfYW1vdW50KTsKICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIGJ1cm5BZGRyZXNzLCBfYW1vdW50KTsKICAgICAgICBCdXJuKGJ1cm5BZGRyZXNzLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLy8gQGRldiBfZm91bmRlcnNXYWxsZXQgV2FsbGV0IG9mIGZvdW5kZXJzCiAgICAvLy8gQHBhcmFtIGRlc3RzIGFycmF5IG9mIGFkZHJlc3NlcyAKICAgIC8vLyBAcGFyYW0gdmFsdWVzIGFycmF5IGFtb3VudCBvZiB0b2tlbnMgdG8gdHJhbnNmZXIgICAgCiAgICBmdW5jdGlvbiBtdWx0aVRyYW5zZmVyKGFkZHJlc3NbXSBkZXN0cywgdWludFtdIHZhbHVlcykgcHVibGljIGlzTm90RnJvemVuT25seSByZXR1cm5zKHVpbnQpIHsKICAgICAgICB1aW50IGkgPSAwOwogICAgICAgIHdoaWxlIChpIDwgZGVzdHMubGVuZ3RoKSB7CiAgICAgICAgICAgdHJhbnNmZXIoZGVzdHNbaV0sIHZhbHVlc1tpXSk7CiAgICAgICAgICAgaSArPSAxOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaTsKICAgIH0KCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0gRlJPWkVOIC0tLS0tLS0tLS0tLS0tLS0tCgogICAgLy8vIEBkZXYgQWxsb3dzIGFuIG93bmVyIHRvIGNvbmZpcm0gZnJlZXplbmcgcHJvY2VzcwogICAgZnVuY3Rpb24gc2V0RnJlZXplKCkgcHVibGljIG9ubHkocHJvamVjdFdhbGxldCkgaXNOb3RGcm96ZW5Pbmx5IHJldHVybnMgKGJvb2wpIHsKICAgICAgICBpc0Zyb3plbiA9IHRydWU7CiAgICAgICAgdG90YWxJbnZTdXBwbHkgPSBhZGRyZXNzKHRoaXMpLmJhbGFuY2U7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBkZXYgQWxsb3dzIHRvIHVzZXJzIHdpdGhkcmF3IGV0aCBpbiBmcm96ZW4gc3RhZ2UgCiAgICBmdW5jdGlvbiB3aXRoZHJhd0Zyb3plbigpIHB1YmxpYyBpc0Zyb3plbk9ubHkgbm9BbnlSZWVudHJhbmN5IHsKICAgICAgICByZXF1aXJlKGludkJhbGFuY2VzW21zZy5zZW5kZXJdID4gMCk7CiAgICAgICAgdWludCBhbW91bnRXaXRoZHJhdyA9IHRvdGFsSW52U3VwcGx5Lm11bChpbnZCYWxhbmNlc1ttc2cuc2VuZGVyXSkuZGl2KHRvdGFsU3VwcGx5KTsgICAgICAgIAogICAgICAgIGludkJhbGFuY2VzW21zZy5zZW5kZXJdID0gMDsKICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGFtb3VudFdpdGhkcmF3KTsKICAgIH0KCiAgICAvLy8gQGRldiBBbGxvd3MgYW4gb3duZXIgdG8gY29uZmlybSBhIGNoYW5nZSBzZXR0aW5ncyByZXF1ZXN0LgogICAgZnVuY3Rpb24gZXhlY3V0ZVNldHRpbmdzQ2hhbmdlKAogICAgICAgIHVpbnQgYW1vdW50LCAKICAgICAgICB1aW50IHBhcnRJbnZlc3RvciwKICAgICAgICB1aW50IHBhcnRQcm9qZWN0LCAKICAgICAgICB1aW50IHBhcnRGb3VuZGVycywgCiAgICAgICAgdWludCBibG9ja3NQZXJTdGFnZSwgCiAgICAgICAgdWludCBwYXJ0SW52ZXN0b3JJbmNyZWFzZVBlclN0YWdlLAogICAgICAgIHVpbnQgbWF4U3RhZ2VzCiAgICApIAogICAgcHVibGljCiAgICBvbmx5KHByb2plY3RXYWxsZXQpCiAgICBpc05vdFRnZUxpdmUgCiAgICBpc05vdEZyb3plbk9ubHkKICAgIHJldHVybnMoYm9vbCBzdWNjZXNzKSAKICAgIHsKICAgICAgICB0Z2VTZXR0aW5nc0Ftb3VudCA9IGFtb3VudDsKICAgICAgICB0Z2VTZXR0aW5nc1BhcnRJbnZlc3RvciA9IHBhcnRJbnZlc3RvcjsKICAgICAgICB0Z2VTZXR0aW5nc1BhcnRQcm9qZWN0ID0gcGFydFByb2plY3Q7CiAgICAgICAgdGdlU2V0dGluZ3NQYXJ0Rm91bmRlcnMgPSBwYXJ0Rm91bmRlcnM7CiAgICAgICAgdGdlU2V0dGluZ3NCbG9ja3NQZXJTdGFnZSA9IGJsb2Nrc1BlclN0YWdlOwogICAgICAgIHRnZVNldHRpbmdzUGFydEludmVzdG9ySW5jcmVhc2VQZXJTdGFnZSA9IHBhcnRJbnZlc3RvckluY3JlYXNlUGVyU3RhZ2U7CiAgICAgICAgdGdlU2V0dGluZ3NNYXhTdGFnZXMgPSBtYXhTdGFnZXM7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8tLS0tLS0tLS0tLS0tLS0tIEdFVFRFUlMgLS0tLS0tLS0tLS0tLS0tLQogICAgLy8vIEBkZXYgQW1vdW50IG9mIGJsb2NrcyBsZWZ0IHRvIHRoZSBlbmQgb2YgdGhpcyBzdGFnZSBvZiBUR0UgCiAgICBmdW5jdGlvbiB0Z2VTdGFnZUJsb2NrTGVmdCgpIHB1YmxpYyB2aWV3IGlzVGdlTGl2ZSByZXR1cm5zKHVpbnQpIHsKICAgICAgICB1aW50IHN0YWdlID0gYmxvY2subnVtYmVyLnN1Yih0Z2VTdGFydEJsb2NrKS5kaXYodGdlU2V0dGluZ3NCbG9ja3NQZXJTdGFnZSk7CiAgICAgICAgcmV0dXJuIHRnZVN0YXJ0QmxvY2suYWRkKHN0YWdlLm11bCh0Z2VTZXR0aW5nc0Jsb2Nrc1BlclN0YWdlKSkuc3ViKGJsb2NrLm51bWJlcik7CiAgICB9CgogICAgZnVuY3Rpb24gdGdlQ3VycmVudFBhcnRJbnZlc3RvcigpIHB1YmxpYyB2aWV3IGlzVGdlTGl2ZSByZXR1cm5zKHVpbnQpIHsKICAgICAgICB1aW50IHN0YWdlID0gYmxvY2subnVtYmVyLnN1Yih0Z2VTdGFydEJsb2NrKS5kaXYodGdlU2V0dGluZ3NCbG9ja3NQZXJTdGFnZSk7CiAgICAgICAgcmV0dXJuIHRnZVNldHRpbmdzUGFydEludmVzdG9yLmFkZChzdGFnZS5tdWwodGdlU2V0dGluZ3NQYXJ0SW52ZXN0b3JJbmNyZWFzZVBlclN0YWdlKSk7CiAgICB9CgogICAgZnVuY3Rpb24gdGdlTmV4dFBhcnRJbnZlc3RvcigpIHB1YmxpYyB2aWV3IGlzVGdlTGl2ZSByZXR1cm5zKHVpbnQpIHsKICAgICAgICB1aW50IHN0YWdlID0gYmxvY2subnVtYmVyLnN1Yih0Z2VTdGFydEJsb2NrKS5kaXYodGdlU2V0dGluZ3NCbG9ja3NQZXJTdGFnZSkuYWRkKDEpOyAgICAgICAgCiAgICAgICAgcmV0dXJuIHRnZVNldHRpbmdzUGFydEludmVzdG9yLmFkZChzdGFnZS5tdWwodGdlU2V0dGluZ3NQYXJ0SW52ZXN0b3JJbmNyZWFzZVBlclN0YWdlKSk7CiAgICB9CgogICAgLy8tLS0tLS0tLS0tLS0tLS0tIElOVEVSTkFMIC0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gX2ZpbmlzaFRnZSgpIGludGVybmFsIHsKICAgICAgICB0Z2VMaXZlID0gZmFsc2U7CiAgICB9CgogICAgZnVuY3Rpb24gX21pbnQodWludCBfYW1vdW50UHJvamVjdCwgdWludCBfYW1vdW50Rm91bmRlcnMsIHVpbnQgX2Ftb3VudFNlbmRlcikgaW50ZXJuYWwgewogICAgICAgIGJhbGFuY2VzW3Byb2plY3RXYWxsZXRdID0gYmFsYW5jZXNbcHJvamVjdFdhbGxldF0uYWRkKF9hbW91bnRQcm9qZWN0KTsKICAgICAgICBiYWxhbmNlc1tmb3VuZGVyc1dhbGxldF0gPSBiYWxhbmNlc1tmb3VuZGVyc1dhbGxldF0uYWRkKF9hbW91bnRGb3VuZGVycyk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQoX2Ftb3VudFNlbmRlcik7CiAgICAgICAgaW52QmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBpbnZCYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQoX2Ftb3VudFNlbmRlcik7CiAgICAgICAgdGdlU2V0dGluZ3NBbW91bnRDb2xsZWN0ID0gdGdlU2V0dGluZ3NBbW91bnRDb2xsZWN0LmFkZChfYW1vdW50UHJvamVjdCtfYW1vdW50Rm91bmRlcnMrX2Ftb3VudFNlbmRlcik7CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX2Ftb3VudFByb2plY3QrX2Ftb3VudEZvdW5kZXJzK19hbW91bnRTZW5kZXIpOwogICAgICAgIFRyYW5zZmVyKDB4MCwgbXNnLnNlbmRlciwgX2Ftb3VudFNlbmRlcik7CiAgICAgICAgVHJhbnNmZXIoMHgwLCBwcm9qZWN0V2FsbGV0LCBfYW1vdW50UHJvamVjdCk7CiAgICAgICAgVHJhbnNmZXIoMHgwLCBmb3VuZGVyc1dhbGxldCwgX2Ftb3VudEZvdW5kZXJzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfaW50ZXJuYWxUZ2VTZXRMaXZlKCkgaW50ZXJuYWwgewogICAgICAgIHRnZUxpdmUgPSB0cnVlOwogICAgICAgIHRnZVN0YXJ0QmxvY2sgPSBibG9jay5udW1iZXI7CiAgICAgICAgdGdlU2V0dGluZ3NBbW91bnRDb2xsZWN0ID0gMDsKICAgIH0KCn0='.
	

]
