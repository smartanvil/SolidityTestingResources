Class {
	#name : #SRTd68cb2a1f51171c295cac3a7d27c15068922de8a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd68cb2a1f51171c295cac3a7d27c15068922de8a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9Cgp9CgovKioKICogQHRpdGxlIERpc3RyaWJ1dGFibGUKICogQGRldiBUaGUgRGlzdHJpYnV0aW9uIGNvbnRyYWN0IGhhcyBtdWx0aSBkZWFsZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgRGlzdHJpYnV0YWJsZSBpcyBPd25hYmxlIHsKICBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGRlYWxlcnNoaXA7CiAgZXZlbnQgVHJ1c3QoYWRkcmVzcyBkZWFsZXIpOwogIGV2ZW50IERpc3RydXN0KGFkZHJlc3MgZGVhbGVyKTsKCiAgbW9kaWZpZXIgb25seURlYWxlcnMoKSB7CiAgICByZXF1aXJlKGRlYWxlcnNoaXBbbXNnLnNlbmRlcl0pOwogICAgXzsKICB9CgogIGZ1bmN0aW9uIHRydXN0KGFkZHJlc3MgbmV3RGVhbGVyKSBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdEZWFsZXIgIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKCFkZWFsZXJzaGlwW25ld0RlYWxlcl0pOwogICAgZGVhbGVyc2hpcFtuZXdEZWFsZXJdID0gdHJ1ZTsKICAgIFRydXN0KG5ld0RlYWxlcik7CiAgfQoKICBmdW5jdGlvbiBkaXN0cnVzdChhZGRyZXNzIGRlYWxlcikgb25seU93bmVyIHsKICAgIHJlcXVpcmUoZGVhbGVyc2hpcFtkZWFsZXJdKTsKICAgIGRlYWxlcnNoaXBbZGVhbGVyXSA9IGZhbHNlOwogICAgRGlzdHJ1c3QoZGVhbGVyKTsKICB9Cgp9CgoKY29udHJhY3QgUGF1c2FibGUgaXMgT3duYWJsZSB7CiAgZXZlbnQgUGF1c2UoKTsKICBldmVudCBVbnBhdXNlKCk7CgogIGJvb2wgcHVibGljIHBhdXNlZCA9IGZhbHNlOwoKCiAgLyoqCiAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgcGF1c2VkCiAgICovCiAgbW9kaWZpZXIgd2hlbk5vdFBhdXNlZCgpIHsKICAgIHJlcXVpcmUoIXBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgTk9UIHBhdXNlZAogICAqLwogIG1vZGlmaWVyIHdoZW5QYXVzZWQgewogICAgcmVxdWlyZShwYXVzZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byBwYXVzZSwgdHJpZ2dlcnMgc3RvcHBlZCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHBhdXNlKCkgb25seU93bmVyIHdoZW5Ob3RQYXVzZWQgcmV0dXJucyAoYm9vbCkgewogICAgcGF1c2VkID0gdHJ1ZTsKICAgIFBhdXNlKCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byB1bnBhdXNlLCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHVucGF1c2UoKSBvbmx5T3duZXIgd2hlblBhdXNlZCByZXR1cm5zIChib29sKSB7CiAgICBwYXVzZWQgPSBmYWxzZTsKICAgIFVucGF1c2UoKTsKICAgIHJldHVybiB0cnVlOwogIH0KfQoKCgoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLgogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAvLyByZXF1aXJlIChfdmFsdWUgPD0gX2FsbG93YW5jZSk7CgogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKCiAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICByZXF1aXJlKChfdmFsdWUgPT0gMCkgfHwgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKCiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9Cgp9CgoKY29udHJhY3QgRGlzdHJpYnV0aW9uVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgRGlzdHJpYnV0YWJsZSB7CiAgZXZlbnQgTWludChhZGRyZXNzIGluZGV4ZWQgZGVhbGVyLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGRlYWxlciwgYWRkcmVzcyBpbmRleGVkIGZyb20sIHVpbnQyNTYgdmFsdWUpOwoKICAgLyoqCiAgICogQGRldiB0byBtaW50IHRva2VucwogICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdGhhdCB3aWxsIHJlY2lldmUgdGhlIG1pbnRlZCB0b2tlbnMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBtaW50LgogICAqIEByZXR1cm4gQSBib29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICovCiAgZnVuY3Rpb24gbWludChhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIG9ubHlEZWFsZXJzIHJldHVybnMgKGJvb2wpIHsKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIE1pbnQobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgVHJhbnNmZXIoYWRkcmVzcygwKSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKCiAgZnVuY3Rpb24gYnVybihhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSkgb25seURlYWxlcnMgcmV0dXJucyAoYm9vbCkgewogICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIEJ1cm4obXNnLnNlbmRlciwgX2Zyb20sIF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgYWRkcmVzcygwKSwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KfQoKCmNvbnRyYWN0IEV2ZXJGb3VudGFpbkJlYW5TYWxlIGlzIE93bmFibGUsIFBhdXNhYmxlLCBEaXN0cmlidXRhYmxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICBldmVudCBTYWxlKGFkZHJlc3MgaW5kZXhlZCBjdXN0b21lciwgdWludDI1NiB2YWx1ZSwgdWludDI1NiBhbW91bnQsIHVpbnQyNTYgY29uc3VtZSwgc3RyaW5nIG9yZGVyLCB1aW50MjU2IHJld2FyZCk7CiAgc3RydWN0IEZsZXhpYmxlUmV3YXJkIHsKICAgIHVpbnQyNTYgcGVyY2VudGFnZTsKICAgIHVpbnQyNTYgbGltaXQ7CiAgfQoKICB1aW50MjU2IHB1YmxpYyB0b3RhbFNhbGVzOwogIHVpbnQyNTYgcHVibGljIHRvdGFsUmV3YXJkOwogIHVpbnQyNTYgcHVibGljIHRvdGFsQ29uc3VtZTsKICBGbGV4aWJsZVJld2FyZFtdIHB1YmxpYyBmbGV4aWJsZVJld2FyZExldmVsOwogIHVpbnQyNTYgZmxleGlibGVSZXdhcmRJbmRleCA9IDA7CgogIC8vIGFkZHJlc3Mgd2hlcmUgZnVuZHMgYXJlIGNvbGxlY3RlZAogIGFkZHJlc3MgcHVibGljIHdhbGxldDsKCiAgLy8gaG93IG1hbnkgdG9rZW4gdW5pdHMgYSBidXllciBnZXRzIHBlciB3ZWkKICB1aW50MjU2IHB1YmxpYyByYXRlOwoKICB1aW50MjU2IHB1YmxpYyB3ZWlSYWlzZWQ7CgogIERpc3RyaWJ1dGlvblRva2VuIHB1YmxpYyB0b2tlbjsKCiAgZnVuY3Rpb24gRXZlckZvdW50YWluQmVhblNhbGUoRGlzdHJpYnV0aW9uVG9rZW4gX3Rva2VuLCB1aW50MjU2IF9yYXRlLCBhZGRyZXNzIF93YWxsZXQpewogICAgcmVxdWlyZShfdG9rZW4gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF9yYXRlID4gMCk7CiAgICByZXF1aXJlKF93YWxsZXQgIT0gYWRkcmVzcygwKSk7CiAgICB0b2tlbiA9IF90b2tlbjsKICAgIHdhbGxldCA9IF93YWxsZXQ7CiAgICByYXRlID0gX3JhdGU7CgogICAgZmxleGlibGVSZXdhcmRMZXZlbC5wdXNoKEZsZXhpYmxlUmV3YXJkKHsgbGltaXQ6MTAwMDAwMCwgcGVyY2VudGFnZToxNX0pKTsKICAgIGZsZXhpYmxlUmV3YXJkTGV2ZWwucHVzaChGbGV4aWJsZVJld2FyZCh7IGxpbWl0OjMwMDAwMDAsIHBlcmNlbnRhZ2U6MTN9KSk7CiAgICBmbGV4aWJsZVJld2FyZExldmVsLnB1c2goRmxleGlibGVSZXdhcmQoeyBsaW1pdDo2MDAwMDAwLCBwZXJjZW50YWdlOjExfSkpOwogICAgZmxleGlibGVSZXdhcmRMZXZlbC5wdXNoKEZsZXhpYmxlUmV3YXJkKHsgbGltaXQ6MTAwMDAwMDAsIHBlcmNlbnRhZ2U6OX0pKTsKICAgIGZsZXhpYmxlUmV3YXJkTGV2ZWwucHVzaChGbGV4aWJsZVJld2FyZCh7IGxpbWl0OjE1MDAwMDAwLCBwZXJjZW50YWdlOjd9KSk7CiAgICBmbGV4aWJsZVJld2FyZExldmVsLnB1c2goRmxleGlibGVSZXdhcmQoeyBsaW1pdDoyMTAwMDAwMCwgcGVyY2VudGFnZTo1fSkpOwogICAgZmxleGlibGVSZXdhcmRMZXZlbC5wdXNoKEZsZXhpYmxlUmV3YXJkKHsgbGltaXQ6MCwgcGVyY2VudGFnZTowfSkpOwogICAgdHJ1c3QobXNnLnNlbmRlcik7CiAgfQoKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIHRva2VuLmJhbGFuY2VPZihfb3duZXIpOwogIH0KCiAgZnVuY3Rpb24gY2FsY0ZsZXhpYmxlUmV3YXJkKHVpbnQyNTYgYW1vdW50KSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJld2FyZCl7CiAgICBGbGV4aWJsZVJld2FyZCBtZW1vcnkgbGV2ZWwgPSBmbGV4aWJsZVJld2FyZExldmVsW2ZsZXhpYmxlUmV3YXJkSW5kZXhdOwogICAgaWYgKGxldmVsLmxpbWl0ID09IDApIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBGbGV4aWJsZVJld2FyZCBtZW1vcnkgbmV4dExldmVsID0gZmxleGlibGVSZXdhcmRMZXZlbFtmbGV4aWJsZVJld2FyZEluZGV4ICsgMV07CiAgICB1aW50MjU2IGZ1dHVyZVRvdGFsU2FsZXMgPSB0b3RhbFNhbGVzLmFkZChhbW91bnQpOwogICAgdWludDI1NiBiZW5lZml0OwogICAgaWYgKG5leHRMZXZlbC5saW1pdCA9PSAwKSB7CiAgICAgIGlmIChsZXZlbC5saW1pdCA+PSBmdXR1cmVUb3RhbFNhbGVzKSB7CiAgICAgICAgcmV0dXJuIGFtb3VudC5tdWwobGV2ZWwucGVyY2VudGFnZSkuZGl2KDEwMCk7CiAgICAgIH0KICAgICAgYmVuZWZpdCA9IGxldmVsLmxpbWl0LnN1Yih0b3RhbFNhbGVzKTsKICAgICAgcmV0dXJuIGJlbmVmaXQubXVsKGxldmVsLnBlcmNlbnRhZ2UpLmRpdigxMDApOwogICAgfQoKICAgIHJlcXVpcmUobmV4dExldmVsLmxpbWl0ID4gZnV0dXJlVG90YWxTYWxlcyk7CgogICAgaWYgKGxldmVsLmxpbWl0ID49IGZ1dHVyZVRvdGFsU2FsZXMpIHsKICAgICAgcmV0dXJuIGFtb3VudC5tdWwobGV2ZWwucGVyY2VudGFnZSkuZGl2KDEwMCk7CiAgICB9CgogICAgYmVuZWZpdCA9IGxldmVsLmxpbWl0LnN1Yih0b3RhbFNhbGVzKTsKICAgIHVpbnQyNTYgbmV4dEJlbmVmaXQgPSBhbW91bnQuc3ViKGJlbmVmaXQpOwogICAgcmV0dXJuIGJlbmVmaXQubXVsKGxldmVsLnBlcmNlbnRhZ2UpLmRpdigxMDApLmFkZChuZXh0QmVuZWZpdC5tdWwobmV4dExldmVsLnBlcmNlbnRhZ2UpLmRpdigxMDApKTsKCiAgfQoKICBmdW5jdGlvbiBjYWxjRml4ZWRSZXdhcmQodWludDI1NiBhbW91bnQpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmV3YXJkKXsKICAgIHVpbnQyNTYgbGVzczYwMDBSZXdhcmQgPSAwOwogICAgdWludDI1NiBsZXNzMjQwMDBQZXJjZW50YWdlID0gNTsKICAgIHVpbnQyNTYgbW9zdFBlcmNlbnRhZ2UgPSAxNTsKCiAgICBpZiAoYW1vdW50IDwgNjAwMCkgewogICAgICByZXR1cm4gbGVzczYwMDBSZXdhcmQ7CiAgICB9CgogICAgaWYgKGFtb3VudCA8IDI0MDAwKSB7CiAgICAgIHJldHVybiBhbW91bnQubXVsKGxlc3MyNDAwMFBlcmNlbnRhZ2UpLmRpdigxMDApOwogICAgfQoKICAgIHJldHVybiBhbW91bnQubXVsKG1vc3RQZXJjZW50YWdlKS5kaXYoMTAwKTsKICB9CgogIGZ1bmN0aW9uIGNhbGNSZXdhcmQodWludDI1NiBhbW91bnQpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmV3YXJkKXsKICAgIHJldHVybiBjYWxjRml4ZWRSZXdhcmQoYW1vdW50KS5hZGQoY2FsY0ZsZXhpYmxlUmV3YXJkKGFtb3VudCkpOwogIH0KCiAgZnVuY3Rpb24gZmxleGlibGVSZXdhcmQoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHBlcmNlbnRhZ2UsIHVpbnQgbGltaXQpewogICAgRmxleGlibGVSZXdhcmQgbWVtb3J5IGxldmVsID0gZmxleGlibGVSZXdhcmRMZXZlbFtmbGV4aWJsZVJld2FyZEluZGV4XTsKICAgIHJldHVybiAobGV2ZWwucGVyY2VudGFnZSwgbGV2ZWwubGltaXQpOwogIH0KCiAgZnVuY3Rpb24gbmV4dEZsZXhpYmxlUmV3YXJkKCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBwZXJjZW50YWdlLCB1aW50IGxpbWl0KXsKICAgIEZsZXhpYmxlUmV3YXJkIG1lbW9yeSBuZXh0TGV2ZWwgPSBmbGV4aWJsZVJld2FyZExldmVsW2ZsZXhpYmxlUmV3YXJkSW5kZXgrMV07CiAgICByZXR1cm4gKG5leHRMZXZlbC5wZXJjZW50YWdlLCBuZXh0TGV2ZWwubGltaXQpOwogIH0KCiAgZnVuY3Rpb24gc2V0UmF0ZSh1aW50MjU2IF9yYXRlKSBvbmx5RGVhbGVycyByZXR1cm5zKGJvb2wpIHsKICAgIHJlcXVpcmUoX3JhdGUgPiAwKTsKICAgIHJhdGUgPSBfcmF0ZTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gZGVzdHJveSgpIG9ubHlPd25lciB7CiAgICBzZWxmZGVzdHJ1Y3Qob3duZXIpOwogIH0KCiAgZnVuY3Rpb24gY2hhbmdlV2FsbGV0KGFkZHJlc3MgX3dhbGxldCkgb25seU93bmVyIHJldHVybnMoYm9vbCkgewogICAgcmVxdWlyZShfd2FsbGV0ICE9IGFkZHJlc3MoMCkpOwogICAgd2FsbGV0ID0gX3dhbGxldDsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gdHJhZGUodWludDI1NiBhbW91bnQsIHVpbnQyNTYgY29uc3VtZSwgc3RyaW5nIG9yZGVyKSBwYXlhYmxlIHdoZW5Ob3RQYXVzZWQgcmV0dXJucyhib29sKXsKICAgIHJlcXVpcmUoYnl0ZXMob3JkZXIpLmxlbmd0aCA+IDApOwogICAgdWludDI1NiBiYWxhbmNlOwogICAgaWYgKG1zZy52YWx1ZSA9PSAwKSB7CiAgICAgIC8vb25seSBjb25zdW1lCiAgICAgIHJlcXVpcmUoY29uc3VtZSA+IDApOwogICAgICByZXF1aXJlKGFtb3VudCA9PSAwKTsKICAgICAgYmFsYW5jZSA9IHRva2VuLmJhbGFuY2VPZihtc2cuc2VuZGVyKTsKICAgICAgcmVxdWlyZShiYWxhbmNlID49IGNvbnN1bWUpOwogICAgICB0b3RhbENvbnN1bWUgPSB0b3RhbENvbnN1bWUuYWRkKGNvbnN1bWUpOwogICAgICB0b2tlbi5idXJuKG1zZy5zZW5kZXIsIGNvbnN1bWUpOwogICAgICBTYWxlKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgYW1vdW50LCBjb25zdW1lLCBvcmRlciwgMCk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHJlcXVpcmUoYW1vdW50ID4gMCk7CiAgICB1aW50MjU2IHNhbGVzID0gbXNnLnZhbHVlLmRpdihyYXRlKTsKICAgIHJlcXVpcmUoc2FsZXMgPT0gYW1vdW50KTsKICAgIHRvdGFsU2FsZXMgPSB0b3RhbFNhbGVzLmFkZChzYWxlcyk7CiAgICB1aW50MjU2IHJld2FyZCA9IGNhbGNSZXdhcmQoc2FsZXMpOwogICAgdG90YWxSZXdhcmQgPSB0b3RhbFJld2FyZC5hZGQocmV3YXJkKTsKICAgIEZsZXhpYmxlUmV3YXJkIG1lbW9yeSBsZXZlbCA9IGZsZXhpYmxlUmV3YXJkTGV2ZWxbZmxleGlibGVSZXdhcmRJbmRleF07CiAgICBpZiAobGV2ZWwubGltaXQ+MCAmJiB0b3RhbFNhbGVzID49IGxldmVsLmxpbWl0KSB7CiAgICAgIGZsZXhpYmxlUmV3YXJkSW5kZXggPSBmbGV4aWJsZVJld2FyZEluZGV4ICsgMTsKICAgIH0KICAgIHVpbnQyNTYgZ2FpbiA9IHNhbGVzLmFkZChyZXdhcmQpOwoKICAgIGlmIChjb25zdW1lID09IDApIHsKICAgICAgLy9vbmx5IHNhbGUgdG9rZW4KICAgICAgdG9rZW4ubWludChtc2cuc2VuZGVyLCBnYWluKTsKCiAgICAgIHdlaVJhaXNlZCA9IHdlaVJhaXNlZC5hZGQobXNnLnZhbHVlKTsKICAgICAgd2FsbGV0LnRyYW5zZmVyKG1zZy52YWx1ZSk7CgogICAgICBTYWxlKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgYW1vdW50LCBjb25zdW1lLCBvcmRlciwgcmV3YXJkKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgYmFsYW5jZSA9IHRva2VuLmJhbGFuY2VPZihtc2cuc2VuZGVyKTsKICAgIHVpbnQyNTYgZnV0dXJlQmFsYW5jZSA9IGJhbGFuY2UuYWRkKGdhaW4pOwogICAgcmVxdWlyZShmdXR1cmVCYWxhbmNlID49IGNvbnN1bWUpOwoKICAgIHRvdGFsQ29uc3VtZSA9IHRvdGFsQ29uc3VtZS5hZGQoY29uc3VtZSk7CiAgICB0b2tlbi5taW50KG1zZy5zZW5kZXIsIGdhaW4pOwogICAgdG9rZW4uYnVybihtc2cuc2VuZGVyLCBjb25zdW1lKTsKCiAgICB3ZWlSYWlzZWQgPSB3ZWlSYWlzZWQuYWRkKG1zZy52YWx1ZSk7CiAgICB3YWxsZXQudHJhbnNmZXIobXNnLnZhbHVlKTsKCiAgICBTYWxlKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgYW1vdW50LCBjb25zdW1lLCBvcmRlciwgcmV3YXJkKTsKICAgIHJldHVybiB0cnVlOwogIH0KCn0='.
	

]
