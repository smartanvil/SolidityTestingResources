Class {
	#name : #SRT2d4b1cc9a2d7417a9689bbcfefb224876cda7923,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT2d4b1cc9a2d7417a9689bbcfefb224876cda7923 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKgoqIExPSyAnTG9va1JldiBUb2tlbicgY3Jvd2RmdW5kaW5nIGNvbnRyYWN0CioKKiBSZWZlciB0byBodHRwczovL2xvb2tyZXYuY29tLyBmb3IgZnVydGhlciBpbmZvcm1hdGlvbi4KKiAKKiBEZXZlbG9wZXI6IExvb2tSZXYgKFRNKSAyMDE3LgoqCiogQXVkaXRlZCBieSBCb2treVBvb0JhaCAvIEJvayBDb25zdWx0aW5nIFB0eSBMdGQgMjAxNy4KKiAKKiBUaGUgTUlUIExpY2Vuc2UuCioKKi8KCi8qCiAqIEVSQzIwIFRva2VuIFN0YW5kYXJkCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKgogKi8KY29udHJhY3QgRVJDMjAgewogIHVpbnQgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF93aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQgYmFsYW5jZSk7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IHJlbWFpbmluZyk7CgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50IF92YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50IF92YWx1ZSk7Cn0KCi8qKgogKiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzCiAqLwpjb250cmFjdCBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gc2FmZUFkZCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhICYmIGMgPj0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHNhZmVTdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgdWludCBjID0gYSAtIGI7CiAgICBhc3NlcnQoYyA8PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgYWRkcmVzcyBwdWJsaWMgbmV3T3duZXI7CgogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKICBtb2RpZmllciBvbmx5T3duZXIgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIF9uZXdPd25lcikgb25seU93bmVyIHsKICAgIGlmIChfbmV3T3duZXIgIT0gYWRkcmVzcygwKSkgewogICAgICBuZXdPd25lciA9IF9uZXdPd25lcjsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGFjY2VwdE93bmVyc2hpcCgpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBuZXdPd25lcik7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9CiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvKTsKfQoKLyoqCiAqIFN0YW5kYXJkIEVSQzIwIHRva2VuIHdpdGggU2hvcnQgSGFuZCBBdHRhY2sgYW5kIGFwcHJvdmUoKSByYWNlIGNvbmRpdGlvbiBtaXRpZ2F0aW9uLgogKgogKiBCYXNlZCBvbiBjb2RlIGJ5IEludmVzdFNlZWQKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIE93bmFibGUsIFNhZmVNYXRoIHsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSBhbGxvd2VkOwoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy8gYXZvaWQgd2FzdGluZyBnYXMgb24gMCB0b2tlbiB0cmFuc2ZlcnMKICAgICAgICBpZihfYW1vdW50ID09IDApIHJldHVybiB0cnVlOwoKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudAogICAgICAgICAgICAmJiBfYW1vdW50ID4gMAogICAgICAgICAgICAmJiBiYWxhbmNlc1tfdG9dICsgX2Ftb3VudCA+IGJhbGFuY2VzW190b10pIHsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzYWZlU3ViKGJhbGFuY2VzW21zZy5zZW5kZXJdLF9hbW91bnQpOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLF9hbW91bnQpOwogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF9hbW91bnQpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBhdm9pZCB3YXN0aW5nIGdhcyBvbiAwIHRva2VuIHRyYW5zZmVycwogICAgICAgIGlmKF9hbW91bnQgPT0gMCkgcmV0dXJuIHRydWU7CgogICAgICAgIGlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX2Ftb3VudAogICAgICAgICAgICAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfYW1vdW50CiAgICAgICAgICAgICYmIF9hbW91bnQgPiAwCiAgICAgICAgICAgICYmIGJhbGFuY2VzW190b10gKyBfYW1vdW50ID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBzYWZlU3ViKGJhbGFuY2VzW19mcm9tXSxfYW1vdW50KTsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBzYWZlU3ViKGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLF9hbW91bnQpOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLF9hbW91bnQpOwogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCiAgICAgICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgICAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgICAgIGlmICgoX3ZhbHVlICE9IDApICYmIChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSAhPSAwKSkgewogICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdIDwgX3ZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgfQoKICAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKSB7CiAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgICB9Cn0KCi8qKgogKiBMb29rUmV2IHRva2VuIGluaXRpYWwgb2ZmZXJpbmcuCiAqCiAqIFRva2VuIHN1cHBseSBpcyBjcmVhdGVkIGluIHRoZSB0b2tlbiBjb250cmFjdCBjcmVhdGlvbiBhbmQgYWxsb2NhdGVkIHRvIG93bmVyLgogKgogKi8KY29udHJhY3QgTG9va1JldlRva2VuIGlzIFN0YW5kYXJkVG9rZW4gewoKICAgIC8qCiAgICAqICBUb2tlbiBtZXRhIGRhdGEKICAgICovCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiTG9va1JldiI7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJMT0siOwogICAgdWludDggcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CiAgICBzdHJpbmcgcHVibGljIFZFUlNJT04gPSAnTE9LMS4yJzsKICAgIGJvb2wgcHVibGljIGZpbmFsaXNlZCA9IGZhbHNlOwogICAgCiAgICBhZGRyZXNzIHB1YmxpYyB3YWxsZXQgPSAweDA7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBreWNSZXF1aXJlZDsKCiAgICAvLyBTdGFydCAtIEZyaWRheSwgU2VwdGVtYmVyIDgsIDIwMTcgMzowMDowMCBQTSBVVEMgKDg6MDA6MDAgQU0gUERUIEdNVC0wNzowMCBEU1QpCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBTVEFSVF9EQVRFID0gMTUwNDg4MjgwMDsKICAgIC8vIDMwMDAgTE9LIFBlciBFVEggZm9yIHRoZSAxc3QgMjQgSG91cnMgLSBUaWxsIFNhdHVyZGF5LCBTZXB0ZW1iZXIgOSwgMjAxNyAzOjAwOjAwIFBNIFVUQyAoODowMDowMCBBTSBQRFQgR01ULTA3OjAwIERTVCkKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IEJPTlVTT05FX0RBVEUgPSAxNTA0OTY5MjAwOwogICAgLy8gMjcwMCBMT0sgUGVyIEVUSCBmb3IgdGhlIE5leHQgNDggSG91cnMgLSBUaWxsIE1vbmRheSwgU2VwdGVtYmVyIDExLCAyMDE3IDM6MDA6MDAgUE0gVVRDICg4OjAwOjAwIEFNIFBEVCBHTVQtMDc6MDAgRFNUKQogICAgdWludCBwdWJsaWMgY29uc3RhbnQgQk9OVVNUV09fREFURSA9IDE1MDUxNDIwMDA7CiAgICAvLyBSZWd1bGFyIFJhdGUgLSAyNDAwIExPSyBQZXIgRVRIIGZvciB0aGUgUmVtYWluaW5nIFBhcnQgb2YgdGhlIENyb3dkc2FsZQogICAgLy8gRW5kIC0gU3VuZGF5LCBPY3RvYmVyIDgsIDIwMTcgMzowMDowMCBQTSBVVEMgKDg6MDA6MDAgQU0gUERUIEdNVC0wNzowMCBEU1QpCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBFTkRfREFURSA9IDE1MDc0NzQ4MDA7CgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgREVDSU1BTFNGQUNUT1IgPSAxMCoqdWludChkZWNpbWFscyk7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBUT0tFTlNfU09GVF9DQVAgPSAgIDEwMDAwMDAwICogREVDSU1BTFNGQUNUT1I7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBUT0tFTlNfSEFSRF9DQVAgPSAyMDAwMDAwMDAwICogREVDSU1BTFNGQUNUT1I7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBUT0tFTlNfVE9UQUwgPSAgICA1MDAwMDAwMDAwICogREVDSU1BTFNGQUNUT1I7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBJTklUSUFMX1NVUFBMWSA9IDEwMDAwMDAwICogREVDSU1BTFNGQUNUT1I7CgogICAgLy8gMSBLRVRIRVIgPSAyLDQwMCwwMDAgdG9rZW5zCiAgICAvLyAxIEVUSCA9IDIsNDAwIHRva2VucwogICAgdWludCBwdWJsaWMgdG9rZW5zUGVyS0V0aGVyID0gMjQwMDAwMDsKICAgIHVpbnQgcHVibGljIENPTlRSSUJVVElPTlNfTUlOID0gMCBldGhlcjsKICAgIHVpbnQgcHVibGljIENPTlRSSUJVVElPTlNfTUFYID0gMCBldGhlcjsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IEtZQ19USFJFU0hPTEQgPSAxMDAgKiBERUNJTUFMU0ZBQ1RPUjsKCiAgICBmdW5jdGlvbiBMb29rUmV2VG9rZW4oKSB7CiAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgd2FsbGV0ID0gb3duZXI7CiAgICAgIHRvdGFsU3VwcGx5ID0gSU5JVElBTF9TVVBQTFk7CiAgICAgIGJhbGFuY2VzW293bmVyXSA9IHRvdGFsU3VwcGx5OwogICAgfQoKICAgLy8gTG9va1JldiBjYW4gY2hhbmdlIHRoZSBjcm93ZHNhbGUgd2FsbGV0IGFkZHJlc3MKICAgZnVuY3Rpb24gc2V0V2FsbGV0KGFkZHJlc3MgX3dhbGxldCkgb25seU93bmVyIHsKICAgICAgICB3YWxsZXQgPSBfd2FsbGV0OwogICAgICAgIFdhbGxldFVwZGF0ZWQod2FsbGV0KTsKICAgIH0KICAgIGV2ZW50IFdhbGxldFVwZGF0ZWQoYWRkcmVzcyBuZXdXYWxsZXQpOwoKICAgIC8vIEFjY2VwdCBldGhlcnMgdG8gYnV5IHRva2VucyBkdXJpbmcgdGhlIGNyb3dkc2FsZQogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7CiAgICAgICAgcHJveHlQYXltZW50KG1zZy5zZW5kZXIpOwogICAgfQoKICAgIC8vIEFjY2VwdCBldGhlcnMgYW5kIGV4Y2hhbmdlcyB0byBwdXJjaGFzZSB0b2tlbnMgb24gYmVoYWxmIG9mIHVzZXIKICAgIC8vIG1zZy52YWx1ZSAoaW4gdW5pdHMgb2Ygd2VpKQogICAgZnVuY3Rpb24gcHJveHlQYXltZW50KGFkZHJlc3MgcGFydGljaXBhbnQpIHBheWFibGUgewoKICAgICAgICByZXF1aXJlKCFmaW5hbGlzZWQpOwoKICAgICAgICByZXF1aXJlKG5vdyA8PSBFTkRfREFURSk7CgogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID4gQ09OVFJJQlVUSU9OU19NSU4pOwogICAgICAgIHJlcXVpcmUoQ09OVFJJQlVUSU9OU19NQVggPT0gMCB8fCBtc2cudmFsdWUgPCBDT05UUklCVVRJT05TX01BWCk7CgogICAgICAgICAvLyBBZGQgaW4gYm9udXMgZHVyaW5nIHRoZSBmaXJzdCAyNCBhbmQgNDggaG91cnMgb2YgdGhlIHRva2VuIHNhbGUKICAgICAgICAgaWYgKG5vdyA8IFNUQVJUX0RBVEUpIHsKICAgICAgICAgICAgdG9rZW5zUGVyS0V0aGVyID0gMjQwMDAwMDsKICAgICAgICAgfSBlbHNlIGlmIChub3cgPCBCT05VU09ORV9EQVRFKSB7CiAgICAgICAgICAgIHRva2Vuc1BlcktFdGhlciA9IDMwMDAwMDA7CiAgICAgICAgIH0gZWxzZSBpZiAobm93IDwgQk9OVVNUV09fREFURSkgewogICAgICAgICAgICB0b2tlbnNQZXJLRXRoZXIgPSAyNzAwMDAwOwogICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0b2tlbnNQZXJLRXRoZXIgPSAyNDAwMDAwOwogICAgICAgICB9CgogICAgICAgICAvLyBDYWxjdWxhdGUgbnVtYmVyIG9mIHRva2VucyBmb3IgY29udHJpYnV0ZWQgRVRICiAgICAgICAgIC8vIGAxOGAgaXMgdGhlIEVUSCBkZWNpbWFscwogICAgICAgICAvLyBgLSBkZWNpbWFsc2AgaXMgdGhlIHRva2VuIGRlY2ltYWxzCiAgICAgICAgIHVpbnQgdG9rZW5zID0gbXNnLnZhbHVlICogdG9rZW5zUGVyS0V0aGVyIC8gMTAqKnVpbnQoMTggLSBkZWNpbWFscyArIDMpOwoKICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGhhcmQgY2FwIHdpbGwgYmUgZXhjZWVkZWQKICAgICAgICAgcmVxdWlyZSh0b3RhbFN1cHBseSArIHRva2VucyA8PSBUT0tFTlNfSEFSRF9DQVApOwoKICAgICAgICAgLy8gQWRkIHRva2VucyBwdXJjaGFzZWQgdG8gYWNjb3VudCdzIGJhbGFuY2UgYW5kIHRvdGFsIHN1cHBseQogICAgICAgICBiYWxhbmNlc1twYXJ0aWNpcGFudF0gPSBzYWZlQWRkKGJhbGFuY2VzW3BhcnRpY2lwYW50XSx0b2tlbnMpOwogICAgICAgICB0b3RhbFN1cHBseSA9IHNhZmVBZGQodG90YWxTdXBwbHksdG9rZW5zKTsKCiAgICAgICAgIC8vIExvZyB0aGUgdG9rZW5zIHB1cmNoYXNlZCAKICAgICAgICAgVHJhbnNmZXIoMHgwLCBwYXJ0aWNpcGFudCwgdG9rZW5zKTsKICAgICAgICAgLy8gLSBidXllciA9IHBhcnRpY2lwYW50CiAgICAgICAgIC8vIC0gZXRoZXJzID0gbXNnLnZhbHVlCiAgICAgICAgIC8vIC0gcGFydGljaXBhbnRUb2tlbkJhbGFuY2UgPSBiYWxhbmNlc1twYXJ0aWNpcGFudF0KICAgICAgICAgLy8gLSB0b2tlbnMgPSB0b2tlbnMKICAgICAgICAgLy8gLSBuZXdUb3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5CiAgICAgICAgIC8vIC0gdG9rZW5zUGVyS0V0aGVyID0gdG9rZW5zUGVyS0V0aGVyCiAgICAgICAgIFRva2Vuc0JvdWdodChwYXJ0aWNpcGFudCwgbXNnLnZhbHVlLCBiYWxhbmNlc1twYXJ0aWNpcGFudF0sIHRva2VucywKICAgICAgICAgICAgICB0b3RhbFN1cHBseSwgdG9rZW5zUGVyS0V0aGVyKTsKCiAgICAgICAgIGlmIChtc2cudmFsdWUgPiBLWUNfVEhSRVNIT0xEKSB7CiAgICAgICAgICAgICAvLyBLWUMgdmVyaWZpY2F0aW9uIHJlcXVpcmVkIGJlZm9yZSBwYXJ0aWNpcGFudCBjYW4gdHJhbnNmZXIgdGhlIHRva2VucwogICAgICAgICAgICAga3ljUmVxdWlyZWRbcGFydGljaXBhbnRdID0gdHJ1ZTsKICAgICAgICAgfQoKICAgICAgICAgLy8gVHJhbnNmZXIgdGhlIGNvbnRyaWJ1dGVkIGV0aGVycyB0byB0aGUgY3Jvd2RzYWxlIHdhbGxldAogICAgICAgICAvLyB0aHJvdyBpcyBkZXByZWNhdGVkIHN0YXJ0aW5nIGZyb20gRXRoZXJldW0gdjAuOS4wCiAgICAgICAgIHdhbGxldC50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgfQoKICAgIGV2ZW50IFRva2Vuc0JvdWdodChhZGRyZXNzIGluZGV4ZWQgYnV5ZXIsIHVpbnQgZXRoZXJzLCAKICAgICAgICB1aW50IHBhcnRpY2lwYW50VG9rZW5CYWxhbmNlLCB1aW50IHRva2VucywgdWludCBuZXdUb3RhbFN1cHBseSwgCiAgICAgICAgdWludCBfdG9rZW5zUGVyS0V0aGVyKTsKCiAgICBmdW5jdGlvbiBmaW5hbGlzZSgpIG9ubHlPd25lciB7CiAgICAgICAgLy8gQ2FuIG9ubHkgZmluYWxpc2UgaWYgcmFpc2VkID4gc29mdCBjYXAgb3IgYWZ0ZXIgdGhlIGVuZCBkYXRlCiAgICAgICAgcmVxdWlyZSh0b3RhbFN1cHBseSA+PSBUT0tFTlNfU09GVF9DQVAgfHwgbm93ID4gRU5EX0RBVEUpOwoKICAgICAgICByZXF1aXJlKCFmaW5hbGlzZWQpOwoKICAgICAgICBmaW5hbGlzZWQgPSB0cnVlOwogICAgfQoKICAgZnVuY3Rpb24gYWRkUHJlY29tbWl0bWVudChhZGRyZXNzIHBhcnRpY2lwYW50LCB1aW50IGJhbGFuY2UpIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShub3cgPCBTVEFSVF9EQVRFKTsKICAgICAgICByZXF1aXJlKGJhbGFuY2UgPiAwKTsKICAgICAgICBiYWxhbmNlc1twYXJ0aWNpcGFudF0gPSBzYWZlQWRkKGJhbGFuY2VzW3BhcnRpY2lwYW50XSxiYWxhbmNlKTsKICAgICAgICB0b3RhbFN1cHBseSA9IHNhZmVBZGQodG90YWxTdXBwbHksYmFsYW5jZSk7CiAgICAgICAgVHJhbnNmZXIoMHgwLCBwYXJ0aWNpcGFudCwgYmFsYW5jZSk7CiAgICAgICAgUHJlY29tbWl0bWVudEFkZGVkKHBhcnRpY2lwYW50LCBiYWxhbmNlKTsKICAgIH0KICAgIGV2ZW50IFByZWNvbW1pdG1lbnRBZGRlZChhZGRyZXNzIGluZGV4ZWQgcGFydGljaXBhbnQsIHVpbnQgYmFsYW5jZSk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy8gQ2Fubm90IHRyYW5zZmVyIGJlZm9yZSBjcm93ZHNhbGUgZW5kcwogICAgICAgIC8vIEFsbG93IGF3YXJkaW5nIHRlYW0gbWVtYmVycyBiZWZvcmUsIGR1cmluZyBhbmQgYWZ0ZXIgY3Jvd2RzYWxlCiAgICAgICAgcmVxdWlyZShmaW5hbGlzZWQgfHwgbXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgcmVxdWlyZSgha3ljUmVxdWlyZWRbbXNnLnNlbmRlcl0pOwogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF9hbW91bnQpOwogICAgfQoKICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2VzcykKICAgIHsKICAgICAgICAvLyBDYW5ub3QgdHJhbnNmZXIgYmVmb3JlIGNyb3dkc2FsZSBlbmRzCiAgICAgICAgcmVxdWlyZShmaW5hbGlzZWQpOwogICAgICAgIHJlcXVpcmUoIWt5Y1JlcXVpcmVkW19mcm9tXSk7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfYW1vdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiBreWNWZXJpZnkoYWRkcmVzcyBwYXJ0aWNpcGFudCwgYm9vbCBfcmVxdWlyZWQpIG9ubHlPd25lciB7CiAgICAgICAga3ljUmVxdWlyZWRbcGFydGljaXBhbnRdID0gX3JlcXVpcmVkOwogICAgICAgIEt5Y1ZlcmlmaWVkKHBhcnRpY2lwYW50LCBreWNSZXF1aXJlZFtwYXJ0aWNpcGFudF0pOwogICAgfQogICAgZXZlbnQgS3ljVmVyaWZpZWQoYWRkcmVzcyBpbmRleGVkIHBhcnRpY2lwYW50LCBib29sIHJlcXVpcmVkKTsKCiAgICAvLyBBbnkgYWNjb3VudCBjYW4gYnVybiBfZnJvbSdzIHRva2VucyBhcyBsb25nIGFzIHRoZSBfZnJvbSBhY2NvdW50IGhhcwogICAgLy8gYXBwcm92ZWQgdGhlIF9hbW91bnQgdG8gYmUgYnVybnQgdXNpbmcgYXBwcm92ZSgweDAsIF9hbW91bnQpCiAgICBmdW5jdGlvbiBidXJuRnJvbShhZGRyZXNzIF9mcm9tLCB1aW50IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUodG90YWxTdXBwbHkgPj0gX2Ftb3VudCk7CgogICAgICAgIGlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX2Ftb3VudAogICAgICAgICAgICAmJiBhbGxvd2VkW19mcm9tXVsweDBdID49IF9hbW91bnQKICAgICAgICAgICAgJiYgX2Ftb3VudCA+IDAKICAgICAgICAgICAgJiYgYmFsYW5jZXNbMHgwXSArIF9hbW91bnQgPiBiYWxhbmNlc1sweDBdCiAgICAgICAgKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IHNhZmVTdWIoYmFsYW5jZXNbX2Zyb21dLF9hbW91bnQpOwogICAgICAgICAgICBiYWxhbmNlc1sweDBdID0gc2FmZUFkZChiYWxhbmNlc1sweDBdLF9hbW91bnQpOwogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVsweDBdID0gc2FmZVN1YihhbGxvd2VkW19mcm9tXVsweDBdLF9hbW91bnQpOwogICAgICAgICAgICB0b3RhbFN1cHBseSA9IHNhZmVTdWIodG90YWxTdXBwbHksX2Ftb3VudCk7CiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCAweDAsIF9hbW91bnQpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIC8vIExvb2tSZXYgY2FuIHRyYW5zZmVyIG91dCBhbnkgYWNjaWRlbnRhbGx5IHNlbnQgRVJDMjAgdG9rZW5zCiAgICBmdW5jdGlvbiB0cmFuc2ZlckFueUVSQzIwVG9rZW4oYWRkcmVzcyB0b2tlbkFkZHJlc3MsIHVpbnQgYW1vdW50KSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSAKICAgIHsKICAgICAgICByZXR1cm4gRVJDMjAodG9rZW5BZGRyZXNzKS50cmFuc2Zlcihvd25lciwgYW1vdW50KTsKICAgIH0KfQ=='.
	

]
