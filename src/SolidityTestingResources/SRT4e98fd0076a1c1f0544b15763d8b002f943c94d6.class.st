Class {
	#name : #SRT4e98fd0076a1c1f0544b15763d8b002f943c94d6,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4e98fd0076a1c1f0544b15763d8b002f943c94d6 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICoKICogTmFtZSBvZiB0aGUgcHJvamVjdDogQWx0ZXVtIFRva2VuCiAqIENvbnRyYWN0IG5hbWU6IEFsdGV1bVRva2VuCiAqIEF1dGhvcjogSnVhbiBMaXZpbmdzdG9uIEAgRXRoZXJuaXR5LmxpdmUKICogRGV2ZWxvcGVkIGZvcjogQWx0ZXVtCiAqIEFsdGV1bSBpcyBhbiBFUkMyMjMgVG9rZW4KICoKICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgpjb250cmFjdCBDb250cmFjdFJlY2VpdmVyIHsgICAKICAgIGZ1bmN0aW9uIHRva2VuRmFsbGJhY2soYWRkcmVzcyBfZnJvbSwgdWludCBfdmFsdWUsIGJ5dGVzIF9kYXRhKXsKICAgIH0KfQoKCgogLyogTmV3IEVSQzIzIGNvbnRyYWN0IGludGVyZmFjZSAqLwoKY29udHJhY3QgRVJDMjIzIHsKICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogIAogIGZ1bmN0aW9uIG5hbWUoKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcgX25hbWUpOwogIGZ1bmN0aW9uIHN5bWJvbCgpIGNvbnN0YW50IHJldHVybnMgKHN0cmluZyBfc3ltYm9sKTsKICBmdW5jdGlvbiBkZWNpbWFscygpIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4IF9kZWNpbWFscyk7CiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IF9zdXBwbHkpOwoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zIChib29sIG9rKTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlLCBieXRlcyBkYXRhKSByZXR1cm5zIChib29sIG9rKTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlLCBieXRlcyBkYXRhLCBzdHJpbmcgY3VzdG9tX2ZhbGxiYWNrKSByZXR1cm5zIChib29sIG9rKTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlLCBieXRlcyBpbmRleGVkIGRhdGEpOwp9CgovLyBUaGUgQWx0ZXVtIHRva2VuIEVSQzIyMwoKY29udHJhY3QgQWx0ZXVtVG9rZW4gewoKICAgIC8vIFRva2VuIHB1YmxpYyB2YXJpYWJsZXMKICAgIHN0cmluZyBwdWJsaWMgbmFtZTsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgdWludDggcHVibGljIGRlY2ltYWxzOyAKICAgIHN0cmluZyBwdWJsaWMgdmVyc2lvbiA9ICd2MC4yJzsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgYm9vbCBsb2NrZWQ7CgogICAgYWRkcmVzcyByb290QWRkcmVzczsKICAgIGFkZHJlc3MgT3duZXI7CiAgICB1aW50IG11bHRpcGxpZXIgPSAxMDAwMDAwMDA7IC8vIEZvciA4IGRlY2ltYWxzCiAgICBhZGRyZXNzIHN3YXBwZXJBZGRyZXNzOyAvLyBDYW4gYnlwYXNzIGEgbG9jawoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgZnJlZXplZDsgCgoKICAJZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSwgYnl0ZXMgaW5kZXhlZCBkYXRhKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwoKICAgIC8vIE1vZGlmaWVycwoKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICBpZiAoIG1zZy5zZW5kZXIgIT0gcm9vdEFkZHJlc3MgJiYgbXNnLnNlbmRlciAhPSBPd25lciApIHJldmVydCgpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seVJvb3QoKSB7CiAgICAgICAgaWYgKCBtc2cuc2VuZGVyICE9IHJvb3RBZGRyZXNzICkgcmV2ZXJ0KCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBpc1VubG9ja2VkKCkgewogICAgCWlmICggbG9ja2VkICYmIG1zZy5zZW5kZXIgIT0gcm9vdEFkZHJlc3MgJiYgbXNnLnNlbmRlciAhPSBPd25lciApIHJldmVydCgpOwoJCV87ICAgIAkKICAgIH0KCiAgICBtb2RpZmllciBpc1VuZnJlZXplZChhZGRyZXNzIF90bykgewogICAgCWlmICggZnJlZXplZFttc2cuc2VuZGVyXSB8fCBmcmVlemVkW190b10gKSByZXZlcnQoKTsKICAgIAlfOwogICAgfQoKCiAgICAvLyBTYWZlIG1hdGgKICAgIGZ1bmN0aW9uIHNhZmVBZGQodWludCB4LCB1aW50IHkpIGludGVybmFsIHJldHVybnMgKHVpbnQgeikgewogICAgICAgIHJlcXVpcmUoKHogPSB4ICsgeSkgPj0geCk7CiAgICB9CiAgICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQgeCwgdWludCB5KSBpbnRlcm5hbCByZXR1cm5zICh1aW50IHopIHsKICAgICAgICByZXF1aXJlKCh6ID0geCAtIHkpIDw9IHgpOwogICAgfQoKCiAgICAvLyBBbHRldW0gVG9rZW4gY29uc3RydWN0b3IKICAgIGZ1bmN0aW9uIEFsdGV1bVRva2VuKCkgeyAgICAgICAgCiAgICAgICAgbG9ja2VkID0gdHJ1ZTsKICAgICAgICB0b3RhbFN1cHBseSA9IDUwMDAwMDAwICogbXVsdGlwbGllcjsgLy8gNTAsMDAwLDAwMCB0b2tlbnMgKiA4IGRlY2ltYWxzCiAgICAgICAgbmFtZSA9ICdBbHRldW0nOyAKICAgICAgICBzeW1ib2wgPSAnQVVNJzsgCiAgICAgICAgZGVjaW1hbHMgPSA4OyAKICAgICAgICByb290QWRkcmVzcyA9IDB4ODAzNjIyREU0N2VBQ0UwNGUyNTU0MTQ5NmUxRUQ5MjE2QzNjNjQwRjsgICAgICAKICAgICAgICBPd25lciA9IG1zZy5zZW5kZXI7ICAgICAgIAogICAgICAgIGJhbGFuY2VzW3Jvb3RBZGRyZXNzXSA9IHRvdGFsU3VwcGx5OwogICAgICAgIGFsbG93ZWRbcm9vdEFkZHJlc3NdW3N3YXBwZXJBZGRyZXNzXSA9IDM3NTAwMDAwICogbXVsdGlwbGllcjsgLy8gMzcsNTAwLDAwMCB0b2tlbnMgZm9yIElDTwogICAgfQoKCgkvLyBFUkMyMjMgQWNjZXNzIGZ1bmN0aW9ucwoKCWZ1bmN0aW9uIG5hbWUoKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcgX25hbWUpIHsKCSAgICAgIHJldHVybiBuYW1lOwoJICB9CglmdW5jdGlvbiBzeW1ib2woKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcgX3N5bWJvbCkgewoJICAgICAgcmV0dXJuIHN5bWJvbDsKCSAgfQoJZnVuY3Rpb24gZGVjaW1hbHMoKSBjb25zdGFudCByZXR1cm5zICh1aW50OCBfZGVjaW1hbHMpIHsKCSAgICAgIHJldHVybiBkZWNpbWFsczsKCSAgfQoJZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IF90b3RhbFN1cHBseSkgewoJICAgICAgcmV0dXJuIHRvdGFsU3VwcGx5OwoJICB9CgoKICAgIC8vIE9ubHkgcm9vdCBmdW5jdGlvbgoKICAgIGZ1bmN0aW9uIGNoYW5nZVJvb3QoYWRkcmVzcyBfbmV3cm9vdEFkZHJlc3MpIG9ubHlSb290IHJldHVybnMoYm9vbCl7CiAgICAgICAgICAgIHJvb3RBZGRyZXNzID0gX25ld3Jvb3RBZGRyZXNzOwogICAgICAgICAgICBhbGxvd2VkW19uZXdyb290QWRkcmVzc11bc3dhcHBlckFkZHJlc3NdID0gYWxsb3dlZFtyb290QWRkcmVzc11bc3dhcHBlckFkZHJlc3NdOyAvLyBHaXZlcyBhbGxvd2FuY2UgdG8gbmV3IHJvb3RBZGRyZXNzCiAgICAgICAgICAgIGFsbG93ZWRbcm9vdEFkZHJlc3NdW3N3YXBwZXJBZGRyZXNzXSA9IDA7IC8vIFJlbW92ZXMgYWxsb3dhbmNlIHRvIG9sZCByb290QWRkcmVzcwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgLy8gT25seSBvd25lciBmdW5jdGlvbnMKCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIF9uZXdPd25lcikgb25seU93bmVyIHJldHVybnMoYm9vbCl7CiAgICAgICAgICAgIE93bmVyID0gX25ld093bmVyOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VTd2FwcGVyQWRkKGFkZHJlc3MgX25ld1N3YXBwZXIpIG9ubHlPd25lciByZXR1cm5zKGJvb2wpewogICAgICAgICAgICBzd2FwcGVyQWRkcmVzcyA9IF9uZXdTd2FwcGVyOwogICAgICAgICAgICBhbGxvd2VkW3Jvb3RBZGRyZXNzXVtfbmV3U3dhcHBlcl0gPSBhbGxvd2VkW3Jvb3RBZGRyZXNzXVtzd2FwcGVyQWRkcmVzc107IC8vIEdpdmVzIGFsbG93YW5jZSB0byBuZXcgcm9vdEFkZHJlc3MKICAgICAgICAgICAgYWxsb3dlZFtyb290QWRkcmVzc11bc3dhcHBlckFkZHJlc3NdID0gMDsgLy8gUmVtb3ZlcyBhbGxvd2FuY2UgdG8gb2xkIHJvb3RBZGRyZXNzCiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgICAgCiAgICBmdW5jdGlvbiB1bmxvY2soKSBvbmx5T3duZXIgcmV0dXJucyhib29sKSB7CiAgICAgICAgbG9ja2VkID0gZmFsc2U7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gbG9jaygpIG9ubHlPd25lciByZXR1cm5zKGJvb2wpIHsKICAgICAgICBsb2NrZWQgPSB0cnVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGZyZWV6ZShhZGRyZXNzIF9hZGRyZXNzKSBvbmx5T3duZXIgcmV0dXJucyhib29sKSB7CiAgICAgICAgZnJlZXplZFtfYWRkcmVzc10gPSB0cnVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHVuZnJlZXplKGFkZHJlc3MgX2FkZHJlc3MpIG9ubHlPd25lciByZXR1cm5zKGJvb2wpIHsKICAgICAgICBmcmVlemVkW19hZGRyZXNzXSA9IGZhbHNlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIFB1YmxpYyBnZXR0ZXJzCiAgICBmdW5jdGlvbiBpc0ZyZWV6ZWQoYWRkcmVzcyBfYWRkcmVzcykgY29uc3RhbnQgcmV0dXJucyhib29sKSB7CiAgICAgICAgcmV0dXJuIGZyZWV6ZWRbX2FkZHJlc3NdOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzTG9ja2VkKCkgY29uc3RhbnQgcmV0dXJucyhib29sKSB7CiAgICAgICAgcmV0dXJuIGxvY2tlZDsKICAgIH0KCgovLyBUbyBzZW5kIHRva2VucyB0aGF0IHdlcmUgYWNjaWRlbnRhbGx5IHNlbnQgdG8gdGhpcyBjb250cmFjdApmdW5jdGlvbiBzZW5kVG9rZW4oYWRkcmVzcyBfdG9rZW5BZGRyZXNzICwgYWRkcmVzcyBfYWRkcmVzc1RvICwgdWludDI1NiBfYW1vdW50KSBvbmx5T3duZXIgcmV0dXJucyhib29sKSB7CiAgICAgICAgRVJDMjIzIHRva2VuX3RvX3NlbmQgPSBFUkMyMjMoIF90b2tlbkFkZHJlc3MgKTsKICAgICAgICByZXF1aXJlKCB0b2tlbl90b19zZW5kLnRyYW5zZmVyKF9hZGRyZXNzVG8gLCBfYW1vdW50KSApOwogICAgICAgIHJldHVybiB0cnVlOwp9CgogIC8vIFB1YmxpYyBmdW5jdGlvbnMgKGZyb20gaHR0cHM6Ly9naXRodWIuY29tL0RleGFyYW4vRVJDMjIzLXRva2VuLXN0YW5kYXJkL3RyZWUvUmVjb21tZW5kZWQpCgogIC8vIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gYSB1c2VyIG9yIGFub3RoZXIgY29udHJhY3Qgd2FudHMgdG8gdHJhbnNmZXIgZnVuZHMgdG8gYW4gYWRkcmVzcyB0aGF0IGhhcyBhIG5vbi1zdGFuZGFyZCBmYWxsYmFjayBmdW5jdGlvbgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSwgYnl0ZXMgX2RhdGEsIHN0cmluZyBfY3VzdG9tX2ZhbGxiYWNrKSBpc1VubG9ja2VkIGlzVW5mcmVlemVkKF90bykgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgIAogICAgaWYoaXNDb250cmFjdChfdG8pKSB7CiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdIDwgX3ZhbHVlKSByZXR1cm4gZmFsc2U7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzYWZlU3ViKCBiYWxhbmNlc1ttc2cuc2VuZGVyXSAsIF92YWx1ZSApOwogICAgICAgIGJhbGFuY2VzW190b10gPSBzYWZlQWRkKCBiYWxhbmNlc1tfdG9dICwgX3ZhbHVlICk7CiAgICAgICAgQ29udHJhY3RSZWNlaXZlciByZWNlaXZlciA9IENvbnRyYWN0UmVjZWl2ZXIoX3RvKTsKICAgICAgICByZWNlaXZlci5jYWxsLnZhbHVlKDApKGJ5dGVzNChzaGEzKF9jdXN0b21fZmFsbGJhY2spKSwgbXNnLnNlbmRlciwgX3ZhbHVlLCBfZGF0YSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUsIF9kYXRhKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIGVsc2UgewogICAgICAgIHJldHVybiB0cmFuc2ZlclRvQWRkcmVzcyhfdG8sIF92YWx1ZSwgX2RhdGEpOwogICAgfQp9CgogIC8vIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gYSB1c2VyIG9yIGFub3RoZXIgY29udHJhY3Qgd2FudHMgdG8gdHJhbnNmZXIgZnVuZHMgdG8gYW4gYWRkcmVzcyB3aXRoIHRva2VuRmFsbGJhY2sgZnVuY3Rpb24KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUsIGJ5dGVzIF9kYXRhKSBpc1VubG9ja2VkIGlzVW5mcmVlemVkKF90bykgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgIAogICAgaWYoaXNDb250cmFjdChfdG8pKSB7CiAgICAgICAgcmV0dXJuIHRyYW5zZmVyVG9Db250cmFjdChfdG8sIF92YWx1ZSwgX2RhdGEpOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgcmV0dXJuIHRyYW5zZmVyVG9BZGRyZXNzKF90bywgX3ZhbHVlLCBfZGF0YSk7CiAgICB9Cn0KCgogIC8vIFN0YW5kYXJkIGZ1bmN0aW9uIHRyYW5zZmVyIHNpbWlsYXIgdG8gRVJDMjAgdHJhbnNmZXIgd2l0aCBubyBfZGF0YS4KICAvLyBBZGRlZCBkdWUgdG8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgcmVhc29ucy4KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGlzVW5sb2NrZWQgaXNVbmZyZWV6ZWQoX3RvKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCiAgICBieXRlcyBtZW1vcnkgZW1wdHk7CiAgICBpZihpc0NvbnRyYWN0KF90bykpIHsKICAgICAgICByZXR1cm4gdHJhbnNmZXJUb0NvbnRyYWN0KF90bywgX3ZhbHVlLCBlbXB0eSk7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICByZXR1cm4gdHJhbnNmZXJUb0FkZHJlc3MoX3RvLCBfdmFsdWUsIGVtcHR5KTsKICAgIH0KfQoKLy9hc3NlbWJsZSB0aGUgZ2l2ZW4gYWRkcmVzcyBieXRlY29kZS4gSWYgYnl0ZWNvZGUgZXhpc3RzIHRoZW4gdGhlIF9hZGRyIGlzIGEgY29udHJhY3QuCiAgZnVuY3Rpb24gaXNDb250cmFjdChhZGRyZXNzIF9hZGRyKSBwcml2YXRlIHJldHVybnMgKGJvb2wgaXNfY29udHJhY3QpIHsKICAgICAgdWludCBsZW5ndGg7CiAgICAgIGFzc2VtYmx5IHsKICAgICAgICAgICAgLy9yZXRyaWV2ZSB0aGUgc2l6ZSBvZiB0aGUgY29kZSBvbiB0YXJnZXQgYWRkcmVzcywgdGhpcyBuZWVkcyBhc3NlbWJseQogICAgICAgICAgICBsZW5ndGggOj0gZXh0Y29kZXNpemUoX2FkZHIpCiAgICAgIH0KICAgICAgcmV0dXJuIChsZW5ndGg+MCk7CiAgICB9CgogIC8vZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiB0cmFuc2FjdGlvbiB0YXJnZXQgaXMgYW4gYWRkcmVzcwogIGZ1bmN0aW9uIHRyYW5zZmVyVG9BZGRyZXNzKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSwgYnl0ZXMgX2RhdGEpIHByaXZhdGUgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPCBfdmFsdWUpIHJldHVybiBmYWxzZTsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2FmZVN1YihiYWxhbmNlc1ttc2cuc2VuZGVyXSwgX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBzYWZlQWRkKGJhbGFuY2VzW190b10sIF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSwgX2RhdGEpOwogICAgcmV0dXJuIHRydWU7CiAgfQogIAogIC8vZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiB0cmFuc2FjdGlvbiB0YXJnZXQgaXMgYSBjb250cmFjdAogIGZ1bmN0aW9uIHRyYW5zZmVyVG9Db250cmFjdChhZGRyZXNzIF90bywgdWludCBfdmFsdWUsIGJ5dGVzIF9kYXRhKSBwcml2YXRlIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdIDwgX3ZhbHVlKSByZXR1cm4gZmFsc2U7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHNhZmVTdWIoYmFsYW5jZXNbbXNnLnNlbmRlcl0gLCBfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZXNbX3RvXSAsIF92YWx1ZSk7CiAgICBDb250cmFjdFJlY2VpdmVyIHJlY2VpdmVyID0gQ29udHJhY3RSZWNlaXZlcihfdG8pOwogICAgcmVjZWl2ZXIudG9rZW5GYWxsYmFjayhtc2cuc2VuZGVyLCBfdmFsdWUsIF9kYXRhKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlLCBfZGF0YSk7CiAgICByZXR1cm4gdHJ1ZTsKfQoKCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyhib29sKSB7CgogICAgICAgIGlmICggbG9ja2VkICYmIG1zZy5zZW5kZXIgIT0gc3dhcHBlckFkZHJlc3MgKSByZXR1cm4gZmFsc2U7IAogICAgICAgIGlmICggZnJlZXplZFtfZnJvbV0gfHwgZnJlZXplZFtfdG9dICkgcmV0dXJuIGZhbHNlOyAvLyBDaGVjayBpZiBkZXN0aW5hdGlvbiBhZGRyZXNzIGlzIGZyZWV6ZWQKICAgICAgICBpZiAoIGJhbGFuY2VzW19mcm9tXSA8IF92YWx1ZSApIHJldHVybiBmYWxzZTsgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCgkJaWYgKCBfdmFsdWUgPiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSApIHJldHVybiBmYWxzZTsgLy8gQ2hlY2sgYWxsb3dhbmNlCgogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IHNhZmVTdWIoYmFsYW5jZXNbX2Zyb21dICwgX3ZhbHVlKTsgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZXNbX3RvXSAsIF92YWx1ZSk7IC8vIEFkZCB0aGUgc2FtZSB0byB0aGUgcmVjaXBpZW50CgogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gc2FmZVN1YiggYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLCBfdmFsdWUgKTsKCiAgICAgICAgYnl0ZXMgbWVtb3J5IGVtcHR5OwoKICAgICAgICBpZiAoIGlzQ29udHJhY3QoX3RvKSApIHsKCSAgICAgICAgQ29udHJhY3RSZWNlaXZlciByZWNlaXZlciA9IENvbnRyYWN0UmVjZWl2ZXIoX3RvKTsKCSAgICAJcmVjZWl2ZXIudG9rZW5GYWxsYmFjayhfZnJvbSwgX3ZhbHVlLCBlbXB0eSk7CgkJfQoKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUgLCBlbXB0eSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgcmV0dXJucyhib29sKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9Cn0='.
	

]
