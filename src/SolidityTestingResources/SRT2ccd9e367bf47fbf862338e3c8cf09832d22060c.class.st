Class {
	#name : #SRT2ccd9e367bf47fbf862338e3c8cf09832d22060c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT2ccd9e367bf47fbf862338e3c8cf09832d22060c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKioKICogQHRpdGxlIENyb3dkc2FsZQogKiBAZGV2IENyb3dkc2FsZSBpcyBhIGJhc2UgY29udHJhY3QgZm9yIG1hbmFnaW5nIGEgdG9rZW4gY3Jvd2RzYWxlLgogKiBDcm93ZHNhbGVzIGhhdmUgYSBzdGFydCBhbmQgZW5kIHRpbWVzdGFtcHMsIHdoZXJlIGludmVzdG9ycyBjYW4gbWFrZQogKiB0b2tlbiBwdXJjaGFzZXMgYW5kIHRoZSBjcm93ZHNhbGUgd2lsbCBhc3NpZ24gdGhlbSB0b2tlbnMgYmFzZWQKICogb24gYSB0b2tlbiBwZXIgRVRIIHJhdGUuIEZ1bmRzIGNvbGxlY3RlZCBhcmUgZm9yd2FyZGVkIHRvIGEgd2FsbGV0CiAqIGFzIHRoZXkgYXJyaXZlLgogKi8KIAogCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cgp9CgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLgogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHRva2VuQmFsYW5jZXM7CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUodG9rZW5CYWxhbmNlc1ttc2cuc2VuZGVyXT49X3ZhbHVlKTsKICAgIHRva2VuQmFsYW5jZXNbbXNnLnNlbmRlcl0gPSB0b2tlbkJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgdG9rZW5CYWxhbmNlc1tfdG9dID0gdG9rZW5CYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiB0b2tlbkJhbGFuY2VzW19vd25lcl07CiAgfQoKfQovL1RPRE86IENoYW5nZSB0aGUgbmFtZSBvZiB0aGUgdG9rZW4KY29udHJhY3QgUXVhbnR1bUJyZWFrVG9rZW4gaXMgQmFzaWNUb2tlbixPd25hYmxlIHsKCiAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogICAKICAgLy9UT0RPOiBDaGFuZ2UgdGhlIG5hbWUgYW5kIHRoZSBzeW1ib2wKICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIlF1YW50dW0gQnJlYWsiOwogICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJRQlQiOwogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwogICAgYWRkcmVzcyBwdWJsaWMgb3duZXJXYWxsZXQ7CiAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IElOSVRJQUxfU1VQUExZID0gNTAwMDAwMDAwMDsKICAgZXZlbnQgRGVidWcoc3RyaW5nIG1lc3NhZ2UsIGFkZHJlc3MgYWRkciwgdWludDI1NiBudW1iZXIpOwogIC8qKgogICAqIEBkZXYgQ29udHJ1Y3RvciB0aGF0IGdpdmVzIG1zZy5zZW5kZXIgYWxsIG9mIGV4aXN0aW5nIHRva2Vucy4KICAgKi8KICAgLy9UT0RPOiBDaGFuZ2UgdGhlIG5hbWUgb2YgdGhlIGNvbnN0cnVjdG9yCiAgICBmdW5jdGlvbiBRdWFudHVtQnJlYWtUb2tlbihhZGRyZXNzIHdhbGxldCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgb3duZXJXYWxsZXQgPSB3YWxsZXQ7CiAgICAgICAgdG90YWxTdXBwbHkgPSBJTklUSUFMX1NVUFBMWTsKICAgICAgICB0b2tlbkJhbGFuY2VzW293bmVyV2FsbGV0XSA9IElOSVRJQUxfU1VQUExZICogMTAgKiogMTg7ICAgLy9TaW5jZSB3ZSBkaXZpZGVkIHRoZSB0b2tlbiBpbnRvIDEwXjE4IHBhcnRzCiAgICB9CgogICAgZnVuY3Rpb24gbWludChhZGRyZXNzIGJ1eWVyLCB1aW50MjU2IHRva2VuQW1vdW50KSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgcmVxdWlyZSh0b2tlbkJhbGFuY2VzW293bmVyV2FsbGV0XSA+PSB0b2tlbkFtb3VudCk7ICAgICAgICAgICAgICAgLy8gY2hlY2tzIGlmIGl0IGhhcyBlbm91Z2ggdG8gc2VsbAogICAgICB0b2tlbkJhbGFuY2VzW2J1eWVyXSA9IHRva2VuQmFsYW5jZXNbYnV5ZXJdLmFkZCh0b2tlbkFtb3VudCk7ICAgICAgICAgICAgICAgICAgLy8gYWRkcyB0aGUgYW1vdW50IHRvIGJ1eWVyJ3MgYmFsYW5jZQogICAgICB0b2tlbkJhbGFuY2VzW293bmVyV2FsbGV0XSA9IHRva2VuQmFsYW5jZXNbb3duZXJXYWxsZXRdLnN1Yih0b2tlbkFtb3VudCk7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3VidHJhY3RzIGFtb3VudCBmcm9tIHNlbGxlcidzIGJhbGFuY2UKICAgICAgVHJhbnNmZXIob3duZXJXYWxsZXQsIGJ1eWVyLCB0b2tlbkFtb3VudCk7IAogICAgfQogIGZ1bmN0aW9uIHNob3dNeVRva2VuQmFsYW5jZShhZGRyZXNzIGFkZHIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgdG9rZW5CYWxhbmNlKSB7CiAgICAgICAgdG9rZW5CYWxhbmNlID0gdG9rZW5CYWxhbmNlc1thZGRyXTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gbWFrZUFub3RoZXJDb250cmFjdE93bmVyT2ZUb2tlbihhZGRyZXNzIG5ld0NvbnRyYWN0QWRkcmVzcykgcHVibGljCiAgICB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyV2FsbGV0KTsKICAgICAgICBvd25lciA9IG5ld0NvbnRyYWN0QWRkcmVzczsKICAgIH0KfQpjb250cmFjdCBDcm93ZHNhbGUgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogCiAgLy8gVGhlIHRva2VuIGJlaW5nIHNvbGQKICBRdWFudHVtQnJlYWtUb2tlbiBwdWJsaWMgdG9rZW47CgogIC8vIHN0YXJ0IGFuZCBlbmQgdGltZXN0YW1wcyB3aGVyZSBpbnZlc3RtZW50cyBhcmUgYWxsb3dlZCAoYm90aCBpbmNsdXNpdmUpCiAgdWludDI1NiBwdWJsaWMgc3RhcnRUaW1lOwogIHVpbnQyNTYgcHVibGljIGVuZFRpbWU7CgogIC8vIGFkZHJlc3Mgd2hlcmUgZnVuZHMgYXJlIGNvbGxlY3RlZAogIC8vIGFkZHJlc3Mgd2hlcmUgdG9rZW5zIGFyZSBkZXBvc2l0ZWQgYW5kIGZyb20gd2hlcmUgd2Ugc2VuZCB0b2tlbnMgdG8gYnV5ZXJzCiAgYWRkcmVzcyBwdWJsaWMgd2FsbGV0OwoKICAvLyBob3cgbWFueSB0b2tlbiB1bml0cyBhIGJ1eWVyIGdldHMgcGVyIHdlaQogIHVpbnQyNTYgcHVibGljIHJhdGVQZXJXZWkgPSAxICogMTAgKiogNTsgICAvLzEgdG9rZW4ncyBwcmljZSBpcyAwLjAwMDAxIGV0aCwgc28gaW4gMSB3ZWkgd2UgZ2V0IDEwXjUgdG9rZW4gcGFydHMKCiAgLy8gYW1vdW50IG9mIHJhaXNlZCBtb25leSBpbiB3ZWkKICB1aW50MjU2IHB1YmxpYyB3ZWlSYWlzZWQ7CiAgCiAgLy9udW1iZXIgb2YgdG9rZW5zIHNvbGQKICB1aW50MjU2IHRva2Vuc1NvbGQ7CgogIC8vdXBwZXIgY2FwIG9mIHRva2VucwogIHVpbnQyNTYgdXBwZXJDYXAgPSA0NTAwMDAwMDAwICogMTAgKiogMTg7CiAgLy91aW50MjU2IHVwcGVyQ2FwID0gNDUwMDAwICogMTAgKiogMTg7CiAKICAvL2R1cmF0aW9uIG9mIElDTwogIHVpbnQyNTYgZHVyYXRpb24gPSA5MCBkYXlzOwogIAogIGJvb2wgb3duZXJBbW91bnRQYWlkID0gZmFsc2U7IAoKICAvKioKICAgKiBldmVudCBmb3IgdG9rZW4gcHVyY2hhc2UgbG9nZ2luZwogICAqIEBwYXJhbSBwdXJjaGFzZXIgd2hvIHBhaWQgZm9yIHRoZSB0b2tlbnMKICAgKiBAcGFyYW0gYmVuZWZpY2lhcnkgd2hvIGdvdCB0aGUgdG9rZW5zCiAgICogQHBhcmFtIHZhbHVlIHdlaXMgcGFpZCBmb3IgcHVyY2hhc2UKICAgKiBAcGFyYW0gYW1vdW50IGFtb3VudCBvZiB0b2tlbnMgcHVyY2hhc2VkCiAgICovCiAgZXZlbnQgVG9rZW5QdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgcHVyY2hhc2VyLCBhZGRyZXNzIGluZGV4ZWQgYmVuZWZpY2lhcnksIHVpbnQyNTYgdmFsdWUsIHVpbnQyNTYgYW1vdW50KTsKCgogIGZ1bmN0aW9uIENyb3dkc2FsZSh1aW50MjU2IF9zdGFydFRpbWUsIGFkZHJlc3MgX3dhbGxldCkgcHVibGljIHsKICAgIAogICAgc3RhcnRUaW1lID0gX3N0YXJ0VGltZTsgICAKICAgICAgIAogICAgZW5kVGltZSA9IHN0YXJ0VGltZSArIGR1cmF0aW9uOyAgLy9JQ08gZ29lcyBvbiBmb3IgOTAgZGF5cwogICAgCiAgICByZXF1aXJlKGVuZFRpbWUgPj0gc3RhcnRUaW1lKTsKICAgIHJlcXVpcmUoX3dhbGxldCAhPSAweDApOwoKICAgIHdhbGxldCA9IF93YWxsZXQ7CiAgICB0b2tlbiA9IGNyZWF0ZVRva2VuQ29udHJhY3Qod2FsbGV0KTsKICAgIAogIH0KCiAgLy8gY3JlYXRlcyB0aGUgdG9rZW4gdG8gYmUgc29sZC4KICAvLyBUT0RPOiBDaGFuZ2UgdGhlIG5hbWUgb2YgdGhlIHRva2VuIGZyb20gUUJUIHRva2VuIHRvIHNvbWV0aGluZyBlbHNlCiAgZnVuY3Rpb24gY3JlYXRlVG9rZW5Db250cmFjdChhZGRyZXNzIHdhbGwpIGludGVybmFsIHJldHVybnMgKFF1YW50dW1CcmVha1Rva2VuKSB7CiAgICByZXR1cm4gbmV3IFF1YW50dW1CcmVha1Rva2VuKHdhbGwpOwogIH0KCgogIC8vIGZhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGJ1eSB0b2tlbnMKICAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewogICAgYnV5VG9rZW5zKG1zZy5zZW5kZXIpOwogICB9CgogICAgLy8gbG93IGxldmVsIHRva2VuIHB1cmNoYXNlIGZ1bmN0aW9uCiAgICAvLyBNaW5pbXVtIHB1cmNoYXNlIGNhbiBiZSBvZiAxIEVUSAogIAogICBmdW5jdGlvbiBidXlUb2tlbnMoYWRkcmVzcyBiZW5lZmljaWFyeSkgcHVibGljIHBheWFibGUgewogICAgcmVxdWlyZShiZW5lZmljaWFyeSAhPSAweDApOwogICAgcmVxdWlyZSh2YWxpZFB1cmNoYXNlKCkpOwoKICAgIHVpbnQyNTYgd2VpQW1vdW50ID0gbXNnLnZhbHVlOwoKICAgIC8vIGNhbGN1bGF0ZSB0b2tlbiBhbW91bnQgdG8gYmUgZ2l2ZW4KICAgIHVpbnQyNTYgdG9rZW5zID0gd2VpQW1vdW50Lm11bChyYXRlUGVyV2VpKTsKICAgIHVpbnQgZGlzY291bnRUb2tlbnM7CiAgICB1aW50IGRpc2NvdW50UGVyY2VudGFnZTsKICAgIChkaXNjb3VudFRva2VucyxkaXNjb3VudFBlcmNlbnRhZ2UpID0gZGV0ZXJtaW5lRGlzY291bnQod2VpQW1vdW50LCB0b2tlbnMpOwogICAgCiAgICB1aW50IHRva2Vuc0Fib3V0VG9CZVNvbGQgPSB0b2tlbnMuYWRkKGRpc2NvdW50VG9rZW5zKTsKICAgIAogICAgdWludCB0b2tlbnNZb3VDYW5HaXZlID0gdXBwZXJDYXAgLSB0b2tlbnNTb2xkOwogICAgcmVxdWlyZSAodG9rZW5zWW91Q2FuR2l2ZT4wKTsKICAgIHVpbnQgZXRoc1RvUmV0dXJuOwogICAgaWYgKHRva2Vuc1lvdUNhbkdpdmUgPCB0b2tlbnNBYm91dFRvQmVTb2xkKQogICAgewogICAgICAgIGRpc2NvdW50UGVyY2VudGFnZSA9IGRpc2NvdW50UGVyY2VudGFnZS5hZGQoMTAwKTsKICAgICAgICB1aW50IHRva2Vuc1RvQ2hhcmdlID0gdG9rZW5zWW91Q2FuR2l2ZS5tdWwoMTAwKTsKICAgICAgICB0b2tlbnNUb0NoYXJnZSA9IHRva2Vuc1RvQ2hhcmdlLmRpdihkaXNjb3VudFBlcmNlbnRhZ2UpOwogICAgICAgIAogICAgICAgIHVpbnQgZXRoc1RvQ2hhcmdlID0gdG9rZW5zVG9DaGFyZ2UuZGl2KHJhdGVQZXJXZWkpOwogICAgICAgIGV0aHNUb1JldHVybiA9IHdlaUFtb3VudCAtIGV0aHNUb0NoYXJnZTsKICAgICAgICB0b2tlbnNBYm91dFRvQmVTb2xkID0gdG9rZW5zWW91Q2FuR2l2ZTsKICAgIH0KICAgIC8vIHVwZGF0ZSBzdGF0ZQogICAgdWludCBhY3R1YWxGdW5kc1JhaXNlZCA9IHdlaUFtb3VudC1ldGhzVG9SZXR1cm47CiAgICB3ZWlSYWlzZWQgPSB3ZWlSYWlzZWQuYWRkKGFjdHVhbEZ1bmRzUmFpc2VkKTsKICAgIHRva2VuLm1pbnQoYmVuZWZpY2lhcnksIHRva2Vuc0Fib3V0VG9CZVNvbGQpOyAKICAgIFRva2VuUHVyY2hhc2UobXNnLnNlbmRlciwgYmVuZWZpY2lhcnksIGFjdHVhbEZ1bmRzUmFpc2VkLCB0b2tlbnNBYm91dFRvQmVTb2xkKTsKICAgIHRva2Vuc1NvbGQgPSB0b2tlbnNTb2xkLmFkZCh0b2tlbnNBYm91dFRvQmVTb2xkKTsKICAgIGJlbmVmaWNpYXJ5LnRyYW5zZmVyKGV0aHNUb1JldHVybik7CiAgICBmb3J3YXJkRnVuZHMoYWN0dWFsRnVuZHNSYWlzZWQpOwogIH0KCiAgICAvL2RldGVybWluZSB0aGUgcmF0ZSBvZiB0aGUgdG9rZW4gdy5yLnQuIHRpbWUgZWxhcHNlZAogIGZ1bmN0aW9uIGRldGVybWluZURpc2NvdW50KHVpbnQyNTYgd2VpQW1vdW50LCB1aW50MjU2IHRva2VucykgaW50ZXJuYWwgdmlldyByZXR1cm5zICh1aW50IGRpc2NvdW50VG9rZW5zLCB1aW50IGRpc2NvdW50UGVyY2VudGFnZSkgewogICAgICAKICAgIGlmICh3ZWlBbW91bnQgPiAwICYmIHdlaUFtb3VudCA8IDEgKiAxMCAqKiAxOCkKICAgIHsKICAgICAgICAvLzEwJSBkaXNjb3VudCAgICAKICAgICAgICBkaXNjb3VudFRva2VucyA9IHRva2Vucy5tdWwoMTApOwogICAgICAgIGRpc2NvdW50VG9rZW5zID0gZGlzY291bnRUb2tlbnMuZGl2KDEwMCk7CiAgICAgICAgZGlzY291bnRQZXJjZW50YWdlID0gMTA7CiAgICB9CiAgICBlbHNlIGlmICh3ZWlBbW91bnQgPj0gMSAqIDEwICoqIDE4ICYmIHdlaUFtb3VudCA8IDUgKiAxMCAqKiAxOCkKICAgIHsKICAgICAgICAvLzIwJSBkaXNjb3VudAogICAgICAgIGRpc2NvdW50VG9rZW5zID0gdG9rZW5zLm11bCgyMCk7CiAgICAgICAgZGlzY291bnRUb2tlbnMgPSBkaXNjb3VudFRva2Vucy5kaXYoMTAwKTsKICAgICAgICBkaXNjb3VudFBlcmNlbnRhZ2UgPSAyMDsKICAgIH0KICAgIGVsc2UgaWYgKHdlaUFtb3VudCA+PSA1ICogMTAgKiogMTggJiYgd2VpQW1vdW50IDwxMCAqIDEwICoqIDE4KQogICAgewogICAgICAgIC8vMzAlIGRpc2NvdW50CiAgICAgICAgZGlzY291bnRUb2tlbnMgPSB0b2tlbnMubXVsKDMwKTsKICAgICAgICBkaXNjb3VudFRva2VucyA9IGRpc2NvdW50VG9rZW5zLmRpdigxMDApOwogICAgICAgIGRpc2NvdW50UGVyY2VudGFnZSA9IDMwOwogICAgfQogICAgZWxzZSBpZiAod2VpQW1vdW50ID49IDEwICogMTAgKiAxMCAqKiAxOCAmJiB3ZWlBbW91bnQgPDIwICogMTAgKiogMTgpCiAgICB7CiAgICAgICAgLy80MCUgZGlzY291bnQKICAgICAgICBkaXNjb3VudFRva2VucyA9IHRva2Vucy5tdWwoNDApOwogICAgICAgIGRpc2NvdW50VG9rZW5zID0gZGlzY291bnRUb2tlbnMuZGl2KDEwMCk7CiAgICAgICAgZGlzY291bnRQZXJjZW50YWdlID0gNDA7CiAgICB9CiAgICBlbHNlIGlmICh3ZWlBbW91bnQgPj0gMjAgKiAxMCAqIDEwICoqIDE4KQogICAgewogICAgICAgIC8vNTAlIGRpc2NvdW50CiAgICAgICAgZGlzY291bnRUb2tlbnMgPSB0b2tlbnMubXVsKDUwKTsKICAgICAgICBkaXNjb3VudFRva2VucyA9IGRpc2NvdW50VG9rZW5zLmRpdigxMDApOwogICAgICAgIGRpc2NvdW50UGVyY2VudGFnZSA9IDUwOwogICAgfQogIH0KICAKICAvLyBzZW5kIGV0aGVyIHRvIHRoZSBmdW5kIGNvbGxlY3Rpb24gd2FsbGV0CiAgLy8gb3ZlcnJpZGUgdG8gY3JlYXRlIGN1c3RvbSBmdW5kIGZvcndhcmRpbmcgbWVjaGFuaXNtcwogIGZ1bmN0aW9uIGZvcndhcmRGdW5kcyh1aW50IGZ1bmRzKSBpbnRlcm5hbCB7CiAgICB3YWxsZXQudHJhbnNmZXIoZnVuZHMpOwogIH0KCiAgLy8gQHJldHVybiB0cnVlIGlmIHRoZSB0cmFuc2FjdGlvbiBjYW4gYnV5IHRva2VucwogIGZ1bmN0aW9uIHZhbGlkUHVyY2hhc2UoKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICBib29sIHdpdGhpblBlcmlvZCA9IG5vdyA+PSBzdGFydFRpbWUgJiYgbm93IDw9IGVuZFRpbWU7CiAgICBib29sIG5vblplcm9QdXJjaGFzZSA9IG1zZy52YWx1ZSAhPSAwOwogICAgcmV0dXJuIHdpdGhpblBlcmlvZCAmJiBub25aZXJvUHVyY2hhc2U7CiAgfQoKICAvLyBAcmV0dXJuIHRydWUgaWYgY3Jvd2RzYWxlIGV2ZW50IGhhcyBlbmRlZAogIGZ1bmN0aW9uIGhhc0VuZGVkKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBub3cgPiBlbmRUaW1lOwogIH0KICAKICAgZnVuY3Rpb24gc2hvd015VG9rZW5CYWxhbmNlKGFkZHJlc3Mgc2VuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IHRva2VuQmFsYW5jZSkgewogICAgICAgIHRva2VuQmFsYW5jZSA9IHRva2VuLnNob3dNeVRva2VuQmFsYW5jZShzZW5kZXIpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBjaGFuZ2VTdGFydFRpbWUodWludDI1NiBuZXdTdGFydFRpbWUpIHB1YmxpYwogICAgewogICAgICAgIHJlcXVpcmUgKG1zZy5zZW5kZXIgPT0gd2FsbGV0KTsKICAgICAgICBzdGFydFRpbWUgPSBuZXdTdGFydFRpbWU7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNoYW5nZUVuZFRpbWUodWludDI1NiBuZXdFbmRUaW1lKSBwdWJsaWMKICAgIHsKICAgICAgICByZXF1aXJlIChtc2cuc2VuZGVyID09IHdhbGxldCk7CiAgICAgICAgZW5kVGltZSA9IG5ld0VuZFRpbWU7CiAgICB9Cn0='.
	

]
