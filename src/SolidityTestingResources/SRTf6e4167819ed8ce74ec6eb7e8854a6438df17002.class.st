Class {
	#name : #SRTf6e4167819ed8ce74ec6eb7e8854a6438df17002,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTf6e4167819ed8ce74ec6eb7e8854a6438df17002 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyBGaWxlOiB6ZXBwZWxpbi1zb2xpZGl0eS9jb250cmFjdHMvbWF0aC9TYWZlTWF0aC5zb2wKCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewoKICAvKioKICAqIEBkZXYgTXVsdGlwbGllcyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93LgogICovCiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmIChhID09IDApIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgLyoqCiAgKiBAZGV2IEludGVnZXIgZGl2aXNpb24gb2YgdHdvIG51bWJlcnMsIHRydW5jYXRpbmcgdGhlIHF1b3RpZW50LgogICovCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICAvKioKICAqIEBkZXYgU3Vic3RyYWN0cyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93IChpLmUuIGlmIHN1YnRyYWhlbmQgaXMgZ3JlYXRlciB0aGFuIG1pbnVlbmQpLgogICovCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgLyoqCiAgKiBAZGV2IEFkZHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAqLwogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgovLyBGaWxlOiB6ZXBwZWxpbi1zb2xpZGl0eS9jb250cmFjdHMvdG9rZW4vRVJDMjAvRVJDMjBCYXNpYy5zb2wKCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKLy8gRmlsZTogemVwcGVsaW4tc29saWRpdHkvY29udHJhY3RzL3Rva2VuL0VSQzIwL0VSQzIwLnNvbAoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKLy8gRmlsZTogemVwcGVsaW4tc29saWRpdHkvY29udHJhY3RzL2Nyb3dkc2FsZS9Dcm93ZHNhbGUuc29sCgovKioKICogQHRpdGxlIENyb3dkc2FsZQogKiBAZGV2IENyb3dkc2FsZSBpcyBhIGJhc2UgY29udHJhY3QgZm9yIG1hbmFnaW5nIGEgdG9rZW4gY3Jvd2RzYWxlLAogKiBhbGxvd2luZyBpbnZlc3RvcnMgdG8gcHVyY2hhc2UgdG9rZW5zIHdpdGggZXRoZXIuIFRoaXMgY29udHJhY3QgaW1wbGVtZW50cwogKiBzdWNoIGZ1bmN0aW9uYWxpdHkgaW4gaXRzIG1vc3QgZnVuZGFtZW50YWwgZm9ybSBhbmQgY2FuIGJlIGV4dGVuZGVkIHRvIHByb3ZpZGUgYWRkaXRpb25hbAogKiBmdW5jdGlvbmFsaXR5IGFuZC9vciBjdXN0b20gYmVoYXZpb3IuCiAqIFRoZSBleHRlcm5hbCBpbnRlcmZhY2UgcmVwcmVzZW50cyB0aGUgYmFzaWMgaW50ZXJmYWNlIGZvciBwdXJjaGFzaW5nIHRva2VucywgYW5kIGNvbmZvcm0KICogdGhlIGJhc2UgYXJjaGl0ZWN0dXJlIGZvciBjcm93ZHNhbGVzLiBUaGV5IGFyZSAqbm90KiBpbnRlbmRlZCB0byBiZSBtb2RpZmllZCAvIG92ZXJyaWRlbi4KICogVGhlIGludGVybmFsIGludGVyZmFjZSBjb25mb3JtcyB0aGUgZXh0ZW5zaWJsZSBhbmQgbW9kaWZpYWJsZSBzdXJmYWNlIG9mIGNyb3dkc2FsZXMuIE92ZXJyaWRlIAogKiB0aGUgbWV0aG9kcyB0byBhZGQgZnVuY3Rpb25hbGl0eS4gQ29uc2lkZXIgdXNpbmcgJ3N1cGVyJyB3aGVyZSBhcHByb3BpYXRlIHRvIGNvbmNhdGVuYXRlCiAqIGJlaGF2aW9yLgogKi8KCmNvbnRyYWN0IENyb3dkc2FsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIC8vIFRoZSB0b2tlbiBiZWluZyBzb2xkCiAgRVJDMjAgcHVibGljIHRva2VuOwoKICAvLyBBZGRyZXNzIHdoZXJlIGZ1bmRzIGFyZSBjb2xsZWN0ZWQKICBhZGRyZXNzIHB1YmxpYyB3YWxsZXQ7CgogIC8vIEhvdyBtYW55IHRva2VuIHVuaXRzIGEgYnV5ZXIgZ2V0cyBwZXIgd2VpCiAgdWludDI1NiBwdWJsaWMgcmF0ZTsKCiAgLy8gQW1vdW50IG9mIHdlaSByYWlzZWQKICB1aW50MjU2IHB1YmxpYyB3ZWlSYWlzZWQ7CgogIC8qKgogICAqIEV2ZW50IGZvciB0b2tlbiBwdXJjaGFzZSBsb2dnaW5nCiAgICogQHBhcmFtIHB1cmNoYXNlciB3aG8gcGFpZCBmb3IgdGhlIHRva2VucwogICAqIEBwYXJhbSBiZW5lZmljaWFyeSB3aG8gZ290IHRoZSB0b2tlbnMKICAgKiBAcGFyYW0gdmFsdWUgd2VpcyBwYWlkIGZvciBwdXJjaGFzZQogICAqIEBwYXJhbSBhbW91bnQgYW1vdW50IG9mIHRva2VucyBwdXJjaGFzZWQKICAgKi8KICBldmVudCBUb2tlblB1cmNoYXNlKGFkZHJlc3MgaW5kZXhlZCBwdXJjaGFzZXIsIGFkZHJlc3MgaW5kZXhlZCBiZW5lZmljaWFyeSwgdWludDI1NiB2YWx1ZSwgdWludDI1NiBhbW91bnQpOwoKICAvKioKICAgKiBAcGFyYW0gX3JhdGUgTnVtYmVyIG9mIHRva2VuIHVuaXRzIGEgYnV5ZXIgZ2V0cyBwZXIgd2VpCiAgICogQHBhcmFtIF93YWxsZXQgQWRkcmVzcyB3aGVyZSBjb2xsZWN0ZWQgZnVuZHMgd2lsbCBiZSBmb3J3YXJkZWQgdG8KICAgKiBAcGFyYW0gX3Rva2VuIEFkZHJlc3Mgb2YgdGhlIHRva2VuIGJlaW5nIHNvbGQKICAgKi8KICBmdW5jdGlvbiBDcm93ZHNhbGUodWludDI1NiBfcmF0ZSwgYWRkcmVzcyBfd2FsbGV0LCBFUkMyMCBfdG9rZW4pIHB1YmxpYyB7CiAgICByZXF1aXJlKF9yYXRlID4gMCk7CiAgICByZXF1aXJlKF93YWxsZXQgIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF90b2tlbiAhPSBhZGRyZXNzKDApKTsKCiAgICByYXRlID0gX3JhdGU7CiAgICB3YWxsZXQgPSBfd2FsbGV0OwogICAgdG9rZW4gPSBfdG9rZW47CiAgfQoKICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogIC8vIENyb3dkc2FsZSBleHRlcm5hbCBpbnRlcmZhY2UKICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAvKioKICAgKiBAZGV2IGZhbGxiYWNrIGZ1bmN0aW9uICoqKkRPIE5PVCBPVkVSUklERSoqKgogICAqLwogIGZ1bmN0aW9uICgpIGV4dGVybmFsIHBheWFibGUgewogICAgYnV5VG9rZW5zKG1zZy5zZW5kZXIpOwogIH0KCiAgLyoqCiAgICogQGRldiBsb3cgbGV2ZWwgdG9rZW4gcHVyY2hhc2UgKioqRE8gTk9UIE9WRVJSSURFKioqCiAgICogQHBhcmFtIF9iZW5lZmljaWFyeSBBZGRyZXNzIHBlcmZvcm1pbmcgdGhlIHRva2VuIHB1cmNoYXNlCiAgICovCiAgZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgX2JlbmVmaWNpYXJ5KSBwdWJsaWMgcGF5YWJsZSB7CgogICAgdWludDI1NiB3ZWlBbW91bnQgPSBtc2cudmFsdWU7CiAgICBfcHJlVmFsaWRhdGVQdXJjaGFzZShfYmVuZWZpY2lhcnksIHdlaUFtb3VudCk7CgogICAgLy8gY2FsY3VsYXRlIHRva2VuIGFtb3VudCB0byBiZSBjcmVhdGVkCiAgICB1aW50MjU2IHRva2VucyA9IF9nZXRUb2tlbkFtb3VudCh3ZWlBbW91bnQpOwoKICAgIC8vIHVwZGF0ZSBzdGF0ZQogICAgd2VpUmFpc2VkID0gd2VpUmFpc2VkLmFkZCh3ZWlBbW91bnQpOwoKICAgIF9wcm9jZXNzUHVyY2hhc2UoX2JlbmVmaWNpYXJ5LCB0b2tlbnMpOwogICAgVG9rZW5QdXJjaGFzZShtc2cuc2VuZGVyLCBfYmVuZWZpY2lhcnksIHdlaUFtb3VudCwgdG9rZW5zKTsKCiAgICBfdXBkYXRlUHVyY2hhc2luZ1N0YXRlKF9iZW5lZmljaWFyeSwgd2VpQW1vdW50KTsKCiAgICBfZm9yd2FyZEZ1bmRzKCk7CiAgICBfcG9zdFZhbGlkYXRlUHVyY2hhc2UoX2JlbmVmaWNpYXJ5LCB3ZWlBbW91bnQpOwogIH0KCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAvLyBJbnRlcm5hbCBpbnRlcmZhY2UgKGV4dGVuc2libGUpCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgLyoqCiAgICogQGRldiBWYWxpZGF0aW9uIG9mIGFuIGluY29taW5nIHB1cmNoYXNlLiBVc2UgcmVxdWlyZSBzdGF0ZW1lbnMgdG8gcmV2ZXJ0IHN0YXRlIHdoZW4gY29uZGl0aW9ucyBhcmUgbm90IG1ldC4gVXNlIHN1cGVyIHRvIGNvbmNhdGVuYXRlIHZhbGlkYXRpb25zLgogICAqIEBwYXJhbSBfYmVuZWZpY2lhcnkgQWRkcmVzcyBwZXJmb3JtaW5nIHRoZSB0b2tlbiBwdXJjaGFzZQogICAqIEBwYXJhbSBfd2VpQW1vdW50IFZhbHVlIGluIHdlaSBpbnZvbHZlZCBpbiB0aGUgcHVyY2hhc2UKICAgKi8KICBmdW5jdGlvbiBfcHJlVmFsaWRhdGVQdXJjaGFzZShhZGRyZXNzIF9iZW5lZmljaWFyeSwgdWludDI1NiBfd2VpQW1vdW50KSBpbnRlcm5hbCB7CiAgICByZXF1aXJlKF9iZW5lZmljaWFyeSAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3dlaUFtb3VudCAhPSAwKTsKICB9CgogIC8qKgogICAqIEBkZXYgVmFsaWRhdGlvbiBvZiBhbiBleGVjdXRlZCBwdXJjaGFzZS4gT2JzZXJ2ZSBzdGF0ZSBhbmQgdXNlIHJldmVydCBzdGF0ZW1lbnRzIHRvIHVuZG8gcm9sbGJhY2sgd2hlbiB2YWxpZCBjb25kaXRpb25zIGFyZSBub3QgbWV0LgogICAqIEBwYXJhbSBfYmVuZWZpY2lhcnkgQWRkcmVzcyBwZXJmb3JtaW5nIHRoZSB0b2tlbiBwdXJjaGFzZQogICAqIEBwYXJhbSBfd2VpQW1vdW50IFZhbHVlIGluIHdlaSBpbnZvbHZlZCBpbiB0aGUgcHVyY2hhc2UKICAgKi8KICBmdW5jdGlvbiBfcG9zdFZhbGlkYXRlUHVyY2hhc2UoYWRkcmVzcyBfYmVuZWZpY2lhcnksIHVpbnQyNTYgX3dlaUFtb3VudCkgaW50ZXJuYWwgewogICAgLy8gb3B0aW9uYWwgb3ZlcnJpZGUKICB9CgogIC8qKgogICAqIEBkZXYgU291cmNlIG9mIHRva2Vucy4gT3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gbW9kaWZ5IHRoZSB3YXkgaW4gd2hpY2ggdGhlIGNyb3dkc2FsZSB1bHRpbWF0ZWx5IGdldHMgYW5kIHNlbmRzIGl0cyB0b2tlbnMuCiAgICogQHBhcmFtIF9iZW5lZmljaWFyeSBBZGRyZXNzIHBlcmZvcm1pbmcgdGhlIHRva2VuIHB1cmNoYXNlCiAgICogQHBhcmFtIF90b2tlbkFtb3VudCBOdW1iZXIgb2YgdG9rZW5zIHRvIGJlIGVtaXR0ZWQKICAgKi8KICBmdW5jdGlvbiBfZGVsaXZlclRva2VucyhhZGRyZXNzIF9iZW5lZmljaWFyeSwgdWludDI1NiBfdG9rZW5BbW91bnQpIGludGVybmFsIHsKICAgIHRva2VuLnRyYW5zZmVyKF9iZW5lZmljaWFyeSwgX3Rva2VuQW1vdW50KTsKICB9CgogIC8qKgogICAqIEBkZXYgRXhlY3V0ZWQgd2hlbiBhIHB1cmNoYXNlIGhhcyBiZWVuIHZhbGlkYXRlZCBhbmQgaXMgcmVhZHkgdG8gYmUgZXhlY3V0ZWQuIE5vdCBuZWNlc3NhcmlseSBlbWl0cy9zZW5kcyB0b2tlbnMuCiAgICogQHBhcmFtIF9iZW5lZmljaWFyeSBBZGRyZXNzIHJlY2VpdmluZyB0aGUgdG9rZW5zCiAgICogQHBhcmFtIF90b2tlbkFtb3VudCBOdW1iZXIgb2YgdG9rZW5zIHRvIGJlIHB1cmNoYXNlZAogICAqLwogIGZ1bmN0aW9uIF9wcm9jZXNzUHVyY2hhc2UoYWRkcmVzcyBfYmVuZWZpY2lhcnksIHVpbnQyNTYgX3Rva2VuQW1vdW50KSBpbnRlcm5hbCB7CiAgICBfZGVsaXZlclRva2VucyhfYmVuZWZpY2lhcnksIF90b2tlbkFtb3VudCk7CiAgfQoKICAvKioKICAgKiBAZGV2IE92ZXJyaWRlIGZvciBleHRlbnNpb25zIHRoYXQgcmVxdWlyZSBhbiBpbnRlcm5hbCBzdGF0ZSB0byBjaGVjayBmb3IgdmFsaWRpdHkgKGN1cnJlbnQgdXNlciBjb250cmlidXRpb25zLCBldGMuKQogICAqIEBwYXJhbSBfYmVuZWZpY2lhcnkgQWRkcmVzcyByZWNlaXZpbmcgdGhlIHRva2VucwogICAqIEBwYXJhbSBfd2VpQW1vdW50IFZhbHVlIGluIHdlaSBpbnZvbHZlZCBpbiB0aGUgcHVyY2hhc2UKICAgKi8KICBmdW5jdGlvbiBfdXBkYXRlUHVyY2hhc2luZ1N0YXRlKGFkZHJlc3MgX2JlbmVmaWNpYXJ5LCB1aW50MjU2IF93ZWlBbW91bnQpIGludGVybmFsIHsKICAgIC8vIG9wdGlvbmFsIG92ZXJyaWRlCiAgfQoKICAvKioKICAgKiBAZGV2IE92ZXJyaWRlIHRvIGV4dGVuZCB0aGUgd2F5IGluIHdoaWNoIGV0aGVyIGlzIGNvbnZlcnRlZCB0byB0b2tlbnMuCiAgICogQHBhcmFtIF93ZWlBbW91bnQgVmFsdWUgaW4gd2VpIHRvIGJlIGNvbnZlcnRlZCBpbnRvIHRva2VucwogICAqIEByZXR1cm4gTnVtYmVyIG9mIHRva2VucyB0aGF0IGNhbiBiZSBwdXJjaGFzZWQgd2l0aCB0aGUgc3BlY2lmaWVkIF93ZWlBbW91bnQKICAgKi8KICBmdW5jdGlvbiBfZ2V0VG9rZW5BbW91bnQodWludDI1NiBfd2VpQW1vdW50KSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBfd2VpQW1vdW50Lm11bChyYXRlKTsKICB9CgogIC8qKgogICAqIEBkZXYgRGV0ZXJtaW5lcyBob3cgRVRIIGlzIHN0b3JlZC9mb3J3YXJkZWQgb24gcHVyY2hhc2VzLgogICAqLwogIGZ1bmN0aW9uIF9mb3J3YXJkRnVuZHMoKSBpbnRlcm5hbCB7CiAgICB3YWxsZXQudHJhbnNmZXIobXNnLnZhbHVlKTsKICB9Cn0KCi8vIEZpbGU6IHplcHBlbGluLXNvbGlkaXR5L2NvbnRyYWN0cy9jcm93ZHNhbGUvZW1pc3Npb24vQWxsb3dhbmNlQ3Jvd2RzYWxlLnNvbAoKLyoqCiAqIEB0aXRsZSBBbGxvd2FuY2VDcm93ZHNhbGUKICogQGRldiBFeHRlbnNpb24gb2YgQ3Jvd2RzYWxlIHdoZXJlIHRva2VucyBhcmUgaGVsZCBieSBhIHdhbGxldCwgd2hpY2ggYXBwcm92ZXMgYW4gYWxsb3dhbmNlIHRvIHRoZSBjcm93ZHNhbGUuCiAqLwpjb250cmFjdCBBbGxvd2FuY2VDcm93ZHNhbGUgaXMgQ3Jvd2RzYWxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgYWRkcmVzcyBwdWJsaWMgdG9rZW5XYWxsZXQ7CgogIC8qKgogICAqIEBkZXYgQ29uc3RydWN0b3IsIHRha2VzIHRva2VuIHdhbGxldCBhZGRyZXNzLiAKICAgKiBAcGFyYW0gX3Rva2VuV2FsbGV0IEFkZHJlc3MgaG9sZGluZyB0aGUgdG9rZW5zLCB3aGljaCBoYXMgYXBwcm92ZWQgYWxsb3dhbmNlIHRvIHRoZSBjcm93ZHNhbGUKICAgKi8KICBmdW5jdGlvbiBBbGxvd2FuY2VDcm93ZHNhbGUoYWRkcmVzcyBfdG9rZW5XYWxsZXQpIHB1YmxpYyB7CiAgICByZXF1aXJlKF90b2tlbldhbGxldCAhPSBhZGRyZXNzKDApKTsKICAgIHRva2VuV2FsbGV0ID0gX3Rva2VuV2FsbGV0OwogIH0KCiAgLyoqCiAgICogQGRldiBDaGVja3MgdGhlIGFtb3VudCBvZiB0b2tlbnMgbGVmdCBpbiB0aGUgYWxsb3dhbmNlLgogICAqIEByZXR1cm4gQW1vdW50IG9mIHRva2VucyBsZWZ0IGluIHRoZSBhbGxvd2FuY2UKICAgKi8KICBmdW5jdGlvbiByZW1haW5pbmdUb2tlbnMoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gdG9rZW4uYWxsb3dhbmNlKHRva2VuV2FsbGV0LCB0aGlzKTsKICB9CgogIC8qKgogICAqIEBkZXYgT3ZlcnJpZGVzIHBhcmVudCBiZWhhdmlvciBieSB0cmFuc2ZlcnJpbmcgdG9rZW5zIGZyb20gd2FsbGV0LgogICAqIEBwYXJhbSBfYmVuZWZpY2lhcnkgVG9rZW4gcHVyY2hhc2VyCiAgICogQHBhcmFtIF90b2tlbkFtb3VudCBBbW91bnQgb2YgdG9rZW5zIHB1cmNoYXNlZAogICAqLwogIGZ1bmN0aW9uIF9kZWxpdmVyVG9rZW5zKGFkZHJlc3MgX2JlbmVmaWNpYXJ5LCB1aW50MjU2IF90b2tlbkFtb3VudCkgaW50ZXJuYWwgewogICAgdG9rZW4udHJhbnNmZXJGcm9tKHRva2VuV2FsbGV0LCBfYmVuZWZpY2lhcnksIF90b2tlbkFtb3VudCk7CiAgfQp9CgovLyBGaWxlOiB6ZXBwZWxpbi1zb2xpZGl0eS9jb250cmFjdHMvY3Jvd2RzYWxlL3ZhbGlkYXRpb24vQ2FwcGVkQ3Jvd2RzYWxlLnNvbAoKLyoqCiAqIEB0aXRsZSBDYXBwZWRDcm93ZHNhbGUKICogQGRldiBDcm93ZHNhbGUgd2l0aCBhIGxpbWl0IGZvciB0b3RhbCBjb250cmlidXRpb25zLgogKi8KY29udHJhY3QgQ2FwcGVkQ3Jvd2RzYWxlIGlzIENyb3dkc2FsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIHVpbnQyNTYgcHVibGljIGNhcDsKCiAgLyoqCiAgICogQGRldiBDb25zdHJ1Y3RvciwgdGFrZXMgbWF4aW11bSBhbW91bnQgb2Ygd2VpIGFjY2VwdGVkIGluIHRoZSBjcm93ZHNhbGUuCiAgICogQHBhcmFtIF9jYXAgTWF4IGFtb3VudCBvZiB3ZWkgdG8gYmUgY29udHJpYnV0ZWQKICAgKi8KICBmdW5jdGlvbiBDYXBwZWRDcm93ZHNhbGUodWludDI1NiBfY2FwKSBwdWJsaWMgewogICAgcmVxdWlyZShfY2FwID4gMCk7CiAgICBjYXAgPSBfY2FwOwogIH0KCiAgLyoqCiAgICogQGRldiBDaGVja3Mgd2hldGhlciB0aGUgY2FwIGhhcyBiZWVuIHJlYWNoZWQuIAogICAqIEByZXR1cm4gV2hldGhlciB0aGUgY2FwIHdhcyByZWFjaGVkCiAgICovCiAgZnVuY3Rpb24gY2FwUmVhY2hlZCgpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiB3ZWlSYWlzZWQgPj0gY2FwOwogIH0KCiAgLyoqCiAgICogQGRldiBFeHRlbmQgcGFyZW50IGJlaGF2aW9yIHJlcXVpcmluZyBwdXJjaGFzZSB0byByZXNwZWN0IHRoZSBmdW5kaW5nIGNhcC4KICAgKiBAcGFyYW0gX2JlbmVmaWNpYXJ5IFRva2VuIHB1cmNoYXNlcgogICAqIEBwYXJhbSBfd2VpQW1vdW50IEFtb3VudCBvZiB3ZWkgY29udHJpYnV0ZWQKICAgKi8KICBmdW5jdGlvbiBfcHJlVmFsaWRhdGVQdXJjaGFzZShhZGRyZXNzIF9iZW5lZmljaWFyeSwgdWludDI1NiBfd2VpQW1vdW50KSBpbnRlcm5hbCB7CiAgICBzdXBlci5fcHJlVmFsaWRhdGVQdXJjaGFzZShfYmVuZWZpY2lhcnksIF93ZWlBbW91bnQpOwogICAgcmVxdWlyZSh3ZWlSYWlzZWQuYWRkKF93ZWlBbW91bnQpIDw9IGNhcCk7CiAgfQoKfQoKLy8gRmlsZTogemVwcGVsaW4tc29saWRpdHkvY29udHJhY3RzL293bmVyc2hpcC9Pd25hYmxlLnNvbAoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCi8vIEZpbGU6IHplcHBlbGluLXNvbGlkaXR5L2NvbnRyYWN0cy9jcm93ZHNhbGUvdmFsaWRhdGlvbi9JbmRpdmlkdWFsbHlDYXBwZWRDcm93ZHNhbGUuc29sCgovKioKICogQHRpdGxlIEluZGl2aWR1YWxseUNhcHBlZENyb3dkc2FsZQogKiBAZGV2IENyb3dkc2FsZSB3aXRoIHBlci11c2VyIGNhcHMuCiAqLwpjb250cmFjdCBJbmRpdmlkdWFsbHlDYXBwZWRDcm93ZHNhbGUgaXMgQ3Jvd2RzYWxlLCBPd25hYmxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBjb250cmlidXRpb25zOwogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgY2FwczsKCiAgLyoqCiAgICogQGRldiBTZXRzIGEgc3BlY2lmaWMgdXNlcidzIG1heGltdW0gY29udHJpYnV0aW9uLgogICAqIEBwYXJhbSBfYmVuZWZpY2lhcnkgQWRkcmVzcyB0byBiZSBjYXBwZWQKICAgKiBAcGFyYW0gX2NhcCBXZWkgbGltaXQgZm9yIGluZGl2aWR1YWwgY29udHJpYnV0aW9uCiAgICovCiAgZnVuY3Rpb24gc2V0VXNlckNhcChhZGRyZXNzIF9iZW5lZmljaWFyeSwgdWludDI1NiBfY2FwKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgY2Fwc1tfYmVuZWZpY2lhcnldID0gX2NhcDsKICB9CgogIC8qKgogICAqIEBkZXYgU2V0cyBhIGdyb3VwIG9mIHVzZXJzJyBtYXhpbXVtIGNvbnRyaWJ1dGlvbi4KICAgKiBAcGFyYW0gX2JlbmVmaWNpYXJpZXMgTGlzdCBvZiBhZGRyZXNzZXMgdG8gYmUgY2FwcGVkCiAgICogQHBhcmFtIF9jYXAgV2VpIGxpbWl0IGZvciBpbmRpdmlkdWFsIGNvbnRyaWJ1dGlvbgogICAqLwogIGZ1bmN0aW9uIHNldEdyb3VwQ2FwKGFkZHJlc3NbXSBfYmVuZWZpY2lhcmllcywgdWludDI1NiBfY2FwKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgX2JlbmVmaWNpYXJpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgY2Fwc1tfYmVuZWZpY2lhcmllc1tpXV0gPSBfY2FwOwogICAgfQogIH0KCiAgLyoqCiAgICogQGRldiBSZXR1cm5zIHRoZSBjYXAgb2YgYSBzcGVjaWZpYyB1c2VyLgogICAqIEBwYXJhbSBfYmVuZWZpY2lhcnkgQWRkcmVzcyB3aG9zZSBjYXAgaXMgdG8gYmUgY2hlY2tlZAogICAqIEByZXR1cm4gQ3VycmVudCBjYXAgZm9yIGluZGl2aWR1YWwgdXNlcgogICAqLwogIGZ1bmN0aW9uIGdldFVzZXJDYXAoYWRkcmVzcyBfYmVuZWZpY2lhcnkpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBjYXBzW19iZW5lZmljaWFyeV07CiAgfQoKICAvKioKICAgKiBAZGV2IFJldHVybnMgdGhlIGFtb3VudCBjb250cmlidXRlZCBzbyBmYXIgYnkgYSBzZXBlY2lmaWMgdXNlci4KICAgKiBAcGFyYW0gX2JlbmVmaWNpYXJ5IEFkZHJlc3Mgb2YgY29udHJpYnV0b3IKICAgKiBAcmV0dXJuIFVzZXIgY29udHJpYnV0aW9uIHNvIGZhcgogICAqLwogIGZ1bmN0aW9uIGdldFVzZXJDb250cmlidXRpb24oYWRkcmVzcyBfYmVuZWZpY2lhcnkpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBjb250cmlidXRpb25zW19iZW5lZmljaWFyeV07CiAgfQoKICAvKioKICAgKiBAZGV2IEV4dGVuZCBwYXJlbnQgYmVoYXZpb3IgcmVxdWlyaW5nIHB1cmNoYXNlIHRvIHJlc3BlY3QgdGhlIHVzZXIncyBmdW5kaW5nIGNhcC4KICAgKiBAcGFyYW0gX2JlbmVmaWNpYXJ5IFRva2VuIHB1cmNoYXNlcgogICAqIEBwYXJhbSBfd2VpQW1vdW50IEFtb3VudCBvZiB3ZWkgY29udHJpYnV0ZWQKICAgKi8KICBmdW5jdGlvbiBfcHJlVmFsaWRhdGVQdXJjaGFzZShhZGRyZXNzIF9iZW5lZmljaWFyeSwgdWludDI1NiBfd2VpQW1vdW50KSBpbnRlcm5hbCB7CiAgICBzdXBlci5fcHJlVmFsaWRhdGVQdXJjaGFzZShfYmVuZWZpY2lhcnksIF93ZWlBbW91bnQpOwogICAgcmVxdWlyZShjb250cmlidXRpb25zW19iZW5lZmljaWFyeV0uYWRkKF93ZWlBbW91bnQpIDw9IGNhcHNbX2JlbmVmaWNpYXJ5XSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEV4dGVuZCBwYXJlbnQgYmVoYXZpb3IgdG8gdXBkYXRlIHVzZXIgY29udHJpYnV0aW9ucwogICAqIEBwYXJhbSBfYmVuZWZpY2lhcnkgVG9rZW4gcHVyY2hhc2VyCiAgICogQHBhcmFtIF93ZWlBbW91bnQgQW1vdW50IG9mIHdlaSBjb250cmlidXRlZAogICAqLwogIGZ1bmN0aW9uIF91cGRhdGVQdXJjaGFzaW5nU3RhdGUoYWRkcmVzcyBfYmVuZWZpY2lhcnksIHVpbnQyNTYgX3dlaUFtb3VudCkgaW50ZXJuYWwgewogICAgc3VwZXIuX3VwZGF0ZVB1cmNoYXNpbmdTdGF0ZShfYmVuZWZpY2lhcnksIF93ZWlBbW91bnQpOwogICAgY29udHJpYnV0aW9uc1tfYmVuZWZpY2lhcnldID0gY29udHJpYnV0aW9uc1tfYmVuZWZpY2lhcnldLmFkZChfd2VpQW1vdW50KTsKICB9Cgp9CgovLyBGaWxlOiB6ZXBwZWxpbi1zb2xpZGl0eS9jb250cmFjdHMvY3Jvd2RzYWxlL3ZhbGlkYXRpb24vVGltZWRDcm93ZHNhbGUuc29sCgovKioKICogQHRpdGxlIFRpbWVkQ3Jvd2RzYWxlCiAqIEBkZXYgQ3Jvd2RzYWxlIGFjY2VwdGluZyBjb250cmlidXRpb25zIG9ubHkgd2l0aGluIGEgdGltZSBmcmFtZS4KICovCmNvbnRyYWN0IFRpbWVkQ3Jvd2RzYWxlIGlzIENyb3dkc2FsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIHVpbnQyNTYgcHVibGljIG9wZW5pbmdUaW1lOwogIHVpbnQyNTYgcHVibGljIGNsb3NpbmdUaW1lOwoKICAvKioKICAgKiBAZGV2IFJldmVydHMgaWYgbm90IGluIGNyb3dkc2FsZSB0aW1lIHJhbmdlLiAKICAgKi8KICBtb2RpZmllciBvbmx5V2hpbGVPcGVuIHsKICAgIHJlcXVpcmUobm93ID49IG9wZW5pbmdUaW1lICYmIG5vdyA8PSBjbG9zaW5nVGltZSk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBDb25zdHJ1Y3RvciwgdGFrZXMgY3Jvd2RzYWxlIG9wZW5pbmcgYW5kIGNsb3NpbmcgdGltZXMuCiAgICogQHBhcmFtIF9vcGVuaW5nVGltZSBDcm93ZHNhbGUgb3BlbmluZyB0aW1lCiAgICogQHBhcmFtIF9jbG9zaW5nVGltZSBDcm93ZHNhbGUgY2xvc2luZyB0aW1lCiAgICovCiAgZnVuY3Rpb24gVGltZWRDcm93ZHNhbGUodWludDI1NiBfb3BlbmluZ1RpbWUsIHVpbnQyNTYgX2Nsb3NpbmdUaW1lKSBwdWJsaWMgewogICAgcmVxdWlyZShfb3BlbmluZ1RpbWUgPj0gbm93KTsKICAgIHJlcXVpcmUoX2Nsb3NpbmdUaW1lID49IF9vcGVuaW5nVGltZSk7CgogICAgb3BlbmluZ1RpbWUgPSBfb3BlbmluZ1RpbWU7CiAgICBjbG9zaW5nVGltZSA9IF9jbG9zaW5nVGltZTsKICB9CgogIC8qKgogICAqIEBkZXYgQ2hlY2tzIHdoZXRoZXIgdGhlIHBlcmlvZCBpbiB3aGljaCB0aGUgY3Jvd2RzYWxlIGlzIG9wZW4gaGFzIGFscmVhZHkgZWxhcHNlZC4KICAgKiBAcmV0dXJuIFdoZXRoZXIgY3Jvd2RzYWxlIHBlcmlvZCBoYXMgZWxhcHNlZAogICAqLwogIGZ1bmN0aW9uIGhhc0Nsb3NlZCgpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBub3cgPiBjbG9zaW5nVGltZTsKICB9CiAgCiAgLyoqCiAgICogQGRldiBFeHRlbmQgcGFyZW50IGJlaGF2aW9yIHJlcXVpcmluZyB0byBiZSB3aXRoaW4gY29udHJpYnV0aW5nIHBlcmlvZAogICAqIEBwYXJhbSBfYmVuZWZpY2lhcnkgVG9rZW4gcHVyY2hhc2VyCiAgICogQHBhcmFtIF93ZWlBbW91bnQgQW1vdW50IG9mIHdlaSBjb250cmlidXRlZAogICAqLwogIGZ1bmN0aW9uIF9wcmVWYWxpZGF0ZVB1cmNoYXNlKGFkZHJlc3MgX2JlbmVmaWNpYXJ5LCB1aW50MjU2IF93ZWlBbW91bnQpIGludGVybmFsIG9ubHlXaGlsZU9wZW4gewogICAgc3VwZXIuX3ByZVZhbGlkYXRlUHVyY2hhc2UoX2JlbmVmaWNpYXJ5LCBfd2VpQW1vdW50KTsKICB9Cgp9CgovLyBGaWxlOiBjb250cmFjdHMvQ2FyYm9uZXVtQ3Jvd2RzYWxlLnNvbAoKLyoqCiAqIEB0aXRsZSBDYXJib25ldW1Dcm93ZHNhbGUKICogQGRldiBUaGlzIGlzIENhcmJvbmV1bSBmdWxseSBmbGVkZ2VkIGNyb3dkc2FsZS4KICogQ2FwcGVkQ3Jvd2RzYWxlIC0gc2V0cyBhIG1heCBib3VuZGFyeSBmb3IgcmFpc2VkIGZ1bmRzLgogKiBBbGxvd2FuY2VDcm93ZHNhbGUgLSB0b2tlbiBoZWxkIGJ5IGEgd2FsbGV0LgogKiBJbmRpdmlkdWFsbHlDYXBwZWRDcm93ZHNhbGUgLSBDcm93ZHNhbGUgd2l0aCBwZXItdXNlciBjYXBzLgogKiBUaW1lZENyb3dkc2FsZSAtIENyb3dkc2FsZSBhY2NlcHRpbmcgY29udHJpYnV0aW9ucyBvbmx5IHdpdGhpbiBhIHRpbWUgZnJhbWUuCiAqLwpjb250cmFjdCBDYXJib25ldW1Dcm93ZHNhbGUgaXMgQ2FwcGVkQ3Jvd2RzYWxlLCBBbGxvd2FuY2VDcm93ZHNhbGUsIEluZGl2aWR1YWxseUNhcHBlZENyb3dkc2FsZSwgVGltZWRDcm93ZHNhbGUgewoKICB1aW50MjU2IHB1YmxpYyBwcmVfc2FsZV9lbmQ7CgogIGZ1bmN0aW9uIENhcmJvbmV1bUNyb3dkc2FsZSgKICAgIHVpbnQyNTYgX29wZW5pbmdUaW1lLAogICAgdWludDI1NiBfY2xvc2luZ1RpbWUsCiAgICB1aW50MjU2IF9yYXRlLAogICAgYWRkcmVzcyBfdG9rZW5XYWxsZXQsCiAgICBhZGRyZXNzIF9mdW5kV2FsbGV0LAogICAgdWludDI1NiBfY2FwLAogICAgRVJDMjAgX3Rva2VuLAogICAgdWludDI1NiBfcHJlU2FsZUVuZCkgcHVibGljCiAgQWxsb3dhbmNlQ3Jvd2RzYWxlKF90b2tlbldhbGxldCkKICBDcm93ZHNhbGUoX3JhdGUsIF9mdW5kV2FsbGV0LCBfdG9rZW4pCiAgQ2FwcGVkQ3Jvd2RzYWxlKF9jYXApCiAgVGltZWRDcm93ZHNhbGUoX29wZW5pbmdUaW1lLCBfY2xvc2luZ1RpbWUpCiAgewogICAgcmVxdWlyZShfcHJlU2FsZUVuZCA8IF9jbG9zaW5nVGltZSk7CiAgICBwcmVfc2FsZV9lbmQgPSBfcHJlU2FsZUVuZDsKICB9CgogIGZ1bmN0aW9uIHNldFJhdGUodWludDI1NiBfcmF0ZSkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgIHJhdGUgPSBfcmF0ZTsKICB9CgogIGZ1bmN0aW9uIGdldFJhdGUoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gcmF0ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQWRkIGJvbnVzIHRvIHByZS1zYWxlIHBlcmlvZC4KICAgKiBAcGFyYW0gX3dlaUFtb3VudCBWYWx1ZSBpbiB3ZWkgdG8gYmUgY29udmVydGVkIGludG8gdG9rZW5zCiAgICogQHJldHVybiBOdW1iZXIgb2YgdG9rZW5zIHRoYXQgY2FuIGJlIHB1cmNoYXNlZCB3aXRoIHRoZSBzcGVjaWZpZWQgX3dlaUFtb3VudAogICAqLwogIGZ1bmN0aW9uIF9nZXRUb2tlbkFtb3VudCh1aW50MjU2IF93ZWlBbW91bnQpIGludGVybmFsIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBuZXdSYXRlID0gcmF0ZTsKICAgIGlmIChub3cgPCBwcmVfc2FsZV9lbmQpIHsvLyBzb2xpdW0tZGlzYWJsZS1saW5lIHNlY3VyaXR5L25vLWJsb2NrLW1lbWJlcnMKICAgICAgLy8gQm9udXMgOCUKICAgICAgbmV3UmF0ZSArPSByYXRlICogOCAvIDEwMDsKICAgIH0KICAgIHJldHVybiBfd2VpQW1vdW50Lm11bChuZXdSYXRlKTsKICB9Cgp9'.
	

]
