Class {
	#name : #SRT403860568bcd726ec403f8a1ca67f374e842f16c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT403860568bcd726ec403f8a1ca67f374e842f16c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTQ7Cgpjb250cmFjdCBFUkMyMCB7CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgc3VwcGx5KTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZiggYWRkcmVzcyB3aG8gKSBjb25zdGFudCByZXR1cm5zICh1aW50IHZhbHVlKTsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZSggYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyICkgY29uc3RhbnQgcmV0dXJucyAodWludCBfYWxsb3dhbmNlKTsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlciggYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oIGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKCBhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdmFsdWUgKSByZXR1cm5zIChib29sIG9rKTsKCiAgICBldmVudCBUcmFuc2ZlciggYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbCggYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB2YWx1ZSk7Cn0KCmNvbnRyYWN0IERTTWF0aCB7CiAgICAKICAgIC8qCiAgICBzdGFuZGFyZCB1aW50MjU2IGZ1bmN0aW9ucwogICAgICovCgogICAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICBhc3NlcnQoKHogPSB4ICsgeSkgPj0geCk7CiAgICB9CgogICAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICBhc3NlcnQoKHogPSB4IC0geSkgPD0geCk7CiAgICB9CgogICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICBhc3NlcnQoKHogPSB4ICogeSkgPj0geCk7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICB6ID0geCAvIHk7CiAgICB9CgogICAgZnVuY3Rpb24gbWluKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICByZXR1cm4geCA8PSB5ID8geCA6IHk7CiAgICB9CiAgICBmdW5jdGlvbiBtYXgodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgewogICAgICAgIHJldHVybiB4ID49IHkgPyB4IDogeTsKICAgIH0KCiAgICAvKgogICAgdWludDEyOCBmdW5jdGlvbnMgKGggaXMgZm9yIGhhbGYpCiAgICAgKi8KCgogICAgZnVuY3Rpb24gaGFkZCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgYXNzZXJ0KCh6ID0geCArIHkpID49IHgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGhzdWIodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIGFzc2VydCgoeiA9IHggLSB5KSA8PSB4KTsKICAgIH0KCiAgICBmdW5jdGlvbiBobXVsKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICBhc3NlcnQoKHogPSB4ICogeSkgPj0geCk7CiAgICB9CgogICAgZnVuY3Rpb24gaGRpdih1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgeiA9IHggLyB5OwogICAgfQoKICAgIGZ1bmN0aW9uIGhtaW4odWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIHJldHVybiB4IDw9IHkgPyB4IDogeTsKICAgIH0KICAgIGZ1bmN0aW9uIGhtYXgodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIHJldHVybiB4ID49IHkgPyB4IDogeTsKICAgIH0KCgogICAgLyoKICAgIGludDI1NiBmdW5jdGlvbnMKICAgICAqLwoKICAgIGZ1bmN0aW9uIGltaW4oaW50MjU2IHgsIGludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zIChpbnQyNTYgeikgewogICAgICAgIHJldHVybiB4IDw9IHkgPyB4IDogeTsKICAgIH0KICAgIGZ1bmN0aW9uIGltYXgoaW50MjU2IHgsIGludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zIChpbnQyNTYgeikgewogICAgICAgIHJldHVybiB4ID49IHkgPyB4IDogeTsKICAgIH0KCiAgICAvKgogICAgV0FEIG1hdGgKICAgICAqLwoKICAgIHVpbnQxMjggY29uc3RhbnQgV0FEID0gMTAgKiogMTg7CgogICAgZnVuY3Rpb24gd2FkZCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCkgewogICAgICAgIHJldHVybiBoYWRkKHgsIHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdzdWIodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjgpIHsKICAgICAgICByZXR1cm4gaHN1Yih4LCB5KTsKICAgIH0KCiAgICBmdW5jdGlvbiB3bXVsKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICB6ID0gY2FzdCgodWludDI1Nih4KSAqIHkgKyBXQUQgLyAyKSAvIFdBRCk7CiAgICB9CgogICAgZnVuY3Rpb24gd2Rpdih1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgeiA9IGNhc3QoKHVpbnQyNTYoeCkgKiBXQUQgKyB5IC8gMikgLyB5KTsKICAgIH0KCiAgICBmdW5jdGlvbiB3bWluKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4KSB7CiAgICAgICAgcmV0dXJuIGhtaW4oeCwgeSk7CiAgICB9CiAgICBmdW5jdGlvbiB3bWF4KHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4KSB7CiAgICAgICAgcmV0dXJuIGhtYXgoeCwgeSk7CiAgICB9CgogICAgLyoKICAgIFJBWSBtYXRoCiAgICAgKi8KCiAgICB1aW50MTI4IGNvbnN0YW50IFJBWSA9IDEwICoqIDI3OwoKICAgIGZ1bmN0aW9uIHJhZGQodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjgpIHsKICAgICAgICByZXR1cm4gaGFkZCh4LCB5KTsKICAgIH0KCiAgICBmdW5jdGlvbiByc3ViKHVpbnQxMjggeCwgdWludDEyOCB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4KSB7CiAgICAgICAgcmV0dXJuIGhzdWIoeCwgeSk7CiAgICB9CgogICAgZnVuY3Rpb24gcm11bCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCB6KSB7CiAgICAgICAgeiA9IGNhc3QoKHVpbnQyNTYoeCkgKiB5ICsgUkFZIC8gMikgLyBSQVkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJkaXYodWludDEyOCB4LCB1aW50MTI4IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQxMjggeikgewogICAgICAgIHogPSBjYXN0KCh1aW50MjU2KHgpICogUkFZICsgeSAvIDIpIC8geSk7CiAgICB9CgogICAgZnVuY3Rpb24gcnBvdyh1aW50MTI4IHgsIHVpbnQ2NCBuKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICAvLyBUaGlzIGZhbW91cyBhbGdvcml0aG0gaXMgY2FsbGVkICJleHBvbmVudGlhdGlvbiBieSBzcXVhcmluZyIKICAgICAgICAvLyBhbmQgY2FsY3VsYXRlcyB4Xm4gd2l0aCB4IGFzIGZpeGVkLXBvaW50IGFuZCBuIGFzIHJlZ3VsYXIgdW5zaWduZWQuCiAgICAgICAgLy8KICAgICAgICAvLyBJdCdzIE8obG9nIG4pLCBpbnN0ZWFkIG9mIE8obikgZm9yIG5haXZlIHJlcGVhdGVkIG11bHRpcGxpY2F0aW9uLgogICAgICAgIC8vCiAgICAgICAgLy8gVGhlc2UgZmFjdHMgYXJlIHdoeSBpdCB3b3JrczoKICAgICAgICAvLwogICAgICAgIC8vICBJZiBuIGlzIGV2ZW4sIHRoZW4geF5uID0gKHheMileKG4vMikuCiAgICAgICAgLy8gIElmIG4gaXMgb2RkLCAgdGhlbiB4Xm4gPSB4ICogeF4obi0xKSwKICAgICAgICAvLyAgIGFuZCBhcHBseWluZyB0aGUgZXF1YXRpb24gZm9yIGV2ZW4geCBnaXZlcwogICAgICAgIC8vICAgIHhebiA9IHggKiAoeF4yKV4oKG4tMSkgLyAyKS4KICAgICAgICAvLwogICAgICAgIC8vICBBbHNvLCBFVk0gZGl2aXNpb24gaXMgZmxvb3JpbmcgYW5kCiAgICAgICAgLy8gICAgZmxvb3JbKG4tMSkgLyAyXSA9IGZsb29yW24gLyAyXS4KCiAgICAgICAgeiA9IG4gJSAyICE9IDAgPyB4IDogUkFZOwoKICAgICAgICBmb3IgKG4gLz0gMjsgbiAhPSAwOyBuIC89IDIpIHsKICAgICAgICAgICAgeCA9IHJtdWwoeCwgeCk7CgogICAgICAgICAgICBpZiAobiAlIDIgIT0gMCkgewogICAgICAgICAgICAgICAgeiA9IHJtdWwoeiwgeCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcm1pbih1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCkgewogICAgICAgIHJldHVybiBobWluKHgsIHkpOwogICAgfQogICAgZnVuY3Rpb24gcm1heCh1aW50MTI4IHgsIHVpbnQxMjggeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDEyOCkgewogICAgICAgIHJldHVybiBobWF4KHgsIHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNhc3QodWludDI1NiB4KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MTI4IHopIHsKICAgICAgICBhc3NlcnQoKHogPSB1aW50MTI4KHgpKSA9PSB4KTsKICAgIH0KCn0KCmNvbnRyYWN0IFRva2VuQmFzZSBpcyBFUkMyMCwgRFNNYXRoIHsKICAgIHVpbnQyNTYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdXBwbHk7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpICAgICAgICAgICAgICAgICAgICAgICBfYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpICBfYXBwcm92YWxzOwoKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBfc3VwcGx5OwogICAgfQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgYWRkcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBfYmFsYW5jZXNbYWRkcl07CiAgICB9CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIF9hcHByb3ZhbHNbZnJvbV1bdG9dOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgYXNzZXJ0KF9iYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSB2YWx1ZSk7CiAgICAgICAgCiAgICAgICAgX2JhbGFuY2VzW21zZy5zZW5kZXJdID0gc3ViKF9iYWxhbmNlc1ttc2cuc2VuZGVyXSwgdmFsdWUpOwogICAgICAgIF9iYWxhbmNlc1t0b10gPSBhZGQoX2JhbGFuY2VzW3RvXSwgdmFsdWUpOwogICAgICAgIAogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIHRvLCB2YWx1ZSk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBhc3NlcnQoX2JhbGFuY2VzW2Zyb21dID49IHZhbHVlKTsKICAgICAgICBhc3NlcnQoX2FwcHJvdmFsc1tmcm9tXVttc2cuc2VuZGVyXSA+PSB2YWx1ZSk7CiAgICAgICAgCiAgICAgICAgX2FwcHJvdmFsc1tmcm9tXVttc2cuc2VuZGVyXSA9IHN1YihfYXBwcm92YWxzW2Zyb21dW21zZy5zZW5kZXJdLCB2YWx1ZSk7CiAgICAgICAgX2JhbGFuY2VzW2Zyb21dID0gc3ViKF9iYWxhbmNlc1tmcm9tXSwgdmFsdWUpOwogICAgICAgIF9iYWxhbmNlc1t0b10gPSBhZGQoX2JhbGFuY2VzW3RvXSwgdmFsdWUpOwogICAgICAgIAogICAgICAgIFRyYW5zZmVyKGZyb20sIHRvLCB2YWx1ZSk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIF9hcHByb3ZhbHNbbXNnLnNlbmRlcl1bdG9dID0gdmFsdWU7CiAgICAgICAgCiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgdG8sIHZhbHVlKTsKICAgICAgICAKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCn0KCmNvbnRyYWN0IE93bmVkCnsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgCiAgICBmdW5jdGlvbiBPd25lZCgpCiAgICB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQogICAgCiAgICBtb2RpZmllciBvbmx5T3duZXIoKQogICAgewogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSByZXZlcnQoKTsKICAgICAgICBfOwogICAgfQp9Cgpjb250cmFjdCBNaWdyYWJsZSBpcyBUb2tlbkJhc2UsIE93bmVkCnsKICAgIGV2ZW50IE1pZ3JhdGUoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBhZGRyZXNzIHB1YmxpYyBtaWdyYXRpb25BZ2VudDsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsTWlncmF0ZWQ7CgoKICAgIGZ1bmN0aW9uIG1pZ3JhdGUoKSBleHRlcm5hbCB7CiAgICAgICAgaWYgKG1pZ3JhdGlvbkFnZW50ID09IDApICByZXZlcnQoKTsKICAgICAgICBpZiAoX2JhbGFuY2VzW21zZy5zZW5kZXJdID09IDApICByZXZlcnQoKTsKICAgICAgICAKICAgICAgICB1aW50MjU2IF92YWx1ZSA9IF9iYWxhbmNlc1ttc2cuc2VuZGVyXTsKICAgICAgICBfYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAwOwogICAgICAgIF9zdXBwbHkgPSBzdWIoX3N1cHBseSwgX3ZhbHVlKTsKICAgICAgICB0b3RhbE1pZ3JhdGVkID0gYWRkKHRvdGFsTWlncmF0ZWQsIF92YWx1ZSk7CiAgICAgICAgTWlncmF0aW9uQWdlbnQobWlncmF0aW9uQWdlbnQpLm1pZ3JhdGVGcm9tKG1zZy5zZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgTWlncmF0ZShtc2cuc2VuZGVyLCBtaWdyYXRpb25BZ2VudCwgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRNaWdyYXRpb25BZ2VudChhZGRyZXNzIF9hZ2VudCkgb25seU93bmVyIGV4dGVybmFsIHsKICAgICAgICBpZiAobWlncmF0aW9uQWdlbnQgIT0gMCkgIHJldmVydCgpOwogICAgICAgIG1pZ3JhdGlvbkFnZW50ID0gX2FnZW50OwogICAgfQp9Cgpjb250cmFjdCBDcm93ZENvaW4gaXMgVG9rZW5CYXNlLCBPd25lZCwgTWlncmFibGUgewogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkNyb3dkIENvaW4iOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiQ1JDIjsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OyAKCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBwcmVfaWNvX2FsbG9jYXRpb24gPSAxMDAwMDAwMCAqIFdBRDsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IGJvdW50eV9hbGxvY2F0aW9uID0gMTAwMDAwMCAqIFdBRDsKICAgIAogICAgdWludCBwdWJsaWMgaWNvX2FsbG9jYXRpb24gPSA1MDAwMDAwICogV0FEOwoKICAgIGJvb2wgcHVibGljIGxvY2tlZCA9IHRydWU7CgogICAgYWRkcmVzcyBwdWJsaWMgYm91bnR5OwogICAgQ3Jvd2RDb2luUHJlSUNPIHB1YmxpYyBwcmVfaWNvOwogICAgQ3Jvd2RDb2luSUNPIHB1YmxpYyBpY287CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICBpZiAobG9ja2VkID09IHRydWUgJiYgbXNnLnNlbmRlciAhPSBhZGRyZXNzKGljbykgJiYgbXNnLnNlbmRlciAhPSBhZGRyZXNzKHByZV9pY28pKSByZXZlcnQoKTsKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIodG8sIHZhbHVlKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgaWYgKGxvY2tlZCA9PSB0cnVlKSByZXZlcnQoKTsKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKGZyb20sIHRvLCB2YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gaW5pdF9wcmVfaWNvKGFkZHJlc3MgX3ByZV9pY28pIG9ubHlPd25lcgogICAgewogICAgICAgIGlmIChhZGRyZXNzKDApICE9IGFkZHJlc3MocHJlX2ljbykpIHJldmVydCgpOwogICAgICAgIHByZV9pY28gPSBDcm93ZENvaW5QcmVJQ08oX3ByZV9pY28pOwogICAgICAgIG1pbnRfdG9rZW5zKHByZV9pY28sIHByZV9pY29fYWxsb2NhdGlvbik7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNsb3NlX3ByZV9pY28oKSBvbmx5T3duZXIKICAgIHsKICAgICAgICBpY29fYWxsb2NhdGlvbiA9IGFkZChpY29fYWxsb2NhdGlvbiwgX2JhbGFuY2VzW3ByZV9pY29dKTsgICAKICAgICAgICBidXJuX2JhbGFuY2UocHJlX2ljbyk7CiAgICB9CgogICAgZnVuY3Rpb24gaW5pdF9pY28oYWRkcmVzcyBfaWNvKSBvbmx5T3duZXIKICAgIHsKICAgICAgICBpZiAoYWRkcmVzcygwKSAhPSBhZGRyZXNzKGljbykgfHwgYWRkcmVzcygwKSA9PSBhZGRyZXNzKHByZV9pY28pIHx8IF9iYWxhbmNlc1twcmVfaWNvXSA+IDApIHJldmVydCgpOwogICAgICAgIGljbyA9IENyb3dkQ29pbklDTyhfaWNvKTsKICAgICAgICBtaW50X3Rva2VucyhpY28sIGljb19hbGxvY2F0aW9uKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gaW5pdF9ib3VudHlfcHJvZ3JhbShhZGRyZXNzIF9ib3VudHkpIG9ubHlPd25lcgogICAgewogICAgICAgIGlmIChhZGRyZXNzKDApICE9IGFkZHJlc3MoYm91bnR5KSkgcmV2ZXJ0KCk7CiAgICAgICAgYm91bnR5ID0gX2JvdW50eTsKICAgICAgICBtaW50X3Rva2Vucyhib3VudHksIGJvdW50eV9hbGxvY2F0aW9uKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZmluYWxpemUoYWRkcmVzcyB0ZWFtX2FsbG9jYXRpb24pIG9ubHlPd25lciB7CiAgICAgICAgaWYgKGljby5zdWNjZXNzZnVsbHlfY2xvc2VkKCkgPT0gZmFsc2UgfHwgbG9ja2VkID09IGZhbHNlIHx8IGFkZHJlc3MoMCkgPT0gYWRkcmVzcyhib3VudHkpKSByZXZlcnQoKTsKICAgICAgICBidXJuX2JhbGFuY2UoaWNvKTsKCiAgICAgICAgdWludDI1NiBwZXJjZW50T2ZUb3RhbCA9IDIwOwogICAgICAgIHVpbnQyNTYgYWRkaXRpb25hbFRva2VucyA9CiAgICAgICAgICAgIF9zdXBwbHkgKiBwZXJjZW50T2ZUb3RhbCAvICgxMDAgLSBwZXJjZW50T2ZUb3RhbCk7CiAgICAgICAgCiAgICAgICAgbWludF90b2tlbnModGVhbV9hbGxvY2F0aW9uLCBhZGRpdGlvbmFsVG9rZW5zKTsKICAgICAgICAKICAgICAgICBsb2NrZWQgPSBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbiBtaW50X3Rva2VucyhhZGRyZXNzIGFkZHIsIHVpbnQgYW1vdW50KSBwcml2YXRlCiAgICB7CiAgICAgICAgX2JhbGFuY2VzW2FkZHJdID0gYWRkKF9iYWxhbmNlc1thZGRyXSwgYW1vdW50KTsKICAgICAgICBfc3VwcGx5ID0gYWRkKF9zdXBwbHksIGFtb3VudCk7CiAgICAgICAgVHJhbnNmZXIoMCwgYWRkciwgYW1vdW50KTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYnVybl9iYWxhbmNlKGFkZHJlc3MgYWRkcikgcHJpdmF0ZQogICAgewogICAgICAgIHVpbnQgYW1vdW50ID0gX2JhbGFuY2VzW2FkZHJdOwogICAgICAgIGlmIChhbW91bnQgPiAwKQogICAgICAgIHsKICAgICAgICAgICAgX2JhbGFuY2VzW2FkZHJdID0gMDsKICAgICAgICAgICAgX3N1cHBseSA9IHN1Yihfc3VwcGx5LCBhbW91bnQpOwogICAgICAgICAgICBUcmFuc2ZlcihhZGRyLCAwLCBhbW91bnQpOwogICAgICAgIH0KICAgIH0KfQoKY29udHJhY3QgQ3Jvd2RDb2luTWFudWFsU2VsbAp7CiAgICBDcm93ZENvaW4gcHVibGljIHRva2VuOwogICAgYWRkcmVzcyBwdWJsaWMgZGV2X211bHRpc2lnOwogICAgYWRkcmVzcyBwcml2YXRlIGNvbnN0YW50IG93bmVyXzEgPSAweDc5MjAzMEI2ODExMDQzZjc5YWU0OWQyQzRiQTMzY0M2YTYzMjYwNDk7CiAgICBhZGRyZXNzIHByaXZhdGUgY29uc3RhbnQgb3duZXJfMiA9IDB4ODg2NTMxZWQwMGNGNTFCNjIxOUJmOUVGOTIwMWZmNERFYzYyMkU2ZjsKCiAgICBldmVudCBQdXJjaGFzZWQoYWRkcmVzcyBwYXJ0aWNpcGFudCwgdWludCBldGhfYW1vdW50LCB1aW50IHRva2VuX2Ftb3VudCk7CiAgICBldmVudCBNYW51YWxQdXJjaGFzZShhZGRyZXNzIHNlbmRlciwgYWRkcmVzcyBwYXJ0aWNpcGFudCwgdWludCB0b2tlbl9hbW91bnQpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyX2NvaW5zKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljCiAgICB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXJfMSAmJiBtc2cuc2VuZGVyICE9IG93bmVyXzIpIHJldmVydCgpOwogICAgICAgIHRva2VuLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICAgICAgICBNYW51YWxQdXJjaGFzZShtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gbXlfdG9rZW5fYmFsYW5jZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KQogICAgewogICAgICAgIHJldHVybiB0b2tlbi5iYWxhbmNlT2YodGhpcyk7CiAgICB9CgogICAgbW9kaWZpZXIgaGFzX3ZhbHVlCiAgICB7CiAgICAgICAgaWYgKG1zZy52YWx1ZSA8IDAuMDEgZXRoZXIpIHJldmVydCgpOwogICAgICAgIF87CiAgICB9Cn0KCmNvbnRyYWN0IENyb3dkQ29pblNhbGVCb251cwp7CiAgICBmdW5jdGlvbiBnZXRfYm9udXModWludCBidXlfYW1vdW50KSBpbnRlcm5hbCByZXR1cm5zKHVpbnQpCiAgICB7CiAgICAgICAgdWludCBib251cyA9IDA7CiAgICAgICAgaWYgKGJ1eV9hbW91bnQgPj0gMTAwMDAwIGV0aGVyKQogICAgICAgIHsKICAgICAgICAgICAgYm9udXMgPSAzMDsgICAgICAgICAgICAKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoYnV5X2Ftb3VudCA+PSA1MDAwMCBldGhlcikKICAgICAgICB7CiAgICAgICAgICAgIGJvbnVzID0gMjU7ICAgICAgICAgICAgCiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKGJ1eV9hbW91bnQgPj0gMzAwMDAgZXRoZXIpCiAgICAgICAgewogICAgICAgICAgICBib251cyA9IDIzOyAgICAgICAgICAgIAogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChidXlfYW1vdW50ID49IDIwMDAwIGV0aGVyKQogICAgICAgIHsKICAgICAgICAgICAgYm9udXMgPSAyMDsgICAgICAgICAgICAKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoYnV5X2Ftb3VudCA+PSAxMzAwMCBldGhlcikKICAgICAgICB7CiAgICAgICAgICAgIGJvbnVzID0gMTg7ICAgICAgICAgICAgCiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKGJ1eV9hbW91bnQgPj0gODAwMCBldGhlcikKICAgICAgICB7CiAgICAgICAgICAgIGJvbnVzID0gMTU7ICAgICAgICAgICAgCiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKGJ1eV9hbW91bnQgPj0gNTAwMCBldGhlcikKICAgICAgICB7CiAgICAgICAgICAgIGJvbnVzID0gMTM7ICAgICAgICAgICAgCiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKGJ1eV9hbW91bnQgPj0gMzAwMCBldGhlcikKICAgICAgICB7CiAgICAgICAgICAgIGJvbnVzID0gMTA7ICAgICAgICAgICAgCiAgICAgICAgfQogICAgICAgIHJldHVybiBidXlfYW1vdW50ICogYm9udXMgLyAxMDA7CiAgICB9Cn0KCmNvbnRyYWN0IENyb3dkQ29pblByZUlDTyBpcyBPd25lZCwgRFNNYXRoLCBDcm93ZENvaW5TYWxlQm9udXMsIENyb3dkQ29pbk1hbnVhbFNlbGwKewogICAgCiAgICB1aW50IHB1YmxpYyB0b3RhbF9yYWlzZWQ7CgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgcHJpY2UgPSAgMC4wMDEyNSAqIDEwKioxODsgLy9oYXZlIHRvIHNldCBwcmljZSBoZXJlCgogICAgZnVuY3Rpb24gQ3Jvd2RDb2luUHJlSUNPKGFkZHJlc3MgX3Rva2VuX2FkZHJlc3MsIGFkZHJlc3MgX2Rldl9tdWx0aXNpZykKICAgIHsKICAgICAgICB0b2tlbiA9IENyb3dkQ29pbihfdG9rZW5fYWRkcmVzcyk7CiAgICAgICAgZGV2X211bHRpc2lnID0gX2Rldl9tdWx0aXNpZzsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gKCkgaGFzX3ZhbHVlIHBheWFibGUgZXh0ZXJuYWwgCiAgICB7CiAgICAgICAgaWYgKG15X3Rva2VuX2JhbGFuY2UoKSA9PSAwKSByZXZlcnQoKTsKCiAgICAgICAgdmFyIGNhbl9idXkgPSB3ZGl2KGNhc3QobXNnLnZhbHVlKSwgY2FzdChwcmljZSkpOwogICAgICAgIGNhbl9idXkgPSB3YWRkKGNhbl9idXksIGNhc3QoZ2V0X2JvbnVzKGNhbl9idXkpKSk7CiAgICAgICAgdmFyIGJ1eV9hbW91bnQgPSBjYXN0KG1pbihjYW5fYnV5LCBteV90b2tlbl9iYWxhbmNlKCkpKTsKCiAgICAgICAgaWYgKGNhbl9idXkgPiBidXlfYW1vdW50KSByZXZlcnQoKTsKCiAgICAgICAgdG90YWxfcmFpc2VkID0gYWRkKHRvdGFsX3JhaXNlZCwgbXNnLnZhbHVlKTsKCiAgICAgICAgZGV2X211bHRpc2lnLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7IC8vdHJhbnNmZXIgZXRoIHRvIGRldgogICAgICAgIHRva2VuLnRyYW5zZmVyKG1zZy5zZW5kZXIsIGJ1eV9hbW91bnQpOyAvL3RyYW5zZmVyIHRva2VucyB0byBwYXJ0aWNpcGFudAogICAgICAgIFB1cmNoYXNlZChtc2cuc2VuZGVyLCBtc2cudmFsdWUsIGJ1eV9hbW91bnQpOwogICAgfQp9Cgpjb250cmFjdCBDcm93ZENvaW5JQ08gaXMgT3duZWQsIERTTWF0aCwgQ3Jvd2RDb2luU2FsZUJvbnVzLCBDcm93ZENvaW5NYW51YWxTZWxsCnsKICAgIHVpbnQgcHVibGljIHRvdGFsX3JhaXNlZDsgLy9jcm93ZHNhbGUgdG90YWwgZnVuZHMgcmFpc2VkCgogICAgdWludCBwdWJsaWMgc3RhcnRfdGltZSA9IDA7CiAgICB1aW50IHB1YmxpYyBlbmRfdGltZSA9IDA7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBnb2FsID0gMzUwIGV0aGVyOwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGVmYXVsdF9wcmljZSA9IDAuMDA1ICogMTAqKjE4OwogICAgCiAgICBtYXBwaW5nICh1aW50ID0+IHVpbnQyNTYpIHB1YmxpYyBwcmljZTsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgZnVuZGVkOyAvL25lZWRlZCB0byBzYXZlIGFtb3VudHMgb2YgRVRIIGZvciByZWZ1bmQKICAgIAogICAgbW9kaWZpZXIgaW5fdGltZSAvL2FsbG93cyBzZW5kIGV0aCBvbmx5IHdoZW4gY3Jvd2RzYWxlIGlzIGFjdGl2ZQogICAgewogICAgICAgIGlmICh0aW1lKCkgPCBzdGFydF90aW1lIHx8IHRpbWUoKSA+IGVuZF90aW1lKSAgcmV2ZXJ0KCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWNjZXNzZnVsbHlfY2xvc2VkKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgcmV0dXJuIHRpbWUoKSA+IHN0YXJ0X3RpbWUgJiYgKHRpbWUoKSA+IGVuZF90aW1lIHx8IG15X3Rva2VuX2JhbGFuY2UoKSA9PSAwKSAmJiB0b3RhbF9yYWlzZWQgPj0gZ29hbDsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gdGltZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KQogICAgewogICAgICAgIHJldHVybiBibG9jay50aW1lc3RhbXA7CiAgICB9CgogICAgZnVuY3Rpb24gQ3Jvd2RDb2luSUNPKGFkZHJlc3MgX3Rva2VuX2FkZHJlc3MsIGFkZHJlc3MgX2Rldl9tdWx0aXNpZykKICAgIHsKICAgICAgICB0b2tlbiA9IENyb3dkQ29pbihfdG9rZW5fYWRkcmVzcyk7CiAgICAgICAgZGV2X211bHRpc2lnID0gX2Rldl9tdWx0aXNpZzsKICAgICAgICAKICAgICAgICBwcmljZVswXSA9IDAuMDAyNSAqIDEwKioxODsKICAgICAgICBwcmljZVsxXSA9IDAuMDAzMyAqIDEwKioxODsKICAgICAgICBwcmljZVsyXSA9IDAuMDA0NCAqIDEwKioxODsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gaW5pdCh1aW50IF9zdGFydF90aW1lLCB1aW50IF9lbmRfdGltZSkgb25seU93bmVyCiAgICB7CiAgICAgICAgaWYgKHN0YXJ0X3RpbWUgIT0gMCkgcmV2ZXJ0KCk7CiAgICAgICAgc3RhcnRfdGltZSA9IF9zdGFydF90aW1lOwogICAgICAgIGVuZF90aW1lID0gX2VuZF90aW1lOwogICAgfQogICAgCiAgICBmdW5jdGlvbiAoKSBoYXNfdmFsdWUgaW5fdGltZSBwYXlhYmxlIGV4dGVybmFsIAogICAgewogICAgICAgIGlmIChteV90b2tlbl9iYWxhbmNlKCkgPT0gMCkgcmV2ZXJ0KCk7CgogICAgICAgIHZhciBjYW5fYnV5ID0gd2RpdihjYXN0KG1zZy52YWx1ZSksIGNhc3QoZ2V0X2N1cnJlbnRfcHJpY2UoKSkpOwogICAgICAgIGNhbl9idXkgPSB3YWRkKGNhbl9idXksIGNhc3QoZ2V0X2JvbnVzKGNhbl9idXkpKSk7CiAgICAgICAgdmFyIGJ1eV9hbW91bnQgPSBjYXN0KG1pbihjYW5fYnV5LCBteV90b2tlbl9iYWxhbmNlKCkpKTsKCiAgICAgICAgaWYgKGNhbl9idXkgPiBidXlfYW1vdW50KSByZXZlcnQoKTsKCiAgICAgICAgdG90YWxfcmFpc2VkID0gYWRkKHRvdGFsX3JhaXNlZCwgbXNnLnZhbHVlKTsKICAgICAgICBmdW5kZWRbbXNnLnNlbmRlcl0gPSBhZGQoZnVuZGVkW21zZy5zZW5kZXJdLCBtc2cudmFsdWUpOwogICAgICAgIHRva2VuLnRyYW5zZmVyKG1zZy5zZW5kZXIsIGJ1eV9hbW91bnQpOyAvL3RyYW5zZmVyIHRva2VucyB0byBwYXJ0aWNpcGFudAogICAgICAgIFB1cmNoYXNlZChtc2cuc2VuZGVyLCBtc2cudmFsdWUsIGJ1eV9hbW91bnQpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiByZWZ1bmQoKQogICAgewogICAgICAgIGlmICh0b3RhbF9yYWlzZWQgPj0gZ29hbCB8fCB0aW1lKCkgPCBlbmRfdGltZSkgcmV2ZXJ0KCk7CiAgICAgICAgdmFyIGFtb3VudCA9IGZ1bmRlZFttc2cuc2VuZGVyXTsKICAgICAgICBpZiAoYW1vdW50ID4gMCkKICAgICAgICB7CiAgICAgICAgICAgIGZ1bmRlZFttc2cuc2VuZGVyXSA9IDA7CiAgICAgICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoYW1vdW50KTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNvbGxlY3QoKSAvL2NvbGxlY3QgZXRoIGJ5IGRldnMgaWYgbWluIGdvYWwgcmVhY2hlZAogICAgewogICAgICAgIGlmICh0b3RhbF9yYWlzZWQgPCBnb2FsKSByZXZlcnQoKTsKICAgICAgICBkZXZfbXVsdGlzaWcudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ2V0X2N1cnJlbnRfcHJpY2UoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIHByaWNlW2N1cnJlbnRfd2VlaygpXSA9PSAwID8gZGVmYXVsdF9wcmljZSA6IHByaWNlW2N1cnJlbnRfd2VlaygpXTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY3VycmVudF93ZWVrKCkgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBzdWIoYmxvY2sudGltZXN0YW1wLCBzdGFydF90aW1lKSAvIDcgZGF5czsKICAgIH0KfQoKCmNvbnRyYWN0IENyb3dkRGV2QWxsb2NhdGlvbiBpcyBPd25lZAp7CiAgICBDcm93ZENvaW4gcHVibGljIHRva2VuOwogICAgdWludCBwdWJsaWMgaW5pdGlhbF90aW1lOwogICAgYWRkcmVzcyB0b2tlbnNfbXVsdGlzaWc7CgogICAgbWFwcGluZyh1aW50ID0+IGJvb2wpIHB1YmxpYyB1bmxvY2tlZDsKICAgIG1hcHBpbmcodWludCA9PiB1aW50KSBwdWJsaWMgdW5sb2NrX3RpbWVzOwogICAgbWFwcGluZyh1aW50ID0+IHVpbnQpIHVubG9ja192YWx1ZXM7CiAgICAKICAgIGZ1bmN0aW9uIENyb3dkRGV2QWxsb2NhdGlvbihhZGRyZXNzIF90b2tlbikKICAgIHsKICAgICAgICB0b2tlbiA9IENyb3dkQ29pbihfdG9rZW4pOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBpbml0KCkgb25seU93bmVyCiAgICB7CiAgICAgICAgaWYgKHRva2VuLmJhbGFuY2VPZih0aGlzKSA9PSAwIHx8IGluaXRpYWxfdGltZSAhPSAwKSByZXZlcnQoKTsKICAgICAgICBpbml0aWFsX3RpbWUgPSBibG9jay50aW1lc3RhbXA7CiAgICAgICAgdWludDI1NiBiYWxhbmNlID0gdG9rZW4uYmFsYW5jZU9mKHRoaXMpOwoKICAgICAgICB1bmxvY2tfdmFsdWVzWzBdID0gYmFsYW5jZSAvIDEwMCAqIDMzOwogICAgICAgIHVubG9ja192YWx1ZXNbMV0gPSBiYWxhbmNlIC8gMTAwICogMzM7CiAgICAgICAgdW5sb2NrX3ZhbHVlc1syXSA9IGJhbGFuY2UgLyAxMDAgKiAzNDsKCiAgICAgICAgdW5sb2NrX3RpbWVzWzBdID0gMTgwIGRheXM7IC8vMzMlIG9mIHRva2VucyB3aWxsIGJlIGF2YWlsYWJsZSBhZnRlciAxODAgZGF5cwogICAgICAgIHVubG9ja190aW1lc1sxXSA9IDEwODAgZGF5czsgLy8zMyUgb2YgdG9rZW5zIHdpbGwgYmUgYXZhaWxhYmxlIGFmdGVyIDEwODAgZGF5cwogICAgICAgIHVubG9ja190aW1lc1syXSA9IDE4MDAgZGF5czsgLy8zNCUgb2YgdG9rZW5zIHdpbGwgYmUgYXZhaWxhYmxlIGFmdGVyIDE4MDAgZGF5cwogICAgfQoKICAgIGZ1bmN0aW9uIHVubG9jayh1aW50IHBhcnQpCiAgICB7CiAgICAgICAgaWYgKHVubG9ja2VkW3BhcnRdID09IHRydWUgfHwgYmxvY2sudGltZXN0YW1wIDwgaW5pdGlhbF90aW1lICsgdW5sb2NrX3RpbWVzW3BhcnRdIHx8IHVubG9ja192YWx1ZXNbcGFydF0gPT0gMCkgcmV2ZXJ0KCk7CiAgICAgICAgdG9rZW4udHJhbnNmZXIodG9rZW5zX211bHRpc2lnLCB1bmxvY2tfdmFsdWVzW3BhcnRdKTsKICAgICAgICB1bmxvY2tlZFtwYXJ0XSA9IHRydWU7CiAgICB9Cn0KCmNvbnRyYWN0IE1pZ3JhdGlvbkFnZW50IHsKICAgIGZ1bmN0aW9uIG1pZ3JhdGVGcm9tKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKTsKfQ=='.
	

]
