Class {
	#name : #SRTb1d9f149e833510a3af3ab54dc1568ad11244bf7,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTb1d9f149e833510a3af3ab54dc1568ad11244bf7 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4gMC40IC44OwoKCmNvbnRyYWN0IEVSQzIwIHsKCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnModWludCB0b3RhbF9TdXBwbHkpOwoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KTsKCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zKHVpbnQpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHJldHVybnMoYm9vbCBvayk7CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdmFsdWUpIHJldHVybnMoYm9vbCBvayk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyhib29sIG9rKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsKCn0KCmNvbnRyYWN0IGJsb2Nrb3B0aW9ucyBpcyBFUkMyMAoKewoKICAgICAgIC8qIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuICovCiAgICAgIC8vVG8gc3RvcmUgbmFtZSBmb3IgdG9rZW4KICAgICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gImJsb2Nrb3B0aW9ucyI7CiAgICAKICAgICAgLy9UbyBzdG9yZSBzeW1ib2wgZm9yIHRva2VuICAgICAgIAogICAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJCT1AiOwogICAgCiAgICAgIC8vVG8gc3RvcmUgZGVjaW1hbCBwbGFjZXMgZm9yIHRva2VuCiAgICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDg7ICAgIAogICAgCiAgICAgIC8vVG8gc3RvcmUgY3VycmVudCBzdXBwbHkgb2YgQk9QCiAgICAgIHVpbnQgcHVibGljIF90b3RhbFN1cHBseT0yMDAwMDAwMCAqIDEwKipkZWNpbWFsczsKICAgICAgCiAgICAgICB1aW50IHByZV9pY29fc3RhcnQ7CiAgICAgICB1aW50IHByZV9pY29fZW5kOwogICAgICAgdWludCBpY29fc3RhcnQ7CiAgICAgICB1aW50IGljb19lbmQ7CiAgICAgICBtYXBwaW5nKHVpbnQgPT4gYWRkcmVzcykgaW52ZXN0b3I7CiAgICAgICBtYXBwaW5nKHVpbnQgPT4gdWludCkgd2VpcmVjZWl2ZWQ7CiAgICAgICBtYXBwaW5nKHVpbnQgPT4gdWludCkgb3B0c1NlbnQ7CiAgICAgIAogICAgICAgIGV2ZW50IHByZWljbyh1aW50IGNvdW50ZXIsYWRkcmVzcyBpbnZlc3RvcnMsdWludCB3ZWlSZWNlaXZlZCx1aW50IGJvcHNlbnQpOwogICAgICAgIGV2ZW50IGljbyh1aW50IGNvdW50ZXIsYWRkcmVzcyBpbnZlc3RvcnMsdWludCB3ZWlSZWNlaXZlZCx1aW50IGJvcHNlbnQpOwogICAgICAgIHVpbnQgY291bnRlcj0wOwogICAgICAgIHVpbnQgcHJvZml0X3NlbnQ9MDsKICAgICAgICBib29sIHN0b3BwZWQgPSBmYWxzZTsKICAgICAgICAKICAgICAgZnVuY3Rpb24gYmxvY2tvcHRpb25zKCkgcGF5YWJsZXsKICAgICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICAgIGJhbGFuY2VzW293bmVyXSA9IF90b3RhbFN1cHBseSA7IC8vdG8gaGFuZGxlIDggZGVjaW1hbCBwbGFjZXMKICAgICAgICAgIHByZV9pY29fc3RhcnQgPSBub3c7CiAgICAgICAgICBwcmVfaWNvX2VuZCA9IHByZV9pY29fc3RhcnQgKyA3IGRheXM7CiAgICAgICAgICAKICAgICAgICB9CiAgICAgIC8vbWFwIHRvIHN0b3JlIEJPUFQgYmFsYW5jZSBjb3JyZXNwb25kaW5nIHRvIGFkZHJlc3MKICAgICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwogICAgCiAgICAgIC8vVG8gc3RvcmUgc3BlbmRlciB3aXRoIGFsbG93ZWQgYW1vdW50IG9mIEJPUFQgdG8gc3BlbmQgY29ycmVzcG9uZGluZyB0byBCT1BUcyBob2xkZXIncyBhY2NvdW50CiAgICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKICAgIAogICAgICAvL293bmVyIHZhcmlhYmxlIHRvIHN0b3JlIGNvbnRyYWN0IG93bmVyIGFjY291bnQKICAgICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgICAgIAogICAgICAvL21vZGlmaWVyIHRvIGNoZWNrIHRyYW5zYWN0aW9uIGluaXRpYXRvciBpcyBvbmx5IG93bmVyCiAgICAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIAogICAgICAgIHsKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgfQogICAgICAgIF87CiAgICB9CiAgICAKICAgICAgLy9vd25lcnNoaXAgY2FuIGJlIHRyYW5zZmVycmVkIHRvIHByb3ZpZGVkIG5ld093bmVyLiBGdW5jdGlvbiBjYW4gb25seSBiZSBpbml0aWF0ZWQgYnkgY29udHJhY3Qgb3duZXIncyBhY2NvdW50CiAgICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICAgICAgICBiYWxhbmNlc1tuZXdPd25lcl0gPSBiYWxhbmNlc1tvd25lcl07CiAgICAgICAgICBiYWxhbmNlc1tvd25lcl09MDsKICAgICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICAgIH0KCiAgICAgICAgLyoqCiAgICAgICAgKiBNdWx0aXBsaWNhdGlvbiB3aXRoIHNhZmV0eSBjaGVjawogICAgICAgICovCiAgICAgICAgZnVuY3Rpb24gTXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgICB1aW50IGMgPSBhICogYjsKICAgICAgICAgIC8vY2hlY2sgcmVzdWx0IHNob3VsZCBub3QgYmUgb3RoZXIgd2lzZSB1bnRpbCBhPTAKICAgICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgICByZXR1cm4gYzsKICAgICAgICB9CiAgICAKICAgICAgICAvKioKICAgICAgICAqIERpdmlzaW9uIHdpdGggc2FmZXR5IGNoZWNrCiAgICAgICAgKi8KICAgICAgICBmdW5jdGlvbiBEaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICAgIC8vb3ZlcmZsb3cgY2hlY2s7IGIgbXVzdCBub3QgYmUgMAogICAgICAgICAgYXNzZXJ0KGIgPiAwKTsKICAgICAgICAgIHVpbnQgYyA9IGEgLyBiOwogICAgICAgICAgYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7CiAgICAgICAgICByZXR1cm4gYzsKICAgICAgICB9CiAgICAKICAgICAgICAvKioKICAgICAgICAqIFN1YnRyYWN0aW9uIHdpdGggc2FmZXR5IGNoZWNrCiAgICAgICAgKi8KICAgICAgICBmdW5jdGlvbiBTdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICAgIC8vYiBtdXN0IGJlIGdyZWF0ZXIgdGhhdCBhIGFzIHdlIG5lZWQgdG8gc3RvcmUgdmFsdWUgaW4gdW5zaWduZWQgaW50ZWdlcgogICAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgICByZXR1cm4gYSAtIGI7CiAgICAgICAgfQogICAgCiAgICAgICAgLyoqCiAgICAgICAgKiBBZGRpdGlvbiB3aXRoIHNhZmV0eSBjaGVjawogICAgICAgICovCiAgICAgICAgZnVuY3Rpb24gQWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgICB1aW50IGMgPSBhICsgYjsKICAgICAgICAgIC8vcmVzdWx0IG11c3QgYmUgZ3JlYXRlciBhcyBhIG9yIGIgY2FuIG5vdCBiZSBuZWdhdGl2ZQogICAgICAgICAgYXNzZXJ0KGM+PWEgJiYgYz49Yik7CiAgICAgICAgICByZXR1cm4gYzsKICAgICAgICB9CiAgICAKICAgICAgLyoqCiAgICAgICAgKiBhc3NlcnQgdXNlZCBpbiBkaWZmZXJlbnQgTWF0aCBmdW5jdGlvbnMKICAgICAgICAqLwogICAgICAgIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgewogICAgICAgICAgaWYgKCFhc3NlcnRpb24pIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgCiAgICAvL0ltcGxlbWVudGF0aW9uIGZvciB0cmFuc2ZlcnJpbmcgQk9QIHRvIHByb3ZpZGVkIGFkZHJlc3MgCiAgICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCl7CgogICAgICAgIHVpbnQgY2hlY2sgPSBiYWxhbmNlc1tvd25lcl0gLSBfdmFsdWU7CiAgICAgICAgaWYobXNnLnNlbmRlciA9PSBvd25lciAmJiBub3c+PXByZV9pY29fc3RhcnQgJiYgbm93PD1wcmVfaWNvX2VuZCAmJiBjaGVjayA8IDE5MDAwMDAwMDAwMDAwMDApCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYobXNnLnNlbmRlciA9PW93bmVyICYmIG5vdz49cHJlX2ljb19lbmQgJiYgbm93PD0ocHJlX2ljb19lbmQgKyAxNiBkYXlzKSAmJiBjaGVjayA8IDE4NTAwMDAwMDAwMDAwMDApCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYobXNnLnNlbmRlciA9PSBvd25lciAmJiBjaGVjayA8IDEzMDAwMDAwMDAwMDAwMCAmJiBub3cgPCBpY29fc3RhcnQgKyAxODAgZGF5cykKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAobXNnLnNlbmRlciA9PSBvd25lciAmJiBjaGVjayA8IDk3NTAwMDAwMDAwMDAwICYmIG5vdyA8IGljb19zdGFydCArIDM2MCBkYXlzKQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChtc2cuc2VuZGVyID09IG93bmVyICYmIGNoZWNrIDwgNDMwMDAwMDAwMDAwMDAgJiYgbm93IDwgaWNvX3N0YXJ0ICsgNTQwIGRheXMpCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIC8vQ2hlY2sgcHJvdmlkZWQgQk9QIHNob3VsZCBub3QgYmUgMAogICAgICAgZWxzZSBpZiAoX3ZhbHVlID4gMCkgewogICAgICAgICAgLy9kZWR1Y3QgQk9QIGFtb3VudCBmcm9tIHRyYW5zYWN0aW9uIGluaXRpYXRvcgogICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBTdWIoYmFsYW5jZXNbbXNnLnNlbmRlcl0sX3ZhbHVlKTsKICAgICAgICAgIC8vQWRkIEJPUCB0byBiYWxhY2Ugb2YgdGFyZ2V0IGFjY291bnQKICAgICAgICAgIGJhbGFuY2VzW190b10gPSBBZGQoYmFsYW5jZXNbX3RvXSxfdmFsdWUpOwogICAgICAgICAgLy9FbWl0IGV2ZW50IGZvciB0cmFuc2ZlcnJpbmcgQk9QCiAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgCiAgICAgIC8vVHJhbnNmZXIgaW5pdGlhdGVkIGJ5IHNwZW5kZXIgCiAgICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIAogICAgICAgIC8vQ2hlY2sgcHJvdmlkZWQgQk9QIHNob3VsZCBub3QgYmUgMAogICAgICAgIGlmIChfdmFsdWUgPiAwKSB7CiAgICAgICAgICAvL0dldCBhbW91bnQgb2YgQk9QIGZvciB3aGljaCBzcGVuZGVyIGlzIGF1dGhvcml6ZWQKICAgICAgICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CiAgICAgICAgICAvL0FkZCBhbW91bnQgb2YgQk9QIGluIHRhcmdldCBhY2NvdW50J3MgYmFsYW5jZQogICAgICAgICAgYmFsYW5jZXNbX3RvXSA9IEFkZChiYWxhbmNlc1tfdG9dLCBfdmFsdWUpOwogICAgICAgICAgLy9EZWR1Y3QgQk9QVCBhbW91bnQgZnJvbSBfZnJvbSBhY2NvdW50CiAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBTdWIoYmFsYW5jZXNbX2Zyb21dLCBfdmFsdWUpOwogICAgICAgICAgLy9EZWR1Y3QgQXV0aG9yaXplZCBhbW91bnQgZm9yIHNwZW5kZXIKICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gU3ViKF9hbGxvd2FuY2UsIF92YWx1ZSk7CiAgICAgICAgICAvL0VtaXQgZXZlbnQgZm9yIFRyYW5zZmVyCiAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICAgIAogICAgICAvL0dldCBCT1AgYmFsYW5jZSBmb3IgcHJvdmlkZWQgYWRkcmVzcwogICAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgICB9CiAgICAgIAogICAgICAvL0FkZCBzcGVuZGVyIHRvIGF1dGhvcml6ZSBmb3Igc3BlbmRpbmcgc3BlY2lmaWVkIGFtb3VudCBvZiBCT1AgCiAgICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICAvL0VtaXQgZXZlbnQgZm9yIGFwcHJvdmFsIHByb3ZpZGVkIHRvIHNwZW5kZXIKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICAKICAgICAgLy9HZXQgQk9QIGFtb3VudCB0aGF0IHNwZW5kZXIgY2FuIHNwZW5kIGZyb20gcHJvdmlkZWQgb3duZXIncyBhY2NvdW50IAogICAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICAgIH0KICAgICAgCiAgICAgICAvKgkKICAgICAgICogRmFpbHNhZmUgZHJhaW4KICAgICAgICovCiAgICAJZnVuY3Rpb24gZHJhaW4oKSBvbmx5T3duZXIgewogICAgCQlvd25lci5zZW5kKHRoaXMuYmFsYW5jZSk7CiAgICAJfQoJCiAgICAJZnVuY3Rpb24oKSBwYXlhYmxlIAogICAgCXsgICAKICAgIAkgICAgaWYoc3RvcHBlZCAmJiBtc2cuc2VuZGVyICE9IG93bmVyKQogICAgCSAgICByZXZlcnQoKTsKICAgIAkgICAgIGVsc2UgaWYobXNnLnNlbmRlciA9PSBvd25lcikKICAgIAkgICAgewogICAgCSAgICAgICAgcHJvZml0X3NlbnQgPSBtc2cudmFsdWU7CiAgICAJICAgIH0KICAgIAkgICBlbHNlIGlmKG5vdz49cHJlX2ljb19zdGFydCAmJiBub3c8PXByZV9pY29fZW5kKQogICAgCSAgICB7CiAgICAJICAgICAgICB1aW50IGNoZWNrID0gYmFsYW5jZXNbb3duZXJdLSgoNDAwKm1zZy52YWx1ZSkvMTAwMDAwMDAwMDApOwogICAgCSAgICAgICAgaWYoY2hlY2sgPj0gMTkwMDAwMDAwMDAwMDAwMCkKICAgICAgICAgICAgICAgIHByZV9pY28obXNnLnNlbmRlcixtc2cudmFsdWUpOwogICAgCSAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKG5vdz49aWNvX3N0YXJ0ICYmIG5vdzxpY29fZW5kKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBtYWluX2ljbyhtc2cuc2VuZGVyLG1zZy52YWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgfQogICAgICAgCiAgICAgICBmdW5jdGlvbiBwcmVfaWNvKGFkZHJlc3Mgc2VuZGVyLCB1aW50IHZhbHVlKXByaXZhdGUKICAgICAgIHsKICAgICAgICAgIGNvdW50ZXIgPSBjb3VudGVyKzE7CgkgICAgICBpbnZlc3Rvcltjb3VudGVyXT1zZW5kZXI7CiAgICAgICAgICB3ZWlyZWNlaXZlZFtjb3VudGVyXT12YWx1ZTsKICAgICAgICAgIG9wdHNTZW50W2NvdW50ZXJdID0gKDQwMCp2YWx1ZSkvMTAwMDAwMDAwMDA7CiAgICAgICAgICBiYWxhbmNlc1tvd25lcl09YmFsYW5jZXNbb3duZXJdLW9wdHNTZW50W2NvdW50ZXJdOwogICAgICAgICAgYmFsYW5jZXNbaW52ZXN0b3JbY291bnRlcl1dKz1vcHRzU2VudFtjb3VudGVyXTsKICAgICAgICAgIHByZWljbyhjb3VudGVyLGludmVzdG9yW2NvdW50ZXJdLHdlaXJlY2VpdmVkW2NvdW50ZXJdLG9wdHNTZW50W2NvdW50ZXJdKTsKICAgICAgIH0KICAgICAgIAogICAgICAgZnVuY3Rpb24gIG1haW5faWNvKGFkZHJlc3Mgc2VuZGVyLCB1aW50IHZhbHVlKXByaXZhdGUKICAgICAgIHsKICAgICAgICAgICBpZihub3cgPj0gaWNvX3N0YXJ0ICYmIG5vdyA8PSAoaWNvX3N0YXJ0ICsgNyBkYXlzKSkgLy8yMCUgZGlzY291bnQgb24gQk9QVAogICAgICAgICAgIHsKICAgICAgICAgICAgICBjb3VudGVyID0gY291bnRlcisxOwogICAgCSAgICAgIGludmVzdG9yW2NvdW50ZXJdPXNlbmRlcjsKICAgICAgICAgICAgICB3ZWlyZWNlaXZlZFtjb3VudGVyXT12YWx1ZTsKICAgICAgICAgICAgICBvcHRzU2VudFtjb3VudGVyXSA9ICgyNTAqdmFsdWUpLzEwMDAwMDAwMDAwOwogICAgICAgICAgICAgIGJhbGFuY2VzW293bmVyXT1iYWxhbmNlc1tvd25lcl0tb3B0c1NlbnRbY291bnRlcl07CiAgICAgICAgICAgICAgYmFsYW5jZXNbaW52ZXN0b3JbY291bnRlcl1dKz1vcHRzU2VudFtjb3VudGVyXTsKICAgICAgICAgICAgICBpY28oY291bnRlcixpbnZlc3Rvcltjb3VudGVyXSx3ZWlyZWNlaXZlZFtjb3VudGVyXSxvcHRzU2VudFtjb3VudGVyXSk7CiAgICAgICAgICAgfQogICAgICAgICAgIGVsc2UgaWYgKG5vdyA+PSAoaWNvX3N0YXJ0ICsgNyBkYXlzKSAmJiBub3cgPD0gKGljb19zdGFydCArIDE0IGRheXMpKSAvLzEwJSBkaXNjb3VudCBvbiBCT1BUCiAgICAgICAgICAgewogICAgICAgICAgICAgIGNvdW50ZXIgPSBjb3VudGVyKzE7CiAgICAJICAgICAgaW52ZXN0b3JbY291bnRlcl09c2VuZGVyOwogICAgICAgICAgICAgIHdlaXJlY2VpdmVkW2NvdW50ZXJdPXZhbHVlOwogICAgICAgICAgICAgIG9wdHNTZW50W2NvdW50ZXJdID0gKDIyMCp2YWx1ZSkvMTAwMDAwMDAwMDA7CiAgICAgICAgICAgICAgYmFsYW5jZXNbb3duZXJdPWJhbGFuY2VzW293bmVyXS1vcHRzU2VudFtjb3VudGVyXTsKICAgICAgICAgICAgICBiYWxhbmNlc1tpbnZlc3Rvcltjb3VudGVyXV0rPW9wdHNTZW50W2NvdW50ZXJdOwogICAgICAgICAgICAgIGljbyhjb3VudGVyLGludmVzdG9yW2NvdW50ZXJdLHdlaXJlY2VpdmVkW2NvdW50ZXJdLG9wdHNTZW50W2NvdW50ZXJdKTsKICAgICAgICAgICB9CiAgICAgICAgICAgZWxzZSBpZiAobm93ID49IChpY29fc3RhcnQgKyAxNCBkYXlzKSAmJiBub3cgPD0gKGljb19zdGFydCArIDMxIGRheXMpKSAvL25vIGRpc2NvdW50IG9uIEJPUFQKICAgICAgICAgICB7CiAgICAgICAgICAgICAgY291bnRlciA9IGNvdW50ZXIrMTsKICAgIAkgICAgICBpbnZlc3Rvcltjb3VudGVyXT1zZW5kZXI7CiAgICAgICAgICAgICAgd2VpcmVjZWl2ZWRbY291bnRlcl09dmFsdWU7CiAgICAgICAgICAgICAgb3B0c1NlbnRbY291bnRlcl0gPSAoMjAwKnZhbHVlKS8xMDAwMDAwMDAwMDsKICAgICAgICAgICAgICBiYWxhbmNlc1tvd25lcl09YmFsYW5jZXNbb3duZXJdLW9wdHNTZW50W2NvdW50ZXJdOwogICAgICAgICAgICAgIGJhbGFuY2VzW2ludmVzdG9yW2NvdW50ZXJdXSs9b3B0c1NlbnRbY291bnRlcl07CiAgICAgICAgICAgICAgaWNvKGNvdW50ZXIsaW52ZXN0b3JbY291bnRlcl0sd2VpcmVjZWl2ZWRbY291bnRlcl0sb3B0c1NlbnRbY291bnRlcl0pOwogICAgICAgICAgIH0KICAgICAgIH0KICAgICAgIAogICAgICAgZnVuY3Rpb24gc3RhcnRJQ08oKW9ubHlPd25lcgogICAgICAgewogICAgICAgICAgIGljb19zdGFydCA9IG5vdzsKICAgICAgICAgICBpY29fZW5kPWljb19zdGFydCArIDMxIGRheXM7CiAgICAgICAgICAgcHJlX2ljb19zdGFydCA9IDA7CiAgICAgICAgICAgcHJlX2ljb19lbmQgPSAwOwogICAgICAgICAgIAogICAgICAgfQogICAgICAgCiAgICAgICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYgdG90YWxTdXBwbHkpIAogICAgICAgIHsKICAgICAgICB0b3RhbFN1cHBseSA9IF90b3RhbFN1cHBseTsKICAgICAgICB9CiAgICAgIAogICAgICAgIGZ1bmN0aW9uIGVuZElDTygpb25seU93bmVyCiAgICAgICB7CiAgICAgICAgICBzdG9wcGVkPXRydWU7CiAgICAgICAgICBpZihiYWxhbmNlc1tvd25lcl0gPiAxMzAwMDAwMDAwMDAwMDApCiAgICAgICAgICB7CiAgICAgICAgICAgICAgdWludCBidXJuZWRUb2tlbnMgPSBiYWxhbmNlc1tvd25lcl0tMTMwMDAwMDAwMDAwMDAwOwogICAgICAgICAgIF90b3RhbFN1cHBseSA9IF90b3RhbFN1cHBseS1idXJuZWRUb2tlbnM7CiAgICAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gMTMwMDAwMDAwMDAwMDAwOwogICAgICAgICAgfQogICAgICAgfQp9'.
	

]
