Class {
	#name : #SRTaaaf91d9b90df800df4f55c205fd6989c977e73a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTaaaf91d9b90df800df4f55c205fd6989c977e73a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5ID49MC40LjQ7CgovLyBDb3B5cmlnaHQgMjAxNyBBbGNoZW15IExpbWl0ZWQgTExDLCBEbyBub3QgZGlzdHJpYnV0ZQoKY29udHJhY3QgQ29uc3RhbnRzIHsKICAgIHVpbnQgREVDSU1BTFMgPSA4Owp9CgoKY29udHJhY3QgT3duZWQgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB0aHJvdzsKICAgICAgICBfOwogICAgfQoKICAgIGFkZHJlc3MgbmV3T3duZXI7CgogICAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICAgICAgbmV3T3duZXIgPSBfbmV3T3duZXI7CiAgICB9CgogICAgZnVuY3Rpb24gYWNjZXB0T3duZXJzaGlwKCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyID09IG5ld093bmVyKSB7CiAgICAgICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICAgICAgfQogICAgfQp9CgovL2Zyb20gWmVwcGVsaW4KY29udHJhY3QgU2FmZU1hdGggewogICAgZnVuY3Rpb24gc2FmZU11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIHVpbnQgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZVN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGM+PWEgJiYgYz49Yik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gYXNzZXJ0KGJvb2wgYXNzZXJ0aW9uKSBpbnRlcm5hbCB7CiAgICAgICAgaWYgKCFhc3NlcnRpb24pIHRocm93OwogICAgfQp9CgoKCi8vQ29weXJpZ2h0IDIwMTcgQWxjaGVteSBMaW1pdGVkIExMQyBETyBub3QgZGlzdHJpYnV0ZQovL0VSQzIwIHRva2VuCgpjb250cmFjdCBUb2tlbiBpcyBTYWZlTWF0aCwgT3duZWQsIENvbnN0YW50cyB7CiAgICB1aW50IHB1YmxpYyBjdXJyZW50U3VwcGx5OwogICAgdWludCBwdWJsaWMgcmVtYWluaW5nT3duZXI7CiAgICB1aW50IHB1YmxpYyByZW1haW5pbmdBdWN0aW9uYWJsZTsKICAgIHVpbnQgcHVibGljIG93bmVyVG9rZW5zRnJlZURheTsKICAgIGJvb2wgcHVibGljIGxhdW5jaGVkID0gZmFsc2U7CgogICAgYm9vbCBwdWJsaWMgcmVtYWluZGVyc1NldCA9IGZhbHNlOwogICAgYm9vbCBwdWJsaWMgbWludGluZ0RvbmUgPSBmYWxzZTsKCiAgICBhZGRyZXNzIHB1YmxpYyBjb250cm9sbGVyOwoKICAgIHN0cmluZyBwdWJsaWMgbmFtZTsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwoKICAgIG1vZGlmaWVyIG9ubHlDb250cm9sbGVyKCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IGNvbnRyb2xsZXIpIHRocm93OwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgaXNMYXVuY2hlZCgpIHsKICAgICAgICBhc3NlcnQobGF1bmNoZWQgPT0gdHJ1ZSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludCBudW13b3JkcykgewogICAgICAgIGFzc2VydChtc2cuZGF0YS5sZW5ndGggPT0gbnVtd29yZHMgKiAzMiArIDQpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gVG9rZW4oKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIG5hbWUgPSAiTW9ub2xpdGggVEtOIjsKICAgICAgICBkZWNpbWFscyA9IHVpbnQ4KERFQ0lNQUxTKTsKICAgICAgICBzeW1ib2wgPSAiVEtOIjsKICAgIH0KCiAgICBmdW5jdGlvbiBMYXVuY2goKSBvbmx5T3duZXIgewogICAgICAgIGxhdW5jaGVkID0gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRPd25lckZyZWVEYXkodWludCBkYXkpIG9ubHlPd25lciB7CiAgICAgICAgaWYgKG93bmVyVG9rZW5zRnJlZURheSAhPSAwKSB0aHJvdzsKCiAgICAgICAgb3duZXJUb2tlbnNGcmVlRGF5ID0gZGF5OwogICAgfQoKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICAgICAgcmV0dXJuIGN1cnJlbnRTdXBwbHkgKyByZW1haW5pbmdPd25lcjsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRSZW1haW5kZXJzKHVpbnQgX3JlbWFpbmluZ093bmVyLCB1aW50IF9yZW1haW5pbmdBdWN0aW9uYWJsZSkgb25seU93bmVyIHsKICAgICAgICBpZiAocmVtYWluZGVyc1NldCkgeyB0aHJvdzsgfQoKICAgICAgICByZW1haW5pbmdPd25lciA9IF9yZW1haW5pbmdPd25lcjsKICAgICAgICByZW1haW5pbmdBdWN0aW9uYWJsZSA9IF9yZW1haW5pbmdBdWN0aW9uYWJsZTsKICAgIH0KCiAgICBmdW5jdGlvbiBmaW5hbGl6ZVJlbWFpbmRlcnMoKSBvbmx5T3duZXIgewogICAgICAgIHJlbWFpbmRlcnNTZXQgPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldENvbnRyb2xsZXIoYWRkcmVzcyBfY29udHJvbGxlcikgb25seU93bmVyIHsKICAgICAgICBjb250cm9sbGVyID0gX2NvbnRyb2xsZXI7CiAgICB9CgogICAgZnVuY3Rpb24gY2xhaW1Pd25lclN1cHBseSgpIG9ubHlPd25lciB7CiAgICAgICAgaWYgKG5vdyA8IG93bmVyVG9rZW5zRnJlZURheSkgdGhyb3c7CiAgICAgICAgaWYgKHJlbWFpbmluZ093bmVyID09IDApIHRocm93OwogICAgICAgIGlmICghcmVtYWluZGVyc1NldCkgdGhyb3c7IC8vIG11c3QgZmluYWxpemUgcmVtYWluZGVycwoKICAgICAgICBiYWxhbmNlT2Zbb3duZXJdID0gc2FmZUFkZChiYWxhbmNlT2Zbb3duZXJdLCByZW1haW5pbmdPd25lcik7CiAgICAgICAgcmVtYWluaW5nT3duZXIgPSAwOwogICAgfQoKICAgIGZ1bmN0aW9uIGNsYWltQXVjdGlvbmFibGVUb2tlbnModWludCBhbW91bnQpIG9ubHlDb250cm9sbGVyIHsKICAgICAgICBpZiAoYW1vdW50ID4gcmVtYWluaW5nQXVjdGlvbmFibGUpIHRocm93OwoKICAgICAgICBiYWxhbmNlT2ZbY29udHJvbGxlcl0gPSBzYWZlQWRkKGJhbGFuY2VPZltjb250cm9sbGVyXSwgYW1vdW50KTsKICAgICAgICBjdXJyZW50U3VwcGx5ID0gc2FmZUFkZChjdXJyZW50U3VwcGx5LCBhbW91bnQpOwogICAgICAgIHJlbWFpbmluZ0F1Y3Rpb25hYmxlID0gc2FmZVN1YihyZW1haW5pbmdBdWN0aW9uYWJsZSxhbW91bnQpOwoKICAgICAgICBUcmFuc2ZlcigwLCBjb250cm9sbGVyLCBhbW91bnQpOwogICAgfQoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB2YWx1ZSk7CgogICAgZnVuY3Rpb24gbWludChhZGRyZXNzIGFkZHIsIHVpbnQgYW1vdW50KSBvbmx5T3duZXIgb25seVBheWxvYWRTaXplKDIpIHsKICAgICAgICBpZiAobWludGluZ0RvbmUpIHRocm93OwoKICAgICAgICBiYWxhbmNlT2ZbYWRkcl0gPSBzYWZlQWRkKGJhbGFuY2VPZlthZGRyXSwgYW1vdW50KTsKCiAgICAgICAgY3VycmVudFN1cHBseSA9IHNhZmVBZGQoY3VycmVudFN1cHBseSwgYW1vdW50KTsKCiAgICAgICAgVHJhbnNmZXIoMCwgYWRkciwgYW1vdW50KTsKICAgIH0KCgogICAgdWludCBjb25zdGFudCBEMTYwID0gMHgwMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOwoKICAgIC8vIFdlIGRvbid0IHVzZSBzYWZlIG1hdGggaW4gdGhpcyBmdW5jdGlvbgogICAgLy8gYmVjYXVzZSB0aGlzIHdpbGwgYmUgY2FsbGVkIGZvciB0aGUgb3duZXIgYmVmb3JlIHRoZSBjb250cmFjdAogICAgLy8gaXMgcHVibGlzaGVkIGFuZCB3ZSBuZWVkIHRvIHNhdmUgZ2FzLgogICAgZnVuY3Rpb24gbXVsdGlNaW50KHVpbnRbXSBkYXRhKSBvbmx5T3duZXIgewogICAgICAgIGlmIChtaW50aW5nRG9uZSkgdGhyb3c7CgogICAgICAgIHVpbnQgc3VwcGx5QWRkOwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKysgKSB7CiAgICAgICAgICAgIGFkZHJlc3MgYWRkciA9IGFkZHJlc3MoIGRhdGFbaV0gJiAoRDE2MC0xKSApOwogICAgICAgICAgICB1aW50IGFtb3VudCA9IGRhdGFbaV0gLyBEMTYwOwoKICAgICAgICAgICAgYmFsYW5jZU9mW2FkZHJdICs9IGFtb3VudDsKICAgICAgICAgICAgc3VwcGx5QWRkICs9IGFtb3VudDsKICAgICAgICAgICAgVHJhbnNmZXIoMCwgYWRkciwgYW1vdW50KTsKICAgICAgICB9CiAgICAgICAgY3VycmVudFN1cHBseSArPSBzdXBwbHlBZGQ7CiAgICB9CgogICAgZnVuY3Rpb24gY29tcGxldGVNaW50aW5nKCkgb25seU93bmVyIHsKICAgICAgICBtaW50aW5nRG9uZSA9IHRydWU7CiAgICB9CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBiYWxhbmNlT2Y7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgcHVibGljIGFsbG93YW5jZTsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGlzTGF1bmNoZWQgbm90UGF1c2VkCiAgICBvbmx5UGF5bG9hZFNpemUoMikKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGlmIChiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPCBfdmFsdWUpIHJldHVybiBmYWxzZTsKICAgICAgICBpZiAoX3RvID09IDB4MCkgcmV0dXJuIGZhbHNlOwoKICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPSBzYWZlU3ViKGJhbGFuY2VPZlttc2cuc2VuZGVyXSwgX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlT2ZbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZU9mW190b10sIF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpICBpc0xhdW5jaGVkIG5vdFBhdXNlZAogICAgb25seVBheWxvYWRTaXplKDMpCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoX3RvID09IDB4MCkgcmV0dXJuIGZhbHNlOwogICAgICAgIGlmIChiYWxhbmNlT2ZbX2Zyb21dIDwgX3ZhbHVlKSByZXR1cm4gZmFsc2U7CgogICAgICAgIHZhciBhbGxvd2VkID0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXTsKICAgICAgICBpZiAoYWxsb3dlZCA8IF92YWx1ZSkgcmV0dXJuIGZhbHNlOwoKICAgICAgICBiYWxhbmNlT2ZbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZU9mW190b10sIF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZU9mW19mcm9tXSA9IHNhZmVTdWIoYmFsYW5jZU9mW19mcm9tXSwgX3ZhbHVlKTsKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdID0gc2FmZVN1YihhbGxvd2VkLCBfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkKICAgIG9ubHlQYXlsb2FkU2l6ZSgyKQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy9yZXF1aXJlIHVzZXIgdG8gc2V0IHRvIHplcm8gYmVmb3JlIHJlc2V0dGluZyB0byBub256ZXJvCiAgICAgICAgaWYgKChfdmFsdWUgIT0gMCkgJiYgKGFsbG93YW5jZVttc2cuc2VuZGVyXVtfc3BlbmRlcl0gIT0gMCkpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKQogICAgb25seVBheWxvYWRTaXplKDIpCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICB1aW50IG9sZFZhbHVlID0gYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgICAgICBhbGxvd2FuY2VbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gc2FmZUFkZChvbGRWYWx1ZSwgX2FkZGVkVmFsdWUpOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2FuY2VbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpCiAgICBvbmx5UGF5bG9hZFNpemUoMikKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2FuY2VbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IHNhZmVTdWIob2xkVmFsdWUsIF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgICAgIH0KICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBub3RpY2UgYG1zZy5zZW5kZXJgIGFwcHJvdmVzIGBfc3BlbmRlcmAgdG8gc2VuZCBgX2Ftb3VudGAgdG9rZW5zIG9uCiAgICAvLy8gIGl0cyBiZWhhbGYsIGFuZCB0aGVuIGEgZnVuY3Rpb24gaXMgdHJpZ2dlcmVkIGluIHRoZSBjb250cmFjdCB0aGF0IGlzCiAgICAvLy8gIGJlaW5nIGFwcHJvdmVkLCBgX3NwZW5kZXJgLiBUaGlzIGFsbG93cyB1c2VycyB0byB1c2UgdGhlaXIgdG9rZW5zIHRvCiAgICAvLy8gIGludGVyYWN0IHdpdGggY29udHJhY3RzIGluIG9uZSBmdW5jdGlvbiBjYWxsIGluc3RlYWQgb2YgdHdvCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBjb250cmFjdCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXIKICAgIC8vLyBAcmV0dXJuIFRydWUgaWYgdGhlIGZ1bmN0aW9uIGNhbGwgd2FzIHN1Y2Nlc3NmdWwKICAgIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudCwgYnl0ZXMgX2V4dHJhRGF0YQogICAgKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoIWFwcHJvdmUoX3NwZW5kZXIsIF9hbW91bnQpKSB0aHJvdzsKCiAgICAgICAgQXBwcm92ZUFuZENhbGxGYWxsQmFjayhfc3BlbmRlcikucmVjZWl2ZUFwcHJvdmFsKAogICAgICAgICAgICBtc2cuc2VuZGVyLAogICAgICAgICAgICBfYW1vdW50LAogICAgICAgICAgICB0aGlzLAogICAgICAgICAgICBfZXh0cmFEYXRhCiAgICAgICAgKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy9Ib2xkcyBhY2N1bXVsYXRlZCBkaXZpZGVuZCB0b2tlbnMgb3RoZXIgdGhhbiBUS04KICAgIFRva2VuSG9sZGVyIHB1YmxpYyB0b2tlbmhvbGRlcjsKCiAgICAvL29uY2UgbG9ja2VkLCBjYW4gbm8gbG9uZ2VyIHVwZ3JhZGUgdG9rZW5ob2xkZXIKICAgIGJvb2wgcHVibGljIGxvY2tlZFRva2VuSG9sZGVyOwoKICAgIGZ1bmN0aW9uIGxvY2tUb2tlbkhvbGRlcigpIG9ubHlPd25lciB7CiAgICAgICAgbG9ja2VkVG9rZW5Ib2xkZXIgPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFRva2VuSG9sZGVyKGFkZHJlc3MgX3RoKSBvbmx5T3duZXIgewogICAgICAgIGlmIChsb2NrZWRUb2tlbkhvbGRlcikgdGhyb3c7CiAgICAgICAgdG9rZW5ob2xkZXIgPSBUb2tlbkhvbGRlcihfdGgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGJ1cm4odWludCBfYW1vdW50KSBub3RQYXVzZWQgcmV0dXJucyAoYm9vbCByZXN1bHQpICB7CiAgICAgICAgaWYgKF9hbW91bnQgPiBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0pIHJldHVybiBmYWxzZTsKCiAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdID0gc2FmZVN1YihiYWxhbmNlT2ZbbXNnLnNlbmRlcl0sIF9hbW91bnQpOwogICAgICAgIGN1cnJlbnRTdXBwbHkgID0gc2FmZVN1YihjdXJyZW50U3VwcGx5LCBfYW1vdW50KTsKICAgICAgICByZXN1bHQgPSB0b2tlbmhvbGRlci5idXJuKG1zZy5zZW5kZXIsIF9hbW91bnQpOwogICAgICAgIGlmICghcmVzdWx0KSB0aHJvdzsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCAwLCBfYW1vdW50KTsKICAgIH0KCiAgICAvLyBQZXRlcnNvbidzIExhdyBQcm90ZWN0aW9uCiAgICBldmVudCBsb2dUb2tlblRyYW5zZmVyKGFkZHJlc3MgdG9rZW4sIGFkZHJlc3MgdG8sIHVpbnQgYW1vdW50KTsKCiAgICBmdW5jdGlvbiBjbGFpbVRva2VucyhhZGRyZXNzIF90b2tlbikgb25seU93bmVyIHsKICAgICAgICBpZiAoX3Rva2VuID09IDB4MCkgewogICAgICAgICAgICBvd25lci50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBUb2tlbiB0b2tlbiA9IFRva2VuKF90b2tlbik7CiAgICAgICAgdWludCBiYWxhbmNlID0gdG9rZW4uYmFsYW5jZU9mKHRoaXMpOwogICAgICAgIHRva2VuLnRyYW5zZmVyKG93bmVyLCBiYWxhbmNlKTsKICAgICAgICBsb2dUb2tlblRyYW5zZmVyKF90b2tlbiwgb3duZXIsIGJhbGFuY2UpOwogICAgfQoKICAgIC8vIFBhdXNlIG1lY2hhbmlzbQoKICAgIGJvb2wgcHVibGljIHBhdXNpbmdNZWNoYW5pc21Mb2NrZWQgPSBmYWxzZTsKICAgIGJvb2wgcHVibGljIHBhdXNlZCA9IGZhbHNlOwoKICAgIG1vZGlmaWVyIG5vdFBhdXNlZCgpIHsKICAgICAgICBpZiAocGF1c2VkKSB0aHJvdzsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHBhdXNlKCkgb25seU93bmVyIHsKICAgICAgICBpZiAocGF1c2luZ01lY2hhbmlzbUxvY2tlZCkgdGhyb3c7CiAgICAgICAgcGF1c2VkID0gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB1bnBhdXNlKCkgb25seU93bmVyIHsKICAgICAgICBpZiAocGF1c2luZ01lY2hhbmlzbUxvY2tlZCkgdGhyb3c7CiAgICAgICAgcGF1c2VkID0gZmFsc2U7CiAgICB9CgogICAgZnVuY3Rpb24gbmV2ZXJQYXVzZUFnYWluKCkgb25seU93bmVyIHsKICAgICAgICBwYXVzaW5nTWVjaGFuaXNtTG9ja2VkID0gdHJ1ZTsKICAgIH0KfQoKY29udHJhY3QgVG9rZW5Ib2xkZXIgewogICAgZnVuY3Rpb24gYnVybihhZGRyZXNzICwgdWludCApCiAgICByZXR1cm5zIChib29sIHJlc3VsdCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KfQoKY29udHJhY3QgQXBwcm92ZUFuZENhbGxGYWxsQmFjayB7CiAgICBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBmcm9tLCB1aW50MjU2IF9hbW91bnQsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZGF0YSk7Cn0='.
	

]
