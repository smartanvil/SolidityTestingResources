Class {
	#name : #SRT3ccb4b3bb15d4b8911cd7f57a6479e21daf4c68c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT3ccb4b3bb15d4b8911cd7f57a6479e21daf4c68c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGlmIChhICE9IDAgJiYgYyAvIGEgIT0gYikgcmV2ZXJ0KCk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICAgICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAgICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBpZiAoYiA+IGEpIHJldmVydCgpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgICAgICBpZiAoYyA8IGEpIHJldmVydCgpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9Cgpjb250cmFjdCBFUkMyMEJhc2ljIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLgogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogICAgLyoqCiAgICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCiAgICAgICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAgICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAgICovCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCgogICAgLyoqCiAgICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CgogICAgICAgIHVpbnQyNTYgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKICAgICAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgICAgICAvLyByZXF1aXJlIChfdmFsdWUgPD0gX2FsbG93YW5jZSk7CgogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQXBwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAgICoKICAgICAqIEJld2FyZSB0aGF0IGNoYW5naW5nIGFuIGFsbG93YW5jZSB3aXRoIHRoaXMgbWV0aG9kIGJyaW5ncyB0aGUgcmlzayB0aGF0IHNvbWVvbmUgbWF5IHVzZSBib3RoIHRoZSBvbGQKICAgICAqIGFuZCB0aGUgbmV3IGFsbG93YW5jZSBieSB1bmZvcnR1bmF0ZSB0cmFuc2FjdGlvbiBvcmRlcmluZy4gT25lIHBvc3NpYmxlIHNvbHV0aW9uIHRvIG1pdGlnYXRlIHRoaXMKICAgICAqIHJhY2UgY29uZGl0aW9uIGlzIHRvIGZpcnN0IHJlZHVjZSB0aGUgc3BlbmRlcidzIGFsbG93YW5jZSB0byAwIGFuZCBzZXQgdGhlIGRlc2lyZWQgdmFsdWUgYWZ0ZXJ3YXJkczoKICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgLyoqCiAgICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKICAgICAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsCiAgICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICAgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAogICAgICovCiAgICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgICAgICBpZiAoX3N1YnRyYWN0ZWRWYWx1ZSA+IG9sZFZhbHVlKSB7CiAgICAgICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOwogICAgICAgIH0KICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKfQovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKICAgIC8qKgogICAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICAgKiBhY2NvdW50LgogICAgICovCiAgICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgICAqLwogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KCn0KCgovKioKICogQHRpdGxlIElSQlRva2VucwogKiBAZGV2IElSQiBUb2tlbiBjb250cmFjdCBiYXNlZCBvbiBaZXBwZWxpbiBTdGFuZGFyZFRva2VuIGNvbnRyYWN0CiAqLwpjb250cmFjdCBJUkJUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIC8qKgogICAgICogQGRldiBFUkMyMCBkZXNjcmlwdG9yIHZhcmlhYmxlcwogICAgICovCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiSVJCIFRva2VucyI7CgogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiSVJCIjsKCiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSAxODsKCiAgICAvKioKICAgICAqIEBkZXYgNDg5LjU4IG1pbGxpb25zIHMgdGhlIGluaXRpYWwgVG9rZW4gc2FsZQogICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBjcm93ZHNhbGVUb2tlbnMgPSA0ODk1ODAgKiAxMCAqKiAyMTsKCiAgICAvKioKICAgICAqIEBkZXYgMTAuNDIgbWlsbGlvbnMgaXMgdGhlIGluaXRpYWwgVG9rZW4gcHJlc2FsZQogICAgICovCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBwcmVDcm93ZHNhbGVUb2tlbnMgPSAxMDQyMCAqIDEwICoqIDIxOwoKICAgIC8vIFRPRE86IFRlc3RSUEMgYWRkcmVzc2VzLCByZXBsYWNlIHRvIHJlYWwKICAgIC8vIFBSRSBDcm93ZHNhbGUgVG9rZW5zIFdhbGxldAogICAgYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgcHJlQ3Jvd2RzYWxlVG9rZW5zV2FsbGV0ID0gMHgwQ0Q5NWE1OWZBZDA4OWM0RUJDQ0VCNTRmMzM1ZUM4ZjYxQ2FhODBlOwogICAgLy8gQ3Jvd2RzYWxlIFRva2VucyBXYWxsZXQKICAgIGFkZHJlc3MgcHVibGljIGNvbnN0YW50IGNyb3dkc2FsZVRva2Vuc1dhbGxldCA9IDB4NDg1NDVFNDE2OTZEYzUxMDIwQzM1Y0E4QzM2YjY3ODEwMWE5ODQzNzsKCiAgICAvKioKICAgICAqIEBkZXYgQWRkcmVzcyBvZiBQUkUgQ3Jvd2RzYWxlIGNvbnRyYWN0IHdoaWNoIHdpbGwgYmUgY29tcGFyZWQKICAgICAqICAgICAgIGFnYWluc3QgaW4gdGhlIGFwcHJvcHJpYXRlIG1vZGlmaWVyIGNoZWNrCiAgICAgKi8KICAgIGFkZHJlc3MgcHVibGljIHByZUNyb3dkc2FsZUNvbnRyYWN0QWRkcmVzczsKCiAgICAvKioKICAgICAqIEBkZXYgQWRkcmVzcyBvZiBDcm93ZHNhbGUgY29udHJhY3Qgd2hpY2ggd2lsbCBiZSBjb21wYXJlZAogICAgICogICAgICAgYWdhaW5zdCBpbiB0aGUgYXBwcm9wcmlhdGUgbW9kaWZpZXIgY2hlY2sKICAgICAqLwogICAgYWRkcmVzcyBwdWJsaWMgY3Jvd2RzYWxlQ29udHJhY3RBZGRyZXNzOwoKICAgIC8qKgogICAgICogQGRldiB2YXJpYWJsZSB0aGF0IGhvbGRzIGZsYWcgb2YgZW5kZWQgcHJlIHRva2Vuc2FrZQogICAgICovCiAgICBib29sIGlzUHJlRmluaXNoZWQgPSBmYWxzZTsKCiAgICAvKioKICAgICAqIEBkZXYgdmFyaWFibGUgdGhhdCBob2xkcyBmbGFnIG9mIGVuZGVkIHRva2Vuc2FrZQogICAgICovCiAgICBib29sIGlzRmluaXNoZWQgPSBmYWxzZTsKCiAgICAvKioKICAgICAqIEBkZXYgTW9kaWZpZXIgdGhhdCBhbGxvdyBvbmx5IHRoZSBDcm93ZHNhbGUgY29udHJhY3QgdG8gYmUgc2VuZGVyCiAgICAgKi8KICAgIG1vZGlmaWVyIG9ubHlQcmVDcm93ZHNhbGVDb250cmFjdCgpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gcHJlQ3Jvd2RzYWxlQ29udHJhY3RBZGRyZXNzKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBNb2RpZmllciB0aGF0IGFsbG93IG9ubHkgdGhlIENyb3dkc2FsZSBjb250cmFjdCB0byBiZSBzZW5kZXIKICAgICAqLwogICAgbW9kaWZpZXIgb25seUNyb3dkc2FsZUNvbnRyYWN0KCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBjcm93ZHNhbGVDb250cmFjdEFkZHJlc3MpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IGV2ZW50IGZvciB0aGUgYnVybnQgdG9rZW5zIGFmdGVyIGNyb3dkc2FsZSBsb2dnaW5nCiAgICAgKiBAcGFyYW0gdG9rZW5zIGFtb3VudCBvZiB0b2tlbnMgYXZhaWxhYmxlIGZvciBjcm93ZHNhbGUKICAgICAqLwogICAgZXZlbnQgVG9rZW5zQnVybnQodWludDI1NiB0b2tlbnMpOwoKICAgIC8qKgogICAgICogQGRldiBldmVudCBmb3IgdGhlIHRva2VucyBjb250cmFjdCBtb3ZlIHRvIHRoZSBhY3RpdmUgc3RhdGUgbG9nZ2luZwogICAgICogQHBhcmFtIHN1cHBseSBhbW91bnQgb2YgdG9rZW5zIGxlZnQgYWZ0ZXIgYWxsIHRoZSB1bnNvbGQgd2FzIGJ1cm5lZAogICAgICovCiAgICBldmVudCBMaXZlKHVpbnQyNTYgc3VwcGx5KTsKCiAgICAvKioKICAgICAqIEBkZXYgQ29udHJhY3QgY29uc3RydWN0b3IKICAgICAqLwogICAgZnVuY3Rpb24gSVJCVG9rZW4oKSB7CiAgICAgICAgLy8gSXNzdWUgcHJlIGNyb3dkc2FsZSB0b2tlbnMKICAgICAgICBiYWxhbmNlc1twcmVDcm93ZHNhbGVUb2tlbnNXYWxsZXRdID0gYmFsYW5jZU9mKHByZUNyb3dkc2FsZVRva2Vuc1dhbGxldCkuYWRkKHByZUNyb3dkc2FsZVRva2Vucyk7CiAgICAgICAgVHJhbnNmZXIoYWRkcmVzcygwKSwgcHJlQ3Jvd2RzYWxlVG9rZW5zV2FsbGV0LCBwcmVDcm93ZHNhbGVUb2tlbnMpOwoKICAgICAgICAvLyBJc3N1ZSBjcm93ZHNhbGUgdG9rZW5zCiAgICAgICAgYmFsYW5jZXNbY3Jvd2RzYWxlVG9rZW5zV2FsbGV0XSA9IGJhbGFuY2VPZihjcm93ZHNhbGVUb2tlbnNXYWxsZXQpLmFkZChjcm93ZHNhbGVUb2tlbnMpOwogICAgICAgIFRyYW5zZmVyKGFkZHJlc3MoMCksIGNyb3dkc2FsZVRva2Vuc1dhbGxldCwgY3Jvd2RzYWxlVG9rZW5zKTsKCiAgICAgICAgLy8gNTAwIG1pbGxpb25zIHRva2VucyBvdmVyYWxsCiAgICAgICAgdG90YWxTdXBwbHkgPSBjcm93ZHNhbGVUb2tlbnMuYWRkKHByZUNyb3dkc2FsZVRva2Vucyk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IGJhY2sgbGluayBJUkJUb2tlbiBjb250cmFjdCB3aXRoIElSQlByZUNyb3dkc2FsZSBvbmUKICAgICAqIEBwYXJhbSBfcHJlQ3Jvd2RzYWxlQWRkcmVzcyBub24gemVybyBhZGRyZXNzIG9mIElSQlByZUNyb3dkc2FsZSBjb250cmFjdAogICAgICovCiAgICBmdW5jdGlvbiBzZXRQcmVDcm93ZHNhbGVBZGRyZXNzKGFkZHJlc3MgX3ByZUNyb3dkc2FsZUFkZHJlc3MpIG9ubHlPd25lciBleHRlcm5hbCB7CiAgICAgICAgcmVxdWlyZShfcHJlQ3Jvd2RzYWxlQWRkcmVzcyAhPSBhZGRyZXNzKDApKTsKICAgICAgICBwcmVDcm93ZHNhbGVDb250cmFjdEFkZHJlc3MgPSBfcHJlQ3Jvd2RzYWxlQWRkcmVzczsKCiAgICAgICAgLy8gQWxsb3cgcHJlIGNyb3dkc2FsZSBjb250cmFjdAogICAgICAgIHVpbnQyNTYgYmFsYW5jZSA9IGJhbGFuY2VPZihwcmVDcm93ZHNhbGVUb2tlbnNXYWxsZXQpOwogICAgICAgIGFsbG93ZWRbcHJlQ3Jvd2RzYWxlVG9rZW5zV2FsbGV0XVtwcmVDcm93ZHNhbGVDb250cmFjdEFkZHJlc3NdID0gYmFsYW5jZTsKICAgICAgICBBcHByb3ZhbChwcmVDcm93ZHNhbGVUb2tlbnNXYWxsZXQsIHByZUNyb3dkc2FsZUNvbnRyYWN0QWRkcmVzcywgYmFsYW5jZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IGJhY2sgbGluayBJUkJUb2tlbiBjb250cmFjdCB3aXRoIElSQkNyb3dkc2FsZSBvbmUKICAgICAqIEBwYXJhbSBfY3Jvd2RzYWxlQWRkcmVzcyBub24gemVybyBhZGRyZXNzIG9mIElSQkNyb3dkc2FsZSBjb250cmFjdAogICAgICovCiAgICBmdW5jdGlvbiBzZXRDcm93ZHNhbGVBZGRyZXNzKGFkZHJlc3MgX2Nyb3dkc2FsZUFkZHJlc3MpIG9ubHlPd25lciBleHRlcm5hbCB7CiAgICAgICAgcmVxdWlyZShpc1ByZUZpbmlzaGVkKTsKICAgICAgICByZXF1aXJlKF9jcm93ZHNhbGVBZGRyZXNzICE9IGFkZHJlc3MoMCkpOwogICAgICAgIGNyb3dkc2FsZUNvbnRyYWN0QWRkcmVzcyA9IF9jcm93ZHNhbGVBZGRyZXNzOwoKICAgICAgICAvLyBBbGxvdyBjcm93ZHNhbGUgY29udHJhY3QKICAgICAgICB1aW50MjU2IGJhbGFuY2UgPSBiYWxhbmNlT2YoY3Jvd2RzYWxlVG9rZW5zV2FsbGV0KTsKICAgICAgICBhbGxvd2VkW2Nyb3dkc2FsZVRva2Vuc1dhbGxldF1bY3Jvd2RzYWxlQ29udHJhY3RBZGRyZXNzXSA9IGJhbGFuY2U7CiAgICAgICAgQXBwcm92YWwoY3Jvd2RzYWxlVG9rZW5zV2FsbGV0LCBjcm93ZHNhbGVDb250cmFjdEFkZHJlc3MsIGJhbGFuY2UpOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBjYWxsZWQgb25seSBieSBsaW5rZWQgSVJCUHJlQ3Jvd2RzYWxlIGNvbnRyYWN0IHRvIGVuZCBwcmVjcm93ZHNhbGUuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGVuZFByZVRva2Vuc2FsZSgpIG9ubHlQcmVDcm93ZHNhbGVDb250cmFjdCBleHRlcm5hbCB7CiAgICAgICAgcmVxdWlyZSghaXNQcmVGaW5pc2hlZCk7CiAgICAgICAgdWludDI1NiBwcmVDcm93ZHNhbGVMZWZ0b3ZlcnMgPSBiYWxhbmNlT2YocHJlQ3Jvd2RzYWxlVG9rZW5zV2FsbGV0KTsKCiAgICAgICAgaWYgKHByZUNyb3dkc2FsZUxlZnRvdmVycyA+IDApIHsKICAgICAgICAgICAgYmFsYW5jZXNbcHJlQ3Jvd2RzYWxlVG9rZW5zV2FsbGV0XSA9IDA7CiAgICAgICAgICAgIGJhbGFuY2VzW2Nyb3dkc2FsZVRva2Vuc1dhbGxldF0gPSBiYWxhbmNlc1tjcm93ZHNhbGVUb2tlbnNXYWxsZXRdLmFkZChwcmVDcm93ZHNhbGVMZWZ0b3ZlcnMpOwogICAgICAgICAgICBUcmFuc2ZlcihwcmVDcm93ZHNhbGVUb2tlbnNXYWxsZXQsIGNyb3dkc2FsZVRva2Vuc1dhbGxldCwgcHJlQ3Jvd2RzYWxlTGVmdG92ZXJzKTsKICAgICAgICB9CgogICAgICAgIGlzUHJlRmluaXNoZWQgPSB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBjYWxsZWQgb25seSBieSBsaW5rZWQgSVJCQ3Jvd2RzYWxlIGNvbnRyYWN0IHRvIGVuZCBjcm93ZHNhbGUuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGVuZFRva2Vuc2FsZSgpIG9ubHlDcm93ZHNhbGVDb250cmFjdCBleHRlcm5hbCB7CiAgICAgICAgcmVxdWlyZSghaXNGaW5pc2hlZCk7CiAgICAgICAgdWludDI1NiBjcm93ZHNhbGVMZWZ0b3ZlcnMgPSBiYWxhbmNlT2YoY3Jvd2RzYWxlVG9rZW5zV2FsbGV0KTsKCiAgICAgICAgaWYgKGNyb3dkc2FsZUxlZnRvdmVycyA+IDApIHsKICAgICAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5zdWIoY3Jvd2RzYWxlTGVmdG92ZXJzKTsKCiAgICAgICAgICAgIGJhbGFuY2VzW2Nyb3dkc2FsZVRva2Vuc1dhbGxldF0gPSAwOwogICAgICAgICAgICBUcmFuc2Zlcihjcm93ZHNhbGVUb2tlbnNXYWxsZXQsIGFkZHJlc3MoMCksIGNyb3dkc2FsZUxlZnRvdmVycyk7CiAgICAgICAgICAgIFRva2Vuc0J1cm50KGNyb3dkc2FsZUxlZnRvdmVycyk7CiAgICAgICAgfQoKICAgICAgICBpc0ZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICBMaXZlKHRvdGFsU3VwcGx5KTsKICAgIH0KfQ=='.
	

]
