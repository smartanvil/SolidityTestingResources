Class {
	#name : #SRTac1ec3143b89d5b263d9194db216ea068e0f3dc9,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTac1ec3143b89d5b263d9194db216ea068e0f3dc9 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CmNvbnRyYWN0IG93bmVkIHsKICAgIC8qIE93bmVyIGRlZmluaXRpb24uICovCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsgLy8gT3duZXIgYWRkcmVzcy4KICAgIGZ1bmN0aW9uIG93bmVkKCkgeyBvd25lciA9IG1zZy5zZW5kZXI7IH0KICAgIG1vZGlmaWVyIG9ubHlPd25lciB7IHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7IF87IH0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7IG93bmVyID0gbmV3T3duZXI7IH0KfQpjb250cmFjdCB0b2tlbiB7IAogICAgLyogQmFzZSB0b2tlbiBkZWZpbml0aW9uLiAqLwogICAgc3RyaW5nICBwdWJsaWMgbmFtZTsgICAgICAgIC8vIE5hbWUgZm9yIHRoZSB0b2tlbi4KICAgIHN0cmluZyAgcHVibGljIHN5bWJvbDsgICAgICAvLyBTeW1ib2wgZm9yIHRoZSB0b2tlbi4KICAgIHVpbnQ4ICAgcHVibGljIGRlY2ltYWxzOyAgICAvLyBOdW1iZXIgb2YgZGVjaW1hbHMgb2YgdGhlIHRva2VuLgogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7IC8vIFRvdGFsIG9mIHRva2VucyBjcmVhdGVkLgoKICAgIC8vIEFycmF5IGNvbnRhaW5pbmcgdGhlIGJhbGFuY2UgZm9yZWFjaCBhZGRyZXNzLgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZU9mOwogICAgLy8gQXJyYXkgY29udGFpbmluZyBmb3JlYWNoIGFkZHJlc3MsIGFuIGFycmF5IGNvbnRhaW5pbmcgZWFjaCBhcHByb3ZlZCBhZGRyZXNzIGFuZCB0aGUgYW1vdW50IG9mIHRva2VucyBpdCBjYW4gc3BlbmQuCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2FuY2U7CgogICAgLyogVGhpcyBnZW5lcmF0ZXMgYSBwdWJsaWMgZXZlbnQgb24gdGhlIGJsb2NrY2hhaW4gdGhhdCB3aWxsIG5vdGlmeSBhYm91dCBhIHRyYW5zZmVyIGRvbmUuICovCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKCiAgICAvKiBJbml0aWFsaXplcyB0aGUgY29udHJhY3QgKi8KICAgIGZ1bmN0aW9uIHRva2VuKHVpbnQyNTYgaW5pdGlhbFN1cHBseSwgc3RyaW5nIHRva2VuTmFtZSwgdWludDggZGVjaW1hbFVuaXRzLCBzdHJpbmcgdG9rZW5TeW1ib2wpIHsKICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPSBpbml0aWFsU3VwcGx5OyAvLyBHaXZlcyB0aGUgY3JlYXRvciBhbGwgaW5pdGlhbCB0b2tlbnMuCiAgICAgICAgdG90YWxTdXBwbHkgICAgICAgICAgID0gaW5pdGlhbFN1cHBseTsgLy8gVXBkYXRlIHRvdGFsIHN1cHBseS4KICAgICAgICBuYW1lICAgICAgICAgICAgICAgICAgPSB0b2tlbk5hbWU7ICAgICAvLyBTZXQgdGhlIG5hbWUgZm9yIGRpc3BsYXkgcHVycG9zZXMuCiAgICAgICAgc3ltYm9sICAgICAgICAgICAgICAgID0gdG9rZW5TeW1ib2w7ICAgLy8gU2V0IHRoZSBzeW1ib2wgZm9yIGRpc3BsYXkgcHVycG9zZXMuCiAgICAgICAgZGVjaW1hbHMgICAgICAgICAgICAgID0gZGVjaW1hbFVuaXRzOyAgLy8gQW1vdW50IG9mIGRlY2ltYWxzIGZvciBkaXNwbGF5IHB1cnBvc2VzLgogICAgfQoKICAgIC8qIEludGVybmFsIHRyYW5zZmVyLCBvbmx5IGNhbiBiZSBjYWxsZWQgYnkgdGhpcyBjb250cmFjdC4gKi8KICAgIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGludGVybmFsIHsKICAgICAgICByZXF1aXJlKF90byAhPSAweDApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRyYW5zZmVyIHRvIDB4MCBhZGRyZXNzLiBVc2UgYnVybigpIGluc3RlYWQuCiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbX2Zyb21dID4gX3ZhbHVlKTsgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoLgogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW190b10gKyBfdmFsdWUgPiBiYWxhbmNlT2ZbX3RvXSk7IC8vIENoZWNrIGZvciBvdmVyZmxvd3MuCiAgICAgICAgYmFsYW5jZU9mW19mcm9tXSAtPSBfdmFsdWU7IC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlci4KICAgICAgICBiYWxhbmNlT2ZbX3RvXSAgICs9IF92YWx1ZTsgLy8gQWRkIHRoZSBzYW1lIHRvIHRoZSByZWNpcGllbnQuCiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsgLy8gTm90aWZpZXMgdGhlIGJsb2NrY2hhaW4gYWJvdXQgdGhlIHRyYW5zZmVyLgogICAgfQoKICAgIC8vLyBAbm90aWNlIFNlbmQgYF92YWx1ZWAgdG9rZW5zIHRvIGBfdG9gIGZyb20geW91ciBhY2NvdW50LgogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudC4KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gc2VuZC4KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgewogICAgICAgIF90cmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgLy8vIEBub3RpY2UgU2VuZCBgX3ZhbHVlYCB0b2tlbnMgdG8gYF90b2AgaW4gYmVoYWxmIG9mIGBfZnJvbWAuCiAgICAvLy8gQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIuCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50LgogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBzZW5kLgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSk7IC8vIENoZWNrIGFsbG93YW5jZS4KICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsgLy8gVXBkYXRlcyB0aGUgYWxsb3dhbmNlIGFycmF5LCBzdWJzdHJhY3RpbmcgdGhlIGFtb3VudCBzZW50LgogICAgICAgIF90cmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOyAvLyBNYWtlcyB0aGUgdHJhbnNmZXIuCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBub3RpY2UgQWxsb3dzIGBfc3BlbmRlcmAgdG8gc3BlbmQgYSBtYXhpbXVtIG9mIGBfdmFsdWVgIHRva2VucyBpbiB5b3VyIGJlaGFsZi4KICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3MgYXV0aG9yaXplZCB0byBzcGVuZC4KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBtYXggYW1vdW50IHRoZXkgY2FuIHNwZW5kLgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsgLy8gQWRkcyBhIG5ldyByZWdpc3RlciB0byBhbGxvd2FuY2UsIHBlcm1pdGluZyBfc3BlbmRlciB0byB1c2UgX3ZhbHVlIG9mIHlvdXIgdG9rZW5zLgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9Cgpjb250cmFjdCBCU0NUb2tlbiBpcyBvd25lZCwgdG9rZW4gewogICAgLyogU3BlY2lmaWMgdG9rZW4gZGVmaW5pdGlvbiBmb3IgLUJpdGNvaW4gU3RhcnRVcCBDYXBpdGFsIFMuQS4tIGNvbXBhbnkuICovCiAgICB1aW50MjU2IHB1YmxpYyBzZWxsUHJpY2UgICAgICAgICA9IDUwMDAwMDAwMDAwMDAwMDA7ICAvLyBQcmljZSBhcHBsaWVkIGlmIHNvbWVvbmUgd2FudHMgdG8gc2VsbCBhIHRva2VuLgogICAgdWludDI1NiBwdWJsaWMgYnV5UHJpY2UgICAgICAgICAgPSAxMDAwMDAwMDAwMDAwMDAwMDsgLy8gUHJpY2UgYXBwbGllZCBpZiBzb21lb25lIHdhbnRzIHRvIGJ1eSBhIHRva2VuLgogICAgYm9vbCAgICBwdWJsaWMgY2xvc2VCdXkgICAgICAgICAgPSBmYWxzZTsgICAgICAgICAgICAgLy8gSWYgdHJ1ZSwgbm9ib2R5IHdpbGwgYmUgYWJsZSB0byBidXkuCiAgICBib29sICAgIHB1YmxpYyBjbG9zZVNlbGwgICAgICAgICA9IGZhbHNlOyAgICAgICAgICAgICAvLyBJZiB0cnVlLCBub2JvZHkgd2lsbCBiZSBhYmxlIHRvIHNlbGwuCiAgICB1aW50MjU2IHB1YmxpYyB0b2tlbnNBdmFpbGFibGUgICA9IGJhbGFuY2VPZlt0aGlzXTsgICAvLyBOdW1iZXIgb2YgdG9rZW5zIGF2YWlsYWJsZSBmb3Igc2VsbC4KICAgIHVpbnQyNTYgcHVibGljIGRpc3RyaWJ1dGVkVG9rZW5zID0gMDsgICAgICAgICAgICAgICAgIC8vIE51bWJlciBvZiB0b2tlbnMgZGlzdHJpYnV0ZWQuCiAgICB1aW50MjU2IHB1YmxpYyBzb2x2ZW5jeSAgICAgICAgICA9IHRoaXMuYmFsYW5jZTsgICAgICAvLyBBbW91bnQgb2YgRXRoZXIgYXZhaWxhYmxlIHRvIHBheSBzYWxlcy4KICAgIHVpbnQyNTYgcHVibGljIHByb2ZpdCAgICAgICAgICAgID0gMDsgICAgICAgICAgICAgICAgIC8vIFNob3dzIHRoZSBhY3R1YWwgcHJvZml0IGZvciB0aGUgY29tcGFueS4KCiAgICAvLyBBcnJheSBjb250YWluaW5nIGZvcmVhY2ggYWRkcmVzcyBpZiBpdCdzIGZyb3plbiBvciBub3QuCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBmcm96ZW5BY2NvdW50OwoKICAgIC8qIFRoaXMgZ2VuZXJhdGVzIGEgcHVibGljIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgYWJvdXQgYW4gYWRkcmVzcyBiZWluZyBmcmVlemVkLiAqLwogICAgZXZlbnQgRnJvemVuRnVuZHMoYWRkcmVzcyB0YXJnZXQsIGJvb2wgZnJvemVuKTsKICAgIC8qIFRoaXMgZ2VuZXJhdGVzIGEgcHVibGljIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgYWJvdXQgYW4gYWRkaXRpb24gb2YgRXRoZXIgdG8gdGhlIGNvbnRyYWN0LiAqLwogICAgZXZlbnQgTG9nRGVwb3NpdChhZGRyZXNzIHNlbmRlciwgdWludCBhbW91bnQpOwogICAgLyogVGhpcyBnZW5lcmF0ZXMgYSBwdWJsaWMgZXZlbnQgb24gdGhlIGJsb2NrY2hhaW4gdGhhdCB3aWxsIG5vdGlmeSBhYm91dCBhIG1pZ3JhdGlvbiBoYXMgYmVlbiBjb21wbGV0ZWQuICovCiAgICBldmVudCBMb2dNaWdyYXRpb24oYWRkcmVzcyByZWNlaXZlciwgdWludCBhbW91bnQpOwogICAgLyogVGhpcyBnZW5lcmF0ZXMgYSBwdWJsaWMgZXZlbnQgb24gdGhlIGJsb2NrY2hhaW4gdGhhdCB3aWxsIG5vdGlmeSBhYm91dCBhIFdpdGhkcmF3YWwgb2YgRXRoZXIgZnJvbSB0aGUgY29udHJhY3QuICovCiAgICBldmVudCBMb2dXaXRoZHJhd2FsKGFkZHJlc3MgcmVjZWl2ZXIsIHVpbnQgYW1vdW50KTsKCiAgICAvKiBJbml0aWFsaXplcyB0aGUgY29udHJhY3QgKi8KICAgIGZ1bmN0aW9uIEJTQ1Rva2VuKCB1aW50MjU2IGluaXRpYWxTdXBwbHksIHN0cmluZyB0b2tlbk5hbWUsIHVpbnQ4IGRlY2ltYWxVbml0cywgc3RyaW5nIHRva2VuU3ltYm9sICkgdG9rZW4gKGluaXRpYWxTdXBwbHksIHRva2VuTmFtZSwgZGVjaW1hbFVuaXRzLCB0b2tlblN5bWJvbCkge30KCiAgICAvKiBJbnRlcm5hbCB0cmFuc2Zlciwgb25seSBjYW4gYmUgY2FsbGVkIGJ5IHRoaXMgY29udHJhY3QgKi8KICAgIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGludGVybmFsIHsKICAgICAgICByZXF1aXJlKF90byAhPSAweDApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRyYW5zZmVyIHRvIDB4MCBhZGRyZXNzLiBVc2VyIHNob3VsZCB1c2UgYnVybigpIGluc3RlYWQuCiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbX2Zyb21dID49IF92YWx1ZSk7ICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoLgogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW190b10gKyBfdmFsdWUgPiBiYWxhbmNlT2ZbX3RvXSk7IC8vIENoZWNrIGZvciBvdmVyZmxvd3MuCiAgICAgICAgcmVxdWlyZSghZnJvemVuQWNjb3VudFtfZnJvbV0pOyAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgc2VuZGVyIGlzIGZyb3plbi4KICAgICAgICByZXF1aXJlKCFmcm96ZW5BY2NvdW50W190b10pOyAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiByZWNpcGllbnQgaXMgZnJvemVuLgogICAgICAgIAogICAgICAgIGJhbGFuY2VPZltfZnJvbV0gLT0gX3ZhbHVlOyAvLyBTdWJ0cmFjdHMgZnJvbSB0aGUgc2VuZGVyLgogICAgICAgIGJhbGFuY2VPZltfdG9dICAgKz0gX3ZhbHVlOyAvLyBBZGRzIHRoZSBzYW1lIHRvIHRoZSByZWNpcGllbnQuCgogICAgICAgIF91cGRhdGVUb2tlbnNBdmFpbGFibGUoYmFsYW5jZU9mW3RoaXNdKTsgLy8gVXBkYXRlIHRoZSBiYWxhbmNlIG9mIHRva2VucyBhdmFpbGFibGUgaWYgbmVjZXNzYXJ5LgogICAgICAgIAogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7IC8vIE5vdGlmaWVzIHRoZSBibG9ja2NoYWluIGFib3V0IHRoZSB0cmFuc2Zlci4KICAgIH0KCiAgICAvKiBJbnRlcm5hbCwgdXBkYXRlcyB0aGUgYmFsYW5jZSBvZiB0b2tlbnMgYXZhaWxhYmxlLiAqLwogICAgZnVuY3Rpb24gX3VwZGF0ZVRva2Vuc0F2YWlsYWJsZSh1aW50MjU2IF90b2tlbnNBdmFpbGFibGUpIGludGVybmFsIHsKICAgICAgICB0b2tlbnNBdmFpbGFibGUgPSBfdG9rZW5zQXZhaWxhYmxlOwogICAgfQoKICAgIC8qIEludGVybmFsLCB1cGRhdGVzIHRoZSBiYWxhbmNlIG9mIEV0aGVyIGF2YWlsYWJsZSBpbiBvcmRlciB0byBjb3ZlciBwb3RlbnRpYWwgc2FsZXMuICovCiAgICBmdW5jdGlvbiBfdXBkYXRlU29sdmVuY3kodWludDI1NiBfc29sdmVuY3kpIGludGVybmFsIHsKICAgICAgICBzb2x2ZW5jeSA9IF9zb2x2ZW5jeTsKICAgIH0KCiAgICAvKiBJbnRlcm5hbCwgdXBkYXRlcyB0aGUgcHJvZml0IHZhbHVlICovCiAgICBmdW5jdGlvbiBfdXBkYXRlUHJvZml0KHVpbnQyNTYgX2luY3JlbWVudCwgYm9vbCBhZGQpIGludGVybmFsewogICAgICAgIGlmIChhZGQpewogICAgICAgICAgICAvLyBJbmNyZWFzZSB0aGUgcHJvZml0IHZhbHVlCiAgICAgICAgICAgIHByb2ZpdCA9IHByb2ZpdCArIF9pbmNyZW1lbnQ7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIC8vIERlY3JlYXNlIHRoZSBwcm9maXQgdmFsdWUKICAgICAgICAgICAgaWYoX2luY3JlbWVudCA+IHByb2ZpdCl7CiAgICAgICAgICAgICAgICBwcm9maXQgPSAwOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHByb2ZpdCA9IHByb2ZpdCAtIF9pbmNyZW1lbnQ7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgLy8vIEBub3RpY2UgVGhlIG93bmVyIHNlbmRzIGBfdmFsdWVgIHRva2VucyB0byBgX3RvYCwgYmVjYXVzZSBgX3RvYCBoYXZlIHRoZSByaWdodC4gVGhlIHRva2VucyBtaWdyYXRlZCBjb3VudCBhcyBwcmUtZGlzdHJpYnV0ZWQgb25lcy4KICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQuCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIHNlbmQuCiAgICBmdW5jdGlvbiBjb21wbGV0ZU1pZ3JhdGlvbihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIG9ubHlPd25lciBwYXlhYmxlewogICAgICAgIHJlcXVpcmUoIG1zZy52YWx1ZSA+PSAoX3ZhbHVlICogc2VsbFByaWNlKSApOyAgICAgICAvLyBPd25lciBoYXMgdG8gc2VuZCBlbm91Z2ggRVRIIHRvIHByb2NlZWQuCiAgICAgICAgcmVxdWlyZSgodGhpcy5iYWxhbmNlICsgbXNnLnZhbHVlKSA+IHRoaXMuYmFsYW5jZSk7IC8vIENoZWNrcyBmb3Igb3ZlcmZsb3dzLgogICAgICAgIAogICAgICAgIC8vQ29udHJhY3QgaGFzIGFscmVhZHkgcmVjZWl2ZWQgdGhlIEV0aGVyIHdoZW4gdGhpcyBmdW5jdGlvbiBpcyBleGVjdXRlZC4KICAgICAgICBfdXBkYXRlU29sdmVuY3kodGhpcy5iYWxhbmNlKTsgICAvLyBVcGRhdGVzIHRoZSB2YWx1ZSBvZiBzb2x2ZW5jeSBvZiB0aGUgY29udHJhY3QuCiAgICAgICAgX3VwZGF0ZVByb2ZpdChtc2cudmFsdWUsIGZhbHNlKTsgLy8gRGVjcmVhc2UgcHJvZml0IHZhbHVlLgogICAgICAgIC8vIERlY3JlYXNlIGJlY2F1c2UgdGhlIG93bmVyIGludmVzdHMgaGlzIG93biBFdGhlciBpbiBvcmRlciB0byBndWFyYW50ZWUgdGhlIHNvbHZlbmN5LgoKICAgICAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOyAvLyBUcmFuc2ZlcnMgdGhlIHRva2VucyB0byB0aGUgaW52ZXN0b3IncyBhZGRyZXNzLgogICAgICAgIGRpc3RyaWJ1dGVkVG9rZW5zID0gZGlzdHJpYnV0ZWRUb2tlbnMgKyBfdmFsdWU7IC8vIEluY3JlYXNlIHRoZSBudW1iZXIgb2YgdG9rZW5zIGRpc3RyaWJ1dGVkLgoKICAgICAgICBMb2dNaWdyYXRpb24oIF90bywgX3ZhbHVlKTsgLy8gTm90aWZpZXMgdGhlIGJsb2NrY2hhaW4gYWJvdXQgdGhlIG1pZ3JhdGlvbiB0YWtpbmcgcGxhY2UuCiAgICB9CgogICAgLy8vIEBub3RpY2UgQ3JlYXRlIGBtaW50ZWRBbW91bnRgIHRva2VucyBhbmQgc2VuZCBpdCB0byBgdGFyZ2V0YC4KICAgIC8vLyBAcGFyYW0gdGFyZ2V0IEFkZHJlc3MgdG8gcmVjZWl2ZSB0aGUgdG9rZW5zLgogICAgLy8vIEBwYXJhbSBtaW50ZWRBbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbnMgdGFyZ2V0IHdpbGwgcmVjZWl2ZS4KICAgIGZ1bmN0aW9uIG1pbnRUb2tlbihhZGRyZXNzIHRhcmdldCwgdWludDI1NiBtaW50ZWRBbW91bnQpIG9ubHlPd25lciB7CiAgICAgICAgYmFsYW5jZU9mW3RhcmdldF0gKz0gbWludGVkQW1vdW50OyAvLyBVcGRhdGVzIHRhcmdldCdzIGJhbGFuY2UuCiAgICAgICAgdG90YWxTdXBwbHkgICAgICAgKz0gbWludGVkQW1vdW50OyAvLyBVcGRhdGVzIHRvdGFsU3VwcGx5LgoKICAgICAgICBfdXBkYXRlVG9rZW5zQXZhaWxhYmxlKGJhbGFuY2VPZlt0aGlzXSk7IC8vIFVwZGF0ZSB0aGUgYmFsYW5jZSBvZiB0b2tlbnMgYXZhaWxhYmxlIGlmIG5lY2Vzc2FyeS4KICAgICAgICAKICAgICAgICBUcmFuc2ZlcigwLCB0aGlzLCBtaW50ZWRBbW91bnQpOyAgICAgIC8vIE5vdGlmaWVzIHRoZSBibG9ja2NoYWluIGFib3V0IHRoZSB0b2tlbnMgY3JlYXRlZC4KICAgICAgICBUcmFuc2Zlcih0aGlzLCB0YXJnZXQsIG1pbnRlZEFtb3VudCk7IC8vIE5vdGlmaWVzIHRoZSBibG9ja2NoYWluIGFib3V0IHRoZSB0cmFuc2ZlciB0byB0YXJnZXQuCiAgICB9CgogICAgLy8vIEBub3RpY2UgYGZyZWV6ZT8gUHJldmVudCB8IEFsbG93YCBgdGFyZ2V0YCBmcm9tIHNlbmRpbmcgJiByZWNlaXZpbmcgdG9rZW5zLgogICAgLy8vIEBwYXJhbSB0YXJnZXQgQWRkcmVzcyB0byBiZSBmcm96ZW4uCiAgICAvLy8gQHBhcmFtIGZyZWV6ZSBFaXRoZXIgdG8gZnJlZXplIHRhcmdldCBvciBub3QuCiAgICBmdW5jdGlvbiBmcmVlemVBY2NvdW50KGFkZHJlc3MgdGFyZ2V0LCBib29sIGZyZWV6ZSkgb25seU93bmVyIHsKICAgICAgICBmcm96ZW5BY2NvdW50W3RhcmdldF0gPSBmcmVlemU7IC8vIFNldHMgdGhlIHRhcmdldCBzdGF0dXMuIFRydWUgaWYgaXQncyBmcm96ZW4sIEZhbHNlIGlmIGl0J3Mgbm90LgogICAgICAgIEZyb3plbkZ1bmRzKHRhcmdldCwgZnJlZXplKTsgLy8gTm90aWZpZXMgdGhlIGJsb2NrY2hhaW4gYWJvdXQgdGhlIGNoYW5nZSBvZiBzdGF0ZS4KICAgIH0KCiAgICAvLy8gQG5vdGljZSBBbGxvdyBhZGRyZXNzZXMgdG8gcGF5IGBuZXdCdXlQcmljZWBFVEggd2hlbiBidXlpbmcgYW5kIHJlY2VpdmUgYG5ld1NlbGxQcmljZWBFVEggd2hlbiBzZWxsaW5nLCBmb3JlYWNoIHRva2VuIGJvdWdodC9zb2xkLgogICAgLy8vIEBwYXJhbSBuZXdTZWxsUHJpY2UgUHJpY2UgYXBwbGllZCB3aGVuIGFuIGFkZHJlc3Mgc2VsbHMgaXRzIHRva2VucywgYW1vdW50IGluIFdFSSAoMUVUSCA9IDEwJiMxODU74oG4V0VJKS4KICAgIC8vLyBAcGFyYW0gbmV3QnV5UHJpY2UgUHJpY2UgYXBwbGllZCB3aGVuIGFuIGFkZHJlc3MgYnV5cyB0b2tlbnMsIGFtb3VudCBpbiBXRUkgKDFFVEggPSAxMCYjMTg1O+KBuFdFSSkuCiAgICBmdW5jdGlvbiBzZXRQcmljZXModWludDI1NiBuZXdTZWxsUHJpY2UsIHVpbnQyNTYgbmV3QnV5UHJpY2UpIG9ubHlPd25lciB7CiAgICAgICAgc2VsbFByaWNlID0gbmV3U2VsbFByaWNlOyAvLyBVcGRhdGVzIHRoZSBidXlpbmcgcHJpY2UuCiAgICAgICAgYnV5UHJpY2UgPSBuZXdCdXlQcmljZTsgICAvLyBVcGRhdGVzIHRoZSBzZWxsaW5nIHByaWNlLgogICAgfQoKICAgIC8vLyBAbm90aWNlIFNldHMgdGhlIHN0YXRlIG9mIGJ1eSBhbmQgc2VsbCBvcGVyYXRpb25zCiAgICAvLy8gQHBhcmFtIGlzQ2xvc2VkQnV5IFRydWUgaWYgYnV5IG9wZXJhdGlvbnMgYXJlIGNsb3NlZCwgRmFsc2UgaWYgb3BlbmVkLgogICAgLy8vIEBwYXJhbSBpc0Nsb3NlZFNlbGwgVHJ1ZSBpZiBzZWxsIG9wZXJhdGlvbnMgYXJlIGNsb3NlZCwgRmFsc2UgaWYgb3BlbmVkLgogICAgZnVuY3Rpb24gc2V0U3RhdHVzKGJvb2wgaXNDbG9zZWRCdXksIGJvb2wgaXNDbG9zZWRTZWxsKSBvbmx5T3duZXIgewogICAgICAgIGNsb3NlQnV5ID0gaXNDbG9zZWRCdXk7ICAgLy8gVXBkYXRlcyB0aGUgc3RhdGUgb2YgYnV5IG9wZXJhdGlvbnMuCiAgICAgICAgY2xvc2VTZWxsID0gaXNDbG9zZWRTZWxsOyAvLyBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBzZWxsIG9wZXJhdGlvbnMuCiAgICB9CgogICAgLy8vIEBub3RpY2UgRGVwb3NpdHMgRXRoZXIgdG8gdGhlIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBkZXBvc2l0KCkgcGF5YWJsZSByZXR1cm5zKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoKHRoaXMuYmFsYW5jZSArIG1zZy52YWx1ZSkgPiB0aGlzLmJhbGFuY2UpOyAvLyBDaGVja3MgZm9yIG92ZXJmbG93cy4KICAgICAgICAKICAgICAgICAvL0NvbnRyYWN0IGhhcyBhbHJlYWR5IHJlY2VpdmVkIHRoZSBFdGhlciB3aGVuIHRoaXMgZnVuY3Rpb24gaXMgZXhlY3V0ZWQuCiAgICAgICAgX3VwZGF0ZVNvbHZlbmN5KHRoaXMuYmFsYW5jZSk7ICAgLy8gVXBkYXRlcyB0aGUgdmFsdWUgb2Ygc29sdmVuY3kgb2YgdGhlIGNvbnRyYWN0LgogICAgICAgIF91cGRhdGVQcm9maXQobXNnLnZhbHVlLCBmYWxzZSk7IC8vIERlY3JlYXNlIHByb2ZpdCB2YWx1ZS4KICAgICAgICAvLyBEZWNyZWFzZSBiZWNhdXNlIGRlcG9zaXRzIHdpbGwgYmUgZG9uZSBtb3N0bHkgYnkgdGhlIG93bmVyLgogICAgICAgIC8vIFBvc3NpYmxlIGRvbmF0aW9ucyB3b24ndCBjb3VudCBhcyBwcm9maXQuIEF0bGVhc3Qgbm90IGZvciB0aGUgY29tcGFueSwgYnV0IGluIGZhdm9yIG9mIHRoZSBpbnZlc3RvcnMuCgogICAgICAgIExvZ0RlcG9zaXQobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsgLy8gTm90aWZpZXMgdGhlIGJsb2NrY2hhaW4gYWJvdXQgdGhlIEV0aGVyIHJlY2VpdmVkLgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFRoZSBvd25lciB3aXRoZHJhd3MgRXRoZXIgZnJvbSB0aGUgY29udHJhY3QuCiAgICAvLy8gQHBhcmFtIGFtb3VudEluV2VpcyBBbW91bnQgb2YgRVRIIGluIFdFSSB3aGljaCB3aWxsIGJlIHdpdGhkcmF3ZWQuCiAgICBmdW5jdGlvbiB3aXRoZHJhdyh1aW50IGFtb3VudEluV2Vpcykgb25seU93bmVyIHsKICAgICAgICBMb2dXaXRoZHJhd2FsKG1zZy5zZW5kZXIsIGFtb3VudEluV2Vpcyk7IC8vIE5vdGlmaWVzIHRoZSBibG9ja2NoYWluIGFib3V0IHRoZSB3aXRoZHJhd2FsLgogICAgICAgIF91cGRhdGVTb2x2ZW5jeSggKHRoaXMuYmFsYW5jZSAtIGFtb3VudEluV2VpcykgKTsgLy8gVXBkYXRlcyB0aGUgdmFsdWUgb2Ygc29sdmVuY3kgb2YgdGhlIGNvbnRyYWN0LgogICAgICAgIF91cGRhdGVQcm9maXQoYW1vdW50SW5XZWlzLCB0cnVlKTsgICAgICAgICAgICAgICAgLy8gSW5jcmVhc2UgdGhlIHByb2ZpdCB2YWx1ZS4KICAgICAgICBvd25lci50cmFuc2ZlcihhbW91bnRJbldlaXMpOyAvLyBTZW5kcyB0aGUgRXRoZXIgdG8gb3duZXIgYWRkcmVzcy4KICAgIH0KCiAgICAvLy8gQG5vdGljZSBCdXkgdG9rZW5zIGZyb20gY29udHJhY3QgYnkgc2VuZGluZyBFdGhlci4KICAgIGZ1bmN0aW9uIGJ1eSgpIHBheWFibGUgewogICAgICAgIHJlcXVpcmUoIWNsb3NlQnV5KTsgLy8gQnV5IG9wZXJhdGlvbnMgbXVzdCBiZSBvcGVuZWQuCiAgICAgICAgdWludCBhbW91bnQgPSBtc2cudmFsdWUgLyBidXlQcmljZTsgLy8gQ2FsY3VsYXRlcyB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzZW50LgogICAgICAgIHVpbnQyNTYgcHJvZml0X2luX3RyYW5zYWN0aW9uID0gbXNnLnZhbHVlIC0gKGFtb3VudCAqIHNlbGxQcmljZSk7IC8vIENhbGN1bGF0ZXMgdGhlIHJlbGF0aXZlIHByb2ZpdCBmb3IgdGhpcyB0cmFuc2FjdGlvbi4KICAgICAgICByZXF1aXJlKCBwcm9maXRfaW5fdHJhbnNhY3Rpb24gPiAwICk7CgogICAgICAgIC8vQ29udHJhY3QgaGFzIGFscmVhZHkgcmVjZWl2ZWQgdGhlIEV0aGVyIHdoZW4gdGhpcyBmdW5jdGlvbiBpcyBleGVjdXRlZC4KICAgICAgICBfdHJhbnNmZXIodGhpcywgbXNnLnNlbmRlciwgYW1vdW50KTsgLy8gTWFrZXMgdGhlIHRyYW5zZmVyIG9mIHRva2Vucy4KICAgICAgICBkaXN0cmlidXRlZFRva2VucyA9IGRpc3RyaWJ1dGVkVG9rZW5zICsgYW1vdW50OyAvLyBJbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHRva2VucyBkaXN0cmlidXRlZC4KICAgICAgICBfdXBkYXRlU29sdmVuY3kodGhpcy5iYWxhbmNlIC0gcHJvZml0X2luX3RyYW5zYWN0aW9uKTsgICAvLyBVcGRhdGVzIHRoZSB2YWx1ZSBvZiBzb2x2ZW5jeSBvZiB0aGUgY29udHJhY3QuCiAgICAgICAgX3VwZGF0ZVByb2ZpdChwcm9maXRfaW5fdHJhbnNhY3Rpb24sIHRydWUpOyAgICAgICAgICAgICAgLy8gSW5jcmVhc2UgdGhlIHByb2ZpdCB2YWx1ZS4KICAgICAgICBvd25lci50cmFuc2Zlcihwcm9maXRfaW5fdHJhbnNhY3Rpb24pOyAvLyBTZW5kcyBwcm9maXQgdG8gdGhlIG93bmVyIG9mIHRoZSBjb250cmFjdC4KICAgIH0KCiAgICAvLy8gQG5vdGljZSBTZWxsIGBhbW91bnRgIHRva2VucyB0byB0aGUgY29udHJhY3QuCiAgICAvLy8gQHBhcmFtIGFtb3VudCBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNvbGQuCiAgICBmdW5jdGlvbiBzZWxsKHVpbnQyNTYgYW1vdW50KSB7CiAgICAgICAgcmVxdWlyZSghY2xvc2VTZWxsKTsgLy8gU2VsbCBvcGVyYXRpb25zIG11c3QgYmUgb3BlbmVkLgogICAgICAgIHJlcXVpcmUodGhpcy5iYWxhbmNlID49IGFtb3VudCAqIHNlbGxQcmljZSk7IC8vIENoZWNrcyBpZiB0aGUgY29udHJhY3QgaGFzIGVub3VnaCBFdGhlciB0byBidXkuCiAgICAgICAgCiAgICAgICAgX3RyYW5zZmVyKG1zZy5zZW5kZXIsIHRoaXMsIGFtb3VudCk7IC8vIE1ha2VzIHRoZSB0cmFuc2ZlciBvZiB0b2tlbnMsIHRoZSBjb250cmFjdCByZWNlaXZlcyB0aGUgdG9rZW5zLgogICAgICAgIGRpc3RyaWJ1dGVkVG9rZW5zID0gZGlzdHJpYnV0ZWRUb2tlbnMgLSBhbW91bnQ7IC8vIERlY3JlYXNlIHRoZSBudW1iZXIgb2YgdG9rZW5zIGRpc3RyaWJ1dGVkLgogICAgICAgIF91cGRhdGVTb2x2ZW5jeSggKHRoaXMuYmFsYW5jZSAtIChhbW91bnQgKiBzZWxsUHJpY2UpKSApOyAvLyBVcGRhdGVzIHRoZSB2YWx1ZSBvZiBzb2x2ZW5jeSBvZiB0aGUgY29udHJhY3QuCiAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihhbW91bnQgKiBzZWxsUHJpY2UpOyAvLyBTZW5kcyBFdGhlciB0byB0aGUgc2VsbGVyLgogICAgfQp9'.
	

]
