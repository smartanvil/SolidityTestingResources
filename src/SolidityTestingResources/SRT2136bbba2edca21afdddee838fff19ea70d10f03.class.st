Class {
	#name : #SRT2136bbba2edca21afdddee838fff19ea70d10f03,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT2136bbba2edca21afdddee838fff19ea70d10f03 >> base64 [
	^ 'Ly9sYXN0IGNvbXBpbGVkIHdpdGggc29sanNvbi12MC4zLjUtMjAxNi0wNy0yMS02NjEwYWRkLmpzCgpjb250cmFjdCBTYWZlTWF0aCB7CiAgLy9pbnRlcm5hbHMKCiAgZnVuY3Rpb24gc2FmZU11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIHNhZmVBZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGM+PWEgJiYgYz49Yik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgewogICAgaWYgKCFhc3NlcnRpb24pIHRocm93OwogIH0KfQoKY29udHJhY3QgVG9rZW4gewoKICAgIC8vLyBAcmV0dXJuIHRvdGFsIGFtb3VudCBvZiB0b2tlbnMKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpIHt9CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgZnJvbSB3aGljaCB0aGUgYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZAogICAgLy8vIEByZXR1cm4gVGhlIGJhbGFuY2UKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7fQoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9CgogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBfZnJvbWAgb24gdGhlIGNvbmRpdGlvbiBpdCBpcyBhcHByb3ZlZCBieSBgX2Zyb21gCiAgICAvLy8gQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQoKICAgIC8vLyBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX2FkZHJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2Ygd2VpIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2ZlcgogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHt9CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKCn0KCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgVG9rZW4gewoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy9EZWZhdWx0IGFzc3VtZXMgdG90YWxTdXBwbHkgY2FuJ3QgYmUgb3ZlciBtYXggKDJeMjU2IC0gMSkuCiAgICAgICAgLy9JZiB5b3VyIHRva2VuIGxlYXZlcyBvdXQgdG90YWxTdXBwbHkgYW5kIGNhbiBpc3N1ZSBtb3JlIHRva2VucyBhcyB0aW1lIGdvZXMgb24sIHlvdSBuZWVkIHRvIGNoZWNrIGlmIGl0IGRvZXNuJ3Qgd3JhcC4KICAgICAgICAvL1JlcGxhY2UgdGhlIGlmIHdpdGggdGhpcyBvbmUgaW5zdGVhZC4KICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgLy9pZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0KICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvL3NhbWUgYXMgYWJvdmUuIFJlcGxhY2UgdGhpcyBsaW5lIHdpdGggdGhlIGZvbGxvd2luZyBpZiB5b3Ugd2FudCB0byBwcm90ZWN0IGFnYWluc3Qgd3JhcHBpbmcgdWludHMuCiAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgLy9pZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCkgewogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0KICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCn0KCmNvbnRyYWN0IFJlc2VydmVUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBTYWZlTWF0aCB7CiAgICBhZGRyZXNzIHB1YmxpYyBtaW50ZXI7CiAgICBmdW5jdGlvbiBSZXNlcnZlVG9rZW4oKSB7CiAgICAgIG1pbnRlciA9IG1zZy5zZW5kZXI7CiAgICB9CiAgICBmdW5jdGlvbiBjcmVhdGUoYWRkcmVzcyBhY2NvdW50LCB1aW50IGFtb3VudCkgewogICAgICBpZiAobXNnLnNlbmRlciAhPSBtaW50ZXIpIHRocm93OwogICAgICBiYWxhbmNlc1thY2NvdW50XSA9IHNhZmVBZGQoYmFsYW5jZXNbYWNjb3VudF0sIGFtb3VudCk7CiAgICAgIHRvdGFsU3VwcGx5ID0gc2FmZUFkZCh0b3RhbFN1cHBseSwgYW1vdW50KTsKICAgIH0KICAgIGZ1bmN0aW9uIGRlc3Ryb3koYWRkcmVzcyBhY2NvdW50LCB1aW50IGFtb3VudCkgewogICAgICBpZiAobXNnLnNlbmRlciAhPSBtaW50ZXIpIHRocm93OwogICAgICBpZiAoYmFsYW5jZXNbYWNjb3VudF0gPCBhbW91bnQpIHRocm93OwogICAgICBiYWxhbmNlc1thY2NvdW50XSA9IHNhZmVTdWIoYmFsYW5jZXNbYWNjb3VudF0sIGFtb3VudCk7CiAgICAgIHRvdGFsU3VwcGx5ID0gc2FmZVN1Yih0b3RhbFN1cHBseSwgYW1vdW50KTsKICAgIH0KfQoKY29udHJhY3QgRXRoZXJEZWx0YSBpcyBTYWZlTWF0aCB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgdG9rZW5zOyAvL21hcHBpbmcgb2YgdG9rZW4gYWRkcmVzc2VzIHRvIG1hcHBpbmcgb2YgYWNjb3VudCBiYWxhbmNlcwogIC8vZXRoZXIgYmFsYW5jZXMgYXJlIGhlbGQgaW4gdGhlIHRva2VuPTAgYWNjb3VudAogIG1hcHBpbmcgKGJ5dGVzMzIgPT4gdWludCkgb3JkZXJGaWxsczsKICBhZGRyZXNzIHB1YmxpYyBmZWVBY2NvdW50OwogIHVpbnQgcHVibGljIGZlZU1ha2U7IC8vcGVyY2VudGFnZSB0aW1lcyAoMSBldGhlcikKICB1aW50IHB1YmxpYyBmZWVUYWtlOyAvL3BlcmNlbnRhZ2UgdGltZXMgKDEgZXRoZXIpCgogIGV2ZW50IE9yZGVyKGFkZHJlc3MgdG9rZW5HZXQsIHVpbnQgYW1vdW50R2V0LCBhZGRyZXNzIHRva2VuR2l2ZSwgdWludCBhbW91bnRHaXZlLCB1aW50IGV4cGlyZXMsIHVpbnQgbm9uY2UsIGFkZHJlc3MgdXNlciwgdWludDggdiwgYnl0ZXMzMiByLCBieXRlczMyIHMpOwogIGV2ZW50IENhbmNlbChhZGRyZXNzIHRva2VuR2V0LCB1aW50IGFtb3VudEdldCwgYWRkcmVzcyB0b2tlbkdpdmUsIHVpbnQgYW1vdW50R2l2ZSwgdWludCBleHBpcmVzLCB1aW50IG5vbmNlLCBhZGRyZXNzIHVzZXIsIHVpbnQ4IHYsIGJ5dGVzMzIgciwgYnl0ZXMzMiBzKTsKICBldmVudCBUcmFkZShhZGRyZXNzIHRva2VuR2V0LCB1aW50IGFtb3VudEdldCwgYWRkcmVzcyB0b2tlbkdpdmUsIHVpbnQgYW1vdW50R2l2ZSwgYWRkcmVzcyBnZXQsIGFkZHJlc3MgZ2l2ZSk7CiAgZXZlbnQgRGVwb3NpdChhZGRyZXNzIHRva2VuLCBhZGRyZXNzIHVzZXIsIHVpbnQgYW1vdW50LCB1aW50IGJhbGFuY2UpOwogIGV2ZW50IFdpdGhkcmF3KGFkZHJlc3MgdG9rZW4sIGFkZHJlc3MgdXNlciwgdWludCBhbW91bnQsIHVpbnQgYmFsYW5jZSk7CgogIGZ1bmN0aW9uIEV0aGVyRGVsdGEoYWRkcmVzcyBmZWVBY2NvdW50XywgdWludCBmZWVNYWtlXywgdWludCBmZWVUYWtlXykgewogICAgZmVlQWNjb3VudCA9IGZlZUFjY291bnRfOwogICAgZmVlTWFrZSA9IGZlZU1ha2VfOwogICAgZmVlVGFrZSA9IGZlZVRha2VfOwogIH0KCiAgZnVuY3Rpb24oKSB7CiAgICB0aHJvdzsKICB9CgogIGZ1bmN0aW9uIGRlcG9zaXQoKSB7CiAgICB0b2tlbnNbMF1bbXNnLnNlbmRlcl0gPSBzYWZlQWRkKHRva2Vuc1swXVttc2cuc2VuZGVyXSwgbXNnLnZhbHVlKTsKICAgIERlcG9zaXQoMCwgbXNnLnNlbmRlciwgbXNnLnZhbHVlLCB0b2tlbnNbMF1bbXNnLnNlbmRlcl0pOwogIH0KCiAgZnVuY3Rpb24gd2l0aGRyYXcodWludCBhbW91bnQpIHsKICAgIGlmIChtc2cudmFsdWU+MCkgdGhyb3c7CiAgICBpZiAodG9rZW5zWzBdW21zZy5zZW5kZXJdIDwgYW1vdW50KSB0aHJvdzsKICAgIHRva2Vuc1swXVttc2cuc2VuZGVyXSA9IHNhZmVTdWIodG9rZW5zWzBdW21zZy5zZW5kZXJdLCBhbW91bnQpOwogICAgaWYgKCFtc2cuc2VuZGVyLmNhbGwudmFsdWUoYW1vdW50KSgpKSB0aHJvdzsKICAgIFdpdGhkcmF3KDAsIG1zZy5zZW5kZXIsIGFtb3VudCwgdG9rZW5zWzBdW21zZy5zZW5kZXJdKTsKICB9CgogIGZ1bmN0aW9uIGRlcG9zaXRUb2tlbihhZGRyZXNzIHRva2VuLCB1aW50IGFtb3VudCkgewogICAgLy9yZW1lbWJlciB0byBjYWxsIFRva2VuKGFkZHJlc3MpLmFwcHJvdmUodGhpcywgYW1vdW50KSBvciB0aGlzIGNvbnRyYWN0IHdpbGwgbm90IGJlIGFibGUgdG8gZG8gdGhlIHRyYW5zZmVyIG9uIHlvdXIgYmVoYWxmLgogICAgaWYgKG1zZy52YWx1ZT4wIHx8IHRva2VuPT0wKSB0aHJvdzsKICAgIGlmICghVG9rZW4odG9rZW4pLnRyYW5zZmVyRnJvbShtc2cuc2VuZGVyLCB0aGlzLCBhbW91bnQpKSB0aHJvdzsKICAgIHRva2Vuc1t0b2tlbl1bbXNnLnNlbmRlcl0gPSBzYWZlQWRkKHRva2Vuc1t0b2tlbl1bbXNnLnNlbmRlcl0sIGFtb3VudCk7CiAgICBEZXBvc2l0KHRva2VuLCBtc2cuc2VuZGVyLCBhbW91bnQsIHRva2Vuc1t0b2tlbl1bbXNnLnNlbmRlcl0pOwogIH0KCiAgZnVuY3Rpb24gd2l0aGRyYXdUb2tlbihhZGRyZXNzIHRva2VuLCB1aW50IGFtb3VudCkgewogICAgaWYgKG1zZy52YWx1ZT4wIHx8IHRva2VuPT0wKSB0aHJvdzsKICAgIGlmICh0b2tlbnNbdG9rZW5dW21zZy5zZW5kZXJdIDwgYW1vdW50KSB0aHJvdzsKICAgIHRva2Vuc1t0b2tlbl1bbXNnLnNlbmRlcl0gPSBzYWZlU3ViKHRva2Vuc1t0b2tlbl1bbXNnLnNlbmRlcl0sIGFtb3VudCk7CiAgICBpZiAoIVRva2VuKHRva2VuKS50cmFuc2Zlcihtc2cuc2VuZGVyLCBhbW91bnQpKSB0aHJvdzsKICAgIFdpdGhkcmF3KHRva2VuLCBtc2cuc2VuZGVyLCBhbW91bnQsIHRva2Vuc1t0b2tlbl1bbXNnLnNlbmRlcl0pOwogIH0KCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgdG9rZW4sIGFkZHJlc3MgdXNlcikgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgcmV0dXJuIHRva2Vuc1t0b2tlbl1bdXNlcl07CiAgfQoKICBmdW5jdGlvbiBvcmRlcihhZGRyZXNzIHRva2VuR2V0LCB1aW50IGFtb3VudEdldCwgYWRkcmVzcyB0b2tlbkdpdmUsIHVpbnQgYW1vdW50R2l2ZSwgdWludCBleHBpcmVzLCB1aW50IG5vbmNlLCB1aW50OCB2LCBieXRlczMyIHIsIGJ5dGVzMzIgcykgewogICAgaWYgKG1zZy52YWx1ZT4wKSB0aHJvdzsKICAgIE9yZGVyKHRva2VuR2V0LCBhbW91bnRHZXQsIHRva2VuR2l2ZSwgYW1vdW50R2l2ZSwgZXhwaXJlcywgbm9uY2UsIG1zZy5zZW5kZXIsIHYsIHIsIHMpOwogIH0KCiAgZnVuY3Rpb24gdHJhZGUoYWRkcmVzcyB0b2tlbkdldCwgdWludCBhbW91bnRHZXQsIGFkZHJlc3MgdG9rZW5HaXZlLCB1aW50IGFtb3VudEdpdmUsIHVpbnQgZXhwaXJlcywgdWludCBub25jZSwgYWRkcmVzcyB1c2VyLCB1aW50OCB2LCBieXRlczMyIHIsIGJ5dGVzMzIgcywgdWludCBhbW91bnQpIHsKICAgIC8vYW1vdW50IGlzIGluIGFtb3VudEdldCB0ZXJtcwogICAgaWYgKG1zZy52YWx1ZT4wKSB0aHJvdzsKICAgIGJ5dGVzMzIgaGFzaCA9IHNoYTI1Nih0b2tlbkdldCwgYW1vdW50R2V0LCB0b2tlbkdpdmUsIGFtb3VudEdpdmUsIGV4cGlyZXMsIG5vbmNlKTsKICAgIGlmICghKAogICAgICBlY3JlY292ZXIoaGFzaCx2LHIscykgPT0gdXNlciAmJgogICAgICBibG9jay5udW1iZXIgPD0gZXhwaXJlcyAmJgogICAgICBzYWZlQWRkKG9yZGVyRmlsbHNbaGFzaF0sIGFtb3VudCkgPD0gYW1vdW50R2V0ICYmCiAgICAgIHRva2Vuc1t0b2tlbkdldF1bbXNnLnNlbmRlcl0gPj0gYW1vdW50ICYmCiAgICAgIHRva2Vuc1t0b2tlbkdpdmVdW3VzZXJdID49IHNhZmVNdWwoYW1vdW50R2l2ZSwgYW1vdW50KSAvIGFtb3VudEdldAogICAgKSkgdGhyb3c7CiAgICB0b2tlbnNbdG9rZW5HZXRdW21zZy5zZW5kZXJdID0gc2FmZVN1Yih0b2tlbnNbdG9rZW5HZXRdW21zZy5zZW5kZXJdLCBhbW91bnQpOwogICAgdG9rZW5zW3Rva2VuR2V0XVt1c2VyXSA9IHNhZmVBZGQodG9rZW5zW3Rva2VuR2V0XVt1c2VyXSwgc2FmZU11bChhbW91bnQsICgoMSBldGhlcikgLSBmZWVNYWtlKSkgLyAoMSBldGhlcikpOwogICAgdG9rZW5zW3Rva2VuR2V0XVtmZWVBY2NvdW50XSA9IHNhZmVBZGQodG9rZW5zW3Rva2VuR2V0XVtmZWVBY2NvdW50XSwgc2FmZU11bChhbW91bnQsIGZlZU1ha2UpIC8gKDEgZXRoZXIpKTsKICAgIHRva2Vuc1t0b2tlbkdpdmVdW3VzZXJdID0gc2FmZVN1Yih0b2tlbnNbdG9rZW5HaXZlXVt1c2VyXSwgc2FmZU11bChhbW91bnRHaXZlLCBhbW91bnQpIC8gYW1vdW50R2V0KTsKICAgIHRva2Vuc1t0b2tlbkdpdmVdW21zZy5zZW5kZXJdID0gc2FmZUFkZCh0b2tlbnNbdG9rZW5HaXZlXVttc2cuc2VuZGVyXSwgc2FmZU11bChzYWZlTXVsKCgoMSBldGhlcikgLSBmZWVUYWtlKSwgYW1vdW50R2l2ZSksIGFtb3VudCkgLyBhbW91bnRHZXQgLyAoMSBldGhlcikpOwogICAgdG9rZW5zW3Rva2VuR2l2ZV1bZmVlQWNjb3VudF0gPSBzYWZlQWRkKHRva2Vuc1t0b2tlbkdpdmVdW2ZlZUFjY291bnRdLCBzYWZlTXVsKHNhZmVNdWwoZmVlVGFrZSwgYW1vdW50R2l2ZSksIGFtb3VudCkgLyBhbW91bnRHZXQgLyAoMSBldGhlcikpOwogICAgb3JkZXJGaWxsc1toYXNoXSA9IHNhZmVBZGQob3JkZXJGaWxsc1toYXNoXSwgYW1vdW50KTsKICAgIFRyYWRlKHRva2VuR2V0LCBhbW91bnQsIHRva2VuR2l2ZSwgYW1vdW50R2l2ZSAqIGFtb3VudCAvIGFtb3VudEdldCwgdXNlciwgbXNnLnNlbmRlcik7CiAgfQoKICBmdW5jdGlvbiB0ZXN0VHJhZGUoYWRkcmVzcyB0b2tlbkdldCwgdWludCBhbW91bnRHZXQsIGFkZHJlc3MgdG9rZW5HaXZlLCB1aW50IGFtb3VudEdpdmUsIHVpbnQgZXhwaXJlcywgdWludCBub25jZSwgYWRkcmVzcyB1c2VyLCB1aW50OCB2LCBieXRlczMyIHIsIGJ5dGVzMzIgcywgdWludCBhbW91bnQsIGFkZHJlc3Mgc2VuZGVyKSBjb25zdGFudCByZXR1cm5zKGJvb2wpIHsKICAgIGlmICghKAogICAgICB0b2tlbnNbdG9rZW5HZXRdW3NlbmRlcl0gPj0gYW1vdW50ICYmCiAgICAgIGF2YWlsYWJsZVZvbHVtZSh0b2tlbkdldCwgYW1vdW50R2V0LCB0b2tlbkdpdmUsIGFtb3VudEdpdmUsIGV4cGlyZXMsIG5vbmNlLCB1c2VyLCB2LCByLCBzKSA+PSBhbW91bnQKICAgICkpIHJldHVybiBmYWxzZTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gYXZhaWxhYmxlVm9sdW1lKGFkZHJlc3MgdG9rZW5HZXQsIHVpbnQgYW1vdW50R2V0LCBhZGRyZXNzIHRva2VuR2l2ZSwgdWludCBhbW91bnRHaXZlLCB1aW50IGV4cGlyZXMsIHVpbnQgbm9uY2UsIGFkZHJlc3MgdXNlciwgdWludDggdiwgYnl0ZXMzMiByLCBieXRlczMyIHMpIGNvbnN0YW50IHJldHVybnModWludCkgewogICAgYnl0ZXMzMiBoYXNoID0gc2hhMjU2KHRva2VuR2V0LCBhbW91bnRHZXQsIHRva2VuR2l2ZSwgYW1vdW50R2l2ZSwgZXhwaXJlcywgbm9uY2UpOwogICAgaWYgKCEoCiAgICAgIGVjcmVjb3ZlcihoYXNoLHYscixzKSA9PSB1c2VyICYmCiAgICAgIGJsb2NrLm51bWJlciA8PSBleHBpcmVzCiAgICApKSByZXR1cm4gMDsKICAgIHVpbnQgYXZhaWxhYmxlMSA9IHNhZmVTdWIoYW1vdW50R2V0LCBvcmRlckZpbGxzW2hhc2hdKTsKICAgIHVpbnQgYXZhaWxhYmxlMiA9IHNhZmVNdWwodG9rZW5zW3Rva2VuR2l2ZV1bdXNlcl0sIGFtb3VudEdldCkgLyBhbW91bnRHaXZlOwogICAgaWYgKGF2YWlsYWJsZTE8YXZhaWxhYmxlMikgcmV0dXJuIGF2YWlsYWJsZTE7CiAgICByZXR1cm4gYXZhaWxhYmxlMjsKICB9CgogIGZ1bmN0aW9uIGNhbmNlbE9yZGVyKGFkZHJlc3MgdG9rZW5HZXQsIHVpbnQgYW1vdW50R2V0LCBhZGRyZXNzIHRva2VuR2l2ZSwgdWludCBhbW91bnRHaXZlLCB1aW50IGV4cGlyZXMsIHVpbnQgbm9uY2UsIGFkZHJlc3MgdXNlciwgdWludDggdiwgYnl0ZXMzMiByLCBieXRlczMyIHMpIHsKICAgIGlmIChtc2cudmFsdWU+MCkgdGhyb3c7CiAgICBieXRlczMyIGhhc2ggPSBzaGEyNTYodG9rZW5HZXQsIGFtb3VudEdldCwgdG9rZW5HaXZlLCBhbW91bnRHaXZlLCBleHBpcmVzLCBub25jZSk7CiAgICBpZiAodXNlciE9bXNnLnNlbmRlcikgdGhyb3c7CiAgICBvcmRlckZpbGxzW2hhc2hdID0gYW1vdW50R2V0OwogICAgQ2FuY2VsKHRva2VuR2V0LCBhbW91bnRHZXQsIHRva2VuR2l2ZSwgYW1vdW50R2l2ZSwgZXhwaXJlcywgbm9uY2UsIG1zZy5zZW5kZXIsIHYsIHIsIHMpOwogIH0KfQ=='.
	

]
