Class {
	#name : #SRTd4d2d6f451c602371b08b1527cf08b2cec5de3b2,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd4d2d6f451c602371b08b1527cf08b2cec5de3b2 >> base64 [
	^ 'Ly8gQWJzdHJhY3QgY29udHJhY3QgZm9yIHRoZSBmdWxsIEVSQyAyMCBUb2tlbiBzdGFuZGFyZAovLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKCnByYWdtYSBzb2xpZGl0eSBeMC40LjE3OwoKY29udHJhY3QgVG9rZW4gewogICAgLyogVGhpcyBpcyBhIHNsaWdodCBjaGFuZ2UgdG8gdGhlIEVSQzIwIGJhc2Ugc3RhbmRhcmQuCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgc3VwcGx5KTsKICAgIGlzIHJlcGxhY2VkIHdpdGg6CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIFRoaXMgYXV0b21hdGljYWxseSBjcmVhdGVzIGEgZ2V0dGVyIGZ1bmN0aW9uIGZvciB0aGUgdG90YWxTdXBwbHkuCiAgICBUaGlzIGlzIG1vdmVkIHRvIHRoZSBiYXNlIGNvbnRyYWN0IHNpbmNlIHB1YmxpYyBnZXR0ZXIgZnVuY3Rpb25zIGFyZSBub3QKICAgIGN1cnJlbnRseSByZWNvZ25pc2VkIGFzIGFuIGltcGxlbWVudGF0aW9uIG9mIHRoZSBtYXRjaGluZyBhYnN0cmFjdAogICAgZnVuY3Rpb24gYnkgdGhlIGNvbXBpbGVyLgogICAgKi8KICAgIC8vLyB0b3RhbCBhbW91bnQgb2YgdG9rZW5zCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICAvLy8gQHJldHVybiBUaGUgYmFsYW5jZQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYF9mcm9tYCBvbiB0aGUgY29uZGl0aW9uIGl0IGlzIGFwcHJvdmVkIGJ5IGBfZnJvbWAKICAgIC8vLyBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQG5vdGljZSBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9zcGVuZGVyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXIKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cn0KCi8qCllvdSBzaG91bGQgaW5oZXJpdCBmcm9tIFN0YW5kYXJkVG9rZW4gb3IsIGZvciBhIHRva2VuIGxpa2UgeW91IHdvdWxkIHdhbnQgdG8KZGVwbG95IGluIHNvbWV0aGluZyBsaWtlIE1pc3QsIHNlZSBIdW1hblN0YW5kYXJkVG9rZW4uc29sLgooVGhpcyBpbXBsZW1lbnRzIE9OTFkgdGhlIHN0YW5kYXJkIGZ1bmN0aW9ucyBhbmQgTk9USElORyBlbHNlLgpJZiB5b3UgZGVwbG95IHRoaXMsIHlvdSB3b24ndCBoYXZlIGFueXRoaW5nIHVzZWZ1bC4pCgpJbXBsZW1lbnRzIEVSQyAyMCBUb2tlbiBzdGFuZGFyZDogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCi4qLwoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBUb2tlbiB7CgogICAgdWludDI1NiBjb25zdGFudCBNQVhfVUlOVDI1NiA9IDIqKjI1NiAtIDE7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy9EZWZhdWx0IGFzc3VtZXMgdG90YWxTdXBwbHkgY2FuJ3QgYmUgb3ZlciBtYXggKDJeMjU2IC0gMSkuCiAgICAgICAgLy9JZiB5b3VyIHRva2VuIGxlYXZlcyBvdXQgdG90YWxTdXBwbHkgYW5kIGNhbiBpc3N1ZSBtb3JlIHRva2VucyBhcyB0aW1lIGdvZXMgb24sIHlvdSBuZWVkIHRvIGNoZWNrIGlmIGl0IGRvZXNuJ3Qgd3JhcC4KICAgICAgICAvL1JlcGxhY2UgdGhlIGlmIHdpdGggdGhpcyBvbmUgaW5zdGVhZC4KICAgICAgICAvL3JlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy9zYW1lIGFzIGFib3ZlLiBSZXBsYWNlIHRoaXMgbGluZSB3aXRoIHRoZSBmb2xsb3dpbmcgaWYgeW91IHdhbnQgdG8gcHJvdGVjdCBhZ2FpbnN0IHdyYXBwaW5nIHVpbnRzLgogICAgICAgIC8vcmVxdWlyZShiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSk7CiAgICAgICAgdWludDI1NiBhbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dhbmNlID49IF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICBpZiAoYWxsb3dhbmNlIDwgTUFYX1VJTlQyNTYpIHsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIH0KICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgdmlldyBwdWJsaWMgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikKICAgIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7Cn0KCi8qClRoaXMgVG9rZW4gQ29udHJhY3QgaW1wbGVtZW50cyB0aGUgc3RhbmRhcmQgdG9rZW4gZnVuY3Rpb25hbGl0eSAoaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvYmxvYi9tYXN0ZXIvRUlQUy9laXAtMjAtdG9rZW4tc3RhbmRhcmQubWQpIAphcyB3ZWxsIGFzIHRoZSBmb2xsb3dpbmcgT1BUSU9OQUwgZXh0cmFzIGludGVuZGVkIGZvciB1c2UgYnkgaHVtYW5zLgouKi8KCmNvbnRyYWN0IENoYXJpdHlTcGFjZVRva2VuIGlzIFN0YW5kYXJkVG9rZW4gewoKICAvKiBQdWJsaWMgdmFyaWFibGVzIG9mIHRoZSB0b2tlbiAqLwogIHN0cmluZyBwdWJsaWMgbmFtZTsgICAgICAgICAgICAgICAgICAgLy9mYW5jeSBuYW1lOiBlZyBTaW1vbiBCdWNrcwogIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsgICAgICAgICAgICAgICAgLy9Ib3cgbWFueSBkZWNpbWFscyB0byBzaG93LiBpZS4gVGhlcmUgY291bGQgMTAwMCBiYXNlIHVuaXRzIHdpdGggMyBkZWNpbWFscy4gTWVhbmluZyAwLjk4MCBTQlggPSA5ODAgYmFzZSB1bml0cy4gSXQncyBsaWtlIGNvbXBhcmluZyAxIHdlaSB0byAxIGV0aGVyLgogIHN0cmluZyBwdWJsaWMgc3ltYm9sOyAgICAgICAgICAgICAgICAgLy9BbiBpZGVudGlmaWVyOiBlZyBTQlgKCiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgYWRkcmVzcyBwcml2YXRlIGljb0FkZHJlc3M7CgogIGZ1bmN0aW9uIENoYXJpdHlTcGFjZVRva2VuKGFkZHJlc3MgX2ljb0FkZHJlc3MsIGFkZHJlc3MgX3RlYW1BZGRyZXNzLCBhZGRyZXNzIF9hZHZpc29yc0FkZHJlc3MsIGFkZHJlc3MgX2JvdW50eUFkZHJlc3MsIGFkZHJlc3MgX2NvbXBhbnlBZGRyZXNzKSBwdWJsaWMgewogICAgdG90YWxTdXBwbHkgPSAgMjAwMDAwMDAgKiAxMCoqMTg7ICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdG90YWwgc3VwcGx5IDIwLjAwMC4wMDAgQ0hUCiAgICB1aW50MjU2IHB1YmxpY1NhbGVTdXBwbHkgPSAxNjAwMDAwMCAqIDEwKioxODsgICAgICAgIC8vIFVwZGF0ZSBwdWJsaWMgc2FsZSBzdXBwbHkgMTYuMDAwLjAwMCBDSFQKICAgIHVpbnQyNTYgdGVhbVN1cHBseSA9IDE1MDAwMDAgKiAxMCoqMTg7ICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNoYXJpdHlTUEFDRSB0ZWFtIHN1cHBseSAxLjUwMC4wMDAgQ0hUCiAgICB1aW50MjU2IGFkdmlzb3JzU3VwcGx5ID0gNzAwMDAwICogMTAqKjE4OyAgICAgICAgICAgIC8vIFVwZGF0ZSBwcm9qZWN0cyBhZHZpc29ycyBzdXBwbHkgNzAwLjAwMCBDSFQKICAgIHVpbnQyNTYgYm91bnR5U3VwcGx5ID0gODAwMDAwICogMTAqKjE4OyAgICAgICAgICAgICAgLy8gVXBkYXRlIHByb2plY3RzIGJvdW50eSBwcm9ncmFtIHN1cHBseSA4MDAuMDAwIENIVAogICAgdWludDI1NiBjb21wYW55U3VwcGx5ID0gMTAwMDAwMCAqIDEwKioxODsgICAgICAgICAgICAvLyBVcGRhdGUgY2hhcml0eVNQQUNFIGNvbXBhbnkgc3VwcGx5IDEuMDAwLjAwMCBDSFQKICAgIG5hbWUgPSAiY2hhcml0eVRPS0VOIjsKICAgIGRlY2ltYWxzID0gMTg7CiAgICBzeW1ib2wgPSAiQ0hUIjsKCiAgICBiYWxhbmNlc1tfaWNvQWRkcmVzc10gPSBwdWJsaWNTYWxlU3VwcGx5OwogICAgVHJhbnNmZXIoMCwgX2ljb0FkZHJlc3MsIHB1YmxpY1NhbGVTdXBwbHkpOwoKICAgIGJhbGFuY2VzW190ZWFtQWRkcmVzc10gPSB0ZWFtU3VwcGx5OwogICAgVHJhbnNmZXIoMCwgX3RlYW1BZGRyZXNzLCB0ZWFtU3VwcGx5KTsKCiAgICBiYWxhbmNlc1tfYWR2aXNvcnNBZGRyZXNzXSA9IGFkdmlzb3JzU3VwcGx5OwogICAgVHJhbnNmZXIoMCwgX2Fkdmlzb3JzQWRkcmVzcywgYWR2aXNvcnNTdXBwbHkpOwoKICAgIGJhbGFuY2VzW19ib3VudHlBZGRyZXNzXSA9IGJvdW50eVN1cHBseTsKICAgIFRyYW5zZmVyKDAsIF9ib3VudHlBZGRyZXNzLCBib3VudHlTdXBwbHkpOwoKICAgIGJhbGFuY2VzW19jb21wYW55QWRkcmVzc10gPSBjb21wYW55U3VwcGx5OwogICAgVHJhbnNmZXIoMCwgX2NvbXBhbnlBZGRyZXNzLCBjb21wYW55U3VwcGx5KTsKCiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICBpY29BZGRyZXNzID0gX2ljb0FkZHJlc3M7CiAgfQoKICBmdW5jdGlvbiBkZXN0cm95VW5zb2xkVG9rZW5zKCkgcHVibGljIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBpY29BZGRyZXNzIHx8IG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgdWludDI1NiB2YWx1ZSA9IGJhbGFuY2VzW2ljb0FkZHJlc3NdOwogICAgdG90YWxTdXBwbHkgLT0gdmFsdWU7CiAgICBiYWxhbmNlc1tpY29BZGRyZXNzXSA9IDA7CiAgfQp9CgovKgpUaGUgQ3Jvd2RzYWxlIGNvbnRyYWN0LgouKi8KCmNvbnRyYWN0IENoYXJpdHlTcGFjZSB7CiAgCiAgc3RydWN0IFRpZXIgewogICAgdWludDI1NiB0b2tlbnM7CiAgICB1aW50MjU2IHRva2Vuc1NvbGQ7CiAgICB1aW50MjU2IHByaWNlOwogIH0KICAKICAvLyBFdmVudHMKICBldmVudCBSZWNlaXZlZEVUSChhZGRyZXNzIGFkZHIsIHVpbnQgdmFsdWUpOwogIGV2ZW50IFJlY2VpdmVkQlRDKGFkZHJlc3MgYWRkciwgdWludCB2YWx1ZSwgc3RyaW5nIHR4aWQpOwogIGV2ZW50IFJlY2VpdmVkQkNIKGFkZHJlc3MgYWRkciwgdWludCB2YWx1ZSwgc3RyaW5nIHR4aWQpOwogIGV2ZW50IFJlY2VpdmVkTFRDKGFkZHJlc3MgYWRkciwgdWludCB2YWx1ZSwgc3RyaW5nIHR4aWQpOwogIAogIC8vIFB1YmxpYyB2YXJpYWJsZXMKICBDaGFyaXR5U3BhY2VUb2tlbiBwdWJsaWMgY2hhcml0eVNwYWNlVG9rZW47CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgYWRkcmVzcyBwdWJsaWMgZG9uYXRpb25zQWRkcmVzczsKICB1aW50IHB1YmxpYyBzdGFydERhdGU7CiAgdWludCBwdWJsaWMgZW5kRGF0ZTsKICB1aW50IHB1YmxpYyBwcmVJY29FbmREYXRlOwogIHVpbnQyNTYgcHVibGljIHRva2Vuc1NvbGQgPSAwOwogIGJvb2wgcHVibGljIHNldHVwZWQgPSBmYWxzZTsKICBib29sIHB1YmxpYyBzdGFydGVkID0gZmFsc2U7CiAgYm9vbCBwdWJsaWMgbGl2ZSA9IGZhbHNlOwogIHVpbnQgcHVibGljIHByZUljb01heExhc3RzID0gNyBkYXlzOwogIC8vIEljbyB0aWVycyB2YXJpYWJsZXMKICBUaWVyW10gcHVibGljIHRpZXJzOwogIAogIC8vIEFsdCBjdXJyZW5jaWVzIGhhc2gKICBieXRlczMyIHByaXZhdGUgYnRjSGFzaCA9IGtlY2NhazI1NignQlRDJyk7CiAgYnl0ZXMzMiBwcml2YXRlIGJjaEhhc2ggPSBrZWNjYWsyNTYoJ0JDSCcpOwogIAogIC8vIEludGVyY2VwdG9ycwogIG1vZGlmaWVyIG9ubHlCeShhZGRyZXNzIGEpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBhKTsgCiAgICBfOwogIH0KICAKICBtb2RpZmllciByZXNwZWN0VGltZUZyYW1lKCkgewogICAgcmVxdWlyZSgobm93ID4gc3RhcnREYXRlKSAmJiAobm93IDwgZW5kRGF0ZSkpOwogICAgXzsKICB9CiAgCiAgZnVuY3Rpb24gQ2hhcml0eVNwYWNlKGFkZHJlc3MgX2RvbmF0aW9uc0FkZHJlc3MpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICBkb25hdGlvbnNBZGRyZXNzID0gX2RvbmF0aW9uc0FkZHJlc3M7IC8vYWRkcmVzcyB3aGVyZSBldGgncyBhcmUgaG9sZGVkCiAgfQogIAogIGZ1bmN0aW9uIHNldHVwKGFkZHJlc3MgX2NoYXJpdHlTcGFjZVRva2VuKSBwdWJsaWMgb25seUJ5KG93bmVyKSB7CiAgICByZXF1aXJlKHN0YXJ0ZWQgPT0gZmFsc2UpOwogICAgcmVxdWlyZShzZXR1cGVkID09IGZhbHNlKTsKICAgIGNoYXJpdHlTcGFjZVRva2VuID0gQ2hhcml0eVNwYWNlVG9rZW4oX2NoYXJpdHlTcGFjZVRva2VuKTsKICAgIFRpZXIgbWVtb3J5IHByZWljbyA9IFRpZXIoMjUwMDAwMCAqIDEwKioxOCwgMCwgMC4wMDA3ICogMTAqKjE4KTsKICAgIFRpZXIgbWVtb3J5IHRpZXIxID0gVGllcigzMDAwMDAwICogMTAqKjE4LCAwLCAwLjAwMSAqIDEwKioxOCk7CiAgICBUaWVyIG1lbW9yeSB0aWVyMiA9IFRpZXIoMzUwMDAwMCAqIDEwKioxOCwgMCwgMC4wMDE1ICogMTAqKjE4KTsKICAgIFRpZXIgbWVtb3J5IHRpZXIzID0gVGllcig3MDAwMDAwICogMTAqKjE4LCAwLCAwLjAwMiAqIDEwKioxOCk7CiAgICB0aWVycy5wdXNoKHByZWljbyk7CiAgICB0aWVycy5wdXNoKHRpZXIxKTsKICAgIHRpZXJzLnB1c2godGllcjIpOwogICAgdGllcnMucHVzaCh0aWVyMyk7CiAgICBzZXR1cGVkID0gdHJ1ZTsKICB9CiAgCiAgLy8gU3RhcnQgQ2hhcml0eVNQQUNFIGljbyEKICBmdW5jdGlvbiBzdGFydCgpIHB1YmxpYyBvbmx5Qnkob3duZXIpIHsKICAgIHJlcXVpcmUoc3RhcnRlZCA9PSBmYWxzZSk7CiAgICBzdGFydERhdGUgPSBub3c7ICAgICAgICAgICAgCiAgICBlbmREYXRlID0gbm93ICsgMzAgZGF5cyArIDIgaG91cnM7IC8vIGljbyBkdXJhdGlvbiArIGJhY2t1cCB0aW1lCiAgICBwcmVJY29FbmREYXRlID0gbm93ICsgcHJlSWNvTWF4TGFzdHM7CiAgICBsaXZlID0gdHJ1ZTsKICAgIHN0YXJ0ZWQgPSB0cnVlOwogIH0KICAKICBmdW5jdGlvbiBlbmQoKSBwdWJsaWMgb25seUJ5KG93bmVyKSB7CiAgICByZXF1aXJlKHN0YXJ0ZWQgPT0gdHJ1ZSk7CiAgICByZXF1aXJlKGxpdmUgPT0gdHJ1ZSk7CiAgICByZXF1aXJlKG5vdyA+IGVuZERhdGUpOwogICAgY2hhcml0eVNwYWNlVG9rZW4uZGVzdHJveVVuc29sZFRva2VucygpOwogICAgbGl2ZSA9IGZhbHNlOwogICAgc3RhcnRlZCA9IHRydWU7CiAgfQogIAogIGZ1bmN0aW9uIHJlY2VpdmVEb25hdGlvbigpIHB1YmxpYyBwYXlhYmxlIHJlc3BlY3RUaW1lRnJhbWUgewogICAgdWludDI1NiBfdmFsdWUgPSBtc2cudmFsdWU7CiAgICB1aW50MjU2IF90b2tlbnNUb1RyYW5zZmVyID0gMDsKICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CiAgICAKICAgIHVpbnQyNTYgX3Rva2VucyA9IDA7CiAgICBpZihwcmVJY29FbmREYXRlID4gbm93KSB7CiAgICAgIF90b2tlbnMgPSBfdmFsdWUgKiAxMCoqMTggLyB0aWVyc1swXS5wcmljZTsKICAgICAgaWYoKHRpZXJzWzBdLnRva2VucyAtIHRpZXJzWzBdLnRva2Vuc1NvbGQpIDwgX3Rva2VucykgewogICAgICAgIF90b2tlbnMgPSAodGllcnNbMF0udG9rZW5zIC0gdGllcnNbMF0udG9rZW5zU29sZCk7CiAgICAgICAgX3ZhbHVlIC09ICgoX3Rva2VucyAqIHRpZXJzWzBdLnByaWNlKSAvIDEwKioxOCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3ZhbHVlID0gMDsKICAgICAgfQogICAgICB0aWVyc1swXS50b2tlbnNTb2xkICs9IF90b2tlbnM7CiAgICAgIF90b2tlbnNUb1RyYW5zZmVyICs9IF90b2tlbnM7CiAgICB9CiAgICBpZihfdmFsdWUgPiAwKSB7CiAgICAgIGZvciAodWludCBpID0gMTsgaSA8IHRpZXJzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgaWYoX3ZhbHVlID4gMCAmJiAodGllcnNbaV0udG9rZW5zID4gdGllcnNbaV0udG9rZW5zU29sZCkpIHsKICAgICAgICAgIF90b2tlbnMgPSBfdmFsdWUgKiAxMCoqMTggLyB0aWVyc1tpXS5wcmljZTsKICAgICAgICAgIGlmKCh0aWVyc1tpXS50b2tlbnMgLSB0aWVyc1tpXS50b2tlbnNTb2xkKSA8IF90b2tlbnMpIHsKICAgICAgICAgICAgX3Rva2VucyA9ICh0aWVyc1tpXS50b2tlbnMgLSB0aWVyc1tpXS50b2tlbnNTb2xkKTsKICAgICAgICAgICAgX3ZhbHVlIC09ICgoX3Rva2VucyAqIHRpZXJzW2ldLnByaWNlKSAvIDEwKioxOCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdmFsdWUgPSAwOwogICAgICAgICAgfQogICAgICAgICAgdGllcnNbaV0udG9rZW5zU29sZCArPSBfdG9rZW5zOwogICAgICAgICAgX3Rva2Vuc1RvVHJhbnNmZXIgKz0gX3Rva2VuczsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIAogICAgYXNzZXJ0KF90b2tlbnNUb1RyYW5zZmVyID4gMCk7CiAgICBhc3NlcnQoX3ZhbHVlID09IDApOyAgLy8gWWVzLCB5b3UgY2FuJ3QgZG9uYXRlIDEwMDAwMCBFVEggYW5kIHJlY2VpdmUgYWxsIHRva2Vucy4KICAgIAogICAgdG9rZW5zU29sZCArPSBfdG9rZW5zVG9UcmFuc2ZlcjsKICAgIAogICAgYXNzZXJ0KGNoYXJpdHlTcGFjZVRva2VuLnRyYW5zZmVyKG1zZy5zZW5kZXIsIF90b2tlbnNUb1RyYW5zZmVyKSk7CiAgICBhc3NlcnQoZG9uYXRpb25zQWRkcmVzcy5zZW5kKG1zZy52YWx1ZSkpOwogICAgCiAgICBSZWNlaXZlZEVUSChtc2cuc2VuZGVyLCBtc2cudmFsdWUpOwogIH0KICAKICAvLyBDb25maXJtIGRvbmF0aW9uIGluIEJUQywgQkNIIChCQ0MpLCBMVEMsIERBU0gKICAvLyBBbGwgZG9uYXRpb24gaGFzIHR4aWQgZnJvbSBmb3JlZ2luIGJsb2NrY2hhaW4uIEluIHRoZSBlbmQgb2YgaWNvIHdlIHRyYW5zZmVyIGFsbCBkb25hdGlvbnMgdG8gc2luZ2xlIGFkZHJlc3MgKHdpbGwgYmUgd3JpdHRlbiBkb3duIG9uIHByb2plY3Qgc2l0ZSkgZm9yIGVhY2ggYmxvY2sgY2hhaW4uIFlvdSBtYXkgZWFzbHkgY2hlY2sgdGhhdCB0aGlzIG1ldGhvZCB3YXMgdXNlZCBvbmx5IHRvIGNvbmZpcm0gcmVhbCB0cmFuc2FjdGlvbnMuCiAgZnVuY3Rpb24gbWFudWFsbHlDb25maXJtRG9uYXRpb24oYWRkcmVzcyBkb25hdG9yQWRkcmVzcywgdWludDI1NiB0b2tlbnMsIHVpbnQyNTYgYWx0VmFsdWUsIHN0cmluZyBhbHRDdXJyZW5jeSwgc3RyaW5nIGFsdFR4KSBwdWJsaWMgb25seUJ5KG93bmVyKSByZXNwZWN0VGltZUZyYW1lIHsKICAgIHVpbnQyNTYgX3JlbWFpbmluZ1Rva2VucyA9IHRva2VuczsKICAgIHVpbnQyNTYgX3Rva2VucyA9IDA7CiAgICAKICAgIGlmKHByZUljb0VuZERhdGUgPiBub3cpIHsKICAgICAgIGlmKCh0aWVyc1swXS50b2tlbnMgLSB0aWVyc1swXS50b2tlbnNTb2xkKSA8IF9yZW1haW5pbmdUb2tlbnMpIHsKICAgICAgICBfdG9rZW5zID0gKHRpZXJzWzBdLnRva2VucyAtIHRpZXJzWzBdLnRva2Vuc1NvbGQpOwogICAgICB9IGVsc2UgewogICAgICAgIF90b2tlbnMgPSBfcmVtYWluaW5nVG9rZW5zOwogICAgICB9CiAgICAgIHRpZXJzWzBdLnRva2Vuc1NvbGQgKz0gX3Rva2VuczsKICAgICAgX3JlbWFpbmluZ1Rva2VucyAtPSBfdG9rZW5zOwogICAgfQogICAgaWYoX3JlbWFpbmluZ1Rva2VucyA+IDApIHsKICAgICAgZm9yICh1aW50IGkgPSAxOyBpIDwgdGllcnMubGVuZ3RoOyArK2kpIHsKICAgICAgICBpZihfcmVtYWluaW5nVG9rZW5zID4gMCAmJiAodGllcnNbaV0udG9rZW5zID4gdGllcnNbaV0udG9rZW5zU29sZCkpIHsKICAgICAgICAgIGlmICgodGllcnNbaV0udG9rZW5zIC0gdGllcnNbaV0udG9rZW5zU29sZCkgPCBfcmVtYWluaW5nVG9rZW5zKSB7CiAgICAgICAgICAgIF90b2tlbnMgPSAodGllcnNbaV0udG9rZW5zIC0gdGllcnNbaV0udG9rZW5zU29sZCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdG9rZW5zID0gX3JlbWFpbmluZ1Rva2VuczsKICAgICAgICAgIH0KICAgICAgICAgIHRpZXJzW2ldLnRva2Vuc1NvbGQgKz0gX3Rva2VuczsKICAgICAgICAgIF9yZW1haW5pbmdUb2tlbnMgLT0gX3Rva2VuczsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIAogICAgYXNzZXJ0KF9yZW1haW5pbmdUb2tlbnMgPT0gMCk7IC8vdG8gbm8gYWJ1c2UgbWV0aG9kIHdoZW4gbm8gdG9rZW5zIGF2YWlsYWJsZS4gCiAgICB0b2tlbnNTb2xkICs9IHRva2VuczsKICAgIGFzc2VydChjaGFyaXR5U3BhY2VUb2tlbi50cmFuc2Zlcihkb25hdG9yQWRkcmVzcywgdG9rZW5zKSk7CiAgICAKICAgIGJ5dGVzMzIgYWx0Q3VycmVuY3lIYXNoID0ga2VjY2FrMjU2KGFsdEN1cnJlbmN5KTsKICAgIGlmKGFsdEN1cnJlbmN5SGFzaCA9PSBidGNIYXNoKSB7CiAgICAgIFJlY2VpdmVkQlRDKGRvbmF0b3JBZGRyZXNzLCBhbHRWYWx1ZSwgYWx0VHgpOwogICAgfSBlbHNlIGlmKGFsdEN1cnJlbmN5SGFzaCA9PSBiY2hIYXNoKSB7CiAgICAgIFJlY2VpdmVkQkNIKGRvbmF0b3JBZGRyZXNzLCBhbHRWYWx1ZSwgYWx0VHgpOwogICAgfSBlbHNlIHsKICAgICAgUmVjZWl2ZWRMVEMoZG9uYXRvckFkZHJlc3MsIGFsdFZhbHVlLCBhbHRUeCk7CiAgICB9CiAgfQogIAogIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHJlc3BlY3RUaW1lRnJhbWUgewogICAgcmVjZWl2ZURvbmF0aW9uKCk7CiAgfQp9'.
	

]
