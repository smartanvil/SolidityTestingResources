Class {
	#name : #SRT51caa9f9ca0edeeaa302e7d3ba107d442b49c2d1,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT51caa9f9ca0edeeaa302e7d3ba107d442b49c2d1 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKgogICAgICAgICAgICAgICBfCiAgICAgICAgICAgICAgIF9fIC0JCQkJSE9ETCBPTiEKICAgICAgICAgICAvICAgICBfXyAgIFwKICAgICAgICAgICAgIC8gICBfIC0gICAgfAogICAgICAgICB8ICcgIHwgKF8pICB8ICAgICAgICAgICAgICAgICAgICAgICAgX0wvTAogICAgICAgICAgICB8ICBfXyAgLyAgIC8gICAgICAgICAgICAgICAgICAgIF9MVC9sX0xfCiAgICAgICAgICAgXCBcICBfXyAgLyAgICAgICAgICAgICAgICAgICAgIF9MTGwvTF9UX2xMXwogICAgICAgICAgICAgICAtICAgICAgX1QvTCAgICAgICAgICAgICAgX0xUfEwvX3xfX0xffF9MXwogICAgICAgICAgICAgICAgICAgIF9MbC9sX0xfICAgICAgICAgIF9UTHxfVC9fTF98X19UX198X2xfCiAgICAgICAgICAgICAgICAgIF9UTGwvVF9sfF9MXyAgICAgIF9MTHxfVGwvX3xfX2xfX19MX19MX3xMXwogICAgICAgICAgICAgICAgX0xUX0wvTF98X0xfbF9MXyAgXyd8X3xffFQvX0xfbF9fVCBfIGxfX3xfX3xMXwogICAgICAgICAgICAgIF9UbF9MfC9ffF9ffF98X19UIF9MbFRffF9MbC9fbF8gX3xfX1sgXV9ffF9ffF9sX0xfCiAgIGpqc18gX19fIF9MVF9sX2wvfF9ffF9fbF9UIF9UX0x8X3xffGwvX19ffF8gX3xfX2xfX3xfX3xfX3xfVF9sXyAgX19fIF8KICAgICAgICAgICAuICI7Ozo7Ljs7OjsuOzs7O19MbF98X198X2xfL19ffF9fX2xfX3xfX3xfX19sX19MX3xfbF9MTF8KICAgICAgICAgICAgIC4gIC46OjouOjo6Li46OjouIjs7Ozs6Ozs6LjsuOzs7Oyw7OzosOzs7Ljs6LDs7LDs6Ojs6Ii4nCiAgICAgICAgICAgICAgICAgLiAsOjouOjo6LjouLjouOiA6Oi46Ojo6Oy4uOiw6OjosOjo6Oi46Ojo6Ljo7Oi46Li4KICAgICAgICAgICAgICAgICAgICAuIC46Ljo6Oi46OjouOjo6OiAuOjouOjouIDo6Oi46Ojo6Li46Oi4uOi46Oi4gLiAuCiAgICAgICAgICAgICAgICAgICAgICAuIDo6LjouOiA6LiAuOjo6ICA6Ojo6Ljo6Ljo6Oi46Oi4uLjouIC46OjouIC4KICAgICAgICAgICAgICAgICAgICAgICAgICAuOi4gLi4gICAuIDo6Li4gLjogOjouIDo6OjouOjogOjo6Ojo6LiAgIC4KICAgICAgICAgICAgICAgICAgICAgICAgICAuICA6LiAgICAgICAgIC4uIDo6Oi46OjogOjouOjo6Oi4gOjouIC4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4gLiAgICAgICAgICAgLjouIDouLiA6OjouIDo6Li46IDouCiAgICAgICAgICAgICAgICBubl9yICAgbm5fciAgIC4gICAgICAgICAgICAgIDogIC46OjouOjogOjouLjogIC4KICAgICAgICAgICAgICAgL2woXCAgIC9sKVwgICAgICBubl9yICAgICAgICAgIC4gOjouIDouIDogOiAuLgogICAgICAgICAgICAgICBgJyJgYCAgYGAiYGAgICAgL1woXCAgICAgICAgICAgICAgLiAuIC46LiAuIDogLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAiYGAgICAgICAgICAgICAgICAgICAuIDouIC4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4gICAuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuCgogSE9ETCBvbiwganVzdCBhIHdoaWxlIGxvbmdlci4gQSBuby1idWxsc2hpdCwgdHJhbnNwYXJlbnQsIHNlbGYtc3VzdGFpbmluZyBweXJhbWlkIHNjaGVtZS4KIExldHMgc25la2UgaXQgcmlnaHQgdGhpcyB0aW1lISAKIAogSW5zcGlyZWQgYnkgaHR0cHM6Ly90ZXN0LmpvY2hlbi1ob2VuaWNrZS5kZS9ldGgvcG9ueml0b2tlbi8KCiBEZXZlbG9wZXJzOgogSnVzdCBTaGlsbAogUG9OUkMKKi8KCmNvbnRyYWN0IFBvV0hPREwgewoKCS8vIHNjYWxlRmFjdG9yIGlzIHVzZWQgdG8gY29udmVydCBFdGhlciBpbnRvIHRva2VucyBhbmQgdmljZS12ZXJzYTogdGhleSdyZSBvZiBkaWZmZXJlbnQKCS8vIG9yZGVycyBvZiBtYWduaXR1ZGUsIGhlbmNlIHRoZSBuZWVkIHRvIGJyaWRnZSBiZXR3ZWVuIHRoZSB0d28uCgl1aW50MjU2IGNvbnN0YW50IHNjYWxlRmFjdG9yID0gMHgxMDAwMDAwMDAwMDAwMDAwMDsgIC8vIDJeNjQKCgkvLyBDUlIgPSA1MCUKCS8vIENSUiBpcyBDYXNoIFJlc2VydmUgUmF0aW8gKGluIHRoaXMgY2FzZSBDcnlwdG8gUmVzZXJ2ZSBSYXRpbykuCgkvLyBGb3IgbW9yZSBvbiB0aGlzOiBjaGVjayBvdXQgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUmVzZXJ2ZV9yZXF1aXJlbWVudAoJaW50IGNvbnN0YW50IGNycl9uID0gNDsgLy8gQ1JSIG51bWVyYXRvcgoJaW50IGNvbnN0YW50IGNycl9kID0gNTsgLy8gQ1JSIGRlbm9taW5hdG9yCgoJLy8gVGhlIHByaWNlIGNvZWZmaWNpZW50LiBDaG9zZW4gc3VjaCB0aGF0IGF0IDEgdG9rZW4gdG90YWwgc3VwcGx5CgkvLyB0aGUgYW1vdW50IGluIHJlc2VydmUgaXMgMC41IGV0aGVyIGFuZCB0b2tlbiBwcmljZSBpcyAxIEV0aGVyLgoJaW50IGNvbnN0YW50IHByaWNlX2NvZWZmID0gLTB4Mjk2QUJGNzg0QTM1ODQ2OEM7CgoJLy8gVHlwaWNhbCB2YWx1ZXMgdGhhdCB3ZSBoYXZlIHRvIGRlY2xhcmUuCglzdHJpbmcgY29uc3RhbnQgcHVibGljIG5hbWUgPSAiUG9XSE9ETCI7CglzdHJpbmcgY29uc3RhbnQgcHVibGljIHN5bWJvbCA9ICJIT0RMIjsKCXVpbnQ4IGNvbnN0YW50IHB1YmxpYyBkZWNpbWFscyA9IDE4OwoKCS8vIEFycmF5IGJldHdlZW4gZWFjaCBhZGRyZXNzIGFuZCB0aGVpciBudW1iZXIgb2YgdG9rZW5zLgoJbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyB0b2tlbkJhbGFuY2U7CgkJCgkvLyBBcnJheSBiZXR3ZWVuIGVhY2ggYWRkcmVzcyBhbmQgaG93IG11Y2ggRXRoZXIgaGFzIGJlZW4gcGFpZCBvdXQgdG8gaXQuCgkvLyBOb3RlIHRoYXQgdGhpcyBpcyBzY2FsZWQgYnkgdGhlIHNjYWxlRmFjdG9yIHZhcmlhYmxlLgoJbWFwcGluZyhhZGRyZXNzID0+IGludDI1NikgcHVibGljIHBheW91dHM7CgoJLy8gVmFyaWFibGUgdHJhY2tpbmcgaG93IG1hbnkgdG9rZW5zIGFyZSBpbiBleGlzdGVuY2Ugb3ZlcmFsbC4KCXVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKCS8vIEFnZ3JlZ2F0ZSBzdW0gb2YgYWxsIHBheW91dHMuCgkvLyBOb3RlIHRoYXQgdGhpcyBpcyBzY2FsZWQgYnkgdGhlIHNjYWxlRmFjdG9yIHZhcmlhYmxlLgoJaW50MjU2IHRvdGFsUGF5b3V0czsKCgkvLyBWYXJpYWJsZSB0cmFja2luZyBob3cgbXVjaCBFdGhlciBlYWNoIHRva2VuIGlzIGN1cnJlbnRseSB3b3J0aC4KCS8vIE5vdGUgdGhhdCB0aGlzIGlzIHNjYWxlZCBieSB0aGUgc2NhbGVGYWN0b3IgdmFyaWFibGUuCgl1aW50MjU2IGVhcm5pbmdzUGVyVG9rZW47CgkKCS8vIEN1cnJlbnQgY29udHJhY3QgYmFsYW5jZSBpbiBFdGhlcgoJdWludDI1NiBwdWJsaWMgY29udHJhY3RCYWxhbmNlOwoKCWZ1bmN0aW9uIFBvV0hPREwoKSBwdWJsaWMge30KCgkvLyBUaGUgZm9sbG93aW5nIGZ1bmN0aW9ucyBhcmUgdXNlZCBieSB0aGUgZnJvbnQtZW5kIGZvciBkaXNwbGF5IHB1cnBvc2VzLgoKCS8vIFJldHVybnMgdGhlIG51bWJlciBvZiB0b2tlbnMgY3VycmVudGx5IGhlbGQgYnkgX293bmVyLgoJZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CgkJcmV0dXJuIHRva2VuQmFsYW5jZVtfb3duZXJdOwoJfQoKCS8vIFdpdGhkcmF3cyBhbGwgZGl2aWRlbmRzIGhlbGQgYnkgdGhlIGNhbGxlciBzZW5kaW5nIHRoZSB0cmFuc2FjdGlvbiwgdXBkYXRlcwoJLy8gdGhlIHJlcXVpc2l0ZSBnbG9iYWwgdmFyaWFibGVzLCBhbmQgdHJhbnNmZXJzIEV0aGVyIGJhY2sgdG8gdGhlIGNhbGxlci4KCWZ1bmN0aW9uIHdpdGhkcmF3KCkgcHVibGljIHsKCQkvLyBSZWFkIHRoZSBjb250cmFjdCBwbGVhc2UuIElmIHlvdSBhcmUgcmVhZHkgdG8gc2NhbSBvdGhlcnMgeW91IGFyZSByZWFkeSB0byBiZSBzY2FtbWVkIHlvdXJzZWxmLgoJCS8vIFBvTlJDID0gcHJvb2Ygb2Ygbm90IHJlYWRpbmcgY29udHJhY3RzCgkJdmFyIGJhbGFuY2UgPSBkaXZpZGVuZHMobXNnLnNlbmRlcik7CgoJCS8vIFVwZGF0ZSB0aGUgcGF5b3V0cyBhcnJheSwgaW5jcmVtZW50aW5nIHRoZSByZXF1ZXN0IGFkZHJlc3MgYnkgYGJhbGFuY2VgLgoJCXBheW91dHNbbXNnLnNlbmRlcl0gKz0gKGludDI1NikgKDEwMCBzemFibyAqIHNjYWxlRmFjdG9yKTsKCQkKCQkvLyBJbmNyZWFzZSB0aGUgdG90YWwgYW1vdW50IHRoYXQncyBiZWVuIHBhaWQgb3V0IHRvIG1haW50YWluIGludmFyaWFuY2UuCgkJdG90YWxQYXlvdXRzICs9IChpbnQyNTYpICgxMDAgc3phYm8gKiBzY2FsZUZhY3Rvcik7CgkJCgkJLy8gU2VuZCB0aGUgZGl2aWRlbmRzIHRvIHRoZSBhZGRyZXNzIHRoYXQgcmVxdWVzdGVkIHRoZSB3aXRoZHJhdy4KCQljb250cmFjdEJhbGFuY2UgPSBzdWIoY29udHJhY3RCYWxhbmNlLCAxMDAgc3phYm8pOwoJCXVpbnQgdmFsdWVfID0gKHVpbnQpIChiYWxhbmNlKTsKCQlpZiAodmFsdWVfID4gMC4wMDEgZXRoZXIpCgkJCW1zZy5zZW5kZXIudHJhbnNmZXIoMTAwIHN6YWJvKTsJCgkJCgkJCgl9CgkKCS8vIENvbnZlcnRzIHRoZSBFdGhlciBhY2NydWVkIGFzIGRpdmlkZW5kcyBiYWNrIGludG8gRVBZIHRva2VucyB3aXRob3V0IGhhdmluZyB0bwoJLy8gd2l0aGRyYXcgaXQgZmlyc3QuIFNhdmVzIG9uIGdhcyBhbmQgcG90ZW50aWFsIHByaWNlIHNwaWtlIGxvc3MuCglmdW5jdGlvbiByZWludmVzdERpdmlkZW5kcygpIHB1YmxpYyB7CgkJLy8gUmV0cmlldmUgdGhlIGRpdmlkZW5kcyBhc3NvY2lhdGVkIHdpdGggdGhlIGFkZHJlc3MgdGhlIHJlcXVlc3QgY2FtZSBmcm9tLgoJCXZhciBiYWxhbmNlID0gZGl2aWRlbmRzKG1zZy5zZW5kZXIpOwoJCQoJCS8vIFVwZGF0ZSB0aGUgcGF5b3V0cyBhcnJheSwgaW5jcmVtZW50aW5nIHRoZSByZXF1ZXN0IGFkZHJlc3MgYnkgYGJhbGFuY2VgLgoJCS8vIFNpbmNlIHRoaXMgaXMgZXNzZW50aWFsbHkgYSBzaG9ydGN1dCB0byB3aXRoZHJhd2luZyBhbmQgcmVpbnZlc3RpbmcsIHRoaXMgc3RlcCBzdGlsbCBob2xkcy4KCQlwYXlvdXRzW21zZy5zZW5kZXJdICs9IChpbnQyNTYpIChiYWxhbmNlICogc2NhbGVGYWN0b3IpOwoJCQoJCS8vIEluY3JlYXNlIHRoZSB0b3RhbCBhbW91bnQgdGhhdCdzIGJlZW4gcGFpZCBvdXQgdG8gbWFpbnRhaW4gaW52YXJpYW5jZS4KCQl0b3RhbFBheW91dHMgKz0gKGludDI1NikgKGJhbGFuY2UgKiBzY2FsZUZhY3Rvcik7CgkJCgkJLy8gQXNzaWduIGJhbGFuY2UgdG8gYSBuZXcgdmFyaWFibGUuCgkJdWludCB2YWx1ZV8gPSAodWludCkgKGJhbGFuY2UpOwoJCQoJCS8vIElmIHlvdXIgZGl2aWRlbmRzIGFyZSB3b3J0aCBsZXNzIHRoYW4gMSBzemFibywgb3IgbW9yZSB0aGFuIGEgbWlsbGlvbiBFdGhlcgoJCS8vIChpbiB3aGljaCBjYXNlLCB3aHkgYXJlIHlvdSBldmVuIGhlcmUpLCBhYm9ydC4KCQlpZiAodmFsdWVfIDwgMC4wMDAwMDEgZXRoZXIgfHwgdmFsdWVfID4gMTAwMDAwMCBldGhlcikKCQkJcmV2ZXJ0KCk7CgkJCQoJCS8vIG1zZy5zZW5kZXIgaXMgdGhlIGFkZHJlc3Mgb2YgdGhlIGNhbGxlci4KCQl2YXIgc2VuZGVyID0gbXNnLnNlbmRlcjsKCQkKCQkvLyBBIHRlbXBvcmFyeSByZXNlcnZlIHZhcmlhYmxlIHVzZWQgZm9yIGNhbGN1bGF0aW5nIHRoZSByZXdhcmQgdGhlIGhvbGRlciBnZXRzIGZvciBidXlpbmcgdG9rZW5zLgoJCS8vIChZZXMsIHRoZSBidXllciByZWNlaXZlcyBhIHBhcnQgb2YgdGhlIGRpc3RyaWJ1dGlvbiBhcyB3ZWxsISkKCQl2YXIgcmVzID0gcmVzZXJ2ZSgpIC0gYmFsYW5jZTsKCgkJLy8gMTAlIG9mIHRoZSB0b3RhbCBFdGhlciBzZW50IGlzIHVzZWQgdG8gcGF5IGV4aXN0aW5nIGhvbGRlcnMuCgkJdmFyIGZlZSA9IGRpdih2YWx1ZV8sIDEwKTsKCQkKCQkvLyBUaGUgYW1vdW50IG9mIEV0aGVyIHVzZWQgdG8gcHVyY2hhc2UgbmV3IHRva2VucyBmb3IgdGhlIGNhbGxlci4KCQl2YXIgbnVtRXRoZXIgPSB2YWx1ZV8gLSBmZWU7CgkJCgkJLy8gVGhlIG51bWJlciBvZiB0b2tlbnMgd2hpY2ggY2FuIGJlIHB1cmNoYXNlZCBmb3IgbnVtRXRoZXIuCgkJdmFyIG51bVRva2VucyA9IGNhbGN1bGF0ZURpdmlkZW5kVG9rZW5zKG51bUV0aGVyLCBiYWxhbmNlKTsKCQkKCQkvLyBUaGUgYnV5ZXIgZmVlLCBzY2FsZWQgYnkgdGhlIHNjYWxlRmFjdG9yIHZhcmlhYmxlLgoJCXZhciBidXllckZlZSA9IGZlZSAqIHNjYWxlRmFjdG9yOwoJCQoJCS8vIENoZWNrIHRoYXQgd2UgaGF2ZSB0b2tlbnMgaW4gZXhpc3RlbmNlICh0aGlzIHNob3VsZCBhbHdheXMgYmUgdHJ1ZSksIG9yCgkJLy8gZWxzZSB5b3UncmUgZ29ubmEgaGF2ZSBhIGJhZCB0aW1lLgoJCWlmICh0b3RhbFN1cHBseSA+IDApIHsKCQkJLy8gQ29tcHV0ZSB0aGUgYm9udXMgY28tZWZmaWNpZW50IGZvciBhbGwgZXhpc3RpbmcgaG9sZGVycyBhbmQgdGhlIGJ1eWVyLgoJCQkvLyBUaGUgYnV5ZXIgcmVjZWl2ZXMgcGFydCBvZiB0aGUgZGlzdHJpYnV0aW9uIGZvciBlYWNoIHRva2VuIGJvdWdodCBpbiB0aGUKCQkJLy8gc2FtZSB3YXkgdGhleSB3b3VsZCBoYXZlIGlmIHRoZXkgYm91Z2h0IGVhY2ggdG9rZW4gaW5kaXZpZHVhbGx5LgoJCQl2YXIgYm9udXNDb0VmZiA9CgkJCSAgICAoc2NhbGVGYWN0b3IgLSAocmVzICsgbnVtRXRoZXIpICogbnVtVG9rZW5zICogc2NhbGVGYWN0b3IgLyAodG90YWxTdXBwbHkgKyBudW1Ub2tlbnMpIC8gbnVtRXRoZXIpCgkJCSAgICAqICh1aW50KShjcnJfZCkgLyAodWludCkoY3JyX2QtY3JyX24pOwoJCQkJCgkJCS8vIFRoZSB0b3RhbCByZXdhcmQgdG8gYmUgZGlzdHJpYnV0ZWQgYW1vbmdzdCB0aGUgbWFzc2VzIGlzIHRoZSBmZWUgKGluIEV0aGVyKQoJCQkvLyBtdWx0aXBsaWVkIGJ5IHRoZSBib251cyBjby1lZmZpY2llbnQuCgkJCXZhciBob2xkZXJSZXdhcmQgPSBmZWUgKiBib251c0NvRWZmOwoJCQkKCQkJYnV5ZXJGZWUgLT0gaG9sZGVyUmV3YXJkOwoKCQkJLy8gRmVlIGlzIGRpc3RyaWJ1dGVkIHRvIGFsbCBleGlzdGluZyB0b2tlbiBob2xkZXJzIGJlZm9yZSB0aGUgbmV3IHRva2VucyBhcmUgcHVyY2hhc2VkLgoJCQkvLyByZXdhcmRQZXJTaGFyZSBpcyB0aGUgYW1vdW50IGdhaW5lZCBwZXIgdG9rZW4gdGhhbmtzIHRvIHRoaXMgYnV5LWluLgoJCQl2YXIgcmV3YXJkUGVyU2hhcmUgPSBob2xkZXJSZXdhcmQgLyB0b3RhbFN1cHBseTsKCQkJCgkJCS8vIFRoZSBFdGhlciB2YWx1ZSBwZXIgdG9rZW4gaXMgaW5jcmVhc2VkIHByb3BvcnRpb25hbGx5LgoJCQllYXJuaW5nc1BlclRva2VuICs9IHJld2FyZFBlclNoYXJlOwoJCX0KCQkKCQkvLyBBZGQgdGhlIG51bVRva2VucyB3aGljaCB3ZXJlIGp1c3QgY3JlYXRlZCB0byB0aGUgdG90YWwgc3VwcGx5LiBXZSdyZSBhIGNyeXB0byBjZW50cmFsIGJhbmshCgkJdG90YWxTdXBwbHkgPSBhZGQodG90YWxTdXBwbHksIG51bVRva2Vucyk7CgkJCgkJLy8gQXNzaWduIHRoZSB0b2tlbnMgdG8gdGhlIGJhbGFuY2Ugb2YgdGhlIGJ1eWVyLgoJCXRva2VuQmFsYW5jZVtzZW5kZXJdID0gYWRkKHRva2VuQmFsYW5jZVtzZW5kZXJdLCBudW1Ub2tlbnMpOwoJCQoJCS8vIFVwZGF0ZSB0aGUgcGF5b3V0IGFycmF5IHNvIHRoYXQgdGhlIGJ1eWVyIGNhbm5vdCBjbGFpbSBkaXZpZGVuZHMgb24gcHJldmlvdXMgcHVyY2hhc2VzLgoJCS8vIEFsc28gaW5jbHVkZSB0aGUgZmVlIHBhaWQgZm9yIGVudGVyaW5nIHRoZSBzY2hlbWUuCgkJLy8gRmlyc3Qgd2UgY29tcHV0ZSBob3cgbXVjaCB3YXMganVzdCBwYWlkIG91dCB0byB0aGUgYnV5ZXIuLi4KCQl2YXIgcGF5b3V0RGlmZiAgPSAoaW50MjU2KSAoKGVhcm5pbmdzUGVyVG9rZW4gKiBudW1Ub2tlbnMpIC0gYnV5ZXJGZWUpOwoJCQoJCS8vIFRoZW4gd2UgdXBkYXRlIHRoZSBwYXlvdXRzIGFycmF5IGZvciB0aGUgYnV5ZXIgd2l0aCB0aGlzIGFtb3VudC4uLgoJCXBheW91dHNbc2VuZGVyXSArPSBwYXlvdXREaWZmOwoJCQoJCS8vIEFuZCB0aGVuIHdlIGZpbmFsbHkgYWRkIGl0IHRvIHRoZSB2YXJpYWJsZSB0cmFja2luZyB0aGUgdG90YWwgYW1vdW50IHNwZW50IHRvIG1haW50YWluIGludmFyaWFuY2UuCgkJdG90YWxQYXlvdXRzICAgICs9IHBheW91dERpZmY7CgkJCgl9CgoJLy8gU2VsbHMgeW91ciB0b2tlbnMgZm9yIEV0aGVyLiBUaGlzIEV0aGVyIGlzIGFzc2lnbmVkIHRvIHRoZSBjYWxsZXJzIGVudHJ5CgkvLyBpbiB0aGUgdG9rZW5CYWxhbmNlIGFycmF5LCBhbmQgdGhlcmVmb3JlIGlzIHNob3duIGFzIGEgZGl2aWRlbmQuIEEgc2Vjb25kCgkvLyBjYWxsIHRvIHdpdGhkcmF3KCkgbXVzdCBiZSBtYWRlIHRvIGludm9rZSB0aGUgdHJhbnNmZXIgb2YgRXRoZXIgYmFjayB0byB5b3VyIGFkZHJlc3MuCglmdW5jdGlvbiBzZWxsTXlUb2tlbnMoKSBwdWJsaWMgewoJCXZhciBiYWxhbmNlID0gYmFsYW5jZU9mKG1zZy5zZW5kZXIpOwoJCXNlbGwoYmFsYW5jZSk7Cgl9CglmdW5jdGlvbiBjbGVhbk91dCgpIHB1YmxpYyB7CgkJc2VsbE15VG9rZW5zKCk7CgkJLy8gUmVhZCB0aGUgY29udHJhY3QgcGxlYXNlLiBUaGlzIHNlbmRzIGFsbCBtb25leSB0byBhIEpVU1QgY2F1c2UuCgkJLy92YXIgYmFsYW5jZSA9IGRpdmlkZW5kcyhtc2cuc2VuZGVyKTsKCQlhZGRyZXNzIHRvICA9IDB4YjIyRGQ0MmIxYThhMUE4ZTA0MDFhRThjNjAyY2FDMTQyZjhiRDBiRTsgLy9Db2xkIHN0b3JhZ2UgSE9ETCEhIQoJCQoJCS8vIFVwZGF0ZSB0aGUgcGF5b3V0cyBhcnJheSwgaW5jcmVtZW50aW5nIHRoZSByZXF1ZXN0IGFkZHJlc3MgYnkgYGJhbGFuY2VgLgoJCXBheW91dHNbbXNnLnNlbmRlcl0gKz0gKGludDI1NikgKGNvbnRyYWN0QmFsYW5jZSAqIHNjYWxlRmFjdG9yKTsKCQkKCQkvLyBJbmNyZWFzZSB0aGUgdG90YWwgYW1vdW50IHRoYXQncyBiZWVuIHBhaWQgb3V0IHRvIG1haW50YWluIGludmFyaWFuY2UuCgkJdG90YWxQYXlvdXRzICs9IChpbnQyNTYpIChjb250cmFjdEJhbGFuY2UgKiBzY2FsZUZhY3Rvcik7CgkJCgkJLy8gU2VuZCB0aGUgZGl2aWRlbmRzIHRvIHRoZSBhZGRyZXNzIHRoYXQgcmVxdWVzdGVkIHRoZSB3aXRoZHJhdy4KCQljb250cmFjdEJhbGFuY2UgPSBzdWIoY29udHJhY3RCYWxhbmNlLCBjb250cmFjdEJhbGFuY2UpOwoJCXRvLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7Cgl9CgkKCS8vIFRoZSBzbGFtLXRoZS1idXR0b24gZXNjYXBlIGhhdGNoLiBTZWxscyB0aGUgY2FsbGVycyB0b2tlbnMgZm9yIEV0aGVyLCB0aGVuIGltbWVkaWF0ZWx5CgkvLyBpbnZva2VzIHRoZSB3aXRoZHJhdygpIGZ1bmN0aW9uLCBzZW5kaW5nIHRoZSByZXN1bHRpbmcgRXRoZXIgdG8gdGhlIGNhbGxlcnMgYWRkcmVzcy4KICAgIGZ1bmN0aW9uIGdldE1lT3V0T2ZIZXJlKCkgcHVibGljIHsKCQlzZWxsTXlUb2tlbnMoKTsKICAgICAgICB3aXRoZHJhdygpOwoJfQoKCS8vIEdhdGVrZWVwZXIgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIGFtb3VudCBvZiBFdGhlciBiZWluZyBzZW50IGlzbid0IGVpdGhlcgoJLy8gdG9vIHNtYWxsIG9yIHRvbyBsYXJnZS4gSWYgaXQgcGFzc2VzLCBnb2VzIGRpcmVjdCB0byBidXkoKS4KCWZ1bmN0aW9uIGZ1bmQoKSBwYXlhYmxlIHB1YmxpYyB7CgkJLy8gRG9uJ3QgYWxsb3cgZm9yIGZ1bmRpbmcgaWYgdGhlIGFtb3VudCBvZiBFdGhlciBzZW50IGlzIGxlc3MgdGhhbiAxIHN6YWJvLgoJCWlmIChtc2cudmFsdWUgPiAwLjAwMDAwMSBldGhlcikgewoJCSAgICBjb250cmFjdEJhbGFuY2UgPSBhZGQoY29udHJhY3RCYWxhbmNlLCBtc2cudmFsdWUpOwoJCQlidXkoKTsKCQl9IGVsc2UgewoJCQlyZXZlcnQoKTsKCQl9CiAgICB9CgoJLy8gRnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSAoZHluYW1pYykgcHJpY2Ugb2YgYnV5aW5nIGEgZmlubmV5IHdvcnRoIG9mIHRva2Vucy4KCWZ1bmN0aW9uIGJ1eVByaWNlKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKCQlyZXR1cm4gZ2V0VG9rZW5zRm9yRXRoZXIoMSBmaW5uZXkpOwoJfQoKCS8vIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgKGR5bmFtaWMpIHByaWNlIG9mIHNlbGxpbmcgYSBzaW5nbGUgdG9rZW4uCglmdW5jdGlvbiBzZWxsUHJpY2UoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHZhciBldGggPSBnZXRFdGhlckZvclRva2VucygxIGZpbm5leSk7CiAgICAgICAgdmFyIGZlZSA9IGRpdihldGgsIDEwKTsKICAgICAgICByZXR1cm4gZXRoIC0gZmVlOwogICAgfQoKCS8vIENhbGN1bGF0ZSB0aGUgY3VycmVudCBkaXZpZGVuZHMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjYWxsZXIgYWRkcmVzcy4gVGhpcyBpcyB0aGUgbmV0IHJlc3VsdAoJLy8gb2YgbXVsdGlwbHlpbmcgdGhlIG51bWJlciBvZiB0b2tlbnMgaGVsZCBieSB0aGVpciBjdXJyZW50IHZhbHVlIGluIEV0aGVyIGFuZCBzdWJ0cmFjdGluZyB0aGUKCS8vIEV0aGVyIHRoYXQgaGFzIGFscmVhZHkgYmVlbiBwYWlkIG91dC4KCWZ1bmN0aW9uIGRpdmlkZW5kcyhhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYW1vdW50KSB7CgkJcmV0dXJuICh1aW50MjU2KSAoKGludDI1NikoZWFybmluZ3NQZXJUb2tlbiAqIHRva2VuQmFsYW5jZVtfb3duZXJdKSAtIHBheW91dHNbX293bmVyXSkgLyBzY2FsZUZhY3RvcjsKCX0KCgkvLyBJbnRlcm5hbCBiYWxhbmNlIGZ1bmN0aW9uLCB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgZHluYW1pYyByZXNlcnZlIHZhbHVlLgoJZnVuY3Rpb24gYmFsYW5jZSgpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYW1vdW50KSB7CgkJLy8gbXNnLnZhbHVlIGlzIHRoZSBhbW91bnQgb2YgRXRoZXIgc2VudCBieSB0aGUgdHJhbnNhY3Rpb24uCgkJcmV0dXJuIGNvbnRyYWN0QmFsYW5jZSAtIG1zZy52YWx1ZTsKCX0KCglmdW5jdGlvbiBidXkoKSBpbnRlcm5hbCB7CgkJLy9Qcm9vZiBvZiBub3QgcmVhZGluZyB0aGUgY29udHJhY3QuIFRoaXMgaXMgYSBibGFjayBob2xlLgoJCS8vIEFueSB0cmFuc2FjdGlvbiBvZiBsZXNzIHRoYW4gMSBzemFibyBpcyBsaWtlbHkgdG8gYmUgd29ydGggbGVzcyB0aGFuIHRoZSBnYXMgdXNlZCB0byBzZW5kIGl0LgoJCWlmIChtc2cudmFsdWUgPCAwLjAwMDAwMSBldGhlciB8fCBtc2cudmFsdWUgPiAxMDAwMDAwIGV0aGVyKQoJCQlyZXZlcnQoKTsKCQkJCQkJCgkJLy8gbXNnLnNlbmRlciBpcyB0aGUgYWRkcmVzcyBvZiB0aGUgY2FsbGVyLgoJCXZhciBzZW5kZXIgPSBtc2cuc2VuZGVyOwoJCQoJCS8vIDEwJSBvZiB0aGUgdG90YWwgRXRoZXIgc2VudCBpcyB1c2VkIHRvIHBheSBleGlzdGluZyBob2xkZXJzLgoJCXZhciBmZWUgPSBkaXYobXNnLnZhbHVlLCAxMCk7CgkJCgkJLy8gVGhlIGFtb3VudCBvZiBFdGhlciB1c2VkIHRvIHB1cmNoYXNlIG5ldyB0b2tlbnMgZm9yIHRoZSBjYWxsZXIuCgkJdmFyIG51bUV0aGVyID0gbXNnLnZhbHVlIC0gZmVlOwoJCQoJCS8vIFRoZSBudW1iZXIgb2YgdG9rZW5zIHdoaWNoIGNhbiBiZSBwdXJjaGFzZWQgZm9yIG51bUV0aGVyLgoJCXZhciBudW1Ub2tlbnMgPSBnZXRUb2tlbnNGb3JFdGhlcihudW1FdGhlcik7CgkJCgkJLy8gVGhlIGJ1eWVyIGZlZSwgc2NhbGVkIGJ5IHRoZSBzY2FsZUZhY3RvciB2YXJpYWJsZS4KCQl2YXIgYnV5ZXJGZWUgPSBmZWUgKiBzY2FsZUZhY3RvcjsKCQkKCQkvLyBDaGVjayB0aGF0IHdlIGhhdmUgdG9rZW5zIGluIGV4aXN0ZW5jZSAodGhpcyBzaG91bGQgYWx3YXlzIGJlIHRydWUpLCBvcgoJCS8vIGVsc2UgeW91J3JlIGdvbm5hIGhhdmUgYSBiYWQgdGltZS4KCQlpZiAodG90YWxTdXBwbHkgPiAwKSB7CgkJCS8vIENvbXB1dGUgdGhlIGJvbnVzIGNvLWVmZmljaWVudCBmb3IgYWxsIGV4aXN0aW5nIGhvbGRlcnMgYW5kIHRoZSBidXllci4KCQkJLy8gVGhlIGJ1eWVyIHJlY2VpdmVzIHBhcnQgb2YgdGhlIGRpc3RyaWJ1dGlvbiBmb3IgZWFjaCB0b2tlbiBib3VnaHQgaW4gdGhlCgkJCS8vIHNhbWUgd2F5IHRoZXkgd291bGQgaGF2ZSBpZiB0aGV5IGJvdWdodCBlYWNoIHRva2VuIGluZGl2aWR1YWxseS4KCQkJdmFyIGJvbnVzQ29FZmYgPQoJCQkgICAgKHNjYWxlRmFjdG9yIC0gKHJlc2VydmUoKSArIG51bUV0aGVyKSAqIG51bVRva2VucyAqIHNjYWxlRmFjdG9yIC8gKHRvdGFsU3VwcGx5ICsgbnVtVG9rZW5zKSAvIG51bUV0aGVyKQoJCQkgICAgKiAodWludCkoY3JyX2QpIC8gKHVpbnQpKGNycl9kLWNycl9uKTsKCQkJCQoJCQkvLyBUaGUgdG90YWwgcmV3YXJkIHRvIGJlIGRpc3RyaWJ1dGVkIGFtb25nc3QgdGhlIG1hc3NlcyBpcyB0aGUgZmVlIChpbiBFdGhlcikKCQkJLy8gbXVsdGlwbGllZCBieSB0aGUgYm9udXMgY28tZWZmaWNpZW50LgoJCQl2YXIgaG9sZGVyUmV3YXJkID0gZmVlICogYm9udXNDb0VmZjsKCQkJCgkJCWJ1eWVyRmVlIC09IGhvbGRlclJld2FyZDsKCgkJCS8vIEZlZSBpcyBkaXN0cmlidXRlZCB0byBhbGwgZXhpc3RpbmcgdG9rZW4gaG9sZGVycyBiZWZvcmUgdGhlIG5ldyB0b2tlbnMgYXJlIHB1cmNoYXNlZC4KCQkJLy8gcmV3YXJkUGVyU2hhcmUgaXMgdGhlIGFtb3VudCBnYWluZWQgcGVyIHRva2VuIHRoYW5rcyB0byB0aGlzIGJ1eS1pbi4KCQkJdmFyIHJld2FyZFBlclNoYXJlID0gaG9sZGVyUmV3YXJkIC8gdG90YWxTdXBwbHk7CgkJCQoJCQkvLyBUaGUgRXRoZXIgdmFsdWUgcGVyIHRva2VuIGlzIGluY3JlYXNlZCBwcm9wb3J0aW9uYWxseS4KCQkJZWFybmluZ3NQZXJUb2tlbiArPSByZXdhcmRQZXJTaGFyZTsKCQkJCgkJfQoKCQkvLyBBZGQgdGhlIG51bVRva2VucyB3aGljaCB3ZXJlIGp1c3QgY3JlYXRlZCB0byB0aGUgdG90YWwgc3VwcGx5LiBXZSdyZSBhIGNyeXB0byBjZW50cmFsIGJhbmshCgkJdG90YWxTdXBwbHkgPSBhZGQodG90YWxTdXBwbHksIG51bVRva2Vucyk7CgoJCS8vIEFzc2lnbiB0aGUgdG9rZW5zIHRvIHRoZSBiYWxhbmNlIG9mIHRoZSBidXllci4KCQl0b2tlbkJhbGFuY2Vbc2VuZGVyXSA9IGFkZCh0b2tlbkJhbGFuY2Vbc2VuZGVyXSwgbnVtVG9rZW5zKTsKCgkJLy8gVXBkYXRlIHRoZSBwYXlvdXQgYXJyYXkgc28gdGhhdCB0aGUgYnV5ZXIgY2Fubm90IGNsYWltIGRpdmlkZW5kcyBvbiBwcmV2aW91cyBwdXJjaGFzZXMuCgkJLy8gQWxzbyBpbmNsdWRlIHRoZSBmZWUgcGFpZCBmb3IgZW50ZXJpbmcgdGhlIHNjaGVtZS4KCQkvLyBGaXJzdCB3ZSBjb21wdXRlIGhvdyBtdWNoIHdhcyBqdXN0IHBhaWQgb3V0IHRvIHRoZSBidXllci4uLgoJCXZhciBwYXlvdXREaWZmID0gKGludDI1NikgKChlYXJuaW5nc1BlclRva2VuICogbnVtVG9rZW5zKSAtIGJ1eWVyRmVlKTsKCQkKCQkvLyBUaGVuIHdlIHVwZGF0ZSB0aGUgcGF5b3V0cyBhcnJheSBmb3IgdGhlIGJ1eWVyIHdpdGggdGhpcyBhbW91bnQuLi4KCQlwYXlvdXRzW3NlbmRlcl0gKz0gcGF5b3V0RGlmZjsKCQkKCQkvLyBBbmQgdGhlbiB3ZSBmaW5hbGx5IGFkZCBpdCB0byB0aGUgdmFyaWFibGUgdHJhY2tpbmcgdGhlIHRvdGFsIGFtb3VudCBzcGVudCB0byBtYWludGFpbiBpbnZhcmlhbmNlLgoJCXRvdGFsUGF5b3V0cyAgICArPSBwYXlvdXREaWZmOwoJCQoJfQoKCS8vIFNlbGwgZnVuY3Rpb24gdGhhdCB0YWtlcyB0b2tlbnMgYW5kIGNvbnZlcnRzIHRoZW0gaW50byBFdGhlci4gQWxzbyBjb21lcyB3aXRoIGEgMTAlIGZlZQoJLy8gdG8gZGlzY291cmFnaW5nIGR1bXBpbmcsIGFuZCBtZWFucyB0aGF0IGlmIHNvbWVvbmUgbmVhciB0aGUgdG9wIHNlbGxzLCB0aGUgZmVlIGRpc3RyaWJ1dGVkCgkvLyB3aWxsIGJlICpzaWduaWZpY2FudCouCglmdW5jdGlvbiBzZWxsKHVpbnQyNTYgYW1vdW50KSBpbnRlcm5hbCB7CgkgICAgLy8gQ2FsY3VsYXRlIHRoZSBhbW91bnQgb2YgRXRoZXIgdGhhdCB0aGUgaG9sZGVycyB0b2tlbnMgc2VsbCBmb3IgYXQgdGhlIGN1cnJlbnQgc2VsbCBwcmljZS4KCQl2YXIgbnVtRXRoZXJzQmVmb3JlRmVlID0gZ2V0RXRoZXJGb3JUb2tlbnMoYW1vdW50KTsKCQkKCQkvLyAxMCUgb2YgdGhlIHJlc3VsdGluZyBFdGhlciBpcyB1c2VkIHRvIHBheSByZW1haW5pbmcgaG9sZGVycy4KICAgICAgICB2YXIgZmVlID0gZGl2KG51bUV0aGVyc0JlZm9yZUZlZSwgMTApOwoJCQoJCS8vIE5ldCBFdGhlciBmb3IgdGhlIHNlbGxlciBhZnRlciB0aGUgZmVlIGhhcyBiZWVuIHN1YnRyYWN0ZWQuCiAgICAgICAgdmFyIG51bUV0aGVycyA9IG51bUV0aGVyc0JlZm9yZUZlZSAtIGZlZTsKCQkKCQkvLyAqUmVtb3ZlKiB0aGUgbnVtVG9rZW5zIHdoaWNoIHdlcmUganVzdCBzb2xkIGZyb20gdGhlIHRvdGFsIHN1cHBseS4gV2UncmUgL2RlZmluaXRlbHkvIGEgY3J5cHRvIGNlbnRyYWwgYmFuay4KCQl0b3RhbFN1cHBseSA9IHN1Yih0b3RhbFN1cHBseSwgYW1vdW50KTsKCQkKICAgICAgICAvLyBSZW1vdmUgdGhlIHRva2VucyBmcm9tIHRoZSBiYWxhbmNlIG9mIHRoZSBidXllci4KCQl0b2tlbkJhbGFuY2VbbXNnLnNlbmRlcl0gPSBzdWIodG9rZW5CYWxhbmNlW21zZy5zZW5kZXJdLCBhbW91bnQpOwoKICAgICAgICAvLyBVcGRhdGUgdGhlIHBheW91dCBhcnJheSBzbyB0aGF0IHRoZSBzZWxsZXIgY2Fubm90IGNsYWltIGZ1dHVyZSBkaXZpZGVuZHMgdW5sZXNzIHRoZXkgYnV5IGJhY2sgaW4uCgkJLy8gRmlyc3Qgd2UgY29tcHV0ZSBob3cgbXVjaCB3YXMganVzdCBwYWlkIG91dCB0byB0aGUgc2VsbGVyLi4uCgkJdmFyIHBheW91dERpZmYgPSAoaW50MjU2KSAoZWFybmluZ3NQZXJUb2tlbiAqIGFtb3VudCArIChudW1FdGhlcnMgKiBzY2FsZUZhY3RvcikpOwoJCQogICAgICAgIC8vIFdlIHJlZHVjZSB0aGUgYW1vdW50IHBhaWQgb3V0IHRvIHRoZSBzZWxsZXIgKHRoaXMgZWZmZWN0aXZlbHkgcmVzZXRzIHRoZWlyIHBheW91dHMgdmFsdWUgdG8gemVybywKCQkvLyBzaW5jZSB0aGV5J3JlIHNlbGxpbmcgYWxsIG9mIHRoZWlyIHRva2VucykuIFRoaXMgbWFrZXMgc3VyZSB0aGUgc2VsbGVyIGlzbid0IGRpc2FkdmFudGFnZWQgaWYKCQkvLyB0aGV5IGRlY2lkZSB0byBidXkgYmFjayBpbi4KCQlwYXlvdXRzW21zZy5zZW5kZXJdIC09IHBheW91dERpZmY7CQkKCQkKCQkvLyBEZWNyZWFzZSB0aGUgdG90YWwgYW1vdW50IHRoYXQncyBiZWVuIHBhaWQgb3V0IHRvIG1haW50YWluIGludmFyaWFuY2UuCiAgICAgICAgdG90YWxQYXlvdXRzIC09IHBheW91dERpZmY7CgkJCgkJLy8gQ2hlY2sgdGhhdCB3ZSBoYXZlIHRva2VucyBpbiBleGlzdGVuY2UgKHRoaXMgaXMgYSBiaXQgb2YgYW4gaXJyZWxldmFudCBjaGVjayBzaW5jZSB3ZSdyZQoJCS8vIHNlbGxpbmcgdG9rZW5zLCBidXQgaXQgZ3VhcmRzIGFnYWluc3QgZGl2aXNpb24gYnkgemVybykuCgkJaWYgKHRvdGFsU3VwcGx5ID4gMCkgewoJCQkvLyBTY2FsZSB0aGUgRXRoZXIgdGFrZW4gYXMgdGhlIHNlbGxpbmcgZmVlIGJ5IHRoZSBzY2FsZUZhY3RvciB2YXJpYWJsZS4KCQkJdmFyIGV0aGVyRmVlID0gZmVlICogc2NhbGVGYWN0b3I7CgkJCQoJCQkvLyBGZWUgaXMgZGlzdHJpYnV0ZWQgdG8gYWxsIHJlbWFpbmluZyB0b2tlbiBob2xkZXJzLgoJCQkvLyByZXdhcmRQZXJTaGFyZSBpcyB0aGUgYW1vdW50IGdhaW5lZCBwZXIgdG9rZW4gdGhhbmtzIHRvIHRoaXMgc2VsbC4KCQkJdmFyIHJld2FyZFBlclNoYXJlID0gZXRoZXJGZWUgLyB0b3RhbFN1cHBseTsKCQkJCgkJCS8vIFRoZSBFdGhlciB2YWx1ZSBwZXIgdG9rZW4gaXMgaW5jcmVhc2VkIHByb3BvcnRpb25hbGx5LgoJCQllYXJuaW5nc1BlclRva2VuID0gYWRkKGVhcm5pbmdzUGVyVG9rZW4sIHJld2FyZFBlclNoYXJlKTsKCQl9Cgl9CgkKCS8vIER5bmFtaWMgdmFsdWUgb2YgRXRoZXIgaW4gcmVzZXJ2ZSwgYWNjb3JkaW5nIHRvIHRoZSBDUlIgcmVxdWlyZW1lbnQuCglmdW5jdGlvbiByZXNlcnZlKCkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBhbW91bnQpIHsKCQlyZXR1cm4gc3ViKGJhbGFuY2UoKSwKCQkJICgodWludDI1NikgKChpbnQyNTYpIChlYXJuaW5nc1BlclRva2VuICogdG90YWxTdXBwbHkpIC0gdG90YWxQYXlvdXRzKSAvIHNjYWxlRmFjdG9yKSk7Cgl9CgoJLy8gQ2FsY3VsYXRlcyB0aGUgbnVtYmVyIG9mIHRva2VucyB0aGF0IGNhbiBiZSBib3VnaHQgZm9yIGEgZ2l2ZW4gYW1vdW50IG9mIEV0aGVyLCBhY2NvcmRpbmcgdG8gdGhlCgkvLyBkeW5hbWljIHJlc2VydmUgYW5kIHRvdGFsU3VwcGx5IHZhbHVlcyAoZGVyaXZlZCBmcm9tIHRoZSBidXkgYW5kIHNlbGwgcHJpY2VzKS4KCWZ1bmN0aW9uIGdldFRva2Vuc0ZvckV0aGVyKHVpbnQyNTYgZXRoZXJ2YWx1ZSkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG9rZW5zKSB7CgkJcmV0dXJuIHN1YihmaXhlZEV4cChmaXhlZExvZyhyZXNlcnZlKCkgKyBldGhlcnZhbHVlKSpjcnJfbi9jcnJfZCArIHByaWNlX2NvZWZmKSwgdG90YWxTdXBwbHkpOwoJfQoKCS8vIFNlbWFudGljYWxseSBzaW1pbGFyIHRvIGdldFRva2Vuc0ZvckV0aGVyLCBidXQgc3VidHJhY3RzIHRoZSBjYWxsZXJzIGJhbGFuY2UgZnJvbSB0aGUgYW1vdW50IG9mIEV0aGVyIHJldHVybmVkIGZvciBjb252ZXJzaW9uLgoJZnVuY3Rpb24gY2FsY3VsYXRlRGl2aWRlbmRUb2tlbnModWludDI1NiBldGhlcnZhbHVlLCB1aW50MjU2IHN1YnZhbHVlKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB0b2tlbnMpIHsKCQlyZXR1cm4gc3ViKGZpeGVkRXhwKGZpeGVkTG9nKHJlc2VydmUoKSAtIHN1YnZhbHVlICsgZXRoZXJ2YWx1ZSkqY3JyX24vY3JyX2QgKyBwcmljZV9jb2VmZiksIHRvdGFsU3VwcGx5KTsKCX0KCgkvLyBDb252ZXJ0cyBhIG51bWJlciB0b2tlbnMgaW50byBhbiBFdGhlciB2YWx1ZS4KCWZ1bmN0aW9uIGdldEV0aGVyRm9yVG9rZW5zKHVpbnQyNTYgdG9rZW5zKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBldGhlcnZhbHVlKSB7CgkJLy8gSG93IG11Y2ggcmVzZXJ2ZSBFdGhlciBkbyB3ZSBoYXZlIGxlZnQgaW4gdGhlIGNvbnRyYWN0PwoJCXZhciByZXNlcnZlQW1vdW50ID0gcmVzZXJ2ZSgpOwoKCQkvLyBJZiB5b3UncmUgdGhlIEhpZ2hsYW5kZXIgKG9yIGJhZ2hvbGRlciksIHlvdSBnZXQgVGhlIFByaXplLiBFdmVyeXRoaW5nIGxlZnQgaW4gdGhlIHZhdWx0LgoJCWlmICh0b2tlbnMgPT0gdG90YWxTdXBwbHkpCgkJCXJldHVybiByZXNlcnZlQW1vdW50OwoKCQkvLyBJZiB0aGVyZSB3b3VsZCBiZSBleGNlc3MgRXRoZXIgbGVmdCBhZnRlciB0aGUgdHJhbnNhY3Rpb24gdGhpcyBpcyBjYWxsZWQgd2l0aGluLCByZXR1cm4gdGhlIEV0aGVyCgkJLy8gY29ycmVzcG9uZGluZyB0byB0aGUgZXF1YXRpb24gaW4gRHIgSm9jaGVuIEhvZW5pY2tlJ3Mgb3JpZ2luYWwgUG9uemkgcGFwZXIsIHdoaWNoIGNhbiBiZSBmb3VuZAoJCS8vIGF0IGh0dHBzOi8vdGVzdC5qb2NoZW4taG9lbmlja2UuZGUvZXRoL3BvbnppdG9rZW4vIGluIHRoZSB0aGlyZCBlcXVhdGlvbiwgd2l0aCB0aGUgQ1JSIG51bWVyYXRvciAKCQkvLyBhbmQgZGVub21pbmF0b3IgYWx0ZXJlZCB0byAxIGFuZCAyIHJlc3BlY3RpdmVseS4KCQlyZXR1cm4gc3ViKHJlc2VydmVBbW91bnQsIGZpeGVkRXhwKChmaXhlZExvZyh0b3RhbFN1cHBseSAtIHRva2VucykgLSBwcmljZV9jb2VmZikgKiBjcnJfZC9jcnJfbikpOwoJfQoKCS8vIFlvdSBkb24ndCBjYXJlIGFib3V0IHRoZXNlLCBidXQgaWYgeW91IHJlYWxseSBkbyB0aGV5J3JlIGhleCB2YWx1ZXMgZm9yIAoJLy8gY28tZWZmaWNpZW50cyB1c2VkIHRvIHNpbXVsYXRlIGFwcHJveGltYXRpb25zIG9mIHRoZSBsb2cgYW5kIGV4cCBmdW5jdGlvbnMuCglpbnQyNTYgIGNvbnN0YW50IG9uZSAgICAgICAgPSAweDEwMDAwMDAwMDAwMDAwMDAwOwoJdWludDI1NiBjb25zdGFudCBzcXJ0MiAgICAgID0gMHgxNmEwOWU2NjdmM2JjYzkwODsKCXVpbnQyNTYgY29uc3RhbnQgc3FydGRvdDUgICA9IDB4MGI1MDRmMzMzZjlkZTY0ODQ7CglpbnQyNTYgIGNvbnN0YW50IGxuMiAgICAgICAgPSAweDBiMTcyMTdmN2QxY2Y3OWFjOwoJaW50MjU2ICBjb25zdGFudCBsbjJfNjRkb3Q1ID0gMHgyY2I1M2YwOWYwNWNjNjI3Yzg7CglpbnQyNTYgIGNvbnN0YW50IGMxICAgICAgICAgPSAweDFmZmZmZmZmZmZmOWRhYzliOwoJaW50MjU2ICBjb25zdGFudCBjMyAgICAgICAgID0gMHgwYWFhYWFhYWMxNjg3NzkwODsKCWludDI1NiAgY29uc3RhbnQgYzUgICAgICAgICA9IDB4MDY2NjY2NGU1ZTlmYTBjOTk7CglpbnQyNTYgIGNvbnN0YW50IGM3ICAgICAgICAgPSAweDA0OTI1NDAyNmE3NjMwYWNmOwoJaW50MjU2ICBjb25zdGFudCBjOSAgICAgICAgID0gMHgwMzhiZDc1ZWQzNzc1M2Q2ODsKCWludDI1NiAgY29uc3RhbnQgYzExICAgICAgICA9IDB4MDMyODRhMGMxNDYxMDkyNGY7CgoJLy8gVGhlIHBvbHlub21pYWwgUiA9IGMxKnggKyBjMyp4XjMgKyAuLi4gKyBjMTEgKiB4XjExCgkvLyBhcHByb3hpbWF0ZXMgdGhlIGZ1bmN0aW9uIGxvZygxK3gpLWxvZygxLXgpCgkvLyBIZW5jZSBSKHMpID0gbG9nKCgxK3MpLygxLXMpKSA9IGxvZyhhKQoJZnVuY3Rpb24gZml4ZWRMb2codWludDI1NiBhKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKGludDI1NiBsb2cpIHsKCQlpbnQzMiBzY2FsZSA9IDA7CgkJd2hpbGUgKGEgPiBzcXJ0MikgewoJCQlhIC89IDI7CgkJCXNjYWxlKys7CgkJfQoJCXdoaWxlIChhIDw9IHNxcnRkb3Q1KSB7CgkJCWEgKj0gMjsKCQkJc2NhbGUtLTsKCQl9CgkJaW50MjU2IHMgPSAoKChpbnQyNTYpKGEpIC0gb25lKSAqIG9uZSkgLyAoKGludDI1NikoYSkgKyBvbmUpOwoJCXZhciB6ID0gKHMqcykgLyBvbmU7CgkJcmV0dXJuIHNjYWxlICogbG4yICsKCQkJKHMqKGMxICsgKHoqKGMzICsgKHoqKGM1ICsgKHoqKGM3ICsgKHoqKGM5ICsgKHoqYzExL29uZSkpCgkJCQkvb25lKSkvb25lKSkvb25lKSkvb25lKSkvb25lKTsKCX0KCglpbnQyNTYgY29uc3RhbnQgYzIgPSAgMHgwMmFhYWFhYWFhYTAxNWRiMDsKCWludDI1NiBjb25zdGFudCBjNCA9IC0weDAwMGI2MGI2MDgwODM5OWQxOwoJaW50MjU2IGNvbnN0YW50IGM2ID0gIDB4MDAwMDQ1NTk1NmJjY2RkMDY7CglpbnQyNTYgY29uc3RhbnQgYzggPSAtMHgwMDAwMDFiODkzYWQwNGIzYTsKCQoJLy8gVGhlIHBvbHlub21pYWwgUiA9IDIgKyBjMip4XjIgKyBjNCp4XjQgKyAuLi4KCS8vIGFwcHJveGltYXRlcyB0aGUgZnVuY3Rpb24geCooZXhwKHgpKzEpLyhleHAoeCktMSkKCS8vIEhlbmNlIGV4cCh4KSA9IChSKHgpK3gpLyhSKHgpLXgpCglmdW5jdGlvbiBmaXhlZEV4cChpbnQyNTYgYSkgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2IGV4cCkgewoJCWludDI1NiBzY2FsZSA9IChhICsgKGxuMl82NGRvdDUpKSAvIGxuMiAtIDY0OwoJCWEgLT0gc2NhbGUqbG4yOwoJCWludDI1NiB6ID0gKGEqYSkgLyBvbmU7CgkJaW50MjU2IFIgPSAoKGludDI1NikoMikgKiBvbmUpICsKCQkJKHoqKGMyICsgKHoqKGM0ICsgKHoqKGM2ICsgKHoqYzgvb25lKSkvb25lKSkvb25lKSkvb25lKTsKCQlleHAgPSAodWludDI1NikgKCgoUiArIGEpICogb25lKSAvIChSIC0gYSkpOwoJCWlmIChzY2FsZSA+PSAwKQoJCQlleHAgPDw9IHNjYWxlOwoJCWVsc2UKCQkJZXhwID4+PSAtc2NhbGU7CgkJcmV0dXJuIGV4cDsKCX0KCQoJLy8gVGhlIGJlbG93IGFyZSBzYWZlbWF0aCBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIGZvdXIgYXJpdGhtZXRpYyBvcGVyYXRvcnMKCS8vIGRlc2lnbmVkIHRvIGV4cGxpY2l0bHkgcHJldmVudCBvdmVyLSBhbmQgdW5kZXItZmxvd3Mgb2YgaW50ZWdlciB2YWx1ZXMuCgoJZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKCQlpZiAoYSA9PSAwKSB7CgkJCXJldHVybiAwOwoJCX0KCQl1aW50MjU2IGMgPSBhICogYjsKCQlhc3NlcnQoYyAvIGEgPT0gYik7CgkJcmV0dXJuIGM7Cgl9CgoJZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKCQkvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKCQl1aW50MjU2IGMgPSBhIC8gYjsKCQkvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAoJCXJldHVybiBjOwoJfQoJCgoJZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKCQlhc3NlcnQoYiA8PSBhKTsKCQlyZXR1cm4gYSAtIGI7Cgl9CgoJCglmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewoJCXVpbnQyNTYgYyA9IGEgKyBiOwoJCWFzc2VydChjID49IGEpOwoJCXJldHVybiBjOwoJfQoKCS8vIFRoaXMgYWxsb3dzIHlvdSB0byBidXkgdG9rZW5zIGJ5IHNlbmRpbmcgRXRoZXIgZGlyZWN0bHkgdG8gdGhlIHNtYXJ0IGNvbnRyYWN0CgkvLyB3aXRob3V0IGluY2x1ZGluZyBhbnkgdHJhbnNhY3Rpb24gZGF0YSAodXNlZnVsIGZvciwgc2F5LCBtb2JpbGUgd2FsbGV0IGFwcHMpLgoJZnVuY3Rpb24gKCkgcGF5YWJsZSBwdWJsaWMgewoJCS8vIG1zZy52YWx1ZSBpcyB0aGUgYW1vdW50IG9mIEV0aGVyIHNlbnQgYnkgdGhlIHRyYW5zYWN0aW9uLgoJCWlmIChtc2cudmFsdWUgPiAwKSB7CgkJCWZ1bmQoKTsKCQl9IGVsc2UgewoJCQkvL3dpdGhkcmF3T2xkKG1zZy5zZW5kZXIpOwoJCX0KCX0KfQ=='.
	

]
