Class {
	#name : #SRTb919af95f358c8eca0bafc57ff5296b620128d11,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTb919af95f358c8eca0bafc57ff5296b620128d11 >> base64 [
	^ 'Ly8gS3BvcEFyZW5hIGxldHMgdXNlcnMgcGxheSB3aXRoIHRoZWlyIEtwb3AgY2FyZHMgYWdhaW5zdCBvdGhlcgovLyBwbGF5ZXJzIG9uIEtwb3AuaW8KCnByYWdtYSBzb2xpZGl0eSBeMC40LjE4OwoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CgogIC8qKgogICogQGRldiBNdWx0aXBsaWVzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICAvKioKICAqIEBkZXYgSW50ZWdlciBkaXZpc2lvbiBvZiB0d28gbnVtYmVycywgdHJ1bmNhdGluZyB0aGUgcXVvdGllbnQuCiAgKi8KICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIC8qKgogICogQGRldiBTdWJzdHJhY3RzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cgKGkuZS4gaWYgc3VidHJhaGVuZCBpcyBncmVhdGVyIHRoYW4gbWludWVuZCkuCiAgKi8KICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICAvKioKICAqIEBkZXYgQWRkcyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93LgogICovCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IEVSQzcyMSB7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF90bywgdWludCBfaXRlbUlkKSBwdWJsaWM7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50IGJhbGFuY2UpOwogIGZ1bmN0aW9uIGltcGxlbWVudHNFUkM3MjEoKSBwdWJsaWMgcHVyZSByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBvd25lck9mKHVpbnQgX2l0ZW1JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcyBhZGRyKTsKICBmdW5jdGlvbiB0YWtlT3duZXJzaGlwKHVpbnQgX2l0ZW1JZCkgcHVibGljOwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCB0b3RhbCk7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF9pdGVtSWQpIHB1YmxpYzsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfaXRlbUlkKSBwdWJsaWM7CgogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgaXRlbUlkKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBhcHByb3ZlZCwgdWludCBpdGVtSWQpOwp9Cgpjb250cmFjdCBLcG9wQ2VsZWIgaXMgRVJDNzIxIHsKICBmdW5jdGlvbiBvd25lck9mKHVpbnQgX2NlbGViSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKGFkZHJlc3MgYWRkcik7CiAgZnVuY3Rpb24gZ2V0Q2VsZWIodWludCBfY2VsZWJJZCkgcHVibGljIHZpZXcgcmV0dXJucyAoCiAgICBzdHJpbmcgbmFtZSwKICAgIHVpbnQgcHJpY2UsCiAgICBhZGRyZXNzIG93bmVyLAogICAgdWludFs2XSB0cmFpdFZhbHVlcywKICAgIHVpbnRbNl0gdHJhaXRCb29zdGVycwogICk7CiAgZnVuY3Rpb24gdXBkYXRlVHJhaXRzKHVpbnQgX2NlbGViSWQpIHB1YmxpYzsKfQoKY29udHJhY3QgS3BvcEl0ZW0gaXMgRVJDNzIxIHsKICBmdW5jdGlvbiBvd25lck9mKHVpbnQgX2l0ZW1JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcyBhZGRyKTsKICBmdW5jdGlvbiBnZXRJdGVtKHVpbnQgX2l0ZW1JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoCiAgICBzdHJpbmcgbmFtZSwKICAgIHVpbnQgcHJpY2UsCiAgICBhZGRyZXNzIG93bmVyLAogICAgdWludFs2XSB0cmFpdFZhbHVlcywKICAgIHVpbnQgY2VsZWJJZAogICk7CiAgZnVuY3Rpb24gdHJhbnNmZXJUb1dpbm5lcihhZGRyZXNzIF93aW5uZXIsIGFkZHJlc3MgX2xvc2VyLCB1aW50IF9pdGVtSWQpIHB1YmxpYzsKfQoKY29udHJhY3QgS3BvcEFyZW5hIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgYWRkcmVzcyBwdWJsaWMgYXV0aG9yOwogIGFkZHJlc3MgcHVibGljIGNvYXV0aG9yOwoKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IE5BTUUgPSAiS3BvcEFyZW5hIjsKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IFNZTUJPTCA9ICJLcG9wQXJlbmEiOwoKICBhZGRyZXNzIHB1YmxpYyBLUE9QX0NFTEVCX0NPTlRSQUNUX0FERFJFU1MgPSAweDA7CiAgYWRkcmVzcyBwdWJsaWMgS1BPUF9JVEVNX0NPTlRSQUNUX0FERFJFU1MgPSAweDA7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgdXNlclRvSXNBY2NlcHRpbmdDaGFsbGVuZ2U7CiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIHByaXZhdGUgdXNlclRvQWN0aXZlQ2VsZWJJZDsKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcHJpdmF0ZSB1c2VyVG9BY3RpdmVJdGVtSWQ7CiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyB1c2VyVG9TY29yZTsKCiAgZXZlbnQgRW5yb2xsKGFkZHJlc3MgaW5kZXhlZCB1c2VyLCB1aW50IGNlbGViSWQsIHVpbnQgaXRlbUlkKTsKICBldmVudCBFeHBlbChhZGRyZXNzIGluZGV4ZWQgdXNlcik7CiAgZXZlbnQgUmVzY2luZChhZGRyZXNzIGluZGV4ZWQgdXNlcik7CiAgZXZlbnQgRmlnaHRPdmVyKAogICAgYWRkcmVzcyBpbmRleGVkIGhvc3QsCiAgICBhZGRyZXNzIGluZGV4ZWQgY2hhbGxlbmdlciwKICAgIGFkZHJlc3MgaW5kZXhlZCB3aW5uZXIsCiAgICB1aW50IGNoYWxsZW5nZXJDZWxlYklkLAogICAgdWludCBjaGFsbGVuZ2VySXRlbUlkLAogICAgc3RyaW5nIHNlbGVjdGVkVHJhaXQKICApOwoKICBmdW5jdGlvbiBLcG9wQXJlbmEoKSBwdWJsaWMgewogICAgYXV0aG9yID0gbXNnLnNlbmRlcjsKICAgIGNvYXV0aG9yID0gbXNnLnNlbmRlcjsKICB9CgogIGZ1bmN0aW9uIGVucm9sbCh1aW50IF9jZWxlYklkLCB1aW50IF9pdGVtSWQpIHB1YmxpYyB7CiAgICAvLyBVc2VyIGNhbiBvbmx5IGVucm9sbCBvbmNlIGF0IGEgdGltZQogICAgcmVxdWlyZSghdXNlclRvSXNBY2NlcHRpbmdDaGFsbGVuZ2VbbXNnLnNlbmRlcl0pOwoKICAgIC8vIFVzZSBtdXN0IG93biB0aGUgY2VsZWIgYW5kIGl0ZW1zCiAgICByZXF1aXJlKGRvZXNVc2VyT3duSXRlbShtc2cuc2VuZGVyLCBfaXRlbUlkKSk7CiAgICByZXF1aXJlKGRvZXNVc2VyT3duQ2VsZWIobXNnLnNlbmRlciwgX2NlbGViSWQpKTsKCiAgICB1c2VyVG9Jc0FjY2VwdGluZ0NoYWxsZW5nZVttc2cuc2VuZGVyXSA9IHRydWU7CiAgICB1c2VyVG9BY3RpdmVDZWxlYklkW21zZy5zZW5kZXJdID0gX2NlbGViSWQ7CiAgICB1c2VyVG9BY3RpdmVJdGVtSWRbbXNnLnNlbmRlcl0gPSBfaXRlbUlkOwoKICAgIEVucm9sbChtc2cuc2VuZGVyLCBfY2VsZWJJZCwgX2l0ZW1JZCk7CiAgfQoKICBmdW5jdGlvbiByZXNjaW5kKGFkZHJlc3MgX3VzZXIpIHB1YmxpYyB7CiAgICByZXF1aXJlKF91c2VyID09IG1zZy5zZW5kZXIgfHwgX3VzZXIgPT0gYXV0aG9yIHx8IF91c2VyID09IGNvYXV0aG9yKTsKCiAgICB1c2VyVG9Jc0FjY2VwdGluZ0NoYWxsZW5nZVtfdXNlcl0gPSBmYWxzZTsKICAgIFJlc2NpbmQoX3VzZXIpOwogIH0KCiAgZnVuY3Rpb24gY2hhbGxlbmdlKGFkZHJlc3MgX2hvc3QsIHVpbnQgX2NlbGViSWQsIHVpbnQgX2l0ZW1JZCkgcHVibGljIHsKICAgIGFkZHJlc3MgX2NoYWxsZW5nZXIgPSBtc2cuc2VuZGVyOwoKICAgIHJlcXVpcmUoIWlzTnVsbEFkZHJlc3MoX2hvc3QpICYmICFpc051bGxBZGRyZXNzKF9jaGFsbGVuZ2VyKSk7CiAgICByZXF1aXJlKF9ob3N0ICE9IF9jaGFsbGVuZ2VyKTsKICAgIHJlcXVpcmUodXNlclRvSXNBY2NlcHRpbmdDaGFsbGVuZ2VbX2hvc3RdKTsKICAgIHJlcXVpcmUoZG9lc1VzZXJPd25DZWxlYihfY2hhbGxlbmdlciwgX2NlbGViSWQpKTsKICAgIHJlcXVpcmUoZG9lc1VzZXJPd25JdGVtKF9jaGFsbGVuZ2VyLCBfaXRlbUlkKSk7CgogICAgdWludCBfaG9zdENlbGViSWQgPSB1c2VyVG9BY3RpdmVDZWxlYklkW19ob3N0XTsKICAgIHVpbnQgX2hvc3RJdGVtSWQgPSB1c2VyVG9BY3RpdmVJdGVtSWRbX2hvc3RdOwoKICAgIC8vIEV4cGVsIHVzZXIgd2hvIGRvZXNuJ3Qgb3duIHRoZWlyIGNlbGViIG9yIGl0ZW1zIGFueW1vcmUKICAgIGlmICghKGRvZXNVc2VyT3duQ2VsZWIoX2hvc3QsIF9ob3N0Q2VsZWJJZCkgJiYgZG9lc1VzZXJPd25JdGVtKF9ob3N0LCBfaG9zdEl0ZW1JZCkpKSB7CiAgICAgIHVzZXJUb0lzQWNjZXB0aW5nQ2hhbGxlbmdlW19ob3N0XSA9IGZhbHNlOwogICAgICBFeHBlbChfaG9zdCk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICAvLyBHZXQgd2lubmVyCiAgICB1aW50IHNlbGVjdGVkVHJhaXRJZHggPSBzZWxlY3RSYW5kb21UcmFpdCgpOwogICAgYWRkcmVzcyB3aW5uZXIgPSBjb21wdXRlV2lubmVyKAogICAgICBfaG9zdCwgX2hvc3RDZWxlYklkLCBfaG9zdEl0ZW1JZCwKICAgICAgX2NoYWxsZW5nZXIsIF9jZWxlYklkLCBfaXRlbUlkLAogICAgICBzZWxlY3RlZFRyYWl0SWR4CiAgICApOwoKICAgIC8vIEFzc2lnbiBzY29yZXMKICAgIGlmICh3aW5uZXIgIT0gMHgwKSB7CiAgICAgIHVzZXJUb1Njb3JlW3dpbm5lcl0gPSB1c2VyVG9TY29yZVt3aW5uZXJdLmFkZCgzKTsKCiAgICAgIC8vIExldmVsIHVwIGNlbGViIGFuZCBnaXZlIHdpbm5lciB0aGUgaXRlbSBjYXJkCiAgICAgIEtwb3BDZWxlYiBLUE9QX0NFTEVCID0gS3BvcENlbGViKEtQT1BfQ0VMRUJfQ09OVFJBQ1RfQUREUkVTUyk7CiAgICAgIEtwb3BJdGVtIEtQT1BfSVRFTSA9IEtwb3BJdGVtKEtQT1BfSVRFTV9DT05UUkFDVF9BRERSRVNTKTsKCiAgICAgIGlmICh3aW5uZXIgPT0gX2hvc3QpIHsKICAgICAgICBLUE9QX0NFTEVCLnVwZGF0ZVRyYWl0cyhfaG9zdENlbGViSWQpOwogICAgICAgIEtQT1BfSVRFTS50cmFuc2ZlclRvV2lubmVyKF9ob3N0LCBfY2hhbGxlbmdlciwgX2l0ZW1JZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgS1BPUF9DRUxFQi51cGRhdGVUcmFpdHMoX2NlbGViSWQpOwogICAgICAgIEtQT1BfSVRFTS50cmFuc2ZlclRvV2lubmVyKF9jaGFsbGVuZ2VyLCBfaG9zdCwgX2hvc3RJdGVtSWQpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB1c2VyVG9TY29yZVtfaG9zdF0gPSB1c2VyVG9TY29yZVtfaG9zdF0uYWRkKDEpOwogICAgICB1c2VyVG9TY29yZVtfY2hhbGxlbmdlcl0gPSB1c2VyVG9TY29yZVtfY2hhbGxlbmdlcl0uYWRkKDEpOwogICAgfQoKICAgIC8vIER1ZWwgaXMgb3Zlci4gSG9zdCBtdXN0IG9wdCBpbnRvIHRoZSBhcmVuYSBhZ2FpbiBpZiB0aGV5IHdpc2ggdG8gZ2V0IG1vcmUgY2hhbGxlbmdlcwogICAgdXNlclRvSXNBY2NlcHRpbmdDaGFsbGVuZ2VbX2hvc3RdID0gZmFsc2U7CiAgICBkZWxldGUgdXNlclRvQWN0aXZlQ2VsZWJJZFtfaG9zdF07CiAgICBkZWxldGUgdXNlclRvQWN0aXZlSXRlbUlkW19ob3N0XTsKCiAgICBGaWdodE92ZXIoCiAgICAgIF9ob3N0LAogICAgICBfY2hhbGxlbmdlciwKICAgICAgd2lubmVyLAogICAgICBfY2VsZWJJZCwKICAgICAgX2l0ZW1JZCwKICAgICAgdHJhaXRJZHhUb05hbWUoc2VsZWN0ZWRUcmFpdElkeCkKICAgICk7CiAgfQoKICAvLyBfYSB3aW5zIGlmIHNjb3JlID4gMCBhbmQgX2Igd2lucyBpZiBzY29yZSA8IDAuIE90aGVyd2lzZSwgZHJhdy4KICBmdW5jdGlvbiBjb21wdXRlV2lubmVyKAogICAgYWRkcmVzcyBfaG9zdCwgdWludCBfaG9zdENlbGViSWQsIHVpbnQgX2hvc3RJdGVtSWQsCiAgICBhZGRyZXNzIF9jaGFsbGVuZ2VyLCB1aW50IF9jaGFsbGVuZ2VyQ2VsZWJJZCwgdWludCBfY2hhbGxlbmdlckl0ZW1JZCwKICAgIHVpbnQgX3NlbGVjdGVkVHJhaXRJZHgKICApIHByaXZhdGUgdmlldyByZXR1cm5zKGFkZHJlc3Mgd2lubmVyKQogIHsKICAgIHVpbnQgaG9zdFRyYWl0U2NvcmUgPSBjb21wdXRlVHJhaXRTY29yZShfaG9zdENlbGViSWQsIF9ob3N0SXRlbUlkLCBfc2VsZWN0ZWRUcmFpdElkeCk7CiAgICB1aW50IGNoYWxsZW5nZXJUcmFpdFNjb3JlID0gY29tcHV0ZVRyYWl0U2NvcmUoX2NoYWxsZW5nZXJDZWxlYklkLCBfY2hhbGxlbmdlckl0ZW1JZCwgX3NlbGVjdGVkVHJhaXRJZHgpOwoKICAgIGlmIChob3N0VHJhaXRTY29yZSA+IGNoYWxsZW5nZXJUcmFpdFNjb3JlKSB7CiAgICAgIHJldHVybiBfaG9zdDsKICAgIH0KCiAgICBpZiAoaG9zdFRyYWl0U2NvcmUgPCBjaGFsbGVuZ2VyVHJhaXRTY29yZSkgewogICAgICByZXR1cm4gX2NoYWxsZW5nZXI7CiAgICB9CgogICAgcmV0dXJuIDB4MDsKICB9CgogIGZ1bmN0aW9uIGNvbXB1dGVUcmFpdFNjb3JlKHVpbnQgX2NlbGViSWQsIHVpbnQgX2l0ZW1JZCwgdWludCBfc2VsZWN0ZWRUcmFpdElkeCkgcHJpdmF0ZSB2aWV3IHJldHVybnMgKHVpbnQpIHsKICAgIEtwb3BDZWxlYiBLUE9QX0NFTEVCID0gS3BvcENlbGViKEtQT1BfQ0VMRUJfQ09OVFJBQ1RfQUREUkVTUyk7CiAgICBLcG9wSXRlbSBLUE9QX0lURU0gPSBLcG9wSXRlbShLUE9QX0lURU1fQ09OVFJBQ1RfQUREUkVTUyk7CgogICAgdmFyICggLCAsICxjZWxlYlRyYWl0cywgKSA9IEtQT1BfQ0VMRUIuZ2V0Q2VsZWIoX2NlbGViSWQpOwogICAgdmFyICggLCAsICxpdGVtVHJhaXRzLCApID0gS1BPUF9JVEVNLmdldEl0ZW0oX2l0ZW1JZCk7CgogICAgcmV0dXJuIGNlbGViVHJhaXRzW19zZWxlY3RlZFRyYWl0SWR4XSArIGl0ZW1UcmFpdHNbX3NlbGVjdGVkVHJhaXRJZHhdOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0UmFuZG9tVHJhaXQoKSBwcml2YXRlIHZpZXcgcmV0dXJucyAodWludCkgewogICAgcmV0dXJuIHVpbnQoYmxvY2suYmxvY2toYXNoKGJsb2NrLm51bWJlciAtIDEpKSAlIDY7CiAgfQoKICBmdW5jdGlvbiB3aXRoZHJhdyh1aW50IF9hbW91bnQsIGFkZHJlc3MgX3RvKSBwdWJsaWMgb25seUF1dGhvcnMgewogICAgcmVxdWlyZSghaXNOdWxsQWRkcmVzcyhfdG8pKTsKICAgIHJlcXVpcmUoX2Ftb3VudCA8PSB0aGlzLmJhbGFuY2UpOwoKICAgIF90by50cmFuc2ZlcihfYW1vdW50KTsKICB9CgogIGZ1bmN0aW9uIHdpdGhkcmF3QWxsKCkgcHVibGljIG9ubHlBdXRob3JzIHsKICAgIHJlcXVpcmUoYXV0aG9yICE9IDB4MCk7CiAgICByZXF1aXJlKGNvYXV0aG9yICE9IDB4MCk7CgogICAgdWludCBoYWxmQmFsYW5jZSA9IHVpbnQoU2FmZU1hdGguZGl2KHRoaXMuYmFsYW5jZSwgMikpOwoKICAgIGF1dGhvci50cmFuc2ZlcihoYWxmQmFsYW5jZSk7CiAgICBjb2F1dGhvci50cmFuc2ZlcihoYWxmQmFsYW5jZSk7CiAgfQoKICBmdW5jdGlvbiBkb2VzVXNlck93bkNlbGViKGFkZHJlc3MgX3VzZXIsIHVpbnQgX2NlbGViSWQpIHByaXZhdGUgdmlldyByZXR1cm5zIChib29sKSB7CiAgICBLcG9wQ2VsZWIgS1BPUF9DRUxFQiA9IEtwb3BDZWxlYihLUE9QX0NFTEVCX0NPTlRSQUNUX0FERFJFU1MpOwoKICAgIHJldHVybiBLUE9QX0NFTEVCLm93bmVyT2YoX2NlbGViSWQpID09IF91c2VyOwogIH0KCiAgZnVuY3Rpb24gZG9lc1VzZXJPd25JdGVtKGFkZHJlc3MgX3VzZXIsIHVpbnQgX2l0ZW1JZCkgcHJpdmF0ZSB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgIEtwb3BJdGVtIEtQT1BfSVRFTSA9IEtwb3BJdGVtKEtQT1BfSVRFTV9DT05UUkFDVF9BRERSRVNTKTsKCiAgICByZXR1cm4gS1BPUF9JVEVNLm93bmVyT2YoX2l0ZW1JZCkgPT0gX3VzZXI7CiAgfQoKICBmdW5jdGlvbiBzZXRDb0F1dGhvcihhZGRyZXNzIF9jb2F1dGhvcikgcHVibGljIG9ubHlBdXRob3IgewogICAgcmVxdWlyZSghaXNOdWxsQWRkcmVzcyhfY29hdXRob3IpKTsKCiAgICBjb2F1dGhvciA9IF9jb2F1dGhvcjsKICB9CgogIGZ1bmN0aW9uIHNldEtwb3BJdGVtQ29udHJhY3RBZGRyZXNzKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyBvbmx5QXV0aG9ycyB7CiAgICBLUE9QX0lURU1fQ09OVFJBQ1RfQUREUkVTUyA9IF9hZGRyZXNzOwogIH0KCiAgZnVuY3Rpb24gc2V0S3BvcENlbGViQ29udHJhY3RBZGRyZXNzKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyBvbmx5QXV0aG9ycyB7CiAgICBLUE9QX0NFTEVCX0NPTlRSQUNUX0FERFJFU1MgPSBfYWRkcmVzczsKICB9CgogIGZ1bmN0aW9uIHRyYWl0SWR4VG9OYW1lKHVpbnQgX2lkeCkgcHVibGljIHB1cmUgcmV0dXJucyAoc3RyaW5nKSB7CiAgICBpZiAoX2lkeCA9PSAwKSB7CiAgICAgIHJldHVybiAicmFwIjsKICAgIH0KICAgIGlmIChfaWR4ID09IDEpIHsKICAgICAgcmV0dXJuICJ2b2NhbCI7CiAgICB9CiAgICBpZiAoX2lkeCA9PSAyKSB7CiAgICAgIHJldHVybiAiZGFuY2UiOwogICAgfQogICAgaWYgKF9pZHggPT0gMykgewogICAgICByZXR1cm4gImNoYXJtIjsKICAgIH0KICAgIGlmIChfaWR4ID09IDQpIHsKICAgICAgcmV0dXJuICJhY3RpbmciOwogICAgfQogICAgaWYgKF9pZHggPT0gNSkgewogICAgICByZXR1cm4gInByb2R1Y2luZyI7CiAgICB9CiAgfQoKICAvKiogTU9ESUZJRVJTICoqLwoKICBtb2RpZmllciBvbmx5QXV0aG9yKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGF1dGhvcik7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgb25seUF1dGhvcnMoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gYXV0aG9yIHx8IG1zZy5zZW5kZXIgPT0gY29hdXRob3IpOwogICAgXzsKICB9CgogIGZ1bmN0aW9uIGlzTnVsbEFkZHJlc3MoYWRkcmVzcyBfYWRkcikgcHJpdmF0ZSBwdXJlIHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBfYWRkciA9PSAweDA7CiAgfQp9'.
	

]
