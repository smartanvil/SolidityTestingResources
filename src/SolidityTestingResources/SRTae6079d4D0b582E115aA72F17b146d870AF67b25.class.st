Class {
	#name : #SRTae6079d4D0b582E115aA72F17b146d870AF67b25,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTae6079d4D0b582E115aA72F17b146d870AF67b25 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CmNvbnRyYWN0IG93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiAgYm9vbCkgcHVibGljIGFkbWluczsKCiAgICBmdW5jdGlvbiBvd25lZCgpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIGFkbWluc1ttc2cuc2VuZGVyXT10cnVlOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlBZG1pbiAgIHsKICAgICAgICByZXF1aXJlKGFkbWluc1ttc2cuc2VuZGVyXSA9PSB0cnVlKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWN7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICAgIGZ1bmN0aW9uIG1ha2VBZG1pbihhZGRyZXNzIG5ld0FkbWluLCBib29sIGlzQWRtaW4pIG9ubHlPd25lciBwdWJsaWN7CiAgICAgICAgYWRtaW5zW25ld0FkbWluXSA9IGlzQWRtaW47CiAgICB9Cn0KCmludGVyZmFjZSB0b2tlblJlY2lwaWVudCB7CiAgICBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWM7Cn0KCmNvbnRyYWN0IFNpdmFsaWNvaW4gaXMgb3duZWQgewogICAgLy8gUHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4KICAgIHN0cmluZyBwdWJsaWMgbmFtZTsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgdWludDggcHVibGljIGRlY2ltYWxzOwogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICB1aW50MjU2IG1pbkJhbGFuY2VGb3JBY2NvdW50czsKICAgIGJvb2wgcHVibGljIHVzZXJzQ2FuVHJhZGU7CiAgICBib29sIHB1YmxpYyB1c2Vyc0NhblVuZnJlZXplOwoKICAgIGJvb2wgcHVibGljIGljbyA9IGZhbHNlOyAvL3R1cm4gaWNvIG9uIGFuZCBvZgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgYWRtaW47CgoKICAgIG1vZGlmaWVyIG5vdElDTyB7CiAgICAgICAgcmVxdWlyZShhZG1pblttc2cuc2VuZGVyXSB8fCAhaWNvKTsKICAgICAgICBfOwogICAgfQoKCiAgICAvLyBUaGlzIGNyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgYmFsYW5jZXMKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VPZjsKCgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dhbmNlOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiAgYm9vbCkgcHVibGljIGZyb3plbjsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+ICBib29sKSBwdWJsaWMgY2FuVHJhZGU7IC8vdXNlciBhbGxvd2VkIHRvIGJ1eSBvciBzZWxsCgogICAgLy8gVGhpcyBnZW5lcmF0ZXMgYSBwdWJsaWMgZXZlbnQgb24gdGhlIGJsb2NrY2hhaW4gdGhhdCB3aWxsIG5vdGlmeSBjbGllbnRzCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKCgogICAgLy8gVGhpcyBub3RpZmllcyBjbGllbnRzIGFib3V0IHRoZSBhbW91bnQgYnVybnQKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGZyb20sIHVpbnQyNTYgdmFsdWUpOwoKICAgIC8vIFRoaXMgZ2VuZXJhdGVzIGEgcHVibGljIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgY2xpZW50cwogICAgZXZlbnQgRnJvemVuKGFkZHJlc3MgaW5kZXhlZCBhZGRyLCBib29sIGZyb3plbik7CgogICAgLy8gVGhpcyBnZW5lcmF0ZXMgYSBwdWJsaWMgZXZlbnQgb24gdGhlIGJsb2NrY2hhaW4gdGhhdCB3aWxsIG5vdGlmeSBjbGllbnRzCiAgICBldmVudCBVbmxvY2soYWRkcmVzcyBpbmRleGVkIGFkZHIsIGFkZHJlc3MgZnJvbSwgdWludDI1NiB2YWwpOwoKICAgIC8vIFRoaXMgZ2VuZXJhdGVzIGEgcHVibGljIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgY2xpZW50cwoKCiAgICAvLyBUaGlzIGdlbmVyYXRlcyBhIHB1YmxpYyBldmVudCBvbiB0aGUgYmxvY2tjaGFpbiB0aGF0IHdpbGwgbm90aWZ5IGNsaWVudHMKICAgIC8vIGV2ZW50IFVuZnJlZXplKGFkZHJlc3MgaW5kZXhlZCBhZGRyKTsKCiAgICAvKioKICAgICAqIENvbnN0cmN0b3IgZnVuY3Rpb24KICAgICAqCiAgICAgKiBJbml0aWFsaXplcyBjb250cmFjdCB3aXRoIGluaXRpYWwgc3VwcGx5IHRva2VucyB0byB0aGUgY3JlYXRvciBvZiB0aGUgY29udHJhY3QKICAgICAqLwogICAgZnVuY3Rpb24gU2l2YWxpY29pbigpIHB1YmxpYyB7CiAgICAgICAgdWludDI1NiBpbml0aWFsU3VwcGx5ID0gMjY2ODAwMDAwMDAwMDAwMDAwMDAwMDAwMDA7CiAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdID0gaW5pdGlhbFN1cHBseSA7ICAgICAgICAgICAgICAvLyBHaXZlIHRoZSBjcmVhdG9yIGFsbCBpbml0aWFsIHRva2VucwogICAgICAgIHRvdGFsU3VwcGx5ID0gaW5pdGlhbFN1cHBseTsgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdG90YWwgc3VwcGx5CiAgICAgICAgbmFtZSA9ICJTaXZhbGljb2luIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgbmFtZSBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICAgIHN5bWJvbCA9ICJTVkMiOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIHN5bWJvbCBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICAgIGRlY2ltYWxzID0gMTg7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFtb3VudCBvZiBkZWNpbWFscyBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICAgIG1pbkJhbGFuY2VGb3JBY2NvdW50cyA9IDEwMDAwMDAwMDAwMDAwMDA7CiAgICAgICAgdXNlcnNDYW5UcmFkZT1mYWxzZTsKICAgICAgICB1c2Vyc0NhblVuZnJlZXplPWZhbHNlOwogICAgICAgIGFkbWluW21zZy5zZW5kZXJdPXRydWU7CiAgICAgICAgY2FuVHJhZGVbbXNnLnNlbmRlcl09dHJ1ZTsKCiAgICB9CgogICAgLyoqCiAgICAgKiBJbmNyZWFjZSBUb3RhbCBTdXBwbHkKICAgICAqCiAgICAgKiBJbmNyZWFzZXMgdGhlIHRvdGFsIGNvaW4gc3VwcGx5CiAgICAgKi8KICAgIGZ1bmN0aW9uIGluY3JlYXNlVG90YWxTdXBwbHkgKGFkZHJlc3MgdGFyZ2V0LCAgdWludDI1NiBpbmNyZWFzZUJ5ICkgIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGJhbGFuY2VPZlt0YXJnZXRdICs9IGluY3JlYXNlQnk7CiAgICAgICAgdG90YWxTdXBwbHkgKz0gaW5jcmVhc2VCeTsKICAgICAgICBUcmFuc2ZlcigwLCBvd25lciwgaW5jcmVhc2VCeSk7CiAgICAgICAgVHJhbnNmZXIob3duZXIsIHRhcmdldCwgaW5jcmVhc2VCeSk7CiAgICB9CgogICAgZnVuY3Rpb24gIHVzZXJzQ2FuVW5GcmVlemUoYm9vbCBjYW4pIHB1YmxpY3sKICAgICAgICB1c2Vyc0NhblVuZnJlZXplPWNhbjsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRNaW5CYWxhbmNlKHVpbnQgbWluaW11bUJhbGFuY2VJbldlaSkgb25seU93bmVyIHB1YmxpY3sKICAgICAgICBtaW5CYWxhbmNlRm9yQWNjb3VudHMgPSBtaW5pbXVtQmFsYW5jZUluV2VpOwogICAgfQoKICAgIC8qKgogICAgICogdHJhbnNmZXJBbmRGcmVlemUKICAgICAqCiAgICAgKiBGdW5jdGlvbiB0byB0cmFuc2ZlciB0byBhbmQgZnJlZXplIGFuZCBhY2NvdW50IGF0IHRoZSBzYW1lIHRpbWUKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJBbmRGcmVlemUgKGFkZHJlc3MgdGFyZ2V0LCAgdWludDI1NiBhbW91bnQgKSAgb25seUFkbWluIHB1YmxpY3sKICAgICAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgdGFyZ2V0LCBhbW91bnQpOwogICAgICAgIGZyZWV6ZSh0YXJnZXQsIHRydWUpOwogICAgfQoKICAgIC8qKgogICAgICogX2ZyZWV6ZSBpbnRlcm5hbAogICAgICoKICAgICAqIGZ1bmN0aW9uIHRvIGZyZWV6ZSBhbiBhY2NvdW50CiAgICAgKi8KICAgIGZ1bmN0aW9uIF9mcmVlemUgKGFkZHJlc3MgdGFyZ2V0LCBib29sIGZyb3plICkgIGludGVybmFsICB7CgogICAgICAgIGZyb3plblt0YXJnZXRdPWZyb3plOwogICAgICAgIEZyb3plbih0YXJnZXQsIGZyb3plKTsKICAgIH0KCgoKICAgIC8qKgogICAgICogZnJlZXplCiAgICAgKgogICAgICogZnVuY3Rpb24gdG8gZnJlZXplIGFuIGFjY291bnQKICAgICAqLwogICAgZnVuY3Rpb24gZnJlZXplIChhZGRyZXNzIHRhcmdldCwgYm9vbCBmcm96ZSApIHB1YmxpYyAgewogICAgICAgIGlmKGZyb3plIHx8ICghZnJvemUgJiYgIXVzZXJzQ2FuVW5mcmVlemUpKSB7CiAgICAgICAgICAgIHJlcXVpcmUoYWRtaW5bbXNnLnNlbmRlcl0pOwogICAgICAgIH0KCiAgICAgICAgX2ZyZWV6ZSh0YXJnZXQsIGZyb3plKTsKICAgIH0KCgoKICAgIC8qKgogICAgICogSW50ZXJuYWwgdHJhbnNmZXIsIG9ubHkgY2FuIGJlIGNhbGxlZCBieSB0aGlzIGNvbnRyYWN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGludGVybmFsIHsKICAgICAgICByZXF1aXJlKF90byAhPSAweDApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCB0cmFuc2ZlciB0byAweDAgYWRkcmVzcy4gVXNlIGJ1cm4oKSBpbnN0ZWFkCgogICAgICAgIHJlcXVpcmUoIWZyb3plbltfZnJvbV0pOyAgICAgICAgICAgICAgICAgICAgICAgLy9wcmV2ZW50IHRyYW5zZmVyIGZyb20gZnJvemVuIGFkZHJlc3MKICAgICAgICByZXF1aXJlKGJhbGFuY2VPZltfZnJvbV0gPj0gX3ZhbHVlKTsgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VPZltfdG9dKTsgLy8gQ2hlY2sgZm9yIG92ZXJmbG93cwogICAgICAgIGJhbGFuY2VPZltfZnJvbV0gLT0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIKICAgICAgICBiYWxhbmNlT2ZbX3RvXSArPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBzYW1lIHRvIHRoZSByZWNpcGllbnQKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNmZXIgdG9rZW5zCiAgICAgKgogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbnMgdG8gYF90b2AgZnJvbSB5b3VyIGFjY291bnQKICAgICAqCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIGFtb3VudCB0byBzZW5kCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgbm90SUNPIHB1YmxpY3sKICAgICAgICByZXF1aXJlKCFmcm96ZW5bbXNnLnNlbmRlcl0pOyAgICAgICAgICAgICAgICAgICAgICAgLy9wcmV2ZW50IHRyYW5zZmVyIGZyb20gZnJvemVuIGFkZHJlc3MKICAgICAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgfQoKCgogICAgLyoqCiAgICAgKiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvdGhlciBhZGRyZXNzCiAgICAgKgogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbnMgdG8gYF90b2AgaW4gYmVoYWxmIG9mIGBfZnJvbWAKICAgICAqCiAgICAgKiBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBhbW91bnQgdG8gc2VuZAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZSghZnJvemVuW19mcm9tXSk7ICAgICAgICAgICAgICAgICAgICAgICAvL3ByZXZlbnQgdHJhbnNmZXIgZnJvbSBmcm96ZW4gYWRkcmVzcwogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0pOyAgICAgLy8gQ2hlY2sgYWxsb3dhbmNlCiAgICAgICAgYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgX3RyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgYWxsb3dhbmNlIGZvciBvdGhlciBhZGRyZXNzCiAgICAgKgogICAgICogQWxsb3dzIGBfc3BlbmRlcmAgdG8gc3BlbmQgbm8gbW9yZSB0aGFuIGBfdmFsdWVgIHRva2VucyBpbiB5b3VyIGJlaGFsZgogICAgICoKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBhdXRob3JpemVkIHRvIHNwZW5kCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBtYXggYW1vdW50IHRoZXkgY2FuIHNwZW5kCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2FuY2VbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IGFsbG93YW5jZSBmb3Igb3RoZXIgYWRkcmVzcyBhbmQgbm90aWZ5CiAgICAgKgogICAgICogQWxsb3dzIGBfc3BlbmRlcmAgdG8gc3BlbmQgbm8gbW9yZSB0aGFuIGBfdmFsdWVgIHRva2VucyBpbiB5b3VyIGJlaGFsZiwgYW5kIHRoZW4gcGluZyB0aGUgY29udHJhY3QgYWJvdXQgaXQKICAgICAqCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3MgYXV0aG9yaXplZCB0byBzcGVuZAogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgbWF4IGFtb3VudCB0aGV5IGNhbiBzcGVuZAogICAgICogQHBhcmFtIF9leHRyYURhdGEgc29tZSBleHRyYSBpbmZvcm1hdGlvbiB0byBzZW5kIHRvIHRoZSBhcHByb3ZlZCBjb250cmFjdAogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICB0b2tlblJlY2lwaWVudCBzcGVuZGVyID0gdG9rZW5SZWNpcGllbnQoX3NwZW5kZXIpOwogICAgICAgIGlmIChhcHByb3ZlKF9zcGVuZGVyLCBfdmFsdWUpKSB7CiAgICAgICAgICAgIHNwZW5kZXIucmVjZWl2ZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIERlc3Ryb3kgdG9rZW5zCiAgICAgKgogICAgICogUmVtb3ZlIGBfdmFsdWVgIHRva2VucyBmcm9tIHRoZSBzeXN0ZW0gaXJyZXZlcnNpYmx5CiAgICAgKgogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IG9mIG1vbmV5IHRvIGJ1cm4KICAgICAqLwogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA+PSBfdmFsdWUpOyAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaAogICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSAtPSBfdmFsdWU7ICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgdG90YWxTdXBwbHkgLT0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGVzIHRvdGFsU3VwcGx5CiAgICAgICAgQnVybihtc2cuc2VuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogRGVzdHJveSB0b2tlbnMgZnJvbSBvdGhlciBjY291bnQKICAgICAqCiAgICAgKiBSZW1vdmUgYF92YWx1ZWAgdG9rZW5zIGZyb20gdGhlIHN5c3RlbSBpcnJldmVyc2libHkgb24gYmVoYWxmIG9mIGBfZnJvbWAuCiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tIHRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIGFtb3VudCBvZiBtb25leSB0byBidXJuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJ1cm5Gcm9tKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbX2Zyb21dID49IF92YWx1ZSk7ICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSB0YXJnZXRlZCBiYWxhbmNlIGlzIGVub3VnaAogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0pOyAgICAvLyBDaGVjayBhbGxvd2FuY2UKICAgICAgICBiYWxhbmNlT2ZbX2Zyb21dIC09IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgdGFyZ2V0ZWQgYmFsYW5jZQogICAgICAgIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOyAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIncyBhbGxvd2FuY2UKICAgICAgICB0b3RhbFN1cHBseSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRvdGFsU3VwcGx5CiAgICAgICAgQnVybihfZnJvbSwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKgogICAgIGZ1bmN0aW9uIGluY3JlYXNlU3VwcGx5KGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKSBvbmx5T3duZXIgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgIHsKICAgICBiYWxhbmNlT2ZbX2Zyb21dICs9IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgdGFyZ2V0ZWQgYmFsYW5jZQogICAgIHRvdGFsU3VwcGx5ICs9IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdG90YWxTdXBwbHkKICAgICAvLyBCdXJuKF9mcm9tLCBfdmFsdWUpOwogICAgIHJldHVybiB0cnVlOwogICAgIH0KICAgICAqLwoKCgoKICAgIHVpbnQyNTYgcHVibGljIHNlbGxQcmljZSA9IDE7CiAgICB1aW50MjU2IHB1YmxpYyBidXlQcmljZSA9IDEwMDAwMDAwMDAwMDAwMDA7CgogICAgZnVuY3Rpb24gc2V0UHJpY2VzKHVpbnQyNTYgbmV3U2VsbFByaWNlLCB1aW50MjU2IG5ld0J1eVByaWNlKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBzZWxsUHJpY2UgPSBuZXdTZWxsUHJpY2U7CiAgICAgICAgYnV5UHJpY2UgPSBuZXdCdXlQcmljZTsKICAgIH0KICAgIGZ1bmN0aW9uIHNldFVzZXJzQ2FuVHJhZGUoYm9vbCB0cmFkZSkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgdXNlcnNDYW5UcmFkZT10cmFkZTsKICAgIH0KICAgIGZ1bmN0aW9uIHNldENhblRyYWRlKGFkZHJlc3MgYWRkciwgYm9vbCB0cmFkZSkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgY2FuVHJhZGVbYWRkcl09dHJhZGU7CiAgICB9CgogICAgLy91c2VyIGlzIGJ1eWluZyBTVkMKICAgIGZ1bmN0aW9uIGJ1eSgpIHBheWFibGUgcHVibGljIHJldHVybnMgKHVpbnQyNTYgYW1vdW50KXsKICAgICAgICBpZighdXNlcnNDYW5UcmFkZSAmJiAhY2FuVHJhZGVbbXNnLnNlbmRlcl0pIHJldmVydCgpOwogICAgICAgIGFtb3VudCA9IG1zZy52YWx1ZSAqIGJ1eVByaWNlOyAgICAgICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlcyB0aGUgYW1vdW50CgogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW3RoaXNdID49IGFtb3VudCk7ICAgICAgICAgICAgICAgLy8gY2hlY2tzIGlmIGl0IGhhcyBlbm91Z2ggdG8gc2VsbAogICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSArPSBhbW91bnQ7ICAgICAgICAgICAgICAgICAgLy8gYWRkcyB0aGUgYW1vdW50IHRvIGJ1eWVyJ3MgYmFsYW5jZQogICAgICAgIGJhbGFuY2VPZlt0aGlzXSAtPSBhbW91bnQ7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3VidHJhY3RzIGFtb3VudCBmcm9tIHNlbGxlcidzIGJhbGFuY2UKICAgICAgICBUcmFuc2Zlcih0aGlzLCBtc2cuc2VuZGVyLCBhbW91bnQpOyAgICAgICAgICAgICAgIC8vIGV4ZWN1dGUgYW4gZXZlbnQgcmVmbGVjdGluZyB0aGUgY2hhbmdlCiAgICAgICAgcmV0dXJuIGFtb3VudDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbmRzIGZ1bmN0aW9uIGFuZCByZXR1cm5zCiAgICB9CgogICAgLy91c2VyIGlzIHNlbGxpbmcgdXMgU1ZDLCB3ZSBhcmUgc2VsbGluZyBldGggdG8gdGhlIHVzZXIKICAgIGZ1bmN0aW9uIHNlbGwodWludDI1NiBhbW91bnQpIHB1YmxpYyByZXR1cm5zICh1aW50IHJldmVudWUpewogICAgICAgIHJlcXVpcmUoIWZyb3plblttc2cuc2VuZGVyXSk7CiAgICAgICAgaWYoIXVzZXJzQ2FuVHJhZGUgJiYgIWNhblRyYWRlW21zZy5zZW5kZXJdKSB7CiAgICAgICAgICAgIHJlcXVpcmUobWluQmFsYW5jZUZvckFjY291bnRzID4gYW1vdW50L3NlbGxQcmljZSk7CiAgICAgICAgfQogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW21zZy5zZW5kZXJdID49IGFtb3VudCk7ICAgICAgICAgLy8gY2hlY2tzIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaCB0byBzZWxsCiAgICAgICAgYmFsYW5jZU9mW3RoaXNdICs9IGFtb3VudDsgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGRzIHRoZSBhbW91bnQgdG8gb3duZXIncyBiYWxhbmNlCiAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdIC09IGFtb3VudDsgICAgICAgICAgICAgICAgICAvLyBzdWJ0cmFjdHMgdGhlIGFtb3VudCBmcm9tIHNlbGxlcidzIGJhbGFuY2UKICAgICAgICByZXZlbnVlID0gYW1vdW50IC8gc2VsbFByaWNlOwogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlci5zZW5kKHJldmVudWUpKTsgICAgICAgICAgICAgICAgLy8gc2VuZHMgZXRoZXIgdG8gdGhlIHNlbGxlcjogaXQncyBpbXBvcnRhbnQgdG8gZG8gdGhpcyBsYXN0IHRvIHByZXZlbnQgcmVjdXJzaW9uIGF0dGFja3MKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCB0aGlzLCBhbW91bnQpOyAgICAgICAgICAgICAgIC8vIGV4ZWN1dGVzIGFuIGV2ZW50IHJlZmxlY3Rpbmcgb24gdGhlIGNoYW5nZQogICAgICAgIHJldHVybiByZXZlbnVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5kcyBmdW5jdGlvbiBhbmQgcmV0dXJucwogICAgfQoKICAgIGZ1bmN0aW9uKCkgcGF5YWJsZSBwdWJsaWMgewogICAgfQogICAgZXZlbnQgV2l0aGRyYXduKGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CiAgICBmdW5jdGlvbiB3aXRoZHJhdyhhZGRyZXNzIHRhcmdldCwgdWludDI1NiBhbW91bnQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHRhcmdldC50cmFuc2ZlcihhbW91bnQpOwogICAgICAgIFdpdGhkcmF3bih0YXJnZXQsIGFtb3VudCk7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0QWRtaW4oYWRkcmVzcyBhZGRyLCBib29sIGVuYWJsZWQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIGFkbWluW2FkZHJdPWVuYWJsZWQ7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0SUNPKGJvb2wgZW5hYmxlZCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgaWNvPWVuYWJsZWQ7CiAgICB9Cn0='.
	

]
