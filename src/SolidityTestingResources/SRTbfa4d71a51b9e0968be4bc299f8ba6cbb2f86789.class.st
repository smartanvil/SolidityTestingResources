Class {
	#name : #SRTbfa4d71a51b9e0968be4bc299f8ba6cbb2f86789,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTbfa4d71a51b9e0968be4bc299f8ba6cbb2f86789 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7Ci8vIExhc3QgY29tcGlsZWQgd2l0aCAwLjQuMTMrY29tbWl0LjBmYjRjYjFhCgpjb250cmFjdCBTYWZlTWF0aCB7CiAgLy9pbnRlcm5hbHMKCiAgZnVuY3Rpb24gc2FmZU11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIHNhZmVBZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGM+PWEgJiYgYz49Yik7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IFRva2VuIHsKCiAgICAvLy8gQHJldHVybiB0b3RhbCBhbW91bnQgb2YgdG9rZW5zCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgc3VwcGx5KSB7fQoKICAgIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIGZyb20gd2hpY2ggdGhlIGJhbGFuY2Ugd2lsbCBiZSByZXRyaWV2ZWQKICAgIC8vLyBAcmV0dXJuIFRoZSBiYWxhbmNlCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkge30KCiAgICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYG1zZy5zZW5kZXJgCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykge30KCiAgICAvLy8gQG5vdGljZSBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9hZGRyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHdlaSB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXIKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQoKICAgIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IG93bmluZyB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAvLy8gQHJldHVybiBBbW91bnQgb2YgcmVtYWluaW5nIHRva2VucyBhbGxvd2VkIHRvIHNwZW50CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7fQoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cgp9Cgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIFRva2VuIHsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vRGVmYXVsdCBhc3N1bWVzIHRvdGFsU3VwcGx5IGNhbid0IGJlIG92ZXIgbWF4ICgyXjI1NiAtIDEpLgogICAgICAgIC8vSWYgeW91ciB0b2tlbiBsZWF2ZXMgb3V0IHRvdGFsU3VwcGx5IGFuZCBjYW4gaXNzdWUgbW9yZSB0b2tlbnMgYXMgdGltZSBnb2VzIG9uLCB5b3UgbmVlZCB0byBjaGVjayBpZiBpdCBkb2Vzbid0IHdyYXAuCiAgICAgICAgLy9SZXBsYWNlIHRoZSBpZiB3aXRoIHRoaXMgb25lIGluc3RlYWQuCiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgIC8vaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy9zYW1lIGFzIGFib3ZlLiBSZXBsYWNlIHRoaXMgbGluZSB3aXRoIHRoZSBmb2xsb3dpbmcgaWYgeW91IHdhbnQgdG8gcHJvdGVjdCBhZ2FpbnN0IHdyYXBwaW5nIHVpbnRzLgogICAgICAgIGlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgIC8vaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7Cgp9Cgpjb250cmFjdCBSZXNlcnZlVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgU2FmZU1hdGggewogICAgc3RyaW5nIHB1YmxpYyBuYW1lOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CiAgICB1aW50IHB1YmxpYyBkZWNpbWFscyA9IDE4OwogICAgYWRkcmVzcyBwdWJsaWMgbWludGVyOwogICAgZnVuY3Rpb24gUmVzZXJ2ZVRva2VuKHN0cmluZyBuYW1lXywgc3RyaW5nIHN5bWJvbF8pIHsKICAgICAgbmFtZSA9IG5hbWVfOwogICAgICBzeW1ib2wgPSBzeW1ib2xfOwogICAgICBtaW50ZXIgPSBtc2cuc2VuZGVyOwogICAgfQogICAgZnVuY3Rpb24gY3JlYXRlKGFkZHJlc3MgYWNjb3VudCwgdWludCBhbW91bnQpIHsKICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG1pbnRlcik7CiAgICAgIGJhbGFuY2VzW2FjY291bnRdID0gc2FmZUFkZChiYWxhbmNlc1thY2NvdW50XSwgYW1vdW50KTsKICAgICAgdG90YWxTdXBwbHkgPSBzYWZlQWRkKHRvdGFsU3VwcGx5LCBhbW91bnQpOwogICAgfQogICAgZnVuY3Rpb24gZGVzdHJveShhZGRyZXNzIGFjY291bnQsIHVpbnQgYW1vdW50KSB7CiAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBtaW50ZXIpOwogICAgICByZXF1aXJlKGJhbGFuY2VzW2FjY291bnRdID49IGFtb3VudCk7CiAgICAgIGJhbGFuY2VzW2FjY291bnRdID0gc2FmZVN1YihiYWxhbmNlc1thY2NvdW50XSwgYW1vdW50KTsKICAgICAgdG90YWxTdXBwbHkgPSBzYWZlU3ViKHRvdGFsU3VwcGx5LCBhbW91bnQpOwogICAgfQp9Cgpjb250cmFjdCBZZXNObyBpcyBTYWZlTWF0aCB7CgogIFJlc2VydmVUb2tlbiBwdWJsaWMgeWVzVG9rZW47CiAgUmVzZXJ2ZVRva2VuIHB1YmxpYyBub1Rva2VuOwoKICBzdHJpbmcgcHVibGljIG5hbWU7CiAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CgogIC8vUmVhbGl0eSBLZXlzOgogIGJ5dGVzMzIgcHVibGljIGZhY3RIYXNoOwogIGFkZHJlc3MgcHVibGljIGV0aEFkZHI7CiAgc3RyaW5nIHB1YmxpYyB1cmw7CgogIHVpbnQgcHVibGljIG91dGNvbWU7CiAgYm9vbCBwdWJsaWMgcmVzb2x2ZWQgPSBmYWxzZTsKCiAgYWRkcmVzcyBwdWJsaWMgZmVlQWNjb3VudDsKICB1aW50IHB1YmxpYyBmZWU7IC8vcGVyY2VudGFnZSBvZiAxIGV0aGVyCgogIGV2ZW50IENyZWF0ZShhZGRyZXNzIGluZGV4ZWQgYWNjb3VudCwgdWludCB2YWx1ZSk7CiAgZXZlbnQgUmVkZWVtKGFkZHJlc3MgaW5kZXhlZCBhY2NvdW50LCB1aW50IHZhbHVlLCB1aW50IHllc1Rva2VucywgdWludCBub1Rva2Vucyk7CiAgZXZlbnQgUmVzb2x2ZShib29sIHJlc29sdmVkLCB1aW50IG91dGNvbWUpOwoKICBmdW5jdGlvbiBZZXNObyhzdHJpbmcgbmFtZV8sIHN0cmluZyBzeW1ib2xfLCBzdHJpbmcgbmFtZXlfLCBzdHJpbmcgc3ltYm9seV8sIHN0cmluZyBuYW1lbl8sIHN0cmluZyBzeW1ib2xuXywgYnl0ZXMzMiBmYWN0SGFzaF8sIGFkZHJlc3MgZXRoQWRkcl8sIHN0cmluZyB1cmxfLCBhZGRyZXNzIGZlZUFjY291bnRfLCB1aW50IGZlZV8pIHsKICAgIG5hbWUgPSBuYW1lXzsKICAgIHN5bWJvbCA9IHN5bWJvbF87CiAgICB5ZXNUb2tlbiA9IG5ldyBSZXNlcnZlVG9rZW4obmFtZXlfLCBzeW1ib2x5Xyk7CiAgICBub1Rva2VuID0gbmV3IFJlc2VydmVUb2tlbihuYW1lbl8sIHN5bWJvbG5fKTsKICAgIGZhY3RIYXNoID0gZmFjdEhhc2hfOwogICAgZXRoQWRkciA9IGV0aEFkZHJfOwogICAgdXJsID0gdXJsXzsKICAgIGZlZUFjY291bnQgPSBmZWVBY2NvdW50XzsKICAgIGZlZSA9IGZlZV87CiAgfQoKICBmdW5jdGlvbigpIHBheWFibGUgewogICAgY3JlYXRlKCk7CiAgfQoKICBmdW5jdGlvbiBjcmVhdGUoKSBwYXlhYmxlIHsKICAgIC8vc2VuZCBYIEV0aGVyLCBnZXQgWCBZZXMgdG9rZW5zIGFuZCBYIE5vIHRva2VucwogICAgeWVzVG9rZW4uY3JlYXRlKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgICBub1Rva2VuLmNyZWF0ZShtc2cuc2VuZGVyLCBtc2cudmFsdWUpOwogICAgQ3JlYXRlKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiByZWRlZW0odWludCB0b2tlbnMpIHsKICAgIGZlZUFjY291bnQudHJhbnNmZXIoc2FmZU11bCh0b2tlbnMsZmVlKS8oMSBldGhlcikpOwogICAgaWYgKCFyZXNvbHZlZCkgewogICAgICB5ZXNUb2tlbi5kZXN0cm95KG1zZy5zZW5kZXIsIHRva2Vucyk7CiAgICAgIG5vVG9rZW4uZGVzdHJveShtc2cuc2VuZGVyLCB0b2tlbnMpOwogICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKHNhZmVNdWwodG9rZW5zLCgxIGV0aGVyKS1mZWUpLygxIGV0aGVyKSk7CiAgICAgIFJlZGVlbShtc2cuc2VuZGVyLCB0b2tlbnMsIHRva2VucywgdG9rZW5zKTsKICAgIH0gZWxzZSBpZiAocmVzb2x2ZWQpIHsKICAgICAgaWYgKG91dGNvbWU9PTApIHsgLy9ubwogICAgICAgIG5vVG9rZW4uZGVzdHJveShtc2cuc2VuZGVyLCB0b2tlbnMpOwogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoc2FmZU11bCh0b2tlbnMsKDEgZXRoZXIpLWZlZSkvKDEgZXRoZXIpKTsKICAgICAgICBSZWRlZW0obXNnLnNlbmRlciwgdG9rZW5zLCAwLCB0b2tlbnMpOwogICAgICB9IGVsc2UgaWYgKG91dGNvbWU9PTEpIHsgLy95ZXMKICAgICAgICB5ZXNUb2tlbi5kZXN0cm95KG1zZy5zZW5kZXIsIHRva2Vucyk7CiAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihzYWZlTXVsKHRva2VucywoMSBldGhlciktZmVlKS8oMSBldGhlcikpOwogICAgICAgIFJlZGVlbShtc2cuc2VuZGVyLCB0b2tlbnMsIHRva2VucywgMCk7CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIHJlc29sdmUodWludDggdiwgYnl0ZXMzMiByLCBieXRlczMyIHMsIGJ5dGVzMzIgdmFsdWUpIHsKICAgIHJlcXVpcmUoZWNyZWNvdmVyKHNoYTMoZmFjdEhhc2gsIHZhbHVlKSwgdiwgciwgcykgPT0gZXRoQWRkcik7CiAgICByZXF1aXJlKCFyZXNvbHZlZCk7CiAgICB1aW50IHZhbHVlSW50ID0gdWludCh2YWx1ZSk7CiAgICByZXF1aXJlKHZhbHVlSW50PT0wIHx8IHZhbHVlSW50PT0xKTsKICAgIG91dGNvbWUgPSB2YWx1ZUludDsKICAgIHJlc29sdmVkID0gdHJ1ZTsKICAgIFJlc29sdmUocmVzb2x2ZWQsIG91dGNvbWUpOwogIH0KfQoKLyoKY29udHJhY3QgT3B0aW9uIGlzIFNhZmVNYXRoIHsKCiAgUmVzZXJ2ZVRva2VuIHB1YmxpYyBjYWxsVG9rZW47CiAgUmVzZXJ2ZVRva2VuIHB1YmxpYyBwdXRUb2tlbjsKCiAgc3RyaW5nIHB1YmxpYyBuYW1lOwogIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogIHVpbnQgcHVibGljIHN0cmlrZUNhbGw7IC8vdGltZXMgKDEgZXRoZXIpCiAgdWludCBwdWJsaWMgc3RyaWtlUHV0OyAvL3RpbWVzICgxIGV0aGVyKQogIC8vYSBjYWxsIGlzIGFsd2F5cyBwYWlyZWQgd2l0aCBhIHB1dC4KICAvL3N0cmlrZUNhbGwgbXVzdCBiZSBsZXNzIHRoYW4gc3RyaWtlUHV0LgogIC8vdGhlIGRpZmZlcmVuY2UgYmV3dGVlbiB0aGVtIHJlcHJlc2VudHMgdGhlIGluLXRoZS1tb25leSBsaW1pdC4KCiAgLy9SZWFsaXR5IEtleXM6CiAgYnl0ZXMzMiBwdWJsaWMgZmFjdEhhc2g7CiAgYWRkcmVzcyBwdWJsaWMgZXRoQWRkcjsKICBzdHJpbmcgcHVibGljIHVybDsKCiAgdWludCBwdWJsaWMgb3V0Y29tZTsKICBib29sIHB1YmxpYyByZXNvbHZlZCA9IGZhbHNlOwoKICBhZGRyZXNzIHB1YmxpYyBmZWVBY2NvdW50OwogIHVpbnQgcHVibGljIGZlZTsgLy9wZXJjZW50YWdlIG9mIDEgZXRoZXIKCiAgZXZlbnQgQ3JlYXRlKGFkZHJlc3MgaW5kZXhlZCBhY2NvdW50LCB1aW50IHZhbHVlKTsKICBldmVudCBSZWRlZW0oYWRkcmVzcyBpbmRleGVkIGFjY291bnQsIHVpbnQgdmFsdWUsIHVpbnQgY2FsbFRva2VucywgdWludCBwdXRUb2tlbnMpOwogIGV2ZW50IFJlc29sdmUoYm9vbCByZXNvbHZlZCwgdWludCBvdXRjb21lKTsKCiAgZnVuY3Rpb24gT3B0aW9uKHVpbnQgc3RyaWtlQ2FsbF8sIHVpbnQgc3RyaWtlUHV0Xywgc3RyaW5nIG5hbWVfLCBzdHJpbmcgc3ltYm9sXywgc3RyaW5nIG5hbWVjYWxsXywgc3RyaW5nIHN5bWJvbGNhbGxfLCBzdHJpbmcgbmFtZXB1dF8sIHN0cmluZyBzeW1ib2xwdXRfLCBieXRlczMyIGZhY3RIYXNoXywgYWRkcmVzcyBldGhBZGRyXywgc3RyaW5nIHVybF8sIGFkZHJlc3MgZmVlQWNjb3VudF8sIHVpbnQgZmVlXykgewogICAgYXNzZXJ0KHN0cmlrZUNhbGxfIDwgc3RyaWtlUHV0Xyk7CiAgICBzdHJpa2VDYWxsID0gc3RyaWtlQ2FsbF87CiAgICBzdHJpa2VQdXQgPSBzdHJpa2VQdXRfOwogICAgbmFtZSA9IG5hbWVfOwogICAgc3ltYm9sID0gc3ltYm9sXzsKICAgIGNhbGxUb2tlbiA9IG5ldyBSZXNlcnZlVG9rZW4obmFtZWNhbGxfLCBzeW1ib2xjYWxsXyk7CiAgICBwdXRUb2tlbiA9IG5ldyBSZXNlcnZlVG9rZW4obmFtZXB1dF8sIHN5bWJvbHB1dF8pOwogICAgZmFjdEhhc2ggPSBmYWN0SGFzaF87CiAgICBldGhBZGRyID0gZXRoQWRkcl87CiAgICB1cmwgPSB1cmxfOwogICAgZmVlQWNjb3VudCA9IGZlZUFjY291bnRfOwogICAgZmVlID0gZmVlXzsKICB9CgogIGZ1bmN0aW9uICgpIHBheWFibGUgewogICAgY3JlYXRlKCk7CiAgfQoKICBmdW5jdGlvbiBjcmVhdGUoKSBwYXlhYmxlIHsKICAgIC8vc2VuZCBYIEV0aGVyLCBnZXQgWCBjYWxsIHRva2VucyBhbmQgWCBwdXQgdG9rZW5zCiAgICBjYWxsVG9rZW4uY3JlYXRlKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgICBwdXRUb2tlbi5jcmVhdGUobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsKICAgIENyZWF0ZShtc2cuc2VuZGVyLCBtc2cudmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gcmVkZWVtKHVpbnQgdG9rZW5zKSB7CiAgICBpZiAoIXJlc29sdmVkKSB7CiAgICAgIGZlZUFjY291bnQudHJhbnNmZXIoc2FmZU11bCh0b2tlbnMsZmVlKS8oMSBldGhlcikpOwogICAgICBjYWxsVG9rZW4uZGVzdHJveShtc2cuc2VuZGVyLCB0b2tlbnMpOwogICAgICBwdXRUb2tlbi5kZXN0cm95KG1zZy5zZW5kZXIsIHRva2Vucyk7CiAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoc2FmZU11bCh0b2tlbnMsKDEgZXRoZXIpLWZlZSkvKDEgZXRoZXIpKTsKICAgICAgUmVkZWVtKG1zZy5zZW5kZXIsIHRva2VucywgdG9rZW5zLCB0b2tlbnMpOwogICAgfSBlbHNlIGlmIChyZXNvbHZlZCkgewogICAgICB1aW50IGNhbGxUb2tlbkJhbGFuY2UgPSBjYWxsVG9rZW4uYmFsYW5jZU9mKG1zZy5zZW5kZXIpOwogICAgICB1aW50IHB1dFRva2VuQmFsYW5jZSA9IHB1dFRva2VuLmJhbGFuY2VPZihtc2cuc2VuZGVyKTsKICAgICAgY2FsbFRva2VuLmRlc3Ryb3kobXNnLnNlbmRlciwgY2FsbFRva2VuQmFsYW5jZSk7CiAgICAgIHB1dFRva2VuLmRlc3Ryb3kobXNnLnNlbmRlciwgcHV0VG9rZW5CYWxhbmNlKTsKICAgICAgdWludCB2YWx1ZSA9IDA7CiAgICAgIGlmIChvdXRjb21lIDw9IHN0cmlrZUNhbGwpIHsKICAgICAgICB2YWx1ZSA9IHNhZmVNdWwocHV0VG9rZW5CYWxhbmNlLCAoc3RyaWtlQ2FsbCAtIHN0cmlrZVB1dCkpIC8gKDEgZXRoZXIpOwogICAgICB9IGVsc2UgaWYgKG91dGNvbWUgPj0gc3RyaWtlUHV0KSB7CiAgICAgICAgdmFsdWUgPSBzYWZlTXVsKGNhbGxUb2tlbkJhbGFuY2UsIChzdHJpa2VDYWxsIC0gc3RyaWtlUHV0KSkgLyAoMSBldGhlcik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFsdWUgPSBzYWZlTXVsKGNhbGxUb2tlbkJhbGFuY2UsIChvdXRjb21lIC0gc3RyaWtlQ2FsbCkpIC8gKDEgZXRoZXIpICsgc2FmZU11bChwdXRUb2tlbkJhbGFuY2UsIChzdHJpa2VQdXQgLSBvdXRjb21lKSkgLyAoMSBldGhlcik7CiAgICAgIH0KICAgICAgZmVlQWNjb3VudC50cmFuc2ZlcihzYWZlTXVsKHZhbHVlLGZlZSkvKDEgZXRoZXIpKTsKICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihzYWZlTXVsKHZhbHVlLCgxIGV0aGVyKS1mZWUpLygxIGV0aGVyKSk7CiAgICAgIFJlZGVlbShtc2cuc2VuZGVyLCB2YWx1ZSwgY2FsbFRva2VuQmFsYW5jZSwgcHV0VG9rZW5CYWxhbmNlKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHJlc29sdmUodWludDggdiwgYnl0ZXMzMiByLCBieXRlczMyIHMsIGJ5dGVzMzIgdmFsdWUpIHsKICAgIHJlcXVpcmUoZWNyZWNvdmVyKHNoYTMoZmFjdEhhc2gsIHZhbHVlKSwgdiwgciwgcykgPT0gZXRoQWRkcik7CiAgICByZXF1aXJlKCFyZXNvbHZlZCk7CiAgICB1aW50IHZhbHVlSW50ID0gdWludCh2YWx1ZSk7CiAgICByZXF1aXJlICh2YWx1ZUludD09MCB8fCB2YWx1ZUludD09MSk7CiAgICBvdXRjb21lID0gdmFsdWVJbnQ7CiAgICByZXNvbHZlZCA9IHRydWU7CiAgICBSZXNvbHZlKHJlc29sdmVkLCBvdXRjb21lKTsKICB9Cn0KKi8='.
	

]
