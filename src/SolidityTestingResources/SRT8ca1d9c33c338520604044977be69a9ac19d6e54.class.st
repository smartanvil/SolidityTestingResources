Class {
	#name : #SRT8ca1d9c33c338520604044977be69a9ac19d6e54,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT8ca1d9c33c338520604044977be69a9ac19d6e54 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vICdQUkVWRScgJ1ByZXNhbGUgRVZFIFRva2VucycgdG9rZW4gY29udHJhY3QKLy8KLy8gRGVwbG95ZWQgdG8gOiB7VEJBfQovLyBTeW1ib2wgICAgICA6IFBSRVZFCi8vIE5hbWUgICAgICAgIDogUHJlc2FsZSBFVkUgVG9rZW5zCi8vIFRvdGFsIHN1cHBseTogTWludGVkCi8vIERlY2ltYWxzICAgIDogMTgKLy8KLy8gRW5qb3kuCi8vCi8vIChjKSBCb2treVBvb0JhaCAvIEJvayBDb25zdWx0aW5nIFB0eSBMdGQgZm9yIERldmVyeSAyMDE3LiBUaGUgTUlUIExpY2VuY2UuCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIERldmVyeSBQcmVzYWxlIFdoaXRlbGlzdCBJbnRlcmZhY2UKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpjb250cmFjdCBEZXZlcnlQcmVzYWxlV2hpdGVsaXN0IHsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgd2hpdGVsaXN0Owp9CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBQYXJpdHkgUElDT1BTIFdoaXRlbGlzdCBJbnRlcmZhY2UKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpjb250cmFjdCBQSUNPUFNDZXJ0aWZpZXIgewogICAgZnVuY3Rpb24gY2VydGlmaWVkKGFkZHJlc3MpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKTsKfQoKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gU2FmZSBtYXRocwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmxpYnJhcnkgU2FmZU1hdGggewogICAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgYykgewogICAgICAgIGMgPSBhICsgYjsKICAgICAgICByZXF1aXJlKGMgPj0gYSk7CiAgICB9CiAgICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCBjKSB7CiAgICAgICAgcmVxdWlyZShiIDw9IGEpOwogICAgICAgIGMgPSBhIC0gYjsKICAgIH0KICAgIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50IGMpIHsKICAgICAgICBjID0gYSAqIGI7CiAgICAgICAgcmVxdWlyZShhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICB9CiAgICBmdW5jdGlvbiBkaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCBjKSB7CiAgICAgICAgcmVxdWlyZShiID4gMCk7CiAgICAgICAgYyA9IGEgLyBiOwogICAgfQp9CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBFUkMgVG9rZW4gU3RhbmRhcmQgIzIwIEludGVyZmFjZQovLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9ibG9iL21hc3Rlci9FSVBTL2VpcC0yMC10b2tlbi1zdGFuZGFyZC5tZAovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvbnRyYWN0IEVSQzIwSW50ZXJmYWNlIHsKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgdG9rZW5Pd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgYmFsYW5jZSk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHRva2VucykgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB0b2tlbnMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB0b2tlbnMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdG9rZW5zKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCB0b2tlbk93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludCB0b2tlbnMpOwp9CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBPd25lZCBjb250cmFjdAovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvbnRyYWN0IE93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgYWRkcmVzcyBwdWJsaWMgbmV3T3duZXI7CgogICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvKTsKCiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBPd25lZCgpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIG5ld093bmVyID0gX25ld093bmVyOwogICAgfQogICAgZnVuY3Rpb24gYWNjZXB0T3duZXJzaGlwKCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gbmV3T3duZXIpOwogICAgICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgICAgICBuZXdPd25lciA9IGFkZHJlc3MoMCk7CiAgICB9Cn0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIEVSQzIwIFRva2VuLCB3aXRoIHRoZSBhZGRpdGlvbiBvZiBzeW1ib2wsIG5hbWUgYW5kIGRlY2ltYWxzLCBtaW50aW5nIGFuZAovLyB0cmFuc2ZlcmFibGUgZmxhZy4gU2VlOgovLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9ibG9iL21hc3Rlci9FSVBTL2VpcC0yMC10b2tlbi1zdGFuZGFyZC5tZAovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvbnRyYWN0IEVSQzIwVG9rZW4gaXMgRVJDMjBJbnRlcmZhY2UsIE93bmVkIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgc3RyaW5nIHB1YmxpYyAgbmFtZTsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKICAgIHVpbnQgcHVibGljIF90b3RhbFN1cHBseTsKCiAgICBib29sIHB1YmxpYyB0cmFuc2ZlcmFibGU7CiAgICBib29sIHB1YmxpYyBtaW50YWJsZSA9IHRydWU7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwogICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKCiAgICBldmVudCBNaW50aW5nRGlzYWJsZWQoKTsKICAgIGV2ZW50IFRyYW5zZmVyc0VuYWJsZWQoKTsKCiAgICBmdW5jdGlvbiBFUkMyMFRva2VuKHN0cmluZyBfc3ltYm9sLCBzdHJpbmcgX25hbWUsIHVpbnQ4IF9kZWNpbWFscykgcHVibGljIHsKICAgICAgICBzeW1ib2wgPSBfc3ltYm9sOwogICAgICAgIG5hbWUgPSBfbmFtZTsKICAgICAgICBkZWNpbWFscyA9IF9kZWNpbWFsczsKICAgIH0KCiAgICAvLyAtLS0gRVJDMjAgc3RhbmRhcmQgZnVuY3Rpb25zIC0tLQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBfdG90YWxTdXBwbHkgIC0gYmFsYW5jZXNbYWRkcmVzcygwKV07CiAgICB9CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB0b2tlbk93bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW3Rva2VuT3duZXJdOwogICAgfQogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB0b2tlbnMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKHRyYW5zZmVyYWJsZSk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIodG9rZW5zKTsKICAgICAgICBiYWxhbmNlc1t0b10gPSBiYWxhbmNlc1t0b10uYWRkKHRva2Vucyk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgdG8sIHRva2Vucyk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB0b2tlbnMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKHRyYW5zZmVyYWJsZSk7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtzcGVuZGVyXSA9IHRva2VuczsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBzcGVuZGVyLCB0b2tlbnMpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB0b2tlbnMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKHRyYW5zZmVyYWJsZSk7CiAgICAgICAgYmFsYW5jZXNbZnJvbV0gPSBiYWxhbmNlc1tmcm9tXS5zdWIodG9rZW5zKTsKICAgICAgICBhbGxvd2VkW2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtmcm9tXVttc2cuc2VuZGVyXS5zdWIodG9rZW5zKTsKICAgICAgICBiYWxhbmNlc1t0b10gPSBiYWxhbmNlc1t0b10uYWRkKHRva2Vucyk7CiAgICAgICAgVHJhbnNmZXIoZnJvbSwgdG8sIHRva2Vucyk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyB0b2tlbk93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IHJlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2VkW3Rva2VuT3duZXJdW3NwZW5kZXJdOwogICAgfQoKICAgIC8vIC0tLSBBZGRpdGlvbnMgb3ZlciBFUkMyMCAtLS0KICAgIGZ1bmN0aW9uIGRpc2FibGVNaW50aW5nKCkgaW50ZXJuYWwgewogICAgICAgIHJlcXVpcmUobWludGFibGUpOwogICAgICAgIG1pbnRhYmxlID0gZmFsc2U7CiAgICAgICAgTWludGluZ0Rpc2FibGVkKCk7CiAgICB9CiAgICBmdW5jdGlvbiBlbmFibGVUcmFuc2ZlcnMoKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKCF0cmFuc2ZlcmFibGUpOwogICAgICAgIHRyYW5zZmVyYWJsZSA9IHRydWU7CiAgICAgICAgVHJhbnNmZXJzRW5hYmxlZCgpOwogICAgfQogICAgZnVuY3Rpb24gbWludChhZGRyZXNzIHRva2VuT3duZXIsIHVpbnQgdG9rZW5zKSBpbnRlcm5hbCB7CiAgICAgICAgcmVxdWlyZShtaW50YWJsZSk7CiAgICAgICAgYmFsYW5jZXNbdG9rZW5Pd25lcl0gPSBiYWxhbmNlc1t0b2tlbk93bmVyXS5hZGQodG9rZW5zKTsKICAgICAgICBfdG90YWxTdXBwbHkgPSBfdG90YWxTdXBwbHkuYWRkKHRva2Vucyk7CiAgICAgICAgVHJhbnNmZXIoYWRkcmVzcygwKSwgdG9rZW5Pd25lciwgdG9rZW5zKTsKICAgIH0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyQW55RVJDMjBUb2tlbihhZGRyZXNzIHRva2VuQWRkcmVzcywgdWludCB0b2tlbnMpIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmV0dXJuIEVSQzIwSW50ZXJmYWNlKHRva2VuQWRkcmVzcykudHJhbnNmZXIob3duZXIsIHRva2Vucyk7CiAgICB9Cn0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIERldmVyeSBQcmVzYWxlIFRva2VuIENvbnRyYWN0Ci8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KY29udHJhY3QgRGV2ZXJ5UHJlc2FsZSBpcyBFUkMyMFRva2VuIHsKICAgIGFkZHJlc3MgcHVibGljIHdhbGxldDsKICAgIC8vIDk6MDBwbSwgMTQgRGVjZW1iZXIgR01ULTUgPT4gMDI6MDAgMTUgRGVjZW1iZXIgVVRDID0+IDEzOjAwIDE1IERlY2VtYmVyIEFFU1QgPT4gMTUxMzMwMzIwMAogICAgLy8gbmV3IERhdGUoMTUxMzMwMzIwMCAqIDEwMDApLnRvVVRDU3RyaW5nKCkgPT4gICJGcmksIDE1IERlYyAyMDE3IDAyOjAwOjAwIFVUQyIKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFNUQVJUX0RBVEUgPSAxNTEzMzAzMjAwOwogICAgYm9vbCBwdWJsaWMgY2xvc2VkOwogICAgdWludCBwdWJsaWMgZXRoTWluQ29udHJpYnV0aW9uID0gMjAgZXRoZXI7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBURVNUX0NPTlRSSUJVVElPTiA9IDAuMDEgZXRoZXI7CiAgICB1aW50IHB1YmxpYyB1c2RDYXAgPSAyMDAwMDAwOwogICAgLy8gRVRIL1VTRCAxNCBEZWMgMjAxNyB+IDE2OjQwIEFFU1QgPT4gNzMwIGZyb20gQ01DCiAgICB1aW50IHB1YmxpYyB1c2RQZXJLRXRoZXIgPSA3MzAwMDA7CiAgICB1aW50IHB1YmxpYyBjb250cmlidXRlZEV0aDsKICAgIHVpbnQgcHVibGljIGNvbnRyaWJ1dGVkVXNkOwogICAgRGV2ZXJ5UHJlc2FsZVdoaXRlbGlzdCBwdWJsaWMgd2hpdGVsaXN0OwogICAgUElDT1BTQ2VydGlmaWVyIHB1YmxpYyBwaWNvcHNDZXJ0aWZpZXI7CgogICAgZXZlbnQgV2FsbGV0VXBkYXRlZChhZGRyZXNzIGluZGV4ZWQgb2xkV2FsbGV0LCBhZGRyZXNzIGluZGV4ZWQgbmV3V2FsbGV0KTsKICAgIGV2ZW50IEV0aE1pbkNvbnRyaWJ1dGlvblVwZGF0ZWQodWludCBvbGRFdGhNaW5Db250cmlidXRpb24sIHVpbnQgbmV3RXRoTWluQ29udHJpYnV0aW9uKTsKICAgIGV2ZW50IFVzZENhcFVwZGF0ZWQodWludCBvbGRVc2RDYXAsIHVpbnQgbmV3VXNkQ2FwKTsKICAgIGV2ZW50IFVzZFBlcktFdGhlclVwZGF0ZWQodWludCBvbGRVc2RQZXJLRXRoZXIsIHVpbnQgbmV3VXNkUGVyS0V0aGVyKTsKICAgIGV2ZW50IFdoaXRlbGlzdFVwZGF0ZWQoYWRkcmVzcyBpbmRleGVkIG9sZFdoaXRlbGlzdCwgYWRkcmVzcyBpbmRleGVkIG5ld1doaXRlbGlzdCk7CiAgICBldmVudCBQSUNPUFNDZXJ0aWZpZXJVcGRhdGVkKGFkZHJlc3MgaW5kZXhlZCBvbGRQSUNPUFNDZXJ0aWZpZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdQSUNPUFNDZXJ0aWZpZXIpOwogICAgZXZlbnQgQ29udHJpYnV0ZWQoYWRkcmVzcyBpbmRleGVkIGFkZHIsIHVpbnQgZXRoQW1vdW50LCB1aW50IGV0aFJlZnVuZCwgdWludCB1c2RBbW91bnQsIHVpbnQgY29udHJpYnV0ZWRFdGgsIHVpbnQgY29udHJpYnV0ZWRVc2QpOwoKICAgIGZ1bmN0aW9uIERldmVyeVByZXNhbGUoKSBwdWJsaWMgRVJDMjBUb2tlbigiUFJFVkUiLCAiUHJlc2FsZSBFVkUgVG9rZW5zIiwgMTgpIHsKICAgICAgICB3YWxsZXQgPSBvd25lcjsKICAgIH0KICAgIGZ1bmN0aW9uIHNldFdhbGxldChhZGRyZXNzIF93YWxsZXQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIC8vIHJlcXVpcmUobm93IDw9IFNUQVJUX0RBVEUpOwogICAgICAgIFdhbGxldFVwZGF0ZWQod2FsbGV0LCBfd2FsbGV0KTsKICAgICAgICB3YWxsZXQgPSBfd2FsbGV0OwogICAgfSAKICAgIGZ1bmN0aW9uIHNldEV0aE1pbkNvbnRyaWJ1dGlvbih1aW50IF9ldGhNaW5Db250cmlidXRpb24pIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIC8vIHJlcXVpcmUobm93IDw9IFNUQVJUX0RBVEUpOwogICAgICAgIEV0aE1pbkNvbnRyaWJ1dGlvblVwZGF0ZWQoZXRoTWluQ29udHJpYnV0aW9uLCBfZXRoTWluQ29udHJpYnV0aW9uKTsKICAgICAgICBldGhNaW5Db250cmlidXRpb24gPSBfZXRoTWluQ29udHJpYnV0aW9uOwogICAgfSAKICAgIGZ1bmN0aW9uIHNldFVzZENhcCh1aW50IF91c2RDYXApIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIC8vIHJlcXVpcmUobm93IDw9IFNUQVJUX0RBVEUpOwogICAgICAgIFVzZENhcFVwZGF0ZWQodXNkQ2FwLCBfdXNkQ2FwKTsKICAgICAgICB1c2RDYXAgPSBfdXNkQ2FwOwogICAgfSAKICAgIGZ1bmN0aW9uIHNldFVzZFBlcktFdGhlcih1aW50IF91c2RQZXJLRXRoZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIC8vIHJlcXVpcmUobm93IDw9IFNUQVJUX0RBVEUpOwogICAgICAgIFVzZFBlcktFdGhlclVwZGF0ZWQodXNkUGVyS0V0aGVyLCBfdXNkUGVyS0V0aGVyKTsKICAgICAgICB1c2RQZXJLRXRoZXIgPSBfdXNkUGVyS0V0aGVyOwogICAgfQogICAgZnVuY3Rpb24gc2V0V2hpdGVsaXN0KGFkZHJlc3MgX3doaXRlbGlzdCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgLy8gcmVxdWlyZShub3cgPD0gU1RBUlRfREFURSk7CiAgICAgICAgV2hpdGVsaXN0VXBkYXRlZChhZGRyZXNzKHdoaXRlbGlzdCksIF93aGl0ZWxpc3QpOwogICAgICAgIHdoaXRlbGlzdCA9IERldmVyeVByZXNhbGVXaGl0ZWxpc3QoX3doaXRlbGlzdCk7CiAgICB9CiAgICBmdW5jdGlvbiBzZXRQSUNPUFNDZXJ0aWZpZXIoYWRkcmVzcyBfcGljb3BzQ2VydGlmaWVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICAvLyByZXF1aXJlKG5vdyA8PSBTVEFSVF9EQVRFKTsKICAgICAgICBQSUNPUFNDZXJ0aWZpZXJVcGRhdGVkKGFkZHJlc3MocGljb3BzQ2VydGlmaWVyKSwgX3BpY29wc0NlcnRpZmllcik7CiAgICAgICAgcGljb3BzQ2VydGlmaWVyID0gUElDT1BTQ2VydGlmaWVyKF9waWNvcHNDZXJ0aWZpZXIpOwogICAgfQogICAgZnVuY3Rpb24gYWRkcmVzc0NhbkNvbnRyaWJ1dGUoYWRkcmVzcyBfYWRkcikgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiB3aGl0ZWxpc3Qud2hpdGVsaXN0KF9hZGRyKSA+IDAgfHwgcGljb3BzQ2VydGlmaWVyLmNlcnRpZmllZChfYWRkcik7CiAgICB9CiAgICBmdW5jdGlvbiBldGhDYXAoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIHVzZENhcCAqIDEwKip1aW50KDMgKyAxOCkgLyB1c2RQZXJLRXRoZXI7CiAgICB9CiAgICBmdW5jdGlvbiBjbG9zZVNhbGUoKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKCFjbG9zZWQpOwogICAgICAgIGNsb3NlZCA9IHRydWU7CiAgICAgICAgZGlzYWJsZU1pbnRpbmcoKTsKICAgIH0KICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKG5vdyA+PSBTVEFSVF9EQVRFIHx8IChtc2cuc2VuZGVyID09IG93bmVyICYmIG1zZy52YWx1ZSA9PSBURVNUX0NPTlRSSUJVVElPTikpOwogICAgICAgIHJlcXVpcmUoIWNsb3NlZCk7CiAgICAgICAgcmVxdWlyZShhZGRyZXNzQ2FuQ29udHJpYnV0ZShtc2cuc2VuZGVyKSk7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPj0gZXRoTWluQ29udHJpYnV0aW9uIHx8IChtc2cuc2VuZGVyID09IG93bmVyICYmIG1zZy52YWx1ZSA9PSBURVNUX0NPTlRSSUJVVElPTikpOwogICAgICAgIHVpbnQgZXRoQW1vdW50ID0gbXNnLnZhbHVlOwogICAgICAgIHVpbnQgZXRoUmVmdW5kID0gMDsKICAgICAgICBpZiAoY29udHJpYnV0ZWRFdGguYWRkKGV0aEFtb3VudCkgPiBldGhDYXAoKSkgewogICAgICAgICAgICBldGhBbW91bnQgPSBldGhDYXAoKS5zdWIoY29udHJpYnV0ZWRFdGgpOwogICAgICAgICAgICBldGhSZWZ1bmQgPSBtc2cudmFsdWUuc3ViKGV0aEFtb3VudCk7CiAgICAgICAgfQogICAgICAgIHJlcXVpcmUoZXRoQW1vdW50ID4gMCk7CiAgICAgICAgdWludCB1c2RBbW91bnQgPSBldGhBbW91bnQgKiB1c2RQZXJLRXRoZXIgLyAxMCoqdWludCgzICsgMTgpOwogICAgICAgIGNvbnRyaWJ1dGVkRXRoID0gY29udHJpYnV0ZWRFdGguYWRkKGV0aEFtb3VudCk7CiAgICAgICAgY29udHJpYnV0ZWRVc2QgPSBjb250cmlidXRlZFVzZC5hZGQodXNkQW1vdW50KTsKICAgICAgICBtaW50KG1zZy5zZW5kZXIsIGV0aEFtb3VudCk7CiAgICAgICAgd2FsbGV0LnRyYW5zZmVyKGV0aEFtb3VudCk7CiAgICAgICAgQ29udHJpYnV0ZWQobXNnLnNlbmRlciwgZXRoQW1vdW50LCBldGhSZWZ1bmQsIHVzZEFtb3VudCwgY29udHJpYnV0ZWRFdGgsIGNvbnRyaWJ1dGVkVXNkKTsKICAgICAgICBpZiAoZXRoUmVmdW5kID4gMCkgewogICAgICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGV0aFJlZnVuZCk7CiAgICAgICAgfQogICAgfQp9'.
	

]
