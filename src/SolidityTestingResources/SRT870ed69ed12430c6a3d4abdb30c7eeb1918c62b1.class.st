Class {
	#name : #SRT870ed69ed12430c6a3d4abdb30c7eeb1918c62b1,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT870ed69ed12430c6a3d4abdb30c7eeb1918c62b1 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7Ly9NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NV05LT2tPS1dNTU1NTU0gLy8KLy8gTU1NTVdLa2swS05NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NV05LT2tPS1dNTU1NTU0gLy8KLy8gTU1NTVhsLi4uLi4sY2RPWFdNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NV1hPbzosLi4uLi5kTk1NTU0gLy8KLy8gTU1NV2QuICAgICAgICAuJ2N4S1dNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NVzBkOicuICAgICAgICAueE1NTU0gLy8KLy8gTU1NSywgICAuLi4uLi4gICAuLjp4WFdNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NV0tkOy4gICAgLi4uLi4gICAgOlhNTU0gLy8KLy8gTU1XZC4gICAuOzs7LCwnLi4gICAuJ2xrWE5XV05OTldNTU1NTU1NTU1NV05OV1dXTktrYy4uICAuLi4nLDs7OywuICAgLmtNTU0gLy8KLy8gTU1OYyAgIC4sOjo6Ojo6OywnLi4gICAuLiw7OywsZE5NTU1NTU1NTU1NWGwsOzs7LC4uICAgLi4nOzs6Ojo6OjonLiAgLmxXTU0gLy8KLy8gTU0wJyAgIC47Ojo6Ojo6Ojs7Jy4uICAgICAgICA7ME1NTU1NTU1NTU1NV08nICAgICAgICAuLiw7Ozo6Ojo6Ojo7LiAgIDtLTU0gLy8KLy8gTU14LiAgLic7Ojo6OjssJy4uLiAgICAgICAgLjowTU1NTU1NTU1NTU1NTVdPOy4gICAgICAgIC4uLic7Ozo6Ojo7Li4gIC5PTU0gLy8KLy8gTVdkLiAgLiw6Ojo7Jy4uICAgICAgICAgIC4seE5NTU1NTU1NTU1NTU1NTU1NWGQnLiAgICAgICAgICAuLiw7Ojo6Jy4gIC54TU0gLy8KLy8gTU5sLiAgLiw6OycuLiAgICAgICAgIC4sY2tOTU1NTU1NTU1NTU1NTU1NTU1NTU1YeGMnLiAgICAgICAgIC4uJzs6LC4gIC5kV00gLy8KLy8gTU5jICAgLiwsLi4gICAgLjs6Y2xveDBOV1hYV01NTU1NTU1NTU1NTU1NTU1NTVdYWFdYT3hvbGM6Oy4gICAgLi4sJy4gIC5vV00gLy8KLy8gTU5jICAgLi4uICAgICAub1dNTU1OWE5NVzBvZFhNTU1NTU1NTU1NTU1NTU1NS29vS1dNTlhOTU1NTmMuICAgICAuLi4gIC5vV00gLy8KLy8gTU5jLiAgICAgICAgICA7S01NTU1Oa29rTk1YbGNLTU1NTU1NTU1NTU1NTU0wY29OTU54b09XTU1NTTAsICAgICAgICAgIC5vV00gLy8KLy8gTU5jICAgICAgICAgLjswTU1NTU1NV086ZE5NTm94V01NTU1NTU1NTU1NTU5kZE5NTm9jS01NTU1NTVdPLCAgICAgICAgIC5vV00gLy8KLy8gTVg6ICAgICAgICAubFhNTU1NTU1NTU0wbE9NTU5YV01NTU1NTU1NTU1NTVdYTk1Na2xLTU1NTU1NTU1NMDouICAgICAgIC5sTk0gLy8KLy8gTVg7ICAgICAgLjtrV01NTU1NTU1NTU1NWE5NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTk5NTU1NTU1NTU1NTU54LC4gICAgICBjTk0gLy8KLy8gTU8uICAgIC46a05NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTng6LiAgLiAsME0gLy8KLy8gV2wuLic6ZEtXTU1NTU1NTVdOSzAwMEtOTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTVdOSzAwMEtOTU1NTU1NTU1XMG87Li4uZFcgLy8KLy8gTnhkT1hXTU1NTU1NTVcwb2xjYzo6OywsY3hYV01NTU1NTU1NTU1NTU1NTU1NTVdLZDosLDs6OmNjbGQwV01NTU1NTU1XS2tva1cgLy8KLy8gTU1NTU1NTU1NTU1XT2xjZDBYV1dXTjB4Oi4sT01NTU1NTU1NTU1NTU1NTU1NV2ssJ2N4S05XV1dYT2RjbDBNTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1XS0tXTU1NTU1NTU1NV0swWE1NTU1NTU1NTU1NTU1NTU1NTVhPWFdNTU1NTU1NTU1OMFhNTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1XSzBPT09PMEtXTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU5vLi4uLi4uLid4V01NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NTktPa2trazBYTk1NTU1NTU1NTU1NTU1NTU1NTVdPOy4gICAgLjowV01NTU1NTU1NTU1NTU1NTU1NV05LT2tra2tPS05NTU0gLy8KLy8gTU1XWE9reGRkb2RkeHhrS1dNTU1NTU1NTU1NTU1NTU1NWG8uLi4nZE5NTU1NTU1NTU1NTU1NTU1NTjBreHhkb2RkZHhrMFhNTU0gLy8KLy8gTU1NTU1NTU1NTU1NV05LS05NTU1NTU1NTU1NTU1NTU1NV09jLCxjMFdNTU1NTU1NTU1NTU1NTU1NWEtLTldNTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1XWEtLWFhOV01NTU1NTU1NTU1XV1dXV1gweGNjbGM6Y3hLTldXV1dXTU1NTU1NTU1NTVdOWFhLS1hXTU1NTU1NTU0gLy8KLy8gTU1NV1hPeGRvb29kZHhrTzBOTU1NTU1NTVdLa2ZvYWhoZWl0TlgwR2xpa2tkYWtYTU1NTU1NTVdYME9reGRkb29kZHhPWFdNTU0gLy8KLy8gTU1NV1hLS05OV01NTU1NV1dXTU1NTU1NTU1NV05YWFhOV01NTU1NTVdYWFhYTldNTU1NTU1NTU1XV1dNTU1NV1dOWEtLTldNTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NIEx1Y2t5KiBNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NPiAqfis+IHdlIGFyZSB0aGUgTU1NTU1NTU1NTU1NIE51bWJlciBNTU1NTU1NPiB3ZSBhcmUgdGhlIDwrfiogPE1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTT4gbXVzaWMgPE1NTU1NTU1NTU1NTU1NIC0tLS0tLSBNTU1NTU1NTU1NPiBkcmVhbWVyIDxNTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU0+ICp+Kz4gbWFrZXJzIDxNTU1NTTxNTU1NIFJhbmRvbSBNTU1NTU1NTU1NTU1NPiBvZiA8TU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NIExlZGdlciBNTU1NTU1NTU1NTU1NTT4gZHJlYW1zLiA8K34qIDxNTU0gLy8KLy8gTT4gcGFsaW1wc2VzdCBieSA8TU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gfj4gYXJraW1lZGVzLmV0aCA8fit+K34rfn4rfit+K35+K34rfit+fit+K34rfn4rfit+K35+PiBWSUlJKlhJSSpNTVhWSUkgPH4gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KCi8qKgogKiBNYW5hZ2VzIGNvbnRyYWN0IG93bmVyc2hpcC4KICovCmNvbnRyYWN0IE93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgZnVuY3Rpb24gb3duZWQoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQogICAgbW9kaWZpZXIgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIF9uZXdPd25lcikgb25seU93bmVyIHsKICAgICAgICBvd25lciA9IF9uZXdPd25lcjsKICAgIH0KfQoKLyoqCiAqIEZ1bmN0aW9uIHRvIHJlY292ZXIgdGhlIGZ1bmRzIG9uIHRoZSBjb250cmFjdAogKi8KY29udHJhY3QgTW9ydGFsIGlzIE93bmVkIHsKICAgIGZ1bmN0aW9uIGtpbGwoKSBvbmx5T3duZXIgewogICAgICAgIHNlbGZkZXN0cnVjdChvd25lcik7CiAgICB9Cn0KCi8qKgogKiBTYWZlTWF0aAogKiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IuCiAqIFRha2luZyBpZGVhcyBmcm9tIEZpcnN0Qmxvb2QgdG9rZW4uIEVuaGFuY2VkIGJ5IE9wZW5aZXBwZWxpbi4KICovCmNvbnRyYWN0IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpCiAgaW50ZXJuYWwKICBjb25zdGFudAogIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKQogIGludGVybmFsCiAgY29uc3RhbnQKICByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKQogIGludGVybmFsCiAgY29uc3RhbnQKICByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikKICBpbnRlcm5hbAogIGNvbnN0YW50CiAgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLyoqCiAqIFJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yIGZyb20gbWluZWQgYmxvY2sgaGFzaC4KICovCmNvbnRyYWN0IFJhbmRvbSBpcyBTYWZlTWF0aCB7CiAgICAvLyBHZW5lcmF0ZXMgYSByYW5kb20gbnVtYmVyIGZyb20gMSB0byBtYXggYmFzZWQgb24gdGhlIGxhc3QgYmxvY2sgaGFzaC4KICAgIGZ1bmN0aW9uIGdldFJhbmRvbUZyb21CbG9ja0hhc2godWludCBibG9ja051bWJlciwgdWludCBtYXgpCiAgICBwdWJsaWMKICAgIGNvbnN0YW50IAogICAgcmV0dXJucyh1aW50KSB7CiAgICAgICAgLy8gYmxvY2suYmxvY2toYXNoKHVpbnQgYmxvY2tOdW1iZXIpCiAgICAgICAgLy8gICAgcmV0dXJucwogICAgICAgIC8vICAgIChieXRlczMyKToKICAgICAgICAvLyAgICAgICAgaGFzaCBvZiB0aGUgZ2l2ZW4gYmxvY2sKICAgICAgICAvLyAhISBvbmx5IHdvcmtzIGZvciAyNTYgbW9zdCByZWNlbnQgYmxvY2tzIGV4Y2x1ZGluZyBjdXJyZW50ICEhCiAgICAgICAgcmV0dXJuKGFkZCh1aW50KHNoYTMoYmxvY2suYmxvY2toYXNoKGJsb2NrTnVtYmVyKSkpICUgbWF4LCAxKSk7CiAgICB9Cn0KCi8qKgogKiBSYW5kb21MZWRnZXIgaXMgdGhlIG1haW4gcHVibGljIGludGVyZmFjZSBmb3IgYSByYW5kb20gbnVtYmVyIGxlZGdlci4KICogVG8gbWFrZSBhIHJlcXVlc3Q6CiAqIFN0ZXAgMTogQ2FsbCByZXF1ZXN0TnVtYmVyIHdpdGggdGhlIGBjb3N0YCBhcyB0aGUgdmFsdWUKICogU3RlcCAyOiBXYWl0IHdhaXRUaW1lIGluIGJsb2NrcyBwYXN0IHRoZSBibG9jayB3aGljaCBtaW5lcyB0cmFuc2FjdGlvbiBmb3IgcmVxdWVzdE51bWJlcgogKiBTdGVwIDM6IENhbGwgcmV2ZWFsTnVtYmVyIHRvIGdlbmVyYXRlIHRoZSBudW1iZXIsIGFuZCBtYWtlIGl0IHB1YmxpY2x5IGFjY2Vzc2FibGUgaW4gdGhlIFVJLgogKiAgICAgICAgIHRoaXMgaXMgcmVxdWlyZWQgdG8gY3JlYXRlIHRoZSBFdmVudHMgd2hpY2ggZ2VuZXJhdGUgdGhlIExlZGdlci4gCiAqLwpjb250cmFjdCBSYW5kb21MZWRnZXIgaXMgT3duZWQgewogICAgLy8gfj4gY29zdCB0byBnZW5lcmF0ZSBhIHJhbmRvbSBudW1iZXIgaW4gV2VpLgogICAgdWludDI1NiBwdWJsaWMgY29zdDsKICAgIC8vIH4+IHdhaXRUaW1lIGlzIHRoZSBudW1iZXIgb2YgYmxvY2tzIGJlZm9yZSByYW5kb20gaXMgZ2VuZXJhdGVkLgogICAgdWludDggcHVibGljIHdhaXRUaW1lOwogICAgLy8gfj4gc2V0IGRlZmF1bHQgbWF4CiAgICB1aW50MjU2IHB1YmxpYyBtYXg7CgogICAgLy8gUGVuZGluZ051bWJlciByZXByZXNlbnRzIG9uZSBudW1iZXIuCiAgICBzdHJ1Y3QgUGVuZGluZ051bWJlciB7CiAgICAgICAgYWRkcmVzcyByZXF1ZXN0UHJveHk7CiAgICAgICAgdWludDI1NiByZW5kZXJlZE51bWJlcjsKICAgICAgICB1aW50MjU2IG9yaWdpbkJsb2NrOwogICAgICAgIHVpbnQyNTYgbWF4OwogICAgICAgIC8vIGJsb2NrcyB0byB3YWl0LAogICAgICAgIC8vIGFsc28gbWFpbnRhaW5zIHBlbmRpbmcgc3RhdGUKICAgICAgICB1aW50OCB3YWl0VGltZTsKICAgIH0KCiAgICAvLyBmb3IgTnVtYmVyIExlZGdlcgogICAgZXZlbnQgRXZlbnRSYW5kb21MZWRnZXJSZXF1ZXN0ZWQoYWRkcmVzcyByZXF1ZXN0b3IsIHVpbnQyNTYgbWF4LCB1aW50MjU2IG9yaWdpbkJsb2NrLCB1aW50OCB3YWl0VGltZSwgYWRkcmVzcyBpbmRleGVkIHJlcXVlc3RQcm94eSk7CiAgICBldmVudCBFdmVudFJhbmRvbUxlZGdlclJldmVhbGVkKGFkZHJlc3MgcmVxdWVzdG9yLCB1aW50MjU2IG9yaWdpbkJsb2NrLCB1aW50MjU2IHJlbmRlcmVkTnVtYmVyLCBhZGRyZXNzIGluZGV4ZWQgcmVxdWVzdFByb3h5KTsKICAgIAogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBQZW5kaW5nTnVtYmVyKSBwZW5kaW5nTnVtYmVyczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIHdoaXRlTGlzdDsKCiAgICBmdW5jdGlvbiByZXF1ZXN0TnVtYmVyKGFkZHJlc3MgX3JlcXVlc3RvciwgdWludDI1NiBfbWF4LCB1aW50OCBfd2FpdFRpbWUpIHBheWFibGUgcHVibGljOwogICAgZnVuY3Rpb24gcmV2ZWFsTnVtYmVyKGFkZHJlc3MgX3JlcXVlc3RvcikgcGF5YWJsZSBwdWJsaWM7Cn0KCi8qKgogKiBMdWNreSBOdW1iZXIgOjogUmFuZG9tIExlZGdlciBTZXJ2aWNlICp+Kz4KICogQW55IGNvbnRyYWN0IG9yIGFkZHJlc3MgY2FuIG1ha2UgYSByZXF1ZXN0IGZyb20gdGhpcyBpbXBsZW1lbnRhdGlvbgogKiBvbiBiZWhhbGYgb2YgYW55IG90aGVyIGFkZHJlc3MgYXMgYSByZXF1ZXN0UHJveHkuCiAqLwpjb250cmFjdCBSYW5kb21MZWRnZXJTZXJ2aWNlIGlzIFJhbmRvbUxlZGdlciwgTW9ydGFsLCBSYW5kb20gewogICAgCiAgICAvLyBJbml0aWFsaXplIHN0YXRlICsuKy4rLgogICAgZnVuY3Rpb24gUmFuZG9tTGVkZ2VyU2VydmljZSgpIHsKICAgICAgICBvd25lZCgpOwogICAgICAgIGNvc3QgPSAyMDAwMDAwMDAwMDAwMDAwMDsgLy8gMC4wMiBldGhlciAvLyAyMCBmaW5uZXkKICAgICAgICBtYXggPSAyMTsgLy8gZ2VuZXJhdGUgbnVtYmVyIGJldHdlZW4gMSBhbmQgMjEKICAgICAgICB3YWl0VGltZSA9IDU7IC8vIDUgYmxvY2tzCiAgICB9CgogICAgLy8gTGV0IG93bmVyIGN1c3RvbWl6ZSBkZWZhdXRzLgogICAgLy8gQWxsb3cgdGhlIG93bmVyIHRvIHNldCBtYXguCiAgICBmdW5jdGlvbiBzZXRNYXgodWludDI1NiBfbWF4KQogICAgb25seU93bmVyCiAgICBwdWJsaWMKICAgIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBtYXggPSBfbWF4OwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIEFsbG93IHRoZSBvd25lciB0byBzZXQgd2FpdFRpbWUuIChpbiBibG9ja3MpCiAgICBmdW5jdGlvbiBzZXRXYWl0VGltZSh1aW50OCBfd2FpdFRpbWUpCiAgICBvbmx5T3duZXIKICAgIHB1YmxpYwogICAgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHdhaXRUaW1lID0gX3dhaXRUaW1lOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIEFsbG93IHRoZSBvd25lciB0byBzZXQgY29zdC4KICAgIGZ1bmN0aW9uIHNldENvc3QodWludDI1NiBfY29zdCkKICAgIG9ubHlPd25lcgogICAgcHVibGljCiAgICByZXR1cm5zIChib29sKSB7CiAgICAgICAgY29zdCA9IF9jb3N0OwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIEFsbG93IHRoZSBvd25lciB0byBzZXQgYSB0cmFuc2FjdGlvbiBwcm94eQogICAgLy8gd2hpY2ggY2FuIHBlcmZvcm0gdmFsdWUgZXhjaGFuZ2VzIG9uIGJlaGFsZiBvZiB0aGlzIGNvbnRyYWN0LgogICAgLy8gKHVucmVsYXRlZCB0byB0aGUgcmVxdWVzdFByb3h5IHdoaWNoIGlzIG5vdCB3aGl0ZUxpc3QpCiAgICBmdW5jdGlvbiBlbmFibGVQcm94eShhZGRyZXNzIF9wcm94eSkKICAgIG9ubHlPd25lcgogICAgcHVibGljCiAgICByZXR1cm5zIChib29sKSB7CiAgICAgICAgd2hpdGVMaXN0W19wcm94eV0gPSB0cnVlOwogICAgICAgIHJldHVybiB3aGl0ZUxpc3RbX3Byb3h5XTsKICAgIH0KCiAgICBmdW5jdGlvbiByZW1vdmVQcm94eShhZGRyZXNzIF9wcm94eSkKICAgIG9ubHlPd25lcgogICAgcHVibGljCiAgICByZXR1cm5zIChib29sKSB7CiAgICAgICAgZGVsZXRlIHdoaXRlTGlzdFtfcHJveHldOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIEFsbG93IHRoZSBvd25lciB0byBjYXNoIG91dCB0aGUgaG9sZGluZ3Mgb2YgdGhpcyBjb250cmFjdC4KICAgIGZ1bmN0aW9uIHdpdGhkcmF3KGFkZHJlc3MgX3JlY2lwaWVudCwgdWludDI1NiBfYmFsYW5jZSkKICAgIG9ubHlPd25lcgogICAgcHVibGljCiAgICByZXR1cm5zIChib29sKSB7CiAgICAgICAgX3JlY2lwaWVudC50cmFuc2ZlcihfYmFsYW5jZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gQXNzdW1lIHRoYXQgc2ltcGxlIHRyYW5zYWN0aW9ucyBhcmUgdHJ5aW5nIHRvIHJlcXVlc3QgYSBudW1iZXIsCiAgICAvLyB1bmxlc3MgaXQgaXMgZnJvbSB0aGUgb3duZXIuCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHB1YmxpYyB7CiAgICAgICAgYXNzZXJ0KG1zZy5zZW5kZXIgIT0gb3duZXIpOwogICAgICAgIHJlcXVlc3ROdW1iZXIobXNnLnNlbmRlciwgbWF4LCB3YWl0VGltZSk7CiAgICB9CiAgICAKICAgIC8vIFJlcXVlc3QgYSBOdW1iZXIgLi4uICp+PgogICAgZnVuY3Rpb24gcmVxdWVzdE51bWJlcihhZGRyZXNzIF9yZXF1ZXN0b3IsIHVpbnQyNTYgX21heCwgdWludDggX3dhaXRUaW1lKQogICAgcGF5YWJsZSAKICAgIHB1YmxpYyB7CiAgICAgICAgLy8gZXh0ZXJuYWwgcmVxdWlyZW1lbnQ6IAogICAgICAgIC8vIHZhbHVlIG11c3QgZXhjZWVkIGNvc3QKICAgICAgICAvLyB1bmxlc3MgYWRkcmVzcyBpcyB3aGl0ZWxpc3RlZAogICAgICAgIGlmICghd2hpdGVMaXN0W21zZy5zZW5kZXJdKSB7CiAgICAgICAgICAgIHJlcXVpcmUoIShtc2cudmFsdWUgPCBjb3N0KSk7CiAgICAgICAgfQoKICAgICAgICAvLyBpbnRlcm5hbCByZXF1aXJlbWVudDogCiAgICAgICAgLy8gcmVxdWVzdCBhZGRyZXNzIG11c3Qgbm90IGhhdmUgcGVuZGluZyBudW1iZXIKICAgICAgICBhc3NlcnQoIWlzUmVxdWVzdFBlbmRpbmcoX3JlcXVlc3RvcikpOwogICAgICAgIC8vIHNldCBwZW5kaW5nIG51bWJlcgogICAgICAgIHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdID0gUGVuZGluZ051bWJlcih7CiAgICAgICAgICAgIHJlcXVlc3RQcm94eTogdHgub3JpZ2luLCAvLyByZXF1ZXN0UHJveHk6IG9yaWdpbmFsIGFkZHJlc3MgdGhhdCBraWNrZWQgb2ZmIHRoZSB0cmFuc2FjdGlvbgogICAgICAgICAgICByZW5kZXJlZE51bWJlcjogMCwKICAgICAgICAgICAgbWF4OiBtYXgsCiAgICAgICAgICAgIG9yaWdpbkJsb2NrOiBibG9jay5udW1iZXIsCiAgICAgICAgICAgIHdhaXRUaW1lOiB3YWl0VGltZQogICAgICAgIH0pOwogICAgICAgIGlmIChfbWF4ID4gMSkgewogICAgICAgICAgICBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS5tYXggPSBfbWF4OwogICAgICAgIH0KICAgICAgICAvLyBtYXggMjUwIHdhaXQgdG8gbGVhdmUgYSBmZXcgYmxvY2tzCiAgICAgICAgLy8gZm9yIHRoZSByZXZlYWwgdHJhbnNjdGlvbiB0byBvY2N1cgogICAgICAgIC8vIGFuZCB3cml0ZSBmcm9tIHRoZSBwZW5kaW5nIG51bWJlcnMgYmxvY2sKICAgICAgICAvLyBiZWZvcmUgaXQgZXhwaXJlcwogICAgICAgIGlmIChfd2FpdFRpbWUgPiAwICYmIF93YWl0VGltZSA8IDI1MCkgewogICAgICAgICAgICBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS53YWl0VGltZSA9IF93YWl0VGltZTsKICAgICAgICB9CiAgICAgICAgRXZlbnRSYW5kb21MZWRnZXJSZXF1ZXN0ZWQoX3JlcXVlc3RvciwgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0ubWF4LCBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS5vcmlnaW5CbG9jaywgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0ud2FpdFRpbWUsIHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLnJlcXVlc3RQcm94eSk7CiAgICB9CgogICAgLy8gUmV2ZWFsIHlvdXIgbnVtYmVyIC4uLiAqfj4KICAgIC8vIE9ubHkgcmVxdWVzdG9yIG9yIHByb3h5IGNhbiBnZW5lcmF0ZSB0aGUgbnVtYmVyCiAgICBmdW5jdGlvbiByZXZlYWxOdW1iZXIoYWRkcmVzcyBfcmVxdWVzdG9yKQogICAgcHVibGljCiAgICBwYXlhYmxlIHsKICAgICAgICBhc3NlcnQoX2NhblJldmVhbChfcmVxdWVzdG9yLCBtc2cuc2VuZGVyKSk7CiAgICAgICAgLy8gd2FpdFRpbWUgaGFzIHBhc3NlZCwgcmVuZGVyIHRoaXMgcmVxdWVzdG9yJ3MgbnVtYmVyLgogICAgICAgIF9yZXZlYWxOdW1iZXIoX3JlcXVlc3Rvcik7CiAgICB9CgogICAgLy8gSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gb2YgcmV2ZWFsTnVtYmVyKCkuCiAgICBmdW5jdGlvbiBfcmV2ZWFsTnVtYmVyKGFkZHJlc3MgX3JlcXVlc3RvcikgCiAgICBpbnRlcm5hbCB7CiAgICAgICAgdWludDI1NiBsdWNreUJsb2NrID0gX3JldmVhbEJsb2NrKF9yZXF1ZXN0b3IpOwogICAgICAgIC8vIAogICAgICAgIC8vIFRJTUUgTElNSVRBVElPTiB+PiBzaG91bGQgaGFuZGxlIGluIHVzZXIgaW50ZXJmYWNlCiAgICAgICAgLy8gYmxvY2tzIG9sZGVyIHRoYW4gKGN1cnJlbnRCbG9jayAtIDI1NikgCiAgICAgICAgLy8gImV4cGlyZSIgYW5kIHJlYWQgdGhlIHNhbWUgaGFzaCBhcyBtb3N0IHJlY2VudCB2YWxpZCBibG9jawogICAgICAgIC8vIAogICAgICAgIHVpbnQyNTYgbHVja3lOdW1iZXIgPSBnZXRSYW5kb21Gcm9tQmxvY2tIYXNoKGx1Y2t5QmxvY2ssIHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLm1heCk7CgogICAgICAgIC8vIHNldCBuZXcgdmFsdWVzCiAgICAgICAgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0ucmVuZGVyZWROdW1iZXIgPSBsdWNreU51bWJlcjsKICAgICAgICAvLyBldmVudAogICAgICAgIEV2ZW50UmFuZG9tTGVkZ2VyUmV2ZWFsZWQoX3JlcXVlc3RvciwgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0ub3JpZ2luQmxvY2ssIHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLnJlbmRlcmVkTnVtYmVyLCBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS5yZXF1ZXN0UHJveHkpOwogICAgICAgIC8vIHplcm8gb3V0IHdhaXQgYmxvY2tzIHNpbmNlIHRoaXMgaXMgbm93IGluYWN0aXZlIChmb3Igc3RhdGUgbWFuYWdlbWVudCkKICAgICAgICBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS53YWl0VGltZSA9IDA7CiAgICB9CgogICAgZnVuY3Rpb24gY2FuUmV2ZWFsKGFkZHJlc3MgX3JlcXVlc3RvcikKICAgIHB1YmxpYwogICAgY29uc3RhbnQKICAgIHJldHVybnMgKGJvb2wsIHVpbnQsIHVpbnQsIGFkZHJlc3MsIGFkZHJlc3MpIHsKICAgICAgICByZXR1cm4gKF9jYW5SZXZlYWwoX3JlcXVlc3RvciwgbXNnLnNlbmRlciksIF9yZW1haW5pbmdCbG9ja3MoX3JlcXVlc3RvciksIF9yZXZlYWxCbG9jayhfcmVxdWVzdG9yKSwgX3JlcXVlc3RvciwgbXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gX2NhblJldmVhbChhZGRyZXNzIF9yZXF1ZXN0b3IsIGFkZHJlc3MgX3Byb3h5KSAKICAgIGludGVybmFsCiAgICBjb25zdGFudAogICAgcmV0dXJucyAoYm9vbCkgewogICAgICAgIC8vIGNoZWNrIGZvciBwZW5kaW5nIG51bWJlciByZXF1ZXN0CiAgICAgICAgaWYgKGlzUmVxdWVzdFBlbmRpbmcoX3JlcXVlc3RvcikpIHsKICAgICAgICAgICAgLy8gY2hlY2sgZm9yIG5vIHJlbWFpbmluZyBibG9ja3MgdG8gYmUgbWluZWQKICAgICAgICAgICAgLy8gbXVzdCB3YWl0IGZvciBgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0ud2FpdFRpbWVgIHRvIGJlIGV4Y2NlZWRlZAogICAgICAgICAgICBpZiAoX3JlbWFpbmluZ0Jsb2NrcyhfcmVxdWVzdG9yKSA9PSAwKSB7CiAgICAgICAgICAgICAgICAvLyBjaGVjayBmb3Igb3duZXJzaGlwCiAgICAgICAgICAgICAgICBpZiAocGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0ucmVxdWVzdFByb3h5ID09IF9yZXF1ZXN0b3IgfHwgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0ucmVxdWVzdFByb3h5ID09IF9wcm94eSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbiBfcmVtYWluaW5nQmxvY2tzKGFkZHJlc3MgX3JlcXVlc3RvcikKICAgIGludGVybmFsCiAgICBjb25zdGFudAogICAgcmV0dXJucyAodWludCkgewogICAgICAgIHVpbnQyNTYgcmV2ZWFsQmxvY2sgPSBhZGQocGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0ub3JpZ2luQmxvY2ssIHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLndhaXRUaW1lKTsKICAgICAgICB1aW50MjU2IHJlbWFpbmluZ0Jsb2NrcyA9IDA7CiAgICAgICAgaWYgKHJldmVhbEJsb2NrID4gYmxvY2subnVtYmVyKSB7CiAgICAgICAgICAgIHJlbWFpbmluZ0Jsb2NrcyA9IHN1YihyZXZlYWxCbG9jaywgYmxvY2subnVtYmVyKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlbWFpbmluZ0Jsb2NrczsKICAgIH0KCiAgICBmdW5jdGlvbiBfcmV2ZWFsQmxvY2soYWRkcmVzcyBfcmVxdWVzdG9yKQogICAgaW50ZXJuYWwKICAgIGNvbnN0YW50CiAgICByZXR1cm5zICh1aW50KSB7CiAgICAgICAgLy8gYWRkIHdhaXQgYmxvY2sgdGltZQogICAgICAgIC8vIHRvIGNyZWF0aW9uIGJsb2NrIHRpbWUKICAgICAgICAvLyB0aGVuIHN1YnRyYWN0IDEKICAgICAgICByZXR1cm4gYWRkKHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLm9yaWdpbkJsb2NrLCBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS53YWl0VGltZSk7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGdldE51bWJlcihhZGRyZXNzIF9yZXF1ZXN0b3IpCiAgICBwdWJsaWMKICAgIGNvbnN0YW50CiAgICByZXR1cm5zICh1aW50LCB1aW50LCB1aW50LCBhZGRyZXNzKSB7CiAgICAgICAgcmV0dXJuIChwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS5yZW5kZXJlZE51bWJlciwgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0ubWF4LCBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS5vcmlnaW5CbG9jaywgX3JlcXVlc3Rvcik7CiAgICB9CgogICAgLy8gaXMgYSBudW1iZXIgcmVxdWVzdCBwZW5kaW5nIGZvciB0aGUgYWRkcmVzcwogICAgZnVuY3Rpb24gaXNSZXF1ZXN0UGVuZGluZyhhZGRyZXNzIF9yZXF1ZXN0b3IpCiAgICBwdWJsaWMKICAgIGNvbnN0YW50CiAgICByZXR1cm5zIChib29sKSB7CiAgICAgICAgaWYgKHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLnJlbmRlcmVkTnVtYmVyID09IDAgJiYgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0ud2FpdFRpbWUgPiAwKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9Ci8vIDB4TU1XS2trMEtOLz5IQkJpL01BU1NhL0RBTlRpL0xBTlRlbi5NSS5NSS5NSS5NKy4rLisuTS0+TU1XTktPa09LV0ouSi5KLk0qfis+Cn0='.
	

]
