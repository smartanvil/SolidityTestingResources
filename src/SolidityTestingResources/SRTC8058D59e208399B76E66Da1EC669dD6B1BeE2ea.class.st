Class {
	#name : #SRTC8058D59e208399B76E66Da1EC669dD6B1BeE2ea,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTC8058D59e208399B76E66Da1EC669dD6B1BeE2ea >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmIChhID09IDApIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKICBjb250cmFjdCBFUkMyMCB7CiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKXB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgdG90YWxfU3VwcGx5KTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpcHVibGljIHZpZXcgcmV0dXJucyAodWludCByZW1haW5pbmcpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfYW1vdW50KXB1YmxpYyByZXR1cm5zIChib29sIG9rKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2Ftb3VudClwdWJsaWMgcmV0dXJucyAoYm9vbCBvayk7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudClwdWJsaWMgcmV0dXJucyAoYm9vbCBvayk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50IF9hbW91bnQpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludCBfYW1vdW50KTsKfQoKY29udHJhY3QgR09MREJJVFNDT0lOIGlzIEVSQzIwCnsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiR0JDIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJHb2xkIEJpdHMgQ29pbiI7CiAgICB1aW50OCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxMDsKICAgIC8vIDEwMCBtaWxsaW9uIHRvdGFsIHN1cHBseSAvLyBtdWxpcGxpZXMgZHVlcyB0byBkZWNpbWFsIHByZWNpc2lvbgogICAgdWludDI1NiBwdWJsaWMgX3RvdGFsU3VwcGx5ID0gMTAwMDAwMDAwMCAqIDEwICoqMTA7ICAgICAvLyAxIGJpbGxpb24gc3VwcGx5ICAgICAgICAgICAKICAgIC8vIEJhbGFuY2VzIGZvciBlYWNoIGFjY291bnQKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsgICAKICAgIC8vIE93bmVyIG9mIHRoaXMgY29udHJhY3QKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgCiAgICB1aW50IHB1YmxpYyBwZXJUb2tlblByaWNlOwogICAgYWRkcmVzcyBwdWJsaWMgY2VudHJhbF9hY2NvdW50OwogICAgYm9vbCBzdG9wcGVkID0gdHJ1ZTsKICAgIGJvb2wgSUNPX1BSRV9JQ09fU1RBR0UgPSBmYWxzZTsKICAgIHVpbnQyNTYgcHVibGljIHN0YWdlID0gMDsKICAgIHVpbnQyNTYgcHVibGljIG9uZV9ldGhlcl91c2RfcHJpY2UgPSAwOwogICAgCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIGFsbG93ZWQ7CiAgICAKICAgIC8vIGljbyBzdGFydGRhdGUKICAgIHVpbnQyNTYgc3RhcnRkYXRlOwoKICAgIC8vIGZvciBtYWludGFpbmluZyBwcmljZXMgd2l0aCBkYXlzCiAgICB1aW50MjU2IGZpcnN0X3Rlbl9kYXlzOwogICAgdWludDI1NiBzZWNvbmRfdGVuX2RheXM7CiAgICB1aW50MjU2IHRoaXJkX3Rlbl9kYXlzOwogICAgCiAgICB1aW50MjU2IHB1YmxpYyBzdXBwbHlfaW5jcmVhc2VkOwogICAgYm9vbCBQcmVJQ09lbmRlZCA9IGZhbHNlOwogICAgCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludCBfdmFsdWUpOwoKICAgIGV2ZW50IExPRyhzdHJpbmcgZSx1aW50MjU2IHZhbHVlKTsKICAgIC8vaWNvIGVuZGRhdGU7CiAgICB1aW50MjU2IGVuZGRhdGU7CiAgICAKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgfQogICAgICAgIF87CiAgICAgICAgfQogICAgICAgIAogICAgbW9kaWZpZXIgb25seWNlbnRyYWxBY2NvdW50IHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gY2VudHJhbF9hY2NvdW50KTsKICAgICAgICBfOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBHT0xEQklUU0NPSU4oKSBwdWJsaWMKICAgIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gMjAwMDAwMDAwICogMTAgKioxMDsgLy8gMjAwIG1pbGxpb24gdG9rZW4gd2l0aCBjb21wYW55L293bmVyICwgbXVsdGlwbGllZCBkdWUgdG8gZGVjaW1hbCBwcmVjaXNpb24KICAgIAogICAgICAgIHN1cHBseV9pbmNyZWFzZWQgKz0gYmFsYW5jZXNbb3duZXJdOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBzZXRDZW50cmFsQWNjb3VudChhZGRyZXNzIGNlbnRyYWxfYWRkcmVzcykgcHVibGljIG9ubHlPd25lcgogICAgewogICAgICAgIGNlbnRyYWxfYWNjb3VudCA9IGNlbnRyYWxfYWRkcmVzczsKICAgIH0KICAgIC8vIHRvIGJlIGNhbGxlZCBieSBvd25lciBvbiAxNXRoIGphbiB0byBzdGFydCBQcmVJQ08gdGlsbCAzMXN0IGphbnVhcnkKICAgIGZ1bmN0aW9uIFN0YXRQcmVJQ08oKSBleHRlcm5hbCBvbmx5T3duZXIKICAgIHsKICAgICAgICBzdGFnZSA9IDE7CiAgICAgICAgSUNPX1BSRV9JQ09fU1RBR0UgPSB0cnVlOwogICAgICAgIGJhbGFuY2VzW2FkZHJlc3ModGhpcyldID0gMTAwMDAwMDAwICogMTAgKioxMDsgLy8gMTAwIG1pbGxpb24gdG9rZW4gd2l0aCBjb250cmFjdCAsIG11bHRpcGxpZWQgZHVlIHRvIGRlY2ltYWwgcHJlY2lzaW9uCiAgICAgICAgc3RhcnRkYXRlID0gbm93OwogICAgICAgIGVuZGRhdGUgPSBub3cuYWRkKDE3IGRheXMpOwogICAgICAgIHN1cHBseV9pbmNyZWFzZWQgKz0gYmFsYW5jZXNbYWRkcmVzcyh0aGlzKV07CiAgICAgICAgcGVyVG9rZW5QcmljZSA9IDI0OyAvLyAyNCBjZW50cwogICAKICAgIH0KICAgIC8vIHRvIGJlIGNhbGxlZCBieSBvd25lciBvbiAxc3QgZmViIHRvIHN0YXJ0IElDTyB0aWxsIDFzdCBtYXJjaAogICAgZnVuY3Rpb24gU3RhcnRJQ08oKSBleHRlcm5hbCBvbmx5T3duZXIKICAgIHsKICAgICAgICByZXF1aXJlKFByZUlDT2VuZGVkKTsgICAgCiAgICAgICAgYmFsYW5jZXNbYWRkcmVzcyh0aGlzKV0gPSAxMDAwMDAwMDAgKiAxMCAqKjEwOyAvLyAxMDAgbWlsbGlvbiB0b2tlbiB3aXRoIGNvbnRyYWN0ICwgbXVsdGlwbGllZCBkdWUgdG8gZGVjaW1hbCBwcmVjaXNpb24KICAgICAgICBzdGFnZSA9IDI7CiAgICAgICAgSUNPX1BSRV9JQ09fU1RBR0UgPSB0cnVlOwogICAgICAgIHN0b3BwZWQgPSBmYWxzZTsKICAgICAgICBzdGFydGRhdGUgPSBub3c7CiAgICAgICAgZmlyc3RfdGVuX2RheXMgPSBub3cuYWRkKDEwIGRheXMpOwogICAgICAgIHNlY29uZF90ZW5fZGF5cyA9IGZpcnN0X3Rlbl9kYXlzLmFkZCgxMCBkYXlzKTsKICAgICAgICB0aGlyZF90ZW5fZGF5cyA9IHNlY29uZF90ZW5fZGF5cy5hZGQoMTAgZGF5cyk7CiAgICAgICAgZW5kZGF0ZSA9IG5vdy5hZGQoMzAgZGF5cyk7CiAgICAgICAgc3VwcGx5X2luY3JlYXNlZCArPSBiYWxhbmNlc1thZGRyZXNzKHRoaXMpXTsKICAgICAgICBwZXJUb2tlblByaWNlID0gMzA7IC8vIDMwIGNlbnRzCiAgICB9CiAgICAvLyB0byBiZSBjYWxsZWQgYnkgb3duZXIgYXQgZW5kIG9mIHByZUlDTyBhbmQgSUNPCiAgICBmdW5jdGlvbiBlbmRfSUNPX1ByZUlDTygpIGV4dGVybmFsIG9ubHlPd25lcgogICAgewogICAgICAgIFByZUlDT2VuZGVkID0gdHJ1ZTsKICAgICAgICBzdGFnZSA9IDA7CiAgICAgICAgSUNPX1BSRV9JQ09fU1RBR0UgPSBmYWxzZTsKICAgICAgICBzdXBwbHlfaW5jcmVhc2VkIC09IGJhbGFuY2VzW2FkZHJlc3ModGhpcyldOwogICAgICAgIGJhbGFuY2VzW2FkZHJlc3ModGhpcyldID0wOwogICAgfQogICAgCiAgICAKICAgIGZ1bmN0aW9uIGdldFRva2VuUHJpY2Vmb3JEYXBwKCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikKICAgIHsKICAgICAgICByZXR1cm4gcGVyVG9rZW5QcmljZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ2V0RXRoZXJQcmljZWZvckRhcHAoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KQogICAgewogICAgICAgIHJldHVybiBvbmVfZXRoZXJfdXNkX3ByaWNlOwogICAgfQogICAgCiAgICBmdW5jdGlvbiAoKSBwdWJsaWMgcGF5YWJsZSAKICAgIHsKICAgICAgICByZXF1aXJlKElDT19QUkVfSUNPX1NUQUdFKTsKICAgICAgICByZXF1aXJlKHN0YWdlID4gMCk7CiAgICAgICAgcmVxdWlyZShub3cgPD0gZW5kZGF0ZSk7CiAgICAgICAgZGlzdHJpYnV0ZVRva2VuKG1zZy52YWx1ZSxtc2cuc2VuZGVyKTsgICAKICAgIH0KICAgIAogICAgIAogICAgZnVuY3Rpb24gZGlzdHJpYnV0ZVRva2VuKHVpbnQgdmFsLCBhZGRyZXNzIHVzZXJfYWRkcmVzcyApIHByaXZhdGUgewogICAgICAgIAogICAgICAgIHVpbnQgdG9rZW5zID0gKChvbmVfZXRoZXJfdXNkX3ByaWNlICogdmFsKSApICAvIChwZXJUb2tlblByaWNlICogMTAqKjE0KTsgCgogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbYWRkcmVzcyh0aGlzKV0gPj0gdG9rZW5zKTsKICAgICAgICAKICAgICAgICBiYWxhbmNlc1thZGRyZXNzKHRoaXMpXSA9IGJhbGFuY2VzW2FkZHJlc3ModGhpcyldLnN1Yih0b2tlbnMpOwogICAgICAgIGJhbGFuY2VzW3VzZXJfYWRkcmVzc10gPSBiYWxhbmNlc1t1c2VyX2FkZHJlc3NdLmFkZCh0b2tlbnMpOwogICAgICAgIFRyYW5zZmVyKGFkZHJlc3ModGhpcyksIHVzZXJfYWRkcmVzcywgdG9rZW5zKTsKICAgICAgIAogICAgICAKICAgICAgICAKICAgIH0KICAgIAogICAgLy8gbmVlZCB0byBiZSBjYWxsZWQgYmVmb3JlIHRoZSBJQ08gdG8gc2V0IGV0aGVyIHByaWNlIGdpdmUgdG8gOCBkZWNpbWFsIHBsYWNlcwogICAgZnVuY3Rpb24gc2V0Y29uZmlndXJhdGlvbkV0aGVyUHJpY2UodWludCBldGhlclByaWNlKSBwdWJsaWMgb25seU93bmVyCiAgICB7CiAgICAgICAgb25lX2V0aGVyX3VzZF9wcmljZSA9IGV0aGVyUHJpY2U7CiAgICAgICAKICAgICAgICAKICAgIH0KICAgIC8vICoqKiogbmVlZCB0byBiZSBjYWxsZWQgdG8gc2V0ICB0b2tlbiBQcmljZSwgdG8gYmUgY2FsbGVkIGR1cmluZyBJQ08gdG8gY2hhbmdlIHByaWNlIGV2ZXJ5IDEwIGRheXMKICAgIGZ1bmN0aW9uIHNldGNvbmZpZ3VyYXRpb25Ub2tlblByaWNlKHVpbnQgVG9rZW5QcmljZSkgcHVibGljIG9ubHlPd25lcgogICAgewogICAgICAKICAgICAgICBwZXJUb2tlblByaWNlID0gVG9rZW5QcmljZTsKICAgICAgICAKICAgIH0KICAgIAogICAgICAgIC8vICoqKiogbmVlZCB0byBiZSBjYWxsZWQgdG8gc2V0ICB0b2tlbiBQcmljZSwgdG8gYmUgY2FsbGVkIGR1cmluZyBJQ08gdG8gY2hhbmdlIHByaWNlIGV2ZXJ5IDEwIGRheXMKICAgIGZ1bmN0aW9uIHNldFN0YWdlKHVpbnQgc3RhdHVzKSBwdWJsaWMgb25seU93bmVyCiAgICB7CiAgICAgIAogICAgICAgIHN0YWdlID0gc3RhdHVzOwogICAgICAgIAogICAgfQogICAgCiAgICAvL3VzZWQgYnkgd2FsbGV0IGR1cmluZyB0b2tlbiBidXlpbmcgcHJvY2VkdXJlIAogICAgZnVuY3Rpb24gdHJhbnNmZXJieShhZGRyZXNzIF9mcm9tLGFkZHJlc3MgX3RvLHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIG9ubHljZW50cmFsQWNjb3VudCByZXR1cm5zKGJvb2wgc3VjY2VzcykgewogICAgICAgIGlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX2Ftb3VudCAmJgogICAgICAgICAgICBfYW1vdW50ID4gMCAmJgogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICsgX2Ftb3VudCA+IGJhbGFuY2VzW190b10pIHsKICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF9hbW91bnQ7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX2Ftb3VudDsKICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8vIHRvIGJlIGNhbGxlZCBieSBvd25lciBhZnRlciBhbiB5ZWFyIHJldmlldwogICAgZnVuY3Rpb24gbWluZVRva2VuKHVpbnQyNTYgc3VwcGx5X3RvX2luY3JlYXNlKSBwdWJsaWMgb25seU93bmVyCiAgICB7CiAgICAgICAgcmVxdWlyZSgoc3VwcGx5X2luY3JlYXNlZCArIHN1cHBseV90b19pbmNyZWFzZSkgPD0gX3RvdGFsU3VwcGx5KTsKICAgICAgICBzdXBwbHlfaW5jcmVhc2VkICs9IHN1cHBseV90b19pbmNyZWFzZTsKICAgICAgICAKICAgICAgICBiYWxhbmNlc1tvd25lcl0gKz0gc3VwcGx5X3RvX2luY3JlYXNlOwogICAgICAgIFRyYW5zZmVyKDAsIG93bmVyLCBzdXBwbHlfdG9faW5jcmVhc2UpOwogICAgfQogICAgCiAgICAKICAgIC8vIHRvdGFsIHN1cHBseSBvZiB0aGUgdG9rZW5zCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgdG90YWxfU3VwcGx5KSB7CiAgICAgICAgIHRvdGFsX1N1cHBseSA9IF90b3RhbFN1cHBseTsKICAgICB9CiAgCiAgICAgLy8gIGJhbGFuY2Ugb2YgYSBwYXJ0aWN1bGFyIGFjY291bnQKICAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgIH0KICAKICAgICAvLyBUcmFuc2ZlciB0aGUgYmFsYW5jZSBmcm9tIG93bmVyJ3MgYWNjb3VudCB0byBhbm90aGVyIGFjY291bnQKICAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KXB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAgcmVxdWlyZSggX3RvICE9IDB4MCk7CiAgICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCAKICAgICAgICAgICAgICYmIF9hbW91bnQgPj0gMAogICAgICAgICAgICAgJiYgYmFsYW5jZXNbX3RvXSArIF9hbW91bnQgPj0gYmFsYW5jZXNbX3RvXSk7CiAgICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KTsKICAgICAgICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7CiAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICB9CiAgCiAgICAgLy8gU2VuZCBfdmFsdWUgYW1vdW50IG9mIHRva2VucyBmcm9tIGFkZHJlc3MgX2Zyb20gdG8gYWRkcmVzcyBfdG8KICAgICAvLyBUaGUgdHJhbnNmZXJGcm9tIG1ldGhvZCBpcyB1c2VkIGZvciBhIHdpdGhkcmF3IHdvcmtmbG93LCBhbGxvd2luZyBjb250cmFjdHMgdG8gc2VuZAogICAgIC8vIHRva2VucyBvbiB5b3VyIGJlaGFsZiwgZm9yIGV4YW1wbGUgdG8gImRlcG9zaXQiIHRvIGEgY29udHJhY3QgYWRkcmVzcyBhbmQvb3IgdG8gY2hhcmdlCiAgICAgLy8gZmVlcyBpbiBzdWItY3VycmVuY2llczsgdGhlIGNvbW1hbmQgc2hvdWxkIGZhaWwgdW5sZXNzIHRoZSBfZnJvbSBhY2NvdW50IGhhcwogICAgIC8vIGRlbGliZXJhdGVseSBhdXRob3JpemVkIHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UgdmlhIHNvbWUgbWVjaGFuaXNtOyB3ZSBwcm9wb3NlCiAgICAgLy8gdGhlc2Ugc3RhbmRhcmRpemVkIEFQSXMgZm9yIGFwcHJvdmFsOgogICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbSgKICAgICAgICAgYWRkcmVzcyBfZnJvbSwKICAgICAgICAgYWRkcmVzcyBfdG8sCiAgICAgICAgIHVpbnQyNTYgX2Ftb3VudAogICAgIClwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gMHgwKTsgCiAgICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF9hbW91bnQKICAgICAgICAgICAgICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF9hbW91bnQKICAgICAgICAgICAgICYmIF9hbW91bnQgPj0gMAogICAgICAgICAgICAgJiYgYmFsYW5jZXNbX3RvXSArIF9hbW91bnQgPj0gYmFsYW5jZXNbX3RvXSk7CiAgICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF9hbW91bnQpOwogICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CiAgICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsKICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgfQogCiAgICAgLy8gQWxsb3cgX3NwZW5kZXIgdG8gd2l0aGRyYXcgZnJvbSB5b3VyIGFjY291bnQsIG11bHRpcGxlIHRpbWVzLCB1cCB0byB0aGUgX3ZhbHVlIGFtb3VudC4KICAgICAvLyBJZiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBhZ2FpbiBpdCBvdmVyd3JpdGVzIHRoZSBjdXJyZW50IGFsbG93YW5jZSB3aXRoIF92YWx1ZS4KICAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudClwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX2Ftb3VudDsKICAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9hbW91bnQpOwogICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICB9CiAgCiAgICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKXB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICB9CiAgIAogICAJLy9JbiBjYXNlIHRoZSBvd25lcnNoaXAgbmVlZHMgdG8gYmUgdHJhbnNmZXJyZWQKCWZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpcHVibGljIG9ubHlPd25lcgoJewoJICAgIHJlcXVpcmUoIG5ld093bmVyICE9IDB4MCk7CgkgICAgYmFsYW5jZXNbbmV3T3duZXJdID0gYmFsYW5jZXNbbmV3T3duZXJdLmFkZChiYWxhbmNlc1tvd25lcl0pOwoJICAgIGJhbGFuY2VzW293bmVyXSA9IDA7CgkgICAgb3duZXIgPSBuZXdPd25lcjsKCX0KCQoJLy8gZHJhaW4gZXRoZXIgY2FsbGVkIGJ5IG9ubHkgb3duZXIKCWZ1bmN0aW9uIGRyYWluKCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICBvd25lci50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgfQogICAgCiAgICAvL0JlbG93IGZ1bmN0aW9uIHdpbGwgY29udmVydCBzdHJpbmcgdG8gaW50ZWdlciByZW1vdmluZyBkZWNpbWFsCglmdW5jdGlvbiBzdHJpbmdUb1VpbnQoc3RyaW5nIHMpIHByaXZhdGUgcmV0dXJucyAodWludCkgCgkgIHsKICAgICAgICBieXRlcyBtZW1vcnkgYiA9IGJ5dGVzKHMpOwogICAgICAgIHVpbnQgaTsKICAgICAgICB1aW50IHJlc3VsdDEgPSAwOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHVpbnQgYyA9IHVpbnQoYltpXSk7CiAgICAgICAgICAgIGlmKGMgPT0gNDYpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgLS10aGlzIHdpbGwgc2tpcCB0aGUgZGVjaW1hbAogICAgICAgICAgICB9CiAgICAgICAgICBlbHNlIGlmIChjID49IDQ4ICYmIGMgPD0gNTcpIHsKICAgICAgICAgICAgICAgIHJlc3VsdDEgPSByZXN1bHQxICogMTAgKyAoYyAtIDQ4KTsKICAgICAgICAgICAgICAvLyB1c2RfcHJpY2U9cmVzdWx0OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZXN1bHQxOwogICAgICB9CiAgICAKfQ=='.
	

]
