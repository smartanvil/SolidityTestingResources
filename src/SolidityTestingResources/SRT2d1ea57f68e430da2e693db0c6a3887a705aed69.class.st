Class {
	#name : #SRT2d1ea57f68e430da2e693db0c6a3887a705aed69,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT2d1ea57f68e430da2e693db0c6a3887a705aed69 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuNDsKCmNvbnRyYWN0IEV0aGVyVHJlYXN1cnlJbnRlcmZhY2UgewogICAgZnVuY3Rpb24gd2l0aGRyYXcoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zKGJvb2wpOwogICAgZnVuY3Rpb24gd2l0aGRyYXdXaXRoUmVmZXJlbmNlKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSwgc3RyaW5nIF9yZWZlcmVuY2UpIHJldHVybnMoYm9vbCk7Cn0KCmNvbnRyYWN0IFNhZmVNaW4gewogICAgbW9kaWZpZXIgb25seUh1bWFuIHsKICAgICAgICBpZiAoX2lzSHVtYW4oKSkgewogICAgICAgICAgICBfOwogICAgICAgIH0KICAgIH0KCiAgICBtb2RpZmllciBpbW11dGFibGUoYWRkcmVzcyBfYWRkcmVzcykgewogICAgICAgIGlmIChfYWRkcmVzcyA9PSAwKSB7CiAgICAgICAgICAgIF87CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIF9zYWZlRmFsc2UoKSBpbnRlcm5hbCByZXR1cm5zKGJvb2wpIHsKICAgICAgICBfc2FmZVNlbmQobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgZnVuY3Rpb24gX3NhZmVTZW5kKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaW50ZXJuYWwgewogICAgICAgIGlmICghX3Vuc2FmZVNlbmQoX3RvLCBfdmFsdWUpKSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBfdW5zYWZlU2VuZChhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGludGVybmFsIHJldHVybnMoYm9vbCkgewogICAgICAgIHJldHVybiBfdG8uY2FsbC52YWx1ZShfdmFsdWUpKCk7CiAgICB9CgogICAgZnVuY3Rpb24gX2lzQ29udHJhY3QoKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zKGJvb2wpIHsKICAgICAgICByZXR1cm4gbXNnLnNlbmRlciAhPSB0eC5vcmlnaW47CiAgICB9CgogICAgZnVuY3Rpb24gX2lzSHVtYW4oKSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zKGJvb2wpIHsKICAgICAgICByZXR1cm4gIV9pc0NvbnRyYWN0KCk7CiAgICB9Cn0KCmNvbnRyYWN0IE11bHRpQXNzZXQgewogICAgZnVuY3Rpb24gaXNDcmVhdGVkKGJ5dGVzMzIgX3N5bWJvbCkgY29uc3RhbnQgcmV0dXJucyhib29sKTsKICAgIGZ1bmN0aW9uIGJhc2VVbml0KGJ5dGVzMzIgX3N5bWJvbCkgY29uc3RhbnQgcmV0dXJucyh1aW50OCk7CiAgICBmdW5jdGlvbiBuYW1lKGJ5dGVzMzIgX3N5bWJvbCkgY29uc3RhbnQgcmV0dXJucyhzdHJpbmcpOwogICAgZnVuY3Rpb24gZGVzY3JpcHRpb24oYnl0ZXMzMiBfc3ltYm9sKSBjb25zdGFudCByZXR1cm5zKHN0cmluZyk7CiAgICBmdW5jdGlvbiBpc1JlaXNzdWFibGUoYnl0ZXMzMiBfc3ltYm9sKSBjb25zdGFudCByZXR1cm5zKGJvb2wpOwogICAgZnVuY3Rpb24gb3duZXIoYnl0ZXMzMiBfc3ltYm9sKSBjb25zdGFudCByZXR1cm5zKGFkZHJlc3MpOwogICAgZnVuY3Rpb24gaXNPd25lcihhZGRyZXNzIF9vd25lciwgYnl0ZXMzMiBfc3ltYm9sKSBjb25zdGFudCByZXR1cm5zKGJvb2wpOwogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoYnl0ZXMzMiBfc3ltYm9sKSBjb25zdGFudCByZXR1cm5zKHVpbnQpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX2hvbGRlciwgYnl0ZXMzMiBfc3ltYm9sKSBjb25zdGFudCByZXR1cm5zKHVpbnQpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlLCBieXRlczMyIF9zeW1ib2wpIHJldHVybnMoYm9vbCk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlclRvSUNBUChieXRlczMyIF9pY2FwLCB1aW50IF92YWx1ZSkgcmV0dXJucyhib29sKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyVG9JQ0FQV2l0aFJlZmVyZW5jZShieXRlczMyIF9pY2FwLCB1aW50IF92YWx1ZSwgc3RyaW5nIF9yZWZlcmVuY2UpIHJldHVybnMoYm9vbCk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcldpdGhSZWZlcmVuY2UoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlLCBieXRlczMyIF9zeW1ib2wsIHN0cmluZyBfcmVmZXJlbmNlKSByZXR1cm5zKGJvb2wpOwogICAgZnVuY3Rpb24gcHJveHlUcmFuc2ZlcldpdGhSZWZlcmVuY2UoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlLCBieXRlczMyIF9zeW1ib2wsIHN0cmluZyBfcmVmZXJlbmNlKSByZXR1cm5zKGJvb2wpOwogICAgZnVuY3Rpb24gcHJveHlUcmFuc2ZlclRvSUNBUFdpdGhSZWZlcmVuY2UoYnl0ZXMzMiBfaWNhcCwgdWludCBfdmFsdWUsIHN0cmluZyBfcmVmZXJlbmNlKSByZXR1cm5zKGJvb2wpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSwgYnl0ZXMzMiBfc3ltYm9sKSByZXR1cm5zKGJvb2wpOwogICAgZnVuY3Rpb24gcHJveHlBcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlLCBieXRlczMyIF9zeW1ib2wpIHJldHVybnMoYm9vbCk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfc3BlbmRlciwgYnl0ZXMzMiBfc3ltYm9sKSBjb25zdGFudCByZXR1cm5zKHVpbnQpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSwgYnl0ZXMzMiBfc3ltYm9sKSByZXR1cm5zKGJvb2wpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tV2l0aFJlZmVyZW5jZShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUsIGJ5dGVzMzIgX3N5bWJvbCwgc3RyaW5nIF9yZWZlcmVuY2UpIHJldHVybnMoYm9vbCk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb21Ub0lDQVAoYWRkcmVzcyBfZnJvbSwgYnl0ZXMzMiBfaWNhcCwgdWludCBfdmFsdWUpIHJldHVybnMoYm9vbCk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb21Ub0lDQVBXaXRoUmVmZXJlbmNlKGFkZHJlc3MgX2Zyb20sIGJ5dGVzMzIgX2ljYXAsIHVpbnQgX3ZhbHVlLCBzdHJpbmcgX3JlZmVyZW5jZSkgcmV0dXJucyhib29sKTsKICAgIGZ1bmN0aW9uIHByb3h5VHJhbnNmZXJGcm9tV2l0aFJlZmVyZW5jZShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUsIGJ5dGVzMzIgX3N5bWJvbCwgc3RyaW5nIF9yZWZlcmVuY2UpIHJldHVybnMoYm9vbCk7CiAgICBmdW5jdGlvbiBwcm94eVRyYW5zZmVyRnJvbVRvSUNBUFdpdGhSZWZlcmVuY2UoYWRkcmVzcyBfZnJvbSwgYnl0ZXMzMiBfaWNhcCwgdWludCBfdmFsdWUsIHN0cmluZyBfcmVmZXJlbmNlKSByZXR1cm5zKGJvb2wpOwogICAgZnVuY3Rpb24gc2V0Q29zaWduZXJBZGRyZXNzKGFkZHJlc3MgX2FkZHJlc3MsIGJ5dGVzMzIgX3N5bWJvbCkgcmV0dXJucyhib29sKTsKICAgIGZ1bmN0aW9uIHNldENvc2lnbmVyQWRkcmVzc0ZvclVzZXIoYWRkcmVzcyBfYWRkcmVzcykgcmV0dXJucyhib29sKTsKICAgIGZ1bmN0aW9uIHByb3h5U2V0Q29zaWduZXJBZGRyZXNzKGFkZHJlc3MgX2FkZHJlc3MsIGJ5dGVzMzIgX3N5bWJvbCkgcmV0dXJucyhib29sKTsKfQoKY29udHJhY3QgQXNzZXRNaW4gaXMgU2FmZU1pbiB7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmUoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsKCiAgICBNdWx0aUFzc2V0IHB1YmxpYyBtdWx0aUFzc2V0OwogICAgYnl0ZXMzMiBwdWJsaWMgc3ltYm9sOwogICAgc3RyaW5nIHB1YmxpYyBuYW1lOwoKICAgIGZ1bmN0aW9uIGluaXQoYWRkcmVzcyBfbXVsdGlBc3NldCwgYnl0ZXMzMiBfc3ltYm9sKSBpbW11dGFibGUoYWRkcmVzcyhtdWx0aUFzc2V0KSkgcmV0dXJucyhib29sKSB7CiAgICAgICAgTXVsdGlBc3NldCBtYSA9IE11bHRpQXNzZXQoX211bHRpQXNzZXQpOwogICAgICAgIGlmICghbWEuaXNDcmVhdGVkKF9zeW1ib2wpKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgbXVsdGlBc3NldCA9IG1hOwogICAgICAgIHN5bWJvbCA9IF9zeW1ib2w7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0TmFtZShzdHJpbmcgX25hbWUpIHJldHVybnMoYm9vbCkgewogICAgICAgIGlmIChieXRlcyhuYW1lKS5sZW5ndGggIT0gMCkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIG5hbWUgPSBfbmFtZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5TXVsdGlBc3NldCgpIHsKICAgICAgICBpZiAobXNnLnNlbmRlciA9PSBhZGRyZXNzKG11bHRpQXNzZXQpKSB7CiAgICAgICAgICAgIF87CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICAgICAgcmV0dXJuIG11bHRpQXNzZXQudG90YWxTdXBwbHkoc3ltYm9sKTsKICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnModWludCkgewogICAgICAgIHJldHVybiBtdWx0aUFzc2V0LmJhbGFuY2VPZihfb3duZXIsIHN5bWJvbCk7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnModWludCkgewogICAgICAgIHJldHVybiBtdWx0aUFzc2V0LmFsbG93YW5jZShfZnJvbSwgX3NwZW5kZXIsIHN5bWJvbCk7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zKGJvb2wpIHsKICAgICAgICByZXR1cm4gX190cmFuc2ZlcldpdGhSZWZlcmVuY2UoX3RvLCBfdmFsdWUsICIiKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcldpdGhSZWZlcmVuY2UoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlLCBzdHJpbmcgX3JlZmVyZW5jZSkgcmV0dXJucyhib29sKSB7CiAgICAgICAgcmV0dXJuIF9fdHJhbnNmZXJXaXRoUmVmZXJlbmNlKF90bywgX3ZhbHVlLCBfcmVmZXJlbmNlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfX3RyYW5zZmVyV2l0aFJlZmVyZW5jZShhZGRyZXNzIF90bywgdWludCBfdmFsdWUsIHN0cmluZyBfcmVmZXJlbmNlKSBwcml2YXRlIHJldHVybnMoYm9vbCkgewogICAgICAgIHJldHVybiBfaXNIdW1hbigpID8KICAgICAgICAgICAgbXVsdGlBc3NldC5wcm94eVRyYW5zZmVyV2l0aFJlZmVyZW5jZShfdG8sIF92YWx1ZSwgc3ltYm9sLCBfcmVmZXJlbmNlKSA6CiAgICAgICAgICAgIG11bHRpQXNzZXQudHJhbnNmZXJGcm9tV2l0aFJlZmVyZW5jZShtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSwgc3ltYm9sLCBfcmVmZXJlbmNlKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlclRvSUNBUChieXRlczMyIF9pY2FwLCB1aW50IF92YWx1ZSkgcmV0dXJucyhib29sKSB7CiAgICAgICAgcmV0dXJuIF9fdHJhbnNmZXJUb0lDQVBXaXRoUmVmZXJlbmNlKF9pY2FwLCBfdmFsdWUsICIiKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlclRvSUNBUFdpdGhSZWZlcmVuY2UoYnl0ZXMzMiBfaWNhcCwgdWludCBfdmFsdWUsIHN0cmluZyBfcmVmZXJlbmNlKSByZXR1cm5zKGJvb2wpIHsKICAgICAgICByZXR1cm4gX190cmFuc2ZlclRvSUNBUFdpdGhSZWZlcmVuY2UoX2ljYXAsIF92YWx1ZSwgX3JlZmVyZW5jZSk7CiAgICB9CgogICAgZnVuY3Rpb24gX190cmFuc2ZlclRvSUNBUFdpdGhSZWZlcmVuY2UoYnl0ZXMzMiBfaWNhcCwgdWludCBfdmFsdWUsIHN0cmluZyBfcmVmZXJlbmNlKSBwcml2YXRlIHJldHVybnMoYm9vbCkgewogICAgICAgIHJldHVybiBfaXNIdW1hbigpID8KICAgICAgICAgICAgbXVsdGlBc3NldC5wcm94eVRyYW5zZmVyVG9JQ0FQV2l0aFJlZmVyZW5jZShfaWNhcCwgX3ZhbHVlLCBfcmVmZXJlbmNlKSA6CiAgICAgICAgICAgIG11bHRpQXNzZXQudHJhbnNmZXJGcm9tVG9JQ0FQV2l0aFJlZmVyZW5jZShtc2cuc2VuZGVyLCBfaWNhcCwgX3ZhbHVlLCBfcmVmZXJlbmNlKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgb25seUh1bWFuKCkgcmV0dXJucyhib29sKSB7CiAgICAgICAgcmV0dXJuIG11bHRpQXNzZXQucHJveHlBcHByb3ZlKF9zcGVuZGVyLCBfdmFsdWUsIHN5bWJvbCk7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0Q29zaWduZXJBZGRyZXNzKGFkZHJlc3MgX2Nvc2lnbmVyKSBvbmx5SHVtYW4oKSByZXR1cm5zKGJvb2wpIHsKICAgICAgICByZXR1cm4gbXVsdGlBc3NldC5wcm94eVNldENvc2lnbmVyQWRkcmVzcyhfY29zaWduZXIsIHN5bWJvbCk7CiAgICB9CgogICAgZnVuY3Rpb24gZW1pdFRyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seU11bHRpQXNzZXQoKSB7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBlbWl0QXBwcm92ZShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgb25seU11bHRpQXNzZXQoKSB7CiAgICAgICAgQXBwcm92ZShfZnJvbSwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gc2VuZFRvT3duZXIoKSByZXR1cm5zKGJvb2wpIHsKICAgICAgICBhZGRyZXNzIG93bmVyID0gbXVsdGlBc3NldC5vd25lcihzeW1ib2wpOwogICAgICAgIHJldHVybiBtdWx0aUFzc2V0LnRyYW5zZmVyKG93bmVyLCBiYWxhbmNlT2Yob3duZXIpLCBzeW1ib2wpOwogICAgfQoKICAgIGZ1bmN0aW9uIGRlY2ltYWxzKCkgY29uc3RhbnQgcmV0dXJucyh1aW50OCkgewogICAgICAgIHJldHVybiBtdWx0aUFzc2V0LmJhc2VVbml0KHN5bWJvbCk7CiAgICB9Cn0KCmNvbnRyYWN0IE93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIGNvbnRyYWN0T3duZXI7CgogICAgZnVuY3Rpb24gT3duZWQoKSB7CiAgICAgICAgY29udHJhY3RPd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgbW9kaWZpZXIgb25seUNvbnRyYWN0T3duZXIoKSB7CiAgICAgICAgaWYgKGNvbnRyYWN0T3duZXIgPT0gbXNnLnNlbmRlcikgewogICAgICAgICAgICBfOwogICAgICAgIH0KICAgIH0KfQoKY29udHJhY3QgR01UIGlzIEFzc2V0TWluLCBPd25lZCB7CiAgICB1aW50IHB1YmxpYyB0eEdhc1ByaWNlTGltaXQgPSAyMTAwMDAwMDAwMDsKICAgIHVpbnQgcHVibGljIHJlZnVuZEdhcyA9IDQwMDAwOwogICAgdWludCBwdWJsaWMgdHJhbnNmZXJDYWxsR2FzID0gMjEwMDA7CiAgICB1aW50IHB1YmxpYyB0cmFuc2ZlcldpdGhSZWZlcmVuY2VDYWxsR2FzID0gMjEwMDA7CiAgICB1aW50IHB1YmxpYyB0cmFuc2ZlclRvSUNBUENhbGxHYXMgPSAyMTAwMDsKICAgIHVpbnQgcHVibGljIHRyYW5zZmVyVG9JQ0FQV2l0aFJlZmVyZW5jZUNhbGxHYXMgPSAyMTAwMDsKICAgIHVpbnQgcHVibGljIGFwcHJvdmVDYWxsR2FzID0gMjEwMDA7CiAgICB1aW50IHB1YmxpYyBmb3J3YXJkQ2FsbEdhcyA9IDIxMDAwOwogICAgdWludCBwdWJsaWMgc2V0Q29zaWduZXJDYWxsR2FzID0gMjEwMDA7CiAgICBFdGhlclRyZWFzdXJ5SW50ZXJmYWNlIHB1YmxpYyB0cmVhc3VyeTsKICAgIG1hcHBpbmcoYnl0ZXMzMiA9PiBhZGRyZXNzKSBwdWJsaWMgYWxsb3dlZEZvcndhcmRzOwoKICAgIGZ1bmN0aW9uIHVwZGF0ZVJlZnVuZEdhcygpIG9ubHlDb250cmFjdE93bmVyKCkgcmV0dXJucyh1aW50KSB7CiAgICAgICAgdWludCBzdGFydEdhcyA9IG1zZy5nYXM7CiAgICAgICAgLy8ganVzdCB0byBzaW11bGF0ZSBjYWxjdWxhdGlvbnMsIGR1bm5vIGlmIG9wdGltaXplciB3aWxsIHJlbW92ZSB0aGlzLgogICAgICAgIHVpbnQgcmVmdW5kID0gKHN0YXJ0R2FzIC0gbXNnLmdhcyArIHJlZnVuZEdhcykgKiB0eC5nYXNwcmljZTsKICAgICAgICBpZiAodHguZ2FzcHJpY2UgPiB0eEdhc1ByaWNlTGltaXQpIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIC8vIGVuZC4KICAgICAgICBpZiAoIV9yZWZ1bmQoMSkpIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIHJlZnVuZEdhcyA9IHN0YXJ0R2FzIC0gbXNnLmdhczsKICAgICAgICByZXR1cm4gcmVmdW5kR2FzOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldE9wZXJhdGlvbnNDYWxsR2FzKAogICAgICAgIHVpbnQgX3RyYW5zZmVyLAogICAgICAgIHVpbnQgX3RyYW5zZmVyVG9JQ0FQLAogICAgICAgIHVpbnQgX3RyYW5zZmVyV2l0aFJlZmVyZW5jZSwKICAgICAgICB1aW50IF90cmFuc2ZlclRvSUNBUFdpdGhSZWZlcmVuY2UsCiAgICAgICAgdWludCBfYXBwcm92ZSwKICAgICAgICB1aW50IF9mb3J3YXJkLAogICAgICAgIHVpbnQgX3NldENvc2lnbmVyCiAgICApCiAgICAgICAgb25seUNvbnRyYWN0T3duZXIoKQogICAgICAgIHJldHVybnMoYm9vbCkKICAgIHsKICAgICAgICB0cmFuc2ZlckNhbGxHYXMgPSBfdHJhbnNmZXI7CiAgICAgICAgdHJhbnNmZXJUb0lDQVBDYWxsR2FzID0gX3RyYW5zZmVyVG9JQ0FQOwogICAgICAgIHRyYW5zZmVyV2l0aFJlZmVyZW5jZUNhbGxHYXMgPSBfdHJhbnNmZXJXaXRoUmVmZXJlbmNlOwogICAgICAgIHRyYW5zZmVyVG9JQ0FQV2l0aFJlZmVyZW5jZUNhbGxHYXMgPSBfdHJhbnNmZXJUb0lDQVBXaXRoUmVmZXJlbmNlOwogICAgICAgIGFwcHJvdmVDYWxsR2FzID0gX2FwcHJvdmU7CiAgICAgICAgZm9yd2FyZENhbGxHYXMgPSBfZm9yd2FyZDsKICAgICAgICBzZXRDb3NpZ25lckNhbGxHYXMgPSBfc2V0Q29zaWduZXI7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0dXBUcmVhc3VyeShhZGRyZXNzIF90cmVhc3VyeSwgdWludCBfdHhHYXNQcmljZUxpbWl0KSBwYXlhYmxlIG9ubHlDb250cmFjdE93bmVyKCkgcmV0dXJucyhib29sKSB7CiAgICAgICAgaWYgKF90eEdhc1ByaWNlTGltaXQgPT0gMCkgewogICAgICAgICAgICByZXR1cm4gX3NhZmVGYWxzZSgpOwogICAgICAgIH0KICAgICAgICB0cmVhc3VyeSA9IEV0aGVyVHJlYXN1cnlJbnRlcmZhY2UoX3RyZWFzdXJ5KTsKICAgICAgICB0eEdhc1ByaWNlTGltaXQgPSBfdHhHYXNQcmljZUxpbWl0OwogICAgICAgIGlmIChtc2cudmFsdWUgPiAwKSB7CiAgICAgICAgICAgIF9zYWZlU2VuZChfdHJlYXN1cnksIG1zZy52YWx1ZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldEZvcndhcmQoYnl0ZXM0IF9tc2dTaWcsIGFkZHJlc3MgX2ZvcndhcmQpIG9ubHlDb250cmFjdE93bmVyKCkgcmV0dXJucyhib29sKSB7CiAgICAgICAgYWxsb3dlZEZvcndhcmRzW3NoYTMoX21zZ1NpZyldID0gX2ZvcndhcmQ7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gX3N0cmluZ0dhcyhzdHJpbmcgX3N0cmluZykgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyh1aW50KSB7CiAgICAgICAgcmV0dXJuIGJ5dGVzKF9zdHJpbmcpLmxlbmd0aCAqIDc1OyAvLyB+NzUgZ2FzIHBlciBieXRlLCBlbXBpcmljYWwgc2hvd24gNjgtNzIuCiAgICB9CgogICAgZnVuY3Rpb24gX2FwcGx5UmVmdW5kKHVpbnQgX3N0YXJ0R2FzKSBpbnRlcm5hbCByZXR1cm5zKGJvb2wpIHsKICAgICAgICBpZiAodHguZ2FzcHJpY2UgPiB0eEdhc1ByaWNlTGltaXQpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICB1aW50IHJlZnVuZCA9IChfc3RhcnRHYXMgLSBtc2cuZ2FzICsgcmVmdW5kR2FzKSAqIHR4Lmdhc3ByaWNlOwogICAgICAgIHJldHVybiBfcmVmdW5kKHJlZnVuZCk7CiAgICB9CgogICAgZnVuY3Rpb24gX3JlZnVuZCh1aW50IF92YWx1ZSkgaW50ZXJuYWwgcmV0dXJucyhib29sKSB7CiAgICAgICAgcmV0dXJuIGFkZHJlc3ModHJlYXN1cnkpICE9IDAgJiYgdHJlYXN1cnkud2l0aGRyYXcodHgub3JpZ2luLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGludGVybmFsIHJldHVybnMoYm9vbCwgYm9vbCkgewogICAgICAgIHVpbnQgc3RhcnRHYXMgPSBtc2cuZ2FzICsgdHJhbnNmZXJDYWxsR2FzOwogICAgICAgIGlmICghc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpKSB7CiAgICAgICAgICAgIHJldHVybiAoZmFsc2UsIGZhbHNlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICh0cnVlLCBfYXBwbHlSZWZ1bmQoc3RhcnRHYXMpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfdHJhbnNmZXJUb0lDQVAoYnl0ZXMzMiBfaWNhcCwgdWludCBfdmFsdWUpIGludGVybmFsIHJldHVybnMoYm9vbCwgYm9vbCkgewogICAgICAgIHVpbnQgc3RhcnRHYXMgPSBtc2cuZ2FzICsgdHJhbnNmZXJUb0lDQVBDYWxsR2FzOwogICAgICAgIGlmICghc3VwZXIudHJhbnNmZXJUb0lDQVAoX2ljYXAsIF92YWx1ZSkpIHsKICAgICAgICAgICAgcmV0dXJuIChmYWxzZSwgZmFsc2UpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gKHRydWUsIF9hcHBseVJlZnVuZChzdGFydEdhcykpOwogICAgfQoKICAgIGZ1bmN0aW9uIF90cmFuc2ZlcldpdGhSZWZlcmVuY2UoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlLCBzdHJpbmcgX3JlZmVyZW5jZSkgaW50ZXJuYWwgcmV0dXJucyhib29sLCBib29sKSB7CiAgICAgICAgdWludCBzdGFydEdhcyA9IG1zZy5nYXMgKyB0cmFuc2ZlcldpdGhSZWZlcmVuY2VDYWxsR2FzICsgX3N0cmluZ0dhcyhfcmVmZXJlbmNlKTsKICAgICAgICBpZiAoIXN1cGVyLnRyYW5zZmVyV2l0aFJlZmVyZW5jZShfdG8sIF92YWx1ZSwgX3JlZmVyZW5jZSkpIHsKICAgICAgICAgICAgcmV0dXJuIChmYWxzZSwgZmFsc2UpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gKHRydWUsIF9hcHBseVJlZnVuZChzdGFydEdhcykpOwogICAgfQoKICAgIGZ1bmN0aW9uIF90cmFuc2ZlclRvSUNBUFdpdGhSZWZlcmVuY2UoYnl0ZXMzMiBfaWNhcCwgdWludCBfdmFsdWUsIHN0cmluZyBfcmVmZXJlbmNlKSBpbnRlcm5hbCByZXR1cm5zKGJvb2wsIGJvb2wpIHsKICAgICAgICB1aW50IHN0YXJ0R2FzID0gbXNnLmdhcyArIHRyYW5zZmVyVG9JQ0FQV2l0aFJlZmVyZW5jZUNhbGxHYXMgKyBfc3RyaW5nR2FzKF9yZWZlcmVuY2UpOwogICAgICAgIGlmICghc3VwZXIudHJhbnNmZXJUb0lDQVBXaXRoUmVmZXJlbmNlKF9pY2FwLCBfdmFsdWUsIF9yZWZlcmVuY2UpKSB7CiAgICAgICAgICAgIHJldHVybiAoZmFsc2UsIGZhbHNlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICh0cnVlLCBfYXBwbHlSZWZ1bmQoc3RhcnRHYXMpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgaW50ZXJuYWwgcmV0dXJucyhib29sLCBib29sKSB7CiAgICAgICAgdWludCBzdGFydEdhcyA9IG1zZy5nYXMgKyBhcHByb3ZlQ2FsbEdhczsKICAgICAgICBpZiAoIXN1cGVyLmFwcHJvdmUoX3NwZW5kZXIsIF92YWx1ZSkpIHsKICAgICAgICAgICAgcmV0dXJuIChmYWxzZSwgZmFsc2UpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gKHRydWUsIF9hcHBseVJlZnVuZChzdGFydEdhcykpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9zZXRDb3NpZ25lckFkZHJlc3MoYWRkcmVzcyBfY29zaWduZXIpIGludGVybmFsIHJldHVybnMoYm9vbCwgYm9vbCkgewogICAgICAgIHVpbnQgc3RhcnRHYXMgPSBtc2cuZ2FzICsgc2V0Q29zaWduZXJDYWxsR2FzOwogICAgICAgIGlmICghc3VwZXIuc2V0Q29zaWduZXJBZGRyZXNzKF9jb3NpZ25lcikpIHsKICAgICAgICAgICAgcmV0dXJuIChmYWxzZSwgZmFsc2UpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gKHRydWUsIF9hcHBseVJlZnVuZChzdGFydEdhcykpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyhib29sKSB7CiAgICAgICAgYm9vbCBzdWNjZXNzOwogICAgICAgIChzdWNjZXNzLCkgPSBfdHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiBzdWNjZXNzOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyVG9JQ0FQKGJ5dGVzMzIgX2ljYXAsIHVpbnQgX3ZhbHVlKSByZXR1cm5zKGJvb2wpIHsKICAgICAgICBib29sIHN1Y2Nlc3M7CiAgICAgICAgKHN1Y2Nlc3MsKSA9IF90cmFuc2ZlclRvSUNBUChfaWNhcCwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gc3VjY2VzczsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcldpdGhSZWZlcmVuY2UoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlLCBzdHJpbmcgX3JlZmVyZW5jZSkgcmV0dXJucyhib29sKSB7CiAgICAgICAgYm9vbCBzdWNjZXNzOwogICAgICAgIChzdWNjZXNzLCkgPSBfdHJhbnNmZXJXaXRoUmVmZXJlbmNlKF90bywgX3ZhbHVlLCBfcmVmZXJlbmNlKTsKICAgICAgICByZXR1cm4gc3VjY2VzczsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlclRvSUNBUFdpdGhSZWZlcmVuY2UoYnl0ZXMzMiBfaWNhcCwgdWludCBfdmFsdWUsIHN0cmluZyBfcmVmZXJlbmNlKSByZXR1cm5zKGJvb2wpIHsKICAgICAgICBib29sIHN1Y2Nlc3M7CiAgICAgICAgKHN1Y2Nlc3MsKSA9IF90cmFuc2ZlclRvSUNBUFdpdGhSZWZlcmVuY2UoX2ljYXAsIF92YWx1ZSwgX3JlZmVyZW5jZSk7CiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgcmV0dXJucyhib29sKSB7CiAgICAgICAgYm9vbCBzdWNjZXNzOwogICAgICAgIChzdWNjZXNzLCkgPSBfYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gc3VjY2VzczsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRDb3NpZ25lckFkZHJlc3MoYWRkcmVzcyBfY29zaWduZXIpIHJldHVybnMoYm9vbCkgewogICAgICAgIGJvb2wgc3VjY2VzczsKICAgICAgICAoc3VjY2VzcywpID0gX3NldENvc2lnbmVyQWRkcmVzcyhfY29zaWduZXIpOwogICAgICAgIHJldHVybiBzdWNjZXNzOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoZWNrVHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBjb25zdGFudCByZXR1cm5zKGJvb2wsIGJvb2wpIHsKICAgICAgICByZXR1cm4gX3RyYW5zZmVyKF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGVja1RyYW5zZmVyVG9JQ0FQKGJ5dGVzMzIgX2ljYXAsIHVpbnQgX3ZhbHVlKSBjb25zdGFudCByZXR1cm5zKGJvb2wsIGJvb2wpIHsKICAgICAgICByZXR1cm4gX3RyYW5zZmVyVG9JQ0FQKF9pY2FwLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoZWNrVHJhbnNmZXJXaXRoUmVmZXJlbmNlKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSwgc3RyaW5nIF9yZWZlcmVuY2UpIGNvbnN0YW50IHJldHVybnMoYm9vbCwgYm9vbCkgewogICAgICAgIHJldHVybiBfdHJhbnNmZXJXaXRoUmVmZXJlbmNlKF90bywgX3ZhbHVlLCBfcmVmZXJlbmNlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGVja1RyYW5zZmVyVG9JQ0FQV2l0aFJlZmVyZW5jZShieXRlczMyIF9pY2FwLCB1aW50IF92YWx1ZSwgc3RyaW5nIF9yZWZlcmVuY2UpIGNvbnN0YW50IHJldHVybnMoYm9vbCwgYm9vbCkgewogICAgICAgIHJldHVybiBfdHJhbnNmZXJUb0lDQVBXaXRoUmVmZXJlbmNlKF9pY2FwLCBfdmFsdWUsIF9yZWZlcmVuY2UpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoZWNrQXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgY29uc3RhbnQgcmV0dXJucyhib29sLCBib29sKSB7CiAgICAgICAgcmV0dXJuIF9hcHByb3ZlKF9zcGVuZGVyLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoZWNrU2V0Q29zaWduZXJBZGRyZXNzKGFkZHJlc3MgX2Nvc2lnbmVyKSBjb25zdGFudCByZXR1cm5zKGJvb2wsIGJvb2wpIHsKICAgICAgICByZXR1cm4gX3NldENvc2lnbmVyQWRkcmVzcyhfY29zaWduZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoZWNrRm9yd2FyZChieXRlcyBfZGF0YSkgY29uc3RhbnQgcmV0dXJucyhib29sLCBib29sKSB7CiAgICAgICAgcmV0dXJuIF9mb3J3YXJkKGFsbG93ZWRGb3J3YXJkc1tzaGEzKF9kYXRhWzBdLCBfZGF0YVsxXSwgX2RhdGFbMl0sIF9kYXRhWzNdKV0sIF9kYXRhKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZm9yd2FyZChhZGRyZXNzIF90bywgYnl0ZXMgX2RhdGEpIGludGVybmFsIHJldHVybnMoYm9vbCwgYm9vbCkgewogICAgICAgIHVpbnQgc3RhcnRHYXMgPSBtc2cuZ2FzICsgZm9yd2FyZENhbGxHYXMgKyAoX2RhdGEubGVuZ3RoICogNTApOyAvLyA1MCBnYXMgcGVyIGJ5dGU7CiAgICAgICAgaWYgKF90byA9PSAweDApIHsKICAgICAgICAgICAgcmV0dXJuIChmYWxzZSwgX3NhZmVGYWxzZSgpKTsKICAgICAgICB9CiAgICAgICAgaWYgKCFfdG8uY2FsbC52YWx1ZShtc2cudmFsdWUpKF9kYXRhKSkgewogICAgICAgICAgICByZXR1cm4gKGZhbHNlLCBfc2FmZUZhbHNlKCkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gKHRydWUsIF9hcHBseVJlZnVuZChzdGFydEdhcykpOwogICAgfQoKICAgIGZ1bmN0aW9uICgpIHBheWFibGUgewogICAgICAgIF9mb3J3YXJkKGFsbG93ZWRGb3J3YXJkc1tzaGEzKG1zZy5zaWcpXSwgbXNnLmRhdGEpOwogICAgfQp9'.
	

]
