Class {
	#name : #SRT5652ac06e148b8c8d86c2c040fdbbbf98860ef47,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5652ac06e148b8c8d86c2c040fdbbbf98860ef47 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7Cgpjb250cmFjdCBEQkMgewoKICAgIC8vIE1PRElGSUVSUwoKICAgIG1vZGlmaWVyIHByZV9jb25kKGJvb2wgY29uZGl0aW9uKSB7CiAgICAgICAgcmVxdWlyZShjb25kaXRpb24pOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgcG9zdF9jb25kKGJvb2wgY29uZGl0aW9uKSB7CiAgICAgICAgXzsKICAgICAgICBhc3NlcnQoY29uZGl0aW9uKTsKICAgIH0KCiAgICBtb2RpZmllciBpbnZhcmlhbnQoYm9vbCBjb25kaXRpb24pIHsKICAgICAgICByZXF1aXJlKGNvbmRpdGlvbik7CiAgICAgICAgXzsKICAgICAgICBhc3NlcnQoY29uZGl0aW9uKTsKICAgIH0KfQoKY29udHJhY3QgQ29tcGV0aXRpb24gaXMgREJDIHsKCiAgICAvLyBUWVBFUwoKICAgIHN0cnVjdCBIb3BlZnVsIHsgLy8gU29tZW9uZSB3aG8gd2FudHMgdG8gc3VjY2VlZCBvciB3aG8gc2VlbXMgbGlrZWx5IHRvIHdpbgogICAgICAgIGFkZHJlc3MgZnVuZDsgLy8gQWRkcmVzcyBvZiB0aGUgTWVsb24gZnVuZAogICAgICAgIGFkZHJlc3MgbWFuYWdlcjsgLy8gQWRkcmVzcyBvZiB0aGUgZnVuZCBtYW5hZ2VyLCBhcyB1c2VkIGluIHRoZSBpcGZzLWZyb250ZW5kCiAgICAgICAgYWRkcmVzcyByZWdpc3RyYW50OyAvLyBNYW5hZ2VyICg9PSBvd25lcikgb2YgYWJvdmUgTWVsb24gZnVuZAogICAgICAgIGJvb2wgaGFzU2lnbmVkOyAvLyBXaGV0aGVyIGluaXRpYWwgcmVxdWlyZW1lbnRzIHBhc3NlZCBhbmQgSG9wZWZ1bCBzaWduZWQgVGVybXMgYW5kIENvbmRpdGlvbnM7IERvZXMgbm90IG1lYW4gSG9wZWZ1bCBpcyBjb21wZXRpbmcgeWV0CiAgICAgICAgYWRkcmVzcyBidXlpbkFzc2V0OyAvLyBBc3NldCAoRVJDMjAgVG9rZW4pIHNwZW50IHRvIHRha2UgcGFydCBpbiBjb21wZXRpdGlvbgogICAgICAgIGFkZHJlc3MgcGF5b3V0QXNzZXQ7IC8vIEFzc2V0ICh1c3VhbGx5IE1lbG9uIFRva2VuKSB0byBiZSByZWNlaXZlZCBhcyBwcml6ZQogICAgICAgIHVpbnQgYnV5aW5RdWFudGl0eTsgLy8gUXVhbnRpdHkgb2YgYnV5aW5Bc3NldCBzcGVudAogICAgICAgIHVpbnQgcGF5b3V0UXVhbnRpdHk7IC8vIFF1YW50aXR5IG9mIHBheW91dEFzc2V0IHJlY2VpdmVkIGFzIHByaXplCiAgICAgICAgYWRkcmVzcyBwYXlvdXRBZGRyZXNzOyAvLyBBZGRyZXNzIHRvIHBheW91dCBpbiBtYWluIGNoYWluCiAgICAgICAgYm9vbCBpc0NvbXBldGluZzsgLy8gV2hldGhlciBvdXRzaWRlIG9yYWNsZSB2ZXJpZmllZCByZW1haW5pbmcgcmVxdWlyZW1lbnRzOyBJZiB5ZXMgSG9wZWZ1bCBpcyB0YWtpbmcgcGFydCBpbiBhIGNvbXBldGl0aW9uCiAgICAgICAgYm9vbCBpc0Rpc3F1YWxpZmllZDsgLy8gV2hldGhlciBwYXJ0aWNpcGFudCBpcyBkaXNxdWFsaWZpZWQKICAgICAgICB1aW50IGZpbmFsU2hhcmVQcmljZTsgLy8gUGVyZm9ybWFuY2Ugb2YgTWVsb24gZnVuZCBhdCBjb21wZXRpdGlvbiBlbmRUaW1lOyBDYW4gYmUgY2hhbmdlZCBmb3IgYW55IG90aGVyIGNvbXBhcmlzb24gbWV0cmljCiAgICAgICAgdWludCBmaW5hbENvbXBldGl0aW9uUmFuazsgLy8gUmFuayBvZiBIb3BlZnVsIGF0IGVuZCBvZiBjb21wZXRpdGlvbjsgQ2FsY3VsYXRlIGJ5IGxvZ2ljIGFzIHNldCBpbiB0ZXJtcyBhbmQgY29uZGl0aW9ucwogICAgfQoKICAgIHN0cnVjdCBIb3BlZnVsSWQgewogICAgICB1aW50IGlkOyAvLyBBY3R1YWwgSG9wZWZ1bCBJZAogICAgICBib29sIGV4aXN0czsgLy8gVXNlZCB0byBjaGVjayBpZiB0aGUgbWFwcGluZyBleGlzdHMKICAgIH0KCiAgICAvLyBGSUVMRFMKCiAgICAvLyBDb25zdGFudCBmaWVsZHMKICAgIC8vIENvbXBldGl0aW9uIHRlcm1zIGFuZCBjb25kaXRpb25zIGFzIGRpc3BsYXllZCBvbiBodHRwczovL2lwZnMuaW8vaXBmcy9RbVE3RHFqcHhtVERiYXhjSDVxd3Y4UW1HdkpZN3JoYjhVVjJRUmZDRUZCcDhWCiAgICAvLyBJUEZTIGhhc2ggZW5jb2RlZCB1c2luZyBodHRwOi8vbGVuc2NodWx3aXR6LmNvbS9iYXNlNTgKICAgIGJ5dGVzMzIgcHVibGljIGNvbnN0YW50IFRFUk1TX0FORF9DT05ESVRJT05TID0gMHgxQTQ2QjQ1Q0M4NDlFMjZCQjMxNTkyOThDM0MyMThFRjMwMEQwMTVFRDNFMjM0OTVFNzdGMEU1MjlDRTlGNjlFOwogICAgdWludCBwdWJsaWMgTUVMT05fQkFTRV9VTklUID0gMTAgKiogMTg7CiAgICAvLyBDb25zdHJ1Y3RvciBmaWVsZHMKICAgIGFkZHJlc3MgcHVibGljIG9yYWNsZTsgLy8gSW5mb3JtYXRpb24gZS5nLiBmcm9tIEtvdmFuIGNhbiBiZSBwYXNzZWQgdG8gY29udHJhY3QgZnJvbSB0aGlzIGFkZHJlc3MKICAgIHVpbnQgcHVibGljIHN0YXJ0VGltZTsgLy8gQ29tcGV0aXRpb24gc3RhcnQgdGltZSBpbiBzZWNvbmRzIChUZW1wb3JhcmlseSBTZXQpCiAgICB1aW50IHB1YmxpYyBlbmRUaW1lOyAvLyBDb21wZXRpdGlvbiBlbmQgdGltZSBpbiBzZWNvbmRzCiAgICB1aW50IHB1YmxpYyBtYXhidXlpblF1YW50aXR5OyAvLyBMaW1pdCBhbW91bnQgb2YgZGVwb3NpdCB0byBwYXJ0aWNpcGF0ZSBpbiBjb21wZXRpdGlvbgogICAgdWludCBwdWJsaWMgbWF4SG9wZWZ1bHNOdW1iZXI7IC8vIExpbWl0IG51bWJlciBvZiBwYXJ0aWNpcGF0ZSBpbiBjb21wZXRpdGlvbgogICAgdWludCBwdWJsaWMgcHJpemVNb25leUFzc2V0OyAvLyBFcXVpdmFsZW50IHRvIHBheW91dEFzc2V0CiAgICB1aW50IHB1YmxpYyBwcml6ZU1vbmV5UXVhbnRpdHk7IC8vIFRvdGFsIHByaXplIG1vbmV5IHBvb2wKICAgIGFkZHJlc3MgcHVibGljIE1FTE9OX0FTU0VUOyAvLyBBZHJlc3NzIG9mIE1lbG9uIGFzc2V0IGNvbnRyYWN0CiAgICBFUkMyMEludGVyZmFjZSBwdWJsaWMgTUVMT05fQ09OVFJBQ1Q7IC8vIE1lbG9uIGFzIEVSQzIwIGNvbnRyYWN0CiAgICBDZXJ0aWZpZXIgcHVibGljIENFUlRJRklFUjsgLy8gUGFyaXR5IEtZQyB2ZXJpZmljYXRpb24gY29udHJhY3QKICAgIC8vIE1ldGhvZHMgZmllbGRzCiAgICBIb3BlZnVsW10gcHVibGljIGhvcGVmdWxzOyAvLyBMaXN0IG9mIGFsbCBob3BlZnVscywgY2FuIGJlIGV4dGVybmFsbHkgYWNjZXNzZWQKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYWRkcmVzcykgcHVibGljIHJlZ2lzdGVyZWRGdW5kVG9SZWdpc3RyYW50czsgLy8gRm9yIGZ1bmQgYWRkcmVzcyBpbmRleGVkIGFjY2Vzc2luZyBvZiByZWdpc3RyYW50IGFkZHJlc3NlcwogICAgbWFwcGluZyhhZGRyZXNzID0+IEhvcGVmdWxJZCkgcHVibGljIHJlZ2lzdHJhbnRUb0hvcGVmdWxJZHM7IC8vIEZvciByZWdpc3RyYW50IGFkZHJlc3MgaW5kZXhlZCBhY2Nlc3Npbmcgb2YgaG9wZWZ1bCBpZHMKCiAgICAvL0VWRU5UUwoKICAgIGV2ZW50IFJlZ2lzdGVyKHVpbnQgd2l0aElkLCBhZGRyZXNzIGZ1bmQsIGFkZHJlc3MgbWFuYWdlcik7CgogICAgLy8gUFJFLCBQT1NULCBJTlZBUklBTlQgQ09ORElUSU9OUwoKICAgIC8vLyBAZGV2IFByb29mcyB0aGF0IHRlcm1zIGFuZCBjb25kaXRpb25zIGhhdmUgYmVlbiByZWFkIGFuZCB1bmRlcnN0b29kCiAgICAvLy8gQHBhcmFtIGJ5TWFuYWdlciBBZGRyZXNzIG9mIHRoZSBmdW5kIG1hbmFnZXIsIGFzIHVzZWQgaW4gdGhlIGlwZnMtZnJvbnRlbmQKICAgIC8vLyBAcGFyYW0gdiBlbGxpcGl0YyBjdXJ2ZSBwYXJhbWV0ZXIgdgogICAgLy8vIEBwYXJhbSByIGVsbGlwaXRjIGN1cnZlIHBhcmFtZXRlciByCiAgICAvLy8gQHBhcmFtIHMgZWxsaXBpdGMgY3VydmUgcGFyYW1ldGVyIHMKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgb3Igbm90IHRlcm1zIGFuZCBjb25kaXRpb25zIGhhdmUgYmVlbiByZWFkIGFuZCB1bmRlcnN0b29kCiAgICBmdW5jdGlvbiB0ZXJtc0FuZENvbmRpdGlvbnNBcmVTaWduZWQoYWRkcmVzcyBieU1hbmFnZXIsIHVpbnQ4IHYsIGJ5dGVzMzIgciwgYnl0ZXMzMiBzKSB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gZWNyZWNvdmVyKAogICAgICAgICAgICAvLyBQYXJpdHkgZG9lcyBwcmVwZW5kIFx4MTlFdGhlcmV1bSBTaWduZWQgTWVzc2FnZTpcbntsZW4obWVzc2FnZSl9IGJlZm9yZSBzaWduaW5nLgogICAgICAgICAgICAvLyAgU2lnbmF0dXJlIG9yZGVyIGhhcyBhbHNvIGJlZW4gY2hhbmdlZCBpbiAxLjYuNyBhbmQgdXBjb21pbmcgMS43LngsCiAgICAgICAgICAgIC8vICBpdCB3aWxsIHJldHVybiByc3YgKHNhbWUgYXMgZ2V0aDsgd2hlcmUgdiBpcyBbMjcsIDI4XSkuCiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBpZiB5b3UgYXJlIHVzaW5nIGVjcmVjb3ZlciwgdiB3aWxsIGJlIGVpdGhlciAiMDAiIG9yICIwMSIuCiAgICAgICAgICAgIC8vICBBcyBhIHJlc3VsdCwgaW4gb3JkZXIgdG8gdXNlIHRoaXMgdmFsdWUsIHlvdSB3aWxsIGhhdmUgdG8gcGFyc2UgaXQgdG8gYW4KICAgICAgICAgICAgLy8gIGludGVnZXIgYW5kIHRoZW4gYWRkIDI3LiBUaGlzIHdpbGwgcmVzdWx0IGluIGVpdGhlciBhIDI3IG9yIGEgMjguCiAgICAgICAgICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vd2lraS93aWtpL0phdmFTY3JpcHQtQVBJI3dlYjNldGhzaWduCiAgICAgICAgICAgIGtlY2NhazI1NigiXHgxOUV0aGVyZXVtIFNpZ25lZCBNZXNzYWdlOlxuMzIiLCBURVJNU19BTkRfQ09ORElUSU9OUyksCiAgICAgICAgICAgIHYsCiAgICAgICAgICAgIHIsCiAgICAgICAgICAgIHMKICAgICAgICApID09IGJ5TWFuYWdlcjsgLy8gSGFzIHNlbmRlciBzaWduZWQgVEVSTVNfQU5EX0NPTkRJVElPTlMKICAgIH0KCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIG1lc3NhZ2Ugc2VuZGVyIGlzIG9yYWNsZSBvciBub3QKICAgIGZ1bmN0aW9uIGlzT3JhY2xlKCkgdmlldyByZXR1cm5zIChib29sKSB7IHJldHVybiBtc2cuc2VuZGVyID09IG9yYWNsZTsgfQoKICAgIC8vLyBAZGV2IFdoZXRoZXIgbWVzc2FnZSBzZW5kZXIgaXMgS1lDIHZlcmlmaWVkIHRocm91Z2ggQ0VSVElGSUVSCiAgICAvLy8gQHBhcmFtIHggQWRkcmVzcyB0byBiZSBjaGVja2VkIGZvciBLWUMgdmVyaWZpY2F0aW9uCiAgICBmdW5jdGlvbiBpc0tZQ1ZlcmlmaWVkKGFkZHJlc3MgeCkgdmlldyByZXR1cm5zIChib29sKSB7IHJldHVybiBDRVJUSUZJRVIuY2VydGlmaWVkKHgpOyB9CgogICAgLy8gQ09OU1RBTlQgTUVUSE9EUwoKICAgIGZ1bmN0aW9uIGdldE1lbG9uQXNzZXQoKSB2aWV3IHJldHVybnMgKGFkZHJlc3MpIHsgcmV0dXJuIE1FTE9OX0FTU0VUOyB9CgogICAgLy8vIEByZXR1cm4gR2V0IEhvcGVmdWxJZCBmcm9tIHJlZ2lzdHJhbnQgYWRkcmVzcwogICAgZnVuY3Rpb24gZ2V0SG9wZWZ1bElkKGFkZHJlc3MgeCkgdmlldyByZXR1cm5zICh1aW50KSB7IHJldHVybiByZWdpc3RyYW50VG9Ib3BlZnVsSWRzW3hdLmlkOyB9CgogICAgLyoqCiAgICBAbm90aWNlIFJldHVybnMgYW4gYXJyYXkgb2YgZnVuZCBhZGRyZXNzZXMgYW5kIGFuIGFzc29jaWF0ZWQgYXJyYXkgb2Ygd2hldGhlciBjb21wZXRpbmcgYW5kIHdoZXRoZXIgZGlzcXVhbGlmaWVkCiAgICBAcmV0dXJuIHsKICAgICAgImZ1bmRBZGRycyI6ICJBcnJheSBvZiBhZGRyZXNzZXMgb2YgTWVsb24gRnVuZHMiLAogICAgICAiZnVuZE1hbmFnZXJzIjogIkFycmF5IG9mIGFkZHJlc3NlcyBvZiBNZWxvbiBmdW5kIG1hbmFnZXJzLCBhcyB1c2VkIGluIHRoZSBpcGZzLWZyb250ZW5kIiwKICAgICAgImFyZUNvbXBldGluZyI6ICJBcnJheSBvZiBib29sZWFuIG9mIHdoZXRoZXIgb3Igbm90IGZ1bmQgaXMgY29tcGV0aW5nIgogICAgICAiYXJlRGlzcXVhbGlmaWVkIjogIkFycmF5IG9mIGJvb2xlYW4gb2Ygd2hldGhlciBvciBub3QgZnVuZCBpcyBkaXNxdWFsaWZpZWQiCiAgICB9CiAgICAqLwogICAgZnVuY3Rpb24gZ2V0Q29tcGV0aXRpb25TdGF0dXNPZkhvcGVmdWxzKCkKICAgICAgICB2aWV3CiAgICAgICAgcmV0dXJucygKICAgICAgICAgICAgYWRkcmVzc1tdIGZ1bmRBZGRycywKICAgICAgICAgICAgYWRkcmVzc1tdIGZ1bmRNYW5hZ2VycywKICAgICAgICAgICAgYm9vbFtdIGFyZUNvbXBldGluZywKICAgICAgICAgICAgYm9vbFtdIGFyZURpc3F1YWxpZmllZAogICAgICAgICkKICAgIHsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPD0gaG9wZWZ1bHMubGVuZ3RoIC0gMTsgaSsrKSB7CiAgICAgICAgICAgIGZ1bmRBZGRyc1tpXSA9IGhvcGVmdWxzW2ldLmZ1bmQ7CiAgICAgICAgICAgIGZ1bmRNYW5hZ2Vyc1tpXSA9IGhvcGVmdWxzW2ldLm1hbmFnZXI7CiAgICAgICAgICAgIGFyZUNvbXBldGluZ1tpXSA9IGhvcGVmdWxzW2ldLmlzQ29tcGV0aW5nOwogICAgICAgICAgICBhcmVEaXNxdWFsaWZpZWRbaV0gPSBob3BlZnVsc1tpXS5pc0Rpc3F1YWxpZmllZDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIChmdW5kQWRkcnMsIGZ1bmRNYW5hZ2VycywgYXJlQ29tcGV0aW5nLCBhcmVEaXNxdWFsaWZpZWQpOwogICAgfQoKICAgIC8vIE5PTi1DT05TVEFOVCBNRVRIT0RTCgogICAgZnVuY3Rpb24gQ29tcGV0aXRpb24oCiAgICAgICAgYWRkcmVzcyBvZk1lbG9uQXNzZXQsCiAgICAgICAgYWRkcmVzcyBvZk9yYWNsZSwKICAgICAgICBhZGRyZXNzIG9mQ2VydGlmaWVyLAogICAgICAgIHVpbnQgb2ZTdGFydFRpbWUsCiAgICAgICAgdWludCBvZk1heGJ1eWluUXVhbnRpdHksCiAgICAgICAgdWludCBvZk1heEhvcGVmdWxzTnVtYmVyCiAgICApIHsKICAgICAgICBNRUxPTl9BU1NFVCA9IG9mTWVsb25Bc3NldDsKICAgICAgICBNRUxPTl9DT05UUkFDVCA9IEVSQzIwSW50ZXJmYWNlKE1FTE9OX0FTU0VUKTsKICAgICAgICBvcmFjbGUgPSBvZk9yYWNsZTsKICAgICAgICBDRVJUSUZJRVIgPSBDZXJ0aWZpZXIob2ZDZXJ0aWZpZXIpOwogICAgICAgIHN0YXJ0VGltZSA9IG9mU3RhcnRUaW1lOwogICAgICAgIGVuZFRpbWUgPSBzdGFydFRpbWUgKyAyIHdlZWtzOwogICAgICAgIG1heGJ1eWluUXVhbnRpdHkgPSBvZk1heGJ1eWluUXVhbnRpdHk7CiAgICAgICAgbWF4SG9wZWZ1bHNOdW1iZXIgPSBvZk1heEhvcGVmdWxzTnVtYmVyOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFJlZ2lzdGVyIHRvIHRha2UgcGFydCBpbiB0aGUgY29tcGV0aXRpb24KICAgIC8vLyBAcGFyYW0gZnVuZCBBZGRyZXNzIG9mIHRoZSBNZWxvbiBmdW5kCiAgICAvLy8gQHBhcmFtIGJ1eWluQXNzZXQgQXNzZXQgKEVSQzIwIFRva2VuKSBzcGVudCB0byB0YWtlIHBhcnQgaW4gY29tcGV0aXRpb24KICAgIC8vLyBAcGFyYW0gcGF5b3V0QXNzZXQgQXNzZXQgKHVzdWFsbHkgTWVsb24gVG9rZW4pIHRvIGJlIHJlY2VpdmVkIGFzIHByaXplCiAgICAvLy8gQHBhcmFtIGJ1eWluUXVhbnRpdHkgUXVhbnRpdHkgb2YgYnV5aW5Bc3NldCBzcGVudAogICAgLy8vIEBwYXJhbSB2IGVsbGlwaXRjIGN1cnZlIHBhcmFtZXRlciB2CiAgICAvLy8gQHBhcmFtIHIgZWxsaXBpdGMgY3VydmUgcGFyYW1ldGVyIHIKICAgIC8vLyBAcGFyYW0gcyBlbGxpcGl0YyBjdXJ2ZSBwYXJhbWV0ZXIgcwogICAgZnVuY3Rpb24gcmVnaXN0ZXJGb3JDb21wZXRpdGlvbigKICAgICAgICBhZGRyZXNzIGZ1bmQsCiAgICAgICAgYWRkcmVzcyBtYW5hZ2VyLAogICAgICAgIGFkZHJlc3MgYnV5aW5Bc3NldCwKICAgICAgICBhZGRyZXNzIHBheW91dEFzc2V0LAogICAgICAgIGFkZHJlc3MgcGF5b3V0QWRkcmVzcywKICAgICAgICB1aW50IGJ1eWluUXVhbnRpdHksCiAgICAgICAgdWludDggdiwKICAgICAgICBieXRlczMyIHIsCiAgICAgICAgYnl0ZXMzMiBzCiAgICApCiAgICAgICAgcHJlX2NvbmQodGVybXNBbmRDb25kaXRpb25zQXJlU2lnbmVkKG1hbmFnZXIsIHYsIHIsIHMpICYmIGlzS1lDVmVyaWZpZWQobXNnLnNlbmRlcikpCiAgICAgICAgcHJlX2NvbmQocmVnaXN0ZXJlZEZ1bmRUb1JlZ2lzdHJhbnRzW2Z1bmRdID09IGFkZHJlc3MoMCkgJiYgcmVnaXN0cmFudFRvSG9wZWZ1bElkc1ttc2cuc2VuZGVyXS5leGlzdHMgPT0gZmFsc2UpCiAgICB7CiAgICAgICAgcmVxdWlyZShidXlpbkFzc2V0ID09IE1FTE9OX0FTU0VUICYmIHBheW91dEFzc2V0ID09IE1FTE9OX0FTU0VUKTsKICAgICAgICByZXF1aXJlKGJ1eWluUXVhbnRpdHkgPD0gbWF4YnV5aW5RdWFudGl0eSAmJiBob3BlZnVscy5sZW5ndGggPD0gbWF4SG9wZWZ1bHNOdW1iZXIpOwogICAgICAgIHJlZ2lzdGVyZWRGdW5kVG9SZWdpc3RyYW50c1tmdW5kXSA9IG1zZy5zZW5kZXI7CiAgICAgICAgcmVnaXN0cmFudFRvSG9wZWZ1bElkc1ttc2cuc2VuZGVyXSA9IEhvcGVmdWxJZCh7aWQ6IGhvcGVmdWxzLmxlbmd0aCwgZXhpc3RzOiB0cnVlfSk7CiAgICAgICAgUmVnaXN0ZXIoaG9wZWZ1bHMubGVuZ3RoLCBmdW5kLCBtc2cuc2VuZGVyKTsKICAgICAgICBob3BlZnVscy5wdXNoKEhvcGVmdWwoewogICAgICAgICAgZnVuZDogZnVuZCwKICAgICAgICAgIG1hbmFnZXI6IG1hbmFnZXIsCiAgICAgICAgICByZWdpc3RyYW50OiBtc2cuc2VuZGVyLAogICAgICAgICAgaGFzU2lnbmVkOiB0cnVlLAogICAgICAgICAgYnV5aW5Bc3NldDogYnV5aW5Bc3NldCwKICAgICAgICAgIHBheW91dEFzc2V0OiBwYXlvdXRBc3NldCwKICAgICAgICAgIHBheW91dEFkZHJlc3M6IHBheW91dEFkZHJlc3MsCiAgICAgICAgICBidXlpblF1YW50aXR5OiBidXlpblF1YW50aXR5LAogICAgICAgICAgcGF5b3V0UXVhbnRpdHk6IDAsCiAgICAgICAgICBpc0NvbXBldGluZzogdHJ1ZSwKICAgICAgICAgIGlzRGlzcXVhbGlmaWVkOiBmYWxzZSwKICAgICAgICAgIGZpbmFsU2hhcmVQcmljZTogMCwKICAgICAgICAgIGZpbmFsQ29tcGV0aXRpb25SYW5rOiAwCiAgICAgICAgfSkpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIERpc3F1YWxpZnkgYW5kIHBhcnRpY2lwYW50CiAgICAvLy8gQGRldiBPbmx5IHRoZSBvcmFjbGUgY2FuIGNhbGwgdGhpcyBmdW5jdGlvbgogICAgLy8vIEBwYXJhbSB3aXRoSWQgSW5kZXggb2YgSG9wZWZ1bCB0byBkaXNxdWFsaWZ5CiAgICBmdW5jdGlvbiBkaXNxdWFsaWZ5SG9wZWZ1bCgKICAgICAgICB1aW50IHdpdGhJZAogICAgKQogICAgICAgIHByZV9jb25kKGlzT3JhY2xlKCkpCiAgICB7CiAgICAgICAgaG9wZWZ1bHNbd2l0aElkXS5pc0Rpc3F1YWxpZmllZCA9IHRydWU7CiAgICB9CgogICAgLy8vIEBub3RpY2UgQ2xvc2luZyBvcmFjbGUgc2VydmljZSwgaW5wdXRzIGZpbmFsIHN0YXRzIGFuZCB0cmlnZ2VycyBwYXlvdXRzCiAgICAvLy8gQGRldiBPbmx5IHRoZSBvcmFjbGUgY2FuIGNhbGwgdGhpcyBmdW5jdGlvbgogICAgLy8vIEBwYXJhbSB3aXRoSWQgSW5kZXggb2YgSG9wZWZ1bCB0byBiZSBhdHRlc3QgZm9yCiAgICAvLy8gQHBhcmFtIHBheW91dFF1YW50aXR5IFF1YW50aXR5IG9mIHBheW91dEFzc2V0IHJlY2VpdmVkIGFzIHByaXplCiAgICAvLy8gQHBhcmFtIGZpbmFsU2hhcmVQcmljZSBQZXJmb3JtYW5jZSBvZiBNZWxvbiBmdW5kIGF0IGNvbXBldGl0aW9uIGVuZFRpbWU7IENhbiBiZSBjaGFuZ2VkIGZvciBhbnkgb3RoZXIgY29tcGFyaXNvbiBtZXRyaWMKICAgIC8vLyBAcGFyYW0gZmluYWxDb21wZXRpdGlvblJhbmsgUmFuayBvZiBIb3BlZnVsIGF0IGVuZCBvZiBjb21wZXRpdGlvbjsgQ2FsY3VsYXRlIGJ5IGxvZ2ljIGFzIHNldCBpbiB0ZXJtcyBhbmQgY29uZGl0aW9ucwogICAgZnVuY3Rpb24gZmluYWxpemVBbmRQYXlvdXRGb3JIb3BlZnVsKAogICAgICAgIHVpbnQgd2l0aElkLAogICAgICAgIHVpbnQgcGF5b3V0UXVhbnRpdHksIC8vIFF1YW50aXR5IG9mIHBheW91dEFzc2V0IHJlY2VpdmVkIGFzIHByaXplCiAgICAgICAgdWludCBmaW5hbFNoYXJlUHJpY2UsIC8vIFBlcmZvcm1hbmNlIG9mIE1lbG9uIGZ1bmQgYXQgY29tcGV0aXRpb24gZW5kVGltZTsgQ2FuIGJlIGNoYW5nZWQgZm9yIGFueSBvdGhlciBjb21wYXJpc29uIG1ldHJpYwogICAgICAgIHVpbnQgZmluYWxDb21wZXRpdGlvblJhbmsgLy8gUmFuayBvZiBIb3BlZnVsIGF0IGVuZCBvZiBjb21wZXRpdGlvbjsgQ2FsY3VsYXRlIGJ5IGxvZ2ljIGFzIHNldCBpbiB0ZXJtcyBhbmQgY29uZGl0aW9ucwogICAgKQogICAgICAgIHByZV9jb25kKGlzT3JhY2xlKCkpCiAgICAgICAgcHJlX2NvbmQoaG9wZWZ1bHNbd2l0aElkXS5pc0Rpc3F1YWxpZmllZCA9PSBmYWxzZSkKICAgICAgICBwcmVfY29uZChibG9jay50aW1lc3RhbXAgPj0gZW5kVGltZSkKICAgIHsKICAgICAgICBob3BlZnVsc1t3aXRoSWRdLmZpbmFsU2hhcmVQcmljZSA9IGZpbmFsU2hhcmVQcmljZTsKICAgICAgICBob3BlZnVsc1t3aXRoSWRdLmZpbmFsQ29tcGV0aXRpb25SYW5rID0gZmluYWxDb21wZXRpdGlvblJhbms7CiAgICAgICAgaG9wZWZ1bHNbd2l0aElkXS5wYXlvdXRRdWFudGl0eSA9IHBheW91dFF1YW50aXR5OwogICAgICAgIHJlcXVpcmUoTUVMT05fQ09OVFJBQ1QudHJhbnNmZXIoaG9wZWZ1bHNbd2l0aElkXS5yZWdpc3RyYW50LCBwYXlvdXRRdWFudGl0eSkpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIENoYW5nZXMgY2VydGlmaWVyIGNvbnRyYWN0IGFkZHJlc3MKICAgIC8vLyBAZGV2IE9ubHkgdGhlIG9yYWNsZSBjYW4gY2FsbCB0aGlzIGZ1bmN0aW9uCiAgICAvLy8gQHBhcmFtIG5ld0NlcnRpZmllciBBZGRyZXNzIG9mIHRoZSBuZXcgY2VydGlmaWVyCiAgICBmdW5jdGlvbiBjaGFuZ2VDZXJ0aWZpZXIoCiAgICAgICAgYWRkcmVzcyBuZXdDZXJ0aWZpZXIKICAgICkKICAgICAgICBwcmVfY29uZChpc09yYWNsZSgpKQogICAgewogICAgICAgIENFUlRJRklFUiA9IENlcnRpZmllcihuZXdDZXJ0aWZpZXIpOwogICAgfQoKfQoKY29udHJhY3QgRVJDMjBJbnRlcmZhY2UgewoKICAgIC8vIEVWRU5UUwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7CgogICAgLy8gQ09OU1RBTlQgTUVUSE9EUwoKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB0b3RhbFN1cHBseSkge30KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7fQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykge30KCiAgICAvLyBOT04tQ09OU1RBTlQgTUVUSE9EUwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQp9Cgpjb250cmFjdCBPd25lZCB7Cgltb2RpZmllciBvbmx5X293bmVyIHsgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHJldHVybjsgXzsgfQoKCWV2ZW50IE5ld093bmVyKGFkZHJlc3MgaW5kZXhlZCBvbGQsIGFkZHJlc3MgaW5kZXhlZCBjdXJyZW50KTsKCglmdW5jdGlvbiBzZXRPd25lcihhZGRyZXNzIF9uZXcpIG9ubHlfb3duZXIgeyBOZXdPd25lcihvd25lciwgX25ldyk7IG93bmVyID0gX25ldzsgfQoKCWFkZHJlc3MgcHVibGljIG93bmVyID0gbXNnLnNlbmRlcjsKfQoKY29udHJhY3QgQ2VydGlmaWVyIHsKCWV2ZW50IENvbmZpcm1lZChhZGRyZXNzIGluZGV4ZWQgd2hvKTsKCWV2ZW50IFJldm9rZWQoYWRkcmVzcyBpbmRleGVkIHdobyk7CglmdW5jdGlvbiBjZXJ0aWZpZWQoYWRkcmVzcyBfd2hvKSBjb25zdGFudCByZXR1cm5zIChib29sKTsKCWZ1bmN0aW9uIGdldChhZGRyZXNzIF93aG8sIHN0cmluZyBfZmllbGQpIGNvbnN0YW50IHJldHVybnMgKGJ5dGVzMzIpIHt9CglmdW5jdGlvbiBnZXRBZGRyZXNzKGFkZHJlc3MgX3dobywgc3RyaW5nIF9maWVsZCkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykge30KCWZ1bmN0aW9uIGdldFVpbnQoYWRkcmVzcyBfd2hvLCBzdHJpbmcgX2ZpZWxkKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7fQp9Cgpjb250cmFjdCBTaW1wbGVDZXJ0aWZpZXIgaXMgT3duZWQsIENlcnRpZmllciB7Cgltb2RpZmllciBvbmx5X2RlbGVnYXRlIHsgaWYgKG1zZy5zZW5kZXIgIT0gZGVsZWdhdGUpIHJldHVybjsgXzsgfQoJbW9kaWZpZXIgb25seV9jZXJ0aWZpZWQoYWRkcmVzcyBfd2hvKSB7IGlmICghY2VydHNbX3dob10uYWN0aXZlKSByZXR1cm47IF87IH0KCglzdHJ1Y3QgQ2VydGlmaWNhdGlvbiB7CgkJYm9vbCBhY3RpdmU7CgkJbWFwcGluZyAoc3RyaW5nID0+IGJ5dGVzMzIpIG1ldGE7Cgl9CgoJZnVuY3Rpb24gY2VydGlmeShhZGRyZXNzIF93aG8pIG9ubHlfZGVsZWdhdGUgewoJCWNlcnRzW193aG9dLmFjdGl2ZSA9IHRydWU7CgkJQ29uZmlybWVkKF93aG8pOwoJfQoJZnVuY3Rpb24gcmV2b2tlKGFkZHJlc3MgX3dobykgb25seV9kZWxlZ2F0ZSBvbmx5X2NlcnRpZmllZChfd2hvKSB7CgkJY2VydHNbX3dob10uYWN0aXZlID0gZmFsc2U7CgkJUmV2b2tlZChfd2hvKTsKCX0KCWZ1bmN0aW9uIGNlcnRpZmllZChhZGRyZXNzIF93aG8pIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsgcmV0dXJuIGNlcnRzW193aG9dLmFjdGl2ZTsgfQoJZnVuY3Rpb24gZ2V0KGFkZHJlc3MgX3dobywgc3RyaW5nIF9maWVsZCkgY29uc3RhbnQgcmV0dXJucyAoYnl0ZXMzMikgeyByZXR1cm4gY2VydHNbX3dob10ubWV0YVtfZmllbGRdOyB9CglmdW5jdGlvbiBnZXRBZGRyZXNzKGFkZHJlc3MgX3dobywgc3RyaW5nIF9maWVsZCkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgeyByZXR1cm4gYWRkcmVzcyhjZXJ0c1tfd2hvXS5tZXRhW19maWVsZF0pOyB9CglmdW5jdGlvbiBnZXRVaW50KGFkZHJlc3MgX3dobywgc3RyaW5nIF9maWVsZCkgY29uc3RhbnQgcmV0dXJucyAodWludCkgeyByZXR1cm4gdWludChjZXJ0c1tfd2hvXS5tZXRhW19maWVsZF0pOyB9CglmdW5jdGlvbiBzZXREZWxlZ2F0ZShhZGRyZXNzIF9uZXcpIG9ubHlfb3duZXIgeyBkZWxlZ2F0ZSA9IF9uZXc7IH0KCgltYXBwaW5nIChhZGRyZXNzID0+IENlcnRpZmljYXRpb24pIGNlcnRzOwoJLy8gU28gdGhhdCB0aGUgc2VydmVyIHBvc3RpbmcgcHV6emxlcyBkb2Vzbid0IGhhdmUgYWNjZXNzIHRvIHRoZSBFVEguCglhZGRyZXNzIHB1YmxpYyBkZWxlZ2F0ZSA9IG1zZy5zZW5kZXI7Cn0='.
	

]
