Class {
	#name : #SRTf4873530d48d3948c1d25fd6a58b0238751ca6ba,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTf4873530d48d3948c1d25fd6a58b0238751ca6ba >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuNjsKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vICBSIFNwbGl0IENvbnRyYWN0Ci8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvbnRyYWN0IFJTUExUX0UgewogICAgICAgIGV2ZW50IFN0YXRFdmVudChzdHJpbmcgbXNnKTsKICAgICAgICBldmVudCBTdGF0RXZlbnRJKHN0cmluZyBtc2csIHVpbnQgdmFsKTsKCiAgICAgICAgZW51bSBTZXR0aW5nU3RhdGVWYWx1ZSAge2RlYnVnLCBsb2NrZWR9CgogICAgICAgIHN0cnVjdCBwYXJ0bmVyQWNjb3VudCB7CiAgICAgICAgICAgICAgICB1aW50IGNyZWRpdGVkOyAgLy8gdG90YWwgZnVuZHMgY3JlZGl0ZWQgdG8gdGhpcyBhY2NvdW50CiAgICAgICAgICAgICAgICB1aW50IGJhbGFuY2U7ICAgLy8gY3VycmVudCBiYWxhbmNlID0gY3JlZGl0ZWQgLSBhbW91bnQgd2l0aGRyYXduCiAgICAgICAgICAgICAgICB1aW50IHBjdHgxMDsgICAgIC8vIHBlcmNlbnQgYWxsb2NhdGlvbiB0aW1lcyB0ZW4KICAgICAgICAgICAgICAgIGFkZHJlc3MgYWRkcjsgICAvLyBwYXlvdXQgYWRkciBvZiB0aGlzIGFjY3QKICAgICAgICAgICAgICAgIGJvb2wgZXZlblN0YXJ0OyAvLyBldmVuIHNwbGl0IHVwIHRvIGV2ZW5EaXN0VGhyZXNoCiAgICAgICAgfQoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gIGRhdGEgc3RvcmFnZQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkZXBsb3llciBleGVjdXRvcgogICAgICAgIG1hcHBpbmcgKHVpbnQgPT4gcGFydG5lckFjY291bnQpIHBhcnRuZXJBY2NvdW50czsgICAgLy8gYWNjb3VudHMgYnkgaW5kZXgKICAgICAgICB1aW50IHB1YmxpYyBudW1BY2NvdW50czsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhvdyBtYW55IGFjY291bnRzIGV4aXN0CiAgICAgICAgdWludCBwdWJsaWMgaG9sZG92ZXJCYWxhbmNlOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbW91bnQgeWV0IHRvIGJlIGRpc3RyaWJ1dGVkCiAgICAgICAgdWludCBwdWJsaWMgdG90YWxGdW5kc1JlY2VpdmVkOyAgICAgICAgICAgICAgICAgICAgICAvLyBhbW91bnQgcmVjZWl2ZWQgc2luY2UgYmVnaW4gb2YgdGltZQogICAgICAgIHVpbnQgcHVibGljIHRvdGFsRnVuZHNEaXN0cmlidXRlZDsgICAgICAgICAgICAgICAgICAgLy8gYW1vdW50IGRpc3RyaWJ1dGVkIHNpbmNlIGJlZ2luIG9mIHRpbWUKICAgICAgICB1aW50IHB1YmxpYyBldmVuRGlzdFRocmVzaDsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpc3RyaWJ1dGUgZXZlbmx5IHVudGlsIHRoaXMgYW1vdW50ICh0b3RhbCkKICAgICAgICB1aW50IHB1YmxpYyB3aXRoZHJhd0dhcyA9IDM1MDAwOyAgICAgICAgICAgICAgICAgICAgIC8vIGdhcyBmb3Igd2l0aGRyYXdhbHMKICAgICAgICB1aW50IGNvbnN0YW50IFRFTkhVTkRXRUkgPSAxMDAwOyAgICAgICAgICAgICAgICAgICAgIC8vIG5lZWQgZ3QuIDEwMDAgd2VpIHRvIGRvIHBheW91dAoKICAgICAgICBTZXR0aW5nU3RhdGVWYWx1ZSBwdWJsaWMgc2V0dGluZ3NTdGF0ZSA9IFNldHRpbmdTdGF0ZVZhbHVlLmRlYnVnOyAKCgogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgLy8gY29udHJhY3QgY29uc3RydWN0b3IKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIGZ1bmN0aW9uIFJTUExUX0UoKSB7CiAgICAgICAgICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgfQoKCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAvLyBsb2NrCiAgICAgICAgLy8gbG9jayB0aGUgY29udHJhY3QuIGFmdGVyIGNhbGxpbmcgdGhpcyB5b3Ugd2lsbCBub3QgYmUgYWJsZSB0byBtb2RpZnkgYWNjb3VudHM6CiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICBmdW5jdGlvbiBsb2NrKCkgewogICAgICAgICAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgU3RhdEV2ZW50KCJlcnI6IG5vdCBvd25lciIpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3NTdGF0ZSA9PSBTZXR0aW5nU3RhdGVWYWx1ZS5sb2NrZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgU3RhdEV2ZW50KCJlcnI6IGxvY2tlZCIpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzZXR0aW5nc1N0YXRlID09IFNldHRpbmdTdGF0ZVZhbHVlLmxvY2tlZDsKICAgICAgICAgICAgICAgIFN0YXRFdmVudCgib2s6IGNvbnRyYWN0IGxvY2tlZCIpOwogICAgICAgIH0KCgogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgLy8gcmVzZXQKICAgICAgICAvLyByZXNldCBhbGwgYWNjb3VudHMKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICAgICAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgU3RhdEV2ZW50KCJlcnI6IG5vdCBvd25lciIpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3NTdGF0ZSA9PSBTZXR0aW5nU3RhdGVWYWx1ZS5sb2NrZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgU3RhdEV2ZW50KCJlcnI6IGxvY2tlZCIpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBudW1BY2NvdW50cyA9IDA7CiAgICAgICAgICAgICAgICBob2xkb3ZlckJhbGFuY2UgPSAwOwogICAgICAgICAgICAgICAgdG90YWxGdW5kc1JlY2VpdmVkID0gMDsKICAgICAgICAgICAgICAgIHRvdGFsRnVuZHNEaXN0cmlidXRlZCA9IDA7CiAgICAgICAgICAgICAgICBTdGF0RXZlbnQoIm9rOiBhbGwgYWNjdHMgcmVzZXQiKTsKICAgICAgICB9CgoKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIC8vIHNldCBldmVuIGRpc3RyaWJ1dGlvbiB0aHJlc2hvbGQKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIGZ1bmN0aW9uIHNldEV2ZW5EaXN0VGhyZXNoKHVpbnQyNTYgX3RocmVzaCkgewogICAgICAgICAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgU3RhdEV2ZW50KCJlcnI6IG5vdCBvd25lciIpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3NTdGF0ZSA9PSBTZXR0aW5nU3RhdGVWYWx1ZS5sb2NrZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgU3RhdEV2ZW50KCJlcnI6IGxvY2tlZCIpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBldmVuRGlzdFRocmVzaCA9IChfdGhyZXNoIC8gVEVOSFVORFdFSSkgKiBURU5IVU5EV0VJOwogICAgICAgICAgICAgICAgU3RhdEV2ZW50SSgib2s6IHRocmVzaG9sZCBzZXQiLCBldmVuRGlzdFRocmVzaCk7CiAgICAgICAgfQoKCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAvLyBzZXQgZXZlbiBkaXN0cmlidXRpb24gdGhyZXNob2xkCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICBmdW5jdGlvbiBzZXRXaXRkcmF3R2FzKHVpbnQyNTYgX3dpdGhkcmF3R2FzKSB7CiAgICAgICAgICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgewogICAgICAgICAgICAgICAgICAgICAgICBTdGF0RXZlbnQoImVycjogbm90IG93bmVyIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdpdGhkcmF3R2FzID0gX3dpdGhkcmF3R2FzOwogICAgICAgICAgICAgICAgU3RhdEV2ZW50SSgib2s6IHdpdGhkcmF3IGdhcyBzZXQiLCB3aXRoZHJhd0dhcyk7CiAgICAgICAgfQoKCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgLy8gYWRkIGEgbmV3IGFjY291bnQKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICBmdW5jdGlvbiBhZGRBY2NvdW50KGFkZHJlc3MgX2FkZHIsIHVpbnQyNTYgX3BjdHgxMCwgYm9vbCBfZXZlblN0YXJ0KSB7CiAgICAgICAgICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgewogICAgICAgICAgICAgICAgICAgICAgICBTdGF0RXZlbnQoImVycjogbm90IG93bmVyIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nc1N0YXRlID09IFNldHRpbmdTdGF0ZVZhbHVlLmxvY2tlZCkgewogICAgICAgICAgICAgICAgICAgICAgICBTdGF0RXZlbnQoImVycjogbG9ja2VkIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHBhcnRuZXJBY2NvdW50c1tudW1BY2NvdW50c10uYWRkciA9IF9hZGRyOwogICAgICAgICAgICAgICAgcGFydG5lckFjY291bnRzW251bUFjY291bnRzXS5wY3R4MTAgPSBfcGN0eDEwOwogICAgICAgICAgICAgICAgcGFydG5lckFjY291bnRzW251bUFjY291bnRzXS5ldmVuU3RhcnQgPSBfZXZlblN0YXJ0OwogICAgICAgICAgICAgICAgcGFydG5lckFjY291bnRzW251bUFjY291bnRzXS5jcmVkaXRlZCA9IDA7CiAgICAgICAgICAgICAgICBwYXJ0bmVyQWNjb3VudHNbbnVtQWNjb3VudHNdLmJhbGFuY2UgPSAwOwogICAgICAgICAgICAgICAgKytudW1BY2NvdW50czsKICAgICAgICAgICAgICAgIFN0YXRFdmVudCgib2s6IGFjY3QgYWRkZWQiKTsKICAgICAgICB9CgoKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgLy8gZ2V0IGFjY3QgaW5mbwogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICBmdW5jdGlvbiBnZXRBY2NvdW50SW5mbyhhZGRyZXNzIF9hZGRyKSBjb25zdGFudCByZXR1cm5zKHVpbnQgX2lkeCwgdWludCBfcGN0eDEwLCBib29sIF9ldmVuU3RhcnQsIHVpbnQgX2NyZWRpdGVkLCB1aW50IF9iYWxhbmNlKSB7CiAgICAgICAgICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBudW1BY2NvdW50czsgaSsrICkgewogICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzIGFkZHIgPSBwYXJ0bmVyQWNjb3VudHNbaV0uYWRkcjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFkZHIgPT0gX2FkZHIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWR4ID0gaTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGN0eDEwID0gcGFydG5lckFjY291bnRzW2ldLnBjdHgxMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZXZlblN0YXJ0ID0gcGFydG5lckFjY291bnRzW2ldLmV2ZW5TdGFydDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY3JlZGl0ZWQgPSBwYXJ0bmVyQWNjb3VudHNbaV0uY3JlZGl0ZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2JhbGFuY2UgPSBwYXJ0bmVyQWNjb3VudHNbaV0uYmFsYW5jZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGF0RXZlbnQoIm9rOiBmb3VuZCBhY2N0Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBTdGF0RXZlbnQoImVycjogYWNjdCBub3QgZm91bmQiKTsKICAgICAgICB9CgoKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgLy8gZ2V0IHRvdGFsIHBlcmNlbnRhZ2VzIHgyCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIGZ1bmN0aW9uIGdldFRvdGFsUGN0eDEwKCkgY29uc3RhbnQgcmV0dXJucyh1aW50IF90b3RhbFBjdHgxMCkgewogICAgICAgICAgICAgICAgX3RvdGFsUGN0eDEwID0gMDsKICAgICAgICAgICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IG51bUFjY291bnRzOyBpKysgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90b3RhbFBjdHgxMCArPSBwYXJ0bmVyQWNjb3VudHNbaV0ucGN0eDEwOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgU3RhdEV2ZW50SSgib2s6IHRvdGFsIHBjdHgxMCIsIF90b3RhbFBjdHgxMCk7CiAgICAgICAgfQoKCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIC8vIGRlZmF1bHQgcGF5YWJsZSBmdW5jdGlvbi4KICAgICAgICAvLyBjYWxsIHVzIHdpdGggcGxlbnR5IG9mIGdhcywgb3IgY2F0YXN0cm9waGUgd2lsbCBlbnN1ZQogICAgICAgIC8vIG5vdGU6IHlvdSBjYW4gY2FsbCB0aGlzIGZjbiB3aXRoIGFtb3VudCBvZiB6ZXJvIHRvIGZvcmNlIGRpc3RyaWJ1dGlvbgogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsKICAgICAgICAgICAgICAgIHRvdGFsRnVuZHNSZWNlaXZlZCArPSBtc2cudmFsdWU7CiAgICAgICAgICAgICAgICBob2xkb3ZlckJhbGFuY2UgKz0gbXNnLnZhbHVlOwogICAgICAgIH0KCgogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAvLyBkaXN0cmlidXRlIGZ1bmRzIHRvIGFsbCBwYXJ0bmVycwogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICBmdW5jdGlvbiBkaXN0cmlidXRlKCkgewogICAgICAgICAgICAgICAgLy9vbmx5IHBheW91dCBpZiB3ZSBoYXZlIG1vcmUgdGhhbiAxMDAwIHdlaQogICAgICAgICAgICAgICAgaWYgKGhvbGRvdmVyQmFsYW5jZSA8IFRFTkhVTkRXRUkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy9maXJzdCBwYXkgYWNjb3VudHMgdGhhdCBhcmUgbm90IGNvbnN0cmFpbmVkIGJ5IGV2ZW4gZGlzdHJpYnV0aW9uCiAgICAgICAgICAgICAgICAvL2VhY2ggYWNjb3VudCBnZXRzIHRoZWlyIHByZXNjcmliZWQgcGVyY2VudGFnZSBvZiB0aGlzIGhvbGRvdmVyLgogICAgICAgICAgICAgICAgdWludCBpOwogICAgICAgICAgICAgICAgdWludCBwY3R4MTA7CiAgICAgICAgICAgICAgICB1aW50IGFjY3REaXN0OwogICAgICAgICAgICAgICAgdWludCBtYXhBY2N0RGlzdDsKICAgICAgICAgICAgICAgIHVpbnQgbnVtRXZlblNwbGl0cyA9IDA7CiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbnVtQWNjb3VudHM7IGkrKyApIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRuZXJBY2NvdW50c1tpXS5ldmVuU3RhcnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArK251bUV2ZW5TcGxpdHM7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGN0eDEwID0gcGFydG5lckFjY291bnRzW2ldLnBjdHgxMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2N0RGlzdCA9IGhvbGRvdmVyQmFsYW5jZSAqIHBjdHgxMCAvIFRFTkhVTkRXRUk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy93ZSBhbHNvIGRvdWJsZSBjaGVjayB0byBlbnN1cmUgdGhhdCB0aGUgYW1vdW50IGF3YXJkZWQgY2Fubm90IGV4Y2VlZCB0aGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RvdGFsIGFtb3VudCBkdWUgdG8gdGhpcyBhY2N0LiBub3RlOiB0aGlzIGNoZWNrIGlzIG5lY2Vzc2FyeSwgY3V6IGhlcmUgd2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21pZ2h0IG5vdCBkaXN0cmlidXRlIHRoZSBmdWxsIGhvbGRvdmVyIGFtb3VudCBkdXJpbmcgZWFjaCBwYXNzLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEFjY3REaXN0ID0gdG90YWxGdW5kc1JlY2VpdmVkICogcGN0eDEwIC8gVEVOSFVORFdFSTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydG5lckFjY291bnRzW2ldLmNyZWRpdGVkID49IG1heEFjY3REaXN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2N0RGlzdCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0bmVyQWNjb3VudHNbaV0uY3JlZGl0ZWQgKyBhY2N0RGlzdCA+IG1heEFjY3REaXN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2N0RGlzdCA9IG1heEFjY3REaXN0IC0gcGFydG5lckFjY291bnRzW2ldLmNyZWRpdGVkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0bmVyQWNjb3VudHNbaV0uY3JlZGl0ZWQgKz0gYWNjdERpc3Q7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydG5lckFjY291bnRzW2ldLmJhbGFuY2UgKz0gYWNjdERpc3Q7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxGdW5kc0Rpc3RyaWJ1dGVkICs9IGFjY3REaXN0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvbGRvdmVyQmFsYW5jZSAtPSBhY2N0RGlzdDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy9ub3cgcGF5IGFjY291bnRzIHRoYXQgYXJlIGNvbnN0cmFpbmVkIGJ5IGV2ZW4gZGlzdHJpYnV0aW9uLiB3ZSBzcGxpdCB3aGF0ZXZlciBpcwogICAgICAgICAgICAgICAgLy9sZWZ0IG9mIHRoZSBob2xkb3ZlciBldmVubHkuCiAgICAgICAgICAgICAgICB1aW50IGRpc3RBbW91bnQgPSBob2xkb3ZlckJhbGFuY2U7CiAgICAgICAgICAgICAgICBpZiAodG90YWxGdW5kc0Rpc3RyaWJ1dGVkIDwgZXZlbkRpc3RUaHJlc2gpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG51bUFjY291bnRzOyBpKysgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRuZXJBY2NvdW50c1tpXS5ldmVuU3RhcnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY3REaXN0ID0gZGlzdEFtb3VudCAvIG51bUV2ZW5TcGxpdHM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3dlIGFsc28gZG91YmxlIGNoZWNrIHRvIGVuc3VyZSB0aGF0IHRoZSBhbW91bnQgYXdhcmRlZCBjYW5ub3QgZXhjZWVkIHRoZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90b3RhbCBhbW91bnQgZHVlIHRvIHRoaXMgYWNjdC4gbm90ZTogdGhpcyBjaGVjayBpcyBuZWNlc3NhcnksIGN1eiBoZXJlIHdlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21pZ2h0IG5vdCBkaXN0cmlidXRlIHRoZSBmdWxsIGhvbGRvdmVyIGFtb3VudCBkdXJpbmcgZWFjaCBwYXNzLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludCBmdW5kTGltaXQgPSB0b3RhbEZ1bmRzUmVjZWl2ZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnVuZExpbWl0ID4gZXZlbkRpc3RUaHJlc2gpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmRMaW1pdCA9IGV2ZW5EaXN0VGhyZXNoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4QWNjdERpc3QgPSBmdW5kTGltaXQgLyBudW1FdmVuU3BsaXRzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRuZXJBY2NvdW50c1tpXS5jcmVkaXRlZCA+PSBtYXhBY2N0RGlzdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2N0RGlzdCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnRuZXJBY2NvdW50c1tpXS5jcmVkaXRlZCArIGFjY3REaXN0ID4gbWF4QWNjdERpc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjdERpc3QgPSBtYXhBY2N0RGlzdCAtIHBhcnRuZXJBY2NvdW50c1tpXS5jcmVkaXRlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRuZXJBY2NvdW50c1tpXS5jcmVkaXRlZCArPSBhY2N0RGlzdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRuZXJBY2NvdW50c1tpXS5iYWxhbmNlICs9IGFjY3REaXN0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxGdW5kc0Rpc3RyaWJ1dGVkICs9IGFjY3REaXN0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9sZG92ZXJCYWxhbmNlIC09IGFjY3REaXN0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy9ub3csIGlmIHRoZXJlIGFyZSBhbnkgZnVuZHMgbGVmdCAoYmVjYXVzZSBvZiBhIHJlbWFpbmRlciBpbiB0aGUgZXZlbiBzcGxpdCksIHRoZW4gZGlzdHJpYnV0ZSB0aGVtCiAgICAgICAgICAgICAgICAvL2FjY29yZGluZyB0byBwZXJjZW50YWdlcy4gbm90ZSB0aGF0IHRoaXMgbXVzdCBiZSBkb25lIGhlcmUsIGV2ZW4gaWYgd2UgaGF2ZW4ndCBwYXNzZWQgdGhlIGV2ZW4gZGlzdHJpYnV0aW9uCiAgICAgICAgICAgICAgICAvL3RocmVzaG9sZCwgdG8gZW5zdXJlIHRoYXQgd2UgZG9uJ3QgZ2V0IHN0dWNrIHdpdGggYSByZW1haW5kZXIgYW1vdW50IHRoYXQgY2Fubm90IGJlIGRpc3RyaWJ1dGVkLgogICAgICAgICAgICAgICAgZGlzdEFtb3VudCA9IGhvbGRvdmVyQmFsYW5jZTsKICAgICAgICAgICAgICAgIGlmIChkaXN0QW1vdW50ID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbnVtQWNjb3VudHM7IGkrKyApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydG5lckFjY291bnRzW2ldLmV2ZW5TdGFydCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGN0eDEwID0gcGFydG5lckFjY291bnRzW2ldLnBjdHgxMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY3REaXN0ID0gZGlzdEFtb3VudCAqIHBjdHgxMCAvIFRFTkhVTkRXRUk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3dlIGFsc28gZG91YmxlIGNoZWNrIHRvIGVuc3VyZSB0aGF0IHRoZSBhbW91bnQgYXdhcmRlZCBjYW5ub3QgZXhjZWVkIHRoZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90b3RhbCBhbW91bnQgZHVlIHRvIHRoaXMgYWNjdC4gbm90ZTogdGhpcyBjaGVjayBpcyBuZWNlc3NhcnksIGN1eiBoZXJlIHdlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21pZ2h0IG5vdCBkaXN0cmlidXRlIHRoZSBmdWxsIGhvbGRvdmVyIGFtb3VudCBkdXJpbmcgZWFjaCBwYXNzLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4QWNjdERpc3QgPSB0b3RhbEZ1bmRzUmVjZWl2ZWQgKiBwY3R4MTAgLyBURU5IVU5EV0VJOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRuZXJBY2NvdW50c1tpXS5jcmVkaXRlZCA+PSBtYXhBY2N0RGlzdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2N0RGlzdCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnRuZXJBY2NvdW50c1tpXS5jcmVkaXRlZCArIGFjY3REaXN0ID4gbWF4QWNjdERpc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjdERpc3QgPSBtYXhBY2N0RGlzdCAtIHBhcnRuZXJBY2NvdW50c1tpXS5jcmVkaXRlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRuZXJBY2NvdW50c1tpXS5jcmVkaXRlZCArPSBhY2N0RGlzdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRuZXJBY2NvdW50c1tpXS5iYWxhbmNlICs9IGFjY3REaXN0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxGdW5kc0Rpc3RyaWJ1dGVkICs9IGFjY3REaXN0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9sZG92ZXJCYWxhbmNlIC09IGFjY3REaXN0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgU3RhdEV2ZW50KCJvazogZGlzdHJpYnV0ZWQgZnVuZHMiKTsKICAgICAgICB9CgoKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgLy8gd2l0aGRyYXcgYWNjb3VudCBiYWxhbmNlCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIGZ1bmN0aW9uIHdpdGhkcmF3KCkgewogICAgICAgICAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgbnVtQWNjb3VudHM7IGkrKyApIHsKICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyBhZGRyID0gcGFydG5lckFjY291bnRzW2ldLmFkZHI7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZGRyID09IG1zZy5zZW5kZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50IGFtb3VudCA9IHBhcnRuZXJBY2NvdW50c1tpXS5iYWxhbmNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbW91bnQgPT0gMCkgeyAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRFdmVudCgiZXJyOiBiYWxhbmNlIGlzIHplcm8iKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydG5lckFjY291bnRzW2ldLmJhbGFuY2UgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtc2cuc2VuZGVyLmNhbGwuZ2FzKHdpdGhkcmF3R2FzKS52YWx1ZShhbW91bnQpKCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhdEV2ZW50SSgib2s6IHJld2FyZHMgcGFpZCIsIGFtb3VudCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgfQoKCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIC8vIHN1aWNpZGUKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgZnVuY3Rpb24gaGFyaUthcmkoKSB7CiAgICAgICAgICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgewogICAgICAgICAgICAgICAgICAgICAgICBTdGF0RXZlbnQoImVycjogbm90IG93bmVyIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nc1N0YXRlID09IFNldHRpbmdTdGF0ZVZhbHVlLmxvY2tlZCkgewogICAgICAgICAgICAgICAgICAgICAgICBTdGF0RXZlbnQoImVycjogbG9ja2VkIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHN1aWNpZGUob3duZXIpOwogICAgICAgIH0KCn0='.
	

]
