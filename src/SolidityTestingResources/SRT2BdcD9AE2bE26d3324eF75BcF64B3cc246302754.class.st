Class {
	#name : #SRT2BdcD9AE2bE26d3324eF75BcF64B3cc246302754,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT2BdcD9AE2bE26d3324eF75BcF64B3cc246302754 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKioKICogTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcwogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGlmICgoYSA9PSAwKSB8fCAoYyAvIGEgPT0gYikpIHsKICAgICAgcmV0dXJuIGM7CiAgICB9CiAgICByZXZlcnQoKTsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICBpZiAoYSA9PSBiICogYyArIGEgJSBiKSB7CiAgICAgIHJldHVybiBjOwogICAgfQogICAgcmV2ZXJ0KCk7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmIChiIDw9IGEpIHsKICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQogICAgcmV2ZXJ0KCk7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgaWYgKGMgPj0gYSkgewogICAgICByZXR1cm4gYzsKICAgIH0KICAgIHJldmVydCgpOwogIH0KCiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCn0KCi8qCiAqIE93bmFibGUKICoKICogQmFzZSBjb250cmFjdCB3aXRoIGFuIG93bmVyLgogKiBQcm92aWRlcyBvbmx5T3duZXIgbW9kaWZpZXIsIHdoaWNoIHByZXZlbnRzIGZ1bmN0aW9uIGZyb20gcnVubmluZyBpZiBpdCBpcyBjYWxsZWQgYnkgYW55b25lIG90aGVyIHRoYW4gdGhlIG93bmVyLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgewogICAgICByZXZlcnQoKTsKICAgIH0KICAgIF87CiAgfQoKICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9Cgp9CgovKgogKiBIYWx0YWJsZQogKgogKiBBYnN0cmFjdCBjb250cmFjdCB0aGF0IGFsbG93cyBjaGlsZHJlbiB0byBpbXBsZW1lbnQgYW4KICogZW1lcmdlbmN5IHN0b3AgbWVjaGFuaXNtLiBEaWZmZXJzIGZyb20gUGF1c2FibGUgYnkgY2F1c2luZyBhIHJldmVydCgpIHdoZW4gaW4gaGFsdCBtb2RlLgogKgogKgogKiBPcmlnaW5hbGx5IGVudmlzaW9uZWQgaW4gRmlyc3RCbG9vZCBJQ08gY29udHJhY3QuCiAqLwpjb250cmFjdCBIYWx0YWJsZSBpcyBPd25hYmxlIHsKICBib29sIHB1YmxpYyBoYWx0ZWQ7CgogIGV2ZW50IEhhbHRlZCh1aW50MjU2IF90aW1lKTsKICBldmVudCBVbmhhbHRlZCh1aW50MjU2IF90aW1lKTsKICAKICBtb2RpZmllciBzdG9wSW5FbWVyZ2VuY3kgewogICAgaWYgKGhhbHRlZCkgcmV2ZXJ0KCk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgb25seUluRW1lcmdlbmN5IHsKICAgIGlmICghaGFsdGVkKSByZXZlcnQoKTsKICAgIF87CiAgfQoKICAvLyBjYWxsZWQgYnkgdGhlIG93bmVyIG9uIGVtZXJnZW5jeSwgdHJpZ2dlcnMgc3RvcHBlZCBzdGF0ZQogIGZ1bmN0aW9uIGhhbHQoKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgaGFsdGVkID0gdHJ1ZTsKICAgIEhhbHRlZCggbm93ICk7CiAgfQoKICAvLyBjYWxsZWQgYnkgdGhlIG93bmVyIG9uIGVuZCBvZiBlbWVyZ2VuY3ksIHJldHVybnMgdG8gbm9ybWFsIHN0YXRlCiAgZnVuY3Rpb24gdW5oYWx0KCkgZXh0ZXJuYWwgb25seU93bmVyIG9ubHlJbkVtZXJnZW5jeSB7CiAgICBoYWx0ZWQgPSBmYWxzZTsKICAgIFVuaGFsdGVkKCBub3cgKTsKICB9Cgp9CgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlIC0gbm8gYWxsb3dhbmNlcwogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgRVJDMjBCYXNpYyB3aXRoIGFsbG93YW5jZXMKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiByZWFsaXNhdGlvbiBvZiBFUkMyMEJhc2ljIGludGVyZmFjZQogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLiAKICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgICogQGRldiBGaXggZm9yIHRoZSBFUkMyMCBzaG9ydCBhZGRyZXNzIGF0dGFjay4KICAgKi8KICBtb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludDI1NiBzaXplKSB7CiAgICAgaWYobXNnLmRhdGEubGVuZ3RoIDwgc2l6ZSArIDQpIHsKICAgICAgIHJldmVydCgpOwogICAgIH0KICAgICBfOwogIH0KCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4gCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1hbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcnQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgQmFzaWNUb2tlbiwgRVJDMjAgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogIAogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMyAqIDMyKSB7CiAgICB2YXIgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgyICogMzIpIHsgIC8vbm90IGxldHRpbmcgYW55Ym9keSBoaXQgaGltc2VsZiB3aXRoIHNob3J0IGFkZHJlc3MgYXR0YWNrCgogICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAvLyAgYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgaWYgKChfdmFsdWUgIT0gMCkgJiYgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdICE9IDApKSByZXZlcnQoKTsKCiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBFdGFsb25Ub2tlbgogKiBAZGV2IEJhc2UgRXRhbG9uIEVSQzIwIFRva2VuLCB3aGVyZSBhbGwgdG9rZW5zIGFyZSBwcmUtYXNzaWduZWQgdG8gdGhlIGNyZWF0b3IuIAogKiBOb3RlIHRoZXkgY2FuIGxhdGVyIGRpc3RyaWJ1dGUgdGhlc2UgdG9rZW5zIGFzIHRoZXkgd2lzaCB1c2luZyBgdHJhbnNmZXJgIGFuZCBvdGhlcgogKiBgU3RhbmRhcmRUb2tlbmAgZnVuY3Rpb25zLgogKi8KY29udHJhY3QgRXRhbG9uVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgSGFsdGFibGUgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogIAogIHN0cmluZyAgcHVibGljIG5hbWUgICAgICAgID0gIkV0YWxvbiBUb2tlbiI7CiAgc3RyaW5nICBwdWJsaWMgc3ltYm9sICAgICAgPSAiRVRMIjsKICB1aW50MjU2IHB1YmxpYyBkZWNpbWFscyAgICA9IDA7CiAgdWludDI1NiBwdWJsaWMgSU5JVElBTCAgICAgPSA0MDAwMDAwOwogIAogIGV2ZW50IE1vcmVUb2tlbnNNaW50ZWQodWludDI1NiBfbWludGVkLCBzdHJpbmcgcmVhc29uKTsKCiAgLyoqCiAgICogQGRldiBDb250cnVjdG9yIHRoYXQgZ2l2ZXMgbXNnLnNlbmRlciBhbGwgb2YgZXhpc3RpbmcgdG9rZW5zLiAKICAgKi8KICBmdW5jdGlvbiBFdGFsb25Ub2tlbigpIHsKICAgIHRvdGFsU3VwcGx5ID0gSU5JVElBTDsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gSU5JVElBTDsKICB9CiAgCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0aGF0IGNyZWF0ZXMgbmV3IHRva2VucyBieSBvd25lcgogICAqIEBwYXJhbSBfYW1vdW50IC0gaG93IG1hbnkgdG9rZW5zIG1pbnQKICAgKiBAcGFyYW0gcmVhc29uICAtIGZvciB3aGljaCByZWFzb24gbWludGVkCiAgICovCiAgZnVuY3Rpb24gbWludCggdWludDI1NiBfYW1vdW50LCBzdHJpbmcgcmVhc29uICkgb25seU93bmVyIHsKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9hbW91bnQpOwogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQoX2Ftb3VudCk7CiAgICBNb3JlVG9rZW5zTWludGVkKF9hbW91bnQsIHJlYXNvbik7CiAgfQp9CgovKioKICogQHRpdGxlIEV0YWxvbiBUb2tlbiBQcmVzYWxlCiAqIEBkZXYgUHJlc2FsZSBjb250cmFjdAogKi8KY29udHJhY3QgRXRhbG9uVG9rZW5QcmVzYWxlIGlzIEhhbHRhYmxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIkV0YWxvbiBUb2tlbiBQcmVzYWxlIjsKCiAgRXRhbG9uVG9rZW4gcHVibGljIHRva2VuOwogIGFkZHJlc3MgcHVibGljIGJlbmVmaWNpYXJ5OwoKICB1aW50MjU2IHB1YmxpYyBoYXJkQ2FwOwogIHVpbnQyNTYgcHVibGljIHNvZnRDYXA7CiAgdWludDI1NiBwdWJsaWMgY29sbGVjdGVkOwogIHVpbnQyNTYgcHVibGljIHByaWNlOwoKICB1aW50MjU2IHB1YmxpYyB0b2tlbnNTb2xkID0gMDsKICB1aW50MjU2IHB1YmxpYyB3ZWlSYWlzZWQgPSAwOwogIHVpbnQyNTYgcHVibGljIGludmVzdG9yQ291bnQgPSAwOwogIHVpbnQyNTYgcHVibGljIHdlaVJlZnVuZGVkID0gMDsKCiAgdWludDI1NiBwdWJsaWMgc3RhcnRUaW1lOwogIHVpbnQyNTYgcHVibGljIGVuZFRpbWU7CiAgdWludDI1NiBwdWJsaWMgZHVyYXRpb247CgogIGJvb2wgcHVibGljIHNvZnRDYXBSZWFjaGVkID0gZmFsc2U7CiAgYm9vbCBwdWJsaWMgY3Jvd2RzYWxlRmluaXNoZWQgPSBmYWxzZTsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSByZWZ1bmRlZDsKCiAgZXZlbnQgQ3Jvd2RzYWxlU3RhcnRlZCh1aW50MjU2IF90aW1lLCB1aW50MjU2IF9zb2Z0Q2FwLCB1aW50MjU2IF9oYXJkQ2FwLCB1aW50MjU2IF9wcmljZSApOwogIGV2ZW50IENyb3dkc2FsZUZpbmlzaGVkKHVpbnQyNTYgX3RpbWUpOwogIGV2ZW50IENyb3dkc2FsZUV4dGVuZGVkKHVpbnQyNTYgX2VuZFRpbWUpOwogIGV2ZW50IEdvYWxSZWFjaGVkKHVpbnQyNTYgX2Ftb3VudFJhaXNlZCk7CiAgZXZlbnQgU29mdENhcFJlYWNoZWQodWludDI1NiBfc29mdENhcCk7CiAgZXZlbnQgTmV3Q29udHJpYnV0aW9uKGFkZHJlc3MgaW5kZXhlZCBfaG9sZGVyLCB1aW50MjU2IF90b2tlbkFtb3VudCwgdWludDI1NiBfZXRoZXJBbW91bnQpOwogIGV2ZW50IFJlZnVuZGVkKGFkZHJlc3MgaW5kZXhlZCBfaG9sZGVyLCB1aW50MjU2IF9hbW91bnQpOwoKICBtb2RpZmllciBvbmx5QWZ0ZXIodWludDI1NiB0aW1lKSB7CiAgICBpZiAobm93IDwgdGltZSkgcmV2ZXJ0KCk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgb25seUJlZm9yZSh1aW50MjU2IHRpbWUpIHsKICAgIGlmIChub3cgPiB0aW1lKSByZXZlcnQoKTsKICAgIF87CiAgfQogIAogIC8qKgogICAqIEBkZXYgQ29uc3RydWN0b3IKICAgKiBAcGFyYW0gX3Rva2VuICAgICAgIC0gYWRkcmVzcyBvZiBFVEwgY29udHJhY3QKICAgKiBAcGFyYW0gX2JlbmVmaWNpYXJ5IC0gYWRkcmVzcywgd2hpY2ggZ2V0cyBhbGwgcHJvZml0cwogICAqLwogIGZ1bmN0aW9uIEV0YWxvblRva2VuUHJlc2FsZSgKICAgIGFkZHJlc3MgX3Rva2VuLAogICAgYWRkcmVzcyBfYmVuZWZpY2lhcnkKICApIHsKICAgIGhhcmRDYXAgPSAwOwogICAgc29mdENhcCA9IDA7CiAgICBwcmljZSAgID0gMDsKICAKICAgIHRva2VuID0gRXRhbG9uVG9rZW4oX3Rva2VuKTsKICAgIGJlbmVmaWNpYXJ5ID0gX2JlbmVmaWNpYXJ5OwoKICAgIHN0YXJ0VGltZSA9IDA7CiAgICBlbmRUaW1lICAgPSAwOwogIH0KICAKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRoYXQgc3RhcnRzIHNhbGVzCiAgICogQHBhcmFtIF9oYXJkQ2FwICAgICAtIGluIGV0aGVycyAobm90IHdlaS9nd2VpL2Zpbm5leSkKICAgKiBAcGFyYW0gX3NvZnRDYXAgICAgIC0gaW4gZXRoZXJzIChub3Qgd2VpL2d3ZWkvZmlubmV5KQogICAqIEBwYXJhbSBfZHVyYXRpb24gLSBsZW5ndGggb2YgcHJlc2FsZSBpbiBob3VycwogICAqIEBwYXJhbSBfcHJpY2UgICAgICAgLSB0b2tlbnMgcGVyIDEgZXRoZXIKICAgKiBUUkFOU0ZFUiBFTk9VR0ggVE9LRU5TIFRPIFRISVMgQ09OVFJBQ1QgRklSU1QgT1IgSVQgV09OVCBCRSBBQkxFIFRPIFNFTEwgVEhFTQogICAqLyAgCiAgZnVuY3Rpb24gc3RhcnQoCiAgICB1aW50MjU2IF9oYXJkQ2FwLAogICAgdWludDI1NiBfc29mdENhcCwKICAgIHVpbnQyNTYgX2R1cmF0aW9uLAogICAgdWludDI1NiBfcHJpY2UgKSBvbmx5T3duZXIKICB7CiAgICBpZiAoc3RhcnRUaW1lID4gMCkgcmV2ZXJ0KCk7CiAgICBoYXJkQ2FwID0gX2hhcmRDYXAgKiAxIGV0aGVyOwogICAgc29mdENhcCA9IF9zb2Z0Q2FwICogMSBldGhlcjsKICAgIHByaWNlICAgPSBfcHJpY2U7CiAgICBzdGFydFRpbWUgPSBub3c7CiAgICBlbmRUaW1lICAgPSBzdGFydFRpbWUgKyBfZHVyYXRpb24gKiAxIGhvdXJzOwogICAgZHVyYXRpb24gID0gX2R1cmF0aW9uOwogICAgQ3Jvd2RzYWxlU3RhcnRlZChub3csIHNvZnRDYXAsIGhhcmRDYXAsIHByaWNlICk7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRoYXQgZW5kcyBzYWxlcwogICAqIE1hZGUgdG8gaW5zdXJlIGZpbmlzaGluZyBvZiBzYWxlcyAtIHN0YXJ0cyByZWZ1bmRpbmcKICAgKi8gCiAgZnVuY3Rpb24gZmluaXNoKCkgb25seU93bmVyIG9ubHlBZnRlcihlbmRUaW1lKSB7CiAgICBjcm93ZHNhbGVGaW5pc2hlZCA9IHRydWU7CiAgICBDcm93ZHNhbGVGaW5pc2hlZCggbm93ICk7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGV4dGVuZCBwZXJpb2Qgb2YgcHJlc2FsZQogICAqIEBwYXJhbSBfZHVyYXRpb24gLSBsZW5ndGggb2YgcHJvbG9uZ2F0aW9uIHBlcmlvZAogICAqIGxpbWl0ZWQgYnkgMS8yIG9mIHllYXIKICAgKi8KICBmdW5jdGlvbiBleHRlbmQoIHVpbnQyNTYgX2R1cmF0aW9uICkgb25seU93bmVyIHsKICAgIGVuZFRpbWUgID0gZW5kVGltZSArIF9kdXJhdGlvbiAqIDEgaG91cnM7CiAgICBkdXJhdGlvbiA9IGR1cmF0aW9uICsgX2R1cmF0aW9uOwogICAgaWYgKChzdGFydFRpbWUgKyA0NTAwIGhvdXJzKSA8IGVuZFRpbWUpIHJldmVydCgpOwogICAgQ3Jvd2RzYWxlRXh0ZW5kZWQoIGVuZFRpbWUgKTsKICB9CgogIC8qKgogICAqIGZhbGxiYWNrIGZ1bmN0aW9uIC0gdG8gcmVjaWV2ZSBldGhlcnMgYW5kIHNlbmQgdG9rZW5zCiAgICovCiAgZnVuY3Rpb24gKCkgcGF5YWJsZSBzdG9wSW5FbWVyZ2VuY3kgewogICAgaWYgKCBtc2cudmFsdWUgPCB1aW50MjU2KCAxIGV0aGVyICkuZGl2KCBwcmljZSApICkgcmV2ZXJ0KCk7CiAgICBkb1B1cmNoYXNlKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGdldCB5b3VyIGV0aGVyIGJhY2sgaWYgcHJlc2FsZSBmYWlsZWQgCiAgICovCiAgZnVuY3Rpb24gcmVmdW5kKCkgZXh0ZXJuYWwgb25seUFmdGVyKGVuZFRpbWUpIHN0b3BJbkVtZXJnZW5jeSB7ICAvL3B1YmxpYz8/PwogICAgaWYgKCFjcm93ZHNhbGVGaW5pc2hlZCkgcmV2ZXJ0KCk7CiAgICBpZiAoc29mdENhcFJlYWNoZWQpIHJldmVydCgpOwogICAgaWYgKHJlZnVuZGVkW21zZy5zZW5kZXJdKSByZXZlcnQoKTsKCiAgICB1aW50MjU2IGJhbGFuY2UgPSB0b2tlbi5iYWxhbmNlT2YobXNnLnNlbmRlcik7CiAgICBpZiAoYmFsYW5jZSA9PSAwKSByZXZlcnQoKTsKCiAgICB1aW50MjU2IHRvX3JlZnVuZCA9IGJhbGFuY2UubXVsKDEgZXRoZXIpLmRpdihwcmljZSk7CiAgICBpZiAodG9fcmVmdW5kID4gdGhpcy5iYWxhbmNlKSB7CiAgICAgIHRvX3JlZnVuZCA9IHRoaXMuYmFsYW5jZTsgIC8vIGlmIHJlZnVuZGluZyBpcyBtb3JlIHRoYW4gYWxsLCB0aGF0IGNvbnRyYWN0IGhvbGQgLSByZXR1cm4gYWxsIGhvbGRlZCBldGhlcgogICAgfQoKICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoIHRvX3JlZnVuZCApOyAvLyB0cmFuc2ZlciB0aHJvd3Mgb24gZmFpbHVyZQogICAgcmVmdW5kZWRbbXNnLnNlbmRlcl0gPSB0cnVlOwogICAgd2VpUmVmdW5kZWQgPSB3ZWlSZWZ1bmRlZC5hZGQoIHRvX3JlZnVuZCApOwogICAgUmVmdW5kZWQoIG1zZy5zZW5kZXIsIHRvX3JlZnVuZCApOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBzZW5kIHByb2ZpdHMgYW5kIHVuc29sZCB0b2tlbnMgdG8gYmVuZWZpY2lhcnkKICAgKi8KICBmdW5jdGlvbiB3aXRoZHJhdygpIG9ubHlPd25lciB7CiAgICBpZiAoIXNvZnRDYXBSZWFjaGVkKSByZXZlcnQoKTsKICAgIGJlbmVmaWNpYXJ5LnRyYW5zZmVyKCBjb2xsZWN0ZWQgKTsKICAgIHRva2VuLnRyYW5zZmVyKGJlbmVmaWNpYXJ5LCB0b2tlbi5iYWxhbmNlT2YodGhpcykpOwogICAgY3Jvd2RzYWxlRmluaXNoZWQgPSB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBHZXQgZXRoZXIgYW5kIHRyYW5zZmVyIHRva2VucwogICAqIEBwYXJhbSBfYnV5ZXIgIC0gYWRkcmVzcyBvZiBldGhlcnMgc2VuZGVyCiAgICogQHBhcmFtIF9hbW91bnQgLSBldGhlcnMgc2VuZGVkCiAgICovCiAgZnVuY3Rpb24gZG9QdXJjaGFzZShhZGRyZXNzIF9idXllciwgdWludDI1NiBfYW1vdW50KSBwcml2YXRlIG9ubHlBZnRlcihzdGFydFRpbWUpIG9ubHlCZWZvcmUoZW5kVGltZSkgc3RvcEluRW1lcmdlbmN5IHsKICAgIAogICAgaWYgKGNyb3dkc2FsZUZpbmlzaGVkKSByZXZlcnQoKTsKCiAgICBpZiAoY29sbGVjdGVkLmFkZChfYW1vdW50KSA+IGhhcmRDYXApIHJldmVydCgpOwoKICAgIGlmICgoIXNvZnRDYXBSZWFjaGVkKSAmJiAoY29sbGVjdGVkIDwgc29mdENhcCkgJiYgKGNvbGxlY3RlZC5hZGQoX2Ftb3VudCkgPj0gc29mdENhcCkpIHsKICAgICAgc29mdENhcFJlYWNoZWQgPSB0cnVlOwogICAgICBTb2Z0Q2FwUmVhY2hlZChzb2Z0Q2FwKTsKICAgIH0KCiAgICB1aW50MjU2IHRva2VucyA9IF9hbW91bnQubXVsKCBwcmljZSApLmRpdiggMSBldGhlciApOyAvL2RpdigxIGV0aGVyKSAtIGJlY2F1c2UgX2Ftb3VudCBtZWFzdXJlZCBpbiB3ZWlzCiAgICBpZiAodG9rZW5zID09IDApIHJldmVydCgpOwoKICAgIGlmICh0b2tlbi5iYWxhbmNlT2YoX2J1eWVyKSA9PSAwKSBpbnZlc3RvckNvdW50Kys7CiAgICAKICAgIGNvbGxlY3RlZCA9IGNvbGxlY3RlZC5hZGQoX2Ftb3VudCk7CgogICAgdG9rZW4udHJhbnNmZXIoX2J1eWVyLCB0b2tlbnMpOwoKICAgIHdlaVJhaXNlZCA9IHdlaVJhaXNlZC5hZGQoX2Ftb3VudCk7CiAgICB0b2tlbnNTb2xkID0gdG9rZW5zU29sZC5hZGQodG9rZW5zKTsKCiAgICBOZXdDb250cmlidXRpb24oX2J1eWVyLCB0b2tlbnMsIF9hbW91bnQpOwoKICAgIGlmIChjb2xsZWN0ZWQgPT0gaGFyZENhcCkgewogICAgICBHb2FsUmVhY2hlZChoYXJkQ2FwKTsKICAgIH0KICB9CgogIC8qKgogICAqIEBkZXYgTWFraW5nIGNvbnRyYWN0IGJ1cm5hYmxlCiAgICogQWRkZWQgZm9yIHRlc3RpbmcgcmVhc29ucwogICAqIG9ubHlJbkVtZXJnZW5jeSAtIGZvb2xzIHByb3RlY3Rpb24KICAgKi8KICBmdW5jdGlvbiBidXJuKCkgb25seU93bmVyIG9ubHlJbkVtZXJnZW5jeSB7IHNlbGZkZXN0cnVjdChvd25lcik7IH0KfQ=='.
	

]
