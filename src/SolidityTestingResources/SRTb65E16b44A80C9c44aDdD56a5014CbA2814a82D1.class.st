Class {
	#name : #SRTb65E16b44A80C9c44aDdD56a5014CbA2814a82D1,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTb65E16b44A80C9c44aDdD56a5014CbA2814a82D1 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Ci8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gQXNzaXN0aXZlIFJlYWxpdHkgQVJYIFRva2VuIC0gSUNPIHRva2VuIHNhbGUgY29udHJhY3QKLy8gY29udGFjdCA8c3BhbiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9ImE4ZGJkY2M5Y2VjZWU4YzlkYWM3YzZjNGMxYzZjZDg2YzFjNyI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvc3Bhbj4gZm9yIHF1ZXJpZXMKLy8gUmV2aXNpb24gMjBiCi8vIFJlZnVuZHMgaW50ZWdyYXRlZCwgZnVsbCB0ZXN0IHN1aXRlIDIwciBwYXNzZWQKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBFUkMgVG9rZW4gU3RhbmRhcmQgIzIwIGludGVyZmFjZToKLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyAyMDE4IGltcHJvdmVtZW50czoKLy8gLSBVcGRhdGVzIHRvIGNvbXBseSB3aXRoIGxhdGVzdCBTb2xpZGl0eSB2ZXJzaW9uaW5nICgwLjQuMTgpOgovLyAtICAgQ2xhc3NpZmljYXRpb24gb2YgaW50ZXJuYWwvcHJpdmF0ZSB2cyBwdWJsaWMgZnVuY3Rpb25zCi8vIC0gICBTcGVjaWZpY2F0aW9uIG9mIHB1cmUgZnVuY3Rpb25zIHN1Y2ggYXMgU2FmZU1hdGggaW50ZWdyYXRlZCBmdW5jdGlvbnMKLy8gLSAgIENvbnZlcnNpb24gb2YgYWxsIGNvbnN0YW50IHRvIHZpZXcgb3IgcHVyZSBkZXBlbmRhbnQgb24gc3RhdGUgY2hhbmdlZAovLyAtICAgRnVsbCByZWdyZXNzaW9uIHRlc3Qgb2YgY29kZSB1cGRhdGVzCi8vIC0gICBSZXZpc2lvbiBvZiBibG9jayBudW1iZXIgdGltaW5nIGZvciBuZXcgRXRoZXJldW0gYmxvY2sgdGltZXMKLy8gLSBSZW1vdmVkIGR1cGxpY2F0ZSBCdXkvVHJhbnNmZXIgZXZlbnQgY2FsbCBpbiBidXlBUlh0b2tlbnMgZnVuY3Rpb24gKGV0aFNjYW4gb3V0cHV0IHZlcmlmaWVkKQovLyAtIEJ1cm4gZXZlbnQgbm93IHJlY29yZHMgbnVtYmVyIG9mIEFSWCB0b2tlbnMgYnVybmVkIHZzIFJlZnVuZCBldmVudCBFdGgKLy8gLSBUcmFuc2ZlciBldmVudCBub3cgZmlyZWQgd2hlbiBiZW5lZmljaWFyeVdhbGxldCB3aXRoZHJhd3MKLy8gLSBHYXMgcmVxIG9wdGltaXNhdGlvbiBmb3IgcGF5YWJsZSBmdW5jdGlvbiB0byBtYXhpbWlzZSBjb21wYXRpYmlsaXR5Ci8vIC0gR29pbmcgbGl2ZSBpbiBjb2RlIGFoZWFkIG9mIElDTyBhbm5vdW5jZW1lbnQgMDl0aCBNYXJjaCAyMDE4IDE5OjMwIEdNVAovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIFNlY3VyaXR5IHJldmlld3MgcGFzc2VkIC0gY3ljbGUgMjByCi8vIEZ1bmN0aW9uYWwgcmV2aWV3cyBwYXNzZWQgLSBjeWNsZSAyMHIKLy8gRmluYWwgY29kZSByZXZpc2lvbiBhbmQgcmVncmVzc2lvbiB0ZXN0IGN5Y2xlIHBhc3NlZCAtIGN5Y2xlIDIwcgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpjb250cmFjdCBvd25lZCB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIGZ1bmN0aW9uIG93bmVkKCkgaW50ZXJuYWwgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KICBtb2RpZmllciBvbmx5T3duZXIgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQp9Cgpjb250cmFjdCBzYWZlTWF0aCB7CiAgZnVuY3Rpb24gc2FmZU11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIHNhZmVBc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzYWZlRGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHNhZmVBc3NlcnQoYiA+IDApOwogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICBzYWZlQXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHNhZmVTdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgc2FmZUFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gc2FmZUFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIHNhZmVBc3NlcnQoYz49YSAmJiBjPj1iKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc2FmZUFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgcHVyZSB7CiAgICBpZiAoIWFzc2VydGlvbikgcmV2ZXJ0KCk7CiAgfQp9Cgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIG93bmVkLCBzYWZlTWF0aCB7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCmNvbnRyYWN0IEFSWENyb3dkc2FsZSBpcyBvd25lZCwgc2FmZU1hdGggewogIC8vIG93bmVyL2FkbWluICYgdG9rZW4gcmV3YXJkCiAgYWRkcmVzcyAgICAgICAgcHVibGljIGFkbWluICAgICAgICAgICAgICAgICAgICAgPSBvd25lcjsgICAgLy8gYWRtaW4gYWRkcmVzcwogIFN0YW5kYXJkVG9rZW4gIHB1YmxpYyB0b2tlblJld2FyZDsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZHJlc3Mgb2YgdGhlIHRva2VuIHVzZWQgYXMgcmV3YXJkCgogIC8vIGRlcGxveW1lbnQgdmFyaWFibGVzIGZvciBzdGF0aWMgc3VwcGx5IHNhbGUKICB1aW50MjU2IHByaXZhdGUgaW5pdGlhbFRva2VuU3VwcGx5OwogIHVpbnQyNTYgcHJpdmF0ZSB0b2tlbnNSZW1haW5pbmc7CgogIC8vIG11bHRpLXNpZyBhZGRyZXNzZXMgYW5kIHByaWNlIHZhcmlhYmxlCiAgYWRkcmVzcyBwcml2YXRlIGJlbmVmaWNpYXJ5V2FsbGV0OyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJlbmVmaWNpYXJ5TXVsdGlTaWcgKGZvdW5kZXIgZ3JvdXApIG9yIHdhbGxldCBhY2NvdW50CgogIC8vIHVpbnQyNTYgdmFsdWVzIGZvciBtaW4sbWF4LGNhcHMsdHJhY2tpbmcKICB1aW50MjU2IHB1YmxpYyBhbW91bnRSYWlzZWRJbldlaTsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLwogIHVpbnQyNTYgcHVibGljIGZ1bmRpbmdNaW5DYXBJbldlaTsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vCiAgdWludDI1NiBwdWJsaWMgZnVuZGluZ01heENhcEluV2VpOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8KCiAgLy8gbG9vcCBjb250cm9sLCBJQ08gc3RhcnR1cCBhbmQgbGltaXRlcnMKICBzdHJpbmcgIHB1YmxpYyBDdXJyZW50U3RhdHVzICAgICAgICAgICAgICAgICAgICA9ICIiOyAgICAgICAgLy8gY3VycmVudCBjcm93ZHNhbGUgc3RhdHVzCiAgdWludDI1NiBwdWJsaWMgZnVuZGluZ1N0YXJ0QmxvY2s7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3Jvd2RzYWxlIHN0YXJ0IGJsb2NrIwogIHVpbnQyNTYgcHVibGljIGZ1bmRpbmdFbmRCbG9jazsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNyb3dkc2FsZSBlbmQgYmxvY2sjCiAgYm9vbCAgICBwdWJsaWMgaXNDcm93ZFNhbGVDbG9zZWQgICAgICAgICAgICAgICA9IGZhbHNlOyAgICAgLy8gY3Jvd2RzYWxlIGNvbXBsZXRpb24gYm9vbGVhbgogIGJvb2wgICAgcHJpdmF0ZSBhcmVGdW5kc1JlbGVhc2VkVG9CZW5lZmljaWFyeSAgPSBmYWxzZTsgICAgIC8vIGJvb2xlYW4gZm9yIGZvdW5kZXIgdG8gcmVjZWl2ZSBFdGggb3Igbm90CiAgYm9vbCAgICBwdWJsaWMgaXNDcm93ZFNhbGVTZXR1cCAgICAgICAgICAgICAgICA9IGZhbHNlOyAgICAgLy8gYm9vbGVhbiBmb3IgY3Jvd2RzYWxlIHNldHVwCgogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwogIGV2ZW50IEJ1eShhZGRyZXNzIGluZGV4ZWQgX3NlbmRlciwgdWludDI1NiBfZXRoLCB1aW50MjU2IF9BUlgpOwogIGV2ZW50IFJlZnVuZChhZGRyZXNzIGluZGV4ZWQgX3JlZnVuZGVyLCB1aW50MjU2IF92YWx1ZSk7CiAgZXZlbnQgQnVybihhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSk7CiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzQXJyYXk7CiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHVzZXJzQVJYZnVuZFZhbHVlOwoKICAvLyBkZWZhdWx0IGZ1bmN0aW9uLCBtYXAgYWRtaW4KICBmdW5jdGlvbiBBUlhDcm93ZHNhbGUoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIGFkbWluID0gbXNnLnNlbmRlcjsKICAgIEN1cnJlbnRTdGF0dXMgPSAiQ3Jvd2RzYWxlIGRlcGxveWVkIHRvIGNoYWluIjsKICB9CgogIC8vIHRvdGFsIG51bWJlciBvZiB0b2tlbnMgaW5pdGlhbGx5CiAgZnVuY3Rpb24gaW5pdGlhbEFSWFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgaW5pdGlhbEFSWHRva2VuQ291bnQpIHsKICAgIHJldHVybiBzYWZlRGl2KGluaXRpYWxUb2tlblN1cHBseSwxMDAwMDAwMDAwMDAwMDAwMDAwKTsgLy8gZGl2IGJ5IDEwMDAwMDAwMDAwMDAwMDAwMDAgZm9yIGRpc3BsYXkgbm9ybWFsaXNhdGlvbiAoMTggZGVjaW1hbHMpCiAgfQoKICAvLyByZW1haW5pbmcgbnVtYmVyIG9mIHRva2VucwogIGZ1bmN0aW9uIHJlbWFpbmluZ0FSWFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nQVJYdG9rZW5Db3VudCkgewogICAgcmV0dXJuIHNhZmVEaXYodG9rZW5zUmVtYWluaW5nLDEwMDAwMDAwMDAwMDAwMDAwMDApOyAvLyBkaXYgYnkgMTAwMDAwMDAwMDAwMDAwMDAwMCBmb3IgZGlzcGxheSBub3JtYWxpc2F0aW9uICgxOCBkZWNpbWFscykKICB9CgogIC8vIHNldHVwIHRoZSBDcm93ZFNhbGUgcGFyYW1ldGVycwogIGZ1bmN0aW9uIFNldHVwQ3Jvd2RzYWxlKHVpbnQyNTYgX2Z1bmRpbmdTdGFydEJsb2NrLCB1aW50MjU2IF9mdW5kaW5nRW5kQmxvY2spIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAoYnl0ZXMzMiByZXNwb25zZSkgewogICAgaWYgKChtc2cuc2VuZGVyID09IGFkbWluKQogICAgJiYgKCEoaXNDcm93ZFNhbGVTZXR1cCkpCiAgICAmJiAoIShiZW5lZmljaWFyeVdhbGxldCA+IDApKSkgewogICAgICAvLyBpbml0IGFkZHJlc3NlcwogICAgICBiZW5lZmljaWFyeVdhbGxldCAgICAgICAgICAgICAgICAgICAgICAgPSAweDk4REU0N0ExRjdGOTY1MDAyNzY5MDA5MjVCMzM0RTRlNTRiMWNhRDU7CiAgICAgIHRva2VuUmV3YXJkICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IFN0YW5kYXJkVG9rZW4oMHhiMEQ5MjZjMUJDM2Q3ODA2NEYzZTEwNzVENWJEOUEyNEYzNUFlNkM1KTsKCiAgICAgIC8vIGZ1bmRpbmcgdGFyZ2V0cwogICAgICBmdW5kaW5nTWluQ2FwSW5XZWkgICAgICAgICAgICAgICAgICAgICAgPSAzMDAwMDAwMDAwMDAwMDAwMDAwMDsgICAgICAgICAgICAgICAgICAgICAgIC8vIDMwMCAgRVRIIHdlaQogICAgICBpbml0aWFsVG9rZW5TdXBwbHkgICAgICAgICAgICAgICAgICAgICAgPSAyNzc1MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA7ICAgICAgICAgICAgICAgIC8vIDI3Nyw1MDAsMDAwICsgMTggZGVjIHJlc29sdXRpb24KCiAgICAgIC8vIHVwZGF0ZSB2YWx1ZXMKICAgICAgYW1vdW50UmFpc2VkSW5XZWkgICAgICAgICAgICAgICAgICAgICAgID0gMDsKICAgICAgdG9rZW5zUmVtYWluaW5nICAgICAgICAgICAgICAgICAgICAgICAgID0gaW5pdGlhbFRva2VuU3VwcGx5OwogICAgICBmdW5kaW5nU3RhcnRCbG9jayAgICAgICAgICAgICAgICAgICAgICAgPSBfZnVuZGluZ1N0YXJ0QmxvY2s7CiAgICAgIGZ1bmRpbmdFbmRCbG9jayAgICAgICAgICAgICAgICAgICAgICAgICA9IF9mdW5kaW5nRW5kQmxvY2s7CiAgICAgIGZ1bmRpbmdNYXhDYXBJbldlaSAgICAgICAgICAgICAgICAgICAgICA9IDQ1MDAwMDAwMDAwMDAwMDAwMDAwMDA7CgogICAgICAvLyBjb25maWd1cmUgY3Jvd2RzYWxlCiAgICAgIGlzQ3Jvd2RTYWxlU2V0dXAgICAgICAgICAgICAgICAgICAgICAgICA9IHRydWU7CiAgICAgIGlzQ3Jvd2RTYWxlQ2xvc2VkICAgICAgICAgICAgICAgICAgICAgICA9IGZhbHNlOwogICAgICBDdXJyZW50U3RhdHVzICAgICAgICAgICAgICAgICAgICAgICAgICAgPSAiQ3Jvd2RzYWxlIGlzIHNldHVwIjsKICAgICAgcmV0dXJuICJDcm93ZHNhbGUgaXMgc2V0dXAiOwogICAgfSBlbHNlIGlmIChtc2cuc2VuZGVyICE9IGFkbWluKSB7CiAgICAgIHJldHVybiAibm90IGF1dGhvcmlzZWQiOwogICAgfSBlbHNlICB7CiAgICAgIHJldHVybiAiY2FtcGFpZ24gY2Fubm90IGJlIGNoYW5nZWQiOwogICAgfQogIH0KCiAgZnVuY3Rpb24gY2hlY2tQcmljZSgpIGludGVybmFsIHZpZXcgcmV0dXJucyAodWludDI1NiBjdXJyZW50UHJpY2VWYWx1ZSkgewogICAgaWYgKGJsb2NrLm51bWJlciA+PSA1NTMyMjkzKSB7CiAgICAgIHJldHVybiAoMjI1MCk7CiAgICB9IGVsc2UgaWYgKGJsb2NrLm51bWJlciA+PSA1NDkwMjkyKSB7CiAgICAgIHJldHVybiAoMjUwMCk7CiAgICB9IGVsc2UgaWYgKGJsb2NrLm51bWJlciA+PSA1NDA2MjkxKSB7CiAgICAgIHJldHVybiAoMjc1MCk7CiAgICB9IGVsc2UgaWYgKGJsb2NrLm51bWJlciA+PSA1MzcwMjkwKSB7CiAgICAgIHJldHVybiAoMzAwMCk7CiAgICB9IGVsc2UgaWYgKGJsb2NrLm51bWJlciA+PSA1MzUyMjg5KSB7CiAgICAgIHJldHVybiAoMzI1MCk7CiAgICB9IGVsc2UgaWYgKGJsb2NrLm51bWJlciA+PSA1MzEwMjg5KSB7CiAgICAgIHJldHVybiAoMzUwMCk7CiAgICB9IGVsc2UgaWYgKGJsb2NrLm51bWJlciA+PSA1MjY4Mjg4KSB7CiAgICAgIHJldHVybiAoNDAwMCk7CiAgICB9IGVsc2UgaWYgKGJsb2NrLm51bWJlciA+PSA1MjMyMjg3KSB7CiAgICAgIHJldHVybiAoNDUwMCk7CiAgICB9IGVsc2UgaWYgKGJsb2NrLm51bWJlciA+PSBmdW5kaW5nU3RhcnRCbG9jaykgewogICAgICByZXR1cm4gKDUwMDApOwogICAgfQogIH0KCiAgLy8gZGVmYXVsdCBwYXlhYmxlIGZ1bmN0aW9uIHdoZW4gc2VuZGluZyBldGhlciB0byB0aGlzIGNvbnRyYWN0CiAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewogICAgLy8gMC4gY29uZGl0aW9ucyAobGVuZ3RoLCBjcm93ZHNhbGUgc2V0dXAsIHplcm8gY2hlY2ssIGV4Y2VlZCBmdW5kaW5nIGNvbnRyaWIgY2hlY2ssIGNvbnRyYWN0IHZhbGlkIGNoZWNrLCB3aXRoaW4gZnVuZGluZyBibG9jayByYW5nZSBjaGVjaywgYmFsYW5jZSBvdmVyZmxvdyBjaGVjayBldGMpCiAgICByZXF1aXJlKCEobXNnLnZhbHVlID09IDApCiAgICAmJiAobXNnLmRhdGEubGVuZ3RoID09IDApCiAgICAmJiAoYmxvY2subnVtYmVyIDw9IGZ1bmRpbmdFbmRCbG9jaykKICAgICYmIChibG9jay5udW1iZXIgPj0gZnVuZGluZ1N0YXJ0QmxvY2spCiAgICAmJiAodG9rZW5zUmVtYWluaW5nID4gMCkpOwoKICAgIC8vIDEuIHZhcnMKICAgIHVpbnQyNTYgcmV3YXJkVHJhbnNmZXJBbW91bnQgICAgPSAwOwoKICAgIC8vIDIuIGVmZmVjdHMKICAgIGFtb3VudFJhaXNlZEluV2VpICAgICAgICAgICAgICAgPSBzYWZlQWRkKGFtb3VudFJhaXNlZEluV2VpLCBtc2cudmFsdWUpOwogICAgcmV3YXJkVHJhbnNmZXJBbW91bnQgICAgICAgICAgICA9IChzYWZlTXVsKG1zZy52YWx1ZSwgY2hlY2tQcmljZSgpKSk7CgogICAgLy8gMy4gaW50ZXJhY3Rpb24KICAgIHRva2Vuc1JlbWFpbmluZyAgICAgICAgICAgICAgICAgPSBzYWZlU3ViKHRva2Vuc1JlbWFpbmluZywgcmV3YXJkVHJhbnNmZXJBbW91bnQpOwogICAgdG9rZW5SZXdhcmQudHJhbnNmZXIobXNnLnNlbmRlciwgcmV3YXJkVHJhbnNmZXJBbW91bnQpOwoKICAgIC8vIDQuIGV2ZW50cwogICAgdXNlcnNBUlhmdW5kVmFsdWVbbXNnLnNlbmRlcl0gICA9IHNhZmVBZGQodXNlcnNBUlhmdW5kVmFsdWVbbXNnLnNlbmRlcl0sIG1zZy52YWx1ZSk7CiAgICBCdXkobXNnLnNlbmRlciwgbXNnLnZhbHVlLCByZXdhcmRUcmFuc2ZlckFtb3VudCk7CiAgfQoKICBmdW5jdGlvbiBiZW5lZmljaWFyeU11bHRpU2lnV2l0aGRyYXcodWludDI1NiBfYW1vdW50KSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoYXJlRnVuZHNSZWxlYXNlZFRvQmVuZWZpY2lhcnkgJiYgKGFtb3VudFJhaXNlZEluV2VpID49IGZ1bmRpbmdNaW5DYXBJbldlaSkpOwogICAgYmVuZWZpY2lhcnlXYWxsZXQudHJhbnNmZXIoX2Ftb3VudCk7CiAgICBUcmFuc2Zlcih0aGlzLCBiZW5lZmljaWFyeVdhbGxldCwgX2Ftb3VudCk7CiAgfQoKICBmdW5jdGlvbiBjaGVja0dvYWxSZWFjaGVkKCkgcHVibGljIG9ubHlPd25lciB7IC8vIHJldHVybiBjcm93ZGZ1bmQgc3RhdHVzIHRvIG93bmVyIGZvciBlYWNoIHJlc3VsdCBjYXNlLCB1cGRhdGUgcHVibGljIHZhcnMKICAgIC8vIHVwZGF0ZSBzdGF0ZSAmIHN0YXR1cyB2YXJpYWJsZXMKICAgIHJlcXVpcmUgKGlzQ3Jvd2RTYWxlU2V0dXApOwogICAgaWYgKChhbW91bnRSYWlzZWRJbldlaSA8IGZ1bmRpbmdNaW5DYXBJbldlaSkgJiYgKGJsb2NrLm51bWJlciA8PSBmdW5kaW5nRW5kQmxvY2sgJiYgYmxvY2subnVtYmVyID49IGZ1bmRpbmdTdGFydEJsb2NrKSkgeyAvLyBJQ08gaW4gcHJvZ3Jlc3MsIHVuZGVyIHNvZnRjYXAKICAgICAgYXJlRnVuZHNSZWxlYXNlZFRvQmVuZWZpY2lhcnkgPSBmYWxzZTsKICAgICAgaXNDcm93ZFNhbGVDbG9zZWQgPSBmYWxzZTsKICAgICAgQ3VycmVudFN0YXR1cyA9ICJJbiBwcm9ncmVzcyAoRXRoIDwgU29mdGNhcCkiOwogICAgfSBlbHNlIGlmICgoYW1vdW50UmFpc2VkSW5XZWkgPCBmdW5kaW5nTWluQ2FwSW5XZWkpICYmIChibG9jay5udW1iZXIgPCBmdW5kaW5nU3RhcnRCbG9jaykpIHsgLy8gSUNPIGhhcyBub3Qgc3RhcnRlZAogICAgICBhcmVGdW5kc1JlbGVhc2VkVG9CZW5lZmljaWFyeSA9IGZhbHNlOwogICAgICBpc0Nyb3dkU2FsZUNsb3NlZCA9IGZhbHNlOwogICAgICBDdXJyZW50U3RhdHVzID0gIkNyb3dkc2FsZSBpcyBzZXR1cCI7CiAgICB9IGVsc2UgaWYgKChhbW91bnRSYWlzZWRJbldlaSA8IGZ1bmRpbmdNaW5DYXBJbldlaSkgJiYgKGJsb2NrLm51bWJlciA+IGZ1bmRpbmdFbmRCbG9jaykpIHsgLy8gSUNPIGVuZGVkLCB1bmRlciBzb2Z0Y2FwCiAgICAgIGFyZUZ1bmRzUmVsZWFzZWRUb0JlbmVmaWNpYXJ5ID0gZmFsc2U7CiAgICAgIGlzQ3Jvd2RTYWxlQ2xvc2VkID0gdHJ1ZTsKICAgICAgQ3VycmVudFN0YXR1cyA9ICJVbnN1Y2Nlc3NmdWwgKEV0aCA8IFNvZnRjYXApIjsKICAgIH0gZWxzZSBpZiAoKGFtb3VudFJhaXNlZEluV2VpID49IGZ1bmRpbmdNaW5DYXBJbldlaSkgJiYgKHRva2Vuc1JlbWFpbmluZyA9PSAwKSkgeyAvLyBJQ08gZW5kZWQsIGFsbCB0b2tlbnMgYm91Z2h0IQogICAgICBhcmVGdW5kc1JlbGVhc2VkVG9CZW5lZmljaWFyeSA9IHRydWU7CiAgICAgIGlzQ3Jvd2RTYWxlQ2xvc2VkID0gdHJ1ZTsKICAgICAgQ3VycmVudFN0YXR1cyA9ICJTdWNjZXNzZnVsIChBUlggPj0gSGFyZGNhcCkhIjsKICAgIH0gZWxzZSBpZiAoKGFtb3VudFJhaXNlZEluV2VpID49IGZ1bmRpbmdNaW5DYXBJbldlaSkgJiYgKGJsb2NrLm51bWJlciA+IGZ1bmRpbmdFbmRCbG9jaykgJiYgKHRva2Vuc1JlbWFpbmluZyA+IDApKSB7IC8vIElDTyBlbmRlZCwgb3ZlciBzb2Z0Y2FwIQogICAgICBhcmVGdW5kc1JlbGVhc2VkVG9CZW5lZmljaWFyeSA9IHRydWU7CiAgICAgIGlzQ3Jvd2RTYWxlQ2xvc2VkID0gdHJ1ZTsKICAgICAgQ3VycmVudFN0YXR1cyA9ICJTdWNjZXNzZnVsIChFdGggPj0gU29mdGNhcCkhIjsKICAgIH0gZWxzZSBpZiAoKGFtb3VudFJhaXNlZEluV2VpID49IGZ1bmRpbmdNaW5DYXBJbldlaSkgJiYgKHRva2Vuc1JlbWFpbmluZyA+IDApICYmIChibG9jay5udW1iZXIgPD0gZnVuZGluZ0VuZEJsb2NrKSkgeyAvLyBJQ08gaW4gcHJvZ3Jlc3MsIG92ZXIgc29mdGNhcCEKICAgICAgYXJlRnVuZHNSZWxlYXNlZFRvQmVuZWZpY2lhcnkgPSB0cnVlOwogICAgICBpc0Nyb3dkU2FsZUNsb3NlZCA9IGZhbHNlOwogICAgICBDdXJyZW50U3RhdHVzID0gIkluIHByb2dyZXNzIChFdGggPj0gU29mdGNhcCkhIjsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHJlZnVuZCgpIHB1YmxpYyB7IC8vIGFueSBjb250cmlidXRvciBjYW4gY2FsbCB0aGlzIHRvIGhhdmUgdGhlaXIgRXRoIHJldHVybmVkLiB1c2VyJ3MgcHVyY2hhc2VkIEFSWCB0b2tlbnMgYXJlIGJ1cm5lZCBwcmlvciByZWZ1bmQgb2YgRXRoLgogICAgLy9yZXF1aXJlIG1pbkNhcCBub3QgcmVhY2hlZAogICAgcmVxdWlyZSAoKGFtb3VudFJhaXNlZEluV2VpIDwgZnVuZGluZ01pbkNhcEluV2VpKQogICAgJiYgKGlzQ3Jvd2RTYWxlQ2xvc2VkKQogICAgJiYgKGJsb2NrLm51bWJlciA+IGZ1bmRpbmdFbmRCbG9jaykKICAgICYmICh1c2Vyc0FSWGZ1bmRWYWx1ZVttc2cuc2VuZGVyXSA+IDApKTsKCiAgICAvL2J1cm4gdXNlcidzIHRva2VuIEFSWCB0b2tlbiBiYWxhbmNlLCByZWZ1bmQgRXRoIHNlbnQKICAgIHVpbnQyNTYgZXRoUmVmdW5kID0gdXNlcnNBUlhmdW5kVmFsdWVbbXNnLnNlbmRlcl07CiAgICBiYWxhbmNlc0FycmF5W21zZy5zZW5kZXJdID0gMDsKICAgIHVzZXJzQVJYZnVuZFZhbHVlW21zZy5zZW5kZXJdID0gMDsKCiAgICAvL3JlY29yZCBCdXJuIGV2ZW50IHdpdGggbnVtYmVyIG9mIEFSWCB0b2tlbnMgYnVybmVkCiAgICBCdXJuKG1zZy5zZW5kZXIsIHVzZXJzQVJYZnVuZFZhbHVlW21zZy5zZW5kZXJdKTsKCiAgICAvL3NlbmQgRXRoIGJhY2sKICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoZXRoUmVmdW5kKTsKCiAgICAvL3JlY29yZCBSZWZ1bmQgZXZlbnQgd2l0aCBudW1iZXIgb2YgRXRoIHJlZnVuZGVkIGluIHRyYW5zYWN0aW9uCiAgICBSZWZ1bmQobXNnLnNlbmRlciwgZXRoUmVmdW5kKTsKICB9Cn0='.
	

]
