Class {
	#name : #SRTfaec92138718c3f5bedd43800b392edb2e436cc5,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTfaec92138718c3f5bedd43800b392edb2e436cc5 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vICdBREUnICdBZGVDb2luJyB0b2tlbiBjb250cmFjdAovLwovLyBTeW1ib2wgICAgICA6IEFERQovLyBOYW1lICAgICAgICA6IEFkZUNvaW4KLy8gVG90YWwgc3VwcGx5OiBHZW5lcmF0ZWQgZnJvbSBjb250cmlidXRpb25zCi8vIERlY2ltYWxzICAgIDogOAovLwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBTYWZlIG1hdGhzCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KY29udHJhY3QgU2FmZU1hdGggewogICAgZnVuY3Rpb24gc2FmZUFkZCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50IGMpIHsKICAgICAgICBjID0gYSArIGI7CiAgICAgICAgcmVxdWlyZShjID49IGEpOwogICAgfQogICAgZnVuY3Rpb24gc2FmZVN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50IGMpIHsKICAgICAgICByZXF1aXJlKGIgPD0gYSk7CiAgICAgICAgYyA9IGEgLSBiOwogICAgfQogICAgZnVuY3Rpb24gc2FmZU11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50IGMpIHsKICAgICAgICBjID0gYSAqIGI7CiAgICAgICAgcmVxdWlyZShhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICB9CiAgICBmdW5jdGlvbiBzYWZlRGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQgYykgewogICAgICAgIHJlcXVpcmUoYiA+IDApOwogICAgICAgIGMgPSBhIC8gYjsKICAgIH0KfQoKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gRVJDIFRva2VuIFN0YW5kYXJkICMyMCBJbnRlcmZhY2UKLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvYmxvYi9tYXN0ZXIvRUlQUy9laXAtMjAtdG9rZW4tc3RhbmRhcmQubWQKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpjb250cmFjdCBFUkMyMEludGVyZmFjZSB7CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHRva2VuT3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgdG9rZW5Pd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB0b2tlbnMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdG9rZW5zKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdG9rZW5zKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHRva2Vucyk7CiAgICBldmVudCBUcmFuc2ZlclNlbGwoYWRkcmVzcyBpbmRleGVkIGZyb20sIHVpbnQgdG9rZW5zLCB1aW50IGV0aCk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgdG9rZW5Pd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdG9rZW5zKTsKfQoKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gQ29udHJhY3QgZnVuY3Rpb24gdG8gcmVjZWl2ZSBhcHByb3ZhbCBhbmQgZXhlY3V0ZSBmdW5jdGlvbiBpbiBvbmUgY2FsbAovLwovLyBCb3Jyb3dlZCBmcm9tIE1pbmlNZVRva2VuCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KY29udHJhY3QgQXBwcm92ZUFuZENhbGxGYWxsQmFjayB7CiAgICBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBmcm9tLCB1aW50MjU2IHRva2VucywgYWRkcmVzcyB0b2tlbiwgYnl0ZXMgZGF0YSkgcHVibGljOwp9CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBPd25lZCBjb250cmFjdAovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvbnRyYWN0IE93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgYWRkcmVzcyBwdWJsaWMgbmV3T3duZXI7CgogICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvKTsKCiAgICBmdW5jdGlvbiBPd25lZCgpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBuZXdPd25lciA9IF9uZXdPd25lcjsKICAgIH0KICAgIGZ1bmN0aW9uIGFjY2VwdE93bmVyc2hpcCgpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG5ld093bmVyKTsKICAgICAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICAgICAgbmV3T3duZXIgPSBhZGRyZXNzKDApOwogICAgfQp9CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBFUkMyMCBUb2tlbiwgd2l0aCB0aGUgYWRkaXRpb24gb2Ygc3ltYm9sLCBuYW1lIGFuZCBkZWNpbWFscwovLyBSZWNlaXZlcyBFVEggYW5kIGdlbmVyYXRlcyB0b2tlbnMKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpjb250cmFjdCBBREVUb2tlbiBpcyBFUkMyMEludGVyZmFjZSwgT3duZWQsIFNhZmVNYXRoIHsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgc3RyaW5nIHB1YmxpYyBuYW1lOwogICAgdWludDggcHVibGljIGRlY2ltYWxzOwogICAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICB1aW50IHB1YmxpYyBzZWxsUmF0ZTsKICAgIHVpbnQgcHVibGljIGJ1eVJhdGU7CiAgICAKICAgIHVpbnQgcHJpdmF0ZSBsb2NrUmF0ZSA9IDMwIGRheXM7CiAgICAKICAgIHN0cnVjdCBsb2NrUG9zaXRpb257CiAgICAgICAgdWludCB0aW1lOwogICAgICAgIHVpbnQgY291bnQ7CiAgICAgICAgdWludCByZWxlYXNlUmF0ZTsKICAgIH0KICAgIAogICAgbWFwcGluZyhhZGRyZXNzID0+IGxvY2tQb3NpdGlvbikgcHJpdmF0ZSBscG9zaXRpb247CiAgICAKICAgIC8vIGxvY2tlZCBhY2NvdW50IGRpY3Rpb25hcnkgdGhhdCBtYXBzIGFkZHJlc3NlcyB0byBib29sZWFuCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHByaXZhdGUgbG9ja2VkQWNjb3VudHM7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwogICAgbWFwcGluZyhhZGRyZXNzID0+IG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKICAgIAogICAgbW9kaWZpZXIgaXNfbm90X2xvY2tlZChhZGRyZXNzIF9hZGRyZXNzKSB7CiAgICAgICAgaWYgKGxvY2tlZEFjY291bnRzW19hZGRyZXNzXSA9PSB0cnVlKSByZXZlcnQoKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICBtb2RpZmllciB2YWxpZGF0ZV9hZGRyZXNzKGFkZHJlc3MgX2FkZHJlc3MpIHsKICAgICAgICBpZiAoX2FkZHJlc3MgPT0gYWRkcmVzcygwKSkgcmV2ZXJ0KCk7CiAgICAgICAgXzsKICAgIH0KICAgIAogICAgbW9kaWZpZXIgaXNfbG9ja2VkKGFkZHJlc3MgX2FkZHJlc3MpIHsKICAgICAgICBpZiAobG9ja2VkQWNjb3VudHNbX2FkZHJlc3NdICE9IHRydWUpIHJldmVydCgpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIG1vZGlmaWVyIHZhbGlkYXRlX3Bvc2l0aW9uKGFkZHJlc3MgX2FkZHJlc3MsdWludCBjb3VudCkgewogICAgICAgIGlmKGJhbGFuY2VzW19hZGRyZXNzXSA8IGNvdW50ICogMTAqKnVpbnQoZGVjaW1hbHMpKSByZXZlcnQoKTsKICAgICAgICBpZihscG9zaXRpb25bX2FkZHJlc3NdLmNvdW50ID4gMCAmJiAoYmFsYW5jZXNbX2FkZHJlc3NdIC0gKGNvdW50ICogMTAqKnVpbnQoZGVjaW1hbHMpKSkgPCBscG9zaXRpb25bX2FkZHJlc3NdLmNvdW50ICYmIG5vdyA8IGxwb3NpdGlvbltfYWRkcmVzc10udGltZSkgcmV2ZXJ0KCk7CiAgICAgICAgY2hlY2tQb3NpdGlvbihfYWRkcmVzcyxjb3VudCk7CiAgICAgICAgXzsKICAgIH0KICAgIGZ1bmN0aW9uIGNoZWNrUG9zaXRpb24oYWRkcmVzcyBfYWRkcmVzcyx1aW50IGNvdW50KSBwcml2YXRlIHZpZXcgewogICAgICAgIGlmKGxwb3NpdGlvbltfYWRkcmVzc10ucmVsZWFzZVJhdGUgPCAxMDAgJiYgbHBvc2l0aW9uW19hZGRyZXNzXS5jb3VudCA+IDApewogICAgICAgICAgICB1aW50IF9yYXRlID0gc2FmZURpdigxMDAsbHBvc2l0aW9uW19hZGRyZXNzXS5yZWxlYXNlUmF0ZSk7CiAgICAgICAgICAgIHVpbnQgX3RpbWUgPSBscG9zaXRpb25bX2FkZHJlc3NdLnRpbWU7CiAgICAgICAgICAgIHVpbnQgX3RtcFJhdGUgPSBscG9zaXRpb25bX2FkZHJlc3NdLnJlbGVhc2VSYXRlOwogICAgICAgICAgICB1aW50IF90bXBSYXRlQWxsID0gMDsKICAgICAgICAgICAgdWludCBfY291bnQgPSAwOwogICAgICAgICAgICBmb3IodWludCBfYT0xO19hPD1fcmF0ZTtfYSsrKXsKICAgICAgICAgICAgICAgIGlmKG5vdyA+PSBfdGltZSl7CiAgICAgICAgICAgICAgICAgICAgX2NvdW50ID0gX2E7CiAgICAgICAgICAgICAgICAgICAgX3RtcFJhdGVBbGwgPSBzYWZlQWRkKF90bXBSYXRlQWxsLF90bXBSYXRlKTsKICAgICAgICAgICAgICAgICAgICBfdGltZSA9IHNhZmVBZGQoX3RpbWUsbG9ja1JhdGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKF9jb3VudCA8IF9yYXRlICYmIGxwb3NpdGlvbltfYWRkcmVzc10uY291bnQgPiAwICYmIChiYWxhbmNlc1tfYWRkcmVzc10gLSBjb3VudCAqIDEwKip1aW50KGRlY2ltYWxzKSkgPCAobHBvc2l0aW9uW19hZGRyZXNzXS5jb3VudCAtIHNhZmVEaXYobHBvc2l0aW9uW19hZGRyZXNzXS5jb3VudCpfdG1wUmF0ZUFsbCwxMDApKSAmJiBub3cgPj0gbHBvc2l0aW9uW19hZGRyZXNzXS50aW1lKSByZXZlcnQoKTsgICAKICAgICAgICB9CiAgICB9CiAgICAKICAgIGV2ZW50IF9sb2NrQWNjb3VudChhZGRyZXNzIF9hZGQpOwogICAgZXZlbnQgX3VubG9ja0FjY291bnQoYWRkcmVzcyBfYWRkKTsKICAgIAogICAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGV7CiAgICAgICAgcmVxdWlyZShvd25lciAhPSBtc2cuc2VuZGVyKTsKICAgICAgICByZXF1aXJlKGJ1eVJhdGUgPiAwKTsKICAgICAgICAKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSAwLjEgZXRoZXIgJiYgbXNnLnZhbHVlIDw9IDEwMDAgZXRoZXIpOwogICAgICAgIHVpbnQgdG9rZW5zOwogICAgICAgIAogICAgICAgIHRva2VucyA9IG1zZy52YWx1ZSAvICgxIGV0aGVyICogMSB3ZWkgLyBidXlSYXRlKTsKICAgICAgICAKICAgICAgICAKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW293bmVyXSA+PSB0b2tlbnMgKiAxMCoqdWludChkZWNpbWFscykpOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2FmZUFkZChiYWxhbmNlc1ttc2cuc2VuZGVyXSwgdG9rZW5zICogMTAqKnVpbnQoZGVjaW1hbHMpKTsKICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSBzYWZlU3ViKGJhbGFuY2VzW293bmVyXSwgdG9rZW5zICogMTAqKnVpbnQoZGVjaW1hbHMpKTsKICAgIH0KCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIENvbnN0cnVjdG9yCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIEFERVRva2VuKHVpbnQgX3NlbGxSYXRlLHVpbnQgX2J1eVJhdGUpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICBzeW1ib2wgPSAiQURFIjsKICAgICAgICBuYW1lID0gIkFkZUNvaW4iOwogICAgICAgIGRlY2ltYWxzID0gODsKICAgICAgICB0b3RhbFN1cHBseSA9IDIwMDAwMDAwMDAgKiAxMCoqdWludChkZWNpbWFscyk7CiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gdG90YWxTdXBwbHk7CiAgICAgICAgVHJhbnNmZXIoYWRkcmVzcygwKSwgb3duZXIsIHRvdGFsU3VwcGx5KTsKICAgICAgICBzZWxsUmF0ZSA9IF9zZWxsUmF0ZTsKICAgICAgICBidXlSYXRlID0gX2J1eVJhdGU7CiAgICB9CgoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gVG90YWwgc3VwcGx5CiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gdG90YWxTdXBwbHkgIC0gYmFsYW5jZXNbYWRkcmVzcygwKV07CiAgICB9CgoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gR2V0IHRoZSB0b2tlbiBiYWxhbmNlIGZvciBhY2NvdW50IGB0b2tlbk93bmVyYAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB0b2tlbk93bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW3Rva2VuT3duZXJdOwogICAgfQoKCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFRyYW5zZmVyIHRoZSBiYWxhbmNlIGZyb20gdG9rZW4gb3duZXIncyBhY2NvdW50IHRvIGB0b2AgYWNjb3VudAogICAgLy8gLSBPd25lcidzIGFjY291bnQgbXVzdCBoYXZlIHN1ZmZpY2llbnQgYmFsYW5jZSB0byB0cmFuc2ZlcgogICAgLy8gLSAwIHZhbHVlIHRyYW5zZmVycyBhcmUgYWxsb3dlZAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IHRva2VucykgcHVibGljIGlzX25vdF9sb2NrZWQobXNnLnNlbmRlcikgaXNfbm90X2xvY2tlZCh0bykgdmFsaWRhdGVfcG9zaXRpb24obXNnLnNlbmRlcix0b2tlbnMgLyAoMTAqKnVpbnQoZGVjaW1hbHMpKSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZSh0byAhPSBtc2cuc2VuZGVyKTsKICAgICAgICByZXF1aXJlKHRva2VucyA+IDApOwogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gdG9rZW5zKTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHNhZmVTdWIoYmFsYW5jZXNbbXNnLnNlbmRlcl0sIHRva2Vucyk7CiAgICAgICAgYmFsYW5jZXNbdG9dID0gc2FmZUFkZChiYWxhbmNlc1t0b10sIHRva2Vucyk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgdG8sIHRva2Vucyk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gVG9rZW4gb3duZXIgY2FuIGFwcHJvdmUgZm9yIGBzcGVuZGVyYCB0byB0cmFuc2ZlckZyb20oLi4uKSBgdG9rZW5zYAogICAgLy8gZnJvbSB0aGUgdG9rZW4gb3duZXIncyBhY2NvdW50CiAgICAvLwogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvYmxvYi9tYXN0ZXIvRUlQUy9laXAtMjAtdG9rZW4tc3RhbmRhcmQubWQKICAgIC8vIHJlY29tbWVuZHMgdGhhdCB0aGVyZSBhcmUgbm8gY2hlY2tzIGZvciB0aGUgYXBwcm92YWwgZG91YmxlLXNwZW5kIGF0dGFjawogICAgLy8gYXMgdGhpcyBzaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gdXNlciBpbnRlcmZhY2VzIAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB0b2tlbnMpIHB1YmxpYyBpc19ub3RfbG9ja2VkKG1zZy5zZW5kZXIpIGlzX25vdF9sb2NrZWQoc3BlbmRlcikgdmFsaWRhdGVfcG9zaXRpb24obXNnLnNlbmRlcix0b2tlbnMgLyAoMTAqKnVpbnQoZGVjaW1hbHMpKSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShzcGVuZGVyICE9IG1zZy5zZW5kZXIpOwogICAgICAgIHJlcXVpcmUodG9rZW5zID4gMCk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSB0b2tlbnMpOwogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bc3BlbmRlcl0gPSB0b2tlbnM7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgc3BlbmRlciwgdG9rZW5zKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBUcmFuc2ZlciBgdG9rZW5zYCBmcm9tIHRoZSBgZnJvbWAgYWNjb3VudCB0byB0aGUgYHRvYCBhY2NvdW50CiAgICAvLyAKICAgIC8vIFRoZSBjYWxsaW5nIGFjY291bnQgbXVzdCBhbHJlYWR5IGhhdmUgc3VmZmljaWVudCB0b2tlbnMgYXBwcm92ZSguLi4pLWQKICAgIC8vIGZvciBzcGVuZGluZyBmcm9tIHRoZSBgZnJvbWAgYWNjb3VudCBhbmQKICAgIC8vIC0gRnJvbSBhY2NvdW50IG11c3QgaGF2ZSBzdWZmaWNpZW50IGJhbGFuY2UgdG8gdHJhbnNmZXIKICAgIC8vIC0gU3BlbmRlciBtdXN0IGhhdmUgc3VmZmljaWVudCBhbGxvd2FuY2UgdG8gdHJhbnNmZXIKICAgIC8vIC0gMCB2YWx1ZSB0cmFuc2ZlcnMgYXJlIGFsbG93ZWQKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB0b2tlbnMpIHB1YmxpYyBpc19ub3RfbG9ja2VkKG1zZy5zZW5kZXIpIGlzX25vdF9sb2NrZWQoZnJvbSkgaXNfbm90X2xvY2tlZCh0bykgdmFsaWRhdGVfcG9zaXRpb24oZnJvbSx0b2tlbnMgLyAoMTAqKnVpbnQoZGVjaW1hbHMpKSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZSh0cmFuc2ZlckZyb21DaGVjayhmcm9tLHRvLHRva2VucykpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb21DaGVjayhhZGRyZXNzIGZyb20sYWRkcmVzcyB0byx1aW50IHRva2VucykgcHJpdmF0ZSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKHRva2VucyA+IDApOwogICAgICAgIHJlcXVpcmUoZnJvbSAhPSBtc2cuc2VuZGVyICYmIG1zZy5zZW5kZXIgIT0gdG8gJiYgZnJvbSAhPSB0byk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tmcm9tXSA+PSB0b2tlbnMgJiYgYWxsb3dlZFtmcm9tXVttc2cuc2VuZGVyXSA+PSB0b2tlbnMpOwogICAgICAgIGJhbGFuY2VzW2Zyb21dID0gc2FmZVN1YihiYWxhbmNlc1tmcm9tXSwgdG9rZW5zKTsKICAgICAgICBhbGxvd2VkW2Zyb21dW21zZy5zZW5kZXJdID0gc2FmZVN1YihhbGxvd2VkW2Zyb21dW21zZy5zZW5kZXJdLCB0b2tlbnMpOwogICAgICAgIGJhbGFuY2VzW3RvXSA9IHNhZmVBZGQoYmFsYW5jZXNbdG9dLCB0b2tlbnMpOwogICAgICAgIFRyYW5zZmVyKGZyb20sIHRvLCB0b2tlbnMpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFJldHVybnMgdGhlIGFtb3VudCBvZiB0b2tlbnMgYXBwcm92ZWQgYnkgdGhlIG93bmVyIHRoYXQgY2FuIGJlCiAgICAvLyB0cmFuc2ZlcnJlZCB0byB0aGUgc3BlbmRlcidzIGFjY291bnQKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgdG9rZW5Pd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFt0b2tlbk93bmVyXVtzcGVuZGVyXTsKICAgIH0KCgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBUb2tlbiBvd25lciBjYW4gYXBwcm92ZSBmb3IgYHNwZW5kZXJgIHRvIHRyYW5zZmVyRnJvbSguLi4pIGB0b2tlbnNgCiAgICAvLyBmcm9tIHRoZSB0b2tlbiBvd25lcidzIGFjY291bnQuIFRoZSBgc3BlbmRlcmAgY29udHJhY3QgZnVuY3Rpb24KICAgIC8vIGByZWNlaXZlQXBwcm92YWwoLi4uKWAgaXMgdGhlbiBleGVjdXRlZAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdG9rZW5zLCBieXRlcyBkYXRhKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtzcGVuZGVyXSA9IHRva2VuczsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBzcGVuZGVyLCB0b2tlbnMpOwogICAgICAgIEFwcHJvdmVBbmRDYWxsRmFsbEJhY2soc3BlbmRlcikucmVjZWl2ZUFwcHJvdmFsKG1zZy5zZW5kZXIsIHRva2VucywgdGhpcywgZGF0YSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFNhbGwgYSB0b2tlbiBmcm9tIGEgY29udHJhY3QKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gc2VsbENvaW4oYWRkcmVzcyBzZWxsZXIsIHVpbnQgYW1vdW50KSBwdWJsaWMgb25seU93bmVyIGlzX25vdF9sb2NrZWQoc2VsbGVyKSB2YWxpZGF0ZV9wb3NpdGlvbihzZWxsZXIsYW1vdW50KXsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW3NlbGxlcl0gPj0gYW1vdW50ICogMTAqKnVpbnQoZGVjaW1hbHMpKTsKICAgICAgICByZXF1aXJlKHNlbGxSYXRlID4gMCk7CiAgICAgICAgcmVxdWlyZShzZWxsZXIgIT0gbXNnLnNlbmRlcik7CiAgICAgICAgdWludCB0bXBBbW91bnQgPSBhbW91bnQgKiAoMSBldGhlciAqIDEgd2VpIC8gc2VsbFJhdGUpOwogICAgICAgIAogICAgICAgIGJhbGFuY2VzW293bmVyXSArPSBhbW91bnQgKiAxMCoqdWludChkZWNpbWFscyk7CiAgICAgICAgYmFsYW5jZXNbc2VsbGVyXSAtPSBhbW91bnQgKiAxMCoqdWludChkZWNpbWFscyk7CiAgICAgICAgCiAgICAgICAgc2VsbGVyLnRyYW5zZmVyKHRtcEFtb3VudCk7CiAgICAgICAgVHJhbnNmZXJTZWxsKHNlbGxlciwgYW1vdW50ICogMTAqKnVpbnQoZGVjaW1hbHMpLCB0bXBBbW91bnQpOwogICAgfQogICAgCiAgICAvLyBzZXQgcmF0ZQogICAgZnVuY3Rpb24gc2V0UmF0ZSh1aW50IF9idXlSYXRlLHVpbnQgX3NlbGxSYXRlKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKF9idXlSYXRlID4gMCk7CiAgICAgICAgcmVxdWlyZShfc2VsbFJhdGUgPiAwKTsKICAgICAgICByZXF1aXJlKF9idXlSYXRlIDwgX3NlbGxSYXRlKTsKICAgICAgICBidXlSYXRlID0gX2J1eVJhdGU7CiAgICAgICAgc2VsbFJhdGUgPSBfc2VsbFJhdGU7CiAgICB9CiAgICAKICAgIC8vc2V0IGxvY2sgcG9zaXRpb24KICAgIGZ1bmN0aW9uIHNldExvY2tQb3N0aW9uKGFkZHJlc3MgX2FkZCx1aW50IF9jb3VudCx1aW50IF90aW1lLHVpbnQgX3JlbGVhc2VSYXRlKSBwdWJsaWMgaXNfbm90X2xvY2tlZChfYWRkKSBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoX3RpbWUgPiBub3cpOwogICAgICAgIHJlcXVpcmUoX2NvdW50ID4gMCk7CiAgICAgICAgcmVxdWlyZShfcmVsZWFzZVJhdGUgPiAwICYmIF9yZWxlYXNlUmF0ZSA8PSAxMDApOwogICAgICAgIHJlcXVpcmUoX3JlbGVhc2VSYXRlID09IDIgfHwgX3JlbGVhc2VSYXRlID09IDQgfHwgX3JlbGVhc2VSYXRlID09IDUgfHwgX3JlbGVhc2VSYXRlID09IDEwIHx8IF9yZWxlYXNlUmF0ZSA9PSAyMCB8fCBfcmVsZWFzZVJhdGUgPT0gMjUgfHwgX3JlbGVhc2VSYXRlID09IDUwKTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19hZGRdID49IF9jb3VudCAqIDEwKip1aW50KGRlY2ltYWxzKSk7CiAgICAgICAgbHBvc2l0aW9uW19hZGRdLnRpbWUgPSBfdGltZTsKICAgICAgICBscG9zaXRpb25bX2FkZF0uY291bnQgPSBfY291bnQgKiAxMCoqdWludChkZWNpbWFscyk7CiAgICAgICAgbHBvc2l0aW9uW19hZGRdLnJlbGVhc2VSYXRlID0gX3JlbGVhc2VSYXRlOwogICAgfQogICAgCiAgICAvLyBsb2NrQWNjb3VudAogICAgZnVuY3Rpb24gbG9ja1N0YXR1cyhhZGRyZXNzIF9vd25lcikgcHVibGljIGlzX25vdF9sb2NrZWQoX293bmVyKSAgdmFsaWRhdGVfYWRkcmVzcyhfb3duZXIpIG9ubHlPd25lciB7CiAgICAgICAgbG9ja2VkQWNjb3VudHNbX293bmVyXSA9IHRydWU7CiAgICAgICAgX2xvY2tBY2NvdW50KF9vd25lcik7CiAgICB9CgogICAgLy8vIEBub3RpY2Ugb25seSB0aGUgYWRtaW4gaXMgYWxsb3dlZCB0byB1bmxvY2sgYWNjb3VudHMuCiAgICAvLy8gQHBhcmFtIF9vd25lciB0aGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCB0byBiZSB1bmxvY2tlZAogICAgZnVuY3Rpb24gdW5sb2NrU3RhdHVzKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgaXNfbG9ja2VkKF9vd25lcikgdmFsaWRhdGVfYWRkcmVzcyhfb3duZXIpIG9ubHlPd25lciB7CiAgICAgICAgbG9ja2VkQWNjb3VudHNbX293bmVyXSA9IGZhbHNlOwogICAgICAgIF91bmxvY2tBY2NvdW50KF9vd25lcik7CiAgICB9CiAgICAKICAgIC8vZ2V0IGxvY2tlZGFjY291bnQKICAgIGZ1bmN0aW9uIGdldExvY2tTdGF0dXMoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wgX2xvY2tTdGF0dXMpIHsKICAgICAgICByZXR1cm4gbG9ja2VkQWNjb3VudHNbX293bmVyXTsKICAgIH0KICAgIAogICAgLy9nZXQgbG9ja1Bvc2l0aW9uIGluZm8KICAgIGZ1bmN0aW9uIGdldExvY2tQb3NpdGlvbihhZGRyZXNzIF9hZGQpIHB1YmxpYyB2aWV3IHJldHVybnModWludCB0aW1lLHVpbnQgY291bnQsdWludCByYXRlLHVpbnQgc2NvdW50KSB7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIChscG9zaXRpb25bX2FkZF0udGltZSxscG9zaXRpb25bX2FkZF0uY291bnQsbHBvc2l0aW9uW19hZGRdLnJlbGVhc2VSYXRlLHBvc2l0aW9uU2NvdW50KF9hZGQpKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gcG9zaXRpb25TY291bnQoYWRkcmVzcyBfYWRkKSBwcml2YXRlIHZpZXcgcmV0dXJucyAodWludCBjb3VudCl7CiAgICAgICAgdWludCBfcmF0ZSA9IHNhZmVEaXYoMTAwLGxwb3NpdGlvbltfYWRkXS5yZWxlYXNlUmF0ZSk7CiAgICAgICAgdWludCBfdGltZSA9IGxwb3NpdGlvbltfYWRkXS50aW1lOwogICAgICAgIHVpbnQgX3RtcFJhdGUgPSBscG9zaXRpb25bX2FkZF0ucmVsZWFzZVJhdGU7CiAgICAgICAgdWludCBfdG1wUmF0ZUFsbCA9IDA7CiAgICAgICAgZm9yKHVpbnQgX2E9MTtfYTw9X3JhdGU7X2ErKyl7CiAgICAgICAgICAgIGlmKG5vdyA+PSBfdGltZSl7CiAgICAgICAgICAgICAgICBfdG1wUmF0ZUFsbCA9IHNhZmVBZGQoX3RtcFJhdGVBbGwsX3RtcFJhdGUpOwogICAgICAgICAgICAgICAgX3RpbWUgPSBzYWZlQWRkKF90aW1lLGxvY2tSYXRlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXR1cm4gKGxwb3NpdGlvbltfYWRkXS5jb3VudCAtIHNhZmVEaXYobHBvc2l0aW9uW19hZGRdLmNvdW50Kl90bXBSYXRlQWxsLDEwMCkpOwogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gT3duZXIgY2FuIHRyYW5zZmVyIG91dCBhbnkgYWNjaWRlbnRhbGx5IHNlbnQgRVJDMjAgdG9rZW5zCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyQW55RVJDMjBUb2tlbihhZGRyZXNzIHRva2VuQWRkcmVzcywgdWludCB0b2tlbnMpIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmV0dXJuIEVSQzIwSW50ZXJmYWNlKHRva2VuQWRkcmVzcykudHJhbnNmZXIob3duZXIsIHRva2Vucyk7CiAgICB9Cn0='.
	

]
