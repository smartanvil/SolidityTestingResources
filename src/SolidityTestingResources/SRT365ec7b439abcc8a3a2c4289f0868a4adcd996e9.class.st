Class {
	#name : #SRT365ec7b439abcc8a3a2c4289f0868a4adcd996e9,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT365ec7b439abcc8a3a2c4289f0868a4adcd996e9 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMDsKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICAgIGFkZHJlc3MgcHVibGljIE1hc3RlcjsKCgogICAgLyoqCiAgICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgICAqIGFjY291bnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgICAgIE1hc3RlciA9IG1zZy5zZW5kZXI7CiAgICB9CgoKICAgIC8qKgogICAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAgICovCiAgICBtb2RpZmllciBvbmx5TWFzdGVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBNYXN0ZXIpOwogICAgICAgIF87CiAgICB9CgoKICAgIC8qKgogICAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdNYXN0ZXIuCiAgICAgKiBAcGFyYW0gbmV3TWFzdGVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdNYXN0ZXIpIHB1YmxpYyBvbmx5TWFzdGVyIHsKICAgICAgICBpZiAobmV3TWFzdGVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgICAgICAgTWFzdGVyID0gbmV3TWFzdGVyOwogICAgICAgIH0KICAgIH0KCn0KCgoKCi8qKgogKiBAdGl0bGUgUGF1c2FibGUKICogQGRldiBCYXNlIGNvbnRyYWN0IHdoaWNoIGFsbG93cyBjaGlsZHJlbiB0byBpbXBsZW1lbnQgYW4gZW1lcmdlbmN5IHN0b3AgbWVjaGFuaXNtLgogKi8KY29udHJhY3QgUGF1c2FibGUgaXMgT3duYWJsZSB7CiAgICBldmVudCBQYXVzZSgpOwogICAgZXZlbnQgVW5wYXVzZSgpOwoKICAgIGJvb2wgcHVibGljIHBhdXNlZCA9IGZhbHNlOwoKCiAgICAvKioKICAgICAqIEBkZXYgbW9kaWZpZXIgdG8gYWxsb3cgYWN0aW9ucyBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IElTIHBhdXNlZAogICAgICovCiAgICBtb2RpZmllciB3aGVuTm90UGF1c2VkKCkgewogICAgICAgIHJlcXVpcmUoIXBhdXNlZCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgbW9kaWZpZXIgdG8gYWxsb3cgYWN0aW9ucyBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IElTIE5PVCBwYXVzZWQKICAgICAqLwogICAgbW9kaWZpZXIgd2hlblBhdXNlZCB7CiAgICAgICAgcmVxdWlyZShwYXVzZWQpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gcGF1c2UsIHRyaWdnZXJzIHN0b3BwZWQgc3RhdGUKICAgICAqLwogICAgZnVuY3Rpb24gcGF1c2UoKSBwdWJsaWMgb25seU1hc3RlciB3aGVuTm90UGF1c2VkIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBwYXVzZWQgPSB0cnVlOwogICAgICAgIFBhdXNlKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gdW5wYXVzZSwgcmV0dXJucyB0byBub3JtYWwgc3RhdGUKICAgICAqLwogICAgZnVuY3Rpb24gdW5wYXVzZSgpIHB1YmxpYyBvbmx5TWFzdGVyIHdoZW5QYXVzZWQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHBhdXNlZCA9IGZhbHNlOwogICAgICAgIFVucGF1c2UoKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKLy8KY29udHJhY3QgVXBncmFkZUludGVyZmFjZSB7CgogICAgZnVuY3Rpb24gaXNVcGdyYWRlSW50ZXJmYWNlKCkgcHVibGljIHB1cmUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyeVVwZ3JhZGUodWludDMyIGNhcklELCB1aW50OCB1cGdyYWRlSUQpIHB1YmxpYyByZXR1cm5zIChib29sKTsKCn0KCmNvbnRyYWN0IEV0aGVyUmFjaW5nQ29yZSBpcyBPd25hYmxlLCBQYXVzYWJsZSB7CgogICAgdWludDY0IF9zZWVkID0gMDsKCiAgICBmdW5jdGlvbiByYW5kb20odWludDY0IHVwcGVyKSBpbnRlcm5hbCByZXR1cm5zICh1aW50NjQpIHsKICAgICAgICBfc2VlZCA9IHVpbnQ2NChrZWNjYWsyNTYoa2VjY2FrMjU2KGJsb2NrLmJsb2NraGFzaChibG9jay5udW1iZXIpLCBfc2VlZCksIG5vdykpOwogICAgICAgIHJldHVybiBfc2VlZCAlIHVwcGVyOwogICAgfQoKICAgIHN0cnVjdCBDYXJQcm9kdWN0IHsKICAgICAgICBzdHJpbmcgbmFtZTsKICAgICAgICB1aW50MzIgYmFzZVBSOyAvLyA0NC40ICogMTAwID0+IDQ0NDAKICAgICAgICB1aW50MzIgYmFzZVRvcFNwZWVkOyAvLyAxNTVtcGggKiAxMDAgPT4gMTU1MDAKICAgICAgICB1aW50MzIgYmFzZUFjY2VsZXJhdGlvbjsgLy8gMi43MHMgKiAxMDAgPT4gMjcwCiAgICAgICAgdWludDMyIGJhc2VCcmFraW5nOyAvLyA5OWZ0ICogMTAwID0+IDk5MDAKICAgICAgICB1aW50MzIgYmFzZUdyaXA7IC8vIDEuMjBnICogMTAwID0+IDEyMAoKICAgICAgICAvLyB2YXJpYWJsZXMgZm9yIGF1Y3Rpb24KICAgICAgICB1aW50MjU2IHN0YXJ0UHJpY2U7CiAgICAgICAgdWludDI1NiBjdXJyZW50UHJpY2U7CgogICAgICAgIHVpbnQyNTYgZWFybmluZzsKICAgICAgICB1aW50MjU2IGNyZWF0ZWRBdDsKCiAgICAgICAgLy8KICAgICAgICB1aW50MzIgZW50aXR5Q291bnRlcjsKICAgICAgICBib29sIHNhbGU7CiAgICB9CgogICAgc3RydWN0IENhckVudGl0eSB7CiAgICAgICAgdWludDMyIHByb2R1Y3RJRDsKICAgICAgICBhZGRyZXNzIG93bmVyOwogICAgICAgIGFkZHJlc3MgZWFybmVyOwogICAgICAgIGJvb2wgc2VsbGluZzsKICAgICAgICB1aW50MjU2IGF1Y3Rpb25JRDsKCiAgICAgICAgLy8gRWFjaCBjYXIgaGFzIHVuaXF1ZSBzdGF0cy4KICAgICAgICB1aW50MzIgbGV2ZWw7CiAgICAgICAgdWludDMyIGV4cDsKICAgICAgICB1aW50NjQgZ2VuZXM7CiAgICAgICAgdWludDhbOF0gdXBncmFkZXM7CgogICAgICAgIC8vCiAgICAgICAgdWludDMyIGxhc3RDYXNob3V0SW5kZXg7CiAgICB9CgoKICAgIHN0cnVjdCBBdWN0aW9uRW50aXR5IHsKICAgICAgICB1aW50MzIgY2FySUQ7CiAgICAgICAgdWludDI1NiBzdGFydFByaWNlOwogICAgICAgIHVpbnQyNTYgZmluaXNoUHJpY2U7CiAgICAgICAgdWludDI1NiBzdGFydFRpbWU7CiAgICAgICAgdWludDI1NiBkdXJhdGlvbjsKICAgIH0KCiAgICAvLwogICAgdWludDMyIHB1YmxpYyBuZXdDYXJJRCA9IDE7CiAgICB1aW50MzIgcHVibGljIG5ld0NhclByb2R1Y3RJRCA9IDE7CiAgICB1aW50MjU2IHB1YmxpYyBuZXdBdWN0aW9uSUQgPSAxOwogICAgYm9vbCBjYW5Jbml0ID0gdHJ1ZTsKCiAgICBtYXBwaW5nKHVpbnQzMiA9PiBDYXJFbnRpdHkpIGNhcnM7CiAgICBtYXBwaW5nKHVpbnQzMiA9PiBDYXJQcm9kdWN0KSBjYXJQcm9kdWN0czsKICAgIG1hcHBpbmcodWludDI1NiA9PiBBdWN0aW9uRW50aXR5KSBhdWN0aW9uczsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgICBldmVudCBFdmVudENhc2hPdXQgKAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBwbGF5ZXIsCiAgICAgICAgdWludDI1NiBhbW91bnQKICAgICk7CgogICAgZXZlbnQgRXZlbnRXaW5SZXdhcmQgKAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBwbGF5ZXIsCiAgICAgICAgdWludDI1NiBhbW91bnQKICAgICk7CgogICAgZXZlbnQgRXZlbnRVcGdyYWRlQ2FyICgKICAgICAgICBhZGRyZXNzIGluZGV4ZWQgcGxheWVyLAogICAgICAgIHVpbnQzMiBjYXJJRCwKICAgICAgICB1aW50OCBzdGF0SUQsCiAgICAgICAgdWludDggdXBncmFkZUxldmVsCiAgICApOwoKICAgIGV2ZW50IEV2ZW50TGV2ZWxVcCAoCiAgICAgICAgdWludDMyIGNhcklELAogICAgICAgIHVpbnQzMiBsZXZlbCwKICAgICAgICB1aW50MzIgZXhwCiAgICApOwoKICAgIGV2ZW50IEV2ZW50VHJhbnNmZXIgKAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBwbGF5ZXIsCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIHJlY2VpdmVyLAogICAgICAgIHVpbnQzMiBjYXJJRAogICAgKTsKCiAgICBldmVudCBFdmVudFRyYW5zZmVyQWN0aW9uICgKICAgICAgICBhZGRyZXNzIGluZGV4ZWQgcGxheWVyLAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCByZWNlaXZlciwKICAgICAgICB1aW50MzIgY2FySUQsCiAgICAgICAgdWludDggYWN0aW9uVHlwZQogICAgKTsKCiAgICBldmVudCBFdmVudEF1Y3Rpb24gKAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBwbGF5ZXIsCiAgICAgICAgdWludDMyIGNhcklELAogICAgICAgIHVpbnQyNTYgc3RhcnRQcmljZSwKICAgICAgICB1aW50MjU2IGZpbmlzaFByaWNlLAogICAgICAgIHVpbnQyNTYgZHVyYXRpb24sCiAgICAgICAgdWludDI1NiBjcmVhdGVkQXQKICAgICk7CgogICAgZXZlbnQgRXZlbnRDYW5jZWxBdWN0aW9uICgKICAgICAgICB1aW50MzIgY2FySUQKICAgICk7CgogICAgZXZlbnQgRXZlbnRCaWQgKAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBwbGF5ZXIsCiAgICAgICAgdWludDMyIGNhcklECiAgICApOwoKICAgIGV2ZW50IEV2ZW50UHJvZHVjdCAoCiAgICAgICAgdWludDMyIHByb2R1Y3RJRCwKICAgICAgICBzdHJpbmcgbmFtZSwKICAgICAgICB1aW50MzIgYmFzZVBSLAogICAgICAgIHVpbnQzMiBiYXNlVG9wU3BlZWQsCiAgICAgICAgdWludDMyIGJhc2VBY2NlbGVyYXRpb24sCiAgICAgICAgdWludDMyIGJhc2VCcmFraW5nLAogICAgICAgIHVpbnQzMiBiYXNlR3JpcCwKICAgICAgICB1aW50MjU2IHByaWNlLAogICAgICAgIHVpbnQyNTYgZWFybmluZywKICAgICAgICB1aW50MjU2IGNyZWF0ZWRBdAogICAgKTsKCiAgICBldmVudCBFdmVudFByb2R1Y3RFbmRTYWxlICgKICAgICAgICB1aW50MzIgcHJvZHVjdElECiAgICApOwoKICAgIGV2ZW50IEV2ZW50QnV5Q2FyICgKICAgICAgICBhZGRyZXNzIGluZGV4ZWQgcGxheWVyLAogICAgICAgIHVpbnQzMiBwcm9kdWN0SUQsCiAgICAgICAgdWludDMyIGNhcklECiAgICApOwoKCiAgICBVcGdyYWRlSW50ZXJmYWNlIHVwZ3JhZGVJbnRlcmZhY2U7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCB1cGdyYWRlUHJpY2UgPSA1MCBmaW5uZXk7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBvd25lckN1dCA9IDUwMDsKCiAgICBmdW5jdGlvbiBzZXRVcGdyYWRlQWRkcmVzcyhhZGRyZXNzIF9hZGRyZXNzKSBleHRlcm5hbCBvbmx5TWFzdGVyIHsKICAgICAgICBVcGdyYWRlSW50ZXJmYWNlIGMgPSBVcGdyYWRlSW50ZXJmYWNlKF9hZGRyZXNzKTsKICAgICAgICByZXF1aXJlKGMuaXNVcGdyYWRlSW50ZXJmYWNlKCkpOwoKICAgICAgICAvLyBTZXQgdGhlIG5ldyBjb250cmFjdCBhZGRyZXNzCiAgICAgICAgdXBncmFkZUludGVyZmFjZSA9IGM7CiAgICB9CgogICAgZnVuY3Rpb24gRXRoZXJSYWNpbmdDb3JlKCkgcHVibGljIHsKCiAgICAgICAgYWRkQ2FyUHJvZHVjdCgiRVItMSIsIDgzMCwgIDE1NTAwLCA1MzAsIDExMjAwLCA5MCwgIDEwIGZpbm5leSwgICAwLjEgZmlubmV5KTsKICAgICAgICBhZGRDYXJQcm9kdWN0KCJFUi0yIiwgMTkxMCwgMTcxMDAsIDUwOSwgMTA3MDAsIDk1LCAgNTAgZmlubmV5LCAgIDAuNSBmaW5uZXkpOwogICAgICAgIGFkZENhclByb2R1Y3QoIkVSLTMiLCAyODIwLCAxODMwMCwgNDUwLCAxMDUwMCwgMTAwLCAxMDAgZmlubmV5LCAgMSBmaW5uZXkpOwogICAgICAgIGFkZENhclByb2R1Y3QoIkVSLTQiLCAzMDIwLCAxNzcwMCwgNDE5LCAxMDQwMCwgOTksICA1MDAgZmlubmV5LCAgNSBmaW5uZXkpOwogICAgICAgIGFkZENhclByb2R1Y3QoIkVSLTUiLCA0NDQwLCAyMDUwMCwgMzc5LCAxMDEwMCwgOTksICAxMDAwIGZpbm5leSwgMTAgZmlubmV5KTsKICAgICAgICBhZGRDYXJQcm9kdWN0KCJFUi02IiwgNDUyMCwgMjIwMDAsIDM1MCwgMTA0MDAsIDEwNCwgMTUwMCBmaW5uZXksIDE1IGZpbm5leSk7CiAgICAgICAgYWRkQ2FyUHJvZHVjdCgiRVItNyIsIDQ1NjAsIDIwNTAwLCAzNDAsIDEwMjAwLCAxMDQsIDIwMDAgZmlubmV5LCAyMCBmaW5uZXkpOwogICAgICAgIGFkZENhclByb2R1Y3QoIkVSLTgiLCA2NjAwLCAyMTcwMCwgMjkwLCA5MTAwLCAgMTM5LCAyNTAwIGZpbm5leSwgMjUgZmlubmV5KTsKICAgIH0KCiAgICBmdW5jdGlvbiBDb21wbGV0ZUluaXQoKSBwdWJsaWMgb25seU1hc3RlciB7CiAgICAgICAgY2FuSW5pdCA9IGZhbHNlOwogICAgfQoKICAgIGZ1bmN0aW9uIGNhc2hPdXQodWludDI1NiBfYW1vdW50KSBwdWJsaWMgd2hlbk5vdFBhdXNlZCB7CiAgICAgICAgcmVxdWlyZShfYW1vdW50ID49IDApOwogICAgICAgIHJlcXVpcmUoX2Ftb3VudCA9PSB1aW50MjU2KHVpbnQxMjgoX2Ftb3VudCkpKTsKICAgICAgICByZXF1aXJlKHRoaXMuYmFsYW5jZSA+PSBfYW1vdW50KTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF9hbW91bnQpOwoKICAgICAgICBpZiAoX2Ftb3VudCA9PSAwKQogICAgICAgICAgICBfYW1vdW50ID0gYmFsYW5jZXNbbXNnLnNlbmRlcl07CgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF9hbW91bnQ7CgogICAgICAgIGlmICghbXNnLnNlbmRlci5zZW5kKF9hbW91bnQpKQogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSBfYW1vdW50OwoKICAgICAgICBFdmVudENhc2hPdXQobXNnLnNlbmRlciwgX2Ftb3VudCk7CiAgICB9CgogICAgZnVuY3Rpb24gY2FzaE91dENhcih1aW50MzIgX2NhcklEKSBwdWJsaWMgd2hlbk5vdFBhdXNlZCB7CiAgICAgICAgcmVxdWlyZShfY2FySUQgPiAwICYmIF9jYXJJRCA8IG5ld0NhcklEKTsKICAgICAgICByZXF1aXJlKGNhcnNbX2NhcklEXS5vd25lciA9PSBtc2cuc2VuZGVyKTsKICAgICAgICB1aW50MjU2IF9hbW91bnQgPSBnZXRDYXJFYXJuaW5nKF9jYXJJRCk7CiAgICAgICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgPj0gX2Ftb3VudCk7CiAgICAgICAgcmVxdWlyZShfYW1vdW50ID4gMCk7CgogICAgICAgIHZhciBjYXIgPSBjYXJzW19jYXJJRF07CgogICAgICAgIHZhciBsYXN0Q2FzaG91dEluZGV4ID0gY2FyLmxhc3RDYXNob3V0SW5kZXg7CiAgICAgICAgdmFyIGxpbWl0Q2FzaG91dEluZGV4ID0gY2FyUHJvZHVjdHNbY2FyLnByb2R1Y3RJRF0uZW50aXR5Q291bnRlcjsKCiAgICAgICAgLy8KICAgICAgICBjYXJzW19jYXJJRF0ubGFzdENhc2hvdXRJbmRleCA9IGxpbWl0Q2FzaG91dEluZGV4OwoKICAgICAgICAvLyBpZiBmYWlsLCByZXZlcnQuCiAgICAgICAgaWYgKCFjYXIub3duZXIuc2VuZChfYW1vdW50KSkKICAgICAgICAgICAgY2Fyc1tfY2FySURdLmxhc3RDYXNob3V0SW5kZXggPSBsYXN0Q2FzaG91dEluZGV4OwoKICAgICAgICBFdmVudENhc2hPdXQobXNnLnNlbmRlciwgX2Ftb3VudCk7CiAgICB9CgogICAgZnVuY3Rpb24gdXBncmFkZUNhcih1aW50MzIgX2NhcklELCB1aW50OCBfc3RhdElEKSBwdWJsaWMgcGF5YWJsZSB3aGVuTm90UGF1c2VkIHsKICAgICAgICByZXF1aXJlKF9jYXJJRCA+IDAgJiYgX2NhcklEIDwgbmV3Q2FySUQpOwogICAgICAgIHJlcXVpcmUoY2Fyc1tfY2FySURdLm93bmVyID09IG1zZy5zZW5kZXIpOwogICAgICAgIHJlcXVpcmUoX3N0YXRJRCA+PSAwICYmIF9zdGF0SUQgPCA4KTsKICAgICAgICByZXF1aXJlKGNhcnNbX3N0YXRJRF0udXBncmFkZXNbX3N0YXRJRF0gPCAyMCk7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPj0gdXBncmFkZVByaWNlKTsKICAgICAgICByZXF1aXJlKHVwZ3JhZGVJbnRlcmZhY2UgIT0gYWRkcmVzcygwKSk7CgogICAgICAgIC8vCiAgICAgICAgaWYgKHVwZ3JhZGVJbnRlcmZhY2UudHJ5VXBncmFkZShfY2FySUQsIF9zdGF0SUQpKSB7CiAgICAgICAgICAgIGNhcnNbX2NhcklEXS51cGdyYWRlc1tfc3RhdElEXSsrOwogICAgICAgIH0KCiAgICAgICAgLy8KICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSBtc2cudmFsdWUgLSB1cGdyYWRlUHJpY2U7CiAgICAgICAgYmFsYW5jZXNbTWFzdGVyXSArPSB1cGdyYWRlUHJpY2U7CgogICAgICAgIEV2ZW50VXBncmFkZUNhcihtc2cuc2VuZGVyLCBfY2FySUQsIF9zdGF0SUQsIGNhcnNbX2NhcklEXS51cGdyYWRlc1tfc3RhdElEXSk7CiAgICB9CgogICAgZnVuY3Rpb24gbGV2ZWxVcENhcih1aW50MzIgX2NhcklELCB1aW50MzIgX2xldmVsLCB1aW50MzIgX2V4cCkgcHVibGljIG9ubHlNYXN0ZXIgewogICAgICAgIHJlcXVpcmUoX2NhcklEID4gMCAmJiBfY2FySUQgPCBuZXdDYXJJRCk7CgogICAgICAgIGNhcnNbX2NhcklEXS5sZXZlbCA9IF9sZXZlbDsKICAgICAgICBjYXJzW19jYXJJRF0uZXhwID0gX2V4cDsKCiAgICAgICAgRXZlbnRMZXZlbFVwKF9jYXJJRCwgX2xldmVsLCBfZXhwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfdHJhbnNmZXIodWludDMyIF9jYXJJRCwgYWRkcmVzcyBfcmVjZWl2ZXIpIHB1YmxpYyB3aGVuTm90UGF1c2VkIHsKICAgICAgICByZXF1aXJlKF9jYXJJRCA+IDAgJiYgX2NhcklEIDwgbmV3Q2FySUQpOwogICAgICAgIHJlcXVpcmUoY2Fyc1tfY2FySURdLm93bmVyID09IG1zZy5zZW5kZXIpOwogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSBfcmVjZWl2ZXIpOwogICAgICAgIHJlcXVpcmUoY2Fyc1tfY2FySURdLnNlbGxpbmcgPT0gZmFsc2UpOwogICAgICAgIGNhcnNbX2NhcklEXS5vd25lciA9IF9yZWNlaXZlcjsKICAgICAgICBjYXJzW19jYXJJRF0uZWFybmVyID0gX3JlY2VpdmVyOwoKICAgICAgICBFdmVudFRyYW5zZmVyKG1zZy5zZW5kZXIsIF9yZWNlaXZlciwgX2NhcklEKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfdHJhbnNmZXJBY3Rpb24odWludDMyIF9jYXJJRCwgYWRkcmVzcyBfcmVjZWl2ZXIsIHVpbnQ4IF9BY3Rpb25UeXBlKSBwdWJsaWMgd2hlbk5vdFBhdXNlZCB7CiAgICAgICAgcmVxdWlyZShfY2FySUQgPiAwICYmIF9jYXJJRCA8IG5ld0NhcklEKTsKICAgICAgICByZXF1aXJlKGNhcnNbX2NhcklEXS5vd25lciA9PSBtc2cuc2VuZGVyKTsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgIT0gX3JlY2VpdmVyKTsKICAgICAgICByZXF1aXJlKGNhcnNbX2NhcklEXS5zZWxsaW5nID09IGZhbHNlKTsKICAgICAgICBjYXJzW19jYXJJRF0ub3duZXIgPSBfcmVjZWl2ZXI7CgogICAgICAgIEV2ZW50VHJhbnNmZXJBY3Rpb24obXNnLnNlbmRlciwgX3JlY2VpdmVyLCBfY2FySUQsIF9BY3Rpb25UeXBlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGRBdWN0aW9uKHVpbnQzMiBfY2FySUQsIHVpbnQyNTYgX3N0YXJ0UHJpY2UsIHVpbnQyNTYgX2ZpbmlzaFByaWNlLCB1aW50MjU2IF9kdXJhdGlvbikgcHVibGljIHdoZW5Ob3RQYXVzZWQgewogICAgICAgIHJlcXVpcmUoX2NhcklEID4gMCAmJiBfY2FySUQgPCBuZXdDYXJJRCk7CiAgICAgICAgcmVxdWlyZShjYXJzW19jYXJJRF0ub3duZXIgPT0gbXNnLnNlbmRlcik7CiAgICAgICAgcmVxdWlyZShjYXJzW19jYXJJRF0uc2VsbGluZyA9PSBmYWxzZSk7CiAgICAgICAgcmVxdWlyZShfc3RhcnRQcmljZSA+PSBfZmluaXNoUHJpY2UpOwogICAgICAgIHJlcXVpcmUoX3N0YXJ0UHJpY2UgPiAwICYmIF9maW5pc2hQcmljZSA+PSAwKTsKICAgICAgICByZXF1aXJlKF9kdXJhdGlvbiA+IDApOwogICAgICAgIHJlcXVpcmUoX3N0YXJ0UHJpY2UgPT0gdWludDI1Nih1aW50MTI4KF9zdGFydFByaWNlKSkpOwogICAgICAgIHJlcXVpcmUoX2ZpbmlzaFByaWNlID09IHVpbnQyNTYodWludDEyOChfZmluaXNoUHJpY2UpKSk7CgogICAgICAgIGF1Y3Rpb25zW25ld0F1Y3Rpb25JRF0gPSBBdWN0aW9uRW50aXR5KF9jYXJJRCwgX3N0YXJ0UHJpY2UsIF9maW5pc2hQcmljZSwgbm93LCBfZHVyYXRpb24pOwogICAgICAgIGNhcnNbX2NhcklEXS5zZWxsaW5nID0gdHJ1ZTsKICAgICAgICBjYXJzW19jYXJJRF0uYXVjdGlvbklEID0gbmV3QXVjdGlvbklEKys7CgogICAgICAgIEV2ZW50QXVjdGlvbihtc2cuc2VuZGVyLCBfY2FySUQsIF9zdGFydFByaWNlLCBfZmluaXNoUHJpY2UsIF9kdXJhdGlvbiwgbm93KTsKICAgIH0KCiAgICBmdW5jdGlvbiBiaWQodWludDMyIF9jYXJJRCkgcHVibGljIHBheWFibGUgd2hlbk5vdFBhdXNlZCB7CiAgICAgICAgcmVxdWlyZShfY2FySUQgPiAwICYmIF9jYXJJRCA8IG5ld0NhcklEKTsKICAgICAgICByZXF1aXJlKGNhcnNbX2NhcklEXS5zZWxsaW5nID09IHRydWUpOwoKICAgICAgICAvLwogICAgICAgIHVpbnQyNTYgY3VycmVudFByaWNlID0gZ2V0Q2FyQ3VycmVudFByaWNlQXVjdGlvbihfY2FySUQpOwogICAgICAgIHJlcXVpcmUoY3VycmVudFByaWNlID49IDApOwogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IGN1cnJlbnRQcmljZSk7CgogICAgICAgIC8vCiAgICAgICAgdWludDI1NiBtYXJrZXRGZWUgPSBjdXJyZW50UHJpY2UgKiBvd25lckN1dCAvIDEwMDAwOwogICAgICAgIGJhbGFuY2VzW2NhcnNbX2NhcklEXS5vd25lcl0gKz0gY3VycmVudFByaWNlIC0gbWFya2V0RmVlOwogICAgICAgIGJhbGFuY2VzW01hc3Rlcl0gKz0gbWFya2V0RmVlOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZSAtIGN1cnJlbnRQcmljZTsKCiAgICAgICAgLy8KICAgICAgICBjYXJzW19jYXJJRF0ub3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIGNhcnNbX2NhcklEXS5zZWxsaW5nID0gZmFsc2U7CiAgICAgICAgZGVsZXRlIGF1Y3Rpb25zW2NhcnNbX2NhcklEXS5hdWN0aW9uSURdOwogICAgICAgIGNhcnNbX2NhcklEXS5hdWN0aW9uSUQgPSAwOwoKICAgICAgICAvLwogICAgICAgIEV2ZW50QmlkKG1zZy5zZW5kZXIsIF9jYXJJRCk7CiAgICB9CgogICAgLy8gQ2FuY2VsIGF1Y3Rpb24KICAgIGZ1bmN0aW9uIGNhbmNlbEF1Y3Rpb24odWludDMyIF9jYXJJRCkgcHVibGljIHdoZW5Ob3RQYXVzZWQgewogICAgICAgIHJlcXVpcmUoX2NhcklEID4gMCAmJiBfY2FySUQgPCBuZXdDYXJJRCk7CiAgICAgICAgcmVxdWlyZShjYXJzW19jYXJJRF0uc2VsbGluZyA9PSB0cnVlKTsKICAgICAgICByZXF1aXJlKGNhcnNbX2NhcklEXS5vd25lciA9PSBtc2cuc2VuZGVyKTsKICAgICAgICAvLyBvbmx5IG93bmVyIGNhbiBkbyB0aGlzLgogICAgICAgIGNhcnNbX2NhcklEXS5zZWxsaW5nID0gZmFsc2U7CiAgICAgICAgZGVsZXRlIGF1Y3Rpb25zW2NhcnNbX2NhcklEXS5hdWN0aW9uSURdOwogICAgICAgIGNhcnNbX2NhcklEXS5hdWN0aW9uSUQgPSAwOwoKICAgICAgICAvLwogICAgICAgIEV2ZW50Q2FuY2VsQXVjdGlvbihfY2FySUQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZENhclByb2R1Y3Qoc3RyaW5nIF9uYW1lLCB1aW50MzIgcHIsCiAgICAgICAgdWludDMyIHRvcFNwZWVkLCB1aW50MzIgYWNjZWxlcmF0aW9uLCB1aW50MzIgYnJha2luZywgdWludDMyIGdyaXAsIHVpbnQyNTYgX3ByaWNlLCB1aW50MjU2IF9lYXJuaW5nKSBwdWJsaWMgb25seU1hc3RlciB7CiAgICAgICAgY2FyUHJvZHVjdHNbbmV3Q2FyUHJvZHVjdElEKytdID0gQ2FyUHJvZHVjdChfbmFtZSwKICAgICAgICAgICAgcHIsIHRvcFNwZWVkLCBhY2NlbGVyYXRpb24sIGJyYWtpbmcsIGdyaXAsIF9wcmljZSwgX3ByaWNlLCBfZWFybmluZywgbm93LCAwLCB0cnVlKTsKCiAgICAgICAgRXZlbnRQcm9kdWN0KG5ld0NhclByb2R1Y3RJRCAtIDEsIF9uYW1lLAogICAgICAgICAgICBwciwgdG9wU3BlZWQsIGFjY2VsZXJhdGlvbiwgYnJha2luZywgZ3JpcCwgX3ByaWNlLCBfZWFybmluZywgbm93KTsKICAgIH0KCiAgICAvLyBjYXIgc2FsZXMgYXJlIGxpbWl0ZWQKICAgIGZ1bmN0aW9uIGVuZFNhbGVDYXJQcm9kdWN0KHVpbnQzMiBfY2FyUHJvZHVjdElEKSBwdWJsaWMgb25seU1hc3RlciB7CiAgICAgICAgcmVxdWlyZShfY2FyUHJvZHVjdElEID4gMCAmJiBfY2FyUHJvZHVjdElEIDwgbmV3Q2FyUHJvZHVjdElEKTsKICAgICAgICBjYXJQcm9kdWN0c1tfY2FyUHJvZHVjdElEXS5zYWxlID0gZmFsc2U7CgogICAgICAgIEV2ZW50UHJvZHVjdEVuZFNhbGUoX2NhclByb2R1Y3RJRCk7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkQ2FySW5pdChhZGRyZXNzIG93bmVyLCB1aW50MzIgX2NhclByb2R1Y3RJRCwgdWludDMyIGxldmVsLCB1aW50MzIgZXhwLCB1aW50NjQgZ2VuZXMpIHB1YmxpYyBvbmx5TWFzdGVyIHsKICAgICAgICByZXF1aXJlKGNhbkluaXQgPT0gdHJ1ZSk7CiAgICAgICAgcmVxdWlyZShfY2FyUHJvZHVjdElEID4gMCAmJiBfY2FyUHJvZHVjdElEIDwgbmV3Q2FyUHJvZHVjdElEKTsKCiAgICAgICAgLy8KICAgICAgICBjYXJQcm9kdWN0c1tfY2FyUHJvZHVjdElEXS5jdXJyZW50UHJpY2UgKz0gY2FyUHJvZHVjdHNbX2NhclByb2R1Y3RJRF0uZWFybmluZzsKCiAgICAgICAgLy8KICAgICAgICBjYXJzW25ld0NhcklEKytdID0gQ2FyRW50aXR5KF9jYXJQcm9kdWN0SUQsIG93bmVyLCBvd25lciwgZmFsc2UsIDAsCiAgICAgICAgICAgIGxldmVsLCBleHAsIGdlbmVzLAogICAgICAgICAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sICsrY2FyUHJvZHVjdHNbX2NhclByb2R1Y3RJRF0uZW50aXR5Q291bnRlcik7CgogICAgICAgIC8vCiAgICAgICAgRXZlbnRCdXlDYXIob3duZXIsIF9jYXJQcm9kdWN0SUQsIG5ld0NhcklEIC0gMSk7CiAgICB9CgogICAgZnVuY3Rpb24gYnV5Q2FyKHVpbnQzMiBfY2FyUHJvZHVjdElEKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZShfY2FyUHJvZHVjdElEID4gMCAmJiBfY2FyUHJvZHVjdElEIDwgbmV3Q2FyUHJvZHVjdElEKTsKICAgICAgICByZXF1aXJlKGNhclByb2R1Y3RzW19jYXJQcm9kdWN0SURdLmN1cnJlbnRQcmljZSA+IDAgJiYgbXNnLnZhbHVlID4gMCk7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPj0gY2FyUHJvZHVjdHNbX2NhclByb2R1Y3RJRF0uY3VycmVudFByaWNlKTsKICAgICAgICByZXF1aXJlKGNhclByb2R1Y3RzW19jYXJQcm9kdWN0SURdLnNhbGUpOwoKICAgICAgICAvLwogICAgICAgIGlmIChtc2cudmFsdWUgPiBjYXJQcm9kdWN0c1tfY2FyUHJvZHVjdElEXS5jdXJyZW50UHJpY2UpCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IG1zZy52YWx1ZSAtIGNhclByb2R1Y3RzW19jYXJQcm9kdWN0SURdLmN1cnJlbnRQcmljZTsKCiAgICAgICAgY2FyUHJvZHVjdHNbX2NhclByb2R1Y3RJRF0uY3VycmVudFByaWNlICs9IGNhclByb2R1Y3RzW19jYXJQcm9kdWN0SURdLmVhcm5pbmc7CgogICAgICAgIC8vCiAgICAgICAgY2Fyc1tuZXdDYXJJRCsrXSA9IENhckVudGl0eShfY2FyUHJvZHVjdElELCBtc2cuc2VuZGVyLCBtc2cuc2VuZGVyLCBmYWxzZSwgMCwKICAgICAgICAgICAgMSwgMCwgcmFuZG9tKH51aW50NjQoMCkpLAogICAgICAgICAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sICsrY2FyUHJvZHVjdHNbX2NhclByb2R1Y3RJRF0uZW50aXR5Q291bnRlcik7CgogICAgICAgIC8vIHNlbmQgYmFsYW5jZSB0byBNYXN0ZXIKICAgICAgICBiYWxhbmNlc1tNYXN0ZXJdICs9IGNhclByb2R1Y3RzW19jYXJQcm9kdWN0SURdLnN0YXJ0UHJpY2U7CgogICAgICAgIC8vCiAgICAgICAgRXZlbnRCdXlDYXIobXNnLnNlbmRlciwgX2NhclByb2R1Y3RJRCwgbmV3Q2FySUQgLSAxKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRDYXJQcm9kdWN0TmFtZSh1aW50MzIgX2lkKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoc3RyaW5nKSB7CiAgICAgICAgcmV0dXJuIGNhclByb2R1Y3RzW19pZF0ubmFtZTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRDYXJQcm9kdWN0KHVpbnQzMiBfaWQpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MzJbNl0pIHsKICAgICAgICB2YXIgY2FyUHJvZHVjdCA9IGNhclByb2R1Y3RzW19pZF07CiAgICAgICAgcmV0dXJuIFtjYXJQcm9kdWN0LmJhc2VQUiwKICAgICAgICBjYXJQcm9kdWN0LmJhc2VUb3BTcGVlZCwKICAgICAgICBjYXJQcm9kdWN0LmJhc2VBY2NlbGVyYXRpb24sCiAgICAgICAgY2FyUHJvZHVjdC5iYXNlQnJha2luZywKICAgICAgICBjYXJQcm9kdWN0LmJhc2VHcmlwLAogICAgICAgIHVpbnQzMihjYXJQcm9kdWN0c1tfaWRdLmNyZWF0ZWRBdCldOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldENhckRldGFpbHModWludDMyIF9pZCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NFsxMl0pIHsKICAgICAgICB2YXIgY2FyID0gY2Fyc1tfaWRdOwogICAgICAgIHJldHVybiBbdWludDY0KGNhci5wcm9kdWN0SUQpLAogICAgICAgIHVpbnQ2NChjYXIuZ2VuZXMpLAogICAgICAgIHVpbnQ2NChjYXIudXBncmFkZXNbMF0pLAogICAgICAgIHVpbnQ2NChjYXIudXBncmFkZXNbMV0pLAogICAgICAgIHVpbnQ2NChjYXIudXBncmFkZXNbMl0pLAogICAgICAgIHVpbnQ2NChjYXIudXBncmFkZXNbM10pLAogICAgICAgIHVpbnQ2NChjYXIudXBncmFkZXNbNF0pLAogICAgICAgIHVpbnQ2NChjYXIudXBncmFkZXNbNV0pLAogICAgICAgIHVpbnQ2NChjYXIudXBncmFkZXNbNl0pLAogICAgICAgIHVpbnQ2NChjYXIudXBncmFkZXNbN10pLAogICAgICAgIHVpbnQ2NChjYXIubGV2ZWwpLAogICAgICAgIHVpbnQ2NChjYXIuZXhwKQogICAgICAgIF07CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Q2FyT3duZXIodWludDMyIF9pZCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MpIHsKICAgICAgICByZXR1cm4gY2Fyc1tfaWRdLm93bmVyOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldENhclNlbGxpbmcodWludDMyIF9pZCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gY2Fyc1tfaWRdLnNlbGxpbmc7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Q2FyQXVjdGlvbklEKHVpbnQzMiBfaWQpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGNhcnNbX2lkXS5hdWN0aW9uSUQ7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Q2FyRWFybmluZyh1aW50MzIgX2lkKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHZhciBjYXIgPSBjYXJzW19pZF07CiAgICAgICAgdmFyIGNhclByb2R1Y3QgPSBjYXJQcm9kdWN0c1tjYXIucHJvZHVjdElEXTsKICAgICAgICB2YXIgbGltaXRDYXNob3V0SW5kZXggPSBjYXJQcm9kdWN0LmVudGl0eUNvdW50ZXI7CgogICAgICAgIC8vCiAgICAgICAgcmV0dXJuIGNhclByb2R1Y3QuZWFybmluZyAqCiAgICAgICAgICAgIChsaW1pdENhc2hvdXRJbmRleCAtIGNhci5sYXN0Q2FzaG91dEluZGV4KTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRDYXJDb3VudCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MzIpIHsKICAgICAgICByZXR1cm4gbmV3Q2FySUQtMTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRDYXJDdXJyZW50UHJpY2VBdWN0aW9uKHVpbnQzMiBfaWQpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmVxdWlyZShnZXRDYXJTZWxsaW5nKF9pZCkpOwogICAgICAgIHZhciBjYXIgPSBjYXJzW19pZF07CiAgICAgICAgdmFyIGN1cnJlbnRBdWN0aW9uID0gYXVjdGlvbnNbY2FyLmF1Y3Rpb25JRF07CiAgICAgICAgdWludDI1NiBjdXJyZW50UHJpY2UgPSBjdXJyZW50QXVjdGlvbi5zdGFydFByaWNlCiAgICAgICAgLSAoKChjdXJyZW50QXVjdGlvbi5zdGFydFByaWNlIC0gY3VycmVudEF1Y3Rpb24uZmluaXNoUHJpY2UpIC8gKGN1cnJlbnRBdWN0aW9uLmR1cmF0aW9uKSkgKiAobm93IC0gY3VycmVudEF1Y3Rpb24uc3RhcnRUaW1lKSk7CiAgICAgICAgaWYgKGN1cnJlbnRQcmljZSA8IGN1cnJlbnRBdWN0aW9uLmZpbmlzaFByaWNlKQogICAgICAgICAgICBjdXJyZW50UHJpY2UgPSBjdXJyZW50QXVjdGlvbi5maW5pc2hQcmljZTsKICAgICAgICByZXR1cm4gY3VycmVudFByaWNlOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldENhclByb2R1Y3RDdXJyZW50UHJpY2UodWludDMyIF9pZCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gY2FyUHJvZHVjdHNbX2lkXS5jdXJyZW50UHJpY2U7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Q2FyUHJvZHVjdEVhcm5pbmcodWludDMyIF9pZCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gY2FyUHJvZHVjdHNbX2lkXS5lYXJuaW5nOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldENhclByb2R1Y3RDb3VudCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MzIpIHsKICAgICAgICByZXR1cm4gbmV3Q2FyUHJvZHVjdElELTE7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UGxheWVyQmFsYW5jZShhZGRyZXNzIF9wbGF5ZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19wbGF5ZXJdOwogICAgfQp9'.
	

]
