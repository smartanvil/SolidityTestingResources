Class {
	#name : #SRT76273a63d7c102a61104149f3cc567ec2b4e4257,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT76273a63d7c102a61104149f3cc567ec2b4e4257 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7Cgpjb250cmFjdCBFUkMyMFRva2VuIHsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpOwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSk7Cn0KY29udHJhY3QgR3JvdmVBUEkgewogIGZ1bmN0aW9uIGluc2VydChieXRlczMyIGluZGV4TmFtZSwgYnl0ZXMzMiBpZCwgaW50IHZhbHVlKSBwdWJsaWM7Cn0KCi8qKgogKiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gbWF4NjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1heDI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9Cn0KCmNvbnRyYWN0IFVuaWNvcm5SYW5jaCB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogIGVudW0gVmlzaXRUeXBlIHsgU3BhLCBBZnRlcm5vb24sIERheSwgT3Zlcm5pZ2h0LCBXZWVrLCBFeHRlbmRlZCB9CiAgZW51bSBWaXNpdFN0YXRlIHsgSW5Qcm9ncmVzcywgQ29tcGxldGVkLCBSZXBvc3Nlc3NlZCB9CiAgCiAgc3RydWN0IFZpc2l0IHsKICAgIHVpbnQgdW5pY29ybkNvdW50OwogICAgVmlzaXRUeXBlIHQ7CiAgICB1aW50IHN0YXJ0QmxvY2s7CiAgICB1aW50IGV4cGlyZXNCbG9jazsKICAgIFZpc2l0U3RhdGUgc3RhdGU7CiAgfQogIHN0cnVjdCBWaXNpdE1ldGEgewogICAgYWRkcmVzcyBvd25lcjsKICAgIHVpbnQgaW5kZXg7CiAgfQogIAogIGFkZHJlc3MgcHVibGljIGNhcmRib2FyZFVuaWNvcm5Ub2tlbkFkZHJlc3M7CiAgYWRkcmVzcyBwdWJsaWMgZ3JvdmVBZGRyZXNzOwogIGFkZHJlc3MgcHVibGljIG93bmVyID0gbXNnLnNlbmRlcjsKICBtYXBwaW5nIChhZGRyZXNzID0+IFZpc2l0W10pIGJvb2tpbmdzOwogIG1hcHBpbmcgKGJ5dGVzMzIgPT4gVmlzaXRNZXRhKSBwdWJsaWMgYm9va2luZ01ldGFkYXRhRm9yS2V5OwogIG1hcHBpbmcgKHVpbnQ4ID0+IHVpbnQpIHB1YmxpYyB2aXNpdExlbmd0aDsKICBtYXBwaW5nICh1aW50OCA9PiB1aW50KSBwdWJsaWMgdmlzaXRDb3N0OwogIHVpbnQgcHVibGljIHZpc2l0aW5nVW5pY29ybnMgPSAwOwogIHVpbnQgcHVibGljIHJlcG9zc2Vzc2lvbkJsb2NrcyA9IDEyMDk2MDsKICB1aW50OCBwdWJsaWMgcmVwb3NzZXNzaW9uQm91bnR5UGVyVGVuID0gMjsKICB1aW50OCBwdWJsaWMgcmVwb3NzZXNzaW9uQm91bnR5UGVySHVuZHJlZCA9IDI1OwogIHVpbnQgcHVibGljIGJpcnRoQmxvY2tUaHJlc2hvbGQgPSA2MDQ4MDsKICB1aW50OCBwdWJsaWMgYmlydGhQZXJUZW4gPSAxOwogIHVpbnQ4IHB1YmxpYyBiaXJ0aFBlckh1bmRyZWQgPSAxNTsKCiAgZXZlbnQgTmV3Qm9va2luZyhhZGRyZXNzIGluZGV4ZWQgX3dobywgdWludCBpbmRleGVkIF9pbmRleCwgVmlzaXRUeXBlIGluZGV4ZWQgX3R5cGUsIHVpbnQgX3VuaWNvcm5Db3VudCk7CiAgZXZlbnQgQm9va2luZ1VwZGF0ZShhZGRyZXNzIGluZGV4ZWQgX3dobywgdWludCBpbmRleGVkIF9pbmRleCwgVmlzaXRTdGF0ZSBpbmRleGVkIF9uZXdTdGF0ZSwgdWludCBfdW5pY29ybkNvdW50KTsKICBldmVudCBSZXBvc3Nlc3Npb25Cb3VudHkoYWRkcmVzcyBpbmRleGVkIF93aG8sIHVpbnQgX3VuaWNvcm5Db3VudCk7CiAgZXZlbnQgRG9uYXRpb25SZWNlaXZlZChhZGRyZXNzIGluZGV4ZWQgX3dobywgdWludCBfdW5pY29ybkNvdW50KTsKCiAgbW9kaWZpZXIgb25seU93bmVyIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KICAKICBmdW5jdGlvbiBVbmljb3JuUmFuY2goKSB7CiAgICB2aXNpdExlbmd0aFt1aW50OChWaXNpdFR5cGUuU3BhKV0gPSA3MjA7CiAgICB2aXNpdExlbmd0aFt1aW50OChWaXNpdFR5cGUuQWZ0ZXJub29uKV0gPSAxNDQwOwogICAgdmlzaXRMZW5ndGhbdWludDgoVmlzaXRUeXBlLkRheSldID0gMjg4MDsKICAgIHZpc2l0TGVuZ3RoW3VpbnQ4KFZpc2l0VHlwZS5PdmVybmlnaHQpXSA9IDg2NDA7CiAgICB2aXNpdExlbmd0aFt1aW50OChWaXNpdFR5cGUuV2VlayldID0gNjA0ODA7CiAgICB2aXNpdExlbmd0aFt1aW50OChWaXNpdFR5cGUuRXh0ZW5kZWQpXSA9IDEyMDk2MDsKICAgIAogICAgdmlzaXRDb3N0W3VpbnQ4KFZpc2l0VHlwZS5TcGEpXSA9IDA7CiAgICB2aXNpdENvc3RbdWludDgoVmlzaXRUeXBlLkFmdGVybm9vbildID0gMDsKICAgIHZpc2l0Q29zdFt1aW50OChWaXNpdFR5cGUuRGF5KV0gPSAxIHN6YWJvOwogICAgdmlzaXRDb3N0W3VpbnQ4KFZpc2l0VHlwZS5PdmVybmlnaHQpXSA9IDEgc3phYm87CiAgICB2aXNpdENvc3RbdWludDgoVmlzaXRUeXBlLldlZWspXSA9IDEgc3phYm87CiAgICB2aXNpdENvc3RbdWludDgoVmlzaXRUeXBlLkV4dGVuZGVkKV0gPSAxIHN6YWJvOwogIH0KCgogIGZ1bmN0aW9uIGdldEJvb2tpbmdDb3VudChhZGRyZXNzIF93aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQgY291bnQpIHsKICAgIHJldHVybiBib29raW5nc1tfd2hvXS5sZW5ndGg7CiAgfQogIGZ1bmN0aW9uIGdldEJvb2tpbmcoYWRkcmVzcyBfd2hvLCB1aW50IF9pbmRleCkgY29uc3RhbnQgcmV0dXJucyAodWludCBfdW5pY29ybkNvdW50LCBWaXNpdFR5cGUgX3R5cGUsIHVpbnQgX3N0YXJ0QmxvY2ssIHVpbnQgX2V4cGlyZXNCbG9jaywgVmlzaXRTdGF0ZSBfc3RhdGUpIHsKICAgIFZpc2l0IHN0b3JhZ2UgdiA9IGJvb2tpbmdzW193aG9dW19pbmRleF07CiAgICByZXR1cm4gKHYudW5pY29ybkNvdW50LCB2LnQsIHYuc3RhcnRCbG9jaywgdi5leHBpcmVzQmxvY2ssIHYuc3RhdGUpOwogIH0KCiAgZnVuY3Rpb24gYm9va1NwYVZpc2l0KHVpbnQgX3VuaWNvcm5Db3VudCkgcGF5YWJsZSB7CiAgICByZXR1cm4gYWRkQm9va2luZyhWaXNpdFR5cGUuU3BhLCBfdW5pY29ybkNvdW50KTsKICB9CiAgZnVuY3Rpb24gYm9va0FmdGVybm9vblZpc2l0KHVpbnQgX3VuaWNvcm5Db3VudCkgcGF5YWJsZSB7CiAgICByZXR1cm4gYWRkQm9va2luZyhWaXNpdFR5cGUuQWZ0ZXJub29uLCBfdW5pY29ybkNvdW50KTsKICB9CiAgZnVuY3Rpb24gYm9va0RheVZpc2l0KHVpbnQgX3VuaWNvcm5Db3VudCkgcGF5YWJsZSB7CiAgICByZXR1cm4gYWRkQm9va2luZyhWaXNpdFR5cGUuRGF5LCBfdW5pY29ybkNvdW50KTsKICB9CiAgZnVuY3Rpb24gYm9va092ZXJuaWdodFZpc2l0KHVpbnQgX3VuaWNvcm5Db3VudCkgcGF5YWJsZSB7CiAgICByZXR1cm4gYWRkQm9va2luZyhWaXNpdFR5cGUuT3Zlcm5pZ2h0LCBfdW5pY29ybkNvdW50KTsKICB9CiAgZnVuY3Rpb24gYm9va1dlZWtWaXNpdCh1aW50IF91bmljb3JuQ291bnQpIHBheWFibGUgewogICAgcmV0dXJuIGFkZEJvb2tpbmcoVmlzaXRUeXBlLldlZWssIF91bmljb3JuQ291bnQpOwogIH0KICBmdW5jdGlvbiBib29rRXh0ZW5kZWRWaXNpdCh1aW50IF91bmljb3JuQ291bnQpIHBheWFibGUgewogICAgcmV0dXJuIGFkZEJvb2tpbmcoVmlzaXRUeXBlLkV4dGVuZGVkLCBfdW5pY29ybkNvdW50KTsKICB9CiAgCiAgZnVuY3Rpb24gYWRkQm9va2luZyhWaXNpdFR5cGUgX3R5cGUsIHVpbnQgX3VuaWNvcm5Db3VudCkgcGF5YWJsZSB7CiAgICBpZiAoX3R5cGUgPT0gVmlzaXRUeXBlLkFmdGVybm9vbikgewogICAgICByZXR1cm4gZG9uYXRlVW5pY29ybnMoYXZhaWxhYmxlQmFsYW5jZShtc2cuc2VuZGVyKSk7CiAgICB9CiAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSB2aXNpdENvc3RbdWludDgoX3R5cGUpXS5tdWwoX3VuaWNvcm5Db3VudCkpOyAvLyBNdXN0IGJlIHBheWluZyBwcm9wZXIgYW1vdW50CgogICAgRVJDMjBUb2tlbiBjYXJkYm9hcmRVbmljb3JucyA9IEVSQzIwVG9rZW4oY2FyZGJvYXJkVW5pY29yblRva2VuQWRkcmVzcyk7CiAgICBjYXJkYm9hcmRVbmljb3Jucy50cmFuc2ZlckZyb20obXNnLnNlbmRlciwgYWRkcmVzcyh0aGlzKSwgX3VuaWNvcm5Db3VudCk7IC8vIFRyYW5zZmVyIHRoZSBhY3R1YWwgYXNzZXQKICAgIHZpc2l0aW5nVW5pY29ybnMgPSB2aXNpdGluZ1VuaWNvcm5zLmFkZChfdW5pY29ybkNvdW50KTsKICAgIHVpbnQgZXhwaXJlc0Jsb2NrID0gYmxvY2subnVtYmVyLmFkZCh2aXNpdExlbmd0aFt1aW50OChfdHlwZSldKTsgLy8gQ2FsY3VsYXRlIHdoZW4gdGhpcyBib29raW5nIHdpbGwgYmUgZG9uZQogICAgCiAgICAvLyBBZGQgdGhlIGJvb2tpbmcgdG8gdGhlIGxlZGdlcgogICAgYm9va2luZ3NbbXNnLnNlbmRlcl0ucHVzaChWaXNpdCgKICAgICAgX3VuaWNvcm5Db3VudCwKICAgICAgX3R5cGUsCiAgICAgIGJsb2NrLm51bWJlciwKICAgICAgZXhwaXJlc0Jsb2NrLAogICAgICBWaXNpdFN0YXRlLkluUHJvZ3Jlc3MKICAgICkpOwogICAgdWludCBuZXdJbmRleCA9IGJvb2tpbmdzW21zZy5zZW5kZXJdLmxlbmd0aCAtIDE7CiAgICBieXRlczMyIHVuaXF1ZUtleSA9IGtlY2NhazI1Nihtc2cuc2VuZGVyLCBuZXdJbmRleCk7IC8vIENyZWF0ZSBhIHVuaXF1ZSBrZXkgZm9yIHRoaXMgYm9va2luZwogICAgCiAgICAvLyBBZGQgYSByZWZlcmVuY2UgZm9yIHRoYXQga2V5LCB0byBmaW5kIHRoZSBtZXRhZGF0YSBhYm91dCBpdCBsYXRlcgogICAgYm9va2luZ01ldGFkYXRhRm9yS2V5W3VuaXF1ZUtleV0gPSBWaXNpdE1ldGEoCiAgICAgIG1zZy5zZW5kZXIsCiAgICAgIG5ld0luZGV4CiAgICApOwogICAgCiAgICBpZiAoZ3JvdmVBZGRyZXNzID4gMCkgewogICAgICAvLyBJbnNlcnQgaW50byBHcm92ZSBpbmRleCBmb3IgYXBwbGljYXRpb25zIHRvIHF1ZXJ5CiAgICAgIEdyb3ZlQVBJIGcgPSBHcm92ZUFQSShncm92ZUFkZHJlc3MpOwogICAgICBnLmluc2VydCgiYm9va2luZ0V4cGlyYXRpb24iLCB1bmlxdWVLZXksIGludChleHBpcmVzQmxvY2spKTsKICAgIH0KICAgIAogICAgLy8gU2VuZCBldmVudCBhYm91dCB0aGlzIG5ldyBib29raW5nCiAgICBOZXdCb29raW5nKG1zZy5zZW5kZXIsIG5ld0luZGV4LCBfdHlwZSwgX3VuaWNvcm5Db3VudCk7CiAgfQogIAogIGZ1bmN0aW9uIGNvbXBsZXRlQm9va2luZyh1aW50IF9pbmRleCkgewogICAgcmVxdWlyZShib29raW5nc1ttc2cuc2VuZGVyXS5sZW5ndGggPiBfaW5kZXgpOyAvLyBTZW5kZXIgbXVzdCBoYXZlIGF0IGxlYXN0IHRoaXMgbWFueSBib29raW5ncwogICAgVmlzaXQgc3RvcmFnZSB2ID0gYm9va2luZ3NbbXNnLnNlbmRlcl1bX2luZGV4XTsKICAgIHJlcXVpcmUoYmxvY2subnVtYmVyID49IHYuZXhwaXJlc0Jsb2NrKTsgLy8gRXhwaXJlZCB0aW1lIG11c3QgYmUgcGFzdAogICAgcmVxdWlyZSh2LnN0YXRlID09IFZpc2l0U3RhdGUuSW5Qcm9ncmVzcyk7IC8vIFZpc2l0IG11c3Qgbm90IGJlIGNvbXBsZXRlIG9yIHJlcG9zc2Vzc2VkCiAgICAKICAgIHVpbnQgdW5pY29ybnNUb1JldHVybiA9IHYudW5pY29ybkNvdW50OwogICAgRVJDMjBUb2tlbiBjYXJkYm9hcmRVbmljb3JucyA9IEVSQzIwVG9rZW4oY2FyZGJvYXJkVW5pY29yblRva2VuQWRkcmVzcyk7CgogICAgLy8gRGV0ZXJtaW5lIGlmIGFueSBiaXJ0aHMgb2NjdXJyZWQKICAgIHVpbnQgYmlydGhDb3VudCA9IDA7CiAgICBpZiAoU2FmZU1hdGguc3ViKGJsb2NrLm51bWJlciwgdi5zdGFydEJsb2NrKSA+PSBiaXJ0aEJsb2NrVGhyZXNob2xkKSB7CiAgICAgIGlmICh2LnVuaWNvcm5Db3VudCA+PSAxMDApIHsKICAgICAgICBiaXJ0aENvdW50ID0gdWludChiaXJ0aFBlckh1bmRyZWQpLm11bCh2LnVuaWNvcm5Db3VudCAvIDEwMCk7CiAgICAgIH0gZWxzZSBpZiAodi51bmljb3JuQ291bnQgPj0gMTApIHsKICAgICAgICBiaXJ0aENvdW50ID0gdWludChiaXJ0aFBlclRlbikubXVsKHYudW5pY29ybkNvdW50IC8gMTApOwogICAgICB9CiAgICB9CiAgICBpZiAoYmlydGhDb3VudCA+IDApIHsKICAgICAgdWludCBhdmFpbGFibGVVbmljb3JucyA9IGNhcmRib2FyZFVuaWNvcm5zLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKSAtIHZpc2l0aW5nVW5pY29ybnM7CiAgICAgIGlmIChhdmFpbGFibGVVbmljb3JucyA8IGJpcnRoQ291bnQpIHsKICAgICAgICBiaXJ0aENvdW50ID0gYXZhaWxhYmxlVW5pY29ybnM7CiAgICAgIH0KICAgICAgdW5pY29ybnNUb1JldHVybiA9IHVuaWNvcm5zVG9SZXR1cm4uYWRkKGJpcnRoQ291bnQpOwogICAgfQogICAgICAgIAogICAgLy8gVXBkYXRlIHRoZSBzdGF0dXMgb2YgdGhlIFZpc2l0CiAgICB2LnN0YXRlID0gVmlzaXRTdGF0ZS5Db21wbGV0ZWQ7CiAgICBib29raW5nc1ttc2cuc2VuZGVyXVtfaW5kZXhdID0gdjsKICAgIAogICAgLy8gVHJhbnNmZXIgdGhlIGFzc2V0IGJhY2sgdG8gdGhlIG93bmVyCiAgICB2aXNpdGluZ1VuaWNvcm5zID0gdmlzaXRpbmdVbmljb3Jucy5zdWIodW5pY29ybnNUb1JldHVybik7CiAgICBjYXJkYm9hcmRVbmljb3Jucy50cmFuc2Zlcihtc2cuc2VuZGVyLCB1bmljb3Juc1RvUmV0dXJuKTsKICAgIAogICAgLy8gU2VuZCBldmVudCBhYm91dCB0aGlzIHVwZGF0ZQogICAgQm9va2luZ1VwZGF0ZShtc2cuc2VuZGVyLCBfaW5kZXgsIFZpc2l0U3RhdGUuQ29tcGxldGVkLCB1bmljb3Juc1RvUmV0dXJuKTsKICB9CiAgCiAgZnVuY3Rpb24gcmVwb3NzZXNzQm9va2luZyhhZGRyZXNzIF93aG8sIHVpbnQgX2luZGV4KSB7CiAgICByZXF1aXJlKGJvb2tpbmdzW193aG9dLmxlbmd0aCA+IF9pbmRleCk7IC8vIEFkZHJlc3MgaW4gcXVlc3Rpb24gbXVzdCBoYXZlIGF0IGxlYXN0IHRoaXMgbWFueSBib29raW5ncwogICAgVmlzaXQgc3RvcmFnZSB2ID0gYm9va2luZ3NbX3dob11bX2luZGV4XTsKICAgIHJlcXVpcmUoYmxvY2subnVtYmVyID4gdi5leHBpcmVzQmxvY2suYWRkKHJlcG9zc2Vzc2lvbkJsb2NrcykpOyAvLyBSZXBvc3Nlc3Npb24gdGltZSBtdXN0IGJlIHBhc3QKICAgIHJlcXVpcmUodi5zdGF0ZSA9PSBWaXNpdFN0YXRlLkluUHJvZ3Jlc3MpOyAvLyBWaXNpdCBtdXN0IG5vdCBiZSBjb21wbGV0ZSBvciByZXBvc3Nlc3NlZAogICAgCiAgICAvLyBVcGRhdGUgdGhlIHN0YXR1cyBvZiB0aGUgVmlzaXQKICAgIHYuc3RhdGUgPSBWaXNpdFN0YXRlLlJlcG9zc2Vzc2VkOwogICAgYm9va2luZ3NbX3dob11bX2luZGV4XSA9IHY7CiAgICB2aXNpdGluZ1VuaWNvcm5zID0gdmlzaXRpbmdVbmljb3Jucy5zdWIodi51bmljb3JuQ291bnQpOwogICAgCiAgICAvLyBTZW5kIGV2ZW50IGFib3V0IHRoaXMgdXBkYXRlCiAgICBCb29raW5nVXBkYXRlKF93aG8sIF9pbmRleCwgVmlzaXRTdGF0ZS5SZXBvc3Nlc3NlZCwgdi51bmljb3JuQ291bnQpOwogICAgCiAgICAvLyBDYWxjdWxhdGUgQm91bnR5IGFtb3VudAogICAgdWludCBib3VudHlDb3VudCA9IDE7CiAgICBpZiAodi51bmljb3JuQ291bnQgPj0gMTAwKSB7CiAgICAgICAgYm91bnR5Q291bnQgPSB1aW50KHJlcG9zc2Vzc2lvbkJvdW50eVBlckh1bmRyZWQpLm11bCh2LnVuaWNvcm5Db3VudCAvIDEwMCk7CiAgICB9IGVsc2UgaWYgKHYudW5pY29ybkNvdW50ID49IDEwKSB7CiAgICAgIGJvdW50eUNvdW50ID0gdWludChyZXBvc3Nlc3Npb25Cb3VudHlQZXJUZW4pLm11bCh2LnVuaWNvcm5Db3VudCAvIDEwKTsKICAgIH0KICAgIAogICAgLy8gU2VuZCBib3VudHkgdG8gYm91bnR5IGh1bnRlcgogICAgRVJDMjBUb2tlbiBjYXJkYm9hcmRVbmljb3JucyA9IEVSQzIwVG9rZW4oY2FyZGJvYXJkVW5pY29yblRva2VuQWRkcmVzcyk7CiAgICBjYXJkYm9hcmRVbmljb3Jucy50cmFuc2Zlcihtc2cuc2VuZGVyLCBib3VudHlDb3VudCk7CiAgICAKICAgIC8vIFNlbmQgZXZlbnQgYWJvdXQgdGhlIGJvdW50eSBwYXlvdXQKICAgIFJlcG9zc2Vzc2lvbkJvdW50eShtc2cuc2VuZGVyLCBib3VudHlDb3VudCk7CiAgfQogIAogIGZ1bmN0aW9uIGF2YWlsYWJsZUJhbGFuY2UoYWRkcmVzcyBfd2hvKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICBFUkMyMFRva2VuIGNhcmRib2FyZFVuaWNvcm5zID0gRVJDMjBUb2tlbihjYXJkYm9hcmRVbmljb3JuVG9rZW5BZGRyZXNzKTsKICAgIHVpbnQgY291bnQgPSBjYXJkYm9hcmRVbmljb3Jucy5hbGxvd2FuY2UoX3dobywgYWRkcmVzcyh0aGlzKSk7CiAgICBpZiAoY291bnQgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQgYmFsYW5jZSA9IGNhcmRib2FyZFVuaWNvcm5zLmJhbGFuY2VPZihfd2hvKTsKICAgIGlmIChiYWxhbmNlIDwgY291bnQpIHsKICAgICAgcmV0dXJuIGJhbGFuY2U7CiAgICB9CiAgICByZXR1cm4gY291bnQ7CiAgfQogIAogIGZ1bmN0aW9uKCkgcGF5YWJsZSB7CiAgICBpZiAoY2FyZGJvYXJkVW5pY29yblRva2VuQWRkcmVzcyA9PSAwKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHJldHVybiBkb25hdGVVbmljb3JucyhhdmFpbGFibGVCYWxhbmNlKG1zZy5zZW5kZXIpKTsKICB9CiAgCiAgZnVuY3Rpb24gZG9uYXRlVW5pY29ybnModWludCBfdW5pY29ybkNvdW50KSBwYXlhYmxlIHsKICAgIGlmIChfdW5pY29ybkNvdW50ID09IDApIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgRVJDMjBUb2tlbiBjYXJkYm9hcmRVbmljb3JucyA9IEVSQzIwVG9rZW4oY2FyZGJvYXJkVW5pY29yblRva2VuQWRkcmVzcyk7CiAgICBjYXJkYm9hcmRVbmljb3Jucy50cmFuc2ZlckZyb20obXNnLnNlbmRlciwgYWRkcmVzcyh0aGlzKSwgX3VuaWNvcm5Db3VudCk7CiAgICBEb25hdGlvblJlY2VpdmVkKG1zZy5zZW5kZXIsIF91bmljb3JuQ291bnQpOwogIH0KICAKICAvKioKICAgKiBDaGFuZ2Ugb3duZXJzaGlwIG9mIHRoZSBSYW5jaAogICAqLwogIGZ1bmN0aW9uIGNoYW5nZU93bmVyKGFkZHJlc3MgX25ld093bmVyKSBvbmx5T3duZXIgewogICAgb3duZXIgPSBfbmV3T3duZXI7CiAgfQoKICAvKioKICAgKiBDaGFuZ2UgdGhlIG91dHNpZGUgY29udHJhY3RzIHVzZWQgYnkgdGhpcyBjb250cmFjdAogICAqLwogIGZ1bmN0aW9uIGNoYW5nZUNhcmRib2FyZFVuaWNvcm5Ub2tlbkFkZHJlc3MoYWRkcmVzcyBfbmV3VG9rZW5BZGRyZXNzKSBvbmx5T3duZXIgewogICAgY2FyZGJvYXJkVW5pY29yblRva2VuQWRkcmVzcyA9IF9uZXdUb2tlbkFkZHJlc3M7CiAgfQogIGZ1bmN0aW9uIGNoYW5nZUdyb3ZlQWRkcmVzcyhhZGRyZXNzIF9uZXdBZGRyZXNzKSBvbmx5T3duZXIgewogICAgZ3JvdmVBZGRyZXNzID0gX25ld0FkZHJlc3M7CiAgfQogIAogIC8qKgogICAqIFVwZGF0ZSBibG9jayBkdXJhdGlvbnMgZm9yIHZhcmlvdXMgdHlwZXMgb2YgdmlzaXRzCiAgICovCiAgZnVuY3Rpb24gY2hhbmdlVmlzaXRMZW5ndGhzKHVpbnQgX3NwYSwgdWludCBfYWZ0ZXJub29uLCB1aW50IF9kYXksIHVpbnQgX292ZXJuaWdodCwgdWludCBfd2VlaywgdWludCBfZXh0ZW5kZWQpIG9ubHlPd25lciB7CiAgICB2aXNpdExlbmd0aFt1aW50OChWaXNpdFR5cGUuU3BhKV0gPSBfc3BhOwogICAgdmlzaXRMZW5ndGhbdWludDgoVmlzaXRUeXBlLkFmdGVybm9vbildID0gX2FmdGVybm9vbjsKICAgIHZpc2l0TGVuZ3RoW3VpbnQ4KFZpc2l0VHlwZS5EYXkpXSA9IF9kYXk7CiAgICB2aXNpdExlbmd0aFt1aW50OChWaXNpdFR5cGUuT3Zlcm5pZ2h0KV0gPSBfb3Zlcm5pZ2h0OwogICAgdmlzaXRMZW5ndGhbdWludDgoVmlzaXRUeXBlLldlZWspXSA9IF93ZWVrOwogICAgdmlzaXRMZW5ndGhbdWludDgoVmlzaXRUeXBlLkV4dGVuZGVkKV0gPSBfZXh0ZW5kZWQ7CiAgfQogIAogIC8qKgogICAqIFVwZGF0ZSBldGhlciBjb3N0cyBmb3IgdmFyaW91cyB0eXBlcyBvZiB2aXNpdHMKICAgKi8KICBmdW5jdGlvbiBjaGFuZ2VWaXNpdENvc3RzKHVpbnQgX3NwYSwgdWludCBfYWZ0ZXJub29uLCB1aW50IF9kYXksIHVpbnQgX292ZXJuaWdodCwgdWludCBfd2VlaywgdWludCBfZXh0ZW5kZWQpIG9ubHlPd25lciB7CiAgICB2aXNpdENvc3RbdWludDgoVmlzaXRUeXBlLlNwYSldID0gX3NwYTsKICAgIHZpc2l0Q29zdFt1aW50OChWaXNpdFR5cGUuQWZ0ZXJub29uKV0gPSBfYWZ0ZXJub29uOwogICAgdmlzaXRDb3N0W3VpbnQ4KFZpc2l0VHlwZS5EYXkpXSA9IF9kYXk7CiAgICB2aXNpdENvc3RbdWludDgoVmlzaXRUeXBlLk92ZXJuaWdodCldID0gX292ZXJuaWdodDsKICAgIHZpc2l0Q29zdFt1aW50OChWaXNpdFR5cGUuV2VlayldID0gX3dlZWs7CiAgICB2aXNpdENvc3RbdWludDgoVmlzaXRUeXBlLkV4dGVuZGVkKV0gPSBfZXh0ZW5kZWQ7CiAgfQogIAogIC8qKgogICAqIFVwZGF0ZSBib3VudHkgcmV3YXJkIHNldHRpbmdzCiAgICovCiAgZnVuY3Rpb24gY2hhbmdlUmVwb1NldHRpbmdzKHVpbnQgX3JlcG9CbG9ja3MsIHVpbnQ4IF9yZXBvUGVyVGVuLCB1aW50OCBfcmVwb1Blckh1bmRyZWQpIG9ubHlPd25lciB7CiAgICByZXBvc3Nlc3Npb25CbG9ja3MgPSBfcmVwb0Jsb2NrczsKICAgIHJlcG9zc2Vzc2lvbkJvdW50eVBlclRlbiA9IF9yZXBvUGVyVGVuOwogICAgcmVwb3NzZXNzaW9uQm91bnR5UGVySHVuZHJlZCA9IF9yZXBvUGVySHVuZHJlZDsKICB9CiAgCiAgLyoqCiAgICogVXBkYXRlIGJpcnRoIGV2ZW50IHNldHRpbmdzCiAgICovCiAgZnVuY3Rpb24gY2hhbmdlQmlydGhTZXR0aW5ncyh1aW50IF9iaXJ0aEJsb2NrcywgdWludDggX2JpcnRoUGVyVGVuLCB1aW50OCBfYmlydGhQZXJIdW5kcmVkKSBvbmx5T3duZXIgewogICAgYmlydGhCbG9ja1RocmVzaG9sZCA9IF9iaXJ0aEJsb2NrczsKICAgIGJpcnRoUGVyVGVuID0gX2JpcnRoUGVyVGVuOwogICAgYmlydGhQZXJIdW5kcmVkID0gX2JpcnRoUGVySHVuZHJlZDsKICB9CgogIGZ1bmN0aW9uIHdpdGhkcmF3KCkgb25seU93bmVyIHsKICAgIG93bmVyLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7IC8vIFNlbmQgYWxsIGV0aGVyIGluIHRoaXMgY29udHJhY3QgdG8gdGhpcyBjb250cmFjdCdzIG93bmVyCiAgfQogIGZ1bmN0aW9uIHdpdGhkcmF3Rm9yZWlnblRva2VucyhhZGRyZXNzIF90b2tlbkNvbnRyYWN0KSBvbmx5T3duZXIgewogICAgRVJDMjBUb2tlbiB0b2tlbiA9IEVSQzIwVG9rZW4oX3Rva2VuQ29udHJhY3QpOwogICAgdG9rZW4udHJhbnNmZXIob3duZXIsIHRva2VuLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKSk7IC8vIFNlbmQgYWxsIG93bmVkIHRva2VucyB0byB0aGlzIGNvbnRyYWN0J3Mgb3duZXIKICB9CiAgCn0='.
	

]
