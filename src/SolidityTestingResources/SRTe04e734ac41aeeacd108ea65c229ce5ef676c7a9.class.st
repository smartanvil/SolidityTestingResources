Class {
	#name : #SRTe04e734ac41aeeacd108ea65c229ce5ef676c7a9,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe04e734ac41aeeacd108ea65c229ce5ef676c7a9 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7IAoKY29udHJhY3QgRVJDMjBJbnRlcmZhY2UgewogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBvd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKfQoKCgpjb250cmFjdCBWUkNvaW5Dcm93ZHNhbGUgewogICAgLy8gSW5mb3JtYXRpb24gYWJvdXQgYSBzaW5nbGUgcGVyaW9kCiAgICBzdHJ1Y3QgUGVyaW9kCiAgICB7CiAgICAgICAgIHVpbnQgc3RhcnQ7CiAgICAgICAgIHVpbnQgZW5kOwogICAgICAgICB1aW50IHByaWNlSW5XZWk7CiAgICAgICAgIHVpbnQgdG9rZW5Ub0Rpc3RpYnV0ZTsKICAgIH0KCgoKICAgIC8vIFNvbWUgY29uc3RhbnQgYWJvdXQgb3VyIGV4cGVjdGVkIHRva2VuIGRpc3RyaWJ1dGlvbgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgVlJDT0lOX0RFQ0lNQUxTID0gOTsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFRPVEFMX1RPS0VOU19UT19ESVNUUklCVVRFID0gNzUwMDAwICogKDEwICoqIFZSQ09JTl9ERUNJTUFMUyk7IC8vIDc1MDAwMCBWUnRva2VuYwogICAgCiAgICB1aW50IHB1YmxpYyBleGNoYW5nZVJhdGUgPSA2MTA7CiAgICAKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOyAvLyBUaGUgb3duZXIgb2YgdGhlIGNyb3dkc2FsZQogICAgYm9vbCBwdWJsaWMgaGFzU3RhcnRlZDsgLy8gSGFzIHRoZSBjcm93ZHNhbGUgc3RhcnRlZD8KICAgIFBlcmlvZCBwdWJsaWMgc2FsZTsgLy8gVGhlIGNvbmZpZ3VyZWQgcGVyaW9kcyBmb3IgdGhpcyBjcm93ZHNhbGUKICAgIEVSQzIwSW50ZXJmYWNlIHB1YmxpYyB0b2tlbldhbGxldDsgLy8gVGhlIHRva2VuIHdhbGxldCBjb250cmFjdCB1c2VkIGZvciB0aGlzIGNyb3dkc2FsZQoKICAgIC8vIFRoZSBtdWx0aXBsaWVyIG5lY2Vzc2FyeSB0byBjaGFuZ2UgYSBjb2luIGFtb3VudCB0byB0aGUgdG9rZW4gYW1vdW50CiAgICB1aW50IGNvaW5Ub1Rva2VuRmFjdG9yID0gMTAgKiogVlJDT0lOX0RFQ0lNQUxTOwogICAgCiAgICAvLyBGaXJlZCBvbmNlIHRoZSB0cmFuc2ZlciB0b2tlbnMgdG8gY29udHJhY3Qgd2FzIHN1Y2Nlc3NmdWxsCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50IGFtb3VudCk7CgogICAgLy8gRmlyZWQgb25jZSB0aGUgc2FsZSBzdGFydHMKICAgIGV2ZW50IFN0YXJ0KHVpbnQgdGltZXN0YW1wKTsKCiAgICAvLyBGaXJlZCB3aGVuZXZlciBhIGNvbnRyaWJ1dGlvbiBpcyBtYWRlCiAgICBldmVudCBDb250cmlidXRpb24oYWRkcmVzcyBpbmRleGVkIGZyb20sIHVpbnQgd2VpQ29udHJpYnV0ZWQsIHVpbnQgdG9rZW5zUmVjZWl2ZWQpOwoKICAgIGZ1bmN0aW9uIFZSQ29pbkNyb3dkc2FsZShhZGRyZXNzIHdhbGxldEFkZHJlc3MpCiAgICB7CiAgICAgICAgIC8vIFNldHVwIHRoZSBvd25lciBhbmQgd2FsbGV0CiAgICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICAgdG9rZW5XYWxsZXQgPSBFUkMyMEludGVyZmFjZSh3YWxsZXRBZGRyZXNzKTsKCiAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgcHJvdmlkZWQgdG9rZW4gaGFzIHRoZSBleHBlY3RlZCBudW1iZXIgb2YgdG9rZW5zIHRvIGRpc3RyaWJ1dGUKICAgICAgICAgcmVxdWlyZSh0b2tlbldhbGxldC50b3RhbFN1cHBseSgpID49IFRPVEFMX1RPS0VOU19UT19ESVNUUklCVVRFKTsKCiAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgb3duZXIgYWN0dWFsbHkgY29udHJvbHMgYWxsIHRoZSB0b2tlbnMKICAgICAgICAgcmVxdWlyZSh0b2tlbldhbGxldC5iYWxhbmNlT2Yob3duZXIpID49IFRPVEFMX1RPS0VOU19UT19ESVNUUklCVVRFKTsKCiAgICAgICAgIC8vIFdlIGhhdmVuJ3Qgc3RhcnRlZCB5ZXQKICAgICAgICAgaGFzU3RhcnRlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgIAogICAgICAgICBzYWxlLnN0YXJ0ID0gMTUyMTIzNDAwMTsgLy8gMDA6MDA6MDEsIE1hcmNoIDA1LCAyMDE4IFVUQwogICAgICAgICBzYWxlLmVuZCA9IDE1MjUxMjIwMDE7IC8vIDAwOjAwOjAxLCBBcGwgMzAsIDIwMTggVVRDCiAgICAgICAgIHNhbGUucHJpY2VJbldlaSA9ICgxIGV0aGVyKSAvIChleGNoYW5nZVJhdGUgKiBjb2luVG9Ub2tlbkZhY3Rvcik7IC8vIDEgRVRIID0gNzUwIFZSQ29pbgogICAgICAgICBzYWxlLnRva2VuVG9EaXN0aWJ1dGUgPSBUT1RBTF9UT0tFTlNfVE9fRElTVFJJQlVURTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gdXBkYXRlUHJpY2UoKSB7CiAgICAgICAgIC8vIE9ubHkgdGhlIG93bmVyIGNhbiBkbyB0aGlzCiAgICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgCiAgICAgICAgIC8vIFVwZGF0ZSBwcmljZQogICAgICAgICBzYWxlLnByaWNlSW5XZWkgPSAoMSBldGhlcikgLyAoZXhjaGFuZ2VSYXRlICogY29pblRvVG9rZW5GYWN0b3IpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBzZXRFeGNoYW5nZVJhdGUodWludDI1NiBfcmF0ZSkgewogICAgICAgICAvLyBPbmx5IHRoZSBvd25lciBjYW4gZG8gdGhpcwogICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOyAgICAgICAgCiAgICAgICAgCiAgICAgICAgIC8vIFRoZSBldGhlciBpbiAkIGRvbGxhciAKICAgICAgICAgZXhjaGFuZ2VSYXRlID0gX3JhdGU7CiAgICB9CgogICAgLy8gU3RhcnQgdGhlIGNyb3dkc2FsZQogICAgZnVuY3Rpb24gc3RhcnRTYWxlKCkKICAgIHsKICAgICAgICAgLy8gT25seSB0aGUgb3duZXIgY2FuIGRvIHRoaXMKICAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICAgCiAgICAgICAgIC8vIENhbm5vdCBzdGFydCBpZiBhbHJlYWR5IHN0YXJ0ZWQKICAgICAgICAgcmVxdWlyZShoYXNTdGFydGVkID09IGZhbHNlKTsKCiAgICAgICAgIC8vIEF0dGVtcHQgdG8gdHJhbnNmZXIgYWxsIHRva2VucyB0byB0aGUgY3Jvd2RzYWxlIGNvbnRyYWN0CiAgICAgICAgIC8vIFRoZSBvd25lciBuZWVkcyB0byBhcHByb3ZlKCkgdGhlIHRyYW5zZmVyIG9mIGFsbCB0b2tlbnMgdG8gdGhpcyBjb250cmFjdAogICAgICAgICBpZiAoIXRva2VuV2FsbGV0LnRyYW5zZmVyRnJvbShvd25lciwgdGhpcywgc2FsZS50b2tlblRvRGlzdGlidXRlKSkKICAgICAgICAgewogICAgICAgICAgICAvLyBTb21ldGhpbmcgaGFzIGdvbmUgd3JvbmcsIHRoZSBvd25lciBubyBsb25nZXIgY29udHJvbHMgYWxsIHRoZSB0b2tlbnM/CiAgICAgICAgICAgIC8vIFdlIGNhbm5vdCBwcm9jZWVkCiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgVHJhbnNmZXIodGhpcywgc2FsZS50b2tlblRvRGlzdGlidXRlKTsKICAgICAgICAgfQoKICAgICAgICAgLy8gU2FuaXR5IGNoZWNrOiB2ZXJpZnkgdGhlIGNyb3dkc2FsZSBjb250cm9scyBhbGwgdG9rZW5zCiAgICAgICAgIHJlcXVpcmUodG9rZW5XYWxsZXQuYmFsYW5jZU9mKHRoaXMpID49IHNhbGUudG9rZW5Ub0Rpc3RpYnV0ZSk7CgogICAgICAgICAvLyBUaGUgc2FsZSBjYW4gYmVnaW4KICAgICAgICAgaGFzU3RhcnRlZCA9IHRydWU7CgogICAgICAgICAvLyBGaXJlIGV2ZW50IHRoYXQgdGhlIHNhbGUgaGFzIGJlZ3VuCiAgICAgICAgIFN0YXJ0KGJsb2NrLnRpbWVzdGFtcCk7CiAgICB9CgogICAgLy8gQWxsb3cgdGhlIGN1cnJlbnQgb3duZXIgdG8gY2hhbmdlIHRoZSBvd25lciBvZiB0aGUgY3Jvd2RzYWxlCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMKICAgIHsKICAgICAgICAgLy8gT25seSB0aGUgb3duZXIgY2FuIGRvIHRoaXMKICAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKCiAgICAgICAgIC8vIENoYW5nZSB0aGUgb3duZXIKICAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KCiAgICAvLyBBbGxvdyB0aGUgb3duZXIgdG8gY2hhbmdlIHRoZSB0b2tlbnMgZm9yIHNhbGUgbnVtYmVyCiAgICAvLyBCdXQgb25seSBpZiB0aGUgc2FsZSBoYXMgbm90IGJlZ3VuIHlldAogICAgZnVuY3Rpb24gY2hhbmdlVG9rZW5Gb3JTYWxlKHVpbnQgbmV3QW1vdW50KSBwdWJsaWMKICAgIHsKICAgICAgICAgLy8gT25seSB0aGUgb3duZXIgY2FuIGRvIHRoaXMKICAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICAgCiAgICAgICAgIC8vIFdlIGNhbiBjaGFuZ2UgcGVyaW9kIGRldGFpbHMgYXMgbG9uZyBhcyB0aGUgc2FsZSBoYXNuJ3Qgc3RhcnRlZCB5ZXQKICAgICAgICAgcmVxdWlyZShoYXNTdGFydGVkID09IGZhbHNlKTsKICAgICAgICAgCiAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgcHJvdmlkZWQgdG9rZW4gaGFzIHRoZSBleHBlY3RlZCBudW1iZXIgb2YgdG9rZW5zIHRvIGRpc3RyaWJ1dGUKICAgICAgICAgcmVxdWlyZSh0b2tlbldhbGxldC50b3RhbFN1cHBseSgpID49IG5ld0Ftb3VudCk7CgogICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIG93bmVyIGFjdHVhbGx5IGNvbnRyb2xzIGFsbCB0aGUgdG9rZW5zCiAgICAgICAgIHJlcXVpcmUodG9rZW5XYWxsZXQuYmFsYW5jZU9mKG93bmVyKSA+PSBuZXdBbW91bnQpOwoKCiAgICAgICAgIC8vIENoYW5nZSB0aGUgcHJpY2UgZm9yIHRoaXMgcGVyaW9kCiAgICAgICAgIHNhbGUudG9rZW5Ub0Rpc3RpYnV0ZSA9IG5ld0Ftb3VudDsKICAgIH0KCiAgICAvLyBBbGxvdyB0aGUgb3duZXIgdG8gY2hhbmdlIHRoZSBzdGFydC9lbmQgdGltZSBmb3IgYSBwZXJpb2QKICAgIC8vIEJ1dCBvbmx5IGlmIHRoZSBzYWxlIGhhcyBub3QgYmVndW4geWV0CiAgICBmdW5jdGlvbiBjaGFuZ2VQZXJpb2RUaW1lKHVpbnQgc3RhcnQsIHVpbnQgZW5kKSBwdWJsaWMKICAgIHsKICAgICAgICAgLy8gT25seSB0aGUgb3duZXIgY2FuIGRvIHRoaXMKICAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKCiAgICAgICAgIC8vIFdlIGNhbiBjaGFuZ2UgcGVyaW9kIGRldGFpbHMgYXMgbG9uZyBhcyB0aGUgc2FsZSBoYXNuJ3Qgc3RhcnRlZCB5ZXQKICAgICAgICAgcmVxdWlyZShoYXNTdGFydGVkID09IGZhbHNlKTsKCiAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgaW5wdXQgaXMgdmFsaWQKICAgICAgICAgcmVxdWlyZShzdGFydCA8IGVuZCk7CgogICAgICAgICAvLyBFdmVyeXRoaW5nIGNoZWNrcyBvdXQsIHVwZGF0ZSB0aGUgcGVyaW9kIHN0YXJ0L2VuZCB0aW1lCiAgICAgICAgIHNhbGUuc3RhcnQgPSBzdGFydDsKICAgICAgICAgc2FsZS5lbmQgPSBlbmQ7CiAgICB9CgogICAgLy8gQWxsb3cgdGhlIG93bmVyIHRvIHdpdGhkcmF3IGFsbCB0aGUgdG9rZW5zIHJlbWFpbmluZyBhZnRlciB0aGUKICAgIC8vIGNyb3dkc2FsZSBpcyBvdmVyCiAgICBmdW5jdGlvbiB3aXRoZHJhd1Rva2Vuc1JlbWFpbmluZygpIHB1YmxpYwogICAgICAgICByZXR1cm5zIChib29sKQogICAgewogICAgICAgICAvLyBPbmx5IHRoZSBvd25lciBjYW4gZG8gdGhpcwogICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoKICAgICAgICAgLy8gR2V0IHRoZSBlbmRpbmcgdGltZXN0YW1wIG9mIHRoZSBjcm93ZHNhbGUKICAgICAgICAgdWludCBjcm93ZHNhbGVFbmQgPSBzYWxlLmVuZDsKCiAgICAgICAgIC8vIFRoZSBjcm93c2FsZSBtdXN0IGJlIG92ZXIgdG8gcGVyZm9ybSB0aGlzIG9wZXJhdGlvbgogICAgICAgICByZXF1aXJlKGJsb2NrLnRpbWVzdGFtcCA+IGNyb3dkc2FsZUVuZCk7CgogICAgICAgICAvLyBHZXQgdGhlIHJlbWFpbmluZyB0b2tlbnMgb3duZWQgYnkgdGhlIGNyb3dkc2FsZQogICAgICAgICB1aW50IHRva2Vuc1JlbWFpbmluZyA9IGdldFRva2Vuc1JlbWFpbmluZygpOwoKICAgICAgICAgLy8gVHJhbnNmZXIgdGhlbSBhbGwgdG8gdGhlIG93bmVyCiAgICAgICAgIHJldHVybiB0b2tlbldhbGxldC50cmFuc2Zlcihvd25lciwgdG9rZW5zUmVtYWluaW5nKTsKICAgIH0KCiAgICAvLyBBbGxvdyB0aGUgb3duZXIgdG8gd2l0aGRyYXcgYWxsIGV0aGVyIGZyb20gdGhlIGNvbnRyYWN0IGFmdGVyIHRoZQogICAgLy8gY3Jvd2RzYWxlIGlzIG92ZXIKICAgIGZ1bmN0aW9uIHdpdGhkcmF3RXRoZXJSZW1haW5pbmcoKSBwdWJsaWMKICAgICAgICAgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICAgLy8gT25seSB0aGUgb3duZXIgY2FuIGRvIHRoaXMKICAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKCiAgICAgICAgIC8vIFRyYW5zZmVyIHRoZW0gYWxsIHRvIHRoZSBvd25lcgogICAgICAgICBvd25lci50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwoKICAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gQ2hlY2sgaG93IG1hbnkgdG9rZW5zIGFyZSByZW1haW5pbmcgZm9yIGRpc3RyaWJ1dGlvbgogICAgZnVuY3Rpb24gZ2V0VG9rZW5zUmVtYWluaW5nKCkgcHVibGljIGNvbnN0YW50CiAgICAgICAgIHJldHVybnMgKHVpbnQyNTYpCiAgICB7CiAgICAgICAgIHJldHVybiB0b2tlbldhbGxldC5iYWxhbmNlT2YodGhpcyk7CiAgICB9CgogICAgLy8gQ2FsY3VsYXRlIGhvdyBtYW55IHRva2VucyBjYW4gYmUgZGlzdHJpYnV0ZWQgZm9yIHRoZSBnaXZlbiBjb250cmlidXRpb24KICAgIGZ1bmN0aW9uIGdldFRva2Vuc0ZvckNvbnRyaWJ1dGlvbih1aW50IHdlaUNvbnRyaWJ1dGlvbikgcHVibGljIGNvbnN0YW50IAogICAgICAgICByZXR1cm5zKHVpbnQgdG9rZW5BbW91bnQsIHVpbnQgd2VpUmVtYWluZGVyKQogICAgewogICAgICAgICAvLyBUaGUgYm9udXMgZm9yIGNvbnRyaWJ1dG9yCiAgICAgICAgIHVpbnQyNTYgYm9udXMgPSAwOwogICAgICAgICAKICAgICAgICAgLy8gR2V0IHRoZSBlbmRpbmcgdGltZXN0YW1wIG9mIHRoZSBjcm93ZHNhbGUKICAgICAgICAgdWludCBjcm93ZHNhbGVFbmQgPSBzYWxlLmVuZDsKICAgICAgICAKICAgICAgICAgLy8gVGhlIGNyb3dzYWxlIG11c3QgYmUgZ29pbmcgdG8gcGVyZm9ybSB0aGlzIG9wZXJhdGlvbgogICAgICAgICByZXF1aXJlKGJsb2NrLnRpbWVzdGFtcCA8PSBjcm93ZHNhbGVFbmQpOwoKICAgICAgICAgLy8gR2V0IHRoZSBwcmljZSBmb3IgdGhpcyBjdXJyZW50IHBlcmlvZAogICAgICAgICB1aW50IHBlcmlvZFByaWNlSW5XZWkgPSBzYWxlLnByaWNlSW5XZWk7CgogICAgICAgICAvLyBSZXR1cm4gdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBjYW4gYmUgcHVyY2hhc2VkCiAgICAgICAgIAogICAgICAgICB0b2tlbkFtb3VudCA9IHdlaUNvbnRyaWJ1dGlvbiAvIHBlcmlvZFByaWNlSW5XZWk7CiAgICAgICAgIAoJIAkKICAgICAgICAgICAgaWYgKGJsb2NrLnRpbWVzdGFtcCA8IDE1MjIyNzA4MDEpIHsKICAgICAgICAgICAgICAgIC8vIGJvbnVzIGZvciBjb250cmlidXRvciBmcm9tIDUuMDMuMjAxOCB0byAyOC4wMy4yMDE4IAogICAgICAgICAgICAgICAgYm9udXMgPSB0b2tlbkFtb3VudCAqIDIwIC8gMTAwOwogICAgICAgICAgICB9IGVsc2UgaWYgKGJsb2NrLnRpbWVzdGFtcCA8IDE1MjM3Mzk2MDEpIHsKICAgICAgICAgICAgICAgIC8vIGJvbnVzIGZvciBjb250cmlidXRvciBmcm9tIDI5LjAzLjIwMTggdG8gMTQuMDQuMjAxOCAKICAgICAgICAgICAgICAgIGJvbnVzID0gdG9rZW5BbW91bnQgKiAxNSAvIDEwMDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIGJvbnVzIGZvciBjb250cmlidXRvcgogICAgICAgICAgICAgICAgYm9udXMgPSB0b2tlbkFtb3VudCAqIDEwIC8gMTAwOwogICAgICAgICAgICB9CgkJIAoKICAgICAgICAgICAgCiAgICAgICAgdG9rZW5BbW91bnQgPSB0b2tlbkFtb3VudCArIGJvbnVzOwogICAgICAgIAogICAgICAgICAvLyBSZXR1cm4gdGhlIGFtb3VudCBvZiB3ZWkgdGhhdCB3b3VsZCBiZSBsZWZ0IG92ZXIKICAgICAgICAgd2VpUmVtYWluZGVyID0gd2VpQ29udHJpYnV0aW9uICUgcGVyaW9kUHJpY2VJbldlaTsKICAgIH0KICAgIAogICAgLy8gQWxsb3cgYSB1c2VyIHRvIGNvbnRyaWJ1dGUgdG8gdGhlIGNyb3dkc2FsZQogICAgZnVuY3Rpb24gY29udHJpYnV0ZSgpIHB1YmxpYyBwYXlhYmxlCiAgICB7CiAgICAgICAgIC8vIENhbm5vdCBjb250cmlidXRlIGlmIHRoZSBzYWxlIGhhc24ndCBzdGFydGVkCiAgICAgICAgIHJlcXVpcmUoaGFzU3RhcnRlZCA9PSB0cnVlKTsKCiAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgdG9rZW5zIHRvIGJlIGRpc3RyaWJ1dGVkIGJhc2VkIG9uIHRoZSBjb250cmlidXRpb24gYW1vdW50CiAgICAgICAgIHZhciAodG9rZW5BbW91bnQsIHdlaVJlbWFpbmRlcikgPSBnZXRUb2tlbnNGb3JDb250cmlidXRpb24obXNnLnZhbHVlKTsKCiAgICAgICAgIC8vIE5lZWQgdG8gY29udHJpYnV0ZSBlbm91Z2ggZm9yIGF0IGxlYXN0IDEgdG9rZW4KICAgICAgICAgcmVxdWlyZSh0b2tlbkFtb3VudCA+IDApOwogICAgICAgICAKICAgICAgICAgLy8gU2FuaXR5IGNoZWNrOiBtYWtlIHN1cmUgdGhlIHJlbWFpbmRlciBpcyBsZXNzIG9yIGVxdWFsIHRvIHdoYXQgd2FzIHNlbnQgdG8gdXMKICAgICAgICAgcmVxdWlyZSh3ZWlSZW1haW5kZXIgPD0gbXNnLnZhbHVlKTsKCiAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGVyZSBhcmUgZW5vdWdoIHRva2VucyBsZWZ0IHRvIGJ1eQogICAgICAgICB1aW50IHRva2Vuc1JlbWFpbmluZyA9IGdldFRva2Vuc1JlbWFpbmluZygpOwogICAgICAgICByZXF1aXJlKHRva2Vuc1JlbWFpbmluZyA+PSB0b2tlbkFtb3VudCk7CgogICAgICAgICAvLyBUcmFuc2ZlciB0aGUgdG9rZW4gYW1vdW50IGZyb20gdGhlIGNyb3dkIHNhbGUncyB0b2tlbiB3YWxsZXQgdG8gdGhlCiAgICAgICAgIC8vIHNlbmRlcidzIHRva2VuIHdhbGxldAogICAgICAgICBpZiAoIXRva2VuV2FsbGV0LnRyYW5zZmVyKG1zZy5zZW5kZXIsIHRva2VuQW1vdW50KSkKICAgICAgICAgewogICAgICAgICAgICAvLyBVbmFibGUgdG8gdHJhbnNmZXIgZnVuZHMsIGFib3J0IHRyYW5zYWN0aW9uCiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgICB9CgogICAgICAgICAvLyBSZXR1cm4gdGhlIHJlbWFpbmRlciB0byB0aGUgc2VuZGVyCiAgICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIod2VpUmVtYWluZGVyKTsKCiAgICAgICAgIC8vIFNpbmNlIHdlIHJlZnVuZGVkIHRoZSByZW1haW5kZXIsIHRoZSBhY3R1YWwgY29udHJpYnV0aW9uIGlzIHRoZSBhbW91bnQgc2VudAogICAgICAgICAvLyBtaW51cyB0aGUgcmVtYWluZGVyCiAgICAgICAgIHVpbnQgYWN0dWFsQ29udHJpYnV0aW9uID0gbXNnLnZhbHVlIC0gd2VpUmVtYWluZGVyOwoKICAgICAgICAgLy8gUmVjb3JkIHRoZSBldmVudAogICAgICAgICBDb250cmlidXRpb24obXNnLnNlbmRlciwgYWN0dWFsQ29udHJpYnV0aW9uLCB0b2tlbkFtb3VudCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uKCkgcGF5YWJsZQogICAgewogICAgICAgIGNvbnRyaWJ1dGUoKTsKICAgIH0gCn0='.
	

]
