Class {
	#name : #SRT018c4031426917a769fe9964ab2650621642b8d7,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT018c4031426917a769fe9964ab2650621642b8d7 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7CgovL1NsaWdodGx5IG1vZGlmaWVkIFNhZmVNYXRoIGxpYnJhcnkgLSBpbmNsdWRlcyBhIG1pbiBmdW5jdGlvbgpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBtaW4odWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQp9CgoKLy9UaGUgRFJDVF9Ub2tlbiBpcyBhbiBFUkMyMCBjb21wbGlhbnQgdG9rZW4gcmVwcmVzZW50aW5nIHRoZSBwYXlvdXQgb2YgdGhlIHN3YXAgY29udHJhY3Qgc3BlY2lmaWVkIGluIHRoZSBGYWN0b3J5IGNvbnRyYWN0Ci8vRWFjaCBGYWN0b3J5IGNvbnRyYWN0IGlzIHNwZWNpZmllZCBvbmUgRFJDVCBUb2tlbiBhbmQgdGhlIHRva2VuIGFkZHJlc3MgY2FuIGNvbnRhaW4gbWFueSBkaWZmZXJlbnQgc3dhcCBjb250cmFjdHMgdGhhdCBhcmUgc3RhbmRhcmRpemVkIGF0IHRoZSBGYWN0b3J5IGxldmVsCmNvbnRyYWN0IERSQ1RfVG9rZW4gewoKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgLypTdHJ1Y3RzICovCiAgLy9LZWVwcyB0cmFjayBvZiBiYWxhbmNlIGFtb3VudHMgaW4gdGhlIGJhbGFuY2VzIGFycmF5CiAgc3RydWN0IEJhbGFuY2UgewogICAgYWRkcmVzcyBvd25lcjsKICAgIHVpbnQgYW1vdW50OwogIH0KCiAgLy9UaGlzIGlzIHRoZSBmYWN0b3J5IGNvbnRyYWN0IHRoYXQgdGhlIHRva2VuIGlzIHN0YW5kYXJkaXplZCBhdAogIGFkZHJlc3MgcHVibGljIG1hc3Rlcl9jb250cmFjdDsKICAvL1RvdGFsIHN1cHBseSBvZiBvdXRzdGFuZGluZyB0b2tlbnMgaW4gdGhlIGNvbnRyYWN0CiAgdWludCBwdWJsaWMgdG90YWxfc3VwcGx5OwoKICAvL01hcHBpbmcgZnJvbTogc3dhcCBhZGRyZXNzIC0+IHVzZXIgYmFsYW5jZSBzdHJ1Y3QgKGluZGV4IGZvciBhIHBhcnRpY3VsYXIgdXNlcidzIGJhbGFuY2UgY2FuIGJlIGZvdW5kIGluIHN3YXBfYmFsYW5jZXNfaW5kZXgpCiAgbWFwcGluZyhhZGRyZXNzID0+IEJhbGFuY2VbXSkgc3dhcF9iYWxhbmNlczsKICAvL01hcHBpbmcgZnJvbTogc3dhcCBhZGRyZXNzIC0+IHVzZXIgLT4gc3dhcF9iYWxhbmNlcyBpbmRleAogIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkpIHN3YXBfYmFsYW5jZXNfaW5kZXg7CiAgLy9NYXBwaW5nIGZyb206IHVzZXIgLT4gZHluYW1pYyBhcnJheSBvZiBzd2FwIGFkZHJlc3NlcyAoaW5kZXggZm9yIGEgcGFydGljdWxhciBzd2FwIGNhbiBiZSBmb3VuZCBpbiB1c2VyX3N3YXBzX2luZGV4KQogIG1hcHBpbmcoYWRkcmVzcyA9PiBhZGRyZXNzW10pIHVzZXJfc3dhcHM7CiAgLy9NYXBwaW5nIGZyb206IHVzZXIgLT4gc3dhcCBhZGRyZXNzIC0+IHVzZXJfc3dhcHMgaW5kZXgKICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpKSB1c2VyX3N3YXBzX2luZGV4OwoKICAvL01hcHBpbmcgZnJvbTogdXNlciAtPiB0b3RhbCBiYWxhbmNlIGFjY3Jvc3MgYWxsIGVudGVyZWQgc3dhcHMKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgdXNlcl90b3RhbF9iYWxhbmNlczsKICAvL01hcHBpbmcgZnJvbTogb3duZXIgLT4gc3BlbmRlciAtPiBhbW91bnQgYWxsb3dlZAogIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkpIGFsbG93ZWQ7CgogIC8vZXZlbnRzIGZvciB0cmFuc2ZlciBhbmQgYXBwcm92YWxzCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50IF92YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50IF92YWx1ZSk7CgogIG1vZGlmaWVyIG9ubHlNYXN0ZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gbWFzdGVyX2NvbnRyYWN0KTsKICAgIF87CiAgfQoKICAvKkZ1bmN0aW9ucyovCiAgLy9Db25zdHJ1Y3RvcgogIGZ1bmN0aW9uIERSQ1RfVG9rZW4oYWRkcmVzcyBfZmFjdG9yeSkgcHVibGljIHsKICAgIC8vU2V0cyB2YWx1ZXMgZm9yIHRva2VuIG5hbWUgYW5kIHRva2VuIHN1cHBseSwgYXMgd2VsbCBhcyB0aGUgbWFzdGVyX2NvbnRyYWN0LCB0aGUgc3dhcC4KICAgIG1hc3Rlcl9jb250cmFjdCA9IF9mYWN0b3J5OwogIH0KICAvL1Rva2VuIENyZWF0b3IgLSBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBieSB0aGUgZmFjdG9yeSBjb250cmFjdCBhbmQgY3JlYXRlcyBuZXcgdG9rZW5zIGZvciB0aGUgdXNlcgogIGZ1bmN0aW9uIGNyZWF0ZVRva2VuKHVpbnQgX3N1cHBseSwgYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3N3YXApIHB1YmxpYyBvbmx5TWFzdGVyKCkgewogICAgLy9VcGRhdGUgdG90YWwgc3VwcGx5IG9mIERSQ1QgVG9rZW5zCiAgICB0b3RhbF9zdXBwbHkgPSB0b3RhbF9zdXBwbHkuYWRkKF9zdXBwbHkpOwogICAgLy9VcGRhdGUgdGhlIHRvdGFsIGJhbGFuY2Ugb2YgdGhlIG93bmVyCiAgICB1c2VyX3RvdGFsX2JhbGFuY2VzW19vd25lcl0gPSB1c2VyX3RvdGFsX2JhbGFuY2VzW19vd25lcl0uYWRkKF9zdXBwbHkpOwogICAgLy9JZiB0aGUgdXNlciBoYXMgbm90IGVudGVyZWQgYW55IHN3YXBzIGFscmVhZHksIHB1c2ggYSB6ZXJvZWQgYWRkcmVzcyB0byB0aGVpciB1c2VyX3N3YXBzIG1hcHBpbmcgdG8gcHJldmVudCBkZWZhdWx0IHZhbHVlIGNvbmZsaWN0cyBpbiB1c2VyX3N3YXBzX2luZGV4CiAgICBpZiAodXNlcl9zd2Fwc1tfb3duZXJdLmxlbmd0aCA9PSAwKQogICAgICB1c2VyX3N3YXBzW19vd25lcl0ucHVzaChhZGRyZXNzKDB4MCkpOwogICAgLy9BZGQgYSBuZXcgc3dhcCBpbmRleCBmb3IgdGhlIG93bmVyCiAgICB1c2VyX3N3YXBzX2luZGV4W19vd25lcl1bX3N3YXBdID0gdXNlcl9zd2Fwc1tfb3duZXJdLmxlbmd0aDsKICAgIC8vUHVzaCBhIG5ldyBzd2FwIGFkZHJlc3MgdG8gdGhlIG93bmVyJ3Mgc3dhcHMKICAgIHVzZXJfc3dhcHNbX293bmVyXS5wdXNoKF9zd2FwKTsKICAgIC8vUHVzaCBhIHplcm9lZCBCYWxhbmNlIHN0cnVjdCB0byB0aGUgc3dhcCBiYWxhbmNlcyBtYXBwaW5nIHRvIHByZXZlbnQgZGVmYXVsdCB2YWx1ZSBjb25mbGljdHMgaW4gc3dhcF9iYWxhbmNlc19pbmRleAogICAgc3dhcF9iYWxhbmNlc1tfc3dhcF0ucHVzaChCYWxhbmNlKHsKICAgICAgb3duZXI6IDAsCiAgICAgIGFtb3VudDogMAogICAgfSkpOwogICAgLy9BZGQgYSBuZXcgb3duZXIgYmFsYW5jZSBpbmRleCBmb3IgdGhlIHN3YXAKICAgIHN3YXBfYmFsYW5jZXNfaW5kZXhbX3N3YXBdW19vd25lcl0gPSAxOwogICAgLy9QdXNoIHRoZSBvd25lcidzIGJhbGFuY2UgdG8gdGhlIHN3YXAKICAgIHN3YXBfYmFsYW5jZXNbX3N3YXBdLnB1c2goQmFsYW5jZSh7CiAgICAgIG93bmVyOiBfb3duZXIsCiAgICAgIGFtb3VudDogX3N1cHBseQogICAgfSkpOwogIH0KCiAgLy9DYWxsZWQgYnkgdGhlIGZhY3RvcnkgY29udHJhY3QsIGFuZCBwYXlzIG91dCB0byBhIF9wYXJ0eQogIGZ1bmN0aW9uIHBheShhZGRyZXNzIF9wYXJ0eSwgYWRkcmVzcyBfc3dhcCkgcHVibGljIG9ubHlNYXN0ZXIoKSB7CiAgICB1aW50IHBhcnR5X2JhbGFuY2VfaW5kZXggPSBzd2FwX2JhbGFuY2VzX2luZGV4W19zd2FwXVtfcGFydHldOwogICAgdWludCBwYXJ0eV9zd2FwX2JhbGFuY2UgPSBzd2FwX2JhbGFuY2VzW19zd2FwXVtwYXJ0eV9iYWxhbmNlX2luZGV4XS5hbW91bnQ7CiAgICAvL3JlZHVjZXMgdGhlIHVzZXJzIHRvdGFscyBiYWxhbmNlIGJ5IHRoZSBhbW91bnQgaW4gdGhhdCBzd2FwCiAgICB1c2VyX3RvdGFsX2JhbGFuY2VzW19wYXJ0eV0gPSB1c2VyX3RvdGFsX2JhbGFuY2VzW19wYXJ0eV0uc3ViKHBhcnR5X3N3YXBfYmFsYW5jZSk7CiAgICAvL3JlZHVjZXMgdGhlIHRvdGFsIHN1cHBseSBieSB0aGUgYW1vdW50IG9mIHRoYXQgdXNlcnMgaW4gdGhhdCBzd2FwCiAgICB0b3RhbF9zdXBwbHkgPSB0b3RhbF9zdXBwbHkuc3ViKHBhcnR5X3N3YXBfYmFsYW5jZSk7CiAgICAvL3NldHMgdGhlIHBhcnR5cyBiYWxhbmNlIHRvIHplcm8gZm9yIHRoYXQgc3BlY2lmaWMgc3dhcHMgcGFydHkgYmFsYW5jZXMKICAgIHN3YXBfYmFsYW5jZXNbX3N3YXBdW3BhcnR5X2JhbGFuY2VfaW5kZXhdLmFtb3VudCA9IDA7CiAgfQoKICAvL1JldHVybnMgdGhlIHVzZXJzIHRvdGFsIGJhbGFuY2UgKHN1bSBvZiB0b2tlbnMgaW4gYWxsIHN3YXBzIHRoZSB1c2VyIGhhcyB0b2tlbnMgaW4pCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKSB7IHJldHVybiB1c2VyX3RvdGFsX2JhbGFuY2VzW19vd25lcl07IH0KCiAgLy9HZXR0ZXIgZm9yIHRoZSB0b3RhbF9zdXBwbHkgb2YgdG9rZW5zIGluIHRoZSBjb250cmFjdAogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgX3RvdGFsX3N1cHBseSkgeyByZXR1cm4gdG90YWxfc3VwcGx5OyB9CgogIC8vQ2hlY2tzIHdoZXRoZXIgYW4gYWRkcmVzcyBpcyBpbiBhIHNwZWNpZmllZCBzd2FwLiBJZiB0aGV5IGFyZSwgdGhlIHVzZXJfc3dhcHNfaW5kZXggZm9yIHRoYXQgdXNlciBhbmQgc3dhcCB3aWxsIGJlIG5vbi16ZXJvCiAgZnVuY3Rpb24gYWRkcmVzc0luU3dhcChhZGRyZXNzIF9zd2FwLCBhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIHVzZXJfc3dhcHNfaW5kZXhbX293bmVyXVtfc3dhcF0gIT0gMDsKICB9CgogIC8vUmVtb3ZlcyB0aGUgYWRkcmVzcyBmcm9tIHRoZSBzd2FwIGJhbGFuY2VzIGZvciBhIHN3YXAsIGFuZCBtb3ZlcyB0aGUgbGFzdCBhZGRyZXNzIGluIHRoZSBzd2FwIGludG8gdGhlaXIgcGxhY2UKICBmdW5jdGlvbiByZW1vdmVGcm9tU3dhcEJhbGFuY2VzKGFkZHJlc3MgX3JlbW92ZSwgYWRkcmVzcyBfc3dhcCkgaW50ZXJuYWwgewogICAgdWludCBsYXN0X2FkZHJlc3NfaW5kZXggPSBzd2FwX2JhbGFuY2VzW19zd2FwXS5sZW5ndGguc3ViKDEpOwogICAgYWRkcmVzcyBsYXN0X2FkZHJlc3MgPSBzd2FwX2JhbGFuY2VzW19zd2FwXVtsYXN0X2FkZHJlc3NfaW5kZXhdLm93bmVyOwogICAgLy9JZiB0aGUgYWRkcmVzcyB3ZSB3YW50IHRvIHJlbW92ZSBpcyB0aGUgZmluYWwgYWRkcmVzcyBpbiB0aGUgc3dhcAogICAgaWYgKGxhc3RfYWRkcmVzcyAhPSBfcmVtb3ZlKSB7CiAgICAgIHVpbnQgcmVtb3ZlX2luZGV4ID0gc3dhcF9iYWxhbmNlc19pbmRleFtfc3dhcF1bX3JlbW92ZV07CiAgICAgIC8vVXBkYXRlIHRoZSBzd2FwJ3MgYmFsYW5jZSBpbmRleCBvZiB0aGUgbGFzdCBhZGRyZXNzIHRvIHRoYXQgb2YgdGhlIHJlbW92ZWQgYWRkcmVzcyBpbmRleAogICAgICBzd2FwX2JhbGFuY2VzX2luZGV4W19zd2FwXVtsYXN0X2FkZHJlc3NdID0gcmVtb3ZlX2luZGV4OwogICAgICAvL1NldCB0aGUgc3dhcCdzIEJhbGFuY2Ugc3RydWN0IGF0IHRoZSByZW1vdmVkIGluZGV4IHRvIHRoZSBCYWxhbmNlIHN0cnVjdCBvZiB0aGUgbGFzdCBhZGRyZXNzCiAgICAgIHN3YXBfYmFsYW5jZXNbX3N3YXBdW3JlbW92ZV9pbmRleF0gPSBzd2FwX2JhbGFuY2VzW19zd2FwXVtsYXN0X2FkZHJlc3NfaW5kZXhdOwogICAgfQogICAgLy9SZW1vdmUgdGhlIHN3YXBfYmFsYW5jZXMgaW5kZXggZm9yIHRoaXMgYWRkcmVzcwogICAgZGVsZXRlIHN3YXBfYmFsYW5jZXNfaW5kZXhbX3N3YXBdW19yZW1vdmVdOwogICAgLy9GaW5hbGx5LCBkZWNyZW1lbnQgdGhlIHN3YXAgYmFsYW5jZXMgbGVuZ3RoCiAgICBzd2FwX2JhbGFuY2VzW19zd2FwXS5sZW5ndGggPSBzd2FwX2JhbGFuY2VzW19zd2FwXS5sZW5ndGguc3ViKDEpOwogIH0KCiAgLy8gVGhpcyBpcyB0aGUgbWFpbiBmdW5jdGlvbiB0byB1cGRhdGUgdGhlIG1hcHBpbmdzIHdoZW4gYSB0cmFuc2ZlciBoYXBwZW5zCiAgZnVuY3Rpb24gdHJhbnNmZXJIZWxwZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgaW50ZXJuYWwgewogICAgLy9HZXQgbWVtb3J5IGNvcGllcyBvZiB0aGUgc3dhcCBhcnJheXMgZm9yIHRoZSBzZW5kZXIgYW5kIHJlY2lldmVyCiAgICBhZGRyZXNzW10gbWVtb3J5IGZyb21fc3dhcHMgPSB1c2VyX3N3YXBzW19mcm9tXTsKCiAgICAvL0l0ZXJhdGUgb3ZlciBzZW5kZXIncyBzd2FwcyBpbiByZXZlcnNlIG9yZGVyIHVudGlsIGVub3VnaCB0b2tlbnMgaGF2ZSBiZWVuIHRyYW5zZmVycmVkCiAgICBmb3IgKHVpbnQgaSA9IGZyb21fc3dhcHMubGVuZ3RoLnN1YigxKTsgaSA+IDA7IGktLSkgewogICAgICAvL0dldCB0aGUgaW5kZXggb2YgdGhlIHNlbmRlcidzIGJhbGFuY2UgZm9yIHRoZSBjdXJyZW50IHN3YXAKICAgICAgdWludCBmcm9tX3N3YXBfdXNlcl9pbmRleCA9IHN3YXBfYmFsYW5jZXNfaW5kZXhbZnJvbV9zd2Fwc1tpXV1bX2Zyb21dOwogICAgICBCYWxhbmNlIG1lbW9yeSBmcm9tX3VzZXJfYmFsID0gc3dhcF9iYWxhbmNlc1tmcm9tX3N3YXBzW2ldXVtmcm9tX3N3YXBfdXNlcl9pbmRleF07CiAgICAgIC8vSWYgdGhlIGN1cnJlbnQgc3dhcCB3aWxsIGJlIGVudGlyZWx5IGRlcGxldGVkIC0gd2UgcmVtb3ZlIGFsbCByZWZlcmVuY2VzIHRvIGl0IGZvciB0aGUgc2VuZGVyCiAgICAgIGlmIChfYW1vdW50ID49IGZyb21fdXNlcl9iYWwuYW1vdW50KSB7CiAgICAgICAgX2Ftb3VudCAtPSBmcm9tX3VzZXJfYmFsLmFtb3VudDsKICAgICAgICAvL0lmIHRoaXMgc3dhcCBpcyB0byBiZSByZW1vdmVkLCB3ZSBrbm93IGl0IGlzIHRoZSAoY3VycmVudCkgbGFzdCBzd2FwIGluIHRoZSB1c2VyJ3MgdXNlcl9zd2FwcyBsaXN0LCBzbyB3ZSBjYW4gc2ltcGx5IGRlY3JlbWVudCB0aGUgbGVuZ3RoIHRvIHJlbW92ZSBpdAogICAgICAgIHVzZXJfc3dhcHNbX2Zyb21dLmxlbmd0aCA9IHVzZXJfc3dhcHNbX2Zyb21dLmxlbmd0aC5zdWIoMSk7CiAgICAgICAgLy9SZW1vdmUgdGhlIHVzZXIgc3dhcCBpbmRleCBmb3IgdGhpcyBzd2FwCiAgICAgICAgZGVsZXRlIHVzZXJfc3dhcHNfaW5kZXhbX2Zyb21dW2Zyb21fc3dhcHNbaV1dOwoKICAgICAgICAvL0lmIHRoZSBfdG8gYWRkcmVzcyBhbHJlYWR5IGhvbGRzIHRva2VucyBmcm9tIHRoaXMgc3dhcAogICAgICAgIGlmIChhZGRyZXNzSW5Td2FwKGZyb21fc3dhcHNbaV0sIF90bykpIHsKICAgICAgICAgIC8vR2V0IHRoZSBpbmRleCBvZiB0aGUgX3RvIGJhbGFuY2UgaW4gdGhpcyBzd2FwCiAgICAgICAgICB1aW50IHRvX2JhbGFuY2VfaW5kZXggPSBzd2FwX2JhbGFuY2VzX2luZGV4W2Zyb21fc3dhcHNbaV1dW190b107CiAgICAgICAgICBhc3NlcnQodG9fYmFsYW5jZV9pbmRleCAhPSAwKTsKICAgICAgICAgIC8vQWRkIHRoZSBfZnJvbSB0b2tlbnMgdG8gX3RvCiAgICAgICAgICBzd2FwX2JhbGFuY2VzW2Zyb21fc3dhcHNbaV1dW3RvX2JhbGFuY2VfaW5kZXhdLmFtb3VudCA9IHN3YXBfYmFsYW5jZXNbZnJvbV9zd2Fwc1tpXV1bdG9fYmFsYW5jZV9pbmRleF0uYW1vdW50LmFkZChmcm9tX3VzZXJfYmFsLmFtb3VudCk7CiAgICAgICAgICAvL1JlbW92ZSB0aGUgX2Zyb20gYWRkcmVzcyBmcm9tIHRoaXMgc3dhcCdzIGJhbGFuY2UgYXJyYXkKICAgICAgICAgIHJlbW92ZUZyb21Td2FwQmFsYW5jZXMoX2Zyb20sIGZyb21fc3dhcHNbaV0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvL1ByZXBhcmUgdG8gYWRkIGEgbmV3IHN3YXAgYnkgYXNzaWduaW5nIHRoZSBzd2FwIGFuIGluZGV4IGZvciBfdG8KICAgICAgICAgIGlmICh1c2VyX3N3YXBzW190b10ubGVuZ3RoID09IDApCiAgICAgICAgICAgIHVzZXJfc3dhcHNfaW5kZXhbX3RvXVtmcm9tX3N3YXBzW2ldXSA9IDE7CiAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHVzZXJfc3dhcHNfaW5kZXhbX3RvXVtmcm9tX3N3YXBzW2ldXSA9IHVzZXJfc3dhcHNbX3RvXS5sZW5ndGg7CiAgICAgICAgICAvL0FkZCB0aGUgbmV3IHN3YXAgdG8gX3RvCiAgICAgICAgICB1c2VyX3N3YXBzW190b10ucHVzaChmcm9tX3N3YXBzW2ldKTsKICAgICAgICAgIC8vR2l2ZSB0aGUgcmVjaWV2ZXIgdGhlIHNlbmRlcidzIGJhbGFuY2UgZm9yIHRoaXMgc3dhcAogICAgICAgICAgc3dhcF9iYWxhbmNlc1tmcm9tX3N3YXBzW2ldXVtmcm9tX3N3YXBfdXNlcl9pbmRleF0ub3duZXIgPSBfdG87CiAgICAgICAgICAvL0dpdmUgdGhlIHJlY2lldmVyIHRoZSBzZW5kZXIncyBzd2FwIGJhbGFuY2UgaW5kZXggZm9yIHRoaXMgc3dhcAogICAgICAgICAgc3dhcF9iYWxhbmNlc19pbmRleFtmcm9tX3N3YXBzW2ldXVtfdG9dID0gc3dhcF9iYWxhbmNlc19pbmRleFtmcm9tX3N3YXBzW2ldXVtfZnJvbV07CiAgICAgICAgICAvL1JlbW92ZSB0aGUgc3dhcCBiYWxhbmNlIGluZGV4IGZyb20gdGhlIHNlbmRpbmcgcGFydHkKICAgICAgICAgIGRlbGV0ZSBzd2FwX2JhbGFuY2VzX2luZGV4W2Zyb21fc3dhcHNbaV1dW19mcm9tXTsKICAgICAgICB9CiAgICAgICAgLy9JZiB0aGVyZSBpcyBubyBtb3JlIHJlbWFpbmluZyB0byBiZSByZW1vdmVkLCB3ZSBicmVhayBvdXQgb2YgdGhlIGxvb3AKICAgICAgICBpZiAoX2Ftb3VudCA9PSAwKQogICAgICAgICAgYnJlYWs7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy9UaGUgYW1vdW50IGluIHRoaXMgc3dhcCBpcyBtb3JlIHRoYW4gdGhlIGFtb3VudCB3ZSBzdGlsbCBuZWVkIHRvIHRyYW5zZmVyCiAgICAgICAgdWludCB0b19zd2FwX2JhbGFuY2VfaW5kZXggPSBzd2FwX2JhbGFuY2VzX2luZGV4W2Zyb21fc3dhcHNbaV1dW190b107CiAgICAgICAgLy9JZiB0aGUgX3RvIGFkZHJlc3MgYWxyZWFkeSBob2xkcyB0b2tlbnMgZnJvbSB0aGlzIHN3YXAKICAgICAgICBpZiAoYWRkcmVzc0luU3dhcChmcm9tX3N3YXBzW2ldLCBfdG8pKSB7CiAgICAgICAgICAvL0JlY2F1c2UgYm90aCBhZGRyZXNzZXMgYXJlIGluIHRoaXMgc3dhcCwgYW5kIG5laXRoZXIgd2lsbCBiZSByZW1vdmVkLCB3ZSBzaW1wbHkgdXBkYXRlIGJvdGggc3dhcCBiYWxhbmNlcwogICAgICAgICAgc3dhcF9iYWxhbmNlc1tmcm9tX3N3YXBzW2ldXVt0b19zd2FwX2JhbGFuY2VfaW5kZXhdLmFtb3VudCA9IHN3YXBfYmFsYW5jZXNbZnJvbV9zd2Fwc1tpXV1bdG9fc3dhcF9iYWxhbmNlX2luZGV4XS5hbW91bnQuYWRkKF9hbW91bnQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvL1ByZXBhcmUgdG8gYWRkIGEgbmV3IHN3YXAgYnkgYXNzaWduaW5nIHRoZSBzd2FwIGFuIGluZGV4IGZvciBfdG8KICAgICAgICAgIGlmICh1c2VyX3N3YXBzW190b10ubGVuZ3RoID09IDApCiAgICAgICAgICAgIHVzZXJfc3dhcHNfaW5kZXhbX3RvXVtmcm9tX3N3YXBzW2ldXSA9IDE7CiAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHVzZXJfc3dhcHNfaW5kZXhbX3RvXVtmcm9tX3N3YXBzW2ldXSA9IHVzZXJfc3dhcHNbX3RvXS5sZW5ndGg7CiAgICAgICAgICAvL0FuZCBwdXNoIHRoZSBuZXcgc3dhcAogICAgICAgICAgdXNlcl9zd2Fwc1tfdG9dLnB1c2goZnJvbV9zd2Fwc1tpXSk7CiAgICAgICAgICAvL190byBpcyBub3QgaW4gdGhpcyBzd2FwLCBzbyB3ZSBnaXZlIHRoaXMgc3dhcCBhIG5ldyBiYWxhbmNlIGluZGV4IGZvciBfdG8KICAgICAgICAgIHN3YXBfYmFsYW5jZXNfaW5kZXhbZnJvbV9zd2Fwc1tpXV1bX3RvXSA9IHN3YXBfYmFsYW5jZXNbZnJvbV9zd2Fwc1tpXV0ubGVuZ3RoOwogICAgICAgICAgLy9BbmQgcHVzaCBhIG5ldyBiYWxhbmNlIGZvciBfdG8KICAgICAgICAgIHN3YXBfYmFsYW5jZXNbZnJvbV9zd2Fwc1tpXV0ucHVzaChCYWxhbmNlKHsKICAgICAgICAgICAgb3duZXI6IF90bywKICAgICAgICAgICAgYW1vdW50OiBfYW1vdW50CiAgICAgICAgICB9KSk7CiAgICAgICAgfQogICAgICAgIC8vRmluYWxseSwgdXBkYXRlIHRoZSBfZnJvbSB1c2VyJ3Mgc3dhcCBiYWxhbmNlCiAgICAgICAgc3dhcF9iYWxhbmNlc1tmcm9tX3N3YXBzW2ldXVtmcm9tX3N3YXBfdXNlcl9pbmRleF0uYW1vdW50ID0gc3dhcF9iYWxhbmNlc1tmcm9tX3N3YXBzW2ldXVtmcm9tX3N3YXBfdXNlcl9pbmRleF0uYW1vdW50LnN1YihfYW1vdW50KTsKICAgICAgICAvL0JlY2F1c2Ugd2UgaGF2ZSB0cmFuc2ZlcnJlZCB0aGUgbGFzdCBvZiB0aGUgYW1vdW50IHRvIHRoZSByZWNpZXZlciwgd2UgYnJlYWs7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9CgogIC8qCiAgICBFUkMyMCBjb21wbGlhbnQgdHJhbnNmZXIgZnVuY3Rpb24KICAgIEBwYXJhbSAtIF90bzogQWRkcmVzcyB0byBzZW5kIGZ1bmRzIHRvCiAgICBAcGFyYW0gLSBfYW1vdW50OiBBbW91bnQgb2YgdG9rZW4gdG8gc2VuZAogICAgcmV0dXJucyB0cnVlIGZvciBzdWNjZXNzZnVsCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICB1aW50IGJhbGFuY2Vfb3duZXIgPSB1c2VyX3RvdGFsX2JhbGFuY2VzW21zZy5zZW5kZXJdOwoKICAgIGlmICgKICAgICAgX3RvID09IG1zZy5zZW5kZXIgfHwKICAgICAgX3RvID09IGFkZHJlc3MoMCkgfHwKICAgICAgX2Ftb3VudCA9PSAwIHx8CiAgICAgIGJhbGFuY2Vfb3duZXIgPCBfYW1vdW50CiAgICApIHJldHVybiBmYWxzZTsKCiAgICB0cmFuc2ZlckhlbHBlcihtc2cuc2VuZGVyLCBfdG8sIF9hbW91bnQpOwogICAgdXNlcl90b3RhbF9iYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHVzZXJfdG90YWxfYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOwogICAgdXNlcl90b3RhbF9iYWxhbmNlc1tfdG9dID0gdXNlcl90b3RhbF9iYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qCiAgICBFUkMyMCBjb21wbGlhbnQgdHJhbnNmZXJGcm9tIGZ1bmN0aW9uCiAgICBAcGFyYW0gLSBfZnJvbTogQWRkcmVzcyB0byBzZW5kIGZ1bmRzIGZyb20gKG11c3QgYmUgYWxsb3dlZCwgc2VlIGFwcHJvdmUgZnVuY3Rpb24pCiAgICBAcGFyYW0gLSBfdG86IEFkZHJlc3MgdG8gc2VuZCBmdW5kcyB0bwogICAgQHBhcmFtIC0gX2Ftb3VudDogQW1vdW50IG9mIHRva2VuIHRvIHNlbmQKICAgIHJldHVybnMgdHJ1ZSBmb3Igc3VjY2Vzc2Z1bAogICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHVpbnQgYmFsYW5jZV9vd25lciA9IHVzZXJfdG90YWxfYmFsYW5jZXNbX2Zyb21dOwogICAgdWludCBzZW5kZXJfYWxsb3dlZCA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKICAgIGlmICgKICAgICAgX3RvID09IF9mcm9tIHx8CiAgICAgIF90byA9PSBhZGRyZXNzKDApIHx8CiAgICAgIF9hbW91bnQgPT0gMCB8fAogICAgICBiYWxhbmNlX293bmVyIDwgX2Ftb3VudCB8fAogICAgICBzZW5kZXJfYWxsb3dlZCA8IF9hbW91bnQKICAgICkgcmV0dXJuIGZhbHNlOwoKICAgIHRyYW5zZmVySGVscGVyKF9mcm9tLCBfdG8sIF9hbW91bnQpOwogICAgdXNlcl90b3RhbF9iYWxhbmNlc1tfZnJvbV0gPSB1c2VyX3RvdGFsX2JhbGFuY2VzW19mcm9tXS5zdWIoX2Ftb3VudCk7CiAgICB1c2VyX3RvdGFsX2JhbGFuY2VzW190b10gPSB1c2VyX3RvdGFsX2JhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoKICAgIEVSQzIwIGNvbXBsaWFudCBhcHByb3ZlIGZ1bmN0aW9uCiAgICBAcGFyYW0gLSBfc3BlbmRlcjogUGFydHkgdGhhdCBtc2cuc2VuZGVyIGFwcHJvdmVzIGZvciB0cmFuc2ZlcnJpbmcgZnVuZHMKICAgIEBwYXJhbSAtIF9hbW91bnQ6IEFtb3VudCBvZiB0b2tlbiB0byBhcHByb3ZlIGZvciBzZW5kaW5nCiAgICByZXR1cm5zIHRydWUgZm9yIHN1Y2Nlc3NmdWwKICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF9hbW91bnQ7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8vUmV0dXJucyB0aGUgbGVuZ3RoIG9mIHRoZSBiYWxhbmNlcyBhcnJheSBmb3IgYSBzd2FwCiAgZnVuY3Rpb24gYWRkcmVzc0NvdW50KGFkZHJlc3MgX3N3YXApIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IGNvdW50KSB7IHJldHVybiBzd2FwX2JhbGFuY2VzW19zd2FwXS5sZW5ndGg7IH0KCiAgLy9SZXR1cm5zIHRoZSBhZGRyZXNzIGFzc29jaWF0ZWQgd2l0aCBhIHBhcnRpY3VsYXIgaW5kZXggaW4gYSBwYXJ0aWN1bGFyIHN3YXAKICBmdW5jdGlvbiBnZXRIb2xkZXJCeUluZGV4KHVpbnQgX2luZCwgYWRkcmVzcyBfc3dhcCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MgaG9sZGVyKSB7IHJldHVybiBzd2FwX2JhbGFuY2VzW19zd2FwXVtfaW5kXS5vd25lcjsgfQoKICAvL1JldHVybnMgdGhlIGJhbGFuY2UgYXNzb2NpYXRlZCB3aXRoIGEgcGFydGljdWxhciBpbmRleCBpbiBhIHBhcnRpY3VsYXIgc3dhcAogIGZ1bmN0aW9uIGdldEJhbGFuY2VCeUluZGV4KHVpbnQgX2luZCwgYWRkcmVzcyBfc3dhcCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgYmFsKSB7IHJldHVybiBzd2FwX2JhbGFuY2VzW19zd2FwXVtfaW5kXS5hbW91bnQ7IH0KCiAgLy9SZXR1cm5zIHRoZSBpbmRleCBhc3NvY2lhdGVkIHdpdGggdGhlIF9vd25lciBhZGRyZXNzIGluIGEgcGFydGljdWxhciBzd2FwCiAgZnVuY3Rpb24gZ2V0SW5kZXhCeUFkZHJlc3MoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3N3YXApIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IGluZGV4KSB7IHJldHVybiBzd2FwX2JhbGFuY2VzX2luZGV4W19zd2FwXVtfb3duZXJdOyB9CgogIC8vUmV0dXJucyB0aGUgYWxsb3dlZCBhbW91bnQgX3NwZW5kZXIgY2FuIHNwZW5kIG9mIF9vd25lcidzIGJhbGFuY2UKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IGFtb3VudCkgeyByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsgfQp9CgoKLy9Td2FwIERlcGxveWVyIENvbnRyYWN0LS0gcHVycG9zZSBpcyB0byBzYXZlIGdhcyBmb3IgZGVwbG95bWVudCBvZiBGYWN0b3J5IGNvbnRyYWN0CmNvbnRyYWN0IFRva2VuZGVwbG95ZXIgewogIGFkZHJlc3Mgb3duZXI7CiAgYWRkcmVzcyBwdWJsaWMgZmFjdG9yeTsKCiAgZnVuY3Rpb24gVG9rZW5kZXBsb3llcihhZGRyZXNzIF9mYWN0b3J5KSBwdWJsaWMgewogICAgZmFjdG9yeSA9IF9mYWN0b3J5OwogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgZnVuY3Rpb24gbmV3VG9rZW4oKSBwdWJsaWMgcmV0dXJucyAoYWRkcmVzcyBjcmVhdGVkKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZmFjdG9yeSk7CiAgICBhZGRyZXNzIG5ld190b2tlbiA9IG5ldyBEUkNUX1Rva2VuKGZhY3RvcnkpOwogICAgcmV0dXJuIG5ld190b2tlbjsKICB9CgogICBmdW5jdGlvbiBzZXRWYXJzKGFkZHJlc3MgX2ZhY3RvcnksIGFkZHJlc3MgX293bmVyKSBwdWJsaWMgewogICAgcmVxdWlyZSAobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBmYWN0b3J5ID0gX2ZhY3Rvcnk7CiAgICBvd25lciA9IF9vd25lcjsKICB9Cn0='.
	

]
