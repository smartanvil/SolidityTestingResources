Class {
	#name : #SRTfba8d67c720cf3a876fd1825329c33060ddbc2ae,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTfba8d67c720cf3a876fd1825329c33060ddbc2ae >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgovKgogICAgQ29weXJpZ2h0IDIwMTYsIEpvcmRpIEJheWxpbmEKICAgIENvbnRyaWJ1dG9yOiBBZHJpJiMyMjQ7IE1hc3NhbmV0IDw8YSBocmVmPSIvY2RuLWNnaS9sL2VtYWlsLXByb3RlY3Rpb24iIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iMGU2ZjZhN2M2NzZmNGU2ZDYxNmE2YjZkNjE2MDdhNmI3NjdhMjA2NzYxIj5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9hPj4KCiAgICBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQogICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yCiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLgoKICAgIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAogICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUKICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgogICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKICAgIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgogICAgCiAgICAKICAgIFRoaXMgaXMganVzdCBzb21lIGV4dHJhIGdhcmJhZ2UgdG8gY2hlY2sgYWJvdXQgY29tbWVudHMKKi8KLy8vIEFkZCBhbiBleHRyYSBjb21tZW50IGhlcmUgc2VlIGlmIEkgY2FyZQovLy8gQHRpdGxlIE93bmVkCi8vLyBAYXV0aG9yIEFkcmkmIzIyNDsgTWFzc2FuZXQgPDxhIGhyZWY9Ii9jZG4tY2dpL2wvZW1haWwtcHJvdGVjdGlvbiIgY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSJhOWM4Y2RkYmMwYzhlOWNhYzZjZGNjY2FjNmM3ZGRjY2QxZGQ4N2MwYzYiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L2E+PgovLy8gQG5vdGljZSBUaGUgT3duZWQgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyAKLy8vICBhdXRob3JpemF0aW9uIGNvbnRyb2wgZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgJiB0aGUgaW1wbGVtZW50YXRpb24gb2YKLy8vICB1c2VyIHBlcm1pc3Npb25zOyB0aGlzIGNvbnRyYWN0IGhhcyB0aHJlZSB3b3JrIGZsb3dzIGZvciBhIGNoYW5nZSBpbgovLy8gIG93bmVyc2hpcCwgdGhlIGZpcnN0IHJlcXVpcmVzIHRoZSBuZXcgb3duZXIgdG8gdmFsaWRhdGUgdGhhdCB0aGV5IGhhdmUgdGhlCi8vLyAgYWJpbGl0eSB0byBhY2NlcHQgb3duZXJzaGlwLCB0aGUgc2Vjb25kIGFsbG93cyB0aGUgb3duZXJzaGlwIHRvIGJlCi8vLyAgZGlyZWN0bHkgdHJhbnNmZXJlZCB3aXRob3V0IHJlcXVpcmluZyBhY2NlcHRhbmNlLCBhbmQgdGhlIHRoaXJkIGFsbG93cyBmb3IKLy8vICB0aGUgb3duZXJzaGlwIHRvIGJlIHJlbW92ZWQgdG8gYWxsb3cgZm9yIGRlY2VudHJhbGl6YXRpb24gCmNvbnRyYWN0IE93bmVkIHsKCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIGFkZHJlc3MgcHVibGljIG5ld093bmVyQ2FuZGlkYXRlOwoKICAgIGV2ZW50IE93bmVyc2hpcFJlcXVlc3RlZChhZGRyZXNzIGluZGV4ZWQgYnksIGFkZHJlc3MgaW5kZXhlZCB0byk7CiAgICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvKTsKICAgIGV2ZW50IE93bmVyc2hpcFJlbW92ZWQoKTsKCiAgICAvLy8gQGRldiBUaGUgY29uc3RydWN0b3Igc2V0cyB0aGUgYG1zZy5zZW5kZXJgIGFzIHRoZWBvd25lcmAgb2YgdGhlIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBPd25lZCgpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIC8vLyBAZGV2IGBvd25lcmAgaXMgdGhlIG9ubHkgYWRkcmVzcyB0aGF0IGNhbiBjYWxsIGEgZnVuY3Rpb24gd2l0aCB0aGlzCiAgICAvLy8gbW9kaWZpZXIKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlIChtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICAvLy8gQGRldiBJbiB0aGlzIDFzdCBvcHRpb24gZm9yIG93bmVyc2hpcCB0cmFuc2ZlciBgcHJvcG9zZU93bmVyc2hpcCgpYCBtdXN0CiAgICAvLy8gIGJlIGNhbGxlZCBmaXJzdCBieSB0aGUgY3VycmVudCBgb3duZXJgIHRoZW4gYGFjY2VwdE93bmVyc2hpcCgpYCBtdXN0IGJlCiAgICAvLy8gIGNhbGxlZCBieSB0aGUgYG5ld093bmVyQ2FuZGlkYXRlYAogICAgLy8vIEBub3RpY2UgYG9ubHlPd25lcmAgUHJvcG9zZXMgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYQogICAgLy8vICBuZXcgb3duZXIKICAgIC8vLyBAcGFyYW0gX25ld093bmVyQ2FuZGlkYXRlIFRoZSBhZGRyZXNzIGJlaW5nIHByb3Bvc2VkIGFzIHRoZSBuZXcgb3duZXIKICAgIGZ1bmN0aW9uIHByb3Bvc2VPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXJDYW5kaWRhdGUpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIG5ld093bmVyQ2FuZGlkYXRlID0gX25ld093bmVyQ2FuZGlkYXRlOwogICAgICAgIE93bmVyc2hpcFJlcXVlc3RlZChtc2cuc2VuZGVyLCBuZXdPd25lckNhbmRpZGF0ZSk7CiAgICB9CgogICAgLy8vIEBub3RpY2UgQ2FuIG9ubHkgYmUgY2FsbGVkIGJ5IHRoZSBgbmV3T3duZXJDYW5kaWRhdGVgLCBhY2NlcHRzIHRoZQogICAgLy8vICB0cmFuc2ZlciBvZiBvd25lcnNoaXAKICAgIGZ1bmN0aW9uIGFjY2VwdE93bmVyc2hpcCgpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG5ld093bmVyQ2FuZGlkYXRlKTsKCiAgICAgICAgYWRkcmVzcyBvbGRPd25lciA9IG93bmVyOwogICAgICAgIG93bmVyID0gbmV3T3duZXJDYW5kaWRhdGU7CiAgICAgICAgbmV3T3duZXJDYW5kaWRhdGUgPSAweDA7CgogICAgICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG9sZE93bmVyLCBvd25lcik7CiAgICB9CgogICAgLy8vIEBkZXYgSW4gdGhpcyAybmQgb3B0aW9uIGZvciBvd25lcnNoaXAgdHJhbnNmZXIgYGNoYW5nZU93bmVyc2hpcCgpYCBjYW4KICAgIC8vLyAgYmUgY2FsbGVkIGFuZCBpdCB3aWxsIGltbWVkaWF0ZWx5IGFzc2lnbiBvd25lcnNoaXAgdG8gdGhlIGBuZXdPd25lcmAKICAgIC8vLyBAbm90aWNlIGBvd25lcmAgY2FuIHN0ZXAgZG93biBhbmQgYXNzaWduIHNvbWUgb3RoZXIgYWRkcmVzcyB0byB0aGlzIHJvbGUKICAgIC8vLyBAcGFyYW0gX25ld093bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBuZXcgb3duZXIKICAgIGZ1bmN0aW9uIGNoYW5nZU93bmVyc2hpcChhZGRyZXNzIF9uZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShfbmV3T3duZXIgIT0gMHgwKTsKCiAgICAgICAgYWRkcmVzcyBvbGRPd25lciA9IG93bmVyOwogICAgICAgIG93bmVyID0gX25ld093bmVyOwogICAgICAgIG5ld093bmVyQ2FuZGlkYXRlID0gMHgwOwoKICAgICAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvbGRPd25lciwgb3duZXIpOwogICAgfQoKICAgIC8vLyBAZGV2IEluIHRoaXMgM3JkIG9wdGlvbiBmb3Igb3duZXJzaGlwIHRyYW5zZmVyIGByZW1vdmVPd25lcnNoaXAoKWAgY2FuCiAgICAvLy8gIGJlIGNhbGxlZCBhbmQgaXQgd2lsbCBpbW1lZGlhdGVseSBhc3NpZ24gb3duZXJzaGlwIHRvIHRoZSAweDAgYWRkcmVzczsKICAgIC8vLyAgaXQgcmVxdWlyZXMgYSAweGRlY2UgYmUgaW5wdXQgYXMgYSBwYXJhbWV0ZXIgdG8gcHJldmVudCBhY2NpZGVudGFsIHVzZQogICAgLy8vIEBub3RpY2UgRGVjZW50cmFsaXplcyB0aGUgY29udHJhY3QsIHRoaXMgb3BlcmF0aW9uIGNhbm5vdCBiZSB1bmRvbmUgCiAgICAvLy8gQHBhcmFtIF9kYWMgYDB4ZGFjYCBoYXMgdG8gYmUgZW50ZXJlZCBmb3IgdGhpcyBmdW5jdGlvbiB0byB3b3JrCiAgICBmdW5jdGlvbiByZW1vdmVPd25lcnNoaXAoYWRkcmVzcyBfZGFjKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKF9kYWMgPT0gMHhkYWMpOwogICAgICAgIG93bmVyID0gMHgwOwogICAgICAgIG5ld093bmVyQ2FuZGlkYXRlID0gMHgwOwogICAgICAgIE93bmVyc2hpcFJlbW92ZWQoKTsgICAgIAogICAgfQp9IAoKCgovKioKICogQHRpdGxlIEVSQzIwCiAqIEBkZXYgQSBzdGFuZGFyZCBpbnRlcmZhY2UgZm9yIHRva2Vucy4KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9ibG9iL21hc3Rlci9FSVBTL2VpcC0yMC10b2tlbi1zdGFuZGFyZC5tZAogKi8KY29udHJhY3QgRVJDMjAgewogIAogICAgLy8vIEBkZXYgUmV0dXJucyB0aGUgdG90YWwgdG9rZW4gc3VwcGx5CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSk7CgogICAgLy8vIEBkZXYgUmV0dXJucyB0aGUgYWNjb3VudCBiYWxhbmNlIG9mIHRoZSBhY2NvdW50IHdpdGggYWRkcmVzcyBfb3duZXIKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CgogICAgLy8vIEBkZXYgVHJhbnNmZXJzIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIGFkZHJlc3MgX3RvCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAZGV2IFRyYW5zZmVycyBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyBmcm9tIGFkZHJlc3MgX2Zyb20gdG8gYWRkcmVzcyBfdG8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAZGV2IEFsbG93cyBfc3BlbmRlciB0byB3aXRoZHJhdyBmcm9tIHRoZSBtc2cuc2VuZGVyJ3MgYWNjb3VudCB1cCB0byB0aGUgX3ZhbHVlIGFtb3VudAogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8vIEBkZXYgUmV0dXJucyB0aGUgYW1vdW50IHdoaWNoIF9zcGVuZGVyIGlzIHN0aWxsIGFsbG93ZWQgdG8gd2l0aGRyYXcgZnJvbSBfb3duZXIKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwoKfQoKCi8vLyBAZGV2IGBFc2NhcGFibGVgIGlzIGEgYmFzZSBsZXZlbCBjb250cmFjdCBidWlsdCBvZmYgb2YgdGhlIGBPd25lZGAKLy8vICBjb250cmFjdDsgaXQgY3JlYXRlcyBhbiBlc2NhcGUgaGF0Y2ggZnVuY3Rpb24gdGhhdCBjYW4gYmUgY2FsbGVkIGluIGFuCi8vLyAgZW1lcmdlbmN5IHRoYXQgd2lsbCBhbGxvdyBkZXNpZ25hdGVkIGFkZHJlc3NlcyB0byBzZW5kIGFueSBldGhlciBvciB0b2tlbnMKLy8vICBoZWxkIGluIHRoZSBjb250cmFjdCB0byBhbiBgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbmAgYXMgbG9uZyBhcyB0aGV5IHdlcmUKLy8vICBub3QgYmxhY2tsaXN0ZWQKY29udHJhY3QgRXNjYXBhYmxlIGlzIE93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIGVzY2FwZUhhdGNoQ2FsbGVyOwogICAgYWRkcmVzcyBwdWJsaWMgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbjsKICAgIG1hcHBpbmcgKGFkZHJlc3M9PmJvb2wpIHByaXZhdGUgZXNjYXBlQmxhY2tsaXN0OyAvLyBUb2tlbiBjb250cmFjdCBhZGRyZXNzZXMKCiAgICAvLy8gQG5vdGljZSBUaGUgQ29uc3RydWN0b3IgYXNzaWducyB0aGUgYGVzY2FwZUhhdGNoRGVzdGluYXRpb25gIGFuZCB0aGUKICAgIC8vLyAgYGVzY2FwZUhhdGNoQ2FsbGVyYAogICAgLy8vIEBwYXJhbSBfZXNjYXBlSGF0Y2hDYWxsZXIgVGhlIGFkZHJlc3Mgb2YgYSB0cnVzdGVkIGFjY291bnQgb3IgY29udHJhY3QKICAgIC8vLyAgdG8gY2FsbCBgZXNjYXBlSGF0Y2goKWAgdG8gc2VuZCB0aGUgZXRoZXIgaW4gdGhpcyBjb250cmFjdCB0byB0aGUKICAgIC8vLyAgYGVzY2FwZUhhdGNoRGVzdGluYXRpb25gIGl0IHdvdWxkIGJlIGlkZWFsIHRoYXQgYGVzY2FwZUhhdGNoQ2FsbGVyYAogICAgLy8vICBjYW5ub3QgbW92ZSBmdW5kcyBvdXQgb2YgYGVzY2FwZUhhdGNoRGVzdGluYXRpb25gCiAgICAvLy8gQHBhcmFtIF9lc2NhcGVIYXRjaERlc3RpbmF0aW9uIFRoZSBhZGRyZXNzIG9mIGEgc2FmZSBsb2NhdGlvbiAodXN1IGEKICAgIC8vLyAgTXVsdGlzaWcpIHRvIHNlbmQgdGhlIGV0aGVyIGhlbGQgaW4gdGhpcyBjb250cmFjdDsgaWYgYSBuZXV0cmFsIGFkZHJlc3MKICAgIC8vLyAgaXMgcmVxdWlyZWQsIHRoZSBXSEcgTXVsdGlzaWcgaXMgYW4gb3B0aW9uOgogICAgLy8vICAweDhGZjkyMDAyMGM4QUQ2NzM2NjFjODExN2YyODU1QzM4NDc1OEM1NzIgCiAgICBmdW5jdGlvbiBFc2NhcGFibGUoYWRkcmVzcyBfZXNjYXBlSGF0Y2hDYWxsZXIsIGFkZHJlc3MgX2VzY2FwZUhhdGNoRGVzdGluYXRpb24pIHB1YmxpYyB7CiAgICAgICAgZXNjYXBlSGF0Y2hDYWxsZXIgPSBfZXNjYXBlSGF0Y2hDYWxsZXI7CiAgICAgICAgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbiA9IF9lc2NhcGVIYXRjaERlc3RpbmF0aW9uOwogICAgfQoKICAgIC8vLyBAZGV2IFRoZSBhZGRyZXNzZXMgcHJlYXNzaWduZWQgYXMgYGVzY2FwZUhhdGNoQ2FsbGVyYCBvciBgb3duZXJgCiAgICAvLy8gIGFyZSB0aGUgb25seSBhZGRyZXNzZXMgdGhhdCBjYW4gY2FsbCBhIGZ1bmN0aW9uIHdpdGggdGhpcyBtb2RpZmllcgogICAgbW9kaWZpZXIgb25seUVzY2FwZUhhdGNoQ2FsbGVyT3JPd25lciB7CiAgICAgICAgcmVxdWlyZSAoKG1zZy5zZW5kZXIgPT0gZXNjYXBlSGF0Y2hDYWxsZXIpfHwobXNnLnNlbmRlciA9PSBvd25lcikpOwogICAgICAgIF87CiAgICB9CgogICAgLy8vIEBub3RpY2UgQ3JlYXRlcyB0aGUgYmxhY2tsaXN0IG9mIHRva2VucyB0aGF0IGFyZSBub3QgYWJsZSB0byBiZSB0YWtlbgogICAgLy8vICBvdXQgb2YgdGhlIGNvbnRyYWN0OyBjYW4gb25seSBiZSBkb25lIGF0IHRoZSBkZXBsb3ltZW50LCBhbmQgdGhlIGxvZ2ljCiAgICAvLy8gIHRvIGFkZCB0byB0aGUgYmxhY2tsaXN0IHdpbGwgYmUgaW4gdGhlIGNvbnN0cnVjdG9yIG9mIGEgY2hpbGQgY29udHJhY3QKICAgIC8vLyBAcGFyYW0gX3Rva2VuIHRoZSB0b2tlbiBjb250cmFjdCBhZGRyZXNzIHRoYXQgaXMgdG8gYmUgYmxhY2tsaXN0ZWQgCiAgICBmdW5jdGlvbiBibGFja2xpc3RFc2NhcGVUb2tlbihhZGRyZXNzIF90b2tlbikgaW50ZXJuYWwgewogICAgICAgIGVzY2FwZUJsYWNrbGlzdFtfdG9rZW5dID0gdHJ1ZTsKICAgICAgICBFc2NhcGVIYXRjaEJsYWNraXN0ZWRUb2tlbihfdG9rZW4pOwogICAgfQoKICAgIC8vLyBAbm90aWNlIENoZWNrcyB0byBzZWUgaWYgYF90b2tlbmAgaXMgaW4gdGhlIGJsYWNrbGlzdCBvZiB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3Rva2VuIHRoZSB0b2tlbiBhZGRyZXNzIGJlaW5nIHF1ZXJpZWQKICAgIC8vLyBAcmV0dXJuIEZhbHNlIGlmIGBfdG9rZW5gIGlzIGluIHRoZSBibGFja2xpc3QgYW5kIGNhbid0IGJlIHRha2VuIG91dCBvZgogICAgLy8vICB0aGUgY29udHJhY3QgdmlhIHRoZSBgZXNjYXBlSGF0Y2goKWAKICAgIGZ1bmN0aW9uIGlzVG9rZW5Fc2NhcGFibGUoYWRkcmVzcyBfdG9rZW4pIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuICFlc2NhcGVCbGFja2xpc3RbX3Rva2VuXTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBUaGUgYGVzY2FwZUhhdGNoKClgIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBhcyBhIGxhc3QgcmVzb3J0IGlmIGEKICAgIC8vLyBzZWN1cml0eSBpc3N1ZSBpcyB1bmNvdmVyZWQgb3Igc29tZXRoaW5nIHVuZXhwZWN0ZWQgaGFwcGVuZWQKICAgIC8vLyBAcGFyYW0gX3Rva2VuIHRvIHRyYW5zZmVyLCB1c2UgMHgwIGZvciBldGhlcgogICAgZnVuY3Rpb24gZXNjYXBlSGF0Y2goYWRkcmVzcyBfdG9rZW4pIHB1YmxpYyBvbmx5RXNjYXBlSGF0Y2hDYWxsZXJPck93bmVyIHsgICAKICAgICAgICByZXF1aXJlKGVzY2FwZUJsYWNrbGlzdFtfdG9rZW5dPT1mYWxzZSk7CgogICAgICAgIHVpbnQyNTYgYmFsYW5jZTsKCiAgICAgICAgLy8vIEBkZXYgTG9naWMgZm9yIGV0aGVyCiAgICAgICAgaWYgKF90b2tlbiA9PSAweDApIHsKICAgICAgICAgICAgYmFsYW5jZSA9IHRoaXMuYmFsYW5jZTsKICAgICAgICAgICAgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbi50cmFuc2ZlcihiYWxhbmNlKTsKICAgICAgICAgICAgRXNjYXBlSGF0Y2hDYWxsZWQoX3Rva2VuLCBiYWxhbmNlKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAvLy8gQGRldiBMb2dpYyBmb3IgdG9rZW5zCiAgICAgICAgRVJDMjAgdG9rZW4gPSBFUkMyMChfdG9rZW4pOwogICAgICAgIGJhbGFuY2UgPSB0b2tlbi5iYWxhbmNlT2YodGhpcyk7CiAgICAgICAgcmVxdWlyZSh0b2tlbi50cmFuc2Zlcihlc2NhcGVIYXRjaERlc3RpbmF0aW9uLCBiYWxhbmNlKSk7CiAgICAgICAgRXNjYXBlSGF0Y2hDYWxsZWQoX3Rva2VuLCBiYWxhbmNlKTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBDaGFuZ2VzIHRoZSBhZGRyZXNzIGFzc2lnbmVkIHRvIGNhbGwgYGVzY2FwZUhhdGNoKClgCiAgICAvLy8gQHBhcmFtIF9uZXdFc2NhcGVIYXRjaENhbGxlciBUaGUgYWRkcmVzcyBvZiBhIHRydXN0ZWQgYWNjb3VudCBvcgogICAgLy8vICBjb250cmFjdCB0byBjYWxsIGBlc2NhcGVIYXRjaCgpYCB0byBzZW5kIHRoZSB2YWx1ZSBpbiB0aGlzIGNvbnRyYWN0IHRvCiAgICBmdW5jdGlvbiBjaGFuZ2VIYXRjaEVzY2FwZUNhbGxlcihhZGRyZXNzIF9uZXdFc2NhcGVIYXRjaENhbGxlcikgcHVibGljIG9ubHlFc2NhcGVIYXRjaENhbGxlck9yT3duZXIgewogICAgICAgIGVzY2FwZUhhdGNoQ2FsbGVyID0gX25ld0VzY2FwZUhhdGNoQ2FsbGVyOwogICAgfQoKICAgIGV2ZW50IEVzY2FwZUhhdGNoQmxhY2tpc3RlZFRva2VuKGFkZHJlc3MgdG9rZW4pOwogICAgZXZlbnQgRXNjYXBlSGF0Y2hDYWxsZWQoYWRkcmVzcyB0b2tlbiwgdWludCBhbW91bnQpOwp9CgovLyBDb3B5cmlnaHQgKEMpIDIwMTggQWxvbiBCdWthaSBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IAovLyBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCAKLy8gUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIHZlcnNpb24uIAovLyBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwgCi8vIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mIE1FUkNIQU5UQUJJTElUWQovLyBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gU2VlIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IKLy8gbW9yZSBkZXRhaWxzLiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMKLy8gTGljZW5zZSBhbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gSWYgbm90LCBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLwoKLy8vIEBub3RpY2UgYE11bHRpU2VuZGAgaXMgYSBjb250cmFjdCBmb3Igc2VuZGluZyBtdWx0aXBsZSBFVEgvRVJDMjAgVG9rZW5zIHRvCi8vLyAgbXVsdGlwbGUgYWRkcmVzc2VzLiBJbiBhZGRpdGlvbiB0aGlzIGNvbnRyYWN0IGNhbiBjYWxsIG11bHRpcGxlIGNvbnRyYWN0cwovLy8gIHdpdGggbXVsdGlwbGUgYW1vdW50cy4gVGhlcmUgYXJlIGFsc28gVGlnaHRseVBhY2tlZCBmdW5jdGlvbnMgd2hpY2ggaW4KLy8vICBzb21lIHNpdHVhdGlvbnMgYWxsb3cgZm9yIGdhcyBzYXZpbmdzLiBUaWdodGx5UGFja2VkIGlzIGNoZWFwZXIgaWYgeW91Ci8vLyAgbmVlZCB0byBzdG9yZSBpbnB1dCBkYXRhIGFuZCBpZiBhbW91bnQgaXMgbGVzcyB0aGFuIDEyIGJ5dGVzLiBOb3JtYWwgaXMKLy8vICBjaGVhcGVyIGlmIHlvdSBkb24ndCBuZWVkIHRvIHN0b3JlIGlucHV0IGRhdGEgb3IgaWYgYW1vdW50cyBhcmUgZ3JlYXRlcgovLy8gIHRoYW4gMTIgYnl0ZXMuIFN1cHBvcnRzIGRldGVybWluaXN0aWMgZGVwbG95bWVudC4gQXMgZXhwbGFpbmVkCi8vLyAgaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzc3NyNpc3N1ZWNvbW1lbnQtMzU2MTAzNTI4CmNvbnRyYWN0IE11bHRpU2VuZCBpcyBFc2NhcGFibGUgewogIAogICAgLy8vIEBkZXYgSGFyZGNvZGVkIGVzY2FwZUhhdGNoQ2FsbGVyCiAgICBhZGRyZXNzIENBTExFUiA9IDB4ODM5Mzk1ZTIwYmJCMTgyZmE0NDBkMDhGODUwRTZjN0E4ZjZGMDc4MDsKICAgIC8vLyBAZGV2IEhhcmRjb2RlZCBlc2NhcGVIYXRjaERlc3RpbmF0aW9uCiAgICBhZGRyZXNzIERFU1RJTkFUSU9OID0gMHg4ZmY5MjAwMjBjOGFkNjczNjYxYzgxMTdmMjg1NWMzODQ3NThjNTcyOwoKICAgIGV2ZW50IE11bHRpVHJhbnNmZXIoCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIF9mcm9tLAogICAgICAgIHVpbnQgaW5kZXhlZCBfdmFsdWUsCiAgICAgICAgYWRkcmVzcyBfdG8sCiAgICAgICAgdWludCBfYW1vdW50CiAgICApOwoKICAgIGV2ZW50IE11bHRpQ2FsbCgKICAgICAgICBhZGRyZXNzIGluZGV4ZWQgX2Zyb20sCiAgICAgICAgdWludCBpbmRleGVkIF92YWx1ZSwKICAgICAgICBhZGRyZXNzIF90bywKICAgICAgICB1aW50IF9hbW91bnQKICAgICk7CgogICAgZXZlbnQgTXVsdGlFUkMyMFRyYW5zZmVyKAogICAgICAgIGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwKICAgICAgICB1aW50IGluZGV4ZWQgX3ZhbHVlLAogICAgICAgIGFkZHJlc3MgX3RvLAogICAgICAgIHVpbnQgX2Ftb3VudCwKICAgICAgICBFUkMyMCBfdG9rZW4KICAgICk7CgogICAgLy8vIEBub3RpY2UgQ29uc3RydWN0b3IgdXNpbmcgRXNjYXBhYmxlIGFuZCBIYXJkY29kZWQgdmFsdWVzCiAgICBmdW5jdGlvbiBNdWx0aVNlbmQoKSBFc2NhcGFibGUoQ0FMTEVSLCBERVNUSU5BVElPTikgcHVibGljIHt9CgogICAgLy8vIEBub3RpY2UgU2VuZCB0byBtdWx0aXBsZSBhZGRyZXNzZXMgdXNpbmcgYSBieXRlMzIgYXJyYXkgd2hpY2gKICAgIC8vLyAgaW5jbHVkZXMgdGhlIGFkZHJlc3MgYW5kIHRoZSBhbW91bnQuCiAgICAvLy8gIEFkZHJlc3NlcyBhbmQgYW1vdW50cyBhcmUgc3RvcmVkIGluIGEgcGFja2VkIGJ5dGVzMzIgYXJyYXkKICAgIC8vLyAgQWRkcmVzcyBpcyBzdG9yZWQgaW4gdGhlIDIwIG1vc3Qgc2lnbmlmaWNhbnQgYnl0ZXMKICAgIC8vLyAgVGhlIGFkZHJlc3MgaXMgcmV0cmlldmVkIGJ5IGJpdHNoaWZ0aW5nIDk2IGJpdHMgdG8gdGhlIHJpZ2h0CiAgICAvLy8gIEFtb3VudCBpcyBzdG9yZWQgaW4gdGhlIDEyIGxlYXN0IHNpZ25pZmljYW50IGJ5dGVzCiAgICAvLy8gIFRoZSBhbW91bnQgaXMgcmV0cmlldmVkIGJ5IHRha2luZyB0aGUgOTYgbGVhc3Qgc2lnbmlmaWNhbnQgYnl0ZXMKICAgIC8vLyAgYW5kIGNvbnZlcnRpbmcgdGhlbSBpbnRvIGFuIHVuc2lnbmVkIGludGVnZXIKICAgIC8vLyAgUGF5YWJsZQogICAgLy8vIEBwYXJhbSBfYWRkcmVzc2VzQW5kQW1vdW50cyBCaXR3aXNlIHBhY2tlZCBhcnJheSBvZiBhZGRyZXNzZXMKICAgIC8vLyAgYW5kIGFtb3VudHMKICAgIGZ1bmN0aW9uIG11bHRpVHJhbnNmZXJUaWdodGx5UGFja2VkKGJ5dGVzMzJbXSBfYWRkcmVzc2VzQW5kQW1vdW50cykKICAgIHBheWFibGUgcHVibGljIHJldHVybnMoYm9vbCkKICAgIHsKICAgICAgICB1aW50IHN0YXJ0QmFsYW5jZSA9IHRoaXMuYmFsYW5jZTsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBfYWRkcmVzc2VzQW5kQW1vdW50cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBhZGRyZXNzIHRvID0gYWRkcmVzcyhfYWRkcmVzc2VzQW5kQW1vdW50c1tpXSA+PiA5Nik7CiAgICAgICAgICAgIHVpbnQgYW1vdW50ID0gdWludCh1aW50OTYoX2FkZHJlc3Nlc0FuZEFtb3VudHNbaV0pKTsKICAgICAgICAgICAgX3NhZmVUcmFuc2Zlcih0bywgYW1vdW50KTsKICAgICAgICAgICAgTXVsdGlUcmFuc2Zlcihtc2cuc2VuZGVyLCBtc2cudmFsdWUsIHRvLCBhbW91bnQpOwogICAgICAgIH0KICAgICAgICByZXF1aXJlKHN0YXJ0QmFsYW5jZSAtIG1zZy52YWx1ZSA9PSB0aGlzLmJhbGFuY2UpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFNlbmQgdG8gbXVsdGlwbGUgYWRkcmVzc2VzIHVzaW5nIHR3byBhcnJheXMgd2hpY2gKICAgIC8vLyAgaW5jbHVkZXMgdGhlIGFkZHJlc3MgYW5kIHRoZSBhbW91bnQuCiAgICAvLy8gIFBheWFibGUKICAgIC8vLyBAcGFyYW0gX2FkZHJlc3NlcyBBcnJheSBvZiBhZGRyZXNzZXMgdG8gc2VuZCB0bwogICAgLy8vIEBwYXJhbSBfYW1vdW50cyBBcnJheSBvZiBhbW91bnRzIHRvIHNlbmQKICAgIGZ1bmN0aW9uIG11bHRpVHJhbnNmZXIoYWRkcmVzc1tdIF9hZGRyZXNzZXMsIHVpbnRbXSBfYW1vdW50cykKICAgIHBheWFibGUgcHVibGljIHJldHVybnMoYm9vbCkKICAgIHsKICAgICAgICB1aW50IHN0YXJ0QmFsYW5jZSA9IHRoaXMuYmFsYW5jZTsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBfYWRkcmVzc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIF9zYWZlVHJhbnNmZXIoX2FkZHJlc3Nlc1tpXSwgX2Ftb3VudHNbaV0pOwogICAgICAgICAgICBNdWx0aVRyYW5zZmVyKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgX2FkZHJlc3Nlc1tpXSwgX2Ftb3VudHNbaV0pOwogICAgICAgIH0KICAgICAgICByZXF1aXJlKHN0YXJ0QmFsYW5jZSAtIG1zZy52YWx1ZSA9PSB0aGlzLmJhbGFuY2UpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIENhbGwgdG8gbXVsdGlwbGUgY29udHJhY3RzIHVzaW5nIGEgYnl0ZTMyIGFycmF5IHdoaWNoCiAgICAvLy8gIGluY2x1ZGVzIHRoZSBjb250cmFjdCBhZGRyZXNzIGFuZCB0aGUgYW1vdW50LgogICAgLy8vICBBZGRyZXNzZXMgYW5kIGFtb3VudHMgYXJlIHN0b3JlZCBpbiBhIHBhY2tlZCBieXRlczMyIGFycmF5LgogICAgLy8vICBBZGRyZXNzIGlzIHN0b3JlZCBpbiB0aGUgMjAgbW9zdCBzaWduaWZpY2FudCBieXRlcy4KICAgIC8vLyAgVGhlIGFkZHJlc3MgaXMgcmV0cmlldmVkIGJ5IGJpdHNoaWZ0aW5nIDk2IGJpdHMgdG8gdGhlIHJpZ2h0CiAgICAvLy8gIEFtb3VudCBpcyBzdG9yZWQgaW4gdGhlIDEyIGxlYXN0IHNpZ25pZmljYW50IGJ5dGVzLgogICAgLy8vICBUaGUgYW1vdW50IGlzIHJldHJpZXZlZCBieSB0YWtpbmcgdGhlIDk2IGxlYXN0IHNpZ25pZmljYW50IGJ5dGVzCiAgICAvLy8gIGFuZCBjb252ZXJ0aW5nIHRoZW0gaW50byBhbiB1bnNpZ25lZCBpbnRlZ2VyLgogICAgLy8vICBQYXlhYmxlCiAgICAvLy8gQHBhcmFtIF9hZGRyZXNzZXNBbmRBbW91bnRzIEJpdHdpc2UgcGFja2VkIGFycmF5IG9mIGNvbnRyYWN0CiAgICAvLy8gIGFkZHJlc3NlcyBhbmQgYW1vdW50cwogICAgZnVuY3Rpb24gbXVsdGlDYWxsVGlnaHRseVBhY2tlZChieXRlczMyW10gX2FkZHJlc3Nlc0FuZEFtb3VudHMpCiAgICBwYXlhYmxlIHB1YmxpYyByZXR1cm5zKGJvb2wpCiAgICB7CiAgICAgICAgdWludCBzdGFydEJhbGFuY2UgPSB0aGlzLmJhbGFuY2U7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgX2FkZHJlc3Nlc0FuZEFtb3VudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgYWRkcmVzcyB0byA9IGFkZHJlc3MoX2FkZHJlc3Nlc0FuZEFtb3VudHNbaV0gPj4gOTYpOwogICAgICAgICAgICB1aW50IGFtb3VudCA9IHVpbnQodWludDk2KF9hZGRyZXNzZXNBbmRBbW91bnRzW2ldKSk7CiAgICAgICAgICAgIF9zYWZlQ2FsbCh0bywgYW1vdW50KTsKICAgICAgICAgICAgTXVsdGlDYWxsKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgdG8sIGFtb3VudCk7CiAgICAgICAgfQogICAgICAgIHJlcXVpcmUoc3RhcnRCYWxhbmNlIC0gbXNnLnZhbHVlID09IHRoaXMuYmFsYW5jZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBub3RpY2UgQ2FsbCB0byBtdWx0aXBsZSBjb250cmFjdHMgdXNpbmcgdHdvIGFycmF5cyB3aGljaAogICAgLy8vICBpbmNsdWRlcyB0aGUgY29udHJhY3QgYWRkcmVzcyBhbmQgdGhlIGFtb3VudC4KICAgIC8vLyBAcGFyYW0gX2FkZHJlc3NlcyBBcnJheSBvZiBjb250cmFjdCBhZGRyZXNzZXMgdG8gY2FsbAogICAgLy8vIEBwYXJhbSBfYW1vdW50cyBBcnJheSBvZiBhbW91bnRzIHRvIHNlbmQKICAgIGZ1bmN0aW9uIG11bHRpQ2FsbChhZGRyZXNzW10gX2FkZHJlc3NlcywgdWludFtdIF9hbW91bnRzKQogICAgcGF5YWJsZSBwdWJsaWMgcmV0dXJucyhib29sKQogICAgewogICAgICAgIHVpbnQgc3RhcnRCYWxhbmNlID0gdGhpcy5iYWxhbmNlOwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IF9hZGRyZXNzZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgX3NhZmVDYWxsKF9hZGRyZXNzZXNbaV0sIF9hbW91bnRzW2ldKTsKICAgICAgICAgICAgTXVsdGlDYWxsKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgX2FkZHJlc3Nlc1tpXSwgX2Ftb3VudHNbaV0pOwogICAgICAgIH0KICAgICAgICByZXF1aXJlKHN0YXJ0QmFsYW5jZSAtIG1zZy52YWx1ZSA9PSB0aGlzLmJhbGFuY2UpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFNlbmQgRVJDMjAgdG9rZW5zIHRvIG11bHRpcGxlIGNvbnRyYWN0cyAKICAgIC8vLyAgdXNpbmcgYSBieXRlMzIgYXJyYXkgd2hpY2ggaW5jbHVkZXMgdGhlIGFkZHJlc3MgYW5kIHRoZSBhbW91bnQuCiAgICAvLy8gIEFkZHJlc3NlcyBhbmQgYW1vdW50cyBhcmUgc3RvcmVkIGluIGEgcGFja2VkIGJ5dGVzMzIgYXJyYXkuCiAgICAvLy8gIEFkZHJlc3MgaXMgc3RvcmVkIGluIHRoZSAyMCBtb3N0IHNpZ25pZmljYW50IGJ5dGVzLgogICAgLy8vICBUaGUgYWRkcmVzcyBpcyByZXRyaWV2ZWQgYnkgYml0c2hpZnRpbmcgOTYgYml0cyB0byB0aGUgcmlnaHQKICAgIC8vLyAgQW1vdW50IGlzIHN0b3JlZCBpbiB0aGUgMTIgbGVhc3Qgc2lnbmlmaWNhbnQgYnl0ZXMuCiAgICAvLy8gIFRoZSBhbW91bnQgaXMgcmV0cmlldmVkIGJ5IHRha2luZyB0aGUgOTYgbGVhc3Qgc2lnbmlmaWNhbnQgYnl0ZXMKICAgIC8vLyAgYW5kIGNvbnZlcnRpbmcgdGhlbSBpbnRvIGFuIHVuc2lnbmVkIGludGVnZXIuCiAgICAvLy8gQHBhcmFtIF90b2tlbiBUaGUgdG9rZW4gdG8gc2VuZAogICAgLy8vIEBwYXJhbSBfYWRkcmVzc2VzQW5kQW1vdW50cyBCaXR3aXNlIHBhY2tlZCBhcnJheSBvZiBhZGRyZXNzZXMKICAgIC8vLyAgYW5kIHRva2VuIGFtb3VudHMKICAgIGZ1bmN0aW9uIG11bHRpRVJDMjBUcmFuc2ZlclRpZ2h0bHlQYWNrZWQKICAgICgKICAgICAgICBFUkMyMCBfdG9rZW4sCiAgICAgICAgYnl0ZXMzMltdIF9hZGRyZXNzZXNBbmRBbW91bnRzCiAgICApIHB1YmxpYwogICAgewogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IF9hZGRyZXNzZXNBbmRBbW91bnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGFkZHJlc3MgdG8gPSBhZGRyZXNzKF9hZGRyZXNzZXNBbmRBbW91bnRzW2ldID4+IDk2KTsKICAgICAgICAgICAgdWludCBhbW91bnQgPSB1aW50KHVpbnQ5NihfYWRkcmVzc2VzQW5kQW1vdW50c1tpXSkpOwogICAgICAgICAgICBfc2FmZUVSQzIwVHJhbnNmZXIoX3Rva2VuLCB0bywgYW1vdW50KTsKICAgICAgICAgICAgTXVsdGlFUkMyMFRyYW5zZmVyKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgdG8sIGFtb3VudCwgX3Rva2VuKTsKICAgICAgICB9CiAgICB9CgogICAgLy8vIEBub3RpY2UgU2VuZCBFUkMyMCB0b2tlbnMgdG8gbXVsdGlwbGUgY29udHJhY3RzCiAgICAvLy8gIHVzaW5nIHR3byBhcnJheXMgd2hpY2ggaW5jbHVkZXMgdGhlIGFkZHJlc3MgYW5kIHRoZSBhbW91bnQuCiAgICAvLy8gQHBhcmFtIF90b2tlbiBUaGUgdG9rZW4gdG8gc2VuZAogICAgLy8vIEBwYXJhbSBfYWRkcmVzc2VzIEFycmF5IG9mIGFkZHJlc3NlcyB0byBzZW5kIHRvCiAgICAvLy8gQHBhcmFtIF9hbW91bnRzIEFycmF5IG9mIHRva2VuIGFtb3VudHMgdG8gc2VuZAogICAgZnVuY3Rpb24gbXVsdGlFUkMyMFRyYW5zZmVyKAogICAgICAgIEVSQzIwIF90b2tlbiwKICAgICAgICBhZGRyZXNzW10gX2FkZHJlc3NlcywKICAgICAgICB1aW50W10gX2Ftb3VudHMKICAgICkgcHVibGljCiAgICB7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgX2FkZHJlc3Nlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBfc2FmZUVSQzIwVHJhbnNmZXIoX3Rva2VuLCBfYWRkcmVzc2VzW2ldLCBfYW1vdW50c1tpXSk7CiAgICAgICAgICAgIE11bHRpRVJDMjBUcmFuc2ZlcigKICAgICAgICAgICAgICAgIG1zZy5zZW5kZXIsCiAgICAgICAgICAgICAgICBtc2cudmFsdWUsCiAgICAgICAgICAgICAgICBfYWRkcmVzc2VzW2ldLAogICAgICAgICAgICAgICAgX2Ftb3VudHNbaV0sCiAgICAgICAgICAgICAgICBfdG9rZW4KICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9CgogICAgLy8vIEBub3RpY2UgYF9zYWZlVHJhbnNmZXJgIGlzIHVzZWQgaW50ZXJuYWxseSB3aGVuIHRyYW5zZmVyIGZ1bmRzIHNhZmVseS4KICAgIGZ1bmN0aW9uIF9zYWZlVHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgaW50ZXJuYWwgewogICAgICAgIHJlcXVpcmUoX3RvICE9IDApOwogICAgICAgIF90by50cmFuc2ZlcihfYW1vdW50KTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBgX3NhZmVDYWxsYCBpcyB1c2VkIGludGVybmFsbHkgd2hlbiBjYWxsIGEgY29udHJhY3Qgc2FmZWx5LgogICAgZnVuY3Rpb24gX3NhZmVDYWxsKGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIGludGVybmFsIHsKICAgICAgICByZXF1aXJlKF90byAhPSAwKTsKICAgICAgICByZXF1aXJlKF90by5jYWxsLnZhbHVlKF9hbW91bnQpKCkpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIGBfc2FmZUVSQzIwVHJhbnNmZXJgIGlzIHVzZWQgaW50ZXJuYWxseSB3aGVuCiAgICAvLy8gIHRyYW5zZmVyIGEgcXVhbnRpdHkgb2YgRVJDMjAgdG9rZW5zLgogICAgZnVuY3Rpb24gX3NhZmVFUkMyMFRyYW5zZmVyKEVSQzIwIF90b2tlbiwgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkKICAgIGludGVybmFsCiAgICB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gMCk7CiAgICAgICAgcmVxdWlyZShfdG9rZW4udHJhbnNmZXJGcm9tKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCkpOwogICAgfQoKICAgIC8vLyBAZGV2IERlZmF1bHQgcGF5YWJsZSBmdW5jdGlvbiB0byBub3QgYWxsb3cgc2VuZGluZyB0byBjb250cmFjdDsKICAgIC8vLyAgcmVtZW1iZXIgdGhpcyBkb2VzIG5vdCBuZWNlc2FyaWx5IHByZXZlbnQgdGhlIGNvbnRyYWN0CiAgICAvLy8gIGZyb20gYWNjdW11bGF0aW5nIGZ1bmRzLgogICAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewogICAgICAgIHJldmVydCgpOwogICAgfQp9'.
	

]
