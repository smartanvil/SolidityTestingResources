Class {
	#name : #SRTA3c1772b12A7598568CeE1e2d72281176d8b1F3D,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTA3c1772b12A7598568CeE1e2d72281176d8b1F3D >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHkgPSA5MDAwMDAwMCAqIDEwKioxNjsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLgogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCiAgICAvLyBTYWZlTWF0aC5zdWIgd2lsbCB0aHJvdyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJhbGFuY2UuCiBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLgogICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVycmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoKICAgIHVpbnQyNTYgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldAogICAgLy8gcmVxdWlyZSAoX3ZhbHVlIDw9IF9hbGxvd2FuY2UpOwoKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICoKICAgKiBCZXdhcmUgdGhhdCBjaGFuZ2luZyBhbiBhbGxvd2FuY2Ugd2l0aCB0aGlzIG1ldGhvZCBicmluZ3MgdGhlIHJpc2sgdGhhdCBzb21lb25lIG1heSB1c2UgYm90aCB0aGUgb2xkCiAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAqIHJhY2UgY29uZGl0aW9uIGlzIHRvIGZpcnN0IHJlZHVjZSB0aGUgc3BlbmRlcidzIGFsbG93YW5jZSB0byAwIGFuZCBzZXQgdGhlIGRlc2lyZWQgdmFsdWUgYWZ0ZXJ3YXJkczoKICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZnlpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICAvKioKICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKICAgKiBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbAogICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAogICAqLwogIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICB9IGVsc2UgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgIH0KICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cgp9CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CgogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KfQoKLyoKICogQ2hhcmdDb2luQ29udHJhY3QKICoKICogU2ltcGxlIEVSQzIwIFRva2VuIGV4YW1wbGUsIHdpdGggY3Jvd2RzYWxlIHRva2VuIGNyZWF0aW9uCiAqLwpjb250cmFjdCBDaGFyZ0NvaW5Db250cmFjdCBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKICAgIAogIHN0cmluZyBwdWJsaWMgc3RhbmRhcmQgPSAiQ2hhcmcgQ29pbiI7CiAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIkNoYXJnIENvaW4iOwogIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIkNIQVJHIjsKICB1aW50IHB1YmxpYyBkZWNpbWFscyA9IDE2OwogIGFkZHJlc3MgcHVibGljIG11bHRpc2lnID0gMHgwZkEzZDQ3QjJGOUMwMTM5NjEwOEQ4MWFhNjNlNEYyMGQ0Y2Q3OTk0OwogIAogIC8vIDEgRVRIID0gNTAwIENIQVJHIHRva2VucyAoMSBDSEFSRyA9IDAuNTkgVVNEKQogIHVpbnQgUFJJQ0UgPSA1MDA7CiAgCiAgc3RydWN0IENvbnRyaWJ1dG9yRGF0YSB7CiAgICB1aW50IGNvbnRyaWJ1dGlvbkFtb3VudDsKICAgIHVpbnQgdG9rZW5zSXNzdWVkOwogIH0KCiAgZnVuY3Rpb24gQ2hhcmdDb2luQ29udHJhY3QoKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHRvdGFsU3VwcGx5OwogIH0KCiAgbWFwcGluZyhhZGRyZXNzID0+IENvbnRyaWJ1dG9yRGF0YSkgcHVibGljIGNvbnRyaWJ1dG9yTGlzdDsKICB1aW50IG5leHRDb250cmlidXRvckluZGV4OwogIG1hcHBpbmcodWludCA9PiBhZGRyZXNzKSBjb250cmlidXRvckluZGV4ZXM7CiAgCiAgc3RhdGUgcHVibGljIGNyb3dkc2FsZVN0YXRlID0gc3RhdGUucGVuZGluZ1N0YXJ0OwogIGVudW0gc3RhdGUgeyBwZW5kaW5nU3RhcnQsIGNyb3dkc2FsZSwgY3Jvd2RzYWxlRW5kZWQgfQogIAogIGV2ZW50IENyb3dkc2FsZVN0YXJ0ZWQodWludCBibG9ja051bWJlcik7CiAgZXZlbnQgQ3Jvd2RzYWxlRW5kZWQodWludCBibG9ja051bWJlcik7CiAgZXZlbnQgRXJyb3JTZW5kaW5nRVRIKGFkZHJlc3MgdG8sIHVpbnQgYW1vdW50KTsKICBldmVudCBNaW5DYXBSZWFjaGVkKHVpbnQgYmxvY2tOdW1iZXIpOwogIGV2ZW50IE1heENhcFJlYWNoZWQodWludCBibG9ja051bWJlcik7CiAgCiAgdWludCBwdWJsaWMgY29uc3RhbnQgQkVHSU5fVElNRSA9IDE1MDY0MDA1MjY7CiAgCiAgdWludCBwdWJsaWMgY29uc3RhbnQgRU5EX1RJTUUgPSAxNTEwNzkwNDAwOwoKICB1aW50IHB1YmxpYyBtaW5DYXAgPSAxIGV0aGVyOwogIHVpbnQgcHVibGljIG1heENhcCA9IDcwMjAwIGV0aGVyOwogIHVpbnQgcHVibGljIGV0aFJhaXNlZCA9IDA7CiAgdWludCBwdWJsaWMgdG9rZW5Ub3RhbFN1cHBseSA9IDkwMDAwMDAwICogMTAqKmRlY2ltYWxzOwogIAogIHVpbnQgY3Jvd2RzYWxlVG9rZW5DYXAgPSAgICAgICAgICAgIDM1MTAwMDAwICogMTAqKmRlY2ltYWxzOyAvLyAzOSUKICB1aW50IGZvdW5kZXJzQW5kVGVhbVRva2VucyA9ICAgICAgICA5MDAwMDAwICogMTAqKmRlY2ltYWxzOyAvLyAxMCUKICB1aW50IHNsdXNoRnVuZFRva2VucyA9ICAgIDQ1OTAwMDAwICogMTAqKmRlY2ltYWxzOyAvLyA1MSUKICAKICBib29sIGZvdW5kZXJzQW5kVGVhbVRva2Vuc0NsYWltZWQgPSBmYWxzZTsKICBib29sIHNsdXNoRnVuZFRva2Vuc0NsYWltZWQgPSBmYWxzZTsKCiAgdWludCBuZXh0Q29udHJpYnV0b3JUb0NsYWltOwogIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSBoYXNDbGFpbWVkRXRoV2hlbkZhaWw7CgogIGZ1bmN0aW9uKCkgcGF5YWJsZSB7CiAgcmVxdWlyZShtc2cudmFsdWUgIT0gMCk7CiAgcmVxdWlyZShjcm93ZHNhbGVTdGF0ZSAhPSBzdGF0ZS5jcm93ZHNhbGVFbmRlZCk7Ly8gQ2hlY2sgaWYgY3Jvd2RzYWxlIGhhcyBlbmRlZAogIAogIGJvb2wgc3RhdGVDaGFuZ2VkID0gY2hlY2tDcm93ZHNhbGVTdGF0ZSgpOyAgICAgIC8vIENoZWNrIGJsb2NrcyBhbmQgY2FsaWJyYXRlIGNyb3dkc2FsZSBzdGF0ZQogIAogIGlmKGNyb3dkc2FsZVN0YXRlID09IHN0YXRlLmNyb3dkc2FsZSkgewogICAgICBjcmVhdGVUb2tlbnMobXNnLnNlbmRlcik7ICAgICAgICAgICAgIC8vIFByb2Nlc3MgdHJhbnNhY3Rpb24gYW5kIGlzc3VlIHRva2VucwogICAgfSBlbHNlIHsKICAgICAgcmVmdW5kVHJhbnNhY3Rpb24oc3RhdGVDaGFuZ2VkKTsgICAgICAgICAgICAgIC8vIFNldCBzdGF0ZSBhbmQgcmV0dXJuIGZ1bmRzIG9yIHRocm93CiAgICB9CiAgfQogIAogIC8vCiAgLy8gQ2hlY2sgY3Jvd2RzYWxlIHN0YXRlIGFuZCBjYWxpYnJhdGUgaXQKICAvLwogIGZ1bmN0aW9uIGNoZWNrQ3Jvd2RzYWxlU3RhdGUoKSBpbnRlcm5hbCByZXR1cm5zIChib29sKSB7CiAgICBpZiAoZXRoUmFpc2VkID49IG1heENhcCAmJiBjcm93ZHNhbGVTdGF0ZSAhPSBzdGF0ZS5jcm93ZHNhbGVFbmRlZCkgeyAvLyBDaGVjayBpZiBtYXggY2FwIGlzIHJlYWNoZWQKICAgICAgY3Jvd2RzYWxlU3RhdGUgPSBzdGF0ZS5jcm93ZHNhbGVFbmRlZDsKICAgICAgQ3Jvd2RzYWxlRW5kZWQoYmxvY2subnVtYmVyKTsgLy8gUmFpc2UgZXZlbnQKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIGlmKG5vdyA+PSBFTkRfVElNRSkgeyAgIAogICAgICBjcm93ZHNhbGVTdGF0ZSA9IHN0YXRlLmNyb3dkc2FsZUVuZGVkOwogICAgICBDcm93ZHNhbGVFbmRlZChibG9jay5udW1iZXIpOyAvLyBSYWlzZSBldmVudAogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBpZihub3cgPj0gQkVHSU5fVElNRSAmJiBub3cgPCBFTkRfVElNRSkgeyAgICAgICAgLy8gQ2hlY2sgaWYgd2UgYXJlIGluIGNyb3dkc2FsZSBzdGF0ZQogICAgICBpZiAoY3Jvd2RzYWxlU3RhdGUgIT0gc3RhdGUuY3Jvd2RzYWxlKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgc3RhdGUgbmVlZHMgdG8gYmUgY2hhbmdlZAogICAgICAgIGNyb3dkc2FsZVN0YXRlID0gc3RhdGUuY3Jvd2RzYWxlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgbmV3IHN0YXRlCiAgICAgICAgQ3Jvd2RzYWxlU3RhcnRlZChibG9jay5udW1iZXIpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJhaXNlIGV2ZW50CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KICAgIAogICAgcmV0dXJuIGZhbHNlOwogIH0KICAKICAvLwogIC8vIERlY2lkZSBpZiB0aHJvdyBvciBvbmx5IHJldHVybiBldGhlcgogIC8vCiAgZnVuY3Rpb24gcmVmdW5kVHJhbnNhY3Rpb24oYm9vbCBfc3RhdGVDaGFuZ2VkKSBpbnRlcm5hbCB7CiAgICBpZiAoX3N0YXRlQ2hhbmdlZCkgewogICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgICB9IGVsc2UgewogICAgICByZXZlcnQoKTsKICAgIH0KICB9CiAgCiAgZnVuY3Rpb24gY3JlYXRlVG9rZW5zKGFkZHJlc3MgX2NvbnRyaWJ1dG9yKSBwYXlhYmxlIHsKICAKICAgIHVpbnQgX2Ftb3VudCA9IG1zZy52YWx1ZTsKICAKICAgIHVpbnQgY29udHJpYnV0aW9uQW1vdW50ID0gX2Ftb3VudDsKICAgIHVpbnQgcmV0dXJuQW1vdW50ID0gMDsKICAgIAogICAgaWYgKF9hbW91bnQgPiAobWF4Q2FwIC0gZXRoUmFpc2VkKSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIG1heCBjb250cmlidXRpb24gaXMgbG93ZXIgdGhhbiBfYW1vdW50IHNlbnQKICAgICAgY29udHJpYnV0aW9uQW1vdW50ID0gbWF4Q2FwIC0gZXRoUmFpc2VkOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhhdCB1c2VyIGNvbnRpYnV0ZXMgaGlzIG1heGltdW0gYWxvd2VkIGNvbnRyaWJ1dGlvbgogICAgICByZXR1cm5BbW91bnQgPSBfYW1vdW50IC0gY29udHJpYnV0aW9uQW1vdW50OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBob3cgbXVjaCBoZSBtdXN0IGdldCBiYWNrCiAgICB9CgogICAgaWYgKGV0aFJhaXNlZCArIGNvbnRyaWJ1dGlvbkFtb3VudCA+IG1pbkNhcCAmJiBtaW5DYXAgPiBldGhSYWlzZWQpIHsKICAgICAgTWluQ2FwUmVhY2hlZChibG9jay5udW1iZXIpOwogICAgfQoKICAgIGlmIChldGhSYWlzZWQgKyBjb250cmlidXRpb25BbW91bnQgPT0gbWF4Q2FwICYmIGV0aFJhaXNlZCA8IG1heENhcCkgewogICAgICBNYXhDYXBSZWFjaGVkKGJsb2NrLm51bWJlcik7CiAgICB9CgogICAgaWYgKGNvbnRyaWJ1dG9yTGlzdFtfY29udHJpYnV0b3JdLmNvbnRyaWJ1dGlvbkFtb3VudCA9PSAwKXsKICAgICAgICBjb250cmlidXRvckluZGV4ZXNbbmV4dENvbnRyaWJ1dG9ySW5kZXhdID0gX2NvbnRyaWJ1dG9yOwogICAgICAgIG5leHRDb250cmlidXRvckluZGV4ICs9IDE7CiAgICB9CiAgCiAgICBjb250cmlidXRvckxpc3RbX2NvbnRyaWJ1dG9yXS5jb250cmlidXRpb25BbW91bnQgKz0gY29udHJpYnV0aW9uQW1vdW50OwogICAgZXRoUmFpc2VkICs9IGNvbnRyaWJ1dGlvbkFtb3VudDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRvIGV0aCByYWlzZWQKCiAgICB1aW50MjU2IHRva2VuQW1vdW50ID0gY2FsY3VsYXRlRXRoVG9DaGFyZ2NvaW4oY29udHJpYnV0aW9uQW1vdW50KTsgICAgICAvLyBDYWxjdWxhdGUgaG93IG11Y2ggdG9rZW5zIG11c3QgY29udHJpYnV0b3IgZ2V0CiAgICBpZiAodG9rZW5BbW91bnQgPiAwKSB7CiAgICAgIHRyYW5zZmVyVG9Db250cmlidXRvcihfY29udHJpYnV0b3IsIHRva2VuQW1vdW50KTsKICAgICAgY29udHJpYnV0b3JMaXN0W19jb250cmlidXRvcl0udG9rZW5zSXNzdWVkICs9IHRva2VuQW1vdW50OyAgICAgICAgICAgICAgICAgIC8vIGxvZyB0b2tlbiBpc3N1YW5jZQogICAgfQoKICAgIGlmICghbXVsdGlzaWcuc2VuZChtc2cudmFsdWUpKSB7CiAgICAgICAgcmV2ZXJ0KCk7CiAgICB9CiAgfQoKCiAgICBmdW5jdGlvbiB0cmFuc2ZlclRvQ29udHJpYnV0b3IoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSAgewogICAgYmFsYW5jZXNbb3duZXJdID0gYmFsYW5jZXNbb3duZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgfQogIAogIGZ1bmN0aW9uIGNhbGN1bGF0ZUV0aFRvQ2hhcmdjb2luKHVpbnQgX2V0aCkgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSB7CiAgCiAgICB1aW50IHRva2VucyA9IF9ldGgubXVsKGdldFByaWNlKCkpOwogICAgdWludCBwZXJjZW50YWdlID0gMDsKICAgIAogICAgaWYgKGV0aFJhaXNlZCA+IDApCiAgICB7CiAgICAgICAgcGVyY2VudGFnZSA9IGV0aFJhaXNlZCAqIDEwMCAvIG1heENhcDsKICAgIH0KICAgIAogICAgcmV0dXJuIHRva2VucyArIGdldFN0YWdlQm9udXMocGVyY2VudGFnZSwgdG9rZW5zKSArIGdldEFtb3VudEJvbnVzKF9ldGgsIHRva2Vucyk7CiAgfQoKICBmdW5jdGlvbiBnZXRTdGFnZUJvbnVzKHVpbnQgcGVyY2VudGFnZSwgdWludCB0b2tlbnMpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgc3RhZ2VCb251cyA9IDA7CiAgICAgIAogICAgaWYgKHBlcmNlbnRhZ2UgPD0gMTApIHN0YWdlQm9udXMgPSB0b2tlbnMgKiA2MCAvIDEwMDsgLy8gU3RhZ2UgMQogICAgZWxzZSBpZiAocGVyY2VudGFnZSA8PSA1MCkgc3RhZ2VCb251cyA9IHRva2VucyAqIDMwIC8gMTAwOwogICAgZWxzZSBpZiAocGVyY2VudGFnZSA8PSA3MCkgc3RhZ2VCb251cyA9IHRva2VucyAqIDIwIC8gMTAwOwogICAgZWxzZSBpZiAocGVyY2VudGFnZSA8PSA5MCkgc3RhZ2VCb251cyA9IHRva2VucyAqIDE1IC8gMTAwOwogICAgZWxzZSBpZiAocGVyY2VudGFnZSA8PSAxMDApIHN0YWdlQm9udXMgPSB0b2tlbnMgKiAxMCAvIDEwMDsKCiAgICByZXR1cm4gc3RhZ2VCb251czsKICB9CgogIGZ1bmN0aW9uIGdldEFtb3VudEJvbnVzKHVpbnQgX2V0aCwgdWludCB0b2tlbnMpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYW1vdW50Qm9udXMgPSAwOyAgCiAgICAgIAogICAgaWYgKF9ldGggPj0gMzAwMCBldGhlcikgYW1vdW50Qm9udXMgPSB0b2tlbnMgKiAxMyAvIDEwMDsKICAgIGVsc2UgaWYgKF9ldGggPj0gMjAwMCBldGhlcikgYW1vdW50Qm9udXMgPSB0b2tlbnMgKiAxMiAvIDEwMDsKICAgIGVsc2UgaWYgKF9ldGggPj0gMTUwMCBldGhlcikgYW1vdW50Qm9udXMgPSB0b2tlbnMgKiAxMSAvIDEwMDsKICAgIGVsc2UgaWYgKF9ldGggPj0gMTAwMCBldGhlcikgYW1vdW50Qm9udXMgPSB0b2tlbnMgKiAxMCAvIDEwMDsKICAgIGVsc2UgaWYgKF9ldGggPj0gNzUwIGV0aGVyKSBhbW91bnRCb251cyA9IHRva2VucyAqIDkgLyAxMDA7CiAgICBlbHNlIGlmIChfZXRoID49IDUwMCBldGhlcikgYW1vdW50Qm9udXMgPSB0b2tlbnMgKiA4IC8gMTAwOwogICAgZWxzZSBpZiAoX2V0aCA+PSAzMDAgZXRoZXIpIGFtb3VudEJvbnVzID0gdG9rZW5zICogNzUgLyAxMDAwOwogICAgZWxzZSBpZiAoX2V0aCA+PSAyMDAgZXRoZXIpIGFtb3VudEJvbnVzID0gdG9rZW5zICogNyAvIDEwMDsKICAgIGVsc2UgaWYgKF9ldGggPj0gMTUwIGV0aGVyKSBhbW91bnRCb251cyA9IHRva2VucyAqIDYgLyAxMDA7CiAgICBlbHNlIGlmIChfZXRoID49IDEwMCBldGhlcikgYW1vdW50Qm9udXMgPSB0b2tlbnMgKiA1NSAvIDEwMDA7CiAgICBlbHNlIGlmIChfZXRoID49IDc1IGV0aGVyKSBhbW91bnRCb251cyA9IHRva2VucyAqIDUgLyAxMDA7CiAgICBlbHNlIGlmIChfZXRoID49IDUwIGV0aGVyKSBhbW91bnRCb251cyA9IHRva2VucyAqIDQ1IC8gMTAwMDsKICAgIGVsc2UgaWYgKF9ldGggPj0gMzAgZXRoZXIpIGFtb3VudEJvbnVzID0gdG9rZW5zICogNCAvIDEwMDsKICAgIGVsc2UgaWYgKF9ldGggPj0gMjAgZXRoZXIpIGFtb3VudEJvbnVzID0gdG9rZW5zICogMzUgLyAxMDAwOwogICAgZWxzZSBpZiAoX2V0aCA+PSAxNSBldGhlcikgYW1vdW50Qm9udXMgPSB0b2tlbnMgKiAzIC8gMTAwOwogICAgZWxzZSBpZiAoX2V0aCA+PSAxMCBldGhlcikgYW1vdW50Qm9udXMgPSB0b2tlbnMgKiAyNSAvIDEwMDA7CiAgICBlbHNlIGlmIChfZXRoID49IDcgZXRoZXIpIGFtb3VudEJvbnVzID0gdG9rZW5zICogMiAvIDEwMDsKICAgIGVsc2UgaWYgKF9ldGggPj0gNSBldGhlcikgYW1vdW50Qm9udXMgPSB0b2tlbnMgKiAxNSAvIDEwMDA7CiAgICBlbHNlIGlmIChfZXRoID49IDMgZXRoZXIpIGFtb3VudEJvbnVzID0gdG9rZW5zICogMSAvIDEwMDsKICAgIGVsc2UgaWYgKF9ldGggPj0gMiBldGhlcikgYW1vdW50Qm9udXMgPSB0b2tlbnMgKiA1IC8gMTAwMDsKICAgIAogICAgcmV0dXJuIGFtb3VudEJvbnVzOwogIH0KICAKICAvLyByZXBsYWNlIHRoaXMgd2l0aCBhbnkgb3RoZXIgcHJpY2UgZnVuY3Rpb24KICBmdW5jdGlvbiBnZXRQcmljZSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVzdWx0KSB7CiAgICByZXR1cm4gUFJJQ0U7CiAgfQogIAogIC8vCiAgLy8gT3duZXIgY2FuIGJhdGNoIHJldHVybiBjb250cmlidXRvcnMgY29udHJpYnV0aW9ucyhldGgpCiAgLy8KICBmdW5jdGlvbiBiYXRjaFJldHVybkV0aElmRmFpbGVkKHVpbnQgX251bWJlck9mUmV0dXJucykgb25seU93bmVyIHsKICAgIHJlcXVpcmUoY3Jvd2RzYWxlU3RhdGUgIT0gc3RhdGUuY3Jvd2RzYWxlRW5kZWQpOyAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBjcm93ZHNhbGUgaGFzIGVuZGVkCiAgICByZXF1aXJlKGV0aFJhaXNlZCA8IG1pbkNhcCk7ICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGNyb3dkc2FsZSBoYXMgZmFpbGVkCiAgICBhZGRyZXNzIGN1cnJlbnRQYXJ0aWNpcGFudEFkZHJlc3M7CiAgICB1aW50IGNvbnRyaWJ1dGlvbjsKICAgIGZvciAodWludCBjbnQgPSAwOyBjbnQgPCBfbnVtYmVyT2ZSZXR1cm5zOyBjbnQrKyl7CiAgICAgIGN1cnJlbnRQYXJ0aWNpcGFudEFkZHJlc3MgPSBjb250cmlidXRvckluZGV4ZXNbbmV4dENvbnRyaWJ1dG9yVG9DbGFpbV07ICAgICAgICAgLy8gR2V0IG5leHQgdW5jbGFpbWVkIHBhcnRpY2lwYW50CiAgICAgIGlmIChjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzID09IDB4MCkgcmV0dXJuOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYWxsIHRoZSBwYXJ0aWNpcGFudHMgd2VyZSBjb21wZW5zYXRlZAogICAgICBpZiAoIWhhc0NsYWltZWRFdGhXaGVuRmFpbFtjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzXSkgeyAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHBhcnRpY2lwYW50IGhhcyBhbHJlYWR5IGNsYWltZWQKICAgICAgICBjb250cmlidXRpb24gPSBjb250cmlidXRvckxpc3RbY3VycmVudFBhcnRpY2lwYW50QWRkcmVzc10uY29udHJpYnV0aW9uQW1vdW50OyAvLyBHZXQgY29udHJpYnV0aW9uIG9mIHBhcnRpY2lwYW50CiAgICAgICAgaGFzQ2xhaW1lZEV0aFdoZW5GYWlsW2N1cnJlbnRQYXJ0aWNpcGFudEFkZHJlc3NdID0gdHJ1ZTsgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoYXQgaGUgaGFzIGNsYWltZWQKICAgICAgICBiYWxhbmNlc1tjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzXSA9IDA7CiAgICAgICAgaWYgKCFjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzLnNlbmQoY29udHJpYnV0aW9uKSl7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVmdW5kIGV0aAogICAgICAgICAgRXJyb3JTZW5kaW5nRVRIKGN1cnJlbnRQYXJ0aWNpcGFudEFkZHJlc3MsIGNvbnRyaWJ1dGlvbik7ICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGlzc3VlIHJhaXNlIGV2ZW50IGZvciBtYW51YWwgcmVjb3ZlcnkKICAgICAgICB9CiAgICAgIH0KICAgICAgbmV4dENvbnRyaWJ1dG9yVG9DbGFpbSArPSAxOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXBlYXQKICAgIH0KICB9CiAgCiAgICAvLwogIC8vIE93bmVyIGNhbiBzZXQgbXVsdGlzaWcgYWRkcmVzcyBmb3IgY3Jvd2RzYWxlCiAgLy8KICBmdW5jdGlvbiBzZXRNdWx0aXNpZ0FkZHJlc3MoYWRkcmVzcyBfbmV3QWRkcmVzcykgb25seU93bmVyIHsKICAgIG11bHRpc2lnID0gX25ld0FkZHJlc3M7CiAgfQogIAp9'.
	

]
