Class {
	#name : #SRT02d509d0af485c8da54d8aeb42c624e7d9e2eeb6,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT02d509d0af485c8da54d8aeb42c624e7d9e2eeb6 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgovKioKICogQHRpdGxlIFRva2VuTGliCiAqIEBhdXRob3IgTWFqb29sci5pbwogKgogKiB2ZXJzaW9uIDEuMS4wCiAqIENvcHlyaWdodCAoYykgMjAxNyBNYWpvb2xyLCBMTEMKICogVGhlIE1JVCBMaWNlbnNlIChNSVQpCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9NYWpvb2xyL2V0aGVyZXVtLWxpYnJhcmllcy9ibG9iL21hc3Rlci9MSUNFTlNFCiAqCiAqIFRoZSBUb2tlbiBMaWJyYXJ5IHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gY3JlYXRlIGEgdmFyaWV0eSBvZiBFUkMyMCB0b2tlbnMuCiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vTWFqb29sci9ldGhlcmV1bS1jb250cmFjdHMgZm9yIGFuIGV4YW1wbGUgb2YgaG93IHRvCiAqIGNyZWF0ZSBhIGJhc2ljIEVSQzIwIHRva2VuLgogKgogKiBNYWpvb2xyIHdvcmtzIG9uIG9wZW4gc291cmNlIHByb2plY3RzIGluIHRoZSBFdGhlcmV1bSBjb21tdW5pdHkgd2l0aCB0aGUKICogcHVycG9zZSBvZiB0ZXN0aW5nLCBkb2N1bWVudGluZywgYW5kIGRlcGxveWluZyByZXVzYWJsZSBjb2RlIG9udG8gdGhlCiAqIGJsb2NrY2hhaW4gdG8gaW1wcm92ZSBzZWN1cml0eSBhbmQgdXNhYmlsaXR5IG9mIHNtYXJ0IGNvbnRyYWN0cy4gTWFqb29scgogKiBhbHNvIHN0cml2ZXMgdG8gZWR1Y2F0ZSBub24tcHJvZml0cywgc2Nob29scywgYW5kIG90aGVyIGNvbW11bml0eSBtZW1iZXJzCiAqIGFib3V0IHRoZSBhcHBsaWNhdGlvbiBvZiBibG9ja2NoYWluIHRlY2hub2xvZ3kuCiAqIEZvciBmdXJ0aGVyIGluZm9ybWF0aW9uOiBtYWpvb2xyLmlvCiAqCiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTCiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YKICogTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULgogKiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWQogKiBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULAogKiBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRQogKiBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4KICovCgpsaWJyYXJ5IFRva2VuTGliIHsKICB1c2luZyBCYXNpY01hdGhMaWIgZm9yIHVpbnQyNTY7CgogIHN0cnVjdCBUb2tlblN0b3JhZ2UgewogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCiAgICBzdHJpbmcgbmFtZTsKICAgIHN0cmluZyBzeW1ib2w7CiAgICB1aW50MjU2IHRvdGFsU3VwcGx5OwogICAgdWludDI1NiBJTklUSUFMX1NVUFBMWTsKICAgIGFkZHJlc3Mgb3duZXI7CiAgICB1aW50OCBkZWNpbWFsczsKICAgIGJvb2wgc3RpbGxNaW50aW5nOwogIH0KCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7CiAgZXZlbnQgT3duZXJDaGFuZ2UoYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvKTsKICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBidXJuZXIsIHVpbnQyNTYgdmFsdWUpOwogIGV2ZW50IE1pbnRpbmdDbG9zZWQoYm9vbCBtaW50aW5nQ2xvc2VkKTsKCiAgLy8vIEBkZXYgQ2FsbGVkIGJ5IHRoZSBTdGFuZGFyZCBUb2tlbiB1cG9uIGNyZWF0aW9uLgogIC8vLyBAcGFyYW0gc2VsZiBTdG9yZWQgdG9rZW4gZnJvbSB0b2tlbiBjb250cmFjdAogIC8vLyBAcGFyYW0gX25hbWUgTmFtZSBvZiB0aGUgbmV3IHRva2VuCiAgLy8vIEBwYXJhbSBfc3ltYm9sIFN5bWJvbCBvZiB0aGUgbmV3IHRva2VuCiAgLy8vIEBwYXJhbSBfZGVjaW1hbHMgRGVjaW1hbCBwbGFjZXMgZm9yIHRoZSB0b2tlbiByZXByZXNlbnRlZAogIC8vLyBAcGFyYW0gX2luaXRpYWxfc3VwcGx5IFRoZSBpbml0aWFsIHRva2VuIHN1cHBseQogIC8vLyBAcGFyYW0gX2FsbG93TWludGluZyBUcnVlIGlmIGFkZGl0aW9uYWwgdG9rZW5zIGNhbiBiZSBjcmVhdGVkLCBmYWxzZSBvdGhlcndpc2UKICBmdW5jdGlvbiBpbml0KFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYsCiAgICAgICAgICAgICAgICBhZGRyZXNzIF9vd25lciwKICAgICAgICAgICAgICAgIHN0cmluZyBfbmFtZSwKICAgICAgICAgICAgICAgIHN0cmluZyBfc3ltYm9sLAogICAgICAgICAgICAgICAgdWludDggX2RlY2ltYWxzLAogICAgICAgICAgICAgICAgdWludDI1NiBfaW5pdGlhbF9zdXBwbHksCiAgICAgICAgICAgICAgICBib29sIF9hbGxvd01pbnRpbmcpCiAgewogICAgcmVxdWlyZShzZWxmLklOSVRJQUxfU1VQUExZID09IDApOwogICAgc2VsZi5uYW1lID0gX25hbWU7CiAgICBzZWxmLnN5bWJvbCA9IF9zeW1ib2w7CiAgICBzZWxmLnRvdGFsU3VwcGx5ID0gX2luaXRpYWxfc3VwcGx5OwogICAgc2VsZi5JTklUSUFMX1NVUFBMWSA9IF9pbml0aWFsX3N1cHBseTsKICAgIHNlbGYuZGVjaW1hbHMgPSBfZGVjaW1hbHM7CiAgICBzZWxmLm93bmVyID0gX293bmVyOwogICAgc2VsZi5zdGlsbE1pbnRpbmcgPSBfYWxsb3dNaW50aW5nOwogICAgc2VsZi5iYWxhbmNlc1tfb3duZXJdID0gX2luaXRpYWxfc3VwcGx5OwogIH0KCiAgLy8vIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gY2FsbGVyJ3MgYWNjb3VudCB0byBhbm90aGVyIGFjY291bnQuCiAgLy8vIEBwYXJhbSBzZWxmIFN0b3JlZCB0b2tlbiBmcm9tIHRva2VuIGNvbnRyYWN0CiAgLy8vIEBwYXJhbSBfdG8gQWRkcmVzcyB0byBzZW5kIHRva2VucwogIC8vLyBAcGFyYW0gX3ZhbHVlIE51bWJlciBvZiB0b2tlbnMgdG8gc2VuZAogIC8vLyBAcmV0dXJuIFRydWUgaWYgY29tcGxldGVkCiAgZnVuY3Rpb24gdHJhbnNmZXIoVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICBib29sIGVycjsKICAgIHVpbnQyNTYgYmFsYW5jZTsKCiAgICAoZXJyLGJhbGFuY2UpID0gc2VsZi5iYWxhbmNlc1ttc2cuc2VuZGVyXS5taW51cyhfdmFsdWUpOwogICAgcmVxdWlyZSghZXJyKTsKICAgIHNlbGYuYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlOwogICAgLy9JdCdzIG5vdCBwb3NzaWJsZSB0byBvdmVyZmxvdyB0b2tlbiBzdXBwbHkKICAgIHNlbGYuYmFsYW5jZXNbX3RvXSA9IHNlbGYuYmFsYW5jZXNbX3RvXSArIF92YWx1ZTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8vIEBkZXYgQXV0aG9yaXplZCBjYWxsZXIgdHJhbnNmZXJzIHRva2VucyBmcm9tIG9uZSBhY2NvdW50IHRvIGFub3RoZXIKICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QKICAvLy8gQHBhcmFtIF9mcm9tIEFkZHJlc3MgdG8gc2VuZCB0b2tlbnMgZnJvbQogIC8vLyBAcGFyYW0gX3RvIEFkZHJlc3MgdG8gc2VuZCB0b2tlbnMgdG8KICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIHRvIHNlbmQKICAvLy8gQHJldHVybiBUcnVlIGlmIGNvbXBsZXRlZAogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShUb2tlblN0b3JhZ2Ugc3RvcmFnZSBzZWxmLAogICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzIF9mcm9tLAogICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzIF90bywKICAgICAgICAgICAgICAgICAgICAgICAgdWludDI1NiBfdmFsdWUpCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybnMgKGJvb2wpCiAgewogICAgdmFyIF9hbGxvd2FuY2UgPSBzZWxmLmFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwogICAgYm9vbCBlcnI7CiAgICB1aW50MjU2IGJhbGFuY2VPd25lcjsKICAgIHVpbnQyNTYgYmFsYW5jZVNwZW5kZXI7CgogICAgKGVycixiYWxhbmNlT3duZXIpID0gc2VsZi5iYWxhbmNlc1tfZnJvbV0ubWludXMoX3ZhbHVlKTsKICAgIHJlcXVpcmUoIWVycik7CgogICAgKGVycixiYWxhbmNlU3BlbmRlcikgPSBfYWxsb3dhbmNlLm1pbnVzKF92YWx1ZSk7CiAgICByZXF1aXJlKCFlcnIpOwoKICAgIHNlbGYuYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZU93bmVyOwogICAgc2VsZi5hbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGJhbGFuY2VTcGVuZGVyOwogICAgc2VsZi5iYWxhbmNlc1tfdG9dID0gc2VsZi5iYWxhbmNlc1tfdG9dICsgX3ZhbHVlOwoKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8vLyBAZGV2IFJldHJpZXZlIHRva2VuIGJhbGFuY2UgZm9yIGFuIGFjY291bnQKICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QKICAvLy8gQHBhcmFtIF9vd25lciBBZGRyZXNzIHRvIHJldHJpZXZlIGJhbGFuY2Ugb2YKICAvLy8gQHJldHVybiBiYWxhbmNlIFRoZSBudW1iZXIgb2YgdG9rZW5zIGluIHRoZSBzdWJqZWN0IGFjY291bnQKICBmdW5jdGlvbiBiYWxhbmNlT2YoVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwgYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIHNlbGYuYmFsYW5jZXNbX293bmVyXTsKICB9CgogIC8vLyBAZGV2IEF1dGhvcml6ZSBhbiBhY2NvdW50IHRvIHNlbmQgdG9rZW5zIG9uIGNhbGxlcidzIGJlaGFsZgogIC8vLyBAcGFyYW0gc2VsZiBTdG9yZWQgdG9rZW4gZnJvbSB0b2tlbiBjb250cmFjdAogIC8vLyBAcGFyYW0gX3NwZW5kZXIgQWRkcmVzcyB0byBhdXRob3JpemUKICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIGF1dGhvcml6ZWQgYWNjb3VudCBtYXkgc2VuZAogIC8vLyBAcmV0dXJuIFRydWUgaWYgY29tcGxldGVkCiAgZnVuY3Rpb24gYXBwcm92ZShUb2tlblN0b3JhZ2Ugc3RvcmFnZSBzZWxmLCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgc2VsZi5hbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvLy8gQGRldiBSZW1haW5pbmcgdG9rZW5zIHRoaXJkIHBhcnR5IHNwZW5kZXIgaGFzIHRvIHNlbmQKICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QKICAvLy8gQHBhcmFtIF9vd25lciBBZGRyZXNzIG9mIHRva2VuIGhvbGRlcgogIC8vLyBAcGFyYW0gX3NwZW5kZXIgQWRkcmVzcyBvZiBhdXRob3JpemVkIHNwZW5kZXIKICAvLy8gQHJldHVybiByZW1haW5pbmcgTnVtYmVyIG9mIHRva2VucyBzcGVuZGVyIGhhcyBsZWZ0IGluIG93bmVyJ3MgYWNjb3VudAogIGZ1bmN0aW9uIGFsbG93YW5jZShUb2tlblN0b3JhZ2Ugc3RvcmFnZSBzZWxmLCBhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBzZWxmLmFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICAvLy8gQGRldiBBdXRob3JpemUgdGhpcmQgcGFydHkgdHJhbnNmZXIgYnkgaW5jcmVhc2luZy9kZWNyZWFzaW5nIGFsbG93ZWQgcmF0aGVyIHRoYW4gc2V0dGluZyBpdAogIC8vLyBAcGFyYW0gc2VsZiBTdG9yZWQgdG9rZW4gZnJvbSB0b2tlbiBjb250cmFjdAogIC8vLyBAcGFyYW0gX3NwZW5kZXIgQWRkcmVzcyB0byBhdXRob3JpemUKICAvLy8gQHBhcmFtIF92YWx1ZUNoYW5nZSBJbmNyZWFzZSBvciBkZWNyZWFzZSBpbiBudW1iZXIgb2YgdG9rZW5zIGF1dGhvcml6ZWQgYWNjb3VudCBtYXkgc2VuZAogIC8vLyBAcGFyYW0gX2luY3JlYXNlIFRydWUgaWYgaW5jcmVhc2luZyBhbGxvd2FuY2UsIGZhbHNlIGlmIGRlY3JlYXNpbmcgYWxsb3dhbmNlCiAgLy8vIEByZXR1cm4gVHJ1ZSBpZiBjb21wbGV0ZWQKICBmdW5jdGlvbiBhcHByb3ZlQ2hhbmdlIChUb2tlblN0b3JhZ2Ugc3RvcmFnZSBzZWxmLCBhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZUNoYW5nZSwgYm9vbCBfaW5jcmVhc2UpCiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJucyAoYm9vbCkKICB7CiAgICB1aW50MjU2IF9uZXdBbGxvd2VkOwogICAgYm9vbCBlcnI7CgogICAgaWYoX2luY3JlYXNlKSB7CiAgICAgIChlcnIsIF9uZXdBbGxvd2VkKSA9IHNlbGYuYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0ucGx1cyhfdmFsdWVDaGFuZ2UpOwogICAgICByZXF1aXJlKCFlcnIpOwoKICAgICAgc2VsZi5hbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF9uZXdBbGxvd2VkOwogICAgfSBlbHNlIHsKICAgICAgaWYgKF92YWx1ZUNoYW5nZSA+IHNlbGYuYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pIHsKICAgICAgICBzZWxmLmFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gMDsKICAgICAgfSBlbHNlIHsKICAgICAgICBfbmV3QWxsb3dlZCA9IHNlbGYuYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gLSBfdmFsdWVDaGFuZ2U7CiAgICAgICAgc2VsZi5hbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF9uZXdBbGxvd2VkOwogICAgICB9CiAgICB9CgogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9uZXdBbGxvd2VkKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8vIEBkZXYgQ2hhbmdlIG93bmluZyBhZGRyZXNzIG9mIHRoZSB0b2tlbiBjb250cmFjdCwgc3BlY2lmaWNhbGx5IGZvciBtaW50aW5nCiAgLy8vIEBwYXJhbSBzZWxmIFN0b3JlZCB0b2tlbiBmcm9tIHRva2VuIGNvbnRyYWN0CiAgLy8vIEBwYXJhbSBfbmV3T3duZXIgQWRkcmVzcyBmb3IgdGhlIG5ldyBvd25lcgogIC8vLyBAcmV0dXJuIFRydWUgaWYgY29tcGxldGVkCiAgZnVuY3Rpb24gY2hhbmdlT3duZXIoVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwgYWRkcmVzcyBfbmV3T3duZXIpIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoKHNlbGYub3duZXIgPT0gbXNnLnNlbmRlcikgJiYgKF9uZXdPd25lciA+IDApKTsKCiAgICBzZWxmLm93bmVyID0gX25ld093bmVyOwogICAgT3duZXJDaGFuZ2UobXNnLnNlbmRlciwgX25ld093bmVyKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8vIEBkZXYgTWludHMgYWRkaXRpb25hbCB0b2tlbnMsIG5ldyB0b2tlbnMgZ28gdG8gb3duZXIKICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QKICAvLy8gQHBhcmFtIF9hbW91bnQgTnVtYmVyIG9mIHRva2VucyB0byBtaW50CiAgLy8vIEByZXR1cm4gVHJ1ZSBpZiBjb21wbGV0ZWQKICBmdW5jdGlvbiBtaW50VG9rZW4oVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwgdWludDI1NiBfYW1vdW50KSByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKChzZWxmLm93bmVyID09IG1zZy5zZW5kZXIpICYmIHNlbGYuc3RpbGxNaW50aW5nKTsKICAgIHVpbnQyNTYgX25ld0Ftb3VudDsKICAgIGJvb2wgZXJyOwoKICAgIChlcnIsIF9uZXdBbW91bnQpID0gc2VsZi50b3RhbFN1cHBseS5wbHVzKF9hbW91bnQpOwogICAgcmVxdWlyZSghZXJyKTsKCiAgICBzZWxmLnRvdGFsU3VwcGx5ID0gIF9uZXdBbW91bnQ7CiAgICBzZWxmLmJhbGFuY2VzW3NlbGYub3duZXJdID0gc2VsZi5iYWxhbmNlc1tzZWxmLm93bmVyXSArIF9hbW91bnQ7CiAgICBUcmFuc2ZlcigweDAsIHNlbGYub3duZXIsIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvLy8gQGRldiBQZXJtYW5lbnQgc3RvcHMgbWludGluZwogIC8vLyBAcGFyYW0gc2VsZiBTdG9yZWQgdG9rZW4gZnJvbSB0b2tlbiBjb250cmFjdAogIC8vLyBAcmV0dXJuIFRydWUgaWYgY29tcGxldGVkCiAgZnVuY3Rpb24gY2xvc2VNaW50KFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYpIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoc2VsZi5vd25lciA9PSBtc2cuc2VuZGVyKTsKCiAgICBzZWxmLnN0aWxsTWludGluZyA9IGZhbHNlOwogICAgTWludGluZ0Nsb3NlZCh0cnVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8vIEBkZXYgUGVybWFuZW50bHkgYnVybiB0b2tlbnMKICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QKICAvLy8gQHBhcmFtIF9hbW91bnQgQW1vdW50IG9mIHRva2VucyB0byBidXJuCiAgLy8vIEByZXR1cm4gVHJ1ZSBpZiBjb21wbGV0ZWQKICBmdW5jdGlvbiBidXJuVG9rZW4oVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwgdWludDI1NiBfYW1vdW50KSByZXR1cm5zIChib29sKSB7CiAgICAgIHVpbnQyNTYgX25ld0JhbGFuY2U7CiAgICAgIGJvb2wgZXJyOwoKICAgICAgKGVyciwgX25ld0JhbGFuY2UpID0gc2VsZi5iYWxhbmNlc1ttc2cuc2VuZGVyXS5taW51cyhfYW1vdW50KTsKICAgICAgcmVxdWlyZSghZXJyKTsKCiAgICAgIHNlbGYuYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBfbmV3QmFsYW5jZTsKICAgICAgc2VsZi50b3RhbFN1cHBseSA9IHNlbGYudG90YWxTdXBwbHkgLSBfYW1vdW50OwogICAgICBCdXJuKG1zZy5zZW5kZXIsIF9hbW91bnQpOwogICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCAweDAsIF9hbW91bnQpOwogICAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCnByYWdtYSBzb2xpZGl0eSBeMC40LjEzOwoKLyoqCiAqIEB0aXRsZSBCYXNpYyBNYXRoIExpYnJhcnkKICogQGF1dGhvciBNYWpvb2xyLmlvCiAqCiAqIHZlcnNpb24gMS4xLjAKICogQ29weXJpZ2h0IChjKSAyMDE3IE1ham9vbHIsIExMQwogKiBUaGUgTUlUIExpY2Vuc2UgKE1JVCkKICogaHR0cHM6Ly9naXRodWIuY29tL01ham9vbHIvZXRoZXJldW0tbGlicmFyaWVzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UKICoKICogVGhlIEJhc2ljIE1hdGggTGlicmFyeSBpcyBpbnNwaXJlZCBieSB0aGUgU2FmZSBNYXRoIGxpYnJhcnkgd3JpdHRlbiBieQogKiBPcGVuWmVwcGVsaW4gYXQgaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS8gLgogKiBNYWpvb2xyIHdvcmtzIG9uIG9wZW4gc291cmNlIHByb2plY3RzIGluIHRoZSBFdGhlcmV1bSBjb21tdW5pdHkgd2l0aCB0aGUKICogcHVycG9zZSBvZiB0ZXN0aW5nLCBkb2N1bWVudGluZywgYW5kIGRlcGxveWluZyByZXVzYWJsZSBjb2RlIG9udG8gdGhlCiAqIGJsb2NrY2hhaW4gdG8gaW1wcm92ZSBzZWN1cml0eSBhbmQgdXNhYmlsaXR5IG9mIHNtYXJ0IGNvbnRyYWN0cy4gTWFqb29scgogKiBhbHNvIHN0cml2ZXMgdG8gZWR1Y2F0ZSBub24tcHJvZml0cywgc2Nob29scywgYW5kIG90aGVyIGNvbW11bml0eSBtZW1iZXJzCiAqIGFib3V0IHRoZSBhcHBsaWNhdGlvbiBvZiBibG9ja2NoYWluIHRlY2hub2xvZ3kuCiAqIEZvciBmdXJ0aGVyIGluZm9ybWF0aW9uOiBtYWpvb2xyLmlvLCBvcGVuemVwcGVsaW4ub3JnCiAqCiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTCiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YKICogTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULgogKiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWQogKiBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULAogKiBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRQogKiBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4KICovCgpsaWJyYXJ5IEJhc2ljTWF0aExpYiB7CiAgZXZlbnQgRXJyKHN0cmluZyB0eXBlRXJyKTsKCiAgLy8vIEBkZXYgTXVsdGlwbGllcyB0d28gbnVtYmVycyBhbmQgY2hlY2tzIGZvciBvdmVyZmxvdyBiZWZvcmUgcmV0dXJuaW5nLgogIC8vLyBEb2VzIG5vdCB0aHJvdyBidXQgcmF0aGVyIGxvZ3MgYW4gRXJyIGV2ZW50IGlmIHRoZXJlIGlzIG92ZXJmbG93LgogIC8vLyBAcGFyYW0gYSBGaXJzdCBudW1iZXIKICAvLy8gQHBhcmFtIGIgU2Vjb25kIG51bWJlcgogIC8vLyBAcmV0dXJuIGVyciBGYWxzZSBub3JtYWxseSwgb3IgdHJ1ZSBpZiB0aGVyZSBpcyBvdmVyZmxvdwogIC8vLyBAcmV0dXJuIHJlcyBUaGUgcHJvZHVjdCBvZiBhIGFuZCBiLCBvciAwIGlmIHRoZXJlIGlzIG92ZXJmbG93CiAgZnVuY3Rpb24gdGltZXModWludDI1NiBhLCB1aW50MjU2IGIpIGNvbnN0YW50IHJldHVybnMgKGJvb2wgZXJyLHVpbnQyNTYgcmVzKSB7CiAgICBhc3NlbWJseXsKICAgICAgcmVzIDo9IG11bChhLGIpCiAgICAgIHN3aXRjaCBvcihpc3plcm8oYiksIGVxKGRpdihyZXMsYiksIGEpKQogICAgICBjYXNlIDAgewogICAgICAgIGVyciA6PSAxCiAgICAgICAgcmVzIDo9IDAKICAgICAgfQogICAgfQogICAgaWYgKGVycikKICAgICAgRXJyKCJ0aW1lcyBmdW5jIG92ZXJmbG93Iik7CiAgfQoKICAvLy8gQGRldiBEaXZpZGVzIHR3byBudW1iZXJzIGJ1dCBjaGVja3MgZm9yIDAgaW4gdGhlIGRpdmlzb3IgZmlyc3QuCiAgLy8vIERvZXMgbm90IHRocm93IGJ1dCByYXRoZXIgbG9ncyBhbiBFcnIgZXZlbnQgaWYgMCBpcyBpbiB0aGUgZGl2aXNvci4KICAvLy8gQHBhcmFtIGEgRmlyc3QgbnVtYmVyCiAgLy8vIEBwYXJhbSBiIFNlY29uZCBudW1iZXIKICAvLy8gQHJldHVybiBlcnIgRmFsc2Ugbm9ybWFsbHksIG9yIHRydWUgaWYgYGJgIGlzIDAKICAvLy8gQHJldHVybiByZXMgVGhlIHF1b3RpZW50IG9mIGEgYW5kIGIsIG9yIDAgaWYgYGJgIGlzIDAKICBmdW5jdGlvbiBkaXZpZGVkQnkodWludDI1NiBhLCB1aW50MjU2IGIpIGNvbnN0YW50IHJldHVybnMgKGJvb2wgZXJyLHVpbnQyNTYgcmVzKSB7CiAgICBhc3NlbWJseXsKICAgICAgc3dpdGNoIGlzemVybyhiKQogICAgICBjYXNlIDAgewogICAgICAgIHJlcyA6PSBkaXYoYSxiKQogICAgICAgIG1zdG9yZShhZGQobWxvYWQoMHg0MCksMHgyMCkscmVzKQogICAgICAgIHJldHVybihtbG9hZCgweDQwKSwweDQwKQogICAgICB9CiAgICB9CiAgICBFcnIoInRyaWVkIHRvIGRpdmlkZSBieSB6ZXJvIik7CiAgICByZXR1cm4gKHRydWUsIDApOwogIH0KCiAgLy8vIEBkZXYgQWRkcyB0d28gbnVtYmVycyBhbmQgY2hlY2tzIGZvciBvdmVyZmxvdyBiZWZvcmUgcmV0dXJuaW5nLgogIC8vLyBEb2VzIG5vdCB0aHJvdyBidXQgcmF0aGVyIGxvZ3MgYW4gRXJyIGV2ZW50IGlmIHRoZXJlIGlzIG92ZXJmbG93LgogIC8vLyBAcGFyYW0gYSBGaXJzdCBudW1iZXIKICAvLy8gQHBhcmFtIGIgU2Vjb25kIG51bWJlcgogIC8vLyBAcmV0dXJuIGVyciBGYWxzZSBub3JtYWxseSwgb3IgdHJ1ZSBpZiB0aGVyZSBpcyBvdmVyZmxvdwogIC8vLyBAcmV0dXJuIHJlcyBUaGUgc3VtIG9mIGEgYW5kIGIsIG9yIDAgaWYgdGhlcmUgaXMgb3ZlcmZsb3cKICBmdW5jdGlvbiBwbHVzKHVpbnQyNTYgYSwgdWludDI1NiBiKSBjb25zdGFudCByZXR1cm5zIChib29sIGVyciwgdWludDI1NiByZXMpIHsKICAgIGFzc2VtYmx5ewogICAgICByZXMgOj0gYWRkKGEsYikKICAgICAgc3dpdGNoIGFuZChlcShzdWIocmVzLGIpLCBhKSwgb3IoZ3QocmVzLGIpLGVxKHJlcyxiKSkpCiAgICAgIGNhc2UgMCB7CiAgICAgICAgZXJyIDo9IDEKICAgICAgICByZXMgOj0gMAogICAgICB9CiAgICB9CiAgICBpZiAoZXJyKQogICAgICBFcnIoInBsdXMgZnVuYyBvdmVyZmxvdyIpOwogIH0KCiAgLy8vIEBkZXYgU3VidHJhY3RzIHR3byBudW1iZXJzIGFuZCBjaGVja3MgZm9yIHVuZGVyZmxvdyBiZWZvcmUgcmV0dXJuaW5nLgogIC8vLyBEb2VzIG5vdCB0aHJvdyBidXQgcmF0aGVyIGxvZ3MgYW4gRXJyIGV2ZW50IGlmIHRoZXJlIGlzIHVuZGVyZmxvdy4KICAvLy8gQHBhcmFtIGEgRmlyc3QgbnVtYmVyCiAgLy8vIEBwYXJhbSBiIFNlY29uZCBudW1iZXIKICAvLy8gQHJldHVybiBlcnIgRmFsc2Ugbm9ybWFsbHksIG9yIHRydWUgaWYgdGhlcmUgaXMgdW5kZXJmbG93CiAgLy8vIEByZXR1cm4gcmVzIFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gYSBhbmQgYiwgb3IgMCBpZiB0aGVyZSBpcyB1bmRlcmZsb3cKICBmdW5jdGlvbiBtaW51cyh1aW50MjU2IGEsIHVpbnQyNTYgYikgY29uc3RhbnQgcmV0dXJucyAoYm9vbCBlcnIsdWludDI1NiByZXMpIHsKICAgIGFzc2VtYmx5ewogICAgICByZXMgOj0gc3ViKGEsYikKICAgICAgc3dpdGNoIGVxKGFuZChlcShhZGQocmVzLGIpLCBhKSwgb3IobHQocmVzLGEpLCBlcShyZXMsYSkpKSwgMSkKICAgICAgY2FzZSAwIHsKICAgICAgICBlcnIgOj0gMQogICAgICAgIHJlcyA6PSAwCiAgICAgIH0KICAgIH0KICAgIGlmIChlcnIpCiAgICAgIEVycigibWludXMgZnVuYyB1bmRlcmZsb3ciKTsKICB9Cn0='.
	

]
