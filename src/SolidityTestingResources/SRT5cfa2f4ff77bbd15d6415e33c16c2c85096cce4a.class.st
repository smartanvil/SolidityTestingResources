Class {
	#name : #SRT5cfa2f4ff77bbd15d6415e33c16c2c85096cce4a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5cfa2f4ff77bbd15d6415e33c16c2c85096cce4a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjsKCgovLyBFdGhlcm9sbCBGdW5jdGlvbnMKY29udHJhY3QgRFNTYWZlQWRkU3ViIHsKICAgIGZ1bmN0aW9uIHNhZmVUb0FkZCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiAoYSArIGIgPj0gYSk7CiAgICB9CiAgICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmVxdWlyZShzYWZlVG9BZGQoYSwgYikpOwogICAgICAgIHJldHVybiBhICsgYjsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlVG9TdWJ0cmFjdCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiAoYiA8PSBhKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmVxdWlyZShzYWZlVG9TdWJ0cmFjdChhLCBiKSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQp9Cgpjb250cmFjdCBNeURpY2UgaXMgRFNTYWZlQWRkU3ViIHsKCiAgICAvKgogICAgICogY2hlY2tzIHBsYXllciBwcm9maXQgYW5kIG51bWJlciBpcyB3aXRoaW4gcmFuZ2UKICAgICovCiAgICBtb2RpZmllciBiZXRJc1ZhbGlkKHVpbnQgX2JldFNpemUsIHVpbnQgX3BsYXllck51bWJlcikgewoJCQogICAgcmVxdWlyZSgoKCgoX2JldFNpemUgKiAoMTAwMDAtKHNhZmVTdWIoX3BsYXllck51bWJlciwxKSkpKSAvIChzYWZlU3ViKF9wbGF5ZXJOdW1iZXIsMSkpK19iZXRTaXplKSkqaG91c2VFZGdlL2hvdXNlRWRnZURpdmlzb3IpLV9iZXRTaXplIDw9IG1heFByb2ZpdCk7CgogICAgcmVxdWlyZShfcGxheWVyTnVtYmVyIDwgbWF4TnVtYmVyKTsKICAgIHJlcXVpcmUoX2JldFNpemUgPj0gbWluQmV0KTsKICAgIF87CiAgICB9CgogICAgLyoKICAgICAqIGNoZWNrcyBnYW1lIGlzIGN1cnJlbnRseSBhY3RpdmUKICAgICovCiAgICBtb2RpZmllciBnYW1lSXNBY3RpdmUgewogICAgICByZXF1aXJlKGdhbWVQYXVzZWQgPT0gZmFsc2UpOwoJCV87CiAgICB9CgogICAgLyoKICAgICAqIGNoZWNrcyBwYXlvdXRzIGFyZSBjdXJyZW50bHkgYWN0aXZlCiAgICAqLwogICAgbW9kaWZpZXIgcGF5b3V0c0FyZUFjdGl2ZSB7CgkJcmVxdWlyZShwYXlvdXRzUGF1c2VkID09IGZhbHNlKTsKICAgICAgICBfOwogICAgfQoKIAogICAgLyoKICAgICAqIGNoZWNrcyBvbmx5IG93bmVyIGFkZHJlc3MgaXMgY2FsbGluZwogICAgKi8KICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICAgXzsKICAgIH0KCiAgICAvKgogICAgICogZ2FtZSB2YXJzCiAgICAqLwoKICAgIHVpbnQgY29uc3RhbnQgcHVibGljIG1heEJldERpdmlzb3IgPSAxMDAwMDAwOwogICAgdWludCBjb25zdGFudCBwdWJsaWMgaG91c2VFZGdlRGl2aXNvciA9IDEwMDA7Cglib29sIHB1YmxpYyBnYW1lUGF1c2VkOwogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgICBib29sIHB1YmxpYyBwYXlvdXRzUGF1c2VkOwogICAgdWludCBwdWJsaWMgY29udHJhY3RCYWxhbmNlOwogICAgdWludCBwdWJsaWMgaG91c2VFZGdlOwogICAgdWludCBwdWJsaWMgbWF4UHJvZml0OwogICAgdWludCBwdWJsaWMgbWF4UHJvZml0QXNQZXJjZW50T2ZIb3VzZTsKICAgIHVpbnQgcHVibGljIG1pbkJldDsKICAgIHVpbnQgcHVibGljIHRvdGFsQmV0czsKICAgIHVpbnQgcHVibGljIHRvdGFsVXNlclByb2ZpdDsKCgogICAgdWludCBwcml2YXRlIHJhbmRvbU51bWJlcjsgIC8v5LiK5LiA5qyh55qEcmFuZG9tTnVtYmVy5Lya5Y+C5LiO5Yiw5LiL5LiA5qyh55qE6ZqP5py65pWw5Lqn55SfCiAgICB1aW50IHB1YmxpYyAgbm9uY2U7ICAgICAgICAgLy/orqHmlbDlmajvvIzkuZ/mmK/pmo/mnLrmlbDnlJ/miJDnmoTnp43lrZAKICAgIHVpbnQgcHJpdmF0ZSBtYXhOdW1iZXIgPSAxMDAwMDsKICAgIHVpbnQgcHVibGljICB1bmRlck51bWJlciA9IDUwMDA7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBwbGF5ZXJQZW5kaW5nV2l0aGRyYXdhbHM7CgogICAgLyoKICAgICAqIGV2ZW50cwogICAgKi8KICAgIC8qIFN0YXR1czogMD1sb3NlLCAxPXdpbiwgMj13aW4gKyBmYWlsZWQgc2VuZCwqLwoJZXZlbnQgTG9nUmVzdWx0KHVpbnQgaW5kZXhlZCBCZXRJRCwgYWRkcmVzcyBpbmRleGVkIFBsYXllckFkZHJlc3MsIHVpbnQgaW5kZXhlZCBQbGF5ZXJOdW1iZXIsIHVpbnQgRGljZVJlc3VsdCwgdWludCBWYWx1ZSwgaW50IFN0YXR1cyx1aW50IEJldFZhbHVlLHVpbnQgdGFyZ2V0TnVtYmVyKTsKICAgIC8qIGxvZyBvd25lciB0cmFuc2ZlcnMgKi8KICAgIGV2ZW50IExvZ093bmVyVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIFNlbnRUb0FkZHJlc3MsIHVpbnQgaW5kZXhlZCBBbW91bnRUcmFuc2ZlcnJlZCk7CiAgICAvKnRlc3QqLwogICAgZXZlbnQgTG9nUmFuZG9tKHVpbnQgcmVzdWx0LHVpbnQgcmFuZG9tTnVtKTsKCiAgICAvKgogICAgICogaW5pdAogICAgKi8KICAgIGZ1bmN0aW9uIE15RGljZSgpIHsKCiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwoKCiAgICAgICAgLyogaW5pdCA5MzUgPSA5My41JSAoNi41JSBob3VzZUVkZ2UpKi8KICAgICAgICBvd25lclNldEhvdXNlRWRnZSg5MzUpOwoKICAgICAgICAvLyAyNSwwMDAgPSAyLjUlIGlzIG91ciBtYXggcHJvZml0IG9mIHRoZSBob3VzZQogICAgICAgIG93bmVyU2V0TWF4UHJvZml0QXNQZXJjZW50T2ZIb3VzZSgyNTAwMCk7CiAgICAgICAgLyogaW5pdCBtaW4gYmV0ICgwLjIgZXRoZXIpICovCgogICAgICAgIG93bmVyU2V0TWluQmV0KDIwMDAwMDAwMDAwMDAwMDAwMCk7CgogICAgfQoKICAgIGZ1bmN0aW9uIEdldFJhbmRvbU51bWJlcigpIGludGVybmFsIAogICAgICAgIHJldHVybnModWludCByYW5kb25tTnVtYmVyKQogICAgewogICAgICAgIG5vbmNlKys7CiAgICAgICAgcmFuZG9tTnVtYmVyID0gcmFuZG9tTnVtYmVyICUgYmxvY2sudGltZXN0YW1wICsgdWludDI1NihibG9jay5ibG9ja2hhc2goYmxvY2subnVtYmVyIC0gMSkpOwogICAgICAgIHJhbmRvbU51bWJlciA9IHJhbmRvbU51bWJlciArIGJsb2NrLnRpbWVzdGFtcCAqIGJsb2NrLmRpZmZpY3VsdHkgKiBibG9jay5udW1iZXIgKyAxOwogICAgICAgIHJhbmRvbU51bWJlciA9IHJhbmRvbU51bWJlciAlIDgwMTAwMDExMDAxMTEwMDEwMDExMDAwMDEwMTEwMTExMDAxMTAxMDExMDExMTEwMDE3OwoKICAgICAgICByYW5kb21OdW1iZXIgPSB1aW50KHNoYTMocmFuZG9tTnVtYmVyLG5vbmNlLDEwICsgMTAqMTAwMDAwMDAwMDAwMDAwMDAwMC9tc2cudmFsdWUpKTsKCiAgICAgICAgcmV0dXJuIChyYW5kb21OdW1iZXIgJSAxMDAwMCArIDEpOwogICAgfQoKICAgIC8qCiAgICAgKiBwdWJsaWMgZnVuY3Rpb24KICAgICAqIHBsYXllciBzdWJtaXQgYmV0CiAgICAgKiBvbmx5IGlmIGdhbWUgaXMgYWN0aXZlICYgYmV0IGlzIHZhbGlkIGNhbiBxdWVyeSBvcmFjbGl6ZSBhbmQgc2V0IHBsYXllciB2YXJzCiAgICAqLwogICAgZnVuY3Rpb24gcGxheWVyUm9sbERpY2UodWludCByb2xsVW5kZXIpIHB1YmxpYwogICAgICAgIHBheWFibGUKICAgICAgICBnYW1lSXNBY3RpdmUKICAgICAgICBiZXRJc1ZhbGlkKG1zZy52YWx1ZSwgcm9sbFVuZGVyKQoJewogICAgCiAgICAgICAgdG90YWxCZXRzICs9IDE7CgogICAgICAgIHVpbnQgcmFuZFJldXNsdCA9IEdldFJhbmRvbU51bWJlcigpOwogICAgICAgIExvZ1JhbmRvbShyYW5kUmV1c2x0LHJhbmRvbU51bWJlcik7CgogICAgICAgIC8qCiAgICAgICAgKiBwYXkgd2lubmVyCiAgICAgICAgKiB1cGRhdGUgY29udHJhY3QgYmFsYW5jZSB0byBjYWxjdWxhdGUgbmV3IG1heCBiZXQKICAgICAgICAqIHNlbmQgcmV3YXJkCiAgICAgICAgKiBpZiBzZW5kIG9mIHJld2FyZCBmYWlscyBzYXZlIHZhbHVlIHRvIHBsYXllclBlbmRpbmdXaXRoZHJhd2FscwogICAgICAgICovCiAgICAgICAgaWYocmFuZFJldXNsdCA8IHJvbGxVbmRlcil7CgogICAgICAgICAgICB1aW50IHBsYXllclByb2ZpdCA9ICgoKChtc2cudmFsdWUgKiAobWF4TnVtYmVyLShzYWZlU3ViKHJvbGxVbmRlciwxKSkpKSAvIChzYWZlU3ViKHJvbGxVbmRlciwxKSkrbXNnLnZhbHVlKSkqaG91c2VFZGdlL2hvdXNlRWRnZURpdmlzb3IpLW1zZy52YWx1ZTsKCiAgICAgICAgICAgIC8qIHNhZmVseSByZWR1Y2UgY29udHJhY3QgYmFsYW5jZSBieSBwbGF5ZXIgcHJvZml0ICovCiAgICAgICAgICAgIGNvbnRyYWN0QmFsYW5jZSA9IHNhZmVTdWIoY29udHJhY3RCYWxhbmNlLCBwbGF5ZXJQcm9maXQpOwoKICAgICAgICAgICAgLyogc2FmZWx5IGNhbGN1bGF0ZSB0b3RhbCBwYXlvdXQgYXMgcGxheWVyIHByb2ZpdCBwbHVzIG9yaWdpbmFsIHdhZ2VyICovCiAgICAgICAgICAgIHVpbnQgcmV3YXJkID0gc2FmZUFkZChwbGF5ZXJQcm9maXQsIG1zZy52YWx1ZSk7CgogICAgICAgICAgICB0b3RhbFVzZXJQcm9maXQgPSB0b3RhbFVzZXJQcm9maXQgKyBwbGF5ZXJQcm9maXQ7IC8vIHRvdGFsIHByb2ZpdHMKCiAgICAgICAgICAgIExvZ1Jlc3VsdCh0b3RhbEJldHMsIG1zZy5zZW5kZXIsIHVuZGVyTnVtYmVyLCByYW5kUmV1c2x0LCByZXdhcmQsIDEsIG1zZy52YWx1ZSx1bmRlck51bWJlcik7CgogICAgICAgICAgICAvKiB1cGRhdGUgbWF4aW11bSBwcm9maXQgKi8KICAgICAgICAgICAgc2V0TWF4UHJvZml0KCk7CgogICAgICAgICAgICAvKgogICAgICAgICAgICAqIHNlbmQgd2luIC0gZXh0ZXJuYWwgY2FsbCB0byBhbiB1bnRydXN0ZWQgY29udHJhY3QKICAgICAgICAgICAgKiBpZiBzZW5kIGZhaWxzIG1hcCByZXdhcmQgdmFsdWUgdG8gcGxheWVyUGVuZGluZ1dpdGhkcmF3YWxzW2FkZHJlc3NdCiAgICAgICAgICAgICogZm9yIHdpdGhkcmF3YWwgbGF0ZXIgdmlhIHBsYXllcldpdGhkcmF3UGVuZGluZ1RyYW5zYWN0aW9ucwogICAgICAgICAgICAqLwogICAgICAgICAgICBpZighbXNnLnNlbmRlci5zZW5kKHJld2FyZCkpewogICAgICAgICAgICAgICAgTG9nUmVzdWx0KHRvdGFsQmV0cywgbXNnLnNlbmRlciwgdW5kZXJOdW1iZXIsIHJhbmRSZXVzbHQsIHJld2FyZCwgMiwgbXNnLnZhbHVlLHVuZGVyTnVtYmVyKTsKCiAgICAgICAgICAgICAgICAvKiBpZiBzZW5kIGZhaWxlZCBsZXQgcGxheWVyIHdpdGhkcmF3IHZpYSBwbGF5ZXJXaXRoZHJhd1BlbmRpbmdUcmFuc2FjdGlvbnMgKi8KICAgICAgICAgICAgICAgIHBsYXllclBlbmRpbmdXaXRoZHJhd2Fsc1ttc2cuc2VuZGVyXSA9IHNhZmVBZGQocGxheWVyUGVuZGluZ1dpdGhkcmF3YWxzW21zZy5zZW5kZXJdLCByZXdhcmQpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvKgogICAgICAgICogbm8gd2luCiAgICAgICAgKiBzZW5kIDEgd2VpIHRvIGEgbG9zaW5nIGJldAogICAgICAgICogdXBkYXRlIGNvbnRyYWN0IGJhbGFuY2UgdG8gY2FsY3VsYXRlIG5ldyBtYXggYmV0CiAgICAgICAgKi8KICAgICAgICBpZihyYW5kUmV1c2x0ID49IHJvbGxVbmRlcil7CgogICAgICAgICAgICBMb2dSZXN1bHQodG90YWxCZXRzLCBtc2cuc2VuZGVyLCB1bmRlck51bWJlciwgcmFuZFJldXNsdCwgbXNnLnZhbHVlLCAwLCBtc2cudmFsdWUsdW5kZXJOdW1iZXIpOwoKICAgICAgICAgICAgLyoKICAgICAgICAgICAgKiAgc2FmZSBhZGp1c3QgY29udHJhY3RCYWxhbmNlCiAgICAgICAgICAgICogIHNldE1heFByb2ZpdAogICAgICAgICAgICAqICBzZW5kIDEgd2VpIHRvIGxvc2luZyBiZXQKICAgICAgICAgICAgKi8KICAgICAgICAgICAgY29udHJhY3RCYWxhbmNlID0gc2FmZUFkZChjb250cmFjdEJhbGFuY2UsIG1zZy52YWx1ZS0xKTsKCiAgICAgICAgICAgIC8qIHVwZGF0ZSBtYXhpbXVtIHByb2ZpdCAqLwogICAgICAgICAgICBzZXRNYXhQcm9maXQoKTsKCiAgICAgICAgICAgIC8qCiAgICAgICAgICAgICogc2VuZCAxIHdlaSAtIGV4dGVybmFsIGNhbGwgdG8gYW4gdW50cnVzdGVkIGNvbnRyYWN0CiAgICAgICAgICAgICovCiAgICAgICAgICAgIGlmKCFtc2cuc2VuZGVyLnNlbmQoMSkpewogICAgICAgICAgICAgICAgLyogaWYgc2VuZCBmYWlsZWQgbGV0IHBsYXllciB3aXRoZHJhdyB2aWEgcGxheWVyV2l0aGRyYXdQZW5kaW5nVHJhbnNhY3Rpb25zICovCiAgICAgICAgICAgICAgIHBsYXllclBlbmRpbmdXaXRoZHJhd2Fsc1ttc2cuc2VuZGVyXSA9IHNhZmVBZGQocGxheWVyUGVuZGluZ1dpdGhkcmF3YWxzW21zZy5zZW5kZXJdLCAxKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICB9CiAgICB9CgoKICAgIC8qCiAgICAqIHB1YmxpYyBmdW5jdGlvbgogICAgKiBpbiBjYXNlIG9mIGEgZmFpbGVkIHJlZnVuZCBvciB3aW4gc2VuZAogICAgKi8KICAgIGZ1bmN0aW9uIHBsYXllcldpdGhkcmF3UGVuZGluZ1RyYW5zYWN0aW9ucygpIHB1YmxpYwogICAgICAgIHBheW91dHNBcmVBY3RpdmUKICAgICAgICByZXR1cm5zIChib29sKQogICAgIHsKICAgICAgICB1aW50IHdpdGhkcmF3QW1vdW50ID0gcGxheWVyUGVuZGluZ1dpdGhkcmF3YWxzW21zZy5zZW5kZXJdOwogICAgICAgIHBsYXllclBlbmRpbmdXaXRoZHJhd2Fsc1ttc2cuc2VuZGVyXSA9IDA7CiAgICAgICAgLyogZXh0ZXJuYWwgY2FsbCB0byB1bnRydXN0ZWQgY29udHJhY3QgKi8KICAgICAgICBpZiAobXNnLnNlbmRlci5jYWxsLnZhbHVlKHdpdGhkcmF3QW1vdW50KSgpKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8qIGlmIHNlbmQgZmFpbGVkIHJldmVydCBwbGF5ZXJQZW5kaW5nV2l0aGRyYXdhbHNbbXNnLnNlbmRlcl0gPSAwOyAqLwogICAgICAgICAgICAvKiBwbGF5ZXIgY2FuIHRyeSB0byB3aXRoZHJhdyBhZ2FpbiBsYXRlciAqLwogICAgICAgICAgICBwbGF5ZXJQZW5kaW5nV2l0aGRyYXdhbHNbbXNnLnNlbmRlcl0gPSB3aXRoZHJhd0Ftb3VudDsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICAvKiBjaGVjayBmb3IgcGVuZGluZyB3aXRoZHJhd2FscyAgKi8KICAgIGZ1bmN0aW9uIHBsYXllckdldFBlbmRpbmdUeEJ5QWRkcmVzcyhhZGRyZXNzIGFkZHJlc3NUb0NoZWNrKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBwbGF5ZXJQZW5kaW5nV2l0aGRyYXdhbHNbYWRkcmVzc1RvQ2hlY2tdOwogICAgfQoKICAgIC8qCiAgICAqIGludGVybmFsIGZ1bmN0aW9uCiAgICAqIHNldHMgbWF4IHByb2ZpdAogICAgKi8KICAgIGZ1bmN0aW9uIHNldE1heFByb2ZpdCgpIGludGVybmFsIHsKICAgICAgICBtYXhQcm9maXQgPSAoY29udHJhY3RCYWxhbmNlKm1heFByb2ZpdEFzUGVyY2VudE9mSG91c2UpL21heEJldERpdmlzb3I7CiAgICB9CgogICAgLyoKICAgICogb3duZXIgYWRkcmVzcyBvbmx5IGZ1bmN0aW9ucwogICAgKi8KICAgIGZ1bmN0aW9uICgpCiAgICAgICAgcGF5YWJsZQogICAgewogICAgICAgIHBsYXllclJvbGxEaWNlKHVuZGVyTnVtYmVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXROb25jZSh1aW50IHZhbHVlKSBwdWJsaWMKICAgICAgICBvbmx5T3duZXIKICAgIHsKICAgICAgICBub25jZSA9IHZhbHVlOwogICAgfQoKICAgIGZ1bmN0aW9uIG93bmVyQWRkQmFua3JvbGwoKQogICAgcGF5YWJsZQogICAgb25seU93bmVyCiAgICB7CiAgICAgICAgLyogc2FmZWx5IHVwZGF0ZSBjb250cmFjdCBiYWxhbmNlICovCiAgICAgICAgY29udHJhY3RCYWxhbmNlID0gc2FmZUFkZChjb250cmFjdEJhbGFuY2UsIG1zZy52YWx1ZSk7CiAgICAgICAgLyogdXBkYXRlIHRoZSBtYXhpbXVtIHByb2ZpdCAqLwogICAgICAgIHNldE1heFByb2ZpdCgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldGNvbnRyYWN0QmFsYW5jZSgpIHB1YmxpYyAKICAgIG9ubHlPd25lciAKICAgIHJldHVybnModWludCkKICAgIHsKICAgICAgICByZXR1cm4gY29udHJhY3RCYWxhbmNlOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFRvdGFsQmV0cygpIHB1YmxpYwogICAgb25seU93bmVyCiAgICByZXR1cm5zKHVpbnQpCiAgICB7CiAgICAgICAgcmV0dXJuIHRvdGFsQmV0czsKICAgIH0KCiAgICAvKiBvbmx5IG93bmVyIGFkZHJlc3MgY2FuIHNldCBob3VzZUVkZ2UgKi8KICAgIGZ1bmN0aW9uIG93bmVyU2V0SG91c2VFZGdlKHVpbnQgbmV3SG91c2VFZGdlKSBwdWJsaWMKCQlvbmx5T3duZXIKICAgIHsKICAgICAgICBob3VzZUVkZ2UgPSBuZXdIb3VzZUVkZ2U7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0SG91c2VFZGdlKCkgcHVibGljIAogICAgb25seU93bmVyIAogICAgcmV0dXJucyh1aW50KQogICAgewogICAgICAgIHJldHVybiBob3VzZUVkZ2U7CiAgICB9CgogICAgLyogb25seSBvd25lciBhZGRyZXNzIGNhbiBzZXQgbWF4UHJvZml0QXNQZXJjZW50T2ZIb3VzZSAqLwogICAgZnVuY3Rpb24gb3duZXJTZXRNYXhQcm9maXRBc1BlcmNlbnRPZkhvdXNlKHVpbnQgbmV3TWF4UHJvZml0QXNQZXJjZW50KSBwdWJsaWMKCQlvbmx5T3duZXIKICAgIHsKICAgICAgICAvKiByZXN0cmljdCB0byBtYXhpbXVtIHByb2ZpdCBvZiA1JSBvZiB0b3RhbCBob3VzZSBiYWxhbmNlKi8KICAgICAgICByZXF1aXJlKG5ld01heFByb2ZpdEFzUGVyY2VudCA8PSA1MDAwMCk7CiAgICAgICAgbWF4UHJvZml0QXNQZXJjZW50T2ZIb3VzZSA9IG5ld01heFByb2ZpdEFzUGVyY2VudDsKICAgICAgICBzZXRNYXhQcm9maXQoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRNYXhQcm9maXRBc1BlcmNlbnRPZkhvdXNlKCkgcHVibGljIAogICAgb25seU93bmVyIAogICAgcmV0dXJucyh1aW50KQogICAgewogICAgICAgIHJldHVybiBtYXhQcm9maXRBc1BlcmNlbnRPZkhvdXNlOwogICAgfQoKICAgIC8qIG9ubHkgb3duZXIgYWRkcmVzcyBjYW4gc2V0IG1pbkJldCAqLwogICAgZnVuY3Rpb24gb3duZXJTZXRNaW5CZXQodWludCBuZXdNaW5pbXVtQmV0KSBwdWJsaWMKCQlvbmx5T3duZXIKICAgIHsKICAgICAgICBtaW5CZXQgPSBuZXdNaW5pbXVtQmV0OwogICAgfQoKICAgIGZ1bmN0aW9uIGdldE1pbkJldCgpIHB1YmxpYyAKICAgIG9ubHlPd25lciAKICAgIHJldHVybnModWludCkKICAgIHsKICAgICAgICByZXR1cm4gbWluQmV0OwogICAgfQoKICAgIC8qIG9ubHkgb3duZXIgYWRkcmVzcyBjYW4gdHJhbnNmZXIgZXRoZXIgKi8KICAgIGZ1bmN0aW9uIG93bmVyVHJhbnNmZXJFdGhlcihhZGRyZXNzIHNlbmRUbywgdWludCBhbW91bnQpIHB1YmxpYwoJCW9ubHlPd25lcgogICAgewogICAgICAgIC8qIHNhZmVseSB1cGRhdGUgY29udHJhY3QgYmFsYW5jZSB3aGVuIHNlbmRpbmcgb3V0IGZ1bmRzKi8KICAgICAgICBjb250cmFjdEJhbGFuY2UgPSBzYWZlU3ViKGNvbnRyYWN0QmFsYW5jZSwgYW1vdW50KTsKICAgICAgICAvKiB1cGRhdGUgbWF4IHByb2ZpdCAqLwogICAgICAgIHNldE1heFByb2ZpdCgpOwogICAgICAgIHJlcXVpcmUoc2VuZFRvLnNlbmQoYW1vdW50KSk7CiAgICAgICAgTG9nT3duZXJUcmFuc2ZlcihzZW5kVG8sIGFtb3VudCk7CiAgICB9CgogICAgLyogb25seSBvd25lciBhZGRyZXNzIGNhbiBzZXQgZW1lcmdlbmN5IHBhdXNlICMxICovCiAgICBmdW5jdGlvbiBvd25lclBhdXNlR2FtZShib29sIG5ld1N0YXR1cykgcHVibGljCgkJb25seU93bmVyCiAgICB7CgkJZ2FtZVBhdXNlZCA9IG5ld1N0YXR1czsKICAgIH0KCiAgICAvKiBvbmx5IG93bmVyIGFkZHJlc3MgY2FuIHNldCBlbWVyZ2VuY3kgcGF1c2UgIzIgKi8KICAgIGZ1bmN0aW9uIG93bmVyUGF1c2VQYXlvdXRzKGJvb2wgbmV3UGF5b3V0U3RhdHVzKSBwdWJsaWMKCQlvbmx5T3duZXIKICAgIHsKCQlwYXlvdXRzUGF1c2VkID0gbmV3UGF5b3V0U3RhdHVzOwogICAgfQoKCiAgICAvKiBvbmx5IG93bmVyIGFkZHJlc3MgY2FuIHNldCBvd25lciBhZGRyZXNzICovCiAgICBmdW5jdGlvbiBvd25lckNoYW5nZU93bmVyKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYwoJCW9ubHlPd25lcgoJewogICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9CgogICAgLyogb25seSBvd25lciBhZGRyZXNzIGNhbiBzdWljaWRlIC0gZW1lcmdlbmN5ICovCiAgICBmdW5jdGlvbiBvd25lcmtpbGwoKSBwdWJsaWMKCQlvbmx5T3duZXIKCXsKCQlzdWljaWRlKG93bmVyKTsKCX0KCn0='.
	

]
