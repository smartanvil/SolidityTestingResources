Class {
	#name : #SRT6183DD6d4418B3414c5b9e700c81A5e860a22397,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT6183DD6d4418B3414c5b9e700c81A5e860a22397 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBGdWxsRVJDMjAgewogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwogIAogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7Cn0KCmNvbnRyYWN0IEJhbGFuY2VIaXN0b3J5VG9rZW4gaXMgRnVsbEVSQzIwIHsKICBmdW5jdGlvbiBiYWxhbmNlT2ZBdEJsb2NrKGFkZHJlc3Mgd2hvLCB1aW50MjU2IGJsb2NrTnVtYmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKfQoKbGlicmFyeSBNYXRoIHsKICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW42NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1heDI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQp9CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9Cgpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCmNvbnRyYWN0IERlc3RydWN0aWJsZSBpcyBPd25hYmxlIHsKCiAgZnVuY3Rpb24gRGVzdHJ1Y3RpYmxlKCkgcHVibGljIHBheWFibGUgeyB9CgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXJzIHRoZSBjdXJyZW50IGJhbGFuY2UgdG8gdGhlIG93bmVyIGFuZCB0ZXJtaW5hdGVzIHRoZSBjb250cmFjdC4KICAgKi8KICBmdW5jdGlvbiBkZXN0cm95KCkgb25seU93bmVyIHB1YmxpYyB7CiAgICBzZWxmZGVzdHJ1Y3Qob3duZXIpOwogIH0KCiAgZnVuY3Rpb24gZGVzdHJveUFuZFNlbmQoYWRkcmVzcyBfcmVjaXBpZW50KSBvbmx5T3duZXIgcHVibGljIHsKICAgIHNlbGZkZXN0cnVjdChfcmVjaXBpZW50KTsKICB9Cn0KCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgewogIGV2ZW50IFBhdXNlKCk7CiAgZXZlbnQgVW5wYXVzZSgpOwoKICBib29sIHB1YmxpYyBwYXVzZWQgPSBmYWxzZTsKCgogIC8qKgogICAqIEBkZXYgTW9kaWZpZXIgdG8gbWFrZSBhIGZ1bmN0aW9uIGNhbGxhYmxlIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgaXMgbm90IHBhdXNlZC4KICAgKi8KICBtb2RpZmllciB3aGVuTm90UGF1c2VkKCkgewogICAgcmVxdWlyZSghcGF1c2VkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRvIG1ha2UgYSBmdW5jdGlvbiBjYWxsYWJsZSBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IGlzIHBhdXNlZC4KICAgKi8KICBtb2RpZmllciB3aGVuUGF1c2VkKCkgewogICAgcmVxdWlyZShwYXVzZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byBwYXVzZSwgdHJpZ2dlcnMgc3RvcHBlZCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHBhdXNlKCkgb25seU93bmVyIHdoZW5Ob3RQYXVzZWQgcHVibGljIHsKICAgIHBhdXNlZCA9IHRydWU7CiAgICBQYXVzZSgpOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHVucGF1c2UsIHJldHVybnMgdG8gbm9ybWFsIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gdW5wYXVzZSgpIG9ubHlPd25lciB3aGVuUGF1c2VkIHB1YmxpYyB7CiAgICBwYXVzZWQgPSBmYWxzZTsKICAgIFVucGF1c2UoKTsKICB9Cn0KCmNvbnRyYWN0IFByb2ZpdFNoYXJpbmdWMiBpcyBPd25hYmxlLCBEZXN0cnVjdGlibGUsIFBhdXNhYmxlIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIHN0cnVjdCBQZXJpb2QgewogICAgICAgIHVpbnQxMjggZW5kVGltZTsKICAgICAgICB1aW50MTI4IGJsb2NrOwogICAgICAgIHVpbnQxMjggYmFsYW5jZTsKICAgIH0KCiAgICAvLyBwdWJsaWMKICAgIEJhbGFuY2VIaXN0b3J5VG9rZW4gcHVibGljIHRva2VuOwogICAgdWludDI1NiBwdWJsaWMgcGVyaW9kRHVyYXRpb247CiAgICBQZXJpb2QgcHVibGljIGN1cnJlbnRQZXJpb2Q7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyh1aW50ID0+IGJvb2wpKSBwdWJsaWMgcGF5bWVudHM7CgogICAgLy8gaW50ZXJuYWwKCiAgICAvLyBldmVudHMKICAgIGV2ZW50IFBheW1lbnRDb21wbGV0ZWQoYWRkcmVzcyBpbmRleGVkIHJlcXVlc3RlciwgdWludCBpbmRleGVkIHBheW1lbnRQZXJpb2RCbG9jaywgdWludCBhbW91bnQpOwogICAgZXZlbnQgUGVyaW9kUmVzZXQodWludCBibG9jaywgdWludCBlbmRUaW1lLCB1aW50IGJhbGFuY2UsIHVpbnQgdG90YWxTdXBwbHkpOwoKICAgIC8vLyBAZGV2IENvbnN0cnVjdG9yIG9mIHRoZSBjb250cmFjdAogICAgZnVuY3Rpb24gUHJvZml0U2hhcmluZ1YyKGFkZHJlc3MgX3Rva2VuQWRkcmVzcykgcHVibGljIHsKICAgICAgICBwZXJpb2REdXJhdGlvbiA9IDQgd2Vla3M7CiAgICAgICAgcmVzZXRQZXJpb2QoKTsKICAgICAgICB0b2tlbiA9IEJhbGFuY2VIaXN0b3J5VG9rZW4oX3Rva2VuQWRkcmVzcyk7CiAgICB9CgogICAgLy8vIEBkZXYgRGVmYXVsdCBwYXlhYmxlIGZhbGxiYWNrLiAKICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKICAgIH0KCiAgICAvLy8gQGRldiBXaXRoZHJhd3MgdGhlIGZ1bGwgYW1vdW50IHNoYXJlZCB3aXRoIHRoZSBzZW5kZXIuCiAgICBmdW5jdGlvbiB3aXRoZHJhdygpIHB1YmxpYyB3aGVuTm90UGF1c2VkIHsKICAgICAgICB3aXRoZHJhd0Zvcihtc2cuc2VuZGVyKTsKICAgIH0KCiAgICAvLy8gQGRldiBBbGxvd3Mgc29tZW9uZSB0byBjYWxsIHdpdGhkcmF3IG9uIGJlaGFsZiBvZiBzb21lb25lIGVsc2UuIAogICAgLy8vIFVzZWZ1bCBpZiB3ZSBleHBvc2UgdmlhIHdlYjMgYnV0IG1ldGFtYXNrIGFjY291bnQgaXMgZGlmZmVyZW50IHRoYW4gb3duZXIgb2YgdG9rZW5zLgogICAgZnVuY3Rpb24gd2l0aGRyYXdGb3IoYWRkcmVzcyB0b2tlbk93bmVyKSBwdWJsaWMgd2hlbk5vdFBhdXNlZCB7CiAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhpcyBhZGRyZXNzIGhhc24ndCBiZWVuIHByZXZpb3VzbHkgcGFpZCBvdXQgZm9yIHRoaXMgcGVyaW9kLgogICAgICAgIHJlcXVpcmUoIXBheW1lbnRzW3Rva2VuT3duZXJdW2N1cnJlbnRQZXJpb2QuYmxvY2tdKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBpZiBpdCBpcyB0aW1lIHRvIGNhbGN1bGF0ZSB0aGUgbmV4dCBwYXlvdXQgcGVyaW9kLgogICAgICAgIHJlc2V0UGVyaW9kKCk7CgogICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgYW1vdW50IG9mIHRoZSBjdXJyZW50IHBheW91dCBwZXJpb2QKICAgICAgICB1aW50IHBheW1lbnQgPSBnZXRQYXltZW50VG90YWwodG9rZW5Pd25lcik7CiAgICAgICAgcmVxdWlyZShwYXltZW50ID4gMCk7CiAgICAgICAgYXNzZXJ0KHRoaXMuYmFsYW5jZSA+PSBwYXltZW50KTsKCiAgICAgICAgcGF5bWVudHNbdG9rZW5Pd25lcl1bY3VycmVudFBlcmlvZC5ibG9ja10gPSB0cnVlOwogICAgICAgIFBheW1lbnRDb21wbGV0ZWQodG9rZW5Pd25lciwgY3VycmVudFBlcmlvZC5ibG9jaywgcGF5bWVudCk7CiAgICAgICAgdG9rZW5Pd25lci50cmFuc2ZlcihwYXltZW50KTsKICAgIH0KCiAgICAvLy8gQGRldiBSZXNldHMgdGhlIHBlcmlvZCBnaXZlbiB0aGUgZHVyYXRpb24gb2YgdGhlIGN1cnJlbnQgcGVyaW9kCiAgICBmdW5jdGlvbiByZXNldFBlcmlvZCgpIHB1YmxpYyB7CiAgICAgICAgdWludCBub3dUaW1lID0gZ2V0Tm93KCk7CiAgICAgICAgaWYgKGN1cnJlbnRQZXJpb2QuZW5kVGltZSA8IG5vd1RpbWUpIHsKICAgICAgICAgICAgY3VycmVudFBlcmlvZC5lbmRUaW1lID0gdWludDEyOChub3dUaW1lLmFkZChwZXJpb2REdXJhdGlvbikpOyAKICAgICAgICAgICAgY3VycmVudFBlcmlvZC5ibG9jayA9IHVpbnQxMjgoYmxvY2subnVtYmVyKTsKICAgICAgICAgICAgY3VycmVudFBlcmlvZC5iYWxhbmNlID0gdWludDEyOCh0aGlzLmJhbGFuY2UpOwogICAgICAgICAgICBpZiAodG9rZW4gIT0gYWRkcmVzcygweDApKSB7CiAgICAgICAgICAgICAgICBQZXJpb2RSZXNldChibG9jay5udW1iZXIsIG5vd1RpbWUuYWRkKHBlcmlvZER1cmF0aW9uKSwgdGhpcy5iYWxhbmNlLCB0b2tlbi50b3RhbFN1cHBseSgpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvLy8gQGRldiBHZXRzIHRoZSB0b3RhbCBwYXltZW50IGFtb3VudCBmb3IgdGhlIHNlbmRlciBnaXZlbiB0aGUgY3VycmVudCBwZXJpb2QuCiAgICBmdW5jdGlvbiBnZXRQYXltZW50VG90YWwoYWRkcmVzcyB0b2tlbk93bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGlmIChwYXltZW50c1t0b2tlbk93bmVyXVtjdXJyZW50UGVyaW9kLmJsb2NrXSkgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CgogICAgICAgIHVpbnQgbm93VGltZSA9IGdldE5vdygpOwogICAgICAgIHVpbnQgdG9rZW5Pd25lckJhbGFuY2UgPSBjdXJyZW50UGVyaW9kLmVuZFRpbWUgPCBub3dUaW1lID8gIAogICAgICAgICAgICAvLyBUaGlzIHdpbGwgbmV2ZXIgaGl0IHdoaWxlIHdpdGhkcmF3aW5nLCBidXQgd2lsbCBiZSB1c2VkIGluIHRoZSBjYXNlIHdoZXJlIHRoZSBwZXJpb2QKICAgICAgICAgICAgLy8gaGFzIGVuZGVkLCBidXQgaXMgYXdhaXRpbmcgdGhlIGZpcnN0IHdpdGhyYXdsLiBJdCB3aWxsIGF2b2lkIHRoZSBjYXNlIHdoZXJlIHRoZSBjdXJyZW50IHBlcmlvZAogICAgICAgICAgICAvLyByZXBvcnRzIGFuIGFtb3VudCBncmVhdGVyIHRoYW4gdGhlIG5leHQgcGVyaW9kIHdpdGhkcmF3bCBhbW91bnQuCiAgICAgICAgICAgIHRva2VuLmJhbGFuY2VPZkF0QmxvY2sodG9rZW5Pd25lciwgYmxvY2subnVtYmVyKSA6CiAgICAgICAgICAgIC8vIEdldCB0aGUgYW1vdW50IG9mIGJhbGFuY2UgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgcGF5bWVudCBwZXJpb2QKICAgICAgICAgICAgdG9rZW4uYmFsYW5jZU9mQXRCbG9jayh0b2tlbk93bmVyLCBjdXJyZW50UGVyaW9kLmJsb2NrKTsKICAgICAgICAgICAgCiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBhbW91bnQgb2YgdGhlIGN1cnJlbnQgcGF5b3V0IHBlcmlvZAogICAgICAgIHJldHVybiBjYWxjdWxhdGVQYXltZW50KHRva2VuT3duZXJCYWxhbmNlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBpc1BheW1lbnRDb21wbGV0ZWQoYWRkcmVzcyB0b2tlbk93bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBwYXltZW50c1t0b2tlbk93bmVyXVtjdXJyZW50UGVyaW9kLmJsb2NrXTsKICAgIH0KCiAgICAvLy8gQGRldiBVcGRhdGVzIHRoZSB0b2tlbiBhZGRyZXNzIG9mIHRoZSBwYXltZW50IHR5cGUuCiAgICBmdW5jdGlvbiB1cGRhdGVUb2tlbihhZGRyZXNzIHRva2VuQWRkcmVzcykgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgdG9rZW4gPSBCYWxhbmNlSGlzdG9yeVRva2VuKHRva2VuQWRkcmVzcyk7CiAgICB9CgogICAgLy8vIEBkZXYgQ2FsY3VsYXRlcyB0aGUgcGF5bWVudCBnaXZlbiB0aGUgc2VuZGVyIGJhbGFuY2UgZm9yIHRoZSBjdXJyZW50IHBlcmlvZC4KICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVBheW1lbnQodWludCB0b2tlbk93bmVyQmFsYW5jZSkgcHVibGljIGNvbnN0YW50IHJldHVybnModWludCkgewogICAgICAgIHJldHVybiB0b2tlbk93bmVyQmFsYW5jZS5tdWwoY3VycmVudFBlcmlvZC5iYWxhbmNlKS5kaXYodG9rZW4udG90YWxTdXBwbHkoKSk7CiAgICB9CgogICAgLy8vIEBkZXYgSW50ZXJuYWwgZnVuY3Rpb24gZm9yIG1vY2tpbmcgcHVycG9zZXMKICAgIGZ1bmN0aW9uIGdldE5vdygpIGludGVybmFsIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBub3c7CiAgICB9CgogICAgLy8vIEBkZXYgVXBkYXRlcyB0aGUgcGVyaW9kIGR1cmF0aW9uCiAgICBmdW5jdGlvbiB1cGRhdGVQZXJpb2REdXJhdGlvbih1aW50IG5ld1BlcmlvZER1cmF0aW9uKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG5ld1BlcmlvZER1cmF0aW9uID4gMCk7CiAgICAgICAgcGVyaW9kRHVyYXRpb24gPSBuZXdQZXJpb2REdXJhdGlvbjsKICAgIH0KCiAgICAvLy8gQGRldiBGb3JjZXMgYSBwZXJpb2QgcmVzZXQKICAgIGZ1bmN0aW9uIGZvcmNlUmVzZXRQZXJpb2QoKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICB1aW50IG5vd1RpbWUgPSBnZXROb3coKTsKICAgICAgICBjdXJyZW50UGVyaW9kLmVuZFRpbWUgPSB1aW50MTI4KG5vd1RpbWUuYWRkKHBlcmlvZER1cmF0aW9uKSk7IAogICAgICAgIGN1cnJlbnRQZXJpb2QuYmxvY2sgPSB1aW50MTI4KGJsb2NrLm51bWJlcik7CiAgICAgICAgY3VycmVudFBlcmlvZC5iYWxhbmNlID0gdWludDEyOCh0aGlzLmJhbGFuY2UpOwogICAgICAgIGlmICh0b2tlbiAhPSBhZGRyZXNzKDB4MCkpIHsKICAgICAgICAgICAgUGVyaW9kUmVzZXQoYmxvY2subnVtYmVyLCBub3dUaW1lLmFkZChwZXJpb2REdXJhdGlvbiksIHRoaXMuYmFsYW5jZSwgdG9rZW4udG90YWxTdXBwbHkoKSk7CiAgICAgICAgfQogICAgfQp9'.
	

]
