Class {
	#name : #SRT32ff276e98517ef6e0ad7bc7b2674baa0f1c388b,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT32ff276e98517ef6e0ad7bc7b2674baa0f1c388b >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgoKY29udHJhY3QgVG9rZW4gewogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgICAgICBhc3NlcnQoYyA+PSBhKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KfQoKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKCiAgICAvKioKICAgICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAgICogYWNjb3VudC4KICAgICAqLwogICAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgoKICAgIC8qKgogICAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAgICovCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKCiAgICAvKioKICAgICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobmV3T3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KCn0KCgovKioKICogQHRpdGxlIFBhdXNhYmxlCiAqIEBkZXYgQmFzZSBjb250cmFjdCB3aGljaCBhbGxvd3MgY2hpbGRyZW4gdG8gaW1wbGVtZW50IGFuIGVtZXJnZW5jeSBzdG9wIG1lY2hhbmlzbS4KICovCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgewogICAgZXZlbnQgUGF1c2UoKTsKCiAgICBldmVudCBVbnBhdXNlKCk7CgogICAgYm9vbCBwdWJsaWMgcGF1c2VkID0gZmFsc2U7CgoKICAgIC8qKgogICAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgcGF1c2VkCiAgICAgKi8KICAgIG1vZGlmaWVyIHdoZW5Ob3RQYXVzZWQoKSB7CiAgICAgICAgcmVxdWlyZSghcGF1c2VkKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgTk9UIHBhdXNlZAogICAgICovCiAgICBtb2RpZmllciB3aGVuUGF1c2VkKCkgewogICAgICAgIHJlcXVpcmUocGF1c2VkKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHBhdXNlLCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlCiAgICAgKi8KICAgIGZ1bmN0aW9uIHBhdXNlKCkgb25seU93bmVyIHdoZW5Ob3RQYXVzZWQgewogICAgICAgIHBhdXNlZCA9IHRydWU7CiAgICAgICAgUGF1c2UoKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byB1bnBhdXNlLCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZQogICAgICovCiAgICBmdW5jdGlvbiB1bnBhdXNlKCkgb25seU93bmVyIHdoZW5QYXVzZWQgewogICAgICAgIHBhdXNlZCA9IGZhbHNlOwogICAgICAgIFVucGF1c2UoKTsKICAgIH0KfQoKCmNvbnRyYWN0IEJpbGxQb2tlclByZUlDTyBpcyBPd25hYmxlLCBQYXVzYWJsZSB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgICAvKiBUaGUgcGFydHkgd2hvIGhvbGRzIHRoZSBmdWxsIHRva2VuIHBvb2wgYW5kIGhhcyBhcHByb3ZlKCknZWQgdG9rZW5zIGZvciB0aGlzIGNyb3dkc2FsZSAqLwogICAgYWRkcmVzcyBwdWJsaWMgdG9rZW5XYWxsZXQgPSAweGY5MUU2ZDYxMWVjMzVCOTg1YkFEQUQyRjBEQTk2ODIwOTMwQjlCRDI7CgogICAgdWludCBwdWJsaWMgdG9rZW5zU29sZDsKCiAgICB1aW50IHB1YmxpYyB3ZWlSYWlzZWQ7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgaG9sZFRva2VuczsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBwdXJjaGFzZVRva2VuczsKCiAgICBhZGRyZXNzW10gcHVibGljIGhvbGRUb2tlbkludmVzdG9yczsKCiAgICBUb2tlbiBwdWJsaWMgdG9rZW4gPSBUb2tlbigweGMzMDVmY2RjMzAwZmE0M2M1MjdlOTMyNzcxMWYzNjBlNzk1MjhhNzApOwoKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IG1pbkludmVzdCA9IDAuMDAwMSBldGhlcjsKCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCB0b2tlbnNMaW1pdCA9IDI1MDAwMDAwIGV0aGVyOwoKICAgIC8vIHN0YXJ0IGFuZCBlbmQgdGltZXN0YW1wcyB3aGVyZSBpbnZlc3RtZW50cyBhcmUgYWxsb3dlZAogICAgdWludDI1NiBwdWJsaWMgc3RhcnRUaW1lID0gMTUxMDMzOTUwMDsgLy8gMTQgTm92ZW1iZXIgMjAxNyAwMDowMCBVVEMKCiAgICB1aW50MjU2IHB1YmxpYyBlbmRUaW1lID0gMTUxOTY4OTYwMDsgLy8gMjggRGVjZW1iZXIgMjAxNyAwMDowMCBVVEMKCiAgICB1aW50IHB1YmxpYyBwcmljZSA9IDAuMDAwMSBldGhlcjsKCiAgICBib29sIHB1YmxpYyBpc0hvbGRUb2tlbnMgPSBmYWxzZTsKCiAgICB1aW50IHB1YmxpYyBpbnZlc3RvckNvdW50OwoKICAgIG1hcHBpbmcgKGJ5dGVzMzIgPT4gUHJvbW8pIHB1YmxpYyBwcm9tb01hcDsKCiAgICBzdHJ1Y3QgUHJvbW8gewogICAgYm9vbCBlbmFibGU7CiAgICB1aW50IGludmVzdG9yUGVyY2VudFRva2VuOwogICAgYWRkcmVzcyBkZWFsZXI7CiAgICB1aW50IGRlYWxlclBlcmNlbnRUb2tlbjsKICAgIHVpbnQgZGVhbGVyUGVyY2VudEVUSDsKICAgIHVpbnQgYnV5Q291bnQ7CiAgICB1aW50IGludmVzdG9yVG9rZW5BbW91bnQ7CiAgICB1aW50IGRlYWxlclRva2VuQW1vdW50OwogICAgdWludCBpbnZlc3RvckV0aEFtb3VudDsKICAgIHVpbnQgZGVhbGVyRXRoQW1vdW50OwogICAgfQogICAgCiAgICBmdW5jdGlvbiBhZGRQcm9tbyhieXRlczMyIHByb21vUHVibGljS2V5LCB1aW50IHVzZXJQZXJjZW50VG9rZW4sIGFkZHJlc3MgZGVhbGVyLCB1aW50IGRlYWxlclBlcmNlbnRUb2tlbiwgdWludCBkZWFsZXJQZXJjZW50RVRIKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBwcm9tb01hcFtwcm9tb1B1YmxpY0tleV0gPSBQcm9tbyh0cnVlLCB1c2VyUGVyY2VudFRva2VuLCBkZWFsZXIsIGRlYWxlclBlcmNlbnRUb2tlbiwgZGVhbGVyUGVyY2VudEVUSCwgMCwgMCwgMCwgMCwgMCk7CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlUHJvbW8oYnl0ZXMzMiBwcm9tb1B1YmxpY0tleSkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcHJvbW9NYXBbcHJvbW9QdWJsaWNLZXldLmVuYWJsZSA9IGZhbHNlOwogICAgfQoKCiAgICAvKioKICAgICAqIGV2ZW50IGZvciB0b2tlbiBwdXJjaGFzZSBsb2dnaW5nCiAgICAgKiBAcGFyYW0gcHVyY2hhc2VyIHdobyBwYWlkIGZvciB0aGUgdG9rZW5zCiAgICAgKiBAcGFyYW0gYmVuZWZpY2lhcnkgd2hvIGdvdCB0aGUgdG9rZW5zCiAgICAgKiBAcGFyYW0gdmFsdWUgd2VpcyBwYWlkIGZvciBwdXJjaGFzZQogICAgICogQHBhcmFtIGFtb3VudCBhbW91bnQgb2YgdG9rZW5zIHB1cmNoYXNlZAogICAgICovCiAgICBldmVudCBUb2tlblB1cmNoYXNlKGFkZHJlc3MgaW5kZXhlZCBwdXJjaGFzZXIsIGFkZHJlc3MgaW5kZXhlZCBiZW5lZmljaWFyeSwgdWludDI1NiB2YWx1ZSwgdWludDI1NiBhbW91bnQpOwoKICAgIC8vIGZhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGJ1eSB0b2tlbnMKICAgIGZ1bmN0aW9uKCkgcHVibGljIHBheWFibGUgewogICAgICAgIGJ1eVRva2Vucyhtc2cuc2VuZGVyKTsKICAgIH0KCiAgICAvLyBsb3cgbGV2ZWwgdG9rZW4gcHVyY2hhc2UgZnVuY3Rpb24KICAgIGZ1bmN0aW9uIGJ1eVRva2VucyhhZGRyZXNzIGJlbmVmaWNpYXJ5KSBwdWJsaWMgd2hlbk5vdFBhdXNlZCBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKHN0YXJ0VGltZSA8PSBub3cgJiYgbm93IDw9IGVuZFRpbWUpOwoKICAgICAgICB1aW50IHdlaUFtb3VudCA9IG1zZy52YWx1ZTsKCiAgICAgICAgcmVxdWlyZSh3ZWlBbW91bnQgPj0gbWluSW52ZXN0KTsKCiAgICAgICAgdWludCB0b2tlbkFtb3VudEVuYWJsZSA9IHRva2Vuc0xpbWl0LnN1Yih0b2tlbnNTb2xkKTsKCiAgICAgICAgcmVxdWlyZSh0b2tlbkFtb3VudEVuYWJsZSA+IDApOwoKICAgICAgICB1aW50IHRva2VuQW1vdW50ID0gd2VpQW1vdW50IC8gcHJpY2UgKiAxIGV0aGVyOwoKICAgICAgICBpZiAodG9rZW5BbW91bnQgPiB0b2tlbkFtb3VudEVuYWJsZSkgewogICAgICAgICAgICB0b2tlbkFtb3VudCA9IHRva2VuQW1vdW50RW5hYmxlOwogICAgICAgICAgICB3ZWlBbW91bnQgPSB0b2tlbkFtb3VudCAqIHByaWNlIC8gMSBldGhlcjsKICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2Zlcihtc2cudmFsdWUuc3ViKHdlaUFtb3VudCkpOwoKCiAgICAgICAgICAgIGlmIChtc2cuZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBQcm9tbyBzdG9yYWdlIHByb21vID0gcHJvbW9NYXBbc2hhMyhtc2cuZGF0YSldOwogICAgICAgICAgICAgICAgaWYgKHByb21vLmVuYWJsZSAmJiBwcm9tby5kZWFsZXJQZXJjZW50RVRIID4gMCkgewogICAgICAgICAgICAgICAgICAgIHVpbnQgZGVhbGVyRXRoQW1vdW50ID0gd2VpQW1vdW50ICogcHJvbW8uZGVhbGVyUGVyY2VudEVUSCAvIDEwMDAwOwogICAgICAgICAgICAgICAgICAgIHByb21vLmRlYWxlci50cmFuc2ZlcihkZWFsZXJFdGhBbW91bnQpOwogICAgICAgICAgICAgICAgICAgIHdlaUFtb3VudCA9IHdlaUFtb3VudC5zdWIoZGVhbGVyRXRoQW1vdW50KTsKCiAgICAgICAgICAgICAgICAgICAgcHJvbW8uZGVhbGVyRXRoQW1vdW50ICs9IGRlYWxlckV0aEFtb3VudDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdWludCBjb3VudEJvbnVzQW1vdW50ID0gdG9rZW5BbW91bnQgKiBnZXRDb3VudEJvbnVzKHdlaUFtb3VudCkgLyAxMDAwOwogICAgICAgICAgICB1aW50IHRpbWVCb251c0Ftb3VudCA9IHRva2VuQW1vdW50ICogZ2V0VGltZUJvbnVzKG5vdykgLyAxMDAwOwoKICAgICAgICAgICAgaWYgKG1zZy5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIGJ5dGVzMzIgcHJvbW9QdWJsaWNLZXkgPSBzaGEzKG1zZy5kYXRhKTsKICAgICAgICAgICAgICAgIHByb21vID0gcHJvbW9NYXBbcHJvbW9QdWJsaWNLZXldOwogICAgICAgICAgICAgICAgaWYgKHByb21vLmVuYWJsZSkgewogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHByb21vLmJ1eUNvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgcHJvbW8uaW52ZXN0b3JUb2tlbkFtb3VudCArPSB0b2tlbkFtb3VudDsKICAgICAgICAgICAgICAgICAgICBwcm9tby5pbnZlc3RvckV0aEFtb3VudCArPSB3ZWlBbW91bnQ7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgaWYgKHByb21vLmRlYWxlclBlcmNlbnRUb2tlbiA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdWludCBkZWFsZXJUb2tlbkFtb3VudCA9IHRva2VuQW1vdW50ICogcHJvbW8uZGVhbGVyUGVyY2VudFRva2VuIC8gMTAwMDA7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUb2tlbnMocHJvbW8uZGVhbGVyLCBkZWFsZXJUb2tlbkFtb3VudCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHByb21vLmRlYWxlclRva2VuQW1vdW50ICs9IGRlYWxlclRva2VuQW1vdW50OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKHByb21vLmRlYWxlclBlcmNlbnRFVEggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYWxlckV0aEFtb3VudCA9IHdlaUFtb3VudCAqIHByb21vLmRlYWxlclBlcmNlbnRFVEggLyAxMDAwMDsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvbW8uZGVhbGVyLnRyYW5zZmVyKGRlYWxlckV0aEFtb3VudCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHdlaUFtb3VudCA9IHdlaUFtb3VudC5zdWIoZGVhbGVyRXRoQW1vdW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvbW8uZGVhbGVyRXRoQW1vdW50ICs9IGRlYWxlckV0aEFtb3VudDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiAocHJvbW8uaW52ZXN0b3JQZXJjZW50VG9rZW4gPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQgcHJvbW9Cb251c0Ftb3VudCA9IHRva2VuQW1vdW50ICogcHJvbW8uaW52ZXN0b3JQZXJjZW50VG9rZW4gLyAxMDAwMDsKICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5BbW91bnQgKz0gcHJvbW9Cb251c0Ftb3VudDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICB0b2tlbkFtb3VudCArPSBjb3VudEJvbnVzQW1vdW50ICsgdGltZUJvbnVzQW1vdW50OwoKICAgICAgICAgICAgaWYgKHRva2VuQW1vdW50ID4gdG9rZW5BbW91bnRFbmFibGUpIHsKICAgICAgICAgICAgICAgIHRva2VuQW1vdW50ID0gdG9rZW5BbW91bnRFbmFibGU7CiAgICAgICAgICAgIH0KICAgICAgICB9CgoKICAgICAgICBpZiAocHVyY2hhc2VUb2tlbnNbYmVuZWZpY2lhcnldID09IDApIGludmVzdG9yQ291bnQrKzsKCiAgICAgICAgcHVyY2hhc2VUb2tlbnNbYmVuZWZpY2lhcnldID0gcHVyY2hhc2VUb2tlbnNbYmVuZWZpY2lhcnldLmFkZCh0b2tlbkFtb3VudCk7CgogICAgICAgIHNlbmRUb2tlbnMoYmVuZWZpY2lhcnksIHRva2VuQW1vdW50KTsKCiAgICAgICAgd2VpUmFpc2VkID0gd2VpUmFpc2VkLmFkZCh3ZWlBbW91bnQpOwoKICAgICAgICBUb2tlblB1cmNoYXNlKG1zZy5zZW5kZXIsIGJlbmVmaWNpYXJ5LCB3ZWlBbW91bnQsIHRva2VuQW1vdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZW5kVG9rZW5zKGFkZHJlc3MgdG8sIHVpbnQgdG9rZW5BbW91bnQpIHByaXZhdGUgewogICAgICAgIGlmIChpc0hvbGRUb2tlbnMpIHsKICAgICAgICAgICAgaWYgKGhvbGRUb2tlbnNbdG9dID09IDApIGhvbGRUb2tlbkludmVzdG9ycy5wdXNoKHRvKTsKICAgICAgICAgICAgaG9sZFRva2Vuc1t0b10gPSBob2xkVG9rZW5zW3RvXS5hZGQodG9rZW5BbW91bnQpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmVxdWlyZSh0b2tlbi50cmFuc2ZlckZyb20odG9rZW5XYWxsZXQsIHRvLCB0b2tlbkFtb3VudCkpOwogICAgICAgIH0KCiAgICAgICAgdG9rZW5zU29sZCA9IHRva2Vuc1NvbGQuYWRkKHRva2VuQW1vdW50KTsKICAgIH0KCiAgICB1aW50W10gZXRoZXJGb3JDb3VudEJvbnVzID0gWzIgZXRoZXIsIDMgZXRoZXIsIDUgZXRoZXIsIDcgZXRoZXIsIDkgZXRoZXIsIDEyIGV0aGVyLCAxNSBldGhlciwgMjAgZXRoZXIsIDI1IGV0aGVyLCAzMCBldGhlciwgMzUgZXRoZXIsIDQwIGV0aGVyLCA0NSBldGhlciwgNTAgZXRoZXIsIDYwIGV0aGVyLCA3MCBldGhlciwgODAgZXRoZXIsIDkwIGV0aGVyLCAxMDAgZXRoZXIsIDEyMCBldGhlciwgMTUwIGV0aGVyLCAyMDAgZXRoZXIsIDI1MCBldGhlciwgMzAwIGV0aGVyLCAzNTAgZXRoZXIsIDQwMCBldGhlciwgNDUwIGV0aGVyLCA1MDAgZXRoZXJdOwoKICAgIHVpbnRbXSBhbW91bnRGb3JDb3VudEJvbnVzID0gWzAsIDUsIDEwLCAxNSwgMjAsIDI1LCAzMCwgMzUsIDQwLCA0NSwgNTAsIDU1LCA2MCwgNjUsIDcwLCA3NSwgODAsIDkwLCAxMDAsIDEwNSwgMTEwLCAxMTUsIDEyMCwgMTI1LCAxMzAsIDEzNSwgMTQwLCAxNDUsIDE1MF07CgoKICAgIGZ1bmN0aW9uIGdldENvdW50Qm9udXModWludCB3ZWlBbW91bnQpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgZXRoZXJGb3JDb3VudEJvbnVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmICh3ZWlBbW91bnQgPCBldGhlckZvckNvdW50Qm9udXNbaV0pIHJldHVybiBhbW91bnRGb3JDb3VudEJvbnVzW2ldOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYW1vdW50Rm9yQ291bnRCb251c1thbW91bnRGb3JDb3VudEJvbnVzLmxlbmd0aCAtIDFdOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFRpbWVCb251cyh1aW50IHRpbWUpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgaWYgKHRpbWUgPCBzdGFydFRpbWUgKyA2MDQ4MDApIHJldHVybiAyNTA7CiAgICAgICAgaWYgKHRpbWUgPCBzdGFydFRpbWUgKyA2MDQ4MDApIHJldHVybiAyMDA7CiAgICAgICAgaWYgKHRpbWUgPCBzdGFydFRpbWUgKyAyNTkyMDApIHJldHVybiAxMDA7CiAgICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgZnVuY3Rpb24gd2l0aGRyYXdhbChhZGRyZXNzIHRvKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICB0by50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgfQoKICAgIGZ1bmN0aW9uIGhvbGRUb2tlbkludmVzdG9yc0NvdW50KCkgcHVibGljIGNvbnN0YW50IHJldHVybnModWludCl7CiAgICAgICAgcmV0dXJuIGhvbGRUb2tlbkludmVzdG9ycy5sZW5ndGg7CiAgICB9CgogICAgdWludCBwdWJsaWMgc2VuZEludmVzdG9ySW5kZXggPSAwOwoKICAgIGZ1bmN0aW9uIGZpbmFsU2VuZFRva2VucygpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIGlzSG9sZFRva2VucyA9IGZhbHNlOwogICAgICAgIAogICAgICAgIGZvciAodWludCBpID0gc2VuZEludmVzdG9ySW5kZXg7IGkgPCBob2xkVG9rZW5JbnZlc3RvcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgYWRkcmVzcyBpbnZlc3RvciA9IGhvbGRUb2tlbkludmVzdG9yc1tpXTsKICAgICAgICAgICAgdWludCB0b2tlbkFtb3VudCA9IGhvbGRUb2tlbnNbaW52ZXN0b3JdOwoKICAgICAgICAgICAgaWYgKHRva2VuQW1vdW50ID4gMCkgewogICAgICAgICAgICAgICAgaG9sZFRva2Vuc1tpbnZlc3Rvcl0gPSAwOwogICAgICAgICAgICAgICAgcmVxdWlyZSh0b2tlbi50cmFuc2ZlckZyb20odG9rZW5XYWxsZXQsIGludmVzdG9yLCB0b2tlbkFtb3VudCkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAobXNnLmdhcyA8IDEwMDAwMCkgewogICAgICAgICAgICAgICAgc2VuZEludmVzdG9ySW5kZXggPSBpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBzZW5kSW52ZXN0b3JJbmRleCA9IGhvbGRUb2tlbkludmVzdG9ycy5sZW5ndGg7CiAgICB9Cgp9'.
	

]
