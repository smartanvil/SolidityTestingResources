Class {
	#name : #SRT9ab055fd8189a4128f5940f0e1b3f690afacd80c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9ab055fd8189a4128f5940f0e1b3f690afacd80c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7Ci8qKgogKiBAdGl0bGUgRVJDMjAKICogQGRldiBFUkMyMCBpbnRlcmZhY2UKICovCmNvbnRyYWN0IEVSQzIwIHsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9Ci8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgKi8KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KfQovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CmNvbnRyYWN0IENvbnRyb2xsZWQgewogICAgLy8vIEBub3RpY2UgVGhlIGFkZHJlc3Mgb2YgdGhlIGNvbnRyb2xsZXIgaXMgdGhlIG9ubHkgYWRkcmVzcyB0aGF0IGNhbiBjYWxsCiAgICAvLy8gIGEgZnVuY3Rpb24gd2l0aCB0aGlzIG1vZGlmaWVyCiAgICBtb2RpZmllciBvbmx5Q29udHJvbGxlciB7IHJlcXVpcmUobXNnLnNlbmRlciA9PSBjb250cm9sbGVyKTsgXzsgfQogICAgYWRkcmVzcyBwdWJsaWMgY29udHJvbGxlcjsKICAgIGZ1bmN0aW9uIENvbnRyb2xsZWQoKSBwdWJsaWMgeyBjb250cm9sbGVyID0gbXNnLnNlbmRlcjt9CiAgICAvLy8gQG5vdGljZSBDaGFuZ2VzIHRoZSBjb250cm9sbGVyIG9mIHRoZSBjb250cmFjdAogICAgLy8vIEBwYXJhbSBfbmV3Q29udHJvbGxlciBUaGUgbmV3IGNvbnRyb2xsZXIgb2YgdGhlIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBjaGFuZ2VDb250cm9sbGVyKGFkZHJlc3MgX25ld0NvbnRyb2xsZXIpIHB1YmxpYyBvbmx5Q29udHJvbGxlciB7CiAgICAgICAgY29udHJvbGxlciA9IF9uZXdDb250cm9sbGVyOwogICAgfQp9Ci8qKgogKiBAdGl0bGUgTWluaU1lIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwTWluaU1lIGlzIEVSQzIwLCBDb250cm9sbGVkIHsKICAgIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudCwgYnl0ZXMgX2V4dHJhRGF0YSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZkF0KGFkZHJlc3MgX293bmVyLCB1aW50IF9ibG9ja051bWJlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludCk7CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseUF0KHVpbnQgX2Jsb2NrTnVtYmVyKSBwdWJsaWMgdmlldyByZXR1cm5zKHVpbnQpOwogICAgZnVuY3Rpb24gY3JlYXRlQ2xvbmVUb2tlbihzdHJpbmcgX2Nsb25lVG9rZW5OYW1lLCB1aW50OCBfY2xvbmVEZWNpbWFsVW5pdHMsIHN0cmluZyBfY2xvbmVUb2tlblN5bWJvbCwgdWludCBfc25hcHNob3RCbG9jaywgYm9vbCBfdHJhbnNmZXJzRW5hYmxlZCkgcHVibGljIHJldHVybnMoYWRkcmVzcyk7CiAgICBmdW5jdGlvbiBnZW5lcmF0ZVRva2VucyhhZGRyZXNzIF9vd25lciwgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBkZXN0cm95VG9rZW5zKGFkZHJlc3MgX293bmVyLCB1aW50IF9hbW91bnQpICBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBlbmFibGVUcmFuc2ZlcnMoYm9vbCBfdHJhbnNmZXJzRW5hYmxlZCkgcHVibGljOwogICAgZnVuY3Rpb24gaXNDb250cmFjdChhZGRyZXNzIF9hZGRyKSBpbnRlcm5hbCB2aWV3IHJldHVybnMoYm9vbCk7CiAgICBmdW5jdGlvbiBjbGFpbVRva2VucyhhZGRyZXNzIF90b2tlbikgcHVibGljOwogICAgZXZlbnQgQ2xhaW1lZFRva2VucyhhZGRyZXNzIGluZGV4ZWQgX3Rva2VuLCBhZGRyZXNzIGluZGV4ZWQgX2NvbnRyb2xsZXIsIHVpbnQgX2Ftb3VudCk7CiAgICBldmVudCBOZXdDbG9uZVRva2VuKGFkZHJlc3MgaW5kZXhlZCBfY2xvbmVUb2tlbiwgdWludCBfc25hcHNob3RCbG9jayk7Cn0KLy8vIEBkZXYgVGhlIHRva2VuIGNvbnRyb2xsZXIgY29udHJhY3QgbXVzdCBpbXBsZW1lbnQgdGhlc2UgZnVuY3Rpb25zCmNvbnRyYWN0IFRva2VuQ29udHJvbGxlciB7CiAgICBFUkMyME1pbmlNZSBwdWJsaWMgZXRoZWFsVG9rZW47CiAgICBhZGRyZXNzIHB1YmxpYyBTQUxFOyAvLyBhZGRyZXNzIHdoZXJlIHNhbGUgdG9rZW5zIGFyZSBsb2NhdGVkCiAgICAvLy8gQG5vdGljZSBuZWVkZWQgZm9yIGhvZGxlciBoYW5kbGluZwogICAgZnVuY3Rpb24gYWRkSG9kbGVyU3Rha2UoYWRkcmVzcyBfYmVuZWZpY2lhcnksIHVpbnQgX3N0YWtlKSBwdWJsaWM7CiAgICBmdW5jdGlvbiBzZXRIb2RsZXJTdGFrZShhZGRyZXNzIF9iZW5lZmljaWFyeSwgdWludDI1NiBfc3Rha2UpIHB1YmxpYzsKICAgIGZ1bmN0aW9uIHNldEhvZGxlclRpbWUodWludDI1NiBfdGltZSkgcHVibGljOwogICAgLy8vIEBub3RpY2UgQ2FsbGVkIHdoZW4gYF9vd25lcmAgc2VuZHMgZXRoZXIgdG8gdGhlIE1pbmlNZSBUb2tlbiBjb250cmFjdAogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdGhhdCBzZW50IHRoZSBldGhlciB0byBjcmVhdGUgdG9rZW5zCiAgICAvLy8gQHJldHVybiBUcnVlIGlmIHRoZSBldGhlciBpcyBhY2NlcHRlZCwgZmFsc2UgaWYgaXQgdGhyb3dzCiAgICBmdW5jdGlvbiBwcm94eVBheW1lbnQoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBwYXlhYmxlIHJldHVybnMoYm9vbCk7CiAgICAvLy8gQG5vdGljZSBOb3RpZmllcyB0aGUgY29udHJvbGxlciBhYm91dCBhIHRva2VuIHRyYW5zZmVyIGFsbG93aW5nIHRoZQogICAgLy8vICBjb250cm9sbGVyIHRvIHJlYWN0IGlmIGRlc2lyZWQKICAgIC8vLyBAcGFyYW0gX2Zyb20gVGhlIG9yaWdpbiBvZiB0aGUgdHJhbnNmZXIKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgdHJhbnNmZXIKICAgIC8vLyBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IG9mIHRoZSB0cmFuc2ZlcgogICAgLy8vIEByZXR1cm4gRmFsc2UgaWYgdGhlIGNvbnRyb2xsZXIgZG9lcyBub3QgYXV0aG9yaXplIHRoZSB0cmFuc2ZlcgogICAgZnVuY3Rpb24gb25UcmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyhib29sKTsKICAgIC8vLyBAbm90aWNlIE5vdGlmaWVzIHRoZSBjb250cm9sbGVyIGFib3V0IGFuIGFwcHJvdmFsIGFsbG93aW5nIHRoZQogICAgLy8vICBjb250cm9sbGVyIHRvIHJlYWN0IGlmIGRlc2lyZWQKICAgIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRoYXQgY2FsbHMgYGFwcHJvdmUoKWAKICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIHNwZW5kZXIgaW4gdGhlIGBhcHByb3ZlKClgIGNhbGwKICAgIC8vLyBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IGluIHRoZSBgYXBwcm92ZSgpYCBjYWxsCiAgICAvLy8gQHJldHVybiBGYWxzZSBpZiB0aGUgY29udHJvbGxlciBkb2VzIG5vdCBhdXRob3JpemUgdGhlIGFwcHJvdmFsCiAgICBmdW5jdGlvbiBvbkFwcHJvdmUoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2Ftb3VudCkgcHVibGljIHJldHVybnMoYm9vbCk7Cn0KLyoqCiAqIEB0aXRsZSBIb2RsZXIKICogQGRldiBIYW5kbGVzIGhvZGxlciByZXdhcmQsIFRva2VuQ29udHJvbGxlciBzaG91bGQgY3JlYXRlIGFuZCBvd24gaXQuCiAqLwpjb250cmFjdCBIb2RsZXIgaXMgT3duYWJsZSB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKICAgIC8vIEhPRExFUiByZXdhcmQgdHJhY2tlcgogICAgLy8gc3Rha2UgYW1vdW50IHBlciBhZGRyZXNzCiAgICBzdHJ1Y3QgSE9ETCB7CiAgICAgICAgdWludDI1NiBzdGFrZTsKICAgICAgICAvLyBtb3ZpbmcgQU5ZIGZ1bmRzIGludmFsaWRhdGVzIGhvZGxpbmcgb2YgdGhlIGFkZHJlc3MKICAgICAgICBib29sIGludmFsaWQ7CiAgICAgICAgYm9vbCBjbGFpbWVkM007CiAgICAgICAgYm9vbCBjbGFpbWVkNk07CiAgICAgICAgYm9vbCBjbGFpbWVkOU07CiAgICB9CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IEhPREwpIHB1YmxpYyBob2RsZXJTdGFrZXM7CiAgICAvLyB0b3RhbCBjdXJyZW50IHN0YWtpbmcgdmFsdWUgYW5kIGhvZGxlciBhZGRyZXNzZXMKICAgIHVpbnQyNTYgcHVibGljIGhvZGxlclRvdGFsVmFsdWU7CiAgICB1aW50MjU2IHB1YmxpYyBob2RsZXJUb3RhbENvdW50OwogICAgLy8gc3RvcmUgZGF0ZXMgYW5kIHRvdGFsIHN0YWtlIHZhbHVlcyBmb3IgMyAtIDYgLSA5IG1vbnRocyBhZnRlciBub3JtYWwgc2FsZQogICAgdWludDI1NiBwdWJsaWMgaG9kbGVyVG90YWxWYWx1ZTNNOwogICAgdWludDI1NiBwdWJsaWMgaG9kbGVyVG90YWxWYWx1ZTZNOwogICAgdWludDI1NiBwdWJsaWMgaG9kbGVyVG90YWxWYWx1ZTlNOwogICAgdWludDI1NiBwdWJsaWMgaG9kbGVyVGltZVN0YXJ0OwogICAgdWludDI1NiBwdWJsaWMgaG9kbGVyVGltZTNNOwogICAgdWludDI1NiBwdWJsaWMgaG9kbGVyVGltZTZNOwogICAgdWludDI1NiBwdWJsaWMgaG9kbGVyVGltZTlNOwogICAgLy8gcmV3YXJkIEhFQUwgdG9rZW4gYW1vdW50CiAgICB1aW50MjU2IHB1YmxpYyBUT0tFTl9IT0RMXzNNOwogICAgdWludDI1NiBwdWJsaWMgVE9LRU5fSE9ETF82TTsKICAgIHVpbnQyNTYgcHVibGljIFRPS0VOX0hPRExfOU07CiAgICAvLyB0b3RhbCBhbW91bnQgb2YgdG9rZW5zIGNsYWltZWQgc28gZmFyCiAgICB1aW50MjU2IHB1YmxpYyBjbGFpbWVkVG9rZW5zOwogICAgCiAgICBldmVudCBMb2dIb2RsU2V0U3Rha2UoYWRkcmVzcyBpbmRleGVkIF9zZXR0ZXIsIGFkZHJlc3MgaW5kZXhlZCBfYmVuZWZpY2lhcnksIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IExvZ0hvZGxDbGFpbWVkKGFkZHJlc3MgaW5kZXhlZCBfc2V0dGVyLCBhZGRyZXNzIGluZGV4ZWQgX2JlbmVmaWNpYXJ5LCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBMb2dIb2RsU3RhcnRTZXQoYWRkcmVzcyBpbmRleGVkIF9zZXR0ZXIsIHVpbnQyNTYgX3RpbWUpOwogICAgLy8vIEBkZXYgT25seSBiZWZvcmUgaG9kbCBpcyBzdGFydGVkCiAgICBtb2RpZmllciBiZWZvcmVIb2RsU3RhcnQoKSB7CiAgICAgICAgaWYgKGhvZGxlclRpbWVTdGFydCA9PSAwIHx8IG5vdyA8PSBob2RsZXJUaW1lU3RhcnQpCiAgICAgICAgICAgIF87CiAgICB9CiAgICAvLy8gQGRldiBDb250cnVjdG9yLCBpdCBzaG91bGQgYmUgY3JlYXRlZCBieSBhIFRva2VuQ29udHJvbGxlcgogICAgZnVuY3Rpb24gSG9kbGVyKHVpbnQyNTYgX3N0YWtlM20sIHVpbnQyNTYgX3N0YWtlNm0sIHVpbnQyNTYgX3N0YWtlOW0pIHsKICAgICAgICBUT0tFTl9IT0RMXzNNID0gX3N0YWtlM207CiAgICAgICAgVE9LRU5fSE9ETF82TSA9IF9zdGFrZTZtOwogICAgICAgIFRPS0VOX0hPRExfOU0gPSBfc3Rha2U5bTsKICAgIH0KICAgIC8vLyBAbm90aWNlIEFkZGluZyBob2RsZXIgc3Rha2UgdG8gYW4gYWNjb3VudAogICAgLy8vIEBkZXYgT25seSBvd25lciBjb250cmFjdCBjYW4gY2FsbCBpdCBhbmQgYmVmb3JlIGhvZGxpbmcgcGVyaW9kIHN0YXJ0cwogICAgLy8vIEBwYXJhbSBfYmVuZWZpY2lhcnkgUmVjZXBpZW50IGFkZHJlc3Mgb2YgaG9kbGVyIHN0YWtlCiAgICAvLy8gQHBhcmFtIF9zdGFrZSBBbW91bnQgb2YgYWRkaXRpb25hbCBob2RsZXIgc3Rha2UKICAgIGZ1bmN0aW9uIGFkZEhvZGxlclN0YWtlKGFkZHJlc3MgX2JlbmVmaWNpYXJ5LCB1aW50MjU2IF9zdGFrZSkgcHVibGljIG9ubHlPd25lciBiZWZvcmVIb2RsU3RhcnQgewogICAgICAgIC8vIHJlYWwgY2hhbmdlIGFuZCB2YWxpZCBfYmVuZWZpY2lhcnkgaXMgbmVlZGVkCiAgICAgICAgaWYgKF9zdGFrZSA9PSAwIHx8IF9iZW5lZmljaWFyeSA9PSBhZGRyZXNzKDApKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgCiAgICAgICAgLy8gYWRkIHN0YWtlIGFuZCBtYWludGFpbiBjb3VudAogICAgICAgIGlmIChob2RsZXJTdGFrZXNbX2JlbmVmaWNpYXJ5XS5zdGFrZSA9PSAwKQogICAgICAgICAgICBob2RsZXJUb3RhbENvdW50ID0gaG9kbGVyVG90YWxDb3VudC5hZGQoMSk7CiAgICAgICAgaG9kbGVyU3Rha2VzW19iZW5lZmljaWFyeV0uc3Rha2UgPSBob2RsZXJTdGFrZXNbX2JlbmVmaWNpYXJ5XS5zdGFrZS5hZGQoX3N0YWtlKTsKICAgICAgICBob2RsZXJUb3RhbFZhbHVlID0gaG9kbGVyVG90YWxWYWx1ZS5hZGQoX3N0YWtlKTsKICAgICAgICBMb2dIb2RsU2V0U3Rha2UobXNnLnNlbmRlciwgX2JlbmVmaWNpYXJ5LCBob2RsZXJTdGFrZXNbX2JlbmVmaWNpYXJ5XS5zdGFrZSk7CiAgICB9CiAgICAvLy8gQG5vdGljZSBTZXR0aW5nIGhvZGxlciBzdGFrZSBvZiBhbiBhY2NvdW50CiAgICAvLy8gQGRldiBPbmx5IG93bmVyIGNvbnRyYWN0IGNhbiBjYWxsIGl0IGFuZCBiZWZvcmUgaG9kbGluZyBwZXJpb2Qgc3RhcnRzCiAgICAvLy8gQHBhcmFtIF9iZW5lZmljaWFyeSBSZWNlcGllbnQgYWRkcmVzcyBvZiBob2RsZXIgc3Rha2UKICAgIC8vLyBAcGFyYW0gX3N0YWtlIEFtb3VudCB0byBzZXQgdGhlIGhvZGxlciBzdGFrZQogICAgZnVuY3Rpb24gc2V0SG9kbGVyU3Rha2UoYWRkcmVzcyBfYmVuZWZpY2lhcnksIHVpbnQyNTYgX3N0YWtlKSBwdWJsaWMgb25seU93bmVyIGJlZm9yZUhvZGxTdGFydCB7CiAgICAgICAgLy8gcmVhbCBjaGFuZ2UgYW5kIHZhbGlkIF9iZW5lZmljaWFyeSBpcyBuZWVkZWQKICAgICAgICBpZiAoaG9kbGVyU3Rha2VzW19iZW5lZmljaWFyeV0uc3Rha2UgPT0gX3N0YWtlIHx8IF9iZW5lZmljaWFyeSA9PSBhZGRyZXNzKDApKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgCiAgICAgICAgLy8gYWRkIHN0YWtlIGFuZCBtYWludGFpbiBjb3VudAogICAgICAgIGlmIChob2RsZXJTdGFrZXNbX2JlbmVmaWNpYXJ5XS5zdGFrZSA9PSAwICYmIF9zdGFrZSA+IDApIHsKICAgICAgICAgICAgaG9kbGVyVG90YWxDb3VudCA9IGhvZGxlclRvdGFsQ291bnQuYWRkKDEpOwogICAgICAgIH0gZWxzZSBpZiAoaG9kbGVyU3Rha2VzW19iZW5lZmljaWFyeV0uc3Rha2UgPiAwICYmIF9zdGFrZSA9PSAwKSB7CiAgICAgICAgICAgIGhvZGxlclRvdGFsQ291bnQgPSBob2RsZXJUb3RhbENvdW50LnN1YigxKTsKICAgICAgICB9CiAgICAgICAgdWludDI1NiBfZGlmZiA9IF9zdGFrZSA+IGhvZGxlclN0YWtlc1tfYmVuZWZpY2lhcnldLnN0YWtlID8gX3N0YWtlLnN1Yihob2RsZXJTdGFrZXNbX2JlbmVmaWNpYXJ5XS5zdGFrZSkgOiBob2RsZXJTdGFrZXNbX2JlbmVmaWNpYXJ5XS5zdGFrZS5zdWIoX3N0YWtlKTsKICAgICAgICBpZiAoX3N0YWtlID4gaG9kbGVyU3Rha2VzW19iZW5lZmljaWFyeV0uc3Rha2UpIHsKICAgICAgICAgICAgaG9kbGVyVG90YWxWYWx1ZSA9IGhvZGxlclRvdGFsVmFsdWUuYWRkKF9kaWZmKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBob2RsZXJUb3RhbFZhbHVlID0gaG9kbGVyVG90YWxWYWx1ZS5zdWIoX2RpZmYpOwogICAgICAgIH0KICAgICAgICBob2RsZXJTdGFrZXNbX2JlbmVmaWNpYXJ5XS5zdGFrZSA9IF9zdGFrZTsKICAgICAgICBMb2dIb2RsU2V0U3Rha2UobXNnLnNlbmRlciwgX2JlbmVmaWNpYXJ5LCBfc3Rha2UpOwogICAgfQogICAgLy8vIEBub3RpY2UgU2V0dGluZyBob2RsZXIgc3RhcnQgcGVyaW9kLgogICAgLy8vIEBwYXJhbSBfdGltZSBUaGUgdGltZSB3aGVuIGhvZGxlciByZXdhcmQgc3RhcnRzIGNvdW50aW5nCiAgICBmdW5jdGlvbiBzZXRIb2RsZXJUaW1lKHVpbnQyNTYgX3RpbWUpIHB1YmxpYyBvbmx5T3duZXIgYmVmb3JlSG9kbFN0YXJ0IHsKICAgICAgICByZXF1aXJlKF90aW1lID49IG5vdyk7CiAgICAgICAgaG9kbGVyVGltZVN0YXJ0ID0gX3RpbWU7CiAgICAgICAgaG9kbGVyVGltZTNNID0gX3RpbWUuYWRkKDkwIGRheXMpOwogICAgICAgIGhvZGxlclRpbWU2TSA9IF90aW1lLmFkZCgxODAgZGF5cyk7CiAgICAgICAgaG9kbGVyVGltZTlNID0gX3RpbWUuYWRkKDI3MCBkYXlzKTsKICAgICAgICBMb2dIb2RsU3RhcnRTZXQobXNnLnNlbmRlciwgX3RpbWUpOwogICAgfQogICAgLy8vIEBub3RpY2UgSW52YWxpZGF0ZXMgaG9kbGVyIGFjY291bnQgCiAgICAvLy8gQGRldiBHZXRzIGNhbGxlZCBieSBFdGhlYWxDb250cm9sbGVyI29uVHJhbnNmZXIgYmVmb3JlIGV2ZXJ5IHRyYW5zYWN0aW9uCiAgICBmdW5jdGlvbiBpbnZhbGlkYXRlKGFkZHJlc3MgX2FjY291bnQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIGlmIChob2RsZXJTdGFrZXNbX2FjY291bnRdLnN0YWtlID4gMCAmJiAhaG9kbGVyU3Rha2VzW19hY2NvdW50XS5pbnZhbGlkKSB7CiAgICAgICAgICAgIGhvZGxlclN0YWtlc1tfYWNjb3VudF0uaW52YWxpZCA9IHRydWU7CiAgICAgICAgICAgIGhvZGxlclRvdGFsVmFsdWUgPSBob2RsZXJUb3RhbFZhbHVlLnN1Yihob2RsZXJTdGFrZXNbX2FjY291bnRdLnN0YWtlKTsKICAgICAgICAgICAgaG9kbGVyVG90YWxDb3VudCA9IGhvZGxlclRvdGFsQ291bnQuc3ViKDEpOwogICAgICAgIH0KICAgICAgICAvLyB1cGRhdGUgaG9kbCB0b3RhbCB2YWx1ZXMgImF1dG9tYXRpY2FsbHkiIC0gd2hlbmV2ZXIgc29tZW9uZSBzZW5kcyBmdW5kcyB0aHVzCiAgICAgICAgdXBkYXRlQW5kR2V0SG9kbFRvdGFsVmFsdWUoKTsKICAgIH0KICAgIC8vLyBAbm90aWNlIENsYWltaW5nIEhPREwgcmV3YXJkIGZvciBtc2cuc2VuZGVyCiAgICBmdW5jdGlvbiBjbGFpbUhvZGxSZXdhcmQoKSBwdWJsaWMgewogICAgICAgIGNsYWltSG9kbFJld2FyZEZvcihtc2cuc2VuZGVyKTsKICAgIH0KICAgIC8vLyBAbm90aWNlIENsYWltaW5nIEhPREwgcmV3YXJkIGZvciBhbiBhZGRyZXNzCiAgICBmdW5jdGlvbiBjbGFpbUhvZGxSZXdhcmRGb3IoYWRkcmVzcyBfYmVuZWZpY2lhcnkpIHB1YmxpYyB7CiAgICAgICAgLy8gb25seSB3aGVuIHRoZSBhZGRyZXNzIGhhcyBhIHZhbGlkIHN0YWtlCiAgICAgICAgcmVxdWlyZShob2RsZXJTdGFrZXNbX2JlbmVmaWNpYXJ5XS5zdGFrZSA+IDAgJiYgIWhvZGxlclN0YWtlc1tfYmVuZWZpY2lhcnldLmludmFsaWQpOwogICAgICAgIHVpbnQyNTYgX3N0YWtlID0gMDsKICAgICAgICAKICAgICAgICAvLyB1cGRhdGUgaG9kbCB0b3RhbCB2YWx1ZXMKICAgICAgICB1cGRhdGVBbmRHZXRIb2RsVG90YWxWYWx1ZSgpOwogICAgICAgIC8vIGNsYWltIGhvZGwgaWYgbm90IGNsYWltZWQKICAgICAgICBpZiAoIWhvZGxlclN0YWtlc1tfYmVuZWZpY2lhcnldLmNsYWltZWQzTSAmJiBub3cgPj0gaG9kbGVyVGltZTNNKSB7CiAgICAgICAgICAgIF9zdGFrZSA9IF9zdGFrZS5hZGQoaG9kbGVyU3Rha2VzW19iZW5lZmljaWFyeV0uc3Rha2UubXVsKFRPS0VOX0hPRExfM00pLmRpdihob2RsZXJUb3RhbFZhbHVlM00pKTsKICAgICAgICAgICAgaG9kbGVyU3Rha2VzW19iZW5lZmljaWFyeV0uY2xhaW1lZDNNID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgaWYgKCFob2RsZXJTdGFrZXNbX2JlbmVmaWNpYXJ5XS5jbGFpbWVkNk0gJiYgbm93ID49IGhvZGxlclRpbWU2TSkgewogICAgICAgICAgICBfc3Rha2UgPSBfc3Rha2UuYWRkKGhvZGxlclN0YWtlc1tfYmVuZWZpY2lhcnldLnN0YWtlLm11bChUT0tFTl9IT0RMXzZNKS5kaXYoaG9kbGVyVG90YWxWYWx1ZTZNKSk7CiAgICAgICAgICAgIGhvZGxlclN0YWtlc1tfYmVuZWZpY2lhcnldLmNsYWltZWQ2TSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIGlmICghaG9kbGVyU3Rha2VzW19iZW5lZmljaWFyeV0uY2xhaW1lZDlNICYmIG5vdyA+PSBob2RsZXJUaW1lOU0pIHsKICAgICAgICAgICAgX3N0YWtlID0gX3N0YWtlLmFkZChob2RsZXJTdGFrZXNbX2JlbmVmaWNpYXJ5XS5zdGFrZS5tdWwoVE9LRU5fSE9ETF85TSkuZGl2KGhvZGxlclRvdGFsVmFsdWU5TSkpOwogICAgICAgICAgICBob2RsZXJTdGFrZXNbX2JlbmVmaWNpYXJ5XS5jbGFpbWVkOU0gPSB0cnVlOwogICAgICAgIH0KICAgICAgICBpZiAoX3N0YWtlID4gMCkgewogICAgICAgICAgICAvLyBpbmNyZWFzaW5nIGNsYWltZWQgdG9rZW5zCiAgICAgICAgICAgIGNsYWltZWRUb2tlbnMgPSBjbGFpbWVkVG9rZW5zLmFkZChfc3Rha2UpOwogICAgICAgICAgICAvLyB0cmFuc2ZlcnJpbmcgdG9rZW5zCiAgICAgICAgICAgIHJlcXVpcmUoVG9rZW5Db250cm9sbGVyKG93bmVyKS5ldGhlYWxUb2tlbigpLnRyYW5zZmVyKF9iZW5lZmljaWFyeSwgX3N0YWtlKSk7CiAgICAgICAgICAgIC8vIGxvZwogICAgICAgICAgICBMb2dIb2RsQ2xhaW1lZChtc2cuc2VuZGVyLCBfYmVuZWZpY2lhcnksIF9zdGFrZSk7CiAgICAgICAgfQogICAgfQogICAgLy8vIEBub3RpY2UgY2xhaW1Ib2RsUmV3YXJkRm9yKCkgZm9yIG11bHRpcGxlIGFkZHJlc3NlcwogICAgLy8vIEBkZXYgQW55b25lIGNhbiBjYWxsIHRoaXMgZnVuY3Rpb24gYW5kIGRpc3RyaWJ1dGUgaG9kbCByZXdhcmRzCiAgICAvLy8gQHBhcmFtIF9iZW5lZmljaWFyaWVzIEFycmF5IG9mIGFkZHJlc3NlcyBmb3Igd2hpY2ggd2Ugd2FudCB0byBjbGFpbSBob2RsIHJld2FyZHMKICAgIGZ1bmN0aW9uIGNsYWltSG9kbFJld2FyZHNGb3IoYWRkcmVzc1tdIF9iZW5lZmljaWFyaWVzKSBleHRlcm5hbCB7CiAgICAgICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgX2JlbmVmaWNpYXJpZXMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIGNsYWltSG9kbFJld2FyZEZvcihfYmVuZWZpY2lhcmllc1tpXSk7CiAgICB9CiAgICAvLy8gQG5vdGljZSBTZXR0aW5nIDMgLSA2IC0gOSBtb250aHMgdG90YWwgc3Rha2luZyBob2RsIHZhbHVlIGlmIHRpbWUgaXMgY29tZQogICAgZnVuY3Rpb24gdXBkYXRlQW5kR2V0SG9kbFRvdGFsVmFsdWUoKSBwdWJsaWMgcmV0dXJucyAodWludCkgewogICAgICAgIGlmIChub3cgPj0gaG9kbGVyVGltZTNNICYmIGhvZGxlclRvdGFsVmFsdWUzTSA9PSAwKSB7CiAgICAgICAgICAgIGhvZGxlclRvdGFsVmFsdWUzTSA9IGhvZGxlclRvdGFsVmFsdWU7CiAgICAgICAgfQogICAgICAgIGlmIChub3cgPj0gaG9kbGVyVGltZTZNICYmIGhvZGxlclRvdGFsVmFsdWU2TSA9PSAwKSB7CiAgICAgICAgICAgIGhvZGxlclRvdGFsVmFsdWU2TSA9IGhvZGxlclRvdGFsVmFsdWU7CiAgICAgICAgfQogICAgICAgIGlmIChub3cgPj0gaG9kbGVyVGltZTlNICYmIGhvZGxlclRvdGFsVmFsdWU5TSA9PSAwKSB7CiAgICAgICAgICAgIGhvZGxlclRvdGFsVmFsdWU5TSA9IGhvZGxlclRvdGFsVmFsdWU7CiAgICAgICAgICAgIC8vIHNpbmNlIHdlIGNhbiB0cmFuc2ZlciBtb3JlIHRva2VucyB0byB0aGlzIGNvbnRyYWN0LCBtYWtlIGl0IHBvc3NpYmxlIHRvIHJldGFpbiBtb3JlIHRoYW4gdGhlIHByZWRlZmluZWQgbGltaXQKICAgICAgICAgICAgVE9LRU5fSE9ETF85TSA9IFRva2VuQ29udHJvbGxlcihvd25lcikuZXRoZWFsVG9rZW4oKS5iYWxhbmNlT2YodGhpcykuc3ViKFRPS0VOX0hPRExfM00pLnN1YihUT0tFTl9IT0RMXzZNKS5hZGQoY2xhaW1lZFRva2Vucyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBob2RsZXJUb3RhbFZhbHVlOwogICAgfQp9'.
	

]
