Class {
	#name : #SRTe256fef1b9f22137216bbc3097033b7824546aff,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe256fef1b9f22137216bbc3097033b7824546aff >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgpsaWJyYXJ5IE1hdGggewogIGZ1bmN0aW9uIG1heDY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW42NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtYXgyNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQp9CgoKbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogIAogICAgdWludDI1NiBjID0gYSAvIGI7CgogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCgoKIGNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgoKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKCgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKCgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgoKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKCgogICAgcmVxdWlyZSgoX3ZhbHVlID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CgogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCgogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCn0KCiBjb250cmFjdCBvd25lZCB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICBmdW5jdGlvbiBvd25lZCgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgbW9kaWZpZXIgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQp9CgoKY29udHJhY3QgQ2hpbGlUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBvd25lZCB7CgpzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiQ0hJTEkiOwpzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJDSEwiOwp1aW50MzIgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMzsKdWludDI1NiBwdWJsaWMgIGV4Y2hhbmdlUmF0ZT0yMDA7CnVpbnQyNTYgcHVibGljIElOSVRJQUxfU1VQUExZID0gMTAwMDAwMDAwICogMTAwMDsKCmFkZHJlc3MgYWRkcmVzc1NlbGxBZ2VudDsKYWRkcmVzcyBhZGRyZXNzU2VsbEFnZW50U2l0ZVJlZzsKYWRkcmVzcyBhZGRyZXNzU2VsbEFnZW50Q3JlYXRvcnM7CmFkZHJlc3MgYWRkcmVzc1NlbGxBZ2VudEJvdW50eTsKYWRkcmVzcyBhZGRyZXNzUmF0ZUFnZW50OwogCnVpbnQyNTYgcHVibGljIFNUQVJUX1BSRVNBTEVfVElNRVNUQU1QICAgPSAxNTA4NzE2ODAwOyAvLyAyMDE3LTEwLTIzCnVpbnQyNTYgcHVibGljIFNUQVJUX1BSRUlDT19USU1FU1RBTVAgICA9IDE1MTExMzYwMDA7ICAvLyAyMDE3LTExLTIwCnVpbnQyNTYgcHVibGljIFNUQVJUX0lDT19USU1FU1RBTVAgICA9IDE1MTU5NzQ0MDA7ICAgICAvLyAyMDE4LTAxLTE1CiAKdWludDI1NiBwdWJsaWMgRU5EX1BSRVNBTEVfVElNRVNUQU1QICAgPSAwOwp1aW50MjU2IHB1YmxpYyBFTkRfUFJFSUNPX1RJTUVTVEFNUCAgID0gMDsKdWludDI1NiBwdWJsaWMgRU5EX0lDT19USU1FU1RBTVAgICA9IDA7CiAKdWludDI1NiBwdWJsaWMgTE9DS1VQXzNNX0lDT19USU1FU1RBTVAgICA9IDA7CnVpbnQyNTYgcHVibGljIExPQ0tVUF82TV9JQ09fVElNRVNUQU1QICAgPSAwOwogCnVpbnQzMiBwdWJsaWMgIFBSRVNBTEVfSEFSRENBUD0gIDI1MDAwMDsKdWludDMyIHB1YmxpYyAgIFBSRUlDT19IQVJEQ0FQPSAgOTUwMDAwOwp1aW50MzIgcHVibGljICAgICAgSUNPX0hBUkRDQVA9MTE0NTAwMDA7CiAgCnVpbnQyNTYgcHVibGljICAgUFJFU0FMRV9QRVJJT0Q9Mjg7CnVpbnQyNTYgcHVibGljICAgUFJFSUNPX1BFUklPRD0yODsKdWludDI1NiBwdWJsaWMgICAgIElDT19QRVJJT0Q9Mjg7CiAKYWRkcmVzcyBhZGRyZXNzUGF5Rm9yU2VydmljZT0weGMwZTlhOTM4ODFBOTg4RTU5ZTY1QzVGODA5Y0I2OTE5ZDgyNzdjOTk7CgoKICAgIAp1aW50MjU2IHB1YmxpYyB0b2tlbnNGb3JCb3VudHk9MDsKdWludDI1NiBwdWJsaWMgdG9rZW5zRm9yU2l0ZVJlZz0wOwp1aW50MjU2IHB1YmxpYyB0b2tlbnNGb3JDcmVhdG9ycz0wOwogICAgICAgIAoKbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGFycmF5Q3JlYXRvcnM7Cm1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBhcnJheUJvdW50eTsKCmV2ZW50IFBheUZvclNlcnZpY2VFVEhFdmVudChhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludDI1NiB2YWx1ZSk7CmV2ZW50IFBheUZvclNlcnZpY2VDSExFdmVudChhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludDI1NiB2YWx1ZSk7CmV2ZW50IEJ1cm5Gcm9tKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50MjU2IHZhbHVlKTsKCmV2ZW50IFRyYW5zZmVyQ3JlYXRvcnMoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKZXZlbnQgVHJhbnNmZXJCb3VudHkoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKZXZlbnQgVHJhbnNmZXJTaXRlUmVnKGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CgpmdW5jdGlvbiBDaGlsaVRva2VuKCkgewogICAgICAgIHRvdGFsU3VwcGx5ID0gSU5JVElBTF9TVVBQTFk7CiAKICAgICAgICB0b2tlbnNGb3JTaXRlUmVnPSBJTklUSUFMX1NVUFBMWS5kaXYoMTAwKTsKICAgICAgICB0b2tlbnNGb3JCb3VudHk9IElOSVRJQUxfU1VQUExZLm11bCg0KS5kaXYoMTAwKTsKICAgICAgICB0b2tlbnNGb3JDcmVhdG9ycz1JTklUSUFMX1NVUFBMWS5tdWwoMikuZGl2KDEwKTsKICAgICAKICAgICAKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IElOSVRJQUxfU1VQUExZLXRva2Vuc0ZvckJvdW50eS10b2tlbnNGb3JDcmVhdG9ycy10b2tlbnNGb3JTaXRlUmVnOwogCiAgICAgICAgRU5EX1BSRVNBTEVfVElNRVNUQU1QPVNUQVJUX1BSRVNBTEVfVElNRVNUQU1QKyhQUkVTQUxFX1BFUklPRCAqIDEgZGF5cyk7ICAKICAgICAgICBFTkRfUFJFSUNPX1RJTUVTVEFNUD1TVEFSVF9QUkVJQ09fVElNRVNUQU1QKyhQUkVJQ09fUEVSSU9EICogMSBkYXlzKTsgICAKICAgICAgICBFTkRfSUNPX1RJTUVTVEFNUD1TVEFSVF9JQ09fVElNRVNUQU1QKyhJQ09fUEVSSU9EICogMSBkYXlzKTsgICAKIAogICAgICAgIExPQ0tVUF8zTV9JQ09fVElNRVNUQU1QPUVORF9JQ09fVElNRVNUQU1QKyg5MCAqIDEgZGF5cyk7IAogICAgICAgIExPQ0tVUF82TV9JQ09fVElNRVNUQU1QPUVORF9JQ09fVElNRVNUQU1QKygxODAgKiAxIGRheXMpOyAgCiAKICAgICAgICBhZGRyZXNzU2VsbEFnZW50PW1zZy5zZW5kZXI7CiAgICAgICAgYWRkcmVzc1BheUZvclNlcnZpY2U9bXNnLnNlbmRlcjsKICAgICAgICBhZGRyZXNzU2VsbEFnZW50U2l0ZVJlZz1tc2cuc2VuZGVyOwogICAgICAgIGFkZHJlc3NTZWxsQWdlbnRDcmVhdG9ycz1tc2cuc2VuZGVyOwogICAgICAgIGFkZHJlc3NTZWxsQWdlbnRCb3VudHk9bXNnLnNlbmRlcjsKICAgICAgICBhZGRyZXNzUmF0ZUFnZW50PW1zZy5zZW5kZXI7CiAKfQogICAgZnVuY3Rpb24gU2V0UmF0ZSggdWludDMyIG5ld1JhdGUpICAgZXh0ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlcj09YWRkcmVzc1JhdGVBZ2VudCkgOwogICAgICAgIHJlcXVpcmUobmV3UmF0ZT4wKTsKCSAgICBleGNoYW5nZVJhdGUgPSBuZXdSYXRlOwoJICAgcmV0dXJuIHRydWU7CiAgICAgfQogICAgIAogICAgICAgZnVuY3Rpb24gVXBkYXRlX1NUQVJUX1BSRVNBTEVfVElNRVNUQU1QKCB1aW50MjU2IG5ld1RTKSAgb25seU93bmVyIHsKCSAgU1RBUlRfUFJFU0FMRV9USU1FU1RBTVAgPSBuZXdUUzsKCSAgIEVORF9QUkVTQUxFX1RJTUVTVEFNUD1TVEFSVF9QUkVTQUxFX1RJTUVTVEFNUCsoUFJFU0FMRV9QRVJJT0QgKiAxIGRheXMpOyAgCiAgICAgfQogICAgICAgZnVuY3Rpb24gVXBkYXRlX1NUQVJUX1BSRUlDT19USU1FU1RBTVAoIHVpbnQyNTYgbmV3VFMpICBvbmx5T3duZXIgewoJICBTVEFSVF9QUkVJQ09fVElNRVNUQU1QID0gbmV3VFM7CgkgIEVORF9QUkVJQ09fVElNRVNUQU1QPVNUQVJUX1BSRUlDT19USU1FU1RBTVArKFBSRUlDT19QRVJJT0QgKiAxIGRheXMpOyAgCiAgICAgfQogICAgIAogICAgICAgIGZ1bmN0aW9uIFVwZGF0ZV9TVEFSVF9JQ09fVElNRVNUQU1QKCB1aW50MjU2IG5ld1RTKSAgb25seU93bmVyIHsKCSAgICBTVEFSVF9JQ09fVElNRVNUQU1QID0gbmV3VFM7CgkgICAgRU5EX0lDT19USU1FU1RBTVA9U1RBUlRfSUNPX1RJTUVTVEFNUCsoSUNPX1BFUklPRCAqIDEgZGF5cyk7ICAKCSAgICBMT0NLVVBfM01fSUNPX1RJTUVTVEFNUD1FTkRfSUNPX1RJTUVTVEFNUCsoOTAgKiAxIGRheXMpOyAgCiAgICAgICAgTE9DS1VQXzZNX0lDT19USU1FU1RBTVA9RU5EX0lDT19USU1FU1RBTVArKDE4MCAqIDEgZGF5cyk7ICAKICAgICB9CiAgICAgCiAgCiAgZnVuY3Rpb24gVXBkYXRlU2VsbEFnZW50KGFkZHJlc3MgbmV3X2FkZHJlc3MpIG9ubHlPd25lciB7CiAgIGFkZHJlc3NTZWxsQWdlbnQ9bmV3X2FkZHJlc3M7CiAgfQogIApmdW5jdGlvbiBVcGRhdGVTZWxsQWdlbnRTaXRlUmVnKGFkZHJlc3MgbmV3X2FkZHJlc3MpIG9ubHlPd25lciB7CiAgIGFkZHJlc3NTZWxsQWdlbnRTaXRlUmVnPW5ld19hZGRyZXNzOwogIH0KICBmdW5jdGlvbiBVcGRhdGVTZWxsQWdlbnRCb3VudHkoYWRkcmVzcyBuZXdfYWRkcmVzcykgb25seU93bmVyIHsKICAgYWRkcmVzc1NlbGxBZ2VudEJvdW50eT1uZXdfYWRkcmVzczsKICB9CiAgZnVuY3Rpb24gVXBkYXRlU2VsbEFnZW50Q3JlYXRvcnMoYWRkcmVzcyBuZXdfYWRkcmVzcykgb25seU93bmVyIHsKICAgYWRkcmVzc1NlbGxBZ2VudENyZWF0b3JzPW5ld19hZGRyZXNzOwogIH0KICBmdW5jdGlvbiBVcGRhdGVBZGRyZXNzUGF5Rm9yU2VydmljZShhZGRyZXNzIG5ld19hZGRyZXNzKSBvbmx5T3duZXIgewogICBhZGRyZXNzUGF5Rm9yU2VydmljZT1uZXdfYWRkcmVzczsKICB9CiAgCiAgIGZ1bmN0aW9uIFVwZGF0ZVJhdGVBZ2VudChhZGRyZXNzIG5ld19hZGRyZXNzKSBvbmx5T3duZXIgewogICBhZGRyZXNzUmF0ZUFnZW50PW5ld19hZGRyZXNzOwogIH0KCiAKICAgZnVuY3Rpb24gVHJhbnNmZXJTZWxsQWdlbnQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBleHRlcm5hbCByZXR1cm5zIChib29sKSB7CiAgICAgIHJlcXVpcmUobXNnLnNlbmRlcj09YWRkcmVzc1NlbGxBZ2VudCkgOwoKICAgIGJhbGFuY2VzW293bmVyXSA9IGJhbGFuY2VzW293bmVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIob3duZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KICAKICBmdW5jdGlvbiBUcmFuc2ZlclNlbGxBZ2VudE11bHRpKGFkZHJlc3NbXSBfdG9lcywgdWludDI1NiBfdmFsdWUpIGV4dGVybmFsIHJldHVybnMgKGJvb2wpIHsKICAgICAgcmVxdWlyZShtc2cuc2VuZGVyPT1hZGRyZXNzU2VsbEFnZW50KSA7CiAgICAgIAogICAgICAgcmVxdWlyZSggIGJhbGFuY2VzW293bmVyXT49X3ZhbHVlLm11bChfdG9lcy5sZW5ndGgpKTsKICAgICAgCiAgICAgIGZvciAodWludCBpID0gMDsgaSA8IF90b2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAKICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSBiYWxhbmNlc1tvd25lcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvZXNbaV1dID0gYmFsYW5jZXNbX3RvZXNbaV1dLmFkZChfdmFsdWUpOwogICAgICAgICAKICAgICBUcmFuc2Zlcihvd25lciwgX3RvZXNbaV0sIF92YWx1ZSk7CgogICAgICAgIH0KICAKCiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgCiAgCiAgCiAgICAgZnVuY3Rpb24gVHJhbnNmZXJTZWxsQWdlbnRTaXRlUmVnKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyPT1hZGRyZXNzU2VsbEFnZW50U2l0ZVJlZykgOwogICAgcmVxdWlyZSh0b2tlbnNGb3JTaXRlUmVnPj1fdmFsdWUpOwogICAgCgogICAgdG9rZW5zRm9yU2l0ZVJlZyA9IHRva2Vuc0ZvclNpdGVSZWcuc3ViKF92YWx1ZSk7CgogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CgogICAgVHJhbnNmZXJTaXRlUmVnKCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgCiAgICBmdW5jdGlvbiBUcmFuc2ZlclNlbGxBZ2VudFNpdGVSZWdNdWx0aShhZGRyZXNzW10gX3RvZXMsIHVpbnQyNTYgX3ZhbHVlKSBleHRlcm5hbCByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXI9PWFkZHJlc3NTZWxsQWdlbnRTaXRlUmVnKTsKICAgIHJlcXVpcmUodG9rZW5zRm9yU2l0ZVJlZz49X3ZhbHVlLm11bChfdG9lcy5sZW5ndGgpKTsKICAgIAogICAgIGZvciAodWludCBpID0gMDsgaSA8IF90b2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgIAogICAgICAgIHRva2Vuc0ZvclNpdGVSZWcgPSB0b2tlbnNGb3JTaXRlUmVnLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b2VzW2ldXSA9IGJhbGFuY2VzW190b2VzW2ldXS5hZGQoX3ZhbHVlKTsKICAgICAgICBUcmFuc2ZlclNpdGVSZWcoX3RvZXNbaV0sIF92YWx1ZSk7CiAgICAgICAgfQogICAgICAgIAogICAgcmV0dXJuIHRydWU7CiAgfQogIAogIAogIAogIGZ1bmN0aW9uIFRyYW5zZmVyU2VsbEFnZW50Qm91bnR5KGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyPT1hZGRyZXNzU2VsbEFnZW50Qm91bnR5KSA7CiAgICByZXF1aXJlKHRva2Vuc0ZvckJvdW50eT49X3ZhbHVlKTsKICAgICByZXF1aXJlKG5vdz5FTkRfSUNPX1RJTUVTVEFNUCApOwogICAgCiAgICB0b2tlbnNGb3JCb3VudHkgPSB0b2tlbnNGb3JCb3VudHkuc3ViKF92YWx1ZSk7CiAgICBhcnJheUJvdW50eVtfdG9dPWFycmF5Qm91bnR5W190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyQm91bnR5KCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgCiAgICBmdW5jdGlvbiBUcmFuc2ZlclNlbGxBZ2VudENyZWF0b3JzKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyPT1hZGRyZXNzU2VsbEFnZW50Q3JlYXRvcnMpIDsKICAgIHJlcXVpcmUodG9rZW5zRm9yQ3JlYXRvcnM+PV92YWx1ZSk7CiAgICByZXF1aXJlKG5vdz5FTkRfSUNPX1RJTUVTVEFNUCApOwogICAgCiAgICB0b2tlbnNGb3JDcmVhdG9ycyA9IHRva2Vuc0ZvckNyZWF0b3JzLnN1YihfdmFsdWUpOwogICAgYXJyYXlDcmVhdG9yc1tfdG9dPWFycmF5Q3JlYXRvcnNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXJDcmVhdG9ycyggX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQogIAogIAoKICAKICAgbW9kaWZpZXIgaXNTZWxsaW5nKCkgewogICAgcmVxdWlyZSggKChub3c+U1RBUlRfUFJFU0FMRV9USU1FU1RBTVAmJm5vdzxFTkRfUFJFU0FMRV9USU1FU1RBTVAgKSB8fChub3c+U1RBUlRfUFJFSUNPX1RJTUVTVEFNUCYmbm93PEVORF9QUkVJQ09fVElNRVNUQU1QICkgfHwobm93PlNUQVJUX0lDT19USU1FU1RBTVAmJm5vdzxFTkRfSUNPX1RJTUVTVEFNUCApICkgKTsKICAgICByZXF1aXJlKGJhbGFuY2VzW293bmVyXT4wICk7CiAgICAKICAgIAogICAgXzsKICB9CiAgCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKCEoIGFycmF5Q3JlYXRvcnNbbXNnLnNlbmRlcl0+MCl8fG5vdz5MT0NLVVBfNk1fSUNPX1RJTUVTVEFNUCk7CiAgICAgICAgcmVxdWlyZSghKCBhcnJheUJvdW50eVttc2cuc2VuZGVyXT4wKSB8fG5vdz5MT0NLVVBfM01fSUNPX1RJTUVTVEFNUCk7CiAgICAgICAgCiAgICAgICAKICAgICAgICAKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KICAKICAKICAgIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgcGF5YWJsZSBpc1NlbGxpbmcgewoKICAgICB1aW50IHRva2VucyA9IGV4Y2hhbmdlUmF0ZS5tdWwoNTAwMCkubXVsKG1zZy52YWx1ZSkuZGl2KDEgZXRoZXIpOwogICAgIHVpbnQgbmV3QmFsYW5jZT1leGNoYW5nZVJhdGUubXVsKG1zZy52YWx1ZStvd25lci5iYWxhbmNlKS5kaXYoMSBldGhlcik7CgppZiAobm93PlNUQVJUX1BSRVNBTEVfVElNRVNUQU1QJiZub3c8RU5EX1BSRVNBTEVfVElNRVNUQU1QKQp7CiAgICByZXF1aXJlKG5ld0JhbGFuY2U8UFJFU0FMRV9IQVJEQ0FQKTsKICAgIAogICAgICAgdG9rZW5zPXRva2Vucy5tdWwoMykuZGl2KDIpOwogICAgCiAgICAgICAKfSBlbHNlIAoKaWYgKG5vdz5TVEFSVF9QUkVJQ09fVElNRVNUQU1QJiZub3c8RU5EX1BSRUlDT19USU1FU1RBTVApCnsKICAgIHJlcXVpcmUobmV3QmFsYW5jZTxQUkVJQ09fSEFSRENBUCk7CiAgICAKICAgICAgdWludCBib251c1Rva2VucyA9IDA7CiAgICAgICAgaWYobm93IDwgU1RBUlRfUFJFSUNPX1RJTUVTVEFNUCArIChQUkVJQ09fUEVSSU9EICogMSBkYXlzKS5kaXYoNCkpIHsKICAgICAgICAgIGJvbnVzVG9rZW5zID0gdG9rZW5zLm11bCgzKS5kaXYoMTApOwogICAgICAgIH0gZWxzZSBpZihub3cgPj0gU1RBUlRfUFJFSUNPX1RJTUVTVEFNUCArIChQUkVJQ09fUEVSSU9EICogMSBkYXlzKS5kaXYoNCkgJiYgbm93IDwgU1RBUlRfUFJFSUNPX1RJTUVTVEFNUCArIChQUkVJQ09fUEVSSU9EICogMSBkYXlzKS5kaXYoNCkubXVsKDIpKSB7CiAgICAgICAgICBib251c1Rva2VucyA9IHRva2Vucy5kaXYoNCk7CiAgICAgICAgfSBlbHNlIGlmKG5vdyA+PSBTVEFSVF9QUkVJQ09fVElNRVNUQU1QICsgKFBSRUlDT19QRVJJT0QgKiAxIGRheXMpLmRpdig0KS5tdWwoMikgJiYgbm93IDwgU1RBUlRfUFJFSUNPX1RJTUVTVEFNUCArIChQUkVJQ09fUEVSSU9EICogMSBkYXlzKS5kaXYoNCkubXVsKDMpKSB7CiAgICAgICAgICBib251c1Rva2VucyA9IHRva2Vucy5kaXYoNSk7CiAgICAgICAgfSBlbHNlCiAgICAgICAgewogICAgICAgICAgICAgYm9udXNUb2tlbnMgPSB0b2tlbnMubXVsKDMpLmRpdigyMCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIAogICAgICAgIHRva2VucyArPSBib251c1Rva2VuczsKICAgICAgIAogICAgICAgCn0gZWxzZSAKICAgICAKICAgICBpZiAobm93PlNUQVJUX0lDT19USU1FU1RBTVAmJm5vdzxFTkRfSUNPX1RJTUVTVEFNUCkKewogICAgcmVxdWlyZShuZXdCYWxhbmNlPElDT19IQVJEQ0FQKTsKICAgIAogICAgICB1aW50IGJvbnVzVG9rZW5zSUNPID0gMDsKICAgICAgICBpZihub3cgPCBTVEFSVF9JQ09fVElNRVNUQU1QICsgKElDT19QRVJJT0QgKiAxIGRheXMpLmRpdig0KSkgewogICAgICAgICAgYm9udXNUb2tlbnNJQ08gPSB0b2tlbnMuZGl2KDgpOwogICAgICAgIH0gZWxzZSBpZihub3cgPj0gU1RBUlRfSUNPX1RJTUVTVEFNUCArIChJQ09fUEVSSU9EICogMSBkYXlzKS5kaXYoNCkgJiYgbm93IDwgU1RBUlRfSUNPX1RJTUVTVEFNUCArIChJQ09fUEVSSU9EICogMSBkYXlzKS5kaXYoNCkubXVsKDIpKSB7CiAgICAgICAgICBib251c1Rva2Vuc0lDTyA9IHRva2Vucy5tdWwoMikuZGl2KDE1KTsKICAgICAgICB9IGVsc2UgaWYobm93ID49IFNUQVJUX0lDT19USU1FU1RBTVAgKyAoSUNPX1BFUklPRCAqIDEgZGF5cykuZGl2KDQpLm11bCgyKSAmJiBub3cgPCBTVEFSVF9JQ09fVElNRVNUQU1QICsgKElDT19QRVJJT0QgKiAxIGRheXMpLmRpdig0KS5tdWwoMykpIHsKICAgICAgICAgIGJvbnVzVG9rZW5zSUNPID0gdG9rZW5zLmRpdig0MCk7CiAgICAgICAgfSBlbHNlCiAgICAgICAgewogICAgICAgICAgICAgYm9udXNUb2tlbnNJQ08gPTA7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIAogICAgICAgIHRva2VucyArPSBib251c1Rva2Vuc0lDTzsKICAgICAgIAogICAgICAgCn0gZWxzZSB7CiAgIHJldmVydCgpOwp9CiAgCiAgICAgCiAgCiAgICBvd25lci50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgYmFsYW5jZXNbb3duZXJdID0gYmFsYW5jZXNbb3duZXJdLnN1Yih0b2tlbnMpOwogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQodG9rZW5zKTsKICAgIFRyYW5zZmVyKG93bmVyLCBtc2cuc2VuZGVyLCB0b2tlbnMpOwogICAgICAgICAgIAogICAgfQogICAgIGZ1bmN0aW9uIFBheUZvclNlcnZpY2VFVEgoKSBleHRlcm5hbCBwYXlhYmxlICB7CiAgICAgIAogICAgICBhZGRyZXNzUGF5Rm9yU2VydmljZS50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgICBQYXlGb3JTZXJ2aWNlRVRIRXZlbnQobXNnLnNlbmRlcixtc2cudmFsdWUpOwogICAgICAKICB9CiAgICBmdW5jdGlvbiBQYXlGb3JTZXJ2aWNlQ0hMKHVpbnQyNTYgX3ZhbHVlKSAgZXh0ZXJuYWwgICAgewogICAgIAogICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdPj1fdmFsdWUmJl92YWx1ZT4wKTsKICAgICAgCiAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgIGJhbGFuY2VzW2FkZHJlc3NQYXlGb3JTZXJ2aWNlXSA9IGJhbGFuY2VzW2FkZHJlc3NQYXlGb3JTZXJ2aWNlXS5hZGQoX3ZhbHVlKTsKICAgICAgUGF5Rm9yU2VydmljZUNITEV2ZW50KG1zZy5zZW5kZXIsX3ZhbHVlKTsKICAgICAgCiAgfQogIGZ1bmN0aW9uIEJ1cm5Ub2tlbnNGcm9tKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKSBleHRlcm5hbCBvbmx5T3duZXIgIHsKICAgIHJlcXVpcmUgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUmJl92YWx1ZT4wKTsgICAgICAgICAgICAgICAgCiAgIAogICAgYmFsYW5jZXNbX2Zyb21dICA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIHRvdGFsU3VwcGx5ID10b3RhbFN1cHBseS5zdWIoX3ZhbHVlKTsKICAgIEJ1cm5Gcm9tKF9mcm9tLCBfdmFsdWUpOyAgIAp9IAp9'.
	

]
