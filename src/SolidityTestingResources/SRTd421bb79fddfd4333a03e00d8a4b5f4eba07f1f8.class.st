Class {
	#name : #SRTd421bb79fddfd4333a03e00d8a4b5f4eba07f1f8,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd421bb79fddfd4333a03e00d8a4b5f4eba07f1f8 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBFUkMyMEJhc2ljIHsKCWZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CglmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwoJZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwoJZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewoJZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CglmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CglmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwoJZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7Cgl1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCgltYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgoJdWludDI1NiB0b3RhbFN1cHBseV87CgoJZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CgkJcmV0dXJuIHRvdGFsU3VwcGx5XzsKCX0KCglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CgkJcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CgkJcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwoKCQliYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwoJCWJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwoJCVRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKCQlyZXR1cm4gdHJ1ZTsKCX0KCglmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewoJCXJldHVybiBiYWxhbmNlc1tfb3duZXJdOwoJfQoKfQoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgoJbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBpbnRlcm5hbCBhbGxvd2VkOwoKCWZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CgkJcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CgkJcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbX2Zyb21dKTsKCQlyZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CgoJCWJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKCQliYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKCQlhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwoJCVRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CgkJcmV0dXJuIHRydWU7Cgl9CgoJZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKCQlhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKCQlBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKCQlyZXR1cm4gdHJ1ZTsKCX0KCglmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKCQlyZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKCX0KCglmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CgkJYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXS5hZGQoX2FkZGVkVmFsdWUpOwoJCUFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CgkJcmV0dXJuIHRydWU7Cgl9CgoJZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CgkJdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwoJCWlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKCQkJYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwoJCX0gZWxzZSB7CgkJCWFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gb2xkVmFsdWUuc3ViKF9zdWJ0cmFjdGVkVmFsdWUpOwoJCX0KCQlBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwoJCXJldHVybiB0cnVlOwoJfQoKfQoKY29udHJhY3QgQnVybmFibGVUb2tlbiBpcyBCYXNpY1Rva2VuIHsKCiAgICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBidXJuZXIsIHVpbnQyNTYgdmFsdWUpOwoKICAgIGZ1bmN0aW9uIGJ1cm4odWludDI1NiBfdmFsdWUpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwoKICAgICAgICBhZGRyZXNzIGJ1cm5lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgYmFsYW5jZXNbYnVybmVyXSA9IGJhbGFuY2VzW2J1cm5lcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgdG90YWxTdXBwbHlfID0gdG90YWxTdXBwbHlfLnN1YihfdmFsdWUpOwogICAgICAgIEJ1cm4oYnVybmVyLCBfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKGJ1cm5lciwgYWRkcmVzcygwKSwgX3ZhbHVlKTsKICAgIH0KfQoKbGlicmFyeSBTYWZlTWF0aCB7CgoJZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKCQlpZiAoYSA9PSAwKSB7CgkJCXJldHVybiAwOwoJCX0KCQl1aW50MjU2IGMgPSBhICogYjsKCQlhc3NlcnQoYyAvIGEgPT0gYik7CgkJcmV0dXJuIGM7Cgl9CgoJZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKCQl1aW50MjU2IGMgPSBhIC8gYjsKCQlyZXR1cm4gYzsKCX0KCglmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewoJCWFzc2VydChiIDw9IGEpOwoJCXJldHVybiBhIC0gYjsKCX0KCglmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewoJCXVpbnQyNTYgYyA9IGEgKyBiOwoJCWFzc2VydChjID49IGEpOwoJCXJldHVybiBjOwoJfQp9Cgpjb250cmFjdCBPd25hYmxlIHsKCWFkZHJlc3MgcHVibGljIG93bmVyOwoKCglldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgoJZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CgkJb3duZXIgPSBtc2cuc2VuZGVyOwoJfQoKCW1vZGlmaWVyIG9ubHlPd25lcigpIHsKCQlyZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoJCV87Cgl9CgoJZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CgkJcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKCQlPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwoJCW93bmVyID0gbmV3T3duZXI7Cgl9Cgp9Cgpjb250cmFjdCBUcmlnZ21pbmVUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBCdXJuYWJsZVRva2VuLCBPd25hYmxlIHsKCglzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiVHJpZ2dtaW5lIENvaW4iOwoKCXN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIlRSRyI7CgoJdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKCglib29sIHB1YmxpYyByZWxlYXNlZCA9IGZhbHNlOwoJZXZlbnQgUmVsZWFzZSgpOwoKCWFkZHJlc3MgcHVibGljIGhvbGRlcjsKCgltYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcHVibGljIGxvY2tlZEFkZHJlc3NlczsKCgltb2RpZmllciBpc1JlbGVhc2VkICgpIHsKCQlyZXF1aXJlKHJlbGVhc2VkIHx8IG1zZy5zZW5kZXIgPT0gaG9sZGVyIHx8IG1zZy5zZW5kZXIgPT0gb3duZXIpOwoJCXJlcXVpcmUobG9ja2VkQWRkcmVzc2VzW21zZy5zZW5kZXJdIDw9IG5vdyk7CgkJXzsKCX0KCglmdW5jdGlvbiBUcmlnZ21pbmVUb2tlbigpIHB1YmxpYyB7CgkJb3duZXIgPSAweDdFODNmMUY4MkFiN2RERTQ5RjYyMEQyNTQ2QmZGQjA1MzkwNTg0MTQ7CgoJCXRvdGFsU3VwcGx5XyA9IDYyMDAwMDAwMCAqICgxMCAqKiBkZWNpbWFscyk7CgkJYmFsYW5jZXNbb3duZXJdID0gdG90YWxTdXBwbHlfOwoJCVRyYW5zZmVyKDB4MCwgb3duZXIsIHRvdGFsU3VwcGx5Xyk7CgoJCWhvbGRlciA9IG93bmVyOwoJfQoKCWZ1bmN0aW9uIGxvY2tBZGRyZXNzKGFkZHJlc3MgX2xvY2tlZEFkZHJlc3MsIHVpbnQyNTYgX3RpbWUpIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCkgewoJCXJlcXVpcmUoYmFsYW5jZXNbX2xvY2tlZEFkZHJlc3NdID09IDAgJiYgbG9ja2VkQWRkcmVzc2VzW19sb2NrZWRBZGRyZXNzXSA9PSAwICYmIF90aW1lID4gbm93KTsKCQlsb2NrZWRBZGRyZXNzZXNbX2xvY2tlZEFkZHJlc3NdID0gX3RpbWU7CgkJcmV0dXJuIHRydWU7Cgl9CgoJZnVuY3Rpb24gcmVsZWFzZSgpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewoJCXJlcXVpcmUoIXJlbGVhc2VkKTsKCQlyZWxlYXNlZCA9IHRydWU7CgkJUmVsZWFzZSgpOwoKCQlyZXR1cm4gdHJ1ZTsKCX0KCglmdW5jdGlvbiBnZXRPd25lcigpIHB1YmxpYyB2aWV3IHJldHVybnMgKGFkZHJlc3MpIHsKCQlyZXR1cm4gb3duZXI7Cgl9CgoJZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgaXNSZWxlYXNlZCByZXR1cm5zIChib29sKSB7CgkJcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKCX0KCglmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgaXNSZWxlYXNlZCByZXR1cm5zIChib29sKSB7CgkJcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpOwoJfQoKCWZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyBpc1JlbGVhc2VkIHJldHVybnMgKGJvb2wpIHsKCQlyZXR1cm4gc3VwZXIuYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKTsKCX0KCglmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIHB1YmxpYyBpc1JlbGVhc2VkIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCXJldHVybiBzdXBlci5pbmNyZWFzZUFwcHJvdmFsKF9zcGVuZGVyLCBfYWRkZWRWYWx1ZSk7Cgl9CgoJZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIHB1YmxpYyBpc1JlbGVhc2VkIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCXJldHVybiBzdXBlci5kZWNyZWFzZUFwcHJvdmFsKF9zcGVuZGVyLCBfc3VidHJhY3RlZFZhbHVlKTsKCX0KCglmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKCQlhZGRyZXNzIG9sZE93bmVyID0gb3duZXI7CgkJc3VwZXIudHJhbnNmZXJPd25lcnNoaXAobmV3T3duZXIpOwoKCQlpZiAob2xkT3duZXIgIT0gaG9sZGVyKSB7CgkJCWFsbG93ZWRbaG9sZGVyXVtvbGRPd25lcl0gPSAwOwoJCQlBcHByb3ZhbChob2xkZXIsIG9sZE93bmVyLCAwKTsKCQl9CgoJCWlmIChvd25lciAhPSBob2xkZXIpIHsKCQkJYWxsb3dlZFtob2xkZXJdW293bmVyXSA9IGJhbGFuY2VzW2hvbGRlcl07CgkJCUFwcHJvdmFsKGhvbGRlciwgb3duZXIsIGJhbGFuY2VzW2hvbGRlcl0pOwoJCX0KCX0KCn0KCmNvbnRyYWN0IFRyaWdnbWluZVByZXNhbGUgaXMgT3duYWJsZSB7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBTQUxFU19TVEFSVCA9IDE1MjM4OTA4MDA7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBTQUxFU19FTkQgPSAxNTI1MTAwNDAwOyAKCiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBBU1NFVF9NQU5BR0VSX1dBTExFVCA9IDB4N0U4M2YxRjgyQWI3ZERFNDlGNjIwRDI1NDZCZkZCMDUzOTA1ODQxNDsKICAgIGFkZHJlc3MgcHVibGljIGNvbnN0YW50IEVTQ1JPV19XQUxMRVQgPSAweDJlOUYyMkUyRDU1OWQ5YTVjZTIzNEFCNzIyYmM2ZTgxOEZBNUQwNzk7CgogICAgYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgVE9LRU5fQUREUkVTUyA9IDB4OThGMzE5RDRkYzU4MzE1Nzk2RWM4RjA2Mjc0ZmUyZDRhNUE2OTcyMTsgCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBUT0tFTl9DRU5UUyA9IDEwMDAwMDAwMDAwMDAwMDAwMDA7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBUT0tFTl9QUklDRSA9IDAuMDAwMSBldGhlcjsKCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBFVEhfSEFSRF9DQVAgPSAzMDAwIGV0aGVyOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgU0FMRV9NQVhfQ0FQID0gMzYwMDAwMDAgKiBUT0tFTl9DRU5UUzsKCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBCT05VU19XTCA9IDIwOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgQk9OVVNfMl9EQVlTID0gMjA7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBCT05VU18zX0RBWVMgPSAxOTsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IEJPTlVTXzRfREFZUyA9IDE4OwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgQk9OVVNfNV9EQVlTID0gMTc7CiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBCT05VU182X0RBWVMgPSAxNjsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IEJPTlVTXzE1X0RBWVMgPSAxNTsKCiAgICB1aW50IHB1YmxpYyBzYWxlQ29udHJpYnV0aW9uczsKICAgIHVpbnQgcHVibGljIHRva2Vuc1B1cmNoYXNlZDsKCiAgICBhZGRyZXNzIHB1YmxpYyB3aGl0ZWxpc3RTdXBwbGllcjsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgd2hpdGVsaXN0UHJpdmF0ZTsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgd2hpdGVsaXN0UHVibGljOwoKICAgIGV2ZW50IENvbnRyaWJ1dGVkKGFkZHJlc3MgcmVjZWl2ZXIsIHVpbnQgY29udHJpYnV0aW9uLCB1aW50IHJld2FyZCk7CiAgICBldmVudCBQcml2YXRlV2hpdGVsaXN0VXBkYXRlZChhZGRyZXNzIHBhcnRpY2lwYW50LCBib29sIGlzV2hpdGVsaXN0ZWQpOwogICAgZXZlbnQgUHVibGljV2hpdGVsaXN0VXBkYXRlZChhZGRyZXNzIHBhcnRpY2lwYW50LCBib29sIGlzV2hpdGVsaXN0ZWQpOwoKICAgIGZ1bmN0aW9uIFRyaWdnbWluZVByZXNhbGUoKSBwdWJsaWMgewogICAgICAgIHdoaXRlbGlzdFN1cHBsaWVyID0gbXNnLnNlbmRlcjsKICAgICAgICBvd25lciA9IEFTU0VUX01BTkFHRVJfV0FMTEVUOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlXaGl0ZWxpc3RTdXBwbGllcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gd2hpdGVsaXN0U3VwcGxpZXIgfHwgbXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBjb250cmlidXRlKCkgcHVibGljIHBheWFibGUgcmV0dXJucyhib29sKSB7CiAgICAgICAgcmV0dXJuIGNvbnRyaWJ1dGVGb3IobXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gY29udHJpYnV0ZUZvcihhZGRyZXNzIF9wYXJ0aWNpcGFudCkgcHVibGljIHBheWFibGUgcmV0dXJucyhib29sKSB7CiAgICAgICAgcmVxdWlyZShub3cgPCBTQUxFU19FTkQpOwogICAgICAgIHJlcXVpcmUoc2FsZUNvbnRyaWJ1dGlvbnMgPCBFVEhfSEFSRF9DQVApOwoKICAgICAgICB1aW50IGJvbnVzUGVyY2VudHMgPSAwOwogICAgICAgIGlmIChub3cgPCBTQUxFU19TVEFSVCkgeyAKICAgICAgICAgICAgcmVxdWlyZSh3aGl0ZWxpc3RQcml2YXRlW19wYXJ0aWNpcGFudF0pOwogICAgICAgICAgICBib251c1BlcmNlbnRzID0gQk9OVVNfV0w7CiAgICAgICAgfSBlbHNlIGlmIChub3cgPCBTQUxFU19TVEFSVCArIDEgZGF5cykgeyAKICAgICAgICAgICAgcmVxdWlyZSh3aGl0ZWxpc3RQdWJsaWNbX3BhcnRpY2lwYW50XSB8fCB3aGl0ZWxpc3RQcml2YXRlW19wYXJ0aWNpcGFudF0pOwogICAgICAgICAgICBib251c1BlcmNlbnRzID0gQk9OVVNfV0w7CiAgICAgICAgfSBlbHNlIGlmIChub3cgPCBTQUxFU19TVEFSVCArIDIgZGF5cykgewogICAgICAgICAgICBib251c1BlcmNlbnRzID0gQk9OVVNfMl9EQVlTOwogICAgICAgIH0gZWxzZSBpZiAobm93IDwgU0FMRVNfU1RBUlQgKyAzIGRheXMpIHsKICAgICAgICAgICAgYm9udXNQZXJjZW50cyA9IEJPTlVTXzNfREFZUzsKICAgICAgICB9IGVsc2UgaWYgKG5vdyA8IFNBTEVTX1NUQVJUICsgNCBkYXlzKSB7CiAgICAgICAgICAgIGJvbnVzUGVyY2VudHMgPSBCT05VU180X0RBWVM7CiAgICAgICAgfSBlbHNlIGlmIChub3cgPCBTQUxFU19TVEFSVCArIDUgZGF5cykgewogICAgICAgICAgICBib251c1BlcmNlbnRzID0gQk9OVVNfNV9EQVlTOwogICAgICAgIH0gZWxzZSBpZiAobm93IDwgU0FMRVNfU1RBUlQgKyA2IGRheXMpIHsKICAgICAgICAgICAgYm9udXNQZXJjZW50cyA9IEJPTlVTXzZfREFZUzsKICAgICAgICB9IGVsc2UgaWYgKG5vdyA8IFNBTEVTX1NUQVJUICsgMTUgZGF5cykgewogICAgICAgICAgICBib251c1BlcmNlbnRzID0gQk9OVVNfMTVfREFZUzsKICAgICAgICB9CgogICAgICAgIHVpbnQgdG9rZW5zQW1vdW50ID0gKG1zZy52YWx1ZSAqIFRPS0VOX0NFTlRTKSAvIFRPS0VOX1BSSUNFOwogICAgICAgIHJlcXVpcmUodG9rZW5zQW1vdW50ID4gMCk7CiAgICAgICAgdWludCBib251c1Rva2VucyA9ICh0b2tlbnNBbW91bnQgKiBib251c1BlcmNlbnRzKSAvIDEwMDsKICAgICAgICB1aW50IHRvdGFsVG9rZW5zID0gdG9rZW5zQW1vdW50ICsgYm9udXNUb2tlbnM7CgogICAgICAgIHRva2Vuc1B1cmNoYXNlZCArPSB0b3RhbFRva2VuczsKICAgICAgICByZXF1aXJlKHRva2Vuc1B1cmNoYXNlZCA8PSBTQUxFX01BWF9DQVApOwogICAgICAgIHJlcXVpcmUoVHJpZ2dtaW5lVG9rZW4oVE9LRU5fQUREUkVTUykudHJhbnNmZXJGcm9tKEFTU0VUX01BTkFHRVJfV0FMTEVULCBfcGFydGljaXBhbnQsIHRvdGFsVG9rZW5zKSk7CiAgICAgICAgc2FsZUNvbnRyaWJ1dGlvbnMgKz0gbXNnLnZhbHVlOwogICAgICAgIEVTQ1JPV19XQUxMRVQudHJhbnNmZXIobXNnLnZhbHVlKTsKCiAgICAgICAgQ29udHJpYnV0ZWQoX3BhcnRpY2lwYW50LCBtc2cudmFsdWUsIHRvdGFsVG9rZW5zKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGRUb1ByaXZhdGVXaGl0ZWxpc3QoYWRkcmVzcyBfcGFydGljaXBhbnQpIG9ubHlXaGl0ZWxpc3RTdXBwbGllcigpIHB1YmxpYyByZXR1cm5zKGJvb2wpIHsKICAgICAgICBpZiAod2hpdGVsaXN0UHJpdmF0ZVtfcGFydGljaXBhbnRdKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICB3aGl0ZWxpc3RQcml2YXRlW19wYXJ0aWNpcGFudF0gPSB0cnVlOwogICAgICAgIFByaXZhdGVXaGl0ZWxpc3RVcGRhdGVkKF9wYXJ0aWNpcGFudCwgdHJ1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlRnJvbVByaXZhdGVXaGl0ZWxpc3QoYWRkcmVzcyBfcGFydGljaXBhbnQpIG9ubHlXaGl0ZWxpc3RTdXBwbGllcigpIHB1YmxpYyByZXR1cm5zKGJvb2wpIHsKICAgICAgICBpZiAoIXdoaXRlbGlzdFByaXZhdGVbX3BhcnRpY2lwYW50XSkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgd2hpdGVsaXN0UHJpdmF0ZVtfcGFydGljaXBhbnRdID0gZmFsc2U7CiAgICAgICAgUHJpdmF0ZVdoaXRlbGlzdFVwZGF0ZWQoX3BhcnRpY2lwYW50LCBmYWxzZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkVG9QdWJsaWNXaGl0ZWxpc3QoYWRkcmVzcyBfcGFydGljaXBhbnQpIG9ubHlXaGl0ZWxpc3RTdXBwbGllcigpIHB1YmxpYyByZXR1cm5zKGJvb2wpIHsKICAgICAgICBpZiAod2hpdGVsaXN0UHVibGljW19wYXJ0aWNpcGFudF0pIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIHdoaXRlbGlzdFB1YmxpY1tfcGFydGljaXBhbnRdID0gdHJ1ZTsKICAgICAgICBQdWJsaWNXaGl0ZWxpc3RVcGRhdGVkKF9wYXJ0aWNpcGFudCwgdHJ1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlRnJvbVB1YmxpY1doaXRlbGlzdChhZGRyZXNzIF9wYXJ0aWNpcGFudCkgb25seVdoaXRlbGlzdFN1cHBsaWVyKCkgcHVibGljIHJldHVybnMoYm9vbCkgewogICAgICAgIGlmICghd2hpdGVsaXN0UHVibGljW19wYXJ0aWNpcGFudF0pIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIHdoaXRlbGlzdFB1YmxpY1tfcGFydGljaXBhbnRdID0gZmFsc2U7CiAgICAgICAgUHVibGljV2hpdGVsaXN0VXBkYXRlZChfcGFydGljaXBhbnQsIGZhbHNlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRUb2tlbk93bmVyKCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHJldHVybiBUcmlnZ21pbmVUb2tlbihUT0tFTl9BRERSRVNTKS5nZXRPd25lcigpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlc3RvcmVUb2tlbk93bmVyc2hpcCgpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIFRyaWdnbWluZVRva2VuKFRPS0VOX0FERFJFU1MpLnRyYW5zZmVyT3duZXJzaGlwKEFTU0VUX01BTkFHRVJfV0FMTEVUKTsKICAgIH0KCiAgICBmdW5jdGlvbiAoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgY29udHJpYnV0ZSgpOwogICAgfQoKfQ=='.
	

]
