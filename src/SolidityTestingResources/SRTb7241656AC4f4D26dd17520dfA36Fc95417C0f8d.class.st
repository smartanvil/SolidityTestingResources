Class {
	#name : #SRTb7241656AC4f4D26dd17520dfA36Fc95417C0f8d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTb7241656AC4f4D26dd17520dfA36Fc95417C0f8d >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuNDsKCgpjb250cmFjdCBvd25lZCB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICBmdW5jdGlvbiBvd25lZCgpIHB1YmxpY3sKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgbW9kaWZpZXIgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KfQoKCmNvbnRyYWN0IEVSQzIwVG9rZW4gewogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB0b2tlbk93bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCBiYWxhbmNlKTsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIHRva2VuT3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQgdG9rZW5zKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50IHRva2VucykgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50IHRva2VucykgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB0b2tlbnMpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIHRva2VuT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHRva2Vucyk7Cn0KCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjBUb2tlbiB7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy9EZWZhdWx0IGFzc3VtZXMgdG90YWxTdXBwbHkgY2FuJ3QgYmUgb3ZlciBtYXggKDJeMjU2IC0gMSkuCiAgICAgICAgLy9JZiB5b3VyIHRva2VuIGxlYXZlcyBvdXQgdG90YWxTdXBwbHkgYW5kIGNhbiBpc3N1ZSBtb3JlIHRva2VucyBhcyB0aW1lIGdvZXMgb24sIHlvdSBuZWVkIHRvIGNoZWNrIGlmIGl0IGRvZXNuJ3Qgd3JhcC4KICAgICAgICAvL1JlcGxhY2UgdGhlIGlmIHdpdGggdGhpcyBvbmUgaW5zdGVhZC4KICAgICAgICAvL2lmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsKCiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vc2FtZSBhcyBhYm92ZS4gUmVwbGFjZSB0aGlzIGxpbmUgd2l0aCB0aGUgZm9sbG93aW5nIGlmIHlvdSB3YW50IHRvIHByb3RlY3QgYWdhaW5zdCB3cmFwcGluZyB1aW50cy4KICAgICAgICAvL2lmIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgIGlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50ICByZXR1cm5zICh1aW50IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpIHsKICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSkgYWxsb3dlZDsKICAgIHVpbnQgcHVibGljIF9zdXBwbHk7CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCBzdXBwbHkpIHsKICAgIHJldHVybiBfc3VwcGx5OwogIH0KCn0KCgpjb250cmFjdCBDV1ZUb2tlbiBpcyBTdGFuZGFyZFRva2VuLG93bmVkIHsKCgogICAgdWludCBwdWJsaWMgdGltZV9vbl90cmFkZW1hcmtldDsgLy8gd2hlbiB0byBsb2NrICwgdGhlIGRheSB3aGVuIGN3diBvbiB0cmFkZSBtYXJrZXQKCiAgICB1aW50IHB1YmxpYyB0aW1lX2VuZF9zYWxlOyAvLyBkYXkgd2hlbiBmaW5pc2hlZCBvcGVuIHNhbGVzLCB0aW1lIHRvIGNhbGMgdGVhbSBsb2NrIGRheS4KICAgIAogICAgdWludCBwdWJsaWMgYW5nZWxzX2xvY2tfZGF5czsgLy8gZGF5cyAgdG8gbG9jayBhbmdlbCAsIDkwIGRheXMKCiAgICB1aW50IHB1YmxpYyB0ZWFtX3RvdGFsX2xvY2tfZGF5czsgLy8gZGF5cyB0byBsb2NhbCB0ZWFtICwgMjQgbW9udGgKCiAgICB1aW50IHB1YmxpYyB0ZWFtX3JlbGVhc2VfZXBvY2g7IC8vIGVwb2NoIHRvIHJlbGVhc2UgdGVhbXMKCiAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAiQ3J5cHRvV29ybGRWaXAgIFRva2VuIjsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIkNXViI7CiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAiVjEuMC4wIjsKICAgIHVpbnQgcHVibGljIGRlY2ltYWxzID0gMTg7CgoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgYW5nZWxzX2xvY2tzOy8vYWxsIGxvY2sgMyBtb250aHMsCiAgICAKCiAgICAKICAgIGFkZHJlc3MgcHVibGljIHRlYW1fYWRkcmVzczsKICAgIAogICAgdWludCBwdWJsaWMgdGVhbV9sb2NrX2NvdW50IDsgLy8gdGVhbSBsb2NrIGNvdW50CiAgICB1aW50IHB1YmxpYyBsYXN0X3JlbGVhc2VfZGF0ZSA7IC8vIGxhc3QgdGVhbSBsb2NrIGRhdGUKICAgIHVpbnQgcHVibGljIGVwb2NoX3JlbGVhc2VfY291bnQ7IC8vIHRvdGFsIHJlbGVhc2UgZXBvY2ggY291bnQKCiAgICB1aW50IGNhbGNfdW5pdCA9IDEgZGF5cyA7Ly8gZGF5cwoKICAgIGZ1bmN0aW9uIENXVlRva2VuKCkgcHVibGljewogICAgICAgIAogICAgICAgIHRpbWVfb25fdHJhZGVtYXJrZXQgPSAwOwogICAgICAgIHRpbWVfZW5kX3NhbGUgPSAwOwoKCi8vY2hhbmdlIHRpbWVzCiAgICAgICAgCgogICAgICAgIGFuZ2Vsc19sb2NrX2RheXMgPSA5MCAqIGNhbGNfdW5pdDsgLy9sb2NrIDMgbW9uZ3RoICwKCiAgICAgICAgdGVhbV90b3RhbF9sb2NrX2RheXMgPSA3MjAgKiBjYWxjX3VuaXQ7CgogICAgICAgIHRlYW1fcmVsZWFzZV9lcG9jaCA9IDkwICAqIGNhbGNfdW5pdDsKCiAgICAgICAgX3N1cHBseSA9IDEwMDAwMDAwMDAwICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gX3N1cHBseTsKCiAgICAgICAgdGVhbV9sb2NrX2NvdW50ID0gX3N1cHBseSAqIDE1IC8gMTAwOwoKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CgogICAgICAgIGxhc3RfcmVsZWFzZV9kYXRlID0gbm93OwogICAgICAgIAogICAgICAgIGVwb2NoX3JlbGVhc2VfY291bnQgPSB0ZWFtX2xvY2tfY291bnQvKHRlYW1fdG90YWxfbG9ja19kYXlzL3RlYW1fcmVsZWFzZV9lcG9jaCk7Ly8xMDAwMCwgMzYwKjI9NzMwLCAzMCozPTkwCgogICAgfQoKICAgIGZ1bmN0aW9uIHNldE9ubGluZVRpbWUoKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICAvL3JlcXVpcmUgKHRpbWVfb25fdHJhZGVtYXJrZXQgPT0gMCk7CiAgICAgICAgdGltZV9vbl90cmFkZW1hcmtldCA9IG5vdzsKICAgIAogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoKICAgICAgICByZXF1aXJlIChfdG8gIT0gMHgwICYmIG1zZy5zZW5kZXIgIT0gdGVhbV9hZGRyZXNzICYmIF92YWx1ZSA+MCApOwoKICAgICAgICBpZiAoYW5nZWxzX2xvY2tzW21zZy5zZW5kZXJdICE9IDAgKQogICAgICAgIHsgLy8gYmVmb3JlIGxvY2sgZGF5cyAKICAgICAgICAgICAgaWYodGltZV9vbl90cmFkZW1hcmtldCA9PSAwKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAvL2Nhbm5vdCB0cmFuc2ZlciBiZWZvcmUgdGltZV9vbl90cmFkZW1hcmtldAogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCBub3cgPCB0aW1lX29uX3RyYWRlbWFya2V0ICsgYW5nZWxzX2xvY2tfZGF5cyAmJgogICAgICAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC0gYW5nZWxzX2xvY2tzW21zZy5zZW5kZXJdIDwgX3ZhbHVlICkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgLy8gbm90IGhhdmUgZW5vdWdoIHZhbHVlcyB0byBzZW5kZXIKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmVxdWlyZSAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIC8vMyBtb250aCBsb2NrIHVwCiAgICBmdW5jdGlvbiBlYXJseUFuZ2VsU2FsZXMoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgICB7CiAgICAgICAgcmVxdWlyZSAoX3RvICE9IDB4MCAmJiBfdmFsdWUgPiAwICYmIF90byAhPXRlYW1fYWRkcmVzcyk7CiAgICAgICAgCiAgICAgICAgdWludCB2ID0gX3ZhbHVlICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CiAgICAgICAgcmVxdWlyZSAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gdiAmJiB2ID4gMCkgOwoKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSB2OwogICAgICAgIGJhbGFuY2VzW190b10gKz0gdjsKICAgICAgICBhbmdlbHNfbG9ja3MgWyBfdG8gXSAgKz0gdjsKCiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCB2KTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGJhdGNoRWFybHlBbmdlbFNhbGVzKGFkZHJlc3MgW11fdG9zLCB1aW50MjU2IFtdX3ZhbHVlcykgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sIHN1Y2Nlc3MpICAgewogICAgICAgIHJlcXVpcmUoIF90b3MubGVuZ3RoID09IF92YWx1ZXMubGVuZ3RoICk7CiAgICAgICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgX3Rvcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBlYXJseUFuZ2VsU2FsZXMoX3Rvc1tpXSwgX3ZhbHVlc1tpXSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICBmdW5jdGlvbiBhbmdlbFNhbGVzKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sIHN1Y2Nlc3MpICAgewogICAgICAgIHJlcXVpcmUgKF90byAhPSAweDAgJiYgX3ZhbHVlID4gMCAmJiBfdG8gIT10ZWFtX2FkZHJlc3MpOwogICAgICAgIAogICAgICAgIHVpbnQgdiA9IF92YWx1ZSAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpOwogICAgICAgIHJlcXVpcmUgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IHYgJiYgdiA+IDApIDsKCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gdjsKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IHY7CiAgICAgICAgYW5nZWxzX2xvY2tzW190b10gKz0gdi8yOwoKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIHYpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBiYXRjaEFuZ2VsU2FsZXMoYWRkcmVzcyBbXV90b3MsIHVpbnQyNTYgW11fdmFsdWVzKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgICB7CiAgICAgICAgcmVxdWlyZSggX3Rvcy5sZW5ndGggPT0gX3ZhbHVlcy5sZW5ndGggKTsKICAgICAgICBmb3IgKHVpbnQyNTYgaSA9IDA7IGkgPCBfdG9zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGFuZ2VsU2FsZXMoX3Rvc1tpXSwgX3ZhbHVlc1tpXSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHVubG9ja0FuZ2VsQWNjb3VudHMoYWRkcmVzc1tdIF9iYXRjaE9mQWRkcmVzc2VzKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgICB7CiAgICAgICAgCiAgICAgICAgcmVxdWlyZSggdGltZV9vbl90cmFkZW1hcmtldCAhPSAwICk7CiAgICAgICAgcmVxdWlyZSggbm93ID4gdGltZV9vbl90cmFkZW1hcmtldCArIGFuZ2Vsc19sb2NrX2RheXMgKTsvL2FmdGVyIDNtb250aHMKCiAgICAgICAgYWRkcmVzcyBob2xkZXI7CgogICAgICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IF9iYXRjaE9mQWRkcmVzc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGhvbGRlciA9IF9iYXRjaE9mQWRkcmVzc2VzW2ldOwogICAgICAgICAgICBpZihhbmdlbHNfbG9ja3NbaG9sZGVyXT4wKXsgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBhbmdlbHNfbG9ja3NbaG9sZGVyXSA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGZyb3plbl90ZWFtKGFkZHJlc3MgX3RvKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgICB7CgogICAgICAgIHJlcXVpcmUgKHRlYW1fYWRkcmVzcyA9PSAwKTsKCiAgICAgICAgdGVhbV9hZGRyZXNzID0gX3RvOwogICAgICAgIAogICAgICAgIHVpbnQgdiA9IHRlYW1fbG9ja19jb3VudDsKCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gdjsKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IHY7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCB2KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VUZWFtQWRkcmVzcyhhZGRyZXNzIF9uZXcpICBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgICB7CgogICAgICAgIHJlcXVpcmUgKF9uZXcgIT0gMCAmJiB0ZWFtX2FkZHJlc3MgIT0gMCk7CiAgICAgICAgYWRkcmVzcyBvbGRfdGVhbV9hZGRyZXNzID0gdGVhbV9hZGRyZXNzOwoKICAgICAgICB1aW50IHRlYW1fcmVtYWlucyA9IGJhbGFuY2VzW3RlYW1fYWRkcmVzc107CiAgICAgICAgYmFsYW5jZXNbdGVhbV9hZGRyZXNzXSAtPSB0ZWFtX3JlbWFpbnM7CiAgICAgICAgYmFsYW5jZXNbX25ld10gKz0gdGVhbV9yZW1haW5zOwoKICAgICAgICB0ZWFtX2FkZHJlc3MgPSBfbmV3OwogICAgICAgIFRyYW5zZmVyKG9sZF90ZWFtX2FkZHJlc3MsIF9uZXcsIHRlYW1fcmVtYWlucyk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGVwb2NoUmVsZWFzZVRlYW0oYWRkcmVzcyBfdG8pIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSAgIHsKICAgICAgICByZXF1aXJlIChiYWxhbmNlc1t0ZWFtX2FkZHJlc3NdID4gMCk7CiAgICAgICAgcmVxdWlyZSAobm93ID4gbGFzdF9yZWxlYXNlX2RhdGUgKyB0ZWFtX3JlbGVhc2VfZXBvY2ggKTsKICAgICAgICAKICAgICAgICB1aW50IGN1cnJlbnRfcmVsZWFzZV9jb3VudCA9IChub3cgLSBsYXN0X3JlbGVhc2VfZGF0ZSkgIC8gKHRlYW1fcmVsZWFzZV9lcG9jaCApICogZXBvY2hfcmVsZWFzZV9jb3VudDsKICAgICAgIAogICAgICAgIGlmKGJhbGFuY2VzW3RlYW1fYWRkcmVzc10+Y3VycmVudF9yZWxlYXNlX2NvdW50KXsKICAgICAgICAgICAgY3VycmVudF9yZWxlYXNlX2NvdW50ID0gY3VycmVudF9yZWxlYXNlX2NvdW50OwogICAgICAgIH1lbHNlewogICAgICAgICAgICBjdXJyZW50X3JlbGVhc2VfY291bnQgPSBiYWxhbmNlc1t0ZWFtX2FkZHJlc3NdOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBiYWxhbmNlc1t0ZWFtX2FkZHJlc3NdIC09IGN1cnJlbnRfcmVsZWFzZV9jb3VudDsKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IGN1cnJlbnRfcmVsZWFzZV9jb3VudDsKCiAgICAgICAgbGFzdF9yZWxlYXNlX2RhdGUgKz0gKGN1cnJlbnRfcmVsZWFzZV9jb3VudCAvIGVwb2NoX3JlbGVhc2VfY291bnQgKSAqIHRlYW1fcmVsZWFzZV9lcG9jaDsKCiAgICAgICAgdGVhbV9sb2NrX2NvdW50IC09IGN1cnJlbnRfcmVsZWFzZV9jb3VudDsKCiAgICAgICAgVHJhbnNmZXIodGVhbV9hZGRyZXNzLCBfdG8sIGN1cnJlbnRfcmVsZWFzZV9jb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cgp9'.
	

]
