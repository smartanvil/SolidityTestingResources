Class {
	#name : #SRT66345ae2b6fc2ce02684eee1aa1453257f77e635,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT66345ae2b6fc2ce02684eee1aa1453257f77e635 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4gMC40IC4xMTsKCmNvbnRyYWN0IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIHNhZmVNdWwodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnModWludCkgewogICAgICAgIHVpbnQgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZURpdih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyh1aW50KSB7CiAgICAgICAgYXNzZXJ0KGIgPiAwKTsKICAgICAgICB1aW50IGMgPSBhIC8gYjsKICAgICAgICBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zKHVpbnQpIHsKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHNhZmVBZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnModWludCkgewogICAgICAgIHVpbnQgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEgJiYgYyA+PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCn0KCmNvbnRyYWN0IEVSQzIwIHsKICAgIHVpbnQgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyh1aW50KTsKCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zKHVpbnQpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHJldHVybnMoYm9vbCBvayk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyhib29sIG9rKTsKCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSkgcmV0dXJucyhib29sIG9rKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwp9CgoKY29udHJhY3QgT3duYWJsZSB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgICAgIGlmIChuZXdPd25lciAhPSBhZGRyZXNzKDApKSBvd25lciA9IG5ld093bmVyOwogICAgfQoKICAgIGZ1bmN0aW9uIGtpbGwoKSB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgPT0gb3duZXIpIHNlbGZkZXN0cnVjdChvd25lcik7CiAgICB9CgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyID09IG93bmVyKQogICAgICAgIF87CiAgICB9Cn0KCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgewogICAgYm9vbCBwdWJsaWMgc3RvcHBlZDsKCiAgICBtb2RpZmllciBzdG9wSW5FbWVyZ2VuY3kgewogICAgICAgIGlmIChzdG9wcGVkKSB7CiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIH0KICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlJbkVtZXJnZW5jeSB7CiAgICAgICAgaWYgKCFzdG9wcGVkKSB7CiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIH0KICAgICAgICBfOwogICAgfQoKICAgIC8vIENhbGxlZCBieSB0aGUgb3duZXIgaW4gZW1lcmdlbmN5LCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlCiAgICBmdW5jdGlvbiBlbWVyZ2VuY3lTdG9wKCkgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICBzdG9wcGVkID0gdHJ1ZTsKICAgIH0KCiAgICAvLyBDYWxsZWQgYnkgdGhlIG93bmVyIHRvIGVuZCBvZiBlbWVyZ2VuY3ksIHJldHVybnMgdG8gbm9ybWFsIHN0YXRlCiAgICBmdW5jdGlvbiByZWxlYXNlKCkgZXh0ZXJuYWwgb25seU93bmVyIG9ubHlJbkVtZXJnZW5jeSB7CiAgICAgICAgc3RvcHBlZCA9IGZhbHNlOwogICAgfQp9CgoKCi8vIEJhc2UgY29udHJhY3Qgc3VwcG9ydGluZyBhc3luYyBzZW5kIGZvciBwdWxsIHBheW1lbnRzLgovLyBJbmhlcml0IGZyb20gdGhpcyBjb250cmFjdCBhbmQgdXNlIGFzeW5jU2VuZCBpbnN0ZWFkIG9mIHNlbmQuCmNvbnRyYWN0IFB1bGxQYXltZW50IHsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgcGF5bWVudHM7CgogICAgZXZlbnQgUmVmdW5kRVRIKGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpOwoKICAgIC8vIFN0b3JlIHNlbnQgYW1vdW50IGFzIGNyZWRpdCB0byBiZSBwdWxsZWQsIGNhbGxlZCBieSBwYXllcgogICAgZnVuY3Rpb24gYXN5bmNTZW5kKGFkZHJlc3MgZGVzdCwgdWludCBhbW91bnQpIGludGVybmFsIHsKICAgICAgICBwYXltZW50c1tkZXN0XSArPSBhbW91bnQ7CiAgICB9CiAgICAKICAgIC8vIFdpdGhkcmF3IGFjY3VtdWxhdGVkIGJhbGFuY2UsIGNhbGxlZCBieSBwYXllZQogICAgZnVuY3Rpb24gd2l0aGRyYXdQYXltZW50cygpIGludGVybmFsIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBhZGRyZXNzIHBheWVlID0gbXNnLnNlbmRlcjsKICAgICAgICB1aW50IHBheW1lbnQgPSBwYXltZW50c1twYXllZV07CgogICAgICAgIGlmIChwYXltZW50ID09IDApIHsKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5iYWxhbmNlIDwgcGF5bWVudCkgewogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICB9CgogICAgICAgIHBheW1lbnRzW3BheWVlXSA9IDA7CgogICAgICAgIGlmICghcGF5ZWUuc2VuZChwYXltZW50KSkgewogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICB9CiAgICAgICAgUmVmdW5kRVRIKHBheWVlLCBwYXltZW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKCi8vIENyb3dkc2FsZSBTbWFydCBDb250cmFjdAovLyBUaGlzIHNtYXJ0IGNvbnRyYWN0IGNvbGxlY3RzIEVUSCBhbmQgaW4gcmV0dXJuIHNlbmRzIEdYQyB0b2tlbnMgdG8gdGhlIEJhY2tlcnMKY29udHJhY3QgQ3Jvd2RzYWxlIGlzIFNhZmVNYXRoLCBQYXVzYWJsZSwgUHVsbFBheW1lbnQgewoKICAgIHN0cnVjdCBCYWNrZXIgewogICAgICAgIHVpbnQgd2VpUmVjZWl2ZWQ7IC8vIGFtb3VudCBvZiBFVEggY29udHJpYnV0ZWQKICAgICAgICB1aW50IEdYQ1NlbnQ7IC8vIGFtb3VudCBvZiB0b2tlbnMgIHNlbnQgICAgICAgIAogICAgfQoKICAgIEdYQyBwdWJsaWMgZ3hjOyAvLyBETUlOSSBjb250cmFjdCByZWZlcmVuY2UgICAKICAgIGFkZHJlc3MgcHVibGljIG11bHRpc2lnRVRIOyAvLyBNdWx0aXNpZyBjb250cmFjdCB0aGF0IHdpbGwgcmVjZWl2ZSB0aGUgRVRIICAgIAogICAgYWRkcmVzcyBwdWJsaWMgdGVhbTsgLy8gQWRkcmVzcyBhdCB3aGljaCB0aGUgdGVhbSBHWEMgd2lsbCBiZSBzZW50ICAgCiAgICB1aW50IHB1YmxpYyBFVEhSZWNlaXZlZDsgLy8gTnVtYmVyIG9mIEVUSCByZWNlaXZlZAogICAgdWludCBwdWJsaWMgR1hDU2VudFRvRVRIOyAvLyBOdW1iZXIgb2YgR1hDIHNlbnQgdG8gRVRIIGNvbnRyaWJ1dG9ycwogICAgdWludCBwdWJsaWMgc3RhcnRCbG9jazsgLy8gQ3Jvd2RzYWxlIHN0YXJ0IGJsb2NrCiAgICB1aW50IHB1YmxpYyBlbmRCbG9jazsgLy8gQ3Jvd2RzYWxlIGVuZCBibG9jawogICAgdWludCBwdWJsaWMgbWF4Q2FwOyAvLyBNYXhpbXVtIG51bWJlciBvZiBHWEMgdG8gc2VsbAogICAgdWludCBwdWJsaWMgbWluQ2FwOyAvLyBNaW5pbXVtIG51bWJlciBvZiBFVEggdG8gcmFpc2UKICAgIHVpbnQgcHVibGljIG1pbkludmVzdEVUSDsgLy8gTWluaW11bSBhbW91bnQgdG8gaW52ZXN0CiAgICBib29sIHB1YmxpYyBjcm93ZHNhbGVDbG9zZWQ7IC8vIElzIGNyb3dkc2FsZSBzdGlsbCBvbiBnb2luZwogICAgdWludCBwdWJsaWMgdG9rZW5QcmljZVdlaTsKICAgIHVpbnQgR1hDUmVzZXJ2ZWRGb3JQcmVzYWxlIDsgIAogICAgCgogICAgCiAgICB1aW50IG11bHRpcGxpZXIgPSAxMDAwMDAwMDAwMDsgLy8gdG8gcHJvdmlkZSAxMCBkZWNpbWFsIHZhbHVlcwogICAgLy8gTG9vcGluZyB0aHJvdWdoIEJhY2tlcgogICAgbWFwcGluZyhhZGRyZXNzID0+IEJhY2tlcikgcHVibGljIGJhY2tlcnM7IC8vYmFja2VyIGxpc3QKICAgIGFkZHJlc3NbXSBwdWJsaWMgYmFja2Vyc0luZGV4IDsgICAvLyB0byBiZSBhYmxlIHRvIGl0YXJhdGUgdGhyb3VnaCBiYWNrZXJzIHdoZW4gZGlzdHJpYnV0aW5nIHRoZSB0b2tlbnMuIAoKCiAgICAvLyBAbm90aWNlIHRvIHZlcmlmeSBpZiBhY3Rpb24gaXMgbm90IHBlcmZvcm1lZCBvdXQgb2YgdGhlIGNhbXBhaW5nIHJhbmdlCiAgICBtb2RpZmllciByZXNwZWN0VGltZUZyYW1lKCkgewogICAgICAgIGlmICgoYmxvY2subnVtYmVyIDwgc3RhcnRCbG9jaykgfHwgKGJsb2NrLm51bWJlciA+IGVuZEJsb2NrKSkgcmV2ZXJ0KCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBtaW5DYXBOb3RSZWFjaGVkKCkgewogICAgICAgIGlmIChHWENTZW50VG9FVEggPj0gbWluQ2FwKSByZXZlcnQoKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vIEV2ZW50cwogICAgZXZlbnQgUmVjZWl2ZWRFVEgoYWRkcmVzcyBiYWNrZXIsIHVpbnQgYW1vdW50LCB1aW50IHRva2VuQW1vdW50KTsKCiAgICAvLyBDcm93ZHNhbGUgIHtjb25zdHJ1Y3Rvcn0KICAgIC8vIEBub3RpY2UgZmlyZWQgd2hlbiBjb250cmFjdCBpcyBjcmF0ZWQuIEluaXRpbGl6ZXMgYWxsIGNvbnN0bmF0IHZhcmlhYmxlcy4KICAgIGZ1bmN0aW9uIENyb3dkc2FsZSgpIHsKICAgIAogICAgICAgIG11bHRpc2lnRVRIID0gMHg2MjczOUVjMDljZEQ4RkFlMmY3Yjk3NmY4QzExRGJFMzM4REY4NzUwOyAKICAgICAgICB0ZWFtID0gMHg2MjczOUVjMDljZEQ4RkFlMmY3Yjk3NmY4QzExRGJFMzM4REY4NzUwOyAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgR1hDU2VudFRvRVRIID0gNDg3MDAwICogbXVsdGlwbGllcjsgICAgICAgICAgICAgICAKICAgICAgICBtaW5JbnZlc3RFVEggPSAxMDAwMDAwMDAwMDAwMDAwMDAgOyAvLyAwLjEgZXRoCiAgICAgICAgc3RhcnRCbG9jayA9IDA7IC8vIElDTyBzdGFydCBibG9jawogICAgICAgIGVuZEJsb2NrID0gMDsgLy8gSUNPIGVuZCBibG9jayAgICAgICAgICAgIAogICAgICAgIG1heENhcCA9IDgyNTAwMDAgKiBtdWx0aXBsaWVyOwogICAgICAgIC8vIFByaWNlIGlzIDAuMDAxIGV0aCAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICB0b2tlblByaWNlV2VpID0gMzAwNDQ0NzAwMDAwMDAwMDsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgbWluQ2FwID0gNTAwMDAwICogbXVsdGlwbGllcjsKICAgIH0KCiAgICAvLyBAbm90aWNlIFNwZWNpZnkgYWRkcmVzcyBvZiB0b2tlbiBjb250cmFjdAogICAgLy8gQHBhcmFtIF9HWENBZGRyZXNzIHthZGRyZXNzfSBhZGRyZXNzIG9mIEdYQyB0b2tlbiBjb250cmFjCiAgICAvLyBAcmV0dXJuIHJlcyB7Ym9vbH0KICAgIGZ1bmN0aW9uIHVwZGF0ZVRva2VuQWRkcmVzcyhHWEMgX0dYQ0FkZHJlc3MpIHB1YmxpYyBvbmx5T3duZXIoKSByZXR1cm5zKGJvb2wgcmVzKSB7CiAgICAgICAgZ3hjID0gX0dYQ0FkZHJlc3M7ICAKICAgICAgICByZXR1cm4gdHJ1ZTsgICAgCiAgICB9CgogICAgLy8gQG5vdGljZSBtb2RpZnkgdGhpcyBhZGRyZXNzIHNob3VsZCB0aGlzIGJlIG5lZWRlZC4gCiAgICBmdW5jdGlvbiB1cGRhdGVUZWFtQWRkcmVzcyhhZGRyZXNzIF90ZWFtQWRkcmVzcykgcHVibGljIG9ubHlPd25lciByZXR1cm5zKGJvb2wpewogICAgICAgIHRlYW0gPSBfdGVhbUFkZHJlc3M7CiAgICAgICAgcmV0dXJuIHRydWU7IAogICAgfQoKICAgIC8vIEBub3RpY2UgcmV0dXJuIG51bWJlciBvZiBjb250cmlidXRvcnMKICAgIC8vIEByZXR1cm4gIHt1aW50fSBudW1iZXIgb2YgY29udHJpYnV0b3JzCiAgICBmdW5jdGlvbiBudW1iZXJPZkJhY2tlcnMoKWNvbnN0YW50IHJldHVybnMgKHVpbnQpewogICAgICAgIHJldHVybiBiYWNrZXJzSW5kZXgubGVuZ3RoOwogICAgfQoKICAgIC8vIHtmYWxsYmFjayBmdW5jdGlvbn0KICAgIC8vIEBub3RpY2UgSXQgd2lsbCBjYWxsIGludGVybmFsIGZ1bmN0aW9uIHdoaWNoIGhhbmRlbHMgYWxsb2NhdGlvbiBvZiBFdGhlciBhbmQgY2FsY3VsYXRlcyBHWEMgdG9rZW5zLgogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7ICAgICAgICAgCiAgICAgICAgaGFuZGxlRVRIKG1zZy5zZW5kZXIpOwogICAgfQoKICAgIC8vIEBub3RpY2UgSXQgd2lsbCBiZSBjYWxsZWQgYnkgb3duZXIgdG8gc3RhcnQgdGhlIHNhbGUgICAKICAgIGZ1bmN0aW9uIHN0YXJ0KHVpbnQgX2Jsb2NrKSBvbmx5T3duZXIoKSB7CiAgICAgICAgc3RhcnRCbG9jayA9IGJsb2NrLm51bWJlcjsKICAgICAgICBlbmRCbG9jayA9IHN0YXJ0QmxvY2sgKyBfYmxvY2s7IC8vVE9ETzogUmVwbGFjZSBfYmxvY2sgd2l0aCA0MDMyMCBmb3IgNyBkYXlzCiAgICAgICAgLy8gMSB3ZWVrIGluIGJsb2NrcyA9IDQwMzIwICg0ICogNjAgKiAyNCAqIDcpCiAgICAgICAgLy8gZW5hYmxlIHRoaXMgZm9yIGxpdmUgYXNzdW1pbmcgZWFjaCBibG9jIHRha2VzIDE1IHNlYyAuCiAgICAgICAgY3Jvd2RzYWxlQ2xvc2VkID0gZmFsc2U7CiAgICB9CgogICAgLy8gQG5vdGljZSBJdCB3aWxsIGJlIGNhbGxlZCBieSBmYWxsYmFjayBmdW5jdGlvbiB3aGVuZXZlciBldGhlciBpcyBzZW50IHRvIGl0CiAgICAvLyBAcGFyYW0gIF9iYWNrZXIge2FkZHJlc3N9IGFkZHJlc3Mgb2YgYmVuZWZpY2lhcnkKICAgIC8vIEByZXR1cm4gcmVzIHtib29sfSB0cnVlIGlmIHRyYW5zYWN0aW9uIHdhcyBzdWNjZXNzZnVsCiAgICBmdW5jdGlvbiBoYW5kbGVFVEgoYWRkcmVzcyBfYmFja2VyKSBpbnRlcm5hbCBzdG9wSW5FbWVyZ2VuY3kgcmVzcGVjdFRpbWVGcmFtZSByZXR1cm5zKGJvb2wgcmVzKSB7CgogICAgICAgIGlmIChtc2cudmFsdWUgPCBtaW5JbnZlc3RFVEgpIHJldmVydCgpOyAvLyBzdG9wIHdoZW4gcmVxdWlyZWQgbWluaW11bSBpcyBub3Qgc2VudAoKICAgICAgICB1aW50IEdYQ1RvU2VuZCA9IChtc2cudmFsdWUgKiBtdWx0aXBsaWVyKS8gdG9rZW5QcmljZVdlaSA7IC8vIGNhbGN1bGF0ZSBudW1iZXIgb2YgdG9rZW5zCgogICAgICAgIC8vIEVuc3VyZSB0aGF0IG1heCBjYXAgaGFzbid0IGJlZW4gcmVhY2hlZAogICAgICAgIGlmIChzYWZlQWRkKEdYQ1NlbnRUb0VUSCwgR1hDVG9TZW5kKSA+IG1heENhcCkgcmV2ZXJ0KCk7CgogICAgICAgIEJhY2tlciBzdG9yYWdlIGJhY2tlciA9IGJhY2tlcnNbX2JhY2tlcl07CgogICAgICAgICBpZiAoIGJhY2tlci53ZWlSZWNlaXZlZCAgPT0gMCkKICAgICAgICAgICAgIGJhY2tlcnNJbmRleC5wdXNoKF9iYWNrZXIpOwoKICAgICAgICBpZiAoIWd4Yy50cmFuc2ZlcihfYmFja2VyLCBHWENUb1NlbmQpKSByZXZlcnQoKTsgLy8gVHJhbnNmZXIgR1hDIHRva2VucwogICAgICAgIGJhY2tlci5HWENTZW50ID0gc2FmZUFkZChiYWNrZXIuR1hDU2VudCwgR1hDVG9TZW5kKTsKICAgICAgICBiYWNrZXIud2VpUmVjZWl2ZWQgPSBzYWZlQWRkKGJhY2tlci53ZWlSZWNlaXZlZCwgbXNnLnZhbHVlKTsKICAgICAgICBFVEhSZWNlaXZlZCA9IHNhZmVBZGQoRVRIUmVjZWl2ZWQsIG1zZy52YWx1ZSk7IC8vIFVwZGF0ZSB0aGUgdG90YWwgRXRoZXIgcmVjaXZlZAogICAgICAgIEdYQ1NlbnRUb0VUSCA9IHNhZmVBZGQoR1hDU2VudFRvRVRILCBHWENUb1NlbmQpOwogICAgICAgIFJlY2VpdmVkRVRIKF9iYWNrZXIsIG1zZy52YWx1ZSwgR1hDVG9TZW5kKTsgLy8gUmVnaXN0ZXIgZXZlbnQKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgLy8gQG5vdGljZSBUaGlzIGZ1bmN0aW9uIHdpbGwgZmluYWxpemUgdGhlIHNhbGUuCiAgICAvLyBJdCB3aWxsIG9ubHkgZXhlY3V0ZSBpZiBwcmVkZXRlcm1pbmVkIHNhbGUgdGltZSBwYXNzZWQgb3IgYWxsIHRva2VucyBhcmUgc29sZC4KICAgIGZ1bmN0aW9uIGZpbmFsaXplKCkgb25seU93bmVyKCkgewoKICAgICAgICBpZiAoY3Jvd2RzYWxlQ2xvc2VkKSByZXZlcnQoKTsKICAgICAgICAKICAgICAgICB1aW50IGRheXNUb1JlZnVuZCA9IDQqNjAqMjQqMTA7ICAvLzEwIGRheXMgICAgICAgIAoKICAgICAgICBpZiAoYmxvY2subnVtYmVyIDwgZW5kQmxvY2sgJiYgR1hDU2VudFRvRVRIIDwgbWF4Q2FwIC0xMDAgKSByZXZlcnQoKTsgIC8vIC0xMDAgaXMgdXNlZCB0byBhbGxvdyBjbG9zaW5nIG9mIHRoZSBjYW1wYWluZyB3aGVuIGNvbnRyaWJ1dGlvbiBpcyBuZWFyIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaW5pc2hlZCBhcyBleGFjdCBhbW91bnQgb2YgbWF4Q2FwIG1pZ2h0IGJlIG5vdCBmZWFzaWJsZSBlLmcuIHlvdSBjYW4ndCBlYXNpbHkgYnV5IGZldyB0b2tlbnMuIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIG1pbiBjb250cmlidXRpb24gaXMgMC4xIEV0aC4gIAoKICAgICAgICBpZiAoR1hDU2VudFRvRVRIIDwgbWluQ2FwICYmIGJsb2NrLm51bWJlciA8IHNhZmVBZGQoZW5kQmxvY2sgLCBkYXlzVG9SZWZ1bmQpKSByZXZlcnQoKTsgICAKCiAgICAgICAKICAgICAgICBpZiAoR1hDU2VudFRvRVRIID4gbWluQ2FwKSB7CiAgICAgICAgICAgIGlmICghbXVsdGlzaWdFVEguc2VuZCh0aGlzLmJhbGFuY2UpKSByZXZlcnQoKTsgIC8vIHRyYW5zZmVyIGJhbGFuY2UgdG8gbXVsdGlzaWcgd2FsbGV0CiAgICAgICAgICAgIGlmICghZ3hjLnRyYW5zZmVyKHRlYW0sICBneGMuYmFsYW5jZU9mKHRoaXMpKSkgcmV2ZXJ0KCk7IC8vIHRyYW5zZmVyIHRva2VucyB0byBhZG1pbiBhY2NvdW50IG9yIG11bHRpc2lnIHdhbGxldCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIGd4Yy51bmxvY2soKTsgICAgLy8gcmVsZWFzZSBsb2NrIGZyb20gdHJhbnNmZXJpbmcgdG9rZW5zLiAKICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgICAgaWYgKCFneGMuYnVybih0aGlzLCBneGMuYmFsYW5jZU9mKHRoaXMpKSkgcmV2ZXJ0KCk7ICAvLyBidXJuIGFsbCB0aGUgdG9rZW5zIHJlbWFpbmluZyBpbiB0aGUgY29udHJhY3QgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIH0KCiAgICAgICAgY3Jvd2RzYWxlQ2xvc2VkID0gdHJ1ZTsKICAgICAgICAKICAgIH0KCiAKCiAgCiAgICAvLyBAbm90aWNlIEZhaWxzYWZlIGRyYWluCiAgICBmdW5jdGlvbiBkcmFpbigpIG9ubHlPd25lcigpewogICAgICAgIGlmICghb3duZXIuc2VuZCh0aGlzLmJhbGFuY2UpKSByZXZlcnQoKTsKICAgIH0KCiAgICAvLyBAbm90aWNlIEZhaWxzYWZlIHRyYW5zZmVyIHRva2VucyBmb3IgdGhlIHRlYW0gdG8gZ2l2ZW4gYWNjb3VudCAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRGV2VG9rZW5zKGFkZHJlc3MgX2RldkFkZHJlc3MpIG9ubHlPd25lciByZXR1cm5zKGJvb2wpewogICAgICAgIGlmICghZ3hjLnRyYW5zZmVyKF9kZXZBZGRyZXNzLCAgZ3hjLmJhbGFuY2VPZih0aGlzKSkpIAogICAgICAgICAgICByZXZlcnQoKTsgCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgfSAgICAKCgogICAgLy8gQG5vdGljZSBQcmVwYXJlIHJlZnVuZCBvZiB0aGUgYmFja2VyIGlmIG1pbmltdW0gaXMgbm90IHJlYWNoZWQKICAgIC8vIGJ1cm4gdGhlIHRva2VucwogICAgZnVuY3Rpb24gcHJlcGFyZVJlZnVuZCgpICBtaW5DYXBOb3RSZWFjaGVkIGludGVybmFsIHJldHVybnMgKGJvb2wpewogICAgICAgIHVpbnQgdmFsdWUgPSBiYWNrZXJzW21zZy5zZW5kZXJdLkdYQ1NlbnQ7CgogICAgICAgIGlmICh2YWx1ZSA9PSAwKSByZXZlcnQoKTsgICAgICAgICAgIAogICAgICAgIGlmICghZ3hjLmJ1cm4obXNnLnNlbmRlciwgdmFsdWUpKSByZXZlcnQoKTsKICAgICAgICB1aW50IEVUSFRvU2VuZCA9IGJhY2tlcnNbbXNnLnNlbmRlcl0ud2VpUmVjZWl2ZWQ7CiAgICAgICAgYmFja2Vyc1ttc2cuc2VuZGVyXS53ZWlSZWNlaXZlZCA9IDA7CiAgICAgICAgYmFja2Vyc1ttc2cuc2VuZGVyXS5HWENTZW50ID0gMDsKICAgICAgICBpZiAoRVRIVG9TZW5kID4gMCkgewogICAgICAgICAgICBhc3luY1NlbmQobXNnLnNlbmRlciwgRVRIVG9TZW5kKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfWVsc2UKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIAogICAgfQoKICAgIC8vIEBub3RpY2UgcmVmdW5kIHRoZSBiYWNrZXIKICAgIGZ1bmN0aW9uIHJlZnVuZCgpIHB1YmxpYyByZXR1cm5zIChib29sKXsKCiAgICAgICAgaWYgKCFwcmVwYXJlUmVmdW5kKCkpIHJldmVydCgpOwogICAgICAgIGlmICghd2l0aGRyYXdQYXltZW50cygpKSByZXZlcnQoKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICB9CgogCn0KCi8vIFRoZSBHWEMgdG9rZW4KY29udHJhY3QgR1hDIGlzIEVSQzIwLCBTYWZlTWF0aCwgT3duYWJsZSB7CiAgICAvLyBQdWJsaWMgdmFyaWFibGVzIG9mIHRoZSB0b2tlbgogICAgc3RyaW5nIHB1YmxpYyBuYW1lOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7IC8vIEhvdyBtYW55IGRlY2ltYWxzIHRvIHNob3cuCiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAndjAuMSc7CiAgICB1aW50IHB1YmxpYyBpbml0aWFsU3VwcGx5OwogICAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICBib29sIHB1YmxpYyBsb2NrZWQ7CiAgICBhZGRyZXNzIHB1YmxpYyBjcm93ZFNhbGVBZGRyZXNzOwogICAgdWludCBtdWx0aXBsaWVyID0gMTAwMDAwMDAwMDA7ICAgICAgICAKICAgIAogICAgdWludDI1NiBwdWJsaWMgdG90YWxNaWdyYXRlZDsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgYmFsYW5jZXM7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpKSBhbGxvd2VkOwogICAgCgogICAgLy8gTG9jayB0cmFuc2ZlciBkdXJpbmcgdGhlIElDTwogICAgbW9kaWZpZXIgb25seVVubG9ja2VkKCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IGNyb3dkU2FsZUFkZHJlc3MgJiYgbG9ja2VkICYmIG1zZy5zZW5kZXIgIT0gb3duZXIpIHJldmVydCgpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seUF1dGhvcml6ZWQoKSB7CiAgICAgICAgaWYgKCBtc2cuc2VuZGVyICE9IGNyb3dkU2FsZUFkZHJlc3MgJiYgbXNnLnNlbmRlciAhPSBvd25lcikgcmV2ZXJ0KCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLyBUaGUgR1hDIFRva2VuIGNvbnN0cnVjdG9yCiAgICBmdW5jdGlvbiBHWEMoYWRkcmVzcyBfY3Jvd2RTYWxlQWRkcmVzcykgeyAgICAgICAgCiAgICAgICAgbG9ja2VkID0gdHJ1ZTsgIC8vIExvY2sgdGhlIHRyYW5zZmVyIG9mIHRva2VucyBkdXJpbmcgdGhlIGNyb3dkc2FsZQogICAgICAgIGluaXRpYWxTdXBwbHkgPSAxMDAwMDAwMCAqIG11bHRpcGxpZXI7CiAgICAgICAgdG90YWxTdXBwbHkgPSBpbml0aWFsU3VwcGx5OwogICAgICAgIG5hbWUgPSAnR1hDJzsgLy8gU2V0IHRoZSBuYW1lIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgc3ltYm9sID0gJ0dYQyc7IC8vIFNldCB0aGUgc3ltYm9sIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgZGVjaW1hbHMgPSAxMDsgLy8gQW1vdW50IG9mIGRlY2ltYWxzIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgY3Jvd2RTYWxlQWRkcmVzcyA9IF9jcm93ZFNhbGVBZGRyZXNzOyAgICAgICAgICAgICAgIAogICAgICAgIGJhbGFuY2VzW2Nyb3dkU2FsZUFkZHJlc3NdID0gdG90YWxTdXBwbHk7ICAgICAgIAogICAgfQoKCiAgICBmdW5jdGlvbiByZXN0Q3Jvd2RTYWxlQWRkcmVzcyhhZGRyZXNzIF9uZXdDcm93ZFNhbGVBZGRyZXNzKSBvbmx5QXV0aG9yaXplZCgpIHsKICAgICAgICAgICAgY3Jvd2RTYWxlQWRkcmVzcyA9IF9uZXdDcm93ZFNhbGVBZGRyZXNzOwogICAgfQoKICAgIAoKICAgIGZ1bmN0aW9uIHVubG9jaygpIG9ubHlBdXRob3JpemVkIHsKICAgICAgICBsb2NrZWQgPSBmYWxzZTsKICAgIH0KCiAgICAgIGZ1bmN0aW9uIGxvY2soKSBvbmx5QXV0aG9yaXplZCB7CiAgICAgICAgbG9ja2VkID0gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBidXJuKCBhZGRyZXNzIF9tZW1iZXIsIHVpbnQyNTYgX3ZhbHVlKSBvbmx5QXV0aG9yaXplZCByZXR1cm5zKGJvb2wpIHsKICAgICAgICBiYWxhbmNlc1tfbWVtYmVyXSA9IHNhZmVTdWIoYmFsYW5jZXNbX21lbWJlcl0sIF92YWx1ZSk7CiAgICAgICAgdG90YWxTdXBwbHkgPSBzYWZlU3ViKHRvdGFsU3VwcGx5LCBfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKF9tZW1iZXIsIDB4MCwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlVbmxvY2tlZCByZXR1cm5zKGJvb2wpIHsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHNhZmVTdWIoYmFsYW5jZXNbbXNnLnNlbmRlcl0sIF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZXNbX3RvXSwgX3ZhbHVlKTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyogQSBjb250cmFjdCBhdHRlbXB0cyB0byBnZXQgdGhlIGNvaW5zICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBvbmx5VW5sb2NrZWQgcmV0dXJucyhib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dIDwgX3ZhbHVlKSByZXZlcnQoKTsgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCiAgICAgICAgaWYgKF92YWx1ZSA+IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKSByZXZlcnQoKTsgLy8gQ2hlY2sgYWxsb3dhbmNlCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gc2FmZVN1YihiYWxhbmNlc1tfZnJvbV0sIF92YWx1ZSk7IC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIGJhbGFuY2VzW190b10gPSBzYWZlQWRkKGJhbGFuY2VzW190b10sIF92YWx1ZSk7IC8vIEFkZCB0aGUgc2FtZSB0byB0aGUgcmVjaXBpZW50CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBzYWZlU3ViKGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLCBfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zKHVpbnQgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHJldHVybnMoYm9vbCkgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnModWludCByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KfQ=='.
	

]
