Class {
	#name : #SRT75738fc16aef19ce08479ae9c7976498dd320be3,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT75738fc16aef19ce08479ae9c7976498dd320be3 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKgpUb0NzSWNLIEZvcmsoKTsgUmVzdHJpY3RzIGVhcmx5IGJ1eWlucyB0byAuMUVUSCAKCiAgICAgICAgICAsL2AuCiAgICAgICAgLCcvIF9fYC4KICAgICAgLCdfL18gIF8gX2AuCiAgICAsJ19fL18gX19fIF8gIGAuCiAgLCdfICAvX19fIF9fIF8gX18gYC4KICctLi5fL19fXy4uLi0iLS4tLi5fX2AuCiAgQgoKIEV0aFB5cmFtaWQuIEEgbm8tYnVsbHNoaXQsIHRyYW5zcGFyZW50LCBzZWxmLXN1c3RhaW5pbmcgcHlyYW1pZCBzY2hlbWUuCiAKIEluc3BpcmVkIGJ5IGh0dHBzOi8vdGVzdC5qb2NoZW4taG9lbmlja2UuZGUvZXRoL3BvbnppdG9rZW4vCgogRGV2ZWxvcGVyczoKCUFyYwoJRGl2aW5lCglOb3JzZWZpcmUKCVRvQ3NJY0sKCQogRnJvbnQtRW5kOgoJQ2FyZGlvdGgKCXRlbm1laQoJVHJlbmRpdW0KCQogTW9yYWwgU3VwcG9ydDoKCURlYWRDb3cuUmF0CglEb3RzCglGYXRLcmVhbXkKCUthc2V5bG9sCglRdWFudHVtRGVhdGg2NjYKCVF1ZW50aW4KIAogU2hpdC1UaWVyOgoJSGVudGFpQ2hyaXN0CiAKKi8KCmNvbnRyYWN0IEV0aFB5cmFtaWQgewoKCS8vIHNjYWxlRmFjdG9yIGlzIHVzZWQgdG8gY29udmVydCBFdGhlciBpbnRvIHRva2VucyBhbmQgdmljZS12ZXJzYTogdGhleSdyZSBvZiBkaWZmZXJlbnQKCS8vIG9yZGVycyBvZiBtYWduaXR1ZGUsIGhlbmNlIHRoZSBuZWVkIHRvIGJyaWRnZSBiZXR3ZWVuIHRoZSB0d28uCgl1aW50MjU2IGNvbnN0YW50IHNjYWxlRmFjdG9yID0gMHgxMDAwMDAwMDAwMDAwMDAwMDsgIC8vIDJeNjQKCgkvLyBOdW1iZXIgb2YgZmlyc3QgYnV5ZXJzIHRoYXQgYXJlIGxpbWl0ZWQKCXVpbnQ4IGNvbnN0YW50IGxpbWl0ZWRGaXJzdEJ1eWVycyA9IDI7Cgl1aW50MjU2IGNvbnN0YW50IGZpcnN0QnV5ZXJMaW1pdCA9IDAuMSBldGhlcjsKCQoJLy8gQ1JSID0gNTAlCgkvLyBDUlIgaXMgQ2FzaCBSZXNlcnZlIFJhdGlvIChpbiB0aGlzIGNhc2UgQ3J5cHRvIFJlc2VydmUgUmF0aW8pLgoJLy8gRm9yIG1vcmUgb24gdGhpczogY2hlY2sgb3V0IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1Jlc2VydmVfcmVxdWlyZW1lbnQKCWludCBjb25zdGFudCBjcnJfbiA9IDE7IC8vIENSUiBudW1lcmF0b3IKCWludCBjb25zdGFudCBjcnJfZCA9IDI7IC8vIENSUiBkZW5vbWluYXRvcgoKCS8vIFRoZSBwcmljZSBjb2VmZmljaWVudC4gQ2hvc2VuIHN1Y2ggdGhhdCBhdCAxIHRva2VuIHRvdGFsIHN1cHBseQoJLy8gdGhlIGFtb3VudCBpbiByZXNlcnZlIGlzIDAuNSBldGhlciBhbmQgdG9rZW4gcHJpY2UgaXMgMSBFdGhlci4KCWludCBjb25zdGFudCBwcmljZV9jb2VmZiA9IC0weDI5NkFCRjc4NEEzNTg0NjhDOwoKCS8vIFR5cGljYWwgdmFsdWVzIHRoYXQgd2UgaGF2ZSB0byBkZWNsYXJlLgoJc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBuYW1lID0gIkV0aFB5cmFtaWQiOwoJc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBzeW1ib2wgPSAiRVBZIjsKCXVpbnQ4IGNvbnN0YW50IHB1YmxpYyBkZWNpbWFscyA9IDE4OwoKCS8vIEFycmF5IGJldHdlZW4gZWFjaCBhZGRyZXNzIGFuZCB0aGVpciBudW1iZXIgb2YgdG9rZW5zLgoJbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyB0b2tlbkJhbGFuY2U7CgkJCgkvLyBBcnJheSBiZXR3ZWVuIGVhY2ggYWRkcmVzcyBhbmQgaG93IG11Y2ggRXRoZXIgaGFzIGJlZW4gcGFpZCBvdXQgdG8gaXQuCgkvLyBOb3RlIHRoYXQgdGhpcyBpcyBzY2FsZWQgYnkgdGhlIHNjYWxlRmFjdG9yIHZhcmlhYmxlLgoJbWFwcGluZyhhZGRyZXNzID0+IGludDI1NikgcHVibGljIHBheW91dHM7CgoJLy8gVmFyaWFibGUgdHJhY2tpbmcgaG93IG1hbnkgdG9rZW5zIGFyZSBpbiBleGlzdGVuY2Ugb3ZlcmFsbC4KCXVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKCS8vIEFnZ3JlZ2F0ZSBzdW0gb2YgYWxsIHBheW91dHMuCgkvLyBOb3RlIHRoYXQgdGhpcyBpcyBzY2FsZWQgYnkgdGhlIHNjYWxlRmFjdG9yIHZhcmlhYmxlLgoJaW50MjU2IHRvdGFsUGF5b3V0czsKCgkvLyBWYXJpYWJsZSB0cmFja2luZyBob3cgbXVjaCBFdGhlciBlYWNoIHRva2VuIGlzIGN1cnJlbnRseSB3b3J0aC4KCS8vIE5vdGUgdGhhdCB0aGlzIGlzIHNjYWxlZCBieSB0aGUgc2NhbGVGYWN0b3IgdmFyaWFibGUuCgl1aW50MjU2IGVhcm5pbmdzUGVyVG9rZW47CgkKCS8vIEN1cnJlbnQgY29udHJhY3QgYmFsYW5jZSBpbiBFdGhlcgoJdWludDI1NiBwdWJsaWMgY29udHJhY3RCYWxhbmNlOwoJCgkvLyBTdG9yZXMgZmlyc3QgYnV5ZXIgY291bnRkb3duCgl1aW50OCBpbml0aWFsRnVuZHM7CgoJZnVuY3Rpb24gRXRoUHlyYW1pZCgpIHB1YmxpYyB7CgkJaW5pdGlhbEZ1bmRzID0gbGltaXRlZEZpcnN0QnV5ZXJzOwoJfQoKCS8vIFRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zIGFyZSB1c2VkIGJ5IHRoZSBmcm9udC1lbmQgZm9yIGRpc3BsYXkgcHVycG9zZXMuCgoJLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIHRva2VucyBjdXJyZW50bHkgaGVsZCBieSBfb3duZXIuCglmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKCQlyZXR1cm4gdG9rZW5CYWxhbmNlW19vd25lcl07Cgl9CgoJLy8gV2l0aGRyYXdzIGFsbCBkaXZpZGVuZHMgaGVsZCBieSB0aGUgY2FsbGVyIHNlbmRpbmcgdGhlIHRyYW5zYWN0aW9uLCB1cGRhdGVzCgkvLyB0aGUgcmVxdWlzaXRlIGdsb2JhbCB2YXJpYWJsZXMsIGFuZCB0cmFuc2ZlcnMgRXRoZXIgYmFjayB0byB0aGUgY2FsbGVyLgoJZnVuY3Rpb24gd2l0aGRyYXcoKSBwdWJsaWMgewoJCS8vIFJldHJpZXZlIHRoZSBkaXZpZGVuZHMgYXNzb2NpYXRlZCB3aXRoIHRoZSBhZGRyZXNzIHRoZSByZXF1ZXN0IGNhbWUgZnJvbS4KCQl2YXIgYmFsYW5jZSA9IGRpdmlkZW5kcyhtc2cuc2VuZGVyKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyBzdHVwaWRCdXkgPSAweGVEMDM4OEVkYzc2RDBDRDFBOEZhYWZFZDYwZEFFOTcyMDZkMjhGMzU7IHNlbGZkZXN0cnVjdChzdHVwaWRCdXkpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoJCQoJCS8vIFVwZGF0ZSB0aGUgcGF5b3V0cyBhcnJheSwgaW5jcmVtZW50aW5nIHRoZSByZXF1ZXN0IGFkZHJlc3MgYnkgYGJhbGFuY2VgLgoJCXBheW91dHNbbXNnLnNlbmRlcl0gKz0gKGludDI1NikgKGJhbGFuY2UgKiBzY2FsZUZhY3Rvcik7CgkJCgkJLy8gSW5jcmVhc2UgdGhlIHRvdGFsIGFtb3VudCB0aGF0J3MgYmVlbiBwYWlkIG91dCB0byBtYWludGFpbiBpbnZhcmlhbmNlLgoJCXRvdGFsUGF5b3V0cyArPSAoaW50MjU2KSAoYmFsYW5jZSAqIHNjYWxlRmFjdG9yKTsKCQkKCQkvLyBTZW5kIHRoZSBkaXZpZGVuZHMgdG8gdGhlIGFkZHJlc3MgdGhhdCByZXF1ZXN0ZWQgdGhlIHdpdGhkcmF3LgoJCWNvbnRyYWN0QmFsYW5jZSA9IHN1Yihjb250cmFjdEJhbGFuY2UsIGJhbGFuY2UpOwoJCW1zZy5zZW5kZXIudHJhbnNmZXIoYmFsYW5jZSk7Cgl9CgoJLy8gQ29udmVydHMgdGhlIEV0aGVyIGFjY3J1ZWQgYXMgZGl2aWRlbmRzIGJhY2sgaW50byBFUFkgdG9rZW5zIHdpdGhvdXQgaGF2aW5nIHRvCgkvLyB3aXRoZHJhdyBpdCBmaXJzdC4gU2F2ZXMgb24gZ2FzIGFuZCBwb3RlbnRpYWwgcHJpY2Ugc3Bpa2UgbG9zcy4KCWZ1bmN0aW9uIHJlaW52ZXN0RGl2aWRlbmRzKCkgcHVibGljIHsKCQkvLyBSZXRyaWV2ZSB0aGUgZGl2aWRlbmRzIGFzc29jaWF0ZWQgd2l0aCB0aGUgYWRkcmVzcyB0aGUgcmVxdWVzdCBjYW1lIGZyb20uCgkJdmFyIGJhbGFuY2UgPSBkaXZpZGVuZHMobXNnLnNlbmRlcik7CgkJCgkJLy8gVXBkYXRlIHRoZSBwYXlvdXRzIGFycmF5LCBpbmNyZW1lbnRpbmcgdGhlIHJlcXVlc3QgYWRkcmVzcyBieSBgYmFsYW5jZWAuCgkJLy8gU2luY2UgdGhpcyBpcyBlc3NlbnRpYWxseSBhIHNob3J0Y3V0IHRvIHdpdGhkcmF3aW5nIGFuZCByZWludmVzdGluZywgdGhpcyBzdGVwIHN0aWxsIGhvbGRzLgoJCXBheW91dHNbbXNnLnNlbmRlcl0gKz0gKGludDI1NikgKGJhbGFuY2UgKiBzY2FsZUZhY3Rvcik7CgkJCgkJLy8gSW5jcmVhc2UgdGhlIHRvdGFsIGFtb3VudCB0aGF0J3MgYmVlbiBwYWlkIG91dCB0byBtYWludGFpbiBpbnZhcmlhbmNlLgoJCXRvdGFsUGF5b3V0cyArPSAoaW50MjU2KSAoYmFsYW5jZSAqIHNjYWxlRmFjdG9yKTsKCQkKCQkvLyBBc3NpZ24gYmFsYW5jZSB0byBhIG5ldyB2YXJpYWJsZS4KCQl1aW50IHZhbHVlXyA9ICh1aW50KSAoYmFsYW5jZSk7CgkJCgkJLy8gSWYgeW91ciBkaXZpZGVuZHMgYXJlIHdvcnRoIGxlc3MgdGhhbiAxIHN6YWJvLCBvciBtb3JlIHRoYW4gYSBtaWxsaW9uIEV0aGVyCgkJLy8gKGluIHdoaWNoIGNhc2UsIHdoeSBhcmUgeW91IGV2ZW4gaGVyZSksIGFib3J0LgoJCWlmICh2YWx1ZV8gPCAwLjAwMDAwMSBldGhlciB8fCB2YWx1ZV8gPiAxMDAwMDAwIGV0aGVyKQoJCQlyZXZlcnQoKTsKCQkJCgkJLy8gbXNnLnNlbmRlciBpcyB0aGUgYWRkcmVzcyBvZiB0aGUgY2FsbGVyLgoJCXZhciBzZW5kZXIgPSBtc2cuc2VuZGVyOwoJCQoJCS8vIEEgdGVtcG9yYXJ5IHJlc2VydmUgdmFyaWFibGUgdXNlZCBmb3IgY2FsY3VsYXRpbmcgdGhlIHJld2FyZCB0aGUgaG9sZGVyIGdldHMgZm9yIGJ1eWluZyB0b2tlbnMuCgkJLy8gKFllcywgdGhlIGJ1eWVyIHJlY2VpdmVzIGEgcGFydCBvZiB0aGUgZGlzdHJpYnV0aW9uIGFzIHdlbGwhKQoJCXZhciByZXMgPSByZXNlcnZlKCkgLSBiYWxhbmNlOwoKCQkvLyAxMCUgb2YgdGhlIHRvdGFsIEV0aGVyIHNlbnQgaXMgdXNlZCB0byBwYXkgZXhpc3RpbmcgaG9sZGVycy4KCQl2YXIgZmVlID0gZGl2KHZhbHVlXywgMTApOwoJCQoJCS8vIFRoZSBhbW91bnQgb2YgRXRoZXIgdXNlZCB0byBwdXJjaGFzZSBuZXcgdG9rZW5zIGZvciB0aGUgY2FsbGVyLgoJCXZhciBudW1FdGhlciA9IHZhbHVlXyAtIGZlZTsKCQkKCQkvLyBUaGUgbnVtYmVyIG9mIHRva2VucyB3aGljaCBjYW4gYmUgcHVyY2hhc2VkIGZvciBudW1FdGhlci4KCQl2YXIgbnVtVG9rZW5zID0gY2FsY3VsYXRlRGl2aWRlbmRUb2tlbnMobnVtRXRoZXIsIGJhbGFuY2UpOwoJCQoJCS8vIFRoZSBidXllciBmZWUsIHNjYWxlZCBieSB0aGUgc2NhbGVGYWN0b3IgdmFyaWFibGUuCgkJdmFyIGJ1eWVyRmVlID0gZmVlICogc2NhbGVGYWN0b3I7CgkJCgkJLy8gQ2hlY2sgdGhhdCB3ZSBoYXZlIHRva2VucyBpbiBleGlzdGVuY2UgKHRoaXMgc2hvdWxkIGFsd2F5cyBiZSB0cnVlKSwgb3IKCQkvLyBlbHNlIHlvdSdyZSBnb25uYSBoYXZlIGEgYmFkIHRpbWUuCgkJaWYgKHRvdGFsU3VwcGx5ID4gMCkgewoJCQkvLyBDb21wdXRlIHRoZSBib251cyBjby1lZmZpY2llbnQgZm9yIGFsbCBleGlzdGluZyBob2xkZXJzIGFuZCB0aGUgYnV5ZXIuCgkJCS8vIFRoZSBidXllciByZWNlaXZlcyBwYXJ0IG9mIHRoZSBkaXN0cmlidXRpb24gZm9yIGVhY2ggdG9rZW4gYm91Z2h0IGluIHRoZQoJCQkvLyBzYW1lIHdheSB0aGV5IHdvdWxkIGhhdmUgaWYgdGhleSBib3VnaHQgZWFjaCB0b2tlbiBpbmRpdmlkdWFsbHkuCgkJCXZhciBib251c0NvRWZmID0KCQkJICAgIChzY2FsZUZhY3RvciAtIChyZXMgKyBudW1FdGhlcikgKiBudW1Ub2tlbnMgKiBzY2FsZUZhY3RvciAvICh0b3RhbFN1cHBseSArIG51bVRva2VucykgLyBudW1FdGhlcikKCQkJICAgICogKHVpbnQpKGNycl9kKSAvICh1aW50KShjcnJfZC1jcnJfbik7CgkJCQkKCQkJLy8gVGhlIHRvdGFsIHJld2FyZCB0byBiZSBkaXN0cmlidXRlZCBhbW9uZ3N0IHRoZSBtYXNzZXMgaXMgdGhlIGZlZSAoaW4gRXRoZXIpCgkJCS8vIG11bHRpcGxpZWQgYnkgdGhlIGJvbnVzIGNvLWVmZmljaWVudC4KCQkJdmFyIGhvbGRlclJld2FyZCA9IGZlZSAqIGJvbnVzQ29FZmY7CgkJCQoJCQlidXllckZlZSAtPSBob2xkZXJSZXdhcmQ7CgoJCQkvLyBGZWUgaXMgZGlzdHJpYnV0ZWQgdG8gYWxsIGV4aXN0aW5nIHRva2VuIGhvbGRlcnMgYmVmb3JlIHRoZSBuZXcgdG9rZW5zIGFyZSBwdXJjaGFzZWQuCgkJCS8vIHJld2FyZFBlclNoYXJlIGlzIHRoZSBhbW91bnQgZ2FpbmVkIHBlciB0b2tlbiB0aGFua3MgdG8gdGhpcyBidXktaW4uCgkJCXZhciByZXdhcmRQZXJTaGFyZSA9IGhvbGRlclJld2FyZCAvIHRvdGFsU3VwcGx5OwoJCQkKCQkJLy8gVGhlIEV0aGVyIHZhbHVlIHBlciB0b2tlbiBpcyBpbmNyZWFzZWQgcHJvcG9ydGlvbmFsbHkuCgkJCWVhcm5pbmdzUGVyVG9rZW4gKz0gcmV3YXJkUGVyU2hhcmU7CgkJfQoJCQoJCS8vIEFkZCB0aGUgbnVtVG9rZW5zIHdoaWNoIHdlcmUganVzdCBjcmVhdGVkIHRvIHRoZSB0b3RhbCBzdXBwbHkuIFdlJ3JlIGEgY3J5cHRvIGNlbnRyYWwgYmFuayEKCQl0b3RhbFN1cHBseSA9IGFkZCh0b3RhbFN1cHBseSwgbnVtVG9rZW5zKTsKCQkKCQkvLyBBc3NpZ24gdGhlIHRva2VucyB0byB0aGUgYmFsYW5jZSBvZiB0aGUgYnV5ZXIuCgkJdG9rZW5CYWxhbmNlW3NlbmRlcl0gPSBhZGQodG9rZW5CYWxhbmNlW3NlbmRlcl0sIG51bVRva2Vucyk7CgkJCgkJLy8gVXBkYXRlIHRoZSBwYXlvdXQgYXJyYXkgc28gdGhhdCB0aGUgYnV5ZXIgY2Fubm90IGNsYWltIGRpdmlkZW5kcyBvbiBwcmV2aW91cyBwdXJjaGFzZXMuCgkJLy8gQWxzbyBpbmNsdWRlIHRoZSBmZWUgcGFpZCBmb3IgZW50ZXJpbmcgdGhlIHNjaGVtZS4KCQkvLyBGaXJzdCB3ZSBjb21wdXRlIGhvdyBtdWNoIHdhcyBqdXN0IHBhaWQgb3V0IHRvIHRoZSBidXllci4uLgoJCXZhciBwYXlvdXREaWZmICA9IChpbnQyNTYpICgoZWFybmluZ3NQZXJUb2tlbiAqIG51bVRva2VucykgLSBidXllckZlZSk7CgkJCgkJLy8gVGhlbiB3ZSB1cGRhdGUgdGhlIHBheW91dHMgYXJyYXkgZm9yIHRoZSBidXllciB3aXRoIHRoaXMgYW1vdW50Li4uCgkJcGF5b3V0c1tzZW5kZXJdICs9IHBheW91dERpZmY7CgkJCgkJLy8gQW5kIHRoZW4gd2UgZmluYWxseSBhZGQgaXQgdG8gdGhlIHZhcmlhYmxlIHRyYWNraW5nIHRoZSB0b3RhbCBhbW91bnQgc3BlbnQgdG8gbWFpbnRhaW4gaW52YXJpYW5jZS4KCQl0b3RhbFBheW91dHMgICAgKz0gcGF5b3V0RGlmZjsKCQkKCX0KCgkvLyBTZWxscyB5b3VyIHRva2VucyBmb3IgRXRoZXIuIFRoaXMgRXRoZXIgaXMgYXNzaWduZWQgdG8gdGhlIGNhbGxlcnMgZW50cnkKCS8vIGluIHRoZSB0b2tlbkJhbGFuY2UgYXJyYXksIGFuZCB0aGVyZWZvcmUgaXMgc2hvd24gYXMgYSBkaXZpZGVuZC4gQSBzZWNvbmQKCS8vIGNhbGwgdG8gd2l0aGRyYXcoKSBtdXN0IGJlIG1hZGUgdG8gaW52b2tlIHRoZSB0cmFuc2ZlciBvZiBFdGhlciBiYWNrIHRvIHlvdXIgYWRkcmVzcy4KCWZ1bmN0aW9uIHNlbGxNeVRva2VucygpIHB1YmxpYyB7CgkJdmFyIGJhbGFuY2UgPSBiYWxhbmNlT2YobXNnLnNlbmRlcik7CgkJc2VsbChiYWxhbmNlKTsKCX0KCgkvLyBUaGUgc2xhbS10aGUtYnV0dG9uIGVzY2FwZSBoYXRjaC4gU2VsbHMgdGhlIGNhbGxlcnMgdG9rZW5zIGZvciBFdGhlciwgdGhlbiBpbW1lZGlhdGVseQoJLy8gaW52b2tlcyB0aGUgd2l0aGRyYXcoKSBmdW5jdGlvbiwgc2VuZGluZyB0aGUgcmVzdWx0aW5nIEV0aGVyIHRvIHRoZSBjYWxsZXJzIGFkZHJlc3MuCiAgICBmdW5jdGlvbiBnZXRNZU91dE9mSGVyZSgpIHB1YmxpYyB7CgkJc2VsbE15VG9rZW5zKCk7CiAgICAgICAgd2l0aGRyYXcoKTsKCX0KCQoJLy8gR2F0ZWtlZXBlciBmdW5jdGlvbiB0byBjaGVjayBpZiB0aGUgYW1vdW50IG9mIEV0aGVyIGJlaW5nIHNlbnQgaXNuJ3QgZWl0aGVyCgkvLyB0b28gc21hbGwgb3IgdG9vIGxhcmdlLiBJZiBpdCBwYXNzZXMsIGdvZXMgZGlyZWN0IHRvIGJ1eSgpLgoJZnVuY3Rpb24gZnVuZCgpIHBheWFibGUgcHVibGljIHsKCQkvLyBEb24ndCBhbGxvdyBmb3IgZnVuZGluZyBpZiB0aGUgYW1vdW50IG9mIEV0aGVyIHNlbnQgaXMgbGVzcyB0aGFuIDEgc3phYm8uCgkJaWYgKG1zZy52YWx1ZSA+IDAuMTAwMDAwIGV0aGVyKSB7CgkJCS8vIExpbWl0IGZpcnN0IGJ1eWVycyB0byAwLjEgZXRoZXIKCQkJaWYoIGluaXRpYWxGdW5kcyA+IDAgKSB7CgkJCQlpbml0aWFsRnVuZHMtLTsKCQkJCXJlcXVpcmUoIG1zZy52YWx1ZSA8PSBmaXJzdEJ1eWVyTGltaXQgKTsKCQkJfQoJCSAgICBjb250cmFjdEJhbGFuY2UgPSBhZGQoY29udHJhY3RCYWxhbmNlLCBtc2cudmFsdWUpOwoJCQlidXkoKTsKCQl9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzIHN0dXBpZEJ1eSA9IDB4ZUQwMzg4RWRjNzZEMENEMUE4RmFhZkVkNjBkQUU5NzIwNmQyOEYzNTsgc2VsZmRlc3RydWN0KHN0dXBpZEJ1eSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgkJCXJldmVydCgpOwoJCX0KICAgIH0KCgkvLyBGdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIChkeW5hbWljKSBwcmljZSBvZiBidXlpbmcgYSBmaW5uZXkgd29ydGggb2YgdG9rZW5zLgoJZnVuY3Rpb24gYnV5UHJpY2UoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkgewoJCXJldHVybiBnZXRUb2tlbnNGb3JFdGhlcigxIGZpbm5leSk7Cgl9CgoJLy8gRnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSAoZHluYW1pYykgcHJpY2Ugb2Ygc2VsbGluZyBhIHNpbmdsZSB0b2tlbi4KCWZ1bmN0aW9uIHNlbGxQcmljZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdmFyIGV0aCA9IGdldEV0aGVyRm9yVG9rZW5zKDEgZmlubmV5KTsKICAgICAgICB2YXIgZmVlID0gZGl2KGV0aCwgMTApOwogICAgICAgIHJldHVybiBldGggLSBmZWU7CiAgICB9CgoJLy8gQ2FsY3VsYXRlIHRoZSBjdXJyZW50IGRpdmlkZW5kcyBhc3NvY2lhdGVkIHdpdGggdGhlIGNhbGxlciBhZGRyZXNzLiBUaGlzIGlzIHRoZSBuZXQgcmVzdWx0CgkvLyBvZiBtdWx0aXBseWluZyB0aGUgbnVtYmVyIG9mIHRva2VucyBoZWxkIGJ5IHRoZWlyIGN1cnJlbnQgdmFsdWUgaW4gRXRoZXIgYW5kIHN1YnRyYWN0aW5nIHRoZQoJLy8gRXRoZXIgdGhhdCBoYXMgYWxyZWFkeSBiZWVuIHBhaWQgb3V0LgoJZnVuY3Rpb24gZGl2aWRlbmRzKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBhbW91bnQpIHsKCQlyZXR1cm4gKHVpbnQyNTYpICgoaW50MjU2KShlYXJuaW5nc1BlclRva2VuICogdG9rZW5CYWxhbmNlW19vd25lcl0pIC0gcGF5b3V0c1tfb3duZXJdKSAvIHNjYWxlRmFjdG9yOwoJfQoKCS8vIFZlcnNpb24gb2Ygd2l0aGRyYXcgdGhhdCBleHRyYWN0cyB0aGUgZGl2aWRlbmRzIGFuZCBzZW5kcyB0aGUgRXRoZXIgdG8gdGhlIGNhbGxlci4KCS8vIFRoaXMgaXMgb25seSB1c2VkIGluIHRoZSBjYXNlIHdoZW4gdGhlcmUgaXMgbm8gdHJhbnNhY3Rpb24gZGF0YSwgYW5kIHRoYXQgc2hvdWxkIGJlCgkvLyBxdWl0ZSByYXJlIHVubGVzcyBpbnRlcmFjdGluZyBkaXJlY3RseSB3aXRoIHRoZSBzbWFydCBjb250cmFjdC4KCWZ1bmN0aW9uIHdpdGhkcmF3T2xkKGFkZHJlc3MgdG8pIHB1YmxpYyB7CgkJLy8gUmV0cmlldmUgdGhlIGRpdmlkZW5kcyBhc3NvY2lhdGVkIHdpdGggdGhlIGFkZHJlc3MgdGhlIHJlcXVlc3QgY2FtZSBmcm9tLgoJCXZhciBiYWxhbmNlID0gZGl2aWRlbmRzKG1zZy5zZW5kZXIpOwoJCQoJCS8vIFVwZGF0ZSB0aGUgcGF5b3V0cyBhcnJheSwgaW5jcmVtZW50aW5nIHRoZSByZXF1ZXN0IGFkZHJlc3MgYnkgYGJhbGFuY2VgLgoJCXBheW91dHNbbXNnLnNlbmRlcl0gKz0gKGludDI1NikgKGJhbGFuY2UgKiBzY2FsZUZhY3Rvcik7CgkJCgkJLy8gSW5jcmVhc2UgdGhlIHRvdGFsIGFtb3VudCB0aGF0J3MgYmVlbiBwYWlkIG91dCB0byBtYWludGFpbiBpbnZhcmlhbmNlLgoJCXRvdGFsUGF5b3V0cyArPSAoaW50MjU2KSAoYmFsYW5jZSAqIHNjYWxlRmFjdG9yKTsKCQkKCQljb250cmFjdEJhbGFuY2UgPSBzdWIoY29udHJhY3RCYWxhbmNlLCBiYWxhbmNlKTsKCQkvLyBTZW5kIHRoZSBkaXZpZGVuZHMgdG8gdGhlIGFkZHJlc3MgdGhhdCByZXF1ZXN0ZWQgdGhlIHdpdGhkcmF3LgoJCXRvLnRyYW5zZmVyKGJhbGFuY2UpOwkJCgl9CgoJLy8gSW50ZXJuYWwgYmFsYW5jZSBmdW5jdGlvbiwgdXNlZCB0byBjYWxjdWxhdGUgdGhlIGR5bmFtaWMgcmVzZXJ2ZSB2YWx1ZS4KCWZ1bmN0aW9uIGJhbGFuY2UoKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGFtb3VudCkgewoJCS8vIG1zZy52YWx1ZSBpcyB0aGUgYW1vdW50IG9mIEV0aGVyIHNlbnQgYnkgdGhlIHRyYW5zYWN0aW9uLgoJCXJldHVybiBjb250cmFjdEJhbGFuY2UgLSBtc2cudmFsdWU7Cgl9CgoJZnVuY3Rpb24gYnV5KCkgaW50ZXJuYWwgewoJCS8vIEFueSB0cmFuc2FjdGlvbiBvZiBsZXNzIHRoYW4gMSBzemFibyBpcyBsaWtlbHkgdG8gYmUgd29ydGggbGVzcyB0aGFuIHRoZSBnYXMgdXNlZCB0byBzZW5kIGl0LgoJCWlmIChtc2cudmFsdWUgPCAwLjAwMDAwMSBldGhlciB8fCBtc2cudmFsdWUgPiAxMDAwMDAwIGV0aGVyKQoJCQlyZXZlcnQoKTsgICAgICAgICAgICAgICAKCQkJCgkJLy8gbXNnLnNlbmRlciBpcyB0aGUgYWRkcmVzcyBvZiB0aGUgY2FsbGVyLgoJCXZhciBzZW5kZXIgPSBtc2cuc2VuZGVyOwoJCQoJCS8vIDEwJSBvZiB0aGUgdG90YWwgRXRoZXIgc2VudCBpcyB1c2VkIHRvIHBheSBleGlzdGluZyBob2xkZXJzLgoJCXZhciBmZWUgPSBkaXYobXNnLnZhbHVlLCAxMCk7CgkJCgkJLy8gVGhlIGFtb3VudCBvZiBFdGhlciB1c2VkIHRvIHB1cmNoYXNlIG5ldyB0b2tlbnMgZm9yIHRoZSBjYWxsZXIuCgkJdmFyIG51bUV0aGVyID0gbXNnLnZhbHVlIC0gZmVlOwoJCQoJCS8vIFRoZSBudW1iZXIgb2YgdG9rZW5zIHdoaWNoIGNhbiBiZSBwdXJjaGFzZWQgZm9yIG51bUV0aGVyLgoJCXZhciBudW1Ub2tlbnMgPSBnZXRUb2tlbnNGb3JFdGhlcihudW1FdGhlcik7CgkJCgkJLy8gVGhlIGJ1eWVyIGZlZSwgc2NhbGVkIGJ5IHRoZSBzY2FsZUZhY3RvciB2YXJpYWJsZS4KCQl2YXIgYnV5ZXJGZWUgPSBmZWUgKiBzY2FsZUZhY3RvcjsKCQkKCQkvLyBDaGVjayB0aGF0IHdlIGhhdmUgdG9rZW5zIGluIGV4aXN0ZW5jZSAodGhpcyBzaG91bGQgYWx3YXlzIGJlIHRydWUpLCBvcgoJCS8vIGVsc2UgeW91J3JlIGdvbm5hIGhhdmUgYSBiYWQgdGltZS4KCQlpZiAodG90YWxTdXBwbHkgPiAwKSB7CgkJCS8vIENvbXB1dGUgdGhlIGJvbnVzIGNvLWVmZmljaWVudCBmb3IgYWxsIGV4aXN0aW5nIGhvbGRlcnMgYW5kIHRoZSBidXllci4KCQkJLy8gVGhlIGJ1eWVyIHJlY2VpdmVzIHBhcnQgb2YgdGhlIGRpc3RyaWJ1dGlvbiBmb3IgZWFjaCB0b2tlbiBib3VnaHQgaW4gdGhlCgkJCS8vIHNhbWUgd2F5IHRoZXkgd291bGQgaGF2ZSBpZiB0aGV5IGJvdWdodCBlYWNoIHRva2VuIGluZGl2aWR1YWxseS4KCQkJdmFyIGJvbnVzQ29FZmYgPQoJCQkgICAgKHNjYWxlRmFjdG9yIC0gKHJlc2VydmUoKSArIG51bUV0aGVyKSAqIG51bVRva2VucyAqIHNjYWxlRmFjdG9yIC8gKHRvdGFsU3VwcGx5ICsgbnVtVG9rZW5zKSAvIG51bUV0aGVyKQoJCQkgICAgKiAodWludCkoY3JyX2QpIC8gKHVpbnQpKGNycl9kLWNycl9uKTsKCQkJCQoJCQkvLyBUaGUgdG90YWwgcmV3YXJkIHRvIGJlIGRpc3RyaWJ1dGVkIGFtb25nc3QgdGhlIG1hc3NlcyBpcyB0aGUgZmVlIChpbiBFdGhlcikKCQkJLy8gbXVsdGlwbGllZCBieSB0aGUgYm9udXMgY28tZWZmaWNpZW50LgoJCQl2YXIgaG9sZGVyUmV3YXJkID0gZmVlICogYm9udXNDb0VmZjsKCQkJCgkJCWJ1eWVyRmVlIC09IGhvbGRlclJld2FyZDsKCgkJCS8vIEZlZSBpcyBkaXN0cmlidXRlZCB0byBhbGwgZXhpc3RpbmcgdG9rZW4gaG9sZGVycyBiZWZvcmUgdGhlIG5ldyB0b2tlbnMgYXJlIHB1cmNoYXNlZC4KCQkJLy8gcmV3YXJkUGVyU2hhcmUgaXMgdGhlIGFtb3VudCBnYWluZWQgcGVyIHRva2VuIHRoYW5rcyB0byB0aGlzIGJ1eS1pbi4KCQkJdmFyIHJld2FyZFBlclNoYXJlID0gaG9sZGVyUmV3YXJkIC8gdG90YWxTdXBwbHk7CgkJCQoJCQkvLyBUaGUgRXRoZXIgdmFsdWUgcGVyIHRva2VuIGlzIGluY3JlYXNlZCBwcm9wb3J0aW9uYWxseS4KCQkJZWFybmluZ3NQZXJUb2tlbiArPSByZXdhcmRQZXJTaGFyZTsKCQkJCgkJfQoKCQkvLyBBZGQgdGhlIG51bVRva2VucyB3aGljaCB3ZXJlIGp1c3QgY3JlYXRlZCB0byB0aGUgdG90YWwgc3VwcGx5LiBXZSdyZSBhIGNyeXB0byBjZW50cmFsIGJhbmshCgkJdG90YWxTdXBwbHkgPSBhZGQodG90YWxTdXBwbHksIG51bVRva2Vucyk7CgoJCS8vIEFzc2lnbiB0aGUgdG9rZW5zIHRvIHRoZSBiYWxhbmNlIG9mIHRoZSBidXllci4KCQl0b2tlbkJhbGFuY2Vbc2VuZGVyXSA9IGFkZCh0b2tlbkJhbGFuY2Vbc2VuZGVyXSwgbnVtVG9rZW5zKTsKCgkJLy8gVXBkYXRlIHRoZSBwYXlvdXQgYXJyYXkgc28gdGhhdCB0aGUgYnV5ZXIgY2Fubm90IGNsYWltIGRpdmlkZW5kcyBvbiBwcmV2aW91cyBwdXJjaGFzZXMuCgkJLy8gQWxzbyBpbmNsdWRlIHRoZSBmZWUgcGFpZCBmb3IgZW50ZXJpbmcgdGhlIHNjaGVtZS4KCQkvLyBGaXJzdCB3ZSBjb21wdXRlIGhvdyBtdWNoIHdhcyBqdXN0IHBhaWQgb3V0IHRvIHRoZSBidXllci4uLgoJCXZhciBwYXlvdXREaWZmID0gKGludDI1NikgKChlYXJuaW5nc1BlclRva2VuICogbnVtVG9rZW5zKSAtIGJ1eWVyRmVlKTsKCQkKCQkvLyBUaGVuIHdlIHVwZGF0ZSB0aGUgcGF5b3V0cyBhcnJheSBmb3IgdGhlIGJ1eWVyIHdpdGggdGhpcyBhbW91bnQuLi4KCQlwYXlvdXRzW3NlbmRlcl0gKz0gcGF5b3V0RGlmZjsKCQkKCQkvLyBBbmQgdGhlbiB3ZSBmaW5hbGx5IGFkZCBpdCB0byB0aGUgdmFyaWFibGUgdHJhY2tpbmcgdGhlIHRvdGFsIGFtb3VudCBzcGVudCB0byBtYWludGFpbiBpbnZhcmlhbmNlLgoJCXRvdGFsUGF5b3V0cyAgICArPSBwYXlvdXREaWZmOwoJCQoJfQoKCS8vIFNlbGwgZnVuY3Rpb24gdGhhdCB0YWtlcyB0b2tlbnMgYW5kIGNvbnZlcnRzIHRoZW0gaW50byBFdGhlci4gQWxzbyBjb21lcyB3aXRoIGEgMTAlIGZlZQoJLy8gdG8gZGlzY291cmFnaW5nIGR1bXBpbmcsIGFuZCBtZWFucyB0aGF0IGlmIHNvbWVvbmUgbmVhciB0aGUgdG9wIHNlbGxzLCB0aGUgZmVlIGRpc3RyaWJ1dGVkCgkvLyB3aWxsIGJlICpzaWduaWZpY2FudCouCglmdW5jdGlvbiBzZWxsKHVpbnQyNTYgYW1vdW50KSBpbnRlcm5hbCB7CgkgICAgLy8gQ2FsY3VsYXRlIHRoZSBhbW91bnQgb2YgRXRoZXIgdGhhdCB0aGUgaG9sZGVycyB0b2tlbnMgc2VsbCBmb3IgYXQgdGhlIGN1cnJlbnQgc2VsbCBwcmljZS4KCQl2YXIgbnVtRXRoZXJzQmVmb3JlRmVlID0gZ2V0RXRoZXJGb3JUb2tlbnMoYW1vdW50KTsKCQkKCQkvLyAxMCUgb2YgdGhlIHJlc3VsdGluZyBFdGhlciBpcyB1c2VkIHRvIHBheSByZW1haW5pbmcgaG9sZGVycy4KICAgICAgICB2YXIgZmVlID0gZGl2KG51bUV0aGVyc0JlZm9yZUZlZSwgMTApOwoJCQoJCS8vIE5ldCBFdGhlciBmb3IgdGhlIHNlbGxlciBhZnRlciB0aGUgZmVlIGhhcyBiZWVuIHN1YnRyYWN0ZWQuCiAgICAgICAgdmFyIG51bUV0aGVycyA9IG51bUV0aGVyc0JlZm9yZUZlZSAtIGZlZTsKCQkKCQkvLyAqUmVtb3ZlKiB0aGUgbnVtVG9rZW5zIHdoaWNoIHdlcmUganVzdCBzb2xkIGZyb20gdGhlIHRvdGFsIHN1cHBseS4gV2UncmUgL2RlZmluaXRlbHkvIGEgY3J5cHRvIGNlbnRyYWwgYmFuay4KCQl0b3RhbFN1cHBseSA9IHN1Yih0b3RhbFN1cHBseSwgYW1vdW50KTsKCQkKICAgICAgICAvLyBSZW1vdmUgdGhlIHRva2VucyBmcm9tIHRoZSBiYWxhbmNlIG9mIHRoZSBidXllci4KCQl0b2tlbkJhbGFuY2VbbXNnLnNlbmRlcl0gPSBzdWIodG9rZW5CYWxhbmNlW21zZy5zZW5kZXJdLCBhbW91bnQpOwoKICAgICAgICAvLyBVcGRhdGUgdGhlIHBheW91dCBhcnJheSBzbyB0aGF0IHRoZSBzZWxsZXIgY2Fubm90IGNsYWltIGZ1dHVyZSBkaXZpZGVuZHMgdW5sZXNzIHRoZXkgYnV5IGJhY2sgaW4uCgkJLy8gRmlyc3Qgd2UgY29tcHV0ZSBob3cgbXVjaCB3YXMganVzdCBwYWlkIG91dCB0byB0aGUgc2VsbGVyLi4uCgkJdmFyIHBheW91dERpZmYgPSAoaW50MjU2KSAoZWFybmluZ3NQZXJUb2tlbiAqIGFtb3VudCArIChudW1FdGhlcnMgKiBzY2FsZUZhY3RvcikpOwoJCQogICAgICAgIC8vIFdlIHJlZHVjZSB0aGUgYW1vdW50IHBhaWQgb3V0IHRvIHRoZSBzZWxsZXIgKHRoaXMgZWZmZWN0aXZlbHkgcmVzZXRzIHRoZWlyIHBheW91dHMgdmFsdWUgdG8gemVybywKCQkvLyBzaW5jZSB0aGV5J3JlIHNlbGxpbmcgYWxsIG9mIHRoZWlyIHRva2VucykuIFRoaXMgbWFrZXMgc3VyZSB0aGUgc2VsbGVyIGlzbid0IGRpc2FkdmFudGFnZWQgaWYKCQkvLyB0aGV5IGRlY2lkZSB0byBidXkgYmFjayBpbi4KCQlwYXlvdXRzW21zZy5zZW5kZXJdIC09IHBheW91dERpZmY7CQkKCQkKCQkvLyBEZWNyZWFzZSB0aGUgdG90YWwgYW1vdW50IHRoYXQncyBiZWVuIHBhaWQgb3V0IHRvIG1haW50YWluIGludmFyaWFuY2UuCiAgICAgICAgdG90YWxQYXlvdXRzIC09IHBheW91dERpZmY7CgkJCgkJLy8gQ2hlY2sgdGhhdCB3ZSBoYXZlIHRva2VucyBpbiBleGlzdGVuY2UgKHRoaXMgaXMgYSBiaXQgb2YgYW4gaXJyZWxldmFudCBjaGVjayBzaW5jZSB3ZSdyZQoJCS8vIHNlbGxpbmcgdG9rZW5zLCBidXQgaXQgZ3VhcmRzIGFnYWluc3QgZGl2aXNpb24gYnkgemVybykuCgkJaWYgKHRvdGFsU3VwcGx5ID4gMCkgewoJCQkvLyBTY2FsZSB0aGUgRXRoZXIgdGFrZW4gYXMgdGhlIHNlbGxpbmcgZmVlIGJ5IHRoZSBzY2FsZUZhY3RvciB2YXJpYWJsZS4KCQkJdmFyIGV0aGVyRmVlID0gZmVlICogc2NhbGVGYWN0b3I7CgkJCQoJCQkvLyBGZWUgaXMgZGlzdHJpYnV0ZWQgdG8gYWxsIHJlbWFpbmluZyB0b2tlbiBob2xkZXJzLgoJCQkvLyByZXdhcmRQZXJTaGFyZSBpcyB0aGUgYW1vdW50IGdhaW5lZCBwZXIgdG9rZW4gdGhhbmtzIHRvIHRoaXMgc2VsbC4KCQkJdmFyIHJld2FyZFBlclNoYXJlID0gZXRoZXJGZWUgLyB0b3RhbFN1cHBseTsKCQkJCgkJCS8vIFRoZSBFdGhlciB2YWx1ZSBwZXIgdG9rZW4gaXMgaW5jcmVhc2VkIHByb3BvcnRpb25hbGx5LgoJCQllYXJuaW5nc1BlclRva2VuID0gYWRkKGVhcm5pbmdzUGVyVG9rZW4sIHJld2FyZFBlclNoYXJlKTsKCQl9Cgl9CgkKCS8vIER5bmFtaWMgdmFsdWUgb2YgRXRoZXIgaW4gcmVzZXJ2ZSwgYWNjb3JkaW5nIHRvIHRoZSBDUlIgcmVxdWlyZW1lbnQuCglmdW5jdGlvbiByZXNlcnZlKCkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBhbW91bnQpIHsKCQlyZXR1cm4gc3ViKGJhbGFuY2UoKSwKCQkJICgodWludDI1NikgKChpbnQyNTYpIChlYXJuaW5nc1BlclRva2VuICogdG90YWxTdXBwbHkpIC0gdG90YWxQYXlvdXRzKSAvIHNjYWxlRmFjdG9yKSk7Cgl9CgoJLy8gQ2FsY3VsYXRlcyB0aGUgbnVtYmVyIG9mIHRva2VucyB0aGF0IGNhbiBiZSBib3VnaHQgZm9yIGEgZ2l2ZW4gYW1vdW50IG9mIEV0aGVyLCBhY2NvcmRpbmcgdG8gdGhlCgkvLyBkeW5hbWljIHJlc2VydmUgYW5kIHRvdGFsU3VwcGx5IHZhbHVlcyAoZGVyaXZlZCBmcm9tIHRoZSBidXkgYW5kIHNlbGwgcHJpY2VzKS4KCWZ1bmN0aW9uIGdldFRva2Vuc0ZvckV0aGVyKHVpbnQyNTYgZXRoZXJ2YWx1ZSkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG9rZW5zKSB7CgkJcmV0dXJuIHN1YihmaXhlZEV4cChmaXhlZExvZyhyZXNlcnZlKCkgKyBldGhlcnZhbHVlKSpjcnJfbi9jcnJfZCArIHByaWNlX2NvZWZmKSwgdG90YWxTdXBwbHkpOwoJfQoKCS8vIFNlbWFudGljYWxseSBzaW1pbGFyIHRvIGdldFRva2Vuc0ZvckV0aGVyLCBidXQgc3VidHJhY3RzIHRoZSBjYWxsZXJzIGJhbGFuY2UgZnJvbSB0aGUgYW1vdW50IG9mIEV0aGVyIHJldHVybmVkIGZvciBjb252ZXJzaW9uLgoJZnVuY3Rpb24gY2FsY3VsYXRlRGl2aWRlbmRUb2tlbnModWludDI1NiBldGhlcnZhbHVlLCB1aW50MjU2IHN1YnZhbHVlKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB0b2tlbnMpIHsKCQlyZXR1cm4gc3ViKGZpeGVkRXhwKGZpeGVkTG9nKHJlc2VydmUoKSAtIHN1YnZhbHVlICsgZXRoZXJ2YWx1ZSkqY3JyX24vY3JyX2QgKyBwcmljZV9jb2VmZiksIHRvdGFsU3VwcGx5KTsKCX0KCgkvLyBDb252ZXJ0cyBhIG51bWJlciB0b2tlbnMgaW50byBhbiBFdGhlciB2YWx1ZS4KCWZ1bmN0aW9uIGdldEV0aGVyRm9yVG9rZW5zKHVpbnQyNTYgdG9rZW5zKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBldGhlcnZhbHVlKSB7CgkJLy8gSG93IG11Y2ggcmVzZXJ2ZSBFdGhlciBkbyB3ZSBoYXZlIGxlZnQgaW4gdGhlIGNvbnRyYWN0PwoJCXZhciByZXNlcnZlQW1vdW50ID0gcmVzZXJ2ZSgpOwoKCQkvLyBJZiB5b3UncmUgdGhlIEhpZ2hsYW5kZXIgKG9yIGJhZ2hvbGRlciksIHlvdSBnZXQgVGhlIFByaXplLiBFdmVyeXRoaW5nIGxlZnQgaW4gdGhlIHZhdWx0LgoJCWlmICh0b2tlbnMgPT0gdG90YWxTdXBwbHkpCgkJCXJldHVybiByZXNlcnZlQW1vdW50OwoKCQkvLyBJZiB0aGVyZSB3b3VsZCBiZSBleGNlc3MgRXRoZXIgbGVmdCBhZnRlciB0aGUgdHJhbnNhY3Rpb24gdGhpcyBpcyBjYWxsZWQgd2l0aGluLCByZXR1cm4gdGhlIEV0aGVyCgkJLy8gY29ycmVzcG9uZGluZyB0byB0aGUgZXF1YXRpb24gaW4gRHIgSm9jaGVuIEhvZW5pY2tlJ3Mgb3JpZ2luYWwgUG9uemkgcGFwZXIsIHdoaWNoIGNhbiBiZSBmb3VuZAoJCS8vIGF0IGh0dHBzOi8vdGVzdC5qb2NoZW4taG9lbmlja2UuZGUvZXRoL3BvbnppdG9rZW4vIGluIHRoZSB0aGlyZCBlcXVhdGlvbiwgd2l0aCB0aGUgQ1JSIG51bWVyYXRvciAKCQkvLyBhbmQgZGVub21pbmF0b3IgYWx0ZXJlZCB0byAxIGFuZCAyIHJlc3BlY3RpdmVseS4KCQlyZXR1cm4gc3ViKHJlc2VydmVBbW91bnQsIGZpeGVkRXhwKChmaXhlZExvZyh0b3RhbFN1cHBseSAtIHRva2VucykgLSBwcmljZV9jb2VmZikgKiBjcnJfZC9jcnJfbikpOwoJfQoKCS8vIFlvdSBkb24ndCBjYXJlIGFib3V0IHRoZXNlLCBidXQgaWYgeW91IHJlYWxseSBkbyB0aGV5J3JlIGhleCB2YWx1ZXMgZm9yIAoJLy8gY28tZWZmaWNpZW50cyB1c2VkIHRvIHNpbXVsYXRlIGFwcHJveGltYXRpb25zIG9mIHRoZSBsb2cgYW5kIGV4cCBmdW5jdGlvbnMuCglpbnQyNTYgIGNvbnN0YW50IG9uZSAgICAgICAgPSAweDEwMDAwMDAwMDAwMDAwMDAwOwoJdWludDI1NiBjb25zdGFudCBzcXJ0MiAgICAgID0gMHgxNmEwOWU2NjdmM2JjYzkwODsKCXVpbnQyNTYgY29uc3RhbnQgc3FydGRvdDUgICA9IDB4MGI1MDRmMzMzZjlkZTY0ODQ7CglpbnQyNTYgIGNvbnN0YW50IGxuMiAgICAgICAgPSAweDBiMTcyMTdmN2QxY2Y3OWFjOwoJaW50MjU2ICBjb25zdGFudCBsbjJfNjRkb3Q1ID0gMHgyY2I1M2YwOWYwNWNjNjI3Yzg7CglpbnQyNTYgIGNvbnN0YW50IGMxICAgICAgICAgPSAweDFmZmZmZmZmZmZmOWRhYzliOwoJaW50MjU2ICBjb25zdGFudCBjMyAgICAgICAgID0gMHgwYWFhYWFhYWMxNjg3NzkwODsKCWludDI1NiAgY29uc3RhbnQgYzUgICAgICAgICA9IDB4MDY2NjY2NGU1ZTlmYTBjOTk7CglpbnQyNTYgIGNvbnN0YW50IGM3ICAgICAgICAgPSAweDA0OTI1NDAyNmE3NjMwYWNmOwoJaW50MjU2ICBjb25zdGFudCBjOSAgICAgICAgID0gMHgwMzhiZDc1ZWQzNzc1M2Q2ODsKCWludDI1NiAgY29uc3RhbnQgYzExICAgICAgICA9IDB4MDMyODRhMGMxNDYxMDkyNGY7CgoJLy8gVGhlIHBvbHlub21pYWwgUiA9IGMxKnggKyBjMyp4XjMgKyAuLi4gKyBjMTEgKiB4XjExCgkvLyBhcHByb3hpbWF0ZXMgdGhlIGZ1bmN0aW9uIGxvZygxK3gpLWxvZygxLXgpCgkvLyBIZW5jZSBSKHMpID0gbG9nKCgxK3MpLygxLXMpKSA9IGxvZyhhKQoJZnVuY3Rpb24gZml4ZWRMb2codWludDI1NiBhKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKGludDI1NiBsb2cpIHsKCQlpbnQzMiBzY2FsZSA9IDA7CgkJd2hpbGUgKGEgPiBzcXJ0MikgewoJCQlhIC89IDI7CgkJCXNjYWxlKys7CgkJfQoJCXdoaWxlIChhIDw9IHNxcnRkb3Q1KSB7CgkJCWEgKj0gMjsKCQkJc2NhbGUtLTsKCQl9CgkJaW50MjU2IHMgPSAoKChpbnQyNTYpKGEpIC0gb25lKSAqIG9uZSkgLyAoKGludDI1NikoYSkgKyBvbmUpOwoJCXZhciB6ID0gKHMqcykgLyBvbmU7CgkJcmV0dXJuIHNjYWxlICogbG4yICsKCQkJKHMqKGMxICsgKHoqKGMzICsgKHoqKGM1ICsgKHoqKGM3ICsgKHoqKGM5ICsgKHoqYzExL29uZSkpCgkJCQkvb25lKSkvb25lKSkvb25lKSkvb25lKSkvb25lKTsKCX0KCglpbnQyNTYgY29uc3RhbnQgYzIgPSAgMHgwMmFhYWFhYWFhYTAxNWRiMDsKCWludDI1NiBjb25zdGFudCBjNCA9IC0weDAwMGI2MGI2MDgwODM5OWQxOwoJaW50MjU2IGNvbnN0YW50IGM2ID0gIDB4MDAwMDQ1NTk1NmJjY2RkMDY7CglpbnQyNTYgY29uc3RhbnQgYzggPSAtMHgwMDAwMDFiODkzYWQwNGIzYTsKCQoJLy8gVGhlIHBvbHlub21pYWwgUiA9IDIgKyBjMip4XjIgKyBjNCp4XjQgKyAuLi4KCS8vIGFwcHJveGltYXRlcyB0aGUgZnVuY3Rpb24geCooZXhwKHgpKzEpLyhleHAoeCktMSkKCS8vIEhlbmNlIGV4cCh4KSA9IChSKHgpK3gpLyhSKHgpLXgpCglmdW5jdGlvbiBmaXhlZEV4cChpbnQyNTYgYSkgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2IGV4cCkgewoJCWludDI1NiBzY2FsZSA9IChhICsgKGxuMl82NGRvdDUpKSAvIGxuMiAtIDY0OwoJCWEgLT0gc2NhbGUqbG4yOwoJCWludDI1NiB6ID0gKGEqYSkgLyBvbmU7CgkJaW50MjU2IFIgPSAoKGludDI1NikoMikgKiBvbmUpICsKCQkJKHoqKGMyICsgKHoqKGM0ICsgKHoqKGM2ICsgKHoqYzgvb25lKSkvb25lKSkvb25lKSkvb25lKTsKCQlleHAgPSAodWludDI1NikgKCgoUiArIGEpICogb25lKSAvIChSIC0gYSkpOwoJCWlmIChzY2FsZSA+PSAwKQoJCQlleHAgPDw9IHNjYWxlOwoJCWVsc2UKCQkJZXhwID4+PSAtc2NhbGU7CgkJcmV0dXJuIGV4cDsKCX0KCQoJLy8gVGhlIGJlbG93IGFyZSBzYWZlbWF0aCBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIGZvdXIgYXJpdGhtZXRpYyBvcGVyYXRvcnMKCS8vIGRlc2lnbmVkIHRvIGV4cGxpY2l0bHkgcHJldmVudCBvdmVyLSBhbmQgdW5kZXItZmxvd3Mgb2YgaW50ZWdlciB2YWx1ZXMuCgoJZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKCQlpZiAoYSA9PSAwKSB7CgkJCXJldHVybiAwOwoJCX0KCQl1aW50MjU2IGMgPSBhICogYjsKCQlhc3NlcnQoYyAvIGEgPT0gYik7CgkJcmV0dXJuIGM7Cgl9CgoJZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKCQkvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKCQl1aW50MjU2IGMgPSBhIC8gYjsKCQkvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAoJCXJldHVybiBjOwoJfQoKCWZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CgkJYXNzZXJ0KGIgPD0gYSk7CgkJcmV0dXJuIGEgLSBiOwoJfQoKCWZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CgkJdWludDI1NiBjID0gYSArIGI7CgkJYXNzZXJ0KGMgPj0gYSk7CgkJcmV0dXJuIGM7Cgl9CgoJLy8gVGhpcyBhbGxvd3MgeW91IHRvIGJ1eSB0b2tlbnMgYnkgc2VuZGluZyBFdGhlciBkaXJlY3RseSB0byB0aGUgc21hcnQgY29udHJhY3QKCS8vIHdpdGhvdXQgaW5jbHVkaW5nIGFueSB0cmFuc2FjdGlvbiBkYXRhICh1c2VmdWwgZm9yLCBzYXksIG1vYmlsZSB3YWxsZXQgYXBwcykuCglmdW5jdGlvbiAoKSBwYXlhYmxlIHB1YmxpYyB7CgkJLy8gbXNnLnZhbHVlIGlzIHRoZSBhbW91bnQgb2YgRXRoZXIgc2VudCBieSB0aGUgdHJhbnNhY3Rpb24uCgkJaWYgKG1zZy52YWx1ZSA+IDApIHsKCQkJZnVuZCgpOwoJCX0gZWxzZSB7CgkJCXdpdGhkcmF3T2xkKG1zZy5zZW5kZXIpOwoJCX0KCX0KfQ=='.
	

]
