Class {
	#name : #SRT4f800a45631f2c74ef2d37201adf417b3b90ad3c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4f800a45631f2c74ef2d37201adf417b3b90ad3c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7Cgpjb250cmFjdCBvd25lZCB7CiAgICAvKiBPd25lciBkZWZpbml0aW9uLiAqLwogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7IC8vIE93bmVyIGFkZHJlc3MuCiAgICBmdW5jdGlvbiBvd25lZCgpIGludGVybmFsIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7IF87CiAgICB9CiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgcHVibGljewogICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9Cn0KCmNvbnRyYWN0IHRva2VuIHsgCiAgICAvKiBCYXNlIHRva2VuIGRlZmluaXRpb24uICovCiAgICBzdHJpbmcgIHB1YmxpYyBuYW1lOyAgICAgICAgLy8gTmFtZSBmb3IgdGhlIHRva2VuLgogICAgc3RyaW5nICBwdWJsaWMgc3ltYm9sOyAgICAgIC8vIFN5bWJvbCBmb3IgdGhlIHRva2VuLgogICAgdWludDggICBwdWJsaWMgZGVjaW1hbHM7ICAgIC8vIE51bWJlciBvZiBkZWNpbWFscyBvZiB0aGUgdG9rZW4uCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsgLy8gVG90YWwgb2YgdG9rZW5zIGNyZWF0ZWQuCgogICAgLy8gQXJyYXkgY29udGFpbmluZyB0aGUgYmFsYW5jZSBmb3JlYWNoIGFkZHJlc3MuCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2Y7CiAgICAvLyBBcnJheSBjb250YWluaW5nIGZvcmVhY2ggYWRkcmVzcywgYW4gYXJyYXkgY29udGFpbmluZyBlYWNoIGFwcHJvdmVkIGFkZHJlc3MgYW5kIHRoZSBhbW91bnQgb2YgdG9rZW5zIGl0IGNhbiBzcGVuZC4KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgcHVibGljIGFsbG93YW5jZTsKCiAgICAvKiBUaGlzIGdlbmVyYXRlcyBhIHB1YmxpYyBldmVudCBvbiB0aGUgYmxvY2tjaGFpbiB0aGF0IHdpbGwgbm90aWZ5IGFib3V0IGEgdHJhbnNmZXIgZG9uZS4gKi8KICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwoKICAgIC8qIEluaXRpYWxpemVzIHRoZSBjb250cmFjdCAqLwogICAgZnVuY3Rpb24gdG9rZW4odWludDI1NiBpbml0aWFsU3VwcGx5LCBzdHJpbmcgdG9rZW5OYW1lLCB1aW50OCBkZWNpbWFsVW5pdHMsIHN0cmluZyB0b2tlblN5bWJvbCkgaW50ZXJuYWwgewogICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSA9IGluaXRpYWxTdXBwbHk7IC8vIEdpdmVzIHRoZSBjcmVhdG9yIGFsbCBpbml0aWFsIHRva2Vucy4KICAgICAgICB0b3RhbFN1cHBseSAgICAgICAgICAgPSBpbml0aWFsU3VwcGx5OyAvLyBVcGRhdGUgdG90YWwgc3VwcGx5LgogICAgICAgIG5hbWUgICAgICAgICAgICAgICAgICA9IHRva2VuTmFtZTsgICAgIC8vIFNldCB0aGUgbmFtZSBmb3IgZGlzcGxheSBwdXJwb3Nlcy4KICAgICAgICBzeW1ib2wgICAgICAgICAgICAgICAgPSB0b2tlblN5bWJvbDsgICAvLyBTZXQgdGhlIHN5bWJvbCBmb3IgZGlzcGxheSBwdXJwb3Nlcy4KICAgICAgICBkZWNpbWFscyAgICAgICAgICAgICAgPSBkZWNpbWFsVW5pdHM7ICAvLyBBbW91bnQgb2YgZGVjaW1hbHMgZm9yIGRpc3BsYXkgcHVycG9zZXMuCiAgICB9CgogICAgLyogSW50ZXJuYWwgdHJhbnNmZXIsIG9ubHkgY2FuIGJlIGNhbGxlZCBieSB0aGlzIGNvbnRyYWN0LiAqLwogICAgZnVuY3Rpb24gX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaW50ZXJuYWwgewogICAgICAgIHJlcXVpcmUoX3RvICE9IDB4MCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgdHJhbnNmZXIgdG8gMHgwIGFkZHJlc3MuCiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbX2Zyb21dID4gX3ZhbHVlKTsgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoLgogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW190b10gKyBfdmFsdWUgPiBiYWxhbmNlT2ZbX3RvXSk7IC8vIENoZWNrIGZvciBvdmVyZmxvd3MuCiAgICAgICAgYmFsYW5jZU9mW19mcm9tXSAtPSBfdmFsdWU7IC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlci4KICAgICAgICBiYWxhbmNlT2ZbX3RvXSAgICs9IF92YWx1ZTsgLy8gQWRkIHRoZSBzYW1lIHRvIHRoZSByZWNpcGllbnQuCiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsgLy8gTm90aWZpZXMgdGhlIGJsb2NrY2hhaW4gYWJvdXQgdGhlIHRyYW5zZmVyLgogICAgfQoKICAgIC8vLyBAbm90aWNlIFNlbmQgYF92YWx1ZWAgdG9rZW5zIHRvIGBfdG9gIGZyb20geW91ciBhY2NvdW50LgogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudC4KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gc2VuZC4KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHsKICAgICAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFNlbmQgYF92YWx1ZWAgdG9rZW5zIHRvIGBfdG9gIGluIGJlaGFsZiBvZiBgX2Zyb21gLgogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyLgogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudC4KICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gc2VuZC4KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdKTsgLy8gQ2hlY2sgYWxsb3dhbmNlLgogICAgICAgIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOyAvLyBVcGRhdGVzIHRoZSBhbGxvd2FuY2UgYXJyYXksIHN1YnN0cmFjdGluZyB0aGUgYW1vdW50IHNlbnQuCiAgICAgICAgX3RyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7IC8vIE1ha2VzIHRoZSB0cmFuc2Zlci4KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBBbGxvd3MgYF9zcGVuZGVyYCB0byBzcGVuZCBhIG1heGltdW0gb2YgYF92YWx1ZWAgdG9rZW5zIGluIHlvdXIgYmVoYWxmLgogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBhdXRob3JpemVkIHRvIHNwZW5kLgogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIG1heCBhbW91bnQgdGhleSBjYW4gc3BlbmQuCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsgLy8gQWRkcyBhIG5ldyByZWdpc3RlciB0byBhbGxvd2FuY2UsIHBlcm1pdGluZyBfc3BlbmRlciB0byB1c2UgX3ZhbHVlIG9mIHlvdXIgdG9rZW5zLgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9Cgpjb250cmFjdCBIb3JtaXRlY2hUb2tlbiBpcyBvd25lZCwgdG9rZW4gewogICAgLyogU3BlY2lmaWMgdG9rZW4gZGVmaW5pdGlvbiBmb3IgLUhvcm1pdGVjaFRva2VuLS4gKi8KICAgIHVpbnQyNTYgcHVibGljIHNlbGxQcmljZSAgICAgICAgID0gNTAwMDAwMDAwMDAwMDAwMDsgIC8vIFByaWNlIGFwcGxpZWQgaWYgc29tZW9uZSB3YW50cyB0byBzZWxsIGEgdG9rZW4uCiAgICB1aW50MjU2IHB1YmxpYyBidXlQcmljZSAgICAgICAgICA9IDEwMDAwMDAwMDAwMDAwMDAwOyAvLyBQcmljZSBhcHBsaWVkIGlmIHNvbWVvbmUgd2FudHMgdG8gYnV5IGEgdG9rZW4uCiAgICBib29sICAgIHB1YmxpYyBjbG9zZUJ1eSAgICAgICAgICA9IGZhbHNlOyAgICAgICAgICAgICAvLyBJZiB0cnVlLCBub2JvZHkgd2lsbCBiZSBhYmxlIHRvIGJ1eS4KICAgIGJvb2wgICAgcHVibGljIGNsb3NlU2VsbCAgICAgICAgID0gZmFsc2U7ICAgICAgICAgICAgIC8vIElmIHRydWUsIG5vYm9keSB3aWxsIGJlIGFibGUgdG8gc2VsbC4KICAgIHVpbnQyNTYgcHVibGljIHRva2Vuc0F2YWlsYWJsZSAgID0gYmFsYW5jZU9mW3RoaXNdOyAgIC8vIE51bWJlciBvZiB0b2tlbnMgYXZhaWxhYmxlIGZvciBzZWxsLgogICAgdWludDI1NiBwdWJsaWMgc29sdmVuY3kgICAgICAgICAgPSB0aGlzLmJhbGFuY2U7ICAgICAgLy8gQW1vdW50IG9mIEV0aGVyIGF2YWlsYWJsZSB0byBwYXkgc2FsZXMuCiAgICB1aW50MjU2IHB1YmxpYyBwcm9maXQgICAgICAgICAgICA9IDA7ICAgICAgICAgICAgICAgICAvLyBTaG93cyB0aGUgYWN0dWFsIHByb2ZpdCBmb3IgdGhlIGNvbXBhbnkuCiAgICBhZGRyZXNzIHB1YmxpYyBjb21pc2lvbkdldHRlciA9IDB4Q2Q4YmY2OWFkNjVjNTE1OEYwY2ZBQTU5OWJCRjkwZDdmNGI1MkJiMDsgLy8gVGhlIGFkZHJlc3MgdGhhdCBnZXRzIHRoZSBjb21pc2lvbnMgcGFpZC4KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGZyb3plbkFjY291bnQ7IC8vIEFycmF5IGNvbnRhaW5pbmcgZm9yZWFjaCBhZGRyZXNzIGlmIGl0J3MgZnJvemVuIG9yIG5vdC4KCiAgICAvKiBUaGlzIGdlbmVyYXRlcyBhIHB1YmxpYyBldmVudCBvbiB0aGUgYmxvY2tjaGFpbiB0aGF0IHdpbGwgbm90aWZ5IGFib3V0IGFuIGFkZHJlc3MgYmVpbmcgZnJlZXplZC4gKi8KICAgIGV2ZW50IEZyb3plbkZ1bmRzKGFkZHJlc3MgdGFyZ2V0LCBib29sIGZyb3plbik7CiAgICAvKiBUaGlzIGdlbmVyYXRlcyBhIHB1YmxpYyBldmVudCBvbiB0aGUgYmxvY2tjaGFpbiB0aGF0IHdpbGwgbm90aWZ5IGFib3V0IGFuIGFkZGl0aW9uIG9mIEV0aGVyIHRvIHRoZSBjb250cmFjdC4gKi8KICAgIGV2ZW50IExvZ0RlcG9zaXQoYWRkcmVzcyBzZW5kZXIsIHVpbnQgYW1vdW50KTsKICAgIC8qIFRoaXMgZ2VuZXJhdGVzIGEgcHVibGljIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgYWJvdXQgYSBXaXRoZHJhd2FsIG9mIEV0aGVyIGZyb20gdGhlIGNvbnRyYWN0LiAqLwogICAgZXZlbnQgTG9nV2l0aGRyYXdhbChhZGRyZXNzIHJlY2VpdmVyLCB1aW50IGFtb3VudCk7CgogICAgLyogSW5pdGlhbGl6ZXMgdGhlIGNvbnRyYWN0ICovCiAgICBmdW5jdGlvbiBIb3JtaXRlY2hUb2tlbih1aW50MjU2IGluaXRpYWxTdXBwbHksIHN0cmluZyB0b2tlbk5hbWUsIHVpbnQ4IGRlY2ltYWxVbml0cywgc3RyaW5nIHRva2VuU3ltYm9sKSBwdWJsaWMgdG9rZW4gKGluaXRpYWxTdXBwbHksIHRva2VuTmFtZSwgZGVjaW1hbFVuaXRzLCB0b2tlblN5bWJvbCkge30KCiAgICAvKiBJbnRlcm5hbCB0cmFuc2Zlciwgb25seSBjYW4gYmUgY2FsbGVkIGJ5IHRoaXMgY29udHJhY3QgKi8KICAgIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGludGVybmFsIHsKICAgICAgICByZXF1aXJlKF90byAhPSAweDApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRyYW5zZmVyIHRvIDB4MCBhZGRyZXNzLgogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW19mcm9tXSA+PSBfdmFsdWUpOyAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaC4KICAgICAgICByZXF1aXJlKGJhbGFuY2VPZltfdG9dICsgX3ZhbHVlID4gYmFsYW5jZU9mW190b10pOyAvLyBDaGVjayBmb3Igb3ZlcmZsb3dzLgogICAgICAgIHJlcXVpcmUoIWZyb3plbkFjY291bnRbX2Zyb21dKTsgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHNlbmRlciBpcyBmcm96ZW4uCiAgICAgICAgcmVxdWlyZSghZnJvemVuQWNjb3VudFtfdG9dKTsgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcmVjaXBpZW50IGlzIGZyb3plbi4KCQliYWxhbmNlT2ZbX2Zyb21dIC09IF92YWx1ZTsgLy8gU3VidHJhY3RzIF92YWx1ZSB0b2tlbnMgZnJvbSB0aGUgc2VuZGVyLgogICAgICAgIGJhbGFuY2VPZltfdG9dICAgKz0gX3ZhbHVlOyAvLyBBZGRzIHRoZSBzYW1lIGFtb3VudCB0byB0aGUgcmVjaXBpZW50LgogICAgICAgIF91cGRhdGVUb2tlbnNBdmFpbGFibGUoYmFsYW5jZU9mW3RoaXNdKTsgLy8gVXBkYXRlIHRoZSBiYWxhbmNlIG9mIHRva2VucyBhdmFpbGFibGUgaWYgbmVjZXNzYXJ5LgogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7IC8vIE5vdGlmaWVzIHRoZSBibG9ja2NoYWluIGFib3V0IHRoZSB0cmFuc2Zlci4KICAgIH0KCiAgICBmdW5jdGlvbiByZWZpbGxUb2tlbnModWludDI1NiBfdmFsdWUpIHB1YmxpYyBvbmx5T3duZXJ7CiAgICAgICAgLy8gT3duZXIgc2VuZHMgdG9rZW5zIHRvIHRoZSBjb250cmFjdC4KICAgICAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgdGhpcywgX3ZhbHVlKTsKICAgIH0KCiAgICAvKiBPdmVycmlkZXMgYmFzaWMgdHJhbnNmZXIgZnVuY3Rpb24gZHVlIHRvIGNvbWlzaW9uIHZhbHVlICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyB7CiAgICAJLy8gVGhpcyBmdW5jdGlvbiByZXF1aXJlcyBhIGNvbWlzaW9uIHZhbHVlIG9mIDAuNCUgb2YgdGhlIG1hcmtldCB2YWx1ZS4KICAgICAgICB1aW50IG1hcmtldF92YWx1ZSA9IF92YWx1ZSAqIHNlbGxQcmljZTsKICAgICAgICB1aW50IGNvbWlzaW9uID0gbWFya2V0X3ZhbHVlICogNCAvIDEwMDA7CiAgICAgICAgLy8gVGhlIHRva2VuIHNtYXJ0LWNvbnRyYWN0IHBheXMgY29taXNpb24sIGVsc2UgdGhlIHRyYW5zZmVyIGlzIG5vdCBwb3NzaWJsZS4KICAgICAgICByZXF1aXJlKHRoaXMuYmFsYW5jZSA+PSBjb21pc2lvbik7CiAgICAgICAgY29taXNpb25HZXR0ZXIudHJhbnNmZXIoY29taXNpb24pOyAvLyBUcmFuc2ZlcnMgY29taXNpb24gdG8gdGhlIGNvbWlzaW9uR2V0dGVyLgogICAgICAgIF90cmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgLyogT3ZlcnJpZGVzIGJhc2ljIHRyYW5zZmVyRnJvbSBmdW5jdGlvbiBkdWUgdG8gY29taXNpb24gdmFsdWUgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdKTsgLy8gQ2hlY2sgYWxsb3dhbmNlLgogICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gcmVxdWlyZXMgYSBjb21pc2lvbiB2YWx1ZSBvZiAwLjQlIG9mIHRoZSBtYXJrZXQgdmFsdWUuCiAgICAgICAgdWludCBtYXJrZXRfdmFsdWUgPSBfdmFsdWUgKiBzZWxsUHJpY2U7CiAgICAgICAgdWludCBjb21pc2lvbiA9IG1hcmtldF92YWx1ZSAqIDQgLyAxMDAwOwogICAgICAgIC8vIFRoZSB0b2tlbiBzbWFydC1jb250cmFjdCBwYXlzIGNvbWlzaW9uLCBlbHNlIHRoZSB0cmFuc2ZlciBpcyBub3QgcG9zc2libGUuCiAgICAgICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgPj0gY29taXNpb24pOwogICAgICAgIGNvbWlzaW9uR2V0dGVyLnRyYW5zZmVyKGNvbWlzaW9uKTsgLy8gVHJhbnNmZXJzIGNvbWlzaW9uIHRvIHRoZSBjb21pc2lvbkdldHRlci4KICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsgLy8gVXBkYXRlcyB0aGUgYWxsb3dhbmNlIGFycmF5LCBzdWJzdHJhY3RpbmcgdGhlIGFtb3VudCBzZW50LgogICAgICAgIF90cmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOyAvLyBNYWtlcyB0aGUgdHJhbnNmZXIuCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyogSW50ZXJuYWwsIHVwZGF0ZXMgdGhlIGJhbGFuY2Ugb2YgdG9rZW5zIGF2YWlsYWJsZS4gKi8KICAgIGZ1bmN0aW9uIF91cGRhdGVUb2tlbnNBdmFpbGFibGUodWludDI1NiBfdG9rZW5zQXZhaWxhYmxlKSBpbnRlcm5hbCB7IHRva2Vuc0F2YWlsYWJsZSA9IF90b2tlbnNBdmFpbGFibGU7IH0KCiAgICAvKiBJbnRlcm5hbCwgdXBkYXRlcyB0aGUgYmFsYW5jZSBvZiBFdGhlciBhdmFpbGFibGUgaW4gb3JkZXIgdG8gY292ZXIgcG90ZW50aWFsIHNhbGVzLiAqLwogICAgZnVuY3Rpb24gX3VwZGF0ZVNvbHZlbmN5KHVpbnQyNTYgX3NvbHZlbmN5KSBpbnRlcm5hbCB7IHNvbHZlbmN5ID0gX3NvbHZlbmN5OyB9CgogICAgLyogSW50ZXJuYWwsIHVwZGF0ZXMgdGhlIHByb2ZpdCB2YWx1ZSAqLwogICAgZnVuY3Rpb24gX3VwZGF0ZVByb2ZpdCh1aW50MjU2IF9pbmNyZW1lbnQsIGJvb2wgYWRkKSBpbnRlcm5hbHsKICAgICAgICBpZiAoYWRkKXsKICAgICAgICAgICAgLy8gSW5jcmVhc2UgdGhlIHByb2ZpdCB2YWx1ZQogICAgICAgICAgICBwcm9maXQgPSBwcm9maXQgKyBfaW5jcmVtZW50OwogICAgICAgIH1lbHNlewogICAgICAgICAgICAvLyBEZWNyZWFzZSB0aGUgcHJvZml0IHZhbHVlCiAgICAgICAgICAgIGlmKF9pbmNyZW1lbnQgPiBwcm9maXQpeyBwcm9maXQgPSAwOyB9CiAgICAgICAgICAgIGVsc2V7IHByb2ZpdCA9IHByb2ZpdCAtIF9pbmNyZW1lbnQ7IH0KICAgICAgICB9CiAgICB9CgogICAgLy8vIEBub3RpY2UgQ3JlYXRlIGBtaW50ZWRBbW91bnRgIHRva2VucyBhbmQgc2VuZCBpdCB0byBgdGFyZ2V0YC4KICAgIC8vLyBAcGFyYW0gdGFyZ2V0IEFkZHJlc3MgdG8gcmVjZWl2ZSB0aGUgdG9rZW5zLgogICAgLy8vIEBwYXJhbSBtaW50ZWRBbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbnMgdGFyZ2V0IHdpbGwgcmVjZWl2ZS4KICAgIGZ1bmN0aW9uIG1pbnRUb2tlbihhZGRyZXNzIHRhcmdldCwgdWludDI1NiBtaW50ZWRBbW91bnQpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGJhbGFuY2VPZlt0YXJnZXRdICs9IG1pbnRlZEFtb3VudDsgLy8gVXBkYXRlcyB0YXJnZXQncyBiYWxhbmNlLgogICAgICAgIHRvdGFsU3VwcGx5ICAgICAgICs9IG1pbnRlZEFtb3VudDsgLy8gVXBkYXRlcyB0b3RhbFN1cHBseS4KICAgICAgICBfdXBkYXRlVG9rZW5zQXZhaWxhYmxlKGJhbGFuY2VPZlt0aGlzXSk7IC8vIFVwZGF0ZSB0aGUgYmFsYW5jZSBvZiB0b2tlbnMgYXZhaWxhYmxlIGlmIG5lY2Vzc2FyeS4KICAgICAgICBUcmFuc2ZlcigwLCB0aGlzLCBtaW50ZWRBbW91bnQpOyAgICAgIC8vIE5vdGlmaWVzIHRoZSBibG9ja2NoYWluIGFib3V0IHRoZSB0b2tlbnMgY3JlYXRlZC4KICAgICAgICBUcmFuc2Zlcih0aGlzLCB0YXJnZXQsIG1pbnRlZEFtb3VudCk7IC8vIE5vdGlmaWVzIHRoZSBibG9ja2NoYWluIGFib3V0IHRoZSB0cmFuc2ZlciB0byB0YXJnZXQuCiAgICB9CgogICAgLy8vIEBub3RpY2UgYGZyZWV6ZT8gUHJldmVudCB8IEFsbG93YCBgdGFyZ2V0YCBmcm9tIHNlbmRpbmcgJiByZWNlaXZpbmcgdG9rZW5zLgogICAgLy8vIEBwYXJhbSB0YXJnZXQgQWRkcmVzcyB0byBiZSBmcm96ZW4uCiAgICAvLy8gQHBhcmFtIGZyZWV6ZSBFaXRoZXIgdG8gZnJlZXplIHRhcmdldCBvciBub3QuCiAgICBmdW5jdGlvbiBmcmVlemVBY2NvdW50KGFkZHJlc3MgdGFyZ2V0LCBib29sIGZyZWV6ZSkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgZnJvemVuQWNjb3VudFt0YXJnZXRdID0gZnJlZXplOyAvLyBTZXRzIHRoZSB0YXJnZXQgc3RhdHVzLiBUcnVlIGlmIGl0J3MgZnJvemVuLCBGYWxzZSBpZiBpdCdzIG5vdC4KICAgICAgICBGcm96ZW5GdW5kcyh0YXJnZXQsIGZyZWV6ZSk7IC8vIE5vdGlmaWVzIHRoZSBibG9ja2NoYWluIGFib3V0IHRoZSBjaGFuZ2Ugb2Ygc3RhdGUuCiAgICB9CgogICAgLy8vIEBub3RpY2UgQWxsb3cgYWRkcmVzc2VzIHRvIHBheSBgbmV3QnV5UHJpY2VgRVRIIHdoZW4gYnV5aW5nIGFuZCByZWNlaXZlIGBuZXdTZWxsUHJpY2VgRVRIIHdoZW4gc2VsbGluZywgZm9yZWFjaCB0b2tlbiBib3VnaHQvc29sZC4KICAgIC8vLyBAcGFyYW0gbmV3U2VsbFByaWNlIFByaWNlIGFwcGxpZWQgd2hlbiBhbiBhZGRyZXNzIHNlbGxzIGl0cyB0b2tlbnMsIGFtb3VudCBpbiBXRUkgKDFFVEggPSAxMCYjMTg1O+KBuFdFSSkuCiAgICAvLy8gQHBhcmFtIG5ld0J1eVByaWNlIFByaWNlIGFwcGxpZWQgd2hlbiBhbiBhZGRyZXNzIGJ1eXMgdG9rZW5zLCBhbW91bnQgaW4gV0VJICgxRVRIID0gMTAmIzE4NTvigbhXRUkpLgogICAgZnVuY3Rpb24gc2V0UHJpY2VzKHVpbnQyNTYgbmV3U2VsbFByaWNlLCB1aW50MjU2IG5ld0J1eVByaWNlKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBzZWxsUHJpY2UgPSBuZXdTZWxsUHJpY2U7IC8vIFVwZGF0ZXMgdGhlIGJ1eWluZyBwcmljZS4KICAgICAgICBidXlQcmljZSA9IG5ld0J1eVByaWNlOyAgIC8vIFVwZGF0ZXMgdGhlIHNlbGxpbmcgcHJpY2UuCiAgICB9CgogICAgLy8vIEBub3RpY2UgU2V0cyB0aGUgc3RhdGUgb2YgYnV5IGFuZCBzZWxsIG9wZXJhdGlvbnMKICAgIC8vLyBAcGFyYW0gaXNDbG9zZWRCdXkgVHJ1ZSBpZiBidXkgb3BlcmF0aW9ucyBhcmUgY2xvc2VkLCBGYWxzZSBpZiBvcGVuZWQuCiAgICAvLy8gQHBhcmFtIGlzQ2xvc2VkU2VsbCBUcnVlIGlmIHNlbGwgb3BlcmF0aW9ucyBhcmUgY2xvc2VkLCBGYWxzZSBpZiBvcGVuZWQuCiAgICBmdW5jdGlvbiBzZXRTdGF0dXMoYm9vbCBpc0Nsb3NlZEJ1eSwgYm9vbCBpc0Nsb3NlZFNlbGwpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGNsb3NlQnV5ID0gaXNDbG9zZWRCdXk7ICAgLy8gVXBkYXRlcyB0aGUgc3RhdGUgb2YgYnV5IG9wZXJhdGlvbnMuCiAgICAgICAgY2xvc2VTZWxsID0gaXNDbG9zZWRTZWxsOyAvLyBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBzZWxsIG9wZXJhdGlvbnMuCiAgICB9CgogICAgLy8vIEBub3RpY2UgRGVwb3NpdHMgRXRoZXIgdG8gdGhlIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBkZXBvc2l0KCkgcGF5YWJsZSBwdWJsaWMgcmV0dXJucyhib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKCh0aGlzLmJhbGFuY2UgKyBtc2cudmFsdWUpID4gdGhpcy5iYWxhbmNlKTsgLy8gQ2hlY2tzIGZvciBvdmVyZmxvd3MuCiAgICAgICAgLy9Db250cmFjdCBoYXMgYWxyZWFkeSByZWNlaXZlZCB0aGUgRXRoZXIgd2hlbiB0aGlzIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkLgogICAgICAgIF91cGRhdGVTb2x2ZW5jeSh0aGlzLmJhbGFuY2UpOyAgIC8vIFVwZGF0ZXMgdGhlIHNvbHZlbmN5IHZhbHVlIG9mIHRoZSBjb250cmFjdC4KICAgICAgICBfdXBkYXRlUHJvZml0KG1zZy52YWx1ZSwgZmFsc2UpOyAvLyBEZWNyZWFzZSBwcm9maXQgdmFsdWUuCiAgICAgICAgLy8gRGVjcmVhc2UgYmVjYXVzZSBkZXBvc2l0cyB3aWxsIGJlIGRvbmUgbW9zdGx5IGJ5IHRoZSBvd25lci4KICAgICAgICAvLyBQb3NzaWJsZSBkb25hdGlvbnMgd29uJ3QgY291bnQgYXMgcHJvZml0IGZvciB0aGUgY29tcGFueSwgYnV0IGluIGZhdm9yIG9mIHRoZSBpbnZlc3RvcnMuCiAgICAgICAgTG9nRGVwb3NpdChtc2cuc2VuZGVyLCBtc2cudmFsdWUpOyAvLyBOb3RpZmllcyB0aGUgYmxvY2tjaGFpbiBhYm91dCB0aGUgRXRoZXIgcmVjZWl2ZWQuCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBub3RpY2UgVGhlIG93bmVyIHdpdGhkcmF3cyBFdGhlciBmcm9tIHRoZSBjb250cmFjdC4KICAgIC8vLyBAcGFyYW0gYW1vdW50SW5XZWlzIEFtb3VudCBvZiBFVEggaW4gV0VJIHdoaWNoIHdpbGwgYmUgd2l0aGRyYXdlZC4KICAgIGZ1bmN0aW9uIHdpdGhkcmF3KHVpbnQgYW1vdW50SW5XZWlzKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBMb2dXaXRoZHJhd2FsKG1zZy5zZW5kZXIsIGFtb3VudEluV2Vpcyk7IC8vIE5vdGlmaWVzIHRoZSBibG9ja2NoYWluIGFib3V0IHRoZSB3aXRoZHJhd2FsLgogICAgICAgIF91cGRhdGVTb2x2ZW5jeSggKHRoaXMuYmFsYW5jZSAtIGFtb3VudEluV2VpcykgKTsgLy8gVXBkYXRlcyB0aGUgc29sdmVuY3kgdmFsdWUgb2YgdGhlIGNvbnRyYWN0LgogICAgICAgIF91cGRhdGVQcm9maXQoYW1vdW50SW5XZWlzLCB0cnVlKTsgICAgICAgICAgICAgICAgLy8gSW5jcmVhc2UgdGhlIHByb2ZpdCB2YWx1ZS4KICAgICAgICBvd25lci50cmFuc2ZlcihhbW91bnRJbldlaXMpOyAvLyBTZW5kcyB0aGUgRXRoZXIgdG8gb3duZXIgYWRkcmVzcy4KICAgIH0KCiAgICAvLy8gQG5vdGljZSBCdXkgdG9rZW5zIGZyb20gY29udHJhY3QgYnkgc2VuZGluZyBFdGhlci4KICAgIGZ1bmN0aW9uIGJ1eSgpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKCFjbG9zZUJ1eSk7IC8vQnV5IG9wZXJhdGlvbnMgbXVzdCBiZSBvcGVuZWQKICAgICAgICB1aW50IGFtb3VudCA9IG1zZy52YWx1ZSAvIGJ1eVByaWNlOyAvL0NhbGN1bGF0ZXMgdGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc2VudAogICAgICAgIHVpbnQgbWFya2V0X3ZhbHVlID0gYW1vdW50ICogYnV5UHJpY2U7IC8vTWFya2V0IHZhbHVlIGZvciB0aGlzIGFtb3VudAogICAgICAgIHVpbnQgY29taXNpb24gPSBtYXJrZXRfdmFsdWUgKiA0IC8gMTAwMDsgLy9DYWxjdWxhdGVzIHRoZSBjb21pc2lvbiBmb3IgdGhpcyB0cmFuc2FjdGlvbgogICAgICAgIHVpbnQgcHJvZml0X2luX3RyYW5zYWN0aW9uID0gbWFya2V0X3ZhbHVlIC0gKGFtb3VudCAqIHNlbGxQcmljZSkgLSBjb21pc2lvbjsgLy9DYWxjdWxhdGVzIHRoZSByZWxhdGl2ZSBwcm9maXQgZm9yIHRoaXMgdHJhbnNhY3Rpb24KICAgICAgICByZXF1aXJlKHRoaXMuYmFsYW5jZSA+PSBjb21pc2lvbik7IC8vVGhlIHRva2VuIHNtYXJ0LWNvbnRyYWN0IHBheXMgY29taXNpb24sIGVsc2UgdGhlIG9wZXJhdGlvbiBpcyBub3QgcG9zc2libGUuCiAgICAgICAgY29taXNpb25HZXR0ZXIudHJhbnNmZXIoY29taXNpb24pOyAvL1RyYW5zZmVycyBjb21pc2lvbiB0byB0aGUgY29taXNpb25HZXR0ZXIuCiAgICAgICAgX3RyYW5zZmVyKHRoaXMsIG1zZy5zZW5kZXIsIGFtb3VudCk7IC8vTWFrZXMgdGhlIHRyYW5zZmVyIG9mIHRva2Vucy4KICAgICAgICBfdXBkYXRlU29sdmVuY3koKHRoaXMuYmFsYW5jZSAtIHByb2ZpdF9pbl90cmFuc2FjdGlvbikpOyAvL1VwZGF0ZXMgdGhlIHNvbHZlbmN5IHZhbHVlIG9mIHRoZSBjb250cmFjdC4KICAgICAgICBfdXBkYXRlUHJvZml0KHByb2ZpdF9pbl90cmFuc2FjdGlvbiwgdHJ1ZSk7IC8vSW5jcmVhc2UgdGhlIHByb2ZpdCB2YWx1ZS4KICAgICAgICBvd25lci50cmFuc2Zlcihwcm9maXRfaW5fdHJhbnNhY3Rpb24pOyAvL1NlbmRzIHByb2ZpdCB0byB0aGUgb3duZXIgb2YgdGhlIGNvbnRyYWN0LgogICAgfQoKICAgIC8vLyBAbm90aWNlIFNlbGwgYGFtb3VudGAgdG9rZW5zIHRvIHRoZSBjb250cmFjdC4KICAgIC8vLyBAcGFyYW0gYW1vdW50IGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc29sZC4KICAgIGZ1bmN0aW9uIHNlbGwodWludDI1NiBhbW91bnQpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZSghY2xvc2VTZWxsKTsgLy9TZWxsIG9wZXJhdGlvbnMgbXVzdCBiZSBvcGVuZWQKICAgICAgICB1aW50IG1hcmtldF92YWx1ZSA9IGFtb3VudCAqIHNlbGxQcmljZTsgLy9NYXJrZXQgdmFsdWUgZm9yIHRoaXMgYW1vdW50CiAgICAgICAgdWludCBjb21pc2lvbiA9IG1hcmtldF92YWx1ZSAqIDQgLyAxMDAwOyAvL0NhbGN1bGF0ZXMgdGhlIGNvbWlzaW9uIGZvciB0aGlzIHRyYW5zYWN0aW9uCiAgICAgICAgdWludCBhbW91bnRfd2VpcyA9IG1hcmtldF92YWx1ZSArIGNvbWlzaW9uOyAvL1RvdGFsIGluIHdlaXMgdGhhdCBtdXN0IGJlIHBhaWQKICAgICAgICByZXF1aXJlKHRoaXMuYmFsYW5jZSA+PSBhbW91bnRfd2Vpcyk7IC8vQ29udHJhY3QgbXVzdCBoYXZlIGVub3VnaCB3ZWlzCiAgICAgICAgY29taXNpb25HZXR0ZXIudHJhbnNmZXIoY29taXNpb24pOyAvL1RyYW5zZmVycyBjb21pc2lvbiB0byB0aGUgY29taXNpb25HZXR0ZXIKICAgICAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgdGhpcywgYW1vdW50KTsgLy9NYWtlcyB0aGUgdHJhbnNmZXIgb2YgdG9rZW5zLCB0aGUgY29udHJhY3QgcmVjZWl2ZXMgdGhlIHRva2Vucy4KICAgICAgICBfdXBkYXRlU29sdmVuY3koICh0aGlzLmJhbGFuY2UgLSBhbW91bnRfd2VpcykgKTsgLy9VcGRhdGVzIHRoZSBzb2x2ZW5jeSB2YWx1ZSBvZiB0aGUgY29udHJhY3QuCiAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihtYXJrZXRfdmFsdWUpOyAvL1NlbmRzIEV0aGVyIHRvIHRoZSBzZWxsZXIuCiAgICB9CgogICAgLy8vIERlZmF1bHQgZnVuY3Rpb24sIHNlbmRlciBidXlzIHRva2VucyBieSBzZW5kaW5nIGV0aGVyIHRvIHRoZSBjb250cmFjdDoKICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsgYnV5KCk7IH0KfQ=='.
	

]
