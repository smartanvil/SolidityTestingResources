Class {
	#name : #SRTd02675f786cfd9e665d6d4c725e5ada529493063,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd02675f786cfd9e665d6d4c725e5ada529493063 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgpsaWJyYXJ5IERhdGVUaW1lTGliIHsKICAgIC8qCiAgICAgKiAgRGF0ZSBhbmQgVGltZSB1dGlsaXRpZXMgZm9yIGV0aGVyZXVtIGNvbnRyYWN0cwogICAgICoKICAgICAqLwogICAgc3RydWN0IF9EYXRlVGltZSB7CiAgICAgICAgdWludDE2IHllYXI7CiAgICAgICAgdWludDggbW9udGg7CiAgICAgICAgdWludDggZGF5OwogICAgICAgIHVpbnQ4IGhvdXI7CiAgICAgICAgdWludDggbWludXRlOwogICAgICAgIHVpbnQ4IHNlY29uZDsKICAgICAgICB1aW50OCB3ZWVrZGF5OwogICAgfQoKICAgIHVpbnQgY29uc3RhbnQgREFZX0lOX1NFQ09ORFMgPSA4NjQwMDsKICAgIHVpbnQgY29uc3RhbnQgWUVBUl9JTl9TRUNPTkRTID0gMzE1MzYwMDA7CiAgICB1aW50IGNvbnN0YW50IExFQVBfWUVBUl9JTl9TRUNPTkRTID0gMzE2MjI0MDA7CgogICAgdWludCBjb25zdGFudCBIT1VSX0lOX1NFQ09ORFMgPSAzNjAwOwogICAgdWludCBjb25zdGFudCBNSU5VVEVfSU5fU0VDT05EUyA9IDYwOwoKICAgIHVpbnQxNiBjb25zdGFudCBPUklHSU5fWUVBUiA9IDE5NzA7CgogICAgZnVuY3Rpb24gaXNMZWFwWWVhcih1aW50MTYgeWVhcikgcHVibGljIHB1cmUgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGlmICh5ZWFyICUgNCAhPSAwKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgaWYgKHllYXIgJSAxMDAgIT0gMCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgaWYgKHllYXIgJSA0MDAgIT0gMCkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGxlYXBZZWFyc0JlZm9yZSh1aW50IHllYXIpIHB1YmxpYyBwdXJlIHJldHVybnMgKHVpbnQpIHsKICAgICAgICB5ZWFyIC09IDE7CiAgICAgICAgcmV0dXJuIHllYXIgLyA0IC0geWVhciAvIDEwMCArIHllYXIgLyA0MDA7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0RGF5c0luTW9udGgodWludDggbW9udGgsIHVpbnQxNiB5ZWFyKSBwdWJsaWMgcHVyZSByZXR1cm5zICh1aW50OCkgewogICAgICAgIGlmIChtb250aCA9PSAxIHx8IG1vbnRoID09IDMgfHwgbW9udGggPT0gNSB8fCBtb250aCA9PSA3IHx8IG1vbnRoID09IDggfHwgbW9udGggPT0gMTAgfHwgbW9udGggPT0gMTIpIHsKICAgICAgICAgICAgcmV0dXJuIDMxOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChtb250aCA9PSA0IHx8IG1vbnRoID09IDYgfHwgbW9udGggPT0gOSB8fCBtb250aCA9PSAxMSkgewogICAgICAgICAgICByZXR1cm4gMzA7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKGlzTGVhcFllYXIoeWVhcikpIHsKICAgICAgICAgICAgcmV0dXJuIDI5OwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIDI4OwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBwYXJzZVRpbWVzdGFtcCh1aW50IHRpbWVzdGFtcCkgaW50ZXJuYWwgcHVyZSByZXR1cm5zIChfRGF0ZVRpbWUgZHQpIHsKICAgICAgICB1aW50IHNlY29uZHNBY2NvdW50ZWRGb3IgPSAwOwogICAgICAgIHVpbnQgYnVmOwogICAgICAgIHVpbnQ4IGk7CgogICAgICAgIC8vIFllYXIKICAgICAgICBkdC55ZWFyID0gZ2V0WWVhcih0aW1lc3RhbXApOwogICAgICAgIGJ1ZiA9IGxlYXBZZWFyc0JlZm9yZShkdC55ZWFyKSAtIGxlYXBZZWFyc0JlZm9yZShPUklHSU5fWUVBUik7CgogICAgICAgIHNlY29uZHNBY2NvdW50ZWRGb3IgKz0gTEVBUF9ZRUFSX0lOX1NFQ09ORFMgKiBidWY7CiAgICAgICAgc2Vjb25kc0FjY291bnRlZEZvciArPSBZRUFSX0lOX1NFQ09ORFMgKiAoZHQueWVhciAtIE9SSUdJTl9ZRUFSIC0gYnVmKTsKCiAgICAgICAgLy8gTW9udGgKICAgICAgICB1aW50IHNlY29uZHNJbk1vbnRoOwogICAgICAgIGZvciAoaSA9IDE7IGkgPD0gMTI7IGkrKykgewogICAgICAgICAgICBzZWNvbmRzSW5Nb250aCA9IERBWV9JTl9TRUNPTkRTICogZ2V0RGF5c0luTW9udGgoaSwgZHQueWVhcik7CiAgICAgICAgICAgIGlmIChzZWNvbmRzSW5Nb250aCArIHNlY29uZHNBY2NvdW50ZWRGb3IgPiB0aW1lc3RhbXApIHsKICAgICAgICAgICAgICAgIGR0Lm1vbnRoID0gaTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNlY29uZHNBY2NvdW50ZWRGb3IgKz0gc2Vjb25kc0luTW9udGg7CiAgICAgICAgfQoKICAgICAgICAvLyBEYXkKICAgICAgICBmb3IgKGkgPSAxOyBpIDw9IGdldERheXNJbk1vbnRoKGR0Lm1vbnRoLCBkdC55ZWFyKTsgaSsrKSB7CiAgICAgICAgICAgIGlmIChEQVlfSU5fU0VDT05EUyArIHNlY29uZHNBY2NvdW50ZWRGb3IgPiB0aW1lc3RhbXApIHsKICAgICAgICAgICAgICAgIGR0LmRheSA9IGk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZWNvbmRzQWNjb3VudGVkRm9yICs9IERBWV9JTl9TRUNPTkRTOwogICAgICAgIH0KCiAgICAgICAgLy8gSG91cgogICAgICAgIGR0LmhvdXIgPSBnZXRIb3VyKHRpbWVzdGFtcCk7CgogICAgICAgIC8vIE1pbnV0ZQogICAgICAgIGR0Lm1pbnV0ZSA9IGdldE1pbnV0ZSh0aW1lc3RhbXApOwoKICAgICAgICAvLyBTZWNvbmQKICAgICAgICBkdC5zZWNvbmQgPSBnZXRTZWNvbmQodGltZXN0YW1wKTsKCiAgICAgICAgLy8gRGF5IG9mIHdlZWsuCiAgICAgICAgZHQud2Vla2RheSA9IGdldFdlZWtkYXkodGltZXN0YW1wKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRZZWFyKHVpbnQgdGltZXN0YW1wKSBwdWJsaWMgcHVyZSByZXR1cm5zICh1aW50MTYpIHsKICAgICAgICB1aW50IHNlY29uZHNBY2NvdW50ZWRGb3IgPSAwOwogICAgICAgIHVpbnQxNiB5ZWFyOwogICAgICAgIHVpbnQgbnVtTGVhcFllYXJzOwoKICAgICAgICAvLyBZZWFyCiAgICAgICAgeWVhciA9IHVpbnQxNihPUklHSU5fWUVBUiArIHRpbWVzdGFtcCAvIFlFQVJfSU5fU0VDT05EUyk7CiAgICAgICAgbnVtTGVhcFllYXJzID0gbGVhcFllYXJzQmVmb3JlKHllYXIpIC0gbGVhcFllYXJzQmVmb3JlKE9SSUdJTl9ZRUFSKTsKCiAgICAgICAgc2Vjb25kc0FjY291bnRlZEZvciArPSBMRUFQX1lFQVJfSU5fU0VDT05EUyAqIG51bUxlYXBZZWFyczsKICAgICAgICBzZWNvbmRzQWNjb3VudGVkRm9yICs9IFlFQVJfSU5fU0VDT05EUyAqICh5ZWFyIC0gT1JJR0lOX1lFQVIgLSBudW1MZWFwWWVhcnMpOwoKICAgICAgICB3aGlsZSAoc2Vjb25kc0FjY291bnRlZEZvciA+IHRpbWVzdGFtcCkgewogICAgICAgICAgICBpZiAoaXNMZWFwWWVhcih1aW50MTYoeWVhciAtIDEpKSkgewogICAgICAgICAgICAgICAgc2Vjb25kc0FjY291bnRlZEZvciAtPSBMRUFQX1lFQVJfSU5fU0VDT05EUzsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHNlY29uZHNBY2NvdW50ZWRGb3IgLT0gWUVBUl9JTl9TRUNPTkRTOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHllYXIgLT0gMTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHllYXI7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0TW9udGgodWludCB0aW1lc3RhbXApIHB1YmxpYyBwdXJlIHJldHVybnMgKHVpbnQ4KSB7CiAgICAgICAgcmV0dXJuIHBhcnNlVGltZXN0YW1wKHRpbWVzdGFtcCkubW9udGg7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0RGF5KHVpbnQgdGltZXN0YW1wKSBwdWJsaWMgcHVyZSByZXR1cm5zICh1aW50OCkgewogICAgICAgIHJldHVybiBwYXJzZVRpbWVzdGFtcCh0aW1lc3RhbXApLmRheTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRIb3VyKHVpbnQgdGltZXN0YW1wKSBwdWJsaWMgcHVyZSByZXR1cm5zICh1aW50OCkgewogICAgICAgIHJldHVybiB1aW50OCgodGltZXN0YW1wIC8gNjAgLyA2MCkgJSAyNCk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0TWludXRlKHVpbnQgdGltZXN0YW1wKSBwdWJsaWMgcHVyZSByZXR1cm5zICh1aW50OCkgewogICAgICAgIHJldHVybiB1aW50OCgodGltZXN0YW1wIC8gNjApICUgNjApOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFNlY29uZCh1aW50IHRpbWVzdGFtcCkgcHVibGljIHB1cmUgcmV0dXJucyAodWludDgpIHsKICAgICAgICByZXR1cm4gdWludDgodGltZXN0YW1wICUgNjApOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFdlZWtkYXkodWludCB0aW1lc3RhbXApIHB1YmxpYyBwdXJlIHJldHVybnMgKHVpbnQ4KSB7CiAgICAgICAgcmV0dXJuIHVpbnQ4KCh0aW1lc3RhbXAgLyBEQVlfSU5fU0VDT05EUyArIDQpICUgNyk7CiAgICB9CgogICAgZnVuY3Rpb24gdG9UaW1lc3RhbXAodWludDE2IHllYXIsIHVpbnQ4IG1vbnRoLCB1aW50OCBkYXkpIHB1YmxpYyBwdXJlIHJldHVybnMgKHVpbnQgdGltZXN0YW1wKSB7CiAgICAgICAgcmV0dXJuIHRvVGltZXN0YW1wKHllYXIsIG1vbnRoLCBkYXksIDAsIDAsIDApOwogICAgfQoKICAgIGZ1bmN0aW9uIHRvVGltZXN0YW1wKHVpbnQxNiB5ZWFyLCB1aW50OCBtb250aCwgdWludDggZGF5LCB1aW50OCBob3VyKSBwdWJsaWMgcHVyZSByZXR1cm5zICh1aW50IHRpbWVzdGFtcCkgewogICAgICAgIHJldHVybiB0b1RpbWVzdGFtcCh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCAwLCAwKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0b1RpbWVzdGFtcCh1aW50MTYgeWVhciwgdWludDggbW9udGgsIHVpbnQ4IGRheSwgdWludDggaG91ciwgdWludDggbWludXRlKSBwdWJsaWMgcHVyZSByZXR1cm5zICh1aW50IHRpbWVzdGFtcCkgewogICAgICAgIHJldHVybiB0b1RpbWVzdGFtcCh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIDApOwogICAgfQoKICAgIGZ1bmN0aW9uIHRvVGltZXN0YW1wKHVpbnQxNiB5ZWFyLCB1aW50OCBtb250aCwgdWludDggZGF5LCB1aW50OCBob3VyLCB1aW50OCBtaW51dGUsIHVpbnQ4IHNlY29uZCkgcHVibGljIHB1cmUgcmV0dXJucyAodWludCB0aW1lc3RhbXApIHsKICAgICAgICB1aW50MTYgaTsKCiAgICAgICAgLy8gWWVhcgogICAgICAgIGZvciAoaSA9IE9SSUdJTl9ZRUFSOyBpIDwgeWVhcjsgaSsrKSB7CiAgICAgICAgICAgIGlmIChpc0xlYXBZZWFyKGkpKSB7CiAgICAgICAgICAgICAgICB0aW1lc3RhbXAgKz0gTEVBUF9ZRUFSX0lOX1NFQ09ORFM7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB0aW1lc3RhbXAgKz0gWUVBUl9JTl9TRUNPTkRTOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBNb250aAogICAgICAgIHVpbnQ4WzEyXSBtZW1vcnkgbW9udGhEYXlDb3VudHM7CiAgICAgICAgbW9udGhEYXlDb3VudHNbMF0gPSAzMTsKICAgICAgICBpZiAoaXNMZWFwWWVhcih5ZWFyKSkgewogICAgICAgICAgICBtb250aERheUNvdW50c1sxXSA9IDI5OwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgbW9udGhEYXlDb3VudHNbMV0gPSAyODsKICAgICAgICB9CiAgICAgICAgbW9udGhEYXlDb3VudHNbMl0gPSAzMTsKICAgICAgICBtb250aERheUNvdW50c1szXSA9IDMwOwogICAgICAgIG1vbnRoRGF5Q291bnRzWzRdID0gMzE7CiAgICAgICAgbW9udGhEYXlDb3VudHNbNV0gPSAzMDsKICAgICAgICBtb250aERheUNvdW50c1s2XSA9IDMxOwogICAgICAgIG1vbnRoRGF5Q291bnRzWzddID0gMzE7CiAgICAgICAgbW9udGhEYXlDb3VudHNbOF0gPSAzMDsKICAgICAgICBtb250aERheUNvdW50c1s5XSA9IDMxOwogICAgICAgIG1vbnRoRGF5Q291bnRzWzEwXSA9IDMwOwogICAgICAgIG1vbnRoRGF5Q291bnRzWzExXSA9IDMxOwoKICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbW9udGg7IGkrKykgewogICAgICAgICAgICB0aW1lc3RhbXAgKz0gREFZX0lOX1NFQ09ORFMgKiBtb250aERheUNvdW50c1tpIC0gMV07CiAgICAgICAgfQoKICAgICAgICAvLyBEYXkKICAgICAgICB0aW1lc3RhbXAgKz0gREFZX0lOX1NFQ09ORFMgKiAoZGF5IC0gMSk7CgogICAgICAgIC8vIEhvdXIKICAgICAgICB0aW1lc3RhbXAgKz0gSE9VUl9JTl9TRUNPTkRTICogKGhvdXIpOwoKICAgICAgICAvLyBNaW51dGUKICAgICAgICB0aW1lc3RhbXAgKz0gTUlOVVRFX0lOX1NFQ09ORFMgKiAobWludXRlKTsKCiAgICAgICAgLy8gU2Vjb25kCiAgICAgICAgdGltZXN0YW1wICs9IHNlY29uZDsKCiAgICAgICAgcmV0dXJuIHRpbWVzdGFtcDsKICAgIH0KfQoKbGlicmFyeSBTYWZlTWF0aExpYiB7CgogICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhICogYjsKICAgICAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICAgICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAgICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9CgppbnRlcmZhY2UgSUVSQzIwIHsKICAgIC8vZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiB0b3RhbFN1cHBseSk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwp9Cgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIElFUkMyMCB7CgogICAgdXNpbmcgU2FmZU1hdGhMaWIgZm9yIHVpbnQyNTY7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgogICAgZnVuY3Rpb24gU3RhbmRhcmRUb2tlbigpIHB1YmxpYyBwYXlhYmxlIHsKCiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmV0dXJuIHRyYW5zZmVySW50ZXJuYWwobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVySW50ZXJuYWwoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBpbnRlcm5hbCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKF92YWx1ZSA+IDAgJiYgYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMCAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKfQoKY29udHJhY3QgTG9ja2FibGVUb2tlbiBpcyBTdGFuZGFyZFRva2VuIHsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgaW50ZXJuYWwgbG9ja2VkQmFsYW5jZTsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgaW50ZXJuYWwgdGltZVJlbGVhc2U7CgogICAgYWRkcmVzcyBpbnRlcm5hbCB0ZWFtUmVzZXJ2ZWRIb2xkZXI7CgogICAgdWludDI1NiBpbnRlcm5hbCB0ZWFtUmVzZXJ2ZWRCYWxhbmNlOwoKICAgIHVpbnQgWzhdIGludGVybmFsIHRlYW1SZXNlcnZlZEZyb3plbkRhdGVzOwoKICAgIHVpbnQyNTYgWzhdIGludGVybmFsIHRlYW1SZXNlcnZlZEZyb3plbkxpbWl0czsKCiAgICBmdW5jdGlvbiBMb2NrYWJsZVRva2VuKCkgcHVibGljIHBheWFibGUgewoKICAgIH0KCiAgICBmdW5jdGlvbiBsb2NrSW5mbyhhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCB0aW1lTGltaXQsIHVpbnQyNTYgYmFsYW5jZUxpbWl0KSB7CiAgICAgICAgcmV0dXJuICh0aW1lUmVsZWFzZVtfYWRkcmVzc10sIGxvY2tlZEJhbGFuY2VbX2FkZHJlc3NdKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0ZWFtUmVzZXJ2ZWRMaW1pdCgpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZUxpbWl0KSB7CiAgICAgICAgdWludCB0aW1lID0gbm93OwogICAgICAgIGZvciAodWludCBpbmRleCA9IDA7IGluZGV4IDwgdGVhbVJlc2VydmVkRnJvemVuRGF0ZXMubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICAgIGlmICh0ZWFtUmVzZXJ2ZWRGcm96ZW5EYXRlc1tpbmRleF0gPT0gMHgwKSB7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGltZSA+IHRlYW1SZXNlcnZlZEZyb3plbkRhdGVzW2luZGV4XSkgewogICAgICAgICAgICAgICAgdGVhbVJlc2VydmVkRnJvemVuRGF0ZXNbaW5kZXhdID0gMHgwOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRlYW1SZXNlcnZlZEZyb3plbkxpbWl0c1tpbmRleF07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmV0dXJuIHRyYW5zZmVySW50ZXJuYWwobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVySW50ZXJuYWwoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBpbnRlcm5hbCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKF90byAhPSAweDAgJiYgX3ZhbHVlID4gMHgwKTsKICAgICAgICBpZiAoX2Zyb20gPT0gdGVhbVJlc2VydmVkSG9sZGVyKSB7CiAgICAgICAgICAgIHVpbnQyNTYgcmVzZXJ2ZWRMaW1pdCA9IHRlYW1SZXNlcnZlZExpbWl0KCk7CiAgICAgICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dLnN1YihyZXNlcnZlZExpbWl0KSA+PSBfdmFsdWUpOwogICAgICAgIH0KICAgICAgICB2YXIgKHRpbWVMaW1pdCwgbG9ja0xpbWl0KSA9IGxvY2tJbmZvKF9mcm9tKTsKICAgICAgICBpZiAodGltZUxpbWl0IDw9IG5vdyAmJiB0aW1lTGltaXQgIT0gMHgwKSB7CiAgICAgICAgICAgIHRpbWVMaW1pdCA9IDB4MDsKICAgICAgICAgICAgdGltZVJlbGVhc2VbX2Zyb21dID0gMHgwOwogICAgICAgICAgICBsb2NrZWRCYWxhbmNlW19mcm9tXSA9IDB4MDsKICAgICAgICAgICAgVW5Mb2NrKF9mcm9tLCBsb2NrTGltaXQpOwogICAgICAgICAgICBsb2NrTGltaXQgPSAweDA7CiAgICAgICAgfQogICAgICAgIGlmICh0aW1lTGltaXQgIT0gMHgwICYmIGxvY2tMaW1pdCA+IDB4MCkgewogICAgICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19mcm9tXS5zdWIobG9ja0xpbWl0KSA+PSBfdmFsdWUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJJbnRlcm5hbChfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXR1cm4gdHJhbnNmZXJGcm9tSW50ZXJuYWwoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb21JbnRlcm5hbChhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGludGVybmFsIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoX3RvICE9IDB4MCAmJiBfdmFsdWUgPiAweDApOwogICAgICAgIGlmIChfZnJvbSA9PSB0ZWFtUmVzZXJ2ZWRIb2xkZXIpIHsKICAgICAgICAgICAgdWludDI1NiByZXNlcnZlZExpbWl0ID0gdGVhbVJlc2VydmVkTGltaXQoKTsKICAgICAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfZnJvbV0uc3ViKHJlc2VydmVkTGltaXQpID49IF92YWx1ZSk7CiAgICAgICAgfQogICAgICAgIHZhciAodGltZUxpbWl0LCBsb2NrTGltaXQpID0gbG9ja0luZm8oX2Zyb20pOwogICAgICAgIGlmICh0aW1lTGltaXQgPD0gbm93ICYmIHRpbWVMaW1pdCAhPSAweDApIHsKICAgICAgICAgICAgdGltZUxpbWl0ID0gMHgwOwogICAgICAgICAgICB0aW1lUmVsZWFzZVtfZnJvbV0gPSAweDA7CiAgICAgICAgICAgIGxvY2tlZEJhbGFuY2VbX2Zyb21dID0gMHgwOwogICAgICAgICAgICBVbkxvY2soX2Zyb20sIGxvY2tMaW1pdCk7CiAgICAgICAgICAgIGxvY2tMaW1pdCA9IDB4MDsKICAgICAgICB9CiAgICAgICAgaWYgKHRpbWVMaW1pdCAhPSAweDAgJiYgbG9ja0xpbWl0ID4gMHgwKSB7CiAgICAgICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dLnN1Yihsb2NrTGltaXQpID49IF92YWx1ZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICBldmVudCBMb2NrKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgdWludDI1NiB2YWx1ZSwgdWludCByZWxlYXNlVGltZSk7CiAgICBldmVudCBVbkxvY2soYWRkcmVzcyBpbmRleGVkIG93bmVyLCB1aW50MjU2IHZhbHVlKTsKfQoKY29udHJhY3QgVHJhZGVhYmxlVG9rZW4gaXMgTG9ja2FibGVUb2tlbiB7CgogICAgYWRkcmVzcyBwdWJsaWMgcHVibGljT2ZmZXJpbmdIb2xkZXI7CgogICAgdWludDI1NiBpbnRlcm5hbCBiYXNlRXhjaGFuZ2VSYXRlOwoKICAgIHVpbnQyNTYgaW50ZXJuYWwgZWFybHlFeGNoYW5nZVJhdGU7CgogICAgdWludCBpbnRlcm5hbCBlYXJseUVuZFRpbWU7CgogICAgZnVuY3Rpb24gVHJhZGVhYmxlVG9rZW4oKSBwdWJsaWMgcGF5YWJsZSB7CgogICAgfQoKICAgIGZ1bmN0aW9uIGJ1eShhZGRyZXNzIF9iZW5lZmljaWFyeSwgdWludDI1NiBfd2VpQW1vdW50KSBpbnRlcm5hbCB7CiAgICAgICAgcmVxdWlyZShfYmVuZWZpY2lhcnkgIT0gMHgwKTsKICAgICAgICByZXF1aXJlKHB1YmxpY09mZmVyaW5nSG9sZGVyICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZShlYXJseUVuZFRpbWUgIT0gMHgwICYmIGJhc2VFeGNoYW5nZVJhdGUgIT0gMHgwICYmIGVhcmx5RXhjaGFuZ2VSYXRlICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZShfd2VpQW1vdW50ICE9IDB4MCk7CgogICAgICAgIHVpbnQyNTYgcmF0ZSA9IGJhc2VFeGNoYW5nZVJhdGU7CiAgICAgICAgaWYgKG5vdyA8PSBlYXJseUVuZFRpbWUpIHsKICAgICAgICAgICAgcmF0ZSA9IGVhcmx5RXhjaGFuZ2VSYXRlOwogICAgICAgIH0KICAgICAgICB1aW50MjU2IGV4Y2hhbmdlVG9rZW4gPSBfd2VpQW1vdW50Lm11bChyYXRlKTsKICAgICAgICBleGNoYW5nZVRva2VuID0gZXhjaGFuZ2VUb2tlbi5kaXYoMSAqIDEwICoqIDEwKTsKCiAgICAgICAgcHVibGljT2ZmZXJpbmdIb2xkZXIudHJhbnNmZXIoX3dlaUFtb3VudCk7CiAgICAgICAgc3VwZXIudHJhbnNmZXJJbnRlcm5hbChwdWJsaWNPZmZlcmluZ0hvbGRlciwgX2JlbmVmaWNpYXJ5LCBleGNoYW5nZVRva2VuKTsKICAgIH0KfQoKY29udHJhY3QgT3duYWJsZVRva2VuIGlzIFRyYWRlYWJsZVRva2VuIHsKCiAgICBhZGRyZXNzIGludGVybmFsIG93bmVyOwoKICAgIHVpbnQgaW50ZXJuYWwgX3RvdGFsU3VwcGx5ID0gMTUwMDAwMDAwMCAqIDEwICoqIDg7CgogICAgZnVuY3Rpb24gT3duYWJsZVRva2VuKCkgcHVibGljIHBheWFibGUgewoKICAgIH0KCiAgICAvKgogICAgICogIE1vZGlmaWVycwogICAgICovCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKF9uZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgICAgICBvd25lciA9IF9uZXdPd25lcjsKICAgICAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgX25ld093bmVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBsb2NrKGFkZHJlc3MgX293bmVyLCB1aW50MjU2IF92YWx1ZSwgdWludCBfcmVsZWFzZVRpbWUpIHB1YmxpYyBwYXlhYmxlIG9ubHlPd25lciByZXR1cm5zICh1aW50IHJlbGVhc2VUaW1lLCB1aW50MjU2IGxpbWl0KSB7CiAgICAgICAgcmVxdWlyZShfb3duZXIgIT0gMHgwICYmIF92YWx1ZSA+IDB4MCAmJiBfcmVsZWFzZVRpbWUgPj0gbm93KTsKICAgICAgICBfdmFsdWUgPSBsb2NrZWRCYWxhbmNlW19vd25lcl0uYWRkKF92YWx1ZSk7CiAgICAgICAgX3JlbGVhc2VUaW1lID0gX3JlbGVhc2VUaW1lID49IHRpbWVSZWxlYXNlW19vd25lcl0gPyBfcmVsZWFzZVRpbWUgOiB0aW1lUmVsZWFzZVtfb3duZXJdOwogICAgICAgIGxvY2tlZEJhbGFuY2VbX293bmVyXSA9IF92YWx1ZTsKICAgICAgICB0aW1lUmVsZWFzZVtfb3duZXJdID0gX3JlbGVhc2VUaW1lOwogICAgICAgIExvY2soX293bmVyLCBfdmFsdWUsIF9yZWxlYXNlVGltZSk7CiAgICAgICAgcmV0dXJuIChfcmVsZWFzZVRpbWUsIF92YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gdW5sb2NrKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgcGF5YWJsZSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX293bmVyICE9IDB4MCk7CiAgICAgICAgdWludDI1NiBfdmFsdWUgPSBsb2NrZWRCYWxhbmNlW19vd25lcl07CiAgICAgICAgbG9ja2VkQmFsYW5jZVtfb3duZXJdID0gMHgwOwogICAgICAgIHRpbWVSZWxlYXNlW19vd25lcl0gPSAweDA7CiAgICAgICAgVW5Mb2NrKF9vd25lciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckFuZExvY2soYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlLCB1aW50IF9yZWxlYXNlVGltZSkgcHVibGljIHBheWFibGUgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoX3RvICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPiAwKTsKICAgICAgICByZXF1aXJlKF9yZWxlYXNlVGltZSA+PSBub3cpOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKCiAgICAgICAgc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogICAgICAgIGxvY2soX3RvLCBfdmFsdWUsIF9yZWxlYXNlVGltZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0QmFzZUV4Y2hhbmdlUmF0ZSh1aW50MjU2IF9iYXNlRXhjaGFuZ2VSYXRlKSBwdWJsaWMgcGF5YWJsZSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShfYmFzZUV4Y2hhbmdlUmF0ZSA+IDB4MCk7CiAgICAgICAgYmFzZUV4Y2hhbmdlUmF0ZSA9IF9iYXNlRXhjaGFuZ2VSYXRlOwogICAgICAgIEJhc2VFeGNoYW5nZVJhdGVDaGFuZ2VkKGJhc2VFeGNoYW5nZVJhdGUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldEVhcmx5RXhjaGFuZ2VSYXRlKHVpbnQyNTYgX2Vhcmx5RXhjaGFuZ2VSYXRlKSBwdWJsaWMgcGF5YWJsZSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShfZWFybHlFeGNoYW5nZVJhdGUgPiAweDApOwogICAgICAgIGVhcmx5RXhjaGFuZ2VSYXRlID0gX2Vhcmx5RXhjaGFuZ2VSYXRlOwogICAgICAgIEVhcmx5RXhjaGFuZ2VSYXRlQ2hhbmdlZChlYXJseUV4Y2hhbmdlUmF0ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0RWFybHlFbmRUaW1lKHVpbnQyNTYgX2Vhcmx5RW5kVGltZSkgcHVibGljIHBheWFibGUgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoX2Vhcmx5RW5kVGltZSA+IDB4MCk7CiAgICAgICAgZWFybHlFbmRUaW1lID0gX2Vhcmx5RW5kVGltZTsKICAgICAgICBFYXJseUVuZFRpbWVDaGFuZ2VkKGVhcmx5RW5kVGltZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgcHVibGljIHBheWFibGUgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMHgwKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgX3RvdGFsU3VwcGx5ID0gX3RvdGFsU3VwcGx5LnN1YihfdmFsdWUpOwogICAgICAgIEJ1cm5lZChfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFB1YmxpY09mZmVyaW5nSG9sZGVyKGFkZHJlc3MgX3B1YmxpY09mZmVyaW5nSG9sZGVyKSBwdWJsaWMgcGF5YWJsZSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShfcHVibGljT2ZmZXJpbmdIb2xkZXIgIT0gMHgwKTsKICAgICAgICBwdWJsaWNPZmZlcmluZ0hvbGRlciA9IF9wdWJsaWNPZmZlcmluZ0hvbGRlcjsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKICAgIGV2ZW50IEJhc2VFeGNoYW5nZVJhdGVDaGFuZ2VkKHVpbnQyNTYgYmFzZUV4Y2hhbmdlUmF0ZSk7CiAgICBldmVudCBFYXJseUV4Y2hhbmdlUmF0ZUNoYW5nZWQodWludDI1NiBlYXJseUV4Y2hhbmdlUmF0ZSk7CiAgICBldmVudCBFYXJseUVuZFRpbWVDaGFuZ2VkKHVpbnQyNTYgZWFybHlFbmRUaW1lKTsKICAgIGV2ZW50IEJ1cm5lZCh1aW50MjU2IHZhbHVlKTsKfQoKY29udHJhY3QgVGVuWXVuVG9rZW4gaXMgT3duYWJsZVRva2VuIHsKCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJUWUMiOwoKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJUZW5ZdW4gQ29pbiI7CgogICAgdWludDggcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gODsKCiAgICBmdW5jdGlvbiBUZW5ZdW5Ub2tlbigpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICBvd25lciA9IDB4NTkzODQxZTI3YjcxMjJlZjQ4Rjc4NTRjN0U3RTFkNUEzNzRmOEJCMzsKICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSAxNTAwMDAwMDAwICogMTAgKiogODsKCiAgICAgICAgcHVibGljT2ZmZXJpbmdIb2xkZXIgPSAweDBCODNFRDdDNTdjMzM1ZENBOUM5NzhmNzg4MTlBNzM5QUM2N2ZENUQ7CiAgICAgICAgYmFsYW5jZXNbcHVibGljT2ZmZXJpbmdIb2xkZXJdID0gMHgwOwogICAgICAgIGJhc2VFeGNoYW5nZVJhdGUgPSA4NTAwOwogICAgICAgIGVhcmx5RXhjaGFuZ2VSYXRlID0gOTQ0NTsKICAgICAgICBlYXJseUVuZFRpbWUgPSAxNTE2MjkxMjAwOwoKICAgICAgICB0ZWFtUmVzZXJ2ZWRIb2xkZXIgPSAweDZlNDg5MDc2NEFBMkJiYTM0NjQ1OWUyRDZiODExZTI2Qzk2OTE3MDQ7CiAgICAgICAgdGVhbVJlc2VydmVkQmFsYW5jZSA9IDMwMDAwMDAwMCAqIDEwICoqIDg7CiAgICAgICAgYmFsYW5jZXNbdGVhbVJlc2VydmVkSG9sZGVyXSA9IDB4MDsKICAgICAgICB0ZWFtUmVzZXJ2ZWRGcm96ZW5EYXRlcyA9CiAgICAgICAgWwogICAgICAgIERhdGVUaW1lTGliLnRvVGltZXN0YW1wKDIwMTgsIDQsIDI1KSwKICAgICAgICBEYXRlVGltZUxpYi50b1RpbWVzdGFtcCgyMDE4LCA3LCAyNSksCiAgICAgICAgRGF0ZVRpbWVMaWIudG9UaW1lc3RhbXAoMjAxOCwgMTAsIDI1KSwKICAgICAgICBEYXRlVGltZUxpYi50b1RpbWVzdGFtcCgyMDE5LCAxLCAyNSksCiAgICAgICAgRGF0ZVRpbWVMaWIudG9UaW1lc3RhbXAoMjAxOSwgNCwgMjUpLAogICAgICAgIERhdGVUaW1lTGliLnRvVGltZXN0YW1wKDIwMTksIDcsIDI1KSwKICAgICAgICBEYXRlVGltZUxpYi50b1RpbWVzdGFtcCgyMDE5LCAxMCwgMjUpLAogICAgICAgIERhdGVUaW1lTGliLnRvVGltZXN0YW1wKDIwMjAsIDEsIDI1KQogICAgICAgIF07CiAgICAgICAgdGVhbVJlc2VydmVkRnJvemVuTGltaXRzID0KICAgICAgICBbCiAgICAgICAgdGVhbVJlc2VydmVkQmFsYW5jZSwKICAgICAgICB0ZWFtUmVzZXJ2ZWRCYWxhbmNlIC0gKHRlYW1SZXNlcnZlZEJhbGFuY2UgLyA4KSAqIDEsCiAgICAgICAgdGVhbVJlc2VydmVkQmFsYW5jZSAtICh0ZWFtUmVzZXJ2ZWRCYWxhbmNlIC8gOCkgKiAyLAogICAgICAgIHRlYW1SZXNlcnZlZEJhbGFuY2UgLSAodGVhbVJlc2VydmVkQmFsYW5jZSAvIDgpICogMywKICAgICAgICB0ZWFtUmVzZXJ2ZWRCYWxhbmNlIC0gKHRlYW1SZXNlcnZlZEJhbGFuY2UgLyA4KSAqIDQsCiAgICAgICAgdGVhbVJlc2VydmVkQmFsYW5jZSAtICh0ZWFtUmVzZXJ2ZWRCYWxhbmNlIC8gOCkgKiA1LAogICAgICAgIHRlYW1SZXNlcnZlZEJhbGFuY2UgLSAodGVhbVJlc2VydmVkQmFsYW5jZSAvIDgpICogNiwKICAgICAgICB0ZWFtUmVzZXJ2ZWRCYWxhbmNlIC0gKHRlYW1SZXNlcnZlZEJhbGFuY2UgLyA4KSAqIDcKICAgICAgICBdOwogICAgfQoKICAgIC8vIGZhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGJ1eSB0b2tlbnMKICAgIGZ1bmN0aW9uKCkgcHVibGljIHBheWFibGUgewogICAgICAgIGJ1eShtc2cuc2VuZGVyLCBtc2cudmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGV0aEJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpewogICAgICAgIHJldHVybiBfb3duZXIuYmFsYW5jZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHRvdGFsU3VwcGx5KSB7CiAgICAgICAgcmV0dXJuIF90b3RhbFN1cHBseTsKICAgIH0KfQ=='.
	

]
