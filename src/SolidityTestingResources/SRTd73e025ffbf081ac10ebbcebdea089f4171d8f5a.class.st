Class {
	#name : #SRTd73e025ffbf081ac10ebbcebdea089f4171d8f5a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd73e025ffbf081ac10ebbcebdea089f4171d8f5a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7Cgpjb250cmFjdCBFUkMyMEJhc2ljIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCmxpYnJhcnkgU2FmZU1hdGggewoKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9Cgp9Cgpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewoKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgICAvKioKICAgICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgZW1pdCBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLgogICAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKfQoKLyoqCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBAZGV2IEltcGxlbWVudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFyZCB0b2tlbi4KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAgIC8qKgogICAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB1aW50MjU2IF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAgICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAgICAgLy8gcmVxdWlyZSAoX3ZhbHVlIDw9IF9hbGxvd2FuY2UpOwoKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgICAgIGVtaXQgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewoKICAgICAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAgICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAgICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICAgICAgcmVxdWlyZSgoX3ZhbHVlID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CgogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIGVtaXQgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgogICAgICovCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKfQoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewoKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIC8qKgogICAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICAgKiBhY2NvdW50LgogICAgICovCiAgICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICAgKi8KICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQoKICAgIGV2ZW50IE93bmVyTG9nKGFkZHJlc3MgYSk7Cgp9Cgpjb250cmFjdCBDb25maWd1cmFibGUgaXMgT3duYWJsZSB7CgogICAgYWRkcmVzcyBwdWJsaWMgY29uZmlndXJlcjsKCiAgICBmdW5jdGlvbiBDb25maWd1cmFibGUoKSBwdWJsaWMgewogICAgICAgIGNvbmZpZ3VyZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlDb25maWd1cmVyT3JPd25lcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gY29uZmlndXJlciB8fCBtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlDb25maWd1cmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBjb25maWd1cmVyKTsKICAgICAgICBfOwogICAgfQp9Cgpjb250cmFjdCBETENUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBDb25maWd1cmFibGUgewoKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJEb3VibGVMYW5kIENvaW4iOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiRExDIjsKICAgIHVpbnQzMiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKCiAgICB1aW50MjU2IHB1YmxpYyBwcmljZU9mVG9rZW47CgogICAgYm9vbCB0b2tlbkJlZW5Jbml0ID0gZmFsc2U7CgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgcGVyY2VudFJhdGUgPSAxMDA7CiAgICB1aW50IHB1YmxpYyBpbnZlc3RvcnNUb2tlbnNQZXJjZW50OwogICAgdWludCBwdWJsaWMgZm91bmRlcnNUb2tlbnNQZXJjZW50OwogICAgdWludCBwdWJsaWMgYm91bnR5VG9rZW5zUGVyY2VudDsKICAgIHVpbnQgcHVibGljIGRldmVsb3BtZW50QXVkaXRQcm9tb3Rpb25Ub2tlbnNQZXJjZW50OwoKICAgIGFkZHJlc3MgcHVibGljIHRvU2FsZVdhbGxldDsKICAgIGFkZHJlc3MgcHVibGljIGJvdW50eVdhbGxldDsKICAgIGFkZHJlc3MgcHVibGljIGZvdW5kZXJzV2FsbGV0OwogICAgYWRkcmVzcyBwdWJsaWMgZGV2ZWxvcG1lbnRBdWRpdFByb21vdGlvbldhbGxldDsKCiAgICBhZGRyZXNzIHB1YmxpYyBzYWxlQWdlbnQ7CgoKICAgIGZ1bmN0aW9uIERMQ1Rva2VuKCkgcHVibGljIHsKICAgIH0KCiAgICBtb2RpZmllciBub3RJbml0KCkgewogICAgICAgIHJlcXVpcmUoIXRva2VuQmVlbkluaXQpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gc2V0U2FsZUFnZW50KGFkZHJlc3MgbmV3U2FsZUFnZW50KSBwdWJsaWMgb25seUNvbmZpZ3VyZXJPck93bmVyewogICAgICAgIHNhbGVBZ2VudCA9IG5ld1NhbGVBZ2VudDsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRQcmljZU9mVG9rZW4odWludDI1NiBuZXdQcmljZU9mVG9rZW4pIHB1YmxpYyBvbmx5Q29uZmlndXJlck9yT3duZXJ7CiAgICAgICAgcHJpY2VPZlRva2VuID0gbmV3UHJpY2VPZlRva2VuOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFRvdGFsU3VwcGx5KHVpbnQyNTYgX3RvdGFsU3VwcGx5KSBwdWJsaWMgbm90SW5pdCBvbmx5Q29uZmlndXJlcnsKICAgICAgICB0b3RhbFN1cHBseSA9IF90b3RhbFN1cHBseTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRGb3VuZGVyc1Rva2Vuc1BlcmNlbnQodWludCBfZm91bmRlcnNUb2tlbnNQZXJjZW50KSBwdWJsaWMgbm90SW5pdCBvbmx5Q29uZmlndXJlcnsKICAgICAgICBmb3VuZGVyc1Rva2Vuc1BlcmNlbnQgPSBfZm91bmRlcnNUb2tlbnNQZXJjZW50OwogICAgfQoKICAgIGZ1bmN0aW9uIHNldEJvdW50eVRva2Vuc1BlcmNlbnQodWludCBfYm91bnR5VG9rZW5zUGVyY2VudCkgcHVibGljIG5vdEluaXQgb25seUNvbmZpZ3VyZXJ7CiAgICAgICAgYm91bnR5VG9rZW5zUGVyY2VudCA9IF9ib3VudHlUb2tlbnNQZXJjZW50OwogICAgfQoKICAgIGZ1bmN0aW9uIHNldERldmVsb3BtZW50QXVkaXRQcm9tb3Rpb25Ub2tlbnNQZXJjZW50KHVpbnQgX2RldmVsb3BtZW50QXVkaXRQcm9tb3Rpb25Ub2tlbnNQZXJjZW50KSBwdWJsaWMgbm90SW5pdCBvbmx5Q29uZmlndXJlcnsKICAgICAgICBkZXZlbG9wbWVudEF1ZGl0UHJvbW90aW9uVG9rZW5zUGVyY2VudCA9IF9kZXZlbG9wbWVudEF1ZGl0UHJvbW90aW9uVG9rZW5zUGVyY2VudDsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRCb3VudHlXYWxsZXQoYWRkcmVzcyBfYm91bnR5V2FsbGV0KSBwdWJsaWMgbm90SW5pdCBvbmx5Q29uZmlndXJlcnsKICAgICAgICBib3VudHlXYWxsZXQgPSBfYm91bnR5V2FsbGV0OwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFRvU2FsZVdhbGxldChhZGRyZXNzIF90b1NhbGVXYWxsZXQpIHB1YmxpYyBub3RJbml0IG9ubHlDb25maWd1cmVyewogICAgICAgIHRvU2FsZVdhbGxldCA9IF90b1NhbGVXYWxsZXQ7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0Rm91bmRlcnNXYWxsZXQoYWRkcmVzcyBfZm91bmRlcnNXYWxsZXQpIHB1YmxpYyBub3RJbml0IG9ubHlDb25maWd1cmVyewogICAgICAgIGZvdW5kZXJzV2FsbGV0ID0gX2ZvdW5kZXJzV2FsbGV0OwogICAgfQoKICAgIGZ1bmN0aW9uIHNldERldmVsb3BtZW50QXVkaXRQcm9tb3Rpb25XYWxsZXQoYWRkcmVzcyBfZGV2ZWxvcG1lbnRBdWRpdFByb21vdGlvbldhbGxldCkgcHVibGljIG5vdEluaXQgb25seUNvbmZpZ3VyZXIgewogICAgICAgIGRldmVsb3BtZW50QXVkaXRQcm9tb3Rpb25XYWxsZXQgPSBfZGV2ZWxvcG1lbnRBdWRpdFByb21vdGlvbldhbGxldDsKICAgIH0KCiAgICBmdW5jdGlvbiBpbml0KCkgcHVibGljIG5vdEluaXQgb25seUNvbmZpZ3VyZXJ7CiAgICAgICAgcmVxdWlyZSh0b3RhbFN1cHBseSA+IDApOwogICAgICAgIHJlcXVpcmUoZm91bmRlcnNUb2tlbnNQZXJjZW50ID4gMCk7CiAgICAgICAgcmVxdWlyZShib3VudHlUb2tlbnNQZXJjZW50ID4gMCk7CiAgICAgICAgcmVxdWlyZShkZXZlbG9wbWVudEF1ZGl0UHJvbW90aW9uVG9rZW5zUGVyY2VudCA+IDApOwogICAgICAgIHJlcXVpcmUoZm91bmRlcnNXYWxsZXQgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShib3VudHlXYWxsZXQgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShkZXZlbG9wbWVudEF1ZGl0UHJvbW90aW9uV2FsbGV0ICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHRva2VuQmVlbkluaXQgPSB0cnVlOwoKICAgICAgICBpbnZlc3RvcnNUb2tlbnNQZXJjZW50ID0gcGVyY2VudFJhdGUgLSAoZm91bmRlcnNUb2tlbnNQZXJjZW50ICsgYm91bnR5VG9rZW5zUGVyY2VudCArIGRldmVsb3BtZW50QXVkaXRQcm9tb3Rpb25Ub2tlbnNQZXJjZW50KTsKCiAgICAgICAgYmFsYW5jZXNbdG9TYWxlV2FsbGV0XSA9IHRvdGFsU3VwcGx5Lm11bChpbnZlc3RvcnNUb2tlbnNQZXJjZW50KS5kaXYocGVyY2VudFJhdGUpOwogICAgICAgIGJhbGFuY2VzW2ZvdW5kZXJzV2FsbGV0XSA9IHRvdGFsU3VwcGx5Lm11bChmb3VuZGVyc1Rva2Vuc1BlcmNlbnQpLmRpdihwZXJjZW50UmF0ZSk7CiAgICAgICAgYmFsYW5jZXNbYm91bnR5V2FsbGV0XSA9IHRvdGFsU3VwcGx5Lm11bChib3VudHlUb2tlbnNQZXJjZW50KS5kaXYocGVyY2VudFJhdGUpOwogICAgICAgIGJhbGFuY2VzW2RldmVsb3BtZW50QXVkaXRQcm9tb3Rpb25XYWxsZXRdID0gdG90YWxTdXBwbHkubXVsKGRldmVsb3BtZW50QXVkaXRQcm9tb3Rpb25Ub2tlbnNQZXJjZW50KS5kaXYocGVyY2VudFJhdGUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFJlc3RUb2tlbkJhbGFuY2UoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBiYWxhbmNlc1t0b1NhbGVXYWxsZXRdOwogICAgfQoKICAgIGZ1bmN0aW9uIHB1cmNoYXNlKGFkZHJlc3MgYmVuZWZpY2lhcnksIHVpbnQyNTYgcXR5KSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBzYWxlQWdlbnQgfHwgbXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgcmVxdWlyZShiZW5lZmljaWFyeSAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKHF0eSA+IDApOwogICAgICAgIHJlcXVpcmUoKGdldFJlc3RUb2tlbkJhbGFuY2UoKS5zdWIocXR5KSkgPiAwKTsKCiAgICAgICAgYmFsYW5jZXNbYmVuZWZpY2lhcnldID0gYmFsYW5jZXNbYmVuZWZpY2lhcnldLmFkZChxdHkpOwogICAgICAgIGJhbGFuY2VzW3RvU2FsZVdhbGxldF0gPSBiYWxhbmNlc1t0b1NhbGVXYWxsZXRdLnN1YihxdHkpOwoKICAgICAgICBlbWl0IFRyYW5zZmVyKHRvU2FsZVdhbGxldCwgYmVuZWZpY2lhcnksIHF0eSk7CiAgICB9CgogICAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewogICAgICAgIHJldmVydCgpOwogICAgfQp9Cgpjb250cmFjdCBCb251c2VzIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIERMQ1Rva2VuIHB1YmxpYyB0b2tlbjsKCiAgICB1aW50MjU2IHB1YmxpYyBzdGFydFRpbWU7CiAgICB1aW50MjU2IHB1YmxpYyBlbmRUaW1lOwoKICAgIG1hcHBpbmcodWludCA9PiB1aW50MjU2KSBwdWJsaWMgYm9udXNPZkRheTsKCiAgICBib29sIHB1YmxpYyBib251c0luaXRlZCA9IGZhbHNlOwoKICAgIGZ1bmN0aW9uIGluaXRCb251c2VzIChzdHJpbmcgX3ByZXNldCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKCFib251c0luaXRlZCk7CiAgICAgICAgYm9udXNJbml0ZWQgPSB0cnVlOwogICAgICAgIGJ5dGVzMzIgcHJlc2V0ID0ga2VjY2FrMjU2KF9wcmVzZXQpOwoKICAgICAgICBpZihwcmVzZXQgPT0ga2VjY2FrMjU2KCdwcml2YXRlc2FsZScpKXsKICAgICAgICAgICAgYm9udXNPZkRheVswXSA9IDMxMzsKICAgICAgICB9IGVsc2UKICAgICAgICAgICAgaWYocHJlc2V0ID09IGtlY2NhazI1NigncHJlc2FsZScpKXsKICAgICAgICAgICAgICAgIGJvbnVzT2ZEYXlbMF0gPSAyMTA7CiAgICAgICAgICAgIH0gZWxzZQogICAgICAgICAgICAgICAgaWYocHJlc2V0ID09IGtlY2NhazI1NignZ2VuZXJhbHNhbGUnKSl7CiAgICAgICAgICAgICAgICAgICAgYm9udXNPZkRheVswXSA9IDYwOwogICAgICAgICAgICAgICAgICAgIGJvbnVzT2ZEYXlbN10gPSAzODsKICAgICAgICAgICAgICAgICAgICBib251c09mRGF5WzE0XSA9IDEwOwogICAgICAgICAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVRva2Vuc1F0eUJ5RXRoZXIodWludDI1NiBhbW91bnQpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICBpbnQgZGF5T2ZTdGFydCA9IGludChub3cuc3ViKHN0YXJ0VGltZSkuZGl2KDg2NDAwKS5hZGQoMSkpOwogICAgICAgIHVpbnQgY3VycmVudEJvbnVzID0gMDsKICAgICAgICBpbnQgaTsKCiAgICAgICAgZm9yIChpID0gZGF5T2ZTdGFydDsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgaWYgKGJvbnVzT2ZEYXlbdWludChpKV0gPiAwKSB7CiAgICAgICAgICAgICAgICBjdXJyZW50Qm9udXMgPSBib251c09mRGF5W3VpbnQoaSldOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBhbW91bnQuZGl2KHRva2VuLnByaWNlT2ZUb2tlbigpKS5tdWwoY3VycmVudEJvbnVzICsgMTAwKS5kaXYoMTAwKS5tdWwoMSBldGhlcik7CiAgICB9Cn0KCmNvbnRyYWN0IFNhbGUgaXMgQ29uZmlndXJhYmxlLCBCb251c2VzewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgYWRkcmVzcyBwdWJsaWMgbXVsdGlzaWdXYWxsZXQ7CiAgICB1aW50MjU2IHB1YmxpYyB0b2tlbnNMaW1pdDsKICAgIHVpbnQyNTYgcHVibGljIG1pbmltYWxQcmljZTsKICAgIHVpbnQyNTYgcHVibGljIHRva2Vuc1RyYW5zZmVycmVkID0gMDsKCiAgICBzdHJpbmcgcHVibGljIGJvbnVzUHJlc2V0OwoKICAgIHVpbnQyNTYgcHVibGljIGNvbGxlY3RlZCA9IDA7CgogICAgYm9vbCBwdWJsaWMgYWN0aXZhdGVkID0gZmFsc2U7CiAgICBib29sIHB1YmxpYyBjbG9zZWQgPSBmYWxzZTsKICAgIGJvb2wgcHVibGljIHNhbGVJbml0ZWQgPSBmYWxzZTsKCgogICAgZXZlbnQgVG9rZW5QdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgcHVyY2hhc2VyLCBhZGRyZXNzIGluZGV4ZWQgYmVuZWZpY2lhcnksIHVpbnQyNTYgdmFsdWUsIHVpbnQyNTYgYW1vdW50KTsKCiAgICBmdW5jdGlvbiBpbml0KAogICAgICAgIHN0cmluZyBfYm9udXNQcmVzZXQsCiAgICAgICAgdWludDI1NiBfc3RhcnRUaW1lLAogICAgICAgIHVpbnQyNTYgX2VuZFRpbWUsCiAgICAgICAgdWludDI1NiBfdG9rZW5zTGltaXQsCiAgICAgICAgdWludDI1NiBfbWluaW1hbFByaWNlLAogICAgICAgIERMQ1Rva2VuIF90b2tlbiwKICAgICAgICBhZGRyZXNzIF9tdWx0aXNpZ1dhbGxldAogICAgKSBwdWJsaWMgb25seUNvbmZpZ3VyZXIgewogICAgICAgIHJlcXVpcmUoIXNhbGVJbml0ZWQpOwogICAgICAgIHJlcXVpcmUoX2VuZFRpbWUgPj0gX3N0YXJ0VGltZSk7CiAgICAgICAgcmVxdWlyZShfdG9rZW5zTGltaXQgPiAwKTsKICAgICAgICByZXF1aXJlKF9tdWx0aXNpZ1dhbGxldCAhPSBhZGRyZXNzKDApKTsKCiAgICAgICAgc2FsZUluaXRlZCA9IHRydWU7CgogICAgICAgIHRva2VuID0gX3Rva2VuOwogICAgICAgIHN0YXJ0VGltZSA9IF9zdGFydFRpbWU7CiAgICAgICAgZW5kVGltZSA9IF9lbmRUaW1lOwogICAgICAgIHRva2Vuc0xpbWl0ID0gX3Rva2Vuc0xpbWl0OwogICAgICAgIG11bHRpc2lnV2FsbGV0ID0gX211bHRpc2lnV2FsbGV0OwogICAgICAgIG1pbmltYWxQcmljZSA9IF9taW5pbWFsUHJpY2U7CiAgICAgICAgYm9udXNQcmVzZXQgPSBfYm9udXNQcmVzZXQ7CgogICAgICAgIGluaXRCb251c2VzKGJvbnVzUHJlc2V0KTsKICAgIH0KCiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHB1YmxpYyBvbmx5Q29uZmlndXJlck9yT3duZXIgewogICAgICAgIHJlcXVpcmUoIWFjdGl2YXRlZCk7CiAgICAgICAgcmVxdWlyZSghY2xvc2VkKTsKICAgICAgICBhY3RpdmF0ZWQgPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGNsb3NlKCkgcHVibGljIG9ubHlDb25maWd1cmVyT3JPd25lciB7CiAgICAgICAgYWN0aXZhdGVkID0gdHJ1ZTsKICAgICAgICBjbG9zZWQgPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldE11bHRpc2lnV2FsbGV0KGFkZHJlc3MgX211bHRpc2lnV2FsbGV0KSBwdWJsaWMgb25seUNvbmZpZ3VyZXJPck93bmVyIHsKICAgICAgICBtdWx0aXNpZ1dhbGxldCA9IF9tdWx0aXNpZ1dhbGxldDsKICAgIH0KCiAgICBmdW5jdGlvbiAoKSBleHRlcm5hbCBwYXlhYmxlIHsKICAgICAgICBidXlUb2tlbnMobXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgYmVuZWZpY2lhcnkpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKGJlbmVmaWNpYXJ5ICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUodmFsaWRQdXJjaGFzZSgpKTsKCiAgICAgICAgdWludDI1NiBhbW91bnQgPSBtc2cudmFsdWU7CiAgICAgICAgdWludDI1NiB0b2tlbnMgPSBjYWxjdWxhdGVUb2tlbnNRdHlCeUV0aGVyKHsKICAgICAgICAgICAgYW1vdW50OiBhbW91bnQKICAgICAgICAgICAgfSk7CgogICAgICAgIHJlcXVpcmUodG9rZW5zVHJhbnNmZXJyZWQuYWRkKHRva2VucykgPCB0b2tlbnNMaW1pdCk7CgogICAgICAgIHRva2Vuc1RyYW5zZmVycmVkID0gdG9rZW5zVHJhbnNmZXJyZWQuYWRkKHRva2Vucyk7CiAgICAgICAgY29sbGVjdGVkID0gY29sbGVjdGVkLmFkZChhbW91bnQpOwoKICAgICAgICB0b2tlbi5wdXJjaGFzZShiZW5lZmljaWFyeSwgdG9rZW5zKTsKICAgICAgICBlbWl0IFRva2VuUHVyY2hhc2UobXNnLnNlbmRlciwgYmVuZWZpY2lhcnksIGFtb3VudCwgdG9rZW5zKTsKCiAgICAgICAgZm9yd2FyZEZ1bmRzKCk7CiAgICB9CgogICAgZnVuY3Rpb24gZm9yd2FyZEZ1bmRzKCkgaW50ZXJuYWwgewogICAgICAgIG11bHRpc2lnV2FsbGV0LnRyYW5zZmVyKG1zZy52YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gdmFsaWRQdXJjaGFzZSgpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICBib29sIHdpdGhpblBlcmlvZCA9IG5vdyA+PSBzdGFydFRpbWUgJiYgbm93IDw9IGVuZFRpbWU7CiAgICAgICAgYm9vbCBub25aZXJvUHVyY2hhc2UgPSBtc2cudmFsdWUgIT0gMDsKICAgICAgICBib29sIG1pbmltYWxQcmljZUNoZWNrZWQgPSBtc2cudmFsdWUgPj0gbWluaW1hbFByaWNlOwogICAgICAgIHJldHVybiB3aXRoaW5QZXJpb2QgJiYgbm9uWmVyb1B1cmNoYXNlICYmIG1pbmltYWxQcmljZUNoZWNrZWQgJiYgYWN0aXZhdGVkICYmICFjbG9zZWQ7CiAgICB9CgogICAgZnVuY3Rpb24gaXNTdGFydGVkKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gbm93ID4gc3RhcnRUaW1lOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzRW5kZWQoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBub3cgPiBlbmRUaW1lOwogICAgfQp9CgoKY29udHJhY3QgRG91YmxlTGFuZElDT3Rlc3QgaXMgT3duYWJsZSB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBETENUb2tlbiBwdWJsaWMgdG9rZW47CgogICAgU2FsZVtdIHB1YmxpYyBzYWxlczsKCiAgICB1aW50MjU2IHB1YmxpYyBzb2Z0Q2FwOwogICAgdWludDI1NiBwdWJsaWMgaGFyZENhcDsKCiAgICB1aW50IHB1YmxpYyBhY3RpdmF0ZWRTYWxlc1RvdGFsQ291bnQgPSAwOwogICAgdWludCBwdWJsaWMgbWF4QWN0aXZhdGVkU2FsZXNUb3RhbENvdW50OwoKICAgIGFkZHJlc3MgcHVibGljIG11bHRpc2lnV2FsbGV0OwoKICAgIGJvb2wgcHVibGljIGlzRGVwbG95ZWQgPSBmYWxzZTsKCiAgICBmdW5jdGlvbiBjcmVhdGVTYWxlKHN0cmluZyBfYm9udXNQcmVzZXQsIHVpbnQyNTYgX3N0YXJ0VGltZSwgdWludDI1NiBfZW5kVGltZSwgIHVpbnQyNTYgX3Rva2Vuc0xpbWl0LCB1aW50MjU2IF9taW5pbWFsUHJpY2UpIHB1YmxpYyBvbmx5T3duZXJ7CiAgICAgICAgcmVxdWlyZShhY3RpdmF0ZWRTYWxlc1RvdGFsQ291bnQgPCBtYXhBY3RpdmF0ZWRTYWxlc1RvdGFsQ291bnQpOwogICAgICAgIHJlcXVpcmUoZ2V0VG90YWxDb2xsZWN0ZWQoKSA8IGhhcmRDYXAgKTsKICAgICAgICByZXF1aXJlKHRva2VuLmdldFJlc3RUb2tlbkJhbGFuY2UoKSA+PSBfdG9rZW5zTGltaXQpOwogICAgICAgIHJlcXVpcmUoc2FsZXMubGVuZ3RoID09IDAgfHwgc2FsZXNbc2FsZXMubGVuZ3RoIC0gMV0uYWN0aXZhdGVkKCkpOwogICAgICAgIFNhbGUgbmV3U2FsZSA9IG5ldyBTYWxlKCk7CgogICAgICAgIG5ld1NhbGUuaW5pdCh7CiAgICAgICAgICAgIF9ib251c1ByZXNldDogX2JvbnVzUHJlc2V0LAogICAgICAgICAgICBfc3RhcnRUaW1lOiBfc3RhcnRUaW1lLAogICAgICAgICAgICBfZW5kVGltZTogX2VuZFRpbWUsCiAgICAgICAgICAgIF90b2tlbnNMaW1pdDogX3Rva2Vuc0xpbWl0LAogICAgICAgICAgICBfbWluaW1hbFByaWNlOiBfbWluaW1hbFByaWNlLAogICAgICAgICAgICBfdG9rZW46IHRva2VuLAogICAgICAgICAgICBfbXVsdGlzaWdXYWxsZXQ6IG11bHRpc2lnV2FsbGV0CiAgICAgICAgICAgIH0pOwogICAgICAgIG5ld1NhbGUudHJhbnNmZXJPd25lcnNoaXAob3duZXIpOwoKICAgICAgICBzYWxlcy5wdXNoKG5ld1NhbGUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGFjdGl2YXRlTGFzdFNhbGUoKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKGFjdGl2YXRlZFNhbGVzVG90YWxDb3VudCA8IG1heEFjdGl2YXRlZFNhbGVzVG90YWxDb3VudCk7CiAgICAgICAgcmVxdWlyZSghc2FsZXNbc2FsZXMubGVuZ3RoIC0gMV0uYWN0aXZhdGVkKCkpOwogICAgICAgIGFjdGl2YXRlZFNhbGVzVG90YWxDb3VudCArKzsKICAgICAgICBzYWxlc1tzYWxlcy5sZW5ndGggLSAxXS5hY3RpdmF0ZSgpOwogICAgICAgIHRva2VuLnNldFNhbGVBZ2VudChzYWxlc1tzYWxlcy5sZW5ndGggLSAxXSk7CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlTGFzdFNhbGVPbmx5Tm90QWN0aXZhdGVkKCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZSghc2FsZXNbc2FsZXMubGVuZ3RoIC0gMV0uYWN0aXZhdGVkKCkpOwogICAgICAgIGRlbGV0ZSBzYWxlc1tzYWxlcy5sZW5ndGggLSAxXTsKICAgIH0KCiAgICBmdW5jdGlvbiBjbG9zZUFsbFNhbGVzKCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgc2FsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgc2FsZXNbaV0uY2xvc2UoKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gc2V0R2xvYmFsTXVsdGlzaWdXYWxsZXQoYWRkcmVzcyBfbXVsdGlzaWdXYWxsZXQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIG11bHRpc2lnV2FsbGV0ID0gX211bHRpc2lnV2FsbGV0OwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IHNhbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmICghc2FsZXNbaV0uY2xvc2VkKCkpIHsKICAgICAgICAgICAgICAgIHNhbGVzW2ldLnNldE11bHRpc2lnV2FsbGV0KG11bHRpc2lnV2FsbGV0KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBnZXRUb3RhbENvbGxlY3RlZCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IF90b3RhbENvbGxlY3RlZCA9IDA7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgc2FsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgX3RvdGFsQ29sbGVjdGVkID0gX3RvdGFsQ29sbGVjdGVkICsgc2FsZXNbaV0uY29sbGVjdGVkKCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBfdG90YWxDb2xsZWN0ZWQ7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Q3VycmVudFNhbGUoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyhhZGRyZXNzKSB7CiAgICAgICAgcmV0dXJuIHRva2VuLnNhbGVBZ2VudCgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGRlcGxveSgpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoIWlzRGVwbG95ZWQpOwogICAgICAgIGlzRGVwbG95ZWQgPSB0cnVlOwoKICAgICAgICBzb2Z0Q2FwID0gODAwMCBldGhlcjsKICAgICAgICBoYXJkQ2FwID0gNDAwMDAgZXRoZXI7CiAgICAgICAgbWF4QWN0aXZhdGVkU2FsZXNUb3RhbENvdW50ID0gNTsKCiAgICAgICAgc2V0R2xvYmFsTXVsdGlzaWdXYWxsZXQoMHhjQzZFMjNFNzQwRkJjNTBlMjQyQjZCOTBmMEJjYUY2NGI4M0JGODEzKTsKCiAgICAgICAgdG9rZW4gPSBuZXcgRExDVG9rZW4oKTsKICAgICAgICB0b2tlbi5zZXRUb3RhbFN1cHBseSgxMDAwMDAwMDAwICogMSBldGhlcik7CiAgICAgICAgdG9rZW4uc2V0Rm91bmRlcnNUb2tlbnNQZXJjZW50KDE1KTsKICAgICAgICB0b2tlbi5zZXRCb3VudHlUb2tlbnNQZXJjZW50KDEpOwogICAgICAgIHRva2VuLnNldERldmVsb3BtZW50QXVkaXRQcm9tb3Rpb25Ub2tlbnNQZXJjZW50KDEwKTsKICAgICAgICB0b2tlbi5zZXRQcmljZU9mVG9rZW4oMC4wMDAxMzc0OSAqIDEgZXRoZXIpOwogICAgICAgIHRva2VuLnNldFRvU2FsZVdhbGxldCgweGY5RDEzOThhNmUyYzg1NmZhYjczQjViYWFEMTNEMTI1RURlMzAwMDYpOwogICAgICAgIHRva2VuLnNldEJvdW50eVdhbGxldCgweEZjNjI0OGIwNmU2NTY4NkM5YURDNWY0Rjc1OGJCZDcxNkJhRTgwZTEpOwogICAgICAgIHRva2VuLnNldEZvdW5kZXJzV2FsbGV0KDB4ZjU0MzE1Rjg3NDgwZjg3QmZhMmZDZTk3YUNBMDM2ZmQ5MDIyMzUxNik7CiAgICAgICAgdG9rZW4uc2V0RGV2ZWxvcG1lbnRBdWRpdFByb21vdGlvbldhbGxldCgweDM0RUVBNWYxMkRlRjgxNkJkODZGNjgyZURjNjAxMDUwMGRkNTE5NzYpOwogICAgICAgIHRva2VuLnRyYW5zZmVyT3duZXJzaGlwKG93bmVyKTsKICAgICAgICB0b2tlbi5pbml0KCk7CgogICAgICAgIGNyZWF0ZVNhbGUoewogICAgICAgICAgICBfYm9udXNQcmVzZXQ6ICdwcml2YXRlc2FsZScsCiAgICAgICAgICAgIC8vIFRPRE8gbmVlZCByZW1vdmUKICAgICAgICAgICAgX3N0YXJ0VGltZTogMTUyMjM0MjgwMCwgLy8gMjkuMDMuMjAxOAogICAgICAgICAgICAvLyBfc3RhcnRUaW1lOiAxNTIzMzE4NDAwLCAvLyAyMDE4LTA0LTEwCiAgICAgICAgICAgIF9lbmRUaW1lOiAgIDE1MjQ2MTQ0MDAsIC8vIDIwMTgtMDQtMjUKICAgICAgICAgICAgX3Rva2Vuc0xpbWl0OiA4MDAwMDAwMCAqIDEgZXRoZXIsCiAgICAgICAgICAgIC8vIFRPRE8gbmVlZCByZW1vdmUKICAgICAgICAgICAgLy9fbWluaW1hbFByaWNlOiAxIGV0aGVyCiAgICAgICAgICAgIF9taW5pbWFsUHJpY2U6IDAgZXRoZXIKICAgICAgICAgICAgfSk7CiAgICAgICAgYWN0aXZhdGVMYXN0U2FsZSgpOwoKICAgICAgICBjcmVhdGVTYWxlKHsKICAgICAgICAgICAgX2JvbnVzUHJlc2V0OiAncHJlc2FsZScsCiAgICAgICAgICAgIF9zdGFydFRpbWU6IDE1MjU5MTA0MDAsIC8vIDIwMTgtMDUtMTAKICAgICAgICAgICAgX2VuZFRpbWU6ICAgMTUyNzIwNjQwMCwgLy8gMjAxOC0wNS0yNQogICAgICAgICAgICBfdG9rZW5zTGltaXQ6IDc1MDAwMDAwICogMSBldGhlciwKICAgICAgICAgICAgX21pbmltYWxQcmljZTogMC4wMyBldGhlcgogICAgICAgICAgICB9KTsKICAgIH0KfQ=='.
	

]
