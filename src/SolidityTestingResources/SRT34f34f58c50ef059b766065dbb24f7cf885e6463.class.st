Class {
	#name : #SRT34f34f58c50ef059b766065dbb24f7cf885e6463,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT34f34f58c50ef059b766065dbb24f7cf885e6463 >> base64 [
	^ 'LyoqCiAqIFRoaXMgc21hcnQgY29udHJhY3QgY29kZSBpcyBDb3B5cmlnaHQgMjAxNyBUb2tlbk1hcmtldCBMdGQuIEZvciBtb3JlIGluZm9ybWF0aW9uIHNlZSBodHRwczovL3Rva2VubWFya2V0Lm5ldAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIHZlcnNpb24gMi4wOiBodHRwczovL2dpdGh1Yi5jb20vVG9rZW5NYXJrZXROZXQvaWNvL2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0CiAqLwoKCgovKioKICogVGhpcyBzbWFydCBjb250cmFjdCBjb2RlIGlzIENvcHlyaWdodCAyMDE3IFRva2VuTWFya2V0IEx0ZC4gRm9yIG1vcmUgaW5mb3JtYXRpb24gc2VlIGh0dHBzOi8vdG9rZW5tYXJrZXQubmV0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgdmVyc2lvbiAyLjA6IGh0dHBzOi8vZ2l0aHViLmNvbS9Ub2tlbk1hcmtldE5ldC9pY28vYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQKICovCgoKCgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsgICAgICAKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKCgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCgpjb250cmFjdCBSZWNvdmVyYWJsZSBpcyBPd25hYmxlIHsKCiAgLy8vIEBkZXYgRW1wdHkgY29uc3RydWN0b3IgKGZvciBub3cpCiAgZnVuY3Rpb24gUmVjb3ZlcmFibGUoKSB7CiAgfQoKICAvLy8gQGRldiBUaGlzIHdpbGwgYmUgaW52b2tlZCBieSB0aGUgb3duZXIsIHdoZW4gb3duZXIgd2FudHMgdG8gcmVzY3VlIHRva2VucwogIC8vLyBAcGFyYW0gdG9rZW4gVG9rZW4gd2hpY2ggd2lsbCB3ZSByZXNjdWUgdG8gdGhlIG93bmVyIGZyb20gdGhlIGNvbnRyYWN0CiAgZnVuY3Rpb24gcmVjb3ZlclRva2VucyhFUkMyMEJhc2ljIHRva2VuKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHRva2VuLnRyYW5zZmVyKG93bmVyLCB0b2tlbnNUb0JlUmV0dXJuZWQodG9rZW4pKTsKICB9CgogIC8vLyBAZGV2IEludGVyZmFjZSBmdW5jdGlvbiwgY2FuIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBzdXBlcmNsYXNzCiAgLy8vIEBwYXJhbSB0b2tlbiBUb2tlbiB3aGljaCBiYWxhbmNlIHdlIHdpbGwgY2hlY2sgYW5kIHJldHVybgogIC8vLyBAcmV0dXJuIFRoZSBhbW91bnQgb2YgdG9rZW5zIChpbiBzbWFsbGVzdCBkZW5vbWluYXRvcikgdGhlIGNvbnRyYWN0IG93bnMKICBmdW5jdGlvbiB0b2tlbnNUb0JlUmV0dXJuZWQoRVJDMjBCYXNpYyB0b2tlbikgcHVibGljIHJldHVybnMgKHVpbnQpIHsKICAgIHJldHVybiB0b2tlbi5iYWxhbmNlT2YodGhpcyk7CiAgfQp9CgovKioKICogVGhpcyBzbWFydCBjb250cmFjdCBjb2RlIGlzIENvcHlyaWdodCAyMDE3IFRva2VuTWFya2V0IEx0ZC4gRm9yIG1vcmUgaW5mb3JtYXRpb24gc2VlIGh0dHBzOi8vdG9rZW5tYXJrZXQubmV0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgdmVyc2lvbiAyLjA6IGh0dHBzOi8vZ2l0aHViLmNvbS9Ub2tlbk1hcmtldE5ldC9pY28vYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQKICovCgoKLyoqCiAqIFNhZmUgdW5zaWduZWQgc2FmZSBtYXRoLgogKgogKiBodHRwczovL2Jsb2cuYXJhZ29uLm9uZS9saWJyYXJ5LWRyaXZlbi1kZXZlbG9wbWVudC1pbi1zb2xpZGl0eS0yYmViY2FmODg3MzYjLjc1MGd3dHdsaQogKgogKiBPcmlnaW5hbGx5IGZyb20gaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FyYWdvbk9uZS96ZXBwZWxpbi1zb2xpZGl0eS9tYXN0ZXIvY29udHJhY3RzL1NhZmVNYXRoTGliLnNvbAogKgogKiBNYWludGFpbmVkIGhlcmUgdW50aWwgbWVyZ2VkIHRvIG1haW5saW5lIHplcHBlbGluLXNvbGlkaXR5LgogKgogKi8KbGlicmFyeSBTYWZlTWF0aExpYiB7CgogIGZ1bmN0aW9uIHRpbWVzKHVpbnQgYSwgdWludCBiKSByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIG1pbnVzKHVpbnQgYSwgdWludCBiKSByZXR1cm5zICh1aW50KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIHBsdXModWludCBhLCB1aW50IGIpIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGM+PWEpOwogICAgcmV0dXJuIGM7CiAgfQoKfQoKLyoqCiAqIFRoaXMgc21hcnQgY29udHJhY3QgY29kZSBpcyBDb3B5cmlnaHQgMjAxNyBUb2tlbk1hcmtldCBMdGQuIEZvciBtb3JlIGluZm9ybWF0aW9uIHNlZSBodHRwczovL3Rva2VubWFya2V0Lm5ldAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIHZlcnNpb24gMi4wOiBodHRwczovL2dpdGh1Yi5jb20vVG9rZW5NYXJrZXROZXQvaWNvL2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0CiAqLwoKCgoKCgoKCgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKCgovKioKICogQHRpdGxlIEJhc2ljIHRva2VuCiAqIEBkZXYgQmFzaWMgdmVyc2lvbiBvZiBTdGFuZGFyZFRva2VuLCB3aXRoIG5vIGFsbG93YW5jZXMuIAogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuIAogICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9Cgp9CgoKCgoKCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgoKCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSB0aHJvdyBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAvLyByZXF1aXJlIChfdmFsdWUgPD0gX2FsbG93YW5jZSk7CgogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEFwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKCiAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICByZXF1aXJlKChfdmFsdWUgPT0gMCkgfHwgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKCiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCn0KCgoKLyoqCiAqIFN0YW5kYXJkIEVJUC0yMCB0b2tlbiB3aXRoIGFuIGludGVyZmFjZSBtYXJrZXIuCiAqCiAqIEBub3RpY2UgSW50ZXJmYWNlIG1hcmtlciBpcyB1c2VkIGJ5IGNyb3dkc2FsZSBjb250cmFjdHMgdG8gdmFsaWRhdGUgdGhhdCBhZGRyZXNzZXMgcG9pbnQgYSBnb29kIHRva2VuIGNvbnRyYWN0LgogKgogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbkV4dCBpcyBTdGFuZGFyZFRva2VuIHsKCiAgLyogSW50ZXJmYWNlIGRlY2xhcmF0aW9uICovCiAgZnVuY3Rpb24gaXNUb2tlbigpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sIHdlQXJlKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCgoKLyoqCiAqIEhvbGQgdG9rZW5zIGZvciBhIGdyb3VwIGludmVzdG9yIG9mIGludmVzdG9ycyB1bnRpbCB0aGUgdW5sb2NrIGRhdGUuCiAqCiAqIEFmdGVyIHRoZSB1bmxvY2sgZGF0ZSB0aGUgaW52ZXN0b3IgY2FuIGNsYWltIHRoZWlyIHRva2Vucy4KICoKICogU3RlcHMKICoKICogLSBQcmVwYXJlIGEgc3ByZWFkc2hlZXQgZm9yIHRva2VuIGFsbG9jYXRpb24KICogLSBEZXBsb3kgdGhpcyBjb250cmFjdCwgd2l0aCB0aGUgc3VtIHRvIHRva2VucyB0byBiZSBkaXN0cmlidXRlZCwgZnJvbSB0aGUgb3duZXIgYWNjb3VudAogKiAtIENhbGwgc2V0SW52ZXN0b3IgZm9yIGFsbCBpbnZlc3RvcnMgZnJvbSB0aGUgb3duZXIgYWNjb3VudCB1c2luZyBhIGxvY2FsIHNjcmlwdCBhbmQgQ1NWIGlucHV0CiAqIC0gTW92ZSB0b2tlbnNUb0JlQWxsb2NhdGVkIGluIHRoaXMgY29udHJhY3QgdXNpbmcgU3RhbmRhcmRUb2tlbi50cmFuc2ZlcigpCiAqIC0gQ2FsbCBsb2NrIGZyb20gdGhlIG93bmVyIGFjY291bnQKICogLSBXYWl0IHVudGlsIHRoZSBmcmVlemUgcGVyaW9kIGlzIG92ZXIKICogLSBBZnRlciB0aGUgZnJlZXplIHRpbWUgaXMgb3ZlciBpbnZlc3RvcnMgY2FuIGNhbGwgY2xhaW0oKSBmcm9tIHRoZWlyIGFkZHJlc3MgdG8gZ2V0IHRoZWlyIHRva2VucwogKgogKi8KY29udHJhY3QgVG9rZW5WYXVsdCBpcyBPd25hYmxlLCBSZWNvdmVyYWJsZSB7CiAgdXNpbmcgU2FmZU1hdGhMaWIgZm9yIHVpbnQ7CgogIC8qKiBIb3cgbWFueSBpbnZlc3RvcnMgd2UgaGF2ZSBub3cgKi8KICB1aW50IHB1YmxpYyBpbnZlc3RvckNvdW50OwoKICAvKiogU3VtIGZyb20gdGhlIHNwcmVhZHNoZWV0IGhvdyBtdWNoIHRva2VucyB3ZSBzaG91bGQgZ2V0IG9uIHRoZSBjb250cmFjdC4gSWYgdGhlIHN1bSBkb2VzIG5vdCBtYXRjaCBhdCB0aGUgdGltZSBvZiB0aGUgbG9jayB0aGUgdmF1bHQgaXMgZmF1bHR5IGFuZCBtdXN0IGJlIHJlY3JlYXRlZC4qLwogIHVpbnQgcHVibGljIHRva2Vuc1RvQmVBbGxvY2F0ZWQ7CgogIC8qKiBIb3cgbWFueSB0b2tlbnMgaW52ZXN0b3JzIGhhdmUgY2xhaW1lZCBzbyBmYXIgKi8KICB1aW50IHB1YmxpYyB0b3RhbENsYWltZWQ7CgogIC8qKiBIb3cgbWFueSB0b2tlbnMgb3VyIGludGVybmFsIGJvb2sga2VlcGluZyB0ZWxscyB1cyB0byBoYXZlIGF0IHRoZSB0aW1lIG9mIGxvY2soKSB3aGVuIGFsbCBpbnZlc3RvciBkYXRhIGhhcyBiZWVuIGxvYWRlZCAqLwogIHVpbnQgcHVibGljIHRva2Vuc0FsbG9jYXRlZFRvdGFsOwoKICAvKiogSG93IG11Y2ggd2UgaGF2ZSBhbGxvY2F0ZWQgdG8gdGhlIGludmVzdG9ycyBpbnZlc3RlZCAqLwogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgYmFsYW5jZXM7CgogIC8qKiBIb3cgbWFueSB0b2tlbnMgaW52ZXN0b3JzIGhhdmUgY2xhaW1lZCAqLwogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgY2xhaW1lZDsKCiAgLyoqIFdoZW4gb3VyIGNsYWltIGZyZWV6ZSBpcyBvdmVyIChVTklYIHRpbWVzdGFtcCkgKi8KICB1aW50IHB1YmxpYyBmcmVlemVFbmRzQXQ7CgogIC8qKiBXaGVuIHRoaXMgdmF1bHQgd2FzIGxvY2tlZCAoVU5JWCB0aW1lc3RhbXApICovCiAgdWludCBwdWJsaWMgbG9ja2VkQXQ7CgogIC8qKiBXZSBjYW4gYWxzbyBkZWZpbmUgb3VyIG93biB0b2tlbiwgd2hpY2ggd2lsbCBvdmVycmlkZSB0aGUgSUNPIG9uZSAqKiovCiAgU3RhbmRhcmRUb2tlbkV4dCBwdWJsaWMgdG9rZW47CgogIC8qKiBXaGF0IGlzIG91ciBjdXJyZW50IHN0YXRlLgogICAqCiAgICogTG9hZGluZzogSW52ZXN0b3IgZGF0YSBpcyBiZWluZyBsb2FkZWQgYW5kIGNvbnRyYWN0IG5vdCB5ZXQgbG9ja2VkCiAgICogSG9sZGluZzogSG9sZGluZyB0b2tlbnMgZm9yIGludmVzdG9ycwogICAqIERpc3RyaWJ1dGluZzogRnJlZXplIHRpbWUgaXMgb3ZlciwgaW52ZXN0b3JzIGNhbiBjbGFpbSB0aGVpciB0b2tlbnMKICAgKi8KICBlbnVtIFN0YXRle1Vua25vd24sIExvYWRpbmcsIEhvbGRpbmcsIERpc3RyaWJ1dGluZ30KCiAgLyoqIFdlIGFsbG9jYXRlZCB0b2tlbnMgZm9yIGludmVzdG9yICovCiAgZXZlbnQgQWxsb2NhdGVkKGFkZHJlc3MgaW52ZXN0b3IsIHVpbnQgdmFsdWUpOwoKICAvKiogV2UgZGlzdHJpYnV0ZWQgdG9rZW5zIHRvIGFuIGludmVzdG9yICovCiAgZXZlbnQgRGlzdHJpYnV0ZWQoYWRkcmVzcyBpbnZlc3RvcnMsIHVpbnQgY291bnQpOwoKICBldmVudCBMb2NrZWQoKTsKCiAgLyoqCiAgICogQ3JlYXRlIHByZXNhbGUgY29udHJhY3Qgd2hlcmUgbG9jayB1cCBwZXJpb2QgaXMgZ2l2ZW4gZGF5cwogICAqCiAgICogQHBhcmFtIF9vd25lciBXaG8gY2FuIGxvYWQgaW52ZXN0b3IgZGF0YSBhbmQgbG9jawogICAqIEBwYXJhbSBfZnJlZXplRW5kc0F0IFVOSVggdGltZXN0YW1wIHdoZW4gdGhlIHZhdWx0IHVubG9ja3MKICAgKiBAcGFyYW0gX3Rva2VuIFRva2VuIGNvbnRyYWN0IGFkZHJlc3Mgd2UgYXJlIGRpc3RyaWJ1dGluZwogICAqIEBwYXJhbSBfdG9rZW5zVG9CZUFsbG9jYXRlZCBUb3RhbCBudW1iZXIgb2YgdG9rZW5zIHRoaXMgdmF1bHQgd2lsbCBob2xkIC0gaW5jbHVkaW5nIGRlY2ltYWwgbXVsdGlwbGNhdGlvbgogICAqCiAgICovCiAgZnVuY3Rpb24gVG9rZW5WYXVsdChhZGRyZXNzIF9vd25lciwgdWludCBfZnJlZXplRW5kc0F0LCBTdGFuZGFyZFRva2VuRXh0IF90b2tlbiwgdWludCBfdG9rZW5zVG9CZUFsbG9jYXRlZCkgewoKICAgIG93bmVyID0gX293bmVyOwoKICAgIC8vIEludmFsaWQgb3dlbnIKICAgIGlmKG93bmVyID09IDApIHsKICAgICAgdGhyb3c7CiAgICB9CgogICAgdG9rZW4gPSBfdG9rZW47CgogICAgLy8gQ2hlY2sgdGhlIGFkZHJlc3MgbG9va3MgbGlrZSBhIHRva2VuIGNvbnRyYWN0CiAgICBpZighdG9rZW4uaXNUb2tlbigpKSB7CiAgICAgIHRocm93OwogICAgfQoKICAgIC8vIEdpdmUgYXJndW1lbnQKICAgIGlmKF9mcmVlemVFbmRzQXQgPT0gMCkgewogICAgICB0aHJvdzsKICAgIH0KCiAgICAvLyBTYW5pdHkgY2hlY2sgb24gX3Rva2Vuc1RvQmVBbGxvY2F0ZWQKICAgIGlmKF90b2tlbnNUb0JlQWxsb2NhdGVkID09IDApIHsKICAgICAgdGhyb3c7CiAgICB9CgogICAgZnJlZXplRW5kc0F0ID0gX2ZyZWV6ZUVuZHNBdDsKICAgIHRva2Vuc1RvQmVBbGxvY2F0ZWQgPSBfdG9rZW5zVG9CZUFsbG9jYXRlZDsKICB9CgogIC8vLyBAZGV2IEFkZCBhIHByZXNhbGUgcGFydGljaXBhdGluZyBhbGxvY2F0aW9uCiAgZnVuY3Rpb24gc2V0SW52ZXN0b3IoYWRkcmVzcyBpbnZlc3RvciwgdWludCBhbW91bnQpIHB1YmxpYyBvbmx5T3duZXIgewoKICAgIGlmKGxvY2tlZEF0ID4gMCkgewogICAgICAvLyBDYW5ub3QgYWRkIG5ldyBpbnZlc3RvcnMgYWZ0ZXIgdGhlIHZhdWx0IGlzIGxvY2tlZAogICAgICB0aHJvdzsKICAgIH0KCiAgICBpZihhbW91bnQgPT0gMCkgdGhyb3c7IC8vIE5vIGVtcHR5IGJ1eXMKCiAgICAvLyBEb24ndCBhbGxvdyByZXNldAogICAgaWYoYmFsYW5jZXNbaW52ZXN0b3JdID4gMCkgewogICAgICB0aHJvdzsKICAgIH0KCiAgICBiYWxhbmNlc1tpbnZlc3Rvcl0gPSBhbW91bnQ7CgogICAgaW52ZXN0b3JDb3VudCsrOwoKICAgIHRva2Vuc0FsbG9jYXRlZFRvdGFsICs9IGFtb3VudDsKCiAgICBBbGxvY2F0ZWQoaW52ZXN0b3IsIGFtb3VudCk7CiAgfQoKICAvLy8gQGRldiBMb2NrIHRoZSB2YXVsdAogIC8vLyAgICAgIC0gQWxsIGJhbGFuY2VzIGhhdmUgYmVlbiBsb2FkZWQgaW4gY29ycmVjdGx5CiAgLy8vICAgICAgLSBUb2tlbnMgYXJlIHRyYW5zZmVycmVkIG9uIHRoaXMgdmF1bHQgY29ycmVjdGx5CiAgLy8vICAgICAgLSBDaGVja3MgYXJlIGluIHBsYWNlIHRvIHByZXZlbnQgY3JlYXRpbmcgYSB2YXVsdCB0aGF0IGlzIGxvY2tlZCB3aXRoIGluY29ycmVjdCB0b2tlbiBiYWxhbmNlcy4KICBmdW5jdGlvbiBsb2NrKCkgb25seU93bmVyIHsKCiAgICBpZihsb2NrZWRBdCA+IDApIHsKICAgICAgdGhyb3c7IC8vIEFscmVhZHkgbG9ja2VkCiAgICB9CgogICAgLy8gU3ByZWFkc2hlZXQgc3VtIGRvZXMgbm90IG1hdGNoIHRvIHdoYXQgd2UgaGF2ZSBsb2FkZWQgdG8gdGhlIGludmVzdG9yIGRhdGEKICAgIGlmKHRva2Vuc0FsbG9jYXRlZFRvdGFsICE9IHRva2Vuc1RvQmVBbGxvY2F0ZWQpIHsKICAgICAgdGhyb3c7CiAgICB9CgogICAgLy8gRG8gbm90IGxvY2sgdGhlIHZhdWx0IGlmIHRoZSBnaXZlbiB0b2tlbnMgYXJlIG5vdCBvbiB0aGlzIGNvbnRyYWN0CiAgICBpZih0b2tlbi5iYWxhbmNlT2YoYWRkcmVzcyh0aGlzKSkgIT0gdG9rZW5zQWxsb2NhdGVkVG90YWwpIHsKICAgICAgdGhyb3c7CiAgICB9CgogICAgbG9ja2VkQXQgPSBub3c7CgogICAgTG9ja2VkKCk7CiAgfQoKICAvLy8gQGRldiBJbiB0aGUgY2FzZSBsb2NraW5nIGZhaWxlZCwgdGhlbiBhbGxvdyB0aGUgb3duZXIgdG8gcmVjbGFpbSB0aGUgdG9rZW5zIG9uIHRoZSBjb250cmFjdC4KICBmdW5jdGlvbiByZWNvdmVyRmFpbGVkTG9jaygpIG9ubHlPd25lciB7CiAgICBpZihsb2NrZWRBdCA+IDApIHsKICAgICAgdGhyb3c7CiAgICB9CgogICAgLy8gVHJhbnNmZXIgYWxsIHRva2VucyBvbiB0aGlzIGNvbnRyYWN0IGJhY2sgdG8gdGhlIG93bmVyCiAgICB0b2tlbi50cmFuc2Zlcihvd25lciwgdG9rZW4uYmFsYW5jZU9mKGFkZHJlc3ModGhpcykpKTsKICB9CgogIC8vLyBAZGV2IEdldCB0aGUgY3VycmVudCBiYWxhbmNlIG9mIHRva2VucyBpbiB0aGUgdmF1bHQKICAvLy8gQHJldHVybiB1aW50IEhvdyBtYW55IHRva2VucyB0aGVyZSBhcmUgY3VycmVudGx5IGluIHZhdWx0CiAgZnVuY3Rpb24gZ2V0QmFsYW5jZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50IGhvd01hbnlUb2tlbnNDdXJyZW50bHlJblZhdWx0KSB7CiAgICByZXR1cm4gdG9rZW4uYmFsYW5jZU9mKGFkZHJlc3ModGhpcykpOwogIH0KCiAgLy8vIEBkZXYgQ2xhaW0gTiBib3VnaHQgdG9rZW5zIHRvIHRoZSBpbnZlc3RvciBhcyB0aGUgbXNnIHNlbmRlcgogIGZ1bmN0aW9uIGNsYWltKCkgewoKICAgIGFkZHJlc3MgaW52ZXN0b3IgPSBtc2cuc2VuZGVyOwoKICAgIGlmKGxvY2tlZEF0ID09IDApIHsKICAgICAgdGhyb3c7IC8vIFdlIHdlcmUgbmV2ZXIgbG9ja2VkCiAgICB9CgogICAgaWYobm93IDwgZnJlZXplRW5kc0F0KSB7CiAgICAgIHRocm93OyAvLyBUcnlpbmcgdG8gY2xhaW0gZWFybHkKICAgIH0KCiAgICBpZihiYWxhbmNlc1tpbnZlc3Rvcl0gPT0gMCkgewogICAgICAvLyBOb3Qgb3VyIGludmVzdG9yCiAgICAgIHRocm93OwogICAgfQoKICAgIGlmKGNsYWltZWRbaW52ZXN0b3JdID4gMCkgewogICAgICB0aHJvdzsgLy8gQWxyZWFkeSBjbGFpbWVkCiAgICB9CgogICAgdWludCBhbW91bnQgPSBiYWxhbmNlc1tpbnZlc3Rvcl07CgogICAgY2xhaW1lZFtpbnZlc3Rvcl0gPSBhbW91bnQ7CgogICAgdG90YWxDbGFpbWVkICs9IGFtb3VudDsKCiAgICB0b2tlbi50cmFuc2ZlcihpbnZlc3RvciwgYW1vdW50KTsKCiAgICBEaXN0cmlidXRlZChpbnZlc3RvciwgYW1vdW50KTsKICB9CgogIC8vLyBAZGV2IFRoaXMgZnVuY3Rpb24gaXMgcHJvdG90eXBlZCBpbiBSZWNvdmVyYWJsZSBjb250cmFjdAogIGZ1bmN0aW9uIHRva2Vuc1RvQmVSZXR1cm5lZChFUkMyMEJhc2ljIF90b2tlbikgcHVibGljIHJldHVybnMgKHVpbnQpIHsKICAgIGlmIChhZGRyZXNzKF90b2tlbikgPT0gYWRkcmVzcyh0b2tlbikpCiAgICAgIHJldHVybiBnZXRCYWxhbmNlKCkubWludXModG9rZW5zQWxsb2NhdGVkVG90YWwpOwogICAgZWxzZQogICAgICByZXR1cm4gdG9rZW4uYmFsYW5jZU9mKHRoaXMpOwogIH0KCiAgLy8vIEBkZXYgUmVzb2x2ZSB0aGUgY29udHJhY3QgdW1hbWJpZ2lvdXMgc3RhdGUKICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKFN0YXRlKSB7CiAgICBpZihsb2NrZWRBdCA9PSAwKSB7CiAgICAgIHJldHVybiBTdGF0ZS5Mb2FkaW5nOwogICAgfSBlbHNlIGlmKG5vdyA+IGZyZWV6ZUVuZHNBdCkgewogICAgICByZXR1cm4gU3RhdGUuRGlzdHJpYnV0aW5nOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIFN0YXRlLkhvbGRpbmc7CiAgICB9CiAgfQoKfQ=='.
	

]
