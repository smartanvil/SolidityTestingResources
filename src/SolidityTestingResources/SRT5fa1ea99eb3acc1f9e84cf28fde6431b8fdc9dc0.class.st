Class {
	#name : #SRT5fa1ea99eb3acc1f9e84cf28fde6431b8fdc9dc0,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5fa1ea99eb3acc1f9e84cf28fde6431b8fdc9dc0 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9Cgpjb250cmFjdCBGb3JlaWduVG9rZW4gewogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKfQoKY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgppbnRlcmZhY2UgVG9rZW4geyAKICAgIGZ1bmN0aW9uIGRpc3RyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDI1NiBzdXBwbHkpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKfQoKY29udHJhY3QgVXNlbGVzc0FpcmRyb3BwZWRUb2tlbiBpcyBFUkMyMCB7CiAgICAKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogICAgYWRkcmVzcyBvd25lciA9IG1zZy5zZW5kZXI7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGJsYWNrbGlzdDsKCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiVXNlbGVzc0FpcmRyb3BwZWRUb2tlbiI7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJVQVQiOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSA4OwogICAgCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseSA9IDUwMDAwMDAwZTg7CiAgICB1aW50MjU2IHByaXZhdGUgdG90YWxSZXNlcnZlZCA9ICh0b3RhbFN1cHBseS5kaXYoMTAwKSkubXVsKDE1KTsKICAgIHVpbnQyNTYgcHJpdmF0ZSB0b3RhbEJvdW50aWVzID0gKHRvdGFsU3VwcGx5LmRpdigxMDApKS5tdWwoNSk7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbERpc3RyaWJ1dGVkID0gdG90YWxSZXNlcnZlZC5hZGQodG90YWxCb3VudGllcyk7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFJlbWFpbmluZyA9IHRvdGFsU3VwcGx5LnN1Yih0b3RhbERpc3RyaWJ1dGVkKTsKICAgIHVpbnQyNTYgcHVibGljIHZhbHVlOwogICAgdWludDI1NiBwdWJsaWMgbWluUmVxOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7CiAgICAKICAgIGV2ZW50IERpc3RyKGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwogICAgZXZlbnQgRGlzdHJGaW5pc2hlZCgpOwogICAgCiAgICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBidXJuZXIsIHVpbnQyNTYgdmFsdWUpOwoKICAgIGJvb2wgcHVibGljIGRpc3RyaWJ1dGlvbkZpbmlzaGVkID0gZmFsc2U7CiAgICAKICAgIG1vZGlmaWVyIGNhbkRpc3RyKCkgewogICAgICAgIHJlcXVpcmUoIWRpc3RyaWJ1dGlvbkZpbmlzaGVkKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICBtb2RpZmllciBvbmx5V2hpdGVsaXN0KCkgewogICAgICAgIHJlcXVpcmUoYmxhY2tsaXN0W21zZy5zZW5kZXJdID09IGZhbHNlKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBVc2VsZXNzQWlyZHJvcHBlZFRva2VuICh1aW50MjU2IF92YWx1ZSwgdWludDI1NiBfbWluUmVxKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICB2YWx1ZSA9IF92YWx1ZTsKICAgICAgICBtaW5SZXEgPSBfbWluUmVxOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gdG90YWxEaXN0cmlidXRlZDsKICAgIH0KICAgIAogICAgIGZ1bmN0aW9uIHNldFBhcmFtZXRlcnMgKHVpbnQyNTYgX3ZhbHVlLCB1aW50MjU2IF9taW5SZXEpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHZhbHVlID0gX3ZhbHVlOwogICAgICAgIG1pblJlcSA9IF9taW5SZXE7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGVuYWJsZVdoaXRlbGlzdChhZGRyZXNzW10gYWRkcmVzc2VzKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBhZGRyZXNzZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgYmxhY2tsaXN0W2FkZHJlc3Nlc1tpXV0gPSBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZGlzYWJsZVdoaXRlbGlzdChhZGRyZXNzW10gYWRkcmVzc2VzKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBhZGRyZXNzZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgYmxhY2tsaXN0W2FkZHJlc3Nlc1tpXV0gPSB0cnVlOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBmaW5pc2hEaXN0cmlidXRpb24oKSBvbmx5T3duZXIgY2FuRGlzdHIgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBkaXN0cmlidXRpb25GaW5pc2hlZCA9IHRydWU7CiAgICAgICAgRGlzdHJGaW5pc2hlZCgpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBkaXN0cihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBjYW5EaXN0ciBwcml2YXRlIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB0b3RhbERpc3RyaWJ1dGVkID0gdG90YWxEaXN0cmlidXRlZC5hZGQoX2Ftb3VudCk7CiAgICAgICAgdG90YWxSZW1haW5pbmcgPSB0b3RhbFJlbWFpbmluZy5zdWIoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgICAgIERpc3RyKF90bywgX2Ftb3VudCk7CiAgICAgICAgVHJhbnNmZXIoYWRkcmVzcygwKSwgX3RvLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAKICAgICAgICBpZiAodG90YWxEaXN0cmlidXRlZCA+PSB0b3RhbFN1cHBseSkgewogICAgICAgICAgICBkaXN0cmlidXRpb25GaW5pc2hlZCA9IHRydWU7CiAgICAgICAgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiBhaXJkcm9wKGFkZHJlc3NbXSBhZGRyZXNzZXMpIG9ubHlPd25lciBjYW5EaXN0ciBwdWJsaWMgewogICAgICAgIAogICAgICAgIHJlcXVpcmUoYWRkcmVzc2VzLmxlbmd0aCA8PSAyNTUpOwogICAgICAgIHJlcXVpcmUodmFsdWUgPD0gdG90YWxSZW1haW5pbmcpOwogICAgICAgIAogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IGFkZHJlc3Nlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICByZXF1aXJlKHZhbHVlIDw9IHRvdGFsUmVtYWluaW5nKTsKICAgICAgICAgICAgZGlzdHIoYWRkcmVzc2VzW2ldLCB2YWx1ZSk7CiAgICAgICAgfQoJCiAgICAgICAgaWYgKHRvdGFsRGlzdHJpYnV0ZWQgPj0gdG90YWxTdXBwbHkpIHsKICAgICAgICAgICAgZGlzdHJpYnV0aW9uRmluaXNoZWQgPSB0cnVlOwogICAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gZGlzdHJpYnV0aW9uKGFkZHJlc3NbXSBhZGRyZXNzZXMsIHVpbnQyNTYgYW1vdW50KSBvbmx5T3duZXIgY2FuRGlzdHIgcHVibGljIHsKICAgICAgICAKICAgICAgICByZXF1aXJlKGFkZHJlc3Nlcy5sZW5ndGggPD0gMjU1KTsKICAgICAgICByZXF1aXJlKGFtb3VudCA8PSB0b3RhbFJlbWFpbmluZyk7CiAgICAgICAgCiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgYWRkcmVzc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHJlcXVpcmUoYW1vdW50IDw9IHRvdGFsUmVtYWluaW5nKTsKICAgICAgICAgICAgZGlzdHIoYWRkcmVzc2VzW2ldLCBhbW91bnQpOwogICAgICAgIH0KCQogICAgICAgIGlmICh0b3RhbERpc3RyaWJ1dGVkID49IHRvdGFsU3VwcGx5KSB7CiAgICAgICAgICAgIGRpc3RyaWJ1dGlvbkZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGRpc3RyaWJ1dGVBbW91bnRzKGFkZHJlc3NbXSBhZGRyZXNzZXMsIHVpbnQyNTZbXSBhbW91bnRzKSBvbmx5T3duZXIgY2FuRGlzdHIgcHVibGljIHsKCiAgICAgICAgcmVxdWlyZShhZGRyZXNzZXMubGVuZ3RoIDw9IDI1NSk7CiAgICAgICAgcmVxdWlyZShhZGRyZXNzZXMubGVuZ3RoID09IGFtb3VudHMubGVuZ3RoKTsKICAgICAgICAKICAgICAgICBmb3IgKHVpbnQ4IGkgPSAwOyBpIDwgYWRkcmVzc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHJlcXVpcmUoYW1vdW50c1tpXSA8PSB0b3RhbFJlbWFpbmluZyk7CiAgICAgICAgICAgIGRpc3RyKGFkZHJlc3Nlc1tpXSwgYW1vdW50c1tpXSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAodG90YWxEaXN0cmlidXRlZCA+PSB0b3RhbFN1cHBseSkgewogICAgICAgICAgICAgICAgZGlzdHJpYnV0aW9uRmluaXNoZWQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiAoKSBleHRlcm5hbCBwYXlhYmxlIHsKICAgICAgICAgICAgZ2V0VG9rZW5zKCk7CiAgICAgfQogICAgCiAgICBmdW5jdGlvbiBnZXRUb2tlbnMoKSBwYXlhYmxlIGNhbkRpc3RyIG9ubHlXaGl0ZWxpc3QgcHVibGljIHsKICAgICAgICAKICAgICAgICByZXF1aXJlKHZhbHVlIDw9IHRvdGFsUmVtYWluaW5nKTsKICAgICAgICAKICAgICAgICBhZGRyZXNzIGludmVzdG9yID0gbXNnLnNlbmRlcjsKICAgICAgICB1aW50MjU2IHRvR2l2ZSA9IHZhbHVlOwogICAgICAgIAogICAgICAgIGlmIChtc2cudmFsdWUgPCBtaW5SZXEpewogICAgICAgICAgICB0b0dpdmUgPSB2YWx1ZS5zdWIodmFsdWUpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBkaXN0cihpbnZlc3RvciwgdG9HaXZlKTsKICAgICAgICAKICAgICAgICBpZiAodG9HaXZlID4gMCkgewogICAgICAgICAgICBibGFja2xpc3RbaW52ZXN0b3JdID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGlmICh0b3RhbERpc3RyaWJ1dGVkID49IHRvdGFsU3VwcGx5KSB7CiAgICAgICAgICAgIGRpc3RyaWJ1dGlvbkZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDI1NikgewoJICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIC8vIG1pdGlnYXRlcyB0aGUgRVJDMjAgc2hvcnQgYWRkcmVzcyBhdHRhY2sKICAgIG1vZGlmaWVyIG9ubHlQYXlsb2FkU2l6ZSh1aW50IHNpemUpIHsKICAgICAgICBhc3NlcnQobXNnLmRhdGEubGVuZ3RoID49IHNpemUgKyA0KTsKICAgICAgICBfOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoX2Ftb3VudCA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CiAgICAgICAgCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBvbmx5UGF5bG9hZFNpemUoMyAqIDMyKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CgogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoX2Ftb3VudCA8PSBiYWxhbmNlc1tfZnJvbV0pOwogICAgICAgIHJlcXVpcmUoX2Ftb3VudCA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CiAgICAgICAgCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfYW1vdW50KTsKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBtaXRpZ2F0ZXMgdGhlIEVSQzIwIHNwZW5kL2FwcHJvdmFsIHJhY2UgY29uZGl0aW9uCiAgICAgICAgaWYgKF92YWx1ZSAhPSAwICYmIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdICE9IDApIHsgcmV0dXJuIGZhbHNlOyB9CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ2V0VG9rZW5CYWxhbmNlKGFkZHJlc3MgdG9rZW5BZGRyZXNzLCBhZGRyZXNzIHdobykgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQpewogICAgICAgIEZvcmVpZ25Ub2tlbiB0ID0gRm9yZWlnblRva2VuKHRva2VuQWRkcmVzcyk7CiAgICAgICAgdWludCBiYWwgPSB0LmJhbGFuY2VPZih3aG8pOwogICAgICAgIHJldHVybiBiYWw7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHdpdGhkcmF3KCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgdWludDI1NiBldGhlckJhbGFuY2UgPSB0aGlzLmJhbGFuY2U7CiAgICAgICAgb3duZXIudHJhbnNmZXIoZXRoZXJCYWxhbmNlKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwogICAgICAgIC8vIG5vIG5lZWQgdG8gcmVxdWlyZSB2YWx1ZSA8PSB0b3RhbFN1cHBseSwgc2luY2UgdGhhdCB3b3VsZCBpbXBseSB0aGUKICAgICAgICAvLyBzZW5kZXIncyBiYWxhbmNlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdG90YWxTdXBwbHksIHdoaWNoICpzaG91bGQqIGJlIGFuIGFzc2VydGlvbiBmYWlsdXJlCgogICAgICAgIGFkZHJlc3MgYnVybmVyID0gbXNnLnNlbmRlcjsKICAgICAgICBiYWxhbmNlc1tidXJuZXJdID0gYmFsYW5jZXNbYnVybmVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YihfdmFsdWUpOwogICAgICAgIHRvdGFsRGlzdHJpYnV0ZWQgPSB0b3RhbERpc3RyaWJ1dGVkLnN1YihfdmFsdWUpOwogICAgICAgIEJ1cm4oYnVybmVyLCBfdmFsdWUpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB3aXRoZHJhd0ZvcmVpZ25Ub2tlbnMoYWRkcmVzcyBfdG9rZW5Db250cmFjdCkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgRm9yZWlnblRva2VuIHRva2VuID0gRm9yZWlnblRva2VuKF90b2tlbkNvbnRyYWN0KTsKICAgICAgICB1aW50MjU2IGFtb3VudCA9IHRva2VuLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKTsKICAgICAgICByZXR1cm4gdG9rZW4udHJhbnNmZXIob3duZXIsIGFtb3VudCk7CiAgICB9CgoKfQ=='.
	

]
