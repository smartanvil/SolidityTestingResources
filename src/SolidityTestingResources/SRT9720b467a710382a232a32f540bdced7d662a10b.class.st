Class {
	#name : #SRT9720b467a710382a232a32f540bdced7d662a10b,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9720b467a710382a232a32f540bdced7d662a10b >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Ci8qKgogICAgVXNlZCBmb3IgYWRtaW5pc3RycmF0aW9uIG9mIHRoZSBWWlQgVG9rZW4gQ29udHJhY3QKKi8KCmNvbnRyYWN0IEFkbWluaXN0cmF0aW9uIHsKCiAgICAvLyBrZWVwcyB0cmFjayBvZiB0aGUgY29udHJhY3Qgb3duZXIKICAgIGFkZHJlc3MgICAgIHB1YmxpYyAgb3duZXI7CiAgICAvLyBrZWVwcyB0cmFjayBvZiB0aGUgY29udHJhY3QgYWRtaW5pc3RyYXRvcgogICAgYWRkcmVzcyAgICAgcHVibGljICBhZG1pbmlzdHJhdG9yOwogICAgLy8ga2VlcHMgdHJhY2sgb2YgaHRlIHNvbmcgdG9rZW4gZXhjaGFuZ2UKICAgIGFkZHJlc3MgICAgIHB1YmxpYyAgc29uZ1Rva2VuRXhjaGFuZ2U7CiAgICAvLyBrZWVwcyB0cmFjayBvZiB0aGUgcm95YWx0eSBpbmZvcm1hdGlvbiBjb250cmFjdAogICAgYWRkcmVzcyAgICAgcHVibGljICByb3lhbHR5SW5mb3JtYXRpb25Db250cmFjdDsKICAgIC8vIGtlZXBzIHRyYWNrIG9mIHdoZXRoZXIgb3Igbm90IHRoZSBhZG1pbiBjb250cmFjdCBpcyBmcm96ZW4KICAgIGJvb2wgICAgICAgIHB1YmxpYyAgYWRtaW5pc3RyYXRpb25Db250cmFjdEZyb3plbjsKCiAgICAvLyBrZWVwcyB0cmFjayBvZiB0aGUgY29udHJhY3QgbW9kZXJhdG9ycwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgbW9kZXJhdG9yczsKCiAgICBldmVudCBNb2RlcmF0b3JBZGRlZChhZGRyZXNzIGluZGV4ZWQgX2ludm9rZXIsIGFkZHJlc3MgaW5kZXhlZCBfbmV3TW9kLCBib29sIGluZGV4ZWQgX25ld01vZEFkZGVkKTsKICAgIGV2ZW50IE1vZGVyYXRvclJlbW92ZWQoYWRkcmVzcyBpbmRleGVkIF9pbnZva2VyLCBhZGRyZXNzIGluZGV4ZWQgX3JlbW92ZU1vZCwgYm9vbCBpbmRleGVkIF9tb2RSZW1vdmVkKTsKICAgIGV2ZW50IEFkbWluaXN0cmF0b3JBZGRlZChhZGRyZXNzIGluZGV4ZWQgX2ludm9rZXIsIGFkZHJlc3MgaW5kZXhlZCBfbmV3QWRtaW4sIGJvb2wgaW5kZXhlZCBfbmV3QWRtaW5BZGRlZCk7CiAgICBldmVudCBSb3lhbHR5SW5mb3JtYXRpb25Db250cmFjdFNldChhZGRyZXNzIGluZGV4ZWQgX2ludm9rZXIsIGFkZHJlc3MgaW5kZXhlZCBfbmV3Um95YWx0eUNvbnRyYWN0LCBib29sIGluZGV4ZWQgX25ld1JveWFsdHlDb250cmFjdFNldCk7CiAgICBldmVudCBTb25nVG9rZW5FeGNoYW5nZUNvbnRyYWN0U2V0KGFkZHJlc3MgaW5kZXhlZCBfaW52b2tlciwgYWRkcmVzcyBpbmRleGVkIF9uZXdTb25nVG9rZW5FeGNoYW5nZUNvbnRyYWN0LCBib29sIGluZGV4ZWQgX25ld1NvbmdUb2tlbkV4Y2hhbmdlU2V0KTsKCiAgICBmdW5jdGlvbiBBZG1pbmlzdHJhdGlvbigpIHsKICAgICAgICBvd25lciA9IDB4Nzk5MjZDODc1ZjI2MzY4MDhkZTI4Q0Q3M2E0NTU5MjU4N0E1MzdEZTsKICAgICAgICBhZG1pbmlzdHJhdG9yID0gMHg3OTkyNkM4NzVmMjYzNjgwOGRlMjhDRDczYTQ1NTkyNTg3QTUzN0RlOwogICAgICAgIGFkbWluaXN0cmF0aW9uQ29udHJhY3RGcm96ZW4gPSBmYWxzZTsKICAgIH0KCiAgICAvLy8gQGRldiBjaGVja3MgdG8gc2VlIGlmIHRoZSBjb250cmFjdCBpcyBmcm96ZW4KICAgIG1vZGlmaWVyIGlzRnJvemVuKCkgewogICAgICAgIHJlcXVpcmUoYWRtaW5pc3RyYXRpb25Db250cmFjdEZyb3plbik7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLy8gQGRldiBjaGVja3MgdG8gc2VlIGlmIHRoZSBjb250cmFjdCBpcyBub3QgZnJvemVuCiAgICBtb2RpZmllciBub3RGcm96ZW4oKSB7CiAgICAgICAgcmVxdWlyZSghYWRtaW5pc3RyYXRpb25Db250cmFjdEZyb3plbik7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLy8gQGRldiBjaGVja3MgdG8gc2VlIGlmIHRoZSBtc2cuc2VuZGVyIGlzIG93bmVyCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vLyBAZGV2IGNoZWNrcyB0byBzZWUgaWYgbXNnLnNlbmRlciBpcyBvd25lciwgb3IgYWRtaW4KICAgIG1vZGlmaWVyIG9ubHlBZG1pbigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgbXNnLnNlbmRlciA9PSBhZG1pbmlzdHJhdG9yKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vLyBAZGV2IGNoZWNrcyB0byBzZWUgaWYgbXNnLnNlbmRlciBpcyBvd25lciwgYWRtaW4sIG9yIHNvbmcgdG9rZW4gZXhjaGFuZ2UKICAgIG1vZGlmaWVyIG9ubHlBZG1pbk9yRXhjaGFuZ2UoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyIHx8IG1zZy5zZW5kZXIgPT0gc29uZ1Rva2VuRXhjaGFuZ2UgfHwgbXNnLnNlbmRlciA9PSBhZG1pbmlzdHJhdG9yKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vLyBAZGV2IGNoZWNrcyB0byBzZWUgaWYgbXNnLnNlbmRlciBpcyBwcml2aWxlZ2VkCiAgICBtb2RpZmllciBvbmx5TW9kZXJhdG9yKCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyID09IG93bmVyKSB7Xzt9CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgPT0gYWRtaW5pc3RyYXRvcikge187fQogICAgICAgIGlmIChtb2RlcmF0b3JzW21zZy5zZW5kZXJdKSB7Xzt9CiAgICB9CgogICAgLy8vIEBub3RpY2UgdXNlZCB0byBmcmVlemUgdGhlIGFkbWluaXN0cmF0aW9uIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBmcmVlemVBZG1pbmlzdHJhdGlvbkNvbnRyYWN0KCkgcHVibGljIG9ubHlBZG1pbiBub3RGcm96ZW4gcmV0dXJucyAoYm9vbCBmcm96ZW4pIHsKICAgICAgICBhZG1pbmlzdHJhdGlvbkNvbnRyYWN0RnJvemVuID0gdHJ1ZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSB1c2VkIHRvIHVuZnJlZXplIHRoZSBhZG1pbmlzdHJhdGlvbiBjb250cmFjdAogICAgZnVuY3Rpb24gdW5mcmVlemVBZG1pbmlzdHJhdGlvbkNvbnRyYWN0KCkgcHVibGljIG9ubHlBZG1pbiBpc0Zyb3plbiByZXR1cm5zIChib29sIHVuZnJvemVuKSB7CiAgICAgICAgYWRtaW5pc3RyYXRpb25Db250cmFjdEZyb3plbiA9IGZhbHNlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIHVzZWQgdG8gc2V0IHRoZSByb3lhbHR5IGluZm9ybWF0aW9uIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBzZXRSb3lhbHR5SW5mb3JtYXRpb25Db250cmFjdChhZGRyZXNzIF9yb3lhbHR5SW5mb3JtYXRpb25Db250cmFjdCkgcHVibGljIG9ubHlBZG1pbiBub3RGcm96ZW4gcmV0dXJucyAoYm9vbCBzZXQpIHsKICAgICAgICByb3lhbHR5SW5mb3JtYXRpb25Db250cmFjdCA9IF9yb3lhbHR5SW5mb3JtYXRpb25Db250cmFjdDsKICAgICAgICBSb3lhbHR5SW5mb3JtYXRpb25Db250cmFjdFNldChtc2cuc2VuZGVyLCBfcm95YWx0eUluZm9ybWF0aW9uQ29udHJhY3QsIHRydWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIHVzZWQgdG8gc2V0IHRoZSBzb25nIHRva2VuIGV4Y2hhbmdlCiAgICBmdW5jdGlvbiBzZXRUb2tlbkV4Y2hhbmdlKGFkZHJlc3MgX3NvbmdUb2tlbkV4Y2hhbmdlKSBwdWJsaWMgb25seUFkbWluIG5vdEZyb3plbiByZXR1cm5zIChib29sIHNldCkgewogICAgICAgIHNvbmdUb2tlbkV4Y2hhbmdlID0gX3NvbmdUb2tlbkV4Y2hhbmdlOwogICAgICAgIFNvbmdUb2tlbkV4Y2hhbmdlQ29udHJhY3RTZXQobXNnLnNlbmRlciwgX3NvbmdUb2tlbkV4Y2hhbmdlLCB0cnVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSB1c2VkIHRvIGFkZCBhIG1vZGVyYXRvcgogICAgZnVuY3Rpb24gYWRkTW9kZXJhdG9yKGFkZHJlc3MgX25ld01vZCkgcHVibGljIG9ubHlBZG1pbiBub3RGcm96ZW4gcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgbW9kZXJhdG9yc1tfbmV3TW9kXSA9IHRydWU7CiAgICAgICAgTW9kZXJhdG9yQWRkZWQobXNnLnNlbmRlciwgX25ld01vZCwgdHJ1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBub3RpY2UgdXNlZCB0byByZW1vdmUgYSBtb2RlcmF0b3IKICAgIGZ1bmN0aW9uIHJlbW92ZU1vZGVyYXRvcihhZGRyZXNzIF9yZW1vdmVNb2QpIHB1YmxpYyBvbmx5QWRtaW4gbm90RnJvemVuIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIG1vZGVyYXRvcnNbX3JlbW92ZU1vZF0gPSBmYWxzZTsKICAgICAgICBNb2RlcmF0b3JSZW1vdmVkKG1zZy5zZW5kZXIsIF9yZW1vdmVNb2QsIHRydWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIHVzZWQgdG8gc2V0IGFuIGFkbWluaXN0cmF0b3IKICAgIGZ1bmN0aW9uIHNldEFkbWluaXN0cmF0b3IoYWRkcmVzcyBfYWRtaW5pc3RyYXRvcikgcHVibGljIG9ubHlPd25lciBub3RGcm96ZW4gcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWRtaW5pc3RyYXRvciA9IF9hZG1pbmlzdHJhdG9yOwogICAgICAgIEFkbWluaXN0cmF0b3JBZGRlZChtc2cuc2VuZGVyLCBfYWRtaW5pc3RyYXRvciwgdHJ1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBub3RpY2UgdXNlZCB0byB0cmFuc2ZlciBjb250cmFjdCBvd25lcnNoaXAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBwdWJsaWMgb25seU93bmVyIG5vdEZyb3plbiByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBvd25lciA9IF9uZXdPd25lcjsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKbGlicmFyeSBTYWZlTWF0aCB7CgogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIHJlcXVpcmUoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXF1aXJlKGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICByZXF1aXJlKGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCi8qKgogICAgVmVyc2lvbjogMS4wLjEKKi8KCmNvbnRyYWN0IFZlenQgaXMgQWRtaW5pc3RyYXRpb24gewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgdWludDI1NiAgICAgICAgICAgICAgICAgcHVibGljICB0b3RhbFN1cHBseTsKICAgIHVpbnQ4ICAgICAgICAgICAgICAgICAgIHB1YmxpYyAgZGVjaW1hbHM7CiAgICBzdHJpbmcgICAgICAgICAgICAgICAgICBwdWJsaWMgIG5hbWU7CiAgICBzdHJpbmcgICAgICAgICAgICAgICAgICBwdWJsaWMgIHN5bWJvbDsKICAgIGJvb2wgICAgICAgICAgICAgICAgICAgIHB1YmxpYyAgdG9rZW5UcmFuc2ZlcnNGcm96ZW47CiAgICBib29sICAgICAgICAgICAgICAgICAgICBwdWJsaWMgIHRva2VuTWludGluZ0VuYWJsZWQ7CiAgICBib29sICAgICAgICAgICAgICAgICAgICBwdWJsaWMgIGNvbnRyYWN0TGF1bmNoZWQ7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSAgICAgICAgICAgICAgICAgICAgICAgIHB1YmxpYyBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgICBwdWJsaWMgYWxsb3dlZDsKCgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9zZW5kZXIsIGFkZHJlc3MgaW5kZXhlZCBfcmVjaXBpZW50LCB1aW50MjU2IF9hbW91bnQpOwogICAgZXZlbnQgQXBwcm92ZShhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudCk7CiAgICBldmVudCBMYXVuY2hDb250cmFjdChhZGRyZXNzIGluZGV4ZWQgX2xhdW5jaGVyLCBib29sIF9sYXVuY2hlZCk7CiAgICBldmVudCBGcmVlemVUb2tlblRyYW5zZmVycyhhZGRyZXNzIGluZGV4ZWQgX2ludm9rZXIsIGJvb2wgX2Zyb3plbik7CiAgICBldmVudCBUaGF3VG9rZW5UcmFuc2ZlcnMoYWRkcmVzcyBpbmRleGVkIF9pbnZva2VyLCBib29sIF90aGF3ZWQpOwogICAgZXZlbnQgTWludFRva2VucyhhZGRyZXNzIGluZGV4ZWQgX21pbnRlciwgdWludDI1NiBfYW1vdW50LCBib29sIGluZGV4ZWQgX21pbnRlZCk7CiAgICBldmVudCBUb2tlbk1pbnRpbmdEaXNhYmxlZChhZGRyZXNzIGluZGV4ZWQgX2ludm9rZXIsIGJvb2wgaW5kZXhlZCBfZGlzYWJsZWQpOwogICAgZXZlbnQgVG9rZW5NaW50aW5nRW5hYmxlZChhZGRyZXNzIGluZGV4ZWQgX2ludm9rZXIsIGJvb2wgaW5kZXhlZCBfZW5hYmxlZCk7CiAgICBldmVudCBTb25nVG9rZW5BZGRlZChhZGRyZXNzIGluZGV4ZWQgX3NvbmdUb2tlbkFkZHJlc3MsIGJvb2wgaW5kZXhlZCBfc29uZ1Rva2VuQWRkZWQpOwogICAgZXZlbnQgU29uZ1Rva2VuUmVtb3ZlZChhZGRyZXNzIGluZGV4ZWQgX3NvbmdUb2tlbkFkZHJlc3MsIGJvb2wgaW5kZXhlZCBfc29uZ1Rva2VuUmVtb3ZlZCk7CgogICAgZnVuY3Rpb24gVmV6dCgpIHsKICAgICAgICBuYW1lID0gIlZlenQiOwogICAgICAgIHN5bWJvbCA9ICJWWlQiOwogICAgICAgIGRlY2ltYWxzID0gMTg7CiAgICAgICAgdG90YWxTdXBwbHkgPSAxMjUwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA7CiAgICAgICAgYmFsYW5jZXNbMHg3OTkyNkM4NzVmMjYzNjgwOGRlMjhDRDczYTQ1NTkyNTg3QTUzN0RlXSA9IGJhbGFuY2VzWzB4Nzk5MjZDODc1ZjI2MzY4MDhkZTI4Q0Q3M2E0NTU5MjU4N0E1MzdEZV0uYWRkKHRvdGFsU3VwcGx5KTsKICAgICAgICB0b2tlblRyYW5zZmVyc0Zyb3plbiA9IHRydWU7CiAgICAgICAgdG9rZW5NaW50aW5nRW5hYmxlZCA9IGZhbHNlOwogICAgICAgIGNvbnRyYWN0TGF1bmNoZWQgPSBmYWxzZTsKICAgIH0KCiAgICAvKioKICAgICAgICBAZGV2IFVzZWQgYnkgYWRtaW4gdG8gc2VuZCBidWxrIGFtb3VudCBvZiB0cmFuc2ZlcnMsIHByaW1hcnkgcHVycG9zZSB0byByZXBsYXkgdHggZnJvbSB0aGUgY3Jvd2RmdW5kIHRvIG1ha2UgaXQgZWFzaWVyIHRvIGRvIGJ1bGsgc2VuZGluZwogICAgICAgIEBub3RpY2UgQ2FuIGFsc28gYmUgdXNlZCBmb3IgZ2VuZXJhbCBidWxrIHRyYW5zZmVycyAgdmlhIHRoZSBhc3NvY2lhdGVkIHB5dGhvbiBzY3JpcHQKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNhY3Rpb25SZXBsYXkoYWRkcmVzcyBfcmVjZWl2ZXIsIHVpbnQyNTYgX2Ftb3VudCkKICAgICAgICBwdWJsaWMKICAgICAgICBvbmx5T3duZXIKICAgICAgICByZXR1cm5zIChib29sIHJlcGxheWVkKQogICAgewogICAgICAgIHJlcXVpcmUodHJhbnNmZXJDaGVjayhtc2cuc2VuZGVyLCBfcmVjZWl2ZXIsIF9hbW91bnQpKTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfcmVjZWl2ZXJdID0gYmFsYW5jZXNbX3JlY2VpdmVyXS5hZGQoX2Ftb3VudCk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3JlY2VpdmVyLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAgICBAbm90aWNlIFVzZWQgdG8gbGF1bmNoIHRoZSBjb250cmFjdAogICAgICovCiAgICBmdW5jdGlvbiBsYXVuY2hDb250cmFjdCgpIAogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgICAgIHJldHVybnMgKGJvb2wgbGF1bmNoZWQpCiAgICB7CiAgICAgICAgcmVxdWlyZSghY29udHJhY3RMYXVuY2hlZCk7CiAgICAgICAgdG9rZW5UcmFuc2ZlcnNGcm96ZW4gPSBmYWxzZTsKICAgICAgICB0b2tlbk1pbnRpbmdFbmFibGVkID0gdHJ1ZTsKICAgICAgICBjb250cmFjdExhdW5jaGVkID0gdHJ1ZTsKICAgICAgICBMYXVuY2hDb250cmFjdChtc2cuc2VuZGVyLCB0cnVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAgICBAbm90aWNlIFVzZWQgdG8gZGlzYWJsZSB0b2tlbiBtaW50aW5nCiAgICAgKi8KICAgIGZ1bmN0aW9uIGRpc2FibGVUb2tlbk1pbnRpbmcoKSAKICAgICAgICBwdWJsaWMKICAgICAgICBvbmx5T3duZXIKICAgICAgICByZXR1cm5zIChib29sIGRpc2FibGVkKSAKICAgIHsKICAgICAgICB0b2tlbk1pbnRpbmdFbmFibGVkID0gZmFsc2U7CiAgICAgICAgVG9rZW5NaW50aW5nRGlzYWJsZWQobXNnLnNlbmRlciwgdHJ1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgICAgQG5vdGljZSBVc2VkIHRvIGVuYWJsZSB0b2tlbiBtaW50aW5nCiAgICAgKi8KICAgIGZ1bmN0aW9uIGVuYWJsZVRva2VuTWludGluZygpIAogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgICAgIHJldHVybnMgKGJvb2wgZW5hYmxlZCkKICAgIHsKICAgICAgICB0b2tlbk1pbnRpbmdFbmFibGVkID0gdHJ1ZTsKICAgICAgICBUb2tlbk1pbnRpbmdFbmFibGVkKG1zZy5zZW5kZXIsIHRydWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICAgIEBub3RpY2UgVXNlZCB0byBmcmVlemUgdG9rZW4gdHJhbnNmZXJzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGZyZWV6ZVRva2VuVHJhbnNmZXJzKCkKICAgICAgICBwdWJsaWMKICAgICAgICBvbmx5T3duZXIKICAgICAgICByZXR1cm5zIChib29sIGZyb3plbikKICAgIHsKICAgICAgICB0b2tlblRyYW5zZmVyc0Zyb3plbiA9IHRydWU7CiAgICAgICAgRnJlZXplVG9rZW5UcmFuc2ZlcnMobXNnLnNlbmRlciwgdHJ1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgICAgQG5vdGljZSBVc2VkIHRvIHRoYXcgdG9rZW4gdHJhNG5zZmVycwogICAgICovCiAgICBmdW5jdGlvbiB0aGF3VG9rZW5UcmFuc2ZlcnMoKQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgICAgIHJldHVybnMgKGJvb2wgdGhhd2VkKQogICAgewogICAgICAgIHRva2VuVHJhbnNmZXJzRnJvemVuID0gZmFsc2U7CiAgICAgICAgVGhhd1Rva2VuVHJhbnNmZXJzKG1zZy5zZW5kZXIsIHRydWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICAgIEBub3RpY2UgVXNlZCB0byB0cmFuc2ZlciBmdW5kcwogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF9yZWNlaXZlciwgdWludDI1NiBfYW1vdW50KQogICAgICAgIHB1YmxpYwogICAgICAgIHJldHVybnMgKGJvb2wgdHJhbnNmZXJyZWQpCiAgICB7CiAgICAgICAgcmVxdWlyZSh0cmFuc2ZlckNoZWNrKG1zZy5zZW5kZXIsIF9yZWNlaXZlciwgX2Ftb3VudCkpOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOwogICAgICAgIGJhbGFuY2VzW19yZWNlaXZlcl0gPSBiYWxhbmNlc1tfcmVjZWl2ZXJdLmFkZChfYW1vdW50KTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfcmVjZWl2ZXIsIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICAgIEBub3RpY2UgVXNlZCB0byB0cmFuc2ZlciBmdW5kcyBvbiBiZWhhbGYgb2Ygc29tZW9uZQogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3JlY2VpdmVyLCB1aW50MjU2IF9hbW91bnQpIAogICAgICAgIHB1YmxpYyAKICAgICAgICByZXR1cm5zIChib29sIHRyYW5zZmVycmVkKQogICAgewogICAgICAgIHJlcXVpcmUoYWxsb3dlZFtfb3duZXJdW21zZy5zZW5kZXJdID49IF9hbW91bnQpOwogICAgICAgIHJlcXVpcmUodHJhbnNmZXJDaGVjayhfb3duZXIsIF9yZWNlaXZlciwgX2Ftb3VudCkpOwogICAgICAgIGFsbG93ZWRbX293bmVyXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX293bmVyXVttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbX293bmVyXSA9IGJhbGFuY2VzW19vd25lcl0uc3ViKF9hbW91bnQpOwogICAgICAgIGJhbGFuY2VzW19yZWNlaXZlcl0gPSBiYWxhbmNlc1tfcmVjZWl2ZXJdLmFkZChfYW1vdW50KTsKICAgICAgICBUcmFuc2Zlcihfb3duZXIsIF9yZWNlaXZlciwgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgICAgQG5vdGljZSBVc2VkIHRvIGFwcHJvdmUgc29tZW9uZSB0byBzcGVuZCBmdW5kcyBvbiB5b3VyIGJlaGFsZgogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudCkKICAgICAgICBwdWJsaWMKICAgICAgICByZXR1cm5zIChib29sIGFwcHJvdmVkKQogICAgewogICAgICAgIHJlcXVpcmUoX2Ftb3VudCA+IDApOwogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hbW91bnQpOwogICAgICAgIEFwcHJvdmUobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCiAgICAvKioKICAgICAgICBAbm90aWNlIFVzZWQgdG8gYnVybiB0b2tlbnMKICAgICAqLwogICAgZnVuY3Rpb24gdG9rZW5CdXJuZXIodWludDI1NiBfYW1vdW50KQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgICAgIHJldHVybnMgKGJvb2wgYnVybmVkKQogICAgewogICAgICAgIHJlcXVpcmUoX2Ftb3VudCA+IDApOwogICAgICAgIHJlcXVpcmUodG90YWxTdXBwbHkuc3ViKF9hbW91bnQpID49IDApOwogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCkgPj0gMCk7CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5zdWIoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgMCwgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgICAgQG5vdGljZSBVc2VkIHRvIG1pbnQgbmV3IHRva2VucwogICAgKi8KICAgIGZ1bmN0aW9uIHRva2VuRmFjdG9yeSh1aW50MjU2IF9hbW91bnQpCiAgICAgICAgcHVibGljIAogICAgICAgIG9ubHlPd25lcgogICAgICAgIHJldHVybnMgKGJvb2wgbWludGVkKQogICAgewogICAgICAgIC8vIHRoaXMgY2FsbHMgdGhlIHRva2VuIG1pbnRlciBmdW5jdGlvbiB3aGljaCBpcyB1c2VkIHRvIGRvIGEgc2FuaXR5IGNoZWNrIG9mIHRoZSBwYXJhbWV0ZXJzIGJlaW5nIHBhc3NlZCBpbgogICAgICAgIHJlcXVpcmUodG9rZW5NaW50ZXIoX2Ftb3VudCwgbXNnLnNlbmRlcikpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9hbW91bnQpOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKF9hbW91bnQpOwogICAgICAgIFRyYW5zZmVyKDAsIG1zZy5zZW5kZXIsIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIEludGVybmFscwoKICAgIC8qKgogICAgICAgIEBkZXYgTG93IGxldmVsIGZ1bmN0aW9uIHVzZWQgdG8gZG8gYSBzYW5pdHkgY2hlY2sgb2YgbWludGluZyBwYXJhbXMKICAgICAqLwogICAgZnVuY3Rpb24gdG9rZW5NaW50ZXIodWludDI1NiBfYW1vdW50LCBhZGRyZXNzIF9zZW5kZXIpCiAgICAgICAgaW50ZXJuYWwKICAgICAgICB2aWV3CiAgICAgICAgcmV0dXJucyAoYm9vbCB2YWxpZCkKICAgIHsKICAgICAgICByZXF1aXJlKHRva2VuTWludGluZ0VuYWJsZWQpOwogICAgICAgIHJlcXVpcmUoX2Ftb3VudCA+IDApOwogICAgICAgIHJlcXVpcmUoX3NlbmRlciAhPSBhZGRyZXNzKDB4MCkpOwogICAgICAgIHJlcXVpcmUodG90YWxTdXBwbHkuYWRkKF9hbW91bnQpID4gMCk7CiAgICAgICAgcmVxdWlyZSh0b3RhbFN1cHBseS5hZGQoX2Ftb3VudCkgPiB0b3RhbFN1cHBseSk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfc2VuZGVyXS5hZGQoX2Ftb3VudCkgPiAwKTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19zZW5kZXJdLmFkZChfYW1vdW50KSA+IGJhbGFuY2VzW19zZW5kZXJdKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgICAgQGRldiBQcmV2ZW50cyBwZW9wbGUgZnJvbSBzZW5kaW5nIHRvIGEgIGEgbnVsbCBhZGRyZXNzICAgICAgICAKICAgICAgICBAbm90aWNlIExvdyBsZXZlbCBmdW5jdGlvbiB1c2VkIHRvIGRvIGEgc2FuaXR5IGNoZWNrIG9mIHRyYW5zZmVyIHBhcmFtZXRlcnMKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJDaGVjayhhZGRyZXNzIF9zZW5kZXIsIGFkZHJlc3MgX3JlY2VpdmVyLCB1aW50MjU2IF9hbW91bnQpCiAgICAgICAgaW50ZXJuYWwKICAgICAgICB2aWV3CiAgICAgICAgcmV0dXJucyAoYm9vbCB2YWxpZCkKICAgIHsKICAgICAgICByZXF1aXJlKCF0b2tlblRyYW5zZmVyc0Zyb3plbik7CiAgICAgICAgcmVxdWlyZShfYW1vdW50ID4gMCk7CiAgICAgICAgcmVxdWlyZShfcmVjZWl2ZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfc2VuZGVyXSA+PSBfYW1vdW50KTsgLy8gYWRkZWQgY2hlY2sKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19zZW5kZXJdLnN1YihfYW1vdW50KSA+PSAwKTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19yZWNlaXZlcl0uYWRkKF9hbW91bnQpID4gMCk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfcmVjZWl2ZXJdLmFkZChfYW1vdW50KSA+IGJhbGFuY2VzW19yZWNlaXZlcl0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIEdldHRlcnMKCiAgICAvKioKICAgICAgICBAbm90aWNlIFVzZWQgdG8gcmV0cmlldmUgdG90YWwgc3VwcGx5CiAgICAgKi8KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgCiAgICAgICAgcHVibGljCiAgICAgICAgdmlldwogICAgICAgIHJldHVybnMgKHVpbnQyNTYgX3RvdGFsU3VwcGx5KQogICAgewogICAgICAgIHJldHVybiB0b3RhbFN1cHBseTsKICAgIH0KCgogICAgLyoqCiAgICAgICAgQG5vdGljZSBVc2VkIHRvIHJldHJpZXZlIGJhbGFuY2Ugb2YgYSB1c2VyCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9wZXJzb24pCiAgICAgICAgcHVibGljCiAgICAgICAgdmlldwogICAgICAgIHJldHVybnMgKHVpbnQyNTYgX2JhbGFuY2VPZikKICAgIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX3BlcnNvbl07CiAgICB9CgogICAgLyoqCiAgICAgICAgQG5vdGljZSBVc2VkIHRvIHJldHJpZXZlIHRoZSBhbGxvd2VkIGJhbGFuY2Ugb2Ygc29tZW9uZQogICAgICovCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpCiAgICAgICAgcHVibGljIAogICAgICAgIHZpZXcKICAgICAgICByZXR1cm5zICh1aW50MjU2IF9hbGxvd2FuY2UpCiAgICB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9Cgp9'.
	

]
