Class {
	#name : #SRTde8e0c8419184cf4e0ab525aeb5acdb85cda050b,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTde8e0c8419184cf4e0ab525aeb5acdb85cda050b >> base64 [
	^ 'LyoKKiBUaGUgIkJlY29tZSBhIEJpbGxpb25haXJlIiBkZWNlbnRyYWxpemVkIFJhZmZsZSB2MS4wLCBNYWluLU5ldCBSZWxlYXNlLgoqIH5ieSBHbHVlZG9nIAoqIC0tLS0tLS0tLS0tCiogCiogQ29tcGlsZXIgdmVyc2lvbjogMC40LjE5K2NvbW1pdC5jNGNiYmIwNS5FbXNjcmlwdGVuLmNsYW5nCiogCiogVGhlIHdlZWtseSBCZWNvbWUgYSBCaWxsaW9uYWlyZSBkZWNlbnRyYWxpemVkIHJhZmZsZSBpcyB0aGUgYmFzaXMgb2YgdGhlIGRlZmxhdGlvbmFyeSBtZWNoYW5pc20gZm9yIEJpbGxpb25haXJlIFRva2VuCiogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiogRXZlcnkgd2VlaywgdXNlcnMgY2FuIHJlZ2lzdGVyIDEwIFhCTCB0byBhbiBFdGhlcmV1bSBTbWFydCBDb250cmFjdCBhZGRyZXNzIOKAkyB0aGlzIGlzIHRoZSBlcXVpdmFsZW50IG9mIGJ1eWluZyBvbmUgdGlja2V0LAoqICAgICBtb3JlIHRpY2tldHMgbWVhbiBhIGJldHRlciBjaGFuY2UgdG8gd2luLiBVc2VycyBjYW4gYnV5IGFuIHVubGltaXRlZCBudW1iZXIgb2YgdGlja2V0cyB0byBpbmNyZWFzZSB0aGVpciBjaGFuY2VzLgoqICAgICBBdCB0aGUgZW5kIG9mIHRoZSB3ZWVrLCB0aGUgU21hcnQgQ29udHJhY3Qgd2lsbCBjaG9vc2UgdGhyZWUgd2lubmVycyBhdCByYW5kb20uIEZpcnN0IHBsYWNlIHdpbGwgZ2V0IDQwJSBvZgoqICAgICB0aGUgdG9rZW5zICB0aGF0IHdlcmUgcmFpc2VkIGR1cmluZyB0aGF0IHdlZWssIHNlY29uZCBwbGFjZSBnZXRzIDIwJSBhbmQgdGhpcmQgcGxhY2UgZ2V0cyAxMCUuCiogICAgIEZyb20gdGhlIHJlbWFpbmluZyAzMCUgb2YgdGhlIHRva2VuczogMTAlIGFyZSBidXJuZWQg4oCTIGFzIGFuIG9mZmVyaW5nIHRvIHRoZSBtYXJrZXQgZ29kcy4gVGhlIG90aGVyIDIwJSBhcmUgc2VudAoqICAgICB0byBhbm90aGVyIFNtYXJ0IENvbnRyYWN0IEFkZHJlc3MgdGhhdCB3b3JrcyBsaWtlIGEgdHdpc3RlZCBmYXVjZXQg4oCTIHJld2FyZGluZyBwZW9wbGUgZm9yIGJ1cm5pbmcgdGhlaXIgb3duIGNvaW5zLgoqIAoqIFRoZSBCZWNvbWUgYSBCaWxsaW9uYWlyZSByYWZmbGUgU21hcnQgQ29udHJhY3Qgd2lsbCBydW4gZm9yZXZlciwgYW5kIHdpbGwgaGF2ZSBhbiBpbnRlcm5hbCB0aW1lciB0aGF0IHdpbGwgcmVzZXQKKiAgICAgaXRzZWxmIGV2ZXJ5IHNldmVuIGRheXMgb3IgYWZ0ZXIgdGhlcmUgaGF2ZSBiZWVuIDI1NiB0aWNrZXRzIHJlZ2lzdGVyZWQgdG8gdGhlIFJhZmZsZS4gVGhlIHBsYXllcnMgYXJlIHJlZ2lzdGVyZWQKKiAgICAgYnkgY3JlYXRpbmcgYW4gaW50ZXJuYWwgbWFwcGluZywgaW5zaWRlIHRoZSBTbWFydCBDb250cmFjdCwgYSBtYXBwaW5nIG9mIGV2ZXJ5IGFkZHJlc3MgdGhhdCByZWdpc3RlcnMgdG9rZW5zIHRvIAoqICAgICBpdCBhbmQgdGhlaXIgYXNzb2NpYXRlZCBudW1iZXIgb2YgdGlja2V0cy4gVGhpcyBtYXBwaW5nIGlzIHJlc2V0IGV2ZXJ5IHRpbWUgdGhlIGludGVybmFsIHRpbWVyIHJlc2V0cyAoZXZlcnkgc2V2ZW4gZGF5cykuCiovCgpwcmFnbWEgc29saWRpdHkgXjAuNC44Owpjb250cmFjdCBYQkxfRVJDMjBXcmFwcGVyCnsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsKICAgIGZ1bmN0aW9uIGJ1cm4odWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG90YWxfc3VwcGx5KTsKfQoKY29udHJhY3QgQmlsbGlvbmFpcmVUb2tlblJhZmZsZQp7CiAgICBhZGRyZXNzIHByaXZhdGUgd2lubmVyMTsKICAgIGFkZHJlc3MgcHJpdmF0ZSB3aW5uZXIyOwogICAgYWRkcmVzcyBwcml2YXRlIHdpbm5lcjM7CgogICAgYWRkcmVzcyBwdWJsaWMgWEJMQ29udHJhY3RfYWRkcjsKICAgIGFkZHJlc3MgcHVibGljIGJ1cm5lcl9hZGRyOwogICAgYWRkcmVzcyBwdWJsaWMgcmFmZmxlX2FkZHI7CiAgICBhZGRyZXNzIHByaXZhdGUgb3duZXJfYWRkcjsKCiAgICBhZGRyZXNzW10gcHJpdmF0ZSByYWZmbGVfYm93bDsgLyogSG9sZHMgdGlja2V0IGVudHJpZXMgKi8KICAgIGFkZHJlc3NbXSBwcml2YXRlIHBhcnRpY2lwYW50czsKICAgIHVpbnQyNTZbXSBwcml2YXRlIHNlZWRzOwoKICAgIHVpbnQ2NCBwdWJsaWMgdW5pcXVlX3BsYXllcnM7IC8qIFVuaXF1ZSBudW1iZXIgb2YgYWRkcmVzc2VzIHJlZ2lzdGVyZWQgaW4gYSB3ZWVrICovCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbF9idXJuZWRfYnlfcmFmZmxlOwogICAgdWludDI1NiBwdWJsaWMgbmV4dF93ZWVrX3RpbWVzdGFtcDsKICAgIHVpbnQyNTYgcHJpdmF0ZSBtaW51dGVzX2luX2Ffd2VlayA9IDEwMDgwOwogICAgdWludDI1NiBwdWJsaWMgcmFmZmxlX2JhbGFuY2U7CiAgICB1aW50MjU2IHB1YmxpYyB0aWNrZXRfcHJpY2U7CiAgICB1aW50MjU2IHB1YmxpYyBjdXJyZW50X3dlZWs7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbF9zdXBwbHk7CiAgICAvKiBJbml0aWF0ZSB0aGUgWEJMIHRva2VuIHdyYXBwZXIgKi8KICAgIFhCTF9FUkMyMFdyYXBwZXIgcHJpdmF0ZSBFUkMyMF9DQUxMUzsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGFkZHJlc3NfdG9fdGlja2V0czsgLyogV2lsbCBiZSBtYWRlIHByaXZhdGUgYWZ0ZXIgb3BlbiBiZXRhIGlzIGZpbmlzaGVkLiAqLwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBhZGRyZXNzX3RvX3Rva2Vuc19wcmV2X3dlZWswOyAvKiBWYXJpYWJsZXMgd2hpY2ggd2lsbCBiZSBtYWRlIHB1YmxpYyAgKi8KICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYWRkcmVzc190b190b2tlbnNfcHJldl93ZWVrMTsgLyogIGFmdGVyIGVhY2ggd2VlaydzIHJhZmZsZSBoYXMgZW5kZWQgKi8KCiAgICB1aW50OCBwdWJsaWMgcHJldl93ZWVrX0lEOyAvKiBLZWVwcyB0cmFjayBvZiB3aGljaCB2YXJpYWJsZSBpcyB0aGUgY29ycmVjdCBpbmRpY2F0b3Igb2YgcHJldiB3ZWVrIG1hcHBpbmcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FuIG9ubHkgYmUgWzBdIG9yIFsxXS4gKi8KICAgIGFkZHJlc3MgcHVibGljIGxhc3R3ZWVrX3dpbm5lcjE7CiAgICBhZGRyZXNzIHB1YmxpYyBsYXN0d2Vla193aW5uZXIyOwogICAgYWRkcmVzcyBwdWJsaWMgbGFzdHdlZWtfd2lubmVyMzsKCiAgICAvKiBJbml0ICovCiAgICBmdW5jdGlvbiBCaWxsaW9uYWlyZVRva2VuUmFmZmxlKCkKICAgIHsKICAgICAgICAvKiBCaWxsaW9uYWlyZSBUb2tlbiBjb250cmFjdCBhZGRyZXNzICovCiAgICAgICAgWEJMQ29udHJhY3RfYWRkciA9IDB4NDlBZUMwNzUyRTY4RDAyODJEYjU0NEM2NzdmNkJBNDA3QkExN0VENzsKICAgICAgICBFUkMyMF9DQUxMUyA9IFhCTF9FUkMyMFdyYXBwZXIoWEJMQ29udHJhY3RfYWRkcik7CiAgICAgICAgdG90YWxfc3VwcGx5ID0gRVJDMjBfQ0FMTFMudG90YWxTdXBwbHkoKTsKICAgICAgICB0aWNrZXRfcHJpY2UgPSAxMDAwMDAwMDAwMDAwMDAwMDAwMDsgLyogMTAgWEJMICAqLwogICAgICAgIHJhZmZsZV9hZGRyID0gYWRkcmVzcyh0aGlzKTsgLyogT3duIGFkZHJlc3MgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLwogICAgICAgIG93bmVyX2FkZHIgPSBtc2cuc2VuZGVyOyAvKiBTZXQgdGhlIG93bmVyIGFkZHJlc3MgYXMgdGhlIGluaXRpYWwgc2VuZGVyICovCiAgICAgICAgbmV4dF93ZWVrX3RpbWVzdGFtcCA9IG5vdyArIG1pbnV0ZXNfaW5fYV93ZWVrICogMSBtaW51dGVzOyAvKiBXaWxsIGdldCBzZXQgZXZlcnkgdGltZSByZXNldFJhZmZsZSgpIGlzIGNhbGxlZCAqLwogICAgfQoKICAgIC8qIEEgbW9kaWZpZXIgdGhhdCBjYW4gYmUgYXBwbGllZCB0byBmdW5jdGlvbnMgdG8gb25seSBhbGxvdyB0aGUgb3duZXIgdG8gZXhlY3V0ZSB0aGVtLiAgICAgICAqLwogICAgLyogVGhpcyBpcyB2ZXJ5IHVzZWZ1bCBpbiBjYXNlcyB3aGVyZSBvbmUgd291bGQgbGlrZSB0byB1cGdyYWRlIHRoZSBkZWZsYXRpb25hcnkgYWxnb3JpdGhtLiAgICovCiAgICAvKiBXZSBjYW4gc2ltcGx5IHVzZSBzZXR0ZXIgZnVuY3Rpb25zIG9uIHRoZSAiQnVybmVyIGFkZHJlc3MiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8KICAgIC8qIHNvIHRoYXQgaWYgd2UgdXBkYXRlIHRoZSBCdXJuZXIsIHdlIGNhbiBqdXN0IHBvaW50IHRoZSBSYWZmbGUgdG8gdGhlIG5ldyB2ZXJzaW9uIG9mIGl0LiAgICAqLwogICAgbW9kaWZpZXIgb25seU93bmVyKCkKICAgIHsKICAgICAgICByZXF1aXJlIChtc2cuc2VuZGVyID09IG93bmVyX2FkZHIpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seUJ1cm5lcigpCiAgICB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGJ1cm5lcl9hZGRyKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qIDw8PC0tLSBCdXJuZXIgYWNjZXNpYmxlIGZ1bmN0aW9ucyAtLS0+Pj4gKi8KICAgIC8qIDw8PC0tLSBCdXJuZXIgYWNjZXNpYmxlIGZ1bmN0aW9ucyAtLS0+Pj4gKi8KICAgIC8qIDw8PC0tLSBCdXJuZXIgYWNjZXNpYmxlIGZ1bmN0aW9ucyAtLS0+Pj4gKi8KCiAgICBmdW5jdGlvbiBnZXRMYXN0V2Vla1N0YWtlKGFkZHJlc3MgdXNlcl9hZGRyKSBwdWJsaWMgb25seUJ1cm5lciByZXR1cm5zICh1aW50MjU2IGxhc3Rfd2Vla19zdGFrZSkKICAgIHsgICAvKiBUaGUgYnVybmVyIGFjY2Vzc2VzIHRoaXMgZnVuY3Rpb24gdG8gcmV0cmlldmUgZWFjaCBwbGF5ZXIncyBzdGFrZSBmcm9tIHRoZSBwcmV2aW91cyB3ZWVrLiAqLwogICAgICAgIGlmIChwcmV2X3dlZWtfSUQgPT0gMCkKICAgICAgICAgICAgcmV0dXJuIGFkZHJlc3NfdG9fdG9rZW5zX3ByZXZfd2VlazFbdXNlcl9hZGRyXTsKICAgICAgICBpZiAocHJldl93ZWVrX0lEID09IDEpCiAgICAgICAgICAgIHJldHVybiBhZGRyZXNzX3RvX3Rva2Vuc19wcmV2X3dlZWswW3VzZXJfYWRkcl07CiAgICB9CgogICAgZnVuY3Rpb24gcmVkdWNlTGFzdFdlZWtTdGFrZShhZGRyZXNzIHVzZXJfYWRkciwgdWludDI1NiBhbW91bnQpIHB1YmxpYyBvbmx5QnVybmVyCiAgICB7ICAgLyogQWZ0ZXIgYSBzdWNjZXNmdWwgYnVybiwgdGhlIGJ1cm5lciB3aWxsIGNhbGwgdGhpcyBmdW5jdGlvbiBhbmQgcmVkdWNlIHRoZSBwbGF5ZXIncyBsYXN0X3dlZWtfc3Rha2UuICovCiAgICAgICAgaWYgKHByZXZfd2Vla19JRCA9PSAwKQogICAgICAgICAgICBhZGRyZXNzX3RvX3Rva2Vuc19wcmV2X3dlZWsxW3VzZXJfYWRkcl0gLT0gYW1vdW50OwogICAgICAgIGlmIChwcmV2X3dlZWtfSUQgPT0gMSkKICAgICAgICAgICAgYWRkcmVzc190b190b2tlbnNfcHJldl93ZWVrMFt1c2VyX2FkZHJdIC09IGFtb3VudDsKICAgIH0KCiAgICAvKiA8PDwtLS0gUHVibGljIHV0aWxpdHkgZnVuY3Rpb25zIC0tLT4+PiAqLwogICAgLyogPDw8LS0tIFB1YmxpYyB1dGlsaXR5IGZ1bmN0aW9ucyAtLS0+Pj4gKi8KICAgIC8qIDw8PC0tLSBQdWJsaWMgdXRpbGl0eSBmdW5jdGlvbnMgLS0tPj4+ICovCgogICAgZnVuY3Rpb24gcmVnaXN0ZXJUaWNrZXRzKHVpbnQyNTYgbnVtYmVyX29mX3RpY2tldHMpIHB1YmxpYyByZXR1cm5zIChpbnQ4IHJlZ2lzdGVyVGlja2V0c19TVEFUVVMpCiAgICB7CiAgICAgICAgLyogIHJlZ2lzdGVyVGlja2V0cyBSRVRVUk4gQ09ERVM6CgogICAgICAgICAgICBbLTZdIC0gUmFmZmxlIHN0aWxsIGhhcyB0aWNrZXRzIGFmdGVyIGZpbGxCdXJuZXIoKSBjYWxsZWQgCiAgICAgICAgICAgIFstNV0gLSBmaWxsQnVybmVyKCkgbnVsbCBidXJuZXIgYWRkciwgcmFpc2VkIGVycm9yCiAgICAgICAgICAgIFstNF0gLSBmaWxsV2Vla2x5QXJyYXlzKCkgcHJldl93ZWVrX0lEIGludmFsaWQgdmFsdWUsIHJhaXNlZCBlcnJvci4KICAgICAgICAgICAgWy0zXSAtIGdldFdpbm5lcnMoKSBmYWlsLCByYWlzZWQgZXJyb3IuCiAgICAgICAgICAgIFstMl0gLSBBQ1RVQUwgQUxMT1dBTkNFIENIRUNLIE1JU01BVENILgogICAgICAgICAgICBbLTFdIC0gSU5WQUxJRCBJTlBVVCAoemVybyBvciB0b28gbWFueSB0aWNrZXRzKS4KICAgICAgICAgICAgWzAgXSAtIFJFR0lTVEVSRUQgT0suICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLwoKICAgICAgICAvKiBDaGVjayB0aGUgdGlja2V0IGFtb3VudCBsaW1pdCAoMjU2IG1heCkgKi8KICAgICAgICBpZiAocmFmZmxlX2Jvd2wubGVuZ3RoID4gMjU2KQogICAgICAgIHsKICAgICAgICAgICAgbmV4dF93ZWVrX3RpbWVzdGFtcCA9IG5vdzsKICAgICAgICB9CgogICAgICAgIC8qIENoZWNrIHRoZSB0aW1lIGxpbWl0LCBvbmUgd2VlayBpcyBtYXguICovCiAgICAgICAgaWYgKG5vdyA+PSBuZXh0X3dlZWtfdGltZXN0YW1wKQogICAgICAgIHsKICAgICAgICAgICAgaW50OCBSQUZGTEVfU1RBVFVTID0gcmVzZXRSYWZmbGUoKTsKICAgICAgICAgICAgLyogRXJyb3IgY2hlY2tzICovCiAgICAgICAgICAgIGlmIChSQUZGTEVfU1RBVFVTID09IC0yKQogICAgICAgICAgICAgICAgcmV0dXJuIC0zOyAvKiBnZXRXaW5uZXJzKCkgZXJyb3JlZCwgcmFpc2UgaXQhICovCgogICAgICAgICAgICBpZiAoUkFGRkxFX1NUQVRVUyA9PSAtMykKICAgICAgICAgICAgICAgIHJldHVybiAtNTsgLyogZmlsbEJ1cm5lcigpIGVycm9yZWQsIHJhaXNlIGl0ISAqLwoKICAgICAgICAgICAgaWYgKFJBRkZMRV9TVEFUVVMgPT0gLTQpCiAgICAgICAgICAgICAgICByZXR1cm4gLTY7IC8qIFJhZmZsZSBzdGlsbCBoYXMgdGlja2V0cyBhZnRlciBmaWxsQnVybmVyKCkgY2FsbGVkICovCiAgICAgICAgfQogICAgICAgIC8qIEJlZm9yZSB1c2VycyB3aWxsIGNhbGwgcmVnaXN0ZXJUaWNrZXRzIGZ1bmN0aW9uLHRoZXkgd2lsbCBmaXJzdCBoYXZlIHRvIGNhbGwgYXBwcm92ZSgpICAgICovCiAgICAgICAgLyogb24gdGhlIFhCTCBjb250cmFjdCBhZGRyZXNzIGFuZCBhcHByb3ZlIHRoZSBSYWZmbGUgdG8gc3BlbmQgdG9rZW5zIG9uIHRoZWlyIGJlaGFsZi4gICAgICAqLwogICAgICAgIC8qIEFmdGVyIHRoZXkgaGF2ZSBjYWxsZWQgYXBwcm92ZSwgdGhleSB3aWxsIGhhdmUgdG8gY2FsbCB0aGlzIHJlZ2lzdGVyVGlja2V0cygpIGZ1bmN0aW9uICAqLwoKICAgICAgICBpZiAoIChudW1iZXJfb2ZfdGlja2V0cyA9PSAwKSB8fCAobnVtYmVyX29mX3RpY2tldHMgPiA1KSB8fCAoYWRkcmVzc190b190aWNrZXRzW21zZy5zZW5kZXJdID49IDUpICkKICAgICAgICAgICAgcmV0dXJuIC0xOyAvKiBJbnZhbGlkIElucHV0ICovCgogICAgICAgIGlmIChFUkMyMF9DQUxMUy5hbGxvd2FuY2UobXNnLnNlbmRlciwgcmFmZmxlX2FkZHIpIDwgdGlja2V0X3ByaWNlICogbnVtYmVyX29mX3RpY2tldHMpCiAgICAgICAgICAgIHJldHVybiAtMjsgLyogQWxsb3dhbmNlIGNoZWNrIG1pc21hdGNoICovCgogICAgICAgIGlmIChFUkMyMF9DQUxMUy5iYWxhbmNlT2YobXNnLnNlbmRlcikgPCB0aWNrZXRfcHJpY2UgKiBudW1iZXJfb2ZfdGlja2V0cykgCiAgICAgICAgICAgIHJldHVybiAtIDI7IC8qIEFsbG93YW5jZSBjaGVjayBtaXNtYXRjaCAqLwoKICAgICAgICAvKiAgUmVhY2hpbmcgdGhpcyBwb2ludCBtZWFucyB0aGUgdGlja2V0IHJlZ2lzdHJhbnQgaXMgbGVnaXQgICovCiAgICAgICAgLyogIEV2ZXJ5IHRpY2tldCB3aWxsIGFkZCBhbiBlbnRyeSB0byB0aGUgcmFmZmxlX2Jvd2wgICAgICAgICAqLwogICAgICAgIGlmIChmaWxsV2Vla2x5QXJyYXlzKG51bWJlcl9vZl90aWNrZXRzLCBtc2cuc2VuZGVyKSA9PSAtMSkKICAgICAgICAgICAgcmV0dXJuIC00OyAvKiBwcmV2X3dlZWtfSUQgaW52YWxpZCB2YWx1ZSAqLwoKICAgICAgICBlbHNlCiAgICAgICAgeyAgIC8qIEV2ZXJ5dGhpbmcgY2hlY2tzIG91dCwgdHJhbnNmZXIgdGhlIGNvaW5zIGZyb20gdGhlIHVzZXIgdG8gdGhlIFJhZmZsZSAqLwogICAgICAgICAgICBFUkMyMF9DQUxMUy50cmFuc2ZlckZyb20obXNnLnNlbmRlciwgcmFmZmxlX2FkZHIsIG51bWJlcl9vZl90aWNrZXRzICogdGlja2V0X3ByaWNlKTsKICAgICAgICAgICAgcmV0dXJuIDA7IAogICAgICAgIH0KICAgIH0KCiAgICAvKiA8PDwtLS0gT3duZXIgZnVuY3Rpb25zIC0tLT4+PiAqLwogICAgLyogPDw8LS0tIE93bmVyIGZ1bmN0aW9ucyAtLS0+Pj4gKi8KICAgIC8qIDw8PC0tLSBPd25lciBmdW5jdGlvbnMgLS0tPj4+ICovCgogICAgZnVuY3Rpb24gc2V0QnVybmVyQWRkcmVzcyhhZGRyZXNzIF9idXJuZXJfYWRkcikgcHVibGljIG9ubHlPd25lcgogICAgewogICAgICAgIGJ1cm5lcl9hZGRyID0gX2J1cm5lcl9hZGRyOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFRpY2tldFByaWNlKHVpbnQyNTYgX3RpY2tldF9wcmljZSkgcHVibGljIG9ubHlPd25lcgogICAgewogICAgICAgIHRpY2tldF9wcmljZSA9IF90aWNrZXRfcHJpY2U7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0T3duZXJBZGRyKGFkZHJlc3MgX293bmVyX2FkZHIpIHB1YmxpYyBvbmx5T3duZXIKICAgIHsKICAgICAgICBvd25lcl9hZGRyID0gX293bmVyX2FkZHI7CiAgICB9CgogICAgLyogPDw8LS0tIEludGVybmFsIGZ1bmN0aW9ucyAtLS0+Pj4gKi8KICAgIC8qIDw8PC0tLSBJbnRlcm5hbCBmdW5jdGlvbnMgLS0tPj4+ICovCiAgICAvKiA8PDwtLS0gSW50ZXJuYWwgZnVuY3Rpb25zIC0tLT4+PiAqLwoKICAgIGZ1bmN0aW9uIGdldFBlcmNlbnQodWludDggcGVyY2VudCwgdWludDI1NiBudW1iZXIpIHByaXZhdGUgcmV0dXJucyAodWludDI1NiByZXN1bHQpCiAgICB7CiAgICAgICAgcmV0dXJuIG51bWJlciAqIHBlcmNlbnQgLyAxMDA7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UmFuZCh1aW50MjU2IHVwcGVyX2xpbWl0KSBwcml2YXRlIHJldHVybnMgKHVpbnQyNTYgcmFuZG9tX251bWJlcikKICAgIHsKICAgICAgICByZXR1cm4gdWludChzaGEyNTYodWludDI1NihibG9jay5ibG9ja2hhc2goYmxvY2subnVtYmVyLTEpKSAqIHVpbnQyNTYoc2hhMjU2KG1zZy5zZW5kZXIpKSkpICUgdXBwZXJfbGltaXQ7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdldFJhbmRXaXRoU2VlZCh1aW50MjU2IHVwcGVyX2xpbWl0LCB1aW50IHNlZWQpIHByaXZhdGUgcmV0dXJucyAodWludDI1NiByYW5kb21fbnVtYmVyKQogICAgewogICAgICAgIHJldHVybiBzZWVkICUgdXBwZXJfbGltaXQ7CiAgICB9CgogICAgZnVuY3Rpb24gcmVzZXRXZWVrbHlWYXJzKCkgcHJpdmF0ZSByZXR1cm5zIChib29sIHN1Y2Nlc3MpCiAgICB7ICAgLyogIEFmdGVyIHRoZSB3ZWVrbHkgdmFycyBoYXZlIGJlZW4gYmVlbiByZXNldCwgdGhlIHBsYXllciB0aGF0IGxhc3QKICAgICAgICAgICAgcmVnaXN0ZXJlZCAoaWYgdGhpcyBnZXRzIGNhbGxlZCBmcm9tIHJlZ2lzdGVyVGlja2V0cygpKSB3aWxsIGhhdmUKICAgICAgICAgICAgdG8gaGF2ZSBoaXMgdGlja2V0cyBhZGRlZCB0byBuZXh0IHdlZWsncyBSYWZmbGUgQm93bC4gICAgICAgICAgICAgICAqLwoKICAgICAgICB0b3RhbF9zdXBwbHkgPSBFUkMyMF9DQUxMUy50b3RhbFN1cHBseSgpOwoKICAgICAgICAvKiBDbGVhciBldmVyeXRoaW5nLiAqLwogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IHBhcnRpY2lwYW50cy5sZW5ndGg7IGkrKykKICAgICAgICB7CiAgICAgICAgICAgIGFkZHJlc3NfdG9fdGlja2V0c1twYXJ0aWNpcGFudHNbaV1dID0gMDsKCiAgICAgICAgICAgIC8qIENsZWFyIHRoZSBvcHBvc2l0ZSBvZiB3aGF0ZXZlciBwcmV2X3dlZWtfSUQgaXMgKi8KICAgICAgICAgICAgaWYgKHByZXZfd2Vla19JRCA9PSAwKQogICAgICAgICAgICAgICAgYWRkcmVzc190b190b2tlbnNfcHJldl93ZWVrMVtwYXJ0aWNpcGFudHNbaV1dID0gMDsKICAgICAgICAgICAgaWYgKHByZXZfd2Vla19JRCA9PSAxKQogICAgICAgICAgICAgICAgYWRkcmVzc190b190b2tlbnNfcHJldl93ZWVrMFtwYXJ0aWNpcGFudHNbaV1dID0gMDsKICAgICAgICB9CgogICAgICAgIHNlZWRzLmxlbmd0aCA9IDA7CiAgICAgICAgcmFmZmxlX2Jvd2wubGVuZ3RoID0gMDsKICAgICAgICBwYXJ0aWNpcGFudHMubGVuZ3RoID0gMDsKICAgICAgICB1bmlxdWVfcGxheWVycyA9IDA7CiAgICAgICAgCiAgICAgICAgbGFzdHdlZWtfd2lubmVyMSA9IHdpbm5lcjE7CiAgICAgICAgbGFzdHdlZWtfd2lubmVyMiA9IHdpbm5lcjI7CiAgICAgICAgbGFzdHdlZWtfd2lubmVyMyA9IHdpbm5lcjM7CiAgICAgICAgd2lubmVyMSA9IDB4MDsKICAgICAgICB3aW5uZXIyID0gMHgwOwogICAgICAgIHdpbm5lcjMgPSAweDA7CiAgICAgICAgCiAgICAgICAgcHJldl93ZWVrX0lEKys7CiAgICAgICAgaWYgKHByZXZfd2Vla19JRCA9PSAyKQogICAgICAgICAgICBwcmV2X3dlZWtfSUQgPSAwOwoKICAgICAgICByZXR1cm4gc3VjY2VzczsKICAgIH0KCiAgICBmdW5jdGlvbiByZXNldFJhZmZsZSgpIHByaXZhdGUgcmV0dXJucyAoaW50OCByZXNldFJhZmZsZV9TVEFUVVMpCiAgICB7CiAgICAgICAgLyogIHJlc2V0UmFmZmxlIFNUQVRVUyBDT0RFUzoKCiAgICAgICAgICAgIFstNV0gLSBidXJuVGVuUGVyY2VudCgpIGVycm9yICAgICAgICAgICAgCiAgICAgICAgICAgIFstNF0gLSBSYWZmbGUgc3RpbGwgaGFzIHRva2VucyBhZnRlciBmaWxsQnVybmVyKCkuCiAgICAgICAgICAgIFstM10gLSBmaWxsQnVybmVyKCkgZXJyb3IuCiAgICAgICAgICAgIFstMl0gLSBnZXRXaW5uZXJzKCkgZXJyb3IuCiAgICAgICAgICAgIFstMV0gLSBXZSBoYXZlIG5vIHBhcnRpY2lwYW50cy4KICAgICAgICAgICAgWzAgXSAtIEFMTCBPSy4KICAgICAgICAgICAgWzEgXSAtIE9ubHkgb25lIHBsYXllciwgd2FzIHJlZnVuZGVkLgogICAgICAgICAgICBbMiBdIC0gVHdvIHBsYXllcnMsIHdlcmUgcmVmdW5kZWQuCiAgICAgICAgICAgIFszIF0gLSBUaHJlZSBwbGF5ZXJzLCByZWZ1bmRlZC4gICAgICAgICAgICAqLwoKICAgICAgICB3aGlsZSAobm93ID49IG5leHRfd2Vla190aW1lc3RhbXApCiAgICAgICAgewogICAgICAgICAgICBuZXh0X3dlZWtfdGltZXN0YW1wICs9IG1pbnV0ZXNfaW5fYV93ZWVrICogMSBtaW51dGVzOwogICAgICAgICAgICBjdXJyZW50X3dlZWsrKzsKICAgICAgICB9CgogICAgICAgIGlmIChyYWZmbGVfYm93bC5sZW5ndGggPT0gMCkKICAgICAgICB7ICAgLyogICBXZSBoYXZlIG5vIHJlZ2lzdHJhbnRzLiAgKi8KICAgICAgICAgICAgLyogUmVzZXQgdGhlIHN0YXRzIGFuZCByZXR1cm4gKi8KICAgICAgICAgICAgcmVzZXRXZWVrbHlWYXJzKCk7IAogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfQoKICAgICAgICBpZiAodW5pcXVlX3BsYXllcnMgPCA0KQogICAgICAgIHsgICAvKiBXZSBoYXZlIGJldHdlZW4gMSBhbmQgdGhyZWUgcGxheWVycyBpbiB0aGUgcmFmZmxlICovCiAgICAgICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IHJhZmZsZV9ib3dsLmxlbmd0aDsgaSsrKQogICAgICAgICAgICB7IC8qIFJlZnVuZCB0aGVpciB0b2tlbnMgKi8gCiAgICAgICAgICAgICAgICBpZiAoYWRkcmVzc190b190aWNrZXRzW3JhZmZsZV9ib3dsW2ldXSAhPSAwKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIEVSQzIwX0NBTExTLnRyYW5zZmVyKHJhZmZsZV9ib3dsW2ldLCBhZGRyZXNzX3RvX3RpY2tldHNbcmFmZmxlX2Jvd2xbaV1dICogdGlja2V0X3ByaWNlKTsKICAgICAgICAgICAgICAgICAgICBhZGRyZXNzX3RvX3RpY2tldHNbcmFmZmxlX2Jvd2xbaV1dID0gMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvKiBSZXNldCB2YXJpYWJsZXMuICovCiAgICAgICAgICAgIHJlc2V0V2Vla2x5VmFycygpOwogICAgICAgICAgICAvKiBSZXR1cm4gMSwgMiBvciAzIGRlcGVuZGluZyBvbiBob3cgbWFueSByYWZmbGUgcGxheWVycyB3ZXJlIHJlZnVuZGVkICovCiAgICAgICAgICAgIHJldHVybiBpbnQ4KHVuaXF1ZV9wbGF5ZXJzKTsKICAgICAgICB9CiAgICAgICAgLyogQXQgdGhpcyBwb2ludCB3ZSBhc3N1bWUgdGhhdCB3ZSBoYXZlIG1vcmUgdGhhbiB0aHJlZSB1bmlxdWUgcGxheWVycyAqLwogICAgICAgIGdldFdpbm5lcnMoKTsgLyogQ2hvb3NlIHRocmVlIHdpbm5lcnMgKi8KCiAgICAgICAgLyogRG8gd2UgaGF2ZSB3aW5uZXJzPyAqLwogICAgICAgIGlmICggKHdpbm5lcjEgPT0gMHgwKSB8fCAod2lubmVyMiA9PSAweDApIHx8ICh3aW5uZXIzID09IDB4MCkgKQogICAgICAgICAgICByZXR1cm4gLTI7CgogICAgICAgIC8qIFdlIGhhdmUgdGhyZWUgd2lubmVycyEgUHJvY2VlZCB3aXRoIHJld2FyZHMgKi8KICAgICAgICByYWZmbGVfYmFsYW5jZSA9IEVSQzIwX0NBTExTLmJhbGFuY2VPZihyYWZmbGVfYWRkcik7CgogICAgICAgIC8qIFRyYW5zZmVyIDQwJSwgMjAlIGFuZCAxMCUgb2YgdGhlIHRva2VucyB0byB0aGVpciByZXNwZWN0aXZlIHdpbm5lcnMgKi8gCiAgICAgICAgRVJDMjBfQ0FMTFMudHJhbnNmZXIod2lubmVyMSwgZ2V0UGVyY2VudCg0MCwgcmFmZmxlX2JhbGFuY2UpKTsKICAgICAgICBFUkMyMF9DQUxMUy50cmFuc2Zlcih3aW5uZXIyLCBnZXRQZXJjZW50KDIwLCByYWZmbGVfYmFsYW5jZSkpOwogICAgICAgIEVSQzIwX0NBTExTLnRyYW5zZmVyKHdpbm5lcjMsIGdldFBlcmNlbnQoMTAsIHJhZmZsZV9iYWxhbmNlKSk7CiAgICAgICAgLyogQnVybiAxMCUgKi8KICAgICAgICBpZiAoYnVyblRlblBlcmNlbnQocmFmZmxlX2JhbGFuY2UpICE9IHRydWUpCiAgICAgICAgICAgIHJldHVybiAtNTsKCiAgICAgICAgLyogRmlsbCB0aGUgYnVybmVyIHdpdGggdGhlIHJlc3Qgb2YgdGhlIHRva2Vucy4gKi8KICAgICAgICBpZiAoZmlsbEJ1cm5lcigpID09IC0xKQogICAgICAgICAgICByZXR1cm4gLTM7IC8qIEJ1cm5lciBhZGRyIE5VTEwgfCBlcnJvciAqLyAKCiAgICAgICAgLyogUmVzZXQgdmFyaWFibGVzLiAqLwogICAgICAgIHJlc2V0V2Vla2x5VmFycygpOwoKICAgICAgICBpZiAoRVJDMjBfQ0FMTFMuYmFsYW5jZU9mKHJhZmZsZV9hZGRyKSA+IDApCiAgICAgICAgICAgIHJldHVybiAtNDsgLyogV2Ugc3RpbGwgaGF2ZSBhIHBvc2l0aXZlIGJhbGFuY2UgfCBlcnJvciAqLwoKICAgICAgICByZXR1cm4gMDsgLyogRXZlcnl0aGluZyBPSyAqLwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFdpbm5lcnMoKSBwcml2YXRlIHJldHVybnMgKGludDggZ2V0V2lubmVyc19TVEFUVVMpCiAgICB7CiAgICAgICAgLyogQWNxdWlyZSB0aGUgZmlyc3QgcmFuZG9tIG51bWJlciB1c2luZyBwcmV2aW91cyBibG9ja2hhc2ggYXMgYW4gaW5pdGlhbCBzZWVkLiAqLwogICAgICAgIHVpbnQgaW5pdGlhbF9yYW5kID0gZ2V0UmFuZChzZWVkcy5sZW5ndGgpOwoKICAgICAgICAvKiBVc2UgdGhpcyBmaXJzdCByYW5kb20gbnVtYmVyIHRvIGNob29zZSBvbmUgb2YgdGhlIHNlZWRzIGZyb20gdGhlIGFycmF5LiAqLwogICAgICAgIHVpbnQgZmlyc3R3aW5uZXJfcmFuZCA9IGdldFJhbmRXaXRoU2VlZChzZWVkcy5sZW5ndGgsIHNlZWRzW2luaXRpYWxfcmFuZF0pOwoKICAgICAgICAvKiBUaGlzIG5ldyByYW5kb20gbnVtYmVyIGlzIHVzZWQgdG8gZ3JhYiB0aGUgZmlyc3Qgd2lubmVyJ3MgaW5kZXggZnJvbSByYWZmbGVfYm93bC4gKi8KICAgICAgICB3aW5uZXIxID0gcmFmZmxlX2Jvd2xbZmlyc3R3aW5uZXJfcmFuZF07CgogICAgICAgIC8qIEZpbmQgdGhlIHBvc2l0aW9uIG9mIHdpbm5lcjEgaW4gcGFydGljaXBhbnRzW10gKi8KICAgICAgICBmb3IgKHVpbnQxNiBpID0gMDsgaSA8IHBhcnRpY2lwYW50cy5sZW5ndGg7IGkrKykKICAgICAgICB7CiAgICAgICAgICAgIGlmIChwYXJ0aWNpcGFudHNbaV0gPT0gd2lubmVyMSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdWludDE2IHdpbm5lcjFfaW5kZXggPSBpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8qIFRoZW4gY2hvb3NlIHR3byBtb3JlIHdpbm5lcnMsIGJhc2VkIG9uIHRoZSBpbml0aWFsIHBvc2l0aW9uIG9mIHdpbm5lcjEsIGxvb3Bpbmcgb3ZlciBwYXJ0aWNpcGFudHNbXSBub3cuICovCiAgICAgICAgaWYgKHdpbm5lcjFfaW5kZXgrMSA+PSBwYXJ0aWNpcGFudHMubGVuZ3RoKQogICAgICAgIHsKICAgICAgICAgICAgd2lubmVyMiA9IHBhcnRpY2lwYW50c1swXTsKICAgICAgICAgICAgd2lubmVyMyA9IHBhcnRpY2lwYW50c1sxXTsKCiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KCiAgICAgICAgaWYgKHdpbm5lcjFfaW5kZXgrMiA+PSBwYXJ0aWNpcGFudHMubGVuZ3RoKQogICAgICAgIHsKICAgICAgICAgICAgd2lubmVyMiA9IHBhcnRpY2lwYW50c1t3aW5uZXIxX2luZGV4KzFdOwogICAgICAgICAgICB3aW5uZXIzID0gcGFydGljaXBhbnRzWzBdOwoKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQoKICAgICAgICB3aW5uZXIyID0gcGFydGljaXBhbnRzW3dpbm5lcjFfaW5kZXgrMV07CiAgICAgICAgd2lubmVyMyA9IHBhcnRpY2lwYW50c1t3aW5uZXIxX2luZGV4KzJdOwoKICAgICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBmdW5jdGlvbiBmaWxsQnVybmVyKCkgcHJpdmF0ZSByZXR1cm5zIChpbnQ4IGZpbGxCdXJuZXJfU1RBVFVTKQogICAgewogICAgICAgIC8qIFstMV06IEJ1cm5lciBBZGRyZXNzIE5VTEwKICAgICAgICAqICBbIDBdOiBPSwogICAgICAgICovCiAgICAgICAgaWYgKGJ1cm5lcl9hZGRyID09IDB4MCkKICAgICAgICAgICAgcmV0dXJuIC0xOwoKICAgICAgICBFUkMyMF9DQUxMUy50cmFuc2ZlcihidXJuZXJfYWRkciwgRVJDMjBfQ0FMTFMuYmFsYW5jZU9mKHJhZmZsZV9hZGRyKSk7CiAgICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgZnVuY3Rpb24gZmlsbFdlZWtseUFycmF5cyh1aW50MjU2IG51bWJlcl9vZl90aWNrZXRzLCBhZGRyZXNzIHVzZXJfYWRkcikgcHJpdmF0ZSByZXR1cm5zIChpbnQ4IGZpbGxXZWVrbHlBcnJheXNfU1RBVFVTKQogICAgewogICAgICAgIC8qICBbLTFdIEVycm9yIHdpdGggcHJldl93ZWVrX0lECiAgICAgICAgKiAgIFswXSAgT0sgICAgICAgICAgICAgICAgICAgICAgICAqLwoKICAgICAgICBpZiAoKHByZXZfd2Vla19JRCAhPSAwKSAmJiAocHJldl93ZWVrX0lEICE9IDEpKQogICAgICAgICAgICByZXR1cm4gLTE7CgogICAgICAgIC8qIFJlY29yZCB1bmlxdWUgcGxheWVycy4gKi8KICAgICAgICBpZiAoYWRkcmVzc190b190aWNrZXRzW3VzZXJfYWRkcl0gPT0gMCkKICAgICAgICB7CiAgICAgICAgICAgIHVuaXF1ZV9wbGF5ZXJzKys7CiAgICAgICAgICAgIHBhcnRpY2lwYW50cy5wdXNoKHVzZXJfYWRkcik7CiAgICAgICAgfQoKICAgICAgICBhZGRyZXNzX3RvX3RpY2tldHNbdXNlcl9hZGRyXSArPSBudW1iZXJfb2ZfdGlja2V0czsKICAgICAgICAKICAgICAgICBpZiAocHJldl93ZWVrX0lEID09IDApCiAgICAgICAgICAgIGFkZHJlc3NfdG9fdG9rZW5zX3ByZXZfd2VlazBbdXNlcl9hZGRyXSArPSBudW1iZXJfb2ZfdGlja2V0cyAqIHRpY2tldF9wcmljZTsKICAgICAgICBpZiAocHJldl93ZWVrX0lEID09IDEpCiAgICAgICAgICAgIGFkZHJlc3NfdG9fdG9rZW5zX3ByZXZfd2VlazFbdXNlcl9hZGRyXSArPSBudW1iZXJfb2ZfdGlja2V0cyAqIHRpY2tldF9wcmljZTsKCiAgICAgICAgdWludDI1NiBfdGlja2V0X251bWJlciA9IG51bWJlcl9vZl90aWNrZXRzOwogICAgICAgIHdoaWxlIChfdGlja2V0X251bWJlciA+IDApCiAgICAgICAgewogICAgICAgICAgICByYWZmbGVfYm93bC5wdXNoKHVzZXJfYWRkcik7CiAgICAgICAgICAgIF90aWNrZXRfbnVtYmVyLS07CiAgICAgICAgfQogICAgICAgIC8qIENhcHR1cmUgYSBzZWVkIGZyb20gdGhlIHVzZXIuICovCiAgICAgICAgc2VlZHMucHVzaCh1aW50KHNoYTI1Nih1c2VyX2FkZHIpKSAqIHVpbnQoc2hhMjU2KG5vdykpKTsKCiAgICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgZnVuY3Rpb24gYnVyblRlblBlcmNlbnQodWludDI1NiByYWZmbGVfYmFsYW5jZSkgcHJpdmF0ZSByZXR1cm5zIChib29sIHN1Y2Nlc3Nfc3RhdGUpCiAgICB7CiAgICAgICAgdWludDI1NiBhbW91bnRfdG9fYnVybiA9IGdldFBlcmNlbnQoMTAsIHJhZmZsZV9iYWxhbmNlKTsKICAgICAgICB0b3RhbF9idXJuZWRfYnlfcmFmZmxlICs9IGFtb3VudF90b19idXJuOwogICAgICAgIC8qIEJ1cm4gdGhlIGNvaW5zLCByZXR1cm4gc3VjY2VzcyBzdGF0ZSAqLwogICAgICAgIGlmIChFUkMyMF9DQUxMUy5idXJuKGFtb3VudF90b19idXJuKSA9PSB0cnVlKQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvKiA8PDwtLS0gRGVidWcgT05MWSBmdW5jdGlvbnMgLS0tPj4+ICovCiAgICAvKiA8PDwtLS0gRGVidWcgT05MWSBmdW5jdGlvbnMgLS0tPj4+ICovCiAgICAvKiA8PDwtLS0gRGVidWcgT05MWSBmdW5jdGlvbnMgLS0tPj4+ICovCgogICAgZnVuY3Rpb24gZFNFVF9YQkxfQUREUkVTUyhhZGRyZXNzIF9YQkxDb250cmFjdF9hZGRyKSBwdWJsaWMgb25seU93bmVyCiAgICB7ICAgLyogVGhlc2Ugd2lsbCBiZSBoYXJkY29kZWQgaW4gdGhlIHByb2R1Y3Rpb24gdmVyc2lvbi4gKi8KICAgICAgICBYQkxDb250cmFjdF9hZGRyID0gX1hCTENvbnRyYWN0X2FkZHI7CiAgICAgICAgRVJDMjBfQ0FMTFMgPSBYQkxfRVJDMjBXcmFwcGVyKFhCTENvbnRyYWN0X2FkZHIpOwogICAgICAgIHRvdGFsX3N1cHBseSA9IEVSQzIwX0NBTExTLnRvdGFsU3VwcGx5KCk7CiAgICB9CgogICAgZnVuY3Rpb24gZFRSSUdHRVJfTkVYVFdFRUtfVElNRVNUQU1QKCkgcHVibGljIG9ubHlPd25lcgogICAgeyAgIC8qIFRyaWdnZXIgZW5kIHdlZWsgcXVpY2tlci4gKi8KICAgICAgICBuZXh0X3dlZWtfdGltZXN0YW1wID0gbm93OwogICAgfQoKICAgIGZ1bmN0aW9uIGRLRVJORUxfUEFOSUMoKSBwdWJsaWMgb25seU93bmVyCiAgICB7ICAgLyogT3V0IG9mIEdhcyBwYW5pYyBmdW5jdGlvbi4gKi8KICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCByYWZmbGVfYm93bC5sZW5ndGg7IGkrKykKICAgICAgICB7IC8qIFJlZnVuZCBldmVyeW9uZSdzIHRva2VucyAqLyAKICAgICAgICAgICAgaWYgKGFkZHJlc3NfdG9fdGlja2V0c1tyYWZmbGVfYm93bFtpXV0gIT0gMCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgRVJDMjBfQ0FMTFMudHJhbnNmZXIocmFmZmxlX2Jvd2xbaV0sIGFkZHJlc3NfdG9fdGlja2V0c1tyYWZmbGVfYm93bFtpXV0gKiB0aWNrZXRfcHJpY2UpOwogICAgICAgICAgICAgICAgYWRkcmVzc190b190aWNrZXRzW3JhZmZsZV9ib3dsW2ldXSA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0='.
	

]
