Class {
	#name : #SRTccf09a5a9449b8d39e27f7fcffbb1a30ec29c8db,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTccf09a5a9449b8d39e27f7fcffbb1a30ec29c8db >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7Cgpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCmNvbnRyYWN0IFZlVG9rZW5pemVkQXNzZXRSZWdpc3RyeSBpcyBPd25hYmxlIHsKCiAgICAvLy0tLSBEZWZpbml0aW9ucwoKICAgIHN0cnVjdCBBc3NldCB7CiAgICAgICAgYWRkcmVzcyBhZGRyOwogICAgICAgIHN0cmluZyBtZXRhOwogICAgfQoKICAgIC8vLS0tIFN0b3JhZ2UKCiAgICBtYXBwaW5nIChzdHJpbmcgPT4gQXNzZXQpIGFzc2V0czsKCiAgICAvLy0tLSBDb25zdHJ1Y3RvcgoKICAgIGZ1bmN0aW9uIFZlVG9rZW5pemVkQXNzZXRSZWdpc3RyeSgpCiAgICAgICAgT3duYWJsZQogICAgewogICAgfQoKICAgIC8vLS0tIEV2ZW50cwoKICAgIGV2ZW50IEFzc2V0Q3JlYXRlZCgKICAgICAgICBhZGRyZXNzIGluZGV4ZWQgYWRkcgogICAgKTsKCiAgICBldmVudCBBc3NldFJlZ2lzdGVyZWQoCiAgICAgICAgYWRkcmVzcyBpbmRleGVkIGFkZHIsCiAgICAgICAgc3RyaW5nIHN5bWJvbCwKICAgICAgICBzdHJpbmcgbmFtZSwKICAgICAgICBzdHJpbmcgZGVzY3JpcHRpb24sCiAgICAgICAgdWludDI1NiBkZWNpbWFscwogICAgKTsKCiAgICBldmVudCBNZXRhVXBkYXRlZChzdHJpbmcgc3ltYm9sLCBzdHJpbmcgbWV0YSk7CgogICAgLy8tLS0gUHVibGljIG11dGFibGUgZnVuY3Rpb25zCgogICAgZnVuY3Rpb24gY3JlYXRlKAogICAgICAgIHN0cmluZyBzeW1ib2wsCiAgICAgICAgc3RyaW5nIG5hbWUsCiAgICAgICAgc3RyaW5nIGRlc2NyaXB0aW9uLAogICAgICAgIHVpbnQyNTYgZGVjaW1hbHMsCiAgICAgICAgc3RyaW5nIHNvdXJjZSwKICAgICAgICBzdHJpbmcgcHJvb2YsCiAgICAgICAgdWludDI1NiB0b3RhbFN1cHBseSwKICAgICAgICBzdHJpbmcgbWV0YQogICAgKQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgICAgIHJldHVybnMgKGFkZHJlc3MpCiAgICB7CiAgICAgICAgVmVUb2tlbml6ZWRBc3NldCBhc3NldCA9IG5ldyBWZVRva2VuaXplZEFzc2V0KCk7CiAgICAgICAgYXNzZXQuc2V0dXAoCiAgICAgICAgICAgIHN5bWJvbCwKICAgICAgICAgICAgbmFtZSwKICAgICAgICAgICAgZGVzY3JpcHRpb24sCiAgICAgICAgICAgIGRlY2ltYWxzLAogICAgICAgICAgICBzb3VyY2UsCiAgICAgICAgICAgIHByb29mLAogICAgICAgICAgICB0b3RhbFN1cHBseQogICAgICAgICk7CgogICAgICAgIGFzc2V0LnRyYW5zZmVyT3duZXJzaGlwKG1zZy5zZW5kZXIpOwoKICAgICAgICBBc3NldENyZWF0ZWQoYXNzZXQpOwoKICAgICAgICByZWdpc3RlcigKICAgICAgICAgICAgYXNzZXQsCiAgICAgICAgICAgIHN5bWJvbCwKICAgICAgICAgICAgbmFtZSwKICAgICAgICAgICAgZGVzY3JpcHRpb24sCiAgICAgICAgICAgIGRlY2ltYWxzLAogICAgICAgICAgICBtZXRhCiAgICAgICAgKTsKCiAgICAgICAgcmV0dXJuIGFzc2V0OwogICAgfQoKICAgIGZ1bmN0aW9uIHJlZ2lzdGVyKAogICAgICAgIGFkZHJlc3MgYWRkciwKICAgICAgICBzdHJpbmcgc3ltYm9sLAogICAgICAgIHN0cmluZyBuYW1lLAogICAgICAgIHN0cmluZyBkZXNjcmlwdGlvbiwKICAgICAgICB1aW50MjU2IGRlY2ltYWxzLAogICAgICAgIHN0cmluZyBtZXRhCiAgICApCiAgICAgICAgcHVibGljCiAgICAgICAgb25seU93bmVyCiAgICB7CiAgICAgICAgYXNzZXRzW3N5bWJvbF0uYWRkciA9IGFkZHI7CgogICAgICAgIEFzc2V0UmVnaXN0ZXJlZCgKICAgICAgICAgICAgYWRkciwKICAgICAgICAgICAgc3ltYm9sLAogICAgICAgICAgICBuYW1lLAogICAgICAgICAgICBkZXNjcmlwdGlvbiwKICAgICAgICAgICAgZGVjaW1hbHMKICAgICAgICApOwoKICAgICAgICB1cGRhdGVNZXRhKHN5bWJvbCwgbWV0YSk7CiAgICB9CgogICAgZnVuY3Rpb24gdXBkYXRlTWV0YShzdHJpbmcgc3ltYm9sLCBzdHJpbmcgbWV0YSkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgYXNzZXRzW3N5bWJvbF0ubWV0YSA9IG1ldGE7CgogICAgICAgIE1ldGFVcGRhdGVkKHN5bWJvbCwgbWV0YSk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0QXNzZXQoc3RyaW5nIHN5bWJvbCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MgYWRkciwgc3RyaW5nIG1ldGEpIHsKICAgICAgICBBc3NldCBzdG9yYWdlIGFzc2V0ID0gYXNzZXRzW3N5bWJvbF07CiAgICAgICAgYWRkciA9IGFzc2V0LmFkZHI7CiAgICAgICAgbWV0YSA9IGFzc2V0Lm1ldGE7CiAgICB9Cn0KCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9Cgpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIC8qKgogICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoKICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9Cgp9Cgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCiAgICB1aW50MjU2IF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgIC8vIHJlcXVpcmUgKF92YWx1ZSA8PSBfYWxsb3dhbmNlKTsKCiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQXBwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqCiAgICogQmV3YXJlIHRoYXQgY2hhbmdpbmcgYW4gYWxsb3dhbmNlIHdpdGggdGhpcyBtZXRob2QgYnJpbmdzIHRoZSByaXNrIHRoYXQgc29tZW9uZSBtYXkgdXNlIGJvdGggdGhlIG9sZAogICAqIGFuZCB0aGUgbmV3IGFsbG93YW5jZSBieSB1bmZvcnR1bmF0ZSB0cmFuc2FjdGlvbiBvcmRlcmluZy4gT25lIHBvc3NpYmxlIHNvbHV0aW9uIHRvIG1pdGlnYXRlIHRoaXMKICAgKiByYWNlIGNvbmRpdGlvbiBpcyB0byBmaXJzdCByZWR1Y2UgdGhlIHNwZW5kZXIncyBhbGxvd2FuY2UgdG8gMCBhbmQgc2V0IHRoZSBkZXNpcmVkIHZhbHVlIGFmdGVyd2FyZHM6CiAgICogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCiAgLyoqCiAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gaW5jcmVtZW50CiAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgKi8KICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfSBlbHNlIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKfQoKY29udHJhY3QgVmVUb2tlbml6ZWRBc3NldCBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKCiAgICAvLy0tLSBEZWZpbml0aW9ucwoKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIC8vLS0tIFN0b3JhZ2UKCiAgICBib29sIHB1YmxpYyBjb25maWd1cmVkOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CiAgICBzdHJpbmcgcHVibGljIG5hbWU7CiAgICBzdHJpbmcgcHVibGljIGRlc2NyaXB0aW9uOwogICAgdWludDI1NiBwdWJsaWMgZGVjaW1hbHM7CiAgICBzdHJpbmcgcHVibGljIHNvdXJjZTsKICAgIHN0cmluZyBwdWJsaWMgcHJvb2Y7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICAvLy0tLSBDb25zdHJ1Y3Rpb24KCiAgICBmdW5jdGlvbiBWZVRva2VuaXplZEFzc2V0KCkgewogICAgICAgIC8vIGFzc2V0IHNob3VsZCBiZSBwYXJhbWV0cml6ZWQgdXNpbmcgYHNldHVwKClgIGZ1bmN0aW9uCiAgICB9CgogICAgLy8tLS0gRXZlbnRzCgogICAgZXZlbnQgU291cmNlQ2hhbmdlZChzdHJpbmcgbmV3U291cmNlLCBzdHJpbmcgbmV3UHJvb2YsIHVpbnQyNTYgbmV3VG90YWxTdXBwbHkpOwogICAgZXZlbnQgU3VwcGx5Q2hhbmdlZCh1aW50MjU2IG5ld1RvdGFsU3VwcGx5KTsKCiAgICAvLy0tLSBQdWJsaWMgbXV0YWJsZSBmdW5jdGlvbnMKCiAgICBmdW5jdGlvbiBzZXR1cCgKICAgICAgICBzdHJpbmcgX3N5bWJvbCwKICAgICAgICBzdHJpbmcgX25hbWUsCiAgICAgICAgc3RyaW5nIF9kZXNjcmlwdGlvbiwKICAgICAgICB1aW50MjU2IF9kZWNpbWFscywKICAgICAgICBzdHJpbmcgX3NvdXJjZSwKICAgICAgICBzdHJpbmcgX3Byb29mLAogICAgICAgIHVpbnQyNTYgX3RvdGFsU3VwcGx5CiAgICApCiAgICAgICAgcHVibGljCiAgICAgICAgb25seU93bmVyCiAgICB7CiAgICAgICAgcmVxdWlyZSghY29uZmlndXJlZCk7CiAgICAgICAgcmVxdWlyZShieXRlcyhfc3ltYm9sKS5sZW5ndGggPiAwKTsKICAgICAgICByZXF1aXJlKGJ5dGVzKF9uYW1lKS5sZW5ndGggPiAwKTsKICAgICAgICByZXF1aXJlKF9kZWNpbWFscyA+IDAgJiYgX2RlY2ltYWxzIDw9IDMyKTsKCiAgICAgICAgc3ltYm9sID0gX3N5bWJvbDsKICAgICAgICBuYW1lID0gX25hbWU7CiAgICAgICAgZGVzY3JpcHRpb24gPSBfZGVzY3JpcHRpb247CiAgICAgICAgZGVjaW1hbHMgPSBfZGVjaW1hbHM7CiAgICAgICAgc291cmNlID0gX3NvdXJjZTsKICAgICAgICBwcm9vZiA9IF9wcm9vZjsKICAgICAgICB0b3RhbFN1cHBseSA9IF90b3RhbFN1cHBseTsKICAgICAgICBjb25maWd1cmVkID0gdHJ1ZTsKCiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gX3RvdGFsU3VwcGx5OwoKICAgICAgICBTb3VyY2VDaGFuZ2VkKF9zb3VyY2UsIF9wcm9vZiwgX3RvdGFsU3VwcGx5KTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VTb3VyY2Uoc3RyaW5nIG5ld1NvdXJjZSwgc3RyaW5nIG5ld1Byb29mLCB1aW50MjU2IG5ld1RvdGFsU3VwcGx5KSBvbmx5T3duZXIgewogICAgICAgIHVpbnQyNTYgcHJldkJhbGFuY2UgPSBiYWxhbmNlc1tvd25lcl07CgogICAgICAgIGlmIChuZXdUb3RhbFN1cHBseSA8IHRvdGFsU3VwcGx5KSB7CiAgICAgICAgICAgIHVpbnQyNTYgZGVjcmVhc2UgPSB0b3RhbFN1cHBseS5zdWIobmV3VG90YWxTdXBwbHkpOwogICAgICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSBwcmV2QmFsYW5jZS5zdWIoZGVjcmVhc2UpOyAvLyB0aHJvd3Mgd2hlbiBiYWxhbmNlIGlzIGluc3VmZmljaWVudAogICAgICAgIH0gZWxzZSBpZiAobmV3VG90YWxTdXBwbHkgPiB0b3RhbFN1cHBseSkgewogICAgICAgICAgICB1aW50MjU2IGluY3JlYXNlID0gbmV3VG90YWxTdXBwbHkuc3ViKHRvdGFsU3VwcGx5KTsKICAgICAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gcHJldkJhbGFuY2UuYWRkKGluY3JlYXNlKTsKICAgICAgICB9CgogICAgICAgIHNvdXJjZSA9IG5ld1NvdXJjZTsKICAgICAgICBwcm9vZiA9IG5ld1Byb29mOwogICAgICAgIHRvdGFsU3VwcGx5ID0gbmV3VG90YWxTdXBwbHk7CgogICAgICAgIFNvdXJjZUNoYW5nZWQobmV3U291cmNlLCBuZXdQcm9vZiwgbmV3VG90YWxTdXBwbHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbnQodWludDI1NiBhbW91bnQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoYW1vdW50ID4gMCk7CgogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKGFtb3VudCk7CiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gYmFsYW5jZXNbb3duZXJdLmFkZChhbW91bnQpOwoKICAgICAgICBTdXBwbHlDaGFuZ2VkKHRvdGFsU3VwcGx5KTsKICAgIH0KCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgYW1vdW50KSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKGFtb3VudCA+IDApOwogICAgICAgIHJlcXVpcmUoYW1vdW50IDw9IGJhbGFuY2VzW293bmVyXSk7CgogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKGFtb3VudCk7CiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gYmFsYW5jZXNbb3duZXJdLnN1YihhbW91bnQpOyAvLyB0aHJvd3Mgd2hlbiBiYWxhbmNlIGlzIGluc3VmZmljaWVudAoKICAgICAgICBTdXBwbHlDaGFuZ2VkKHRvdGFsU3VwcGx5KTsKICAgIH0KfQ=='.
	

]
