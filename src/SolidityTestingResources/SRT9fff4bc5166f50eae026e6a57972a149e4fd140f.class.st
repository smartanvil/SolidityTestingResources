Class {
	#name : #SRT9fff4bc5166f50eae026e6a57972a149e4fd140f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9fff4bc5166f50eae026e6a57972a149e4fd140f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuNDsKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBUb2tlblNlbGxlckZhY3RvcnkKLy8KLy8gRGVjZW50cmFsaXNlZCB0cnVzdGxlc3MgRVJDMjAtcGFydGlhbGx5LWNvbXBsaWFudCB0b2tlbiB0byBFVEggZXhjaGFuZ2UKLy8gY29udHJhY3Qgb24gdGhlIEV0aGVyZXVtIGJsb2NrY2hhaW4uCi8vCi8vIFRoaXMgY2F0ZXJzIGZvciB0aGUgR29sZW0gTmV0d29yayBUb2tlbiB3aGljaCBkb2VzIG5vdCBpbXBsZW1lbnQgdGhlCi8vIEVSQzIwIHRyYW5zZmVyRnJvbSguLi4pLCBhcHByb3ZlKC4uLikgYW5kIGFsbG93YW5jZSguLi4pIG1ldGhvZHMKLy8KLy8gSGlzdG9yeToKLy8gICBKYW4gMjUgMjAxNyAtIEJQQiBBZGRlZCBtYWtlclRyYW5zZmVyQXNzZXQoLi4uKQovLyAgIEZlYiAwNSAyMDE3IC0gQlBCIEJ1ZyBmaXggaW4gdGhlIGNoYW5nZSBjYWxjdWxhdGlvbiBmb3IgdGhlIFVuaWNvcm4KLy8gICAgICAgICAgICAgICAgICAgICB0b2tlbiB3aXRoIG5hdHVyYWwgbnVtYmVyIDEKLy8KLy8gRW5qb3kuIChjKSBKb25ueUxhdHRlLCBDaW50aXggJiBCb2treVBvb0JhaCAyMDE3LiBUaGUgTUlUIGxpY2VuY2UuCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCmNvbnRyYWN0IEVSQzIwUGFydGlhbCB7CiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgdG90YWxTdXBwbHkpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgLy8gZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIC8vIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICAvLyBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludCBfdmFsdWUpOwogICAgLy8gZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50IF92YWx1ZSk7Cn0KCmNvbnRyYWN0IE93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvKTsKCiAgICBmdW5jdGlvbiBPd25lZCgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgbW9kaWZpZXIgb25seU93bmVyIHsKICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgdGhyb3c7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KfQoKLy8gY29udHJhY3QgY2FuIHNlbGwgdG9rZW5zIGZvciBFVEgKLy8gcHJpY2VzIGFyZSBpbiBhbW91bnQgb2Ygd2VpIHBlciBiYXRjaCBvZiB0b2tlbiB1bml0cwoKY29udHJhY3QgVG9rZW5TZWxsZXIgaXMgT3duZWQgewoKICAgIGFkZHJlc3MgcHVibGljIGFzc2V0OyAgICAgICAvLyBhZGRyZXNzIG9mIHRva2VuCiAgICB1aW50MjU2IHB1YmxpYyBzZWxsUHJpY2U7ICAgLy8gY29udHJhY3Qgc2VsbHMgbG90cyBvZiB0b2tlbnMgYXQgdGhpcyBwcmljZQogICAgdWludDI1NiBwdWJsaWMgdW5pdHM7ICAgICAgIC8vIGxvdCBzaXplICh0b2tlbi13ZWkpCgogICAgYm9vbCBwdWJsaWMgc2VsbHNUb2tlbnM7ICAgIC8vIGlzIGNvbnRyYWN0IHNlbGxpbmcKCiAgICBldmVudCBBY3RpdmF0ZWRFdmVudChib29sIHNlbGxzKTsKICAgIGV2ZW50IE1ha2VyV2l0aGRyZXdBc3NldCh1aW50MjU2IHRva2Vucyk7CiAgICBldmVudCBNYWtlclRyYW5zZmVycmVkQXNzZXQoYWRkcmVzcyB0b1Rva2VuU2VsbGVyLCB1aW50MjU2IHRva2Vucyk7CiAgICBldmVudCBNYWtlcldpdGhkcmV3RVJDMjBUb2tlbihhZGRyZXNzIHRva2VuQWRkcmVzcywgdWludDI1NiB0b2tlbnMpOwogICAgZXZlbnQgTWFrZXJXaXRoZHJld0V0aGVyKHVpbnQyNTYgZXRoZXJzKTsKICAgIGV2ZW50IFRha2VyQm91Z2h0QXNzZXQoYWRkcmVzcyBpbmRleGVkIGJ1eWVyLCB1aW50MjU2IGV0aGVyc1NlbnQsCiAgICAgICAgdWludDI1NiBldGhlcnNSZXR1cm5lZCwgdWludDI1NiB0b2tlbnNCb3VnaHQpOwoKICAgIC8vIENvbnN0cnVjdG9yIC0gb25seSB0byBiZSBjYWxsZWQgYnkgdGhlIFRva2VuU2VsbGVyRmFjdG9yeSBjb250cmFjdAogICAgZnVuY3Rpb24gVG9rZW5TZWxsZXIgKAogICAgICAgIGFkZHJlc3MgX2Fzc2V0LAogICAgICAgIHVpbnQyNTYgX3NlbGxQcmljZSwKICAgICAgICB1aW50MjU2IF91bml0cywKICAgICAgICBib29sICAgIF9zZWxsc1Rva2VucwogICAgKSB7CiAgICAgICAgYXNzZXQgICAgICAgPSBfYXNzZXQ7CiAgICAgICAgc2VsbFByaWNlICAgPSBfc2VsbFByaWNlOwogICAgICAgIHVuaXRzICAgICAgID0gX3VuaXRzOwogICAgICAgIHNlbGxzVG9rZW5zID0gX3NlbGxzVG9rZW5zOwogICAgICAgIEFjdGl2YXRlZEV2ZW50KHNlbGxzVG9rZW5zKTsKICAgIH0KCiAgICAvLyBNYWtlciBjYW4gYWN0aXZhdGUgb3IgZGVhY3RpdmF0ZSB0aGlzIGNvbnRyYWN0J3MKICAgIC8vIHNlbGxpbmcgc3RhdHVzCiAgICAvLwogICAgLy8gVGhlIEFjdGl2YXRlZEV2ZW50KCkgZXZlbnQgaXMgbG9nZ2VkIHdpdGggdGhlIGZvbGxvd2luZwogICAgLy8gcGFyYW1ldGVyOgogICAgLy8gICBzZWxsc1Rva2VucyAgdGhpcyBjb250cmFjdCBjYW4gc2VsbCBhc3NldCB0b2tlbnMKICAgIGZ1bmN0aW9uIGFjdGl2YXRlICgKICAgICAgICBib29sIF9zZWxsc1Rva2VucwogICAgKSBvbmx5T3duZXIgewogICAgICAgIHNlbGxzVG9rZW5zID0gX3NlbGxzVG9rZW5zOwogICAgICAgIEFjdGl2YXRlZEV2ZW50KHNlbGxzVG9rZW5zKTsKICAgIH0KCiAgICAvLyBNYWtlciBjYW4gd2l0aGRyYXcgYXNzZXQgdG9rZW5zIGZyb20gdGhpcyBjb250cmFjdCwgd2l0aCB0aGUKICAgIC8vIGZvbGxvd2luZyBwYXJhbWV0ZXI6CiAgICAvLyAgIHRva2VucyAgaXMgdGhlIG51bWJlciBvZiBhc3NldCB0b2tlbnMgdG8gYmUgd2l0aGRyYXduCiAgICAvLwogICAgLy8gVGhlIE1ha2VyV2l0aGRyZXdBc3NldCgpIGV2ZW50IGlzIGxvZ2dlZCB3aXRoIHRoZSBmb2xsb3dpbmcKICAgIC8vIHBhcmFtZXRlcjoKICAgIC8vICAgdG9rZW5zICBpcyB0aGUgbnVtYmVyIG9mIHRva2VucyB3aXRoZHJhd24gYnkgdGhlIG1ha2VyCiAgICAvLwogICAgLy8gVGhpcyBtZXRob2Qgd2FzIGNhbGxlZCB3aXRoZHJhd0Fzc2V0KCkgaW4gdGhlIG9sZCB2ZXJzaW9uCiAgICBmdW5jdGlvbiBtYWtlcldpdGhkcmF3QXNzZXQodWludDI1NiB0b2tlbnMpIG9ubHlPd25lciByZXR1cm5zIChib29sIG9rKSB7CiAgICAgICAgTWFrZXJXaXRoZHJld0Fzc2V0KHRva2Vucyk7CiAgICAgICAgcmV0dXJuIEVSQzIwUGFydGlhbChhc3NldCkudHJhbnNmZXIob3duZXIsIHRva2Vucyk7CiAgICB9CgogICAgLy8gTWFrZXIgY2FuIHRyYW5zZmVyIGFzc2V0IHRva2VucyBmcm9tIHRoaXMgY29udHJhY3QgdG8gYW5vdGhlcgogICAgLy8gVG9rZW5TZWxsZXIgY29udHJhY3QsIHdpdGggdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXI6CiAgICAvLyAgIHRvVG9rZW5TZWxsZXIgIEFub3RoZXIgVG9rZW5TZWxsZXIgY29udHJhY3Qgb3duZWQgYnkgdGhlCiAgICAvLyAgICAgICAgICAgICAgICAgIHNhbWUgb3duZXIKICAgIC8vICAgdG9rZW5zICAgICAgICAgaXMgdGhlIG51bWJlciBvZiBhc3NldCB0b2tlbnMgdG8gYmUgbW92ZWQKICAgIC8vCiAgICAvLyBUaGUgTWFrZXJUcmFuc2ZlcnJlZEFzc2V0KCkgZXZlbnQgaXMgbG9nZ2VkIHdpdGggdGhlIGZvbGxvd2luZwogICAgLy8gcGFyYW1ldGVyczoKICAgIC8vICAgdG9Ub2tlblNlbGxlciAgVGhlIG90aGVyIFRva2VuU2VsbGVyIGNvbnRyYWN0IG93bmVkIGJ5CiAgICAvLyAgICAgICAgICAgICAgICAgIHRoZSBzYW1lIG93bmVyCiAgICAvLyAgIHRva2VucyAgICAgICAgIGlzIHRoZSBudW1iZXIgb2YgdG9rZW5zIHRyYW5zZmVycmVkCiAgICAvLwogICAgLy8gVGhlIGFzc2V0IFRyYW5zZmVyKCkgZXZlbnQgaXMgbG9nZ2VkIGZyb20gdGhpcyBjb250cmFjdCB0bwogICAgLy8gdGhlIG90aGVyIGNvbnRyYWN0CiAgICAvLwogICAgZnVuY3Rpb24gbWFrZXJUcmFuc2ZlckFzc2V0KAogICAgICAgIFRva2VuU2VsbGVyIHRvVG9rZW5TZWxsZXIsCiAgICAgICAgdWludDI1NiB0b2tlbnMKICAgICkgb25seU93bmVyIHJldHVybnMgKGJvb2wgb2spIHsKICAgICAgICBpZiAob3duZXIgIT0gdG9Ub2tlblNlbGxlci5vd25lcigpIHx8IGFzc2V0ICE9IHRvVG9rZW5TZWxsZXIuYXNzZXQoKSkgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgTWFrZXJUcmFuc2ZlcnJlZEFzc2V0KHRvVG9rZW5TZWxsZXIsIHRva2Vucyk7CiAgICAgICAgcmV0dXJuIEVSQzIwUGFydGlhbChhc3NldCkudHJhbnNmZXIodG9Ub2tlblNlbGxlciwgdG9rZW5zKTsKICAgIH0KCiAgICAvLyBNYWtlciBjYW4gd2l0aGRyYXcgYW55IEVSQzIwIGFzc2V0IHRva2VucyBmcm9tIHRoaXMgY29udHJhY3QKICAgIC8vCiAgICAvLyBUaGlzIG1ldGhvZCBpcyBpbmNsdWRlZCBpbiB0aGUgY2FzZSB3aGVyZSB0aGlzIGNvbnRyYWN0IHJlY2VpdmVzCiAgICAvLyB0aGUgd3JvbmcgdG9rZW5zCiAgICAvLwogICAgLy8gVGhlIE1ha2VyV2l0aGRyZXdFUkMyMFRva2VuKCkgZXZlbnQgaXMgbG9nZ2VkIHdpdGggdGhlIGZvbGxvd2luZwogICAgLy8gcGFyYW1ldGVyOgogICAgLy8gICB0b2tlbkFkZHJlc3MgIGlzIHRoZSBhZGRyZXNzIG9mIHRoZSB0b2tlbnMgd2l0aGRyYXduIGJ5IHRoZSBtYWtlcgogICAgLy8gICB0b2tlbnMgICAgICAgIGlzIHRoZSBudW1iZXIgb2YgdG9rZW5zIHdpdGhkcmF3biBieSB0aGUgbWFrZXIKICAgIC8vCiAgICAvLyBUaGlzIG1ldGhvZCB3YXMgY2FsbGVkIHdpdGhkcmF3VG9rZW4oKSBpbiB0aGUgb2xkIHZlcnNpb24KICAgIGZ1bmN0aW9uIG1ha2VyV2l0aGRyYXdFUkMyMFRva2VuKAogICAgICAgIGFkZHJlc3MgdG9rZW5BZGRyZXNzLAogICAgICAgIHVpbnQyNTYgdG9rZW5zCiAgICApIG9ubHlPd25lciByZXR1cm5zIChib29sIG9rKSB7CiAgICAgICAgTWFrZXJXaXRoZHJld0VSQzIwVG9rZW4odG9rZW5BZGRyZXNzLCB0b2tlbnMpOwogICAgICAgIHJldHVybiBFUkMyMFBhcnRpYWwodG9rZW5BZGRyZXNzKS50cmFuc2Zlcihvd25lciwgdG9rZW5zKTsKICAgIH0KCiAgICAvLyBNYWtlciB3aXRoZHJhd3MgZXRoZXJzIGZyb20gdGhpcyBjb250cmFjdAogICAgLy8KICAgIC8vIFRoZSBNYWtlcldpdGhkcmV3RXRoZXIoKSBldmVudCBpcyBsb2dnZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcgogICAgLy8gICBldGhlcnMgIGlzIHRoZSBudW1iZXIgb2YgZXRoZXJzIHdpdGhkcmF3biBieSB0aGUgbWFrZXIKICAgIC8vCiAgICAvLyBUaGlzIG1ldGhvZCB3YXMgY2FsbGVkIHdpdGhkcmF3KCkgaW4gdGhlIG9sZCB2ZXJzaW9uCiAgICBmdW5jdGlvbiBtYWtlcldpdGhkcmF3RXRoZXIodWludDI1NiBldGhlcnMpIG9ubHlPd25lciByZXR1cm5zIChib29sIG9rKSB7CiAgICAgICAgaWYgKHRoaXMuYmFsYW5jZSA+PSBldGhlcnMpIHsKICAgICAgICAgICAgTWFrZXJXaXRoZHJld0V0aGVyKGV0aGVycyk7CiAgICAgICAgICAgIHJldHVybiBvd25lci5zZW5kKGV0aGVycyk7CiAgICAgICAgfQogICAgfQoKICAgIC8vIFRha2VyIGJ1eXMgYXNzZXQgdG9rZW5zIGJ5IHNlbmRpbmcgZXRoZXJzCiAgICAvLwogICAgLy8gVGhlIFRha2VyQm91Z2h0QXNzZXQoKSBldmVudCBpcyBsb2dnZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnMKICAgIC8vICAgYnV5ZXIgICAgICAgICAgIGlzIHRoZSBidXllcidzIGFkZHJlc3MKICAgIC8vICAgZXRoZXJzU2VudCAgICAgIGlzIHRoZSBudW1iZXIgb2YgZXRoZXJzIHNlbnQgYnkgdGhlIGJ1eWVyCiAgICAvLyAgIGV0aGVyc1JldHVybmVkICBpcyB0aGUgbnVtYmVyIG9mIGV0aGVycyBzZW50IGJhY2sgdG8gdGhlIGJ1eWVyIGFzCiAgICAvLyAgICAgICAgICAgICAgICAgICBjaGFuZ2UKICAgIC8vICAgdG9rZW5zQm91Z2h0ICAgIGlzIHRoZSBudW1iZXIgb2YgYXNzZXQgdG9rZW5zIHNlbnQgdG8gdGhlIGJ1eWVyCiAgICAvLwogICAgLy8gVGhpcyBtZXRob2Qgd2FzIGNhbGxlZCBidXkoKSBpbiB0aGUgb2xkIHZlcnNpb24KICAgIGZ1bmN0aW9uIHRha2VyQnV5QXNzZXQoKSBwYXlhYmxlIHsKICAgICAgICBpZiAoc2VsbHNUb2tlbnMgfHwgbXNnLnNlbmRlciA9PSBvd25lcikgewogICAgICAgICAgICAvLyBOb3RlIHRoYXQgc2VsbFByaWNlIGhhcyBhbHJlYWR5IGJlZW4gdmFsaWRhdGVkIGFzID4gMAogICAgICAgICAgICB1aW50IG9yZGVyICAgID0gbXNnLnZhbHVlIC8gc2VsbFByaWNlOwogICAgICAgICAgICAvLyBOb3RlIHRoYXQgdW5pdHMgaGFzIGFscmVhZHkgYmVlbiB2YWxpZGF0ZWQgYXMgPiAwCiAgICAgICAgICAgIHVpbnQgY2FuX3NlbGwgPSBFUkMyMFBhcnRpYWwoYXNzZXQpLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKSAvIHVuaXRzOwogICAgICAgICAgICB1aW50MjU2IGNoYW5nZSA9IDA7CiAgICAgICAgICAgIGlmIChtc2cudmFsdWUgPiAoY2FuX3NlbGwgKiBzZWxsUHJpY2UpKSB7CiAgICAgICAgICAgICAgICBjaGFuZ2UgID0gbXNnLnZhbHVlIC0gKGNhbl9zZWxsICogc2VsbFByaWNlKTsKICAgICAgICAgICAgICAgIG9yZGVyID0gY2FuX3NlbGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGNoYW5nZSA+IDApIHsKICAgICAgICAgICAgICAgIGlmICghbXNnLnNlbmRlci5zZW5kKGNoYW5nZSkpIHRocm93OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChvcmRlciA+IDApIHsKICAgICAgICAgICAgICAgIGlmICghRVJDMjBQYXJ0aWFsKGFzc2V0KS50cmFuc2Zlcihtc2cuc2VuZGVyLCBvcmRlciAqIHVuaXRzKSkgdGhyb3c7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgVGFrZXJCb3VnaHRBc3NldChtc2cuc2VuZGVyLCBtc2cudmFsdWUsIGNoYW5nZSwgb3JkZXIgKiB1bml0cyk7CiAgICAgICAgfQogICAgICAgIC8vIFJldHVybiB1c2VyIGZ1bmRzIGlmIHRoZSBjb250cmFjdCBpcyBub3Qgc2VsbGluZwogICAgICAgIGVsc2UgaWYgKCFtc2cuc2VuZGVyLnNlbmQobXNnLnZhbHVlKSkgdGhyb3c7CiAgICB9CgogICAgLy8gVGFrZXIgYnV5cyB0b2tlbnMgYnkgc2VuZGluZyBldGhlcnMKICAgIGZ1bmN0aW9uICgpIHBheWFibGUgewogICAgICAgIHRha2VyQnV5QXNzZXQoKTsKICAgIH0KfQoKLy8gVGhpcyBjb250cmFjdCBkZXBsb3lzIFRva2VuU2VsbGVyIGNvbnRyYWN0cyBhbmQgbG9ncyB0aGUgZXZlbnQKY29udHJhY3QgVG9rZW5TZWxsZXJGYWN0b3J5IGlzIE93bmVkIHsKCiAgICBldmVudCBUcmFkZUxpc3RpbmcoYWRkcmVzcyBpbmRleGVkIG93bmVyQWRkcmVzcywgYWRkcmVzcyBpbmRleGVkIHRva2VuU2VsbGVyQWRkcmVzcywKICAgICAgICBhZGRyZXNzIGluZGV4ZWQgYXNzZXQsIHVpbnQyNTYgc2VsbFByaWNlLCB1aW50MjU2IHVuaXRzLCBib29sIHNlbGxzVG9rZW5zKTsKICAgIGV2ZW50IE93bmVyV2l0aGRyZXdFUkMyMFRva2VuKGFkZHJlc3MgaW5kZXhlZCB0b2tlbkFkZHJlc3MsIHVpbnQyNTYgdG9rZW5zKTsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgX3ZlcmlmeTsKCiAgICAvLyBBbnlvbmUgY2FuIGNhbGwgdGhpcyBtZXRob2QgdG8gdmVyaWZ5IHRoZSBzZXR0aW5ncyBvZiBhCiAgICAvLyBUb2tlblNlbGxlciBjb250cmFjdC4gVGhlIHBhcmFtZXRlcnMgYXJlOgogICAgLy8gICB0cmFkZUNvbnRyYWN0ICBpcyB0aGUgYWRkcmVzcyBvZiBhIFRva2VuU2VsbGVyIGNvbnRyYWN0CiAgICAvLwogICAgLy8gUmV0dXJuIHZhbHVlczoKICAgIC8vICAgdmFsaWQgICAgICAgIGRpZCB0aGlzIFRva2VuVHJhZGVyRmFjdG9yeSBjcmVhdGUgdGhlIFRva2VuVHJhZGVyIGNvbnRyYWN0PwogICAgLy8gICBvd25lciAgICAgICAgaXMgdGhlIG93bmVyIG9mIHRoZSBUb2tlblRyYWRlciBjb250cmFjdAogICAgLy8gICBhc3NldCAgICAgICAgaXMgdGhlIEVSQzIwIGFzc2V0IGFkZHJlc3MKICAgIC8vICAgc2VsbFByaWNlICAgIGlzIHRoZSBzZWxsIHByaWNlIGluIGV0aGVycyBwZXIgYHVuaXRzYCBvZiBhc3NldCB0b2tlbnMKICAgIC8vICAgdW5pdHMgICAgICAgIGlzIHRoZSBudW1iZXIgb2YgdW5pdHMgb2YgYXNzZXQgdG9rZW5zCiAgICAvLyAgIHNlbGxzVG9rZW5zICBpcyB0aGUgVG9rZW5UcmFkZXIgY29udHJhY3Qgc2VsbGluZyB0b2tlbnM/CiAgICAvLwogICAgZnVuY3Rpb24gdmVyaWZ5KGFkZHJlc3MgdHJhZGVDb250cmFjdCkgY29uc3RhbnQgcmV0dXJucyAoCiAgICAgICAgYm9vbCAgICB2YWxpZCwKICAgICAgICBhZGRyZXNzIG93bmVyLAogICAgICAgIGFkZHJlc3MgYXNzZXQsCiAgICAgICAgdWludDI1NiBzZWxsUHJpY2UsCiAgICAgICAgdWludDI1NiB1bml0cywKICAgICAgICBib29sICAgIHNlbGxzVG9rZW5zCiAgICApIHsKICAgICAgICB2YWxpZCA9IF92ZXJpZnlbdHJhZGVDb250cmFjdF07CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgIFRva2VuU2VsbGVyIHQgPSBUb2tlblNlbGxlcih0cmFkZUNvbnRyYWN0KTsKICAgICAgICAgICAgb3duZXIgICAgICAgICA9IHQub3duZXIoKTsKICAgICAgICAgICAgYXNzZXQgICAgICAgICA9IHQuYXNzZXQoKTsKICAgICAgICAgICAgc2VsbFByaWNlICAgICA9IHQuc2VsbFByaWNlKCk7CiAgICAgICAgICAgIHVuaXRzICAgICAgICAgPSB0LnVuaXRzKCk7CiAgICAgICAgICAgIHNlbGxzVG9rZW5zICAgPSB0LnNlbGxzVG9rZW5zKCk7CiAgICAgICAgfQogICAgfQoKICAgIC8vIE1ha2VyIGNhbiBjYWxsIHRoaXMgbWV0aG9kIHRvIGNyZWF0ZSBhIG5ldyBUb2tlblNlbGxlciBjb250cmFjdAogICAgLy8gd2l0aCB0aGUgbWFrZXIgYmVpbmcgdGhlIG93bmVyIG9mIHRoaXMgbmV3IGNvbnRyYWN0CiAgICAvLwogICAgLy8gUGFyYW1ldGVyczoKICAgIC8vICAgYXNzZXQgICAgICAgIGlzIHRoZSBFUkMyMCBhc3NldCBhZGRyZXNzCiAgICAvLyAgIHNlbGxQcmljZSAgICBpcyB0aGUgc2VsbCBwcmljZSBpbiBldGhlcnMgcGVyIGB1bml0c2Agb2YgYXNzZXQgdG9rZW5zCiAgICAvLyAgIHVuaXRzICAgICAgICBpcyB0aGUgbnVtYmVyIG9mIHVuaXRzIG9mIGFzc2V0IHRva2VucwogICAgLy8gICBzZWxsc1Rva2VucyAgaXMgdGhlIFRva2VuU2VsbGVyIGNvbnRyYWN0IHNlbGxpbmcgdG9rZW5zPwogICAgLy8KICAgIC8vIEZvciBleGFtcGxlLCBsaXN0aW5nIGEgVG9rZW5TZWxsZXIgY29udHJhY3Qgb24gdGhlIEdOVCBHb2xlbSBOZXR3b3JrIFRva2VuCiAgICAvLyB3aGVyZSB0aGUgY29udHJhY3Qgd2lsbCBzZWxsIEdOVCB0b2tlbnMgYXQgYSByYXRlIG9mIDE3MC8xMDAwMDAgPSAwLjAwMTcgRVRICiAgICAvLyBwZXIgR05UIHRva2VuOgogICAgLy8gICBhc3NldCAgICAgICAgMHhhNzQ0NzY0NDMxMTlhOTQyZGU0OTg1OTBmZTFmMjQ1NGQ3ZDRhYzBkCiAgICAvLyAgIHNlbGxQcmljZSAgICAxNzAKICAgIC8vICAgdW5pdHMgICAgICAgIDEwMDAwMAogICAgLy8gICBzZWxsc1Rva2VucyAgdHJ1ZQogICAgLy8KICAgIC8vIFRoZSBUcmFkZUxpc3RpbmcoKSBldmVudCBpcyBsb2dnZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnMKICAgIC8vICAgb3duZXJBZGRyZXNzICAgICAgICBpcyB0aGUgTWFrZXIncyBhZGRyZXNzCiAgICAvLyAgIHRva2VuU2VsbGVyQWRkcmVzcyAgaXMgdGhlIGFkZHJlc3Mgb2YgdGhlIG5ld2x5IGNyZWF0ZWQgVG9rZW5TZWxsZXIgY29udHJhY3QKICAgIC8vICAgYXNzZXQgICAgICAgICAgICAgICBpcyB0aGUgRVJDMjAgYXNzZXQgYWRkcmVzcwogICAgLy8gICBzZWxsUHJpY2UgICAgICAgICAgIGlzIHRoZSBzZWxsIHByaWNlIGluIGV0aGVycyBwZXIgYHVuaXRzYCBvZiBhc3NldCB0b2tlbnMKICAgIC8vICAgdW5pdCAgICAgICAgICAgICAgICBpcyB0aGUgbnVtYmVyIG9mIHVuaXRzIG9mIGFzc2V0IHRva2VucwogICAgLy8gICBzZWxsc1Rva2VucyAgICAgICAgIGlzIHRoZSBUb2tlblNlbGxlciBjb250cmFjdCBzZWxsaW5nIHRva2Vucz8KICAgIC8vCiAgICAvLyBUaGlzIG1ldGhvZCB3YXMgY2FsbGVkIGNyZWF0ZVRyYWRlQ29udHJhY3QoKSBpbiB0aGUgb2xkIHZlcnNpb24KICAgIC8vCiAgICBmdW5jdGlvbiBjcmVhdGVTYWxlQ29udHJhY3QoCiAgICAgICAgYWRkcmVzcyBhc3NldCwKICAgICAgICB1aW50MjU2IHNlbGxQcmljZSwKICAgICAgICB1aW50MjU2IHVuaXRzLAogICAgICAgIGJvb2wgICAgc2VsbHNUb2tlbnMKICAgICkgcmV0dXJucyAoYWRkcmVzcyBzZWxsZXIpIHsKICAgICAgICAvLyBDYW5ub3QgaGF2ZSBpbnZhbGlkIGFzc2V0CiAgICAgICAgaWYgKGFzc2V0ID09IDB4MCkgdGhyb3c7CiAgICAgICAgLy8gQ2Fubm90IHNldCB6ZXJvIG9yIG5lZ2F0aXZlIHByaWNlCiAgICAgICAgaWYgKHNlbGxQcmljZSA8PSAwKSB0aHJvdzsKICAgICAgICAvLyBDYW5ub3Qgc2VsbCB6ZXJvIG9yIG5lZ2F0aXZlIHVuaXRzCiAgICAgICAgaWYgKHVuaXRzIDw9IDApIHRocm93OwogICAgICAgIHNlbGxlciA9IG5ldyBUb2tlblNlbGxlcigKICAgICAgICAgICAgYXNzZXQsCiAgICAgICAgICAgIHNlbGxQcmljZSwKICAgICAgICAgICAgdW5pdHMsCiAgICAgICAgICAgIHNlbGxzVG9rZW5zKTsKICAgICAgICAvLyBSZWNvcmQgdGhhdCB0aGlzIGZhY3RvcnkgY3JlYXRlZCB0aGUgdHJhZGVyCiAgICAgICAgX3ZlcmlmeVtzZWxsZXJdID0gdHJ1ZTsKICAgICAgICAvLyBTZXQgdGhlIG93bmVyIHRvIHdob2V2ZXIgY2FsbGVkIHRoZSBmdW5jdGlvbgogICAgICAgIFRva2VuU2VsbGVyKHNlbGxlcikudHJhbnNmZXJPd25lcnNoaXAobXNnLnNlbmRlcik7CiAgICAgICAgVHJhZGVMaXN0aW5nKG1zZy5zZW5kZXIsIHNlbGxlciwgYXNzZXQsIHNlbGxQcmljZSwgdW5pdHMsIHNlbGxzVG9rZW5zKTsKICAgIH0KCiAgICAvLyBGYWN0b3J5IG93bmVyIGNhbiB3aXRoZHJhdyBhbnkgRVJDMjAgYXNzZXQgdG9rZW5zIGZyb20gdGhpcyBjb250cmFjdAogICAgLy8KICAgIC8vIFRoaXMgbWV0aG9kIGlzIGluY2x1ZGVkIGluIHRoZSBjYXNlIHdoZXJlIHRoaXMgY29udHJhY3QgcmVjZWl2ZXMKICAgIC8vIHRoZSB3cm9uZyB0b2tlbnMKICAgIC8vCiAgICAvLyBUaGUgT3duZXJXaXRoZHJld0VSQzIwVG9rZW4oKSBldmVudCBpcyBsb2dnZWQgd2l0aCB0aGUgZm9sbG93aW5nCiAgICAvLyBwYXJhbWV0ZXI6CiAgICAvLyAgIHRva2VuQWRkcmVzcyAgaXMgdGhlIGFkZHJlc3Mgb2YgdGhlIHRva2VucyB3aXRoZHJhd24gYnkgdGhlIG1ha2VyCiAgICAvLyAgIHRva2VucyAgICAgICAgaXMgdGhlIG51bWJlciBvZiB0b2tlbnMgd2l0aGRyYXduIGJ5IHRoZSBtYWtlcgogICAgZnVuY3Rpb24gb3duZXJXaXRoZHJhd0VSQzIwVG9rZW4oYWRkcmVzcyB0b2tlbkFkZHJlc3MsIHVpbnQyNTYgdG9rZW5zKSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBvaykgewogICAgICAgIE93bmVyV2l0aGRyZXdFUkMyMFRva2VuKHRva2VuQWRkcmVzcywgdG9rZW5zKTsKICAgICAgICByZXR1cm4gRVJDMjBQYXJ0aWFsKHRva2VuQWRkcmVzcykudHJhbnNmZXIob3duZXIsIHRva2Vucyk7CiAgICB9CgogICAgLy8gUHJldmVudHMgYWNjaWRlbnRhbCBzZW5kaW5nIG9mIGV0aGVyIHRvIHRoZSBmYWN0b3J5CiAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhyb3c7CiAgICB9Cn0='.
	

]
