Class {
	#name : #SRT7b70ac49c8a88dabe9a9f5b2d5701d0a53b6e570,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT7b70ac49c8a88dabe9a9f5b2d5701d0a53b6e570 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBvd25lZCB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICBmdW5jdGlvbiBvd25lZCgpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9Cn0KCmNvbnRyYWN0IEVSQzIwSW50ZXJmYWNlIHsKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgdG9rZW5Pd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgdG9rZW5Pd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB0b2tlbnMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdG9rZW5zKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdG9rZW5zKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHRva2Vucyk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgdG9rZW5Pd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdG9rZW5zKTsKfQoKY29udHJhY3QgVmFuaXR5VG9rZW4gaXMgb3duZWQsIEVSQzIwSW50ZXJmYWNlIHsKICAgIC8vIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuCiAgICBzdHJpbmcgIHB1YmxpYyBuYW1lID0gIlZhbml0eSBUb2tlbiI7CiAgICBzdHJpbmcgIHB1YmxpYyBzeW1ib2wgPSAiVk5UIjsKICAgIHVpbnQ4ICAgcHVibGljIGRlY2ltYWxzID0gMTg7CiAgICAKICAgIHVpbnQyNTYgcHVibGljIGN1cnJlbnRTdXBwbHkgPSAwOwogICAgdWludDI1NiBwdWJsaWMgbWF4U3VwcGx5ID0gMTMzMzMzNzsKICAgIHVpbnQyNTYgcHVibGljIGJvbnVzQW10VGhyZXNob2xkID0gMjAwMDA7CiAgICB1aW50MjU2IHB1YmxpYyBib251c1NpZ25hbFZhbHVlID0gMC4wMDEgZXRoZXI7CiAgICB1aW50MjU2IHB1YmxpYyBfdG90YWxTdXBwbHk7CiAgICB1aW50MjU2IHB1YmxpYyB0b2tlblhjaGFuZ2VSYXRlIDsKICAgIHVpbnQgICAgcHVibGljIGljb1N0YXJ0VGltZTsKICAgIGJvb2wgICAgcHVibGljIHB1cmNoYXNpbmdBbGxvd2VkID0gZmFsc2U7CiAgICBib29sICAgIHB1YmxpYyBkZW1vID0gZmFsc2U7CgogICAgdWludCAgICBwdWJsaWMgd2luZG93Qm9udXNNYXggPSA0MzIwMCBzZWNvbmRzOwogICAgdWludCAgICBwdWJsaWMgd2luZG93Qm9udXNNaW4gPSAxMDgwMCBzZWNvbmRzOyAKICAgIHVpbnQgICAgcHVibGljIHdpbmRvd0JvbnVzU3RlcDEgPSAyMTYwMCBzZWNvbmRzOwogICAgdWludCAgICBwdWJsaWMgd2luZG93Qm9udXNTdGVwMiA9IDI4ODAwIHNlY29uZHM7CgogICAgLy8gVGhpcyBjcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGJhbGFuY2VzCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBfYmFsYW5jZU9mOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYm9udXNPZjsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgcHVibGljIHRpbWVCb3VnaHQ7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyB0cmFuc2ZlcnJlZEF0U3VwcGx5VmFsdWU7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBfYWxsb3dhbmNlOwoKCiAgICBmdW5jdGlvbiBzZXRCb251c2VzKGJvb2wgX2QpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGlmIChfZCA9PSB0cnVlKSB7CiAgICAgICAgICAgIHdpbmRvd0JvbnVzTWF4ID0gMjAgbWludXRlczsKICAgICAgICAgICAgd2luZG93Qm9udXNNaW4gPSAzMCBzZWNvbmRzOwogICAgICAgICAgICB3aW5kb3dCb251c1N0ZXAxID0gNjAgc2Vjb25kczsKICAgICAgICAgICAgd2luZG93Qm9udXNTdGVwMiA9IDEyMCBzZWNvbmRzOwogICAgICAgICAgICBib251c0FtdFRocmVzaG9sZCA9IDUwMDsKICAgICAgICAgICAgbWF4U3VwcGx5ID0gMTMzMzc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgd2luZG93Qm9udXNNYXggPSAxMiBob3VyczsKICAgICAgICAgICAgd2luZG93Qm9udXNNaW4gPSAzIGhvdXJzOwogICAgICAgICAgICB3aW5kb3dCb251c1N0ZXAxID0gNiBob3VyczsKICAgICAgICAgICAgd2luZG93Qm9udXNTdGVwMiA9IDggaG91cnM7CiAgICAgICAgICAgIGJvbnVzQW10VGhyZXNob2xkID0gMjAwMDA7CiAgICAgICAgICAgIG1heFN1cHBseSA9IDEzMzMzMzc7CiAgICAgICAgfQogICAgICAgIGRlbW8gPSBfZDsKICAgIH0KCiAgICAvLyBUaGlzIGdlbmVyYXRlcyBhIHB1YmxpYyBldmVudCBvbiB0aGUgYmxvY2tjaGFpbiB0aGF0IHdpbGwgbm90aWZ5IGNsaWVudHMKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIHRva2VuT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHRva2Vucyk7CgoKICAgIC8vIFRoaXMgbm90aWZpZXMgY2xpZW50cyBhYm91dCB0aGUgYW1vdW50IGJ1cm50CiAgICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50MjU2IHZhbHVlKTsKCiAgICAgbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgc2l6ZSkgewogICAgICAgIGFzc2VydChtc2cuZGF0YS5sZW5ndGggPj0gc2l6ZSArIDQgfHwgbXNnLmRhdGEubGVuZ3RoID09IDQpOwogICAgICAgIF87CiAgICB9CiAKCiAgICAvKioKICAgICAqIENvbnN0cmN0b3IgZnVuY3Rpb24KICAgICAqCiAgICAgKiBJbml0aWFsaXplcyBjb250cmFjdCB3aXRoIGluaXRpYWwgc3VwcGx5IHRva2VucyB0byB0aGUgY3JlYXRvciBvZiB0aGUgY29udHJhY3QKICAgICAqLwogICAgZnVuY3Rpb24gVmFuaXR5VG9rZW4oKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgdG9rZW5YY2hhbmdlUmF0ZSA9IDMwMDsKICAgICAgICBfYmFsYW5jZU9mW2FkZHJlc3ModGhpcyldID0gMDsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7ICAgICAKICAgICAgICBzZXRCb251c2VzKGZhbHNlKTsgICAgICAKICAgICAgICAvL2VuYWJsZVB1cmNoYXNpbmcoKTsgICAgICAgICAgICAgIAogICAgICAgIF90b3RhbFN1cHBseSA9IG1heFN1cHBseSAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpOyAgCiAgICB9CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBfdG90YWxTdXBwbHk7CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgeyByZXR1cm4gX2JhbGFuY2VPZltfb3duZXJdIDsgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIHRva2VuT3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgb25seVBheWxvYWRTaXplKDIgKiAzMikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIF9hbGxvd2FuY2VbdG9rZW5Pd25lcl1bc3BlbmRlcl07CiAgICB9CgogICAgZnVuY3Rpb24ga2lsbCgpIHB1YmxpYyB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgPT0gb3duZXIpIAogICAgICAgICAgICBzZWxmZGVzdHJ1Y3Qob3duZXIpOwogICAgfQoKICAgIC8qKgogICAgICogSW50ZXJuYWwgdHJhbnNmZXIsIG9ubHkgY2FuIGJlIGNhbGxlZCBieSB0aGlzIGNvbnRyYWN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIHVpbnQyNTYgX2JvbnVzVmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSg0KjMyKSBpbnRlcm5hbCByZXR1cm5zIChib29sKSB7CgogICAgICAgIGlmIChfdmFsdWUgPT0gMCAmJiBfYm9udXNWYWx1ZSA9PSAwKSB7cmV0dXJuIGZhbHNlO30KICAgICAgICBpZiAoX3ZhbHVlIT0wJiZfYm9udXNWYWx1ZSE9MCkge3JldHVybiBmYWxzZTt9ICAKCiAgICAgICAgcmVxdWlyZShfdG8gIT0gMHgwKTsKICAgICAgIAogICAgICAgIC8vIENoZWNrIGZvciBvdmVyZmxvd3NbXSAgICAgICAKICAgICAgICByZXF1aXJlKF9iYWxhbmNlT2ZbX3RvXSArIF92YWx1ZSA+PSBfYmFsYW5jZU9mW190b10pOwogICAgICAgIHJlcXVpcmUoYm9udXNPZltfdG9dICsgX2JvbnVzVmFsdWUgPj0gYm9udXNPZltfdG9dKTsKICAgICAgICAKICAgICAgICBpZiAoX3ZhbHVlID4gMCkgewogICAgICAgICAgICBfYmFsYW5jZU9mW19mcm9tXSArPSBfdmFsdWU7CiAgICAgICAgICAgIF9iYWxhbmNlT2ZbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIHRpbWVCb3VnaHRbX3RvXSA9IG5vdzsKICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICB9IGVsc2UgaWYgKF9ib251c1ZhbHVlID4gMCkgewogICAgICAgICAgICBfYmFsYW5jZU9mW19mcm9tXSArPSBfYm9udXNWYWx1ZTsKICAgICAgICAgICAgX2JhbGFuY2VPZltfdG9dICs9IF9ib251c1ZhbHVlOwogICAgICAgICAgICBib251c09mW190b10gKz0gX2JvbnVzVmFsdWU7ICAgICAKICAgICAgICAgICAgdGltZUJvdWdodFtfdG9dID0gMDsKICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX2JvbnVzVmFsdWUpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGJ1eSgpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKHB1cmNoYXNpbmdBbGxvd2VkKTsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+IDApOwogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IDAuMDEgZXRoZXIgfHwgbXNnLnZhbHVlID09IGJvbnVzU2lnbmFsVmFsdWUpOwogICAgICAgIF9idXkobXNnLnZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbigpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICBidXkoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfYnV5KHVpbnQyNTYgdmFsdWUpIGludGVybmFsIHsKCiAgICAgICAgdWludCB0UGFzc2VkID0gbm93IC0gaWNvU3RhcnRUaW1lOwogICAgICAgIGlmICh0UGFzc2VkIDw9IDMgZGF5cykgewogICAgICAgICAgICB0b2tlblhjaGFuZ2VSYXRlID0gMzAwOwogICAgICAgIH0gZWxzZSBpZiAodFBhc3NlZCA8PSA1IGRheXMpIHsKICAgICAgICAgICAgdG9rZW5YY2hhbmdlUmF0ZSA9IDI1MDsKICAgICAgICB9IGVsc2UgaWYgKHRQYXNzZWQgPD0gNyBkYXlzKSB7CiAgICAgICAgICAgIHRva2VuWGNoYW5nZVJhdGUgPSAyMDA7CiAgICAgICAgfSBlbHNlIGlmICh0UGFzc2VkID49IDEwIGRheXMpIHsKICAgICAgICAgIHRva2VuWGNoYW5nZVJhdGUgPSAxMDA7CiAgICAgICAgfQoKICAgICAgICBib29sIHJlcXVlc3RlZEJvbnVzID0gZmFsc2U7CiAgICAgICAgdWludDI1NiBhbW91bnQgPSB2YWx1ZSAqIHRva2VuWGNoYW5nZVJhdGU7CiAgICAgICAgCiAgICAgICAgaWYgKHZhbHVlID09IGJvbnVzU2lnbmFsVmFsdWUpIHsKICAgICAgICAgICAgcmVxdWlyZSAodGltZUJvdWdodFttc2cuc2VuZGVyXSA+IDAgJiYgdHJhbnNmZXJyZWRBdFN1cHBseVZhbHVlW21zZy5zZW5kZXJdID4gMCk7CgogICAgICAgICAgICB1aW50IGRpZiA9IG5vdyAtIHRpbWVCb3VnaHRbbXNnLnNlbmRlcl07CiAgICAgICAgICAgIC8vdmVyaWZ5IHdpbmRvdwogICAgICAgICAgICByZXF1aXJlIChkaWYgPD0gd2luZG93Qm9udXNNYXggJiYgZGlmID49IHdpbmRvd0JvbnVzTWluKTsgCiAgICAgICAgICAgIHJlcXVlc3RlZEJvbnVzID0gdHJ1ZTsKICAgICAgICAgICAgYW1vdW50ID0gX2JhbGFuY2VPZlttc2cuc2VuZGVyXSAtIGJvbnVzT2ZbbXNnLnNlbmRlcl07CiAgICAgICAgICAgIGFzc2VydCAoYW1vdW50ID4gMCk7CgogICAgICAgICAgICBpZiAoZGlmID49IHdpbmRvd0JvbnVzU3RlcDIpIHsKICAgICAgICAgICAgICAgIGFtb3VudCA9IGFtb3VudCAqIDM7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlmID49IHdpbmRvd0JvbnVzU3RlcDEpIHsKICAgICAgICAgICAgICAgIGFtb3VudCA9IGFtb3VudCAqIDI7CiAgICAgICAgICAgIH0gCgogICAgICAgICAgICBpZiAoX2JhbGFuY2VPZlthZGRyZXNzKHRoaXMpXSAtIHRyYW5zZmVycmVkQXRTdXBwbHlWYWx1ZVttc2cuc2VuZGVyXSA8IGJvbnVzQW10VGhyZXNob2xkKSB7CiAgICAgICAgICAgICAgICBvd25lci50cmFuc2Zlcih2YWx1ZSk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdWludDI1NiBuZXdCYWxhbmNlID0gX2JhbGFuY2VPZlthZGRyZXNzKHRoaXMpXSArIGFtb3VudDsKICAgICAgICByZXF1aXJlIChuZXdCYWxhbmNlIDw9IF90b3RhbFN1cHBseSk7IAogICAgICAgIG93bmVyLnRyYW5zZmVyKHZhbHVlKTsKCiAgICAgICAgY3VycmVudFN1cHBseSA9IG5ld0JhbGFuY2U7CiAgICAgICAgdHJhbnNmZXJyZWRBdFN1cHBseVZhbHVlW21zZy5zZW5kZXJdID0gY3VycmVudFN1cHBseTsKCiAgICAgICAgaWYgKHJlcXVlc3RlZEJvbnVzID09IGZhbHNlKSB7CiAgICAgICAgICAgIF90cmFuc2ZlcihhZGRyZXNzKHRoaXMpLCBtc2cuc2VuZGVyLCBhbW91bnQsIDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90cmFuc2ZlcihhZGRyZXNzKHRoaXMpLCBtc2cuc2VuZGVyLCAwLCBhbW91bnQpOwogICAgICAgIH0KICAgICAgIAogICAgfQogICAgCiAKICAgLyoqCiAgICAgKiBUcmFuc2ZlciB0b2tlbnMKICAgICAqCiAgICAgKiBTZW5kIGBfdmFsdWVgIHRva2VucyB0byBgX3RvYCBmcm9tIHlvdXIgYWNjb3VudAogICAgICoKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IHRvIHNlbmQKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICByZXR1cm4gX3RyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlLCAwKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRyYW5zZmVyIHRva2VucyBmcm9tIG90aGVyIGFkZHJlc3MKICAgICAqCiAgICAgKiBTZW5kIGBfdmFsdWVgIHRva2VucyB0byBgX3RvYCBpbiBiZWhhbGYgb2YgYF9mcm9tYAogICAgICoKICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIGFtb3VudCB0byBzZW5kCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBfYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSk7ICAgICAvLyBDaGVjayBfYWxsb3dhbmNlCiAgICAgICAgX2FsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIHJldHVybiBfdHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlLCAwKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBfYWxsb3dhbmNlIGZvciBvdGhlciBhZGRyZXNzCiAgICAgKgogICAgICogQWxsb3dzIGBfc3BlbmRlcmAgdG8gc3BlbmQgbm8gbW9yZSB0aGFuIGBfdmFsdWVgIHRva2VucyBpbiB5b3VyIGJlaGFsZgogICAgICoKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBhdXRob3JpemVkIHRvIHNwZW5kCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBtYXggYW1vdW50IHRoZXkgY2FuIHNwZW5kCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYwogICAgICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIF9hbGxvd2FuY2VbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogRGVzdHJveSB0b2tlbnMKICAgICAqCiAgICAgKiBSZW1vdmUgYF92YWx1ZWAgdG9rZW5zIGZyb20gdGhlIHN5c3RlbSBpcnJldmVyc2libHkKICAgICAqCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBhbW91bnQgb2YgbW9uZXkgdG8gYnVybgogICAgICovCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShfYmFsYW5jZU9mW21zZy5zZW5kZXJdID49IF92YWx1ZSk7ICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCiAgICAgICAgX2JhbGFuY2VPZlttc2cuc2VuZGVyXSAtPSBfdmFsdWU7ICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgX3RvdGFsU3VwcGx5IC09IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlcyBfdG90YWxTdXBwbHkKICAgICAgICBCdXJuKG1zZy5zZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYnVyblRva2Vucyh1aW50MjU2IF92YWx1ZSkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKF9iYWxhbmNlT2ZbYWRkcmVzcyh0aGlzKV0gPj0gX3ZhbHVlKTsgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICBfYmFsYW5jZU9mW2FkZHJlc3ModGhpcyldIC09IF92YWx1ZTsgICAgICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIKICAgICAgICBfdG90YWxTdXBwbHkgLT0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGVzIF90b3RhbFN1cHBseQogICAgICAgIGlmIChjdXJyZW50U3VwcGx5ID4gX3RvdGFsU3VwcGx5KSB7CiAgICAgICAgICAgIGN1cnJlbnRTdXBwbHkgPSBfdG90YWxTdXBwbHk7CiAgICAgICAgfQogICAgICAgIEJ1cm4oYWRkcmVzcyh0aGlzKSwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIERlc3Ryb3kgdG9rZW5zIGZyb20gb3RoZXIgYWNjb3VudAogICAgICoKICAgICAqIFJlbW92ZSBgX3ZhbHVlYCB0b2tlbnMgZnJvbSB0aGUgc3lzdGVtIGlycmV2ZXJzaWJseSBvbiBiZWhhbGYgb2YgYF9mcm9tYC4KICAgICAqCiAgICAgKiBAcGFyYW0gX2Zyb20gdGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IG9mIG1vbmV5IHRvIGJ1cm4KICAgICAqLwogICAgZnVuY3Rpb24gYnVybkZyb20oYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKF9iYWxhbmNlT2ZbX2Zyb21dID49IF92YWx1ZSk7ICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSB0YXJnZXRlZCBiYWxhbmNlIGlzIGVub3VnaAogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IF9hbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdKTsgICAgLy8gQ2hlY2sgX2FsbG93YW5jZQogICAgICAgIF9iYWxhbmNlT2ZbX2Zyb21dIC09IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgdGFyZ2V0ZWQgYmFsYW5jZQogICAgICAgIF9hbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyJ3MgX2FsbG93YW5jZQogICAgICAgIF90b3RhbFN1cHBseSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIF90b3RhbFN1cHBseQogICAgICAgIEJ1cm4oX2Zyb20sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgIGZ1bmN0aW9uIGVuYWJsZVB1cmNoYXNpbmcoKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBwdXJjaGFzaW5nQWxsb3dlZCA9IHRydWU7CiAgICAgICAgaWNvU3RhcnRUaW1lID0gbm93OwogICAgfQoKICAgIGZ1bmN0aW9uIGRpc2FibGVQdXJjaGFzaW5nKCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcHVyY2hhc2luZ0FsbG93ZWQgPSBmYWxzZTsKICAgIH0KCiAgICAKCn0='.
	

]
