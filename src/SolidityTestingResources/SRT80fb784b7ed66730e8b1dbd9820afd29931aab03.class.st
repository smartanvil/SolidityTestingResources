Class {
	#name : #SRT80fb784b7ed66730e8b1dbd9820afd29931aab03,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT80fb784b7ed66730e8b1dbd9820afd29931aab03 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7Cgpjb250cmFjdCBTYWZlTWF0aCB7CiAgICAgZnVuY3Rpb24gc2FmZU11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgICAgdWludCBjID0gYSAqIGI7CiAgICAgICAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgICAgICAgcmV0dXJuIGM7CiAgICAgfQoKICAgICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICAgIHJldHVybiBhIC0gYjsKICAgICB9CgogICAgIGZ1bmN0aW9uIHNhZmVBZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICAgIHVpbnQgYyA9IGEgKyBiOwogICAgICAgICAgYXNzZXJ0KGM+PWEgJiYgYz49Yik7CiAgICAgICAgICByZXR1cm4gYzsKICAgICB9Cn0KCi8vIFN0YW5kYXJkIHRva2VuIGludGVyZmFjZSAoRVJDIDIwKQovLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKY29udHJhY3QgVG9rZW4gaXMgU2FmZU1hdGggewogICAgIC8vIEZ1bmN0aW9uczoKICAgICAvLy8gQHJldHVybiB0b3RhbCBhbW91bnQgb2YgdG9rZW5zCiAgICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSk7CgogICAgIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIGZyb20gd2hpY2ggdGhlIGJhbGFuY2Ugd2lsbCBiZSByZXRyaWV2ZWQKICAgICAvLy8gQHJldHVybiBUaGUgYmFsYW5jZQogICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKCiAgICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYAogICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zKGJvb2wpOwoKICAgICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYF9mcm9tYCBvbiB0aGUgY29uZGl0aW9uIGl0IGlzIGFwcHJvdmVkIGJ5IGBfZnJvbWAKICAgICAvLy8gQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMoYm9vbCk7CgogICAgIC8vLyBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX2FkZHJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB3ZWkgdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAgLy8vIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudAogICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwoKICAgICAvLyBFdmVudHM6CiAgICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cn0KCmNvbnRyYWN0IFN0ZFRva2VuIGlzIFRva2VuIHsKICAgICAvLyBGaWVsZHM6CiAgICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKICAgICB1aW50IHB1YmxpYyBzdXBwbHkgPSAwOwoKICAgICAvLyBGdW5jdGlvbnM6CiAgICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zKGJvb2wpIHsKICAgICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKTsKICAgICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pOwoKICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2FmZVN1YihiYWxhbmNlc1ttc2cuc2VuZGVyXSxfdmFsdWUpOwogICAgICAgICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZXNbX3RvXSxfdmFsdWUpOwoKICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgIH0KCiAgICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyhib29sKXsKICAgICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSk7CiAgICAgICAgICByZXF1aXJlKGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSk7CiAgICAgICAgICByZXF1aXJlKGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKTsKCiAgICAgICAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLF92YWx1ZSk7CiAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBzYWZlU3ViKGJhbGFuY2VzW19mcm9tXSxfdmFsdWUpOwogICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBzYWZlU3ViKGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLF92YWx1ZSk7CgogICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgIH0KCiAgICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgICByZXR1cm4gc3VwcGx5OwogICAgIH0KCiAgICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgICB9CgogICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAgICAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgICAgICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAgICAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgICAgICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CgogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgfQoKICAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgIH0KfQoKY29udHJhY3QgRXRoTGVuZFRva2VuIGlzIFN0ZFRva2VuCnsKLy8vIEZpZWxkczoKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJFdGhMZW5kIFRva2VuIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkxFTkQiOwogICAgdWludCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKCiAgICAvLyB0aGlzIGluY2x1ZGVzIERFVkVMT1BFUlNfQk9OVVMKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFRPVEFMX1NVUFBMWSA9IDEzMDAwMDAwMDAgKiAoMSBldGhlciAvIDEgd2VpKTsKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IERFVkVMT1BFUlNfQk9OVVMgPSAzMDAwMDAwMDAgKiAoMSBldGhlciAvIDEgd2VpKTsKCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBQUkVTQUxFX1BSSUNFID0gMzAwMDA7ICAvLyBwZXIgMSBFdGhlcgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgUFJFU0FMRV9NQVhfRVRIID0gMjAwMDsKICAgIC8vIDYwIG1sbiB0b2tlbnMgc29sZCBkdXJpbmcgcHJlc2FsZQogICAgdWludCBwdWJsaWMgY29uc3RhbnQgUFJFU0FMRV9UT0tFTl9TVVBQTFlfTElNSVQgPSBQUkVTQUxFX1BSSUNFICogUFJFU0FMRV9NQVhfRVRIICogKDEgZXRoZXIgLyAxIHdlaSk7CgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgSUNPX1BSSUNFMSA9IDI3NTAwOyAgICAgLy8gcGVyIDEgRXRoZXIKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IElDT19QUklDRTIgPSAyNjI1MDsgICAgIC8vIHBlciAxIEV0aGVyCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBJQ09fUFJJQ0UzID0gMjUwMDA7ICAgICAvLyBwZXIgMSBFdGhlcgoKICAgIC8vIDFibG4gLSB0aGlzIGluY2x1ZGVzIHByZXNhbGUgdG9rZW5zCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBUT1RBTF9TT0xEX1RPS0VOX1NVUFBMWV9MSU1JVCA9IDEwMDAwMDAwMDAqICgxIGV0aGVyIC8gMSB3ZWkpOwoKICAgIGVudW0gU3RhdGV7CiAgICAgICBJbml0LAogICAgICAgUGF1c2VkLAoKICAgICAgIFByZXNhbGVSdW5uaW5nLAogICAgICAgUHJlc2FsZUZpbmlzaGVkLAoKICAgICAgIElDT1J1bm5pbmcsCiAgICAgICBJQ09GaW5pc2hlZAogICAgfQoKICAgIFN0YXRlIHB1YmxpYyBjdXJyZW50U3RhdGUgPSBTdGF0ZS5Jbml0OwogICAgYm9vbCBwdWJsaWMgZW5hYmxlVHJhbnNmZXJzID0gZmFsc2U7CgogICAgYWRkcmVzcyBwdWJsaWMgdGVhbVRva2VuQm9udXMgPSAwOwoKICAgIC8vIEdhdGhlcmVkIGZ1bmRzIGNhbiBiZSB3aXRoZHJhd24gb25seSB0byBlc2Nyb3cncyBhZGRyZXNzLgogICAgYWRkcmVzcyBwdWJsaWMgZXNjcm93ID0gMDsKCiAgICAvLyBUb2tlbiBtYW5hZ2VyIGhhcyBleGNsdXNpdmUgcHJpdmVsZWdlcyB0byBjYWxsIGFkbWluaXN0cmF0aXZlCiAgICAvLyBmdW5jdGlvbnMgb24gdGhpcyBjb250cmFjdC4KICAgIGFkZHJlc3MgcHVibGljIHRva2VuTWFuYWdlciA9IDA7CgogICAgdWludCBwdWJsaWMgcHJlc2FsZVNvbGRUb2tlbnMgPSAwOwogICAgdWludCBwdWJsaWMgaWNvU29sZFRva2VucyA9IDA7CiAgICB1aW50IHB1YmxpYyB0b3RhbFNvbGRUb2tlbnMgPSAwOwoKLy8vIE1vZGlmaWVyczoKICAgIG1vZGlmaWVyIG9ubHlUb2tlbk1hbmFnZXIoKQogICAgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlcj09dG9rZW5NYW5hZ2VyKTsgCiAgICAgICAgXzsgCiAgICB9CgogICAgbW9kaWZpZXIgb25seUluU3RhdGUoU3RhdGUgc3RhdGUpCiAgICB7CiAgICAgICAgcmVxdWlyZShzdGF0ZT09Y3VycmVudFN0YXRlKTsgCiAgICAgICAgXzsgCiAgICB9CgovLy8gRXZlbnRzOgogICAgZXZlbnQgTG9nQnV5KGFkZHJlc3MgaW5kZXhlZCBvd25lciwgdWludCB2YWx1ZSk7CiAgICBldmVudCBMb2dCdXJuKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgdWludCB2YWx1ZSk7CgovLy8gRnVuY3Rpb25zOgogICAgLy8vIEBkZXYgQ29uc3RydWN0b3IKICAgIC8vLyBAcGFyYW0gX3Rva2VuTWFuYWdlciBUb2tlbiBtYW5hZ2VyIGFkZHJlc3MuCiAgICBmdW5jdGlvbiBFdGhMZW5kVG9rZW4oYWRkcmVzcyBfdG9rZW5NYW5hZ2VyLCBhZGRyZXNzIF9lc2Nyb3csIGFkZHJlc3MgX3RlYW1Ub2tlbkJvbnVzKSAKICAgIHsKICAgICAgICB0b2tlbk1hbmFnZXIgPSBfdG9rZW5NYW5hZ2VyOwogICAgICAgIHRlYW1Ub2tlbkJvbnVzID0gX3RlYW1Ub2tlbkJvbnVzOwogICAgICAgIGVzY3JvdyA9IF9lc2Nyb3c7CgogICAgICAgIC8vIHNlbmQgdGVhbSBib251cyBpbW1lZGlhdGVseQogICAgICAgIHVpbnQgdGVhbUJvbnVzID0gREVWRUxPUEVSU19CT05VUzsKICAgICAgICBiYWxhbmNlc1tfdGVhbVRva2VuQm9udXNdICs9IHRlYW1Cb251czsKICAgICAgICBzdXBwbHkrPSB0ZWFtQm9udXM7CgogICAgICAgIGFzc2VydChQUkVTQUxFX1RPS0VOX1NVUFBMWV9MSU1JVD09NjAwMDAwMDAgKiAoMSBldGhlciAvIDEgd2VpKSk7CiAgICAgICAgYXNzZXJ0KFRPVEFMX1NPTERfVE9LRU5fU1VQUExZX0xJTUlUPT0xMDAwMDAwMDAwICogKDEgZXRoZXIgLyAxIHdlaSkpOwogICAgfQoKICAgIGZ1bmN0aW9uIGJ1eVRva2VucygpIHB1YmxpYyBwYXlhYmxlCiAgICB7CiAgICAgICAgcmVxdWlyZShjdXJyZW50U3RhdGU9PVN0YXRlLlByZXNhbGVSdW5uaW5nIHx8IGN1cnJlbnRTdGF0ZT09U3RhdGUuSUNPUnVubmluZyk7CgogICAgICAgIGlmKGN1cnJlbnRTdGF0ZT09U3RhdGUuUHJlc2FsZVJ1bm5pbmcpewogICAgICAgICAgICByZXR1cm4gYnV5VG9rZW5zUHJlc2FsZSgpOwogICAgICAgIH1lbHNlewogICAgICAgICAgICByZXR1cm4gYnV5VG9rZW5zSUNPKCk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGJ1eVRva2Vuc1ByZXNhbGUoKSBwdWJsaWMgcGF5YWJsZSBvbmx5SW5TdGF0ZShTdGF0ZS5QcmVzYWxlUnVubmluZykKICAgIHsKICAgICAgICAvLyBtaW4gLSAxIEVUSAogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49ICgxIGV0aGVyIC8gMSB3ZWkpKTsKICAgICAgICB1aW50IG5ld1Rva2VucyA9IG1zZy52YWx1ZSAqIFBSRVNBTEVfUFJJQ0U7CgogICAgICAgIHJlcXVpcmUocHJlc2FsZVNvbGRUb2tlbnMgKyBuZXdUb2tlbnMgPD0gUFJFU0FMRV9UT0tFTl9TVVBQTFlfTElNSVQpOwoKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSBuZXdUb2tlbnM7CiAgICAgICAgc3VwcGx5Kz0gbmV3VG9rZW5zOwogICAgICAgIHByZXNhbGVTb2xkVG9rZW5zKz0gbmV3VG9rZW5zOwogICAgICAgIHRvdGFsU29sZFRva2Vucys9IG5ld1Rva2VuczsKCiAgICAgICAgTG9nQnV5KG1zZy5zZW5kZXIsIG5ld1Rva2Vucyk7CiAgICB9CgogICAgZnVuY3Rpb24gYnV5VG9rZW5zSUNPKCkgcHVibGljIHBheWFibGUgb25seUluU3RhdGUoU3RhdGUuSUNPUnVubmluZykKICAgIHsKICAgICAgICAvLyBtaW4gLSAwLjAxIEVUSAogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49ICgoMSBldGhlciAvIDEgd2VpKSAvIDEwMCkpOwogICAgICAgIHVpbnQgbmV3VG9rZW5zID0gbXNnLnZhbHVlICogZ2V0UHJpY2UoKTsKCiAgICAgICAgcmVxdWlyZSh0b3RhbFNvbGRUb2tlbnMgKyBuZXdUb2tlbnMgPD0gVE9UQUxfU09MRF9UT0tFTl9TVVBQTFlfTElNSVQpOwoKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSBuZXdUb2tlbnM7CiAgICAgICAgc3VwcGx5Kz0gbmV3VG9rZW5zOwogICAgICAgIGljb1NvbGRUb2tlbnMrPSBuZXdUb2tlbnM7CiAgICAgICAgdG90YWxTb2xkVG9rZW5zKz0gbmV3VG9rZW5zOwoKICAgICAgICBMb2dCdXkobXNnLnNlbmRlciwgbmV3VG9rZW5zKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRQcmljZSgpY29uc3RhbnQgcmV0dXJucyh1aW50KQogICAgewogICAgICAgIGlmKGN1cnJlbnRTdGF0ZT09U3RhdGUuSUNPUnVubmluZyl7CiAgICAgICAgICAgICBpZihpY29Tb2xkVG9rZW5zPCgyMDAwMDAwMDAgKiAoMSBldGhlciAvIDEgd2VpKSkpewogICAgICAgICAgICAgICAgICByZXR1cm4gSUNPX1BSSUNFMTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgIAogICAgICAgICAgICAgaWYoaWNvU29sZFRva2VuczwoMzAwMDAwMDAwICogKDEgZXRoZXIgLyAxIHdlaSkpKXsKICAgICAgICAgICAgICAgICAgcmV0dXJuIElDT19QUklDRTI7CiAgICAgICAgICAgICB9CgogICAgICAgICAgICAgcmV0dXJuIElDT19QUklDRTM7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICByZXR1cm4gUFJFU0FMRV9QUklDRTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gc2V0U3RhdGUoU3RhdGUgX25leHRTdGF0ZSkgcHVibGljIG9ubHlUb2tlbk1hbmFnZXIKICAgIHsKICAgICAgICAvL3NldFN0YXRlKCkgbWV0aG9kIGNhbGwgc2hvdWxkbid0IGJlIGVudGVydGFpbmVkIGFmdGVyIElDT0ZpbmlzaGVkCiAgICAgICAgcmVxdWlyZShjdXJyZW50U3RhdGUgIT0gU3RhdGUuSUNPRmluaXNoZWQpOwogICAgICAgIAogICAgICAgIGN1cnJlbnRTdGF0ZSA9IF9uZXh0U3RhdGU7CiAgICAgICAgLy8gZW5hYmxlL2Rpc2FibGUgdHJhbnNmZXJzCiAgICAgICAgLy9lbmFibGUgdHJhbnNmZXJzIG9ubHkgYWZ0ZXIgSUNPRmluaXNoZWQsIGRpc2FibGUgb3RoZXJ3aXNlCiAgICAgICAgZW5hYmxlVHJhbnNmZXJzID0gKGN1cnJlbnRTdGF0ZT09U3RhdGUuSUNPRmluaXNoZWQpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdpdGhkcmF3RXRoZXIoKSBwdWJsaWMgb25seVRva2VuTWFuYWdlcgogICAgewogICAgICAgIGlmKHRoaXMuYmFsYW5jZSA+IDApIAogICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZShlc2Nyb3cuc2VuZCh0aGlzLmJhbGFuY2UpKTsKICAgICAgICB9CiAgICB9CgovLy8gT3ZlcnJpZGVzOgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zKGJvb2wpewogICAgICAgIHJlcXVpcmUoZW5hYmxlVHJhbnNmZXJzKTsKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLF92YWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyhib29sKXsKICAgICAgICByZXF1aXJlKGVuYWJsZVRyYW5zZmVycyk7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSxfdG8sX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShlbmFibGVUcmFuc2ZlcnMpOwogICAgICAgIHJldHVybiBzdXBlci5hcHByb3ZlKF9zcGVuZGVyLF92YWx1ZSk7CiAgICB9CgovLy8gU2V0dGVycy9nZXR0ZXJzCiAgICBmdW5jdGlvbiBzZXRUb2tlbk1hbmFnZXIoYWRkcmVzcyBfbWdyKSBwdWJsaWMgb25seVRva2VuTWFuYWdlcgogICAgewogICAgICAgIHRva2VuTWFuYWdlciA9IF9tZ3I7CiAgICB9CgogICAgLy8gRGVmYXVsdCBmYWxsYmFjayBmdW5jdGlvbgogICAgZnVuY3Rpb24oKSBwYXlhYmxlIAogICAgewogICAgICAgIGJ1eVRva2VucygpOwogICAgfQp9'.
	

]
