Class {
	#name : #SRT7eb5a5ffac9f4e10a8745160efcc2568ee9f7879,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT7eb5a5ffac9f4e10a8745160efcc2568ee9f7879 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyBGdW5kZXJzVG9rZW4gTXVsdGlTaWcgV2FsbGV0IENvbnRyYWN0IHYxLjAuMAovLyAyMDE3LzExLzE4Cgpjb250cmFjdCBGc1RrQ011bHRpU2lnV2FsbGV0IHsKICAgIC8vIGRlcGxveWVyID0gd2FsbGV0IGRlcGxveWVyCiAgICBhZGRyZXNzIHB1YmxpYyBkZXBsb3llciA9IGFkZHJlc3MoMCk7CgogICAgLy8gaW5pdGlhbGl6ZWQKICAgIGJvb2wgcHVibGljIGluaXRpYWxpemVkID0gZmFsc2U7CgogICAgLy8gY29tbWl0dGVlc01hcCAgICAgICAgICAgICAgID0gY29tbWl0dGVlcycgYWRkcmVzc2VzIC0+IGluZGljZXMKICAgIC8vIGNvbW1pdHRlZXNBcnJheSAgICAgICAgICAgICA9IGluZGV4IC0+IGNvbW1pdHRlZSdzIGFkZHJlc3MKICAgIC8vIGNvbW1pdHRlZXNBcnJheUluZGV4Q291bnRlciA9IGNvdW50ZXIgZm9yIGNvbW1pdHRlZXNBcnJheQogICAgLy8gY29tbWl0dGVlc051bWJlciAgICAgICAgICAgID0gbnVtYmVyIG9mIGNvbW1pdHRlZXMKICAgIC8vIGNvbW1pdHRlZXNBcnJheSBbIGNvbW1pdHRlZXNNYXAgWyB0ZXN0QWRkcmVzcyBdIF0gPT0gMHgwID8gTm90Q29tbWl0dGVlIDogSXNDb21taXR0ZWUKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGNvbW1pdHRlZXNNYXA7CiAgICBhZGRyZXNzW10gcHVibGljIGNvbW1pdHRlZXNBcnJheTsKICAgIHVpbnQyNTYgcHVibGljIGNvbW1pdHRlZXNBcnJheUluZGV4Q291bnRlciA9IDA7CiAgICB1aW50MjU2IHB1YmxpYyBjb21taXR0ZWVzTnVtYmVyID0gMDsKCiAgICAvLyBjb21taXR0ZWVKb2luVm90ZXMgID0gdm90ZXMgZm9yIGpvaW5pbmcgYSBjb21taXR0ZWUKICAgIC8vIGNvbW1pdHRlZUtpY2tWb3RlcyAgPSB2b3RlcyBmb3Iga2lja2luZyBhIGNvbW1pdHRlZQogICAgLy8gY29tbWl0dGVlSm9pblZvdGVycyA9IG5ld0NvbW1pdHRlZSAgICAtPiB2b3RlciAtPiB2b3RlZAogICAgLy8gY29tbWl0dGVlS2lja1ZvdGVycyA9IGtpY2tlZENvbW1pdHRlZSAtPiB2b3RlciAtPiB2b3RlZAogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgY29tbWl0dGVlSm9pblZvdGVzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgY29tbWl0dGVlS2lja1ZvdGVzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpKSBwdWJsaWMgY29tbWl0dGVlSm9pblZvdGVyczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSkgcHVibGljIGNvbW1pdHRlZUtpY2tWb3RlcnM7CgogICAgLy8gdHhDb3VudGVyID0gdGhpcyBtdWx0aWdpcyB3YWxsZXQncyB0eCBjb3VudGVyCiAgICB1aW50MjU2IHB1YmxpYyB0eENvdW50ZXIgPSAwOwoKICAgIC8vIHR4VGFza01hcCA9IHR4J3MgaW5kZXggdG8gdGhlIHRhc2sKICAgIG1hcHBpbmcgKHVpbnQyNTYgPT4gVGFzaykgcHVibGljIHR4VGFza01hcDsKCiAgICAvLyB0b2tlblRyYW5zZmVyRnVuY3Rpb25JZGVudGlmaWVyTWFwID0gc2hhMyhlcmNWZXJzaW9uKSB0byBmdW5jdGlvbiBpZGVudGlmaWVyCiAgICBtYXBwaW5nIChieXRlczMyID0+IGJ5dGVzNCkgcHVibGljIHRva2VuVHJhbnNmZXJGdW5jdGlvbklkZW50aWZpZXJNYXA7CgogICAgLy8gdHggdGFzayBzdHJ1Y3R1cmUKICAgIHN0cnVjdCBUYXNrIHsKICAgICAgICB1aW50MjU2IHRhc2tUeXBlOwogICAgICAgIGFkZHJlc3MgcmVjZWl2ZXI7CiAgICAgICAgdWludDI1NiB2YWx1ZTsKICAgICAgICBhZGRyZXNzIHRva2VuQ29udHJhY3RBZGRyZXNzOwogICAgICAgIGJ5dGVzNCAgZnVuY3Rpb25JZGVudGlmaWVyOwogICAgICAgIHVpbnQyNTYgYWNjZXB0ZWRDb3VudGVyOwogICAgICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgYWNjZXB0ZWRDb21taXR0ZWVzTWFwOwogICAgICAgIGJvb2wgICAgY29tcGxldGVkOwogICAgfQoKICAgIGZ1bmN0aW9uIEZzVGtDTXVsdGlTaWdXYWxsZXQgKCkgcHVibGljIHsKICAgICAgICBkZXBsb3llciA9IG1zZy5zZW5kZXI7CgogICAgICAgIC8vIGFkZCB2b2lkIGFkZHJlc3MgYXQgYXJyYXlbMF0KICAgICAgICAvLyBhbmQgMHgwIGlzIG5vdCBhIGNvbW1pdHRlZQogICAgICAgIGFkZENvbW1pdHRlZVRvTWFwQW5kQXJyYXkoYWRkcmVzcygwKSk7CiAgICAgICAgY29tbWl0dGVlc051bWJlci0tOwoKICAgICAgICAvLyBhZGQgZGVwbG95ZXIgYXQgYXJyYXlbMV0KICAgICAgICBhZGRDb21taXR0ZWVUb01hcEFuZEFycmF5KGRlcGxveWVyKTsKCiAgICAgICAgLy8gc2V0IGRlZmF1bHQgZXJjMjAgdG9rZW4gZnVuY3Rpb24gaWRlbnRpZmllcgogICAgICAgIHNldFRva2VuVHJhbnNmZXJJZGVudGlmaWVyKCJlcmMyMCIsIDB4YTkwNTljYmIpOwoKICAgICAgICBpbml0aWFsaXplZCA9IHRydWU7CiAgICB9CgogICAgZXZlbnQgQWRkQ29tbWl0dGVlVG9NYXBBbmRBcnJheUV2ZW50IChhZGRyZXNzIG5ld0NvbW1pdHRlZSk7CiAgICBmdW5jdGlvbiBhZGRDb21taXR0ZWVUb01hcEFuZEFycmF5IChhZGRyZXNzIF9uZXdDb21taXR0ZWUpIG9ubHlDb21taXR0ZWVzQWZ0ZXJJbml0aWFsaXphdGlvbiBwcml2YXRlIHsKICAgICAgICBjb21taXR0ZWVzTWFwW19uZXdDb21taXR0ZWVdID0gY29tbWl0dGVlc0FycmF5SW5kZXhDb3VudGVyOwogICAgICAgIGNvbW1pdHRlZXNBcnJheS5wdXNoKF9uZXdDb21taXR0ZWUpOwogICAgICAgIGNvbW1pdHRlZXNBcnJheUluZGV4Q291bnRlcisrOwoKICAgICAgICBjb21taXR0ZWVzTnVtYmVyKys7CgogICAgICAgIGNvbW1pdHRlZUpvaW5Wb3Rlc1tfbmV3Q29tbWl0dGVlXSA9IDA7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgY29tbWl0dGVlc0FycmF5SW5kZXhDb3VudGVyOyBpKyspIHsKICAgICAgICAgICAgaWYgKGNvbW1pdHRlZXNBcnJheVtpXSAhPSBhZGRyZXNzKDApKSB7CiAgICAgICAgICAgICAgICBjb21taXR0ZWVKb2luVm90ZXJzW19uZXdDb21taXR0ZWVdW2NvbW1pdHRlZXNBcnJheVtpXV0gPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgQWRkQ29tbWl0dGVlVG9NYXBBbmRBcnJheUV2ZW50KF9uZXdDb21taXR0ZWUpOwogICAgfQoKICAgIGV2ZW50IEtpY2tDb21taXR0ZWVGcm9tTWFwQW5kQXJyYXlFdmVudCAoYWRkcmVzcyBraWNrZWRDb21taXR0ZWUpOwogICAgZnVuY3Rpb24ga2lja0NvbW1pdHRlZUZyb21NYXBBbmRBcnJheSAoYWRkcmVzcyBfa2lja2VkQ29tbWl0dGVlKSBvbmx5Q29tbWl0dGVlc0FmdGVySW5pdGlhbGl6YXRpb24gcHJpdmF0ZSB7CiAgICAgICAgLy8gMHgwIGNhbm5vdCBiZSBraWNrZWQKICAgICAgICByZXF1aXJlKF9raWNrZWRDb21taXR0ZWUgIT0gYWRkcmVzcygwKSk7CgogICAgICAgIGNvbW1pdHRlZXNBcnJheVtjb21taXR0ZWVzTWFwW19raWNrZWRDb21taXR0ZWVdXSA9IGFkZHJlc3MoMCk7CiAgICAgICAgY29tbWl0dGVlc01hcFtfa2lja2VkQ29tbWl0dGVlXSA9IDA7CgogICAgICAgIGNvbW1pdHRlZXNOdW1iZXItLTsKCiAgICAgICAgY29tbWl0dGVlS2lja1ZvdGVzW19raWNrZWRDb21taXR0ZWVdID0gMDsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBjb21taXR0ZWVzQXJyYXlJbmRleENvdW50ZXI7IGkrKykgewogICAgICAgICAgICBpZiAoY29tbWl0dGVlc0FycmF5W2ldICE9IGFkZHJlc3MoMCkpIHsKICAgICAgICAgICAgICAgIGNvbW1pdHRlZUtpY2tWb3RlcnNbX2tpY2tlZENvbW1pdHRlZV1bY29tbWl0dGVlc0FycmF5W2ldXSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBLaWNrQ29tbWl0dGVlRnJvbU1hcEFuZEFycmF5RXZlbnQoX2tpY2tlZENvbW1pdHRlZSk7CiAgICB9CgogICAgZXZlbnQgQWRkQ29tbWl0dGVlVm90ZUV2ZW50IChhZGRyZXNzIGNvbW1pdHRlZSwgYWRkcmVzcyBuZXdDb21taXR0ZWUpOwogICAgZnVuY3Rpb24gYWRkQ29tbWl0dGVlVm90ZSAoYWRkcmVzcyBfbmV3Q29tbWl0dGVlKSBvbmx5Q29tbWl0dGVlc0FmdGVySW5pdGlhbGl6YXRpb24gcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICAvLyB0aGUgX25ld0NvbW1pdHRlZSBzaG91bGQgbm90IGJlIGluIHRoZSBtYXAgYW5kIGFycmF5CiAgICAgICAgcmVxdWlyZShpc05vdENvbW1pdHRlZShfbmV3Q29tbWl0dGVlKSk7CiAgICAgICAgcmVxdWlyZShjb21taXR0ZWVKb2luVm90ZXJzW19uZXdDb21taXR0ZWVdW21zZy5zZW5kZXJdID09IGZhbHNlKTsKCiAgICAgICAgY29tbWl0dGVlSm9pblZvdGVyc1tfbmV3Q29tbWl0dGVlXVttc2cuc2VuZGVyXSA9IHRydWU7CgogICAgICAgIGlmIChjb21taXR0ZWVKb2luVm90ZXNbX25ld0NvbW1pdHRlZV0gPT0gMCkgewogICAgICAgICAgICBjb21taXR0ZWVKb2luVm90ZXNbX25ld0NvbW1pdHRlZV0gPSAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbW1pdHRlZUpvaW5Wb3Rlc1tfbmV3Q29tbWl0dGVlXSsrOwogICAgICAgIH0KCiAgICAgICAgaWYgKGNvbW1pdHRlZUpvaW5Wb3Rlc1tfbmV3Q29tbWl0dGVlXSA9PSBnZXRDb21taXR0ZWVzTnVtYmVyKCkpIHsKICAgICAgICAgICAgYWRkQ29tbWl0dGVlVG9NYXBBbmRBcnJheShfbmV3Q29tbWl0dGVlKTsKICAgICAgICB9CgogICAgICAgIEFkZENvbW1pdHRlZVZvdGVFdmVudChtc2cuc2VuZGVyLCBfbmV3Q29tbWl0dGVlKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZXZlbnQgS2lja0NvbW1pdHRlZVZvdGVFdmVudCAoYWRkcmVzcyBjb21taXR0ZWUsIGFkZHJlc3Mga2lja2VkQ29tbWl0dGVlKTsKICAgIGZ1bmN0aW9uIGtpY2tDb21taXR0ZWVWb3RlIChhZGRyZXNzIF9raWNrZWRDb21taXR0ZWUpIG9ubHlDb21taXR0ZWVzQWZ0ZXJJbml0aWFsaXphdGlvbiBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIC8vIHRoZSBfa2lja2VkQ29tbWl0dGVlIHNob3VsZCBiZSBpbiB0aGUgbWFwIGFuZCBhcnJheQogICAgICAgIHJlcXVpcmUoaXNDb21taXR0ZWUoX2tpY2tlZENvbW1pdHRlZSkpOwogICAgICAgIHJlcXVpcmUoY29tbWl0dGVlS2lja1ZvdGVyc1tfa2lja2VkQ29tbWl0dGVlXVttc2cuc2VuZGVyXSA9PSBmYWxzZSk7CgogICAgICAgIGNvbW1pdHRlZUtpY2tWb3RlcnNbX2tpY2tlZENvbW1pdHRlZV1bbXNnLnNlbmRlcl0gPSB0cnVlOwoKICAgICAgICBpZiAoY29tbWl0dGVlS2lja1ZvdGVzW19raWNrZWRDb21taXR0ZWVdID09IDApIHsKICAgICAgICAgICAgY29tbWl0dGVlS2lja1ZvdGVzW19raWNrZWRDb21taXR0ZWVdID0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb21taXR0ZWVLaWNrVm90ZXNbX2tpY2tlZENvbW1pdHRlZV0rKzsKICAgICAgICB9CgogICAgICAgIC8vIGV4Y2VwdCBmb3IgX2tpY2tlZENvbW1pdHRlZQogICAgICAgIGlmIChjb21taXR0ZWVLaWNrVm90ZXNbX2tpY2tlZENvbW1pdHRlZV0gPT0gZ2V0Q29tbWl0dGVlc051bWJlcigpIC0gMSkgewogICAgICAgICAgICBraWNrQ29tbWl0dGVlRnJvbU1hcEFuZEFycmF5KF9raWNrZWRDb21taXR0ZWUpOwogICAgICAgIH0KCiAgICAgICAgS2lja0NvbW1pdHRlZVZvdGVFdmVudChtc2cuc2VuZGVyLCBfa2lja2VkQ29tbWl0dGVlKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Q29tbWl0dGVlc051bWJlciAoKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGNvbW1pdHRlZXNOdW1iZXI7CiAgICB9CgogICAgZnVuY3Rpb24gaXNDb21taXR0ZWUgKGFkZHJlc3MgX3Rlc3RBZGRyZXNzKSB2aWV3IHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIGNvbW1pdHRlZXNBcnJheVtjb21taXR0ZWVzTWFwW190ZXN0QWRkcmVzc11dICE9IGFkZHJlc3MoMCk7CiAgICB9CgogICAgZnVuY3Rpb24gaXNOb3RDb21taXR0ZWUgKGFkZHJlc3MgX3Rlc3RBZGRyZXNzKSB2aWV3IHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIGNvbW1pdHRlZXNBcnJheVtjb21taXR0ZWVzTWFwW190ZXN0QWRkcmVzc11dID09IGFkZHJlc3MoMCk7CiAgICB9CgogICAgLy8gdGFzayB0eXBlIDEKICAgIGV2ZW50IFRyYW5zZmVyRVJDWFRva2VuSW5pdGlhdGlvbkV2ZW50ICh1aW50MjU2IHR4TnVtYmVyLCBhZGRyZXNzIGluaXRpYXRvciwgc3RyaW5nIGVyY1ZlcnNpb24sIGFkZHJlc3MgdG9rZW5Db250cmFjdEFkZHJlc3MsIGFkZHJlc3MgdG8sIHVpbnQyNTYgdG9rZW5WYWx1ZSk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckVSQ1hUb2tlbkluaXRpYXRpb24gKHN0cmluZyBfZXJjVmVyc2lvbiwgYWRkcmVzcyBfdG9rZW5Db250cmFjdEFkZHJlc3MsIGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlblZhbHVlKSBvbmx5Q29tbWl0dGVlc0FmdGVySW5pdGlhbGl6YXRpb24gcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB2YXIgdG1wSWRlbnRpZmllciA9IHRva2VuVHJhbnNmZXJGdW5jdGlvbklkZW50aWZpZXJNYXBba2VjY2FrMjU2KF9lcmNWZXJzaW9uKV07CgogICAgICAgIHJlcXVpcmUodG1wSWRlbnRpZmllciAhPSBieXRlczQoMCkpOwoKICAgICAgICB0eFRhc2tNYXBbdHhDb3VudGVyXSA9IFRhc2soewogICAgICAgICAgICB0YXNrVHlwZTogMSwKICAgICAgICAgICAgcmVjZWl2ZXI6IF90bywKICAgICAgICAgICAgdmFsdWU6IF90b2tlblZhbHVlLAogICAgICAgICAgICB0b2tlbkNvbnRyYWN0QWRkcmVzczogX3Rva2VuQ29udHJhY3RBZGRyZXNzLAogICAgICAgICAgICBmdW5jdGlvbklkZW50aWZpZXI6IHRtcElkZW50aWZpZXIsCiAgICAgICAgICAgIGFjY2VwdGVkQ291bnRlcjogMCwKICAgICAgICAgICAgY29tcGxldGVkOiBmYWxzZQogICAgICAgIH0pOwoKICAgICAgICBUcmFuc2ZlckVSQ1hUb2tlbkluaXRpYXRpb25FdmVudCh0eENvdW50ZXIsIG1zZy5zZW5kZXIsIF9lcmNWZXJzaW9uLCBfdG9rZW5Db250cmFjdEFkZHJlc3MsIF90bywgX3Rva2VuVmFsdWUpOwoKICAgICAgICBhY2NlcHRUeFRhc2sodHhDb3VudGVyKTsKCiAgICAgICAgdHhDb3VudGVyKys7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIHRhc2sgdHlwZSAyCiAgICBldmVudCBUcmFuc2ZlckV0aGVySW5pdGlhdGlvbkV2ZW50ICh1aW50MjU2IHR4TnVtYmVyLCBhZGRyZXNzIGluaXRpYXRvciwgYWRkcmVzcyB0bywgdWludDI1NiB3ZWlWYWx1ZSk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckV0aGVySW5pdGlhdGlvbiAoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3dlaVZhbHVlKSBvbmx5Q29tbWl0dGVlc0FmdGVySW5pdGlhbGl6YXRpb24gcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF93ZWlWYWx1ZSA8PSB0aGlzLmJhbGFuY2UpOwoKICAgICAgICB0eFRhc2tNYXBbdHhDb3VudGVyXSA9IFRhc2soewogICAgICAgICAgICB0YXNrVHlwZTogMiwKICAgICAgICAgICAgcmVjZWl2ZXI6IF90bywKICAgICAgICAgICAgdmFsdWU6IF93ZWlWYWx1ZSwKICAgICAgICAgICAgdG9rZW5Db250cmFjdEFkZHJlc3M6IGFkZHJlc3MoMCksCiAgICAgICAgICAgIGZ1bmN0aW9uSWRlbnRpZmllcjogYnl0ZXM0KDApLAogICAgICAgICAgICBhY2NlcHRlZENvdW50ZXI6IDAsCiAgICAgICAgICAgIGNvbXBsZXRlZDogZmFsc2UKICAgICAgICB9KTsKCiAgICAgICAgVHJhbnNmZXJFdGhlckluaXRpYXRpb25FdmVudCh0eENvdW50ZXIsIG1zZy5zZW5kZXIsIF90bywgX3dlaVZhbHVlKTsKCiAgICAgICAgYWNjZXB0VHhUYXNrKHR4Q291bnRlcik7CgogICAgICAgIHR4Q291bnRlcisrOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBldmVudCBBY2NlcHRUeFRhc2tFdmVudCAoYWRkcmVzcyBjb21taXR0ZWUsIHVpbnQyNTYgdHhOdW1iZXIpOwogICAgZXZlbnQgVGFza0NvbXBsZXRlZEV2ZW50ICh1aW50MjU2IHR4TnVtYmVyKTsKICAgIGZ1bmN0aW9uIGFjY2VwdFR4VGFzayAodWludDI1NiBfdHhOdW1iZXIpIG9ubHlDb21taXR0ZWVzQWZ0ZXJJbml0aWFsaXphdGlvbiBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUodHhUYXNrTWFwW190eE51bWJlcl0udGFza1R5cGUgIT0gMCk7CiAgICAgICAgcmVxdWlyZSh0eFRhc2tNYXBbX3R4TnVtYmVyXS5jb21wbGV0ZWQgPT0gZmFsc2UpOwogICAgICAgIHJlcXVpcmUodHhUYXNrTWFwW190eE51bWJlcl0uYWNjZXB0ZWRDb21taXR0ZWVzTWFwW21zZy5zZW5kZXJdID09IGZhbHNlKTsKCiAgICAgICAgQWNjZXB0VHhUYXNrRXZlbnQobXNnLnNlbmRlciwgX3R4TnVtYmVyKTsKCiAgICAgICAgdHhUYXNrTWFwW190eE51bWJlcl0uYWNjZXB0ZWRDb3VudGVyKys7CiAgICAgICAgdHhUYXNrTWFwW190eE51bWJlcl0uYWNjZXB0ZWRDb21taXR0ZWVzTWFwW21zZy5zZW5kZXJdID0gdHJ1ZTsKCiAgICAgICAgdmFyIHRoZVRhc2sgPSB0eFRhc2tNYXBbX3R4TnVtYmVyXTsKCiAgICAgICAgaWYgKHRoZVRhc2suYWNjZXB0ZWRDb3VudGVyID09IGdldENvbW1pdHRlZXNOdW1iZXIoKSkgewogICAgICAgICAgICBpZiAodGhlVGFzay50YXNrVHlwZSA9PSAxKSB7CiAgICAgICAgICAgICAgICB0eFRhc2tNYXBbX3R4TnVtYmVyXS5jb21wbGV0ZWQgPSB0cnVlOwoKICAgICAgICAgICAgICAgIGlmICghdGhlVGFzay50b2tlbkNvbnRyYWN0QWRkcmVzcy5jYWxsKHRoZVRhc2suZnVuY3Rpb25JZGVudGlmaWVyLCB0aGVUYXNrLnJlY2VpdmVyLCB0aGVUYXNrLnZhbHVlKSkgewogICAgICAgICAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIFRhc2tDb21wbGV0ZWRFdmVudChfdHhOdW1iZXIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodGhlVGFzay50YXNrVHlwZSA9PSAyKSB7CiAgICAgICAgICAgICAgICB0eFRhc2tNYXBbX3R4TnVtYmVyXS5jb21wbGV0ZWQgPSB0cnVlOwoKICAgICAgICAgICAgICAgIHRoZVRhc2sucmVjZWl2ZXIudHJhbnNmZXIodGhlVGFzay52YWx1ZSk7CgogICAgICAgICAgICAgICAgVGFza0NvbXBsZXRlZEV2ZW50KF90eE51bWJlcik7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIF9lcmNWZXJzaW9uIGlzIGxpa2U6CiAgICAvLyBlcmMyMAogICAgLy8gZXJjMjIzCiAgICBmdW5jdGlvbiBzZXRUb2tlblRyYW5zZmVySWRlbnRpZmllciAoc3RyaW5nIF9lcmNWZXJzaW9uLCBieXRlczQgX2Z1bmN0aW9uSWRlbnRpZmllcikgb25seURlcGxveWVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgdG9rZW5UcmFuc2ZlckZ1bmN0aW9uSWRlbnRpZmllck1hcFtrZWNjYWsyNTYoX2VyY1ZlcnNpb24pXSA9IF9mdW5jdGlvbklkZW50aWZpZXI7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0RnVuY3Rpb25JZGVudGlmaWVyIChzdHJpbmcgX2Z1bmN0aW9uUmF3U3RyaW5nKSBwdXJlIHB1YmxpYyByZXR1cm5zIChieXRlczQpIHsKICAgICAgICByZXR1cm4gYnl0ZXM0KGtlY2NhazI1NihfZnVuY3Rpb25SYXdTdHJpbmcpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRTdHJpbmdIYXNoIChzdHJpbmcgX2lucHV0KSBwdXJlIHB1YmxpYyByZXR1cm5zIChieXRlczMyKSB7CiAgICAgICAgcmV0dXJuIGtlY2NhazI1NihfaW5wdXQpOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlDb21taXR0ZWVzQWZ0ZXJJbml0aWFsaXphdGlvbiB7CiAgICAgICAgaWYgKGluaXRpYWxpemVkID09IGZhbHNlKSB7CiAgICAgICAgICAgIF87CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVxdWlyZShpc0NvbW1pdHRlZShtc2cuc2VuZGVyKSk7CiAgICAgICAgICAgIF87CiAgICAgICAgfQogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlEZXBsb3llciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGRlcGxveWVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uICgpIHBheWFibGUgcHVibGljIHt9Cgp9'.
	

]
