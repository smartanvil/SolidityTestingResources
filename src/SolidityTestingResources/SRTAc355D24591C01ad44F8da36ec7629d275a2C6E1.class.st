Class {
	#name : #SRTAc355D24591C01ad44F8da36ec7629d275a2C6E1,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTAc355D24591C01ad44F8da36ec7629d275a2C6E1 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBUb2tlbiB7CiAgLy8vIEByZXR1cm4gdG90YWwgYW1vdW50IG9mIHRva2VucwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpIHt9CgogIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIGZyb20gd2hpY2ggdGhlIGJhbGFuY2Ugd2lsbCBiZSByZXRyaWV2ZWQKICAvLy8gQHJldHVybiBUaGUgYmFsYW5jZQogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7fQoKICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYG1zZy5zZW5kZXJgCiAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90byx1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQoKICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYF9mcm9tYCBvbiB0aGUgY29uZGl0aW9uIGl0IGlzIGFwcHJvdmVkIGJ5IGBfZnJvbWAKICAvLy8gQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLGFkZHJlc3MgX3RvLHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9CgogIC8vLyBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX2FkZHJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB3ZWkgdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9CgogIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IG93bmluZyB0b2tlbnMKICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHt9CgogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSxhZGRyZXNzIGluZGV4ZWQgX3RvLHVpbnQyNTYgX3ZhbHVlKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlcix1aW50MjU2IF92YWx1ZSk7CgogIHVpbnQgZGVjaW1hbHM7CiAgc3RyaW5nIG5hbWU7Cn0KCmNvbnRyYWN0IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBzYWZlTXVsKHVpbnQgYSx1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCgogIGZ1bmN0aW9uIHNhZmVEaXYodWludCBhLHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAvIGI7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHNhZmVTdWIodWludCBhLHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQgYSx1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGM+PWEgJiYgYz49Yik7CiAgICByZXR1cm4gYzsKICB9Cgp9Cgpjb250cmFjdCBTaG9ydE9yZGVyIGlzIFNhZmVNYXRoIHsKCiAgYWRkcmVzcyBhZG1pbjsKCiAgc3RydWN0IE9yZGVyIHsKICAgIHVpbnQgY291cG9uOwogICAgdWludCBiYWxhbmNlOwogICAgYm9vbCB0b2tlbkRlcG9zaXQ7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHNob3J0QmFsYW5jZTsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgbG9uZ0JhbGFuY2U7CiAgfQoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGJ5dGVzMzIgPT4gT3JkZXIpKSBvcmRlclJlY29yZDsKCiAgZXZlbnQgVG9rZW5GdWxmaWxsbWVudChhZGRyZXNzWzJdIHRva2VuVXNlcix1aW50WzhdIG1pbk1heERNV0NQTm9uY2UsdWludCBhbW91bnQpOwogIGV2ZW50IENvdXBvbkRlcG9zaXQoYWRkcmVzc1syXSB0b2tlblVzZXIsdWludFs4XSBtaW5NYXhETVdDUE5vbmNlLHVpbnQgdmFsdWUpOwogIGV2ZW50IExvbmdQbGFjZShhZGRyZXNzWzJdIHRva2VuVXNlcix1aW50WzhdIG1pbk1heERNV0NQTm9uY2UsdWludCB2YWx1ZSk7CiAgZXZlbnQgTG9uZ0JvdWdodChhZGRyZXNzWzJdIHNlbGxlclNob3J0LHVpbnRbNV0gYW1vdW50Tm9uY2VFeHBpcnlETSx1aW50IHZhbHVlKTsKICBldmVudCBUb2tlbkxvbmdFeGVyY2lzZWQoYWRkcmVzc1syXSB0b2tlblVzZXIsdWludFs4XSBtaW5NYXhETVdDUE5vbmNlLHVpbnQgY291cG9uQW1vdW50LHVpbnQgYW1vdW50KTsKICBldmVudCBFdGhMb25nRXhlcmNpc2VkKGFkZHJlc3NbMl0gdG9rZW5Vc2VyLHVpbnRbOF0gbWluTWF4RE1XQ1BOb25jZSx1aW50IGNvdXBvbkFtb3VudCx1aW50IGFtb3VudCk7CiAgZXZlbnQgRG9uYXRpb25DbGFpbWVkKGFkZHJlc3NbMl0gdG9rZW5Vc2VyLHVpbnRbOF0gbWluTWF4RE1XQ1BOb25jZSx1aW50IGNvdXBvbix1aW50IGJhbGFuY2UpOwogIGV2ZW50IE5vbkFjdGl2YXRpb25XaXRoZHJhd2FsKGFkZHJlc3NbMl0gdG9rZW5Vc2VyLHVpbnRbOF0gbWluTWF4RE1XQ1BOb25jZSx1aW50IGNvdXBvbik7CiAgZXZlbnQgQWN0aXZhdGlvbldpdGhkcmF3YWwoYWRkcmVzc1syXSB0b2tlblVzZXIsdWludFs4XSBtaW5NYXhETVdDUE5vbmNlLHVpbnQgYmFsYW5jZSk7CgogIG1vZGlmaWVyIG9ubHlBZG1pbigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBhZG1pbik7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gU2hvcnRPcmRlcigpIHsKICAgIGFkbWluID0gbXNnLnNlbmRlcjsKICB9CgogIGZ1bmN0aW9uIGNoYW5nZUFkbWluKGFkZHJlc3MgX2FkbWluKSBleHRlcm5hbCBvbmx5QWRtaW4gewogICAgYWRtaW4gPSBfYWRtaW47CiAgfQoKICBmdW5jdGlvbiB0b2tlbkZ1bGZpbGxtZW50RGVwb3NpdChhZGRyZXNzWzJdIHRva2VuVXNlcix1aW50IGFtb3VudCx1aW50WzhdIG1pbk1heERNV0NQTm9uY2UsdWludDggdixieXRlczMyWzJdIHJzKSBleHRlcm5hbCB7CiAgICBieXRlczMyIG9yZGVySGFzaCA9IGtlY2NhazI1NiAoCiAgICAgICAgdG9rZW5Vc2VyWzBdLAogICAgICAgIHRva2VuVXNlclsxXSwKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzBdLAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbMV0sCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVsyXSwgCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVszXSwKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzRdLAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbNV0sCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVs2XSwgCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVs3XQogICAgICApOwogICAgcmVxdWlyZSgKICAgICAgZWNyZWNvdmVyKGtlY2NhazI1NigiXHgxOUV0aGVyZXVtIFNpZ25lZCBNZXNzYWdlOlxuMzIiLG9yZGVySGFzaCksdixyc1swXSxyc1sxXSkgPT0gbXNnLnNlbmRlciAmJgogICAgICBibG9jay5udW1iZXIgPiBtaW5NYXhETVdDUE5vbmNlWzJdICYmCiAgICAgIGJsb2NrLm51bWJlciA8PSBtaW5NYXhETVdDUE5vbmNlWzNdICYmIAogICAgICBvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uYmFsYW5jZSA+PSBtaW5NYXhETVdDUE5vbmNlWzBdICYmCiAgICAgIG9yZGVyUmVjb3JkW21zZy5zZW5kZXJdW29yZGVySGFzaF0uYmFsYW5jZSA9PSBzYWZlTXVsKGFtb3VudCxtaW5NYXhETVdDUE5vbmNlWzZdKSAmJgogICAgICAhb3JkZXJSZWNvcmRbbXNnLnNlbmRlcl1bb3JkZXJIYXNoXS50b2tlbkRlcG9zaXQKICAgICk7CiAgICBUb2tlbih0b2tlblVzZXJbMF0pLnRyYW5zZmVyRnJvbShtc2cuc2VuZGVyLHRoaXMsYW1vdW50KTsKICAgIG9yZGVyUmVjb3JkW21zZy5zZW5kZXJdW29yZGVySGFzaF0uc2hvcnRCYWxhbmNlW3Rva2VuVXNlclswXV0gPSBzYWZlQWRkKG9yZGVyUmVjb3JkW21zZy5zZW5kZXJdW29yZGVySGFzaF0uc2hvcnRCYWxhbmNlW3Rva2VuVXNlclswXV0sYW1vdW50KTsKICAgIG9yZGVyUmVjb3JkW21zZy5zZW5kZXJdW29yZGVySGFzaF0udG9rZW5EZXBvc2l0ID0gdHJ1ZTsKICAgIFRva2VuRnVsZmlsbG1lbnQodG9rZW5Vc2VyLG1pbk1heERNV0NQTm9uY2UsYW1vdW50KTsKICB9CiAKICBmdW5jdGlvbiBkZXBvc2l0Q291cG9uKGFkZHJlc3NbMl0gdG9rZW5Vc2VyLHVpbnRbOF0gbWluTWF4RE1XQ1BOb25jZSx1aW50OCB2LGJ5dGVzMzJbMl0gcnMpIGV4dGVybmFsIHBheWFibGUgewogICAgYnl0ZXMzMiBvcmRlckhhc2ggPSBrZWNjYWsyNTYgKAogICAgICAgIHRva2VuVXNlclswXSwKICAgICAgICB0b2tlblVzZXJbMV0sCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVswXSwKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzFdLAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbMl0sIAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbM10sCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVs0XSwKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzVdLAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbNl0sIAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbN10KICAgICAgKTsKICAgIHJlcXVpcmUoCiAgICAgIGVjcmVjb3ZlcihrZWNjYWsyNTYoIlx4MTlFdGhlcmV1bSBTaWduZWQgTWVzc2FnZTpcbjMyIixvcmRlckhhc2gpLHYscnNbMF0scnNbMV0pID09IG1zZy5zZW5kZXIgJiYKICAgICAgbXNnLnZhbHVlID09IG1pbk1heERNV0NQTm9uY2VbNV0gJiYKICAgICAgYmxvY2subnVtYmVyIDw9IG1pbk1heERNV0NQTm9uY2VbMl0KICAgICk7CiAgICBvcmRlclJlY29yZFttc2cuc2VuZGVyXVtvcmRlckhhc2hdLmNvdXBvbiA9IHNhZmVBZGQob3JkZXJSZWNvcmRbbXNnLnNlbmRlcl1bb3JkZXJIYXNoXS5jb3Vwb24sbXNnLnZhbHVlKTsKICAgIENvdXBvbkRlcG9zaXQodG9rZW5Vc2VyLG1pbk1heERNV0NQTm9uY2UsbXNnLnZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIHBsYWNlTG9uZyhhZGRyZXNzWzJdIHRva2VuVXNlcix1aW50WzhdIG1pbk1heERNV0NQTm9uY2UsdWludDggdixieXRlczMyWzJdIHJzKSBleHRlcm5hbCBwYXlhYmxlIHsKICAgIGJ5dGVzMzIgb3JkZXJIYXNoID0ga2VjY2FrMjU2ICgKICAgICAgICB0b2tlblVzZXJbMF0sCiAgICAgICAgdG9rZW5Vc2VyWzFdLAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbMF0sCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVsxXSwKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzJdLCAKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzNdLAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbNF0sCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVs1XSwKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzZdLCAKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzddCiAgICAgICk7CiAgICByZXF1aXJlKAogICAgICBlY3JlY292ZXIoa2VjY2FrMjU2KCJceDE5RXRoZXJldW0gU2lnbmVkIE1lc3NhZ2U6XG4zMiIsb3JkZXJIYXNoKSx2LHJzWzBdLHJzWzFdKSA9PSB0b2tlblVzZXJbMV0gJiYKICAgICAgYmxvY2subnVtYmVyIDw9IG1pbk1heERNV0NQTm9uY2VbMl0gJiYKICAgICAgb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmNvdXBvbiA9PSBtaW5NYXhETVdDUE5vbmNlWzVdICYmCiAgICAgIG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5iYWxhbmNlIDw9IG1pbk1heERNV0NQTm9uY2VbMV0KICAgICk7CiAgICBvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0ubG9uZ0JhbGFuY2VbbXNnLnNlbmRlcl0gPSBzYWZlQWRkKG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5sb25nQmFsYW5jZVttc2cuc2VuZGVyXSxtc2cudmFsdWUpOwogICAgb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmJhbGFuY2UgPSBzYWZlQWRkKG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5iYWxhbmNlLG1zZy52YWx1ZSk7CiAgICBMb25nUGxhY2UodG9rZW5Vc2VyLG1pbk1heERNV0NQTm9uY2UsbXNnLnZhbHVlKTsKICB9CiAgCiAgZnVuY3Rpb24gYnV5TG9uZyhhZGRyZXNzWzJdIHNlbGxlclNob3J0LHVpbnRbNV0gYW1vdW50Tm9uY2VFeHBpcnlETSx1aW50OCB2LGJ5dGVzMzJbM10gaGFzaFJTKSBleHRlcm5hbCBwYXlhYmxlIHsKICAgIGJ5dGVzMzIgbG9uZ1RyYW5zZmVySGFzaCA9IGtlY2NhazI1NiAoCiAgICAgICAgc2VsbGVyU2hvcnRbMF0sCiAgICAgICAgYW1vdW50Tm9uY2VFeHBpcnlETVswXSwKICAgICAgICBhbW91bnROb25jZUV4cGlyeURNWzFdLAogICAgICAgIGFtb3VudE5vbmNlRXhwaXJ5RE1bMl0KICAgICk7CiAgICByZXF1aXJlKAogICAgICBlY3JlY292ZXIoa2VjY2FrMjU2KCJceDE5RXRoZXJldW0gU2lnbmVkIE1lc3NhZ2U6XG4zMiIsbG9uZ1RyYW5zZmVySGFzaCksdixoYXNoUlNbMV0saGFzaFJTWzJdKSA9PSBzZWxsZXJTaG9ydFsxXSAmJgogICAgICBibG9jay5udW1iZXIgPiBhbW91bnROb25jZUV4cGlyeURNWzNdICYmCiAgICAgIGJsb2NrLm51bWJlciA8PSBzYWZlU3ViKGFtb3VudE5vbmNlRXhwaXJ5RE1bNF0sYW1vdW50Tm9uY2VFeHBpcnlETVsyXSkgJiYKICAgICAgbXNnLnZhbHVlID09IGFtb3VudE5vbmNlRXhwaXJ5RE1bMF0KICAgICk7CiAgICBzZWxsZXJTaG9ydFswXS50cmFuc2ZlcihhbW91bnROb25jZUV4cGlyeURNWzBdKTsKICAgIG9yZGVyUmVjb3JkW3NlbGxlclNob3J0WzFdXVtoYXNoUlNbMF1dLmxvbmdCYWxhbmNlW21zZy5zZW5kZXJdID0gb3JkZXJSZWNvcmRbc2VsbGVyU2hvcnRbMV1dW2hhc2hSU1swXV0ubG9uZ0JhbGFuY2Vbc2VsbGVyU2hvcnRbMF1dOwogICAgb3JkZXJSZWNvcmRbc2VsbGVyU2hvcnRbMV1dW2hhc2hSU1swXV0ubG9uZ0JhbGFuY2Vbc2VsbGVyU2hvcnRbMF1dID0gdWludCgwKTsKICAgIExvbmdCb3VnaHQoc2VsbGVyU2hvcnQsYW1vdW50Tm9uY2VFeHBpcnlETSxhbW91bnROb25jZUV4cGlyeURNWzBdKTsKICB9CgogIGZ1bmN0aW9uIGV4ZXJjaXNlTG9uZyhhZGRyZXNzWzJdIHRva2VuVXNlcix1aW50WzhdIG1pbk1heERNV0NQTm9uY2UsdWludDggdixieXRlczMyWzJdIHJzKSBleHRlcm5hbCB7CiAgICBieXRlczMyIG9yZGVySGFzaCA9IGtlY2NhazI1NiAoCiAgICAgICAgdG9rZW5Vc2VyWzBdLAogICAgICAgIHRva2VuVXNlclsxXSwKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzBdLAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbMV0sCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVsyXSwgCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVszXSwKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzRdLAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbNV0sCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVs2XSwgCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVs3XQogICAgICApOwogICAgcmVxdWlyZSgKICAgICAgZWNyZWNvdmVyKGtlY2NhazI1NigiXHgxOUV0aGVyZXVtIFNpZ25lZCBNZXNzYWdlOlxuMzIiLG9yZGVySGFzaCksdixyc1swXSxyc1sxXSkgPT0gdG9rZW5Vc2VyWzFdICYmCiAgICAgIGJsb2NrLm51bWJlciA+IG1pbk1heERNV0NQTm9uY2VbM10gJiYKICAgICAgYmxvY2subnVtYmVyIDw9IG1pbk1heERNV0NQTm9uY2VbNF0gJiYKICAgICAgb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmJhbGFuY2UgPj0gbWluTWF4RE1XQ1BOb25jZVswXQogICAgKTsKICAgIHVpbnQgY291cG9uUHJvcG9ydGlvbiA9IHNhZmVEaXYoc2FmZU11bChvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0ubG9uZ0JhbGFuY2VbbXNnLnNlbmRlcl0sMTAwKSxvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uYmFsYW5jZSk7CiAgICB1aW50IGNvdXBvbkFtb3VudCA9IHNhZmVEaXYoc2FmZU11bChvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uY291cG9uLHNhZmVTdWIoMTAwLGNvdXBvblByb3BvcnRpb24pKSwxMDApOwogICAgaWYob3JkZXJSZWNvcmRbbXNnLnNlbmRlcl1bb3JkZXJIYXNoXS50b2tlbkRlcG9zaXQpIHsKICAgICAgdWludCBhbW91bnQgPSBzYWZlRGl2KHNhZmVNdWwob3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLnNob3J0QmFsYW5jZVt0b2tlblVzZXJbMF1dLHNhZmVTdWIoMTAwLGNvdXBvblByb3BvcnRpb24pKSwxMDApOwogICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGNvdXBvbkFtb3VudCk7CiAgICAgIFRva2VuKHRva2VuVXNlclswXSkudHJhbnNmZXIobXNnLnNlbmRlcixhbW91bnQpOwogICAgICBvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uY291cG9uID0gc2FmZVN1YihvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uY291cG9uLGNvdXBvbkFtb3VudCk7CiAgICAgIG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5iYWxhbmNlID0gc2FmZVN1YihvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uYmFsYW5jZSxvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0ubG9uZ0JhbGFuY2VbbXNnLnNlbmRlcl0pOwogICAgICBvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uc2hvcnRCYWxhbmNlW3Rva2VuVXNlclswXV0gPSBzYWZlU3ViKG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5zaG9ydEJhbGFuY2VbdG9rZW5Vc2VyWzBdXSxhbW91bnQpOwogICAgICBvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0ubG9uZ0JhbGFuY2VbbXNnLnNlbmRlcl0gPSB1aW50KDApOwogICAgICBUb2tlbkxvbmdFeGVyY2lzZWQodG9rZW5Vc2VyLG1pbk1heERNV0NQTm9uY2UsY291cG9uQW1vdW50LGFtb3VudCk7CiAgICB9CiAgICBlbHNlIGlmKCFvcmRlclJlY29yZFttc2cuc2VuZGVyXVtvcmRlckhhc2hdLnRva2VuRGVwb3NpdCl7CiAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoc2FmZUFkZChjb3Vwb25BbW91bnQsb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmxvbmdCYWxhbmNlW21zZy5zZW5kZXJdKSk7CiAgICAgIG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5jb3Vwb24gPSBzYWZlU3ViKG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5jb3Vwb24sY291cG9uQW1vdW50KTsKICAgICAgb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmJhbGFuY2UgPSBzYWZlU3ViKG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5iYWxhbmNlLG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5sb25nQmFsYW5jZVttc2cuc2VuZGVyXSk7CiAgICAgIG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5sb25nQmFsYW5jZVttc2cuc2VuZGVyXSA9IHVpbnQoMCk7IAogICAgICBFdGhMb25nRXhlcmNpc2VkKHRva2VuVXNlcixtaW5NYXhETVdDUE5vbmNlLGNvdXBvbkFtb3VudCxvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0ubG9uZ0JhbGFuY2VbbXNnLnNlbmRlcl0pOwogICAgfQogIH0KCiAgZnVuY3Rpb24gY2xhaW1Eb25hdGlvbnMoYWRkcmVzc1syXSB0b2tlblVzZXIsdWludFs4XSBtaW5NYXhETVdDUE5vbmNlLHVpbnQ4IHYsYnl0ZXMzMlsyXSBycykgZXh0ZXJuYWwgb25seUFkbWluIHsKICAgIGJ5dGVzMzIgb3JkZXJIYXNoID0ga2VjY2FrMjU2ICgKICAgICAgICB0b2tlblVzZXJbMF0sCiAgICAgICAgdG9rZW5Vc2VyWzFdLAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbMF0sCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVsxXSwKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzJdLCAKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzNdLAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbNF0sCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVs1XSwKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzZdLCAKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzddCiAgICAgICk7CiAgICByZXF1aXJlKAogICAgICBlY3JlY292ZXIoa2VjY2FrMjU2KCJceDE5RXRoZXJldW0gU2lnbmVkIE1lc3NhZ2U6XG4zMiIsb3JkZXJIYXNoKSx2LHJzWzBdLHJzWzFdKSA9PSB0b2tlblVzZXJbMV0gJiYKICAgICAgYmxvY2subnVtYmVyID4gbWluTWF4RE1XQ1BOb25jZVs0XQogICAgKTsKICAgIGFkbWluLnRyYW5zZmVyKHNhZmVBZGQob3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmNvdXBvbixvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uYmFsYW5jZSkpOwogICAgVG9rZW4odG9rZW5Vc2VyWzBdKS50cmFuc2ZlcihhZG1pbixvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uc2hvcnRCYWxhbmNlW3Rva2VuVXNlclswXV0pOwogICAgb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmJhbGFuY2UgPSB1aW50KDApOwogICAgb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmNvdXBvbiA9IHVpbnQoMCk7CiAgICBvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uc2hvcnRCYWxhbmNlW3Rva2VuVXNlclswXV0gPSB1aW50KDApOwogICAgRG9uYXRpb25DbGFpbWVkKHRva2VuVXNlcixtaW5NYXhETVdDUE5vbmNlLG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5jb3Vwb24sb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmJhbGFuY2UpOwogIH0KCiAgZnVuY3Rpb24gbm9uQWN0aXZhdGlvblNob3J0V2l0aGRyYXdhbChhZGRyZXNzWzJdIHRva2VuVXNlcix1aW50WzhdIG1pbk1heERNV0NQTm9uY2UsdWludDggdixieXRlczMyWzJdIHJzKSBleHRlcm5hbCB7CiAgICBieXRlczMyIG9yZGVySGFzaCA9IGtlY2NhazI1NiAoCiAgICAgICAgdG9rZW5Vc2VyWzBdLAogICAgICAgIHRva2VuVXNlclsxXSwKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzBdLAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbMV0sCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVsyXSwgCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVszXSwKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzRdLAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbNV0sCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVs2XSwgCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVs3XQogICAgICApOwogICAgcmVxdWlyZSgKICAgICAgZWNyZWNvdmVyKGtlY2NhazI1NigiXHgxOUV0aGVyZXVtIFNpZ25lZCBNZXNzYWdlOlxuMzIiLG9yZGVySGFzaCksdixyc1swXSxyc1sxXSkgPT0gbXNnLnNlbmRlciAmJgogICAgICBibG9jay5udW1iZXIgPiBtaW5NYXhETVdDUE5vbmNlWzJdICYmCiAgICAgIG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5iYWxhbmNlIDwgbWluTWF4RE1XQ1BOb25jZVswXQogICAgKTsKICAgIG1zZy5zZW5kZXIudHJhbnNmZXIob3JkZXJSZWNvcmRbbXNnLnNlbmRlcl1bb3JkZXJIYXNoXS5jb3Vwb24pOwogICAgb3JkZXJSZWNvcmRbbXNnLnNlbmRlcl1bb3JkZXJIYXNoXS5jb3Vwb24gPSB1aW50KDApOwogICAgTm9uQWN0aXZhdGlvbldpdGhkcmF3YWwodG9rZW5Vc2VyLG1pbk1heERNV0NQTm9uY2Usb3JkZXJSZWNvcmRbbXNnLnNlbmRlcl1bb3JkZXJIYXNoXS5jb3Vwb24pOwogIH0KCiAgZnVuY3Rpb24gbm9uQWN0aXZhdGlvbldpdGhkcmF3YWwoYWRkcmVzc1syXSB0b2tlblVzZXIsdWludFs4XSBtaW5NYXhETVdDUE5vbmNlLHVpbnQ4IHYsYnl0ZXMzMlsyXSBycykgZXh0ZXJuYWwgewogICAgYnl0ZXMzMiBvcmRlckhhc2ggPSBrZWNjYWsyNTYgKAogICAgICAgIHRva2VuVXNlclswXSwKICAgICAgICB0b2tlblVzZXJbMV0sCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVswXSwKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzFdLAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbMl0sIAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbM10sCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVs0XSwKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzVdLAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbNl0sIAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbN10KICAgICAgKTsKICAgIHJlcXVpcmUoCiAgICAgIGVjcmVjb3ZlcihrZWNjYWsyNTYoIlx4MTlFdGhlcmV1bSBTaWduZWQgTWVzc2FnZTpcbjMyIixvcmRlckhhc2gpLHYscnNbMF0scnNbMV0pID09IHRva2VuVXNlclsxXSAmJgogICAgICBibG9jay5udW1iZXIgPiBtaW5NYXhETVdDUE5vbmNlWzJdICYmCiAgICAgIGJsb2NrLm51bWJlciA8PSBtaW5NYXhETVdDUE5vbmNlWzRdICYmCiAgICAgIG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5iYWxhbmNlIDwgbWluTWF4RE1XQ1BOb25jZVswXQogICAgKTsKICAgIG1zZy5zZW5kZXIudHJhbnNmZXIob3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmxvbmdCYWxhbmNlW21zZy5zZW5kZXJdKTsKICAgIG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5iYWxhbmNlID0gc2FmZVN1YihvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0uYmFsYW5jZSxvcmRlclJlY29yZFt0b2tlblVzZXJbMV1dW29yZGVySGFzaF0ubG9uZ0JhbGFuY2VbbXNnLnNlbmRlcl0pOwogICAgb3JkZXJSZWNvcmRbdG9rZW5Vc2VyWzFdXVtvcmRlckhhc2hdLmxvbmdCYWxhbmNlW21zZy5zZW5kZXJdID0gdWludCgwKTsKICAgIEFjdGl2YXRpb25XaXRoZHJhd2FsKHRva2VuVXNlcixtaW5NYXhETVdDUE5vbmNlLG9yZGVyUmVjb3JkW3Rva2VuVXNlclsxXV1bb3JkZXJIYXNoXS5sb25nQmFsYW5jZVttc2cuc2VuZGVyXSk7CiAgfQoKICBmdW5jdGlvbiByZXR1cm5CYWxhbmNlKGFkZHJlc3MgX2NyZWF0b3IsYnl0ZXMzMiBvcmRlckhhc2gpIGV4dGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgIHJldHVybiBvcmRlclJlY29yZFtfY3JlYXRvcl1bb3JkZXJIYXNoXS5iYWxhbmNlOwogIH0KCiAgZnVuY3Rpb24gcmV0dXJuVG9rZW5CYWxhbmNlKGFkZHJlc3NbMl0gY3JlYXRvclRva2VuLGJ5dGVzMzIgb3JkZXJIYXNoKSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICByZXR1cm4gb3JkZXJSZWNvcmRbY3JlYXRvclRva2VuWzBdXVtvcmRlckhhc2hdLnNob3J0QmFsYW5jZVtjcmVhdG9yVG9rZW5bMV1dOwogIH0KCiAgZnVuY3Rpb24gcmV0dXJuVXNlckJhbGFuY2UoYWRkcmVzc1syXSBjcmVhdG9yVXNlcixieXRlczMyIG9yZGVySGFzaCkgZXh0ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgcmV0dXJuIG9yZGVyUmVjb3JkW2NyZWF0b3JVc2VyWzBdXVtvcmRlckhhc2hdLmxvbmdCYWxhbmNlW2NyZWF0b3JVc2VyWzFdXTsKICB9CgogIGZ1bmN0aW9uIHJldHVybkNvdXBvbihhZGRyZXNzIF9jcmVhdG9yLGJ5dGVzMzIgb3JkZXJIYXNoKSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICByZXR1cm4gb3JkZXJSZWNvcmRbX2NyZWF0b3JdW29yZGVySGFzaF0uY291cG9uOwogIH0KCiAgZnVuY3Rpb24gcmV0dXJuVG9rZW5EZXBvc2l0U3RhdGUoYWRkcmVzcyBfY3JlYXRvcixieXRlczMyIG9yZGVySGFzaCkgZXh0ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIG9yZGVyUmVjb3JkW19jcmVhdG9yXVtvcmRlckhhc2hdLnRva2VuRGVwb3NpdDsKICB9CiAKICBmdW5jdGlvbiByZXR1cm5IYXNoKGFkZHJlc3NbMl0gdG9rZW5Vc2VyLHVpbnRbOF0gbWluTWF4RE1XQ1BOb25jZSkgIGV4dGVybmFsIHB1cmUgcmV0dXJucyAoYnl0ZXMzMikgewogICAgcmV0dXJuICAKICAgICAga2VjY2FrMjU2ICgKICAgICAgICB0b2tlblVzZXJbMF0sCiAgICAgICAgdG9rZW5Vc2VyWzFdLAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbMF0sCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVsxXSwKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzJdLCAKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzNdLAogICAgICAgIG1pbk1heERNV0NQTm9uY2VbNF0sCiAgICAgICAgbWluTWF4RE1XQ1BOb25jZVs1XSwKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzZdLCAKICAgICAgICBtaW5NYXhETVdDUE5vbmNlWzddCiAgICAgICk7CiAgfQoKCiAgZnVuY3Rpb24gcmV0dXJuQWRkcmVzcyhieXRlczMyIG9yZGVySGFzaCx1aW50OCB2LGJ5dGVzMzJbMl0gcnMpIGV4dGVybmFsIHB1cmUgcmV0dXJucyAoYWRkcmVzcykgewogICAgcmV0dXJuIGVjcmVjb3ZlcihvcmRlckhhc2gsdixyc1swXSxyc1sxXSk7CiAgfQoKICBmdW5jdGlvbiByZXR1cm5IYXNoTG9uZyhhZGRyZXNzIHNlbGxlcix1aW50WzNdIGFtb3VudE5vbmNlRXhwaXJ5KSAgZXh0ZXJuYWwgcHVyZSByZXR1cm5zIChieXRlczMyKSB7CiAgICByZXR1cm4ga2VjY2FrMjU2KHNlbGxlcixhbW91bnROb25jZUV4cGlyeVswXSxhbW91bnROb25jZUV4cGlyeVsxXSxhbW91bnROb25jZUV4cGlyeVsyXSk7CiAgfQoKICBmdW5jdGlvbiByZXR1cm5Mb25nQWRkcmVzcyhieXRlczMyIG9yZGVySGFzaCx1aW50OCB2LGJ5dGVzMzJbMl0gcnMpIGV4dGVybmFsIHB1cmUgcmV0dXJucyAoYWRkcmVzcykgewogICAgcmV0dXJuIGVjcmVjb3ZlcihvcmRlckhhc2gsdixyc1swXSxyc1sxXSk7CiAgfQoKICBmdW5jdGlvbiByZXR1cm5Db3Vwb25Qcm9wb3J0aW9uKGFkZHJlc3NbM10gdG9rZW5Vc2VyU2VuZGVyLGJ5dGVzMzIgb3JkZXJIYXNoKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQpewogICAgcmV0dXJuIHNhZmVEaXYoc2FmZU11bChvcmRlclJlY29yZFt0b2tlblVzZXJTZW5kZXJbMV1dW29yZGVySGFzaF0ubG9uZ0JhbGFuY2VbdG9rZW5Vc2VyU2VuZGVyWzJdXSwxMDApLG9yZGVyUmVjb3JkW3Rva2VuVXNlclNlbmRlclsxXV1bb3JkZXJIYXNoXS5iYWxhbmNlKTsKICB9CgogIGZ1bmN0aW9uIHJldHVybkxvbmdDb3Vwb25BbW91bnQoYWRkcmVzc1szXSB0b2tlblVzZXJTZW5kZXIsYnl0ZXMzMiBvcmRlckhhc2gsdWludCBjb3Vwb25Qcm9wb3J0aW9uKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQpIHsKICAgIHJldHVybiBzYWZlRGl2KHNhZmVNdWwob3JkZXJSZWNvcmRbdG9rZW5Vc2VyU2VuZGVyWzFdXVtvcmRlckhhc2hdLmNvdXBvbixzYWZlU3ViKDEwMCxjb3Vwb25Qcm9wb3J0aW9uKSksMTAwKTsKICB9CgogIGZ1bmN0aW9uIHJldHVybkxvbmdUb2tlbkFtb3VudChhZGRyZXNzWzNdIHRva2VuVXNlclNlbmRlcixieXRlczMyIG9yZGVySGFzaCx1aW50IGNvdXBvblByb3BvcnRpb24pIGV4dGVybmFsIHZpZXcgcmV0dXJucyAodWludCkgewogICAgcmV0dXJuIHNhZmVEaXYoc2FmZU11bChvcmRlclJlY29yZFt0b2tlblVzZXJTZW5kZXJbMV1dW29yZGVySGFzaF0uc2hvcnRCYWxhbmNlW3Rva2VuVXNlclNlbmRlclswXV0sc2FmZVN1YigxMDAsY291cG9uUHJvcG9ydGlvbikpLDEwMCk7CiAgfQoKfQ=='.
	

]
