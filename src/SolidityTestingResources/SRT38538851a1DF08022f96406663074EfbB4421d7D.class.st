Class {
	#name : #SRT38538851a1DF08022f96406663074EfbB4421d7D,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT38538851a1DF08022f96406663074EfbB4421d7D >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9Cn0KCmNvbnRyYWN0IE93bmFibGUgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgewogICAgICAgIGlmIChuZXdPd25lciAhPSBhZGRyZXNzKDApKSB7CiAgICAgICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICAgICAgfQogICAgfQoKfQoKY29udHJhY3QgRnVuZCBpcyBPd25hYmxlIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogICAgCiAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAiU2xvdCBUb2tlbiI7CiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSAwOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiU0xPVCI7CiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAiMC44IjsKICAgIAogICAgdWludDggY29uc3RhbnQgVE9LRU5TID0gMDsKICAgIHVpbnQ4IGNvbnN0YW50IFRPVEFMU1RBS0UgPSAxOwogICAgCiAgICB1aW50MjU2IHRvdGFsV2l0aGRyYXduOwogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICAKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2WzJdW10pIGJhbGFuY2VzOwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHdpdGhkcmF3YWxzOwogICAgCiAgICBldmVudCBXaXRoZHJhd24oCiAgICAgICAgICAgIGFkZHJlc3MgaW5kZXhlZCBpbnZlc3RvciwgCiAgICAgICAgICAgIGFkZHJlc3MgaW5kZXhlZCBiZW5lZmljaWFyeSwgCiAgICAgICAgICAgIHVpbnQyNTYgd2VpQW1vdW50KTsKICAgIGV2ZW50IE1pbnQoCiAgICAgICAgICAgIGFkZHJlc3MgaW5kZXhlZCB0bywgCiAgICAgICAgICAgIHVpbnQyNTYgYW1vdW50KTsKICAgIGV2ZW50IE1pbnRGaW5pc2hlZCgpOwogICAgZXZlbnQgVHJhbnNmZXIoCiAgICAgICAgICAgIGFkZHJlc3MgaW5kZXhlZCBmcm9tLCAKICAgICAgICAgICAgYWRkcmVzcyBpbmRleGVkIHRvLCAKICAgICAgICAgICAgdWludDI1NiB2YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbCgKICAgICAgICAgICAgYWRkcmVzcyBpbmRleGVkIG93bmVyLCAKICAgICAgICAgICAgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIAogICAgICAgICAgICB1aW50MjU2IHZhbHVlKTsKICAgICAgICAgICAgCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgogICAgYm9vbCBwdWJsaWMgbWludGluZ0ZpbmlzaGVkID0gZmFsc2U7CgogICAgbW9kaWZpZXIgY2FuTWludCgpIHsKICAgICAgICByZXF1aXJlKCFtaW50aW5nRmluaXNoZWQpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIEZ1bmQoKSBwYXlhYmxlIHt9CiAgICBmdW5jdGlvbigpIHBheWFibGUge30KICAgIAogICAgZnVuY3Rpb24gZ2V0RXRoZXJCYWxhbmNlKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDI1NiBfYmFsYW5jZSkgewogICAgICAgIHVpbnQyNTZbMl1bXSBtZW1vcnkgc25wcyA9IGJhbGFuY2VzW19vd25lcl07CiAgICAgICAgCiAgICAgICAgaWYgKHNucHMubGVuZ3RoID09IDApIHsgcmV0dXJuIDA7IH0KICAgICAgICBpZiAoc25wcy5sZW5ndGggPT0gMSkgewogICAgICAgICAgICB1aW50MjU2IGJhbCA9IHNucHNbMF1bVE9LRU5TXS5tdWwoZ2V0VG90YWxTdGFrZSgpKS5kaXYodG90YWxTdXBwbHkpOwogICAgICAgICAgICByZXR1cm4gYmFsLnN1Yih3aXRoZHJhd2Fsc1tfb3duZXJdKTsKICAgICAgICB9CgogICAgICAgIHVpbnQyNTYgYmFsYW5jZSA9IDA7CiAgICAgICAgdWludDI1NiBwcmV2U25Ub3RhbFN0ID0gMDsKICAgICAgICAKICAgICAgICBmb3IgKHVpbnQyNTYgaSA9IDAgOyBpIDwgc25wcy5sZW5ndGgtMSA7IGkrKykgewogICAgICAgICAgICB1aW50MjU2IHNuYXBUb3RhbFN0YWtlID0gc25wc1tpXVtUT1RBTFNUQUtFXTsKICAgICAgICAgICAgdWludDI1NiBzcGFuQmFsYW5jZSA9IHNucHNbaV1bVE9LRU5TXS5tdWwoc25hcFRvdGFsU3Rha2Uuc3ViKHByZXZTblRvdGFsU3QpKS5kaXYodG90YWxTdXBwbHkpOwogICAgICAgICAgICBiYWxhbmNlID0gYmFsYW5jZS5hZGQoc3BhbkJhbGFuY2UpOwogICAgICAgICAgICBwcmV2U25Ub3RhbFN0ID0gc25hcFRvdGFsU3Rha2U7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHVpbnQyNTYgYiA9IHNucHNbc25wcy5sZW5ndGgtMV1bVE9LRU5TXS5tdWwoZ2V0VG90YWxTdGFrZSgpLnN1YihwcmV2U25Ub3RhbFN0KSkuZGl2KHRvdGFsU3VwcGx5KTsKICAgICAgICByZXR1cm4gYmFsYW5jZS5hZGQoYikuc3ViKHdpdGhkcmF3YWxzW19vd25lcl0pOwogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgdWludDI1NlsyXVtdIG1lbW9yeSBzbnBzID0gYmFsYW5jZXNbX293bmVyXTsKICAgICAgICBpZiAoc25wcy5sZW5ndGggPT0gMCkgeyByZXR1cm4gMDsgfQogICAgICAgIAogICAgICAgIHJldHVybiBzbnBzW3NucHMubGVuZ3RoLTFdW1RPS0VOU107CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdldFRvdGFsU3Rha2UoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IF90b3RhbFN0YWtlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYmFsYW5jZSArIHRvdGFsV2l0aGRyYXduOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB3aXRoZHJhd0V0aGVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHsKICAgICAgICByZXF1aXJlKGdldEV0aGVyQmFsYW5jZShtc2cuc2VuZGVyKSA+PSBfdmFsdWUpOwogICAgICAgIHdpdGhkcmF3YWxzW21zZy5zZW5kZXJdID0gd2l0aGRyYXdhbHNbbXNnLnNlbmRlcl0uYWRkKF92YWx1ZSk7CiAgICAgICAgdG90YWxXaXRoZHJhd24gPSB0b3RhbFdpdGhkcmF3bi5hZGQoX3ZhbHVlKTsKICAgICAgICBfdG8udHJhbnNmZXIoX3ZhbHVlKTsKICAgICAgICBXaXRoZHJhd24obXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gdHJhbnNmZXJGcm9tUHJpdmF0ZShtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbVByaXZhdGUoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwcml2YXRlIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKGJhbGFuY2VPZihtc2cuc2VuZGVyKSA+PSBfdmFsdWUpOwogICAgICAgIHVpbnQyNTYgZnJvbVRva2VucyA9IGJhbGFuY2VPZihtc2cuc2VuZGVyKTsKICAgICAgICBwdXNoU25wKG1zZy5zZW5kZXIsIGZyb21Ub2tlbnMtX3ZhbHVlKTsKICAgICAgICB1aW50MjU2IHRvVG9rZW5zID0gYmFsYW5jZU9mKF90byk7CiAgICAgICAgcHVzaFNucChfdG8sIHRvVG9rZW5zK192YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gcHVzaFNucChhZGRyZXNzIF9iZW5lZmljaWFyeSwgdWludDI1NiBfYW1vdW50KSBwcml2YXRlIHsKICAgICAgICBpZiAoYmFsYW5jZXNbX2JlbmVmaWNpYXJ5XS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHVpbnQyNTYgbGVuZ3RoID0gYmFsYW5jZXNbX2JlbmVmaWNpYXJ5XS5sZW5ndGg7CiAgICAgICAgICAgIGFzc2VydChiYWxhbmNlc1tfYmVuZWZpY2lhcnldW2xlbmd0aC0xXVtUT1RBTFNUQUtFXSA9PSAwKTsKICAgICAgICAgICAgYmFsYW5jZXNbX2JlbmVmaWNpYXJ5XVtsZW5ndGgtMV1bVE9UQUxTVEFLRV0gPSBnZXRUb3RhbFN0YWtlKCk7CiAgICAgICAgfQogICAgICAgIGJhbGFuY2VzW19iZW5lZmljaWFyeV0ucHVzaChbX2Ftb3VudCwgMF0pOwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIG9ubHlPd25lciBjYW5NaW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICBwdXNoU25wKF90bywgX2Ftb3VudC5hZGQoYmFsYW5jZU9mKF90bykpKTsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgICAgICBNaW50KF90bywgX2Ftb3VudCk7CiAgICAgICAgVHJhbnNmZXIoMHgwLCBfdG8sIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCgogICAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CiAgICAgICAgbWludGluZ0ZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICBNaW50RmluaXNoZWQoKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZSgoX3ZhbHVlID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgdWludDI1NiBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CiAgICAgICAgdHJhbnNmZXJGcm9tUHJpdmF0ZShfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAp9CmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgewogIGV2ZW50IFBhdXNlKCk7CiAgZXZlbnQgVW5wYXVzZSgpOwoKICBib29sIHB1YmxpYyBwYXVzZWQgPSBmYWxzZTsKCiAgbW9kaWZpZXIgd2hlbk5vdFBhdXNlZCgpIHsKICAgIHJlcXVpcmUoIXBhdXNlZCk7CiAgICBfOwogIH0KICAKICBtb2RpZmllciB3aGVuUGF1c2VkIHsKICAgIHJlcXVpcmUocGF1c2VkKTsKICAgIF87CiAgfQoKICBmdW5jdGlvbiBwYXVzZSgpIG9ubHlPd25lciB3aGVuTm90UGF1c2VkIHJldHVybnMgKGJvb2wpIHsKICAgIHBhdXNlZCA9IHRydWU7CiAgICBQYXVzZSgpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiB1bnBhdXNlKCkgb25seU93bmVyIHdoZW5QYXVzZWQgcmV0dXJucyAoYm9vbCkgewogICAgcGF1c2VkID0gZmFsc2U7CiAgICBVbnBhdXNlKCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCmNvbnRyYWN0IFNsb3RDcm93ZHNhbGUgaXMgT3duYWJsZSwgUGF1c2FibGUgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgdWludDI1NiBjb25zdGFudCBQUklDRSAgICAgICAgPSAgICAxIGV0aGVyOwogICAgdWludDI1NiBjb25zdGFudCBUT0tFTl9DQVAgICAgPSAgIDEwMDAwMDAwOwogICAgdWludDI1NiBjb25zdGFudCBCT1VOVFkgICAgICAgPSAgICAgMjUwMDAwOwogICAgdWludDI1NiBjb25zdGFudCBPV05FUlNfU1RBS0UgPSAgICAzNzUwMDAwOwogICAgdWludDI1NiBjb25zdGFudCBPV05FUlNfTE9DSyAgPSAgICAgMjAwMDAwOwogICAgCiAgICBhZGRyZXNzIHB1YmxpYyBib3VudHlXYWxsZXQ7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcnNXYWxsZXQ7CiAgICB1aW50MjU2IHB1YmxpYyBsb2NrQmVndW5BdEJsb2NrOwogICAgYm9vbCBwdWJsaWMgYm91bnR5RGlzdHJpYnV0ZWQgPSBmYWxzZTsKICAgIGJvb2wgcHVibGljIG93bmVyc2hpcERpc3RyaWJ1dGVkID0gZmFsc2U7CiAgICAKICAgIEZ1bmQgcHVibGljIGZ1bmQ7CiAgICAKICAgIHVpbnQyNTZbMTBdIG91dGNvbWVzID0gWzEwMDAwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjUwMDAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwMDAwMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjAwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwMDAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNDAwMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMjUwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTAwMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA1MDBdOwoKICAgIHVpbnQxNlsxMF0gb3V0Y29tZXNDaGFuY2VzID0gWzEsIDQsIDEwLCA1MCwgMTAwLCAyNTAsIDUwMCwgIDgwMCwgMTAwMCwgMjAwMF07CiAgICB1aW50MTZbMTBdIGFkZGVkVXBDaGFuY2VzID0gIFsxLCA1LCAxNSwgNjUsIDE2NSwgNDE1LCA5MTUsIDE3MTUsIDI3MTUsIDQ3MTVdOwogICAgCiAgICBldmVudCBPd25lcnNoaXBEaXN0cmlidXRlZCgpOwogICAgZXZlbnQgQm91bnR5RGlzdHJpYnV0ZWQoKTsKCiAgICBmdW5jdGlvbiBTbG90Q3Jvd2RzYWxlKCkgcHVibGljIHBheWFibGUgewogICAgICAgIGZ1bmQgPSBuZXcgRnVuZCgpOwogICAgICAgIGJvdW50eVdhbGxldCA9IDB4MDBkZUY5MzkyOEEzYUFENTgxRjM5MDQ5YTNCYkNhYUI5QmJFMzZDODsKICAgICAgICBvd25lcnNXYWxsZXQgPSAweDAwMDE2MTkxNTNkOEZFMTVCM0ZBNzA2MDU4NTkyNjVjYjAwMzNjMWE7CiAgICB9CgogICAgZnVuY3Rpb24oKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgYnV5VG9rZW5Gb3IobXNnLnNlbmRlcik7CiAgICB9CgogICAgZnVuY3Rpb24gYnV5VG9rZW5Gb3IoYWRkcmVzcyBfYmVuZWZpY2lhcnkpIHB1YmxpYyB3aGVuTm90UGF1c2VkKCkgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZShfYmVuZWZpY2lhcnkgIT0gMHgwKTsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBQUklDRSk7CiAgICAgICAgCiAgICAgICAgdWludDI1NiBjaGFuZ2UgPSBtc2cudmFsdWUlUFJJQ0U7CiAgICAgICAgdWludDI1NiB2YWx1ZSA9IG1zZy52YWx1ZS5zdWIoY2hhbmdlKTsKCiAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihjaGFuZ2UpOwogICAgICAgIG93bmVyc1dhbGxldC50cmFuc2Zlcih2YWx1ZSk7CiAgICAgICAgZnVuZC5taW50KF9iZW5lZmljaWFyeSwgZ2V0QW1vdW50KHZhbHVlLmRpdihQUklDRSkpKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY29ycmVjdGVkSW5kZXgodWludDggX2luZGV4LCB1aW50OCBpKSBwcml2YXRlIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4KSB7CiAgICAgICAgcmVxdWlyZShpIDwgb3V0Y29tZXNDaGFuY2VzLmxlbmd0aCk7ICAgICAgICAKICAgICAgICBpZiAob3V0Y29tZXNDaGFuY2VzW19pbmRleF0gPiAwKSB7CiAgICAgICAgICAgIHJldHVybiB1aW50OCgoX2luZGV4ICsgaSklb3V0Y29tZXNDaGFuY2VzLmxlbmd0aCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGNvcnJlY3RlZEluZGV4KF9pbmRleCwgaSsxKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdldEluZGV4KHVpbnQyNTYgX3JhbmRvbU51bWJlcikgcHJpdmF0ZSByZXR1cm5zICh1aW50OCkgewogICAgICAgIGZvciAodWludDggaSA9IDAgOyBpIDwgdWludDgob3V0Y29tZXNDaGFuY2VzLmxlbmd0aCkgOyBpKyspIHsKICAgICAgICAgICAgaWYgKF9yYW5kb21OdW1iZXIgPCBhZGRlZFVwQ2hhbmNlc1tpXSkgewogICAgICAgICAgICAgICAgdWludDggaW5kZXggPSBjb3JyZWN0ZWRJbmRleChpLCAwKTsKICAgICAgICAgICAgICAgIGFzc2VydChvdXRjb21lc0NoYW5jZXNbaW5kZXhdICE9IDApOwogICAgICAgICAgICAgICAgb3V0Y29tZXNDaGFuY2VzW2luZGV4XS0tOwogICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4OyAKICAgICAgICAgICAgfSBlbHNlIHsgCiAgICAgICAgICAgICAgICBjb250aW51ZTsgCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0QW1vdW50KHVpbnQyNTYgX251bWJlck9mVHJpZXMpIHByaXZhdGUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQxNiB0b3RhbENoYW5jZXMgPSBhZGRlZFVwQ2hhbmNlc1thZGRlZFVwQ2hhbmNlcy5sZW5ndGgtMV07CiAgICAgICAgdWludDI1NiBhbW91bnQgPSAwOwoKICAgICAgICBmb3IgKHVpbnQxNiBpID0gMCA7IGkgPCBfbnVtYmVyT2ZUcmllczsgaSsrKSB7CiAgICAgICAgICAgIHVpbnQyNTYgcmFuZCA9IHVpbnQyNTYoa2VjY2FrMjU2KGJsb2NrLmJsb2NraGFzaChibG9jay5udW1iZXItMSksaSkpICUgdG90YWxDaGFuY2VzOwogICAgICAgICAgICBhbW91bnQgPSBhbW91bnQuYWRkKG91dGNvbWVzW2dldEluZGV4KHJhbmQpXSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJldHVybiBhbW91bnQ7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNyb3dkc2FsZUVuZGVkKCkgY29uc3RhbnQgcHJpdmF0ZSByZXR1cm5zIChib29sKSB7CiAgICAgICAgaWYgKGZ1bmQudG90YWxTdXBwbHkoKSA+PSBUT0tFTl9DQVApIHsgCiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgCiAgICAgICAgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiBsb2NrRW5kZWQoKSBjb25zdGFudCBwcml2YXRlIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBpZiAoYmxvY2subnVtYmVyLnN1Yihsb2NrQmVndW5BdEJsb2NrKSA+IE9XTkVSU19MT0NLKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOyAKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIAogICAgfQogICAgICAgIAogICAgZnVuY3Rpb24gZGlzdHJpYnV0ZUJvdW50eSgpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoIWJvdW50eURpc3RyaWJ1dGVkKTsKICAgICAgICByZXF1aXJlKGNyb3dkc2FsZUVuZGVkKCkpOwogICAgICAgIAogICAgICAgIGZ1bmQubWludChib3VudHlXYWxsZXQsIEJPVU5UWSk7CiAgICAgICAgCiAgICAgICAgYm91bnR5RGlzdHJpYnV0ZWQgPSB0cnVlOwogICAgICAgIGxvY2tCZWd1bkF0QmxvY2sgPSBibG9jay5udW1iZXI7CiAgICAgICAgCiAgICAgICAgQm91bnR5RGlzdHJpYnV0ZWQoKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZGlzdHJpYnV0ZU93bmVyc2hpcCgpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoIW93bmVyc2hpcERpc3RyaWJ1dGVkKTsKICAgICAgICByZXF1aXJlKGNyb3dkc2FsZUVuZGVkKCkpOwogICAgICAgIHJlcXVpcmUobG9ja0VuZGVkKCkpOwogICAgICAgIAogICAgICAgIGZ1bmQubWludChvd25lcnNXYWxsZXQsIE9XTkVSU19TVEFLRSk7CiAgICAgICAgb3duZXJzaGlwRGlzdHJpYnV0ZWQgPSB0cnVlOwogICAgICAgIAogICAgICAgIE93bmVyc2hpcERpc3RyaWJ1dGVkKCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNoYW5nZU93bmVyc1dhbGxldChhZGRyZXNzIF9uZXdXYWxsZXQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoX25ld1dhbGxldCAhPSAweDApOwogICAgICAgIG93bmVyc1dhbGxldCA9IF9uZXdXYWxsZXQ7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNoYW5nZUJvdW50eVdhbGxldChhZGRyZXNzIF9uZXdXYWxsZXQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoX25ld1dhbGxldCAhPSAweDApOwogICAgICAgIGJvdW50eVdhbGxldCA9IF9uZXdXYWxsZXQ7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNoYW5nZUZ1bmRPd25lcihhZGRyZXNzIF9uZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShfbmV3T3duZXIgIT0gMHgwKTsKICAgICAgICBmdW5kLnRyYW5zZmVyT3duZXJzaGlwKF9uZXdPd25lcik7CiAgICB9CgogICAgZnVuY3Rpb24gY2hhbmdlRnVuZChhZGRyZXNzIF9uZXdGdW5kKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKF9uZXdGdW5kICE9IDB4MCk7CiAgICAgICAgZnVuZCA9IEZ1bmQoX25ld0Z1bmQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGRlc3Ryb3koKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBzZWxmZGVzdHJ1Y3QobXNnLnNlbmRlcik7CiAgICB9Cgp9'.
	

]
