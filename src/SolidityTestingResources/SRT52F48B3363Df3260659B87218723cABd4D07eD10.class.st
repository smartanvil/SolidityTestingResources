Class {
	#name : #SRT52F48B3363Df3260659B87218723cABd4D07eD10,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT52F48B3363Df3260659B87218723cABd4D07eD10 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBCZWdnYXJCZXR0aW5nIHsKCiAgICBzdHJ1Y3QgTWF0Y2hCZXR0aW5nSW5mbyB7ICAgIAogICAgICAgIGFkZHJlc3MgYmV0dGVyOwogICAgICAgIHVpbnQyNTYgbWF0Y2hJZDsKICAgICAgICB1aW50IGhvbWVUZWFtU2NvcmU7CiAgICAgICAgdWludCBhd2F5VGVhbVNjb3JlOyAgICAgCiAgICAgICAgdWludCBiZXR0aW5nUHJpY2U7ICAKICAgIH0KCiAgICBzdHJ1Y3QgQmV0dGVyQmV0dGluZ0luZm8geyAgICAKICAgICAgICB1aW50MjU2IG1hdGNoSWQ7CiAgICAgICAgdWludCBob21lVGVhbVNjb3JlOwogICAgICAgIHVpbnQgYXdheVRlYW1TY29yZTsgICAgIAogICAgICAgIHVpbnQgYmV0dGluZ1ByaWNlOwogICAgICAgIGJvb2wgaXNXaW5uZXI7IAogICAgICAgIGJvb2wgaGFzUmVjZWl2ZWRQcml6ZTsKICAgICAgICB1aW50MjU2IHdpbm5pbmdQcml6ZTsKICAgICAgICB1aW50IG51bU9mV2lubmVyczsgICAKICAgICAgICB1aW50IG51bU9mQmV0dGVyczsgICAKICAgIH0KCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIG1hcHBpbmcodWludDI1NiA9PiBNYXRjaEJldHRpbmdJbmZvW10pIHB1YmxpYyBtYXRjaEJldHRpbmdJbmZvOyAgCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gQmV0dGVyQmV0dGluZ0luZm9bXSkgcHVibGljIGJldHRlckJldHRpbmdJbmZvOwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiZXR0ZXJCYWxhbmNlOwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBiZXR0ZXJOdW1XaW5uaW5nOwogICAgdWludCBudW1PZlBhbmhhbmRsZXI7CiAgICB1aW50IG51bU9mVmFnYWJvbmQ7CiAgICB1aW50IG51bU9mVHJhbXA7CiAgICB1aW50IG51bU9mTWlkZGxlQ2xhc3M7CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3RvciBmdW5jdGlvbgogICAgICoKICAgICAqIENyZWF0ZSB0aGUgb3duZXIgb2YgdGhlIGNvbnRyYWN0IG9uIGZpcnN0IGluaXRpYWxpemF0aW9uCiAgICAgKi8KICAgIGZ1bmN0aW9uIEJlZ2dhckJldHRpbmcoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIC8qKgogICAgICogRmFsbGJhY2sgZnVuY3Rpb24KICAgICAqLwogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7fQoKICAgIC8qKgogICAgICogU3RvcmUgYmV0dGluZyBkYXRhIHN1Ym1pdHRlZCBieSB0aGUgdXNlcgogICAgICoKICAgICAqIFNlbmQgYG1zZy52YWx1ZWAgdG8gdGhpcyBjb250cmFjdAogICAgICoKICAgICAqIEBwYXJhbSBfbWF0Y2hJZCBUaGUgbWF0Y2hJZCB0byBzdG9yZQogICAgICogQHBhcmFtIF9ob21lVGVhbVNjb3JlIFRoZSBob21lIHRlYW0gc2NvcmUgdG8gc3RvcmUKICAgICAqIEBwYXJhbSBfYXdheVRlYW1TY29yZSBUaGUgYXdheSB0ZWFtIHNjb3JlIHRvIHN0b3JlCiAgICAgKiBAcGFyYW0gX2JldHRpbmdQcmljZSBUaGUgYmV0dGluZyBwcmljZSB0byBzdG9yZQogICAgICovICAKICAgIGZ1bmN0aW9uIHBsYWNlQmV0KHVpbnQyNTYgX21hdGNoSWQsIHVpbnQgX2hvbWVUZWFtU2NvcmUsIHVpbnQgX2F3YXlUZWFtU2NvcmUsIHVpbnQgX2JldHRpbmdQcmljZSkgcHVibGljIHBheWFibGUgcmV0dXJucyAoYm9vbCkgeyAgCiAgICAgICAgcmVxdWlyZShfYmV0dGluZ1ByaWNlID09IG1zZy52YWx1ZSk7IC8vIENoZWNrIGV0aGVyIHNlbmQgYnkgc2VuZGVyIGlzIGVxdWFsIHRvIGJldCBhbW91bnQKICAgICAgICBib29sIHJlc3VsdCA9IGNoZWNrRHVwbGljYXRlTWF0Y2hJZChtc2cuc2VuZGVyLCBfbWF0Y2hJZCwgX2JldHRpbmdQcmljZSk7ICAgIAogICAgICAgIC8vIFJldmVydCBpZiB0aGUgc2VuZGVyIGhhcyBhbHJlYWR5IHBsYWNlZCB0aGlzIGJldAogICAgICAgIGlmIChyZXN1bHQpIHsKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgbWF0Y2hCZXR0aW5nSW5mb1tfbWF0Y2hJZF0ucHVzaChNYXRjaEJldHRpbmdJbmZvKG1zZy5zZW5kZXIsIF9tYXRjaElkLCBfaG9tZVRlYW1TY29yZSwgX2F3YXlUZWFtU2NvcmUsIF9iZXR0aW5nUHJpY2UpKTsgLy8gU3RvcmUgdGhpcyBtYXRjaCdzIGJldHRpbmcgaW5mbyAgICAgICAgCiAgICAgICAgYmV0dGVyQmV0dGluZ0luZm9bbXNnLnNlbmRlcl0ucHVzaChCZXR0ZXJCZXR0aW5nSW5mbyhfbWF0Y2hJZCwgX2hvbWVUZWFtU2NvcmUsIF9hd2F5VGVhbVNjb3JlLCBfYmV0dGluZ1ByaWNlLCBmYWxzZSwgZmFsc2UsIDAsIDAsIDApKTsgLy8gU3RvcmUgdGhpcyBiZXR0ZXIncyBiZXR0aW5nIGluZm8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBhZGRyZXNzKHRoaXMpLnRyYW5zZmVyKG1zZy52YWx1ZSk7IC8vIFNlbmQgdGhlIHVzZXIncyBiZXR0aW5nIHByaWNlIHRvIHRoaXMgY29udHJhY3QKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KIAogICAgLyoqCiAgICAgKiBDbGFpbSB3aW5uaW5nIHByaXplIGJ5IHRoZSB1c2VyCiAgICAgKgogICAgICogU2VuZCBgd2lubmluZ1ByaXplYCB0byAnbXNnLnNlbmRlcicgZnJvbSB0aGlzIGNvbnRyYWN0CiAgICAgKgogICAgICogQHBhcmFtIF9tYXRjaElkIFRoZSBtYXRjaElkIHRvIGZpbmQgd2lubmVycwogICAgICogQHBhcmFtIF9ob21lVGVhbVNjb3JlIFRoZSBob21lIHRlYW0gc2NvcmUgdG8gZmluZCBtYXRjaGluZyBzY29yZQogICAgICogQHBhcmFtIF9hd2F5VGVhbVNjb3JlIFRoZSBhd2F5IHRlYW0gc2NvcmUgdG8gZmluZCBtYXRjaGluZyBzY29yZQogICAgICogQHBhcmFtIF9iZXR0aW5nUHJpY2UgVGhlIGJldHRpbmcgcHJpY2UgdG8gZmluZCBtYXRjaGluZyBwcmljZQogICAgICovICAKICAgIGZ1bmN0aW9uIGNsYWltUHJpemVzKHVpbnQyNTYgX21hdGNoSWQsIHVpbnQgX2hvbWVUZWFtU2NvcmUsIHVpbnQgX2F3YXlUZWFtU2NvcmUsIHVpbnQgX2JldHRpbmdQcmljZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB1aW50IHRvdGFsTnVtQmV0dGVycyA9IG1hdGNoQmV0dGluZ0luZm9bX21hdGNoSWRdLmxlbmd0aDsgIAogICAgICAgIHVpbnQgbnVtT2ZCZXR0ZXJzID0gMDsKICAgICAgICB1aW50IG51bU9mV2lubmVycyA9IDA7CiAgICAgICAgdWludDI1NiB3aW5uaW5nUHJpemUgPSAwOwogICAgICAgIHVpbnQgY29tbWlzc2lvblRvT3duZXIgPSAwOyAgCiAgICAgICAgYm9vbCByZXN1bHQgPSBjaGVja1ByaXplQWxyZWFkeVJlY2VpdmVkKG1zZy5zZW5kZXIsIF9tYXRjaElkLCBfYmV0dGluZ1ByaWNlKTsgICAgICAgIAogICAgICAgIC8vIFJldmVydCBpZiB0aGUgc2VuZGVyIGhhcyBhbHJlYWR5IHJlY2VpdmVkIHRoZSBwcml6ZQogICAgICAgIGlmIChyZXN1bHQpIHsKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgfSAgICAgICAgICAKICAgICAgICAvLyBGaW5kIG1hdGNoaW5nIHNjb3JlcyBhbW9uZyBiZXR0ZXJzIHdobyBiZXR0ZWQgZm9yIHRoaXMgbWF0Y2ggJiBwcmljZQogICAgICAgIGZvciAodWludCBqID0gMDsgaiA8IHRvdGFsTnVtQmV0dGVyczsgaisrKSB7ICAKICAgICAgICAgICAgaWYgKG1hdGNoQmV0dGluZ0luZm9bX21hdGNoSWRdW2pdLmJldHRpbmdQcmljZSA9PSBfYmV0dGluZ1ByaWNlKSB7CiAgICAgICAgICAgICAgICBudW1PZkJldHRlcnMrKzsKICAgICAgICAgICAgICAgIGlmIChtYXRjaEJldHRpbmdJbmZvW19tYXRjaElkXVtqXS5ob21lVGVhbVNjb3JlID09IF9ob21lVGVhbVNjb3JlICYmIG1hdGNoQmV0dGluZ0luZm9bX21hdGNoSWRdW2pdLmF3YXlUZWFtU2NvcmUgPT0gX2F3YXlUZWFtU2NvcmUpIHsgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgbnVtT2ZXaW5uZXJzKys7CiAgICAgICAgICAgICAgICB9ICAgIAogICAgICAgICAgICB9CiAgICAgICAgfSAgIAogICAgICAgIC8vIG1zZy5zZW5kZXIgaXMgdGhlIG9ubHkgd2lubmVyLCBnZXRzIGFsbCB0aGUgcHJpemUgYW5kIGdpdmVzIGEgNyUgY29tbWlzc2lvbiB0byB0aGUgb3duZXIKICAgICAgICBpZiAobnVtT2ZXaW5uZXJzID09IDEpIHsgICAgICAKICAgICAgICAgICAgY29tbWlzc2lvblRvT3duZXIgPSBfYmV0dGluZ1ByaWNlICogbnVtT2ZCZXR0ZXJzICogNyAvIDEwMDsgIAogICAgICAgICAgICBiZXR0ZXJCYWxhbmNlW21zZy5zZW5kZXJdID0gKF9iZXR0aW5nUHJpY2UgKiBudW1PZkJldHRlcnMpIC0gY29tbWlzc2lvblRvT3duZXI7CiAgICAgICAgICAgIHdpbm5pbmdQcml6ZSA9IChfYmV0dGluZ1ByaWNlICogbnVtT2ZCZXR0ZXJzKSAtIGNvbW1pc3Npb25Ub093bmVyOwogICAgICAgIC8vIE9uZSBtb3JlIHdpbm5lciwgZGl2aWRlIGl0IGVxdWFsbHkgYW5kIGdpdmVzIGEgNyUgY29tbWlzc2lvbiB0byB0aGUgb3duZXIKICAgICAgICB9IGVsc2UgaWYgKG51bU9mV2lubmVycyA+IDEpIHsKICAgICAgICAgICAgY29tbWlzc2lvblRvT3duZXIgPSAoKF9iZXR0aW5nUHJpY2UgKiBudW1PZkJldHRlcnMpIC8gbnVtT2ZXaW5uZXJzKSAqIDcgLyAxMDA7ICAKICAgICAgICAgICAgYmV0dGVyQmFsYW5jZVttc2cuc2VuZGVyXSA9ICgoX2JldHRpbmdQcmljZSAqIG51bU9mQmV0dGVycykgLyBudW1PZldpbm5lcnMpIC0gY29tbWlzc2lvblRvT3duZXI7CiAgICAgICAgICAgIHdpbm5pbmdQcml6ZSA9ICgoX2JldHRpbmdQcmljZSAqIG51bU9mQmV0dGVycykgLyBudW1PZldpbm5lcnMpIC0gY29tbWlzc2lvblRvT3duZXI7ICAgCiAgICAgICAgfQogICAgCiAgICAgICAgc2VuZENvbW1pc3Npb25Ub093bmVyKGNvbW1pc3Npb25Ub093bmVyKTsKICAgICAgICB3aXRoZHJhdygpOwogICAgICAgIGFmdGVyQ2xhaW0oX21hdGNoSWQsIF9iZXR0aW5nUHJpY2UsIHdpbm5pbmdQcml6ZSwgbnVtT2ZXaW5uZXJzLCBudW1PZkJldHRlcnMpOwogICAgCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZW5kIDclIGNvbW1pc3Npb24gdG8gdGhlIGNvbnRyYWN0IG93bmVyCiAgICAgKgogICAgICogU2VuZCBgX2NvbW1pc3Npb25gIHRvIGBvd25lcmAgZnJvbSB0aGUgd2lubmVyJ3MgcHJpemUKICAgICAqCiAgICAgKiBAcGFyYW0gX2NvbW1pc3Npb24gVGhlIGNvbW1pc3Npb24gdG8gYmUgc2VudCB0byB0aGUgY29udHJhY3Qgb3duZXIKICAgICAqLwogICAgZnVuY3Rpb24gc2VuZENvbW1pc3Npb25Ub093bmVyKHVpbnQgX2NvbW1pc3Npb24pIHByaXZhdGUgeyAgICAKICAgICAgICByZXF1aXJlKGFkZHJlc3ModGhpcykuYmFsYW5jZSA+PSBfY29tbWlzc2lvbik7IAogICAgICAgIG93bmVyLnRyYW5zZmVyKF9jb21taXNzaW9uKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNlbmQgd2lubmluZyBwcml6ZSB0byB0aGUgd2lubmVyCiAgICAgKgogICAgICogU2VuZCBgYmFsYW5jZWAgdG8gYG1zZy5zZW5kZXJgIGZyb20gdGhlIGNvbnRyYWN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIHdpdGhkcmF3KCkgcHJpdmF0ZSB7CiAgICAgICAgdWludDI1NiBiYWxhbmNlID0gYmV0dGVyQmFsYW5jZVttc2cuc2VuZGVyXTsgICAgCiAgICAgICAgcmVxdWlyZShhZGRyZXNzKHRoaXMpLmJhbGFuY2UgPj0gYmFsYW5jZSk7IAogICAgICAgIGJldHRlckJhbGFuY2VbbXNnLnNlbmRlcl0gLT0gYmFsYW5jZTsKICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGJhbGFuY2UpOwogICAgfQoKICAgIC8qKgogICAgICogTW9kaWZ5IHdpbm5lcidzIGJldHRpbmcgaW5mb3JtYXRpb24gYWZ0ZXIgcmVjZWl2aW5nIHRoZSBwcml6ZQogICAgICoKICAgICAqIENoYW5nZSBoYXNSZWNlaXZlZFByaXplIHRvIHRydWUgdG8gcHJvY2VzcyBpbmZvIHBhbmVsCiAgICAgKgogICAgICogQHBhcmFtIF9tYXRjaElkIFRoZSBtYXRjaElkIHRvIGZpbmQgbXNnLnNlbmRlcidzIGluZm8gdG8gbW9kaWZ5CiAgICAgKiBAcGFyYW0gX2JldHRpbmdQcmljZSBUaGUgYmV0dGluZyBwcmljZSB0byBmaW5kIG1zZy5zZW5kZXIncyBpbmZvIHRvIG1vZGlmeQogICAgICogQHBhcmFtIF93aW5uaW5nUHJpemUgVGhlIHdpbm5pbmcgcHJpemUgdG8gYXNzaWduIHZhbHVlIHRvIG1zZy5zZW5kZXIncyBmaW5hbCBiZXR0aW5nIGluZm8KICAgICAqIEBwYXJhbSBfbnVtT2ZXaW5uZXJzIFRoZSBudW1iZXIgb2Ygd2lubmVycyB0byBhc3NpZ24gdmFsdWUgdG8gbXNnLnNlbmRlcidzIGZpbmFsIGJldHRpbmcgaW5mbwogICAgICogQHBhcmFtIF9udW1PZkJldHRlcnMgVGhlIG51bWJlciBvZiBiZXR0ZXJzIHRvIGFzc2lnbiB2YWx1ZSB0byBtc2cuc2VuZGVyJ3MgZmluYWwgYmV0dGluZyBpbmZvCiAgICAgKi8gCiAgICBmdW5jdGlvbiBhZnRlckNsYWltKHVpbnQyNTYgX21hdGNoSWQsIHVpbnQgX2JldHRpbmdQcmljZSwgdWludDI1NiBfd2lubmluZ1ByaXplLCB1aW50IF9udW1PZldpbm5lcnMsIHVpbnQgX251bU9mQmV0dGVycykgcHJpdmF0ZSB7CiAgICAgICAgdWludCBudW1PZkJldHRpbmdJbmZvID0gYmV0dGVyQmV0dGluZ0luZm9bbXNnLnNlbmRlcl0ubGVuZ3RoOwoKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBudW1PZkJldHRpbmdJbmZvOyBpKyspIHsKICAgICAgICAgICAgaWYgKGJldHRlckJldHRpbmdJbmZvW21zZy5zZW5kZXJdW2ldLm1hdGNoSWQgPT0gX21hdGNoSWQgJiYgYmV0dGVyQmV0dGluZ0luZm9bbXNnLnNlbmRlcl1baV0uYmV0dGluZ1ByaWNlID09IF9iZXR0aW5nUHJpY2UpIHsKICAgICAgICAgICAgICAgIGJldHRlckJldHRpbmdJbmZvW21zZy5zZW5kZXJdW2ldLmhhc1JlY2VpdmVkUHJpemUgPSB0cnVlOwogICAgICAgICAgICAgICAgYmV0dGVyQmV0dGluZ0luZm9bbXNnLnNlbmRlcl1baV0ud2lubmluZ1ByaXplID0gX3dpbm5pbmdQcml6ZTsKICAgICAgICAgICAgICAgIGJldHRlckJldHRpbmdJbmZvW21zZy5zZW5kZXJdW2ldLm51bU9mV2lubmVycyA9IF9udW1PZldpbm5lcnM7CiAgICAgICAgICAgICAgICBiZXR0ZXJCZXR0aW5nSW5mb1ttc2cuc2VuZGVyXVtpXS5udW1PZkJldHRlcnMgPSBfbnVtT2ZCZXR0ZXJzOwogICAgICAgICAgICB9CiAgICAgICAgfSAgICAKCiAgICAgICAgYmV0dGVyTnVtV2lubmluZ1ttc2cuc2VuZGVyXSArPSAxOwogICAgICAgIENoZWNrUHJpdmlsZWdlQWNjb21wbGlzaG1lbnQoYmV0dGVyTnVtV2lubmluZ1ttc2cuc2VuZGVyXSk7ICAgICAgICAKICAgIH0KCiAgICAvKioKICAgICAqIEZpbmQgdGhlIG1zZy5zZW5kZXIncyBudW1iZXIgb2Ygd2lubmluZ3MgYW5kIGluY3JlbWVudCB0aGUgcHJpdmlsZWdlIGlmIGl0IG1hdGNoZXMKICAgICAqCiAgICAgKiBJbmNyZW1lbnQgb25lIG9mIHRoZSBwcml2aWxlZ2VzIGlmIG51bVdpbm5pbmcgbWF0Y2hlcwogICAgICovCiAgICBmdW5jdGlvbiBDaGVja1ByaXZpbGVnZUFjY29tcGxpc2htZW50KHVpbnQgbnVtV2lubmluZykgcHVibGljIHsKICAgICAgICBpZiAobnVtV2lubmluZyA9PSAzKSB7CiAgICAgICAgICAgIG51bU9mUGFuaGFuZGxlcisrOwogICAgICAgIH0KICAgICAgICBpZiAobnVtV2lubmluZyA9PSA4KSB7CiAgICAgICAgICAgIG51bU9mVmFnYWJvbmQrKzsKICAgICAgICB9CiAgICAgICAgaWYgKG51bVdpbm5pbmcgPT0gMTUpIHsKICAgICAgICAgICAgbnVtT2ZUcmFtcCsrOwogICAgICAgIH0KICAgICAgICBpZiAobnVtV2lubmluZyA9PSAyMSkgewogICAgICAgICAgICBudW1PZk1pZGRsZUNsYXNzKys7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogUHJldmVudCB0aGUgdXNlciBmcm9tIHN1Ym1pdHRpbmcgdGhlIHNhbWUgYmV0IGFnYWluCiAgICAgKgogICAgICogU2VuZCBgX2NvbW1pc3Npb25gIHRvIGBvd25lcmAgZnJvbSB0aGUgd2lubmVyJ3MgcHJpemUKICAgICAqCiAgICAgKiBAcGFyYW0gX2JldHRlciBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAgKiBAcGFyYW0gX21hdGNoSWQgVGhlIG1hdGNoSWQgdG8gZmluZCB0aGUgbXNnLnNlbmRlcidzIGJldHRpbmcgaW5mbwogICAgICogQHBhcmFtIF9iZXR0aW5nUHJpY2UgVGhlIGJldHRpbmcgcHJpY2UgdG8gZmluZCB0aGUgbXNnLnNlbmRlcidzIGJldHRpbmcgaW5mbwogICAgICovCiAgICBmdW5jdGlvbiBjaGVja0R1cGxpY2F0ZU1hdGNoSWQoYWRkcmVzcyBfYmV0dGVyLCB1aW50MjU2IF9tYXRjaElkLCB1aW50IF9iZXR0aW5nUHJpY2UpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgICAgICB1aW50IG51bU9mQmV0dGVyQmV0dGluZ0luZm8gPSBiZXR0ZXJCZXR0aW5nSW5mb1tfYmV0dGVyXS5sZW5ndGg7CiAgICAgIAogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IG51bU9mQmV0dGVyQmV0dGluZ0luZm87IGkrKykgewogICAgICAgICAgICBpZiAoYmV0dGVyQmV0dGluZ0luZm9bX2JldHRlcl1baV0ubWF0Y2hJZCA9PSBfbWF0Y2hJZCAmJiBiZXR0ZXJCZXR0aW5nSW5mb1tfYmV0dGVyXVtpXS5iZXR0aW5nUHJpY2UgPT0gX2JldHRpbmdQcmljZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvKioKICAgICAqIEFkZCBleHRyYSBzZWN1cml0eSB0byBwcmV2ZW50IHRoZSB1c2VyIGZyb20gdHJ5aW5nIHRvIHJlY2VpdmUgdGhlIHdpbm5pbmcgcHJpemUgYWdhaW4KICAgICAqCiAgICAgKiBAcGFyYW0gX2JldHRlciBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAgKiBAcGFyYW0gX21hdGNoSWQgVGhlIG1hdGNoSWQgdG8gZmluZCB0aGUgbXNnLnNlbmRlcidzIGJldHRpbmcgaW5mbwogICAgICogQHBhcmFtIF9iZXR0aW5nUHJpY2UgVGhlIGJldHRpbmcgcHJpY2UgdG8gZmluZCB0aGUgbXNnLnNlbmRlcidzIGJldHRpbmcgaW5mbwogICAgICovCiAgICBmdW5jdGlvbiBjaGVja1ByaXplQWxyZWFkeVJlY2VpdmVkKGFkZHJlc3MgX2JldHRlciwgdWludDI1NiBfbWF0Y2hJZCwgdWludCBfYmV0dGluZ1ByaWNlKSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgdWludCBudW1PZkJldHRlckJldHRpbmdJbmZvID0gYmV0dGVyQmV0dGluZ0luZm9bX2JldHRlcl0ubGVuZ3RoOwogICAgICAgIC8vIEZpbmQgaWYgdGhlIHNlbmRlciBhZGRyZXNzIGhhcyBhbHJlYWR5IHJlY2VpdmVkIHRoZSBwcml6ZQogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IG51bU9mQmV0dGVyQmV0dGluZ0luZm87IGkrKykgewogICAgICAgICAgICBpZiAoYmV0dGVyQmV0dGluZ0luZm9bX2JldHRlcl1baV0ubWF0Y2hJZCA9PSBfbWF0Y2hJZCAmJiBiZXR0ZXJCZXR0aW5nSW5mb1tfYmV0dGVyXVtpXS5iZXR0aW5nUHJpY2UgPT0gX2JldHRpbmdQcmljZSkgewogICAgICAgICAgICAgICAgaWYgKGJldHRlckJldHRpbmdJbmZvW19iZXR0ZXJdW2ldLmhhc1JlY2VpdmVkUHJpemUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSAgICAKCiAgICAvKioKICAgICAqIENvbnN0YW50IGZ1bmN0aW9uIHRvIHJldHVybiB0aGUgdXNlcidzIHByZXZpb3VzIHJlY29yZHMKICAgICAqCiAgICAgKiBAcGFyYW0gX2JldHRlciBUaGUgYmV0dGVyJ3MgYWRkcmVzcyB0byBzZWFyY2ggYmV0dGluZyBpbmZvCiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldEJldHRlckJldHRpbmdJbmZvKGFkZHJlc3MgX2JldHRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NltdLCB1aW50W10sIHVpbnRbXSwgdWludFtdKSB7CiAgICAgICAgdWludCBsZW5ndGggPSBiZXR0ZXJCZXR0aW5nSW5mb1tfYmV0dGVyXS5sZW5ndGg7CiAgICAgICAgdWludDI1NltdIG1lbW9yeSBtYXRjaElkID0gbmV3IHVpbnQyNTZbXShsZW5ndGgpOwogICAgICAgIHVpbnRbXSBtZW1vcnkgaG9tZVRlYW1TY29yZSA9IG5ldyB1aW50W10obGVuZ3RoKTsKICAgICAgICB1aW50W10gbWVtb3J5IGF3YXlUZWFtU2NvcmUgPSBuZXcgdWludFtdKGxlbmd0aCk7CiAgICAgICAgdWludFtdIG1lbW9yeSBiZXR0aW5nUHJpY2UgPSBuZXcgdWludFtdKGxlbmd0aCk7ICAgCgogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIG1hdGNoSWRbaV0gPSBiZXR0ZXJCZXR0aW5nSW5mb1tfYmV0dGVyXVtpXS5tYXRjaElkOwogICAgICAgICAgICBob21lVGVhbVNjb3JlW2ldID0gYmV0dGVyQmV0dGluZ0luZm9bX2JldHRlcl1baV0uaG9tZVRlYW1TY29yZTsKICAgICAgICAgICAgYXdheVRlYW1TY29yZVtpXSA9IGJldHRlckJldHRpbmdJbmZvW19iZXR0ZXJdW2ldLmF3YXlUZWFtU2NvcmU7CiAgICAgICAgICAgIGJldHRpbmdQcmljZVtpXSA9IGJldHRlckJldHRpbmdJbmZvW19iZXR0ZXJdW2ldLmJldHRpbmdQcmljZTsgICAKICAgICAgICB9CgogICAgICAgIHJldHVybiAobWF0Y2hJZCwgaG9tZVRlYW1TY29yZSwgYXdheVRlYW1TY29yZSwgYmV0dGluZ1ByaWNlKTsKICAgIH0KCiAgICAvKioKICAgICAqIENvbnN0YW50IGZ1bmN0aW9uIHRvIHJldHVybiB0aGUgdXNlcidzIHByZXZpb3VzIHJlY29yZHMKICAgICAqCiAgICAgKiBAcGFyYW0gX2JldHRlciBUaGUgYmV0dGVyJ3MgYWRkcmVzcyB0byBzZWFyY2ggYmV0dGluZyBpbmZvCiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldEJldHRlckJldHRpbmdJbmZvMihhZGRyZXNzIF9iZXR0ZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2xbXSwgYm9vbFtdLCB1aW50MjU2W10sIHVpbnRbXSwgdWludFtdKSB7CiAgICAgICAgdWludCBsZW5ndGggPSBiZXR0ZXJCZXR0aW5nSW5mb1tfYmV0dGVyXS5sZW5ndGg7ICAKICAgICAgICBib29sW10gbWVtb3J5IGlzV2lubmVyID0gbmV3IGJvb2xbXShsZW5ndGgpOwogICAgICAgIGJvb2xbXSBtZW1vcnkgaGFzUmVjZWl2ZWRQcml6ZSA9IG5ldyBib29sW10obGVuZ3RoKTsKICAgICAgICB1aW50MjU2W10gbWVtb3J5IHdpbm5pbmdQcml6ZSA9IG5ldyB1aW50MjU2W10obGVuZ3RoKTsKICAgICAgICB1aW50W10gbWVtb3J5IG51bU9mV2lubmVycyA9IG5ldyB1aW50W10obGVuZ3RoKTsKICAgICAgICB1aW50W10gbWVtb3J5IG51bU9mQmV0dGVycyA9IG5ldyB1aW50W10obGVuZ3RoKTsKCiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsgICAgIAogICAgICAgICAgICBpc1dpbm5lcltpXSA9IGJldHRlckJldHRpbmdJbmZvW19iZXR0ZXJdW2ldLmlzV2lubmVyOwogICAgICAgICAgICBoYXNSZWNlaXZlZFByaXplW2ldID0gYmV0dGVyQmV0dGluZ0luZm9bX2JldHRlcl1baV0uaGFzUmVjZWl2ZWRQcml6ZTsKICAgICAgICAgICAgd2lubmluZ1ByaXplW2ldID0gYmV0dGVyQmV0dGluZ0luZm9bX2JldHRlcl1baV0ud2lubmluZ1ByaXplOwogICAgICAgICAgICBudW1PZldpbm5lcnNbaV0gPSBiZXR0ZXJCZXR0aW5nSW5mb1tfYmV0dGVyXVtpXS5udW1PZldpbm5lcnM7CiAgICAgICAgICAgIG51bU9mQmV0dGVyc1tpXSA9IGJldHRlckJldHRpbmdJbmZvW19iZXR0ZXJdW2ldLm51bU9mQmV0dGVyczsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoaXNXaW5uZXIsIGhhc1JlY2VpdmVkUHJpemUsIHdpbm5pbmdQcml6ZSwgbnVtT2ZXaW5uZXJzLCBudW1PZkJldHRlcnMpOwogICAgfQoKICAgIC8qKgogICAgICogTG9hZCB0aGUgbnVtYmVyIG9mIHBhcnRpY2lwYW50cyBmb3IgdGhlIHNhbWUgbWF0Y2ggYW5kIGJldHRpbmcgcHJpY2UKICAgICAqCiAgICAgKiBAcGFyYW0gX21hdGNoSWQgVGhlIG1hdGNoSWQgdG8gZmluZCBudW1iZXIgb2YgcGFydGljaXBhbnRzCiAgICAgKiBAcGFyYW0gX2JldHRpbmdQcmljZSBUaGUgYmV0dGluZyBwcmljZSB0byBmaW5kIG51bWJlciBvZiBwYXJ0aWNpcGFudHMKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0TnVtT2ZCZXR0ZXJzRm9yTWF0Y2hBbmRQcmljZSh1aW50IF9tYXRjaElkLCB1aW50IF9iZXR0aW5nUHJpY2UpIHB1YmxpYyB2aWV3IHJldHVybnModWludCkgewogICAgICAgIHVpbnQgbnVtT2ZCZXR0ZXJzID0gbWF0Y2hCZXR0aW5nSW5mb1tfbWF0Y2hJZF0ubGVuZ3RoOyAgICAKICAgICAgICB1aW50IGNvdW50ID0gMDsKCiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgbnVtT2ZCZXR0ZXJzOyBpKyspIHsgICAKICAgICAgICAgICAgaWYgKG1hdGNoQmV0dGluZ0luZm9bX21hdGNoSWRdW2ldLmJldHRpbmdQcmljZSA9PSBfYmV0dGluZ1ByaWNlKSB7CiAgICAgICAgICAgICAgICBjb3VudCsrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgCiAgICAgICAgcmV0dXJuIGNvdW50OyAgICAKICAgIH0KCiAgICAvKioKICAgICAqIEdldCB0aGUgbnVtYmVyIG9mIHdpbm5pbmdzIG9mIHRoZSB1c2VyCiAgICAgKgogICAgICogQHBhcmFtIF9iZXR0ZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIHVzZXIKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0QmV0dGVyTnVtT2ZXaW5uaW5ncyhhZGRyZXNzIF9iZXR0ZXIpIHB1YmxpYyB2aWV3IHJldHVybnModWludCkgewogICAgICAgIHJldHVybiBiZXR0ZXJOdW1XaW5uaW5nW19iZXR0ZXJdOyAgICAKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgY3VycmVudCBudW1iZXIgb2YgYWNjb3VudHMgd2hvIGhhdmUgcmVhY2hlZCBlYWNoIHByaXZpbGVnZXMKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0SW5mb1BhbmVsKCkgcHVibGljIHZpZXcgcmV0dXJucyh1aW50LCB1aW50LCB1aW50LCB1aW50KSB7ICAgICAgCiAgICAgICAgcmV0dXJuIChudW1PZlBhbmhhbmRsZXIsIG51bU9mVmFnYWJvbmQsIG51bU9mVHJhbXAsIG51bU9mTWlkZGxlQ2xhc3MpOyAgICAKICAgIH0KfQ=='.
	

]
