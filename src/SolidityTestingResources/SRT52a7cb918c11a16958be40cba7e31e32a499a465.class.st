Class {
	#name : #SRT52a7cb918c11a16958be40cba7e31e32a499a465,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT52a7cb918c11a16958be40cba7e31e32a499a465 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgKiBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwoKICBtb2RpZmllciBvbmx5T3duZXIoKXsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLgogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAgICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKXsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQp9CgovKioKICogQHRpdGxlIFN0YW5kYXJkIEVSQzIwIHRva2VuCiAqCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIGJhc2ljIHN0YW5kYXJkIHRva2VuLgogKiBAZGV2IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKiBAZGV2IEJhc2VkIG9uIGNvZGUgYnkgRmlyc3RCbG9vZDogaHR0cHM6Ly9naXRodWIuY29tL0ZpcnN0Ymxvb2Rpby90b2tlbi9ibG9iL21hc3Rlci9zbWFydF9jb250cmFjdC9GaXJzdEJsb29kVG9rZW4uc29sCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGludGVybmFsIGFsbG93ZWQ7CgogIC8qKgogICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CgogICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAvLyAgYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgcmVxdWlyZSgoX3ZhbHVlID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBNaW50YWJsZSB0b2tlbgogKiBAZGV2IFNpbXBsZSBFUkMyMCBUb2tlbiBleGFtcGxlLCB3aXRoIG1pbnRhYmxlIHRva2VuIGNyZWF0aW9uCiAqIEBkZXYgSXNzdWU6ICogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9pc3N1ZXMvMTIwCiAqIEJhc2VkIG9uIGNvZGUgYnkgVG9rZW5NYXJrZXROZXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9Ub2tlbk1hcmtldE5ldC9pY28vYmxvYi9tYXN0ZXIvY29udHJhY3RzL01pbnRhYmxlVG9rZW4uc29sCiAqLwpjb250cmFjdCBNaW50YWJsZVRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIE93bmFibGUgewoKICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwogIGV2ZW50IE1pbnRGaW5pc2hlZCgpOwoKICBib29sIHB1YmxpYyBtaW50aW5nRmluaXNoZWQgPSBmYWxzZTsKCiAgbW9kaWZpZXIgY2FuTWludCgpIHsKICAgIHJlcXVpcmUoIW1pbnRpbmdGaW5pc2hlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgKiBAZGV2IEZ1bmN0aW9uIHRvIG1pbnQgdG9rZW5zCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRoYXQgd2lsbCByZWNpZXZlIHRoZSBtaW50ZWQgdG9rZW5zLgogICAgKiBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IG9mIHRva2VucyB0byBtaW50LgogICAgKiBAcmV0dXJuIEEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICAqLwogIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgb25seU93bmVyIGNhbk1pbnQgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF9hbW91bnQpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgVHJhbnNmZXIoMFgwLCBfdG8sIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgRnVuY3Rpb24gdG8gc3RvcCBtaW50aW5nIG5ldyB0b2tlbnMuCiAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgKi8KICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBtaW50aW5nRmluaXNoZWQgPSB0cnVlOwogICAgTWludEZpbmlzaGVkKCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCmNvbnRyYWN0IEZpZGVudGlhWFRva2VuIGlzIE1pbnRhYmxlVG9rZW4gewogIC8vIENvaW4gUHJvcGVydGllcwogIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJmaWRlbnRpYVgiOwogIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gImZkWCI7CiAgdWludDI1NiBwdWJsaWMgZGVjaW1hbHMgPSAxODsKCiAgLy8gU3BlY2lhbCBwcm9wZXRpZXMKICBib29sIHB1YmxpYyB0cmFkaW5nU3RhcnRlZCA9IGZhbHNlOwoKICAvKioKICAqIEBkZXYgbW9kaWZpZXIgdGhhdCB0aHJvd3MgaWYgdHJhZGluZyBoYXMgbm90IHN0YXJ0ZWQgeWV0CiAgICovCiAgbW9kaWZpZXIgaGFzU3RhcnRlZFRyYWRpbmcoKSB7CiAgICByZXF1aXJlKHRyYWRpbmdTdGFydGVkKTsKICAgIF87CiAgfQoKICAvKioKICAqIEBkZXYgQWxsb3dzIHRoZSBvd25lciB0byBlbmFibGUgdGhlIHRyYWRpbmcuIFRoaXMgY2FuIG5vdCBiZSB1bmRvbmUKICAqLwogIGZ1bmN0aW9uIHN0YXJ0VHJhZGluZygpIHB1YmxpYyBvbmx5T3duZXIgewogICAgdHJhZGluZ1N0YXJ0ZWQgPSB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEFsbG93cyBhbnlvbmUgdG8gdHJhbnNmZXIgdGhlIENoYW5nZSB0b2tlbnMgb25jZSB0cmFkaW5nIGhhcyBzdGFydGVkCiAgKiBAcGFyYW0gX3RvIHRoZSByZWNpcGllbnQgYWRkcmVzcyBvZiB0aGUgdG9rZW5zLgogICogQHBhcmFtIF92YWx1ZSBudW1iZXIgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQuCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBoYXNTdGFydGVkVHJhZGluZyBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICB9CgogIC8qKgogICogQGRldiBBbGxvd3MgYW55b25lIHRvIHRyYW5zZmVyIHRoZSBDaGFuZ2UgdG9rZW5zIG9uY2UgdHJhZGluZyBoYXMgc3RhcnRlZAogICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaGFzU3RhcnRlZFRyYWRpbmcgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIGVtZXJnZW5jeUVSQzIwRHJhaW4oIEVSQzIwIG9kZFRva2VuLCB1aW50IGFtb3VudCApIHB1YmxpYyB7CiAgICBvZGRUb2tlbi50cmFuc2Zlcihvd25lciwgYW1vdW50KTsKICB9Cn0KCmNvbnRyYWN0IFNlbmRlciB7CiAgICAKICAgIGFkZHJlc3MgZmlyc3RDb250cmFjdG9yID0gMHgxNTUwMjA5NzI3NjdlZmM0NkREQTBFYzYzQTk1NjI3NTUwRjhDNjRGOwogICAgYWRkcmVzcyBzZWNvbmRDb250cmFjdG9yID0gMHhEY0RhNDA3ODZDMEU2M0I3OTMyQjdGODQ0ODQ2ZURjZTk5NGEwODUxOwogICAgCiAgICBmdW5jdGlvbiBTZW5kVGhyZWVXYXlzKCBhZGRyZXNzIG11bHRpc2lnLCB1aW50MjU2IHZhbHVlICkgaW50ZXJuYWwgewogICAgICAgIHVpbnQyNTYgY3NoYXJlID0gdmFsdWUgLyA0MDA7CiAgICAgICAgdWludDI1NiBtYWluc2hhcmUgPSB2YWx1ZSAtIDIgKiBjc2hhcmU7CiAgICAgICAgZmlyc3RDb250cmFjdG9yLnRyYW5zZmVyKGNzaGFyZSk7CiAgICAgICAgc2Vjb25kQ29udHJhY3Rvci50cmFuc2Zlcihjc2hhcmUpOwogICAgICAgIG11bHRpc2lnLnRyYW5zZmVyKG1haW5zaGFyZSk7CiAgICB9CiAgICAKfQoKY29udHJhY3QgRmlkZW50aWFYVG9rZW5TYWxlIGlzIE93bmFibGUsU2VuZGVyIHsKCiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIC8vIFRoZSB0b2tlbiBiZWluZyBzb2xkCiAgRmlkZW50aWFYVG9rZW4gcHVibGljIHRva2VuOwoKICB1aW50MjU2IHB1YmxpYyBkZWNpbWFsczsgIAoKICB1aW50MjU2IHB1YmxpYyBvbmVDb2luOwoKICAvLyBzdGFydCBhbmQgZW5kIGJsb2NrIHdoZXJlIGludmVzdG1lbnRzIGFyZSBhbGxvd2VkIChib3RoIGluY2x1c2l2ZSkKICB1aW50MjU2IHB1YmxpYyBzdGFydFRpbWVzdGFtcDsKICB1aW50MjU2IHB1YmxpYyBlbmRUaW1lc3RhbXA7CgogIC8vIHRpbWVzdGFtcHMgZm9yIHRpZXJzCiAgdWludDI1NiBwdWJsaWMgdGllcjFUaW1lc3RhbXA7CiAgdWludDI1NiBwdWJsaWMgdGllcjJUaW1lc3RhbXA7CgogIC8vIGFkZHJlc3Mgd2hlcmUgZnVuZHMgYXJlIGNvbGxlY3RlZAoKICBhZGRyZXNzIHB1YmxpYyBtdWx0aVNpZzsKCiAgZnVuY3Rpb24gc2V0V2FsbGV0KGFkZHJlc3MgX25ld1dhbGxldCkgcHVibGljIG9ubHlPd25lciB7CiAgICBtdWx0aVNpZyA9IF9uZXdXYWxsZXQ7CiAgfQoKICAvLyBUaGVzZSB3aWxsIGJlIHNldCBieSBzZXRUaWVyKCkKCiAgdWludDI1NiBwdWJsaWMgcmF0ZTsgLy8gaG93IG1hbnkgdG9rZW4gdW5pdHMgYSBidXllciBnZXRzIHBlciB3ZWkKCiAgdWludDI1NiBwdWJsaWMgbWluQ29udHJpYnV0aW9uID0gMC4wMDAxIGV0aGVyOyAgLy8gbWluaW11bSBjb250cmlidXRpbyB0byBwYXJ0aWNpcGF0ZSBpbiB0b2tlbnNhbGUKCiAgdWludDI1NiBwdWJsaWMgbWF4Q29udHJpYnV0aW9uID0gMjAwMDAwIGV0aGVyOyAgLy8gZGVmYXVsdCBsaW1pdCB0byB0b2tlbnMgdGhhdCB0aGUgdXNlcnMgY2FuIGJ1eQoKICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioKICAvLyBhbW91bnQgb2YgcmFpc2VkIG1vbmV5IGluIHdlaQoKICB1aW50MjU2IHB1YmxpYyB3ZWlSYWlzZWQ7CgogIC8vIGFtb3VudCBvZiByYWlzZWQgdG9rZW5zIAoKICB1aW50MjU2IHB1YmxpYyB0b2tlblJhaXNlZDsKCiAgLy8gbWF4aW11bSBhbW91bnQgb2YgdG9rZW5zIGJlaW5nIGNyZWF0ZWQKCiAgdWludDI1NiBwdWJsaWMgbWF4VG9rZW5zOwoKICAvLyBtYXhpbXVtIGFtb3VudCBvZiB0b2tlbnMgZm9yIHNhbGUKCiAgdWludDI1NiBwdWJsaWMgdG9rZW5zRm9yU2FsZTsgIC8vIDI0IE1pbGxpb24gVG9rZW5zIGZvciBTQUxFCgogIC8vIG51bWJlciBvZiBwYXJ0aWNpcGFudHMgaW4gcHJlc2FsZQoKICB1aW50MjU2IHB1YmxpYyBudW1iZXJPZlB1cmNoYXNlcnMgPSAwOwoKICAvLyAgZm9yIHdoaXRlbGlzdAogIGFkZHJlc3MgcHVibGljIGNzOwogIC8vICBmb3Igd2hpdGVsaXN0IEFORCBwbGFjZW1lbnQKICBhZGRyZXNzIHB1YmxpYyBmeDsKCiAgLy8gc3dpdGNoIG9uL29mZiB0aGUgYXV0aG9yaXNhdGlvbiAsIGRlZmF1bHQ6IHRydWUgLSBvbgoKICBib29sICAgIHB1YmxpYyBmcmVlRm9yQWxsID0gZmFsc2U7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGF1dGhvcmlzZWQ7IC8vIGp1c3QgdG8gYW5ub3kgdGhlIGhlY2sgb3V0IG9mIGFtZXJpY2FucwoKICBldmVudCBUb2tlblB1cmNoYXNlKGFkZHJlc3MgaW5kZXhlZCBwdXJjaGFzZXIsIGFkZHJlc3MgaW5kZXhlZCBiZW5lZmljaWFyeSwgdWludDI1NiB2YWx1ZSwgdWludDI1NiBhbW91bnQpOwoKICBldmVudCBTYWxlQ2xvc2VkKCk7CgogIGZ1bmN0aW9uIEZpZGVudGlhWFRva2VuU2FsZSgpIHB1YmxpYyB7CiAgICBzdGFydFRpbWVzdGFtcCA9IDE1MDk5MzAwMDA7IC8vICBNb25kYXkgTm92ZW1iZXIgMDYsIDIwMTcgMDk6MDA6MDAgKGFtKSBpbiB0aW1lIHpvbmUgQXNpYS9TaW5nYXBvcmUgKFNHVCkKICAgIC8vMTUwODY4NDQwMDsKICAgIGVuZFRpbWVzdGFtcCA9IDE1MTI0ODk1OTk7ICAgLy8gIERlY2VtYmVyIDA1LCAyMDE3IDIzOjU5OjU5IChwbSkgaW4gdGltZSB6b25lIEFzaWEvU2luZ2Fwb3JlIChTR1QpICggR01UICswODowMCApCiAgICB0aWVyMVRpbWVzdGFtcCA9IDE1MTAxMDI3OTk7IC8vICAgTm92ZW1iZXIgMDgsIDIwMTcgMDg6NTk6NTkgKGFtKSBpbiB0aW1lIHpvbmUgQXNpYS9TaW5nYXBvcmUgKFNHVCkKICAgIHRpZXIyVGltZXN0YW1wID0gMTUxMDM2MTk5OTsgLy8gICBOb3ZlbWJlciAxMSwgMjAxNyAwODo1OTo1OSAoYW0pIGluIHRpbWUgem9uZSBBc2lhL1NpbmdhcG9yZSAoU0dUKQogICAgbXVsdGlTaWcgPSAweDkwNDIwQjhhZWY0MkY4NTZhMEFGQjRGRkJmYUE1NzQwNUZCMTkwZjM7CiAgICB0b2tlbiA9IG5ldyBGaWRlbnRpYVhUb2tlbigpOwogICAgZGVjaW1hbHMgPSB0b2tlbi5kZWNpbWFscygpOwogICAgb25lQ29pbiA9IDEwICoqIGRlY2ltYWxzOwogICAgbWF4VG9rZW5zID0gMTMwICogKDEwKio2KSAqIG9uZUNvaW47CiAgICB0b2tlbnNGb3JTYWxlID0gMTMwICogKDEwKio2KSAqIG9uZUNvaW47CiAgfQoKICAvKioKICAqIEBkZXYgQ2FsY3VsYXRlcyB0aGUgYW1vdW50IG9mIGJvbnVzIGNvaW5zIHRoZSBidXllciBnZXRzCiAgICovCiAgZnVuY3Rpb24gZ2V0UmF0ZUF0KHVpbnQyNTYgYXQpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmIChhdCA8ICh0aWVyMVRpbWVzdGFtcCkpCiAgICAgIHJldHVybiA1NzU7CiAgICBpZiAoYXQgPCAodGllcjJUaW1lc3RhbXApKQogICAgICByZXR1cm4gNTUwOwogICAgcmV0dXJuIDUwMDsKICB9CgogIC8vIEByZXR1cm4gdHJ1ZSBpZiBjcm93ZHNhbGUgZXZlbnQgaGFzIGVuZGVkCiAgZnVuY3Rpb24gaGFzRW5kZWQoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgaWYgKG5vdyA+IGVuZFRpbWVzdGFtcCkKICAgICAgcmV0dXJuIHRydWU7CiAgICBpZiAodG9rZW5SYWlzZWQgPj0gdG9rZW5zRm9yU2FsZSkKICAgICAgcmV0dXJuIHRydWU7IC8vIGlmIHdlIHJlYWNoIHRoZSB0b2tlbnNGb3JTYWxlCiAgICByZXR1cm4gZmFsc2U7CiB9CiAgLyoqCiAgKiBAZGV2IHRocm93cyBpZiBwZXJzb24gc2VuZGluZyBpcyBub3QgY29udHJhY3Qgb3duZXIgb3IgY3Mgcm9sZQogICAqLwogIG1vZGlmaWVyIG9ubHlDU29yRngoKSB7CiAgICByZXF1aXJlKChtc2cuc2VuZGVyID09IGZ4KSB8fCAobXNnLnNlbmRlcj09Y3MpKTsKICAgIF87CiAgfQoKICBtb2RpZmllciBvbmx5RngoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZngpOwogICAgXzsKICB9CgogIC8qKgogICogQGRldiB0aHJvd3MgaWYgcGVyc29uIHNlbmRpbmcgaXMgbm90IGF1dGhvcmlzZWQgb3Igc2VuZHMgbm90aGluZwogICovCiAgbW9kaWZpZXIgb25seUF1dGhvcmlzZWQoKSB7CiAgICByZXF1aXJlIChhdXRob3Jpc2VkW21zZy5zZW5kZXJdIHx8IGZyZWVGb3JBbGwpOwogICAgcmVxdWlyZSAobm93ID49IHN0YXJ0VGltZXN0YW1wKTsKICAgIHJlcXVpcmUgKCEoaGFzRW5kZWQoKSkpOwogICAgcmVxdWlyZSAobXVsdGlTaWcgIT0gMHgwKTsKICAgIHJlcXVpcmUgKG1zZy52YWx1ZSA+IDEgZmlubmV5KTsKICAgIHJlcXVpcmUodG9rZW5zRm9yU2FsZSA+IHRva2VuUmFpc2VkKTsgLy8gY2hlY2sgd2UgYXJlIG5vdCBvdmVyIHRoZSBudW1iZXIgb2YgdG9rZW5zRm9yU2FsZQogICAgXzsKICB9CgogIC8qKgogICogQGRldiBhdXRob3Jpc2UgYW4gYWNjb3VudCB0byBwYXJ0aWNpcGF0ZQogICovCiAgZnVuY3Rpb24gYXV0aG9yaXNlQWNjb3VudChhZGRyZXNzIHdob20pIG9ubHlDU29yRnggcHVibGljIHsKICAgIGF1dGhvcmlzZWRbd2hvbV0gPSB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IGF1dGhvcmlzZSBhIGxvdCBvZiBhY2NvdW50cyBpbiBvbmUgZ28KICAqLwogIGZ1bmN0aW9uIGF1dGhvcmlzZU1hbnlBY2NvdW50cyhhZGRyZXNzW10gbWFueSkgb25seUNTb3JGeCBwdWJsaWMgewogICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgbWFueS5sZW5ndGg7IGkrKykgewogICAgICBhdXRob3Jpc2VkW21hbnlbaV1dID0gdHJ1ZTsKICAgIH0KICB9CgogIC8qKgogICogQGRldiBiYW4gYW4gYWNjb3VudCBmcm9tIHBhcnRpY2lwYXRpb24gKGRlZmF1bHQpCiAgKi8KICBmdW5jdGlvbiBibG9ja0FjY291bnQoYWRkcmVzcyB3aG9tKSBvbmx5Q1NvckZ4IHB1YmxpYyB7CiAgICBhdXRob3Jpc2VkW3dob21dID0gZmFsc2U7CiAgfQoKICAvKioKICAqIEBkZXYgc2V0IGEgbmV3IENTIHJlcHJlc2VudGF0aXZlCiAgKi8KICBmdW5jdGlvbiBzZXRDUyhhZGRyZXNzIG5ld0NTKSBvbmx5T3duZXIgcHVibGljIHsKICAgIGNzID0gbmV3Q1M7CiAgfQoKICAvKioKICAqIEBkZXYgc2V0IGEgbmV3IEZ4IHJlcHJlc2VudGF0aXZlCiAgKi8KICBmdW5jdGlvbiBzZXRGeChhZGRyZXNzIG5ld0Z4KSBvbmx5T3duZXIgcHVibGljIHsKICAgIGZ4ID0gbmV3Rng7CiAgfQoKICBmdW5jdGlvbiBwbGFjZVRva2VucyhhZGRyZXNzIGJlbmVmaWNpYXJ5LCB1aW50MjU2IF90b2tlbnMpIG9ubHlGeCBwdWJsaWMgewogICAgLy9jaGVjayBtaW5pbXVtIGFuZCBtYXhpbXVtIGFtb3VudAogICAgcmVxdWlyZShfdG9rZW5zICE9IDApOwogICAgcmVxdWlyZSghaGFzRW5kZWQoKSk7CiAgICB1aW50MjU2IGFtb3VudCA9IDA7CiAgICBpZiAodG9rZW4uYmFsYW5jZU9mKGJlbmVmaWNpYXJ5KSA9PSAwKSB7CiAgICAgIG51bWJlck9mUHVyY2hhc2VycysrOwogICAgfQogICAgdG9rZW5SYWlzZWQgPSB0b2tlblJhaXNlZC5hZGQoX3Rva2Vucyk7IC8vIHNvIHdlIGNhbiBnbyBzbGlnaHRseSBvdmVyCiAgICB0b2tlbi5taW50KGJlbmVmaWNpYXJ5LCBfdG9rZW5zKTsKICAgIFRva2VuUHVyY2hhc2UoYmVuZWZpY2lhcnksIGJlbmVmaWNpYXJ5LCBhbW91bnQsIF90b2tlbnMpOwogIH0KCiAgLy8gbG93IGxldmVsIHRva2VuIHB1cmNoYXNlIGZ1bmN0aW9uCiAgZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgYmVuZWZpY2lhcnksIHVpbnQyNTYgYW1vdW50KSBvbmx5QXV0aG9yaXNlZCBpbnRlcm5hbCB7CiAgICAvL2NoZWNrIG1pbmltdW0gYW5kIG1heGltdW0gYW1vdW50CiAgICByZXF1aXJlKGFtb3VudCA+PSBtaW5Db250cmlidXRpb24pOwogICAgcmVxdWlyZShhbW91bnQgPD0gbWF4Q29udHJpYnV0aW9uKTsKCiAgICAvLyBDYWxjdWxhdGUgdG9rZW4gYW1vdW50IHRvIGJlIHB1cmNoYXNlZAogICAgdWludDI1NiBhY3R1YWxSYXRlID0gZ2V0UmF0ZUF0KG5vdyk7CiAgICB1aW50MjU2IHRva2VucyA9IGFtb3VudC5tdWwoYWN0dWFsUmF0ZSk7CgogICAgLy8gdXBkYXRlIHN0YXRlCiAgICB3ZWlSYWlzZWQgPSB3ZWlSYWlzZWQuYWRkKGFtb3VudCk7CiAgICBpZiAodG9rZW4uYmFsYW5jZU9mKGJlbmVmaWNpYXJ5KSA9PSAwKSB7CiAgICAgIG51bWJlck9mUHVyY2hhc2VycysrOwogICAgfQogICAgdG9rZW5SYWlzZWQgPSB0b2tlblJhaXNlZC5hZGQodG9rZW5zKTsgLy8gc28gd2UgY2FuIGdvIHNsaWdodGx5IG92ZXIKICAgIHRva2VuLm1pbnQoYmVuZWZpY2lhcnksIHRva2Vucyk7CiAgICBUb2tlblB1cmNoYXNlKGJlbmVmaWNpYXJ5LCBiZW5lZmljaWFyeSwgYW1vdW50LCB0b2tlbnMpOwogICAgU2VuZFRocmVlV2F5cyhtdWx0aVNpZyx0aGlzLmJhbGFuY2UpOyAvLyBiZXR0ZXIgaW4gY2FzZSBhbnkgb3RoZXIgZXRoZXIgZW5kcyB1cCBoZXJlCiAgfQoKICAvLyB0cmFuc2ZlciBvd25lcnNoaXAgb2YgdGhlIHRva2VuIHRvIHRoZSBvd25lciBvZiB0aGUgcHJlc2FsZSBjb250cmFjdAogIGZ1bmN0aW9uIGZpbmlzaFNhbGUoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoaGFzRW5kZWQoKSk7CiAgICAvLyBhc3NpZ24gdGhlIHJlc3Qgb2YgdGhlIDEwME0gdG9rZW5zIHRvIHRoZSByZXNlcnZlCiAgICB1aW50IHVuYXNzaWduZWQ7CiAgICBpZihtYXhUb2tlbnMgPiB0b2tlblJhaXNlZCkgewogICAgICB1bmFzc2lnbmVkICA9IG1heFRva2Vucy5zdWIodG9rZW5SYWlzZWQpOwogICAgICB0b2tlbi5taW50KG11bHRpU2lnLHVuYXNzaWduZWQpOwogICAgfQogICAgdG9rZW4uZmluaXNoTWludGluZygpOwogICAgdG9rZW4udHJhbnNmZXJPd25lcnNoaXAob3duZXIpOwogICAgU2FsZUNsb3NlZCgpOwogIH0KCiAgLy8gZmFsbGJhY2sgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gYnV5IHRva2VucwogIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKICAgIGJ1eVRva2Vucyhtc2cuc2VuZGVyLCBtc2cudmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gZW1lcmdlbmN5RVJDMjBEcmFpbiggRVJDMjAgb2RkVG9rZW4sIHVpbnQgYW1vdW50ICkgcHVibGljIHsKICAgIG9kZFRva2VuLnRyYW5zZmVyKG93bmVyLCBhbW91bnQpOwogIH0KfQ=='.
	

]
