Class {
	#name : #SRTd1e74ef5b003196942b845238773c35f7b7a21fd,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd1e74ef5b003196942b845238773c35f7b7a21fd >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgpsaWJyYXJ5IGl0TWFwcyB7CiAgICAKICAgIC8qIGl0TWFwQWRkcmVzc1VpbnQKICAgICAgICAgYWRkcmVzcyA9PiAgVWludAogICAgKi8KICAgIHN0cnVjdCBlbnRyeUFkZHJlc3NVaW50IHsKICAgICAgICAvLyBFcXVhbCB0byB0aGUgaW5kZXggb2YgdGhlIGtleSBvZiB0aGlzIGl0ZW0gaW4ga2V5cywgcGx1cyAxLgogICAgICAgIHVpbnQga2V5SW5kZXg7CiAgICAgICAgdWludCB2YWx1ZTsKICAgIH0KCiAgICBzdHJ1Y3QgaXRNYXBBZGRyZXNzVWludCB7CiAgICAgICAgbWFwcGluZyhhZGRyZXNzID0+IGVudHJ5QWRkcmVzc1VpbnQpIGRhdGE7CiAgICAgICAgYWRkcmVzc1tdIGtleXM7CiAgICB9CgogICAgZnVuY3Rpb24gaW5zZXJ0KGl0TWFwQWRkcmVzc1VpbnQgc3RvcmFnZSBzZWxmLCBhZGRyZXNzIGtleSwgdWludCB2YWx1ZSkgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCByZXBsYWNlZCkgewogICAgICAgIGVudHJ5QWRkcmVzc1VpbnQgc3RvcmFnZSBlID0gc2VsZi5kYXRhW2tleV07CiAgICAgICAgZS52YWx1ZSA9IHZhbHVlOwogICAgICAgIGlmIChlLmtleUluZGV4ID4gMCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlLmtleUluZGV4ID0gKytzZWxmLmtleXMubGVuZ3RoOwogICAgICAgICAgICBzZWxmLmtleXNbZS5rZXlJbmRleCAtIDFdID0ga2V5OwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZShpdE1hcEFkZHJlc3NVaW50IHN0b3JhZ2Ugc2VsZiwgYWRkcmVzcyBrZXkpIGludGVybmFsIHJldHVybnMgKGJvb2wgc3VjYWNlc3MpIHsKICAgICAgICBlbnRyeUFkZHJlc3NVaW50IHN0b3JhZ2UgZSA9IHNlbGYuZGF0YVtrZXldOwogICAgICAgIGlmIChlLmtleUluZGV4ID09IDApCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgICAgaWYgKGUua2V5SW5kZXggPD0gc2VsZi5rZXlzLmxlbmd0aCkgewogICAgICAgICAgICAvLyBNb3ZlIGFuIGV4aXN0aW5nIGVsZW1lbnQgaW50byB0aGUgdmFjYXRlZCBrZXkgc2xvdC4KICAgICAgICAgICAgc2VsZi5kYXRhW3NlbGYua2V5c1tzZWxmLmtleXMubGVuZ3RoIC0gMV1dLmtleUluZGV4ID0gZS5rZXlJbmRleDsKICAgICAgICAgICAgc2VsZi5rZXlzW2Uua2V5SW5kZXggLSAxXSA9IHNlbGYua2V5c1tzZWxmLmtleXMubGVuZ3RoIC0gMV07CiAgICAgICAgICAgIHNlbGYua2V5cy5sZW5ndGggLT0gMTsKICAgICAgICAgICAgZGVsZXRlIHNlbGYuZGF0YVtrZXldOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZGVzdHJveShpdE1hcEFkZHJlc3NVaW50IHN0b3JhZ2Ugc2VsZikgaW50ZXJuYWwgIHsKICAgICAgICBmb3IgKHVpbnQgaTsgaTxzZWxmLmtleXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGRlbGV0ZSBzZWxmLmRhdGFbIHNlbGYua2V5c1tpXV07CiAgICAgICAgfQogICAgICAgIGRlbGV0ZSBzZWxmLmtleXM7CiAgICAgICAgcmV0dXJuIDsKICAgIH0KCiAgICBmdW5jdGlvbiBjb250YWlucyhpdE1hcEFkZHJlc3NVaW50IHN0b3JhZ2Ugc2VsZiwgYWRkcmVzcyBrZXkpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKGJvb2wgZXhpc3RzKSB7CiAgICAgICAgcmV0dXJuIHNlbGYuZGF0YVtrZXldLmtleUluZGV4ID4gMDsKICAgIH0KCiAgICBmdW5jdGlvbiBzaXplKGl0TWFwQWRkcmVzc1VpbnQgc3RvcmFnZSBzZWxmKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIHNlbGYua2V5cy5sZW5ndGg7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0KGl0TWFwQWRkcmVzc1VpbnQgc3RvcmFnZSBzZWxmLCBhZGRyZXNzIGtleSkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBzZWxmLmRhdGFba2V5XS52YWx1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRLZXlCeUluZGV4KGl0TWFwQWRkcmVzc1VpbnQgc3RvcmFnZSBzZWxmLCB1aW50IGlkeCkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHJldHVybiBzZWxmLmtleXNbaWR4XTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRWYWx1ZUJ5SW5kZXgoaXRNYXBBZGRyZXNzVWludCBzdG9yYWdlIHNlbGYsIHVpbnQgaWR4KSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIHNlbGYuZGF0YVtzZWxmLmtleXNbaWR4XV0udmFsdWU7CiAgICB9Cn0KCmNvbnRyYWN0IEVSQzIwIHsKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgc3VwcGx5KTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgdmFsdWUpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgX2FsbG93YW5jZSk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgb2spOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgb2spOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIG9rKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwp9Cgpjb250cmFjdCBBbWlyTmVzc1NwZWNpYWwgaXMgRVJDMjB7CiAgICB1c2luZyBpdE1hcHMgZm9yIGl0TWFwcy5pdE1hcEFkZHJlc3NVaW50OwogICAKICAgIAogICAgdWludDI1NiBpbml0aWFsU3VwcGx5ID0gMzAwMDA7CnN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJBbWlyTmVzc1NwZWNpYWwiOwpzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJBbWlyIjsKdWludCBjdXJyZW50VVNERXhjaGFuZ2VSYXRlID0gMTEwMDsKdWludCBwcmljZVVTRCA9IDE7CmFkZHJlc3MgQW1pckFkZHJlc3M7Cml0TWFwcy5pdE1hcEFkZHJlc3NVaW50IGJhbGFuY2VzOwptYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7Cm1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYXBwcm92ZWREaXZpZGVuZHM7CiAgICBldmVudCBCdXJuZWQoYWRkcmVzcyBpbmRleGVkIGZyb20sIHVpbnQgYW1vdW50KTsKZXZlbnQgRGl2aWRlbmRzVHJhbnNmZXJlZChhZGRyZXNzIHRvLCB1aW50IGFtb3VudCk7Cgptb2RpZmllciBvbmx5T3duZXIgewogICBpZiAobXNnLnNlbmRlciA9PSBBbWlyQWRkcmVzcykgewogICAgICAgXzsKICAgfQp9CgpmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CnJldHVybiBpbml0aWFsU3VwcGx5OwogICAgfQogICAgCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB0b2tlbkhvbGRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CnJldHVybiBiYWxhbmNlcy5nZXQodG9rZW5Ib2xkZXIpOwogICAgfQoKZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKcmV0dXJuIGFsbG93ZWRbb3duZXJdW3NwZW5kZXJdOwogICAgfQoKCmZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKaWYgKGJhbGFuY2VzLmdldChtc2cuc2VuZGVyKSA+PSB2YWx1ZSAmJiB2YWx1ZSA+IDApIHsKICAgCiAgIGJhbGFuY2VzLmluc2VydChtc2cuc2VuZGVyLCBiYWxhbmNlcy5nZXQobXNnLnNlbmRlciktdmFsdWUpOwppZiAoYmFsYW5jZXMuY29udGFpbnModG8pKSB7CiAgIGJhbGFuY2VzLmluc2VydCh0bywgYmFsYW5jZXMuZ2V0KHRvKSt2YWx1ZSk7Cn0KZWxzZSB7CiAgIGJhbGFuY2VzLmluc2VydCh0bywgdmFsdWUpOwp9ClRyYW5zZmVyKG1zZy5zZW5kZXIsIHRvLCB2YWx1ZSk7CiAgICAgICAgCnJldHVybiB0cnVlOwp9IGVsc2UgcmV0dXJuIGZhbHNlOwogICAgfQoKZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewppZiAoYmFsYW5jZXMuZ2V0KGZyb20pID49IHZhbHVlICYmIGFsbG93ZWRbZnJvbV1bbXNnLnNlbmRlcl0gPj0gdmFsdWUgJiYgdmFsdWUgPiAwKSB7CiAKIHVpbnQgYW1vdW50VG9JbnNlcnQgPSB2YWx1ZTsKIAogaWYgKGJhbGFuY2VzLmNvbnRhaW5zKHRvKSkKICAgYW1vdW50VG9JbnNlcnQgPSBhbW91bnRUb0luc2VydCtiYWxhbmNlcy5nZXQodG8pOwogICAKIGJhbGFuY2VzLmluc2VydCh0bywgYW1vdW50VG9JbnNlcnQpOwogYmFsYW5jZXMuaW5zZXJ0KGZyb20sIGJhbGFuY2VzLmdldChmcm9tKSAtIHZhbHVlKTsKIGFsbG93ZWRbZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW2Zyb21dW21zZy5zZW5kZXJdIC0gdmFsdWU7CiBUcmFuc2Zlcihmcm9tLCB0bywgdmFsdWUpOwogcmV0dXJuIHRydWU7Cn0gZWxzZSAKIHJldHVybiBmYWxzZTsKfQogCmZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CmlmICgodmFsdWUgIT0gMCkgJiYgKGJhbGFuY2VzLmdldChtc2cuc2VuZGVyKSA+PSB2YWx1ZSkpewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtzcGVuZGVyXSA9IHZhbHVlOwogICAJQXBwcm92YWwobXNnLnNlbmRlciwgc3BlbmRlciwgdmFsdWUpOwogICByZXR1cm4gdHJ1ZTsKfSBlbHNlewogICByZXR1cm4gZmFsc2U7Cn0KfQoKZnVuY3Rpb24gQW1pck5lc3NTcGVjaWFsKCkgcHVibGljIHsKICAgICAgICBBbWlyQWRkcmVzcyA9IG1zZy5zZW5kZXI7CiAgICAgICAgYmFsYW5jZXMuaW5zZXJ0KEFtaXJBZGRyZXNzLCBpbml0aWFsU3VwcGx5KTsKICAgIH0KCmZ1bmN0aW9uIHNldEN1cnJlbnRFeGNoYW5nZVJhdGUgKHVpbnQgcmF0ZSkgcHVibGljIG9ubHlPd25lcnsKY3VycmVudFVTREV4Y2hhbmdlUmF0ZSA9IHJhdGU7Cn0KCmZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlewogICB1aW50IGFtb3VudEluVVNEb2xsYXJzID0gbXNnLnZhbHVlICogY3VycmVudFVTREV4Y2hhbmdlUmF0ZSAvIDEwKioxODsKICAgdWludCB2YWx1ZVRvUGFzcyA9IGFtb3VudEluVVNEb2xsYXJzIC8gcHJpY2VVU0Q7CiAgIAogICBpZiAoYmFsYW5jZXMuZ2V0KEFtaXJBZGRyZXNzKSA+PSB2YWx1ZVRvUGFzcykgewogICAgICAgICAgICBpZiAoYmFsYW5jZXMuY29udGFpbnMobXNnLnNlbmRlcikpIHsKICAgYmFsYW5jZXMuaW5zZXJ0KG1zZy5zZW5kZXIsIGJhbGFuY2VzLmdldChtc2cuc2VuZGVyKSt2YWx1ZVRvUGFzcyk7Cn0KZWxzZSB7CiAgIGJhbGFuY2VzLmluc2VydChtc2cuc2VuZGVyLCB2YWx1ZVRvUGFzcyk7Cn0KICAgICAgICAgICAgYmFsYW5jZXMuaW5zZXJ0KEFtaXJBZGRyZXNzLCBiYWxhbmNlcy5nZXQoQW1pckFkZHJlc3MpLXZhbHVlVG9QYXNzKTsKICAgICAgICAgICAgVHJhbnNmZXIoQW1pckFkZHJlc3MsIG1zZy5zZW5kZXIsIHZhbHVlVG9QYXNzKTsKICAgICAgICB9Cn0KCmZ1bmN0aW9uIGFwcHJvdmVEaXZpZGVuZHMgKHVpbnQgdG90YWxEaXZpZGVuZHNBbW91bnQpIHB1YmxpYyBvbmx5T3duZXIgewp1aW50MjU2IGRpdmlkZW5kc1BlclRva2VuID0gdG90YWxEaXZpZGVuZHNBbW91bnQqMTAqKjE4IC8gaW5pdGlhbFN1cHBseTsgCmZvciAodWludDI1NiBpID0gMDsgaTxiYWxhbmNlcy5zaXplKCk7IGkgKz0gMSkgewphZGRyZXNzIHRva2VuSG9sZGVyID0gYmFsYW5jZXMuZ2V0S2V5QnlJbmRleChpKTsKaWYgKGJhbGFuY2VzLmdldCh0b2tlbkhvbGRlcik+MCkKICAgYXBwcm92ZWREaXZpZGVuZHNbdG9rZW5Ib2xkZXJdID0gYmFsYW5jZXMuZ2V0KHRva2VuSG9sZGVyKSpkaXZpZGVuZHNQZXJUb2tlbjsKfQp9CmZ1bmN0aW9uIGJ1cm5VbnNvbGQoKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICB1aW50IGJ1cm5pbmdBbW91bnQgPSBiYWxhbmNlcy5nZXQoQW1pckFkZHJlc3MpOwogICAgaW5pdGlhbFN1cHBseSAtPSBidXJuaW5nQW1vdW50OwpiYWxhbmNlcy5pbnNlcnQoQW1pckFkZHJlc3MsIDApOwpCdXJuZWQoQW1pckFkZHJlc3MsIGJ1cm5pbmdBbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKZnVuY3Rpb24gYXBwcm92ZWREaXZpZGVuZHNPZihhZGRyZXNzIHRva2VuSG9sZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgIHJldHVybiBhcHByb3ZlZERpdmlkZW5kc1t0b2tlbkhvbGRlcl07Cn0KCmZ1bmN0aW9uIHRyYW5zZmVyQWxsRGl2aWRlbmRzKCkgcHVibGljIG9ubHlPd25lcnsKZm9yICh1aW50MjU2IGkgPSAwOyBpPCBiYWxhbmNlcy5zaXplKCk7IGkgKz0gMSkgewphZGRyZXNzIHRva2VuSG9sZGVyID0gYmFsYW5jZXMuZ2V0S2V5QnlJbmRleChpKTsKaWYgKGFwcHJvdmVkRGl2aWRlbmRzW3Rva2VuSG9sZGVyXSA+IDApCnsKICAgdG9rZW5Ib2xkZXIudHJhbnNmZXIoYXBwcm92ZWREaXZpZGVuZHNbdG9rZW5Ib2xkZXJdKTsKICAgRGl2aWRlbmRzVHJhbnNmZXJlZCAodG9rZW5Ib2xkZXIsIGFwcHJvdmVkRGl2aWRlbmRzW3Rva2VuSG9sZGVyXSk7CiAgIGFwcHJvdmVkRGl2aWRlbmRzW3Rva2VuSG9sZGVyXSA9IDA7Cn0KfQp9CmZ1bmN0aW9uIHdpdGhkcmF3KHVpbnQgYW1vdW50KSBwdWJsaWMgb25seU93bmVyewogICAgICAgIEFtaXJBZGRyZXNzLnRyYW5zZmVyKGFtb3VudCoxMCoqMTgpOwp9Cn0='.
	

]
