Class {
	#name : #SRT41b54744d077a60104a9f3dfdd681ad2694eb5e4,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT41b54744d077a60104a9f3dfdd681ad2694eb5e4 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyBJbnRlcmZhY2UgZm9yIGNvbnRyYWN0cyB3aXRoIGJ1eWluZyBmdW5jdGlvbmFsaXR5LCBmb3IgZXhhbXBsZSwgY3Jvd2RzYWxlcy4KY29udHJhY3QgQnV5YWJsZSB7CiAgZnVuY3Rpb24gYnV5IChhZGRyZXNzIHJlY2VpdmVyKSBwdWJsaWMgcGF5YWJsZTsKfQoKIC8vLyBAdGl0bGUgU2FmZU1hdGggY29udHJhY3QgLSBtYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzCmNvbnRyYWN0IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBzYWZlTXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlICByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHNhZmVEaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPiAwKTsKICAgIHVpbnQgYyA9IGEgLyBiOwogICAgYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHNhZmVTdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGM+PWEgJiYgYz49Yik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIG1heDY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhID49IGIgPyBhIDogYjsKICB9CgogIGZ1bmN0aW9uIG1pbjI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9Cn0KCgogLy8vIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2Ugc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMApjb250cmFjdCBFUkMyMCB7CiAgdWludCBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCk7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOyAgCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgb2spOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIG9rKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgb2spOwogIGZ1bmN0aW9uIGRlY2ltYWxzKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgdmFsdWUpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwp9CiAvLy8gQHRpdGxlIE93bmFibGUgY29udHJhY3QgLSBiYXNlIGNvbnRyYWN0IHdpdGggYW4gb3duZXIKY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgIGlmIChuZXdPd25lciAhPSBhZGRyZXNzKDApKSB7CiAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9CiAgfQp9CgogLy8vIEB0aXRsZSBUb2tlbkFkciB0b2tlbiBzYWxlIGNvbnRyYWN0CmNvbnRyYWN0IFRva2VuQWRyVG9rZW5TYWxlIGlzIE93bmFibGUsIFNhZmVNYXRoLCBCdXlhYmxlIHsKCiAgIC8vLyBTdGF0ZSBtYWNoaW5lCiAgIC8vLyBQcmVwYXJpbmc6IFdhaXRpbmcgZm9yIElDTyBzdGFydAogICAvLy8gU2VsbGluZzogQWN0aXZlIHNhbGUKICAgLy8vIFByb2xvbmdlZFNlbGxpbmc6IFByb2xvbmdlZCBhY3RpdmUgc2FsZQogICAvLy8gVG9rZW5TaG9ydGFnZTogSUNPIHBlcmlvZCBpc24ndCBvdmVyIHlldCwgYnV0IHRoZXJlIGFyZSBubyB0b2tlbnMgb24gdGhlIGNvbnRyYWN0CiAgIC8vLyBGaW5pc2hlZDogSUNPIGhhcyBmaW5pc2hlZAogIGVudW0gU3RhdHVzIHtVbmtub3duLCBQcmVwYXJpbmcsIFNlbGxpbmcsIFByb2xvbmdlZFNlbGxpbmcsIFRva2VuU2hvcnRhZ2UsIEZpbmlzaGVkfQoKICAvLy8gQSBuZXcgaW52ZXN0bWVudCB3YXMgbWFkZQogIGV2ZW50IEludmVzdGVkKGFkZHJlc3MgaW52ZXN0b3IsIHVpbnQgd2VpQW1vdW50LCB1aW50IHRva2VuQW1vdW50KTsKCiAgLy8vIENvbnRyYWN0IG93bmVyIHdpdGhkcmV3IHNvbWUgdG9rZW5zIHRvIHRlYW0gd2FsbGV0CiAgZXZlbnQgV2l0aGRyYXcodWludCB0b2tlbkFtb3VudCk7CgogIC8vLyBUb2tlbiB1bml0IHByaWNlIGNoYW5nZWQKICBldmVudCBUb2tlblByaWNlQ2hhbmdlZCh1aW50IG5ld1Rva2VuUHJpY2UpOwoKICAvLy8gU05UUiB0b2tlbiBhZGRyZXNzCiAgRVJDMjAgcHVibGljIHRva2VuOwoKICAvLy8gd2FsbGV0IGFkZHJlc3MgdG8gdHJhbnNmZXIgaW52ZXN0ZWQgRVRICiAgYWRkcmVzcyBwdWJsaWMgZXRoTXVsdGlzaWdXYWxsZXQ7CgogIC8vLyB3YWxsZXQgYWRkcmVzcyB0byB3aXRoZHJhdyB1bnVzZWQgdG9rZW5zCiAgYWRkcmVzcyBwdWJsaWMgdG9rZW5NdWx0aXNpZ1dhbGxldDsKCiAgLy8vIElDTyBzdGFydCB0aW1lCiAgdWludCBwdWJsaWMgc3RhcnRUaW1lOwoKICAvLy8gSUNPIGR1cmF0aW9uIGluIHNlY29uZHMKICB1aW50IHB1YmxpYyBkdXJhdGlvbjsKCiAgLy8vIFByb2xvbmdlZCBJQ08gZHVyYXRpb24gaW4gc2Vjb25kcywgMCBpZiBubyBwcm9sb25nYXRpb24gaXMgcGxhbm5lZAogIHVpbnQgcHVibGljIHByb2xvbmdlZER1cmF0aW9uOwoKICAvLy8gVG9rZW4gcHJpY2UgaW4gd2VpCiAgdWludCBwdWJsaWMgdG9rZW5QcmljZTsKCiAgLy8vIE1pbmltYWwgaW52ZXN0bWVudCBhbW91bnQgaW4gd2VpCiAgdWludCBwdWJsaWMgbWluSW52ZXN0bWVudDsKCiAgLy8vIExpc3Qgb2YgYWRkcmVzc2VzIGFsbG93ZWQgdG8gc2VuZCBFVEggdG8gdGhpcyBjb250cmFjdCwgZW1wdHkgaWYgYW55b25lIGlzIGFsbG93ZWQKICBhZGRyZXNzW10gcHVibGljIGFsbG93ZWRTZW5kZXJzOwoKICAvLy8gVGhlIG51bWJlciBvZiB0b2tlbnMgYWxyZWFkeSBzb2xkIHRocm91Z2ggdGhpcyBjb250cmFjdAogIHVpbnQgcHVibGljIHRva2Vuc1NvbGRBbW91bnQgPSAwOwoKICAvLy8gIEhvdyBtYW55IHdlaSBvZiBmdW5kaW5nIHdlIGhhdmUgcmFpc2VkCiAgdWludCBwdWJsaWMgd2VpUmFpc2VkQW1vdW50ID0gMDsKCiAgLy8vICBIb3cgbWFueSBkaXN0aW5jdCBhZGRyZXNzZXMgaGF2ZSBpbnZlc3RlZAogIHVpbnQgcHVibGljIGludmVzdG9yQ291bnQgPSAwOwoKICAvLy8gIFdhcyBwcm9sb25nYXRpb24gcGVybWl0dGVkIGJ5IG93bmVyIG9yIG5vdAogIGJvb2wgcHVibGljIHByb2xvbmdhdGlvblBlcm1pdHRlZDsKCiAgLy8vICBIb3cgbXVjaCBFVEggZWFjaCBhZGRyZXNzIGhhcyBpbnZlc3RlZCB0byB0aGlzIGNyb3dkc2FsZQogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGludmVzdGVkQW1vdW50T2Y7CgogIC8vLyAgSG93IG11Y2ggdG9rZW5zIHRoaXMgY3Jvd2RzYWxlIGhhcyBjcmVkaXRlZCBmb3IgZWFjaCBpbnZlc3RvciBhZGRyZXNzCiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgdG9rZW5BbW91bnRPZjsKCiAgLy8vIE11bHRpcGxpZXIgZm9yIHRva2VuIHZhbHVlCiAgdWludCBwdWJsaWMgdG9rZW5WYWx1ZU11bHRpcGxpZXI7CgogIC8vLyBTdG9wIHRyaWdnZXIgaW4gZXhjZXNzCiAgYm9vbCBwdWJsaWMgc3RvcHBlZDsKCiAgLy8vIEBkZXYgQ29uc3RydWN0b3IKICAvLy8gQHBhcmFtIF90b2tlbiB0b2tlbiBhZGRyZXNzCiAgLy8vIEBwYXJhbSBfZXRoTXVsdGlzaWdXYWxsZXQgd2FsbGV0IGFkZHJlc3MgdG8gdHJhbnNmZXIgaW52ZXN0ZWQgRVRICiAgLy8vIEBwYXJhbSBfdG9rZW5NdWx0aXNpZ1dhbGxldCB3YWxsZXQgYWRkcmVzcyB0byB3aXRoZHJhdyB1bnVzZWQgdG9rZW5zCiAgLy8vIEBwYXJhbSBfc3RhcnRUaW1lIElDTyBzdGFydCB0aW1lCiAgLy8vIEBwYXJhbSBfZHVyYXRpb24gSUNPIGR1cmF0aW9uIGluIHNlY29uZHMKICAvLy8gQHBhcmFtIF9wcm9sb25nZWREdXJhdGlvbiBQcm9sb25nZWQgSUNPIGR1cmF0aW9uIGluIHNlY29uZHMsIDAgaWYgbm8gcHJvbG9uZ2F0aW9uIGlzIHBsYW5uZWQKICAvLy8gQHBhcmFtIF90b2tlblByaWNlIFRva2VuIHByaWNlIGluIHdlaQogIC8vLyBAcGFyYW0gX21pbkludmVzdG1lbnQgTWluaW1hbCBpbnZlc3RtZW50IGFtb3VudCBpbiB3ZWkKICAvLy8gQHBhcmFtIF9hbGxvd2VkU2VuZGVycyBMaXN0IG9mIGFkZHJlc3NlcyBhbGxvd2VkIHRvIHNlbmQgRVRIIHRvIHRoaXMgY29udHJhY3QsIGVtcHR5IGlmIGFueW9uZSBpcyBhbGxvd2VkCiAgZnVuY3Rpb24gVG9rZW5BZHJUb2tlblNhbGUoYWRkcmVzcyBfdG9rZW4sIGFkZHJlc3MgX2V0aE11bHRpc2lnV2FsbGV0LCBhZGRyZXNzIF90b2tlbk11bHRpc2lnV2FsbGV0LAogICAgICAgICAgICB1aW50IF9zdGFydFRpbWUsIHVpbnQgX2R1cmF0aW9uLCB1aW50IF9wcm9sb25nZWREdXJhdGlvbiwgdWludCBfdG9rZW5QcmljZSwgdWludCBfbWluSW52ZXN0bWVudCwgYWRkcmVzc1tdIF9hbGxvd2VkU2VuZGVycykgcHVibGljIHsKICAgIHJlcXVpcmUoX3Rva2VuICE9IDApOwogICAgcmVxdWlyZShfZXRoTXVsdGlzaWdXYWxsZXQgIT0gMCk7CiAgICByZXF1aXJlKF90b2tlbk11bHRpc2lnV2FsbGV0ICE9IDApOwogICAgcmVxdWlyZShfZHVyYXRpb24gPiAwKTsKICAgIHJlcXVpcmUoX3Rva2VuUHJpY2UgPiAwKTsKICAgIHJlcXVpcmUoX21pbkludmVzdG1lbnQgPiAwKTsKCiAgICB0b2tlbiA9IEVSQzIwKF90b2tlbik7CiAgICBldGhNdWx0aXNpZ1dhbGxldCA9IF9ldGhNdWx0aXNpZ1dhbGxldDsKICAgIHRva2VuTXVsdGlzaWdXYWxsZXQgPSBfdG9rZW5NdWx0aXNpZ1dhbGxldDsKICAgIHN0YXJ0VGltZSA9IF9zdGFydFRpbWU7CiAgICBkdXJhdGlvbiA9IF9kdXJhdGlvbjsKICAgIHByb2xvbmdlZER1cmF0aW9uID0gX3Byb2xvbmdlZER1cmF0aW9uOwogICAgdG9rZW5QcmljZSA9IF90b2tlblByaWNlOwogICAgbWluSW52ZXN0bWVudCA9IF9taW5JbnZlc3RtZW50OwogICAgYWxsb3dlZFNlbmRlcnMgPSBfYWxsb3dlZFNlbmRlcnM7CiAgICB0b2tlblZhbHVlTXVsdGlwbGllciA9IDEwICoqIHRva2VuLmRlY2ltYWxzKCk7CiAgfQoKICAvLy8gQGRldiBTZWxsIHRva2VucyB0byBzcGVjaWZpZWQgYWRkcmVzcwogIC8vLyBAcGFyYW0gcmVjZWl2ZXIgcmVjZWl2ZXIgb2YgYm91Z2h0IHRva2VucwogIGZ1bmN0aW9uIGJ1eSAoYWRkcmVzcyByZWNlaXZlcikgcHVibGljIHBheWFibGUgewogICAgcmVxdWlyZSghc3RvcHBlZCk7CiAgICByZXF1aXJlKGdldEN1cnJlbnRTdGF0dXMoKSA9PSBTdGF0dXMuU2VsbGluZyB8fCBnZXRDdXJyZW50U3RhdHVzKCkgPT0gU3RhdHVzLlByb2xvbmdlZFNlbGxpbmcpOwogICAgcmVxdWlyZShtc2cudmFsdWUgPj0gbWluSW52ZXN0bWVudCk7CgogICAgLy8gQ2hlY2sgaWYgY3VycmVudCBzZW5kZXIgaXMgYWxsb3dlZCB0byBwYXJ0aWNpcGF0ZSBpbiB0aGlzIGNyb3dkc2FsZQogICAgdmFyIHNlbmRlckFsbG93ZWQgPSBmYWxzZTsKICAgIGlmIChhbGxvd2VkU2VuZGVycy5sZW5ndGggPiAwKSB7CiAgICAgIGZvciAodWludCBpID0gMDsgaSA8IGFsbG93ZWRTZW5kZXJzLmxlbmd0aDsgaSsrKQogICAgICAgIGlmIChhbGxvd2VkU2VuZGVyc1tpXSA9PSByZWNlaXZlcikgewogICAgICAgICAgc2VuZGVyQWxsb3dlZCA9IHRydWU7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICB9CiAgICBlbHNlCiAgICAgIHNlbmRlckFsbG93ZWQgPSB0cnVlOwoKICAgIGFzc2VydChzZW5kZXJBbGxvd2VkKTsKCiAgICB1aW50IHdlaUFtb3VudCA9IG1zZy52YWx1ZTsKICAgIHVpbnQgdG9rZW5BbW91bnQgPSBzYWZlRGl2KHNhZmVNdWwod2VpQW1vdW50LCB0b2tlblZhbHVlTXVsdGlwbGllciksIHRva2VuUHJpY2UpOwogICAgYXNzZXJ0KHRva2VuQW1vdW50ID4gMCk7CgogICAgdWludCBjaGFuZ2VXZWkgPSAwOwogICAgdmFyIGN1cnJlbnRDb250cmFjdFRva2VucyA9IHRva2VuLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKTsKICAgIGlmIChjdXJyZW50Q29udHJhY3RUb2tlbnMgPCB0b2tlbkFtb3VudCkgewogICAgICB2YXIgY2hhbmdlVG9rZW5BbW91bnQgPSBzYWZlU3ViKHRva2VuQW1vdW50LCBjdXJyZW50Q29udHJhY3RUb2tlbnMpOwogICAgICBjaGFuZ2VXZWkgPSBzYWZlRGl2KHNhZmVNdWwoY2hhbmdlVG9rZW5BbW91bnQsIHRva2VuUHJpY2UpLCB0b2tlblZhbHVlTXVsdGlwbGllcik7CiAgICAgIHRva2VuQW1vdW50ID0gY3VycmVudENvbnRyYWN0VG9rZW5zOwogICAgICB3ZWlBbW91bnQgPSBzYWZlU3ViKHdlaUFtb3VudCwgY2hhbmdlV2VpKTsKICAgIH0KCiAgICBpZihpbnZlc3RlZEFtb3VudE9mW3JlY2VpdmVyXSA9PSAwKSB7CiAgICAgICAvLyBBIG5ldyBpbnZlc3RvcgogICAgICAgaW52ZXN0b3JDb3VudCsrOwogICAgfQogICAgLy8gVXBkYXRlIGludmVzdG9yLWFtb3VudCBtYXBwaW5ncwogICAgaW52ZXN0ZWRBbW91bnRPZltyZWNlaXZlcl0gPSBzYWZlQWRkKGludmVzdGVkQW1vdW50T2ZbcmVjZWl2ZXJdLCB3ZWlBbW91bnQpOwogICAgdG9rZW5BbW91bnRPZltyZWNlaXZlcl0gPSBzYWZlQWRkKHRva2VuQW1vdW50T2ZbcmVjZWl2ZXJdLCB0b2tlbkFtb3VudCk7CiAgICAvLyBVcGRhdGUgdG90YWxzCiAgICB3ZWlSYWlzZWRBbW91bnQgPSBzYWZlQWRkKHdlaVJhaXNlZEFtb3VudCwgd2VpQW1vdW50KTsKICAgIHRva2Vuc1NvbGRBbW91bnQgPSBzYWZlQWRkKHRva2Vuc1NvbGRBbW91bnQsIHRva2VuQW1vdW50KTsKCiAgICAvLyBUcmFuc2ZlciB0aGUgaW52ZXN0ZWQgRVRIIHRvIHRoZSBtdWx0aXNpZyB3YWxsZXQ7CiAgICBldGhNdWx0aXNpZ1dhbGxldC50cmFuc2Zlcih3ZWlBbW91bnQpOwoKICAgIC8vIFRyYW5zZmVyIHRoZSBib3VnaHQgdG9rZW5zIHRvIHRoZSBFVEggc2VuZGVyCiAgICB2YXIgdHJhbnNmZXJTdWNjZXNzID0gdG9rZW4udHJhbnNmZXIocmVjZWl2ZXIsIHRva2VuQW1vdW50KTsKICAgIGFzc2VydCh0cmFuc2ZlclN1Y2Nlc3MpOwoKICAgIC8vIFJldHVybiBjaGFuZ2UgaWYgYW55CiAgICBpZiAoY2hhbmdlV2VpID4gMCkgewogICAgICByZWNlaXZlci50cmFuc2ZlcihjaGFuZ2VXZWkpOwogICAgfQoKICAgIC8vIFRlbGwgdXMgdGhlIGludmVzdG1lbnQgc3VjY2VlZGVkCiAgICBJbnZlc3RlZChyZWNlaXZlciwgd2VpQW1vdW50LCB0b2tlbkFtb3VudCk7CiAgfQoKICAvLy8gQGRldiBTZWxsIHRva2VucyB0byBFVEggc2VuZGVyCiAgZnVuY3Rpb24oKSBwdWJsaWMgcGF5YWJsZSB7CiAgICBidXkobXNnLnNlbmRlcik7CiAgfQoKICAgLy8vIEBkZXYgVG9rZW4gc2FsZSBzdGF0ZSBtYWNoaW5lIG1hbmFnZW1lbnQuCiAgIC8vLyBAcmV0dXJuIFN0YXR1cyBjdXJyZW50IHN0YXR1cwogIGZ1bmN0aW9uIGdldEN1cnJlbnRTdGF0dXMoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoU3RhdHVzKSB7CiAgICBpZiAoc3RhcnRUaW1lID4gbm93KQogICAgICByZXR1cm4gU3RhdHVzLlByZXBhcmluZzsKICAgIGlmIChub3cgPiBzdGFydFRpbWUgKyBkdXJhdGlvbiArIHByb2xvbmdlZER1cmF0aW9uKQogICAgICByZXR1cm4gU3RhdHVzLkZpbmlzaGVkOwogICAgaWYgKG5vdyA+IHN0YXJ0VGltZSArIGR1cmF0aW9uICYmICFwcm9sb25nYXRpb25QZXJtaXR0ZWQpCiAgICAgIHJldHVybiBTdGF0dXMuRmluaXNoZWQ7CiAgICBpZiAodG9rZW4uYmFsYW5jZU9mKGFkZHJlc3ModGhpcykpIDw9IDApCiAgICAgIHJldHVybiBTdGF0dXMuVG9rZW5TaG9ydGFnZTsKICAgIGlmIChub3cgPiBzdGFydFRpbWUgKyBkdXJhdGlvbikKICAgICAgcmV0dXJuIFN0YXR1cy5Qcm9sb25nZWRTZWxsaW5nOwogICAgaWYgKG5vdyA+PSBzdGFydFRpbWUpCiAgICAgICAgcmV0dXJuIFN0YXR1cy5TZWxsaW5nOwogICAgcmV0dXJuIFN0YXR1cy5Vbmtub3duOwogIH0KCiAgLy8vIEBkZXYgV2l0aGRyYXcgcmVtYWluaW5nIHRva2VucyB0byB0aGUgdGVhbSB3YWxsZXQKICAvLy8gQHBhcmFtIHZhbHVlIEFtb3VudCBvZiB0b2tlbnMgdG8gd2l0aGRyYXcKICBmdW5jdGlvbiB3aXRoZHJhd1Rva2Vucyh1aW50IHZhbHVlKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUodmFsdWUgPD0gdG9rZW4uYmFsYW5jZU9mKGFkZHJlc3ModGhpcykpKTsKICAgIC8vIFJldHVybiB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgdG8gdGVhbSB3YWxsZXQKICAgIHRva2VuLnRyYW5zZmVyKHRva2VuTXVsdGlzaWdXYWxsZXQsIHZhbHVlKTsKICAgIFdpdGhkcmF3KHZhbHVlKTsKICB9CgogIC8vLyBAZGV2IENoYW5nZSBjdXJyZW50IHRva2VuIHByaWNlCiAgLy8vIEBwYXJhbSBuZXdUb2tlblByaWNlIE5ldyB0b2tlbiB1bml0IHByaWNlIGluIHdlaQogIGZ1bmN0aW9uIGNoYW5nZVRva2VuUHJpY2UodWludCBuZXdUb2tlblByaWNlKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUobmV3VG9rZW5QcmljZSA+IDApOwoKICAgIHRva2VuUHJpY2UgPSBuZXdUb2tlblByaWNlOwogICAgVG9rZW5QcmljZUNoYW5nZWQobmV3VG9rZW5QcmljZSk7CiAgfQoKICAvLy8gQGRldiBQcm9sb25nIElDTyBpZiBvd25lciBkZWNpZGVzIHRvIGRvIGl0CiAgZnVuY3Rpb24gcHJvbG9uZygpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZSghcHJvbG9uZ2F0aW9uUGVybWl0dGVkICYmIHByb2xvbmdlZER1cmF0aW9uID4gMCk7CiAgICBwcm9sb25nYXRpb25QZXJtaXR0ZWQgPSB0cnVlOwogIH0KCiAgLy8vIEBkZXYgQ2FsbGVkIGJ5IHRoZSBvd25lciBvbiBleGNlc3MsIHRyaWdnZXJzIHN0b3BwZWQgc3RhdGUKICBmdW5jdGlvbiBzdG9wU2FsZSgpIHB1YmxpYyBvbmx5T3duZXIgewogICAgc3RvcHBlZCA9IHRydWU7CiAgfQoKICAvLy8gQGRldiBDYWxsZWQgYnkgdGhlIG93bmVyIG9uIGVuZCBvZiBleGNlc3MsIHJldHVybnMgdG8gbm9ybWFsIHN0YXRlCiAgZnVuY3Rpb24gcmVzdW1lU2FsZSgpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShzdG9wcGVkKTsKICAgIHN0b3BwZWQgPSBmYWxzZTsKICB9CgogIC8vLyBAZGV2IENhbGxlZCBieSB0aGUgb3duZXIgdG8gZGVzdHJveSBjb250cmFjdAogIGZ1bmN0aW9uIGtpbGwoKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHNlbGZkZXN0cnVjdChvd25lcik7CiAgfQp9'.
	

]
