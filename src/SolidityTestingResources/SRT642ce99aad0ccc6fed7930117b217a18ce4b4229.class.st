Class {
	#name : #SRT642ce99aad0ccc6fed7930117b217a18ce4b4229,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT642ce99aad0ccc6fed7930117b217a18ce4b4229 >> base64 [
	^ 'LyoKCiAgQ29weXJpZ2h0IDIwMTcgQ29mb3VuZC5pdC4KCiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoKICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgoqLwoKcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7Cgpjb250cmFjdCBSZWVudHJuYWN5SGFuZGxpbmdDb250cmFjdHsKCiAgICBib29sIGxvY2tlZDsKCiAgICBtb2RpZmllciBub1JlZW50cmFuY3koKSB7CiAgICAgICAgcmVxdWlyZSghbG9ja2VkKTsKICAgICAgICBsb2NrZWQgPSB0cnVlOwogICAgICAgIF87CiAgICAgICAgbG9ja2VkID0gZmFsc2U7CiAgICB9Cn0KCmNvbnRyYWN0IE93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgYWRkcmVzcyBwdWJsaWMgbmV3T3duZXI7CgogICAgZnVuY3Rpb24gT3duZWQoKSBwdWJsaWN7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgYXNzZXJ0KG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoX25ld093bmVyICE9IG93bmVyKTsKICAgICAgICBuZXdPd25lciA9IF9uZXdPd25lcjsKICAgIH0KCiAgICBmdW5jdGlvbiBhY2NlcHRPd25lcnNoaXAoKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBuZXdPd25lcik7CiAgICAgICAgT3duZXJVcGRhdGUob3duZXIsIG5ld093bmVyKTsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgICAgIG5ld093bmVyID0gMHgwOwogICAgfQoKICAgIGV2ZW50IE93bmVyVXBkYXRlKGFkZHJlc3MgX3ByZXZPd25lciwgYWRkcmVzcyBfbmV3T3duZXIpOwp9Cgpjb250cmFjdCBJVG9rZW4gewogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG90YWxTdXBwbHkpOwogIGZ1bmN0aW9uIG1pbnRUb2tlbnMoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHt9Cn0KCmNvbnRyYWN0IElFUkMyMFRva2VuIHsKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHRvdGFsU3VwcGx5KTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHt9CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcykge30KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykge30KCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cn0KCgpjb250cmFjdCBDcm93ZHNhbGUgaXMgUmVlbnRybmFjeUhhbmRsaW5nQ29udHJhY3QsIE93bmVkewoKICBzdHJ1Y3QgQ29udHJpYnV0b3JEYXRhewogICAgdWludCBwcmlvcml0eVBhc3NBbGxvd2FuY2U7CiAgICBib29sIGlzQWN0aXZlOwogICAgdWludCBjb250cmlidXRpb25BbW91bnQ7CiAgICB1aW50IHRva2Vuc0lzc3VlZDsKICB9CgogIG1hcHBpbmcoYWRkcmVzcyA9PiBDb250cmlidXRvckRhdGEpIHB1YmxpYyBjb250cmlidXRvckxpc3Q7CiAgdWludCBwdWJsaWMgbmV4dENvbnRyaWJ1dG9ySW5kZXg7CiAgbWFwcGluZyh1aW50ID0+IGFkZHJlc3MpIHB1YmxpYyBjb250cmlidXRvckluZGV4ZXM7CgogIHN0YXRlIHB1YmxpYyBjcm93ZHNhbGVTdGF0ZSA9IHN0YXRlLnBlbmRpbmdTdGFydDsKICBlbnVtIHN0YXRlIHsgcGVuZGluZ1N0YXJ0LCBwcmlvcml0eVBhc3MsIG9wZW5lZFByaW9yaXR5UGFzcywgY3Jvd2RzYWxlLCBjcm93ZHNhbGVFbmRlZCB9CgogIHVpbnQgcHVibGljIHByZXNhbGVTdGFydFRpbWU7CiAgdWludCBwdWJsaWMgcHJlc2FsZVVubGltaXRlZFN0YXJ0VGltZTsKICB1aW50IHB1YmxpYyBjcm93ZHNhbGVTdGFydFRpbWU7CiAgdWludCBwdWJsaWMgY3Jvd2RzYWxlRW5kZWRUaW1lOwoKICBldmVudCBQcmVzYWxlU3RhcnRlZCh1aW50IGJsb2NrVGltZSk7CiAgZXZlbnQgUHJlc2FsZVVubGltaXRlZFN0YXJ0ZWQodWludCBibG9ja1RpbWUpOwogIGV2ZW50IENyb3dkc2FsZVN0YXJ0ZWQodWludCBibG9ja1RpbWUpOwogIGV2ZW50IENyb3dkc2FsZUVuZGVkKHVpbnQgYmxvY2tUaW1lKTsKICBldmVudCBFcnJvclNlbmRpbmdFVEgoYWRkcmVzcyB0bywgdWludCBhbW91bnQpOwogIGV2ZW50IE1pbkNhcFJlYWNoZWQodWludCBibG9ja1RpbWUpOwogIGV2ZW50IE1heENhcFJlYWNoZWQodWludCBibG9ja1RpbWUpOwogIGV2ZW50IENvbnRyaWJ1dGlvbk1hZGUoYWRkcmVzcyBpbmRleGVkIGNvbnRyaWJ1dG9yLCB1aW50IGFtb3VudCk7CgoKICBJVG9rZW4gdG9rZW4gPSBJVG9rZW4oMHgwKTsKICB1aW50IGV0aFRvVG9rZW5Db252ZXJzaW9uOwoKICB1aW50IHB1YmxpYyBtaW5DYXA7CiAgdWludCBwdWJsaWMgbWF4UDFDYXA7CiAgdWludCBwdWJsaWMgbWF4Q2FwOwogIHVpbnQgcHVibGljIGV0aFJhaXNlZDsKCiAgYWRkcmVzcyBwdWJsaWMgbXVsdGlzaWdBZGRyZXNzOwoKICB1aW50IG5leHRDb250cmlidXRvclRvQ2xhaW07CiAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIGhhc0NsYWltZWRFdGhXaGVuRmFpbDsKCiAgdWludCBwdWJsaWMgbWF4VG9rZW5TdXBwbHk7CiAgYm9vbCBwdWJsaWMgb3duZXJIYXNDbGFpbWVkVG9rZW5zOwogIHVpbnQgcHVibGljIHByZXNhbGVCb251c1Rva2VuczsKICBhZGRyZXNzIHB1YmxpYyBwcmVzYWxlQm9udXNBZGRyZXNzOwogIGFkZHJlc3MgcHVibGljIHByZXNhbGVCb251c0FkZHJlc3NDb2xkU3RvcmFnZTsKICBib29sIHB1YmxpYyBwcmVzYWxlQm9udXNUb2tlbnNDbGFpbWVkOwoKICAvLwogIC8vIFVubmFtZWQgZnVuY3Rpb24gdGhhdCBydW5zIHdoZW4gZXRoIGlzIHNlbnQgdG8gdGhlIGNvbnRyYWN0CiAgLy8gQHBheWFibGUKICAvLwogIGZ1bmN0aW9uKCkgcHVibGljIG5vUmVlbnRyYW5jeSBwYXlhYmxlewogICAgcmVxdWlyZShtc2cudmFsdWUgIT0gMCk7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhyb3cgaWYgdmFsdWUgaXMgMAogICAgcmVxdWlyZShjcm93ZHNhbGVTdGF0ZSAhPSBzdGF0ZS5jcm93ZHNhbGVFbmRlZCk7Ly8gQ2hlY2sgaWYgY3Jvd2RzYWxlIGhhcyBlbmRlZAoKICAgIGJvb2wgc3RhdGVDaGFuZ2VkID0gY2hlY2tDcm93ZHNhbGVTdGF0ZSgpOyAgICAgIC8vIENoZWNrIGJsb2NrcyBhbmQgY2FsaWJyYXRlIGNyb3dkc2FsZSBzdGF0ZQoKICAgIGlmIChjcm93ZHNhbGVTdGF0ZSA9PSBzdGF0ZS5wcmlvcml0eVBhc3MpewogICAgICBpZiAoY29udHJpYnV0b3JMaXN0W21zZy5zZW5kZXJdLmlzQWN0aXZlKXsgICAgLy8gQ2hlY2sgaWYgY29udHJpYnV0b3IgaXMgaW4gcHJpb3JpdHlQYXNzCiAgICAgICAgcHJvY2Vzc1RyYW5zYWN0aW9uKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7ICAvLyBQcm9jZXNzIHRyYW5zYWN0aW9uIGFuZCBpc3N1ZSB0b2tlbnMKICAgICAgfWVsc2V7CiAgICAgICAgcmVmdW5kVHJhbnNhY3Rpb24oc3RhdGVDaGFuZ2VkKTsgICAgICAgICAgICAvLyBTZXQgc3RhdGUgYW5kIHJldHVybiBmdW5kcyBvciB0aHJvdwogICAgICB9CiAgICB9CiAgICBlbHNlIGlmKGNyb3dkc2FsZVN0YXRlID09IHN0YXRlLm9wZW5lZFByaW9yaXR5UGFzcyl7CiAgICAgIGlmIChjb250cmlidXRvckxpc3RbbXNnLnNlbmRlcl0uaXNBY3RpdmUpeyAgICAvLyBDaGVjayBpZiBjb250cmlidXRvciBpcyBpbiBwcmlvcml0eVBhc3MKICAgICAgICBwcm9jZXNzVHJhbnNhY3Rpb24obXNnLnNlbmRlciwgbXNnLnZhbHVlKTsgIC8vIFByb2Nlc3MgdHJhbnNhY3Rpb24gYW5kIGlzc3VlIHRva2VucwogICAgICB9ZWxzZXsKICAgICAgICByZWZ1bmRUcmFuc2FjdGlvbihzdGF0ZUNoYW5nZWQpOyAgICAgICAgICAgIC8vIFNldCBzdGF0ZSBhbmQgcmV0dXJuIGZ1bmRzIG9yIHRocm93CiAgICAgIH0KICAgIH0KICAgIGVsc2UgaWYoY3Jvd2RzYWxlU3RhdGUgPT0gc3RhdGUuY3Jvd2RzYWxlKXsKICAgICAgcHJvY2Vzc1RyYW5zYWN0aW9uKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7ICAgIC8vIFByb2Nlc3MgdHJhbnNhY3Rpb24gYW5kIGlzc3VlIHRva2VucwogICAgfQogICAgZWxzZXsKICAgICAgcmVmdW5kVHJhbnNhY3Rpb24oc3RhdGVDaGFuZ2VkKTsgICAgICAgICAgICAgIC8vIFNldCBzdGF0ZSBhbmQgcmV0dXJuIGZ1bmRzIG9yIHRocm93CiAgICB9CiAgfQoKICAvLwogIC8vIENoZWNrIGNyb3dkc2FsZSBzdGF0ZSBhbmQgY2FsaWJyYXRlIGl0CiAgLy8KICBmdW5jdGlvbiBjaGVja0Nyb3dkc2FsZVN0YXRlKCkgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCl7CiAgICBpZiAoZXRoUmFpc2VkID09IG1heENhcCAmJiBjcm93ZHNhbGVTdGF0ZSAhPSBzdGF0ZS5jcm93ZHNhbGVFbmRlZCl7ICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIG1heCBjYXAgaXMgcmVhY2hlZAogICAgICBjcm93ZHNhbGVTdGF0ZSA9IHN0YXRlLmNyb3dkc2FsZUVuZGVkOwogICAgICBNYXhDYXBSZWFjaGVkKGJsb2NrLnRpbWVzdGFtcCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDbG9zZSB0aGUgY3Jvd2RzYWxlCiAgICAgIENyb3dkc2FsZUVuZGVkKGJsb2NrLnRpbWVzdGFtcCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJhaXNlIGV2ZW50CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGlmIChibG9jay50aW1lc3RhbXAgPiBwcmVzYWxlU3RhcnRUaW1lICYmIGJsb2NrLnRpbWVzdGFtcCA8PSBwcmVzYWxlVW5saW1pdGVkU3RhcnRUaW1lKXsgIC8vIENoZWNrIGlmIHdlIGFyZSBpbiBwcmVzYWxlIHBoYXNlCiAgICAgIGlmIChjcm93ZHNhbGVTdGF0ZSAhPSBzdGF0ZS5wcmlvcml0eVBhc3MpeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHN0YXRlIG5lZWRzIHRvIGJlIGNoYW5nZWQKICAgICAgICBjcm93ZHNhbGVTdGF0ZSA9IHN0YXRlLnByaW9yaXR5UGFzczsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IG5ldyBzdGF0ZQogICAgICAgIFByZXNhbGVTdGFydGVkKGJsb2NrLnRpbWVzdGFtcCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSYWlzZSBldmVudAogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9ZWxzZSBpZihibG9jay50aW1lc3RhbXAgPiBwcmVzYWxlVW5saW1pdGVkU3RhcnRUaW1lICYmIGJsb2NrLnRpbWVzdGFtcCA8PSBjcm93ZHNhbGVTdGFydFRpbWUpeyAvLyBDaGVjayBpZiB3ZSBhcmUgaW4gcHJlc2FsZSB1bmxpbWl0ZWQgcGhhc2UKICAgICAgaWYgKGNyb3dkc2FsZVN0YXRlICE9IHN0YXRlLm9wZW5lZFByaW9yaXR5UGFzcyl7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgc3RhdGUgbmVlZHMgdG8gYmUgY2hhbmdlZAogICAgICAgIGNyb3dkc2FsZVN0YXRlID0gc3RhdGUub3BlbmVkUHJpb3JpdHlQYXNzOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgbmV3IHN0YXRlCiAgICAgICAgUHJlc2FsZVVubGltaXRlZFN0YXJ0ZWQoYmxvY2sudGltZXN0YW1wKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJhaXNlIGV2ZW50CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH1lbHNlIGlmKGJsb2NrLnRpbWVzdGFtcCA+IGNyb3dkc2FsZVN0YXJ0VGltZSAmJiBibG9jay50aW1lc3RhbXAgPD0gY3Jvd2RzYWxlRW5kZWRUaW1lKXsgICAgICAgIC8vIENoZWNrIGlmIHdlIGFyZSBpbiBjcm93ZHNhbGUgc3RhdGUKICAgICAgaWYgKGNyb3dkc2FsZVN0YXRlICE9IHN0YXRlLmNyb3dkc2FsZSl7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgc3RhdGUgbmVlZHMgdG8gYmUgY2hhbmdlZAogICAgICAgIGNyb3dkc2FsZVN0YXRlID0gc3RhdGUuY3Jvd2RzYWxlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgbmV3IHN0YXRlCiAgICAgICAgQ3Jvd2RzYWxlU3RhcnRlZChibG9jay50aW1lc3RhbXApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJhaXNlIGV2ZW50CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH1lbHNlewogICAgICBpZiAoY3Jvd2RzYWxlU3RhdGUgIT0gc3RhdGUuY3Jvd2RzYWxlRW5kZWQgJiYgYmxvY2sudGltZXN0YW1wID4gY3Jvd2RzYWxlRW5kZWRUaW1lKXsgICAgICAgIC8vIENoZWNrIGlmIGNyb3dkc2FsZSBpcyBvdmVyCiAgICAgICAgY3Jvd2RzYWxlU3RhdGUgPSBzdGF0ZS5jcm93ZHNhbGVFbmRlZDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCBuZXcgc3RhdGUKICAgICAgICBDcm93ZHNhbGVFbmRlZChibG9jay50aW1lc3RhbXApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmFpc2UgZXZlbnQKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgLy8KICAvLyBEZWNpZGUgaWYgdGhyb3cgb3Igb25seSByZXR1cm4gZXRoZXIKICAvLwogIGZ1bmN0aW9uIHJlZnVuZFRyYW5zYWN0aW9uKGJvb2wgX3N0YXRlQ2hhbmdlZCkgaW50ZXJuYWx7CiAgICBpZiAoX3N0YXRlQ2hhbmdlZCl7CiAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgIH1lbHNlewogICAgICByZXZlcnQoKTsKICAgIH0KICB9CgogIC8vCiAgLy8gQ2FsY3VsYXRlIGhvdyBtdWNoIHVzZXIgY2FuIGNvbnRyaWJ1dGUKICAvLwogIGZ1bmN0aW9uIGNhbGN1bGF0ZU1heENvbnRyaWJ1dGlvbihhZGRyZXNzIF9jb250cmlidXRvcikgY29uc3RhbnQgcmV0dXJucyAodWludCBtYXhDb250cmlidXRpb24pewogICAgdWludCBtYXhDb250cmliOwogICAgaWYgKGNyb3dkc2FsZVN0YXRlID09IHN0YXRlLnByaW9yaXR5UGFzcyl7ICAgIC8vIENoZWNrIGlmIHdlIGFyZSBpbiBwcmlvcml0eSBwYXNzCiAgICAgIG1heENvbnRyaWIgPSBjb250cmlidXRvckxpc3RbX2NvbnRyaWJ1dG9yXS5wcmlvcml0eVBhc3NBbGxvd2FuY2UgLSBjb250cmlidXRvckxpc3RbX2NvbnRyaWJ1dG9yXS5jb250cmlidXRpb25BbW91bnQ7CiAgICAgIGlmIChtYXhDb250cmliID4gKG1heFAxQ2FwIC0gZXRoUmFpc2VkKSl7ICAgLy8gQ2hlY2sgaWYgbWF4IGNvbnRyaWJ1dGlvbiBpcyBtb3JlIHRoYXQgbWF4IGNhcAogICAgICAgIG1heENvbnRyaWIgPSBtYXhQMUNhcCAtIGV0aFJhaXNlZDsgICAgICAgIC8vIEFsdGVyIG1heCBjYXAKICAgICAgfQogICAgfQogICAgZWxzZXsKICAgICAgbWF4Q29udHJpYiA9IG1heENhcCAtIGV0aFJhaXNlZDsgICAgICAgICAgICAvLyBBbHRlciBtYXggY2FwCiAgICB9CiAgICByZXR1cm4gbWF4Q29udHJpYjsKICB9CgogIC8vCiAgLy8gSXNzdWUgdG9rZW5zIGFuZCByZXR1cm4gaWYgdGhlcmUgaXMgb3ZlcmZsb3cKICAvLwogIGZ1bmN0aW9uIHByb2Nlc3NUcmFuc2FjdGlvbihhZGRyZXNzIF9jb250cmlidXRvciwgdWludCBfYW1vdW50KSBpbnRlcm5hbHsKICAgIHVpbnQgbWF4Q29udHJpYnV0aW9uID0gY2FsY3VsYXRlTWF4Q29udHJpYnV0aW9uKF9jb250cmlidXRvcik7ICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgbWF4IHVzZXJzIGNvbnRyaWJ1dGlvbgogICAgdWludCBjb250cmlidXRpb25BbW91bnQgPSBfYW1vdW50OwogICAgdWludCByZXR1cm5BbW91bnQgPSAwOwogICAgaWYgKG1heENvbnRyaWJ1dGlvbiA8IF9hbW91bnQpeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIG1heCBjb250cmlidXRpb24gaXMgbG93ZXIgdGhhbiBfYW1vdW50IHNlbnQKICAgICAgY29udHJpYnV0aW9uQW1vdW50ID0gbWF4Q29udHJpYnV0aW9uOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhhdCB1c2VyIGNvbnRyaWJ1dGVzIGhpcyBtYXhpbXVtIGFsbG93ZWQgY29udHJpYnV0aW9uCiAgICAgIHJldHVybkFtb3VudCA9IF9hbW91bnQgLSBtYXhDb250cmlidXRpb247ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGhvdyBtdWNoIGhlIG11c3QgZ2V0IGJhY2sKICAgIH0KCiAgICBpZiAoZXRoUmFpc2VkICsgY29udHJpYnV0aW9uQW1vdW50ID4gbWluQ2FwICYmIG1pbkNhcCA+IGV0aFJhaXNlZCkgTWluQ2FwUmVhY2hlZChibG9jay50aW1lc3RhbXApOwoKICAgIGlmIChjb250cmlidXRvckxpc3RbX2NvbnRyaWJ1dG9yXS5pc0FjdGl2ZSA9PSBmYWxzZSl7ICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBjb250cmlidXRvciBoYXMgYWxyZWFkeSBjb250cmlidXRlZAogICAgICBjb250cmlidXRvckxpc3RbX2NvbnRyaWJ1dG9yXS5pc0FjdGl2ZSA9IHRydWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCBoaXMgYWN0aXZpdHkgdG8gdHJ1ZQogICAgICBjb250cmlidXRvckxpc3RbX2NvbnRyaWJ1dG9yXS5jb250cmlidXRpb25BbW91bnQgPSBjb250cmlidXRpb25BbW91bnQ7ICAgIC8vIFNldCBoaXMgY29udHJpYnV0aW9uCiAgICAgIGNvbnRyaWJ1dG9ySW5kZXhlc1tuZXh0Q29udHJpYnV0b3JJbmRleF0gPSBfY29udHJpYnV0b3I7ICAgICAgICAgICAgICAgICAgLy8gU2V0IGNvbnRyaWJ1dG9ycyBpbmRleAogICAgICBuZXh0Q29udHJpYnV0b3JJbmRleCsrOwogICAgfQogICAgZWxzZXsKICAgICAgY29udHJpYnV0b3JMaXN0W19jb250cmlidXRvcl0uY29udHJpYnV0aW9uQW1vdW50ICs9IGNvbnRyaWJ1dGlvbkFtb3VudDsgICAvLyBBZGQgY29udHJpYnV0aW9uIGFtb3VudCB0byBleGlzdGluZyBjb250cmlidXRvcgogICAgfQogICAgZXRoUmFpc2VkICs9IGNvbnRyaWJ1dGlvbkFtb3VudDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0byBldGggcmFpc2VkCgogICAgQ29udHJpYnV0aW9uTWFkZShtc2cuc2VuZGVyLCBjb250cmlidXRpb25BbW91bnQpOwoKICAgIHVpbnQgdG9rZW5BbW91bnQgPSBjb250cmlidXRpb25BbW91bnQgKiBldGhUb1Rva2VuQ29udmVyc2lvbjsgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgaG93IG11Y2ggdG9rZW5zIG11c3QgY29udHJpYnV0b3IgZ2V0CiAgICBpZiAodG9rZW5BbW91bnQgPiAwKXsKICAgICAgdG9rZW4ubWludFRva2VucyhfY29udHJpYnV0b3IsIHRva2VuQW1vdW50KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElzc3VlIG5ldyB0b2tlbnMKICAgICAgY29udHJpYnV0b3JMaXN0W19jb250cmlidXRvcl0udG9rZW5zSXNzdWVkICs9IHRva2VuQW1vdW50OyAgICAgICAgICAgICAgICAgIC8vIGxvZyB0b2tlbiBpc3N1YW5jZQogICAgfQogICAgaWYgKHJldHVybkFtb3VudCAhPSAwKSBfY29udHJpYnV0b3IudHJhbnNmZXIocmV0dXJuQW1vdW50KTsgICAgICAgICAgICAgICAgIC8vIFJldHVybiBvdmVyZmxvdyBvZiBldGhlcgogIH0KCiAgLy8KICAvLyBQdXNoIGNvbnRyaWJ1dG9yIGRhdGEgdG8gdGhlIGNvbnRyYWN0IGJlZm9yZSB0aGUgY3Jvd2RzYWxlIHNvIHRoYXQgdGhleSBhcmUgZWxpZ2libGUgZm9yIHByaW9yaXR5IHBhc3MKICAvLwogIGZ1bmN0aW9uIGVkaXRDb250cmlidXRvcnMoYWRkcmVzc1tdIF9jb250cmlidXRvckFkZHJlc3NlcywgdWludFtdIF9jb250cmlidXRvclBQQWxsb3dhbmNlcykgcHVibGljIG9ubHlPd25lcnsKICAgIHJlcXVpcmUoX2NvbnRyaWJ1dG9yQWRkcmVzc2VzLmxlbmd0aCA9PSBfY29udHJpYnV0b3JQUEFsbG93YW5jZXMubGVuZ3RoKTsgLy8gQ2hlY2sgaWYgaW5wdXQgZGF0YSBpcyBjb3JyZWN0CgogICAgZm9yKHVpbnQgY250ID0gMDsgY250IDwgX2NvbnRyaWJ1dG9yQWRkcmVzc2VzLmxlbmd0aDsgY250KyspewogICAgICBpZiAoY29udHJpYnV0b3JMaXN0W19jb250cmlidXRvckFkZHJlc3Nlc1tjbnRdXS5pc0FjdGl2ZSl7CiAgICAgICAgY29udHJpYnV0b3JMaXN0W19jb250cmlidXRvckFkZHJlc3Nlc1tjbnRdXS5wcmlvcml0eVBhc3NBbGxvd2FuY2UgPSBfY29udHJpYnV0b3JQUEFsbG93YW5jZXNbY250XTsKICAgICAgfQogICAgICBlbHNlewogICAgICAgIGNvbnRyaWJ1dG9yTGlzdFtfY29udHJpYnV0b3JBZGRyZXNzZXNbY250XV0uaXNBY3RpdmUgPSB0cnVlOwogICAgICAgIGNvbnRyaWJ1dG9yTGlzdFtfY29udHJpYnV0b3JBZGRyZXNzZXNbY250XV0ucHJpb3JpdHlQYXNzQWxsb3dhbmNlID0gX2NvbnRyaWJ1dG9yUFBBbGxvd2FuY2VzW2NudF07CiAgICAgICAgY29udHJpYnV0b3JJbmRleGVzW25leHRDb250cmlidXRvckluZGV4XSA9IF9jb250cmlidXRvckFkZHJlc3Nlc1tjbnRdOwogICAgICAgIG5leHRDb250cmlidXRvckluZGV4Kys7CiAgICAgIH0KICAgIH0KICB9CgogIC8vCiAgLy8gTWV0aG9kIGlzIG5lZWRlZCBmb3IgcmVjb3ZlcmluZyB0b2tlbnMgYWNjaWRlbnRhbGx5IHNlbnQgdG8gdG9rZW4gYWRkcmVzcwogIC8vCiAgZnVuY3Rpb24gc2FsdmFnZVRva2Vuc0Zyb21Db250cmFjdChhZGRyZXNzIF90b2tlbkFkZHJlc3MsIGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIHB1YmxpYyBvbmx5T3duZXJ7CiAgICBJRVJDMjBUb2tlbihfdG9rZW5BZGRyZXNzKS50cmFuc2ZlcihfdG8sIF9hbW91bnQpOwogIH0KCiAgLy8KICAvLyB3aXRoZHJhd0V0aCB3aGVuIG1pbmltdW0gY2FwIGlzIHJlYWNoZWQKICAvLyBAb3duZXIgc2V0cyBjb250cmlidXRpb25zIHRvIHdpdGhkcmF3CiAgLy8KICBmdW5jdGlvbiB3aXRoZHJhd0V0aCgpIG9ubHlPd25lciBwdWJsaWMgewogICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgIT0gMCk7CiAgICByZXF1aXJlKGV0aFJhaXNlZCA+PSBtaW5DYXApOwoKICAgIHBlbmRpbmdFdGhXaXRoZHJhd2FsID0gdGhpcy5iYWxhbmNlOwogIH0KCgogIHVpbnQgcHVibGljIHBlbmRpbmdFdGhXaXRoZHJhd2FsOwogIC8vCiAgLy8gcHVsbHMgdGhlIGZ1bmRzIHRoYXQgd2VyZSBzZXQgdG8gc2VuZCB3aXRoIGNhbGxpbmcgb2YKICAvLyB3aXRoZHJhd0V0aCB3aGVuIG1pbmltdW0gY2FwIGlzIHJlYWNoZWQKICAvLyBAbXVsdGlzaWcgcHVsbHMgdGhlIGNvbnRyaWJ1dGlvbnMgdG8gc2VsZgogIC8vCiAgZnVuY3Rpb24gcHVsbEJhbGFuY2UoKSBwdWJsaWMgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG11bHRpc2lnQWRkcmVzcyk7CiAgICByZXF1aXJlKHBlbmRpbmdFdGhXaXRoZHJhd2FsID4gMCk7CgogICAgbXVsdGlzaWdBZGRyZXNzLnRyYW5zZmVyKHBlbmRpbmdFdGhXaXRoZHJhd2FsKTsKICAgIHBlbmRpbmdFdGhXaXRoZHJhd2FsID0gMDsKICB9CgogIC8vCiAgLy8gVXNlcnMgY2FuIGNsYWltIHRoZWlyIGNvbnRyaWJ1dGlvbiBpZiBtaW4gY2FwIGlzIG5vdCByYWlzZWQKICAvLwogIGZ1bmN0aW9uIGNsYWltRXRoSWZGYWlsZWQoKSBwdWJsaWMgewogICAgcmVxdWlyZShibG9jay50aW1lc3RhbXAgPiBjcm93ZHNhbGVFbmRlZFRpbWUgJiYgZXRoUmFpc2VkIDwgbWluQ2FwKTsgICAgLy8gQ2hlY2sgaWYgY3Jvd2RzYWxlIGhhcyBmYWlsZWQKICAgIHJlcXVpcmUoY29udHJpYnV0b3JMaXN0W21zZy5zZW5kZXJdLmNvbnRyaWJ1dGlvbkFtb3VudCA+IDApOyAgICAgICAgICAvLyBDaGVjayBpZiBjb250cmlidXRvciBoYXMgY29udHJpYnV0ZWQgdG8gY3Jvd2RzYWxlRW5kZWRUaW1lCiAgICByZXF1aXJlKCFoYXNDbGFpbWVkRXRoV2hlbkZhaWxbbXNnLnNlbmRlcl0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgY29udHJpYnV0b3IgaGFzIGFscmVhZHkgY2xhaW1lZCBoaXMgZXRoCgogICAgdWludCBldGhDb250cmlidXRlZCA9IGNvbnRyaWJ1dG9yTGlzdFttc2cuc2VuZGVyXS5jb250cmlidXRpb25BbW91bnQ7IC8vIEdldCBjb250cmlidXRvcnMgY29udHJpYnV0aW9uCiAgICBoYXNDbGFpbWVkRXRoV2hlbkZhaWxbbXNnLnNlbmRlcl0gPSB0cnVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoYXQgaGUgaGFzIGNsYWltZWQKICAgIGlmICghbXNnLnNlbmRlci5zZW5kKGV0aENvbnRyaWJ1dGVkKSl7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWZ1bmQgZXRoCiAgICAgIEVycm9yU2VuZGluZ0VUSChtc2cuc2VuZGVyLCBldGhDb250cmlidXRlZCk7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gaXNzdWUgcmFpc2UgZXZlbnQgZm9yIG1hbnVhbCByZWNvdmVyeQogICAgfQogIH0KCiAgLy8KICAvLyBPd25lciBjYW4gYmF0Y2ggcmV0dXJuIGNvbnRyaWJ1dG9ycyBjb250cmlidXRpb25zKGV0aCkKICAvLwogIGZ1bmN0aW9uIGJhdGNoUmV0dXJuRXRoSWZGYWlsZWQodWludCBfbnVtYmVyT2ZSZXR1cm5zKSBwdWJsaWMgb25seU93bmVyewogICAgcmVxdWlyZShibG9jay50aW1lc3RhbXAgPiBjcm93ZHNhbGVFbmRlZFRpbWUgJiYgZXRoUmFpc2VkIDwgbWluQ2FwKTsgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgY3Jvd2RzYWxlIGhhcyBmYWlsZWQKICAgIGFkZHJlc3MgY3VycmVudFBhcnRpY2lwYW50QWRkcmVzczsKICAgIHVpbnQgY29udHJpYnV0aW9uOwogICAgZm9yICh1aW50IGNudCA9IDA7IGNudCA8IF9udW1iZXJPZlJldHVybnM7IGNudCsrKXsKICAgICAgY3VycmVudFBhcnRpY2lwYW50QWRkcmVzcyA9IGNvbnRyaWJ1dG9ySW5kZXhlc1tuZXh0Q29udHJpYnV0b3JUb0NsYWltXTsgICAgICAgICAvLyBHZXQgbmV4dCB1bmNsYWltZWQgcGFydGljaXBhbnQKICAgICAgaWYgKGN1cnJlbnRQYXJ0aWNpcGFudEFkZHJlc3MgPT0gMHgwKSByZXR1cm47ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBhbGwgdGhlIHBhcnRpY2lwYW50cyB3ZXJlIGNvbXBlbnNhdGVkCiAgICAgIGlmICghaGFzQ2xhaW1lZEV0aFdoZW5GYWlsW2N1cnJlbnRQYXJ0aWNpcGFudEFkZHJlc3NdKSB7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcGFydGljaXBhbnQgaGFzIGFscmVhZHkgY2xhaW1lZAogICAgICAgIGNvbnRyaWJ1dGlvbiA9IGNvbnRyaWJ1dG9yTGlzdFtjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzXS5jb250cmlidXRpb25BbW91bnQ7IC8vIEdldCBjb250cmlidXRpb24gb2YgcGFydGljaXBhbnQKICAgICAgICBoYXNDbGFpbWVkRXRoV2hlbkZhaWxbY3VycmVudFBhcnRpY2lwYW50QWRkcmVzc10gPSB0cnVlOyAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhhdCBoZSBoYXMgY2xhaW1lZAogICAgICAgIGlmICghY3VycmVudFBhcnRpY2lwYW50QWRkcmVzcy5zZW5kKGNvbnRyaWJ1dGlvbikpeyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlZnVuZCBldGgKICAgICAgICAgIEVycm9yU2VuZGluZ0VUSChjdXJyZW50UGFydGljaXBhbnRBZGRyZXNzLCBjb250cmlidXRpb24pOyAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbiBpc3N1ZSByYWlzZSBldmVudCBmb3IgbWFudWFsIHJlY292ZXJ5CiAgICAgICAgfQogICAgICB9CiAgICAgIG5leHRDb250cmlidXRvclRvQ2xhaW0gKz0gMTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVwZWF0CiAgICB9CiAgfQoKICAvLwogIC8vIElmIHRoZXJlIHdlcmUgYW55IGlzc3VlL2F0dGFjaCB3aXRoIHJlZnVuZCBvd25lciBjYW4gd2l0aGRyYXcgZXRoIGF0IHRoZSBlbmQgZm9yIG1hbnVhbCByZWNvdmVyeQogIC8vCiAgZnVuY3Rpb24gd2l0aGRyYXdSZW1haW5pbmdCYWxhbmNlRm9yTWFudWFsUmVjb3ZlcnkoKSBwdWJsaWMgb25seU93bmVyewogICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgIT0gMCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGFyZSBhbnkgZXRoIHRvIGNsYWltCiAgICByZXF1aXJlKGJsb2NrLnRpbWVzdGFtcCA+IGNyb3dkc2FsZUVuZGVkVGltZSk7ICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBjcm93ZHNhbGUgaXMgb3ZlcgogICAgcmVxdWlyZShjb250cmlidXRvckluZGV4ZXNbbmV4dENvbnRyaWJ1dG9yVG9DbGFpbV0gPT0gMHgwKTsgIC8vIENoZWNrIGlmIGFsbCB0aGUgdXNlcnMgd2VyZSByZWZ1bmRlZAogICAgbXVsdGlzaWdBZGRyZXNzLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7ICAgICAgICAgICAgICAgICAgICAgIC8vIFdpdGhkcmF3IHRvIG11bHRpc2lnCiAgfQoKICAvLwogIC8vIE93bmVyIGNhbiBzZXQgbXVsdGlzaWcgYWRkcmVzcyBmb3IgY3Jvd2RzYWxlCiAgLy8KICBmdW5jdGlvbiBzZXRNdWx0aXNpZ0FkZHJlc3MoYWRkcmVzcyBfbmV3QWRkcmVzcykgcHVibGljIG9ubHlPd25lcnsKICAgIG11bHRpc2lnQWRkcmVzcyA9IF9uZXdBZGRyZXNzOwogIH0KCiAgLy8KICAvLyBPd25lciBjYW4gc2V0IHRva2VuIGFkZHJlc3Mgd2hlcmUgbWludHMgd2lsbCBoYXBwZW4KICAvLwogIGZ1bmN0aW9uIHNldFRva2VuKGFkZHJlc3MgX25ld0FkZHJlc3MpIHB1YmxpYyBvbmx5T3duZXJ7CiAgICB0b2tlbiA9IElUb2tlbihfbmV3QWRkcmVzcyk7CiAgfQoKICAvLwogIC8vIE93bmVyIGNhbiBjbGFpbSB0ZWFtcyB0b2tlbnMgd2hlbiBjcm93ZHNhbGUgaGFzIHN1Y2Nlc3NmdWxseSBlbmRlZAogIC8vCiAgZnVuY3Rpb24gY2xhaW1Db3JlVGVhbXNUb2tlbnMoYWRkcmVzcyBfdG8pIHB1YmxpYyBvbmx5T3duZXJ7CiAgICByZXF1aXJlKGNyb3dkc2FsZVN0YXRlID09IHN0YXRlLmNyb3dkc2FsZUVuZGVkKTsgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGNyb3dkc2FsZSBoYXMgZW5kZWQKICAgIHJlcXVpcmUoIW93bmVySGFzQ2xhaW1lZFRva2Vucyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgb3duZXIgaGFzIGFscmVhZHkgY2xhaW1lZCB0b2tlbnMKCiAgICB1aW50IGRldlJld2FyZCA9IG1heFRva2VuU3VwcGx5IC0gdG9rZW4udG90YWxTdXBwbHkoKTsKICAgIGlmICghcHJlc2FsZUJvbnVzVG9rZW5zQ2xhaW1lZCkgZGV2UmV3YXJkIC09IHByZXNhbGVCb251c1Rva2VuczsgLy8gSWYgcHJlc2FsZUJvbnVzVG9rZW4gaGFzIGJlZW4gY2xhaW1lZCBpdHMgb2sgaWYgbm90IHNldCBhc2lkZSBwcmVzYWxlQm9udXNUb2tlbnMKICAgIHRva2VuLm1pbnRUb2tlbnMoX3RvLCBkZXZSZXdhcmQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSXNzdWUgVGVhbXMgdG9rZW5zCiAgICBvd25lckhhc0NsYWltZWRUb2tlbnMgPSB0cnVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsb2NrIGZ1cnRoZXIgbWludHMgZnJvbSB0aGlzIG1ldGhvZAogIH0KCiAgLy8KICAvLyBQcmVzYWxlIGJvbnVzIHRva2VucwogIC8vCiAgZnVuY3Rpb24gY2xhaW1QcmVzYWxlVG9rZW5zKCkgcHVibGljIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBwcmVzYWxlQm9udXNBZGRyZXNzKTsgICAgICAgICAvLyBDaGVjayBpZiBzZW5kZXIgaXMgYWRkcmVzcyB0byBjbGFpbSB0b2tlbnMKICAgIHJlcXVpcmUoY3Jvd2RzYWxlU3RhdGUgPT0gc3RhdGUuY3Jvd2RzYWxlRW5kZWQpOyAgICAvLyBDaGVjayBpZiBjcm93ZHNhbGUgaGFzIGVuZGVkCiAgICByZXF1aXJlKCFwcmVzYWxlQm9udXNUb2tlbnNDbGFpbWVkKTsgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdG9rZW5zIHdlcmUgYWxyZWFkeSBjbGFpbWVkCgogICAgdG9rZW4ubWludFRva2VucyhwcmVzYWxlQm9udXNBZGRyZXNzQ29sZFN0b3JhZ2UsIHByZXNhbGVCb251c1Rva2Vucyk7ICAgICAgICAgICAgIC8vIElzc3VlIHByZXNhbGUgIHRva2VucwogICAgcHJlc2FsZUJvbnVzVG9rZW5zQ2xhaW1lZCA9IHRydWU7ICAgICAgICAgICAgICAgICAgIC8vIEJsb2NrIGZ1cnRoZXIgbWludHMgZnJvbSB0aGlzIG1ldGhvZAogIH0KCiAgZnVuY3Rpb24gZ2V0VG9rZW5BZGRyZXNzKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMoYWRkcmVzcyl7CiAgICByZXR1cm4gYWRkcmVzcyh0b2tlbik7CiAgfQoKfQoKCmNvbnRyYWN0IEZ1dG91cmlzdENyb3dkc2FsZSBpcyBDcm93ZHNhbGUgewogIGZ1bmN0aW9uIEZ1dG91cmlzdENyb3dkc2FsZSgpIHB1YmxpYyB7CiAgICAvKiBBREFQVCAqLwogICAgcHJlc2FsZVN0YXJ0VGltZSA9IDE1MTkxNDI0MDA7IC8vMjAvMi8yMDE3LzE3MDAKICAgIHByZXNhbGVVbmxpbWl0ZWRTdGFydFRpbWUgPSAxNTE5MzE1MjAwOyAvLzIyLzIvMjAxNy8xNzAwCiAgICBjcm93ZHNhbGVTdGFydFRpbWUgPSAxNTE5NzQ3MjAwOyAvLzI3LzIvMjAxNy8xNzAwCiAgICBjcm93ZHNhbGVFbmRlZFRpbWUgPSAxNTIxNTYxNjAwOyAvLzIwLzMvMjAxNy8xNzAwCgogICAgbWluQ2FwID0gMSBldGhlcjsKICAgIG1heENhcCA9IDQ5NzkgZXRoZXI7CiAgICBtYXhQMUNhcCA9IDQ5NzkgZXRoZXI7CgogICAgZXRoVG9Ub2tlbkNvbnZlcnNpb24gPSA0NzAwMDsKCiAgICBtYXhUb2tlblN1cHBseSA9IDEwMDAwMDAwMDAgKiAxMCoqMTg7CiAgICBwcmVzYWxlQm9udXNUb2tlbnMgPSAxMTU5OTYwMDAgICogMTAqKjE4OwogICAgcHJlc2FsZUJvbnVzQWRkcmVzcyA9IDB4ZDdDNGFmMGUzMEVDNjJhMDEwMzZlNDViNmVkMzdCQzZEMGEzYmQ1MzsKICAgIHByZXNhbGVCb251c0FkZHJlc3NDb2xkU3RvcmFnZSA9IDB4NDdENjM0Q2U1MDE3MGExNTZlYzQzMDBkMzVCRTNiNDhFMTdDQWFmNjsKICAgIC8qIC9BREFQVCAqLwogIH0KfQ=='.
	

]
