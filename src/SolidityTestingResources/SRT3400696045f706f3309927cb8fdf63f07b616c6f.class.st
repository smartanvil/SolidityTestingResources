Class {
	#name : #SRT3400696045f706f3309927cb8fdf63f07b616c6f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT3400696045f706f3309927cb8fdf63f07b616c6f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgpsaWJyYXJ5IFNhZmVFUkMyMCB7CiAgZnVuY3Rpb24gc2FmZVRyYW5zZmVyKEVSQzIwQmFzaWMgdG9rZW4sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIGludGVybmFsIHsKICAgIGFzc2VydCh0b2tlbi50cmFuc2Zlcih0bywgdmFsdWUpKTsKICB9CgogIGZ1bmN0aW9uIHNhZmVUcmFuc2ZlckZyb20oRVJDMjAgdG9rZW4sIGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgaW50ZXJuYWwgewogICAgYXNzZXJ0KHRva2VuLnRyYW5zZmVyRnJvbShmcm9tLCB0bywgdmFsdWUpKTsKICB9CgogIGZ1bmN0aW9uIHNhZmVBcHByb3ZlKEVSQzIwIHRva2VuLCBhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIGludGVybmFsIHsKICAgIGFzc2VydCh0b2tlbi5hcHByb3ZlKHNwZW5kZXIsIHZhbHVlKSk7CiAgfQp9Cgpjb250cmFjdCBBY2NvdW50UmVnaXN0cnkgaXMgT3duYWJsZSB7CiAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBhY2NvdW50czsKCiAgLy8gSW52aXRlciArIHJlY2lwaWVudCBwYWlyCiAgc3RydWN0IEludml0ZSB7CiAgICBhZGRyZXNzIGNyZWF0b3I7CiAgICBhZGRyZXNzIHJlY2lwaWVudDsKICB9CgogIC8vIE1hcHBpbmcgb2YgcHVibGljIGtleXMgYXMgRXRoZXJldW0gYWRkcmVzc2VzIHRvIGludml0ZSBpbmZvcm1hdGlvbgogIC8vIE5PVEU6IHRoZSBhZGRyZXNzIGtleXMgaGVyZSBhcmUgTk9UIEV0aGVyZXVtIGFkZHJlc3Nlcywgd2UganVzdCBoYXBwZW4KICAvLyB0byB3b3JrIHdpdGggdGhlIHB1YmxpYyBrZXlzIGluIHRlcm1zIG9mIEV0aGVyZXVtIGFkZHJlc3Mgc3RyaW5ncyBiZWNhdXNlCiAgLy8gdGhpcyBpcyB3aGF0IGBlY3JlY292ZXJgIHByb2R1Y2VzIHdoZW4gd29ya2luZyB3aXRoIHNpZ25lZCB0ZXh0LgogIG1hcHBpbmcoYWRkcmVzcyA9PiBJbnZpdGUpIHB1YmxpYyBpbnZpdGVzOwoKICBJbnZpdGVDb2xsYXRlcmFsaXplciBwdWJsaWMgaW52aXRlQ29sbGF0ZXJhbGl6ZXI7CiAgRVJDMjAgcHVibGljIGJsdDsKICBhZGRyZXNzIHByaXZhdGUgaW52aXRlQWRtaW47CgogIGV2ZW50IEludml0ZUNyZWF0ZWQoYWRkcmVzcyBpbmRleGVkIGludml0ZXIpOwogIGV2ZW50IEludml0ZUFjY2VwdGVkKGFkZHJlc3MgaW5kZXhlZCBpbnZpdGVyLCBhZGRyZXNzIGluZGV4ZWQgcmVjaXBpZW50KTsKICBldmVudCBBY2NvdW50Q3JlYXRlZChhZGRyZXNzIGluZGV4ZWQgbmV3VXNlcik7CgogIGZ1bmN0aW9uIEFjY291bnRSZWdpc3RyeShFUkMyMCBfYmx0LCBJbnZpdGVDb2xsYXRlcmFsaXplciBfaW52aXRlQ29sbGF0ZXJhbGl6ZXIpIHB1YmxpYyB7CiAgICBibHQgPSBfYmx0OwogICAgYWNjb3VudHNbb3duZXJdID0gdHJ1ZTsKICAgIGludml0ZUFkbWluID0gb3duZXI7CiAgICBpbnZpdGVDb2xsYXRlcmFsaXplciA9IF9pbnZpdGVDb2xsYXRlcmFsaXplcjsKICB9CgogIGZ1bmN0aW9uIHNldEludml0ZUNvbGxhdGVyYWxpemVyKEludml0ZUNvbGxhdGVyYWxpemVyIF9uZXdJbnZpdGVDb2xsYXRlcmFsaXplcikgcHVibGljIG5vblplcm8oX25ld0ludml0ZUNvbGxhdGVyYWxpemVyKSBvbmx5T3duZXIgewogICAgaW52aXRlQ29sbGF0ZXJhbGl6ZXIgPSBfbmV3SW52aXRlQ29sbGF0ZXJhbGl6ZXI7CiAgfQoKICBmdW5jdGlvbiBzZXRJbnZpdGVBZG1pbihhZGRyZXNzIF9uZXdJbnZpdGVBZG1pbikgcHVibGljIG9ubHlPd25lciBub25aZXJvKF9uZXdJbnZpdGVBZG1pbikgewogICAgaW52aXRlQWRtaW4gPSBfbmV3SW52aXRlQWRtaW47CiAgfQoKICAvKioKICAgKiBAZGV2IENyZWF0ZSBhbiBhY2NvdW50IGluc3RhbnRseS4gUmVzZXJ2ZWQgZm9yIHRoZSAiaW52aXRlIGFkbWluIiB3aGljaCBpcyBtYW5hZ2VkIGJ5IHRoZSBCbG9vbSB0ZWFtCiAgICogQHBhcmFtIF9uZXdVc2VyIEFkZHJlc3Mgb2YgdGhlIHVzZXIgcmVjZWl2aW5nIGFuIGFjY291bnQKICAgKi8KICBmdW5jdGlvbiBjcmVhdGVBY2NvdW50KGFkZHJlc3MgX25ld1VzZXIpIHB1YmxpYyBvbmx5SW52aXRlQWRtaW4gewogICAgcmVxdWlyZSghYWNjb3VudHNbX25ld1VzZXJdKTsKICAgIGNyZWF0ZUFjY291bnRGb3IoX25ld1VzZXIpOwogIH0KCiAgLyoqCiAgICogQGRldiBDcmVhdGUgYW4gaW52aXRlIHVzaW5nIHRoZSBzaWduaW5nIG1vZGVsIGRlc2NyaWJlZCBpbiB0aGUgY29udHJhY3QgZGVzY3JpcHRpb24KICAgKiBAcGFyYW0gX3NpZyBTaWduYXR1cmUgZm9yIGBtc2cuc2VuZGVyYAogICAqLwogIGZ1bmN0aW9uIGNyZWF0ZUludml0ZShieXRlcyBfc2lnKSBwdWJsaWMgb25seVVzZXIgewogICAgcmVxdWlyZShpbnZpdGVDb2xsYXRlcmFsaXplci50YWtlQ29sbGF0ZXJhbChtc2cuc2VuZGVyKSk7CgogICAgYWRkcmVzcyBzaWduZXIgPSByZWNvdmVyU2lnbmVyKF9zaWcpOwogICAgcmVxdWlyZShpbnZpdGVEb2VzTm90RXhpc3Qoc2lnbmVyKSk7CgogICAgaW52aXRlc1tzaWduZXJdID0gSW52aXRlKG1zZy5zZW5kZXIsIGFkZHJlc3MoMCkpOwogICAgSW52aXRlQ3JlYXRlZChtc2cuc2VuZGVyKTsKICB9CgogIC8qKgogICAqIEBkZXYgQWNjZXB0IGFuIGludml0ZSB1c2luZyB0aGUgc2lnbmluZyBtb2RlbCBkZXNjcmliZWQgaW4gdGhlIGNvbnRyYWN0IGRlc2NyaXB0aW9uCiAgICogQHBhcmFtIF9zaWcgU2lnbmF0dXJlIGZvciBgbXNnLnNlbmRlcmAgdmlhIHRoZSBzYW1lIGtleSB0aGF0IGlzc3VlZCB0aGUgaW5pdGlhbCBpbnZpdGUKICAgKi8KICBmdW5jdGlvbiBhY2NlcHRJbnZpdGUoYnl0ZXMgX3NpZykgcHVibGljIG9ubHlOb25Vc2VyIHsKICAgIGFkZHJlc3Mgc2lnbmVyID0gcmVjb3ZlclNpZ25lcihfc2lnKTsKICAgIHJlcXVpcmUoaW52aXRlRXhpc3RzKHNpZ25lcikgJiYgaW52aXRlSGFzTm90QmVlbkFjY2VwdGVkKHNpZ25lcikpOwoKICAgIGludml0ZXNbc2lnbmVyXS5yZWNpcGllbnQgPSBtc2cuc2VuZGVyOwogICAgY3JlYXRlQWNjb3VudEZvcihtc2cuc2VuZGVyKTsKICAgIEludml0ZUFjY2VwdGVkKGludml0ZXNbc2lnbmVyXS5jcmVhdG9yLCBtc2cuc2VuZGVyKTsKICB9CgogIC8qKgogICAqIEBkZXYgQ2hlY2sgaWYgYW4gaW52aXRlIGhhcyBub3QgYmVlbiBzZXQgb24gdGhlIHN0cnVjdCBtZWFuaW5nIGl0IGhhc24ndCBiZWVuIGFjY2VwdGVkCiAgICovCiAgZnVuY3Rpb24gaW52aXRlSGFzTm90QmVlbkFjY2VwdGVkKGFkZHJlc3MgX3NpZ25lcikgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gaW52aXRlc1tfc2lnbmVyXS5yZWNpcGllbnQgPT0gYWRkcmVzcygwKTsKICB9CgogIC8qKgogICAqIEBkZXYgQ2hlY2sgdGhhdCBhbiBpbnZpdGUgaGFzbid0IGFscmVhZHkgYmVlbiBjcmVhdGVkIHdpdGggdGhpcyBzaWduZXIKICAgKi8KICBmdW5jdGlvbiBpbnZpdGVEb2VzTm90RXhpc3QoYWRkcmVzcyBfc2lnbmVyKSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiAhaW52aXRlRXhpc3RzKF9zaWduZXIpOwogIH0KCiAgLyoqCiAgICogQGRldiBDaGVjayB0aGF0IGFuIGludml0ZSBoYXMgYWxyZWFkeSBiZWVuIGNyZWF0ZWQgd2l0aCB0aGlzIHNpZ25lcgogICAqLwogIGZ1bmN0aW9uIGludml0ZUV4aXN0cyhhZGRyZXNzIF9zaWduZXIpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIGludml0ZXNbX3NpZ25lcl0uY3JlYXRvciAhPSBhZGRyZXNzKDApOwogIH0KCiAgLyoqCiAgICogQGRldiBSZWNvdmVyIHRoZSBhZGRyZXNzIGFzc29jaWF0ZWQgd2l0aCB0aGUgcHVibGljIGtleSB0aGF0IHNpZ25lZCB0aGUgcHJvdmlkZWQgc2lnbmF0dXJlCiAgICogQHBhcmFtIF9zaWcgU2lnbmF0dXJlIG9mIGBtc2cuc2VuZGVyYAogICAqLwogIGZ1bmN0aW9uIHJlY292ZXJTaWduZXIoYnl0ZXMgX3NpZykgcHJpdmF0ZSB2aWV3IHJldHVybnMgKGFkZHJlc3MpIHsKICAgIGFkZHJlc3Mgc2lnbmVyID0gRUNSZWNvdmVyeS5yZWNvdmVyKGtlY2NhazI1Nihtc2cuc2VuZGVyKSwgX3NpZyk7CiAgICByZXF1aXJlKHNpZ25lciAhPSBhZGRyZXNzKDApKTsKCiAgICByZXR1cm4gc2lnbmVyOwogIH0KCiAgLyoqCiAgICogQGRldiBDcmVhdGUgYW4gYWNjb3VudCBhbmQgZW1pdCBhbiBldmVudAogICAqIEBwYXJhbSBfbmV3VXNlciBBZGRyZXNzIG9mIHRoZSBuZXcgdXNlcgogICAqLwogIGZ1bmN0aW9uIGNyZWF0ZUFjY291bnRGb3IoYWRkcmVzcyBfbmV3VXNlcikgcHJpdmF0ZSB7CiAgICBhY2NvdW50c1tfbmV3VXNlcl0gPSB0cnVlOwogICAgQWNjb3VudENyZWF0ZWQoX25ld1VzZXIpOwogIH0KCiAgLyoqCiAgICogQGRldiBBZGRyZXNzZXMgd2l0aCBCbG9vbSBhY2NvdW50cyBhbHJlYWR5IGFyZSBub3QgYWxsb3dlZAogICAqLwogIG1vZGlmaWVyIG9ubHlOb25Vc2VyIHsKICAgIHJlcXVpcmUoIWFjY291bnRzW21zZy5zZW5kZXJdKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IEFkZHJlc3NlcyB3aXRob3V0IEJsb29tIGFjY291bnRzIGFscmVhZHkgYXJlIG5vdCBhbGxvd2VkCiAgICovCiAgbW9kaWZpZXIgb25seVVzZXIgewogICAgcmVxdWlyZShhY2NvdW50c1ttc2cuc2VuZGVyXSk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgbm9uWmVybyhhZGRyZXNzIF9hZGRyZXNzKSB7CiAgICByZXF1aXJlKF9hZGRyZXNzICE9IDApOwogICAgXzsKICB9CgogIG1vZGlmaWVyIG9ubHlJbnZpdGVBZG1pbiB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gaW52aXRlQWRtaW4pOwogICAgXzsKICB9Cn0KCmxpYnJhcnkgRUNSZWNvdmVyeSB7CgogIC8qKgogICAqIEBkZXYgUmVjb3ZlciBzaWduZXIgYWRkcmVzcyBmcm9tIGEgbWVzc2FnZSBieSB1c2luZyBoaXMgc2lnbmF0dXJlCiAgICogQHBhcmFtIGhhc2ggYnl0ZXMzMiBtZXNzYWdlLCB0aGUgaGFzaCBpcyB0aGUgc2lnbmVkIG1lc3NhZ2UuIFdoYXQgaXMgcmVjb3ZlcmVkIGlzIHRoZSBzaWduZXIgYWRkcmVzcy4KICAgKiBAcGFyYW0gc2lnIGJ5dGVzIHNpZ25hdHVyZSwgdGhlIHNpZ25hdHVyZSBpcyBnZW5lcmF0ZWQgdXNpbmcgd2ViMy5ldGguc2lnbigpCiAgICovCiAgZnVuY3Rpb24gcmVjb3ZlcihieXRlczMyIGhhc2gsIGJ5dGVzIHNpZykgcHVibGljIHB1cmUgcmV0dXJucyAoYWRkcmVzcykgewogICAgYnl0ZXMzMiByOwogICAgYnl0ZXMzMiBzOwogICAgdWludDggdjsKCiAgICAvL0NoZWNrIHRoZSBzaWduYXR1cmUgbGVuZ3RoCiAgICBpZiAoc2lnLmxlbmd0aCAhPSA2NSkgewogICAgICByZXR1cm4gKGFkZHJlc3MoMCkpOwogICAgfQoKICAgIC8vIEV4dHJhY3RpbmcgdGhlc2UgdmFsdWVzIGlzbid0IHBvc3NpYmxlIHdpdGhvdXQgYXNzZW1ibHkKICAgIC8vIHNvbGhpbnQtZGlzYWJsZSBuby1pbmxpbmUtYXNzZW1ibHkKICAgIC8vIERpdmlkZSB0aGUgc2lnbmF0dXJlIGluIHIsIHMgYW5kIHYgdmFyaWFibGVzCiAgICBhc3NlbWJseSB7CiAgICAgIHIgOj0gbWxvYWQoYWRkKHNpZywgMzIpKQogICAgICBzIDo9IG1sb2FkKGFkZChzaWcsIDY0KSkKICAgICAgdiA6PSBieXRlKDAsIG1sb2FkKGFkZChzaWcsIDk2KSkpCiAgICB9CgogICAgLy8gVmVyc2lvbiBvZiBzaWduYXR1cmUgc2hvdWxkIGJlIDI3IG9yIDI4LCBidXQgMCBhbmQgMSBhcmUgYWxzbyBwb3NzaWJsZSB2ZXJzaW9ucwogICAgaWYgKHYgPCAyNykgewogICAgICB2ICs9IDI3OwogICAgfQoKICAgIC8vIElmIHRoZSB2ZXJzaW9uIGlzIGNvcnJlY3QgcmV0dXJuIHRoZSBzaWduZXIgYWRkcmVzcwogICAgaWYgKHYgIT0gMjcgJiYgdiAhPSAyOCkgewogICAgICByZXR1cm4gKGFkZHJlc3MoMCkpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGVjcmVjb3ZlcihoYXNoLCB2LCByLCBzKTsKICAgIH0KICB9Cgp9Cgpjb250cmFjdCBJbnZpdGVDb2xsYXRlcmFsaXplciBpcyBPd25hYmxlIHsKICAvLyBXZSBuZWVkIHRvIHJlbHkgb24gdGltZSBmb3IgbG9ja3VwIHBlcmlvZHMuIFRoZSBhbW91bnQgdGhhdCBtaW5lcnMgY2FuIG1hbmlwdWxhdGUKICAvLyBhIHRpbWVzdGFtcCBpcyBub3QgYSBjb25jZXJuIGZvciB0aGlzIGJlaGF2aW9yIHNpbmNlIHRva2VuIGxvY2t1cHMgYXJlIGZvciBzZXZlcmFsIG1vbnRocwogIC8vIHNvbGhpbnQtZGlzYWJsZSBub3QtcmVseS1vbi10aW1lCgogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogIHVzaW5nIFNhZmVFUkMyMCBmb3IgRVJDMjA7CgogIEVSQzIwIHB1YmxpYyBibHQ7CiAgYWRkcmVzcyBwdWJsaWMgc2VpemVkVG9rZW5zV2FsbGV0OwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gQ29sbGF0ZXJhbGl6YXRpb25bXSkgcHVibGljIGNvbGxhdGVyYWxpemF0aW9uczsKICB1aW50MjU2IHB1YmxpYyBjb2xsYXRlcmFsQW1vdW50ID0gMWUxNzsKICB1aW50NjQgcHVibGljIGxvY2t1cER1cmF0aW9uID0gMSB5ZWFyczsKCiAgYWRkcmVzcyBwcml2YXRlIGNvbGxhdGVyYWxUYWtlcjsKICBhZGRyZXNzIHByaXZhdGUgY29sbGF0ZXJhbFNlaXplcjsKCiAgc3RydWN0IENvbGxhdGVyYWxpemF0aW9uIHsKICAgIHVpbnQyNTYgdmFsdWU7IC8vIEFtb3VudCBvZiBCTFQKICAgIHVpbnQ2NCByZWxlYXNlRGF0ZTsgLy8gRGF0ZSBCTFQgY2FuIGJlIHdpdGhkcmF3bgogICAgYm9vbCBjbGFpbWVkOyAvLyBIYXMgdGhlIG9yaWdpbmFsIG93bmVyIG9yIHRoZSBuZXR3b3JrIGNsYWltZWQgdGhlIGNvbGxhdGVyYWwKICB9CgogIGV2ZW50IENvbGxhdGVyYWxQb3N0ZWQoYWRkcmVzcyBpbmRleGVkIG93bmVyLCB1aW50NjQgcmVsZWFzZURhdGUsIHVpbnQyNTYgYW1vdW50KTsKICBldmVudCBDb2xsYXRlcmFsU2VpemVkKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgdWludDI1NiBjb2xsYXRlcmFsSWQpOwoKICBmdW5jdGlvbiBJbnZpdGVDb2xsYXRlcmFsaXplcihFUkMyMCBfYmx0LCBhZGRyZXNzIF9zZWl6ZWRUb2tlbnNXYWxsZXQpIHB1YmxpYyB7CiAgICBibHQgPSBfYmx0OwogICAgc2VpemVkVG9rZW5zV2FsbGV0ID0gX3NlaXplZFRva2Vuc1dhbGxldDsKICAgIGNvbGxhdGVyYWxUYWtlciA9IG93bmVyOwogICAgY29sbGF0ZXJhbFNlaXplciA9IG93bmVyOwogIH0KCiAgZnVuY3Rpb24gdGFrZUNvbGxhdGVyYWwoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBvbmx5Q29sbGF0ZXJhbFRha2VyIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoYmx0LnRyYW5zZmVyRnJvbShfb3duZXIsIGFkZHJlc3ModGhpcyksIGNvbGxhdGVyYWxBbW91bnQpKTsKCiAgICB1aW50NjQgcmVsZWFzZURhdGUgPSB1aW50NjQobm93KSArIGxvY2t1cER1cmF0aW9uOwogICAgQ29sbGF0ZXJhbFBvc3RlZChfb3duZXIsIHJlbGVhc2VEYXRlLCBjb2xsYXRlcmFsQW1vdW50KTsKICAgIGNvbGxhdGVyYWxpemF0aW9uc1tfb3duZXJdLnB1c2goQ29sbGF0ZXJhbGl6YXRpb24oY29sbGF0ZXJhbEFtb3VudCwgcmVsZWFzZURhdGUsIGZhbHNlKSk7CgogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiByZWNsYWltKCkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoY29sbGF0ZXJhbGl6YXRpb25zW21zZy5zZW5kZXJdLmxlbmd0aCA+IDApOwoKICAgIHVpbnQyNTYgcmVjbGFpbWFibGVBbW91bnQgPSAwOwoKICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IGNvbGxhdGVyYWxpemF0aW9uc1ttc2cuc2VuZGVyXS5sZW5ndGg7IGkrKykgewogICAgICBpZiAoY29sbGF0ZXJhbGl6YXRpb25zW21zZy5zZW5kZXJdW2ldLmNsYWltZWQpIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfSBlbHNlIGlmIChjb2xsYXRlcmFsaXphdGlvbnNbbXNnLnNlbmRlcl1baV0ucmVsZWFzZURhdGUgPiBub3cpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgcmVjbGFpbWFibGVBbW91bnQgPSByZWNsYWltYWJsZUFtb3VudC5hZGQoY29sbGF0ZXJhbGl6YXRpb25zW21zZy5zZW5kZXJdW2ldLnZhbHVlKTsKICAgICAgY29sbGF0ZXJhbGl6YXRpb25zW21zZy5zZW5kZXJdW2ldLmNsYWltZWQgPSB0cnVlOwogICAgfQoKICAgIHJlcXVpcmUocmVjbGFpbWFibGVBbW91bnQgPiAwKTsKCiAgICByZXR1cm4gYmx0LnRyYW5zZmVyKG1zZy5zZW5kZXIsIHJlY2xhaW1hYmxlQW1vdW50KTsKICB9CgogIGZ1bmN0aW9uIHNlaXplKGFkZHJlc3MgX3N1YmplY3QsIHVpbnQyNTYgX2NvbGxhdGVyYWxJZCkgcHVibGljIG9ubHlDb2xsYXRlcmFsU2VpemVyIHsKICAgIHJlcXVpcmUoY29sbGF0ZXJhbGl6YXRpb25zW19zdWJqZWN0XS5sZW5ndGggPj0gX2NvbGxhdGVyYWxJZCArIDEpOwogICAgcmVxdWlyZSghY29sbGF0ZXJhbGl6YXRpb25zW19zdWJqZWN0XVtfY29sbGF0ZXJhbElkXS5jbGFpbWVkKTsKCiAgICBjb2xsYXRlcmFsaXphdGlvbnNbX3N1YmplY3RdW19jb2xsYXRlcmFsSWRdLmNsYWltZWQgPSB0cnVlOwogICAgYmx0LnRyYW5zZmVyKHNlaXplZFRva2Vuc1dhbGxldCwgY29sbGF0ZXJhbGl6YXRpb25zW19zdWJqZWN0XVtfY29sbGF0ZXJhbElkXS52YWx1ZSk7CiAgICBDb2xsYXRlcmFsU2VpemVkKF9zdWJqZWN0LCBfY29sbGF0ZXJhbElkKTsKICB9CgogIGZ1bmN0aW9uIGNoYW5nZUNvbGxhdGVyYWxUYWtlcihhZGRyZXNzIF9uZXdDb2xsYXRlcmFsVGFrZXIpIHB1YmxpYyBub25aZXJvKF9uZXdDb2xsYXRlcmFsVGFrZXIpIG9ubHlPd25lciB7CiAgICBjb2xsYXRlcmFsVGFrZXIgPSBfbmV3Q29sbGF0ZXJhbFRha2VyOwogIH0KCiAgZnVuY3Rpb24gY2hhbmdlQ29sbGF0ZXJhbFNlaXplcihhZGRyZXNzIF9uZXdDb2xsYXRlcmFsU2VpemVyKSBwdWJsaWMgbm9uWmVybyhfbmV3Q29sbGF0ZXJhbFNlaXplcikgb25seU93bmVyIHsKICAgIGNvbGxhdGVyYWxTZWl6ZXIgPSBfbmV3Q29sbGF0ZXJhbFNlaXplcjsKICB9CgogIGZ1bmN0aW9uIGNoYW5nZUNvbGxhdGVyYWxBbW91bnQodWludDI1NiBfbmV3QW1vdW50KSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoX25ld0Ftb3VudCA+IDApOwogICAgY29sbGF0ZXJhbEFtb3VudCA9IF9uZXdBbW91bnQ7CiAgfQoKICBmdW5jdGlvbiBjaGFuZ2VTZWl6ZWRUb2tlbnNXYWxsZXQoYWRkcmVzcyBfbmV3U2VpemVkVG9rZW5zV2FsbGV0KSBwdWJsaWMgbm9uWmVybyhfbmV3U2VpemVkVG9rZW5zV2FsbGV0KSBvbmx5T3duZXIgewogICAgc2VpemVkVG9rZW5zV2FsbGV0ID0gX25ld1NlaXplZFRva2Vuc1dhbGxldDsgCiAgfQoKICBmdW5jdGlvbiBjaGFuZ2VMb2NrdXBEdXJhdGlvbih1aW50NjQgX25ld0xvY2t1cER1cmF0aW9uKSBwdWJsaWMgb25seU93bmVyIHsKICAgIGxvY2t1cER1cmF0aW9uID0gX25ld0xvY2t1cER1cmF0aW9uOwogIH0KCiAgbW9kaWZpZXIgbm9uWmVybyhhZGRyZXNzIF9hZGRyZXNzKSB7CiAgICByZXF1aXJlKF9hZGRyZXNzICE9IDApOwogICAgXzsKICB9CgogIG1vZGlmaWVyIG9ubHlDb2xsYXRlcmFsVGFrZXIgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGNvbGxhdGVyYWxUYWtlcik7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgb25seUNvbGxhdGVyYWxTZWl6ZXIgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGNvbGxhdGVyYWxTZWl6ZXIpOwogICAgXzsKICB9Cn0='.
	

]
