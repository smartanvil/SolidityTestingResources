Class {
	#name : #SRTC257bF0a9D24A62a12898dcdeD755196D20FAc17,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTC257bF0a9D24A62a12898dcdeD755196D20FAc17 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7Cgpjb250cmFjdCBFUkMyMCB7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBwdXJlIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIHB1cmUgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICByZXR1cm4gYzsKICB9CiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBwdXJlIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIHB1cmUgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KIAogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KIAogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsgICAgICAKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQp9CgppbnRlcmZhY2UgdG9rZW5SZWNpcGllbnQgeyAKICBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWM7IAp9Cgpjb250cmFjdCBMQ0JyaXhUb2tlbiBpcyBFUkMyMCwgT3duYWJsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIHN0cmluZyBjb25zdGFudCBwdWJsaWMgbmFtZSA9ICJMaWtlQ29pbiBCcml4IjsKICBzdHJpbmcgY29uc3RhbnQgcHVibGljIHN5bWJvbCA9ICJMQ0IiOwogIHVpbnQ4IGNvbnN0YW50IHB1YmxpYyBkZWNpbWFscyA9IDY7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHkgPSAyMDAwMDAwMDAwMDAwOy8vMjAwMDAwMC4wMDAwMDAKICBzdHJpbmcgY29uc3RhbnQgcHVibGljIG9mZXJ0YSA9ICJMQ2JyaXguIE9GRkVSIFRPIFRIRSBCVVlFUlMuIERlZmluaXRpb25zLiBUaGUgTGlrZWNvaW4gc3lzdGVtIC0gaXMgYSBzeXN0ZW0gb2Ygc29mdHdhcmUgcHJvZHVjdHMsIGFuZCBvZiB0aGUgbGVnYWwgcmlnaHRzIGFuZCBzdWJqZWN0cywgYXNzb2NpYXRlZCB3aXRoIHRoZW0sIGFsbCB0b2dldGhlciBjb2xsZWN0aXZlbHkgc3VwcG9ydGluZyB0aGUgYWN0aXZpdGllcyBvZiB0aGUgTGlrZWNvaW4gc29jaWFsIG5ldHdvcmsuIFRoZSBjb250cmFjdCBpcyBhbiBhZ3JlZW1lbnQgaW4gdGhlIGZvcm0gb2YgYWNjZXB0YW5jZSBvZiB0aGlzIG9mZmVyLiBUaGUgSG9sZGluZyBDb21wYW55IGlzIExpZ2h0cG9ydCBJbnRlciBMaW1pdGVkLCBIb25nIEtvbmcsIHdoaWNoIG5vdyBhbmQgaW4gdGhlIGZ1dHVyZSBvd25zIGFsbCBsZWdhbCBlbnRpdGllcyBvZiB0aGUgTGlrZWNvaW4gc3lzdGVtLCBhcyB3ZWxsIGFzIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgdGhlIHJpZ2h0cyB0byBhbGwgc29mdHdhcmUgcHJvZHVjdHMgb2YgdGhlIExpa2Vjb2luIHN5c3RlbS4gVGhlIEFnZW50IENvbXBhbnkgaXMg4oCcU29sYWkgVGVjaCBGaW5hbmNl4oCdIExMUCwgS2F6YWtoc3Rhbiwgd2hpY2ggZXhlY3V0ZXMgY29udHJhY3RzIGluIHRoZSBuYW1lIGFuZCBvbiBiZWhhbGYgb2YgdGhlIEhvbGRpbmcgQ29tcGFueS4gVG9rZW4gLSBhIHJlY29yZCBvZiB0aGUgb3duZXIgb2YgdGhlIGNvbnRyYWN0IGluIHRoZSByZWdpc3RlciBvZiBjb250cmFjdCBob2xkZXJzLCBleGVjdXRlZCBpbiB0aGUgRXRoZXJldW0gYmxvY2tjaGFpbi4gT0ZGRVIgMSkgVGhpcyBvZmZlciBpcyBhIGNyb3dkZnVuZGluZyBjb250cmFjdCwgd2hlcmVieSB0aGUgb3duZXIgb2YgdGhlIGNvbnRyYWN0IGNhcnJpZXMgYWxsIHRoZSByaXNrcyBhc3NvY2lhdGVkIHdpdGggdGhlIHN1Y2Nlc3NmdWwgb3IgdW5zdWNjZXNzZnVsIGRldmVsb3BtZW50IG9mIHRoZSBwcm9qZWN0LCBzaW1pbGFybHkgdG8gdGhlIHNoYXJlaG9sZGVycyBvZiB0aGUgcHJvamVjdC4gU2hhcmVob2xkZXJzIG9mIHRoZSBwcm9qZWN0IGRvIG5vdCBoYXZlIHNwZWNpYWwgb2JsaWdhdGlvbnMgdG8gc3VwcG9ydCB0aGUgbGlxdWlkaXR5IG9mIGNvbnRyYWN0cy4gMikgVGhlIG93bmVyIG9mIHRoaXMgY29udHJhY3QgaGFzIHRoZSByaWdodCB0byByZWNlaXZlIG9uZSBzaGFyZSBvZiB0aGUgSG9sZGluZyBDb21wYW55IGluIHRoZSBwZXJpb2Qgbm90IGVhcmxpZXIgdGhhbiBpbmRpY2F0ZWQgaW4gcGFyYWdyYXBoIDMgaGVyZW9mLiBUaGUgb3duZXIgb2YgdGhlIGNvbnRyYWN0IGhhcyB0aGUgcmlnaHQsIGF0IGl0cyBkaXNjcmV0aW9uLCB0byBleHRlbmQgdGhlIHRlcm0gb2YgZXhjaGFuZ2Ugb2YgdGhlIGNvbnRyYWN0IGZvciB0aGUgc2hhcmUuIDMpIFRoZSBIb2xkaW5nIENvbXBhbnkgdW5kZXJ0YWtlcyB0byBtYWtlIHNoYXJlIGlzc3VlIGZvciBpdHMgY2FwaXRhbCBiZWZvcmUgTWF5IDEsIDIwMjAuIFRoZSBIb2xkaW5nIENvbXBhbnkgdW5kZXJ0YWtlcyB0byByZXNlcnZlIDIwJSBvZiBpdHMgc2hhcmVzIGZvciBleGNoYW5nZSBvbiB0aGVzZSBjb250cmFjdHMuIDQpIFRvIG1haW50YWluIHRoZSByZWdpc3RlciBvZiBjb250cmFjdHMsIHRoZSBMaWtlY29pbiBzeXN0ZW0gaXNzdWVzIDIsMDAwLDAwMCB0b2tlbnMgaW4gdGhlIEV0aGVyZXVtIGJsb2NrY2hhaW4uIE93bmluZyBvbmUgdG9rZW4gbWVhbnMgb3duaW5nIGEgY29udHJhY3QgZm9yIHJlY2VpcHQgaW4gdGhlIGZ1dHVyZSBvZiBvbmUgZnV0dXJlIHNoYXJlIG9mIHRoZSBIb2xkaW5nIENvbXBhbnkuIDUpIFRoZSBvd25lciBvZiB0aGUgY29udHJhY3QgY2FuIHNlbGwgdGhlIGNvbnRyYWN0LCBkaXZpZGUgaW50byBzaGFyZXMsIHBsZWRnZSwgZ3JhbnQgZm9yIGZyZWUuIEFsbCBhY3Rpb25zIHdpdGggY29udHJhY3RzIGFyZSBjb25kdWN0ZWQgaW4gdGhlIHJlZ2lzdHJ5LCB3aGljaCBpcyBhdmFpbGFibGUgZm9yIGFjY2VzcyBieSBib3RoIHRoZSBMaWtlY29pbiBzeXN0ZW0gYW5kIHRoZSBFdGhlcmV1bSBibG9ja2NoYWluLiBXaGVuIGRpdmlkaW5nIGEgdG9rZW4sIHRoZSByaWdodCBvZiBleGNoYW5nZSBmb3IgdGhlIHNoYXJlcyBvZiB0aGUgSG9sZGluZyBDb21wYW55IGFyaXNlcyBvbmx5IGZvciB0aGF0IG93bmVyIG9mIHRoZSBwYXJ0cyAocG9ydGlvbnMpIG9mIHRoZSB0b2tlbnMsIHdoZXJlYXMgc3VjaCBwYXJ0cyB0b2dldGhlciBjb25zdGl0dXRlIHRoZSB3aG9sZSBudW1iZXIgb2YgdG9rZW5zIChpbnRlZ2VyKS4gNikgVGhlIEhvbGRpbmcgQ29tcGFueSB1bmRlcnRha2VzIHRvIHVzZSBhbGwgZnVuZHMgcmFpc2VkIGR1cmluZyB0aGUgaW5pdGlhbCBzYWxlIG9mIGNvbnRyYWN0cyBmb3IgdGhlIGRldmVsb3BtZW50IG9mIHRoZSBMaWtlY29pbiBzeXN0ZW0uIEhvbGRpbmcgQ29tcGFueSB3aWxsIGJlIDEwMCUgb3duZXIgb2YgYWxsIG5ld2x5IGNyZWF0ZWQgb3BlcmF0aW5nIGNvbXBhbmllcyBvZiB0aGUgTGlrZWNvaW4gc3lzdGVtLiA3KSBJbiBjYXNlIG9mIGV4Y2hhbmdlIG9mIHRoZSBjb250cmFjdCBmb3IgdGhlIHNoYXJlLCB0aGUgcmVsZXZhbnQgdG9rZW4gd2lsbCBiZSBwbGFjZWQgb24gYSBzcGVjaWFsIGJsb2NrZWQgYWNjb3VudCBhbmQgd2lsbCBub3QgYmUgdHJhZGVkIGluIHRoZSBmdXR1cmUuIDgpIFNldHRsZW1lbnRzIHdpdGggY29udHJhY3QgaG9sZGVycyBpbiB0aGUgbmFtZSBhbmQgb24gYmVoYWxmIG9mIHRoZSBIb2xkaW5nIENvbXBhbnkgYXJlIGNhcnJpZWQgb3V0IGJ5IHRoZSBBZ2VudCBDb21wYW55LiI7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dhbmNlOwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VPZjsKICAKCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdID0gYmFsYW5jZU9mW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZU9mW190b10gPSBiYWxhbmNlT2ZbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXTsKICAgIGJhbGFuY2VPZltfdG9dID0gYmFsYW5jZU9mW190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlT2ZbX2Zyb21dID0gYmFsYW5jZU9mW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIGFsbG93YW5jZVttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9leHRyYURhdGEpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHRva2VuUmVjaXBpZW50IHNwZW5kZXIgPSB0b2tlblJlY2lwaWVudChfc3BlbmRlcik7CiAgICBpZiAoYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKSkgewogICAgICBzcGVuZGVyLnJlY2VpdmVBcHByb3ZhbChtc2cuc2VuZGVyLCBfdmFsdWUsIHRoaXMsIF9leHRyYURhdGEpOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIExDQnJpeFRva2VuKCkgcHVibGljIHsKICAgIGJhbGFuY2VPZltvd25lcl0gPSB0b3RhbFN1cHBseTsKICB9CgogIGV2ZW50IFRyYW5zZmVyV2l0aFJlZihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlLCB1aW50MjU2IGluZGV4ZWQgcmVmKTsKCiAgZnVuY3Rpb24gdHJhbnNmZXJXaXRoUmVmKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSwgdWludDI1NiBfcmVmKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBib29sIHJlc3VsdCA9IHRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICAgIGlmIChyZXN1bHQpCQogICAgICBUcmFuc2ZlcldpdGhSZWYobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUsIF9yZWYpOwogICAgcmV0dXJuIHJlc3VsdDsJCiAgfQp9Cgpjb250cmFjdCBMQ0JyaXhUb2tlbkNyb3dkc2FsZSBpcyB0b2tlblJlY2lwaWVudCB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7ICAKICBhZGRyZXNzIHB1YmxpYyBiZW5lZmljaWFyeSA9IDB4ODM5OWEwNjczNDg3MTUwZjdDNUQyMmI4ODU0NkVDOTkxODE0YUIwMzsKICBMQ0JyaXhUb2tlbiBwdWJsaWMgdG9rZW4gPSBMQ0JyaXhUb2tlbigweEMyNTdiRjBhOUQyNEE2MmExMjg5OGRjZGVENzU1MTk2RDIwRkFjMTcpOwogIHVpbnQyNTYgcHVibGljIHRva2VuUHJpY2UgPSAwLjAwMzc1IGV0aGVyOwogIHVpbnQyNTYgcHVibGljIGRlYWRsaW5lID0gMTUxODY1MjgwMDsgLy8yMDE4LTAyLTE1IDAwOjAwOjAwIEdNVAogIHVpbnQyNTYgcHVibGljIGdvYWxJbkV0aGVycyA9IDEwMDAgZXRoZXI7CiAgdWludDI1NiBwdWJsaWMgYW1vdW50UmFpc2VkID0gMDsKICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2Y7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgdG9rZW5CYWxhbmNlT2Y7CiAgYm9vbCBwdWJsaWMgY3Jvd2RzYWxlQ2xvc2VkID0gZmFsc2U7CiAgYm9vbCBwdWJsaWMgZ29hbFJlYWNoZWQgPSBmYWxzZTsKICBzdHJpbmcgY29uc3RhbnQgcHVibGljIG9mZXJ0YSA9ICJMQ2JyaXguIE9GRkVSIFRPIFRIRSBCVVlFUlMuIERlZmluaXRpb25zLiBUaGUgTGlrZWNvaW4gc3lzdGVtIC0gaXMgYSBzeXN0ZW0gb2Ygc29mdHdhcmUgcHJvZHVjdHMsIGFuZCBvZiB0aGUgbGVnYWwgcmlnaHRzIGFuZCBzdWJqZWN0cywgYXNzb2NpYXRlZCB3aXRoIHRoZW0sIGFsbCB0b2dldGhlciBjb2xsZWN0aXZlbHkgc3VwcG9ydGluZyB0aGUgYWN0aXZpdGllcyBvZiB0aGUgTGlrZWNvaW4gc29jaWFsIG5ldHdvcmsuIFRoZSBjb250cmFjdCBpcyBhbiBhZ3JlZW1lbnQgaW4gdGhlIGZvcm0gb2YgYWNjZXB0YW5jZSBvZiB0aGlzIG9mZmVyLiBUaGUgSG9sZGluZyBDb21wYW55IGlzIExpZ2h0cG9ydCBJbnRlciBMaW1pdGVkLCBIb25nIEtvbmcsIHdoaWNoIG5vdyBhbmQgaW4gdGhlIGZ1dHVyZSBvd25zIGFsbCBsZWdhbCBlbnRpdGllcyBvZiB0aGUgTGlrZWNvaW4gc3lzdGVtLCBhcyB3ZWxsIGFzIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgdGhlIHJpZ2h0cyB0byBhbGwgc29mdHdhcmUgcHJvZHVjdHMgb2YgdGhlIExpa2Vjb2luIHN5c3RlbS4gVGhlIEFnZW50IENvbXBhbnkgaXMg4oCcU29sYWkgVGVjaCBGaW5hbmNl4oCdIExMUCwgS2F6YWtoc3Rhbiwgd2hpY2ggZXhlY3V0ZXMgY29udHJhY3RzIGluIHRoZSBuYW1lIGFuZCBvbiBiZWhhbGYgb2YgdGhlIEhvbGRpbmcgQ29tcGFueS4gVG9rZW4gLSBhIHJlY29yZCBvZiB0aGUgb3duZXIgb2YgdGhlIGNvbnRyYWN0IGluIHRoZSByZWdpc3RlciBvZiBjb250cmFjdCBob2xkZXJzLCBleGVjdXRlZCBpbiB0aGUgRXRoZXJldW0gYmxvY2tjaGFpbi4gT0ZGRVIgMSkgVGhpcyBvZmZlciBpcyBhIGNyb3dkZnVuZGluZyBjb250cmFjdCwgd2hlcmVieSB0aGUgb3duZXIgb2YgdGhlIGNvbnRyYWN0IGNhcnJpZXMgYWxsIHRoZSByaXNrcyBhc3NvY2lhdGVkIHdpdGggdGhlIHN1Y2Nlc3NmdWwgb3IgdW5zdWNjZXNzZnVsIGRldmVsb3BtZW50IG9mIHRoZSBwcm9qZWN0LCBzaW1pbGFybHkgdG8gdGhlIHNoYXJlaG9sZGVycyBvZiB0aGUgcHJvamVjdC4gU2hhcmVob2xkZXJzIG9mIHRoZSBwcm9qZWN0IGRvIG5vdCBoYXZlIHNwZWNpYWwgb2JsaWdhdGlvbnMgdG8gc3VwcG9ydCB0aGUgbGlxdWlkaXR5IG9mIGNvbnRyYWN0cy4gMikgVGhlIG93bmVyIG9mIHRoaXMgY29udHJhY3QgaGFzIHRoZSByaWdodCB0byByZWNlaXZlIG9uZSBzaGFyZSBvZiB0aGUgSG9sZGluZyBDb21wYW55IGluIHRoZSBwZXJpb2Qgbm90IGVhcmxpZXIgdGhhbiBpbmRpY2F0ZWQgaW4gcGFyYWdyYXBoIDMgaGVyZW9mLiBUaGUgb3duZXIgb2YgdGhlIGNvbnRyYWN0IGhhcyB0aGUgcmlnaHQsIGF0IGl0cyBkaXNjcmV0aW9uLCB0byBleHRlbmQgdGhlIHRlcm0gb2YgZXhjaGFuZ2Ugb2YgdGhlIGNvbnRyYWN0IGZvciB0aGUgc2hhcmUuIDMpIFRoZSBIb2xkaW5nIENvbXBhbnkgdW5kZXJ0YWtlcyB0byBtYWtlIHNoYXJlIGlzc3VlIGZvciBpdHMgY2FwaXRhbCBiZWZvcmUgTWF5IDEsIDIwMjAuIFRoZSBIb2xkaW5nIENvbXBhbnkgdW5kZXJ0YWtlcyB0byByZXNlcnZlIDIwJSBvZiBpdHMgc2hhcmVzIGZvciBleGNoYW5nZSBvbiB0aGVzZSBjb250cmFjdHMuIDQpIFRvIG1haW50YWluIHRoZSByZWdpc3RlciBvZiBjb250cmFjdHMsIHRoZSBMaWtlY29pbiBzeXN0ZW0gaXNzdWVzIDIsMDAwLDAwMCB0b2tlbnMgaW4gdGhlIEV0aGVyZXVtIGJsb2NrY2hhaW4uIE93bmluZyBvbmUgdG9rZW4gbWVhbnMgb3duaW5nIGEgY29udHJhY3QgZm9yIHJlY2VpcHQgaW4gdGhlIGZ1dHVyZSBvZiBvbmUgZnV0dXJlIHNoYXJlIG9mIHRoZSBIb2xkaW5nIENvbXBhbnkuIDUpIFRoZSBvd25lciBvZiB0aGUgY29udHJhY3QgY2FuIHNlbGwgdGhlIGNvbnRyYWN0LCBkaXZpZGUgaW50byBzaGFyZXMsIHBsZWRnZSwgZ3JhbnQgZm9yIGZyZWUuIEFsbCBhY3Rpb25zIHdpdGggY29udHJhY3RzIGFyZSBjb25kdWN0ZWQgaW4gdGhlIHJlZ2lzdHJ5LCB3aGljaCBpcyBhdmFpbGFibGUgZm9yIGFjY2VzcyBieSBib3RoIHRoZSBMaWtlY29pbiBzeXN0ZW0gYW5kIHRoZSBFdGhlcmV1bSBibG9ja2NoYWluLiBXaGVuIGRpdmlkaW5nIGEgdG9rZW4sIHRoZSByaWdodCBvZiBleGNoYW5nZSBmb3IgdGhlIHNoYXJlcyBvZiB0aGUgSG9sZGluZyBDb21wYW55IGFyaXNlcyBvbmx5IGZvciB0aGF0IG93bmVyIG9mIHRoZSBwYXJ0cyAocG9ydGlvbnMpIG9mIHRoZSB0b2tlbnMsIHdoZXJlYXMgc3VjaCBwYXJ0cyB0b2dldGhlciBjb25zdGl0dXRlIHRoZSB3aG9sZSBudW1iZXIgb2YgdG9rZW5zIChpbnRlZ2VyKS4gNikgVGhlIEhvbGRpbmcgQ29tcGFueSB1bmRlcnRha2VzIHRvIHVzZSBhbGwgZnVuZHMgcmFpc2VkIGR1cmluZyB0aGUgaW5pdGlhbCBzYWxlIG9mIGNvbnRyYWN0cyBmb3IgdGhlIGRldmVsb3BtZW50IG9mIHRoZSBMaWtlY29pbiBzeXN0ZW0uIEhvbGRpbmcgQ29tcGFueSB3aWxsIGJlIDEwMCUgb3duZXIgb2YgYWxsIG5ld2x5IGNyZWF0ZWQgb3BlcmF0aW5nIGNvbXBhbmllcyBvZiB0aGUgTGlrZWNvaW4gc3lzdGVtLiA3KSBJbiBjYXNlIG9mIGV4Y2hhbmdlIG9mIHRoZSBjb250cmFjdCBmb3IgdGhlIHNoYXJlLCB0aGUgcmVsZXZhbnQgdG9rZW4gd2lsbCBiZSBwbGFjZWQgb24gYSBzcGVjaWFsIGJsb2NrZWQgYWNjb3VudCBhbmQgd2lsbCBub3QgYmUgdHJhZGVkIGluIHRoZSBmdXR1cmUuIDgpIFNldHRsZW1lbnRzIHdpdGggY29udHJhY3QgaG9sZGVycyBpbiB0aGUgbmFtZSBhbmQgb24gYmVoYWxmIG9mIHRoZSBIb2xkaW5nIENvbXBhbnkgYXJlIGNhcnJpZWQgb3V0IGJ5IHRoZSBBZ2VudCBDb21wYW55LiI7CiAgZXZlbnQgRnVuZFRyYW5zZmVyKGFkZHJlc3MgYmFja2VyLCB1aW50IGFtb3VudCwgYm9vbCBpc0NvbnRyaWJ1dGlvbik7CgogIGZ1bmN0aW9uIHJlY2FsY0ZsYWdzKCkgcHVibGljIHsKICAgIGlmIChibG9jay50aW1lc3RhbXAgPj0gZGVhZGxpbmUgfHwgdG9rZW4uYmFsYW5jZU9mKHRoaXMpIDw9IDApCiAgICAgIGNyb3dkc2FsZUNsb3NlZCA9IHRydWU7CiAgICBpZiAoYW1vdW50UmFpc2VkID49IGdvYWxJbkV0aGVycykgCiAgICAgIGdvYWxSZWFjaGVkID0gdHJ1ZTsKICB9CiAgCiAgZnVuY3Rpb24gcmVjYWxjVG9rZW5QcmljZSgpIHB1YmxpYyB7CiAgICB1aW50MjU2IHRva2Vuc0xlZnQgPSB0b2tlbi5iYWxhbmNlT2YodGhpcyk7ICAgIAogICAgaWYgKHRva2Vuc0xlZnQgPD0gIDQwMDAwMDAwMDAwMCkKICAgICAgdG9rZW5QcmljZSA9IDAuMDA1MDAgZXRoZXI7CiAgICBlbHNlCiAgICBpZiAodG9rZW5zTGVmdCA8PSAxMjAwMDAwMDAwMDAwKQogICAgICB0b2tlblByaWNlID0gMC4wMDQzOCBldGhlcjsKICB9CgogIGZ1bmN0aW9uICgpIHBheWFibGUgcHVibGljIHsKICAgIHJlcXVpcmUoIWNyb3dkc2FsZUNsb3NlZCk7CiAgICB1aW50MjU2IGFtb3VudCA9IG1zZy52YWx1ZTsKICAgIHVpbnQyNTYgdG9rZW5BbW91bnQgPSBhbW91bnQubXVsKDEwMDAwMDApOyAKICAgIHRva2VuQW1vdW50ID0gdG9rZW5BbW91bnQuZGl2KHRva2VuUHJpY2UpOwogICAgcmVxdWlyZSh0b2tlbi5iYWxhbmNlT2YodGhpcykgPj0gdG9rZW5BbW91bnQpOwogICAgYW1vdW50UmFpc2VkID0gYW1vdW50UmFpc2VkLmFkZChhbW91bnQpOwogICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdID0gYmFsYW5jZU9mW21zZy5zZW5kZXJdLmFkZChhbW91bnQpOwogICAgdG9rZW5CYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPSB0b2tlbkJhbGFuY2VPZlttc2cuc2VuZGVyXS5hZGQodG9rZW5BbW91bnQpOwogICAgRnVuZFRyYW5zZmVyKG1zZy5zZW5kZXIsIGFtb3VudCwgdHJ1ZSk7CiAgICB0b2tlbi50cmFuc2Zlcihtc2cuc2VuZGVyLCB0b2tlbkFtb3VudCk7CiAgICByZWNhbGNUb2tlblByaWNlKCk7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlclJlbWFpbmluZ1Rva2VucygpIHB1YmxpYyB7CiAgICByZXF1aXJlKGNyb3dkc2FsZUNsb3NlZCk7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gYmVuZWZpY2lhcnkpOyAgCiAgICB0b2tlbi50cmFuc2ZlcihiZW5lZmljaWFyeSwgdG9rZW4uYmFsYW5jZU9mKHRoaXMpKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyR2FpbmVkRXRoZXIoKSBwdWJsaWMgewogICAgcmVxdWlyZShnb2FsUmVhY2hlZCk7IAogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGJlbmVmaWNpYXJ5KTsgIAogICAgaWYgKGJlbmVmaWNpYXJ5LnNlbmQodGhpcy5iYWxhbmNlKSkgewogICAgICBGdW5kVHJhbnNmZXIoYmVuZWZpY2lhcnksIHRoaXMuYmFsYW5jZSwgZmFsc2UpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlLCBhZGRyZXNzIF90b2tlbiwgYnl0ZXMgX2V4dHJhRGF0YSkgcHVibGljIHsKICAgIF9leHRyYURhdGEgPSAiIjsKICAgIHJlcXVpcmUoY3Jvd2RzYWxlQ2xvc2VkICYmICFnb2FsUmVhY2hlZCk7CiAgICB1aW50MjU2IGFtb3VudCA9IGJhbGFuY2VPZltfZnJvbV07CiAgICB1aW50MjU2IHRva2VuQW1vdW50ID0gdG9rZW5CYWxhbmNlT2ZbX2Zyb21dOwkKICAgIHJlcXVpcmUodG9rZW4gPT0gX3Rva2VuICYmIHRva2VuQW1vdW50ID09IF92YWx1ZSAmJiB0b2tlbkFtb3VudCA9PSB0b2tlbi5iYWxhbmNlT2YoX2Zyb20pICYmIGFtb3VudCA+MCk7CiAgICB0b2tlbi50cmFuc2ZlckZyb20oX2Zyb20sIHRoaXMsIHRva2VuQW1vdW50KTsKICAgIF9mcm9tLnRyYW5zZmVyKGFtb3VudCk7CiAgICBiYWxhbmNlT2ZbX2Zyb21dID0gMDsKICAgIHRva2VuQmFsYW5jZU9mW19mcm9tXSA9IDA7CiAgICBGdW5kVHJhbnNmZXIoX2Zyb20sIGFtb3VudCwgZmFsc2UpOwogIH0KCn0='.
	

]
