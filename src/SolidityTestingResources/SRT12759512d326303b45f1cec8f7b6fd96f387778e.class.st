Class {
	#name : #SRT12759512d326303b45f1cec8f7b6fd96f387778e,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT12759512d326303b45f1cec8f7b6fd96f387778e >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKiB0YWtpbmcgaWRlYXMgZnJvbSBaZXBwZWxpbiBzb2xpZGl0eSBtb2R1bGUgKi8KY29udHJhY3QgU2FmZU1hdGggewoKICAgIC8vIGl0IGlzIHJlY29tbWVuZGVkIHRvIGRlZmluZSBmdW5jdGlvbnMgd2hpY2ggY2FuIG5laXRoZXIgcmVhZCB0aGUgc3RhdGUgb2YgYmxvY2tjaGFpbiBub3Igd3JpdGUgaW4gaXQgYXMgcHVyZSBpbnN0ZWFkIG9mIGNvbnN0YW50CgogICAgZnVuY3Rpb24gc2FmZUFkZCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgaW50ZXJuYWwgcHVyZSByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IHogPSB4ICsgeTsKICAgICAgICBhc3NlcnQoKHogPj0geCkpOwogICAgICAgIHJldHVybiB6OwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVTdWJ0cmFjdCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgaW50ZXJuYWwgcHVyZSByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICBhc3NlcnQoeCA+PSB5KTsKICAgICAgICByZXR1cm4geCAtIHk7CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZU11bHQodWludDI1NiB4LCB1aW50MjU2IHkpIGludGVybmFsIHB1cmUgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiB6ID0geCAqIHk7CiAgICAgICAgYXNzZXJ0KCh4ID09IDApfHwoei94ID09IHkpKTsKICAgICAgICByZXR1cm4gejsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlRGl2KHVpbnQyNTYgeCwgdWludDI1NiB5KSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IHogPSB4IC8geTsKICAgICAgICByZXR1cm4gejsKICAgIH0KCiAgICAvLyBtaXRpZ2F0ZSBzaG9ydCBhZGRyZXNzIGF0dGFjawogICAgLy8gdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9udW1lcmFpL2NvbnRyYWN0L2Jsb2IvYzE4MjQ2NWY4MmU1MGNlZDhkYWNiMzk3N2VjMzc0YTg5MmY1ZmE4Yy9jb250cmFjdHMvU2FmZS5zb2wjTDMwLUwzNC4KICAgIC8vIFRPRE86IGRvdWJsZWNoZWNrIGltcGxpY2F0aW9uIG9mID49IGNvbXBhcmVkIHRvID09CiAgICBtb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludCBudW1Xb3JkcykgewogICAgICAgIGFzc2VydChtc2cuZGF0YS5sZW5ndGggPj0gbnVtV29yZHMgKiAzMiArIDQpOwogICAgICAgIF87CiAgICB9Cgp9CgovLy8gSW1wbGVtZW50cyBFUkMgMjAgVG9rZW4gc3RhbmRhcmQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2Jsb2IvbWFzdGVyL0VJUFMvZWlwLTIwLXRva2VuLXN0YW5kYXJkLm1kCmNvbnRyYWN0IEVSQzIwIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIC8qCiAgICAgKiAgUHVibGljIGZ1bmN0aW9ucwogICAgICovCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CgogICAgLyoKICAgICAqICBFdmVudHMKICAgICAqLwogICAgLy8gdGhpcyBnZW5lcmF0ZXMgYSBwdWJsaWMgZXZlbnQgb24gYmxvY2tjaGFpbiB0aGF0IHdpbGwgbm90aWZ5IGNsaWVudHMKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7CiAgICAvLyBUaGlzIG5vdGlmaWVzIGNsaWVudHMgYWJvdXQgdGhlIGFtb3VudCBidXJudAogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludDI1NiB2YWx1ZSk7CgoKfQoKCi8qICBFUkMgMjAgdG9rZW4gKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCxTYWZlTWF0aCB7CgogICAgLyoKICAgICAqICBTdG9yYWdlCiAgICAqLwoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgoKICAgIC8qCiAgICAgKiAgUHVibGljIGZ1bmN0aW9ucwogICAgICovCiAgICAvLy8gQGRldiBUcmFuc2ZlcnMgc2VuZGVyJ3MgdG9rZW5zIHRvIGEgZ2l2ZW4gYWRkcmVzcy4gUmV0dXJucyBzdWNjZXNzCiAgICAvLy8gQHBhcmFtIF90byBBZGRyZXNzIG9mIHRva2VuIHJlY2VpdmVyCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyCiAgICAvLy8gQHJldHVybiBXYXMgdHJhbnNmZXIgc3VjY2Vzc2Z1bD8KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgyKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CgoKICAgIC8vLyBAZGV2IEFsbG93cyBhbGxvd2VkIHRoaXJkIHBhcnR5IHRvIHRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIuIFJldHVybnMgc3VjY2VzcwogICAgLy8vIEBwYXJhbSBfZnJvbSBBZGRyZXNzIGZyb20gd2hlcmUgdG9rZW5zIGFyZSB3aXRoZHJhd24KICAgIC8vLyBAcGFyYW0gX3RvIEFkZHJlc3MgdG8gd2hlcmUgdG9rZW5zIGFyZSBzZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyCiAgICAvLy8gQHJldHVybiBXYXMgdHJhbnNmZXIgc3VjY2Vzc2Z1bD8KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMykgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCkgewogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CgoKICAgIC8vLyBAZGV2IFJldHVybnMgbnVtYmVyIG9mIHRva2VucyBvd25lZCBieSBnaXZlbiBhZGRyZXNzCiAgICAvLy8gQHBhcmFtIF9vd25lciBBZGRyZXNzIG9mIHRva2VuIG93bmVyCiAgICAvLy8gQHJldHVybiBCYWxhbmNlIG9mIG93bmVyCgogICAgLy8gaXQgaXMgcmVjb21tZW5kZWQgdG8gZGVmaW5lIGZ1bmN0aW9ucyB3aGljaCBjYW4gcmVhZCB0aGUgc3RhdGUgb2YgYmxvY2tjaGFpbiBidXQgY2Fubm90IHdyaXRlIGluIGl0IGFzIHZpZXcgaW5zdGVhZCBvZiBjb25zdGFudAoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgdmlldyBwdWJsaWMgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgLy8vIEBkZXYgU2V0cyBhcHByb3ZlZCBhbW91bnQgb2YgdG9rZW5zIGZvciBzcGVuZGVyLiBSZXR1cm5zIHN1Y2Nlc3MKICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgQWRkcmVzcyBvZiBhbGxvd2VkIGFjY291bnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIE51bWJlciBvZiBhcHByb3ZlZCB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIFdhcyBhcHByb3ZhbCBzdWNjZXNzZnVsPwoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgyKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgICAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQoKICAgICAgICByZXF1aXJlKF92YWx1ZSA9PSAwICYmIChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGNoYW5nZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX29sZFZhbHVlLCB1aW50MjU2IF9uZXdWYWx1ZSkgb25seVBheWxvYWRTaXplKDMpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IF9vbGRWYWx1ZSk7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfbmV3VmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9uZXdWYWx1ZSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICAvLy8gQGRldiBSZXR1cm5zIG51bWJlciBvZiBhbGxvd2VkIHRva2VucyBmb3IgZ2l2ZW4gYWRkcmVzcwogICAgLy8vIEBwYXJhbSBfb3duZXIgQWRkcmVzcyBvZiB0b2tlbiBvd25lcgogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBBZGRyZXNzIG9mIHRva2VuIHNwZW5kZXIKICAgIC8vLyBAcmV0dXJuIFJlbWFpbmluZyBhbGxvd2FuY2UgZm9yIHNwZW5kZXIKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljICB2aWV3IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IEJ1cm5zIGEgc3BlY2lmaWMgYW1vdW50IG9mIHRva2Vucy4KICAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIGJ1cm5lZC4KICAgICovCgogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgYnVyblN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKF92YWx1ZSA+IDApOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKICAgICAgICAvLyBubyBuZWVkIHRvIHJlcXVpcmUgdmFsdWUgPD0gdG90YWxTdXBwbHksIHNpbmNlIHRoYXQgd291bGQgaW1wbHkgdGhlCiAgICAgICAgLy8gc2VuZGVyJ3MgYmFsYW5jZSBpcyBncmVhdGVyIHRoYW4gdGhlIHRvdGFsU3VwcGx5LCB3aGljaCAqc2hvdWxkKiBiZSBhbiBhc3NlcnRpb24gZmFpbHVyZQoKICAgICAgICBhZGRyZXNzIGJ1cm5lciA9IG1zZy5zZW5kZXI7CiAgICAgICAgYmFsYW5jZXNbYnVybmVyXSA9ICBzYWZlU3VidHJhY3QoYmFsYW5jZXNbYnVybmVyXSxfdmFsdWUpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gc2FmZVN1YnRyYWN0KHRvdGFsU3VwcGx5LF92YWx1ZSk7CiAgICAgICAgQnVybihidXJuZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKfQoKCmNvbnRyYWN0IFRyYWtUb2tlbiBpcyBTdGFuZGFyZFRva2VuIHsKICAgIC8vIEZJRUxEUwogICAgc3RyaW5nIGNvbnN0YW50IHB1YmxpYyAgbmFtZSA9ICJUcmFrSW52ZXN0IFRva2VuIiA7CiAgICBzdHJpbmcgY29uc3RhbnQgcHVibGljICBzeW1ib2wgPSAiVFJBSyI7CiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyAgZGVjaW1hbHMgPSAxODsKCiAgICAvLyBUaGUgZmxhZyBpbmRpY2F0ZXMgaWYgdGhlIGNyb3dkc2FsZSBjb250cmFjdCBpcyBpbiBGdW5kaW5nIHN0YXRlLgogICAgYm9vbCBwdWJsaWMgZnVuZHJhaXNpbmcgPSB0cnVlOwoKICAgIC8vIHdobyBjcmVhdGVkIHNtYXJ0IGNvbnRyYWN0CiAgICBhZGRyZXNzIHB1YmxpYyBjcmVhdG9yOwogICAgLy8gb3ducyB0aGUgdG90YWwgc3VwcGx5IG9mIHRva2VucyAtIGl0IHdvdWxkIGJlIERBTwogICAgYWRkcmVzcyBwdWJsaWMgdG9rZW5zT3duZXI7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBmcm96ZW5BY2NvdW50czsKCiAgLy8vIGV2ZW50cwogICAgZXZlbnQgRnJvemVuRnVuZChhZGRyZXNzIHRhcmdldCAsYm9vbCBmcm96ZW4pOwoKICAvLy8gbW9kaWZpZXJzCgogICAgbW9kaWZpZXIgaXNDcmVhdG9yKCkgeyAKICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGNyZWF0b3IpOyAgCiAgICAgIF87IAogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlQYXlsb2FkU2l6ZSh1aW50IHNpemUpIHsKICAgICAgICBhc3NlcnQobXNnLmRhdGEubGVuZ3RoID49IHNpemUgKyA0KTsKICAgICAgICBfOwogICAgfQoKCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHRva2Vuc093bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG1hbmFnZVRyYW5zZmVyKCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyID09IHRva2Vuc093bmVyKSB7CiAgICAgICAgICAgIF87CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXF1aXJlKGZ1bmRyYWlzaW5nID09IGZhbHNlKTsKICAgICAgICAgICAgXzsKICAgICAgICB9CiAgICB9CgogIC8vLyBjb25zdHJ1Y3RvcgogICAgZnVuY3Rpb24gVHJha1Rva2VuKAogICAgICBhZGRyZXNzIF9mdW5kc1dhbGxldCwKICAgICAgdWludDI1NiBpbml0aWFsU3VwcGx5CiAgICAgICkgcHVibGljIHsKICAgICAgY3JlYXRvciA9IG1zZy5zZW5kZXI7CgogICAgICBpZiAoX2Z1bmRzV2FsbGV0ICE9MCkgewogICAgICAgIHRva2Vuc093bmVyID0gX2Z1bmRzV2FsbGV0OwogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgIHRva2Vuc093bmVyID0gbXNnLnNlbmRlcjsKICAgICAgfQoKICAgICAgdG90YWxTdXBwbHkgPSBpbml0aWFsU3VwcGx5ICogKHVpbnQyNTYoMTApICoqIGRlY2ltYWxzKTsKICAgICAgYmFsYW5jZXNbdG9rZW5zT3duZXJdID0gdG90YWxTdXBwbHk7CiAgICAgIFRyYW5zZmVyKDB4MCwgdG9rZW5zT3duZXIsIHRvdGFsU3VwcGx5KTsKICAgIH0KCgogIC8vLyBvdmVycmlkZW4gbWV0aG9kcwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgIHB1YmxpYyBtYW5hZ2VUcmFuc2ZlciBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgcmVxdWlyZSghZnJvemVuQWNjb3VudHNbbXNnLnNlbmRlcl0pOwogICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSAgcHVibGljIG1hbmFnZVRyYW5zZmVyIG9ubHlQYXlsb2FkU2l6ZSgzICogMzIpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICByZXF1aXJlKCFmcm96ZW5BY2NvdW50c1ttc2cuc2VuZGVyXSk7CiAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICByZXF1aXJlKF9mcm9tICE9IGFkZHJlc3MoMCkpOwogICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGZyZWV6ZUFjY291bnQgKGFkZHJlc3MgdGFyZ2V0ICxib29sIGZyZWV6ZSkgcHVibGljIG9ubHlPd25lciB7CiAgICAgIGZyb3plbkFjY291bnRzW3RhcmdldF0gPSBmcmVlemU7CiAgICAgIEZyb3plbkZ1bmQodGFyZ2V0LGZyZWV6ZSk7ICAKICAgIH0KCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wgYnVyblN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKGZ1bmRyYWlzaW5nID09IGZhbHNlKTsKICAgICAgICByZXR1cm4gc3VwZXIuYnVybihfdmFsdWUpOwogICAgfQoKICAgIC8vLyBAcGFyYW0gbmV3QWRkcmVzcyBBZGRyZXNzIG9mIG5ldyBvd25lci4KICAgIGZ1bmN0aW9uIGNoYW5nZVRva2Vuc1dhbGxldChhZGRyZXNzIG5ld0FkZHJlc3MpIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICByZXF1aXJlKG5ld0FkZHJlc3MgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgdG9rZW5zT3duZXIgPSBuZXdBZGRyZXNzOwogICAgfQoKICAgIGZ1bmN0aW9uIGZpbmFsaXplKCkgcHVibGljICBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoZnVuZHJhaXNpbmcgIT0gZmFsc2UpOwogICAgICAgIC8vIFN3aXRjaCB0byBPcGVyYXRpb25hbCBzdGF0ZS4gVGhpcyBpcyB0aGUgb25seSBwbGFjZSB0aGlzIGNhbiBoYXBwZW4uCiAgICAgICAgZnVuZHJhaXNpbmcgPSBmYWxzZTsKICAgIH0KCgogICAgZnVuY3Rpb24oKSBwdWJsaWMgewogICAgICAgIHJldmVydCgpOwogICAgfQoKfQ=='.
	

]
