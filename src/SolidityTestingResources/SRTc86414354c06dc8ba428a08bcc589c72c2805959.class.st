Class {
	#name : #SRTc86414354c06dc8ba428a08bcc589c72c2805959,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc86414354c06dc8ba428a08bcc589c72c2805959 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjsKCmNvbnRyYWN0IG93bmVkIAp7CglhZGRyZXNzIHB1YmxpYyBvd25lcjsKCglmdW5jdGlvbiBvd25lZCgpIAoJewoJCW93bmVyID0gbXNnLnNlbmRlcjsKCX0KCgltb2RpZmllciBvbmx5T3duZXIgCgl7CgkJcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKCQlfOwoJfQoKCWZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciAKCXsKCQlvd25lciA9IG5ld093bmVyOwoJfQp9Cgpjb250cmFjdCB0b2tlblJlY2lwaWVudCAKeyAKCWZ1bmN0aW9uIHJlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW4sIGJ5dGVzIF9leHRyYURhdGEpOyAKfQoKbGlicmFyeSBNYXRoRnVuY3Rpb24gCnsKICAgIC8vIHN0YW5kYXJkIHVpbnQyNTYgZnVuY3Rpb25zCgogICAgZnVuY3Rpb24gcGx1cyh1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgYXNzZXJ0KCh6ID0geCArIHkpID49IHgpOwogICAgfQoKICAgIGZ1bmN0aW9uIG1pbnVzKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICBhc3NlcnQoKHogPSB4IC0geSkgPD0geCk7CiAgICB9CgogICAgZnVuY3Rpb24gbXVsdGlwbHkodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgewogICAgICAgIHogPSB4ICogeTsKICAgICAgICBhc3NlcnQoeCA9PSAwIHx8IHogLyB4ID09IHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIGRpdmlkZSh1aW50MjU2IHgsIHVpbnQyNTYgeSkgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NiB6KSB7CiAgICAgICAgeiA9IHggLyB5OwogICAgfQogICAgCiAgICAvLyB1aW50MjU2IGZ1bmN0aW9uCgogICAgZnVuY3Rpb24gaHBsdXModWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgewogICAgICAgIGFzc2VydCgoeiA9IHggKyB5KSA+PSB4KTsKICAgIH0KCiAgICBmdW5jdGlvbiBobWludXModWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgewogICAgICAgIGFzc2VydCgoeiA9IHggLSB5KSA8PSB4KTsKICAgIH0KCiAgICBmdW5jdGlvbiBobXVsdGlwbHkodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgewogICAgICAgIHogPSB4ICogeTsKICAgICAgICBhc3NlcnQoeCA9PSAwIHx8IHogLyB4ID09IHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIGhkaXZpZGUodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgewogICAgICAgIHogPSB4IC8geTsKICAgIH0KCiAgICAvLyBCSUcgbWF0aAoKICAgIHVpbnQyNTYgY29uc3RhbnQgQklHID0gMTAgKiogMTg7CgogICAgZnVuY3Rpb24gd3BsdXModWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gaHBsdXMoeCwgeSk7CiAgICB9CgogICAgZnVuY3Rpb24gd21pbnVzKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGhtaW51cyh4LCB5KTsKICAgIH0KCiAgICBmdW5jdGlvbiB3bXVsdGlwbHkodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgewogICAgICAgIHogPSBjYXN0KCh1aW50MjU2KHgpICogeSArIEJJRyAvIDIpIC8gQklHKTsKICAgIH0KCiAgICBmdW5jdGlvbiB3ZGl2aWRlKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICB6ID0gY2FzdCgodWludDI1Nih4KSAqIEJJRyArIHkgLyAyKSAvIHkpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNhc3QodWludDI1NiB4KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICBhc3NlcnQoKHogPSB1aW50MjU2KHgpKSA9PSB4KTsKICAgIH0KfQoKY29udHJhY3QgRVJDMjAgCnsKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludCBfdG90YWxTdXBwbHkpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludCBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50IF92YWx1ZSk7Cn0KCmNvbnRyYWN0IHRva2VuIGlzIG93bmVkLCBFUkMyMAp7Cgl1c2luZyBNYXRoRnVuY3Rpb24gZm9yIHVpbnQyNTY7CgkKCS8vIFB1YmxpYyB2YXJpYWJsZXMKCXN0cmluZyBwdWJsaWMgbmFtZTsKCXN0cmluZyBwdWJsaWMgc3ltYm9sOwoJdWludDggcHVibGljIGRlY2ltYWxzOwoJdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CgkKCW1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGNvbnRydWJ1dGVkQW1vdW50OwoJbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZU9mOwkJCQkJCQkJCQkJCQkvLyBUaGlzIGNyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgYmFsYW5jZXMKCW1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgcHVibGljIGFsbG93YW5jZTsJCQkJCQkJCS8vIENyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGxvd2VkIGFtb3VudCBvZiB0b2tlbnMgZm9yIHNlbmRlcgoJCgltb2RpZmllciBvbmx5Q29udHJpYnV0ZXIKCXsKCQlyZXF1aXJlKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA+IDApOwoJCV87Cgl9CgkKCS8vIEluaXRpYWxpemVzIGNvbnRyYWN0IHdpdGggbmFtZSwgc3ltYm9sLCBkZWNpbWFsIGFuZCB0b3RhbCBzdXBwbHkKCWZ1bmN0aW9uIHRva2VuKCkgCgl7CQkKCQl0b3RhbFN1cHBseSA9IDE2NjAwMDsgIAkJCQkJCQkJCQkJCQkJCQkJCS8vIFVwZGF0ZSB0b3RhbCBzdXBwbHkKCQl0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5Lm11bHRpcGx5KDEwICoqIDE4KTsKCQliYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPSB0b3RhbFN1cHBseTsgICAgICAgICAgICAgIAkJCQkJCQkJCQkJLy8gR2l2ZSB0aGUgY3JlYXRvciBhbGwgaW5pdGlhbCB0b2tlbnMKCQluYW1lID0gIkdsb2JhbCBBY2FkZW15IFBsYWNlIjsgICAgICAgICAgICAgICAJCQkJCQkJCQkJLy8gU2V0IHRoZSBuYW1lIGZvciBkaXNwbGF5IHB1cnBvc2VzCgkJc3ltYm9sID0gIkdBUCI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAJCQkJCQkJCQkJCS8vIFNldCB0aGUgc3ltYm9sIGZvciBkaXNwbGF5IHB1cnBvc2VzCgkJZGVjaW1hbHMgPSAxODsgICAgICAgICAgICAgICAgICAgICAgICAgICAgCQkJCQkJCQkJCQkJCS8vIEFtb3VudCBvZiBkZWNpbWFscyBmb3IgZGlzcGxheSBwdXJwb3NlcwoJfQoJCglmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgCgl7CgkJcmV0dXJuIGJhbGFuY2VPZltfb3duZXJdOwkJCQkJCQkJCQkJCQkJCQkJLy8gR2V0IHRoZSBiYWxhbmNlCgl9CgkKCWZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBfdG90YWxTdXBwbHkpCgl7CgkgICAgcmV0dXJuIHRvdGFsU3VwcGx5OwoJfQogIAoJZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIAoJewoJCXJlcXVpcmUoYmFsYW5jZU9mW21zZy5zZW5kZXJdID49IF92YWx1ZSk7CQkJCQkJCQkJCQkJCS8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaCAgICAKCQlyZXF1aXJlKGJhbGFuY2VPZltfdG9dIDw9IGJhbGFuY2VPZltfdG9dLnBsdXMoX3ZhbHVlKSk7CQkJCQkJCQkJCS8vIENoZWNrIGZvciBvdmVyZmxvd3MKCQkJCQkJCQkKCQliYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPSBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0ubWludXMoX3ZhbHVlKTsgICAgICAgICAgICAgICAgICAgICAJCQkvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIKCQliYWxhbmNlT2ZbX3RvXSA9IGJhbGFuY2VPZltfdG9dLnBsdXMoX3ZhbHVlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgCQkJCQkvLyBBZGQgdGhlIHNhbWUgdG8gdGhlIHJlY2lwaWVudAoJCQoJCVRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsgICAgICAgICAgICAgICAgICAgCQkJCQkJCQkJCS8vIE5vdGlmeSBhbnlvbmUgbGlzdGVuaW5nIHRoYXQgdGhpcyB0cmFuc2ZlciB0b29rIHBsYWNlCgkJcmV0dXJuIHRydWU7Cgl9CgkKCS8vIEEgY29udHJhY3QgYXR0ZW1wdHMgdG8gZ2V0IHRoZSBjb2lucwoJZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQkJCQoJewoJCXJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VPZltfZnJvbV0pOwkJCQkJCQkJCQkJCQkJLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCgkJcmVxdWlyZShiYWxhbmNlT2ZbX3RvXSA8PSBiYWxhbmNlT2ZbX3RvXS5wbHVzKF92YWx1ZSkpOwkJCQkJCQkJCQkvLyBDaGVjayBmb3Igb3ZlcmZsb3dzCgkJcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSk7CQkJCQkJCQkJCQkvLyBDaGVjayBhbGxvd2FuY2UKICAJCQkJCQkJCQkKCQliYWxhbmNlT2ZbX2Zyb21dID0gYmFsYW5jZU9mW19mcm9tXS5taW51cyhfdmFsdWUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgCQkJCS8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgoJCWJhbGFuY2VPZltfdG9dID0gYmFsYW5jZU9mW190b10ucGx1cyhfdmFsdWUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAJCQkJCS8vIEFkZCB0aGUgc2FtZSB0byB0aGUgcmVjaXBpZW50CgkJYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0ubWludXMoX3ZhbHVlKTsJCQkJCS8vIERlY3JlYXNlIHRoZSBhbGxvd2VuY2Ugb2Ygc2VuZGVyCgkJCgkJVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKCQlyZXR1cm4gdHJ1ZTsKCX0KCgkvLyBBbGxvdyBhbm90aGVyIGNvbnRyYWN0IHRvIHNwZW5kIHNvbWUgdG9rZW5zIGluIHlvdXIgYmVoYWxmIAoJZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkJcmV0dXJucyAoYm9vbCBzdWNjZXNzKSAJCQkJCQkKCXsKCQlyZXF1aXJlKChfdmFsdWUgPT0gMCkgfHwgKGFsbG93YW5jZVttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoJCQoJCWFsbG93YW5jZVttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CgkJQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CgkJcmV0dXJuIHRydWU7Cgl9CgkKCS8vIEFwcHJvdmUgYW5kIHRoZW4gY29tbXVuaWNhdGUgdGhlIGFwcHJvdmVkIGNvbnRyYWN0IGluIGEgc2luZ2xlIHR4CglmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSwgYnl0ZXMgX2V4dHJhRGF0YSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSAKCXsgICAgCgkJdG9rZW5SZWNpcGllbnQgc3BlbmRlciA9IHRva2VuUmVjaXBpZW50KF9zcGVuZGVyKTsKCQlpZiAoYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKSkgCgkJewoJCQlzcGVuZGVyLnJlY2VpdmVBcHByb3ZhbChtc2cuc2VuZGVyLCBfdmFsdWUsIHRoaXMsIF9leHRyYURhdGEpOwoJCQlyZXR1cm4gdHJ1ZTsKCQl9Cgl9CQoJCgkvLyBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyCglmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSAKCXsKCQlyZXR1cm4gYWxsb3dhbmNlW19vd25lcl1bX3NwZW5kZXJdOwoJfQp9Cgpjb250cmFjdCBJQ09Ub2tlbiBpcyB0b2tlbgp7CgkvLyBQdWJsaWMgdmFyaWFibGVzCglzdHJpbmcgcHVibGljIGZpcnN0TGV2ZWxQcmljZSA9ICJUb2tlbiAwLjAxMDAgRVRIIHBlciBUb2tlbiI7CglzdHJpbmcgcHVibGljIHNlY29uZExldmVsUHJpY2UgPSAiVG9rZW4gMC4wMTI1IEVUSCBwZXIgVG9rZW4iOwoJc3RyaW5nIHB1YmxpYyB0aGlyZExldmVsUHJpY2UgPSAiVG9rZW4gMC4wMTY2IEVUSCBwZXIgVG9rZW4iOwoJc3RyaW5nIHB1YmxpYyBDYXBMZXZlbFByaWNlID0gIlRva2VuIDAuMDI1MCBFVEggcGVyIFRva2VuIjsKCXVpbnQyNTYgcHVibGljIF9maXJzdExldmVsRXRoOwoJdWludDI1NiBwdWJsaWMgX3NlY29uZExldmVsRXRoOwoJdWludDI1NiBwdWJsaWMgX3RoaXJkTGV2ZWxFdGg7Cgl1aW50MjU2IHB1YmxpYyBfY2FwTGV2ZWxFdGg7Cgl1aW50MjU2IHB1YmxpYyBidXlQcmljZTsKCXVpbnQyNTYgcHVibGljIGZ1bmRpbmdHb2FsOwoJdWludDI1NiBwdWJsaWMgYW1vdW50UmFpc2VkRXRoOyAKCXVpbnQyNTYgcHVibGljIGRlYWRsaW5lOwoJdWludDI1NiBwdWJsaWMgbWF4aW11bUJ1eUJhY2tQcmljZUluQ2VudHM7Cgl1aW50MjU2IHB1YmxpYyBtYXhpbXVtQnV5QmFja0Ftb3VudEluQ2VudHM7Cgl1aW50MjU2IHB1YmxpYyBtYXhpbXVtQnV5QmFja0Ftb3VudEluV0VJOwoJYWRkcmVzcyBwdWJsaWMgYmVuZWZpY2lhcnk7CQoJCgltYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBLaWxsZWRUb2tlbnM7CQkJCQkJCQkJCQkJLy8gVGhpcyBjcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGtpbGxlZCB0b2tlbnMKCQoJLy8gUHJpdmF0ZSB2YXJpYWJsZXMKCXVpbnQyNTYgX2N1cnJlbnRMZXZlbEV0aDsKCXVpbnQyNTYgX2N1cnJlbnRMZXZlbFByaWNlOwoJdWludDI1NiBfbmV4dExldmVsRXRoOwoJdWludDI1NiBfbmV4dExldmVsUHJpY2U7Cgl1aW50MjU2IF9maXJzdExldmVsUHJpY2U7Cgl1aW50MjU2IF9zZWNvbmRMZXZlbFByaWNlOwoJdWludDI1NiBfdGhpcmRMZXZlbFByaWNlOwoJdWludDI1NiBfY2FwTGV2ZWxQcmljZTsKCXVpbnQyNTYgX2N1cnJlbnRTdXBwbHk7Cgl1aW50MjU2IHJlbWFpbmlnOwoJdWludDI1NiBhbW91bnQ7Cgl1aW50MjU2IFRva2Vuc0Ftb3VudDsKCWJvb2wgZnVuZGluZ0dvYWxSZWFjaGVkOwoJYm9vbCBjcm93ZHNhbGVDbG9zZWQ7CgoJZXZlbnQgR29hbFJlYWNoZWQoYWRkcmVzcyBfYmVuZWZpY2lhcnksIHVpbnQgYW1vdW50UmFpc2VkKTsKCQoJbW9kaWZpZXIgYWZ0ZXJEZWFkbGluZSgpIAoJewoJCXJlcXVpcmUoY3Jvd2RzYWxlQ2xvc2VkKTsKCQlfOwoJfQoJIAoJLy8gSW5pdGlhbGl6ZXMgY29udHJhY3QgCgkKCWZ1bmN0aW9uIElDT1Rva2VuKCkgdG9rZW4oKSAKCXsgICAgICAgICAgCgkJYmFsYW5jZU9mW21zZy5zZW5kZXJdID0gdG90YWxTdXBwbHk7ICAgICAgICAgICAgICAJCQkJCQkJCQkJCS8vIEdpdmUgdGhlIGNyZWF0b3IgYWxsIGluaXRpYWwgdG9rZW5zCgkJCgkJYmVuZWZpY2lhcnkgPSBvd25lcjsKCQlmdW5kaW5nR29hbCA9IDE2MDAgZXRoZXI7CQkJCQkJCQkJCQkJCQkJCQkvLyBGdW5kaW5nIEdvYWwgaW4gRXRoCgkJZGVhZGxpbmUgPSAxNTA2NTQ5NjAwOwkJCQkJCQkJCQkJCQkJCQkJCS8vIDU0IDcyMCBtaW51dGVzID0gMzggZGF5cwoJCQoJCWZ1bmRpbmdHb2FsUmVhY2hlZCA9IGZhbHNlOwoJCWNyb3dkc2FsZUNsb3NlZCA9IGZhbHNlOwoJCQkJCQkJCQkJCQkKCQlfZmlyc3RMZXZlbEV0aCA9IDYwMCBldGhlcjsJCQkJCQkJCQkJCgkJX2ZpcnN0TGV2ZWxQcmljZSA9IDEwMDAwMDAwMDAwMDAwMDAwOwkJCQkJCQkJCQkKCQlfc2Vjb25kTGV2ZWxFdGggPSAxMTAwIGV0aGVyOwkJCQkJCQkJCQkKCQlfc2Vjb25kTGV2ZWxQcmljZSA9IDEyNTAwMDAwMDAwMDAwMDAwOwkJCQkJCQkJCQkKCQlfdGhpcmRMZXZlbEV0aCA9IDE2MDAgZXRoZXI7CQkJCQkJCQkJCQoJCV90aGlyZExldmVsUHJpY2UgPSAxNjY2NjY2NjY2NjY2NjY2NjsJCQkJCQkJCQkJCgkJX2NhcExldmVsRXRoID0gMjUwMSBldGhlcjsJCQkJCQkJCQkJCgkJX2NhcExldmVsUHJpY2UgPSAyNTAwMDAwMDAwMDAwMDAwMDsJCQkJCQkJCQkJCgkJCQkJCQkJCQkJCQoJCV9jdXJyZW50TGV2ZWxFdGggPSBfZmlyc3RMZXZlbEV0aDsJCQkJCQkJCQkJCQkJCQkvLyBJbiB0aGUgYmVnZ2luaW5nIHRoZSBjdXJyZW50IGxldmVsIGlzIGZpcnN0IGxldmVsCgkJX2N1cnJlbnRMZXZlbFByaWNlID0gX2ZpcnN0TGV2ZWxQcmljZTsJCQkJCQkJCQkJCQkJCS8vIE5leHQgbGV2ZWwgaXMgdGhlIHNlY29uZCBvbmUgCgkJX25leHRMZXZlbEV0aCA9IF9zZWNvbmRMZXZlbEV0aDsJCQkJCQkJCQkJCQkJCQkKCQlfbmV4dExldmVsUHJpY2UgPSBfc2Vjb25kTGV2ZWxQcmljZTsJCQkJCQkJCQkJCgkJCgkJYW1vdW50UmFpc2VkRXRoID0gMDsKCQltYXhpbXVtQnV5QmFja0Ftb3VudEluV0VJID0gNTAwMDAwMDAwMDAwMDAwMDA7Cgl9CgkKCS8vIENoYW5nZXMgdGhlIGxldmVsIHByaWNlIHdoZW4gdGhlIGN1cnJlbnQgb25lIGlzIHJlYWNoZWQKCS8vIE1ha2VzIHRoZSBjdXJyZW50IHRvIGJlIG5leHQgCgkvLyBBbmQgbmV4dCB0byBiZSB0aGUgZm9sbG93aW5nIG9uZQoJZnVuY3Rpb24gbGV2ZWxDaGFuZ2VyKCkgaW50ZXJuYWwJCQkJCQkKCXsKCQlpZihfbmV4dExldmVsUHJpY2UgPT0gX3NlY29uZExldmVsUHJpY2UpCgkJewoJCQlfY3VycmVudExldmVsRXRoID0gX3NlY29uZExldmVsRXRoOwoJCQlfY3VycmVudExldmVsUHJpY2UgPSBfc2Vjb25kTGV2ZWxQcmljZTsKCQkJX25leHRMZXZlbEV0aCA9IF90aGlyZExldmVsRXRoOwoJCQlfbmV4dExldmVsUHJpY2UgPSBfdGhpcmRMZXZlbFByaWNlOwoJCX0KCQllbHNlIGlmKF9uZXh0TGV2ZWxQcmljZSA9PSBfdGhpcmRMZXZlbFByaWNlKQoJCXsKCQkJX2N1cnJlbnRMZXZlbEV0aCA9IF90aGlyZExldmVsRXRoOwoJCQlfY3VycmVudExldmVsUHJpY2UgPSBfdGhpcmRMZXZlbFByaWNlOwoJCQlfbmV4dExldmVsRXRoID0gX2NhcExldmVsRXRoOwoJCQlfbmV4dExldmVsUHJpY2UgPSBfY2FwTGV2ZWxQcmljZTsKCQl9CgkJZWxzZQoJCXsKCQkJX2N1cnJlbnRMZXZlbEV0aCA9IF9jYXBMZXZlbEV0aDsKCQkJX2N1cnJlbnRMZXZlbFByaWNlID0gX2NhcExldmVsUHJpY2U7CgkJCV9uZXh0TGV2ZWxFdGggPSBfY2FwTGV2ZWxFdGg7CgkJCV9uZXh0TGV2ZWxQcmljZSA9IF9jYXBMZXZlbFByaWNlOwoJCX0KCX0KCQoJLy8gQ2hlY2sgaWYgdGhlIHRva2VucyBhbW91bnQgaXMgYmlnZ2VyIHRoYW4gdG90YWwgc3VwcGx5CglmdW5jdGlvbiBzYWZlQ2hlY2sgKHVpbnQyNTYgX1Rva2Vuc0Ftb3VudCkgaW50ZXJuYWwKCXsKCQlyZXF1aXJlKF9Ub2tlbnNBbW91bnQgPD0gdG90YWxTdXBwbHkpOwoJfQoJCgkvLyBDYWxjdWxhdGVzIHRoZSB0b2tlbnMgYW1vdW50CglmdW5jdGlvbiB0b2tlbnNBbW91bnQoKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IF90b2tlbnNBbW91bnQpIAkJCQoJeyAgIAoJCWFtb3VudFJhaXNlZEV0aCA9IGFtb3VudFJhaXNlZEV0aC53cGx1cyhhbW91bnQpOwoJCXVpbnQyNTYgcmFpc2VkRm9yTmV4dExldmVsID0gYW1vdW50UmFpc2VkRXRoLndtaW51cyhfY3VycmVudExldmVsRXRoKTsKCQlyZW1haW5pZyA9IGFtb3VudC5taW51cyhyYWlzZWRGb3JOZXh0TGV2ZWwpOwoJCVRva2Vuc0Ftb3VudCA9IChyYWlzZWRGb3JOZXh0TGV2ZWwud2RpdmlkZShfbmV4dExldmVsUHJpY2UpKS53cGx1cyhyZW1haW5pZy53ZGl2aWRlKF9jdXJyZW50TGV2ZWxQcmljZSkpOwoJCWJ1eVByaWNlID0gX25leHRMZXZlbFByaWNlOwoJCWxldmVsQ2hhbmdlcigpOwkJCQoJCQoJCXJldHVybiBUb2tlbnNBbW91bnQ7Cgl9CgkKCWZ1bmN0aW9uIG1hbnVhbEJ1eVByaWNlICh1aW50MjU2IF9OZXdQcmljZSkgb25seU93bmVyCgl7CgkJX2N1cnJlbnRMZXZlbFByaWNlID0gX05ld1ByaWNlOwoJCWJ1eVByaWNlID0gX2N1cnJlbnRMZXZlbFByaWNlOwoJfQoJCgkvLyBUaGUgZnVuY3Rpb24gd2l0aG91dCBuYW1lIGlzIHRoZSBkZWZhdWx0IGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW5ldmVyIGFueW9uZSBzZW5kcyBmdW5kcyB0byBhIGNvbnRyYWN0CglmdW5jdGlvbiBidXlUb2tlbnMgKCkgcGF5YWJsZSAgICAgICAgIAkJCQkJCQkJCgl7CgkJYXNzZXJ0KCFjcm93ZHNhbGVDbG9zZWQpOwkJCQkJCQkJCQkJCQkJCQkJLy8gQ2hlY2tzIGlmIHRoZSBjcm93ZHNhbGUgaXMgY2xvc2VkCgkKCQlhbW91bnQgPSBtc2cudmFsdWU7CQkJCQkJCQkJCQkJCQkJCQkJCS8vIEFtb3VudCBpbiBldGhlcgoJCWFzc2VydChhbW91bnRSYWlzZWRFdGgucGx1cyhhbW91bnQpIDw9IF9uZXh0TGV2ZWxFdGgpOwkJCQkJCQkJCQkvLyBDaGVjayBpZiB5b3UgYXJlIGdvaW5nIHRvIGp1bXAgb3ZlciBvbmUgbGV2ZWwgKGUuZy4gZnJvbSBmaXJzdCB0byB0aGlyZCAtIG5vdCBhbGxvd2VkKQkJCQkJCgkJCQkJCQkJCgkJaWYoYW1vdW50UmFpc2VkRXRoLnBsdXMoYW1vdW50KSA+IF9jdXJyZW50TGV2ZWxFdGgpCQkJCQkJCQkJCQkKCQl7CQkJCQkJCQkKCQkJVG9rZW5zQW1vdW50ID0gdG9rZW5zQW1vdW50KCk7CQkJCQkJCQkJCQkJCQkJLy8gVGhlIGN1cnJlbnQgbGV2ZWwgaXMgcGFzc2VkIGFuZCBjYWxjdWxhdGUgbmV3IGJ1eSBwcmljZSBhbmQgY2hhbmdlIGxldmVsCgkJCXNhZmVDaGVjayhUb2tlbnNBbW91bnQpOwkJCQkJCQoJCX0JCQkJCQkKCQllbHNlCQkJCQkJCgkJewkJCQkJCQoJCQlidXlQcmljZSA9IF9jdXJyZW50TGV2ZWxQcmljZTsJCQkJCQkJCQkJCQkJCQkvLyBVc2UgdGhlIGN1cnJlbnQgbGV2ZWwgYnV5IHByaWNlCgkJCVRva2Vuc0Ftb3VudCA9IGFtb3VudC53ZGl2aWRlKGJ1eVByaWNlKTsKCQkJc2FmZUNoZWNrKFRva2Vuc0Ftb3VudCk7CQkJCQkJCgkJCWFtb3VudFJhaXNlZEV0aCA9IGFtb3VudFJhaXNlZEV0aC5wbHVzKGFtb3VudCk7CQkJCQkJCgkJfQkJCQkJCQoJCQkJCQkJCQoJCV9jdXJyZW50U3VwcGx5ID0gX2N1cnJlbnRTdXBwbHkucGx1cyhUb2tlbnNBbW91bnQpOwoJCWNvbnRydWJ1dGVkQW1vdW50W21zZy5zZW5kZXJdID0gY29udHJ1YnV0ZWRBbW91bnRbbXNnLnNlbmRlcl0ucGx1cyhtc2cudmFsdWUpOwkJCgkJYmFsYW5jZU9mW3RoaXNdID0gYmFsYW5jZU9mW3RoaXNdLm1pbnVzKFRva2Vuc0Ftb3VudCk7CQkJCQkJCgkJYmFsYW5jZU9mW21zZy5zZW5kZXJdID0gYmFsYW5jZU9mW21zZy5zZW5kZXJdLnBsdXMoVG9rZW5zQW1vdW50KTsgICAgICAgICAgICAgICAgICAgCQkvLyBBZGRzIHRva2VucyBhbW91bnQgdG8gYnV5ZXIncyBiYWxhbmNlCgkJVHJhbnNmZXIodGhpcywgbXNnLnNlbmRlciwgVG9rZW5zQW1vdW50KTsgICAgICAgICAgICAgICAgCQkJCQkJCQkJLy8gRXhlY3V0ZSBhbiBldmVudCByZWZsZWN0aW5nIHRoZSBjaGFuZ2UJCQkJCQoJCXJldHVybjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgIAkJCQkJCQkJLy8gRW5kcyBmdW5jdGlvbiBhbmQgcmV0dXJucwoJfQkJCQkJCQoJZnVuY3Rpb24gKCkgcGF5YWJsZSAgIAoJewoJCWJ1eVRva2VucygpOwoJfQoJLy8gQ2hlY2tzIGlmIHRoZSBnb2FsIG9yIHRpbWUgbGltaXQgaGFzIGJlZW4gcmVhY2hlZCBhbmQgZW5kcyB0aGUgY2FtcGFpZ24gCglmdW5jdGlvbiBDbG9zZUNyb3dkU2FsZSh1aW50MjU2IF9tYXhpbXVtQnV5QmFja0Ftb3VudEluQ2VudHMpIGludGVybmFsIAkJCQkJCQkJCgl7CgkJaWYgKGFtb3VudFJhaXNlZEV0aCA+PSBmdW5kaW5nR29hbCkKCQl7CgkJCWZ1bmRpbmdHb2FsUmVhY2hlZCA9IHRydWU7CQkJCQkJCQkJCQkJCQkJCS8vIENoZWNrcyBpZiB0aGUgZnVuZGluZyBnb2FsIGlzIHJlYWNoZWQKCQkJR29hbFJlYWNoZWQoYmVuZWZpY2lhcnksIGFtb3VudFJhaXNlZEV0aCk7CgkJfQoJCWNyb3dkc2FsZUNsb3NlZCA9IHRydWU7CQkJCQkJCQkJCQkJCQkJCQkJLy8gQ2xvc2UgdGhlIGNyb3dkc2FsZQoJCW1heGltdW1CdXlCYWNrUHJpY2VJbkNlbnRzID0gX21heGltdW1CdXlCYWNrQW1vdW50SW5DZW50czsgICAgICAgICAgICAJCQkJCQkvLyBDYWxjdWxhdGVzIHRoZSBtYXhpbXVtIGJ1eSBiYWNrIHByaWNlCgkJdG90YWxTdXBwbHkgPSBfY3VycmVudFN1cHBseTsKCQliYWxhbmNlT2ZbdGhpc10gPSAwOwoJCW1heGltdW1CdXlCYWNrQW1vdW50SW5DZW50cyA9IG1heGltdW1CdXlCYWNrUHJpY2VJbkNlbnRzLm11bHRpcGx5KHRvdGFsU3VwcGx5KTsJCQkJLy8gQ2FsY3VsYXRlcyB0aGUgbWF4IGJ1eSBiYWNrIGFtb3VudCBpbiBjZW50cwoJCW1heGltdW1CdXlCYWNrQW1vdW50SW5XRUkgPSBtYXhpbXVtQnV5QmFja0Ftb3VudEluV0VJLm11bHRpcGx5KHRvdGFsU3VwcGx5KTsKCX0KfQoKY29udHJhY3QgR0FQIGlzIElDT1Rva2VuCnsJCgkvLyBQdWJsaWMgdmFyaWFibGVzCglzdHJpbmcgcHVibGljIG1heGltdW1CdXlCYWNrID0gIlRva2VuIDAuMDUgRVRIIHBlciBUb2tlbiI7CQkJCQkJCQkJCS8vIE1heCBwcmljZSBpbiBFVEggZm9yIGJ1eSBiYWNrCgl1aW50MjU2IHB1YmxpYyBLaWxsZWRUaWxsTm93OwoJdWludDI1NiBwdWJsaWMgc2VsbFByaWNlOwoJdWludDI1NiBwdWJsaWMgbXVzdFRvU2VsbENvdXJzZXM7Cgl1aW50IHB1YmxpYyBkZXBvc2l0c1RpbGxOb3c7Cgl1aW50IHB1YmxpYyBhY3R1YWxQcmljZUluQ2VudHM7CglhZGRyZXNzIHB1YmxpYyBLaWxsZXI7CQoJCglldmVudCBGdW5kVHJhbnNmZXIoYWRkcmVzcyBiYWNrZXIsIHVpbnQgYW1vdW50LCBib29sIGlzQ29udHJpYnV0aW9uKTsKCQoJZnVuY3Rpb24gR0FQKCkgSUNPVG9rZW4oKQoJewoJCUtpbGxlciA9IDA7CgkJS2lsbGVkVGlsbE5vdyA9IDA7CgkJc2VsbFByaWNlID0gMDsKCQltdXN0VG9TZWxsQ291cnNlcyA9IDA7CgkJZGVwb3NpdHNUaWxsTm93ID0gMDsKCX0KCQoJLy8gVGhlIGNvbnRyaWJ1dGVycyBjYW4gY2hlY2sgdGhlIGFjdHVhbCBwcmljZSBpbiB3ZWkgYmVmb3JlIHNlbGxpbmcgCglmdW5jdGlvbiBjaGVja0FjdHVhbFByaWNlKCkgcmV0dXJucyAodWludDI1NiBfc2VsbFByaWNlKQoJewoJCXJldHVybiBzZWxsUHJpY2U7Cgl9CgkJCQkKCS8vIEVuZCB0aGUgY3Jvd2RzYWxlIGFuZCBzdGFydCBidXlpbmcgYmFjawkJCQoJLy8gT25seSBvd25lciBjYW4gZXhlY3V0ZSB0aGlzIGZ1bmN0aW9uCQkJCglmdW5jdGlvbiBCdXlCYWNrU3RhcnQodWludDI1NiBhY3R1YWxTZWxsUHJpY2VJbldlaSwgdWludDI1NiBfbXVzdFRvU2VsbENvdXJzZXMsIHVpbnQyNTYgbWF4QnV5QmFja1ByaWNlQ2VudHMpIG9ubHlPd25lcgkJCQoJewkJCQkJCQkJCQkJCQkJCQkJCgkJQ2xvc2VDcm93ZFNhbGUobWF4QnV5QmFja1ByaWNlQ2VudHMpOwkJCQkJCQkJCQkJCQkJCQoJCXNlbGxQcmljZSA9IGFjdHVhbFNlbGxQcmljZUluV2VpOwoJCW11c3RUb1NlbGxDb3Vyc2VzID0gX211c3RUb1NlbGxDb3Vyc2VzOwoJfQkJCQoJCglmdW5jdGlvbiBkZXBvc2l0ICh1aW50IF9kZXBvc2l0cywgdWludDI1NiBhY3R1YWxTZWxsUHJpY2VJbldlaSwgdWludCBfYWN0dWFsUHJpY2VJbkNlbnRzKSBvbmx5T3duZXIgcGF5YWJsZQkJCQkJCQkJCQkJCQoJewoJCWFzc2VydChfZGVwb3NpdHMgPCAxMDApOwkJCQkJCQkJCQkJCQkJCQkJLy8gQ2hlY2sgaWYgdGhlIGRlcG9zaXRzIGFyZSBsZXNzIHRoYW4gMTAJCgkJZGVwb3NpdHNUaWxsTm93ID0gZGVwb3NpdHNUaWxsTm93LnBsdXMoX2RlcG9zaXRzKTsgICAgICAgICAgCQkJCQkJCQkvLyBJbmNyZWFzZSB0aGUgZGVwb3NpdCBjb3VudGVyCgkJYXNzZXJ0KG11c3RUb1NlbGxDb3Vyc2VzID4gMCk7CgkJaWYobXVzdFRvU2VsbENvdXJzZXMgPCBfZGVwb3NpdHMpCgkJewoJCQlfZGVwb3NpdHMgPSBtdXN0VG9TZWxsQ291cnNlczsJCQoJCX0KCQltdXN0VG9TZWxsQ291cnNlcyA9IG11c3RUb1NlbGxDb3Vyc2VzLm1pbnVzKF9kZXBvc2l0cyk7CQkJCQkJCQkJCS8vIENhbGN1bGF0ZSB0aGUgcmVtYWluaW5nIGFtb3VudCBvZiBjb3Vyc2VzIHRvIHNlbGwJCQkJCQoJCXNlbGxQcmljZSA9IGFjdHVhbFNlbGxQcmljZUluV2VpOwoJCWFjdHVhbFByaWNlSW5DZW50cyA9IF9hY3R1YWxQcmljZUluQ2VudHM7Cgl9CQoJCQkJCglmdW5jdGlvbiBzZWxsKHVpbnQyNTYgYW1vdW50KSBvbmx5Q29udHJpYnV0ZXIgcmV0dXJucyAodWludDI1NiByZXZlbnVlKQkJCQoJewkKCSAgICByZXF1aXJlKHRoaXMuYmFsYW5jZSA+PSBhbW91bnQgKiBzZWxsUHJpY2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGVja3MgaWYgdGhlIGNvbnRyYWN0IGhhcyBlbm91Z2ggZXRoZXIgdG8gYnV5CgkJcmV2ZW51ZSA9IGFtb3VudC5tdWx0aXBseShzZWxsUHJpY2UpOwkJCQkJCQkJCQkJCQkJLy8gVGhlIHJldmVudWUgeW91IHJlY2VpdmUgd2hlbiB5b3Ugc2VsbCB5b3VyIHRva2VucwoJCWFtb3VudCA9IGFtb3VudC5tdWx0aXBseSgxMCAqKiAxOCk7CgkJYmFsYW5jZU9mW21zZy5zZW5kZXJdID0gYmFsYW5jZU9mW21zZy5zZW5kZXJdLm1pbnVzKGFtb3VudCk7ICAgICAgICAgICAgICAgICAgIAkJCQkvLyBTdWJ0cmFjdHMgdGhlIGFtb3VudCBmcm9tIHNlbGxlcidzIGJhbGFuY2UKCQliYWxhbmNlT2ZbS2lsbGVyXSA9IGJhbGFuY2VPZltLaWxsZXJdLnBsdXMoYW1vdW50KTsgICAgICAgICAgICAgICAgICAgICAgICAgCQkJCS8vIEFkZHMgdGhlIGFtb3VudCB0byBvd25lcidzIGJhbGFuY2UKCQlLaWxsZWRUb2tlbnNbbXNnLnNlbmRlcl0gPSBLaWxsZWRUb2tlbnNbbXNnLnNlbmRlcl0ucGx1cyhhbW91bnQpOwkJCQkJCQkvLyBDYWxjdWxhdGVzIHRoZSBraWxsZWQgdG9rZW5zIG9mIHRoZSBjb250aWJ1dGVyCgkJS2lsbGVkVGlsbE5vdyA9IEtpbGxlZFRpbGxOb3cucGx1cyhhbW91bnQpOwkJCQkJCQkJCQkJCQkvLyBDYWxjdWxhdGVzIGFsbCB0aGUga2lsbGVkIHRva2VucyB1bnRpbCBub3cKCQkJCgkJbXNnLnNlbmRlci50cmFuc2ZlcihyZXZlbnVlKTsJCQkJCQkJCQkJCQkJCQkvLyBTZW5kcyBldGhlciB0byB0aGUgc2VsbGVyOiBpdCdzIGltcG9ydGFudCAvLyBUbyBkbyB0aGlzIGxhc3QgdG8gcHJldmVudCByZWN1cnNpb24gYXR0YWNrcwoJCQoJCVRyYW5zZmVyKG1zZy5zZW5kZXIsIEtpbGxlciwgYW1vdW50KTsgICAgICAgICAgICAgCQkJCQkJCQkJCQkvLyBFeGVjdXRlcyBhbiBldmVudCByZWZsZWN0aW5nIG9uIHRoZSBjaGFuZ2UKCQlyZXR1cm4gcmV2ZW51ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAJCQkJCQkJCQkJCS8vIEVuZHMgZnVuY3Rpb24gYW5kIHJldHVybnMgdGhlIHJldmVudWUJCgl9CgkKCWZ1bmN0aW9uIG93bmVyV2l0aGRyYXdhbCh1aW50MjU2IGFtb3VudEluV2VpLCBhZGRyZXNzIF90bykgb25seU93bmVyCgl7CQkJCQkJCgkJdWludDI1NiBfdmFsdWUgPSBhbW91bnRJbldlaTsJCQkJCQkKCQlfdG8udHJhbnNmZXIoX3ZhbHVlKTsJCQkJCQkKCX0KCQoJZnVuY3Rpb24gc2FmZVdpdGhkcmF3YWwoKSBhZnRlckRlYWRsaW5lIAkJCQoJewkJCQoJCWlmICghZnVuZGluZ0dvYWxSZWFjaGVkKSAJCQkKCQl7CQkJCgkJCXVpbnQyNTYgdG9rZW5zQW1vdW50ID0gYmFsYW5jZU9mW21zZy5zZW5kZXJdOwoJCQl1aW50MjU2IGFtb3VudEZvclJldHVybiA9IGNvbnRydWJ1dGVkQW1vdW50W21zZy5zZW5kZXJdOwoJCQliYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPSAwOwoJCQlLaWxsZWRUaWxsTm93ID0gS2lsbGVkVGlsbE5vdy5wbHVzKHRva2Vuc0Ftb3VudCk7CgkJCUtpbGxlZFRva2Vuc1ttc2cuc2VuZGVyXSA9IEtpbGxlZFRva2Vuc1ttc2cuc2VuZGVyXS5wbHVzKHRva2Vuc0Ftb3VudCk7CgkJCXJlcXVpcmUodG9rZW5zQW1vdW50ID4gMCk7CgkJCWNvbnRydWJ1dGVkQW1vdW50W21zZy5zZW5kZXJdID0gY29udHJ1YnV0ZWRBbW91bnRbbXNnLnNlbmRlcl0ubWludXMoYW1vdW50Rm9yUmV0dXJuKTsKICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihhbW91bnRGb3JSZXR1cm4pOwoJCX0KCQkKCQlpZihmdW5kaW5nR29hbFJlYWNoZWQgJiYgYmVuZWZpY2lhcnkgPT0gbXNnLnNlbmRlcikKCQl7CgkJCXJlcXVpcmUoZnVuZGluZ0dvYWxSZWFjaGVkICYmIGJlbmVmaWNpYXJ5ID09IG1zZy5zZW5kZXIpOwoJCQliZW5lZmljaWFyeS50cmFuc2ZlcihhbW91bnRSYWlzZWRFdGgpOyAKCQl9Cgl9Cn0='.
	

]
