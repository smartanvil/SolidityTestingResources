Class {
	#name : #SRT44F588aEeB8C44471439D1270B3603c66a9262F1,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT44F588aEeB8C44471439D1270B3603c66a9262F1 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7Cgpjb250cmFjdCBUb2tlbiB7CgogICAgLy8vIEByZXR1cm4gdG90YWwgYW1vdW50IG9mIHRva2VucwogICAgLy8gZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCBzdXBwbHkpOwogICAgLy8gYHRvdGFsU3VwcGx5YCBpcyBkZWZpbmVkIGJlbG93IGJlY2F1c2UgdGhlIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkCiAgICAvLyBnZXR0ZXIgZnVuY3Rpb24gZG9lcyBub3QgbWF0Y2ggdGhlIGFic3RyYWN0IGZ1bmN0aW9uIGFib3ZlCiAgICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICAvLy8gQHJldHVybiBUaGUgYmFsYW5jZQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCk7CgogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYAogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX2FkZHJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2Ygd2VpIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2ZlcgogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgLy8vIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudAogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCByZW1haW5pbmcpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludCBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50IF92YWx1ZSk7Cgp9Cgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIFRva2VuIHsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmICAgICAgICAgIC8vIEFjY291bnQgaGFzIHN1ZmZpY2llbnQgYmFsYW5jZQogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID49IGJhbGFuY2VzW190b10pIHsgLy8gT3ZlcmZsb3cgY2hlY2sKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgeyB0aHJvdzsgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiAgICAgICAgICAgICAgICAvLyBBY2NvdW50IGhhcyBzdWZmaWNpZW50IGJhbGFuY2UKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmICAgICAvLyBBbW91bnQgaGFzIGJlZW4gYXBwcm92ZWQKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+PSBiYWxhbmNlc1tfdG9dKSB7ICAvLyBPdmVyZmxvdyBjaGVjawogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgeyB0aHJvdzsgfQogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAgICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAgICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICAgICAgcmVxdWlyZSgoX3ZhbHVlID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CgogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIGFsbG93ZWQ7Cn0KCi8vIEJhc2VkIG9uIFRva2VuRmFjdG9yeShodHRwczovL2dpdGh1Yi5jb20vQ29uc2VuU3lzL1Rva2VuLUZhY3RvcnkpCgpjb250cmFjdCBTbmlwQ29pbiBpcyBTdGFuZGFyZFRva2VuIHsKCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiU25pcENvaW4iOyAgICAgICAgIC8vIFRva2VuIG5hbWUKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIlNOSVAiOyAgICAgICAgICAgICAgICAgICAgLy8gVG9rZW4gaWRlbnRpZmllcgogICAgdWludDggcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7ICAgICAgICAgICAgICAvLyBEZWNpbWFsIHBvaW50cyBmb3IgdG9rZW4KICAgIHVpbnQgcHVibGljIHRvdGFsRXRoUmVjZWl2ZWRJbldlaTsgICAgICAgICAgICAgICAgLy8gVGhlIHRvdGFsIGFtb3VudCBvZiBFdGhlciByZWNlaXZlZCBkdXJpbmcgdGhlIHNhbGUgaW4gV0VJCiAgICB1aW50IHB1YmxpYyB0b3RhbFVzZFJlY2VpdmVkOyAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSB0b3RhbCBhbW91bnQgb2YgRXRoZXIgcmVjZWl2ZWQgZHVyaW5nIHRoZSBzYWxlIGluIFVTRCB0ZXJtcwogICAgdWludCBwdWJsaWMgdG90YWxVc2RWYWx1ZU9mQWxsVG9rZW5zOyAgICAgICAgICAgICAvLyBUaGUgdG90YWwgVVNEIHZhbHVlIG9mIDEwMCUgb2YgdG9rZW5zCiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAiMS4wIjsgICAgICAgICAgICAgICAgICAgIC8vIENvZGUgdmVyc2lvbgogICAgYWRkcmVzcyBwdWJsaWMgc2FsZVdhbGxldEFkZHJlc3M7ICAgICAgICAgICAgICAgICAvLyBUaGUgd2FsbGV0IGFkZHJlc3Mgd2hlcmUgdGhlIEV0aGVyIGZyb20gdGhlIHNhbGUgd2lsbCBiZSBzdG9yZWQKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyB1bmNhcHBlZEJ1eWVyTGlzdDsgICAgICAvLyBUaGUgbGlzdCBvZiBidXllcnMgYWxsb3dlZCB0byBwYXJ0aWNpcGF0ZSBpbiB0aGUgc2FsZSB3aXRob3V0IGEgY2FwCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBjYXBwZWRCdXllckxpc3Q7ICAgICAgICAvLyBUaGUgbGlzdCBvZiBidXllcnMgYWxsb3dlZCB0byBwYXJ0aWNpcGF0ZSBpbiB0aGUgc2FsZSwgd2l0aCB0aGVpciB1cGRhdGVkIHBheW1lbnQgc3VtCgogICAgdWludCBwdWJsaWMgc25pcENvaW5Ub0V0aGVyRXhjaGFuZ2VSYXRlID0gNzYyNTA7IC8vIFRoaXMgaXMgdGhlIHJhdGlvIG9mIFNuaXBDb2luIHRvIEV0aGVyLCBjb3VsZCBiZSB1cGRhdGVkIGJ5IHRoZSBvd25lciwgY2hhbmdlIGJlZm9yZSB0aGUgc2FsZQogICAgYm9vbCBwdWJsaWMgaXNTYWxlT3BlbiA9IGZhbHNlOyAgICAgICAgICAgICAgICAgICAvLyBUaGlzIG9wZW5zIGFuZCBjbG9zZXMgdXBvbiBleHRlcm5hbCBjb21tYW5kCiAgICBib29sIHB1YmxpYyB0cmFuc2ZlcmFibGUgPSBmYWxzZTsgICAgICAgICAgICAgICAgIC8vIFRva2VucyBhcmUgdHJhbnNmZXJhYmxlCgogICAgdWludCBwdWJsaWMgZXRoVG9Vc2RFeGNoYW5nZVJhdGUgPSAyODI7ICAgICAgICAgICAvLyBOdW1iZXIgb2YgVVNEIGluIG9uZSBFdGgKCiAgICBhZGRyZXNzIHB1YmxpYyBjb250cmFjdE93bmVyOyAgICAgICAgICAgICAgICAgICAgIC8vIEFkZHJlc3Mgb2YgdGhlIGNvbnRyYWN0IG93bmVyCiAgICAvLyBBZGRyZXNzIG9mIGFuIGFkZGl0aW9uYWwgYWNjb3VudCB0byBtYW5hZ2UgdGhlIHNhbGUgd2l0aG91dCByaXNrIHRvIHRoZSB0b2tlbnMgb3IgZXRoLiBDaGFuZ2UgYmVmb3JlIHRoZSBzYWxlCiAgICBhZGRyZXNzIHB1YmxpYyBhY2NvdW50V2l0aFVwZGF0ZVBlcm1pc3Npb25zID0gMHg2OTMzNzg0YTgyRjVkYURFYkI2MDBCZWQ4NjcwNjY3ODM3YUQxOTZmOwoKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IFBFUkNFTlRBR0VfT0ZfVE9LRU5TX1NPTERfSU5fU0FMRSA9IDI4OyAgICAgLy8gUGVyY2VudGFnZSBvZiBhbGwgdGhlIHRva2VucyBiZWluZyBzb2xkIGluIHRoZSBjdXJyZW50IHNhbGUKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IERFQ0lNQUxTX01VTFRJUExJRVIgPSAxMCoqdWludChkZWNpbWFscyk7ICAgLy8gTXVsdGlwbGllciBmb3IgdGhlIGRlY2ltYWxzCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBTQUxFX0NBUF9JTl9VU0QgPSA4MDAwMDAwOyAgICAgICAgICAgICAgICAgIC8vIFRoZSB0b3RhbCBzYWxlIGNhcCBpbiBVU0QKICAgIHVpbnQgcHVibGljIGNvbnN0YW50IE1JTklNVU1fUFVSQ0hBU0VfSU5fVVNEID0gNTA7ICAgICAgICAgICAgICAgLy8gSXQgaXMgaW1wb3NzaWJsZSB0byBwdXJjaGFzZSB0b2tlbnMgZm9yIG1vcmUgdGhhbiAkNTAgaW4gdGhlIHNhbGUuCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBVU0RfUFVSQ0hBU0VfQU1PVU5UX1JFUVVJUklOR19JRCA9IDQ1MDA7ICAgIC8vIEFib3ZlIHRoaXMgcHVyY2hhc2UgYW1vdW50IGFuIElEIGlzIHJlcXVpcmVkLgoKICAgIG1vZGlmaWVyIG9ubHlQZXJtaXNzaW9uZWQoKSB7CiAgICAgICAgcmVxdWlyZSgobXNnLnNlbmRlciA9PSBjb250cmFjdE93bmVyKSB8fCAobXNnLnNlbmRlciA9PSBhY2NvdW50V2l0aFVwZGF0ZVBlcm1pc3Npb25zKSk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciB2ZXJpZnlTYWxlTm90T3ZlcigpIHsKICAgICAgICByZXF1aXJlKGlzU2FsZU9wZW4pOwogICAgICAgIHJlcXVpcmUodG90YWxVc2RSZWNlaXZlZCA8IFNBTEVfQ0FQX0lOX1VTRCk7IC8vIE1ha2Ugc3VyZSB0aGF0IHNhbGUgaXNuJ3Qgb3ZlcgogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgdmVyaWZ5QnV5ZXJDYW5NYWtlUHVyY2hhc2UoKSB7CiAgICAgICAgdWludCBjdXJyZW50UHVyY2hhc2VWYWx1ZUluVVNEID0gdWludChtc2cudmFsdWUgLyBnZXRXZWlUb1VzZEV4Y2hhbmdlUmF0ZSgpKTsgLy8gVGhlIFVTRCB3b3J0aCBvZiB0b2tlbnMgc29sZAogICAgICAgIHVpbnQgdG90YWxQdXJjaGFzZUluY2x1ZGluZ0N1cnJlbnRQYXltZW50ID0gY3VycmVudFB1cmNoYXNlVmFsdWVJblVTRCArICBjYXBwZWRCdXllckxpc3RbbXNnLnNlbmRlcl07IC8vIFRoZSBVU0Qgd29ydGggb2YgYWxsIHRva2VucyB0aGlzIGJ1eWVyIGJvdWdodAoKICAgICAgICByZXF1aXJlKGN1cnJlbnRQdXJjaGFzZVZhbHVlSW5VU0QgPiBNSU5JTVVNX1BVUkNIQVNFX0lOX1VTRCk7IC8vIE1pbmltdW0gdHJhbnNmZXIgaXMgb2YgJDUwCgogICAgICAgIHVpbnQgRUZGRUNUSVZFX01BWF9DQVAgPSBTQUxFX0NBUF9JTl9VU0QgKyAxMDAwOyAgLy8gVGhpcyBhbGxvd3MgZm9yIHRoZSBlbmQgb2YgdGhlIHNhbGUgYnkgcGFzc2luZyAkOE0gYW5kIHJlYWNoaW5nIHRoZSBjYXAKICAgICAgICByZXF1aXJlKEVGRkVDVElWRV9NQVhfQ0FQIC0gdG90YWxVc2RSZWNlaXZlZCA+IGN1cnJlbnRQdXJjaGFzZVZhbHVlSW5VU0QpOyAvLyBNYWtlIHN1cmUgdGhhdCB0aGVyZSBpcyBlbm91Z2ggdXNkIGxlZnQgdG8gYnV5LgoKICAgICAgICBpZiAoIXVuY2FwcGVkQnV5ZXJMaXN0W21zZy5zZW5kZXJdKSAvLyBJZiBidXllciBpcyBvbiB1bmNhcHBlZCB3aGl0ZSBsaXN0IHRoZW4gbm8gd29ycmllcywgZWxzZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZXkncmUgb2theQogICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZShjYXBwZWRCdXllckxpc3RbbXNnLnNlbmRlcl0gPiAwKTsgLy8gQ2hlY2sgdGhhdCB0aGUgc2VuZGVyIGhhcyBiZWVuIGluaXRpYWxpemVkLgogICAgICAgICAgICByZXF1aXJlKHRvdGFsUHVyY2hhc2VJbmNsdWRpbmdDdXJyZW50UGF5bWVudCA8IFVTRF9QVVJDSEFTRV9BTU9VTlRfUkVRVUlSSU5HX0lEKTsgLy8gQ2hlY2sgdGhhdCB0aGV5J3JlIG5vdCBidXlpbmcgdG9vIG11Y2gKICAgICAgICB9CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBTbmlwQ29pbigpIHB1YmxpYyB7CiAgICAgICAgaW5pdGlhbGl6ZVNhbGVXYWxsZXRBZGRyZXNzKCk7CiAgICAgICAgaW5pdGlhbGl6ZUV0aFJlY2VpdmVkKCk7CiAgICAgICAgaW5pdGlhbGl6ZVVzZFJlY2VpdmVkKCk7CgogICAgICAgIGNvbnRyYWN0T3duZXIgPSBtc2cuc2VuZGVyOyAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY3JlYXRvciBvZiB0aGUgY29udHJhY3QgaXMgaXRzIG93bmVyCiAgICAgICAgdG90YWxTdXBwbHkgPSAxMDAwMDAwMDAwMCAqIERFQ0lNQUxTX01VTFRJUExJRVI7IC8vIEluIHRvdGFsLCAxMCBiaWxsaW9uIHRva2VucwogICAgICAgIGJhbGFuY2VzW2NvbnRyYWN0T3duZXJdID0gdG90YWxTdXBwbHk7ICAgICAgICAgICAvLyBJbml0aWFsbHkgZ2l2ZSBvd25lciBhbGwgb2YgdGhlIHRva2VucyAKICAgICAgICBUcmFuc2ZlcigweDAsIGNvbnRyYWN0T3duZXIsIHRvdGFsU3VwcGx5KTsKICAgIH0KCiAgICBmdW5jdGlvbiBpbml0aWFsaXplU2FsZVdhbGxldEFkZHJlc3MoKSBpbnRlcm5hbCB7CiAgICAgICAgc2FsZVdhbGxldEFkZHJlc3MgPSAweGI0QWQ1NkU1NjRhQWI1NDA5ZmU4ZTM0NjM3YzMzQTZkM0YyYTAwMzg7IC8vIENoYW5nZSBiZWZvcmUgdGhlIHNhbGUKICAgIH0KCiAgICBmdW5jdGlvbiBpbml0aWFsaXplRXRoUmVjZWl2ZWQoKSBpbnRlcm5hbCB7CiAgICAgICAgdG90YWxFdGhSZWNlaXZlZEluV2VpID0gMTQwMTggKiAxIGV0aGVyOyAvLyBFdGhlciByZWNlaXZlZCBiZWZvcmUgcHVibGljIHNhbGUuIFZlcmlmeSB0aGlzIGZpZ3VyZSBiZWZvcmUgdGhlIHNhbGUgc3RhcnRzLgogICAgfQoKICAgIGZ1bmN0aW9uIGluaXRpYWxpemVVc2RSZWNlaXZlZCgpIGludGVybmFsIHsKICAgICAgICB0b3RhbFVzZFJlY2VpdmVkID0gMzk1MzA3NjsgLy8gVVNEIHJlY2VpdmVkIGJlZm9yZSBwdWJsaWMgc2FsZS4gVmVyaWZ5IHRoaXMgZmlndXJlIGJlZm9yZSB0aGUgc2FsZSBzdGFydHMuCiAgICAgICAgdG90YWxVc2RWYWx1ZU9mQWxsVG9rZW5zID0gdG90YWxVc2RSZWNlaXZlZCAqIDEwMCAvIFBFUkNFTlRBR0VfT0ZfVE9LRU5TX1NPTERfSU5fU0FMRTsgLy8gc29sZCB0b2tlbnMgYXJlIDI4JSBvZiBhbGwgdG9rZW5zCiAgICB9CgogICAgZnVuY3Rpb24gZ2V0V2VpVG9Vc2RFeGNoYW5nZVJhdGUoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICAgICAgcmV0dXJuIDEgZXRoZXIgLyBldGhUb1VzZEV4Y2hhbmdlUmF0ZTsgLy8gUmV0dXJucyBob3cgbXVjaCBXZWkgb25lIFVTRCBpcyB3b3J0aAogICAgfQoKICAgIGZ1bmN0aW9uIHVwZGF0ZUV0aFRvVXNkRXhjaGFuZ2VSYXRlKHVpbnQgbmV3RXRoVG9Vc2RFeGNoYW5nZVJhdGUpIHB1YmxpYyBvbmx5UGVybWlzc2lvbmVkIHsKICAgICAgICBldGhUb1VzZEV4Y2hhbmdlUmF0ZSA9IG5ld0V0aFRvVXNkRXhjaGFuZ2VSYXRlOyAvLyBDaGFuZ2UgZXhjaGFuZ2UgcmF0ZSB0byBuZXcgdmFsdWUsIGluZmx1ZW5jZXMgdGhlIGNvdW50ZXIgb2Ygd2hlbiB0aGUgc2FsZSBpcyBvdmVyLgogICAgfQoKICAgIGZ1bmN0aW9uIHVwZGF0ZVNuaXBDb2luVG9FdGhlckV4Y2hhbmdlUmF0ZSh1aW50IG5ld1NuaXBDb2luVG9FdGhlckV4Y2hhbmdlUmF0ZSkgcHVibGljIG9ubHlQZXJtaXNzaW9uZWQgewogICAgICAgIHNuaXBDb2luVG9FdGhlckV4Y2hhbmdlUmF0ZSA9IG5ld1NuaXBDb2luVG9FdGhlckV4Y2hhbmdlUmF0ZTsgLy8gQ2hhbmdlIHRoZSBleGNoYW5nZSByYXRlIHRvIG5ldyB2YWx1ZSwgaW5mbHVlbmNlcyB0b2tlbnMgcmVjZWl2ZWQgcGVyIHB1cmNoYXNlCiAgICB9CgogICAgZnVuY3Rpb24gb3Blbk9yQ2xvc2VTYWxlKGJvb2wgc2FsZUNvbmRpdGlvbikgcHVibGljIG9ubHlQZXJtaXNzaW9uZWQgewogICAgICAgIHJlcXVpcmUoIXRyYW5zZmVyYWJsZSk7CiAgICAgICAgaXNTYWxlT3BlbiA9IHNhbGVDb25kaXRpb247IC8vIERlY2lkZSBpZiB0aGUgc2FsZSBzaG91bGQgYmUgb3BlbiBvciBjbG9zZWQgKGRlZmF1bHQ6IGNsb3NlZCkKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd1RyYW5zZmVycygpIHB1YmxpYyBvbmx5UGVybWlzc2lvbmVkIHsKICAgICAgICByZXF1aXJlKCFpc1NhbGVPcGVuKTsKICAgICAgICB0cmFuc2ZlcmFibGUgPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZEFkZHJlc3NUb0NhcHBlZEFkZHJlc3NlcyhhZGRyZXNzIGFkZHIpIHB1YmxpYyBvbmx5UGVybWlzc2lvbmVkIHsKICAgICAgICBjYXBwZWRCdXllckxpc3RbYWRkcl0gPSAxOyAvLyBBbGxvdyBhIGNlcnRhaW4gYWRkcmVzcyB0byBwdXJjaGFzZSBTbmlwQ29pbiB1cCB0byB0aGUgY2FwICg8NDUwMCkKICAgIH0KCiAgICBmdW5jdGlvbiBhZGRNdWx0aXBsZUFkZHJlc3Nlc1RvQ2FwcGVkQWRkcmVzc2VzKGFkZHJlc3NbXSBhZGRyTGlzdCkgcHVibGljIG9ubHlQZXJtaXNzaW9uZWQgewogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IGFkZHJMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGFkZEFkZHJlc3NUb0NhcHBlZEFkZHJlc3NlcyhhZGRyTGlzdFtpXSk7IC8vIEFsbG93IGEgY2VydGFpbiBhZGRyZXNzIHRvIHB1cmNoYXNlIFNuaXBDb2luIHVwIHRvIHRoZSBjYXAgKDw0NTAwKQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBhZGRBZGRyZXNzVG9VbmNhcHBlZEFkZHJlc3NlcyhhZGRyZXNzIGFkZHIpIHB1YmxpYyBvbmx5UGVybWlzc2lvbmVkIHsKICAgICAgICB1bmNhcHBlZEJ1eWVyTGlzdFthZGRyXSA9IHRydWU7IC8vIEFsbG93IGEgY2VydGFpbiBhZGRyZXNzIHRvIHB1cmNoYXNlIFNuaXBDb2luIGFib3ZlIHRoZSBjYXAgKD49JDQ1MDApCiAgICB9CgogICAgZnVuY3Rpb24gYWRkTXVsdGlwbGVBZGRyZXNzZXNUb1VuY2FwcGVkQWRkcmVzc2VzKGFkZHJlc3NbXSBhZGRyTGlzdCkgcHVibGljIG9ubHlQZXJtaXNzaW9uZWQgewogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IGFkZHJMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGFkZEFkZHJlc3NUb1VuY2FwcGVkQWRkcmVzc2VzKGFkZHJMaXN0W2ldKTsgLy8gQWxsb3cgYSBjZXJ0YWluIGFkZHJlc3MgdG8gcHVyY2hhc2UgU25pcENvaW4gdXAgdG8gdGhlIGNhcCAoPDQ1MDApCiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUodHJhbnNmZXJhYmxlKTsKICAgICAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKHRyYW5zZmVyYWJsZSk7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHZlcmlmeVNhbGVOb3RPdmVyIHZlcmlmeUJ1eWVyQ2FuTWFrZVB1cmNoYXNlIHsKICAgICAgICB1aW50IHRva2VucyA9IHNuaXBDb2luVG9FdGhlckV4Y2hhbmdlUmF0ZSAqIG1zZy52YWx1ZTsKICAgICAgICBiYWxhbmNlc1tjb250cmFjdE93bmVyXSAtPSB0b2tlbnM7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gdG9rZW5zOwogICAgICAgIFRyYW5zZmVyKGNvbnRyYWN0T3duZXIsIG1zZy5zZW5kZXIsIHRva2Vucyk7CgogICAgICAgIHRvdGFsRXRoUmVjZWl2ZWRJbldlaSA9IHRvdGFsRXRoUmVjZWl2ZWRJbldlaSArIG1zZy52YWx1ZTsgLy8gdG90YWwgZXRoIHJlY2VpdmVkIGNvdW50ZXIKICAgICAgICB1aW50IHVzZFJlY2VpdmVkSW5DdXJyZW50VHJhbnNhY3Rpb24gPSB1aW50KG1zZy52YWx1ZSAvIGdldFdlaVRvVXNkRXhjaGFuZ2VSYXRlKCkpOwogICAgICAgIHRvdGFsVXNkUmVjZWl2ZWQgPSB0b3RhbFVzZFJlY2VpdmVkICsgdXNkUmVjZWl2ZWRJbkN1cnJlbnRUcmFuc2FjdGlvbjsgLy8gdG90YWwgdXNkIHJlY2VpdmVkIGNvdW50ZXIKICAgICAgICB0b3RhbFVzZFZhbHVlT2ZBbGxUb2tlbnMgPSB0b3RhbFVzZFJlY2VpdmVkICogMTAwIC8gUEVSQ0VOVEFHRV9PRl9UT0tFTlNfU09MRF9JTl9TQUxFOyAvLyBzb2xkIHRva2VucyBhcmUgMjglIG9mIGFsbCB0b2tlbnMKCiAgICAgICAgaWYgKGNhcHBlZEJ1eWVyTGlzdFttc2cuc2VuZGVyXSA+IDApCiAgICAgICAgewogICAgICAgICAgICBjYXBwZWRCdXllckxpc3RbbXNnLnNlbmRlcl0gPSBjYXBwZWRCdXllckxpc3RbbXNnLnNlbmRlcl0gKyB1c2RSZWNlaXZlZEluQ3VycmVudFRyYW5zYWN0aW9uOwogICAgICAgIH0KCiAgICAgICAgc2FsZVdhbGxldEFkZHJlc3MudHJhbnNmZXIobXNnLnZhbHVlKTsgLy8gVHJhbnNmZXIgZXRoZXIgdG8gc2FmZSBzYWxlIGFkZHJlc3MKICAgIH0KfQ=='.
	

]
