Class {
	#name : #SRT2282a327a9293895cacbce617b194e6031d6ffa4,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT2282a327a9293895cacbce617b194e6031d6ffa4 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKgogICAgSnVzdENvaW4KKi8KCmNvbnRyYWN0IEp1c3RDb2luIHsKCgkvLyBzY2FsZUZhY3RvciBpcyB1c2VkIHRvIGNvbnZlcnQgRXRoZXIgaW50byB0b2tlbnMgYW5kIHZpY2UtdmVyc2E6IHRoZXkncmUgb2YgZGlmZmVyZW50CgkvLyBvcmRlcnMgb2YgbWFnbml0dWRlLCBoZW5jZSB0aGUgbmVlZCB0byBicmlkZ2UgYmV0d2VlbiB0aGUgdHdvLgoJdWludDI1NiBjb25zdGFudCBzY2FsZUZhY3RvciA9IDB4MTAwMDAwMDAwMDAwMDAwMDA7ICAvLyAyXjY0CgoJLy8gQ1JSID0gNTAlCgkvLyBDUlIgaXMgQ2FzaCBSZXNlcnZlIFJhdGlvIChpbiB0aGlzIGNhc2UgQ3J5cHRvIFJlc2VydmUgUmF0aW8pLgoJLy8gRm9yIG1vcmUgb24gdGhpczogY2hlY2sgb3V0IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1Jlc2VydmVfcmVxdWlyZW1lbnQKCWludCBjb25zdGFudCBjcnJfbiA9IDE7IC8vIENSUiBudW1lcmF0b3IKCWludCBjb25zdGFudCBjcnJfZCA9IDI7IC8vIENSUiBkZW5vbWluYXRvcgoKCS8vIFRoZSBwcmljZSBjb2VmZmljaWVudC4gQ2hvc2VuIHN1Y2ggdGhhdCBhdCAxIHRva2VuIHRvdGFsIHN1cHBseQoJLy8gdGhlIGFtb3VudCBpbiByZXNlcnZlIGlzIDAuNSBldGhlciBhbmQgdG9rZW4gcHJpY2UgaXMgMSBFdGhlci4KCWludCBjb25zdGFudCBwcmljZV9jb2VmZiA9IC0weDI5NkFCRjc4NEEzNTg0NjhDOwoKCS8vIFR5cGljYWwgdmFsdWVzIHRoYXQgd2UgaGF2ZSB0byBkZWNsYXJlLgoJc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBuYW1lID0gIkp1c3RDb2luIjsKCXN0cmluZyBjb25zdGFudCBwdWJsaWMgc3ltYm9sID0gIkVQWSI7Cgl1aW50OCBjb25zdGFudCBwdWJsaWMgZGVjaW1hbHMgPSAxODsKCgkvLyBBcnJheSBiZXR3ZWVuIGVhY2ggYWRkcmVzcyBhbmQgdGhlaXIgbnVtYmVyIG9mIHRva2Vucy4KCW1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgdG9rZW5CYWxhbmNlOwoJCQoJLy8gQXJyYXkgYmV0d2VlbiBlYWNoIGFkZHJlc3MgYW5kIGhvdyBtdWNoIEV0aGVyIGhhcyBiZWVuIHBhaWQgb3V0IHRvIGl0LgoJLy8gTm90ZSB0aGF0IHRoaXMgaXMgc2NhbGVkIGJ5IHRoZSBzY2FsZUZhY3RvciB2YXJpYWJsZS4KCW1hcHBpbmcoYWRkcmVzcyA9PiBpbnQyNTYpIHB1YmxpYyBwYXlvdXRzOwoKCS8vIFZhcmlhYmxlIHRyYWNraW5nIGhvdyBtYW55IHRva2VucyBhcmUgaW4gZXhpc3RlbmNlIG92ZXJhbGwuCgl1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCgkvLyBBZ2dyZWdhdGUgc3VtIG9mIGFsbCBwYXlvdXRzLgoJLy8gTm90ZSB0aGF0IHRoaXMgaXMgc2NhbGVkIGJ5IHRoZSBzY2FsZUZhY3RvciB2YXJpYWJsZS4KCWludDI1NiB0b3RhbFBheW91dHM7CgoJLy8gVmFyaWFibGUgdHJhY2tpbmcgaG93IG11Y2ggRXRoZXIgZWFjaCB0b2tlbiBpcyBjdXJyZW50bHkgd29ydGguCgkvLyBOb3RlIHRoYXQgdGhpcyBpcyBzY2FsZWQgYnkgdGhlIHNjYWxlRmFjdG9yIHZhcmlhYmxlLgoJdWludDI1NiBlYXJuaW5nc1BlclRva2VuOwoJCgkvLyBDdXJyZW50IGNvbnRyYWN0IGJhbGFuY2UgaW4gRXRoZXIKCXVpbnQyNTYgcHVibGljIGNvbnRyYWN0QmFsYW5jZTsKCQoJYWRkcmVzcyBvd25lcjsKCglmdW5jdGlvbiBKdXN0Q29pbigpIHB1YmxpYyB7IG93bmVyPW1zZy5zZW5kZXI7IH0KCgkvLyBUaGUgZm9sbG93aW5nIGZ1bmN0aW9ucyBhcmUgdXNlZCBieSB0aGUgZnJvbnQtZW5kIGZvciBkaXNwbGF5IHB1cnBvc2VzLgoKCS8vIFJldHVybnMgdGhlIG51bWJlciBvZiB0b2tlbnMgY3VycmVudGx5IGhlbGQgYnkgX293bmVyLgoJZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CgkJcmV0dXJuIHRva2VuQmFsYW5jZVtfb3duZXJdOwoJfQoKCS8vIFdpdGhkcmF3cyBhbGwgZGl2aWRlbmRzIGhlbGQgYnkgdGhlIGNhbGxlciBzZW5kaW5nIHRoZSB0cmFuc2FjdGlvbiwgdXBkYXRlcwoJLy8gdGhlIHJlcXVpc2l0ZSBnbG9iYWwgdmFyaWFibGVzLCBhbmQgdHJhbnNmZXJzIEV0aGVyIGJhY2sgdG8gdGhlIGNhbGxlci4KCWZ1bmN0aW9uIHdpdGhkcmF3KCkgcHVibGljIHsKCQkvLyBSZXRyaWV2ZSB0aGUgZGl2aWRlbmRzIGFzc29jaWF0ZWQgd2l0aCB0aGUgYWRkcmVzcyB0aGUgcmVxdWVzdCBjYW1lIGZyb20uCgkJdmFyIGJhbGFuY2UgPSBkaXZpZGVuZHMobXNnLnNlbmRlcik7CgkJCgkJLy8gVXBkYXRlIHRoZSBwYXlvdXRzIGFycmF5LCBpbmNyZW1lbnRpbmcgdGhlIHJlcXVlc3QgYWRkcmVzcyBieSBgYmFsYW5jZWAuCgkJcGF5b3V0c1ttc2cuc2VuZGVyXSArPSAoaW50MjU2KSAoYmFsYW5jZSAqIHNjYWxlRmFjdG9yKTsKCQkKCQkvLyBJbmNyZWFzZSB0aGUgdG90YWwgYW1vdW50IHRoYXQncyBiZWVuIHBhaWQgb3V0IHRvIG1haW50YWluIGludmFyaWFuY2UuCgkJdG90YWxQYXlvdXRzICs9IChpbnQyNTYpIChiYWxhbmNlICogc2NhbGVGYWN0b3IpOwoJCQoJCS8vIFNlbmQgdGhlIGRpdmlkZW5kcyB0byB0aGUgYWRkcmVzcyB0aGF0IHJlcXVlc3RlZCB0aGUgd2l0aGRyYXcuCgkJY29udHJhY3RCYWxhbmNlID0gc3ViKGNvbnRyYWN0QmFsYW5jZSwgYmFsYW5jZSk7CgkJb3duZXIudHJhbnNmZXIoYmFsYW5jZSk7Cgl9CgoJLy8gQ29udmVydHMgdGhlIEV0aGVyIGFjY3J1ZWQgYXMgZGl2aWRlbmRzIGJhY2sgaW50byBFUFkgdG9rZW5zIHdpdGhvdXQgaGF2aW5nIHRvCgkvLyB3aXRoZHJhdyBpdCBmaXJzdC4gU2F2ZXMgb24gZ2FzIGFuZCBwb3RlbnRpYWwgcHJpY2Ugc3Bpa2UgbG9zcy4KCWZ1bmN0aW9uIHJlaW52ZXN0RGl2aWRlbmRzKCkgcHVibGljIHsKCQkvLyBSZXRyaWV2ZSB0aGUgZGl2aWRlbmRzIGFzc29jaWF0ZWQgd2l0aCB0aGUgYWRkcmVzcyB0aGUgcmVxdWVzdCBjYW1lIGZyb20uCgkJdmFyIGJhbGFuY2UgPSBkaXZpZGVuZHMobXNnLnNlbmRlcik7CgkJCgkJLy8gVXBkYXRlIHRoZSBwYXlvdXRzIGFycmF5LCBpbmNyZW1lbnRpbmcgdGhlIHJlcXVlc3QgYWRkcmVzcyBieSBgYmFsYW5jZWAuCgkJLy8gU2luY2UgdGhpcyBpcyBlc3NlbnRpYWxseSBhIHNob3J0Y3V0IHRvIHdpdGhkcmF3aW5nIGFuZCByZWludmVzdGluZywgdGhpcyBzdGVwIHN0aWxsIGhvbGRzLgoJCXBheW91dHNbbXNnLnNlbmRlcl0gKz0gKGludDI1NikgKGJhbGFuY2UgKiBzY2FsZUZhY3Rvcik7CgkJCgkJLy8gSW5jcmVhc2UgdGhlIHRvdGFsIGFtb3VudCB0aGF0J3MgYmVlbiBwYWlkIG91dCB0byBtYWludGFpbiBpbnZhcmlhbmNlLgoJCXRvdGFsUGF5b3V0cyArPSAoaW50MjU2KSAoYmFsYW5jZSAqIHNjYWxlRmFjdG9yKTsKCQkKCQkvLyBBc3NpZ24gYmFsYW5jZSB0byBhIG5ldyB2YXJpYWJsZS4KCQl1aW50IHZhbHVlXyA9ICh1aW50KSAoYmFsYW5jZSk7CgkJCgkJLy8gSWYgeW91ciBkaXZpZGVuZHMgYXJlIHdvcnRoIGxlc3MgdGhhbiAxIHN6YWJvLCBvciBtb3JlIHRoYW4gYSBtaWxsaW9uIEV0aGVyCgkJLy8gKGluIHdoaWNoIGNhc2UsIHdoeSBhcmUgeW91IGV2ZW4gaGVyZSksIGFib3J0LgoJCWlmICh2YWx1ZV8gPCAwLjAwMDAwMSBldGhlciB8fCB2YWx1ZV8gPiAxMDAwMDAwIGV0aGVyKQoJCQlyZXZlcnQoKTsKCQkJCgkJLy8gbXNnLnNlbmRlciBpcyB0aGUgYWRkcmVzcyBvZiB0aGUgY2FsbGVyLgoJCXZhciBzZW5kZXIgPSBtc2cuc2VuZGVyOwoJCQoJCS8vIEEgdGVtcG9yYXJ5IHJlc2VydmUgdmFyaWFibGUgdXNlZCBmb3IgY2FsY3VsYXRpbmcgdGhlIHJld2FyZCB0aGUgaG9sZGVyIGdldHMgZm9yIGJ1eWluZyB0b2tlbnMuCgkJLy8gKFllcywgdGhlIGJ1eWVyIHJlY2VpdmVzIGEgcGFydCBvZiB0aGUgZGlzdHJpYnV0aW9uIGFzIHdlbGwhKQoJCXZhciByZXMgPSByZXNlcnZlKCkgLSBiYWxhbmNlOwoKCQkvLyAxMCUgb2YgdGhlIHRvdGFsIEV0aGVyIHNlbnQgaXMgdXNlZCB0byBwYXkgZXhpc3RpbmcgaG9sZGVycy4KCQl2YXIgZmVlID0gZGl2KHZhbHVlXywgMTApOwoJCQoJCS8vIFRoZSBhbW91bnQgb2YgRXRoZXIgdXNlZCB0byBwdXJjaGFzZSBuZXcgdG9rZW5zIGZvciB0aGUgY2FsbGVyLgoJCXZhciBudW1FdGhlciA9IHZhbHVlXyAtIGZlZTsKCQkKCQkvLyBUaGUgbnVtYmVyIG9mIHRva2VucyB3aGljaCBjYW4gYmUgcHVyY2hhc2VkIGZvciBudW1FdGhlci4KCQl2YXIgbnVtVG9rZW5zID0gY2FsY3VsYXRlRGl2aWRlbmRUb2tlbnMobnVtRXRoZXIsIGJhbGFuY2UpOwoJCQoJCS8vIFRoZSBidXllciBmZWUsIHNjYWxlZCBieSB0aGUgc2NhbGVGYWN0b3IgdmFyaWFibGUuCgkJdmFyIGJ1eWVyRmVlID0gZmVlICogc2NhbGVGYWN0b3I7CgkJCgkJLy8gQ2hlY2sgdGhhdCB3ZSBoYXZlIHRva2VucyBpbiBleGlzdGVuY2UgKHRoaXMgc2hvdWxkIGFsd2F5cyBiZSB0cnVlKSwgb3IKCQkvLyBlbHNlIHlvdSdyZSBnb25uYSBoYXZlIGEgYmFkIHRpbWUuCgkJaWYgKHRvdGFsU3VwcGx5ID4gMCkgewoJCQkvLyBDb21wdXRlIHRoZSBib251cyBjby1lZmZpY2llbnQgZm9yIGFsbCBleGlzdGluZyBob2xkZXJzIGFuZCB0aGUgYnV5ZXIuCgkJCS8vIFRoZSBidXllciByZWNlaXZlcyBwYXJ0IG9mIHRoZSBkaXN0cmlidXRpb24gZm9yIGVhY2ggdG9rZW4gYm91Z2h0IGluIHRoZQoJCQkvLyBzYW1lIHdheSB0aGV5IHdvdWxkIGhhdmUgaWYgdGhleSBib3VnaHQgZWFjaCB0b2tlbiBpbmRpdmlkdWFsbHkuCgkJCXZhciBib251c0NvRWZmID0KCQkJICAgIChzY2FsZUZhY3RvciAtIChyZXMgKyBudW1FdGhlcikgKiBudW1Ub2tlbnMgKiBzY2FsZUZhY3RvciAvICh0b3RhbFN1cHBseSArIG51bVRva2VucykgLyBudW1FdGhlcikKCQkJICAgICogKHVpbnQpKGNycl9kKSAvICh1aW50KShjcnJfZC1jcnJfbik7CgkJCQkKCQkJLy8gVGhlIHRvdGFsIHJld2FyZCB0byBiZSBkaXN0cmlidXRlZCBhbW9uZ3N0IHRoZSBtYXNzZXMgaXMgdGhlIGZlZSAoaW4gRXRoZXIpCgkJCS8vIG11bHRpcGxpZWQgYnkgdGhlIGJvbnVzIGNvLWVmZmljaWVudC4KCQkJdmFyIGhvbGRlclJld2FyZCA9IGZlZSAqIGJvbnVzQ29FZmY7CgkJCQoJCQlidXllckZlZSAtPSBob2xkZXJSZXdhcmQ7CgoJCQkvLyBGZWUgaXMgZGlzdHJpYnV0ZWQgdG8gYWxsIGV4aXN0aW5nIHRva2VuIGhvbGRlcnMgYmVmb3JlIHRoZSBuZXcgdG9rZW5zIGFyZSBwdXJjaGFzZWQuCgkJCS8vIHJld2FyZFBlclNoYXJlIGlzIHRoZSBhbW91bnQgZ2FpbmVkIHBlciB0b2tlbiB0aGFua3MgdG8gdGhpcyBidXktaW4uCgkJCXZhciByZXdhcmRQZXJTaGFyZSA9IGhvbGRlclJld2FyZCAvIHRvdGFsU3VwcGx5OwoJCQkKCQkJLy8gVGhlIEV0aGVyIHZhbHVlIHBlciB0b2tlbiBpcyBpbmNyZWFzZWQgcHJvcG9ydGlvbmFsbHkuCgkJCWVhcm5pbmdzUGVyVG9rZW4gKz0gcmV3YXJkUGVyU2hhcmU7CgkJfQoJCQoJCS8vIEFkZCB0aGUgbnVtVG9rZW5zIHdoaWNoIHdlcmUganVzdCBjcmVhdGVkIHRvIHRoZSB0b3RhbCBzdXBwbHkuIFdlJ3JlIGEgY3J5cHRvIGNlbnRyYWwgYmFuayEKCQl0b3RhbFN1cHBseSA9IGFkZCh0b3RhbFN1cHBseSwgbnVtVG9rZW5zKTsKCQkKCQkvLyBBc3NpZ24gdGhlIHRva2VucyB0byB0aGUgYmFsYW5jZSBvZiB0aGUgYnV5ZXIuCgkJdG9rZW5CYWxhbmNlW3NlbmRlcl0gPSBhZGQodG9rZW5CYWxhbmNlW3NlbmRlcl0sIG51bVRva2Vucyk7CgkJCgkJLy8gVXBkYXRlIHRoZSBwYXlvdXQgYXJyYXkgc28gdGhhdCB0aGUgYnV5ZXIgY2Fubm90IGNsYWltIGRpdmlkZW5kcyBvbiBwcmV2aW91cyBwdXJjaGFzZXMuCgkJLy8gQWxzbyBpbmNsdWRlIHRoZSBmZWUgcGFpZCBmb3IgZW50ZXJpbmcgdGhlIHNjaGVtZS4KCQkvLyBGaXJzdCB3ZSBjb21wdXRlIGhvdyBtdWNoIHdhcyBqdXN0IHBhaWQgb3V0IHRvIHRoZSBidXllci4uLgoJCXZhciBwYXlvdXREaWZmICA9IChpbnQyNTYpICgoZWFybmluZ3NQZXJUb2tlbiAqIG51bVRva2VucykgLSBidXllckZlZSk7CgkJCgkJLy8gVGhlbiB3ZSB1cGRhdGUgdGhlIHBheW91dHMgYXJyYXkgZm9yIHRoZSBidXllciB3aXRoIHRoaXMgYW1vdW50Li4uCgkJcGF5b3V0c1tzZW5kZXJdICs9IHBheW91dERpZmY7CgkJCgkJLy8gQW5kIHRoZW4gd2UgZmluYWxseSBhZGQgaXQgdG8gdGhlIHZhcmlhYmxlIHRyYWNraW5nIHRoZSB0b3RhbCBhbW91bnQgc3BlbnQgdG8gbWFpbnRhaW4gaW52YXJpYW5jZS4KCQl0b3RhbFBheW91dHMgICAgKz0gcGF5b3V0RGlmZjsKCQkKCX0KCgkvLyBTZWxscyB5b3VyIHRva2VucyBmb3IgRXRoZXIuIFRoaXMgRXRoZXIgaXMgYXNzaWduZWQgdG8gdGhlIGNhbGxlcnMgZW50cnkKCS8vIGluIHRoZSB0b2tlbkJhbGFuY2UgYXJyYXksIGFuZCB0aGVyZWZvcmUgaXMgc2hvd24gYXMgYSBkaXZpZGVuZC4gQSBzZWNvbmQKCS8vIGNhbGwgdG8gd2l0aGRyYXcoKSBtdXN0IGJlIG1hZGUgdG8gaW52b2tlIHRoZSB0cmFuc2ZlciBvZiBFdGhlciBiYWNrIHRvIHlvdXIgYWRkcmVzcy4KCWZ1bmN0aW9uIHNlbGxNeVRva2VucygpIHB1YmxpYyB7CgkJdmFyIGJhbGFuY2UgPSBiYWxhbmNlT2YobXNnLnNlbmRlcik7CgkJc2VsbChiYWxhbmNlKTsKCX0KCgkvLyBUaGUgc2xhbS10aGUtYnV0dG9uIGVzY2FwZSBoYXRjaC4gU2VsbHMgdGhlIGNhbGxlcnMgdG9rZW5zIGZvciBFdGhlciwgdGhlbiBpbW1lZGlhdGVseQoJLy8gaW52b2tlcyB0aGUgd2l0aGRyYXcoKSBmdW5jdGlvbiwgc2VuZGluZyB0aGUgcmVzdWx0aW5nIEV0aGVyIHRvIHRoZSBjYWxsZXJzIGFkZHJlc3MuCiAgICBmdW5jdGlvbiBnZXRNZU91dE9mSGVyZSgpIHB1YmxpYyB7CgkJc2VsbE15VG9rZW5zKCk7CiAgICAgICAgd2l0aGRyYXcoKTsKCX0KCgkvLyBHYXRla2VlcGVyIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBhbW91bnQgb2YgRXRoZXIgYmVpbmcgc2VudCBpc24ndCBlaXRoZXIKCS8vIHRvbyBzbWFsbCBvciB0b28gbGFyZ2UuIElmIGl0IHBhc3NlcywgZ29lcyBkaXJlY3QgdG8gYnV5KCkuCglmdW5jdGlvbiBmdW5kKCkgcGF5YWJsZSBwdWJsaWMgewoJCS8vIERvbid0IGFsbG93IGZvciBmdW5kaW5nIGlmIHRoZSBhbW91bnQgb2YgRXRoZXIgc2VudCBpcyBsZXNzIHRoYW4gMSBzemFiby4KCQlpZiAobXNnLnZhbHVlID4gMC4wMDAwMDEgZXRoZXIpIHsKCQkgICAgY29udHJhY3RCYWxhbmNlID0gYWRkKGNvbnRyYWN0QmFsYW5jZSwgbXNnLnZhbHVlKTsKCQkJYnV5KCk7CgkJfSBlbHNlIHsKCQkJcmV2ZXJ0KCk7CgkJfQogICAgfQoKCS8vIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgKGR5bmFtaWMpIHByaWNlIG9mIGJ1eWluZyBhIGZpbm5leSB3b3J0aCBvZiB0b2tlbnMuCglmdW5jdGlvbiBidXlQcmljZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CgkJcmV0dXJuIGdldFRva2Vuc0ZvckV0aGVyKDEgZmlubmV5KTsKCX0KCgkvLyBGdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIChkeW5hbWljKSBwcmljZSBvZiBzZWxsaW5nIGEgc2luZ2xlIHRva2VuLgoJZnVuY3Rpb24gc2VsbFByaWNlKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICB2YXIgZXRoID0gZ2V0RXRoZXJGb3JUb2tlbnMoMSBmaW5uZXkpOwogICAgICAgIHZhciBmZWUgPSBkaXYoZXRoLCAxMCk7CiAgICAgICAgcmV0dXJuIGV0aCAtIGZlZTsKICAgIH0KCgkvLyBDYWxjdWxhdGUgdGhlIGN1cnJlbnQgZGl2aWRlbmRzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY2FsbGVyIGFkZHJlc3MuIFRoaXMgaXMgdGhlIG5ldCByZXN1bHQKCS8vIG9mIG11bHRpcGx5aW5nIHRoZSBudW1iZXIgb2YgdG9rZW5zIGhlbGQgYnkgdGhlaXIgY3VycmVudCB2YWx1ZSBpbiBFdGhlciBhbmQgc3VidHJhY3RpbmcgdGhlCgkvLyBFdGhlciB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gcGFpZCBvdXQuCglmdW5jdGlvbiBkaXZpZGVuZHMoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGFtb3VudCkgewoJCXJldHVybiAodWludDI1NikgKChpbnQyNTYpKGVhcm5pbmdzUGVyVG9rZW4gKiB0b2tlbkJhbGFuY2VbX293bmVyXSkgLSBwYXlvdXRzW19vd25lcl0pIC8gc2NhbGVGYWN0b3I7Cgl9CgoJLy8gVmVyc2lvbiBvZiB3aXRoZHJhdyB0aGF0IGV4dHJhY3RzIHRoZSBkaXZpZGVuZHMgYW5kIHNlbmRzIHRoZSBFdGhlciB0byB0aGUgY2FsbGVyLgoJLy8gVGhpcyBpcyBvbmx5IHVzZWQgaW4gdGhlIGNhc2Ugd2hlbiB0aGVyZSBpcyBubyB0cmFuc2FjdGlvbiBkYXRhLCBhbmQgdGhhdCBzaG91bGQgYmUKCS8vIHF1aXRlIHJhcmUgdW5sZXNzIGludGVyYWN0aW5nIGRpcmVjdGx5IHdpdGggdGhlIHNtYXJ0IGNvbnRyYWN0LgoJZnVuY3Rpb24gd2l0aGRyYXdPbGQoYWRkcmVzcyB0bykgcHVibGljIHsKCQkvLyBSZXRyaWV2ZSB0aGUgZGl2aWRlbmRzIGFzc29jaWF0ZWQgd2l0aCB0aGUgYWRkcmVzcyB0aGUgcmVxdWVzdCBjYW1lIGZyb20uCgkJdmFyIGJhbGFuY2UgPSBkaXZpZGVuZHMobXNnLnNlbmRlcik7CgkJCgkJLy8gVXBkYXRlIHRoZSBwYXlvdXRzIGFycmF5LCBpbmNyZW1lbnRpbmcgdGhlIHJlcXVlc3QgYWRkcmVzcyBieSBgYmFsYW5jZWAuCgkJcGF5b3V0c1ttc2cuc2VuZGVyXSArPSAoaW50MjU2KSAoYmFsYW5jZSAqIHNjYWxlRmFjdG9yKTsKCQkKCQkvLyBJbmNyZWFzZSB0aGUgdG90YWwgYW1vdW50IHRoYXQncyBiZWVuIHBhaWQgb3V0IHRvIG1haW50YWluIGludmFyaWFuY2UuCgkJdG90YWxQYXlvdXRzICs9IChpbnQyNTYpIChiYWxhbmNlICogc2NhbGVGYWN0b3IpOwoJCQoJCS8vIFNlbmQgdGhlIGRpdmlkZW5kcyB0byB0aGUgYWRkcmVzcyB0aGF0IHJlcXVlc3RlZCB0aGUgd2l0aGRyYXcuCgkJY29udHJhY3RCYWxhbmNlID0gc3ViKGNvbnRyYWN0QmFsYW5jZSwgYmFsYW5jZSk7CgkJb3duZXIudHJhbnNmZXIoYmFsYW5jZSk7CQkKCX0KCgkvLyBJbnRlcm5hbCBiYWxhbmNlIGZ1bmN0aW9uLCB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgZHluYW1pYyByZXNlcnZlIHZhbHVlLgoJZnVuY3Rpb24gYmFsYW5jZSgpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYW1vdW50KSB7CgkJLy8gbXNnLnZhbHVlIGlzIHRoZSBhbW91bnQgb2YgRXRoZXIgc2VudCBieSB0aGUgdHJhbnNhY3Rpb24uCgkJcmV0dXJuIGNvbnRyYWN0QmFsYW5jZSAtIG1zZy52YWx1ZTsKCX0KCglmdW5jdGlvbiBidXkoKSBpbnRlcm5hbCB7CgkJLy8gQW55IHRyYW5zYWN0aW9uIG9mIGxlc3MgdGhhbiAxIHN6YWJvIGlzIGxpa2VseSB0byBiZSB3b3J0aCBsZXNzIHRoYW4gdGhlIGdhcyB1c2VkIHRvIHNlbmQgaXQuCgkJaWYgKG1zZy52YWx1ZSA8IDAuMDAwMDAxIGV0aGVyIHx8IG1zZy52YWx1ZSA+IDEwMDAwMDAgZXRoZXIpCgkJCXJldmVydCgpOwoJCQkJCQkKCQkvLyBtc2cuc2VuZGVyIGlzIHRoZSBhZGRyZXNzIG9mIHRoZSBjYWxsZXIuCgkJdmFyIHNlbmRlciA9IG1zZy5zZW5kZXI7CgkJCgkJLy8gMTAlIG9mIHRoZSB0b3RhbCBFdGhlciBzZW50IGlzIHVzZWQgdG8gcGF5IGV4aXN0aW5nIGhvbGRlcnMuCgkJdmFyIGZlZSA9IGRpdihtc2cudmFsdWUsIDEwKTsKCQkKCQkvLyBUaGUgYW1vdW50IG9mIEV0aGVyIHVzZWQgdG8gcHVyY2hhc2UgbmV3IHRva2VucyBmb3IgdGhlIGNhbGxlci4KCQl2YXIgbnVtRXRoZXIgPSBtc2cudmFsdWUgLSBmZWU7CgkJCgkJLy8gVGhlIG51bWJlciBvZiB0b2tlbnMgd2hpY2ggY2FuIGJlIHB1cmNoYXNlZCBmb3IgbnVtRXRoZXIuCgkJdmFyIG51bVRva2VucyA9IGdldFRva2Vuc0ZvckV0aGVyKG51bUV0aGVyKTsKCQkKCQkvLyBUaGUgYnV5ZXIgZmVlLCBzY2FsZWQgYnkgdGhlIHNjYWxlRmFjdG9yIHZhcmlhYmxlLgoJCXZhciBidXllckZlZSA9IGZlZSAqIHNjYWxlRmFjdG9yOwoJCQoJCS8vIENoZWNrIHRoYXQgd2UgaGF2ZSB0b2tlbnMgaW4gZXhpc3RlbmNlICh0aGlzIHNob3VsZCBhbHdheXMgYmUgdHJ1ZSksIG9yCgkJLy8gZWxzZSB5b3UncmUgZ29ubmEgaGF2ZSBhIGJhZCB0aW1lLgoJCWlmICh0b3RhbFN1cHBseSA+IDApIHsKCQkJLy8gQ29tcHV0ZSB0aGUgYm9udXMgY28tZWZmaWNpZW50IGZvciBhbGwgZXhpc3RpbmcgaG9sZGVycyBhbmQgdGhlIGJ1eWVyLgoJCQkvLyBUaGUgYnV5ZXIgcmVjZWl2ZXMgcGFydCBvZiB0aGUgZGlzdHJpYnV0aW9uIGZvciBlYWNoIHRva2VuIGJvdWdodCBpbiB0aGUKCQkJLy8gc2FtZSB3YXkgdGhleSB3b3VsZCBoYXZlIGlmIHRoZXkgYm91Z2h0IGVhY2ggdG9rZW4gaW5kaXZpZHVhbGx5LgoJCQl2YXIgYm9udXNDb0VmZiA9CgkJCSAgICAoc2NhbGVGYWN0b3IgLSAocmVzZXJ2ZSgpICsgbnVtRXRoZXIpICogbnVtVG9rZW5zICogc2NhbGVGYWN0b3IgLyAodG90YWxTdXBwbHkgKyBudW1Ub2tlbnMpIC8gbnVtRXRoZXIpCgkJCSAgICAqICh1aW50KShjcnJfZCkgLyAodWludCkoY3JyX2QtY3JyX24pOwoJCQkJCgkJCS8vIFRoZSB0b3RhbCByZXdhcmQgdG8gYmUgZGlzdHJpYnV0ZWQgYW1vbmdzdCB0aGUgbWFzc2VzIGlzIHRoZSBmZWUgKGluIEV0aGVyKQoJCQkvLyBtdWx0aXBsaWVkIGJ5IHRoZSBib251cyBjby1lZmZpY2llbnQuCgkJCXZhciBob2xkZXJSZXdhcmQgPSBmZWUgKiBib251c0NvRWZmOwoJCQkKCQkJYnV5ZXJGZWUgLT0gaG9sZGVyUmV3YXJkOwoKCQkJLy8gRmVlIGlzIGRpc3RyaWJ1dGVkIHRvIGFsbCBleGlzdGluZyB0b2tlbiBob2xkZXJzIGJlZm9yZSB0aGUgbmV3IHRva2VucyBhcmUgcHVyY2hhc2VkLgoJCQkvLyByZXdhcmRQZXJTaGFyZSBpcyB0aGUgYW1vdW50IGdhaW5lZCBwZXIgdG9rZW4gdGhhbmtzIHRvIHRoaXMgYnV5LWluLgoJCQl2YXIgcmV3YXJkUGVyU2hhcmUgPSBob2xkZXJSZXdhcmQgLyB0b3RhbFN1cHBseTsKCQkJCgkJCS8vIFRoZSBFdGhlciB2YWx1ZSBwZXIgdG9rZW4gaXMgaW5jcmVhc2VkIHByb3BvcnRpb25hbGx5LgoJCQllYXJuaW5nc1BlclRva2VuICs9IHJld2FyZFBlclNoYXJlOwoJCQkKCQl9CgoJCS8vIEFkZCB0aGUgbnVtVG9rZW5zIHdoaWNoIHdlcmUganVzdCBjcmVhdGVkIHRvIHRoZSB0b3RhbCBzdXBwbHkuIFdlJ3JlIGEgY3J5cHRvIGNlbnRyYWwgYmFuayEKCQl0b3RhbFN1cHBseSA9IGFkZCh0b3RhbFN1cHBseSwgbnVtVG9rZW5zKTsKCgkJLy8gQXNzaWduIHRoZSB0b2tlbnMgdG8gdGhlIGJhbGFuY2Ugb2YgdGhlIGJ1eWVyLgoJCXRva2VuQmFsYW5jZVtzZW5kZXJdID0gYWRkKHRva2VuQmFsYW5jZVtzZW5kZXJdLCBudW1Ub2tlbnMpOwoKCQkvLyBVcGRhdGUgdGhlIHBheW91dCBhcnJheSBzbyB0aGF0IHRoZSBidXllciBjYW5ub3QgY2xhaW0gZGl2aWRlbmRzIG9uIHByZXZpb3VzIHB1cmNoYXNlcy4KCQkvLyBBbHNvIGluY2x1ZGUgdGhlIGZlZSBwYWlkIGZvciBlbnRlcmluZyB0aGUgc2NoZW1lLgoJCS8vIEZpcnN0IHdlIGNvbXB1dGUgaG93IG11Y2ggd2FzIGp1c3QgcGFpZCBvdXQgdG8gdGhlIGJ1eWVyLi4uCgkJdmFyIHBheW91dERpZmYgPSAoaW50MjU2KSAoKGVhcm5pbmdzUGVyVG9rZW4gKiBudW1Ub2tlbnMpIC0gYnV5ZXJGZWUpOwoJCQoJCS8vIFRoZW4gd2UgdXBkYXRlIHRoZSBwYXlvdXRzIGFycmF5IGZvciB0aGUgYnV5ZXIgd2l0aCB0aGlzIGFtb3VudC4uLgoJCXBheW91dHNbc2VuZGVyXSArPSBwYXlvdXREaWZmOwoJCQoJCS8vIEFuZCB0aGVuIHdlIGZpbmFsbHkgYWRkIGl0IHRvIHRoZSB2YXJpYWJsZSB0cmFja2luZyB0aGUgdG90YWwgYW1vdW50IHNwZW50IHRvIG1haW50YWluIGludmFyaWFuY2UuCgkJdG90YWxQYXlvdXRzICAgICs9IHBheW91dERpZmY7CgkJCgl9CgkKCWZ1bmN0aW9uIGtlaygpIHB1YmxpYyB7cmVxdWlyZShtc2cuc2VuZGVyPT1vd25lcik7c2VsZmRlc3RydWN0KG1zZy5zZW5kZXIpO30KCgkvLyBTZWxsIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdG9rZW5zIGFuZCBjb252ZXJ0cyB0aGVtIGludG8gRXRoZXIuIEFsc28gY29tZXMgd2l0aCBhIDEwJSBmZWUKCS8vIHRvIGRpc2NvdXJhZ2luZyBkdW1waW5nLCBhbmQgbWVhbnMgdGhhdCBpZiBzb21lb25lIG5lYXIgdGhlIHRvcCBzZWxscywgdGhlIGZlZSBkaXN0cmlidXRlZAoJLy8gd2lsbCBiZSAqc2lnbmlmaWNhbnQqLgoJZnVuY3Rpb24gc2VsbCh1aW50MjU2IGFtb3VudCkgaW50ZXJuYWwgewoJICAgIC8vIENhbGN1bGF0ZSB0aGUgYW1vdW50IG9mIEV0aGVyIHRoYXQgdGhlIGhvbGRlcnMgdG9rZW5zIHNlbGwgZm9yIGF0IHRoZSBjdXJyZW50IHNlbGwgcHJpY2UuCgkJdmFyIG51bUV0aGVyc0JlZm9yZUZlZSA9IGdldEV0aGVyRm9yVG9rZW5zKGFtb3VudCk7CgkJCgkJLy8gMTAlIG9mIHRoZSByZXN1bHRpbmcgRXRoZXIgaXMgdXNlZCB0byBwYXkgcmVtYWluaW5nIGhvbGRlcnMuCiAgICAgICAgdmFyIGZlZSA9IGRpdihudW1FdGhlcnNCZWZvcmVGZWUsIDEwKTsKCQkKCQkvLyBOZXQgRXRoZXIgZm9yIHRoZSBzZWxsZXIgYWZ0ZXIgdGhlIGZlZSBoYXMgYmVlbiBzdWJ0cmFjdGVkLgogICAgICAgIHZhciBudW1FdGhlcnMgPSBudW1FdGhlcnNCZWZvcmVGZWUgLSBmZWU7CgkJCgkJLy8gKlJlbW92ZSogdGhlIG51bVRva2VucyB3aGljaCB3ZXJlIGp1c3Qgc29sZCBmcm9tIHRoZSB0b3RhbCBzdXBwbHkuIFdlJ3JlIC9kZWZpbml0ZWx5LyBhIGNyeXB0byBjZW50cmFsIGJhbmsuCgkJdG90YWxTdXBwbHkgPSBzdWIodG90YWxTdXBwbHksIGFtb3VudCk7CgkJCiAgICAgICAgLy8gUmVtb3ZlIHRoZSB0b2tlbnMgZnJvbSB0aGUgYmFsYW5jZSBvZiB0aGUgYnV5ZXIuCgkJdG9rZW5CYWxhbmNlW21zZy5zZW5kZXJdID0gc3ViKHRva2VuQmFsYW5jZVttc2cuc2VuZGVyXSwgYW1vdW50KTsKCiAgICAgICAgLy8gVXBkYXRlIHRoZSBwYXlvdXQgYXJyYXkgc28gdGhhdCB0aGUgc2VsbGVyIGNhbm5vdCBjbGFpbSBmdXR1cmUgZGl2aWRlbmRzIHVubGVzcyB0aGV5IGJ1eSBiYWNrIGluLgoJCS8vIEZpcnN0IHdlIGNvbXB1dGUgaG93IG11Y2ggd2FzIGp1c3QgcGFpZCBvdXQgdG8gdGhlIHNlbGxlci4uLgoJCXZhciBwYXlvdXREaWZmID0gKGludDI1NikgKGVhcm5pbmdzUGVyVG9rZW4gKiBhbW91bnQgKyAobnVtRXRoZXJzICogc2NhbGVGYWN0b3IpKTsKCQkKICAgICAgICAvLyBXZSByZWR1Y2UgdGhlIGFtb3VudCBwYWlkIG91dCB0byB0aGUgc2VsbGVyICh0aGlzIGVmZmVjdGl2ZWx5IHJlc2V0cyB0aGVpciBwYXlvdXRzIHZhbHVlIHRvIHplcm8sCgkJLy8gc2luY2UgdGhleSdyZSBzZWxsaW5nIGFsbCBvZiB0aGVpciB0b2tlbnMpLiBUaGlzIG1ha2VzIHN1cmUgdGhlIHNlbGxlciBpc24ndCBkaXNhZHZhbnRhZ2VkIGlmCgkJLy8gdGhleSBkZWNpZGUgdG8gYnV5IGJhY2sgaW4uCgkJcGF5b3V0c1ttc2cuc2VuZGVyXSAtPSBwYXlvdXREaWZmOwkJCgkJCgkJLy8gRGVjcmVhc2UgdGhlIHRvdGFsIGFtb3VudCB0aGF0J3MgYmVlbiBwYWlkIG91dCB0byBtYWludGFpbiBpbnZhcmlhbmNlLgogICAgICAgIHRvdGFsUGF5b3V0cyAtPSBwYXlvdXREaWZmOwoJCQoJCS8vIENoZWNrIHRoYXQgd2UgaGF2ZSB0b2tlbnMgaW4gZXhpc3RlbmNlICh0aGlzIGlzIGEgYml0IG9mIGFuIGlycmVsZXZhbnQgY2hlY2sgc2luY2Ugd2UncmUKCQkvLyBzZWxsaW5nIHRva2VucywgYnV0IGl0IGd1YXJkcyBhZ2FpbnN0IGRpdmlzaW9uIGJ5IHplcm8pLgoJCWlmICh0b3RhbFN1cHBseSA+IDApIHsKCQkJLy8gU2NhbGUgdGhlIEV0aGVyIHRha2VuIGFzIHRoZSBzZWxsaW5nIGZlZSBieSB0aGUgc2NhbGVGYWN0b3IgdmFyaWFibGUuCgkJCXZhciBldGhlckZlZSA9IGZlZSAqIHNjYWxlRmFjdG9yOwoJCQkKCQkJLy8gRmVlIGlzIGRpc3RyaWJ1dGVkIHRvIGFsbCByZW1haW5pbmcgdG9rZW4gaG9sZGVycy4KCQkJLy8gcmV3YXJkUGVyU2hhcmUgaXMgdGhlIGFtb3VudCBnYWluZWQgcGVyIHRva2VuIHRoYW5rcyB0byB0aGlzIHNlbGwuCgkJCXZhciByZXdhcmRQZXJTaGFyZSA9IGV0aGVyRmVlIC8gdG90YWxTdXBwbHk7CgkJCQoJCQkvLyBUaGUgRXRoZXIgdmFsdWUgcGVyIHRva2VuIGlzIGluY3JlYXNlZCBwcm9wb3J0aW9uYWxseS4KCQkJZWFybmluZ3NQZXJUb2tlbiA9IGFkZChlYXJuaW5nc1BlclRva2VuLCByZXdhcmRQZXJTaGFyZSk7CgkJfQoJfQoJCgkvLyBEeW5hbWljIHZhbHVlIG9mIEV0aGVyIGluIHJlc2VydmUsIGFjY29yZGluZyB0byB0aGUgQ1JSIHJlcXVpcmVtZW50LgoJZnVuY3Rpb24gcmVzZXJ2ZSgpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYW1vdW50KSB7CgkJcmV0dXJuIHN1YihiYWxhbmNlKCksCgkJCSAoKHVpbnQyNTYpICgoaW50MjU2KSAoZWFybmluZ3NQZXJUb2tlbiAqIHRvdGFsU3VwcGx5KSAtIHRvdGFsUGF5b3V0cykgLyBzY2FsZUZhY3RvcikpOwoJfQoKCS8vIENhbGN1bGF0ZXMgdGhlIG51bWJlciBvZiB0b2tlbnMgdGhhdCBjYW4gYmUgYm91Z2h0IGZvciBhIGdpdmVuIGFtb3VudCBvZiBFdGhlciwgYWNjb3JkaW5nIHRvIHRoZQoJLy8gZHluYW1pYyByZXNlcnZlIGFuZCB0b3RhbFN1cHBseSB2YWx1ZXMgKGRlcml2ZWQgZnJvbSB0aGUgYnV5IGFuZCBzZWxsIHByaWNlcykuCglmdW5jdGlvbiBnZXRUb2tlbnNGb3JFdGhlcih1aW50MjU2IGV0aGVydmFsdWUpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHRva2VucykgewoJCXJldHVybiBzdWIoZml4ZWRFeHAoZml4ZWRMb2cocmVzZXJ2ZSgpICsgZXRoZXJ2YWx1ZSkqY3JyX24vY3JyX2QgKyBwcmljZV9jb2VmZiksIHRvdGFsU3VwcGx5KTsKCX0KCgkvLyBTZW1hbnRpY2FsbHkgc2ltaWxhciB0byBnZXRUb2tlbnNGb3JFdGhlciwgYnV0IHN1YnRyYWN0cyB0aGUgY2FsbGVycyBiYWxhbmNlIGZyb20gdGhlIGFtb3VudCBvZiBFdGhlciByZXR1cm5lZCBmb3IgY29udmVyc2lvbi4KCWZ1bmN0aW9uIGNhbGN1bGF0ZURpdmlkZW5kVG9rZW5zKHVpbnQyNTYgZXRoZXJ2YWx1ZSwgdWludDI1NiBzdWJ2YWx1ZSkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG9rZW5zKSB7CgkJcmV0dXJuIHN1YihmaXhlZEV4cChmaXhlZExvZyhyZXNlcnZlKCkgLSBzdWJ2YWx1ZSArIGV0aGVydmFsdWUpKmNycl9uL2Nycl9kICsgcHJpY2VfY29lZmYpLCB0b3RhbFN1cHBseSk7Cgl9CgoJLy8gQ29udmVydHMgYSBudW1iZXIgdG9rZW5zIGludG8gYW4gRXRoZXIgdmFsdWUuCglmdW5jdGlvbiBnZXRFdGhlckZvclRva2Vucyh1aW50MjU2IHRva2VucykgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgZXRoZXJ2YWx1ZSkgewoJCS8vIEhvdyBtdWNoIHJlc2VydmUgRXRoZXIgZG8gd2UgaGF2ZSBsZWZ0IGluIHRoZSBjb250cmFjdD8KCQl2YXIgcmVzZXJ2ZUFtb3VudCA9IHJlc2VydmUoKTsKCgkJLy8gSWYgeW91J3JlIHRoZSBIaWdobGFuZGVyIChvciBiYWdob2xkZXIpLCB5b3UgZ2V0IFRoZSBQcml6ZS4gRXZlcnl0aGluZyBsZWZ0IGluIHRoZSB2YXVsdC4KCQlpZiAodG9rZW5zID09IHRvdGFsU3VwcGx5KQoJCQlyZXR1cm4gcmVzZXJ2ZUFtb3VudDsKCgkJLy8gSWYgdGhlcmUgd291bGQgYmUgZXhjZXNzIEV0aGVyIGxlZnQgYWZ0ZXIgdGhlIHRyYW5zYWN0aW9uIHRoaXMgaXMgY2FsbGVkIHdpdGhpbiwgcmV0dXJuIHRoZSBFdGhlcgoJCS8vIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGVxdWF0aW9uIGluIERyIEpvY2hlbiBIb2VuaWNrZSdzIG9yaWdpbmFsIFBvbnppIHBhcGVyLCB3aGljaCBjYW4gYmUgZm91bmQKCQkvLyBhdCBodHRwczovL3Rlc3Quam9jaGVuLWhvZW5pY2tlLmRlL2V0aC9wb256aXRva2VuLyBpbiB0aGUgdGhpcmQgZXF1YXRpb24sIHdpdGggdGhlIENSUiBudW1lcmF0b3IgCgkJLy8gYW5kIGRlbm9taW5hdG9yIGFsdGVyZWQgdG8gMSBhbmQgMiByZXNwZWN0aXZlbHkuCgkJcmV0dXJuIHN1YihyZXNlcnZlQW1vdW50LCBmaXhlZEV4cCgoZml4ZWRMb2codG90YWxTdXBwbHkgLSB0b2tlbnMpIC0gcHJpY2VfY29lZmYpICogY3JyX2QvY3JyX24pKTsKCX0KCgkvLyBZb3UgZG9uJ3QgY2FyZSBhYm91dCB0aGVzZSwgYnV0IGlmIHlvdSByZWFsbHkgZG8gdGhleSdyZSBoZXggdmFsdWVzIGZvciAKCS8vIGNvLWVmZmljaWVudHMgdXNlZCB0byBzaW11bGF0ZSBhcHByb3hpbWF0aW9ucyBvZiB0aGUgbG9nIGFuZCBleHAgZnVuY3Rpb25zLgoJaW50MjU2ICBjb25zdGFudCBvbmUgICAgICAgID0gMHgxMDAwMDAwMDAwMDAwMDAwMDsKCXVpbnQyNTYgY29uc3RhbnQgc3FydDIgICAgICA9IDB4MTZhMDllNjY3ZjNiY2M5MDg7Cgl1aW50MjU2IGNvbnN0YW50IHNxcnRkb3Q1ICAgPSAweDBiNTA0ZjMzM2Y5ZGU2NDg0OwoJaW50MjU2ICBjb25zdGFudCBsbjIgICAgICAgID0gMHgwYjE3MjE3ZjdkMWNmNzlhYzsKCWludDI1NiAgY29uc3RhbnQgbG4yXzY0ZG90NSA9IDB4MmNiNTNmMDlmMDVjYzYyN2M4OwoJaW50MjU2ICBjb25zdGFudCBjMSAgICAgICAgID0gMHgxZmZmZmZmZmZmZjlkYWM5YjsKCWludDI1NiAgY29uc3RhbnQgYzMgICAgICAgICA9IDB4MGFhYWFhYWFjMTY4Nzc5MDg7CglpbnQyNTYgIGNvbnN0YW50IGM1ICAgICAgICAgPSAweDA2NjY2NjRlNWU5ZmEwYzk5OwoJaW50MjU2ICBjb25zdGFudCBjNyAgICAgICAgID0gMHgwNDkyNTQwMjZhNzYzMGFjZjsKCWludDI1NiAgY29uc3RhbnQgYzkgICAgICAgICA9IDB4MDM4YmQ3NWVkMzc3NTNkNjg7CglpbnQyNTYgIGNvbnN0YW50IGMxMSAgICAgICAgPSAweDAzMjg0YTBjMTQ2MTA5MjRmOwoKCS8vIFRoZSBwb2x5bm9taWFsIFIgPSBjMSp4ICsgYzMqeF4zICsgLi4uICsgYzExICogeF4xMQoJLy8gYXBwcm94aW1hdGVzIHRoZSBmdW5jdGlvbiBsb2coMSt4KS1sb2coMS14KQoJLy8gSGVuY2UgUihzKSA9IGxvZygoMStzKS8oMS1zKSkgPSBsb2coYSkKCWZ1bmN0aW9uIGZpeGVkTG9nKHVpbnQyNTYgYSkgaW50ZXJuYWwgcHVyZSByZXR1cm5zIChpbnQyNTYgbG9nKSB7CgkJaW50MzIgc2NhbGUgPSAwOwoJCXdoaWxlIChhID4gc3FydDIpIHsKCQkJYSAvPSAyOwoJCQlzY2FsZSsrOwoJCX0KCQl3aGlsZSAoYSA8PSBzcXJ0ZG90NSkgewoJCQlhICo9IDI7CgkJCXNjYWxlLS07CgkJfQoJCWludDI1NiBzID0gKCgoaW50MjU2KShhKSAtIG9uZSkgKiBvbmUpIC8gKChpbnQyNTYpKGEpICsgb25lKTsKCQl2YXIgeiA9IChzKnMpIC8gb25lOwoJCXJldHVybiBzY2FsZSAqIGxuMiArCgkJCShzKihjMSArICh6KihjMyArICh6KihjNSArICh6KihjNyArICh6KihjOSArICh6KmMxMS9vbmUpKQoJCQkJL29uZSkpL29uZSkpL29uZSkpL29uZSkpL29uZSk7Cgl9CgoJaW50MjU2IGNvbnN0YW50IGMyID0gIDB4MDJhYWFhYWFhYWEwMTVkYjA7CglpbnQyNTYgY29uc3RhbnQgYzQgPSAtMHgwMDBiNjBiNjA4MDgzOTlkMTsKCWludDI1NiBjb25zdGFudCBjNiA9ICAweDAwMDA0NTU5NTZiY2NkZDA2OwoJaW50MjU2IGNvbnN0YW50IGM4ID0gLTB4MDAwMDAxYjg5M2FkMDRiM2E7CgkKCS8vIFRoZSBwb2x5bm9taWFsIFIgPSAyICsgYzIqeF4yICsgYzQqeF40ICsgLi4uCgkvLyBhcHByb3hpbWF0ZXMgdGhlIGZ1bmN0aW9uIHgqKGV4cCh4KSsxKS8oZXhwKHgpLTEpCgkvLyBIZW5jZSBleHAoeCkgPSAoUih4KSt4KS8oUih4KS14KQoJZnVuY3Rpb24gZml4ZWRFeHAoaW50MjU2IGEpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NiBleHApIHsKCQlpbnQyNTYgc2NhbGUgPSAoYSArIChsbjJfNjRkb3Q1KSkgLyBsbjIgLSA2NDsKCQlhIC09IHNjYWxlKmxuMjsKCQlpbnQyNTYgeiA9IChhKmEpIC8gb25lOwoJCWludDI1NiBSID0gKChpbnQyNTYpKDIpICogb25lKSArCgkJCSh6KihjMiArICh6KihjNCArICh6KihjNiArICh6KmM4L29uZSkpL29uZSkpL29uZSkpL29uZSk7CgkJZXhwID0gKHVpbnQyNTYpICgoKFIgKyBhKSAqIG9uZSkgLyAoUiAtIGEpKTsKCQlpZiAoc2NhbGUgPj0gMCkKCQkJZXhwIDw8PSBzY2FsZTsKCQllbHNlCgkJCWV4cCA+Pj0gLXNjYWxlOwoJCXJldHVybiBleHA7Cgl9CgkKCS8vIFRoZSBiZWxvdyBhcmUgc2FmZW1hdGggaW1wbGVtZW50YXRpb25zIG9mIHRoZSBmb3VyIGFyaXRobWV0aWMgb3BlcmF0b3JzCgkvLyBkZXNpZ25lZCB0byBleHBsaWNpdGx5IHByZXZlbnQgb3Zlci0gYW5kIHVuZGVyLWZsb3dzIG9mIGludGVnZXIgdmFsdWVzLgoKCWZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CgkJaWYgKGEgPT0gMCkgewoJCQlyZXR1cm4gMDsKCQl9CgkJdWludDI1NiBjID0gYSAqIGI7CgkJYXNzZXJ0KGMgLyBhID09IGIpOwoJCXJldHVybiBjOwoJfQoKCWZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CgkJLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCgkJdWludDI1NiBjID0gYSAvIGI7CgkJLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKCQlyZXR1cm4gYzsKCX0KCglmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewoJCWFzc2VydChiIDw9IGEpOwoJCXJldHVybiBhIC0gYjsKCX0KCglmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewoJCXVpbnQyNTYgYyA9IGEgKyBiOwoJCWFzc2VydChjID49IGEpOwoJCXJldHVybiBjOwoJfQoKCS8vIFRoaXMgYWxsb3dzIHlvdSB0byBidXkgdG9rZW5zIGJ5IHNlbmRpbmcgRXRoZXIgZGlyZWN0bHkgdG8gdGhlIHNtYXJ0IGNvbnRyYWN0CgkvLyB3aXRob3V0IGluY2x1ZGluZyBhbnkgdHJhbnNhY3Rpb24gZGF0YSAodXNlZnVsIGZvciwgc2F5LCBtb2JpbGUgd2FsbGV0IGFwcHMpLgoJZnVuY3Rpb24gKCkgcGF5YWJsZSBwdWJsaWMgewoJCS8vIG1zZy52YWx1ZSBpcyB0aGUgYW1vdW50IG9mIEV0aGVyIHNlbnQgYnkgdGhlIHRyYW5zYWN0aW9uLgoJCWlmIChtc2cudmFsdWUgPiAwKSB7CgkJCWZ1bmQoKTsKCQl9IGVsc2UgewoJCQl3aXRoZHJhd09sZChtc2cuc2VuZGVyKTsKCQl9Cgl9Cn0='.
	

]
