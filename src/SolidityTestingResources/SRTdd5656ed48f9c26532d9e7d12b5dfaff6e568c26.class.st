Class {
	#name : #SRTdd5656ed48f9c26532d9e7d12b5dfaff6e568c26,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTdd5656ed48f9c26532d9e7d12b5dfaff6e568c26 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgQXBwcm92ZUFuZENhbGxSZWNlaXZlciB7CiAgICBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBmcm9tLCB1aW50MjU2IF9hbW91bnQsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZGF0YSkgcHVibGljOwp9Cgpjb250cmFjdCBUb2tlbkZhY3RvcnlJbnRlcmZhY2UgewoKICAgIGZ1bmN0aW9uIGNyZWF0ZUNsb25lVG9rZW4oCiAgICAgICAgYWRkcmVzcyBfcGFyZW50VG9rZW4sCiAgICAgICAgdWludCBfc25hcHNob3RCbG9jaywKICAgICAgICBzdHJpbmcgX3Rva2VuTmFtZSwKICAgICAgICBzdHJpbmcgX3Rva2VuU3ltYm9sCiAgICAgICkgcHVibGljIHJldHVybnMgKFByb29mVG9rZW4gbmV3VG9rZW4pOwp9Cgpjb250cmFjdCBDb250cm9sbGFibGUgewogIGFkZHJlc3MgcHVibGljIGNvbnRyb2xsZXI7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIgYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBDb250cm9sbGFibGUoKSBwdWJsaWMgewogICAgY29udHJvbGxlciA9IG1zZy5zZW5kZXI7CiAgfQoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seUNvbnRyb2xsZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gY29udHJvbGxlcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3Q29udHJvbGxlciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJDb250cm9sKGFkZHJlc3MgbmV3Q29udHJvbGxlcikgcHVibGljIG9ubHlDb250cm9sbGVyIHsKICAgIGlmIChuZXdDb250cm9sbGVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgY29udHJvbGxlciA9IG5ld0NvbnRyb2xsZXI7CiAgICB9CiAgfQoKfQoKY29udHJhY3QgUHJvb2ZUb2tlbiBpcyBDb250cm9sbGFibGUgewoKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICBQcm9vZlRva2VuSW50ZXJmYWNlIHB1YmxpYyBwYXJlbnRUb2tlbjsKICBUb2tlbkZhY3RvcnlJbnRlcmZhY2UgcHVibGljIHRva2VuRmFjdG9yeTsKCiAgc3RyaW5nIHB1YmxpYyBuYW1lOwogIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogIHN0cmluZyBwdWJsaWMgdmVyc2lvbjsKICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7CgogIHVpbnQyNTYgcHVibGljIHBhcmVudFNuYXBTaG90QmxvY2s7CiAgdWludDI1NiBwdWJsaWMgY3JlYXRpb25CbG9jazsKICBib29sIHB1YmxpYyB0cmFuc2ZlcnNFbmFibGVkOwoKICBib29sIHB1YmxpYyBtYXN0ZXJUcmFuc2ZlcnNFbmFibGVkOwogIGFkZHJlc3MgcHVibGljIG1hc3RlcldhbGxldCA9IDB4RDgyNzEyODVDMjU1Q2UzMWI5YjI1RTQ2YWM2MzYxOTMyMkFmNTkzNDsKCgogIHN0cnVjdCBDaGVja3BvaW50IHsKICAgIHVpbnQxMjggZnJvbUJsb2NrOwogICAgdWludDEyOCB2YWx1ZTsKICB9CgogIENoZWNrcG9pbnRbXSB0b3RhbFN1cHBseUhpc3Rvcnk7CiAgbWFwcGluZyhhZGRyZXNzID0+IENoZWNrcG9pbnRbXSkgYmFsYW5jZXM7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSBhbGxvd2VkOwoKICBib29sIHB1YmxpYyBtaW50aW5nRmluaXNoZWQgPSBmYWxzZTsKICBib29sIHB1YmxpYyBwcmVzYWxlQmFsYW5jZXNMb2NrZWQgPSBmYWxzZTsKCiAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgVE9UQUxfUFJFU0FMRV9UT0tFTlMgPSAxMTIzODY3MTI5MjQ3MjU1MDg4MDI0MDA7CgogIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CiAgZXZlbnQgTWludEZpbmlzaGVkKCk7CiAgZXZlbnQgQ2xhaW1lZFRva2VucyhhZGRyZXNzIGluZGV4ZWQgX3Rva2VuLCBhZGRyZXNzIGluZGV4ZWQgX293bmVyLCB1aW50IF9hbW91bnQpOwogIGV2ZW50IE5ld0Nsb25lVG9rZW4oYWRkcmVzcyBpbmRleGVkIGNsb25lVG9rZW4pOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50KTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKCgoKCiAgZnVuY3Rpb24gUHJvb2ZUb2tlbigKICAgIGFkZHJlc3MgX3Rva2VuRmFjdG9yeSwKICAgIGFkZHJlc3MgX3BhcmVudFRva2VuLAogICAgdWludDI1NiBfcGFyZW50U25hcFNob3RCbG9jaywKICAgIHN0cmluZyBfdG9rZW5OYW1lLAogICAgc3RyaW5nIF90b2tlblN5bWJvbAogICAgKSBwdWJsaWMgewogICAgICB0b2tlbkZhY3RvcnkgPSBUb2tlbkZhY3RvcnlJbnRlcmZhY2UoX3Rva2VuRmFjdG9yeSk7CiAgICAgIHBhcmVudFRva2VuID0gUHJvb2ZUb2tlbkludGVyZmFjZShfcGFyZW50VG9rZW4pOwogICAgICBwYXJlbnRTbmFwU2hvdEJsb2NrID0gX3BhcmVudFNuYXBTaG90QmxvY2s7CiAgICAgIG5hbWUgPSBfdG9rZW5OYW1lOwogICAgICBzeW1ib2wgPSBfdG9rZW5TeW1ib2w7CiAgICAgIGRlY2ltYWxzID0gMTg7CiAgICAgIHRyYW5zZmVyc0VuYWJsZWQgPSBmYWxzZTsKICAgICAgbWFzdGVyVHJhbnNmZXJzRW5hYmxlZCA9IGZhbHNlOwogICAgICBjcmVhdGlvbkJsb2NrID0gYmxvY2subnVtYmVyOwogICAgICB2ZXJzaW9uID0gJzAuMSc7CiAgfQoKICBmdW5jdGlvbigpIHB1YmxpYyBwYXlhYmxlIHsKICAgIHJldmVydCgpOwogIH0KCgogIC8qKgogICogUmV0dXJucyB0aGUgdG90YWwgUHJvb2YgdG9rZW4gc3VwcGx5IGF0IHRoZSBjdXJyZW50IGJsb2NrCiAgKiBAcmV0dXJuIHRvdGFsIHN1cHBseSB7dWludDI1Nn0KICAqLwogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiB0b3RhbFN1cHBseUF0KGJsb2NrLm51bWJlcik7CiAgfQoKICAvKioKICAqIFJldHVybnMgdGhlIHRvdGFsIFByb29mIHRva2VuIHN1cHBseSBhdCB0aGUgZ2l2ZW4gYmxvY2sgbnVtYmVyCiAgKiBAcGFyYW0gX2Jsb2NrTnVtYmVyIHt1aW50MjU2fQogICogQHJldHVybiB0b3RhbCBzdXBwbHkge3VpbnQyNTZ9CiAgKi8KICBmdW5jdGlvbiB0b3RhbFN1cHBseUF0KHVpbnQyNTYgX2Jsb2NrTnVtYmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSB7CiAgICAvLyBUaGVzZSBuZXh0IGZldyBsaW5lcyBhcmUgdXNlZCB3aGVuIHRoZSB0b3RhbFN1cHBseSBvZiB0aGUgdG9rZW4gaXMKICAgIC8vICByZXF1ZXN0ZWQgYmVmb3JlIGEgY2hlY2sgcG9pbnQgd2FzIGV2ZXIgY3JlYXRlZCBmb3IgdGhpcyB0b2tlbiwgaXQKICAgIC8vICByZXF1aXJlcyB0aGF0IHRoZSBgcGFyZW50VG9rZW4udG90YWxTdXBwbHlBdGAgYmUgcXVlcmllZCBhdCB0aGUKICAgIC8vICBnZW5lc2lzIGJsb2NrIGZvciB0aGlzIHRva2VuIGFzIHRoYXQgY29udGFpbnMgdG90YWxTdXBwbHkgb2YgdGhpcwogICAgLy8gIHRva2VuIGF0IHRoaXMgYmxvY2sgbnVtYmVyLgogICAgaWYgKCh0b3RhbFN1cHBseUhpc3RvcnkubGVuZ3RoID09IDApIHx8ICh0b3RhbFN1cHBseUhpc3RvcnlbMF0uZnJvbUJsb2NrID4gX2Jsb2NrTnVtYmVyKSkgewogICAgICAgIGlmIChhZGRyZXNzKHBhcmVudFRva2VuKSAhPSAwKSB7CiAgICAgICAgICAgIHJldHVybiBwYXJlbnRUb2tlbi50b3RhbFN1cHBseUF0KG1pbihfYmxvY2tOdW1iZXIsIHBhcmVudFNuYXBTaG90QmxvY2spKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CgogICAgLy8gVGhpcyB3aWxsIHJldHVybiB0aGUgZXhwZWN0ZWQgdG90YWxTdXBwbHkgZHVyaW5nIG5vcm1hbCBzaXR1YXRpb25zCiAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBnZXRWYWx1ZUF0KHRvdGFsU3VwcGx5SGlzdG9yeSwgX2Jsb2NrTnVtYmVyKTsKICAgIH0KICB9CgogIC8qKgogICogUmV0dXJucyB0aGUgdG9rZW4gaG9sZGVyIGJhbGFuY2UgYXQgdGhlIGN1cnJlbnQgYmxvY2sKICAqIEBwYXJhbSBfb3duZXIge2FkZHJlc3N9CiAgKiBAcmV0dXJuIGJhbGFuY2Uge3VpbnQyNTZ9CiAgICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZU9mQXQoX293bmVyLCBibG9jay5udW1iZXIpOwogIH0KCiAgLyoqCiAgKiBSZXR1cm5zIHRoZSB0b2tlbiBob2xkZXIgYmFsYW5jZSB0aGUgdGhlIGdpdmVuIGJsb2NrIG51bWJlcgogICogQHBhcmFtIF9vd25lciB7YWRkcmVzc30KICAqIEBwYXJhbSBfYmxvY2tOdW1iZXIge3VpbnQyNTZ9CiAgKiBAcmV0dXJuIGJhbGFuY2Uge3VpbnQyNTZ9CiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2ZBdChhZGRyZXNzIF9vd25lciwgdWludDI1NiBfYmxvY2tOdW1iZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBUaGVzZSBuZXh0IGZldyBsaW5lcyBhcmUgdXNlZCB3aGVuIHRoZSBiYWxhbmNlIG9mIHRoZSB0b2tlbiBpcwogICAgLy8gIHJlcXVlc3RlZCBiZWZvcmUgYSBjaGVjayBwb2ludCB3YXMgZXZlciBjcmVhdGVkIGZvciB0aGlzIHRva2VuLCBpdAogICAgLy8gIHJlcXVpcmVzIHRoYXQgdGhlIGBwYXJlbnRUb2tlbi5iYWxhbmNlT2ZBdGAgYmUgcXVlcmllZCBhdCB0aGUKICAgIC8vICBnZW5lc2lzIGJsb2NrIGZvciB0aGF0IHRva2VuIGFzIHRoaXMgY29udGFpbnMgaW5pdGlhbCBiYWxhbmNlIG9mCiAgICAvLyAgdGhpcyB0b2tlbgogICAgaWYgKChiYWxhbmNlc1tfb3duZXJdLmxlbmd0aCA9PSAwKSB8fCAoYmFsYW5jZXNbX293bmVyXVswXS5mcm9tQmxvY2sgPiBfYmxvY2tOdW1iZXIpKSB7CiAgICAgICAgaWYgKGFkZHJlc3MocGFyZW50VG9rZW4pICE9IDApIHsKICAgICAgICAgICAgcmV0dXJuIHBhcmVudFRva2VuLmJhbGFuY2VPZkF0KF9vd25lciwgbWluKF9ibG9ja051bWJlciwgcGFyZW50U25hcFNob3RCbG9jaykpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIEhhcyBubyBwYXJlbnQKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQoKICAgIC8vIFRoaXMgd2lsbCByZXR1cm4gdGhlIGV4cGVjdGVkIGJhbGFuY2UgZHVyaW5nIG5vcm1hbCBzaXR1YXRpb25zCiAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBnZXRWYWx1ZUF0KGJhbGFuY2VzW19vd25lcl0sIF9ibG9ja051bWJlcik7CiAgICB9CiAgfQoKICAvKioKICAqIFN0YW5kYXJkIEVSQzIwIHRyYW5zZmVyIHRva2VucyBmdW5jdGlvbgogICogQHBhcmFtIF90byB7YWRkcmVzc30KICAqIEBwYXJhbSBfYW1vdW50IHt1aW50fQogICogQHJldHVybiBzdWNjZXNzIHtib29sfQogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmV0dXJuIGRvVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfYW1vdW50KTsKICB9CgogIC8qKgogICogU3RhbmRhcmQgRVJDMjAgdHJhbnNmZXJGcm9tIGZ1bmN0aW9uCiAgKiBAcGFyYW0gX2Zyb20ge2FkZHJlc3N9CiAgKiBAcGFyYW0gX3RvIHthZGRyZXNzfQogICogQHBhcmFtIF9hbW91bnQge3VpbnQyNTZ9CiAgKiBAcmV0dXJuIHN1Y2Nlc3Mge2Jvb2x9CiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmVxdWlyZShhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfYW1vdW50KTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF9hbW91bnQ7CiAgICByZXR1cm4gZG9UcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsKICB9CgogIC8qKgogICogU3RhbmRhcmQgRVJDMjAgYXBwcm92ZSBmdW5jdGlvbgogICogQHBhcmFtIF9zcGVuZGVyIHthZGRyZXNzfQogICogQHBhcmFtIF9hbW91bnQge3VpbnQyNTZ9CiAgKiBAcmV0dXJuIHN1Y2Nlc3Mge2Jvb2x9CiAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgcmVxdWlyZSh0cmFuc2ZlcnNFbmFibGVkKTsKCiAgICAvL2h0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICByZXF1aXJlKChfYW1vdW50ID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CgogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfYW1vdW50OwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIFN0YW5kYXJkIEVSQzIwIGFwcHJvdmUgZnVuY3Rpb24KICAqIEBwYXJhbSBfc3BlbmRlciB7YWRkcmVzc30KICAqIEBwYXJhbSBfYW1vdW50IHt1aW50MjU2fQogICogQHJldHVybiBzdWNjZXNzIHtib29sfQogICovCiAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50LCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBhcHByb3ZlKF9zcGVuZGVyLCBfYW1vdW50KTsKCiAgICBBcHByb3ZlQW5kQ2FsbFJlY2VpdmVyKF9zcGVuZGVyKS5yZWNlaXZlQXBwcm92YWwoCiAgICAgICAgbXNnLnNlbmRlciwKICAgICAgICBfYW1vdW50LAogICAgICAgIHRoaXMsCiAgICAgICAgX2V4dHJhRGF0YQogICAgKTsKCiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogU3RhbmRhcmQgRVJDMjAgYWxsb3dhbmNlIGZ1bmN0aW9uCiAgKiBAcGFyYW0gX293bmVyIHthZGRyZXNzfQogICogQHBhcmFtIF9zcGVuZGVyIHthZGRyZXNzfQogICogQHJldHVybiByZW1haW5pbmcge3VpbnQyNTZ9CiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCiAgLyoqCiAgKiBJbnRlcm5hbCBUcmFuc2ZlciBmdW5jdGlvbiAtIFVwZGF0ZXMgdGhlIGNoZWNrcG9pbnQgbGVkZ2VyCiAgKiBAcGFyYW0gX2Zyb20ge2FkZHJlc3N9CiAgKiBAcGFyYW0gX3RvIHthZGRyZXNzfQogICogQHBhcmFtIF9hbW91bnQge3VpbnQyNTZ9CiAgKiBAcmV0dXJuIHN1Y2Nlc3Mge2Jvb2x9CiAgKi8KICBmdW5jdGlvbiBkb1RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIGludGVybmFsIHJldHVybnMoYm9vbCkgewoKICAgIGlmIChtc2cuc2VuZGVyICE9IG1hc3RlcldhbGxldCkgewogICAgICByZXF1aXJlKHRyYW5zZmVyc0VuYWJsZWQpOwogICAgfSBlbHNlIHsKICAgICAgcmVxdWlyZShtYXN0ZXJUcmFuc2ZlcnNFbmFibGVkKTsKICAgIH0KCiAgICByZXF1aXJlKF9hbW91bnQgPiAwKTsKICAgIHJlcXVpcmUocGFyZW50U25hcFNob3RCbG9jayA8IGJsb2NrLm51bWJlcik7CiAgICByZXF1aXJlKChfdG8gIT0gMCkgJiYgKF90byAhPSBhZGRyZXNzKHRoaXMpKSk7CgogICAgLy8gSWYgdGhlIGFtb3VudCBiZWluZyB0cmFuc2ZlcmVkIGlzIG1vcmUgdGhhbiB0aGUgYmFsYW5jZSBvZiB0aGUKICAgIC8vIGFjY291bnQgdGhlIHRyYW5zZmVyIHJldHVybnMgZmFsc2UKICAgIHVpbnQyNTYgcHJldmlvdXNCYWxhbmNlRnJvbSA9IGJhbGFuY2VPZkF0KF9mcm9tLCBibG9jay5udW1iZXIpOwogICAgcmVxdWlyZShwcmV2aW91c0JhbGFuY2VGcm9tID49IF9hbW91bnQpOwoKICAgIC8vIEZpcnN0IHVwZGF0ZSB0aGUgYmFsYW5jZSBhcnJheSB3aXRoIHRoZSBuZXcgdmFsdWUgZm9yIHRoZSBhZGRyZXNzCiAgICAvLyAgc2VuZGluZyB0aGUgdG9rZW5zCiAgICB1cGRhdGVWYWx1ZUF0Tm93KGJhbGFuY2VzW19mcm9tXSwgcHJldmlvdXNCYWxhbmNlRnJvbSAtIF9hbW91bnQpOwoKICAgIC8vIFRoZW4gdXBkYXRlIHRoZSBiYWxhbmNlIGFycmF5IHdpdGggdGhlIG5ldyB2YWx1ZSBmb3IgdGhlIGFkZHJlc3MKICAgIC8vICByZWNlaXZpbmcgdGhlIHRva2VucwogICAgdWludDI1NiBwcmV2aW91c0JhbGFuY2VUbyA9IGJhbGFuY2VPZkF0KF90bywgYmxvY2subnVtYmVyKTsKICAgIHJlcXVpcmUocHJldmlvdXNCYWxhbmNlVG8gKyBfYW1vdW50ID49IHByZXZpb3VzQmFsYW5jZVRvKTsgLy8gQ2hlY2sgZm9yIG92ZXJmbG93CiAgICB1cGRhdGVWYWx1ZUF0Tm93KGJhbGFuY2VzW190b10sIHByZXZpb3VzQmFsYW5jZVRvICsgX2Ftb3VudCk7CgogICAgLy8gQW4gZXZlbnQgdG8gbWFrZSB0aGUgdHJhbnNmZXIgZWFzeSB0byBmaW5kIG9uIHRoZSBibG9ja2NoYWluCiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCgogIC8qKgogICogVG9rZW4gY3JlYXRpb24gZnVuY3Rpb25zIC0gY2FuIG9ubHkgYmUgY2FsbGVkIGJ5IHRoZSB0b2tlbnNhbGUgY29udHJvbGxlciBkdXJpbmcgdGhlIHRva2Vuc2FsZSBwZXJpb2QKICAqIEBwYXJhbSBfb3duZXIge2FkZHJlc3N9CiAgKiBAcGFyYW0gX2Ftb3VudCB7dWludDI1Nn0KICAqIEByZXR1cm4gc3VjY2VzcyB7Ym9vbH0KICAqLwogIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfb3duZXIsIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIG9ubHlDb250cm9sbGVyIGNhbk1pbnQgcmV0dXJucyAoYm9vbCkgewogICAgdWludDI1NiBjdXJUb3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5KCk7CiAgICB1aW50MjU2IHByZXZpb3VzQmFsYW5jZVRvID0gYmFsYW5jZU9mKF9vd25lcik7CgogICAgcmVxdWlyZShjdXJUb3RhbFN1cHBseSArIF9hbW91bnQgPj0gY3VyVG90YWxTdXBwbHkpOyAvLyBDaGVjayBmb3Igb3ZlcmZsb3cKICAgIHJlcXVpcmUocHJldmlvdXNCYWxhbmNlVG8gKyBfYW1vdW50ID49IHByZXZpb3VzQmFsYW5jZVRvKTsgLy8gQ2hlY2sgZm9yIG92ZXJmbG93CgogICAgdXBkYXRlVmFsdWVBdE5vdyh0b3RhbFN1cHBseUhpc3RvcnksIGN1clRvdGFsU3VwcGx5ICsgX2Ftb3VudCk7CiAgICB1cGRhdGVWYWx1ZUF0Tm93KGJhbGFuY2VzW19vd25lcl0sIHByZXZpb3VzQmFsYW5jZVRvICsgX2Ftb3VudCk7CiAgICBUcmFuc2ZlcigwLCBfb3duZXIsIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBtb2RpZmllciBjYW5NaW50KCkgewogICAgcmVxdWlyZSghbWludGluZ0ZpbmlzaGVkKTsKICAgIF87CiAgfQoKCiAgLyoqCiAgICogSW1wb3J0IHByZXNhbGUgYmFsYW5jZXMgYmVmb3JlIHRoZSBzdGFydCBvZiB0aGUgdG9rZW4gc2FsZS4gQWZ0ZXIgaW1wb3J0aW5nCiAgICogYmFsYW5jZXMsIGxvY2tQcmVzYWxlQmFsYW5jZXMoKSBoYXMgdG8gYmUgY2FsbGVkIHRvIHByZXZlbnQgZnVydGhlciBtb2RpZmljYXRpb24KICAgKiBvZiBwcmVzYWxlIGJhbGFuY2VzLgogICAqIEBwYXJhbSBfYWRkcmVzc2VzIHthZGRyZXNzW119IEFycmF5IG9mIHByZXNhbGUgYWRkcmVzc2VzCiAgICogQHBhcmFtIF9iYWxhbmNlcyB7dWludDI1NltdfSBBcnJheSBvZiBiYWxhbmNlcyBjb3JyZXNwb25kaW5nIHRvIHByZXNhbGUgYWRkcmVzc2VzLgogICAqIEByZXR1cm4gc3VjY2VzcyB7Ym9vbH0KICAgKi8KICBmdW5jdGlvbiBpbXBvcnRQcmVzYWxlQmFsYW5jZXMoYWRkcmVzc1tdIF9hZGRyZXNzZXMsIHVpbnQyNTZbXSBfYmFsYW5jZXMpIHB1YmxpYyBvbmx5Q29udHJvbGxlciByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKHByZXNhbGVCYWxhbmNlc0xvY2tlZCA9PSBmYWxzZSk7CgogICAgZm9yICh1aW50MjU2IGkgPSAwOyBpIDwgX2FkZHJlc3Nlcy5sZW5ndGg7IGkrKykgewogICAgICB1cGRhdGVWYWx1ZUF0Tm93KGJhbGFuY2VzW19hZGRyZXNzZXNbaV1dLCBfYmFsYW5jZXNbaV0pOwogICAgICBUcmFuc2ZlcigwLCBfYWRkcmVzc2VzW2ldLCBfYmFsYW5jZXNbaV0pOwogICAgfQoKICAgIHVwZGF0ZVZhbHVlQXROb3codG90YWxTdXBwbHlIaXN0b3J5LCBUT1RBTF9QUkVTQUxFX1RPS0VOUyk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIExvY2sgcHJlc2FsZSBiYWxhbmNlcyBhZnRlciBzdWNjZXNzZnVsIHByZXNhbGUgYmFsYW5jZSBpbXBvcnQKICAgKiBAcmV0dXJuIEEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICAqLwogIGZ1bmN0aW9uIGxvY2tQcmVzYWxlQmFsYW5jZXMoKSBwdWJsaWMgb25seUNvbnRyb2xsZXIgcmV0dXJucyAoYm9vbCkgewogICAgcHJlc2FsZUJhbGFuY2VzTG9ja2VkID0gdHJ1ZTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogTG9jayB0aGUgbWludGluZyBvZiBQcm9vZiBUb2tlbnMgLSB0byBiZSBjYWxsZWQgYWZ0ZXIgdGhlIHByZXNhbGUKICAgKiBAcmV0dXJuIHtib29sfSBzdWNjZXNzCiAgKi8KICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgcHVibGljIG9ubHlDb250cm9sbGVyIHJldHVybnMgKGJvb2wpIHsKICAgIG1pbnRpbmdGaW5pc2hlZCA9IHRydWU7CiAgICBNaW50RmluaXNoZWQoKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogRW5hYmxlIG9yIGJsb2NrIHRyYW5zZmVycyAtIHRvIGJlIGNhbGxlZCBpbiBjYXNlIG9mIGVtZXJnZW5jeQogICAqIEBwYXJhbSBfdmFsdWUge2Jvb2x9CiAgKi8KICBmdW5jdGlvbiBlbmFibGVUcmFuc2ZlcnMoYm9vbCBfdmFsdWUpIHB1YmxpYyBvbmx5Q29udHJvbGxlciB7CiAgICB0cmFuc2ZlcnNFbmFibGVkID0gX3ZhbHVlOwogIH0KCiAgLyoqCiAgICogRW5hYmxlIG9yIGJsb2NrIHRyYW5zZmVycyAtIHRvIGJlIGNhbGxlZCBpbiBjYXNlIG9mIGVtZXJnZW5jeQogICAqIEBwYXJhbSBfdmFsdWUge2Jvb2x9CiAgKi8KICBmdW5jdGlvbiBlbmFibGVNYXN0ZXJUcmFuc2ZlcnMoYm9vbCBfdmFsdWUpIHB1YmxpYyBvbmx5Q29udHJvbGxlciB7CiAgICBtYXN0ZXJUcmFuc2ZlcnNFbmFibGVkID0gX3ZhbHVlOwogIH0KCiAgLyoqCiAgICogSW50ZXJuYWwgYmFsYW5jZSBtZXRob2QgLSBnZXRzIGEgY2VydGFpbiBjaGVja3BvaW50IHZhbHVlIGEgYSBjZXJ0YWluIF9ibG9jawogICAqIEBwYXJhbSBfY2hlY2twb2ludHMge0NoZWNrcG9pbnRbXX0gTGlzdCBvZiBjaGVja3BvaW50cyAtIHN1cHBseSBoaXN0b3J5IG9yIGJhbGFuY2UgaGlzdG9yeQogICAqIEByZXR1cm4gdmFsdWUge3VpbnQyNTZ9IFZhbHVlIG9mIF9jaGVja3BvaW50cyBhdCBfYmxvY2sKICAqLwogIGZ1bmN0aW9uIGdldFZhbHVlQXQoQ2hlY2twb2ludFtdIHN0b3JhZ2UgX2NoZWNrcG9pbnRzLCB1aW50MjU2IF9ibG9jaykgY29uc3RhbnQgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewoKICAgICAgaWYgKF9jaGVja3BvaW50cy5sZW5ndGggPT0gMCkKICAgICAgICByZXR1cm4gMDsKICAgICAgLy8gU2hvcnRjdXQgZm9yIHRoZSBhY3R1YWwgdmFsdWUKICAgICAgaWYgKF9ibG9jayA+PSBfY2hlY2twb2ludHNbX2NoZWNrcG9pbnRzLmxlbmd0aC0xXS5mcm9tQmxvY2spCiAgICAgICAgcmV0dXJuIF9jaGVja3BvaW50c1tfY2hlY2twb2ludHMubGVuZ3RoLTFdLnZhbHVlOwogICAgICBpZiAoX2Jsb2NrIDwgX2NoZWNrcG9pbnRzWzBdLmZyb21CbG9jaykKICAgICAgICByZXR1cm4gMDsKCiAgICAgIC8vIEJpbmFyeSBzZWFyY2ggb2YgdGhlIHZhbHVlIGluIHRoZSBhcnJheQogICAgICB1aW50MjU2IG1pbiA9IDA7CiAgICAgIHVpbnQyNTYgbWF4ID0gX2NoZWNrcG9pbnRzLmxlbmd0aC0xOwogICAgICB3aGlsZSAobWF4ID4gbWluKSB7CiAgICAgICAgICB1aW50MjU2IG1pZCA9IChtYXggKyBtaW4gKyAxKSAvIDI7CiAgICAgICAgICBpZiAoX2NoZWNrcG9pbnRzW21pZF0uZnJvbUJsb2NrPD1fYmxvY2spIHsKICAgICAgICAgICAgICBtaW4gPSBtaWQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG1heCA9IG1pZC0xOwogICAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBfY2hlY2twb2ludHNbbWluXS52YWx1ZTsKICB9CgoKICAvKioKICAqIEludGVybmFsIHVwZGF0ZSBtZXRob2QgLSB1cGRhdGVzIHRoZSBjaGVja3BvaW50IGxlZGdlciBhdCB0aGUgY3VycmVudCBibG9jawogICogQHBhcmFtIF9jaGVja3BvaW50cyB7Q2hlY2twb2ludFtdfSAgTGlzdCBvZiBjaGVja3BvaW50cyAtIHN1cHBseSBoaXN0b3J5IG9yIGJhbGFuY2UgaGlzdG9yeQogICogQHJldHVybiB2YWx1ZSB7dWludDI1Nn0gVmFsdWUgdG8gYWRkIHRvIHRoZSBjaGVja3BvaW50cyBsZWRnZXIKICAgKi8KICBmdW5jdGlvbiB1cGRhdGVWYWx1ZUF0Tm93KENoZWNrcG9pbnRbXSBzdG9yYWdlIF9jaGVja3BvaW50cywgdWludDI1NiBfdmFsdWUpIGludGVybmFsIHsKICAgICAgaWYgKChfY2hlY2twb2ludHMubGVuZ3RoID09IDApIHx8IChfY2hlY2twb2ludHNbX2NoZWNrcG9pbnRzLmxlbmd0aC0xXS5mcm9tQmxvY2sgPCBibG9jay5udW1iZXIpKSB7CiAgICAgICAgICAgICAgQ2hlY2twb2ludCBzdG9yYWdlIG5ld0NoZWNrUG9pbnQgPSBfY2hlY2twb2ludHNbX2NoZWNrcG9pbnRzLmxlbmd0aCsrXTsKICAgICAgICAgICAgICBuZXdDaGVja1BvaW50LmZyb21CbG9jayA9IHVpbnQxMjgoYmxvY2subnVtYmVyKTsKICAgICAgICAgICAgICBuZXdDaGVja1BvaW50LnZhbHVlID0gdWludDEyOChfdmFsdWUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBDaGVja3BvaW50IHN0b3JhZ2Ugb2xkQ2hlY2tQb2ludCA9IF9jaGVja3BvaW50c1tfY2hlY2twb2ludHMubGVuZ3RoLTFdOwogICAgICAgICAgICAgIG9sZENoZWNrUG9pbnQudmFsdWUgPSB1aW50MTI4KF92YWx1ZSk7CiAgICAgICAgICB9CiAgfQoKCiAgZnVuY3Rpb24gbWluKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgLyoqCiAgKiBDbG9uZXMgUHJvb2YgVG9rZW4gYXQgdGhlIGdpdmVuIHNuYXBzaG90IGJsb2NrCiAgKiBAcGFyYW0gX3NuYXBzaG90QmxvY2sge3VpbnQyNTZ9CiAgKiBAcGFyYW0gX25hbWUge3N0cmluZ30gLSBUaGUgY2xvbmVkIHRva2VuIG5hbWUKICAqIEBwYXJhbSBfc3ltYm9sIHtzdHJpbmd9IC0gVGhlIGNsb25lZCB0b2tlbiBzeW1ib2wKICAqIEByZXR1cm4gY2xvbmVkVG9rZW5BZGRyZXNzIHthZGRyZXNzfQogICAqLwogIGZ1bmN0aW9uIGNyZWF0ZUNsb25lVG9rZW4odWludDI1NiBfc25hcHNob3RCbG9jaywgc3RyaW5nIF9uYW1lLCBzdHJpbmcgX3N5bWJvbCkgcHVibGljIHJldHVybnMoYWRkcmVzcykgewoKICAgICAgaWYgKF9zbmFwc2hvdEJsb2NrID09IDApIHsKICAgICAgICBfc25hcHNob3RCbG9jayA9IGJsb2NrLm51bWJlcjsKICAgICAgfQoKICAgICAgaWYgKF9zbmFwc2hvdEJsb2NrID4gYmxvY2subnVtYmVyKSB7CiAgICAgICAgX3NuYXBzaG90QmxvY2sgPSBibG9jay5udW1iZXI7CiAgICAgIH0KCiAgICAgIFByb29mVG9rZW4gY2xvbmVUb2tlbiA9IHRva2VuRmFjdG9yeS5jcmVhdGVDbG9uZVRva2VuKAogICAgICAgICAgdGhpcywKICAgICAgICAgIF9zbmFwc2hvdEJsb2NrLAogICAgICAgICAgX25hbWUsCiAgICAgICAgICBfc3ltYm9sCiAgICAgICAgKTsKCgogICAgICBjbG9uZVRva2VuLnRyYW5zZmVyQ29udHJvbChtc2cuc2VuZGVyKTsKCiAgICAgIC8vIEFuIGV2ZW50IHRvIG1ha2UgdGhlIHRva2VuIGVhc3kgdG8gZmluZCBvbiB0aGUgYmxvY2tjaGFpbgogICAgICBOZXdDbG9uZVRva2VuKGFkZHJlc3MoY2xvbmVUb2tlbikpOwogICAgICByZXR1cm4gYWRkcmVzcyhjbG9uZVRva2VuKTsKICAgIH0KCn0KCmNvbnRyYWN0IFByb29mVG9rZW5JbnRlcmZhY2UgaXMgQ29udHJvbGxhYmxlIHsKCiAgZXZlbnQgTWludChhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgYW1vdW50KTsKICBldmVudCBNaW50RmluaXNoZWQoKTsKICBldmVudCBDbGFpbWVkVG9rZW5zKGFkZHJlc3MgaW5kZXhlZCBfdG9rZW4sIGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIHVpbnQgX2Ftb3VudCk7CiAgZXZlbnQgTmV3Q2xvbmVUb2tlbihhZGRyZXNzIGluZGV4ZWQgX2Nsb25lVG9rZW4sIHVpbnQgX3NuYXBzaG90QmxvY2spOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50KTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCk7CiAgZnVuY3Rpb24gdG90YWxTdXBwbHlBdCh1aW50IF9ibG9ja051bWJlcikgcHVibGljIGNvbnN0YW50IHJldHVybnModWludCk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKICBmdW5jdGlvbiBiYWxhbmNlT2ZBdChhZGRyZXNzIF9vd25lciwgdWludCBfYmxvY2tOdW1iZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudCwgYnl0ZXMgX2V4dHJhRGF0YSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwogIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfb3duZXIsIHVpbnQgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGltcG9ydFByZXNhbGVCYWxhbmNlcyhhZGRyZXNzW10gX2FkZHJlc3NlcywgdWludDI1NltdIF9iYWxhbmNlcywgYWRkcmVzcyBfcHJlc2FsZUFkZHJlc3MpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBsb2NrUHJlc2FsZUJhbGFuY2VzKCkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcoKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gZW5hYmxlVHJhbnNmZXJzKGJvb2wgX3ZhbHVlKSBwdWJsaWM7CiAgZnVuY3Rpb24gZW5hYmxlTWFzdGVyVHJhbnNmZXJzKGJvb2wgX3ZhbHVlKSBwdWJsaWM7CiAgZnVuY3Rpb24gY3JlYXRlQ2xvbmVUb2tlbih1aW50IF9zbmFwc2hvdEJsb2NrLCBzdHJpbmcgX2Nsb25lVG9rZW5OYW1lLCBzdHJpbmcgX2Nsb25lVG9rZW5TeW1ib2wpIHB1YmxpYyByZXR1cm5zIChhZGRyZXNzKTsKCn0KCmNvbnRyYWN0IENvbnRyb2xsZXJJbnRlcmZhY2UgewoKICAgIGZ1bmN0aW9uIHByb3h5UGF5bWVudChhZGRyZXNzIF9vd25lcikgcHVibGljIHBheWFibGUgcmV0dXJucyhib29sKTsKICAgIGZ1bmN0aW9uIG9uVHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgcHVibGljIHJldHVybnMoYm9vbCk7CiAgICBmdW5jdGlvbiBvbkFwcHJvdmUoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2Ftb3VudCkgcHVibGljIHJldHVybnMoYm9vbCk7Cn0='.
	

]
