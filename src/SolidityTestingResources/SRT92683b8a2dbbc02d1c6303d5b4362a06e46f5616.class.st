Class {
	#name : #SRT92683b8a2dbbc02d1c6303d5b4362a06e46f5616,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT92683b8a2dbbc02d1c6303d5b4362a06e46f5616 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vCi8vIEdaUiAnR2l6ZXIgR2FtaW5nJyB0b2tlbiBwcmVzYWxlIGNvbnRyYWN0Ci8vCi8vIEZvciBkZXRhaWxzLCBwbGVhc2UgdmlzaXQ6IGh0dHA6Ly93d3cuZ2l6ZXIuaW8KLy8KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8KLy8gU2FmZU0gKGRpdiBub3QgbmVlZGVkIGJ1dCBrZXB0IGZvciBjb21wbGV0ZW5lc3MnIHNha2UpCi8vCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmxpYnJhcnkgU2FmZU0gewoKICBmdW5jdGlvbiBhZGQodWludCBhLCB1aW50IGIpIHB1YmxpYyBwdXJlIHJldHVybnMgKHVpbnQgYykgewogICAgYyA9IGEgKyBiOwogICAgcmVxdWlyZSggYyA+PSBhICk7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIHB1YmxpYyBwdXJlIHJldHVybnMgKHVpbnQgYykgewogICAgcmVxdWlyZSggYiA8PSBhICk7CiAgICBjID0gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBtdWwodWludCBhLCB1aW50IGIpIHB1YmxpYyBwdXJlIHJldHVybnMgKHVpbnQgYykgewogICAgYyA9IGEgKiBiOwogICAgcmVxdWlyZSggYSA9PSAwIHx8IGMgLyBhID09IGIgKTsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50IGEsIHVpbnQgYikgcHVibGljIHB1cmUgcmV0dXJucyAodWludCBjKSB7CiAgICBjID0gYSAvIGI7CiAgfSAgCgp9CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLwovLyBPd25lZCBjb250cmFjdAovLwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpjb250cmFjdCBPd25lZCB7CgogIGFkZHJlc3MgcHVibGljIG93bmVyOwogIGFkZHJlc3MgcHVibGljIG5ld093bmVyOwoKICAvLyBFdmVudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVyUHJvcG9zZWQoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvKTsKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgX3RvKTsKCiAgLy8gTW9kaWZpZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICBtb2RpZmllciBvbmx5T3duZXIgewogICAgcmVxdWlyZSggbXNnLnNlbmRlciA9PSBvd25lciApOwogICAgXzsKICB9CgogIC8vIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgZnVuY3Rpb24gT3duZWQoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZSggX25ld093bmVyICE9IG93bmVyICk7CiAgICByZXF1aXJlKCBfbmV3T3duZXIgIT0gYWRkcmVzcygweDApICk7CiAgICBuZXdPd25lciA9IF9uZXdPd25lcjsKICAgIE93bmVyc2hpcFRyYW5zZmVyUHJvcG9zZWQob3duZXIsIF9uZXdPd25lcik7CiAgfQoKICBmdW5jdGlvbiBhY2NlcHRPd25lcnNoaXAoKSBwdWJsaWMgewogICAgcmVxdWlyZSggbXNnLnNlbmRlciA9PSBuZXdPd25lciApOwogICAgb3duZXIgPSBuZXdPd25lcjsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyKTsKICB9Cgp9CgoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLwovLyBFUkMgVG9rZW4gU3RhbmRhcmQgIzIwIEludGVyZmFjZQovLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9ibG9iL21hc3Rlci9FSVBTL2VpcC0yMC10b2tlbi1zdGFuZGFyZC5tZAovLwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpjb250cmFjdCBFUkMyMEludGVyZmFjZSB7CgogIC8vIEV2ZW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50IF92YWx1ZSk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50IF92YWx1ZSk7CgogIC8vIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgYmFsYW5jZSk7CiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKTsKCn0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vCi8vIEVSQyBUb2tlbiBTdGFuZGFyZCAjMjAKLy8KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY29udHJhY3QgRVJDMjBUb2tlbiBpcyBFUkMyMEludGVyZmFjZSwgT3duZWQgewogIAogIHVzaW5nIFNhZmVNIGZvciB1aW50OwoKICB1aW50IHB1YmxpYyB0b2tlbnNJc3N1ZWRUb3RhbCA9IDA7CiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIGJhbGFuY2VzOwogIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpKSBhbGxvd2VkOwoKICAvLyBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogIC8qIFRvdGFsIHRva2VuIHN1cHBseSAqLwoKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpIHsKICAgIHJldHVybiB0b2tlbnNJc3N1ZWRUb3RhbDsKICB9CgogIC8qIEdldCB0aGUgYWNjb3VudCBiYWxhbmNlIGZvciBhbiBhZGRyZXNzICovCgogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludCBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9CgogIC8qIFRyYW5zZmVyIHRoZSBiYWxhbmNlIGZyb20gb3duZXIncyBhY2NvdW50IHRvIGFub3RoZXIgYWNjb3VudCAqLwoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAvLyBhbW91bnQgc2VudCBjYW5ub3QgZXhjZWVkIGJhbGFuY2UKICAgIHJlcXVpcmUoIGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF9hbW91bnQgKTsKCiAgICAvLyB1cGRhdGUgYmFsYW5jZXMKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOwogICAgYmFsYW5jZXNbX3RvXSAgICAgICAgPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKCiAgICAvLyBsb2cgZXZlbnQKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qIEFsbG93IF9zcGVuZGVyIHRvIHdpdGhkcmF3IGZyb20geW91ciBhY2NvdW50IHVwIHRvIF9hbW91bnQgKi8KCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIC8vIGFwcHJvdmFsIGFtb3VudCBjYW5ub3QgZXhjZWVkIHRoZSBiYWxhbmNlCiAgICByZXF1aXJlKCBiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfYW1vdW50ICk7CiAgICAgIAogICAgLy8gdXBkYXRlIGFsbG93ZWQgYW1vdW50CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF9hbW91bnQ7CiAgICAKICAgIC8vIGxvZyBldmVudAogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKiBTcGVuZGVyIG9mIHRva2VucyB0cmFuc2ZlcnMgdG9rZW5zIGZyb20gdGhlIG93bmVyJ3MgYmFsYW5jZSAqLwogIC8qIE11c3QgYmUgcHJlLWFwcHJvdmVkIGJ5IG93bmVyICovCgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAvLyBiYWxhbmNlIGNoZWNrcwogICAgcmVxdWlyZSggYmFsYW5jZXNbX2Zyb21dID49IF9hbW91bnQgKTsKICAgIHJlcXVpcmUoIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF9hbW91bnQgKTsKCiAgICAvLyB1cGRhdGUgYmFsYW5jZXMgYW5kIGFsbG93ZWQgYW1vdW50CiAgICBiYWxhbmNlc1tfZnJvbV0gICAgICAgICAgICA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX2Ftb3VudCk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KTsKICAgIGJhbGFuY2VzW190b10gICAgICAgICAgICAgID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CgogICAgLy8gbG9nIGV2ZW50CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyogUmV0dXJucyB0aGUgYW1vdW50IG9mIHRva2VucyBhcHByb3ZlZCBieSB0aGUgb3duZXIgKi8KICAvKiB0aGF0IGNhbiBiZSB0cmFuc2ZlcnJlZCBieSBzcGVuZGVyICovCgogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludCByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCn0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vCi8vIEdaUiB0b2tlbiBwcmVzYWxlCi8vCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmNvbnRyYWN0IEdpemVyVG9rZW5QcmVzYWxlIGlzIEVSQzIwVG9rZW4gewoKICAvKiBVdGlsaXR5IHZhcmlhYmxlcyAqLwogIAogIHVpbnQgY29uc3RhbnQgRTYgID0gMTAqKjY7CgogIC8qIEJhc2ljIHRva2VuIGRhdGEgKi8KCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lICAgICA9ICJHaXplciBHYW1pbmcgUHJlc2FsZSBUb2tlbiI7CiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgICA9ICJHWlJQUkUiOwogIHVpbnQ4ICBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSA2OwoKICAvKiBXYWxsZXRzICovCiAgCiAgYWRkcmVzcyBwdWJsaWMgd2FsbGV0OwogIGFkZHJlc3MgcHVibGljIHJlZGVtcHRpb25XYWxsZXQ7CgogIC8qIEdlbmVyYWwgY3Jvd2RzYWxlIHBhcmFtZXRlcnMgKi8gIAogIAogIHVpbnQgcHVibGljIGNvbnN0YW50IE1JTl9DT05UUklCVVRJT04gPSAxIGV0aGVyIC8gMTA7IC8vIDAuMSBFdGhlcgogIHVpbnQgcHVibGljIGNvbnN0YW50IE1BWF9DT05UUklCVVRJT04gPSAyMzAwIGV0aGVyOwogIAogIC8qIFByaXZhdGUgc2FsZSAqLwoKICB1aW50IHB1YmxpYyBjb25zdGFudCBQUklWQVRFX1NBTEVfTUFYX0VUSEVSID0gMTAwMCBldGhlcjsKICAKICAvKiBQcmVzYWxlIHBhcmFtZXRlcnMgKi8KICAKICB1aW50IHB1YmxpYyBjb25zdGFudCBEQVRFX1BSRVNBTEVfU1RBUlQgPSAxNTEyMDUwNDAwOyAvLyAzMC1Ob3YtMjAxNyAxNDowMCBVVEMKICB1aW50IHB1YmxpYyBjb25zdGFudCBEQVRFX1BSRVNBTEVfRU5EICAgPSAxNTEyOTE0NDAwOyAvLyAxMC1EZWMtMjAxNyAxNDowMCBVVEMKICAKICB1aW50IHB1YmxpYyBjb25zdGFudCBUT0tFVEhfUFJFU0FMRV9PTkUgICA9IDExNTAgKiBFNjsgLy8gcHJlc2FsZSB3YXZlIDEgKCAgMS0xMDApCiAgdWludCBwdWJsaWMgY29uc3RhbnQgVE9LRVRIX1BSRVNBTEVfVFdPICAgPSAxMTAwICogRTY7IC8vIHByZXNhbGUgd2F2ZSAyICgxMDEtNTAwKQogIHVpbnQgcHVibGljIGNvbnN0YW50IFRPS0VUSF9QUkVTQUxFX1RIUkVFID0gMTA3NSAqIEU2OyAvLyBwcmVzYWxlIC0gb3RoZXJzCiAgCiAgdWludCBwdWJsaWMgY29uc3RhbnQgQ1VUT0ZGX1BSRVNBTEVfT05FID0gMTAwOyAvLyBsYXN0IGNvbnRyaWJ1dG9yIHdhdmUgMQogIHVpbnQgcHVibGljIGNvbnN0YW50IENVVE9GRl9QUkVTQUxFX1RXTyA9IDUwMDsgLy8gbGFzdCBjb250cmlidXRvciB3YXZlIDIKCiAgdWludCBwdWJsaWMgY29uc3RhbnQgRlVORElOR19QUkVTQUxFX01BWCA9IDIzMDAgZXRoZXI7CgogIC8qIFByZXNhbGUgdmFyaWFibGVzICovCgogIHVpbnQgcHVibGljIGV0aGVyUmVjZWl2ZWRQcml2YXRlID0gMDsgLy8gcHJpdmF0ZSBzYWxlIEV0aGVyCiAgdWludCBwdWJsaWMgZXRoZXJSZWNlaXZlZENyb3dkICAgPSAwOyAvLyBjcm93ZHNhbGUgRXRoZXIKCiAgdWludCBwdWJsaWMgdG9rZW5zSXNzdWVkUHJpdmF0ZSA9IDA7IC8vIHByaXZhdGUgc2FsZSB0b2tlbnMKICB1aW50IHB1YmxpYyB0b2tlbnNJc3N1ZWRDcm93ZCAgID0gMDsgLy8gY3Jvd2RzYWxlIHRva2VucwogIHVpbnQgcHVibGljIHRva2Vuc0J1cm5lZFRvdGFsICAgPSAwOyAvLyB0b2tlbnMgYnVybmVkIGJ5IG93bmVyCiAgCiAgdWludCBwdWJsaWMgcHJlc2FsZUNvbnRyaWJ1dG9yQ291bnQgPSAwOwogIAogIGJvb2wgcHVibGljIHRva2Vuc0Zyb3plbiA9IGZhbHNlOwoKICAvKiBNYXBwaW5ncyAqLwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcHVibGljIGJhbGFuY2VFdGhQcml2YXRlOyAvLyBwcml2YXRlIHNhbGUgRXRoZXIKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcHVibGljIGJhbGFuY2VFdGhDcm93ZDsgICAvLyBjcm93ZHNhbGUgRXRoZXIKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBiYWxhbmNlc1ByaXZhdGU7IC8vIHByaXZhdGUgc2FsZSB0b2tlbnMKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcHVibGljIGJhbGFuY2VzQ3Jvd2Q7ICAgLy8gY3Jvd2RzYWxlIHRva2VucwoKICAvLyBFdmVudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgCiAgZXZlbnQgV2FsbGV0VXBkYXRlZChhZGRyZXNzIF9uZXdXYWxsZXQpOwogIGV2ZW50IFJlZGVtcHRpb25XYWxsZXRVcGRhdGVkKGFkZHJlc3MgX25ld1JlZGVtcHRpb25XYWxsZXQpOwogIGV2ZW50IFRva2Vuc0lzc3VlZChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCB1aW50IF90b2tlbnMsIHVpbnQgX2JhbGFuY2UsIHVpbnQgX3Rva2Vuc0lzc3VlZENyb3dkLCBib29sIGluZGV4ZWQgX2lzUHJpdmF0ZVNhbGUsIHVpbnQgX2Ftb3VudCk7CiAgZXZlbnQgT3duZXJUb2tlbnNCdXJuZWQodWludCBfdG9rZW5zQnVybmVkLCB1aW50IF90b2tlbnNCdXJuZWRUb3RhbCk7CiAgCiAgLy8gQmFzaWMgRnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLQoKICAvKiBJbml0aWFsaXplICovCgogIGZ1bmN0aW9uIEdpemVyVG9rZW5QcmVzYWxlKCkgcHVibGljIHsKICAgIHdhbGxldCA9IG93bmVyOwogICAgcmVkZW1wdGlvbldhbGxldCA9IG93bmVyOwogIH0KCiAgLyogRmFsbGJhY2sgKi8KICAKICBmdW5jdGlvbiAoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICBidXlUb2tlbnMoKTsKICB9CgogIC8vIEluZm9ybWF0aW9uIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0KICAKICAvKiBXaGF0IHRpbWUgaXMgaXQ/ICovCiAgCiAgZnVuY3Rpb24gYXROb3coKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KSB7CiAgICByZXR1cm4gbm93OwogIH0KCiAgLy8gT3duZXIgRnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLQogIAogIC8qIENoYW5nZSB0aGUgY3Jvd2RzYWxlIHdhbGxldCBhZGRyZXNzICovCgogIGZ1bmN0aW9uIHNldFdhbGxldChhZGRyZXNzIF93YWxsZXQpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZSggX3dhbGxldCAhPSBhZGRyZXNzKDB4MCkgKTsKICAgIHdhbGxldCA9IF93YWxsZXQ7CiAgICBXYWxsZXRVcGRhdGVkKF93YWxsZXQpOwogIH0KCiAgLyogQ2hhbmdlIHRoZSByZWRlbXB0aW9uIHdhbGxldCBhZGRyZXNzICovCgogIGZ1bmN0aW9uIHNldFJlZGVtcHRpb25XYWxsZXQoYWRkcmVzcyBfd2FsbGV0KSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlZGVtcHRpb25XYWxsZXQgPSBfd2FsbGV0OwogICAgUmVkZW1wdGlvbldhbGxldFVwZGF0ZWQoX3dhbGxldCk7CiAgfQogIAogIC8qIElzc3VlIHRva2VucyBmb3IgRVRIIHJlY2VpdmVkIGR1cmluZyBwcml2YXRlIHNhbGUgKi8KCiAgZnVuY3Rpb24gcHJpdmF0ZVNhbGVDb250cmlidXRpb24oYWRkcmVzcyBfYWNjb3VudCwgdWludCBfYW1vdW50KSBwdWJsaWMgb25seU93bmVyIHsKICAgIC8vIGNoZWNrcwogICAgcmVxdWlyZSggX2FjY291bnQgIT0gYWRkcmVzcygweDApICk7CiAgICByZXF1aXJlKCBhdE5vdygpIDwgREFURV9QUkVTQUxFX0VORCApOwogICAgcmVxdWlyZSggX2Ftb3VudCA+PSBNSU5fQ09OVFJJQlVUSU9OICk7CiAgICByZXF1aXJlKCBldGhlclJlY2VpdmVkUHJpdmF0ZS5hZGQoX2Ftb3VudCkgPD0gUFJJVkFURV9TQUxFX01BWF9FVEhFUiApOwogICAgCiAgICAvLyBzYW1lIGNvbmRpdGlvbnMgYXMgZWFybHkgcHJlc2FsZSBwYXJ0aWNpcGFudHMKICAgIHVpbnQgdG9rZW5zID0gVE9LRVRIX1BSRVNBTEVfT05FLm11bChfYW1vdW50KSAvIDEgZXRoZXI7CiAgICAKICAgIC8vIGlzc3VlIHRva2VucwogICAgaXNzdWVUb2tlbnMoX2FjY291bnQsIHRva2VucywgX2Ftb3VudCwgdHJ1ZSk7IC8vIHRydWUgPT4gcHJpdmF0ZSBzYWxlCiAgfQoKICAvKiBGcmVlemUgdG9rZW5zICovCiAgCiAgZnVuY3Rpb24gZnJlZXplVG9rZW5zKCkgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKCBhdE5vdygpID4gREFURV9QUkVTQUxFX0VORCApOwogICAgdG9rZW5zRnJvemVuID0gdHJ1ZTsKICB9CiAgCiAgLyogQnVybiB0b2tlbnMgaGVsZCBieSBvd25lciAqLwogIAogIGZ1bmN0aW9uIGJ1cm5Pd25lclRva2VucygpIHB1YmxpYyBvbmx5T3duZXIgewogICAgLy8gY2hlY2sgaWYgdGhlcmUgaXMgYW55dGhpbmcgdG8gYnVybgogICAgcmVxdWlyZSggYmFsYW5jZXNbb3duZXJdID4gMCApOwogICAgCiAgICAvLyB1cGRhdGUgCiAgICB1aW50IHRva2Vuc0J1cm5lZCA9IGJhbGFuY2VzW293bmVyXTsKICAgIGJhbGFuY2VzW293bmVyXSA9IDA7CiAgICB0b2tlbnNJc3N1ZWRUb3RhbCA9IHRva2Vuc0lzc3VlZFRvdGFsLnN1Yih0b2tlbnNCdXJuZWQpOwogICAgdG9rZW5zQnVybmVkVG90YWwgPSB0b2tlbnNCdXJuZWRUb3RhbC5hZGQodG9rZW5zQnVybmVkKTsKICAgIAogICAgLy8gbG9nCiAgICBUcmFuc2Zlcihvd25lciwgMHgwLCB0b2tlbnNCdXJuZWQpOwogICAgT3duZXJUb2tlbnNCdXJuZWQodG9rZW5zQnVybmVkLCB0b2tlbnNCdXJuZWRUb3RhbCk7CgogIH0gIAoKICAvKiBUcmFuc2ZlciBvdXQgYW55IGFjY2lkZW50YWxseSBzZW50IEVSQzIwIHRva2VucyAqLwoKICBmdW5jdGlvbiB0cmFuc2ZlckFueUVSQzIwVG9rZW4oYWRkcmVzcyB0b2tlbkFkZHJlc3MsIHVpbnQgYW1vdW50KSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICByZXR1cm4gRVJDMjBJbnRlcmZhY2UodG9rZW5BZGRyZXNzKS50cmFuc2Zlcihvd25lciwgYW1vdW50KTsKICB9CgogIC8vIFByaXZhdGUgZnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0KCiAgLyogQWNjZXB0IEVUSCBkdXJpbmcgcHJlc2FsZSAoY2FsbGVkIGJ5IGRlZmF1bHQgZnVuY3Rpb24pICovCgogIGZ1bmN0aW9uIGJ1eVRva2VucygpIHByaXZhdGUgewogICAgLy8gaW5pdGlhbCBjaGVja3MKICAgIHJlcXVpcmUoIGF0Tm93KCkgPiBEQVRFX1BSRVNBTEVfU1RBUlQgJiYgYXROb3coKSA8IERBVEVfUFJFU0FMRV9FTkQgKTsKICAgIHJlcXVpcmUoIG1zZy52YWx1ZSA+PSBNSU5fQ09OVFJJQlVUSU9OICYmIG1zZy52YWx1ZSA8PSBNQVhfQ09OVFJJQlVUSU9OICk7CiAgICByZXF1aXJlKCBldGhlclJlY2VpdmVkQ3Jvd2QuYWRkKG1zZy52YWx1ZSkgPD0gRlVORElOR19QUkVTQUxFX01BWCApOwoKICAgIC8vIHRva2VucwogICAgdWludCB0b2tlbnM7CiAgICBpZiAocHJlc2FsZUNvbnRyaWJ1dG9yQ291bnQgPCBDVVRPRkZfUFJFU0FMRV9PTkUpIHsKICAgICAgLy8gd2F2ZSAxCiAgICAgIHRva2VucyA9IFRPS0VUSF9QUkVTQUxFX09ORS5tdWwobXNnLnZhbHVlKSAvIDEgZXRoZXI7CiAgICB9IGVsc2UgaWYgKHByZXNhbGVDb250cmlidXRvckNvdW50IDwgQ1VUT0ZGX1BSRVNBTEVfVFdPKSB7CiAgICAgIC8vIHdhdmUgMgogICAgICB0b2tlbnMgPSBUT0tFVEhfUFJFU0FMRV9UV08ubXVsKG1zZy52YWx1ZSkgLyAxIGV0aGVyOwogICAgfSBlbHNlIHsKICAgICAgLy8gd2F2ZSAzCiAgICAgIHRva2VucyA9IFRPS0VUSF9QUkVTQUxFX1RIUkVFLm11bChtc2cudmFsdWUpIC8gMSBldGhlcjsKICAgIH0KICAgIHByZXNhbGVDb250cmlidXRvckNvdW50ICs9IDE7CiAgICAKICAgIC8vIGlzc3VlIHRva2VucwogICAgaXNzdWVUb2tlbnMobXNnLnNlbmRlciwgdG9rZW5zLCBtc2cudmFsdWUsIGZhbHNlKTsgLy8gZmFsc2UgPT4gbm90IHByaXZhdGUgc2FsZQogIH0KICAKICAvKiBJc3N1ZSB0b2tlbnMgKi8KICAKICBmdW5jdGlvbiBpc3N1ZVRva2VucyhhZGRyZXNzIF9hY2NvdW50LCB1aW50IF90b2tlbnMsIHVpbnQgX2Ftb3VudCwgYm9vbCBfaXNQcml2YXRlU2FsZSkgcHJpdmF0ZSB7CiAgICAvLyByZWdpc3RlciB0b2tlbnMgcHVyY2hhc2VkIGFuZCBFdGhlciByZWNlaXZlZAogICAgYmFsYW5jZXNbX2FjY291bnRdID0gYmFsYW5jZXNbX2FjY291bnRdLmFkZChfdG9rZW5zKTsKICAgIHRva2Vuc0lzc3VlZENyb3dkICA9IHRva2Vuc0lzc3VlZENyb3dkLmFkZChfdG9rZW5zKTsKICAgIHRva2Vuc0lzc3VlZFRvdGFsICA9IHRva2Vuc0lzc3VlZFRvdGFsLmFkZChfdG9rZW5zKTsKICAgIAogICAgaWYgKF9pc1ByaXZhdGVTYWxlKSB7CiAgICAgIHRva2Vuc0lzc3VlZFByaXZhdGUgICAgICAgICA9IHRva2Vuc0lzc3VlZFByaXZhdGUuYWRkKF90b2tlbnMpOwogICAgICBldGhlclJlY2VpdmVkUHJpdmF0ZSAgICAgICAgPSBldGhlclJlY2VpdmVkUHJpdmF0ZS5hZGQoX2Ftb3VudCk7CiAgICAgIGJhbGFuY2VzUHJpdmF0ZVtfYWNjb3VudF0gICA9IGJhbGFuY2VzUHJpdmF0ZVtfYWNjb3VudF0uYWRkKF90b2tlbnMpOwogICAgICBiYWxhbmNlRXRoUHJpdmF0ZVtfYWNjb3VudF0gPSBiYWxhbmNlRXRoUHJpdmF0ZVtfYWNjb3VudF0uYWRkKF9hbW91bnQpOwogICAgfSBlbHNlIHsKICAgICAgZXRoZXJSZWNlaXZlZENyb3dkICAgICAgICA9IGV0aGVyUmVjZWl2ZWRDcm93ZC5hZGQoX2Ftb3VudCk7CiAgICAgIGJhbGFuY2VzQ3Jvd2RbX2FjY291bnRdICAgPSBiYWxhbmNlc0Nyb3dkW19hY2NvdW50XS5hZGQoX3Rva2Vucyk7CiAgICAgIGJhbGFuY2VFdGhDcm93ZFtfYWNjb3VudF0gPSBiYWxhbmNlRXRoQ3Jvd2RbX2FjY291bnRdLmFkZChfYW1vdW50KTsKICAgIH0KICAgIAogICAgLy8gbG9nIHRva2VuIGlzc3VhbmNlCiAgICBUcmFuc2ZlcigweDAsIF9hY2NvdW50LCBfdG9rZW5zKTsKICAgIFRva2Vuc0lzc3VlZChfYWNjb3VudCwgX3Rva2VucywgYmFsYW5jZXNbX2FjY291bnRdLCB0b2tlbnNJc3N1ZWRDcm93ZCwgX2lzUHJpdmF0ZVNhbGUsIF9hbW91bnQpOwoKICAgIC8vIHRyYW5zZmVyIEV0aGVyIG91dAogICAgaWYgKHRoaXMuYmFsYW5jZSA+IDApIHdhbGxldC50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwoKICB9CgogIC8vIEVSQzIwIGZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0KCiAgLyogT3ZlcnJpZGUgInRyYW5zZmVyIiAqLwoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXF1aXJlKCBfdG8gPT0gb3duZXIgfHwgKCF0b2tlbnNGcm96ZW4gJiYgX3RvID09IHJlZGVtcHRpb25XYWxsZXQpICk7CiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXIoX3RvLCBfYW1vdW50KTsKICB9CiAgCiAgLyogT3ZlcnJpZGUgInRyYW5zZmVyRnJvbSIgKi8KCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJlcXVpcmUoICF0b2tlbnNGcm96ZW4gJiYgX3RvID09IHJlZGVtcHRpb25XYWxsZXQgKTsKICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX2Ftb3VudCk7CiAgfQoKfQ=='.
	

]
