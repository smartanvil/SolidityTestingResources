Class {
	#name : #SRT13646d839725a5e88555a694ac94696824a18332,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT13646d839725a5e88555a694ac94696824a18332 >> base64 [
	^ 'LyoqCiAgKiBMZWdlbnJpY2ggTGVSVCB0b2tlbiAKICAqCiAgKiBNb3JlIGF0IGh0dHBzOi8vbGVnZW5yaWNoLmNvbQogICoKICAqIFNtYXJ0IGNvbnRyYWN0IGFuZCBwYXltZW50IGdhdGV3YXkgZGV2ZWxvcGVkIGJ5IGh0dHBzOi8vc21hcnQyYmUuY29tLCAKICAqIFByZW1pdW0gSUNPIGNhbXBhaWduIG1hbmFnaW5nIGNvbXBhbnkKICAqCiAgKiovCgpwcmFnbWEgc29saWRpdHkgXjAuNC4xOTsKCmNvbnRyYWN0IG93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIGZ1bmN0aW9uIG93bmVkKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgbW9kaWZpZXIgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KfQoKCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewoKICAvKioKICAqIEBkZXYgTXVsdGlwbGllcyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93LgogICovCiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmIChhID09IDApIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgLyoqCiAgKiBAZGV2IEludGVnZXIgZGl2aXNpb24gb2YgdHdvIG51bWJlcnMsIHRydW5jYXRpbmcgdGhlIHF1b3RpZW50LgogICovCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICAvKioKICAqIEBkZXYgU3Vic3RyYWN0cyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93IChpLmUuIGlmIHN1YnRyYWhlbmQgaXMgZ3JlYXRlciB0aGFuIG1pbnVlbmQpLgogICovCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgLyoqCiAgKiBAZGV2IEFkZHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAqLwogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgppbnRlcmZhY2UgdG9rZW5SZWNpcGllbnQgeyBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWM7IH0KCgpjb250cmFjdCBUb2tlbkVSQzIwIGlzIG93bmVkIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwogCiAgICBib29sIHB1YmxpYyBtaW50aW5nRmluaXNoZWQgPSBmYWxzZTsKCiAgICAgbW9kaWZpZXIgY2FuTWludCB7CiAgICAgICAgcmVxdWlyZSghbWludGluZ0ZpbmlzaGVkKTsKICAgICAgICBfOwogICAgfQogICAgbW9kaWZpZXIgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgLy8gUHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4KICAgIHN0cmluZyBwdWJsaWMgbmFtZTsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOwogICAgdWludDggcHVibGljIGRlY2ltYWxzID0gMTg7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICAvLyBUaGlzIGNyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgYmFsYW5jZXMKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VPZjsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgcHVibGljIGFsbG93ZWQ7CiAgICAgLy8gTGlzdCBvZiBUZWFtIGFuZCBGb3VuZGVycyBhY2NvdW50J3MgZnJvemVuIHRpbGwgMTUgTm92ZW1iZXIgMjAxOAogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgZnJvemVuQWNjb3VudDsKCiAgICAvLyBUaGlzIGdlbmVyYXRlcyBhIHB1YmxpYyBldmVudCBvbiB0aGUgYmxvY2tjaGFpbiB0aGF0IHdpbGwgbm90aWZ5IGNsaWVudHMKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKICAgIGV2ZW50IEZyb3plbihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludDI1NiB0aWxsKTsKCiAgICAvLyBUaGlzIG5vdGlmaWVzIGNsaWVudHMgYWJvdXQgdGhlIGFtb3VudCBidXJudAogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludDI1NiB2YWx1ZSk7CiAgICAvLyBNaW50aW5nIAogICAgZXZlbnQgTWludChhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgYW1vdW50KTsKICAgIGV2ZW50IE1pbnRTdGFydGVkKCk7CiAgICBldmVudCBNaW50RmluaXNoZWQoKTsKCiAgICAvKioKICAgICAqIENvbnN0cmN0b3IgZnVuY3Rpb24KICAgICAqCiAgICAgKiBJbml0aWFsaXplcyBjb250cmFjdCB3aXRoIGluaXRpYWwgc3VwcGx5IHRva2VucyB0byB0aGUgY3JlYXRvciBvZiB0aGUgY29udHJhY3QKICAgICAqLwogICAgZnVuY3Rpb24gVG9rZW5FUkMyMCgKICAgICAgICB1aW50MjU2IGluaXRpYWxTdXBwbHksCiAgICAgICAgc3RyaW5nIHRva2VuTmFtZSwKICAgICAgICBzdHJpbmcgdG9rZW5TeW1ib2wKICAgICkgcHVibGljIHsKICAgICAgICB0b3RhbFN1cHBseSA9IGluaXRpYWxTdXBwbHkgKiAxMCAqKiB1aW50MjU2KGRlY2ltYWxzKTsgICAgICAvLyBVcGRhdGUgdG90YWwgc3VwcGx5IHdpdGggdGhlIGRlY2ltYWwgYW1vdW50CiAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdID0gdG90YWxTdXBwbHk7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2l2ZSB0aGUgY3JlYXRvciBhbGwgaW5pdGlhbCB0b2tlbnMKICAgICAgICBuYW1lID0gdG9rZW5OYW1lOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIG5hbWUgZm9yIGRpc3BsYXkgcHVycG9zZXMKICAgICAgICBzeW1ib2wgPSB0b2tlblN5bWJvbDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIHN5bWJvbCBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgfQoKICAgIC8qIFJldHVybnMgdG90YWwgc3VwcGx5IG9mIGlzc3VlZCB0b2tlbnMgKi8KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQyNTYgc3VwcGx5KSB7CiAgICAgICAgcmV0dXJuIHRvdGFsU3VwcGx5OwogICAgfQogICAgLyogUmV0dXJucyBiYWxhbmNlIG9mICBfb3duZXIgCiAgICAgKiAgIAogICAgICogQHBhcmFtIF9vd25lciBBZGRyZXNzIHRvIGNoZWNrIGJhbGFuY2UgICAKICAgICAqICAgCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlT2ZbX293bmVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KICAgIC8qKgogICAgICAqIFRyYW5zZmVyIHRva2VucwogICAgICAqCiAgICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbnMgdG8gYF90b2AgZnJvbSB5b3VyIGFjY291bnQKICAgICAgKgogICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIGFtb3VudCB0byBzZW5kCiAgICAgICovICAgCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZU9mW21zZy5zZW5kZXJdKTsKICAgICAgICByZXF1aXJlKGZyb3plbkFjY291bnRbbXNnLnNlbmRlcl0gPCBub3cpOyAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBzZW5kZXIgaXMgZnJvemVuCiAgICAgICAgaWYgKGZyb3plbkFjY291bnRbbXNnLnNlbmRlcl0gPCBub3cpIGZyb3plbkFjY291bnRbbXNnLnNlbmRlcl0gPSAwOwogICAgICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPSBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZU9mW190b10gPSBiYWxhbmNlT2ZbX3RvXS5hZGQoX3ZhbHVlKTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgIAogICAgLyoqCiAgICAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAgICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAgICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZAogICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlT2ZbX2Zyb21dKTsKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CiAgICAgICAgcmVxdWlyZShmcm96ZW5BY2NvdW50W19mcm9tXSA8IG5vdyk7ICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHNlbmRlciBpcyBmcm96ZW4KICAgICAgICBpZiAoZnJvemVuQWNjb3VudFtfZnJvbV0gPCBub3cpIGZyb3plbkFjY291bnRbX2Zyb21dID0gMDsKICAgICAgICBiYWxhbmNlT2ZbX2Zyb21dID0gYmFsYW5jZU9mW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlT2ZbX3RvXSA9IGJhbGFuY2VPZltfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBhbGxvd2VkIGZvciBvdGhlciBhZGRyZXNzCiAgICAgKgogICAgICogQWxsb3dzIGBfc3BlbmRlcmAgdG8gc3BlbmQgbm8gbW9yZSB0aGFuIGBfdmFsdWVgIHRva2VucyBpbiB5b3VyIGJlaGFsZgogICAgICoKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBhdXRob3JpemVkIHRvIHNwZW5kCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBtYXggYW1vdW50IHRoZXkgY2FuIHNwZW5kCiAgICAgKi8KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICAqIGFwcHJvdmUgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFsbG93ZWRbX3NwZW5kZXJdID09IDAuIFRvIGluY3JlbWVudAogICAgICAqIGFsbG93ZWQgdmFsdWUgaXMgYmV0dGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGF2b2lkIDIgY2FsbHMgKGFuZCB3YWl0IHVudGlsCiAgICAgICogdGhlIGZpcnN0IHRyYW5zYWN0aW9uIGlzIG1pbmVkKQogICAgICAqIEZyb20gTW9ub2xpdGhEQU8gVG9rZW4uc29sCiAgICAgICovCiAgICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXS5hZGQoX2FkZGVkVmFsdWUpOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICAgICAgfSAgIAogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBCdXJucyB0b2tlbnMKICAgICAqCiAgICAgKiBSZW1vdmUgYF92YWx1ZWAgdG9rZW5zIGZyb20gdGhlIHN5c3RlbSBpcnJldmVyc2libHkKICAgICAqCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBhbW91bnQgb2YgbW9uZXkgdG8gYnVybgogICAgICovCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKTsgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOyAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIHRvdGFsU3VwcGx5IC09IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlcyB0b3RhbFN1cHBseQogICAgICAgIEJ1cm4obXNnLnNlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIERlc3Ryb3kgdG9rZW5zIGZyb20gb3RoZXIgYWNjb3VudAogICAgICoKICAgICAqIFJlbW92ZSBgX3ZhbHVlYCB0b2tlbnMgZnJvbSB0aGUgc3lzdGVtIGlycmV2ZXJzaWJseSBvbiBiZWhhbGYgb2YgYF9mcm9tYC4KICAgICAqCiAgICAgKiBAcGFyYW0gX2Zyb20gdGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IG9mIG1vbmV5IHRvIGJ1cm4KICAgICAqLwogICAgZnVuY3Rpb24gYnVybkZyb20oYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKGJhbGFuY2VPZltfZnJvbV0gPj0gX3ZhbHVlKTsgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRhcmdldGVkIGJhbGFuY2UgaXMgZW5vdWdoCiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0pOyAgICAvLyBDaGVjayBhbGxvd2VkCiAgICAgICAgYmFsYW5jZU9mW19mcm9tXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHRhcmdldGVkIGJhbGFuY2UKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7ICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcidzIGFsbG93ZWQKICAgICAgICB0b3RhbFN1cHBseSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRvdGFsU3VwcGx5CiAgICAgICAgQnVybihfZnJvbSwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogQ3JlYXRlIG5ldyB0b2tlbnMKICAgICAqCiAgICAgKiBDcmVhdGUgYF92YWx1ZWAgdG9rZW5zIG9uIGJlaGFsZiBvZiBPd25lci4KICAgICAqCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBhbW91bnQgb2YgbW9uZXkgdG8gYnVybgogICAgICovCiAgICBmdW5jdGlvbiBfbWludCh1aW50MjU2IF92YWx1ZSkgY2FuTWludCBpbnRlcm5hbCAgewogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdID0gYmFsYW5jZU9mW21zZy5zZW5kZXJdLmFkZChfdmFsdWUpOwogICAgfQogICAgCiAgICAvKioKICAgICAgKiBAZGV2IEZ1bmN0aW9uIHRvIHN0b3AgbWludGluZyBuZXcgdG9rZW5zLgogICAgICAqIEByZXR1cm4gVHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICAgICAqLwogICAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIG9ubHlPd25lciBjYW5NaW50IHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgbWludGluZ0ZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICBNaW50RmluaXNoZWQoKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICAqIEBkZXYgRnVuY3Rpb24gdG8gc3RhcnQgbWludGluZyBuZXcgdG9rZW5zLgogICAgICAqIEByZXR1cm4gVHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICAgICAqLwogICAgZnVuY3Rpb24gc3RhcnRNaW50aW5nKCkgb25seU93bmVyICBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIG1pbnRpbmdGaW5pc2hlZCA9IGZhbHNlOwogICAgICAgIE1pbnRTdGFydGVkKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9ICAKCiAgICAvKioKICAgICAgKiBAbm90aWNlIEZyZWV6ZXMgZnJvbSBzZW5kaW5nICYgcmVjZWl2aW5nIHRva2Vucy4gRm9yIHVzZXJzIHByb3RlY3Rpb24gY2FuJ3QgYmUgdXNlZCBhZnRlciAxNTQyMzI2Mzk5CiAgICAgICogYW5kIHdpbGwgbm90IGFsbG93IGNvcnJlY3Rpb25zLgogICAgICAqICAgICAgICAgICAKICAgICAgKiBAcGFyYW0gX2Zyb20gIEZvdW5kZXJzIGFuZCBUZWFtIGFjY291bnQgd2UgYXJlIGZyZWV6aW5nIGZyb20gc2VuZGluZwogICAgICAqIEBwYXJhbSBfdGlsbCBUaW1lc3RhbXAgdGlsbCB0aGUgZW5kIG9mIGZyZWV6ZQogICAgICAqCiAgICAgICovCiAgIGZ1bmN0aW9uIGZyZWV6ZUFjY291bnQoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdGlsbCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShmcm96ZW5BY2NvdW50W19mcm9tXSA9PSAwKTsKICAgICAgICBmcm96ZW5BY2NvdW50W19mcm9tXSA9IF90aWxsOyAgICAgICAgICAgICAgICAgIAogICAgfQoKfQoKCmNvbnRyYWN0IExlUlQgaXMgVG9rZW5FUkMyMCB7CgogCgogICAgLy8gVGhpcyBpcyB0aW1lIGZvciBuZXh0IFByb2ZpdCBFcXVpdmFsZW50CiAgICBzdHJ1Y3QgcGVyaW9kVGVybXMgeyAKICAgICAgICB1aW50MjU2IHBlcmlvZFRpbWU7CiAgICAgICAgdWludCBwZXJpb2RCb251czsgICAvLyBJbiBQcm9jZW50cwogICAgfQogICAgCiAgICB1aW50MjU2IHB1YmxpYyBwcmljZUxlUlQgPSAxMDAwMDAwMDAwMDAwMDA7IC8vIFN0YXJ0aW5nIFByaWNlIDEgRVRIID0gMTAwMDAgTGVSVAoKICAgIHVpbnQgcHVibGljIGN1cnJlbnRQZXJpb2QgPSAwOwogICAgCiAgICBtYXBwaW5nICh1aW50ID0+IHBlcmlvZFRlcm1zKSBwdWJsaWMgcGVyaW9kVGFibGU7CgogICAgLy8gTGlzdCBvZiBUZWFtIGFuZCBGb3VuZGVycyBhY2NvdW50J3MgZnJvemVuIHRpbGwgMDEgTWF5IDIwMTkKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGZyb3plbkFjY291bnQ7CgogICAgCiAgICAvKiBIYW5kbGVzIGluY29taW5nIHBheW1lbnRzIHRvIGNvbnRyYWN0J3MgYWRkcmVzcyAqLwogICAgZnVuY3Rpb24oKSBwYXlhYmxlIGNhbk1pbnQgcHVibGljIHsKICAgICAgICBpZiAobm93ID4gcGVyaW9kVGFibGVbY3VycmVudFBlcmlvZF0ucGVyaW9kVGltZSkgY3VycmVudFBlcmlvZCsrOwogICAgICAgIHJlcXVpcmUoY3VycmVudFBlcmlvZCAhPSA3KTsKICAgICAgICAKICAgICAgICB1aW50MjU2IG5ld1Rva2VuczsKICAgICAgICByZXF1aXJlKHByaWNlTGVSVCA+IDApOwogICAgICAgIC8vIGNhbGN1bGF0ZSBuZXcgdG9rZW5zCiAgICAgICAgbmV3VG9rZW5zID0gbXNnLnZhbHVlIC8gcHJpY2VMZVJUICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CiAgICAgICAgLy8gY2FsY3VsYXRlIGJvbnVzIHRva2VucwogICAgICAgIG5ld1Rva2VucyArPSBuZXdUb2tlbnMvMTAwICogcGVyaW9kVGFibGVbY3VycmVudFBlcmlvZF0ucGVyaW9kQm9udXM7IAogICAgICAgIF9taW50KG5ld1Rva2Vucyk7CiAgICAgICAgb3duZXIudHJhbnNmZXIobXNnLnZhbHVlKTsgCiAgICB9CgogICAgLyogSW5pdGlhbGl6ZXMgY29udHJhY3Qgd2l0aCBpbml0aWFsIHN1cHBseSB0b2tlbnMgdG8gdGhlIGNyZWF0b3Igb2YgdGhlIGNvbnRyYWN0ICovCiAgICBmdW5jdGlvbiBMZVJUKAogICAgICAgIHVpbnQyNTYgaW5pdGlhbFN1cHBseSwKICAgICAgICBzdHJpbmcgdG9rZW5OYW1lLAogICAgICAgIHN0cmluZyB0b2tlblN5bWJvbAogICAgKSBUb2tlbkVSQzIwKGluaXRpYWxTdXBwbHksIHRva2VuTmFtZSwgdG9rZW5TeW1ib2wpIHB1YmxpYyB7CiAgICAgICAgLy8gc2V0IHBlcmlvZHMgb24gc3RhcnR1cAogICAgICAgIHBlcmlvZFRhYmxlWzBdLnBlcmlvZFRpbWUgPSAxNTE5MDg0ODAwOwogICAgICAgIHBlcmlvZFRhYmxlWzBdLnBlcmlvZEJvbnVzID0gNTA7CiAgICAgICAgcGVyaW9kVGFibGVbMV0ucGVyaW9kVGltZSA9IDE1MTkzNDM5OTk7CiAgICAgICAgcGVyaW9kVGFibGVbMV0ucGVyaW9kQm9udXMgPSA0NTsKICAgICAgICBwZXJpb2RUYWJsZVsyXS5wZXJpb2RUaW1lID0gMTUxOTY4OTU5OTsKICAgICAgICBwZXJpb2RUYWJsZVsyXS5wZXJpb2RCb251cyA9IDQwOwogICAgICAgIHBlcmlvZFRhYmxlWzNdLnBlcmlvZFRpbWUgPSAxNTIwMjk0Mzk5OwogICAgICAgIHBlcmlvZFRhYmxlWzNdLnBlcmlvZEJvbnVzID0gMzU7CiAgICAgICAgcGVyaW9kVGFibGVbNF0ucGVyaW9kVGltZSA9IDE1MjA4OTkxOTk7CiAgICAgICAgcGVyaW9kVGFibGVbNF0ucGVyaW9kQm9udXMgPSAzMDsKICAgICAgICBwZXJpb2RUYWJsZVs1XS5wZXJpb2RUaW1lID0gMTUyMjEwODc5OTsKICAgICAgICBwZXJpb2RUYWJsZVs1XS5wZXJpb2RCb251cyA9IDIwOwogICAgICAgIHBlcmlvZFRhYmxlWzZdLnBlcmlvZFRpbWUgPSAxNTI1MTMyNzk5OwogICAgICAgIHBlcmlvZFRhYmxlWzZdLnBlcmlvZEJvbnVzID0gMTU7CiAgICAgICAgcGVyaW9kVGFibGVbN10ucGVyaW9kVGltZSA9IDE1Mjc4MTExOTk7CiAgICAgICAgcGVyaW9kVGFibGVbN10ucGVyaW9kQm9udXMgPSAwO30KCiAgICBmdW5jdGlvbiBzZXRQcmljZSh1aW50MjU2IF92YWx1ZSkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcHJpY2VMZVJUID0gX3ZhbHVlOwogICAgfQogICAgZnVuY3Rpb24gc2V0UGVyaW9kKHVpbnQgX3BlcmlvZCwgdWludDI1NiBfcGVyaW9kVGltZSwgdWludDI1NiBfcGVyaW9kQm91bnMpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHBlcmlvZFRhYmxlW19wZXJpb2RdLnBlcmlvZFRpbWUgPSBfcGVyaW9kVGltZTsKICAgICAgICBwZXJpb2RUYWJsZVtfcGVyaW9kXS5wZXJpb2RCb251cyA9IF9wZXJpb2RCb3VuczsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gc2V0Q3VycmVudFBlcmlvZCh1aW50IF9wZXJpb2QpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIGN1cnJlbnRQZXJpb2QgPSBfcGVyaW9kOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBtaW50T3RoZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICB1aW50MjU2IG5ld1Rva2VuczsKICAgICAgICBuZXdUb2tlbnMgPSBfdmFsdWUgKyBfdmFsdWUvMTAwICogcGVyaW9kVGFibGVbY3VycmVudFBlcmlvZF0ucGVyaW9kQm9udXM7IAogICAgICAgIGJhbGFuY2VPZltfdG9dICs9IG5ld1Rva2VuczsKICAgICAgICB0b3RhbFN1cHBseSArPSBuZXdUb2tlbnM7CiAgICB9Cn0='.
	

]
