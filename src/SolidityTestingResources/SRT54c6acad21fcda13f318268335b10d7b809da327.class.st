Class {
	#name : #SRT54c6acad21fcda13f318268335b10d7b809da327,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT54c6acad21fcda13f318268335b10d7b809da327 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyBpbXBsZW1lbnQgc2FmZW1hdGggYXMgYSBsaWJyYXJ5CmxpYnJhcnkgU2FmZU1hdGggewoKICAvLyBXZSB1c2UgYHB1cmVgIGJiZWNhdXNlIGl0IHByb21pc2VzIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgZnVuY3Rpb24gZGVwZW5kcyBPTkxZCiAgLy8gb24gdGhlIGZ1bmN0aW9uIGFyZ3VtZW50cwogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSAgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICByZXF1aXJlKGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgcmVxdWlyZShiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgcmVxdWlyZShjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9Cgpjb250cmFjdCBBZG1pbmlzdHJhdGlvbiB7CgogICAgYWRkcmVzcyAgICAgcHVibGljIG93bmVyOwogICAgCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBtb2RlcmF0b3JzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBzdHJpbmcpIHByaXZpbGVnZVN0YXR1czsKCiAgICBldmVudCBBZGRNb2QoYWRkcmVzcyBpbmRleGVkIF9pbnZva2VyLCBhZGRyZXNzIGluZGV4ZWQgX25ld01vZCwgYm9vbCBpbmRleGVkIF9tb2RBZGRlZCk7CiAgICBldmVudCBSZW1vdmVNb2QoYWRkcmVzcyBpbmRleGVkIF9pbnZva2VyLCBhZGRyZXNzIGluZGV4ZWQgX3JlbW92ZU1vZCwgYm9vbCBpbmRleGVkIF9tb2RSZW1vdmVkKTsKCiAgICBmdW5jdGlvbiBBZG1pbmlzdHJhdGlvbigpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlBZG1pbigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgbW9kZXJhdG9yc1ttc2cuc2VuZGVyXSA9PSB0cnVlKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBfbmV3T3duZXIpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seU93bmVyCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQogICAgewogICAgICAgIG93bmVyID0gX25ld093bmVyOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIAogICAgfQoKICAgIGZ1bmN0aW9uIGFkZE1vZGVyYXRvcihhZGRyZXNzIF9uZXdNb2QpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seU93bmVyCiAgICAgICAgcmV0dXJucyAoYm9vbCBhZGRlZCkKICAgICB7CiAgICAgICAgcmVxdWlyZShfbmV3TW9kICE9IGFkZHJlc3MoMHgwKSk7CiAgICAgICAgbW9kZXJhdG9yc1tfbmV3TW9kXSA9IHRydWU7CiAgICAgICAgQWRkTW9kKG1zZy5zZW5kZXIsIF9uZXdNb2QsIHRydWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCiAgICBmdW5jdGlvbiByZW1vdmVNb2RlcmF0b3IoYWRkcmVzcyBfcmVtb3ZlTW9kKQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgICAgIHJldHVybnMgKGJvb2wgcmVtb3ZlZCkKICAgIHsKICAgICAgICByZXF1aXJlKF9yZW1vdmVNb2QgIT0gYWRkcmVzcygweDApKTsKICAgICAgICBtb2RlcmF0b3JzW19yZW1vdmVNb2RdID0gZmFsc2U7CiAgICAgICAgUmVtb3ZlTW9kKG1zZy5zZW5kZXIsIF9yZW1vdmVNb2QsIHRydWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFJvbGVTdGF0dXMoYWRkcmVzcyBfYWRkcikKICAgICAgICBwdWJsaWMKICAgICAgICB2aWV3ICAvLyBXZSB1c2UgdmlldyBhcyB3ZSBwcm9taXNlIHRvIG5vdCBjaGFuZ2Ugc3RhdGUsIGJ1dCBhcmUgcmVhZGluZyBmcm9tIGEgc3RhdGUgdmFyaWFibGUKICAgICAgICByZXR1cm5zIChzdHJpbmcgX3JvbGUpCiAgICB7CiAgICAgICAgcmV0dXJuIHByaXZpbGVnZVN0YXR1c1tfYWRkcl07CiAgICB9Cn0KCmNvbnRyYWN0IENvaW5NYXJrZXRBbGVydCBpcyBBZG1pbmlzdHJhdGlvbiB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBhZGRyZXNzW10gICBwdWJsaWMgICAgICB1c2VyQWRkcmVzc2VzOwogICAgdWludDI1NiAgICAgcHVibGljICAgICAgdG90YWxTdXBwbHk7CiAgICB1aW50MjU2ICAgICBwdWJsaWMgICAgICB1c2Vyc1JlZ2lzdGVyZWQ7CiAgICB1aW50OCAgICAgICBwdWJsaWMgICAgICBkZWNpbWFsczsKICAgIHN0cmluZyAgICAgIHB1YmxpYyAgICAgIG5hbWU7CiAgICBzdHJpbmcgICAgICBwdWJsaWMgICAgICBzeW1ib2w7CiAgICBib29sICAgICAgICBwdWJsaWMgICAgICB0b2tlblRyYW5zZmVyc0Zyb3plbjsKICAgIGJvb2wgICAgICAgIHB1YmxpYyAgICAgIHRva2VuTWludGluZ0VuYWJsZWQ7CiAgICBib29sICAgICAgICBwdWJsaWMgICAgICBjb250cmFjdExhdW5jaGVkOwoKCiAgICBzdHJ1Y3QgQWxlcnRDcmVhdG9yU3RydWN0IHsKICAgICAgICBhZGRyZXNzIGFsZXJ0Q3JlYXRvcjsKICAgICAgICB1aW50MjU2IGFsZXJ0c0NyZWF0ZWQ7CiAgICB9CgogICAgQWxlcnRDcmVhdG9yU3RydWN0W10gICBwdWJsaWMgICAgICBhbGVydENyZWF0b3JzOwogICAgCiAgICAvLyBBbGVydCBDcmVhdG9yIEVudGVyZWQgKFVzZWQgdG8gcHJldmV0bnQgZHVwbGljYXRlcyBpbiBjcmVhdG9yIGFycmF5KQogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgdXNlclJlZ2lzdGVyZWQ7CiAgICAvLyBUcmFja3MgYXBwcm92YWwKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgcHVibGljIGFsbG93YW5jZTsKICAgIC8vW2FkZHJdW2JhbGFuY2VdCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlczsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX2Ftb3VudCk7CiAgICBldmVudCBBcHByb3ZlKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50KTsKICAgIGV2ZW50IE1pbnRUb2tlbnMoYWRkcmVzcyBpbmRleGVkIF9taW50ZXIsIHVpbnQyNTYgX2Ftb3VudE1pbnRlZCwgYm9vbCBpbmRleGVkIE1pbnRlZCk7CiAgICBldmVudCBGcmVlemVUcmFuc2ZlcnMoYWRkcmVzcyBpbmRleGVkIF9mcmVlemVyLCBib29sIGluZGV4ZWQgX2Zyb3plbik7CiAgICBldmVudCBUaGF3VHJhbnNmZXJzKGFkZHJlc3MgaW5kZXhlZCBfdGhhd2VyLCBib29sIGluZGV4ZWQgX3RoYXdlZCk7CiAgICBldmVudCBUb2tlbkJ1cm4oYWRkcmVzcyBpbmRleGVkIF9idXJuZXIsIHVpbnQyNTYgX2Ftb3VudCwgYm9vbCBpbmRleGVkIF9idXJuZWQpOwogICAgZXZlbnQgRW5hYmxlVG9rZW5NaW50aW5nKGJvb2wgRW5hYmxlZCk7CgogICAgZnVuY3Rpb24gQ29pbk1hcmtldEFsZXJ0KCkKICAgICAgICBwdWJsaWMgewogICAgICAgIHN5bWJvbCA9ICJDTUEiOwogICAgICAgIG5hbWUgPSAiQ29pbiBNYXJrZXQgQWxlcnQiOwogICAgICAgIGRlY2ltYWxzID0gMTg7CiAgICAgICAgLy8gNTAgTWlsIGluIHdlaQogICAgICAgIHRvdGFsU3VwcGx5ID0gNTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSA1MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDsKICAgICAgICB0b2tlblRyYW5zZmVyc0Zyb3plbiA9IHRydWU7CiAgICAgICAgdG9rZW5NaW50aW5nRW5hYmxlZCA9IGZhbHNlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFVzZWQgdG8gbGF1bmNoIHN0YXJ0IHRoZSBjb250cmFjdAogICAgZnVuY3Rpb24gbGF1bmNoQ29udHJhY3QoKQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlBZG1pbgogICAgICAgIHJldHVybnMgKGJvb2wgbGF1bmNoZWQpCiAgICB7CiAgICAgICAgcmVxdWlyZSghY29udHJhY3RMYXVuY2hlZCk7CiAgICAgICAgdG9rZW5UcmFuc2ZlcnNGcm96ZW4gPSBmYWxzZTsKICAgICAgICB0b2tlbk1pbnRpbmdFbmFibGVkID0gdHJ1ZTsKICAgICAgICBjb250cmFjdExhdW5jaGVkID0gdHJ1ZTsKICAgICAgICBFbmFibGVUb2tlbk1pbnRpbmcodHJ1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IGtlZXBzIGEgbGlzdCBvZiBhZGRyZXNzZXMgdGhhdCBhcmUgcGFydGljaXBhdGluZyBpbiB0aGUgc2l0ZQogICAgZnVuY3Rpb24gcmVnaXN0ZXJVc2VyKGFkZHJlc3MgX3VzZXIpIAogICAgICAgIHByaXZhdGUKICAgICAgICByZXR1cm5zIChib29sIHJlZ2lzdGVyZWQpCiAgICB7CiAgICAgICAgdXNlcnNSZWdpc3RlcmVkID0gdXNlcnNSZWdpc3RlcmVkLmFkZCgxKTsKICAgICAgICBBbGVydENyZWF0b3JTdHJ1Y3QgbWVtb3J5IGFjczsKICAgICAgICBhY3MuYWxlcnRDcmVhdG9yID0gX3VzZXI7CiAgICAgICAgYWxlcnRDcmVhdG9ycy5wdXNoKGFjcyk7CiAgICAgICAgdXNlckFkZHJlc3Nlcy5wdXNoKF91c2VyKTsKICAgICAgICB1c2VyUmVnaXN0ZXJlZFtfdXNlcl0gPSB0cnVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIE1hbnVhbCBwYXlvdXQgZm9yIHNpdGUgdXNlcnMKICAgIC8vLyBAcGFyYW0gX3VzZXIgRXRoZXJldW0gYWRkcmVzcyBvZiB0aGUgdXNlcgogICAgLy8vIEBwYXJhbSBfYW1vdW50IFRoZSBtb3VudCBvZiBDTUEgdG9rZW5zIGluIHdlaSB0byBzZW5kCiAgICBmdW5jdGlvbiBzaW5nbGVQYXlvdXQoYWRkcmVzcyBfdXNlciwgdWludDI1NiBfYW1vdW50KQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlBZG1pbgogICAgICAgIHJldHVybnMgKGJvb2wgcGFpZCkKICAgIHsKICAgICAgICByZXF1aXJlKCF0b2tlblRyYW5zZmVyc0Zyb3plbik7CiAgICAgICAgcmVxdWlyZShfYW1vdW50ID4gMCk7CiAgICAgICAgcmVxdWlyZSh0cmFuc2ZlckNoZWNrKG93bmVyLCBfdXNlciwgX2Ftb3VudCkpOwogICAgICAgIGlmICghdXNlclJlZ2lzdGVyZWRbX3VzZXJdKSB7CiAgICAgICAgICAgIHJlZ2lzdGVyVXNlcihfdXNlcik7CiAgICAgICAgfQogICAgICAgIGJhbGFuY2VzW191c2VyXSA9IGJhbGFuY2VzW191c2VyXS5hZGQoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gYmFsYW5jZXNbb3duZXJdLmFkZChfYW1vdW50KTsKICAgICAgICBUcmFuc2Zlcihvd25lciwgX3VzZXIsIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAZGV2IGxvdy1sZXZlbCBtaW50aW5nIGZ1bmN0aW9uIG5vdCBhY2Nlc3NpYmxlIGV4dGVybmFsbHkKICAgIGZ1bmN0aW9uIHRva2VuTWludChhZGRyZXNzIF9pbnZva2VyLCB1aW50MjU2IF9hbW91bnQpIAogICAgICAgIHByaXZhdGUKICAgICAgICByZXR1cm5zIChib29sIHJhaXNlZCkKICAgIHsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW293bmVyXS5hZGQoX2Ftb3VudCkgPiBiYWxhbmNlc1tvd25lcl0pOwogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbb3duZXJdLmFkZChfYW1vdW50KSA+IDApOwogICAgICAgIHJlcXVpcmUodG90YWxTdXBwbHkuYWRkKF9hbW91bnQpID4gMCk7CiAgICAgICAgcmVxdWlyZSh0b3RhbFN1cHBseS5hZGQoX2Ftb3VudCkgPiB0b3RhbFN1cHBseSk7CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gYmFsYW5jZXNbb3duZXJdLmFkZChfYW1vdW50KTsKICAgICAgICBNaW50VG9rZW5zKF9pbnZva2VyLCBfYW1vdW50LCB0cnVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBVc2VkIHRvIG1pbnQgdG9rZW5zLCBvbmx5IHVzYWJsZSBieSB0aGUgY29udHJhY3Qgb3duZXIKICAgIC8vLyBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IG9mIENNQSB0b2tlbnMgaW4gd2VpIHRvIG1pbnQKICAgIGZ1bmN0aW9uIHRva2VuRmFjdG9yeSh1aW50MjU2IF9hbW91bnQpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seUFkbWluCiAgICAgICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQogICAgewogICAgICAgIHJlcXVpcmUoX2Ftb3VudCA+IDApOwogICAgICAgIHJlcXVpcmUodG9rZW5NaW50aW5nRW5hYmxlZCk7CiAgICAgICAgcmVxdWlyZSh0b2tlbk1pbnQobXNnLnNlbmRlciwgX2Ftb3VudCkpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFVzZWQgdG8gYnVybiB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IG9mIENNQSB0b2tlbnMgaW4gd2VpIHRvIGJ1cm4KICAgIGZ1bmN0aW9uIHRva2VuQnVybih1aW50MjU2IF9hbW91bnQpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seUFkbWluCiAgICAgICAgcmV0dXJucyAoYm9vbCBidXJuZWQpCiAgICB7CiAgICAgICAgcmVxdWlyZShfYW1vdW50ID4gMCk7CiAgICAgICAgcmVxdWlyZShfYW1vdW50IDwgdG90YWxTdXBwbHkpOwogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbb3duZXJdID4gX2Ftb3VudCk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tvd25lcl0uc3ViKF9hbW91bnQpID49IDApOwogICAgICAgIHJlcXVpcmUodG90YWxTdXBwbHkuc3ViKF9hbW91bnQpID49IDApOwogICAgICAgIGJhbGFuY2VzW293bmVyXSA9IGJhbGFuY2VzW293bmVyXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5zdWIoX2Ftb3VudCk7CiAgICAgICAgVG9rZW5CdXJuKG1zZy5zZW5kZXIsIF9hbW91bnQsIHRydWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFVzZWQgdG8gZnJlZXplIHRva2VuIHRyYW5zZmVycwogICAgZnVuY3Rpb24gZnJlZXplVHJhbnNmZXJzKCkKICAgICAgICBwdWJsaWMKICAgICAgICBvbmx5QWRtaW4KICAgICAgICByZXR1cm5zIChib29sIGZyb3plbikKICAgIHsKICAgICAgICB0b2tlblRyYW5zZmVyc0Zyb3plbiA9IHRydWU7CiAgICAgICAgRnJlZXplVHJhbnNmZXJzKG1zZy5zZW5kZXIsIHRydWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFVzZWQgdG8gdGhhdyB0b2tlbiB0cmFuc2ZlcnMKICAgIGZ1bmN0aW9uIHRoYXdUcmFuc2ZlcnMoKQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlBZG1pbgogICAgICAgIHJldHVybnMgKGJvb2wgdGhhd2VkKQogICAgewogICAgICAgIHRva2VuVHJhbnNmZXJzRnJvemVuID0gZmFsc2U7CiAgICAgICAgVGhhd1RyYW5zZmVycyhtc2cuc2VuZGVyLCB0cnVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBVc2VkIHRvIHRyYW5zZmVyIGZ1bmRzCiAgICAvLy8gQHBhcmFtIF9yZWNlaXZlciBUaGUgZGVzdGluYXRpb24gZXRoZXJldW0gYWRkcmVzcwogICAgLy8vIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgb2YgQ01BIHRva2VucyBpbiB3ZWkgdG8gc2VuZAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfcmVjZWl2ZXIsIHVpbnQyNTYgX2Ftb3VudCkKICAgICAgICBwdWJsaWMKICAgICAgICByZXR1cm5zIChib29sIF90cmFuc2ZlcnJlZCkKICAgIHsKICAgICAgICByZXF1aXJlKCF0b2tlblRyYW5zZmVyc0Zyb3plbik7CiAgICAgICAgcmVxdWlyZSh0cmFuc2ZlckNoZWNrKG1zZy5zZW5kZXIsIF9yZWNlaXZlciwgX2Ftb3VudCkpOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOwogICAgICAgIGJhbGFuY2VzW19yZWNlaXZlcl0gPSBiYWxhbmNlc1tfcmVjZWl2ZXJdLmFkZChfYW1vdW50KTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfcmVjZWl2ZXIsIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFVzZWQgdG8gdHJhbnNmZXIgZnVuZHMgb24gYmVoYWxmIG9mIG9uZSBwZXJzb24KICAgIC8vLyBAcGFyYW0gX293bmVyIFBlcnNvbiB5b3UgYXJlIGFsbG93ZWQgdG8gc3BlbmQgZnVuZHMgb24gYmVoYWxmIG9mCiAgICAvLy8gQHBhcmFtIF9yZWNlaXZlciBQZXJzb24gdG8gcmVjZWl2ZSB0aGUgZnVuZHMKICAgIC8vLyBAcGFyYW0gX2Ftb3VudCBBbW91biBvZiBDTUEgdG9rZW5zIGluIHdlaSB0byBzZW5kCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3JlY2VpdmVyLCB1aW50MjU2IF9hbW91bnQpCiAgICAgICAgcHVibGljCiAgICAgICAgcmV0dXJucyAoYm9vbCBfdHJhbnNmZXJyZWRGcm9tKQogICAgewogICAgICAgIHJlcXVpcmUoIXRva2VuVHJhbnNmZXJzRnJvemVuKTsKICAgICAgICByZXF1aXJlKGFsbG93YW5jZVtfb3duZXJdW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KSA+PSAwKTsKICAgICAgICByZXF1aXJlKHRyYW5zZmVyQ2hlY2soX293bmVyLCBfcmVjZWl2ZXIsIF9hbW91bnQpKTsKICAgICAgICBiYWxhbmNlc1tfb3duZXJdID0gYmFsYW5jZXNbX293bmVyXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbX3JlY2VpdmVyXSA9IGJhbGFuY2VzW19yZWNlaXZlcl0uYWRkKF9hbW91bnQpOwogICAgICAgIGFsbG93YW5jZVtfb3duZXJdW19yZWNlaXZlcl0gPSBhbGxvd2FuY2VbX293bmVyXVtfcmVjZWl2ZXJdLnN1YihfYW1vdW50KTsKICAgICAgICBUcmFuc2Zlcihfb3duZXIsIF9yZWNlaXZlciwgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8vIEBub3RpY2UgVXNlZCB0byBhcHByb3ZlIGEgdGhpcmQtcGFydHkgdG8gc2VuZCBmdW5kcyBvbiB5b3VyIGJlaGFsZgogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgcGVyc29uIHlvdSBhcmUgYWxsb3dpbmcgdG8gc3BlbmQgb24geW91ciBiZWhhbGYKICAgIC8vLyBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IG9mIENNQSB0b2tlbnMgaW4gd2VpIHRoZXkgYXJlIGFsbG93ZWQgdG8gc3BlbmQKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50KQogICAgICAgIHB1YmxpYwogICAgICAgIHJldHVybnMgKGJvb2wgYXBwcm92ZWQpCiAgICB7CiAgICAgICAgcmVxdWlyZShfYW1vdW50ID4gMCk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+IDApOwogICAgICAgIGFsbG93YW5jZVttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfYW1vdW50OwogICAgICAgIEFwcHJvdmUobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgICAvL0dFVFRFUlMvLwogICAgLy8vLy8vLy8vLy8KCiAgICAKICAgIC8vLyBAZGV2IGxvdyBsZXZlbCBmdW5jdGlvbiB1c2VkIHRvIGRvIGEgc2FuaXR5IGNoZWNrIG9mIGlucHV0IGRhdGEgZm9yIENNQSB0b2tlbiB0cmFuc2ZlcnMKICAgIC8vLyBAcGFyYW0gX3NlbmRlciBUaGlzIGlzIHRoZSBtc2cuc2VuZGVyLCB0aGUgcGVyc29uIHNlbmRpbmcgdGhlIENNQSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3JlY2VpdmVyIFRoaXMgaXMgdGhlIGFkZHJlc3MgcmVjZWl2aW5nIHRoZSBDTUEgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGlzIGlzIHRoZSBhbW91bnQgb2YgQ01BIHRva2VucyBpbiB3ZWkgdG8gc2VuZAogICAgZnVuY3Rpb24gdHJhbnNmZXJDaGVjayhhZGRyZXNzIF9zZW5kZXIsIGFkZHJlc3MgX3JlY2VpdmVyLCB1aW50MjU2IF92YWx1ZSkgCiAgICAgICAgcHJpdmF0ZQogICAgICAgIHZpZXcKICAgICAgICByZXR1cm5zIChib29sIHNhZmUpIAogICAgewogICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CiAgICAgICAgcmVxdWlyZShfcmVjZWl2ZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfc2VuZGVyXS5zdWIoX3ZhbHVlKSA+PSAwKTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19yZWNlaXZlcl0uYWRkKF92YWx1ZSkgPiBiYWxhbmNlc1tfcmVjZWl2ZXJdKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBVc2VkIHRvIHJldHJpZXZlIHRvdGFsIHN1cHBseQogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKQogICAgICAgIHB1YmxpYwogICAgICAgIHZpZXcKICAgICAgICByZXR1cm5zICh1aW50MjU2IF90b3RhbFN1cHBseSkKICAgIHsKICAgICAgICByZXR1cm4gdG90YWxTdXBwbHk7CiAgICB9CgogICAgLy8vIEBub3RpY2UgVXNlZCB0byBsb29rIHVwIGJhbGFuY2Ugb2YgYSB1c2VyCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfcGVyc29uKQogICAgICAgIHB1YmxpYwogICAgICAgIHZpZXcKICAgICAgICByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpCiAgICB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19wZXJzb25dOwogICAgfQoKICAgIC8vLyBAbm90aWNlIFVzZWQgdG8gbG9vayB1cCBhbGxvd2FuY2Ugb2YgYSB1c2VyCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpCiAgICAgICAgcHVibGljCiAgICAgICAgdmlldwogICAgICAgIHJldHVybnMgKHVpbnQyNTYgYWxsb3dlZCkKICAgIHsKICAgICAgICByZXR1cm4gYWxsb3dhbmNlW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQp9'.
	

]
