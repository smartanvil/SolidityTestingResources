Class {
	#name : #SRTeef69ecf4851f7ee36196f26da23f6229855076b,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTeef69ecf4851f7ee36196f26da23f6229855076b >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7Cgpjb250cmFjdCBUb2tlbiB7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSA7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKfQoKCi8qICBFUkMgMjAgdG9rZW4gKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBUb2tlbiB7CgoKICAgIHN0cnVjdCBMQ0JhbGFuY2V7CiAgICAgICAgdWludCBsY1ZhbHVlOwogICAgICAgIHVpbnQgbG9ja1RpbWU7CiAgICAgICAgdWludCBldGhWYWx1ZTsKCiAgICAgICAgdWludCBpbmRleDsKICAgICAgICBieXRlczMyIGluZGV4SGFzaDsKICAgICAgICB1aW50OCBsb3R0ZXJ5TnVtOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdLmxjVmFsdWUgPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDAmJiAgYmFsYW5jZXNbbXNnLnNlbmRlcl0ubG9ja1RpbWUhPTApIHsgICAgICAgCiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdLmxjVmFsdWUgLT0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dLmxjVmFsdWUgKz0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXS5sY1ZhbHVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZkV0aChhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl0uZXRoVmFsdWU7CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mTG9ja1RpbWUoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdLmxvY2tUaW1lOwogICAgfQoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gTENCYWxhbmNlKSBiYWxhbmNlczsKfQoKY29udHJhY3QgTENUb2tlbiBpcyBTdGFuZGFyZFRva2VuIHsKICAgIC8vIG1ldGFkYXRhCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiTG90dGVyeSBDb2luIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIlNhYmVyTEMiOwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKICAgIHN0cmluZyBwdWJsaWMgdmVyc2lvbiA9ICIxLjAiOwoKICAgIC8vIGNvbnN0YW50CiAgICB1aW50MjU2IHZhbDEgPSAxIHdlaTsgICAgLy8gMQogICAgdWludDI1NiB2YWwyID0gMSBzemFibzsgIC8vIDEgKiAxMCAqKiAxMgogICAgdWludDI1NiB2YWwzID0gMSBmaW5uZXk7IC8vIDEgKiAxMCAqKiAxNQogICAgdWludDI1NiB2YWw0ID0gMSBldGhlcjsgIC8vIDEgKiAxMCAqKiAxOAoKICAgIC8vIGNvbnRhY3Qgc2V0dGluZwogICAgYWRkcmVzcyBwdWJsaWMgY3JlYXRvcjsKCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBMT0NLUEVSSU9EICAgICAgICAgID0gMzY1IGRheXM7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBJQ09QRVJJT0QgICAgICAgICAgID0gMTIwIGRheXM7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBTSEFSRVBFUklPRCAgICAgICAgICAgPSAzMCBkYXlzOwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgTE9DS0FNT1VOVCAgICAgICAgICA9IDMwMDAwMDAgKiAxMCoqZGVjaW1hbHM7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBBTU9VTlRfSUNPICAgICAgICAgID0gNTAwMDAwMCAqIDEwKipkZWNpbWFsczsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IEFNT1VOVF9UZWFtU3VwcG9ydCAgPSAyMDAwMDAwICogMTAqKmRlY2ltYWxzOwoKICAgIHVpbnQyNTYgcHVibGljIGdjU3RhcnRUaW1lID0gMDsgICAgIC8vaWNvIGJlZ2luIHRpbWUsIHVuaXggdGltZXN0YW1wIHNlY29uZHMKICAgIHVpbnQyNTYgcHVibGljIGdjRW5kVGltZSA9IDA7ICAgICAgIC8vaWNvIGVuZCB0aW1lLCB1bml4IHRpbWVzdGFtcCBzZWNvbmRzCgogICAgCiAgICAvLyBMQzogMzAlIGxvY2sgLCAyMCUgZm9yIFRlYW0sIDUwJSBmb3IgaWNvICAgICAgICAgIAogICAgYWRkcmVzcyBhY2NvdW50X2xvY2sgPSAweDlBRDdhZUJlODgxMWIwRTMwNzFDNjI3NDAzQjM4ODAzRDkxQkMxYWM7ICAvLzMwJSAgbG9jawogICAgYWRkcmVzcyBhY2NvdW50X3RlYW0gPSAweGM5NmMzZGE4YmM2MzgxREIyOTY5NTlFYzNlMUZlMWU0MzBhNEI2NUI7ICAvLzIwJSAgdGVhbQoKICAgIHVpbnQyNTYgcHVibGljIGdjU3VwcGx5ID0gNTAwMDAwMCAqIDEwKipkZWNpbWFsczsgICAgICAgICAgICAgICAgIC8vIGljbyA1MCUgKDUwMDAwMDApIHRvdGFsIExDIHN1cHBseQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZ2NFeGNoYW5nZVJhdGU9MTAwMDsgICAgICAgICAgICAgICAgICAgICAgIC8vIDEwMDAgTEMgcGVyIDEgRVRICgogICAgCiAgICAvLyBQbGF5CiAgICBieXRlczMyWzEwMDBdICAgYmxvY2toYXNoOwogICAgdWludCAgICAgICAgICAgIGZpcnN0SW5kZXg7CiAgICB1aW50ICAgICAgICAgICAgZW5kSW5kZXg7CgogICAgdWludDI1NiBwdWJsaWMgdG90YWxMb3R0ZXJ5VmFsdWUgPSAwOwogICAgdWludDI1NiBwdWJsaWMgY3VycmVudExvdHRlcnlWYWx1ZSA9IDA7CiAgICB1aW50MjU2IHB1YmxpYyBjdXJyZW50UHJvZml0ID0gMDsKICAgIHVpbnQyNTYgcHVibGljIHNoYXJlVGltZSA9IDA7CiAgICB1aW50MjU2IHB1YmxpYyBzaGFyZUxpbWl0ID0gMTAwMDAqdmFsNDsKCgogICAgZnVuY3Rpb24gYWRkSGFzaCAoYnl0ZXMzMiBfaGFzaFZhbHVlKSB7CiAgICAgICAgaWYoZW5kSW5kZXgrMT09Zmlyc3RJbmRleCkKICAgICAgICB7CiAgICAgICAgICAgIGVuZEluZGV4Kys7CiAgICAgICAgICAgIGJsb2NraGFzaFtlbmRJbmRleF09X2hhc2hWYWx1ZTsKICAgICAgICAgICAgaWYoZmlyc3RJbmRleDw5OTkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGZpcnN0SW5kZXgrKzsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGZpcnN0SW5kZXg9MDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICBpZihmaXJzdEluZGV4PT0wICYmIDk5OT09ZW5kSW5kZXgpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGVuZEluZGV4PTA7CiAgICAgICAgICAgICAgICBibG9ja2hhc2hbZW5kSW5kZXhdPV9oYXNoVmFsdWU7CiAgICAgICAgICAgICAgICBmaXJzdEluZGV4PTE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZig5OTk8PWVuZEluZGV4KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGVuZEluZGV4PTA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgZW5kSW5kZXgrKzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJsb2NraGFzaFtlbmRJbmRleF09X2hhc2hWYWx1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBidXlMb3R0ZXJ5ICh1aW50OCBfbG90dGVyeU51bSkgcGF5YWJsZSB7CiAgICAgICAgaWYgKCBtc2cudmFsdWUgPj12YWwzKjEwICYmIF9sb3R0ZXJ5TnVtPj0wICYmICBfbG90dGVyeU51bTw9OSApCiAgICAgICAgewogICAgICAgICAgICBieXRlczMyIGN1cnJlbnRIYXNoPWJsb2NrLmJsb2NraGFzaChibG9jay5udW1iZXItMSk7CiAgICAgICAgICAgIGlmKGJsb2NraGFzaFtlbmRJbmRleF0hPWN1cnJlbnRIYXNoKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBhZGRIYXNoKGN1cnJlbnRIYXNoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXS5ldGhWYWx1ZSs9bXNnLnZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXS5pbmRleD1lbmRJbmRleDsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0ubG90dGVyeU51bT1fbG90dGVyeU51bTsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0uaW5kZXhIYXNoPWN1cnJlbnRIYXNoOwogICAgICAgICAgICB0b3RhbExvdHRlcnlWYWx1ZSs9bXNnLnZhbHVlOwogICAgICAgICAgICBjdXJyZW50TG90dGVyeVZhbHVlKz1tc2cudmFsdWU7CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBvcGVuTG90dGVyeSAoKSB7CgogICAgICAgIGJ5dGVzMzIgY3VycmVudEhhc2g9YmxvY2suYmxvY2toYXNoKGJsb2NrLm51bWJlci0xKTsKICAgICAgICBpZihibG9ja2hhc2hbZW5kSW5kZXhdIT1jdXJyZW50SGFzaCkKICAgICAgICB7CiAgICAgICAgICAgIGFkZEhhc2goY3VycmVudEhhc2gpOwogICAgICAgIH0KICAgICAgICBpZiAoIGJhbGFuY2VzW21zZy5zZW5kZXJdLmV0aFZhbHVlID49dmFsMyoxMCAmJiBiYWxhbmNlc1ttc2cuc2VuZGVyXS5pbmRleEhhc2ghPWN1cnJlbnRIYXNoKQogICAgICAgIHsKICAgICAgICAgICAgY3VycmVudExvdHRlcnlWYWx1ZS09YmFsYW5jZXNbbXNnLnNlbmRlcl0uZXRoVmFsdWU7CgogICAgICAgICAgICB1aW50IHRlbXVpbnQgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5pbmRleDsKICAgICAgICAgICAgaWYoYmFsYW5jZXNbbXNnLnNlbmRlcl0ubG90dGVyeU51bT49MCAmJiBiYWxhbmNlc1ttc2cuc2VuZGVyXS5sb3R0ZXJ5TnVtPD05ICYmIGJhbGFuY2VzW21zZy5zZW5kZXJdLmluZGV4SGFzaD09YmxvY2toYXNoW3RlbXVpbnRdKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZW11aW50Kys7CiAgICAgICAgICAgICAgICBpZih0ZW11aW50Pjk5OSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0ZW11aW50PTA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0ZW11aW50ID0gdWludChibG9ja2hhc2hbdGVtdWludF0pOwogICAgICAgICAgICAgICAgdGVtdWludCA9IHRlbXVpbnQlMTA7CiAgICAgICAgICAgICAgICBpZih0ZW11aW50PT1iYWxhbmNlc1ttc2cuc2VuZGVyXS5sb3R0ZXJ5TnVtKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHVpbnQgX3Rvc2VuZD1iYWxhbmNlc1ttc2cuc2VuZGVyXS5ldGhWYWx1ZSo5MC8xMDA7CiAgICAgICAgICAgICAgICAgICAgaWYoX3Rvc2VuZD50b3RhbExvdHRlcnlWYWx1ZSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90b3NlbmQ9dG90YWxMb3R0ZXJ5VmFsdWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRvdGFsTG90dGVyeVZhbHVlLT1fdG9zZW5kOwogICAgICAgICAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdLmV0aFZhbHVlPTA7CiAgICAgICAgICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihfdG9zZW5kKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXS5ldGhWYWx1ZT0wOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0uZXRoVmFsdWU9MDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBnZXRTaGFyZSAoKSAgewoKICAgICAgICBpZihzaGFyZVRpbWUrU0hBUkVQRVJJT0Q8bm93KQogICAgICAgIHsKICAgICAgICAgICAgd2hpbGUoc2hhcmVUaW1lK1NIQVJFUEVSSU9EPG5vdykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgc2hhcmVUaW1lKz1TSEFSRVBFUklPRDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZih0b3RhbExvdHRlcnlWYWx1ZT5jdXJyZW50TG90dGVyeVZhbHVlKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjdXJyZW50UHJvZml0PXRvdGFsTG90dGVyeVZhbHVlLWN1cnJlbnRMb3R0ZXJ5VmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjdXJyZW50UHJvZml0PTA7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXS5sb2NrVGltZSE9MCAmJiBiYWxhbmNlc1ttc2cuc2VuZGVyXS5sb2NrVGltZStTSEFSRVBFUklPRCA8PXNoYXJlVGltZSAmJiBjdXJyZW50TG90dGVyeVZhbHVlPHRvdGFsTG90dGVyeVZhbHVlICYmIGJhbGFuY2VzW21zZy5zZW5kZXJdLmxjVmFsdWUgPj1zaGFyZUxpbWl0KQogICAgICAgIHsKICAgICAgICAgICAgdWludCBfc2hhcmV2YWx1ZT1iYWxhbmNlc1ttc2cuc2VuZGVyXS5sY1ZhbHVlL3ZhbDQqY3VycmVudFByb2ZpdC8xMDAwOwogICAgICAgICAgICBpZihfc2hhcmV2YWx1ZT50b3RhbExvdHRlcnlWYWx1ZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgX3NoYXJldmFsdWU9dG90YWxMb3R0ZXJ5VmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdG90YWxMb3R0ZXJ5VmFsdWUtPV9zaGFyZXZhbHVlOwogICAgICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKF9zaGFyZXZhbHVlKTsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0ubG9ja1RpbWU9bm93OwogICAgICAgIH0KICAgIH0KCgogICAgZnVuY3Rpb24gQWRkX3RvdGFsTG90dGVyeVZhbHVlICgpIHBheWFibGUgewogICAgICAgIGlmKG1zZy52YWx1ZT4wKQogICAgICAgIHsKICAgICAgICAgICAgdG90YWxMb3R0ZXJ5VmFsdWUrPW1zZy52YWx1ZTsKICAgICAgICB9CiAgICB9CgogICAgLy8KICAgIGZ1bmN0aW9uIGxvY2tBY2NvdW50ICgpICB7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0ubG9ja1RpbWU9bm93OwogICAgfQoKICAgIGZ1bmN0aW9uIHVubG9ja0FjY291bnQgKCkgIHsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXS5sb2NrVGltZT0wOwogICAgfQoKICAgIAogICAgLy8rIGJ1eSBsYywxZXRoPTEwMDBsYywgMzAlZXRoIHNlbmQgdG8gb3duZXIsIDcwJSBrZWVwIGluIGNvbnRhY3QKICAgIGZ1bmN0aW9uIGJ1eUxDICgpIHBheWFibGUgewogICAgICAgIGlmKG5vdyA8IGdjRW5kVGltZSkKICAgICAgICB7CiAgICAgICAgICAgIHVpbnQyNTYgbGNBbW91bnQ7CiAgICAgICAgICAgIGlmICggbXNnLnZhbHVlID49MCl7CiAgICAgICAgICAgICAgICBsY0Ftb3VudCA9IG1zZy52YWx1ZSAqIGdjRXhjaGFuZ2VSYXRlOwogICAgICAgICAgICAgICAgaWYgKGdjU3VwcGx5IDwgbGNBbW91bnQpIHJldmVydCgpOwogICAgICAgICAgICAgICAgZ2NTdXBwbHkgLT0gbGNBbW91bnQ7ICAgICAgICAgIAogICAgICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0ubGNWYWx1ZSArPSBsY0Ftb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZighY3JlYXRvci5zZW5kKG1zZy52YWx1ZSozMC8xMDApKSByZXZlcnQoKTsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsgICAgCiAgICAgICAgICAgIGJhbGFuY2VzW2FjY291bnRfdGVhbV0ubGNWYWx1ZSArPSBnY1N1cHBseTsKICAgICAgICAgICAgYWNjb3VudF90ZWFtLnRyYW5zZmVyKChBTU9VTlRfSUNPLWdjU3VwcGx5KSo2OTkvMTAwMC9nY0V4Y2hhbmdlUmF0ZSk7CiAgICAgICAgICAgIGdjU3VwcGx5ID0gMDsgICAgIAogICAgICAgIH0KICAgIH0KCiAgICAvLyBleGNoYW5nZSBsYyB0byBldGgsIDEwMDBsYyA9MC43ZXRoLCAzMCUgZm9yIGZlZQogICAgZnVuY3Rpb24gY2xlYXJMQyAoKSAgewogICAgICAgIGlmKG5vdyA8IGdjRW5kVGltZSkKICAgICAgICB7CiAgICAgICAgICAgIHVpbnQyNTYgZXRoQW1vdW50OwogICAgICAgICAgICBpZiAoIGJhbGFuY2VzW21zZy5zZW5kZXJdLmxjVmFsdWUgPjAgJiYgYmFsYW5jZXNbbXNnLnNlbmRlcl0ubG9ja1RpbWU9PTApewogICAgICAgICAgICAgICAgaWYobXNnLnNlbmRlciA9PSBhY2NvdW50X2xvY2sgJiYgbm93IDwgZ2NTdGFydFRpbWUgKyBMT0NLUEVSSU9EKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZXRoQW1vdW50ID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0ubGNWYWx1ZSAqNzAvMTAwLyBnY0V4Y2hhbmdlUmF0ZTsKICAgICAgICAgICAgICAgIGdjU3VwcGx5ICs9IGJhbGFuY2VzW21zZy5zZW5kZXJdLmxjVmFsdWU7ICAgICAgICAgIAogICAgICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0ubGNWYWx1ZSA9IDA7CiAgICAgICAgICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGV0aEFtb3VudCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgLy8rIHRyYW5zZmVyCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXS5sY1ZhbHVlID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwICYmIGJhbGFuY2VzW21zZy5zZW5kZXJdLmxvY2tUaW1lPT0wICkgeyAKICAgICAgICAgICAgaWYobXNnLnNlbmRlciA9PSBhY2NvdW50X2xvY2sgKXsKICAgICAgICAgICAgICAgIGlmKG5vdyA8IGdjU3RhcnRUaW1lICsgTE9DS1BFUklPRCl7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXS5sY1ZhbHVlIC09IF92YWx1ZTsKICAgICAgICAgICAgICAgIGlmKGFkZHJlc3ModGhpcyk9PV90bykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBiYWxhbmNlc1tjcmVhdG9yXS5sY1ZhbHVlICs9IF92YWx1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBiYWxhbmNlc1tfdG9dLmxjVmFsdWUgKz0gX3ZhbHVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAKICAgICAgICB9IAogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGVuZFRoaXNDb250YWN0ICgpIHsKICAgICAgICBpZihtc2cuc2VuZGVyPT1jcmVhdG9yICYmIGJhbGFuY2VzW21zZy5zZW5kZXJdLmxjVmFsdWUgPj05MDAwMDAwICogdmFsNCkKICAgICAgICB7CiAgICAgICAgICAgIHNlbGZkZXN0cnVjdChjcmVhdG9yKTsKICAgICAgICB9CiAgICB9CgogICAgLy8gY29uc3RydWN0b3IKICAgIGZ1bmN0aW9uIExDVG9rZW4oICkgewogICAgICAgIGNyZWF0b3IgPSBtc2cuc2VuZGVyOwogICAgICAgIGJhbGFuY2VzW2FjY291bnRfdGVhbV0ubGNWYWx1ZSA9IEFNT1VOVF9UZWFtU3VwcG9ydDsgICAgLy9mb3IgdGVhbQogICAgICAgIGJhbGFuY2VzW2FjY291bnRfbG9ja10ubGNWYWx1ZSA9IExPQ0tBTU9VTlQ7ICAgICAgICAgICAgLy8zMCUgICBsb2NrIDM2NSBkYXlzCiAgICAgICAgZ2NTdGFydFRpbWUgPSBub3c7CiAgICAgICAgZ2NFbmRUaW1lPW5vdytJQ09QRVJJT0Q7CgoKICAgICAgICB0b3RhbExvdHRlcnlWYWx1ZT0wOwoKICAgICAgICBmaXJzdEluZGV4PTA7CiAgICAgICAgZW5kSW5kZXg9MDsKICAgICAgICBibG9ja2hhc2hbMF0gPSBibG9jay5ibG9ja2hhc2goYmxvY2subnVtYmVyLTEpOwoKICAgICAgICBzaGFyZVRpbWU9bm93K1NIQVJFUEVSSU9EOwogICAgfQogICAgCgogICAgCiAgICAvLyBmYWxsYmFjawogICAgZnVuY3Rpb24oKSBwYXlhYmxlIHsKICAgICAgICBidXlMQygpOwogICAgfQoKfQ=='.
	

]
