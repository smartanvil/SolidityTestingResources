Class {
	#name : #SRT5027880b5A4C5BBB88D229a334Aa8F31e6e67197,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5027880b5A4C5BBB88D229a334Aa8F31e6e67197 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CgogICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgICAgICBhc3NlcnQoYyA+PSBhKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCn0KCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4KICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CgogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgICAgICAgICAgICAgICAgICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgICAvKioKICAgICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAgICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLgogICAgICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAgICAqLwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCiAgICAvKioKICAgICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB2YXIgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKICAgICAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgICAgICAvLyByZXF1aXJlIChfdmFsdWUgPD0gX2FsbG93YW5jZSk7CgogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CgogICAgICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAgICAgLy8gIGFsbG93YW5jZSB0byB6ZXJvIGJ5IGNhbGxpbmcgYGFwcHJvdmUoX3NwZW5kZXIsIDApYCBpZiBpdCBpcyBub3QKICAgICAgICAvLyAgYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgICAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgICAgICByZXF1aXJlKChfdmFsdWUgPT0gMCkgfHwgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKCiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgogICAgICovCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9Cgp9CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CgogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgLyoqCiAgICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgICAqIGFjY291bnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIE93bmFibGUoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAgICovCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQoKfQoKLyoqCiAqIEB0aXRsZSBNaW50YWJsZSB0b2tlbgogKiBAZGV2IFNpbXBsZSBFUkMyMCBUb2tlbiBleGFtcGxlLCB3aXRoIG1pbnRhYmxlIHRva2VuIGNyZWF0aW9uCiAqIEBkZXYgSXNzdWU6ICogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9pc3N1ZXMvMTIwCiAqIEJhc2VkIG9uIGNvZGUgYnkgVG9rZW5NYXJrZXROZXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9Ub2tlbk1hcmtldE5ldC9pY28vYmxvYi9tYXN0ZXIvY29udHJhY3RzL01pbnRhYmxlVG9rZW4uc29sCiAqLwoKY29udHJhY3QgTWludGFibGVUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKCiAgICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwoKICAgIGV2ZW50IE1pbnRGaW5pc2hlZCgpOwogICAgZXZlbnQgTWludFN0YXJ0ZWQoKTsKCiAgICBib29sIHB1YmxpYyBtaW50aW5nQWN0aXZlID0gdHJ1ZTsKCiAgICB1aW50MjU2IHB1YmxpYyBtYXhUb2tlbkNvdW50OwoKICAgIG1vZGlmaWVyIGNhbk1pbnQoKSB7CiAgICAgICAgcmVxdWlyZShtaW50aW5nQWN0aXZlKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBGdW5jdGlvbiB0byBtaW50IHRva2VucwogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0aGF0IHdpbGwgcmVjaWV2ZSB0aGUgbWludGVkIHRva2Vucy4KICAgICAqIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIG1pbnQuCiAgICAgKiBAcmV0dXJuIEEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICAgICovCiAgICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciBjYW5NaW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKHRvdGFsU3VwcGx5IDw9IG1heFRva2VuQ291bnQpOwoKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CiAgICAgICAgTWludChfdG8sIF9hbW91bnQpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBGdW5jdGlvbiB0byBzdG9wIG1pbnRpbmcgbmV3IHRva2Vucy4KICAgICAqIEByZXR1cm4gVHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICAgICovCiAgICBmdW5jdGlvbiBzdG9wTWludGluZygpIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CiAgICAgICAgbWludGluZ0FjdGl2ZSA9IGZhbHNlOwogICAgICAgIE1pbnRGaW5pc2hlZCgpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBGdW5jdGlvbiB0byBzdGFydCBtaW50aW5nIG5ldyB0b2tlbnMuCiAgICAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC4KICAgICAqLwogICAgZnVuY3Rpb24gc3RhcnRNaW50aW5nKCkgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBtaW50aW5nQWN0aXZlID0gdHJ1ZTsKICAgICAgICBNaW50U3RhcnRlZCgpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9CgoKLyoqCiAqIEhETCAoSGFuZGVsaW9uKSBUb2tlbgogKgogKi8KY29udHJhY3QgSERMVG9rZW4gaXMgTWludGFibGVUb2tlbgp7CgogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIkhhbmRlbGlvbiAgdG9rZW4iOwoKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkhETFQiOwoKICAgIHVpbnQzMiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKCiAgICBmdW5jdGlvbiBIRExUb2tlbigpCiAgICB7CiAgICAgCW1heFRva2VuQ291bnQgPSAyOTc1MDAwMCAqIDEgZXRoZXI7CiAgICB9Cn0KCgpjb250cmFjdCBIRExDb250cmFjdCBpcyBPd25hYmxlIHsKCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCgkvLyBDb250cmFjdCBvd25lciBhZGRyZWRkCglhZGRyZXNzIF9vd25lckFkZHJlc3M7CgogICAgLy8gQ29udHJhY3QgdmF1bHQgYWRkcmVzcyAtIGFsbCBjb2xsZWN0ZWQgZnVuZHMgYXJlIG1vdmVkIHRvIHRoaXMgYWRkcmVzcyBhZnRlciBzdWNjZXNzZnVsIHNhbGUKICAgIGFkZHJlc3MgX3ZhdWx0QWRkcmVzczsKCiAgICAvLyBDb250YWlucyBsaXN0IG9mIGFsbCBpbnZlc3RvciBhZGRyZXNzZXMKICAgIGFkZHJlc3NbXSBwdWJsaWMgX2ludmVzdG9yQWRkcmVzc2VzOwoKICAgIC8vIGNvbnRhaW5zIGxpc3Qgb2YgYWxsIGludmVzdG9ycyB3aXRoIHRyYW5zZmVyZWQgYW1vdW50CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIF9pbnZlc3RvcnM7CgogICAgLy8gUmVmZXJlbmNlIHRvIEhETCB0b2tlbi4gVGhlIHRva2VuIGlzIGNyZWF0ZWQgd2l0aCB0aGlzIGNvbnRyYWN0LgogICAgSERMVG9rZW4gcHVibGljIHRva2VuOwoKICAgIC8vIFNhbGUgcGVyaW9kIHN0YXJ0IGRhdGUgYXMgdW5peCB0aW1lc3RhbXAKICAgIHVpbnQgX3N0YXJ0OwoKICAgIC8vIFNhbGUgcGVyaW9kIGluIGRheXMKICAgIHVpbnQgX3BlcmlvZDsKCiAgICAvLyBTYWxlIGdvYWwgaW4gdG9rZW5zIC0gaG93IG1hbnkgdG9rZW5zIHdlIGFyZSBwbGFubmluZyB0byBzZWwgdW5kZXIgdGhpcyBjb250cmFjdAogICAgdWludCBwdWJsaWMgX2dvYWw7CgogICAgLy8gVG9rZW4vZXRoZXIgcmF0ZQogICAgdWludCBfcmF0ZTsKCiAgICAvLyBUb3RhbCBhbW91bnQgb2YgaXNzdWVkIHRva2VucyB1bmRlciB0aGlzIGNvbnRyYWN0CiAgICB1aW50MjU2IHB1YmxpYyBpc3N1ZWRUb2tlbnM7CgogICAgLy8gdG90YWwgYW1vdW50IG9mIGFsbCBjb2xsZWN0ZWQgZnVuZHMgdW5kZXIgdGhpcyBjb250cmFjdAogICAgdWludDI1NiBwdWJsaWMgY29sbGVjdGVkRnVuZHM7CgogICAgLy8gSWRlbnRpZmllcyB3aGV0aGVyIGN1cnJlbnQgY29udHJhY3QgaXMgZmluaXNoZWQuIElmIGNvbnRyYWN0IGlzIGZpbmlzaGVkIG5vIG1vcmUgZnVuZHMgY2FuIGJlIHNlbnQgdG8gdGhpcyBjb250cmFjdC4KICAgIC8vIFdoZW4gY29udHJhY3QgaGFzIGJlZW4gbWFya2VkIGFzIGZpbmlzaGVkIGl0IGNhbm5vdCBiZSByZXN0YXJ0ZWQuCiAgICBib29sIHB1YmxpYyBpc0ZpbmlzaGVkID0gZmFsc2U7CgogICAgLy8gSWRlbnRpZmllcyB3aGV0aGVyIGNvbnRyYWN0IGlzIGluIHJlZnVuZGluZyBtb2RlIC0gUmVmdW5kaW5nIGlzIG9wZW5lZCBhbmQgaW52ZXN0b3JzIGNhbiByZXF1ZXN0IHRoZWlyIGZ1bmRzIGJhY2suCiAgICBib29sIHB1YmxpYyBpc1JlZnVuZGluZyA9IGZhbHNlOwoKICAgIC8vIFJhaXNlcyB3aGVuIHBhcnRpY3VsYXIgaW52ZXN0b3IgaXMgcmVmdW5kZWQKICAgIGV2ZW50IEludmVzdG9yUmVmdW5kZWQoYWRkcmVzcyBpbmRleGVkIGJlbmVmaWNpYXJ5LCB1aW50MjU2IHdlaUFtb3VudCk7CgogICAgLy8gUmFpc2VzIHdoZW4gcGFydGljdWxhciBpbnZlc3RvciBib3VnaHQgc29tZSB0b2tlbnMgZnJvbSBjb250cmFjdAogICAgZXZlbnQgRnVuZGluZ0FjY2VwdGVkKGFkZHJlc3MgaW5kZXhlZCBpbnZlc3RvciwgdWludDI1NiB3ZWlBbW91bnQsIHVpbnQgdG9rZW5BbW91bnQpOwoKICAgIC8vIFJhaXNlcyB3aGVuIGFsbCBpbnZlc3RvcnMgd2VyZSByZWZ1bmRlZAogICAgZXZlbnQgQWxsSW52ZXN0b3JzUmVmdW5kZWQodWludCByZWZ1bmRlZEludmVzdG9yQ291bnQpOwoKICAgIC8vIFJhaXNlcyB3aGVuIGFsbCBmdW5kcyBoYXZlIGJlZW4gd2l0aGRyYXduCiAgICBldmVudCBXaXRoZHJhd0FsbEZ1bmRzKHVpbnQyNTYgd2l0aGRyYXduQW1vdW50KTsKCiAgICAvLyBSYWlzZXMgd2hlbiBjcm93ZHNhbGUgaGFzIGJlZW4gZmluaXNoZWQKICAgIGV2ZW50IENyb3dkc2FsZUZpbmlzaGVkKCk7CgogICAgLy8gUmFpc2VzIHdoZW4gY3Jvd2RzYWxlIGdvYWwgaGFzIGJlZW4gcmVhY2hlZAogICAgZXZlbnQgR29hbFJlYWNoZWQoKTsKCiAgICBmdW5jdGlvbiBIRExDb250cmFjdChhZGRyZXNzIGFWYXVsdEFkZHJlc3MsIHVpbnQgYVN0YXJ0LCB1aW50IGFQZXJpb2QsIHVpbnQgYUdvYWwsIHVpbnQgYVJhdGUpIHsKICAgICAgICBfb3duZXJBZGRyZXNzID0gbXNnLnNlbmRlcjsKICAgICAgICBfdmF1bHRBZGRyZXNzID0gIGFWYXVsdEFkZHJlc3M7CiAgICAgICAgdG9rZW4gPSBuZXcgSERMVG9rZW4oKTsKICAgICAgICBfcmF0ZSA9ICBhUmF0ZTsKICAgICAgICBfc3RhcnQgPSBhU3RhcnQ7CiAgICAgICAgX3BlcmlvZCA9IGFQZXJpb2Q7CiAgICAgICAgX2dvYWwgPSAgYUdvYWwgKiAxIGV0aGVyOwoKICAgICAgICBpc3N1ZWRUb2tlbnMgPSAwOwogICAgICAgIGNvbGxlY3RlZEZ1bmRzID0gMDsKICAgIH0KCiAgICAvKioKCSAqIFRyYW5zZmVycyB0b2tlbiBvd25lcnNoaXAgZnJvbSBQcmUtc2FsZSB0byBTYWxlCiAgICAgKi8KICAgIGZ1bmN0aW9uIFRyYW5zZmVyVG9rZW5Pd25lcnNoaXAoYWRkcmVzcyBuZXdUb2tlbk93bmVyKSBwdWJsaWMgb25seU93bmVyCgl7CgkJdG9rZW4udHJhbnNmZXJPd25lcnNoaXAobmV3VG9rZW5Pd25lcik7Cgl9CgogICAgLyoqCiAgICAgKiBGaW5pc2hlcyBQUkUtSUNPIGNyb3dkc2FsZSBhbmQgY2xvc2VzIGN1cnJlbnQgY29udHJhY3QuCiAgICAgKiBDaGVja3MgaXMgZ29hbCBpcyByZWFjaGVkLiBJZiBpdCBpcyByZWFjaGVkIHRoZW4gd2l0aGRyYXdzIGFsbCBmdW5kcyB0byB2YXVsdCBhZGRyZXNzCiAgICAgKiBPdGhlcndpc2UgdHJpZXMgdG8gcmVmdW5kIGludmVzdG9ycyBvciBPcGVucyBjb250cmFjdCBmb3IgcmVmdW5kaW5nLgogICAgICoKICAgICAqLwogICAgZnVuY3Rpb24gZmluaXNoKCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZSghaXNGaW5pc2hlZCk7CgogICAgICAgIHRva2VuLnN0b3BNaW50aW5nKCk7CiAgICAgICAgaXNGaW5pc2hlZCA9IHRydWU7CgogICAgICAgIGlmIChpc3N1ZWRUb2tlbnMgPCBfZ29hbCkKICAgICAgICB7CiAgICAgICAgICAgIGlzUmVmdW5kaW5nID0gdHJ1ZTsKICAgICAgICB9IGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIHdpdGhkcmF3KCk7CiAgICAgICAgfQoKICAgICAgICBDcm93ZHNhbGVGaW5pc2hlZCgpOwogICAgfQoKICAgIC8qKgogICAgICogUmVmdW5kcyBpbnZlc3Rvci4gU2hvdWxkIGJlIGNhbGxlZCBieSBpbnZlc3RvcnMuCiAgICAgKiBJZiBjb250cmFjdCBzdGF0ZSBpcyBpbiBSZWZ1bmRpbmcgc3RhdGUgdGhlbiByZXR1cm5zIHRvIGludmVzdG9yIHNlbnQgYW1vdW50LgogICAgICoKICAgICAqLwogICAgZnVuY3Rpb24gcmVxdWVzdFJlZnVuZGluZygpIHB1YmxpYwogICAgewogICAgICAgIHJlcXVpcmUoaXNSZWZ1bmRpbmcpOwoKICAgICAgICBhZGRyZXNzIGludmVzdG9yQWRkcmVzcyA9IG1zZy5zZW5kZXI7CiAgICAgICAgcmVmdW5kSW52ZXN0b3IoaW52ZXN0b3JBZGRyZXNzKTsKICAgIH0KCiAgICAvKioKICAgICAqIEFjY2VwdHMgZXRoZXJzIGZyb20gaW52ZXN0b3IgYW5kIHNlbmRzIGJhY2sgSERMIHRva2Vucy4KICAgICAqLwogICAgZnVuY3Rpb24gYnV5VG9rZW5zKCkgcGF5YWJsZQogICAgewogICAgICAgIHJlcXVpcmUoIWlzRmluaXNoZWQpOwogICAgICAgIHJlcXVpcmUoaXNDb250cmFjdEFjdGl2ZSgpKTsKICAgICAgICByZXF1aXJlKCFpc0dvYWxSZWFjaGVkKCkpOwoKICAgICAgICB1aW50IHRva2VucyA9IF9yYXRlLm11bChtc2cudmFsdWUpOwoKICAgICAgICB0b2tlbi5taW50KHRoaXMsIHRva2Vucyk7CiAgICAgICAgdG9rZW4udHJhbnNmZXIobXNnLnNlbmRlciwgdG9rZW5zKTsKCiAgICAgICAgaXNzdWVkVG9rZW5zID0gaXNzdWVkVG9rZW5zLmFkZCh0b2tlbnMpOwogICAgICAgIF9pbnZlc3RvcnNbbXNnLnNlbmRlcl0gPSBfaW52ZXN0b3JzW21zZy5zZW5kZXJdLmFkZChtc2cudmFsdWUpOwogICAgICAgIF9pbnZlc3RvckFkZHJlc3Nlcy5wdXNoKG1zZy5zZW5kZXIpOwoKICAgICAgICBjb2xsZWN0ZWRGdW5kcyA9IGNvbGxlY3RlZEZ1bmRzLmFkZChtc2cudmFsdWUpOwoKICAgICAgICBGdW5kaW5nQWNjZXB0ZWQobXNnLnNlbmRlciwgbXNnLnZhbHVlLCB0b2tlbnMpOwoKICAgICAgICBpZiAoaXNzdWVkVG9rZW5zID49IF9nb2FsKQogICAgICAgIHsKICAgICAgICAgICAgR29hbFJlYWNoZWQoKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24oKSBleHRlcm5hbCBwYXlhYmxlIHsKICAgICAgICBidXlUb2tlbnMoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjbG9zZUNvbnRyYWN0KCkgb25seU93bmVyIHsKICAgICAgICB0b2tlbi5zdG9wTWludGluZygpOwogICAgICAgIGlzRmluaXNoZWQgPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHdpdGhkcmF3KCkgb25seU93bmVyIHsKICAgICAgICBpZiAodGhpcy5iYWxhbmNlID4gMCkgewogICAgICAgICAgICBfdmF1bHRBZGRyZXNzLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICAgICAgfQoKICAgICAgICBXaXRoZHJhd0FsbEZ1bmRzKHRoaXMuYmFsYW5jZSk7CiAgICB9CgogICAgZnVuY3Rpb24gcmVmdW5kSW52ZXN0b3IoYWRkcmVzcyBhSW52ZXN0b3JBZGRyZXNzKSBvbmx5T3duZXIgcmV0dXJucyhib29sKQogICAgewogICAgICAgIGlmIChhSW52ZXN0b3JBZGRyZXNzID09IDB4MCkKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHVpbnQyNTYgZGVwb3NpdGVkVmFsdWUgPSBfaW52ZXN0b3JzW2FJbnZlc3RvckFkZHJlc3NdOwoKICAgICAgICBpZiAoZGVwb3NpdGVkVmFsdWUgPD0gMCkKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIF9pbnZlc3RvcnNbYUludmVzdG9yQWRkcmVzc10gPSAwOwoKICAgICAgICBhSW52ZXN0b3JBZGRyZXNzLnRyYW5zZmVyKGRlcG9zaXRlZFZhbHVlKTsKICAgICAgICBJbnZlc3RvclJlZnVuZGVkKGFJbnZlc3RvckFkZHJlc3MsIGRlcG9zaXRlZFZhbHVlKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gaXNDb250cmFjdEFjdGl2ZSgpIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgcmV0dXJuIChub3cgPiBfc3RhcnQpICYmIChub3cgPCAoX3N0YXJ0ICsgX3BlcmlvZCAqIDEgZGF5cykpOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzR29hbFJlYWNoZWQoKSByZXR1cm5zIChib29sKQogICAgewogICAgICAgIHJldHVybiBpc3N1ZWRUb2tlbnMgPj0gX2dvYWw7CiAgICB9Cn0='.
	

]
