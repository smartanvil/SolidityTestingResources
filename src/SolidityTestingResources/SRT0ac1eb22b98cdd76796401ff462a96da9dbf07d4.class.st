Class {
	#name : #SRT0ac1eb22b98cdd76796401ff462a96da9dbf07d4,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT0ac1eb22b98cdd76796401ff462a96da9dbf07d4 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyBGaWxlOiBjb250cmFjdHMvU2FmZU1hdGguc29sCgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIHB1cmUgaW50ZXJuYWwgIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBwdXJlIGludGVybmFsICByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBwdXJlIGludGVybmFsICByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgcHVyZSBpbnRlcm5hbCAgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLy8gRmlsZTogY29udHJhY3RzL1Rva2VuLnNvbAoKLy8gQWJzdHJhY3QgY29udHJhY3QgZm9yIHRoZSBmdWxsIEVSQyAyMCBUb2tlbiBzdGFuZGFyZAovLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKcHJhZ21hIHNvbGlkaXR5IF4wLjQuODsKCmNvbnRyYWN0IFRva2VuIHsKICAgIC8qIFRoaXMgaXMgYSBzbGlnaHQgY2hhbmdlIHRvIHRoZSBFUkMyMCBiYXNlIHN0YW5kYXJkLgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSk7CiAgICBpcyByZXBsYWNlZCB3aXRoOgogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICBUaGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBhIGdldHRlciBmdW5jdGlvbiBmb3IgdGhlIHRvdGFsU3VwcGx5LgogICAgVGhpcyBpcyBtb3ZlZCB0byB0aGUgYmFzZSBjb250cmFjdCBzaW5jZSBwdWJsaWMgZ2V0dGVyIGZ1bmN0aW9ucyBhcmUgbm90CiAgICBjdXJyZW50bHkgcmVjb2duaXNlZCBhcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgbWF0Y2hpbmcgYWJzdHJhY3QKICAgIGZ1bmN0aW9uIGJ5IHRoZSBjb21waWxlci4KICAgICovCiAgICAvLy8gdG90YWwgYW1vdW50IG9mIHRva2VucwogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICBhZGRyZXNzIHB1YmxpYyBzYWxlOwogICAgYm9vbCBwdWJsaWMgdHJhbnNmZXJzQWxsb3dlZDsKICAgIAogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgZnJvbSB3aGljaCB0aGUgYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZAogICAgLy8vIEByZXR1cm4gVGhlIGJhbGFuY2UKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CgogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYAogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX3NwZW5kZXJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2ZlcgogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgLy8vIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudAogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cn0KCi8vIEZpbGU6IGNvbnRyYWN0cy9EaXNidXJzZW1lbnQuc29sCgovLyBOT1RFOiBPUklHSU5BTExZIFRISVMgV0FTICJUT0tFTlMvQUJTVFJBQ1RUT0tFTi5TT0wiLi4uIENIRUNLIFRIQVQKCgovLy8gQHRpdGxlIERpc2J1cnNlbWVudCBjb250cmFjdCAtIGFsbG93cyB0byBkaXN0cmlidXRlIHRva2VucyBvdmVyIHRpbWUKLy8vIEBhdXRob3IgU3RlZmFuIEdlb3JnZSAtIDw8YSBocmVmPSIvY2RuLWNnaS9sL2VtYWlsLXByb3RlY3Rpb24iIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iY2RiZWI5YThhYmFjYTM4ZGFhYTNhMmJlYTRiZWUzYmRhMCI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvYT4+CmNvbnRyYWN0IERpc2J1cnNlbWVudCB7CgogICAgLyoKICAgICAqICBTdG9yYWdlCiAgICAgKi8KICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgYWRkcmVzcyBwdWJsaWMgcmVjZWl2ZXI7CiAgICB1aW50IHB1YmxpYyBkaXNidXJzZW1lbnRQZXJpb2Q7CiAgICB1aW50IHB1YmxpYyBzdGFydERhdGU7CiAgICB1aW50IHB1YmxpYyB3aXRoZHJhd25Ub2tlbnM7CiAgICBUb2tlbiBwdWJsaWMgdG9rZW47CgogICAgLyoKICAgICAqICBNb2RpZmllcnMKICAgICAqLwogICAgbW9kaWZpZXIgaXNPd25lcigpIHsKICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikKICAgICAgICAgICAgLy8gT25seSBvd25lciBpcyBhbGxvd2VkIHRvIHByb2NlZWQKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBpc1JlY2VpdmVyKCkgewogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IHJlY2VpdmVyKQogICAgICAgICAgICAvLyBPbmx5IHJlY2VpdmVyIGlzIGFsbG93ZWQgdG8gcHJvY2VlZAogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIGlzU2V0VXAoKSB7CiAgICAgICAgaWYgKGFkZHJlc3ModG9rZW4pID09IDApCiAgICAgICAgICAgIC8vIENvbnRyYWN0IGlzIG5vdCBzZXQgdXAKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKgogICAgICogIFB1YmxpYyBmdW5jdGlvbnMKICAgICAqLwogICAgLy8vIEBkZXYgQ29uc3RydWN0b3IgZnVuY3Rpb24gc2V0cyBjb250cmFjdCBvd25lcgogICAgLy8vIEBwYXJhbSBfcmVjZWl2ZXIgUmVjZWl2ZXIgb2YgdmVzdGVkIHRva2VucwogICAgLy8vIEBwYXJhbSBfZGlzYnVyc2VtZW50UGVyaW9kIFZlc3RpbmcgcGVyaW9kIGluIHNlY29uZHMKICAgIC8vLyBAcGFyYW0gX3N0YXJ0RGF0ZSBTdGFydCBkYXRlIG9mIGRpc2J1cnNlbWVudCBwZXJpb2QgKGNsaWZmKQogICAgZnVuY3Rpb24gRGlzYnVyc2VtZW50KGFkZHJlc3MgX3JlY2VpdmVyLCB1aW50IF9kaXNidXJzZW1lbnRQZXJpb2QsIHVpbnQgX3N0YXJ0RGF0ZSkKICAgICAgICBwdWJsaWMKICAgIHsKICAgICAgICBpZiAoX3JlY2VpdmVyID09IDAgfHwgX2Rpc2J1cnNlbWVudFBlcmlvZCA9PSAwKQogICAgICAgICAgICAvLyBBcmd1bWVudHMgYXJlIG51bGwKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIHJlY2VpdmVyID0gX3JlY2VpdmVyOwogICAgICAgIGRpc2J1cnNlbWVudFBlcmlvZCA9IF9kaXNidXJzZW1lbnRQZXJpb2Q7CiAgICAgICAgc3RhcnREYXRlID0gX3N0YXJ0RGF0ZTsKICAgICAgICBpZiAoc3RhcnREYXRlID09IDApCiAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IG5vdzsKICAgIH0KCiAgICAvLy8gQGRldiBTZXR1cCBmdW5jdGlvbiBzZXRzIGV4dGVybmFsIGNvbnRyYWN0cycgYWRkcmVzc2VzCiAgICAvLy8gQHBhcmFtIF90b2tlbiBUb2tlbiBhZGRyZXNzCiAgICBmdW5jdGlvbiBzZXR1cChUb2tlbiBfdG9rZW4pCiAgICAgICAgcHVibGljCiAgICAgICAgaXNPd25lcgogICAgewogICAgICAgIGlmIChhZGRyZXNzKHRva2VuKSAhPSAwIHx8IGFkZHJlc3MoX3Rva2VuKSA9PSAwKQogICAgICAgICAgICAvLyBTZXR1cCB3YXMgZXhlY3V0ZWQgYWxyZWFkeSBvciBhZGRyZXNzIGlzIG51bGwKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgdG9rZW4gPSBfdG9rZW47CiAgICB9CgogICAgLy8vIEBkZXYgVHJhbnNmZXJzIHRva2VucyB0byBhIGdpdmVuIGFkZHJlc3MKICAgIC8vLyBAcGFyYW0gX3RvIEFkZHJlc3Mgb2YgdG9rZW4gcmVjZWl2ZXIKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIE51bWJlciBvZiB0b2tlbnMgdG8gdHJhbnNmZXIKICAgIGZ1bmN0aW9uIHdpdGhkcmF3KGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkKICAgICAgICBwdWJsaWMKICAgICAgICBpc1JlY2VpdmVyCiAgICAgICAgaXNTZXRVcAogICAgewogICAgICAgIHVpbnQgbWF4VG9rZW5zID0gY2FsY01heFdpdGhkcmF3KCk7CiAgICAgICAgaWYgKF92YWx1ZSA+IG1heFRva2VucykKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgd2l0aGRyYXduVG9rZW5zID0gU2FmZU1hdGguYWRkKHdpdGhkcmF3blRva2VucywgX3ZhbHVlKTsKICAgICAgICB0b2tlbi50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgLy8vIEBkZXYgQ2FsY3VsYXRlcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdmVzdGVkIHRva2VucwogICAgLy8vIEByZXR1cm4gTnVtYmVyIG9mIHZlc3RlZCB0b2tlbnMgdG8gd2l0aGRyYXcKICAgIGZ1bmN0aW9uIGNhbGNNYXhXaXRoZHJhdygpCiAgICAgICAgcHVibGljCiAgICAgICAgY29uc3RhbnQKICAgICAgICByZXR1cm5zICh1aW50KQogICAgewogICAgICAgIHVpbnQgbWF4VG9rZW5zID0gU2FmZU1hdGgubXVsKFNhZmVNYXRoLmFkZCh0b2tlbi5iYWxhbmNlT2YodGhpcyksIHdpdGhkcmF3blRva2VucyksIFNhZmVNYXRoLnN1Yihub3csc3RhcnREYXRlKSkgLyBkaXNidXJzZW1lbnRQZXJpb2Q7CiAgICAgICAgLy91aW50IG1heFRva2VucyA9ICh0b2tlbi5iYWxhbmNlT2YodGhpcykgKyB3aXRoZHJhd25Ub2tlbnMpICogKG5vdyAtIHN0YXJ0RGF0ZSkgLyBkaXNidXJzZW1lbnRQZXJpb2Q7CiAgICAgICAgaWYgKHdpdGhkcmF3blRva2VucyA+PSBtYXhUb2tlbnMgfHwgc3RhcnREYXRlID4gbm93KQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICBpZiAoU2FmZU1hdGguc3ViKG1heFRva2Vucywgd2l0aGRyYXduVG9rZW5zKSA+IHRva2VuLnRvdGFsU3VwcGx5KCkpCiAgICAgICAgICAgIHJldHVybiB0b2tlbi50b3RhbFN1cHBseSgpOwogICAgICAgIHJldHVybiBTYWZlTWF0aC5zdWIobWF4VG9rZW5zLCB3aXRoZHJhd25Ub2tlbnMpOwogICAgfQp9CgovLyBGaWxlOiBjb250cmFjdHMvT3duZWQuc29sCgpjb250cmFjdCBPd25lZCB7CiAgZXZlbnQgT3duZXJBZGRpdGlvbihhZGRyZXNzIGluZGV4ZWQgb3duZXIpOwoKICBldmVudCBPd25lclJlbW92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyKTsKCiAgLy8gb3duZXIgYWRkcmVzcyB0byBlbmFibGUgYWRtaW4gZnVuY3Rpb25zCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgaXNPd25lcjsKCiAgYWRkcmVzc1tdIHB1YmxpYyBvd25lcnM7CgogIGFkZHJlc3MgcHVibGljIG9wZXJhdG9yOwoKICBtb2RpZmllciBvbmx5T3duZXIgewoKICAgIHJlcXVpcmUoaXNPd25lclttc2cuc2VuZGVyXSk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgb25seU9wZXJhdG9yIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvcGVyYXRvcik7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gc2V0T3BlcmF0b3IoYWRkcmVzcyBfb3BlcmF0b3IpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICByZXF1aXJlKF9vcGVyYXRvciAhPSBhZGRyZXNzKDApKTsKICAgIG9wZXJhdG9yID0gX29wZXJhdG9yOwogIH0KCiAgZnVuY3Rpb24gcmVtb3ZlT3duZXIoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShvd25lcnMubGVuZ3RoID4gMSk7CiAgICBpc093bmVyW19vd25lcl0gPSBmYWxzZTsKICAgIGZvciAodWludCBpID0gMDsgaSA8IG93bmVycy5sZW5ndGggLSAxOyBpKyspIHsKICAgICAgaWYgKG93bmVyc1tpXSA9PSBfb3duZXIpIHsKICAgICAgICBvd25lcnNbaV0gPSBvd25lcnNbU2FmZU1hdGguc3ViKG93bmVycy5sZW5ndGgsIDEpXTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogICAgb3duZXJzLmxlbmd0aCA9IFNhZmVNYXRoLnN1Yihvd25lcnMubGVuZ3RoLCAxKTsKICAgIE93bmVyUmVtb3ZhbChfb3duZXIpOwogIH0KCiAgZnVuY3Rpb24gYWRkT3duZXIoYWRkcmVzcyBfb3duZXIpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICByZXF1aXJlKF9vd25lciAhPSBhZGRyZXNzKDApKTsKICAgIGlmKGlzT3duZXJbX293bmVyXSkgcmV0dXJuOwogICAgaXNPd25lcltfb3duZXJdID0gdHJ1ZTsKICAgIG93bmVycy5wdXNoKF9vd25lcik7CiAgICBPd25lckFkZGl0aW9uKF9vd25lcik7CiAgfQoKICBmdW5jdGlvbiBzZXRPd25lcnMoYWRkcmVzc1tdIF9vd25lcnMpIGludGVybmFsIHsKICAgIGZvciAodWludCBpID0gMDsgaSA8IF9vd25lcnMubGVuZ3RoOyBpKyspIHsKICAgICAgcmVxdWlyZShfb3duZXJzW2ldICE9IGFkZHJlc3MoMCkpOwogICAgICBpc093bmVyW19vd25lcnNbaV1dID0gdHJ1ZTsKICAgICAgT3duZXJBZGRpdGlvbihfb3duZXJzW2ldKTsKICAgIH0KICAgIG93bmVycyA9IF9vd25lcnM7CiAgfQoKICBmdW5jdGlvbiBnZXRPd25lcnMoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzc1tdKSAgewogICAgcmV0dXJuIG93bmVyczsKICB9Cgp9CgovLyBGaWxlOiBjb250cmFjdHMvVG9rZW5Mb2NrLnNvbAoKLyoqCnRoaXMgY29udHJhY3Qgc2hvdWxkIGJlIHRoZSBhZGRyZXNzIGZvciBkaXNidXJzZW1lbnQgY29udHJhY3QuCkl0IHNob3VsZCBub3QgYWxsb3cgdG8gZGlzYnVyc2UgYW55IHRva2VuIGZvciBhIGdpdmVuIHRpbWUgImluaXRpYWxMb2NrVGltZSIKbG9jayAiNTAlIiBvZiB0b2tlbnMgZm9yIDEwIHllYXJzLgp0cmFuc2ZlciA1MCUgb2YgdG9rZW5zIHRvIGEgZ2l2ZW4gYWRkcmVzcy4KKi8KY29udHJhY3QgVG9rZW5Mb2NrIGlzIE93bmVkIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgdWludCBwdWJsaWMgc2hvcnRMb2NrOwoKICB1aW50IHB1YmxpYyBsb25nTG9jazsKCiAgdWludCBwdWJsaWMgc2hvcnRTaGFyZTsKCiAgYWRkcmVzcyBwdWJsaWMgbGV2QWRkcmVzczsKCiAgYWRkcmVzcyBwdWJsaWMgZGlzYnVyc2VtZW50OwoKICB1aW50IHB1YmxpYyBsb25nVGVybVRva2VuczsKCiAgbW9kaWZpZXIgdmFsaWRBZGRyZXNzKGFkZHJlc3MgX2FkZHJlc3MpewogICAgcmVxdWlyZShfYWRkcmVzcyAhPSAwKTsKICAgIF87CiAgfQoKICBmdW5jdGlvbiBUb2tlbkxvY2soYWRkcmVzc1tdIF9vd25lcnMsIHVpbnQgX3Nob3J0TG9jaywgdWludCBfbG9uZ0xvY2ssIHVpbnQgX3Nob3J0U2hhcmUpIHB1YmxpYyB7CiAgICByZXF1aXJlKF9sb25nTG9jayA+IF9zaG9ydExvY2spOwogICAgcmVxdWlyZShfc2hvcnRMb2NrID4gMCk7CiAgICByZXF1aXJlKF9zaG9ydFNoYXJlIDw9IDEwMCk7CiAgICBzZXRPd25lcnMoX293bmVycyk7CiAgICBzaG9ydExvY2sgPSBibG9jay50aW1lc3RhbXAuYWRkKF9zaG9ydExvY2spOwogICAgbG9uZ0xvY2sgPSBibG9jay50aW1lc3RhbXAuYWRkKF9sb25nTG9jayk7CiAgICBzaG9ydFNoYXJlID0gX3Nob3J0U2hhcmU7CiAgfQoKICBmdW5jdGlvbiBzZXR1cChhZGRyZXNzIF9kaXNidXJzZW1lbnQsIGFkZHJlc3MgX2xldlRva2VuKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoX2Rpc2J1cnNlbWVudCAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX2xldlRva2VuICE9IGFkZHJlc3MoMCkpOwogICAgZGlzYnVyc2VtZW50ID0gX2Rpc2J1cnNlbWVudDsKICAgIGxldkFkZHJlc3MgPSBfbGV2VG9rZW47CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlclNob3J0VGVybVRva2VucyhhZGRyZXNzIF93YWxsZXQpIHB1YmxpYyB2YWxpZEFkZHJlc3MoX3dhbGxldCkgb25seU93bmVyIHsKICAgIHJlcXVpcmUobm93ID4gc2hvcnRMb2NrKTsKICAgIHVpbnQyNTYgdG9rZW5CYWxhbmNlID0gVG9rZW4obGV2QWRkcmVzcykuYmFsYW5jZU9mKGRpc2J1cnNlbWVudCk7CiAgICAvLyBsb25nIHRlcm0gdG9rZW5zIGNhbiBiZSBzZXQgb25seSBvbmNlLgogICAgaWYgKGxvbmdUZXJtVG9rZW5zID09IDApIHsKICAgICAgbG9uZ1Rlcm1Ub2tlbnMgPSB0b2tlbkJhbGFuY2UubXVsKDEwMCAtIHNob3J0U2hhcmUpLmRpdigxMDApOwogICAgfQogICAgcmVxdWlyZSh0b2tlbkJhbGFuY2UgPiBsb25nVGVybVRva2Vucyk7CiAgICB1aW50MjU2IGFtb3VudFRvU2VuZCA9IHRva2VuQmFsYW5jZS5zdWIobG9uZ1Rlcm1Ub2tlbnMpOwogICAgRGlzYnVyc2VtZW50KGRpc2J1cnNlbWVudCkud2l0aGRyYXcoX3dhbGxldCwgYW1vdW50VG9TZW5kKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyTG9uZ1Rlcm1Ub2tlbnMoYWRkcmVzcyBfd2FsbGV0KSBwdWJsaWMgdmFsaWRBZGRyZXNzKF93YWxsZXQpIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5vdyA+IGxvbmdMb2NrKTsKICAgIC8vIDEuIEdldCBob3cgbWFueSB0b2tlbnMgdGhpcyBjb250cmFjdCBoYXMgd2l0aCBhIHRva2VuIGluc3RhbmNlIGFuZCBjaGVjayB0aGlzIHRva2VuIGJhbGFuY2UKICAgIHVpbnQyNTYgdG9rZW5CYWxhbmNlID0gVG9rZW4obGV2QWRkcmVzcykuYmFsYW5jZU9mKGRpc2J1cnNlbWVudCk7CgogICAgLy8gMi4gVHJhbnNmZXIgdGhvc2UgdG9rZW5zIHdpdGggdGhlIF9zaG9ydFNoYXJlIHBlcmNlbnRhZ2UKICAgIERpc2J1cnNlbWVudChkaXNidXJzZW1lbnQpLndpdGhkcmF3KF93YWxsZXQsIHRva2VuQmFsYW5jZSk7CiAgfQp9'.
	

]
