Class {
	#name : #SRT560da6e7f219e37a094342b3a56ea27bfa6798be,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT560da6e7f219e37a094342b3a56ea27bfa6798be >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgVG9rZW4gewoKICAgIC8vLyBAcmV0dXJuIHRvdGFsIGFtb3VudCBvZiB0b2tlbnMKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpIHt9CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgZnJvbSB3aGljaCB0aGUgYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZAogICAgLy8vIEByZXR1cm4gVGhlIGJhbGFuY2UKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7fQoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9CgogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBfZnJvbWAgb24gdGhlIGNvbmRpdGlvbiBpdCBpcyBhcHByb3ZlZCBieSBgX2Zyb21gCiAgICAvLy8gQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQoKICAgIC8vLyBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX2FkZHJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2Ygd2VpIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2ZlcgogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHt9CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKICAgIAp9CgoKCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgVG9rZW4gewoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy9EZWZhdWx0IGFzc3VtZXMgdG90YWxTdXBwbHkgY2FuJ3QgYmUgb3ZlciBtYXggKDJeMjU2IC0gMSkuCiAgICAgICAgLy9JZiB5b3VyIHRva2VuIGxlYXZlcyBvdXQgdG90YWxTdXBwbHkgYW5kIGNhbiBpc3N1ZSBtb3JlIHRva2VucyBhcyB0aW1lIGdvZXMgb24sIHlvdSBuZWVkIHRvIGNoZWNrIGlmIGl0IGRvZXNuJ3Qgd3JhcC4KICAgICAgICAvL1JlcGxhY2UgdGhlIGlmIHdpdGggdGhpcyBvbmUgaW5zdGVhZC4KICAgICAgICAvL2lmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0KICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvL3NhbWUgYXMgYWJvdmUuIFJlcGxhY2UgdGhpcyBsaW5lIHdpdGggdGhlIGZvbGxvd2luZyBpZiB5b3Ugd2FudCB0byBwcm90ZWN0IGFnYWluc3Qgd3JhcHBpbmcgdWludHMuCiAgICAgICAgLy9pZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsKICAgICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCkgewogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0KICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5Owp9CgoKLy9uYW1lIHRoaXMgY29udHJhY3Qgd2hhdGV2ZXIgeW91J2QgbGlrZQpjb250cmFjdCBGYXJtQ29pbiBpcyBTdGFuZGFyZFRva2VuIHsKCiAgIAogICAgLyogUHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4gKi8KCiAgICAvKgogICAgTk9URToKICAgIFRoZSBmb2xsb3dpbmcgdmFyaWFibGVzIGFyZSBPUFRJT05BTCB2YW5pdGllcy4gT25lIGRvZXMgbm90IGhhdmUgdG8gaW5jbHVkZSB0aGVtLgogICAgVGhleSBhbGxvdyBvbmUgdG8gY3VzdG9taXNlIHRoZSB0b2tlbiBjb250cmFjdCAmIGluIG5vIHdheSBpbmZsdWVuY2VzIHRoZSBjb3JlIGZ1bmN0aW9uYWxpdHkuCiAgICBTb21lIHdhbGxldHMvaW50ZXJmYWNlcyBtaWdodCBub3QgZXZlbiBib3RoZXIgdG8gbG9vayBhdCB0aGlzIGluZm9ybWF0aW9uLgogICAgKi8KICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICdGYXJtQ29pbic7ICAgICAgICAgICAgICAgICAgIC8vZmFuY3kgbmFtZTogZWcgU2ltb24gQnVja3MKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDE4OyAgICAgICAgICAgICAgICAvL0hvdyBtYW55IGRlY2ltYWxzIHRvIHNob3cuIGllLiBUaGVyZSBjb3VsZCAxMDAwIGJhc2UgdW5pdHMgd2l0aCAzIGRlY2ltYWxzLiBNZWFuaW5nIDAuOTgwIFNCWCA9IDk4MCBiYXNlIHVuaXRzLiBJdCdzIGxpa2UgY29tcGFyaW5nIDEgd2VpIHRvIDEgZXRoZXIuCiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICdGQVJNJzsgICAgICAgICAgICAgICAgIC8vQW4gaWRlbnRpZmllcjogZWcgU0JYCiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAnSDEuMCc7ICAgICAgIC8vaHVtYW4gMC4xIHN0YW5kYXJkLiBKdXN0IGFuIGFyYml0cmFyeSB2ZXJzaW9uaW5nIHNjaGVtZS4KCi8vCi8vIENIQU5HRSBUSEVTRSBWQUxVRVMgRk9SIFlPVVIgVE9LRU4KLy8KCi8vbWFrZSBzdXJlIHRoaXMgZnVuY3Rpb24gbmFtZSBtYXRjaGVzIHRoZSBjb250cmFjdCBuYW1lIGFib3ZlLiBTbyBpZiB5b3UncmUgdG9rZW4gaXMgY2FsbGVkIFR1dG9yaWFsVG9rZW4sIG1ha2Ugc3VyZSB0aGUgLy9jb250cmFjdCBuYW1lIGFib3ZlIGlzIGFsc28gVHV0b3JpYWxUb2tlbiBpbnN0ZWFkIG9mIEVSQzIwVG9rZW4KCiAgICBmdW5jdGlvbiBGYXJtQ29pbigKICAgICAgICApIHsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IDUwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA7ICAgICAgICAgICAgICAgLy8gR2l2ZSB0aGUgY3JlYXRvciBhbGwgaW5pdGlhbCB0b2tlbnMgKDEwMDAwMCBmb3IgZXhhbXBsZSkKICAgICAgICB0b3RhbFN1cHBseSA9IDUwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRvdGFsIHN1cHBseSAoMTAwMDAwIGZvciBleGFtcGxlKQogICAgICAgIG5hbWUgPSAiRmFybUNvaW4iOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBuYW1lIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgZGVjaW1hbHMgPSAxODsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQW1vdW50IG9mIGRlY2ltYWxzIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgc3ltYm9sID0gIkZBUk0iOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIHN5bWJvbCBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgfQoKICAgIC8qIEFwcHJvdmVzIGFuZCB0aGVuIGNhbGxzIHRoZSByZWNlaXZpbmcgY29udHJhY3QgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZXh0cmFEYXRhKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKCiAgICAgICAgLy9jYWxsIHRoZSByZWNlaXZlQXBwcm92YWwgZnVuY3Rpb24gb24gdGhlIGNvbnRyYWN0IHlvdSB3YW50IHRvIGJlIG5vdGlmaWVkLiBUaGlzIGNyYWZ0cyB0aGUgZnVuY3Rpb24gc2lnbmF0dXJlIG1hbnVhbGx5IHNvIG9uZSBkb2Vzbid0IGhhdmUgdG8gaW5jbHVkZSBhIGNvbnRyYWN0IGluIGhlcmUganVzdCBmb3IgdGhpcy4KICAgICAgICAvL3JlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW5Db250cmFjdCwgYnl0ZXMgX2V4dHJhRGF0YSkKICAgICAgICAvL2l0IGlzIGFzc3VtZWQgdGhhdCB3aGVuIGRvZXMgdGhpcyB0aGF0IHRoZSBjYWxsICpzaG91bGQqIHN1Y2NlZWQsIG90aGVyd2lzZSBvbmUgd291bGQgdXNlIHZhbmlsbGEgYXBwcm92ZSBpbnN0ZWFkLgogICAgICAgIGlmKCFfc3BlbmRlci5jYWxsKGJ5dGVzNChieXRlczMyKHNoYTMoInJlY2VpdmVBcHByb3ZhbChhZGRyZXNzLHVpbnQyNTYsYWRkcmVzcyxieXRlcykiKSkpLCBtc2cuc2VuZGVyLCBfdmFsdWUsIHRoaXMsIF9leHRyYURhdGEpKSB7IHJldmVydDsgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9Cgpjb250cmFjdCBGYXJtQ29pblNhbGUgaXMgRmFybUNvaW4gewoKICAgIHVpbnQyNTYgcHVibGljIG1heE1pbnRhYmxlOwogICAgdWludDI1NiBwdWJsaWMgdG90YWxNaW50ZWQ7CiAgICB1aW50MjU2IHB1YmxpYyBkZWNpbWFscyA9IDE4OwogICAgdWludCBwdWJsaWMgZW5kQmxvY2s7CiAgICB1aW50IHB1YmxpYyBzdGFydEJsb2NrOwogICAgdWludDI1NiBwdWJsaWMgZXhjaGFuZ2VSYXRlOwogICAgdWludCBwdWJsaWMgc3RhcnRUaW1lOwogICAgYm9vbCBwdWJsaWMgaXNGdW5kaW5nOwogICAgYWRkcmVzcyBwdWJsaWMgRVRIV2FsbGV0OwogICAgdWludDI1NiBwdWJsaWMgaGVsZFRvdGFsOwoKICAgIGJvb2wgcHJpdmF0ZSBjb25maWdTZXQ7CiAgICBhZGRyZXNzIHB1YmxpYyBjcmVhdG9yOwoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGhlbGRUb2tlbnM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyBoZWxkVGltZWxpbmU7CgogICAgZXZlbnQgQ29udHJpYnV0aW9uKGFkZHJlc3MgZnJvbSwgdWludDI1NiBhbW91bnQpOwogICAgZXZlbnQgUmVsZWFzZVRva2VucyhhZGRyZXNzIGZyb20sIHVpbnQyNTYgYW1vdW50KTsKCi8vIHN0YXJ0IGFuZCBlbmQgZGF0ZXMgd2hlcmUgY3Jvd2RzYWxlIGlzIGFsbG93ZWQgKGJvdGggaW5jbHVzaXZlKQogIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIFNUQVJUID0gMTUxNzQ2MTIwMDAwMDsgLy8gK25ldyBEYXRlKDIwMTgsIDIsIDEpIC8gMTAwMAogIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIEVORCA9IDE1MjI1NTUyMDAwMDA7IC8vICtuZXcgRGF0ZSgyMDE4LCA0LCAxKSAvIDEwMDAKCi8vIEByZXR1cm4gdGhlIHJhdGUgaW4gRkFSTSBwZXIgMSBFVEggYWNjb3JkaW5nIHRvIHRoZSB0aW1lIG9mIHRoZSB0eCBhbmQgdGhlIEZBUk0gcHJpY2luZyBwcm9ncmFtLgogICAgLy8gQE92ZXJyaWRlCiAgZnVuY3Rpb24gZ2V0UmF0ZSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmF0ZSkgewogICAgaWYgICAgICAobm93IDwgU1RBUlQpICAgICAgICAgICAgcmV0dXJuIHJhdGUgPSA4NDA7IC8vIHByZXNhbGUsIDQwJSBib251cwogICAgZWxzZSBpZiAobm93IDw9IFNUQVJUICsgIDYgZGF5cykgcmV0dXJuIHJhdGUgPSA4MTA7IC8vIGRheSAxIHRvIDYsIDM1JSBib251cwogICAgZWxzZSBpZiAobm93IDw9IFNUQVJUICsgMTMgZGF5cykgcmV0dXJuIHJhdGUgPSA3ODA7IC8vIGRheSA3IHRvIDEzLCAzMCUgYm9udXMKICAgIGVsc2UgaWYgKG5vdyA8PSBTVEFSVCArIDIwIGRheXMpIHJldHVybiByYXRlID0gNzUwOyAvLyBkYXkgMTQgdG8gMjAsIDI1JSBib251cwogICAgZWxzZSBpZiAobm93IDw9IFNUQVJUICsgMjggZGF5cykgcmV0dXJuIHJhdGUgPSA3MjA7IC8vIGRheSAyMSB0byAyOCwgMjAlIGJvbnVzCiAgICByZXR1cm4gcmF0ZSA9IDYwMDsgLy8gbm8gYm9udXMKICB9CgoKICAgIGZ1bmN0aW9uIEZhcm1Db2luU2FsZSgpIHsKICAgICAgICBzdGFydEJsb2NrID0gYmxvY2subnVtYmVyOwogICAgICAgIG1heE1pbnRhYmxlID0gNTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDsgLy8gMyBtaWxsaW9uIG1heCBzZWxsYWJsZSAoMTggZGVjaW1hbHMpCiAgICAgICAgRVRIV2FsbGV0ID0gMHgzYjQ0NGZDOGMyQzQ1RENhNWU2NjEwRTQ5ZEM1NDQyM2M1RGNkODZFOwogICAgICAgIGlzRnVuZGluZyA9IHRydWU7CiAgICAgICAgCiAgICAgICAgY3JlYXRvciA9IG1zZy5zZW5kZXI7CiAgICAgICAgY3JlYXRlSGVsZENvaW5zKCk7CiAgICAgICAgc3RhcnRUaW1lID0gMTUxNzQ2MTIwMDAwMDsKICAgICAgICBleGNoYW5nZVJhdGU9IDYwMDsKICAgICAgICB9CgogCiAgICAvLyBzZXR1cCBmdW5jdGlvbiB0byBiZSByYW4gb25seSAxIHRpbWUKICAgIC8vIHNldHVwIHRva2VuIGFkZHJlc3MKICAgIC8vIHNldHVwIGVuZCBCbG9jayBudW1iZXIKICAgIGZ1bmN0aW9uIHNldHVwKGFkZHJlc3MgVE9LRU4sIHVpbnQgZW5kQmxvY2tUaW1lKSB7CiAgICAgICAgcmVxdWlyZSghY29uZmlnU2V0KTsKICAgICAgICBlbmRCbG9jayA9IGVuZEJsb2NrVGltZTsKICAgICAgICBjb25maWdTZXQgPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGNsb3NlU2FsZSgpIGV4dGVybmFsIHsKICAgICAgcmVxdWlyZShtc2cuc2VuZGVyPT1jcmVhdG9yKTsKICAgICAgaXNGdW5kaW5nID0gZmFsc2U7CiAgICB9CgogICAgLy8gQ09OVFJJQlVURSBGVU5DVElPTgogICAgLy8gY29udmVydHMgRVRIIHRvIFRPS0VOIGFuZCBzZW5kcyBuZXcgVE9LRU4gdG8gdGhlIHNlbmRlcgogICAgZnVuY3Rpb24gY29udHJpYnV0ZSgpIGV4dGVybmFsIHBheWFibGUgewogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlPjApOwogICAgICAgIHJlcXVpcmUoaXNGdW5kaW5nKTsKICAgICAgICByZXF1aXJlKGJsb2NrLm51bWJlciA8PSBlbmRCbG9jayk7CiAgICAgICAgdWludDI1NiBhbW91bnQgPSBtc2cudmFsdWUgKiBleGNoYW5nZVJhdGU7CiAgICAgICAgdWludDI1NiB0b3RhbCA9IHRvdGFsTWludGVkICsgYW1vdW50OwogICAgICAgIHJlcXVpcmUodG90YWw8PW1heE1pbnRhYmxlKTsKICAgICAgICB0b3RhbE1pbnRlZCArPSB0b3RhbDsKICAgICAgICBFVEhXYWxsZXQudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgICAgICBDb250cmlidXRpb24obXNnLnNlbmRlciwgYW1vdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiBkZXBvc2l0KCkgcGF5YWJsZSB7CiAgICAgIGNyZWF0ZShtc2cuc2VuZGVyKTsKICAgIH0KICAgIGZ1bmN0aW9uIHJlZ2lzdGVyKGFkZHJlc3Mgc2VuZGVyKSBwYXlhYmxlIHsKICAgIH0KICAgIGZ1bmN0aW9uICgpIHBheWFibGUgewogICAgfQogIAogICAgZnVuY3Rpb24gY3JlYXRlKGFkZHJlc3MgX2JlbmVmaWNpYXJ5KSBwYXlhYmxlewogICAgdWludDI1NiBhbW91bnQgPSBtc2cudmFsdWU7CiAgICAvLy8gCiAgICB9CgogICAgIC8vIFNlbmQgYHRva2Vuc2AgYW1vdW50IG9mIHRva2VucyBmcm9tIGFkZHJlc3MgYGZyb21gIHRvIGFkZHJlc3MgYHRvYAogICAgIC8vIFRoZSB0cmFuc2ZlckZyb20gbWV0aG9kIGlzIHVzZWQgZm9yIGEgd2l0aGRyYXcgd29ya2Zsb3csIGFsbG93aW5nIGNvbnRyYWN0cyB0byBzZW5kCiAgICAgLy8gdG9rZW5zIG9uIHlvdXIgYmVoYWxmLCBmb3IgZXhhbXBsZSB0byAiZGVwb3NpdCIgdG8gYSBjb250cmFjdCBhZGRyZXNzIGFuZC9vciB0byBjaGFyZ2UKICAgICAvLyBmZWVzIGluIHN1Yi1jdXJyZW5jaWVzOyB0aGUgY29tbWFuZCBzaG91bGQgZmFpbCB1bmxlc3MgdGhlIF9mcm9tIGFjY291bnQgaGFzCiAgICAgLy8gZGVsaWJlcmF0ZWx5IGF1dGhvcml6ZWQgdGhlIHNlbmRlciBvZiB0aGUgbWVzc2FnZSB2aWEgc29tZSBtZWNoYW5pc207IHdlIHByb3Bvc2UKICAgICAvLyB0aGVzZSBzdGFuZGFyZGl6ZWQgQVBJcyBmb3IgYXBwcm92YWw6CiAgICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludCBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICBUcmFuc2Zlcihmcm9tLCB0bywgX3ZhbHVlKTsKICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgfQogICAgLy8gdXBkYXRlIHRoZSBFVEgvQ09JTiByYXRlCiAgICBmdW5jdGlvbiB1cGRhdGVSYXRlKHVpbnQyNTYgcmF0ZSkgZXh0ZXJuYWwgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlcj09Y3JlYXRvcik7CiAgICAgICAgcmVxdWlyZShpc0Z1bmRpbmcpOwogICAgICAgIGV4Y2hhbmdlUmF0ZSA9IHJhdGU7CiAgICB9CgogICAgLy8gY2hhbmdlIGNyZWF0b3IgYWRkcmVzcwogICAgZnVuY3Rpb24gY2hhbmdlQ3JlYXRvcihhZGRyZXNzIF9jcmVhdG9yKSBleHRlcm5hbCB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyPT1jcmVhdG9yKTsKICAgICAgICBjcmVhdG9yID0gX2NyZWF0b3I7CiAgICB9CgogICAgLy8gY2hhbmdlIHRyYW5zZmVyIHN0YXR1cyBmb3IgRmFybUNvaW4gdG9rZW4KICAgIGZ1bmN0aW9uIGNoYW5nZVRyYW5zZmVyU3RhdHMoYm9vbCBfYWxsb3dlZCkgZXh0ZXJuYWwgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlcj09Y3JlYXRvcik7CiAgICAgfQoKICAgIC8vIGludGVybmFsIGZ1bmN0aW9uIHRoYXQgYWxsb2NhdGVzIGEgc3BlY2lmaWMgYW1vdW50IG9mIEFUWVggYXQgYSBzcGVjaWZpYyBibG9jayBudW1iZXIuCiAgICAvLyBvbmx5IHJhbiAxIHRpbWUgb24gaW5pdGlhbGl6YXRpb24KICAgIGZ1bmN0aW9uIGNyZWF0ZUhlbGRDb2lucygpIGludGVybmFsIHsKICAgICAgICAvLyBUT1RBTCBTVVBQTFkgPSA1LDAwMCwwMDAKICAgICAgICBjcmVhdGVIb2xkVG9rZW4obXNnLnNlbmRlciwgMTAwMCk7CiAgICAgICAgY3JlYXRlSG9sZFRva2VuKDB4ZDk3MTBEODI5ZmE3YzM2RTAyNTAxMWI4MDE2NjQwMDlFNGU3YzY5RCwgMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwKTsKICAgICAgICBjcmVhdGVIb2xkVG9rZW4oMHhkOTcxMEQ4MjlmYTdjMzZFMDI1MDExYjgwMTY2NDAwOUU0ZTdjNjlELCAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDApOwogICAgfQoKICAgIC8vIGZ1bmN0aW9uIHRvIGNyZWF0ZSBoZWxkIHRva2VucyBmb3IgZGV2ZWxvcGVyCiAgICBmdW5jdGlvbiBjcmVhdGVIb2xkVG9rZW4oYWRkcmVzcyBfdG8sIHVpbnQyNTYgYW1vdW50KSBpbnRlcm5hbCB7CiAgICAgICAgaGVsZFRva2Vuc1tfdG9dID0gYW1vdW50OwogICAgICAgIGhlbGRUaW1lbGluZVtfdG9dID0gYmxvY2subnVtYmVyICsgMDsKICAgICAgICBoZWxkVG90YWwgKz0gYW1vdW50OwogICAgICAgIHRvdGFsTWludGVkICs9IGhlbGRUb3RhbDsKICAgIH0KCiAgICAvLyBmdW5jdGlvbiB0byByZWxlYXNlIGhlbGQgdG9rZW5zIGZvciBkZXZlbG9wZXJzCiAgICBmdW5jdGlvbiByZWxlYXNlSGVsZENvaW5zKCkgZXh0ZXJuYWwgewogICAgICAgIHVpbnQyNTYgaGVsZCA9IGhlbGRUb2tlbnNbbXNnLnNlbmRlcl07CiAgICAgICAgdWludCBoZWxkQmxvY2sgPSBoZWxkVGltZWxpbmVbbXNnLnNlbmRlcl07CiAgICAgICAgcmVxdWlyZSghaXNGdW5kaW5nKTsKICAgICAgICByZXF1aXJlKGhlbGQgPj0gMCk7CiAgICAgICAgcmVxdWlyZShibG9jay5udW1iZXIgPj0gaGVsZEJsb2NrKTsKICAgICAgICBoZWxkVG9rZW5zW21zZy5zZW5kZXJdID0gMDsKICAgICAgICBoZWxkVGltZWxpbmVbbXNnLnNlbmRlcl0gPSAwOwogICAgICAgIFJlbGVhc2VUb2tlbnMobXNnLnNlbmRlciwgaGVsZCk7CiAgICB9CgoKfQ=='.
	

]
