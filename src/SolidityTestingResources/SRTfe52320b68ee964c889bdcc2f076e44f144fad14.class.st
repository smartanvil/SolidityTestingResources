Class {
	#name : #SRTfe52320b68ee964c889bdcc2f076e44f144fad14,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTfe52320b68ee964c889bdcc2f076e44f144fad14 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTA7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLiAKICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLiAKICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBAZGV2IEltcGxlbWVudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFyZCB0b2tlbi4KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgIC8vIHJlcXVpcmUgKF92YWx1ZSA8PSBfYWxsb3dhbmNlKTsKCiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICBpZiAobmV3T3duZXIgIT0gYWRkcmVzcygwKSkgewogICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQogIH0KCn0KCmNvbnRyYWN0IE1pZ3JhdGlvbkFnZW50IHsKICAgIGZ1bmN0aW9uIG1pZ3JhdGVGcm9tKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKTsKfQoKLyoqCiAgICBCbG9ja0NoYWluIEJvYXJkIE9mIERlcml2YXRpdmVzIFRva2VuLiAKICovCmNvbnRyYWN0IEJCRFRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIE93bmFibGUgewoKICAgIC8vIE1ldGFkYXRhCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiQmxvY2tDaGFpbiBCb2FyZCBPZiBEZXJpdmF0aXZlcyBUb2tlbiI7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJCQkQiOwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgdmVyc2lvbiA9ICcxLjAuMCc7CgogICAgLy8gUHJlc2FsZSBwYXJhbWV0ZXJzCiAgICB1aW50MjU2IHB1YmxpYyBwcmVzYWxlU3RhcnRUaW1lOwogICAgdWludDI1NiBwdWJsaWMgcHJlc2FsZUVuZFRpbWU7CgogICAgYm9vbCBwdWJsaWMgcHJlc2FsZUZpbmFsaXplZCA9IGZhbHNlOwoKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHByZXNhbGVUb2tlbkNyZWF0aW9uQ2FwID0gNDAwMDAgKiAxMCAqKiBkZWNpbWFsczsvLyBhbW91bnQgb24gcHJlc2FsZQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgcHJlc2FsZVRva2VuQ3JlYXRpb25SYXRlID0gMjAwMDA7IC8vIDIgQkREIHBlciAxIEVUSAoKICAgIC8vIFNhbGUgcGFyYW1ldGVycwogICAgdWludDI1NiBwdWJsaWMgc2FsZVN0YXJ0VGltZTsKICAgIHVpbnQyNTYgcHVibGljIHNhbGVFbmRUaW1lOwoKICAgIGJvb2wgcHVibGljIHNhbGVGaW5hbGl6ZWQgPSBmYWxzZTsKCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCB0b3RhbFRva2VuQ3JlYXRpb25DYXAgPSAyNDAwMDAgKiAxMCAqKiBkZWNpbWFsczsgLy90b3RhbCBhbW91bnQgb24gYWxlIGFuZCBwcmVzYWxlCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBzYWxlU3RhcnRUb2tlbkNyZWF0aW9uUmF0ZSA9IDE2NjAwOyAvLyAxLjY2IEJERCBwZXIgMSBFVEgKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IHNhbGVFbmRUb2tlbkNyZWF0aW9uUmF0ZSA9IDEwMDAwOyAvLyAxIEJERCBwZXIgMSBFVEgKCiAgICAvLyBNaWdyYXRpb24gaW5mb3JtYXRpb24KICAgIGFkZHJlc3MgcHVibGljIG1pZ3JhdGlvbkFnZW50OwogICAgdWludDI1NiBwdWJsaWMgdG90YWxNaWdyYXRlZDsKCiAgICAvLyBUZWFtIGFjY291bnRzCiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBxdEFjY291bnQgPSAweDg3YTkxMzE0ODVjZjhlZDhFOWJEODM0YjQ2QTEyRDdmMzA5MmMyNjM7CiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBjb3JlVGVhbU1lbWJlck9uZSA9IDB4ZTQzMDg4RTgyM2VBNzQyMkQ3N0UzMmExOTUyNjdhRTk3NzlBOEIwNzsKICAgIGFkZHJlc3MgcHVibGljIGNvbnN0YW50IGNvcmVUZWFtTWVtYmVyVHdvID0gMHhhZDAwODg0ZDFFN0QwMzU0ZDE2ZmE4QWIwODMyMDhjMmNDM0VkNTE1OwoKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGRpdmlzb3IgPSAxMDAwMDsKCiAgICAvLyBFVEggYW1vdW50IHJpc2VkCiAgICB1aW50MjU2IHJhaXNlZCA9IDA7CgogICAgLy8gRXZlbnRzCiAgICBldmVudCBNaWdyYXRlKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgVG9rZW5QdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgX3B1cmNoYXNlciwgYWRkcmVzcyBpbmRleGVkIF9iZW5lZmljaWFyeSwgdWludDI1NiBfdmFsdWUsIHVpbnQyNTYgX2Ftb3VudCk7CgogICAgZnVuY3Rpb24oKSBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKCFwcmVzYWxlRmluYWxpemVkIHx8ICFzYWxlRmluYWxpemVkKTsgLy90b2RvCgogICAgICAgIGlmICghcHJlc2FsZUZpbmFsaXplZCkgewogICAgICAgICAgICBidXlQcmVzYWxlVG9rZW5zKG1zZy5zZW5kZXIpOwogICAgICAgIH0KICAgICAgICBlbHNlewogICAgICAgICAgICBidXlTYWxlVG9rZW5zKG1zZy5zZW5kZXIpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBCQkRUb2tlbih1aW50MjU2IF9wcmVzYWxlU3RhcnRUaW1lLCB1aW50MjU2IF9wcmVzYWxlRW5kVGltZSwgdWludDI1NiBfc2FsZVN0YXJ0VGltZSwgdWludDI1NiBfc2FsZUVuZFRpbWUpIHsKICAgICAgICByZXF1aXJlKF9wcmVzYWxlU3RhcnRUaW1lID49IG5vdyk7CiAgICAgICAgcmVxdWlyZShfcHJlc2FsZUVuZFRpbWUgPj0gX3ByZXNhbGVTdGFydFRpbWUpOwogICAgICAgIHJlcXVpcmUoX3NhbGVTdGFydFRpbWUgPj0gX3ByZXNhbGVFbmRUaW1lKTsKICAgICAgICByZXF1aXJlKF9zYWxlRW5kVGltZSA+PSBfc2FsZVN0YXJ0VGltZSk7CgogICAgICAgIHByZXNhbGVTdGFydFRpbWUgPSBfcHJlc2FsZVN0YXJ0VGltZTsKICAgICAgICBwcmVzYWxlRW5kVGltZSA9IF9wcmVzYWxlRW5kVGltZTsKICAgICAgICBzYWxlU3RhcnRUaW1lID0gX3NhbGVTdGFydFRpbWU7CiAgICAgICAgc2FsZUVuZFRpbWUgPSBfc2FsZUVuZFRpbWU7CiAgICB9CgogICAgLy8gR2V0IHRva2VuIGNyZWF0aW9uIHJhdGUKICAgIGZ1bmN0aW9uIGdldFRva2VuQ3JlYXRpb25SYXRlKCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJlcXVpcmUoIXByZXNhbGVGaW5hbGl6ZWQgfHwgIXNhbGVGaW5hbGl6ZWQpOwoKICAgICAgICB1aW50MjU2IGNyZWF0aW9uUmF0ZTsKCiAgICAgICAgaWYgKCFwcmVzYWxlRmluYWxpemVkKSB7CiAgICAgICAgICAgIC8vVGhlIHJhdGUgb24gcHJlc2FsZXMgaXMgY29uc3RhbnQKICAgICAgICAgICAgY3JlYXRpb25SYXRlID0gcHJlc2FsZVRva2VuQ3JlYXRpb25SYXRlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vVGhlIHJhdGUgb24gc2FsZSBpcyBjaGFuZ2luZyBsaW5lcmFsIHdoaWxlIHRpbWUgaXMgcGFzc2luZy4gT24gc2FsZXMgc3RhcnQgaXQgaXMgMS42NiBhbmQgb24gZW5kIDEuMCAKICAgICAgICAgICAgdWludDI1NiByYXRlUmFuZ2UgPSBzYWxlU3RhcnRUb2tlbkNyZWF0aW9uUmF0ZSAtIHNhbGVFbmRUb2tlbkNyZWF0aW9uUmF0ZTsKICAgICAgICAgICAgdWludDI1NiB0aW1lUmFuZ2UgPSBzYWxlRW5kVGltZSAtIHNhbGVTdGFydFRpbWU7CiAgICAgICAgICAgIGNyZWF0aW9uUmF0ZSA9IHNhbGVTdGFydFRva2VuQ3JlYXRpb25SYXRlLnN1YihyYXRlUmFuZ2UubXVsKG5vdy5zdWIoc2FsZVN0YXJ0VGltZSkpLmRpdih0aW1lUmFuZ2UpKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBjcmVhdGlvblJhdGU7CiAgICB9CiAgICAKICAgIC8vIEJ1eSBwcmVzYWxlIHRva2VucwogICAgZnVuY3Rpb24gYnV5UHJlc2FsZVRva2VucyhhZGRyZXNzIF9iZW5lZmljaWFyeSkgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZSghcHJlc2FsZUZpbmFsaXplZCk7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgIT0gMCk7CiAgICAgICAgcmVxdWlyZShub3cgPD0gcHJlc2FsZUVuZFRpbWUpOwogICAgICAgIHJlcXVpcmUobm93ID49IHByZXNhbGVTdGFydFRpbWUpOwoKICAgICAgICB1aW50MjU2IGJiZFRva2VucyA9IG1zZy52YWx1ZS5tdWwoZ2V0VG9rZW5DcmVhdGlvblJhdGUoKSkuZGl2KGRpdmlzb3IpOwogICAgICAgIHVpbnQyNTYgY2hlY2tlZFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChiYmRUb2tlbnMpOwogICAgICAgIHJlcXVpcmUocHJlc2FsZVRva2VuQ3JlYXRpb25DYXAgPj0gY2hlY2tlZFN1cHBseSk7CgogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKGJiZFRva2Vucyk7CiAgICAgICAgYmFsYW5jZXNbX2JlbmVmaWNpYXJ5XSA9IGJhbGFuY2VzW19iZW5lZmljaWFyeV0uYWRkKGJiZFRva2Vucyk7CgogICAgICAgIHJhaXNlZCArPSBtc2cudmFsdWU7CiAgICAgICAgVG9rZW5QdXJjaGFzZShtc2cuc2VuZGVyLCBfYmVuZWZpY2lhcnksIG1zZy52YWx1ZSwgYmJkVG9rZW5zKTsKICAgIH0KCiAgICAvLyBGaW5hbGl6ZSBwcmVzYWxlCiAgICBmdW5jdGlvbiBmaW5hbGl6ZVByZXNhbGUoKSBvbmx5T3duZXIgZXh0ZXJuYWwgewogICAgICAgIHJlcXVpcmUoIXByZXNhbGVGaW5hbGl6ZWQpOwogICAgICAgIHJlcXVpcmUobm93ID49IHByZXNhbGVFbmRUaW1lIHx8IHRvdGFsU3VwcGx5ID09IHByZXNhbGVUb2tlbkNyZWF0aW9uQ2FwKTsKCiAgICAgICAgcHJlc2FsZUZpbmFsaXplZCA9IHRydWU7CgogICAgICAgIHVpbnQyNTYgZXRoRm9yQ29yZU1lbWJlciA9IHRoaXMuYmFsYW5jZS5tdWwoNTAwKS5kaXYoZGl2aXNvcik7CgogICAgICAgIGNvcmVUZWFtTWVtYmVyT25lLnRyYW5zZmVyKGV0aEZvckNvcmVNZW1iZXIpOyAvLyA1JQogICAgICAgIGNvcmVUZWFtTWVtYmVyVHdvLnRyYW5zZmVyKGV0aEZvckNvcmVNZW1iZXIpOyAvLyA1JQogICAgICAgIHF0QWNjb3VudC50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOyAvLyBRdWFudCBUZWNobm9sb2d5IDkwJQogICAgfQoKICAgIC8vIEJ1eSBzYWxlIHRva2VucwogICAgZnVuY3Rpb24gYnV5U2FsZVRva2VucyhhZGRyZXNzIF9iZW5lZmljaWFyeSkgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZSghc2FsZUZpbmFsaXplZCk7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgIT0gMCk7CiAgICAgICAgcmVxdWlyZShub3cgPD0gc2FsZUVuZFRpbWUpOwogICAgICAgIHJlcXVpcmUobm93ID49IHNhbGVTdGFydFRpbWUpOwoKICAgICAgICB1aW50MjU2IGJiZFRva2VucyA9IG1zZy52YWx1ZS5tdWwoZ2V0VG9rZW5DcmVhdGlvblJhdGUoKSkuZGl2KGRpdmlzb3IpOwogICAgICAgIHVpbnQyNTYgY2hlY2tlZFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChiYmRUb2tlbnMpOwogICAgICAgIHJlcXVpcmUodG90YWxUb2tlbkNyZWF0aW9uQ2FwID49IGNoZWNrZWRTdXBwbHkpOwoKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChiYmRUb2tlbnMpOwogICAgICAgIGJhbGFuY2VzW19iZW5lZmljaWFyeV0gPSBiYWxhbmNlc1tfYmVuZWZpY2lhcnldLmFkZChiYmRUb2tlbnMpOwoKICAgICAgICByYWlzZWQgKz0gbXNnLnZhbHVlOwogICAgICAgIFRva2VuUHVyY2hhc2UobXNnLnNlbmRlciwgX2JlbmVmaWNpYXJ5LCBtc2cudmFsdWUsIGJiZFRva2Vucyk7CiAgICB9CgogICAgLy8gRmluYWxpemUgc2FsZQogICAgZnVuY3Rpb24gZmluYWxpemVTYWxlKCkgb25seU93bmVyIGV4dGVybmFsIHsKICAgICAgICByZXF1aXJlKCFzYWxlRmluYWxpemVkKTsKICAgICAgICByZXF1aXJlKG5vdyA+PSBzYWxlRW5kVGltZSB8fCB0b3RhbFN1cHBseSA9PSB0b3RhbFRva2VuQ3JlYXRpb25DYXApOwoKICAgICAgICBzYWxlRmluYWxpemVkID0gdHJ1ZTsKCiAgICAgICAgLy9BZGQgYWRpdGlvbmFsIDI1JSB0b2tlbnMgdG8gdGhlIFF1YW50IFRlY2hub2xvZ3kgYW5kIGRldmVsb3BtZW50IHRlYW0KICAgICAgICB1aW50MjU2IGFkZGl0aW9uYWxCQkRUb2tlbnNGb3JRVEFjY291bnQgPSB0b3RhbFN1cHBseS5tdWwoMjI1MCkuZGl2KGRpdmlzb3IpOyAvLyAyMi41JQogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuYWRkKGFkZGl0aW9uYWxCQkRUb2tlbnNGb3JRVEFjY291bnQpOwogICAgICAgIGJhbGFuY2VzW3F0QWNjb3VudF0gPSBiYWxhbmNlc1txdEFjY291bnRdLmFkZChhZGRpdGlvbmFsQkJEVG9rZW5zRm9yUVRBY2NvdW50KTsKCiAgICAgICAgdWludDI1NiBhZGRpdGlvbmFsQkJEVG9rZW5zRm9yQ29yZVRlYW1NZW1iZXIgPSB0b3RhbFN1cHBseS5tdWwoMTI1KS5kaXYoZGl2aXNvcik7IC8vIDEuMjUlCiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoMiAqIGFkZGl0aW9uYWxCQkRUb2tlbnNGb3JDb3JlVGVhbU1lbWJlcik7CiAgICAgICAgYmFsYW5jZXNbY29yZVRlYW1NZW1iZXJPbmVdID0gYmFsYW5jZXNbY29yZVRlYW1NZW1iZXJPbmVdLmFkZChhZGRpdGlvbmFsQkJEVG9rZW5zRm9yQ29yZVRlYW1NZW1iZXIpOwogICAgICAgIGJhbGFuY2VzW2NvcmVUZWFtTWVtYmVyVHdvXSA9IGJhbGFuY2VzW2NvcmVUZWFtTWVtYmVyVHdvXS5hZGQoYWRkaXRpb25hbEJCRFRva2Vuc0ZvckNvcmVUZWFtTWVtYmVyKTsKCiAgICAgICAgdWludDI1NiBldGhGb3JDb3JlTWVtYmVyID0gdGhpcy5iYWxhbmNlLm11bCg1MDApLmRpdihkaXZpc29yKTsKCiAgICAgICAgY29yZVRlYW1NZW1iZXJPbmUudHJhbnNmZXIoZXRoRm9yQ29yZU1lbWJlcik7IC8vIDUlCiAgICAgICAgY29yZVRlYW1NZW1iZXJUd28udHJhbnNmZXIoZXRoRm9yQ29yZU1lbWJlcik7IC8vIDUlCiAgICAgICAgcXRBY2NvdW50LnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7IC8vIFF1YW50IFRlY2hub2xvZ3kgOTAlCiAgICB9CgogICAgLy8gQWxsb3cgbWlncmF0ZSBjb250cmFjdAogICAgZnVuY3Rpb24gbWlncmF0ZSh1aW50MjU2IF92YWx1ZSkgZXh0ZXJuYWwgewogICAgICAgIHJlcXVpcmUoc2FsZUZpbmFsaXplZCk7CiAgICAgICAgcmVxdWlyZShtaWdyYXRpb25BZ2VudCAhPSAweDApOwogICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwoKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkuc3ViKF92YWx1ZSk7CiAgICAgICAgdG90YWxNaWdyYXRlZCA9IHRvdGFsTWlncmF0ZWQuYWRkKF92YWx1ZSk7CiAgICAgICAgTWlncmF0aW9uQWdlbnQobWlncmF0aW9uQWdlbnQpLm1pZ3JhdGVGcm9tKG1zZy5zZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgTWlncmF0ZShtc2cuc2VuZGVyLCBtaWdyYXRpb25BZ2VudCwgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRNaWdyYXRpb25BZ2VudChhZGRyZXNzIF9hZ2VudCkgb25seU93bmVyIGV4dGVybmFsIHsKICAgICAgICByZXF1aXJlKHNhbGVGaW5hbGl6ZWQpOwogICAgICAgIHJlcXVpcmUobWlncmF0aW9uQWdlbnQgPT0gMHgwKTsKCiAgICAgICAgbWlncmF0aW9uQWdlbnQgPSBfYWdlbnQ7CiAgICB9CgogICAgLy8gSUNPIFN0YXR1cyBvdmVydmlldy4gVXNlZCBmb3IgQkJPRCBsYW5kaW5nIHBhZ2UKICAgIGZ1bmN0aW9uIGljb092ZXJ2aWV3KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBjdXJyZW50bHlSYWlzZWQsIHVpbnQyNTYgY3VycmVudGx5VG90YWxTdXBwbHksIHVpbnQyNTYgY3VycmVudGx5VG9rZW5DcmVhdGlvblJhdGUpewogICAgICAgIGN1cnJlbnRseVJhaXNlZCA9IHJhaXNlZDsKICAgICAgICBjdXJyZW50bHlUb3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5OwogICAgICAgIGN1cnJlbnRseVRva2VuQ3JlYXRpb25SYXRlID0gZ2V0VG9rZW5DcmVhdGlvblJhdGUoKTsKICAgIH0KfQ=='.
	

]
