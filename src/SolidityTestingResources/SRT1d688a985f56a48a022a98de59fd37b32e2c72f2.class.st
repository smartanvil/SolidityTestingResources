Class {
	#name : #SRT1d688a985f56a48a022a98de59fd37b32e2c72f2,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT1d688a985f56a48a022a98de59fd37b32e2c72f2 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgoKY29udHJhY3QgRVJDMjBUb2tlbiB7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwoJZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlT2Y7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2FuY2U7CgogICAgLyoqCiAgICAgKiBJbnRlcm5hbCB0cmFuc2Zlciwgb25seSBjYW4gYmUgY2FsbGVkIGJ5IHRoaXMgY29udHJhY3QKICAgICAqLwogICAgZnVuY3Rpb24gX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaW50ZXJuYWwgewogICAgICAgIHJlcXVpcmUoX3RvICE9IDB4MCAmJiBfdG8gIT0gYWRkcmVzcyh0aGlzKSk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbX2Zyb21dID49IF92YWx1ZSk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VPZltfdG9dKTsKICAgICAgICB1aW50IHByZXZpb3VzQmFsYW5jZXMgPSBiYWxhbmNlT2ZbX2Zyb21dICsgYmFsYW5jZU9mW190b107CiAgICAgICAgYmFsYW5jZU9mW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgYmFsYW5jZU9mW190b10gKz0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgYXNzZXJ0KGJhbGFuY2VPZltfZnJvbV0gKyBiYWxhbmNlT2ZbX3RvXSA9PSBwcmV2aW91c0JhbGFuY2VzKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRyYW5zZmVyIHRva2VucwogICAgICoKICAgICAqIFNlbmQgYF92YWx1ZWAgdG9rZW5zIHRvIGBfdG9gIGZyb20geW91ciBhY2NvdW50CiAgICAgKgogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBhbW91bnQgdG8gc2VuZAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNmZXIgdG9rZW5zIGZyb20gb3RoZXIgYWRkcmVzcwogICAgICoKICAgICAqIFNlbmQgYF92YWx1ZWAgdG9rZW5zIHRvIGBfdG9gIGluIGJlaGFsZiBvZiBgX2Zyb21gCiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IHRvIHNlbmQKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0pOwogICAgICAgIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIF90cmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IGFsbG93YW5jZSBmb3Igb3RoZXIgYWRkcmVzcwogICAgICoKICAgICAqIEFsbG93cyBgX3NwZW5kZXJgIHRvIHNwZW5kIG5vIG1vcmUgdGhhbiBgX3ZhbHVlYCB0b2tlbnMgaW4geW91ciBiZWhhbGYKICAgICAqCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3MgYXV0aG9yaXplZCB0byBzcGVuZAogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgbWF4IGFtb3VudCB0aGV5IGNhbiBzcGVuZAogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKCmNvbnRyYWN0IE93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0IHRoZSBPd25lZCBjb250cmFjdCBhbmQKICAgICAqIG1ha2UgdGhlIHNlbmRlciB0aGUgb3duZXIKICAgICAqLwogICAgZnVuY3Rpb24gT3duZWQoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICAvKioKICAgICAqIFJlc3RyaWN0IHRvIHRoZSBvd25lciBvbmx5CiAgICAgKi8KICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNmZXIgdGhlIG93bmVyc2hpcCB0byBhbm90aGVyIGFkZHJlc3MKICAgICAqCiAgICAgKiBAcGFyYW0gbmV3T3duZXIgdGhlIG5ldyBvd25lcidzIGFkZHJlc3MKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KfQoKCmNvbnRyYWN0IEJlZXJjb2luIGlzIEVSQzIwVG9rZW4sIE93bmVkIHsKICAgIGV2ZW50IFByb2R1Y2UodWludDI1NiB2YWx1ZSwgc3RyaW5nIGNhcHMpOwoJZXZlbnQgQnVybih1aW50MjU2IHZhbHVlKTsKCiAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAiQmVlcmNvaW4iOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiJiMxMjc4NjY7IjsKCXVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDE4OwoJdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHkgPSAxNTQ5NjAwMDAwMCAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpOwoKICAgIC8vIEluIGFkZGl0aW9uIHRvIHRoZSBpbml0aWFsIHRvdGFsIHN1cHBseSBvZiAxNTQ5NjAwMDAwMCBCZWVyY29pbnMsCiAgICAvLyBtb3JlIEJlZXJjb2lucyB3aWxsIG9ubHkgYmUgYWRkZWQgYnkgc2Nhbm5pbmcgYm90dGxlIGNhcHMuCiAgICAvLyAyMDgwMDAwMDAwMCBib3R0bGUgY2FwcyB3aWxsIGJlIGV2ZW50dWFsbHkgcHJvZHVjZWQuCiAgICAvLwogICAgLy8gV2l0aGluIDEwMDAwIGJvdHRsZSBjYXBzLAogICAgLy8gMSAoaS5lLiBldmVyeSAxMDAwMHRoIGNhcCBpbiB0b3RhbCkgaGFzIGEgdmFsdWUgb2YgMTAwMDAgKCJEaWFtb25kIikgQmVlcmNvaW5zLAogICAgLy8gOSAoaS5lLiBldmVyeSAxMDAwdGggY2FwIGluIHRvdGFsKSBoYXZlIGEgdmFsdWUgb2YgMTAwICgiR29sZCIpIEJlZXJjb2lucywKICAgIC8vIDk5MCAoaS5lLiBldmVyeSAxMHRoIGNhcCBpbiB0b3RhbCkgaGF2ZSBhIHZhbHVlIG9mIDEwICgiU2lsdmVyIikgQmVlcmNvaW5zLAogICAgLy8gOTAwMCAoaS5lLiBldmVyeSByZW1haW5pbmcgY2FwKSBoYXZlIGEgdmFsdWUgb2YgMSAoIkJyb256ZSIpIEJlZXJjb2luLgogICAgLy8KICAgIC8vIFRoZXJlZm9yZSBvbmUgYm90dGxlIGNhcCBoYXMgYW4gYXZlcmFnZSBCZWVyY29pbiB2YWx1ZSBvZgogICAgLy8gKDEgKiAxMDAwMCArIDkgKiAxMDAgKyA5OTAgKiAxMCArIDkwMDAgKiAxKSAvIDEwMDAwID0gMi45OC4KICAgIC8vCiAgICAvLyBUaGlzIG1lYW5zIHRoZSBCZWVyY29pbiB2YWx1ZSBvZiBhbGwgYm90dGxlIGNhcHMgdGhhdAogICAgLy8gd2lsbCBiZSBwcm9kdWNlZCBpbiB0b3RhbCBpcyAyMDgwMDAwMDAwMCAqIDIuOTggPSA2MTk4NDAwMDAwMC4KICAgIHVpbnQyNTYgcHVibGljIHVucHJvZHVjZWRDYXBzID0gMjA4MDAwMDAwMDA7CiAgICB1aW50MjU2IHB1YmxpYyBwcm9kdWNlZENhcHMgPSAwOwoKICAgIC8vIFN0b3JlcyB3aGV0aGVyIHVzZXJzIGRpc2FsbG93IHRoZSBvd25lciB0bwogICAgLy8gcHVsbCBCZWVyY29pbnMgZm9yIHRoZSB1c2Ugb2YgcmVkZW1wdGlvbi4KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIHJlZGVtcHRpb25Mb2NrZWQ7CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3QgdGhlIEJlZXJjb2luIGNvbnRyYWN0IGFuZAogICAgICogYXNzaWduIHRoZSBpbml0aWFsIHN1cHBseSB0byB0aGUgb3duZXIuCiAgICAgKi8KICAgIGZ1bmN0aW9uIEJlZXJjb2luKCkgcHVibGljIHsKCQliYWxhbmNlT2Zbb3duZXJdID0gdG90YWxTdXBwbHk7CiAgICB9CgogICAgLyoqCiAgICAgKiBMb2NrIG9yIHVubG9jayB0aGUgcmVkZW1wdGlvbiBmdW5jdGlvbmFsaXR5CiAgICAgKgogICAgICogSWYgYSB1c2VyIGRvZXNuJ3Qgd2FudCB0byByZWRlZW0gQmVlcmNvaW5zIG9uIHRoZSBvd25lcidzCiAgICAgKiB3ZWJzaXRlIGFuZCBkb2Vzbid0IHRydXN0IHRoZSBvd25lciwgdGhlIG93bmVyJ3MgY2FwYWJpbGl0eQogICAgICogb2YgcHVsbGluZyBCZWVyY29pbiBmcm9tIHRoZSB1c2VyJ3MgYWNjb3VudCBjYW4gYmUgbG9ja2VkCiAgICAgKgogICAgICogQHBhcmFtIGxvY2sgd2hldGhlciB0byBsb2NrIHRoZSByZWRlbXB0aW9uIGNhcGFiaWxpdHkgb3Igbm90CiAgICAgKi8KICAgIGZ1bmN0aW9uIGxvY2tSZWRlbXB0aW9uKGJvb2wgbG9jaykgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlZGVtcHRpb25Mb2NrZWRbbXNnLnNlbmRlcl0gPSBsb2NrOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogR2VuZXJhdGUgYSBzZXF1ZW5jZSBvZiBib3R0bGUgY2FwIHZhbHVlcyB0byBiZSB1c2VkCiAgICAgKiBmb3IgcHJvZHVjdGlvbiBhbmQgc2VuZCB0aGUgcmVzcGVjdGl2ZSB0b3RhbCBCZWVyY29pbgogICAgICogdmFsdWUgdG8gdGhlIGNvbnRyYWN0IGZvciBrZWVwaW5nIHVudGlsIGEgc2NhbiBpcyByZWNvZ25pemVkCiAgICAgKgogICAgICogV2UgaGVyZWJ5IGRlY2xhcmUgdGhhdCB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBpZiBhbmQgb25seSBpZgogICAgICogd2UgbmVlZCB0byBnZW5lcmF0ZSBjb2RlcyBpbnRlbmRlZCBmb3IgYmVlciBib3R0bGUgcHJvZHVjdGlvbgogICAgICoKICAgICAqIEBwYXJhbSBudW1iZXJPZkNhcHMgdGhlIG51bWJlciBvZiBib3R0bGUgY2FwcyB0byBiZSBwcm9kdWNlZAogICAgICovCglmdW5jdGlvbiBwcm9kdWNlKHVpbnQyNTYgbnVtYmVyT2ZDYXBzKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUobnVtYmVyT2ZDYXBzIDw9IHVucHJvZHVjZWRDYXBzKTsKCiAgICAgICAgdWludDI1NiB2YWx1ZSA9IDA7CiAgICAgICAgYnl0ZXMgbWVtb3J5IGNhcHMgPSBieXRlcyhuZXcgc3RyaW5nKG51bWJlck9mQ2FwcykpOwogICAgICAgIAogICAgICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IG51bWJlck9mQ2FwczsgKytpKSB7CiAgICAgICAgICAgIHVpbnQyNTYgY3VycmVudENvaW4gPSBwcm9kdWNlZENhcHMgKyBpOwoKICAgICAgICAgICAgaWYgKGN1cnJlbnRDb2luICUgMTAwMDAgPT0gMCkgewogICAgICAgICAgICAgICAgdmFsdWUgKz0gMTAwMDA7CiAgICAgICAgICAgICAgICBjYXBzW2ldID0gIkQiOwogICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRDb2luICUgMTAwMCA9PSAwKSB7CiAgICAgICAgICAgICAgICB2YWx1ZSArPSAxMDA7CiAgICAgICAgICAgICAgICBjYXBzW2ldID0gIkciOwogICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRDb2luICUgMTAgPT0gMCkgewogICAgICAgICAgICAgICAgdmFsdWUgKz0gMTA7CiAgICAgICAgICAgICAgICBjYXBzW2ldID0gIlMiOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdmFsdWUgKz0gMTsKICAgICAgICAgICAgICAgIGNhcHNbaV0gPSAiQiI7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHVucHJvZHVjZWRDYXBzIC09IG51bWJlck9mQ2FwczsKICAgICAgICBwcm9kdWNlZENhcHMgKz0gbnVtYmVyT2ZDYXBzOwoKICAgICAgICB2YWx1ZSA9IHZhbHVlICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CiAgICAgICAgdG90YWxTdXBwbHkgKz0gdmFsdWU7CiAgICAgICAgYmFsYW5jZU9mW3RoaXNdICs9IHZhbHVlOwogICAgICAgIFByb2R1Y2UodmFsdWUsIHN0cmluZyhjYXBzKSk7CgogICAgICAgIHJldHVybiB0cnVlOwoJfQoKCS8qKgogICAgICogR3JhbnQgQmVlcmNvaW5zIHRvIGEgdXNlciB3aG8gc2Nhbm5lZCBhIGJvdHRsZSBjYXAgY29kZQogICAgICoKICAgICAqIFdlIGhlcmVieSBkZWNsYXJlIHRoYXQgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgaWYgYW5kIG9ubHkgaWYKCSAqIG91ciBzZXJ2ZXIgcmVnaXN0ZXJzIGEgdmFsaWQgY29kZSBzY2FuIGJ5IHRoZSBnaXZlbiB1c2VyCiAgICAgKgogICAgICogQHBhcmFtIHVzZXIgdGhlIGFkZHJlc3Mgb2YgdGhlIHVzZXIgd2hvIHNjYW5uZWQgYSBjb2RlcwogICAgICogQHBhcmFtIGNhcCBhIGJvdHRsZSBjYXAgdmFsdWUgKCJEIiwgIkciLCAiUyIsIG9yICJCIikKICAgICAqLwoJZnVuY3Rpb24gc2NhbihhZGRyZXNzIHVzZXIsIGJ5dGUgY2FwKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGlmIChjYXAgPT0gIkQiKSB7CiAgICAgICAgICAgIF90cmFuc2Zlcih0aGlzLCB1c2VyLCAxMDAwMCAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKTsKICAgICAgICB9IGVsc2UgaWYgKGNhcCA9PSAiRyIpIHsKICAgICAgICAgICAgX3RyYW5zZmVyKHRoaXMsIHVzZXIsIDEwMCAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKTsKICAgICAgICB9IGVsc2UgaWYgKGNhcCA9PSAiUyIpIHsKICAgICAgICAgICAgX3RyYW5zZmVyKHRoaXMsIHVzZXIsIDEwICogMTAgKiogdWludDI1NihkZWNpbWFscykpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90cmFuc2Zlcih0aGlzLCB1c2VyLCAxICogMTAgKiogdWludDI1NihkZWNpbWFscykpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXR1cm4gdHJ1ZTsKCX0KCiAgICAvKioKICAgICAqIEdyYW50IEJlZXJjb2lucyB0byB1c2VycyB3aG8gc2Nhbm5lZCBib3R0bGUgY2FwIGNvZGVzCiAgICAgKgogICAgICogV2UgaGVyZWJ5IGRlY2xhcmUgdGhhdCB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBpZiBhbmQgb25seSBpZgoJICogb3VyIHNlcnZlciByZWdpc3RlcnMgdmFsaWQgY29kZSBzY2FucyBieSB0aGUgZ2l2ZW4gdXNlcnMKICAgICAqCiAgICAgKiBAcGFyYW0gdXNlcnMgdGhlIGFkZHJlc3NlcyBvZiB0aGUgdXNlcnMgd2hvIHNjYW5uZWQgYSBjb2RlcwogICAgICogQHBhcmFtIGNhcHMgYm90dGxlIGNhcCB2YWx1ZXMgKCJEIiwgIkciLCAiUyIsIG9yICJCIikKICAgICAqLwoJZnVuY3Rpb24gc2Nhbk1hbnkoYWRkcmVzc1tdIHVzZXJzLCBieXRlW10gY2FwcykgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKHVzZXJzLmxlbmd0aCA9PSBjYXBzLmxlbmd0aCk7CgogICAgICAgIGZvciAodWludDE2IGkgPSAwOyBpIDwgdXNlcnMubGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgc2Nhbih1c2Vyc1tpXSwgY2Fwc1tpXSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKCX0KCgkvKioKICAgICAqIFJlZGVlbSB0b2tlbnMgd2hlbiB0aGUgd2lsbCB0byBkbyBzbyBoYXMgYmVlbgoJICogc3RhdGVkIHdpdGhpbiB0aGUgdXNlciBpbnRlcmZhY2Ugb2YgYSBCZWVyY29pbgoJICogcmVkZW1wdGlvbiBzeXN0ZW0KCSAqCgkgKiBUaGUgb3duZXIgY2FsbHMgdGhpcyBvbiBiZWhhbGYgb2YgdGhlIHJlZGVlbWluZyB1c2VyCgkgKiBzbyB0aGUgbGF0dGVyIGRvZXMgbm90IG5lZWQgdG8gcGF5IHRyYW5zYWN0aW9uIGZlZXMKCSAqIHdoZW4gcmVkZWVtaW5nCgkgKgoJICogV2UgaGVyZWJ5IGRlY2xhcmUgdGhhdCB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBpZiBhbmQgb25seSBpZgogICAgICogYSB1c2VyIGRlbGliZXJhdGVseSB3YW50cyB0byByZWRlZW0gQmVlcmNvaW5zCiAgICAgKgogICAgICogQHBhcmFtIHVzZXIgdGhlIGFkZHJlc3Mgb2YgdGhlIHVzZXIgd2hvIHdhbnRzIHRvIHJlZGVlbQogICAgICogQHBhcmFtIHZhbHVlIHRoZSBhbW91bnQgdG8gcmVkZWVtCiAgICAgKi8KICAgIGZ1bmN0aW9uIHJlZGVlbShhZGRyZXNzIHVzZXIsIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShyZWRlbXB0aW9uTG9ja2VkW3VzZXJdID09IGZhbHNlKTsKICAgICAgICBfdHJhbnNmZXIodXNlciwgb3duZXIsIHZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFJlZGVlbSB0b2tlbnMgd2hlbiB0aGUgd2lsbCB0byBkbyBzbyBoYXMgYmVlbgoJICogc3RhdGVkIHdpdGhpbiB0aGUgdXNlciBpbnRlcmZhY2Ugb2YgYSBCZWVyY29pbgoJICogcmVkZW1wdGlvbiBzeXN0ZW0KCSAqCgkgKiBUaGUgb3duZXIgY2FsbHMgdGhpcyBvbiBiZWhhbGYgb2YgdGhlIHJlZGVlbWluZyB1c2VycwoJICogc28gdGhlIGxhdHRlciBkbyBub3QgbmVlZCB0byBwYXkgdHJhbnNhY3Rpb24gZmVlcwoJICogd2hlbiByZWRlZW1pbmcKCSAqCgkgKiBXZSBoZXJlYnkgZGVjbGFyZSB0aGF0IHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGlmIGFuZCBvbmx5IGlmCiAgICAgKiB1c2VycyBkZWxpYmVyYXRlbHkgd2FudCB0byByZWRlZW0gQmVlcmNvaW5zCiAgICAgKgogICAgICogQHBhcmFtIHVzZXJzIHRoZSBhZGRyZXNzZXMgb2YgdGhlIHVzZXJzIHdobyB3YW50IHRvIHJlZGVlbQogICAgICogQHBhcmFtIHZhbHVlcyB0aGUgYW1vdW50cyB0byByZWRlZW0KICAgICAqLwogICAgZnVuY3Rpb24gcmVkZWVtTWFueShhZGRyZXNzW10gdXNlcnMsIHVpbnQyNTZbXSB2YWx1ZXMpIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZSh1c2Vycy5sZW5ndGggPT0gdmFsdWVzLmxlbmd0aCk7CgogICAgICAgIGZvciAodWludDE2IGkgPSAwOyBpIDwgdXNlcnMubGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgcmVkZWVtKHVzZXJzW2ldLCB2YWx1ZXNbaV0pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBUcmFuc2ZlciBCZWVyY29pbnMgdG8gbXVsdGlwbGUgcmVjaXBpZW50cwogICAgICoKICAgICAqIEBwYXJhbSByZWNpcGllbnRzIHRoZSBhZGRyZXNzZXMgb2YgdGhlIHJlY2lwaWVudHMKICAgICAqIEBwYXJhbSB2YWx1ZXMgdGhlIGFtb3VudHMgdG8gc2VuZAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2Zlck1hbnkoYWRkcmVzc1tdIHJlY2lwaWVudHMsIHVpbnQyNTZbXSB2YWx1ZXMpIHB1YmxpYyBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShyZWNpcGllbnRzLmxlbmd0aCA9PSB2YWx1ZXMubGVuZ3RoKTsKCiAgICAgICAgZm9yICh1aW50MTYgaSA9IDA7IGkgPCByZWNpcGllbnRzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgIHRyYW5zZmVyKHJlY2lwaWVudHNbaV0sIHZhbHVlc1tpXSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIERlc3Ryb3kgQmVlcmNvaW5zIGJ5IHJlbW92aW5nIHRoZW0gZnJvbSB0aGUgc3lzdGVtIGlycmV2ZXJzaWJseQogICAgICoKICAgICAqIEBwYXJhbSB2YWx1ZSB0aGUgYW1vdW50IG9mIEJlZXJjb2lucyB0byBidXJuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJ1cm4odWludDI1NiB2YWx1ZSkgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA+PSB2YWx1ZSk7CiAgICAgICAgYmFsYW5jZU9mW21zZy5zZW5kZXJdIC09IHZhbHVlOwogICAgICAgIHRvdGFsU3VwcGx5IC09IHZhbHVlOwoJCUJ1cm4odmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9'.
	

]
