Class {
	#name : #SRTb898db748e294bd4a08dc17f82fea24a6ca31505,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTb898db748e294bd4a08dc17f82fea24a6ca31505 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7Cgpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlciBhY2NvdW50LgogICAqLwogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9Cgp9Cgpjb250cmFjdCBDb250cm9sbGFibGUgewogIGFkZHJlc3MgcHVibGljIGNvbnRyb2xsZXI7CgoKICAvKioKICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgdGhlIG9yaWdpbmFsIGBvd25lcmAgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIgYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBDb250cm9sbGFibGUoKSBwdWJsaWMgewogICAgY29udHJvbGxlciA9IG1zZy5zZW5kZXI7CiAgfQoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seUNvbnRyb2xsZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gY29udHJvbGxlcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3Q29udHJvbGxlciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJDb250cm9sKGFkZHJlc3MgbmV3Q29udHJvbGxlcikgcHVibGljIG9ubHlDb250cm9sbGVyIHsKICAgIGlmIChuZXdDb250cm9sbGVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgY29udHJvbGxlciA9IG5ld0NvbnRyb2xsZXI7CiAgICB9CiAgfQoKfQoKY29udHJhY3QgUHJvb2ZUb2tlbkludGVyZmFjZSBpcyBDb250cm9sbGFibGUgewoKICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwogIGV2ZW50IE1pbnRGaW5pc2hlZCgpOwogIGV2ZW50IENsYWltZWRUb2tlbnMoYWRkcmVzcyBpbmRleGVkIF90b2tlbiwgYWRkcmVzcyBpbmRleGVkIF9vd25lciwgdWludCBfYW1vdW50KTsKICBldmVudCBOZXdDbG9uZVRva2VuKGFkZHJlc3MgaW5kZXhlZCBfY2xvbmVUb2tlbiwgdWludCBfc25hcHNob3RCbG9jayk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF9hbW91bnQpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwoKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KTsKICBmdW5jdGlvbiB0b3RhbFN1cHBseUF0KHVpbnQgX2Jsb2NrTnVtYmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50KTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwogIGZ1bmN0aW9uIGJhbGFuY2VPZkF0KGFkZHJlc3MgX293bmVyLCB1aW50IF9ibG9ja051bWJlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50LCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CiAgZnVuY3Rpb24gbWludChhZGRyZXNzIF9vd25lciwgdWludCBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gaW1wb3J0UHJlc2FsZUJhbGFuY2VzKGFkZHJlc3NbXSBfYWRkcmVzc2VzLCB1aW50MjU2W10gX2JhbGFuY2VzLCBhZGRyZXNzIF9wcmVzYWxlQWRkcmVzcykgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGxvY2tQcmVzYWxlQmFsYW5jZXMoKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBlbmFibGVUcmFuc2ZlcnMoYm9vbCBfdmFsdWUpIHB1YmxpYzsKICBmdW5jdGlvbiBlbmFibGVNYXN0ZXJUcmFuc2ZlcnMoYm9vbCBfdmFsdWUpIHB1YmxpYzsKICBmdW5jdGlvbiBjcmVhdGVDbG9uZVRva2VuKHVpbnQgX3NuYXBzaG90QmxvY2ssIHN0cmluZyBfY2xvbmVUb2tlbk5hbWUsIHN0cmluZyBfY2xvbmVUb2tlblN5bWJvbCkgcHVibGljIHJldHVybnMgKGFkZHJlc3MpOwoKfQoKbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgewogIGV2ZW50IFBhdXNlKCk7CiAgZXZlbnQgVW5wYXVzZSgpOwoKICBib29sIHB1YmxpYyBwYXVzZWQgPSBmYWxzZTsKCiAgZnVuY3Rpb24gUGF1c2FibGUoKSBwdWJsaWMge30KCiAgLyoqCiAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgcGF1c2VkCiAgICovCiAgbW9kaWZpZXIgd2hlbk5vdFBhdXNlZCgpIHsKICAgIHJlcXVpcmUoIXBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgTk9UIHBhdXNlZAogICAqLwogIG1vZGlmaWVyIHdoZW5QYXVzZWQgewogICAgcmVxdWlyZShwYXVzZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byBwYXVzZSwgdHJpZ2dlcnMgc3RvcHBlZCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHBhdXNlKCkgcHVibGljIG9ubHlPd25lciB3aGVuTm90UGF1c2VkIHJldHVybnMgKGJvb2wpIHsKICAgIHBhdXNlZCA9IHRydWU7CiAgICBQYXVzZSgpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gdW5wYXVzZSwgcmV0dXJucyB0byBub3JtYWwgc3RhdGUKICAgKi8KICBmdW5jdGlvbiB1bnBhdXNlKCkgcHVibGljIG9ubHlPd25lciB3aGVuUGF1c2VkIHJldHVybnMgKGJvb2wpIHsKICAgIHBhdXNlZCA9IGZhbHNlOwogICAgVW5wYXVzZSgpOwogICAgcmV0dXJuIHRydWU7CiAgfQp9Cgpjb250cmFjdCBUb2tlblNhbGUgaXMgUGF1c2FibGUgewoKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgUHJvb2ZUb2tlbkludGVyZmFjZSBwdWJsaWMgcHJvb2ZUb2tlbjsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFdlaVJhaXNlZDsKICB1aW50MjU2IHB1YmxpYyB0b2tlbnNNaW50ZWQ7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgdWludDI1NiBwdWJsaWMgY29udHJpYnV0b3JzOwogIHVpbnQyNTYgcHVibGljIGRlY2ltYWxzTXVsdGlwbGllcjsKICB1aW50MjU2IHB1YmxpYyBzdGFydFRpbWU7CiAgdWludDI1NiBwdWJsaWMgZW5kVGltZTsKICB1aW50MjU2IHB1YmxpYyByZW1haW5pbmdUb2tlbnM7CiAgdWludDI1NiBwdWJsaWMgYWxsb2NhdGVkVG9rZW5zOwoKICBib29sIHB1YmxpYyBmaW5hbGl6ZWQ7CiAgYm9vbCBwdWJsaWMgcHJvb2ZUb2tlbnNBbGxvY2F0ZWQ7CgogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IEJBU0VfUFJJQ0VfSU5fV0VJID0gODgwMDAwMDAwMDAwMDAwMDA7CgogIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFBVQkxJQ19UT0tFTlMgPSAxMTgxMDMxICogKDEwICoqIDE4KTsKICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBUT1RBTF9QUkVTQUxFX1RPS0VOUyA9IDExMjM4NjcxMjkyNDcyNTUwODgwMjQwMDsKICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBUT0tFTlNfQUxMT0NBVEVEX1RPX1BST09GID0gMTE4MTAzMSAqICgxMCAqKiAxOCk7CgogIGFkZHJlc3MgcHVibGljIGNvbnN0YW50IFBST09GX01VTFRJU0lHID0gMHg5OTg5MkFjNkRBMWIzODUxMTY3Q2I5NTlmRTk0NTkyNmJjYTg5ZjA5OwoKICB1aW50MjU2IHB1YmxpYyB0b2tlbkNhcCA9IFBVQkxJQ19UT0tFTlMgLSBUT1RBTF9QUkVTQUxFX1RPS0VOUzsKICB1aW50MjU2IHB1YmxpYyBjYXAgPSB0b2tlbkNhcCAvICgxMCAqKiAxOCk7CiAgdWludDI1NiBwdWJsaWMgd2VpQ2FwID0gY2FwICogQkFTRV9QUklDRV9JTl9XRUk7CgogIHVpbnQyNTYgcHVibGljIGZpcnN0Q2hlY2twb2ludFByaWNlID0gKEJBU0VfUFJJQ0VfSU5fV0VJICogODUpIC8gMTAwOwogIHVpbnQyNTYgcHVibGljIHNlY29uZENoZWNrcG9pbnRQcmljZSA9IChCQVNFX1BSSUNFX0lOX1dFSSAqIDkwKSAvIDEwMDsKICB1aW50MjU2IHB1YmxpYyB0aGlyZENoZWNrcG9pbnRQcmljZSA9IChCQVNFX1BSSUNFX0lOX1dFSSAqIDk1KSAvIDEwMDsKCiAgdWludDI1NiBwdWJsaWMgZmlyc3RDaGVja3BvaW50ID0gKHdlaUNhcCAqIDUpIC8gMTAwOwogIHVpbnQyNTYgcHVibGljIHNlY29uZENoZWNrcG9pbnQgPSAod2VpQ2FwICogMTApIC8gMTAwOwogIHVpbnQyNTYgcHVibGljIHRoaXJkQ2hlY2twb2ludCA9ICh3ZWlDYXAgKiAyMCkgLyAxMDA7CgogIGV2ZW50IFRva2VuUHVyY2hhc2UoYWRkcmVzcyBpbmRleGVkIHB1cmNoYXNlciwgYWRkcmVzcyBpbmRleGVkIGJlbmVmaWNpYXJ5LCB1aW50MjU2IHZhbHVlLCB1aW50MjU2IGFtb3VudCk7CiAgZXZlbnQgTmV3Q2xvbmVkVG9rZW4oYWRkcmVzcyBpbmRleGVkIF9jbG9uZVRva2VuKTsKICBldmVudCBPblRyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF9hbW91bnQpOwogIGV2ZW50IE9uQXBwcm92ZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYW1vdW50KTsKICBldmVudCBMb2dJbnQoc3RyaW5nIF9uYW1lLCB1aW50MjU2IF92YWx1ZSk7CiAgZXZlbnQgRmluYWxpemVkKCk7CgogIGZ1bmN0aW9uIFRva2VuU2FsZSgKICAgIGFkZHJlc3MgX3Rva2VuQWRkcmVzcywKICAgIHVpbnQyNTYgX3N0YXJ0VGltZSwKICAgIHVpbnQyNTYgX2VuZFRpbWUpIHB1YmxpYyB7CiAgICByZXF1aXJlKF90b2tlbkFkZHJlc3MgIT0gMHgwKTsKICAgIHJlcXVpcmUoX3N0YXJ0VGltZSA+IDApOwogICAgcmVxdWlyZShfZW5kVGltZSA+IF9zdGFydFRpbWUpOwoKICAgIHN0YXJ0VGltZSA9IF9zdGFydFRpbWU7CiAgICBlbmRUaW1lID0gX2VuZFRpbWU7CiAgICBwcm9vZlRva2VuID0gUHJvb2ZUb2tlbkludGVyZmFjZShfdG9rZW5BZGRyZXNzKTsKCiAgICBkZWNpbWFsc011bHRpcGxpZXIgPSAoMTAgKiogMTgpOwogIH0KCgogIC8qKgogICAqIEhpZ2ggbGV2ZWwgdG9rZW4gcHVyY2hhc2UgZnVuY3Rpb24KICAgKi8KICBmdW5jdGlvbigpIHB1YmxpYyBwYXlhYmxlIHsKICAgIGJ1eVRva2Vucyhtc2cuc2VuZGVyKTsKICB9CgogIC8qKgogICAqIExvdyBsZXZlbCB0b2tlbiBwdXJjaGFzZSBmdW5jdGlvbgogICAqIEBwYXJhbSBfYmVuZWZpY2lhcnkgd2lsbCByZWNlaXZlIHRoZSB0b2tlbnMuCiAgICovCiAgZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgX2JlbmVmaWNpYXJ5KSBwdWJsaWMgcGF5YWJsZSB3aGVuTm90UGF1c2VkIHdoZW5Ob3RGaW5hbGl6ZWQgewogICAgcmVxdWlyZShfYmVuZWZpY2lhcnkgIT0gMHgwKTsKICAgIHJlcXVpcmUodmFsaWRQdXJjaGFzZSgpKTsKCiAgICB1aW50MjU2IHdlaUFtb3VudCA9IG1zZy52YWx1ZTsKICAgIHVpbnQyNTYgcHJpY2VJbldlaSA9IGdldFByaWNlSW5XZWkoKTsKICAgIHRvdGFsV2VpUmFpc2VkID0gdG90YWxXZWlSYWlzZWQuYWRkKHdlaUFtb3VudCk7CgogICAgdWludDI1NiB0b2tlbnMgPSB3ZWlBbW91bnQubXVsKGRlY2ltYWxzTXVsdGlwbGllcikuZGl2KHByaWNlSW5XZWkpOwogICAgdG9rZW5zTWludGVkID0gdG9rZW5zTWludGVkLmFkZCh0b2tlbnMpOwogICAgcmVxdWlyZSh0b2tlbnNNaW50ZWQgPCB0b2tlbkNhcCk7CgogICAgY29udHJpYnV0b3JzID0gY29udHJpYnV0b3JzLmFkZCgxKTsKCiAgICBwcm9vZlRva2VuLm1pbnQoX2JlbmVmaWNpYXJ5LCB0b2tlbnMpOwogICAgVG9rZW5QdXJjaGFzZShtc2cuc2VuZGVyLCBfYmVuZWZpY2lhcnksIHdlaUFtb3VudCwgdG9rZW5zKTsKICAgIGZvcndhcmRGdW5kcygpOwogIH0KCgogIC8qKgogICAqIEdldCB0aGUgcHJpY2UgaW4gd2VpIGZvciBjdXJyZW50IHByZW1pdW0KICAgKiBAcmV0dXJuIHByaWNlCiAgICovCiAgZnVuY3Rpb24gZ2V0UHJpY2VJbldlaSgpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2KSB7CgogICAgdWludDI1NiBwcmljZTsKCiAgICBpZiAodG90YWxXZWlSYWlzZWQgPCBmaXJzdENoZWNrcG9pbnQpIHsKICAgICAgcHJpY2UgPSBmaXJzdENoZWNrcG9pbnRQcmljZTsKICAgIH0gZWxzZSBpZiAodG90YWxXZWlSYWlzZWQgPCBzZWNvbmRDaGVja3BvaW50KSB7CiAgICAgIHByaWNlID0gc2Vjb25kQ2hlY2twb2ludFByaWNlOwogICAgfSBlbHNlIGlmICh0b3RhbFdlaVJhaXNlZCA8IHRoaXJkQ2hlY2twb2ludCkgewogICAgICBwcmljZSA9IHRoaXJkQ2hlY2twb2ludFByaWNlOwogICAgfSBlbHNlIHsKICAgICAgcHJpY2UgPSBCQVNFX1BSSUNFX0lOX1dFSTsKICAgIH0KCiAgICByZXR1cm4gcHJpY2U7CiAgfQoKICAvKioKICAqIEZvcndhcmRzIGZ1bmRzIHRvIHRoZSB0b2tlbnNhbGUgd2FsbGV0CiAgKi8KICBmdW5jdGlvbiBmb3J3YXJkRnVuZHMoKSBpbnRlcm5hbCB7CiAgICBQUk9PRl9NVUxUSVNJRy50cmFuc2Zlcihtc2cudmFsdWUpOwogIH0KCgogIC8qKgogICogVmFsaWRhdGVzIHRoZSBwdXJjaGFzZSAocGVyaW9kLCBtaW5pbXVtIGFtb3VudCwgd2l0aGluIGNhcCkKICAqIEByZXR1cm4ge2Jvb2x9IHZhbGlkCiAgKi8KICBmdW5jdGlvbiB2YWxpZFB1cmNoYXNlKCkgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgdWludDI1NiBjdXJyZW50ID0gbm93OwogICAgYm9vbCB3aXRoaW5QZXJpb2QgPSBjdXJyZW50ID49IHN0YXJ0VGltZSAmJiBjdXJyZW50IDw9IGVuZFRpbWU7CiAgICBib29sIG5vblplcm9QdXJjaGFzZSA9IG1zZy52YWx1ZSAhPSAwOwoKICAgIHJldHVybiBub25aZXJvUHVyY2hhc2UgJiYgd2l0aGluUGVyaW9kOwogIH0KCiAgLyoqCiAgKiBSZXR1cm5zIHRoZSB0b3RhbCBQcm9vZiB0b2tlbiBzdXBwbHkKICAqIEByZXR1cm4gdG90YWwgc3VwcGx5IHt1aW50MjU2fQogICovCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIHByb29mVG9rZW4udG90YWxTdXBwbHkoKTsKICB9CgogIC8qKgogICogUmV0dXJucyB0b2tlbiBob2xkZXIgUHJvb2YgVG9rZW4gYmFsYW5jZQogICogQHBhcmFtIF9vd25lciB7YWRkcmVzc30KICAqIEByZXR1cm4gdG9rZW4gYmFsYW5jZSB7dWludDI1Nn0KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBwcm9vZlRva2VuLmJhbGFuY2VPZihfb3duZXIpOwogIH0KCiAgLyoqCiAgKiBDaGFuZ2UgdGhlIFByb29mIFRva2VuIGNvbnRyb2xsZXIKICAqIEBwYXJhbSBfbmV3Q29udHJvbGxlciB7YWRkcmVzc30KICAqLwogIGZ1bmN0aW9uIGNoYW5nZUNvbnRyb2xsZXIoYWRkcmVzcyBfbmV3Q29udHJvbGxlcikgcHVibGljIHsKICAgIHJlcXVpcmUoaXNDb250cmFjdChfbmV3Q29udHJvbGxlcikpOwogICAgcHJvb2ZUb2tlbi50cmFuc2ZlckNvbnRyb2woX25ld0NvbnRyb2xsZXIpOwogIH0KCgogIGZ1bmN0aW9uIGVuYWJsZVRyYW5zZmVycygpIHB1YmxpYyB7CiAgICBpZiAobm93IDwgZW5kVGltZSkgewogICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgfQoKICAgIHByb29mVG9rZW4uZW5hYmxlVHJhbnNmZXJzKHRydWUpOwogIH0KCiAgZnVuY3Rpb24gbG9ja1RyYW5zZmVycygpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShub3cgPCBlbmRUaW1lKTsKICAgIHByb29mVG9rZW4uZW5hYmxlVHJhbnNmZXJzKGZhbHNlKTsKICB9CgogIGZ1bmN0aW9uIGVuYWJsZU1hc3RlclRyYW5zZmVycygpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcHJvb2ZUb2tlbi5lbmFibGVNYXN0ZXJUcmFuc2ZlcnModHJ1ZSk7CiAgfQoKICBmdW5jdGlvbiBsb2NrTWFzdGVyVHJhbnNmZXJzKCkgcHVibGljIG9ubHlPd25lciB7CiAgICBwcm9vZlRva2VuLmVuYWJsZU1hc3RlclRyYW5zZmVycyhmYWxzZSk7CiAgfQoKICBmdW5jdGlvbiBpc0NvbnRyYWN0KGFkZHJlc3MgX2FkZHIpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMoYm9vbCkgewogICAgICB1aW50IHNpemU7CiAgICAgIGlmIChfYWRkciA9PSAwKQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgYXNzZW1ibHkgewogICAgICAgICAgc2l6ZSA6PSBleHRjb2Rlc2l6ZShfYWRkcikKICAgICAgfQogICAgICByZXR1cm4gc2l6ZT4wOwogIH0KCiAgLyoqCiAgKiBBbGxvY2F0ZXMgUHJvb2YgdG9rZW5zIHRvIHRoZSBnaXZlbiBQcm9vZiBUb2tlbiB3YWxsZXQKICAqLwogIGZ1bmN0aW9uIGFsbG9jYXRlUHJvb2ZUb2tlbnMoKSBwdWJsaWMgb25seU93bmVyIHdoZW5Ob3RGaW5hbGl6ZWQgewogICAgcHJvb2ZUb2tlbi5taW50KFBST09GX01VTFRJU0lHLCBUT0tFTlNfQUxMT0NBVEVEX1RPX1BST09GKTsKICAgIHByb29mVG9rZW5zQWxsb2NhdGVkID0gdHJ1ZTsKICB9CgogIC8qKgogICogRmluYWxpemUgdGhlIHRva2VuIHNhbGUgKGNhbiBvbmx5IGJlIGNhbGxlZCBieSBvd25lcikKICAqLwogIGZ1bmN0aW9uIGZpbmFsaXplKCkgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKHBhdXNlZCk7CiAgICByZXF1aXJlKHByb29mVG9rZW5zQWxsb2NhdGVkKTsKCiAgICBwcm9vZlRva2VuLmZpbmlzaE1pbnRpbmcoKTsKICAgIHByb29mVG9rZW4uZW5hYmxlVHJhbnNmZXJzKHRydWUpOwogICAgRmluYWxpemVkKCk7CgogICAgZmluYWxpemVkID0gdHJ1ZTsKICB9CgogIG1vZGlmaWVyIHdoZW5Ob3RGaW5hbGl6ZWQoKSB7CiAgICByZXF1aXJlKCFwYXVzZWQpOwogICAgXzsKICB9Cgp9'.
	

]
