Class {
	#name : #SRT5d26239257e6433889f00bb46294c552b4d75ec9,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5d26239257e6433889f00bb46294c552b4d75ec9 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKY29udHJhY3QgQ3Jvd2RzYWxlUGFyYW1ldGVycyB7CiAgICAvLyBWZXN0aW5nIHRpbWUgc3RhbXBzOgogICAgLy8gMTUzNDY3MjgwMCA9IEF1Z3VzdCAxOSwgMjAxOC4gMTgwIGRheXMgZnJvbSBGZWJydWFyeSAyMCwgMjAxOC4gMTA6MDA6MDAgR01UCiAgICAvLyAxNTI2ODk2ODAwID0gTWF5IDIxLCAyMDE4LiA5MCBkYXlzIGZyb20gRmVicnVhcnkgMjAsIDIwMTguIDEwOjAwOjAwIEdNVAogICAgdWludDMyIGludGVybmFsIHZlc3RpbmdUaW1lOTBEYXlzID0gMTUyNjg5NjgwMDsKICAgIHVpbnQzMiBpbnRlcm5hbCB2ZXN0aW5nVGltZTE4MERheXMgPSAxNTM0NjcyODAwOwoKICAgIHVpbnQyNTYgaW50ZXJuYWwgY29uc3RhbnQgcHJlc2FsZVN0YXJ0RGF0ZSA9IDE1MTMwNzI4MDA7IC8vIERlYy0xMi0yMDE3IDEwOjAwOjAwIEdNVAogICAgdWludDI1NiBpbnRlcm5hbCBjb25zdGFudCBwcmVzYWxlRW5kRGF0ZSA9IDE1MTU3NTEyMDA7IC8vIEphbi0xMi0yMDE4IDEwOjAwOjAwIEdNVAogICAgdWludDI1NiBpbnRlcm5hbCBjb25zdGFudCBnZW5lcmFsU2FsZVN0YXJ0RGF0ZSA9IDE1MTY0NDI0MDA7IC8vIEphbi0yMC0yMDE4IDAwOjAwOjAwIEdNVAogICAgdWludDI1NiBpbnRlcm5hbCBjb25zdGFudCBnZW5lcmFsU2FsZUVuZERhdGUgPSAxNTE5MTIwODAwOyAvLyBGZWItMjAtMjAxOCAwMDowMDowMCBHTVQKCiAgICBzdHJ1Y3QgQWRkcmVzc1Rva2VuQWxsb2NhdGlvbiB7CiAgICAgICAgYWRkcmVzcyBhZGRyOwogICAgICAgIHVpbnQyNTYgYW1vdW50OwogICAgICAgIHVpbnQyNTYgdmVzdGluZ1RTOwogICAgfQoKICAgIEFkZHJlc3NUb2tlbkFsbG9jYXRpb24gaW50ZXJuYWwgcHJlc2FsZVdhbGxldCAgICAgICA9IEFkZHJlc3NUb2tlbkFsbG9jYXRpb24oMHg0M0M1RkI2YjQxOUU2ZEYxYTAyMUI5QWQyMDVBMTgzNjljMTlGNTdGLCAxMDBlNiwgMCk7CiAgICBBZGRyZXNzVG9rZW5BbGxvY2F0aW9uIGludGVybmFsIGdlbmVyYWxTYWxlV2FsbGV0ICAgPSBBZGRyZXNzVG9rZW5BbGxvY2F0aW9uKDB4MDYzNWM1N0NENjJkQTQ4OWYwNWMzZEM3NTViQUYxQjE0OEZlRWRiMCwgNTUwZTYsIDApOwogICAgQWRkcmVzc1Rva2VuQWxsb2NhdGlvbiBpbnRlcm5hbCB3YWxsZXQxICAgICAgICAgICAgID0gQWRkcmVzc1Rva2VuQWxsb2NhdGlvbigweGFlNDZiYWU2OEQwYTg4NDgxMmJEMjBBMjQxYjY3MDdGMzEzQ2IwM2EsICAyMGU2LCB2ZXN0aW5nVGltZTE4MERheXMpOwogICAgQWRkcmVzc1Rva2VuQWxsb2NhdGlvbiBpbnRlcm5hbCB3YWxsZXQyICAgICAgICAgICAgID0gQWRkcmVzc1Rva2VuQWxsb2NhdGlvbigweGZlNDcyMzg5RjMzMTFlNWVhMTlCNENkMmM5OTQ1YjZENjQ3MzJGMTMsICAyMGU2LCB2ZXN0aW5nVGltZTE4MERheXMpOwogICAgQWRkcmVzc1Rva2VuQWxsb2NhdGlvbiBpbnRlcm5hbCB3YWxsZXQzICAgICAgICAgICAgID0gQWRkcmVzc1Rva2VuQWxsb2NhdGlvbigweEUzN2RmRjQwOUFGMTZCNzM1OEZhZTk4RDIyMjM0NTliMTdiZTBCMEIsICAyMGU2LCB2ZXN0aW5nVGltZTE4MERheXMpOwogICAgQWRkcmVzc1Rva2VuQWxsb2NhdGlvbiBpbnRlcm5hbCB3YWxsZXQ0ICAgICAgICAgICAgID0gQWRkcmVzc1Rva2VuQWxsb2NhdGlvbigweDM5NDgyZjRjZDM3NEQwZGVERDY4YjkzZUI3RjNmYzI5YWU3MTA1ZGIsICAxMGU2LCB2ZXN0aW5nVGltZTE4MERheXMpOwogICAgQWRkcmVzc1Rva2VuQWxsb2NhdGlvbiBpbnRlcm5hbCB3YWxsZXQ1ICAgICAgICAgICAgID0gQWRkcmVzc1Rva2VuQWxsb2NhdGlvbigweDAzNzM2ZDVCNTYwZkUwNzg0YjBGNWMyRDBlQTc2QTdGMTVFNWI5OWUsICAgNWU2LCB2ZXN0aW5nVGltZTE4MERheXMpOwogICAgQWRkcmVzc1Rva2VuQWxsb2NhdGlvbiBpbnRlcm5hbCB3YWxsZXQ2ICAgICAgICAgICAgID0gQWRkcmVzc1Rva2VuQWxsb2NhdGlvbigweEQyMTcyNjIyNmMzMjU3MEFiODhFMTJBOWFjMGZiMmVkMjBCRTg4QjksICAgNWU2LCB2ZXN0aW5nVGltZTE4MERheXMpOwogICAgQWRkcmVzc1Rva2VuQWxsb2NhdGlvbiBpbnRlcm5hbCBmb3VuZGVyc1dhbGxldCAgICAgID0gQWRkcmVzc1Rva2VuQWxsb2NhdGlvbigweEM2NkNiYjdCYTg4RjEyMEU4NjkyMEMwZjg1QTk3QjJjNjg3ODQ3NTUsICAzMGU2LCB2ZXN0aW5nVGltZTkwRGF5cyk7CiAgICBBZGRyZXNzVG9rZW5BbGxvY2F0aW9uIGludGVybmFsIHdhbGxldDcgICAgICAgICAgICAgPSBBZGRyZXNzVG9rZW5BbGxvY2F0aW9uKDB4MjRjZTEwOGQxOTc1Zjc5QjU3YzY3OTBCOWQ0RDkxZkMyMERFYWYyZCwgICA2ZTYsIDApOwogICAgQWRkcmVzc1Rva2VuQWxsb2NhdGlvbiBpbnRlcm5hbCB3YWxsZXQ4Z2VuZXNpcyAgICAgID0gQWRkcmVzc1Rva2VuQWxsb2NhdGlvbigweDAxMjVjNkJlNzczYmQ5MEMwNzQ3MDEyZjA1MWIxNTY5MkNkNkRmMzEsICAgNWU2LCAwKTsKICAgIEFkZHJlc3NUb2tlbkFsbG9jYXRpb24gaW50ZXJuYWwgd2FsbGV0OSAgICAgICAgICAgICA9IEFkZHJlc3NUb2tlbkFsbG9jYXRpb24oMHhGQ0YwNTg5QjZmYThBM2YyNjJDNEIwMzUwMjE1ZjZmMGVkMkY2MzBELCAgIDVlNiwgMCk7CiAgICBBZGRyZXNzVG9rZW5BbGxvY2F0aW9uIGludGVybmFsIHdhbGxldDEwICAgICAgICAgICAgPSBBZGRyZXNzVG9rZW5BbGxvY2F0aW9uKDB4MEQwMTZCMjMzZTMwNWY4ODlCQzVFOEEwZmQ2QTVmOTlCMDdGOGVjZSwgICA0ZTYsIDApOwogICAgQWRkcmVzc1Rva2VuQWxsb2NhdGlvbiBpbnRlcm5hbCB3YWxsZXQxMWJvdW50eSAgICAgID0gQWRkcmVzc1Rva2VuQWxsb2NhdGlvbigweDY4NDMzY0ZiMzNBN0ZkYmZhNzRFYTVFQ2FkMEJjOGIxRDk3ZDgyRTksICAxOWU2LCAwKTsKICAgIEFkZHJlc3NUb2tlbkFsbG9jYXRpb24gaW50ZXJuYWwgd2FsbGV0MTIgICAgICAgICAgICA9IEFkZHJlc3NUb2tlbkFsbG9jYXRpb24oMHhkNjIwQTY4OGFkQTZjNzgzM0YwZWRGNDhhNDVGM2UzOTQ4MDE0OUE2LCAgIDRlNiwgMCk7CiAgICBBZGRyZXNzVG9rZW5BbGxvY2F0aW9uIGludGVybmFsIHdhbGxldDEzcnN2ICAgICAgICAgPSBBZGRyZXNzVG9rZW5BbGxvY2F0aW9uKDB4OEMzOTNGNTIwZjc1ZWMwRjNlMTRkODdkNjdFOTVhZEU0RThiMTZCMSwgMTAwZTYsIDApOwogICAgQWRkcmVzc1Rva2VuQWxsb2NhdGlvbiBpbnRlcm5hbCB3YWxsZXQxNHBhcnRuZXJzICAgID0gQWRkcmVzc1Rva2VuQWxsb2NhdGlvbigweDZGODQyYjk3MUYwMDc2QzRlRUE4M2IwNTE1MjNkNzZGMDk4RmZhNTIsICA5NmU2LCAwKTsKICAgIEFkZHJlc3NUb2tlbkFsbG9jYXRpb24gaW50ZXJuYWwgd2FsbGV0MTVsb3R0ZXJ5ICAgICA9IEFkZHJlc3NUb2tlbkFsbG9jYXRpb24oMHhjYUE0OGQ5MUQ0OWY1MzYzQjI5NzRiYjRCMkRCQjM2RjA4NTJjZjgzLCAgIDFlNiwgMCk7CgogICAgdWludDI1NiBwdWJsaWMgbWluaW11bUlDT0NhcCA9IDMzMzM7Cn0KCmNvbnRyYWN0IE93bmVkIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKICAgIC8qKgogICAgKiAgQ29uc3RydWN0b3IKICAgICoKICAgICogIFNldHMgY29udHJhY3Qgb3duZXIgdG8gYWRkcmVzcyBvZiBjb25zdHJ1Y3RvciBjYWxsZXIKICAgICovCiAgICBmdW5jdGlvbiBPd25lZCgpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAqICBDaGFuZ2UgT3duZXIKICAgICoKICAgICogIENoYW5nZXMgb3duZXJzaGlwIG9mIHRoaXMgY29udHJhY3QuIE9ubHkgb3duZXIgY2FuIGNhbGwgdGhpcyBtZXRob2QuCiAgICAqCiAgICAqIEBwYXJhbSBuZXdPd25lciAtIG5ldyBvd25lcidzIGFkZHJlc3MKICAgICovCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIG5ld093bmVyKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUobmV3T3duZXIgIT0gb3duZXIpOwogICAgICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KfQoKY29udHJhY3QgVEtMTlRva2VuIGlzIE93bmVkLCBDcm93ZHNhbGVQYXJhbWV0ZXJzIHsKICAgIHN0cmluZyBwdWJsaWMgc3RhbmRhcmQgPSAnVG9rZW4gMC4xJzsKICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICdUYWtsaW1ha2FuJzsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gJ1RLTE4nOwogICAgdWludDggcHVibGljIGRlY2ltYWxzID0gMTg7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseSA9IDA7CiAgICBib29sIHB1YmxpYyB0cmFuc2ZlcnNFbmFibGVkID0gdHJ1ZTsKCiAgICBmdW5jdGlvbiBhcHByb3ZlQ3Jvd2RzYWxlKGFkZHJlc3MgX2Nyb3dkc2FsZUFkZHJlc3MpIGV4dGVybmFsOwogICAgZnVuY3Rpb24gYXBwcm92ZVByZXNhbGUoYWRkcmVzcyBfcHJlc2FsZUFkZHJlc3MpIGV4dGVybmFsOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwogICAgZnVuY3Rpb24gdmVzdGVkQmFsYW5jZU9mKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF9jdXJyZW50VmFsdWUsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gdG9nZ2xlVHJhbnNmZXJzKGJvb2wgX2VuYWJsZSkgZXh0ZXJuYWw7CiAgICBmdW5jdGlvbiBjbG9zZVByZXNhbGUoKSBleHRlcm5hbDsKICAgIGZ1bmN0aW9uIGNsb3NlR2VuZXJhbFNhbGUoKSBleHRlcm5hbDsKfQoKY29udHJhY3QgVGFrbGltYWthbkNyb3dkc2FsZSBpcyBPd25lZCwgQ3Jvd2RzYWxlUGFyYW1ldGVycyB7CiAgICAvKiBJQ08gYW5kIFByZS1JQ08gUGFyYW1ldGVycyAqLwogICAgYWRkcmVzcyBpbnRlcm5hbCBzYWxlV2FsbGV0QWRkcmVzczsKICAgIHVpbnQgcHJpdmF0ZSB0b2tlbk11bHRpcGxpZXIgPSAxMDsKICAgIHVpbnQgcHVibGljIHNhbGVTdGFydFRpbWVzdGFtcDsKICAgIHVpbnQgcHVibGljIHNhbGVTdG9wVGltZXN0YW1wOwogICAgdWludCBwdWJsaWMgc2FsZUdvYWw7CiAgICB1aW50OCBwdWJsaWMgc3RhZ2VCb251czsKICAgIGJvb2wgcHVibGljIGdvYWxSZWFjaGVkID0gZmFsc2U7CgogICAgLyogVG9rZW4gYW5kIHJlY29yZHMgKi8KICAgIFRLTE5Ub2tlbiBwcml2YXRlIHRva2VuOwogICAgdWludCBwdWJsaWMgdG90YWxDb2xsZWN0ZWQgPSAwOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwcml2YXRlIGludmVzdG1lbnRSZWNvcmRzOwoKICAgIC8qIEV2ZW50cyAqLwogICAgZXZlbnQgVG9rZW5TYWxlKGFkZHJlc3MgaW5kZXhlZCB0b2tlblJlY2VpdmVyLCB1aW50IGluZGV4ZWQgZXRoZXJBbW91bnQsIHVpbnQgaW5kZXhlZCB0b2tlbkFtb3VudCwgdWludCB0b2tlbnNQZXJFdGhlcik7CiAgICBldmVudCBGdW5kVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCBpbmRleGVkIGFtb3VudCk7CiAgICBldmVudCBSZWZ1bmQoYWRkcmVzcyBpbmRleGVkIGJhY2tlciwgdWludCBhbW91bnQpOwoKICAgIC8qKgogICAgKiBDb25zdHJ1Y3RvcgogICAgKgogICAgKiBAcGFyYW0gX3Rva2VuQWRkcmVzcyAtIGFkZHJlc3Mgb2YgdG9rZW4gKGRlcGxveWVkIGJlZm9yZSB0aGlzIGNvbnRyYWN0KQogICAgKi8KICAgIGZ1bmN0aW9uIFRha2xpbWFrYW5Dcm93ZHNhbGUoYWRkcmVzcyBfdG9rZW5BZGRyZXNzKSBwdWJsaWMgewogICAgICAgIHRva2VuID0gVEtMTlRva2VuKF90b2tlbkFkZHJlc3MpOwogICAgICAgIHRva2VuTXVsdGlwbGllciA9IHRva2VuTXVsdGlwbGllciAqKiB0b2tlbi5kZWNpbWFscygpOwogICAgICAgIHNhbGVXYWxsZXRBZGRyZXNzID0gQ3Jvd2RzYWxlUGFyYW1ldGVycy5nZW5lcmFsU2FsZVdhbGxldC5hZGRyOwoKICAgICAgICBzYWxlU3RhcnRUaW1lc3RhbXAgPSBDcm93ZHNhbGVQYXJhbWV0ZXJzLmdlbmVyYWxTYWxlU3RhcnREYXRlOwogICAgICAgIHNhbGVTdG9wVGltZXN0YW1wID0gQ3Jvd2RzYWxlUGFyYW1ldGVycy5nZW5lcmFsU2FsZUVuZERhdGU7CgogICAgICAgIC8vIEluaXRpYWxpemUgc2FsZSBnb2FsCiAgICAgICAgc2FsZUdvYWwgPSBDcm93ZHNhbGVQYXJhbWV0ZXJzLmdlbmVyYWxTYWxlV2FsbGV0LmFtb3VudDsKICAgICAgICBzdGFnZUJvbnVzID0gMTsKICAgIH0KCiAgICAvKioKICAgICogSXMgc2FsZSBhY3RpdmUKICAgICoKICAgICogQHJldHVybiBhY3RpdmUgLSBUcnVlLCBpZiBzYWxlIGlzIGFjdGl2ZQogICAgKi8KICAgIGZ1bmN0aW9uIGlzSUNPQWN0aXZlKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wgYWN0aXZlKSB7CiAgICAgICAgYWN0aXZlID0gKChzYWxlU3RhcnRUaW1lc3RhbXAgPD0gbm93KSAmJiAobm93IDwgc2FsZVN0b3BUaW1lc3RhbXApICYmICghZ29hbFJlYWNoZWQpKTsKICAgICAgICByZXR1cm4gYWN0aXZlOwogICAgfQoKICAgIC8qKgogICAgKiAgUHJvY2VzcyByZWNlaXZlZCBwYXltZW50CiAgICAqCiAgICAqICBEZXRlcm1pbmUgdGhlIGludGVnZXIgbnVtYmVyIG9mIHRva2VucyB0aGF0IHdhcyBwdXJjaGFzZWQgY29uc2lkZXJpbmcgY3VycmVudAogICAgKiAgc3RhZ2UsIHRpZXIgYm9udXMsIGFuZCByZW1haW5pbmcgYW1vdW50IG9mIHRva2VucyBpbiB0aGUgc2FsZSB3YWxsZXQuCiAgICAqICBUcmFuc2ZlciBwdXJjaGFzZWQgdG9rZW5zIHRvIGJha2VyQWRkcmVzcyBhbmQgcmV0dXJuIHVudXNlZCBwb3J0aW9uIG9mCiAgICAqICBldGhlciAoY2hhbmdlKQogICAgKgogICAgKiBAcGFyYW0gYmFrZXJBZGRyZXNzIC0gYWRkcmVzcyB0aGF0IGV0aGVyIHdhcyBzZW50IGZyb20KICAgICogQHBhcmFtIGFtb3VudCAtIGFtb3VudCBvZiBXZWkgcmVjZWl2ZWQKICAgICovCiAgICBmdW5jdGlvbiBwcm9jZXNzUGF5bWVudChhZGRyZXNzIGJha2VyQWRkcmVzcywgdWludCBhbW91bnQpIGludGVybmFsIHsKICAgICAgICByZXF1aXJlKGlzSUNPQWN0aXZlKCkpOwoKICAgICAgICAvLyBCZWZvcmUgTWV0cm9wb2xpcyB1cGRhdGUgcmVxdWlyZSB3aWxsIG5vdCByZWZ1bmQgZ2FzLCBidXQKICAgICAgICAvLyBmb3Igc29tZSByZWFzb24gcmVxdWlyZSBzdGF0ZW1lbnQgYXJvdW5kIG1zZy52YWx1ZSBhbHdheXMgdGhyb3dzCiAgICAgICAgYXNzZXJ0KG1zZy52YWx1ZSA+IDAgZmlubmV5KTsKCiAgICAgICAgLy8gVGVsbCBldmVyeW9uZSBhYm91dCB0aGUgdHJhbnNmZXIKICAgICAgICBGdW5kVHJhbnNmZXIoYmFrZXJBZGRyZXNzLCBhZGRyZXNzKHRoaXMpLCBhbW91bnQpOwoKICAgICAgICAvLyBDYWxjdWxhdGUgdG9rZW5zIHBlciBFVEggZm9yIHRoaXMgdGllcgogICAgICAgIHVpbnQgdG9rZW5zUGVyRXRoID0gMTY1MDA7CgogICAgICAgIGlmIChhbW91bnQgPCAzIGV0aGVyKQogICAgICAgICAgICB0b2tlbnNQZXJFdGggPSAxNTAwMDsKICAgICAgICBlbHNlIGlmIChhbW91bnQgPCA3IGV0aGVyKQogICAgICAgICAgICB0b2tlbnNQZXJFdGggPSAxNTE1MDsKICAgICAgICBlbHNlIGlmIChhbW91bnQgPCAxNSBldGhlcikKICAgICAgICAgICAgdG9rZW5zUGVyRXRoID0gMTUzMDA7CiAgICAgICAgZWxzZSBpZiAoYW1vdW50IDwgMzAgZXRoZXIpCiAgICAgICAgICAgIHRva2Vuc1BlckV0aCA9IDE1NDUwOwogICAgICAgIGVsc2UgaWYgKGFtb3VudCA8IDc1IGV0aGVyKQogICAgICAgICAgICB0b2tlbnNQZXJFdGggPSAxNTYwMDsKICAgICAgICBlbHNlIGlmIChhbW91bnQgPCAxNTAgZXRoZXIpCiAgICAgICAgICAgIHRva2Vuc1BlckV0aCA9IDE1NzUwOwogICAgICAgIGVsc2UgaWYgKGFtb3VudCA8IDI1MCBldGhlcikKICAgICAgICAgICAgdG9rZW5zUGVyRXRoID0gMTU5MDA7CiAgICAgICAgZWxzZSBpZiAoYW1vdW50IDwgNTAwIGV0aGVyKQogICAgICAgICAgICB0b2tlbnNQZXJFdGggPSAxNjA1MDsKICAgICAgICBlbHNlIGlmIChhbW91bnQgPCA3NTAgZXRoZXIpCiAgICAgICAgICAgIHRva2Vuc1BlckV0aCA9IDE2MjAwOwogICAgICAgIGVsc2UgaWYgKGFtb3VudCA8IDEwMDAgZXRoZXIpCiAgICAgICAgICAgIHRva2Vuc1BlckV0aCA9IDE2MzUwOwoKICAgICAgICB0b2tlbnNQZXJFdGggPSB0b2tlbnNQZXJFdGggKiBzdGFnZUJvbnVzOwoKICAgICAgICAvLyBDYWxjdWxhdGUgdG9rZW4gYW1vdW50IHRoYXQgaXMgcHVyY2hhc2VkLAogICAgICAgIC8vIHRydW5jYXRlIHRvIGludGVnZXIKICAgICAgICB1aW50IHRva2VuQW1vdW50ID0gYW1vdW50ICogdG9rZW5zUGVyRXRoIC8gMWUxODsKCiAgICAgICAgLy8gQ2hlY2sgdGhhdCBzdGFnZSB3YWxsZXQgaGFzIGVub3VnaCB0b2tlbnMuIElmIG5vdCwgc2VsbCB0aGUgcmVzdCBhbmQKICAgICAgICAvLyByZXR1cm4gY2hhbmdlLgogICAgICAgIHVpbnQgcmVtYWluaW5nVG9rZW5CYWxhbmNlID0gdG9rZW4uYmFsYW5jZU9mKHNhbGVXYWxsZXRBZGRyZXNzKSAvIHRva2VuTXVsdGlwbGllcjsKICAgICAgICBpZiAocmVtYWluaW5nVG9rZW5CYWxhbmNlIDwgdG9rZW5BbW91bnQpIHsKICAgICAgICAgICAgdG9rZW5BbW91bnQgPSByZW1haW5pbmdUb2tlbkJhbGFuY2U7CiAgICAgICAgICAgIGdvYWxSZWFjaGVkID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIC8vIENhbGN1bGF0ZSBXZWkgYW1vdW50IHRoYXQgd2FzIHJlY2VpdmVkIGluIHRoaXMgdHJhbnNhY3Rpb24KICAgICAgICAvLyBhZGp1c3RlZCB0byByb3VuZGluZyBhbmQgcmVtYWluaW5nIHRva2VuIGFtb3VudAogICAgICAgIHVpbnQgYWNjZXB0ZWRBbW91bnQgPSB0b2tlbkFtb3VudCAqIDFlMTggLyB0b2tlbnNQZXJFdGg7CgogICAgICAgIC8vIFRyYW5zZmVyIHRva2VucyB0byBiYWtlciBhbmQgcmV0dXJuIEVUSCBjaGFuZ2UKICAgICAgICB0b2tlbi50cmFuc2ZlckZyb20oc2FsZVdhbGxldEFkZHJlc3MsIGJha2VyQWRkcmVzcywgdG9rZW5BbW91bnQgKiB0b2tlbk11bHRpcGxpZXIpOwogICAgICAgIFRva2VuU2FsZShiYWtlckFkZHJlc3MsIGFtb3VudCwgdG9rZW5BbW91bnQsIHRva2Vuc1BlckV0aCk7CgogICAgICAgIC8vIFJldHVybiBjaGFuZ2UKICAgICAgICB1aW50IGNoYW5nZSA9IGFtb3VudCAtIGFjY2VwdGVkQW1vdW50OwogICAgICAgIGlmIChjaGFuZ2UgPiAwKSB7CiAgICAgICAgICAgIGlmIChiYWtlckFkZHJlc3Muc2VuZChjaGFuZ2UpKSB7CiAgICAgICAgICAgICAgICBGdW5kVHJhbnNmZXIoYWRkcmVzcyh0aGlzKSwgYmFrZXJBZGRyZXNzLCBjaGFuZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgcmV2ZXJ0KCk7CiAgICAgICAgfQoKICAgICAgICAvLyBVcGRhdGUgY3Jvd2RzYWxlIHBlcmZvcm1hbmNlCiAgICAgICAgaW52ZXN0bWVudFJlY29yZHNbYmFrZXJBZGRyZXNzXSArPSBhY2NlcHRlZEFtb3VudDsKICAgICAgICB0b3RhbENvbGxlY3RlZCArPSBhY2NlcHRlZEFtb3VudDsKICAgIH0KCiAgICAvKioKICAgICogIFRyYW5zZmVyIEVUSCBhbW91bnQgZnJvbSBjb250cmFjdCB0byBvd25lcidzIGFkZHJlc3MuCiAgICAqICBDYW4gb25seSBiZSB1c2VkIGlmIElDTyBpcyBjbG9zZWQKICAgICoKICAgICogQHBhcmFtIGFtb3VudCAtIEVUSCBhbW91bnQgdG8gdHJhbnNmZXIgaW4gV2VpCiAgICAqLwogICAgZnVuY3Rpb24gc2FmZVdpdGhkcmF3YWwodWludCBhbW91bnQpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgPj0gYW1vdW50KTsKICAgICAgICByZXF1aXJlKCFpc0lDT0FjdGl2ZSgpKTsKICAgICAgICByZXF1aXJlKHRvdGFsQ29sbGVjdGVkID49IENyb3dkc2FsZVBhcmFtZXRlcnMubWluaW11bUlDT0NhcCAqIDFlMTgpOwoKICAgICAgICBpZiAob3duZXIuc2VuZChhbW91bnQpKSB7CiAgICAgICAgICAgIEZ1bmRUcmFuc2ZlcihhZGRyZXNzKHRoaXMpLCBtc2cuc2VuZGVyLCBhbW91bnQpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICogIERlZmF1bHQgbWV0aG9kCiAgICAqCiAgICAqICBQcm9jZXNzZXMgYWxsIEVUSCB0aGF0IGl0IHJlY2VpdmVzIGFuZCBjcmVkaXRzIFRLTE4gdG9rZW5zIHRvIHNlbmRlcgogICAgKiAgYWNjb3JkaW5nIHRvIGN1cnJlbnQgc3RhZ2UgYm9udXMKICAgICovCiAgICBmdW5jdGlvbiAoKSBleHRlcm5hbCBwYXlhYmxlIHsKICAgICAgICBwcm9jZXNzUGF5bWVudChtc2cuc2VuZGVyLCBtc2cudmFsdWUpOwogICAgfQoKICAgIC8qKgogICAgKiAgS2lsbCBtZXRob2QKICAgICoKICAgICogIERlc3RydWN0cyB0aGlzIGNvbnRyYWN0CiAgICAqLwogICAgZnVuY3Rpb24ga2lsbCgpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZSghaXNJQ09BY3RpdmUoKSk7CiAgICAgICAgc2VsZmRlc3RydWN0KG93bmVyKTsKICAgIH0KCiAgICAvKioKICAgICogIFJlZnVuZAogICAgKgogICAgKiAgU2VuZHMgYSByZWZ1bmQgdG8gdGhlIHNlbmRlciB3aG8gY2FsbHMgdGhpcyBtZXRob2QuCiAgICAqLwogICAgZnVuY3Rpb24gcmVmdW5kKCkgZXh0ZXJuYWwgewogICAgICAgIHJlcXVpcmUoKG5vdyA+IHNhbGVTdG9wVGltZXN0YW1wKSAmJiAodG90YWxDb2xsZWN0ZWQgPCBDcm93ZHNhbGVQYXJhbWV0ZXJzLm1pbmltdW1JQ09DYXAgKiAxZTE4KSk7CiAgICAgICAgcmVxdWlyZShpbnZlc3RtZW50UmVjb3Jkc1ttc2cuc2VuZGVyXSA+IDApOwoKICAgICAgICB2YXIgYW1vdW50VG9SZXR1cm4gPSBpbnZlc3RtZW50UmVjb3Jkc1ttc2cuc2VuZGVyXTsKCiAgICAgICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgPj0gYW1vdW50VG9SZXR1cm4pOwoKICAgICAgICBpbnZlc3RtZW50UmVjb3Jkc1ttc2cuc2VuZGVyXSA9IDA7CiAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihhbW91bnRUb1JldHVybik7CiAgICAgICAgUmVmdW5kKG1zZy5zZW5kZXIsIGFtb3VudFRvUmV0dXJuKTsKICAgIH0KfQ=='.
	

]
