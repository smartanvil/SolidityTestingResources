Class {
	#name : #SRT4A90FBD0f7339e7583d474B29324CEA8267F90B6,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4A90FBD0f7339e7583d474B29324CEA8267F90B6 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuODsKCi8qClRoaXMgZmlsZSBpcyBwYXJ0IG9mIFBhc3MgREFPLgoKUGFzcyBEQU8gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQppdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBsZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KClBhc3MgREFPIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUKR05VIGxlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgpZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgbGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKYWxvbmcgd2l0aCBQYXNzIERBTy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi4KKi8KCi8qClNtYXJ0IGNvbnRyYWN0IGZvciBhIERlY2VudHJhbGl6ZWQgQXV0b25vbW91cyBPcmdhbml6YXRpb24gKERBTykKdG8gYXV0b21hdGUgb3JnYW5pemF0aW9uYWwgZ292ZXJuYW5jZSBhbmQgZGVjaXNpb24tbWFraW5nLgoqLwoKLy8vIEB0aXRsZSBQYXNzIERhbyBzbWFydCBjb250cmFjdApjb250cmFjdCBQYXNzRGFvIHsKICAgIAogICAgc3RydWN0IHJldmlzaW9uIHsKICAgICAgICAvLyBBZGRyZXNzIG9mIHRoZSBDb21taXR0ZWUgUm9vbSBzbWFydCBjb250cmFjdAogICAgICAgIGFkZHJlc3MgY29tbWl0dGVlUm9vbTsKICAgICAgICAvLyBBZGRyZXNzIG9mIHRoZSBzaGFyZSBtYW5hZ2VyIHNtYXJ0IGNvbnRyYWN0CiAgICAgICAgYWRkcmVzcyBzaGFyZU1hbmFnZXI7CiAgICAgICAgLy8gQWRkcmVzcyBvZiB0aGUgdG9rZW4gbWFuYWdlciBzbWFydCBjb250cmFjdAogICAgICAgIGFkZHJlc3MgdG9rZW5NYW5hZ2VyOwogICAgICAgIC8vIEFkZHJlc3Mgb2YgdGhlIHByb2plY3QgY3JlYXRvciBzbWFydCBjb250cmFjdAogICAgICAgIHVpbnQgc3RhcnREYXRlOwogICAgfQogICAgLy8gVGhlIHJldmlzaW9ucyBvZiB0aGUgYXBwbGljYXRpb24gdW50aWwgdG9kYXkKICAgIHJldmlzaW9uW10gcHVibGljIHJldmlzaW9uczsKCiAgICBzdHJ1Y3QgcHJvamVjdCB7CiAgICAgICAgLy8gVGhlIGFkZHJlc3Mgb2YgdGhlIHNtYXJ0IGNvbnRyYWN0CiAgICAgICAgYWRkcmVzcyBjb250cmFjdEFkZHJlc3M7CiAgICAgICAgLy8gVGhlIHVuaXggZWZmZWN0aXZlIHN0YXJ0IGRhdGUgb2YgdGhlIGNvbnRyYWN0CiAgICAgICAgdWludCBzdGFydERhdGU7CiAgICB9CiAgICAvLyBUaGUgcHJvamVjdHMgb2YgdGhlIERhbwogICAgcHJvamVjdFtdIHB1YmxpYyBwcm9qZWN0czsKCiAgICAvLyBNYXAgd2l0aCB0aGUgaW5kZXhlcyBvZiB0aGUgcHJvamVjdHMKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgcHJvamVjdElEOwogICAgCiAgICAvLyBUaGUgYWRkcmVzcyBvZiB0aGUgbWV0YSBwcm9qZWN0CiAgICBhZGRyZXNzIG1ldGFQcm9qZWN0OwoKICAgIAovLyBFdmVudHMKCiAgICBldmVudCBVcGdyYWRlKHVpbnQgaW5kZXhlZCBSZXZpc2lvbklELCBhZGRyZXNzIENvbW1pdHRlZVJvb20sIGFkZHJlc3MgU2hhcmVNYW5hZ2VyLCBhZGRyZXNzIFRva2VuTWFuYWdlcik7CiAgICBldmVudCBOZXdQcm9qZWN0KGFkZHJlc3MgUHJvamVjdCk7CgovLyBDb25zdGFudCBmdW5jdGlvbnMgIAogICAgCiAgICAvLy8gQHJldHVybiBUaGUgZWZmZWN0aXZlIGNvbW1pdHRlZSByb29tCiAgICBmdW5jdGlvbiBBY3R1YWxDb21taXR0ZWVSb29tKCkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHJldHVybiByZXZpc2lvbnNbMF0uY29tbWl0dGVlUm9vbTsKICAgIH0KICAgIAogICAgLy8vIEByZXR1cm4gVGhlIG1ldGEgcHJvamVjdAogICAgZnVuY3Rpb24gTWV0YVByb2plY3QoKSBjb25zdGFudCByZXR1cm5zIChhZGRyZXNzKSB7CiAgICAgICAgcmV0dXJuIG1ldGFQcm9qZWN0OwogICAgfQoKICAgIC8vLyBAcmV0dXJuIFRoZSBlZmZlY3RpdmUgc2hhcmUgbWFuYWdlcgogICAgZnVuY3Rpb24gQWN0dWFsU2hhcmVNYW5hZ2VyKCkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHJldHVybiByZXZpc2lvbnNbMF0uc2hhcmVNYW5hZ2VyOwogICAgfQoKICAgIC8vLyBAcmV0dXJuIFRoZSBlZmZlY3RpdmUgdG9rZW4gbWFuYWdlcgogICAgZnVuY3Rpb24gQWN0dWFsVG9rZW5NYW5hZ2VyKCkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHJldHVybiByZXZpc2lvbnNbMF0udG9rZW5NYW5hZ2VyOwogICAgfQoKLy8gbW9kaWZpZXJzCgogICAgbW9kaWZpZXIgb25seVBhc3NDb21taXR0ZWVSb29tIHtpZiAobXNnLnNlbmRlciAhPSByZXZpc2lvbnNbMF0uY29tbWl0dGVlUm9vbSAgCiAgICAgICAgJiYgcmV2aXNpb25zWzBdLmNvbW1pdHRlZVJvb20gIT0gMCkgdGhyb3c7IF87fQogICAgCi8vIENvbnN0cnVjdG9yIGZ1bmN0aW9uCgogICAgZnVuY3Rpb24gUGFzc0RhbygpIHsKICAgICAgICBwcm9qZWN0cy5sZW5ndGggPSAxOwogICAgICAgIHJldmlzaW9ucy5sZW5ndGggPSAxOwogICAgfQogICAgCi8vIFJlZ2lzdGVyIGZ1bmN0aW9ucwoKICAgIC8vLyBAZGV2IEZ1bmN0aW9uIHRvIGFsbG93IHRoZSBhY3R1YWwgQ29tbWl0dGVlIFJvb20gdXBncmFkaW5nIHRoZSBhcHBsaWNhdGlvbgogICAgLy8vIEBwYXJhbSBfbmV3Q29tbWl0dGVlUm9vbSBUaGUgYWRkcmVzcyBvZiB0aGUgbmV3IGNvbW1pdHRlZSByb29tCiAgICAvLy8gQHBhcmFtIF9uZXdTaGFyZU1hbmFnZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIG5ldyBzaGFyZSBtYW5hZ2VyCiAgICAvLy8gQHBhcmFtIF9uZXdUb2tlbk1hbmFnZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIG5ldyB0b2tlbiBtYW5hZ2VyCiAgICAvLy8gQHJldHVybiBUaGUgaW5kZXggb2YgdGhlIHJldmlzaW9uCiAgICBmdW5jdGlvbiB1cGdyYWRlKAogICAgICAgIGFkZHJlc3MgX25ld0NvbW1pdHRlZVJvb20sIAogICAgICAgIGFkZHJlc3MgX25ld1NoYXJlTWFuYWdlciwgCiAgICAgICAgYWRkcmVzcyBfbmV3VG9rZW5NYW5hZ2VyKSBvbmx5UGFzc0NvbW1pdHRlZVJvb20gcmV0dXJucyAodWludCkgewogICAgICAgIAogICAgICAgIHVpbnQgX3JldmlzaW9uSUQgPSByZXZpc2lvbnMubGVuZ3RoKys7CiAgICAgICAgcmV2aXNpb24gciA9IHJldmlzaW9uc1tfcmV2aXNpb25JRF07CgogICAgICAgIGlmIChfbmV3Q29tbWl0dGVlUm9vbSAhPSAwKSByLmNvbW1pdHRlZVJvb20gPSBfbmV3Q29tbWl0dGVlUm9vbTsgZWxzZSByLmNvbW1pdHRlZVJvb20gPSByZXZpc2lvbnNbMF0uY29tbWl0dGVlUm9vbTsKICAgICAgICBpZiAoX25ld1NoYXJlTWFuYWdlciAhPSAwKSByLnNoYXJlTWFuYWdlciA9IF9uZXdTaGFyZU1hbmFnZXI7IGVsc2Ugci5zaGFyZU1hbmFnZXIgPSByZXZpc2lvbnNbMF0uc2hhcmVNYW5hZ2VyOwogICAgICAgIGlmIChfbmV3VG9rZW5NYW5hZ2VyICE9IDApIHIudG9rZW5NYW5hZ2VyID0gX25ld1Rva2VuTWFuYWdlcjsgZWxzZSByLnRva2VuTWFuYWdlciA9IHJldmlzaW9uc1swXS50b2tlbk1hbmFnZXI7CgogICAgICAgIHIuc3RhcnREYXRlID0gbm93OwogICAgICAgIAogICAgICAgIHJldmlzaW9uc1swXSA9IHI7CiAgICAgICAgCiAgICAgICAgVXBncmFkZShfcmV2aXNpb25JRCwgX25ld0NvbW1pdHRlZVJvb20sIF9uZXdTaGFyZU1hbmFnZXIsIF9uZXdUb2tlbk1hbmFnZXIpOwogICAgICAgICAgICAKICAgICAgICByZXR1cm4gX3JldmlzaW9uSUQ7CiAgICB9CgogICAgLy8vIEBkZXYgRnVuY3Rpb24gdG8gc2V0IHRoZSBtZXRhIHByb2plY3QKICAgIC8vLyBAcGFyYW0gX3Byb2plY3RBZGRyZXNzIFRoZSBhZGRyZXNzIG9mIHRoZSBtZXRhIHByb2plY3QKICAgIGZ1bmN0aW9uIGFkZE1ldGFQcm9qZWN0KGFkZHJlc3MgX3Byb2plY3RBZGRyZXNzKSBvbmx5UGFzc0NvbW1pdHRlZVJvb20gewoKICAgICAgICBtZXRhUHJvamVjdCA9IF9wcm9qZWN0QWRkcmVzczsKICAgIH0KICAgIAogICAgLy8vIEBkZXYgRnVuY3Rpb24gdG8gYWxsb3cgdGhlIGNvbW1pdHRlZSByb29tIHRvIGFkZCBhIHByb2plY3Qgd2hlbiBvcmRlcmluZwogICAgLy8vIEBwYXJhbSBfcHJvamVjdEFkZHJlc3MgVGhlIGFkZHJlc3Mgb2YgdGhlIHByb2plY3QKICAgIGZ1bmN0aW9uIGFkZFByb2plY3QoYWRkcmVzcyBfcHJvamVjdEFkZHJlc3MpIG9ubHlQYXNzQ29tbWl0dGVlUm9vbSB7CgogICAgICAgIGlmIChwcm9qZWN0SURbX3Byb2plY3RBZGRyZXNzXSA9PSAwKSB7CgogICAgICAgICAgICB1aW50IF9wcm9qZWN0SUQgPSBwcm9qZWN0cy5sZW5ndGgrKzsKICAgICAgICAgICAgcHJvamVjdCBwID0gcHJvamVjdHNbX3Byb2plY3RJRF07CiAgICAgICAgCiAgICAgICAgICAgIHByb2plY3RJRFtfcHJvamVjdEFkZHJlc3NdID0gX3Byb2plY3RJRDsKICAgICAgICAgICAgcC5jb250cmFjdEFkZHJlc3MgPSBfcHJvamVjdEFkZHJlc3M7IAogICAgICAgICAgICBwLnN0YXJ0RGF0ZSA9IG5vdzsKICAgICAgICAgICAgCiAgICAgICAgICAgIE5ld1Byb2plY3QoX3Byb2plY3RBZGRyZXNzKTsKICAgICAgICB9CiAgICB9CiAgICAKfQoKLyoKICoKICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgUGFzcyBEQU8uCiAqCiAqIFRoZSBQcm9qZWN0IHNtYXJ0IGNvbnRyYWN0IGlzIHVzZWQgZm9yIHRoZSBtYW5hZ2VtZW50IG9mIHRoZSBQYXNzIERhbyBwcm9qZWN0cy4KICoKKi8KCi8vLyBAdGl0bGUgUHJvamVjdCBzbWFydCBjb250cmFjdCBvZiB0aGUgUGFzcyBEZWNlbnRyYWxpemVkIEF1dG9ub21vdXMgT3JnYW5pc2F0aW9uCmNvbnRyYWN0IFBhc3NQcm9qZWN0IHsKCiAgICAvLyBUaGUgUGFzcyBEYW8gc21hcnQgY29udHJhY3QKICAgIFBhc3NEYW8gcHVibGljIHBhc3NEYW87CiAgICAKICAgIC8vIFRoZSBwcm9qZWN0IG5hbWUKICAgIHN0cmluZyBwdWJsaWMgbmFtZTsKICAgIC8vIFRoZSBwcm9qZWN0IGRlc2NyaXB0aW9uCiAgICBzdHJpbmcgcHVibGljIGRlc2NyaXB0aW9uOwogICAgLy8gVGhlIEhhc2ggT2YgdGhlIHByb2plY3QgRG9jdW1lbnQKICAgIGJ5dGVzMzIgcHVibGljIGhhc2hPZlRoZURvY3VtZW50OwogICAgLy8gVGhlIHByb2plY3QgbWFuYWdlciBzbWFydCBjb250cmFjdAogICAgYWRkcmVzcyBwcm9qZWN0TWFuYWdlcjsKCiAgICBzdHJ1Y3Qgb3JkZXIgewogICAgICAgIC8vIFRoZSBhZGRyZXNzIG9mIHRoZSBjb250cmFjdG9yIHNtYXJ0IGNvbnRyYWN0CiAgICAgICAgYWRkcmVzcyBjb250cmFjdG9yQWRkcmVzczsKICAgICAgICAvLyBUaGUgaW5kZXggb2YgdGhlIGNvbnRyYWN0b3IgcHJvcG9zYWwKICAgICAgICB1aW50IGNvbnRyYWN0b3JQcm9wb3NhbElEOwogICAgICAgIC8vIFRoZSBhbW91bnQgb2YgdGhlIG9yZGVyCiAgICAgICAgdWludCBhbW91bnQ7CiAgICAgICAgLy8gVGhlIGRhdGUgb2YgdGhlIG9yZGVyCiAgICAgICAgdWludCBvcmRlckRhdGU7CiAgICB9CiAgICAvLyBUaGUgb3JkZXJzIG9mIHRoZSBEYW8gZm9yIHRoaXMgcHJvamVjdAogICAgb3JkZXJbXSBwdWJsaWMgb3JkZXJzOwogICAgCiAgICAvLyBUaGUgdG90YWwgYW1vdW50IG9mIG9yZGVycyBpbiB3ZWkgZm9yIHRoaXMgcHJvamVjdAogICAgdWludCBwdWJsaWMgdG90YWxBbW91bnRPZk9yZGVyczsKCiAgICBzdHJ1Y3QgcmVzb2x1dGlvbiB7CiAgICAgICAgLy8gVGhlIG5hbWUgb2YgdGhlIHJlc29sdXRpb24KICAgICAgICBzdHJpbmcgbmFtZTsKICAgICAgICAvLyBBIGRlc2NyaXB0aW9uIG9mIHRoZSByZXNvbHV0aW9uCiAgICAgICAgc3RyaW5nIGRlc2NyaXB0aW9uOwogICAgICAgIC8vIFRoZSBkYXRlIG9mIHRoZSByZXNvbHV0aW9uCiAgICAgICAgdWludCBjcmVhdGlvbkRhdGU7CiAgICB9CiAgICAvLyBSZXNvbHV0aW9ucyBvZiB0aGUgRGFvIGZvciB0aGlzIHByb2plY3QKICAgIHJlc29sdXRpb25bXSBwdWJsaWMgcmVzb2x1dGlvbnM7CiAgICAKLy8gRXZlbnRzCgogICAgZXZlbnQgT3JkZXJBZGRlZChhZGRyZXNzIGluZGV4ZWQgQ2xpZW50LCBhZGRyZXNzIGluZGV4ZWQgQ29udHJhY3RvckFkZHJlc3MsIHVpbnQgaW5kZXhlZCBDb250cmFjdG9yUHJvcG9zYWxJRCwgdWludCBBbW91bnQsIHVpbnQgT3JkZXJEYXRlKTsKICAgIGV2ZW50IFByb2plY3REZXNjcmlwdGlvblVwZGF0ZWQoYWRkcmVzcyBpbmRleGVkIEJ5LCBzdHJpbmcgTmV3RGVzY3JpcHRpb24sIGJ5dGVzMzIgTmV3SGFzaE9mVGhlRG9jdW1lbnQpOwogICAgZXZlbnQgUmVzb2x1dGlvbkFkZGVkKGFkZHJlc3MgaW5kZXhlZCBDbGllbnQsIHVpbnQgaW5kZXhlZCBSZXNvbHV0aW9uSUQsIHN0cmluZyBOYW1lLCBzdHJpbmcgRGVzY3JpcHRpb24pOwoKLy8gQ29uc3RhbnQgZnVuY3Rpb25zICAKCiAgICAvLy8gQHJldHVybiB0aGUgYWN0dWFsIGNvbW1pdHRlZSByb29tIG9mIHRoZSBEYW8gICAKICAgIGZ1bmN0aW9uIENsaWVudCgpIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MpIHsKICAgICAgICByZXR1cm4gcGFzc0Rhby5BY3R1YWxDb21taXR0ZWVSb29tKCk7CiAgICB9CiAgICAKICAgIC8vLyBAcmV0dXJuIFRoZSBudW1iZXIgb2Ygb3JkZXJzIAogICAgZnVuY3Rpb24gbnVtYmVyT2ZPcmRlcnMoKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIG9yZGVycy5sZW5ndGggLSAxOwogICAgfQogICAgCiAgICAvLy8gQHJldHVybiBUaGUgcHJvamVjdCBNYW5hZ2VyIGFkZHJlc3MKICAgIGZ1bmN0aW9uIFByb2plY3RNYW5hZ2VyKCkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHJldHVybiBwcm9qZWN0TWFuYWdlcjsKICAgIH0KCiAgICAvLy8gQHJldHVybiBUaGUgbnVtYmVyIG9mIHJlc29sdXRpb25zIAogICAgZnVuY3Rpb24gbnVtYmVyT2ZSZXNvbHV0aW9ucygpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gcmVzb2x1dGlvbnMubGVuZ3RoIC0gMTsKICAgIH0KICAgIAovLyBtb2RpZmllcnMKCiAgICAvLyBNb2RpZmllciBmb3IgcHJvamVjdCBtYW5hZ2VyIGZ1bmN0aW9ucyAKICAgIG1vZGlmaWVyIG9ubHlQcm9qZWN0TWFuYWdlciB7aWYgKG1zZy5zZW5kZXIgIT0gcHJvamVjdE1hbmFnZXIpIHRocm93OyBfO30KCiAgICAvLyBNb2RpZmllciBmb3IgdGhlIERhbyBmdW5jdGlvbnMgCiAgICBtb2RpZmllciBvbmx5Q2xpZW50IHtpZiAobXNnLnNlbmRlciAhPSBDbGllbnQoKSkgdGhyb3c7IF87fQoKLy8gQ29uc3RydWN0b3IgZnVuY3Rpb24KCiAgICBmdW5jdGlvbiBQYXNzUHJvamVjdCgKICAgICAgICBQYXNzRGFvIF9wYXNzRGFvLCAKICAgICAgICBzdHJpbmcgX25hbWUsCiAgICAgICAgc3RyaW5nIF9kZXNjcmlwdGlvbiwKICAgICAgICBieXRlczMyIF9oYXNoT2ZUaGVEb2N1bWVudCkgewoKICAgICAgICBwYXNzRGFvID0gX3Bhc3NEYW87CiAgICAgICAgbmFtZSA9IF9uYW1lOwogICAgICAgIGRlc2NyaXB0aW9uID0gX2Rlc2NyaXB0aW9uOwogICAgICAgIGhhc2hPZlRoZURvY3VtZW50ID0gX2hhc2hPZlRoZURvY3VtZW50OwogICAgICAgIAogICAgICAgIG9yZGVycy5sZW5ndGggPSAxOwogICAgICAgIHJlc29sdXRpb25zLmxlbmd0aCA9IDE7CiAgICB9CiAgICAKLy8gSW50ZXJuYWwgZnVuY3Rpb25zCgogICAgLy8vIEBkZXYgSW50ZXJuYWwgZnVuY3Rpb24gdG8gcmVnaXN0ZXIgYSBuZXcgb3JkZXIKICAgIC8vLyBAcGFyYW0gX2NvbnRyYWN0b3JBZGRyZXNzIFRoZSBhZGRyZXNzIG9mIHRoZSBjb250cmFjdG9yIHNtYXJ0IGNvbnRyYWN0CiAgICAvLy8gQHBhcmFtIF9jb250cmFjdG9yUHJvcG9zYWxJRCBUaGUgaW5kZXggb2YgdGhlIGNvbnRyYWN0b3IgcHJvcG9zYWwKICAgIC8vLyBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IGluIHdlaSBvZiB0aGUgb3JkZXIKICAgIC8vLyBAcGFyYW0gX29yZGVyRGF0ZSBUaGUgZGF0ZSBvZiB0aGUgb3JkZXIgCiAgICBmdW5jdGlvbiBhZGRPcmRlcigKCiAgICAgICAgYWRkcmVzcyBfY29udHJhY3RvckFkZHJlc3MsIAogICAgICAgIHVpbnQgX2NvbnRyYWN0b3JQcm9wb3NhbElELCAKICAgICAgICB1aW50IF9hbW91bnQsIAogICAgICAgIHVpbnQgX29yZGVyRGF0ZSkgaW50ZXJuYWwgewoKICAgICAgICB1aW50IF9vcmRlcklEID0gb3JkZXJzLmxlbmd0aCsrOwogICAgICAgIG9yZGVyIGQgPSBvcmRlcnNbX29yZGVySURdOwogICAgICAgIGQuY29udHJhY3RvckFkZHJlc3MgPSBfY29udHJhY3RvckFkZHJlc3M7CiAgICAgICAgZC5jb250cmFjdG9yUHJvcG9zYWxJRCA9IF9jb250cmFjdG9yUHJvcG9zYWxJRDsKICAgICAgICBkLmFtb3VudCA9IF9hbW91bnQ7CiAgICAgICAgZC5vcmRlckRhdGUgPSBfb3JkZXJEYXRlOwogICAgICAgIAogICAgICAgIHRvdGFsQW1vdW50T2ZPcmRlcnMgKz0gX2Ftb3VudDsKICAgICAgICAKICAgICAgICBPcmRlckFkZGVkKG1zZy5zZW5kZXIsIF9jb250cmFjdG9yQWRkcmVzcywgX2NvbnRyYWN0b3JQcm9wb3NhbElELCBfYW1vdW50LCBfb3JkZXJEYXRlKTsKICAgIH0KICAgIAovLyBTZXR0aW5nIGZ1bmN0aW9ucwoKICAgIC8vLyBAbm90aWNlIEZ1bmN0aW9uIHRvIGFsbG93IGNsb25pbmcgb3JkZXJzIGluIGNhc2Ugb2YgdXBncmFkZQogICAgLy8vIEBwYXJhbSBfY29udHJhY3RvckFkZHJlc3MgVGhlIGFkZHJlc3Mgb2YgdGhlIGNvbnRyYWN0b3Igc21hcnQgY29udHJhY3QKICAgIC8vLyBAcGFyYW0gX2NvbnRyYWN0b3JQcm9wb3NhbElEIFRoZSBpbmRleCBvZiB0aGUgY29udHJhY3RvciBwcm9wb3NhbAogICAgLy8vIEBwYXJhbSBfb3JkZXJBbW91bnQgVGhlIGFtb3VudCBpbiB3ZWkgb2YgdGhlIG9yZGVyCiAgICAvLy8gQHBhcmFtIF9sYXN0T3JkZXJEYXRlIFRoZSB1bml4IGRhdGUgb2YgdGhlIGxhc3Qgb3JkZXIgCiAgICBmdW5jdGlvbiBjbG9uZU9yZGVyKAogICAgICAgIGFkZHJlc3MgX2NvbnRyYWN0b3JBZGRyZXNzLCAKICAgICAgICB1aW50IF9jb250cmFjdG9yUHJvcG9zYWxJRCwgCiAgICAgICAgdWludCBfb3JkZXJBbW91bnQsIAogICAgICAgIHVpbnQgX2xhc3RPcmRlckRhdGUpIHsKICAgICAgICAKICAgICAgICBpZiAocHJvamVjdE1hbmFnZXIgIT0gMCkgdGhyb3c7CiAgICAgICAgCiAgICAgICAgYWRkT3JkZXIoX2NvbnRyYWN0b3JBZGRyZXNzLCBfY29udHJhY3RvclByb3Bvc2FsSUQsIF9vcmRlckFtb3VudCwgX2xhc3RPcmRlckRhdGUpOwogICAgfQogICAgCiAgICAvLy8gQG5vdGljZSBGdW5jdGlvbiB0byBzZXQgdGhlIHByb2plY3QgbWFuYWdlcgogICAgLy8vIEBwYXJhbSBfcHJvamVjdE1hbmFnZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIHByb2plY3QgbWFuYWdlciBzbWFydCBjb250cmFjdAogICAgLy8vIEByZXR1cm4gVHJ1ZSBpZiBzdWNjZXNzZnVsCiAgICBmdW5jdGlvbiBzZXRQcm9qZWN0TWFuYWdlcihhZGRyZXNzIF9wcm9qZWN0TWFuYWdlcikgcmV0dXJucyAoYm9vbCkgewoKICAgICAgICBpZiAoX3Byb2plY3RNYW5hZ2VyID09IDAgfHwgcHJvamVjdE1hbmFnZXIgIT0gMCkgcmV0dXJuOwogICAgICAgIAogICAgICAgIHByb2plY3RNYW5hZ2VyID0gX3Byb2plY3RNYW5hZ2VyOwogICAgICAgIAogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKLy8gUHJvamVjdCBtYW5hZ2VyIGZ1bmN0aW9ucwoKICAgIC8vLyBAbm90aWNlIEZ1bmN0aW9uIHRvIGFsbG93IHRoZSBwcm9qZWN0IG1hbmFnZXIgdXBkYXRpbmcgdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBwcm9qZWN0CiAgICAvLy8gQHBhcmFtIF9wcm9qZWN0RGVzY3JpcHRpb24gQSBkZXNjcmlwdGlvbiBvZiB0aGUgcHJvamVjdAogICAgLy8vIEBwYXJhbSBfaGFzaE9mVGhlRG9jdW1lbnQgVGhlIGhhc2ggb2YgdGhlIGxhc3QgZG9jdW1lbnQKICAgIGZ1bmN0aW9uIHVwZGF0ZURlc2NyaXB0aW9uKHN0cmluZyBfcHJvamVjdERlc2NyaXB0aW9uLCBieXRlczMyIF9oYXNoT2ZUaGVEb2N1bWVudCkgb25seVByb2plY3RNYW5hZ2VyIHsKICAgICAgICBkZXNjcmlwdGlvbiA9IF9wcm9qZWN0RGVzY3JpcHRpb247CiAgICAgICAgaGFzaE9mVGhlRG9jdW1lbnQgPSBfaGFzaE9mVGhlRG9jdW1lbnQ7CiAgICAgICAgUHJvamVjdERlc2NyaXB0aW9uVXBkYXRlZChtc2cuc2VuZGVyLCBfcHJvamVjdERlc2NyaXB0aW9uLCBfaGFzaE9mVGhlRG9jdW1lbnQpOwogICAgfQoKLy8gQ2xpZW50IGZ1bmN0aW9ucwoKICAgIC8vLyBAZGV2IEZ1bmN0aW9uIHRvIGFsbG93IHRoZSBEYW8gdG8gcmVnaXN0ZXIgYSBuZXcgb3JkZXIKICAgIC8vLyBAcGFyYW0gX2NvbnRyYWN0b3JBZGRyZXNzIFRoZSBhZGRyZXNzIG9mIHRoZSBjb250cmFjdG9yIHNtYXJ0IGNvbnRyYWN0CiAgICAvLy8gQHBhcmFtIF9jb250cmFjdG9yUHJvcG9zYWxJRCBUaGUgaW5kZXggb2YgdGhlIGNvbnRyYWN0b3IgcHJvcG9zYWwKICAgIC8vLyBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IGluIHdlaSBvZiB0aGUgb3JkZXIKICAgIGZ1bmN0aW9uIG5ld09yZGVyKAogICAgICAgIGFkZHJlc3MgX2NvbnRyYWN0b3JBZGRyZXNzLCAKICAgICAgICB1aW50IF9jb250cmFjdG9yUHJvcG9zYWxJRCwgCiAgICAgICAgdWludCBfYW1vdW50KSBvbmx5Q2xpZW50IHsKICAgICAgICAgICAgCiAgICAgICAgYWRkT3JkZXIoX2NvbnRyYWN0b3JBZGRyZXNzLCBfY29udHJhY3RvclByb3Bvc2FsSUQsIF9hbW91bnQsIG5vdyk7CiAgICB9CiAgICAKICAgIC8vLyBAZGV2IEZ1bmN0aW9uIHRvIGFsbG93IHRoZSBEYW8gdG8gcmVnaXN0ZXIgYSBuZXcgcmVzb2x1dGlvbgogICAgLy8vIEBwYXJhbSBfbmFtZSBUaGUgbmFtZSBvZiB0aGUgcmVzb2x1dGlvbgogICAgLy8vIEBwYXJhbSBfZGVzY3JpcHRpb24gVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSByZXNvbHV0aW9uCiAgICBmdW5jdGlvbiBuZXdSZXNvbHV0aW9uKAogICAgICAgIHN0cmluZyBfbmFtZSwgCiAgICAgICAgc3RyaW5nIF9kZXNjcmlwdGlvbikgb25seUNsaWVudCB7CgogICAgICAgIHVpbnQgX3Jlc29sdXRpb25JRCA9IHJlc29sdXRpb25zLmxlbmd0aCsrOwogICAgICAgIHJlc29sdXRpb24gZCA9IHJlc29sdXRpb25zW19yZXNvbHV0aW9uSURdOwogICAgICAgIAogICAgICAgIGQubmFtZSA9IF9uYW1lOwogICAgICAgIGQuZGVzY3JpcHRpb24gPSBfZGVzY3JpcHRpb247CiAgICAgICAgZC5jcmVhdGlvbkRhdGUgPSBub3c7CgogICAgICAgIFJlc29sdXRpb25BZGRlZChtc2cuc2VuZGVyLCBfcmVzb2x1dGlvbklELCBkLm5hbWUsIGQuZGVzY3JpcHRpb24pOwogICAgfQp9Cgpjb250cmFjdCBQYXNzUHJvamVjdENyZWF0b3IgewogICAgCiAgICBldmVudCBOZXdQYXNzUHJvamVjdChQYXNzRGFvIGluZGV4ZWQgRGFvLCBQYXNzUHJvamVjdCBpbmRleGVkIFByb2plY3QsIHN0cmluZyBOYW1lLCBzdHJpbmcgRGVzY3JpcHRpb24sIGJ5dGVzMzIgSGFzaE9mVGhlRG9jdW1lbnQpOwoKICAgIC8vLyBAbm90aWNlIEZ1bmN0aW9uIHRvIGNyZWF0ZSBhIG5ldyBQYXNzIHByb2plY3QKICAgIC8vLyBAcGFyYW0gX3Bhc3NEYW8gVGhlIFBhc3MgRGFvIHNtYXJ0IGNvbnRyYWN0CiAgICAvLy8gQHBhcmFtIF9uYW1lIFRoZSBwcm9qZWN0IG5hbWUKICAgIC8vLyBAcGFyYW0gX2Rlc2NyaXB0aW9uIFRoZSBwcm9qZWN0IGRlc2NyaXB0aW9uIChub3QgbWFuZGF0b3J5LCBjYW4gYmUgdXBkYXRlZCBhZnRlciBieSB0aGUgY3JlYXRvcikKICAgIC8vLyBAcGFyYW0gX2hhc2hPZlRoZURvY3VtZW50IFRoZSBIYXNoIE9mIHRoZSBwcm9qZWN0IERvY3VtZW50IChub3QgbWFuZGF0b3J5LCBjYW4gYmUgdXBkYXRlZCBhZnRlciBieSB0aGUgY3JlYXRvcikKICAgIGZ1bmN0aW9uIGNyZWF0ZVByb2plY3QoCiAgICAgICAgUGFzc0RhbyBfcGFzc0RhbywKICAgICAgICBzdHJpbmcgX25hbWUsIAogICAgICAgIHN0cmluZyBfZGVzY3JpcHRpb24sIAogICAgICAgIGJ5dGVzMzIgX2hhc2hPZlRoZURvY3VtZW50CiAgICAgICAgKSByZXR1cm5zIChQYXNzUHJvamVjdCkgewoKICAgICAgICBQYXNzUHJvamVjdCBfcGFzc1Byb2plY3QgPSBuZXcgUGFzc1Byb2plY3QoX3Bhc3NEYW8sIF9uYW1lLCBfZGVzY3JpcHRpb24sIF9oYXNoT2ZUaGVEb2N1bWVudCk7CgogICAgICAgIE5ld1Bhc3NQcm9qZWN0KF9wYXNzRGFvLCBfcGFzc1Byb2plY3QsIF9uYW1lLCBfZGVzY3JpcHRpb24sIF9oYXNoT2ZUaGVEb2N1bWVudCk7CgogICAgICAgIHJldHVybiBfcGFzc1Byb2plY3Q7CiAgICB9Cn0='.
	

]
