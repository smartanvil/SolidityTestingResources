Class {
	#name : #SRT3bb831e1ae1b9abacb2e9626994483e0b3759c1c,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT3bb831e1ae1b9abacb2e9626994483e0b3759c1c >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CmNvbnRyYWN0IHRva2VuUmVjaXBpZW50IHsgZnVuY3Rpb24gcmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MgZnJvbSwgdWludDI1NiB2YWx1ZSwgYWRkcmVzcyB0b2tlbiwgYnl0ZXMgZXh0cmFEYXRhKSBwdWJsaWM7IH0KY29udHJhY3QgUEdNX0NvaW4KICB7IAogICAgIC8qIFZhcmlhYmxlcyAgKi8KICAgIHN0cmluZyAgcHVibGljIG5hbWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBuYW1lICBvZiBjb250cmFjdAogICAgc3RyaW5nICBwdWJsaWMgc3ltYm9sOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN5bWJvbCBvZiBjb250cmFjdAogICAgdWludDggICBwdWJsaWMgZGVjaW1hbHM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhvdyBtYW55IGRlY2ltYWxzIHRvIGtlZXAgLCAxOCBpcyBiZXN0IAogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhvdyBtYW55IHRva2VucyB0byBjcmVhdGUKICAgIHVpbnQyNTYgcHVibGljIHJlbWFpbmluZzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBob3cgbWFueSB0b2tlbnMgaGFzIGxlZnQKICAgIHVpbnQgICAgcHVibGljIGV0aFJhdGU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXJyZW50IHJhdGUgb2YgZXRoZXIKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb250cmFjdCBjcmVhdG9yCiAgICB1aW50MjU2IHB1YmxpYyBhbW91bnRDb2xsZWN0ZWQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaG93IG11Y2ggZnVuZHMgaGFzIGJlZW4gY29sbGVjdGVkCiAgICB1aW50ICAgIHB1YmxpYyBpY29TdGF0dXM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3cgLyBkaXNhbGxvdyBvbmxpbmUgcHVyY2hhc2UKICAgIHVpbnQgICAgcHVibGljIGljb1Rva2VuUHJpY2U7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0b2tlbiBwcmljZSwgc3RhcnQgd2l0aCAxMCBjZW50cwogICAgYWRkcmVzcyBwdWJsaWMgYmVuQWRkcmVzczsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZ1bmRzIHdpdGhkcmF3IGFkZHJlc3MKICAgIGFkZHJlc3MgcHVibGljIGJrYWRkcmVzczsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgIHVpbnQgICAgcHVibGljIGFsbG93VHJhbnNmZXJUb2tlbjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbGxvdyAvIGRpc2FsbG93IHRva2VuIHRyYW5zZmVyIGZvciBtZW1iZXJzCiAgICAKICAgICAvKiBBcnJheSAgKi8KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VPZjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhcnJheSBvZiBhbGwgYmFsYW5jZXMKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgcHVibGljIGFsbG93YW5jZTsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGZyb3plbkFjY291bnQ7CiAgICAKICAgIC8qIEV2ZW50cyAgKi8KICAgIGV2ZW50IEZyb3plbkZ1bmRzKGFkZHJlc3MgdGFyZ2V0LCBib29sIGZyb3plbik7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGZyb20sIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgVHJhbnNmZXJTZWxsKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUsIHN0cmluZyB0eXBleCk7IC8vIG9ubHkgZm9yIGljbyBzYWxlcwogICAgCgogICAgIC8qIEluaXRpYWxpemVzIGNvbnRyYWN0IHdpdGggaW5pdGlhbCBzdXBwbHkgdG9rZW5zIHRvIHRoZSBjcmVhdG9yIG9mIHRoZSBjb250cmFjdCAqLwogICAgZnVuY3Rpb24gUEdNX0NvaW4oKSBwdWJsaWMKICAgIHsKICAgICAgdG90YWxTdXBwbHkgPSAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFzIHRoZSBkZWNpbWFscyBhcmUgMTgsIHdlIGFkZCAxOCB6ZXJvIGFmdGVyIHRvdGFsIHN1cHBseSwgYXMgYWxsIHZhbHVlcyBhcmUgc3RvcmVkIGluIHdlaQogICAgICBvd25lciA9ICBtc2cuc2VuZGVyOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCBvd25lciBvZiBjb250cmFjdAogICAgICBiYWxhbmNlT2Zbb3duZXJdID0gdG90YWxTdXBwbHk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdpdmUgdGhlIGNyZWF0b3IgYWxsIGluaXRpYWwgdG9rZW5zCiAgICAgICBuYW1lID0gIlBHTSBDb2luIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgbmFtZSBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICBzeW1ib2wgPSAiUEdNIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBzeW1ib2wgZm9yIGRpc3BsYXkgcHVycG9zZXMKICAgICAgZGVjaW1hbHMgPSAxODsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbW91bnQgb2YgZGVjaW1hbHMgZm9yIGRpc3BsYXkgcHVycG9zZXMKICAgICAgcmVtYWluaW5nID0gdG90YWxTdXBwbHk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIb3cgbWFueSB0b2tlbnMgYXJlIGxlZnQKICAgICAgZXRoUmF0ZSA9IDExMDA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVmYXVsdCB0b2tlbiBwcmljZQogICAgICBpY29TdGF0dXMgPSAxOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlZmF1bHQgaWNvIHN0YXR1cwogICAgICBpY29Ub2tlblByaWNlID0gNTA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhbHVlcyBhcmUgaW4gY2VudHMKICAgICAgYmVuQWRkcmVzcyA9IDB4NDUzMjgyOEVDMDU3ZTZjRmEwNGE0MmIxNTNkNzRCMzQ1MDg0QzRDMjsgICAgICAgICAgICAgICAgICAvLyBmdW5kcyB3aXRoZHJhdyBhZGRyZXNzCiAgICAgIGJrYWRkcmVzcyAgPSAweDFEMzhiNDk2MTc2YkRhQjc4RDQzMGNlYmYyNUIyRmU0MTNkM0JGODQ7ICAgICAgICAgICAgICAgICAgIAogICAgICBhbGxvd1RyYW5zZmVyVG9rZW4gPSAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlZmF1bHQgc2V0IHRvIGRpc2FibGUsIGl0IHdpbGwgYmUgZW5hYmxlIGFmdGVyIElDTyBpcyBvdmVyCiAgICB9CgogICBtb2RpZmllciBvbmx5T3duZXIoKQogICAgewogICAgICAgIHJlcXVpcmUoKG1zZy5zZW5kZXIgPT0gb3duZXIpIHx8IChtc2cuc2VuZGVyID09ICBia2FkZHJlc3MpKTsKICAgICAgICBfOwogICAgfQoKCiAgICBmdW5jdGlvbiAoKSBwdWJsaWMgcGF5YWJsZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGVkIHdoZW4gZXRoZXIgaXMgc2VuZCB0byBjb250cmFjdAogICAgewogICAgfSAgICAKICAgIAogICAgZnVuY3Rpb24gc2VsbE9mZmxpbmUoYWRkcmVzcyByZWNfYWRkcmVzcyx1aW50MjU2IHRva2VuX2Ftb3VudCkgcHVibGljIG9ubHlPd25lciAKICAgIHsKICAgICAgICBpZiAocmVtYWluaW5nID4gMCkKICAgICAgICB7CiAgICAgICAgICAgIHVpbnQgZmluYWxUb2tlbnMgPSAgKHRva2VuX2Ftb3VudCAgKiAoMTAgKiogMTgpKTsgICAgICAgICAgICAgIAogICAgICAgICAgICBpZihmaW5hbFRva2VucyA8IHJlbWFpbmluZykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICByZW1haW5pbmcgPSByZW1haW5pbmcgLSBmaW5hbFRva2VuczsKICAgICAgICAgICAgICAgICAgICBfdHJhbnNmZXIob3duZXIscmVjX2FkZHJlc3MsIGZpbmFsVG9rZW5zKTsgICAgCiAgICAgICAgICAgICAgICAgICAgVHJhbnNmZXJTZWxsKG93bmVyLCByZWNfYWRkcmVzcywgZmluYWxUb2tlbnMsJ09mZmxpbmUnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICB9ICAgICAgICAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ2V0RXRoUmF0ZSgpIG9ubHlPd25lciBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAgKHVpbnQpICAgICAgICAgICAgLy8gR2V0IGN1cnJlbnQgcmF0ZSBvZiBldGhlciAKICAgIHsKICAgICAgICByZXR1cm4gZXRoUmF0ZTsKICAgIH0KCiAgICAKICAgIGZ1bmN0aW9uIGdldENvbkJhbCgpIG9ubHlPd25lciBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAgKHVpbnQpICAgICAgICAgICAgLy8gR2V0ICBCYWxhbmNlIAogICAgewogICAgICAgIHJldHVybiB0aGlzLmJhbGFuY2U7CiAgICB9ICAgIAogICAgCiAgICBmdW5jdGlvbiBzZXRFdGhSYXRlICh1aW50IG5ld0V0aFJhdGUpIHB1YmxpYyAgb25seU93bmVyICAgICAgICAgICAgICAgICAgICAvLyBTZXQgZXRoZXIgcHJpY2UKICAgIHsKICAgICAgICBldGhSYXRlID0gbmV3RXRoUmF0ZTsKICAgIH0gCgoKICAgIGZ1bmN0aW9uIGdldFRva2VuUHJpY2UoKSBvbmx5T3duZXIgcHVibGljIGNvbnN0YW50IHJldHVybnMgICh1aW50KSAgICAgICAgIC8vIEdldCBjdXJyZW50IHRva2VuIHByaWNlCiAgICB7CiAgICAgICAgcmV0dXJuIGljb1Rva2VuUHJpY2U7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHNldFRva2VuUHJpY2UgKHVpbnQgbmV3VG9rZW5SYXRlKSBwdWJsaWMgIG9ubHlPd25lciAgICAgICAgICAgICAgIC8vIFNldCBvbmUgdG9rZW4gcHJpY2UKICAgIHsKICAgICAgICBpY29Ub2tlblByaWNlID0gbmV3VG9rZW5SYXRlOwogICAgfSAgICAgCiAgICAKICAgIAogICAgZnVuY3Rpb24gc2V0VHJhbnNmZXJTdGF0dXMgKHVpbnQgc3RhdHVzKSBwdWJsaWMgIG9ubHlPd25lciAgICAgICAgICAgICAgICAgLy8gU2V0IHRyYW5zZmVyIHN0YXR1cwogICAgewogICAgICAgIGFsbG93VHJhbnNmZXJUb2tlbiA9IHN0YXR1czsKICAgIH0gICAKICAgIAogICAgZnVuY3Rpb24gY2hhbmdlSWNvU3RhdHVzICh1aW50OCBzdGF0eCkgIHB1YmxpYyBvbmx5T3duZXIgICAgICAgICAgICAgICAgICAgLy8gQ2hhbmdlIElDTyBTdGF0dXMKICAgIHsKICAgICAgICBpY29TdGF0dXMgPSBzdGF0eDsKICAgIH0gCiAgICAKCiAgICBmdW5jdGlvbiB3aXRoZHJhdyh1aW50IGFtb3VudFdpdGgpIHB1YmxpYyBvbmx5T3duZXIgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aXRoZHJhdyBwYXJ0aWNhbCBhbW91bnQKICAgICAgICB7CiAgICAgICAgICAgIGlmKChtc2cuc2VuZGVyID09IG93bmVyKSB8fCAobXNnLnNlbmRlciA9PSAgYmthZGRyZXNzKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgYmVuQWRkcmVzcy50cmFuc2ZlcihhbW91bnRXaXRoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgIGZ1bmN0aW9uIHdpdGhkcmF3X2FsbCgpIHB1YmxpYyBvbmx5T3duZXIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGwgdG8gd2l0aGRyYXcgYWxsIGF2YWlsYWJsZSBiYWxhbmNlCiAgICAgICAgewogICAgICAgICAgICBpZigobXNnLnNlbmRlciA9PSBvd25lcikgfHwgKG1zZy5zZW5kZXIgPT0gIGJrYWRkcmVzcykgKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB2YXIgYW1vdW50V2l0aCA9IHRoaXMuYmFsYW5jZSAtIDEwMDAwMDAwMDAwMDAwMDAwOwogICAgICAgICAgICAgICAgYmVuQWRkcmVzcy50cmFuc2ZlcihhbW91bnRXaXRoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgIGZ1bmN0aW9uIG1pbnRUb2tlbih1aW50MjU2IHRva2Vuc1RvTWludCkgcHVibGljIG9ubHlPd25lciAKICAgICAgICB7CiAgICAgICAgICAgIGlmKHRva2Vuc1RvTWludCA+IDApCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHZhciB0b3RhbFRva2VuVG9NaW50ID0gdG9rZW5zVG9NaW50ICogKDEwICoqIDE4KTsKICAgICAgICAgICAgICAgIGJhbGFuY2VPZltvd25lcl0gKz0gdG90YWxUb2tlblRvTWludDsKICAgICAgICAgICAgICAgIHRvdGFsU3VwcGx5ICs9IHRvdGFsVG9rZW5Ub01pbnQ7CiAgICAgICAgICAgICAgICBUcmFuc2ZlcigwLCBvd25lciwgdG90YWxUb2tlblRvTWludCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgkJCgoJIC8qIEFkbWluIFRyYXNmZXIgICovCgkgZnVuY3Rpb24gYWRtX3RyYXNmZXIoYWRkcmVzcyBfZnJvbSxhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpICBwdWJsaWMgb25seU93bmVyCgkJICB7CgkJCSAgX3RyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CgkJICB9CgkJCgogICAgZnVuY3Rpb24gZnJlZXplQWNjb3VudChhZGRyZXNzIHRhcmdldCwgYm9vbCBmcmVlemUpIHB1YmxpYyBvbmx5T3duZXIgCiAgICAgICAgewogICAgICAgICAgICBmcm96ZW5BY2NvdW50W3RhcmdldF0gPSBmcmVlemU7CiAgICAgICAgICAgIEZyb3plbkZ1bmRzKHRhcmdldCwgZnJlZXplKTsKICAgICAgICB9CiAgICAgICAgICAgIAoKICAgIGZ1bmN0aW9uIGdldENvbGxlY3RlZEFtb3VudCgpIG9ubHlPd25lciBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSAKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiBhbW91bnRDb2xsZWN0ZWQ7CiAgICAgICAgfSAgICAgICAgCgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSAKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiBiYWxhbmNlT2ZbX293bmVyXTsKICAgICAgICB9CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwcml2YXRlIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdHN1cHBseSkgCiAgICAgICAgewogICAgICAgICAgICB0c3VwcGx5ID0gdG90YWxTdXBwbHk7CiAgICAgICAgfSAgICAKCgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciAKICAgICAgICB7IAogICAgICAgICAgICBiYWxhbmNlT2Zbb3duZXJdID0gMDsgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgYmFsYW5jZU9mW25ld093bmVyXSA9IHJlbWFpbmluZzsgICAgICAgICAgICAgICAKICAgICAgICAgICAgb3duZXIgPSBuZXdPd25lcjsgCiAgICAgICAgfSAgICAgICAgCgogIC8qIEludGVybmFsIHRyYW5zZmVyLCBvbmx5IGNhbiBiZSBjYWxsZWQgYnkgdGhpcyBjb250cmFjdCAqLwogIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGludGVybmFsIAogICAgICB7CiAgICAgICAgICBpZihhbGxvd1RyYW5zZmVyVG9rZW4gPT0gMSB8fCBfZnJvbSA9PSBvd25lciApCiAgICAgICAgICB7CiAgICAgICAgICAgICAgcmVxdWlyZSghZnJvemVuQWNjb3VudFtfZnJvbV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCB0cmFuc2ZlciBmcm9tIGZyb3plbmZ1bmRzCiAgICAgICAgICAgICAgcmVxdWlyZSAoX3RvICE9IDB4MCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCB0cmFuc2ZlciB0byAweDAgYWRkcmVzcy4gVXNlIGJ1cm4oKSBpbnN0ZWFkCiAgICAgICAgICAgICAgcmVxdWlyZSAoYmFsYW5jZU9mW19mcm9tXSA+IF92YWx1ZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCiAgICAgICAgICAgICAgcmVxdWlyZSAoYmFsYW5jZU9mW190b10gKyBfdmFsdWUgPiBiYWxhbmNlT2ZbX3RvXSk7ICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIG92ZXJmbG93cwogICAgICAgICAgICAgIGJhbGFuY2VPZltfZnJvbV0gLT0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgICAgICAgIGJhbGFuY2VPZltfdG9dICs9IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0byB0aGUgcmVjaXBpZW50CiAgICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmFpc2UgZXZlbnQKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UKICAgICAgICAgIHsKICAgICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgICB9CiAgICAgIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSAgcHVibGljCiAgICAgIHsKICAgICAgICAgIF90cmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgCiAgICAgIHsKICAgICAgICAgIHJlcXVpcmUgKF92YWx1ZSA8IGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0pOyAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBhbGxvd2FuY2UKICAgICAgICAgIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgX3RyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSAKICAgICAgewogICAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQogICAgICB7CiAgICAgICAgICB0b2tlblJlY2lwaWVudCBzcGVuZGVyID0gdG9rZW5SZWNpcGllbnQoX3NwZW5kZXIpOwogICAgICAgICAgaWYgKGFwcHJvdmUoX3NwZW5kZXIsIF92YWx1ZSkpIHsKICAgICAgICAgICAgICBzcGVuZGVyLnJlY2VpdmVBcHByb3ZhbChtc2cuc2VuZGVyLCBfdmFsdWUsIHRoaXMsIF9leHRyYURhdGEpOwogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICB9ICAgICAgICAKCiAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgCiAgICAgIHsKICAgICAgICAgIHJlcXVpcmUgKGJhbGFuY2VPZlttc2cuc2VuZGVyXSA+IF92YWx1ZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIKICAgICAgICAgIHRvdGFsU3VwcGx5IC09IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGVzIHRvdGFsU3VwcGx5CiAgICAgICAgICBCdXJuKG1zZy5zZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICBmdW5jdGlvbiBidXJuRnJvbShhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgCiAgICAgIHsKICAgICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW19mcm9tXSA+PSBfdmFsdWUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgdGFyZ2V0ZWQgYmFsYW5jZSBpcyBlbm91Z2gKICAgICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0pOyAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBhbGxvd2FuY2UKICAgICAgICAgIGJhbGFuY2VPZltfZnJvbV0gLT0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSB0YXJnZXRlZCBiYWxhbmNlCiAgICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyJ3MgYWxsb3dhbmNlCiAgICAgICAgICB0b3RhbFN1cHBseSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRvdGFsU3VwcGx5CiAgICAgICAgICBCdXJuKF9mcm9tLCBfdmFsdWUpOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KfSAvLyBlbmQgb2YgY29udHJhY3Q='.
	

]
