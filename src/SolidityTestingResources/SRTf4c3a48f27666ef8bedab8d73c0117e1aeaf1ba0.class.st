Class {
	#name : #SRTf4c3a48f27666ef8bedab8d73c0117e1aeaf1ba0,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTf4c3a48f27666ef8bedab8d73c0117e1aeaf1ba0 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7CgovLyBVcGRhdGVzIHNpbmNlIGxhc3QgY29udHJhY3QgCi8vIFByaWNlIGluY3JlYXNlIGlzIG5vdyBtYXggMjAwJSBmcm9tIDEwMCUgCi8vIG1pbiBQcmljZSBpcyBub3cgMSBzemFibyBmcm9tIDEgZmlubmV5LiBUaGlzIHByaWNlIGlzIG5vdCByZWNvbW1lbmRlZCBkdWUgdG8gZ2FzLiAKLy8gSWYgeW91IHN0YXJ0IGEgbmV3IGdhbWUgKGFtb3VudCBpbiBwb3QgaXMgMCwgYW5kIHRpbWVyIGhhc24ndCBzdGFydGVkKSB0aGVuIHlvdSB3aWxsIHBheSBOTyBmZWVzCi8vIFRoaXMgbWVhbnMgdGhhdCB5b3UgY2FuIGFsd2F5cyBzdGFydCBhIGdhbWUgd2l0aG91dCBhbnkgcmlzay4gCi8vIElmIG5vIG9uZSBkZWNpZGVzIHRvIGJ1eSwgdGhlbiB5b3UgY2FuIHBheSBvdXQgYmFjaywgYW5kIHlvdSB3aWxsIGdldCB0aGUgcG90LCB3aGljaCBpcyAxMDAlIG9mIHlvdXIgcGF5bWVudCBiYWNrISEKCi8vIFdBUk5JTkcKLy8gSUYgU0lURSBHT0VTIERPV04sIFRIRU4gWU9VIENBTiBTVElMTCBLRUVQIFBMQVlJTkcgVEhFIEdBTUUgCi8vIElOU1RSVUNUSU9OUzoKLy8gR08gVE8gUkVNSVguRVRIRVJFVU0uT1JHLCBVUExPQUQgVEhJUyBDT05UUkFDVCwgQU5EIFRIRU4gTE9BRCBUSElTIENPTlRSQUNUIEZST00gQUREUkVTUyAKLy8gTUFLRSBTVVJFIFlPVSBBUkUgQ09OTkVDVEVEIFdJVEggTUVUQU1BU0sgVE8gTUFJTk5FVCAKLy8gTk9XIFlPVSBDQU4gQ0FMTCBGVU5DVElPTlMgCi8vIEVYOyBDQUxMIFBBWU9VVChJRCkgU08gWU9VIENBTiBQQVkgT1VUIElGIFlPVSBXT04gQSBDQVJELiAKLy8gTk9URTogU0lURVMgV0hJQ0ggSE9TVCBVSSBBUkUgTk9UIFNVUFBPU0VEIFRPIEdPIERPV04KCmNvbnRyYWN0IEl0ZW1NYXJrZXR7CglhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgkvLyA1MDAgLyAxMDAwMCA9IDUlCgl1aW50MTYgcHVibGljIGRldkZlZSA9IDUwMDsKCXVpbnQyNTYgcHVibGljIEl0ZW1DcmVhdGVQcmljZSA9IDAuMDIgZXRoZXI7CgogICAgLy8gbm90ZSwgb24gZXRoZXJzY2FuIHlvdSBjYW4gc2VlIHRoZXNlIGl0ZW0gY2FsbHMKICAgIC8vIGlmIHlvdSBidXkgYW4gaXRlbSwgdGhlIFRYIHdpbGwgY2FsbCBJdGVtQ3JlYXRlZCB3aXRoIHRoZSBpZCBpdCBnZXRzIC0gd2hpY2ggeW91IGNhbiBzZWUgb24gZXRoZXJzY2FuIQoJZXZlbnQgSXRlbUNyZWF0ZWQodWludDI1NiBpZCk7CglldmVudCBJdGVtQm91Z2h0KHVpbnQyNTYgaWQpOwoJZXZlbnQgSXRlbVdvbih1aW50MjU2IGlkKTsKCS8vZXZlbnQgSXRlbUNyZWF0aW9uRXJyb3Ioc3RyaW5nIGVycik7CgoJc3RydWN0IEl0ZW17CgkJdWludDMyIHRpbWVyOwoJCXVpbnQyNTYgdGltZXN0YW1wOwoJCXVpbnQxNiBwcmljZUluY3JlYXNlOwoJCXVpbnQyNTYgcHJpY2U7CgkJdWludDI1NiBhbW91bnQ7CgkJdWludDI1NiBtaW5QcmljZTsKCQl1aW50MTYgY3JlYXRvckZlZTsKCQl1aW50MTYgcHJldmlvdXNGZWU7CgkJdWludDE2IHBvdEZlZTsKCgkJYWRkcmVzcyBjcmVhdG9yOwoJCWFkZHJlc3Mgb3duZXI7CgkJc3RyaW5nIHF1b3RlOwoJCXN0cmluZyBuYW1lOwoJfSAKCgltYXBwaW5nICh1aW50MjU2ID0+IEl0ZW0pIHB1YmxpYyBJdGVtczsKCgl1aW50MjU2IHB1YmxpYyBuZXh0X2l0ZW1faW5kZXggPSAwOwoKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpewogICAgICAgIGlmIChtc2cuc2VuZGVyID09IG93bmVyKXsKICAgICAgICAgICAgXzsKICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIEl0ZW1NYXJrZXQoKSBwdWJsaWN7CiAgICAJb3duZXIgPSBtc2cuc2VuZGVyOwogICAgCS8vIEFkZCBpdGVtcyAKICAgICAgIAogICAgCiAgICAgICAgCiAgICB9CiAgICAKICAgIHVpbnQ4IElTX1NUQVJURUQ9MDsKICAgIAogICAgZnVuY3Rpb24gY2FsbE9uY2UoKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgcmVxdWlyZShJU19TVEFSVEVEPT0wKTsKICAgICAgICBJU19TVEFSVEVEID0gMTsKICAgICAgICBBZGRJdGVtRXh0cmEoNjAwLCAxNTAwLCAxIGZpbm5leSwgMCwgMzAwMCwgIkJhdHRlcnkiLCBtc2cuc2VuZGVyKTsKICAgIAlBZGRJdGVtRXh0cmEoNjAwLCAxNTAsIDQgZmlubmV5LCAwLCA1MDAwLCAiVHdpZyIsIG1zZy5zZW5kZXIpOwogICAgCUFkZEl0ZW1FeHRyYSgzNjAwLCAyMDAwLCAxMCBmaW5uZXksIDAsIDQwMDAsICJTb2xhciBQYW5lbCIsIG1zZy5zZW5kZXIpOwogICAgCUFkZEl0ZW1FeHRyYSgzNjAwKjI0LCA1MDAwLCAxMCBmaW5uZXksIDAsIDUwMDAsICJNb29uIiwgbXNnLnNlbmRlcik7CiAgICAJQWRkSXRlbUV4dHJhKDM2MDAqMjQqNywgNzUwMCwgNTAgZmlubmV5LCAwLCA3MDAwLCAiRXRoZXJldW0iLCBtc2cuc2VuZGVyKTsKICAgIAkKICAgIAkvLyBQcmV2aW91cyBjb250cmFjdCBoYWQgaXRlbXMuIFJlY3JlYXRlIHRob3NlCiAgICAJCiAgICAgICAgQWRkSXRlbUV4dHJhKDIwMDAsIDEwMDAwLCAxMDAwMDAwMDAwMDAwMDAwLCA1MDAsIDIwMDAsICJzZWdmYXVsdCdzIGVnbyIsIDB4ZWY3NjRCQUM4YTQzOEU3RTQ5OGMyRTVmY0NmMGYxNzRjM0UzRjhkQik7CiAgICAgICAgQWRkSXRlbUV4dHJhKDMwMCwgMTAwMDAsIDEwMDAwMDAwMDAwMDAwMDAwLCA1MDAsIDI1MDAsICJIZWxsaW5hIiwgMHg4M2MwRWZjNmQ4QjE2RDg3QkZlMTMzNUFCNkJjQWIzRWQzOTYwMjg1KTsKICAgICAgICBBZGRJdGVtRXh0cmEoNjAwLCAxMDAwMCwgMTAwMDAwMDAwMDAwMDAwMDAwLCA1MDAsIDIwMDAsICJuaWdodG1hbidzIGdhbWJpdCIsIDB4NUMwMzVCYjRDYjdkYWNiZmVFMDc2QTVlNjFBQTM5YTEwZGEyRTk1Nik7CiAgICAgICAgQWRkSXRlbUV4dHJhKDM2MDAwMCwgMTAwMDAsIDUwMDAwMDAwMDAwMDAwMDAsIDIwMCwgMTgwMCwgIkJPSExJU0giLCAweEM4NGMxOEE4ODc4OWRCYTVCMGNBOUMxMzk3MzQzNUJiY0U3ZTk2MWQpOwogICAgICAgIEFkZEl0ZW1FeHRyYSg5MDAsIDIwMDAsIDIwMDAwMDAwMDAwMDAwMDAwLCAxMDAwLCAyMDAwLCAiUGhpbCdzIGxhYnlyaW50aCIsIDB4NDU3ZEVBNUY5YzE4NTQxOUVBNDdmZjgwZjg5NmQ5OGFhZGYxYzcyNyk7CiAgICAgICAgQWRkSXRlbUV4dHJhKDQyMCwgNjg5OSwgNDIwMDAwMDAwMDAwMDAwMCwgNTAwLCA0MDAwLCAiNjksNDIwIChOaWNlKSIsIDB4NDc3Y0NENDdkNjJhNDkyOUREMTE2NTFhYjgzNUUxMzJjOGVhYjNCOCk7CiAgICAgICAgbmV4dF9pdGVtX2luZGV4ID0gbmV4dF9pdGVtX2luZGV4ICsgMjsgLy8gdGhpcyB3YXMgYW4gaXRlbSBJIGNyZWF0ZWQuIFdlIHNraXAgdGhpcyBpdGVtLiBJdGVtIGFmdGVyIHRoaXMgdG9vLCB0byBjaGVjayBpZiAhPSBkZXZzIGNvdWxkIGNyZWF0ZSAKICAgICAgICAvLyBhcHBhcmVudGx5IHBlb3BsZSBjcmVhdGVkIHdyb25nIHNldHRpbmdzIHdoaWNoIGdvdCByZXZlcnRlZCBieSB0aGUgYWRkIGl0ZW0gZnVuY3Rpb24uIGl0IGxvb2tlZCBsaWtlIHN5c3RlbSB3YXMgd3JvbmcKICAgICAgICAKICAgICAgICAvLyB0ZncgbmV4dCBpdGVtIAogICAgICAgIC8vIGkgZGlkbnQgY3JlYXRlIHRoaXMgbmFtZSBsb2wgCiAgICAgICAgCiAgICAgICAgQWRkSXRlbUV4dHJhKDYwMCwgMTAwMDAsIDUwMDAwMDAwMDAwMDAwMDAsIDI1MDAsIDcwMDAsICJIRUxMSU5BIElTIEEgUkVUQVJERUQgREVHRU5FUkFURSBHQU1CTEVSIEFORCBBIEZVQ0tJTkcgRlVEIFFVRUVOIiwgMHgyNjU4MWQxOTgzY2VkODk1NUMxNzBlQjRkMzIyMkRDZDM4NDVhMDkyKTsKICAgICAgICAKICAgICAgICAvLyBjcmVhdGVkIHRoaXMsIG5pY2UgaG90IHBvdGF0byAKICAgICAgICAKICAgICAgICBBZGRJdGVtRXh0cmEoMTgwMCwgOTcwMCwgMjAwMDAwMDAwMDAwMDAwMCwgMCwgMjUwMCwgIkhvdCBQb3RhdG8iLCBtc2cuc2VuZGVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBDaGFuZ2VGZWUodWludDE2IF9mZWUpIHB1YmxpYyBvbmx5T3duZXJ7CiAgICAJcmVxdWlyZShfZmVlIDw9IDUwMCk7CiAgICAJZGV2RmVlID0gX2ZlZTsKICAgIH0KCiAgICBmdW5jdGlvbiBDaGFuZ2VJdGVtUHJpY2UodWludDI1NiBfbmV3UHJpY2UpIHB1YmxpYyBvbmx5T3duZXJ7CiAgICAJSXRlbUNyZWF0ZVByaWNlID0gX25ld1ByaWNlOwogICAgfQogICAgCiAgICAvLyBJTlRFUk5BTCBFWFRSQSBGVU5DVElPTiBUTyBNT1ZFIE9WRVIgT0xEIElURU1TIAogICAgCiAgICBmdW5jdGlvbiBBZGRJdGVtRXh0cmEodWludDMyIHRpbWVyLCB1aW50MTYgcHJpY2VJbmNyZWFzZSwgdWludDI1NiBtaW5QcmljZSwgdWludDE2IGNyZWF0b3JGZWUsIHVpbnQxNiBwb3RGZWUsIHN0cmluZyBuYW1lLCBhZGRyZXNzIG93bikgaW50ZXJuYWwgewogICAgCXVpbnQxNiBwcmV2aW91c0ZlZSA9IDEwMDAwIC0gZGV2RmVlIC0gcG90RmVlIC0gY3JlYXRvckZlZTsKICAgIAl2YXIgTmV3SXRlbSA9IEl0ZW0odGltZXIsIDAsIHByaWNlSW5jcmVhc2UsIG1pblByaWNlLCAwLCBtaW5QcmljZSwgY3JlYXRvckZlZSwgcHJldmlvdXNGZWUsIHBvdEZlZSwgb3duLCBhZGRyZXNzKDApLCAiIiwgbmFtZSk7CgogICAgCUl0ZW1zW25leHRfaXRlbV9pbmRleF0gPSBOZXdJdGVtOwoKICAgIAkvL2VtaXQgSXRlbUNyZWF0ZWQobmV4dF9pdGVtX2luZGV4KTsKCiAgICAJbmV4dF9pdGVtX2luZGV4ID0gYWRkKG5leHRfaXRlbV9pbmRleCwxKTsKICAgIH0KCiAgICBmdW5jdGlvbiBBZGRJdGVtKHVpbnQzMiB0aW1lciwgdWludDE2IHByaWNlSW5jcmVhc2UsIHVpbnQyNTYgbWluUHJpY2UsIHVpbnQxNiBjcmVhdG9yRmVlLCB1aW50MTYgcG90RmVlLCBzdHJpbmcgbmFtZSkgcHVibGljIHBheWFibGUgewogICAgCXJlcXVpcmUgKHRpbWVyID49IDMwMCk7CiAgICAJcmVxdWlyZSAodGltZXIgPCAzMTYyMjQwMCk7CgogICAgCXJlcXVpcmUocHJpY2VJbmNyZWFzZSA8PSAyMDAwMCk7CiAgICAJcmVxdWlyZShtaW5QcmljZSA+PSAoMSBzemFibykgJiYgbWluUHJpY2UgPD0gKDEgZXRoZXIpKTsKICAgIAlyZXF1aXJlKGNyZWF0b3JGZWUgPD0gMjUwMCk7CiAgICAJcmVxdWlyZShwb3RGZWUgPD0gMTAwMDApOwogICAgCXJlcXVpcmUoYWRkKGFkZChjcmVhdG9yRmVlLCBwb3RGZWUpLCBkZXZGZWUpIDw9IDEwMDAwKTsKCgoKICAgIAlpZiAobXNnLnNlbmRlciA9PSBvd25lcil7CiAgICAJCXJlcXVpcmUoY3JlYXRvckZlZSA9PSAwKTsKICAgIAkJaWYgKG1zZy52YWx1ZSA+IDApewogICAgCQkJb3duZXIudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgIAkJfQogICAgCX0KICAgIAllbHNlewogICAgCQl1aW50MjU2IGxlZnQgPSAwOwogICAgCQlpZiAobXNnLnZhbHVlID4gSXRlbUNyZWF0ZVByaWNlKXsKICAgIAkJCWxlZnQgPSBzdWIobXNnLnZhbHVlLCBJdGVtQ3JlYXRlUHJpY2UpOwogICAgCQkJbXNnLnNlbmRlci50cmFuc2ZlcihsZWZ0KTsKICAgIAkJfQogICAgCQllbHNlewogICAgCQkJaWYgKG1zZy52YWx1ZSA8IEl0ZW1DcmVhdGVQcmljZSl7CgogICAgCQkJCXJldmVydCgpOwogICAgCQkJfQogICAgCQl9CgogICAgCQlvd25lci50cmFuc2ZlcihzdWIobXNnLnZhbHVlLCBsZWZ0KSk7CiAgICAJfQoKCiAgICAgICAgcmVxdWlyZSAoZGV2RmVlICsgcG90RmVlICsgY3JlYXRvckZlZSA8PSAxMDAwMCk7CiAgICAgICAgCiAgICAJdWludDE2IHByZXZpb3VzRmVlID0gMTAwMDAgLSBkZXZGZWUgLSBwb3RGZWUgLSBjcmVhdG9yRmVlOwogICAgCXZhciBOZXdJdGVtID0gSXRlbSh0aW1lciwgMCwgcHJpY2VJbmNyZWFzZSwgbWluUHJpY2UsIDAsIG1pblByaWNlLCBjcmVhdG9yRmVlLCBwcmV2aW91c0ZlZSwgcG90RmVlLCBtc2cuc2VuZGVyLCBhZGRyZXNzKDApLCAiIiwgbmFtZSk7CgogICAgCUl0ZW1zW25leHRfaXRlbV9pbmRleF0gPSBOZXdJdGVtOwoKICAgIAllbWl0IEl0ZW1DcmVhdGVkKG5leHRfaXRlbV9pbmRleCk7CgogICAgCW5leHRfaXRlbV9pbmRleCA9IGFkZChuZXh0X2l0ZW1faW5kZXgsMSk7CiAgICB9CgogICAgZnVuY3Rpb24gUGF5b3V0KHVpbnQyNTYgaWQpIGludGVybmFsIHsKICAgIAl2YXIgVXNlZEl0ZW0gPSBJdGVtc1tpZF07CiAgICAJdWludDI1NiBQYWlkID0gVXNlZEl0ZW0uYW1vdW50OwogICAgCVVzZWRJdGVtLmFtb3VudCA9IDA7CgogICAgCVVzZWRJdGVtLm93bmVyLnRyYW5zZmVyKFBhaWQpOwoKICAgIAkvLyByZXNldCBnYW1lIAogICAgCVVzZWRJdGVtLm93bmVyID0gYWRkcmVzcygwKTsKICAgIAlVc2VkSXRlbS5wcmljZSA9IFVzZWRJdGVtLm1pblByaWNlOwogICAgCVVzZWRJdGVtLnRpbWVzdGFtcCA9IDA7CgogICAgCWVtaXQgSXRlbVdvbihpZCk7CgogICAgfQoKCiAgICBmdW5jdGlvbiBUYWtlUHJpemUodWludDI1NiBpZCkgcHVibGljIHsKICAgIAlyZXF1aXJlKGlkIDwgbmV4dF9pdGVtX2luZGV4KTsKICAgIAl2YXIgVXNlZEl0ZW0gPSBJdGVtc1tpZF07CiAgICAJcmVxdWlyZShVc2VkSXRlbS5vd25lciAhPSBhZGRyZXNzKDApKTsKICAgIAl1aW50MjU2IFRpbWluZ1RhcmdldCA9IGFkZChVc2VkSXRlbS50aW1lciwgVXNlZEl0ZW0udGltZXN0YW1wKTsKCiAgICAJaWYgKGJsb2NrLnRpbWVzdGFtcCA+IFRpbWluZ1RhcmdldCl7CiAgICAJCVBheW91dChpZCk7CiAgICAJCXJldHVybjsKICAgIAl9CiAgICAJZWxzZXsKICAgIAkJcmV2ZXJ0KCk7CiAgICAJfQogICAgfQoKCgoKICAgIGZ1bmN0aW9uIEJ1eUl0ZW0odWludDI1NiBpZCwgc3RyaW5nIHF1b3RlKSBwdWJsaWMgcGF5YWJsZXsKICAgIAlyZXF1aXJlKGlkIDwgbmV4dF9pdGVtX2luZGV4KTsKICAgIAl2YXIgVXNlZEl0ZW0gPSBJdGVtc1tpZF07CgoKICAgIAlpZiAoVXNlZEl0ZW0ub3duZXIgIT0gYWRkcmVzcygwKSAmJiBibG9jay50aW1lc3RhbXAgPiAoYWRkKFVzZWRJdGVtLnRpbWVzdGFtcCwgVXNlZEl0ZW0udGltZXIpKSl7CiAgICAJCVBheW91dChpZCk7CiAgICAJCWlmIChtc2cudmFsdWUgPiAwKXsKICAgIAkJCW1zZy5zZW5kZXIudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgIAkJfQogICAgCQlyZXR1cm47CiAgICAJfQoKICAgIAlyZXF1aXJlKG1zZy52YWx1ZSA+PSBVc2VkSXRlbS5wcmljZSk7CiAgICAJcmVxdWlyZShtc2cuc2VuZGVyICE9IG93bmVyKTsKICAgIAkvL3JlcXVpcmUobXNnLnNlbmRlciAhPSBVc2VkSXRlbS5jcmVhdG9yKTsgCiAgICAJcmVxdWlyZShtc2cuc2VuZGVyICE9IFVzZWRJdGVtLm93bmVyKTsKCiAgICAJdWludDI1NiBkZXZGZWVfdXNlZCA9IG11bChVc2VkSXRlbS5wcmljZSwgZGV2RmVlKSAvIDEwMDAwOwogICAgCXVpbnQyNTYgY3JlYXRvckZlZV91c2VkID0gbXVsKFVzZWRJdGVtLnByaWNlLCBVc2VkSXRlbS5jcmVhdG9yRmVlKSAvIDEwMDAwOwogICAgCXVpbnQyNTYgcHJldkZlZV91c2VkOwoKICAgCQlpZiAoVXNlZEl0ZW0ub3duZXIgPT0gYWRkcmVzcygwKSl7CiAgIAkJCS8vIGdhbWUgbm90IHN0YXJ0ZWQuIAogICAJCQkvLyBOTyBGRUVTIEFSRSBQQUlEIFdIRU4gVEhFIFRJTUVSIElTIFNUQVJUUwogICAJCQkvLyBJRiBOTyBPTkUgU1RBUlQgUExBWUlORyBHQU1FLCB0aGVuIHRoZSBwZXJzb24gd2hvIGJvdWdodCBmaXJzdCBjYW4gZ2V0IDEwMCUgb2YgaGlzIEVUSCBiYWNrIQogICAJCQlwcmV2RmVlX3VzZWQgPSAwOwogICAJCQlkZXZGZWVfdXNlZCA9IDA7CiAgIAkJCWNyZWF0b3JGZWVfdXNlZCA9IDA7CiAgIAkJfQogICAJCWVsc2V7CiAgIAkJCXByZXZGZWVfdXNlZCA9IChtdWwoVXNlZEl0ZW0ucHJpY2UsIFVzZWRJdGVtLnByZXZpb3VzRmVlKSkgLyAxMDAwMDsKICAgCQkJVXNlZEl0ZW0ub3duZXIudHJhbnNmZXIocHJldkZlZV91c2VkKTsKICAgCQl9CgogICAJCWlmIChjcmVhdG9yRmVlX3VzZWQgIT0gMCl7CiAgIAkJCVVzZWRJdGVtLmNyZWF0b3IudHJhbnNmZXIoY3JlYXRvckZlZV91c2VkKTsKICAgCQl9CgogICAJCWlmIChkZXZGZWVfdXNlZCAhPSAwKXsKICAgCQkJb3duZXIudHJhbnNmZXIoZGV2RmVlX3VzZWQpOwogICAJCX0KICAgCQkKICAgCQlpZiAobXNnLnZhbHVlID4gVXNlZEl0ZW0ucHJpY2UpewogICAJCSAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKHN1Yihtc2cudmFsdWUsIFVzZWRJdGVtLnByaWNlKSk7CiAgIAkJfQoKICAgCQl1aW50MjU2IHBvdEZlZV91c2VkID0gc3ViKHN1YihzdWIoVXNlZEl0ZW0ucHJpY2UsIGRldkZlZV91c2VkKSwgY3JlYXRvckZlZV91c2VkKSwgcHJldkZlZV91c2VkKTsKCiAgIAkJVXNlZEl0ZW0uYW1vdW50ID0gYWRkKFVzZWRJdGVtLmFtb3VudCwgcG90RmVlX3VzZWQpOwogICAJCVVzZWRJdGVtLnRpbWVzdGFtcCA9IGJsb2NrLnRpbWVzdGFtcDsKICAgCQlVc2VkSXRlbS5vd25lciA9IG1zZy5zZW5kZXI7CiAgIAkJVXNlZEl0ZW0ucXVvdGUgPSBxdW90ZTsKICAgCQlVc2VkSXRlbS5wcmljZSA9IChVc2VkSXRlbS5wcmljZSAqIChhZGQoMTAwMDAsIFVzZWRJdGVtLnByaWNlSW5jcmVhc2UpKSkvMTAwMDA7CgogICAJCWVtaXQgSXRlbUJvdWdodChpZCk7CiAgICB9CiAgICAKCWZ1bmN0aW9uICgpIHBheWFibGUgcHVibGljIHsKCQkvLyBtc2cudmFsdWUgaXMgdGhlIGFtb3VudCBvZiBFdGhlciBzZW50IGJ5IHRoZSB0cmFuc2FjdGlvbi4KCQlpZiAobXNnLnZhbHVlID4gMCkgewoJCQltc2cuc2VuZGVyLnRyYW5zZmVyKG1zZy52YWx1ZSk7CgkJfQoJfQoJCgkKCQoJICAgIAogICAgLy8gTm90IGludGVyZXN0aW5nLCBzYWZlIG1hdGggZnVuY3Rpb25zCiAgICAKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgIGlmIChhID09IDApIHsKICAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgICAgcmV0dXJuIGM7CiAgIH0KCiAgIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgICAgcmV0dXJuIGM7CiAgIH0KCiAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICByZXR1cm4gYSAtIGI7CiAgIH0KCiAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICBhc3NlcnQoYyA+PSBhKTsKICAgICAgcmV0dXJuIGM7CiAgIH0KCgp9'.
	

]
