Class {
	#name : #SRTe750bbc8d86b7c88f9a6fda0eb8dad4bdbf48e22,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe750bbc8d86b7c88f9a6fda0eb8dad4bdbf48e22 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7Ci8qc3RhbmRhcnQgbGlicmFyeSBmb3IgdWludAoqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCB8fCBiID09IDApewogICAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgovKgpjb250cmFjdCB0byBpZGVudGlmeSBvd25lcgoqLwpjb250cmFjdCBPd25hYmxlIHsKCiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIGFkZHJlc3MgcHVibGljIG5ld093bmVyOwoKICBhZGRyZXNzIHB1YmxpYyB0ZWNoU3VwcG9ydDsKCiAgYWRkcmVzcyBwdWJsaWMgbmV3VGVjaFN1cHBvcnQ7CgogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgb25seVRlY2hTdXBwb3J0KCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHRlY2hTdXBwb3J0KTsKICAgIF87CiAgfQoKICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoX25ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgbmV3T3duZXIgPSBfbmV3T3duZXI7CiAgfQoKICBmdW5jdGlvbiBhY2NlcHRPd25lcnNoaXAoKSBwdWJsaWMgewogICAgaWYgKG1zZy5zZW5kZXIgPT0gbmV3T3duZXIpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyVGVjaFN1cHBvcnQgKGFkZHJlc3MgX25ld1N1cHBvcnQpIHB1YmxpY3sKICAgIHJlcXVpcmUgKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgbXNnLnNlbmRlciA9PSB0ZWNoU3VwcG9ydCk7CiAgICBuZXdUZWNoU3VwcG9ydCA9IF9uZXdTdXBwb3J0OwogIH0KCiAgZnVuY3Rpb24gYWNjZXB0U3VwcG9ydCgpIHB1YmxpY3sKICAgIGlmKG1zZy5zZW5kZXIgPT0gbmV3VGVjaFN1cHBvcnQpewogICAgICB0ZWNoU3VwcG9ydCA9IG5ld1RlY2hTdXBwb3J0OwogICAgfQogIH0KfQoKLyoKRVJDIC0gMjAgdG9rZW4gY29udHJhY3QKKi8KY29udHJhY3QgVkdDVG9rZW4gaXMgT3duYWJsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CiAgLy8gVHJpZ2dlcmVkIHdoZW4gdG9rZW5zIGFyZSB0cmFuc2ZlcnJlZC4KICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKCiAgLy8gVHJpZ2dlcmVkIHdoZW5ldmVyIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIGlzIGNhbGxlZC4KICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiVkdDIjsKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiVm9vR2x1ZUMiOwogIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDI7CiAgdWludDI1NiBfdG90YWxTdXBwbHkgPSA1NTAwMDAwMCpwb3coMTAsZGVjaW1hbHMpOwoKICAvLyBPd25lciBvZiB0aGlzIGNvbnRyYWN0CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIC8vIEJhbGFuY2VzIGZvciBlYWNoIGFjY291bnQKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIC8vIE93bmVyIG9mIGFjY291bnQgYXBwcm92ZXMgdGhlIHRyYW5zZmVyIG9mIGFuIGFtb3VudCB0byBhbm90aGVyIGFjY291bnQKICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCiAgLy8gcG93ZXIgZnVuY3Rpb24KICBmdW5jdGlvbiBwb3codWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1Nil7IC8vcG93ZXIgZnVuY3Rpb24KICAgIHJldHVybiAoYSoqYik7CiAgfQoKICAvKgogIHN0YW5kYXJ0IEVSQy0yMCBmdW5jdGlvbgogIGdldCB0b3RhbCBzdXBwbHkgb2YgRVJDLTIwIFRva2VucwogICovCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gX3RvdGFsU3VwcGx5OwogIH0KCiAgLyoKICBzdGFuZGFydCBFUkMtMjAgZnVuY3Rpb24KICBnZXQgRVJDLTIwIHRva2VuIGJhbGFuY2UgZnJvbSBfYWRkcmVzcwogICovCgogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX2FkZHJlc3NdOwogIH0KCiAgLyoKICAvL3N0YW5kYXJ0IEVSQy0yMCBmdW5jdGlvbgogIHRyYW5zZmVyIHRva2VuIGZyb20gbWVzc2FnZSBzZW5kZXIgdG8gX3RvCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAvL3lvdSBjYW4ndCB0cmFuc2ZlciB0b2tlbiBiYWNrIHRvIHRva2VuIGNvbnRyYWN0CiAgICByZXF1aXJlKHRoaXMgIT0gX3RvKTsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlcixfdG8sX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGFkZHJlc3MgcHVibGljIGNyb3dkc2FsZUNvbnRyYWN0OwogIGJvb2wgZmxhZyA9IGZhbHNlOwogIC8vY29ubmVjdCB0byBjcm93ZHNhbGVDb250cmFjdCwgY2FuIGJlIHVzZSBvbmNlCiAgZnVuY3Rpb24gc2V0Q3Jvd2RzYWxlQ29udHJhY3QgKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyB7CiAgICByZXF1aXJlICghZmxhZyk7CiAgICBjcm93ZHNhbGVDb250cmFjdCA9IF9hZGRyZXNzOwogICAgcmVzZXJ2ZUJhbGFuY2VNYXBbX2FkZHJlc3NdID0gdHJ1ZTsKICAgIGZsYWcgPSB0cnVlOwogIH0KCiAgLyoKICBzdGFuZGFydCBFUkMtMjAgZnVuY3Rpb24KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbSgKICAgIGFkZHJlc3MgX2Zyb20sCiAgICBhZGRyZXNzIF90bywKICAgIHVpbnQyNTYgX2Ftb3VudAogICAgKXB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgcmVxdWlyZSh0aGlzICE9IF90byk7CgogICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF9hbW91bnQKICAgICAgICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF9hbW91bnQKICAgICAgICYmIF9hbW91bnQgPiAwCiAgICAgICAmJiBiYWxhbmNlc1tfdG9dICsgX2Ftb3VudCA+IGJhbGFuY2VzW190b10pIHsKICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfYW1vdW50OwogICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX2Ftb3VudDsKICAgICAgIGJhbGFuY2VzW190b10gKz0gX2Ftb3VudDsKICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgewogICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0KCiAgLyoKICBzdGFuZGFydCBFUkMtMjAgZnVuY3Rpb24KICBhcHByb3ZlIHlvdXIgdG9rZW4gYmFsYW5jZSB0byBhbm90aGVyIGFkZHJlc3MKICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50KXB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX2Ftb3VudDsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy9zdGFuZGFydCBFUkMtMjAgZnVuY3Rpb24KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9CgogIC8vQ29uc3RydWN0b3IKICBmdW5jdGlvbiBWR0NUb2tlbihhZGRyZXNzIF9hZGRyZXNzT3duZXIpIHB1YmxpYyB7CiAgICBvd25lciA9IF9hZGRyZXNzT3duZXI7CiAgICAvLyB0ZWNoU3VwcG9ydCA9IG1zZy5zZW5kZXI7CiAgICB0ZWNoU3VwcG9ydCA9IG1zZy5zZW5kZXI7CiAgICBiYWxhbmNlc1t0aGlzXSA9IF90b3RhbFN1cHBseTsKICAgIHRlYW1CYWxhbmNlTWFwW19hZGRyZXNzT3duZXJdID0gdHJ1ZTsKICAgIGJvdW50eUJhbGFuY2VNYXBbX2FkZHJlc3NPd25lcl0gPSB0cnVlOwogICAgYWR2aXNvcnNCYWxhbmNlTWFwW19hZGRyZXNzT3duZXJdID0gdHJ1ZTsKICAgIHJlZmVyYWxGdW5kQmFsYW5jZU1hcFtfYWRkcmVzc093bmVyXSA9IHRydWU7CiAgICByZXNlcnZlQmFsYW5jZU1hcFtfYWRkcmVzc093bmVyXSA9IHRydWU7CiAgfQogIC8vbWFrZSBpbnZlc3RvciBiYWxhbmNlID0gMAogIGZ1bmN0aW9uIGJ1cm5Ub2tlbnMoYWRkcmVzcyBfYWRkcmVzcykgcHVibGljewogICAgYmFsYW5jZXNbX2FkZHJlc3NdID0gMDsKICB9CiAgLy8gVG9rZW5zIHJlc2VydmUgKGxhc3Qgc2NyZWVuIGluIGRvY3VtZW50YXRpb24pCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgdGVhbUJhbGFuY2VNYXA7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgYm91bnR5QmFsYW5jZU1hcDsKICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBhZHZpc29yc0JhbGFuY2VNYXA7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgcmVmZXJhbEZ1bmRCYWxhbmNlTWFwOwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIHJlc2VydmVCYWxhbmNlTWFwOwoKCiAgdWludCBwcml2YXRlIGNyb3dkc2FsZUJhbGFuY2UgPSAzNjAwMDAwMCpwb3coMTAsZGVjaW1hbHMpOwoKICBmdW5jdGlvbiBnZXRDcm93ZHNhbGVCYWxhbmNlKCkgcHVibGljIHZpZXcgcmV0dXJucyh1aW50KSB7CiAgICByZXR1cm4gY3Jvd2RzYWxlQmFsYW5jZTsKICB9CgoKICB1aW50IHB1YmxpYyB0ZWFtQmFsYW5jZSA9IDEwMDAwMDAqcG93KDEwLGRlY2ltYWxzKTsKICB1aW50IHB1YmxpYyBib3VudHlCYWxhbmNlID0gMzAwMDAwMCpwb3coMTAsZGVjaW1hbHMpOwogIHVpbnQgcHVibGljIG93bmVyQmFsYW5jZSA9IDEwMDAwMDAqcG93KDEwLGRlY2ltYWxzKTsKICB1aW50IHB1YmxpYyBhZHZpc29yc0JhbGFuY2UgPSAxMDAwMDAwKnBvdygxMCxkZWNpbWFscyk7CiAgdWludCBwdWJsaWMgcmVmZXJhbEZ1bmRCYWxhbmNlID0gMzAwMDAwMCpwb3coMTAsZGVjaW1hbHMpOwogIHVpbnQgcHVibGljIHJlc2VydmVCYWxhbmNlID0gMTAwMDAwMDAqcG93KDEwLGRlY2ltYWxzKTsKCiAgZnVuY3Rpb24gYWRkVFJBIChhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHRlYW1CYWxhbmNlTWFwW19hZGRyZXNzXSA9IHRydWU7CiAgfQoKICBmdW5jdGlvbiByZW1vdmVUUkEgKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyBvbmx5T3duZXIgewogICAgdGVhbUJhbGFuY2VNYXBbX2FkZHJlc3NdID0gZmFsc2U7CiAgfQoKICBmdW5jdGlvbiBhZGRCUkEgKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyBvbmx5T3duZXIgewogICAgYm91bnR5QmFsYW5jZU1hcFtfYWRkcmVzc10gPSB0cnVlOwogIH0KCiAgZnVuY3Rpb24gcmVtb3ZlQlJBIChhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgb25seU93bmVyIHsKICAgIGJvdW50eUJhbGFuY2VNYXBbX2FkZHJlc3NdID0gZmFsc2U7CiAgfQoKICBmdW5jdGlvbiBhZGRBUkEgKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyBvbmx5T3duZXIgewogICAgYWR2aXNvcnNCYWxhbmNlTWFwW19hZGRyZXNzXSA9IHRydWU7CiAgfQoKICBmdW5jdGlvbiByZW1vdmVBUkEgKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyBvbmx5T3duZXIgewogICAgYWR2aXNvcnNCYWxhbmNlTWFwW19hZGRyZXNzXSA9IGZhbHNlOwogIH0KCiAgZnVuY3Rpb24gYWRkRlJBIChhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlZmVyYWxGdW5kQmFsYW5jZU1hcFtfYWRkcmVzc10gPSB0cnVlOwogIH0KCiAgZnVuY3Rpb24gcmVtb3ZlRlJBIChhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlZmVyYWxGdW5kQmFsYW5jZU1hcFtfYWRkcmVzc10gPSBmYWxzZTsKICB9CgogIGZ1bmN0aW9uIGFkZFJSQSAoYWRkcmVzcyBfYWRkcmVzcykgcHVibGljIG9ubHlPd25lciB7CiAgICByZXNlcnZlQmFsYW5jZU1hcFtfYWRkcmVzc10gPSB0cnVlOwogIH0KCiAgZnVuY3Rpb24gcmVtb3ZlUlJBIChhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlc2VydmVCYWxhbmNlTWFwW19hZGRyZXNzXSA9IGZhbHNlOwogIH0KCiAgZnVuY3Rpb24gc2VuZFRlYW1CYWxhbmNlIChhZGRyZXNzIF9hZGRyZXNzLCB1aW50IF92YWx1ZSkgcHVibGljewogICAgcmVxdWlyZSh0ZWFtQmFsYW5jZU1hcFttc2cuc2VuZGVyXSk7CiAgICB0ZWFtQmFsYW5jZSA9IHRlYW1CYWxhbmNlLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbdGhpc10gPSBiYWxhbmNlc1t0aGlzXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19hZGRyZXNzXSA9IGJhbGFuY2VzW19hZGRyZXNzXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKHRoaXMsX2FkZHJlc3MsIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiBzZW5kQm91bnR5QmFsYW5jZSAoYWRkcmVzcyBfYWRkcmVzcywgdWludCBfdmFsdWUpIHB1YmxpY3sKICAgIHJlcXVpcmUoYm91bnR5QmFsYW5jZU1hcFttc2cuc2VuZGVyXSk7CiAgICBib3VudHlCYWxhbmNlID0gYm91bnR5QmFsYW5jZS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW3RoaXNdID0gYmFsYW5jZXNbdGhpc10uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfYWRkcmVzc10gPSBiYWxhbmNlc1tfYWRkcmVzc10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcih0aGlzLF9hZGRyZXNzLCBfdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gc2VuZEFkdmlzb3JzQmFsYW5jZSAoYWRkcmVzcyBfYWRkcmVzcywgdWludCBfdmFsdWUpIHB1YmxpY3sKICAgIHJlcXVpcmUoYWR2aXNvcnNCYWxhbmNlTWFwW21zZy5zZW5kZXJdKTsKICAgIGFkdmlzb3JzQmFsYW5jZSA9IGFkdmlzb3JzQmFsYW5jZS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW3RoaXNdID0gYmFsYW5jZXNbdGhpc10uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfYWRkcmVzc10gPSBiYWxhbmNlc1tfYWRkcmVzc10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcih0aGlzLF9hZGRyZXNzLCBfdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gc2VuZFJlZmVyYWxsRnVuZEJhbGFuY2UgKGFkZHJlc3MgX2FkZHJlc3MsIHVpbnQgX3ZhbHVlKSBwdWJsaWN7CiAgICByZXF1aXJlKHJlZmVyYWxGdW5kQmFsYW5jZU1hcFttc2cuc2VuZGVyXSk7CiAgICByZWZlcmFsRnVuZEJhbGFuY2UgPSByZWZlcmFsRnVuZEJhbGFuY2Uuc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1t0aGlzXSA9IGJhbGFuY2VzW3RoaXNdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX2FkZHJlc3NdID0gYmFsYW5jZXNbX2FkZHJlc3NdLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIodGhpcyxfYWRkcmVzcywgX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIHNlbmRSZXNlcnZlQmFsYW5jZSAoYWRkcmVzcyBfYWRkcmVzcywgdWludCBfdmFsdWUpIHB1YmxpY3sKICAgIHJlcXVpcmUocmVzZXJ2ZUJhbGFuY2VNYXBbbXNnLnNlbmRlcl0pOwogICAgcmVzZXJ2ZUJhbGFuY2UgPSByZXNlcnZlQmFsYW5jZS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW3RoaXNdID0gYmFsYW5jZXNbdGhpc10uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfYWRkcmVzc10gPSBiYWxhbmNlc1tfYWRkcmVzc10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcih0aGlzLF9hZGRyZXNzLCBfdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gc2VuZE93bmVyc0JhbGFuY2UgKGFkZHJlc3MgX2FkZHJlc3MsIHVpbnQgX3ZhbHVlKSBwdWJsaWMgb25seU93bmVyewogICAgb3duZXJCYWxhbmNlID0gb3duZXJCYWxhbmNlLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbdGhpc10gPSBiYWxhbmNlc1t0aGlzXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19hZGRyZXNzXSA9IGJhbGFuY2VzW19hZGRyZXNzXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKHRoaXMsX2FkZHJlc3MsIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiBzZW5kQ3Jvd2RzYWxlQmFsYW5jZSAoYWRkcmVzcyBfYWRkcmVzcywgdWludCBfdmFsdWUpIHB1YmxpYyB7CiAgICByZXF1aXJlIChtc2cuc2VuZGVyID09IGNyb3dkc2FsZUNvbnRyYWN0KTsKICAgIGNyb3dkc2FsZUJhbGFuY2UgPSBjcm93ZHNhbGVCYWxhbmNlLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbdGhpc10gPSBiYWxhbmNlc1t0aGlzXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19hZGRyZXNzXSA9IGJhbGFuY2VzW19hZGRyZXNzXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKHRoaXMsX2FkZHJlc3MsIF92YWx1ZSk7CiAgfQoKICBib29sIHByaXZhdGUgaXNSZWZlcnJhbEJhbGFuY2VzU2VuZGVkID0gZmFsc2U7CgogIGZ1bmN0aW9uIGdldFJlZkJhbFNlbmRlZCAoKSBwdWJsaWMgdmlldyByZXR1cm5zKGJvb2wpewogICAgICByZXR1cm4gaXNSZWZlcnJhbEJhbGFuY2VzU2VuZGVkOwogIH0KCgogIC8vIERhc2hib2FyZCBmdW5jdGlvbgogIGZ1bmN0aW9uIHJlZmVycmFsUHJvZ3JhbSAoYWRkcmVzc1tdIF9hZGRyZXNzZXMsIHVpbnRbXSBfdmFsdWVzLCB1aW50IF9zdW1tYXJ5KSBwdWJsaWMgb25seVRlY2hTdXBwb3J0IHsKICAgIHJlcXVpcmUgKF9zdW1tYXJ5IDw9IGdldENyb3dkc2FsZUJhbGFuY2UoKSk7CiAgICByZXF1aXJlKF9hZGRyZXNzZXMubGVuZ3RoID09IF92YWx1ZXMubGVuZ3RoKTsKICAgIGJhbGFuY2VzW3RoaXNdID0gYmFsYW5jZXNbdGhpc10uc3ViKF9zdW1tYXJ5KTsKICAgIGZvciAodWludCBpID0gMDsgaSA8IF9hZGRyZXNzZXMubGVuZ3RoOyBpKyspewogICAgICBiYWxhbmNlc1tfYWRkcmVzc2VzW2ldXSA9IGJhbGFuY2VzW19hZGRyZXNzZXNbaV1dLmFkZChfdmFsdWVzW2ldKTsKICAgICAgVHJhbnNmZXIodGhpcyxfYWRkcmVzc2VzW2ldLF92YWx1ZXNbaV0pOwogICAgfQogICAgaXNSZWZlcnJhbEJhbGFuY2VzU2VuZGVkID0gdHJ1ZTsKICB9CgogIC8vIGF0IHRoZSBlbmQgb2YgaWNvIGJ1cm4gdW5zb2xkIHRva2VucwogIGZ1bmN0aW9uIGZpbmlzaEljbygpIHB1YmxpY3sKICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGNyb3dkc2FsZUNvbnRyYWN0KTsKICAgICAgYmFsYW5jZXNbdGhpc10gPSBiYWxhbmNlc1t0aGlzXS5zdWIoY3Jvd2RzYWxlQmFsYW5jZSk7CiAgICAgIFRyYW5zZmVyKHRoaXMsMCxjcm93ZHNhbGVCYWxhbmNlKTsKICAgICAgX3RvdGFsU3VwcGx5ID0gX3RvdGFsU3VwcGx5LnN1Yihjcm93ZHNhbGVCYWxhbmNlKTsKICAgICAgY3Jvd2RzYWxlQmFsYW5jZSA9IDA7CiAgfQp9'.
	

]
