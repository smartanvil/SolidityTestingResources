Class {
	#name : #SRT23279920c2e84c337058c3aebc49e907481cc61f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT23279920c2e84c337058c3aebc49e907481cc61f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLiAKICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLiAKICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCBpcyBFUkMyMEJhc2ljIHsKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgIC8vIHJlcXVpcmUgKF92YWx1ZSA8PSBfYWxsb3dhbmNlKTsKCiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmaW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCn0KCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICBpZiAobmV3T3duZXIgIT0gYWRkcmVzcygwKSkgewogICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQogIH0KCn0KCi8qKgogKiBAdGl0bGUgUGF1c2FibGUKICogQGRldiBCYXNlIGNvbnRyYWN0IHdoaWNoIGFsbG93cyBjaGlsZHJlbiB0byBpbXBsZW1lbnQgYW4gZW1lcmdlbmN5IHN0b3AgbWVjaGFuaXNtLgogKi8KY29udHJhY3QgUGF1c2FibGUgaXMgT3duYWJsZSB7CiAgZXZlbnQgUGF1c2UoKTsKICBldmVudCBVbnBhdXNlKCk7CgogIGJvb2wgcHVibGljIHBhdXNlZCA9IGZhbHNlOwoKICAvKioKICAgKiBAZGV2IG1vZGlmaWVyIHRvIGFsbG93IGFjdGlvbnMgb25seSB3aGVuIHRoZSBjb250cmFjdCBJUyBwYXVzZWQKICAgKi8KICBtb2RpZmllciB3aGVuTm90UGF1c2VkKCkgewogICAgcmVxdWlyZSghcGF1c2VkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IG1vZGlmaWVyIHRvIGFsbG93IGFjdGlvbnMgb25seSB3aGVuIHRoZSBjb250cmFjdCBJUyBOT1QgcGF1c2VkCiAgICovCiAgbW9kaWZpZXIgd2hlblBhdXNlZCB7CiAgICByZXF1aXJlKHBhdXNlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHBhdXNlLCB0cmlnZ2VycyBzdG9wcGVkIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gcGF1c2UoKSBvbmx5T3duZXIgd2hlbk5vdFBhdXNlZCByZXR1cm5zIChib29sKSB7CiAgICBwYXVzZWQgPSB0cnVlOwogICAgUGF1c2UoKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHVucGF1c2UsIHJldHVybnMgdG8gbm9ybWFsIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gdW5wYXVzZSgpIG9ubHlPd25lciB3aGVuUGF1c2VkIHJldHVybnMgKGJvb2wpIHsKICAgIHBhdXNlZCA9IGZhbHNlOwogICAgVW5wYXVzZSgpOwogICAgcmV0dXJuIHRydWU7CiAgfQp9CgovKioKICogQHRpdGxlIFNsb3QgVGlja2V0IHRva2VuCiAqIEBkZXYgU2ltcGxlIEVSQzIwIFRva2VuIGV4YW1wbGUsIHdpdGggbWludGFibGUgdG9rZW4gY3JlYXRpb24KICogQGRldiBJc3N1ZTogKiBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5L2lzc3Vlcy8xMjAKICogQmFzZWQgb24gY29kZSBieSBUb2tlbk1hcmtldE5ldDogaHR0cHM6Ly9naXRodWIuY29tL1Rva2VuTWFya2V0TmV0L2ljby9ibG9iL21hc3Rlci9jb250cmFjdHMvTWludGFibGVUb2tlbi5zb2wKICovCiAKY29udHJhY3QgU2xvdFRpY2tldCBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKCiAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIlNsb3QgVGlja2V0IjsKICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSAwOwogIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIlNMT1QiOwogIHN0cmluZyBwdWJsaWMgdmVyc2lvbiA9ICIwLjEiOwoKICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwoKICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CiAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZChfYW1vdW50KTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKICAgIE1pbnQoX3RvLCBfYW1vdW50KTsKICAgIFRyYW5zZmVyKDB4MCwgX3RvLCBfYW1vdW50KTsgLy8gc28gaXQgaXMgZGlzcGxheWVkIHByb3Blcmx5IG9uIEV0aGVyU2NhbgogICAgcmV0dXJuIHRydWU7CiAgfQoKZnVuY3Rpb24gZGVzdHJveSgpIG9ubHlPd25lciB7CiAgICAvLyBUcmFuc2ZlciBFdGggdG8gb3duZXIgYW5kIHRlcm1pbmF0ZSBjb250cmFjdAogICAgc2VsZmRlc3RydWN0KG93bmVyKTsKICB9Cgp9Cgpjb250cmFjdCBTbG90IGlzIE93bmFibGUsIFBhdXNhYmxlIHsKICAgIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAgIC8vIHRoaXMgdG9rZW4gaXMgbGlrZSBhIHJlY2VpcHQgZm9yIHRoZSB0aWNrZXQsIGl0IHdvbnQgYWZmZWN0IHRoZSBwcml6ZSBkaXN0cmlidXRpb24KICAgIFNsb3RUaWNrZXQgcHVibGljIHRva2VuOwoKICAgIC8vIGV2ZXJ5IHBhcnRpY2lwYW50IGhhcyBhbiBhY2NvdW50IGluZGV4LCB0aGUgd2lubmVycyBhcmUgcGlja2VkIGZyb20gaGVyZQogICAgLy8gYWxsIHdpbm5lcnMgYXJlIHBpY2tlZCBpbiBvcmRlciBmcm9tIHRoZSBzaW5nbGUgcmFuZG9tIGludCAKICAgIC8vIG5lZWRzIHRvIGJlIGNsZWFyZWQgYWZ0ZXIgZXZlcnkgZ2FtZQogICAgbWFwcGluZyAodWludCA9PiBtYXBwaW5nICh1aW50ID0+IGFkZHJlc3MpKSBwYXJ0aWNpcGFudHM7IC8vIGdhbWUgbnVtYmVyID0+IGNvdW50ZXIgPT4gYWRkcmVzcwogICAgdWludDI1Nls4XSBwcml6ZXMgPSBbNCBldGhlciwgCiAgICAgICAgICAgICAgICAgICAgICAgIDIgZXRoZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIDEgZXRoZXIsIAogICAgICAgICAgICAgICAgICAgICAgICA1MDAgZmlubmV5LCAKICAgICAgICAgICAgICAgICAgICAgICAgNTAwIGZpbm5leSwgCiAgICAgICAgICAgICAgICAgICAgICAgIDUwMCBmaW5uZXksIAogICAgICAgICAgICAgICAgICAgICAgICA1MDAgZmlubmV5LCAKICAgICAgICAgICAgICAgICAgICAgICAgNTAwIGZpbm5leV07CiAgICAKICAgIHVpbnQ4ICAgY29uc3RhbnQgU0laRSA9IDEwMDsgLy8gc2l6ZSBvZiB0aGUgbG90dGVyeQogICAgdWludDMyICBjb25zdGFudCBKQUNLUE9UX1NJWkUgPSAxMDAwMDAwOyAvLyBvbmUgaW4gYSBtaWxsaW9uCiAgICB1aW50MzIgIGNvbnN0YW50IElOQUNUSVZJVFkgPSAxNjAwMDA7IC8vIGJsb2NrIGFmdGVyIHdoaWNoIHJlZnVuZHMgY2FuIGJlIGNsYWltZWQKICAgIHVpbnQyNTYgY29uc3RhbnQgcHVibGljIFBSSUNFID0gMTAwIGZpbm5leTsKICAgIAogICAgdWludDI1NiBwdWJsaWMgamFja3BvdEFtb3VudDsKICAgIHVpbnQyNTYgcHVibGljIGdhbWVOdW1iZXI7CiAgICB1aW50MjU2IHB1YmxpYyBnYW1lU3RhcnRlZDsKICAgIGJvb2wgICAgcHVibGljIHVuZGVzdHJveWFibGU7CiAgICBhZGRyZXNzIHdhbGxldDsKICAgIHVpbnQyNTYgY291bnRlcjsKCiAgICBldmVudCBQYXJ0aWNpcGFudEFkZGVkKGFkZHJlc3MgaW5kZXhlZCBfcGFydGljaXBhbnQsIHVpbnQyNTYgaW5kZXhlZCBfZ2FtZSwgdWludDI1NiBpbmRleGVkIF9udW1iZXIpOwogICAgZXZlbnQgUHJpemVBd2FyZGVkKHVpbnQyNTYgaW5kZXhlZCBfZ2FtZSAsIGFkZHJlc3MgaW5kZXhlZCBfd2lubmVyLCB1aW50MjU2IGluZGV4ZWQgX2Ftb3VudCk7CiAgICBldmVudCBKYWNrcG90QXdhcmRlZCh1aW50MjU2IGluZGV4ZWQgX2dhbWUsIGFkZHJlc3MgaW5kZXhlZCBfd2lubmVyLCB1aW50MjU2IGluZGV4ZWQgX2Ftb3VudCk7CiAgICBldmVudCBHYW1lUmVmdW5kZWQodWludDI1NiBfZ2FtZSk7CgogICAgZnVuY3Rpb24gU2xvdChhZGRyZXNzIF93YWxsZXQpIHBheWFibGUgewogICAgICAgIHRva2VuID0gbmV3IFNsb3RUaWNrZXQoKTsKICAgICAgICB3YWxsZXQgPSBfd2FsbGV0OwoKICAgICAgICBqYWNrcG90QW1vdW50ID0gbXNnLnZhbHVlOwogICAgICAgIGdhbWVOdW1iZXIgPSAwOwogICAgICAgIGNvdW50ZXIgPSAwOwogICAgICAgIGdhbWVTdGFydGVkID0gYmxvY2subnVtYmVyOwogICAgICAgIHVuZGVzdHJveWFibGUgPSBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbigpIHBheWFibGUgewogICAgICAgIC8vIGZhbGxiYWNrIGZ1bmN0aW9uIHRvIGJ1eSB0aWNrZXRzCiAgICAgICAgYnV5VGlja2V0c0Zvcihtc2cuc2VuZGVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBidXlUaWNrZXRzRm9yKGFkZHJlc3MgYmVuZWZpY2lhcnkpIHdoZW5Ob3RQYXVzZWQoKSBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKGJlbmVmaWNpYXJ5ICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPj0gUFJJQ0UpOwoKICAgICAgICAvLyBjYWxjdWxhdGUgbnVtYmVyIG9mIHRpY2tldHMsIGlzc3VlIHRva2VucyBhbmQgYWRkIHBhcnRpY2lwYW50CiAgICAgICAgLy8gZXZlcnkgKFBSSUNFKSBidXlzIGEgdGlja2V0LCB0aGUgcmVzdCBpcyByZXR1cm5lZAogICAgICAgIHVpbnQyNTYgY2hhbmdlID0gbXNnLnZhbHVlJVBSSUNFOwogICAgICAgIHVpbnQyNTYgbnVtYmVyT2ZUaWNrZXRzID0gbXNnLnZhbHVlLnN1YihjaGFuZ2UpLmRpdihQUklDRSk7CiAgICAgICAgdG9rZW4ubWludChiZW5lZmljaWFyeSwgbnVtYmVyT2ZUaWNrZXRzKTsKICAgICAgICBhZGRQYXJ0aWNpcGFudChiZW5lZmljaWFyeSwgbnVtYmVyT2ZUaWNrZXRzKTsKCiAgICAgICAgLy8gUmV0dXJuIGNoYW5nZSB0byBtc2cuc2VuZGVyCiAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihjaGFuZ2UpOwogICAgfQoKICAgIC8vIHByaXZhdGUgZnVuY3Rpb25zCgogICAgZnVuY3Rpb24gYWRkUGFydGljaXBhbnQoYWRkcmVzcyBfcGFydGljaXBhbnQsIHVpbnQyNTYgX251bWJlck9mVGlja2V0cykgcHJpdmF0ZSB7CiAgICAgICAgLy8gaWYgbnVtYmVyIG9mIHRpY2tldHMgZXhjZWVkcyB0aGUgc2l6ZSBvZiB0aGUgZ2FtZSwgdGlja2V0cyBhcmUgYWRkZWQgdG8gbmV4dCBnYW1lCgogICAgICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8IF9udW1iZXJPZlRpY2tldHM7IGkrKykgewogICAgICAgICAgICAvLyB1c2luZyBnYW1lTnVtYmVyIGluc3RlYWQgb2YgY291bnRlci9TSVpFIHNpbmNlIGdhbWVzIGNhbiBiZSBjYW5jZWxsZWQKICAgICAgICAgICAgcGFydGljaXBhbnRzW2dhbWVOdW1iZXJdW2NvdW50ZXIlU0laRV0gPSBfcGFydGljaXBhbnQ7IAogICAgICAgICAgICBQYXJ0aWNpcGFudEFkZGVkKF9wYXJ0aWNpcGFudCwgZ2FtZU51bWJlciwgY291bnRlciVTSVpFKTsKCiAgICAgICAgICAgIC8vIG1zZy5zZW5kZXIgdHJpZ2dlcnMgdGhlIGRyYXdpbmcgb2YgbG90cwogICAgICAgICAgICBpZiAoKytjb3VudGVyJVNJWkUgPT0gMCkgewogICAgICAgICAgICAgICAgYXdhcmRQcml6ZXMoKTsKICAgICAgICAgICAgICAgIC8vIFNwbGl0IHRoZSByZXN0LCBpbmNyZWFzZSBnYW1lIG51bWJlcgogICAgICAgICAgICAgICAgZGlzdHJpYnV0ZVJlbWFpbmluZygpOwogICAgICAgICAgICAgICAgaW5jcmVhc2VHYW1lKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gbG9vcCBjb250aW51ZXMgaWYgdGhlcmUgYXJlIG1vcmUgdGlja2V0cwogICAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gcmFuZCh1aW50MzIgX3NpemUpIGNvbnN0YW50IHByaXZhdGUgcmV0dXJucyAodWludDI1NiByYW5kb21OdW1iZXIpIHsKICAgICAgLy8gUHJvdmlkaW5nIHJhbmRvbSBudW1iZXJzIHdpdGhpbiBhIGRldGVybWluaXN0aWMgc3lzdGVtIGlzLCBuYXR1cmFsbHksIGFuIGltcG9zc2libGUgdGFzay4KICAgICAgLy8gSG93ZXZlciwgd2UgY2FuIGFwcHJveGltYXRlIHdpdGggcHNldWRvLXJhbmRvbSBudW1iZXJzIGJ5IHV0aWxpc2luZyBkYXRhIHdoaWNoIGlzIGdlbmVyYWxseSB1bmtub3dhYmxlCiAgICAgIC8vIGF0IHRoZSB0aW1lIG9mIHRyYW5zYWN0aW5nLiBTdWNoIGRhdGEgbWlnaHQgaW5jbHVkZSB0aGUgYmxvY2vigJlzIGhhc2guCiAgICAgIC8vIFRoZSBsYXN0IGJsb2NraGFzaCB1c2VkIHNob3VsZCBiZSByYW5kb20gZW5vdWdoLiBBZGRpbmcgdGhlIHJlc3Qgb2YgdGhlc2UgZGV0ZXJtaW5pc3RpYyBmYWN0b3JzIGRvZXNuJ3QgY2hhbmdlIG11Y2guCgogICAgICAgIHJldHVybiB1aW50MjU2KGtlY2NhazI1NihibG9jay5ibG9ja2hhc2goYmxvY2subnVtYmVyLTEpLCBibG9jay5ibG9ja2hhc2goYmxvY2subnVtYmVyLTEwMCkpKSVfc2l6ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhd2FyZFByaXplcygpIHByaXZhdGUgewogICAgICAgIHVpbnQyNTYgd2lubmVySW5kZXggPSByYW5kKFNJWkUpOwogICAgICAgIC8vIGhhc2ggcmVzdWx0IG9mIHR3byBkaWdpdCBudW1iZXIgKGluZGV4KSB3aXRoIDQgbGVhZGluZyB6ZXJvZXMgd2lsbCB3aW4KICAgICAgICBib29sIGphY2twb3RXb24gPSB3aW5uZXJJbmRleCA9PSByYW5kKEpBQ0tQT1RfU0laRSk7IAoKICAgICAgICAvLyBsb29wIHRocm91Z2h0IHRoZSBwcml6ZXMgCiAgICAgICAgZm9yICh1aW50OCBpID0gMDsgaSA8IHByaXplcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoamFja3BvdFdvbiAmJiBpPT0wKSB7CiAgICAgICAgICAgICAgICBkaXN0cmlidXRlSmFja3BvdCh3aW5uZXJJbmRleCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHBhcnRpY2lwYW50c1tnYW1lTnVtYmVyXVt3aW5uZXJJbmRleCVTSVpFXS50cmFuc2Zlcihwcml6ZXNbaV0pOyAvLyBtc2cuc2VuZGVyIHBheXMgdGhlIGdhcywgaGUncyByZWZ1bmRlZCBsYXRlciwgJSB0byB3cmFwIGFyb3VuZAogICAgICAgICAgICBQcml6ZUF3YXJkZWQoZ2FtZU51bWJlciwgcGFydGljaXBhbnRzW2dhbWVOdW1iZXJdW3dpbm5lckluZGV4JVNJWkVdLCBwcml6ZXNbaV0pOwoKICAgICAgICAgICAgLy8gaW5jcmVtZW50IGluZGV4IHRvIHRoZSBuZXh0IHdpbm5lciB0byByZWNlaXZlIHRoZSBuZXh0IHByaXplCiAgICAgICAgICAgIHdpbm5lckluZGV4Kys7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGRpc3RyaWJ1dGVKYWNrcG90KHVpbnQyNTYgX3dpbm5lckluZGV4KSBwcml2YXRlIHsKICAgICAgICBwYXJ0aWNpcGFudHNbZ2FtZU51bWJlcl1bX3dpbm5lckluZGV4XS50cmFuc2ZlcihqYWNrcG90QW1vdW50KTsKICAgICAgICBKYWNrcG90QXdhcmRlZChnYW1lTnVtYmVyLCAgcGFydGljaXBhbnRzW2dhbWVOdW1iZXJdW193aW5uZXJJbmRleF0sIGphY2twb3RBbW91bnQpOwogICAgICAgIGphY2twb3RBbW91bnQgPSAwOyAvLyBsYXRlciBvbiBpbiB0aGUgY29kZSBzZXF1ZW5jZSBmdW5kcyB3aWxsIGJlIGFkZGVkCiAgICB9CgogICAgZnVuY3Rpb24gZGlzdHJpYnV0ZVJlbWFpbmluZygpIHByaXZhdGUgewogICAgICAgIGphY2twb3RBbW91bnQgPSBqYWNrcG90QW1vdW50LmFkZCgyNTAgZmlubmV5KTsgICAvLyBhZGQgdG8gamFja3BvdAogICAgICAgIHdhbGxldC50cmFuc2ZlcigyNDkgZmlubmV5KTsgICAgICAgICAgICAgICAgICAgICAvLyAqY2FzaCByZWdpc3RlciBzb3VuZCoKICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKDEgZmlubmV5KTsgICAgICAgICAgICAgICAgICAgLy8gcmVwYXkgZ2FzIHRvIG1zZy5zZW5kZXIKICAgIH0KCiAgICBmdW5jdGlvbiBpbmNyZWFzZUdhbWUoKSBwcml2YXRlIHsKICAgICAgICBnYW1lTnVtYmVyKys7CiAgICAgICAgZ2FtZVN0YXJ0ZWQgPSBibG9jay5udW1iZXI7CiAgICB9CgogICAgLy8gcHVibGljIGZ1bmN0aW9ucwoKICAgIGZ1bmN0aW9uIHJlZnVuZEdhbWVBZnRlckxvbmdJbmFjdGl2aXR5KCkgewogICAgICAgIHJlcXVpcmUoYmxvY2subnVtYmVyLnN1YihnYW1lU3RhcnRlZCkgPj0gSU5BQ1RJVklUWSk7CiAgICAgICAgcmVxdWlyZShjb3VudGVyJVNJWkUgIT0gMCk7IC8vIG5vdGhpbmcgdG8gcmVmdW5kCiAgICAgICAgLy8gcmVmdW5kcyBmb3IgZXZlcnlib2R5IGNhbiBiZSByZXF1ZXN0ZWQgYWZ0ZXIgdGhlIGdhbWUgaGFzIGdvbmUgKElOQUNUSVZJVFkpIGJsb2NrcyB3aXRob3V0IGEgY29uY2x1c2lvbgoKICAgICAgICBmb3IgKHVpbnQ4IGkgPSAwOyBpIDwgY291bnRlciVTSVpFOyBpKyspIHsgLy8gbm90IGNvdW50ZXIuc2l6ZSwgYnV0IG1vZHVsdXMgb2YgU0laRQogICAgICAgICAgICBwYXJ0aWNpcGFudHNbZ2FtZU51bWJlcl1baV0udHJhbnNmZXIoUFJJQ0UpOwogICAgICAgIH0KCiAgICAgICAgLy8gcmVkdWNlIHRoZSBjb3VudGVyCiAgICAgICAgY291bnRlciAtPSBjb3VudGVyJVNJWkU7CiAgICAgICAgR2FtZVJlZnVuZGVkKGdhbWVOdW1iZXIpOwogICAgICAgIGluY3JlYXNlR2FtZSgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGRlc3Ryb3koKSBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoIXVuZGVzdHJveWFibGUpOwogICAgICAgIC8vIFRyYW5zZmVyIEV0aCB0byBvd25lciBhbmQgdGVybWluYXRlIGNvbnRyYWN0CiAgICAgICAgLy8gdW5mYWlyLCBzaW5jZSB3ZSBjb3VsZCBhYnNjb25kIHdpdGggdGhlIGphY2twb3QsIHNvIGl0IGlzIGRpc2FibGVkIGluIHByb2R1Y3Rpb24KICAgICAgICB0b2tlbi5kZXN0cm95KCk7CiAgICAgICAgc2VsZmRlc3RydWN0KG93bmVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VXYWxsZXQoYWRkcmVzcyBfbmV3V2FsbGV0KSBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoX25ld1dhbGxldCAhPSAweDApOwogICAgICAgIHdhbGxldCA9IF9uZXdXYWxsZXQ7CiAgICB9CgogICAgZnVuY3Rpb24gbWFrZVVuZGVzdHJveWFibGUoKSBvbmx5T3duZXIgewogICAgICAgIHVuZGVzdHJveWFibGUgPSB0cnVlOwogICAgICAgIC8vIGNhbid0IGJlIHJldmVyc2VkLCBqYWNrcG90IG9ubHkgY2xhaW1hYmxlIGJ5IGFjdHVhbCB3aW4KICAgIH0KCn0='.
	

]
