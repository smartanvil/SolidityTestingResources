Class {
	#name : #SRT123ab195dd38b1b40510d467a6a359b201af056f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT123ab195dd38b1b40510d467a6a359b201af056f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7Cgpjb250cmFjdCBFSVAyMEludGVyZmFjZSB7CiAgICAvKiBUaGlzIGlzIGEgc2xpZ2h0IGNoYW5nZSB0byB0aGUgRVJDMjAgYmFzZSBzdGFuZGFyZC4KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpOwogICAgaXMgcmVwbGFjZWQgd2l0aDoKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgVGhpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgYSBnZXR0ZXIgZnVuY3Rpb24gZm9yIHRoZSB0b3RhbFN1cHBseS4KICAgIFRoaXMgaXMgbW92ZWQgdG8gdGhlIGJhc2UgY29udHJhY3Qgc2luY2UgcHVibGljIGdldHRlciBmdW5jdGlvbnMgYXJlIG5vdAogICAgY3VycmVudGx5IHJlY29nbmlzZWQgYXMgYW4gaW1wbGVtZW50YXRpb24gb2YgdGhlIG1hdGNoaW5nIGFic3RyYWN0CiAgICBmdW5jdGlvbiBieSB0aGUgY29tcGlsZXIuCiAgICAqLwogICAgLy8vIHRvdGFsIGFtb3VudCBvZiB0b2tlbnMKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIGZyb20gd2hpY2ggdGhlIGJhbGFuY2Ugd2lsbCBiZSByZXRyaWV2ZWQKICAgIC8vLyBAcmV0dXJuIFRoZSBiYWxhbmNlCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CgogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYAogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX3NwZW5kZXJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2ZlcgogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgLy8vIEByZXR1cm4gQW1vdW50IG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudAogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CgogICAgLy8gc29saGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaW1wbGUtZXZlbnQtZnVuYy1uYW1lCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwp9Cgpjb250cmFjdCBPd25hYmxlIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgYWRkcmVzcyBwdWJsaWMgbmV3T3duZXI7CgogICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvKTsKCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBUcmFuc2ZlciBvd25lcnNoaXAgZnJvbSBgb3duZXJgIHRvIGBuZXdPd25lcmAKICAgIC8vLyBAcGFyYW0gX25ld093bmVyIFRoZSBuZXcgY29udHJhY3Qgb3duZXIKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICBpZiAoX25ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgICAgICAgbmV3T3duZXIgPSBfbmV3T3duZXI7CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBAbm90aWNlIGFjY2VwdCBvd25lcnNoaXAgb2YgdGhlIGNvbnRyYWN0CiAgICBmdW5jdGlvbiBhY2NlcHRPd25lcnNoaXAoKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBuZXdPd25lcik7CiAgICAgICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQoKfQoKY29udHJhY3QgTGVnb2xhc0Jhc2UgaXMgT3duYWJsZSB7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZXM7CgogICAgLy8gSW5pdGlhbCBhbW91bnQgcmVjZWl2ZWQgZnJvbSB0aGUgcHJlLXNhbGUgKGRvZXNuJ3QgaW5jbHVkZSBib251cykKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGluaXRpYWxBbGxvY2F0aW9uczsKICAgIC8vIEluaXRpYWwgYW1vdW50IHJlY2VpdmVkIGZyb20gdGhlIHByZS1zYWxlIChpbmNsdWRlcyBib251cykKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGFsbG9jYXRpb25zOwogICAgLy8gRmFsc2UgaWYgcGFydCBvZiB0aGUgYWxsb2NhdGVkIGFtb3VudCBpcyBzcGVudAogICAgbWFwcGluZyAodWludDI1NiA9PiBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkpIHB1YmxpYyBlbGlnaWJsZUZvckJvbnVzOwogICAgLy8gdW5zcGVudCBhbGxvY2F0ZWQgYW1vdW50IGJ5IHBlcmlvZAogICAgbWFwcGluZyAodWludDI1NiA9PiB1aW50MjU2KSBwdWJsaWMgdW5zcGVudEFtb3VudHM7CiAgICAvLyBMaXN0IG9mIGZvdW5kZXJzIGFkZHJlc3NlcwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgZm91bmRlcnM7CiAgICAvLyBMaXN0IG9mIGFkdmlzb3JzIGFkZHJlc3NlcwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgYWR2aXNvcnM7CgogICAgLy8gUmVsZWFzZSBkYXRlcyBmb3IgYWR2aW9yczogb25lIHR3ZWxmdGggcmVsZWFzZWQgZWFjaCBtb250aC4KICAgIHVpbnQyNTZbMTJdIHB1YmxpYyBBRFZJU09SU19MT0NLX0RBVEVTID0gWzE1MjEwNzIwMDAsIDE1MjM3NTA0MDAsIDE1MjYzNDI0MDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE1MjkwMjA4MDAsIDE1MzE2MTI4MDAsIDE1MzQyOTEyMDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE1MzY5Njk2MDAsIDE1Mzk1NjE2MDAsIDE1NDIyNDAwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE1NDQ4MzIwMDAsIDE1NDc1MTA0MDAsIDE1NTAxODg4MDBdOwogICAgLy8gUmVsZWFzZSBkYXRlcyBmb3IgZm91bmRlcnM6IEFmdGVyIG9uZSB5ZWFyLCBvbmUgdHdlbGZ0aCByZWxlYXNlZCBlYWNoIG1vbnRoLgogICAgdWludDI1NlsxMl0gcHVibGljIEZPVU5ERVJTX0xPQ0tfREFURVMgPSBbMTU1MjYwODAwMCwgMTU1NTI4NjQwMCwgMTU1Nzg3ODQwMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTU2MDU1NjgwMCwgMTU2MzE0ODgwMCwgMTU2NTgyNzIwMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTU2ODUwNTYwMCwgMTU3MTA5NzYwMCwgMTU3Mzc3NjAwMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTU3NjM2ODAwMCwgMTU3OTA0NjQwMCwgMTU4MTcyNDgwMF07CgogICAgLy8gQm9udXMgZGF0ZXM6IGVhY2ggNiBtb250aHMgZHVyaW5nIDIgeWVhcnMKICAgIHVpbnQyNTZbNF0gcHVibGljIEJPTlVTX0RBVEVTID0gWzE1MzQyOTEyMDAsIDE1NTAxODg4MDAsIDE1NjU4MjcyMDAsIDE1ODE3MjQ4MDBdOwoKICAgIC8vLyBAcGFyYW0gX2FkZHJlc3MgVGhlIGFkZHJlc3MgZnJvbSB3aGljaCB0aGUgbG9ja2VkIGFtb3VudCB3aWxsIGJlIHJldHJpZXZlZAogICAgLy8vIEByZXR1cm4gVGhlIGFtb3VudCBsb2NrZWQgZm9yIF9hZGRyZXNzLgogICAgZnVuY3Rpb24gZ2V0TG9ja2VkQW1vdW50KGFkZHJlc3MgX2FkZHJlc3MpIGludGVybmFsIHZpZXcgcmV0dXJucyAodWludDI1NiBsb2NrZWRBbW91bnQpIHsKICAgICAgICAvLyBPbmx5IGZvdW5kZXJzIGFuZCBhZHZpc29ycyBoYXZlIGxvY2tzCiAgICAgICAgaWYgKCFhZHZpc29yc1tfYWRkcmVzc10gJiYgIWZvdW5kZXJzW19hZGRyZXNzXSkgcmV0dXJuIDA7CiAgICAgICAgLy8gRGV0ZXJtaW5lIHJlbGVhc2UgZGF0ZXMKICAgICAgICB1aW50MjU2WzEyXSBtZW1vcnkgbG9ja0RhdGVzID0gYWR2aXNvcnNbX2FkZHJlc3NdID8gQURWSVNPUlNfTE9DS19EQVRFUyA6IEZPVU5ERVJTX0xPQ0tfREFURVM7CiAgICAgICAgLy8gRGV0ZXJtaW5lIGhvdyBtYW55IHR3ZWxmdGhzIGFyZSBsb2NrZWQKICAgICAgICBmb3IgKHVpbnQ4IGkgPSAxMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgaWYgKG5vdyA+PSBsb2NrRGF0ZXNbaV0pIHsKICAgICAgICAgICAgICAgIHJldHVybiAoYWxsb2NhdGlvbnNbX2FkZHJlc3NdIC8gMTIpICogKDExIC0gaSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFsbG9jYXRpb25zW19hZGRyZXNzXTsKICAgIH0KCiAgICBmdW5jdGlvbiB1cGRhdGVCb251c0VsaWdpYml0eShhZGRyZXNzIF9mcm9tKSBpbnRlcm5hbCB7CiAgICAgICAgaWYgKG5vdyA8IEJPTlVTX0RBVEVTWzNdICYmCiAgICAgICAgICAgIGluaXRpYWxBbGxvY2F0aW9uc1tfZnJvbV0gPiAwICYmCiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSA8IGFsbG9jYXRpb25zW19mcm9tXSkgewogICAgICAgICAgICBmb3IgKHVpbnQ4IGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAobm93IDwgQk9OVVNfREFURVNbaV0gJiYgZWxpZ2libGVGb3JCb251c1tCT05VU19EQVRFU1tpXV1bX2Zyb21dKSB7CiAgICAgICAgICAgICAgICAgICAgdW5zcGVudEFtb3VudHNbQk9OVVNfREFURVNbaV1dIC09IGluaXRpYWxBbGxvY2F0aW9uc1tfZnJvbV07CiAgICAgICAgICAgICAgICAgICAgZWxpZ2libGVGb3JCb251c1tCT05VU19EQVRFU1tpXV1bX2Zyb21dID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCmNvbnRyYWN0IEVJUDIwIGlzIEVJUDIwSW50ZXJmYWNlLCBMZWdvbGFzQmFzZSB7CgogICAgdWludDI1NiBjb25zdGFudCBwcml2YXRlIE1BWF9VSU5UMjU2ID0gMioqMjU2IC0gMTsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgcHVibGljIGFsbG93ZWQ7CgoKICAgIC8qCiAgICBOT1RFOgogICAgVGhlIGZvbGxvd2luZyB2YXJpYWJsZXMgYXJlIE9QVElPTkFMIHZhbml0aWVzLiBPbmUgZG9lcyBub3QgaGF2ZSB0byBpbmNsdWRlIHRoZW0uCiAgICBUaGV5IGFsbG93IG9uZSB0byBjdXN0b21pc2UgdGhlIHRva2VuIGNvbnRyYWN0ICYgaW4gbm8gd2F5IGluZmx1ZW5jZXMgdGhlIGNvcmUgZnVuY3Rpb25hbGl0eS4KICAgIFNvbWUgd2FsbGV0cy9pbnRlcmZhY2VzIG1pZ2h0IG5vdCBldmVuIGJvdGhlciB0byBsb29rIGF0IHRoaXMgaW5mb3JtYXRpb24uCiAgICAqLwogICAgc3RyaW5nIHB1YmxpYyBuYW1lOyAgICAgICAgICAgICAgICAgICAvL2ZhbmN5IG5hbWU6IGVnIFNpbW9uIEJ1Y2tzCiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7ICAgICAgICAgICAgICAgIC8vSG93IG1hbnkgZGVjaW1hbHMgdG8gc2hvdy4KICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sOyAgICAgICAgICAgICAgICAgLy9BbiBpZGVudGlmaWVyOiBlZyBTQlgKCiAgICBmdW5jdGlvbiBFSVAyMCgKICAgICAgICB1aW50MjU2IF9pbml0aWFsQW1vdW50LAogICAgICAgIHN0cmluZyBfdG9rZW5OYW1lLAogICAgICAgIHVpbnQ4IF9kZWNpbWFsVW5pdHMsCiAgICAgICAgc3RyaW5nIF90b2tlblN5bWJvbAogICAgKSBwdWJsaWMgewogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gX2luaXRpYWxBbW91bnQ7ICAgICAgICAgICAgICAgLy8gR2l2ZSB0aGUgY3JlYXRvciBhbGwgaW5pdGlhbCB0b2tlbnMKICAgICAgICB0b3RhbFN1cHBseSA9IF9pbml0aWFsQW1vdW50OyAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0b3RhbCBzdXBwbHkKICAgICAgICBuYW1lID0gX3Rva2VuTmFtZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgbmFtZSBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICAgIGRlY2ltYWxzID0gX2RlY2ltYWxVbml0czsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQW1vdW50IG9mIGRlY2ltYWxzIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgc3ltYm9sID0gX3Rva2VuU3ltYm9sOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIHN5bWJvbCBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlKTsKICAgICAgICAvLyBDaGVjayBsb2NrZWQgYW1vdW50CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSAtIF92YWx1ZSA+PSBnZXRMb2NrZWRBbW91bnQobXNnLnNlbmRlcikpOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKCiAgICAgICAgLy8gQm9udXMgbG9zdCBpZiBiYWxhbmNlIGlzIGxvd2VyIHRoYW4gdGhlIG9yaWdpbmFsIGFsbG9jYXRpb24KICAgICAgICB1cGRhdGVCb251c0VsaWdpYml0eShtc2cuc2VuZGVyKTsKCiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICB1aW50MjU2IGFsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2FuY2UgPj0gX3ZhbHVlKTsKCiAgICAgICAgLy8gQ2hlY2sgbG9ja2VkIGFtb3VudAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dIC0gX3ZhbHVlID49IGdldExvY2tlZEFtb3VudChfZnJvbSkpOwoKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgIGlmIChhbGxvd2FuY2UgPCBNQVhfVUlOVDI1NikgewogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgfQoKICAgICAgICAvLyBCb251cyBsb3N0IGlmIGJhbGFuY2UgaXMgbG93ZXIgdGhhbiB0aGUgb3JpZ2luYWwgYWxsb2NhdGlvbgogICAgICAgIHVwZGF0ZUJvbnVzRWxpZ2liaXR5KF9mcm9tKTsKCiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9Cn0KCmNvbnRyYWN0IExlZ29sYXMgaXMgRUlQMjAgewoKICAgIC8vIFN0YW5kYXJkIEVSQzIwIGluZm9ybWF0aW9uCiAgICBzdHJpbmcgIGNvbnN0YW50IE5BTUUgPSAiTEdPIFRva2VuIjsKICAgIHN0cmluZyAgY29uc3RhbnQgU1lNQk9MID0gIkxHTyI7CiAgICB1aW50OCAgIGNvbnN0YW50IERFQ0lNQUxTID0gODsKICAgIHVpbnQyNTYgY29uc3RhbnQgVU5JVCA9IDEwKip1aW50MjU2KERFQ0lNQUxTKTsKCiAgICB1aW50MjU2IGNvbnN0YW50IG9uZVBlcmNlbnQgPSAxODE0MTUwNTIwMDAwMDA7CgogICAgLy8gNSUgZm9yIGFkdmlzb3JzCiAgICB1aW50MjU2IGNvbnN0YW50IEFEVklTT1JTX0FNT1VOVCA9ICAgNSAqIG9uZVBlcmNlbnQ7CiAgICAvLyAxNSUgZm9yIGZvdW5kZXJzCiAgICB1aW50MjU2IGNvbnN0YW50IEZPVU5ERVJTX0FNT1VOVCA9ICAxNSAqIG9uZVBlcmNlbnQ7CiAgICAvLyA2MCUgc29sZCBpbiBwcmUtc2FsZQogICAgdWludDI1NiBjb25zdGFudCBIT0xERVJTX0FNT1VOVCAgPSAgNjAgKiBvbmVQZXJjZW50OwogICAgLy8gMjAlIHJlc2VydmUKICAgIHVpbnQyNTYgY29uc3RhbnQgUkVTRVJWRV9BTU9VTlQgID0gIDIwICogb25lUGVyY2VudDsKICAgIC8vIEFEVklTT1JTX0FNT1VOVCArIEZPVU5ERVJTX0FNT1VOVCArIEhPTERFUlNfQU1PVU5UICtSRVNFUlZFX0FNT1VOVAogICAgdWludDI1NiBjb25zdGFudCBJTklUSUFMX0FNT1VOVCAgPSAxMDAgKiBvbmVQZXJjZW50OwogICAgLy8gMjAlIGZvciBob2xkZXIgYm9udXMKICAgIHVpbnQyNTYgY29uc3RhbnQgQk9OVVNfQU1PVU5UICAgID0gIDIwICogb25lUGVyY2VudDsKICAgIC8vIGFtb3VudCBhbHJlYWR5IGFsbG9jYXRlZCB0byBhZHZpc29ycwogICAgdWludDI1NiBwdWJsaWMgYWR2aXNvcnNBbGxvY2F0ZWRBbW91bnQgPSAwOwogICAgLy8gYW1vdW50IGFscmVhZHkgYWxsb2NhdGVkIHRvIGZ1bmRlcnMKICAgIHVpbnQyNTYgcHVibGljIGZvdW5kZXJzQWxsb2NhdGVkQW1vdW50ID0gMDsKICAgIC8vIGFtb3VudCBhbHJlYWR5IGFsbG9jYXRlZCB0byBob2xkZXJzCiAgICB1aW50MjU2IHB1YmxpYyBob2xkZXJzQWxsb2NhdGVkQW1vdW50ID0gMDsKICAgIC8vIGxpc3Qgb2YgYWxsIGluaXRpYWwgaG9sZGVycwogICAgYWRkcmVzc1tdIGluaXRpYWxIb2xkZXJzOwogICAgLy8gbm90IGRpc3RyaWJ1dGVkIGJlY2F1c2UgdGhlIGRlZmF1dCB2YWx1ZSBpcyBmYWxzZQogICAgbWFwcGluZyAodWludDI1NiA9PiBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkpIGJvbnVzTm90RGlzdHJpYnV0ZWQ7CgogICAgZXZlbnQgQWxsb2NhdGUoYWRkcmVzcyBfYWRkcmVzcywgdWludDI1NiBfdmFsdWUpOwoKICAgIGZ1bmN0aW9uIExlZ29sYXMoKSBFSVAyMCggLy8gRUlQMjAgY29uc3RydWN0b3IKICAgICAgICBJTklUSUFMX0FNT1VOVCArIEJPTlVTX0FNT1VOVCwKICAgICAgICBOQU1FLAogICAgICAgIERFQ0lNQUxTLAogICAgICAgIFNZTUJPTAogICAgKSBwdWJsaWMge30KCiAgICAvLy8gQHBhcmFtIF9hZGRyZXNzIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX2Ftb3VudCBBbW91bnQgb2YgdGhlIGFsbG9jYXRpb24KICAgIC8vLyBAcGFyYW0gX3R5cGUgVHlwZSBvZiB0aGUgcmVjaXBpZW50LiAwIGZvciBhZHZpc29yLCAxIGZvciBmb3VuZGVycy4KICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIGFsbG9jYXRpb24gd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiBhbGxvY2F0ZShhZGRyZXNzIF9hZGRyZXNzLCB1aW50MjU2IF9hbW91bnQsIHVpbnQ4IF90eXBlKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIG9uZSBhbGxvY2F0aW9ucyBieSBhZGRyZXNzCiAgICAgICAgcmVxdWlyZShhbGxvY2F0aW9uc1tfYWRkcmVzc10gPT0gMCk7CgogICAgICAgIGlmIChfdHlwZSA9PSAwKSB7IC8vIGFkdmlzb3IKICAgICAgICAgICAgLy8gY2hlY2sgYWxsb2NhdGVkIGFtb3VudAogICAgICAgICAgICByZXF1aXJlKGFkdmlzb3JzQWxsb2NhdGVkQW1vdW50ICsgX2Ftb3VudCA8PSBBRFZJU09SU19BTU9VTlQpOwogICAgICAgICAgICAvLyBpbmNyZWFzZSBhbGxvY2F0ZWQgYW1vdW50CiAgICAgICAgICAgIGFkdmlzb3JzQWxsb2NhdGVkQW1vdW50ICs9IF9hbW91bnQ7CiAgICAgICAgICAgIC8vIG1hcmsgYWRkcmVzcyBhcyBhZHZpc29yCiAgICAgICAgICAgIGFkdmlzb3JzW19hZGRyZXNzXSA9IHRydWU7CiAgICAgICAgfSBlbHNlIGlmIChfdHlwZSA9PSAxKSB7IC8vIGZvdW5kZXIKICAgICAgICAgICAgLy8gY2hlY2sgYWxsb2NhdGVkIGFtb3VudAogICAgICAgICAgICByZXF1aXJlKGZvdW5kZXJzQWxsb2NhdGVkQW1vdW50ICsgX2Ftb3VudCA8PSBGT1VOREVSU19BTU9VTlQpOwogICAgICAgICAgICAvLyBpbmNyZWFzZSBhbGxvY2F0ZWQgYW1vdW50CiAgICAgICAgICAgIGZvdW5kZXJzQWxsb2NhdGVkQW1vdW50ICs9IF9hbW91bnQ7CiAgICAgICAgICAgIC8vIG1hcmsgYWRkcmVzcyBhcyBmb3VuZGVyCiAgICAgICAgICAgIGZvdW5kZXJzW19hZGRyZXNzXSA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gY2hlY2sgYWxsb2NhdGVkIGFtb3VudAogICAgICAgICAgICByZXF1aXJlKGhvbGRlcnNBbGxvY2F0ZWRBbW91bnQgKyBfYW1vdW50IDw9IEhPTERFUlNfQU1PVU5UICsgUkVTRVJWRV9BTU9VTlQpOwogICAgICAgICAgICAvLyBpbmNyZWFzZSBhbGxvY2F0ZWQgYW1vdW50CiAgICAgICAgICAgIGhvbGRlcnNBbGxvY2F0ZWRBbW91bnQgKz0gX2Ftb3VudDsKICAgICAgICB9CiAgICAgICAgLy8gc2V0IGFsbG9jYXRpb24KICAgICAgICBhbGxvY2F0aW9uc1tfYWRkcmVzc10gPSBfYW1vdW50OwogICAgICAgIGluaXRpYWxBbGxvY2F0aW9uc1tfYWRkcmVzc10gPSBfYW1vdW50OwoKICAgICAgICAvLyBpbmNyZWFzZSBiYWxhbmNlCiAgICAgICAgYmFsYW5jZXNbX2FkZHJlc3NdICs9IF9hbW91bnQ7CgogICAgICAgIC8vIHVwZGF0ZSB2YXJpYWJsZXMgZm9yIGJvbnVzIGRpc3RyaWJ1dGlvbgogICAgICAgIGZvciAodWludDggaSA9IDA7IGkgPCA0OyBpKyspIHsKICAgICAgICAgICAgLy8gaW5jcmVhc2UgdW5zcGVudCBhbW91bnQKICAgICAgICAgICAgdW5zcGVudEFtb3VudHNbQk9OVVNfREFURVNbaV1dICs9IF9hbW91bnQ7CiAgICAgICAgICAgIC8vIGluaXRpYWxpemUgYm9udXMgZWxpZ2liaWxpdHkKICAgICAgICAgICAgZWxpZ2libGVGb3JCb251c1tCT05VU19EQVRFU1tpXV1bX2FkZHJlc3NdID0gdHJ1ZTsKICAgICAgICAgICAgYm9udXNOb3REaXN0cmlidXRlZFtCT05VU19EQVRFU1tpXV1bX2FkZHJlc3NdID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIC8vIGFkZCB0byBpbml0aWFsIGhvbGRlcnMgbGlzdAogICAgICAgIGluaXRpYWxIb2xkZXJzLnB1c2goX2FkZHJlc3MpOwoKICAgICAgICBBbGxvY2F0ZShfYWRkcmVzcywgX2Ftb3VudCk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAcGFyYW0gX2FkZHJlc3MgSG9sZGVyIGFkZHJlc3MuCiAgICAvLy8gQHBhcmFtIF9ib251c0RhdGUgRGF0ZSBvZiB0aGUgYm9udXMgdG8gZGlzdHJpYnV0ZS4KICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIGJvbnVzIGRpc3RyaWJ1dGlvbiB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIGNsYWltQm9udXMoYWRkcmVzcyBfYWRkcmVzcywgdWludDI1NiBfYm9udXNEYXRlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy8vIGJvbnVzIGRhdGUgbXVzdCBiZSBwYXN0CiAgICAgICAgcmVxdWlyZShfYm9udXNEYXRlIDw9IG5vdyk7CiAgICAgICAgLy8vIGRpc3J0aWJ1dGUgYm9udXMgb25seSBvbmNlCiAgICAgICAgcmVxdWlyZShib251c05vdERpc3RyaWJ1dGVkW19ib251c0RhdGVdW19hZGRyZXNzXSk7CiAgICAgICAgLy8vIGRpc3J0aWJ1dGUgYm9udXMgb25seSBpZiBlbGlnaWJsZQogICAgICAgIHJlcXVpcmUoZWxpZ2libGVGb3JCb251c1tfYm9udXNEYXRlXVtfYWRkcmVzc10pOwoKICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIGJvbnVzIGZvciBvbmUgaG9sZGVkIExHTwogICAgICAgIHVpbnQyNTYgYm9udXNCeUxnbyA9IChCT05VU19BTU9VTlQgLyA0KSAvIHVuc3BlbnRBbW91bnRzW19ib251c0RhdGVdOwoKICAgICAgICAvLyBkaXN0cmlidXRlIHRoZSBib251cwogICAgICAgIHVpbnQyNTYgaG9sZGVyQm9udXMgPSBpbml0aWFsQWxsb2NhdGlvbnNbX2FkZHJlc3NdICogYm9udXNCeUxnbzsKICAgICAgICBiYWxhbmNlc1tfYWRkcmVzc10gKz0gaG9sZGVyQm9udXM7CiAgICAgICAgYWxsb2NhdGlvbnNbX2FkZHJlc3NdICs9IGhvbGRlckJvbnVzOwoKICAgICAgICAvLyBzZXQgYm9udXMgYXMgZGlzdHJpYnV0ZWQKICAgICAgICBib251c05vdERpc3RyaWJ1dGVkW19ib251c0RhdGVdW19hZGRyZXNzXSA9IGZhbHNlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9'.
	

]
