Class {
	#name : #SRT9e4ad79049282f942c1b4c9b418f0357a0637017,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9e4ad79049282f942c1b4c9b418f0357a0637017 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4gMC40LjE3OwoKLyoKT2xkIGNvbnRyYWN0OiAoMjAxNi0yMDE3KSAweDNGMkQxN2VkMzk4NzZjMDg2NGQzMjFEOGE1MzNiYTgwODAyNzNFZEUKCjEuIFRyYW5zZmVyIEV0aGVyIHRvIGNvbnRyYWN0IGZvciBnZXQgdG9rZW5zClRoZSBleGNoYW5nZSByYXRlIGlzIGNhbGN1bGF0ZWQgYXQgdGhlIHRpbWUgb2YgcmVjZWlwdCBvZiBwYXltZW50IGFuZCBpczoKCl9lbWlzc2lvblByaWNlID0gdGhpcy5iYWxhbmNlIC8gX3RvdGFsU3VwcGx5ICogMgoKMi4gVHJhbnNmZXIgdG9rZW5zIGJhY2sgdG8gdGhlIGNvbnRyYWN0IGZvciB3aXRoZHJhdyBFVEggCmluIHByb3BvcnRpb24gdG8geW91ciBzaGFyZSBvZiB0aGUgcmVzZXJ2ZSBmdW5kIChjb250cmFjdCBiYWxhbmNlKSwgdGhlIHRva2VucyB0aGVtc2VsdmVzIGFyZSBkZXN0cm95ZWQgKGJ1cm5lZCkuCgpfYnVyblByaWNlID0gdGhpcy5iYWxhbmNlIC8gX3RvdGFsU3VwcGx5CgoqLwoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBTYWZlIG1hdGhzIGZyb20gT3BlblplcHBlbGluCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KbGlicmFyeSBTYWZlTWF0aCB7CglmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnModWludDI1NikgewoJCXVpbnQyNTYgYyA9IGEgKiBiOwoJCWFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CgkJcmV0dXJuIGM7Cgl9CgoJZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYpIHsKCQkvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKCQl1aW50MjU2IGMgPSBhIC8gYjsKCQkvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAoJCXJldHVybiBjOwoJfQoKCWZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSB7CgkJYXNzZXJ0KGIgPD0gYSk7CgkJcmV0dXJuIGEgLSBiOwoJfQoKCWZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSB7CgkJdWludDI1NiBjID0gYSArIGI7CgkJYXNzZXJ0KGMgPj0gYSk7CgkJcmV0dXJuIGM7Cgl9Cn0KCi8vIEVSQyBUb2tlbiBTdGFuZGFyZCAjMjAgSW50ZXJmYWNlCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMApjb250cmFjdCBFUkMyMEludGVyZmFjZSB7CglmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYgdG90YWxTdXBwbHlSZXR1cm4pOwoKCWZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnModWludDI1NiBiYWxhbmNlKTsKCglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zKGJvb2wgc3VjY2Vzcyk7CgoJZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMoYm9vbCBzdWNjZXNzKTsKCglmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyhib29sIHN1Y2Nlc3MpOwoKCWZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnModWludDI1NiByZW1haW5pbmcpOwoJZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CglldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKfQoKCmNvbnRyYWN0IE5veG9uIGlzIEVSQzIwSW50ZXJmYWNlIHsKCXVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwoKCXN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIk5PWE9OIjsKCXN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJOT1hPTiI7Cgl1aW50OCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAwOyAvL3dhcm5pbmchIGRpdmlkaW5nIHJvdW5kcyBkb3duLCB0aGUgcmVtYWluZGVyIG9mIHRoZSBkaXZpc2lvbiBpcyB0aGUgcHJvZml0IG9mIHRoZSBjb250cmFjdAoJdWludDI1NiBfdG90YWxTdXBwbHkgPSAwOwoJdWludDI1NiBfYnVyblByaWNlOwoJdWludDI1NiBfZW1pc3Npb25QcmljZTsKCXVpbnQyNTYgaW5pdGlhbGl6ZWQ7CgkKCWJvb2wgcHVibGljIGVtaXNzaW9ubG9ja2VkID0gZmFsc2U7CgkvLyBPd25lciBvZiB0aGlzIGNvbnRyYWN0CglhZGRyZXNzIHB1YmxpYyBvd25lcjsKCWFkZHJlc3MgcHVibGljIG1hbmFnZXI7CgoJLy8gQmFsYW5jZXMgZm9yIGVhY2ggYWNjb3VudAoJbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKCS8vIE93bmVyIG9mIGFjY291bnQgYXBwcm92ZXMgdGhlIHRyYW5zZmVyIG9mIGFuIGFtb3VudCB0byBhbm90aGVyIGFjY291bnQKCW1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CgoJLy8gRnVuY3Rpb25zIHdpdGggdGhpcyBtb2RpZmllciBjYW4gb25seSBiZSBleGVjdXRlZCBieSB0aGUgb3duZXIKCW1vZGlmaWVyIG9ubHlPd25lcigpIHsKCQlyZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoJCV87Cgl9CgoJYWRkcmVzcyBuZXdPd25lcjsKCWFkZHJlc3MgbmV3TWFuYWdlcjsKCS8vIEJLIE9rIC0gT25seSBvd25lciBjYW4gYXNzaWduIG5ldyBwcm9wb3NlZCBvd25lcgoJZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewoJCW5ld093bmVyID0gX25ld093bmVyOwoJfQoKCS8vIEJLIE9rIC0gT25seSBuZXcgcHJvcG9zZWQgb3duZXIgY2FuIGFjY2VwdCBvd25lcnNoaXAgCglmdW5jdGlvbiBhY2NlcHRPd25lcnNoaXAoKSBwdWJsaWMgewoJCWlmIChtc2cuc2VuZGVyID09IG5ld093bmVyKSB7CgkJCW93bmVyID0gbmV3T3duZXI7CgkJCW5ld093bmVyID0gYWRkcmVzcygwKTsKCQl9Cgl9CgoKCWZ1bmN0aW9uIGNoYW5nZU1hbmFnZXIoYWRkcmVzcyBfbmV3TWFuYWdlcikgcHVibGljIG9ubHlPd25lciB7CgkJbmV3TWFuYWdlciA9IF9uZXdNYW5hZ2VyOwoJfQoKCglmdW5jdGlvbiBhY2NlcHRNYW5hZ2Vyc2hpcCgpIHB1YmxpYyB7CgkJaWYgKG1zZy5zZW5kZXIgPT0gbmV3TWFuYWdlcikgewoJCQltYW5hZ2VyID0gbmV3TWFuYWdlcjsKICAgICAgICAgICAgbmV3TWFuYWdlciA9IGFkZHJlc3MoMCk7CgkJfQoJfQoKCS8vIENvbnN0cnVjdG9yCgkKCWZ1bmN0aW9uIE5veG9uKCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKF90b3RhbFN1cHBseSA9PSAwKTsKCQlvd25lciA9IG1zZy5zZW5kZXI7CgkJbWFuYWdlciA9IG93bmVyOwogICAgICAgIAoJfQoJZnVuY3Rpb24gTm94b25Jbml0KCkgcHVibGljIHBheWFibGUgb25seU93bmVyIHJldHVybnMgKGJvb2wpIHsKCQlyZXF1aXJlKF90b3RhbFN1cHBseSA9PSAwKTsKCQlyZXF1aXJlKGluaXRpYWxpemVkID09IDApOwoJCXJlcXVpcmUobXNnLnZhbHVlID4gMCk7CgkJVHJhbnNmZXIoMCwgbXNnLnNlbmRlciwgMSk7CgkJYmFsYW5jZXNbb3duZXJdID0gMTsgLy9vd25lciBnb3QgMSB0b2tlbgoJCV90b3RhbFN1cHBseSA9IGJhbGFuY2VzW293bmVyXTsKCQlfYnVyblByaWNlID0gbXNnLnZhbHVlOwoJCV9lbWlzc2lvblByaWNlID0gX2J1cm5QcmljZS5tdWwoMik7CgkJaW5pdGlhbGl6ZWQgPSBibG9jay50aW1lc3RhbXA7CgkJcmV0dXJuIHRydWU7Cgl9CgoJLy9UaGUgb3duZXIgY2FuIHR1cm4gb2ZmIGFjY2VwdGluZyBuZXcgZXRoZXIKCWZ1bmN0aW9uIGxvY2tFbWlzc2lvbigpIHB1YmxpYyBvbmx5T3duZXIgewoJCWVtaXNzaW9ubG9ja2VkID0gdHJ1ZTsKCX0KCglmdW5jdGlvbiB1bmxvY2tFbWlzc2lvbigpIHB1YmxpYyBvbmx5T3duZXIgewoJCWVtaXNzaW9ubG9ja2VkID0gZmFsc2U7Cgl9CgoJZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSB7CgkJcmV0dXJuIF90b3RhbFN1cHBseTsKCX0KCglmdW5jdGlvbiBidXJuUHJpY2UoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSB7CgkJcmV0dXJuIF9idXJuUHJpY2U7Cgl9CgoJZnVuY3Rpb24gZW1pc3Npb25QcmljZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYpIHsKCQlyZXR1cm4gX2VtaXNzaW9uUHJpY2U7Cgl9CgoJLy8gV2hhdCBpcyB0aGUgYmFsYW5jZSBvZiBhIHBhcnRpY3VsYXIgYWNjb3VudD8KCWZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnModWludDI1NiBiYWxhbmNlKSB7CgkJcmV0dXJuIGJhbGFuY2VzW19vd25lcl07Cgl9CgoJLy8gVHJhbnNmZXIgdGhlIGJhbGFuY2UgZnJvbSBvd25lcidzIGFjY291bnQgdG8gYW5vdGhlciBhY2NvdW50CglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyhib29sIHN1Y2Nlc3MpIHsKCgkJLy8gaWYgeW91IHNlbmQgVE9LRU5TIHRvIHRoZSBjb250cmFjdCB0aGV5IHdpbGwgYmUgYnVybmVkIGFuZCB5b3Ugd2lsbCByZXR1cm4gcGFydCBvZiBFdGhlciBmcm9tIHNtYXJ0IGNvbnRyYWN0CgkJaWYgKF90byA9PSBhZGRyZXNzKHRoaXMpKSB7CgkJCXJldHVybiBidXJuVG9rZW5zKF9hbW91bnQpOwoJCX0gZWxzZSB7CgoJCQlpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCAmJiBfYW1vdW50ID4gMCAmJiBiYWxhbmNlc1tfdG9dICsgX2Ftb3VudCA+IGJhbGFuY2VzW190b10pIHsKCQkJCWJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOwoJCQkJYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwoJCQkJVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfYW1vdW50KTsKCQkJCXJldHVybiB0cnVlOwoJCQl9IGVsc2UgewoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9CgoJCX0KCX0KCglmdW5jdGlvbiBidXJuVG9rZW5zKHVpbnQyNTYgX2Ftb3VudCkgcHJpdmF0ZSByZXR1cm5zKGJvb2wgc3VjY2VzcykgewoKCQlfYnVyblByaWNlID0gZ2V0QnVyblByaWNlKCk7CgkJdWludDI1NiBfYnVyblByaWNlVG1wID0gX2J1cm5QcmljZTsKCgkJaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF9hbW91bnQgJiYgX2Ftb3VudCA+IDApIHsKCgkJCS8vIHN1YnRyYWN0cyB0aGUgYW1vdW50IGZyb20gc2VsbGVyJ3MgYmFsYW5jZSBhbmQgc3VwbHkKCQkJYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CgkJCV90b3RhbFN1cHBseSA9IF90b3RhbFN1cHBseS5zdWIoX2Ftb3VudCk7CgoJCQkvL2RvIG5vdCBhbGxvdyBzZWxsIGxhc3Qgc2hhcmUgKGZlYXIgb2YgZGl2aWRpbmcgYnkgemVybykKCQkJYXNzZXJ0KF90b3RhbFN1cHBseSA+PSAxKTsKCgkJCS8vIHNlbmRzIGV0aGVyIHRvIHRoZSBzZWxsZXIKCQkJbXNnLnNlbmRlci50cmFuc2ZlcihfYW1vdW50Lm11bChfYnVyblByaWNlKSk7CgoJCQkvL2NoZWNrIG5ldyBidXJuIHByaWNlCgkJCV9idXJuUHJpY2UgPSBnZXRCdXJuUHJpY2UoKTsKCgkJCS8vb25seSBncm93dGggcmVxdWlyZWQgCgkJCWFzc2VydChfYnVyblByaWNlID49IF9idXJuUHJpY2VUbXApOwoKCQkJLy9zZW5kIGV2ZW50CgkJCVRva2VuQnVybmVkKG1zZy5zZW5kZXIsIF9hbW91bnQubXVsKF9idXJuUHJpY2UpLCBfYnVyblByaWNlLCBfYW1vdW50KTsKCQkJcmV0dXJuIHRydWU7CgkJfSBlbHNlIHsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCX0KCglldmVudCBUb2tlbkJvdWdodChhZGRyZXNzIGluZGV4ZWQgYnV5ZXIsIHVpbnQyNTYgZXRoZXJzLCB1aW50IF9lbWlzc2lvbmVkUHJpY2UsIHVpbnQgYW1vdW50T2ZUb2tlbnMpOwoJZXZlbnQgVG9rZW5CdXJuZWQoYWRkcmVzcyBpbmRleGVkIGJ1eWVyLCB1aW50MjU2IGV0aGVycywgdWludCBfYnVybmVkUHJpY2UsIHVpbnQgYW1vdW50T2ZUb2tlbnMpOwoKCWZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKCSAgICAvL2J1eSB0b2tlbnMKCgkJLy9zYXZlIHRtcCBmb3IgZG91YmxlIGNoZWNrIGluIHRoZSBlbmQgb2YgZnVuY3Rpb24KCQkvL19idXJuUHJpY2UgbmV2ZXIgY2hhbmdlcyB3aGVuIHNvbWVvbmUgYnV5IHRva2VucwoJCXVpbnQyNTYgX2J1cm5QcmljZVRtcCA9IF9idXJuUHJpY2U7CgoJCXJlcXVpcmUoZW1pc3Npb25sb2NrZWQgPT0gZmFsc2UpOwoJCXJlcXVpcmUoX2J1cm5QcmljZSA+IDAgJiYgX2VtaXNzaW9uUHJpY2UgPiBfYnVyblByaWNlKTsKCQlyZXF1aXJlKG1zZy52YWx1ZSA+IDApOwoKCQkvLyBjYWxjdWxhdGUgdGhlIGFtb3VudAoJCXVpbnQyNTYgYW1vdW50ID0gbXNnLnZhbHVlIC8gX2VtaXNzaW9uUHJpY2U7CgoJCS8vY2hlY2sgb3ZlcmZsb3cKCQlyZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdICsgYW1vdW50ID4gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwoKCQkvLyBhZGRzIHRoZSBhbW91bnQgdG8gYnV5ZXIncyBiYWxhbmNlCgkJYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQoYW1vdW50KTsKCQlfdG90YWxTdXBwbHkgPSBfdG90YWxTdXBwbHkuYWRkKGFtb3VudCk7CgogICAgICAgIHVpbnQgbWcgPSBtc2cudmFsdWUgLyAyOwoJCS8vc2VuZCA1MCUgdG8gbWFuYWdlcgoJCW1hbmFnZXIudHJhbnNmZXIobWcpOwoJCVRva2VuQm91Z2h0KG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgX2VtaXNzaW9uUHJpY2UsIGFtb3VudCk7CgoJCS8vYXJlIHByaWNlcyB1bmNoYW5nZWQ/ICAgCgkJX2J1cm5QcmljZSA9IGdldEJ1cm5QcmljZSgpOwoJCV9lbWlzc2lvblByaWNlID0gX2J1cm5QcmljZS5tdWwoMik7CgoJCS8vIm9ubHkgZ3Jvd3RoIgoJCWFzc2VydChfYnVyblByaWNlID49IF9idXJuUHJpY2VUbXApOwoJfQogICAgCglmdW5jdGlvbiBnZXRCdXJuUHJpY2UoKSBwdWJsaWMgcmV0dXJucyh1aW50KSB7CgkJcmV0dXJuIHRoaXMuYmFsYW5jZSAvIF90b3RhbFN1cHBseTsKCX0KCglldmVudCBFdGhlclJlc2VydmVkKHVpbnQgZXRoZXJSZXNlcnZlZCk7CgkvL2FkZCBFdGhlciB0byByZXNlcnZlIGZ1bmQgd2l0aG91dCBpc3N1ZSBuZXcgdG9rZW5zIChwcmljZXMgd2lsbCBncm93dGgpCgoJZnVuY3Rpb24gYWRkVG9SZXNlcnZlKCkgcHVibGljIHBheWFibGUgcmV0dXJucyhib29sKSB7CgkgICAgdWludDI1NiBfYnVyblByaWNlVG1wID0gX2J1cm5QcmljZTsKCQlpZiAobXNnLnZhbHVlID4gMCkgewoJCQlfYnVyblByaWNlID0gZ2V0QnVyblByaWNlKCk7CgkJCV9lbWlzc2lvblByaWNlID0gX2J1cm5QcmljZS5tdWwoMik7CgkJCUV0aGVyUmVzZXJ2ZWQobXNnLnZhbHVlKTsKCQkJCgkJCS8vIm9ubHkgZ3Jvd3RoIiBjaGVjayAKCQkgICAgYXNzZXJ0KF9idXJuUHJpY2UgPj0gX2J1cm5QcmljZVRtcCk7CgkJCXJldHVybiB0cnVlOwoJCX0gZWxzZSB7CgkJCXJldHVybiBmYWxzZTsKCQl9Cgl9CgoJLy8gU2VuZCBfdmFsdWUgYW1vdW50IG9mIHRva2VucyBmcm9tIGFkZHJlc3MgX2Zyb20gdG8gYWRkcmVzcyBfdG8KCS8vIFRoZSB0cmFuc2ZlckZyb20gbWV0aG9kIGlzIHVzZWQgZm9yIGEgd2l0aGRyYXcgd29ya2Zsb3csIGFsbG93aW5nIGNvbnRyYWN0cyB0byBzZW5kCgkvLyB0b2tlbnMgb24geW91ciBiZWhhbGYsIGZvciBleGFtcGxlIHRvICJkZXBvc2l0IiB0byBhIGNvbnRyYWN0IGFkZHJlc3MgYW5kL29yIHRvIGNoYXJnZQoJLy8gZmVlcyBpbiBzdWItY3VycmVuY2llczsgdGhlIGNvbW1hbmQgc2hvdWxkIGZhaWwgdW5sZXNzIHRoZSBfZnJvbSBhY2NvdW50IGhhcwoJLy8gZGVsaWJlcmF0ZWx5IGF1dGhvcml6ZWQgdGhlIHNlbmRlciBvZiB0aGUgbWVzc2FnZSB2aWEgc29tZSBtZWNoYW5pc207IHdlIHByb3Bvc2UKCS8vIHRoZXNlIHN0YW5kYXJkaXplZCBBUElzIGZvciBhcHByb3ZhbDoKCWZ1bmN0aW9uIHRyYW5zZmVyRnJvbSgKCQlhZGRyZXNzIF9mcm9tLAoJCWFkZHJlc3MgX3RvLAoJCXVpbnQyNTYgX2Ftb3VudAoJKSBwdWJsaWMgcmV0dXJucyhib29sIHN1Y2Nlc3MpIHsKCQlpZiAoYmFsYW5jZXNbX2Zyb21dID49IF9hbW91bnQgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCAmJiBfYW1vdW50ID4gMCAmJiBiYWxhbmNlc1tfdG9dICsgX2Ftb3VudCA+IGJhbGFuY2VzW190b10gJiYgX3RvICE9IGFkZHJlc3ModGhpcykgLy9ub3QgYWxsb3cgYnVybiB0b2NrZW5zIGZyb20gZXhoYW5nZXMKCQkpIHsKCQkJYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfYW1vdW50KTsKCQkJYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX2Ftb3VudCk7CgkJCWJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfYW1vdW50KTsKCQkJVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7CgkJCXJldHVybiB0cnVlOwoJCX0gZWxzZSB7CgkJCXJldHVybiBmYWxzZTsKCQl9Cgl9CgoJLy8gQWxsb3cgX3NwZW5kZXIgdG8gd2l0aGRyYXcgZnJvbSB5b3VyIGFjY291bnQsIG11bHRpcGxlIHRpbWVzLCB1cCB0byB0aGUgX3ZhbHVlIGFtb3VudC4KCS8vIElmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGFnYWluIGl0IG92ZXJ3cml0ZXMgdGhlIGN1cnJlbnQgYWxsb3dhbmNlIHdpdGggX3ZhbHVlLgoJZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zKGJvb2wgc3VjY2VzcykgewoJCWFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX2Ftb3VudDsKCQlBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX2Ftb3VudCk7CgkJcmV0dXJuIHRydWU7Cgl9CgoJZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2IHJlbWFpbmluZykgewoJCXJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwoJfQoKCWZ1bmN0aW9uIHRyYW5zZmVyQW55RVJDMjBUb2tlbihhZGRyZXNzIHRva2VuQWRkcmVzcywgdWludCBhbW91bnQpCglwdWJsaWMKCW9ubHlPd25lciByZXR1cm5zKGJvb2wgc3VjY2VzcykgewoJCXJldHVybiBFUkMyMEludGVyZmFjZSh0b2tlbkFkZHJlc3MpLnRyYW5zZmVyKG93bmVyLCBhbW91bnQpOwoJfQoKCWZ1bmN0aW9uIGJ1cm5BbGwoKSBleHRlcm5hbCByZXR1cm5zKGJvb2wpIHsKCQlyZXR1cm4gYnVyblRva2VucyhiYWxhbmNlc1ttc2cuc2VuZGVyXSk7Cgl9CiAgICAKICAgIAp9Cgpjb250cmFjdCBUZXN0UHJvY2VzcyB7CiAgICBOb3hvbiBtYWluOwogICAgCiAgICBmdW5jdGlvbiBUZXN0UHJvY2VzcygpIHBheWFibGUgewogICAgICAgIG1haW4gPSBuZXcgTm94b24oKTsKICAgIH0KICAgCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsKICAgICAgICAKICAgIH0KICAgICAKICAgIGZ1bmN0aW9uIGluaXQoKSByZXR1cm5zICh1aW50KSB7CiAgICAgICAKICAgICAgICBpZiAoIW1haW4uTm94b25Jbml0LnZhbHVlKDEyKSgpKSB0aHJvdzsgICAgLy9pbml0IGFuZCBzZXQgYnVybiBwcmljZSBhcyAxMiBhbmQgZW1pc3Npb24gcHJpY2UgdG8gMjQgCiAgICAgICAgaWYgKCFtYWluLmNhbGwudmFsdWUoMjQpKCkpIHJldmVydCgpOyAvL2J1eSAxIHRva2VuCiAKICAgICAgICBhc3NlcnQobWFpbi5iYWxhbmNlT2YoYWRkcmVzcyh0aGlzKSkgPT0gMik7IAogICAgICAgIAogICAgICAgIGlmIChtYWluLmNhbGwudmFsdWUoMjMpKCkpIHJldmVydCgpOyAvL3NlbmQgc21hbGwgYW1vdW50IChtdXN0IGJlIHR3aHJvd2VkKQogICAgICAgIGFzc2VydChtYWluLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKSA9PSAyKTsgCiAgICB9CiAgICAKICAgIAogICAgCiAgICBmdW5jdGlvbiB0ZXN0MSgpIHJldHVybnMgKHVpbnQpIHsKICAgICAgICBpZiAoIW1haW4uY2FsbC52YWx1ZSgyNikoKSkgcmV2ZXJ0KCk7IC8vY2hlY2sgZmxvb3Igcm91bmQgKDI2LzI0IG11c3QgaXNzdWUgMSB0b2tlbikKICAgICAgICBhc3NlcnQobWFpbi5iYWxhbmNlT2YoYWRkcmVzcyh0aGlzKSkgPT0gMyk7IAogICAgICAgIGFzc2VydChtYWluLmVtaXNzaW9uUHJpY2UoKSA9PSAyNCk7IC8vMjQuNiBidXQgcm91bmQgZmxvb3IKICAgICAgICByZXR1cm4gbWFpbi5iYWxhbmNlOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB0ZXN0MigpIHJldHVybnMgKHVpbnQpewogICAgICAgIGlmICghbWFpbi5jYWxsLnZhbHVlKDQwKSgpKSByZXZlcnQoKTsgLy9jaGVjayBmbG9vciByb3VuZCAoNDAvMjQgbXVzdCBpc3N1ZSAxIHRva2VuKQogICAgICAgIGFzc2VydChtYWluLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKSA9PSA0KTsgCiAgICAgICAgLy9hc3NlcnQobWFpbi5lbWlzc2lvblByaWNlKCkgPT0gMjgpOwogICAgICAgIC8vcmV0dXJuIG1haW4uYnVyblByaWNlKCk7CiAgICB9IAogICAgCiAgICBmdW5jdGlvbiB0ZXN0MygpIHsKICAgICAgICBpZiAoIW1haW4udHJhbnNmZXIoYWRkcmVzcyhtYWluKSwyKSkgcmV2ZXJ0KCk7CiAgICAgICAgYXNzZXJ0KG1haW4uYnVyblByaWNlKCkgPT0gMTQpOwogICAgfSAKICAgIAp9'.
	

]
