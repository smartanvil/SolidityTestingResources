Class {
	#name : #SRTfcb675830e4c10438ce4a4091be45bf3b2c3d06f,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTfcb675830e4c10438ce4a4091be45bf3b2c3d06f >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjsKCgovLyBFdGhlcm9sbCBGdW5jdGlvbnMKY29udHJhY3QgRFNTYWZlQWRkU3ViIHsKICAgIGZ1bmN0aW9uIHNhZmVUb0FkZCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiAoYSArIGIgPj0gYSk7CiAgICB9CiAgICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmVxdWlyZShzYWZlVG9BZGQoYSwgYikpOwogICAgICAgIHJldHVybiBhICsgYjsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlVG9TdWJ0cmFjdCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiAoYiA8PSBhKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlU3ViKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmVxdWlyZShzYWZlVG9TdWJ0cmFjdChhLCBiKSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQp9Cgpjb250cmFjdCBNeURpY2UgaXMgRFNTYWZlQWRkU3ViIHsKCiAgICAvKgogICAgICogY2hlY2tzIHBsYXllciBwcm9maXQgYW5kIG51bWJlciBpcyB3aXRoaW4gcmFuZ2UKICAgICovCiAgICBtb2RpZmllciBiZXRJc1ZhbGlkKHVpbnQgX2JldFNpemUsIHVpbnQgX3BsYXllck51bWJlcikgewogICAgICAgIAogICAgcmVxdWlyZSgoKCgoX2JldFNpemUgKiAoMTAwMDAtKHNhZmVTdWIoX3BsYXllck51bWJlciwxKSkpKSAvIChzYWZlU3ViKF9wbGF5ZXJOdW1iZXIsMSkpK19iZXRTaXplKSkqaG91c2VFZGdlL2hvdXNlRWRnZURpdmlzb3IpLV9iZXRTaXplIDw9IG1heFByb2ZpdCk7CgogICAgcmVxdWlyZShfcGxheWVyTnVtYmVyIDwgbWF4TnVtYmVyKTsKICAgIHJlcXVpcmUoX2JldFNpemUgPj0gbWluQmV0KTsKICAgIF87CiAgICB9CgogICAgLyoKICAgICAqIGNoZWNrcyBnYW1lIGlzIGN1cnJlbnRseSBhY3RpdmUKICAgICovCiAgICBtb2RpZmllciBnYW1lSXNBY3RpdmUgewogICAgICByZXF1aXJlKGdhbWVQYXVzZWQgPT0gZmFsc2UpOwogICAgICAgIF87CiAgICB9CgogICAgLyoKICAgICAqIGNoZWNrcyBwYXlvdXRzIGFyZSBjdXJyZW50bHkgYWN0aXZlCiAgICAqLwogICAgbW9kaWZpZXIgcGF5b3V0c0FyZUFjdGl2ZSB7CiAgICAgICAgcmVxdWlyZShwYXlvdXRzUGF1c2VkID09IGZhbHNlKTsKICAgICAgICBfOwogICAgfQoKIAogICAgLyoKICAgICAqIGNoZWNrcyBvbmx5IG93bmVyIGFkZHJlc3MgaXMgY2FsbGluZwogICAgKi8KICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICAgXzsKICAgIH0KCiAgICAvKgogICAgICogZ2FtZSB2YXJzCiAgICAqLwoKICAgIHVpbnQgY29uc3RhbnQgcHVibGljIG1heEJldERpdmlzb3IgPSAxMDAwMDAwOwogICAgdWludCBjb25zdGFudCBwdWJsaWMgaG91c2VFZGdlRGl2aXNvciA9IDEwMDA7CiAgICBib29sIHB1YmxpYyBnYW1lUGF1c2VkOwogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgICBib29sIHB1YmxpYyBwYXlvdXRzUGF1c2VkOwogICAgdWludCBwdWJsaWMgY29udHJhY3RCYWxhbmNlOwogICAgdWludCBwdWJsaWMgaG91c2VFZGdlOwogICAgdWludCBwdWJsaWMgbWF4UHJvZml0OwogICAgdWludCBwdWJsaWMgbWF4UHJvZml0QXNQZXJjZW50T2ZIb3VzZTsKICAgIHVpbnQgcHVibGljIG1pbkJldDsKICAgIHVpbnQgcHVibGljIHRvdGFsQmV0czsKICAgIHVpbnQgcHVibGljIHRvdGFsVXNlclByb2ZpdDsKCgogICAgdWludCBwcml2YXRlIHJhbmRvbU51bWJlcjsgICAgICAgICAgCiAgICB1aW50IHByaXZhdGUgbWF4TnVtYmVyID0gMTAwMDA7CiAgICB1aW50IHByaXZhdGUgdW5kZXJOdW1iZXIgPSA1MDAwOwoKICAgIHN0cnVjdCBCZXQKICAgIHsKICAgICAgICBhZGRyZXNzIGJldHRvckFkZHJlc3M7CiAgICAgICAgdWludCAgICBiZXRTaXplOwogICAgICAgIHVpbnQgICAgYmV0SUQ7CiAgICB9CgogICAgdWludCBwdWJsaWMgbnVtRWxlbWVudHMgPSAwOwogICAgQmV0W10gcGVuZGluZ0JldHM7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBwbGF5ZXJQZW5kaW5nV2l0aGRyYXdhbHM7CgogICAgLyoKICAgICAqIGV2ZW50cwogICAgKi8KICAgIGV2ZW50IExvZ0JldFN0YXJ0KHVpbnQgaW5kZXhlZCBiZXRJRCk7CgogICAgLyogU3RhdHVzOiAwPWxvc2UsIDE9d2luLCAyPXdpbiArIGZhaWxlZCBzZW5kLCovCiAgICBldmVudCBMb2dSZXN1bHQodWludCBpbmRleGVkIEJldElELCBhZGRyZXNzIGluZGV4ZWQgUGxheWVyQWRkcmVzcywgdWludCBpbmRleGVkIFBsYXllck51bWJlciwgdWludCBEaWNlUmVzdWx0LCB1aW50IFZhbHVlLCBpbnQgU3RhdHVzLHVpbnQgQmV0VmFsdWUsdWludCB0YXJnZXROdW1iZXIpOwogICAgLyogbG9nIG93bmVyIHRyYW5zZmVycyAqLwogICAgZXZlbnQgTG9nT3duZXJUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgU2VudFRvQWRkcmVzcywgdWludCBpbmRleGVkIEFtb3VudFRyYW5zZmVycmVkKTsKCiAgICAvKgogICAgICogaW5pdAogICAgKi8KICAgIGZ1bmN0aW9uIE15RGljZSgpIHsKCiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwoKICAgICAgICBvd25lclNldEhvdXNlRWRnZSg5MzUpOwoKICAgICAgICBvd25lclNldE1heFByb2ZpdEFzUGVyY2VudE9mSG91c2UoMjAwMDApOwogICAgIAogICAgICAgIG93bmVyU2V0TWluQmV0KDIwMDAwMDAwMDAwMDAwMDAwKTsKICAgIH0KCiAgICAvKlRoZSBnZW5lcmF0aW9uIG9mIHJhbmRvbSBudW1iZXJzIGlzIGdlbmVyYXRlZCBieSB0aGUgYmFua2VyJ3Mgc2VlZCArIGN1cnJlbnQgYmxvY2sgb2YgaW5mb3JtYXRpb24KICAgICoxLFRoZSBiYW5rZXIncyBzZWVkIGlzIHVudHJ1c3R3b3J0aHksIGJ1dCB0aGUgY3VycmVudCBibG9jayBpbmZvcm1hdGlvbiBiYW5rZXIgY2FuIG5vdCBtYW5pcHVsYXRlLCBpbiBvcmRlciB0byBlbnN1cmUgdGhhdCB0aGUgYmFua2VyIGNhbiBub3QgbWFuaXB1bGF0ZSB0aGUgZmluYWwgcmFuZG9tIG51bWJlciByZXN1bHRzCiAgICAqMixCbG9jayBpbmZvcm1hdGlvbiBiZWNhdXNlIHRoZSB3aG9sZSBuZXR3b3JrIGlzIG9wZW4sIHRoZXJlIHdpbGwgYmUgbWFsaWNpb3VzIHBsYXllcnMgdG8gdXNlIHRoaXMgcG9pbnQgdG8gYXR0YWNrIHRoZSBiYW5rZXIsIHNvIHdpdGggdGhlIGJhbmtlciBpc3N1ZWQgdGhlIHNlZWRzIHRvIGVuc3VyZSB0aGF0IHRoZSBiYW5rZXIgd2lsbCBub3QgYmUgYXR0YWNrZWQgYnkgbWFsaWNpb3VzIHBsYXllcnMKICAgICovCiAgIAogICAgZnVuY3Rpb24gR2V0UmFuZG9tTnVtYmVyKHVpbnQzMiBzZWVkKSBpbnRlcm5hbCAKICAgICAgICByZXR1cm5zKHVpbnQgcmFuZG9tTnVtKQogICAgewogICAgICAgIHJhbmRvbU51bWJlciA9IHJhbmRvbU51bWJlciAlIGJsb2NrLnRpbWVzdGFtcCArIHVpbnQyNTYoYmxvY2suYmxvY2toYXNoKGJsb2NrLm51bWJlciAtIDEpKTsKICAgICAgICByYW5kb21OdW1iZXIgPSByYW5kb21OdW1iZXIgKyBibG9jay50aW1lc3RhbXAgKiBibG9jay5kaWZmaWN1bHR5ICogYmxvY2subnVtYmVyICsgMTsKCiAgICAgICAgcmFuZG9tTnVtYmVyID0gdWludChzaGEzKHJhbmRvbU51bWJlcixzZWVkKSk7CgogICAgICAgIHJldHVybiAobWF4TnVtYmVyIC0gcmFuZG9tTnVtYmVyICUgbWF4TnVtYmVyKTsKICAgIH0KCgogICAgZnVuY3Rpb24gU3RhcnRSb2xsRGljZSh1aW50MzIgc2VlZCkgcHVibGljCiAgICAgICAgZ2FtZUlzQWN0aXZlCiAgICAgICAgb25seU93bmVyCiAgICB7CiAgICAgICAgaWYobnVtRWxlbWVudHMgPT0gMCkKICAgICAgICAgIHJldHVybjsKCiAgICAgICAgdWludCBpID0gbnVtRWxlbWVudHMgLSAxOwogICAgICAgIHVpbnQgcmFuZFJlc3VsdCA9IEdldFJhbmRvbU51bWJlcihzZWVkKTsKICAgICAgICAvKgogICAgICAgICogcGF5IHdpbm5lcgogICAgICAgICogdXBkYXRlIGNvbnRyYWN0IGJhbGFuY2UgdG8gY2FsY3VsYXRlIG5ldyBtYXggYmV0CiAgICAgICAgKiBzZW5kIHJld2FyZAogICAgICAgICogaWYgc2VuZCBvZiByZXdhcmQgZmFpbHMgc2F2ZSB2YWx1ZSB0byBwbGF5ZXJQZW5kaW5nV2l0aGRyYXdhbHMKICAgICAgICAqLwogICAgICAgIGlmKHJhbmRSZXN1bHQgPCB1bmRlck51bWJlcil7CgogICAgICAgICAgICB1aW50IHBsYXllclByb2ZpdCA9ICgoKChwZW5kaW5nQmV0c1tpXS5iZXRTaXplICogKG1heE51bWJlci0oc2FmZVN1Yih1bmRlck51bWJlciwxKSkpKSAvIChzYWZlU3ViKHVuZGVyTnVtYmVyLDEpKStwZW5kaW5nQmV0c1tpXS5iZXRTaXplKSkqaG91c2VFZGdlL2hvdXNlRWRnZURpdmlzb3IpLXBlbmRpbmdCZXRzW2ldLmJldFNpemU7CgogICAgICAgICAgICAvKiBzYWZlbHkgcmVkdWNlIGNvbnRyYWN0IGJhbGFuY2UgYnkgcGxheWVyIHByb2ZpdCAqLwogICAgICAgICAgICBjb250cmFjdEJhbGFuY2UgPSBzYWZlU3ViKGNvbnRyYWN0QmFsYW5jZSwgcGxheWVyUHJvZml0KTsKCiAgICAgICAgICAgIC8qIHNhZmVseSBjYWxjdWxhdGUgdG90YWwgcGF5b3V0IGFzIHBsYXllciBwcm9maXQgcGx1cyBvcmlnaW5hbCB3YWdlciAqLwogICAgICAgICAgICB1aW50IHJld2FyZCA9IHNhZmVBZGQocGxheWVyUHJvZml0LCBwZW5kaW5nQmV0c1tpXS5iZXRTaXplKTsKCiAgICAgICAgICAgIHRvdGFsVXNlclByb2ZpdCA9IHRvdGFsVXNlclByb2ZpdCArIHBsYXllclByb2ZpdDsgLy8gdG90YWwgcHJvZml0cwoKICAgICAgICAgICAgTG9nUmVzdWx0KHBlbmRpbmdCZXRzW2ldLmJldElELCBwZW5kaW5nQmV0c1tpXS5iZXR0b3JBZGRyZXNzLCB1bmRlck51bWJlciwgcmFuZFJlc3VsdCwgcmV3YXJkLCAxLCBwZW5kaW5nQmV0c1tpXS5iZXRTaXplLHVuZGVyTnVtYmVyKTsKCiAgICAgICAgICAgIC8qIHVwZGF0ZSBtYXhpbXVtIHByb2ZpdCAqLwogICAgICAgICAgICBzZXRNYXhQcm9maXQoKTsKCiAgICAgICAgICAgIC8qCiAgICAgICAgICAgICogc2VuZCB3aW4gLSBleHRlcm5hbCBjYWxsIHRvIGFuIHVudHJ1c3RlZCBjb250cmFjdAogICAgICAgICAgICAqIGlmIHNlbmQgZmFpbHMgbWFwIHJld2FyZCB2YWx1ZSB0byBwbGF5ZXJQZW5kaW5nV2l0aGRyYXdhbHNbYWRkcmVzc10KICAgICAgICAgICAgKiBmb3Igd2l0aGRyYXdhbCBsYXRlciB2aWEgcGxheWVyV2l0aGRyYXdQZW5kaW5nVHJhbnNhY3Rpb25zCiAgICAgICAgICAgICovCiAgICAgICAgICAgIGlmKCFwZW5kaW5nQmV0c1tpXS5iZXR0b3JBZGRyZXNzLnNlbmQocmV3YXJkKSl7CiAgICAgICAgICAgICAgICBMb2dSZXN1bHQocGVuZGluZ0JldHNbaV0uYmV0SUQsIHBlbmRpbmdCZXRzW2ldLmJldHRvckFkZHJlc3MsIHVuZGVyTnVtYmVyLCByYW5kUmVzdWx0LCByZXdhcmQsIDIsIHBlbmRpbmdCZXRzW2ldLmJldFNpemUsdW5kZXJOdW1iZXIpOwoKICAgICAgICAgICAgICAgIC8qIGlmIHNlbmQgZmFpbGVkIGxldCBwbGF5ZXIgd2l0aGRyYXcgdmlhIHBsYXllcldpdGhkcmF3UGVuZGluZ1RyYW5zYWN0aW9ucyAqLwogICAgICAgICAgICAgICAgcGxheWVyUGVuZGluZ1dpdGhkcmF3YWxzW3BlbmRpbmdCZXRzW2ldLmJldHRvckFkZHJlc3NdID0gc2FmZUFkZChwbGF5ZXJQZW5kaW5nV2l0aGRyYXdhbHNbcGVuZGluZ0JldHNbaV0uYmV0dG9yQWRkcmVzc10sIHJld2FyZCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG51bUVsZW1lbnRzIC09IDE7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8qCiAgICAgICAgKiBubyB3aW4KICAgICAgICAqIHNlbmQgMSB3ZWkgdG8gYSBsb3NpbmcgYmV0CiAgICAgICAgKiB1cGRhdGUgY29udHJhY3QgYmFsYW5jZSB0byBjYWxjdWxhdGUgbmV3IG1heCBiZXQKICAgICAgICAqLwogICAgICAgIGlmKHJhbmRSZXN1bHQgPj0gdW5kZXJOdW1iZXIpewoKICAgICAgICAgICAgTG9nUmVzdWx0KHBlbmRpbmdCZXRzW2ldLmJldElELCBwZW5kaW5nQmV0c1tpXS5iZXR0b3JBZGRyZXNzLCB1bmRlck51bWJlciwgcmFuZFJlc3VsdCwgcGVuZGluZ0JldHNbaV0uYmV0U2l6ZSwgMCwgcGVuZGluZ0JldHNbaV0uYmV0U2l6ZSx1bmRlck51bWJlcik7CgogICAgICAgICAgICAvKgogICAgICAgICAgICAqICBzYWZlIGFkanVzdCBjb250cmFjdEJhbGFuY2UKICAgICAgICAgICAgKiAgc2V0TWF4UHJvZml0CiAgICAgICAgICAgICogIHNlbmQgMSB3ZWkgdG8gbG9zaW5nIGJldAogICAgICAgICAgICAqLwogICAgICAgICAgICBjb250cmFjdEJhbGFuY2UgPSBzYWZlQWRkKGNvbnRyYWN0QmFsYW5jZSwgcGVuZGluZ0JldHNbaV0uYmV0U2l6ZS0xKTsKCiAgICAgICAgICAgIC8qIHVwZGF0ZSBtYXhpbXVtIHByb2ZpdCAqLwogICAgICAgICAgICBzZXRNYXhQcm9maXQoKTsKCiAgICAgICAgICAgIC8qCiAgICAgICAgICAgICogc2VuZCAxIHdlaSAtIGV4dGVybmFsIGNhbGwgdG8gYW4gdW50cnVzdGVkIGNvbnRyYWN0CiAgICAgICAgICAgICovCiAgICAgICAgICAgIGlmKCFwZW5kaW5nQmV0c1tpXS5iZXR0b3JBZGRyZXNzLnNlbmQoMSkpewogICAgICAgICAgICAgICAgLyogaWYgc2VuZCBmYWlsZWQgbGV0IHBsYXllciB3aXRoZHJhdyB2aWEgcGxheWVyV2l0aGRyYXdQZW5kaW5nVHJhbnNhY3Rpb25zICovCiAgICAgICAgICAgICAgICBwbGF5ZXJQZW5kaW5nV2l0aGRyYXdhbHNbcGVuZGluZ0JldHNbaV0uYmV0dG9yQWRkcmVzc10gPSBzYWZlQWRkKHBsYXllclBlbmRpbmdXaXRoZHJhd2Fsc1twZW5kaW5nQmV0c1tpXS5iZXR0b3JBZGRyZXNzXSwgMSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG51bUVsZW1lbnRzIC09IDE7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CgogICAgLyoKICAgICAqIHB1YmxpYyBmdW5jdGlvbgogICAgICogcGxheWVyIHN1Ym1pdCBiZXQKICAgICAqIG9ubHkgaWYgZ2FtZSBpcyBhY3RpdmUgJiBiZXQgaXMgdmFsaWQgY2FuIHF1ZXJ5IGFuZCBzZXQgcGxheWVyIHZhcnMKICAgICovCiAgICBmdW5jdGlvbiBwbGF5ZXJSb2xsRGljZSgpIHB1YmxpYwogICAgICAgIHBheWFibGUKICAgICAgICBnYW1lSXNBY3RpdmUKICAgICAgICBiZXRJc1ZhbGlkKG1zZy52YWx1ZSwgdW5kZXJOdW1iZXIpCiAgICB7CiAgICAgICAgdG90YWxCZXRzKys7CgogICAgICAgIEJldCBtZW1vcnkgYiA9IEJldChtc2cuc2VuZGVyLG1zZy52YWx1ZSx0b3RhbEJldHMpOwogICAgICAgIGlmKG51bUVsZW1lbnRzID09IHBlbmRpbmdCZXRzLmxlbmd0aCkgewogICAgICAgICAgICBwZW5kaW5nQmV0cy5sZW5ndGggKz0gMTsKICAgICAgICB9CgogICAgICAgIHBlbmRpbmdCZXRzW251bUVsZW1lbnRzKytdID0gYjsKCiAgICAgICAgLyoKICAgICAgICBOb3RpY2UgdGhhdCBzb21lb25lIGhhcyBiZXR0aW5nIHRoYXQgdGhlIGJhbmtlciByZWNlaXZlcyBMb2dCZXRTdGFydCBhbmQgbXVzdCBzdGFydCBTdGFydFJvbGxEaWNlIGltbWVkaWF0ZWx5IHRvIGVuc3VyZSB0aGF0IHRoZSBiYW5rZXIgKGlmIHRoZSBiYW5rZXIgaXMgYSBtaW5lcikgY2FuIG5vdCBtYW5pcHVsYXRlIHRoZSBjdXJyZW50IGJsb2NrIGluZm9ybWF0aW9uIGluIG9yZGVyIHRvIGFjaGlldmUgbWFuaXB1bGF0aW9uIG9mIHRoZSByYW5kb20gbnVtYmVyIHJlc3VsdHMuIFlvdSBjYW4gdmlldyB0aGUgdGltZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIGJldHRpbmcgdHJhbnNhY3Rpb24gYW5kIHRoZSBiYW5rZXIgU3RhcnRSb2xsRGljZSBieSBldGhlcnNjYW4uaW8gKHRoZSBkaWZmZXJlbmNlIGluIHRoZSBudW1iZXIgb2YgYmxvY2tzKQogICAgICAgICovCiAgICAgICAgTG9nQmV0U3RhcnQodG90YWxCZXRzKTsgCiAgICB9CgoKICAgIC8qCiAgICAqIHB1YmxpYyBmdW5jdGlvbgogICAgKiBpbiBjYXNlIG9mIGEgZmFpbGVkIHJlZnVuZCBvciB3aW4gc2VuZAogICAgKi8KICAgIGZ1bmN0aW9uIHBsYXllcldpdGhkcmF3UGVuZGluZ1RyYW5zYWN0aW9ucygpIHB1YmxpYwogICAgICAgIHBheW91dHNBcmVBY3RpdmUKICAgICAgICByZXR1cm5zIChib29sKQogICAgIHsKICAgICAgICB1aW50IHdpdGhkcmF3QW1vdW50ID0gcGxheWVyUGVuZGluZ1dpdGhkcmF3YWxzW21zZy5zZW5kZXJdOwogICAgICAgIHBsYXllclBlbmRpbmdXaXRoZHJhd2Fsc1ttc2cuc2VuZGVyXSA9IDA7CiAgICAgICAgLyogZXh0ZXJuYWwgY2FsbCB0byB1bnRydXN0ZWQgY29udHJhY3QgKi8KICAgICAgICBpZiAobXNnLnNlbmRlci5jYWxsLnZhbHVlKHdpdGhkcmF3QW1vdW50KSgpKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8qIGlmIHNlbmQgZmFpbGVkIHJldmVydCBwbGF5ZXJQZW5kaW5nV2l0aGRyYXdhbHNbbXNnLnNlbmRlcl0gPSAwOyAqLwogICAgICAgICAgICAvKiBwbGF5ZXIgY2FuIHRyeSB0byB3aXRoZHJhdyBhZ2FpbiBsYXRlciAqLwogICAgICAgICAgICBwbGF5ZXJQZW5kaW5nV2l0aGRyYXdhbHNbbXNnLnNlbmRlcl0gPSB3aXRoZHJhd0Ftb3VudDsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICAvKiBjaGVjayBmb3IgcGVuZGluZyB3aXRoZHJhd2FscyAgKi8KICAgIGZ1bmN0aW9uIHBsYXllckdldFBlbmRpbmdUeEJ5QWRkcmVzcyhhZGRyZXNzIGFkZHJlc3NUb0NoZWNrKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBwbGF5ZXJQZW5kaW5nV2l0aGRyYXdhbHNbYWRkcmVzc1RvQ2hlY2tdOwogICAgfQoKICAgIC8qCiAgICAqIGludGVybmFsIGZ1bmN0aW9uCiAgICAqIHNldHMgbWF4IHByb2ZpdAogICAgKi8KICAgIGZ1bmN0aW9uIHNldE1heFByb2ZpdCgpIGludGVybmFsIHsKICAgICAgICBtYXhQcm9maXQgPSAoY29udHJhY3RCYWxhbmNlKm1heFByb2ZpdEFzUGVyY2VudE9mSG91c2UpL21heEJldERpdmlzb3I7CiAgICB9CgogICAgLyoKICAgICogb3duZXIgYWRkcmVzcyBvbmx5IGZ1bmN0aW9ucwogICAgKi8KICAgIGZ1bmN0aW9uICgpCiAgICAgICAgcGF5YWJsZQogICAgewogICAgICAgIHBsYXllclJvbGxEaWNlKCk7CiAgICB9CgogICAgZnVuY3Rpb24gb3duZXJBZGRCYW5rcm9sbCgpCiAgICBwYXlhYmxlCiAgICBvbmx5T3duZXIKICAgIHsKICAgICAgICAvKiBzYWZlbHkgdXBkYXRlIGNvbnRyYWN0IGJhbGFuY2UgKi8KICAgICAgICBjb250cmFjdEJhbGFuY2UgPSBzYWZlQWRkKGNvbnRyYWN0QmFsYW5jZSwgbXNnLnZhbHVlKTsKICAgICAgICAvKiB1cGRhdGUgdGhlIG1heGltdW0gcHJvZml0ICovCiAgICAgICAgc2V0TWF4UHJvZml0KCk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Y29udHJhY3RCYWxhbmNlKCkgcHVibGljIAogICAgb25seU93bmVyIAogICAgcmV0dXJucyh1aW50KQogICAgewogICAgICAgIHJldHVybiBjb250cmFjdEJhbGFuY2U7CiAgICB9CgoKICAgIC8qIG9ubHkgb3duZXIgYWRkcmVzcyBjYW4gc2V0IGhvdXNlRWRnZSAqLwogICAgZnVuY3Rpb24gb3duZXJTZXRIb3VzZUVkZ2UodWludCBuZXdIb3VzZUVkZ2UpIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgewogICAgICAgIGhvdXNlRWRnZSA9IG5ld0hvdXNlRWRnZTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRIb3VzZUVkZ2UoKSBwdWJsaWMgCiAgICBvbmx5T3duZXIgCiAgICByZXR1cm5zKHVpbnQpCiAgICB7CiAgICAgICAgcmV0dXJuIGhvdXNlRWRnZTsKICAgIH0KCiAgICAvKiBvbmx5IG93bmVyIGFkZHJlc3MgY2FuIHNldCBtYXhQcm9maXRBc1BlcmNlbnRPZkhvdXNlICovCiAgICBmdW5jdGlvbiBvd25lclNldE1heFByb2ZpdEFzUGVyY2VudE9mSG91c2UodWludCBuZXdNYXhQcm9maXRBc1BlcmNlbnQpIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgewogICAgICAgIC8qIHJlc3RyaWN0IHRvIG1heGltdW0gcHJvZml0IG9mIDUlIG9mIHRvdGFsIGhvdXNlIGJhbGFuY2UqLwogICAgICAgIHJlcXVpcmUobmV3TWF4UHJvZml0QXNQZXJjZW50IDw9IDUwMDAwKTsKICAgICAgICBtYXhQcm9maXRBc1BlcmNlbnRPZkhvdXNlID0gbmV3TWF4UHJvZml0QXNQZXJjZW50OwogICAgICAgIHNldE1heFByb2ZpdCgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldE1heFByb2ZpdEFzUGVyY2VudE9mSG91c2UoKSBwdWJsaWMgCiAgICBvbmx5T3duZXIgCiAgICByZXR1cm5zKHVpbnQpCiAgICB7CiAgICAgICAgcmV0dXJuIG1heFByb2ZpdEFzUGVyY2VudE9mSG91c2U7CiAgICB9CgogICAgLyogb25seSBvd25lciBhZGRyZXNzIGNhbiBzZXQgbWluQmV0ICovCiAgICBmdW5jdGlvbiBvd25lclNldE1pbkJldCh1aW50IG5ld01pbmltdW1CZXQpIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgewogICAgICAgIG1pbkJldCA9IG5ld01pbmltdW1CZXQ7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0TWluQmV0KCkgcHVibGljIAogICAgb25seU93bmVyIAogICAgcmV0dXJucyh1aW50KQogICAgewogICAgICAgIHJldHVybiBtaW5CZXQ7CiAgICB9CgogICAgLyogb25seSBvd25lciBhZGRyZXNzIGNhbiB0cmFuc2ZlciBldGhlciAqLwogICAgZnVuY3Rpb24gb3duZXJUcmFuc2ZlckV0aGVyKGFkZHJlc3Mgc2VuZFRvLCB1aW50IGFtb3VudCkgcHVibGljCiAgICAgICAgb25seU93bmVyCiAgICB7CiAgICAgICAgLyogc2FmZWx5IHVwZGF0ZSBjb250cmFjdCBiYWxhbmNlIHdoZW4gc2VuZGluZyBvdXQgZnVuZHMqLwogICAgICAgIGNvbnRyYWN0QmFsYW5jZSA9IHNhZmVTdWIoY29udHJhY3RCYWxhbmNlLCBhbW91bnQpOwogICAgICAgIC8qIHVwZGF0ZSBtYXggcHJvZml0ICovCiAgICAgICAgc2V0TWF4UHJvZml0KCk7CiAgICAgICAgcmVxdWlyZShzZW5kVG8uc2VuZChhbW91bnQpKTsKICAgICAgICBMb2dPd25lclRyYW5zZmVyKHNlbmRUbywgYW1vdW50KTsKICAgIH0KCiAgICAvKiBvbmx5IG93bmVyIGFkZHJlc3MgY2FuIHNldCBlbWVyZ2VuY3kgcGF1c2UgIzEgKi8KICAgIGZ1bmN0aW9uIG93bmVyUGF1c2VHYW1lKGJvb2wgbmV3U3RhdHVzKSBwdWJsaWMKICAgICAgICBvbmx5T3duZXIKICAgIHsKICAgICAgICBnYW1lUGF1c2VkID0gbmV3U3RhdHVzOwogICAgfQoKICAgIC8qIG9ubHkgb3duZXIgYWRkcmVzcyBjYW4gc2V0IGVtZXJnZW5jeSBwYXVzZSAjMiAqLwogICAgZnVuY3Rpb24gb3duZXJQYXVzZVBheW91dHMoYm9vbCBuZXdQYXlvdXRTdGF0dXMpIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgewogICAgICAgIHBheW91dHNQYXVzZWQgPSBuZXdQYXlvdXRTdGF0dXM7CiAgICB9CgoKICAgIC8qIG9ubHkgb3duZXIgYWRkcmVzcyBjYW4gc2V0IG93bmVyIGFkZHJlc3MgKi8KICAgIGZ1bmN0aW9uIG93bmVyQ2hhbmdlT3duZXIoYWRkcmVzcyBuZXdPd25lcikgcHVibGljCiAgICAgICAgb25seU93bmVyCiAgICB7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KCiAgICAvKiBvbmx5IG93bmVyIGFkZHJlc3MgY2FuIHN1aWNpZGUgLSBlbWVyZ2VuY3kgKi8KICAgIGZ1bmN0aW9uIG93bmVya2lsbCgpIHB1YmxpYwogICAgICAgIG9ubHlPd25lcgogICAgewogICAgICAgIHN1aWNpZGUob3duZXIpOwogICAgfQoKfQ=='.
	

]
