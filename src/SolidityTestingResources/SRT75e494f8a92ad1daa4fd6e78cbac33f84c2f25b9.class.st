Class {
	#name : #SRT75e494f8a92ad1daa4fd6e78cbac33f84c2f25b9,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT75e494f8a92ad1daa4fd6e78cbac33f84c2f25b9 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTU7Ly9NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NV05LT2tPS1dNTU1NTU0gLy8KLy8gTU1NTVdLa2swS05NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NV05LT2tPS1dNTU1NTU0gLy8KLy8gTU1NTVhsLi4uLi4sY2RPWFdNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NV1hPbzosLi4uLi5kTk1NTU0gLy8KLy8gTU1NV2QuICAgICAgICAuJ2N4S1dNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NVzBkOicuICAgICAgICAueE1NTU0gLy8KLy8gTU1NSywgICAuLi4uLi4gICAuLjp4WFdNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NV0tkOy4gICAgLi4uLi4gICAgOlhNTU0gLy8KLy8gTU1XZC4gICAuOzs7LCwnLi4gICAuJ2xrWE5XV05OTldNTU1NTU1NTU1NV05OV1dXTktrYy4uICAuLi4nLDs7OywuICAgLmtNTU0gLy8KLy8gTU1OYyAgIC4sOjo6Ojo6OywnLi4gICAuLiw7OywsZE5NTU1NTU1NTU1NWGwsOzs7LC4uICAgLi4nOzs6Ojo6OjonLiAgLmxXTU0gLy8KLy8gTU0wJyAgIC47Ojo6Ojo6Ojs7Jy4uICAgICAgICA7ME1NTU1NTU1NTU1NV08nICAgICAgICAuLiw7Ozo6Ojo6Ojo7LiAgIDtLTU0gLy8KLy8gTU14LiAgLic7Ojo6OjssJy4uLiAgICAgICAgLjowTU1NTU1NTU1NTU1NTVdPOy4gICAgICAgIC4uLic7Ozo6Ojo7Li4gIC5PTU0gLy8KLy8gTVdkLiAgLiw6Ojo7Jy4uICAgICAgICAgIC4seE5NTU1NTU1NTU1NTU1NTU1NWGQnLiAgICAgICAgICAuLiw7Ojo6Jy4gIC54TU0gLy8KLy8gTU5sLiAgLiw6OycuLiAgICAgICAgIC4sY2tOTU1NTU1NTU1NTU1NTU1NTU1NTU1YeGMnLiAgICAgICAgIC4uJzs6LC4gIC5kV00gLy8KLy8gTU5jICAgLiwsLi4gICAgLjs6Y2xveDBOV1hYV01NTU1NTU1NTU1NTU1NTU1NTVdYWFdYT3hvbGM6Oy4gICAgLi4sJy4gIC5vV00gLy8KLy8gTU5jICAgLi4uICAgICAub1dNTU1OWE5NVzBvZFhNTU1NTU1NTU1NTU1NTU1NS29vS1dNTlhOTU1NTmMuICAgICAuLi4gIC5vV00gLy8KLy8gTU5jLiAgICAgICAgICA7S01NTU1Oa29rTk1YbGNLTU1NTU1NTU1NTU1NTU0wY29OTU54b09XTU1NTTAsICAgICAgICAgIC5vV00gLy8KLy8gTU5jICAgICAgICAgLjswTU1NTU1NV086ZE5NTm94V01NTU1NTU1NTU1NTU5kZE5NTm9jS01NTU1NTVdPLCAgICAgICAgIC5vV00gLy8KLy8gTVg6ICAgICAgICAubFhNTU1NTU1NTU0wbE9NTU5YV01NTU1NTU1NTU1NTVdYTk1Na2xLTU1NTU1NTU1NMDouICAgICAgIC5sTk0gLy8KLy8gTVg7ICAgICAgLjtrV01NTU1NTU1NTU1NWE5NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTk5NTU1NTU1NTU1NTU54LC4gICAgICBjTk0gLy8KLy8gTU8uICAgIC46a05NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTng6LiAgLiAsME0gLy8KLy8gV2wuLic6ZEtXTU1NTU1NTVdOSzAwMEtOTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTVdOSzAwMEtOTU1NTU1NTU1XMG87Li4uZFcgLy8KLy8gTnhkT1hXTU1NTU1NTVcwb2xjYzo6OywsY3hYV01NTU1NTU1NTU1NTU1NTU1NTVdLZDosLDs6OmNjbGQwV01NTU1NTU1XS2tva1cgLy8KLy8gTU1NTU1NTU1NTU1XT2xjZDBYV1dXTjB4Oi4sT01NTU1NTU1NTU1NTU1NTU1NV2ssJ2N4S05XV1dYT2RjbDBNTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1XS0tXTU1NTU1NTU1NV0swWE1NTU1NTU1NTU1NTU1NTU1NTVhPWFdNTU1NTU1NTU1OMFhNTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1XSzBPT09PMEtXTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU5vLi4uLi4uLid4V01NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NTktPa2trazBYTk1NTU1NTU1NTU1NTU1NTU1NTVdPOy4gICAgLjowV01NTU1NTU1NTU1NTU1NTU1NV05LT2tra2tPS05NTU0gLy8KLy8gTU1XWE9reGRkb2RkeHhrS1dNTU1NTU1NTU1NTU1NTU1NWG8uLi4nZE5NTU1NTU1NTU1NTU1NTU1NTjBreHhkb2RkZHhrMFhNTU0gLy8KLy8gTU1NTU1NTU1NTU1NV05LS05NTU1NTU1NTU1NTU1NTU1NV09jLCxjMFdNTU1NTU1NTU1NTU1NTU1NWEtLTldNTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1XWEtLWFhOV01NTU1NTU1NTU1XV1dXV1gweGNjbGM6Y3hLTldXV1dXTU1NTU1NTU1NTVdOWFhLS1hXTU1NTU1NTU0gLy8KLy8gTU1NV1hPeGRvb29kZHhrTzBOTU1NTU1NTVdLa2ZvYWhoZWl0TlgwR2xpa2t4eGtYTU1NTU1NTVdYME9reGRkb29kZHhPWFdNTU0gLy8KLy8gTU1NV1hLS05OV01NTU1NV1dXTU1NTU1NTU1NV05YWFhOV01NTU1NTVdYWFhYTldNTU1NTU1NTU1XV1dNTU1NV1dOWEtLTldNTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NIEx1Y2t5KiBNTU1NPiAqfisuIGRyb2htYWggPE1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NIE51bWJlciBNTU1NTU1NTU1NPiBmdW5uIDxNTU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NIC0tLS0tLSBNTU1NTU1NTU0+IGRyb2htYSAqfisuIDxNTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NIFJhbmRvbSBNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NIExlZGdlciBNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gTU1NTU0+KioqPGNyZWF0b3I+Li4uPE1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KLy8gfj4gMHgwNTYzY0FDNjFFYTEzYTU5MUE5RTQxMDg3OTI5ZjgwZDMwNzY0NzFkIDx+K34rfit+PiBWSUlJKlhJSSpNTVhWSUkgPH4gLy8KLy8gTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0gLy8KCgovLyBNYW5hZ2VzIGNvbnRyYWN0IG93bmVyc2hpcC4KY29udHJhY3QgT3duZWQgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgICBmdW5jdGlvbiBvd25lZCgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBvbmx5T3duZXIgewogICAgICAgIG93bmVyID0gX25ld093bmVyOwogICAgfQp9Cgpjb250cmFjdCBNb3J0YWwgaXMgT3duZWQgewogICAgLyogRnVuY3Rpb24gdG8gcmVjb3ZlciB0aGUgZnVuZHMgb24gdGhlIGNvbnRyYWN0ICovCiAgICBmdW5jdGlvbiBraWxsKCkgb25seU93bmVyIHsKICAgICAgICBzZWxmZGVzdHJ1Y3Qob3duZXIpOwogICAgfQp9CgovKiB0YWtpbmcgaWRlYXMgZnJvbSBGaXJzdEJsb29kIHRva2VuICovCmNvbnRyYWN0IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIHNhZmVBZGQodWludDI1NiB4LCB1aW50MjU2IHkpIGludGVybmFsIHJldHVybnModWludDI1NikgewogICAgICAgIHVpbnQyNTYgeiA9IHggKyB5OwogICAgICAgIGFzc2VydCgoeiA+PSB4KSAmJiAoeiA+PSB5KSk7CiAgICAgICAgcmV0dXJuIHo7CiAgICB9CiAgICBmdW5jdGlvbiBzYWZlU3VidHJhY3QodWludDI1NiB4LCB1aW50MjU2IHkpIGludGVybmFsIHJldHVybnModWludDI1NikgewogICAgICAgIGFzc2VydCh4ID49IHkpOwogICAgICAgIHVpbnQyNTYgeiA9IHggLSB5OwogICAgICAgIHJldHVybiB6OwogICAgfQogICAgZnVuY3Rpb24gc2FmZU11bHQodWludDI1NiB4LCB1aW50MjU2IHkpIGludGVybmFsIHJldHVybnModWludDI1NikgewogICAgICAgIHVpbnQyNTYgeiA9IHggKiB5OwogICAgICAgIGFzc2VydCgoeCA9PSAwKXx8KHoveCA9PSB5KSk7CiAgICAgICAgcmV0dXJuIHo7CiAgICB9Cn0KCi8vIFJhbmRvbSBpcyBhIGJsb2NrIGhhc2ggYmFzZWQgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IuCi8vIHRoaXMgaXMgcHVibGljIHNvIHJlcXVlc3RvcnMgY2FuIHZhbGlkYXRlIHRoaWVyIG51bWJlcnMKLy8gaW5kZXBlbmRlbnQgb2YgdGhlIG5hdGl2ZSB1c2VyIGludGVyZmFjZQpjb250cmFjdCBSYW5kb20gaXMgU2FmZU1hdGggewogICAgLy8gR2VuZXJhdGVzIGEgcmFuZG9tIG51bWJlciBmcm9tIDEgdG8gbWF4IGJhc2VkIG9uIHRoZSBsYXN0IGJsb2NrIGhhc2guCiAgICBmdW5jdGlvbiBnZXRSYW5kKHVpbnQgYmxvY2tOdW1iZXIsIHVpbnQgbWF4KQogICAgcHVibGljCiAgICBjb25zdGFudCAKICAgIHJldHVybnModWludCkgewogICAgICAgIC8vIGJsb2NrLmJsb2NraGFzaCh1aW50IGJsb2NrTnVtYmVyKSByZXR1cm5zIChieXRlczMyKTogaGFzaCBvZiB0aGUgZ2l2ZW4gYmxvY2sKICAgICAgICAvLyBvbmx5IHdvcmtzIGZvciAyNTYgbW9zdCByZWNlbnQgYmxvY2tzIGV4Y2x1ZGluZyBjdXJyZW50CiAgICAgICAgcmV0dXJuKHNhZmVBZGQodWludChzaGEzKGJsb2NrLmJsb2NraGFzaChibG9ja051bWJlcikpKSAlIG1heCwgMSkpOwogICAgfQp9CgovLyBMdWNreU51bWJlciBpcyB0aGUgbWFpbiBwdWJsaWMgaW50ZXJmYWNlIGZvciBhIHJhbmRvbSBudW1iZXIgbGVkZ2VyLgovLyBUbyBtYWtlIGEgcmVxdWVzdDoKLy8gICBTdGVwIDE6IENhbGwgcmVxdWVzdE51bWJlciB3aXRoIHRoZSBgY29zdGAgYXMgdGhlIHZhbHVlCi8vICAgU3RlcCAyOiBXYWl0IHdhaXRUaW1lIGluIGJsb2NrcyBwYXN0IHRoZSBibG9jayB3aGljaCBtaW5lcyB0cmFuc2FjdGlvbiBmb3IgcmVxdWVzdE51bWJlcgovLyAgIFN0ZXAgMzogQ2FsbCByZXZlYWxOdW1iZXIgdG8gZ2VuZXJhdGUgdGhlIG51bWJlciwgYW5kIG1ha2UgaXQgcHVibGljbHkgYWNjZXNzYWJsZSBpbiB0aGUgVUkuCi8vICAgICAgICAgICB0aGlzIGlzIHJlcXVpcmVkIHRvIGNyZWF0ZSB0aGUgRXZlbnRzIHdoaWNoIGdlbmVyYXRlIHRoZSBMZWRnZXIuIApjb250cmFjdCBMdWNreU51bWJlciBpcyBPd25lZCB7CiAgICAvLyBjb3N0IHRvIGdlbmVyYXRlIGEgcmFuZG9tIG51bWJlciBpbiBXZWkuCiAgICB1aW50MjU2IHB1YmxpYyBjb3N0OwogICAgLy8gd2FpdFRpbWUgaXMgdGhlIG51bWJlciBvZiBibG9ja3MgYmVmb3JlIHJhbmRvbSBpcyBnZW5lcmF0ZWQuCiAgICB1aW50OCBwdWJsaWMgd2FpdFRpbWU7CiAgICAvLyBzZXQgZGVmYXVsdCBtYXgKICAgIHVpbnQyNTYgcHVibGljIG1heDsKCiAgICAvLyBQZW5kaW5nTnVtYmVyIHJlcHJlc2VudHMgb25lIG51bWJlci4KICAgIHN0cnVjdCBQZW5kaW5nTnVtYmVyIHsKICAgICAgICBhZGRyZXNzIHByb3h5OwogICAgICAgIHVpbnQyNTYgcmVuZGVyZWROdW1iZXI7CiAgICAgICAgdWludDI1NiBjcmVhdGlvbkJsb2NrTnVtYmVyOwogICAgICAgIHVpbnQyNTYgbWF4OwogICAgICAgIC8vIGJsb2NrIHRvIHdhaXQKICAgICAgICAvLyB0aGlzIHdpbGwgYWxzbyBiZSB1c2VkIGFzCiAgICAgICAgLy8gYW4gYWN0aXZlIGJvb2wgdG8gc2F2ZSBzb21lIHN0b3JhZ2UKICAgICAgICB1aW50OCB3YWl0VGltZTsKICAgIH0KCiAgICAvLyBmb3IgTnVtYmVyIENvbmZpZyA6OiB1aW50MjU2IGNvc3QsIHVpbnQyNTYgbWF4LCB1aW50OCB3YWl0VGltZQogICAgZXZlbnQgRXZlbnRMdWNreU51bWJlclVwZGF0ZWQodWludDI1NiwgdWludDI1NiwgdWludDgpOwogICAgLy8gZm9yIE51bWJlciBMZWRnZXIKICAgIC8vIDo6IGFkZHJlc3MgcmVxdWVzdG9yLCB1aW50MjU2IG1heCwgdWludDI1NiBjcmVhdGlvbkJsb2NrTnVtYmVyLCB1aW50OCB3YWl0VGltZQogICAgZXZlbnQgRXZlbnRMdWNreU51bWJlclJlcXVlc3RlZChhZGRyZXNzLCB1aW50MjU2LCB1aW50MjU2LCB1aW50OCk7CiAgICAvLyA6OiBhZGRyZXNzIHJlcXVlc3RvciwgdWludDI1NiBjcmVhdGlvbkJsb2NrTnVtYmVyLCB1aW50MjU2IHJlbmRlcmVkTnVtYmVyCiAgICBldmVudCBFdmVudEx1Y2t5TnVtYmVyUmV2ZWFsZWQoYWRkcmVzcywgdWludDI1NiwgdWludDI1Nik7CiAgICAKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gUGVuZGluZ051bWJlcikgcHVibGljIHBlbmRpbmdOdW1iZXJzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgd2hpdGVMaXN0OwoKICAgIGZ1bmN0aW9uIHJlcXVlc3ROdW1iZXIoYWRkcmVzcyBfcmVxdWVzdG9yLCB1aW50MjU2IF9tYXgsIHVpbnQ4IF93YWl0VGltZSkgcGF5YWJsZSBwdWJsaWM7CiAgICBmdW5jdGlvbiByZXZlYWxOdW1iZXIoYWRkcmVzcyBfcmVxdWVzdG9yKSBwYXlhYmxlIHB1YmxpYzsKfQoKLy8gTHVja3lOdW1iZXIgSW1wbGVtZW50YXRpb24KY29udHJhY3QgTHVja3lOdW1iZXJJbXAgaXMgTHVja3lOdW1iZXIsIE1vcnRhbCwgUmFuZG9tIHsKICAgIAogICAgLy8gSW5pdGlhbGl6ZSBzdGF0ZSArLisuKy4KICAgIGZ1bmN0aW9uIEx1Y2t5TnVtYmVySW1wKCkgewogICAgICAgIG93bmVkKCk7CiAgICAgICAgLy8gZGVmYXVsdHMKICAgICAgICBjb3N0ID0gMjAwMDAwMDAwMDAwMDAwMDA7IC8vIDAuMDIgZXRoZXIgLy8gMjAgZmlubmV5CiAgICAgICAgbWF4ID0gMTU7IC8vIGdlbmVyYXRlIG51bWJlciBiZXR3ZWVuIDEgYW5kIDE1CiAgICAgICAgd2FpdFRpbWUgPSAzOyAvLyAzIGJsb2NrcwogICAgfQoKCS8vIExldCBvd25lciBjdXN0b21pemUgZGVmYXV0cy4KICAgIC8vIEFsbG93IHRoZSBvd25lciB0byBzZXQgbWF4LgogICAgZnVuY3Rpb24gc2V0TWF4KHVpbnQyNTYgX21heCkKICAgIG9ubHlPd25lcgogICAgcHVibGljCiAgICByZXR1cm5zIChib29sKSB7CiAgICAgICAgbWF4ID0gX21heDsKICAgICAgICBFdmVudEx1Y2t5TnVtYmVyVXBkYXRlZChjb3N0LCBtYXgsIHdhaXRUaW1lKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBBbGxvdyB0aGUgb3duZXIgdG8gc2V0IHdhaXRUaW1lLiAoaW4gYmxvY2tzKQogICAgZnVuY3Rpb24gc2V0V2FpdFRpbWUodWludDggX3dhaXRUaW1lKQogICAgb25seU93bmVyCiAgICBwdWJsaWMKICAgIHJldHVybnMgKGJvb2wpIHsKICAgICAgICB3YWl0VGltZSA9IF93YWl0VGltZTsKICAgICAgICBFdmVudEx1Y2t5TnVtYmVyVXBkYXRlZChjb3N0LCBtYXgsIHdhaXRUaW1lKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBBbGxvdyB0aGUgb3duZXIgdG8gc2V0IGNvc3QuCiAgICBmdW5jdGlvbiBzZXRDb3N0KHVpbnQyNTYgX2Nvc3QpCiAgICBvbmx5T3duZXIKICAgIHB1YmxpYwogICAgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGNvc3QgPSBfY29zdDsKICAgICAgICBFdmVudEx1Y2t5TnVtYmVyVXBkYXRlZChjb3N0LCBtYXgsIHdhaXRUaW1lKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBBbGxvdyB0aGUgb3duZXIgdG8gc2V0IHByb3h5IGNvbnRyYWN0cywKICAgIC8vIHdoaWNoIGNhbiBhY2NlcHQgdG9rZW5zIG9uIGJlaGFsZiBvZiB0aGlzIGNvbnRyYWN0LgogICAgZnVuY3Rpb24gZW5hYmxlUHJveHkoYWRkcmVzcyBfcHJveHkpCiAgICBvbmx5T3duZXIKICAgIHB1YmxpYwogICAgcmV0dXJucyAoYm9vbCkgewogICAgICAgIC8vIF9jb3N0CiAgICAgICAgd2hpdGVMaXN0W19wcm94eV0gPSB0cnVlOwogICAgICAgIHJldHVybiB3aGl0ZUxpc3RbX3Byb3h5XTsKICAgIH0KCiAgICBmdW5jdGlvbiByZW1vdmVQcm94eShhZGRyZXNzIF9wcm94eSkKICAgIG9ubHlPd25lcgogICAgcHVibGljCiAgICByZXR1cm5zIChib29sKSB7CiAgICAgICAgZGVsZXRlIHdoaXRlTGlzdFtfcHJveHldOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIEFsbG93IHRoZSBvd25lciB0byBjYXNoIG91dCB0aGUgaG9sZGluZ3Mgb2YgdGhpcyBjb250cmFjdC4KICAgIGZ1bmN0aW9uIHdpdGhkcmF3KGFkZHJlc3MgX3JlY2lwaWVudCwgdWludDI1NiBfYmFsYW5jZSkKICAgIG9ubHlPd25lcgogICAgcHVibGljCiAgICByZXR1cm5zIChib29sKSB7CiAgICAgICAgX3JlY2lwaWVudC50cmFuc2ZlcihfYmFsYW5jZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gQXNzdW1lIHRoYXQgc2ltcGxlIHRyYW5zYWN0aW9ucyBhcmUgdHJ5aW5nIHRvIHJlcXVlc3QgYSBudW1iZXIsCiAgICAvLyB1bmxlc3MgaXQgaXMgZnJvbSB0aGUgb3duZXIuCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHB1YmxpYyB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsKICAgICAgICAgICAgcmVxdWVzdE51bWJlcihtc2cuc2VuZGVyLCBtYXgsIHdhaXRUaW1lKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8vIFJlcXVlc3QgYSBOdW1iZXIgLi4uICp+PgogICAgZnVuY3Rpb24gcmVxdWVzdE51bWJlcihhZGRyZXNzIF9yZXF1ZXN0b3IsIHVpbnQyNTYgX21heCwgdWludDggX3dhaXRUaW1lKQogICAgcGF5YWJsZSAKICAgIHB1YmxpYyB7CiAgICAgICAgLy8gZXh0ZXJuYWwgcmVxdWlyZW1lbnQ6IAogICAgICAgIC8vIHZhbHVlIG11c3QgZXhjZWVkIGNvc3QKICAgICAgICAvLyB1bmxlc3MgYWRkcmVzcyBpcyB3aGl0ZWxpc3RlZAogICAgICAgIGlmICghd2hpdGVMaXN0W21zZy5zZW5kZXJdKSB7CiAgICAgICAgICAgIHJlcXVpcmUoIShtc2cudmFsdWUgPCBjb3N0KSk7CiAgICAgICAgfQoKICAgICAgICAvLyBpbnRlcm5hbCByZXF1aXJlbWVudDogCiAgICAgICAgLy8gcmVxdWVzdCBhZGRyZXNzIG11c3Qgbm90IGhhdmUgcGVuZGluZyBudW1iZXIKICAgICAgICBhc3NlcnQoIWNoZWNrTnVtYmVyKF9yZXF1ZXN0b3IpKTsKICAgICAgICAvLyBzZXQgcGVuZGluZyBudW1iZXIKICAgICAgICBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXSA9IFBlbmRpbmdOdW1iZXIoewogICAgICAgICAgICBwcm94eTogdHgub3JpZ2luLAogICAgICAgICAgICByZW5kZXJlZE51bWJlcjogMCwKICAgICAgICAgICAgbWF4OiBtYXgsCiAgICAgICAgICAgIGNyZWF0aW9uQmxvY2tOdW1iZXI6IGJsb2NrLm51bWJlciwKICAgICAgICAgICAgd2FpdFRpbWU6IHdhaXRUaW1lCiAgICAgICAgfSk7CiAgICAgICAgaWYgKF9tYXggPiAxKSB7CiAgICAgICAgICAgIHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLm1heCA9IF9tYXg7CiAgICAgICAgfQogICAgICAgIC8vIG1heCAyNTAgd2FpdCB0byBsZWF2ZSBhIGZldyBibG9ja3MKICAgICAgICAvLyBmb3IgdGhlIHJldmVhbCB0cmFuc2N0aW9uIHRvIG9jY3VyCiAgICAgICAgLy8gYW5kIHdyaXRlIGZyb20gdGhlIHBlbmRpbmcgbnVtYmVycyBibG9jawogICAgICAgIC8vIGJlZm9yZSBpdCBleHBpcmVzCiAgICAgICAgaWYgKF93YWl0VGltZSA+IDAgJiYgX3dhaXRUaW1lIDwgMjUwKSB7CiAgICAgICAgICAgIHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLndhaXRUaW1lID0gX3dhaXRUaW1lOwogICAgICAgIH0KICAgICAgICBFdmVudEx1Y2t5TnVtYmVyUmVxdWVzdGVkKF9yZXF1ZXN0b3IsIHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLm1heCwgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0uY3JlYXRpb25CbG9ja051bWJlciwgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0ud2FpdFRpbWUpOwogICAgfQoKICAgIC8vIFJldmVhbCB5b3VyIG51bWJlciAuLi4gKn4+CiAgICAvLyBPbmx5IHJlcXVlc3RvciBvciBwcm94eSBjYW4gZ2VuZXJhdGUgdGhlIG51bWJlcgogICAgZnVuY3Rpb24gcmV2ZWFsTnVtYmVyKGFkZHJlc3MgX3JlcXVlc3RvcikKICAgIHB1YmxpYwogICAgcGF5YWJsZSB7CiAgICAgICAgYXNzZXJ0KF9jYW5SZXZlYWwoX3JlcXVlc3RvciwgbXNnLnNlbmRlcikpOwogICAgICAgIF9yZXZlYWxOdW1iZXIoX3JlcXVlc3Rvcik7CiAgICB9CgogICAgLy8gSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gb2YgcmV2ZWFsTnVtYmVyKCkuCiAgICBmdW5jdGlvbiBfcmV2ZWFsTnVtYmVyKGFkZHJlc3MgX3JlcXVlc3RvcikgCiAgICBpbnRlcm5hbCB7CiAgICAgICAgLy8gd2FpdFRpbWUgaGFzIHBhc3NlZCwgcmVuZGVyIHRoaXMgcmVxdWVzdG9yJ3MgbnVtYmVyLgogICAgICAgIHVpbnQyNTYgbHVja3lCbG9jayA9IF9yZXZlYWxCbG9jayhfcmVxdWVzdG9yKTsKICAgICAgICAvLyAKICAgICAgICAvLyBUSU1FIExJTUlUQVRJT046CiAgICAgICAgLy8gYmxvY2tzIG9sZGVyIHRoYW4gKGN1cnJlbnRCbG9jayAtIDI1NikgCiAgICAgICAgLy8gImV4cGlyZSIgYW5kIHJlYWQgdGhlIHNhbWUgaGFzaCBhcyBtb3N0IHJlY2VudCB2YWxpZCBibG9jawogICAgICAgIC8vIAogICAgICAgIHVpbnQyNTYgbHVja3lOdW1iZXIgPSBnZXRSYW5kKGx1Y2t5QmxvY2ssIHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLm1heCk7CgogICAgICAgIC8vIHNldCBuZXcgdmFsdWVzCiAgICAgICAgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0ucmVuZGVyZWROdW1iZXIgPSBsdWNreU51bWJlcjsKICAgICAgICAvLyBldmVudAogICAgICAgIEV2ZW50THVja3lOdW1iZXJSZXZlYWxlZChfcmVxdWVzdG9yLCBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS5jcmVhdGlvbkJsb2NrTnVtYmVyLCBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS5yZW5kZXJlZE51bWJlcik7CiAgICAgICAgLy8gemVybyBvdXQgd2FpdCBibG9ja3Mgc2luY2UgdGhpcyBpcyBub3cgaW5hY3RpdmUocmVjb3JkIGtlZXBpbmcpCiAgICAgICAgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0ud2FpdFRpbWUgPSAwOwogICAgfQoKICAgIGZ1bmN0aW9uIGNhblJldmVhbChhZGRyZXNzIF9yZXF1ZXN0b3IpCiAgICBwdWJsaWMKICAgIGNvbnN0YW50CiAgICByZXR1cm5zIChib29sLCB1aW50LCB1aW50LCBhZGRyZXNzLCBhZGRyZXNzKSB7CiAgICAgICAgcmV0dXJuIChfY2FuUmV2ZWFsKF9yZXF1ZXN0b3IsIG1zZy5zZW5kZXIpLCBfcmVtYWluaW5nQmxvY2tzKF9yZXF1ZXN0b3IpLCBfcmV2ZWFsQmxvY2soX3JlcXVlc3RvciksIF9yZXF1ZXN0b3IsIG1zZy5zZW5kZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9jYW5SZXZlYWwoYWRkcmVzcyBfcmVxdWVzdG9yLCBhZGRyZXNzIF9wcm94eSkgCiAgICBpbnRlcm5hbAogICAgY29uc3RhbnQKICAgIHJldHVybnMgKGJvb2wpIHsKICAgICAgICAvLyBjaGVjayBmb3IgcGVuZGluZyBudW1iZXIgcmVxdWVzdAogICAgICAgIGlmIChjaGVja051bWJlcihfcmVxdWVzdG9yKSkgewogICAgICAgICAgICAvLyBjaGVjayBmb3Igbm8gcmVtYWluaW5nIGJsb2NrcyB0byBiZSBtaW5lZAogICAgICAgICAgICAvLyBtdXN0IHdhaXQgZm9yIGBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS53YWl0VGltZWAgdG8gYmUgZXhjY2VlZGVkCiAgICAgICAgICAgIGlmIChfcmVtYWluaW5nQmxvY2tzKF9yZXF1ZXN0b3IpID09IDApIHsKICAgICAgICAgICAgICAgIC8vIGNoZWNrIGZvciBvd25lcnNoaXAKICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS5wcm94eSA9PSBfcmVxdWVzdG9yIHx8IHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLnByb3h5ID09IF9wcm94eSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbiBfcmVtYWluaW5nQmxvY2tzKGFkZHJlc3MgX3JlcXVlc3RvcikKICAgIGludGVybmFsCiAgICBjb25zdGFudAogICAgcmV0dXJucyAodWludCkgewogICAgICAgIHVpbnQyNTYgcmV2ZWFsQmxvY2sgPSBzYWZlQWRkKHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLmNyZWF0aW9uQmxvY2tOdW1iZXIsIHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLndhaXRUaW1lKTsKICAgICAgICB1aW50MjU2IHJlbWFpbmluZ0Jsb2NrcyA9IDA7CiAgICAgICAgaWYgKHJldmVhbEJsb2NrID4gYmxvY2subnVtYmVyKSB7CiAgICAgICAgICAgIHJlbWFpbmluZ0Jsb2NrcyA9IHNhZmVTdWJ0cmFjdChyZXZlYWxCbG9jaywgYmxvY2subnVtYmVyKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlbWFpbmluZ0Jsb2NrczsKICAgIH0KCiAgICBmdW5jdGlvbiBfcmV2ZWFsQmxvY2soYWRkcmVzcyBfcmVxdWVzdG9yKQogICAgaW50ZXJuYWwKICAgIGNvbnN0YW50CiAgICByZXR1cm5zICh1aW50KSB7CiAgICAgICAgLy8gYWRkIHdhaXQgYmxvY2sgdGltZQogICAgICAgIC8vIHRvIGNyZWF0aW9uIGJsb2NrIHRpbWUKICAgICAgICAvLyB0aGVuIHN1YnRyYWN0IDEKICAgICAgICByZXR1cm4gc2FmZUFkZChwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS5jcmVhdGlvbkJsb2NrTnVtYmVyLCBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS53YWl0VGltZSk7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGdldE51bWJlcihhZGRyZXNzIF9yZXF1ZXN0b3IpCiAgICBwdWJsaWMKICAgIGNvbnN0YW50CiAgICByZXR1cm5zICh1aW50LCB1aW50LCB1aW50LCBhZGRyZXNzKSB7CiAgICAgICAgcmV0dXJuIChwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS5yZW5kZXJlZE51bWJlciwgcGVuZGluZ051bWJlcnNbX3JlcXVlc3Rvcl0ubWF4LCBwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS5jcmVhdGlvbkJsb2NrTnVtYmVyLCBfcmVxdWVzdG9yKTsKICAgIH0KCiAgICAvLyBpcyBhIG51bWJlciBwZW5kaW5nIGZvciB0aGlzIHJlcXVlc3Rvcj8KICAgIC8vIFRSVUU6IHRoZXJlIGlzIGEgbnVtYmVyIHBlbmRpbmcKICAgIC8vIGNhbiBub3QgcmVxdWVzdCwgY2FuIHJldmVhbAogICAgLy8gRkFMU0U6IHRoZXJlIGlzIG5vdCBhIG51bWJlciB5ZXQgcGVuZGluZwogICAgZnVuY3Rpb24gY2hlY2tOdW1iZXIoYWRkcmVzcyBfcmVxdWVzdG9yKQogICAgcHVibGljCiAgICBjb25zdGFudAogICAgcmV0dXJucyAoYm9vbCkgewogICAgICAgIGlmIChwZW5kaW5nTnVtYmVyc1tfcmVxdWVzdG9yXS5yZW5kZXJlZE51bWJlciA9PSAwICYmIHBlbmRpbmdOdW1iZXJzW19yZXF1ZXN0b3JdLndhaXRUaW1lID4gMCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQovLyAweE1NV0trazBLTi8+SEJCaS9NQVNTYS9EQU5UaS9MQU5UZW4uTUkuTUkuTUkuTSsuKy4rLk0tPk1NTVdOS09rT0tXSi5KLkouTSAvLwp9'.
	

]
