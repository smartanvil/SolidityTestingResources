Class {
	#name : #SRTe2ccc4f900bf1d74f76e43e5434c221ecc6a8a52,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe2ccc4f900bf1d74f76e43e5434c221ecc6a8a52 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgoKY29udHJhY3QgT3duZWQKewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgbW9kaWZpZXIgb25seU93bmVyCgl7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIoKQoJewogICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9Cn0KCmNvbnRyYWN0IEFncmljb2luIGlzIE93bmVkCnsKICAgIC8vIERpdmlkZW5kcyBwYXlvdXQgc3RydWN0LgogICAgc3RydWN0IERpdmlkZW5kUGF5b3V0CiAgICB7CiAgICAgICAgdWludCBhbW91bnQ7ICAgICAgICAgICAgLy8gVmFsdWUgb2YgZGl2aWRlbmQgcGF5b3V0LgogICAgICAgIHVpbnQgbW9tZW50VG90YWxTdXBwbHk7IC8vIFRvdGFsIHN1cHBseSBpbiBwYXlvdXQgbW9tZW50LAogICAgfQoKICAgIC8vIFJlZGVtcHRpb24gcGF5b3V0IHN0cnVjdC4KICAgIHN0cnVjdCBSZWRlbXB0aW9uUGF5b3V0CiAgICB7CiAgICAgICAgdWludCBhbW91bnQ7ICAgICAgICAgICAgLy8gVmFsdWUgb2YgcmVkZW1wdGlvbiBwYXlvdXQuCiAgICAgICAgdWludCBtb21lbnRUb3RhbFN1cHBseTsgLy8gVG90YWwgc3VwcGx5IGluIHBheW91dCBtb21lbnQuCiAgICAgICAgdWludCBwcmljZTsgICAgICAgICAgICAgLy8gUHJpY2Ugb2YgQWdyaWNvaW4gaW4gd2Vpcy4KICAgIH0KCiAgICAvLyBCYWxhbmNlIHN0cnVjdCB3aXRoIGRpdmlkZW5kcyBhbmQgcmVkZW1wdGlvbnMgcmVjb3JkLgogICAgc3RydWN0IEJhbGFuY2UKICAgIHsKICAgICAgICB1aW50IGljb0JhbGFuY2U7CiAgICAgICAgdWludCBiYWxhbmNlOyAgICAgICAgICAgICAgICAgICAgICAgLy8gQWdyaWNvaW4gYmFsYW5jZS4KICAgICAgICB1aW50IHBvc2libGVEaXZpZGVuZHM7ICAgICAgICAgICAgICAvLyBEaXZpZGVuZCBudW1iZXIsIHdoaWNoIHVzZXIgY2FuIGdldC4KICAgICAgICB1aW50IGxhc3REaXZpZGVuc1BheW91dE51bWJlcjsgICAgICAvLyBMYXN0IGRpdmlkZW5kIHBheW91dCBpbmRleCwgd2hpY2ggdXNlciBoYXMgZ290dGVuLgogICAgICAgIHVpbnQgcG9zaWJsZVJlZGVtcHRpb247ICAgICAgICAgICAgIC8vIFJlZGVtcHRpb24gdmFsdWUgaW4gd2Vpcywgd2hpY2ggdXNlciBjYW4gdXNlLgogICAgICAgIHVpbnQgbGFzdFJlZGVtcHRpb25QYXlvdXROdW1iZXI7ICAgIC8vIExhc3QgcmVkZW1wdGlvbiBwYXlvdXQgaW5kZXgsIHdoaWNoIHVzZXIgaGFzIHVzZWQuCiAgICB9CgogICAgLy8gQ2FuIGFjdCBvbmx5IG9uZSBmcm9tIHBheWVycy4KICAgIG1vZGlmaWVyIG9ubHlQYXllcigpCiAgICB7CiAgICAgICAgcmVxdWlyZShwYXllcnNbbXNnLnNlbmRlcl0pOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIC8vIENhbiBhY3Qgb25seSBhZnRlciB0b2tlbiBhY3RpdmF0aW9uLgogICAgbW9kaWZpZXIgb25seUFjdGl2YXRlZCgpCiAgICB7CiAgICAgICAgcmVxdWlyZShpc0FjdGl2ZSk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLyBUcmFuc2ZlciBldmVudC4KICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludCBfdmFsdWUpOyAgICAKCiAgICAvLyBBcHByb3ZlIGV2ZW50LgogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50IF92YWx1ZSk7CgogICAgLy8gQWN0aXZhdGUgZXZlbnQuCiAgICBldmVudCBBY3RpdmF0ZShib29sIGljb1N1Y2Nlc3NmdWwpOwoKICAgIC8vIERpdmlkZW5kUGF5b3V0IGRpdmlkZW5kcyBldmVudC4KICAgIGV2ZW50IFBheW91dERpdmlkZW5kcyh1aW50IGV0aGVyQW1vdW50LCB1aW50IGluZGV4ZWQgaWQpOwoKICAgIC8vIERpdmlkZW5kUGF5b3V0IHJlZGVtcHRpb24gZXZlbnQuCiAgICBldmVudCBQYXlvdXRSZWRlbXB0aW9uKHVpbnQgZXRoZXJBbW91bnQsIHVpbnQgaW5kZXhlZCBpZCwgdWludCBwcmljZSk7CgogICAgLy8gR2V0IHVucGFpZCBldmVudC4KICAgIGV2ZW50IEdldFVucGFpZCh1aW50IGV0aGVyQW1vdW50KTsKCiAgICAvLyBHZXQgZGl2aWRlbmRzLgogICAgZXZlbnQgR2V0RGl2aWRlbmRzKGFkZHJlc3MgaW5kZXhlZCBpbnZlc3RvciwgdWludCBldGhlckFtb3VudCk7CgogICAgLy8gQ29uc3RydWN0b3IuCiAgICBmdW5jdGlvbiBBZ3JpY29pbih1aW50IHBheW91dF9wZXJpb2Rfc3RhcnQsIHVpbnQgcGF5b3V0X3BlcmlvZF9lbmQsIGFkZHJlc3MgX3BheWVyKSBwdWJsaWMKICAgIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7Ly8gU2F2ZSB0aGUgb3duZXIuCgogICAgICAgIC8vIFNldCBwYXlvdXQgcGVyaW9kLgogICAgICAgIHBheW91dFBlcmlvZFN0YXJ0ID0gcGF5b3V0X3BlcmlvZF9zdGFydDsKICAgICAgICBwYXlvdXRQZXJpb2RFbmQgPSBwYXlvdXRfcGVyaW9kX2VuZDsKCiAgICAgICAgcGF5ZXJzW19wYXllcl0gPSB0cnVlOwogICAgfQoKICAgIC8vIEFjdGl2YXRlIHRva2VuLgoJZnVuY3Rpb24gYWN0aXZhdGUoYm9vbCBpY29TdWNjZXNzZnVsKSBvbmx5T3duZXIoKSBleHRlcm5hbCByZXR1cm5zIChib29sKQoJewoJCXJlcXVpcmUoIWlzQWN0aXZlKTsvLyBDaGVjayBvbmNlIGFjdGl2YXRpb24uCgogICAgICAgIHN0YXJ0RGF0ZSA9IG5vdzsvLyBTYXZlIGFjdGl2YXRpb24gZGF0ZS4KCQlpc0FjdGl2ZSA9IHRydWU7Ly8gTWFrZSB0b2tlbiBhY3RpdmUuCgkJb3duZXIgPSAweDAwOy8vIFNldCBvd25lciB0byBudWxsLgoJCQogICAgICAgIGlmIChpY29TdWNjZXNzZnVsKQogICAgICAgIHsKICAgICAgICAgICAgaXNTdWNjZXNzZnVsSWNvID0gdHJ1ZTsKICAgICAgICAgICAgdG90YWxTdXBwbHkgKz0gdG90YWxTdXBwbHlPbkljbzsKICAgICAgICAgICAgQWN0aXZhdGUodHJ1ZSk7Ly8gQ2FsbCBhY3RpdmF0aW9uIGV2ZW50LgogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICBBY3RpdmF0ZShmYWxzZSk7Ly8gQ2FsbCBhY3RpdmF0aW9uIGV2ZW50LgogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRydWU7Cgl9CgogICAgLy8gQWRkIG5ldyBwYXllciBieSBwYXllci4KICAgIGZ1bmN0aW9uIGFkZFBheWVyKGFkZHJlc3MgcGF5ZXIpIG9ubHlQYXllcigpIGV4dGVybmFsCiAgICB7CiAgICAgICAgcGF5ZXJzW3BheWVyXSA9IHRydWU7CiAgICB9CgogICAgLy8gR2V0IGJhbGFuY2Ugb2YgYWRkcmVzcy4KCWZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIG93bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KQoJewoJCXJldHVybiBiYWxhbmNlc1tvd25lcl0uYmFsYW5jZTsKCX0KCiAgICAvLyBHZXQgcG9zaWJsZSBkaXZpZGVuZHMgdmFsdWUuCiAgICBmdW5jdGlvbiBwb3NpYmxlRGl2aWRlbmRzT2YoYWRkcmVzcyBvd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludCkKICAgIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbb3duZXJdLnBvc2libGVEaXZpZGVuZHM7CiAgICB9CgogICAgLy8gR2V0IHBvc2libGUgcmVkZW1wdGlvbiB2YWx1ZS4KICAgIGZ1bmN0aW9uIHBvc2libGVSZWRlbXB0aW9uT2YoYWRkcmVzcyBvd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludCkKICAgIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbb3duZXJdLnBvc2libGVSZWRlbXB0aW9uOwogICAgfQoKICAgIC8vIFRyYW5zZmVyIF92YWx1ZSBldGhlcmVzIHRvIF90by4KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seUFjdGl2YXRlZCgpIGV4dGVybmFsIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2YobXNnLnNlbmRlcikgPj0gX3ZhbHVlKTsKCiAgICAgICAgcmVjYWxjdWxhdGUobXNnLnNlbmRlcik7Ly8gUmVjYWxjdWxhdGUgdXNlcidzIHN0cnVjdC4KICAgICAgICAKICAgICAgICBpZiAoX3RvICE9IDB4MDApLy8gRm9yIG5vcm1hbCB0cmFuc2Zlci4KICAgICAgICB7CiAgICAgICAgICAgIHJlY2FsY3VsYXRlKF90byk7Ly8gUmVjYWxjdWxhdGUgcmVjaXBpZW50J3Mgc3RydWN0LgoKICAgICAgICAgICAgLy8gQ2hhbmdlIGJhbGFuY2VzLgogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXS5iYWxhbmNlIC09IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXS5iYWxhbmNlICs9IF92YWx1ZTsKCiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsvLyBDYWxsIHRyYW5zZmVyIGV2ZW50LgogICAgICAgIH0KICAgICAgICBlbHNlLy8gRm9yIHJlZGVtcHRpb24gdHJhbnNmZXIuCiAgICAgICAgewogICAgICAgICAgICByZXF1aXJlKHBheW91dFBlcmlvZFN0YXJ0IDw9IG5vdyAmJiBub3cgPj0gcGF5b3V0UGVyaW9kRW5kKTsvLyBDaGVjayByZWRlbXB0aW9uIHBlcmlvZC4KICAgICAgICAgICAgCiAgICAgICAgICAgIHVpbnQgYW1vdW50ID0gX3ZhbHVlICogcmVkZW1wdGlvblBheW91dHNbYW1vdW50T2ZSZWRlbXB0aW9uUGF5b3V0c10ucHJpY2U7Ly8gQ2FsY3VsYXRlIGFtb3VudCBvZiB3ZWlzIGluIHJlZGVtcHRpb24uCgogICAgICAgICAgICByZXF1aXJlKGFtb3VudCA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5wb3NpYmxlUmVkZW1wdGlvbik7Ly8gQ2hlY2sgcmVkZW1wdGlvbiBsaW1pdHMuCgogICAgICAgICAgICAvLyBDaGFuZ2UgdXNlcidzIHN0cnVjdC4KICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0ucG9zaWJsZVJlZGVtcHRpb24gLT0gYW1vdW50OwogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXS5iYWxhbmNlIC09IF92YWx1ZTsKCiAgICAgICAgICAgIHRvdGFsU3VwcGx5IC09IF92YWx1ZTsvLyBEZWNyZWFzZSB0b3RhbCBzdXBwbHkuCgogICAgICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGFtb3VudCk7Ly8gVHJhbnNmZXIgcmVkZW1wdGlvbiB0byB1c2VyLgoKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOy8vIENhbGwgdHJhbnNmZXIgZXZlbnQuCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBUcmFuc2ZlciBmcm9tIF9mcm9tIHRvIF90byBfdmFsdWUgdG9rZW5zLgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgb25seUFjdGl2YXRlZCgpIGV4dGVybmFsIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgLy8gQ2hlY2sgdHJhbnNmZXIgcG9zaWJpbGl0eS4KICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19mcm9tXS5iYWxhbmNlID49IF92YWx1ZSk7CiAgICAgICAgcmVxdWlyZShhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUpOwogICAgICAgIHJlcXVpcmUoX3RvICE9IDB4MDApOwoKICAgICAgICAvLyBSZWNhbGN1bGF0ZSBzdHJ1Y3RzLgogICAgICAgIHJlY2FsY3VsYXRlKF9mcm9tKTsKICAgICAgICByZWNhbGN1bGF0ZShfdG8pOwoKICAgICAgICAvLyBDaGFuZ2UgYmFsYW5jZXMuCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dLmJhbGFuY2UgLT0gX3ZhbHVlOwogICAgICAgIGJhbGFuY2VzW190b10uYmFsYW5jZSArPSBfdmFsdWU7CiAgICAgICAgCiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsvLyBDYWxsIHRyYW5mZXIgZXZlbnQuCiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gQXBwcm92ZSBmb3IgdHJhbnNmZXJzLgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgb25seUFjdGl2YXRlZCgpIHB1YmxpYyByZXR1cm5zIChib29sKQogICAgewogICAgICAgIC8vIFJlY2FsY3VsYXRlIHN0cnVjdHMuCiAgICAgICAgcmVjYWxjdWxhdGUobXNnLnNlbmRlcik7CiAgICAgICAgcmVjYWxjdWxhdGUoX3NwZW5kZXIpOwoKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsvLyBTZXQgYWxsb3dlZC4KICAgICAgICAKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsvLyBDYWxsIGFwcHJvdmFsIGV2ZW50LgogICAgICAgIAogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIEdldCBhbGxvd2FuY2UuCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIG9ubHlBY3RpdmF0ZWQoKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQpCiAgICB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgLy8gTWludCBfdmFsdWUgdG9rZW5zIHRvIF90byBhZGRyZXNzLgogICAgZnVuY3Rpb24gbWludChhZGRyZXNzIF90bywgdWludCBfdmFsdWUsIGJvb2wgaWNvTWludGluZykgb25seU93bmVyKCkgZXh0ZXJuYWwgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICByZXF1aXJlKCFpc0FjdGl2ZSk7Ly8gQ2hlY2sgbm8gYWN0aXZhdGlvbi4KCiAgICAgICAgaWYgKGljb01pbnRpbmcpCiAgICAgICAgewogICAgICAgICAgICBiYWxhbmNlc1tfdG9dLmljb0JhbGFuY2UgKz0gX3ZhbHVlOwogICAgICAgICAgICB0b3RhbFN1cHBseU9uSWNvICs9IF92YWx1ZTsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXS5iYWxhbmNlICs9IF92YWx1ZTsvLyBJbmNyZWFzZSB1c2VyJ3MgYmFsYW5jZS4KICAgICAgICAgICAgdG90YWxTdXBwbHkgKz0gX3ZhbHVlOy8vIEluY3JlYXNlIHRvdGFsIHN1cHBseS4KCiAgICAgICAgICAgIFRyYW5zZmVyKDB4MDAsIF90bywgX3ZhbHVlKTsvLyBDYWxsIHRyYW5zZmVyIGV2ZW50LgogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBQYXkgZGl2aWRlbmRzLgogICAgZnVuY3Rpb24gcGF5RGl2aWRlbmRzKCkgb25seVBheWVyKCkgb25seUFjdGl2YXRlZCgpIGV4dGVybmFsIHBheWFibGUgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICByZXF1aXJlKG5vdyA+PSBwYXlvdXRQZXJpb2RTdGFydCAmJiBub3cgPD0gcGF5b3V0UGVyaW9kRW5kKTsvLyBDaGVjayBwYXlvdXQgcGVyaW9kLgoKICAgICAgICBkaXZpZGVuZFBheW91dHNbYW1vdW50T2ZEaXZpZGVuZHNQYXlvdXRzXS5hbW91bnQgPSBtc2cudmFsdWU7Ly8gU2V0IHBheW91dCBhbW91bnQgaW4gd2Vpcy4KICAgICAgICBkaXZpZGVuZFBheW91dHNbYW1vdW50T2ZEaXZpZGVuZHNQYXlvdXRzXS5tb21lbnRUb3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5Oy8vIFNhdmUgdG90YWwgc3VwcGx5IG9uIHRoYXQgbW9tZW50LgogICAgICAgIAogICAgICAgIFBheW91dERpdmlkZW5kcyhtc2cudmFsdWUsIGFtb3VudE9mRGl2aWRlbmRzUGF5b3V0cyk7Ly8gQ2FsbCBkaXZpZGVuZCBwYXlvdXQgZXZlbnQuCgogICAgICAgIGFtb3VudE9mRGl2aWRlbmRzUGF5b3V0cysrOy8vIEluY3JlbWVudCBkaXZpZGVuZCBwYXlvdXRzIGFtb3VudC4KCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gUGF5IHJlZGVtcHRpb24uCiAgICBmdW5jdGlvbiBwYXlSZWRlbXB0aW9uKHVpbnQgcHJpY2UpIG9ubHlQYXllcigpIG9ubHlBY3RpdmF0ZWQoKSBleHRlcm5hbCBwYXlhYmxlIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgcmVxdWlyZShub3cgPj0gcGF5b3V0UGVyaW9kU3RhcnQgJiYgbm93IDw9IHBheW91dFBlcmlvZEVuZCk7Ly8gQ2hlY2sgcGF5b3V0IHBlcmlvZC4KCiAgICAgICAgcmVkZW1wdGlvblBheW91dHNbYW1vdW50T2ZSZWRlbXB0aW9uUGF5b3V0c10uYW1vdW50ID0gbXNnLnZhbHVlOy8vIFNldCBwYXlvdXQgYW1vdW50IGluIHdlaXMuCiAgICAgICAgcmVkZW1wdGlvblBheW91dHNbYW1vdW50T2ZSZWRlbXB0aW9uUGF5b3V0c10ubW9tZW50VG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseTsvLyBTYXZlIHRvdGFsIHN1cHBseSBvbiB0aGF0IG1vbWVudC4KICAgICAgICByZWRlbXB0aW9uUGF5b3V0c1thbW91bnRPZlJlZGVtcHRpb25QYXlvdXRzXS5wcmljZSA9IHByaWNlOy8vIFNldCBwcmljZSBvZiBBZ3JpY29pbiBpbiB3ZWlzIGF0IHRoaXMgcmVkZW1wdGlvbiBtb21lbnQuCgogICAgICAgIFBheW91dFJlZGVtcHRpb24obXNnLnZhbHVlLCBhbW91bnRPZlJlZGVtcHRpb25QYXlvdXRzLCBwcmljZSk7Ly8gQ2FsbCByZWRlbXB0aW9uIHBheW91dCBldmVudC4KCiAgICAgICAgYW1vdW50T2ZSZWRlbXB0aW9uUGF5b3V0cysrOy8vIEluY3JlbWVudCByZWRlbXB0aW9uIHBheW91dHMgYW1vdW50LgoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBHZXQgYmFjayB1bnBhaWQgZGl2aWRlbmRzIGFuZCByZWRlbXB0aW9uLgogICAgZnVuY3Rpb24gZ2V0VW5wYWlkKCkgb25seVBheWVyKCkgb25seUFjdGl2YXRlZCgpIGV4dGVybmFsIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgcmVxdWlyZShub3cgPj0gcGF5b3V0UGVyaW9kRW5kKTsvLyBDaGVjayBlbmQgcGF5b3V0IHBlcmlvZC4KCiAgICAgICAgR2V0VW5wYWlkKHRoaXMuYmFsYW5jZSk7Ly8gQ2FsbCBnZXR0aW5nIHVucGFpZCBldGhlciBldmVudC4KCiAgICAgICAgbXNnLnNlbmRlci50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOy8vIFRyYW5zZmVyIGFsbCBldGhlcnMgYmFjayB0byBwYXllci4KCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gUmVjYWxjdWxhdGVzIGRpdmlkZW5kcyBhbmQgcmVkdW1wdGlvbnMuCiAgICBmdW5jdGlvbiByZWNhbGN1bGF0ZShhZGRyZXNzIHVzZXIpIG9ubHlBY3RpdmF0ZWQoKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICBpZiAoaXNTdWNjZXNzZnVsSWNvKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKGJhbGFuY2VzW3VzZXJdLmljb0JhbGFuY2UgIT0gMCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgYmFsYW5jZXNbdXNlcl0uYmFsYW5jZSArPSBiYWxhbmNlc1t1c2VyXS5pY29CYWxhbmNlOwogICAgICAgICAgICAgICAgVHJhbnNmZXIoMHgwMCwgdXNlciwgYmFsYW5jZXNbdXNlcl0uaWNvQmFsYW5jZSk7CiAgICAgICAgICAgICAgICBiYWxhbmNlc1t1c2VyXS5pY29CYWxhbmNlID0gMDsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gQ2hlY2sgZm9yIG5lY2Vzc2l0eSBvZiByZWNhbGN1bGF0aW9uLgogICAgICAgIGlmIChiYWxhbmNlc1t1c2VyXS5sYXN0RGl2aWRlbnNQYXlvdXROdW1iZXIgPT0gYW1vdW50T2ZEaXZpZGVuZHNQYXlvdXRzICYmCiAgICAgICAgICAgIGJhbGFuY2VzW3VzZXJdLmxhc3RSZWRlbXB0aW9uUGF5b3V0TnVtYmVyID09IGFtb3VudE9mUmVkZW1wdGlvblBheW91dHMpCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHVpbnQgYWRkZWREaXZpZGVuZCA9IDA7CgogICAgICAgIC8vIEZvciBkaXZpZGVuZHMuCiAgICAgICAgZm9yICh1aW50IGkgPSBiYWxhbmNlc1t1c2VyXS5sYXN0RGl2aWRlbnNQYXlvdXROdW1iZXI7IGkgPCBhbW91bnRPZkRpdmlkZW5kc1BheW91dHM7IGkrKykKICAgICAgICB7CiAgICAgICAgICAgIGFkZGVkRGl2aWRlbmQgKz0gKGJhbGFuY2VzW3VzZXJdLmJhbGFuY2UgKiBkaXZpZGVuZFBheW91dHNbaV0uYW1vdW50KSAvIGRpdmlkZW5kUGF5b3V0c1tpXS5tb21lbnRUb3RhbFN1cHBseTsKICAgICAgICB9CgogICAgICAgIGJhbGFuY2VzW3VzZXJdLnBvc2libGVEaXZpZGVuZHMgKz0gYWRkZWREaXZpZGVuZDsKICAgICAgICBiYWxhbmNlc1t1c2VyXS5sYXN0RGl2aWRlbnNQYXlvdXROdW1iZXIgPSBhbW91bnRPZkRpdmlkZW5kc1BheW91dHM7CgogICAgICAgIHVpbnQgYWRkZWRSZWRlbXB0aW9uID0gMDsKCiAgICAgICAgLy8gRm9yIHJlZGVtcHRpb24uCiAgICAgICAgZm9yICh1aW50IGogPSBiYWxhbmNlc1t1c2VyXS5sYXN0UmVkZW1wdGlvblBheW91dE51bWJlcjsgaiA8IGFtb3VudE9mUmVkZW1wdGlvblBheW91dHM7IGorKykKICAgICAgICB7CiAgICAgICAgICAgIGFkZGVkUmVkZW1wdGlvbiArPSAoYmFsYW5jZXNbdXNlcl0uYmFsYW5jZSAqIHJlZGVtcHRpb25QYXlvdXRzW2pdLmFtb3VudCkgLyByZWRlbXB0aW9uUGF5b3V0c1tqXS5tb21lbnRUb3RhbFN1cHBseTsKICAgICAgICB9CgogICAgICAgIGJhbGFuY2VzW3VzZXJdLnBvc2libGVSZWRlbXB0aW9uICs9IGFkZGVkUmVkZW1wdGlvbjsKICAgICAgICBiYWxhbmNlc1t1c2VyXS5sYXN0UmVkZW1wdGlvblBheW91dE51bWJlciA9IGFtb3VudE9mUmVkZW1wdGlvblBheW91dHM7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIEdldCBkaXZpZGVuZHMuCiAgICBmdW5jdGlvbiAoKSBleHRlcm5hbCBwYXlhYmxlCiAgICB7CiAgICAgICAgaWYgKHBheW91dFBlcmlvZFN0YXJ0ID49IG5vdyAmJiBub3cgPD0gcGF5b3V0UGVyaW9kRW5kKS8vIENoZWNrIHBheW91dCBwZXJpb2QuCiAgICAgICAgewogICAgICAgICAgICBpZiAocG9zaWJsZURpdmlkZW5kc09mKG1zZy5zZW5kZXIpID4gMCkvLyBDaGVjayBwb3NpYmxlIGRpdmlkZW5kcy4KICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdWludCBkaXZpZGVuZHNBbW91bnQgPSBwb3NpYmxlRGl2aWRlbmRzT2YobXNnLnNlbmRlcik7Ly8gR2V0IHBvc2libGUgZGl2aWRlbmRzIGFtb3VudC4KCiAgICAgICAgICAgICAgICBHZXREaXZpZGVuZHMobXNnLnNlbmRlciwgZGl2aWRlbmRzQW1vdW50KTsvLyBDYWxsIGdldHRpbmcgZGl2aWRlbmRzIGV2ZW50LgoKICAgICAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdLnBvc2libGVEaXZpZGVuZHMgPSAwOy8vIFNldCBiYWxhbmNlIHRvIHplcm8uCgogICAgICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihkaXZpZGVuZHNBbW91bnQpOy8vIFRyYW5zZmVyIGRpdmlkZW5kcyBhbW91bnQuCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgLy8gVG9rZW4gbmFtZS4KICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJBZ3JpY29pbiI7CiAgICAKICAgIC8vIFRva2VuIG1hcmtldCBzeW1ib2wuCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJBR1IiOwogICAgCiAgICAvLyBBbW91bnQgb2YgZGlnaXRzIGFmdGVyIGNvbW1hLgogICAgdWludCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAyOwoKICAgIC8vIFRvdGFsIHN1cHBseS4KICAgIHVpbnQgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIC8vIFRvdGFsIHN1cHBseSBvbiBJQ08gb25seTsKICAgIHVpbnQgcHVibGljIHRvdGFsU3VwcGx5T25JY287CiAgICAgICAKICAgIC8vIEFjdGl2YXRpb24gZGF0ZS4KICAgIHVpbnQgcHVibGljIHN0YXJ0RGF0ZTsKICAgIAogICAgLy8gUGF5bWVudCBwZXJpb2Qgc3RhcnQgZGF0ZSwgc2V0dGVkIGJ5IElDTyBjb250cmFjdCBiZWZvcmUgYWN0aXZhdGlvbi4KICAgIHVpbnQgcHVibGljIHBheW91dFBlcmlvZFN0YXJ0OwogICAgCiAgICAvLyBQYXltZW50IHBlcmlvZCBsYXN0IGRhdGUsIHNldHRlZCBieSBJQ08gY29udHJhY3QgYmVmb3JlIGFjdGl2YXRpb24uCiAgICB1aW50IHB1YmxpYyBwYXlvdXRQZXJpb2RFbmQ7CiAgICAKICAgIC8vIERpdmlkZW5kcyBEaXZpZGVuZFBheW91dCBjb3VudGVyLgogICAgdWludCBwdWJsaWMgYW1vdW50T2ZEaXZpZGVuZHNQYXlvdXRzID0gMDsKCiAgICAvLyBSZWRlbXB0aW9uIERpdmlkZW5kUGF5b3V0IGNvdW50ZXIuCiAgICB1aW50IHB1YmxpYyBhbW91bnRPZlJlZGVtcHRpb25QYXlvdXRzID0gMDsKCiAgICAvLyBEaXZpZGVuZCBwYXlvdXRzLgogICAgbWFwcGluZyAodWludCA9PiBEaXZpZGVuZFBheW91dCkgcHVibGljIGRpdmlkZW5kUGF5b3V0czsKICAgIAogICAgLy8gUmVkZW1wdGlvbiBwYXlvdXRzLgogICAgbWFwcGluZyAodWludCA9PiBSZWRlbXB0aW9uUGF5b3V0KSBwdWJsaWMgcmVkZW1wdGlvblBheW91dHM7CgogICAgLy8gRGl2aWRlbmQgYW5kIHJlZGVtcHRpb24gcGF5ZXJzLgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgcGF5ZXJzOwoKICAgIC8vIEJhbGFuY2UgcmVjb3Jkcy4KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gQmFsYW5jZSkgcHVibGljIGJhbGFuY2VzOwoKICAgIC8vIEFsbG93ZWQgYmFsYW5jZXMuCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIHB1YmxpYyBhbGxvd2VkOwoKICAgIC8vIFNldCB0cnVlIGZvciBhY3RpdmF0aW5nIHRva2VuLiBJZiBmYWxzZSB0aGVuIHRva2VuIGlzbid0IHdvcmtpbmcuCiAgICBib29sIHB1YmxpYyBpc0FjdGl2ZSA9IGZhbHNlOwoKICAgIC8vIFNldCB0cnVlIGZvciBhY3RpdmF0ZSBpY28gbWludGVkIHRva2Vucy4KICAgIGJvb2wgcHVibGljIGlzU3VjY2Vzc2Z1bEljbyA9IGZhbHNlOwp9Cgpjb250cmFjdCBCb3VudHkgaXMgT3duZWQKewogICAgLy8gR2V0IGJvdW50eSBldmVudC4KICAgIGV2ZW50IEdldEJvdW50eShhZGRyZXNzIGluZGV4ZWQgYm91bnR5SHVudGVyLCB1aW50IGFtb3VudCk7CgogICAgLy8gQWRkIGJvdW50eSBldmVudC4KICAgIGV2ZW50IEFkZEJvdW50eShhZGRyZXNzIGluZGV4ZWQgYm91bnR5SHVudGVyLCB1aW50IGFtb3VudCk7CgogICAgLy8gQ29uc3RydWN0b3IuCiAgICBmdW5jdGlvbiBCb3VudHkoYWRkcmVzcyBhZ3JpY29pbkFkZHJlc3MpIHB1YmxpYwogICAgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICB0b2tlbiA9IGFncmljb2luQWRkcmVzczsKICAgIH0KCiAgICAvLyBBZGQgYm91bnR5IGZvciBodW50ZXIuCiAgICBmdW5jdGlvbiBhZGRCb3VudHlGb3JIdW50ZXIoYWRkcmVzcyBodW50ZXIsIHVpbnQgYm91bnR5KSBvbmx5T3duZXIoKSBleHRlcm5hbCByZXR1cm5zIChib29sKQogICAgewogICAgICAgIHJlcXVpcmUoIUFncmljb2luKHRva2VuKS5pc0FjdGl2ZSgpKTsvLyBDaGVjayB0b2tlbiBhY3Rpdml0eS4KCiAgICAgICAgYm91bnRpZXNbaHVudGVyXSArPSBib3VudHk7Ly8gSW5jcmVhc2UgYm91bnR5IGZvciBodW50ZXIuCiAgICAgICAgYm91bnR5VG90YWwgKz0gYm91bnR5Oy8vIEluY3JlYXNlIHRvdGFsIGJvdW50eSB2YWx1ZS4KCiAgICAgICAgQWRkQm91bnR5KGh1bnRlciwgYm91bnR5KTsvLyBDYWxsIGFkZCBib3VudHkgZXZlbnQuCgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIEdldCBib3VudHkuCiAgICBmdW5jdGlvbiBnZXRCb3VudHkoKSBleHRlcm5hbCByZXR1cm5zICh1aW50KQogICAgewogICAgICAgIHJlcXVpcmUoQWdyaWNvaW4odG9rZW4pLmlzQWN0aXZlKCkpOy8vIENoZWNrIHRva2VuIGFjdGl2aXR5LgogICAgICAgIHJlcXVpcmUoYm91bnRpZXNbbXNnLnNlbmRlcl0gIT0gMCk7Ly8gQ2hlY2sgYmFsYW5jZSBvZiBib3VudHkgaHVudGVyLgogICAgICAgIAogICAgICAgIGlmIChBZ3JpY29pbih0b2tlbikudHJhbnNmZXIobXNnLnNlbmRlciwgYm91bnRpZXNbbXNnLnNlbmRlcl0pKS8vIFRyYW5zZmVyIGJvdW50eSB0b2tlbnMgdG8gYm91bnR5IGh1bnRlci4KICAgICAgICB7CiAgICAgICAgICAgIHVpbnQgYW1vdW50ID0gYm91bnRpZXNbbXNnLnNlbmRlcl07CiAgICAgICAgICAgIGJvdW50eVRvdGFsIC09IGFtb3VudDsvLyBEZWNyZWFzZSB0b3RhbCBib3VudHkuCgogICAgICAgICAgICBHZXRCb3VudHkobXNnLnNlbmRlciwgYW1vdW50KTsvLyBHZXQgYm91bnR5IGV2ZW50LgogICAgICAgICAgICAKICAgICAgICAgICAgYm91bnRpZXNbbXNnLnNlbmRlcl0gPSAwOy8vIFNldCBib3VudHkgZm9yIGh1bnRlciB0byB6ZXJvLgoKICAgICAgICAgICAgcmV0dXJuIGFtb3VudDsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgfQoKICAgIC8vIEJvdW50aWVzLgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgYm91bnRpZXM7CgogICAgLy8gVG90YWwgYm91bnR5LgogICAgdWludCBwdWJsaWMgYm91bnR5VG90YWwgPSAwOwoKICAgIC8vIEFncmljb2luIHRva2VuLgogICAgYWRkcmVzcyBwdWJsaWMgdG9rZW47Cn0='.
	

]
