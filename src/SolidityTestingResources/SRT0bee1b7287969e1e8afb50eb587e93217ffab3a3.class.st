Class {
	#name : #SRT0bee1b7287969e1e8afb50eb587e93217ffab3a3,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT0bee1b7287969e1e8afb50eb587e93217ffab3a3 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Ci8qKgoqIEB0aXRsZSBJQ08gQ09OVFJBQ1QKKiBAZGV2IEVSQy0yMCBUb2tlbiBTdGFuZGFyZCBDb21wbGlhbgoqLwoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGlmIChhID09IDApIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCmNvbnRyYWN0IHRva2VuIHsKCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKfQoKCmNvbnRyYWN0IENyb3dkc2FsZSBpcyBPd25hYmxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKICAvLyBUaGUgdG9rZW4gYmVpbmcgc29sZAogIHRva2VuIHB1YmxpYyB0b2tlbl9yZXdhcmQ7CiAgLy8gc3RhcnQgYW5kIGVuZCB0aW1lc3RhbXBzIHdoZXJlIGludmVzdG1lbnRzIGFyZSBhbGxvd2VkIChib3RoIGluY2x1c2l2ZQogIAogIHVpbnQyNTYgcHVibGljIHN0YXJ0X3RpbWUgPSBub3c7IC8vZm9yIHRlc3RpbmcKICAvL3VpbnQyNTYgcHVibGljIHN0YXJ0X3RpbWUgPSAxNTE3ODQ2NDAwOyAvLzAyLzA1LzIwMTggQCA0OjAwcG0gKFVUQykgb3IgNSBQTSAoVVRDICsgMSkKICB1aW50MjU2IHB1YmxpYyBlbmRfVGltZSA9IDE1MjQzNTUyMDA7IC8vIDA0LzIyLzIwMTggQCAxMjowMGFtIChVVEMpCgogIHVpbnQyNTYgcHVibGljIHBoYXNlXzFfcmVtYWluaW5nX3Rva2VucyAgPSA1MDAwMDAwMCAqICgxMCAqKiB1aW50MjU2KDgpKTsKICB1aW50MjU2IHB1YmxpYyBwaGFzZV8yX3JlbWFpbmluZ190b2tlbnMgID0gNTAwMDAwMDAgKiAoMTAgKiogdWludDI1Nig4KSk7CiAgdWludDI1NiBwdWJsaWMgcGhhc2VfM19yZW1haW5pbmdfdG9rZW5zICA9IDUwMDAwMDAwICogKDEwICoqIHVpbnQyNTYoOCkpOwogIHVpbnQyNTYgcHVibGljIHBoYXNlXzRfcmVtYWluaW5nX3Rva2VucyAgPSA1MDAwMDAwMCAqICgxMCAqKiB1aW50MjU2KDgpKTsKICB1aW50MjU2IHB1YmxpYyBwaGFzZV81X3JlbWFpbmluZ190b2tlbnMgID0gNTAwMDAwMDAgKiAoMTAgKiogdWludDI1Nig4KSk7CgogIHVpbnQyNTYgcHVibGljIHBoYXNlXzFfYm9udXMgID0gNDA7CiAgdWludDI1NiBwdWJsaWMgcGhhc2VfMl9ib251cyAgPSAyMDsKICB1aW50MjU2IHB1YmxpYyBwaGFzZV8zX2JvbnVzICA9IDE1OwogIHVpbnQyNTYgcHVibGljIHBoYXNlXzRfYm9udXMgID0gMTA7CiAgdWludDI1NiBwdWJsaWMgcGhhc2VfNV9ib251cyAgPSA1OwoKICB1aW50MjU2IHB1YmxpYyB0b2tlbl9wcmljZSAgPSAyOy8vIDIgY2VudHMKCiAgLy8gYWRkcmVzcyB3aGVyZSBmdW5kcyBhcmUgY29sbGVjdGVkCiAgYWRkcmVzcyBwdWJsaWMgd2FsbGV0OwogIC8vIEV0aGVyIHRvICQgcHJpY2UKICB1aW50MjU2IHB1YmxpYyBldGhfdG9fdXNkID0gMTAwMDsKICAvLyBhbW91bnQgb2YgcmFpc2VkIG1vbmV5IGluIHdlaQogIHVpbnQyNTYgcHVibGljIHdlaVJhaXNlZDsKICAvKioKICAgKiBldmVudCBmb3IgdG9rZW4gcHVyY2hhc2UgbG9nZ2luZwogICAqIEBwYXJhbSBwdXJjaGFzZXIgd2hvIHBhaWQgZm9yIHRoZSB0b2tlbnMKICAgKiBAcGFyYW0gYmVuZWZpY2lhcnkgd2hvIGdvdCB0aGUgdG9rZW5zCiAgICogQHBhcmFtIHZhbHVlIHdlaXMgcGFpZCBmb3IgcHVyY2hhc2UKICAgKiBAcGFyYW0gYW1vdW50IGFtb3VudCBvZiB0b2tlbnMgcHVyY2hhc2VkCiAgICovCiAgZXZlbnQgVG9rZW5QdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgcHVyY2hhc2VyLCBhZGRyZXNzIGluZGV4ZWQgYmVuZWZpY2lhcnksIHVpbnQyNTYgdmFsdWUsIHVpbnQyNTYgYW1vdW50KTsKICAvLyByYXRlIGNoYW5nZSBldmVudAogIGV2ZW50IEV0aFRvVXNkQ2hhbmdlZChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIHVpbnQyNTYgb2xkX2V0aF90b191c2QsIHVpbnQyNTYgbmV3X2V0aF90b191c2QpOwogIAogIC8vIGNvbnN0cnVjdG9yCiAgZnVuY3Rpb24gQ3Jvd2RzYWxlKGFkZHJlc3MgdG9rZW5Db250cmFjdEFkZHJlc3MpIHB1YmxpY3sKICAgIHdhbGxldCA9IDB4MWFDMDI0NDgyYjkxZmE5QWFGMjI0NTBGZjYwNjgwQkFkNjBiRjhEMzsvL3dhbGxldCB3aGVyZSBFVEggd2lsbCBiZSB0cmFuc2ZlcnJlZAogICAgdG9rZW5fcmV3YXJkID0gdG9rZW4odG9rZW5Db250cmFjdEFkZHJlc3MpOwogIH0KICAKIGZ1bmN0aW9uIHRva2VuQmFsYW5jZSgpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2KXsKICAgIHJldHVybiB0b2tlbl9yZXdhcmQuYmFsYW5jZU9mKHRoaXMpOwogIH0KCiAgZnVuY3Rpb24gZ2V0UmF0ZSgpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2KXsKICAgIHJldHVybiBldGhfdG9fdXNkLm11bCgxMDApLmRpdih0b2tlbl9wcmljZSk7CiAgfQoKICAvLyBAcmV0dXJuIHRydWUgaWYgdGhlIHRyYW5zYWN0aW9uIGNhbiBidXkgdG9rZW5zCiAgZnVuY3Rpb24gdmFsaWRQdXJjaGFzZSgpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgIGJvb2wgd2l0aGluUGVyaW9kID0gbm93ID49IHN0YXJ0X3RpbWUgJiYgbm93IDw9IGVuZF9UaW1lOwogICAgYm9vbCBhbGxQaGFzZUZpbmlzaGVkID0gcGhhc2VfNV9yZW1haW5pbmdfdG9rZW5zID4gMDsKICAgIGJvb2wgbm9uWmVyb1B1cmNoYXNlID0gbXNnLnZhbHVlICE9IDA7CiAgICBib29sIG1pblB1cmNoYXNlID0gZXRoX3RvX3VzZCptc2cudmFsdWUgPj0gMTAwOyAvLyBtaW5pbXVtIHB1cmNoYXNlICQxMDAKICAgIHJldHVybiB3aXRoaW5QZXJpb2QgJiYgbm9uWmVyb1B1cmNoYXNlICYmIGFsbFBoYXNlRmluaXNoZWQgJiYgbWluUHVyY2hhc2U7CiAgfQoKICAvLyBAcmV0dXJuIHRydWUgaWYgdGhlIGFkbWluIGNhbiBzZW5kIHRva2VucyBtYW51YWxseQogIGZ1bmN0aW9uIHZhbGlkUHVyY2hhc2VGb3JNYW51YWwoKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICBib29sIHdpdGhpblBlcmlvZCA9IG5vdyA+PSBzdGFydF90aW1lICYmIG5vdyA8PSBlbmRfVGltZTsKICAgIGJvb2wgYWxsUGhhc2VGaW5pc2hlZCA9IHBoYXNlXzVfcmVtYWluaW5nX3Rva2VucyA+IDA7CiAgICByZXR1cm4gd2l0aGluUGVyaW9kICYmIGFsbFBoYXNlRmluaXNoZWQ7CiAgfQoKCiAgLy8gY2hlY2sgdG9rZW4gYXZhaWxpYmlsaXR5IGZvciBjdXJyZW50IHBoYXNlIGFuZCBtYXggYWxsb3dlZCB0b2tlbiBiYWxhbmNlCiAgZnVuY3Rpb24gY2hlY2tBbmRVcGRhdGVUb2tlbkZvck1hbnVhbCh1aW50MjU2IF90b2tlbnMpIGludGVybmFsIHJldHVybnMgKGJvb2wpewogICAgaWYocGhhc2VfMV9yZW1haW5pbmdfdG9rZW5zID4gMCl7CiAgICAgIGlmKF90b2tlbnMgPiBwaGFzZV8xX3JlbWFpbmluZ190b2tlbnMpewogICAgICAgIHVpbnQyNTYgdG9rZW5zX2Zyb21fcGhhc2VfMiA9IF90b2tlbnMuc3ViKHBoYXNlXzFfcmVtYWluaW5nX3Rva2Vucyk7CiAgICAgICAgcGhhc2VfMV9yZW1haW5pbmdfdG9rZW5zID0gMDsKICAgICAgICBwaGFzZV8yX3JlbWFpbmluZ190b2tlbnMgPSBwaGFzZV8yX3JlbWFpbmluZ190b2tlbnMuc3ViKHRva2Vuc19mcm9tX3BoYXNlXzIpOwogICAgICB9ZWxzZXsKICAgICAgICBwaGFzZV8xX3JlbWFpbmluZ190b2tlbnMgPSBwaGFzZV8xX3JlbWFpbmluZ190b2tlbnMuc3ViKF90b2tlbnMpOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfWVsc2UgaWYocGhhc2VfMl9yZW1haW5pbmdfdG9rZW5zID4gMCl7CiAgICAgIGlmKF90b2tlbnMgPiBwaGFzZV8yX3JlbWFpbmluZ190b2tlbnMpewogICAgICAgIHVpbnQyNTYgdG9rZW5zX2Zyb21fcGhhc2VfMyA9IF90b2tlbnMuc3ViKHBoYXNlXzJfcmVtYWluaW5nX3Rva2Vucyk7CiAgICAgICAgcGhhc2VfMl9yZW1haW5pbmdfdG9rZW5zID0gMDsKICAgICAgICBwaGFzZV8zX3JlbWFpbmluZ190b2tlbnMgPSBwaGFzZV8zX3JlbWFpbmluZ190b2tlbnMuc3ViKHRva2Vuc19mcm9tX3BoYXNlXzMpOwogICAgICB9ZWxzZXsKICAgICAgICBwaGFzZV8yX3JlbWFpbmluZ190b2tlbnMgPSBwaGFzZV8yX3JlbWFpbmluZ190b2tlbnMuc3ViKF90b2tlbnMpOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfWVsc2UgaWYocGhhc2VfM19yZW1haW5pbmdfdG9rZW5zID4gMCl7CiAgICAgIGlmKF90b2tlbnMgPiBwaGFzZV8zX3JlbWFpbmluZ190b2tlbnMpewogICAgICAgIHVpbnQyNTYgdG9rZW5zX2Zyb21fcGhhc2VfNCA9IF90b2tlbnMuc3ViKHBoYXNlXzNfcmVtYWluaW5nX3Rva2Vucyk7CiAgICAgICAgcGhhc2VfM19yZW1haW5pbmdfdG9rZW5zID0gMDsKICAgICAgICBwaGFzZV80X3JlbWFpbmluZ190b2tlbnMgPSBwaGFzZV80X3JlbWFpbmluZ190b2tlbnMuc3ViKHRva2Vuc19mcm9tX3BoYXNlXzQpOwogICAgICB9ZWxzZXsKICAgICAgICBwaGFzZV8zX3JlbWFpbmluZ190b2tlbnMgPSBwaGFzZV8zX3JlbWFpbmluZ190b2tlbnMuc3ViKF90b2tlbnMpOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfWVsc2UgaWYocGhhc2VfNF9yZW1haW5pbmdfdG9rZW5zID4gMCl7CiAgICAgIGlmKF90b2tlbnMgPiBwaGFzZV80X3JlbWFpbmluZ190b2tlbnMpewogICAgICAgIHVpbnQyNTYgdG9rZW5zX2Zyb21fcGhhc2VfNSA9IF90b2tlbnMuc3ViKHBoYXNlXzRfcmVtYWluaW5nX3Rva2Vucyk7CiAgICAgICAgcGhhc2VfNF9yZW1haW5pbmdfdG9rZW5zID0gMDsKICAgICAgICBwaGFzZV81X3JlbWFpbmluZ190b2tlbnMgPSBwaGFzZV81X3JlbWFpbmluZ190b2tlbnMuc3ViKHRva2Vuc19mcm9tX3BoYXNlXzUpOwogICAgICB9ZWxzZXsKICAgICAgICBwaGFzZV80X3JlbWFpbmluZ190b2tlbnMgPSBwaGFzZV80X3JlbWFpbmluZ190b2tlbnMuc3ViKF90b2tlbnMpOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfWVsc2UgaWYocGhhc2VfNV9yZW1haW5pbmdfdG9rZW5zID4gMCl7CiAgICAgIGlmKF90b2tlbnMgPiBwaGFzZV81X3JlbWFpbmluZ190b2tlbnMpewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfWVsc2V7CiAgICAgICAgcGhhc2VfNV9yZW1haW5pbmdfdG9rZW5zID0gcGhhc2VfNV9yZW1haW5pbmdfdG9rZW5zLnN1YihfdG9rZW5zKTsKICAgICAgIH0KICAgIH1lbHNlewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQoKICAvLyBmdW5jdGlvbiB0byB0cmFuc2ZlciB0b2tlbiBtYW51YWxseQogIGZ1bmN0aW9uIHRyYW5zZmVyTWFudWFsbHkodWludDI1NiBfdG9rZW5zLCBhZGRyZXNzIHRvX2FkZHJlc3MpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCl7CiAgICByZXF1aXJlKHRvX2FkZHJlc3MgIT0gMHgwKTsKICAgIHJlcXVpcmUodmFsaWRQdXJjaGFzZUZvck1hbnVhbCgpKTsKICAgIHJlcXVpcmUoY2hlY2tBbmRVcGRhdGVUb2tlbkZvck1hbnVhbChfdG9rZW5zKSk7CiAgICB0b2tlbl9yZXdhcmQudHJhbnNmZXIodG9fYWRkcmVzcywgX3Rva2Vucyk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgoKICAvLyBjaGVjayB0b2tlbiBhdmFpbGliaWxpdHkgZm9yIGN1cnJlbnQgcGhhc2UgYW5kIG1heCBhbGxvd2VkIHRva2VuIGJhbGFuY2UKICBmdW5jdGlvbiB0cmFuc2ZlcklmVG9rZW5BdmFpbGFibGUodWludDI1NiBfdG9rZW5zLCB1aW50MjU2IF93ZWlBbW91bnQsIGFkZHJlc3MgX2JlbmVmaWNpYXJ5KSBpbnRlcm5hbCByZXR1cm5zIChib29sKXsKCiAgICB1aW50MjU2IHRvdGFsX3Rva2VuX3RvX3RyYW5zZmVyID0gMDsKICAgIHVpbnQyNTYgYm9udXMgPSAwOwogICAgaWYocGhhc2VfMV9yZW1haW5pbmdfdG9rZW5zID4gMCl7CiAgICAgIGlmKF90b2tlbnMgPiBwaGFzZV8xX3JlbWFpbmluZ190b2tlbnMpewogICAgICAgIHVpbnQyNTYgdG9rZW5zX2Zyb21fcGhhc2VfMiA9IF90b2tlbnMuc3ViKHBoYXNlXzFfcmVtYWluaW5nX3Rva2Vucyk7CiAgICAgICAgYm9udXMgPSAocGhhc2VfMV9yZW1haW5pbmdfdG9rZW5zLm11bChwaGFzZV8xX2JvbnVzKS5kaXYoMTAwKSkuYWRkKHRva2Vuc19mcm9tX3BoYXNlXzIubXVsKHBoYXNlXzJfYm9udXMpLmRpdigxMDApKTsKICAgICAgICBwaGFzZV8xX3JlbWFpbmluZ190b2tlbnMgPSAwOwogICAgICAgIHBoYXNlXzJfcmVtYWluaW5nX3Rva2VucyA9IHBoYXNlXzJfcmVtYWluaW5nX3Rva2Vucy5zdWIodG9rZW5zX2Zyb21fcGhhc2VfMik7CiAgICAgIH1lbHNlewogICAgICAgIHBoYXNlXzFfcmVtYWluaW5nX3Rva2VucyA9IHBoYXNlXzFfcmVtYWluaW5nX3Rva2Vucy5zdWIoX3Rva2Vucyk7CiAgICAgICAgYm9udXMgPSBfdG9rZW5zLm11bChwaGFzZV8xX2JvbnVzKS5kaXYoMTAwKTsKICAgICAgfQogICAgICB0b3RhbF90b2tlbl90b190cmFuc2ZlciA9IF90b2tlbnMgKyBib251czsKICAgIH1lbHNlIGlmKHBoYXNlXzJfcmVtYWluaW5nX3Rva2VucyA+IDApewogICAgICBpZihfdG9rZW5zID4gcGhhc2VfMl9yZW1haW5pbmdfdG9rZW5zKXsKICAgICAgICB1aW50MjU2IHRva2Vuc19mcm9tX3BoYXNlXzMgPSBfdG9rZW5zLnN1YihwaGFzZV8yX3JlbWFpbmluZ190b2tlbnMpOwogICAgICAgIGJvbnVzID0gKHBoYXNlXzJfcmVtYWluaW5nX3Rva2Vucy5tdWwocGhhc2VfMl9ib251cykuZGl2KDEwMCkpLmFkZCh0b2tlbnNfZnJvbV9waGFzZV8zLm11bChwaGFzZV8zX2JvbnVzKS5kaXYoMTAwKSk7CiAgICAgICAgcGhhc2VfMl9yZW1haW5pbmdfdG9rZW5zID0gMDsKICAgICAgICBwaGFzZV8zX3JlbWFpbmluZ190b2tlbnMgPSBwaGFzZV8zX3JlbWFpbmluZ190b2tlbnMuc3ViKHRva2Vuc19mcm9tX3BoYXNlXzMpOwogICAgICB9ZWxzZXsKICAgICAgICBwaGFzZV8yX3JlbWFpbmluZ190b2tlbnMgPSBwaGFzZV8yX3JlbWFpbmluZ190b2tlbnMuc3ViKF90b2tlbnMpOwogICAgICAgIGJvbnVzID0gX3Rva2Vucy5tdWwocGhhc2VfMl9ib251cykuZGl2KDEwMCk7CiAgICAgIH0KICAgICAgdG90YWxfdG9rZW5fdG9fdHJhbnNmZXIgPSBfdG9rZW5zICsgYm9udXM7CiAgICB9ZWxzZSBpZihwaGFzZV8zX3JlbWFpbmluZ190b2tlbnMgPiAwKXsKICAgICAgaWYoX3Rva2VucyA+IHBoYXNlXzNfcmVtYWluaW5nX3Rva2Vucyl7CiAgICAgICAgdWludDI1NiB0b2tlbnNfZnJvbV9waGFzZV80ID0gX3Rva2Vucy5zdWIocGhhc2VfM19yZW1haW5pbmdfdG9rZW5zKTsKICAgICAgICBib251cyA9IChwaGFzZV8zX3JlbWFpbmluZ190b2tlbnMubXVsKHBoYXNlXzNfYm9udXMpLmRpdigxMDApKS5hZGQodG9rZW5zX2Zyb21fcGhhc2VfNC5tdWwocGhhc2VfNF9ib251cykuZGl2KDEwMCkpOwogICAgICAgIHBoYXNlXzNfcmVtYWluaW5nX3Rva2VucyA9IDA7CiAgICAgICAgcGhhc2VfNF9yZW1haW5pbmdfdG9rZW5zID0gcGhhc2VfNF9yZW1haW5pbmdfdG9rZW5zLnN1Yih0b2tlbnNfZnJvbV9waGFzZV80KTsKICAgICAgfWVsc2V7CiAgICAgICAgcGhhc2VfM19yZW1haW5pbmdfdG9rZW5zID0gcGhhc2VfM19yZW1haW5pbmdfdG9rZW5zLnN1YihfdG9rZW5zKTsKICAgICAgICBib251cyA9IF90b2tlbnMubXVsKHBoYXNlXzNfYm9udXMpLmRpdigxMDApOwogICAgICB9CiAgICAgIHRvdGFsX3Rva2VuX3RvX3RyYW5zZmVyID0gX3Rva2VucyArIGJvbnVzOwogICAgfWVsc2UgaWYocGhhc2VfNF9yZW1haW5pbmdfdG9rZW5zID4gMCl7CiAgICAgIGlmKF90b2tlbnMgPiBwaGFzZV80X3JlbWFpbmluZ190b2tlbnMpewogICAgICAgIHVpbnQyNTYgdG9rZW5zX2Zyb21fcGhhc2VfNSA9IF90b2tlbnMuc3ViKHBoYXNlXzRfcmVtYWluaW5nX3Rva2Vucyk7CiAgICAgICAgYm9udXMgPSAocGhhc2VfNF9yZW1haW5pbmdfdG9rZW5zLm11bChwaGFzZV80X2JvbnVzKS5kaXYoMTAwKSkuYWRkKHRva2Vuc19mcm9tX3BoYXNlXzUubXVsKHBoYXNlXzVfYm9udXMpLmRpdigxMDApKTsKICAgICAgICBwaGFzZV80X3JlbWFpbmluZ190b2tlbnMgPSAwOwogICAgICAgIHBoYXNlXzVfcmVtYWluaW5nX3Rva2VucyA9IHBoYXNlXzVfcmVtYWluaW5nX3Rva2Vucy5zdWIodG9rZW5zX2Zyb21fcGhhc2VfNSk7CiAgICAgIH1lbHNlewogICAgICAgIHBoYXNlXzRfcmVtYWluaW5nX3Rva2VucyA9IHBoYXNlXzRfcmVtYWluaW5nX3Rva2Vucy5zdWIoX3Rva2Vucyk7CiAgICAgICAgYm9udXMgPSBfdG9rZW5zLm11bChwaGFzZV80X2JvbnVzKS5kaXYoMTAwKTsKICAgICAgfQogICAgICB0b3RhbF90b2tlbl90b190cmFuc2ZlciA9IF90b2tlbnMgKyBib251czsKICAgIH1lbHNlIGlmKHBoYXNlXzVfcmVtYWluaW5nX3Rva2VucyA+IDApewogICAgICBpZihfdG9rZW5zID4gcGhhc2VfNV9yZW1haW5pbmdfdG9rZW5zKXsKICAgICAgICB0b3RhbF90b2tlbl90b190cmFuc2ZlciA9IDA7CiAgICAgIH1lbHNlewogICAgICAgIHBoYXNlXzVfcmVtYWluaW5nX3Rva2VucyA9IHBoYXNlXzVfcmVtYWluaW5nX3Rva2Vucy5zdWIoX3Rva2Vucyk7CiAgICAgICAgYm9udXMgPSBfdG9rZW5zLm11bChwaGFzZV81X2JvbnVzKS5kaXYoMTAwKTsKICAgICAgICB0b3RhbF90b2tlbl90b190cmFuc2ZlciA9IF90b2tlbnMgKyBib251czsKICAgICAgfQogICAgfWVsc2V7CiAgICAgIHRvdGFsX3Rva2VuX3RvX3RyYW5zZmVyID0gMDsKICAgIH0KICAgIGlmKHRvdGFsX3Rva2VuX3RvX3RyYW5zZmVyID4gMCl7CiAgICAgIHRva2VuX3Jld2FyZC50cmFuc2ZlcihfYmVuZWZpY2lhcnksIHRvdGFsX3Rva2VuX3RvX3RyYW5zZmVyKTsKICAgICAgVG9rZW5QdXJjaGFzZShtc2cuc2VuZGVyLCBfYmVuZWZpY2lhcnksIF93ZWlBbW91bnQsIHRvdGFsX3Rva2VuX3RvX3RyYW5zZmVyKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9ZWxzZXsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgCiAgfQoKICAvLyBmYWxsYmFjayBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBidXkgdG9rZW5zCiAgZnVuY3Rpb24gKCkgcGF5YWJsZSBwdWJsaWN7CiAgICBidXlUb2tlbnMobXNnLnNlbmRlcik7CiAgfQoKICAvLyBsb3cgbGV2ZWwgdG9rZW4gcHVyY2hhc2UgZnVuY3Rpb24KICBmdW5jdGlvbiBidXlUb2tlbnMoYWRkcmVzcyBiZW5lZmljaWFyeSkgcHVibGljIHBheWFibGUgewogICAgcmVxdWlyZShiZW5lZmljaWFyeSAhPSAweDApOwogICAgcmVxdWlyZSh2YWxpZFB1cmNoYXNlKCkpOwogICAgdWludDI1NiB3ZWlBbW91bnQgPSBtc2cudmFsdWU7CiAgICAvLyBjYWxjdWxhdGUgdG9rZW4gYW1vdW50IHRvIGJlIGNyZWF0ZWQKICAgIHVpbnQyNTYgdG9rZW5zID0gKHdlaUFtb3VudC5tdWwoZ2V0UmF0ZSgpKSkuZGl2KDEwICoqIHVpbnQyNTYoMTApKTsKICAgIC8vIENoZWNrIGlzIHRoZXJlIGFyZSBlbm91Z2ggdG9rZW4gYXZhaWxhYmxlIGZvciBjdXJyZW50IHBoYXNlIGFuZCBwZXIgcGVyc29uICAKICAgIHJlcXVpcmUodHJhbnNmZXJJZlRva2VuQXZhaWxhYmxlKHRva2Vucywgd2VpQW1vdW50LCBiZW5lZmljaWFyeSkpOwogICAgLy8gdXBkYXRlIHN0YXRlCiAgICB3ZWlSYWlzZWQgPSB3ZWlSYWlzZWQuYWRkKHdlaUFtb3VudCk7CiAgICAKICAgIGZvcndhcmRGdW5kcygpOwogIH0KICAKICAvLyBzZW5kIGV0aGVyIHRvIHRoZSBmdW5kIGNvbGxlY3Rpb24gd2FsbGV0CiAgLy8gb3ZlcnJpZGUgdG8gY3JlYXRlIGN1c3RvbSBmdW5kIGZvcndhcmRpbmcgbWVjaGFuaXNtcwogIGZ1bmN0aW9uIGZvcndhcmRGdW5kcygpIGludGVybmFsIHsKICAgIHdhbGxldC50cmFuc2Zlcihtc2cudmFsdWUpOwogIH0KICAKICAvLyBAcmV0dXJuIHRydWUgaWYgY3Jvd2RzYWxlIGV2ZW50IGhhcyBlbmRlZAogIGZ1bmN0aW9uIGhhc0VuZGVkKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBub3cgPiBlbmRfVGltZTsKICB9CiAgLy8gZnVuY3Rpb24gdG8gdHJhbnNmZXIgdG9rZW4gYmFjayB0byBvd25lcgogIGZ1bmN0aW9uIHRyYW5zZmVyQmFjayh1aW50MjU2IHRva2VucywgYWRkcmVzcyB0b19hZGRyZXNzKSBvbmx5T3duZXIgcHVibGljIHJldHVybnMgKGJvb2wpewogICAgdG9rZW5fcmV3YXJkLnRyYW5zZmVyKHRvX2FkZHJlc3MsIHRva2Vucyk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgLy8gZnVuY3Rpb24gdG8gY2hhbmdlIHJhdGUKICBmdW5jdGlvbiBjaGFuZ2VFdGhfdG9fdXNkKHVpbnQyNTYgX2V0aF90b191c2QpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCl7CiAgICBFdGhUb1VzZENoYW5nZWQobXNnLnNlbmRlciwgZXRoX3RvX3VzZCwgX2V0aF90b191c2QpOwogICAgZXRoX3RvX3VzZCA9IF9ldGhfdG9fdXNkOwogICAgcmV0dXJuIHRydWU7CiAgfQp9'.
	

]
