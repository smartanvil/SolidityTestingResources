Class {
	#name : #SRTd2d0f85b690604c245f61513bf4679b24ed64c35,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTd2d0f85b690604c245f61513bf4679b24ed64c35 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBTYWZlTWF0aCB7CiAgICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnModWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgICAgIGFzc2VydChjID49IGEpOwogICAgICAgIHJldHVybiBjOwogICAgfQogICAgZnVuY3Rpb24gc2FmZVN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZU11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICBpZiAoYSA9PSAwKSB7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgICAgICB1aW50MjU2IGMgPSBhICogYjsKICAgICAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZURpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgICAgICByZXR1cm4gYzsKICAgIH0KfQoKY29udHJhY3QgRUlQMjBJbnRlcmZhY2UgewogICAgLyogVGhpcyBpcyBhIHNsaWdodCBjaGFuZ2UgdG8gdGhlIEVSQzIwIGJhc2Ugc3RhbmRhcmQuCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgc3VwcGx5KTsKICAgIGlzIHJlcGxhY2VkIHdpdGg6CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIFRoaXMgYXV0b21hdGljYWxseSBjcmVhdGVzIGEgZ2V0dGVyIGZ1bmN0aW9uIGZvciB0aGUgdG90YWxTdXBwbHkuCiAgICBUaGlzIGlzIG1vdmVkIHRvIHRoZSBiYXNlIGNvbnRyYWN0IHNpbmNlIHB1YmxpYyBnZXR0ZXIgZnVuY3Rpb25zIGFyZSBub3QKICAgIGN1cnJlbnRseSByZWNvZ25pc2VkIGFzIGFuIGltcGxlbWVudGF0aW9uIG9mIHRoZSBtYXRjaGluZyBhYnN0cmFjdAogICAgZnVuY3Rpb24gYnkgdGhlIGNvbXBpbGVyLgogICAgKi8KICAgIC8vLyB0b3RhbCBhbW91bnQgb2YgdG9rZW5zCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICAvLy8gQHJldHVybiBUaGUgYmFsYW5jZQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYF9mcm9tYCBvbiB0aGUgY29uZGl0aW9uIGl0IGlzIGFwcHJvdmVkIGJ5IGBfZnJvbWAKICAgIC8vLyBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQG5vdGljZSBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9zcGVuZGVyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXIKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwoKICAgIC8vIHNvbGhpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2ltcGxlLWV2ZW50LWZ1bmMtbmFtZQogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKfQoKY29udHJhY3QgQkZEVG9rZW4gaXMgRUlQMjBJbnRlcmZhY2UsIFNhZmVNYXRoIHsKCiAgICB1aW50MjU2IGNvbnN0YW50IHByaXZhdGUgTUFYX1VJTlQyNTYgPSAyKioyNTYgLSAxOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2VkOwoKICAgIC8qCiAgICBOT1RFOgogICAgVGhlIGZvbGxvd2luZyB2YXJpYWJsZXMgYXJlIE9QVElPTkFMIHZhbml0aWVzLiBPbmUgZG9lcyBub3QgaGF2ZSB0byBpbmNsdWRlIHRoZW0uCiAgICBUaGV5IGFsbG93IG9uZSB0byBjdXN0b21pc2UgdGhlIHRva2VuIGNvbnRyYWN0ICYgaW4gbm8gd2F5IGluZmx1ZW5jZXMgdGhlIGNvcmUgZnVuY3Rpb25hbGl0eS4KICAgIFNvbWUgd2FsbGV0cy9pbnRlcmZhY2VzIG1pZ2h0IG5vdCBldmVuIGJvdGhlciB0byBsb29rIGF0IHRoaXMgaW5mb3JtYXRpb24uCiAgICAqLwogICAgc3RyaW5nIGNvbnN0YW50IHB1YmxpYyBuYW1lID0gIkJGRFRva2VuIjsKICAgIHVpbnQ4IGNvbnN0YW50IHB1YmxpYyBkZWNpbWFscyA9IDE4OyAgICAgICAgICAgICAgICAvL0hvdyBtYW55IGRlY2ltYWxzIHRvIHNob3cuCiAgICBzdHJpbmcgY29uc3RhbnQgcHVibGljIHN5bWJvbCA9ICJCRkRUIjsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBhZGRyZXNzVHlwZTsgIC8vIDEgZm9yIHRlYW07IDIgZm9yIGFkdmlzb3JzIGFuZCBwYXJ0bmVyczsgMyBmb3Igc2VlZCBpbnZlc3RvcnM7IDQgZm9yIGFuZ2VsIGludmVzdG9yczsgNSBmb3IgcmVndWxhciBpbnZlc3RvcnM7IDAgZm9yIG90aGVycwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2WzNdKSBwdWJsaWMgcmVsZWFzZUZvclNlZWQ7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTZbNV0pIHB1YmxpYyByZWxlYXNlRm9yVGVhbUFuZEFkdmlzb3I7CiAgICBldmVudCBBbGxvY2F0ZVRva2VuKGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlLCB1aW50MjU2IF90eXBlKTsKCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIHVpbnQyNTYgcHVibGljIGZpbmFsaXNlVGltZTsKCiAgICBmdW5jdGlvbiBCRkRUb2tlbigpIHB1YmxpYyB7CiAgICAgICAgdG90YWxTdXBwbHkgPSAyMCoxMCoqMjY7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRvdGFsIHN1cHBseQogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gdG90YWxTdXBwbHk7ICAgICAgICAgICAgICAgLy8gR2l2ZSB0aGUgY3JlYXRvciBhbGwgaW5pdGlhbCB0b2tlbnMKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgbW9kaWZpZXIgaXNPd25lcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgbm90RmluYWxpc2VkKCkgewogICAgICAgIHJlcXVpcmUoZmluYWxpc2VUaW1lID09IDApOwogICAgICAgIF87CiAgICB9CgogICAgLy8KICAgIGZ1bmN0aW9uIGFsbG9jYXRlVG9rZW4oYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2V0aCwgdWludDI1NiBfdHlwZSkgaXNPd25lciBub3RGaW5hbGlzZWQgcHVibGljIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDB4MCkgJiYgX2V0aCAhPSAwKTsKICAgICAgICByZXF1aXJlKGFkZHJlc3NUeXBlW190b10gPT0gMCB8fCBhZGRyZXNzVHlwZVtfdG9dID09IF90eXBlKTsKICAgICAgICBhZGRyZXNzVHlwZVtfdG9dID0gX3R5cGU7CiAgICAgICAgdWludDI1NiB0ZW1wOwogICAgICAgIGlmIChfdHlwZSA9PSAzKSB7CiAgICAgICAgICAgIHRlbXAgPSBzYWZlTXVsKF9ldGgsIDYwMDAwICogMTAqKjE4KTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZXNbX3RvXSwgdGVtcCk7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2FmZVN1YihiYWxhbmNlc1ttc2cuc2VuZGVyXSwgdGVtcCk7CiAgICAgICAgICAgIHJlbGVhc2VGb3JTZWVkW190b11bMF0gPSBzYWZlRGl2KHNhZmVNdWwoYmFsYW5jZXNbX3RvXSwgNjApLCAxMDApOwogICAgICAgICAgICByZWxlYXNlRm9yU2VlZFtfdG9dWzFdID0gc2FmZURpdihzYWZlTXVsKGJhbGFuY2VzW190b10sIDMwKSwgMTAwKTsKICAgICAgICAgICAgcmVsZWFzZUZvclNlZWRbX3RvXVsyXSA9IDA7CgogICAgICAgICAgICBBbGxvY2F0ZVRva2VuKF90bywgdGVtcCwgMyk7CiAgICAgICAgfSBlbHNlIGlmIChfdHlwZSA9PSA0KSB7CiAgICAgICAgICAgIHRlbXAgPSBzYWZlTXVsKF9ldGgsIDIwMDAwICogMTAqKjE4KTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZXNbX3RvXSwgdGVtcCk7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2FmZVN1YihiYWxhbmNlc1ttc2cuc2VuZGVyXSwgdGVtcCk7CiAgICAgICAgICAgIHJlbGVhc2VGb3JTZWVkW190b11bMF0gPSBzYWZlRGl2KHNhZmVNdWwoYmFsYW5jZXNbX3RvXSwgNjApLCAxMDApOwogICAgICAgICAgICByZWxlYXNlRm9yU2VlZFtfdG9dWzFdID0gc2FmZURpdihzYWZlTXVsKGJhbGFuY2VzW190b10sIDMwKSwgMTAwKTsKICAgICAgICAgICAgcmVsZWFzZUZvclNlZWRbX3RvXVsyXSA9IDA7CiAgICAgICAgICAgIEFsbG9jYXRlVG9rZW4oX3RvLCB0ZW1wLCA0KTsKICAgICAgICB9IGVsc2UgaWYgKF90eXBlID09IDUpIHsKICAgICAgICAgICAgdGVtcCA9IHNhZmVNdWwoX2V0aCwgMTIwMDAgKiAxMCoqMTgpOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLCB0ZW1wKTsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzYWZlU3ViKGJhbGFuY2VzW21zZy5zZW5kZXJdLCB0ZW1wKTsKICAgICAgICAgICAgQWxsb2NhdGVUb2tlbihfdG8sIHRlbXAsIDUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldmVydCgpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvY2F0ZVRva2VuRm9yVGVhbShhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGlzT3duZXIgbm90RmluYWxpc2VkIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShhZGRyZXNzVHlwZVtfdG9dID09IDAgfHwgYWRkcmVzc1R5cGVbX3RvXSA9PSAxKTsKICAgICAgICBhZGRyZXNzVHlwZVtfdG9dID0gMTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLCBzYWZlTXVsKF92YWx1ZSwgMTAqKjE4KSk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzYWZlU3ViKGJhbGFuY2VzW21zZy5zZW5kZXJdLCBzYWZlTXVsKF92YWx1ZSwgMTAqKjE4KSk7CgogICAgICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8PSA0OyArK2kpIHsKICAgICAgICAgICAgcmVsZWFzZUZvclRlYW1BbmRBZHZpc29yW190b11baV0gPSBzYWZlRGl2KHNhZmVNdWwoYmFsYW5jZXNbX3RvXSwgKDQgLSBpKSAqIDI1KSwgMTAwKTsKICAgICAgICB9CgogICAgICAgIEFsbG9jYXRlVG9rZW4oX3RvLCBzYWZlTXVsKF92YWx1ZSwgMTAqKjE4KSwgMSk7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb2NhdGVUb2tlbkZvckFkdmlzb3IoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBpc093bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShhZGRyZXNzVHlwZVtfdG9dID09IDAgfHwgYWRkcmVzc1R5cGVbX3RvXSA9PSAyKTsKICAgICAgICBhZGRyZXNzVHlwZVtfdG9dID0gMjsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLCBzYWZlTXVsKF92YWx1ZSwgMTAqKjE4KSk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzYWZlU3ViKGJhbGFuY2VzW21zZy5zZW5kZXJdLCBzYWZlTXVsKF92YWx1ZSwgMTAqKjE4KSk7CgogICAgICAgIGZvciAodWludDI1NiBpID0gMDsgaSA8PSA0OyArK2kpIHsKICAgICAgICAgICAgcmVsZWFzZUZvclRlYW1BbmRBZHZpc29yW190b11baV0gPSBzYWZlRGl2KHNhZmVNdWwoYmFsYW5jZXNbX3RvXSwgKDQgLSBpKSAqIDI1KSwgMTAwKTsKICAgICAgICB9CiAgICAgICAgQWxsb2NhdGVUb2tlbihfdG8sIHNhZmVNdWwoX3ZhbHVlLCAxMCoqMTgpLCAyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lcihhZGRyZXNzIF9vd25lcikgaXNPd25lciBwdWJsaWMgewogICAgICAgIG93bmVyID0gX293bmVyOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldEZpbmFsaXNlVGltZSgpIGlzT3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKGZpbmFsaXNlVGltZSA9PSAwKTsKICAgICAgICBmaW5hbGlzZVRpbWUgPSBub3c7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShjYW5UcmFuc2Zlcihtc2cuc2VuZGVyLCBfdmFsdWUpKTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBjYW5UcmFuc2ZlcihhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKGZpbmFsaXNlVGltZSAhPSAwKTsKICAgICAgICB1aW50MjU2IGluZGV4OwoKICAgICAgICBpZiAoYWRkcmVzc1R5cGVbX2Zyb21dID09IDAgIHx8IGFkZHJlc3NUeXBlW19mcm9tXSA9PSA1KSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICAvLyBmb3Igc2VlZCBhbmQgYW5nZWwgaW52ZXN0b3JzCiAgICAgICAgaWYgKGFkZHJlc3NUeXBlW19mcm9tXSA9PSAzIHx8IGFkZHJlc3NUeXBlW19mcm9tXSA9PSA0KSB7CiAgICAgICAgICAgIGluZGV4ID0gc2FmZVN1Yihub3csIGZpbmFsaXNlVGltZSkgLyA2MCBkYXlzOwogICAgICAgICAgICBpZiAoIGluZGV4ID49IDIpIHsKICAgICAgICAgICAgICAgIGluZGV4ID0gMjsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXF1aXJlKHNhZmVTdWIoYmFsYW5jZXNbX2Zyb21dLCBfdmFsdWUpID49IHJlbGVhc2VGb3JTZWVkW19mcm9tXVtpbmRleF0pOwogICAgICAgIH0gZWxzZSBpZiAoYWRkcmVzc1R5cGVbX2Zyb21dID09IDEgfHwgYWRkcmVzc1R5cGVbX2Zyb21dID09IDIpIHsKICAgICAgICAgICAgaW5kZXggPSBzYWZlU3ViKG5vdywgZmluYWxpc2VUaW1lKSAvIDE4MCBkYXlzOwogICAgICAgICAgICBpZiAoaW5kZXggPj0gNCkgewogICAgICAgICAgICAgICAgaW5kZXggPSA0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlcXVpcmUoc2FmZVN1YihiYWxhbmNlc1tfZnJvbV0sIF92YWx1ZSkgPj0gcmVsZWFzZUZvclRlYW1BbmRBZHZpc29yW19mcm9tXVtpbmRleF0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShjYW5UcmFuc2ZlcihfZnJvbSwgX3ZhbHVlKSk7CiAgICAgICAgdWludDI1NiBhbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dhbmNlID49IF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICBpZiAoYWxsb3dhbmNlIDwgTUFYX1VJTlQyNTYpIHsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIH0KICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KfQ=='.
	

]
