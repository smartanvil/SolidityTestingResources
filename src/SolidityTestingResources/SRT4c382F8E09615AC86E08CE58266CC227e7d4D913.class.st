Class {
	#name : #SRT4c382F8E09615AC86E08CE58266CC227e7d4D913,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4c382F8E09615AC86E08CE58266CC227e7d4D913 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7Cgpjb250cmFjdCBFUkMyMCB7CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50IHRvdGFsU3VwcGx5KTsKCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgYmFsYW5jZSk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgcmVtYWluaW5nKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQgX3ZhbHVlKTsKCiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKTsKfQoKbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IFNrcmlsbGFUb2tlbiBpcyBFUkMyMCB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiU2tyaWxsYSI7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJTS1IiOwogICAgdWludDggcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gNjsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgLy9NdWx0aXBseSB0byBnZXQgZnJvbSBhIFNLUiB0byB0aGUgbnVtYmVyIG9mIHN1YnVuaXRzCiAgICAvL05vdGUgdGhlIGNhc3QgaGVyZSBvdGhlcndpc2Ugc29saWRpdHkgdXNlcyBhIHVpbnQ4CiAgICB1aW50MjU2IGludGVybmFsIGNvbnN0YW50IFNVQlVOSVRfTVVMVElQTElFUiA9IDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpOwoKICAgIC8vVG9rZW4gYmFsYW5jZXMKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgdG9rZW5TYWxlQmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSB3aGl0ZUxpc3Q7CgogICAgLy9Db250cmFjdCBjb25kaXRpb25zCiAgICB1aW50MjU2IGludGVybmFsIGNvbnN0YW50IFNBTEVfQ0FQID0gNjAwICogMTAqKjYgKiBTVUJVTklUX01VTFRJUExJRVI7CiAgICB1aW50MjU2IGludGVybmFsIGNvbnN0YW50IFRFQU1fVE9LRU5TID0gMTAwICogMTAqKjYgKiBTVUJVTklUX01VTFRJUExJRVI7CiAgICB1aW50MjU2IGludGVybmFsIGNvbnN0YW50IEdST1dUSF9UT0tFTlMgPSAzMDAgKiAxMCoqNiAqIFNVQlVOSVRfTVVMVElQTElFUjsKICAgIHVpbnQyNTYgaW50ZXJuYWwgY29uc3RhbnQgVE9UQUxfU1VQUExZX0NBUCAgPSBTQUxFX0NBUCArIFRFQU1fVE9LRU5TICsgR1JPV1RIX1RPS0VOUzsKCiAgICBhZGRyZXNzIGludGVybmFsIHdpdGhkcmF3QWRkcmVzczsKCiAgICAvL1N0YXRlIHZhbHVlcwogICAgdWludDI1NiBwdWJsaWMgZXRoUmFpc2VkOwogICAgCiAgICBhZGRyZXNzIGludGVybmFsIG93bmVyOwogICAgYWRkcmVzcyBpbnRlcm5hbCBncm93dGg7CiAgICBhZGRyZXNzIGludGVybmFsIHRlYW07CgogICAgdWludDI1Nls3XSBwdWJsaWMgc2FsZVN0YWdlU3RhcnREYXRlczsKCiAgICAvL1RoZSBwcmljZXMgZm9yIGVhY2ggc3RhZ2UuIFRoZSBudW1iZXIgb2YgdG9rZW5zIGEgdXNlciB3aWxsIHJlY2VpdmUgZm9yIDFFVEguCiAgICB1aW50MTZbNl0gcHVibGljIHRva2VucyA9IFszMDAwLDI1MDAsMCwyNDAwLDIyMDAsMjAwMF07CgoKICAgIGZ1bmN0aW9uIHRva2VuU2FsZUJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIGJhbGFuY2UgPSB0b2tlblNhbGVCYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFByZVNhbGVTdGFydCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIHNhbGVTdGFnZVN0YXJ0RGF0ZXNbMF07CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UHJlU2FsZUVuZCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIHNhbGVTdGFnZVN0YXJ0RGF0ZXNbMl07CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0U2FsZVN0YXJ0KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gc2FsZVN0YWdlU3RhcnREYXRlc1szXTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRTYWxlRW5kKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gc2FsZVN0YWdlU3RhcnREYXRlc1s2XTsKICAgIH0KCiAgICAvLyBUb2tlbnMgcGVyIEVUSAogICAgZnVuY3Rpb24gZ2V0Q3VycmVudFByaWNlKGFkZHJlc3MgX2J1eWVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgcHJpY2UgPSB3aGl0ZUxpc3RbX2J1eWVyXTsKCiAgICAgICAgaWYgKHByaWNlID4gMCkgewogICAgICAgICAgICByZXR1cm4gU1VCVU5JVF9NVUxUSVBMSUVSLm11bChwcmljZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdWludDI1NiBzdGFnZSA9IGdldFN0YWdlKCk7CiAgICAgICAgICAgIHJldHVybiBTVUJVTklUX01VTFRJUExJRVIubXVsKHRva2Vuc1tzdGFnZV0pOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBpblByZVNhbGVQZXJpb2QoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiAobm93ID49IGdldFByZVNhbGVTdGFydCgpICYmIG5vdyA8PSBnZXRQcmVTYWxlRW5kKCkpOwogICAgfQoKICAgIGZ1bmN0aW9uIGluU2FsZVBlcmlvZCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIChub3cgPj0gZ2V0U2FsZVN0YXJ0KCkgJiYgbm93IDw9IGdldFNhbGVFbmQoKSk7CiAgICAgICAgLy9JbiByb3VuZHMgMSAtIDMgcGVyaW9kCiAgICB9CgogICAgLy8gU2V0IHN0YXJ0IGRhdGUgb24gY29udHJhY3QgZGVwbG95CiAgICBmdW5jdGlvbiBTa3JpbGxhVG9rZW4odWludDI1NiBfcHJlU2FsZVN0YXJ0LCB1aW50MjU2IF9zYWxlU3RhcnQsIGFkZHJlc3MgX3RlYW0sIGFkZHJlc3MgX2dyb3d0aCwgYWRkcmVzcyBfd2l0aGRyYXdBZGRyZXNzKSB7CgogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKCiAgICAgICAgcmVxdWlyZShvd25lciAhPSBfdGVhbSAmJiBvd25lciAhPSBfZ3Jvd3RoKTsKICAgICAgICByZXF1aXJlKF90ZWFtICE9IF9ncm93dGgpOwogICAgICAgIC8vRW5zdXJlIHRoZXJlIHdhcyBubyBvdmVyZmxvdwogICAgICAgIHJlcXVpcmUoU0FMRV9DQVAgLyBTVUJVTklUX01VTFRJUExJRVIgPT0gNjAwICogMTAqKjYpOwogICAgICAgIHJlcXVpcmUoR1JPV1RIX1RPS0VOUyAvIFNVQlVOSVRfTVVMVElQTElFUiA9PSAzMDAgKiAxMCoqNik7CiAgICAgICAgcmVxdWlyZShURUFNX1RPS0VOUyAvIFNVQlVOSVRfTVVMVElQTElFUiA9PSAxMDAgKiAxMCoqNik7CgogICAgICAgIHRlYW0gPSBfdGVhbTsKICAgICAgICBncm93dGggPSBfZ3Jvd3RoOwogICAgICAgIHdpdGhkcmF3QWRkcmVzcyA9IF93aXRoZHJhd0FkZHJlc3M7CgogICAgICAgIHRva2VuU2FsZUJhbGFuY2VzW3RlYW1dID0gVEVBTV9UT0tFTlMgOwogICAgICAgIHRva2VuU2FsZUJhbGFuY2VzW2dyb3d0aF0gPSBHUk9XVEhfVE9LRU5TIDsKCiAgICAgICAgdG90YWxTdXBwbHkgPSAoVEVBTV9UT0tFTlMgKyBHUk9XVEhfVE9LRU5TKTsKCiAgICAgICAgaWYgKF9wcmVTYWxlU3RhcnQgPT0gMCkgewogICAgICAgICAgICBfcHJlU2FsZVN0YXJ0ID0gMTUwODUzMzIwMDsgLy9PY3QgMjAgMjAxNyA5cG0KICAgICAgICB9CgogICAgICAgIGlmIChfc2FsZVN0YXJ0ID09IDApIHsKICAgICAgICAgICAgX3NhbGVTdGFydCA9IDE1MTAwMDIwMDA7IC8vTm92IDYgMjAxNyA5cG0KICAgICAgICB9CgogICAgICAgIHVpbnQyNTYgcHJlU2FsZUVuZCA9IF9wcmVTYWxlU3RhcnQuYWRkKDMgZGF5cyk7CiAgICAgICAgcmVxdWlyZShfc2FsZVN0YXJ0ID4gcHJlU2FsZUVuZCk7CgogICAgICAgIHNhbGVTdGFnZVN0YXJ0RGF0ZXNbMF0gPSBfcHJlU2FsZVN0YXJ0OwogICAgICAgIHNhbGVTdGFnZVN0YXJ0RGF0ZXNbMV0gPSBfcHJlU2FsZVN0YXJ0LmFkZCgxIGRheXMpOwogICAgICAgIHNhbGVTdGFnZVN0YXJ0RGF0ZXNbMl0gPSBwcmVTYWxlRW5kOwogICAgICAgIHNhbGVTdGFnZVN0YXJ0RGF0ZXNbM10gPSBfc2FsZVN0YXJ0OwogICAgICAgIHNhbGVTdGFnZVN0YXJ0RGF0ZXNbNF0gPSBfc2FsZVN0YXJ0LmFkZCgxIGRheXMpOwogICAgICAgIHNhbGVTdGFnZVN0YXJ0RGF0ZXNbNV0gPSBfc2FsZVN0YXJ0LmFkZCg3IGRheXMpOwogICAgICAgIHNhbGVTdGFnZVN0YXJ0RGF0ZXNbNl0gPSBfc2FsZVN0YXJ0LmFkZCgxNCBkYXlzKTsKCiAgICAgICAgZXRoUmFpc2VkID0gMDsKICAgIH0KCiAgICAvL01vdmUgYSB1c2VyJ3MgdG9rZW4gc2FsZSBiYWxhbmNlIGludG8gdGhlIEVSQzIwIGJhbGFuY2VzIG1hcHBpbmcuCiAgICAvL1RoZSB1c2VyIG11c3QgY2FsbCB0aGlzIGJlZm9yZSB0aGV5IGNhbiB1c2UgdGhlaXIgdG9rZW5zIGFzIEVSQzIwIHRva2Vucy4KICAgIGZ1bmN0aW9uIHdpdGhkcmF3KCkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXF1aXJlKG5vdyA+IGdldFNhbGVFbmQoKSArIDE0IGRheXMpOwoKICAgICAgICB1aW50MjU2IHRva2VuU2FsZUJhbGFuY2UgPSB0b2tlblNhbGVCYWxhbmNlc1ttc2cuc2VuZGVyXTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLmFkZCh0b2tlblNhbGVCYWxhbmNlKTsKICAgICAgICBkZWxldGUgdG9rZW5TYWxlQmFsYW5jZXNbbXNnLnNlbmRlcl07CiAgICAgICAgV2l0aGRyYXcobXNnLnNlbmRlciwgdG9rZW5TYWxlQmFsYW5jZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgYmFsYW5jZSA9IGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIC8vQWx0aG91Z2ggdGhpcyBmdW5jdGlvbiBzaGFkb3dzIHRoZSBwdWJsaWMgZmllbGQgcmVtb3ZpbmcgaXQgY2F1c2VzIGFsbCB0aGUgdGVzdHMgdG8gZmFpbC4KICAgICAgICByZXR1cm4gdG90YWxTdXBwbHk7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwoKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+PSBiYWxhbmNlc1tfdG9dKTsKCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CgogICAgICAgIFRyYW5zZmVyKF9mcm9tLF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vUHJldmVudCBhdHRhY2sgbWVudGlvbmVkIGhlcmU6IGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL2RvY3VtZW50L2QvMVlMUHRReFp1MVVBdk85Y1oxTzJSUFhCYlQwbW9vaDREWUtqQV9qcC1STE0vZWRpdAogICAgICAgIC8vUmVxdWlyZXMgdGhhdCB0aGUgc3BlbmRlciBjYW4gb25seSBzZXQgdGhlIGFsbG93YW5jZSB0byBhIG5vbiB6ZXJvIGFtb3VudCBpZiB0aGUgY3VycmVudCBhbGxvd2FuY2UgaXMgMAogICAgICAgIC8vVGhpcyBtYXkgaGF2ZSBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGlzc3VlcyB3aXRoIG9sZGVyIGNsaWVudHMuCiAgICAgICAgcmVxdWlyZShhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwIHx8IF9hbW91bnQgPT0gMCk7CgogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX2Ftb3VudDsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGRUb1doaXRlbGlzdChhZGRyZXNzIF9idXllciwgdWludDI1NiBfcHJpY2UpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoX3ByaWNlIDwgMTAwMDApOwogICAgICAgIHdoaXRlTGlzdFtfYnV5ZXJdID0gX3ByaWNlOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZUZyb21XaGl0ZWxpc3QoYWRkcmVzcyBfYnV5ZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIGRlbGV0ZSB3aGl0ZUxpc3RbX2J1eWVyXTsKICAgIH0KCiAgICAvLyBGYWxsYmFjayBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBidXkgdG9rZW5zCiAgICBmdW5jdGlvbigpIHBheWFibGUgewogICAgICAgIGJ1eVRva2VucygpOwogICAgfQoKICAgIC8vIExvdyBsZXZlbCB0b2tlbiBwdXJjaGFzZSBmdW5jdGlvbgogICAgZnVuY3Rpb24gYnV5VG9rZW5zKCkgcHVibGljIHBheWFibGUgc2FsZUhhc05vdENsb3NlZCB7CiAgICAgICAgLy8gTm8gMCBjb250cmlidXRpb25zCiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPiAwKTsKICAgICAgICByZXF1aXJlKGV0aFJhaXNlZC5hZGQobXNnLnZhbHVlKSA8PSAxNTAwMDAgZXRoZXIpOwoKICAgICAgICAvLyBJZ25vcmUgaW5TYWxlUGVyaW9kIGZvciB3aGl0ZWxpc3RlZCBidXllcnMsIGp1c3QgY2hlY2sgYmVmb3JlIHNhbGVFbmQKICAgICAgICByZXF1aXJlKGluUHJlU2FsZVBlcmlvZCgpIHx8IGluU2FsZVBlcmlvZCgpIHx8ICh3aGl0ZUxpc3RbbXNnLnNlbmRlcl0gPiAwKSk7CgogICAgICAgIGlmIChpblByZVNhbGVQZXJpb2QoKSkgewogICAgICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSAxMCBldGhlciB8fCB3aGl0ZUxpc3RbbXNnLnNlbmRlcl0gPiAwKTsKICAgICAgICB9CgogICAgICAgIC8vIEdldCBwcmljZSBmb3IgYnV5ZXIKICAgICAgICB1aW50MjU2IHByaWNlID0gZ2V0Q3VycmVudFByaWNlKG1zZy5zZW5kZXIpOwogICAgICAgIHJlcXVpcmUgKHByaWNlID4gMCk7CgogICAgICAgIHVpbnQyNTYgdG9rZW5BbW91bnQgPSBwcmljZS5tdWwobXNnLnZhbHVlKTsKICAgICAgICB0b2tlbkFtb3VudCA9IHRva2VuQW1vdW50LmRpdigxIGV0aGVyKTsKCiAgICAgICAgcmVxdWlyZSAodG9rZW5BbW91bnQgPiAwKTsKICAgICAgICByZXF1aXJlICh0b3RhbFN1cHBseS5hZGQodG9rZW5BbW91bnQpIDw9IFRPVEFMX1NVUFBMWV9DQVApOwoKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LmFkZCh0b2tlbkFtb3VudCk7CiAgICAgICAgZXRoUmFpc2VkID0gZXRoUmFpc2VkLmFkZChtc2cudmFsdWUpOwogICAgICAgIHRva2VuU2FsZUJhbGFuY2VzW21zZy5zZW5kZXJdID0gdG9rZW5TYWxlQmFsYW5jZXNbbXNnLnNlbmRlcl0uYWRkKHRva2VuQW1vdW50KTsKCiAgICAgICAgLy8gUmFpc2UgZXZlbnQKICAgICAgICBUcmFuc2ZlcihhZGRyZXNzKDApLCBtc2cuc2VuZGVyLCB0b2tlbkFtb3VudCk7CiAgICAgICAgVG9rZW5QdXJjaGFzZShtc2cuc2VuZGVyLCBtc2cudmFsdWUsIHRva2VuQW1vdW50KTsKICAgIH0KCiAgICAvLyBlbXB0eSB0aGUgY29udHJhY3QgRVRICiAgICBmdW5jdGlvbiB0cmFuc2ZlckV0aCgpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobm93ID4gZ2V0U2FsZUVuZCgpICsgMTQgZGF5cyk7CiAgICAgICAgd2l0aGRyYXdBZGRyZXNzLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICB9CgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBzYWxlSGFzTm90Q2xvc2VkKCkgIHsKICAgICAgICAvL1NhbGUgbXVzdCBub3QgaGF2ZSBjbG9zZWQKICAgICAgICByZXF1aXJlKG5vdyA8PSBnZXRTYWxlRW5kKCkpOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0U3RhZ2UoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGZvciAodWludDI1NiBpID0gMTsgaSA8IHNhbGVTdGFnZVN0YXJ0RGF0ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKG5vdyA8IHNhbGVTdGFnZVN0YXJ0RGF0ZXNbaV0pIHsKICAgICAgICAgICAgICAgIHJldHVybiBpIC0gMTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHNhbGVTdGFnZVN0YXJ0RGF0ZXMubGVuZ3RoIC0gMTsKICAgIH0KCiAgICBldmVudCBUb2tlblB1cmNoYXNlKGFkZHJlc3MgaW5kZXhlZCBfcHVyY2hhc2VyLCB1aW50MjU2IF92YWx1ZSwgdWludDI1NiBfYW1vdW50KTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBXaXRoZHJhdyhhZGRyZXNzIGluZGV4ZWQgX293bmVyLCB1aW50MjU2IF92YWx1ZSk7Cn0='.
	

]
