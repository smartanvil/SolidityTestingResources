Class {
	#name : #SRT5f68698245e8c8949450e68b8bd8acef37faae7d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5f68698245e8c8949450e68b8bd8acef37faae7d >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKiBFdGhhcnQgUmVnaXN0cmFyIENvbnRyYWN0OgoKCWh0dHBzOi8vZXRoYXJ0LmNvbSAtIFRoZSBFdGhlcmV1bSBBcnQgTmV0d29yawoKCUV0aGFydCBBUkNISVRFQ1RVUkUKCS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkJCQkJX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KCQkJCQkJVgkJCQkJCQkJCQlWCglDb250cm9sbGVyIC0tPiBSZWdpc3RyYXIgPC0tPiBGYWN0b3J5IENvbnRyYWN0MSAtLT4gQXJ0d29yayBDb250cmFjdDEKCQkJCQkJCQkgIEZhY3RvcnkgQ29udHJhY3QyCSAgICBBcnR3b3JrIENvbnRyYWN0MgoJCQkJCQkJCSAgCQkuLi4JCQkJCS4uLgoJCQkJCQkJCSAgRmFjdG9yeSBDb250cmFjdE4JICAgIEFydHdvcmsgQ29udHJhY3ROCgoJQ29udHJvbGxlcjogVGhlIGNvbnRyb2xsZXIgY29udHJhY3QgaXMgdGhlIG93bmVyIG9mIHRoZSBSZWdpc3RyYXIgY29udHJhY3QgYW5kIGNhbgoJCS0gU2V0IGEgbmV3IG93bmVyCgkJLSBDb250cm9sIHRoZSBhc3NldHMgb2YgdGhlIFJlZ2lzdHJhciAod2l0aGRyYXcgRVRILCB0cmFuc2Zlciwgc2VsbCwgYnVybiBwaWVjZXMgb3duZWQgYnkgdGhlIFJlZ2lzdHJhcikKCQktIFRoZSBwbGFuIGlzIHRvIGhhdmUgdGhlIGNvbnRyb2xsZXIgY29udHJhY3QgYmUgYSBEQU8gaW4gcHJlcGFyYXRpb24gZm9yIGEgcG9zc2libGUgSUNPCgkKCVJlZ2lzdHJhcjoKCQktIFRoZSBSZWdpc3RyYXIgY29udHJhY3QgYWN0cyBhcyB0aGUgY2VudHJhbCByZWdpc3RyeSBmb3IgYWxsIHNoYTI1NiBoYXNoZXMgaW4gdGhlIEV0aGFydCBmYWN0b3J5IGNvbnRyYWN0IG5ldHdvcmsuCgkJLSBBcHByb3ZlZCBGYWN0b3J5IENvbnRyYWN0cyBjYW4gcmVnaXN0ZXIgc2hhMjU2IGhhc2hlcyB1c2luZyB0aGUgUmVnaXN0cmFyIGludGVyZmFjZS4KCQktIGV0aGFydEFydFJld2FyZCBvZiB0aGUgYXJ0IHByb2R1Y2VkIGFuZCBldGhhcnRSZXZlbnVlUmV3YXJkIG9mIHR1cm5vdmVyIG9mIHRoZSBjb250cmFjdCBuZXR3b3JrIHdpbGwgYmUgYXdhcmRlZCB0byB0aGUgUmVnaXN0cmFyLgoJCglGYWN0b3J5IENvbnRyYWN0czoKCQktIEZhY3RvcnkgQ29udHJhY3RzIGNhbiBzcGF3biBBcnR3b3JrIENvbnRyYWN0cyBpbiBsaW5lIHdpdGggYXJ0aXN0cyBzcGVjaWZpY2F0aW9ucwoJCS0gRmFjdG9yeSBDb250cmFjdHMgd2lsbCBvbmx5IHNwYXduIEFydHdvcmsgQ29udHJhY3RzIHdobydzIHNoYTI1NiBoYXNoZXMgYXJlIHVuaXF1ZSBwZXIgdGhlIFJlZ2lzdHJhcidzIHNoYTI1NiByZWdpc3RyeQoJCS0gRmFjdG9yeSBDb250cmFjdHMgd2lsbCByZWdpc3RlciBldmVyeSBuZXcgQXJ0d29yayBDb250cmFjdCB3aXRoIGl0J3MgZGV0YWlscyB3aXRoIHRoZSBSZWdpc3RyYXIgY29udHJhY3QKCQoJQXJ0d29yayBDb250cmFjdHM6CgkJLSBBcnR3b3JrIENvbnRyYWN0cyBhY3QgYXMgbWluaW1hbGlzdCBkZWNlbnRyYWxpc2VkIGV4Y2hhbmdlcyBmb3IgdGhlaXIgcGllY2VzIGluIGxpbmUgd2l0aCBzcGVjaWZpZWQgY29uZGl0aW9ucwoJCS0gQXJ0d29yayBDb250cmFjdHMgd2lsbCBpbnRlcmFjdCB3aXRoIHRoZSBSZWdpc3RyYXIgdG8gaXNzdWUgYnV5ZXJzIG9mIHBpZWNlcyBhIHByZWRldGVybWluZWQgYW1vdW50IG9mIFBhdHJvbiB0b2tlbnMgYmFzZWQgb24gdGhlIHRyYW5zYWN0aW9uIHZhbHVlIAoJCS0gQXJ0d29yayBDb250cmFjdHMgY2FuIGJlIGludGVyYWN0ZWQgd2l0aCBieSB0aGUgQ29udHJvbGxlciB2aWEgdGhlIFJlZ2lzdHJhciB1c2luZyB0aGVpciBpbnRlcmZhY2VzIHRvIHRyYW5zZmVyLCBzZWxsLCBidXJuIGV0YyBwaWVjZXMKCQoJKGMpIFN0ZWZhbiBQZXJuYXIgMjAxNyAtIGFsbCByaWdodHMgcmVzZXJ2ZWQKCShjKSBFUkMyMCBmdW5jdGlvbnMgQm9ra3lQb29CYWggMjAxNy4gVGhlIE1JVCBMaWNlbmNlLgoqLwoKY29udHJhY3QgSW50ZXJmYWNlIHsKCgkvLyBFdGhhcnQgbmV0d29yayBpbnRlcmZhY2UKCWZ1bmN0aW9uIHJlZ2lzdGVyQXJ0d29yayAoYWRkcmVzcyBfY29udHJhY3QsIGJ5dGVzMzIgX1NIQTI1Nkhhc2gsIHVpbnQyNTYgX2VkaXRpb25TaXplLCBzdHJpbmcgX3RpdGxlLCBzdHJpbmcgX2ZpbGVMaW5rLCB1aW50MjU2IF9vd25lckNvbW1pc3Npb24sIGFkZHJlc3MgX2FydGlzdCwgYm9vbCBfaW5kZXhlZCwgYm9vbCBfb3Vyb2Jvcm9zKTsKCWZ1bmN0aW9uIGlzU0hBMjU2SGFzaFJlZ2lzdGVyZWQgKGJ5dGVzMzIgX1NIQTI1Nkhhc2gpIHJldHVybnMgKGJvb2wgX3JlZ2lzdGVyZWQpOwkJCS8vIENoZWNrIGlmIGEgc2hhMjU2IGhhc2ggaXMgcmVnaXN0ZXJlZAoJZnVuY3Rpb24gaXNGYWN0b3J5QXBwcm92ZWQgKGFkZHJlc3MgX2ZhY3RvcnkpIHJldHVybnMgKGJvb2wgX2FwcHJvdmVkKTsJCQkJCQkvLyBDaGVjayBpZiBhbiBhZGRyZXNzIGlzIGEgcmVnaXN0ZXJlZCBmYWN0b3J5IGNvbnRyYWN0CglmdW5jdGlvbiBpc3N1ZVBhdHJvbnMgKGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpOwkJCQkJCQkJCQkvLyBJc3N1ZXMgUGF0cm9uIHRva2VucyBhY2NvcmRpbmcgdG8gY29uZGl0aW9ucyBzcGVjaWZpZWQgaW4gZmFjdG9yeSBjb250cmFjdHMKCWZ1bmN0aW9uIGFwcHJvdmVGYWN0b3J5Q29udHJhY3QgKGFkZHJlc3MgX2ZhY3RvcnlDb250cmFjdEFkZHJlc3MsIGJvb2wgX2FwcHJvdmVkKTsJCQkvLyBBcHByb3Zlcy9kaXNhcHByb3ZlcyBmYWN0b3J5IGNvbnRyYWN0cy4KCWZ1bmN0aW9uIGNoYW5nZU93bmVyIChhZGRyZXNzIG5ld093bmVyKTsJCQkJCQkJCQkJCQkJLy8gQ2hhbmdlIHRoZSByZWdpc3RyYXIncyBvd25lci4KCglmdW5jdGlvbiBvZmZlclBpZWNlRm9yU2FsZUJ5QWRkcmVzcyAoYWRkcmVzcyBfY29udHJhY3QsIHVpbnQyNTYgX3ByaWNlKTsJCQkJCS8vIFNlbGwgYSBwaWVjZSBvd25lZCBieSB0aGUgcmVnaXN0cmFyLgoJZnVuY3Rpb24gb2ZmZXJQaWVjZUZvclNhbGUgKHVpbnQyNTYgX3ByaWNlKTsKCWZ1bmN0aW9uIGZpbGxCaWRCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0KTsJCQkJCQkJCQkJCQkvLyBGaWxsIGEgYmlkIHdpdGggYW4gdW5pbmRleGVkIHBpZWNlIG93bmVkIGJ5IHRoZSByZWdpc3RyYXIKCWZ1bmN0aW9uIGZpbGxCaWQoKTsKCWZ1bmN0aW9uIGNhbmNlbFNhbGVCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0KTsJCQkJCQkJCQkJCS8vIENhbmNlbCB0aGUgc2FsZSBvZiBhbiB1bmluZGV4ZWQgcGllY2Ugb3duZWQgYnkgdGhlIHJlZ2lzdHJhcgoJZnVuY3Rpb24gY2FuY2VsU2FsZSgpOwoJZnVuY3Rpb24gb2ZmZXJJbmRleGVkUGllY2VGb3JTYWxlQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCwgdWludDI1NiBfaW5kZXgsIHVpbnQyNTYgX3ByaWNlKTsJCQkJLy8gU2VsbCBhbiBpbmRleGVkIHBpZWNlIG93bmVkIGJ5IHRoZSByZWdpc3RyYXIuCglmdW5jdGlvbiBvZmZlckluZGV4ZWRQaWVjZUZvclNhbGUodWludDI1NiBfaW5kZXgsIHVpbnQyNTYgX3ByaWNlKTsKCWZ1bmN0aW9uIGZpbGxJbmRleGVkQmlkQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCwgdWludDI1NiBfaW5kZXgpOwkJCQkJCS8vIEZpbGwgYSBiaWQgd2l0aCBhbiBpbmRleGVkIHBpZWNlIG93bmVkIGJ5IHRoZSByZWdpc3RyYXIKCWZ1bmN0aW9uIGZpbGxJbmRleGVkQmlkICh1aW50MjU2IF9pbmRleCk7CglmdW5jdGlvbiBjYW5jZWxJbmRleGVkU2FsZUJ5QWRkcmVzcyAoYWRkcmVzcyBfY29udHJhY3QpOwkJCQkJCQkJCS8vIENhbmNlbCB0aGUgc2FsZSBvZiBhbiB1bmluZGV4ZWQgcGllY2Ugb3duZWQgYnkgdGhlIHJlZ2lzdHJhcgoJZnVuY3Rpb24gY2FuY2VsSW5kZXhlZFNhbGUoKTsKCglmdW5jdGlvbiB0cmFuc2ZlckJ5QWRkcmVzcyAoYWRkcmVzcyBfY29udHJhY3QsIHVpbnQyNTYgX2Ftb3VudCwgYWRkcmVzcyBfdG8pOwkJCQkvLyBUcmFuc2ZlcnMgdW5pbmRleGVkIHBpZWNlcyBvd25lZCBieSB0aGUgcmVnaXN0cmFyIGNvbnRyYWN0CglmdW5jdGlvbiB0cmFuc2ZlckluZGV4ZWRCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0LCB1aW50MjU2IF9pbmRleCwgYWRkcmVzcyBfdG8pOwkJCS8vIFRyYW5zZmVycyBpbmRleGVkIHBpZWNlcyBvd25lZCBieSB0aGUgcmVnaXN0cmFyIGNvbnRyYWN0CglmdW5jdGlvbiBhcHByb3ZlQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCwgYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50KTsJCQkvLyBTZXRzIGFuIGFsbG93YW5jZSBmb3IgdW5pbmRleGVkIHBpZWNlcyBvd25lZCBieSB0aGUgcmVnaXN0cmFyIGNvbnRyYWN0CglmdW5jdGlvbiBhcHByb3ZlSW5kZXhlZEJ5QWRkcmVzcyAoYWRkcmVzcyBfY29udHJhY3QsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2luZGV4KTsJCS8vIFNldHMgYW4gYWxsb3dhbmNlIGZvciBpbmRleGVkIHBpZWNlcyBvd25lZCBieSB0aGUgcmVnaXN0cmFyIGNvbnRyYWN0CglmdW5jdGlvbiBidXJuQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCwgdWludDI1NiBfYW1vdW50KTsJCQkJCQkJCS8vIEJ1cm4gYW4gdW5pbmRleGVkIHBpZWNlIG93bmVkIGJ5IHRoZSByZWdpc3RyYXIgY29udHJhY3QKCWZ1bmN0aW9uIGJ1cm5Gcm9tQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCwgdWludDI1NiBfYW1vdW50LCBhZGRyZXNzIF9mcm9tKTsJCQkJLy8gQnVybiBhbiB1bmluZGV4ZWQgcGllY2Ugb3duZWQgYnkgYW5ub3RoZXIgYWRkcmVzcwoJZnVuY3Rpb24gYnVybkluZGV4ZWRCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0LCB1aW50MjU2IF9pbmRleCk7CQkJCQkJCS8vIEJ1cm4gYW4gaW5kZXhlZCBwaWVjZSBvd25lZCBieSB0aGUgcmVnaXN0cmFyIGNvbnRyYWN0CglmdW5jdGlvbiBidXJuSW5kZXhlZEZyb21CeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0LCBhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF9pbmRleCk7CQkvLyBCdXJuIGFuIGluZGV4ZWQgcGllY2Ugb3duZWQgYnkgYW5vdGhlciBhZGRyZXNzCgoJLy8gRVJDMjAgaW50ZXJmYWNlCglmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgdG90YWxTdXBwbHkpOwkJCQkJCQkJCS8vIFJldHVybnMgdGhlIHRvdGFsIHN1cHBseSBvZiBhbiBhcnR3b3JrIG9yIHRva2VuCglmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CQkJCQkJCS8vIFJldHVybnMgYW4gYWRkcmVzcycgYmFsYW5jZSBvZiBhbiBhcnR3b3JrIG9yIHRva2VuCiAJZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwkJCQkJCQkvLyBUcmFuc2ZlcnMgcGllY2VzIG9mIGFydCBvciB0b2tlbnMgdG8gYW4gYWRkcmVzcwogCWZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CQkvLyBUcmFuc2ZlcnMgcGllY2VzIG9mIGFydCBvZiB0b2tlbnMgb3duZWQgYnkgYW5vdGhlciBhZGRyZXNzIHRvIGFuIGFkZHJlc3MKCWZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CQkJCQkJLy8gU2V0cyBhbiBhbGxvd2FuY2UgZm9yIGFuIGFkZHJlc3MKCWZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwkJLy8gUmV0dXJucyB0aGUgYWxsb3dhbmNlIG9mIGFuIGFkZHJlc3MgZm9yIGFub3RoZXIgYWRkcmVzcwoKCS8vIEFkZGl0aW9uYWwgdG9rZW4gZnVuY3Rpb25zCglmdW5jdGlvbiBidXJuKHVpbnQyNTYgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsJCQkJCQkJCQkJLy8gQnVybnMgKHJlbW92ZXMgZnJvbSBjaXJjdWxhdGlvbikgdW5pbmRleGVkIHBpZWNlcyBvZiBhcnQgb3IgdG9rZW5zLgoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkvLyBJbiB0aGUgY2FzZSBvZiAnb3Vyb2Jvcm9zJyBwaWVjZXMgdGhpcyBmdW5jdGlvbiBhbHNvIHJldHVybnMgdGhlIHBpZWNlJ3MKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJLy8gY29tcG9uZW50cyB0byB0aGUgbWVzc2FnZSBzZW5kZXIKCQoJZnVuY3Rpb24gYnVybkZyb20oYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfYW1vdW50KSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwkJCQkJLy8gQnVybnMgKHJlbW92ZXMgZnJvbSBjaXJjdWxhdGlvbikgdW5pbmRleGVkIHBpZWNlcyBvZiBhcnQgb3IgdG9rZW5zCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCS8vIG93bmVkIGJ5IGFub3RoZXIgYWRkcmVzcy4gSW4gdGhlIGNhc2Ugb2YgJ291cm9ib3JvcycgcGllY2VzIHRoaXMKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJLy8gZnVuY3Rpb24gYWxzbyByZXR1cm5zIHRoZSBwaWVjZSdzIGNvbXBvbmVudHMgdG8gdGhlIG1lc3NhZ2Ugc2VuZGVyCgkKCS8vIEV4dGVuZGVkIEVSQzIwIGludGVyZmFjZSBmb3IgaW5kZXhlZCBwaWVjZXMKCWZ1bmN0aW9uIHRyYW5zZmVySW5kZXhlZCAoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX19pbmRleCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsJCQkJLy8gVHJhbnNmZXJzIGFuIGluZGV4ZWQgcGllY2Ugb2YgYXJ0CglmdW5jdGlvbiB0cmFuc2ZlckZyb21JbmRleGVkIChhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfaW5kZXgpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CS8vIFRyYW5zZmVycyBhbiBpbmRleGVkIHBpZWNlIG9mIGFydCBmcm9tIGFub3RoZXIgYWRkcmVzcwoJZnVuY3Rpb24gYXBwcm92ZUluZGV4ZWQgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX2luZGV4KSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwkJCS8vIFNldHMgYW4gYWxsb3dhbmNlIGZvciBhbiBpbmRleGVkIHBpZWNlIG9mIGFydCBmb3IgYW5vdGhlciBhZGRyZXNzCglmdW5jdGlvbiBidXJuSW5kZXhlZCAodWludDI1NiBfaW5kZXgpOwkJCQkJCQkJCQkJCQkJLy8gQnVybnMgKHJlbW92ZXMgZnJvbSBjaXJjdWxhdGlvbikgaW5kZXhlZCBwaWVjZXMgb2YgYXJ0IG9yIHRva2Vucy4KCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJLy8gSW4gdGhlIGNhc2Ugb2YgJ291cm9ib3JvcycgcGllY2VzIHRoaXMgZnVuY3Rpb24gYWxzbyByZXR1cm5zIHRoZQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkvLyBwaWVjZSdzIGNvbXBvbmVudHMgdG8gdGhlIG1lc3NhZ2Ugc2VuZGVyCgkKCWZ1bmN0aW9uIGJ1cm5JbmRleGVkRnJvbSAoYWRkcmVzcyBfb3duZXIsIHVpbnQyNTYgX2luZGV4KTsJCQkJCQkJCQkvLyBCdXJucyAocmVtb3ZlcyBmcm9tIGNpcmN1bGF0aW9uKSBpbmRleGVkIHBpZWNlcyBvZiBhcnQgb3IgdG9rZW5zCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCS8vIG93bmVkIGJ5IGFub3RoZXIgYWRkcmVzcy4gSW4gdGhlIGNhc2Ugb2YgJ291cm9ib3JvcycgcGllY2VzIHRoaXMKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJLy8gZnVuY3Rpb24gYWxzbyByZXR1cm5zIHRoZSBwaWVjZSdzIGNvbXBvbmVudHMgdG8gdGhlIG1lc3NhZ2Ugc2VuZGVyCgp9Cgpjb250cmFjdCBSZWdpc3RyYXIgewoKCS8vIFBhdHJvbiB0b2tlbiBFUkMyMCBwdWJsaWMgdmFyaWFibGVzCglzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJBUlQiOwoJc3RyaW5nIHB1YmxpYyBjb25zdGFudCBuYW1lID0gIlBhdHJvbiAtIEV0aGFydCBOZXR3b3JrIFRva2VuIjsKCXVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDE4OwoJdWludDI1NiBfdG90YWxQYXRyb25TdXBwbHk7CgoJZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpOwoJZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwoJZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgX293bmVyLCB1aW50MjU2IF9hbW91bnQpOwoKICAgIC8vIFBhdHJvbiB0b2tlbiBiYWxhbmNlcyBmb3IgZWFjaCBhY2NvdW50CgltYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VzOwkJCQkJCS8vIFBhdHJvbiB0b2tlbiBiYWxhbmNlcwoKCWV2ZW50IE5ld0FydHdvcmsoYWRkcmVzcyBfY29udHJhY3QsIGJ5dGVzMzIgX1NIQTI1Nkhhc2gsIHVpbnQyNTYgX2VkaXRpb25TaXplLCBzdHJpbmcgX3RpdGxlLCBzdHJpbmcgX2ZpbGVMaW5rLCB1aW50MjU2IF9vd25lckNvbW1pc3Npb24sIGFkZHJlc3MgX2FydGlzdCwgYm9vbCBfaW5kZXhlZCwgYm9vbCBfb3Vyb2Jvcm9zKTsKCgkvLyBPd25lciBvZiBhY2NvdW50IGFwcHJvdmVzIHRoZSB0cmFuc2ZlciBvZiBhbiBhbW91bnQgb2YgUGF0cm9uIHRva2VucyB0byBhbm90aGVyIGFjY291bnQKCW1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwkJCS8vIFBhdHJvbiB0b2tlbiBhbGxvd2FuY2VzCgkKCS8vIE1pdGlnYXRpbmcgRVJDMjAgc2hvcnQgYWRkcmVzcyBhdHRhY2tzIChodHRwOi8vdmVzc2VuZXMuY29tL3RoZS1lcmMyMC1zaG9ydC1hZGRyZXNzLWF0dGFjay1leHBsYWluZWQvKQoJbW9kaWZpZXIgb25seVBheWxvYWRTaXplKHVpbnQgc2l6ZSkKCXsKCQlyZXF1aXJlKG1zZy5kYXRhLmxlbmd0aCA+PSBzaXplICsgNCk7CgkJXzsKCX0KCQoJLy8gQkVHSU4gRVJDMjAgZnVuY3Rpb25zIChjKSBCb2treVBvb0JhaCAyMDE3LiBUaGUgTUlUIExpY2VuY2UuCgoJZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHRvdGFsUGF0cm9uU3VwcGx5KSB7CgkJdG90YWxQYXRyb25TdXBwbHkgPSBfdG90YWxQYXRyb25TdXBwbHk7CgkJfQoKCS8vIFdoYXQgaXMgdGhlIGJhbGFuY2Ugb2YgYSBwYXJ0aWN1bGFyIGFjY291bnQ/CglmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogCQlyZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKCQl9CgoJLy8gVHJhbnNmZXIgdGhlIGJhbGFuY2UgZnJvbSBvd25lcidzIGFjY291bnQgdG8gYW5vdGhlciBhY2NvdW50CglmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKCQlpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCAKCQkJJiYgX2Ftb3VudCA+IDAKIAkJICAgCSYmIGJhbGFuY2VzW190b10gKyBfYW1vdW50ID4gYmFsYW5jZXNbX3RvXQoJCQkmJiBfdG8gIT0gMHgwKQkJCQkJCQkJCQkvLyB1c2UgYnVybigpIGluc3RlYWQKCQkJewoJCQliYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfYW1vdW50OwoJCQliYWxhbmNlc1tfdG9dICs9IF9hbW91bnQ7CgkJCVRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7CiAJCSAgIAlyZXR1cm4gdHJ1ZTsKCQkJfQoJCQllbHNlIHsgcmV0dXJuIGZhbHNlO30KIAkJIH0KCgkvLyBTZW5kIF92YWx1ZSBhbW91bnQgb2YgdG9rZW5zIGZyb20gYWRkcmVzcyBfZnJvbSB0byBhZGRyZXNzIF90bwoJLy8gVGhlIHRyYW5zZmVyRnJvbSBtZXRob2QgaXMgdXNlZCBmb3IgYSB3aXRoZHJhdyB3b3JrZmxvdywgYWxsb3dpbmcgY29udHJhY3RzIHRvIHNlbmQKIAkvLyB0b2tlbnMgb24geW91ciBiZWhhbGYsIGZvciBleGFtcGxlIHRvICJkZXBvc2l0IiB0byBhIGNvbnRyYWN0IGFkZHJlc3MgYW5kL29yIHRvIGNoYXJnZQogCS8vIGZlZXMgaW4gc3ViLWN1cnJlbmNpZXM7IHRoZSBjb21tYW5kIHNob3VsZCBmYWlsIHVubGVzcyB0aGUgX2Zyb20gYWNjb3VudCBoYXMKIAkvLyBkZWxpYmVyYXRlbHkgYXV0aG9yaXNlZCB0aGUgc2VuZGVyIG9mIHRoZSBtZXNzYWdlIHZpYSBzb21lIG1lY2hhbmlzbTsgd2UgcHJvcG9zZQogCS8vIHRoZXNlIHN0YW5kYXJkaXNlZCBBUElzIGZvciBhcHByb3ZhbDoKIAlmdW5jdGlvbiB0cmFuc2ZlckZyb20oIGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIG9ubHlQYXlsb2FkU2l6ZSgzICogMzIpIHJldHVybnMgKGJvb2wgc3VjY2VzcykKCQl7CgkJCWlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX2Ftb3VudAoJCQkJJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX2Ftb3VudAoJCQkJJiYgX2Ftb3VudCA+IDAKCQkJCSYmIGJhbGFuY2VzW190b10gKyBfYW1vdW50ID4gYmFsYW5jZXNbX3RvXQoJCQkJJiYgX3RvICE9IDB4MCkJCQkJCQkJCQkJLy8gdXNlIGJ1cm4oKSBpbnN0ZWFkCgkJCQkJewoJCQkJCWJhbGFuY2VzW19mcm9tXSAtPSBfYW1vdW50OwoJCQkJCWFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF9hbW91bnQ7CgkJCQkJYmFsYW5jZXNbX3RvXSArPSBfYW1vdW50OwoJCQkJCVRyYW5zZmVyKF9mcm9tLCBfdG8sIF9hbW91bnQpOwoJCQkJCXJldHVybiB0cnVlOwoJCQkJCX0gZWxzZSB7cmV0dXJuIGZhbHNlO30KCQl9CgoJLy8gQWxsb3cgX3NwZW5kZXIgdG8gd2l0aGRyYXcgZnJvbSB5b3VyIGFjY291bnQsIG11bHRpcGxlIHRpbWVzLCB1cCB0byB0aGUgX3ZhbHVlIGFtb3VudC4KCS8vIElmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGFnYWluIGl0IG92ZXJ3cml0ZXMgdGhlIGN1cnJlbnQgYWxsb3dhbmNlIHdpdGggX3ZhbHVlLgoJLy8gVG8gYmUgZXh0cmEgc2VjdXJlIHNldCBhbGxvd2FuY2UgdG8gMCBhbmQgY2hlY2sgdGhhdCBub25lIG9mIHRoZSBhbGxvd2FuY2Ugd2FzIHNwZW5kIGJldHdlZW4geW91IHNlbmRpbmcgdGhlIHR4IGFuZCBpdCBnZXR0aW5nIG1pbmVkLiBPbmx5IHRoZW4gZGVjcmVhc2UvaW5jcmVhc2UgdGhlIGFsbG93YW5jZS4KCS8vIFNlZSBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFZTFB0UXhadTFVQXZPOWNaMU8yUlBYQmJUMG1vb2g0RFlLakFfanAtUkxNL2VkaXQjaGVhZGluZz1oLm05ZmhxeW53Mnh2dAoJZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCWFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX2Ftb3VudDsKCQlBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX2Ftb3VudCk7CgkJcmV0dXJuIHRydWU7CgkJfQoKCWZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKCQlyZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKCQl9CgoJLy8gRU5EIEVSQzIwIGZ1bmN0aW9ucyAoYykgQm9ra3lQb29CYWggMjAxNy4gVGhlIE1JVCBMaWNlbmNlLgoJCgkvLyBBZGRpdGlvbmFsIFBhdHJvbiB0b2tlbiBmdW5jdGlvbnMKCQoJZnVuY3Rpb24gYnVybih1aW50MjU2IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCQlpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX2Ftb3VudCkgewoJCQkJYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX2Ftb3VudDsKCQkJCV90b3RhbFBhdHJvblN1cHBseSAtPSBfYW1vdW50OwoJCQkJQnVybihtc2cuc2VuZGVyLCBfYW1vdW50KTsKCQkJCXJldHVybiB0cnVlOwoJCQl9CgkJCWVsc2Uge3Rocm93O30KCQl9CgoJZnVuY3Rpb24gYnVybkZyb20oYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgyICogMzIpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoJCWlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSkgewoJCQliYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwoJCQlhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CgkJCV90b3RhbFBhdHJvblN1cHBseSAtPSBfdmFsdWU7CgkJCUJ1cm4oX2Zyb20sIF92YWx1ZSk7CgkJCXJldHVybiB0cnVlOwoJCX0KCQllbHNlIHt0aHJvdzt9Cgl9CgoJLy8gQkVHSU4gc2FmZSBtYXRoIGZ1bmN0aW9ucyBieSBPcGVuIFplcHBlbGluCgkvLyBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5L2Jsb2IvbWFzdGVyL2NvbnRyYWN0cy9tYXRoL1NhZmVNYXRoLnNvbAoKCWZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewoJCXVpbnQyNTYgYyA9IGEgKiBiOwoJCWFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CgkJcmV0dXJuIGM7Cgl9CgoJZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CgkJLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCgkJdWludDI1NiBjID0gYSAvIGI7CgkJLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKCQlyZXR1cm4gYzsKCX0KCglmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKCQlhc3NlcnQoYiA8PSBhKTsKCQlyZXR1cm4gYSAtIGI7Cgl9CgoJZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CgkJdWludDI1NiBjID0gYSArIGI7CgkJYXNzZXJ0KGMgPj0gYSk7CgkJcmV0dXJuIGM7Cgl9CgoJLy8gRU5EIHNhZmUgbWF0aCBmdW5jdGlvbnMgYnkgT3BlbiBaZXBwZWxpbgoKCS8vIEV0aGFydCB2YXJpYWJsZXMKCQoJLy8gUmVnaXN0ZXIgb2YgYWxsIFNIQTI1NiBIYXNoZXMKICAgIG1hcHBpbmcgKGJ5dGVzMzIgPT4gYWRkcmVzcykgcHVibGljIFNIQTI1Nkhhc2hSZWdpc3RlcjsKCQoJLy8gUmVnaXN0ZXIgb2YgYWxsIGFwcHJvdmVkIGZhY3RvcnkgY29udHJhY3RzCgltYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBhcHByb3ZlZEZhY3RvcmllczsKCQoJLy8gUmVnaXN0ZXIgb2YgYWxsIGFwcHJvdmVkIGFydHdvcmsgY29udHJhY3RzCgkKCS8vIFJlZ2lzdGVyIG9mIGFsbCBhcHByb3ZlZCBjb250cmFjdHMgZm9yIGFtZW5kaW5nIHBlbmRpbmcgd2l0aGRyYXdhbHMgYW5kIGlzc3VpbmcgUGF0cm9uIHRva2VucwoJbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgYXBwcm92ZWRDb250cmFjdHM7CgkKCS8vIFJlZ2lzdGVyIG9mIGFsbCByZWZlcnJlcnMgKHJlZmVyZWUgPT4gcmVmZXJyZXIpIHVzZWQgZm9yIHRoZSBhZmZpbGlhdGUgcHJvZ3JhbQoJbWFwcGluZyAoYWRkcmVzcyA9PiBhZGRyZXNzKSBwdWJsaWMgcmVmZXJyZWQ7CgkKCS8vIFJlZmVycmVyIGZvciBhbiBhcnRpc3QgaGFzIHRvIGJlIHNldCBfYmVmb3JlXyB0aGUgZmlyc3QgcGllY2UgaGFzIGJlZW4gY3JlYXRlZCBieSBhbiBhZGRyZXNzCgltYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBjYW50U2V0UmVmZXJyZXI7CgoJLy8gUmVnaXN0ZXIgb2YgYWxsIGFydHdvcmtzIGFuZCB0aGVpciBkZXRhaWxzIGJ5IHRoZWlyIHJlc3BlY3RpdmUgYWRkcmVzc2VzCglzdHJ1Y3QgYXJ0d29yayB7CgkJYnl0ZXMzMiBTSEEyNTZIYXNoOwoJCXVpbnQyNTYgZWRpdGlvblNpemU7CgkJc3RyaW5nIHRpdGxlOwoJCXN0cmluZyBmaWxlTGluazsKCQl1aW50MjU2IG93bmVyQ29tbWlzc2lvbjsKCQlhZGRyZXNzIGFydGlzdDsKCQlhZGRyZXNzIGZhY3Rvcnk7CgkJYm9vbCBpc0luZGV4ZWQ7CgkJYm9vbCBpc091cm9ib3Jvczt9CgkKCW1hcHBpbmcgKGFkZHJlc3MgPT4gYXJ0d29yaykgcHVibGljIGFydHdvcmtSZWdpc3RlcjsKCgkvLyBBbiBpbmRleGVkIHJlZ2lzdGVyIG9mIGFsbCBvZiBhbiBhcnRpc3QncyBhcnR3b3JrcwoKCS8vIEVudGVyIGFydGlzdCBhZGRyZXNzIGFuZCBhIHJ1bm5pbmcgbnVtYmVyIHRvIGdldCB0aGUgYXJ0aXN0J3MgYXJ0d29yayBhZGRyZXNzZXMKCW1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nICh1aW50MjU2ID0+IGFkZHJlc3MpKSBwdWJsaWMgYXJ0aXN0c0FydHdvcmtzOwoKCS8vIEEgcnVubmluZyBudW1iZXIgY291bnRpbmcgYW4gYXJ0aXN0J3MgYXJ0d29ya3MKCW1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYXJ0aXN0c0FydHdvcmtDb3VudDsJCQkJCQkKCgkvLyBLZWVwcyB0cmFjayBvZiB0aGUgbnVtYmVyIG9mIGFydHdvcmsgY29udHJhY3RzIGluIHRoZSBuZXR3b3JrCgl1aW50MjU2IHB1YmxpYyBhcnR3b3JrQ291bnQ7CgoJLy8gQW4gaW5kZXggb2YgYWxsIHRoZSBhcnR3b3JrIGNvbnRyYWN0cyBpbiB0aGUgbmV0d29yawoJbWFwcGluZyAodWludDI1NiA9PiBhZGRyZXNzKSBwdWJsaWMgYXJ0d29ya0luZGV4OwoKCS8vIEFsbCBwZW5kaW5nIHdpdGhkcmF3YWxzCgltYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBwZW5kaW5nV2l0aGRyYXdhbHM7Cgl1aW50MjU2IHB1YmxpYyB0b3RhbFBlbmRpbmdXaXRoZHJhd2FsczsKCgkvLyBUaGUgYWRkcmVzcyBvZiB0aGUgUmVnaXN0cmFyJ3Mgb3duZXIKCWFkZHJlc3MgcHVibGljIG93bmVyOwoJCgkvLyBEZXRlcm1pbmVzIGhvdyBtYW55IFBhdHJvbnMgYXJlIGlzc3VlcyBwZXIgZG9uYXRpb24KCXVpbnQyNTYgcHVibGljIGRvbmF0aW9uTXVsdGlwbGllcjsKCQoJLy8gRGV0ZXJtaW5lcyBob3cgbWFueSBQYXRyb25zIGFyZSBpc3N1ZXMgcGVyIHB1cmNoYXNlIG9mIGFuIGFydHdvcmsgaW4gYmFzaXMgcG9pbnRzICgxMCwwMDAgPSAxMDAlKQoJdWludDI1NiBwdWJsaWMgcGF0cm9uUmV3YXJkTXVsdGlwbGllcjsKCQoJLy8gRGV0ZXJtaW5lcyBob3cgbXVjaCBFdGhhcnQgaXMgZW50aXRsZWQgdG8gYXJ0d29ya3MvcmV2ZW51ZSBwZXJjZW50YWdlcyBpbiBiYXNpcyBwb2ludHMgKDEwLDAwMCA9IDEwMCUpCgl1aW50MjU2IHB1YmxpYyBldGhhcnRSZXZlbnVlUmV3YXJkOwoJdWludDI1NiBwdWJsaWMgZXRoYXJ0QXJ0UmV3YXJkOwoJCgkvLyBEZXRlcm1pbmVzIGhvdyBtdWNoIG9mIGEgcGVyY2VudGFnZSBhIHJlZmVycmVyIGdldCBvZiBldGhhcnRSZXZlbnVlUmV3YXJkCgl1aW50MjU2IHB1YmxpYyByZWZlcnJlclJld2FyZDsKCgkvLyBGdW5jdGlvbnMgd2l0aCB0aGlzIG1vZGlmaWVyIGNhbiBvbmx5IGJlIGV4ZWN1dGVkIGJ5IGEgc3BlY2lmaWMgYWRkcmVzcwoJbW9kaWZpZXIgb25seUJ5IChhZGRyZXNzIF9hY2NvdW50KQoJewoJCXJlcXVpcmUobXNnLnNlbmRlciA9PSBfYWNjb3VudCk7CgkJXzsKCQl9CgoJLy8gRnVuY3Rpb25zIHdpdGggdGhpcyBtb2RpZmllciBjYW4gb25seSBiZSBleGVjdXRlZCBieSBhcHByb3ZlZCBmYWN0b3J5IGNvbnRyYWN0cwoJbW9kaWZpZXIgcmVnaXN0ZXJlZEZhY3Rvcmllc09ubHkgKCkKCXsKCQlyZXF1aXJlKGFwcHJvdmVkRmFjdG9yaWVzW21zZy5zZW5kZXJdKTsKCQlfOwoJfQoKCS8vIEZ1bmN0aW9ucyB3aXRoIHRoaXMgbW9kaWZpZXIgY2FuIG9ubHkgYmUgZXhlY3V0ZWQgYnkgYXBwcm92ZWQgY29udHJhY3RzCgltb2RpZmllciBhcHByb3ZlZENvbnRyYWN0c09ubHkgKCkKCXsKCQlyZXF1aXJlKGFwcHJvdmVkQ29udHJhY3RzW21zZy5zZW5kZXJdKTsKCQlfOwoJfQoKCS8vIFNldCB0aGUgcmVmZXJyZXIgb2YgYW4gYXJ0aXN0LiBUaGlzIGhhcyB0byBiZSBkb25lIGJlZm9yZSBhbiBhcnRpc3QgY3JlYXRlcyB0aGVpciBmaXJzdCBhcnR3b3JrLgoJZnVuY3Rpb24gc2V0UmVmZXJyZXIgKGFkZHJlc3MgX3JlZmVycmVyKQoJCXsKCQkJaWYgKHJlZmVycmVkW21zZy5zZW5kZXJdID09IDB4MCAmJiAhY2FudFNldFJlZmVycmVyW21zZy5zZW5kZXJdICYmIF9yZWZlcnJlciAhPSBtc2cuc2VuZGVyKQoJCQl7CgkJCQlyZWZlcnJlZFttc2cuc2VuZGVyXSA9IF9yZWZlcnJlcjsKCQkJfQoJCX0KCglmdW5jdGlvbiBnZXRSZWZlcnJlciAoYWRkcmVzcyBfYXJ0aXN0KSByZXR1cm5zIChhZGRyZXNzIF9yZWZlcnJlcikKCQl7CgkJCXJldHVybiByZWZlcnJlZFtfYXJ0aXN0XTsKCQl9CgkKCWZ1bmN0aW9uIHNldFJlZmVycmVyUmV3YXJkICh1aW50MjU2IF9yZWZlcnJlclJld2FyZCkgb25seUJ5IChvd25lcikKCQl7CgkJCXVpbnQgYTsKCQkJaWYgKF9yZWZlcnJlclJld2FyZCA+IDEwMDAwIC0gZXRoYXJ0UmV2ZW51ZVJld2FyZCkge3Rocm93O30KCQkJYSA9IDEwMDAwIC8gX3JlZmVycmVyUmV3YXJkOwoJCQkvLyAxMDAwMCAvIF9yZWZlcnJlclJld2FyZCBoYXMgdG8gYmUgYW4gZXZlbiBudW1iZXIKCQkJaWYgKGEgKiBfcmVmZXJyZXJSZXdhcmQgIT0gMTAwMDApIHt0aHJvdzt9CgkJCXJlZmVycmVyUmV3YXJkID0gX3JlZmVycmVyUmV3YXJkOwoJCX0KCQoJZnVuY3Rpb24gZ2V0UmVmZXJyZXJSZXdhcmQgKCkgcmV0dXJucyAodWludDI1NiBfcmVmZXJyZXJSZXdhcmQpCgkJewoJCQlyZXR1cm4gcmVmZXJyZXJSZXdhcmQ7CgkJfQoKCS8vIENvbnN0cnVjdG9yCglmdW5jdGlvbiBSZWdpc3RyYXIgKCkgewoJCW93bmVyID0gbXNnLnNlbmRlcjsKCQkKCQkvLyBEb25vcnMgcmVjZWl2ZSAxMDAgUGF0cm9ucyBwZXIgMSB3ZWkgZG9uYXRpb24KCQlkb25hdGlvbk11bHRpcGxpZXIgPSAxMDA7CgkJCgkJLy8gUGF0cm9ucyByZWNlaXZlIDIuNSBQYXRyb25zICgyNSwwMDAgYmFzaXMgcG9pbnRzKSBwZXIgMSB3ZWkgcHVyY2hhc2VzCgkJcGF0cm9uUmV3YXJkTXVsdGlwbGllciA9IDI1MDAwOwoJCQoJCS8vIEV0aGFydCByZWNlaXZlcyAyLjUlIG9mIHJldmVudWVzIGFuZCBhcnR3b3JrJ3MgZWRpdGlvbiBzaXplcwoJCWV0aGFydFJldmVudWVSZXdhcmQgPSAyNTA7CgkJZXRoYXJ0QXJ0UmV3YXJkID0gMjUwOwoJCQoJCS8vIEZvciBiYWxhbmNlZCBmaWd1cmVzIHBhdHJvblJld2FyZE11bHRpcGxpZXIgLyBkb25hdGlvbk11bHRpcGxpZXIgPD0gZXRoYXJ0UmV2ZW51ZVJld2FyZAoJCQoJCS8vIFJlZmVycmVycyByZWNlaXZlIDEwJSBvZiBldGhhcnRSZXZlbnVlUmV3YXJkCgkJcmVmZXJyZXJSZXdhcmQgPSAxMDAwOwoJfQoKCWZ1bmN0aW9uIHNldFBhdHJvblJld2FyZCAodWludDI1NiBfZG9uYXRpb25NdWx0aXBsaWVyKSBvbmx5QnkgKG93bmVyKQoJCXsKCQkJZG9uYXRpb25NdWx0aXBsaWVyID0gX2RvbmF0aW9uTXVsdGlwbGllcjsKCQkJcGF0cm9uUmV3YXJkTXVsdGlwbGllciA9IGV0aGFydFJldmVudWVSZXdhcmQgKiBfZG9uYXRpb25NdWx0aXBsaWVyOwoJCQlpZiAocGF0cm9uUmV3YXJkTXVsdGlwbGllciAvIGRvbmF0aW9uTXVsdGlwbGllciA+IGV0aGFydFJldmVudWVSZXdhcmQpIHt0aHJvdzt9CgkJfQoKCWZ1bmN0aW9uIHNldEV0aGFydFJldmVudWVSZXdhcmQgKHVpbnQyNTYgX2V0aGFydFJldmVudWVSZXdhcmQpIG9ubHlCeSAob3duZXIpCgkJewoJCQl1aW50MjU2IGE7CgkJCS8vIEV0aGFydCByZXZlbnVlIHJld2FyZCBjYW4gbmV2ZXIgYmUgZ3JlYXRlciB0aGFuIDEwJQoJCQlpZiAoX2V0aGFydFJldmVudWVSZXdhcmQgPjEwMDApIHt0aHJvdzt9CgkJCWEgPSAxMDAwMCAvIF9ldGhhcnRSZXZlbnVlUmV3YXJkOwoJCQkvLyBTaG91bGQgMTAwMDAgLyBfZXRoYXJ0UmV2ZW51ZVJld2FyZCBub3QgYmUgZXZlbiB0aHJvdwoJCQlpZiAoYSAqIF9ldGhhcnRSZXZlbnVlUmV3YXJkIDwgMTAwMDApIHt0aHJvdzt9CgkJCWV0aGFydFJldmVudWVSZXdhcmQgPSBfZXRoYXJ0UmV2ZW51ZVJld2FyZDsKCQl9CgkKCWZ1bmN0aW9uIGdldEV0aGFydFJldmVudWVSZXdhcmQgKCkgcmV0dXJucyAodWludDI1NiBfZXRoYXJ0UmV2ZW51ZVJld2FyZCkKCQl7CgkJCXJldHVybiBldGhhcnRSZXZlbnVlUmV3YXJkOwoJCX0KCglmdW5jdGlvbiBzZXRFdGhhcnRBcnRSZXdhcmQgKHVpbnQyNTYgX2V0aGFydEFydFJld2FyZCkgb25seUJ5IChvd25lcikKCQl7CgkJCXVpbnQyNTYgYTsKCQkJLy8gRXRoYXJ0IGFydCByZXdhcmQgY2FuIG5ldmVyIGJlIGdyZWF0ZXIgdGhhbiAxMCUKCQkJaWYgKF9ldGhhcnRBcnRSZXdhcmQgPjEwMDApIHt0aHJvdzt9CgkJCWEgPSAxMDAwMCAvIF9ldGhhcnRBcnRSZXdhcmQ7CgkJCS8vIFNob3VsZCAxMDAwMCAvIF9ldGhhcnRBcnRSZXdhcmQgbm90IGJlIGV2ZW4gdGhyb3cKCQkJaWYgKGEgKiBfZXRoYXJ0QXJ0UmV3YXJkIDwgMTAwMDApIHt0aHJvdzt9CgkJCWV0aGFydEFydFJld2FyZCA9IF9ldGhhcnRBcnRSZXdhcmQ7CgkJfQoKCWZ1bmN0aW9uIGdldEV0aGFydEFydFJld2FyZCAoKSByZXR1cm5zICh1aW50MjU2IF9ldGhhcnRBcnRSZXdhcmQpCgkJewoJCQlyZXR1cm4gZXRoYXJ0QXJ0UmV3YXJkOwoJCX0KCgkvLyBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gYXNzaWduIGEgbmV3IG93bmVyCglmdW5jdGlvbiBjaGFuZ2VPd25lciAoYWRkcmVzcyBuZXdPd25lcikgb25seUJ5IChvd25lcikgCgkJewoJCQlvd25lciA9IG5ld093bmVyOwoJCX0KCgkvLyBBbGxvd3MgYXBwcm92ZWQgY29udHJhY3RzIHRvIGlzc3VlIFBhdHJvbiB0b2tlbnMKCWZ1bmN0aW9uIGlzc3VlUGF0cm9ucyAoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgYXBwcm92ZWRDb250cmFjdHNPbmx5CgkJewoJCQliYWxhbmNlc1tfdG9dICs9IF9hbW91bnQgLyAxMDAwMCAqIHBhdHJvblJld2FyZE11bHRpcGxpZXI7CgkJCV90b3RhbFBhdHJvblN1cHBseSArPSBfYW1vdW50IC8gMTAwMDAgKiBwYXRyb25SZXdhcmRNdWx0aXBsaWVyOwoJCX0KCgkvLyBDaGFuZ2UgdGhlIGFtb3VudCBvZiBQYXRyb24gdG9rZW5zIGEgZG9ub3IgcmVjZWl2ZXMKCWZ1bmN0aW9uIHNldERvbmF0aW9uUmV3YXJkICh1aW50MjU2IF9tdWx0aXBsaWVyKSBvbmx5QnkgKG93bmVyKQoJCXsKCQkJZG9uYXRpb25NdWx0aXBsaWVyID0gX211bHRpcGxpZXI7CgkJfQoKCS8vIFJlY2VpdmUgUGF0cm9uIHRva2VucyBpbiByZXR1cm5zIGZvciBkb25hdGlvbnMKCS8vIE5vdCBnb2luZyB0byB3b3JyeSBhYm91dCBhIHRoZW9yZXRpY2FsIEludGVnZXIgb3ZlcmZsb3cgaGVyZS4KCWZ1bmN0aW9uIGRvbmF0ZSAoKSBwYXlhYmxlCgkJewoJCQliYWxhbmNlc1ttc2cuc2VuZGVyXSArPSBtc2cudmFsdWUgKiBkb25hdGlvbk11bHRpcGxpZXI7CgkJCV90b3RhbFBhdHJvblN1cHBseSArPSBtc2cudmFsdWUgKiBkb25hdGlvbk11bHRpcGxpZXI7CgkJCWFzeW5jU2VuZCh0aGlzLCBtc2cudmFsdWUpOwoJCX0KCglmdW5jdGlvbiByZWdpc3RlckFydHdvcmsgKGFkZHJlc3MgX2NvbnRyYWN0LCBieXRlczMyIF9TSEEyNTZIYXNoLCB1aW50MjU2IF9lZGl0aW9uU2l6ZSwgc3RyaW5nIF90aXRsZSwgc3RyaW5nIF9maWxlTGluaywgdWludDI1NiBfb3duZXJDb21taXNzaW9uLCBhZGRyZXNzIF9hcnRpc3QsIGJvb2wgX2luZGV4ZWQsIGJvb2wgX291cm9ib3JvcykgcmVnaXN0ZXJlZEZhY3Rvcmllc09ubHkKCQl7CgkJaWYgKFNIQTI1Nkhhc2hSZWdpc3RlcltfU0hBMjU2SGFzaF0gPT0gMHgwKSB7CgkJICAgCVNIQTI1Nkhhc2hSZWdpc3RlcltfU0hBMjU2SGFzaF0gPSBfY29udHJhY3Q7CgkJCWFwcHJvdmVkQ29udHJhY3RzW19jb250cmFjdF0gPSB0cnVlOwoJCQljYW50U2V0UmVmZXJyZXJbX2FydGlzdF0gPSB0cnVlOwoJCQlhcnR3b3JrUmVnaXN0ZXJbX2NvbnRyYWN0XS5TSEEyNTZIYXNoID0gX1NIQTI1Nkhhc2g7CgkJCWFydHdvcmtSZWdpc3RlcltfY29udHJhY3RdLmVkaXRpb25TaXplID0gX2VkaXRpb25TaXplOwoJCQlhcnR3b3JrUmVnaXN0ZXJbX2NvbnRyYWN0XS50aXRsZSA9IF90aXRsZTsKCQkJYXJ0d29ya1JlZ2lzdGVyW19jb250cmFjdF0uZmlsZUxpbmsgPSBfZmlsZUxpbms7CgkJCWFydHdvcmtSZWdpc3RlcltfY29udHJhY3RdLm93bmVyQ29tbWlzc2lvbiA9IF9vd25lckNvbW1pc3Npb247CgkJCWFydHdvcmtSZWdpc3RlcltfY29udHJhY3RdLmFydGlzdCA9IF9hcnRpc3Q7CgkJCWFydHdvcmtSZWdpc3RlcltfY29udHJhY3RdLmZhY3RvcnkgPSBtc2cuc2VuZGVyOwoJCQlhcnR3b3JrUmVnaXN0ZXJbX2NvbnRyYWN0XS5pc0luZGV4ZWQgPSBfaW5kZXhlZDsKCQkJYXJ0d29ya1JlZ2lzdGVyW19jb250cmFjdF0uaXNPdXJvYm9yb3MgPSBfb3Vyb2Jvcm9zOwoJCQlhcnR3b3JrSW5kZXhbYXJ0d29ya0NvdW50XSA9IF9jb250cmFjdDsKCQkJYXJ0aXN0c0FydHdvcmtzW19hcnRpc3RdW2FydGlzdHNBcnR3b3JrQ291bnRbX2FydGlzdF1dID0gX2NvbnRyYWN0OwoJCQlhcnRpc3RzQXJ0d29ya0NvdW50W19hcnRpc3RdKys7CgkJCU5ld0FydHdvcmsgKF9jb250cmFjdCwgX1NIQTI1Nkhhc2gsIF9lZGl0aW9uU2l6ZSwgX3RpdGxlLCBfZmlsZUxpbmssIF9vd25lckNvbW1pc3Npb24sIF9hcnRpc3QsIF9pbmRleGVkLCBfb3Vyb2Jvcm9zKTsKCQkJYXJ0d29ya0NvdW50Kys7CgkJCX0KCQkJZWxzZSB7dGhyb3c7fQoJCX0KCgkvLyBDaGVjayBpZiBhIHNwZWNpZmljIHNoYTI1NiBoYXNoIGhhcyBiZWVuIHVzZWQgYnkgYW5vdGhlciBhcnR3b3JrIGJlZm9yZQoJZnVuY3Rpb24gaXNTSEEyNTZIYXNoUmVnaXN0ZXJlZCAoYnl0ZXMzMiBfU0hBMjU2SGFzaCkgcmV0dXJucyAoYm9vbCBfcmVnaXN0ZXJlZCkKCQl7CgkJaWYgKFNIQTI1Nkhhc2hSZWdpc3RlcltfU0hBMjU2SGFzaF0gPT0gMHgwKQoJCQl7cmV0dXJuIGZhbHNlO30KCQllbHNlIHtyZXR1cm4gdHJ1ZTt9CgkJfQoKCS8vIEFwcHJvdmUgZmFjdG9yeSBjb250cmFjdHMKCWZ1bmN0aW9uIGFwcHJvdmVGYWN0b3J5Q29udHJhY3QgKGFkZHJlc3MgX2ZhY3RvcnlDb250cmFjdEFkZHJlc3MsIGJvb2wgX2FwcHJvdmVkKSBvbmx5QnkgKG93bmVyKQoJCXsKCQkJYXBwcm92ZWRGYWN0b3JpZXNbX2ZhY3RvcnlDb250cmFjdEFkZHJlc3NdID0gX2FwcHJvdmVkOwoJCX0KCQoJLy8gT3BlbiBaZXBwZWxpbiBhc3luY1NlbmQgZnVuY3Rpb24gZm9yIHB1bGwgcGF5bWVudHMKCWZ1bmN0aW9uIGFzeW5jU2VuZCAoYWRkcmVzcyBfcGF5ZWUsIHVpbnQyNTYgX2Ftb3VudCkgYXBwcm92ZWRDb250cmFjdHNPbmx5CgkJewoJCQlwZW5kaW5nV2l0aGRyYXdhbHNbX3BheWVlXSA9IGFkZChwZW5kaW5nV2l0aGRyYXdhbHNbX3BheWVlXSwgX2Ftb3VudCk7CgkJCXRvdGFsUGVuZGluZ1dpdGhkcmF3YWxzID0gYWRkKHRvdGFsUGVuZGluZ1dpdGhkcmF3YWxzLCBfYW1vdW50KTsKCQl9CgoJZnVuY3Rpb24gd2l0aGRyYXdQYXltZW50c1JlZ2lzdHJhciAoYWRkcmVzcyBfZGVzdCwgdWludDI1NiBfcGF5bWVudCkgb25seUJ5IChvd25lcikKCQl7CgkJCWlmIChfcGF5bWVudCA9PSAwKSB7CgkJCQl0aHJvdzsKCQkJfQoKCQkJaWYgKHRoaXMuYmFsYW5jZSA8IF9wYXltZW50KSB7CgkJCQl0aHJvdzsKCQkJfQoJCQkKCQkJdG90YWxQZW5kaW5nV2l0aGRyYXdhbHMgPSBzdWIodG90YWxQZW5kaW5nV2l0aGRyYXdhbHMsIF9wYXltZW50KTsKCQkJcGVuZGluZ1dpdGhkcmF3YWxzW3RoaXNdID0gc3ViKHBlbmRpbmdXaXRoZHJhd2Fsc1t0aGlzXSwgX3BheW1lbnQpOwoKCQkJaWYgKCFfZGVzdC5zZW5kKF9wYXltZW50KSkgewoJCQkJdGhyb3c7CgkJCX0KCQl9CgoJZnVuY3Rpb24gd2l0aGRyYXdQYXltZW50cygpIHsKCQlhZGRyZXNzIHBheWVlID0gbXNnLnNlbmRlcjsKCQl1aW50MjU2IHBheW1lbnQgPSBwZW5kaW5nV2l0aGRyYXdhbHNbcGF5ZWVdOwoKCQlpZiAocGF5bWVudCA9PSAwKSB7CgkJCXRocm93OwoJCX0KCgkJaWYgKHRoaXMuYmFsYW5jZSA8IHBheW1lbnQpIHsKCQkJdGhyb3c7CgkJfQoKCQl0b3RhbFBlbmRpbmdXaXRoZHJhd2FscyA9IHN1Yih0b3RhbFBlbmRpbmdXaXRoZHJhd2FscywgcGF5bWVudCk7CgkJcGVuZGluZ1dpdGhkcmF3YWxzW3BheWVlXSA9IDA7CgoJCWlmICghcGF5ZWUuc2VuZChwYXltZW50KSkgewoJCQl0aHJvdzsKCQl9Cgl9CgoJZnVuY3Rpb24gdHJhbnNmZXJCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0LCB1aW50MjU2IF9hbW91bnQsIGFkZHJlc3MgX3RvKSBvbmx5QnkgKG93bmVyKSAKCQl7CgkJCUludGVyZmFjZSBjID0gSW50ZXJmYWNlKF9jb250cmFjdCk7CgkJCWMudHJhbnNmZXIoX3RvLCBfYW1vdW50KTsKCQl9CgoJZnVuY3Rpb24gdHJhbnNmZXJJbmRleGVkQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCwgdWludDI1NiBfaW5kZXgsIGFkZHJlc3MgX3RvKSBvbmx5QnkgKG93bmVyKQoJCXsKCQkJSW50ZXJmYWNlIGMgPSBJbnRlcmZhY2UoX2NvbnRyYWN0KTsKCQkJYy50cmFuc2ZlckluZGV4ZWQoX3RvLCBfaW5kZXgpOwoJCX0KCglmdW5jdGlvbiBhcHByb3ZlQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCwgYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50KSBvbmx5QnkgKG93bmVyKQoJCXsKCQkJSW50ZXJmYWNlIGMgPSBJbnRlcmZhY2UoX2NvbnRyYWN0KTsKCQkJYy5hcHByb3ZlKF9zcGVuZGVyLCBfYW1vdW50KTsKCQl9CQoKCWZ1bmN0aW9uIGFwcHJvdmVJbmRleGVkQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCwgYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfaW5kZXgpIG9ubHlCeSAob3duZXIpCgkJewoJCQlJbnRlcmZhY2UgYyA9IEludGVyZmFjZShfY29udHJhY3QpOwoJCQljLmFwcHJvdmVJbmRleGVkKF9zcGVuZGVyLCBfaW5kZXgpOwoJCX0KCglmdW5jdGlvbiBidXJuQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCwgdWludDI1NiBfYW1vdW50KSBvbmx5QnkgKG93bmVyKQoJCXsKCQkJSW50ZXJmYWNlIGMgPSBJbnRlcmZhY2UoX2NvbnRyYWN0KTsKCQkJYy5idXJuKF9hbW91bnQpOwoJCX0KCglmdW5jdGlvbiBidXJuRnJvbUJ5QWRkcmVzcyAoYWRkcmVzcyBfY29udHJhY3QsIHVpbnQyNTYgX2Ftb3VudCwgYWRkcmVzcyBfZnJvbSkgb25seUJ5IChvd25lcikKCQl7CgkJCUludGVyZmFjZSBjID0gSW50ZXJmYWNlKF9jb250cmFjdCk7CgkJCWMuYnVybkZyb20gKF9mcm9tLCBfYW1vdW50KTsKCQl9CgoJZnVuY3Rpb24gYnVybkluZGV4ZWRCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0LCB1aW50MjU2IF9pbmRleCkgb25seUJ5IChvd25lcikKCQl7CgkJCUludGVyZmFjZSBjID0gSW50ZXJmYWNlKF9jb250cmFjdCk7CgkJCWMuYnVybkluZGV4ZWQoX2luZGV4KTsKCQl9CgoJZnVuY3Rpb24gYnVybkluZGV4ZWRGcm9tQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCwgYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfaW5kZXgpIG9ubHlCeSAob3duZXIpCgkJewoJCQlJbnRlcmZhY2UgYyA9IEludGVyZmFjZShfY29udHJhY3QpOwoJCQljLmJ1cm5JbmRleGVkRnJvbShfZnJvbSwgX2luZGV4KTsKCQl9CgoJZnVuY3Rpb24gb2ZmZXJQaWVjZUZvclNhbGVCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0LCB1aW50MjU2IF9wcmljZSkgb25seUJ5IChvd25lcikKCQl7CgkJCUludGVyZmFjZSBjID0gSW50ZXJmYWNlKF9jb250cmFjdCk7CgkJCWMub2ZmZXJQaWVjZUZvclNhbGUoX3ByaWNlKTsKCQl9CgoJLy8gRmlsbCBhIGJpZCB3aXRoIGFuIHVuaW5kZXhlZCBwaWVjZSBvd25lZCBieSB0aGUgcmVnaXN0cmFyCglmdW5jdGlvbiBmaWxsQmlkQnlBZGRyZXNzIChhZGRyZXNzIF9jb250cmFjdCkgb25seUJ5IChvd25lcikKCQl7CgkJCUludGVyZmFjZSBjID0gSW50ZXJmYWNlKF9jb250cmFjdCk7CgkJCWMuZmlsbEJpZCgpOwoJCX0KCgkvLyBDYW5jZWwgdGhlIHNhbGUgb2YgYW4gdW5pbmRleGVkIHBpZWNlIG93bmVkIGJ5IHRoZSByZWdpc3RyYXIKCWZ1bmN0aW9uIGNhbmNlbFNhbGVCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0KSBvbmx5QnkgKG93bmVyKQkKCQl7CgkJCUludGVyZmFjZSBjID0gSW50ZXJmYWNlKF9jb250cmFjdCk7CgkJCWMuY2FuY2VsU2FsZSgpOwoJCX0KCgkvLyBTZWxsIGFuIGluZGV4ZWQgcGllY2Ugb3duZWQgYnkgdGhlIHJlZ2lzdHJhci4KCWZ1bmN0aW9uIG9mZmVySW5kZXhlZFBpZWNlRm9yU2FsZUJ5QWRkcmVzcyAoYWRkcmVzcyBfY29udHJhY3QsIHVpbnQyNTYgX2luZGV4LCB1aW50MjU2IF9wcmljZSkgb25seUJ5IChvd25lcikKCQl7CgkJCUludGVyZmFjZSBjID0gSW50ZXJmYWNlKF9jb250cmFjdCk7CgkJCWMub2ZmZXJJbmRleGVkUGllY2VGb3JTYWxlKF9pbmRleCwgX3ByaWNlKTsKCQl9CgoJLy8gRmlsbCBhIGJpZCB3aXRoIGFuIGluZGV4ZWQgcGllY2Ugb3duZWQgYnkgdGhlIHJlZ2lzdHJhcgoJZnVuY3Rpb24gZmlsbEluZGV4ZWRCaWRCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0LCB1aW50MjU2IF9pbmRleCkgb25seUJ5IChvd25lcikJCgkJewoJCQlJbnRlcmZhY2UgYyA9IEludGVyZmFjZShfY29udHJhY3QpOwoJCQljLmZpbGxJbmRleGVkQmlkKF9pbmRleCk7CgkJfQoKCS8vIENhbmNlbCB0aGUgc2FsZSBvZiBhbiB1bmluZGV4ZWQgcGllY2Ugb3duZWQgYnkgdGhlIHJlZ2lzdHJhcgoJZnVuY3Rpb24gY2FuY2VsSW5kZXhlZFNhbGVCeUFkZHJlc3MgKGFkZHJlc3MgX2NvbnRyYWN0KSBvbmx5QnkgKG93bmVyKQoJCXsKCQkJSW50ZXJmYWNlIGMgPSBJbnRlcmZhY2UoX2NvbnRyYWN0KTsKCQkJYy5jYW5jZWxJbmRleGVkU2FsZSgpOwoJCX0KCQoJLy8gdXNlIGRvbmF0ZSAoKSBmb3IgZG9uYXRpb25zIGFuZCB5b3Ugd2lsbCBnZXQgZG9uYXRpb25NdWx0aXBsaWVyICogeW91ciBkb25hdGlvbiBpbiBQYXRyb24gdG9rZW5zLiBZYXkhCglmdW5jdGlvbigpIHBheWFibGUKCQl7CgkJCWlmICghYXBwcm92ZWRDb250cmFjdHNbbXNnLnNlbmRlcl0pIHt0aHJvdzt9CgkJfQp9'.
	

]
