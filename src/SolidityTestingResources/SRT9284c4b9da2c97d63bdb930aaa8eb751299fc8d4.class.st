Class {
	#name : #SRT9284c4b9da2c97d63bdb930aaa8eb751299fc8d4,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9284c4b9da2c97d63bdb930aaa8eb751299fc8d4 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBFaWdodFN0YWtlcyB7CglzdHJ1Y3QgUGxheWVyIHsKCQl1aW50IGR0OwoJCWFkZHJlc3Mgb0FkZHJlc3M7CgkJaW50IG5TcGVudDsKCQlpbnRbXSBhUmVzdWx0czsKCQltYXBwaW5nICh1aW50ID0+IHVpbnQpIG1HYXNCeVJvb207Cgl9CglzdHJ1Y3QgUm9vbSB7CgkJYWRkcmVzc1tdIGFQbGF5ZXJzOwoJCXVpbnRbXSBhTG9zZXJzOwoJCXVpbnQgbkJpZDsKCQl1aW50IG5TdGFydDsKCQl1aW50IG5MYXN0UGxheWVyc0Jsb2NrTnVtYmVyOwoJfQogICAgYWRkcmVzcyBwcml2YXRlIF9vU2Vzb2thajsKCQoJbWFwcGluZyAoYWRkcmVzcyA9PiBQbGF5ZXIpIHByaXZhdGUgX21QbGF5ZXJzOwoJbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50OCkgcHJpdmF0ZSBfbVBsYXllclJvb21zOwoJYWRkcmVzc1tdIHByaXZhdGUgX2FQbGF5ZXJzQmluZHM7CglhZGRyZXNzW10gcHJpdmF0ZSBfYUxvc2VyczsKCgl1aW50IHByaXZhdGUgX25Sb29tTmV4dElEOwoJbWFwcGluZyAodWludCA9PiBSb29tKSBwcml2YXRlIF9tUm9vbXM7Cgl1aW50W10gcHJpdmF0ZSBfYVJvb21zT3BlbmVkOwoJdWludFtdIHByaXZhdGUgX2FSb29tc0Nsb3NlZDsKCgl1aW50IHByaXZhdGUgX25NYXhBcmNoaXZlTGVuZ3RoOwoJCgl1aW50IHByaXZhdGUgX25SZWZ1bmRDdXJyZW50OwoJdWludCBwcml2YXRlIF9uUmVmdW5kTGltaXQ7Cgl1aW50IHByaXZhdGUgX25SZWZ1bmRJbmNyZWFzZTsKCWFkZHJlc3MgcHJpdmF0ZSBfb1JlZnVuZFJlY2lwaWVudDsKCQoJdWludCBwcml2YXRlIF9uSmFja3BvdDsKCXVpbnQgcHJpdmF0ZSBfbkphY2twb3RMYXN0OwoJdWludCBwcml2YXRlIF9uSmFja3BvdERpYXBhc29uOwoJYWRkcmVzcyBwcml2YXRlIF9vSmFja3BvdFJlY2lwaWVudDsKCglmdW5jdGlvbiBFaWdodFN0YWtlcygpIHB1YmxpYyB7CgkgICAgX29TZXNva2FqID0gbXNnLnNlbmRlcjsKCQlfbk1heEFyY2hpdmVMZW5ndGggPSAzMDA7ICAgCgkJX25KYWNrcG90RGlhcGFzb24gPSB1aW50KC0xKS8oMy41ICogMTAwMDAwKTsgCgkJX25SZWZ1bmRMaW1pdCA9IDgwMDAwMDAwMDAwMDAwMDAwMDA7ICAvLyA4ZXRoCgkJX25SZWZ1bmRJbmNyZWFzZSA9IDgwMDAwMDAwMDAwMDAwMDAwMDA7ICAvLyA4ZXRoCgkJX2FMb3NlcnMubGVuZ3RoID0gMTA7Cgl9CgoJLy8gUFVCTElDCglmdW5jdGlvbiBCaWQodWludDggblJvb21TaXplKSBwdWJsaWMgcGF5YWJsZSByZXR1cm5zKGJvb2wpIHsKCQl1aW50OCBuUm9vbVR5cGU7IC8vcm9vbSB0eXBlIGFzIGEgYml0LWZsYWcgdmFsdWU7IHNpemUvYmlkOiAwIGZvciB1bnVzZWQgcGFpcjsgMSBmb3IgNC8wLjA4LCAyIGZvciA0LzAuOCwgNCBhbmQgOCByZXNlcnZlZCwgMTYgZm9yIDgvMC4wOCwgMzIgZm9yIDgvMC44LCA2NCBmb3IgOC84LCAxMjggcmVzZXJ2ZWQKCQlpbnQgblJvb21UeXBlSW5keDsgLy9pbmRleCBmcm9tIHplcm8gdG8gZm91cjsgc2l6ZS9iaWQ6IC0xIGZvciB1bnVzZWQgcGFpcjsgMCBmb3IgNC8wLjA4LCAxIGZvciA0LzAuOCwgMiBmb3IgOC8wLjA4LCAzIGZvciA4LzAuOCwgNCBmb3IgOC84CgkJKG5Sb29tVHlwZSwgblJvb21UeXBlSW5keCkgPSByb29tVHlwZUdldChtc2cudmFsdWUsIG5Sb29tU2l6ZSk7CgkJaWYgKDEgPiBuUm9vbVR5cGUpCgkJCXJldmVydCgpOwoJCQoJCVByb2Nlc3NSb29tcygpOwoJCS8vY2hlY2sgZm9yIHJlYmlkCgkJaWYgKDAgIT0gX21QbGF5ZXJSb29tc1ttc2cuc2VuZGVyXSAmIG5Sb29tVHlwZSkKCQkJcmV2ZXJ0KCk7CgkJX21QbGF5ZXJSb29tc1ttc2cuc2VuZGVyXSB8PSBuUm9vbVR5cGU7CgkJdWludCBuUm9vbSA9IHJvb21HZXQobXNnLnZhbHVlLCBuUm9vbVNpemUpOwoJCVJvb20gbWVtb3J5IG9Sb29tID0gX21Sb29tc1tuUm9vbV07CgkJdWludCBuUGxheWVyID0gMDsKCQlmb3IgKDsgb1Jvb20uYVBsYXllcnMubGVuZ3RoID4gblBsYXllcjsgblBsYXllcisrKSB7CgkJICAgIGlmICgxID4gb1Jvb20uYVBsYXllcnNbblBsYXllcl0pCgkJCQlicmVhazsKCQkgICAgaWYgKG9Sb29tLmFQbGF5ZXJzW25QbGF5ZXJdID09IG1zZy5zZW5kZXIpICAKCQkJCXJldmVydCgpOwoJCX0KCQl1aW50IG5HYXMgPSBtc2cuZ2FzKjgwMDAwMDAwMDsKCQlpZiAoMCA8IF9tUGxheWVyc1ttc2cuc2VuZGVyXS5vQWRkcmVzcykgewoJCSAgICBfbVBsYXllcnNbbXNnLnNlbmRlcl0uZHQgPSBub3c7CgkJCV9tUGxheWVyc1ttc2cuc2VuZGVyXS5uU3BlbnQgKz0gaW50KG5HYXMpOwoJCQlfbVBsYXllcnNbbXNnLnNlbmRlcl0uYVJlc3VsdHNbdWludChuUm9vbVR5cGVJbmR4KV0gPSAwOwoJCX0gZWxzZSB7CgkJCV9tUGxheWVyc1ttc2cuc2VuZGVyXSA9IFBsYXllcihub3csIG1zZy5zZW5kZXIsIGludChuR2FzKSwgbmV3IGludFtdKDUpKTsKCQkJX2FQbGF5ZXJzQmluZHMucHVzaChtc2cuc2VuZGVyKTsKCQl9CgkJX21QbGF5ZXJzW21zZy5zZW5kZXJdLm1HYXNCeVJvb21bblJvb21dID0gbkdhczsKCQlvUm9vbS5hUGxheWVyc1tuUGxheWVyXSA9IG1zZy5zZW5kZXI7CgkJaWYgKG5QbGF5ZXIgKyAxID09IG9Sb29tLmFQbGF5ZXJzLmxlbmd0aCkgewoJCQlvUm9vbS5uU3RhcnQgPSBub3c7CgkJCW9Sb29tLm5MYXN0UGxheWVyc0Jsb2NrTnVtYmVyID0gYmxvY2subnVtYmVyOwoJCX0KCQlfbVJvb21zW25Sb29tXSA9IG9Sb29tOwoJCXJldHVybiB0cnVlOwoJfQoJZnVuY3Rpb24gSXNDaGVja05lZWRlZCh1aW50IG5Ob3dEYXRlLCB1aW50IG5NYXhJbnRlcnZhbCkgcHVibGljIGNvbnN0YW50IHJldHVybnMoYm9vbCkgewoJCWZvciAodWludCBuPTA7IG48X2FSb29tc09wZW5lZC5sZW5ndGg7IG4rKykgewoJCQlpZiAoMCA8IF9tUm9vbXNbX2FSb29tc09wZW5lZFtuXV0ubkxhc3RQbGF5ZXJzQmxvY2tOdW1iZXIgJiYgCgkJCQkJX21Sb29tc1tfYVJvb21zT3BlbmVkW25dXS5uU3RhcnQgKyBuTWF4SW50ZXJ2YWwgPCBuTm93RGF0ZSAmJiAKCQkJCQkwIDwgdWludChibG9jay5ibG9ja2hhc2goX21Sb29tc1tfYVJvb21zT3BlbmVkW25dXS5uTGFzdFBsYXllcnNCbG9ja051bWJlcikpICkgeyAKCQkJCXJldHVybiB0cnVlOwoJCQl9CgkJfQoJCXJldHVybiBmYWxzZTsKCX0KCWZ1bmN0aW9uIFByb2Nlc3NSb29tcygpIHB1YmxpYyB7CgkJdWludFtdIG1lbW9yeSBhID0gbmV3IHVpbnRbXShfYVJvb21zT3BlbmVkLmxlbmd0aCk7CgkJdWludCBuID0gMDsKCQl1aW50IG5DdXJyZW50ID0gMDsKCQl1aW50IG5Sb29tOwoJCVJvb20gbWVtb3J5IG9Sb29tOwoJCWZvciAoOyBfYVJvb21zT3BlbmVkLmxlbmd0aCA+IG47IG4rKykgewoJCSAgICBvUm9vbSA9IF9tUm9vbXNbblJvb20gPSBfYVJvb21zT3BlbmVkW25dXTsKCQkJaWYgKDAgPCBvUm9vbS5uTGFzdFBsYXllcnNCbG9ja051bWJlciAmJiAwIDwgdWludChibG9jay5ibG9ja2hhc2gob1Jvb20ubkxhc3RQbGF5ZXJzQmxvY2tOdW1iZXIpKSkgewoJCQkJcmVzdWx0KG5Sb29tKTsKCQkJCWFbbkN1cnJlbnQrK10gPSBuOwoJCQl9CgkJfQoJCWZvciAobiA9IDA7IG5DdXJyZW50ID4gbjsgbisrKQoJCQlyb29tQ2xvc2UoYVtuXSk7CgkJZGVsZXRlIGE7Cgl9CglmdW5jdGlvbiBMYXN0UmVzdWx0KGFkZHJlc3Mgb1BsYXllciwgdWludDggblNpemUsIHVpbnQgbkJpZCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wsIGludCkgewoJCXVpbnQgblBsYXllciA9IHVpbnQoLTEpOwoJCXVpbnQgbkRhdGUgPSAwOwoJCXVpbnQgblJvb20gPSAwOwoJCXVpbnQgblJvb21DdXJyZW50OwoJCVJvb20gbWVtb3J5IG9Sb29tOwoJCWZvciAodWludCBuPTA7IF9hUm9vbXNDbG9zZWQubGVuZ3RoID4gbjsgbisrKSB7CgkJICAgIG9Sb29tID0gX21Sb29tc1tuUm9vbUN1cnJlbnQgPSBfYVJvb21zQ2xvc2VkW25dXTsKCQkJaWYgKG9Sb29tLmFQbGF5ZXJzLmxlbmd0aCAhPSBuU2l6ZSB8fCBvUm9vbS5uQmlkICE9IG5CaWQgfHwgdWludCgtMSkgPT0gKG5QbGF5ZXIgPSBwbGF5ZXJHZXQob1Jvb20sIG9QbGF5ZXIpKSkKCQkJCWNvbnRpbnVlOwoJCQlpZiAob1Jvb20ublN0YXJ0ID4gbkRhdGUpIHsKCQkJCW5EYXRlID0gb1Jvb20ublN0YXJ0OwoJCQkJblJvb20gPSBuUm9vbUN1cnJlbnQ7CgkJCX0KCQl9CgkJaWYgKDAgPCBuRGF0ZSkgewoJCSAgICBvUm9vbSA9IF9tUm9vbXNbblJvb21dOwoJCSAgICBmb3IgKG49MDsgb1Jvb20uYUxvc2Vycy5sZW5ndGggPiBuOyBuKyspIHsKCQkgICAgICAgIGlmIChvUGxheWVyID09IG9Sb29tLmFQbGF5ZXJzW29Sb29tLmFMb3NlcnNbbl1dKQogICAgCQkJCXJldHVybihmYWxzZSwgaW50KC1vUm9vbS5uQmlkKSk7CgkJCX0KCQkJcmV0dXJuKHRydWUsIGludChwcml6ZUNhbGN1bGF0ZShvUm9vbSkpKTsKCQl9CgkJcmV0dXJuKGZhbHNlLCAwKTsKCX0KCS8vUGxlbnVtCgkvL3JldHVybnMgYSBudW1iZXIgb2YgcGxheWVycyBmb3IgYSByb29tIHNwZWNpZmllZCBieSBhIHNpemUgYW5kIGEgYmlkCglmdW5jdGlvbiBQbGVudW0odWludDggblNpemUsIHVpbnQgbkJpZCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4KSB7CgkJUm9vbSBtZW1vcnkgb1Jvb207CgkJdWludCBuTGVuZ3RoOwoJCWZvciAodWludCBuPTA7IF9hUm9vbXNPcGVuZWQubGVuZ3RoID4gbjsgbisrKSB7CgkJCW9Sb29tID0gX21Sb29tc1tfYVJvb21zT3BlbmVkW25dXTsKCQkJaWYgKG5CaWQgPT0gb1Jvb20ubkJpZCAmJiBuU2l6ZSA9PSAobkxlbmd0aCA9IG9Sb29tLmFQbGF5ZXJzLmxlbmd0aCkgJiYgMSA+IG9Sb29tLmFQbGF5ZXJzWy0tbkxlbmd0aF0pIHsKCQkJCWZvciAoOyAwIDw9IG5MZW5ndGg7IG5MZW5ndGgtLSkgewoJCQkJCWlmICgwIDwgb1Jvb20uYVBsYXllcnNbbkxlbmd0aF0pCgkJCQkJCXJldHVybiB1aW50OChuTGVuZ3RoICsgMSk7CgkJCQl9CgkJCX0KCQl9CgkJcmV0dXJuKDApOwoJfQoJZnVuY3Rpb24gU3RhdGUoYWRkcmVzc1tdIGFUYXJnZXRzKSBwdWJsaWMgdmlldyByZXR1cm5zKHVpbnRbNF0gYVBlcmtzLCBhZGRyZXNzWzJdIGFQZXJrc1JlY2lwaWVudHMsIGFkZHJlc3NbXSBhTG9zZXJzQWRkcmVzc2VzLCBpbnRbXSBhTG9zZXJzQmFsYW5jZXMsIGJvb2xbNV0gYVJvb21zLCBpbnRbNV0gYVJlc3VsdHMpIHsKCQlhTG9zZXJzQmFsYW5jZXMgPSBuZXcgaW50W10oX2FMb3NlcnMubGVuZ3RoKTsKCQl1aW50IG5MZW5ndGggPSBfYUxvc2Vycy5sZW5ndGg7CgkJdWludCBuID0gMDsKCQlmb3IgKDsgbkxlbmd0aCA+IG47IG4rKykKCQkJYUxvc2Vyc0JhbGFuY2VzW25dID0gX21QbGF5ZXJzW19hTG9zZXJzW25dXS5uU3BlbnQ7CgkJZm9yIChuID0gMDsgYVRhcmdldHMubGVuZ3RoID4gbjsgbisrKSB7CgkJCXVpbnQ4IG5WYWx1ZSA9IDE7CgkJCWZvciAodWludCBuSW5keCA9IDA7IGFSb29tcy5sZW5ndGggPiBuSW5keDsgbkluZHgrKykgewoJCQkJaWYgKDAgPCBfbVBsYXllclJvb21zW2FUYXJnZXRzW25dXSkgewoJCQkJCWFSb29tc1tuSW5keF0gPSBhUm9vbXNbbkluZHhdIHx8ICgwIDwgKF9tUGxheWVyUm9vbXNbYVRhcmdldHNbbl1dICYgblZhbHVlKSk7CgkJCQkJaWYgKDIgPT0gblZhbHVlKQoJCQkJCQluVmFsdWUgPDw9IDM7CgkJCQkJZWxzZQoJCQkJCQluVmFsdWUgPDw9IDE7CgkJCQl9CgkJCQlpZiAoMCA9PSBhUmVzdWx0c1tuSW5keF0gJiYgMCAhPSBfbVBsYXllcnNbYVRhcmdldHNbbl1dLm9BZGRyZXNzICYmIDAgIT0gX21QbGF5ZXJzW2FUYXJnZXRzW25dXS5hUmVzdWx0c1tuSW5keF0pCgkJCQkJYVJlc3VsdHNbbkluZHhdICs9IF9tUGxheWVyc1thVGFyZ2V0c1tuXV0uYVJlc3VsdHNbbkluZHhdOwoJCQl9CgkJfQoJCXJldHVybiAoW19uSmFja3BvdCwgX25KYWNrcG90TGFzdCwgX25SZWZ1bmRMaW1pdCwgX25SZWZ1bmRDdXJyZW50XSwgW19vSmFja3BvdFJlY2lwaWVudCwgX29SZWZ1bmRSZWNpcGllbnRdLCBfYUxvc2VycywgYUxvc2Vyc0JhbGFuY2VzLCBhUm9vbXMsIGFSZXN1bHRzKTsKCX0KICAgIGZ1bmN0aW9uIFJlbW92ZSgpIHB1YmxpYyB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgPT0gX29TZXNva2FqKQogICAgICAgICAgICBzZWxmZGVzdHJ1Y3QoX29TZXNva2FqKTsKICAgIH0KCgkvLyBQUklWQVRFCgkvL3Jvb21UeXBlR2V0CgkvL3JldHVybnMgdHdvIHZhbHVlczoKCS8vcm9vbSB0eXBlIGFzIGEgYml0LWZsYWcgdmFsdWU7IHNpemUvYmlkOiAwIGZvciB1bnVzZWQgcGFpcjsgMSBmb3IgNC8wLjA4LCAyIGZvciA0LzAuOCwgNCBhbmQgOCByZXNlcnZlZCwgMTYgZm9yIDgvMC4wOCwgMzIgZm9yIDgvMC44LCA2NCBmb3IgOC84LCAxMjggcmVzZXJ2ZWQKCS8vaW5kZXggZnJvbSB6ZXJvIHRvIGZvdXI7IHNpemUvYmlkOiAtMSBmb3IgdW51c2VkIHBhaXI7IDAgZm9yIDQvMC4wOCwgMSBmb3IgNC8wLjgsIDIgZm9yIDgvMC4wOCwgMyBmb3IgOC8wLjgsIDQgZm9yIDgvOAoJZnVuY3Rpb24gcm9vbVR5cGVHZXQodWludCBuQmlkLCB1aW50OCBuU2l6ZSkgcHJpdmF0ZSBwdXJlIHJldHVybnModWludDgsIGludCkgewoJCWlmICg4MDAwMDAwMDAwMDAwMDAwMCA9PSBuQmlkKSB7IC8vMC4wOGV0aAoJCQlpZiAoNCA9PSBuU2l6ZSkKCQkJCXJldHVybiAoMSwgMCk7CgkJCWlmICg4ID09IG5TaXplKQoJCQkJcmV0dXJuICgxNiwgMik7CgkJfQoJCWlmICg4MDAwMDAwMDAwMDAwMDAwMDAgPT0gbkJpZCkgeyAvLzAuOGV0aAoJCQlpZiAoNCA9PSBuU2l6ZSkKCQkJCXJldHVybiAoMiwgMSk7CgkJCWlmICg4ID09IG5TaXplKQoJCQkJcmV0dXJuICgzMiwgMyk7CgkJfQoJCWlmICg4MDAwMDAwMDAwMDAwMDAwMDAwID09IG5CaWQgJiYgOCA9PSBuU2l6ZSkgLy84ZXRoCgkJCQlyZXR1cm4gKDY0LCA0KTsKCQlyZXR1cm4gKDAsIC0xKTsKCX0KCWZ1bmN0aW9uIHJvb21DbG9zZSh1aW50IG5PcGVuZWQpIHByaXZhdGV7CgkgICAgdWludCBuOwoJCWlmIChfYVJvb21zQ2xvc2VkLmxlbmd0aCA+PSBfbk1heEFyY2hpdmVMZW5ndGgpIHsKICAgIAkJdWludCBuQ2xvc2VkID0gMDsKICAgIAkJdWludCBuUm9vbSA9IDA7CiAgICAJCXVpbnQgbkRhdGUgPSB1aW50KC0xKTsKICAgIAkJdWludCBuU3RhcnQ7CiAgICAJCWZvciAobj0wOyBfYVJvb21zQ2xvc2VkLmxlbmd0aCA+IG47IG4rKykgewogICAgCQkJaWYgKChuU3RhcnQgPSBfbVJvb21zW19hUm9vbXNDbG9zZWRbbl1dLm5TdGFydCkgPCBuRGF0ZSkgewogICAgCQkJCW5DbG9zZWQgPSBuOwogICAgCQkJCW5EYXRlID0gblN0YXJ0OwogICAgCQkJfQogICAgCQl9CiAgICAJCXVpbnQgbkxlbmd0aCA9IF9tUm9vbXNbblJvb20gPSBfYVJvb21zQ2xvc2VkW25DbG9zZWRdXS5hUGxheWVycy5sZW5ndGg7CgkJCWZvciAobj0wOyBuTGVuZ3RoID4gbjsgbisrKSB7CgkJCSAgICBkZWxldGUgX21QbGF5ZXJzW19tUm9vbXNbblJvb21dLmFQbGF5ZXJzW25dXS5tR2FzQnlSb29tW25Sb29tXTsKCQkJCWRlbGV0ZSBfbVJvb21zW25Sb29tXS5hUGxheWVyc1tuXTsKCQkJfQoJCQlkZWxldGUgX21Sb29tc1tuUm9vbV07CgkJCV9hUm9vbXNDbG9zZWRbbkNsb3NlZF0gPSBfYVJvb21zT3BlbmVkW25PcGVuZWRdOwoJCX0gZWxzZQoJCQlfYVJvb21zQ2xvc2VkLnB1c2goX2FSb29tc09wZW5lZFtuT3BlbmVkXSk7CgoJCWlmIChuT3BlbmVkIDwgKG4gPSBfYVJvb21zT3BlbmVkLmxlbmd0aCAtIDEpKQoJCQlfYVJvb21zT3BlbmVkW25PcGVuZWRdID0gX2FSb29tc09wZW5lZFtuXTsKCQlfYVJvb21zT3BlbmVkLmxlbmd0aC0tOwoJfQoJZnVuY3Rpb24gcm9vbUdldCh1aW50IG5CaWQsIHVpbnQ4IG5TaXplKSBwcml2YXRlIHJldHVybnModWludCBuUmV0VmFsKSB7CgkgICAgUm9vbSBtZW1vcnkgb1Jvb207CgkgICAgdWludCBuTGVuZ3RoOwoJCWZvciAodWludCBuPTA7IF9hUm9vbXNPcGVuZWQubGVuZ3RoID4gbjsgbisrKSB7CgkJICAgIG5SZXRWYWwgPSBfYVJvb21zT3BlbmVkW25dOwoJCSAgICBvUm9vbSA9IF9tUm9vbXNbblJldFZhbF07CgkJICAgIG5MZW5ndGggPSBvUm9vbS5hUGxheWVycy5sZW5ndGg7CgkJCWlmIChuQmlkID09IG9Sb29tLm5CaWQgJiYgblNpemUgPT0gbkxlbmd0aCAmJiAxID4gb1Jvb20uYVBsYXllcnNbbkxlbmd0aCAtIDFdKQoJCQkJcmV0dXJuOwoJCX0KCQlvUm9vbSA9IFJvb20obmV3IGFkZHJlc3NbXShuU2l6ZSksIG5ldyB1aW50W10oMCksIG5CaWQsIDAsIDApOwoJCV9tUm9vbXNbblJldFZhbCA9IF9uUm9vbU5leHRJRF0gPSBvUm9vbTsKCQlfYVJvb21zT3BlbmVkWysrX2FSb29tc09wZW5lZC5sZW5ndGggLSAxXSA9IF9uUm9vbU5leHRJRDsKCQlfblJvb21OZXh0SUQrKzsKCQlyZXR1cm47Cgl9CglmdW5jdGlvbiBwbGF5ZXJHZXQoUm9vbSBtZW1vcnkgb1Jvb20sIGFkZHJlc3Mgb1BsYXllcikgcHJpdmF0ZSBwdXJlIHJldHVybnModWludCkgewoJCWZvciAodWludDggbj0wOyBvUm9vbS5hUGxheWVycy5sZW5ndGggPiBuOyBuKyspIHsKCQkJaWYgKG9QbGF5ZXIgPT0gb1Jvb20uYVBsYXllcnNbbl0pCgkJCQlyZXR1cm4gbjsKCQl9CgkJcmV0dXJuIHVpbnQoLTEpOyAKCX0KCWZ1bmN0aW9uIHByaXplQ2FsY3VsYXRlKFJvb20gbWVtb3J5IG9Sb29tKSBwcml2YXRlIHB1cmUgcmV0dXJucyAodWludCkgewoJCXJldHVybiAob1Jvb20ubkJpZCAvIDQpOwoJfQoJZnVuY3Rpb24gcmVzdWx0KHVpbnQgblJvb20pIHByaXZhdGUgewoJICAgIFJvb20gbWVtb3J5IG9Sb29tID0gX21Sb29tc1tuUm9vbV07CgkgICAgaWYgKDAgPCBvUm9vbS5hTG9zZXJzLmxlbmd0aCkKCSAgICAgICAgcmV2ZXJ0KCk7CgkJdWludDggblNpemUgPSB1aW50OChvUm9vbS5hUGxheWVycy5sZW5ndGgpOwoJCWJ5dGVzMzJbXSBtZW1vcnkgYUhhc2hlczsKCQl1aW50OCBuSW5keDE7CgkJdWludDggbkluZHgyOwoKCQkoYUhhc2hlcywgbkluZHgxLCBuSW5keDIpID0gZ2FtZUNhbGN1bGF0ZShvUm9vbSk7CgoJICAgIG9Sb29tLmFMb3NlcnMgPSBuZXcgdWludFtdKG5TaXplLzQpOwoJCW9Sb29tLmFMb3NlcnNbMF0gPSBuSW5keDE7CgkJaWYgKDggPT0gblNpemUpCgkJCW9Sb29tLmFMb3NlcnNbMV0gPSBuSW5keDI7CgoJCXVpbnQgblZhbHVlID0gKG9Sb29tLm5CaWQgKiBvUm9vbS5hUGxheWVycy5sZW5ndGggLyA2NCk7CgkJX25KYWNrcG90ICs9IG5WYWx1ZTsKCQlfblJlZnVuZEN1cnJlbnQgKz0gblZhbHVlOwoKCQluVmFsdWUgPSBwcml6ZUNhbGN1bGF0ZShvUm9vbSk7CgkJdWludDggblJvb21UeXBlOwoJCWludCBuUm9vbVR5cGVJbmR4OwoJCWludCBuQW1vdW50OwoJCShuUm9vbVR5cGUsIG5Sb29tVHlwZUluZHgpID0gcm9vbVR5cGVHZXQob1Jvb20ubkJpZCwgblNpemUpOwoJCWZvciAodWludCBuPTA7IG5TaXplID4gbjsgbisrKSB7CgkJCWlmIChuSW5keDEgPT0gbiB8fCAoOCA9PSBuU2l6ZSAmJiBuSW5keDIgPT0gbikpCgkJCQluQW1vdW50ID0gLWludChvUm9vbS5uQmlkKTsKCQkJZWxzZSBpZiAoIV9tUGxheWVyc1tvUm9vbS5hUGxheWVyc1tuXV0ub0FkZHJlc3Muc2VuZCh1aW50KG5BbW91bnQgPSBpbnQob1Jvb20ubkJpZCArIG5WYWx1ZSArIF9tUGxheWVyc1tvUm9vbS5hUGxheWVyc1tuXV0ubUdhc0J5Um9vbVtuUm9vbV0pKSkpCgkJCQluQW1vdW50ID0gMDsgLy9mdWNrdXAgd2l0aCBzZW5kaW5nCgkJCV9tUGxheWVyc1tvUm9vbS5hUGxheWVyc1tuXV0ublNwZW50IC09IChfbVBsYXllcnNbb1Jvb20uYVBsYXllcnNbbl1dLmFSZXN1bHRzW3VpbnQoblJvb21UeXBlSW5keCldID0gbkFtb3VudCk7CgkJCWlmICgwID09IChfbVBsYXllclJvb21zW29Sb29tLmFQbGF5ZXJzW25dXSAmPSB+blJvb21UeXBlKSkKCQkJCWRlbGV0ZSBfbVBsYXllclJvb21zW29Sb29tLmFQbGF5ZXJzW25dXTsgLy9yZW1vdmUgcGxheWVyIGZyb20gcm9vbSBtYXAgaWYgaXQgd2FzIGhpcyBsYXN0IHJvb20KCQl9CgoJCXVpbnQgbkRpZmYgPSB1aW50KGFIYXNoZXNbbkluZHgyXSkgLSB1aW50KGFIYXNoZXNbbkluZHgxXSk7CgkJaWYgKG5EaWZmID4gMCAmJiBuRGlmZiA8IF9uSmFja3BvdERpYXBhc29uKSB7CgkJCWlmIChvUm9vbS5hUGxheWVyc1tuSW5keDFdLnNlbmQoX25KYWNrcG90KSkgewoJCQkJX29KYWNrcG90UmVjaXBpZW50ID0gb1Jvb20uYVBsYXllcnNbbkluZHgxXTsKCQkJCV9uSmFja3BvdExhc3QgPSBfbkphY2twb3Q7CgkJCQlfbkphY2twb3QgPSAwOwoJCQl9CgkJfQoJCV9tUm9vbXNbblJvb21dID0gb1Jvb207CgoJCWlmIChfblJlZnVuZEN1cnJlbnQgPiBfblJlZnVuZExpbWl0ICYmIDAgIT0gX2FMb3NlcnNbMF0pIHsKCQkJaWYgKF9hTG9zZXJzWzBdLnNlbmQoX25SZWZ1bmRDdXJyZW50KSkgewoJCQkJX29SZWZ1bmRSZWNpcGllbnQgPSBfYUxvc2Vyc1swXTsKCQkJCV9uUmVmdW5kTGltaXQgKz0gX25SZWZ1bmRJbmNyZWFzZTsKCQkJCV9tUGxheWVyc1tfYUxvc2Vyc1swXV0ublNwZW50IC09IGludChfblJlZnVuZEN1cnJlbnQpOwoJCQkJX25SZWZ1bmRDdXJyZW50ID0gMDsKCQkJfQoJCX0KCQlsb3NlcnMoKTsKCX0KCWZ1bmN0aW9uIGxvc2VycygpIHByaXZhdGUgewoJICAgIFBsYXllcltdIG1lbW9yeSBhTG9zZXJzID0gbmV3IFBsYXllcltdKF9hTG9zZXJzLmxlbmd0aCk7CgkJUGxheWVyIG1lbW9yeSBvUGxheWVyOwoJCVBsYXllciBtZW1vcnkgb1NoaWZ0OwoJCXVpbnQgbkxvc2VyOwoJCXVpbnQgbkxlbmd0aCA9IF9hUGxheWVyc0JpbmRzLmxlbmd0aDsKCSAgICBmb3IgKHVpbnQgblBsYXllcj0wOyBuTGVuZ3RoID4gblBsYXllcjsgblBsYXllcisrKSB7CgkJCW9QbGF5ZXIgPSBfbVBsYXllcnNbX2FQbGF5ZXJzQmluZHNbblBsYXllcl1dOwoJCQlpZiAobm93IC0gb1BsYXllci5kdCA+IDMwIGRheXMpIHsKCQkJCWRlbGV0ZSBfbVBsYXllcnNbX2FQbGF5ZXJzQmluZHNbblBsYXllcl1dOwoJCQkJX2FQbGF5ZXJzQmluZHNbblBsYXllcl0gPSBfYVBsYXllcnNCaW5kc1tuTGVuZ3RoLS1dOwoJCQkJblBsYXllci0tOwoJCQkJY29udGludWU7CgkJCX0KCQkJZm9yIChuTG9zZXI9MDsgYUxvc2Vycy5sZW5ndGggPiBuTG9zZXI7IG5Mb3NlcisrKSB7CgkJCQlpZiAoMCA9PSBhTG9zZXJzW25Mb3Nlcl0ub0FkZHJlc3MpIHsKCQkJCQlhTG9zZXJzW25Mb3Nlcl0gPSBvUGxheWVyOwoJCQkJCWJyZWFrOwoJCQkJfQoJCQkJaWYgKG9QbGF5ZXIublNwZW50ID4gYUxvc2Vyc1tuTG9zZXJdLm5TcGVudCkgewoJCQkJCW9TaGlmdCA9IGFMb3NlcnNbbkxvc2VyXTsKCQkJCQlhTG9zZXJzW25Mb3Nlcl0gPSBvUGxheWVyOwoJCQkJCW9QbGF5ZXIgPSBvU2hpZnQ7CgkJCQl9CgkJCX0KCSAgICB9CgkJZm9yIChuTG9zZXI9MDsgYUxvc2Vycy5sZW5ndGggPiBuTG9zZXI7IG5Mb3NlcisrKQoJCQlfYUxvc2Vyc1tuTG9zZXJdID0gYUxvc2Vyc1tuTG9zZXJdLm9BZGRyZXNzOwoJfQoJZnVuY3Rpb24gZ2FtZUNhbGN1bGF0ZShSb29tIG9Sb29tKSBwcml2YXRlIGNvbnN0YW50IHJldHVybnMgKGJ5dGVzMzJbXSBtZW1vcnkgYUhhc2hlcywgdWludDggbkluZHgxLCB1aW50OCBuSW5keDIpIHsKCQlieXRlczMyIGFCbG9ja0hhc2ggPSBibG9jay5ibG9ja2hhc2gob1Jvb20ubkxhc3RQbGF5ZXJzQmxvY2tOdW1iZXIpOwoJICAgIHVpbnQgblNpemUgPSBvUm9vbS5hUGxheWVycy5sZW5ndGg7CgkJYUhhc2hlcyA9IG5ldyBieXRlczMyW10oblNpemUpOwoJCWJ5dGVzMzIgbkhhc2gxID0gYnl0ZXMzMigtMSk7CgkJYnl0ZXMzMiBuSGFzaDIgPSBieXRlczMyKC0xKTsKCgkJZm9yICh1aW50OCBuPTA7IG5TaXplID4gbjsgbisrKSB7CgkJCWFIYXNoZXNbbl0gPSBzaGEyNTYodWludChvUm9vbS5hUGxheWVyc1tuXSkgKyB1aW50KGFCbG9ja0hhc2gpKTsKCQkJaWYgKGFIYXNoZXNbbl0gPD0gbkhhc2gyICkgewoJCQkJaWYgKGFIYXNoZXNbbl0gPD0gbkhhc2gxKSB7CgkJCQkJbkhhc2gyID0gbkhhc2gxOwoJCQkJCW5JbmR4MiA9IG5JbmR4MTsKCQkJCQluSGFzaDEgPSBhSGFzaGVzW25dOwoJCQkJCW5JbmR4MSA9IG47CgkJCQl9IGVsc2UgewoJCQkJCW5IYXNoMiA9IGFIYXNoZXNbbl07CgkJCQkJbkluZHgyID0gbjsKCQkJCX0KCQkJfQoJCX0KCQlpZiAobkluZHgxID09IG5JbmR4MikKCQkJKG5JbmR4MSwgbkluZHgyKSA9ICgwLCAwKTsKCQlyZXR1cm47Cgl9Cn0='.
	

]
