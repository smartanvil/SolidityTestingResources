Class {
	#name : #SRT6d9aeea69207b186e67e24cc8ae05fe3ed1e0fbb,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT6d9aeea69207b186e67e24cc8ae05fe3ed1e0fbb >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjsKY29udHJhY3QgRGF0ZVRpbWUgewogICAgICAgIC8qCiAgICAgICAgICogIERhdGUgYW5kIFRpbWUgdXRpbGl0aWVzIGZvciBldGhlcmV1bSBjb250cmFjdHMKICAgICAgICAgKgogICAgICAgICAqLwogICAgICAgIHN0cnVjdCBEYXRlVGltZSB7CiAgICAgICAgICAgICAgICB1aW50MTYgeWVhcjsKICAgICAgICAgICAgICAgIHVpbnQ4IG1vbnRoOwogICAgICAgICAgICAgICAgdWludDggZGF5OwogICAgICAgICAgICAgICAgdWludDggaG91cjsKICAgICAgICAgICAgICAgIHVpbnQ4IG1pbnV0ZTsKICAgICAgICAgICAgICAgIHVpbnQ4IHNlY29uZDsKICAgICAgICAgICAgICAgIHVpbnQ4IHdlZWtkYXk7CiAgICAgICAgfQoKICAgICAgICB1aW50IGNvbnN0YW50IERBWV9JTl9TRUNPTkRTID0gODY0MDA7CiAgICAgICAgdWludCBjb25zdGFudCBZRUFSX0lOX1NFQ09ORFMgPSAzMTUzNjAwMDsKICAgICAgICB1aW50IGNvbnN0YW50IExFQVBfWUVBUl9JTl9TRUNPTkRTID0gMzE2MjI0MDA7CgogICAgICAgIHVpbnQgY29uc3RhbnQgSE9VUl9JTl9TRUNPTkRTID0gMzYwMDsKICAgICAgICB1aW50IGNvbnN0YW50IE1JTlVURV9JTl9TRUNPTkRTID0gNjA7CgogICAgICAgIHVpbnQxNiBjb25zdGFudCBPUklHSU5fWUVBUiA9IDE5NzA7CgogICAgICAgIGZ1bmN0aW9uIGlzTGVhcFllYXIodWludDE2IHllYXIpIGNvbnN0YW50IHJldHVybnMgKGJvb2wpIHsKICAgICAgICAgICAgICAgIGlmICh5ZWFyICUgNCAhPSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh5ZWFyICUgMTAwICE9IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoeWVhciAlIDQwMCAhPSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gbGVhcFllYXJzQmVmb3JlKHVpbnQgeWVhcikgY29uc3RhbnQgcmV0dXJucyAodWludCkgewogICAgICAgICAgICAgICAgeWVhciAtPSAxOwogICAgICAgICAgICAgICAgcmV0dXJuIHllYXIgLyA0IC0geWVhciAvIDEwMCArIHllYXIgLyA0MDA7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXREYXlzSW5Nb250aCh1aW50OCBtb250aCwgdWludDE2IHllYXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4KSB7CiAgICAgICAgICAgICAgICBpZiAobW9udGggPT0gMSB8fCBtb250aCA9PSAzIHx8IG1vbnRoID09IDUgfHwgbW9udGggPT0gNyB8fCBtb250aCA9PSA4IHx8IG1vbnRoID09IDEwIHx8IG1vbnRoID09IDEyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAzMTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1vbnRoID09IDQgfHwgbW9udGggPT0gNiB8fCBtb250aCA9PSA5IHx8IG1vbnRoID09IDExKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAzMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzTGVhcFllYXIoeWVhcikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDI5OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAyODsKICAgICAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHBhcnNlVGltZXN0YW1wKHVpbnQgdGltZXN0YW1wKSBpbnRlcm5hbCAgcmV0dXJucyAoRGF0ZVRpbWUgZHQpIHsKICAgICAgICAgICAgICAgIHVpbnQgc2Vjb25kc0FjY291bnRlZEZvciA9IDA7CiAgICAgICAgICAgICAgICB1aW50IGJ1ZjsKICAgICAgICAgICAgICAgIHVpbnQ4IGk7CgogICAgICAgICAgICAgICAgLy8gWWVhcgogICAgICAgICAgICAgICAgZHQueWVhciA9IGdldFllYXIodGltZXN0YW1wKTsKICAgICAgICAgICAgICAgIGJ1ZiA9IGxlYXBZZWFyc0JlZm9yZShkdC55ZWFyKSAtIGxlYXBZZWFyc0JlZm9yZShPUklHSU5fWUVBUik7CgogICAgICAgICAgICAgICAgc2Vjb25kc0FjY291bnRlZEZvciArPSBMRUFQX1lFQVJfSU5fU0VDT05EUyAqIGJ1ZjsKICAgICAgICAgICAgICAgIHNlY29uZHNBY2NvdW50ZWRGb3IgKz0gWUVBUl9JTl9TRUNPTkRTICogKGR0LnllYXIgLSBPUklHSU5fWUVBUiAtIGJ1Zik7CgogICAgICAgICAgICAgICAgLy8gTW9udGgKICAgICAgICAgICAgICAgIHVpbnQgc2Vjb25kc0luTW9udGg7CiAgICAgICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDw9IDEyOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kc0luTW9udGggPSBEQVlfSU5fU0VDT05EUyAqIGdldERheXNJbk1vbnRoKGksIGR0LnllYXIpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2Vjb25kc0luTW9udGggKyBzZWNvbmRzQWNjb3VudGVkRm9yID4gdGltZXN0YW1wKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHQubW9udGggPSBpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHNBY2NvdW50ZWRGb3IgKz0gc2Vjb25kc0luTW9udGg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gRGF5CiAgICAgICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDw9IGdldERheXNJbk1vbnRoKGR0Lm1vbnRoLCBkdC55ZWFyKTsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChEQVlfSU5fU0VDT05EUyArIHNlY29uZHNBY2NvdW50ZWRGb3IgPiB0aW1lc3RhbXApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdC5kYXkgPSBpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHNBY2NvdW50ZWRGb3IgKz0gREFZX0lOX1NFQ09ORFM7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gSG91cgogICAgICAgICAgICAgICAgZHQuaG91ciA9IGdldEhvdXIodGltZXN0YW1wKTsKCiAgICAgICAgICAgICAgICAvLyBNaW51dGUKICAgICAgICAgICAgICAgIGR0Lm1pbnV0ZSA9IGdldE1pbnV0ZSh0aW1lc3RhbXApOwoKICAgICAgICAgICAgICAgIC8vIFNlY29uZAogICAgICAgICAgICAgICAgZHQuc2Vjb25kID0gZ2V0U2Vjb25kKHRpbWVzdGFtcCk7CgogICAgICAgICAgICAgICAgLy8gRGF5IG9mIHdlZWsuCiAgICAgICAgICAgICAgICBkdC53ZWVrZGF5ID0gZ2V0V2Vla2RheSh0aW1lc3RhbXApOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0WWVhcih1aW50IHRpbWVzdGFtcCkgY29uc3RhbnQgcmV0dXJucyAodWludDE2KSB7CiAgICAgICAgICAgICAgICB1aW50IHNlY29uZHNBY2NvdW50ZWRGb3IgPSAwOwogICAgICAgICAgICAgICAgdWludDE2IHllYXI7CiAgICAgICAgICAgICAgICB1aW50IG51bUxlYXBZZWFyczsKCiAgICAgICAgICAgICAgICAvLyBZZWFyCiAgICAgICAgICAgICAgICB5ZWFyID0gdWludDE2KE9SSUdJTl9ZRUFSICsgdGltZXN0YW1wIC8gWUVBUl9JTl9TRUNPTkRTKTsKICAgICAgICAgICAgICAgIG51bUxlYXBZZWFycyA9IGxlYXBZZWFyc0JlZm9yZSh5ZWFyKSAtIGxlYXBZZWFyc0JlZm9yZShPUklHSU5fWUVBUik7CgogICAgICAgICAgICAgICAgc2Vjb25kc0FjY291bnRlZEZvciArPSBMRUFQX1lFQVJfSU5fU0VDT05EUyAqIG51bUxlYXBZZWFyczsKICAgICAgICAgICAgICAgIHNlY29uZHNBY2NvdW50ZWRGb3IgKz0gWUVBUl9JTl9TRUNPTkRTICogKHllYXIgLSBPUklHSU5fWUVBUiAtIG51bUxlYXBZZWFycyk7CgogICAgICAgICAgICAgICAgd2hpbGUgKHNlY29uZHNBY2NvdW50ZWRGb3IgPiB0aW1lc3RhbXApIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTGVhcFllYXIodWludDE2KHllYXIgLSAxKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRzQWNjb3VudGVkRm9yIC09IExFQVBfWUVBUl9JTl9TRUNPTkRTOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHNBY2NvdW50ZWRGb3IgLT0gWUVBUl9JTl9TRUNPTkRTOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHllYXIgLT0gMTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiB5ZWFyOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0TW9udGgodWludCB0aW1lc3RhbXApIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VUaW1lc3RhbXAodGltZXN0YW1wKS5tb250aDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldERheSh1aW50IHRpbWVzdGFtcCkgY29uc3RhbnQgcmV0dXJucyAodWludDgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVRpbWVzdGFtcCh0aW1lc3RhbXApLmRheTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldEhvdXIodWludCB0aW1lc3RhbXApIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdWludDgoKHRpbWVzdGFtcCAvIDYwIC8gNjApICUgMjQpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0TWludXRlKHVpbnQgdGltZXN0YW1wKSBjb25zdGFudCByZXR1cm5zICh1aW50OCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHVpbnQ4KCh0aW1lc3RhbXAgLyA2MCkgJSA2MCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRTZWNvbmQodWludCB0aW1lc3RhbXApIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdWludDgodGltZXN0YW1wICUgNjApOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0V2Vla2RheSh1aW50IHRpbWVzdGFtcCkgY29uc3RhbnQgcmV0dXJucyAodWludDgpIHsKICAgICAgICAgICAgICAgIHJldHVybiB1aW50OCgodGltZXN0YW1wIC8gREFZX0lOX1NFQ09ORFMgKyA0KSAlIDcpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdG9UaW1lc3RhbXAodWludDE2IHllYXIsIHVpbnQ4IG1vbnRoLCB1aW50OCBkYXkpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgdGltZXN0YW1wKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdG9UaW1lc3RhbXAoeWVhciwgbW9udGgsIGRheSwgMCwgMCwgMCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB0b1RpbWVzdGFtcCh1aW50MTYgeWVhciwgdWludDggbW9udGgsIHVpbnQ4IGRheSwgdWludDggaG91cikgY29uc3RhbnQgcmV0dXJucyAodWludCB0aW1lc3RhbXApIHsKICAgICAgICAgICAgICAgIHJldHVybiB0b1RpbWVzdGFtcCh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCAwLCAwKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHRvVGltZXN0YW1wKHVpbnQxNiB5ZWFyLCB1aW50OCBtb250aCwgdWludDggZGF5LCB1aW50OCBob3VyLCB1aW50OCBtaW51dGUpIGNvbnN0YW50IHJldHVybnMgKHVpbnQgdGltZXN0YW1wKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdG9UaW1lc3RhbXAoeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlLCAwKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHRvVGltZXN0YW1wKHVpbnQxNiB5ZWFyLCB1aW50OCBtb250aCwgdWludDggZGF5LCB1aW50OCBob3VyLCB1aW50OCBtaW51dGUsIHVpbnQ4IHNlY29uZCkgY29uc3RhbnQgcmV0dXJucyAodWludCB0aW1lc3RhbXApIHsKICAgICAgICAgICAgdWludDE2IGk7CgogICAgICAgICAgICAvLyBZZWFyCiAgICAgICAgICAgIGZvciAoaSA9IE9SSUdJTl9ZRUFSOyBpIDwgeWVhcjsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTGVhcFllYXIoaSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcCArPSBMRUFQX1lFQVJfSU5fU0VDT05EUzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXAgKz0gWUVBUl9JTl9TRUNPTkRTOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gTW9udGgKICAgICAgICAgICAgdWludDhbMTJdIG1lbW9yeSBtb250aERheUNvdW50czsKICAgICAgICAgICAgbW9udGhEYXlDb3VudHNbMF0gPSAzMTsKICAgICAgICAgICAgaWYgKGlzTGVhcFllYXIoeWVhcikpIHsKICAgICAgICAgICAgICAgICAgICBtb250aERheUNvdW50c1sxXSA9IDI5OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIG1vbnRoRGF5Q291bnRzWzFdID0gMjg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbW9udGhEYXlDb3VudHNbMl0gPSAzMTsKICAgICAgICAgICAgbW9udGhEYXlDb3VudHNbM10gPSAzMDsKICAgICAgICAgICAgbW9udGhEYXlDb3VudHNbNF0gPSAzMTsKICAgICAgICAgICAgbW9udGhEYXlDb3VudHNbNV0gPSAzMDsKICAgICAgICAgICAgbW9udGhEYXlDb3VudHNbNl0gPSAzMTsKICAgICAgICAgICAgbW9udGhEYXlDb3VudHNbN10gPSAzMTsKICAgICAgICAgICAgbW9udGhEYXlDb3VudHNbOF0gPSAzMDsKICAgICAgICAgICAgbW9udGhEYXlDb3VudHNbOV0gPSAzMTsKICAgICAgICAgICAgbW9udGhEYXlDb3VudHNbMTBdID0gMzA7CiAgICAgICAgICAgIG1vbnRoRGF5Q291bnRzWzExXSA9IDMxOwoKICAgICAgICAgICAgZm9yIChpID0gMTsgaSA8IG1vbnRoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXAgKz0gREFZX0lOX1NFQ09ORFMgKiBtb250aERheUNvdW50c1tpIC0gMV07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIERheQogICAgICAgICAgICB0aW1lc3RhbXAgKz0gREFZX0lOX1NFQ09ORFMgKiAoZGF5IC0gMSk7CgogICAgICAgICAgICAvLyBIb3VyCiAgICAgICAgICAgIHRpbWVzdGFtcCArPSBIT1VSX0lOX1NFQ09ORFMgKiAoaG91cik7CgogICAgICAgICAgICAvLyBNaW51dGUKICAgICAgICAgICAgdGltZXN0YW1wICs9IE1JTlVURV9JTl9TRUNPTkRTICogKG1pbnV0ZSk7CgogICAgICAgICAgICAvLyBTZWNvbmQKICAgICAgICAgICAgdGltZXN0YW1wICs9IHNlY29uZDsKCiAgICAgICAgICAgIHJldHVybiB0aW1lc3RhbXA7CiAgICB9Cn0KCi8vIENvcHlyb2JvIGNvbnRyYWN0IGZvciBub3Rhcml6YXRpb24KY29udHJhY3QgUHJvb2ZPZkV4aXN0ZW5jZSB7CiAgICAKICAgIAogICAgZnVuY3Rpb24gdWludFRvQnl0ZXModWludCB2KSBjb25zdGFudCByZXR1cm5zIChieXRlczMyIHJldCkgewogICAgICAgIGlmICh2ID09IDApIHsKICAgICAgICAgICAgcmV0ID0gJzAnOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgd2hpbGUgKHYgPiAwKSB7CiAgICAgICAgICAgICAgICByZXQgPSBieXRlczMyKHVpbnQocmV0KSAvICgyICoqIDgpKTsKICAgICAgICAgICAgICAgIHJldCB8PSBieXRlczMyKCgodiAlIDEwKSArIDQ4KSAqIDIgKiogKDggKiAzMSkpOwogICAgICAgICAgICAgICAgdiAvPSAxMDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gcmV0OwogICAgfQogICAgCiAgICBmdW5jdGlvbiBieXRlczMyVG9TdHJpbmcoYnl0ZXMzMiB4KSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcpIHsKICAgICAgICBieXRlcyBtZW1vcnkgYnl0ZXNTdHJpbmcgPSBuZXcgYnl0ZXMoMzIpOwogICAgICAgIHVpbnQgY2hhckNvdW50ID0gMDsKICAgICAgICBmb3IgKHVpbnQgaiA9IDA7IGogPCAzMjsgaisrKSB7CiAgICAgICAgICAgIGJ5dGUgY2hhciA9IGJ5dGUoYnl0ZXMzMih1aW50KHgpICogMiAqKiAoOCAqIGopKSk7CiAgICAgICAgICAgIGlmIChjaGFyICE9IDApIHsKICAgICAgICAgICAgICAgIGJ5dGVzU3RyaW5nW2NoYXJDb3VudF0gPSBjaGFyOwogICAgICAgICAgICAgICAgY2hhckNvdW50Kys7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgYnl0ZXMgbWVtb3J5IGJ5dGVzU3RyaW5nVHJpbW1lZCA9IG5ldyBieXRlcyhjaGFyQ291bnQpOwogICAgICAgIGZvciAoaiA9IDA7IGogPCBjaGFyQ291bnQ7IGorKykgewogICAgICAgICAgICBieXRlc1N0cmluZ1RyaW1tZWRbal0gPSBieXRlc1N0cmluZ1tqXTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHN0cmluZyhieXRlc1N0cmluZ1RyaW1tZWQpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiB1aW50VG9TdHJpbmcodWludDE2IHgpIGNvbnN0YW50IHJldHVybnMgKHN0cmluZykgewogICAgICAgIGJ5dGVzMzIgYSA9IHVpbnRUb0J5dGVzKHgpOwogICAgICAgIHJldHVybiBieXRlczMyVG9TdHJpbmcoYSk7CiAgICB9CiAgICAKZnVuY3Rpb24gc3RyQ29uY2F0KHN0cmluZyBfYSwgc3RyaW5nIF9iLCBzdHJpbmcgX2MsIHN0cmluZyBfZCwgc3RyaW5nIF9lKSBpbnRlcm5hbCByZXR1cm5zIChzdHJpbmcpewogICAgYnl0ZXMgbWVtb3J5IF9iYSA9IGJ5dGVzKF9hKTsKICAgIGJ5dGVzIG1lbW9yeSBfYmIgPSBieXRlcyhfYik7CiAgICBieXRlcyBtZW1vcnkgX2JjID0gYnl0ZXMoX2MpOwogICAgYnl0ZXMgbWVtb3J5IF9iZCA9IGJ5dGVzKF9kKTsKICAgIGJ5dGVzIG1lbW9yeSBfYmUgPSBieXRlcyhfZSk7CiAgICBzdHJpbmcgbWVtb3J5IGFiY2RlID0gbmV3IHN0cmluZyhfYmEubGVuZ3RoICsgX2JiLmxlbmd0aCArIF9iYy5sZW5ndGggKyBfYmQubGVuZ3RoICsgX2JlLmxlbmd0aCk7CiAgICBieXRlcyBtZW1vcnkgYmFiY2RlID0gYnl0ZXMoYWJjZGUpOwogICAgdWludCBrID0gMDsKICAgIGZvciAodWludCBpID0gMDsgaSA8IF9iYS5sZW5ndGg7IGkrKykgYmFiY2RlW2srK10gPSBfYmFbaV07CiAgICBmb3IgKGkgPSAwOyBpIDwgX2JiLmxlbmd0aDsgaSsrKSBiYWJjZGVbaysrXSA9IF9iYltpXTsKICAgIGZvciAoaSA9IDA7IGkgPCBfYmMubGVuZ3RoOyBpKyspIGJhYmNkZVtrKytdID0gX2JjW2ldOwogICAgZm9yIChpID0gMDsgaSA8IF9iZC5sZW5ndGg7IGkrKykgYmFiY2RlW2srK10gPSBfYmRbaV07CiAgICBmb3IgKGkgPSAwOyBpIDwgX2JlLmxlbmd0aDsgaSsrKSBiYWJjZGVbaysrXSA9IF9iZVtpXTsKICAgIHJldHVybiBzdHJpbmcoYmFiY2RlKTsKfQoKZnVuY3Rpb24gc3RyQ29uY2F0KHN0cmluZyBfYSwgc3RyaW5nIF9iLCBzdHJpbmcgX2MsIHN0cmluZyBfZCkgaW50ZXJuYWwgcmV0dXJucyAoc3RyaW5nKSB7CiAgICByZXR1cm4gc3RyQ29uY2F0KF9hLCBfYiwgX2MsIF9kLCAiIik7Cn0KCmZ1bmN0aW9uIHN0ckNvbmNhdChzdHJpbmcgX2EsIHN0cmluZyBfYiwgc3RyaW5nIF9jKSBpbnRlcm5hbCByZXR1cm5zIChzdHJpbmcpIHsKICAgIHJldHVybiBzdHJDb25jYXQoX2EsIF9iLCBfYywgIiIsICIiKTsKfQoKZnVuY3Rpb24gc3RyQ29uY2F0KHN0cmluZyBfYSwgc3RyaW5nIF9iKSBpbnRlcm5hbCByZXR1cm5zIChzdHJpbmcpIHsKICAgIHJldHVybiBzdHJDb25jYXQoX2EsIF9iLCAiIiwgIiIsICIiKTsKfQogICAKICAvLyBzdHJpbmc6IHNoYTI1NiBvZiBkb2N1bWVudAogIC8vIHVuaXQgOiB0aW1lc3RhbXAgCiAgbWFwcGluZyAoc3RyaW5nID0+IHVpbnQpIHByaXZhdGUgcHJvb2ZzOwoKICBmdW5jdGlvbiBub3Rhcml6ZShzdHJpbmcgc2hhMjU2KSB7CiAgICAvLyB2YWxpZGF0ZSBpdCBoYXMgNjQgY2hhcmFjdGVycwogICAgCiAgICBpZiAoIGJ5dGVzKHNoYTI1NikubGVuZ3RoID09IDY0ICl7CiAgICAgIC8vIGNoZWNrIGlmIGl0IGlzIGV4aXN0aW5nLCBkb24ndCBzYXZlIGl0CiAgICAgIGlmICggcHJvb2ZzW3NoYTI1Nl0gPT0gMCApewogICAgICAgIHByb29mc1tzaGEyNTZdID0gYmxvY2sudGltZXN0YW1wOwogICAgICB9CiAgICB9CiAgfQogIAogIC8vIElucHV0IHNoYTI1NiBoYXNoIHN0cmluZyB0byBjaGVjawogIGZ1bmN0aW9uIHZlcmlmeShzdHJpbmcgc2hhMjU2KSBjb25zdGFudCByZXR1cm5zICh1aW50MTYsdWludDE2LHVpbnQxNix1aW50MTYsdWludDE2LHVpbnQxNikgewogICAgdmFyIHRpbWVzdGFtcCA9ICBwcm9vZnNbc2hhMjU2XTsKICAgIGlmICggdGltZXN0YW1wID09IDAgKXsKICAgICAgICByZXR1cm4gKDAsMCwwLDAsMCwwKTsKICAgIH1lbHNlewogICAgICAgIERhdGVUaW1lIGR0ID0gRGF0ZVRpbWUobXNnLnNlbmRlcik7CiAgICAgICAgCiAgICAgICAgdWludDE2IHllYXIgPSBkdC5nZXRZZWFyKHRpbWVzdGFtcCk7CiAgICAgICAgdWludDE2IG1vbnRoID0gZHQuZ2V0TW9udGgodGltZXN0YW1wKTsKICAgICAgICB1aW50MTYgZGF5ID0gZHQuZ2V0RGF5KHRpbWVzdGFtcCk7CiAgICAgICAgdWludDE2IGhvdXIgPSBkdC5nZXRIb3VyKHRpbWVzdGFtcCk7CiAgICAgICAgdWludDE2IG1pbnV0ZSA9IGR0LmdldE1pbnV0ZSh0aW1lc3RhbXApOwogICAgICAgIHVpbnQxNiBzZWNvbmQgPSBkdC5nZXRTZWNvbmQodGltZXN0YW1wKTsKICAgICAgICByZXR1cm4gICh5ZWFyLCBtb250aCxkYXksaG91cixtaW51dGUsc2Vjb25kKTsKICAgICAgICAKICAgICAgICAvLyBzdHJpbmcgIG1lbW9yeSByZXN1bHQgPSBzdHJDb25jYXQoYnl0ZXMzMlRvU3RyaW5nKHllYXIpICwgIi0iICwgYnl0ZXMzMlRvU3RyaW5nKG1vbnRoKSwiLSIsYnl0ZXMzMlRvU3RyaW5nKGRheSkpOwogICAgICAgIC8vIHJlc3VsdCA9IHN0ckNvbmNhdChyZXN1bHQsIiAiKTsKICAgICAgICAvLyByZXN1bHQgPSBzdHJDb25jYXQoIGJ5dGVzMzJUb1N0cmluZyhob3VyKSAsICI6IiAsIGJ5dGVzMzJUb1N0cmluZyhtaW51dGUpLCI6IixieXRlczMyVG9TdHJpbmcoc2Vjb25kKSk7CiAgICAgICAgLy8gcmVzdWx0ID0gc3RyQ29uY2F0KHJlc3VsdCwiIFVUQyIpIDsKICAgICAgICAKICAgICAgICAKICAgICAgICAKICAgICAgICAKCgogICAgICAgIC8vIC8vVVRDIEZvcm1hdDogMjAxMy0xMC0yNiAxNDozNzo0OCBVVEMKCiAgICAgICAgLy8gcmV0dXJuIHJlc3VsdDsKICAgIH0KICB9CiAgCn0='.
	

]
