Class {
	#name : #SRT981930b9c44fc164084491ad3e1c8568ba3b0fb6,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT981930b9c44fc164084491ad3e1c8568ba3b0fb6 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuODsKCi8vIEBhZGRyZXNzIDB4YjcwODM1ZDc4MjJlYmI5NDI2YjU2NTQzZTM5MTg0NmMxMDdiZDMyYwovLyBAbXVsdGlzaWcKLy8gVGhlIGltcGxlbWVudGF0aW9uIGZvciB0aGUgR2FtZSBJQ08gc21hcnQgY29udHJhY3Qgd2FzIGluc3BpcmVkIGJ5Ci8vIHRoZSBFdGhlcmV1bSB0b2tlbiBjcmVhdGlvbiB0dXRvcmlhbCwgdGhlIEZpcnN0Qmxvb2QgdG9rZW4sIGFuZCB0aGUgQkFUIHRva2VuLgovLyBjb21waWxlcjogMC40LjE3K2NvbW1pdC5iZGViOWU1MgoKLyoKMS4gQ29udHJhY3QgQWRkcmVzczogMHhiNzA4MzVkNzgyMmViYjk0MjZiNTY1NDNlMzkxODQ2YzEwN2JkMzJjCgoyLiBPZmZpY2lhbCBTaXRlIFVSTDpodHRwczovL3d3dy5nYW1lLmNvbS8KCjMuIExpbmsgdG8gZG93bmxvYWQgYSAyOHgyOHBuZyBpY29uIGxvZ286aHR0cHM6Ly9pYy5nYW1lLmNvbS9kb3dubG9hZC9nYW1laWNvXzI4LnBuZwoKNC4gT2ZmaWNpYWwgQ29udGFjdCBFbWFpbCBBZGRyZXNzOjxhIGhyZWY9Ii9jZG4tY2dpL2wvZW1haWwtcHJvdGVjdGlvbiIgY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSJmNDlkOTc5YmI0OTM5NTk5OTFkYTk3OWI5OSI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvYT4KCjUuIExpbmsgdG8gYmxvZyAob3B0aW9uYWwpOmh0dHBzOi8vbWVkaXVtLmNvbS9AR2FtZS5jb20KCjYuIExpbmsgdG8gcmVkZGl0IChvcHRpb25hbCk6Cgo3LiBMaW5rIHRvIHNsYWNrIChvcHRpb25hbCk6aHR0cHM6Ly9nYW1laWNvLnNsYWNrLmNvbS8KCjguIExpbmsgdG8gZmFjZWJvb2sgKG9wdGlvbmFsKTpodHRwczovL3d3dy5mYWNlYm9vay5jb20vR2FtZWNvbS0yMDU1OTU0MzQ4MDIxOTgzLwoKOS4gTGluayB0byB0d2l0dGVyIChvcHRpb25hbCk6QGdhbWVjb202NjYKCjEwLiBMaW5rIHRvIGJpdGNvaW50YWxrIChvcHRpb25hbCk6CgoxMS4gTGluayB0byBnaXRodWIgKG9wdGlvbmFsKTpodHRwczovL2dpdGh1Yi5jb20vR2FtZUxlTGUKCjEyLiBMaW5rIHRvIHRlbGVncmFtIChvcHRpb25hbCk6aHR0cHM6Ly90Lm1lL2dhbWVpY28KCjEzLiBMaW5rIHRvIHdoaXRlcGFwZXIgKG9wdGlvbmFsKTpodHRwczovL2ljLmdhbWUuY29tL2Rvd25sb2FkL0dhbWUuY29tLVdoaXRlcGFwZXJfRU4ucGRmCiovCgovLy8vLy8vLy8vLy8vLy8KLy8gU0FGRSBNQVRIIC8vCi8vLy8vLy8vLy8vLy8vLwoKY29udHJhY3QgU2FmZU1hdGggewoKICAgIGZ1bmN0aW9uIHNhZmVBZGQodWludDI1NiB4LCB1aW50MjU2IHkpIGludGVybmFsIHJldHVybnModWludDI1NikgewogICAgICAgIHVpbnQyNTYgeiA9IHggKyB5OwogICAgICAgIHJlcXVpcmUoKHogPj0geCkgJiYgKHogPj0geSkpOwogICAgICAgIHJldHVybiB6OwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVTdWJ0cmFjdCh1aW50MjU2IHgsIHVpbnQyNTYgeSkgaW50ZXJuYWwgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgcmVxdWlyZSh4ID49IHkpOwogICAgICAgIHVpbnQyNTYgeiA9IHggLSB5OwogICAgICAgIHJldHVybiB6OwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVNdWx0KHVpbnQyNTYgeCwgdWludDI1NiB5KSBpbnRlcm5hbCByZXR1cm5zKHVpbnQyNTYpIHsKICAgICAgICB1aW50MjU2IHogPSB4ICogeTsKICAgICAgICByZXF1aXJlKCh4ID09IDApfHwoei94ID09IHkpKTsKICAgICAgICByZXR1cm4gejsKICAgIH0KCn0KCgovLy8vLy8vLy8vLy8vLy8vLy8vLwovLyBTVEFOREFSRCBUT0tFTiAvLwovLy8vLy8vLy8vLy8vLy8vLy8vLwoKY29udHJhY3QgVG9rZW4gewogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwp9CgovKiAgRVJDIDIwIHRva2VuICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgVG9rZW4gewoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICAvL3ByZSBpY28gbG9ja2VkIGJhbGFuY2UKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgbG9ja2VkQmFsYW5jZXM7CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGluaXRMb2NrZWRCYWxhbmNlczsKCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIGFsbG93ZWQ7CiAgICBib29sIGFsbG93VHJhbnNmZXIgPSBmYWxzZTsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpewogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCAmJiBhbGxvd1RyYW5zZmVyKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKXsKICAgICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCAmJiBhbGxvd1RyYW5zZmVyKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKXsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXSArIGxvY2tlZEJhbGFuY2VzW19vd25lcl07CiAgICB9CiAgICBmdW5jdGlvbiBhdmFpbGFibGVCYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKXsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KfQoKLy8vLy8vLy8vLy8vLy8vLy8vLy8vCi8vR0FNRS5DT00gSUNPIFRPS0VOLy8KLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgpjb250cmFjdCBHYW1lSUNPIGlzIFN0YW5kYXJkVG9rZW4sIFNhZmVNYXRoIHsKICAgIC8vIERlc2NyaXB0aXZlIHByb3BlcnRpZXMKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJUZXN0IFRva2VuIjsKICAgIAogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiQ1RHIjsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAiMS4wIjsKCiAgICAvLyBBY2NvdW50IGZvciBldGhlciBwcm9jZWVkLgogICAgYWRkcmVzcyBwdWJsaWMgZXRoZXJQcm9jZWVkc0FjY291bnQgPSAweDA7CiAgICBhZGRyZXNzIHB1YmxpYyBtdWx0aVdhbGxldCA9IDB4MDsKCiAgICAvL293bmVycwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgaXNPd25lcjsKICAgIGFkZHJlc3NbXSBwdWJsaWMgb3duZXJzOwoKICAgIC8vIFRoZXNlIHBhcmFtcyBzcGVjaWZ5IHRoZSBzdGFydCwgZW5kLCBtaW4sIGFuZCBtYXggb2YgdGhlIHNhbGUuCiAgICBib29sIHB1YmxpYyBpc0ZpbmFsaXplZDsKCiAgICB1aW50MjU2IHB1YmxpYyB3aW5kb3cwVG90YWxTdXBwbHkgPSAwOwogICAgdWludDI1NiBwdWJsaWMgd2luZG93MVRvdGFsU3VwcGx5ID0gMDsKICAgIHVpbnQyNTYgcHVibGljIHdpbmRvdzJUb3RhbFN1cHBseSA9IDA7CiAgICB1aW50MjU2IHB1YmxpYyB3aW5kb3czVG90YWxTdXBwbHkgPSAwOwoKICAgIHVpbnQyNTYgcHVibGljIHdpbmRvdzBTdGFydFRpbWUgPSAwOwogICAgdWludDI1NiBwdWJsaWMgd2luZG93MEVuZFRpbWUgPSAwOwogICAgdWludDI1NiBwdWJsaWMgd2luZG93MVN0YXJ0VGltZSA9IDA7CiAgICB1aW50MjU2IHB1YmxpYyB3aW5kb3cxRW5kVGltZSA9IDA7CiAgICB1aW50MjU2IHB1YmxpYyB3aW5kb3cyU3RhcnRUaW1lID0gMDsKICAgIHVpbnQyNTYgcHVibGljIHdpbmRvdzJFbmRUaW1lID0gMDsKICAgIHVpbnQyNTYgcHVibGljIHdpbmRvdzNTdGFydFRpbWUgPSAwOwogICAgdWludDI1NiBwdWJsaWMgd2luZG93M0VuZFRpbWUgPSAwOwoKICAgIC8vIHNldHRpbmcgdGhlIGNhcGFjaXR5IG9mIGV2ZXJ5IHBhcnQgb2YgaWNvCiAgICB1aW50MjU2IHB1YmxpYyBwcmVzZXJ2ZWRUb2tlbnMgPSAxMzAwMDAwMDAwICogMTAqKmRlY2ltYWxzOwogICAgdWludDI1NiBwdWJsaWMgd2luZG93MFRva2VuQ3JlYXRpb25DYXAgPSAyMDAwMDAwMDAgKiAxMCoqZGVjaW1hbHM7CiAgICB1aW50MjU2IHB1YmxpYyB3aW5kb3cxVG9rZW5DcmVhdGlvbkNhcCA9IDIwMDAwMDAwMCAqIDEwKipkZWNpbWFsczsKICAgIHVpbnQyNTYgcHVibGljIHdpbmRvdzJUb2tlbkNyZWF0aW9uQ2FwID0gMzAwMDAwMDAwICogMTAqKmRlY2ltYWxzOwogICAgdWludDI1NiBwdWJsaWMgd2luZG93M1Rva2VuQ3JlYXRpb25DYXAgPSAwICogMTAqKmRlY2ltYWxzOwoKICAgIC8vIFNldHRpbmcgdGhlIGV4Y2hhbmdlIHJhdGUgZm9yIHRoZSBJQ08uCiAgICB1aW50MjU2IHB1YmxpYyB3aW5kb3cwVG9rZW5FeGNoYW5nZVJhdGUgPSA1MDAwOwogICAgdWludDI1NiBwdWJsaWMgd2luZG93MVRva2VuRXhjaGFuZ2VSYXRlID0gNDAwMDsKICAgIHVpbnQyNTYgcHVibGljIHdpbmRvdzJUb2tlbkV4Y2hhbmdlUmF0ZSA9IDMwMDA7CiAgICB1aW50MjU2IHB1YmxpYyB3aW5kb3czVG9rZW5FeGNoYW5nZVJhdGUgPSAwOwoKICAgIHVpbnQyNTYgcHVibGljIHByZUlDT0xpbWl0ID0gMDsKICAgIGJvb2wgcHVibGljIGluc3RhbnRUcmFuc2ZlciA9IGZhbHNlOwoKICAgIC8vIEV2ZW50cyBmb3IgbG9nZ2luZyByZWZ1bmRzIGFuZCB0b2tlbiBjcmVhdGlvbi4KICAgIGV2ZW50IENyZWF0ZUdhbWVJY28oYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgUHJlSUNPVG9rZW5QdXNoZWQoYWRkcmVzcyBpbmRleGVkIF9idXllciwgdWludDI1NiBfYW1vdW50KTsKICAgIGV2ZW50IFVubG9ja0JhbGFuY2UoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgdWludDI1NiBfYW1vdW50KTsKICAgIGV2ZW50IE93bmVyQWRkaXRpb24oYWRkcmVzcyBpbmRleGVkIG93bmVyKTsKICAgIGV2ZW50IE93bmVyUmVtb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIpOwoKICAgIG1vZGlmaWVyIG93bmVyRXhpc3RzKGFkZHJlc3Mgb3duZXIpIHsKICAgICAgICByZXF1aXJlKGlzT3duZXJbb3duZXJdKTsKICAgICAgICBfOwogICAgfQoKICAgIC8vIGNvbnN0cnVjdG9yCiAgICBmdW5jdGlvbiBHYW1lSUNPKCkgcHVibGljCiAgICB7CiAgICAgICAgdG90YWxTdXBwbHkgICAgICAgICAgICAgPSAyMDAwMDAwMDAwICogMTAqKmRlY2ltYWxzOwogICAgICAgIGlzRmluYWxpemVkICAgICAgICAgICAgID0gZmFsc2U7CiAgICAgICAgZXRoZXJQcm9jZWVkc0FjY291bnQgICAgPSBtc2cuc2VuZGVyOwogICAgfQogICAgZnVuY3Rpb24gYWRqdXN0VGltZSgKICAgIHVpbnQyNTYgX3dpbmRvdzBTdGFydFRpbWUsIHVpbnQyNTYgX3dpbmRvdzBFbmRUaW1lLAogICAgdWludDI1NiBfd2luZG93MVN0YXJ0VGltZSwgdWludDI1NiBfd2luZG93MUVuZFRpbWUsCiAgICB1aW50MjU2IF93aW5kb3cyU3RhcnRUaW1lLCB1aW50MjU2IF93aW5kb3cyRW5kVGltZSkKICAgIHB1YmxpY3sKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZXRoZXJQcm9jZWVkc0FjY291bnQpOwogICAgICAgIHdpbmRvdzBTdGFydFRpbWUgPSBfd2luZG93MFN0YXJ0VGltZTsKICAgICAgICB3aW5kb3cwRW5kVGltZSA9IF93aW5kb3cwRW5kVGltZTsKICAgICAgICB3aW5kb3cxU3RhcnRUaW1lID0gX3dpbmRvdzFTdGFydFRpbWU7CiAgICAgICAgd2luZG93MUVuZFRpbWUgPSBfd2luZG93MUVuZFRpbWU7CiAgICAgICAgd2luZG93MlN0YXJ0VGltZSA9IF93aW5kb3cyU3RhcnRUaW1lOwogICAgICAgIHdpbmRvdzJFbmRUaW1lID0gX3dpbmRvdzJFbmRUaW1lOwogICAgfQogICAgZnVuY3Rpb24gYWRqdXN0U3VwcGx5KAogICAgdWludDI1NiBfd2luZG93MFRvdGFsU3VwcGx5LAogICAgdWludDI1NiBfd2luZG93MVRvdGFsU3VwcGx5LAogICAgdWludDI1NiBfd2luZG93MlRvdGFsU3VwcGx5KQogICAgcHVibGljewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBldGhlclByb2NlZWRzQWNjb3VudCk7CiAgICAgICAgd2luZG93MFRvdGFsU3VwcGx5ID0gX3dpbmRvdzBUb3RhbFN1cHBseSAqIDEwKipkZWNpbWFsczsKICAgICAgICB3aW5kb3cxVG90YWxTdXBwbHkgPSBfd2luZG93MVRvdGFsU3VwcGx5ICogMTAqKmRlY2ltYWxzOwogICAgICAgIHdpbmRvdzJUb3RhbFN1cHBseSA9IF93aW5kb3cyVG90YWxTdXBwbHkgKiAxMCoqZGVjaW1hbHM7CiAgICB9CiAgICBmdW5jdGlvbiBhZGp1c3RDYXAoCiAgICB1aW50MjU2IF9wcmVzZXJ2ZWRUb2tlbnMsCiAgICB1aW50MjU2IF93aW5kb3cwVG9rZW5DcmVhdGlvbkNhcCwKICAgIHVpbnQyNTYgX3dpbmRvdzFUb2tlbkNyZWF0aW9uQ2FwLAogICAgdWludDI1NiBfd2luZG93MlRva2VuQ3JlYXRpb25DYXApCiAgICBwdWJsaWN7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGV0aGVyUHJvY2VlZHNBY2NvdW50KTsKICAgICAgICBwcmVzZXJ2ZWRUb2tlbnMgPSBfcHJlc2VydmVkVG9rZW5zICogMTAqKmRlY2ltYWxzOwogICAgICAgIHdpbmRvdzBUb2tlbkNyZWF0aW9uQ2FwID0gX3dpbmRvdzBUb2tlbkNyZWF0aW9uQ2FwICogMTAqKmRlY2ltYWxzOwogICAgICAgIHdpbmRvdzFUb2tlbkNyZWF0aW9uQ2FwID0gX3dpbmRvdzFUb2tlbkNyZWF0aW9uQ2FwICogMTAqKmRlY2ltYWxzOwogICAgICAgIHdpbmRvdzJUb2tlbkNyZWF0aW9uQ2FwID0gX3dpbmRvdzJUb2tlbkNyZWF0aW9uQ2FwICogMTAqKmRlY2ltYWxzOwogICAgfQogICAgZnVuY3Rpb24gYWRqdXN0UmF0ZSgKICAgIHVpbnQyNTYgX3dpbmRvdzBUb2tlbkV4Y2hhbmdlUmF0ZSwKICAgIHVpbnQyNTYgX3dpbmRvdzFUb2tlbkV4Y2hhbmdlUmF0ZSwKICAgIHVpbnQyNTYgX3dpbmRvdzJUb2tlbkV4Y2hhbmdlUmF0ZSkKICAgIHB1YmxpY3sKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZXRoZXJQcm9jZWVkc0FjY291bnQpOwogICAgICAgIHdpbmRvdzBUb2tlbkV4Y2hhbmdlUmF0ZSA9IF93aW5kb3cwVG9rZW5FeGNoYW5nZVJhdGU7CiAgICAgICAgd2luZG93MVRva2VuRXhjaGFuZ2VSYXRlID0gX3dpbmRvdzFUb2tlbkV4Y2hhbmdlUmF0ZTsKICAgICAgICB3aW5kb3cyVG9rZW5FeGNoYW5nZVJhdGUgPSBfd2luZG93MlRva2VuRXhjaGFuZ2VSYXRlOwogICAgfQogICAgZnVuY3Rpb24gc2V0UHJvY2VlZHNBY2NvdW50KGFkZHJlc3MgX25ld0V0aGVyUHJvY2VlZHNBY2NvdW50KQogICAgcHVibGljewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBldGhlclByb2NlZWRzQWNjb3VudCk7CiAgICAgICAgZXRoZXJQcm9jZWVkc0FjY291bnQgPSBfbmV3RXRoZXJQcm9jZWVkc0FjY291bnQ7CiAgICB9CiAgICBmdW5jdGlvbiBzZXRNdWx0aVdhbGxldChhZGRyZXNzIF9uZXdXYWxsZXQpCiAgICBwdWJsaWN7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGV0aGVyUHJvY2VlZHNBY2NvdW50KTsKICAgICAgICBtdWx0aVdhbGxldCA9IF9uZXdXYWxsZXQ7CiAgICB9CiAgICBmdW5jdGlvbiBzZXRQcmVJQ09MaW1pdCh1aW50MjU2IF9wcmVJQ09MaW1pdCkKICAgIHB1YmxpY3sKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZXRoZXJQcm9jZWVkc0FjY291bnQpOwogICAgICAgIHByZUlDT0xpbWl0ID0gX3ByZUlDT0xpbWl0OwogICAgfQogICAgZnVuY3Rpb24gc2V0SW5zdGFudFRyYW5zZmVyKGJvb2wgX2luc3RhbnRUcmFuc2ZlcikKICAgIHB1YmxpY3sKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZXRoZXJQcm9jZWVkc0FjY291bnQpOwogICAgICAgIGluc3RhbnRUcmFuc2ZlciA9IF9pbnN0YW50VHJhbnNmZXI7CiAgICB9CiAgICBmdW5jdGlvbiBzZXRBbGxvd1RyYW5zZmVyKGJvb2wgX2FsbG93VHJhbnNmZXIpCiAgICBwdWJsaWN7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGV0aGVyUHJvY2VlZHNBY2NvdW50KTsKICAgICAgICBhbGxvd1RyYW5zZmVyID0gX2FsbG93VHJhbnNmZXI7CiAgICB9CiAgICBmdW5jdGlvbiBhZGRPd25lcihhZGRyZXNzIG93bmVyKQogICAgcHVibGljewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBldGhlclByb2NlZWRzQWNjb3VudCk7CiAgICAgICAgaXNPd25lcltvd25lcl0gPSB0cnVlOwogICAgICAgIG93bmVycy5wdXNoKG93bmVyKTsKICAgICAgICBPd25lckFkZGl0aW9uKG93bmVyKTsKICAgIH0KICAgIGZ1bmN0aW9uIHJlbW92ZU93bmVyKGFkZHJlc3Mgb3duZXIpCiAgICBwdWJsaWN7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGV0aGVyUHJvY2VlZHNBY2NvdW50KTsKICAgICAgICBpc093bmVyW293bmVyXSA9IGZhbHNlOwogICAgICAgIE93bmVyUmVtb3ZhbChvd25lcik7CiAgICB9CgogICAgZnVuY3Rpb24gcHJlSUNPUHVzaChhZGRyZXNzIGJ1eWVyLCB1aW50MjU2IGFtb3VudCkKICAgIHB1YmxpY3sKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZXRoZXJQcm9jZWVkc0FjY291bnQpOwoKICAgICAgICB1aW50MjU2IHRva2VucyA9IDA7CiAgICAgICAgdWludDI1NiBjaGVja2VkU3VwcGx5ID0gMDsKICAgICAgICBjaGVja2VkU3VwcGx5ID0gc2FmZUFkZCh3aW5kb3cwVG90YWxTdXBwbHksIGFtb3VudCk7CiAgICAgICAgcmVxdWlyZSh3aW5kb3cwVG9rZW5DcmVhdGlvbkNhcCA+PSBjaGVja2VkU3VwcGx5KTsKICAgICAgICBhc3NpZ25Mb2NrZWRCYWxhbmNlKGJ1eWVyLCBhbW91bnQpOwogICAgICAgIHdpbmRvdzBUb3RhbFN1cHBseSA9IGNoZWNrZWRTdXBwbHk7CiAgICAgICAgUHJlSUNPVG9rZW5QdXNoZWQoYnV5ZXIsIGFtb3VudCk7CiAgICB9CiAgICBmdW5jdGlvbiBsb2NrZWRCYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gbG9ja2VkQmFsYW5jZXNbX293bmVyXTsKICAgIH0KICAgIGZ1bmN0aW9uIGluaXRMb2NrZWRCYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gaW5pdExvY2tlZEJhbGFuY2VzW19vd25lcl07CiAgICB9CiAgICBmdW5jdGlvbiB1bmxvY2tCYWxhbmNlKGFkZHJlc3MgX293bmVyLCB1aW50MjU2IHByb2IpCiAgICBwdWJsaWMKICAgIG93bmVyRXhpc3RzKG1zZy5zZW5kZXIpCiAgICByZXR1cm5zIChib29sKXsKICAgICAgICB1aW50MjU2IHNob3VsZFVubG9ja2VkQmFsYW5jZSA9IDA7CiAgICAgICAgc2hvdWxkVW5sb2NrZWRCYWxhbmNlID0gaW5pdExvY2tlZEJhbGFuY2VzW19vd25lcl0gKiBwcm9iIC8gMTAwOwogICAgICAgIGlmKHNob3VsZFVubG9ja2VkQmFsYW5jZSA+IGxvY2tlZEJhbGFuY2VzW19vd25lcl0pewogICAgICAgICAgICBzaG91bGRVbmxvY2tlZEJhbGFuY2UgPSBsb2NrZWRCYWxhbmNlc1tfb3duZXJdOwogICAgICAgIH0KICAgICAgICBiYWxhbmNlc1tfb3duZXJdICs9IHNob3VsZFVubG9ja2VkQmFsYW5jZTsKICAgICAgICBsb2NrZWRCYWxhbmNlc1tfb3duZXJdIC09IHNob3VsZFVubG9ja2VkQmFsYW5jZTsKICAgICAgICBVbmxvY2tCYWxhbmNlKF9vd25lciwgc2hvdWxkVW5sb2NrZWRCYWxhbmNlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHB1YmxpY3sKICAgICAgICBjcmVhdGUoKTsKICAgIH0KICAgIGZ1bmN0aW9uIGNyZWF0ZSgpIGludGVybmFsewogICAgICAgIHJlcXVpcmUoIWlzRmluYWxpemVkKTsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSAwLjAxIGV0aGVyKTsKICAgICAgICB1aW50MjU2IHRva2VucyA9IDA7CiAgICAgICAgdWludDI1NiBjaGVja2VkU3VwcGx5ID0gMDsKCiAgICAgICAgaWYod2luZG93MFN0YXJ0VGltZSAhPSAwICYmIHdpbmRvdzBFbmRUaW1lICE9IDAgJiYgdGltZSgpID49IHdpbmRvdzBTdGFydFRpbWUgJiYgdGltZSgpIDw9IHdpbmRvdzBFbmRUaW1lKXsKICAgICAgICAgICAgaWYocHJlSUNPTGltaXQgPiAwKXsKICAgICAgICAgICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IHByZUlDT0xpbWl0KTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0b2tlbnMgPSBzYWZlTXVsdChtc2cudmFsdWUsIHdpbmRvdzBUb2tlbkV4Y2hhbmdlUmF0ZSk7CiAgICAgICAgICAgIGNoZWNrZWRTdXBwbHkgPSBzYWZlQWRkKHdpbmRvdzBUb3RhbFN1cHBseSwgdG9rZW5zKTsKICAgICAgICAgICAgcmVxdWlyZSh3aW5kb3cwVG9rZW5DcmVhdGlvbkNhcCA+PSBjaGVja2VkU3VwcGx5KTsKICAgICAgICAgICAgYXNzaWduTG9ja2VkQmFsYW5jZShtc2cuc2VuZGVyLCB0b2tlbnMpOwogICAgICAgICAgICB3aW5kb3cwVG90YWxTdXBwbHkgPSBjaGVja2VkU3VwcGx5OwogICAgICAgICAgICBpZihtdWx0aVdhbGxldCAhPSAweDAgJiYgaW5zdGFudFRyYW5zZmVyKSBtdWx0aVdhbGxldC50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgICAgICAgICBDcmVhdGVHYW1lSWNvKG1zZy5zZW5kZXIsIHRva2Vucyk7CiAgICAgICAgfWVsc2UgaWYod2luZG93MVN0YXJ0VGltZSAhPSAwICYmIHdpbmRvdzFFbmRUaW1lIT0gMCAmJiB0aW1lKCkgPj0gd2luZG93MVN0YXJ0VGltZSAmJiB0aW1lKCkgPD0gd2luZG93MUVuZFRpbWUpewogICAgICAgICAgICB0b2tlbnMgPSBzYWZlTXVsdChtc2cudmFsdWUsIHdpbmRvdzFUb2tlbkV4Y2hhbmdlUmF0ZSk7CiAgICAgICAgICAgIGNoZWNrZWRTdXBwbHkgPSBzYWZlQWRkKHdpbmRvdzFUb3RhbFN1cHBseSwgdG9rZW5zKTsKICAgICAgICAgICAgcmVxdWlyZSh3aW5kb3cxVG9rZW5DcmVhdGlvbkNhcCA+PSBjaGVja2VkU3VwcGx5KTsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gdG9rZW5zOwogICAgICAgICAgICB3aW5kb3cxVG90YWxTdXBwbHkgPSBjaGVja2VkU3VwcGx5OwogICAgICAgICAgICBpZihtdWx0aVdhbGxldCAhPSAweDAgJiYgaW5zdGFudFRyYW5zZmVyKSBtdWx0aVdhbGxldC50cmFuc2Zlcihtc2cudmFsdWUpOwogICAgICAgICAgICBDcmVhdGVHYW1lSWNvKG1zZy5zZW5kZXIsIHRva2Vucyk7CiAgICAgICAgfWVsc2UgaWYod2luZG93MlN0YXJ0VGltZSAhPSAwICYmIHdpbmRvdzJFbmRUaW1lICE9IDAgJiYgdGltZSgpID49IHdpbmRvdzJTdGFydFRpbWUgJiYgdGltZSgpIDw9IHdpbmRvdzJFbmRUaW1lKXsKICAgICAgICAgICAgdG9rZW5zID0gc2FmZU11bHQobXNnLnZhbHVlLCB3aW5kb3cyVG9rZW5FeGNoYW5nZVJhdGUpOwogICAgICAgICAgICBjaGVja2VkU3VwcGx5ID0gc2FmZUFkZCh3aW5kb3cyVG90YWxTdXBwbHksIHRva2Vucyk7CiAgICAgICAgICAgIHJlcXVpcmUod2luZG93MlRva2VuQ3JlYXRpb25DYXAgPj0gY2hlY2tlZFN1cHBseSk7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdICs9IHRva2VuczsKICAgICAgICAgICAgd2luZG93MlRvdGFsU3VwcGx5ID0gY2hlY2tlZFN1cHBseTsKICAgICAgICAgICAgaWYobXVsdGlXYWxsZXQgIT0gMHgwICYmIGluc3RhbnRUcmFuc2ZlcikgbXVsdGlXYWxsZXQudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgICAgICAgICAgQ3JlYXRlR2FtZUljbyhtc2cuc2VuZGVyLCB0b2tlbnMpOwogICAgICAgIH1lbHNlewogICAgICAgICAgICByZXF1aXJlKGZhbHNlKTsKICAgICAgICB9CgogICAgfQoKICAgIGZ1bmN0aW9uIHRpbWUoKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIGJsb2NrLnRpbWVzdGFtcDsKICAgIH0KCiAgICBmdW5jdGlvbiB0b2RheSh1aW50IHN0YXJ0VGltZSkgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiBkYXlGb3IodGltZSgpLCBzdGFydFRpbWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGRheUZvcih1aW50IHRpbWVzdGFtcCwgdWludCBzdGFydFRpbWUpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gdGltZXN0YW1wIDwgc3RhcnRUaW1lID8gMCA6IHNhZmVTdWJ0cmFjdCh0aW1lc3RhbXAsIHN0YXJ0VGltZSkgLyAyNCBob3VycyArIDE7CiAgICB9CgogICAgZnVuY3Rpb24gd2l0aERyYXcodWludDI1NiBfdmFsdWUpIHB1YmxpY3sKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZXRoZXJQcm9jZWVkc0FjY291bnQpOwogICAgICAgIGlmKG11bHRpV2FsbGV0ICE9IDB4MCl7CiAgICAgICAgICAgIG11bHRpV2FsbGV0LnRyYW5zZmVyKF92YWx1ZSk7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGV0aGVyUHJvY2VlZHNBY2NvdW50LnRyYW5zZmVyKF92YWx1ZSk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGZpbmFsaXplKCkgcHVibGljewogICAgICAgIHJlcXVpcmUoIWlzRmluYWxpemVkKTsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZXRoZXJQcm9jZWVkc0FjY291bnQpOwogICAgICAgIGlzRmluYWxpemVkID0gdHJ1ZTsKICAgICAgICBpZihtdWx0aVdhbGxldCAhPSAweDApewogICAgICAgICAgICBhc3NpZ25Mb2NrZWRCYWxhbmNlKG11bHRpV2FsbGV0LCB0b3RhbFN1cHBseS0gd2luZG93MFRvdGFsU3VwcGx5LSB3aW5kb3cxVG90YWxTdXBwbHkgLSB3aW5kb3cyVG90YWxTdXBwbHkpOwogICAgICAgICAgICBpZih0aGlzLmJhbGFuY2UgPiAwKSBtdWx0aVdhbGxldC50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgICAgIH1lbHNlewogICAgICAgICAgICBhc3NpZ25Mb2NrZWRCYWxhbmNlKGV0aGVyUHJvY2VlZHNBY2NvdW50LCB0b3RhbFN1cHBseS0gd2luZG93MFRvdGFsU3VwcGx5LSB3aW5kb3cxVG90YWxTdXBwbHkgLSB3aW5kb3cyVG90YWxTdXBwbHkpOwogICAgICAgICAgICBpZih0aGlzLmJhbGFuY2UgPiAwKSBldGhlclByb2NlZWRzQWNjb3VudC50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBzdXBwbHkoKSBjb25zdGFudCBwdWJsaWMgcmV0dXJucyAodWludDI1Nil7CiAgICAgICAgcmV0dXJuIHdpbmRvdzBUb3RhbFN1cHBseSArIHdpbmRvdzFUb3RhbFN1cHBseSArIHdpbmRvdzJUb3RhbFN1cHBseTsKICAgIH0KCiAgICBmdW5jdGlvbiBhc3NpZ25Mb2NrZWRCYWxhbmNlKGFkZHJlc3MgX293bmVyLCB1aW50MjU2IHZhbCkgcHJpdmF0ZXsKICAgICAgICBpbml0TG9ja2VkQmFsYW5jZXNbX293bmVyXSArPSB2YWw7CiAgICAgICAgbG9ja2VkQmFsYW5jZXNbX293bmVyXSArPSB2YWw7CiAgICB9Cgp9'.
	

]
