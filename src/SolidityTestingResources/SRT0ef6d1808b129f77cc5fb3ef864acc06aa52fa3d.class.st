Class {
	#name : #SRT0ef6d1808b129f77cc5fb3ef864acc06aa52fa3d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT0ef6d1808b129f77cc5fb3ef864acc06aa52fa3d >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBjZWkodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuICgoYSArIGIgLSAxKSAvIGIpICogYjsKICB9Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKiBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5LwogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKiBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5LwogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4KICogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS8KICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CgogICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQp9CgovKioKICogQHRpdGxlIFN0YW5kYXJkIEVSQzIwIHRva2VuCiAqCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIGJhc2ljIHN0YW5kYXJkIHRva2VuLgogKiBAZGV2IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKiBAZGV2IEJhc2VkIG9uIGNvZGUgYnkgRmlyc3RCbG9vZDogaHR0cHM6Ly9naXRodWIuY29tL0ZpcnN0Ymxvb2Rpby90b2tlbi9ibG9iL21hc3Rlci9zbWFydF9jb250cmFjdC9GaXJzdEJsb29kVG9rZW4uc29sCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBpbnRlcm5hbCBhbGxvd2VkOwoKCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW19mcm9tXSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CgogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICoKICAgKiBCZXdhcmUgdGhhdCBjaGFuZ2luZyBhbiBhbGxvd2FuY2Ugd2l0aCB0aGlzIG1ldGhvZCBicmluZ3MgdGhlIHJpc2sgdGhhdCBzb21lb25lIG1heSB1c2UgYm90aCB0aGUgb2xkCiAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAqIHJhY2UgY29uZGl0aW9uIGlzIHRvIGZpcnN0IHJlZHVjZSB0aGUgc3BlbmRlcidzIGFsbG93YW5jZSB0byAwIGFuZCBzZXQgdGhlIGRlc2lyZWQgdmFsdWUgYWZ0ZXJ3YXJkczoKICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZnlpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCiAgLyoqCiAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gaW5jcmVtZW50CiAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgKi8KICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXS5hZGQoX2FkZGVkVmFsdWUpOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbCAoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICB9IGVsc2UgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgIH0KICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cgp9CgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKiBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5LwogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPcGVyYXRpb25hbCBvd25lci4KICBhZGRyZXNzIHB1YmxpYyBtYXN0ZXJPd25lciA9IDB4NUQxRUM3NTU4QzhEMWM0MDQwNjkxM2FiNWRiQzBBYmYxQzk2QkE0MjsgIC8vIGZvciBvd25lcnNoaXAgdHJhbnNmZXIgc2VncmVnYXRpb24gb2YgZHV0eSwgaGFyZCBjb2RlZCB0byB3YWxsZXQgYWNjb3VudAoKICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIG5ld093bmVyKTsKCgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgKi8KICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUobWFzdGVyT3duZXIgPT0gbXNnLnNlbmRlcik7IC8vIG9ubHkgbWFzdGVyIG93bmVyIGNhbiBpbml0aWF0ZSBjaGFuZ2UgdG8gb3duZXJzaGlwZQogICAgT3duZXJzaGlwVHJhbnNmZXJyZWQob3duZXIsIG5ld093bmVyKTsKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKY29udHJhY3QgRlRYVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgT3duYWJsZSB7CgogICAgLyogbWV0YWRhdGEgKi8KICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgTkFNRSA9ICJGaW5jb2luIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgU1lNQk9MID0gIkZUWCI7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IFZFUlNJT04gPSAiMC45IjsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBERUNJTUFMUyA9IDE4OwoKICAgIC8qIGFsbCBhY2NvdW50cyBpbiB3ZWkgKi8KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IElOSVRJQUxfU1VQUExZID0gMTAwMDAwMDAwICogMTAqKjE4OwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgRklOVFJVWF9SRVNFUlZFX0ZUWCA9IDEwMDAwMDAwICogMTAqKjE4OwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgQ1JPU1NfUkVTRVJWRV9GVFggPSA1MDAwMDAwICogMTAqKjE4OwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgVEVBTV9SRVNFUlZFX0ZUWCA9IDEwMDAwMDAwICogMTAqKjE4OwoKICAgIC8vIHRoZXNlIHRocmVlIG11bHRpLXNpZyBhZGRyZXNzZXMgd2lsbCBiZSByZXBsYWNlZCBvbiBwcm9kdWN0aW9uOgogICAgYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgRklOVFJVWF9SRVNFUlZFID0gMHg2MzMzNDhiMDFCM2Y1OWM4QTQ0NTM2NUZCMmVkZTg2NWVjYzk0YTBCOwogICAgYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgQ1JPU1NfUkVTRVJWRSA9IDB4RUQyMDBCN0JDNzA0NDI5MGM5OTk5MzM0MWE4MmEyMWM0Yzc3MjVEQjsKICAgIGFkZHJlc3MgcHVibGljIGNvbnN0YW50IFRFQU1fUkVTRVJWRSA9IDB4ZmMwRGQ3N2M2YmQ4ODk4MTlFMzIyRkI3MkQ0YTg2Nzc2YjE2MzJkNTsKCiAgICAvLyBhc3N1bWluZyBGZWIgMjgsIDIwMTggNTowMCBQTSBVVEMoMTUxOTgzNzIwMCkgKyAxIHllYXIsIG1heSBjaGFuZ2UgZm9yIHByb2R1Y3Rpb247IAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgVkVTVElOR19EQVRFID0gMTUxOTgzNzIwMCArIDEgeWVhcnM7CgogICAgLy8gbWluaW11bSBGVFggdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQgdG8gbWFrZSB0aGUgZ2FzIHdvcnRod2hpbGUgKGF2b2lkIG1pY3JvIHRyYW5zZmVyKSwgY2Fubm90IGJlIGhpZ2hlciB0aGFuIG1pbmltYWwgc3Vic2NyaWJlZCBhbW91bnQgaW4gY3Jvd2Qgc2FsZS4KICAgIHVpbnQyNTYgcHVibGljIHRva2VuNEdhcyA9IDEqMTAqKjE4OwogICAgLy8gZ2FzIGluIHdlaSB0byByZWltYnVyc2UgbXVzdCBiZSB0aGUgbG93ZXN0IG1pbmltdW0gMC42R3dlaSAqIDgwMDAwIGdhcyBsaW1pdC4KICAgIHVpbnQyNTYgcHVibGljIGdhczRUb2tlbiA9IDgwMDAwKjAuNioxMCoqOTsKICAgIC8vIG1pbmltdW0gd2VpIHJlcXVpcmVkIGluIGFuIGFjY291bnQgdG8gcGVyZm9ybSBhbiBhY3Rpb24gKGF2ZyBnYXMgcHJpY2UgNEd3ZWkgKiBhdmcgZ2FzIGxpbWl0IDgwMDAwKS4KICAgIHVpbnQyNTYgcHVibGljIG1pbkdhczRBY2N0cyA9IDgwMDAwKjQqMTAqKjk7CgogICAgYm9vbCBwdWJsaWMgYWxsb3dUcmFuc2ZlcnMgPSBmYWxzZTsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIHRyYW5zZmVyRXhjZXB0aW9uOwoKICAgIGV2ZW50IFdpdGhkcmF3KGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgR2FzUmViYXRlRmFpbGVkKGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CgogICAgLyoqCiAgICAqIEBkZXYgQ29udHJ1Y3RvciB0aGF0IGdpdmVzIG1zZy5zZW5kZXIgYWxsIGV4aXN0aW5nIHRva2Vucy4gCiAgICAqLwogICAgZnVuY3Rpb24gRlRYVG9rZW4oYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfb3duZXIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgdG90YWxTdXBwbHkgPSBJTklUSUFMX1NVUFBMWTsKICAgICAgICBiYWxhbmNlc1tfb3duZXJdID0gSU5JVElBTF9TVVBQTFkgLSBGSU5UUlVYX1JFU0VSVkVfRlRYIC0gQ1JPU1NfUkVTRVJWRV9GVFggLSBURUFNX1JFU0VSVkVfRlRYOwogICAgICAgIGJhbGFuY2VzW0ZJTlRSVVhfUkVTRVJWRV0gPSBGSU5UUlVYX1JFU0VSVkVfRlRYOwogICAgICAgIGJhbGFuY2VzW0NST1NTX1JFU0VSVkVdID0gQ1JPU1NfUkVTRVJWRV9GVFg7CiAgICAgICAgYmFsYW5jZXNbVEVBTV9SRVNFUlZFXSA9IFRFQU1fUkVTRVJWRV9GVFg7CiAgICAgICAgb3duZXIgPSBfb3duZXI7CiAgICAgICAgdHJhbnNmZXJFeGNlcHRpb25bb3duZXJdID0gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiB0cmFuc2ZlciB0b2tlbiBmb3IgYSBzcGVjaWZpZWQgYWRkcmVzcwogICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoY2FuVHJhbnNmZXJUb2tlbnMoKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUZWFtIHRva2VucyBsb2NrIDEgeWVhcgogICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMCAmJiBfdmFsdWUgPj0gdG9rZW40R2FzKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3RoaW5nIGlmIGxlc3MgdGhhbiBhbGxvd2VkIG1pbmltdW0gYnV0IGRvIG5vdCBmYWlsCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsgICAgICAgICAgICAgICAgICAgIC8vIGluc3VmZmljaWVudCB0b2tlbiBiYWxhbmNlIHdvdWxkIHJldmVydCBoZXJlIGluc2lkZSBzYWZlbWF0aAogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICAvLyBLZWVwIGEgbWluaW11bSBiYWxhbmNlIG9mIGdhcyBpbiBhbGwgc2VuZGVyIGFjY291bnRzLiBJdCB3b3VsZCBub3QgYmUgZXhlY3V0ZWQgaWYgdGhlIGFjY291bnQgaGFzIGVub3VnaCBFVEggZm9yIG5leHQgYWN0aW9uLgogICAgICAgIGlmICh0aGlzLmJhbGFuY2UgPiBnYXM0VG9rZW4gJiYgbXNnLnNlbmRlci5iYWxhbmNlIDwgbWluR2FzNEFjY3RzKSB7CiAgICAgICAgICAgIC8vIHJlaW1idXJzZSBnYXMgaW4gRVRIIHRvIGtlZXAgYSBtaW5pbWFsIGJhbGFuY2UgZm9yIG5leHQgdHJhbnNhY3Rpb24sIHVzZSBzZW5kIGluc3RlYWQgb2YgdHJhbnNmZXIgdGh1cyBpZ25vcmUgZmFpbGVkIHJlYmF0ZShub3QgZW5vdWdoIGV0aGVyIHRvIHJlYmF0ZSBldGMuKS4KICAgICAgICAgICAgaWYgKCFtc2cuc2VuZGVyLnNlbmQoZ2FzNFRva2VuKSkgewogICAgICAgICAgICAgICAgR2FzUmViYXRlRmFpbGVkKG1zZy5zZW5kZXIsZ2FzNFRva2VuKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgLyogV2hlbiBuZWNlc3NhcnksIGFkanVzdCBtaW5pbXVtIEZUWCB0byB0cmFuc2ZlciB0byBtYWtlIHRoZSBnYXMgd29ydGh3aGlsZSAqLwogICAgZnVuY3Rpb24gc2V0VG9rZW40R2FzKHVpbnQyNTYgbmV3RlRYQW1vdW50KSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG5ld0ZUWEFtb3VudCA+IDApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBwZXIgYm91bmQgaXMgbm90IG5lY2Vzc2FyeS4KICAgICAgICB0b2tlbjRHYXMgPSBuZXdGVFhBbW91bnQ7CiAgICB9CgogICAgLyogT25seSB3aGVuIG5lY2Vzc2FyeSBzdWNoIGFzIGdhcyBwcmljZSBjaGFuZ2UsIGFkanVzdCB0aGUgZ2FzIHRvIGJlIHJlaW1idXJzZWQgb24gZXZlcnkgdHJhbnNmZXIgd2hlbiBzZW5kZXIgYWNjb3VudCBiZWxvdyBtaW5pbXVtICovCiAgICBmdW5jdGlvbiBzZXRHYXM0VG9rZW4odWludDI1NiBuZXdHYXNJbldlaSkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShuZXdHYXNJbldlaSA+IDAgJiYgbmV3R2FzSW5XZWkgPD0gODQwMDAwKjEwKio5KTsgICAgICAgICAgICAvLyBtdXN0IGJlIGxlc3MgdGhhbiBhIHJlYXNvbmFibGUgZ2FzIHZhbHVlCiAgICAgICAgZ2FzNFRva2VuID0gbmV3R2FzSW5XZWk7CiAgICB9CgogICAgLyogV2hlbiBuZWNlc3NhcnksIGFkanVzdCB0aGUgbWluaW11bSB3ZWkgcmVxdWlyZWQgaW4gYW4gYWNjb3VudCBiZWZvcmUgYW4gcmVpbWlidXNlbWVudCBvZiBmZWUgaXMgdHJpZ2dlcnJlZCAqLwogICAgZnVuY3Rpb24gc2V0TWluR2FzNEFjY3RzKHVpbnQyNTYgbWluQmFsYW5jZUluV2VpKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG1pbkJhbGFuY2VJbldlaSA+IDAgJiYgbWluQmFsYW5jZUluV2VpIDw9IDg0MDAwMCoxMCoqOSk7ICAgIC8vIG11c3QgYmUgbGVzcyB0aGFuIGEgcmVhc29uYWJsZSBnYXMgdmFsdWUKICAgICAgICBtaW5HYXM0QWNjdHMgPSBtaW5CYWxhbmNlSW5XZWk7CiAgICB9CgogICAgLyogVGhpcyB1bm5hbWVkIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuZXZlciB0aGUgb3duZXIgc2VuZCBFdGhlciB0byBmdW5kIHRoZSBnYXMgZmVlcyBhbmQgZ2FzIHJlaW1idXJzZW1lbnQgKi8KICAgIGZ1bmN0aW9uKCkgcGF5YWJsZSBwdWJsaWMgb25seU93bmVyIHsKICAgIH0KCiAgICAvKiBPd25lciB3aXRoZHJhd2FsIGZvciBleGNlc3NpdmUgZ2FzIGZlZXMgZGVwb3NpdGVkICovCiAgICBmdW5jdGlvbiB3aXRoZHJhd1RvT3duZXIgKHVpbnQyNTYgd2VpQW10KSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKHdlaUFtdCA+IDApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdCBhbGxvdyB6ZXJvIHRyYW5zZmVyCiAgICAgICAgbXNnLnNlbmRlci50cmFuc2Zlcih3ZWlBbXQpOwogICAgICAgIFdpdGhkcmF3KHRoaXMsIG1zZy5zZW5kZXIsIHdlaUFtdCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2lnbmFsIHRoZSBldmVudCBmb3IgY29tbXVuaWNhdGlvbiBvbmx5IGl0IGlzIG1lYW5pbmdmdWwKICAgIH0KCiAgICAvKgogICAgICAgIGFsbG93IGV2ZXJ5b25lIHRvIHN0YXJ0IHRyYW5zZmVycmluZyB0b2tlbnMgZnJlZWx5IGF0IHRoZSBzYW1lIG1vbWVudC4gCiAgICAqLwogICAgZnVuY3Rpb24gc2V0QWxsb3dUcmFuc2ZlcnMoYm9vbCBiQWxsb3dUcmFuc2ZlcnMpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgYWxsb3dUcmFuc2ZlcnMgPSBiQWxsb3dUcmFuc2ZlcnM7CiAgICB9CgogICAgLyoKICAgICAgICBhZGQgdGhlIGV0aGVyIGFkZHJlc3MgdG8gd2hpdGVsaXN0IHRvIGVuYWJsZSB0cmFuc2ZlciBvZiB0b2tlbi4KICAgICovCiAgICBmdW5jdGlvbiBhZGRUb0V4Y2VwdGlvbihhZGRyZXNzIGFkZHIpIGV4dGVybmFsIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShhZGRyICE9IGFkZHJlc3MoMCkpOwogICAgICAgIHJlcXVpcmUoIWlzRXhjZXB0aW9uKGFkZHIpKTsKCiAgICAgICAgdHJhbnNmZXJFeGNlcHRpb25bYWRkcl0gPSB0cnVlOwogICAgfQoKICAgIC8qCiAgICAgICAgcmVtb3ZlIHRoZSBldGhlciBhZGRyZXNzIGZyb20gd2hpdGVsaXN0IGluIGNhc2UgYSBtaXN0YWtlIHdhcyBtYWRlLgogICAgKi8KICAgIGZ1bmN0aW9uIGRlbEZyRXhjZXB0aW9uKGFkZHJlc3MgYWRkcikgZXh0ZXJuYWwgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKGFkZHIgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgcmVxdWlyZSh0cmFuc2ZlckV4Y2VwdGlvblthZGRyXSk7CgogICAgICAgIGRlbGV0ZSB0cmFuc2ZlckV4Y2VwdGlvblthZGRyXTsKICAgIH0KCiAgICAvKiByZXR1cm4gdHJ1ZSB3aGVuIHRoZSBhZGRyZXNzIGlzIGluIHRoZSBleGNlcHRpb24gbGlzdCBlZy4gdG9rZW4gZGlzdHJpYnV0aW9uIGNvbnRyYWN0IGFuZCBwcml2YXRlIHNhbGVzIGFkZHJlc3NlcyAqLwogICAgZnVuY3Rpb24gaXNFeGNlcHRpb24oYWRkcmVzcyBhZGRyKSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHRyYW5zZmVyRXhjZXB0aW9uW2FkZHJdOwogICAgfQoKICAgIC8qIGJlbG93IGFyZSBpbnRlcm5hbCBmdW5jdGlvbnMgKi8KICAgIC8qCiAgICAgICAgcmV0dXJuIHRydWUgaWYgdG9rZW4gY2FuIGJlIHRyYW5zZmVycmVkLgogICAgKi8KICAgIGZ1bmN0aW9uIGNhblRyYW5zZmVyVG9rZW5zKCkgaW50ZXJuYWwgdmlldyByZXR1cm5zIChib29sKSB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgPT0gVEVBTV9SRVNFUlZFKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmVzdGluZyBmb3IgRmludHJ1WCBURUFNIGlzIDEgeWVhci4KICAgICAgICAgICAgcmV0dXJuIG5vdyA+PSBWRVNUSU5HX0RBVEU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gaWYgdHJhbnNmZXIgaXMgZGlzYWJsZWQsIG9ubHkgYWxsb3cgc3BlY2lhbCBhZGRyZXNzZXMgdG8gdHJhbnNmZXIgdG9rZW5zLgogICAgICAgICAgICByZXR1cm4gYWxsb3dUcmFuc2ZlcnMgfHwgaXNFeGNlcHRpb24obXNnLnNlbmRlcik7CiAgICAgICAgfQogICAgfQoKfQ=='.
	

]
