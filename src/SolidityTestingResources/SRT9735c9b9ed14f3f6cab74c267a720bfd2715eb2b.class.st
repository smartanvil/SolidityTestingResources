Class {
	#name : #SRT9735c9b9ed14f3f6cab74c267a720bfd2715eb2b,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9735c9b9ed14f3f6cab74c267a720bfd2715eb2b >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7Cgpjb250cmFjdCBPd25hYmxlIHsKCiAgLyoqCiAgICogQGRldiBzZXQgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqLwogIGFkZHJlc3MgcHVibGljIG93bmVyID0gbXNnLnNlbmRlcjsKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLgogICAqLwogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsgICAgICAKICAgIG93bmVyID0gbmV3T3duZXI7CiAgfQoKfQoKbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJlcXVpcmUoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzE3OQogKi8KY29udHJhY3QgRVJDMjBCYXNpYyB7CiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4KICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CgogICAgLy8gU2FmZU1hdGguc3ViIHdpbGwgdGhyb3cgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBiYWxhbmNlLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4KICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBAZGV2IEltcGxlbWVudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFyZCB0b2tlbi4KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgaW50ZXJuYWwgYWxsb3dlZDsKCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBiYWxhbmNlc1tfZnJvbV0pOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0pOwoKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgQXBwcm92ZSB0aGUgcGFzc2VkIGFkZHJlc3MgdG8gc3BlbmQgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdG9rZW5zIG9uIGJlaGFsZiBvZiBtc2cuc2VuZGVyLgogICAqCiAgICogQmV3YXJlIHRoYXQgY2hhbmdpbmcgYW4gYWxsb3dhbmNlIHdpdGggdGhpcyBtZXRob2QgYnJpbmdzIHRoZSByaXNrIHRoYXQgc29tZW9uZSBtYXkgdXNlIGJvdGggdGhlIG9sZAogICAqIGFuZCB0aGUgbmV3IGFsbG93YW5jZSBieSB1bmZvcnR1bmF0ZSB0cmFuc2FjdGlvbiBvcmRlcmluZy4gT25lIHBvc3NpYmxlIHNvbHV0aW9uIHRvIG1pdGlnYXRlIHRoaXMKICAgKiByYWNlIGNvbmRpdGlvbiBpcyB0byBmaXJzdCByZWR1Y2UgdGhlIHNwZW5kZXIncyBhbGxvd2FuY2UgdG8gMCBhbmQgc2V0IHRoZSBkZXNpcmVkIHZhbHVlIGFmdGVyd2FyZHM6CiAgICogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGF0IGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcmV0dXJuIEEgdWludDI1NiBzcGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgdG9rZW5zIHN0aWxsIGF2YWlsYWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9CiAgCn0KCi8qKgogKiBAdGl0bGUgTWludGFibGUgdG9rZW4KICogQGRldiBTaW1wbGUgRVJDMjAgVG9rZW4gZXhhbXBsZSwgd2l0aCBtaW50YWJsZSB0b2tlbiBjcmVhdGlvbgogKiBAZGV2IElzc3VlOiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuWmVwcGVsaW4vemVwcGVsaW4tc29saWRpdHkvaXNzdWVzLzEyMAogKiBCYXNlZCBvbiBjb2RlIGJ5IFRva2VuTWFya2V0TmV0OiBodHRwczovL2dpdGh1Yi5jb20vVG9rZW5NYXJrZXROZXQvaWNvL2Jsb2IvbWFzdGVyL2NvbnRyYWN0cy9NaW50YWJsZVRva2VuLnNvbAogKi8KY29udHJhY3QgTWludGFibGVUb2tlbiBpcyBTdGFuZGFyZFRva2VuLCBPd25hYmxlIHsKICBldmVudCBNaW50KGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiBhbW91bnQpOwogIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGJ1cm5lciwgdWludCB2YWx1ZSk7CiAgZXZlbnQgTWludEZpbmlzaGVkKCk7CgogIGJvb2wgcHVibGljIG1pbnRpbmdGaW5pc2hlZCA9IGZhbHNlOwoKCiAgbW9kaWZpZXIgY2FuTWludCgpIHsKICAgIHJlcXVpcmUoIW1pbnRpbmdGaW5pc2hlZCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBtaW50IHRva2VucwogICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdGhhdCB3aWxsIHJlY2VpdmUgdGhlIG1pbnRlZCB0b2tlbnMuCiAgICogQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gbWludC4KICAgKiBAcmV0dXJuIEEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICAqLwogIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgb25seU93bmVyIGNhbk1pbnQgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHRvdGFsU3VwcGx5ICs9IF9hbW91bnQ7CiAgICBiYWxhbmNlc1tfdG9dICs9IF9hbW91bnQ7CiAgICBNaW50KF90bywgX2Ftb3VudCk7CiAgICBUcmFuc2ZlcihhZGRyZXNzKDApLCBfdG8sIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGJ1cm4gdG9rZW5zCiAgICogQHBhcmFtIF9hZGRyIFRoZSBhZGRyZXNzIHRoYXQgd2lsbCBoYXZlIF9hbW91bnQgb2YgdG9rZW5zIGJ1cm5lZC4KICAgKiBAcGFyYW0gX2Ftb3VudCBUaGUgYW1vdW50IG9mIHRva2VucyB0byBidXJuLgogICAqLwogIGZ1bmN0aW9uIGJ1cm4oYWRkcmVzcyBfYWRkciwgdWludCBfYW1vdW50KSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUoX2Ftb3VudCA+IDAgJiYgYmFsYW5jZXNbX2FkZHJdID49IF9hbW91bnQgJiYgdG90YWxTdXBwbHkgPj0gX2Ftb3VudCk7CiAgICBiYWxhbmNlc1tfYWRkcl0gLT0gX2Ftb3VudDsKICAgIHRvdGFsU3VwcGx5IC09IF9hbW91bnQ7CiAgICBCdXJuKF9hZGRyLCBfYW1vdW50KTsKICAgIFRyYW5zZmVyKF9hZGRyLCBhZGRyZXNzKDApLCBfYW1vdW50KTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gc3RvcCBtaW50aW5nIG5ldyB0b2tlbnMuCiAgICogQHJldHVybiBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICovCiAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIG9ubHlPd25lciBjYW5NaW50IHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBtaW50aW5nRmluaXNoZWQgPSB0cnVlOwogICAgTWludEZpbmlzaGVkKCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCmNvbnRyYWN0IFdlYWx0aEJ1aWxkZXJUb2tlbiBpcyBNaW50YWJsZVRva2VuIHsKICAgIAogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIldlYWx0aCBCdWlsZGVyIFRva2VuIjsKICAgIAogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiV0JUIjsKICAgIAogICAgdWludDMyIHB1YmxpYyBkZWNpbWFscyA9IDE4OwoKICAgIC8qKgogICAgICogIGhvdyBtYW55IHt0b2tlbnMqMTBeKC0xOCl9IGdldCBwZXIgMXdlaQogICAgICovCiAgICB1aW50IHB1YmxpYyByYXRlID0gMTAqKjc7CiAgICAvKioKICAgICAqICBtdWx0aXBsaWNhdG9yIGZvciByYXRlCiAgICAgKi8KICAgIHVpbnQgcHVibGljIG1yYXRlID0gMTAqKjc7CgogICAgZnVuY3Rpb24gc2V0UmF0ZSh1aW50IF9yYXRlKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByYXRlID0gX3JhdGU7CiAgICB9CiAgICAKfQoKY29udHJhY3QgRGVjbGFyYXRpb24gewogICAgCiAgICAvLyB0aHJlc2hvbGQgaW4gVVNEID0+IHN0YXR1cwogICAgbWFwcGluZyAodWludCA9PiB1aW50OCkgc3RhdHVzVGhyZXNob2xkOwogICAgCiAgICAvLyBzdGF0dXMgPT4gKGRlcG9zaXRzTnVtYmVyID0+IHBlcmNlbnRhZ2UpCiAgICBtYXBwaW5nICh1aW50OCA9PiBtYXBwaW5nICh1aW50OCA9PiB1aW50KSkgZmVlRGlzdHJpYnV0aW9uOwogICAgCiAgICAvLyBzdGF0dXMgdGhyZXNob2xkcyBpbiBVU0QKICAgIHVpbnRbOF0gdGhyZXNob2xkcyA9IFsKICAgICAgICAwLCA1MDAwLCAzNTAwMCwgMTUwMDAwLCA1MDAwMDAsIDI1MDAwMDAsIDUwMDAwMDAsIDEwMDAwMDAwCiAgICBdOwoKICAgIHVpbnRbNV0gcmVmZXJyYWxGZWVzID0gWzUwLCAzMCwgMjAsIDEwLCA1XTsKICAgIHVpbnRbNV0gc2VydmljZUZlZXMgPSBbMjUsIDIwLCAxNSwgMTAsIDVdOwogICAgCiAgICAKICAgIC8qKgogICAgICogQGRldiBUaGUgRGVjbGFyYXRpb24gY29uc3RydWN0b3IgdG8gZGVmaW5lIHNvbWUgY29uc3RhbnRzCiAgICAgKi8KICAgIGZ1bmN0aW9uIERlY2xhcmF0aW9uKCkgcHVibGljIHsKICAgICAgICBzZXRGZWVEaXN0cmlidXRpb25zQW5kU3RhdHVzVGhyZXNob2xkcygpOwogICAgfQogICAgCiAgICAKICAgIC8qKgogICAgICogQGRldiBTZXQgdXAgZmVlIGRpc3RyaWJ1dGlvbiAmIHN0YXR1cyB0aHJlc2hvbGRzCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldEZlZURpc3RyaWJ1dGlvbnNBbmRTdGF0dXNUaHJlc2hvbGRzKCkgcHJpdmF0ZSB7CiAgICAgICAgLy8gQWdlbnQgLSAwCiAgICAgICAgc2V0RmVlRGlzdHJpYnV0aW9uQW5kU3RhdHVzVGhyZXNob2xkKDAsIFsxMiwgOCwgNSwgMiwgMV0sIHRocmVzaG9sZHNbMF0pOwogICAgICAgIC8vIFNpbHZlckFnZW50IC0gMQogICAgICAgIHNldEZlZURpc3RyaWJ1dGlvbkFuZFN0YXR1c1RocmVzaG9sZCgxLCBbMTYsIDEwLCA2LCAzLCAyXSwgdGhyZXNob2xkc1sxXSk7CiAgICAgICAgLy8gTWFuYWdlciAtIDIKICAgICAgICBzZXRGZWVEaXN0cmlidXRpb25BbmRTdGF0dXNUaHJlc2hvbGQoMiwgWzIwLCAxMiwgOCwgNCwgMl0sIHRocmVzaG9sZHNbMl0pOwogICAgICAgIC8vIE1hbmFnZXJPZkdyb3VwIC0gMwogICAgICAgIHNldEZlZURpc3RyaWJ1dGlvbkFuZFN0YXR1c1RocmVzaG9sZCgzLCBbMjUsIDE1LCAxMCwgNSwgM10sIHRocmVzaG9sZHNbM10pOwogICAgICAgIC8vIE1hbmFnZXJPZlJlZ2lvbiAtIDQKICAgICAgICBzZXRGZWVEaXN0cmlidXRpb25BbmRTdGF0dXNUaHJlc2hvbGQoNCwgWzMwLCAxOCwgMTIsIDYsIDNdLCB0aHJlc2hvbGRzWzRdKTsKICAgICAgICAvLyBEaXJlY3RvciAtIDUKICAgICAgICBzZXRGZWVEaXN0cmlidXRpb25BbmRTdGF0dXNUaHJlc2hvbGQoNSwgWzM1LCAyMSwgMTQsIDcsIDRdLCB0aHJlc2hvbGRzWzVdKTsKICAgICAgICAvLyBEaXJlY3Rvck9mR3JvdXAgLSA2CiAgICAgICAgc2V0RmVlRGlzdHJpYnV0aW9uQW5kU3RhdHVzVGhyZXNob2xkKDYsIFs0MCwgMjQsIDE2LCA4LCA0XSwgdGhyZXNob2xkc1s2XSk7CiAgICAgICAgLy8gRGlyZWN0b3JPZlJlZ2lvbiAtIDcKICAgICAgICBzZXRGZWVEaXN0cmlidXRpb25BbmRTdGF0dXNUaHJlc2hvbGQoNywgWzUwLCAzMCwgMjAsIDEwLCA1XSwgdGhyZXNob2xkc1s3XSk7CiAgICB9CgoKICAgIC8qKgogICAgICogQGRldiBTZXQgdXAgc3BlY2lmaWMgZmVlIGFuZCBzdGF0dXMgdGhyZXNob2xkIAogICAgICogQHBhcmFtIF9zdCBUaGUgc3RhdHVzIHRvIHNldCB1cCBmb3IKICAgICAqIEBwYXJhbSBfcGVyY2VudGFnZXMgQXJyYXkgb2YgcGVjZW50YWdlcywgd2hpY2ggc2hvdWxkIGdvIHRvIG1lbWJlcgogICAgICogQHBhcmFtIF90aHJlc2hvbGQgVGhlIG1pbmltdW0gYW1vdW50IG9mIHN1bSBvZiBjaGlsZHJlbiBkZXBvc2l0cyB0byBnZXQgCiAgICAgKiAgICAgICAgICAgICAgICAgICB0aGUgc3RhdHVzIF9zdAogICAgICovCiAgICBmdW5jdGlvbiBzZXRGZWVEaXN0cmlidXRpb25BbmRTdGF0dXNUaHJlc2hvbGQoCiAgICAgICAgdWludDggX3N0LAogICAgICAgIHVpbnQ4WzVdIF9wZXJjZW50YWdlcywKICAgICAgICB1aW50IF90aHJlc2hvbGQKICAgICkKICAgICAgICBwcml2YXRlCiAgICB7CiAgICAgICAgc3RhdHVzVGhyZXNob2xkW190aHJlc2hvbGRdID0gX3N0OwogICAgICAgIGZvciAodWludDggaSA9IDA7IGkgPCBfcGVyY2VudGFnZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgZmVlRGlzdHJpYnV0aW9uW19zdF1baV0gPSBfcGVyY2VudGFnZXNbaV07CiAgICAgICAgfQogICAgfQogICAgCn0KCmNvbnRyYWN0IERhdGEgaXMgT3duYWJsZSB7CgogICAgLy8gbm9kZSA9PiBpdHMgcGFyZW50CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IGFkZHJlc3MpIHByaXZhdGUgcGFyZW50OwoKICAgIC8vIG5vZGUgPT4gaXRzIHN0YXR1cwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50OCkgcHVibGljIHN0YXR1c2VzOwoKICAgIC8vIG5vZGUgPT4gc3VtIG9mIGFsbCBoaXMgY2hpbGQgZGVwb3NpdHMgaW4gVVNEIGNlbnRzCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyByZWZlcnJhbERlcG9zaXRzOwoKICAgIC8vIGNsaWVudCA9PiBiYWxhbmNlIGluIHdlaSoxMF4oLTYpIGF2YWlsYWJsZSBmb3Igd2l0aGRyYXdhbAogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHByaXZhdGUgYmFsYW5jZXM7CgogICAgLy8gaW52ZXN0b3IgPT4gYmFsYW5jZSBpbiB3ZWkqMTBeKC02KSBhdmFpbGFibGUgZm9yIHdpdGhkcmF3YWwKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwcml2YXRlIGludmVzdG9yQmFsYW5jZXM7CgogICAgZnVuY3Rpb24gcGFyZW50T2YoYWRkcmVzcyBfYWRkcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGFkZHJlc3MpIHsKICAgICAgICByZXR1cm4gcGFyZW50W19hZGRyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfYWRkcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX2FkZHJdIC8gMTAwMDAwMDsKICAgIH0KCiAgICBmdW5jdGlvbiBpbnZlc3RvckJhbGFuY2VPZihhZGRyZXNzIF9hZGRyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBpbnZlc3RvckJhbGFuY2VzW19hZGRyXSAvIDEwMDAwMDA7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IFRoZSBEYXRhIGNvbnN0cnVjdG9yIHRvIHNldCB1cCB0aGUgZmlyc3QgZGVwb3NpdGVyCiAgICAgKi8KICAgIGZ1bmN0aW9uIERhdGEoKSBwdWJsaWMgewogICAgICAgIC8vIERpcmVjdG9yT2ZSZWdpb24gLSA3CiAgICAgICAgc3RhdHVzZXNbbXNnLnNlbmRlcl0gPSA3OwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZEJhbGFuY2UoYWRkcmVzcyBfYWRkciwgdWludDI1NiBhbW91bnQpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGJhbGFuY2VzW19hZGRyXSArPSBhbW91bnQ7CiAgICB9CgogICAgZnVuY3Rpb24gc3VidHJCYWxhbmNlKGFkZHJlc3MgX2FkZHIsIHVpbnQyNTYgYW1vdW50KSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19hZGRyXSA+PSBhbW91bnQpOwogICAgICAgIGJhbGFuY2VzW19hZGRyXSAtPSBhbW91bnQ7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkSW52ZXN0b3JCYWxhbmNlKGFkZHJlc3MgX2FkZHIsIHVpbnQyNTYgYW1vdW50KSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBpbnZlc3RvckJhbGFuY2VzW19hZGRyXSArPSBhbW91bnQ7CiAgICB9CgogICAgZnVuY3Rpb24gc3VidHJJbnZlc3RvckJhbGFuY2UoYWRkcmVzcyBfYWRkciwgdWludDI1NiBhbW91bnQpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoaW52ZXN0b3JCYWxhbmNlc1tfYWRkcl0gPj0gYW1vdW50KTsKICAgICAgICBpbnZlc3RvckJhbGFuY2VzW19hZGRyXSAtPSBhbW91bnQ7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkUmVmZXJyYWxEZXBvc2l0KGFkZHJlc3MgX2FkZHIsIHVpbnQyNTYgYW1vdW50KSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICByZWZlcnJhbERlcG9zaXRzW19hZGRyXSArPSBhbW91bnQ7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0U3RhdHVzKGFkZHJlc3MgX2FkZHIsIHVpbnQ4IF9zdGF0dXMpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHN0YXR1c2VzW19hZGRyXSA9IF9zdGF0dXM7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0UGFyZW50KGFkZHJlc3MgX2FkZHIsIGFkZHJlc3MgX3BhcmVudCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcGFyZW50W19hZGRyXSA9IF9wYXJlbnQ7CiAgICB9Cgp9Cgpjb250cmFjdCBJbnZlc3RvcnMgaXMgT3duYWJsZSB7CgogICAgLy8gaW52ZXN0b3JzCiAgICAvKgogICAgICAgICIweDQxODE1NWIxOWQ3MzUwZjVhODQzYjgyNjQ3NGFhMmY3NjIzZTk5YTYiLCIweGJlYjdhMjlhMDA4ZDY5MDY5ZmQxMDE1NDk2Njg3MGZmMWRkYTQ0YTAiLCIweGE5Y2IxYjhiYTFjOGZhY2I5MjE3MmU0NTkzODlmODBkMzA0NTk1YTMiLCIweGYzZjJiZjliZTBjY2M4ZjI3YTE1Y2NmMThkODIwYzA3MjJlODk5NmEiLCIweGEwZjM2YWM5ZjY4YzFhNDU5NGVmNWNlYzI5ZGM5YjFjYzY3ZjgyMmMiLCIweGMzMTkyNzhjY2E0MDRlM2E0NzliMDg4OTIyZTQxMTdmZWI0Y2VjOWQiLCIweGU2MzNjOTMzNTI5ZDZmZDdjNjE0N2QyYjBkYzUxYmZiZTMzMDRlNTYiLCIweDViZDJjMWYyZjA2YjE2ZTQyN2E0ZWMzYTZiZWVmNjI2M2ZkNTA2ZGEiLCIweDUyYzRmMTAxZDAzNjdjM2Y5OTMzZDBjMTRlYTM4OWU3NGFkMDAzNTIiLCIweGY3YTBkMjE0OWYzMjRhMGI2MDdlYmYyM2RmNjcxYWNjNGU5ZGE2ZDIiLCAiMHgwNDE4ZGY2NjJiYjI5OTQyNjJiYjcyMGQ0NzdlNTU4YTU5ZTE5NDkwIiwiMHhmMGRlNjUyMGUwNzI2YmEzZDg0NjExZjg0ODY3YWE5OTg3MzkxNDAyIiwiMHgxZTg5NTI3NGE5NTcwZjE1MGYxMWFlMGVkODZkZDQyYTUzMjA4YjgxIiwiMHg5NWEyNDdiZWY3MWY2YjIzNGU5ODA1ZDE0OTMzNjZhMzAyYTQ5OGU0IiwiMHg5ZGFhZWFmMzU1ZjY5ZjcxNzZhMDE0NWRmNmQxNzY5ZDdmMTQ1NTNiIiwiMHgwMjkxMzYxODFkODdjNmYwOTc5NDMxMjU1NDI0YjVmYWQ3OGU4NDkxIiwiMHg3ZTFmNTY2OWQ5ZTFjNTkzYTQ5NWM1Y2VjMzg0Y2EzMmFkNGEwOWZjIiwiMHg0NmM3ZTA0ZmRhYWExYTkyOThlNjNjYTJmZDQ3YjAwMDRjYjIzNmJmIiwiMHg1OTMzZmE0ODU4NjNkYTA2NTg0MDU3NDk0ZjBmNjY2MGQzYzE0NzdjIiwiMHg0MjkwMjMxODA0ZGQ1OTk0N2FmZjlmY2VmOTI1Mjg3ZTQ0OTA2ZTdiIiwgIjB4MmZlYWYyMTAxYjNmOTk0M2E4MTU2N2JhZGI1NmUzNzgwOTQ2Y2UzZiIsIjB4NWI2MDJjMzRiYTY0MzkxMzkwOGY2OWE0Y2Q1ODQ2YTA3ZWQzOTE1YiIsIjB4MTQ2MzA4ODk2OTU1MDMwY2UzYmNjNjAzMGJhYjE0MmFmZGRhYTFlNiIsIjB4OWZjNjFiNzU0NTFmYWJmNWI1Yjc4ZTAzYmFjYWY4YmI1OTI1NDFmYyIsIjB4ODdmNzYzNmY3ODU2NDY2YjZjNmJjZTk5OTU3NGE3ODQzODdlMmI3OCIsIjB4MDI0ZGIxZjU2MDMyN2FiNTE3NGYxYTczN2NhZjQ0NmI1NjQ0YzcwOSIsIjB4NzE1YzI0OGU2MjFjYmRiNmYwOTFiZjY1M2JiNGJjMzMxZDJmOWIxZSIsIjB4ZmU5MmEyM2I0OTcxNDBiYTA1NWE5MWFkZTg5ZDkxZjk1ZjhlNTE1MyIsIjB4YzM0MjZlMGUwNjM0NzI1YTYyOGE3YTIxYmZkNDkyNzRlMWYyNDczMyIsIjB4YjEyYTc5YjlkYmE4YmJiOWVkNWUzMjk0NjZhOWMyNzAzZGEzOGRiZCIsIjB4NDRkODMzNjc0OWViZjU4NGE0YmNkNjM2Y2VmZTgzZTZlMGIzM2U3ZCIsIjB4ODljOTE0NjBjM2JkYzE2NDI1MGU1YTI3MzUxYzc0M2MwNzBjMjI2YSIsIjB4ZTA3OThhMWI4NDdmNDUwYjVkNDgxOTA0M2QyN2EzODBhNDcxNWFmOCIsIjB4ZWFjNWU3NTI1MmQ5MDJjYjdmODQ3M2U0NWZmZjljZWIzOTFjNTM2YiIsIjB4ZWE1M2U4ODg3NmE2ZGEyNTc5ZDgzN2E1NTliMzFiMDhkNjc1MDY4MSIsIjB4NWRmMjJmYWMwMGM0NWVmN2I1YzI4NWM1NGEwMDY3OThmNDJiYmM2ZSIsIjB4MDk4OTlmMjAwNjRiNWU2N2QwMmY2YTk3ZWY0MTI1NjQ5NzdlZTE5MyIsIjB4YzU3MmYxOGQwYTRhNjVmNmU2MTJlNmRlNDg0ZGJjMTViODgzOWRmMyIsIjB4Mzk3Yjk3MTllNzIwYzBkMzNmZTdkY2MwMDQ5NThlNTY2MzZjYmY4MiIsIjB4NTc3ZGU4M2I2MDI5OWRmNjBjYzdmY2U3YWM3OGQzYTVkODgwYWE5NSIsICIweDlhNzE2Mjk4OTQ5YjE2YzQ2MTBiNDBiYTFkMTllOTZkMzI4NmMzNWMiLCIweDYwZWY1MjNmMzg0NWUzOGEyMGI2MzM0NGE0ZTllYzY4OTc3M2VhZDYiLCIweGUzNDI1MmUzZWZlMDUxNGM1ZmI3NmM5ZmIzOWZmMzFmNTU0ZDY2NTkiLCIweGJhYmZiZGY0ZjQyMmQzNmMwMGU0NDhjYzU2MmNlMGY1ZGJlNDdkNjQiLCIweDI2MDhjY2E0YWZmNGNjMzAwOGFjNmJkMjJlMDY2NDM0OGVjZWUwODgiLCIweDBkZDFkMzEwMmY4OWQ0ZWU3YzI2MDA0OGNiZTAxOTMzZjE3ZGViZGUiLCIweGRiYjI4ZmFmYzRlY2Q3NzM2MjQ3YWNhN2RjOGUyMDc4MmNhODZhN2EiLCIweDYyMDFmYzQxM2JiOTI5MjUyNzk1NmE3MGU3NTc1NDM2ZDUxMzVjZTEiLCIweGE4MzZmNGNmYjhmZDNlNWJjY2M5YzdhNmE2NzhmMmE1OTI4YjdjNzkiLCIweDg1ZGNlNzk5ZmQwNTlkODZjNDIwZWI0ZTNjMWJkODllMzIzYjdiMTIiLCIweGRlZjIwODZjNmJiZGM4YjBmNmUxMzA5MDdmMDUzNDViNDRhZjhjYzMiLCIweGMxMDA0Njk1Y2UwN2VmNWVmYjFkMjE4NjcyZTVjZmNiNjU5YzU5MDAiLCIweDIyN2E1YjRiYjRjZmZjMmI5MDdkOWY1ODZkZDEwMDk4OWVmZWVlNTYiLCIweGQzNzJiM2Q0M2JhOGVhNDA2ZjY0ZGJjNjhmNzBlYzgxMmU1NGZiYzgiLCIweGRmNmM0MTdjZGIyN2JjMGM4NzdhMGUxMjFhMmM1OGFkODg0ZTg1YzYiLCIweDA5MGY0ZDUzYjVkN2ViY2I4ZTM0ODcwOWNkYjcwOGQ4MGNkMTk5ZjAiLCIweDI0OTliMzAyYjZmNWU1N2Y1NGMxYzdhMzI2ODEzZTNkZmZkZGNkMWEiLCIweDMxMTQwMjRhMDM0NDQzZTk3MjcwNzUyMmQ5MTFmYzcwOWY2MmRkM2UiLCIweDMwYjg2NGY0OWNlZjUxMGIxMTczYTViZmMzMWU3N2IwYjU5ZGFmOWUiLCIweDlhOTY4MGY1ZGRlZTZjZWY5NmVmMzZhYjUwNmY0YjZkMzE5OGMzNWUiLCIweDA4MDE4MzM3YjliMTM4YjYzMWNkMzI1MTY4YzNkNTAxNGRmNmUxOGIiLCIweDJhYzM0NWE0ZWMxNjE1YzNhMjM2MDk5ZWJiZWQ0OTExNjczYmJmYTUiLCIweDJiOWZkNTQ4MjhjZDQ0M2I3YzQxMTQxOWIwNThiNDRiZDAyZmRjNDkiLCIweDIwODcxM2E2MzQ2MGQ0NGU1YTgzYWU4ZThmNzMzMzQ5NmEwNTA2NWUiLCIweGU0MDUyZWI3YmE4ODkxZWU3Y2NkNzU1MWZhYWE1ZjRjNDIxOTA0ZTciLCIweDc0YmM5ZGIxYWM4MTNkYjA2Zjc3MWJjZmYzNTllOTIzN2IwMWM5MDYiLCIweDAzM2RkMDQ3YTA0MmVhODczY2EyN2FmMzZiNjRjYTU2NmEwMDZlOTciLCIweGI0NzIxODA4YTNmMjgzMGExNzA4OTY3MzAyNDQzYjUzZjU5NDM0MjkiLCIweGM5MWZiYjgxNWMyZjQ5NDRkOGM2ODQ2YmU2YWMwZTMwZjVhMDM3ZGYiLCIweDE5ZWY5NDdjMjc2NDM2YWMxMWE4YmUxNTU2NzkwOWEzN2Q4MjRlNzMiLCIweDA3OWVlZmQ2OWM1YTRjNWU0YzllZTNmYTA4YzJhMjk2NGRhM2UxMWEiLCIweDExZmI2NGJlMjk2NTkwZjk0OGQ1NmRhYWI2YzJkMTAyYzk4NDJiMDgiLCIweDA2ZWM5N2ZlYWViMGY0YjlhNzVmOTY3MWQ2YjYyYmZhZGFmMThkZGQiLCIweGFlZGEzY2ZmNDUwMzI2OTVmYjJjZjRmNTg0Y2RhODIyYmQ1ZDhiN2UiLCIweDlmMzc3MDg1ZDNkYTg1MTA3Y2Q2OGJkMDhiZGQ5YTFiODYyZDQ0ZTAiLCIweGI0NmI4ZDFjMzEzYzUyZmQ0MjJmZTE4OWRkZTFiNGQwODAwYTVlMGYiLCIweDk5MDM5ZmEzNDUxMGM3MzIxZjRkMTllYTMzN2M4MGNjMTRjYzg4NWQiLCIweDM3OGFiYTBmNDdjNzc5MGVkMGU1Y2E2MTc0OWIwMDI1ZDEyMDhhNWQiLCIweDQzOTVlMWRiOTNkNGUyZjQ1ODNhNGY4NzQ5NGViMGFlYTA1N2I4ZmQiLCIweGE0MDM1NTc4NzUwNTY0ZTQ4YWJmYjViYTFkNmVlYzFkYTFiZjM2NmYiLCIweGI2MTFiMzllYjZjMTZkYWUzNzU0ZTUxNGRkZDVmMDJmY2FkZDc2NWYiLCIweDY3ZDQxNDkxZGRjMDA0ZTg5OWEzZmFmMTA5ZjUyNmNkNzE3ZmU2ZDgiLCIweDU4ZTJjMTA4NjVmOWExNjY4ZTgwMGM5MWI2YTNkN2IzNDE2ZmIyNmMiLCIweDA0ZTM0MzU1Y2VkOWQ1MzJjOWJjMDFkNWU1NjlmMzFiNmQ0NmNkNTAiLCIweGY4MDM1OGNhYmRjOWI5Yjc5NTcwYjZmMDczYTg2MWNmNTU2N2JiNTciLCIweGJkYWNiMDc5ZmMxN2EwMGQ5NDVmMDFmNGY5YmQ1ZDAzY2ZjZDViNmMiLCIweDM4N2E3MjMwNjBiYzQyYTc3OTZjNzYxOTdkMmQzYjQxYjRjNDNkMTkiLCIweGEwNGNjOGZjNTZjMzRhYjgxMDRmNjNjMTFiZjIxMWRlNGJiN2IwYWEiLCIweDNiZjhiNWVkZTc1MDE1MTlkNDE3OTI3MTUyMTU3MzVkOGY0MGFmMTAiLCIweDZjM2ExM2JhYzVjZjYxYjE5Mjc1NjJhOTI3ZTg5Y2E2YjVkMDM0ZDYiLCIweDk4OTlhZWNlZjE1ZGU0M2VlYzA0ODU5YmU2NDlhYzRjNTAzMzA4ODYiLCIweGE0ZDI1YmFjOTcxY2EwOGI0N2E5MDhhMDcwYjYzNjIxMDIyMDZjMTIiLAogICAgICAgICIweGY4OGQ5NjNkYzNmNThmZTZlNzE4Nzk1NDNlNTc3MzRlODE1MmY3MGQiLCIweDdiMzBhMDAwZjdhZTU2ZWU2MjA2Y2JkOWZiMjBjOTM0YjRiYmI1ZDEiLCIweGIyZjBlNTMzMGU5MDU1OWE3MzhlZGEwZGYxNTY2MzVlMThhMTQ1ZmQiLCIweDViMmMwN2I2Y2NlNTA2ZjIyOTNmMWIzMmRjMzNkOTkyOGI4YzlhZGEiLCIweDVhOTY3YzBlMzhjYjNiZmFkOTBkZjI4OGNlMjM4Njk5Y2M0N2I1ZTMiLCIweDBlNjg2ZDZmM2M4OTdjYWUzOTg0YjgwYjVmNmE3Yzc4NWM3MDg3MTgiLCIweGE4ZWEwYjZiYzcwNTAyNjQ0YzA2NDRmYjRjMDgxMDU0MGExZmEyNjEiLCIweGM3MGUyNzg4MTllZjVhZWM2YjNlZGVkYzIxZTI5ODE1NTdlMTQ0NDMiLCIweDQ3N2I1YWUzMmZmY2QzNGViMjVmMGM1Mjg2NmQ0ZjYwMjk4MmRjNmYiLCIweDNlNzJhNDVmYmM2YTA4NThiNTA2YTBjN2JlZGZmNzlhZjc1YWUzN2MiLCIweDE0MzBlMjcyYTUwNzAzZWY0NmQ4ZWQ1YWEwMWUxY2VkNzEyNDUzNDEiLCIweGM4N2QwYmI5MGE2MTA1YTY2ZmQ1MTA1YzY3NDYyMThkMzgxYjgyMDciLCIweDBlZDdmOThiNjE3N2QwYzE1ZTI3NzA0ZjJiYWU0ZDA2OGI4NTk0ZDUiLCIweDA5YTYyN2I1Nzg3OWViNjI1Y2Q4YjdjNTlmZmEzNjMyMjI1NTNjMjMiLCIweDBmZGJjNDEwNDY1OTBlZjdlZTJhNzNiOTgwOGZkNWJkN2UxODlhYzQiLCIweDZhNGI2OGFmNjdhM2I0YTk4ZmUxYTU5MjEwZGQzZDc3NWU1Njc3MjkiLCIweDQ0MmEzZGFmNzc0MzI5ZmVlM2U5MDRlODZkZGVjMTE5MWY0YmUzY2UiLCIweDllZmE4ZmU3ZmE1MWM4YjM2YWI5MDIwNDZmODc5YjAzNTUyMGY1NTYiLCIweDUxMGU4ZTU4YjhjZTRhY2FhNjg2NmU1OWRmYzBmYTMzOWVhMzU4ZTUiLCIweDM3NDgzMTI1MTI4M2FhNjNhZWU2NTA2YWM2NTgwNDc5YWFmM2MyMmIiLCIweGY3NThjNDk4ZDAyMGMwYjkyZjIxMTZkMDlkN2VmNjUwOWMyYzcxYmQiLCIweGQ4M2U4MjgxZmZjZmIwZmY5NjIzNmU5OWJhNjZhYWJiOGRjYzc5MjAiLCIweDM2NzBjM2E1ZTY1Yjc1N2RiOGM4MmIxMmRkOTIwNTdhYzE5ZDQxZmEiLCIweGZkMjhlYjdlM2U1ZTM0MDZjZTZiODIwNDVkNDg3YzJiZTI5NGNkMzgiLCIweDJkMjNjZDQ5MjA5NmI5MDNlNDU5NWNjZGFjNzRlNDk2OTJhNmVhOGUiLCIweDk0ZDNhMGExOWVkNTQ0ODA1MmM1NDlmZDFmNjlmNTRjNWYxZmQ4YzUiLCIweDhlNTM1NGFjNTljZWUwOWQyNTJlMzc5YTM1MzQwNTMzMDYwMjJlYmUiLCIweGE2NmYzNzAwZGRhMDE0N2M1NmMyOTcwMjAyNzY4Yzk1NmM2NDRmZmQiLCIweGYxMWQzMmJhZWY2MjIxZjM2OTE2YzU4ODQ0Y2Q4ZTk4MTNjMGFmNDciLCIweDM4NGE5YmMxZGUyM2IzNmMyYTIzYjk2M2U1N2M4Y2Q4NWIwZDU5MmMiLCIweGJkMDBkZmJhYWExYWJhYTc5NDhjN2IyYTZiZWQ2ZTY0NDI5M2NjMWMiLCIweGE5OWEyOGFmY2JkNGFiMDlhMmVmMmMwOTMyYmVjZDAzNjgyMjVlZTYiLCIweGU1NTQwODRkNzdiYzZlNTEwZWVkNzI3NmNiNjAzMzg2NTM3NWI2NjkiLCIweGU3NTgyZmE1MzUzMTkxNWEyZmVmNWE4MWI5ODk2OWQwMDkxZDhkNDQiLCIweDVmMTVkYjFkMjA5ZmE2ZmQzYzY2N2ZiMDg2ZDNkODllMzc5MzUxMWYiLCIweDdlOWZmNTM0OGQ1N2QzNDI3ZTI0YjdlMTA0YWQ1YWNmMDM5ZWRhZjIiLCIweGI0ZmIxYTAxNDgzNDU0ZDc1YTBjZGZhOTgzYjk5MjM2YzRjOTExMTEiLCIweDRhN2NjNWVlYmZlMDE5ZWZhYjA2YzFmYTlhZTg0NTNkYzYzYmE4NGUiLCIweGI2ZmMwOGQ1MDQzYjUxYWMwNWNkYmQ4OGFmYWFiMGU0NDIyNzYyZDAiLCIweGIxODM2NWY0ZjFlOTUyODdhNWY4NWM4YTY3Y2ViZWU5ZTYxNjRjMzEiLCIweGFmNTc1Y2ZiOTRkNjVlYWVhYWNlNzQ5ODY4MjgyZDBlMjZlNDYwOGEiLCIweDNkMDdlNWZmM2EyZDI5ZWUxNzU4NGRmZjYwY2M5OWJiNGNkNzljM2QiLCIweDA4ZjBhZmM5M2ZiYzgxODgxNTBmNGJjYWIwMDRlMjU5Y2Q0Nzg1YWEiLCIweDY1YWMzZWQ4MWYxMDFlNTY1MWM3MmM0Y2MyZDc0NjUwMzc4YjViMGMiLCIweDU4YWVmNGZjNmI1NGNiNTM2ODNhNjQ4MTY1NTAyMTEwOWI4ZDRkY2UiLCIweDZhYTQzZTI0NjA0NTc3NTc0YTA2MzI1MjRhMWY0YzIxZDcwYTYxZTIiLCIweGJlZTU1YWE1YWQ5OTUzMjk0ZWNhYzgzYTZiNjJmMTBjODE1NTQ0NGIiLCIweDk5ZGM4ODVhYzZlYzk4NzNlMjQwOWQ1YTMxZTdmNTI1YzE4OTdlMDkiLCIweDUzYTA2MjIwMzQ2ODBkNjRiZDBmMTM5ZGY1ZTk4OWQ3MGIxOTRhNGQiLCIweGE2YmE0OTY2ZjFmZGQwZTg1NjA1MTZlNTM0OTBiMjVjZjBjNGZiZDEiLCIweGJkMWI5NWVlNDYyMWVjZGE0MTk2MWRhNjEyNzdlMTdlNTJmMzdkYmYiLCIweGY2NDgxYjg4MWVlYTUyNmFlMzZjYmUxMWQ1OGQ2NDFmOTZmMDRhNzciLCIweGQxNThkNTNkNzVlYWMwZGRhOWQyZGVkZjM0MThkMDcxYTJmZDQ0ZWUiLCIweGIyMjY5N2UzZjMzNTQ0ZGE3NzgyYzgxOTdkMDc3MDRlMTkwNmEzYmYiLCIweGEzMjM3ZTY3ZGY0MDlkY2E0NTkzMGMxZjVmNjcxMjUxYWRjMjAyYmUiLCIweDcyYjI2ZjJkZGVkNzUzYTAxZjM5MTMyMmIwMGY5YTg1YTc3YzdmZGEiLCIweDIwM2ZiZjNhNzdiZGYzNWY3YWNhMjIwYjM2MzI3Mjg5NmRiOTFkNTciLCIweGIxYmUyZjRkNzJlYjg3ZGZjZjdlZDkzYzhlYzE2ZTQwNDBlNTI1NjAiLCIweGM2MGQ4YTAzMTNlZGUyMjE5NGViZTYyODU0NzFmNzJmOWJjZGNkYTAiLCIweDk4ODhlNzQyM2VhNDg0MTNhNGM5MGExMGM3NmNhNWY5MGQwNjVlMWYiLCIweDBiZTg1Njc2OGFkMGVjNWI0NTQ2NGNlNTIwMmUyYzMzNzIyNGNlYmYiLCIweDNiNTRlYTAwYTc0YjExNjUxMGM0ZjczYTNmYzE5YTYyOTkxYWFmNjQiLCIweGU3MmFhMDZmZmU3MDU4ZjczNjIyZjIxOWFmMTY0MzY5YzAzZTNhNDEiLCIweDdlNzFmYWRhMDE3ZDlhZjQ1NWYzOGRiNDk1N2Q1MjdmNTFmZTFiYzUiLCIweDc4NDMwZTU4OTM0MjIwZjM3Y2E2YjlkYmU2MjJmMDc2YWQwZWIzZjUiLCIweDQ2YjU1ZGQxYzgxODdmMTdiNjU5OTQ4YTk5MWFkYWM3YjQyNmI3MWUiLCIweDBjNzY1ZTIwMWJiNDNkNDlhYjViNDRkNDBkM2NmMWQyMTk0MjQ4MjEiLCIweDQ3MzlkMjUxYjQwMDI4NzYxYmJkODAzNGEyMTkxOWQ5MjZmMjNiNDUiLCIweDAwYTdjN2JjNzEwMjIwMzJmNmVmM2Y2OTliMjEyYzk0NTA4NzU3NDAiLCIweDBkNGY1MGIwZDQzZDM0YTE2M2I4ZGQ3YzMzZmJjYzkyYTE5Y2ZhNTkiLCIweDkyODRmYmMwY2MzNWQ5YjgzNWRlMmIwMGI2YjcwOTMwNzU1MjdmNmIiLCIweDM1NjRlMTAxYjMyZmU1ZjNjOTllOGRhODIzYWMwMDMzNzNjMjZkMzMiLCIweGY1YTM1OGYyMjhkYzk2NGZhN2M3MDNjYjZhZDlmNjAwMmNlNzdiMTciLCIweDgyOTdhMDliNWRhYzllNjA4OTZjNzg3ZjA5OTVhYzA2NDQxYWIxNGYiLCIweGVkOGM5YjRmZDYwYTZlNGFlNjZjMzhmNTgxOWNmZmIzNjBhZjVkZDUiLCIweDIzMDA5ZGU0ZWM0YTY2NmJhNzE5NjU2ZDg0NGU0MmUyNjRlMTRjNmIiLCIweDYzMjI3ZjQ0OTJjNmJiZDllMTAxNWYyYzg2NGEzMWVlZjE0NjVjZDMiLCIweGYzZTBlYzQwOTM4NmVhMjAyYjE1ZDk3YmI4ZGQyZDEzMTkxN2UzYjEiLCIweDk4MTE1NGZhZmIzYTVhZWVlNDNkOTg0ZWUyNTVlNTEyMWNlNzk3OTAiLCIweDQ5YTQ1OThjZGYxMTJiNTg0OGMxMWM0NjVkMzk5ODlmY2I1Y2I2YzEiLCIweDU3NWNhMDNmMDBmOWU1NTY2ZDg1ZGMwOTUxNjU5OTg5NTNhYjA3NTMiLCIweDA5ZDg3ZjI5NzljNGFjNmM5ZDQwNzdkMWY1ZDk0Y2I5YWFkZjQzY2EiLCIweDBiNDU3NTg2Nzc1N2IzOTgyMzc5ZjRkMDVjOTJmZDJkMDE5MjQ3YTAiLCIweDhjNjY2ZDQwZTJhYzk2MTg4NWQ2NzVlNThlMzExNWI4NTlkYWM2YzEiLCIweDM0YTM0MDFlYmU4NDMxZDQ0ZWZlZTk5NDhjNGI2NDExNDI0MDdhYTgiLCIweDE2ODM1MTJkYmNjZTE4OWVhNjA0Mjg2MmEyYmE0YWJkNDg4NjYyM2IiLCIweDcyZDQ1ZjczMzMzNmY2ZjAzZWYyMGMxYWQ0ZjUxZmY2YjdmOTAxODYiLCIweDU2OWZlMDEwZmUyZDQwMDM3YzAyOTUzN2VlZjc4YWE5YjBlMDE4ZjkiLCIweDA2MWRlZjlmYWIzYWVlNDE2MTcxMWQ0YzA0MGQxMzhhMjczODkzYjUiLCIweGU3N2UyYWU2N2UxMTUyNDI1Yzc1ZmY1NjI5MWQwM2Q5MmY1ZDNjYWQiLCIweDkzZWJkZWIwYjBjOTY3ZjVjYzFhMTBmNDgxNTY5ZTE4NzFiN2Q3Y2QiLCIweDZkNzkxMGY5MDBmYzNlM2YyZTJiNmQ1ZDhhYWQ0M2JjNmEyMzI2ODUiLAogICAgICAgICIweGIxNmUyOGJlMzAwZjU3OWE4MWYyYjgwZmRkNWE5NWNmMTY4YmYzYTQiLCAiMHhkNjk4MzVkYWVlZTAxNjAxZWE5OTFlZmU5ZmQwMzA5YzY0YzA3ZDQyIiwgIjB4MzBiNDVlZDY5MjUwYTE2MGVlOTFkYWRhYjI5ODZkMjE2MjZkN2Y0YiIsICIweGQyODA3NTQ4OWRhNWY5ZWY1MWJjYzYxNjY4YzExNDI5NmE4ZTg2MDMiCiAgICAqLwogICAgYWRkcmVzc1tdIHB1YmxpYyBpbnZlc3RvcnM7CgogICAgLy8gaW52ZXN0b3IgYWRkcmVzcyA9PiBwZXJjZW50YWdlICogMTBeKC0yKQogICAgLyoKICAgICAgICAzMzEzLDE1MDAsNTEwLDQ2Miw0NTMsMzAyLDI1MCwyNTAsMjI2LDIyMCwxNTAsMTI5LDEwMCwxMDAsNjAsNTUsNTAsNTAsNTAsNTAsNTAsNTAsNTAsNTAsNTAsNDAsNDAsMzAsMjcsMjYsMjUsMjUsMjUsMjUsMjUsMjUsMjUsMjUsMjMsMjAsMTUsMTUsMTUsMTUsMTUsMTUsMTQsMTQsMTMsMTMsMTMsMTMsMTIsMTIsMTEsMTEsMTEsMTEsMTEsMTEsMTAsMTAsMTAsMTAsMTAsMTAsMTAsMTAsMTAsOSw5LDgsOCw4LDgsNyw2LDYsNiw2LDYsNiw2LDYsNiw2LDYsNiw2LDUsNSw1LAogICAgICAgIDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw0LDMsMywzLDMsMywzLDMsMywzLDMsMywzLDMsMywzLDMsMywzLDMsMywzLDMsMywzLDMsMywzLDIsMSwKICAgICAgICA2LDYsMTI1LDUwCiAgICAqLwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50KSBwdWJsaWMgaW52ZXN0b3JQZXJjZW50YWdlczsKCgogICAgLyoqCiAgICAgKiBAZGV2IEFkZCBpbnZlc3RvcnMKICAgICAqLwogICAgZnVuY3Rpb24gYWRkSW52ZXN0b3JzKGFkZHJlc3NbXSBfaW52ZXN0b3JzLCB1aW50W10gX2ludmVzdG9yUGVyY2VudGFnZXMpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IF9pbnZlc3RvcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaW52ZXN0b3JzLnB1c2goX2ludmVzdG9yc1tpXSk7CiAgICAgICAgICAgIGludmVzdG9yUGVyY2VudGFnZXNbX2ludmVzdG9yc1tpXV0gPSBfaW52ZXN0b3JQZXJjZW50YWdlc1tpXTsKICAgICAgICB9CiAgICB9CgoKICAgIC8qKgogICAgICogIEBkZXYgR2V0IGludmVzdG9ycyBjb3VudAogICAgICogIEByZXR1cm4gdWludCBjb3VudAogICAgICovCiAgICBmdW5jdGlvbiBnZXRJbnZlc3RvcnNDb3VudCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIGludmVzdG9ycy5sZW5ndGg7CiAgICB9CgoKICAgIC8qKgogICAgICogIEBkZXYgR2V0IGludmVzdG9ycycgZmVlIGRlcGVuZGluZyBvbiB0aGUgY3VycmVudCB5ZWFyCiAgICAgKiAgQHJldHVybiB1aW50OCBUaGUgZmVlIHBlcmNlbnRhZ2UsIHdoaWNoIGludmVzdG9ycyBnZXQKICAgICAqLwogICAgZnVuY3Rpb24gZ2V0SW52ZXN0b3JzRmVlKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4KSB7CiAgICAgICAgLy8wMS8wMS8yMDIwCiAgICAgICAgaWYgKG5vdyA+PSAxNTc3ODM2ODAwKSB7CiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgIH0KICAgICAgICAvLzAxLzAxLzIwMTkKICAgICAgICBpZiAobm93ID49IDE1NDYzMDA4MDApIHsKICAgICAgICAgICAgcmV0dXJuIDU7CiAgICAgICAgfQogICAgICAgIHJldHVybiAxMDsKICAgIH0KCn0KCmNvbnRyYWN0IFJlZmVycmFsIGlzIERlY2xhcmF0aW9uLCBPd25hYmxlIHsKCiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgICAvLyByZWZlcmVuY2UgdG8gdG9rZW4gY29udHJhY3QKICAgIFdlYWx0aEJ1aWxkZXJUb2tlbiBwcml2YXRlIHRva2VuOwoKICAgIC8vIHJlZmVyZW5jZSB0byBkYXRhIGNvbnRyYWN0CiAgICBEYXRhIHByaXZhdGUgZGF0YTsKCiAgICAvLyByZWZlcmVuY2UgdG8gaW52ZXN0b3JzIGNvbnRyYWN0CiAgICBJbnZlc3RvcnMgcHJpdmF0ZSBpbnZlc3RvcnM7CgogICAgLy8gaW52ZXN0b3JzIGJhbGFuY2UgdG8gYmUgZGlzdHJpYnV0ZWQgaW4gd2VpKjEwXigyKQogICAgdWludCBwdWJsaWMgaW52ZXN0b3JzQmFsYW5jZTsKCiAgICAvKioKICAgICAqICBob3cgbWFueSBVU0QgY2VudHMgZ2V0IHBlciBFVEgKICAgICAqLwogICAgdWludCBwdWJsaWMgZXRoVXNkUmF0ZTsKCiAgICAvKioKICAgICAqIEBkZXYgVGhlIFJlZmVycmFsIGNvbnN0cnVjdG9yIHRvIHNldCB1cCB0aGUgZmlyc3QgZGVwb3NpdGVyLAogICAgICogcmVmZXJlbmNlIHRvIHN5c3RlbSB0b2tlbiwgZGF0YSAmIGludmVzdG9ycyBhbmQgc2V0IGV0aFVzZFJhdGUKICAgICAqLwogICAgZnVuY3Rpb24gUmVmZXJyYWwodWludCBfZXRoVXNkUmF0ZSwgYWRkcmVzcyBfdG9rZW4sIGFkZHJlc3MgX2RhdGEsIGFkZHJlc3MgX2ludmVzdG9ycykgcHVibGljIHsKICAgICAgICBldGhVc2RSYXRlID0gX2V0aFVzZFJhdGU7CgogICAgICAgIC8vIGluc3RhbnRpYXRlIHRva2VuICYgZGF0YSBjb250cmFjdHMKICAgICAgICB0b2tlbiA9IFdlYWx0aEJ1aWxkZXJUb2tlbihfdG9rZW4pOwogICAgICAgIGRhdGEgPSBEYXRhKF9kYXRhKTsKICAgICAgICBpbnZlc3RvcnMgPSBJbnZlc3RvcnMoX2ludmVzdG9ycyk7CgogICAgICAgIGludmVzdG9yc0JhbGFuY2UgPSAwOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBDYWxsYmFjayBmdW5jdGlvbgogICAgICovCiAgICBmdW5jdGlvbigpIHBheWFibGUgcHVibGljIHsKICAgIH0KCiAgICBmdW5jdGlvbiBpbnZlc3QoYWRkcmVzcyBjbGllbnQsIHVpbnQ4IGRlcG9zaXRzQ291bnQpIHBheWFibGUgcHVibGljIHsKICAgICAgICB1aW50IGFtb3VudCA9IG1zZy52YWx1ZTsKCiAgICAgICAgLy8gaWYgbGVzcyB0aGVuIDUgZGVwb3NpdHMKICAgICAgICBpZiAoZGVwb3NpdHNDb3VudCA8IDUpIHsKCiAgICAgICAgICAgIHVpbnQgc2VydmljZUZlZTsKICAgICAgICAgICAgdWludCBpbnZlc3RvcnNGZWUgPSAwOwoKICAgICAgICAgICAgaWYgKGRlcG9zaXRzQ291bnQgPT0gMCkgewogICAgICAgICAgICAgICAgdWludDggaW52ZXN0b3JzRmVlUGVyY2VudGFnZSA9IGludmVzdG9ycy5nZXRJbnZlc3RvcnNGZWUoKTsKICAgICAgICAgICAgICAgIHNlcnZpY2VGZWUgPSBhbW91bnQgKiAoc2VydmljZUZlZXNbZGVwb3NpdHNDb3VudF0uc3ViKGludmVzdG9yc0ZlZVBlcmNlbnRhZ2UpKTsKICAgICAgICAgICAgICAgIGludmVzdG9yc0ZlZSA9IGFtb3VudCAqIGludmVzdG9yc0ZlZVBlcmNlbnRhZ2U7CiAgICAgICAgICAgICAgICBpbnZlc3RvcnNCYWxhbmNlICs9IGludmVzdG9yc0ZlZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNlcnZpY2VGZWUgPSBhbW91bnQgKiBzZXJ2aWNlRmVlc1tkZXBvc2l0c0NvdW50XTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdWludCByZWZlcnJhbEZlZSA9IGFtb3VudCAqIHJlZmVycmFsRmVlc1tkZXBvc2l0c0NvdW50XTsKCiAgICAgICAgICAgIC8vIGRpc3RyaWJ1dGUgZGVwb3NpdCBmZWUgYW1vbmcgdXNlcnMgYWJvdmUgb24gdGhlIGJyYW5jaCAmIHVwZGF0ZSB1c2Vycycgc3RhdHVzZXMKICAgICAgICAgICAgZGlzdHJpYnV0ZShkYXRhLnBhcmVudE9mKGNsaWVudCksIDAsIGRlcG9zaXRzQ291bnQsIGFtb3VudCk7CgogICAgICAgICAgICAvLyB1cGRhdGUgYmFsYW5jZSAmIG51bWJlciBvZiBkZXBvc2l0cyBvZiB1c2VyCiAgICAgICAgICAgIHVpbnQgYWN0aXZlID0gKGFtb3VudCAqIDEwMCkKICAgICAgICAgICAgICAgIC5zdWIocmVmZXJyYWxGZWUpCiAgICAgICAgICAgICAgICAuc3ViKHNlcnZpY2VGZWUpCiAgICAgICAgICAgICAgICAuc3ViKGludmVzdG9yc0ZlZSk7CiAgICAgICAgICAgIHRva2VuLm1pbnQoY2xpZW50LCBhY3RpdmUgLyAxMDAgKiB0b2tlbi5yYXRlKCkgLyB0b2tlbi5tcmF0ZSgpKTsKCiAgICAgICAgICAgIC8vIHVwZGF0ZSBvd25lcmBzIGJhbGFuY2UKICAgICAgICAgICAgZGF0YS5hZGRCYWxhbmNlKG93bmVyLCBzZXJ2aWNlRmVlICogMTAwMDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRva2VuLm1pbnQoY2xpZW50LCBhbW91bnQgKiB0b2tlbi5yYXRlKCkgLyB0b2tlbi5tcmF0ZSgpKTsKICAgICAgICB9CiAgICB9CgoKICAgIC8qKgogICAgICogQGRldiBSZWN1cnNpdmVseSBkaXN0cmlidXRlIGRlcG9zaXQgZmVlIGJldHdlZW4gcGFyZW50cwogICAgICogQHBhcmFtIF9ub2RlIFBhcmVudCBhZGRyZXNzCiAgICAgKiBAcGFyYW0gX3ByZXZQZXJjZW50YWdlIFRoZSBwZXJjZW50YWdlIGZvciBwcmV2aW91cyBwYXJlbnQKICAgICAqIEBwYXJhbSBfZGVwb3NpdHNDb3VudCBDb3VudCBvZiBkZXBvc2l0ZXIgZGVwb3NpdHMKICAgICAqIEBwYXJhbSBfYW1vdW50IFRoZSBhbW91bnQgb2YgZGVwb3NpdAogICAgICovCiAgICBmdW5jdGlvbiBkaXN0cmlidXRlKAogICAgICAgIGFkZHJlc3MgX25vZGUsCiAgICAgICAgdWludCBfcHJldlBlcmNlbnRhZ2UsCiAgICAgICAgdWludDggX2RlcG9zaXRzQ291bnQsCiAgICAgICAgdWludCBfYW1vdW50CiAgICApCiAgICAgICAgcHJpdmF0ZQogICAgewogICAgICAgIGFkZHJlc3Mgbm9kZSA9IF9ub2RlOwogICAgICAgIHVpbnQgcHJldlBlcmNlbnRhZ2UgPSBfcHJldlBlcmNlbnRhZ2U7CgogICAgICAgIC8vIGRpc3RyaWJ1dGUgZGVwb3NpdCBmZWUgYW1vbmcgdXNlcnMgYWJvdmUgb24gdGhlIGJyYW5jaCAmIHVwZGF0ZSB1c2Vycycgc3RhdHVzZXMKICAgICAgICB3aGlsZShub2RlICE9IGFkZHJlc3MoMCkpIHsKICAgICAgICAgICAgdWludDggc3RhdHVzID0gZGF0YS5zdGF0dXNlcyhub2RlKTsKCiAgICAgICAgICAgIC8vIGNvdW50IGZlZSBwZXJjZW50YWdlIG9mIGN1cnJlbnQgbm9kZQogICAgICAgICAgICB1aW50IG5vZGVQZXJjZW50YWdlID0gZmVlRGlzdHJpYnV0aW9uW3N0YXR1c11bX2RlcG9zaXRzQ291bnRdOwogICAgICAgICAgICB1aW50IHBlcmNlbnRhZ2UgPSBub2RlUGVyY2VudGFnZS5zdWIocHJldlBlcmNlbnRhZ2UpOwogICAgICAgICAgICBkYXRhLmFkZEJhbGFuY2Uobm9kZSwgX2Ftb3VudCAqIHBlcmNlbnRhZ2UgKiAxMDAwMCk7CgogICAgICAgICAgICAvL3VwZGF0ZSByZWZmZXJhbHMgc3VtIGFtb3VudAogICAgICAgICAgICBkYXRhLmFkZFJlZmVycmFsRGVwb3NpdChub2RlLCBfYW1vdW50ICogZXRoVXNkUmF0ZSAvIDEwKioxOCk7CgogICAgICAgICAgICAvL3VwZGF0ZSBzdGF0dXMKICAgICAgICAgICAgdXBkYXRlU3RhdHVzKG5vZGUsIHN0YXR1cyk7CgogICAgICAgICAgICBub2RlID0gZGF0YS5wYXJlbnRPZihub2RlKTsKICAgICAgICAgICAgcHJldlBlcmNlbnRhZ2UgPSBub2RlUGVyY2VudGFnZTsKICAgICAgICB9CiAgICB9CgoKICAgIC8qKgogICAgICogQGRldiBVcGRhdGUgbm9kZSBzdGF0dXMgaWYgY2hpbGRyZW4gc3VtIGFtb3VudCBpcyBlbm91Z2gKICAgICAqIEBwYXJhbSBfbm9kZSBOb2RlIGFkZHJlc3MKICAgICAqIEBwYXJhbSBfc3RhdHVzIE5vZGUgY3VycmVudCBzdGF0dXMKICAgICAqLwogICAgZnVuY3Rpb24gdXBkYXRlU3RhdHVzKGFkZHJlc3MgX25vZGUsIHVpbnQ4IF9zdGF0dXMpIHByaXZhdGUgewogICAgICAgIHVpbnQgcmVmRGVwID0gZGF0YS5yZWZlcnJhbERlcG9zaXRzKF9ub2RlKTsKCiAgICAgICAgZm9yICh1aW50IGkgPSB0aHJlc2hvbGRzLmxlbmd0aCAtIDE7IGkgPiBfc3RhdHVzOyBpLS0pIHsKICAgICAgICAgICAgdWludCB0aHJlc2hvbGQgPSB0aHJlc2hvbGRzW2ldICogMTAwOwoKICAgICAgICAgICAgaWYgKHJlZkRlcCA+PSB0aHJlc2hvbGQpIHsKICAgICAgICAgICAgICAgIGRhdGEuc2V0U3RhdHVzKF9ub2RlLCBzdGF0dXNUaHJlc2hvbGRbdGhyZXNob2xkXSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCgogICAgLyoqCiAgICAgKiBAZGV2IERpc3RyaWJ1dGUgZmVlIGJldHdlZW4gaW52ZXN0b3JzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGRpc3RyaWJ1dGVJbnZlc3RvcnNGZWUodWludCBzdGFydCwgdWludCBlbmQpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGZvciAodWludCBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykgewogICAgICAgICAgICBhZGRyZXNzIGludmVzdG9yID0gaW52ZXN0b3JzLmludmVzdG9ycyhpKTsKICAgICAgICAgICAgdWludCBpbnZlc3RvclBlcmNlbnRhZ2UgPSBpbnZlc3RvcnMuaW52ZXN0b3JQZXJjZW50YWdlcyhpbnZlc3Rvcik7CiAgICAgICAgICAgIGRhdGEuYWRkSW52ZXN0b3JCYWxhbmNlKGludmVzdG9yLCBpbnZlc3RvcnNCYWxhbmNlICogaW52ZXN0b3JQZXJjZW50YWdlKTsKICAgICAgICB9CiAgICAgICAgaWYgKGVuZCA9PSBpbnZlc3RvcnMuZ2V0SW52ZXN0b3JzQ291bnQoKSkgewogICAgICAgICAgICBpbnZlc3RvcnNCYWxhbmNlID0gMDsKICAgICAgICB9CiAgICB9CgoKICAgIC8qKgogICAgICogQGRldiBTZXQgdG9rZW4gZXhjaGFuZ2UgcmF0ZQogICAgICogQHBhcmFtIF9yYXRlIHdidC9ldGggcmF0ZQogICAgICovCiAgICBmdW5jdGlvbiBzZXRSYXRlKHVpbnQgX3JhdGUpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHRva2VuLnNldFJhdGUoX3JhdGUpOwogICAgfQoKCiAgICAvKioKICAgICAqIEBkZXYgU2V0IEVUSCBleGNoYW5nZSByYXRlCiAgICAgKiBAcGFyYW0gX2V0aFVzZFJhdGUgZXRoL3VzZCByYXRlCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldEV0aFVzZFJhdGUodWludCBfZXRoVXNkUmF0ZSkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgZXRoVXNkUmF0ZSA9IF9ldGhVc2RSYXRlOwogICAgfQoKCiAgICAvKioKICAgICAqIEBkZXYgQWRkIG5ldyBjaGlsZAogICAgICogQHBhcmFtIF9pbnZpdGVyIHBhcmVudAogICAgICogQHBhcmFtIF9pbnZpdGVlIGNoaWxkCiAgICAgKi8KICAgIGZ1bmN0aW9uIGludml0ZSgKICAgICAgICBhZGRyZXNzIF9pbnZpdGVyLAogICAgICAgIGFkZHJlc3MgX2ludml0ZWUKICAgICkKICAgICAgICBwdWJsaWMgb25seU93bmVyCiAgICB7CiAgICAgICAgZGF0YS5zZXRQYXJlbnQoX2ludml0ZWUsIF9pbnZpdGVyKTsKICAgICAgICAvLyBBZ2VudCAtIDAKICAgICAgICBkYXRhLnNldFN0YXR1cyhfaW52aXRlZSwgMCk7CiAgICB9CgoKICAgIC8qKgogICAgICogQGRldiBTZXQgX3N0YXR1cyBmb3IgX2FkZHIKICAgICAqIEBwYXJhbSBfYWRkciBhZGRyZXNzCiAgICAgKiBAcGFyYW0gX3N0YXR1cyByZWYuIHN0YXR1cwogICAgICovCiAgICBmdW5jdGlvbiBzZXRTdGF0dXMoYWRkcmVzcyBfYWRkciwgdWludDggX3N0YXR1cykgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgZGF0YS5zZXRTdGF0dXMoX2FkZHIsIF9zdGF0dXMpOwogICAgfQoKCiAgICAvKioKICAgICAqIEBkZXYgU2V0IGludmVzdG9ycyBjb250cmFjdCBhZGRyZXNzCiAgICAgKiBAcGFyYW0gX2FkZHIgYWRkcmVzcwogICAgICovCiAgICBmdW5jdGlvbiBzZXRJbnZlc3RvcnMoYWRkcmVzcyBfYWRkcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgaW52ZXN0b3JzID0gSW52ZXN0b3JzKF9hZGRyKTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBAZGV2IFdpdGhkcmF3IF9hbW91bnQgZm9yIF9hZGRyCiAgICAgKiBAcGFyYW0gX2FkZHIgd2l0aGRyYXdhbCBhZGRyZXNzCiAgICAgKiBAcGFyYW0gX2Ftb3VudCB3aXRoZHJhd2FsIGFtb3VudAogICAgICovCiAgICBmdW5jdGlvbiB3aXRoZHJhdyhhZGRyZXNzIF9hZGRyLCB1aW50MjU2IF9hbW91bnQsIGJvb2wgaW52ZXN0b3IpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHVpbnQgYW1vdW50ID0gaW52ZXN0b3IgPyBkYXRhLmludmVzdG9yQmFsYW5jZU9mKF9hZGRyKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkYXRhLmJhbGFuY2VPZihfYWRkcik7CiAgICAgICAgcmVxdWlyZShhbW91bnQgPj0gX2Ftb3VudCAmJiB0aGlzLmJhbGFuY2UgPj0gX2Ftb3VudCk7CgogICAgICAgIGlmIChpbnZlc3RvcikgewogICAgICAgICAgICBkYXRhLnN1YnRySW52ZXN0b3JCYWxhbmNlKF9hZGRyLCBfYW1vdW50ICogMTAwMDAwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGF0YS5zdWJ0ckJhbGFuY2UoX2FkZHIsIF9hbW91bnQgKiAxMDAwMDAwKTsKICAgICAgICB9CgogICAgICAgIF9hZGRyLnRyYW5zZmVyKF9hbW91bnQpOwogICAgfQoKCiAgICAvKioKICAgICAqIEBkZXYgV2l0aGRyYXcgY29udHJhY3QgYmFsYW5jZSB0byBfYWRkcgogICAgICogQHBhcmFtIF9hZGRyIHdpdGhkcmF3YWwgYWRkcmVzcwogICAgICovCiAgICBmdW5jdGlvbiB3aXRoZHJhd093bmVyKGFkZHJlc3MgX2FkZHIsIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZSh0aGlzLmJhbGFuY2UgPj0gX2Ftb3VudCk7CiAgICAgICAgX2FkZHIudHJhbnNmZXIoX2Ftb3VudCk7CiAgICB9CgoKICAgIC8qKgogICAgICogQGRldiBXaXRoZHJhdyBjb3JyZXNwb25kaW5nIGFtb3VudCBvZiBFVEggdG8gX2FkZHIgYW5kIGJ1cm4gX3ZhbHVlIHRva2VucwogICAgICogQHBhcmFtIF9hZGRyIHdpdGhkcmF3YWwgYWRkcmVzcwogICAgICogQHBhcmFtIF9hbW91bnQgYW1vdW50IG9mIHRva2VucyB0byBzZWxsCiAgICAgKi8KICAgIGZ1bmN0aW9uIHdpdGhkcmF3VG9rZW4oYWRkcmVzcyBfYWRkciwgdWludDI1NiBfYW1vdW50KSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICB0b2tlbi5idXJuKF9hZGRyLCBfYW1vdW50KTsKICAgICAgICB1aW50MjU2IGV0aGVyVmFsdWUgPSBfYW1vdW50ICogdG9rZW4ubXJhdGUoKSAvIHRva2VuLnJhdGUoKTsKICAgICAgICBfYWRkci50cmFuc2ZlcihldGhlclZhbHVlKTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBAZGV2IFRyYW5zZmVyIG93bmVyc2hpcCBvZiB0b2tlbiBjb250cmFjdCB0byBfYWRkcgogICAgICogQHBhcmFtIF9hZGRyIGFkZHJlc3MKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJUb2tlbk93bmVyc2hpcChhZGRyZXNzIF9hZGRyKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICB0b2tlbi50cmFuc2Zlck93bmVyc2hpcChfYWRkcik7CiAgICB9CgoKICAgIC8qKgogICAgICogQGRldiBUcmFuc2ZlciBvd25lcnNoaXAgb2YgZGF0YSBjb250cmFjdCB0byBfYWRkcgogICAgICogQHBhcmFtIF9hZGRyIGFkZHJlc3MKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJEYXRhT3duZXJzaGlwKGFkZHJlc3MgX2FkZHIpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGRhdGEudHJhbnNmZXJPd25lcnNoaXAoX2FkZHIpOwogICAgfQoKfQ=='.
	

]
