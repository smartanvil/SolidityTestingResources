Class {
	#name : #SRTae4f56f072c34c0a65b3ae3e4db797d831439d93,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTae4f56f072c34c0a65b3ae3e4db797d831439d93 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7Cgpjb250cmFjdCBFUkMyMEJhc2ljIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKY29udHJhY3QgU2FmZU1hdGggewogICAgZnVuY3Rpb24gc2FmZU11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIHVpbnQgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZURpdih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIGFzc2VydChiID4gMCk7CiAgICAgICAgdWludCBjID0gYSAvIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZVN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgICAgIGFzc2VydChiIDw9IGEpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgdWludCBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGM+PWEgJiYgYz49Yik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gbWF4NjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgICAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgICB9CgogICAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgICAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICAgIH0KCiAgICBmdW5jdGlvbiBtYXgyNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgICB9CgogICAgZnVuY3Rpb24gbWluMjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgICB9Cgp9CgoKY29udHJhY3QgT3duYWJsZSB7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIGFkZHJlc3MgcHVibGljIG5ld093bmVyOwoKICAgIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90byk7CgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBUcmFuc2ZlciBvd25lcnNoaXAgZnJvbSBgb3duZXJgIHRvIGBuZXdPd25lcmAKICAgIC8vLyBAcGFyYW0gX25ld093bmVyIFRoZSBuZXcgY29udHJhY3Qgb3duZXIKICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBvbmx5T3duZXIgewogICAgICAgIGlmIChfbmV3T3duZXIgIT0gYWRkcmVzcygwKSkgewogICAgICAgICAgICBuZXdPd25lciA9IF9uZXdPd25lcjsKICAgICAgICB9CiAgICB9CgogICAgLy8vIEBub3RpY2UgYWNjZXB0IG93bmVyc2hpcCBvZiB0aGUgY29udHJhY3QKICAgIGZ1bmN0aW9uIGFjY2VwdE93bmVyc2hpcCgpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gbmV3T3duZXIpOwogICAgICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KCn0KCmNvbnRyYWN0IEFkbWluaXN0cmFibGUgaXMgT3duYWJsZSB7CgogICAgZXZlbnQgQWRtaW5zdHJhdG9yQWRkZWQoYWRkcmVzcyBhZG1pbkFkZHJlc3MpOwogICAgZXZlbnQgQWRtaW5zdHJhdG9yUmVtb3ZlZChhZGRyZXNzIGFkbWluQWRkcmVzcyk7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgYWRtaW5pc3RyYXRvcnM7CgogICAgbW9kaWZpZXIgb25seUFkbWluaXN0cmF0b3IoKSB7CiAgICAgICAgcmVxdWlyZShhZG1pbmlzdHJhdG9yc1ttc2cuc2VuZGVyXSB8fCBvd25lciA9PSBtc2cuc2VuZGVyKTsgLy8gb3duZXIgaXMgYW4gYWRtaW4gYnkgZGVmYXVsdAogICAgICAgIF87CiAgICB9CgogICAgLy8vIEBub3RpY2UgQWRkIGFuIGFkbWluaXN0cmF0b3IKICAgIC8vLyBAcGFyYW0gX2FkbWluQWRkcmVzcyBUaGUgbmV3IGFkbWluaXN0cmF0b3IgYWRkcmVzcwogICAgZnVuY3Rpb24gYWRkQWRtaW5pc3RyYXRvcnMoYWRkcmVzcyBfYWRtaW5BZGRyZXNzKSBvbmx5T3duZXIgewogICAgICAgIGFkbWluaXN0cmF0b3JzW19hZG1pbkFkZHJlc3NdID0gdHJ1ZTsKICAgICAgICBBZG1pbnN0cmF0b3JBZGRlZChfYWRtaW5BZGRyZXNzKTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBSZW1vdmUgYW4gYWRtaW5pc3RyYXRvcgogICAgLy8vIEBwYXJhbSBfYWRtaW5BZGRyZXNzIFRoZSBhZG1pbmlzdHJhdG9yIGFkZHJlc3MgdG8gcmVtb3ZlCiAgICBmdW5jdGlvbiByZW1vdmVBZG1pbmlzdHJhdG9ycyhhZGRyZXNzIF9hZG1pbkFkZHJlc3MpIG9ubHlPd25lciB7CiAgICAgICAgZGVsZXRlIGFkbWluaXN0cmF0b3JzW19hZG1pbkFkZHJlc3NdOwogICAgICAgIEFkbWluc3RyYXRvclJlbW92ZWQoX2FkbWluQWRkcmVzcyk7CiAgICB9Cn0KCi8vLyBAdGl0bGUgR2ltbGkgVG9rZW4gQ29udHJhY3QuCmNvbnRyYWN0IEdpbWxpVG9rZW4gaXMgRVJDMjAsIFNhZmVNYXRoLCBPd25hYmxlIHsKCgogICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioKICAgICoqKiogR2xvYmFsIHZhcmlhYmxlcyAqKioqCiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqLwoKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDg7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiR2ltbGkgVG9rZW4iOwogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiR0lNIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgdmVyc2lvbiA9ICd2MSc7CgogICAgLy8vIHRvdGFsIGFtb3VudCBvZiB0b2tlbnMKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFVOSVQgPSAxMCoqdWludDI1NihkZWNpbWFscyk7CiAgICB1aW50MjU2IGNvbnN0YW50IE1JTExJT05fR01MID0gMTAqKjYgKiBVTklUOyAvLyBjYW4ndCB1c2UgYHNhZmVNdWxgIHdpdGggY29uc3RhbnQKICAgIC8vLyBTaG91bGQgaW5jbHVkZSBDUk9XRFNBTEVfQU1PVU5UIGFuZCBWRVNUSU5HX1hfQU1PVU5UCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBUT1RBTF9TVVBQTFkgPSAxNTAgKiBNSUxMSU9OX0dNTDsgLy8gY2FuJ3QgdXNlIGBzYWZlTXVsYCB3aXRoIGNvbnN0YW50OwoKICAgIC8vLyBiYWxhbmNlcyBpbmRleGVkIGJ5IGFkZHJlc3MKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogICAgLy8vIGFsbG93YW5jZXMgaW5kZXhlZCBieSBvd25lciBhbmQgc3BlbmRlcgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAgIGJvb2wgcHVibGljIHRyYW5zZmVyYWJsZSA9IGZhbHNlOwoKICAgIC8qKioqKioqKioqKioqKioqKioqKioKICAgICoqKiogVHJhbnNhY3Rpb25zICoqKioKICAgICoqKioqKioqKioqKioqKioqKioqKi8KCgogICAgLy8vIEBub3RpY2Ugc2VuZCBgX3ZhbHVlYCB0b2tlbiB0byBgX3RvYCBmcm9tIGBtc2cuc2VuZGVyYAogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUodHJhbnNmZXJhYmxlKTsKCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID49MCk7CgoKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHNhZmVTdWIoYmFsYW5jZXNbbXNnLnNlbmRlcl0sIF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZXNbX3RvXSwgX3ZhbHVlKTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUodHJhbnNmZXJhYmxlKTsKCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBfdmFsdWUgPj0gMCk7CgogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IHNhZmVTdWIoYmFsYW5jZXNbX2Zyb21dLCBfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBzYWZlQWRkKGJhbGFuY2VzW190b10sIF92YWx1ZSk7CiAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBzYWZlU3ViKGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLCBfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vLyBAbm90aWNlIGBtc2cuc2VuZGVyYCBhcHByb3ZlcyBgX3NwZW5kZXJgIHRvIHNwZW5kIGBfdmFsdWVgIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIGFwcHJvdmVkIGZvciB0cmFuc2ZlcgogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgYXBwcm92YWwgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAgICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAgICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICAgICAgcmVxdWlyZSgoX3ZhbHVlID09IDApIHx8IChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CgogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKioqKioqKioqKioqKioqCiAgICAqKioqIEdldHRlcnMgKioqKgogICAgKioqKioqKioqKioqKioqKi8KCiAgICAvLy8gQG5vdGljZSBHZXQgYmFsYW5jZSBvZiBhbiBhZGRyZXNzCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICAvLy8gQHJldHVybiBUaGUgYmFsYW5jZQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBHZXQgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQgYnkgYF9zcGVuZGVyYAogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCn0KCi8vLyBAdGl0bGUgR2ltbGkgQ3Jvd2RzYWxlIENvbnRyYWN0Lgpjb250cmFjdCBHaW1saUNyb3dkc2FsZSBpcyBTYWZlTWF0aCwgR2ltbGlUb2tlbiB7CgogICAgYWRkcmVzcyBwdWJsaWMgY29uc3RhbnQgTVVMVElTSUdfV0FMTEVUX0FERFJFU1MgPSAweGM3OWFiMjhjNWMwM2YxZTdmYmVmMDU2MTY3MzY0ZTY3ODJmOWZmNGY7CiAgICBhZGRyZXNzIHB1YmxpYyBjb25zdGFudCBMT0NLRURfQUREUkVTUyA9IDB4QUJjZEVGQUJjZEVGYWJjZEVmQWJDZGVmYWJjZGVGQUJjREVGYWJDRDsKCiAgICAvLyBjcm93ZHNhbGUKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IENST1dEU0FMRV9BTU9VTlQgPSA4MCAqIE1JTExJT05fR01MOyAvLyBTaG91bGQgbm90IGluY2x1ZGUgdmVzdGVkIGFtb3VudAogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgU1RBUlRfREFURSA9IDE1MDU3MzYwMDA7IC8vICAoZXBvY2ggdGltZXN0YW1wKQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgRU5EX0RBVEUgPSAxNTA4NTAwODAwOyAvLyBUT0RPIChlcG9jaCB0aW1lc3RhbXApCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBDUk9XRFNBTEVfUFJJQ0UgPSA3MDA7IC8vIDcwMCBHTUwgLyBFVEgKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFZFU1RJTkdfMV9BTU9VTlQgPSAxMCAqIE1JTExJT05fR01MOyAvLyBHSU0gcmVzZXJ2ZSBmdW5kCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBWRVNUSU5HXzFfREFURSA9IDE1MzcyNzIwMDA7IC8vIFRPRE8gKGVwb2NoIHRpbWVzdGFtcCkKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFZFU1RJTkdfMl9BTU9VTlQgPSAzMCAqIE1JTExJT05fR01MOyAvLyBUZWFtCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBWRVNUSU5HXzJfREFURSA9IDE1Njg4MDgwMDA7IC8vIFRPRE8gKGVwb2NoIHRpbWVzdGFtcCkKICAgIGJvb2wgcHVibGljIHZlc3RpbmcxV2l0aGRyYXduID0gZmFsc2U7CiAgICBib29sIHB1YmxpYyB2ZXN0aW5nMldpdGhkcmF3biA9IGZhbHNlOwogICAgYm9vbCBwdWJsaWMgY3Jvd2RzYWxlQ2FuY2VsZWQgPSBmYWxzZTsKICAgIHVpbnQyNTYgcHVibGljIHNvbGRBbW91bnQ7IC8vIEdJTQogICAgdWludDI1NiBwdWJsaWMgcGFpZEFtb3VudDsgLy8gRVRICgogICAgLy8vIEBub3RpY2UgYG1zZy5zZW5kZXJgIGludmVzdCBgbXNnLnZhbHVlYAogICAgZnVuY3Rpb24oKSBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKCFjcm93ZHNhbGVDYW5jZWxlZCk7CgogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID4gMCk7CiAgICAgICAgLy8gY2hlY2sgZGF0ZQogICAgICAgIHJlcXVpcmUoYmxvY2sudGltZXN0YW1wID49IFNUQVJUX0RBVEUgJiYgYmxvY2sudGltZXN0YW1wIDw9IEVORF9EQVRFKTsKCiAgICAgICAgLy8gY2FsY3VsYXRlIGFuZCBjaGVjayBxdWFudGl0eQogICAgICAgIHVpbnQyNTYgcXVhbnRpdHkgPSBzYWZlRGl2KHNhZmVNdWwobXNnLnZhbHVlLCBDUk9XRFNBTEVfUFJJQ0UpLCAxMCoqKDE4LXVpbnQyNTYoZGVjaW1hbHMpKSk7CiAgICAgICAgcmVxdWlyZShzYWZlU3ViKGJhbGFuY2VzW3RoaXNdLCBxdWFudGl0eSkgPj0gMCk7CgogICAgICAgIHJlcXVpcmUoTVVMVElTSUdfV0FMTEVUX0FERFJFU1Muc2VuZChtc2cudmFsdWUpKTsKCiAgICAgICAgLy8gdXBkYXRlIGJhbGFuY2VzCiAgICAgICAgYmFsYW5jZXNbdGhpc10gPSBzYWZlU3ViKGJhbGFuY2VzW3RoaXNdLCBxdWFudGl0eSk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzYWZlQWRkKGJhbGFuY2VzW21zZy5zZW5kZXJdLCBxdWFudGl0eSk7CiAgICAgICAgc29sZEFtb3VudCA9IHNhZmVBZGQoc29sZEFtb3VudCwgcXVhbnRpdHkpOwogICAgICAgIHBhaWRBbW91bnQgPSBzYWZlQWRkKHBhaWRBbW91bnQsIG1zZy52YWx1ZSk7CgogICAgICAgIFRyYW5zZmVyKHRoaXMsIG1zZy5zZW5kZXIsIHF1YW50aXR5KTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSByZXR1cm5zIG5vbi1zb2xkIHRva2VucyB0byBvd25lcgogICAgZnVuY3Rpb24gIGNsb3NlQ3Jvd2RzYWxlKCkgb25seU93bmVyIHsKICAgICAgICAvLyBjaGVjayBpZiBjbG9zYWJsZQogICAgICAgIHJlcXVpcmUoYmxvY2sudGltZXN0YW1wID4gRU5EX0RBVEUgfHwgY3Jvd2RzYWxlQ2FuY2VsZWQgfHwgYmFsYW5jZXNbdGhpc10gPT0gMCk7CgogICAgICAgIC8vIGVuYWJsZSB0b2tlbiB0cmFuc2ZlcgogICAgICAgIHRyYW5zZmVyYWJsZSA9IHRydWU7CgogICAgICAgIC8vIHVwZGF0ZSBiYWxhbmNlcwogICAgICAgIGlmIChiYWxhbmNlc1t0aGlzXSA+IDApIHsKICAgICAgICAgICAgdWludDI1NiBhbW91bnQgPSBiYWxhbmNlc1t0aGlzXTsKICAgICAgICAgICAgYmFsYW5jZXNbTVVMVElTSUdfV0FMTEVUX0FERFJFU1NdID0gc2FmZUFkZChiYWxhbmNlc1tNVUxUSVNJR19XQUxMRVRfQUREUkVTU10sIGFtb3VudCk7CiAgICAgICAgICAgIGJhbGFuY2VzW3RoaXNdID0gMDsKICAgICAgICAgICAgVHJhbnNmZXIodGhpcywgTVVMVElTSUdfV0FMTEVUX0FERFJFU1MsIGFtb3VudCk7CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBAbm90aWNlIFRlcm1pbmF0ZSB0aGUgY3Jvd2RzYWxlIGJlZm9yZSBFTkRfREFURQogICAgZnVuY3Rpb24gY2FuY2VsQ3Jvd2RzYWxlKCkgb25seU93bmVyIHsKICAgICAgICBjcm93ZHNhbGVDYW5jZWxlZCA9IHRydWU7CiAgICB9CgogICAgLy8vIEBub3RpY2UgUHJlLWFsbG9jYXRlIHRva2VucyB0byBhZHZpc29yIG9yIHBhcnRuZXIKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBwcmUtYWxsb2NhdGlvbiBkZXN0aW5hdGlvbgogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSBhbGxvY2F0ZWQKICAgIC8vLyBAcGFyYW0gX3ByaWNlIEVUSCBwYWlkIGZvciB0aGVzZSB0b2tlbnMKICAgIGZ1bmN0aW9uIHByZUFsbG9jYXRlKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSwgdWludDI1NiBfcHJpY2UpIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShibG9jay50aW1lc3RhbXAgPCBTVEFSVF9EQVRFKTsKCiAgICAgICAgYmFsYW5jZXNbdGhpc10gPSBzYWZlU3ViKGJhbGFuY2VzW3RoaXNdLCBfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBzYWZlQWRkKGJhbGFuY2VzW190b10sIF92YWx1ZSk7CiAgICAgICAgc29sZEFtb3VudCA9IHNhZmVBZGQoc29sZEFtb3VudCwgX3ZhbHVlKTsKICAgICAgICBwYWlkQW1vdW50ID0gc2FmZUFkZChwYWlkQW1vdW50LCBfcHJpY2UpOwoKICAgICAgICBUcmFuc2Zlcih0aGlzLCBfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgLy8vIEBub3RpY2UgU2VuZCB2ZXN0ZWQgYW1vdW50IHRvIF9kZXN0aW5hdGlvbgogICAgLy8vIEBwYXJhbSBfZGVzdGluYXRpb24gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgcmVsZWFzZSB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHJlbGVhc2VWZXN0aW5nKGFkZHJlc3MgX2Rlc3RpbmF0aW9uKSBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYgKGJsb2NrLnRpbWVzdGFtcCA+IFZFU1RJTkdfMV9EQVRFICYmIHZlc3RpbmcxV2l0aGRyYXduID09IGZhbHNlKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW0xPQ0tFRF9BRERSRVNTXSA9IHNhZmVTdWIoYmFsYW5jZXNbTE9DS0VEX0FERFJFU1NdLCBWRVNUSU5HXzFfQU1PVU5UKTsKICAgICAgICAgICAgYmFsYW5jZXNbX2Rlc3RpbmF0aW9uXSA9IHNhZmVBZGQoYmFsYW5jZXNbX2Rlc3RpbmF0aW9uXSwgVkVTVElOR18xX0FNT1VOVCk7CiAgICAgICAgICAgIHZlc3RpbmcxV2l0aGRyYXduID0gdHJ1ZTsKICAgICAgICAgICAgVHJhbnNmZXIoTE9DS0VEX0FERFJFU1MsIF9kZXN0aW5hdGlvbiwgVkVTVElOR18xX0FNT1VOVCk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICBpZiAoYmxvY2sudGltZXN0YW1wID4gVkVTVElOR18yX0RBVEUgJiYgdmVzdGluZzJXaXRoZHJhd24gPT0gZmFsc2UpIHsKICAgICAgICAgICAgYmFsYW5jZXNbTE9DS0VEX0FERFJFU1NdID0gc2FmZVN1YihiYWxhbmNlc1tMT0NLRURfQUREUkVTU10sIFZFU1RJTkdfMl9BTU9VTlQpOwogICAgICAgICAgICBiYWxhbmNlc1tfZGVzdGluYXRpb25dID0gc2FmZUFkZChiYWxhbmNlc1tfZGVzdGluYXRpb25dLCBWRVNUSU5HXzJfQU1PVU5UKTsKICAgICAgICAgICAgdmVzdGluZzJXaXRoZHJhd24gPSB0cnVlOwogICAgICAgICAgICBUcmFuc2ZlcihMT0NLRURfQUREUkVTUywgX2Rlc3RpbmF0aW9uLCBWRVNUSU5HXzJfQU1PVU5UKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvLy8gQG5vdGljZSB0cmFuc2ZlciBvdXQgYW55IGFjY2lkZW50YWxseSBzZW50IEVSQzIwIHRva2VucwogICAgLy8vIEBwYXJhbSB0b2tlbkFkZHJlc3MgQWRkcmVzcyBvZiB0aGUgRVJDMjAgY29udHJhY3QKICAgIC8vLyBAcGFyYW0gYW1vdW50IFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJlZAogICAgZnVuY3Rpb24gdHJhbnNmZXJPdGhlckVSQzIwVG9rZW4oYWRkcmVzcyB0b2tlbkFkZHJlc3MsIHVpbnQyNTYgYW1vdW50KQogICAgICBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQogICAgewogICAgICAgIC8vIGNhbid0IGJlIHVzZWQgZm9yIEdJTSB0b2tlbgogICAgICAgIHJlcXVpcmUodG9rZW5BZGRyZXNzICE9IGFkZHJlc3ModGhpcykgfHwgdHJhbnNmZXJhYmxlKTsKICAgICAgICByZXR1cm4gRVJDMjAodG9rZW5BZGRyZXNzKS50cmFuc2Zlcihvd25lciwgYW1vdW50KTsKICAgIH0KfQoKLy8vIEB0aXRsZSBNYWluIEdpbWxpIGNvbnRyYWN0Lgpjb250cmFjdCBHaW1saSBpcyBHaW1saUNyb3dkc2FsZSwgQWRtaW5pc3RyYWJsZSB7CgogICAgYWRkcmVzcyBwdWJsaWMgc3RyZWFtZXJDb250cmFjdDsKICAgIHVpbnQyNTYgcHVibGljIHN0cmVhbWVyQ29udHJhY3RNYXhBbW91bnQ7CgogICAgZXZlbnQgU3RyZWFtZXJDb250cmFjdENoYW5nZWQoYWRkcmVzcyBuZXdDb250cmFjdEFkZHJlc3MsIHVpbnQyNTYgbmV3TWF4QW1vdW50KTsKCiAgICAvLy8gQG5vdGljZSBHaW1saSBDb250cmFjdCBjb25zdHJ1Y3Rvci4gYG1zZy5zZW5kZXJgIGlzIHRoZSBvd25lci4KICAgIGZ1bmN0aW9uIEdpbWxpKCkgewogICAgICAgIC8vIEdpdmUgdGhlIG11bHRpc2lnIHdhbGxldCBpbml0aWFsIHRva2VucwogICAgICAgIGJhbGFuY2VzW01VTFRJU0lHX1dBTExFVF9BRERSRVNTXSA9IHNhZmVBZGQoYmFsYW5jZXNbTVVMVElTSUdfV0FMTEVUX0FERFJFU1NdLCBUT1RBTF9TVVBQTFkgLSBDUk9XRFNBTEVfQU1PVU5UIC0gVkVTVElOR18xX0FNT1VOVCAtIFZFU1RJTkdfMl9BTU9VTlQpOwogICAgICAgIC8vIEdpdmUgdGhlIGNvbnRyYWN0IGNyb3dkc2FsZSBhbW91bnQKICAgICAgICBiYWxhbmNlc1t0aGlzXSA9IENST1dEU0FMRV9BTU9VTlQ7CiAgICAgICAgLy8gTG9ja2VkIGFkZHJlc3MKICAgICAgICBiYWxhbmNlc1tMT0NLRURfQUREUkVTU10gPSBWRVNUSU5HXzFfQU1PVU5UICsgVkVTVElOR18yX0FNT1VOVDsKICAgICAgICAvLyBGb3IgRVJDMjAgY29tcGF0aWJpbGl0eQogICAgICAgIHRvdGFsU3VwcGx5ID0gVE9UQUxfU1VQUExZOwogICAgfQoKICAgIC8vLyBAbm90aWNlIGF1dGhvcml6ZSBhbiBhZGRyZXNzIHRvIHRyYW5zZmVyIEdJTSBvbiBiZWhhbGYgYW4gdXNlcgogICAgLy8vIEBwYXJhbSBfY29udHJhY3RBZGRyZXNzIEFkZHJlc3Mgb2YgR2ltbGlTdHJlYW1lciBjb250cmFjdAogICAgLy8vIEBwYXJhbSBfbWF4QW1vdW50IFRoZSBtYXhpbXVtIGFtb3VudCB0aGF0IGNhbiBiZSB0cmFuc2ZlcmVkIGJ5IHRoZSBjb250cmFjdAogICAgZnVuY3Rpb24gc2V0U3RyZWFtZXJDb250cmFjdCgKICAgICAgICBhZGRyZXNzIF9jb250cmFjdEFkZHJlc3MsCiAgICAgICAgdWludDI1NiBfbWF4QW1vdW50KSBvbmx5QWRtaW5pc3RyYXRvcgogICAgewogICAgICAgIC8vIFRvIGNoYW5nZSB0aGUgbWF4aW11bSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIGl0IHRvIDBgCiAgICAgICAgcmVxdWlyZShfbWF4QW1vdW50ID09IDAgfHwgc3RyZWFtZXJDb250cmFjdE1heEFtb3VudCA9PSAwKTsKCiAgICAgICAgc3RyZWFtZXJDb250cmFjdCA9IF9jb250cmFjdEFkZHJlc3M7CiAgICAgICAgc3RyZWFtZXJDb250cmFjdE1heEFtb3VudCA9IF9tYXhBbW91bnQ7CgogICAgICAgIFN0cmVhbWVyQ29udHJhY3RDaGFuZ2VkKHN0cmVhbWVyQ29udHJhY3QsIHN0cmVhbWVyQ29udHJhY3RNYXhBbW91bnQpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIENhbGxlZCBieSBhIEdpbWxpIGNvbnRyYWN0IHRvIHRyYW5zZmVyIEdJTQogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiB0cmFuc2ZlckdJTShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gc3RyZWFtZXJDb250cmFjdCk7CiAgICAgICAgcmVxdWlyZSh0eC5vcmlnaW4gPT0gX2Zyb20pOwogICAgICAgIHJlcXVpcmUoX2Ftb3VudCA8PSBzdHJlYW1lckNvbnRyYWN0TWF4QW1vdW50KTsKCiAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA8IF9hbW91bnQgfHwgX2Ftb3VudCA8PSAwKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CgogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IHNhZmVTdWIoYmFsYW5jZXNbX2Zyb21dLCBfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1tfdG9dID0gc2FmZUFkZChiYWxhbmNlc1tfdG9dLCBfYW1vdW50KTsKCiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX2Ftb3VudCk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCgp9'.
	

]
