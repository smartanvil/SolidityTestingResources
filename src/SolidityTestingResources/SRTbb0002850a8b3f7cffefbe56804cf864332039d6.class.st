Class {
	#name : #SRTbb0002850a8b3f7cffefbe56804cf864332039d6,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTbb0002850a8b3f7cffefbe56804cf864332039d6 >> base64 [
	^ 'Ly8gS3BvcEl0ZW0gaXMgYSBFUkMtNzIxIGl0ZW0gKGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9laXBzL2lzc3Vlcy83MjEpCi8vIEVhY2ggS3BvcEl0ZW0gaGFzIGl0cyBjb25uZWN0ZWQgS3BvcFRva2VuIGl0ZW1yaXR5IGNhcmQKLy8gS3BvcC5pbyBpcyB0aGUgb2ZmaWNpYWwgd2Vic2l0ZQoKcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKCiAgLyoqCiAgKiBAZGV2IE11bHRpcGxpZXMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAqLwogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIC8qKgogICogQGRldiBJbnRlZ2VyIGRpdmlzaW9uIG9mIHR3byBudW1iZXJzLCB0cnVuY2F0aW5nIHRoZSBxdW90aWVudC4KICAqLwogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgLyoqCiAgKiBAZGV2IFN1YnN0cmFjdHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdyAoaS5lLiBpZiBzdWJ0cmFoZW5kIGlzIGdyZWF0ZXIgdGhhbiBtaW51ZW5kKS4KICAqLwogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIC8qKgogICogQGRldiBBZGRzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgRVJDNzIxIHsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3RvLCB1aW50IF9pdGVtSWQpIHB1YmxpYzsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQgYmFsYW5jZSk7CiAgZnVuY3Rpb24gaW1wbGVtZW50c0VSQzcyMSgpIHB1YmxpYyBwdXJlIHJldHVybnMgKGJvb2wpOwogIGZ1bmN0aW9uIG93bmVyT2YodWludCBfaXRlbUlkKSBwdWJsaWMgdmlldyByZXR1cm5zIChhZGRyZXNzIGFkZHIpOwogIGZ1bmN0aW9uIHRha2VPd25lcnNoaXAodWludCBfaXRlbUlkKSBwdWJsaWM7CiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50IHRvdGFsKTsKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2l0ZW1JZCkgcHVibGljOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50IF9pdGVtSWQpIHB1YmxpYzsKCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCBpdGVtSWQpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIGFwcHJvdmVkLCB1aW50IGl0ZW1JZCk7Cn0KCmNvbnRyYWN0IEtwb3BDZWxlYiBpcyBFUkM3MjEgewogIGZ1bmN0aW9uIG93bmVyT2YodWludCBfY2VsZWJJZCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcyBhZGRyKTsKfQoKY29udHJhY3QgS3BvcEl0ZW0gaXMgRVJDNzIxIHsKICBhZGRyZXNzIHB1YmxpYyBhdXRob3I7CiAgYWRkcmVzcyBwdWJsaWMgY29hdXRob3I7CiAgYWRkcmVzcyBwdWJsaWMgbWFudWZhY3R1cmVyOwoKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IE5BTUUgPSAiS3BvcEl0ZW0iOwogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgU1lNQk9MID0gIktwb3BJdGVtIjsKCiAgdWludCBwdWJsaWMgR1JPV1RIX0JVTVAgPSAwLjQgZXRoZXI7CiAgdWludCBwdWJsaWMgTUlOX1NUQVJUSU5HX1BSSUNFID0gMC4wMDEgZXRoZXI7CiAgdWludCBwdWJsaWMgUFJJQ0VfSU5DUkVBU0VfU0NBTEUgPSAxMjA7IC8vIDEyMCUgb2YgcHJldmlvdXMgcHJpY2UKICB1aW50IHB1YmxpYyBESVZJREVORCA9IDM7CgogIGFkZHJlc3MgcHVibGljIEtQT1BfQ0VMRUJfQ09OVFJBQ1RfQUREUkVTUyA9IDB4MDsKICBhZGRyZXNzIHB1YmxpYyBLUE9QX0FSRU5BX0NPTlRSQUNUX0FERFJFU1MgPSAweDA7CgogIHN0cnVjdCBJdGVtIHsKICAgIHN0cmluZyBuYW1lOwogIH0KCiAgSXRlbVtdIHB1YmxpYyBpdGVtczsKCiAgbWFwcGluZyh1aW50ID0+IGFkZHJlc3MpIHB1YmxpYyBpdGVtSWRUb093bmVyOwogIG1hcHBpbmcodWludCA9PiB1aW50KSBwdWJsaWMgaXRlbUlkVG9QcmljZTsKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludCkgcHVibGljIHVzZXJUb051bUl0ZW1zOwogIG1hcHBpbmcodWludCA9PiBhZGRyZXNzKSBwdWJsaWMgaXRlbUlkVG9BcHByb3ZlZFJlY2lwaWVudDsKICBtYXBwaW5nKHVpbnQgPT4gdWludFs2XSkgcHVibGljIGl0ZW1JZFRvVHJhaXRWYWx1ZXM7CiAgbWFwcGluZyh1aW50ID0+IHVpbnQpIHB1YmxpYyBpdGVtSWRUb0NlbGViSWQ7CgogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgaXRlbUlkKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBhcHByb3ZlZCwgdWludCBpdGVtSWQpOwogIGV2ZW50IEl0ZW1Tb2xkKHVpbnQgaXRlbUlkLCB1aW50IG9sZFByaWNlLCB1aW50IG5ld1ByaWNlLCBzdHJpbmcgaXRlbU5hbWUsIGFkZHJlc3MgcHJldk93bmVyLCBhZGRyZXNzIG5ld093bmVyKTsKICBldmVudCBUcmFuc2ZlclRvV2lubmVyKHVpbnQgaXRlbUlkLCB1aW50IG9sZFByaWNlLCB1aW50IG5ld1ByaWNlLCBzdHJpbmcgaXRlbU5hbWUsIGFkZHJlc3MgcHJldk93bmVyLCBhZGRyZXNzIG5ld093bmVyKTsKCiAgZnVuY3Rpb24gS3BvcEl0ZW0oKSBwdWJsaWMgewogICAgYXV0aG9yID0gbXNnLnNlbmRlcjsKICAgIGNvYXV0aG9yID0gbXNnLnNlbmRlcjsKICB9CgogIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfaXRlbUlkKSBwcml2YXRlIHsKICAgIHJlcXVpcmUob3duZXJPZihfaXRlbUlkKSA9PSBfZnJvbSk7CiAgICByZXF1aXJlKCFpc051bGxBZGRyZXNzKF90bykpOwogICAgcmVxdWlyZShiYWxhbmNlT2YoX2Zyb20pID4gMCk7CgogICAgdWludCBwcmV2QmFsYW5jZXMgPSBiYWxhbmNlT2YoX2Zyb20pICsgYmFsYW5jZU9mKF90byk7CiAgICBpdGVtSWRUb093bmVyW19pdGVtSWRdID0gX3RvOwogICAgdXNlclRvTnVtSXRlbXNbX2Zyb21dLS07CiAgICB1c2VyVG9OdW1JdGVtc1tfdG9dKys7CgogICAgZGVsZXRlIGl0ZW1JZFRvQXBwcm92ZWRSZWNpcGllbnRbX2l0ZW1JZF07CgogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX2l0ZW1JZCk7CgogICAgYXNzZXJ0KGJhbGFuY2VPZihfZnJvbSkgKyBiYWxhbmNlT2YoX3RvKSA9PSBwcmV2QmFsYW5jZXMpOwogIH0KCiAgZnVuY3Rpb24gYnV5KHVpbnQgX2l0ZW1JZCkgcGF5YWJsZSBwdWJsaWMgewogICAgYWRkcmVzcyBwcmV2T3duZXIgPSBvd25lck9mKF9pdGVtSWQpOwogICAgdWludCBjdXJyZW50UHJpY2UgPSBpdGVtSWRUb1ByaWNlW19pdGVtSWRdOwoKICAgIHJlcXVpcmUocHJldk93bmVyICE9IG1zZy5zZW5kZXIpOwogICAgcmVxdWlyZSghaXNOdWxsQWRkcmVzcyhtc2cuc2VuZGVyKSk7CiAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBjdXJyZW50UHJpY2UpOwoKICAgIC8vIFNldCBkaXZpZGVuZAogICAgdWludCBkaXZpZGVuZCA9IHVpbnQoU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChjdXJyZW50UHJpY2UsIERJVklERU5EKSwgMTAwKSk7CgogICAgLy8gVGFrZSBhIGN1dAogICAgdWludCBwYXltZW50ID0gdWludChTYWZlTWF0aC5kaXYoU2FmZU1hdGgubXVsKGN1cnJlbnRQcmljZSwgOTApLCAxMDApKTsKCiAgICB1aW50IGxlZnRvdmVyID0gU2FmZU1hdGguc3ViKG1zZy52YWx1ZSwgY3VycmVudFByaWNlKTsKICAgIHVpbnQgbmV3UHJpY2U7CgogICAgX3RyYW5zZmVyKHByZXZPd25lciwgbXNnLnNlbmRlciwgX2l0ZW1JZCk7CgogICAgaWYgKGN1cnJlbnRQcmljZSA8IEdST1dUSF9CVU1QKSB7CiAgICAgIG5ld1ByaWNlID0gU2FmZU1hdGgubXVsKGN1cnJlbnRQcmljZSwgMik7CiAgICB9IGVsc2UgewogICAgICBuZXdQcmljZSA9IFNhZmVNYXRoLmRpdihTYWZlTWF0aC5tdWwoY3VycmVudFByaWNlLCBQUklDRV9JTkNSRUFTRV9TQ0FMRSksIDEwMCk7CiAgICB9CgogICAgaXRlbUlkVG9QcmljZVtfaXRlbUlkXSA9IG5ld1ByaWNlOwoKICAgIC8vIFBheSB0aGUgcHJldiBvd25lciBvZiB0aGUgaXRlbQogICAgaWYgKHByZXZPd25lciAhPSBhZGRyZXNzKHRoaXMpKSB7CiAgICAgIHByZXZPd25lci50cmFuc2ZlcihwYXltZW50KTsKICAgIH0KCiAgICAvLyBQYXkgZGl2aWRlbmQgdG8gdGhlIGN1cnJlbnQgb3duZXIgb2YgdGhlIGNlbGViIHRoYXQncyBjb25uZWN0ZWQgdG8gdGhlIGl0ZW0KICAgIHVpbnQgY2VsZWJJZCA9IGNlbGViT2YoX2l0ZW1JZCk7CiAgICBLcG9wQ2VsZWIgS1BPUF9DRUxFQiA9IEtwb3BDZWxlYihLUE9QX0NFTEVCX0NPTlRSQUNUX0FERFJFU1MpOwogICAgYWRkcmVzcyBjZWxlYk93bmVyID0gS1BPUF9DRUxFQi5vd25lck9mKGNlbGViSWQpOwogICAgaWYgKGNlbGViT3duZXIgIT0gYWRkcmVzcyh0aGlzKSAmJiAhaXNOdWxsQWRkcmVzcyhjZWxlYk93bmVyKSkgewogICAgICBjZWxlYk93bmVyLnRyYW5zZmVyKGRpdmlkZW5kKTsKICAgIH0KCiAgICBJdGVtU29sZChfaXRlbUlkLCBjdXJyZW50UHJpY2UsIG5ld1ByaWNlLAogICAgICBpdGVtc1tfaXRlbUlkXS5uYW1lLCBwcmV2T3duZXIsIG1zZy5zZW5kZXIpOwoKICAgIG1zZy5zZW5kZXIudHJhbnNmZXIobGVmdG92ZXIpOwogIH0KCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50IGJhbGFuY2UpIHsKICAgIHJldHVybiB1c2VyVG9OdW1JdGVtc1tfb3duZXJdOwogIH0KCiAgZnVuY3Rpb24gb3duZXJPZih1aW50IF9pdGVtSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKGFkZHJlc3MgYWRkcikgewogICAgcmV0dXJuIGl0ZW1JZFRvT3duZXJbX2l0ZW1JZF07CiAgfQoKICBmdW5jdGlvbiBjZWxlYk9mKHVpbnQgX2l0ZW1JZCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludCBjZWxlYklkKSB7CiAgICByZXR1cm4gaXRlbUlkVG9DZWxlYklkW19pdGVtSWRdOwogIH0KCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50IHRvdGFsKSB7CiAgICByZXR1cm4gaXRlbXMubGVuZ3RoOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX2l0ZW1JZCkgcHVibGljIHsKICAgIF90cmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF9pdGVtSWQpOwogIH0KCiAgLyoqIFNUQVJUIEZVTkNUSU9OUyBGT1IgQVVUSE9SUyAqKi8KCiAgZnVuY3Rpb24gY3JlYXRlSXRlbShzdHJpbmcgX25hbWUsIHVpbnQgX3ByaWNlLCB1aW50IF9jZWxlYklkLCB1aW50WzZdIF90cmFpdFZhbHVlcykgcHVibGljIG9ubHlNYW51ZmFjdHVyZXIgewogICAgcmVxdWlyZShfcHJpY2UgPj0gTUlOX1NUQVJUSU5HX1BSSUNFKTsKCiAgICB1aW50IGl0ZW1JZCA9IGl0ZW1zLnB1c2goSXRlbShfbmFtZSkpIC0gMTsKICAgIGl0ZW1JZFRvT3duZXJbaXRlbUlkXSA9IGF1dGhvcjsKICAgIGl0ZW1JZFRvUHJpY2VbaXRlbUlkXSA9IF9wcmljZTsKICAgIGl0ZW1JZFRvQ2VsZWJJZFtpdGVtSWRdID0gX2NlbGViSWQ7CiAgICBpdGVtSWRUb1RyYWl0VmFsdWVzW2l0ZW1JZF0gPSBfdHJhaXRWYWx1ZXM7IC8vIFRPRE86IGZldGNoIGNlbGViIHRyYWl0cyBsYXRlcgogICAgdXNlclRvTnVtSXRlbXNbYXV0aG9yXSsrOwogIH0KCiAgZnVuY3Rpb24gd2l0aGRyYXcodWludCBfYW1vdW50LCBhZGRyZXNzIF90bykgcHVibGljIG9ubHlBdXRob3JzIHsKICAgIHJlcXVpcmUoIWlzTnVsbEFkZHJlc3MoX3RvKSk7CiAgICByZXF1aXJlKF9hbW91bnQgPD0gdGhpcy5iYWxhbmNlKTsKCiAgICBfdG8udHJhbnNmZXIoX2Ftb3VudCk7CiAgfQoKICBmdW5jdGlvbiB3aXRoZHJhd0FsbCgpIHB1YmxpYyBvbmx5QXV0aG9ycyB7CiAgICByZXF1aXJlKGF1dGhvciAhPSAweDApOwogICAgcmVxdWlyZShjb2F1dGhvciAhPSAweDApOwoKICAgIHVpbnQgaGFsZkJhbGFuY2UgPSB1aW50KFNhZmVNYXRoLmRpdih0aGlzLmJhbGFuY2UsIDIpKTsKCiAgICBhdXRob3IudHJhbnNmZXIoaGFsZkJhbGFuY2UpOwogICAgY29hdXRob3IudHJhbnNmZXIoaGFsZkJhbGFuY2UpOwogIH0KCiAgZnVuY3Rpb24gc2V0Q29BdXRob3IoYWRkcmVzcyBfY29hdXRob3IpIHB1YmxpYyBvbmx5QXV0aG9yIHsKICAgIHJlcXVpcmUoIWlzTnVsbEFkZHJlc3MoX2NvYXV0aG9yKSk7CgogICAgY29hdXRob3IgPSBfY29hdXRob3I7CiAgfQoKICBmdW5jdGlvbiBzZXRNYW51ZmFjdHVyZXIoYWRkcmVzcyBfbWFudWZhY3R1cmVyKSBwdWJsaWMgb25seUF1dGhvcnMgewogICAgcmVxdWlyZSghaXNOdWxsQWRkcmVzcyhfbWFudWZhY3R1cmVyKSk7CgogICAgbWFudWZhY3R1cmVyID0gX21hbnVmYWN0dXJlcjsKICB9CgogIC8qKiBFTkQgRlVOQ1RJT05TIEZPUiBBVVRIT1JTICoqLwoKICBmdW5jdGlvbiBnZXRJdGVtKHVpbnQgX2l0ZW1JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoCiAgICBzdHJpbmcgbmFtZSwKICAgIHVpbnQgcHJpY2UsCiAgICBhZGRyZXNzIG93bmVyLAogICAgdWludFs2XSB0cmFpdFZhbHVlcywKICAgIHVpbnQgY2VsZWJJZAogICkgewogICAgbmFtZSA9IGl0ZW1zW19pdGVtSWRdLm5hbWU7CiAgICBwcmljZSA9IGl0ZW1JZFRvUHJpY2VbX2l0ZW1JZF07CiAgICBvd25lciA9IGl0ZW1JZFRvT3duZXJbX2l0ZW1JZF07CiAgICB0cmFpdFZhbHVlcyA9IGl0ZW1JZFRvVHJhaXRWYWx1ZXNbX2l0ZW1JZF07CiAgICBjZWxlYklkID0gY2VsZWJPZihfaXRlbUlkKTsKICB9CgogIC8qKiBTVEFSVCBGVU5DVElPTlMgUkVMQVRFRCBUTyBFWFRFUk5BTCBDT05UUkFDVCBJTlRFUkFDVElPTlMgKiovCgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfdG8sIHVpbnQgX2l0ZW1JZCkgcHVibGljIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lck9mKF9pdGVtSWQpKTsKCiAgICBpdGVtSWRUb0FwcHJvdmVkUmVjaXBpZW50W19pdGVtSWRdID0gX3RvOwoKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF90bywgX2l0ZW1JZCk7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX2l0ZW1JZCkgcHVibGljIHsKICAgIHJlcXVpcmUob3duZXJPZihfaXRlbUlkKSA9PSBfZnJvbSk7CiAgICByZXF1aXJlKGlzQXBwcm92ZWQoX3RvLCBfaXRlbUlkKSk7CiAgICByZXF1aXJlKCFpc051bGxBZGRyZXNzKF90bykpOwoKICAgIF90cmFuc2ZlcihfZnJvbSwgX3RvLCBfaXRlbUlkKTsKICB9CgogIGZ1bmN0aW9uIHRha2VPd25lcnNoaXAodWludCBfaXRlbUlkKSBwdWJsaWMgewogICAgcmVxdWlyZSghaXNOdWxsQWRkcmVzcyhtc2cuc2VuZGVyKSk7CiAgICByZXF1aXJlKGlzQXBwcm92ZWQobXNnLnNlbmRlciwgX2l0ZW1JZCkpOwoKICAgIGFkZHJlc3MgY3VycmVudE93bmVyID0gaXRlbUlkVG9Pd25lcltfaXRlbUlkXTsKCiAgICBfdHJhbnNmZXIoY3VycmVudE93bmVyLCBtc2cuc2VuZGVyLCBfaXRlbUlkKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyVG9XaW5uZXIoYWRkcmVzcyBfd2lubmVyLCBhZGRyZXNzIF9sb3NlciwgdWludCBfaXRlbUlkKSBwdWJsaWMgb25seUFyZW5hIHsKICAgIHJlcXVpcmUoIWlzTnVsbEFkZHJlc3MoX3dpbm5lcikpOwogICAgcmVxdWlyZSghaXNOdWxsQWRkcmVzcyhfbG9zZXIpKTsKICAgIHJlcXVpcmUob3duZXJPZihfaXRlbUlkKSA9PSBfbG9zZXIpOwoKICAgIC8vIFJlc2V0IGl0ZW0gcHJpY2UKICAgIHVpbnQgb2xkUHJpY2UgPSBpdGVtSWRUb1ByaWNlW19pdGVtSWRdOwogICAgdWludCBuZXdQcmljZSA9IE1JTl9TVEFSVElOR19QUklDRTsKICAgIGl0ZW1JZFRvUHJpY2VbX2l0ZW1JZF0gPSBuZXdQcmljZTsKCiAgICBfdHJhbnNmZXIoX2xvc2VyLCBfd2lubmVyLCBfaXRlbUlkKTsKCiAgICBUcmFuc2ZlclRvV2lubmVyKF9pdGVtSWQsIG9sZFByaWNlLCBuZXdQcmljZSwgaXRlbXNbX2l0ZW1JZF0ubmFtZSwgX2xvc2VyLCBfd2lubmVyKTsKICB9CgogIC8qKiBFTkQgRlVOQ1RJT05TIFJFTEFURUQgVE8gRVhURVJOQUwgQ09OVFJBQ1QgSU5URVJBQ1RJT05TICoqLwoKICBmdW5jdGlvbiBpbXBsZW1lbnRzRVJDNzIxKCkgcHVibGljIHB1cmUgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKiogTU9ESUZJRVJTICoqLwoKICBtb2RpZmllciBvbmx5QXV0aG9yKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGF1dGhvcik7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgb25seUF1dGhvcnMoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gYXV0aG9yIHx8IG1zZy5zZW5kZXIgPT0gY29hdXRob3IpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIG9ubHlNYW51ZmFjdHVyZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gYXV0aG9yIHx8IG1zZy5zZW5kZXIgPT0gY29hdXRob3IgfHwgbXNnLnNlbmRlciA9PSBtYW51ZmFjdHVyZXIpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIG9ubHlBcmVuYSgpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBLUE9QX0FSRU5BX0NPTlRSQUNUX0FERFJFU1MpOwogICAgXzsKICB9CgogIC8qKiBGVU5DVElPTlMgVEhBVCBXT05UIEJFIFVTRUQgRlJFUVVFTlRMWSAqKi8KCiAgZnVuY3Rpb24gc2V0TWluU3RhcnRpbmdQcmljZSh1aW50IF9wcmljZSkgcHVibGljIG9ubHlBdXRob3JzIHsKICAgIE1JTl9TVEFSVElOR19QUklDRSA9IF9wcmljZTsKICB9CgogIGZ1bmN0aW9uIHNldEdyb3d0aEJ1bXAodWludCBfYnVtcCkgcHVibGljIG9ubHlBdXRob3JzIHsKICAgIEdST1dUSF9CVU1QID0gX2J1bXA7CiAgfQoKICBmdW5jdGlvbiBzZXREaXZpZGVuZCh1aW50IF9kaXZpZGVuZCkgcHVibGljIG9ubHlBdXRob3JzIHsKICAgIERJVklERU5EID0gX2RpdmlkZW5kOwogIH0KCiAgZnVuY3Rpb24gc2V0UHJpY2VJbmNyZWFzZVNjYWxlKHVpbnQgX3NjYWxlKSBwdWJsaWMgb25seUF1dGhvcnMgewogICAgUFJJQ0VfSU5DUkVBU0VfU0NBTEUgPSBfc2NhbGU7CiAgfQoKICBmdW5jdGlvbiBzZXRLcG9wQ2VsZWJDb250cmFjdEFkZHJlc3MoYWRkcmVzcyBfYWRkcmVzcykgcHVibGljIG9ubHlBdXRob3JzIHsKICAgIEtQT1BfQ0VMRUJfQ09OVFJBQ1RfQUREUkVTUyA9IF9hZGRyZXNzOwogIH0KCiAgZnVuY3Rpb24gc2V0S3BvcEFyZW5hQ29udHJhY3RBZGRyZXNzKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyBvbmx5QXV0aG9ycyB7CiAgICBLUE9QX0FSRU5BX0NPTlRSQUNUX0FERFJFU1MgPSBfYWRkcmVzczsKICB9CgogIC8qKiBQUklWQVRFIEZVTkNUSU9OUyAqKi8KCiAgZnVuY3Rpb24gaXNBcHByb3ZlZChhZGRyZXNzIF90bywgdWludCBfaXRlbUlkKSBwcml2YXRlIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIGl0ZW1JZFRvQXBwcm92ZWRSZWNpcGllbnRbX2l0ZW1JZF0gPT0gX3RvOwogIH0KCiAgZnVuY3Rpb24gaXNOdWxsQWRkcmVzcyhhZGRyZXNzIF9hZGRyKSBwcml2YXRlIHB1cmUgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIF9hZGRyID09IDB4MDsKICB9Cn0='.
	

]
