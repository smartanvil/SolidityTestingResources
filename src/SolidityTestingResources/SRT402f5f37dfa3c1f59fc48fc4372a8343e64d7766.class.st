Class {
	#name : #SRT402f5f37dfa3c1f59fc48fc4372a8343e64d7766,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT402f5f37dfa3c1f59fc48fc4372a8343e64d7766 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICBhc3NlcnQoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKY29udHJhY3QgRVJDMjBJbnRlcmZhY2UgewogICAgLy8gR2V0IHRoZSB0b3RhbCB0b2tlbiBzdXBwbHkKICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgc3VwcGx5KTsKCiAgICAvLyBHZXQgdGhlIGFjY291bnQgYmFsYW5jZSBvZiBhbm90aGVyIGFjY291bnQgd2l0aCBhZGRyZXNzIF9vd25lcgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKCiAgICAvLyBTZW5kIF92YWx1ZSBhbW91bnQgb2YgdG9rZW5zIHRvIGFkZHJlc3MgX3RvCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vIFNlbmQgX3ZhbHVlIGFtb3VudCBvZiB0b2tlbnMgZnJvbSBhZGRyZXNzIF9mcm9tIHRvIGFkZHJlc3MgX3RvCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLyBBbGxvdyBfc3BlbmRlciB0byB3aXRoZHJhdyBmcm9tIHlvdXIgYWNjb3VudCwgbXVsdGlwbGUgdGltZXMsIHVwIHRvIHRoZSBfdmFsdWUgYW1vdW50LgogICAgLy8gSWYgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYWdhaW4gaXQgb3ZlcndyaXRlcyB0aGUgY3VycmVudCBhbGxvd2FuY2Ugd2l0aCBfdmFsdWUuCiAgICAvLyB0aGlzIGZ1bmN0aW9uIGlzIHJlcXVpcmVkIGZvciBzb21lIERFWCBmdW5jdGlvbmFsaXR5CiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLyBSZXR1cm5zIHRoZSBhbW91bnQgd2hpY2ggX3NwZW5kZXIgaXMgc3RpbGwgYWxsb3dlZCB0byB3aXRoZHJhdyBmcm9tIF9vd25lcgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwoKICAgIC8vIFRyaWdnZXJlZCB3aGVuIHRva2VucyBhcmUgdHJhbnNmZXJyZWQuCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKCiAgICAvLyBUcmlnZ2VyZWQgd2hlbmV2ZXIgYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgaXMgY2FsbGVkLgogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cn0KICAgCmNvbnRyYWN0IFRva2VuIGlzIEVSQzIwSW50ZXJmYWNlIHsKICAgIAogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CiAgICAKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkxOQyI7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiTGlua2VyIENvaW4iOwogICAgdWludDggcHVibGljIGNvbnN0YW50IGRlY2ltYWxzID0gMTg7CiAgICB1aW50MjU2IF90b3RhbFN1cHBseSA9IDUwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDsKICAgIAogICAgLy9BTUwgJiBLWUMKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGZyb3plbkFjY291bnQ7CiAgICBldmVudCBGcm96ZW5GdW5kcyhhZGRyZXNzIHRhcmdldCwgYm9vbCBmcm96ZW4pOwogIAogICAgLy8gTGlua2VyIGNvaW4gaGFzICA1KjEwXjI1IHVuaXRzLCBlYWNoIHVuaXQgaGFzIDEwXjE4ICBtaW5pbXVtIGZyYWN0aW9ucyB3aGljaCBhcmUgY2FsbGVkIAogICAgLy8gT3duZXIgb2YgdGhpcyBjb250cmFjdAogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgLy8gQmFsYW5jZXMgZm9yIGVhY2ggYWNjb3VudAogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAgIC8vIE93bmVyIG9mIGFjY291bnQgYXBwcm92ZXMgdGhlIHRyYW5zZmVyIG9mIGFuIGFtb3VudCB0byBhbm90aGVyIGFjY291bnQKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAgIC8vIEZ1bmN0aW9ucyB3aXRoIHRoaXMgbW9kaWZpZXIgY2FuIG9ubHkgYmUgZXhlY3V0ZWQgYnkgdGhlIG93bmVyCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBJc0ZyZWV6ZWRBY2NvdW50KGFkZHJlc3MgX2FkZHIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIGZyb3plbkFjY291bnRbX2FkZHJdOwogICAgfQoKICAgIC8vIENvbnN0cnVjdG9yCiAgICBmdW5jdGlvbiBUb2tlbigpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIGJhbGFuY2VzW293bmVyXSA9IF90b3RhbFN1cHBseTsKICAgIH0KCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSkgewogICAgICAgIHN1cHBseSA9IF90b3RhbFN1cHBseTsKICAgIH0KCiAgICAvLyBXaGF0IGlzIHRoZSBiYWxhbmNlIG9mIGEgcGFydGljdWxhciBhY2NvdW50PwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgLy8gVHJhbnNmZXIgdGhlIGJhbGFuY2UgZnJvbSBvd25lcidzIGFjY291bnQgdG8gYW5vdGhlciBhY2NvdW50CiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpCiAgICB7CiAgICAgICAgaWYgKF90byAhPSAweDAgIC8vIFByZXZlbnQgdHJhbnNmZXIgdG8gMHgwIGFkZHJlc3MuCiAgICAgICAgICAgICYmIElzRnJlZXplZEFjY291bnQobXNnLnNlbmRlcikgPT0gZmFsc2UKICAgICAgICAgICAgJiYgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlIAogICAgICAgICAgICAmJiBfdmFsdWUgPiAwCiAgICAgICAgICAgICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLy8gU2VuZCBfdmFsdWUgYW1vdW50IG9mIHRva2VucyBmcm9tIGFkZHJlc3MgX2Zyb20gdG8gYWRkcmVzcyBfdG8KICAgIC8vIFRoZSB0cmFuc2ZlckZyb20gbWV0aG9kIGlzIHVzZWQgZm9yIGEgd2l0aGRyYXcgd29ya2Zsb3csIGFsbG93aW5nIGNvbnRyYWN0cyB0byBzZW5kCiAgICAvLyB0b2tlbnMgb24geW91ciBiZWhhbGYsIGZvciBleGFtcGxlIHRvICJkZXBvc2l0IiB0byBhIGNvbnRyYWN0IGFkZHJlc3MgYW5kL29yIHRvIGNoYXJnZQogICAgLy8gZmVlcyBpbiBzdWItY3VycmVuY2llczsgdGhlIGNvbW1hbmQgc2hvdWxkIGZhaWwgdW5sZXNzIHRoZSBfZnJvbSBhY2NvdW50IGhhcwogICAgLy8gZGVsaWJlcmF0ZWx5IGF1dGhvcml6ZWQgdGhlIHNlbmRlciBvZiB0aGUgbWVzc2FnZSB2aWEgc29tZSBtZWNoYW5pc207IHdlIHByb3Bvc2UKICAgIC8vIHRoZXNlIHN0YW5kYXJkaXplZCBBUElzIGZvciBhcHByb3ZhbDoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGlmIChfdG8gIT0gMHgwICAvLyBQcmV2ZW50IHRyYW5zZmVyIHRvIDB4MCBhZGRyZXNzLgogICAgICAgICAgICAmJiBJc0ZyZWV6ZWRBY2NvdW50KF9mcm9tKSA9PSBmYWxzZQogICAgICAgICAgICAmJiBiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlCiAgICAgICAgICAgICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZQogICAgICAgICAgICAmJiBfdmFsdWUgPiAwCiAgICAgICAgICAgICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgIC8vIEFsbG93IF9zcGVuZGVyIHRvIHdpdGhkcmF3IGZyb20geW91ciBhY2NvdW50LCBtdWx0aXBsZSB0aW1lcywgdXAgdG8gdGhlIF92YWx1ZSBhbW91bnQuCiAgICAvLyBJZiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBhZ2FpbiBpdCBvdmVyd3JpdGVzIHRoZSBjdXJyZW50IGFsbG93YW5jZSB3aXRoIF92YWx1ZS4KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gRnJlZXplQWNjb3VudChhZGRyZXNzIHRhcmdldCwgYm9vbCBmcmVlemUpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGZyb3plbkFjY291bnRbdGFyZ2V0XSA9IGZyZWV6ZTsKICAgICAgICBGcm96ZW5GdW5kcyh0YXJnZXQsIGZyZWV6ZSk7CiAgICB9Cn0KIApjb250cmFjdCBNeVRva2VuIGlzIFRva2VuIHsKICAgIAogICAgLy9MUCBTZXR1cCBscDpsaXF1aWRpdHkgcHJvdmlkZXIKICAgIAogICAgdWludDggcHVibGljIGNvbnN0YW50IGRlY2ltYWxPZlByaWNlID0gMTA7ICAvLyBMTkMvRVRICiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBtdWx0aXBsaWVyT2ZQcmljZSA9IDEwMDAwMDAwMDAwOwogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgbXVsdGlwbGllciA9IDEwMDAwMDAwMDAwMDAwMDAwMDA7CiAgICB1aW50MjU2IHB1YmxpYyBscEFza1ByaWNlID0gMTAwMDAwMDAwMDAwOyAvL0xQIHNlbGwgcHJpY2UKICAgIHVpbnQyNTYgcHVibGljIGxwQmlkUHJpY2UgPSAxOyAvL0xQIGJ1eSBwcmljZQogICAgdWludDI1NiBwdWJsaWMgbHBBc2tWb2x1bWUgPSAwOyAvL0xQIHNlbGwgdm9sdW1lCiAgICB1aW50MjU2IHB1YmxpYyBscEJpZFZvbHVtZSA9IDA7IC8vTFAgYnV5IHZvbHVtZQogICAgdWludDI1NiBwdWJsaWMgbHBNYXhWb2x1bWUgPSAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOyAvL3RoZSBkZWFmdWx0IG1heGltdW0gdm9sdW1lIG9mIHRoZSBsaXF1aWRpZHR5IHByb3ZpZGVyIGlzIDEwMDAwIExOQwogICAgCiAgICAvL0xQIFBhcmEKICAgIHVpbnQyNTYgcHVibGljIGVkZ2VQZXJQb3NpdGlvbiA9IDE7IC8vIChscFRhcmdldFBvc2l0aW9uIC0gbHBQb3NpdGlvbikgLyBlZGdlUGVyUG9zaXRpb24gPSB0aGUgcGVuYWx0eSBvZiBtaXNzbWF0Y2hlZCBwb3NpdGlvbgogICAgdWludDI1NiBwdWJsaWMgbHBUYXJnZXRQb3NpdGlvbjsKICAgIHVpbnQyNTYgcHVibGljIGxwRmVlQnAgPSAxMDsgLy8gbHBGZWVCcCBpcyBiYXNpcyBwb2ludCBvZiBmZWUgY29sbGVjdGVkIGJ5IExQCiAgICAKICAgIGJvb2wgcHVibGljIGlzTHBTdGFydCA9IGZhbHNlOwogICAgYm9vbCBwdWJsaWMgaXNCdXJuID0gZmFsc2U7CiAgICAKICAgIGZ1bmN0aW9uIE15VG9rZW4oKSBwdWJsaWMgewogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gX3RvdGFsU3VwcGx5OwogICAgICAgIGxwVGFyZ2V0UG9zaXRpb24gPSAyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA7CiAgICB9CiAgICAKICAgIGV2ZW50IEJ1cm4oYWRkcmVzcyBpbmRleGVkIGZyb20sIHVpbnQyNTYgdmFsdWUpOwogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZiAoaXNCdXJuID09IHRydWUpCiAgICAgICAgewogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgICAgICBfdG90YWxTdXBwbHkgPSBfdG90YWxTdXBwbHkuc3ViKF92YWx1ZSk7CiAgICAgICAgICAgIEJ1cm4obXNnLnNlbmRlciwgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIGVsc2V7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGV2ZW50IFNldEJ1cm5TdGFydChib29sIF9pc0J1cm5TdGFydCk7CiAgICBmdW5jdGlvbiBzZXRCdXJuU3RhcnQoYm9vbCBfaXNCdXJuU3RhcnQpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIGlzQnVybiA9IF9pc0J1cm5TdGFydDsKICAgIH0KCiAgICAvL093bmVyIHdpbGwgYmUgTHAgCiAgICBldmVudCBTZXRQcmljZXModWludDI1NiBfbHBCaWRQcmljZSwgdWludDI1NiBfbHBBc2tQcmljZSwgdWludDI1NiBfbHBCaWRWb2x1bWUsIHVpbnQyNTYgX2xwQXNrVm9sdW1lKTsKICAgIGZ1bmN0aW9uIHNldFByaWNlcyh1aW50MjU2IF9scEJpZFByaWNlLCB1aW50MjU2IF9scEFza1ByaWNlLCB1aW50MjU2IF9scEJpZFZvbHVtZSwgdWludDI1NiBfbHBBc2tWb2x1bWUpIG9ubHlPd25lciBwdWJsaWN7CiAgICAgICAgcmVxdWlyZShfbHBCaWRQcmljZSA8IF9scEFza1ByaWNlKTsKICAgICAgICByZXF1aXJlKF9scEJpZFZvbHVtZSA8PSBscE1heFZvbHVtZSk7CiAgICAgICAgcmVxdWlyZShfbHBBc2tWb2x1bWUgPD0gbHBNYXhWb2x1bWUpOwogICAgICAgIGxwQmlkUHJpY2UgPSBfbHBCaWRQcmljZTsKICAgICAgICBscEFza1ByaWNlID0gX2xwQXNrUHJpY2U7CiAgICAgICAgbHBCaWRWb2x1bWUgPSBfbHBCaWRWb2x1bWU7CiAgICAgICAgbHBBc2tWb2x1bWUgPSBfbHBBc2tWb2x1bWU7CiAgICAgICAgU2V0UHJpY2VzKF9scEJpZFByaWNlLCBfbHBBc2tQcmljZSwgX2xwQmlkVm9sdW1lLCBfbHBBc2tWb2x1bWUpOwogICAgfQogICAgCiAgICBldmVudCBTZXRMcE1heFZvbHVtZSh1aW50MjU2IF9scE1heFZvbHVtZSk7CiAgICBmdW5jdGlvbiBzZXRMcE1heFZvbHVtZSh1aW50MjU2IF9scE1heFZvbHVtZSkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfbHBNYXhWb2x1bWUgPCAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwKTsKICAgICAgICBscE1heFZvbHVtZSA9IF9scE1heFZvbHVtZTsKICAgICAgICBpZiAobHBNYXhWb2x1bWUgPCBscEJpZFZvbHVtZSl7CiAgICAgICAgICAgIGxwQmlkVm9sdW1lID0gbHBNYXhWb2x1bWU7CiAgICAgICAgfQogICAgICAgIGlmIChscE1heFZvbHVtZSA8IGxwQXNrVm9sdW1lKXsKICAgICAgICAgICAgbHBBc2tWb2x1bWUgPSBscE1heFZvbHVtZTsKICAgICAgICB9CiAgICAgICAgU2V0THBNYXhWb2x1bWUoX2xwTWF4Vm9sdW1lKTsKICAgIH0KICAgIAogICAgZXZlbnQgU2V0RWRnZVBlclBvc2l0aW9uKHVpbnQyNTYgX2VkZ2VQZXJQb3NpdGlvbik7CiAgICBmdW5jdGlvbiBzZXRFZGdlUGVyUG9zaXRpb24odWludDI1NiBfZWRnZVBlclBvc2l0aW9uKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICAvL3JlcXVpcmUoX2VkZ2VQZXJQb3NpdGlvbiA8IDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCk7CiAgICAgICAgZWRnZVBlclBvc2l0aW9uID0gX2VkZ2VQZXJQb3NpdGlvbjsKICAgICAgICBTZXRFZGdlUGVyUG9zaXRpb24oX2VkZ2VQZXJQb3NpdGlvbik7CiAgICB9CiAgICAKICAgIGV2ZW50IFNldExQVGFyZ2V0UG9zdGlvbih1aW50MjU2IF9scFRhcmdldFBvc2l0aW9ubik7CiAgICBmdW5jdGlvbiBzZXRMUFRhcmdldFBvc3Rpb24odWludDI1NiBfbHBUYXJnZXRQb3NpdGlvbikgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShfbHBUYXJnZXRQb3NpdGlvbiA8dG90YWxTdXBwbHkoKSApOwogICAgICAgIGxwVGFyZ2V0UG9zaXRpb24gPSBfbHBUYXJnZXRQb3NpdGlvbjsKICAgICAgICBTZXRMUFRhcmdldFBvc3Rpb24oX2xwVGFyZ2V0UG9zaXRpb24pOwogICAgfQogICAgCiAgICBldmVudCBTZXRMcEZlZSh1aW50MjU2IF9scEZlZUJwKTsKICAgIGZ1bmN0aW9uIHNldExwRmVlKHVpbnQyNTYgX2xwRmVlQnApIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX2xwRmVlQnAgPD0gMTAwKTsKICAgICAgICBscEZlZUJwID0gX2xwRmVlQnA7CiAgICAgICAgU2V0THBGZWUobHBGZWVCcCk7CiAgICB9CiAgICAKICAgIGV2ZW50IFNldExwSXNTdGFydChib29sIF9pc0xwU3RhcnQpOwogICAgZnVuY3Rpb24gc2V0THBJc1N0YXJ0KGJvb2wgX2lzTHBTdGFydCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgaXNMcFN0YXJ0ID0gX2lzTHBTdGFydDsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gZ2V0THBCaWRQcmljZSgpcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpCiAgICB7IAogICAgICAgIHVpbnQyNTYgbHBQb3NpdGlvbiA9IGJhbGFuY2VPZihvd25lcik7CiAgICAgICAgICAgIAogICAgICAgIGlmIChscFRhcmdldFBvc2l0aW9uID49IGxwUG9zaXRpb24pCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gbHBCaWRQcmljZTsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIGxwQmlkUHJpY2Uuc3ViKCgoKGxwUG9zaXRpb24uc3ViKGxwVGFyZ2V0UG9zaXRpb24pKS5kaXYobXVsdGlwbGllcikpLm11bChlZGdlUGVyUG9zaXRpb24pKS5kaXYobXVsdGlwbGllck9mUHJpY2UpKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdldExwQXNrUHJpY2UoKXB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KQogICAgewogICAgICAgIHVpbnQyNTYgbHBQb3NpdGlvbiA9IGJhbGFuY2VPZihvd25lcik7CiAgICAgICAgICAgIAogICAgICAgIGlmIChscFRhcmdldFBvc2l0aW9uIDw9IGxwUG9zaXRpb24pCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gbHBBc2tQcmljZTsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIGxwQXNrUHJpY2UuYWRkKCgoKGxwVGFyZ2V0UG9zaXRpb24uc3ViKGxwUG9zaXRpb24pKS5kaXYobXVsdGlwbGllcikpLm11bChlZGdlUGVyUG9zaXRpb24pKS5kaXYobXVsdGlwbGllck9mUHJpY2UpKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdldExwSXNXb3JraW5nKGludCBtaW5TcGVhZEJwKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCApCiAgICB7CiAgICAgICAgaWYgKGlzTHBTdGFydCA9PSBmYWxzZSkKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAKICAgICAgICBpZiAobHBBc2tWb2x1bWUgPT0gMCB8fCBscEJpZFZvbHVtZSA9PSAwKQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBpbnQyNTYgYmlkUHJpY2UgPSBpbnQyNTYoZ2V0THBCaWRQcmljZSgpKTsKICAgICAgICBpbnQyNTYgYXNrUHJpY2UgPSBpbnQyNTYoZ2V0THBBc2tQcmljZSgpKTsKICAgICAgICAKICAgICAgICBpZiAoYXNrUHJpY2UgLSBiaWRQcmljZSA+IG1pblNwZWFkQnAgKiAoYmlkUHJpY2UgKyBhc2tQcmljZSkgLyAyIC8gMTAwMDApCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBnZXRBbW91bnRPZkxpbmtlckJ1eSh1aW50MjU2IGV0aGVyQW1vdW50T2ZTZWxsKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikKICAgIHsKICAgICAgICByZXR1cm4gKCgoIG11bHRpcGxpZXJPZlByaWNlLm11bChldGhlckFtb3VudE9mU2VsbCkgKS5kaXYoZ2V0THBBc2tQcmljZSgpKSkubXVsKHVpbnQyNTYoMTAwMDApLnN1YihscEZlZUJwKSkpLmRpdih1aW50MjU2KDEwMDAwKSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGdldEFtb3VudE9mRXRoZXJTZWxsKHVpbnQyNTYgbGlua2VyQW1vdW50T2ZCdXkpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KQogICAgewogICAgICAgIHJldHVybiAoKChnZXRMcEJpZFByaWNlKCkubXVsKGxpbmtlckFtb3VudE9mQnV5KSkuZGl2KG11bHRpcGxpZXJPZlByaWNlKSkubXVsKHVpbnQyNTYoMTAwMDApLnN1YihscEZlZUJwKSkpLmRpdih1aW50MjU2KDEwMDAwKSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uICgpIHB1YmxpYyBwYXlhYmxlIHsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYnV5KCkgcHVibGljIHBheWFibGUgcmV0dXJucyAodWludDI1Nil7CiAgICAgICAgcmVxdWlyZSAoZ2V0THBJc1dvcmtpbmcoNTAwKSk7ICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIFdoZXRoZXIgTHAgQmlkIGFuZCBBc2sgc3ByZWFkIGlzIGxlc3MgdGhhbiA1JQogICAgICAgIHVpbnQyNTYgYW1vdW50ID0gZ2V0QW1vdW50T2ZMaW5rZXJCdXkobXNnLnZhbHVlKTsgICAvLyBjYWxjdWxhdGVzIHRoZSBhbW91bnQgb2YgYnV5IGZyb20gY3VzdG9tZXIgCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tvd25lcl0gPj0gYW1vdW50KTsgICAgICAgICAgICAgICAgICAvLyBjaGVja3MgaWYgaXQgaGFzIGVub3VnaCB0byBzZWxsCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQoYW1vdW50KTsgICAgICAgICAgICAgICAgICAgICAvLyBhZGRzIHRoZSBhbW91bnQgdG8gYnV5ZXIncyBiYWxhbmNlCiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gYmFsYW5jZXNbb3duZXJdLnN1YihhbW91bnQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN1YnRyYWN0cyBhbW91bnQgZnJvbSBzZWxsZXIncyBiYWxhbmNlCiAgICAgICAgbHBBc2tWb2x1bWUgPSBscEFza1ZvbHVtZS5zdWIoYW1vdW50KTsKICAgICAgICBUcmFuc2Zlcihvd25lciwgbXNnLnNlbmRlciwgYW1vdW50KTsgICAgICAgICAgICAgICAgIC8vIGV4ZWN1dGUgYW4gZXZlbnQgcmVmbGVjdGluZyB0aGUgY2hhbmcgICAgICAgICAgICAgICAvLyBlbmRzIGZ1bmN0aW9uIGFuZCByZXR1cm5zCiAgICAgICAgcmV0dXJuIGFtb3VudDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gc2VsbCh1aW50MjU2IGFtb3VudClwdWJsaWMgcmV0dXJucyAodWludDI1NikgeyAgICAKICAgICAgICByZXF1aXJlIChnZXRMcElzV29ya2luZyg1MDApKTsKICAgICAgICByZXF1aXJlIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBhbW91bnQpOyAgICAgICAgICAgLy8gY2hlY2tzIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaCB0byBzZWxsCiAgICAgICAgYmFsYW5jZXNbb3duZXJdID0gYmFsYW5jZXNbb3duZXJdLmFkZChhbW91bnQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZHMgdGhlIGFtb3VudCB0byBvd25lcidzIGJhbGFuY2UKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihhbW91bnQpOyAgICAgICAgICAgICAgICAgICAgIC8vIHN1YnRyYWN0cyB0aGUgYW1vdW50IGZyb20gc2VsbGVyJ3MgYmFsYW5jZQogICAgICAgIGxwQmlkVm9sdW1lID0gbHBCaWRWb2x1bWUuc3ViKGFtb3VudCk7CiAgICAgICAgdWludDI1NiBsaW5rZXJTZW5kQW1vdW50ID0gZ2V0QW1vdW50T2ZFdGhlclNlbGwoYW1vdW50KTsKICAgICAgICAKICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGxpbmtlclNlbmRBbW91bnQpOyAgICAgICAgIC8vIHNlbmRzIGV0aGVyIHRvIHRoZSBzZWxsZXI6IGl0J3MgaW1wb3J0YW50IHRvIGRvIHRoaXMgbGFzdCB0byBwcmV2ZW50IHJlY3Vyc2lvbiBhdHRhY2tzCiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgdGhpcywgbGlua2VyU2VuZEFtb3VudCk7ICAgICAgIC8vIGV4ZWN1dGVzIGFuIGV2ZW50IHJlZmxlY3Rpbmcgb24gdGhlIGNoYW5nZQogICAgICAgIHJldHVybiBsaW5rZXJTZW5kQW1vdW50OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5kcyBmdW5jdGlvbiBhbmQgcmV0dXJucwogICAgfQogICAgCiAgICBmdW5jdGlvbiB0cmFuc2ZlckV0aGVyKHVpbnQyNTYgYW1vdW50KSBvbmx5T3duZXIgcHVibGljewogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoYW1vdW50KTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCB0aGlzLCBhbW91bnQpOwogICAgfQp9'.
	

]
