Class {
	#name : #SRT908c41461cddefb9f7b4d90c03b66c1c52ab6093,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT908c41461cddefb9f7b4d90c03b66c1c52ab6093 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuODsKCmNvbnRyYWN0IFJvdWxldGgKewogIC8vR2FtZSBhbmQgR2xvYmFsIFZhcmlhYmxlcywgU3RydWN0dXJlIG9mIGdhbWJsZXMKICBhZGRyZXNzIHB1YmxpYyBkZXZlbG9wZXI7CiAgdWludDggcHVibGljIGJsb2NrRGVsYXk7IC8vbmIgb2YgYmxvY2tzIHRvIHdhaXQgYmVmb3JlIHNwaW4KICB1aW50OCBwdWJsaWMgYmxvY2tFeHBpcmF0aW9uOyAvL25iIG9mIGJsb2NrcyBiZWZvcmUgYmV0IGV4cGlyYXRpb24gKGR1ZSB0byBoYXNoIHN0b3JhZ2UgbGltaXRzKQogIHVpbnQyNTYgcHVibGljIG1heEdhbWJsZTsgLy9tYXggZ2FtYmxlIHZhbHVlIG1hbnVhbGx5IHNldCBieSBjb25maWcKICB1aW50MjU2IHB1YmxpYyBtaW5HYW1ibGU7IC8vbWluIGdhbWJsZSB2YWx1ZSBtYW51YWxseSBzZXQgYnkgY29uZmlnCiAgdWludCBwdWJsaWMgbWF4QmV0c1BlckJsb2NrOyAvL2xpbWl0cyB0aGUgbnVtYmVyIG9mIGJldHMgcGVyIGJsb2NrcyB0byBwcmV2ZW50IG1pbmVyIGNoZWF0aW5nCiAgdWludCBuYkJldHNDdXJyZW50QmxvY2s7IC8vY291bnRzIHRoZSBuYiBvZiBiZXRzIGluIHRoZSBibG9jawoKICAgIAogIC8vR2FtYmxlcwogIGVudW0gQmV0VHlwZXN7bnVtYmVyLCBjb2xvciwgcGFyaXR5LCBkb3plbiwgY29sdW1uLCBsb3doaWdofSAKICBzdHJ1Y3QgR2FtYmxlCiAgewogICAgYWRkcmVzcyBwbGF5ZXI7CiAgICBib29sIHNwaW5uZWQ7IC8vV2FzIHRoZSByb3VsZXRoIHNwaW5uZWQgPwogICAgYm9vbCB3aW47CiAgICAvL1Bvc3NpYmxlIGJldCB0eXBlcwogICAgQmV0VHlwZXMgYmV0VHlwZTsKICAgIHVpbnQ4IGlucHV0OyAvL3N0b3JlcyBudW1iZXIsIGNvbG9yLCBkb3plbiBvciBvZGRldmVuCiAgICB1aW50MjU2IHdhZ2VyOwogICAgdWludDI1NiBibG9ja051bWJlcjsgLy9ibG9jayBvZiBiZXQKICAgIHVpbnQyNTYgYmxvY2tTcGlubmVkOyAvL2Jsb2NrIG9mIHNwaW4KICAgIHVpbnQ4IHdoZWVsUmVzdWx0OwogIH0KICBHYW1ibGVbXSBwcml2YXRlIGdhbWJsZXM7CiAgdWludCBwdWJsaWMgdG90YWxHYW1ibGVzOyAKICAvL1RyYWNraW5nIHByb2dyZXNzIG9mIHBsYXllcnMKICBtYXBwaW5nIChhZGRyZXNzPT51aW50KSBnYW1ibGVJbmRleDsgLy9jdXJyZW50IGdhbWJsZSBpbmRleCBvZiB0aGUgcGxheWVyCiAgLy9yZWNvcmRzIGN1cnJlbnQgc3RhdHVzIG9mIHBsYXllcgogIGVudW0gU3RhdHVzIHt3YWl0aW5nRm9yQmV0LCB3YWl0aW5nRm9yU3Bpbn0gbWFwcGluZyAoYWRkcmVzcz0+U3RhdHVzKSBwbGF5ZXJTdGF0dXM7IAoKCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAgLy8gICAgICAgIE1hbmFnZW1lbnQgJiBDb25maWcgRlVOQ1RJT05TICAgICAgICAvLwogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgoKICBmdW5jdGlvbiAgUm91bGV0aCgpIC8vY3JlYXRpb24gc2V0dGluZ3MKICB7IAogICAgZGV2ZWxvcGVyID0gbXNnLnNlbmRlcjsKICAgIGJsb2NrRGVsYXk9MDsgLy9pbmRpY2F0ZXMgd2hpY2ggYmxvY2sgYWZ0ZXIgYmV0IHdpbGwgYmUgdXNlZCBmb3IgUk5HCiAgICBibG9ja0V4cGlyYXRpb249MjAwOyAvL2RlbGF5IGFmdGVyIHdoaWNoIGdhbWJsZSBleHBpcmVzCiAgICBtaW5HYW1ibGU9NTAgZmlubmV5OyAvL2NvbmZpZ3VyYWJsZSBtaW4gYmV0CiAgICBtYXhHYW1ibGU9NzUwIGZpbm5leTsgLy9jb25maWd1cmFibGUgbWF4IGJldAogICAgbWF4QmV0c1BlckJsb2NrPTU7IC8vIGxpbWl0IG9mIGJldHMgcGVyIGJsb2NrLCB0byBwcmV2ZW50IG11bHRpcGxlIGJldHMgcGVyIG1pbmVycwogIH0KICAgIAogIG1vZGlmaWVyIG9ubHlEZXZlbG9wZXIoKSAKICB7CiAgICBpZiAobXNnLnNlbmRlciE9ZGV2ZWxvcGVyKSB0aHJvdzsKICAgIF87CiAgfQoKICBmdW5jdGlvbiBhZGRCYW5rcm9sbCgpCiAgICBvbmx5RGV2ZWxvcGVyCiAgICBwYXlhYmxlIHsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZUJhbmtyb2xsKHVpbnQyNTYgX2Ftb3VudF93ZWkpCiAgICBvbmx5RGV2ZWxvcGVyCiAgewogICAgaWYgKCFkZXZlbG9wZXIuc2VuZChfYW1vdW50X3dlaSkpIHRocm93OwogIH0KICAgIAogIGZ1bmN0aW9uIGNoYW5nZURldmVsb3Blcl9vbmx5X0RldihhZGRyZXNzIG5ld19kZXYpCiAgICBvbmx5RGV2ZWxvcGVyCiAgewogICAgZGV2ZWxvcGVyPW5ld19kZXY7CiAgfQoKCiAgLy9BY3RpdmF0ZSwgRGVhY3RpdmF0ZSBCZXR0aW5nCiAgZW51bSBTdGF0ZXN7YWN0aXZlLCBpbmFjdGl2ZX0gU3RhdGVzIHByaXZhdGUgY29udHJhY3Rfc3RhdGU7CiAgICAKICBmdW5jdGlvbiBkaXNhYmxlQmV0dGluZ19vbmx5X0RldigpCiAgICBvbmx5RGV2ZWxvcGVyCiAgewogICAgY29udHJhY3Rfc3RhdGU9U3RhdGVzLmluYWN0aXZlOwogIH0KCgogIGZ1bmN0aW9uIGVuYWJsZUJldHRpbmdfb25seV9EZXYoKQogICAgb25seURldmVsb3BlcgogIHsKICAgIGNvbnRyYWN0X3N0YXRlPVN0YXRlcy5hY3RpdmU7CgogIH0KICAgIAogIG1vZGlmaWVyIG9ubHlBY3RpdmUoKQogIHsKICAgIGlmIChjb250cmFjdF9zdGF0ZT09U3RhdGVzLmluYWN0aXZlKSB0aHJvdzsKICAgIF87CiAgfQoKCgogIC8vQ2hhbmdlIHNvbWUgc2V0dGluZ3Mgd2l0aGluIHNhZmV0eSBib3VuZHMKICBmdW5jdGlvbiBjaGFuZ2VTZXR0aW5nc19vbmx5X0Rldih1aW50IG5ld01heEJldHNCbG9jaywgdWludDI1NiBuZXdNaW5HYW1ibGUsIHVpbnQyNTYgbmV3TWF4R2FtYmxlLCB1aW50OCBuZXdCbG9ja0RlbGF5LCB1aW50OCBuZXdCbG9ja0V4cGlyYXRpb24pCiAgICBvbmx5RGV2ZWxvcGVyCiAgewogICAgLy9NYXggbnVtYmVyIG9mIGJldHMgcGVyIGJsb2NrIHRvIHByZXZlbnQgbWluZXIgY2hlYXRpbmcKICAgIG1heEJldHNQZXJCbG9jaz1uZXdNYXhCZXRzQmxvY2s7CiAgICAvL01BWCBCRVQgOiBsaW1pdGVkIGJ5IHBheXJvbGwvKGNhc2lub1N0YXRpc3RpY2FsTGltaXQqMzUpCiAgICBpZiAobmV3TWF4R2FtYmxlPG5ld01pbkdhbWJsZSkgdGhyb3c7ICAKICAgIG1heEdhbWJsZT1uZXdNYXhHYW1ibGU7IAogICAgbWluR2FtYmxlPW5ld01pbkdhbWJsZTsKICAgIC8vRGVsYXkgYmVmb3JlIHNwaW4gOgogICAgYmxvY2tEZWxheT1uZXdCbG9ja0RlbGF5OwogICAgaWYgKG5ld0Jsb2NrRXhwaXJhdGlvbiA8IGJsb2NrRGVsYXkgKyAyNTApIHRocm93OwogICAgYmxvY2tFeHBpcmF0aW9uPW5ld0Jsb2NrRXhwaXJhdGlvbjsKICB9CgoKICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICAvLyAgICAgICAgICAgICAgICAgQkVUVElORyBGVU5DVElPTlMgICAgICAgICAgICAgICAgICAgIC8vCiAgLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCgogIC8vKioqLy9iYXNpYyBiZXR0aW5nIHdpdGhvdXQgTWlzdCBvciBjb250cmFjdCBjYWxsCiAgLy9hY3RpdmF0ZXMgd2hlbiB0aGUgcGxheWVyIG9ubHkgc2VuZHMgZXRoIHRvIHRoZSBjb250cmFjdAogIC8vd2l0aG91dCBzcGVjaWZ5aW5nIGFueSB0eXBlIG9mIGJldC4KICBmdW5jdGlvbiAoKQogICAgcGF5YWJsZQogICAgewogICAgICAvL2RlZmF1dCBiZXQgOiBiZXQgb24gcmVkCiAgICAgIGJldE9uQ29sb3IoZmFsc2UpOwogICAgfSAKCiAgLy8qKiovL0d1YXJhbnRlZXMgdGhhdCBnYW1ibGUgaXMgdW5kZXIgbWF4IGJldCBhbmQgYWJvdmUgbWluLgogIC8vIHJldHVybnMgYmV0IHZhbHVlCiAgZnVuY3Rpb24gY2hlY2tCZXRWYWx1ZSgpIHByaXZhdGUgcmV0dXJucyh1aW50MjU2KQogIHsKICAgIHVpbnQyNTYgcGxheWVyQmV0VmFsdWU7CiAgICBpZiAobXNnLnZhbHVlIDwgbWluR2FtYmxlKSB0aHJvdzsKICAgIGlmIChtc2cudmFsdWUgPiBtYXhHYW1ibGUpewogICAgICBwbGF5ZXJCZXRWYWx1ZSA9IG1heEdhbWJsZTsKICAgIH0KICAgIGVsc2V7CiAgICAgIHBsYXllckJldFZhbHVlPW1zZy52YWx1ZTsKICAgIH0KICAgIHJldHVybiBwbGF5ZXJCZXRWYWx1ZTsKICB9CgoKICAvL2NoZWNrIG51bWJlciBvZiBiZXRzIGluIGJsb2NrICh0byBwcmV2ZW50IG1pbmVyIGNoZWF0aW5nKQogIG1vZGlmaWVyIGNoZWNrTmJCZXRzQ3VycmVudEJsb2NrKCkKICB7CiAgICBpZiAoZ2FtYmxlcy5sZW5ndGghPTAgJiYgYmxvY2subnVtYmVyPT1nYW1ibGVzW2dhbWJsZXMubGVuZ3RoLTFdLmJsb2NrTnVtYmVyKSBuYkJldHNDdXJyZW50QmxvY2srPTE7CiAgICBlbHNlIG5iQmV0c0N1cnJlbnRCbG9jaz0wOwogICAgaWYgKG5iQmV0c0N1cnJlbnRCbG9jaz49bWF4QmV0c1BlckJsb2NrKSB0aHJvdzsKICAgIF87CiAgfQoKCiAgLy9GdW5jdGlvbiByZWNvcmQgYmV0IGNhbGxlZCBieSBhbGwgb3RoZXJzIGJldHRpbmcgZnVuY3Rpb25zCiAgZnVuY3Rpb24gcGxhY2VCZXQoQmV0VHlwZXMgYmV0VHlwZV8sIHVpbnQ4IGlucHV0XykgcHJpdmF0ZQogIHsKICAgIGlmIChwbGF5ZXJTdGF0dXNbbXNnLnNlbmRlcl0hPVN0YXR1cy53YWl0aW5nRm9yQmV0KQogICAgICB7CglTcGluVGhlV2hlZWwobXNnLnNlbmRlcik7CiAgICAgIH0KICAgIC8vT25jZSB0aGlzIGlzIGRvbmUsIHdlIGNhbiByZWNvcmQgdGhlIG5ldyBiZXQKICAgIHBsYXllclN0YXR1c1ttc2cuc2VuZGVyXT1TdGF0dXMud2FpdGluZ0ZvclNwaW47CiAgICBnYW1ibGVJbmRleFttc2cuc2VuZGVyXT1nYW1ibGVzLmxlbmd0aDsKICAgIHRvdGFsR2FtYmxlcysrOwogICAgLy9hZGFwdHMgd2FnZXIgdG8gY2FzaW5vIGxpbWl0cwogICAgdWludDI1NiBiZXRWYWx1ZSA9IGNoZWNrQmV0VmFsdWUoKTsKICAgIGdhbWJsZXMucHVzaChHYW1ibGUobXNnLnNlbmRlciwgZmFsc2UsIGZhbHNlLCBiZXRUeXBlXywgaW5wdXRfLCBiZXRWYWx1ZSwgYmxvY2subnVtYmVyLCAwLCAzNykpOyAvLzM3IGluZGljYXRlcyBub3Qgc3Bpbm5lZCB5ZXQKICAgIC8vcmVmdW5kIGV4Y2VzcyBiZXQgKGF0IGxhc3Qgc3RlcCB2cyByZS1lbnRyeSkKICAgIGlmIChiZXRWYWx1ZSA8IG1zZy52YWx1ZSkgCiAgICAgIHsKCWlmIChtc2cuc2VuZGVyLnNlbmQobXNnLnZhbHVlLWJldFZhbHVlKT09ZmFsc2UpIHRocm93OwogICAgICB9CiAgfQoKCiAgLy8qKiovL2JldCBvbiBOdW1iZXIJCiAgZnVuY3Rpb24gYmV0T25OdW1iZXIodWludDggbnVtYmVyQ2hvc2VuKQogICAgcGF5YWJsZQogICAgb25seUFjdGl2ZQogICAgY2hlY2tOYkJldHNDdXJyZW50QmxvY2sKICB7CiAgICAvL2NoZWNrIHRoYXQgbnVtYmVyIGNob3NlbiBpcyB2YWxpZCBhbmQgcmVjb3JkcyBiZXQKICAgIGlmIChudW1iZXJDaG9zZW4+MzYpIHRocm93OwogICAgcGxhY2VCZXQoQmV0VHlwZXMubnVtYmVyLCBudW1iZXJDaG9zZW4pOwogIH0KCiAgLy8qKiovLyBmdW5jdGlvbiBiZXRPbkNvbG9yCiAgLy9iZXQgdHlwZSA6IGNvbG9yCiAgLy9pbnB1dCA6IDAgZm9yIHJlZAogIC8vaW5wdXQgOiAxIGZvciBibGFjawogIGZ1bmN0aW9uIGJldE9uQ29sb3IoYm9vbCBCbGFjaykKICAgIHBheWFibGUKICAgIG9ubHlBY3RpdmUKICAgIGNoZWNrTmJCZXRzQ3VycmVudEJsb2NrCiAgewogICAgdWludDggaW5wdXQ7CiAgICBpZiAoIUJsYWNrKSAKICAgICAgeyAKCWlucHV0PTA7CiAgICAgIH0KICAgIGVsc2V7CiAgICAgIGlucHV0PTE7CiAgICB9CiAgICBwbGFjZUJldChCZXRUeXBlcy5jb2xvciwgaW5wdXQpOwogIH0KCiAgLy8qKiovLyBmdW5jdGlvbiBiZXRPbkxvd19IaWdoCiAgLy9iZXQgdHlwZSA6IGxvd2hpZ2gKICAvL2lucHV0IDogMCBmb3IgbG93CiAgLy9pbnB1dCA6IDEgZm9yIGxvdwogIGZ1bmN0aW9uIGJldE9uTG93SGlnaChib29sIEhpZ2gpCiAgICBwYXlhYmxlCiAgICBvbmx5QWN0aXZlCiAgICBjaGVja05iQmV0c0N1cnJlbnRCbG9jawogIHsKICAgIHVpbnQ4IGlucHV0OwogICAgaWYgKCFIaWdoKSAKICAgICAgeyAKCWlucHV0PTA7CiAgICAgIH0KICAgIGVsc2UgCiAgICAgIHsKCWlucHV0PTE7CiAgICAgIH0KICAgIHBsYWNlQmV0KEJldFR5cGVzLmxvd2hpZ2gsIGlucHV0KTsKICB9CgogIC8vKioqLy8gZnVuY3Rpb24gYmV0T25PZGRFdmVuCiAgLy9iZXQgdHlwZSA6IHBhcml0eQogIC8vaW5wdXQgOiAwIGZvciBldmVuCiAgLy9pbnB1dCA6IDEgZm9yIG9kZAogIGZ1bmN0aW9uIGJldE9uT2RkRXZlbihib29sIE9kZCkKICAgIHBheWFibGUKICAgIG9ubHlBY3RpdmUKICAgIGNoZWNrTmJCZXRzQ3VycmVudEJsb2NrCiAgewogICAgdWludDggaW5wdXQ7CiAgICBpZiAoIU9kZCkgCiAgICAgIHsgCglpbnB1dD0wOwogICAgICB9CiAgICBlbHNlewogICAgICBpbnB1dD0xOwogICAgfQogICAgcGxhY2VCZXQoQmV0VHlwZXMucGFyaXR5LCBpbnB1dCk7CiAgfQoKICAvLyoqKi8vIGZ1bmN0aW9uIGJldE9uRG96ZW4KICAvLyAgICAgLy9iZXQgdHlwZSA6IGRvemVuCiAgLy8gICAgIC8vaW5wdXQgOiAwIGZvciBmaXJzdCBkb3plbgogIC8vICAgICAvL2lucHV0IDogMSBmb3Igc2Vjb25kIGRvemVuCiAgLy8gICAgIC8vaW5wdXQgOiAyIGZvciB0aGlyZCBkb3plbgogIGZ1bmN0aW9uIGJldE9uRG96ZW4odWludDggZG96ZW5fc2VsZWN0ZWRfMF8xXzIpCiAgICBwYXlhYmxlCiAgICBvbmx5QWN0aXZlCiAgICBjaGVja05iQmV0c0N1cnJlbnRCbG9jawogIHsKICAgIGlmIChkb3plbl9zZWxlY3RlZF8wXzFfMiA+IDIpIHRocm93OwogICAgcGxhY2VCZXQoQmV0VHlwZXMuZG96ZW4sIGRvemVuX3NlbGVjdGVkXzBfMV8yKTsKICB9CgoKICAvLyAvLyoqKi8vIGZ1bmN0aW9uIGJldE9uQ29sdW1uCiAgLy8gICAgIC8vYmV0IHR5cGUgOiBjb2x1bW4KICAvLyAgICAgLy9pbnB1dCA6IDAgZm9yIGZpcnN0IGNvbHVtbgogIC8vICAgICAvL2lucHV0IDogMSBmb3Igc2Vjb25kIGNvbHVtbgogIC8vICAgICAvL2lucHV0IDogMiBmb3IgdGhpcmQgY29sdW1uCiAgZnVuY3Rpb24gYmV0T25Db2x1bW4odWludDggY29sdW1uX3NlbGVjdGVkXzBfMV8yKQogICAgcGF5YWJsZQogICAgb25seUFjdGl2ZQogICAgY2hlY2tOYkJldHNDdXJyZW50QmxvY2sKICB7CiAgICBpZiAoY29sdW1uX3NlbGVjdGVkXzBfMV8yID4gMikgdGhyb3c7CiAgICBwbGFjZUJldChCZXRUeXBlcy5jb2x1bW4sIGNvbHVtbl9zZWxlY3RlZF8wXzFfMik7CiAgfQoKICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICAvLyBTcGluIFRoZSBXaGVlbCAmIENoZWNrIFJlc3VsdCBGVU5DVElPTlMvLwogIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgoKICBldmVudCBXaW4oYWRkcmVzcyBwbGF5ZXIsIHVpbnQ4IHJlc3VsdCwgdWludCB2YWx1ZV93b24sIGJ5dGVzMzIgYkhhc2gsIGJ5dGVzMzIgc2hhM1BsYXllciwgdWludCBnYW1ibGVJZCwgdWludCBiZXQpOwogIGV2ZW50IExvc3MoYWRkcmVzcyBwbGF5ZXIsIHVpbnQ4IHJlc3VsdCwgdWludCB2YWx1ZV9sb3NzLCBieXRlczMyIGJIYXNoLCBieXRlczMyIHNoYTNQbGF5ZXIsIHVpbnQgZ2FtYmxlSWQsIHVpbnQgYmV0KTsKCiAgLy8qKiovL2Z1bmN0aW9uIHRvIHNwaW4gY2FsbGFibGUKICAvLyBubyBldGggYWxsb3dlZAogIGZ1bmN0aW9uIHNwaW5UaGVXaGVlbChhZGRyZXNzIHNwaW5fZm9yX3BsYXllcikKICB7CiAgICBTcGluVGhlV2hlZWwoc3Bpbl9mb3JfcGxheWVyKTsKICB9CgoKICBmdW5jdGlvbiBTcGluVGhlV2hlZWwoYWRkcmVzcyBwbGF5ZXJTcGlubmVkKSBwcml2YXRlCiAgewogICAgaWYgKHBsYXllclNwaW5uZWQ9PTApCiAgICAgIHsKCXBsYXllclNwaW5uZWQ9bXNnLnNlbmRlcjsgICAgICAgICAvL2lmIG5vIGluZGV4IHNwaW5zIGZvciB0aGUgc2VuZGVyCiAgICAgIH0KCiAgICAvL2NoZWNrIHRoYXQgcGxheWVyIGhhcyB0byBzcGluCiAgICBpZiAocGxheWVyU3RhdHVzW3BsYXllclNwaW5uZWRdIT1TdGF0dXMud2FpdGluZ0ZvclNwaW4pIHRocm93OwogICAgLy9yZWR1bmRlbnQgZG91YmxlIGNoZWNrIDogY2hlY2sgdGhhdCBnYW1ibGUgaGFzIG5vdCBiZWVuIHNwaW5uZWQgYWxyZWFkeQogICAgaWYgKGdhbWJsZXNbZ2FtYmxlSW5kZXhbcGxheWVyU3Bpbm5lZF1dLnNwaW5uZWQ9PXRydWUpIHRocm93OwogICAgLy9jaGVjayB0aGF0IHRoZSBwbGF5ZXIgd2FpdGVkIGZvciB0aGUgZGVsYXkgYmVmb3JlIHNwaW4KICAgIC8vYW5kIGFsc28gdGhhdCB0aGUgYmV0IGlzIG5vdCBleHBpcmVkCiAgICB1aW50IHBsYXllcmJsb2NrID0gZ2FtYmxlc1tnYW1ibGVJbmRleFtwbGF5ZXJTcGlubmVkXV0uYmxvY2tOdW1iZXI7CiAgICAvL3RvbyBlYXJseSB0byBzcGluCiAgICBpZiAoYmxvY2subnVtYmVyPD1wbGF5ZXJibG9jaytibG9ja0RlbGF5KSB0aHJvdzsKICAgIC8vdG9vIGxhdGUsIGJldCBleHBpcmVkLCBwbGF5ZXIgbG9zdAogICAgZWxzZSBpZiAoYmxvY2subnVtYmVyPnBsYXllcmJsb2NrK2Jsb2NrRXhwaXJhdGlvbikgIHNvbHZlQmV0KHBsYXllclNwaW5uZWQsIDI1NSwgZmFsc2UsIDEsIDAsIDApIDsKICAgIC8vc3BpbiAhCiAgICBlbHNlCiAgICAgIHsKCXVpbnQ4IHdoZWVsUmVzdWx0OwoJLy9TcGluIHRoZSB3aGVlbCwgCglieXRlczMyIGJsb2NrSGFzaD0gYmxvY2suYmxvY2toYXNoKHBsYXllcmJsb2NrK2Jsb2NrRGVsYXkpOwoJLy9zZWN1cml0eSBjaGVjayB0aGF0IHRoZSBIYXNoIGlzIG5vdCBlbXB0eQoJaWYgKGJsb2NrSGFzaD09MCkgdGhyb3c7CgkvLyBnZW5lcmF0ZSB0aGUgaGFzaCBmb3IgUk5HIGZyb20gdGhlIGJsb2NrSGFzaCBhbmQgdGhlIHBsYXllcidzIGFkZHJlc3MKCWJ5dGVzMzIgc2hhUGxheWVyID0gc2hhMyhwbGF5ZXJTcGlubmVkLCBibG9ja0hhc2gsIHRoaXMpOwoJLy8gZ2V0IHRoZSBmaW5hbCB3aGVlbCByZXN1bHQKCXdoZWVsUmVzdWx0ID0gdWludDgodWludDI1NihzaGFQbGF5ZXIpJTM3KTsKCS8vY2hlY2sgcmVzdWx0IGFnYWluc3QgYmV0IGFuZCBwYXkgaWYgd2luCgljaGVja0JldFJlc3VsdCh3aGVlbFJlc3VsdCwgcGxheWVyU3Bpbm5lZCwgYmxvY2tIYXNoLCBzaGFQbGF5ZXIpOwogICAgICB9CiAgfQogICAgCgogIC8vQ0hFQ0sgQkVUUyBGVU5DVElPTlMgcHJpdmF0ZQogIGZ1bmN0aW9uIGNoZWNrQmV0UmVzdWx0KHVpbnQ4IHJlc3VsdCwgYWRkcmVzcyBwbGF5ZXIsIGJ5dGVzMzIgYmxvY2tIYXNoLCBieXRlczMyIHNoYVBsYXllcikgcHJpdmF0ZQogIHsKICAgIEJldFR5cGVzIGJldFR5cGU9Z2FtYmxlc1tnYW1ibGVJbmRleFtwbGF5ZXJdXS5iZXRUeXBlOwogICAgLy9iZXQgb24gTnVtYmVyCiAgICBpZiAoYmV0VHlwZT09QmV0VHlwZXMubnVtYmVyKSBjaGVja0JldE51bWJlcihyZXN1bHQsIHBsYXllciwgYmxvY2tIYXNoLCBzaGFQbGF5ZXIpOwogICAgZWxzZSBpZiAoYmV0VHlwZT09QmV0VHlwZXMucGFyaXR5KSBjaGVja0JldFBhcml0eShyZXN1bHQsIHBsYXllciwgYmxvY2tIYXNoLCBzaGFQbGF5ZXIpOwogICAgZWxzZSBpZiAoYmV0VHlwZT09QmV0VHlwZXMuY29sb3IpIGNoZWNrQmV0Q29sb3IocmVzdWx0LCBwbGF5ZXIsIGJsb2NrSGFzaCwgc2hhUGxheWVyKTsKICAgIGVsc2UgaWYgKGJldFR5cGU9PUJldFR5cGVzLmxvd2hpZ2gpIGNoZWNrQmV0TG93aGlnaChyZXN1bHQsIHBsYXllciwgYmxvY2tIYXNoLCBzaGFQbGF5ZXIpOwogICAgZWxzZSBpZiAoYmV0VHlwZT09QmV0VHlwZXMuZG96ZW4pIGNoZWNrQmV0RG96ZW4ocmVzdWx0LCBwbGF5ZXIsIGJsb2NrSGFzaCwgc2hhUGxheWVyKTsKICAgIGVsc2UgaWYgKGJldFR5cGU9PUJldFR5cGVzLmNvbHVtbikgY2hlY2tCZXRDb2x1bW4ocmVzdWx0LCBwbGF5ZXIsIGJsb2NrSGFzaCwgc2hhUGxheWVyKTsKICB9CgogIC8vIGZ1bmN0aW9uIHNvbHZlIEJldCBvbmNlIHJlc3VsdCBpcyBkZXRlcm1pbmVkIDogc2VuZHMgdG8gd2lubmVyLCBhZGRzIGxvc3MgdG8gcHJvZml0CiAgZnVuY3Rpb24gc29sdmVCZXQoYWRkcmVzcyBwbGF5ZXIsIHVpbnQ4IHJlc3VsdCwgYm9vbCB3aW4sIHVpbnQ4IG11bHRpcGxpZXIsIGJ5dGVzMzIgYmxvY2tIYXNoLCBieXRlczMyIHNoYVBsYXllcikgcHJpdmF0ZQogIHsKICAgIC8vVXBkYXRlIHN0YXR1cyBhbmQgcmVjb3JkIHNwaW5uZWQKICAgIHBsYXllclN0YXR1c1twbGF5ZXJdPVN0YXR1cy53YWl0aW5nRm9yQmV0OwogICAgZ2FtYmxlc1tnYW1ibGVJbmRleFtwbGF5ZXJdXS53aGVlbFJlc3VsdD1yZXN1bHQ7CiAgICBnYW1ibGVzW2dhbWJsZUluZGV4W3BsYXllcl1dLnNwaW5uZWQ9dHJ1ZTsKICAgIGdhbWJsZXNbZ2FtYmxlSW5kZXhbcGxheWVyXV0uYmxvY2tTcGlubmVkPWJsb2NrLm51bWJlcjsKICAgIHVpbnQgYmV0X3YgPSBnYW1ibGVzW2dhbWJsZUluZGV4W3BsYXllcl1dLndhZ2VyOwoJCiAgICBpZiAod2luKQogICAgICB7CglnYW1ibGVzW2dhbWJsZUluZGV4W3BsYXllcl1dLndpbj10cnVlOwoJdWludCB3aW5fdiA9IChtdWx0aXBsaWVyLTEpKmJldF92OwoJV2luKHBsYXllciwgcmVzdWx0LCB3aW5fdiwgYmxvY2tIYXNoLCBzaGFQbGF5ZXIsIGdhbWJsZUluZGV4W3BsYXllcl0sIGJldF92KTsKCS8vc2VuZCB3aW4hCgkvL3NhZmUgc2VuZCB2cyBwb3RlbnRpYWwgY2FsbHN0YWNrIG92ZXJmbG93ZWQgc3BpbnMKCWlmIChwbGF5ZXIuc2VuZCh3aW5fditiZXRfdik9PWZhbHNlKSB0aHJvdzsKICAgICAgfQogICAgZWxzZQogICAgICB7CglMb3NzKHBsYXllciwgcmVzdWx0LCBiZXRfdi0xLCBibG9ja0hhc2gsIHNoYVBsYXllciwgZ2FtYmxlSW5kZXhbcGxheWVyXSwgYmV0X3YpOwoJLy9zZW5kIDEgd2VpIHRvIGNvbmZpcm0gc3BpbiBpZiBsb3NzCglpZiAocGxheWVyLnNlbmQoMSk9PWZhbHNlKSB0aHJvdzsKICAgICAgfQoKICB9CgogIC8vIGNoZWNrYmV0b24gbnVtYmVyKGlucHV0KQogIC8vIGJldCB0eXBlIDogbnVtYmVyCiAgLy8gaW5wdXQgOiBjaG9zZW4gbnVtYmVyCiAgZnVuY3Rpb24gY2hlY2tCZXROdW1iZXIodWludDggcmVzdWx0LCBhZGRyZXNzIHBsYXllciwgYnl0ZXMzMiBibG9ja0hhc2gsIGJ5dGVzMzIgc2hhUGxheWVyKSBwcml2YXRlCiAgewogICAgYm9vbCB3aW47CiAgICAvL3dpbgogICAgaWYgKHJlc3VsdD09Z2FtYmxlc1tnYW1ibGVJbmRleFtwbGF5ZXJdXS5pbnB1dCkKICAgICAgewoJd2luPXRydWU7ICAKICAgICAgfQogICAgc29sdmVCZXQocGxheWVyLCByZXN1bHQsd2luLDM2LCBibG9ja0hhc2gsIHNoYVBsYXllcik7CiAgfQoKCiAgLy8gY2hlY2tiZXQgb24gb2RkZXZlbgogIC8vIGJldCB0eXBlIDogcGFyaXR5CiAgLy8gaW5wdXQgOiAwIGZvciBldmVuLCAxIGZvciBvZGQKICBmdW5jdGlvbiBjaGVja0JldFBhcml0eSh1aW50OCByZXN1bHQsIGFkZHJlc3MgcGxheWVyLCBieXRlczMyIGJsb2NrSGFzaCwgYnl0ZXMzMiBzaGFQbGF5ZXIpIHByaXZhdGUKICB7CiAgICBib29sIHdpbjsKICAgIC8vd2luCiAgICBpZiAocmVzdWx0JTI9PWdhbWJsZXNbZ2FtYmxlSW5kZXhbcGxheWVyXV0uaW5wdXQgJiYgcmVzdWx0IT0wKQogICAgICB7Cgl3aW49dHJ1ZTsgICAgICAgICAgICAgICAgCiAgICAgIH0KICAgIHNvbHZlQmV0KHBsYXllcixyZXN1bHQsd2luLDIsIGJsb2NrSGFzaCwgc2hhUGxheWVyKTsKICB9CiAgICAKICAvLyBjaGVja2JldCBvbiBsb3doaWdoCiAgLy8gYmV0IHR5cGUgOiBsb3doaWdoCiAgLy8gaW5wdXQgOiAwIGxvdywgMSBoaWdoCiAgZnVuY3Rpb24gY2hlY2tCZXRMb3doaWdoKHVpbnQ4IHJlc3VsdCwgYWRkcmVzcyBwbGF5ZXIsIGJ5dGVzMzIgYmxvY2tIYXNoLCBieXRlczMyIHNoYVBsYXllcikgcHJpdmF0ZQogIHsKICAgIGJvb2wgd2luOwogICAgLy93aW4KICAgIGlmIChyZXN1bHQhPTAgJiYgKCAocmVzdWx0PDE5ICYmIGdhbWJsZXNbZ2FtYmxlSW5kZXhbcGxheWVyXV0uaW5wdXQ9PTApCgkJICAgICAgIHx8IChyZXN1bHQ+MTggJiYgZ2FtYmxlc1tnYW1ibGVJbmRleFtwbGF5ZXJdXS5pbnB1dD09MSkKCQkgICAgICAgKSApCiAgICAgIHsKCXdpbj10cnVlOwogICAgICB9CiAgICBzb2x2ZUJldChwbGF5ZXIscmVzdWx0LHdpbiwyLCBibG9ja0hhc2gsIHNoYVBsYXllcik7CiAgfQoKICAvLyBjaGVja2JldCBvbiBjb2xvcgogIC8vIGJldCB0eXBlIDogY29sb3IKICAvLyBpbnB1dCA6IDAgcmVkLCAxIGJsYWNrCiAgdWludFsxOF0gcmVkX2xpc3Q9WzEsMyw1LDcsOSwxMiwxNCwxNiwxOCwxOSwyMSwyMywyNSwyNywzMCwzMiwzNCwzNl07CiAgZnVuY3Rpb24gY2hlY2tCZXRDb2xvcih1aW50OCByZXN1bHQsIGFkZHJlc3MgcGxheWVyLCBieXRlczMyIGJsb2NrSGFzaCwgYnl0ZXMzMiBzaGFQbGF5ZXIpIHByaXZhdGUKICB7CiAgICBib29sIHJlZDsKICAgIC8vY2hlY2sgaWYgcmVkCiAgICBmb3IgKHVpbnQ4IGs7IGs8MTg7IGsrKykKICAgICAgeyAKCWlmIChyZWRfbGlzdFtrXT09cmVzdWx0KSAKCSAgeyAKCSAgICByZWQ9dHJ1ZTsgCgkgICAgYnJlYWs7CgkgIH0KICAgICAgfQogICAgYm9vbCB3aW47CiAgICAvL3dpbgogICAgaWYgKCByZXN1bHQhPTAKCSAmJiAoIChnYW1ibGVzW2dhbWJsZUluZGV4W3BsYXllcl1dLmlucHV0PT0wICYmIHJlZCkgIAoJICAgICAgfHwgKCBnYW1ibGVzW2dhbWJsZUluZGV4W3BsYXllcl1dLmlucHV0PT0xICYmICFyZWQpICApICkKICAgICAgewoJd2luPXRydWU7CiAgICAgIH0KICAgIHNvbHZlQmV0KHBsYXllcixyZXN1bHQsd2luLDIsIGJsb2NrSGFzaCwgc2hhUGxheWVyKTsKICB9CgogIC8vIGNoZWNrYmV0IG9uIGRvemVuCiAgLy8gYmV0IHR5cGUgOiBkb3plbgogIC8vIGlucHV0IDogMCBmaXJzdCwgMSBzZWNvbmQsIDIgdGhpcmQKICBmdW5jdGlvbiBjaGVja0JldERvemVuKHVpbnQ4IHJlc3VsdCwgYWRkcmVzcyBwbGF5ZXIsIGJ5dGVzMzIgYmxvY2tIYXNoLCBieXRlczMyIHNoYVBsYXllcikgcHJpdmF0ZQogIHsgCiAgICBib29sIHdpbjsKICAgIC8vd2luIG9uIGZpcnN0IGRvemVuCiAgICBpZiAoIHJlc3VsdCE9MCAmJgoJICggKHJlc3VsdDwxMyAmJiBnYW1ibGVzW2dhbWJsZUluZGV4W3BsYXllcl1dLmlucHV0PT0wKQoJICAgfHwKCSAgIChyZXN1bHQ+MTIgJiYgcmVzdWx0PDI1ICYmIGdhbWJsZXNbZ2FtYmxlSW5kZXhbcGxheWVyXV0uaW5wdXQ9PTEpCgkgICB8fAoJICAgKHJlc3VsdD4yNCAmJiBnYW1ibGVzW2dhbWJsZUluZGV4W3BsYXllcl1dLmlucHV0PT0yKSApICkKICAgICAgewoJd2luPXRydWU7ICAgICAgICAgICAgICAgIAogICAgICB9CiAgICBzb2x2ZUJldChwbGF5ZXIscmVzdWx0LHdpbiwzLCBibG9ja0hhc2gsIHNoYVBsYXllcik7CiAgfQoKICAvLyBjaGVja2JldCBvbiBjb2x1bW4KICAvLyBiZXQgdHlwZSA6IGNvbHVtbgogIC8vIGlucHV0IDogMCBmaXJzdCwgMSBzZWNvbmQsIDIgdGhpcmQKICBmdW5jdGlvbiBjaGVja0JldENvbHVtbih1aW50OCByZXN1bHQsIGFkZHJlc3MgcGxheWVyLCBieXRlczMyIGJsb2NrSGFzaCwgYnl0ZXMzMiBzaGFQbGF5ZXIpIHByaXZhdGUKICB7CiAgICBib29sIHdpbjsKICAgIC8vd2luCiAgICBpZiAoIHJlc3VsdCE9MAoJICYmICggKGdhbWJsZXNbZ2FtYmxlSW5kZXhbcGxheWVyXV0uaW5wdXQ9PTAgJiYgcmVzdWx0JTM9PTEpICAKCSAgICAgIHx8ICggZ2FtYmxlc1tnYW1ibGVJbmRleFtwbGF5ZXJdXS5pbnB1dD09MSAmJiByZXN1bHQlMz09MikKCSAgICAgIHx8ICggZ2FtYmxlc1tnYW1ibGVJbmRleFtwbGF5ZXJdXS5pbnB1dD09MiAmJiByZXN1bHQlMz09MCkgICkgKQogICAgICB7Cgl3aW49dHJ1ZTsKICAgICAgfQogICAgc29sdmVCZXQocGxheWVyLHJlc3VsdCx3aW4sMywgYmxvY2tIYXNoLCBzaGFQbGF5ZXIpOwogIH0KCgogIGZ1bmN0aW9uIGNoZWNrTXlCZXQoYWRkcmVzcyBwbGF5ZXIpIGNvbnN0YW50IHJldHVybnMoU3RhdHVzIHBsYXllcl9zdGF0dXMsIEJldFR5cGVzIGJldHR5cGUsIHVpbnQ4IGlucHV0LCB1aW50IHZhbHVlLCB1aW50OCByZXN1bHQsIGJvb2wgd2hlZWxzcGlubmVkLCBib29sIHdpbiwgdWludCBibG9ja05iLCB1aW50IGJsb2NrU3BpbiwgdWludCBnYW1ibGVJRCkKICB7CiAgICBwbGF5ZXJfc3RhdHVzPXBsYXllclN0YXR1c1twbGF5ZXJdOwogICAgYmV0dHlwZT1nYW1ibGVzW2dhbWJsZUluZGV4W3BsYXllcl1dLmJldFR5cGU7CiAgICBpbnB1dD1nYW1ibGVzW2dhbWJsZUluZGV4W3BsYXllcl1dLmlucHV0OwogICAgdmFsdWU9Z2FtYmxlc1tnYW1ibGVJbmRleFtwbGF5ZXJdXS53YWdlcjsKICAgIHJlc3VsdD1nYW1ibGVzW2dhbWJsZUluZGV4W3BsYXllcl1dLndoZWVsUmVzdWx0OwogICAgd2hlZWxzcGlubmVkPWdhbWJsZXNbZ2FtYmxlSW5kZXhbcGxheWVyXV0uc3Bpbm5lZDsKICAgIHdpbj1nYW1ibGVzW2dhbWJsZUluZGV4W3BsYXllcl1dLndpbjsKICAgIGJsb2NrTmI9Z2FtYmxlc1tnYW1ibGVJbmRleFtwbGF5ZXJdXS5ibG9ja051bWJlcjsKICAgIGJsb2NrU3Bpbj1nYW1ibGVzW2dhbWJsZUluZGV4W3BsYXllcl1dLmJsb2NrU3Bpbm5lZDsKICAgIGdhbWJsZUlEPWdhbWJsZUluZGV4W3BsYXllcl07CiAgICByZXR1cm47CiAgfQogICAgCiAgZnVuY3Rpb24gZ2V0R2FtYmxlc0xpc3QodWludDI1NiBpbmRleCkgY29uc3RhbnQgcmV0dXJucyhhZGRyZXNzIHBsYXllciwgQmV0VHlwZXMgYmV0dHlwZSwgdWludDggaW5wdXQsIHVpbnQgdmFsdWUsIHVpbnQ4IHJlc3VsdCwgYm9vbCB3aGVlbHNwaW5uZWQsIGJvb2wgd2luLCB1aW50IGJsb2NrTmIsIHVpbnQgYmxvY2tTcGluKQogIHsKICAgIHBsYXllcj1nYW1ibGVzW2luZGV4XS5wbGF5ZXI7CiAgICBiZXR0eXBlPWdhbWJsZXNbaW5kZXhdLmJldFR5cGU7CiAgICBpbnB1dD1nYW1ibGVzW2luZGV4XS5pbnB1dDsKICAgIHZhbHVlPWdhbWJsZXNbaW5kZXhdLndhZ2VyOwogICAgcmVzdWx0PWdhbWJsZXNbaW5kZXhdLndoZWVsUmVzdWx0OwogICAgd2hlZWxzcGlubmVkPWdhbWJsZXNbaW5kZXhdLnNwaW5uZWQ7CiAgICB3aW49Z2FtYmxlc1tpbmRleF0ud2luOwogICAgYmxvY2tOYj1nYW1ibGVzW2luZGV4XS5ibG9ja051bWJlcjsKICAgIGJsb2NrU3Bpbj1nYW1ibGVzW2luZGV4XS5ibG9ja1NwaW5uZWQ7CiAgICByZXR1cm47CiAgfQoKfSAvL2VuZCBvZiBjb250cmFjdA=='.
	

]
