Class {
	#name : #SRT052d01d58729839b0fb9e321c63caf4f7a3de7fe,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT052d01d58729839b0fb9e321c63caf4f7a3de7fe >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTY7CgoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wgCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuIAogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICAvKiogCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KCgogIC8qKgogICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4gCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsKICAgICAgcmV2ZXJ0KCk7CiAgICB9CiAgICBfOwogIH0KCgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4gCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgIGlmIChuZXdPd25lciAhPSBhZGRyZXNzKDApKSB7CiAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9CiAgfQoKfQoKCgovKioKICogQHRpdGxlIEF1dGhvcml6YWJsZQogKiBAZGV2IEFsbG93cyB0byBhdXRob3JpemUgYWNjZXNzIHRvIGNlcnRhaW4gZnVuY3Rpb24gY2FsbHMKICogCiAqIEFCSQogKiBbeyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbeyJuYW1lIjoiYXV0aG9yaXplckluZGV4IiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJnZXRBdXRob3JpemVyIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJhZGRyZXNzIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il9hZGRyIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJhZGRBdXRob3JpemVkIiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOlt7Im5hbWUiOiJfYWRkciIsInR5cGUiOiJhZGRyZXNzIn1dLCJuYW1lIjoiaXNBdXRob3JpemVkIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJib29sIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImNvbnN0cnVjdG9yIn1dCiAqLwpjb250cmFjdCBBdXRob3JpemFibGUgewoKICBhZGRyZXNzW10gYXV0aG9yaXplcnM7CiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQpIGF1dGhvcml6ZXJJbmRleDsKCiAgLyoqCiAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IHRhdCBpcyBub3QgYXV0aG9yaXplZC4gCiAgICovCiAgbW9kaWZpZXIgb25seUF1dGhvcml6ZWQgewogICAgcmVxdWlyZShpc0F1dGhvcml6ZWQobXNnLnNlbmRlcikpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgQ29udHJ1Y3RvciB0aGF0IGF1dGhvcml6ZXMgdGhlIG1zZy5zZW5kZXIuIAogICAqLwogIGZ1bmN0aW9uIEF1dGhvcml6YWJsZSgpIHsKICAgIGF1dGhvcml6ZXJzLmxlbmd0aCA9IDI7CiAgICBhdXRob3JpemVyc1sxXSA9IG1zZy5zZW5kZXI7CiAgICBhdXRob3JpemVySW5kZXhbbXNnLnNlbmRlcl0gPSAxOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBnZXQgYSBzcGVjaWZpYyBhdXRob3JpemVyCiAgICogQHBhcmFtIGF1dGhvcml6ZXJJbmRleCBpbmRleCBvZiB0aGUgYXV0aG9yaXplciB0byBiZSByZXRyaWV2ZWQuCiAgICogQHJldHVybiBUaGUgYWRkcmVzcyBvZiB0aGUgYXV0aG9yaXplci4KICAgKi8KLyoKICBmdW5jdGlvbiBnZXRBdXRob3JpemVyKHVpbnQgYXV0aG9yaXplckluZGV4KSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zKGFkZHJlc3MpIHsKICAgIHJldHVybiBhZGRyZXNzKGF1dGhvcml6ZXJzW2F1dGhvcml6ZXJJbmRleCArIDFdKTsKICB9CiovCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayBpZiBhbiBhZGRyZXNzIGlzIGF1dGhvcml6ZWQKICAgKiBAcGFyYW0gX2FkZHIgdGhlIGFkZHJlc3MgdG8gY2hlY2sgaWYgaXQgaXMgYXV0aG9yaXplZC4KICAgKiBAcmV0dXJuIGJvb2xlYW4gZmxhZyBpZiBhZGRyZXNzIGlzIGF1dGhvcml6ZWQuCiAgICovCiAgZnVuY3Rpb24gaXNBdXRob3JpemVkKGFkZHJlc3MgX2FkZHIpIGNvbnN0YW50IHJldHVybnMoYm9vbCkgewogICAgcmV0dXJuIGF1dGhvcml6ZXJJbmRleFtfYWRkcl0gPiAwOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBhZGQgYSBuZXcgYXV0aG9yaXplcgogICAqIEBwYXJhbSBfYWRkciB0aGUgYWRkcmVzcyB0byBhZGQgYXMgYSBuZXcgYXV0aG9yaXplci4KICAgKi8KICBmdW5jdGlvbiBhZGRBdXRob3JpemVkKGFkZHJlc3MgX2FkZHIpIGV4dGVybmFsIG9ubHlBdXRob3JpemVkIHsKICAgIGF1dGhvcml6ZXJJbmRleFtfYWRkcl0gPSBhdXRob3JpemVycy5sZW5ndGg7CiAgICBhdXRob3JpemVycy5sZW5ndGgrKzsKICAgIGF1dGhvcml6ZXJzW2F1dGhvcml6ZXJzLmxlbmd0aCAtIDFdID0gX2FkZHI7CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBFeGNoYW5nZVJhdGUKICogQGRldiBBbGxvd3MgdXBkYXRpbmcgYW5kIHJldHJpZXZlaW5nIG9mIENvbnZlcnNpb24gUmF0ZXMgZm9yIFBBWSB0b2tlbnMKICoKICogQUJJCiAqIFt7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX3N5bWJvbCIsInR5cGUiOiJzdHJpbmcifSx7Im5hbWUiOiJfcmF0ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoidXBkYXRlUmF0ZSIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6ImRhdGEiLCJ0eXBlIjoidWludDI1NltdIn1dLCJuYW1lIjoidXBkYXRlUmF0ZXMiLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W3sibmFtZSI6Il9zeW1ib2wiLCJ0eXBlIjoic3RyaW5nIn1dLCJuYW1lIjoiZ2V0UmF0ZSIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W10sIm5hbWUiOiJvd25lciIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJieXRlczMyIn1dLCJuYW1lIjoicmF0ZXMiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoibmV3T3duZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6InRyYW5zZmVyT3duZXJzaGlwIiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImFub255bW91cyI6ZmFsc2UsImlucHV0cyI6W3siaW5kZXhlZCI6ZmFsc2UsIm5hbWUiOiJ0aW1lc3RhbXAiLCJ0eXBlIjoidWludDI1NiJ9LHsiaW5kZXhlZCI6ZmFsc2UsIm5hbWUiOiJzeW1ib2wiLCJ0eXBlIjoiYnl0ZXMzMiJ9LHsiaW5kZXhlZCI6ZmFsc2UsIm5hbWUiOiJyYXRlIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJSYXRlVXBkYXRlZCIsInR5cGUiOiJldmVudCJ9XQogKi8KY29udHJhY3QgRXhjaGFuZ2VSYXRlIGlzIE93bmFibGUgewoKICBldmVudCBSYXRlVXBkYXRlZCh1aW50IHRpbWVzdGFtcCwgYnl0ZXMzMiBzeW1ib2wsIHVpbnQgcmF0ZSk7CgogIG1hcHBpbmcoYnl0ZXMzMiA9PiB1aW50KSBwdWJsaWMgcmF0ZXM7CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHVwZGF0ZSBhIHNpbmdsZSByYXRlLgogICAqIEBwYXJhbSBfc3ltYm9sIFRoZSBzeW1ib2wgdG8gYmUgdXBkYXRlZC4gCiAgICogQHBhcmFtIF9yYXRlIHRoZSByYXRlIGZvciB0aGUgc3ltYm9sLiAKICAgKi8KICBmdW5jdGlvbiB1cGRhdGVSYXRlKHN0cmluZyBfc3ltYm9sLCB1aW50IF9yYXRlKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJhdGVzW3NoYTMoX3N5bWJvbCldID0gX3JhdGU7CiAgICBSYXRlVXBkYXRlZChub3csIHNoYTMoX3N5bWJvbCksIF9yYXRlKTsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHVwZGF0ZSBtdWx0aXBsZSByYXRlcy4KICAgKiBAcGFyYW0gZGF0YSBhbiBhcnJheSB0aGF0IGFsdGVybmF0ZXMgc2hhMyBoYXNoZXMgb2YgdGhlIHN5bWJvbCBhbmQgdGhlIGNvcnJlc3BvbmRpbmcgcmF0ZSAuIAogICAqLwogIGZ1bmN0aW9uIHVwZGF0ZVJhdGVzKHVpbnRbXSBkYXRhKSBwdWJsaWMgb25seU93bmVyIHsKICAgIGlmIChkYXRhLmxlbmd0aCAlIDIgPiAwKQogICAgICByZXZlcnQoKTsKICAgIHVpbnQgaSA9IDA7CiAgICB3aGlsZSAoaSA8IGRhdGEubGVuZ3RoIC8gMikgewogICAgICBieXRlczMyIHN5bWJvbCA9IGJ5dGVzMzIoZGF0YVtpICogMl0pOwogICAgICB1aW50IHJhdGUgPSBkYXRhW2kgKiAyICsgMV07CiAgICAgIHJhdGVzW3N5bWJvbF0gPSByYXRlOwogICAgICBSYXRlVXBkYXRlZChub3csIHN5bWJvbCwgcmF0ZSk7CiAgICAgIGkrKzsKICAgIH0KICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBhbnlvbmUgdG8gcmVhZCB0aGUgY3VycmVudCByYXRlLgogICAqIEBwYXJhbSBfc3ltYm9sIHRoZSBzeW1ib2wgdG8gYmUgcmV0cmlldmVkLiAKICAgKi8KICBmdW5jdGlvbiBnZXRSYXRlKHN0cmluZyBfc3ltYm9sKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyh1aW50KSB7CiAgICByZXR1cm4gcmF0ZXNbc2hhMyhfc3ltYm9sKV07CiAgfQoKfQoKLyoqCiAqIE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgdWludCBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgcmV2ZXJ0KClzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludCBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCi8qIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgeyAqLwogICAgLyogICBpZiAoIWFzc2VydGlvbikgeyAqLwogICAgLyogICAgIHRocm93OyAqLwogICAgLyogICB9ICovCiAgICAvKiB9ICAgICAgLy8gYXNzZXJ0IG5vIGxvbmdlciBuZWVkZWQgb25jZSBzb2xpZGl0eSBpcyBvbiAwLjQuMTAgKi8KfQoKCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQgdmFsdWUpOwp9CgoKCgovKioKICogQHRpdGxlIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50IHZhbHVlKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHZhbHVlKTsKfQoKCgoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLiAKICovCmNvbnRyYWN0IEJhc2ljVG9rZW4gaXMgRVJDMjBCYXNpYyB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50KSBiYWxhbmNlczsKCiAgLyoqCiAgICogQGRldiBGaXggZm9yIHRoZSBFUkMyMCBzaG9ydCBhZGRyZXNzIGF0dGFjay4KICAgKi8KICBtb2RpZmllciBvbmx5UGF5bG9hZFNpemUodWludCBzaXplKSB7CiAgICAgaWYobXNnLmRhdGEubGVuZ3RoIDwgc2l6ZSArIDQpIHsKICAgICAgIHJldmVydCgpOwogICAgIH0KICAgICBfOwogIH0KCiAgLyoqCiAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRvLgogICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IHRvIGJlIHRyYW5zZmVycmVkLgogICovCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKSB7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgfQoKICAvKioKICAqIEBkZXYgR2V0cyB0aGUgYmFsYW5jZSBvZiB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuCiAgKiBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIHRvIHF1ZXJ5IHRoZSB0aGUgYmFsYW5jZSBvZi4gCiAgKiBAcmV0dXJuIEFuIHVpbnQgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCgoKCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1hbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcnQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgQmFzaWNUb2tlbiwgRVJDMjAgewoKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkpIGFsbG93ZWQ7CgoKICAvKioKICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICogQHBhcmFtIF92YWx1ZSB1aW50IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIG9ubHlQYXlsb2FkU2l6ZSgzICogMzIpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl07CgogICAgLy8gQ2hlY2sgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHN1YihfYWxsb3dhbmNlLCBfdmFsdWUpIHdpbGwgYWxyZWFkeSByZXZlcnQoKSBpZiB0aGlzIGNvbmRpdGlvbiBpcyBub3QgbWV0CiAgICAvLyBpZiAoX3ZhbHVlID4gX2FsbG93YW5jZSkgcmV2ZXJ0KCk7CgogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWFobGYgb2YgbXNnLnNlbmRlci4KICAgKiBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBzcGVudC4KICAgKi8KICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3ZhbHVlKSB7CgogICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAvLyAgYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgaWYgKChfdmFsdWUgIT0gMCkgJiYgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdICE9IDApKSByZXZlcnQoKTsKCiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBjaGVjayB0aGUgYW1vdW50IG9mIHRva2VucyB0aGFuIGFuIG93bmVyIGFsbG93ZWQgdG8gYSBzcGVuZGVyLgogICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcmV0dXJuIEEgdWludCBzcGVjaWZpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWJsZSBmb3IgdGhlIHNwZW5kZXIuCiAgICovCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKfQoKCgoKCgovKioKICogQHRpdGxlIE1pbnRhYmxlIHRva2VuCiAqIEBkZXYgU2ltcGxlIEVSQzIwIFRva2VuIGV4YW1wbGUsIHdpdGggbWludGFibGUgdG9rZW4gY3JlYXRpb24KICogQGRldiBJc3N1ZTogKiBodHRwczovL2dpdGh1Yi5jb20vT3BlblplcHBlbGluL3plcHBlbGluLXNvbGlkaXR5L2lzc3Vlcy8xMjAKICogQmFzZWQgb24gY29kZSBieSBUb2tlbk1hcmtldE5ldDogaHR0cHM6Ly9naXRodWIuY29tL1Rva2VuTWFya2V0TmV0L2ljby9ibG9iL21hc3Rlci9jb250cmFjdHMvTWludGFibGVUb2tlbi5zb2wKICovCgpjb250cmFjdCBNaW50YWJsZVRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIE93bmFibGUgewogIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsKICBldmVudCBNaW50RmluaXNoZWQoKTsKCiAgYm9vbCBwdWJsaWMgbWludGluZ0ZpbmlzaGVkID0gZmFsc2U7CiAgdWludCBwdWJsaWMgdG90YWxTdXBwbHkgPSAwOwoKCiAgbW9kaWZpZXIgY2FuTWludCgpIHsKICAgIGlmKG1pbnRpbmdGaW5pc2hlZCkgcmV2ZXJ0KCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBGdW5jdGlvbiB0byBtaW50IHRva2VucwogICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdGhhdCB3aWxsIHJlY2lldmUgdGhlIG1pbnRlZCB0b2tlbnMuCiAgICogQHBhcmFtIF9hbW91bnQgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gbWludC4KICAgKiBAcmV0dXJuIEEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLgogICAqLwogIGZ1bmN0aW9uIG1pbnQoYWRkcmVzcyBfdG8sIHVpbnQgX2Ftb3VudCkgb25seU93bmVyIGNhbk1pbnQgcmV0dXJucyAoYm9vbCkgewogICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoX2Ftb3VudCk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX2Ftb3VudCk7CiAgICBNaW50KF90bywgX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gc3RvcCBtaW50aW5nIG5ldyB0b2tlbnMuCiAgICogQHJldHVybiBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuCiAgICovCiAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CiAgICBtaW50aW5nRmluaXNoZWQgPSB0cnVlOwogICAgTWludEZpbmlzaGVkKCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCgovKioKICogQHRpdGxlIFBheVRva2VuCiAqIEBkZXYgVGhlIG1haW4gUEFZIHRva2VuIGNvbnRyYWN0CiAqIAogKiBBQkkgCiAqIFt7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoibWludGluZ0ZpbmlzaGVkIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJib29sIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbXSwibmFtZSI6Im5hbWUiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InN0cmluZyJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOmZhbHNlLCJpbnB1dHMiOlt7Im5hbWUiOiJfc3BlbmRlciIsInR5cGUiOiJhZGRyZXNzIn0seyJuYW1lIjoiX3ZhbHVlIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJhcHByb3ZlIiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoidG90YWxTdXBwbHkiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX2Zyb20iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsibmFtZSI6Il90byIsInR5cGUiOiJhZGRyZXNzIn0seyJuYW1lIjoiX3ZhbHVlIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJ0cmFuc2ZlckZyb20iLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOmZhbHNlLCJpbnB1dHMiOltdLCJuYW1lIjoic3RhcnRUcmFkaW5nIiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoiZGVjaW1hbHMiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX3RvIiwidHlwZSI6ImFkZHJlc3MifSx7Im5hbWUiOiJfYW1vdW50IiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJtaW50Iiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJib29sIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbXSwibmFtZSI6InRyYWRpbmdTdGFydGVkIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJib29sIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbeyJuYW1lIjoiX293bmVyIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJiYWxhbmNlT2YiLCJvdXRwdXRzIjpbeyJuYW1lIjoiYmFsYW5jZSIsInR5cGUiOiJ1aW50MjU2In1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W10sIm5hbWUiOiJmaW5pc2hNaW50aW5nIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJib29sIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbXSwibmFtZSI6Im93bmVyIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJhZGRyZXNzIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbXSwibmFtZSI6InN5bWJvbCIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoic3RyaW5nIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il90byIsInR5cGUiOiJhZGRyZXNzIn0seyJuYW1lIjoiX3ZhbHVlIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJ0cmFuc2ZlciIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbeyJuYW1lIjoiX293bmVyIiwidHlwZSI6ImFkZHJlc3MifSx7Im5hbWUiOiJfc3BlbmRlciIsInR5cGUiOiJhZGRyZXNzIn1dLCJuYW1lIjoiYWxsb3dhbmNlIiwib3V0cHV0cyI6W3sibmFtZSI6InJlbWFpbmluZyIsInR5cGUiOiJ1aW50MjU2In1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Im5ld093bmVyIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJ0cmFuc2Zlck93bmVyc2hpcCIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOnRydWUsIm5hbWUiOiJ0byIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjpmYWxzZSwibmFtZSI6InZhbHVlIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJNaW50IiwidHlwZSI6ImV2ZW50In0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOltdLCJuYW1lIjoiTWludEZpbmlzaGVkIiwidHlwZSI6ImV2ZW50In0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOnRydWUsIm5hbWUiOiJvd25lciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjp0cnVlLCJuYW1lIjoic3BlbmRlciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjpmYWxzZSwibmFtZSI6InZhbHVlIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJBcHByb3ZhbCIsInR5cGUiOiJldmVudCJ9LHsiYW5vbnltb3VzIjpmYWxzZSwiaW5wdXRzIjpbeyJpbmRleGVkIjp0cnVlLCJuYW1lIjoiZnJvbSIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjp0cnVlLCJuYW1lIjoidG8iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW5kZXhlZCI6ZmFsc2UsIm5hbWUiOiJ2YWx1ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiVHJhbnNmZXIiLCJ0eXBlIjoiZXZlbnQifV0KICovCmNvbnRyYWN0IEpvYmNvaW5Ub2tlbiBpcyBNaW50YWJsZVRva2VuIHsKCiAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIkpvYmNvaW4gVG9rZW4iOwogIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIkpDVCI7CiAgdWludCBwdWJsaWMgZGVjaW1hbHMgPSAxODsKCiAgYm9vbCBwdWJsaWMgdHJhZGluZ1N0YXJ0ZWQgPSBmYWxzZTsKCiAgLyoqCiAgICogQGRldiBtb2RpZmllciB0aGF0IHJldmVydCgpcyBpZiB0cmFkaW5nIGhhcyBub3Qgc3RhcnRlZCB5ZXQKICAgKi8KICBtb2RpZmllciBoYXNTdGFydGVkVHJhZGluZygpIHsKICAgIHJlcXVpcmUodHJhZGluZ1N0YXJ0ZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBvd25lciB0byBlbmFibGUgdGhlIHRyYWRpbmcuIFRoaXMgY2FuIG5vdCBiZSB1bmRvbmUKICAgKi8KICBmdW5jdGlvbiBzdGFydFRyYWRpbmcoKSBvbmx5T3duZXIgewogICAgdHJhZGluZ1N0YXJ0ZWQgPSB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgYW55b25lIHRvIHRyYW5zZmVyIHRoZSBQQVkgdG9rZW5zIG9uY2UgdHJhZGluZyBoYXMgc3RhcnRlZAogICAqIEBwYXJhbSBfdG8gdGhlIHJlY2lwaWVudCBhZGRyZXNzIG9mIHRoZSB0b2tlbnMuIAogICAqIEBwYXJhbSBfdmFsdWUgbnVtYmVyIG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkLiAKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludCBfdmFsdWUpIGhhc1N0YXJ0ZWRUcmFkaW5nIHsKICAgIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICB9CgogICAvKioKICAgKiBAZGV2IEFsbG93cyBhbnlvbmUgdG8gdHJhbnNmZXIgdGhlIFBBWSB0b2tlbnMgb25jZSB0cmFkaW5nIGhhcyBzdGFydGVkCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludCB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBoYXNTdGFydGVkVHJhZGluZyB7CiAgICBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICB9Cgp9CgoKLyoqCiAqIEB0aXRsZSBNYWluU2FsZQogKiBAZGV2IFRoZSBtYWluIFBBWSB0b2tlbiBzYWxlIGNvbnRyYWN0CiAqIAogKiBBQkkKICogW3siY29uc3RhbnQiOmZhbHNlLCJpbnB1dHMiOlt7Im5hbWUiOiJfbXVsdGlzaWdWYXVsdCIsInR5cGUiOiJhZGRyZXNzIn1dLCJuYW1lIjoic2V0TXVsdGlzaWdWYXVsdCIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbeyJuYW1lIjoiYXV0aG9yaXplckluZGV4IiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJnZXRBdXRob3JpemVyIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJhZGRyZXNzIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbXSwibmFtZSI6ImV4Y2hhbmdlUmF0ZSIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W10sIm5hbWUiOiJhbHREZXBvc2l0cyIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOmZhbHNlLCJpbnB1dHMiOlt7Im5hbWUiOiJyZWNpcGllbnQiLCJ0eXBlIjoiYWRkcmVzcyJ9LHsibmFtZSI6InRva2VucyIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiYXV0aG9yaXplZENyZWF0ZVRva2VucyIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W10sIm5hbWUiOiJmaW5pc2hNaW50aW5nIiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50Ijp0cnVlLCJpbnB1dHMiOltdLCJuYW1lIjoib3duZXIiLCJvdXRwdXRzIjpbeyJuYW1lIjoiIiwidHlwZSI6ImFkZHJlc3MifV0sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX2V4Y2hhbmdlUmF0ZSIsInR5cGUiOiJhZGRyZXNzIn1dLCJuYW1lIjoic2V0RXhjaGFuZ2VSYXRlIiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX3Rva2VuIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJyZXRyaWV2ZVRva2VucyIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6InRvdGFsQWx0RGVwb3NpdHMiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InNldEFsdERlcG9zaXQiLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W10sIm5hbWUiOiJzdGFydCIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOmZhbHNlLCJpbnB1dHMiOlt7Im5hbWUiOiJyZWNpcGllbnQiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6ImNyZWF0ZVRva2VucyIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjp0cnVlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX2FkZHIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6ImFkZEF1dGhvcml6ZWQiLCJvdXRwdXRzIjpbXSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsiY29uc3RhbnQiOnRydWUsImlucHV0cyI6W10sIm5hbWUiOiJtdWx0aXNpZ1ZhdWx0Iiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJhZGRyZXNzIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6ZmFsc2UsImlucHV0cyI6W3sibmFtZSI6Il9oYXJkY2FwIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJzZXRIYXJkQ2FwIiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoibmV3T3duZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6InRyYW5zZmVyT3duZXJzaGlwIiwib3V0cHV0cyI6W10sInBheWFibGUiOmZhbHNlLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImNvbnN0YW50IjpmYWxzZSwiaW5wdXRzIjpbeyJuYW1lIjoiX3N0YXJ0IiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJzZXRTdGFydCIsIm91dHB1dHMiOltdLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbXSwibmFtZSI6InRva2VuIiwib3V0cHV0cyI6W3sibmFtZSI6IiIsInR5cGUiOiJhZGRyZXNzIn1dLCJwYXlhYmxlIjpmYWxzZSwidHlwZSI6ImZ1bmN0aW9uIn0seyJjb25zdGFudCI6dHJ1ZSwiaW5wdXRzIjpbeyJuYW1lIjoiX2FkZHIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6ImlzQXV0aG9yaXplZCIsIm91dHB1dHMiOlt7Im5hbWUiOiIiLCJ0eXBlIjoiYm9vbCJ9XSwicGF5YWJsZSI6ZmFsc2UsInR5cGUiOiJmdW5jdGlvbiJ9LHsicGF5YWJsZSI6dHJ1ZSwidHlwZSI6ImZhbGxiYWNrIn0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOmZhbHNlLCJuYW1lIjoicmVjaXBpZW50IiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOmZhbHNlLCJuYW1lIjoiZXRoZXJfYW1vdW50IiwidHlwZSI6InVpbnQyNTYifSx7ImluZGV4ZWQiOmZhbHNlLCJuYW1lIjoicGF5X2Ftb3VudCIsInR5cGUiOiJ1aW50MjU2In0seyJpbmRleGVkIjpmYWxzZSwibmFtZSI6ImV4Y2hhbmdlcmF0ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiVG9rZW5Tb2xkIiwidHlwZSI6ImV2ZW50In0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOmZhbHNlLCJuYW1lIjoicmVjaXBpZW50IiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOmZhbHNlLCJuYW1lIjoicGF5X2Ftb3VudCIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiQXV0aG9yaXplZENyZWF0ZSIsInR5cGUiOiJldmVudCJ9LHsiYW5vbnltb3VzIjpmYWxzZSwiaW5wdXRzIjpbXSwibmFtZSI6Ik1haW5TYWxlQ2xvc2VkIiwidHlwZSI6ImV2ZW50In1dCiAqLwpjb250cmFjdCBNYWluU2FsZSBpcyBPd25hYmxlLCBBdXRob3JpemFibGUgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50OwogIGV2ZW50IFRva2VuU29sZChhZGRyZXNzIHJlY2lwaWVudCwgdWludCBldGhlcl9hbW91bnQsIHVpbnQgcGF5X2Ftb3VudCwgdWludCBleGNoYW5nZXJhdGUpOwogIGV2ZW50IEF1dGhvcml6ZWRDcmVhdGUoYWRkcmVzcyByZWNpcGllbnQsIHVpbnQgcGF5X2Ftb3VudCk7CiAgZXZlbnQgTWFpblNhbGVDbG9zZWQoKTsKCiAgSm9iY29pblRva2VuIHB1YmxpYyB0b2tlbiA9IG5ldyBKb2Jjb2luVG9rZW4oKTsKCiAgYWRkcmVzcyBwdWJsaWMgbXVsdGlzaWdWYXVsdDsKCiAgdWludCBoYXJkY2FwID0gMjAwMDAwIGV0aGVyOwogIEV4Y2hhbmdlUmF0ZSBwdWJsaWMgZXhjaGFuZ2VSYXRlOwoKICB1aW50IHB1YmxpYyBhbHREZXBvc2l0cyA9IDA7CiAgdWludCBwdWJsaWMgc3RhcnQgPSAxNDk4MzAyMDAwOyAvL25ldyBEYXRlKCJKdW4gMjQgMjAxNyAxMTowMDowMCBHTVQiKS5nZXRUaW1lKCkgLyAxMDAwCgogIC8qKgogICAqIEBkZXYgbW9kaWZpZXIgdG8gYWxsb3cgdG9rZW4gY3JlYXRpb24gb25seSB3aGVuIHRoZSBzYWxlIElTIE9OCiAgICovCiAgbW9kaWZpZXIgc2FsZUlzT24oKSB7CiAgICByZXF1aXJlKG5vdyA+IHN0YXJ0ICYmIG5vdyA8IHN0YXJ0ICsgMjggZGF5cyk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyB0b2tlbiBjcmVhdGlvbiBvbmx5IHdoZW4gdGhlIGhhcmRjYXAgaGFzIG5vdCBiZWVuIHJlYWNoZWQKICAgKi8KICBtb2RpZmllciBpc1VuZGVySGFyZENhcCgpIHsKICAgIHJlcXVpcmUobXVsdGlzaWdWYXVsdC5iYWxhbmNlICsgYWx0RGVwb3NpdHMgPD0gaGFyZGNhcCk7CiAgICBfOwogIH0KCiAgLyoqCiAgICogQGRldiBBbGxvd3MgYW55b25lIHRvIGNyZWF0ZSB0b2tlbnMgYnkgZGVwb3NpdGluZyBldGhlci4KICAgKiBAcGFyYW0gcmVjaXBpZW50IHRoZSByZWNpcGllbnQgdG8gcmVjZWl2ZSB0b2tlbnMuIAogICAqLwogIGZ1bmN0aW9uIGNyZWF0ZVRva2VucyhhZGRyZXNzIHJlY2lwaWVudCkgcHVibGljIGlzVW5kZXJIYXJkQ2FwIHNhbGVJc09uIHBheWFibGUgewogICAgdWludCByYXRlID0gZXhjaGFuZ2VSYXRlLmdldFJhdGUoIkVUSCIpOwogICAgdWludCB0b2tlbnMgPSByYXRlLm11bChtc2cudmFsdWUpLmRpdigxIGV0aGVyKTsKICAgIHRva2VuLm1pbnQocmVjaXBpZW50LCB0b2tlbnMpOwogICAgcmVxdWlyZShtdWx0aXNpZ1ZhdWx0LnNlbmQobXNnLnZhbHVlKSk7CiAgICBUb2tlblNvbGQocmVjaXBpZW50LCBtc2cudmFsdWUsIHRva2VucywgcmF0ZSk7CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdG8gc2V0IHRoZSB0b2FsIGFsdCBkZXBvc2l0IG1lYXN1cmVkIGluIEVUSCB0byBtYWtlIHN1cmUgdGhlIGhhcmRjYXAgaW5jbHVkZXMgb3RoZXIgZGVwb3NpdHMKICAgKiBAcGFyYW0gdG90YWxBbHREZXBvc2l0cyB0b3RhbCBhbW91bnQgRVRIIGVxdWl2YWxlbnQKICAgKi8KICBmdW5jdGlvbiBzZXRBbHREZXBvc2l0KHVpbnQgdG90YWxBbHREZXBvc2l0cykgcHVibGljIG9ubHlPd25lciB7CiAgICBhbHREZXBvc2l0cyA9IHRvdGFsQWx0RGVwb3NpdHM7CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyBhdXRob3JpemVkIGFjY2VzIHRvIGNyZWF0ZSB0b2tlbnMuIFRoaXMgaXMgdXNlZCBmb3IgQml0Y29pbiBhbmQgRVJDMjAgZGVwb3NpdHMKICAgKiBAcGFyYW0gcmVjaXBpZW50IHRoZSByZWNpcGllbnQgdG8gcmVjZWl2ZSB0b2tlbnMuCiAgICogQHBhcmFtIHRva2VucyBudW1iZXIgb2YgdG9rZW5zIHRvIGJlIGNyZWF0ZWQuIAogICAqLwogIGZ1bmN0aW9uIGF1dGhvcml6ZWRDcmVhdGVUb2tlbnMoYWRkcmVzcyByZWNpcGllbnQsIHVpbnQgdG9rZW5zKSBwdWJsaWMgb25seUF1dGhvcml6ZWQgewogICAgdG9rZW4ubWludChyZWNpcGllbnQsIHRva2Vucyk7CiAgICBBdXRob3JpemVkQ3JlYXRlKHJlY2lwaWVudCwgdG9rZW5zKTsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBvd25lciB0byBzZXQgdGhlIGhhcmRjYXAuCiAgICogQHBhcmFtIF9oYXJkY2FwIHRoZSBuZXcgaGFyZGNhcAogICAqLwogIGZ1bmN0aW9uIHNldEhhcmRDYXAodWludCBfaGFyZGNhcCkgcHVibGljIG9ubHlPd25lciB7CiAgICBoYXJkY2FwID0gX2hhcmRjYXA7CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgb3duZXIgdG8gc2V0IHRoZSBzdGFydGluZyB0aW1lLgogICAqIEBwYXJhbSBfc3RhcnQgdGhlIG5ldyBfc3RhcnQKICAgKi8KICBmdW5jdGlvbiBzZXRTdGFydCh1aW50IF9zdGFydCkgcHVibGljIG9ubHlPd25lciB7CiAgICBzdGFydCA9IF9zdGFydDsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBvd25lciB0byBzZXQgdGhlIG11bHRpc2lnIGNvbnRyYWN0LgogICAqIEBwYXJhbSBfbXVsdGlzaWdWYXVsdCB0aGUgbXVsdGlzaWcgY29udHJhY3QgYWRkcmVzcwogICAqLwogIGZ1bmN0aW9uIHNldE11bHRpc2lnVmF1bHQoYWRkcmVzcyBfbXVsdGlzaWdWYXVsdCkgcHVibGljIG9ubHlPd25lciB7CiAgICBpZiAoX211bHRpc2lnVmF1bHQgIT0gYWRkcmVzcygwKSkgewogICAgICBtdWx0aXNpZ1ZhdWx0ID0gX211bHRpc2lnVmF1bHQ7CiAgICB9CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgb3duZXIgdG8gc2V0IHRoZSBleGNoYW5nZXJhdGUgY29udHJhY3QuCiAgICogQHBhcmFtIF9leGNoYW5nZVJhdGUgdGhlIGV4Y2hhbmdlcmF0ZSBhZGRyZXNzCiAgICovCiAgZnVuY3Rpb24gc2V0RXhjaGFuZ2VSYXRlKGFkZHJlc3MgX2V4Y2hhbmdlUmF0ZSkgcHVibGljIG9ubHlPd25lciB7CiAgICBleGNoYW5nZVJhdGUgPSBFeGNoYW5nZVJhdGUoX2V4Y2hhbmdlUmF0ZSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgb3duZXIgdG8gZmluaXNoIHRoZSBtaW50aW5nLiBUaGlzIHdpbGwgY3JlYXRlIHRoZSAKICAgKiByZXN0cmljdGVkIHRva2VucyBhbmQgdGhlbiBjbG9zZSB0aGUgbWludGluZy4KICAgKiBUaGVuIHRoZSBvd25lcnNoaXAgb2YgdGhlIFBBWSB0b2tlbiBjb250cmFjdCBpcyB0cmFuc2ZlcmVkIAogICAqIHRvIHRoaXMgb3duZXIuCiAgICovCiAgZnVuY3Rpb24gZmluaXNoTWludGluZygpIHB1YmxpYyBvbmx5T3duZXIgewogICAgdWludCBpc3N1ZWRUb2tlblN1cHBseSA9IHRva2VuLnRvdGFsU3VwcGx5KCk7CiAgICB1aW50IHJlc3RyaWN0ZWRUb2tlbnMgPSBpc3N1ZWRUb2tlblN1cHBseS5tdWwoNDkpLmRpdig1MSk7CiAgICB0b2tlbi5taW50KG11bHRpc2lnVmF1bHQsIHJlc3RyaWN0ZWRUb2tlbnMpOwogICAgdG9rZW4uZmluaXNoTWludGluZygpOwogICAgdG9rZW4udHJhbnNmZXJPd25lcnNoaXAob3duZXIpOwogICAgTWFpblNhbGVDbG9zZWQoKTsKICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRoZSBvd25lciB0byB0cmFuc2ZlciBFUkMyMCB0b2tlbnMgdG8gdGhlIG11bHRpIHNpZyB2YXVsdAogICAqIEBwYXJhbSBfdG9rZW4gdGhlIGNvbnRyYWN0IGFkZHJlc3Mgb2YgdGhlIEVSQzIwIGNvbnRyYWN0CiAgICovCi8qCiAgZnVuY3Rpb24gcmV0cmlldmVUb2tlbnMoYWRkcmVzcyBfdG9rZW4pIHB1YmxpYyBvbmx5T3duZXIgewogICAgRVJDMjAgdG9rZW4gPSBFUkMyMChfdG9rZW4pOwogICAgdG9rZW4udHJhbnNmZXIobXVsdGlzaWdWYXVsdCwgdG9rZW4uYmFsYW5jZU9mKHRoaXMpKTsKICB9CiovCgogIC8qKgogICAqIEBkZXYgRmFsbGJhY2sgZnVuY3Rpb24gd2hpY2ggcmVjZWl2ZXMgZXRoZXIgYW5kIGNyZWF0ZWQgdGhlIGFwcHJvcHJpYXRlIG51bWJlciBvZiB0b2tlbnMgZm9yIHRoZSAKICAgKiBtc2cuc2VuZGVyLgogICAqLwogIGZ1bmN0aW9uKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICBjcmVhdGVUb2tlbnMobXNnLnNlbmRlcik7CiAgfQoKfQ=='.
	

]
