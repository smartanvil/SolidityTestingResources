Class {
	#name : #SRT4045b17c1c37cffbafc84d878f36240ab64b6534,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4045b17c1c37cffbafc84d878f36240ab64b6534 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBIYXNNYW5hZ2VyIHsKICBhZGRyZXNzIHB1YmxpYyBtYW5hZ2VyOwoKICBtb2RpZmllciBvbmx5TWFuYWdlciB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gbWFuYWdlcik7CiAgICBfOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNmZXJNYW5hZ2VyKGFkZHJlc3MgX25ld01hbmFnZXIpIHB1YmxpYyBvbmx5TWFuYWdlcigpIHsKICAgIHJlcXVpcmUoX25ld01hbmFnZXIgIT0gYWRkcmVzcygwKSk7CiAgICBtYW5hZ2VyID0gX25ld01hbmFnZXI7CiAgfQp9Cgpjb250cmFjdCBPd25hYmxlIHsKCiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7IG93bmVyID0gbXNnLnNlbmRlcjsgfQoKICBtb2RpZmllciBvbmx5T3duZXIgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHtvd25lciA9IG5ld093bmVyO30KfWNvbnRyYWN0IElFUkMyMCB7CgogIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwoKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwoKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKCiAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CgogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwoKIH0KCgoKCgoKLy8gQ3Jvd2RzYWxlIGNvbnRyYWN0cyBpbnRlcmZhY2UKY29udHJhY3QgSUNyb3dkc2FsZVByb2Nlc3NvciBpcyBPd25hYmxlLCBIYXNNYW5hZ2VyIHsKICBtb2RpZmllciB3aGVuQ3Jvd2RzYWxlQWxpdmUoKSB7CiAgICByZXF1aXJlKGlzQWN0aXZlKCkpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIHdoZW5Dcm93ZHNhbGVGYWlsZWQoKSB7CiAgICByZXF1aXJlKGlzRmFpbGVkKCkpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIHdoZW5Dcm93ZHNhbGVTdWNjZXNzZnVsKCkgewogICAgcmVxdWlyZShpc1N1Y2Nlc3NmdWwoKSk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgaGFzbnRTdG9wcGVkKCkgewogICAgcmVxdWlyZSghc3RvcHBlZCk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgaGFzQmVlblN0b3BwZWQoKSB7CiAgICByZXF1aXJlKHN0b3BwZWQpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIGhhc250U3RhcnRlZCgpIHsKICAgIHJlcXVpcmUoIXN0YXJ0ZWQpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIGhhc0JlZW5TdGFydGVkKCkgewogICAgcmVxdWlyZShzdGFydGVkKTsKICAgIF87CiAgfQoKICAvLyBNaW5pbWFsIGFjY2VwdGFibGUgaGFyZCBjYXAKICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBNSU5fSEFSRF9DQVAgPSAxIGV0aGVyOwoKICAvLyBNaW5pbWFsIGFjY2VwdGFibGUgZHVyYXRpb24gb2YgY3Jvd2RzYWxlCiAgdWludDI1NiBjb25zdGFudCBwdWJsaWMgTUlOX0NST1dEU0FMRV9USU1FID0gMyBkYXlzOwoKICAvLyBNYXhpbWFsIGFjY2VwdGFibGUgZHVyYXRpb24gb2YgY3Jvd2RzYWxlCiAgdWludDI1NiBjb25zdGFudCBwdWJsaWMgTUFYX0NST1dEU0FMRV9USU1FID0gNTAgZGF5czsKCiAgLy8gQmVjb21lcyB0cnVlIHdoZW4gdGltZWZyYW1lIGlzIGFzc2lnbmVkCiAgYm9vbCBwdWJsaWMgc3RhcnRlZDsKCiAgLy8gQmVjb21lcyB0cnVlIGlmIGNhbmNlbGxlZCBieSBvd25lcgogIGJvb2wgcHVibGljIHN0b3BwZWQ7CgogIC8vIFRvdGFsIGNvbGxlY3RlZCBFdGhlcmV1bTogbXVzdCBiZSB1cGRhdGVkIGV2ZXJ5IHRpbWUgdG9rZW5zIGhhcyBiZWVuIHNvbGQKICB1aW50MjU2IHB1YmxpYyB0b3RhbENvbGxlY3RlZDsKCiAgLy8gVG90YWwgYW1vdW50IG9mIHByb2plY3QncyB0b2tlbiBzb2xkOiBtdXN0IGJlIHVwZGF0ZWQgZXZlcnkgdGltZSB0b2tlbnMgaGFzIGJlZW4gc29sZAogIHVpbnQyNTYgcHVibGljIHRvdGFsU29sZDsKCiAgLy8gQ3Jvd2RzYWxlIG1pbmltYWwgZ29hbCwgbXVzdCBiZSBncmVhdGVyIG9yIGVxdWFsIHRvIEZvcmVjYXN0aW5nIG1pbiBhbW91bnQKICB1aW50MjU2IHB1YmxpYyBtaW5pbWFsR29hbDsKCiAgLy8gQ3Jvd2RzYWxlIGhhcmQgY2FwLCBtdXN0IGJlIGxlc3Mgb3IgZXF1YWwgdG8gRm9yZWNhc3RpbmcgbWF4IGFtb3VudAogIHVpbnQyNTYgcHVibGljIGhhcmRDYXA7CgogIC8vIENyb3dkc2FsZSBkdXJhdGlvbiBpbiBzZWNvbmRzLgogIC8vIEFjY2VwdGVkIHJhbmdlIGlzIE1JTl9DUk9XRFNBTEVfVElNRS4uTUFYX0NST1dEU0FMRV9USU1FLgogIHVpbnQyNTYgcHVibGljIGR1cmF0aW9uOwoKICAvLyBTdGFydCB0aW1lc3RhbXAgb2YgY3Jvd2RzYWxlLCBhYnNvbHV0ZSBVVEMgdGltZQogIHVpbnQyNTYgcHVibGljIHN0YXJ0VGltZXN0YW1wOwoKICAvLyBFbmQgdGltZXN0YW1wIG9mIGNyb3dkc2FsZSwgYWJzb2x1dGUgVVRDIHRpbWUKICB1aW50MjU2IHB1YmxpYyBlbmRUaW1lc3RhbXA7CgogIC8vIEFsbG93cyB0byB0cmFuc2ZlciBzb21lIEVUSCBpbnRvIHRoZSBjb250cmFjdCB3aXRob3V0IHNlbGxpbmcgdG9rZW5zCiAgZnVuY3Rpb24gZGVwb3NpdCgpIHB1YmxpYyBwYXlhYmxlIHt9CgogIC8vIFJldHVybnMgYWRkcmVzcyBvZiBjcm93ZHNhbGUgdG9rZW4sIG11c3QgYmUgRVJDMjAgY29tcGlsYW50CiAgZnVuY3Rpb24gZ2V0VG9rZW4oKSBwdWJsaWMgcmV0dXJucyhhZGRyZXNzKTsKCiAgLy8gVHJhbnNmZXJzIEVUSCByZXdhcmRzIGFtb3VudCAoaWYgRVRIIHJld2FyZHMgaXMgY29uZmlndXJlZCkgdG8gRm9yZWNhc3RpbmcgY29udHJhY3QKICBmdW5jdGlvbiBtaW50RVRIUmV3YXJkcyhhZGRyZXNzIF9jb250cmFjdCwgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgb25seU1hbmFnZXIoKTsKCiAgLy8gTWludHMgdG9rZW4gUmV3YXJkcyB0byBGb3JlY2FzdGluZyBjb250cmFjdAogIGZ1bmN0aW9uIG1pbnRUb2tlblJld2FyZHMoYWRkcmVzcyBfY29udHJhY3QsIHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIG9ubHlNYW5hZ2VyKCk7CgogIC8vIFJlbGVhc2VzIHRva2VucyAodHJhbnNmZXJzIGNyb3dkc2FsZSB0b2tlbiBmcm9tIG1pbnRhYmxlIHRvIHRyYW5zZmVycmFibGUgc3RhdGUpCiAgZnVuY3Rpb24gcmVsZWFzZVRva2VucygpIHB1YmxpYyBvbmx5TWFuYWdlcigpIGhhc250U3RvcHBlZCgpIHdoZW5Dcm93ZHNhbGVTdWNjZXNzZnVsKCk7CgogIC8vIFN0b3BzIGNyb3dkc2FsZS4gQ2FsbGVkIGJ5IENyb3dkc2FsZUNvbnRyb2xsZXIsIHRoZSBsYXR0ZXIgaXMgY2FsbGVkIGJ5IG93bmVyLgogIC8vIENyb3dkc2FsZSBtYXkgYmUgc3RvcHBlZCBhbnkgdGltZSBiZWZvcmUgaXQgZmluaXNoZXMuCiAgZnVuY3Rpb24gc3RvcCgpIHB1YmxpYyBvbmx5TWFuYWdlcigpIGhhc250U3RvcHBlZCgpOwoKICAvLyBWYWxpZGF0ZXMgcGFyYW1ldGVycyBhbmQgc3RhcnRzIGNyb3dkc2FsZQogIGZ1bmN0aW9uIHN0YXJ0KHVpbnQyNTYgX3N0YXJ0VGltZXN0YW1wLCB1aW50MjU2IF9lbmRUaW1lc3RhbXAsIGFkZHJlc3MgX2Z1bmRpbmdBZGRyZXNzKQogICAgcHVibGljIG9ubHlNYW5hZ2VyKCkgaGFzbnRTdGFydGVkKCkgaGFzbnRTdG9wcGVkKCk7CgogIC8vIElzIGNyb3dkc2FsZSBmYWlsZWQgKGNvbXBsZXRlZCwgYnV0IG1pbmltYWwgZ29hbCB3YXNuJ3QgcmVhY2hlZCkKICBmdW5jdGlvbiBpc0ZhaWxlZCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKTsKCiAgLy8gSXMgY3Jvd2RzYWxlIGFjdGl2ZSAoaS5lLiB0aGUgdG9rZW4gY2FuIGJlIHNvbGQpCiAgZnVuY3Rpb24gaXNBY3RpdmUoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCk7CgogIC8vIElzIGNyb3dkc2FsZSBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5CiAgZnVuY3Rpb24gaXNTdWNjZXNzZnVsKCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKGJvb2wpOwp9CgovLyBCYXNpYyBjcm93ZHNhbGUgaW1wbGVtZW50YXRpb24gYm90aCBmb3IgcmVndWFsdCBhbmQgM3JkcGFydHkgQ3Jvd2RzYWxlIGNvbnRyYWN0cwpjb250cmFjdCBCYXNpY0Nyb3dkc2FsZSBpcyBJQ3Jvd2RzYWxlUHJvY2Vzc29yIHsKICBldmVudCBDUk9XRFNBTEVfU1RBUlQodWludDI1NiBzdGFydFRpbWVzdGFtcCwgdWludDI1NiBlbmRUaW1lc3RhbXAsIGFkZHJlc3MgZnVuZGluZ0FkZHJlc3MpOwoKICAvLyBXaGVyZSB0byB0cmFuc2ZlciBjb2xsZWN0ZWQgRVRICiAgYWRkcmVzcyBwdWJsaWMgZnVuZGluZ0FkZHJlc3M7CgogIC8vIEN0b3IuCiAgZnVuY3Rpb24gQmFzaWNDcm93ZHNhbGUoCiAgICBhZGRyZXNzIF9vd25lciwKICAgIGFkZHJlc3MgX21hbmFnZXIKICApCiAgICBwdWJsaWMKICB7CiAgICBvd25lciA9IF9vd25lcjsKICAgIG1hbmFnZXIgPSBfbWFuYWdlcjsKICB9CgogIC8vIGNhbGxlZCBieSBDcm93ZHNhbGVDb250cm9sbGVyIHRvIHRyYW5zZmVyIHJld2FyZCBwYXJ0IG9mIEVUSAogIC8vIGNvbGxlY3RlZCBieSBzdWNjZXNzZnVsIGNyb3dkc2FsZSB0byBGb3JlY2FzdGluZyBjb250cmFjdC4KICAvLyBUaGlzIGNhbGwgaXMgbWFkZSB1cG9uIGNsb3Npbmcgc3VjY2Vzc2Z1bCBjcm93ZGZ1bmRpbmcgcHJvY2VzcwogIC8vIGlmZiBhZ3JlZWQgRVRIIHJld2FyZCBwYXJ0IGlzIG5vdCB6ZXJvCiAgZnVuY3Rpb24gbWludEVUSFJld2FyZHMoCiAgICBhZGRyZXNzIF9jb250cmFjdCwgIC8vIEZvcmVjYXN0aW5nIGNvbnRyYWN0CiAgICB1aW50MjU2IF9hbW91bnQgICAgIC8vIGFncmVlZCBwYXJ0IG9mIHRvdGFsQ29sbGVjdGVkIHdoaWNoIGlzIGludGVuZGVkIGZvciByZXdhcmRzCiAgKQogICAgcHVibGljCiAgICBvbmx5TWFuYWdlcigpIC8vIG1hbmFnZXIgaXMgQ3Jvd2RzYWxlQ29udHJvbGxlciBpbnN0YW5jZQogIHsKICAgIHJlcXVpcmUoX2NvbnRyYWN0LmNhbGwudmFsdWUoX2Ftb3VudCkoKSk7CiAgfQoKICAvLyBjYW5jZWxzIGNyb3dkc2FsZQogIGZ1bmN0aW9uIHN0b3AoKSBwdWJsaWMgb25seU1hbmFnZXIoKSBoYXNudFN0b3BwZWQoKSAgewogICAgLy8gd2UgY2FuIHN0b3Agb25seSBub3Qgc3RhcnRlZCBhbmQgbm90IGNvbXBsZXRlZCBjcm93ZHNhbGUKICAgIGlmIChzdGFydGVkKSB7CiAgICAgIHJlcXVpcmUoIWlzRmFpbGVkKCkpOwogICAgICByZXF1aXJlKCFpc1N1Y2Nlc3NmdWwoKSk7CiAgICB9CiAgICBzdG9wcGVkID0gdHJ1ZTsKICB9CgogIC8vIGNhbGxlZCBieSBDcm93ZHNhbGVDb250cm9sbGVyIHRvIHNldHVwIHN0YXJ0IGFuZCBlbmQgdGltZSBvZiBjcm93ZGZ1bmRpbmcgcHJvY2VzcwogIC8vIGFzIHdlbGwgYXMgZnVuZGluZyBhZGRyZXNzICh3aGVyZSB0byB0cmFuc2ZlciBFVEggdXBvbiBzdWNjZXNzZnVsIGNyb3dkc2FsZSkKICBmdW5jdGlvbiBzdGFydCgKICAgIHVpbnQyNTYgX3N0YXJ0VGltZXN0YW1wLAogICAgdWludDI1NiBfZW5kVGltZXN0YW1wLAogICAgYWRkcmVzcyBfZnVuZGluZ0FkZHJlc3MKICApCiAgICBwdWJsaWMKICAgIG9ubHlNYW5hZ2VyKCkgICAvLyBtYW5hZ2VyIGlzIENyb3dkc2FsZUNvbnRyb2xsZXIgaW5zdGFuY2UKICAgIGhhc250U3RhcnRlZCgpICAvLyBub3QgeWV0IHN0YXJ0ZWQKICAgIGhhc250U3RvcHBlZCgpICAvLyBjcm93ZHNhbGUgd2Fzbid0IGNhbmNlbGxlZAogIHsKICAgIHJlcXVpcmUoX2Z1bmRpbmdBZGRyZXNzICE9IGFkZHJlc3MoMCkpOwoKICAgIC8vIHN0YXJ0IHRpbWUgbXVzdCBub3QgYmUgZWFybGllciB0aGFuIGN1cnJlbnQgdGltZQogICAgcmVxdWlyZShfc3RhcnRUaW1lc3RhbXAgPj0gYmxvY2sudGltZXN0YW1wKTsKCiAgICAvLyByYW5nZSBtdXN0IGJlIHNhbmUKICAgIHJlcXVpcmUoX2VuZFRpbWVzdGFtcCA+IF9zdGFydFRpbWVzdGFtcCk7CiAgICBkdXJhdGlvbiA9IF9lbmRUaW1lc3RhbXAgLSBfc3RhcnRUaW1lc3RhbXA7CgogICAgLy8gZHVyYXRpb24gbXVzdCBmaXQgY29uc3RyYWludHMKICAgIHJlcXVpcmUoZHVyYXRpb24gPj0gTUlOX0NST1dEU0FMRV9USU1FICYmIGR1cmF0aW9uIDw9IE1BWF9DUk9XRFNBTEVfVElNRSk7CgogICAgc3RhcnRUaW1lc3RhbXAgPSBfc3RhcnRUaW1lc3RhbXA7CiAgICBlbmRUaW1lc3RhbXAgPSBfZW5kVGltZXN0YW1wOwogICAgZnVuZGluZ0FkZHJlc3MgPSBfZnVuZGluZ0FkZHJlc3M7CgogICAgLy8gbm93IGNyb3dkc2FsZSBpcyBjb25zaWRlcmVkIHN0YXJ0ZWQsIGV2ZW4gaWYgdGhlIGN1cnJlbnQgdGltZSBpcyBiZWZvcmUgc3RhcnRUaW1lc3RhbXAKICAgIHN0YXJ0ZWQgPSB0cnVlOwoKICAgIENST1dEU0FMRV9TVEFSVChfc3RhcnRUaW1lc3RhbXAsIF9lbmRUaW1lc3RhbXAsIF9mdW5kaW5nQWRkcmVzcyk7CiAgfQoKICAvLyBtdXN0IHJldHVybiB0cnVlIGlmIGNyb3dkc2FsZSBpcyBvdmVyLCBidXQgaXQgZmFpbGVkCiAgZnVuY3Rpb24gaXNGYWlsZWQoKQogICAgcHVibGljCiAgICBjb25zdGFudAogICAgcmV0dXJucyhib29sKQogIHsKICAgIHJldHVybiAoCiAgICAgIC8vIGl0IHdhcyBzdGFydGVkCiAgICAgIHN0YXJ0ZWQgJiYKCiAgICAgIC8vIGNyb3dkc2FsZSBwZXJpb2QgaGFzIGZpbmlzaGVkCiAgICAgIGJsb2NrLnRpbWVzdGFtcCA+PSBlbmRUaW1lc3RhbXAgJiYKCiAgICAgIC8vIGJ1dCBjb2xsZWN0ZWQgRVRIIGlzIGJlbG93IHRoZSByZXF1aXJlZCBtaW5pbXVtCiAgICAgIHRvdGFsQ29sbGVjdGVkIDwgbWluaW1hbEdvYWwKICAgICk7CiAgfQoKICAvLyBtdXN0IHJldHVybiB0cnVlIGlmIGNyb3dkc2FsZSBpcyBhY3RpdmUgKGkuZS4gdGhlIHRva2VuIGNhbiBiZSBib3VnaHQpCiAgZnVuY3Rpb24gaXNBY3RpdmUoKQogICAgcHVibGljCiAgICBjb25zdGFudAogICAgcmV0dXJucyhib29sKQogIHsKICAgIHJldHVybiAoCiAgICAgIC8vIGl0IHdhcyBzdGFydGVkCiAgICAgIHN0YXJ0ZWQgJiYKCiAgICAgIC8vIGhhcmQgY2FwIHdhc24ndCByZWFjaGVkIHlldAogICAgICB0b3RhbENvbGxlY3RlZCA8IGhhcmRDYXAgJiYKCiAgICAgIC8vIGFuZCBjdXJyZW50IHRpbWUgaXMgd2l0aGluIHRoZSBjcm93ZGZ1bmRpbmcgcGVyaW9kCiAgICAgIGJsb2NrLnRpbWVzdGFtcCA+PSBzdGFydFRpbWVzdGFtcCAmJgogICAgICBibG9jay50aW1lc3RhbXAgPCBlbmRUaW1lc3RhbXAKICAgICk7CiAgfQoKICAvLyBtdXN0IHJldHVybiB0cnVlIGlmIGNyb3dkc2FsZSBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5CiAgZnVuY3Rpb24gaXNTdWNjZXNzZnVsKCkKICAgIHB1YmxpYwogICAgY29uc3RhbnQKICAgIHJldHVybnMoYm9vbCkKICB7CiAgICByZXR1cm4gKAogICAgICAvLyBlaXRoZXIgdGhlIGhhcmQgY2FwIGlzIGNvbGxlY3RlZAogICAgICB0b3RhbENvbGxlY3RlZCA+PSBoYXJkQ2FwIHx8CgogICAgICAvLyAuLi5vciB0aGUgY3Jvd2RmdW5kaW5nIHBlcmlvZCBpcyBvdmVyLCBidXQgdGhlIG1pbmltdW0gaGFzIGJlZW4gcmVhY2hlZAogICAgICAoYmxvY2sudGltZXN0YW1wID49IGVuZFRpbWVzdGFtcCAmJiB0b3RhbENvbGxlY3RlZCA+PSBtaW5pbWFsR29hbCkKICAgICk7CiAgfQp9CgoKCgoKCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KCiAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IFNtYXJ0T1Rva2VuIGlzIE93bmFibGUsIElFUkMyMCB7CgogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAvKiBQdWJsaWMgdmFyaWFibGVzIG9mIHRoZSB0b2tlbiAqLwogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJTVE8iOwogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIlNUTyI7CiAgdWludCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBpbml0aWFsU3VwcGx5ID0gMTIwMDAwMDAwMDAgKiAxIGV0aGVyOwogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAvKiBUaGlzIGNyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgYmFsYW5jZXMgKi8KICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlczsKICBtYXBwaW5nIChhZGRyZXNzID0+IG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikpIHB1YmxpYyBhbGxvd2VkOwoKICAvKiBFdmVudHMgKi8KICBldmVudCBCdXJuKGFkZHJlc3MgaW5kZXhlZCBidXJuZXIsIHVpbnQyNTYgdmFsdWUpOwogIGV2ZW50IE1pbnQoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IGFtb3VudCk7CgogIC8qIENvbnN0dWN0b3I6IEluaXRpYWxpemVzIGNvbnRyYWN0IHdpdGggaW5pdGlhbCBzdXBwbHkgdG9rZW5zIHRvIHRoZSBjcmVhdG9yIG9mIHRoZSBjb250cmFjdCAqLwogIGZ1bmN0aW9uIFNtYXJ0T1Rva2VuKCkgcHVibGljIHsKICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBpbml0aWFsU3VwcGx5OyAgICAgICAgICAgICAgLy8gR2l2ZSB0aGUgY3JlYXRvciBhbGwgaW5pdGlhbCB0b2tlbnMKICAgICAgdG90YWxTdXBwbHkgPSBpbml0aWFsU3VwcGx5OyAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0b3RhbCBzdXBwbHkKICB9CgoKICAvKiBJbXBsZW1lbnRhdGlvbiBvZiBFUkMyMEludGVyZmFjZSAqLwoKICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7IHJldHVybiB0b3RhbFN1cHBseTsgfQoKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7IHJldHVybiBiYWxhbmNlc1tfb3duZXJdOyB9CgogIC8qIEludGVybmFsIHRyYW5zZmVyLCBvbmx5IGNhbiBiZSBjYWxsZWQgYnkgdGhpcyBjb250cmFjdCAqLwogIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBpbnRlcm5hbCB7CiAgICAgIHJlcXVpcmUgKF90byAhPSAweDApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRyYW5zZmVyIHRvIDB4MCBhZGRyZXNzLiBVc2UgYnVybigpIGluc3RlYWQKICAgICAgcmVxdWlyZSAoYmFsYW5jZXNbX2Zyb21dID49IF9hbW91bnQpOyAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfYW1vdW50KTsKICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsKCiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgX3RyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlIChfdmFsdWUgPD0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0pOyAgICAgLy8gQ2hlY2sgYWxsb3dhbmNlCiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgX3RyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfYW1vdW50OwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9Cgp9CgovLyBDdXN0b20gY3Jvd2RzYWxlIGV4YW1wbGUKY29udHJhY3QgU21hdHJPQ3Jvd2RzYWxlIGlzIEJhc2ljQ3Jvd2RzYWxlIHsKICAvLyBDcm93ZHNhbGUgcGFydGljaXBhbnRzCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHBhcnRpY2lwYW50czsKCiAgLy8gdG9rZW5zIHBlciBFVEggZml4ZWQgcHJpY2UKICB1aW50MjU2IHRva2Vuc1BlckV0aFByaWNlOwoKICAvLyBDcm93ZHNhbGUgdG9rZW4KICBTbWFydE9Ub2tlbiBjcm93ZHNhbGVUb2tlbjsKCiAgLy8gQ3Rvci4gSW4gdGhpcyBleGFtcGxlLCBtaW5pbWFsR29hbCwgaGFyZENhcCwgYW5kIHByaWNlIGFyZSBub3QgY2hhbmdlYWJsZS4KICAvLyBJbiBtb3JlIGNvbXBsZXggY2FzZXMsIHRob3NlIHBhcmFtZXRlcnMgbWF5IGJlIGNoYW5nZWQgdW50aWwgc3RhcnQoKSBpcyBjYWxsZWQuCiAgZnVuY3Rpb24gU21hdHJPQ3Jvd2RzYWxlKAogICAgdWludDI1NiBfbWluaW1hbEdvYWwsCiAgICB1aW50MjU2IF9oYXJkQ2FwLAogICAgdWludDI1NiBfdG9rZW5zUGVyRXRoUHJpY2UsCiAgICBhZGRyZXNzIF90b2tlbgogICkKICAgIHB1YmxpYwogICAgLy8gc2ltcGxlc3QgY2FzZSB3aGVyZSBtYW5hZ2VyPT1vd25lci4gU2VlIG9ubHlPd25lcigpIGFuZCBvbmx5TWFuYWdlcigpIG1vZGlmaWVycwogICAgLy8gYmVmb3JlIGZ1bmN0aW9ucyB0byBmaWd1cmUgb3V0IHRoZSBjYXNlcyBpbiB3aGljaCB0aG9zZSBhZGRyZXNzZXMgc2hvdWxkIGRpZmZlcgogICAgQmFzaWNDcm93ZHNhbGUobXNnLnNlbmRlciwgbXNnLnNlbmRlcikKICB7CiAgICAvLyBqdXN0IHNldHVwIHRoZW0gb25jZS4uLgogICAgbWluaW1hbEdvYWwgPSBfbWluaW1hbEdvYWw7CiAgICBoYXJkQ2FwID0gX2hhcmRDYXA7CiAgICB0b2tlbnNQZXJFdGhQcmljZSA9IF90b2tlbnNQZXJFdGhQcmljZTsKICAgIGNyb3dkc2FsZVRva2VuID0gU21hcnRPVG9rZW4oX3Rva2VuKTsKICB9CgovLyBIZXJlIGdvZXMgSUNyb3dkc2FsZVByb2Nlc3NvciBpbXBsZW1lbnRhdGlvbgoKICAvLyByZXR1cm5zIGFkZHJlc3Mgb2YgY3Jvd2RzYWxlIHRva2VuLiBUaGUgdG9rZW4gbXVzdCBiZSBFUkMyMC1jb21wbGlhbnQKICBmdW5jdGlvbiBnZXRUb2tlbigpCiAgICBwdWJsaWMKICAgIHJldHVybnMoYWRkcmVzcykKICB7CiAgICByZXR1cm4gYWRkcmVzcyhjcm93ZHNhbGVUb2tlbik7CiAgfQoKICAvLyBjYWxsZWQgYnkgQ3Jvd2RzYWxlQ29udHJvbGxlciB0byB0cmFuc2ZlciByZXdhcmQgcGFydCBvZgogIC8vIHRva2VucyBzb2xkIGJ5IHN1Y2Nlc3NmdWwgY3Jvd2RzYWxlIHRvIEZvcmVjYXN0aW5nIGNvbnRyYWN0LgogIC8vIFRoaXMgY2FsbCBpcyBtYWRlIHVwb24gY2xvc2luZyBzdWNjZXNzZnVsIGNyb3dkZnVuZGluZyBwcm9jZXNzLgogIGZ1bmN0aW9uIG1pbnRUb2tlblJld2FyZHMoCiAgICBhZGRyZXNzIF9jb250cmFjdCwgIC8vIEZvcmVjYXN0aW5nIGNvbnRyYWN0CiAgICB1aW50MjU2IF9hbW91bnQgICAgIC8vIGFncmVlZCBwYXJ0IG9mIHRvdGFsU29sZCB3aGljaCBpcyBpbnRlbmRlZCBmb3IgcmV3YXJkcwogICkKICAgIHB1YmxpYwogICAgb25seU1hbmFnZXIoKSAvLyBtYW5hZ2VyIGlzIENyb3dkc2FsZUNvbnRyb2xsZXIgaW5zdGFuY2UKICB7CiAgICAvLyBjcm93ZHNhbGUgdG9rZW4gaXMgbWludGFibGUgaW4gdGhpcyBleGFtcGxlLCB0b2tlbnMgYXJlIGNyZWF0ZWQgaGVyZQogICAgY3Jvd2RzYWxlVG9rZW4udHJhbnNmZXIoX2NvbnRyYWN0LCBfYW1vdW50KTsKICB9CgogIC8vIHRyYW5zZmVycyBjcm93ZHNhbGUgdG9rZW4gZnJvbSBtaW50YWJsZSB0byB0cmFuc2ZlcnJhYmxlIHN0YXRlCiAgZnVuY3Rpb24gcmVsZWFzZVRva2VucygpCiAgICBwdWJsaWMKICAgIG9ubHlNYW5hZ2VyKCkgICAgICAgICAgICAgLy8gbWFuYWdlciBpcyBDcm93ZHNhbGVDb250cm9sbGVyIGluc3RhbmNlCiAgICBoYXNudFN0b3BwZWQoKSAgICAgICAgICAgIC8vIGNyb3dkc2FsZSB3YXNuJ3QgY2FuY2VsbGVkCiAgICB3aGVuQ3Jvd2RzYWxlU3VjY2Vzc2Z1bCgpIC8vIGNyb3dkc2FsZSB3YXMgc3VjY2Vzc2Z1bAogIHsKICAgIC8vIGRvIG5vdGhpbmcKICB9CgovLyBIZXJlIGdvIGNyb3dkc2FsZSBwcm9jZXNzIGl0c2VsZiBhbmQgdG9rZW4gbWFuaXB1bGF0aW9ucwoKICBmdW5jdGlvbiBzZXRSYXRlKHVpbnQyNTYgX3Rva2Vuc1BlckV0aFByaWNlKQogICAgcHVibGljCiAgICBvbmx5T3duZXIKICB7CiAgICB0b2tlbnNQZXJFdGhQcmljZSA9IF90b2tlbnNQZXJFdGhQcmljZTsKICB9CgogIC8vIGRlZmF1bHQgZnVuY3Rpb24gYWxsb3dzIGZvciBFVEggdHJhbnNmZXJzIHRvIHRoZSBjb250cmFjdAogIGZ1bmN0aW9uICgpIHBheWFibGUgcHVibGljIHsKICAgIHJlcXVpcmUobXNnLnZhbHVlID49IDAuMSAqIDEgZXRoZXIpOwoKICAgIC8vIGFuZCBpdCBzZWxscyB0aGUgdG9rZW4KICAgIHNlbGxUb2tlbnMobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsKICB9CgogIC8vIHNlbHMgdGhlIHByb2plY3QncyB0b2tlbiB0byBidXllcnMKICBmdW5jdGlvbiBzZWxsVG9rZW5zKGFkZHJlc3MgX3JlY2VwaWVudCwgdWludDI1NiBfdmFsdWUpCiAgICBpbnRlcm5hbAogICAgaGFzQmVlblN0YXJ0ZWQoKSAgICAgLy8gY3Jvd2RzYWxlIHN0YXJ0ZWQKICAgIGhhc250U3RvcHBlZCgpICAgICAgIC8vIHdhc24ndCBjYW5jZWxsZWQgYnkgb3duZXIKICAgIHdoZW5Dcm93ZHNhbGVBbGl2ZSgpIC8vIGluIGFjdGl2ZSBzdGF0ZQogIHsKICAgIHVpbnQyNTYgbmV3VG90YWxDb2xsZWN0ZWQgPSB0b3RhbENvbGxlY3RlZCArIF92YWx1ZTsKCiAgICBpZiAoaGFyZENhcCA8IG5ld1RvdGFsQ29sbGVjdGVkKSB7CiAgICAgIC8vIGRvbid0IHNlbGwgYW55dGhpbmcgYWJvdmUgdGhlIGhhcmQgY2FwCgogICAgICB1aW50MjU2IHJlZnVuZCA9IG5ld1RvdGFsQ29sbGVjdGVkIC0gaGFyZENhcDsKICAgICAgdWludDI1NiBkaWZmID0gX3ZhbHVlIC0gcmVmdW5kOwoKICAgICAgLy8gc2VuZCB0aGUgRVRIIHBhcnQgd2hpY2ggZXhjZWVkcyB0aGUgaGFyZCBjYXAgYmFjayB0byB0aGUgYnV5ZXIKICAgICAgX3JlY2VwaWVudC50cmFuc2ZlcihyZWZ1bmQpOwogICAgICBfdmFsdWUgPSBkaWZmOwogICAgfQoKICAgIC8vIHRva2VuIGFtb3VudCBhcyBwZXIgcHJpY2UgKGZpeGVkIGluIHRoaXMgZXhhbXBsZSkKICAgIHVpbnQyNTYgdG9rZW5zU29sZCA9IF92YWx1ZSAqIHRva2Vuc1BlckV0aFByaWNlOwoKICAgIC8vIGNyZWF0ZSBuZXcgdG9rZW5zIGZvciB0aGlzIGJ1eWVyCiAgICBjcm93ZHNhbGVUb2tlbi50cmFuc2ZlcihfcmVjZXBpZW50LCB0b2tlbnNTb2xkKTsKCiAgICAvLyByZW1lbWJlciB0aGUgYnV5ZXIgc28gaGUvc2hlL2l0IG1heSByZWZ1bmQgaXRzIEVUSCBpZiBjcm93ZHNhbGUgZmFpbGVkCiAgICBwYXJ0aWNpcGFudHNbX3JlY2VwaWVudF0gKz0gX3ZhbHVlOwoKICAgIC8vIHVwZGF0ZSB0b3RhbCBFVEggY29sbGVjdGVkCiAgICB0b3RhbENvbGxlY3RlZCArPSBfdmFsdWU7CgogICAgLy8gdXBkYXRlIHRvdGVsIHRva2VucyBzb2xkCiAgICB0b3RhbFNvbGQgKz0gdG9rZW5zU29sZDsKICB9CgogIC8vIHByb2plY3QncyBvd25lciB3aXRoZHJhd3MgRVRIIGZ1bmRzIHRvIHRoZSBmdW5kaW5nIGFkZHJlc3MgdXBvbiBzdWNjZXNzZnVsIGNyb3dkc2FsZQogIGZ1bmN0aW9uIHdpdGhkcmF3KAogICAgdWludDI1NiBfYW1vdW50IC8vIGNhbiBiZSBkb25lIHBhcnRpYWxseQogICkKICAgIHB1YmxpYwogICAgb25seU93bmVyKCkgLy8gcHJvamVjdCdzIG93bmVyCiAgICBoYXNudFN0b3BwZWQoKSAgLy8gY3Jvd2RzYWxlIHdhc24ndCBjYW5jZWxsZWQKICAgIHdoZW5Dcm93ZHNhbGVTdWNjZXNzZnVsKCkgLy8gY3Jvd2RzYWxlIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkKICB7CiAgICByZXF1aXJlKF9hbW91bnQgPD0gdGhpcy5iYWxhbmNlKTsKICAgIGZ1bmRpbmdBZGRyZXNzLnRyYW5zZmVyKF9hbW91bnQpOwogIH0KCiAgLy8gYmFja2VycyByZWZ1bmQgdGhlaXIgRVRIIGlmIHRoZSBjcm93ZHNhbGUgd2FzIGNhbmNlbGxlZCBvciBoYXMgZmFpbGVkCiAgZnVuY3Rpb24gcmVmdW5kKCkKICAgIHB1YmxpYwogIHsKICAgIC8vIGVpdGhlciBjYW5jZWxsZWQgb3IgZmFpbGVkCiAgICByZXF1aXJlKHN0b3BwZWQgfHwgaXNGYWlsZWQoKSk7CgogICAgdWludDI1NiBhbW91bnQgPSBwYXJ0aWNpcGFudHNbbXNnLnNlbmRlcl07CgogICAgLy8gcHJldmVudCBmcm9tIGRvaW5nIGl0IHR3aWNlCiAgICByZXF1aXJlKGFtb3VudCA+IDApOwogICAgcGFydGljaXBhbnRzW21zZy5zZW5kZXJdID0gMDsKCiAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGFtb3VudCk7CiAgfQp9'.
	

]
