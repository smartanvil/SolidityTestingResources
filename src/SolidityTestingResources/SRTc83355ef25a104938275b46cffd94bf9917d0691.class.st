Class {
	#name : #SRTc83355ef25a104938275b46cffd94bf9917d0691,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc83355ef25a104938275b46cffd94bf9917d0691 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKY29udHJhY3QgRlVUUiB7CgogICAgdWludDI1NiBjb25zdGFudCBNQVhfVUlOVDI1NiA9IDIqKjI1NiAtIDE7CiAgICAKICAgIHVpbnQyNTYgTUFYX1NVQk1JVFRFRCA9IDUwMDA2NzE1NzYxOTQ1NTAwMDAwMDAwMDsKCiAgICAvLyAobm8gcHJlbWluZSkKICAgIHVpbnQyNTYgX3RvdGFsU3VwcGx5ID0gMDsKICAgIAogICAgLy8gVGhlIGZvbGxvd2luZyAyIHZhcmlhYmxlcyBhcmUgZXNzZW50aWFsbHkgYSBsb29rdXAgdGFibGUuCiAgICAvLyBUaGV5IGFyZSBub3QgY29uc3RhbnQgYmVjYXVzZSB0aGV5IGFyZSBtZW1vcnkuCiAgICAvLyBJIGNhbWUgdXAgd2l0aCB0aGlzIGJlY2F1c2UgY2FsY3VsYXRpbmcgaXQgd2FzIGV4cGVuc2l2ZSwKICAgIC8vIGVzcGVjaWFsbHkgc28gd2hlbiBjcm9zc2luZyB0aWVycy4KICAgIAogICAgLy8gU3VtIG9mIGVhY2ggdGllciBieSBldGhlciBzdWJtaXR0ZWQuCiAgIHVpbnQyNTZbXSBsZXZlbHMgPSBbIAogICAgICA4NzcxOTI5ODI0NTYxNDAwMDAwMDAwLAogICAgIDE5ODk1NTI1MzMwMTc5NDAwMDAwMDAwLAogICAgIDM3MzUwMDcwNzg0NzI0ODAwMDAwMDAwLAogICAgIDY0MTE0Nzc2NjY3MDc3ODAwMDAwMDAwLAogICAgIDk4NDAwNDkwOTUyNzkyMTAwMDAwMDAwLAogICAgMTQ4NDAwNDkwOTUyNzkyMDAwMDAwMDAwLAogICAgMjE4NDAwNDkwOTUyNzkyMDAwMDAwMDAwLAogICAgMzA4NDAwNDkwOTUyNzkyMDAwMDAwMDAwLAogICAgNDE1MDY3MTU3NjE5NDU5MDAwMDAwMDAwLAogICAgNTAwMDY3MTU3NjE5NDU1MDAwMDAwMDAwCiAgICBdOwogICAgCiAgICAvLyBUb2tlbiBhbW91bnRzIGZvciBlYWNoIHRpZXIuCiAgICB1aW50MjU2W10gcmF0aW9zID0gWwogICAgICAxMTQsCiAgICAgIDg5LAogICAgICA1NSwKICAgICAgMzQsCiAgICAgIDIxLAogICAgICAxMywKICAgICAgIDgsCiAgICAgICA1LAogICAgICAgMywKICAgICAgIDIgXTsKICAgICAKICAgIC8vIHRvdGFsIGV0aGVyIHN1Ym1pdHRlZCBiZWZvcmUgZmVlcy4KICAgIHVpbnQyNTYgX3N1Ym1pdHRlZCA9IDA7CiAgICAKICAgIHVpbnQyNTYgcHVibGljIHRpZXIgPSAwOwogICAgCiAgICAvLyBFUkMyMCBldmVudHMuCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludCBfdmFsdWUpOwogICAgCiAgICAvLyBGVVRSIGV2ZW50cy4KICAgIGV2ZW50IE1pbmVkKGFkZHJlc3MgaW5kZXhlZCBfbWluZXIsIHVpbnQgX3ZhbHVlKTsKICAgIGV2ZW50IFdhaXRTdGFydGVkKHVpbnQyNTYgZW5kVGltZSk7CiAgICBldmVudCBTd2FwU3RhcnRlZCh1aW50MjU2IGVuZFRpbWUpOwogICAgZXZlbnQgTWluaW5nU3RhcnQodWludDI1NiBlbmRfdGltZSwgdWludDI1NiBzd2FwX3RpbWUsIHVpbnQyNTYgc3dhcF9lbmRfdGltZSk7CiAgICBldmVudCBNaW5pbmdFeHRlbmRlZCh1aW50MjU2IGVuZF90aW1lLCB1aW50MjU2IHN3YXBfdGltZSwgdWludDI1NiBzd2FwX2VuZF90aW1lKTsKCiAKICAgIC8vIE9wdGlvbmFsIEVSQzIwIHZhbHVlcy4KICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJGdXRlcmV1bSBUb2tlbiI7CiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSAxODsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIkZVVFIiOwogICAgCiAgICAvLyBQdWJsaWMgdmFyaWFibGVzIHNvIHRoZSBjdXJpb3VzIGNhbiBjaGVjayB0aGUgc3RhdGUuCiAgICBib29sIHB1YmxpYyBzd2FwID0gZmFsc2U7CiAgICBib29sIHB1YmxpYyB3YWl0ID0gZmFsc2U7CiAgICBib29sIHB1YmxpYyBleHRlbmRlZCA9IGZhbHNlOwogICAgCiAgICAvLyBQdWJsaWMgZW5kIHRpbWUgZm9yIHRoZSBjdXJyZW50IHN0YXRlLgogICAgdWludDI1NiBwdWJsaWMgZW5kVGltZTsKICAgIAogICAgLy8gVGhlc2UgYXJlIGNhbGN1bGF0ZWQgYXQgbWluaW5nIHN0YXJ0LgogICAgdWludDI1NiBzd2FwVGltZTsKICAgIHVpbnQyNTYgc3dhcEVuZFRpbWU7CiAgICB1aW50MjU2IGVuZFRpbWVFeHRlbmRlZDsKICAgIHVpbnQyNTYgc3dhcFRpbWVFeHRlbmRlZDsKICAgIHVpbnQyNTYgc3dhcEVuZFRpbWVFeHRlbmRlZDsKICAgIAogICAgLy8gUGF5IHJhdGUgY2FsY3VsYXRlZCBmcm9tIGJhbGFuY2UgbGF0ZXIuCiAgICB1aW50MjU2IHB1YmxpYyBwYXlSYXRlID0gMDsKICAgIAogICAgLy8gRmVlIHZhcmlhYmxlcy4gIEZlZXMgYXJlIHJlc2VydmVkIGFuZCB0aGVuIHdpdGhkcmF3biAgbGF0ZXIuCiAgICB1aW50MjU2IHN1Ym1pdHRlZEZlZXNQYWlkID0gMDsKICAgIHVpbnQyNTYgcGVuYWx0eSA9IDA7CiAgICB1aW50MjU2IHJlc2VydmVkRmVlcyA9IDA7CiAgICAKICAgIC8vIFN0b3JhZ2UuCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKCiAgIC8vIEZhbGxiYWNrIGZ1bmN0aW9uIG1pbmVzIHRoZSB0b2tlbnMuCiAgIC8vIFNlbmQgZnJvbSBhIHdhbGxldCB5b3UgY29udHJvbC4KICAgLy8gRE9OJ1Qgc2VuZCBmcm9tIGFuIGV4Y2hhbmdlIHdhbGxldCEKICAgLy8gV2UgcmVjb21tZW5kIHNlbmRpbmcgdXNpbmcgYSBtZXRob2QgdGhhdCBjYWxjdWxhdGVzIGdhcyBmb3IgeW91LgogICAvLyBIZXJlIGFyZSBzb21lIGVzdGltYXRlcyAobm90IGd1YXJhbnRlZWQgdG8gYmUgYWNjdXJhdGUpOgogICAvLyBJdCB1c3VhbGx5IGNvc3RzIGFyb3VuZCA5MGsgZ2FzLiAgSXQgY29zdCBtb3JlIGlmIHlvdSBjcm9zcyBhIHRpZXIuCiAgIC8vIE1heGltdW0gYXJvdW5kIDE5MGsgZ2FzLgogICBmdW5jdGlvbiAoKSBleHRlcm5hbCBwYXlhYmxlIHsKICAgCiAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgIT0gYWRkcmVzcygwKSAmJgogICAgICAgICAgICAgICAgdGllciAhPSAxMCAmJgogICAgICAgICAgICAgICAgc3dhcCA9PSBmYWxzZSAmJgogICAgICAgICAgICAgICAgd2FpdCA9PSBmYWxzZSk7CiAgICAKICAgICAgICB1aW50MjU2IGlzc3VlZCA9IG1pbnQobXNnLnNlbmRlciwgbXNnLnZhbHVlKTsKICAgICAgICAKICAgICAgICBNaW5lZChtc2cuc2VuZGVyLCBpc3N1ZWQpOwogICAgICAgIFRyYW5zZmVyKHRoaXMsIG1zZy5zZW5kZXIsIGlzc3VlZCk7CiAgICB9CiAgICAKICAgIC8vIENvbnN0cnVjdG9yLgogICAgZnVuY3Rpb24gRlVUUigpIHB1YmxpYyB7CiAgICAgICAgX3N0YXJ0KCk7CiAgICB9CiAgICAKICAgIC8vIFRoaXMgZ2V0cyBjYWxsZWQgYnkgY29uc3RydWN0b3IgQU5EIGFmdGVyIHRoZSBzd2FwIHRvIHJlc3RhcnQgZXZlcnR5aW5nLgogICAgZnVuY3Rpb24gX3N0YXJ0KCkgaW50ZXJuYWwgCiAgICB7CiAgICAgICAgc3dhcCA9IGZhbHNlOwogICAgICAgIHdhaXQgPSBmYWxzZTsKICAgICAgICBleHRlbmRlZCA9IGZhbHNlOwogICAgCiAgICAgICAgZW5kVGltZSA9IG5vdyArIDM2NiBkYXlzOwogICAgICAgIHN3YXBUaW1lID0gZW5kVGltZSArIDMwIGRheXM7CiAgICAgICAgc3dhcEVuZFRpbWUgPSBzd2FwVGltZSArIDUgZGF5czsKICAgICAgICBlbmRUaW1lRXh0ZW5kZWQgPSBub3cgKyAxMDk2IGRheXM7CiAgICAgICAgc3dhcFRpbWVFeHRlbmRlZCA9IGVuZFRpbWVFeHRlbmRlZCArIDMwIGRheXM7CiAgICAgICAgc3dhcEVuZFRpbWVFeHRlbmRlZCA9IHN3YXBUaW1lRXh0ZW5kZWQgKyA1IGRheXM7CiAgICAgICAgCiAgICAgICAgc3VibWl0dGVkRmVlc1BhaWQgPSAwOwogICAgICAgIF9zdWJtaXR0ZWQgPSAwOwogICAgICAgIAogICAgICAgIHJlc2VydmVkRmVlcyA9IDA7CiAgICAgICAgCiAgICAgICAgcGF5UmF0ZSA9IDA7CiAgICAgICAgCiAgICAgICAgdGllciA9IDA7CiAgICAgICAgICAgICAgICAKICAgICAgICBNaW5pbmdTdGFydChlbmRUaW1lLCBzd2FwVGltZSwgc3dhcEVuZFRpbWUpOwogICAgfQogICAgCiAgICAvLyBSZXN0YXJ0cyBldmVyeXRoaW5nIGFmdGVyIHN3YXAuCiAgICAvLyBUaGlzIGlzIGV4cGVuc2l2ZSwgc28gd2UgbWFrZSBzb21lb25lIGNhbGwgaXQgYW5kIHBheSBmb3IgdGhlIGdhcy4KICAgIC8vIEFueSBob2xkZXJzIHRoYXQgbWlzcyB0aGUgc3dhcCBnZXQgdG8ga2VlcCB0aGVpciB0b2tlbnMuCiAgICAvLyBFdGhlciBzdGF5cyBpbiBjb250cmFjdCwgbWludXMgMjAlIHBlbmFsdHkgZmVlLgogICAgZnVuY3Rpb24gcmVzdGFydCgpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShzd2FwICYmIG5vdyA+PSBlbmRUaW1lKTsKICAgICAgICAKICAgICAgICBwZW5hbHR5ID0gdGhpcy5iYWxhbmNlICogMjAwMCAvIDEwMDAwOwogICAgICAgIAogICAgICAgIHBheUZlZXMoKTsKICAgICAgICAKICAgICAgICBfc3RhcnQoKTsKICAgIH0KICAgIAogICAgLy8gRVJDMjAgc3RhbmRhcmQgc3VwcGx5IGZ1bmN0aW9uLgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkKICAgIHsKICAgICAgICByZXR1cm4gX3RvdGFsU3VwcGx5OwogICAgfQogICAgCiAgICAvLyBNaW50cyBuZXcgdG9rZW5zIHdoZW4gdGhleSBhcmUgbWluZWQuCiAgICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgCiAgICB7CiAgICAgICAgdWludDI1NiB0b3RhbCA9IF9zdWJtaXR0ZWQgKyBfdmFsdWU7CiAgICAgICAgCiAgICAgICAgaWYgKHRvdGFsID4gTUFYX1NVQk1JVFRFRCkKICAgICAgICB7CiAgICAgICAgICAgIHVpbnQyNTYgcmVmdW5kID0gdG90YWwgLSBNQVhfU1VCTUlUVEVEIC0gMTsKICAgICAgICAgICAgX3ZhbHVlID0gX3ZhbHVlIC0gcmVmdW5kOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gcmVmdW5kIG1vbmV5IGFuZCBjb250aW51ZS4KICAgICAgICAgICAgX3RvLnRyYW5zZmVyKHJlZnVuZCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIF9zdWJtaXR0ZWQgKz0gX3ZhbHVlOwogICAgICAgIAogICAgICAgIHRvdGFsIC09IHJlZnVuZDsKICAgICAgICAKICAgICAgICB1aW50MjU2IHRva2VucyA9IGNhbGN1bGF0ZVRva2Vucyh0b3RhbCwgX3ZhbHVlKTsKICAgICAgICAKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IHRva2VuczsKICAgICAgIAogICAgICAgIF90b3RhbFN1cHBseSArPSB0b2tlbnM7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRva2VuczsKICAgIH0KICAgIAogICAgLy8gQ2FsY3VsYXRlcyB0aGUgdG9rZW5zIG1pbmVkIGJhc2VkIG9uIHRoZSB0aWVyLgogICAgZnVuY3Rpb24gY2FsY3VsYXRlVG9rZW5zKHVpbnQyNTYgdG90YWwsIHVpbnQyNTYgX3ZhbHVlKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KQogICAgewogICAgICAgIGlmICh0aWVyID09IDEwKSAKICAgICAgICB7CiAgICAgICAgICAgIC8vIFRoaXMganVzdCByb3VuZHMgaXQgb2ZmIHRvIGFuIGV2ZW4gbnVtYmVyLgogICAgICAgICAgICByZXR1cm4gNzQwMDAwMDAwMDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgdWludDI1NiB0b2tlbnMgPSAwOwogICAgICAgIAogICAgICAgIGlmICh0b3RhbCA+IGxldmVsc1t0aWVyXSkKICAgICAgICB7CiAgICAgICAgICAgIHVpbnQyNTYgcmVtYWluaW5nID0gdG90YWwgLSBsZXZlbHNbdGllcl07CiAgICAgICAgICAgIF92YWx1ZSAtPSByZW1haW5pbmc7CiAgICAgICAgICAgIHRva2VucyA9IChfdmFsdWUpICogcmF0aW9zW3RpZXJdOwogICAgICAgICAgIAogICAgICAgICAgICB0aWVyICs9IDE7CiAgICAgICAgICAgIAogICAgICAgICAgICB0b2tlbnMgKz0gY2FsY3VsYXRlVG9rZW5zKHRvdGFsLCByZW1haW5pbmcpOwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICB0b2tlbnMgPSBfdmFsdWUgKiByYXRpb3NbdGllcl07CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJldHVybiB0b2tlbnM7CiAgICB9CiAgICAKICAgIC8vIFRoaXMgaXMgYmFzaWNhbGx5IHNvIHlvdSBkb24ndCBoYXZlIHRvIGFkZCAxIHRvIHRoZSBsYXN0IGNvbXBsZXRlZCB0aWVyLgogICAgLy8gIFlvdSdyZSB3ZWxjb21lLgogICAgZnVuY3Rpb24gY3VycmVudFRpZXIoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgaWYgKHRpZXIgPT0gMTApCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gMTA7CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiB0aWVyICsgMTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8vIEV0aGVyIHJlbWFpbmluZyBmb3IgdGllci4KICAgIGZ1bmN0aW9uIGxlZnRJblRpZXIoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgaWYgKHRpZXIgPT0gMTApIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiBsZXZlbHNbdGllcl0gLSBfc3VibWl0dGVkOwogICAgICAgIH0KICAgIH0KICAgIAogICAgLy8gVG90YWwgc3VtYml0dGVkIGZvciBtaW5pbmcuCiAgICBmdW5jdGlvbiBzdWJtaXR0ZWQoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIF9zdWJtaXR0ZWQ7CiAgICB9CiAgICAKICAgIC8vIEJhbGFuY2UgbWludXMgb3VzdGFuZGluZyBmZWVzLgogICAgZnVuY3Rpb24gYmFsYW5jZU1pbnVzRmVlc091dHN0YW5kaW5nKCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiB0aGlzLmJhbGFuY2UgLSAocGVuYWx0eSArIChfc3VibWl0dGVkIC0gc3VibWl0dGVkRmVlc1BhaWQpICogMTUzMCAvIDEwMDAwKTsgIC8vIGZlZXMgYXJlIDE1LjMgJSB0b3RhbC4KICAgIH0KICAgIAogICAgLy8gQ2FsY3VsYXRlcyB0aGUgYW1vdW50IG9mIGV0aGVyIHBlciB0b2tlbiBmcm9tIHRoZSBiYWxhbmNlLgogICAgLy8gVGhpcyBpcyBjYWxjdWxhdGVkIG9uY2UgYnkgdGhlIGZpcnN0IGFjY291bnQgdG8gc3dhcC4KICAgIGZ1bmN0aW9uIGNhbHVsYXRlUmF0ZSgpIGludGVybmFsIHsKICAgICAgICByZXNlcnZlZEZlZXMgPSBwZW5hbHR5ICsgKF9zdWJtaXR0ZWQgLSBzdWJtaXR0ZWRGZWVzUGFpZCkgKiAxNTMwIC8gMTAwMDA7ICAvLyBmZWVzIGFyZSAxNS4zICUgdG90YWwuCiAgICAgICAgCiAgICAgICAgdWludDI1NiB0b2tlbnMgPSBfdG90YWxTdXBwbHkgLyAxIGV0aGVyOwogICAgICAgIHBheVJhdGUgPSAodGhpcy5iYWxhbmNlIC0gcmVzZXJ2ZWRGZWVzKTsKCiAgICAgICAgcGF5UmF0ZSA9IHBheVJhdGUgLyB0b2tlbnM7CiAgICB9CiAgICAKICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIHRva2VuIHRyYW5zZmVyIGFuZCBmZWUgcGF5bWVudC4KICAgIC8vIEl0IGNoZWNrcyB0aGUgbmV4dCBkZWFkbGluZSBhbmQgdGhlbiB1cGRhdGVzIHRoZSBkZWFkbGluZSBhbmQgc3RhdGUuCiAgICAvLyAKICAgIC8vIEl0IHVzZXMgdGhlIGJsb2NrIHRpbWUsIGJ1dCB0aGUgdGltZSBwZXJpb2RzIGFyZSBkYXlzIGFuZCBtb250aHMsCiAgICAvLyBzbyBpdCBzaG91bGQgYmUgcHJldHR5IHNhZmUgICYjMTc1O1xfKOODhClfLyYjMTc1OyAKICAgIGZ1bmN0aW9uIF91cGRhdGVTdGF0ZSgpIGludGVybmFsIHsKICAgICAgICAvLyBNb3N0IG9mIHRoZSB0aW1lLCB0aGlzIHdpbGwganVzdCBiZSBza2lwcGVkLgogICAgICAgIGlmIChub3cgPj0gZW5kVGltZSkKICAgICAgICB7CiAgICAgICAgICAgIC8vIFdlIGFyZSBub3QgY3VycmVudGx5IHN3YXBwaW5nIG9yIHdhaXRpbmcgdG8gc3dhcAogICAgICAgICAgICBpZighc3dhcCAmJiAhd2FpdCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKGV4dGVuZGVkKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vIEl0J3MgYmVlbiAzNiBtb250aHMuCiAgICAgICAgICAgICAgICAgICAgd2FpdCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgZW5kVGltZSA9IHN3YXBUaW1lRXh0ZW5kZWQ7CiAgICAgICAgICAgICAgICAgICAgV2FpdFN0YXJ0ZWQoZW5kVGltZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aWVyID09IDEwKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vIFRpZXJzIGZpbGxlZAogICAgICAgICAgICAgICAgICAgIHdhaXQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGVuZFRpbWUgPSBzd2FwVGltZTsKICAgICAgICAgICAgICAgICAgICBXYWl0U3RhcnRlZChlbmRUaW1lKTsKICAgICAgICAgICAgICAgIH0gCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy8gRXh0ZW5kZWQgdG8gMzYgbW9udGhzCiAgICAgICAgICAgICAgICAgICAgZW5kVGltZSA9IGVuZFRpbWVFeHRlbmRlZDsKICAgICAgICAgICAgICAgICAgICBleHRlbmRlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgTWluaW5nRXh0ZW5kZWQoZW5kVGltZSwgc3dhcFRpbWUsIHN3YXBFbmRUaW1lKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSAKICAgICAgICAgICAgZWxzZSBpZiAod2FpdCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgLy8gSXQncyB0aW1lIHRvIHN3YXAuCiAgICAgICAgICAgICAgICBzd2FwID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHdhaXQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKGV4dGVuZGVkKSAKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBlbmRUaW1lID0gc3dhcEVuZFRpbWVFeHRlbmRlZDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBlbmRUaW1lID0gc3dhcEVuZFRpbWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIFN3YXBTdGFydGVkKGVuZFRpbWUpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAKICAgIC8vIFN0YW5kYXJkIEVSQzIwIHRyYW5zZmVyIHBsdXMgc3RhdGUgY2hlY2sgYW5kIHRva2VuIHN3YXAgbG9naWMuCiAgICAvLwogICAgLy8gV2UgcmVjb21tZW5kIHNlbmRpbmcgdXNpbmcgYSBtZXRob2QgdGhhdCBjYWxjdWxhdGVzIGdhcyBmb3IgeW91LgogICAgLy8KICAgIC8vIEhlcmUgYXJlIHNvbWUgZXN0aW1hdGVzIChub3QgZ3VhcmFudGVlZCB0byBiZSBhY2N1cmF0ZSk6CiAgICAvLyBJdCB1c3VhbGx5IGNvc3RzIGFyb3VuZCAzN2sgZ2FzLiAgSXQgY29zdCBtb3JlIGlmIHRoZSBzdGF0ZSBjaGFuZ2VzLgogICAgLy8gU3RhdGUgY2hhbmdlIG1lYW5zIGFyb3VuZCA1NWsgLSA2NWsgZ2FzLgogICAgLy8gU3dhcHBpbmcgdG9rZW5zIGZvciBldGhlciBjb3N0cyBhcm91bmQgNDZrIGdhcy4gKGFyb3VuZCA5M2sgZm9yIHRoZSBmaXJzdCBhY2NvdW50IHRvIHN3YXApCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSk7CiAgICAgICAgCiAgICAgICAgIC8vIE5vcm1hbCB0cmFuc2ZlcnMgY2hlY2sgaWYgdGltZSBpcyBleHBpcmVkLiAgCiAgICAgICAgX3VwZGF0ZVN0YXRlKCk7CgogICAgICAgIC8vIENoZWNrIGlmIHNlbmRpbmcgaW4gZm9yIHN3YXAuCiAgICAgICAgaWYgKF90byA9PSBhZGRyZXNzKHRoaXMpKSAKICAgICAgICB7CiAgICAgICAgICAgIC8vIHRocm93IGlmIHRoZXkgY2FuJ3Qgc3dhcCB5ZXQuCiAgICAgICAgICAgIHJlcXVpcmUoc3dhcCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAocGF5UmF0ZSA9PSAwKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjYWx1bGF0ZVJhdGUoKTsgLy8gR2FzIHRvIGNhbGMgdGhlIHJhdGUgcGFpZCBieSBmaXJzdCB1bmx1Y2t5IHNvdWwuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHVpbnQyNTYgYW1vdW50ID0gX3ZhbHVlICogcGF5UmF0ZTsKICAgICAgICAgICAgLy8gQWRqdXN0IGZvciBkZWNpbWFscwogICAgICAgICAgICBhbW91bnQgLz0gMSBldGhlcjsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEJ1cm4gdG9rZW5zLgogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgICBfdG90YWxTdXBwbHkgLT0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvL3NlbmQgZXRoZXIKICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2ZlcihhbW91bnQpOwogICAgICAgIH0gZWxzZQogICAgICAgIHsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgLy8gU3RhbmRhcmQgRVJDMjAuCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAKICAgICAgICB1aW50MjU2IGFsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSAmJiBhbGxvd2FuY2UgPj0gX3ZhbHVlKTsKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgIGlmIChhbGxvd2FuY2UgPCBNQVhfVUlOVDI1NikgewogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgfQogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gU3RhbmRhcmQgRVJDMjAuCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIC8vIFN0YW5kYXJkIEVSQzIwLgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQogICAgCiAgICAvLyAqKioqKioqKioqKioqKioqKioqKgogICAgLy8gRmVlIHN0dWZmLgoKICAgIC8vIEFkZHJlc3NlcyBmb3IgZmVlcy4KICAgIGFkZHJlc3MgcHVibGljIGZvdW5kYXRpb24gPSAweDk1MGVjNGVmNjkzZDkwZjg1MTljNDIxMzgyMWU0NjI0MjZkMzA5MDU7CiAgICBhZGRyZXNzIHB1YmxpYyBvd25lciA9IDB4NzhCRkNBNUUyMEIwRDcxMEViRUY5ODI0OWY2OGQ5MzIwZUU0MjNiZTsKICAgIGFkZHJlc3MgcHVibGljIGRldiA9IDB4NWQyYjlmNTM0NWU2OWUyMzkwY2U0YzI2Y2NjOWMyOTEwYTA5NzUyMDsKICAgIAogICAgLy8gUGF5cyBmZWVzIHRvIHRoZSBmb3VuZGF0aW9uLCB0aGUgb3duZXIsIGFuZCB0aGUgZGV2LgogICAgLy8gSXQgYWxzbyB1cGRhdGVzIHRoZSBzdGF0ZS4gIEFueW9uZSBjYW4gY2FsbCB0aGlzLgogICAgZnVuY3Rpb24gcGF5RmVlcygpIHB1YmxpYyB7CiAgICAgICAgIC8vIENoZWNrIHN0YXRlIHRvIHNlZSBpZiBzd2FwIG5lZWRzIHRvIGhhcHBlbi4KICAgICAgICAgX3VwZGF0ZVN0YXRlKCk7CiAgICAgICAgIAogICAgICAgIHVpbnQyNTYgZmVlcyA9IHBlbmFsdHkgKyAoX3N1Ym1pdHRlZCAtIHN1Ym1pdHRlZEZlZXNQYWlkKSAqIDE1MzAgLyAxMDAwMDsgIC8vIGZlZXMgYXJlIDE1LjMgJSB0b3RhbC4KICAgICAgICBzdWJtaXR0ZWRGZWVzUGFpZCA9IF9zdWJtaXR0ZWQ7CiAgICAgICAgCiAgICAgICAgcmVzZXJ2ZWRGZWVzID0gMDsKICAgICAgICBwZW5hbHR5ID0gMDsKICAgICAgICAKICAgICAgICBpZiAoZmVlcyA+IDApIAogICAgICAgIHsKICAgICAgICAgICAgZm91bmRhdGlvbi50cmFuc2ZlcihmZWVzIC8gMik7CiAgICAgICAgICAgIG93bmVyLnRyYW5zZmVyKGZlZXMgLyA0KTsKICAgICAgICAgICAgZGV2LnRyYW5zZmVyKGZlZXMgLyA0KTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNoYW5nZUZvdW5kYXRpb24gKGFkZHJlc3MgX3JlY2VpdmVyKSBwdWJsaWMKICAgIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZm91bmRhdGlvbik7CiAgICAgICAgZm91bmRhdGlvbiA9IF9yZWNlaXZlcjsKICAgIH0KICAgIAogICAgCiAgICBmdW5jdGlvbiBjaGFuZ2VPd25lciAoYWRkcmVzcyBfcmVjZWl2ZXIpIHB1YmxpYwogICAgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgb3duZXIgPSBfcmVjZWl2ZXI7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNoYW5nZURldiAoYWRkcmVzcyBfcmVjZWl2ZXIpIHB1YmxpYwogICAgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBkZXYpOwogICAgICAgIGRldiA9IF9yZWNlaXZlcjsKICAgIH0gICAgCgp9'.
	

]
