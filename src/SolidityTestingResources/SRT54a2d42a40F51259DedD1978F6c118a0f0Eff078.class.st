Class {
	#name : #SRT54a2d42a40F51259DedD1978F6c118a0f0Eff078,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT54a2d42a40F51259DedD1978F6c118a0f0Eff078 >> base64 [
	^ 'Ly8hIENvcHlyaWdodCBQYXJpdHkgVGVjaG5vbG9naWVzLCAyMDE3LgovLyEgUmVsZWFzZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbmNlIDIuCgpwcmFnbWEgc29saWRpdHkgXjAuNC4xNzsKCi8vLyBTdHJpcHBlZCBkb3duIEVSQzIwIHN0YW5kYXJkIHRva2VuIGludGVyZmFjZS4KY29udHJhY3QgVG9rZW4gewoJZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKfQoKLy8gRnJvbSBDZXJ0aWZpZXIuc29sCmNvbnRyYWN0IENlcnRpZmllciB7CglldmVudCBDb25maXJtZWQoYWRkcmVzcyBpbmRleGVkIHdobyk7CglldmVudCBSZXZva2VkKGFkZHJlc3MgaW5kZXhlZCB3aG8pOwoJZnVuY3Rpb24gY2VydGlmaWVkKGFkZHJlc3MpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKTsKCWZ1bmN0aW9uIGdldChhZGRyZXNzLCBzdHJpbmcpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChieXRlczMyKTsKCWZ1bmN0aW9uIGdldEFkZHJlc3MoYWRkcmVzcywgc3RyaW5nKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcyk7CglmdW5jdGlvbiBnZXRVaW50KGFkZHJlc3MsIHN0cmluZykgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwp9CgovLy8gU2ltcGxlIG1vZGlmaWVkIHNlY29uZCBwcmljZSBhdWN0aW9uIGNvbnRyYWN0LiBQcmljZSBzdGFydHMgaGlnaCBhbmQgbW9ub3RvbmljYWxseSBkZWNyZWFzZXMKLy8vIHVudGlsIGFsbCB0b2tlbnMgYXJlIHNvbGQgYXQgdGhlIGN1cnJlbnQgcHJpY2Ugd2l0aCBjdXJyZW50bHkgcmVjZWl2ZWQgZnVuZHMuCi8vLyBUaGUgcHJpY2UgY3VydmUgaGFzIGJlZW4gY2hvc2VuIHRvIHJlc2VtYmxlIGEgbG9nYXJpdGhtaWMgY3VydmUKLy8vIGFuZCBwcm9kdWNlIGEgcmVhc29uYWJsZSBhdWN0aW9uIHRpbWVsaW5lLgpjb250cmFjdCBTZWNvbmRQcmljZUF1Y3Rpb24gewoJLy8gRXZlbnRzOgoKCS8vLyBTb21lb25lIGJvdWdodCBpbiBhdCBhIHBhcnRpY3VsYXIgbWF4LXByaWNlLgoJZXZlbnQgQnV5aW4oYWRkcmVzcyBpbmRleGVkIHdobywgdWludCBhY2NvdW50ZWQsIHVpbnQgcmVjZWl2ZWQsIHVpbnQgcHJpY2UpOwoKCS8vLyBBZG1pbiBpbmplY3RlZCBhIHB1cmNoYXNlLgoJZXZlbnQgSW5qZWN0ZWQoYWRkcmVzcyBpbmRleGVkIHdobywgdWludCBhY2NvdW50ZWQsIHVpbnQgcmVjZWl2ZWQpOwoKCS8vLyBBZG1pbiB1bmluamVjdGVkIGEgcHVyY2hhc2UuCglldmVudCBVbmluamVjdGVkKGFkZHJlc3MgaW5kZXhlZCB3aG8pOwoKCS8vLyBBdCBsZWFzdCA1IG1pbnV0ZXMgaGFzIHBhc3NlZCBzaW5jZSBsYXN0IFRpY2tlZCBldmVudC4KCWV2ZW50IFRpY2tlZCh1aW50IGVyYSwgdWludCByZWNlaXZlZCwgdWludCBhY2NvdW50ZWQpOwoKCS8vLyBUaGUgc2FsZSBqdXN0IGVuZGVkIHdpdGggdGhlIGN1cnJlbnQgcHJpY2UuCglldmVudCBFbmRlZCh1aW50IHByaWNlKTsKCgkvLy8gRmluYWxpc2VkIHRoZSBwdXJjaGFzZSBmb3IgYHdob2AsIHdobyBoYXMgYmVlbiBnaXZlbiBgdG9rZW5zYCB0b2tlbnMuCglldmVudCBGaW5hbGlzZWQoYWRkcmVzcyBpbmRleGVkIHdobywgdWludCB0b2tlbnMpOwoKCS8vLyBBdWN0aW9uIGlzIG92ZXIuIEFsbCBhY2NvdW50cyBmaW5hbGlzZWQuCglldmVudCBSZXRpcmVkKCk7CgoJLy8gQ29uc3RydWN0b3I6CgoJLy8vIFNpbXBsZSBjb25zdHJ1Y3Rvci4KCS8vLyBUb2tlbiBjYXAgc2hvdWxkIHRha2UgYmUgaW4gd2hvbGUgdG9rZW5zLCBub3Qgc21hbGxlc3QgZGl2aXNpYmxlIHVuaXRzLgoJZnVuY3Rpb24gU2Vjb25kUHJpY2VBdWN0aW9uKAoJCWFkZHJlc3MgX2NlcnRpZmllckNvbnRyYWN0LAoJCWFkZHJlc3MgX3Rva2VuQ29udHJhY3QsCgkJYWRkcmVzcyBfdHJlYXN1cnksCgkJYWRkcmVzcyBfYWRtaW4sCgkJdWludCBfYmVnaW5UaW1lLAoJCXVpbnQgX3Rva2VuQ2FwCgkpCgkJcHVibGljCgl7CgkJY2VydGlmaWVyID0gQ2VydGlmaWVyKF9jZXJ0aWZpZXJDb250cmFjdCk7CgkJdG9rZW5Db250cmFjdCA9IFRva2VuKF90b2tlbkNvbnRyYWN0KTsKCQl0cmVhc3VyeSA9IF90cmVhc3VyeTsKCQlhZG1pbiA9IF9hZG1pbjsKCQliZWdpblRpbWUgPSBfYmVnaW5UaW1lOwoJCXRva2VuQ2FwID0gX3Rva2VuQ2FwOwoJCWVuZFRpbWUgPSBiZWdpblRpbWUgKyAyOCBkYXlzOwoJfQoKCS8vIE5vIGRlZmF1bHQgZnVuY3Rpb24sIGVudHJ5LWxldmVsIHVzZXJzCglmdW5jdGlvbigpIHB1YmxpYyB7IGFzc2VydChmYWxzZSk7IH0KCgkvLyBQdWJsaWMgaW50ZXJhY3Rpb246CgoJLy8vIEJ1eWluIGZ1bmN0aW9uLiBUaHJvd3MgaWYgdGhlIHNhbGUgaXMgbm90IGFjdGl2ZSBhbmQgd2hlbiByZWZ1bmQgd291bGQgYmUgbmVlZGVkLgoJZnVuY3Rpb24gYnV5aW4odWludDggdiwgYnl0ZXMzMiByLCBieXRlczMyIHMpCgkJcHVibGljCgkJcGF5YWJsZQoJCXdoZW5fbm90X2hhbHRlZAoJCXdoZW5fYWN0aXZlCgkJb25seV9lbGlnaWJsZShtc2cuc2VuZGVyLCB2LCByLCBzKQoJewoJCWZsdXNoRXJhKCk7CgoJCS8vIEZsdXNoIGJvbnVzIHBlcmlvZDoKCQlpZiAoY3VycmVudEJvbnVzID4gMCkgewoJCQkvLyBCb251cyBpcyBjdXJyZW50bHkgYWN0aXZlLi4uCgkJCWlmIChub3cgPj0gYmVnaW5UaW1lICsgQk9OVVNfTUlOX0RVUkFUSU9OCQkJCS8vIC4uLmJ1dCBvdXRzaWRlIHRoZSBhdXRvbWF0aWMgYm9udXMgcGVyaW9kCgkJCQkmJiBsYXN0TmV3SW50ZXJlc3QgKyBCT05VU19MQVRDSCA8PSBibG9jay5udW1iZXIJLy8gLi4uYW5kIGhhZCBubyBuZXcgaW50ZXJlc3QgZm9yIHNvbWUgYmxvY2tzCgkJCSkgewoJCQkJY3VycmVudEJvbnVzLS07CgkJCX0KCQkJaWYgKG5vdyA+PSBiZWdpblRpbWUgKyBCT05VU19NQVhfRFVSQVRJT04pIHsKCQkJCWN1cnJlbnRCb251cyA9IDA7CgkJCX0KCQkJaWYgKGJ1eWluc1ttc2cuc2VuZGVyXS5yZWNlaXZlZCA9PSAwKSB7CS8vIFdlIGhhdmUgbmV3IGludGVyZXN0CgkJCQlsYXN0TmV3SW50ZXJlc3QgPSB1aW50MzIoYmxvY2subnVtYmVyKTsKCQkJfQoJCX0KCgkJdWludCBhY2NvdW50ZWQ7CgkJYm9vbCByZWZ1bmQ7CgkJdWludCBwcmljZTsKCQkoYWNjb3VudGVkLCByZWZ1bmQsIHByaWNlKSA9IHRoZURlYWwobXNnLnZhbHVlKTsKCgkJLy8vIE5vIHJlZnVuZHMgYWxsb3dlZC4KCQlyZXF1aXJlICghcmVmdW5kKTsKCgkJLy8gcmVjb3JkIHRoZSBhY2NlcHRhbmNlLgoJCWJ1eWluc1ttc2cuc2VuZGVyXS5hY2NvdW50ZWQgKz0gdWludDEyOChhY2NvdW50ZWQpOwoJCWJ1eWluc1ttc2cuc2VuZGVyXS5yZWNlaXZlZCArPSB1aW50MTI4KG1zZy52YWx1ZSk7CgkJdG90YWxBY2NvdW50ZWQgKz0gYWNjb3VudGVkOwoJCXRvdGFsUmVjZWl2ZWQgKz0gbXNnLnZhbHVlOwoJCWVuZFRpbWUgPSBjYWxjdWxhdGVFbmRUaW1lKCk7CgkJQnV5aW4obXNnLnNlbmRlciwgYWNjb3VudGVkLCBtc2cudmFsdWUsIHByaWNlKTsKCgkJLy8gc2VuZCB0byB0cmVhc3VyeQoJCXRyZWFzdXJ5LnRyYW5zZmVyKG1zZy52YWx1ZSk7Cgl9CgoJLy8vIExpa2UgYnV5aW4gZXhjZXB0IG5vIHBheW1lbnQgcmVxdWlyZWQgYW5kIGJvbnVzIGF1dG9tYXRpY2FsbHkgZ2l2ZW4uCglmdW5jdGlvbiBpbmplY3QoYWRkcmVzcyBfd2hvLCB1aW50MTI4IF9yZWNlaXZlZCkKCQlwdWJsaWMKCQlvbmx5X2FkbWluCgkJb25seV9iYXNpYyhfd2hvKQoJCWJlZm9yZV9iZWdpbm5pbmcKCXsKCQl1aW50MTI4IGJvbnVzID0gX3JlY2VpdmVkICogdWludDEyOChjdXJyZW50Qm9udXMpIC8gMTAwOwoJCXVpbnQxMjggYWNjb3VudGVkID0gX3JlY2VpdmVkICsgYm9udXM7CgoJCWJ1eWluc1tfd2hvXS5hY2NvdW50ZWQgKz0gYWNjb3VudGVkOwoJCWJ1eWluc1tfd2hvXS5yZWNlaXZlZCArPSBfcmVjZWl2ZWQ7CgkJdG90YWxBY2NvdW50ZWQgKz0gYWNjb3VudGVkOwoJCXRvdGFsUmVjZWl2ZWQgKz0gX3JlY2VpdmVkOwoJCWVuZFRpbWUgPSBjYWxjdWxhdGVFbmRUaW1lKCk7CgkJSW5qZWN0ZWQoX3dobywgYWNjb3VudGVkLCBfcmVjZWl2ZWQpOwoJfQoKCS8vLyBSZXZlcnNlcyBhIHByZXZpb3VzIGBpbmplY3RgIGNvbW1hbmQuCglmdW5jdGlvbiB1bmluamVjdChhZGRyZXNzIF93aG8pCgkJcHVibGljCgkJb25seV9hZG1pbgoJCWJlZm9yZV9iZWdpbm5pbmcKCXsKCQl0b3RhbEFjY291bnRlZCAtPSBidXlpbnNbX3dob10uYWNjb3VudGVkOwoJCXRvdGFsUmVjZWl2ZWQgLT0gYnV5aW5zW193aG9dLnJlY2VpdmVkOwoJCWRlbGV0ZSBidXlpbnNbX3dob107CgkJZW5kVGltZSA9IGNhbGN1bGF0ZUVuZFRpbWUoKTsKCQlVbmluamVjdGVkKF93aG8pOwoJfQoKCS8vLyBNaW50IHRva2VucyBmb3IgYSBwYXJ0aWN1bGFyIHBhcnRpY2lwYW50LgoJZnVuY3Rpb24gZmluYWxpc2UoYWRkcmVzcyBfd2hvKQoJCXB1YmxpYwoJCXdoZW5fbm90X2hhbHRlZAoJCXdoZW5fZW5kZWQKCQlvbmx5X2J1eWlucyhfd2hvKQoJewoJCS8vIGVuZCB0aGUgYXVjdGlvbiBpZiB3ZSdyZSB0aGUgZmlyc3Qgb25lIHRvIGZpbmFsaXNlLgoJCWlmIChlbmRQcmljZSA9PSAwKSB7CgkJCWVuZFByaWNlID0gdG90YWxBY2NvdW50ZWQgLyB0b2tlbkNhcDsKCQkJRW5kZWQoZW5kUHJpY2UpOwoJCX0KCgkJLy8gZW5hY3QgdGhlIHB1cmNoYXNlLgoJCXVpbnQgdG90YWwgPSBidXlpbnNbX3dob10uYWNjb3VudGVkOwoJCXVpbnQgdG9rZW5zID0gdG90YWwgLyBlbmRQcmljZTsKCQl0b3RhbEZpbmFsaXNlZCArPSB0b3RhbDsKCQlkZWxldGUgYnV5aW5zW193aG9dOwoJCXJlcXVpcmUgKHRva2VuQ29udHJhY3QudHJhbnNmZXIoX3dobywgdG9rZW5zKSk7CgoJCUZpbmFsaXNlZChfd2hvLCB0b2tlbnMpOwoKCQlpZiAodG90YWxGaW5hbGlzZWQgPT0gdG90YWxBY2NvdW50ZWQpIHsKCQkJUmV0aXJlZCgpOwoJCX0KCX0KCgkvLyBQcnZpYXRlIHV0aWxpdGllczoKCgkvLy8gRW5zdXJlIHRoZSBlcmEgdHJhY2tlciBpcyBwcmVwYXJlZCBpbiBjYXNlIHRoZSBjdXJyZW50IGNoYW5nZWQuCglmdW5jdGlvbiBmbHVzaEVyYSgpIHByaXZhdGUgewoJCXVpbnQgY3VycmVudEVyYSA9IChub3cgLSBiZWdpblRpbWUpIC8gRVJBX1BFUklPRDsKCQlpZiAoY3VycmVudEVyYSA+IGVyYUluZGV4KSB7CgkJCVRpY2tlZChlcmFJbmRleCwgdG90YWxSZWNlaXZlZCwgdG90YWxBY2NvdW50ZWQpOwoJCX0KCQllcmFJbmRleCA9IGN1cnJlbnRFcmE7Cgl9CgoJLy8gQWRtaW4gaW50ZXJhY3Rpb246CgoJLy8vIEVtZXJnZW5jeSBmdW5jdGlvbiB0byBwYXVzZSBidXktaW4gYW5kIGZpbmFsaXNhdGlvbi4KCWZ1bmN0aW9uIHNldEhhbHRlZChib29sIF9oYWx0ZWQpIHB1YmxpYyBvbmx5X2FkbWluIHsgaGFsdGVkID0gX2hhbHRlZDsgfQoKCS8vLyBFbWVyZ2VuY3kgZnVuY3Rpb24gdG8gZHJhaW4gdGhlIGNvbnRyYWN0IG9mIGFueSBmdW5kcy4KCWZ1bmN0aW9uIGRyYWluKCkgcHVibGljIG9ubHlfYWRtaW4geyB0cmVhc3VyeS50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOyB9CgoJLy8gSW5zcGVjdGlvbjoKCgkvKioKCSAqIFRoZSBmb3JtdWxhIGZvciB0aGUgcHJpY2Ugb3ZlciB0aW1lLgoJICoKCSAqIFRoaXMgaXMgYSBoYW5kLWNyYWZ0ZWQgZm9ybXVsYSAobm8gbmFtZWQgdG8gdGhlIGNvbnN0YW50cykgaW4gb3JkZXIgdG8KCSAqIHByb3ZpZGUgdGhlIGZvbGxvd2luZyByZXF1aXJlbWVudHM6CgkgKgoJICogLSBTaW1wbGUgcmVjaXByb2NhbCBjdXJ2ZSAob2YgdGhlIGZvcm0geSA9IGEgKyBiIC8gKHggKyBjKSk7CgkgKiAtIFdvdWxkIGJlIGNvbXBsZXRlbHkgdW5yZWFzb25hYmxlIHRvIGVuZCBpbiB0aGUgZmlyc3QgNDggaG91cnM7CgkgKiAtIFdvdWxkIHJlYWNoICQ2NW0gZWZmZWN0aXZlIGNhcCBpbiA0IHdlZWtzLgoJICoKCSAqIFRoZSBjdXJ2ZSBiZWdpbnMgd2l0aCBhbiBlZmZlY3RpdmUgY2FwIChFQykgb2Ygb3ZlciAkMzBiLCBtb3JlIGV0aGVyCgkgKiB0aGFuIGlzIGluIGV4aXN0YW5jZS4gQWZ0ZXIgNDggaG91cnMsIHRoZSBFQyByZWR1Y2VzIHRvIGFwcHJveC4gJDFiLgoJICogQXQganVzdCBvdmVyIDEwIGRheXMsIHRoZSBFQyBoYXMgcmVkdWNlZCB0byAkMjAwbSwgYW5kIGhhbGYgd2F5IHRocm91Z2gKCSAqIHRoZSAxOXRoIGRheSBpdCBoYXMgcmVkdWNlZCB0byAkMTAwbS4KCSAqCgkgKiBIZXJlJ3MgdGhlIGN1cnZlOiBodHRwczovL3d3dy5kZXNtb3MuY29tL2NhbGN1bGF0b3IvazZpcHJ4emNyZz9lbWJlZAoJICovCgoJLy8vIFRoZSBjdXJyZW50IGVuZCB0aW1lIG9mIHRoZSBzYWxlIGFzc3VtaW5nIHRoYXQgbm9ib2R5IGVsc2UgYnV5cyBpbi4KCWZ1bmN0aW9uIGNhbGN1bGF0ZUVuZFRpbWUoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludCkgewoJCXZhciBmYWN0b3IgPSB0b2tlbkNhcCAvIERJVklTT1IgKiBVU0RXRUk7CgkJcmV0dXJuIGJlZ2luVGltZSArIDQwMDAwMDAwICogZmFjdG9yIC8gKHRvdGFsQWNjb3VudGVkICsgNSAqIGZhY3RvcikgLSA1NzYwOwoJfQoKCS8vLyBUaGUgY3VycmVudCBwcmljZSBmb3IgYSBzaW5nbGUgaW5kaXZpc2libGUgcGFydCBvZiBhIHRva2VuLiBJZiBhIGJ1eWluIGhhcHBlbnMgbm93LCB0aGlzIGlzCgkvLy8gdGhlIGhpZ2hlc3QgcHJpY2UgcGVyIGluZGl2aXNpYmxlIHRva2VuIHBhcnQgdGhhdCB0aGUgYnV5ZXIgd2lsbCBwYXkuIFRoaXMgZG9lc24ndAoJLy8vIGluY2x1ZGUgdGhlIGRpc2NvdW50IHdoaWNoIG1heSBiZSBhdmFpbGFibGUuCglmdW5jdGlvbiBjdXJyZW50UHJpY2UoKSBwdWJsaWMgY29uc3RhbnQgd2hlbl9hY3RpdmUgcmV0dXJucyAodWludCB3ZWlQZXJJbmRpdmlzaWJsZVRva2VuUGFydCkgewoJCXJldHVybiAoVVNEV0VJICogNDAwMDAwMDAgLyAobm93IC0gYmVnaW5UaW1lICsgNTc2MCkgLSBVU0RXRUkgKiA1KSAvIERJVklTT1I7Cgl9CgoJLy8vIFJldHVybnMgdGhlIHRvdGFsIGluZGl2aXNpYmxlIHRva2VuIHBhcnRzIGF2YWlsYWJsZSBmb3IgcHVyY2hhc2UgcmlnaHQgbm93LgoJZnVuY3Rpb24gdG9rZW5zQXZhaWxhYmxlKCkgcHVibGljIGNvbnN0YW50IHdoZW5fYWN0aXZlIHJldHVybnMgKHVpbnQgdG9rZW5zKSB7CgkJdWludCBfY3VycmVudENhcCA9IHRvdGFsQWNjb3VudGVkIC8gY3VycmVudFByaWNlKCk7CgkJaWYgKF9jdXJyZW50Q2FwID49IHRva2VuQ2FwKSB7CgkJCXJldHVybiAwOwoJCX0KCQlyZXR1cm4gdG9rZW5DYXAgLSBfY3VycmVudENhcDsKCX0KCgkvLy8gVGhlIGxhcmdlc3QgcHVyY2hhc2UgdGhhbiBjYW4gYmUgbWFkZSBhdCBwcmVzZW50LCBub3QgaW5jbHVkaW5nIGFueQoJLy8vIGRpc2NvdW50LgoJZnVuY3Rpb24gbWF4UHVyY2hhc2UoKSBwdWJsaWMgY29uc3RhbnQgd2hlbl9hY3RpdmUgcmV0dXJucyAodWludCBzcGVuZCkgewoJCXJldHVybiB0b2tlbkNhcCAqIGN1cnJlbnRQcmljZSgpIC0gdG90YWxBY2NvdW50ZWQ7Cgl9CgoJLy8vIEdldCB0aGUgbnVtYmVyIG9mIGB0b2tlbnNgIHRoYXQgd291bGQgYmUgZ2l2ZW4gaWYgdGhlIHNlbmRlciB3ZXJlIHRvCgkvLy8gc3BlbmQgYF92YWx1ZWAgbm93LiBBbHNvIHRlbGwgeW91IHdoYXQgYHJlZnVuZGAgd291bGQgYmUgZ2l2ZW4sIGlmIGFueS4KCWZ1bmN0aW9uIHRoZURlYWwodWludCBfdmFsdWUpCgkJcHVibGljCgkJY29uc3RhbnQKCQl3aGVuX2FjdGl2ZQoJCXJldHVybnMgKHVpbnQgYWNjb3VudGVkLCBib29sIHJlZnVuZCwgdWludCBwcmljZSkKCXsKCQl1aW50IF9ib251cyA9IGJvbnVzKF92YWx1ZSk7CgoJCXByaWNlID0gY3VycmVudFByaWNlKCk7CgkJYWNjb3VudGVkID0gX3ZhbHVlICsgX2JvbnVzOwoKCQl1aW50IGF2YWlsYWJsZSA9IHRva2Vuc0F2YWlsYWJsZSgpOwoJCXVpbnQgdG9rZW5zID0gYWNjb3VudGVkIC8gcHJpY2U7CgkJcmVmdW5kID0gKHRva2VucyA+IGF2YWlsYWJsZSk7Cgl9CgoJLy8vIEFueSBhcHBsaWNhYmxlIGJvbnVzIHRvIGBfdmFsdWVgLgoJZnVuY3Rpb24gYm9udXModWludCBfdmFsdWUpCgkJcHVibGljCgkJY29uc3RhbnQKCQl3aGVuX2FjdGl2ZQoJCXJldHVybnMgKHVpbnQgZXh0cmEpCgl7CgkJcmV0dXJuIF92YWx1ZSAqIHVpbnQoY3VycmVudEJvbnVzKSAvIDEwMDsKCX0KCgkvLy8gVHJ1ZSBpZiB0aGUgc2FsZSBpcyBvbmdvaW5nLgoJZnVuY3Rpb24gaXNBY3RpdmUoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgeyByZXR1cm4gbm93ID49IGJlZ2luVGltZSAmJiBub3cgPCBlbmRUaW1lOyB9CgoJLy8vIFRydWUgaWYgYWxsIGJ1eWlucyBoYXZlIGZpbmFsaXNlZC4KCWZ1bmN0aW9uIGFsbEZpbmFsaXNlZCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChib29sKSB7IHJldHVybiBub3cgPj0gZW5kVGltZSAmJiB0b3RhbEFjY291bnRlZCA9PSB0b3RhbEZpbmFsaXNlZDsgfQoKCS8vLyBSZXR1cm5zIHRydWUgaWYgdGhlIHNlbmRlciBvZiB0aGlzIHRyYW5zYWN0aW9uIGlzIGEgYmFzaWMgYWNjb3VudC4KCWZ1bmN0aW9uIGlzQmFzaWNBY2NvdW50KGFkZHJlc3MgX3dobykgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewoJCXVpbnQgc2VuZGVyQ29kZVNpemU7CgkJYXNzZW1ibHkgewoJCQlzZW5kZXJDb2RlU2l6ZSA6PSBleHRjb2Rlc2l6ZShfd2hvKQoJCX0KCSAgICByZXR1cm4gc2VuZGVyQ29kZVNpemUgPT0gMDsKCX0KCgkvLyBNb2RpZmllcnM6CgoJLy8vIEVuc3VyZSB0aGUgc2FsZSBpcyBvbmdvaW5nLgoJbW9kaWZpZXIgd2hlbl9hY3RpdmUgeyByZXF1aXJlIChpc0FjdGl2ZSgpKTsgXzsgfQoKCS8vLyBFbnN1cmUgdGhlIHNhbGUgaGFzIG5vdCBiZWd1bi4KCW1vZGlmaWVyIGJlZm9yZV9iZWdpbm5pbmcgeyByZXF1aXJlIChub3cgPCBiZWdpblRpbWUpOyBfOyB9CgoJLy8vIEVuc3VyZSB0aGUgc2FsZSBpcyBlbmRlZC4KCW1vZGlmaWVyIHdoZW5fZW5kZWQgeyByZXF1aXJlIChub3cgPj0gZW5kVGltZSk7IF87IH0KCgkvLy8gRW5zdXJlIHdlJ3JlIG5vdCBoYWx0ZWQuCgltb2RpZmllciB3aGVuX25vdF9oYWx0ZWQgeyByZXF1aXJlICghaGFsdGVkKTsgXzsgfQoKCS8vLyBFbnN1cmUgYF93aG9gIGlzIGEgcGFydGljaXBhbnQuCgltb2RpZmllciBvbmx5X2J1eWlucyhhZGRyZXNzIF93aG8pIHsgcmVxdWlyZSAoYnV5aW5zW193aG9dLmFjY291bnRlZCAhPSAwKTsgXzsgfQoKCS8vLyBFbnN1cmUgc2VuZGVyIGlzIGFkbWluLgoJbW9kaWZpZXIgb25seV9hZG1pbiB7IHJlcXVpcmUgKG1zZy5zZW5kZXIgPT0gYWRtaW4pOyBfOyB9CgoJLy8vIEVuc3VyZSB0aGF0IHRoZSBzaWduYXR1cmUgaXMgdmFsaWQsIGB3aG9gIGlzIGEgY2VydGlmaWVkLCBiYXNpYyBhY2NvdW50LAoJLy8vIHRoZSBnYXMgcHJpY2UgaXMgc3VmZmljaWVudGx5IGxvdyBhbmQgdGhlIHZhbHVlIGlzIHN1ZmZpY2llbnRseSBoaWdoLgoJbW9kaWZpZXIgb25seV9lbGlnaWJsZShhZGRyZXNzIHdobywgdWludDggdiwgYnl0ZXMzMiByLCBieXRlczMyIHMpIHsKCQlyZXF1aXJlICgKCQkJZWNyZWNvdmVyKFNUQVRFTUVOVF9IQVNILCB2LCByLCBzKSA9PSB3aG8gJiYKCQkJY2VydGlmaWVyLmNlcnRpZmllZCh3aG8pICYmCgkJCWlzQmFzaWNBY2NvdW50KHdobykgJiYKCQkJbXNnLnZhbHVlID49IERVU1RfTElNSVQKCQkpOwoJCV87Cgl9CgoJLy8vIEVuc3VyZSBzZW5kZXIgaXMgbm90IGEgY29udHJhY3QuCgltb2RpZmllciBvbmx5X2Jhc2ljKGFkZHJlc3Mgd2hvKSB7IHJlcXVpcmUgKGlzQmFzaWNBY2NvdW50KHdobykpOyBfOyB9CgoJLy8gU3RhdGU6CgoJc3RydWN0IEFjY291bnQgewoJCXVpbnQxMjggYWNjb3VudGVkOwkvLyBpbmNsdWRpbmcgYm9udXMgJiBoaXQKCQl1aW50MTI4IHJlY2VpdmVkOwkvLyBqdXN0IHRoZSBhbW91bnQgcmVjZWl2ZWQsIHdpdGhvdXQgYm9udXMgJiBoaXQKCX0KCgkvLy8gVGhvc2Ugd2hvIGhhdmUgYm91Z2h0IGluIHRvIHRoZSBhdWN0aW9uLgoJbWFwcGluZyAoYWRkcmVzcyA9PiBBY2NvdW50KSBwdWJsaWMgYnV5aW5zOwoKCS8vLyBUb3RhbCBhbW91bnQgb2YgZXRoZXIgcmVjZWl2ZWQsIGV4Y2x1ZGluZyBwaGFudG9tICJib251cyIgZXRoZXIuCgl1aW50IHB1YmxpYyB0b3RhbFJlY2VpdmVkID0gMDsKCgkvLy8gVG90YWwgYW1vdW50IG9mIGV0aGVyIGFjY291bnRlZCBmb3IsIGluY2x1ZGluZyBwaGFudG9tICJib251cyIgZXRoZXIuCgl1aW50IHB1YmxpYyB0b3RhbEFjY291bnRlZCA9IDA7CgoJLy8vIFRvdGFsIGFtb3VudCBvZiBldGhlciB3aGljaCBoYXMgYmVlbiBmaW5hbGlzZWQuCgl1aW50IHB1YmxpYyB0b3RhbEZpbmFsaXNlZCA9IDA7CgoJLy8vIFRoZSBjdXJyZW50IGVuZCB0aW1lLiBHZXRzIHVwZGF0ZWQgd2hlbiBuZXcgZnVuZHMgYXJlIHJlY2VpdmVkLgoJdWludCBwdWJsaWMgZW5kVGltZTsKCgkvLy8gVGhlIHByaWNlIHBlciB0b2tlbjsgb25seSB2YWxpZCBvbmNlIHRoZSBzYWxlIGhhcyBlbmRlZCBhbmQgYXQgbGVhc3Qgb25lCgkvLy8gcGFydGljaXBhbnQgaGFzIGZpbmFsaXNlZC4KCXVpbnQgcHVibGljIGVuZFByaWNlOwoKCS8vLyBNdXN0IGJlIGZhbHNlIGZvciBhbnkgcHVibGljIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC4KCWJvb2wgcHVibGljIGhhbHRlZDsKCgkvLy8gVGhlIGN1cnJlbnQgcGVyY2VudGFnZSBvZiBib251cyB0aGF0IHB1cmNoYXNlcnMgZ2V0LgoJdWludDggcHVibGljIGN1cnJlbnRCb251cyA9IDE1OwoKCS8vLyBUaGUgbGFzdCBibG9jayB0aGF0IGhhZCBhIG5ldyBwYXJ0aWNpcGFudC4KCXVpbnQzMiBwdWJsaWMgbGFzdE5ld0ludGVyZXN0OwoKCS8vIENvbnN0YW50cyBhZnRlciBjb25zdHJ1Y3RvcjoKCgkvLy8gVGhlIHRva2VucyBjb250cmFjdC4KCVRva2VuIHB1YmxpYyB0b2tlbkNvbnRyYWN0OwoKCS8vLyBUaGUgY2VydGlmaWVyLgoJQ2VydGlmaWVyIHB1YmxpYyBjZXJ0aWZpZXI7CgoJLy8vIFRoZSB0cmVhc3VyeSBhZGRyZXNzOyB3aGVyZSBhbGwgdGhlIEV0aGVyIGdvZXMuCglhZGRyZXNzIHB1YmxpYyB0cmVhc3VyeTsKCgkvLy8gVGhlIGFkbWluIGFkZHJlc3M7IGF1Y3Rpb24gY2FuIGJlIHBhdXNlZCBvciBoYWx0ZWQgYXQgYW55IHRpbWUgYnkgdGhpcy4KCWFkZHJlc3MgcHVibGljIGFkbWluOwoKCS8vLyBUaGUgdGltZSBhdCB3aGljaCB0aGUgc2FsZSBiZWdpbnMuCgl1aW50IHB1YmxpYyBiZWdpblRpbWU7CgoJLy8vIE1heGltdW0gYW1vdW50IG9mIHRva2VucyB0byBtaW50LiBPbmNlIHRvdGFsQWNjb3VudGVkIC8gY3VycmVudFByaWNlIGlzCgkvLy8gZ3JlYXRlciB0aGFuIHRoaXMsIHRoZSBzYWxlIGVuZHMuCgl1aW50IHB1YmxpYyB0b2tlbkNhcDsKCgkvLyBFcmEgc3R1ZmYgKGlzb2xhdGVkKQoJLy8vIFRoZSBlcmEgZm9yIHdoaWNoIHRoZSBjdXJyZW50IGNvbnNvbGlkYXRlZCBkYXRhIHJlcHJlc2VudHMuCgl1aW50IHB1YmxpYyBlcmFJbmRleDsKCgkvLy8gVGhlIHNpemUgb2YgdGhlIGVyYSBpbiBzZWNvbmRzLgoJdWludCBjb25zdGFudCBwdWJsaWMgRVJBX1BFUklPRCA9IDUgbWludXRlczsKCgkvLyBTdGF0aWMgY29uc3RhbnRzOgoKCS8vLyBBbnl0aGluZyBsZXNzIHRoYW4gdGhpcyBpcyBjb25zaWRlcmVkIGR1c3QgYW5kIGNhbm5vdCBiZSB1c2VkIHRvIGJ1eSBpbi4KCXVpbnQgY29uc3RhbnQgcHVibGljIERVU1RfTElNSVQgPSA1IGZpbm5leTsKCgkvLy8gVGhlIGhhc2ggb2YgdGhlIHN0YXRlbWVudCB3aGljaCBtdXN0IGJlIHNpZ25lZCBpbiBvcmRlciB0byBidXlpbi4KCS8vLyBUaGUgbWVhbmluZyBvZiB0aGlzIGhhc2ggaXM6CgkvLy8KCS8vLyBwYXJpdHkuYXBpLnV0aWwuc2hhMyhwYXJpdHkuYXBpLnV0aWwuYXNjaWlUb0hleCgiXHgxOUV0aGVyZXVtIFNpZ25lZCBNZXNzYWdlOlxuIiArIHRzY3MubGVuZ3RoICsgdHNjcykpCgkvLy8gd2hlcmUgYHRvVVRGOCA9IHggPT4gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHgpKWAKCS8vLyBhbmQgYHRzY3NgIGlzIHRoZSB0b1VURjggY2FsbGVkIG9uIHRoZSBjb250ZW50cyBvZiBodHRwczovL2dpc3QuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2dhdm9meW9yay81YTUzMGNhZDNiMTljMWNhZmU5MTQ4ZjYwOGQ3MjlkMi9yYXcvYTExNmI1MDdmZDZkOTYwMzYwMzdmM2FmZmQzOTM5OTRiMzA3YzA5YS9naXN0ZmlsZTEudHh0CglieXRlczMyIGNvbnN0YW50IHB1YmxpYyBTVEFURU1FTlRfSEFTSCA9IDB4MmNlZGI5YzU0NDMyNTRiYWU2YzRmNDRhMzFhYmNiMzNlYzI3YTBiZDAzZWI1OGUyMmUzOGNkYjhiMzY2ODc2ZDsKCgkvLy8gTWluaW11bSBkdXJhdGlvbiBhZnRlciBzYWxlIGJlZ2lucyB0aGF0IGJvbnVzIGlzIGFjdGl2ZS4KCXVpbnQgY29uc3RhbnQgcHVibGljIEJPTlVTX01JTl9EVVJBVElPTiA9IDEgaG91cnM7CgoJLy8vIE1pbmltdW0gZHVyYXRpb24gYWZ0ZXIgc2FsZSBiZWdpbnMgdGhhdCBib251cyBpcyBhY3RpdmUuCgl1aW50IGNvbnN0YW50IHB1YmxpYyBCT05VU19NQVhfRFVSQVRJT04gPSAyNCBob3VyczsKCgkvLy8gTnVtYmVyIG9mIGNvbnNlY3V0aXZlIGJsb2NrcyB3aGVyZSB0aGVyZSBtdXN0IGJlIG5vIG5ldyBpbnRlcmVzdCBiZWZvcmUgYm9udXMgZW5kcy4KCXVpbnQgY29uc3RhbnQgcHVibGljIEJPTlVTX0xBVENIID0gMjsKCgkvLy8gTnVtYmVyIG9mIFdlaSBpbiBvbmUgVVNELCBjb25zdGFudC4KCXVpbnQgY29uc3RhbnQgcHVibGljIFVTRFdFSSA9IDMyMjYgc3phYm87CgoJLy8vIERpdmlzb3Igb2YgdGhlIHRva2VuLgoJdWludCBjb25zdGFudCBwdWJsaWMgRElWSVNPUiA9IDEwMDA7Cn0='.
	

]
