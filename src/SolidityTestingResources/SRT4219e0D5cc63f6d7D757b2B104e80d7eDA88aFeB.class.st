Class {
	#name : #SRT4219e0D5cc63f6d7D757b2B104e80d7eDA88aFeB,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT4219e0D5cc63f6d7D757b2B104e80d7eDA88aFeB >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgppbnRlcmZhY2UgdG9rZW5SZWNpcGllbnQgeyBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWM7IH0KCmNvbnRyYWN0IE95c3RlclBlYXJsIHsKICAgIC8vIFB1YmxpYyB2YXJpYWJsZXMgb2YgUFJMCiAgICBzdHJpbmcgcHVibGljIG5hbWU7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgdWludDI1NiBwdWJsaWMgYnVyaWVkU3VwcGx5OwogICAgdWludDI1NiBwdWJsaWMgZnVuZHM7CiAgICBhZGRyZXNzIHB1YmxpYyBkaXJlY3RvcjsKICAgIGJvb2wgcHVibGljIHNhbGVDbG9zZWQ7CiAgICBib29sIHB1YmxpYyBkaXJlY3RvckxvY2s7CiAgICB1aW50MjU2IHB1YmxpYyBjbGFpbUFtb3VudDsKICAgIHVpbnQyNTYgcHVibGljIHBheUFtb3VudDsKICAgIHVpbnQyNTYgcHVibGljIGZlZUFtb3VudDsKICAgIHVpbnQyNTYgcHVibGljIGVwb2NoOwogICAgdWludDI1NiBwdWJsaWMgcmV0ZW50aW9uTWF4OwogICAgdWludDI1NiBwdWJsaWMgc3RvcmFnZVN0ZXA7CgogICAgLy8gQXJyYXkgZGVmaW5pdGlvbnMKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dhbmNlOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgYnVyaWVkOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgY2xhaW1lZDsKCiAgICAvLyBFUkMyMCBldmVudAogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICAKICAgIC8vIEVSQzIwIGV2ZW50CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKCiAgICAvLyBUaGlzIG5vdGlmaWVzIGNsaWVudHMgYWJvdXQgdGhlIGFtb3VudCBidXJudAogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIAogICAgLy8gVGhpcyBub3RpZmllcyBjbGllbnRzIGFib3V0IGFuIGFkZHJlc3MgZ2V0dGluZyBidXJpZWQKICAgIGV2ZW50IEJ1cnkoYWRkcmVzcyBpbmRleGVkIF90YXJnZXQsIHVpbnQyNTYgX3ZhbHVlKTsKICAgIAogICAgLy8gVGhpcyBub3RpZmllcyBjbGllbnRzIGFib3V0IGEgY2xhaW0gYmVpbmcgbWFkZSBvbiBhIGJ1cmllZCBhZGRyZXNzCiAgICBldmVudCBDbGFpbShhZGRyZXNzIGluZGV4ZWQgX3RhcmdldCwgYWRkcmVzcyBpbmRleGVkIF9wYXlvdXQsIGFkZHJlc3MgaW5kZXhlZCBfZmVlKTsKICAgIAogICAgZXZlbnQgU3RlcCh1aW50MjU2IF9uZXh0U3RlcCwgdWludDI1NiBfY3VycmVudENsYWltKTsKCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yIGZ1bmN0aW9uCiAgICAgKgogICAgICogSW5pdGlhbGl6ZXMgY29udHJhY3QKICAgICAqLwogICAgZnVuY3Rpb24gT3lzdGVyUGVhcmwoKSBwdWJsaWMgewogICAgICAgIGRpcmVjdG9yID0gbXNnLnNlbmRlcjsKICAgICAgICBuYW1lID0gIk95c3RlciBQZWFybCI7CiAgICAgICAgc3ltYm9sID0gIlRQUkwiOwogICAgICAgIGRlY2ltYWxzID0gMTg7CiAgICAgICAgc2FsZUNsb3NlZCA9IHRydWU7CiAgICAgICAgZGlyZWN0b3JMb2NrID0gZmFsc2U7CiAgICAgICAgZnVuZHMgPSAwOwogICAgICAgIHRvdGFsU3VwcGx5ID0gMTUwMDAwMDAgKiAxMCAqKiB1aW50MjU2KGRlY2ltYWxzKTsKICAgICAgICBidXJpZWRTdXBwbHkgPSAwOwogICAgICAgIHN0b3JhZ2VTdGVwID0gdG90YWxTdXBwbHkgLyAyOwogICAgICAgIAogICAgICAgIC8vIEFzc2lnbiBQUkwgc3VwcGx5IHRvIHRoZSBkaXJlY3RvcgogICAgICAgIGJhbGFuY2VzW2RpcmVjdG9yXSA9IHRvdGFsU3VwcGx5OwogICAgICAgIFRyYW5zZmVyKHRoaXMsIGRpcmVjdG9yLCB0b3RhbFN1cHBseSk7CiAgICAgICAgCiAgICAgICAgLy8gRGVmaW5lIGRlZmF1bHQgdmFsdWVzIGZvciBPeXN0ZXIgZnVuY3Rpb25zCiAgICAgICAgY2xhaW1BbW91bnQgPSA1ICogMTAgKiogKHVpbnQyNTYoZGVjaW1hbHMpIC0gMSk7CiAgICAgICAgcGF5QW1vdW50ID0gNCAqIDEwICoqICh1aW50MjU2KGRlY2ltYWxzKSAtIDEpOwogICAgICAgIGZlZUFtb3VudCA9IDEgKiAxMCAqKiAodWludDI1NihkZWNpbWFscykgLSAxKTsKICAgICAgICAKICAgICAgICAvLyBTZWNvbmRzIGluIGEgeWVhcgogICAgICAgIGVwb2NoID0gMzE1MzYwMDA7CiAgICAgICAgCiAgICAgICAgLy8gTWF4aW11bSB0aW1lIGZvciBhIHNlY3RvciB0byByZW1haW4gc3RvcmVkCiAgICAgICAgcmV0ZW50aW9uTWF4ID0gNDAgKiAxMCAqKiB1aW50MjU2KGRlY2ltYWxzKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBFUkMyMCBiYWxhbmNlIGZ1bmN0aW9uCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQogICAgCiAgICBtb2RpZmllciBvbmx5RGlyZWN0b3IgewogICAgICAgIC8vIERpcmVjdG9yIGNhbiBsb2NrIHRoZW1zZWx2ZXMgb3V0IHRvIGNvbXBsZXRlIGRlY2VudHJhbGl6YXRpb24gb2YgT3lzdGVyIG5ldHdvcmsKICAgICAgICAvLyBBbiBhbHRlcm5hdGl2ZSBpcyB0aGF0IGFub3RoZXIgc21hcnQgY29udHJhY3QgY291bGQgYmVjb21lIHRoZSBkZWNlbnRyYWxpemVkIGRpcmVjdG9yCiAgICAgICAgcmVxdWlyZSghZGlyZWN0b3JMb2NrKTsKICAgICAgICAKICAgICAgICAvLyBPbmx5IHRoZSBkaXJlY3RvciBpcyBwZXJtaXR0ZWQKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZGlyZWN0b3IpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIG1vZGlmaWVyIG9ubHlEaXJlY3RvckZvcmNlIHsKICAgICAgICAvLyBPbmx5IHRoZSBkaXJlY3RvciBpcyBwZXJtaXR0ZWQKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZGlyZWN0b3IpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIC8qKgogICAgICogVHJhbnNmZXJzIHRoZSBkaXJlY3RvciB0byBhIG5ldyBhZGRyZXNzCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRGlyZWN0b3IoYWRkcmVzcyBuZXdEaXJlY3RvcikgcHVibGljIG9ubHlEaXJlY3RvckZvcmNlIHsKICAgICAgICBkaXJlY3RvciA9IG5ld0RpcmVjdG9yOwogICAgfQogICAgCiAgICAvKioKICAgICAqIFdpdGhkcmF3IGZ1bmRzIGZyb20gdGhlIGNvbnRyYWN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIHdpdGhkcmF3RnVuZHMoKSBwdWJsaWMgb25seURpcmVjdG9yRm9yY2UgewogICAgICAgIGRpcmVjdG9yLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogUGVybWFuZW50bHkgbG9jayBvdXQgdGhlIGRpcmVjdG9yIHRvIGRlY2VudHJhbGl6ZSBPeXN0ZXIKICAgICAqIEludm9jYXRpb24gaXMgZGlzY3JldGlvbmFyeSBiZWNhdXNlIE95c3RlciBtaWdodCBiZSBiZXR0ZXIgc3VpdGVkIHRvCiAgICAgKiB0cmFuc2l0aW9uIHRvIGFuIGFydGlmaWNpYWxseSBpbnRlbGxpZ2VudCBzbWFydCBjb250cmFjdCBkaXJlY3RvcgogICAgICovCiAgICBmdW5jdGlvbiBzZWxmTG9jaygpIHB1YmxpYyBwYXlhYmxlIG9ubHlEaXJlY3RvciB7CiAgICAgICAgLy8gVGhlIHNhbGUgbXVzdCBiZSBjbG9zZWQgYmVmb3JlIHRoZSBkaXJlY3RvciBnZXRzIGxvY2tlZCBvdXQKICAgICAgICByZXF1aXJlKHNhbGVDbG9zZWQpOwogICAgICAgIAogICAgICAgIC8vIFByZXZlbnRzIGFjY2lkZW50YWwgbG9ja291dAogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID09IDEwIGV0aGVyKTsKICAgICAgICAKICAgICAgICAvLyBQZXJtYW5lbnRseSBsb2NrIG91dCB0aGUgZGlyZWN0b3IKICAgICAgICBkaXJlY3RvckxvY2sgPSB0cnVlOwogICAgfQogICAgCiAgICAvKioKICAgICAqIERpcmVjdG9yIGNhbiBhbHRlciB0aGUgc3RvcmFnZS1wZWcgYW5kIGJyb2tlciBmZWVzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFtZW5kQ2xhaW0odWludDggY2xhaW1BbW91bnRTZXQsIHVpbnQ4IHBheUFtb3VudFNldCwgdWludDggZmVlQW1vdW50U2V0LCB1aW50OCBhY2N1cmFjeSkgcHVibGljIG9ubHlEaXJlY3RvciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKGNsYWltQW1vdW50U2V0ID09IChwYXlBbW91bnRTZXQgKyBmZWVBbW91bnRTZXQpKTsKICAgICAgICAKICAgICAgICBjbGFpbUFtb3VudCA9IGNsYWltQW1vdW50U2V0ICogMTAgKiogKHVpbnQyNTYoZGVjaW1hbHMpIC0gYWNjdXJhY3kpOwogICAgICAgIHBheUFtb3VudCA9IHBheUFtb3VudFNldCAqIDEwICoqICh1aW50MjU2KGRlY2ltYWxzKSAtIGFjY3VyYWN5KTsKICAgICAgICBmZWVBbW91bnQgPSBmZWVBbW91bnRTZXQgKiAxMCAqKiAodWludDI1NihkZWNpbWFscykgLSBhY2N1cmFjeSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogRGlyZWN0b3IgY2FuIGFsdGVyIHRoZSBlcG9jaCB0aW1lCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFtZW5kRXBvY2godWludDI1NiBlcG9jaFNldCkgcHVibGljIG9ubHlEaXJlY3RvciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBTZXQgdGhlIGVwb2NoCiAgICAgICAgZXBvY2ggPSBlcG9jaFNldDsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBEaXJlY3RvciBjYW4gYWx0ZXIgdGhlIG1heGltdW0gdGltZSBvZiBzdG9yYWdlIHJldGVudGlvbgogICAgICovCiAgICBmdW5jdGlvbiBhbWVuZFJldGVudGlvbih1aW50OCByZXRlbnRpb25TZXQsIHVpbnQ4IGFjY3VyYWN5KSBwdWJsaWMgb25seURpcmVjdG9yIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIFNldCByZXRlbnRpb25NYXgKICAgICAgICByZXRlbnRpb25NYXggPSByZXRlbnRpb25TZXQgKiAxMCAqKiAodWludDI1NihkZWNpbWFscykgLSBhY2N1cmFjeSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogT3lzdGVyIFByb3RvY29sIEZ1bmN0aW9uCiAgICAgKiBNb3JlIGluZm9ybWF0aW9uIGF0IGh0dHBzOi8vb3lzdGVyLndzL095c3RlcldoaXRlcGFwZXIucGRmCiAgICAgKiAKICAgICAqIEJ1cnkgYW4gYWRkcmVzcwogICAgICoKICAgICAqIFdoZW4gYW4gYWRkcmVzcyBpcyBidXJpZWQ7IG9ubHkgY2xhaW1BbW91bnQgY2FuIGJlIHdpdGhkcmF3biBvbmNlIHBlciBlcG9jaAogICAgICovCiAgICBmdW5jdGlvbiBidXJ5KCkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIFRoZSBhZGRyZXNzIG11c3QgYmUgcHJldmlvdXNseSB1bmJ1cmllZAogICAgICAgIHJlcXVpcmUoIWJ1cmllZFttc2cuc2VuZGVyXSk7CiAgICAgICAgCiAgICAgICAgLy8gQW4gYWRkcmVzcyBtdXN0IGhhdmUgYXQgbGVhc3QgY2xhaW1BbW91bnQgdG8gYmUgYnVyaWVkCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBjbGFpbUFtb3VudCk7CiAgICAgICAgCiAgICAgICAgLy8gUHJldmVudCBhZGRyZXNzZXMgd2l0aCBsYXJnZSBiYWxhbmNlcyBmcm9tIGdldHRpbmcgYnVyaWVkCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA8PSByZXRlbnRpb25NYXgpOwogICAgICAgIAogICAgICAgIC8vIFNldCBidXJpZWQgc3RhdGUgdG8gdHJ1ZQogICAgICAgIGJ1cmllZFttc2cuc2VuZGVyXSA9IHRydWU7CiAgICAgICAgCiAgICAgICAgLy8gU2V0IHRoZSBpbml0aWFsIGNsYWltIGNsb2NrIHRvIDEKICAgICAgICBjbGFpbWVkW21zZy5zZW5kZXJdID0gMTsKICAgICAgICAKICAgICAgICBidXJpZWRTdXBwbHkgKz0gYmFsYW5jZXNbbXNnLnNlbmRlcl07CiAgICAgICAgCiAgICAgICAgaWYgKGJ1cmllZFN1cHBseSA+PSBzdG9yYWdlU3RlcCkgewogICAgICAgICAgICBzdG9yYWdlU3RlcCArPSAodG90YWxTdXBwbHkgLSBzdG9yYWdlU3RlcCkgLyAyOwogICAgICAgICAgICBjbGFpbUFtb3VudCA9IGNsYWltQW1vdW50IC8gMjsKICAgICAgICAgICAgU3RlcChzdG9yYWdlU3RlcCwgY2xhaW1BbW91bnQpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBFeGVjdXRlIGFuIGV2ZW50IHJlZmxlY3RpbmcgdGhlIGNoYW5nZQogICAgICAgIEJ1cnkobXNnLnNlbmRlciwgYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCiAgICAvKioKICAgICAqIE95c3RlciBQcm90b2NvbCBGdW5jdGlvbgogICAgICogTW9yZSBpbmZvcm1hdGlvbiBhdCBodHRwczovL295c3Rlci53cy9PeXN0ZXJXaGl0ZXBhcGVyLnBkZgogICAgICogCiAgICAgKiBDbGFpbSBQUkwgZnJvbSBhIGJ1cmllZCBhZGRyZXNzCiAgICAgKgogICAgICogSWYgYSBwcmlvciBjbGFpbSB3YXNuJ3QgbWFkZSBkdXJpbmcgdGhlIGN1cnJlbnQgZXBvY2gsIHRoZW4gY2xhaW1BbW91bnQgY2FuIGJlIHdpdGhkcmF3bgogICAgICoKICAgICAqIEBwYXJhbSBfcGF5b3V0IHRoZSBhZGRyZXNzIG9mIHRoZSB3ZWJzaXRlIG93bmVyCiAgICAgKiBAcGFyYW0gX2ZlZSB0aGUgYWRkcmVzcyBvZiB0aGUgYnJva2VyIG5vZGUKICAgICAqLwogICAgZnVuY3Rpb24gY2xhaW0oYWRkcmVzcyBfcGF5b3V0LCBhZGRyZXNzIF9mZWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBUaGUgY2xhaW1lZCBhZGRyZXNzIG11c3QgaGF2ZSBhbHJlYWR5IGJlZW4gYnVyaWVkCiAgICAgICAgcmVxdWlyZShidXJpZWRbbXNnLnNlbmRlcl0pOwogICAgICAgIAogICAgICAgIC8vIFRoZSBwYXlvdXQgYW5kIGZlZSBhZGRyZXNzZXMgbXVzdCBiZSBkaWZmZXJlbnQKICAgICAgICByZXF1aXJlKF9wYXlvdXQgIT0gX2ZlZSk7CiAgICAgICAgCiAgICAgICAgLy8gVGhlIGNsYWltZWQgYWRkcmVzcyBjYW5ub3QgcGF5IGl0c2VsZgogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSBfcGF5b3V0KTsKICAgICAgICAKICAgICAgICAvLyBUaGUgY2xhaW1lZCBhZGRyZXNzIGNhbm5vdCBwYXkgaXRzZWxmCiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyICE9IF9mZWUpOwogICAgICAgIAogICAgICAgIC8vIEl0IG11c3QgYmUgZWl0aGVyIHRoZSBmaXJzdCB0aW1lIHRoaXMgYWRkcmVzcyBpcyBiZWluZyBjbGFpbWVkIG9yIGF0bGVhc3QgZXBvY2ggaW4gdGltZSBoYXMgcGFzc2VkCiAgICAgICAgcmVxdWlyZShjbGFpbWVkW21zZy5zZW5kZXJdID09IDEgfHwgKGJsb2NrLnRpbWVzdGFtcCAtIGNsYWltZWRbbXNnLnNlbmRlcl0pID49IGVwb2NoKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBpZiB0aGUgYnVyaWVkIGFkZHJlc3MgaGFzIGVub3VnaAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gY2xhaW1BbW91bnQpOwogICAgICAgIAogICAgICAgIC8vIFJlc2V0IHRoZSBjbGFpbSBjbG9jayB0byB0aGUgY3VycmVudCBibG9jayB0aW1lCiAgICAgICAgY2xhaW1lZFttc2cuc2VuZGVyXSA9IGJsb2NrLnRpbWVzdGFtcDsKICAgICAgICAKICAgICAgICAvLyBTYXZlIHRoaXMgZm9yIGFuIGFzc2VydGlvbiBpbiB0aGUgZnV0dXJlCiAgICAgICAgdWludDI1NiBwcmV2aW91c0JhbGFuY2VzID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0gKyBiYWxhbmNlc1tfcGF5b3V0XSArIGJhbGFuY2VzW19mZWVdOwogICAgICAgIAogICAgICAgIC8vIFJlbW92ZSBjbGFpbUFtb3VudCBmcm9tIHRoZSBidXJpZWQgYWRkcmVzcwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IGNsYWltQW1vdW50OwogICAgICAgIAogICAgICAgIC8vIFBheSB0aGUgd2Vic2l0ZSBvd25lciB0aGF0IGludm9rZWQgdGhlIHdlYiBub2RlIHRoYXQgZm91bmQgdGhlIFBSTCBzZWVkIGtleQogICAgICAgIGJhbGFuY2VzW19wYXlvdXRdICs9IHBheUFtb3VudDsKICAgICAgICAKICAgICAgICAvLyBQYXkgdGhlIGJyb2tlciBub2RlIHRoYXQgdW5sb2NrZWQgdGhlIFBSTAogICAgICAgIGJhbGFuY2VzW19mZWVdICs9IGZlZUFtb3VudDsKICAgICAgICAKICAgICAgICBidXJpZWRTdXBwbHkgLT0gY2xhaW1BbW91bnQ7CiAgICAgICAgCiAgICAgICAgLy8gRXhlY3V0ZSBldmVudHMgdG8gcmVmbGVjdCB0aGUgY2hhbmdlcwogICAgICAgIENsYWltKG1zZy5zZW5kZXIsIF9wYXlvdXQsIF9mZWUpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF9wYXlvdXQsIHBheUFtb3VudCk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX2ZlZSwgZmVlQW1vdW50KTsKICAgICAgICAKICAgICAgICAvLyBGYWlsc2FmZSBsb2dpYyB0aGF0IHNob3VsZCBuZXZlciBiZSBmYWxzZQogICAgICAgIGFzc2VydChiYWxhbmNlc1ttc2cuc2VuZGVyXSArIGJhbGFuY2VzW19wYXlvdXRdICsgYmFsYW5jZXNbX2ZlZV0gPT0gcHJldmlvdXNCYWxhbmNlcyk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBJbnRlcm5hbCB0cmFuc2ZlciwgY2FuIGJlIGNhbGxlZCBieSB0aGlzIGNvbnRyYWN0IG9ubHkKICAgICAqLwogICAgZnVuY3Rpb24gX3RyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50IF92YWx1ZSkgaW50ZXJuYWwgewogICAgICAgIC8vIFNlbmRpbmcgYWRkcmVzc2VzIGNhbm5vdCBiZSBidXJpZWQKICAgICAgICByZXF1aXJlKCFidXJpZWRbX2Zyb21dKTsKICAgICAgICAKICAgICAgICAvLyBJZiB0aGUgcmVjZWl2aW5nIGFkZHJlc3MgaXMgYnVyaWVkLCBpdCBjYW5ub3QgZXhjZWVkIHJldGVudGlvbk1heAogICAgICAgIGlmIChidXJpZWRbX3RvXSkgewogICAgICAgICAgICByZXF1aXJlKGJhbGFuY2VzW190b10gKyBfdmFsdWUgPD0gcmV0ZW50aW9uTWF4KTsKICAgICAgICAgICAgYnVyaWVkU3VwcGx5ICs9IF92YWx1ZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gUHJldmVudCB0cmFuc2ZlciB0byAweDAgYWRkcmVzcywgdXNlIGJ1cm4oKSBpbnN0ZWFkCiAgICAgICAgcmVxdWlyZShfdG8gIT0gMHgwKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUpOwogICAgICAgIAogICAgICAgIC8vIENoZWNrIGZvciBvdmVyZmxvd3MKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKTsKICAgICAgICAKICAgICAgICAvLyBTYXZlIHRoaXMgZm9yIGFuIGFzc2VydGlvbiBpbiB0aGUgZnV0dXJlCiAgICAgICAgdWludDI1NiBwcmV2aW91c0JhbGFuY2VzID0gYmFsYW5jZXNbX2Zyb21dICsgYmFsYW5jZXNbX3RvXTsKICAgICAgICAKICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgIAogICAgICAgIC8vIEFkZCB0aGUgc2FtZSB0byB0aGUgcmVjaXBpZW50CiAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICAKICAgICAgICAvLyBGYWlsc2FmZSBsb2dpYyB0aGF0IHNob3VsZCBuZXZlciBiZSBmYWxzZQogICAgICAgIGFzc2VydChiYWxhbmNlc1tfZnJvbV0gKyBiYWxhbmNlc1tfdG9dID09IHByZXZpb3VzQmFsYW5jZXMpOwogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNmZXIgdG9rZW5zCiAgICAgKgogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbnMgdG8gYF90b2AgZnJvbSB5b3VyIGFjY291bnQKICAgICAqCiAgICAgKiBAcGFyYW0gX3RvIHRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIGFtb3VudCB0byBzZW5kCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHsKICAgICAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNmZXIgdG9rZW5zIGZyb20gb3RoZXIgYWRkcmVzcwogICAgICoKICAgICAqIFNlbmQgYF92YWx1ZWAgdG9rZW5zIHRvIGBfdG9gIGluIGJlaGFsZiBvZiBgX2Zyb21gCiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tIHRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgICAqIEBwYXJhbSBfdG8gdGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IHRvIHNlbmQKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIENoZWNrIGFsbG93YW5jZQogICAgICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0pOwogICAgICAgIGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIF90cmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IGFsbG93YW5jZSBmb3Igb3RoZXIgYWRkcmVzcwogICAgICoKICAgICAqIEFsbG93cyBgX3NwZW5kZXJgIHRvIHNwZW5kIG5vIG1vcmUgdGhhbiBgX3ZhbHVlYCB0b2tlbnMgb24geW91ciBiZWhhbGYKICAgICAqCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgdGhlIGFkZHJlc3MgYXV0aG9yaXplZCB0byBzcGVuZAogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgbWF4IGFtb3VudCB0aGV5IGNhbiBzcGVuZAogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy8gQnVyaWVkIGFkZHJlc3NlcyBjYW5ub3QgYmUgYXBwcm92ZWQKICAgICAgICByZXF1aXJlKCFidXJpZWRbbXNnLnNlbmRlcl0pOwogICAgICAgIAogICAgICAgIGFsbG93YW5jZVttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgYWxsb3dhbmNlIGZvciBvdGhlciBhZGRyZXNzIGFuZCBub3RpZnkKICAgICAqCiAgICAgKiBBbGxvd3MgYF9zcGVuZGVyYCB0byBzcGVuZCBubyBtb3JlIHRoYW4gYF92YWx1ZWAgdG9rZW5zIG9uIHlvdXIgYmVoYWxmLCBhbmQgdGhlbiBwaW5nIHRoZSBjb250cmFjdCBhYm91dCBpdAogICAgICoKICAgICAqIEBwYXJhbSBfc3BlbmRlciB0aGUgYWRkcmVzcyBhdXRob3JpemVkIHRvIHNwZW5kCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBtYXggYW1vdW50IHRoZXkgY2FuIHNwZW5kCiAgICAgKiBAcGFyYW0gX2V4dHJhRGF0YSBzb21lIGV4dHJhIGluZm9ybWF0aW9uIHRvIHNlbmQgdG8gdGhlIGFwcHJvdmVkIGNvbnRyYWN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgdG9rZW5SZWNpcGllbnQgc3BlbmRlciA9IHRva2VuUmVjaXBpZW50KF9zcGVuZGVyKTsKICAgICAgICBpZiAoYXBwcm92ZShfc3BlbmRlciwgX3ZhbHVlKSkgewogICAgICAgICAgICBzcGVuZGVyLnJlY2VpdmVBcHByb3ZhbChtc2cuc2VuZGVyLCBfdmFsdWUsIHRoaXMsIF9leHRyYURhdGEpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBEZXN0cm95IHRva2VucwogICAgICoKICAgICAqIFJlbW92ZSBgX3ZhbHVlYCB0b2tlbnMgZnJvbSB0aGUgc3lzdGVtIGlycmV2ZXJzaWJseQogICAgICoKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIGFtb3VudCBvZiBtb25leSB0byBidXJuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJ1cm4odWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBCdXJpZWQgYWRkcmVzc2VzIGNhbm5vdCBiZSBidXJudAogICAgICAgIHJlcXVpcmUoIWJ1cmllZFttc2cuc2VuZGVyXSk7CiAgICAgICAgCiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgZW5vdWdoCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUpOwogICAgICAgIAogICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAKICAgICAgICAvLyBVcGRhdGVzIHRvdGFsU3VwcGx5CiAgICAgICAgdG90YWxTdXBwbHkgLT0gX3ZhbHVlOwogICAgICAgIEJ1cm4obXNnLnNlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIERlc3Ryb3kgdG9rZW5zIGZyb20gb3RoZXIgYWNjb3VudAogICAgICoKICAgICAqIFJlbW92ZSBgX3ZhbHVlYCB0b2tlbnMgZnJvbSB0aGUgc3lzdGVtIGlycmV2ZXJzaWJseSBvbiBiZWhhbGYgb2YgYF9mcm9tYC4KICAgICAqCiAgICAgKiBAcGFyYW0gX2Zyb20gdGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IG9mIG1vbmV5IHRvIGJ1cm4KICAgICAqLwogICAgZnVuY3Rpb24gYnVybkZyb20oYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBCdXJpZWQgYWRkcmVzc2VzIGNhbm5vdCBiZSBidXJudAogICAgICAgIHJlcXVpcmUoIWJ1cmllZFtfZnJvbV0pOwogICAgICAgIAogICAgICAgIC8vIENoZWNrIGlmIHRoZSB0YXJnZXRlZCBiYWxhbmNlIGlzIGVub3VnaAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSk7CiAgICAgICAgCiAgICAgICAgLy8gQ2hlY2sgYWxsb3dhbmNlCiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSk7CiAgICAgICAgCiAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgdGFyZ2V0ZWQgYmFsYW5jZQogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgCiAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyJ3MgYWxsb3dhbmNlCiAgICAgICAgYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgCiAgICAgICAgLy8gVXBkYXRlIHRvdGFsU3VwcGx5CiAgICAgICAgdG90YWxTdXBwbHkgLT0gX3ZhbHVlOwogICAgICAgIEJ1cm4oX2Zyb20sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0='.
	

]
