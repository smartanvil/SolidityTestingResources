Class {
	#name : #SRT9527551ca444f6e5d9a0b281116586427366862a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9527551ca444f6e5d9a0b281116586427366862a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IDAuNC4yMTsKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gJ0RpZ2l0aXplIENvaW4gUHJlc2FsZScgY29udHJhY3Q6IGh0dHBzOi8vZGlnaXRpemVjb2luLmNvbSAKLy8KLy8gRGlnaXRpemUgQ29pbiAtIERUWjogMHg2NjRlNmRiNDA0NGYyM2M5NWRlNjNlYzI5OWFhYTliMzljNTkzMjhkCi8vIFNvZnRDYXA6IDYwMCBldGhlcgovLyBIYXJkQ2FwOiA0MDAwIGV0aGVyIC0gMjY2NjgwMDAgdG9rZW5zCi8vIFRva2VucyBwZXIgMSBldGhlcjogNjY2NwovLyBLWUM6IFBJQ09QUyBodHRwczovL3BpY29wcy5wYXJpdHkuaW8KLy8KLy8gKGMpIFJhZGVrIE9zdHJvd3NraSAvIGh0dHA6Ly9zdGFydG9uY2hhaW4uY29tIC0gVGhlIE1JVCBMaWNlbmNlLgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgovKioKICogQHRpdGxlIE93bmFibGUKICogQGRldiBUaGUgT3duYWJsZSBjb250cmFjdCBoYXMgYW4gb3duZXIgYWRkcmVzcywgYW5kIHByb3ZpZGVzIGJhc2ljIGF1dGhvcml6YXRpb24gY29udHJvbAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLgogKi8KY29udHJhY3QgT3duYWJsZSB7CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBfcHJldmlvdXNPd25lciwgYWRkcmVzcyBpbmRleGVkIF9uZXdPd25lcik7CgogIC8qKgogICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAqIGFjY291bnQuCiAgICovCiAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgfQoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAqIEBwYXJhbSBfbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoX25ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgb3duZXIgPSBfbmV3T3duZXI7CiAgICBlbWl0IE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBfbmV3T3duZXIpOwogIH0KfQoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CgogIC8qKgogICogQGRldiBNdWx0aXBsaWVzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgcmVxdWlyZShjIC8gYSA9PSBiKTsKICAgIHJldHVybiBjOwogIH0KCiAgLyoqCiAgKiBAZGV2IEludGVnZXIgZGl2aXNpb24gb2YgdHdvIG51bWJlcnMsIHRydW5jYXRpbmcgdGhlIHF1b3RpZW50LgogICovCiAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJlcXVpcmUoYiA+IDApOwogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICByZXR1cm4gYzsKICB9CgogIC8qKgogICogQGRldiBTdWJzdHJhY3RzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cgKGkuZS4gaWYgc3VidHJhaGVuZCBpcyBncmVhdGVyIHRoYW4gbWludWVuZCkuCiAgKi8KICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgcmVxdWlyZShiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgLyoqCiAgKiBAZGV2IEFkZHMgdHdvIG51bWJlcnMsIHRocm93cyBvbiBvdmVyZmxvdy4KICAqLwogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIHJlcXVpcmUoYyA+PSBhKTsKICAgIHJldHVybiBjOwogIH0KfQoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBSZWZ1bmRWYXVsdCBmb3IgJ0RpZ2l0aXplIENvaW4nIHByb2plY3QgaW1wb3J0ZWQgZnJvbToKLy8gaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9ibG9iL21hc3Rlci9jb250cmFjdHMvY3Jvd2RzYWxlL2Rpc3RyaWJ1dGlvbi91dGlscy9SZWZ1bmRWYXVsdC5zb2wKLy8KLy8gUmFkZWsgT3N0cm93c2tpIC8gaHR0cDovL3N0YXJ0b25jaGFpbi5jb20gLyBodHRwczovL2RpZ2l0aXplY29pbi5jb20gCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8qKgogKiBAdGl0bGUgUmVmdW5kVmF1bHQKICogQGRldiBUaGlzIGNvbnRyYWN0IGlzIHVzZWQgZm9yIHN0b3JpbmcgZnVuZHMgd2hpbGUgYSBjcm93ZHNhbGUKICogaXMgaW4gcHJvZ3Jlc3MuIFN1cHBvcnRzIHJlZnVuZGluZyB0aGUgbW9uZXkgaWYgY3Jvd2RzYWxlIGZhaWxzLAogKiBhbmQgZm9yd2FyZGluZyBpdCB0byBkZXN0aW5hdGlvbiB3YWxsZXQgaWYgY3Jvd2RzYWxlIGlzIHN1Y2Nlc3NmdWwuCiAqLwpjb250cmFjdCBSZWZ1bmRWYXVsdCBpcyBPd25hYmxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgZW51bSBTdGF0ZSB7IEFjdGl2ZSwgUmVmdW5kaW5nLCBDbG9zZWQgfQoKICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBkZXBvc2l0ZWQ7CiAgYWRkcmVzcyBwdWJsaWMgd2FsbGV0OwogIFN0YXRlIHB1YmxpYyBzdGF0ZTsKCiAgZXZlbnQgQ2xvc2VkKCk7CiAgZXZlbnQgUmVmdW5kc0VuYWJsZWQoKTsKICBldmVudCBSZWZ1bmRlZChhZGRyZXNzIGluZGV4ZWQgX2JlbmVmaWNpYXJ5LCB1aW50MjU2IF93ZWlBbW91bnQpOwoKICAvKioKICAgKiBAcGFyYW0gX3dhbGxldCBGaW5hbCB2YXVsdCBhZGRyZXNzCiAgICovCiAgZnVuY3Rpb24gUmVmdW5kVmF1bHQoYWRkcmVzcyBfd2FsbGV0KSBwdWJsaWMgewogICAgcmVxdWlyZShfd2FsbGV0ICE9IGFkZHJlc3MoMCkpOwogICAgd2FsbGV0ID0gX3dhbGxldDsKICAgIHN0YXRlID0gU3RhdGUuQWN0aXZlOwogIH0KCiAgLyoqCiAgICogQHBhcmFtIF9jb250cmlidXRvciBDb250cmlidXRvciBhZGRyZXNzCiAgICovCiAgZnVuY3Rpb24gZGVwb3NpdChhZGRyZXNzIF9jb250cmlidXRvcikgb25seU93bmVyIHB1YmxpYyBwYXlhYmxlIHsKICAgIHJlcXVpcmUoc3RhdGUgPT0gU3RhdGUuQWN0aXZlKTsKICAgIGRlcG9zaXRlZFtfY29udHJpYnV0b3JdID0gZGVwb3NpdGVkW19jb250cmlidXRvcl0uYWRkKG1zZy52YWx1ZSk7IAogIH0KCiAgZnVuY3Rpb24gY2xvc2UoKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUoc3RhdGUgPT0gU3RhdGUuQWN0aXZlKTsKICAgIHN0YXRlID0gU3RhdGUuQ2xvc2VkOwogICAgZW1pdCBDbG9zZWQoKTsKICAgIHdhbGxldC50cmFuc2ZlcihhZGRyZXNzKHRoaXMpLmJhbGFuY2UpOwogIH0KCiAgZnVuY3Rpb24gZW5hYmxlUmVmdW5kcygpIG9ubHlPd25lciBwdWJsaWMgewogICAgcmVxdWlyZShzdGF0ZSA9PSBTdGF0ZS5BY3RpdmUpOwogICAgc3RhdGUgPSBTdGF0ZS5SZWZ1bmRpbmc7CiAgICBlbWl0IFJlZnVuZHNFbmFibGVkKCk7CiAgfQoKICAvKioKICAgKiBAcGFyYW0gX2NvbnRyaWJ1dG9yIENvbnRyaWJ1dG9yIGFkZHJlc3MKICAgKi8KICBmdW5jdGlvbiByZWZ1bmQoYWRkcmVzcyBfY29udHJpYnV0b3IpIHB1YmxpYyB7CiAgICByZXF1aXJlKHN0YXRlID09IFN0YXRlLlJlZnVuZGluZyk7CiAgICB1aW50MjU2IGRlcG9zaXRlZFZhbHVlID0gZGVwb3NpdGVkW19jb250cmlidXRvcl07CiAgICByZXF1aXJlKGRlcG9zaXRlZFZhbHVlID4gMCk7CiAgICBkZXBvc2l0ZWRbX2NvbnRyaWJ1dG9yXSA9IDA7CiAgICBfY29udHJpYnV0b3IudHJhbnNmZXIoZGVwb3NpdGVkVmFsdWUpOwogICAgZW1pdCBSZWZ1bmRlZChfY29udHJpYnV0b3IsIGRlcG9zaXRlZFZhbHVlKTsKICB9Cn0KCi8qKgogKiBAdGl0bGUgQ3V0ZG93blRva2VuCiAqIEBkZXYgU29tZSBFUkMyMCBpbnRlcmZhY2UgbWV0aG9kcyB1c2VkIGluIHRoaXMgY29udHJhY3QKICovCmNvbnRyYWN0IEN1dGRvd25Ub2tlbiB7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfd2hvKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKfQoKLyoqCiAqIEB0aXRsZSBQYXJpdHkgUElDT1BTIFdoaXRlbGlzdAogKi8KY29udHJhY3QgUElDT1BTQ2VydGlmaWVyIHsKICAgIGZ1bmN0aW9uIGNlcnRpZmllZChhZGRyZXNzKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoYm9vbCk7Cn0KCi8qKgogKiBAdGl0bGUgRGlnaXRpemVDb2luUHJlc2FsZQogKiBAZGV2IERlc2lyZWQgYW1vdW50IG9mIERpZ2l0aXplQ29pbiB0b2tlbnMgZm9yIHRoaXMgc2FsZSBtdXN0IGJlIGFsbG9jYXRlZCAKICogdG8gdGhpcyBjb250cmFjdCBhZGRyZXNzIHByaW9yIHRvIHRoZSBzYWxlIHN0YXJ0CiAqLwpjb250cmFjdCBEaWdpdGl6ZUNvaW5QcmVzYWxlIGlzIE93bmFibGUgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAvLyB0b2tlbiBiZWluZyBzb2xkCiAgQ3V0ZG93blRva2VuIHB1YmxpYyB0b2tlbjsKICAvLyBLWUMKICBQSUNPUFNDZXJ0aWZpZXIgcHVibGljIHBpY29wc0NlcnRpZmllcjsKICAvLyByZWZ1bmQgdmF1bHQgdXNlZCB0byBob2xkIGZ1bmRzIHdoaWxlIGNyb3dkc2FsZSBpcyBydW5uaW5nCiAgUmVmdW5kVmF1bHQgcHVibGljIHZhdWx0OwoKICAvLyBzdGFydCBhbmQgZW5kIHRpbWVzdGFtcHMgd2hlcmUgY29udHJpYnV0aW9ucyBhcmUgYWxsb3dlZCAoYm90aCBpbmNsdXNpdmUpCiAgdWludDI1NiBwdWJsaWMgc3RhcnRUaW1lOwogIHVpbnQyNTYgcHVibGljIGVuZFRpbWU7CiAgdWludDI1NiBwdWJsaWMgc29mdENhcDsKICBib29sIHB1YmxpYyBoYXJkQ2FwUmVhY2hlZDsKCiAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyB3aGl0ZWxpc3Q7CgogIC8vIGhvdyBtYW55IHRva2VuIHVuaXRzIGEgYnV5ZXIgZ2V0cyBwZXIgd2VpCiAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgcmF0ZSA9IDY2Njc7CgogIC8vIGFtb3VudCBvZiByYWlzZWQgbW9uZXkgaW4gd2VpCiAgdWludDI1NiBwdWJsaWMgd2VpUmFpc2VkOwoKICAvLyBhbW91bnQgb2YgdG90YWwgY29udHJpYnV0aW9uIGZvciBlYWNoIGFkZHJlc3MKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGNvbnRyaWJ1dGVkOwoKICAvLyBtaW5pbXVtIGFtb3VudCBvZiBldGhlciBhbGxvd2VkLCBpbmNsdXNpdmUKICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBtaW5Db250cmlidXRpb24gPSAwLjEgZXRoZXI7CgogIC8vIG1heGltdW0gY29udHJpYnV0aW9uIHdpdGhvdXQgS1lDLCBleGNsdXNpdmUKICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBtYXhBbm9ueW1vdXNDb250cmlidXRpb24gPSA1IGV0aGVyOwoKICAvKioKICAgKiBDdXN0b20gZXZlbnRzCiAgICovCiAgZXZlbnQgVG9rZW5QdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgX3B1cmNoYXNlciwgdWludDI1NiBfdmFsdWUsIHVpbnQyNTYgX3Rva2Vucyk7CiAgZXZlbnQgUGljb3BzQ2VydGlmaWVyVXBkYXRlZChhZGRyZXNzIGluZGV4ZWQgX29sZENlcnRpZmllciwgYWRkcmVzcyBpbmRleGVkIF9uZXdDZXJ0aWZpZXIpOwogIGV2ZW50IEFkZGVkVG9XaGl0ZWxpc3QoYWRkcmVzcyBpbmRleGVkIF93aG8pOwogIGV2ZW50IFJlbW92ZWRGcm9tV2hpdGVsaXN0KGFkZHJlc3MgaW5kZXhlZCBfd2hvKTsKICBldmVudCBXaXRoZHJhd25FUkMyMFRva2VucyhhZGRyZXNzIGluZGV4ZWQgX3Rva2VuQ29udHJhY3QsIGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIHVpbnQyNTYgX2JhbGFuY2UpOwogIGV2ZW50IFdpdGhkcmF3bkV0aGVyKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIHVpbnQyNTYgX2JhbGFuY2UpOwoKICAvLyBjb25zdHJ1Y3RvcgogIGZ1bmN0aW9uIERpZ2l0aXplQ29pblByZXNhbGUodWludDI1NiBfc3RhcnRUaW1lLCB1aW50MjU2IF9kdXJhdGlvbkluRGF5cywgCiAgICB1aW50MjU2IF9zb2Z0Q2FwLCBhZGRyZXNzIF93YWxsZXQsIEN1dGRvd25Ub2tlbiBfdG9rZW4sIGFkZHJlc3MgX3BpY29wcykgcHVibGljIHsKICAgIGJvb2wgdmFsaWRUaW1lcyA9IF9zdGFydFRpbWUgPj0gbm93ICYmIF9kdXJhdGlvbkluRGF5cyA+IDA7CiAgICBib29sIHZhbGlkQWRkcmVzc2VzID0gX3dhbGxldCAhPSBhZGRyZXNzKDApICYmIF90b2tlbiAhPSBhZGRyZXNzKDApICYmIF9waWNvcHMgIT0gYWRkcmVzcygwKTsKICAgIHJlcXVpcmUodmFsaWRUaW1lcyAmJiB2YWxpZEFkZHJlc3Nlcyk7CgogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgc3RhcnRUaW1lID0gX3N0YXJ0VGltZTsKICAgIGVuZFRpbWUgPSBfc3RhcnRUaW1lICsgKF9kdXJhdGlvbkluRGF5cyAqIDEgZGF5cyk7CiAgICBzb2Z0Q2FwID0gX3NvZnRDYXA7CiAgICB0b2tlbiA9IF90b2tlbjsKICAgIHZhdWx0ID0gbmV3IFJlZnVuZFZhdWx0KF93YWxsZXQpOwogICAgcGljb3BzQ2VydGlmaWVyID0gUElDT1BTQ2VydGlmaWVyKF9waWNvcHMpOwogIH0KCiAgLy8gZmFsbGJhY2sgZnVuY3Rpb24gdXNlZCB0byBidXkgdG9rZW5zCiAgZnVuY3Rpb24gKCkgZXh0ZXJuYWwgcGF5YWJsZSB7CiAgICByZXF1aXJlKHZhbGlkUHVyY2hhc2UoKSk7CgogICAgYWRkcmVzcyBwdXJjaGFzZXIgPSBtc2cuc2VuZGVyOwogICAgdWludDI1NiB3ZWlBbW91bnQgPSBtc2cudmFsdWU7CiAgICB1aW50MjU2IGNoYXJnZWRXZWlBbW91bnQgPSB3ZWlBbW91bnQ7CiAgICB1aW50MjU2IHRva2Vuc0Ftb3VudCA9IHdlaUFtb3VudC5tdWwocmF0ZSk7CiAgICB1aW50MjU2IHRva2Vuc0R1ZSA9IHRva2Vuc0Ftb3VudDsKICAgIHVpbnQyNTYgdG9rZW5zTGVmdCA9IHRva2VuLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKTsKCiAgICAvLyBpZiBzZW5kaW5nIG1vcmUgdGhlbiBhdmFpbGFibGUsIGFsbG9jYXRlIGFsbCB0b2tlbnMgYW5kIHJlZnVuZCB0aGUgcmVzdCBvZiBldGhlcgogICAgaWYodG9rZW5zQW1vdW50ID4gdG9rZW5zTGVmdCkgewogICAgICBjaGFyZ2VkV2VpQW1vdW50ID0gdG9rZW5zTGVmdC5kaXYocmF0ZSk7CiAgICAgIHRva2Vuc0R1ZSA9IHRva2Vuc0xlZnQ7CiAgICAgIGhhcmRDYXBSZWFjaGVkID0gdHJ1ZTsKICAgIH0gZWxzZSBpZih0b2tlbnNBbW91bnQgPT0gdG9rZW5zTGVmdCkgewogICAgICBoYXJkQ2FwUmVhY2hlZCA9IHRydWU7CiAgICB9CgogICAgd2VpUmFpc2VkID0gd2VpUmFpc2VkLmFkZChjaGFyZ2VkV2VpQW1vdW50KTsKICAgIGNvbnRyaWJ1dGVkW3B1cmNoYXNlcl0gPSBjb250cmlidXRlZFtwdXJjaGFzZXJdLmFkZChjaGFyZ2VkV2VpQW1vdW50KTsKICAgIHRva2VuLnRyYW5zZmVyKHB1cmNoYXNlciwgdG9rZW5zRHVlKTsKCiAgICAvLyByZWZ1bmQgaWYgYXBwcm9wcmlhdGUKICAgIGlmKGNoYXJnZWRXZWlBbW91bnQgPCB3ZWlBbW91bnQpIHsKICAgICAgcHVyY2hhc2VyLnRyYW5zZmVyKHdlaUFtb3VudCAtIGNoYXJnZWRXZWlBbW91bnQpOwogICAgfQogICAgZW1pdCBUb2tlblB1cmNoYXNlKHB1cmNoYXNlciwgY2hhcmdlZFdlaUFtb3VudCwgdG9rZW5zRHVlKTsKCiAgICAvLyBmb3J3YXJkIGZ1bmRzIHRvIHZhdWx0CiAgICB2YXVsdC5kZXBvc2l0LnZhbHVlKGNoYXJnZWRXZWlBbW91bnQpKHB1cmNoYXNlcik7CiAgfQoKICAvKioKICAgKiBAZGV2IENoZWNrcyB3aGV0aGVyIGZ1bmRpbmcgc29mdCBjYXAgd2FzIHJlYWNoZWQuIAogICAqIEByZXR1cm4gV2hldGhlciBmdW5kaW5nIHNvZnQgY2FwIHdhcyByZWFjaGVkCiAgICovCiAgZnVuY3Rpb24gc29mdENhcFJlYWNoZWQoKSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gd2VpUmFpc2VkID49IHNvZnRDYXA7CiAgfQoKICAvLyBAcmV0dXJuIHRydWUgaWYgY3Jvd2RzYWxlIGV2ZW50IGhhcyBlbmRlZAogIGZ1bmN0aW9uIGhhc0VuZGVkKCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIG5vdyA+IGVuZFRpbWUgfHwgaGFyZENhcFJlYWNoZWQ7CiAgfQoKICBmdW5jdGlvbiBoYXNTdGFydGVkKCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIG5vdyA+PSBzdGFydFRpbWU7CiAgfQoKICAvKioKICAgKiBAZGV2IENvbnRyaWJ1dG9ycyBjYW4gY2xhaW0gcmVmdW5kcyBoZXJlIGlmIGNyb3dkc2FsZSBpcyB1bnN1Y2Nlc3NmdWwKICAgKi8KICBmdW5jdGlvbiBjbGFpbVJlZnVuZCgpIHB1YmxpYyB7CiAgICByZXF1aXJlKGhhc0VuZGVkKCkgJiYgIXNvZnRDYXBSZWFjaGVkKCkpOwoKICAgIHZhdWx0LnJlZnVuZChtc2cuc2VuZGVyKTsKICB9CgogIC8qKgogICAqIEBkZXYgdmF1bHQgZmluYWxpemF0aW9uIHRhc2ssIGNhbGxlZCB3aGVuIG93bmVyIGNhbGxzIGZpbmFsaXplKCkKICAgKi8KICBmdW5jdGlvbiBmaW5hbGl6ZSgpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShoYXNFbmRlZCgpKTsKCiAgICBpZiAoc29mdENhcFJlYWNoZWQoKSkgewogICAgICB2YXVsdC5jbG9zZSgpOwogICAgfSBlbHNlIHsKICAgICAgdmF1bHQuZW5hYmxlUmVmdW5kcygpOwogICAgfQogIH0KCiAgLy8gQHJldHVybiB0cnVlIGlmIHRoZSB0cmFuc2FjdGlvbiBjYW4gYnV5IHRva2VucwogIGZ1bmN0aW9uIHZhbGlkUHVyY2hhc2UoKSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgIGJvb2wgd2l0aGluUGVyaW9kID0gaGFzU3RhcnRlZCgpICYmICFoYXNFbmRlZCgpOwogICAgYm9vbCB2YWxpZENvbnRyaWJ1dGlvbiA9IG1zZy52YWx1ZSA+PSBtaW5Db250cmlidXRpb247CiAgICBib29sIHBhc3NLeWMgPSBwaWNvcHNDZXJ0aWZpZXIuY2VydGlmaWVkKG1zZy5zZW5kZXIpOwogICAgLy9jaGVjayBpZiBjb250cmlidXRvciBjYW4gcG9zc2libHkgZ28gb3ZlciBhbm9ueW1vdXMgY29udGlidXRpb24gbGltaXQKICAgIGJvb2wgYW5vbnltb3VzQWxsb3dlZCA9IGNvbnRyaWJ1dGVkW21zZy5zZW5kZXJdLmFkZChtc2cudmFsdWUpIDwgbWF4QW5vbnltb3VzQ29udHJpYnV0aW9uOwogICAgYm9vbCBhbGxvd2VkS3ljID0gcGFzc0t5YyB8fCBhbm9ueW1vdXNBbGxvd2VkOwogICAgcmV0dXJuIHdpdGhpblBlcmlvZCAmJiB2YWxpZENvbnRyaWJ1dGlvbiAmJiBhbGxvd2VkS3ljOwogIH0KCiAgLy8gYWJpbGl0eSB0byBzZXQgbmV3IGNlcnRpZmllciBldmVuIGFmdGVyIHRoZSBzYWxlIHN0YXJ0ZWQKICBmdW5jdGlvbiBzZXRQaWNvcHNDZXJ0aWZpZXIoYWRkcmVzcyBfcGljb3BzQ2VydGlmaWVyKSBvbmx5T3duZXIgcHVibGljICB7CiAgICByZXF1aXJlKF9waWNvcHNDZXJ0aWZpZXIgIT0gYWRkcmVzcyhwaWNvcHNDZXJ0aWZpZXIpKTsKICAgIGVtaXQgUGljb3BzQ2VydGlmaWVyVXBkYXRlZChhZGRyZXNzKHBpY29wc0NlcnRpZmllciksIF9waWNvcHNDZXJ0aWZpZXIpOwogICAgcGljb3BzQ2VydGlmaWVyID0gUElDT1BTQ2VydGlmaWVyKF9waWNvcHNDZXJ0aWZpZXIpOwogIH0KCiAgZnVuY3Rpb24gcGFzc2VkS1lDKGFkZHJlc3MgX3dhbGxldCkgdmlldyBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgcmV0dXJuIHBpY29wc0NlcnRpZmllci5jZXJ0aWZpZWQoX3dhbGxldCk7CiAgfQoKICAvLyBhYmlsaXR5IHRvIGFkZCB0byB3aGl0ZWxpc3QgZXZlbiBhZnRlciB0aGUgc2FsZSBzdGFydGVkCiAgZnVuY3Rpb24gYWRkVG9XaGl0ZWxpc3QoYWRkcmVzc1tdIF93YWxsZXRzKSBwdWJsaWMgb25seU93bmVyIHsKICAgIGZvciAodWludCBpID0gMDsgaSA8IF93YWxsZXRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHdoaXRlbGlzdFtfd2FsbGV0c1tpXV0gPSB0cnVlOwogICAgICBlbWl0IEFkZGVkVG9XaGl0ZWxpc3QoX3dhbGxldHNbaV0pOwogICAgfQogIH0KCiAgLy8gYWJpbGl0eSB0byByZW1vdmUgZnJvbSB3aGl0ZWxpc3QgZXZlbiBhZnRlciB0aGUgc2FsZSBzdGFydGVkCiAgZnVuY3Rpb24gcmVtb3ZlRnJvbVdoaXRlbGlzdChhZGRyZXNzW10gX3dhbGxldHMpIHB1YmxpYyBvbmx5T3duZXIgewogICAgZm9yICh1aW50IGkgPSAwOyBpIDwgX3dhbGxldHMubGVuZ3RoOyBpKyspIHsKICAgICAgd2hpdGVsaXN0W193YWxsZXRzW2ldXSA9IGZhbHNlOwogICAgICBlbWl0IFJlbW92ZWRGcm9tV2hpdGVsaXN0KF93YWxsZXRzW2ldKTsKICAgIH0KICB9CgogIC8qKgogICAqIEBkZXYgQWxsb3dzIHRvIHRyYW5zZmVyIG91dCB0aGUgZXRoZXIgYmFsYW5jZSB0aGF0IHdhcyBmb3JjZWQgaW50byB0aGlzIGNvbnRyYWN0LCBlLmcgd2l0aCBgc2VsZmRlc3RydWN0YAogICAqLwogIGZ1bmN0aW9uIHdpdGhkcmF3RXRoZXIoKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUoaGFzRW5kZWQoKSk7CiAgICB1aW50MjU2IHRvdGFsQmFsYW5jZSA9IGFkZHJlc3ModGhpcykuYmFsYW5jZTsKICAgIHJlcXVpcmUodG90YWxCYWxhbmNlID4gMCk7CiAgICBvd25lci50cmFuc2Zlcih0b3RhbEJhbGFuY2UpOwogICAgZW1pdCBXaXRoZHJhd25FdGhlcihvd25lciwgdG90YWxCYWxhbmNlKTsKICB9CiAgCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdG8gdHJhbnNmZXIgb3V0IHRoZSBiYWxhbmNlIG9mIGFyYml0cmFyeSBFUkMyMCB0b2tlbnMgZnJvbSB0aGUgY29udHJhY3QuCiAgICogQHBhcmFtIF90b2tlbiBUaGUgY29udHJhY3QgYWRkcmVzcyBvZiB0aGUgRVJDMjAgdG9rZW4uCiAgICovCiAgZnVuY3Rpb24gd2l0aGRyYXdFUkMyMFRva2VucyhDdXRkb3duVG9rZW4gX3Rva2VuKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUoaGFzRW5kZWQoKSk7CiAgICB1aW50MjU2IHRvdGFsQmFsYW5jZSA9IF90b2tlbi5iYWxhbmNlT2YoYWRkcmVzcyh0aGlzKSk7CiAgICByZXF1aXJlKHRvdGFsQmFsYW5jZSA+IDApOwogICAgX3Rva2VuLnRyYW5zZmVyKG93bmVyLCB0b3RhbEJhbGFuY2UpOwogICAgZW1pdCBXaXRoZHJhd25FUkMyMFRva2VucyhhZGRyZXNzKF90b2tlbiksIG93bmVyLCB0b3RhbEJhbGFuY2UpOwogIH0KfQ=='.
	

]
