Class {
	#name : #SRT80Cf8165Eed72D154306e2422Af577C48c29C9f9,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT80Cf8165Eed72D154306e2422Af577C48c29C9f9 >> base64 [
	^ 'Y29udHJhY3QgTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPiAwKTsKICAgIHVpbnQgYyA9IGEgLyBiOwogICAgYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgewogICAgaWYgKCFhc3NlcnRpb24pIHsKICAgICAgdGhyb3c7CiAgICB9CiAgfQp9CmNvbnRyYWN0IFRva2VuIHsKICAgIC8qIFRoaXMgaXMgYSBzbGlnaHQgY2hhbmdlIHRvIHRoZSBFUkMyMCBiYXNlIHN0YW5kYXJkLgogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSk7CiAgICBpcyByZXBsYWNlZCB3aXRoOgogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICBUaGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBhIGdldHRlciBmdW5jdGlvbiBmb3IgdGhlIHRvdGFsU3VwcGx5LgogICAgVGhpcyBpcyBtb3ZlZCB0byB0aGUgYmFzZSBjb250cmFjdCBzaW5jZSBwdWJsaWMgZ2V0dGVyIGZ1bmN0aW9ucyBhcmUgbm90CiAgICBjdXJyZW50bHkgcmVjb2duaXNlZCBhcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgbWF0Y2hpbmcgYWJzdHJhY3QKICAgIGZ1bmN0aW9uIGJ5IHRoZSBjb21waWxlci4KICAgICovCiAgICAvLy8gdG90YWwgYW1vdW50IG9mIHRva2VucwogICAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbERpdmlkZW5kczsKICAgIHVpbnQgcHVibGljIHZvdGVFbmRzID0gMTsKICAgIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIGZyb20gd2hpY2ggdGhlIGJhbGFuY2Ugd2lsbCBiZSByZXRyaWV2ZWQKICAgIC8vLyBAcmV0dXJuIFRoZSBiYWxhbmNlCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CgogICAgZnVuY3Rpb24gdm90ZUJhbGFuY2UoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7CgogICAgZnVuY3Rpb24gdm90ZUNvdW50KGFkZHJlc3MgX3Byb3Bvc2FsKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGNvdW50KTsKCiAgICAvLy8gQG5vdGljZSBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9zcGVuZGVyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXIKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBvd25pbmcgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgLy8vIEByZXR1cm4gcmVtYWluaW5nIG9mIHJlbWFpbmluZyB0b2tlbnMgYWxsb3dlZCB0byBzcGVudAogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CgogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKCn0KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBUb2tlbiB7CgogICAgc3RydWN0IEFjY291bnQgewogICAgICAgIHVpbnQgdm90ZXM7CiAgICAgICAgdWludCBsYXN0Vm90ZTsKICAgICAgICB1aW50IGxhc3REaXZpZGVuZHM7CiAgICB9CgogICAgbW9kaWZpZXIgdm90ZVVwZGF0ZXIoYWRkcmVzcyBfdG8sIGFkZHJlc3MgX2Zyb20pIHsKICAgICAgICBpZiAoYWNjb3VudHNbX2Zyb21dLmxhc3RWb3RlID09IHZvdGVFbmRzKSB7CiAgICAgICAgICAgIGlmIChhY2NvdW50c1tfdG9dLmxhc3RWb3RlIDwgdm90ZUVuZHMpIHsKICAgICAgICAgICAgICAgIGFjY291bnRzW190b10udm90ZXMgPSBiYWxhbmNlc1tfdG9dOwogICAgICAgICAgICAgICAgYWNjb3VudHNbX3RvXS5sYXN0Vm90ZSA9IHZvdGVFbmRzOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChhY2NvdW50c1tfZnJvbV0ubGFzdFZvdGUgPCB2b3RlRW5kcykgewogICAgICAgICAgICBhY2NvdW50c1tfZnJvbV0udm90ZXMgPSBiYWxhbmNlc1tfZnJvbV07CiAgICAgICAgICAgIGFjY291bnRzW19mcm9tXS5sYXN0Vm90ZSA9IHZvdGVFbmRzOwogICAgICAgICAgICBpZiAoYWNjb3VudHNbX3RvXS5sYXN0Vm90ZSA8IHZvdGVFbmRzKSB7CiAgICAgICAgICAgICAgICBhY2NvdW50c1tfdG9dLnZvdGVzID0gYmFsYW5jZXNbX3RvXTsKICAgICAgICAgICAgICAgIGFjY291bnRzW190b10ubGFzdFZvdGUgPSB2b3RlRW5kczsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBfOwoKICAgIH0KICAgIG1vZGlmaWVyIHVwZGF0ZUFjY291bnQoYWRkcmVzcyBhY2NvdW50KSB7CiAgICAgIHZhciBvd2luZyA9IGRpdmlkZW5kc093aW5nKGFjY291bnQpOwogICAgICBpZihvd2luZyA+IDApIHsKICAgICAgICBhY2NvdW50LnNlbmQob3dpbmcpOwogICAgICAgIGFjY291bnRzW2FjY291bnRdLmxhc3REaXZpZGVuZHMgPSB0b3RhbERpdmlkZW5kczsKICAgICAgfQogICAgICBfOwogICAgfQogICAgZnVuY3Rpb24gZGl2aWRlbmRzT3dpbmcoYWRkcmVzcyBhY2NvdW50KSBpbnRlcm5hbCByZXR1cm5zKHVpbnQpIHsKICAgICAgdmFyIG5ld0RpdmlkZW5kcyA9IHRvdGFsRGl2aWRlbmRzIC0gYWNjb3VudHNbYWNjb3VudF0ubGFzdERpdmlkZW5kczsKICAgICAgcmV0dXJuIChiYWxhbmNlc1thY2NvdW50XSAqIG5ld0RpdmlkZW5kcykgLyB0b3RhbFN1cHBseTsKICAgIH0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CiAgICBmdW5jdGlvbiB2b3RlQ291bnQoYWRkcmVzcyBfcHJvcG9zYWwpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgY291bnQpIHsKICAgICAgICByZXR1cm4gdm90ZXNbX3Byb3Bvc2FsXTsKICAgIH0KICAgIGZ1bmN0aW9uIHZvdGVCYWxhbmNlKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpCiAgICB7CiAgICAgICAgcmV0dXJuIGFjY291bnRzW19vd25lcl0udm90ZXM7CgogICAgfQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIAogICAgdXBkYXRlQWNjb3VudChtc2cuc2VuZGVyKQogICAgdm90ZVVwZGF0ZXIoX3RvLCBtc2cuc2VuZGVyKQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSAKICAgIHsKICAgICAgICAvL0RlZmF1bHQgYXNzdW1lcyB0b3RhbFN1cHBseSBjYW4ndCBiZSBvdmVyIG1heCAoMl4yNTYgLSAxKS4KICAgICAgICAvL0lmIHlvdXIgdG9rZW4gbGVhdmVzIG91dCB0b3RhbFN1cHBseSBhbmQgY2FuIGlzc3VlIG1vcmUgdG9rZW5zIGFzIHRpbWUgZ29lcyBvbiwgeW91IG5lZWQgdG8gY2hlY2sgaWYgaXQgZG9lc24ndCB3cmFwLgogICAgICAgIC8vUmVwbGFjZSB0aGUgaWYgd2l0aCB0aGlzIG9uZSBpbnN0ZWFkLgogICAgICAgIC8vaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCkgewogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpCiAgICB1cGRhdGVBY2NvdW50KG1zZy5zZW5kZXIpIAogICAgdm90ZVVwZGF0ZXIoX3RvLCBfZnJvbSkKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgCiAgICB7CiAgICAgICAgLy9zYW1lIGFzIGFib3ZlLiBSZXBsYWNlIHRoaXMgbGluZSB3aXRoIHRoZSBmb2xsb3dpbmcgaWYgeW91IHdhbnQgdG8gcHJvdGVjdCBhZ2FpbnN0IHdyYXBwaW5nIHVpbnRzLgogICAgICAgIC8vaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9CiAgICB9CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBBY2NvdW50KSBhY2NvdW50czsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCApIHZvdGVzOwp9CmNvbnRyYWN0IFNJU0EgaXMgU3RhbmRhcmRUb2tlbiwgTWF0aCB7CgoKCXN0cmluZyBjb25zdGFudCBwdWJsaWMgbmFtZSA9ICJTSVNBIFRva2VuIjsKCXN0cmluZyBjb25zdGFudCBwdWJsaWMgc3ltYm9sID0gIlNJU0EiOwoJdWludCBjb25zdGFudCBwdWJsaWMgZGVjaW1hbHMgPSAxODsKCglhZGRyZXNzIHB1YmxpYyBpY29fdG9rZW5zID0gMHgxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExOwoJYWRkcmVzcyBwdWJsaWMgcHJlSUNPX3Rva2VucyA9IDB4MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjsKCWFkZHJlc3MgcHVibGljIGJvdW50eV9mdW5kczsKCWFkZHJlc3MgcHVibGljIGZvdW5kZXI7CglhZGRyZXNzIHB1YmxpYyBhZG1pbjsKCWFkZHJlc3MgcHVibGljIHRlYW1fZnVuZHM7CglhZGRyZXNzIHB1YmxpYyBpc3N1ZXI7CglhZGRyZXNzIHB1YmxpYyBwcmVzZWxsZXI7CgoKCgoKCWZ1bmN0aW9uICgpIHBheWFibGUgewoJICB0b3RhbERpdmlkZW5kcyArPSBtc2cudmFsdWU7CgkgIC8vZGVkdWN0KG1zZy5zZW5kZXIsIGFtb3VudCk7Cgl9CgoKCW1vZGlmaWVyIG9ubHlGb3VuZGVyKCkgewoJICAgIC8vIE9ubHkgZm91bmRlciBpcyBhbGxvd2VkIHRvIGRvIHRoaXMgYWN0aW9uLgoJICAgIGlmIChtc2cuc2VuZGVyICE9IGZvdW5kZXIpIHsKCSAgICAgICAgdGhyb3c7CgkgICAgfQoJICAgIF87Cgl9Cgltb2RpZmllciBvbmx5QWRtaW4oKSB7CgkgICAgLy8gT25seSBhZG1pbiBpcyBhbGxvd2VkIHRvIGRvIHRoaXMgYWN0aW9uLgoJICAgIGlmIChtc2cuc2VuZGVyICE9IGFkbWluKSB7CgkgICAgICAgIHRocm93OwoJICAgIH0KCSAgICBfOwoJfQogICAgbW9kaWZpZXIgb25seUlzc3VlcigpIHsKICAgICAgICAvLyBPbmx5IElzc3VlciBpcyBhbGxvd2VkIHRvIHByb2NlZWQuCiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gaXNzdWVyKSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgICAgICBfOwogICAgfQoKCiAgICBmdW5jdGlvbiBjYXN0Vm90ZShhZGRyZXNzIHByb3Bvc2FsKSAKICAgIAlwdWJsaWMKICAgIHsKICAgIAlpZiAoYWNjb3VudHNbbXNnLnNlbmRlcl0ubGFzdFZvdGUgPCB2b3RlRW5kcykgewogICAgCQlhY2NvdW50c1ttc2cuc2VuZGVyXS52b3RlcyA9IGJhbGFuY2VzW21zZy5zZW5kZXJdOwogICAgCQlhY2NvdW50c1ttc2cuc2VuZGVyXS5sYXN0Vm90ZSA9IHZvdGVFbmRzOwoKICAgIAl9IGVsc2UgaWYgKGFjY291bnRzW21zZy5zZW5kZXJdLnZvdGVzID09IDAgKSB7CiAgICAJCXRocm93OwogICAgCX0KICAgIAl2b3Rlc1twcm9wb3NhbF0gPSBhY2NvdW50c1ttc2cuc2VuZGVyXS52b3RlczsKICAgIAlhY2NvdW50c1ttc2cuc2VuZGVyXS52b3RlcyA9IDA7CiAgICAJCiAgICB9CiAgICBmdW5jdGlvbiBjYWxsVm90ZSgpIAogICAgCXB1YmxpYwogICAgCW9ubHlBZG1pbgogICAgCXJldHVybnMgKGJvb2wpCiAgICB7CiAgICAJdm90ZUVuZHMgPSBub3cgKyA3IGRheXM7CgogICAgfQogICAgZnVuY3Rpb24gaXNzdWVUb2tlbnMoYWRkcmVzcyBfZm9yLCB1aW50MjU2IGFtb3VudCkKICAgICAgICBwdWJsaWMKICAgICAgICBvbmx5SXNzdWVyCiAgICAgICAgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICBpZihhbGxvd2VkW2ljb190b2tlbnNdW2lzc3Vlcl0gPj0gYW1vdW50KSB7IAogICAgICAgICAgICB0cmFuc2ZlckZyb20oaWNvX3Rva2VucywgX2ZvciwgYW1vdW50KTsKCiAgICAgICAgICAgIC8vIElzc3VlKF9mb3IsIG1zZy5zZW5kZXIsIGFtb3VudCk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIGNoYW5nZVByZXNlbGxlcihhZGRyZXNzIG5ld0FkZHJlc3MpCiAgICAgICAgZXh0ZXJuYWwKICAgICAgICBvbmx5QWRtaW4KICAgICAgICByZXR1cm5zIChib29sKQogICAgeyAgICAKICAgICAgICBkZWxldGUgYWxsb3dlZFtwcmVJQ09fdG9rZW5zXVtwcmVzZWxsZXJdOwogICAgICAgIHByZXNlbGxlciA9IG5ld0FkZHJlc3M7CgogICAgICAgIGFsbG93ZWRbcHJlSUNPX3Rva2Vuc11bcHJlc2VsbGVyXSA9IGJhbGFuY2VPZihwcmVJQ09fdG9rZW5zKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICBmdW5jdGlvbiBjaGFuZ2VJc3N1ZXIoYWRkcmVzcyBuZXdBZGRyZXNzKQogICAgICAgIGV4dGVybmFsCiAgICAgICAgb25seUFkbWluCiAgICAgICAgcmV0dXJucyAoYm9vbCkKICAgIHsgICAgCiAgICAgICAgZGVsZXRlIGFsbG93ZWRbaWNvX3Rva2Vuc11baXNzdWVyXTsKICAgICAgICBpc3N1ZXIgPSBuZXdBZGRyZXNzOwoKICAgICAgICBhbGxvd2VkW2ljb190b2tlbnNdW2lzc3Vlcl0gPSBiYWxhbmNlT2YoaWNvX3Rva2Vucyk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoJZnVuY3Rpb24gU0lTQShhZGRyZXNzIF9mb3VuZGVyLCBhZGRyZXNzIF9hZG1pbiwgYWRkcmVzcyBfYm91bnR5LCBhZGRyZXNzIF90ZWFtKSB7CgkJZm91bmRlciA9IF9mb3VuZGVyOwoJCWFkbWluID0gX2FkbWluOwoJCWJvdW50eV9mdW5kcyA9IF9ib3VudHk7CgkJdGVhbV9mdW5kcyA9IF90ZWFtOwoJCXRvdGFsU3VwcGx5ID0gNTAwMDAwMDAgKiAxIGV0aGVyOwoJCWJhbGFuY2VzW3ByZUlDT190b2tlbnNdID0gNTAwMDAwMCAqIDEgZXRoZXI7CgkJYmFsYW5jZXNbYm91bnR5X2Z1bmRzXSArPSAzMDAwMDAwICogMSBldGhlcjsKCQliYWxhbmNlc1t0ZWFtX2Z1bmRzXSArPSA3MDAwMDAwICogMSBldGhlcjsKCQliYWxhbmNlc1tpY29fdG9rZW5zXSA9IDMyNTAwMDAwICogMSBldGhlcjsKCgoKCX0KCn0KY29udHJhY3QgU0lTQXByZVNhbGUgaXMgTWF0aCB7CgoJU0lTQSBwdWJsaWMgU0lTQV90b2tlbjsgCglhZGRyZXNzIHB1YmxpYyBmb3VuZGVyOyAKCWFkZHJlc3MgcHVibGljIHNhbGVfYWRkcmVzcyA9IDB4MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjsKCgkvL1ByaWNlIC8gMTAwCgl1aW50IHB1YmxpYyBwcmljZSA9IDM3MzQ4MjcyNjQyMzkwMjg3OwoJLy91aW50IHByaWNlID0gZGl2KDEwMCBldGhlciwgMjY3NzUwICogZXRoZXIpCgoJdWludCBwdWJsaWMgYmVnaW5zID0gMTUwODQ1NzYwMDsKCXVpbnQgcHVibGljIGVuZHMgPSAxNTA5MzIxNjAwOwoKCgltb2RpZmllciBpc0V4cGlyZWQoKSB7CgkJaWYgKG5vdyA8IGJlZ2lucykgewoJCQl0aHJvdzsKCQl9CgkJaWYobm93ID4gZW5kcykgewoJCQl0aHJvdzsKCQl9CgkJXzsKCX0KCWZ1bmN0aW9uIFNJU0FwcmVTYWxlKGFkZHJlc3MgdG9rZW5BZGRyZXNzLCBhZGRyZXNzIGZvdW5kZXJBZGRyZXNzKSB7CgkJZm91bmRlciA9IGZvdW5kZXJBZGRyZXNzOwoJCVNJU0FfdG9rZW4gPSBTSVNBKHRva2VuQWRkcmVzcyk7CgoJfQoKCWZ1bmN0aW9uICgpIHBheWFibGUKCQlpc0V4cGlyZWQgCgl7CgkJdWludCBhbW91bnQgPSBtc2cudmFsdWU7CgkJdWludCB0b2tlbnMgPSBkaXYoYW1vdW50ICogMTAwIGV0aGVyLCBwcmljZSk7CgkJaWYgKGZvdW5kZXIuc2VuZChhbW91bnQpKSB7CgkJCVNJU0FfdG9rZW4udHJhbnNmZXJGcm9tKHNhbGVfYWRkcmVzcywgbXNnLnNlbmRlciwgdG9rZW5zKTsKCQl9IGVsc2UgewoJCQl0aHJvdzsKCQl9Cgl9Cn0='.
	

]
