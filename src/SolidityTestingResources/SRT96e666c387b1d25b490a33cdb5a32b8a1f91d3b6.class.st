Class {
	#name : #SRT96e666c387b1d25b490a33cdb5a32b8a1f91d3b6,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT96e666c387b1d25b490a33cdb5a32b8a1f91d3b6 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLyoqCiAqIEB0aXRsZSBPd25hYmxlCiAqIEBkZXYgVGhlIE93bmFibGUgY29udHJhY3QgaGFzIGFuIG93bmVyIGFkZHJlc3MsIGFuZCBwcm92aWRlcyBiYXNpYyBhdXRob3JpemF0aW9uIGNvbnRyb2wKICogZnVuY3Rpb25zLCB0aGlzIHNpbXBsaWZpZXMgdGhlIGltcGxlbWVudGF0aW9uIG9mICJ1c2VyIHBlcm1pc3Npb25zIi4KICovCmNvbnRyYWN0IE93bmFibGUgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgoKICAgIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKCiAgICAvKioKICAgICAqIEBkZXYgVGhlIE93bmFibGUgY29uc3RydWN0b3Igc2V0cyB0aGUgb3JpZ2luYWwgYG93bmVyYCBvZiB0aGUgY29udHJhY3QgdG8gdGhlIHNlbmRlcgogICAgICogYWNjb3VudC4KICAgICAqLwogICAgZnVuY3Rpb24gT3duYWJsZSgpIHB1YmxpYyB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKCiAgICAvKioKICAgICAqIEBkZXYgVGhyb3dzIGlmIGNhbGxlZCBieSBhbnkgYWNjb3VudCBvdGhlciB0aGFuIHRoZSBvd25lci4KICAgICAqLwogICAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCgogICAgLyoqCiAgICAgKiBAZGV2IEFsbG93cyB0aGUgY3VycmVudCBvd25lciB0byB0cmFuc2ZlciBjb250cm9sIG9mIHRoZSBjb250cmFjdCB0byBhIG5ld093bmVyLgogICAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgICAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICB9Cgp9CgoKCgoKCgpjb250cmFjdCBGaXNoYmFua0Jvb3N0ZXJzIGlzIE93bmFibGUgewoKICAgIHN0cnVjdCBCb29zdGVyIHsKICAgICAgICBhZGRyZXNzIG93bmVyOwogICAgICAgIHVpbnQzMiBkdXJhdGlvbjsKICAgICAgICB1aW50OCBib29zdGVyVHlwZTsKICAgICAgICB1aW50MjQgcmFpc2VWYWx1ZTsKICAgICAgICB1aW50OCBzdHJlbmd0aDsKICAgICAgICB1aW50MzIgYW1vdW50OwogICAgfQoKICAgIEJvb3N0ZXJbXSBwdWJsaWMgYm9vc3RlcnM7CiAgICBib29sIHB1YmxpYyBpbXBsZW1lbnRzRVJDNzIxID0gdHJ1ZTsKICAgIHN0cmluZyBwdWJsaWMgbmFtZSA9ICJGaXNoYmFuayBCb29zdGVycyI7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJGSVNIQiI7CiAgICBtYXBwaW5nKHVpbnQyNTYgPT4gYWRkcmVzcykgcHVibGljIGFwcHJvdmVkOwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIHB1YmxpYyBiYWxhbmNlczsKICAgIGFkZHJlc3MgcHVibGljIGZpc2hiYW5rOwogICAgYWRkcmVzcyBwdWJsaWMgY2hlc3RzOwogICAgYWRkcmVzcyBwdWJsaWMgYXVjdGlvbjsKCiAgICBtb2RpZmllciBvbmx5Qm9vc3Rlck93bmVyKHVpbnQyNTYgX3Rva2VuSWQpIHsKICAgICAgICByZXF1aXJlKGJvb3N0ZXJzW190b2tlbklkXS5vd25lciA9PSBtc2cuc2VuZGVyKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlDaGVzdCgpIHsKICAgICAgICByZXF1aXJlKGNoZXN0cyA9PSBtc2cuc2VuZGVyKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIEZpc2hiYW5rQm9vc3RlcnMoKSBwdWJsaWMgewogICAgICAgIC8vbm90aGluZyB5ZXQKICAgIH0KCiAgICAvL21pbnRzIHRoZSBib29zdGVycyBjYW4gb25seSBiZSBjYWxsZWQgYnkgb3duZXIuIGNvdWxkIGJlIGEgc21hcnQgY29udHJhY3QKICAgIGZ1bmN0aW9uIG1pbnRCb29zdGVyKGFkZHJlc3MgX293bmVyLCB1aW50MzIgX2R1cmF0aW9uLCB1aW50OCBfdHlwZSwgdWludDggX3N0cmVuZ3RoLCB1aW50MzIgX2Ftb3VudCwgdWludDI0IF9yYWlzZVZhbHVlKSBvbmx5Q2hlc3QgcHVibGljIHsKICAgICAgICBib29zdGVycy5sZW5ndGggKys7CgogICAgICAgIEJvb3N0ZXIgc3RvcmFnZSB0ZW1wQm9vc3RlciA9IGJvb3N0ZXJzW2Jvb3N0ZXJzLmxlbmd0aCAtIDFdOwoKICAgICAgICB0ZW1wQm9vc3Rlci5vd25lciA9IF9vd25lcjsKICAgICAgICB0ZW1wQm9vc3Rlci5kdXJhdGlvbiA9IF9kdXJhdGlvbjsKICAgICAgICB0ZW1wQm9vc3Rlci5ib29zdGVyVHlwZSA9IF90eXBlOwogICAgICAgIHRlbXBCb29zdGVyLnN0cmVuZ3RoID0gX3N0cmVuZ3RoOwogICAgICAgIHRlbXBCb29zdGVyLmFtb3VudCA9IF9hbW91bnQ7CiAgICAgICAgdGVtcEJvb3N0ZXIucmFpc2VWYWx1ZSA9IF9yYWlzZVZhbHVlOwoKICAgICAgICBUcmFuc2ZlcihhZGRyZXNzKDApLCBfb3duZXIsIGJvb3N0ZXJzLmxlbmd0aCAtIDEpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldEZpc2hiYW5rKGFkZHJlc3MgX2Zpc2hiYW5rKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBmaXNoYmFuayA9IF9maXNoYmFuazsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRDaGVzdHMoYWRkcmVzcyBfY2hlc3RzKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBpZiAoY2hlc3RzICE9IGFkZHJlc3MoMCkpIHsKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgfQogICAgICAgIGNoZXN0cyA9IF9jaGVzdHM7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0QXVjdGlvbihhZGRyZXNzIF9hdWN0aW9uKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBhdWN0aW9uID0gX2F1Y3Rpb247CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Qm9vc3RlclR5cGUodWludDI1NiBfdG9rZW5JZCkgdmlldyBwdWJsaWMgcmV0dXJucyAodWludDggYm9vc3RlclR5cGUpIHsKICAgICAgICBib29zdGVyVHlwZSA9IGJvb3N0ZXJzW190b2tlbklkXS5ib29zdGVyVHlwZTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRCb29zdGVyQW1vdW50KHVpbnQyNTYgX3Rva2VuSWQpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnQzMiBib29zdGVyQW1vdW50KSB7CiAgICAgICAgYm9vc3RlckFtb3VudCA9IGJvb3N0ZXJzW190b2tlbklkXS5hbW91bnQ7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Qm9vc3RlckR1cmF0aW9uKHVpbnQyNTYgX3Rva2VuSWQpIHZpZXcgcHVibGljIHJldHVybnMgKHVpbnQzMikgewogICAgICAgIGlmIChib29zdGVyc1tfdG9rZW5JZF0uYm9vc3RlclR5cGUgPT0gNCB8fCBib29zdGVyc1tfdG9rZW5JZF0uYm9vc3RlclR5cGUgPT0gMikgewogICAgICAgICAgICByZXR1cm4gYm9vc3RlcnNbX3Rva2VuSWRdLmR1cmF0aW9uICsgYm9vc3RlcnNbX3Rva2VuSWRdLnJhaXNlVmFsdWUgKiA2MDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGJvb3N0ZXJzW190b2tlbklkXS5kdXJhdGlvbjsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRCb29zdGVyU3RyZW5ndGgodWludDI1NiBfdG9rZW5JZCkgdmlldyBwdWJsaWMgcmV0dXJucyAodWludDggc3RyZW5ndGgpIHsKICAgICAgICBzdHJlbmd0aCA9IGJvb3N0ZXJzW190b2tlbklkXS5zdHJlbmd0aDsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRCb29zdGVyUmFpc2VWYWx1ZSh1aW50MjU2IF90b2tlbklkKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50MjQgcmFpc2VWYWx1ZSkgewogICAgICAgIHJhaXNlVmFsdWUgPSBib29zdGVyc1tfdG9rZW5JZF0ucmFpc2VWYWx1ZTsKICAgIH0KCiAgICAvL0VSQzcyMSBmdW5jdGlvbmFsaXR5CiAgICAvL2NvdWxkIHNwbGl0IHRoaXMgdG8gYSBkaWZmZXJlbnQgY29udHJhY3QgYnV0IGRvZXNuJ3QgbWFrZSBpdCBlYXNpZXIgdG8gcmVhZAogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgYXBwcm92ZWQsIHVpbnQyNTYgaW5kZXhlZCB0b2tlbklkKTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgaW5kZXhlZCB0b2tlbklkKTsKCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgdG90YWwpIHsKICAgICAgICB0b3RhbCA9IGJvb3N0ZXJzLmxlbmd0aDsKICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSl7CiAgICAgICAgYmFsYW5jZSA9IGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgZnVuY3Rpb24gb3duZXJPZih1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgdmlldyByZXR1cm5zIChhZGRyZXNzIG93bmVyKXsKICAgICAgICBvd25lciA9IGJvb3N0ZXJzW190b2tlbklkXS5vd25lcjsKICAgIH0KCiAgICBmdW5jdGlvbiBfdHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIGludGVybmFsIHsKICAgICAgICByZXF1aXJlKGJvb3N0ZXJzW190b2tlbklkXS5vd25lciA9PSBfZnJvbSk7CiAgICAgICAgLy9jYW4gb25seSB0cmFuc2ZlciBpZiBwcmV2aW91cyBvd25lciBlcXVhbHMgZnJvbQogICAgICAgIGJvb3N0ZXJzW190b2tlbklkXS5vd25lciA9IF90bzsKICAgICAgICBhcHByb3ZlZFtfdG9rZW5JZF0gPSBhZGRyZXNzKDApOwogICAgICAgIC8vcmVzZXQgYXBwcm92ZWQgb2YgZmlzaCBvbiBldmVyeSB0cmFuc2ZlcgogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSAxOwogICAgICAgIC8vdW5kZXJmbG93IGNhbiBvbmx5IGhhcHBlbiBvbiAweAogICAgICAgIGJhbGFuY2VzW190b10gKz0gMTsKICAgICAgICAvL292ZXJmbG93cyBvbmx5IHdpdGggdmVyeSB2ZXJ5IGxhcmdlIGFtb3VudHMgb2YgZmlzaAogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF90b2tlbklkKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgcHVibGljCiAgICBvbmx5Qm9vc3Rlck93bmVyKF90b2tlbklkKSAvL2NoZWNrIGlmIG1zZy5zZW5kZXIgaXMgdGhlIG93bmVyIG9mIHRoaXMgZmlzaAogICAgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdG9rZW5JZCk7CiAgICAgICAgLy9hZnRlciBtYXN0ZXIgbW9kaWZpZXIgaW52b2tlIGludGVybmFsIHRyYW5zZmVyCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgcHVibGljCiAgICBvbmx5Qm9vc3Rlck93bmVyKF90b2tlbklkKQogICAgewogICAgICAgIGFwcHJvdmVkW190b2tlbklkXSA9IF90bzsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfdG8sIF90b2tlbklkKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShhcHByb3ZlZFtfdG9rZW5JZF0gPT0gbXNnLnNlbmRlciB8fCBtc2cuc2VuZGVyID09IGZpc2hiYW5rIHx8IG1zZy5zZW5kZXIgPT0gYXVjdGlvbik7CiAgICAgICAgLy9yZXF1aXJlIG1zZy5zZW5kZXIgdG8gYmUgYXBwcm92ZWQgZm9yIHRoaXMgdG9rZW4gb3IgdG8gYmUgdGhlIGZpc2hiYW5rIGNvbnRyYWN0CiAgICAgICAgX3RyYW5zZmVyKF9mcm9tLCBfdG8sIF90b2tlbklkKTsKICAgICAgICAvL2hhbmRsZXMgZXZlbnQsIGJhbGFuY2VzIGFuZCBhcHByb3ZhbCByZXNldAogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICBmdW5jdGlvbiB0YWtlT3duZXJzaGlwKHVpbnQyNTYgX3Rva2VuSWQpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShhcHByb3ZlZFtfdG9rZW5JZF0gPT0gbXNnLnNlbmRlcik7CiAgICAgICAgX3RyYW5zZmVyKG93bmVyT2YoX3Rva2VuSWQpLCBtc2cuc2VuZGVyLCBfdG9rZW5JZCk7CiAgICB9CgoKfQoKCmNvbnRyYWN0IEZpc2hiYW5rQ2hlc3RzIGlzIE93bmFibGUgewoKICAgIHN0cnVjdCBDaGVzdCB7CiAgICAgICAgYWRkcmVzcyBvd25lcjsKICAgICAgICB1aW50MTYgYm9vc3RlcnM7CiAgICAgICAgdWludDE2IGNoZXN0VHlwZTsKICAgICAgICB1aW50MjQgcmFpc2VDaGFuY2U7Ly9JbmNyZWFjZSBjaGFuY2UgdG8gY2F0Y2ggYmlnZ2VyIGNoZXN0ICgxID0gMToxMDAwMCkKICAgICAgICB1aW50OCBvbmx5U3BlY2lmaWNUeXBlOwogICAgICAgIHVpbnQ4IG9ubHlTcGVjaWZpY1N0cmVuZ3RoOwogICAgICAgIHVpbnQyNCByYWlzZVN0cmVuZ3RoOwogICAgfQoKICAgIENoZXN0W10gcHVibGljIGNoZXN0czsKICAgIEZpc2hiYW5rQm9vc3RlcnMgcHVibGljIGJvb3N0ZXJDb250cmFjdDsKICAgIG1hcHBpbmcodWludDI1NiA9PiBhZGRyZXNzKSBwdWJsaWMgYXBwcm92ZWQ7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VzOwogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBtaW50ZXJzOwoKICAgIG1vZGlmaWVyIG9ubHlDaGVzdE93bmVyKHVpbnQyNTYgX3Rva2VuSWQpIHsKICAgICAgICByZXF1aXJlKGNoZXN0c1tfdG9rZW5JZF0ub3duZXIgPT0gbXNnLnNlbmRlcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5TWludGVycygpIHsKICAgICAgICByZXF1aXJlKG1pbnRlcnNbbXNnLnNlbmRlcl0pOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gRmlzaGJhbmtDaGVzdHMoYWRkcmVzcyBfYm9vc3RlckFkZHJlc3MpIHB1YmxpYyB7CiAgICAgICAgYm9vc3RlckNvbnRyYWN0ID0gRmlzaGJhbmtCb29zdGVycyhfYm9vc3RlckFkZHJlc3MpOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZE1pbnRlcihhZGRyZXNzIF9taW50ZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIG1pbnRlcnNbX21pbnRlcl0gPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZU1pbnRlcihhZGRyZXNzIF9taW50ZXIpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIG1pbnRlcnNbX21pbnRlcl0gPSBmYWxzZTsKICAgIH0KCiAgICAvL2NyZWF0ZSBhIGNoZXN0CgogICAgZnVuY3Rpb24gbWludENoZXN0KGFkZHJlc3MgX293bmVyLCB1aW50MTYgX2Jvb3N0ZXJzLCB1aW50MjQgX3JhaXNlU3RyZW5ndGgsIHVpbnQyNCBfcmFpc2VDaGFuY2UsIHVpbnQ4IF9vbmx5U3BlY2lmaWNUeXBlLCB1aW50OCBfb25seVNwZWNpZmljU3RyZW5ndGgpIG9ubHlNaW50ZXJzIHB1YmxpYyB7CgogICAgICAgIGNoZXN0cy5sZW5ndGgrKzsKICAgICAgICBjaGVzdHNbY2hlc3RzLmxlbmd0aCAtIDFdLm93bmVyID0gX293bmVyOwogICAgICAgIGNoZXN0c1tjaGVzdHMubGVuZ3RoIC0gMV0uYm9vc3RlcnMgPSBfYm9vc3RlcnM7CiAgICAgICAgY2hlc3RzW2NoZXN0cy5sZW5ndGggLSAxXS5yYWlzZVN0cmVuZ3RoID0gX3JhaXNlU3RyZW5ndGg7CiAgICAgICAgY2hlc3RzW2NoZXN0cy5sZW5ndGggLSAxXS5yYWlzZUNoYW5jZSA9IF9yYWlzZUNoYW5jZTsKICAgICAgICBjaGVzdHNbY2hlc3RzLmxlbmd0aCAtIDFdLm9ubHlTcGVjaWZpY1R5cGUgPSBfb25seVNwZWNpZmljVHlwZTsKICAgICAgICBjaGVzdHNbY2hlc3RzLmxlbmd0aCAtIDFdLm9ubHlTcGVjaWZpY1N0cmVuZ3RoID0gX29ubHlTcGVjaWZpY1N0cmVuZ3RoOwogICAgICAgIFRyYW5zZmVyKGFkZHJlc3MoMCksIF9vd25lciwgY2hlc3RzLmxlbmd0aCAtIDEpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNvbnZlcnRDaGVzdCh1aW50MjU2IF90b2tlbklkKSBvbmx5Q2hlc3RPd25lcihfdG9rZW5JZCkgcHVibGljIHsKCiAgICAgICAgQ2hlc3QgbWVtb3J5IGNoZXN0ID0gY2hlc3RzW190b2tlbklkXTsKICAgICAgICB1aW50MTYgbnVtYmVyT2ZCb29zdGVycyA9IGNoZXN0LmJvb3N0ZXJzOwoKICAgICAgICBpZiAoY2hlc3Qub25seVNwZWNpZmljVHlwZSAhPSAwKSB7Ly9TcGVjaWZpYyBib29zdGVycwogICAgICAgICAgICBpZiAoY2hlc3Qub25seVNwZWNpZmljVHlwZSA9PSAxIHx8IGNoZXN0Lm9ubHlTcGVjaWZpY1R5cGUgPT0gMykgewogICAgICAgICAgICAgICAgYm9vc3RlckNvbnRyYWN0Lm1pbnRCb29zdGVyKG1zZy5zZW5kZXIsIDIgZGF5cywgY2hlc3Qub25seVNwZWNpZmljVHlwZSwgY2hlc3Qub25seVNwZWNpZmljU3RyZW5ndGgsIGNoZXN0LmJvb3N0ZXJzLCBjaGVzdC5yYWlzZVN0cmVuZ3RoKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChjaGVzdC5vbmx5U3BlY2lmaWNUeXBlID09IDUpIHsvL0luc3RhbnQgYXR0YWNrCiAgICAgICAgICAgICAgICBib29zdGVyQ29udHJhY3QubWludEJvb3N0ZXIobXNnLnNlbmRlciwgMCwgNSwgMSwgY2hlc3QuYm9vc3RlcnMsIGNoZXN0LnJhaXNlU3RyZW5ndGgpOwogICAgICAgICAgICB9IGVsc2UgaWYgKGNoZXN0Lm9ubHlTcGVjaWZpY1R5cGUgPT0gMikgey8vRnJlZXplCiAgICAgICAgICAgICAgICB1aW50MzIgZnJlZXplVGltZSA9IDcgZGF5czsKICAgICAgICAgICAgICAgIGlmIChjaGVzdC5vbmx5U3BlY2lmaWNTdHJlbmd0aCA9PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgZnJlZXplVGltZSA9IDE0IGRheXM7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoZXN0Lm9ubHlTcGVjaWZpY1N0cmVuZ3RoID09IDMpIHsKICAgICAgICAgICAgICAgICAgICBmcmVlemVUaW1lID0gMzAgZGF5czsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJvb3N0ZXJDb250cmFjdC5taW50Qm9vc3Rlcihtc2cuc2VuZGVyLCBmcmVlemVUaW1lLCA1LCBjaGVzdC5vbmx5U3BlY2lmaWNUeXBlLCBjaGVzdC5ib29zdGVycywgY2hlc3QucmFpc2VTdHJlbmd0aCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlc3Qub25seVNwZWNpZmljVHlwZSA9PSA0KSB7Ly9XYXRjaAogICAgICAgICAgICAgICAgdWludDMyIHdhdGNoVGltZSA9IDEyIGhvdXJzOwogICAgICAgICAgICAgICAgaWYgKGNoZXN0Lm9ubHlTcGVjaWZpY1N0cmVuZ3RoID09IDIpIHsKICAgICAgICAgICAgICAgICAgICB3YXRjaFRpbWUgPSA0OCBob3VyczsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlc3Qub25seVNwZWNpZmljU3RyZW5ndGggPT0gMykgewogICAgICAgICAgICAgICAgICAgIHdhdGNoVGltZSA9IDMgZGF5czsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJvb3N0ZXJDb250cmFjdC5taW50Qm9vc3Rlcihtc2cuc2VuZGVyLCB3YXRjaFRpbWUsIDQsIGNoZXN0Lm9ubHlTcGVjaWZpY1N0cmVuZ3RoLCBjaGVzdC5ib29zdGVycywgY2hlc3QucmFpc2VTdHJlbmd0aCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgfSBlbHNlIHsvL1JlZ3VsYXIgY2hlc3QKCiAgICAgICAgICAgIGZvciAodWludDggaSA9IDA7IGkgPCBudW1iZXJPZkJvb3N0ZXJzOyBpICsrKSB7CiAgICAgICAgICAgICAgICB1aW50MjQgcmFuZG9tID0gdWludDE2KGtlY2NhazI1NihibG9jay5jb2luYmFzZSwgYmxvY2suYmxvY2toYXNoKGJsb2NrLm51bWJlciAtIDEpLCBpLCBjaGVzdHMubGVuZ3RoKSkgJSAxMDAwCiAgICAgICAgICAgICAgICAtIGNoZXN0LnJhaXNlQ2hhbmNlOwogICAgICAgICAgICAgICAgLy9nZXQgcmFuZG9tIDAgLSA5OTk5IG1pbnVzIHJhaXNlQ2hhbmNlCgogICAgICAgICAgICAgICAgaWYgKHJhbmRvbSA+IDg1MCkgewogICAgICAgICAgICAgICAgICAgIGJvb3N0ZXJDb250cmFjdC5taW50Qm9vc3Rlcihtc2cuc2VuZGVyLCAyIGRheXMsIDEsIDEsIDEsIGNoZXN0LnJhaXNlU3RyZW5ndGgpOyAvL1NtYWxsIEFnaWxpdHkgQm9vc3RlcgogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyYW5kb20gPiA3MDApIHsKICAgICAgICAgICAgICAgICAgICBib29zdGVyQ29udHJhY3QubWludEJvb3N0ZXIobXNnLnNlbmRlciwgNyBkYXlzLCAyLCAxLCAxLCBjaGVzdC5yYWlzZVN0cmVuZ3RoKTsgLy9TbWFsbCBGcmVlemVyCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJhbmRvbSA+IDU1MCkgewogICAgICAgICAgICAgICAgICAgIGJvb3N0ZXJDb250cmFjdC5taW50Qm9vc3Rlcihtc2cuc2VuZGVyLCAyIGRheXMsIDMsIDEsIDEsIGNoZXN0LnJhaXNlU3RyZW5ndGgpOyAvL1NtYWxsIFBvd2VyIEJvb3N0ZXIKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZG9tID4gNDAwKSB7CiAgICAgICAgICAgICAgICAgICAgYm9vc3RlckNvbnRyYWN0Lm1pbnRCb29zdGVyKG1zZy5zZW5kZXIsIDEyIGhvdXJzLCA0LCAxLCAxLCBjaGVzdC5yYWlzZVN0cmVuZ3RoKTsgLy9UaW55IFdhdGNoCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJhbmRvbSA+IDMyNSkgewogICAgICAgICAgICAgICAgICAgIGJvb3N0ZXJDb250cmFjdC5taW50Qm9vc3Rlcihtc2cuc2VuZGVyLCA0OCBob3VycywgNCwgMiwgMSwgY2hlc3QucmFpc2VTdHJlbmd0aCk7IC8vU21hbGwgV2F0Y2gKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZG9tID4gMjUwKSB7CiAgICAgICAgICAgICAgICAgICAgYm9vc3RlckNvbnRyYWN0Lm1pbnRCb29zdGVyKG1zZy5zZW5kZXIsIDIgZGF5cywgMSwgMiwgMSwgY2hlc3QucmFpc2VTdHJlbmd0aCk7IC8vTWlkIEFnaWxpdHkgQm9vc3RlcgogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyYW5kb20gPiAxNzUpIHsKICAgICAgICAgICAgICAgICAgICBib29zdGVyQ29udHJhY3QubWludEJvb3N0ZXIobXNnLnNlbmRlciwgMTQgZGF5cywgMiwgMiwgMSwgY2hlc3QucmFpc2VTdHJlbmd0aCk7IC8vTWlkIEZyZWV6ZXIKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZG9tID4gMTAwKSB7CiAgICAgICAgICAgICAgICAgICAgYm9vc3RlckNvbnRyYWN0Lm1pbnRCb29zdGVyKG1zZy5zZW5kZXIsIDIgZGF5cywgMywgMiwgMSwgY2hlc3QucmFpc2VTdHJlbmd0aCk7IC8vTWlkIFBvd2VyIEJvb3N0ZXIKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZG9tID4gODApIHsKICAgICAgICAgICAgICAgICAgICBib29zdGVyQ29udHJhY3QubWludEJvb3N0ZXIobXNnLnNlbmRlciwgMiBkYXlzLCAxLCAzLCAxLCBjaGVzdC5yYWlzZVN0cmVuZ3RoKTsgLy9CaWcgQWdpbGl0eSBCb29zdGVyCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJhbmRvbSA+IDYwKSB7CiAgICAgICAgICAgICAgICAgICAgYm9vc3RlckNvbnRyYWN0Lm1pbnRCb29zdGVyKG1zZy5zZW5kZXIsIDMwIGRheXMsIDIsIDMsIDEsIGNoZXN0LnJhaXNlU3RyZW5ndGgpOyAvL0JpZyBGcmVlemVyCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJhbmRvbSA+IDQwKSB7CiAgICAgICAgICAgICAgICAgICAgYm9vc3RlckNvbnRyYWN0Lm1pbnRCb29zdGVyKG1zZy5zZW5kZXIsIDIgZGF5cywgMywgMywgMSwgY2hlc3QucmFpc2VTdHJlbmd0aCk7IC8vQmlnIFBvd2VyIEJvb3N0ZXIKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZG9tID4gMjApIHsKICAgICAgICAgICAgICAgICAgICBib29zdGVyQ29udHJhY3QubWludEJvb3N0ZXIobXNnLnNlbmRlciwgMCwgNSwgMSwgMSwgMCk7IC8vSW5zdGFudCBBdHRhY2sKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgYm9vc3RlckNvbnRyYWN0Lm1pbnRCb29zdGVyKG1zZy5zZW5kZXIsIDMgZGF5cywgNCwgMywgMSwgMCk7IC8vR29sZCBXYXRjaAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgYWRkcmVzcygwKSwgX3Rva2VuSWQpOyAvL2J1cm4gY2hlc3QKICAgIH0KCiAgICAvL0VSQzcyMSBmdW5jdGlvbmFsaXR5CiAgICAvL2NvdWxkIHNwbGl0IHRoaXMgdG8gYSBkaWZmZXJlbnQgY29udHJhY3QgYnV0IGRvZXNuJ3QgbWFrZSBpdCBlYXNpZXIgdG8gcmVhZAogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgYXBwcm92ZWQsIHVpbnQyNTYgaW5kZXhlZCB0b2tlbklkKTsKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgaW5kZXhlZCB0b2tlbklkKTsKCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgdG90YWwpIHsKICAgICAgICB0b3RhbCA9IGNoZXN0cy5sZW5ndGg7CiAgICB9CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpewogICAgICAgIGJhbGFuY2UgPSBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIG93bmVyT2YodWludDI1NiBfdG9rZW5JZCkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcyBvd25lcil7CiAgICAgICAgb3duZXIgPSBjaGVzdHNbX3Rva2VuSWRdLm93bmVyOwogICAgfQoKICAgIGZ1bmN0aW9uIF90cmFuc2ZlcihhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgaW50ZXJuYWwgewogICAgICAgIHJlcXVpcmUoY2hlc3RzW190b2tlbklkXS5vd25lciA9PSBfZnJvbSk7IC8vY2FuIG9ubHkgdHJhbnNmZXIgaWYgcHJldmlvdXMgb3duZXIgZXF1YWxzIGZyb20KICAgICAgICBjaGVzdHNbX3Rva2VuSWRdLm93bmVyID0gX3RvOwogICAgICAgIGFwcHJvdmVkW190b2tlbklkXSA9IGFkZHJlc3MoMCk7IC8vcmVzZXQgYXBwcm92ZWQgb2YgZmlzaCBvbiBldmVyeSB0cmFuc2ZlcgogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSAxOyAvL3VuZGVyZmxvdyBjYW4gb25seSBoYXBwZW4gb24gMHgKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IDE7IC8vb3ZlcmZsb3dzIG9ubHkgd2l0aCB2ZXJ5IHZlcnkgbGFyZ2UgYW1vdW50cyBvZiBmaXNoCiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3Rva2VuSWQpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBwdWJsaWMKICAgIG9ubHlDaGVzdE93bmVyKF90b2tlbklkKSAvL2NoZWNrIGlmIG1zZy5zZW5kZXIgaXMgdGhlIG93bmVyIG9mIHRoaXMgZmlzaAogICAgcmV0dXJucyAoYm9vbCkKICAgIHsKICAgICAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdG9rZW5JZCk7CiAgICAgICAgLy9hZnRlciBtYXN0ZXIgbW9kaWZpZXIgaW52b2tlIGludGVybmFsIHRyYW5zZmVyCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF90bywgdWludDI1NiBfdG9rZW5JZCkgcHVibGljCiAgICBvbmx5Q2hlc3RPd25lcihfdG9rZW5JZCkKICAgIHsKICAgICAgICBhcHByb3ZlZFtfdG9rZW5JZF0gPSBfdG87CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3RvLCBfdG9rZW5JZCk7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUoYXBwcm92ZWRbX3Rva2VuSWRdID09IG1zZy5zZW5kZXIpOwogICAgICAgIC8vcmVxdWlyZSBtc2cuc2VuZGVyIHRvIGJlIGFwcHJvdmVkIGZvciB0aGlzIHRva2VuCiAgICAgICAgX3RyYW5zZmVyKF9mcm9tLCBfdG8sIF90b2tlbklkKTsKICAgICAgICAvL2hhbmRsZXMgZXZlbnQsIGJhbGFuY2VzIGFuZCBhcHByb3ZhbCByZXNldAogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKfQ=='.
	

]
