Class {
	#name : #SRT7Aef44E5e6930F8799559aFB046Ccd8692044f86,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT7Aef44E5e6930F8799559aFB046Ccd8692044f86 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7CgpsaWJyYXJ5IFNldHMgewogICAgLy8gYWRkcmVzcyBzZXQKICAgIHN0cnVjdCBhZGRyZXNzU2V0IHsKICAgICAgICBhZGRyZXNzW10gbWVtYmVyczsKICAgICAgICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIG1lbWJlckV4aXN0czsKICAgICAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIG1lbWJlckluZGV4OwogICAgfQoKICAgIGZ1bmN0aW9uIGluc2VydChhZGRyZXNzU2V0IHN0b3JhZ2Ugc2VsZiwgYWRkcmVzcyBvdGhlcikgewogICAgICAgIGlmICghc2VsZi5tZW1iZXJFeGlzdHNbb3RoZXJdKSB7CiAgICAgICAgICAgIHNlbGYubWVtYmVyRXhpc3RzW290aGVyXSA9IHRydWU7CiAgICAgICAgICAgIHNlbGYubWVtYmVySW5kZXhbb3RoZXJdID0gc2VsZi5tZW1iZXJzLmxlbmd0aDsKICAgICAgICAgICAgc2VsZi5tZW1iZXJzLnB1c2gob3RoZXIpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiByZW1vdmUoYWRkcmVzc1NldCBzdG9yYWdlIHNlbGYsIGFkZHJlc3Mgb3RoZXIpIHsKICAgICAgICBpZiAoc2VsZi5tZW1iZXJFeGlzdHNbb3RoZXJdKSAgewogICAgICAgICAgICBzZWxmLm1lbWJlckV4aXN0c1tvdGhlcl0gPSBmYWxzZTsKICAgICAgICAgICAgdWludCBpbmRleCA9IHNlbGYubWVtYmVySW5kZXhbb3RoZXJdOwogICAgICAgICAgICAvLyBjaGFuZ2UgaW5kZXggb2YgbGFzdCB2YWx1ZSB0byBpbmRleCBvZiBvdGhlciAKICAgICAgICAgICAgc2VsZi5tZW1iZXJJbmRleFtzZWxmLm1lbWJlcnNbc2VsZi5tZW1iZXJzLmxlbmd0aCAtIDFdXSA9IGluZGV4OwogICAgICAgICAgICAvLyBjb3B5IGxhc3QgdmFsdWUgb3ZlciBvdGhlciBhbmQgZGVjcmVtZW50IGxlbmd0aAogICAgICAgICAgICBzZWxmLm1lbWJlcnNbaW5kZXhdID0gc2VsZi5tZW1iZXJzW3NlbGYubWVtYmVycy5sZW5ndGggLSAxXTsKICAgICAgICAgICAgc2VsZi5tZW1iZXJzLmxlbmd0aC0tOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBjb250YWlucyhhZGRyZXNzU2V0IHN0b3JhZ2Ugc2VsZiwgYWRkcmVzcyBvdGhlcikgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzZWxmLm1lbWJlckV4aXN0c1tvdGhlcl07CiAgICB9CgogICAgZnVuY3Rpb24gbGVuZ3RoKGFkZHJlc3NTZXQgc3RvcmFnZSBzZWxmKSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIHNlbGYubWVtYmVycy5sZW5ndGg7CiAgICB9CgoKICAgIC8vIHVpbnQgc2V0CiAgICBzdHJ1Y3QgdWludFNldCB7CiAgICAgICAgdWludFtdIG1lbWJlcnM7CiAgICAgICAgbWFwcGluZyAodWludCA9PiBib29sKSBtZW1iZXJFeGlzdHM7CiAgICAgICAgbWFwcGluZyAodWludCA9PiB1aW50KSBtZW1iZXJJbmRleDsKICAgIH0KCiAgICBmdW5jdGlvbiBpbnNlcnQodWludFNldCBzdG9yYWdlIHNlbGYsIHVpbnQgb3RoZXIpIHsKICAgICAgICBpZiAoIXNlbGYubWVtYmVyRXhpc3RzW290aGVyXSkgewogICAgICAgICAgICBzZWxmLm1lbWJlckV4aXN0c1tvdGhlcl0gPSB0cnVlOwogICAgICAgICAgICBzZWxmLm1lbWJlckluZGV4W290aGVyXSA9IHNlbGYubWVtYmVycy5sZW5ndGg7CiAgICAgICAgICAgIHNlbGYubWVtYmVycy5wdXNoKG90aGVyKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlKHVpbnRTZXQgc3RvcmFnZSBzZWxmLCB1aW50IG90aGVyKSB7CiAgICAgICAgaWYgKHNlbGYubWVtYmVyRXhpc3RzW290aGVyXSkgIHsKICAgICAgICAgICAgc2VsZi5tZW1iZXJFeGlzdHNbb3RoZXJdID0gZmFsc2U7CiAgICAgICAgICAgIHVpbnQgaW5kZXggPSBzZWxmLm1lbWJlckluZGV4W290aGVyXTsKICAgICAgICAgICAgLy8gY2hhbmdlIGluZGV4IG9mIGxhc3QgdmFsdWUgdG8gaW5kZXggb2Ygb3RoZXIgCiAgICAgICAgICAgIHNlbGYubWVtYmVySW5kZXhbc2VsZi5tZW1iZXJzW3NlbGYubWVtYmVycy5sZW5ndGggLSAxXV0gPSBpbmRleDsKICAgICAgICAgICAgLy8gY29weSBsYXN0IHZhbHVlIG92ZXIgb3RoZXIgYW5kIGRlY3JlbWVudCBsZW5ndGgKICAgICAgICAgICAgc2VsZi5tZW1iZXJzW2luZGV4XSA9IHNlbGYubWVtYmVyc1tzZWxmLm1lbWJlcnMubGVuZ3RoIC0gMV07CiAgICAgICAgICAgIHNlbGYubWVtYmVycy5sZW5ndGgtLTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gY29udGFpbnModWludFNldCBzdG9yYWdlIHNlbGYsIHVpbnQgb3RoZXIpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gc2VsZi5tZW1iZXJFeGlzdHNbb3RoZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGxlbmd0aCh1aW50U2V0IHN0b3JhZ2Ugc2VsZikgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBzZWxmLm1lbWJlcnMubGVuZ3RoOwogICAgfQoKCiAgICAvLyB1aW50OCBzZXQKICAgIHN0cnVjdCB1aW50OFNldCB7CiAgICAgICAgdWludDhbXSBtZW1iZXJzOwogICAgICAgIG1hcHBpbmcgKHVpbnQ4ID0+IGJvb2wpIG1lbWJlckV4aXN0czsKICAgICAgICBtYXBwaW5nICh1aW50OCA9PiB1aW50KSBtZW1iZXJJbmRleDsKICAgIH0KCiAgICBmdW5jdGlvbiBpbnNlcnQodWludDhTZXQgc3RvcmFnZSBzZWxmLCB1aW50OCBvdGhlcikgewogICAgICAgIGlmICghc2VsZi5tZW1iZXJFeGlzdHNbb3RoZXJdKSB7CiAgICAgICAgICAgIHNlbGYubWVtYmVyRXhpc3RzW290aGVyXSA9IHRydWU7CiAgICAgICAgICAgIHNlbGYubWVtYmVySW5kZXhbb3RoZXJdID0gc2VsZi5tZW1iZXJzLmxlbmd0aDsKICAgICAgICAgICAgc2VsZi5tZW1iZXJzLnB1c2gob3RoZXIpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiByZW1vdmUodWludDhTZXQgc3RvcmFnZSBzZWxmLCB1aW50OCBvdGhlcikgewogICAgICAgIGlmIChzZWxmLm1lbWJlckV4aXN0c1tvdGhlcl0pICB7CiAgICAgICAgICAgIHNlbGYubWVtYmVyRXhpc3RzW290aGVyXSA9IGZhbHNlOwogICAgICAgICAgICB1aW50IGluZGV4ID0gc2VsZi5tZW1iZXJJbmRleFtvdGhlcl07CiAgICAgICAgICAgIC8vIGNoYW5nZSBpbmRleCBvZiBsYXN0IHZhbHVlIHRvIGluZGV4IG9mIG90aGVyIAogICAgICAgICAgICBzZWxmLm1lbWJlckluZGV4W3NlbGYubWVtYmVyc1tzZWxmLm1lbWJlcnMubGVuZ3RoIC0gMV1dID0gaW5kZXg7CiAgICAgICAgICAgIC8vIGNvcHkgbGFzdCB2YWx1ZSBvdmVyIG90aGVyIGFuZCBkZWNyZW1lbnQgbGVuZ3RoCiAgICAgICAgICAgIHNlbGYubWVtYmVyc1tpbmRleF0gPSBzZWxmLm1lbWJlcnNbc2VsZi5tZW1iZXJzLmxlbmd0aCAtIDFdOwogICAgICAgICAgICBzZWxmLm1lbWJlcnMubGVuZ3RoLS07CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGNvbnRhaW5zKHVpbnQ4U2V0IHN0b3JhZ2Ugc2VsZiwgdWludDggb3RoZXIpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gc2VsZi5tZW1iZXJFeGlzdHNbb3RoZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGxlbmd0aCh1aW50OFNldCBzdG9yYWdlIHNlbGYpIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gc2VsZi5tZW1iZXJzLmxlbmd0aDsKICAgIH0KCgogICAgLy8gaW50IHNldAogICAgc3RydWN0IGludFNldCB7CiAgICAgICAgaW50W10gbWVtYmVyczsKICAgICAgICBtYXBwaW5nIChpbnQgPT4gYm9vbCkgbWVtYmVyRXhpc3RzOwogICAgICAgIG1hcHBpbmcgKGludCA9PiB1aW50KSBtZW1iZXJJbmRleDsKICAgIH0KCiAgICBmdW5jdGlvbiBpbnNlcnQoaW50U2V0IHN0b3JhZ2Ugc2VsZiwgaW50IG90aGVyKSB7CiAgICAgICAgaWYgKCFzZWxmLm1lbWJlckV4aXN0c1tvdGhlcl0pIHsKICAgICAgICAgICAgc2VsZi5tZW1iZXJFeGlzdHNbb3RoZXJdID0gdHJ1ZTsKICAgICAgICAgICAgc2VsZi5tZW1iZXJJbmRleFtvdGhlcl0gPSBzZWxmLm1lbWJlcnMubGVuZ3RoOwogICAgICAgICAgICBzZWxmLm1lbWJlcnMucHVzaChvdGhlcik7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZShpbnRTZXQgc3RvcmFnZSBzZWxmLCBpbnQgb3RoZXIpIHsKICAgICAgICBpZiAoc2VsZi5tZW1iZXJFeGlzdHNbb3RoZXJdKSAgewogICAgICAgICAgICBzZWxmLm1lbWJlckV4aXN0c1tvdGhlcl0gPSBmYWxzZTsKICAgICAgICAgICAgdWludCBpbmRleCA9IHNlbGYubWVtYmVySW5kZXhbb3RoZXJdOwogICAgICAgICAgICAvLyBjaGFuZ2UgaW5kZXggb2YgbGFzdCB2YWx1ZSB0byBpbmRleCBvZiBvdGhlciAKICAgICAgICAgICAgc2VsZi5tZW1iZXJJbmRleFtzZWxmLm1lbWJlcnNbc2VsZi5tZW1iZXJzLmxlbmd0aCAtIDFdXSA9IGluZGV4OwogICAgICAgICAgICAvLyBjb3B5IGxhc3QgdmFsdWUgb3ZlciBvdGhlciBhbmQgZGVjcmVtZW50IGxlbmd0aAogICAgICAgICAgICBzZWxmLm1lbWJlcnNbaW5kZXhdID0gc2VsZi5tZW1iZXJzW3NlbGYubWVtYmVycy5sZW5ndGggLSAxXTsKICAgICAgICAgICAgc2VsZi5tZW1iZXJzLmxlbmd0aC0tOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBjb250YWlucyhpbnRTZXQgc3RvcmFnZSBzZWxmLCBpbnQgb3RoZXIpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gc2VsZi5tZW1iZXJFeGlzdHNbb3RoZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGxlbmd0aChpbnRTZXQgc3RvcmFnZSBzZWxmKSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIHNlbGYubWVtYmVycy5sZW5ndGg7CiAgICB9CgoKICAgIC8vIGludDggc2V0CiAgICBzdHJ1Y3QgaW50OFNldCB7CiAgICAgICAgaW50OFtdIG1lbWJlcnM7CiAgICAgICAgbWFwcGluZyAoaW50OCA9PiBib29sKSBtZW1iZXJFeGlzdHM7CiAgICAgICAgbWFwcGluZyAoaW50OCA9PiB1aW50KSBtZW1iZXJJbmRleDsKICAgIH0KCiAgICBmdW5jdGlvbiBpbnNlcnQoaW50OFNldCBzdG9yYWdlIHNlbGYsIGludDggb3RoZXIpIHsKICAgICAgICBpZiAoIXNlbGYubWVtYmVyRXhpc3RzW290aGVyXSkgewogICAgICAgICAgICBzZWxmLm1lbWJlckV4aXN0c1tvdGhlcl0gPSB0cnVlOwogICAgICAgICAgICBzZWxmLm1lbWJlckluZGV4W290aGVyXSA9IHNlbGYubWVtYmVycy5sZW5ndGg7CiAgICAgICAgICAgIHNlbGYubWVtYmVycy5wdXNoKG90aGVyKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlKGludDhTZXQgc3RvcmFnZSBzZWxmLCBpbnQ4IG90aGVyKSB7CiAgICAgICAgaWYgKHNlbGYubWVtYmVyRXhpc3RzW290aGVyXSkgIHsKICAgICAgICAgICAgc2VsZi5tZW1iZXJFeGlzdHNbb3RoZXJdID0gZmFsc2U7CiAgICAgICAgICAgIHVpbnQgaW5kZXggPSBzZWxmLm1lbWJlckluZGV4W290aGVyXTsKICAgICAgICAgICAgLy8gY2hhbmdlIGluZGV4IG9mIGxhc3QgdmFsdWUgdG8gaW5kZXggb2Ygb3RoZXIgCiAgICAgICAgICAgIHNlbGYubWVtYmVySW5kZXhbc2VsZi5tZW1iZXJzW3NlbGYubWVtYmVycy5sZW5ndGggLSAxXV0gPSBpbmRleDsKICAgICAgICAgICAgLy8gY29weSBsYXN0IHZhbHVlIG92ZXIgb3RoZXIgYW5kIGRlY3JlbWVudCBsZW5ndGgKICAgICAgICAgICAgc2VsZi5tZW1iZXJzW2luZGV4XSA9IHNlbGYubWVtYmVyc1tzZWxmLm1lbWJlcnMubGVuZ3RoIC0gMV07CiAgICAgICAgICAgIHNlbGYubWVtYmVycy5sZW5ndGgtLTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gY29udGFpbnMoaW50OFNldCBzdG9yYWdlIHNlbGYsIGludDggb3RoZXIpIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gc2VsZi5tZW1iZXJFeGlzdHNbb3RoZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGxlbmd0aChpbnQ4U2V0IHN0b3JhZ2Ugc2VsZikgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJldHVybiBzZWxmLm1lbWJlcnMubGVuZ3RoOwogICAgfQoKCiAgICAvLyBieXRlIHNldAogICAgc3RydWN0IGJ5dGVTZXQgewogICAgICAgIGJ5dGVbXSBtZW1iZXJzOwogICAgICAgIG1hcHBpbmcgKGJ5dGUgPT4gYm9vbCkgbWVtYmVyRXhpc3RzOwogICAgICAgIG1hcHBpbmcgKGJ5dGUgPT4gdWludCkgbWVtYmVySW5kZXg7CiAgICB9CgogICAgZnVuY3Rpb24gaW5zZXJ0KGJ5dGVTZXQgc3RvcmFnZSBzZWxmLCBieXRlIG90aGVyKSB7CiAgICAgICAgaWYgKCFzZWxmLm1lbWJlckV4aXN0c1tvdGhlcl0pIHsKICAgICAgICAgICAgc2VsZi5tZW1iZXJFeGlzdHNbb3RoZXJdID0gdHJ1ZTsKICAgICAgICAgICAgc2VsZi5tZW1iZXJJbmRleFtvdGhlcl0gPSBzZWxmLm1lbWJlcnMubGVuZ3RoOwogICAgICAgICAgICBzZWxmLm1lbWJlcnMucHVzaChvdGhlcik7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZShieXRlU2V0IHN0b3JhZ2Ugc2VsZiwgYnl0ZSBvdGhlcikgewogICAgICAgIGlmIChzZWxmLm1lbWJlckV4aXN0c1tvdGhlcl0pICB7CiAgICAgICAgICAgIHNlbGYubWVtYmVyRXhpc3RzW290aGVyXSA9IGZhbHNlOwogICAgICAgICAgICB1aW50IGluZGV4ID0gc2VsZi5tZW1iZXJJbmRleFtvdGhlcl07CiAgICAgICAgICAgIC8vIGNoYW5nZSBpbmRleCBvZiBsYXN0IHZhbHVlIHRvIGluZGV4IG9mIG90aGVyIAogICAgICAgICAgICBzZWxmLm1lbWJlckluZGV4W3NlbGYubWVtYmVyc1tzZWxmLm1lbWJlcnMubGVuZ3RoIC0gMV1dID0gaW5kZXg7CiAgICAgICAgICAgIC8vIGNvcHkgbGFzdCB2YWx1ZSBvdmVyIG90aGVyIGFuZCBkZWNyZW1lbnQgbGVuZ3RoCiAgICAgICAgICAgIHNlbGYubWVtYmVyc1tpbmRleF0gPSBzZWxmLm1lbWJlcnNbc2VsZi5tZW1iZXJzLmxlbmd0aCAtIDFdOwogICAgICAgICAgICBzZWxmLm1lbWJlcnMubGVuZ3RoLS07CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGNvbnRhaW5zKGJ5dGVTZXQgc3RvcmFnZSBzZWxmLCBieXRlIG90aGVyKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHNlbGYubWVtYmVyRXhpc3RzW290aGVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiBsZW5ndGgoYnl0ZVNldCBzdG9yYWdlIHNlbGYpIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gc2VsZi5tZW1iZXJzLmxlbmd0aDsKICAgIH0KCgogICAgLy8gYnl0ZXMzMiBzZXQKICAgIHN0cnVjdCBieXRlczMyU2V0IHsKICAgICAgICBieXRlczMyW10gbWVtYmVyczsKICAgICAgICBtYXBwaW5nIChieXRlczMyID0+IGJvb2wpIG1lbWJlckV4aXN0czsKICAgICAgICBtYXBwaW5nIChieXRlczMyID0+IHVpbnQpIG1lbWJlckluZGV4OwogICAgfQoKICAgIGZ1bmN0aW9uIGluc2VydChieXRlczMyU2V0IHN0b3JhZ2Ugc2VsZiwgYnl0ZXMzMiBvdGhlcikgewogICAgICAgIGlmICghc2VsZi5tZW1iZXJFeGlzdHNbb3RoZXJdKSB7CiAgICAgICAgICAgIHNlbGYubWVtYmVyRXhpc3RzW290aGVyXSA9IHRydWU7CiAgICAgICAgICAgIHNlbGYubWVtYmVySW5kZXhbb3RoZXJdID0gc2VsZi5tZW1iZXJzLmxlbmd0aDsKICAgICAgICAgICAgc2VsZi5tZW1iZXJzLnB1c2gob3RoZXIpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiByZW1vdmUoYnl0ZXMzMlNldCBzdG9yYWdlIHNlbGYsIGJ5dGVzMzIgb3RoZXIpIHsKICAgICAgICBpZiAoc2VsZi5tZW1iZXJFeGlzdHNbb3RoZXJdKSAgewogICAgICAgICAgICBzZWxmLm1lbWJlckV4aXN0c1tvdGhlcl0gPSBmYWxzZTsKICAgICAgICAgICAgdWludCBpbmRleCA9IHNlbGYubWVtYmVySW5kZXhbb3RoZXJdOwogICAgICAgICAgICAvLyBjaGFuZ2UgaW5kZXggb2YgbGFzdCB2YWx1ZSB0byBpbmRleCBvZiBvdGhlciAKICAgICAgICAgICAgc2VsZi5tZW1iZXJJbmRleFtzZWxmLm1lbWJlcnNbc2VsZi5tZW1iZXJzLmxlbmd0aCAtIDFdXSA9IGluZGV4OwogICAgICAgICAgICAvLyBjb3B5IGxhc3QgdmFsdWUgb3ZlciBvdGhlciBhbmQgZGVjcmVtZW50IGxlbmd0aAogICAgICAgICAgICBzZWxmLm1lbWJlcnNbaW5kZXhdID0gc2VsZi5tZW1iZXJzW3NlbGYubWVtYmVycy5sZW5ndGggLSAxXTsKICAgICAgICAgICAgc2VsZi5tZW1iZXJzLmxlbmd0aC0tOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBjb250YWlucyhieXRlczMyU2V0IHN0b3JhZ2Ugc2VsZiwgYnl0ZXMzMiBvdGhlcikgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzZWxmLm1lbWJlckV4aXN0c1tvdGhlcl07CiAgICB9CgogICAgZnVuY3Rpb24gbGVuZ3RoKGJ5dGVzMzJTZXQgc3RvcmFnZSBzZWxmKSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIHNlbGYubWVtYmVycy5sZW5ndGg7CiAgICB9Cn0KCmNvbnRyYWN0IFByb3ZlciB7CiAgICAvLyBhdHRhY2ggbGlicmFyeQogICAgdXNpbmcgU2V0cyBmb3IgKjsKCgogICAgLy8gc3RvcmFnZSB2YXJzCiAgICBhZGRyZXNzIG93bmVyOwogICAgU2V0cy5hZGRyZXNzU2V0IGludGVybmFsIHVzZXJzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBVc2VyQWNjb3VudCkgaW50ZXJuYWwgbGVkZ2VyOwogICAgCiAgICAKICAgIC8vIHN0cnVjdHMKICAgIHN0cnVjdCBVc2VyQWNjb3VudCB7CiAgICAgICAgU2V0cy5ieXRlczMyU2V0IGhhc2hlczsKICAgICAgICBtYXBwaW5nIChieXRlczMyID0+IEVudHJ5KSBlbnRyaWVzOwogICAgfQoKICAgIHN0cnVjdCBFbnRyeSB7CiAgICAgICAgdWludDI1NiB0aW1lOwogICAgICAgIHVpbnQyNTYgdmFsdWU7CiAgICB9CgoKICAgIC8vIGNvbnN0cnVjdG9yCiAgICBmdW5jdGlvbiBQcm92ZXIoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQogICAgCiAgICAKICAgIC8vIGZhbGxiYWNrOiB1bm1hdGNoZWQgdHJhbnNhY3Rpb25zIHdpbGwgYmUgcmV0dXJuZWQKICAgIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXZlcnQoKTsKICAgIH0KCgogICAgLy8gbW9kaWZpZXIgdG8gY2hlY2sgaWYgc2VuZGVyIGhhcyBhbiBhY2NvdW50CiAgICBtb2RpZmllciBoYXNBY2NvdW50KCkgewogICAgICAgIGFzc2VydChsZWRnZXJbbXNnLnNlbmRlcl0uaGFzaGVzLmxlbmd0aCgpID49IDEpOwogICAgICAgIF87CiAgICB9CgoKICAgIC8vIGV4dGVybmFsIGZ1bmN0aW9ucwogICAgLy8gcHJvdmluZwogICAgZnVuY3Rpb24gcHJvdmVJdChhZGRyZXNzIHRhcmdldCwgYnl0ZXMzMiBkYXRhSGFzaCkgZXh0ZXJuYWwgY29uc3RhbnQKICAgICAgICByZXR1cm5zIChib29sIHByb3ZlZCwgdWludDI1NiB0aW1lLCB1aW50MjU2IHZhbHVlKQogICAgewogICAgICAgIHJldHVybiBzdGF0dXModGFyZ2V0LCBkYXRhSGFzaCk7CiAgICB9CgogICAgZnVuY3Rpb24gcHJvdmVJdChhZGRyZXNzIHRhcmdldCwgc3RyaW5nIGRhdGFTdHJpbmcpIGV4dGVybmFsIGNvbnN0YW50CiAgICAgICAgcmV0dXJucyAoYm9vbCBwcm92ZWQsIHVpbnQyNTYgdGltZSwgdWludDI1NiB2YWx1ZSkKICAgIHsKICAgICAgICByZXR1cm4gc3RhdHVzKHRhcmdldCwgc2hhMyhkYXRhU3RyaW5nKSk7CiAgICB9CiAgICAKICAgIC8vIGFsbG93IGFjY2VzcyB0byBvdXIgc3RydWN0cyB2aWEgZnVuY3Rpb25zIHdpdGggY29udmVuaWVudCByZXR1cm4gdmFsdWVzCiAgICBmdW5jdGlvbiB1c2Vyc0dldHRlcigpIHB1YmxpYyBjb25zdGFudAogICAgICAgIHJldHVybnMgKHVpbnQyNTYgbnVtYmVyX3VuaXF1ZV9hZGRyZXNzZXMsIGFkZHJlc3NbXSB1bmlxdWVfYWRkcmVzc2VzKQogICAgewogICAgICAgIHJldHVybiAodXNlcnMubGVuZ3RoKCksIHVzZXJzLm1lbWJlcnMpOwogICAgfQoKICAgIGZ1bmN0aW9uIHVzZXJFbnRyaWVzKGFkZHJlc3MgdGFyZ2V0KSBleHRlcm5hbCBjb25zdGFudCByZXR1cm5zIChieXRlczMyW10pIHsKICAgICAgICByZXR1cm4gbGVkZ2VyW3RhcmdldF0uaGFzaGVzLm1lbWJlcnM7CiAgICB9CiAgICAKICAgIAogICAgLy8gcHVibGljIGZ1bmN0aW9ucwogICAgLy8gYWRkaW5nIGVudHJpZXMKICAgIGZ1bmN0aW9uIGFkZEVudHJ5KGJ5dGVzMzIgZGF0YUhhc2gpIHBheWFibGUgewogICAgICAgIF9hZGRFbnRyeShkYXRhSGFzaCk7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkRW50cnkoc3RyaW5nIGRhdGFTdHJpbmcpIHBheWFibGUgewogICAgICAgIF9hZGRFbnRyeShzaGEzKGRhdGFTdHJpbmcpKTsKICAgIH0KCiAgICAvLyBkZWxldGluZyBlbnRyaWVzCiAgICBmdW5jdGlvbiBkZWxldGVFbnRyeShieXRlczMyIGRhdGFIYXNoKSBoYXNBY2NvdW50IHsKICAgICAgICBfZGVsZXRlRW50cnkoZGF0YUhhc2gpOwogICAgfQoKICAgIGZ1bmN0aW9uIGRlbGV0ZUVudHJ5KHN0cmluZyBkYXRhU3RyaW5nKSBoYXNBY2NvdW50IHsKICAgICAgICBfZGVsZXRlRW50cnkoc2hhMyhkYXRhU3RyaW5nKSk7CiAgICB9CiAgICAKICAgIC8vIGFsbG93IG93bmVyIHRvIGRlbGV0ZSBjb250cmFjdCBpZiBubyBhY2NvdW50cyBleGlzdAogICAgZnVuY3Rpb24gc2VsZkRlc3RydWN0KCkgewogICAgICAgIGlmICgobXNnLnNlbmRlciA9PSBvd25lcikgJiYgKHVzZXJzLmxlbmd0aCgpID09IDApKSB7CiAgICAgICAgICAgIHNlbGZkZXN0cnVjdChvd25lcik7CiAgICAgICAgfQogICAgfQoKCiAgICAvLyBpbnRlcm5hbCBmdW5jdGlvbnMKICAgIGZ1bmN0aW9uIF9hZGRFbnRyeShieXRlczMyIGRhdGFIYXNoKSBpbnRlcm5hbCB7CiAgICAgICAgLy8gZW5zdXJlIHRoZSBlbnRyeSBkb2Vzbid0IGV4aXN0CiAgICAgICAgYXNzZXJ0KCFsZWRnZXJbbXNnLnNlbmRlcl0uaGFzaGVzLmNvbnRhaW5zKGRhdGFIYXNoKSk7CiAgICAgICAgLy8gdXBkYXRlIFVzZXJBY2NvdW50IChoYXNoZXMgdGhlbiBlbnRyaWVzKQogICAgICAgIGxlZGdlclttc2cuc2VuZGVyXS5oYXNoZXMuaW5zZXJ0KGRhdGFIYXNoKTsKICAgICAgICBsZWRnZXJbbXNnLnNlbmRlcl0uZW50cmllc1tkYXRhSGFzaF0gPSBFbnRyeShub3csIG1zZy52YWx1ZSk7CiAgICAgICAgLy8gYWRkIHNlbmRlciB0byB1c2VybGlzdAogICAgICAgIHVzZXJzLmluc2VydChtc2cuc2VuZGVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZGVsZXRlRW50cnkoYnl0ZXMzMiBkYXRhSGFzaCkgaW50ZXJuYWwgewogICAgICAgIC8vIGVuc3VyZSB0aGUgZW50cnkgZG9lcyBleGlzdAogICAgICAgIGFzc2VydChsZWRnZXJbbXNnLnNlbmRlcl0uaGFzaGVzLmNvbnRhaW5zKGRhdGFIYXNoKSk7CiAgICAgICAgdWludDI1NiByZWJhdGUgPSBsZWRnZXJbbXNnLnNlbmRlcl0uZW50cmllc1tkYXRhSGFzaF0udmFsdWU7CiAgICAgICAgLy8gdXBkYXRlIFVzZXJBY2NvdW50IChoYXNoZXMgdGhlbiBlbnRyaWVzKQogICAgICAgIGxlZGdlclttc2cuc2VuZGVyXS5oYXNoZXMucmVtb3ZlKGRhdGFIYXNoKTsKICAgICAgICBkZWxldGUgbGVkZ2VyW21zZy5zZW5kZXJdLmVudHJpZXNbZGF0YUhhc2hdOwogICAgICAgIC8vIHNlbmQgdGhlIHJlYmF0ZQogICAgICAgIGlmIChyZWJhdGUgPiAwKSB7CiAgICAgICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIocmViYXRlKTsKICAgICAgICB9CiAgICAgICAgLy8gZGVsZXRlIGZyb20gdXNlcmxpc3QgaWYgdGhpcyB3YXMgdGhlIHVzZXIncyBsYXN0IGVudHJ5CiAgICAgICAgaWYgKGxlZGdlclttc2cuc2VuZGVyXS5oYXNoZXMubGVuZ3RoKCkgPT0gMCkgewogICAgICAgICAgICB1c2Vycy5yZW1vdmUobXNnLnNlbmRlcik7CiAgICAgICAgfQogICAgfQoKICAgIC8vIHJldHVybiBzdGF0dXMgb2YgYXJiaXRyYXJ5IGFkZHJlc3MgYW5kIGRhdGFIYXNoCiAgICBmdW5jdGlvbiBzdGF0dXMoYWRkcmVzcyB0YXJnZXQsIGJ5dGVzMzIgZGF0YUhhc2gpIGludGVybmFsIGNvbnN0YW50CiAgICAgICAgcmV0dXJucyAoYm9vbCBwcm92ZWQsIHVpbnQyNTYgdGltZSwgdWludDI1NiB2YWx1ZSkKICAgIHsKICAgICAgICByZXR1cm4gKGxlZGdlclttc2cuc2VuZGVyXS5oYXNoZXMuY29udGFpbnMoZGF0YUhhc2gpLAogICAgICAgICAgICAgICAgbGVkZ2VyW3RhcmdldF0uZW50cmllc1tkYXRhSGFzaF0udGltZSwKICAgICAgICAgICAgICAgIGxlZGdlclt0YXJnZXRdLmVudHJpZXNbZGF0YUhhc2hdLnZhbHVlKTsKICAgIH0KfQ=='.
	

]
