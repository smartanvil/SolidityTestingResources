Class {
	#name : #SRT48523d4c738591c3ae8bcfc3c5171991a15ad301,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT48523d4c738591c3ae8bcfc3c5171991a15ad301 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMDsKCmludGVyZmFjZSB0b2tlblJlY2lwaWVudCB7IGZ1bmN0aW9uIHJlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW4sIGJ5dGVzIF9leHRyYURhdGEpIHB1YmxpYzsgfQoKY29udHJhY3QgTXlGaXJzdEV0aGVyZXVtVG9rZW4gewogICAgLy8gVGhlIGtleXdvcmQgInB1YmxpYyIgbWFrZXMgdGhvc2UgdmFyaWFibGVzCiAgICAvLyByZWFkYWJsZSBmcm9tIG91dHNpZGUuCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCS8vIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuCiAgICBzdHJpbmcgcHVibGljIG5hbWUgPSAiTXlGaXJzdEV0aGVyZXVtVG9rZW4iOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiTUZFVCI7CiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHMgPSAxODsJLy8gMTggZGVjaW1hbHMgaXMgdGhlIHN0cm9uZ2x5IHN1Z2dlc3RlZCBkZWZhdWx0LCBhdm9pZCBjaGFuZ2luZyBpdAogCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsgCgl1aW50MjU2IHB1YmxpYyB0b3RhbEV4dHJhVG9rZW5zID0gMDsKCXVpbnQyNTYgcHVibGljIHRvdGFsQ29udHJpYnV0ZWQgPSAwOwoJCglib29sIHB1YmxpYyBvblNhbGUgPSBmYWxzZTsKCgkvKiBUaGlzIGNyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgYmFsYW5jZXMgKi8KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VzOwoJbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dhbmNlOwoKICAgIC8vIEV2ZW50cyBhbGxvdyBsaWdodCBjbGllbnRzIHRvIHJlYWN0IG9uCiAgICAvLyBjaGFuZ2VzIGVmZmljaWVudGx5LgogICAgZXZlbnQgU2VudChhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgYW1vdW50KTsKCS8vIFRoaXMgZ2VuZXJhdGVzIGEgcHVibGljIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgY2xpZW50cwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7CiAgICAvLyBUaGlzIG5vdGlmaWVzIGNsaWVudHMgYWJvdXQgdGhlIGFtb3VudCBidXJudAogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludDI1NiB2YWx1ZSk7CQoJZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIHRva2VuT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50IHRva2Vucyk7CgoJZnVuY3Rpb24gbmFtZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChzdHJpbmcpIHsgcmV0dXJuIG5hbWU7IH0KICAgIGZ1bmN0aW9uIHN5bWJvbCgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zIChzdHJpbmcpIHsgcmV0dXJuIHN5bWJvbDsgfQogICAgZnVuY3Rpb24gZGVjaW1hbHMoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDgpIHsgcmV0dXJuIGRlY2ltYWxzOyB9CglmdW5jdGlvbiB0b3RhbFN1cHBseSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7IHJldHVybiB0b3RhbFN1cHBseTsgfQoJZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgeyByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsgfQoJCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yIGZ1bmN0aW9uCiAgICAgKgogICAgICogSW5pdGlhbGl6ZXMgY29udHJhY3Qgd2l0aCBpbml0aWFsIHN1cHBseSB0b2tlbnMgdG8gdGhlIGNyZWF0b3Igb2YgdGhlIGNvbnRyYWN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIE15Rmlyc3RFdGhlcmV1bVRva2VuKHVpbnQyNTYgaW5pdGlhbFN1cHBseSkgcHVibGljIHBheWFibGUKCXsKCQlvd25lciA9IG1zZy5zZW5kZXI7CgkJCgkJLy8gVXBkYXRlIHRvdGFsIHN1cHBseSB3aXRoIHRoZSBkZWNpbWFsIGFtb3VudAogICAgICAgIHRvdGFsU3VwcGx5ID0gaW5pdGlhbFN1cHBseSAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpOyAgLy8gVXBkYXRlIHRvdGFsIHN1cHBseSB3aXRoIHRoZSBkZWNpbWFsIGFtb3VudAoJCS8vdG90YWxTdXBwbHkgPSBpbml0aWFsU3VwcGx5OyAgCgkJLy8gR2l2ZSB0aGUgY3JlYXRvciBhbGwgaW5pdGlhbCB0b2tlbnMKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHRvdGFsU3VwcGx5OyAKCQkvLyBHaXZlIHRoZSBjcmVhdG9yIGFsbCBpbml0aWFsIHRva2VucwkJCiAgICAgICAgLy9iYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPSBpbml0aWFsU3VwcGx5OyAgCiAgICB9CgogICAgLyoqCiAgICAgKiBUcmFuc2ZlciB0b2tlbnMKICAgICAqCiAgICAgKiBTZW5kIGBfdmFsdWVgIHRva2VucyB0byBgX3RvYCBmcm9tIHlvdXIgYWNjb3VudAogICAgICoKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IHRvIHNlbmQKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQoJewogICAgICAgIHJldHVybiBfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgfQoJCiAgICAvKioKICAgICAqIEludGVybmFsIHRyYW5zZmVyLCBvbmx5IGNhbiBiZSBjYWxsZWQgYnkgdGhpcyBjb250cmFjdAogICAgICovCiAgICBmdW5jdGlvbiBfdHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBpbnRlcm5hbCByZXR1cm5zIChib29sIHN1Y2Nlc3MpCgl7CgkJLy8gbWl0aWdhdGVzIHRoZSBFUkMyMCBzaG9ydCBhZGRyZXNzIGF0dGFjawoJCS8vcmVxdWlyZShtc2cuZGF0YS5sZW5ndGggPj0gKDIgKiAzMikgKyA0KTsKCQkvLyBjaGVja3MgZm9yIG1pbmltdW0gdHJhbnNmZXIgYW1vdW50CgkJcmVxdWlyZShfdmFsdWUgPiAwKTsKCQkvLyBQcmV2ZW50IHRyYW5zZmVyIHRvIDB4MCBhZGRyZXNzLiBVc2UgYnVybigpIGluc3RlYWQgIAogICAgICAgIHJlcXVpcmUoX3RvICE9IDB4MCk7CSAgICAgIAoJCS8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSk7CQoJCS8vIENoZWNrIGZvciBvdmVyZmxvd3MKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKTsJLy8gQ2hlY2sgZm9yIG92ZXJmbG93cwogICAgICAgIC8vIFNhdmUgdGhpcyBmb3IgYW4gYXNzZXJ0aW9uIGluIHRoZSBmdXR1cmUKICAgICAgICB1aW50IHByZXZpb3VzQmFsYW5jZXMgPSBiYWxhbmNlc1tfZnJvbV0gKyBiYWxhbmNlc1tfdG9dOwogICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHNlbmRlcgogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgLy8gQWRkIHRoZSBzYW1lIHRvIHRoZSByZWNpcGllbnQKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKCQkvLyBDYWxsIGZvciBFdmVudAogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgLy8gQXNzZXJ0cyBhcmUgdXNlZCB0byB1c2Ugc3RhdGljIGFuYWx5c2lzIHRvIGZpbmQgYnVncyBpbiB5b3VyIGNvZGUuIFRoZXkgc2hvdWxkIG5ldmVyIGZhaWwKICAgICAgICBhc3NlcnQoYmFsYW5jZXNbX2Zyb21dICsgYmFsYW5jZXNbX3RvXSA9PSBwcmV2aW91c0JhbGFuY2VzKTsKCQkKCQlyZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNlbmQgdG9rZW5zCiAgICAgKgogICAgICogU2VuZCBgX3ZhbHVlYCB0b2tlbnMgdG8gYF90b2AgZnJvbSB5b3VyIGFjY291bnQKICAgICAqCiAgICAgKiBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIGFtb3VudCB0byBzZW5kCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNlbmQoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgCgl7CiAgICAgICAgX3NlbmQoX3RvLCBfdmFsdWUpOwogICAgfQoJCiAgICAvKioKICAgICAqIEludGVybmFsIHNlbmQsIG9ubHkgY2FuIGJlIGNhbGxlZCBieSB0aGlzIGNvbnRyYWN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIF9zZW5kKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgCgl7CQoJCWFkZHJlc3MgX2Zyb20gPSBtc2cuc2VuZGVyOwoJCQoJCS8vIG1pdGlnYXRlcyB0aGUgRVJDMjAgc2hvcnQgYWRkcmVzcyBhdHRhY2sKCQkvL3JlcXVpcmUobXNnLmRhdGEubGVuZ3RoID49ICgyICogMzIpICsgNCk7CgkJLy8gY2hlY2tzIGZvciBtaW5pbXVtIHRyYW5zZmVyIGFtb3VudAoJCXJlcXVpcmUoX3ZhbHVlID4gMCk7CgkJLy8gUHJldmVudCB0cmFuc2ZlciB0byAweDAgYWRkcmVzcy4gVXNlIGJ1cm4oKSBpbnN0ZWFkICAKICAgICAgICByZXF1aXJlKF90byAhPSAweDApOwkgICAgICAKCQkvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUpOwkKCQkvLyBDaGVjayBmb3Igb3ZlcmZsb3dzCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSk7CS8vIENoZWNrIGZvciBvdmVyZmxvd3MKICAgICAgICAvLyBTYXZlIHRoaXMgZm9yIGFuIGFzc2VydGlvbiBpbiB0aGUgZnV0dXJlCiAgICAgICAgdWludCBwcmV2aW91c0JhbGFuY2VzID0gYmFsYW5jZXNbX2Zyb21dICsgYmFsYW5jZXNbX3RvXTsKICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgIC8vIEFkZCB0aGUgc2FtZSB0byB0aGUgcmVjaXBpZW50CiAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CgkJLy8gQ2FsbCBmb3IgRXZlbnQKICAgICAgICBTZW50KF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgLy8gQXNzZXJ0cyBhcmUgdXNlZCB0byB1c2Ugc3RhdGljIGFuYWx5c2lzIHRvIGZpbmQgYnVncyBpbiB5b3VyIGNvZGUuIFRoZXkgc2hvdWxkIG5ldmVyIGZhaWwKICAgICAgICBhc3NlcnQoYmFsYW5jZXNbX2Zyb21dICsgYmFsYW5jZXNbX3RvXSA9PSBwcmV2aW91c0JhbGFuY2VzKTsKICAgIH0KCiAgIC8qKgogICAgICogVHJhbnNmZXIgdG9rZW5zIGZyb20gb3RoZXIgYWRkcmVzcwogICAgICoKICAgICAqIFNlbmQgYF92YWx1ZWAgdG9rZW5zIHRvIGBfdG9gIG9uIGJlaGFsZiBvZiBgX2Zyb21gCiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgICogQHBhcmFtIF92YWx1ZSB0aGUgYW1vdW50IHRvIHNlbmQKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgCgl7CiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSk7ICAgICAvLyBDaGVjayBhbGxvd2FuY2UKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICBfdHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBhbGxvd2FuY2UgZm9yIG90aGVyIGFkZHJlc3MKICAgICAqCiAgICAgKiBBbGxvd3MgYF9zcGVuZGVyYCB0byBzcGVuZCBubyBtb3JlIHRoYW4gYF92YWx1ZWAgdG9rZW5zIG9uIHlvdXIgYmVoYWxmCiAgICAgKgogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIGF1dGhvcml6ZWQgdG8gc3BlbmQKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIG1heCBhbW91bnQgdGhleSBjYW4gc3BlbmQKICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgCgl7CiAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBhbGxvd2FuY2UgZm9yIG90aGVyIGFkZHJlc3MgYW5kIG5vdGlmeQogICAgICoKICAgICAqIEFsbG93cyBgX3NwZW5kZXJgIHRvIHNwZW5kIG5vIG1vcmUgdGhhbiBgX3ZhbHVlYCB0b2tlbnMgb24geW91ciBiZWhhbGYsIGFuZCB0aGVuIHBpbmcgdGhlIGNvbnRyYWN0IGFib3V0IGl0CiAgICAgKgogICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIGF1dGhvcml6ZWQgdG8gc3BlbmQKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIG1heCBhbW91bnQgdGhleSBjYW4gc3BlbmQKICAgICAqIEBwYXJhbSBfZXh0cmFEYXRhIHNvbWUgZXh0cmEgaW5mb3JtYXRpb24gdG8gc2VuZCB0byB0aGUgYXBwcm92ZWQgY29udHJhY3QKICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9leHRyYURhdGEpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIAoJewogICAgICAgIHRva2VuUmVjaXBpZW50IHNwZW5kZXIgPSB0b2tlblJlY2lwaWVudChfc3BlbmRlcik7CgkJCiAgICAgICAgaWYgKGFwcHJvdmUoX3NwZW5kZXIsIF92YWx1ZSkpIHsKICAgICAgICAgICAgc3BlbmRlci5yZWNlaXZlQXBwcm92YWwobXNnLnNlbmRlciwgX3ZhbHVlLCB0aGlzLCBfZXh0cmFEYXRhKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgfQoJCgkvKioKICAgICAqIENyZWF0ZSB0b2tlbnMKICAgICAqCiAgICAgKiBDcmVhdGUgYF9hbW91bnRgIHRva2VucyB0byBgb3duZXJgIGFjY291bnQKICAgICAqCiAgICAgKiBAcGFyYW0gX2Ftb3VudCB0aGUgYW1vdW50IHRvIGNyZWF0ZQogICAgICovCQogICAgZnVuY3Rpb24gY3JlYXRlVG9rZW5zKHVpbnQyNTYgX2Ftb3VudCkgcHVibGljCgl7CgkgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICAvL2lmIChtc2cuc2VuZGVyICE9IG93bmVyKSByZXR1cm47CiAgICAgICAgCiAgICAgICAgYmFsYW5jZXNbb3duZXJdICs9IF9hbW91bnQ7IAogICAgICAgIHRvdGFsU3VwcGx5ICs9IF9hbW91bnQ7CgkJCiAgICAgICAgVHJhbnNmZXIoMCwgb3duZXIsIF9hbW91bnQpOwogICAgfQoKCS8qKgogICAgICogV2l0aGRyYXcgZnVuZHMKICAgICAqCiAgICAgKiBUcmFuc2ZlcnMgdGhlIHRvdGFsIGFtb3VudCBvZiBmdW5kcyB0byBvd253ZXIgYWNjb3VudCBtaW51cyBnYXMgZmVlCiAgICAgKgogICAgICovCQogICAgZnVuY3Rpb24gc2FmZVdpdGhkcmF3QWxsKCkgcHVibGljIHJldHVybnMgKGJvb2wpCgl7CgkgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKCQkKCQl1aW50MjU2IF9nYXNQcmljZSA9IDMwMDAwMDAwMDAwOwoJCQoJCXJlcXVpcmUodGhpcy5iYWxhbmNlID4gX2dhc1ByaWNlKTsKCQkKCQl1aW50MjU2IF90b3RhbEFtb3VudCA9IHRoaXMuYmFsYW5jZSAtIF9nYXNQcmljZTsKCQkKCQlvd25lci50cmFuc2ZlcihfdG90YWxBbW91bnQpOwoJCQoJCXJldHVybiB0cnVlOwogICAgfQoJCgkvKioKICAgICAqIFdpdGhkcmF3IGZ1bmRzCiAgICAgKgogICAgICogQ3JlYXRlIGBfYW1vdW50YCB0b2tlbnMgdG8gYG93bmVyYCBhY2NvdW50CiAgICAgKgogICAgICogQHBhcmFtIF9hbW91bnQgdGhlIGFtb3VudCB0byBjcmVhdGUKICAgICAqLwkKICAgIGZ1bmN0aW9uIHNhZmVXaXRoZHJhdyh1aW50MjU2IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sKQoJewoJICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CgkJCgkJdWludDI1NiBfZ2FzUHJpY2UgPSAzMDAwMDAwMDAwMDsKCQkKCQlyZXF1aXJlKF9hbW91bnQgPiAwKTsKCQkKCQl1aW50MjU2IHRvdGFsQW1vdW50ID0gX2Ftb3VudCArIF9nYXNQcmljZTsgCgkJCgkJcmVxdWlyZSh0aGlzLmJhbGFuY2UgPj0gdG90YWxBbW91bnQpOwoJCQoJCW93bmVyLnRyYW5zZmVyKHRvdGFsQW1vdW50KTsKCQkKCQlyZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAoJZnVuY3Rpb24gZ2V0QmFsYW5jZUNvbnRyYWN0KCkgcHVibGljIGNvbnN0YW50IHJldHVybnModWludCkKCXsKCQlyZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwoJCQogICAgICAgIHJldHVybiB0aGlzLmJhbGFuY2U7CiAgICB9CgkKCS8qKgogICAgICogRGVzdHJveSB0b2tlbnMKICAgICAqCiAgICAgKiBSZW1vdmUgYF92YWx1ZWAgdG9rZW5zIGZyb20gdGhlIHN5c3RlbSBpcnJldmVyc2libHkKICAgICAqCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHRoZSBhbW91bnQgb2YgbW9uZXkgdG8gYnVybgogICAgICovCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUpOyAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaAogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsgICAgICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIKICAgICAgICB0b3RhbFN1cHBseSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZXMgdG90YWxTdXBwbHkKICAgICAgICBCdXJuKG1zZy5zZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBEZXN0cm95IHRva2VucyBmcm9tIG90aGVyIGFjY291bnQKICAgICAqCiAgICAgKiBSZW1vdmUgYF92YWx1ZWAgdG9rZW5zIGZyb20gdGhlIHN5c3RlbSBpcnJldmVyc2libHkgb24gYmVoYWxmIG9mIGBfZnJvbWAuCiAgICAgKgogICAgICogQHBhcmFtIF9mcm9tIHRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAgICAqIEBwYXJhbSBfdmFsdWUgdGhlIGFtb3VudCBvZiBtb25leSB0byBidXJuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJ1cm5Gcm9tKGFkZHJlc3MgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlKTsgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRhcmdldGVkIGJhbGFuY2UgaXMgZW5vdWdoCiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSk7ICAgIC8vIENoZWNrIGFsbG93YW5jZQogICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7ICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGZyb20gdGhlIHRhcmdldGVkIGJhbGFuY2UKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsgICAgICAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyJ3MgYWxsb3dhbmNlCiAgICAgICAgdG90YWxTdXBwbHkgLT0gX3ZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0b3RhbFN1cHBseQogICAgICAgIEJ1cm4oX2Zyb20sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgkKCS8vIEEgZnVuY3Rpb24gdG8gYnV5IHRva2VucyBhY2Nlc2libGUgYnkgYW55IGFkZHJlc3MKCS8vIFRoZSBwYXlhYmxlIGtleXdvcmQgYWxsb3dzIHRoZSBjb250cmFjdCB0byBhY2NlcHQgZXRoZXJzCgkvLyBmcm9tIHRoZSB0cmFuc2FjdG9yLiBUaGUgZXRoZXJzIHRvIGJlIGRlcG9zaXRlZCBpcyBlbnRlcmVkIGFzIG1zZy52YWx1ZQoJLy8gKHdoaWNoIHdpbGwgZ2V0IGNsZWFyZXIgd2hlbiB3ZSB3aWxsIGNhbGwgdGhlIGZ1bmN0aW9ucyBpbiBicm93c2VyLXNvbGlkaXR5KQoJLy8gYW5kIHRoZSBjb3JyZXNwb25kaW5nIHRva2VucyBhcmUgc3RvcmVkIGluIGJhbGFuY2VbbXNnLnNlbmRlcl0gbWFwcGluZy4KCS8vIHVuZGVyZmxvd3MgYW5kIG92ZXJmbG93cyBhcmUgc2VjdXJpdHkgY29uc2lkZXJhdGlvbiB3aGljaCBhcmUKCS8vIG5vdCBjaGVja2VkIGluIHRoZSBwcm9jZXNzLiBCdXQgbGV0cyBub3Qgd29ycnkgYWJvdXQgdGhlbSBmb3Igbm93LgoKCWZ1bmN0aW9uIGJ1eVRva2VucyAoKSBwdWJsaWMgcGF5YWJsZSAKCXsKCQkvLyBjaGVja3MgZm9yIG1pbmltdW0gdHJhbnNmZXIgYW1vdW50CgkJcmVxdWlyZShtc2cudmFsdWUgPiAwKTsKCQkKCQlyZXF1aXJlKG9uU2FsZSA9PSB0cnVlKTsKCQkKCQlvd25lci50cmFuc2Zlcihtc2cudmFsdWUpOwoJCQkKCQl0b3RhbENvbnRyaWJ1dGVkICs9IG1zZy52YWx1ZTsKCQkKCQl1aW50MjU2IHRva2Vuc0Ftb3VudCA9IG1zZy52YWx1ZSAqIDEwMDA7CgkJCgkJaWYodG90YWxDb250cmlidXRlZCA+PSAxIGV0aGVyKQoJCXsKCQkJCgkJCXVpbnQyNTYgbXVsdGlwbGllciA9ICh0b3RhbENvbnRyaWJ1dGVkIC8gMSBldGhlcik7CgkJCQoJCQl1aW50MjU2IGV4dHJhVG9rZW5zID0gKHRva2Vuc0Ftb3VudCAqIG11bHRpcGxpZXIpIC8gMTA7CgkJCQoJCQl0b3RhbEV4dHJhVG9rZW5zICs9IGV4dHJhVG9rZW5zOwoJCQkKCQkJdG9rZW5zQW1vdW50ICs9IGV4dHJhVG9rZW5zOwoJCX0KCQkJCgkJYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gdG9rZW5zQW1vdW50OwoJCQoJCXRvdGFsU3VwcGx5ICs9IHRva2Vuc0Ftb3VudDsKICAgICAgICAKICAgICAgICBUcmFuc2ZlcihhZGRyZXNzKHRoaXMpLCBtc2cuc2VuZGVyLCB0b2tlbnNBbW91bnQpOwoJfQoJCgkvKioKICAgICAqIEVuYWJsZVNhbGUgRnVuY3Rpb24KICAgICAqCiAgICAgKi8JCglmdW5jdGlvbiBlbmFibGVTYWxlKCkgcHVibGljCgl7CgkJcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKCiAgICAgICAgb25TYWxlID0gdHJ1ZTsKICAgIH0KCQoJLyoqCiAgICAgKiBEaXNhYmxlU2FsZSBGdW5jdGlvbgogICAgICoKICAgICAqLwkKCWZ1bmN0aW9uIGRpc2FibGVTYWxlKCkgcHVibGljIAoJewoJCXJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CgogICAgICAgIG9uU2FsZSA9IGZhbHNlOwogICAgfQoJCiAgICAvKioKICAgICAqIEtpbGwgRnVuY3Rpb24KICAgICAqCiAgICAgKi8JCiAgICBmdW5jdGlvbiBraWxsKCkgcHVibGljCgl7CgkgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKCQoJCW9uU2FsZSA9IGZhbHNlOwoJCiAgICAgICAgc2VsZmRlc3RydWN0KG93bmVyKTsKICAgIH0KCQogICAgLyoqCiAgICAgKiBGYWxsYmFjayBGdW5jdGlvbgogICAgICoKICAgICAqLwkKCWZ1bmN0aW9uKCkgcHVibGljIHBheWFibGUgCgl7CgkJYnV5VG9rZW5zKCk7CgkJLy90b3RhbENvbnRyaWJ1dGVkICs9IG1zZy52YWx1ZTsKCX0KfQ=='.
	

]
