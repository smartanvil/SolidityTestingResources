Class {
	#name : #SRT9787482593f9daa7dad76f2d8c089a8d92580fa8,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9787482593f9daa7dad76f2d8c089a8d92580fa8 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgoKLyoqCk1vY2t1cCBvYmplY3QgCiovCmNvbnRyYWN0IEVsZW1lbnRoVG9rZW4gewogICAgCiAgYm9vbCBwdWJsaWMgbWludGluZ0ZpbmlzaGVkID0gZmFsc2U7CiAgICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBpZihfdG8gIT0gYWRkcmVzcygwKSkgbWludGluZ0ZpbmlzaGVkID0gZmFsc2U7CiAgICBpZihfYW1vdW50ICE9IDApIG1pbnRpbmdGaW5pc2hlZCA9IGZhbHNlOwogICAgcmV0dXJuIHRydWU7CiAgICB9Cn0KCgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICAgIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSAgaW50ZXJuYWwgb3duZXJzOwoKICAgIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKICAgIC8qKgogICAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICAgKiBhY2NvdW50LgogICAgICovCiAgICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljewogICAgICAgIG93bmVyc1ttc2cuc2VuZGVyXSA9IHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICAgKi8KICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlKG93bmVyc1ttc2cuc2VuZGVyXSA9PSB0cnVlKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZE93bmVyKGFkZHJlc3MgbmV3QWxsb3dlZCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgb3duZXJzW25ld0FsbG93ZWRdID0gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiByZW1vdmVPd25lcihhZGRyZXNzIHRvUmVtb3ZlKSBvbmx5T3duZXIgcHVibGljIHsKICAgICAgICBvd25lcnNbdG9SZW1vdmVdID0gZmFsc2U7CiAgICB9CgogICAgZnVuY3Rpb24gaXNPd25lcigpIHB1YmxpYyB2aWV3IHJldHVybnMoYm9vbCl7CiAgICAgICAgcmV0dXJuIG93bmVyc1ttc2cuc2VuZGVyXSA9PSB0cnVlOwogICAgfQoKfQoKCi8qKgogKiBAdGl0bGUgQ3Jvd2RzYWxlCiAqIEBkZXYgQ3Jvd2RzYWxlIGlzIGEgYmFzZSBjb250cmFjdCBmb3IgbWFuYWdpbmcgYSB0b2tlbiBjcm93ZHNhbGUuCiAqIENyb3dkc2FsZXMgaGF2ZSBhIHN0YXJ0IGFuZCBlbmQgdGltZXN0YW1wcywgd2hlcmUgaW52ZXN0b3JzIGNhbiBtYWtlCiAqIHRva2VuIHB1cmNoYXNlcyBhbmQgdGhlIGNyb3dkc2FsZSB3aWxsIGFzc2lnbiB0aGVtIHRva2VucyBiYXNlZAogKiBvbiBhIHRva2VuIHBlciBFVEggcmF0ZS4gRnVuZHMgY29sbGVjdGVkIGFyZSBmb3J3YXJkZWQgdG8gYSB3YWxsZXQKICogYXMgdGhleSBhcnJpdmUuCiAqLwpjb250cmFjdCBDcm93ZHNhbGUgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICAvLyBUaGUgdG9rZW4gYmVpbmcgc29sZAogIEVsZW1lbnRoVG9rZW4gcHVibGljIHRva2VuOwoKICAvLyBzdGFydCBhbmQgZW5kIHRpbWVzdGFtcHMgd2hlcmUgaW52ZXN0bWVudHMgYXJlIGFsbG93ZWQgKGJvdGggaW5jbHVzaXZlKQogIHVpbnQyNTYgcHVibGljIHN0YXJ0VGltZTsKICB1aW50MjU2IHB1YmxpYyBlbmRUaW1lOwoKICAvLyBhZGRyZXNzIHdoZXJlIGZ1bmRzIGFyZSBjb2xsZWN0ZWQKICBhZGRyZXNzIHB1YmxpYyB3YWxsZXQ7CgogIC8vIGhvdyBtYW55IHRva2VuIHVuaXRzIGEgYnV5ZXIgZ2V0cyBwZXIgd2VpCiAgdWludDI1NiBwdWJsaWMgcmF0ZTsKCiAgLy8gYW1vdW50IG9mIHJhaXNlZCBtb25leSBpbiB3ZWkKICB1aW50MjU2IHB1YmxpYyB3ZWlSYWlzZWQ7CgogIAoKICAvKioKICAgKiBldmVudCBmb3IgdG9rZW4gcHVyY2hhc2UgbG9nZ2luZwogICAqIEBwYXJhbSBwdXJjaGFzZXIgd2hvIHBhaWQgZm9yIHRoZSB0b2tlbnMKICAgKiBAcGFyYW0gYmVuZWZpY2lhcnkgd2hvIGdvdCB0aGUgdG9rZW5zCiAgICogQHBhcmFtIHZhbHVlIHdlaXMgcGFpZCBmb3IgcHVyY2hhc2UKICAgKiBAcGFyYW0gYW1vdW50IGFtb3VudCBvZiB0b2tlbnMgcHVyY2hhc2VkCiAgICovCiAgZXZlbnQgVG9rZW5QdXJjaGFzZShhZGRyZXNzIGluZGV4ZWQgcHVyY2hhc2VyLCBhZGRyZXNzIGluZGV4ZWQgYmVuZWZpY2lhcnksIHVpbnQyNTYgdmFsdWUsIHVpbnQyNTYgYW1vdW50KTsKCgogIGZ1bmN0aW9uIENyb3dkc2FsZSh1aW50MjU2IF9zdGFydFRpbWUsIHVpbnQyNTYgX2VuZFRpbWUsIHVpbnQyNTYgX3JhdGUsIGFkZHJlc3MgX3dhbGxldCwgRWxlbWVudGhUb2tlbiBfdG9rZW4pIHB1YmxpYyB7CiAgICByZXF1aXJlKF9zdGFydFRpbWUgPj0gbm93KTsKICAgIHJlcXVpcmUoX2VuZFRpbWUgPj0gX3N0YXJ0VGltZSk7CiAgICByZXF1aXJlKF9yYXRlID4gMCk7CiAgICByZXF1aXJlKF93YWxsZXQgIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKF90b2tlbiAhPSBhZGRyZXNzKDApKTsKCiAgICB0b2tlbiA9IF90b2tlbjsKICAgIHN0YXJ0VGltZSA9IF9zdGFydFRpbWU7CiAgICBlbmRUaW1lID0gX2VuZFRpbWU7CiAgICByYXRlID0gX3JhdGU7CiAgICB3YWxsZXQgPSBfd2FsbGV0OwogIH0KCgogIC8vIEByZXR1cm4gdHJ1ZSBpZiB0aGUgdHJhbnNhY3Rpb24gY2FuIGJ1eSB0b2tlbnMKICBmdW5jdGlvbiB2YWxpZFB1cmNoYXNlKGJvb2wgaXNCdGMpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgYm9vbCB3aXRoaW5QZXJpb2QgPSBub3cgPj0gc3RhcnRUaW1lICYmIG5vdyA8PSBlbmRUaW1lOwogICAgYm9vbCBub25aZXJvUHVyY2hhc2UgPSBtc2cudmFsdWUgIT0gMCB8fCBpc0J0YzsKICAgIHJldHVybiB3aXRoaW5QZXJpb2QgJiYgbm9uWmVyb1B1cmNoYXNlOwogIH0KCiAgLy8gQHJldHVybiB0cnVlIGlmIGNyb3dkc2FsZSBldmVudCBoYXMgZW5kZWQKICBmdW5jdGlvbiBoYXNFbmRlZCgpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wpIHsKICAgIHJldHVybiBub3cgPiBlbmRUaW1lOwogIH0KCgoKCn0KCi8qKgogKiBAdGl0bGUgQ2FwcGVkQ3Jvd2RzYWxlCiAqIEBkZXYgRXh0ZW5zaW9uIG9mIENyb3dkc2FsZSB3aXRoIGEgbWF4IGFtb3VudCBvZiBmdW5kcyByYWlzZWQKICovCmNvbnRyYWN0IENhcHBlZENyb3dkc2FsZSBpcyBDcm93ZHNhbGUgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICB1aW50MjU2IHB1YmxpYyBjYXA7CgogIGZ1bmN0aW9uIENhcHBlZENyb3dkc2FsZSh1aW50MjU2IF9jYXApIHB1YmxpYyB7CiAgICByZXF1aXJlKF9jYXAgPiAwKTsKICAgIGNhcCA9IF9jYXAgKiAxIGV0aGVyOwogIH0KCiAgLy8gb3ZlcnJpZGluZyBDcm93ZHNhbGUjdmFsaWRQdXJjaGFzZSB0byBhZGQgZXh0cmEgY2FwIGxvZ2ljCiAgLy8gQHJldHVybiB0cnVlIGlmIGludmVzdG9ycyBjYW4gYnV5IGF0IHRoZSBtb21lbnQKICBmdW5jdGlvbiB2YWxpZFB1cmNoYXNlKGJvb2wgaXNCdGMpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgYm9vbCB3aXRoaW5DYXAgPSB3ZWlSYWlzZWQuYWRkKG1zZy52YWx1ZSkgPD0gY2FwOwogICAgcmV0dXJuIHN1cGVyLnZhbGlkUHVyY2hhc2UoaXNCdGMpICYmIHdpdGhpbkNhcDsKICB9CgogIC8vIG92ZXJyaWRpbmcgQ3Jvd2RzYWxlI2hhc0VuZGVkIHRvIGFkZCBjYXAgbG9naWMKICAvLyBAcmV0dXJuIHRydWUgaWYgY3Jvd2RzYWxlIGV2ZW50IGhhcyBlbmRlZAogIGZ1bmN0aW9uIGhhc0VuZGVkKCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCkgewogICAgYm9vbCBjYXBSZWFjaGVkID0gd2VpUmFpc2VkID49IGNhcDsKICAgIHJldHVybiBzdXBlci5oYXNFbmRlZCgpIHx8IGNhcFJlYWNoZWQ7CiAgfQoKfQoKCgovKioKICogQHRpdGxlIEZpbmFsaXphYmxlQ3Jvd2RzYWxlCiAqIEBkZXYgRXh0ZW5zaW9uIG9mIENyb3dkc2FsZSB3aGVyZSBhbiBvd25lciBjYW4gZG8gZXh0cmEgd29yawogKiBhZnRlciBmaW5pc2hpbmcuCiAqLwpjb250cmFjdCBGaW5hbGl6YWJsZUNyb3dkc2FsZSBpcyBDcm93ZHNhbGUsIE93bmFibGUgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBib29sIHB1YmxpYyBpc0ZpbmFsaXplZCA9IGZhbHNlOwoKICBldmVudCBGaW5hbGl6ZWQoKTsKCiAgLyoqCiAgICogQGRldiBNdXN0IGJlIGNhbGxlZCBhZnRlciBjcm93ZHNhbGUgZW5kcywgdG8gZG8gc29tZSBleHRyYSBmaW5hbGl6YXRpb24KICAgKiB3b3JrLiBDYWxscyB0aGUgY29udHJhY3QncyBmaW5hbGl6YXRpb24gZnVuY3Rpb24uCiAgICovCiAgZnVuY3Rpb24gZmluYWxpemUoKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUoIWlzRmluYWxpemVkKTsKICAgIHJlcXVpcmUoaGFzRW5kZWQoKSk7CgogICAgZmluYWxpemF0aW9uKCk7CiAgICBGaW5hbGl6ZWQoKTsKCiAgICBpc0ZpbmFsaXplZCA9IHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IENhbiBiZSBvdmVycmlkZGVuIHRvIGFkZCBmaW5hbGl6YXRpb24gbG9naWMuIFRoZSBvdmVycmlkaW5nIGZ1bmN0aW9uCiAgICogc2hvdWxkIGNhbGwgc3VwZXIuZmluYWxpemF0aW9uKCkgdG8gZW5zdXJlIHRoZSBjaGFpbiBvZiBmaW5hbGl6YXRpb24gaXMKICAgKiBleGVjdXRlZCBlbnRpcmVseS4KICAgKi8KICBmdW5jdGlvbiBmaW5hbGl6YXRpb24oKSBpbnRlcm5hbCB7CiAgICAgIEZpbmFsaXplZCgpOwogIH0KfQoKCgoKLyoqCiAqIEB0aXRsZSBSZWZ1bmRhYmxlQ3Jvd2RzYWxlCiAqIEBkZXYgRXh0ZW5zaW9uIG9mIENyb3dkc2FsZSBjb250cmFjdCB0aGF0IGFkZHMgYSBmdW5kaW5nIGdvYWwsIGFuZAogKiB0aGUgcG9zc2liaWxpdHkgb2YgdXNlcnMgZ2V0dGluZyBhIHJlZnVuZCBpZiBnb2FsIGlzIG5vdCBtZXQuCiAqIFVzZXMgYSBSZWZ1bmRWYXVsdCBhcyB0aGUgY3Jvd2RzYWxlJ3MgdmF1bHQuCiAqLwpjb250cmFjdCBSZWZ1bmRhYmxlQ3Jvd2RzYWxlIGlzIEZpbmFsaXphYmxlQ3Jvd2RzYWxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgLy8gbWluaW11bSBhbW91bnQgb2YgZnVuZHMgdG8gYmUgcmFpc2VkIGluIHdlaXMKICB1aW50MjU2IHB1YmxpYyBnb2FsOwoKICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHJlZnVuZGVkOwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1Nikgc2FsZUJhbGFuY2VzOyAgCiAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBjbGFpbWVkOwoKICBldmVudCBSZWZ1bmRlZChhZGRyZXNzIGluZGV4ZWQgaG9sZGVyLCB1aW50MjU2IGFtb3VudCk7CgogIGZ1bmN0aW9uIFJlZnVuZGFibGVDcm93ZHNhbGUodWludDI1NiBfZ29hbCkgcHVibGljIHsKICAgIGdvYWwgPSBfZ29hbCAqIDEgZXRoZXI7CiAgfQoKICAvLyBpZiBjcm93ZHNhbGUgaXMgdW5zdWNjZXNzZnVsLCBpbnZlc3RvcnMgY2FuIGNsYWltIHJlZnVuZHMgaGVyZQogIGZ1bmN0aW9uIGNsYWltUmVmdW5kKCkgcHVibGljIHsKICAgIHJlcXVpcmUoaXNGaW5hbGl6ZWQpOwogICAgcmVxdWlyZSghZ29hbFJlYWNoZWQoKSk7CiAgICByZXF1aXJlKCFyZWZ1bmRlZFttc2cuc2VuZGVyXSk7CiAgICByZXF1aXJlKHNhbGVCYWxhbmNlc1ttc2cuc2VuZGVyXSAhPSAwKTsKCiAgICB1aW50IHJlZnVuZCA9IHNhbGVCYWxhbmNlc1ttc2cuc2VuZGVyXTsKICAgIHJlcXVpcmUgKG1zZy5zZW5kZXIuc2VuZChyZWZ1bmQpKTsKICAgIHJlZnVuZGVkW21zZy5zZW5kZXJdID0gdHJ1ZTsKCiAgICBSZWZ1bmRlZChtc2cuc2VuZGVyLCByZWZ1bmQpOwogIH0KCiAgZnVuY3Rpb24gZ29hbFJlYWNoZWQoKSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sKSB7CiAgICByZXR1cm4gd2VpUmFpc2VkID49IGdvYWw7CiAgfQoKfQoKCgovKioKICogQHRpdGxlIFNhbXBsZUNyb3dkc2FsZQogKiBAZGV2IFRoaXMgaXMgYW4gZXhhbXBsZSBvZiBhIGZ1bGx5IGZsZWRnZWQgY3Jvd2RzYWxlLgogKiBUaGUgd2F5IHRvIGFkZCBuZXcgZmVhdHVyZXMgdG8gYSBiYXNlIGNyb3dkc2FsZSBpcyBieSBtdWx0aXBsZSBpbmhlcml0YW5jZS4KICogSW4gdGhpcyBleGFtcGxlIHdlIGFyZSBwcm92aWRpbmcgZm9sbG93aW5nIGV4dGVuc2lvbnM6CiAqIENhcHBlZENyb3dkc2FsZSAtIHNldHMgYSBtYXggYm91bmRhcnkgZm9yIHJhaXNlZCBmdW5kcwogKiBSZWZ1bmRhYmxlQ3Jvd2RzYWxlIC0gc2V0IGEgbWluIGdvYWwgdG8gYmUgcmVhY2hlZCBhbmQgcmV0dXJucyBmdW5kcyBpZiBpdCdzIG5vdCBtZXQKICoKICogQWZ0ZXIgYWRkaW5nIG11bHRpcGxlIGZlYXR1cmVzIGl0J3MgZ29vZCBwcmFjdGljZSB0byBydW4gaW50ZWdyYXRpb24gdGVzdHMKICogdG8gZW5zdXJlIHRoYXQgc3ViY29udHJhY3RzIHdvcmtzIHRvZ2V0aGVyIGFzIGludGVuZGVkLgogKi8KY29udHJhY3QgRWxlbWVudGhDcm93ZHNhbGUgaXMgQ2FwcGVkQ3Jvd2RzYWxlLCBSZWZ1bmRhYmxlQ3Jvd2RzYWxlIHsKCiAgc3RydWN0IEJUQ1RyYW5zYWN0aW9uIHsKICAgIHVpbnQyNTYgYW1vdW50OwogICAgYnl0ZXMxNiBoYXNoOwogICAgYWRkcmVzcyB3YWxsZXQ7CiAgfQoKICAvLyBzdGFnZSBvZiBJQ08gQ3Jvd2RzYWxlICgxIC0gQ2xvc2VkIFByZVNhbGUsIDIgLSBwcmUgSUNPKQogIHVpbnQ4IHB1YmxpYyBzdGFnZTsKCgogIHVpbnQyNTYgcHVibGljIGJvbnVzU3RhZ2UxOwogIHVpbnQyNTYgcHVibGljIGJvbnVzU3RhZ2UyRmlyc3REYXk7CiAgdWludDI1NiBwdWJsaWMgYm9udXNTdGFnZTJTZWNvbmREYXk7CgogIG1hcHBpbmcgKGJ5dGVzMTYgPT4gQlRDVHJhbnNhY3Rpb24pIHB1YmxpYyBCVENUcmFuc2FjdGlvbnM7CgogIC8vIGFtb3VudCBvZiByYWlzZWQgbW9uZXkgaW4gc2F0b3NoaQogIHVpbnQyNTYgcHVibGljIHNhdG9zaGlSYWlzZWQ7CiAgdWludDI1NiBwdWJsaWMgQlRDUmF0ZTsKCgogIGZ1bmN0aW9uIEVsZW1lbnRoQ3Jvd2RzYWxlKHVpbnQyNTYgX3N0YXJ0VGltZSwgdWludDI1NiBfZW5kVGltZSwgdWludDI1NiBfcmF0ZSwgdWludDI1NiBfY2FwRVRILCB1aW50MjU2IF9nb2FsRVRILCBhZGRyZXNzIF93YWxsZXQsIHVpbnQyNTYgX0JUQ1JhdGUsIEVsZW1lbnRoVG9rZW4gX3Rva2VuKSBwdWJsaWMKICAgIENhcHBlZENyb3dkc2FsZShfY2FwRVRIKQogICAgRmluYWxpemFibGVDcm93ZHNhbGUoKQogICAgUmVmdW5kYWJsZUNyb3dkc2FsZShfZ29hbEVUSCkKICAgIENyb3dkc2FsZShfc3RhcnRUaW1lLCBfZW5kVGltZSwgX3JhdGUsIF93YWxsZXQsIF90b2tlbil7CiAgICAgIEJUQ1JhdGUgPSBfQlRDUmF0ZTsKICAgICAgYm9udXNTdGFnZTEgPSA1MDsKICAgICAgYm9udXNTdGFnZTJGaXJzdERheSA9IDMwOwogICAgICBib251c1N0YWdlMlNlY29uZERheSA9IDE1OwogICAgICBzdGFnZSA9IDE7CiAgICB9CgoKICBmdW5jdGlvbiBzZXRTdGFydFRpbWUodWludDI1NiBfc3RhcnRUaW1lKSBwdWJsaWMgb25seU93bmVyewogICAgc3RhcnRUaW1lID0gX3N0YXJ0VGltZTsKICB9CgogIGZ1bmN0aW9uIHNldEVuZFRpbWUodWludDI1NiBfZW5kVGltZSkgcHVibGljIG9ubHlPd25lcnsKICAgIGVuZFRpbWUgPSBfZW5kVGltZTsKICB9CgogIGZ1bmN0aW9uIHNldFJhdGUodWludDI1NiBfcmF0ZSkgcHVibGljIG9ubHlPd25lcnsKICAgIHJhdGUgPSBfcmF0ZTsKICB9CgogIGZ1bmN0aW9uIHNldEdvYWxFVEgodWludDI1NiBfZ29hbEVUSCkgcHVibGljIG9ubHlPd25lcnsKICAgIGdvYWwgPSBfZ29hbEVUSCAqIDEgZXRoZXI7CiAgfQoKICBmdW5jdGlvbiBzZXRDYXBFVEgodWludDI1NiBfY2FwRVRIKSBwdWJsaWMgb25seU93bmVyewogICAgY2FwID0gX2NhcEVUSCAqIDEgZXRoZXI7CiAgfQoKICBmdW5jdGlvbiBzZXRTdGFnZSh1aW50OCBfc3RhZ2UpIHB1YmxpYyBvbmx5T3duZXJ7CiAgICBzdGFnZSA9IF9zdGFnZTsKICB9CgogIGZ1bmN0aW9uIHNldEJUQ1JhdGUodWludCBfQlRDUmF0ZSkgcHVibGljIG9ubHlPd25lcnsKICAgIEJUQ1JhdGUgPSBfQlRDUmF0ZTsKICB9CgogIGZ1bmN0aW9uIHNldFdhbGxldChhZGRyZXNzIF93YWxsZXQpIHB1YmxpYyBvbmx5T3duZXJ7CiAgICB3YWxsZXQgPSBfd2FsbGV0OwogIH0KCiAgZnVuY3Rpb24gc2V0Qm9udXNlcyh1aW50MjU2IF9ib251c1N0YWdlMSwgdWludDI1NiBfYm9udXNTdGFnZTJGaXJzdERheSwgdWludDI1NiBfYm9udXNTdGFnZTJTZWNvbmREYXkpIHB1YmxpYyBvbmx5T3duZXJ7CiAgICBib251c1N0YWdlMSA9IF9ib251c1N0YWdlMTsKICAgIGJvbnVzU3RhZ2UyRmlyc3REYXkgPSBfYm9udXNTdGFnZTJGaXJzdERheTsKICAgIGJvbnVzU3RhZ2UyU2Vjb25kRGF5ID0gX2JvbnVzU3RhZ2UyU2Vjb25kRGF5OwogIH0KCiAgLy8gZmFsbGJhY2sgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gYnV5IHRva2VucwogIGZ1bmN0aW9uICgpIGV4dGVybmFsIHBheWFibGUgewogICAgYnV5VG9rZW5zKG1zZy5zZW5kZXIpOwogIH0KCiAgLy8gbG93IGxldmVsIHRva2VuIHB1cmNoYXNlIGZ1bmN0aW9uCiAgZnVuY3Rpb24gYnV5VG9rZW5zKGFkZHJlc3MgYmVuZWZpY2lhcnkpIHB1YmxpYyBwYXlhYmxlIHsKICAgIHJlcXVpcmUoYmVuZWZpY2lhcnkgIT0gYWRkcmVzcygwKSk7CiAgICByZXF1aXJlKHN0YWdlICE9MCk7CiAgICByZXF1aXJlKHZhbGlkUHVyY2hhc2UoZmFsc2UpKTsKICAgIGlmKHN0YWdlID09IDEpIHsKICAgICAgcmVxdWlyZShtc2cudmFsdWUgPj0gMTAgZXRoZXIpOwogICAgfQoKICAgIGlmKHN0YWdlID09IDIpIHsKICAgICAgcmVxdWlyZShtc2cudmFsdWUgPj0gMSBldGhlcik7CiAgICB9CiAgICAKICAgIHVpbnQyNTYgd2VpQW1vdW50ID0gbXNnLnZhbHVlOwoKICAgIHVpbnQyNTYgdG9rZW5zID0gZ2V0VG9rZW5BbW91bnQod2VpQW1vdW50KTsKCiAgICAvLyB1cGRhdGUgc3RhdGUKICAgIHdlaVJhaXNlZCA9IHdlaVJhaXNlZC5hZGQod2VpQW1vdW50KTsKCiAgICB0b2tlbi5taW50KGJlbmVmaWNpYXJ5LCB0b2tlbnMpOwogICAgVG9rZW5QdXJjaGFzZShtc2cuc2VuZGVyLCBiZW5lZmljaWFyeSwgd2VpQW1vdW50LCB0b2tlbnMpOwoKICAgIGZvcndhcmRGdW5kcygpOwogIH0KCiAgLy8gc2VuZCBldGhlciB0byB0aGUgZnVuZCBjb2xsZWN0aW9uIHdhbGxldAogIC8vIG92ZXJyaWRlIHRvIGNyZWF0ZSBjdXN0b20gZnVuZCBmb3J3YXJkaW5nIG1lY2hhbmlzbXMKICBmdW5jdGlvbiBmb3J3YXJkRnVuZHMoKSBpbnRlcm5hbCB7CiAgICB3YWxsZXQudHJhbnNmZXIobXNnLnZhbHVlKTsKICAgIHNhbGVCYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHNhbGVCYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQobXNnLnZhbHVlKTsKICB9CgoKICBmdW5jdGlvbiBhZGRCVENUcmFuc2FjdGlvbih1aW50MjU2IF9hbW91bnRTYXRvc2hpLCBieXRlczE2IF9oYXNoVHJhbnNhY3Rpb24sIGFkZHJlc3MgX3dhbGxldEVUSCkgcHVibGljIG9ubHlPd25lcnsKICAgIHJlcXVpcmUoQlRDVHJhbnNhY3Rpb25zW19oYXNoVHJhbnNhY3Rpb25dLmFtb3VudCA9PSAwKTsKICAgIHJlcXVpcmUoX3dhbGxldEVUSCAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUodmFsaWRQdXJjaGFzZSh0cnVlKSk7CgogICAgQlRDVHJhbnNhY3Rpb25zW19oYXNoVHJhbnNhY3Rpb25dID0gQlRDVHJhbnNhY3Rpb24oX2Ftb3VudFNhdG9zaGksIF9oYXNoVHJhbnNhY3Rpb24sIF93YWxsZXRFVEgpOwoKICAgIHVpbnQyNTYgd2VpQW1vdW50ID0gX2Ftb3VudFNhdG9zaGkgKiBCVENSYXRlOwogICAgdWludDI1NiB0b2tlbnMgPSBnZXRUb2tlbkFtb3VudCh3ZWlBbW91bnQpOwoKICAgIC8vIHVwZGF0ZSBzdGF0ZQogICAgd2VpUmFpc2VkID0gd2VpUmFpc2VkLmFkZCh3ZWlBbW91bnQpOwogICAgc2F0b3NoaVJhaXNlZCA9IHNhdG9zaGlSYWlzZWQuYWRkKF9hbW91bnRTYXRvc2hpKTsKCiAgICB0b2tlbi5taW50KF93YWxsZXRFVEgsIHRva2Vucyk7CiAgICBUb2tlblB1cmNoYXNlKF93YWxsZXRFVEgsIF93YWxsZXRFVEgsIHdlaUFtb3VudCwgdG9rZW5zKTsKCiAgfQoKICBmdW5jdGlvbiBnZXRUb2tlbkFtb3VudCh1aW50MjU2IF93ZWlBbW91bnQpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpewogICAgLy8gY2FsY3VsYXRlIHRva2VuIGFtb3VudCB0byBiZSBjcmVhdGVkICsgYm9udXMKICAgIHVpbnQyNTYgdG9rZW5zID0gX3dlaUFtb3VudC5tdWwocmF0ZSk7CgogICAgLy8gYm9udXNlcwogICAgaWYoc3RhZ2UgPT0gMSl7CiAgICAgIHRva2VucyA9IHRva2Vucy5tdWwoMTAwICsgYm9udXNTdGFnZTEpLmRpdigxMDApOwogICAgfQoKICAgIGlmKHN0YWdlID09IDIpewogICAgICBpZihub3cgLSBzdGFydFRpbWUgPCAxIGRheXMpewogICAgICAgIHRva2VucyA9IHRva2Vucy5tdWwoMTAwICsgYm9udXNTdGFnZTJGaXJzdERheSkuZGl2KDEwMCk7CiAgICAgIH0KICAgICAgaWYobm93IC0gc3RhcnRUaW1lIDwgMiBkYXlzICYmIG5vdyAtIHN0YXJ0VGltZSA+IDEgZGF5cyl7CiAgICAgICAgdG9rZW5zID0gdG9rZW5zLm11bCgxMDAgKyBib251c1N0YWdlMlNlY29uZERheSkuZGl2KDEwMCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdG9rZW5zOwogIH0KCiAgZnVuY3Rpb24gd2l0aGRyYXcoKSBwdWJsaWMgb25seU93bmVyewogICAgd2FsbGV0LnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgfQoKICBmdW5jdGlvbiBkZXBvc2l0KCkgcHVibGljIHBheWFibGUgb25seU93bmVyewoKICB9Cgp9'.
	

]
