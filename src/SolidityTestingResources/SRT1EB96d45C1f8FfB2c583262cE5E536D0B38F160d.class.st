Class {
	#name : #SRT1EB96d45C1f8FfB2c583262cE5E536D0B38F160d,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT1EB96d45C1f8FfB2c583262cE5E536D0B38F160d >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7Ci8qCiAqIFRoZSBNSVQgTGljZW5zZSAoTUlUKQogKgogKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5CiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsCiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMKICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbAogKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMKICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKICoKICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCiAqCiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLAogKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgogKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLAogKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOCiAqIFRIRSBTT0ZUV0FSRQoqLwoKCi8vIEEgYmFzZSBjb250cmFjdCB0aGF0IGltcGxlbWVudHMgdGhlIGZvbGxvd2luZyBjb25jZXB0czoKLy8gMS4gQSBzbWFydCBjb250cmFjdCB3aXRoIGFuIG93bmVyCi8vIDIuIE1ldGhvZHMgdGhhdCBjYW4gb25seSBiZSBjYWxsZWQgYnkgdGhlIG93bmVyCi8vIDMuIFRyYW5zZmVyYWJpbGl0eSBvZiBvd25lcnNoaXAKY29udHJhY3QgT3duZWQgewogICAgLy8gVGhlIGFkZHJlc3Mgb2YgdGhlIG93bmVyCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgICAvLyBDb25zdHJ1Y3RvcgogICAgZnVuY3Rpb24gT3duZWQoKSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIC8vIEEgbW9kaWZpZXIgdGhhdCBwcm92aWRlcyBhIHByZS1jaGVjayBhcyB0byB3aGV0aGVyIHRoZSBzZW5kZXIgaXMgdGhlIG93bmVyCiAgICBtb2RpZmllciBfb25seU93bmVyIHsKICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgcmV2ZXJ0KCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvLyBUcmFuc2ZlcnMgb3duZXJzaGlwIHRvIG5ld093bmVyLCBnaXZlbiB0aGF0IHRoZSBzZW5kZXIgaXMgdGhlIG93bmVyCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIG5ld093bmVyKSBfb25seU93bmVyIHsKICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgfQp9CgovLyBBYnN0cmFjdCBjb250cmFjdCBmb3IgdGhlIGZ1bGwgRVJDIDIwIFRva2VuIHN0YW5kYXJkCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMApjb250cmFjdCBUb2tlbiBpcyBPd25lZCB7CiAgICAvKiBUaGlzIGlzIGEgc2xpZ2h0IGNoYW5nZSB0byB0aGUgRVJDMjAgYmFzZSBzdGFuZGFyZC4KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpOwogICAgaXMgcmVwbGFjZWQgd2l0aDoKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgVGhpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgYSBnZXR0ZXIgZnVuY3Rpb24gZm9yIHRoZSB0b3RhbFN1cHBseS4KICAgIFRoaXMgaXMgbW92ZWQgdG8gdGhlIGJhc2UgY29udHJhY3Qgc2luY2UgcHVibGljIGdldHRlciBmdW5jdGlvbnMgYXJlIG5vdAogICAgY3VycmVudGx5IHJlY29nbmlzZWQgYXMgYW4gaW1wbGVtZW50YXRpb24gb2YgdGhlIG1hdGNoaW5nIGFic3RyYWN0CiAgICBmdW5jdGlvbiBieSB0aGUgY29tcGlsZXIuCiAgICAqLwogICAgLy8vIHRvdGFsIGFtb3VudCBvZiB0b2tlbnMKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoJCiAgICAvLy8gQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyBmcm9tIHdoaWNoIHRoZSBiYWxhbmNlIHdpbGwgYmUgcmV0cmlldmVkCiAgICAvLy8gQHJldHVybiBUaGUgYmFsYW5jZQogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8vIEBub3RpY2UgYG1zZy5zZW5kZXJgIGFwcHJvdmVzIGBfc3BlbmRlcmAgdG8gc3BlbmQgYF92YWx1ZWAgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSBhcHByb3ZhbCB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cn0KCi8vIEltcGxlbWVudGF0aW9uIG9mIFRva2VuIGNvbnRyYWN0CmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgVG9rZW4gewogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvL0RlZmF1bHQgYXNzdW1lcyB0b3RhbFN1cHBseSBjYW4ndCBiZSBvdmVyIG1heCAoMl4yNTYgLSAxKS4KICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy9zYW1lIGFzIGFib3ZlLiBSZXBsYWNlIHRoaXMgbGluZSB3aXRoIHRoZSBmb2xsb3dpbmcgaWYgeW91IHdhbnQgdG8gcHJvdGVjdCBhZ2FpbnN0IHdyYXBwaW5nIHVpbnRzLgogICAgICAgIGlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0KICAgIH0KCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewoJCXJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKfQoKCgovKgpUaGlzIFRva2VuIENvbnRyYWN0IGltcGxlbWVudHMgdGhlIHN0YW5kYXJkIHRva2VuIGZ1bmN0aW9uYWxpdHkgKGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCkgYXMgd2VsbCBhcyB0aGUgZm9sbG93aW5nIE9QVElPTkFMIGV4dHJhcyBpbnRlbmRlZCBmb3IgdXNlIGJ5IGh1bWFucy4KCkluIG90aGVyIHdvcmRzLiBUaGlzIGlzIGludGVuZGVkIGZvciBkZXBsb3ltZW50IGluIHNvbWV0aGluZyBsaWtlIGEgVG9rZW4gRmFjdG9yeSBvciBNaXN0IHdhbGxldCwgYW5kIHRoZW4gdXNlZCBieSBodW1hbnMuCkltYWdpbmUgY29pbnMsIGN1cnJlbmNpZXMsIHNoYXJlcywgdm90aW5nIHdlaWdodCwgZXRjLgpNYWNoaW5lLWJhc2VkLCByYXBpZCBjcmVhdGlvbiBvZiBtYW55IHRva2VucyB3b3VsZCBub3QgbmVjZXNzYXJpbHkgbmVlZCB0aGVzZSBleHRyYSBmZWF0dXJlcyBvciB3aWxsIGJlIG1pbnRlZCBpbiBvdGhlciBtYW5uZXJzLgoKMSkgSW5pdGlhbCBGaW5pdGUgU3VwcGx5ICh1cG9uIGNyZWF0aW9uIG9uZSBzcGVjaWZpZXMgaG93IG11Y2ggaXMgbWludGVkKS4KMikgSW4gdGhlIGFic2VuY2Ugb2YgYSB0b2tlbiByZWdpc3RyeTogT3B0aW9uYWwgRGVjaW1hbCwgU3ltYm9sICYgTmFtZS4KMykgT3B0aW9uYWwgYXBwcm92ZUFuZENhbGwoKSBmdW5jdGlvbmFsaXR5IHRvIG5vdGlmeSBhIGNvbnRyYWN0IGlmIGFuIGFwcHJvdmFsKCkgaGFzIG9jY3VycmVkLgoKLiovCmNvbnRyYWN0IEh1bWFuU3RhbmRhcmRUb2tlbiBpcyBTdGFuZGFyZFRva2VuIHsKCiAgICBmdW5jdGlvbigpIHsKICAgICAgICAvL2lmIGV0aGVyIGlzIHNlbnQgdG8gdGhpcyBhZGRyZXNzLCBzZW5kIGl0IGJhY2suCiAgICAgICAgcmV2ZXJ0KCk7CiAgICB9CgogICAgLyogUHVibGljIHZhcmlhYmxlcyBvZiB0aGUgdG9rZW4gKi8KCiAgICAvKgogICAgTk9URToKICAgIFRoZSBmb2xsb3dpbmcgdmFyaWFibGVzIGFyZSBPUFRJT05BTCB2YW5pdGllcy4gT25lIGRvZXMgbm90IGhhdmUgdG8gaW5jbHVkZSB0aGVtLgogICAgVGhleSBhbGxvdyBvbmUgdG8gY3VzdG9taXNlIHRoZSB0b2tlbiBjb250cmFjdCAmIGluIG5vIHdheSBpbmZsdWVuY2VzIHRoZSBjb3JlIGZ1bmN0aW9uYWxpdHkuCiAgICBTb21lIHdhbGxldHMvaW50ZXJmYWNlcyBtaWdodCBub3QgZXZlbiBib3RoZXIgdG8gbG9vayBhdCB0aGlzIGluZm9ybWF0aW9uLgogICAgKi8KICAgIHN0cmluZyBwdWJsaWMgbmFtZTsgICAgICAgICAgICAgICAgICAgLy9mYW5jeSBuYW1lOiBlZyBTaW1vbiBCdWNrcwogICAgdWludDggcHVibGljIGRlY2ltYWxzOyAgICAgICAgICAgICAgICAvL0hvdyBtYW55IGRlY2ltYWxzIHRvIHNob3cuIGllLiBUaGVyZSBjb3VsZCAxMDAwIGJhc2UgdW5pdHMgd2l0aCAzIGRlY2ltYWxzLiBNZWFuaW5nIDAuOTgwIFNCWCA9IDk4MCBiYXNlIHVuaXRzLiBJdCdzIGxpa2UgY29tcGFyaW5nIDEgd2VpIHRvIDEgZXRoZXIuCiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsgICAgICAgICAgICAgICAgIC8vQW4gaWRlbnRpZmllcjogZWcgU0JYCiAgICBzdHJpbmcgcHVibGljIHZlcnNpb24gPSAnSDAuMSc7ICAgICAgIC8vaHVtYW4gMC4xIHN0YW5kYXJkLiBKdXN0IGFuIGFyYml0cmFyeSB2ZXJzaW9uaW5nIHNjaGVtZS4KCiAgICBmdW5jdGlvbiBIdW1hblN0YW5kYXJkVG9rZW4odWludDI1NiBfaW5pdGlhbEFtb3VudCwgc3RyaW5nIF90b2tlbk5hbWUsIHVpbnQ4IF9kZWNpbWFsVW5pdHMsIHN0cmluZyBfdG9rZW5TeW1ib2wpIHsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IF9pbml0aWFsQW1vdW50OwogICAgICAgIC8vIEdpdmUgdGhlIGNyZWF0b3IgYWxsIGluaXRpYWwgdG9rZW5zCiAgICAgICAgdG90YWxTdXBwbHkgPSBfaW5pdGlhbEFtb3VudDsKICAgICAgICAvLyBVcGRhdGUgdG90YWwgc3VwcGx5CiAgICAgICAgbmFtZSA9IF90b2tlbk5hbWU7CiAgICAgICAgLy8gU2V0IHRoZSBuYW1lIGZvciBkaXNwbGF5IHB1cnBvc2VzCiAgICAgICAgZGVjaW1hbHMgPSBfZGVjaW1hbFVuaXRzOwogICAgICAgIC8vIEFtb3VudCBvZiBkZWNpbWFscyBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgICAgIHN5bWJvbCA9IF90b2tlblN5bWJvbDsKICAgICAgICAvLyBTZXQgdGhlIHN5bWJvbCBmb3IgZGlzcGxheSBwdXJwb3NlcwogICAgfQoKICAgIC8qIEFwcHJvdmVzIGFuZCB0aGVuIGNhbGxzIHRoZSByZWNlaXZpbmcgY29udHJhY3QgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmVBbmRDYWxsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlLCBieXRlcyBfZXh0cmFEYXRhKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKCiAgICAgICAgLy9jYWxsIHRoZSByZWNlaXZlQXBwcm92YWwgZnVuY3Rpb24gb24gdGhlIGNvbnRyYWN0IHlvdSB3YW50IHRvIGJlIG5vdGlmaWVkLiBUaGlzIGNyYWZ0cyB0aGUgZnVuY3Rpb24gc2lnbmF0dXJlIG1hbnVhbGx5IHNvIG9uZSBkb2Vzbid0IGhhdmUgdG8gaW5jbHVkZSBhIGNvbnRyYWN0IGluIGhlcmUganVzdCBmb3IgdGhpcy4KICAgICAgICAvL3JlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW5Db250cmFjdCwgYnl0ZXMgX2V4dHJhRGF0YSkKICAgICAgICAvL2l0IGlzIGFzc3VtZWQgdGhhdCB3aGVuIGRvZXMgdGhpcyB0aGF0IHRoZSBjYWxsICpzaG91bGQqIHN1Y2NlZWQsIG90aGVyd2lzZSBvbmUgd291bGQgdXNlIHZhbmlsbGEgYXBwcm92ZSBpbnN0ZWFkLgogICAgICAgIGlmICghX3NwZW5kZXIuY2FsbChieXRlczQoYnl0ZXMzMihzaGEzKCJyZWNlaXZlQXBwcm92YWwoYWRkcmVzcyx1aW50MjU2LGFkZHJlc3MsYnl0ZXMpIikpKSwgbXNnLnNlbmRlciwgX3ZhbHVlLCB0aGlzLCBfZXh0cmFEYXRhKSkge3JldmVydCgpO30KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKCgpjb250cmFjdCBDYXBpdGFsTWluaW5nVG9rZW4gaXMgSHVtYW5TdGFuZGFyZFRva2VuIHsKCiAgICAvKiBQdWJsaWMgdmFyaWFibGVzIG9mIHRoZSB0b2tlbiAqLwoKICAgIC8vIFZhbml0eSB2YXJpYWJsZXMKICAgIHVpbnQyNTYgcHVibGljIHNpbXVsYXRlZEJsb2NrTnVtYmVyOwoKICAgIHVpbnQyNTYgcHVibGljIHJld2FyZFNjYXJjaXR5RmFjdG9yOyAvLyBUaGUgZmFjdG9yIGJ5IHdoaWNoIHRoZSByZXdhcmQgcmVkdWNlcwogICAgdWludDI1NiBwdWJsaWMgcmV3YXJkUmVkdWN0aW9uUmF0ZTsgLy8gVGhlIG51bWJlciBvZiBibG9ja3MgYmVmb3JlIHRoZSByZXdhcmQgcmVkdWNlcwoKICAgIC8vIFJld2FyZCByZWxhdGVkIHZhcmlhYmxlcwogICAgdWludDI1NiBwdWJsaWMgYmxvY2tJbnRlcnZhbDsgLy8gU2ltdWxhdGUgaW50ZW5kZWQgYmxvY2t0aW1lIG9mIEJpdENvaW4KICAgIHVpbnQyNTYgcHVibGljIHJld2FyZFZhbHVlOyAvLyA1MCB1bml0cywgdG8gOCBkZWNpbWFsIHBsYWNlcwogICAgdWludDI1NiBwdWJsaWMgaW5pdGlhbFJld2FyZDsgLy8gQXNzaWdubWVudCBvZiBpbml0aWFsIHJld2FyZAoKICAgIC8vIFBheW91dCByZWxhdGVkIHZhcmlhYmxlcwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBBY2NvdW50KSBwdWJsaWMgcGVuZGluZ1BheW91dHM7IC8vIEtlZXAgdHJhY2sgb2YgcGVyLWFkZHJlc3MgY29udHJpYnV0aW9ucyBpbiB0aGlzIHJld2FyZCBibG9jawogICAgbWFwcGluZyAodWludCA9PiB1aW50KSBwdWJsaWMgdG90YWxCbG9ja0NvbnRyaWJ1dGlvbjsgLy8gS2VlcCB0cmFjayBvZiB0b3RhbCBldGhlciBjb250cmlidXRpb24gcGVyIGJsb2NrCiAgICBtYXBwaW5nICh1aW50ID0+IGJvb2wpIHB1YmxpYyBtaW5lZEJsb2NrOyAvLyBDaGVja3MgaWYgYmxvY2sgaXMgbWluZWQKCiAgICAvLyBjb250YWlucyBhbGwgdmFyaWFibGVzIHJlcXVpcmVkIHRvIGRpc2J1cnNlIEFRVCB0byBhIGNvbnRyaWJ1dG9yIGZhaXJseQogICAgc3RydWN0IEFjY291bnQgewogICAgICAgIGFkZHJlc3MgYWRkcjsKICAgICAgICB1aW50IGJsb2NrUGF5b3V0OwogICAgICAgIHVpbnQgbGFzdENvbnRyaWJ1dGlvbkJsb2NrTnVtYmVyOwogICAgICAgIHVpbnQgYmxvY2tDb250cmlidXRpb247CiAgICB9CgogICAgdWludCBwdWJsaWMgdGltZU9mTGFzdEJsb2NrOyAvLyBWYXJpYWJsZSB0byBrZWVwIHRyYWNrIG9mIHdoZW4gcmV3YXJkcyB3ZXJlIGdpdmVuCgogICAgLy8gQ29uc3RydWN0b3IKICAgIGZ1bmN0aW9uIENhcGl0YWxNaW5pbmdUb2tlbihzdHJpbmcgX25hbWUsIHVpbnQ4IF9kZWNpbWFscywgc3RyaW5nIF9zeW1ib2wsIHN0cmluZyBfdmVyc2lvbiwKICAgIHVpbnQyNTYgX2luaXRpYWxBbW91bnQsIHVpbnQgX3NpbXVsYXRlZEJsb2NrTnVtYmVyLCB1aW50IF9yZXdhcmRTY2FyY2l0eUZhY3RvciwKICAgIHVpbnQgX3Jld2FyZEhhbHZlbmluZ1JhdGUsIHVpbnQgX2Jsb2NrSW50ZXJ2YWwsIHVpbnQgX3Jld2FyZFZhbHVlKQogICAgSHVtYW5TdGFuZGFyZFRva2VuKF9pbml0aWFsQW1vdW50LCBfbmFtZSwgX2RlY2ltYWxzLCBfc3ltYm9sKSB7CiAgICAgICAgdmVyc2lvbiA9IF92ZXJzaW9uOwogICAgICAgIHNpbXVsYXRlZEJsb2NrTnVtYmVyID0gX3NpbXVsYXRlZEJsb2NrTnVtYmVyOwogICAgICAgIHJld2FyZFNjYXJjaXR5RmFjdG9yID0gX3Jld2FyZFNjYXJjaXR5RmFjdG9yOwogICAgICAgIHJld2FyZFJlZHVjdGlvblJhdGUgPSBfcmV3YXJkSGFsdmVuaW5nUmF0ZTsKICAgICAgICBibG9ja0ludGVydmFsID0gX2Jsb2NrSW50ZXJ2YWw7CiAgICAgICAgcmV3YXJkVmFsdWUgPSBfcmV3YXJkVmFsdWU7CiAgICAgICAgaW5pdGlhbFJld2FyZCA9IF9yZXdhcmRWYWx1ZTsKICAgICAgICB0aW1lT2ZMYXN0QmxvY2sgPSBub3c7CiAgICB9CgogICAgLy8gZnVuY3Rpb24gdG8gY2FsbCB0byBjb250cmlidXRlIEV0aGVyIHRvLCBpbiBleGNoYW5nZSBmb3IgQVFUIGluIHRoZSBuZXh0IGJsb2NrCiAgICAvLyBtaW5lIG9yIHVwZGF0ZUFjY291bnQgbXVzdCBiZSBjYWxsZWQgYXQgbGVhc3QgMTAgbWludXRlcyBmcm9tIHRpbWVPZkxhc3RCbG9jayB0byBnZXQgdGhlIHJld2FyZAogICAgLy8gbWluaW11bSByZXF1aXJlZCBjb250cmlidXRpb24gaXMgMC4wNSBFdGhlcgogICAgZnVuY3Rpb24gbWluZSgpIHBheWFibGUgX3VwZGF0ZUJsb2NrQW5kUmV3YXJkUmF0ZSgpIF91cGRhdGVBY2NvdW50KCkgewogICAgICAgIC8vIEF0IHRoaXMgcG9pbnQgaXQgaXMgc2FmZSB0byBhc3N1bWUgdGhhdCB0aGUgc2VuZGVyIGhhcyByZWNlaXZlZCBhbGwgaGlzIHBheW91dHMgZm9yIHByZXZpb3VzIGJsb2NrcwogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IDUwIGZpbm5leSk7CiAgICAgICAgdG90YWxCbG9ja0NvbnRyaWJ1dGlvbltzaW11bGF0ZWRCbG9ja051bWJlcl0gKz0gbXNnLnZhbHVlOwogICAgICAgIC8vIFVwZGF0ZSB0b3RhbCBjb250cmlidXRpb24KCiAgICAgICAgaWYgKHBlbmRpbmdQYXlvdXRzW21zZy5zZW5kZXJdLmFkZHIgIT0gbXNnLnNlbmRlcikgey8vIElmIHRoZSBzZW5kZXIgaGFzIG5vdCBjb250cmlidXRlZCBkdXJpbmcgdGhpcyBpbnRlcnZhbAogICAgICAgICAgICAvLyBBZGQgaGlzIGFkZHJlc3MgYW5kIHBheW91dCBkZXRhaWxzIHRvIHRoZSBjb250cmlidXRvciBtYXAKICAgICAgICAgICAgcGVuZGluZ1BheW91dHNbbXNnLnNlbmRlcl0gPSBBY2NvdW50KG1zZy5zZW5kZXIsIHJld2FyZFZhbHVlLCBzaW11bGF0ZWRCbG9ja051bWJlciwKICAgICAgICAgICAgcGVuZGluZ1BheW91dHNbbXNnLnNlbmRlcl0uYmxvY2tDb250cmlidXRpb24gKyBtc2cudmFsdWUpOwogICAgICAgICAgICBtaW5lZEJsb2NrW3NpbXVsYXRlZEJsb2NrTnVtYmVyXSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIGVsc2Ugey8vIHRoZSBzZW5kZXIgaGFzIGNvbnRyaWJ1dGVkIGR1cmluZyB0aGlzIGludGVydmFsCiAgICAgICAgICAgIHJlcXVpcmUocGVuZGluZ1BheW91dHNbbXNnLnNlbmRlcl0ubGFzdENvbnRyaWJ1dGlvbkJsb2NrTnVtYmVyID09IHNpbXVsYXRlZEJsb2NrTnVtYmVyKTsKICAgICAgICAgICAgcGVuZGluZ1BheW91dHNbbXNnLnNlbmRlcl0uYmxvY2tDb250cmlidXRpb24gKz0gbXNnLnZhbHVlOwogICAgICAgIH0KICAgICAgICByZXR1cm47CiAgICB9CgogICAgbW9kaWZpZXIgX3VwZGF0ZUJsb2NrQW5kUmV3YXJkUmF0ZSgpIHsKICAgICAgICAvLyBTdG9wIHVwZGF0ZSBpZiB0aGUgdGltZSBzaW5jZSBsYXN0IGJsb2NrIGlzIGxlc3MgdGhhbiBzcGVjaWZpZWQgaW50ZXJ2YWwKICAgICAgICBpZiAoKG5vdyAtIHRpbWVPZkxhc3RCbG9jaykgPj0gYmxvY2tJbnRlcnZhbCAmJiBtaW5lZEJsb2NrW3NpbXVsYXRlZEJsb2NrTnVtYmVyXSA9PSB0cnVlKSB7CiAgICAgICAgICAgIHRpbWVPZkxhc3RCbG9jayA9IG5vdzsKICAgICAgICAgICAgc2ltdWxhdGVkQmxvY2tOdW1iZXIgKz0gMTsKICAgICAgICAgICAgLy8gdXBkYXRlIHJld2FyZCBhY2NvcmRpbmcgdG8gYmxvY2sgbnVtYmVyCiAgICAgICAgICAgIHJld2FyZFZhbHVlID0gaW5pdGlhbFJld2FyZCAvICgyICoqIChzaW11bGF0ZWRCbG9ja051bWJlciAvIHJld2FyZFJlZHVjdGlvblJhdGUpKTsgLy8g5b6M44Gn5qKo5rKZ44Gh44KD44KT44Go5Lit5pys44GV44KT44Gr6KaL44Gm44KC44KJ44Gj44Gf44G744GG44GM44GE44GEKCAmIzE4MDviiIDvvYAgKQogICAgICAgICAgICAvLyDmr47lm57mr47lm57oqIjnrpfjgZnjgovjgojjgopzaW11bGF0ZWRCbG9ja051bWJlciVyZXdhcmRSZWR1Y3Rpb25SYXRl44G/44Gf44GE44Gq5p2h5Lu244Gn44KE44Gj44Gf44KJ44OI44Op44Oz44K244Kv44K344On44Oz44GM5a6J44GP44Gq44KK44Gd44GGCiAgICAgICAgfQogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgX3VwZGF0ZUFjY291bnQoKSB7CiAgICAgICAgaWYgKHBlbmRpbmdQYXlvdXRzW21zZy5zZW5kZXJdLmFkZHIgPT0gbXNnLnNlbmRlciAmJiBwZW5kaW5nUGF5b3V0c1ttc2cuc2VuZGVyXS5sYXN0Q29udHJpYnV0aW9uQmxvY2tOdW1iZXIgPCBzaW11bGF0ZWRCbG9ja051bWJlcikgewogICAgICAgICAgICAvLyDjgoLjgYbjg5bjg63jg4Pjgq/jg4Hjgqfjg7zjg7Pjgavjga7jgaPjgabjgYTjgovjgYvjgonjgoTjgornm7TjgZvjgarjgYTjgYzjgZPjgozmsJfmjIHjgaHmgqrjgY/jgarjgYTvvJ8KICAgICAgICAgICAgdWludCBwYXlvdXQgPSBwZW5kaW5nUGF5b3V0c1ttc2cuc2VuZGVyXS5ibG9ja0NvbnRyaWJ1dGlvbiAqIHBlbmRpbmdQYXlvdXRzW21zZy5zZW5kZXJdLmJsb2NrUGF5b3V0IC8gdG90YWxCbG9ja0NvbnRyaWJ1dGlvbltwZW5kaW5nUGF5b3V0c1ttc2cuc2VuZGVyXS5sYXN0Q29udHJpYnV0aW9uQmxvY2tOdW1iZXJdOyAvL+OAgOOBk+OCjOWIhuOBi+OCiuOBpeOCieOBhOOBi+OCieaZgumWk+OBguOCjOOBsOWIhuOBkeOBpuOChOOBo+OBpgogICAgICAgICAgICBwZW5kaW5nUGF5b3V0c1ttc2cuc2VuZGVyXSA9IEFjY291bnQoMCwgMCwgMCwgMCk7CiAgICAgICAgICAgIC8vIG1pbnQgY29pbnMKICAgICAgICAgICAgdG90YWxTdXBwbHkgKz0gcGF5b3V0OwogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSBwYXlvdXQ7CiAgICAgICAgICAgIC8vIGJyb2FkY2FzdCB0cmFuc2ZlciBldmVudCB0byBvd25lcgogICAgICAgICAgICBUcmFuc2ZlcigwLCBvd25lciwgcGF5b3V0KTsKICAgICAgICAgICAgLy8gYnJvYWRjYXN0IHRyYW5zZmVyIGV2ZW50IGZyb20gb3duZXIgdG8gcGF5ZWUKICAgICAgICAgICAgVHJhbnNmZXIob3duZXIsIG1zZy5zZW5kZXIsIHBheW91dCk7CiAgICAgICAgfQogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdXBkYXRlQWNjb3VudCgpIF91cGRhdGVCbG9ja0FuZFJld2FyZFJhdGUoKSBfdXBkYXRlQWNjb3VudCgpIHt9CgogICAgZnVuY3Rpb24gd2l0aGRyYXdFdGhlcigpIF9vbmx5T3duZXIoKSB7CiAgICAgICAgb3duZXIudHJhbnNmZXIodGhpcy5iYWxhbmNlKTsKICAgIH0KfQoKLy8gVGhpcyBjb250cmFjdCBkZWZpbmVzIHNwZWNpZmljIHBhcmFtZXRlcnMgdGhhdCBtYWtlIHRoZSBpbml0aWFsaXplZCBjb2luIEJpdGNvaW4tbGlrZQpjb250cmFjdCBBZXF1aXRhcyBpcyBDYXBpdGFsTWluaW5nVG9rZW4gewogICAgLy8gQ29uc3RydWN0b3IKICAgIGZ1bmN0aW9uIEFlcXVpdGFzKCkgQ2FwaXRhbE1pbmluZ1Rva2VuKAogICAgICAgICAgICAiQWVxdWl0YXMiLCAgICAgICAgICAgICAvLyBuYW1lCiAgICAgICAgICAgIDgsICAgICAgICAgICAgICAgICAgICAgIC8vIGRlY2ltYWxzCiAgICAgICAgICAgICJBUVQiLCAgICAgICAgICAgICAgICAgIC8vIHN5bWJvbAogICAgICAgICAgICAiMC4xIiwgICAgICAgICAgICAgICAgICAvLyB2ZXJzaW9uCiAgICAgICAgICAgIDAsICAgICAgICAgICAgICAgICAgICAgIC8vIGluaXRpYWxBbW91bnQKICAgICAgICAgICAgMCwgICAgICAgICAgICAgICAgICAgICAgLy8gc2ltdWxhdGVkQmxvY2tOdW1iZXIKICAgICAgICAgICAgMiwgICAgICAgICAgICAgICAgICAgICAgLy8gcmV3YXJkU2NhcmNpdHlGYWN0b3IKICAgICAgICAgICAgMjEwMDAwLCAgICAgICAgICAgICAgICAgLy8gcmV3YXJkUmVkdWN0aW9uUmF0ZQogICAgICAgICAgICAxMCBtaW51dGVzLCAgICAgICAgICAgICAvLyBibG9ja0ludGVydmFsCiAgICAgICAgICAgIDUwMDAwMDAwMDAgICAgICAgICAgICAgIC8vIHJld2FyZFZhbHVlCiAgICApe30KfQ=='.
	

]
