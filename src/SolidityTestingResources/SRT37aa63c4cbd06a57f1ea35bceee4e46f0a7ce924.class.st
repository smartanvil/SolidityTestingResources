Class {
	#name : #SRT37aa63c4cbd06a57f1ea35bceee4e46f0a7ce924,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT37aa63c4cbd06a57f1ea35bceee4e46f0a7ce924 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgoKLyoqCiAqIE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAvL2Fzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgLy9hc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSArIGI7CiAgICAvL2Fzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBtYXg2NCh1aW50NjQgYSwgdWludDY0IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQ2NCkgewogICAgcmV0dXJuIGEgPj0gYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWluNjQodWludDY0IGEsIHVpbnQ2NCBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50NjQpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQoKICBmdW5jdGlvbiBtaW4yNTYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBhIDwgYiA/IGEgOiBiOwogIH0KCn0KCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5PTEwMDAwMDAwMDsgCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKCn0KCmNvbnRyYWN0IEVSQzIwIGlzIEVSQzIwQmFzaWMgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpOwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKfQoKY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHsKICAgICAgCiAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA8IF92YWx1ZSkgewogICAgICAgICAgICAvLyBCYWxhbmNlIHRvbyBsb3cKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgICAKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLiAKICAqIEByZXR1cm4gQW4gdWludDI1NiByZXByZXNlbnRpbmcgdGhlIGFtb3VudCBvd25lZCBieSB0aGUgcGFzc2VkIGFkZHJlc3MuCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICovCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgewogICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICBpZiAoYmFsYW5jZXNbX2Zyb21dIDwgX3ZhbHVlIHx8IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIDwgX3ZhbHVlKSB7CiAgICAgICAgICAgIC8vIEJhbGFuY2Ugb3IgYWxsb3dhbmNlIHRvbyBsb3cKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQoKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICB9CgogIC8qKgogICAqIEBkZXYgQXByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgewoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9Cgp9Cgpjb250cmFjdCBvd25lZCB7CiAgICAgZnVuY3Rpb24gb3duZWQoKSB7IG93bmVyID0gbXNnLnNlbmRlcjsgfQogICAgIGFkZHJlc3Mgb3duZXI7CgogICAgIC8vIFRoaXMgY29udHJhY3Qgb25seSBkZWZpbmVzIGEgbW9kaWZpZXIgYnV0IGRvZXMgbm90IHVzZQogICAgIC8vIGl0IC0gaXQgd2lsbCBiZSB1c2VkIGluIGRlcml2ZWQgY29udHJhY3RzLgogICAgIC8vIFRoZSBmdW5jdGlvbiBib2R5IGlzIGluc2VydGVkIHdoZXJlIHRoZSBzcGVjaWFsIHN5bWJvbAogICAgIC8vICJfOyIgaW4gdGhlIGRlZmluaXRpb24gb2YgYSBtb2RpZmllciBhcHBlYXJzLgogICAgIC8vIFRoaXMgbWVhbnMgdGhhdCBpZiB0aGUgb3duZXIgY2FsbHMgdGhpcyBmdW5jdGlvbiwgdGhlCiAgICAgLy8gZnVuY3Rpb24gaXMgZXhlY3V0ZWQgYW5kIG90aGVyd2lzZSwgYW4gZXhjZXB0aW9uIGlzCiAgICAgLy8gdGhyb3duLgogICAgIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICAgICAgIGlmKG1zZy5zZW5kZXIgIT0gb3duZXIpCiAgICAgICAgIHsKICAgICAgICAgdGhyb3c7CiAgICAgICAgIH0KICAgICAgICAgXzsKICAgICB9CiB9CgoKY29udHJhY3QgVW5pQ29udHJhY3QgaXMgU3RhbmRhcmRUb2tlbiwgb3duZWQgewoKCiAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJTYXZlVU5JQ09JTnMiOwogICBzdHJpbmcgcHVibGljIGNvbnN0YW50IHN5bWJvbCA9ICJVQ04iOwogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDA7CiAgIAogICAvL2ZvdW5kZXIgJiBmdW5kIGNvbGxlY3RvcgogICBhZGRyZXNzIHB1YmxpYyBtdWx0aXNpZzsKICAgYWRkcmVzcyBwdWJsaWMgZm91bmRlcjsgCiAgIAogICAKICAgLy9UaW1pbmdzCiAgIHVpbnQgcHVibGljIHN0YXJ0OyAgCiAgIHVpbnQgcHVibGljIGVuZDsKICAgdWludCBwdWJsaWMgbGF1bmNoOwogICAKICAgLy9EeW5hbWljIFByaWNpbmcgUFJJQ0UgSU4gVUNOIC8vVW5pQ29udHJhY3QgVjIKICAgdWludDI1NiBwdWJsaWMgUFJJQ0UgPSAyMTcxMzU7ICAKICAgCiAgIC8vRHluYW1pYyBTdGF0dXMgb2Ygc29sZCBVQ04gVG9rZW5zIC8vVW5pQ29udHJhY3QgVjIKICAgdWludDI1NiBwdWJsaWMgT1ZFUkFMTFNPTEQgPSAzMTQ4ODkwOyAgCiAgIAogICAvL01heGltdW0gb2YgVG9rZW5zIHRvIGJlIHNvbGQgODUuMDAwLjAwMAogICB1aW50MjU2IHB1YmxpYyBNQVhUT0tFTlNPTEQgPSA4NTAwMDAwMDsgIAogICAKICAgCiAgIAogICAKICAKICAgZnVuY3Rpb24gVW5pQ29udHJhY3QoKSBvbmx5T3duZXIgeyAKICAgICAgIGZvdW5kZXIgPSAweDIwNDI0NDA2MkIwNDA4OWI2RWY1NTk4MUFkODIxMTljRUJmNTRGODg7IAogICAgICAgbXVsdGlzaWc9IDB4OUZBMmQyMjMxRkU4YWMyMDc4MzFCMzc2YWE0YUUzNTY3MTYxOTk2MDsKICAgICAgIAogICAgICAgc3RhcnQgPSAxNTA3NTQzMjAwOwogICAgICAgZW5kID0gMTUwOTA5ODQwMDsgCiAJICAgbGF1bmNoID0gMTUwOTUzNDAwMDsKIAkgICAvL1VuaUNvbnRyYWN0IFYyCiAgICAgICBiYWxhbmNlc1tmb3VuZGVyXSA9IGJhbGFuY2VzW2ZvdW5kZXJdLmFkZCgxODE0ODg5MCk7IC8vIEZvdW5kZXIgKDE1JSA9IDE1LjAwMC4wMDAgVUNOICsgMzE0ODg5MCByZWRpc3RyaWJ1dGUpCiAKICAgfQogICAKICAgCiAgIAogICAvL1N0YWdlIFByZS1TYWxlIFZhcmlhYmxlcwogICAKICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUFJJQ0VfUFJFU0FMRSA9IDMwMDAwMDsgIAogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBGQUNUT1JfUFJFU0FMRSA9IDM4OwogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBSQU5HRVNUQVJUX1BSRVNBTEUgPSAwOyAKICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUkFOR0VFTkRfUFJFU0FMRSA9IDEwMDAwMDAwOyAKICAgCiAgIAogICAvL1N0YWdlIDEKICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUFJJQ0VfMSA9IDMwMDAwOyAgCiAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IEZBQ1RPUl8xID0gNDYwOwogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBSQU5HRVNUQVJUXzEgPSAxMDAwMDAwMTsgCiAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFJBTkdFRU5EXzEgPSAxMDEwMDAwMDsKICAgCiAgIC8vU3RhZ2UgMgogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBQUklDRV8yID0gMjk3ODM7ICAKICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgRkFDVE9SXzIgPSA0OTU7CiAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFJBTkdFU1RBUlRfMiA9IDEwMTAwMDAxOyAKICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUkFOR0VFTkRfMiA9IDExMDAwMDAwOwogICAKICAgLy9TdGFnZSAzCiAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFBSSUNFXzMgPSAyNzk2NDsgIAogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBGQUNUT1JfMyA9IDU4MDsKICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUkFOR0VTVEFSVF8zID0gMTEwMDAwMDE7IAogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBSQU5HRUVORF8zID0gMTUwMDAwMDA7CiAgIAogICAvL1N0YWdlIDQKICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUFJJQ0VfNCA9IDIxMDY4OyAgCiAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IEZBQ1RPUl80ID0gODAwOwogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBSQU5HRVNUQVJUXzQgPSAxNTAwMDAwMTsgCiAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFJBTkdFRU5EXzQgPSAyMDAwMDAwMDsKICAgCiAgIC8vU3RhZ2UgNQogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBQUklDRV81ID0gMTQ4MTg7ICAKICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgRkFDVE9SXzUgPSAxMzMyOwogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBSQU5HRVNUQVJUXzUgPSAyMDAwMDAwMTsgCiAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFJBTkdFRU5EXzUgPSAzMDAwMDAwMDsKICAgCiAgIC8vU3RhZ2UgNgogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBQUklDRV82ID0gNzMxMDsgIAogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBGQUNUT1JfNiA9IDI3MDA7CiAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFJBTkdFU1RBUlRfNiA9IDMwMDAwMDAxOyAKICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUkFOR0VFTkRfNiA9IDQwMDAwMDAwOwogICAKICAgLy9TdGFnZSA3CiAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFBSSUNFXzcgPSAzNjA3OyAgCiAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IEZBQ1RPUl83ID0gNTQ1MDsKICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUkFOR0VTVEFSVF83ID0gNDAwMDAwMDE7IAogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBSQU5HRUVORF83ID0gNTAwMDAwMDA7CiAgIAogICAvL1N0YWdlIDgKICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUFJJQ0VfOCA9IDE3NzI7ICAKICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgRkFDVE9SXzggPSAxMTAwMDsKICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUkFOR0VTVEFSVF84ID0gNTAwMDAwMDE7IAogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBSQU5HRUVORF84ID0gNjAwMDAwMDA7CiAgIAogICAvL1N0YWdlIDkKICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUFJJQ0VfOSA9IDg2MzsgIAogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBGQUNUT1JfOSA9IDIzMjAwOwogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBSQU5HRVNUQVJUXzkgPSA2MDAwMDAwMTsgCiAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFJBTkdFRU5EXzkgPSA3MDAwMDAwMDsKICAgCiAgIC8vU3RhZ2UgMTAKICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUFJJQ0VfMTAgPSA0MzI7ICAKICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgRkFDVE9SXzEwID0gNDYwMDA7CiAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFJBTkdFU1RBUlRfMTAgPSA3MDAwMDAwMTsgCiAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFJBTkdFRU5EXzEwID0gODAwMDAwMDA7CiAgIAogICAvL1N0YWdlIDExCiAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFBSSUNFXzExID0gMjE0OyAgCiAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IEZBQ1RPUl8xMSA9IDc4MDAwOwogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBSQU5HRVNUQVJUXzExID0gODAwMDAwMDE7IAogICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBSQU5HRUVORF8xMSA9IDg1MDAwMDAwOwogICAKCiAgIHVpbnQyNTYgcHVibGljIFVuaUNvaW5TaXplPTA7CgogCiAgIGZ1bmN0aW9uICgpIHBheWFibGUgewogICAgIHN1Ym1pdFRva2Vucyhtc2cuc2VuZGVyKTsKICAgfQoKICAgLyoqCiAgICAqIEBkZXYgQ3JlYXRlcyB0b2tlbnMgYW5kIHNlbmQgdG8gdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICAgKiBAcGFyYW0gcmVjaXBpZW50IFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgcmVjaWV2ZSB0aGUgbmV3IHRva2Vucy4KICAgICovCiAgIGZ1bmN0aW9uIHN1Ym1pdFRva2VucyhhZGRyZXNzIHJlY2lwaWVudCkgcGF5YWJsZSB7CiAgICAgCWlmIChtc2cudmFsdWUgPT0gMCkgewogICAgICAgCQl0aHJvdzsKICAgICAJfQoJCQogICAJIAkvL1Blcm1pdCBidXlpbmcgb25seSBiZXR3ZWVuIDEwLzA5LzE3IC0gMTAvMjcvMjAxNyBhbmQgYWZ0ZXIgMTEvMDEvMjAxNwogICAJIAlpZigobm93ID4gc3RhcnQgJiYgbm93IDwgZW5kKSB8fCBub3cgPiBsYXVuY2gpCiAgIAkgCQl7CQkJCQogICAgICAgIAkJdWludDI1NiB0b2tlbnMgPSBtc2cudmFsdWUubXVsKFBSSUNFKS5kaXYoIDEgZXRoZXIpOwogICAgICAgIAkJaWYodG9rZW5zLmFkZChPVkVSQUxMU09MRCkgPiBNQVhUT0tFTlNPTEQpCiAgIAkgCQkJCXsKICAgCQkJCQl0aHJvdzsKICAgCQkJCQl9CgkJCiAgIAkJCQkvL1ByZS1TYWxlIENBUCAxMCwwMDAsMDAwIGNoZWNrCiAgIAkJCQlpZigoKHRva2Vucy5hZGQoT1ZFUkFMTFNPTEQpKSA+IFJBTkdFRU5EX1BSRVNBTEUpICYmIChub3cgPiBzdGFydCAmJiBub3cgPCBlbmQpKQogICAJCQkJCXsKICAgCQkJCQl0aHJvdzsKICAgCQkJCQl9CgkJCiAJCQkJICAgCiAgICAgICAgCQlPVkVSQUxMU09MRCA9IE9WRVJBTExTT0xELmFkZCh0b2tlbnMpOwkKCQogICAJCSAJICAgIC8vIFNlbmQgVUNOIHRvIFJlY2lwaWVudAkKICAgICAgICAJCWJhbGFuY2VzW3JlY2lwaWVudF0gPSBiYWxhbmNlc1tyZWNpcGllbnRdLmFkZCh0b2tlbnMpOwoJIAogICAJIAkJCS8vIFNlbmQgRnVuZHMgdG8gTXVsdGlTaWcKICAgICAgICAJCWlmICghbXVsdGlzaWcuc2VuZChtc2cudmFsdWUpKSB7CiAgICAgICAgICAJCQl0aHJvdzsKICAgICAgICAJCQl9CiAgICAgICAgCQlUcmFuc2ZlcihhZGRyZXNzKHRoaXMpLCByZWNpcGllbnQsIHRva2Vucyk7CiAgICAgICAJCX0KICAgCSAgCSAgZWxzZQogICAJICAJCQl7CiAgIAkgIAkgIAkJdGhyb3c7CiAgIAkgCQkgICAJfQoJCQoJCQoJCS8vVElNSU5HIDEwLzA5LzE3IC0gMTAvMjcvMTcgT1IgQ0FQIDEwLDAwMCwwMDAgcmVhY2hlZAoJCQoJCWlmKG5vdz5zdGFydCAmJiBub3cgPGVuZCkKCQl7CgkJCS8vU3RhZ2UgUHJlLVNhbGUgUmFuZ2UgMCAtIDEwLDAwMCwwMDAgCgkJCWlmKE9WRVJBTExTT0xEID49IFJBTkdFU1RBUlRfUFJFU0FMRSAmJiBPVkVSQUxMU09MRCA8PSBSQU5HRUVORF9QUkVTQUxFKSAKCQkJCXsKCQkJCVBSSUNFID0gUFJJQ0VfUFJFU0FMRSAtICgxICsgT1ZFUkFMTFNPTEQgLSBSQU5HRVNUQVJUX1BSRVNBTEUpLmRpdihGQUNUT1JfUFJFU0FMRSk7CgkJCQl9CgkJfQoJCQoJCS8vVElNSU5HIDExLzAxLzE3IFN0YXJ0IFRva2VuIFNhbGUKCQlpZihub3c+bGF1bmNoKQoJCXsKCQkvL1N0YWdlIFBvc3QtUHJlLVNhbGUgUmFuZ2UgMCAtIDEwLDAwMCwwMDAgCgkJaWYoT1ZFUkFMTFNPTEQgPj0gUkFOR0VTVEFSVF9QUkVTQUxFICYmIE9WRVJBTExTT0xEIDw9IFJBTkdFRU5EX1BSRVNBTEUpIAoJCQl7CgkJCVBSSUNFID0gUFJJQ0VfUFJFU0FMRSAtICgxICsgT1ZFUkFMTFNPTEQgLSBSQU5HRVNUQVJUX1BSRVNBTEUpLmRpdihGQUNUT1JfUFJFU0FMRSk7CgkJCX0KCQkKCQkvL1N0YWdlIE9uZSAxMCwwMDAsMDAxIC0gMTAsMTAwLDAwMCAKCQlpZihPVkVSQUxMU09MRCA+PSBSQU5HRVNUQVJUXzEgJiYgT1ZFUkFMTFNPTEQgPD0gUkFOR0VFTkRfMSkKCQkJewoJCQlQUklDRSA9IFBSSUNFXzEgLSAoMSArIE9WRVJBTExTT0xEIC0gUkFOR0VTVEFSVF8xKS5kaXYoRkFDVE9SXzEpOwoJCQl9CgoJCS8vU3RhZ2UgVHdvIDEwLDEwMCwwMDEgLSAxMSwwMDAsMDAwCgkJaWYoT1ZFUkFMTFNPTEQgPj0gUkFOR0VTVEFSVF8yICYmIE9WRVJBTExTT0xEIDw9IFJBTkdFRU5EXzIpCgkJCXsKCQkJUFJJQ0UgPSBQUklDRV8yIC0gKDEgKyBPVkVSQUxMU09MRCAtIFJBTkdFU1RBUlRfMikuZGl2KEZBQ1RPUl8yKTsKCQkJfQoKCQkvL1N0YWdlIFRocmVlIDExLDAwMCwwMDEgLSAxNSwwMDAsMDAwCgkJaWYoT1ZFUkFMTFNPTEQgPj0gUkFOR0VTVEFSVF8zICYmIE9WRVJBTExTT0xEIDw9IFJBTkdFRU5EXzMpCgkJCXsKCQkJUFJJQ0UgPSBQUklDRV8zIC0gKDEgKyBPVkVSQUxMU09MRCAtIFJBTkdFU1RBUlRfMykuZGl2KEZBQ1RPUl8zKTsKCQkJfQoJCQkKCQkvL1N0YWdlIEZvdXIgMTUsMDAwLDAwMSAtIDIwLDAwMCwwMDAKCQlpZihPVkVSQUxMU09MRCA+PSBSQU5HRVNUQVJUXzQgJiYgT1ZFUkFMTFNPTEQgPD0gUkFOR0VFTkRfNCkKCQkJewoJCQlQUklDRSA9IFBSSUNFXzQgLSAoMSArIE9WRVJBTExTT0xEIC0gUkFOR0VTVEFSVF80KS5kaXYoRkFDVE9SXzQpOwoJCQl9CgkJCQoJCS8vU3RhZ2UgRml2ZSAyMCwwMDAsMDAxIC0gMzAsMDAwLDAwMAoJCWlmKE9WRVJBTExTT0xEID49IFJBTkdFU1RBUlRfNSAmJiBPVkVSQUxMU09MRCA8PSBSQU5HRUVORF81KQoJCQl7CgkJCVBSSUNFID0gUFJJQ0VfNSAtICgxICsgT1ZFUkFMTFNPTEQgLSBSQU5HRVNUQVJUXzUpLmRpdihGQUNUT1JfNSk7CgkJCX0KCQkKCQkvL1N0YWdlIFNpeCAzMCwwMDAsMDAxIC0gNDAsMDAwLDAwMAoJCWlmKE9WRVJBTExTT0xEID49IFJBTkdFU1RBUlRfNiAmJiBPVkVSQUxMU09MRCA8PSBSQU5HRUVORF82KQoJCQl7CgkJCVBSSUNFID0gUFJJQ0VfNiAtICgxICsgT1ZFUkFMTFNPTEQgLSBSQU5HRVNUQVJUXzYpLmRpdihGQUNUT1JfNik7CgkJCX0JCgkJCgkJLy9TdGFnZSBTZXZlbiA0MCwwMDAsMDAxIC0gNTAsMDAwLDAwMAoJCWlmKE9WRVJBTExTT0xEID49IFJBTkdFU1RBUlRfNyAmJiBPVkVSQUxMU09MRCA8PSBSQU5HRUVORF83KQoJCQl7CgkJCVBSSUNFID0gUFJJQ0VfNyAtICgxICsgT1ZFUkFMTFNPTEQgLSBSQU5HRVNUQVJUXzcpLmRpdihGQUNUT1JfNyk7CgkJCX0KCQkJCgkJLy9TdGFnZSBFaWdodCA1MCwwMDAsMDAxIC0gNjAsMDAwLDAwMAoJCWlmKE9WRVJBTExTT0xEID49IFJBTkdFU1RBUlRfOCAmJiBPVkVSQUxMU09MRCA8PSBSQU5HRUVORF84KQoJCQl7CgkJCVBSSUNFID0gUFJJQ0VfOCAtICgxICsgT1ZFUkFMTFNPTEQgLSBSQU5HRVNUQVJUXzgpLmRpdihGQUNUT1JfOCk7CgkJCX0KCQkKCQkvL1N0YWdlIE5pbmUgNjAsMDAwLDAwMSAtIDcwLDAwMCwwMDAKCQlpZihPVkVSQUxMU09MRCA+PSBSQU5HRVNUQVJUXzkgJiYgT1ZFUkFMTFNPTEQgPD0gUkFOR0VFTkRfOSkKCQkJewoJCQlQUklDRSA9IFBSSUNFXzkgLSAoMSArIE9WRVJBTExTT0xEIC0gUkFOR0VTVEFSVF85KS5kaXYoRkFDVE9SXzkpOwoJCQl9CgkJCgkJLy9TdGFnZSBUZW4gNzAsMDAwLDAwMSAtIDgwLDAwMCwwMDAKCQlpZihPVkVSQUxMU09MRCA+PSBSQU5HRVNUQVJUXzEwICYmIE9WRVJBTExTT0xEIDw9IFJBTkdFRU5EXzEwKQoJCQl7CgkJCVBSSUNFID0gUFJJQ0VfMTAgLSAoMSArIE9WRVJBTExTT0xEIC0gUkFOR0VTVEFSVF8xMCkuZGl2KEZBQ1RPUl8xMCk7CgkJCX0JCgkJCgkJLy9TdGFnZSBFbGV2ZW4gODAsMDAwLDAwMSAtIDg1LDAwMCwwMDAKCQlpZihPVkVSQUxMU09MRCA+PSBSQU5HRVNUQVJUXzExICYmIE9WRVJBTExTT0xEIDw9IFJBTkdFRU5EXzExKQoJCQl7CgkJCVBSSUNFID0gUFJJQ0VfMTEgLSAoMSArIE9WRVJBTExTT0xEIC0gUkFOR0VTVEFSVF8xMSkuZGl2KEZBQ1RPUl8xMSk7CgkJCX0KCQl9CgkJCgkKICAgfQoKCSAKICAgZnVuY3Rpb24gc3VibWl0RXRoZXIoYWRkcmVzcyByZWNpcGllbnQpIHBheWFibGUgewogICAgIGlmIChtc2cudmFsdWUgPT0gMCkgewogICAgICAgdGhyb3c7CiAgICAgfQoKICAgICBpZiAoIXJlY2lwaWVudC5zZW5kKG1zZy52YWx1ZSkpIHsKICAgICAgIHRocm93OwogICAgIH0KICAgIAogICB9CgoKICAvL1VuaWNvcm4gU2hvdXRib3gKCiAgc3RydWN0IE1lc3NhZ2VRdWV1ZSB7CiAgICAgICAgICAgc3RyaW5nIG1lc3NhZ2U7IAogIAkJICAgc3RyaW5nIGZyb207CiAgICAgICAgICAgdWludCBleHBpcmVUaW1lc3RhbXA7ICAKICAgICAgICAgICB1aW50IHN0YXJ0VGltZXN0YW1wOwogICAgICAgICAgIGFkZHJlc3Mgc2VuZGVyOyAKICAgICAgIH0KCgkgCiAgICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgbWF4U3BlbmRUb2tlbiA9IDM2MDA7IC8vTWVzc2FnZSBzaG91bGQgbGFzdCBhcHByb3guIDEgaG91ciBtYXgKCiAgICAgTWVzc2FnZVF1ZXVlW10gcHVibGljIG1RdWV1ZTsKIAoJCiAKICAgICAgZnVuY3Rpb24gYWRkTWVzc2FnZVRvUXVldWUoc3RyaW5nIG1zZ19mcm9tLCBzdHJpbmcgbmFtZV9mcm9tLCB1aW50IHNwZW5kVG9rZW4pIHsKICAgICAgICBpZihiYWxhbmNlc1ttc2cuc2VuZGVyXT49c3BlbmRUb2tlbiAmJiBzcGVuZFRva2VuPj0xMCkKICAgICAgICB7CiAgICAgICAgICAgaWYoc3BlbmRUb2tlbj5tYXhTcGVuZFRva2VuKSAKICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgc3BlbmRUb2tlbj1tYXhTcGVuZFRva2VuOwogICAgICAgICAgICAgICB9CiAgICAgICAgICAgCgkJICAgVW5pQ29pblNpemU9VW5pQ29pblNpemUrc3BlbmRUb2tlbjsKICAgICAgICAgICAKICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihzcGVuZFRva2VuKTsKICAgICAgICAgIAoJCSAgLy9JZiBmaXJzdCBtZXNzYWdlIG9yIGxhc3QgbWVzc2FnZSBhbHJlYWR5IGV4cGlyZWQgc2V0IG5ld2VzdCB0aW1lc3RhbXAKICAJCSAgdWludCBleHBpcmVUaW1lc3RhbXA9bm93OwoJCSAgaWYobVF1ZXVlLmxlbmd0aD4wKQoJCQl7CgkJCSBpZihtUXVldWVbbVF1ZXVlLmxlbmd0aC0xXS5leHBpcmVUaW1lc3RhbXA+bm93KQoJCQkgCXsKCQkJIAlleHBpcmVUaW1lc3RhbXAgPSBtUXVldWVbbVF1ZXVlLmxlbmd0aC0xXS5leHBpcmVUaW1lc3RhbXA7CgkJCQl9CgkJCX0gCgkJCgkJIAoJCSAKICAgICAgICAgICBtUXVldWUucHVzaChNZXNzYWdlUXVldWUoewogICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbXNnX2Zyb20sIAogIAkJCQkgICBmcm9tOiBuYW1lX2Zyb20sCiAgICAgICAgICAgICAgICAgICBleHBpcmVUaW1lc3RhbXA6IGV4cGlyZVRpbWVzdGFtcC5hZGQoc3BlbmRUb2tlbikrNjAsICAvL2dpdmUgYXQgbGVhc3QgYXBwcm94IDYwIHNlY29uZHMgcGVyIG1zZwogICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lc3RhbXA6IGV4cGlyZVRpbWVzdGFtcCwKICAgICAgICAgICAgICAgICAgIHNlbmRlcjogbXNnLnNlbmRlcgogICAgICAgICAgICAgICB9KSk7CiAgICAKICAgICAgICAKCQkgCiAgICAgICAgfQoJCWVsc2UgewoJCSAgICAgIHRocm93OwoJCSAgICAgIH0KICAgICAgfQoJICAKCQogICAgZnVuY3Rpb24gZmVlZFVuaWNvcm4odWludCBzcGVuZFRva2VuKSB7CgkKICAgCSAJaWYoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPCBzcGVuZFRva2VuKQogICAgICAgIAl7IHRocm93OyB9CiAgICAgICAJIAlVbmlDb2luU2l6ZT1VbmlDb2luU2l6ZS5hZGQoc3BlbmRUb2tlbik7CiAgICAgICAgCWJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKHNwZW5kVG9rZW4pOwoJCQkKCQkKCSB9IAoJCgkKICAgZnVuY3Rpb24gZ2V0UXVldWVMZW5ndGgoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZXN1bHQpIHsKCSByZXR1cm4gbVF1ZXVlLmxlbmd0aDsKICAgfQogICBmdW5jdGlvbiBnZXRNZXNzYWdlKHVpbnQyNTYgaSkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHN0cmluZywgc3RyaW5nLCB1aW50LCB1aW50LCBhZGRyZXNzKXsKICAgICByZXR1cm4gKG1RdWV1ZVtpXS5tZXNzYWdlLG1RdWV1ZVtpXS5mcm9tLG1RdWV1ZVtpXS5leHBpcmVUaW1lc3RhbXAsbVF1ZXVlW2ldLnN0YXJ0VGltZXN0YW1wLG1RdWV1ZVtpXS5zZW5kZXIgKTsKICAgfQogICBmdW5jdGlvbiBnZXRQcmljZSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVzdWx0KSB7CiAgICAgcmV0dXJuIFBSSUNFOwogICB9CiAgIGZ1bmN0aW9uIGdldFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVzdWx0KSB7CiAgICAgcmV0dXJuIHRvdGFsU3VwcGx5OwogICB9CiAgIGZ1bmN0aW9uIGdldFNvbGQoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlc3VsdCkgewogICAgIHJldHVybiBPVkVSQUxMU09MRDsKICAgfQogICBmdW5jdGlvbiBnZXRVbmlDb2luU2l6ZSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVzdWx0KSB7ICAgIAogICAgIHJldHVybiBVbmlDb2luU2l6ZTsgCiAgIH0gCiAgICBmdW5jdGlvbiBnZXRBZGRyZXNzKCkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgewogICAgIHJldHVybiB0aGlzOwogICB9CiAgICAKCgogIAogICAvLyBBRE1JTiBGdW5jdGlvbnMKCiAgIAogICAvL0luIGVtZXJnZW5jeSBjYXNlcyB0byBzdG9wIG9yIGNoYW5nZSB0aW1pbmdzIAogICBmdW5jdGlvbiBhU2V0U3RhcnQodWludDI1NiBuc3RhcnQpIG9ubHlPd25lciB7CiAgICAgc3RhcnQ9bnN0YXJ0OwogICB9CiAgIGZ1bmN0aW9uIGFTZXRFbmQodWludDI1NiBuZW5kKSBvbmx5T3duZXIgewogICAgIGVuZD1uZW5kOwogICB9CiAgIGZ1bmN0aW9uIGFTZXRMYXVuY2godWludDI1NiBubGF1bmNoKSBvbmx5T3duZXIgewogICAgIGxhdW5jaD1ubGF1bmNoOwogICB9CiAgICAKCiAgIC8vV2UgZG9uJ3Qgd2FudCB0aGUgVW5pY29ybiB0byBzcHJlYWQgaGF0ZWZ1bCBtZXNzYWdlcyAKICAgZnVuY3Rpb24gYURlbGV0ZU1lc3NhZ2UodWludDI1NiBpLHN0cmluZyBmLHN0cmluZyBtKSBvbmx5T3duZXJ7CiAgICAgbVF1ZXVlW2ldLm1lc3NhZ2U9bTsKCSBtUXVldWVbaV0uZnJvbT1mOyAKCQkgfQogICAKICAgLy9DbGVhbiBob3VzZSBmcm9tIHRpbWUgdG8gdGltZQogICBmdW5jdGlvbiBhUHVyZ2VNZXNzYWdlcygpIG9ubHlPd25lcnsKICAgZGVsZXRlIG1RdWV1ZTsgCiAgIH0KCiB9'.
	

]
