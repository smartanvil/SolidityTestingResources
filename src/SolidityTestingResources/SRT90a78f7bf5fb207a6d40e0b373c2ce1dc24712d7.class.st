Class {
	#name : #SRT90a78f7bf5fb207a6d40e0b373c2ce1dc24712d7,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT90a78f7bf5fb207a6d40e0b373c2ce1dc24712d7 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7Ci8qc3RhbmRhcnQgbGlicmFyeSBmb3IgdWludAoqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCB8fCBiID09IDApewogICAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgovKgpjb250cmFjdCB0byBpZGVudGlmeSBvd25lcgoqLwpjb250cmFjdCBPd25hYmxlIHsKCiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIGFkZHJlc3MgcHVibGljIG5ld093bmVyOwoKICBhZGRyZXNzIHB1YmxpYyB0ZWNoU3VwcG9ydDsKCiAgYWRkcmVzcyBwdWJsaWMgbmV3VGVjaFN1cHBvcnQ7CgogIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgb25seVRlY2hTdXBwb3J0KCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHRlY2hTdXBwb3J0KTsKICAgIF87CiAgfQoKICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgX25ld093bmVyKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHJlcXVpcmUoX25ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgbmV3T3duZXIgPSBfbmV3T3duZXI7CiAgfQoKICBmdW5jdGlvbiBhY2NlcHRPd25lcnNoaXAoKSBwdWJsaWMgewogICAgaWYgKG1zZy5zZW5kZXIgPT0gbmV3T3duZXIpIHsKICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHRyYW5zZmVyVGVjaFN1cHBvcnQgKGFkZHJlc3MgX25ld1N1cHBvcnQpIHB1YmxpY3sKICAgIHJlcXVpcmUgKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgbXNnLnNlbmRlciA9PSB0ZWNoU3VwcG9ydCk7CiAgICBuZXdUZWNoU3VwcG9ydCA9IF9uZXdTdXBwb3J0OwogIH0KCiAgZnVuY3Rpb24gYWNjZXB0U3VwcG9ydCgpIHB1YmxpY3sKICAgIGlmKG1zZy5zZW5kZXIgPT0gbmV3VGVjaFN1cHBvcnQpewogICAgICB0ZWNoU3VwcG9ydCA9IG5ld1RlY2hTdXBwb3J0OwogICAgfQogIH0KfQoKLyoKRVJDIC0gMjAgdG9rZW4gY29udHJhY3QKKi8KY29udHJhY3QgVkdDVG9rZW4gaXMgT3duYWJsZSB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7CiAgLy8gVHJpZ2dlcmVkIHdoZW4gdG9rZW5zIGFyZSB0cmFuc2ZlcnJlZC4KICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKCiAgLy8gVHJpZ2dlcmVkIHdoZW5ldmVyIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIGlzIGNhbGxlZC4KICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKCiAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBzeW1ib2wgPSAiVkdDIjsKICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiVm9vR2x1ZUMiOwogIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDI7CiAgdWludDI1NiBfdG90YWxTdXBwbHkgPSA1NTAwMDAwMCpwb3coMTAsZGVjaW1hbHMpOwoKICAvLyBPd25lciBvZiB0aGlzIGNvbnRyYWN0CiAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogIC8vIEJhbGFuY2VzIGZvciBlYWNoIGFjY291bnQKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIC8vIE93bmVyIG9mIGFjY291bnQgYXBwcm92ZXMgdGhlIHRyYW5zZmVyIG9mIGFuIGFtb3VudCB0byBhbm90aGVyIGFjY291bnQKICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCiAgLy8gcG93ZXIgZnVuY3Rpb24KICBmdW5jdGlvbiBwb3codWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1Nil7IC8vcG93ZXIgZnVuY3Rpb24KICAgIHJldHVybiAoYSoqYik7CiAgfQoKICAvKgogIHN0YW5kYXJ0IEVSQy0yMCBmdW5jdGlvbgogIGdldCB0b3RhbCBzdXBwbHkgb2YgRVJDLTIwIFRva2VucwogICovCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gX3RvdGFsU3VwcGx5OwogIH0KCiAgLyoKICBzdGFuZGFydCBFUkMtMjAgZnVuY3Rpb24KICBnZXQgRVJDLTIwIHRva2VuIGJhbGFuY2UgZnJvbSBfYWRkcmVzcwogICovCgogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX2FkZHJlc3NdOwogIH0KCiAgLyoKICAvL3N0YW5kYXJ0IEVSQy0yMCBmdW5jdGlvbgogIHRyYW5zZmVyIHRva2VuIGZyb20gbWVzc2FnZSBzZW5kZXIgdG8gX3RvCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAvL3lvdSBjYW4ndCB0cmFuc2ZlciB0b2tlbiBiYWNrIHRvIHRva2VuIGNvbnRyYWN0CiAgICByZXF1aXJlKHRoaXMgIT0gX3RvKTsKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF9hbW91bnQpOwogICAgVHJhbnNmZXIobXNnLnNlbmRlcixfdG8sX2Ftb3VudCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGFkZHJlc3MgcHVibGljIGNyb3dkc2FsZUNvbnRyYWN0OwogIGJvb2wgZmxhZyA9IGZhbHNlOwogIC8vY29ubmVjdCB0byBjcm93ZHNhbGVDb250cmFjdCwgY2FuIGJlIHVzZSBvbmNlCiAgZnVuY3Rpb24gc2V0Q3Jvd2RzYWxlQ29udHJhY3QgKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyB7CiAgICByZXF1aXJlICghZmxhZyk7CiAgICBjcm93ZHNhbGVDb250cmFjdCA9IF9hZGRyZXNzOwogICAgcmVzZXJ2ZUJhbGFuY2VNYXBbX2FkZHJlc3NdID0gdHJ1ZTsKICAgIGZsYWcgPSB0cnVlOwogIH0KCiAgLyoKICBzdGFuZGFydCBFUkMtMjAgZnVuY3Rpb24KICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbSgKICAgIGFkZHJlc3MgX2Zyb20sCiAgICBhZGRyZXNzIF90bywKICAgIHVpbnQyNTYgX2Ftb3VudAogICAgKXB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgcmVxdWlyZSh0aGlzICE9IF90byk7CgogICAgICBpZiAoYmFsYW5jZXNbX2Zyb21dID49IF9hbW91bnQKICAgICAgICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF9hbW91bnQKICAgICAgICYmIF9hbW91bnQgPiAwCiAgICAgICAmJiBiYWxhbmNlc1tfdG9dICsgX2Ftb3VudCA+IGJhbGFuY2VzW190b10pIHsKICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfYW1vdW50OwogICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX2Ftb3VudDsKICAgICAgIGJhbGFuY2VzW190b10gKz0gX2Ftb3VudDsKICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF9hbW91bnQpOwogICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgewogICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0KCiAgLyoKICBzdGFuZGFydCBFUkMtMjAgZnVuY3Rpb24KICBhcHByb3ZlIHlvdXIgdG9rZW4gYmFsYW5jZSB0byBhbm90aGVyIGFkZHJlc3MKICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfYW1vdW50KXB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX2Ftb3VudDsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfYW1vdW50KTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy9zdGFuZGFydCBFUkMtMjAgZnVuY3Rpb24KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICB9CgogIC8vQ29uc3RydWN0b3IKICBmdW5jdGlvbiBWR0NUb2tlbihhZGRyZXNzIF9hZGRyZXNzT3duZXIpIHB1YmxpYyB7CiAgICBvd25lciA9IF9hZGRyZXNzT3duZXI7CiAgICB0ZWNoU3VwcG9ydCA9IG1zZy5zZW5kZXI7CiAgICBiYWxhbmNlc1t0aGlzXSA9IF90b3RhbFN1cHBseTsKICAgIHRlYW1CYWxhbmNlTWFwW19hZGRyZXNzT3duZXJdID0gdHJ1ZTsKICAgIGJvdW50eUJhbGFuY2VNYXBbX2FkZHJlc3NPd25lcl0gPSB0cnVlOwogICAgYWR2aXNvcnNCYWxhbmNlTWFwW19hZGRyZXNzT3duZXJdID0gdHJ1ZTsKICAgIHJlZmVyYWxGdW5kQmFsYW5jZU1hcFtfYWRkcmVzc093bmVyXSA9IHRydWU7CiAgICByZXNlcnZlQmFsYW5jZU1hcFtfYWRkcmVzc093bmVyXSA9IHRydWU7CiAgfQogIC8vbWFrZSBpbnZlc3RvciBiYWxhbmNlID0gMAogIGZ1bmN0aW9uIGJ1cm5Ub2tlbnMoYWRkcmVzcyBfYWRkcmVzcykgcHVibGljewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGNyb3dkc2FsZUNvbnRyYWN0KTsKICAgIGJhbGFuY2VzW19hZGRyZXNzXSA9IDA7CiAgfQogIC8vIFRva2VucyByZXNlcnZlIChsYXN0IHNjcmVlbiBpbiBkb2N1bWVudGF0aW9uKQogIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIHRlYW1CYWxhbmNlTWFwOwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGJvdW50eUJhbGFuY2VNYXA7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgYWR2aXNvcnNCYWxhbmNlTWFwOwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIHJlZmVyYWxGdW5kQmFsYW5jZU1hcDsKICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyByZXNlcnZlQmFsYW5jZU1hcDsKCgogIHVpbnQgcHJpdmF0ZSBjcm93ZHNhbGVCYWxhbmNlID0gMzYwMDAwMDAqcG93KDEwLGRlY2ltYWxzKTsKCiAgZnVuY3Rpb24gZ2V0Q3Jvd2RzYWxlQmFsYW5jZSgpIHB1YmxpYyB2aWV3IHJldHVybnModWludCkgewogICAgcmV0dXJuIGNyb3dkc2FsZUJhbGFuY2U7CiAgfQoKCiAgdWludCBwdWJsaWMgdGVhbUJhbGFuY2UgPSAxMDAwMDAwKnBvdygxMCxkZWNpbWFscyk7CiAgdWludCBwdWJsaWMgYm91bnR5QmFsYW5jZSA9IDMwMDAwMDAqcG93KDEwLGRlY2ltYWxzKTsKICB1aW50IHB1YmxpYyBvd25lckJhbGFuY2UgPSAxMDAwMDAwKnBvdygxMCxkZWNpbWFscyk7CiAgdWludCBwdWJsaWMgYWR2aXNvcnNCYWxhbmNlID0gMTAwMDAwMCpwb3coMTAsZGVjaW1hbHMpOwogIHVpbnQgcHVibGljIHJlZmVyYWxGdW5kQmFsYW5jZSA9IDMwMDAwMDAqcG93KDEwLGRlY2ltYWxzKTsKICB1aW50IHB1YmxpYyByZXNlcnZlQmFsYW5jZSA9IDEwMDAwMDAwKnBvdygxMCxkZWNpbWFscyk7CgogIGZ1bmN0aW9uIGFkZFRSQSAoYWRkcmVzcyBfYWRkcmVzcykgcHVibGljIG9ubHlPd25lciB7CiAgICB0ZWFtQmFsYW5jZU1hcFtfYWRkcmVzc10gPSB0cnVlOwogIH0KCiAgZnVuY3Rpb24gcmVtb3ZlVFJBIChhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgb25seU93bmVyIHsKICAgIHRlYW1CYWxhbmNlTWFwW19hZGRyZXNzXSA9IGZhbHNlOwogIH0KCiAgZnVuY3Rpb24gYWRkQlJBIChhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgb25seU93bmVyIHsKICAgIGJvdW50eUJhbGFuY2VNYXBbX2FkZHJlc3NdID0gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZUJSQSAoYWRkcmVzcyBfYWRkcmVzcykgcHVibGljIG9ubHlPd25lciB7CiAgICBib3VudHlCYWxhbmNlTWFwW19hZGRyZXNzXSA9IGZhbHNlOwogIH0KCiAgZnVuY3Rpb24gYWRkQVJBIChhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgb25seU93bmVyIHsKICAgIGFkdmlzb3JzQmFsYW5jZU1hcFtfYWRkcmVzc10gPSB0cnVlOwogIH0KCiAgZnVuY3Rpb24gcmVtb3ZlQVJBIChhZGRyZXNzIF9hZGRyZXNzKSBwdWJsaWMgb25seU93bmVyIHsKICAgIGFkdmlzb3JzQmFsYW5jZU1hcFtfYWRkcmVzc10gPSBmYWxzZTsKICB9CgogIGZ1bmN0aW9uIGFkZEZSQSAoYWRkcmVzcyBfYWRkcmVzcykgcHVibGljIG9ubHlPd25lciB7CiAgICByZWZlcmFsRnVuZEJhbGFuY2VNYXBbX2FkZHJlc3NdID0gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZUZSQSAoYWRkcmVzcyBfYWRkcmVzcykgcHVibGljIG9ubHlPd25lciB7CiAgICByZWZlcmFsRnVuZEJhbGFuY2VNYXBbX2FkZHJlc3NdID0gZmFsc2U7CiAgfQoKICBmdW5jdGlvbiBhZGRSUkEgKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVzZXJ2ZUJhbGFuY2VNYXBbX2FkZHJlc3NdID0gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZVJSQSAoYWRkcmVzcyBfYWRkcmVzcykgcHVibGljIG9ubHlPd25lciB7CiAgICByZXNlcnZlQmFsYW5jZU1hcFtfYWRkcmVzc10gPSBmYWxzZTsKICB9CgogIGZ1bmN0aW9uIHNlbmRUZWFtQmFsYW5jZSAoYWRkcmVzcyBfYWRkcmVzcywgdWludCBfdmFsdWUpIHB1YmxpY3sKICAgIHJlcXVpcmUodGVhbUJhbGFuY2VNYXBbbXNnLnNlbmRlcl0pOwogICAgdGVhbUJhbGFuY2UgPSB0ZWFtQmFsYW5jZS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW3RoaXNdID0gYmFsYW5jZXNbdGhpc10uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfYWRkcmVzc10gPSBiYWxhbmNlc1tfYWRkcmVzc10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcih0aGlzLF9hZGRyZXNzLCBfdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gc2VuZEJvdW50eUJhbGFuY2UgKGFkZHJlc3MgX2FkZHJlc3MsIHVpbnQgX3ZhbHVlKSBwdWJsaWN7CiAgICByZXF1aXJlKGJvdW50eUJhbGFuY2VNYXBbbXNnLnNlbmRlcl0pOwogICAgYm91bnR5QmFsYW5jZSA9IGJvdW50eUJhbGFuY2Uuc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1t0aGlzXSA9IGJhbGFuY2VzW3RoaXNdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX2FkZHJlc3NdID0gYmFsYW5jZXNbX2FkZHJlc3NdLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIodGhpcyxfYWRkcmVzcywgX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIHNlbmRBZHZpc29yc0JhbGFuY2UgKGFkZHJlc3MgX2FkZHJlc3MsIHVpbnQgX3ZhbHVlKSBwdWJsaWN7CiAgICByZXF1aXJlKGFkdmlzb3JzQmFsYW5jZU1hcFttc2cuc2VuZGVyXSk7CiAgICBhZHZpc29yc0JhbGFuY2UgPSBhZHZpc29yc0JhbGFuY2Uuc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1t0aGlzXSA9IGJhbGFuY2VzW3RoaXNdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX2FkZHJlc3NdID0gYmFsYW5jZXNbX2FkZHJlc3NdLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIodGhpcyxfYWRkcmVzcywgX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIHNlbmRSZWZlcmFsbEZ1bmRCYWxhbmNlIChhZGRyZXNzIF9hZGRyZXNzLCB1aW50IF92YWx1ZSkgcHVibGljewogICAgcmVxdWlyZShyZWZlcmFsRnVuZEJhbGFuY2VNYXBbbXNnLnNlbmRlcl0pOwogICAgcmVmZXJhbEZ1bmRCYWxhbmNlID0gcmVmZXJhbEZ1bmRCYWxhbmNlLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbdGhpc10gPSBiYWxhbmNlc1t0aGlzXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW19hZGRyZXNzXSA9IGJhbGFuY2VzW19hZGRyZXNzXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKHRoaXMsX2FkZHJlc3MsIF92YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiBzZW5kUmVzZXJ2ZUJhbGFuY2UgKGFkZHJlc3MgX2FkZHJlc3MsIHVpbnQgX3ZhbHVlKSBwdWJsaWN7CiAgICByZXF1aXJlKHJlc2VydmVCYWxhbmNlTWFwW21zZy5zZW5kZXJdKTsKICAgIHJlc2VydmVCYWxhbmNlID0gcmVzZXJ2ZUJhbGFuY2Uuc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1t0aGlzXSA9IGJhbGFuY2VzW3RoaXNdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX2FkZHJlc3NdID0gYmFsYW5jZXNbX2FkZHJlc3NdLmFkZChfdmFsdWUpOwogICAgVHJhbnNmZXIodGhpcyxfYWRkcmVzcywgX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIHNlbmRPd25lcnNCYWxhbmNlIChhZGRyZXNzIF9hZGRyZXNzLCB1aW50IF92YWx1ZSkgcHVibGljIG9ubHlPd25lcnsKICAgIG93bmVyQmFsYW5jZSA9IG93bmVyQmFsYW5jZS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW3RoaXNdID0gYmFsYW5jZXNbdGhpc10uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfYWRkcmVzc10gPSBiYWxhbmNlc1tfYWRkcmVzc10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcih0aGlzLF9hZGRyZXNzLCBfdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gc2VuZENyb3dkc2FsZUJhbGFuY2UgKGFkZHJlc3MgX2FkZHJlc3MsIHVpbnQgX3ZhbHVlKSBwdWJsaWMgewogICAgcmVxdWlyZSAobXNnLnNlbmRlciA9PSBjcm93ZHNhbGVDb250cmFjdCk7CiAgICBjcm93ZHNhbGVCYWxhbmNlID0gY3Jvd2RzYWxlQmFsYW5jZS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW3RoaXNdID0gYmFsYW5jZXNbdGhpc10uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfYWRkcmVzc10gPSBiYWxhbmNlc1tfYWRkcmVzc10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcih0aGlzLF9hZGRyZXNzLCBfdmFsdWUpOwogIH0KCiAgYm9vbCBwcml2YXRlIGlzUmVmZXJyYWxCYWxhbmNlc1NlbmRlZCA9IGZhbHNlOwoKICBmdW5jdGlvbiBnZXRSZWZCYWxTZW5kZWQgKCkgcHVibGljIHZpZXcgcmV0dXJucyhib29sKXsKICAgICAgcmV0dXJuIGlzUmVmZXJyYWxCYWxhbmNlc1NlbmRlZDsKICB9CgoKICAvLyBEYXNoYm9hcmQgZnVuY3Rpb24KICBmdW5jdGlvbiByZWZlcnJhbFByb2dyYW0gKGFkZHJlc3NbXSBfYWRkcmVzc2VzLCB1aW50W10gX3ZhbHVlcywgdWludCBfc3VtbWFyeSkgcHVibGljIG9ubHlUZWNoU3VwcG9ydCB7CiAgICByZXF1aXJlIChfc3VtbWFyeSA8PSBnZXRDcm93ZHNhbGVCYWxhbmNlKCkpOwogICAgcmVxdWlyZShfYWRkcmVzc2VzLmxlbmd0aCA9PSBfdmFsdWVzLmxlbmd0aCk7CiAgICBiYWxhbmNlc1t0aGlzXSA9IGJhbGFuY2VzW3RoaXNdLnN1Yihfc3VtbWFyeSk7CiAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBfYWRkcmVzc2VzLmxlbmd0aDsgaSsrKXsKICAgICAgYmFsYW5jZXNbX2FkZHJlc3Nlc1tpXV0gPSBiYWxhbmNlc1tfYWRkcmVzc2VzW2ldXS5hZGQoX3ZhbHVlc1tpXSk7CiAgICAgIFRyYW5zZmVyKHRoaXMsX2FkZHJlc3Nlc1tpXSxfdmFsdWVzW2ldKTsKICAgIH0KICAgIGlzUmVmZXJyYWxCYWxhbmNlc1NlbmRlZCA9IHRydWU7CiAgfQoKICAvLyBhdCB0aGUgZW5kIG9mIGljbyBidXJuIHVuc29sZCB0b2tlbnMKICBmdW5jdGlvbiBmaW5pc2hJY28oKSBwdWJsaWN7CiAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBjcm93ZHNhbGVDb250cmFjdCk7CiAgICAgIGJhbGFuY2VzW3RoaXNdID0gYmFsYW5jZXNbdGhpc10uc3ViKGNyb3dkc2FsZUJhbGFuY2UpOwogICAgICBUcmFuc2Zlcih0aGlzLDAsY3Jvd2RzYWxlQmFsYW5jZSk7CiAgICAgIF90b3RhbFN1cHBseSA9IF90b3RhbFN1cHBseS5zdWIoY3Jvd2RzYWxlQmFsYW5jZSk7CiAgICAgIGNyb3dkc2FsZUJhbGFuY2UgPSAwOwogIH0KfQ=='.
	

]
