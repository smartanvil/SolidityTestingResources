Class {
	#name : #SRT1dc994010375d1b6c0421f825c05c75f426031ec,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT1dc994010375d1b6c0421f825c05c75f426031ec >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjE7Cgpjb250cmFjdCBNYXRoCnsKICAgIC8qCiAgICBzdGFuZGFyZCB1aW50MjU2IGZ1bmN0aW9ucwogICAgICovCgogICAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICBhc3NlcnQoKHogPSB4ICsgeSkgPj0geCk7CiAgICB9CgogICAgZnVuY3Rpb24gc3ViKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICBhc3NlcnQoKHogPSB4IC0geSkgPD0geCk7CiAgICB9CgogICAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICBhc3NlcnQoKHogPSB4ICogeSkgPj0geCk7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICB6ID0geCAvIHk7CiAgICB9CgogICAgZnVuY3Rpb24gbWluKHVpbnQyNTYgeCwgdWludDI1NiB5KSBjb25zdGFudCBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2IHopIHsKICAgICAgICByZXR1cm4geCA8PSB5ID8geCA6IHk7CiAgICB9CiAgICBmdW5jdGlvbiBtYXgodWludDI1NiB4LCB1aW50MjU2IHkpIGNvbnN0YW50IGludGVybmFsIHJldHVybnMgKHVpbnQyNTYgeikgewogICAgICAgIHJldHVybiB4ID49IHkgPyB4IDogeTsKICAgIH0KfQoKY29udHJhY3QgR3Jhc3MgaXMgTWF0aAp7CiAgdWludDI1NiBwdWJsaWMgYXZhaWxhYmxlVG9rZW5zOwogIHVpbnQyNTYgY3VycmVudFRva2VuUHJpY2VJbkRvbGxhcjsKCiAgdWludDI1NiBwdWJsaWMgbGFzdFVwZGF0ZUV0aGVyUHJpY2U7CiAgdWludDI1NiBwdWJsaWMgZXRoZXJQcmljZUluRG9sbGFySW47CiAgdWludDI1NiBwdWJsaWMgZXRoZXJQcmljZUluRG9sbGFyT3V0OwoKICBmdW5jdGlvbiBnZXRDdXJyZW50VG9rZW5QcmljZSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KQogIHsKICAgICAgdWludDI1NiB0b2RheSA9IGdldFRvZGF5KCk7CiAgICAgIHJldHVybiAodG9rZW5QcmljZUhpc3RvcnlbdG9kYXldID09IDApP2N1cnJlbnRUb2tlblByaWNlSW5Eb2xsYXI6dG9rZW5QcmljZUhpc3RvcnlbdG9kYXldOwogIH0KCiAgbWFwcGluZyh1aW50MjU2ID0+IHVpbnQyNTYpIHB1YmxpYyB0b2tlblByaWNlSGlzdG9yeTsKICBzdHJ1Y3QgRXh0cmFUb2tlbnNJbmZvCiAgewogICAgdWludDI1NiB0aW1lc3RhbXA7CiAgICB1aW50MjU2IGV4dHJhVG9rZW5zOwogICAgc3RyaW5nICBwcm9vZkxpbms7CiAgICB1aW50MjU2IHZpZGVvRmlsZUhhc2g7CiAgfQoKICBFeHRyYVRva2Vuc0luZm9bXSBwdWJsaWMgZXh0cmFUb2tlbnM7CgogIHN0cnVjdCBUb2tlbkluZm8KICB7CiAgICB1aW50MjU2IGFtb3VudDsKICAgIGJvb2wgaXNSZXR1cm5lZEluUG9vbDsKICB9CgogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwoKICAvLyBhZGRyZXNzID0+IGRheSA9PiBhbW91bnQKICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyh1aW50MjU2ID0+IFRva2VuSW5mbykpIHRpbWVUYWJsZTsKICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyh1aW50MjU2ID0+IHVpbnQyNTYpKSBib251c2VzOwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VzOwogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICBzdHJpbmcgcHVibGljIG5hbWU7CiAgdWludDggcHVibGljIGRlY2ltYWxzOwogIHN0cmluZyBwdWJsaWMgc3ltYm9sOwoKICBib29sIGlzQ2FuQnV5ID0gdHJ1ZTsKCiAgbW9kaWZpZXIgY2FuQnV5KCkKICB7CiAgICAgIGFzc2VydChpc0NhbkJ1eSk7CiAgICAgIF87CiAgfQoKICBmdW5jdGlvbiBjaGFuZ2VTdGF0ZShib29sIGJOZXdTdGF0ZSkgcHVibGljIG9ubHlBZG1pbgogIHsKICAgICAgaXNDYW5CdXkgPSBiTmV3U3RhdGU7CiAgfQoKICBhZGRyZXNzIG93bmVyOwogIG1hcHBpbmcoYWRkcmVzcyA9PiBib29sKSBhZG1pbnM7CiAgbW9kaWZpZXIgb25seUFkbWluKCkKICB7CiAgICAgIGFzc2VydChhZG1pbnNbbXNnLnNlbmRlcl0gPT0gdHJ1ZSB8fCBtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgXzsKICB9CgogIG1vZGlmaWVyIG9ubHlPd25lcigpCiAgewogICAgICBhc3NlcnQobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgIF87CiAgfQogIGZ1bmN0aW9uIGFkZEFkbWluKGFkZHJlc3MgYWRkcikgcHVibGljIG9ubHlPd25lcgogIHsKICAgICAgYWRtaW5zW2FkZHJdID0gdHJ1ZTsKICB9CiAgZnVuY3Rpb24gcmVtb3ZlQWRtaW4oYWRkcmVzcyBhZGRyKSBwdWJsaWMgb25seU93bmVyCiAgewogICAgICBhZG1pbnNbYWRkcl0gPSBmYWxzZTsKICB9CgogIGZ1bmN0aW9uIEdyYXNzKCkgcHVibGljCiAgewogICAgLy8gc3RhcnRUaW1lID0gYmxvY2sudGltZXN0YW1wOwogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgYWRtaW5zW21zZy5zZW5kZXJdID0gdHJ1ZTsKICAgIHRvdGFsU3VwcGx5ID0gMDsKICAgIG5hbWUgPSAnR1JBU1MgVG9rZW4nOwogICAgZGVjaW1hbHMgPSAxODsKICAgIHN5bWJvbCA9ICdHUkFTUyc7CiAgICBhdmFpbGFibGVUb2tlbnMgPSA4MDAgKiAxMCoqMTg7CiAgICBjdXJyZW50VG9rZW5QcmljZUluRG9sbGFyID0gMzUgKiAxMDA7IC8vIDM1LjAwJCAocHJpY2UgbWF5IGNoYW5nZSkKCiAgICBldGhlclByaWNlSW5Eb2xsYXJJbiA9IDM4OCAqIDEwMDsKICAgIGV0aGVyUHJpY2VJbkRvbGxhck91dCA9IDQ1MCAqIDEwMDsKICAgIGxhc3RVcGRhdGVFdGhlclByaWNlID0gYmxvY2sudGltZXN0YW1wOwogIH0KCiAgZnVuY3Rpb24gaW5jcmVhc2VNYXhBdmFpbGFibGVUb2tlbnModWludDI1NiBhbW91bnQsIHN0cmluZyBsaW5rLCB1aW50MjU2IHZpZGVvRmlsZUhhc2gpIG9ubHlBZG1pbiBwdWJsaWMKICB7CiAgICBleHRyYVRva2Vucy5wdXNoKEV4dHJhVG9rZW5zSW5mbyhibG9jay50aW1lc3RhbXAsIGFtb3VudCwgbGluaywgdmlkZW9GaWxlSGFzaCkpOwogICAgYXZhaWxhYmxlVG9rZW5zID0gYWRkKGF2YWlsYWJsZVRva2VucywgYW1vdW50KTsKICB9CgogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCiAgZnVuY3Rpb24gdXBkYXRlRXRoZXJQcmljZSAodWludDI1NiBuZXdQcmljZUluLCB1aW50MjU2IG5ld1ByaWNlT3V0KSBvbmx5QWRtaW4gcHVibGljCiAgewogICAgZXRoZXJQcmljZUluRG9sbGFySW4gPSBuZXdQcmljZUluOwogICAgZXRoZXJQcmljZUluRG9sbGFyT3V0ID0gbmV3UHJpY2VPdXQ7CiAgICBsYXN0VXBkYXRlRXRoZXJQcmljZSA9IGJsb2NrLnRpbWVzdGFtcDsKICB9CgogIG1vZGlmaWVyIGlzRXRoZXJQcmljZVVwZGF0ZWQoKQogIHsKICAgICAgcmVxdWlyZShub3cgLSBsYXN0VXBkYXRlRXRoZXJQcmljZSA8IDI0IGhvdXJzKTsKICAgICAgXzsKICB9CgogIGZ1bmN0aW9uIHVwZGF0ZVRva2VuUHJpY2UgKHVpbnQyNTYgbmV3UHJpY2UpIG9ubHlBZG1pbiBwdWJsaWMKICB7CiAgICBjdXJyZW50VG9rZW5QcmljZUluRG9sbGFyID0gbmV3UHJpY2U7CiAgfQoKICBmdW5jdGlvbiBnZXRUb2RheSgpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KQogIHsKICAgIHJldHVybiBibG9jay50aW1lc3RhbXAgLyAyNCBob3VyczsKICB9CgogIGZ1bmN0aW9uKCkgaXNFdGhlclByaWNlVXBkYXRlZCBjYW5CdXkgaXNJbml0aWFsaXplZCBwYXlhYmxlIHB1YmxpYwogIHsKICAgIGJ1eUludGVybmFsKG1zZy5zZW5kZXIpOwogIH0KCiAgZnVuY3Rpb24gYnV5Rm9yKGFkZHJlc3MgYWRkcikgaXNFdGhlclByaWNlVXBkYXRlZCBjYW5CdXkgb25seUFkbWluIGlzSW5pdGlhbGl6ZWQgcGF5YWJsZSBwdWJsaWMKICB7CiAgICBidXlJbnRlcm5hbChhZGRyKTsKICB9CgogIGZ1bmN0aW9uIGJ1eSgpIGlzRXRoZXJQcmljZVVwZGF0ZWQgY2FuQnV5IHBheWFibGUgaXNJbml0aWFsaXplZCBwdWJsaWMKICB7CiAgICBidXlJbnRlcm5hbChtc2cuc2VuZGVyKTsKICB9CgogIGZ1bmN0aW9uIGdldFBhcnRuZXJCYWxhbmNlIChhZGRyZXNzIGFkZHIpIHB1YmxpYyB2aWV3IHJldHVybnModWludDI1NikKICB7CiAgICByZXR1cm4gcGFydG5lcnNbYWRkcl07CiAgfQoKICBmdW5jdGlvbiBwYXJ0bmVyV2l0aGRyYXcgKCkgaXNJbml0aWFsaXplZCBwdWJsaWMKICB7CiAgICBhc3NlcnQgKHBhcnRuZXJzW21zZy5zZW5kZXJdID4gMCk7CiAgICB1aW50MjU2IGV0aFRvV2lkdGhkcmF3ID0gcGFydG5lcnNbbXNnLnNlbmRlcl07CiAgICBwYXJ0bmVyc1ttc2cuc2VuZGVyXSA9IDA7CiAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGV0aFRvV2lkdGhkcmF3KTsKICB9CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwYXJ0bmVyczsKICAvLyByZWZmZXJhbCA9PiBwYXJ0bmVyCiAgbWFwcGluZyhhZGRyZXNzID0+IGFkZHJlc3MpIHJlZmVycmFsczsKCiAgZnVuY3Rpb24gdGFrZUV0aGVyKGFkZHJlc3MgZGVzdCwgdWludDI1NiBhbW91bnQpIG9ubHlBZG1pbiBwdWJsaWMKICB7CiAgICAgIGRlc3QudHJhbnNmZXIoYW1vdW50KTsKICB9CgogIGZ1bmN0aW9uIGFkZEV0aGVyKCkgcGF5YWJsZSBvbmx5QWRtaW4gcHVibGljCiAgewogIH0KCiAgZnVuY3Rpb24gYnV5V2l0aFByb21vKGFkZHJlc3MgcGFydG5lcikgaXNFdGhlclByaWNlVXBkYXRlZCBjYW5CdXkgaXNJbml0aWFsaXplZCBwYXlhYmxlIHB1YmxpYwogIHsKICAgICAgaWYgKHJlZmVycmFsc1ttc2cuc2VuZGVyXSA9PSAwICYmIHBhcnRuZXIgIT0gbXNnLnNlbmRlcikKICAgICAgewogICAgICAgIHJlZmVycmFsc1ttc2cuc2VuZGVyXSA9IHBhcnRuZXI7CiAgICAgIH0KCiAgICAgIGJ1eUludGVybmFsKG1zZy5zZW5kZXIpOwogIH0KCiAgZnVuY3Rpb24gYnV5SW50ZXJuYWwoYWRkcmVzcyBhZGRyKSBpbnRlcm5hbAogIHsKICAgIGlmIChyZWZlcnJhbHNbYWRkcl0gIT0gMCkKICAgIHsKICAgICAgICBwYXJ0bmVyc1tyZWZlcnJhbHNbYWRkcl1dICs9IG1zZy52YWx1ZSAvIDEwMDsgLy8gMSUgdG8gcGFydG5lcgogICAgfQoKICAgIGFzc2VydCAoaXNDb250cmFjdChhZGRyKSA9PSBmYWxzZSk7CgogICAgLy8g0L/RgNC+0LLQtdGA0LrQsCBsYXN0VXBkYXRlRXRoZXJQcmljZQogICAgdWludDI1NiB0b2RheSA9IGdldFRvZGF5KCk7CiAgICBpZiAodG9rZW5QcmljZUhpc3RvcnlbdG9kYXldID09IDApIHRva2VuUHJpY2VIaXN0b3J5W3RvZGF5XSA9IGN1cnJlbnRUb2tlblByaWNlSW5Eb2xsYXI7CgogICAgLy8gdGltZVRhYmxlCiAgICB1aW50MjU2IGFtb3VudCA9IG1zZy52YWx1ZSAqIGV0aGVyUHJpY2VJbkRvbGxhckluIC8gdG9rZW5QcmljZUhpc3RvcnlbdG9kYXldIDsKICAgIGlmIChhbW91bnQgPiBhdmFpbGFibGVUb2tlbnMpCiAgICB7CiAgICAgICBhZGRyLnRyYW5zZmVyKChhbW91bnQgLSBhdmFpbGFibGVUb2tlbnMpICogdG9rZW5QcmljZUhpc3RvcnlbdG9kYXldIC8gZXRoZXJQcmljZUluRG9sbGFySW4pOwogICAgICAgYW1vdW50ID0gYXZhaWxhYmxlVG9rZW5zOwogICAgfQoKICAgIGFzc2VydChhbW91bnQgPiAwKTsKCiAgICBhdmFpbGFibGVUb2tlbnMgPSBzdWIoYXZhaWxhYmxlVG9rZW5zLCBhbW91bnQpOwoKICAgIC8vIGlzIG5ldyBkYXkgPwogICAgaWYgKHRpbWVUYWJsZVthZGRyXVt0b2RheV0uYW1vdW50ID09IDApCiAgICB7CiAgICAgIHRpbWVUYWJsZVthZGRyXVt0b2RheV0gPSBUb2tlbkluZm8oYW1vdW50LCBmYWxzZSk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgIHRpbWVUYWJsZVthZGRyXVt0b2RheV0uYW1vdW50ICs9IGFtb3VudDsKICAgIH0KCiAgICAvLyAgICAgICAgICAgICAgICAgIDwgMzAuMDMuMjAxOAogICAgaWYgKGJsb2NrLnRpbWVzdGFtcCA8IDE1MjIzNTcyMDAgJiYgYm9udXNlc1thZGRyXVt0b2RheV0gPT0gMCkKICAgIHsKICAgICAgYm9udXNlc1thZGRyXVt0b2RheV0gPSAxOwogICAgfQoKICAgIGJhbGFuY2VzW2FkZHJdID0gYWRkKGJhbGFuY2VzW2FkZHJdLCBhbW91bnQpOwogICAgdG90YWxTdXBwbHkgPSBhZGQodG90YWxTdXBwbHksIGFtb3VudCk7CiAgICBlbWl0IFRyYW5zZmVyKDAsIGFkZHIsIGFtb3VudCk7CiAgfQoKICBmdW5jdGlvbiBjYWxjdWxhdGVQcm9maXQgKHVpbnQyNTYgZGF5KSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyhpbnQyNTYpCiAgewogICAgdWludDI1NiB0b2RheSA9IGdldFRvZGF5KCk7CiAgICBhc3NlcnQodG9kYXkgPj0gZGF5KTsKICAgIHVpbnQyNTYgZGF5c0xlZnQgPSB0b2RheSAtIGRheTsKICAgIGludDI1NiBleHRyYVByb2ZpdCA9IDA7CgogICAgLy8gaXMgcmVmZXJyYWwgPwogICAgaWYgKHJlZmVycmFsc1ttc2cuc2VuZGVyXSAhPSAwKSBleHRyYVByb2ZpdCsrOwogICAgLy8gcGFydGljaXBhbnQgdW50aWwgTWFyY2ggMzAKICAgIGlmIChib251c2VzW21zZy5zZW5kZXJdW2RheV0gPiAwKSBleHRyYVByb2ZpdCsrOwoKICAgIGlmIChkYXlzTGVmdCA8PSA3KSByZXR1cm4gLTEwOwogICAgaWYgKGRheXNMZWZ0IDw9IDE0KSByZXR1cm4gLTU7CiAgICBpZiAoZGF5c0xlZnQgPD0gMjEpIHJldHVybiAxICsgZXh0cmFQcm9maXQ7CiAgICBpZiAoZGF5c0xlZnQgPD0gMjgpIHJldHVybiAzICsgZXh0cmFQcm9maXQ7CiAgICBpZiAoZGF5c0xlZnQgPD0gNjApIHJldHVybiA1ICsgZXh0cmFQcm9maXQ7CiAgICBpZiAoZGF5c0xlZnQgPD0gOTApIHJldHVybiAxMiArIGV4dHJhUHJvZml0OwogICAgcmV0dXJuIDE4ICsgZXh0cmFQcm9maXQ7CiAgfQoKICBmdW5jdGlvbiBnZXRUb2tlbnNQZXJEYXkodWludDI1NiBfZGF5KSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KQogIHsKICAgICAgcmV0dXJuIHRpbWVUYWJsZVttc2cuc2VuZGVyXVtfZGF5XS5hbW91bnQ7CiAgfQoKICAvLyByZXR1cm5zIGFtb3VudCwgZXRoZXIKICBmdW5jdGlvbiBnZXRQcm9maXRGb3JEYXkodWludDI1NiBkYXksIHVpbnQyNTYgYW1vdW50KSBpc0V0aGVyUHJpY2VVcGRhdGVkIHB1YmxpYyBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYsIHVpbnQyNTYpCiAgewogICAgYXNzZXJ0IChkYXkgPD0gZ2V0VG9kYXkoKSk7CgogICAgdWludDI1NiB0b2tlblByaWNlID0gdG9rZW5QcmljZUhpc3RvcnlbZGF5XTsKICAgIGlmICh0aW1lVGFibGVbbXNnLnNlbmRlcl1bZGF5XS5hbW91bnQgPCBhbW91bnQpIGFtb3VudCA9IHRpbWVUYWJsZVttc2cuc2VuZGVyXVtkYXldLmFtb3VudDsKCiAgICBhc3NlcnQgKGFtb3VudCA+IDApOwoKICAgIHJldHVybiAoYW1vdW50LCBhbW91bnQgKiB0b2tlblByaWNlICogdWludDI1NigxMDAgKyBjYWxjdWxhdGVQcm9maXQoZGF5KSkgLyAxMDAgLyBldGhlclByaWNlSW5Eb2xsYXJPdXQpOwogIH0KCiAgZnVuY3Rpb24gcmV0dXJuVG9rZW5zSW5Qb29sIChhZGRyZXNzW10gYWRkciwgdWludDI1NltdIF9kYXlzKSBwdWJsaWMKICB7CiAgICBhc3NlcnQgKGFkZHIubGVuZ3RoID09IF9kYXlzLmxlbmd0aCk7CgogICAgVG9rZW5JbmZvIHN0b3JhZ2UgaW5mbzsKICAgIGZvcih1aW50MjU2IGkgPSAwOyBpIDwgYWRkci5sZW5ndGg7aSsrKQogICAgewogICAgICBhc3NlcnQoX2RheXNbaV0gKyA5MiA8IGdldFRvZGF5KCkgJiYgaW5mby5hbW91bnQgPiAwKTsKICAgICAgaW5mbyA9IHRpbWVUYWJsZVthZGRyW2ldXVtfZGF5c1tpXV07CiAgICAgIGluZm8uaXNSZXR1cm5lZEluUG9vbCA9IHRydWU7CiAgICAgIGF2YWlsYWJsZVRva2VucyA9IGFkZChhdmFpbGFibGVUb2tlbnMsIGluZm8uYW1vdW50KTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGdldEluZm8oYWRkcmVzcyBhZGRyLCB1aW50MjU2IHN0YXJ0LCB1aW50MjU2IGVuZCkgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTZbMzBdIF9kYXlzLCB1aW50MjU2WzMwXSBfYW1vdW50cywgaW50MjU2WzMwXSBfcHJvZml0cywgdWludDI1NlszMF0gX2V0aGVyQW1vdW50cykKICB7CiAgICAgIGlmIChhZGRyID09IDApIGFkZHIgPSBtc2cuc2VuZGVyOwoKICAgICAgdWludDI1NiBqID0gMDsKICAgICAgZm9yKHVpbnQyNTYgaURheSA9IHN0YXJ0OyBpRGF5IDwgZW5kOyBpRGF5KyspCiAgICAgIHsKICAgICAgICBpZiAodGltZVRhYmxlW2FkZHJdW2lEYXldLmFtb3VudCA+IDApCiAgICAgICAgewogICAgICAgICAgX2RheXNbal0gPSBpRGF5OwogICAgICAgICAgX3Byb2ZpdHNbal0gPSBjYWxjdWxhdGVQcm9maXQoaURheSk7CiAgICAgICAgICBfYW1vdW50c1tqXSA9IHRpbWVUYWJsZVthZGRyXVtpRGF5XS5hbW91bnQ7CiAgICAgICAgICAoX2Ftb3VudHNbal0sIF9ldGhlckFtb3VudHNbal0pID0gZ2V0UHJvZml0Rm9yRGF5KGlEYXksIF9hbW91bnRzW2pdKTsKICAgICAgICAgIGorKzsKICAgICAgICAgIGlmIChqID09IDMwKSBicmVhazsKICAgICAgICB9CiAgICAgIH0KICB9CgogIGZ1bmN0aW9uIHJldHVyblRva2Vuc0ZvckRheSh1aW50MjU2IGRheSwgdWludDI1NiB1c2VyVG9rZW5zQW1vdW50KSBpc0luaXRpYWxpemVkIHB1YmxpYwogIHsKICAgIHVpbnQyNTYgdG9rZW5zQW1vdW50OwogICAgdWludDI1NiBldGhlckFtb3VudDsKICAgICh0b2tlbnNBbW91bnQsIGV0aGVyQW1vdW50KSA9IGdldFByb2ZpdEZvckRheShkYXksIHVzZXJUb2tlbnNBbW91bnQpOwoKICAgIHJlcXVpcmUoZGF5ID4gMCk7CiAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IHRva2Vuc0Ftb3VudCk7CgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBzdWIoYmFsYW5jZXNbbXNnLnNlbmRlcl0sIHRva2Vuc0Ftb3VudCk7CiAgICB0b3RhbFN1cHBseSA9IHN1Yih0b3RhbFN1cHBseSwgdG9rZW5zQW1vdW50KTsKICAgIHRpbWVUYWJsZVttc2cuc2VuZGVyXVtkYXldLmFtb3VudCA9IHN1Yih0aW1lVGFibGVbbXNnLnNlbmRlcl1bZGF5XS5hbW91bnQsIHRva2Vuc0Ftb3VudCk7CgogICAgaWYgKCF0aW1lVGFibGVbbXNnLnNlbmRlcl1bZGF5XS5pc1JldHVybmVkSW5Qb29sKQogICAgewogICAgICBhdmFpbGFibGVUb2tlbnMgPSBhZGQoYXZhaWxhYmxlVG9rZW5zLCB0b2tlbnNBbW91bnQpOwogICAgfQoKICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoZXRoZXJBbW91bnQpOwogICAgZW1pdCBUcmFuc2Zlcihtc2cuc2VuZGVyLCAwLCB0b2tlbnNBbW91bnQpOwogIH0KCiAgZnVuY3Rpb24gaXNDb250cmFjdChhZGRyZXNzIGFkZHIpIGludGVybmFsIHJldHVybnMgKGJvb2wpCiAgewogICAgdWludDI1NiBzaXplOwogICAgYXNzZW1ibHkgeyBzaXplIDo9IGV4dGNvZGVzaXplKGFkZHIpIH0KICAgIHJldHVybiBzaXplID4gMDsKICB9CgogIGJvb2wgcHVibGljIGluaXRpYWxpemVkID0gZmFsc2U7CgogIG1vZGlmaWVyIGlzSW5pdGlhbGl6ZWQoKQogIHsKICAgICAgYXNzZXJ0KGluaXRpYWxpemVkKTsKICAgICAgXzsKICB9CgogIHVpbnQ4IGJhbGFuY2VzVHJhbnNmZXJyZWQgPSAwOwogIC8vIHJlc3RvcmUgdG9rZW5zIGZyb20gcHJldmlvdXMgY29udHJhY3QgCiAgZnVuY3Rpb24gcmVzdG9yZUJhbGFuY2VzKGFkZHJlc3NbNjBdIGFkZHIsIHVpbnQyNTZbNjBdIF9kYXlzLCB1aW50MjU2WzYwXSBfYW1vdW50cykgZXh0ZXJuYWwgb25seUFkbWluCiAgewogICAgLy8gY2FsbCB3aGVuIGNvbnRyYWN0IGlzIG5vdCBpbml0aWFsaXplZAogICAgYXNzZXJ0KGluaXRpYWxpemVkID09IGZhbHNlKTsKCiAgICBpZiAodG90YWxTdXBwbHkgPT0gMCkKICAgIHsKICAgICAgICBiYWxhbmNlc1sweDlkNGYxZDVjNmRhMTZmMjg0MDVjYjhiMDYzNTAwNjA2ZTQxYjgyNzldID0gMTUxNDI4NTcxNDI4NTcxNDI4NTcxOwogICAgICAgIGJhbGFuY2VzWzB4MzU0OTdkOWMyYmVhYTVkZWJjNDhkYTIyMDhkNmIwMzIyMmY1ZTc1M10gPSA3NTcxNDI4NTcxNDI4NTcxNDI4NTsKICAgICAgICBiYWxhbmNlc1sweGI0M2YwYzhhZDAwNGY3ZmRkNTBiYzliMWMyY2EwNmNhZDY1M2Y1NmRdID0gNjA1NzE0Mjg1NzE0Mjg1NzE0Mjg7CiAgICAgICAgYmFsYW5jZXNbMHgwMDZmMmUxNTlmM2UzZjIzNjNhNjRiOTUyMTIyZDI3ZGYxYjMwN2NkXSA9IDQ5NDUzNDAwMDAwMDAwMDAwMDAwOwogICAgICAgIGJhbGFuY2VzWzB4YjhjMTgwZGQwOWU2MTFhYzI1M2FiMzIxNjUwYjhiNTM5M2Q2YTAwY10gPSAzMTk3MjI4NTcxNDI4NTcxNDI4NDsKICAgICAgICBiYWxhbmNlc1sweGEyMDllOTYzZDA4OWYwM2MyNmZmZjIyNmE0MTEwMjg3MDBmYjYwMDldID0gMjkyODE0Mjg1NzE0Mjg1NzE0Mjc7CiAgICAgICAgYmFsYW5jZXNbMHhlYzE4NTQ3NGEwYzU5M2Y3NDFjY2EwMDk5NWFhMjJmMDc4ZWMwMmUyXSA9IDI1MDAwMDAwMDAwMDAwMDAwNTE0OwogICAgICAgIGJhbGFuY2VzWzB4MWMxYTZiNDliY2NiOGIyYzEyZGRmODc0ZmM2OWUxNGM0MzcxMzQzYl0gPSAxNDY1NTQyODU3MTQyODU3MTQyODsKICAgICAgICBiYWxhbmNlc1sweDM4YWVlYjdlODM5MDYzMmU0NWY0NGMwMWE3Yjk4MmE5ZTAzYTFiMTBdID0gMTE2NzE0MjI4NTcxNDI4NTcxNDI7CiAgICAgICAgYmFsYW5jZXNbMHhmZWZmNGNkMWZjOTI3Mzg0OGMwY2JhYmFjYzY4OGM1ZTU3MDdkZGQ1XSA9IDk5OTk5OTk5OTk5OTk5OTk0Mjg7CiAgICAgICAgYmFsYW5jZXNbMHgxYzBjNGQ3OTYxYzk2NTc2YzIxYjYzYjBiODkyYjg4ZWM1Yjg2NzQyXSA9IDgyMjcyMDg4NTcxNDI4NTcxNDI7CiAgICAgICAgYmFsYW5jZXNbMHhkYWUwYWNhNGI5YjM4MTk5NDA4ZmZhYjMyNTYyYmY3YjNiMDQ5NWZlXSA9IDU5OTk5OTk5OTk5OTk5OTk5NTc7CiAgICAgICAgYmFsYW5jZXNbMHgyYzQ2ZmI2ZTM5MGQ5MGY1NzQyODc3NzI4ZDgxYTVlMzU0YzJiZTBjXSA9IDU5OTA1Mjc0Mjg1NzE0Mjg1NzA7CiAgICAgICAgYmFsYW5jZXNbMHgzYzllNmQ5YTEwOTU2ZjI5ZWMyMGQ3OTdjMjZiYTcyMGU0ZjBmMzI3XSA9IDUwMTMxNTk0Mjg1NzE0Mjg1NzE7CiAgICAgICAgYmFsYW5jZXNbMHhiOTYyMWYxYTk0MDJmYTMxMTlmZDZiMDExYTIzZGQwMDdlMDViN2FmXSA9IDUwMDAxMDg1NzE0Mjg1NzE0Mjc7CiAgICAgICAgYmFsYW5jZXNbMHhhZTI4NTZhMWVhNjUwOTM4NTJiODgyOGVmY2FhYmIxNmFjOTg3ZDZiXSA9IDQxNzQ5NDI4NTcxNDI4NTcxNDI7CiAgICAgICAgYmFsYW5jZXNbMHhiOTUwN2JmYzE3ZDZiNzAxNzdkNzc4ZWFkMWNkNTgxYzI1NzJiNmMxXSA9IDMwMjI4NTcxNDI4NTcxNDI4NTc7CiAgICAgICAgYmFsYW5jZXNbMHgyZTk4MzUyOGYxOTYzM2NmMjVlZWUyYWE5M2M3ODU0MmQ2NjBhMjBmXSA9IDMwMDAwMDAwMDAwMDAwMDAxMzE7CiAgICAgICAgYmFsYW5jZXNbMHhmNGI3MzNmZjJmMmVhYjYzMWUyODYwYmI2MGRjNTk2MDc0Yjk5MTJkXSA9IDMwMDAwMDAwMDAwMDAwMDAxMzE7CiAgICAgICAgYmFsYW5jZXNbMHg0MzFkNzhjMTRiNTcwYWFmYjQ5NDBjOGRmNTI0YjVhN2Y1MzczZjQ2XSA9IDI5OTk5OTk5OTk5OTk5OTk4NTE7CiAgICAgICAgYmFsYW5jZXNbMHhkYTQzYjcxZDViYTExYjYxZjMxNTg2N2ZmOGZjMjlkYjdkMzRlZDMxXSA9IDMwMDAwMDAwMDAwMDAwMDAxMzE7CiAgICAgICAgYmFsYW5jZXNbMHg3ZDljMDEyZWE4ZTExMWNlYzQ2ZTg5ZTAxYjdjZDYzNjg3Njk2ODYyXSA9IDI3NzE4NjYyODU3MTQyODU3MTQ7CiAgICAgICAgYmFsYW5jZXNbMHgxYzFkOGI1NzZjNzM1NGRjY2QyMGQwMTdiMWNkZTY4YTk0MjM1M2I2XSA9IDI0OTAwNDU3MTQyODU3MTQyODU7CiAgICAgICAgYmFsYW5jZXNbMHgwMjRjMDdlNGU5NjMxNzYzZDhkYjgyOTRiZmM4ZjRmZDgyMTEzZWY1XSA9IDIxMDk5NzcxNDI4NTcxNDI4NTc7CiAgICAgICAgYmFsYW5jZXNbMHg2NGY0ODJlOTRlOTc4MWM0MmFkYTE2NzQyNzgwNzA5NjEzZWE3ZmUwXSA9IDIwMzEzNzcxNDI4NTcxNDI4NTc7CiAgICAgICAgYmFsYW5jZXNbMHgwYzM3MWNlNGI3ZGNjMWRhN2Q2OGIwMDRkNWRlYTQ5NjY3YWY3MzIwXSA9IDE5OTk5OTk5OTk5OTk5OTk4ODU7CiAgICAgICAgYmFsYW5jZXNbMHg3MDliMTU5OWNmZTRiMDZmZjRmY2UxY2M0ZmU4YTcyYWM1NWMyZjEwXSA9IDE5OTk5OTk5OTk5OTk5OTk4ODU7CiAgICAgICAgYmFsYW5jZXNbMHhlMjE3YWVlMjRiMzE4MTU0MGQxN2Y4NzJkM2Q3OTFiNDEyMjRiYzMxXSA9IDE5OTk5OTk5OTk5OTk5OTk4ODU7CiAgICAgICAgYmFsYW5jZXNbMHgwZDg1NTcwZWVmNmJhYTQxYThmOTE4ZTQ4OTczZWE1NGE5Mzg1ZWU3XSA9IDIwMDAwMDAwMDAwMDAwMDAxMjA7CiAgICAgICAgYmFsYW5jZXNbMHhjZjFhMDMzYWU1YjQ4ZGVmNjFjOGNlYjIxZDQxYzI5M2E5ZTVkM2MwXSA9IDIwMDAwMDAwMDAwMDAwMDAwNTc7CiAgICAgICAgYmFsYW5jZXNbMHhiYzIwMmY1MDgyZTQwMzA5MGQ3ZGQ0ODM1NDVmNjgwYTM3ZWZiN2U1XSA9IDE5OTk5OTk5OTk5OTk5OTk4ODU7CiAgICAgICAgYmFsYW5jZXNbMHhkZjE4NzM2ZGNhZmFhNDBiODg4MGI0ODFjNWJmYWI1MTk2MDg5NTM1XSA9IDE5OTk5OTk5OTk5OTk5OTk4ODU7CiAgICAgICAgYmFsYW5jZXNbMHg4M2RhNjRmZmRmZTRmNmMzYTRjZjk4OTFkODQwMDk2ZWU5ODRiNDU2XSA9IDEyNzE0Mjg1NzE0Mjg1NzE0Mjg7CiAgICAgICAgYmFsYW5jZXNbMHgzYmFiZWRlNGYyMjc1NzYyZjFjNmI0YTgxODVhMDA1NmNlZWU0ZjVmXSA9IDEwNTE0Mjg1NzE0Mjg1NzE0Mjg7CiAgICAgICAgYmFsYW5jZXNbMHgyZjRmOThkMjQ4OWJlYzFjOTg1MTVlMGY3NTU5NmUwYjEzNWE2MDIzXSA9IDEwMDA0ODAwMDAwMDAwMDAwMDA7CiAgICAgICAgYmFsYW5jZXNbMHhlODkxNTZlNTY5NGY5NGI4NmZhYmZlZmFiMTczY2Y2ZGQxZjJlZTAwXSA9IDEwMDAwMDAwMDAwMDAwMDAxMjU7CiAgICAgICAgYmFsYW5jZXNbMHg4OTA0MzBkM2RiYzk5ODQ2YjcyYzc3ZGU3ZWMxMGU5MWFkOTU2NjE5XSA9IDEwMDAwMDAwMDAwMDAwMDAxMjU7CiAgICAgICAgYmFsYW5jZXNbMHg0ZWU2M2FkOWExNTFkN2M4MzYwNTYxYmMwMGNiZTlkN2Y4MWM0Njc3XSA9IDEwMDAwMDAwMDAwMDAwMDAxMjU7CiAgICAgICAgYmFsYW5jZXNbMHhjNTM5ODcxNDU5Mjc1MDg1MDY5M2I1NmU3NGM4YTU2MThhZTE0ZDM4XSA9IDEwMDAwMDAwMDAwMDAwMDAxMjU7CiAgICAgICAgYmFsYW5jZXNbMHhhYjRhNDJmN2E5YWRhMTI3ODU4YzJlMDU0Nzc4ZTAwMGVhMGI4MzI1XSA9IDEwMDAwMDAwMDAwMDAwMDAxMjU7CiAgICAgICAgYmFsYW5jZXNbMHhmY2M5YjQ2NThiMjk2ZmU5ZDY2N2M1YTI2NGY0ZGEyMDlkZWMxM2RiXSA9IDEwMDAwMDAwMDAwMDAwMDAxMjU7CiAgICAgICAgYmFsYW5jZXNbMHgzNmE5M2Q1NmUxNzU5NDdiZTY4NmYwYTY1YmIzMjhkNDAwYzFhOGI5XSA9IDEwMDAwMDAwMDAwMDAwMDAxMjU7CiAgICAgICAgYmFsYW5jZXNbMHgzNjJhOTc5YWZlNmU1YjZhY2I1N2QwNzViZTllNmY0NjJhY2FjYzg1XSA9IDEwMDAwMDAwMDAwMDAwMDAxMjU7CiAgICAgICAgYmFsYW5jZXNbMHhlNTBmMDc5YjhmOWQ2NzAwMmM3ODdjZjlkYmQ0NTZmYzExYmQ1Nzc5XSA9IDk5OTk5OTk5OTk5OTk5OTk0MjsKICAgICAgICBiYWxhbmNlc1sweDY4YWZmZjE0MjRjMjcyNDY2NDc5NjlkZWUxOGU3MTUwMTI0YjJiMjhdID0gOTk5OTk5OTk5OTk5OTk5OTQyOwogICAgICAgIGJhbGFuY2VzWzB4NDRhYmE3NmYwMWI2NDk4YTQ4NWRkOGY4ZWUxNjE1ZDQyMmI4Y2JmOF0gPSA5OTk5OTk5OTk5OTk5OTk5NDI7CiAgICAgICAgYmFsYW5jZXNbMHgxZDUxNzUyY2QyMjhjM2Q3MTcxNGYxNjQwMWNjZGFlY2ZlNmQ1MmMzXSA9IDk5OTk5OTk5OTk5OTk5OTk0MjsKICAgICAgICBiYWxhbmNlc1sweDVlYjcyYzJiYmQ3NGQzZTljYjYxZjVkNDMwMDIxMDQ0MDNhMTZiNDNdID0gOTk5OTk5OTk5OTk5OTk5OTQyOwogICAgICAgIGJhbGFuY2VzWzB4YTBhMGQwNGJiMDgwNTE3ODBlNWE2Y2JhMzA4MGI2MjNmYzg0MDRhNl0gPSA5OTk5OTk5OTk5OTk5OTk5NDI7CiAgICAgICAgYmFsYW5jZXNbMHhlYzQ5NzA2MTI2YWU3M2RiMGNhNTQ2NjRkOGIwZmVlYjY3YzNjNzc3XSA9IDk5OTk5OTk5OTk5OTk5OTk0MjsKICAgICAgICBiYWxhbmNlc1sweGE5NTQxM2NkMWJjOWJkZjMzNmU5YzJjMDc0ZmI5ZmZhOTFiYjg5YTZdID0gOTk5OTk5OTk5OTk5OTk5OTQyOwogICAgICAgIGJhbGFuY2VzWzB4ODg0YTdjYzU4MTMyY2E4MDg5N2Q5OGJmYWU4N2NlNzJlMGVhZjQ2MV0gPSA5OTk5OTk5OTk5OTk5OTk5NDI7CiAgICAgICAgYmFsYW5jZXNbMHhiNjU5MzYzMDg1MGM1NmFlZTMyOGJlNDIwMzhmYzZkMzQ3YjM3NDQwXSA9IDk5OTk5OTk5OTk5OTk5OTk0MjsKICAgICAgICBiYWxhbmNlc1sweDMyNGRkZDhiOThiMjNjYjJiNmZmYWViODRiOWJiOTllYzNkZTlkYjZdID0gOTk5OTk5OTk5OTk5OTk5OTQyOwogICAgICAgIGJhbGFuY2VzWzB4MTAxMzgwOTM3NjI1NDI4ODMyNWE3YjQ5ZDYwYzM5NWRhODBlZWVmNV0gPSAxMDAwMDAwMDAwMDAwMDAwMDI4OwogICAgICAgIGJhbGFuY2VzWzB4M2Y2NzUzMzg4YTQ5MWU5NThiMmRlNTc2MzQwNjBlMjhjN2ZmMmMxZV0gPSAxMDAwMDAwMDAwMDAwMDAwMDYyOwogICAgICAgIGJhbGFuY2VzWzB4ZTc4MDBkYzcxNjZmMTFkZWNkNDE1YzNhNzRlYzlkMGNmYTNjZWIwNl0gPSA0MzE0MDU3MTQyODU3MTQyODU7CiAgICAgICAgdG90YWxTdXBwbHkgPSA1NTczMzUwNjQ4NTcxNDI4NTczMjU7CiAgICAgICAgYXZhaWxhYmxlVG9rZW5zID0gYXZhaWxhYmxlVG9rZW5zIC0gdG90YWxTdXBwbHk7CiAgICAgICAgCiAgICAgICAgdWludDI1NiB0b2RheSA9IGdldFRvZGF5KCk7CiAgICAgICAgZm9yKHVpbnQyNTYgaj0xNzYxNDtqIDw9IHRvZGF5O2orKykKICAgICAgICB7CiAgICAgICAgICAgIHRva2VuUHJpY2VIaXN0b3J5W2pdID0gY3VycmVudFRva2VuUHJpY2VJbkRvbGxhcjsKICAgICAgICB9CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgdWludDggc3RhcnQgPSBiYWxhbmNlc1RyYW5zZmVycmVkOwogICAgICAgIGZvcih1aW50OCBpPXN0YXJ0OyBpIDwgc3RhcnQrMzA7IGkrKykKICAgICAgICB7CiAgICAgICAgICAgIGFzc2VydChhZGRyW2ldICE9IDAgJiYgX2RheXNbaV0gIT0wICYmIF9hbW91bnRzW2ldICE9MCk7CiAgICAgICAgICAgIHRpbWVUYWJsZVthZGRyW2ldXVtfZGF5c1tpXV0gPSBUb2tlbkluZm8oX2Ftb3VudHNbaV0sIGZhbHNlKTsKICAgICAgICAgICAgZW1pdCBUcmFuc2ZlcigwLCBhZGRyW2ldLCBfYW1vdW50c1tpXSk7CiAgICAgICAgICAgIGlmIChfZGF5c1tpXSA8IDE3NjIwICYmIGJvbnVzZXNbYWRkcltpXV1bX2RheXNbaV1dID09IDApCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGJvbnVzZXNbYWRkcltpXV1bX2RheXNbaV1dID0gMTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBiYWxhbmNlc1RyYW5zZmVycmVkICs9IDMwOwoKICAgICAgICBpZiAoYmFsYW5jZXNUcmFuc2ZlcnJlZCA9PSA2MCkgaW5pdGlhbGl6ZWQgPSB0cnVlOwogICAgfQogIH0KfQ=='.
	

]
