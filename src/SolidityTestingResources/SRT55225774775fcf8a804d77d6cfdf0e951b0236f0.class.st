Class {
	#name : #SRT55225774775fcf8a804d77d6cfdf0e951b0236f0,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT55225774775fcf8a804d77d6cfdf0e951b0236f0 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgICAgYXNzZXJ0KGEgPT0gMCB8fCBjIC8gYSA9PSBiKTsKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnModWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgYXNzZXJ0KGIgPD0gYSk7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9Cn0KCmNvbnRyYWN0IE93bmFibGUgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgogICAgbW9kaWZpZXIgb25seU93bmVyKCkgeyByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOyBfOyB9CgogICAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgIH0KfQoKY29udHJhY3QgUGF1c2FibGUgaXMgT3duYWJsZSB7CiAgICBib29sIHB1YmxpYyBwYXVzZWQgPSBmYWxzZTsKCiAgICBldmVudCBQYXVzZSgpOwogICAgZXZlbnQgVW5wYXVzZSgpOwoKICAgIG1vZGlmaWVyIHdoZW5Ob3RQYXVzZWQoKSB7IHJlcXVpcmUoIXBhdXNlZCk7IF87IH0KICAgIG1vZGlmaWVyIHdoZW5QYXVzZWQoKSB7IHJlcXVpcmUocGF1c2VkKTsgXzsgfQoKICAgIGZ1bmN0aW9uIHBhdXNlKCkgb25seU93bmVyIHdoZW5Ob3RQYXVzZWQgewogICAgICAgIHBhdXNlZCA9IHRydWU7CiAgICAgICAgUGF1c2UoKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gdW5wYXVzZSgpIG9ubHlPd25lciB3aGVuUGF1c2VkIHsKICAgICAgICBwYXVzZWQgPSBmYWxzZTsKICAgICAgICBVbnBhdXNlKCk7CiAgICB9Cn0KCmNvbnRyYWN0IEVSQzIwIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7CgogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sKTsKfQoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyh1aW50MjU2IGJhbGFuY2UpIHsKICAgICAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcygwKSk7CgogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CgogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyhib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCiAgICAgICAgdmFyIF9hbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gX2FsbG93YW5jZS5zdWIoX3ZhbHVlKTsKCiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9CgogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyhib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKChfdmFsdWUgPT0gMCkgfHwgKGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID09IDApKTsKCiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CgogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIHJldHVybnMoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXS5hZGQoX2FkZGVkVmFsdWUpOwoKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgcmV0dXJucyhib29sIHN1Y2Nlc3MpIHsKICAgICAgICB1aW50IG9sZFZhbHVlID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl07CgogICAgICAgIGlmKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICAgICAgfQoKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgICAgIAogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9Cgpjb250cmFjdCBCdXJuYWJsZVRva2VuIGlzIFN0YW5kYXJkVG9rZW4gewogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgYnVybmVyLCB1aW50MjU2IHZhbHVlKTsKCiAgICBmdW5jdGlvbiBidXJuKHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX3ZhbHVlID4gMCk7CgogICAgICAgIGFkZHJlc3MgYnVybmVyID0gbXNnLnNlbmRlcjsKICAgICAgICBiYWxhbmNlc1tidXJuZXJdID0gYmFsYW5jZXNbYnVybmVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YihfdmFsdWUpOwogICAgICAgIEJ1cm4oYnVybmVyLCBfdmFsdWUpOwogICAgfQp9CgovKgogICAgSUNPINCQ0LvRgtGL0L0KICAgIC0g0K3QvNC40YHRgdC40Y8g0YLQvtC60LXQvdC+0LIg0L7Qs9GA0LDQvdC40YfQtdC90LAgKNCy0YHQtdCz0L4gMTAwIDAwMCAwMDAg0YLQvtC60LXQvdC+0LIpCiAgICAtINCd0LAgQ3Jvd2RzYWxlINC/0YDQvtC00LDRjtGC0YHRjyAyMiAwMDAgMDAwINGC0L7QutC10L3QvtCyINCyIDQg0Y3RgtCw0L/QsCwg0LrQsNC20LTRi9C5INGN0YLQsNC/INC+0LPRgNCw0L3QuNGH0LXQvSDQv9C+INC60L7Quy3QstGDINGC0L7QutC10L3QvtCyLCDRhtC10L3QsCDRgtC+0LrQtdC90LAg0L3QsCDQutCw0LbQtNC+0Lwg0Y3RgtCw0L/QtSDRgdCy0L7RjwogICAgLSDQndC40LbQvdCw0Y8g0LPRgNCw0L3QuNGG0LAg0YHQsdC+0YDQvtCyIDMwMCAwMDAgVVNEICjQs9GA0LDQvdC40YbQsCDQvdC40LrQsNC6INC90LUg0L7Qs9GA0LDQvdC40YfQuNCy0LDRjtGCINC60L7QvdGC0YDQsNC60YIpCiAgICAtINCS0LXRgNGF0L3QsNGPINCz0YDQsNC90LjRhtCwINGB0LHQvtGA0L7QsiA1IDUwMCAwMDAgVVNEICjQtdGB0LvQuCDQs9GA0LDQvdC40YbQsCDQtNC+0YHRgtC40LPQvdGD0YLQsCDRgtC+0LrQtdC90Ysg0LHQvtC70YzRiNC1INC90LUg0L/RgNC+0LTQsNGO0YLRgdGPLCDQutC+0L3RgtGA0LDQutGCINC00LDQtdGCINGB0LTQsNGH0YMg0LXRgdC70Lgg0YHRg9C80LzQsCDQsdC+0LvRjNGI0LUpCiAgICAtIElDTyDQvtCz0YDQsNC90LjRh9C10L3QviDQv9C+INCy0YDQtdC80LXQvdC4INC00LDRgtCwINC90LDRh9Cw0LvQsCAxNy4xMC4yMDE3INC/0YDQvtC00L7Qu9C20LjRgtC10LvRjNC90L7RgdGC0YwgNDUg0LTQvdC10LkuCiAgICAtINCm0LXQvdCwINGN0YTQuNGA0LAgMSBFVEggPSAzMDAgVVNELCDQvNC40L3QuNC80LDQu9GM0L3QsNGPINGB0YPQvNC80LAg0LjQvdCy0LXRgdGC0LjRhtC40LkgMC4wMyBVU0QKICAgIC0g0JfQsNC60YDRi9GC0LjQtSBJQ08g0L/RgNC+0LjRgdGF0L7QtNC40YIg0YEg0L/QvtC80L7RidGM0Y4g0YTRg9C90LrRhtC40LggIndpdGhkcmF3KCkiLCDRg9C/0YDQsNCy0LvQtdC90LjQtSDRgtC+0LrQtdC90L7QvCDQv9C10YDQtdC00LDRjtGC0YHRjyDQsdC10L3QtdGE0LjRhtC40LDRgNGDLCDQvdC1INGA0LDRgdC60YPQv9C70LXQvdC90YvQtSDRgtC+0LrQtdC90Ysg0YHQs9C+0YDQsNGO0YIsINGC0L7QutC10L3RiyDQvdC1INGD0YfQsNGB0YLQstGD0Y7RidC40LUg0LIg0L/RgNC+0LTQsNC20LUg0L7RgtC/0YDQsNCy0LvRj9GO0YLRgdGPINCx0LXQvdC10YTQuNGG0LjQsNGA0YMKKi8KCmNvbnRyYWN0IEFMVFRva2VuIGlzIEJ1cm5hYmxlVG9rZW4sIE93bmFibGUgewogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIkFsdHluIFRva2VuIjsKICAgIHN0cmluZyBwdWJsaWMgc3ltYm9sID0gIkFMVCI7CiAgICB1aW50MjU2IHB1YmxpYyBkZWNpbWFscyA9IDE4OwogICAgCiAgICB1aW50MjU2IHB1YmxpYyBJTklUSUFMX1NVUFBMWSA9IDEwMDAwMDAwMCAqIDEgZXRoZXI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFtb3VudCB0b2tlbnMKCiAgICBmdW5jdGlvbiBBTFRUb2tlbigpIHsKICAgICAgICB0b3RhbFN1cHBseSA9IElOSVRJQUxfU1VQUExZOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gSU5JVElBTF9TVVBQTFk7CiAgICB9Cn0KCmNvbnRyYWN0IEFMVENyb3dkc2FsZSBpcyBQYXVzYWJsZSB7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgICBzdHJ1Y3QgU3RlcCB7CiAgICAgICAgdWludCBwcmljZVVTRDsKICAgICAgICB1aW50IGFtb3VudFRva2VuczsKICAgIH0KCiAgICBBTFRUb2tlbiBwdWJsaWMgdG9rZW47CiAgICBhZGRyZXNzIHB1YmxpYyBiZW5lZmljaWFyeSA9IDB4OWRmMGJlNjg2RTEyY2NkYkU0NkQ0MTc3NDQyODc4YmY4NjM2RTg5ZjsgICAgICAgICAgICAgICAgICAgIC8vIEJlbmVmaWNpYXJ5CgogICAgdWludCBwdWJsaWMgY29sbGVjdGVkOwogICAgdWludCBwdWJsaWMgY29sbGVjdGVkVVNEOwogICAgdWludCBwdWJsaWMgdG9rZW5zU29sZDsKICAgIHVpbnQgcHVibGljIG1heFRva2Vuc1NvbGQgPSAyMjAwMDAwMCAqIDEgZXRoZXI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVG9rZW5zIGZvciBzYWxlCgogICAgdWludCBwdWJsaWMgcHJpY2VFVEggPSAzMDA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFdGhlciBwcmljZSBVU0QKICAgIHVpbnQgcHVibGljIHNvZnRDYXBVU0QgPSAzMDAwMDA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU29mdCBjYXAgVVNECiAgICB1aW50IHB1YmxpYyBzb2Z0Q2FwID0gc29mdENhcFVTRCAvIHByaWNlRVRIICogMSBldGhlcjsKICAgIHVpbnQgcHVibGljIGhhcmRDYXBVU0QgPSA1NTAwMDAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFyZCBjYXAgVVNECiAgICB1aW50IHB1YmxpYyBoYXJkQ2FwID0gaGFyZENhcFVTRCAvIHByaWNlRVRIICogMSBldGhlcjsKCiAgICBTdGVwW10gc3RlcHM7CgogICAgdWludCBwdWJsaWMgc3RhcnRUaW1lID0gMTUwODIyNTgyNDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEYXRlIHN0YXJ0IDAxLjEwLjIwMTcgMDA6MDAgKzAKICAgIHVpbnQgcHVibGljIGVuZFRpbWUgPSBzdGFydFRpbWUgKyA0NSBkYXlzOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGF0ZSBlbmQgKzQ1IGRheXMKICAgIGJvb2wgcHVibGljIGNyb3dkc2FsZUZpbmlzaGVkID0gZmFsc2U7CgogICAgZXZlbnQgU29mdENhcFJlYWNoZWQodWludDI1NiBldGhlckFtb3VudCk7CiAgICBldmVudCBIYXJkQ2FwUmVhY2hlZCh1aW50MjU2IGV0aGVyQW1vdW50KTsKICAgIGV2ZW50IE5ld0NvbnRyaWJ1dGlvbihhZGRyZXNzIGluZGV4ZWQgaG9sZGVyLCB1aW50MjU2IHRva2VuQW1vdW50LCB1aW50MjU2IGV0aGVyQW1vdW50KTsKICAgIGV2ZW50IFdpdGhkcmF3KCk7CgogICAgbW9kaWZpZXIgb25seUFmdGVyKHVpbnQgdGltZSkgeyByZXF1aXJlKG5vdyA+IHRpbWUpOyBfOyB9CiAgICBtb2RpZmllciBvbmx5QmVmb3JlKHVpbnQgdGltZSkgeyAgcmVxdWlyZShub3cgPCB0aW1lKTsgIF87IH0KCiAgICBmdW5jdGlvbiBBTFRDcm93ZHNhbGUoKSB7CiAgICAgICAgdG9rZW4gPSBuZXcgQUxUVG9rZW4oKTsKCiAgICAgICAgc3RlcHMucHVzaChTdGVwKDE1LCAyMDAwMDAwKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0ZXAgMTogMC4xNSQ7IDIgMDAwIDAwMCBBTFQgdG9rZW5zCiAgICAgICAgc3RlcHMucHVzaChTdGVwKDIwLCA1MDAwMDAwKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0ZXAgMjogMC4yMCQ7ICszIDAwMCAwMDAgQUxUIHRva2VucwogICAgICAgIHN0ZXBzLnB1c2goU3RlcCgyNSwgMTUwMDAwMDApKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdGVwIDM6IDAuMjUkOyArMTAgMDAwIDAwMCBBTFQgdG9rZW5zCiAgICAgICAgc3RlcHMucHVzaChTdGVwKDMwLCAyMjAwMDAwMCkpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0ZXAgNDogMC4zMCQ7ICs3IDAwMCAwMDAgQUxUIHRva2VucwogICAgfQoKICAgIGZ1bmN0aW9uKCkgcGF5YWJsZSB7CiAgICAgICAgcHVyY2hhc2UoKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gcHVyY2hhc2UoKSBvbmx5QWZ0ZXIoc3RhcnRUaW1lKSBvbmx5QmVmb3JlKGVuZFRpbWUpIHdoZW5Ob3RQYXVzZWQgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZSghY3Jvd2RzYWxlRmluaXNoZWQpOwogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IDAuMDAxICogMSBldGhlciAmJiBtc2cudmFsdWUgPD0gMTAwMDAgKiAxIGV0aGVyKTsKICAgICAgICByZXF1aXJlKHRva2Vuc1NvbGQgPCBtYXhUb2tlbnNTb2xkKTsKCiAgICAgICAgdWludCBhbW91bnQgPSAwOwogICAgICAgIHVpbnQgc3VtID0gMDsKICAgICAgICBmb3IodWludCBpID0gMDsgaSA8IHN0ZXBzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmKHRva2Vuc1NvbGQuYWRkKGFtb3VudCkgPCBzdGVwc1tpXS5hbW91bnRUb2tlbnMgKiAxIGV0aGVyKSB7CiAgICAgICAgICAgICAgICB1aW50IGF2YWlsID0gKHN0ZXBzW2ldLmFtb3VudFRva2VucyAqIDEgZXRoZXIpIC0gdG9rZW5zU29sZC5hZGQoYW1vdW50KTsKICAgICAgICAgICAgICAgIHVpbnQgbmVjZSA9IChtc2cudmFsdWUgLSBzdW0pICogcHJpY2VFVEggLyBzdGVwc1tpXS5wcmljZVVTRCAqIDEwMDsKICAgICAgICAgICAgICAgIHVpbnQgYnV5ID0gbmVjZTsKCiAgICAgICAgICAgICAgICBpZihidXkgPiBhdmFpbCkgYnV5ID0gYXZhaWw7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGFtb3VudCArPSBidXk7CiAgICAgICAgICAgICAgICBzdW0gKz0gYnV5IC8gKHByaWNlRVRIIC8gc3RlcHNbaV0ucHJpY2VVU0QgKiAxMDApOwoKICAgICAgICAgICAgICAgIGlmKGJ1eSA9PSBuZWNlKSBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXF1aXJlKHRva2Vuc1NvbGQuYWRkKGFtb3VudCkgPD0gbWF4VG9rZW5zU29sZCk7CgogICAgICAgIGlmKGNvbGxlY3RlZCA8IHNvZnRDYXAgJiYgY29sbGVjdGVkLmFkZChzdW0pID49IHNvZnRDYXApIHsKICAgICAgICAgICAgU29mdENhcFJlYWNoZWQoY29sbGVjdGVkLmFkZChzdW0pKTsKICAgICAgICB9CgogICAgICAgIGNvbGxlY3RlZCA9IGNvbGxlY3RlZC5hZGQoc3VtKTsKICAgICAgICBjb2xsZWN0ZWRVU0QgPSBjb2xsZWN0ZWQgKiBwcmljZUVUSCAvIDEgZXRoZXI7CiAgICAgICAgdG9rZW5zU29sZCA9IHRva2Vuc1NvbGQuYWRkKGFtb3VudCk7CiAgICAgICAgCiAgICAgICAgcmVxdWlyZSh0b2tlbi50cmFuc2Zlcihtc2cuc2VuZGVyLCBhbW91bnQpKTsKICAgICAgICBpZihzdW0gPCBtc2cudmFsdWUpIHJlcXVpcmUobXNnLnNlbmRlci5zZW5kKG1zZy52YWx1ZSAtIHN1bSkpOwoKICAgICAgICBOZXdDb250cmlidXRpb24obXNnLnNlbmRlciwgYW1vdW50LCBzdW0pOwoKICAgICAgICBpZihjb2xsZWN0ZWQgPj0gaGFyZENhcCkgewogICAgICAgICAgICBIYXJkQ2FwUmVhY2hlZChjb2xsZWN0ZWQpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiB3aXRoZHJhdygpIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZSghY3Jvd2RzYWxlRmluaXNoZWQpOwoKICAgICAgICBiZW5lZmljaWFyeS50cmFuc2Zlcihjb2xsZWN0ZWQpOwoKICAgICAgICBpZih0b2tlbnNTb2xkIDwgbWF4VG9rZW5zU29sZCkgdG9rZW4uYnVybihtYXhUb2tlbnNTb2xkIC0gdG9rZW5zU29sZCk7CiAgICAgICAgdG9rZW4udHJhbnNmZXIoYmVuZWZpY2lhcnksIHRva2VuLmJhbGFuY2VPZih0aGlzKSk7CiAgICAgICAgCiAgICAgICAgdG9rZW4udHJhbnNmZXJPd25lcnNoaXAoYmVuZWZpY2lhcnkpOwoKICAgICAgICBjcm93ZHNhbGVGaW5pc2hlZCA9IHRydWU7CgogICAgICAgIFdpdGhkcmF3KCk7CiAgICB9Cn0='.
	

]
