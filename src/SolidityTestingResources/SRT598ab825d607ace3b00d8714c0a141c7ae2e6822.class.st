Class {
	#name : #SRT598ab825d607ace3b00d8714c0a141c7ae2e6822,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT598ab825d607ace3b00d8714c0a141c7ae2e6822 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuNjsKCi8vLyBAdGl0bGUgVmF1bHQgQ29udHJhY3QKLy8vIEBhdXRob3IgSm9yZGkgQmF5bGluYQovLy8gQG5vdGljZSBUaGlzIGNvbnRyYWN0IGhvbGRzIGZ1bmRzIGZvciBDYW1wYWlnbnMgYW5kIGF1dG9tYXRlcyBwYXltZW50cywgaXQKLy8vICBpbnRlbmRzIHRvIGJlIGEgc2FmZSBwbGFjZSB0byBzdG9yZSBmdW5kcyBlcXVpcHBlZCB3aXRoIG9wdGlvbmFsIHZhcmlhYmxlCi8vLyAgdGltZSBkZWxheXMgdG8gYWxsb3cgZm9yIGFuIG9wdGlvbmFsIGVzY2FwZSBoYXRjaAoKLy8vIEBkZXYgYE93bmVkYCBpcyBhIGJhc2UgbGV2ZWwgY29udHJhY3QgdGhhdCBhc3NpZ25zIGFuIGBvd25lcmAgdGhhdCBjYW4gYmUKLy8vICBsYXRlciBjaGFuZ2VkCmNvbnRyYWN0IE93bmVkIHsKICAgIC8vLyBAZGV2IGBvd25lcmAgaXMgdGhlIG9ubHkgYWRkcmVzcyB0aGF0IGNhbiBjYWxsIGEgZnVuY3Rpb24gd2l0aCB0aGlzCiAgICAvLy8gbW9kaWZpZXIKICAgIG1vZGlmaWVyIG9ubHlPd25lciB7IGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB0aHJvdzsgXzsgfQoKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIC8vLyBAbm90aWNlIFRoZSBDb25zdHJ1Y3RvciBhc3NpZ25zIHRoZSBtZXNzYWdlIHNlbmRlciB0byBiZSBgb3duZXJgCiAgICBmdW5jdGlvbiBPd25lZCgpIHsgb3duZXIgPSBtc2cuc2VuZGVyO30KCiAgICAvLy8gQG5vdGljZSBgb3duZXJgIGNhbiBzdGVwIGRvd24gYW5kIGFzc2lnbiBzb21lIG90aGVyIGFkZHJlc3MgdG8gdGhpcyByb2xlCiAgICAvLy8gQHBhcmFtIF9uZXdPd25lciBUaGUgYWRkcmVzcyBvZiB0aGUgbmV3IG93bmVyLiAweDAgY2FuIGJlIHVzZWQgdG8gY3JlYXRlCiAgICAvLy8gIGFuIHVub3duZWQgbmV1dHJhbCB2YXVsdCwgaG93ZXZlciB0aGF0IGNhbm5vdCBiZSB1bmRvbmUKICAgIGZ1bmN0aW9uIGNoYW5nZU93bmVyKGFkZHJlc3MgX25ld093bmVyKSBvbmx5T3duZXIgewogICAgICAgIG93bmVyID0gX25ld093bmVyOwogICAgICAgIE5ld093bmVyKG1zZy5zZW5kZXIsIF9uZXdPd25lcik7CiAgICB9CgogICAgZXZlbnQgTmV3T3duZXIoYWRkcmVzcyBpbmRleGVkIG9sZE93bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwp9CgovLy8gQGRldiBgRXNjYXBhYmxlYCBpcyBhIGJhc2UgbGV2ZWwgY29udHJhY3QgYnVpbHQgb2ZmIG9mIHRoZSBgT3duZWRgCi8vLyAgY29udHJhY3QgdGhhdCBjcmVhdGVzIGFuIGVzY2FwZSBoYXRjaCBmdW5jdGlvbiB0byBzZW5kIGl0cyBldGhlciB0bwovLy8gIGBlc2NhcGVIYXRjaERlc3RpbmF0aW9uYCB3aGVuIGNhbGxlZCBieSB0aGUgYGVzY2FwZUhhdGNoQ2FsbGVyYCBpbiB0aGUgY2FzZSB0aGF0Ci8vLyAgc29tZXRoaW5nIHVuZXhwZWN0ZWQgaGFwcGVucwpjb250cmFjdCBFc2NhcGFibGUgaXMgT3duZWQgewogICAgYWRkcmVzcyBwdWJsaWMgZXNjYXBlSGF0Y2hDYWxsZXI7CiAgICBhZGRyZXNzIHB1YmxpYyBlc2NhcGVIYXRjaERlc3RpbmF0aW9uOwoKICAgIC8vLyBAbm90aWNlIFRoZSBDb25zdHJ1Y3RvciBhc3NpZ25zIHRoZSBgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbmAgYW5kIHRoZQogICAgLy8vICBgZXNjYXBlSGF0Y2hDYWxsZXJgCiAgICAvLy8gQHBhcmFtIF9lc2NhcGVIYXRjaERlc3RpbmF0aW9uIFRoZSBhZGRyZXNzIG9mIGEgc2FmZSBsb2NhdGlvbiAodXN1IGEKICAgIC8vLyAgTXVsdGlzaWcpIHRvIHNlbmQgdGhlIGV0aGVyIGhlbGQgaW4gdGhpcyBjb250cmFjdAogICAgLy8vIEBwYXJhbSBfZXNjYXBlSGF0Y2hDYWxsZXIgVGhlIGFkZHJlc3Mgb2YgYSB0cnVzdGVkIGFjY291bnQgb3IgY29udHJhY3QgdG8KICAgIC8vLyAgY2FsbCBgZXNjYXBlSGF0Y2goKWAgdG8gc2VuZCB0aGUgZXRoZXIgaW4gdGhpcyBjb250cmFjdCB0byB0aGUKICAgIC8vLyAgYGVzY2FwZUhhdGNoRGVzdGluYXRpb25gIGl0IHdvdWxkIGJlIGlkZWFsIHRoYXQgYGVzY2FwZUhhdGNoQ2FsbGVyYCBjYW5ub3QgbW92ZQogICAgLy8vICBmdW5kcyBvdXQgb2YgYGVzY2FwZUhhdGNoRGVzdGluYXRpb25gCiAgICBmdW5jdGlvbiBFc2NhcGFibGUoYWRkcmVzcyBfZXNjYXBlSGF0Y2hDYWxsZXIsIGFkZHJlc3MgX2VzY2FwZUhhdGNoRGVzdGluYXRpb24pIHsKICAgICAgICBlc2NhcGVIYXRjaENhbGxlciA9IF9lc2NhcGVIYXRjaENhbGxlcjsKICAgICAgICBlc2NhcGVIYXRjaERlc3RpbmF0aW9uID0gX2VzY2FwZUhhdGNoRGVzdGluYXRpb247CiAgICB9CgogICAgLy8vIEBkZXYgVGhlIGFkZHJlc3NlcyBwcmVhc3NpZ25lZCB0aGUgYGVzY2FwZUhhdGNoQ2FsbGVyYCByb2xlCiAgICAvLy8gIGlzIHRoZSBvbmx5IGFkZHJlc3NlcyB0aGF0IGNhbiBjYWxsIGEgZnVuY3Rpb24gd2l0aCB0aGlzIG1vZGlmaWVyCiAgICBtb2RpZmllciBvbmx5RXNjYXBlSGF0Y2hDYWxsZXJPck93bmVyIHsKICAgICAgICBpZiAoKG1zZy5zZW5kZXIgIT0gZXNjYXBlSGF0Y2hDYWxsZXIpJiYobXNnLnNlbmRlciAhPSBvd25lcikpCiAgICAgICAgICAgIHRocm93OwogICAgICAgIF87CiAgICB9CgogICAgLy8vIEBub3RpY2UgVGhlIGBlc2NhcGVIYXRjaCgpYCBzaG91bGQgb25seSBiZSBjYWxsZWQgYXMgYSBsYXN0IHJlc29ydCBpZiBhCiAgICAvLy8gc2VjdXJpdHkgaXNzdWUgaXMgdW5jb3ZlcmVkIG9yIHNvbWV0aGluZyB1bmV4cGVjdGVkIGhhcHBlbmVkCiAgICBmdW5jdGlvbiBlc2NhcGVIYXRjaCgpIG9ubHlFc2NhcGVIYXRjaENhbGxlck9yT3duZXIgewogICAgICAgIHVpbnQgdG90YWwgPSB0aGlzLmJhbGFuY2U7CiAgICAgICAgLy8gU2VuZCB0aGUgdG90YWwgYmFsYW5jZSBvZiB0aGlzIGNvbnRyYWN0IHRvIHRoZSBgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbmAKICAgICAgICBpZiAoIWVzY2FwZUhhdGNoRGVzdGluYXRpb24uc2VuZCh0b3RhbCkpIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgICAgIEVzY2FwZUhhdGNoQ2FsbGVkKHRvdGFsKTsKICAgIH0KICAgIC8vLyBAbm90aWNlIENoYW5nZXMgdGhlIGFkZHJlc3MgYXNzaWduZWQgdG8gY2FsbCBgZXNjYXBlSGF0Y2goKWAKICAgIC8vLyBAcGFyYW0gX25ld0VzY2FwZUhhdGNoQ2FsbGVyIFRoZSBhZGRyZXNzIG9mIGEgdHJ1c3RlZCBhY2NvdW50IG9yIGNvbnRyYWN0IHRvCiAgICAvLy8gIGNhbGwgYGVzY2FwZUhhdGNoKClgIHRvIHNlbmQgdGhlIGV0aGVyIGluIHRoaXMgY29udHJhY3QgdG8gdGhlCiAgICAvLy8gIGBlc2NhcGVIYXRjaERlc3RpbmF0aW9uYCBpdCB3b3VsZCBiZSBpZGVhbCB0aGF0IGBlc2NhcGVIYXRjaENhbGxlcmAgY2Fubm90CiAgICAvLy8gIG1vdmUgZnVuZHMgb3V0IG9mIGBlc2NhcGVIYXRjaERlc3RpbmF0aW9uYAogICAgZnVuY3Rpb24gY2hhbmdlRXNjYXBlQ2FsbGVyKGFkZHJlc3MgX25ld0VzY2FwZUhhdGNoQ2FsbGVyKSBvbmx5RXNjYXBlSGF0Y2hDYWxsZXJPck93bmVyIHsKICAgICAgICBlc2NhcGVIYXRjaENhbGxlciA9IF9uZXdFc2NhcGVIYXRjaENhbGxlcjsKICAgIH0KCiAgICBldmVudCBFc2NhcGVIYXRjaENhbGxlZCh1aW50IGFtb3VudCk7Cn0KCi8vLyBAZGV2IGBWYXVsdGAgaXMgYSBoaWdoZXIgbGV2ZWwgY29udHJhY3QgYnVpbHQgb2ZmIG9mIHRoZSBgRXNjYXBhYmxlYAovLy8gIGNvbnRyYWN0IHRoYXQgaG9sZHMgZnVuZHMgZm9yIENhbXBhaWducyBhbmQgYXV0b21hdGVzIHBheW1lbnRzLgpjb250cmFjdCBWYXVsdCBpcyBFc2NhcGFibGUgewoKICAgIC8vLyBAZGV2IGBQYXltZW50YCBpcyBhIHB1YmxpYyBzdHJ1Y3R1cmUgdGhhdCBkZXNjcmliZXMgdGhlIGRldGFpbHMgb2YKICAgIC8vLyAgZWFjaCBwYXltZW50IG1ha2luZyBpdCBlYXN5IHRvIHRyYWNrIHRoZSBtb3ZlbWVudCBvZiBmdW5kcwogICAgLy8vICB0cmFuc3BhcmVudGx5CiAgICBzdHJ1Y3QgUGF5bWVudCB7CiAgICAgICAgc3RyaW5nIG5hbWU7ICAgICAvLyBXaGF0IGlzIHRoZSBwdXJwb3NlIG9mIHRoaXMgcGF5bWVudAogICAgICAgIGJ5dGVzMzIgcmVmZXJlbmNlOyAgLy8gUmVmZXJlbmNlIG9mIHRoZSBwYXltZW50LgogICAgICAgIGFkZHJlc3Mgc3BlbmRlcjsgICAgICAgIC8vIFdobyBpcyBzZW5kaW5nIHRoZSBmdW5kcwogICAgICAgIHVpbnQgZWFybGllc3RQYXlUaW1lOyAgIC8vIFRoZSBlYXJsaWVzdCBhIHBheW1lbnQgY2FuIGJlIG1hZGUgKFVuaXggVGltZSkKICAgICAgICBib29sIGNhbmNlbGVkOyAgICAgICAgIC8vIElmIFRydWUgdGhlbiB0aGUgcGF5bWVudCBoYXMgYmVlbiBjYW5jZWxlZAogICAgICAgIGJvb2wgcGFpZDsgICAgICAgICAgICAgIC8vIElmIFRydWUgdGhlbiB0aGUgcGF5bWVudCBoYXMgYmVlbiBwYWlkCiAgICAgICAgYWRkcmVzcyByZWNpcGllbnQ7ICAgICAgLy8gV2hvIGlzIHJlY2VpdmluZyB0aGUgZnVuZHMKICAgICAgICB1aW50IGFtb3VudDsgICAgICAgICAgICAvLyBUaGUgYW1vdW50IG9mIHdlaSBzZW50IGluIHRoZSBwYXltZW50CiAgICAgICAgdWludCBzZWN1cml0eUd1YXJkRGVsYXk7Ly8gVGhlIHNlY29uZHMgYHNlY3VyaXR5R3VhcmRgIGNhbiBkZWxheSBwYXltZW50CiAgICB9CgogICAgUGF5bWVudFtdIHB1YmxpYyBhdXRob3JpemVkUGF5bWVudHM7CgogICAgYWRkcmVzcyBwdWJsaWMgc2VjdXJpdHlHdWFyZDsKICAgIHVpbnQgcHVibGljIGFic29sdXRlTWluVGltZUxvY2s7CiAgICB1aW50IHB1YmxpYyB0aW1lTG9jazsKICAgIHVpbnQgcHVibGljIG1heFNlY3VyaXR5R3VhcmREZWxheTsKCiAgICAvLy8gQGRldiBUaGUgd2hpdGUgbGlzdCBvZiBhcHByb3ZlZCBhZGRyZXNzZXMgYWxsb3dlZCB0byBzZXQgdXAgJiYgcmVjZWl2ZQogICAgLy8vICBwYXltZW50cyBmcm9tIHRoaXMgdmF1bHQKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGFsbG93ZWRTcGVuZGVyczsKCiAgICAvLy8gQGRldiBUaGUgYWRkcmVzcyBhc3NpZ25lZCB0aGUgcm9sZSBvZiBgc2VjdXJpdHlHdWFyZGAgaXMgdGhlIG9ubHkKICAgIC8vLyAgYWRkcmVzc2VzIHRoYXQgY2FuIGNhbGwgYSBmdW5jdGlvbiB3aXRoIHRoaXMgbW9kaWZpZXIKICAgIG1vZGlmaWVyIG9ubHlTZWN1cml0eUd1YXJkIHsgaWYgKG1zZy5zZW5kZXIgIT0gc2VjdXJpdHlHdWFyZCkgdGhyb3c7IF87IH0KCiAgICAvLyBAZGV2IEV2ZW50cyB0byBtYWtlIHRoZSBwYXltZW50IG1vdmVtZW50cyBlYXN5IHRvIGZpbmQgb24gdGhlIGJsb2NrY2hhaW4KICAgIGV2ZW50IFBheW1lbnRBdXRob3JpemVkKHVpbnQgaW5kZXhlZCBpZFBheW1lbnQsIGFkZHJlc3MgaW5kZXhlZCByZWNpcGllbnQsIHVpbnQgYW1vdW50KTsKICAgIGV2ZW50IFBheW1lbnRFeGVjdXRlZCh1aW50IGluZGV4ZWQgaWRQYXltZW50LCBhZGRyZXNzIGluZGV4ZWQgcmVjaXBpZW50LCB1aW50IGFtb3VudCk7CiAgICBldmVudCBQYXltZW50Q2FuY2VsZWQodWludCBpbmRleGVkIGlkUGF5bWVudCk7CiAgICBldmVudCBFdGhlclJlY2VpdmVkKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50IGFtb3VudCk7CiAgICBldmVudCBTcGVuZGVyQXV0aG9yaXphdGlvbihhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgYm9vbCBhdXRob3JpemVkKTsKCi8vLy8vLy8vLwovLyBDb25zdHJ1Y3RvcgovLy8vLy8vLy8KCiAgICAvLy8gQG5vdGljZSBUaGUgQ29uc3RydWN0b3IgY3JlYXRlcyB0aGUgVmF1bHQgb24gdGhlIGJsb2NrY2hhaW4KICAgIC8vLyBAcGFyYW0gX2VzY2FwZUhhdGNoQ2FsbGVyIFRoZSBhZGRyZXNzIG9mIGEgdHJ1c3RlZCBhY2NvdW50IG9yIGNvbnRyYWN0IHRvCiAgICAvLy8gIGNhbGwgYGVzY2FwZUhhdGNoKClgIHRvIHNlbmQgdGhlIGV0aGVyIGluIHRoaXMgY29udHJhY3QgdG8gdGhlCiAgICAvLy8gIGBlc2NhcGVIYXRjaERlc3RpbmF0aW9uYCBpdCB3b3VsZCBiZSBpZGVhbCBpZiBgZXNjYXBlSGF0Y2hDYWxsZXJgIGNhbm5vdCBtb3ZlCiAgICAvLy8gIGZ1bmRzIG91dCBvZiBgZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbmAKICAgIC8vLyBAcGFyYW0gX2VzY2FwZUhhdGNoRGVzdGluYXRpb24gVGhlIGFkZHJlc3Mgb2YgYSBzYWZlIGxvY2F0aW9uICh1c3UgYQogICAgLy8vICBNdWx0aXNpZykgdG8gc2VuZCB0aGUgZXRoZXIgaGVsZCBpbiB0aGlzIGNvbnRyYWN0IGluIGFuIGVtZXJnZW5jeQogICAgLy8vIEBwYXJhbSBfYWJzb2x1dGVNaW5UaW1lTG9jayBUaGUgbWluaW11bSBudW1iZXIgb2Ygc2Vjb25kcyBgdGltZWxvY2tgIGNhbgogICAgLy8vICBiZSBzZXQgdG8sIGlmIHNldCB0byAwIHRoZSBgb3duZXJgIGNhbiByZW1vdmUgdGhlIGB0aW1lTG9ja2AgY29tcGxldGVseQogICAgLy8vIEBwYXJhbSBfdGltZUxvY2sgSW5pdGlhbCBudW1iZXIgb2Ygc2Vjb25kcyB0aGF0IHBheW1lbnRzIGFyZSBkZWxheWVkCiAgICAvLy8gIGFmdGVyIHRoZXkgYXJlIGF1dGhvcml6ZWQgKGEgc2VjdXJpdHkgcHJlY2F1dGlvbikKICAgIC8vLyBAcGFyYW0gX3NlY3VyaXR5R3VhcmQgQWRkcmVzcyB0aGF0IHdpbGwgYmUgYWJsZSB0byBkZWxheSB0aGUgcGF5bWVudHMKICAgIC8vLyAgYmV5b25kIHRoZSBpbml0aWFsIHRpbWVsb2NrIHJlcXVpcmVtZW50czsgY2FuIGJlIHNldCB0byAweDAgdG8gcmVtb3ZlCiAgICAvLy8gIHRoZSBgc2VjdXJpdHlHdWFyZGAgZnVuY3Rpb25hbGl0eQogICAgLy8vIEBwYXJhbSBfbWF4U2VjdXJpdHlHdWFyZERlbGF5IFRoZSBtYXhpbXVtIG51bWJlciBvZiBzZWNvbmRzIGluIHRvdGFsCiAgICAvLy8gICB0aGF0IGBzZWN1cml0eUd1YXJkYCBjYW4gZGVsYXkgYSBwYXltZW50IHNvIHRoYXQgdGhlIG93bmVyIGNhbiBjYW5jZWwKICAgIC8vLyAgIHRoZSBwYXltZW50IGlmIG5lZWRlZAogICAgZnVuY3Rpb24gVmF1bHQoCiAgICAgICAgYWRkcmVzcyBfZXNjYXBlSGF0Y2hDYWxsZXIsCiAgICAgICAgYWRkcmVzcyBfZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbiwKICAgICAgICB1aW50IF9hYnNvbHV0ZU1pblRpbWVMb2NrLAogICAgICAgIHVpbnQgX3RpbWVMb2NrLAogICAgICAgIGFkZHJlc3MgX3NlY3VyaXR5R3VhcmQsCiAgICAgICAgdWludCBfbWF4U2VjdXJpdHlHdWFyZERlbGF5KSBFc2NhcGFibGUoX2VzY2FwZUhhdGNoQ2FsbGVyLCBfZXNjYXBlSGF0Y2hEZXN0aW5hdGlvbikKICAgIHsKICAgICAgICBhYnNvbHV0ZU1pblRpbWVMb2NrID0gX2Fic29sdXRlTWluVGltZUxvY2s7CiAgICAgICAgdGltZUxvY2sgPSBfdGltZUxvY2s7CiAgICAgICAgc2VjdXJpdHlHdWFyZCA9IF9zZWN1cml0eUd1YXJkOwogICAgICAgIG1heFNlY3VyaXR5R3VhcmREZWxheSA9IF9tYXhTZWN1cml0eUd1YXJkRGVsYXk7CiAgICB9CgovLy8vLy8vLy8KLy8gSGVscGVyIGZ1bmN0aW9ucwovLy8vLy8vLy8KCiAgICAvLy8gQG5vdGljZSBTdGF0ZXMgdGhlIHRvdGFsIG51bWJlciBvZiBhdXRob3JpemVkIHBheW1lbnRzIGluIHRoaXMgY29udHJhY3QKICAgIC8vLyBAcmV0dXJuIFRoZSBudW1iZXIgb2YgcGF5bWVudHMgZXZlciBhdXRob3JpemVkIGV2ZW4gaWYgdGhleSB3ZXJlIGNhbmNlbGVkCiAgICBmdW5jdGlvbiBudW1iZXJPZkF1dGhvcml6ZWRQYXltZW50cygpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gYXV0aG9yaXplZFBheW1lbnRzLmxlbmd0aDsKICAgIH0KCi8vLy8vLwovLyBSZWNlaXZlIEV0aGVyCi8vLy8vLwoKICAgIC8vLyBAbm90aWNlIENhbGxlZCBhbnl0aW1lIGV0aGVyIGlzIHNlbnQgdG8gdGhlIGNvbnRyYWN0ICYmIGNyZWF0ZXMgYW4gZXZlbnQKICAgIC8vLyB0byBtb3JlIGVhc2lseSB0cmFjayB0aGUgaW5jb21pbmcgdHJhbnNhY3Rpb25zCiAgICBmdW5jdGlvbiByZWNlaXZlRXRoZXIoKSBwYXlhYmxlIHsKICAgICAgICBFdGhlclJlY2VpdmVkKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgICB9CgogICAgLy8vIEBub3RpY2UgVGhlIGZhbGwgYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbmV2ZXIgZXRoZXIgaXMgc2VudCB0byB0aGlzCiAgICAvLy8gIGNvbnRyYWN0CiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHsKICAgICAgICByZWNlaXZlRXRoZXIoKTsKICAgIH0KCi8vLy8vLy8vCi8vIFNwZW5kZXIgSW50ZXJmYWNlCi8vLy8vLy8vCgogICAgLy8vIEBub3RpY2Ugb25seSBgYWxsb3dlZFNwZW5kZXJzW11gIENyZWF0ZXMgYSBuZXcgYFBheW1lbnRgCiAgICAvLy8gQHBhcmFtIF9uYW1lIEJyaWVmIGRlc2NyaXB0aW9uIG9mIHRoZSBwYXltZW50IHRoYXQgaXMgYXV0aG9yaXplZAogICAgLy8vIEBwYXJhbSBfcmVmZXJlbmNlIEV4dGVybmFsIHJlZmVyZW5jZSBvZiB0aGUgcGF5bWVudAogICAgLy8vIEBwYXJhbSBfcmVjaXBpZW50IERlc3RpbmF0aW9uIG9mIHRoZSBwYXltZW50CiAgICAvLy8gQHBhcmFtIF9hbW91bnQgQW1vdW50IHRvIGJlIHBhaWQgaW4gd2VpCiAgICAvLy8gQHBhcmFtIF9wYXltZW50RGVsYXkgTnVtYmVyIG9mIHNlY29uZHMgdGhlIHBheW1lbnQgaXMgdG8gYmUgZGVsYXllZCwgaWYKICAgIC8vLyAgdGhpcyB2YWx1ZSBpcyBiZWxvdyBgdGltZUxvY2tgIHRoZW4gdGhlIGB0aW1lTG9ja2AgZGV0ZXJtaW5lcyB0aGUgZGVsYXkKICAgIC8vLyBAcmV0dXJuIFRoZSBQYXltZW50IElEIG51bWJlciBmb3IgdGhlIG5ldyBhdXRob3JpemVkIHBheW1lbnQKICAgIGZ1bmN0aW9uIGF1dGhvcml6ZVBheW1lbnQoCiAgICAgICAgc3RyaW5nIF9uYW1lLAogICAgICAgIGJ5dGVzMzIgX3JlZmVyZW5jZSwKICAgICAgICBhZGRyZXNzIF9yZWNpcGllbnQsCiAgICAgICAgdWludCBfYW1vdW50LAogICAgICAgIHVpbnQgX3BheW1lbnREZWxheQogICAgKSByZXR1cm5zKHVpbnQpIHsKCiAgICAgICAgLy8gRmFpbCBpZiB5b3UgYXJlbnQgb24gdGhlIGBhbGxvd2VkU3BlbmRlcnNgIHdoaXRlIGxpc3QKICAgICAgICBpZiAoIWFsbG93ZWRTcGVuZGVyc1ttc2cuc2VuZGVyXSApIHRocm93OwogICAgICAgIHVpbnQgaWRQYXltZW50ID0gYXV0aG9yaXplZFBheW1lbnRzLmxlbmd0aDsgICAgICAgLy8gVW5pcXVlIFBheW1lbnQgSUQKICAgICAgICBhdXRob3JpemVkUGF5bWVudHMubGVuZ3RoKys7CgogICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgbGluZXMgZmlsbCBvdXQgdGhlIHBheW1lbnQgc3RydWN0CiAgICAgICAgUGF5bWVudCBwID0gYXV0aG9yaXplZFBheW1lbnRzW2lkUGF5bWVudF07CiAgICAgICAgcC5zcGVuZGVyID0gbXNnLnNlbmRlcjsKCiAgICAgICAgLy8gT3ZlcmZsb3cgcHJvdGVjdGlvbgogICAgICAgIGlmIChfcGF5bWVudERlbGF5ID4gMTAqKjE4KSB0aHJvdzsKCiAgICAgICAgLy8gRGV0ZXJtaW5lcyB0aGUgZWFybGllc3QgdGhlIHJlY2lwaWVudCBjYW4gcmVjZWl2ZSBwYXltZW50IChVbml4IHRpbWUpCiAgICAgICAgcC5lYXJsaWVzdFBheVRpbWUgPSBfcGF5bWVudERlbGF5ID49IHRpbWVMb2NrID8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cgKyBfcGF5bWVudERlbGF5IDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cgKyB0aW1lTG9jazsKICAgICAgICBwLnJlY2lwaWVudCA9IF9yZWNpcGllbnQ7CiAgICAgICAgcC5hbW91bnQgPSBfYW1vdW50OwogICAgICAgIHAubmFtZSA9IF9uYW1lOwogICAgICAgIHAucmVmZXJlbmNlID0gX3JlZmVyZW5jZTsKICAgICAgICBQYXltZW50QXV0aG9yaXplZChpZFBheW1lbnQsIHAucmVjaXBpZW50LCBwLmFtb3VudCk7CiAgICAgICAgcmV0dXJuIGlkUGF5bWVudDsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBvbmx5IGBhbGxvd2VkU3BlbmRlcnNbXWAgVGhlIHJlY2lwaWVudCBvZiBhIHBheW1lbnQgY2FsbHMgdGhpcwogICAgLy8vICBmdW5jdGlvbiB0byBzZW5kIHRoZW1zZWx2ZXMgdGhlIGV0aGVyIGFmdGVyIHRoZSBgZWFybGllc3RQYXlUaW1lYCBoYXMKICAgIC8vLyAgZXhwaXJlZAogICAgLy8vIEBwYXJhbSBfaWRQYXltZW50IFRoZSBwYXltZW50IElEIHRvIGJlIGV4ZWN1dGVkCiAgICBmdW5jdGlvbiBjb2xsZWN0QXV0aG9yaXplZFBheW1lbnQodWludCBfaWRQYXltZW50KSB7CgogICAgICAgIC8vIENoZWNrIHRoYXQgdGhlIGBfaWRQYXltZW50YCBoYXMgYmVlbiBhZGRlZCB0byB0aGUgcGF5bWVudHMgc3RydWN0CiAgICAgICAgaWYgKF9pZFBheW1lbnQgPj0gYXV0aG9yaXplZFBheW1lbnRzLmxlbmd0aCkgdGhyb3c7CgogICAgICAgIFBheW1lbnQgcCA9IGF1dGhvcml6ZWRQYXltZW50c1tfaWRQYXltZW50XTsKCiAgICAgICAgLy8gQ2hlY2tpbmcgZm9yIHJlYXNvbnMgbm90IHRvIGV4ZWN1dGUgdGhlIHBheW1lbnQKICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBwLnJlY2lwaWVudCkgdGhyb3c7CiAgICAgICAgaWYgKCFhbGxvd2VkU3BlbmRlcnNbcC5zcGVuZGVyXSkgdGhyb3c7CiAgICAgICAgaWYgKG5vdyA8IHAuZWFybGllc3RQYXlUaW1lKSB0aHJvdzsKICAgICAgICBpZiAocC5jYW5jZWxlZCkgdGhyb3c7CiAgICAgICAgaWYgKHAucGFpZCkgdGhyb3c7CiAgICAgICAgaWYgKHRoaXMuYmFsYW5jZSA8IHAuYW1vdW50KSB0aHJvdzsKCiAgICAgICAgcC5wYWlkID0gdHJ1ZTsgLy8gU2V0IHRoZSBwYXltZW50IHRvIGJlaW5nIHBhaWQKICAgICAgICBpZiAoIXAucmVjaXBpZW50LnNlbmQocC5hbW91bnQpKSB7ICAvLyBNYWtlIHRoZSBwYXltZW50CiAgICAgICAgICAgIHRocm93OwogICAgICAgIH0KICAgICAgICBQYXltZW50RXhlY3V0ZWQoX2lkUGF5bWVudCwgcC5yZWNpcGllbnQsIHAuYW1vdW50KTsKICAgICB9CgovLy8vLy8vLy8KLy8gU2VjdXJpdHlHdWFyZCBJbnRlcmZhY2UKLy8vLy8vLy8vCgogICAgLy8vIEBub3RpY2UgYG9ubHlTZWN1cml0eUd1YXJkYCBEZWxheXMgYSBwYXltZW50IGZvciBhIHNldCBudW1iZXIgb2Ygc2Vjb25kcwogICAgLy8vIEBwYXJhbSBfaWRQYXltZW50IElEIG9mIHRoZSBwYXltZW50IHRvIGJlIGRlbGF5ZWQKICAgIC8vLyBAcGFyYW0gX2RlbGF5IFRoZSBudW1iZXIgb2Ygc2Vjb25kcyB0byBkZWxheSB0aGUgcGF5bWVudAogICAgZnVuY3Rpb24gZGVsYXlQYXltZW50KHVpbnQgX2lkUGF5bWVudCwgdWludCBfZGVsYXkpIG9ubHlTZWN1cml0eUd1YXJkIHsKICAgICAgICBpZiAoX2lkUGF5bWVudCA+PSBhdXRob3JpemVkUGF5bWVudHMubGVuZ3RoKSB0aHJvdzsKCiAgICAgICAgLy8gT3ZlcmZsb3cgdGVzdAogICAgICAgIGlmIChfZGVsYXkgPiAxMCoqMTgpIHRocm93OwoKICAgICAgICBQYXltZW50IHAgPSBhdXRob3JpemVkUGF5bWVudHNbX2lkUGF5bWVudF07CgogICAgICAgIGlmICgocC5zZWN1cml0eUd1YXJkRGVsYXkgKyBfZGVsYXkgPiBtYXhTZWN1cml0eUd1YXJkRGVsYXkpIHx8CiAgICAgICAgICAgIChwLnBhaWQpIHx8CiAgICAgICAgICAgIChwLmNhbmNlbGVkKSkKICAgICAgICAgICAgdGhyb3c7CgogICAgICAgIHAuc2VjdXJpdHlHdWFyZERlbGF5ICs9IF9kZWxheTsKICAgICAgICBwLmVhcmxpZXN0UGF5VGltZSArPSBfZGVsYXk7CiAgICB9CgovLy8vLy8vLwovLyBPd25lciBJbnRlcmZhY2UKLy8vLy8vLwoKICAgIC8vLyBAbm90aWNlIGBvbmx5T3duZXJgIENhbmNlbCBhIHBheW1lbnQgYWxsIHRvZ2V0aGVyCiAgICAvLy8gQHBhcmFtIF9pZFBheW1lbnQgSUQgb2YgdGhlIHBheW1lbnQgdG8gYmUgY2FuY2VsZWQuCiAgICBmdW5jdGlvbiBjYW5jZWxQYXltZW50KHVpbnQgX2lkUGF5bWVudCkgb25seU93bmVyIHsKICAgICAgICBpZiAoX2lkUGF5bWVudCA+PSBhdXRob3JpemVkUGF5bWVudHMubGVuZ3RoKSB0aHJvdzsKCiAgICAgICAgUGF5bWVudCBwID0gYXV0aG9yaXplZFBheW1lbnRzW19pZFBheW1lbnRdOwoKCiAgICAgICAgaWYgKHAuY2FuY2VsZWQpIHRocm93OwogICAgICAgIGlmIChwLnBhaWQpIHRocm93OwoKICAgICAgICBwLmNhbmNlbGVkID0gdHJ1ZTsKICAgICAgICBQYXltZW50Q2FuY2VsZWQoX2lkUGF5bWVudCk7CiAgICB9CgogICAgLy8vIEBub3RpY2UgYG9ubHlPd25lcmAgQWRkcyBhIHNwZW5kZXIgdG8gdGhlIGBhbGxvd2VkU3BlbmRlcnNbXWAgd2hpdGUgbGlzdAogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgY29udHJhY3QgYmVpbmcgYXV0aG9yaXplZC91bmF1dGhvcml6ZWQKICAgIC8vLyBAcGFyYW0gX2F1dGhvcml6ZSBgdHJ1ZWAgaWYgYXV0aG9yaXppbmcgYW5kIGBmYWxzZWAgaWYgdW5hdXRob3JpemluZwogICAgZnVuY3Rpb24gYXV0aG9yaXplU3BlbmRlcihhZGRyZXNzIF9zcGVuZGVyLCBib29sIF9hdXRob3JpemUpIG9ubHlPd25lciB7CiAgICAgICAgYWxsb3dlZFNwZW5kZXJzW19zcGVuZGVyXSA9IF9hdXRob3JpemU7CiAgICAgICAgU3BlbmRlckF1dGhvcml6YXRpb24oX3NwZW5kZXIsIF9hdXRob3JpemUpOwogICAgfQoKICAgIC8vLyBAbm90aWNlIGBvbmx5T3duZXJgIFNldHMgdGhlIGFkZHJlc3Mgb2YgYHNlY3VyaXR5R3VhcmRgCiAgICAvLy8gQHBhcmFtIF9uZXdTZWN1cml0eUd1YXJkIEFkZHJlc3Mgb2YgdGhlIG5ldyBzZWN1cml0eSBndWFyZAogICAgZnVuY3Rpb24gc2V0U2VjdXJpdHlHdWFyZChhZGRyZXNzIF9uZXdTZWN1cml0eUd1YXJkKSBvbmx5T3duZXIgewogICAgICAgIHNlY3VyaXR5R3VhcmQgPSBfbmV3U2VjdXJpdHlHdWFyZDsKICAgIH0KCiAgICAvLy8gQG5vdGljZSBgb25seU93bmVyYCBDaGFuZ2VzIGB0aW1lTG9ja2A7IHRoZSBuZXcgYHRpbWVMb2NrYCBjYW5ub3QgYmUKICAgIC8vLyAgbG93ZXIgdGhhbiBgYWJzb2x1dGVNaW5UaW1lTG9ja2AKICAgIC8vLyBAcGFyYW0gX25ld1RpbWVMb2NrIFNldHMgdGhlIG5ldyBtaW5pbXVtIGRlZmF1bHQgYHRpbWVMb2NrYCBpbiBzZWNvbmRzOwogICAgLy8vICBwZW5kaW5nIHBheW1lbnRzIG1haW50YWluIHRoZWlyIGBlYXJsaWVzdFBheVRpbWVgCiAgICBmdW5jdGlvbiBzZXRUaW1lbG9jayh1aW50IF9uZXdUaW1lTG9jaykgb25seU93bmVyIHsKICAgICAgICBpZiAoX25ld1RpbWVMb2NrIDwgYWJzb2x1dGVNaW5UaW1lTG9jaykgdGhyb3c7CiAgICAgICAgdGltZUxvY2sgPSBfbmV3VGltZUxvY2s7CiAgICB9CgogICAgLy8vIEBub3RpY2UgYG9ubHlPd25lcmAgQ2hhbmdlcyB0aGUgbWF4aW11bSBudW1iZXIgb2Ygc2Vjb25kcwogICAgLy8vIGBzZWN1cml0eUd1YXJkYCBjYW4gZGVsYXkgYSBwYXltZW50CiAgICAvLy8gQHBhcmFtIF9tYXhTZWN1cml0eUd1YXJkRGVsYXkgVGhlIG5ldyBtYXhpbXVtIGRlbGF5IGluIHNlY29uZHMgdGhhdAogICAgLy8vICBgc2VjdXJpdHlHdWFyZGAgY2FuIGRlbGF5IHRoZSBwYXltZW50J3MgZXhlY3V0aW9uIGluIHRvdGFsCiAgICBmdW5jdGlvbiBzZXRNYXhTZWN1cml0eUd1YXJkRGVsYXkodWludCBfbWF4U2VjdXJpdHlHdWFyZERlbGF5KSBvbmx5T3duZXIgewogICAgICAgIG1heFNlY3VyaXR5R3VhcmREZWxheSA9IF9tYXhTZWN1cml0eUd1YXJkRGVsYXk7CiAgICB9Cn0='.
	

]
