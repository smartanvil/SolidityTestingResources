Class {
	#name : #SRT5be015eb0be828742b1e9ff9f784ea51e540b6e8,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT5be015eb0be828742b1e9ff9f784ea51e540b6e8 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKgoqICdMT09LJyB0b2tlbiBzYWxlIGNvbnRyYWN0CioKKiBSZWZlciB0byBodHRwczovL2xvb2tzY29pbi5jb20vIGZvciBmdXJ0aGVyIGluZm9ybWF0aW9uLgoqIAoqIERldmVsb3BlcjogTG9va1JldgoqCiovCgovKgogKiBFUkMyMCBUb2tlbiBTdGFuZGFyZAogKi8KY29udHJhY3QgRVJDMjAgewogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSk7CiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBvayk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIG9rKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgb2spOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwp9CgogIC8qKgogICAqIFByb3ZpZGVzIG1ldGhvZHMgdG8gc2FmZWx5IGFkZCwgc3VidHJhY3QgYW5kIG11bHRpcGx5IHVpbnQyNTYgbnVtYmVycy4KICAgKi8KY29udHJhY3QgU2FmZU1hdGggewogICAgdWludDI1NiBjb25zdGFudCBwcml2YXRlIE1BWF9VSU5UMjU2ID0KICAgIDB4RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjsKCiAgICAvKioKICAgICAqIEFkZCB0d28gdWludDI1NiB2YWx1ZXMsIHJldmVydCBpbiBjYXNlIG9mIG92ZXJmbG93LgogICAgICoKICAgICAqIEBwYXJhbSBhIGZpcnN0IHZhbHVlIHRvIGFkZAogICAgICogQHBhcmFtIGIgc2Vjb25kIHZhbHVlIHRvIGFkZAogICAgICogQHJldHVybiBhICsgYgogICAgICovCiAgICBmdW5jdGlvbiBzYWZlQWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmVxdWlyZSAoYSA8PSBNQVhfVUlOVDI1NiAtIGIpOwogICAgICAgIHJldHVybiBhICsgYjsKICAgIH0KCiAgICAvKioKICAgICAqIFN1YnRyYWN0IG9uZSB1aW50MjU2IHZhbHVlIGZyb20gYW5vdGhlciwgdGhyb3cgaW4gY2FzZSBvZiB1bmRlcmZsb3cuCiAgICAgKgogICAgICogQHBhcmFtIGEgdmFsdWUgdG8gc3VidHJhY3QgZnJvbQogICAgICogQHBhcmFtIGIgdmFsdWUgdG8gc3VidHJhY3QKICAgICAqIEByZXR1cm4gYSAtIGIKICAgICAqLwogICAgZnVuY3Rpb24gc2FmZVN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGFzc2VydChhID49IGIpOwogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICAvKioKICAgICAqIE11bHRpcGx5IHR3byB1aW50MjU2IHZhbHVlcywgdGhyb3cgaW4gY2FzZSBvZiBvdmVyZmxvdy4KICAgICAqCiAgICAgKiBAcGFyYW0gYSBmaXJzdCB2YWx1ZSB0byBtdWx0aXBseQogICAgICogQHBhcmFtIGIgc2Vjb25kIHZhbHVlIHRvIG11bHRpcGx5CiAgICAgKiBAcmV0dXJuIGEgKiBiCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNhZmVNdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBpZiAoYSA9PSAwIHx8IGIgPT0gMCkgcmV0dXJuIDA7CiAgICAgICAgcmVxdWlyZSAoYSA8PSBNQVhfVUlOVDI1NiAvIGIpOwogICAgICAgIHJldHVybiBhICogYjsKICAgIH0KfQoKLyoKICAgIFByb3ZpZGVzIHN1cHBvcnQgYW5kIHV0aWxpdGllcyBmb3IgY29udHJhY3Qgb3duZXJzaGlwCiovCmNvbnRyYWN0IE93bmFibGUgewogICAgYWRkcmVzcyBvd25lcjsKICAgIGFkZHJlc3MgbmV3T3duZXI7CgogICAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgLyoqCiAgICAgKiBBbGxvd3MgZXhlY3V0aW9uIGJ5IHRoZSBvd25lciBvbmx5LgogICAgICovCiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICAqIFRyYW5zZmVycmluZyB0aGUgY29udHJhY3Qgb3duZXJzaGlwIHRvIHRoZSBuZXcgb3duZXIuCiAgICAgKgogICAgICogQHBhcmFtIF9uZXdPd25lciBuZXcgY29udHJhY3RvciBvd25lcgogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2Zlck93bmVyc2hpcChhZGRyZXNzIF9uZXdPd25lcikgb25seU93bmVyIHsKICAgICAgICBpZiAoX25ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgICAgIG5ld093bmVyID0gX25ld093bmVyOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEFjY2VwdCB0aGUgY29udHJhY3Qgb3duZXJzaGlwIGJ5IHRoZSBuZXcgb3duZXIuCiAgICAgKgogICAgICovCiAgICBmdW5jdGlvbiBhY2NlcHRPd25lcnNoaXAoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG5ld093bmVyKTsKICAgICAgICBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgICAgIG93bmVyID0gbmV3T3duZXI7CiAgICAgICAgbmV3T3duZXIgPSAweDA7CiAgICB9CiAgICBldmVudCBPd25lcnNoaXBUcmFuc2ZlcnJlZChhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8pOwp9CgovKioKKiBTdGFuZGFyZCBUb2tlbiBTbWFydCBDb250cmFjdCB0aGF0IGNvdWxkIGJlIHVzZWQgYXMgYSBiYXNlIGNvbnRyYWN0IGZvcgoqIEVSQy0yMCB0b2tlbiBjb250cmFjdHMuCiovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIE93bmFibGUsIFNhZmVNYXRoIHsKCiAgICAvKioKICAgICAqIE1hcHBpbmcgZnJvbSBhZGRyZXNzZXMgb2YgdG9rZW4gaG9sZGVycyB0byB0aGUgbnVtYmVycyBvZiB0b2tlbnMgYmVsb25naW5nCiAgICAgKiB0byB0aGVzZSB0b2tlbiBob2xkZXJzLgogICAgICovCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAgIC8qKgogICAgICogTWFwcGluZyBmcm9tIGFkZHJlc3NlcyBvZiB0b2tlbiBob2xkZXJzIHRvIHRoZSBtYXBwaW5nIG9mIGFkZHJlc3NlcyBvZgogICAgICogc3BlbmRlcnMgdG8gdGhlIGFsbG93YW5jZXMgc2V0IGJ5IHRoZXNlIHRva2VuIGhvbGRlcnMgdG8gdGhlc2Ugc3BlbmRlcnMuCiAgICAgKi8KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCiAgICAvKioKICAgICAqIENyZWF0ZSBuZXcgU3RhbmRhcmQgVG9rZW4gY29udHJhY3QuCiAgICAgKi8KICAgIGZ1bmN0aW9uIFN0YW5kYXJkVG9rZW4oKSB7CiAgICAgIC8vIERvIG5vdGhpbmcKICAgIH0KCiAgICAvKioKICAgICAqIEdldCBudW1iZXIgb2YgdG9rZW5zIGN1cnJlbnRseSBiZWxvbmdpbmcgdG8gZ2l2ZW4gb3duZXIuCiAgICAgKgogICAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIHRvIGdldCBudW1iZXIgb2YgdG9rZW5zIGN1cnJlbnRseSBiZWxvbmdpbmcgdG8gdGhlCiAgICAgKiAgICAgICAgb3duZXIgb2YKICAgICAqIEByZXR1cm4gbnVtYmVyIG9mIHRva2VucyBjdXJyZW50bHkgYmVsb25naW5nIHRvIHRoZSBvd25lciBvZiBnaXZlbiBhZGRyZXNzCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CgogICAgLyoqCiAgICAgKiBUcmFuc2ZlciBnaXZlbiBudW1iZXIgb2YgdG9rZW5zIGZyb20gbWVzc2FnZSBzZW5kZXIgdG8gZ2l2ZW4gcmVjaXBpZW50LgogICAgICoKICAgICAqIEBwYXJhbSBfdG8gYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMgdG8gdGhlIG93bmVyIG9mCiAgICAgKiBAcGFyYW0gX2Ftb3VudCBudW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyIHRvIHRoZSBvd25lciBvZiBnaXZlbiBhZGRyZXNzCiAgICAgKiBAcmV0dXJuIHRydWUgaWYgdG9rZW5zIHdlcmUgdHJhbnNmZXJyZWQgc3VjY2Vzc2Z1bGx5LCBmYWxzZSBvdGhlcndpc2UKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy8gYXZvaWQgd2FzdGluZyBnYXMgb24gMCB0b2tlbiB0cmFuc2ZlcnMKICAgICAgICBpZihfYW1vdW50IDw9IDApIHJldHVybiBmYWxzZTsKICAgICAgICBpZiAobXNnLnNlbmRlciA9PSBfdG8pIHJldHVybiBmYWxzZTsKICAgICAgICBpZiAoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPCBfYW1vdW50KSByZXR1cm4gZmFsc2U7CiAgICAgICAgaWYgKGJhbGFuY2VzW190b10gKyBfYW1vdW50ID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IHNhZmVTdWIoYmFsYW5jZXNbbXNnLnNlbmRlcl0sX2Ftb3VudCk7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gPSBzYWZlQWRkKGJhbGFuY2VzW190b10sX2Ftb3VudCk7CiAgICAgICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX2Ftb3VudCk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBUcmFuc2ZlciBnaXZlbiBudW1iZXIgb2YgdG9rZW5zIGZyb20gZ2l2ZW4gb3duZXIgdG8gZ2l2ZW4gcmVjaXBpZW50LgogICAgICoKICAgICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIHRvIHRyYW5zZmVyIHRva2VucyBmcm9tIHRoZSBvd25lciBvZgogICAgICogQHBhcmFtIF90byBhZGRyZXNzIHRvIHRyYW5zZmVyIHRva2VucyB0byB0aGUgb3duZXIgb2YKICAgICAqIEBwYXJhbSBfYW1vdW50IG51bWJlciBvZiB0b2tlbnMgdG8gdHJhbnNmZXIgZnJvbSBnaXZlbiBvd25lciB0byBnaXZlbgogICAgICogICAgICAgIHJlY2lwaWVudAogICAgICogQHJldHVybiB0cnVlIGlmIHRva2VucyB3ZXJlIHRyYW5zZmVycmVkIHN1Y2Nlc3NmdWxseSwgZmFsc2Ugb3RoZXJ3aXNlCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBhdm9pZCB3YXN0aW5nIGdhcyBvbiAwIHRva2VuIHRyYW5zZmVycwogICAgICAgIGlmKF9hbW91bnQgPD0gMCkgcmV0dXJuIGZhbHNlOwogICAgICAgIGlmKF9mcm9tID09IF90bykgcmV0dXJuIGZhbHNlOwogICAgICAgIGlmIChiYWxhbmNlc1tfZnJvbV0gPCBfYW1vdW50KSByZXR1cm4gZmFsc2U7CiAgICAgICAgaWYgKF9hbW91bnQgPiBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSkgcmV0dXJuIGZhbHNlOwoKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gPSBzYWZlU3ViKGJhbGFuY2VzW19mcm9tXSxfYW1vdW50KTsKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IHNhZmVTdWIoYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0sX2Ftb3VudCk7CiAgICAgICAgYmFsYW5jZXNbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZXNbX3RvXSxfYW1vdW50KTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfYW1vdW50KTsKCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8qKgogICAgICogQWxsb3cgZ2l2ZW4gc3BlbmRlciB0byB0cmFuc2ZlciBnaXZlbiBudW1iZXIgb2YgdG9rZW5zIGZyb20gbWVzc2FnZSBzZW5kZXIuCiAgICAgKgogICAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgdG8gYWxsb3cgdGhlIG93bmVyIG9mIHRvIHRyYW5zZmVyIHRva2VucyBmcm9tCiAgICAgKiAgICAgICAgbWVzc2FnZSBzZW5kZXIKICAgICAqIEBwYXJhbSBfYW1vdW50IG51bWJlciBvZiB0b2tlbnMgdG8gYWxsb3cgdG8gdHJhbnNmZXIKICAgICAqIEByZXR1cm4gdHJ1ZSBpZiB0b2tlbiB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bGx5IGFwcHJvdmVkLCBmYWxzZSBvdGhlcndpc2UKICAgICAqLwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoKICAgICAgICAvLyBUbyBjaGFuZ2UgdGhlIGFwcHJvdmUgYW1vdW50IHlvdSBmaXJzdCBoYXZlIHRvIHJlZHVjZSB0aGUgYWRkcmVzc2VzYAogICAgICAgIC8vICBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAgICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAgICAgLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMCNpc3N1ZWNvbW1lbnQtMjYzNTI0NzI5CiAgICAgICAgaWYgKChfYW1vdW50ICE9IDApICYmIChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSAhPSAwKSkgewogICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdIDwgX2Ftb3VudCkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX2Ftb3VudDsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX2Ftb3VudCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgfQoKICAgIC8qKgogICAgICogVGVsbCBob3cgbWFueSB0b2tlbnMgZ2l2ZW4gc3BlbmRlciBpcyBjdXJyZW50bHkgYWxsb3dlZCB0byB0cmFuc2ZlciBmcm9tCiAgICAgKiBnaXZlbiBvd25lci4KICAgICAqCiAgICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgdG8gZ2V0IG51bWJlciBvZiB0b2tlbnMgYWxsb3dlZCB0byBiZSB0cmFuc2ZlcnJlZAogICAgICogICAgICAgIGZyb20gdGhlIG93bmVyIG9mCiAgICAgKiBAcGFyYW0gX3NwZW5kZXIgYWRkcmVzcyB0byBnZXQgbnVtYmVyIG9mIHRva2VucyBhbGxvd2VkIHRvIGJlIHRyYW5zZmVycmVkCiAgICAgKiAgICAgICAgYnkgdGhlIG93bmVyIG9mCiAgICAgKiBAcmV0dXJuIG51bWJlciBvZiB0b2tlbnMgZ2l2ZW4gc3BlbmRlciBpcyBjdXJyZW50bHkgYWxsb3dlZCB0byB0cmFuc2ZlcgogICAgICogICAgICAgICBmcm9tIGdpdmVuIG93bmVyCiAgICAgKi8KICAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgICB9Cn0KCi8qKgogKiBMT09LIFRva2VuIFNhbGUgQ29udHJhY3QKICoKICogVGhlIHRva2VuIHNhbGUgY29udHJvbGxlciwgYWxsb3dzIGNvbnRyaWJ1dGluZyBldGhlciBpbiBleGNoYW5nZSBmb3IgTE9PSyBjb2lucy4KICogVGhlIHByaWNlIChleGNoYW5nZSByYXRlIHdpdGggRVRIKSByZW1haW5zIGZpeGVkIGZvciB0aGUgZW50aXJlIGR1cmF0aW9uIG9mIHRoZSB0b2tlbiBzYWxlLgogKiBWSVAgcmFua2luZyBpcyByZWNvcmRlZCBhdCB0aGUgdGltZSB3aGVuIHRoZSB0b2tlbiBob2xkaW5nIGFkZHJlc3MgZmlyc3QgbWVldCBWSVAgaG9sZGluZyBsZXZlbC4KICogVklQIHJhbmtpbmcgaXMgdmFsaWQgZm9yIHRoZSBsaWZldGltZSBvZiBhIHRva2VuIHdhbGxldCBhZGRyZXNzLCBhcyBsb25nIGFzIGl0IG1lZXRzIFZJUCBob2xkaW5nIGxldmVsLgogKiBWSVAgcmFua2luZyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSBwcmlvcml0eSB3aGVuIGNvbXBldGluZyB3aXRoIG90aGVyIGJpZHMgZm9yIHRoZQogKiBzYW1lIHByb2R1Y3Qgb3Igc2VydmljZSBvbiB0aGUgcGxhdGZvcm0uIAogKiBIaWdoZXIgVklQIHJhbmtpbmcgKHdpdGggZWFybGllciB0aW1lc3RhbXApIGhhcyBoaWdoZXIgcHJpb3JpdHkuCiAqIEhpZ2hlciBWSVAgcmFua2luZyBhZGRyZXNzIGNhbiBvdXRiaWQgb3RoZXIgbG93ZXIgcmFua2luZyBhZGRyZXNzZXMgb25jZSBwZXIgc2VsbGluZyB3aW5kb3cgb3IgcHJvbW90aW9uIHBlcmlvZC4KICogVXNhZ2Ugb2YgdGhlIExPT0sgdG9rZW4sIFZJUCByYW5raW5nIGFuZCBiaWQgcHJpb3JpdHkgd2lsbCBiZSBkZXNjcmliZWQgb24gdG9rZW4gd2Vic2l0ZS4KICoKICovCmNvbnRyYWN0IExvb2tzQ29pbiBpcyBTdGFuZGFyZFRva2VuIHsKCiAgICAvKioKICAgICAqIEFkZHJlc3Mgb2YgdGhlIG93bmVyIG9mIHRoaXMgc21hcnQgY29udHJhY3QuCiAgICAgKi8KICAgIGFkZHJlc3Mgd2FsbGV0ID0gMHgwOwoKICAgIC8qKgogICAgKiBNYXBwaW5nIGZvciBWSVAgcmFuayBmb3IgcXVhbGlmaWVkIHRva2VuIGhvbGRlcnMKICAgICogSGlnaGVyIFZJUCByYW5raW5nICh3aXRoIGVhcmxpZXIgdGltZXN0YW1wKSBoYXMgaGlnaGVyIGJpZGRpbmcgcHJpb3JpdHkgd2hlbiBjb21wZXRpbmcgCiAgICAqIGZvciB0aGUgc2FtZSBpdGVtIG9uIHBsYXRmb3JtLiAKICAgICogSGlnaGVyIFZJUCByYW5raW5nIGFkZHJlc3MgY2FuIG91dGJpZCBvdGhlciBsb3dlciByYW5raW5nIGFkZHJlc3NlcyBvbmNlIHBlciBzZWxsaW5nIHdpbmRvdyBvciBwcm9tb3Rpb24gcGVyaW9kLgogICAgKiBVc2FnZSBvZiB0aGUgVklQIHJhbmtpbmcgYW5kIGJpZCBwcmlvcml0eSB3aWxsIGJlIGRlc2NyaWJlZCBvbiB0b2tlbiB3ZWJzaXRlLgogICAgKi8KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgdmlwcmFuazsKCiAgICAvKioKICAgICAqIE1pbmltaXVtIGNvbnRyaWJ1dGlvbiB0byByZWNvcmQgYSBWSVAgYmxvY2sKICAgICAqIFRva2VuIGhvbGRpbmcgYWRkcmVzcyBuZWVkcyBhdCBsZWFzdCAxMCBFVEggd29ydGggb2YgTE9PSyB0b2tlbnMgdG8gYmUgcmFua2VkIGFzIFZJUAogICAgKi8KICAgIHVpbnQyNTYgcHVibGljIFZJUF9NSU5JTVVNID0gMTAwMDAwMDsKCiAgICAvKioKICAgICAqIEluaXRpYWwgbnVtYmVyIG9mIHRva2Vucy4KICAgICAqLwogICAgdWludDI1NiBjb25zdGFudCBJTklUSUFMX1RPS0VOU19DT1VOVCA9IDIwMDAwMDAwMDAwOwoKICAgIC8qKgogICAgICogVG90YWwgbnVtYmVyIG9mIHRva2VucyBpbnMgY2lyY3VsYXRpb24uCiAgICAgKi8KICAgIHVpbnQyNTYgdG9rZW5zQ291bnQ7CgogICAgLy8gaW5pdGlhbCBwcmljZSBpbiB3ZWkgKG51bWVyYXRvcikKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFRPS0VOX1BSSUNFX04gPSAxZTEzOwogICAgLy8gaW5pdGlhbCBwcmljZSBpbiB3ZWkgKGRlbm9taW5hdG9yKQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgVE9LRU5fUFJJQ0VfRCA9IDE7CiAgICAvLyAxIEVUSCA9IDEwMDAwMCBMT09LIHRva2VucwogICAgLy8gMjAwMDAwIEVUSCA9IDIwMDAwMDAwMDAwIExPT0sgdG9rZW5zCgogICAgLyoqCiAgICAgKiBDcmVhdGUgbmV3IExPT0sgdG9rZW4gU21hcnQgQ29udHJhY3QsIG1ha2UgbWVzc2FnZSBzZW5kZXIgdG8gYmUgdGhlCiAgICAgKiBvd25lciBvZiBzbWFydCBjb250cmFjdCwgaXNzdWUgZ2l2ZW4gbnVtYmVyIG9mIHRva2VucyBhbmQgZ2l2ZSB0aGVtIHRvCiAgICAgKiBtZXNzYWdlIHNlbmRlci4KICAgICAqLwogICAgZnVuY3Rpb24gTG9va3NDb2luKCkgcGF5YWJsZSB7CiAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIHdhbGxldCA9IG1zZy5zZW5kZXI7CiAgICAgICAgdG9rZW5zQ291bnQgPSBJTklUSUFMX1RPS0VOU19DT1VOVDsKICAgICAgICBiYWxhbmNlc1tvd25lcl0gPSB0b2tlbnNDb3VudDsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCBuYW1lIG9mIHRoaXMgdG9rZW4uCiAgICAgKgogICAgICogQHJldHVybiBuYW1lIG9mIHRoaXMgdG9rZW4KICAgICAqLwogICAgZnVuY3Rpb24gbmFtZSgpIGNvbnN0YW50IHJldHVybnMgKHN0cmluZyBuYW1lKSB7CiAgICAgIHJldHVybiAiTE9PSyI7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgc3ltYm9sIG9mIHRoaXMgdG9rZW4uCiAgICAgKgogICAgICogQHJldHVybiBzeW1ib2wgb2YgdGhpcyB0b2tlbgogICAgICovCiAgICBmdW5jdGlvbiBzeW1ib2woKSBjb25zdGFudCByZXR1cm5zIChzdHJpbmcgc3ltYm9sKSB7CiAgICAgIHJldHVybiAiTE9PSyI7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgbnVtYmVyIG9mIGRlY2ltYWxzIGZvciB0aGlzIHRva2VuLgogICAgICoKICAgICAqIEByZXR1cm4gbnVtYmVyIG9mIGRlY2ltYWxzIGZvciB0aGlzIHRva2VuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGRlY2ltYWxzICgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQ4IGRlY2ltYWxzKSB7CiAgICAgIHJldHVybiA2OwogICAgfQoKICAgIC8qKgogICAgICogR2V0IHRvdGFsIG51bWJlciBvZiB0b2tlbnMgaW4gY2lyY3VsYXRpb24uCiAgICAgKgogICAgICogQHJldHVybiB0b3RhbCBudW1iZXIgb2YgdG9rZW5zIGluIGNpcmN1bGF0aW9uCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRvdGFsU3VwcGx5KCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBzdXBwbHkpIHsKICAgICAgcmV0dXJuIHRva2Vuc0NvdW50OwogICAgfQoKICAgIC8qKgogICAgICogU2V0IG5ldyB3YWxsZXQgYWRkcmVzcyBmb3IgdGhlIHNtYXJ0IGNvbnRyYWN0LgogICAgICogTWF5IG9ubHkgYmUgY2FsbGVkIGJ5IHNtYXJ0IGNvbnRyYWN0IG93bmVyLgogICAgICoKICAgICAqIEBwYXJhbSBfd2FsbGV0IG5ldyB3YWxsZXQgYWRkcmVzcyBvZiB0aGUgc21hcnQgY29udHJhY3QKICAgICAqLwogICAgZnVuY3Rpb24gc2V0V2FsbGV0KGFkZHJlc3MgX3dhbGxldCkgb25seU93bmVyIHsKICAgICAgICB3YWxsZXQgPSBfd2FsbGV0OwogICAgICAgIFdhbGxldFVwZGF0ZWQod2FsbGV0KTsKICAgIH0KICAgIGV2ZW50IFdhbGxldFVwZGF0ZWQoYWRkcmVzcyBuZXdXYWxsZXQpOwoKICAgIC8qKgogICAgICogR2V0IFZJUCByYW5rIG9mIGEgZ2l2ZW4gb3duZXIuCiAgICAgKiBWSVAgcmFua2luZyBpcyB2YWxpZCBmb3IgdGhlIGxpZmV0aW1lIG9mIGEgdG9rZW4gd2FsbGV0IGFkZHJlc3MsIGFzIGxvbmcgYXMgaXQgbWVldHMgVklQIGhvbGRpbmcgbGV2ZWwuCiAgICAgKgogICAgICogQHBhcmFtIHBhcnRpY2lwYW50IGFkZHJlc3MgdG8gZ2V0IHRoZSB2aXAgcmFuawogICAgICogQHJldHVybiB2aXAgcmFuayBvZiB0aGUgb3duZXIgb2YgZ2l2ZW4gYWRkcmVzcwogICAgICovCiAgICBmdW5jdGlvbiBnZXRWSVBSYW5rKGFkZHJlc3MgcGFydGljaXBhbnQpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmFuaykgewogICAgICAgIGlmIChiYWxhbmNlc1twYXJ0aWNpcGFudF0gPCBWSVBfTUlOSU1VTSkgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHZpcHJhbmtbcGFydGljaXBhbnRdOwogICAgfQoKICAgIC8vIGZhbGxiYWNrCiAgICBmdW5jdGlvbigpIHBheWFibGUgewogICAgICAgIGJ1eVRva2VuKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBBY2NlcHQgZXRoZXJzIGFuZCBvdGhlciBjdXJyZW5jaWVzIHRvIGJ1eSB0b2tlbnMgZHVyaW5nIHRoZSB0b2tlbiBzYWxlCiAgICAgKi8KICAgIGZ1bmN0aW9uIGJ1eVRva2VuKCkgcHVibGljIHBheWFibGUgcmV0dXJucyAodWludDI1NiBhbW91bnQpCiAgICB7CiAgICAgICAgLy8gQ2FsY3VsYXRlIG51bWJlciBvZiB0b2tlbnMgZm9yIGNvbnRyaWJ1dGVkIEVUSAogICAgICAgIHVpbnQyNTYgdG9rZW5zID0gc2FmZU11bChtc2cudmFsdWUsIFRPS0VOX1BSSUNFX0QpIC8gVE9LRU5fUFJJQ0VfTjsKCiAgICAgICAgLy8gQWRkIHRva2VucyBwdXJjaGFzZWQgdG8gYWNjb3VudCdzIGJhbGFuY2UgYW5kIHRvdGFsIHN1cHBseQogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2FmZUFkZChiYWxhbmNlc1ttc2cuc2VuZGVyXSx0b2tlbnMpOwogICAgICAgIHRva2Vuc0NvdW50ID0gc2FmZUFkZCh0b2tlbnNDb3VudCx0b2tlbnMpOwoKICAgICAgICAvLyBMb2cgdGhlIHRva2VucyBwdXJjaGFzZWQgCiAgICAgICAgVHJhbnNmZXIoMHgwLCBtc2cuc2VuZGVyLCB0b2tlbnMpOwogICAgICAgIC8vIC0gYnV5ZXIgPSBwYXJ0aWNpcGFudAogICAgICAgIC8vIC0gZXRoZXJzID0gbXNnLnZhbHVlCiAgICAgICAgLy8gLSBwYXJ0aWNpcGFudFRva2VuQmFsYW5jZSA9IGJhbGFuY2VzW3BhcnRpY2lwYW50XQogICAgICAgIC8vIC0gdG9rZW5zID0gdG9rZW5zCiAgICAgICAgLy8gLSB0b3RhbFRva2Vuc0NvdW50ID0gdG9rZW5zQ291bnQKICAgICAgICBUb2tlbnNCb3VnaHQobXNnLnNlbmRlciwgbXNnLnZhbHVlLCBiYWxhbmNlc1ttc2cuc2VuZGVyXSwgdG9rZW5zLCB0b2tlbnNDb3VudCk7CgogICAgICAgIC8vIENvbnRyaWJ1dGlvbiB0aW1lc3RhbXAgaXMgcmVjb3JkZWQgZm9yIFZJUCByYW5rCiAgICAgICAgLy8gUmVjb3JkZWQgdGltZXN0YW1wIGZvciBWSVAgcmFua2luZyBzaG91bGQgYWx3YXlzIGJlIGVhcmxpZXIgdGhhbiB0aGUgY3VycmVudCB0aW1lCiAgICAgICAgaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IFZJUF9NSU5JTVVNICYmIHZpcHJhbmtbbXNnLnNlbmRlcl0gPT0gMCkgewogICAgICAgICAgICB2aXByYW5rW21zZy5zZW5kZXJdID0gbm93OwogICAgICAgIH0KCiAgICAgICAgLy8gVHJhbnNmZXIgdGhlIGNvbnRyaWJ1dGVkIGV0aGVycyB0byB0aGUgY3Jvd2RzYWxlIHdhbGxldAogICAgICAgIGFzc2VydCh3YWxsZXQuc2VuZChtc2cudmFsdWUpKTsKICAgICAgICByZXR1cm4gdG9rZW5zOwogICAgfQoKICAgIGV2ZW50IFRva2Vuc0JvdWdodChhZGRyZXNzIGluZGV4ZWQgYnV5ZXIsIHVpbnQyNTYgZXRoZXJzLCAKICAgICAgICB1aW50MjU2IHBhcnRpY2lwYW50VG9rZW5CYWxhbmNlLCB1aW50MjU2IHRva2VucywgdWludDI1NiB0b3RhbFRva2Vuc0NvdW50KTsKCiAgICAvKioKICAgICAqIFRyYW5zZmVyIGdpdmVuIG51bWJlciBvZiB0b2tlbnMgZnJvbSBtZXNzYWdlIHNlbmRlciB0byBnaXZlbiByZWNpcGllbnQuCiAgICAgKgogICAgICogQHBhcmFtIF90byBhZGRyZXNzIHRvIHRyYW5zZmVyIHRva2VucyB0byB0aGUgb3duZXIgb2YKICAgICAqIEBwYXJhbSBfYW1vdW50IG51bWJlciBvZiB0b2tlbnMgdG8gdHJhbnNmZXIgdG8gdGhlIG93bmVyIG9mIGdpdmVuIGFkZHJlc3MKICAgICAqIEByZXR1cm4gdHJ1ZSBpZiB0b2tlbnMgd2VyZSB0cmFuc2ZlcnJlZCBzdWNjZXNzZnVsbHksIGZhbHNlIG90aGVyd2lzZQogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXR1cm4gU3RhbmRhcmRUb2tlbi50cmFuc2ZlcihfdG8sIF9hbW91bnQpOwogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNmZXIgZ2l2ZW4gbnVtYmVyIG9mIHRva2VucyBmcm9tIGdpdmVuIG93bmVyIHRvIGdpdmVuIHJlY2lwaWVudC4KICAgICAqCiAgICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMgZnJvbSB0aGUgb3duZXIgb2YKICAgICAqIEBwYXJhbSBfdG8gYWRkcmVzcyB0byB0cmFuc2ZlciB0b2tlbnMgdG8gdGhlIG93bmVyIG9mCiAgICAgKiBAcGFyYW0gX2Ftb3VudCBudW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyIGZyb20gZ2l2ZW4gb3duZXIgdG8gZ2l2ZW4KICAgICAqICAgICAgICByZWNpcGllbnQKICAgICAqIEByZXR1cm4gdHJ1ZSBpZiB0b2tlbnMgd2VyZSB0cmFuc2ZlcnJlZCBzdWNjZXNzZnVsbHksIGZhbHNlIG90aGVyd2lzZQogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX2Ftb3VudCkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKQogICAgewogICAgICAgIHJldHVybiBTdGFuZGFyZFRva2VuLnRyYW5zZmVyRnJvbShfZnJvbSwgX3RvLCBfYW1vdW50KTsKICAgIH0KCiAgICAvKioKICAgICAqIEJ1cm4gZ2l2ZW4gbnVtYmVyIG9mIHRva2VucyBiZWxvbmdpbmcgdG8gbWVzc2FnZSBzZW5kZXIuCiAgICAgKgogICAgICogQHBhcmFtIF9hbW91bnQgbnVtYmVyIG9mIHRva2VucyB0byBidXJuCiAgICAgKiBAcmV0dXJuIHRydWUgb24gc3VjY2VzcywgZmFsc2Ugb24gZXJyb3IKICAgICAqLwogICAgZnVuY3Rpb24gYnVyblRva2Vucyh1aW50MjU2IF9hbW91bnQpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGlmIChfYW1vdW50IDw9IDApIHJldHVybiBmYWxzZTsKICAgICAgICBpZiAoX2Ftb3VudCA+IHRva2Vuc0NvdW50KSByZXR1cm4gZmFsc2U7CiAgICAgICAgaWYgKF9hbW91bnQgPiBiYWxhbmNlc1ttc2cuc2VuZGVyXSkgcmV0dXJuIGZhbHNlOwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gc2FmZVN1YihiYWxhbmNlc1ttc2cuc2VuZGVyXSxfYW1vdW50KTsKICAgICAgICB0b2tlbnNDb3VudCA9IHNhZmVTdWIodG9rZW5zQ291bnQsX2Ftb3VudCk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgMHgwLCBfYW1vdW50KTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQ=='.
	

]
