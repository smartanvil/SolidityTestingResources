Class {
	#name : #SRT61f9d1ce56ac1623fed4e949d7d420251fef0896,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT61f9d1ce56ac1623fed4e949d7d420251fef0896 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuNjsKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vICBSIFNwbGl0IENvbnRyYWN0Ci8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvbnRyYWN0IFJTUExUX0kgewogICAgICAgIGV2ZW50IFN0YXRFdmVudChzdHJpbmcgbXNnKTsKICAgICAgICBldmVudCBTdGF0RXZlbnRJKHN0cmluZyBtc2csIHVpbnQgdmFsKTsKCiAgICAgICAgZW51bSBTZXR0aW5nU3RhdGVWYWx1ZSAge2RlYnVnLCBsb2NrZWR9CgogICAgICAgIHN0cnVjdCBwYXJ0bmVyQWNjb3VudCB7CiAgICAgICAgICAgICAgICB1aW50IGNyZWRpdGVkOyAgLy8gdG90YWwgZnVuZHMgY3JlZGl0ZWQgdG8gdGhpcyBhY2NvdW50CiAgICAgICAgICAgICAgICB1aW50IGJhbGFuY2U7ICAgLy8gY3VycmVudCBiYWxhbmNlID0gY3JlZGl0ZWQgLSBhbW91bnQgd2l0aGRyYXduCiAgICAgICAgICAgICAgICB1aW50IHBjdHgxMDsgICAgIC8vIHBlcmNlbnQgYWxsb2NhdGlvbiB0aW1lcyB0ZW4KICAgICAgICAgICAgICAgIGFkZHJlc3MgYWRkcjsgICAvLyBwYXlvdXQgYWRkciBvZiB0aGlzIGFjY3QKICAgICAgICAgICAgICAgIGJvb2wgZXZlblN0YXJ0OyAvLyBldmVuIHNwbGl0IHVwIHRvIGV2ZW5EaXN0VGhyZXNoCiAgICAgICAgfQoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gIGRhdGEgc3RvcmFnZQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkZXBsb3llciBleGVjdXRvcgogICAgICAgIG1hcHBpbmcgKHVpbnQgPT4gcGFydG5lckFjY291bnQpIHBhcnRuZXJBY2NvdW50czsgICAgLy8gYWNjb3VudHMgYnkgaW5kZXgKICAgICAgICB1aW50IHB1YmxpYyBudW1BY2NvdW50czsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhvdyBtYW55IGFjY291bnRzIGV4aXN0CiAgICAgICAgdWludCBwdWJsaWMgaG9sZG92ZXJCYWxhbmNlOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbW91bnQgeWV0IHRvIGJlIGRpc3RyaWJ1dGVkCiAgICAgICAgdWludCBwdWJsaWMgdG90YWxGdW5kc1JlY2VpdmVkOyAgICAgICAgICAgICAgICAgICAgICAvLyBhbW91bnQgcmVjZWl2ZWQgc2luY2UgYmVnaW4gb2YgdGltZQogICAgICAgIHVpbnQgcHVibGljIHRvdGFsRnVuZHNEaXN0cmlidXRlZDsgICAgICAgICAgICAgICAgICAgLy8gYW1vdW50IGRpc3RyaWJ1dGVkIHNpbmNlIGJlZ2luIG9mIHRpbWUKICAgICAgICB1aW50IHB1YmxpYyB0b3RhbEZ1bmRzV2l0aGRyYXduOyAgICAgICAgICAgICAgICAgICAgIC8vIGFtb3VudCB3aXRoZHJhd24gc2luY2UgYmVnaW4gb2YgdGltZQogICAgICAgIHVpbnQgcHVibGljIGV2ZW5EaXN0VGhyZXNoOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGlzdHJpYnV0ZSBldmVubHkgdW50aWwgdGhpcyBhbW91bnQgKHRvdGFsKQogICAgICAgIHVpbnQgcHVibGljIHdpdGhkcmF3R2FzID0gMzUwMDA7ICAgICAgICAgICAgICAgICAgICAgLy8gZ2FzIGZvciB3aXRoZHJhd2FscwogICAgICAgIHVpbnQgY29uc3RhbnQgVEVOSFVORFdFSSA9IDEwMDA7ICAgICAgICAgICAgICAgICAgICAgLy8gbmVlZCBndC4gMTAwMCB3ZWkgdG8gZG8gcGF5b3V0CiAgICAgICAgdWludCBjb25zdGFudCBNQVhfQUNDT1VOVFMgPSA1OyAgICAgICAgICAgICAgICAgICAgICAvLyBtYXggYWNjb3VudHMgdGhpcyBjb250cmFjdCBjYW4gaGFuZGxlCiAgICAgICAgU2V0dGluZ1N0YXRlVmFsdWUgcHVibGljIHNldHRpbmdzU3RhdGUgPSBTZXR0aW5nU3RhdGVWYWx1ZS5kZWJ1ZzsgCgoKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIC8vIGNvbnRyYWN0IGNvbnN0cnVjdG9yCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICBmdW5jdGlvbiBSU1BMVF9JKCkgewogICAgICAgICAgICAgICAgb3duZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIH0KCgogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgLy8gbG9jawogICAgICAgIC8vIGxvY2sgdGhlIGNvbnRyYWN0LiBhZnRlciBjYWxsaW5nIHRoaXMgeW91IHdpbGwgbm90IGJlIGFibGUgdG8gbW9kaWZ5IGFjY291bnRzLgogICAgICAgIC8vIG1ha2Ugc3VyZSBldmVyeWh0aW5nIGlzIHJpZ2h0IQogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgZnVuY3Rpb24gbG9jaygpIHsKICAgICAgICAgICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRFdmVudCgiZXJyOiBub3Qgb3duZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzU3RhdGUgPT0gU2V0dGluZ1N0YXRlVmFsdWUubG9ja2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRFdmVudCgiZXJyOiBsb2NrZWQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2V0dGluZ3NTdGF0ZSA9IFNldHRpbmdTdGF0ZVZhbHVlLmxvY2tlZDsKICAgICAgICAgICAgICAgIFN0YXRFdmVudCgib2s6IGNvbnRyYWN0IGxvY2tlZCIpOwogICAgICAgIH0KCgogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgLy8gcmVzZXQKICAgICAgICAvLyByZXNldCBhbGwgYWNjb3VudHMKICAgICAgICAvLyBpbiBjYXNlIHdlIGhhdmUgYW55IGZ1bmRzIHRoYXQgaGF2ZSBub3QgYmVlbiB3aXRoZHJhd24sIHRoZXkgYmVjb21lCiAgICAgICAgLy8gbmV3bHkgcmVjZWl2ZWQgYW5kIHVuZGlzdHJpYnV0ZWQuCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgICAgICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRFdmVudCgiZXJyOiBub3Qgb3duZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzU3RhdGUgPT0gU2V0dGluZ1N0YXRlVmFsdWUubG9ja2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRFdmVudCgiZXJyOiBsb2NrZWQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgbnVtQWNjb3VudHM7IGkrKyApIHsKICAgICAgICAgICAgICAgICAgICAgICAgaG9sZG92ZXJCYWxhbmNlICs9IHBhcnRuZXJBY2NvdW50c1tpXS5iYWxhbmNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdG90YWxGdW5kc1JlY2VpdmVkID0gaG9sZG92ZXJCYWxhbmNlOwogICAgICAgICAgICAgICAgdG90YWxGdW5kc0Rpc3RyaWJ1dGVkID0gMDsKICAgICAgICAgICAgICAgIHRvdGFsRnVuZHNXaXRoZHJhd24gPSAwOwogICAgICAgICAgICAgICAgbnVtQWNjb3VudHMgPSAwOwogICAgICAgICAgICAgICAgU3RhdEV2ZW50KCJvazogYWxsIGFjY3RzIHJlc2V0Iik7CiAgICAgICAgfQoKCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAvLyBzZXQgZXZlbiBkaXN0cmlidXRpb24gdGhyZXNob2xkCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICBmdW5jdGlvbiBzZXRFdmVuRGlzdFRocmVzaCh1aW50MjU2IF90aHJlc2gpIHsKICAgICAgICAgICAgICAgIGlmIChtc2cuc2VuZGVyICE9IG93bmVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRFdmVudCgiZXJyOiBub3Qgb3duZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzU3RhdGUgPT0gU2V0dGluZ1N0YXRlVmFsdWUubG9ja2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRFdmVudCgiZXJyOiBsb2NrZWQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZXZlbkRpc3RUaHJlc2ggPSAoX3RocmVzaCAvIFRFTkhVTkRXRUkpICogVEVOSFVORFdFSTsKICAgICAgICAgICAgICAgIFN0YXRFdmVudEkoIm9rOiB0aHJlc2hvbGQgc2V0IiwgZXZlbkRpc3RUaHJlc2gpOwogICAgICAgIH0KCgogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgLy8gc2V0IGV2ZW4gZGlzdHJpYnV0aW9uIHRocmVzaG9sZAogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgZnVuY3Rpb24gc2V0V2l0ZHJhd0dhcyh1aW50MjU2IF93aXRoZHJhd0dhcykgewogICAgICAgICAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgU3RhdEV2ZW50KCJlcnI6IG5vdCBvd25lciIpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB3aXRoZHJhd0dhcyA9IF93aXRoZHJhd0dhczsKICAgICAgICAgICAgICAgIFN0YXRFdmVudEkoIm9rOiB3aXRoZHJhdyBnYXMgc2V0Iiwgd2l0aGRyYXdHYXMpOwogICAgICAgIH0KCgogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIC8vIGFkZCBhIG5ldyBhY2NvdW50CiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgZnVuY3Rpb24gYWRkQWNjb3VudChhZGRyZXNzIF9hZGRyLCB1aW50MjU2IF9wY3R4MTAsIGJvb2wgX2V2ZW5TdGFydCkgewogICAgICAgICAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgU3RhdEV2ZW50KCJlcnI6IG5vdCBvd25lciIpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3NTdGF0ZSA9PSBTZXR0aW5nU3RhdGVWYWx1ZS5sb2NrZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgU3RhdEV2ZW50KCJlcnI6IGxvY2tlZCIpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAobnVtQWNjb3VudHMgPj0gTUFYX0FDQ09VTlRTKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRFdmVudCgiZXJyOiBtYXggYWNjb3VudHMiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcGFydG5lckFjY291bnRzW251bUFjY291bnRzXS5hZGRyID0gX2FkZHI7CiAgICAgICAgICAgICAgICBwYXJ0bmVyQWNjb3VudHNbbnVtQWNjb3VudHNdLnBjdHgxMCA9IF9wY3R4MTA7CiAgICAgICAgICAgICAgICBwYXJ0bmVyQWNjb3VudHNbbnVtQWNjb3VudHNdLmV2ZW5TdGFydCA9IF9ldmVuU3RhcnQ7CiAgICAgICAgICAgICAgICBwYXJ0bmVyQWNjb3VudHNbbnVtQWNjb3VudHNdLmNyZWRpdGVkID0gMDsKICAgICAgICAgICAgICAgIHBhcnRuZXJBY2NvdW50c1tudW1BY2NvdW50c10uYmFsYW5jZSA9IDA7CiAgICAgICAgICAgICAgICArK251bUFjY291bnRzOwogICAgICAgICAgICAgICAgU3RhdEV2ZW50KCJvazogYWNjdCBhZGRlZCIpOwogICAgICAgIH0KCgogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAvLyBnZXQgYWNjdCBpbmZvCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIGZ1bmN0aW9uIGdldEFjY291bnRJbmZvKGFkZHJlc3MgX2FkZHIpIGNvbnN0YW50IHJldHVybnModWludCBfaWR4LCB1aW50IF9wY3R4MTAsIGJvb2wgX2V2ZW5TdGFydCwgdWludCBfY3JlZGl0ZWQsIHVpbnQgX2JhbGFuY2UpIHsKICAgICAgICAgICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IG51bUFjY291bnRzOyBpKysgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgYWRkciA9IHBhcnRuZXJBY2NvdW50c1tpXS5hZGRyOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRkciA9PSBfYWRkcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pZHggPSBpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wY3R4MTAgPSBwYXJ0bmVyQWNjb3VudHNbaV0ucGN0eDEwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9ldmVuU3RhcnQgPSBwYXJ0bmVyQWNjb3VudHNbaV0uZXZlblN0YXJ0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jcmVkaXRlZCA9IHBhcnRuZXJBY2NvdW50c1tpXS5jcmVkaXRlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYmFsYW5jZSA9IHBhcnRuZXJBY2NvdW50c1tpXS5iYWxhbmNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRFdmVudCgib2s6IGZvdW5kIGFjY3QiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFN0YXRFdmVudCgiZXJyOiBhY2N0IG5vdCBmb3VuZCIpOwogICAgICAgIH0KCgogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAvLyBnZXQgdG90YWwgcGVyY2VudGFnZXMgeDEwCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIGZ1bmN0aW9uIGdldFRvdGFsUGN0eDEwKCkgY29uc3RhbnQgcmV0dXJucyh1aW50IF90b3RhbFBjdHgxMCkgewogICAgICAgICAgICAgICAgX3RvdGFsUGN0eDEwID0gMDsKICAgICAgICAgICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IG51bUFjY291bnRzOyBpKysgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90b3RhbFBjdHgxMCArPSBwYXJ0bmVyQWNjb3VudHNbaV0ucGN0eDEwOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgU3RhdEV2ZW50SSgib2s6IHRvdGFsIHBjdHgxMCIsIF90b3RhbFBjdHgxMCk7CiAgICAgICAgfQoKCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIC8vIGdldCBuby4gYWNjdHMgdGhhdCBhcmUgc2V0IGZvciBldmVuIHNwbGl0CiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIGZ1bmN0aW9uIGdldE51bUV2ZW5TcGxpdHMoKSBjb25zdGFudCByZXR1cm5zKHVpbnQgX251bUV2ZW5TcGxpdHMpIHsKICAgICAgICAgICAgICAgIF9udW1FdmVuU3BsaXRzID0gMDsKICAgICAgICAgICAgICAgIGZvciAodWludCBpID0gMDsgaSA8IG51bUFjY291bnRzOyBpKysgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0bmVyQWNjb3VudHNbaV0uZXZlblN0YXJ0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKytfbnVtRXZlblNwbGl0czsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgU3RhdEV2ZW50SSgib2s6IGV2ZW4gc3BsaXRzIiwgX251bUV2ZW5TcGxpdHMpOwogICAgICAgIH0KCgogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAvLyBkZWZhdWx0IHBheWFibGUgZnVuY3Rpb24uCiAgICAgICAgLy8gY2FsbCB1cyB3aXRoIHBsZW50eSBvZiBnYXMsIG9yIGNhdGFzdHJvcGhlIHdpbGwgZW5zdWUKICAgICAgICAvLyBub3RlOiB5b3UgY2FuIGNhbGwgdGhpcyBmY24gd2l0aCBhbW91bnQgb2YgemVybyB0byBmb3JjZSBkaXN0cmlidXRpb24KICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7CiAgICAgICAgICAgICAgICB0b3RhbEZ1bmRzUmVjZWl2ZWQgKz0gbXNnLnZhbHVlOwogICAgICAgICAgICAgICAgaG9sZG92ZXJCYWxhbmNlICs9IG1zZy52YWx1ZTsKICAgICAgICAgICAgICAgIFN0YXRFdmVudEkoIm9rOiBpbmNvbWluZyIsIG1zZy52YWx1ZSk7CiAgICAgICAgfQoKCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIC8vIGRpc3RyaWJ1dGUgZnVuZHMgdG8gYWxsIHBhcnRuZXJzCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIGZ1bmN0aW9uIGRpc3RyaWJ1dGUoKSB7CiAgICAgICAgICAgICAgICAvL29ubHkgcGF5b3V0IGlmIHdlIGhhdmUgbW9yZSB0aGFuIDEwMDAgd2VpCiAgICAgICAgICAgICAgICBpZiAoaG9sZG92ZXJCYWxhbmNlIDwgVEVOSFVORFdFSSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvL2ZpcnN0IHBheSBhY2NvdW50cyB0aGF0IGFyZSBub3QgY29uc3RyYWluZWQgYnkgZXZlbiBkaXN0cmlidXRpb24KICAgICAgICAgICAgICAgIC8vZWFjaCBhY2NvdW50IGdldHMgdGhlaXIgcHJlc2NyaWJlZCBwZXJjZW50YWdlIG9mIHRoaXMgaG9sZG92ZXIuCiAgICAgICAgICAgICAgICB1aW50IGk7CiAgICAgICAgICAgICAgICB1aW50IHBjdHgxMDsKICAgICAgICAgICAgICAgIHVpbnQgYWNjdERpc3Q7CiAgICAgICAgICAgICAgICB1aW50IG1heEFjY3REaXN0OwogICAgICAgICAgICAgICAgdWludCBudW1FdmVuU3BsaXRzID0gMDsKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBudW1BY2NvdW50czsgaSsrICkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydG5lckFjY291bnRzW2ldLmV2ZW5TdGFydCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsrbnVtRXZlblNwbGl0czsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY3R4MTAgPSBwYXJ0bmVyQWNjb3VudHNbaV0ucGN0eDEwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY3REaXN0ID0gaG9sZG92ZXJCYWxhbmNlICogcGN0eDEwIC8gVEVOSFVORFdFSTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3dlIGFsc28gZG91YmxlIGNoZWNrIHRvIGVuc3VyZSB0aGF0IHRoZSBhbW91bnQgYXdhcmRlZCBjYW5ub3QgZXhjZWVkIHRoZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdG90YWwgYW1vdW50IGR1ZSB0byB0aGlzIGFjY3QuIG5vdGU6IHRoaXMgY2hlY2sgaXMgbmVjZXNzYXJ5LCBjdXogaGVyZSB3ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbWlnaHQgbm90IGRpc3RyaWJ1dGUgdGhlIGZ1bGwgaG9sZG92ZXIgYW1vdW50IGR1cmluZyBlYWNoIHBhc3MuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4QWNjdERpc3QgPSB0b3RhbEZ1bmRzUmVjZWl2ZWQgKiBwY3R4MTAgLyBURU5IVU5EV0VJOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0bmVyQWNjb3VudHNbaV0uY3JlZGl0ZWQgPj0gbWF4QWNjdERpc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY3REaXN0ID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnRuZXJBY2NvdW50c1tpXS5jcmVkaXRlZCArIGFjY3REaXN0ID4gbWF4QWNjdERpc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY3REaXN0ID0gbWF4QWNjdERpc3QgLSBwYXJ0bmVyQWNjb3VudHNbaV0uY3JlZGl0ZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRuZXJBY2NvdW50c1tpXS5jcmVkaXRlZCArPSBhY2N0RGlzdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0bmVyQWNjb3VudHNbaV0uYmFsYW5jZSArPSBhY2N0RGlzdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEZ1bmRzRGlzdHJpYnV0ZWQgKz0gYWNjdERpc3Q7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9sZG92ZXJCYWxhbmNlIC09IGFjY3REaXN0OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvL25vdyBwYXkgYWNjb3VudHMgdGhhdCBhcmUgY29uc3RyYWluZWQgYnkgZXZlbiBkaXN0cmlidXRpb24uIHdlIHNwbGl0IHdoYXRldmVyIGlzCiAgICAgICAgICAgICAgICAvL2xlZnQgb2YgdGhlIGhvbGRvdmVyIGV2ZW5seS4KICAgICAgICAgICAgICAgIHVpbnQgZGlzdEFtb3VudCA9IGhvbGRvdmVyQmFsYW5jZTsKICAgICAgICAgICAgICAgIGlmICh0b3RhbEZ1bmRzRGlzdHJpYnV0ZWQgPCBldmVuRGlzdFRocmVzaCkgewogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbnVtQWNjb3VudHM7IGkrKyApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydG5lckFjY291bnRzW2ldLmV2ZW5TdGFydCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjdERpc3QgPSBkaXN0QW1vdW50IC8gbnVtRXZlblNwbGl0czsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vd2UgYWxzbyBkb3VibGUgY2hlY2sgdG8gZW5zdXJlIHRoYXQgdGhlIGFtb3VudCBhd2FyZGVkIGNhbm5vdCBleGNlZWQgdGhlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RvdGFsIGFtb3VudCBkdWUgdG8gdGhpcyBhY2N0LiBub3RlOiB0aGlzIGNoZWNrIGlzIG5lY2Vzc2FyeSwgY3V6IGhlcmUgd2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbWlnaHQgbm90IGRpc3RyaWJ1dGUgdGhlIGZ1bGwgaG9sZG92ZXIgYW1vdW50IGR1cmluZyBlYWNoIHBhc3MuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50IGZ1bmRMaW1pdCA9IHRvdGFsRnVuZHNSZWNlaXZlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmdW5kTGltaXQgPiBldmVuRGlzdFRocmVzaCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuZExpbWl0ID0gZXZlbkRpc3RUaHJlc2g7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhBY2N0RGlzdCA9IGZ1bmRMaW1pdCAvIG51bUV2ZW5TcGxpdHM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydG5lckFjY291bnRzW2ldLmNyZWRpdGVkID49IG1heEFjY3REaXN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY3REaXN0ID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydG5lckFjY291bnRzW2ldLmNyZWRpdGVkICsgYWNjdERpc3QgPiBtYXhBY2N0RGlzdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2N0RGlzdCA9IG1heEFjY3REaXN0IC0gcGFydG5lckFjY291bnRzW2ldLmNyZWRpdGVkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydG5lckFjY291bnRzW2ldLmNyZWRpdGVkICs9IGFjY3REaXN0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydG5lckFjY291bnRzW2ldLmJhbGFuY2UgKz0gYWNjdERpc3Q7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEZ1bmRzRGlzdHJpYnV0ZWQgKz0gYWNjdERpc3Q7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2xkb3ZlckJhbGFuY2UgLT0gYWNjdERpc3Q7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvL25vdywgaWYgdGhlcmUgYXJlIGFueSBmdW5kcyBsZWZ0IHRoZW4gaXQgbWVhbnMgdGhhdCB3ZSBoYXZlIGVpdGhlciBleGNlZWRlZCB0aGUgZXZlbiBkaXN0cmlidXRpb24gdGhyZXNob2xkLAogICAgICAgICAgICAgICAgLy9vciB0aGVyZSBpcyBhIHJlbWFpbmRlciBpbiB0aGUgZXZlbiBzcGxpdC4gaW4gdGhhdCBjYXNlIGRpc3RyaWJ1dGUgYWxsIHRoZSByZW1tYWluZyBmdW5kcyB0byBwYXJ0bmVycyB3aG8gaGF2ZQogICAgICAgICAgICAgICAgLy9ub3QgeWV0IGV4Y2VlZGVkIHRoZWlyIGFsbG90bWVudCwgYWNjb3JkaW5nIHRvIHRoZWlyICJlZmZlY3RpdmUiIHBlcmNlbnRhZ2VzLiBub3RlIHRoYXQgdGhpcyBtdXN0IGJlIGRvbmUgaGVyZSwKICAgICAgICAgICAgICAgIC8vZXZlbiBpZiB3ZSBoYXZlbid0IHBhc3NlZCB0aGUgZXZlbiBkaXN0cmlidXRpb24gdGhyZXNob2xkLCB0byBlbnN1cmUgdGhhdCB3ZSBkb24ndCBnZXQgc3R1Y2sgd2l0aCBhIHJlbWFpbmRlcgogICAgICAgICAgICAgICAgLy9hbW91bnQgdGhhdCBjYW5ub3QgYmUgZGlzdHJpYnV0ZWQuCiAgICAgICAgICAgICAgICBkaXN0QW1vdW50ID0gaG9sZG92ZXJCYWxhbmNlOwogICAgICAgICAgICAgICAgaWYgKGRpc3RBbW91bnQgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQgdG90YWxEaXN0UGN0eDEwID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG51bUFjY291bnRzOyBpKysgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGN0eDEwID0gcGFydG5lckFjY291bnRzW2ldLnBjdHgxMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhBY2N0RGlzdCA9IHRvdGFsRnVuZHNSZWNlaXZlZCAqIHBjdHgxMCAvIFRFTkhVTkRXRUk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRuZXJBY2NvdW50c1tpXS5jcmVkaXRlZCA8IG1heEFjY3REaXN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbERpc3RQY3R4MTAgKz0gcGN0eDEwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbnVtQWNjb3VudHM7IGkrKyApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY3R4MTAgPSBwYXJ0bmVyQWNjb3VudHNbaV0ucGN0eDEwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY3REaXN0ID0gZGlzdEFtb3VudCAqIHBjdHgxMCAvIHRvdGFsRGlzdFBjdHgxMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3dlIGFsc28gZG91YmxlIGNoZWNrIHRvIGVuc3VyZSB0aGF0IHRoZSBhbW91bnQgYXdhcmRlZCBjYW5ub3QgZXhjZWVkIHRoZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdG90YWwgYW1vdW50IGR1ZSB0byB0aGlzIGFjY3QuIG5vdGU6IHRoaXMgY2hlY2sgaXMgbmVjZXNzYXJ5LCBjdXogaGVyZSB3ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbWlnaHQgbm90IGRpc3RyaWJ1dGUgdGhlIGZ1bGwgaG9sZG92ZXIgYW1vdW50IGR1cmluZyBlYWNoIHBhc3MuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4QWNjdERpc3QgPSB0b3RhbEZ1bmRzUmVjZWl2ZWQgKiBwY3R4MTAgLyBURU5IVU5EV0VJOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0bmVyQWNjb3VudHNbaV0uY3JlZGl0ZWQgPj0gbWF4QWNjdERpc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY3REaXN0ID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnRuZXJBY2NvdW50c1tpXS5jcmVkaXRlZCArIGFjY3REaXN0ID4gbWF4QWNjdERpc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY3REaXN0ID0gbWF4QWNjdERpc3QgLSBwYXJ0bmVyQWNjb3VudHNbaV0uY3JlZGl0ZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRuZXJBY2NvdW50c1tpXS5jcmVkaXRlZCArPSBhY2N0RGlzdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0bmVyQWNjb3VudHNbaV0uYmFsYW5jZSArPSBhY2N0RGlzdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEZ1bmRzRGlzdHJpYnV0ZWQgKz0gYWNjdERpc3Q7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9sZG92ZXJCYWxhbmNlIC09IGFjY3REaXN0OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBTdGF0RXZlbnQoIm9rOiBkaXN0cmlidXRlZCBmdW5kcyIpOwogICAgICAgIH0KCgogICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAvLyB3aXRoZHJhdyBhY2NvdW50IGJhbGFuY2UKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgZnVuY3Rpb24gd2l0aGRyYXcoKSB7CiAgICAgICAgICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBudW1BY2NvdW50czsgaSsrICkgewogICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzIGFkZHIgPSBwYXJ0bmVyQWNjb3VudHNbaV0uYWRkcjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFkZHIgPT0gbXNnLnNlbmRlciB8fCBtc2cuc2VuZGVyID09IG93bmVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludCBhbW91bnQgPSBwYXJ0bmVyQWNjb3VudHNbaV0uYmFsYW5jZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW1vdW50ID09IDApIHsgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGF0RXZlbnQoImVycjogYmFsYW5jZSBpcyB6ZXJvIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRuZXJBY2NvdW50c1tpXS5iYWxhbmNlID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsRnVuZHNXaXRoZHJhd24gKz0gYW1vdW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhZGRyLmNhbGwuZ2FzKHdpdGhkcmF3R2FzKS52YWx1ZShhbW91bnQpKCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhdEV2ZW50SSgib2s6IHJld2FyZHMgcGFpZCIsIGFtb3VudCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgfQoKCiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIC8vIHN1aWNpZGUKICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgZnVuY3Rpb24gaGFyaUthcmkoKSB7CiAgICAgICAgICAgICAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgewogICAgICAgICAgICAgICAgICAgICAgICBTdGF0RXZlbnQoImVycjogbm90IG93bmVyIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nc1N0YXRlID09IFNldHRpbmdTdGF0ZVZhbHVlLmxvY2tlZCkgewogICAgICAgICAgICAgICAgICAgICAgICBTdGF0RXZlbnQoImVycjogbG9ja2VkIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHN1aWNpZGUob3duZXIpOwogICAgICAgIH0KCn0='.
	

]
