Class {
	#name : #SRTf6cfe53d6febaeea051f400ff5fc14f0cbbdaca1,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTf6cfe53d6febaeea051f400ff5fc14f0cbbdaca1 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgoKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCByZXZlcnQoKSBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICogYjsKICAgIGFzc2VydHMoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQogIGZ1bmN0aW9uIHNhZmVTdWIodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIGFzc2VydHMoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CiAgZnVuY3Rpb24gZGl2KHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICBhc3NlcnRzKGIgPiAwKTsKICAgIHVpbnQgYyA9IGEgLyBiOwogICAgYXNzZXJ0cyhhID09IGIgKiBjICsgYSAlIGIpOwogICAgcmV0dXJuIGM7CiAgfQogIGZ1bmN0aW9uIHN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0cyhiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KICBmdW5jdGlvbiBhZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKyBiOwogICAgYXNzZXJ0cyhjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQogIGZ1bmN0aW9uIG1heDY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQogIGZ1bmN0aW9uIG1pbjY0KHVpbnQ2NCBhLCB1aW50NjQgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDY0KSB7CiAgICByZXR1cm4gYSA8IGIgPyBhIDogYjsKICB9CiAgZnVuY3Rpb24gbWF4MjU2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICByZXR1cm4gYSA+PSBiID8gYSA6IGI7CiAgfQogIGZ1bmN0aW9uIG1pbjI1Nih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGEgPCBiID8gYSA6IGI7CiAgfQogIGZ1bmN0aW9uIGFzc2VydHMoYm9vbCBhc3NlcnRpb24pIGludGVybmFsIHsKICAgIGlmICghYXNzZXJ0aW9uKSB7CiAgICAgIHJldmVydCgpOwogICAgfQogIH0KfQoKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgZnVuY3Rpb24gT3duYWJsZSgpIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgogIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICBpZiAobXNnLnNlbmRlciAhPSBvd25lcikgcmV2ZXJ0KCk7CiAgICBfOwogIH0KfQoKCi8qKgogKiBAdGl0bGUgUGF1c2FibGUKICogQGRldiBCYXNlIGNvbnRyYWN0IHdoaWNoIGFsbG93cyBjaGlsZHJlbiB0byBpbXBsZW1lbnQgYW4gZW1lcmdlbmN5IHN0b3AgbWVjaGFuaXNtLgogKi8KY29udHJhY3QgUGF1c2FibGUgaXMgT3duYWJsZSB7CiAgYm9vbCBwdWJsaWMgc3RvcHBlZDsKICBtb2RpZmllciBzdG9wSW5FbWVyZ2VuY3kgewogICAgaWYgKHN0b3BwZWQpIHsKICAgICAgcmV2ZXJ0KCk7CiAgICB9CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgb25seUluRW1lcmdlbmN5IHsKICAgIGlmICghc3RvcHBlZCkgewogICAgICByZXZlcnQoKTsKICAgIH0KICAgIF87CiAgfQoKICAvLyBjYWxsZWQgYnkgdGhlIG93bmVyIG9uIGVtZXJnZW5jeSwgdHJpZ2dlcnMgc3RvcHBlZCBzdGF0ZQogIGZ1bmN0aW9uIGVtZXJnZW5jeVN0b3AoKSBleHRlcm5hbCBvbmx5T3duZXIgewogICAgc3RvcHBlZCA9IHRydWU7CiAgfQoKICAvLyBjYWxsZWQgYnkgdGhlIG93bmVyIG9uIGVuZCBvZiBlbWVyZ2VuY3ksIHJldHVybnMgdG8gbm9ybWFsIHN0YXRlCiAgZnVuY3Rpb24gcmVsZWFzZSgpIGV4dGVybmFsIG9ubHlPd25lciBvbmx5SW5FbWVyZ2VuY3kgewogICAgc3RvcHBlZCA9IGZhbHNlOwogIH0KfQoKLyoqCiAqIEVSQyAyMCB0b2tlbgogKgogKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IFRva2VuIHsKICAvLy8gQHJldHVybiB0b3RhbCBhbW91bnQgb2YgdG9rZW5zCiAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHN1cHBseSkge30KCiAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgZnJvbSB3aGljaCB0aGUgYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZAogIC8vLyBAcmV0dXJuIFRoZSBiYWxhbmNlCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHt9CgogIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7fQoKICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYF9mcm9tYCBvbiB0aGUgY29uZGl0aW9uIGl0IGlzIGFwcHJvdmVkIGJ5IGBfZnJvbWAKICAvLy8gQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIG9mIHRoZSBzZW5kZXIKICAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcykge30KCiAgLy8vIEBub3RpY2UgYG1zZy5zZW5kZXJgIGFwcHJvdmVzIGBfYWRkcmAgdG8gc3BlbmQgYF92YWx1ZWAgdG9rZW5zCiAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHdlaSB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXIKICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSBhcHByb3ZhbCB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHt9CgogIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IG93bmluZyB0b2tlbnMKICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7fQoKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgX293bmVyLCBhZGRyZXNzIGluZGV4ZWQgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKTsKfQoKLyoqCiAqIEVSQyAyMCB0b2tlbgogKgogKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgVG9rZW4gewogIC8qKgogICAqIFJldmlld2VkOgogICAqIC0gSW50ZXJnZXIgb3ZlcmZsb3cgPSBPSywgY2hlY2tlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAvL0RlZmF1bHQgYXNzdW1lcyB0b3RhbFN1cHBseSBjYW4ndCBiZSBvdmVyIG1heCAoMl4yNTYgLSAxKS4KICAgIC8vSWYgeW91ciB0b2tlbiBsZWF2ZXMgb3V0IHRvdGFsU3VwcGx5IGFuZCBjYW4gaXNzdWUgbW9yZSB0b2tlbnMgYXMgdGltZSBnb2VzIG9uLCB5b3UgbmVlZCB0byBjaGVjayBpZiBpdCBkb2Vzbid0IHdyYXAuCiAgICAvL1JlcGxhY2UgdGhlIGlmIHdpdGggdGhpcyBvbmUgaW5zdGVhZC4KICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsKICAgIC8vaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBfdmFsdWUgPiAwKSB7CiAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQoKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGlmIChiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlICYmIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX293bmVyXTsKICB9CgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCiAgdWludDI1NiBwdWJsaWMgdG90YWxTdXBwbHk7Cn0KCgpjb250cmFjdCBEaWdpcHVsc2VGaXJzdFJvdW5kVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiB7CiAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQ7Cn0KCmNvbnRyYWN0IERpZ2lwdWxzZVRva2VuIGlzIFN0YW5kYXJkVG9rZW4sIFBhdXNhYmxlIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDsKCiAgLy8gRGlnaXB1bHNlIFRva2VuIHNldHVwCiAgc3RyaW5nIHB1YmxpYyAgICAgICAgICAgbmFtZSAgICAgICAgICAgICAgICAgICAgPSAiRGlnaVB1bHNlIFRva2VuIjsKICBzdHJpbmcgcHVibGljICAgICAgICAgICBzeW1ib2wgICAgICAgICAgICAgICAgICA9ICJER1BUIjsKICB1aW50OCBwdWJsaWMgICAgICAgICAgICBkZWNpbWFscyAgICAgICAgICAgICAgICA9IDE4OwogIHN0cmluZyBwdWJsaWMgICAgICAgICAgIHZlcnNpb24gICAgICAgICAgICAgICAgID0gJ3YwLjAuMyc7CiAgYWRkcmVzcyBwdWJsaWMgICAgICAgICAgb3duZXIgICAgICAgICAgICAgICAgICAgPSBtc2cuc2VuZGVyOwogIHVpbnQgZnJlZXplVHJhbnNmZXJGb3JPd25lclRpbWU7CgogIC8vIFRva2VuIGluZm9ybWF0aW9uCiAgYWRkcmVzcyBwdWJsaWMgREdQVG9rZW5PbGRDb250cmFjdCA9IDB4OUFjQTZhQkZlNjNBNWFlMERjNjI1OGNlZkI2NTIwN2VDOTkwQWE0RDsKICBEaWdpcHVsc2VGaXJzdFJvdW5kVG9rZW4gcHVibGljIGNvaW47CgoKICAvLyBUb2tlbiBkZXRhaWxzCgogIC8vIElDTyBkZXRhaWxzCiAgYm9vbCBwdWJsaWMgICAgICAgICAgICAgZmluYWxpemVkQ3Jvd2RmdW5kaW5nICAgPSBmYWxzZTsKICB1aW50IHB1YmxpYyBjb25zdGFudCAgICBNSU5fQ0FQICAgICAgICAgICAgICAgICA9IDUwMCAgICogMWUxODsKICB1aW50IHB1YmxpYyBjb25zdGFudCAgICBNQVhfQ0FQICAgICAgICAgICAgICAgICA9IDQxODUwICogMWUxODsgLy8gKyAxNjAwIE9CUiArIDEyMDAgUFJFCiAgdWludCBwdWJsaWMgICAgICAgICAgICAgVGllckFtb3VudCAgICAgICAgICAgICAgPSA4MzAwICAqIDFlMTg7CiAgdWludCBwdWJsaWMgY29uc3RhbnQgICAgVE9LRU5TX1BFUl9FVEggICAgICAgICAgPSAyNTA7CiAgdWludCBwdWJsaWMgY29uc3RhbnQgICAgTUlOX0lOVkVTVF9FVEhFUiAgICAgICAgPSA1MDAgZmlubmV5OwogIHVpbnQgcHVibGljICAgICAgICAgICAgIHN0YXJ0VGltZTsKICB1aW50IHB1YmxpYyAgICAgICAgICAgICBlbmRUaW1lOwogIHVpbnQgcHVibGljICAgICAgICAgICAgIGV0aGVyUmVjZWl2ZWQ7CiAgdWludCBwdWJsaWMgICAgICAgICAgICAgY29pblNlbnRUb0V0aGVyOwogIGJvb2wgcHVibGljICAgICAgICAgICAgIGlzRmluYWxpemVkOwoKICAvLyBPcmlnaW5hbCBCYWNrZXJzIHJvdW5kCiAgYm9vbCBwdWJsaWMgICAgICAgICAgICAgaXNPQlI7CiAgdWludCBwdWJsaWMgICAgICAgICAgICAgcmFpc2VkT0JSOwogIHVpbnQgcHVibGljICAgICAgICAgICAgIE1BWF9PQlJfQ0FQICAgICAgICAgICAgID0gMTYwMCAgKiAxZTE4OwogIHVpbnQgcHVibGljICAgICAgICAgICAgIE9CUl9EdXJhdGlvbjsKCiAgLy8gRW51bXMKICBlbnVtIFRpZXJTdGF0ZXtDb21wbGV0ZWQsIFRpZXIwMSwgVGllcjAyLCBUaWVyMDMsIFRpZXIwNCwgVGllcjA1LCBPdmVyc3BlbmQsIEZhaWx1cmUsIE9CUn0KCiAgLy8gTW9kaWZpZXJzCiAgbW9kaWZpZXIgbWluQ2FwTm90UmVhY2hlZCgpIHsKICAgIHJlcXVpcmUgKG5vdyA8IGVuZFRpbWUgJiYgZXRoZXJSZWNlaXZlZCA8PSBNSU5fQ0FQKTsKICAgIF87CiAgfQoKICAvLyBNYXBwaW5ncwogIG1hcHBpbmcoYWRkcmVzcyA9PiBCYWNrZXIpIHB1YmxpYyBiYWNrZXJzOwogIHN0cnVjdCBCYWNrZXIgewogICAgdWludCB3ZWlSZWNlaXZlZDsKICAgIHVpbnQgY29pblNlbnQ7CiAgfQoKICAvLyBFdmVudHMKICBldmVudCBMb2dSZWNlaXZlZEVUSChhZGRyZXNzIGFkZHIsIHVpbnQgdmFsdWUpOwogIGV2ZW50IExvZ0NvaW5zRW1pdGVkKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCB1aW50IGFtb3VudCk7CgoKICAvLyBCb3VudGllcywgUHJlc2FsZSwgQ29tcGFueSB0b2tlbnMKICBhZGRyZXNzIHB1YmxpYyAgICAgICAgICBwcmVzYWxlV2FsbGV0ICAgICAgICAgICA9IDB4ODNEMEFhMjI5MmVmRDg0NzVERjI0MWZCQTQyZmUxMzdkQTAwOGQ3OTsKICBhZGRyZXNzIHB1YmxpYyAgICAgICAgICBjb21wYW55V2FsbGV0ICAgICAgICAgICA9IDB4NUM5NjdkRTY4RkM1NDM2NTg3MjIwM0Q0OUI1MWNEYzc5YTYxQ2E4NTsKICBhZGRyZXNzIHB1YmxpYyAgICAgICAgICBib3VudHlXYWxsZXQgICAgICAgICAgICA9IDB4NDlmZTNFNTM1OTA2ZDEwZTU1RTJlNEFENDdmZjZjQjA5MkFiYzY5MjsKCiAgLy8gQWxsb2NhdGVkIDEwJSBmb3IgdGhlIHRlYW0gbWVtYmVycwogIGFkZHJlc3MgcHVibGljICAgICAgICAgIHRlYW1XYWxsZXRfMSAgICAgICAgICAgID0gMHg5MUQ5QjA5YTQxNTdlMDI3ODNENUQxOWY3RGZDNjZhNzU5YkRjMUU0OwogIGFkZHJlc3MgcHVibGljICAgICAgICAgIHRlYW1XYWxsZXRfMiAgICAgICAgICAgID0gMHg1NjI5OEE0ZTBmNjBBYjRBMzIzRURCMGIyODVBOTQyMUY4ZTZFMjc2OwogIGFkZHJlc3MgcHVibGljICAgICAgICAgIHRlYW1XYWxsZXRfMyAgICAgICAgICAgID0gMHgwOWU5ZTI0YjNlNmJBMUU3MTRGQjg2QjA0NjAyYTdBYTYyRDU4N0ZEOwogIGFkZHJlc3MgcHVibGljICAgICAgICAgIHRlYW1XYWxsZXRfNCAgICAgICAgICAgID0gMHgyRjQyODNEMDM2MkEzQWFFZTM1OWFDNTVGMmFDN2E0NjE1Zjk3YzQ2OwoKCgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgcGF5bWVudHM7CiAgdWludDI1NiBwdWJsaWMgdG90YWxQYXltZW50czsKCgogIGZ1bmN0aW9uIGFzeW5jU2VuZChhZGRyZXNzIGRlc3QsIHVpbnQyNTYgYW1vdW50KSBpbnRlcm5hbCB7CiAgICBwYXltZW50c1tkZXN0XSA9IHBheW1lbnRzW2Rlc3RdLmFkZChhbW91bnQpOwogICAgdG90YWxQYXltZW50cyA9IHRvdGFsUGF5bWVudHMuYWRkKGFtb3VudCk7CiAgfQoKCiAgZnVuY3Rpb24gd2l0aGRyYXdQYXltZW50cygpIG9ubHlPd25lciB7CiAgICAvLyBDYW4gb25seSBiZSBjYWxsZWQgaWYgdGhlIElDTyBpcyBzdWNjZXNzZnVsbAogICAgcmVxdWlyZSAoaXNGaW5hbGl6ZWQpOwogICAgcmVxdWlyZSAoZXRoZXJSZWNlaXZlZCAhPSAwKTsKCiAgICBvd25lci50cmFuc2Zlcih0aGlzLmJhbGFuY2UpOwogIH0KCgogIC8vIEluaXQgY29udHJhY3QKICBmdW5jdGlvbiBEaWdpcHVsc2VUb2tlbigpIHsKICAgIGNvaW4gPSBEaWdpcHVsc2VGaXJzdFJvdW5kVG9rZW4oREdQVG9rZW5PbGRDb250cmFjdCk7CiAgICBpc09CUiA9IHRydWU7CiAgICBpc0ZpbmFsaXplZCA9IGZhbHNlOwogICAgc3RhcnQoKTsKCiAgICAvLyBBbGxvY2F0ZSB0b2tlbnMKICAgIGJhbGFuY2VzW3ByZXNhbGVXYWxsZXRdICAgICAgICAgPSA2MDAwMDAgKiAxZTE4OyAgICAgICAgICAgICAgICAvLyA2MDAuMDAwIGZvciBwcmVzYWxlIChjbG9zZWQgYWxyZWFkeSkKICAgIFRyYW5zZmVyKDB4MCwgcHJlc2FsZVdhbGxldCwgNjAwMDAwICogMWUxOCk7CgogICAgYmFsYW5jZXNbdGVhbVdhbGxldF8xXSAgICAgICAgICA9IDIwNDgzODcxICogMWUxNjsgICAgICAgICAgICAgIC8vIDElIGZvciB0ZWFtIG1lbWJlciAxCiAgICBUcmFuc2ZlcigweDAsIHRlYW1XYWxsZXRfMSwgMjA0ODM4NzEgKiAxZTE2KTsKCiAgICBiYWxhbmNlc1t0ZWFtV2FsbGV0XzJdICAgICAgICAgID0gOTAxMjkwMzI0ICogMWUxNTsgICAgICAgICAgICAgLy8gNC40JSBmb3IgdGVhbSBtZW1iZXIgMgogICAgVHJhbnNmZXIoMHgwLCB0ZWFtV2FsbGV0XzIsIDkwMTI5MDMyNCAqIDFlMTUpOwoKICAgIGJhbGFuY2VzW3RlYW1XYWxsZXRfM10gICAgICAgICAgPSA5MDEyOTAzMjQgKiAxZTE1OyAgICAgICAgICAgICAvLyA0LjQlIGZvciB0ZWFtIG1lbWJlciAzCiAgICBUcmFuc2ZlcigweDAsIHRlYW1XYWxsZXRfMywgOTAxMjkwMzI0ICogMWUxNSk7CgogICAgYmFsYW5jZXNbdGVhbVdhbGxldF80XSAgICAgICAgICA9IDQwOTY3NzI0ICogMWUxNTsgICAgICAgICAgICAgIC8vIDAuMiUgZm9yIHRlYW0gbWVtYmVyIDQKICAgIFRyYW5zZmVyKDB4MCwgdGVhbVdhbGxldF80LCA0MDk2NzcyNCAqIDFlMTUpOwoKICAgIGJhbGFuY2VzW2NvbXBhbnlXYWxsZXRdICAgICAgICAgID0gNTEyMDk2Nzc1ICogMWUxNjsgICAgICAgICAgICAvLyBDb21wYW55IHNoYXJlcwogICAgVHJhbnNmZXIoMHgwLCBjb21wYW55V2FsbGV0LCA1MTIwOTY3NzUgKiAxZTE2KTsKCiAgICBiYWxhbmNlc1tib3VudHlXYWxsZXRdICAgICAgICAgID0gNjE0NTE2MTMgKiAxZTE2OyAgICAgICAgICAgICAgLy8gQm91bnR5IHNoYXJlcwogICAgVHJhbnNmZXIoMHgwLCBib3VudHlXYWxsZXQsIDYxNDUxNjEzICogMWUxNik7CgogICAgYmFsYW5jZXNbdGhpc10gICAgICAgICAgICAgICAgICA9IDEyMTAwMDAwICogMWUxODsgICAgICAgICAgICAgIC8vIFRva2VucyB0byBiZSBpc3N1ZWQgZHVyaW5nIHRoZSBjcm93ZHNhbGUKICAgIFRyYW5zZmVyKDB4MCwgdGhpcywgMTIxMDAwMDAgKiAxZTE4KTsKCiAgICB0b3RhbFN1cHBseSA9IDIwNDgzODcxICogMWUxODsKICB9CgoKICBmdW5jdGlvbiBzdGFydCgpIG9ubHlPd25lciB7CiAgICBpZiAoc3RhcnRUaW1lICE9IDApIHJldmVydCgpOwogICAgc3RhcnRUaW1lICAgID0gIDE1MDY2MTA4MDAgOyAgLy8yOC8wOS8yMDE3IDAzOjAwIFBNIFVUQwogICAgZW5kVGltZSAgICAgID0gIDE1MDk0OTQ0MDAgOyAgLy8wMS8xMS8yMDE3IDAwOjAwIFBNIFVUQwogICAgT0JSX0R1cmF0aW9uID0gIHN0YXJ0VGltZSArIDcyIGhvdXJzOwogIH0KCgogIGZ1bmN0aW9uIHRvV2VpKHVpbnQgX2Ftb3VudCkgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZXN1bHQpewogICAgLy8gU2V0IHRvIGZpbm5leSBmb3IgZWFzZSBvZiB0ZXN0aW5nIG9uIHJvcHN0ZW46IDFlMTUgKG9yIHNtYWxsZXIpIHx8IEV0aGVyIGZvciBtYWluIG5ldCAxZTE4CiAgICByZXN1bHQgPSBfYW1vdW50Lm11bCgxZTE4KTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQoKCiAgZnVuY3Rpb24gaXNPcmlnaW5hbFJvdW5kQ29udHJpYnV0b3IoKSBjb25zdGFudCByZXR1cm5zIChib29sIF9zdGF0ZSl7CiAgICB1aW50IGJhbGFuY2UgPSBjb2luLmJhbGFuY2VPZihtc2cuc2VuZGVyKTsKICAgIGlmIChiYWxhbmNlID4gMCkgcmV0dXJuIHRydWU7CiAgfQoKCiAgZnVuY3Rpb24oKSBwYXlhYmxlIHsKICAgIGlmIChpc09CUikgewogICAgICBidXlEaWdpcHVsc2VPcmlnaW5hbEJhY2tlcnNSb3VuZChtc2cuc2VuZGVyKTsKICAgIH0gZWxzZSB7CiAgICAgIGJ1eURpZ2lwdWxzZVRva2Vucyhtc2cuc2VuZGVyKTsKICAgIH0KICB9CgoKICBmdW5jdGlvbiBidXlEaWdpcHVsc2VPcmlnaW5hbEJhY2tlcnNSb3VuZChhZGRyZXNzIGJlbmVmaWNpYXJ5KSBpbnRlcm5hbCAgewogICAgLy8gVXNlciBtdXN0IGhhdmUgb2xkIHRva2VucwogICAgcmVxdWlyZSAoaXNPQlIpOwogICAgcmVxdWlyZShtc2cudmFsdWUgPiAwKTsKICAgIHJlcXVpcmUobXNnLnZhbHVlID4gTUlOX0lOVkVTVF9FVEhFUik7CiAgICByZXF1aXJlKGlzT3JpZ2luYWxSb3VuZENvbnRyaWJ1dG9yKCkpOwoKICAgIHVpbnQgZXRoUmFpc2VkICAgICAgICAgID0gcmFpc2VkT0JSOwogICAgdWludCB1c2VyQ29udHJpYnV0aW9uICAgPSBtc2cudmFsdWU7CiAgICB1aW50IHNob3VsZEJlY29tZSAgICAgICA9IGV0aFJhaXNlZC5hZGQodXNlckNvbnRyaWJ1dGlvbik7CiAgICB1aW50IGV4Y2VzcyAgICAgICAgICAgICA9IDA7CiAgICBCYWNrZXIgc3RvcmFnZSBiYWNrZXIgICA9IGJhY2tlcnNbYmVuZWZpY2lhcnldOwoKICAgIC8vIERlZmluZSBleGNlc3MgYW5kIGFtb3VudCB0byBpbmNsdWRlCiAgICBpZiAoc2hvdWxkQmVjb21lID4gTUFYX09CUl9DQVApIHsKICAgICAgdXNlckNvbnRyaWJ1dGlvbiA9IE1BWF9PQlJfQ0FQIC0gZXRoUmFpc2VkOwogICAgICBleGNlc3MgPSBtc2cudmFsdWUgLSB1c2VyQ29udHJpYnV0aW9uOwogICAgfQoKICAgIHVpbnQgdGllckJvbnVzICAgPSBnZXRCb251c1BlcmNlbnRhZ2UoIHVzZXJDb250cmlidXRpb24gKTsKICAgIGJhbGFuY2VzW2JlbmVmaWNpYXJ5XSArPSB0aWVyQm9udXM7CiAgICBiYWxhbmNlc1t0aGlzXSAgICAgIC09IHRpZXJCb251czsKICAgIHJhaXNlZE9CUiA9IHJhaXNlZE9CUi5hZGQodXNlckNvbnRyaWJ1dGlvbik7CiAgICBiYWNrZXIuY29pblNlbnQgPSBiYWNrZXIuY29pblNlbnQuYWRkKHRpZXJCb251cyk7CiAgICBiYWNrZXIud2VpUmVjZWl2ZWQgPSBiYWNrZXIud2VpUmVjZWl2ZWQuYWRkKHVzZXJDb250cmlidXRpb24pOwoKICAgIGlmIChyYWlzZWRPQlIgPj0gTUFYX09CUl9DQVApIHsKICAgICAgaXNPQlIgPSBmYWxzZTsKICAgIH0KCiAgICBUcmFuc2Zlcih0aGlzLCBiZW5lZmljaWFyeSwgdGllckJvbnVzKTsKICAgIExvZ0NvaW5zRW1pdGVkKGJlbmVmaWNpYXJ5LCB0aWVyQm9udXMpOwogICAgTG9nUmVjZWl2ZWRFVEgoYmVuZWZpY2lhcnksIHVzZXJDb250cmlidXRpb24pOwoKICAgIC8vIFNlbmQgZXhjZXNzIGJhY2sKICAgIGlmIChleGNlc3MgPiAwKSB7CiAgICAgIGFzc2VydChtc2cuc2VuZGVyLnNlbmQoZXhjZXNzKSk7CiAgICB9CiAgfQoKCiAgZnVuY3Rpb24gYnV5RGlnaXB1bHNlVG9rZW5zKGFkZHJlc3MgYmVuZWZpY2lhcnkpIGludGVybmFsIHsKICAgIHJlcXVpcmUgKCFmaW5hbGl6ZWRDcm93ZGZ1bmRpbmcpOwogICAgcmVxdWlyZSAobm93ID4gT0JSX0R1cmF0aW9uKTsKICAgIHJlcXVpcmUgKG1zZy52YWx1ZSA+IE1JTl9JTlZFU1RfRVRIRVIpOwoKICAgIHVpbnQgQ3VycmVudFRpZXJNYXggPSBnZXRDdXJyZW50VGllcigpLm11bChUaWVyQW1vdW50KTsKCiAgICAvLyBBY2NvdW50IGZvciBsYXN0IHRpZXIgd2l0aCBleHRyYSAzNTAgRVRICiAgICBpZiAoZ2V0Q3VycmVudFRpZXIoKSA9PSA1KSB7CiAgICAgIEN1cnJlbnRUaWVyTWF4ID0gQ3VycmVudFRpZXJNYXguYWRkKDM1MCAqIDFlMTgpOwogICAgfQogICAgdWludCB1c2VyQ29udHJpYnV0aW9uID0gbXNnLnZhbHVlOwogICAgdWludCBzaG91bGRCZWNvbWUgPSBldGhlclJlY2VpdmVkLmFkZCh1c2VyQ29udHJpYnV0aW9uKTsKICAgIHVpbnQgdGllckJvbnVzID0gMDsKICAgIHVpbnQgZXhjZXNzID0gMDsKICAgIHVpbnQgZXhjZXNzX2JvbnVzID0gMDsKCiAgICBCYWNrZXIgc3RvcmFnZSBiYWNrZXIgPSBiYWNrZXJzW2JlbmVmaWNpYXJ5XTsKCiAgICAvLyBEZWZpbmUgZXhjZXNzIG92ZXIgdGllciBhbmQgYW1vdW50IHRvIGluY2x1ZGUKICAgIGlmIChzaG91bGRCZWNvbWUgPiBDdXJyZW50VGllck1heCkgewogICAgICB1c2VyQ29udHJpYnV0aW9uID0gQ3VycmVudFRpZXJNYXggLSBldGhlclJlY2VpdmVkOwogICAgICBleGNlc3MgPSBtc2cudmFsdWUgLSB1c2VyQ29udHJpYnV0aW9uOwogICAgfQoKICAgIHRpZXJCb251cyA9IGdldEJvbnVzUGVyY2VudGFnZSggdXNlckNvbnRyaWJ1dGlvbiApOwogICAgYmFsYW5jZXNbYmVuZWZpY2lhcnldICs9IHRpZXJCb251czsKICAgIGJhbGFuY2VzW3RoaXNdIC09IHRpZXJCb251czsKICAgIGV0aGVyUmVjZWl2ZWQgPSBldGhlclJlY2VpdmVkLmFkZCh1c2VyQ29udHJpYnV0aW9uKTsKICAgIGJhY2tlci5jb2luU2VudCA9IGJhY2tlci5jb2luU2VudC5hZGQodGllckJvbnVzKTsKICAgIGJhY2tlci53ZWlSZWNlaXZlZCA9IGJhY2tlci53ZWlSZWNlaXZlZC5hZGQodXNlckNvbnRyaWJ1dGlvbik7CiAgICBUcmFuc2Zlcih0aGlzLCBiZW5lZmljaWFyeSwgdGllckJvbnVzKTsKCiAgICAvLyBUYXAgaW50byBuZXh0IHRpZXIgd2l0aCBhcHByb3ByaWF0ZSBib251c2VzCiAgICBpZiAoZXhjZXNzID4gMCAmJiBldGhlclJlY2VpdmVkIDwgTUFYX0NBUCkgewogICAgICBleGNlc3NfYm9udXMgPSBnZXRCb251c1BlcmNlbnRhZ2UoIGV4Y2VzcyApOwogICAgICBiYWxhbmNlc1tiZW5lZmljaWFyeV0gKz0gZXhjZXNzX2JvbnVzOwogICAgICBiYWxhbmNlc1t0aGlzXSAtPSBleGNlc3NfYm9udXM7CiAgICAgIGV0aGVyUmVjZWl2ZWQgPSBldGhlclJlY2VpdmVkLmFkZChleGNlc3MpOwogICAgICBiYWNrZXIuY29pblNlbnQgPSBiYWNrZXIuY29pblNlbnQuYWRkKGV4Y2Vzc19ib251cyk7CiAgICAgIGJhY2tlci53ZWlSZWNlaXZlZCA9IGJhY2tlci53ZWlSZWNlaXZlZC5hZGQoZXhjZXNzKTsKICAgICAgVHJhbnNmZXIodGhpcywgYmVuZWZpY2lhcnksIGV4Y2Vzc19ib251cyk7CiAgICB9CgogICAgTG9nQ29pbnNFbWl0ZWQoYmVuZWZpY2lhcnksIHRpZXJCb251cy5hZGQoZXhjZXNzX2JvbnVzKSk7CiAgICBMb2dSZWNlaXZlZEVUSChiZW5lZmljaWFyeSwgdXNlckNvbnRyaWJ1dGlvbi5hZGQoZXhjZXNzKSk7CgogICAgaWYoZXRoZXJSZWNlaXZlZCA+PSBNQVhfQ0FQKSB7CiAgICAgIGZpbmFsaXplZENyb3dkZnVuZGluZyA9IHRydWU7CiAgICB9CgogICAgLy8gU2VuZCBleGNlc3MgYmFjawogICAgaWYgKGV4Y2VzcyA+IDAgJiYgZXRoZXJSZWNlaXZlZCA9PSBNQVhfQ0FQKSB7CiAgICAgIGFzc2VydChtc2cuc2VuZGVyLnNlbmQoZXhjZXNzKSk7CiAgICB9CiAgfQoKCiAgZnVuY3Rpb24gZ2V0Q3VycmVudFRpZXIoKSByZXR1cm5zICh1aW50IFRpZXIpIHsKICAgIHVpbnQgZXRoUmFpc2VkID0gZXRoZXJSZWNlaXZlZDsKCiAgICBpZiAoaXNPQlIpIHJldHVybiB1aW50KFRpZXJTdGF0ZS5PQlIpOwoKICAgIGlmIChldGhSYWlzZWQgPj0gMCAmJiBldGhSYWlzZWQgPCB0b1dlaSg4MzAwKSkgcmV0dXJuIHVpbnQoVGllclN0YXRlLlRpZXIwMSk7CiAgICBlbHNlIGlmIChldGhSYWlzZWQgPj0gdG9XZWkoODMwMCkgJiYgZXRoUmFpc2VkIDwgdG9XZWkoMTY2MDApKSByZXR1cm4gdWludChUaWVyU3RhdGUuVGllcjAyKTsKICAgIGVsc2UgaWYgKGV0aFJhaXNlZCA+PSB0b1dlaSgxNjYwMCkgJiYgZXRoUmFpc2VkIDwgdG9XZWkoMjQ5MDApKSByZXR1cm4gdWludChUaWVyU3RhdGUuVGllcjAzKTsKICAgIGVsc2UgaWYgKGV0aFJhaXNlZCA+PSB0b1dlaSgyNDkwMCkgJiYgZXRoUmFpc2VkIDwgdG9XZWkoMzMyMDApKSByZXR1cm4gdWludChUaWVyU3RhdGUuVGllcjA0KTsKICAgIGVsc2UgaWYgKGV0aFJhaXNlZCA+PSB0b1dlaSgzMzIwMCkgJiYgZXRoUmFpc2VkIDw9IHRvV2VpKE1BWF9DQVApKSByZXR1cm4gdWludChUaWVyU3RhdGUuVGllcjA1KTsgLy8gbGFzdCB0aWVyIGhhcyA4NjUwCiAgICBlbHNlIGlmIChldGhSYWlzZWQgPiB0b1dlaShNQVhfQ0FQKSkgewogICAgICBmaW5hbGl6ZWRDcm93ZGZ1bmRpbmcgPSB0cnVlOwogICAgICByZXR1cm4gdWludChUaWVyU3RhdGUuT3ZlcnNwZW5kKTsKICAgIH0KICAgIGVsc2UgcmV0dXJuIHVpbnQoVGllclN0YXRlLkZhaWx1cmUpOwogIH0KCgogIGZ1bmN0aW9uIGdldEJvbnVzUGVyY2VudGFnZSh1aW50IGNvbnRyaWJ1dGlvbikgcmV0dXJucyAodWludCBfYW1vdW50KSB7CiAgICB1aW50IHRpZXIgPSBnZXRDdXJyZW50VGllcigpOwoKICAgIHVpbnQgYm9udXMgPQogICAgICAgIHRpZXIgPT0gMSA/IDIwIDoKICAgICAgICB0aWVyID09IDIgPyAxNSA6CiAgICAgICAgdGllciA9PSAzID8gMTAgOgogICAgICAgIHRpZXIgPT0gNCA/IDUgOgogICAgICAgIHRpZXIgPT0gNSA/IDAgOgogICAgICAgIHRpZXIgPT0gOCA/IDUwIDoKICAgICAgICAgICAgICAgICAgICAwOwoKICAgIHJldHVybiBjb250cmlidXRpb24ubXVsKFRPS0VOU19QRVJfRVRIKS5tdWwoYm9udXMgKyAxMDApLmRpdigxMDApOwogIH0KCgogIGZ1bmN0aW9uIHJlZnVuZCh1aW50IF92YWx1ZSkgbWluQ2FwTm90UmVhY2hlZCBwdWJsaWMgewoKICAgIGlmIChfdmFsdWUgIT0gYmFja2Vyc1ttc2cuc2VuZGVyXS5jb2luU2VudCkgcmV2ZXJ0KCk7IC8vIGNvbXBhcmUgdmFsdWUgZnJvbSBiYWNrZXIgYmFsYW5jZQoKICAgIHVpbnQgRVRIVG9TZW5kID0gYmFja2Vyc1ttc2cuc2VuZGVyXS53ZWlSZWNlaXZlZDsKICAgIGJhY2tlcnNbbXNnLnNlbmRlcl0ud2VpUmVjZWl2ZWQ9MDsKCiAgICBpZiAoRVRIVG9TZW5kID4gMCkgewogICAgICBhc3luY1NlbmQobXNnLnNlbmRlciwgRVRIVG9TZW5kKTsgLy8gcHVsbCBwYXltZW50IHRvIGdldCByZWZ1bmQgaW4gRVRICiAgICB9CiAgfQoKCiAgZnVuY3Rpb24gZmluYWxpemUoKSBvbmx5T3duZXIgcHVibGljIHsKICAgIHJlcXVpcmUgKG5vdyA+PSBlbmRUaW1lKTsKICAgIHJlcXVpcmUgKGV0aGVyUmVjZWl2ZWQgPj0gTUlOX0NBUCk7CgogICAgZmluYWxpemVkQ3Jvd2RmdW5kaW5nID0gdHJ1ZTsKICAgIGlzRmluYWxpemVkID0gdHJ1ZTsKICAgIGZyZWV6ZVRyYW5zZmVyRm9yT3duZXJUaW1lID0gbm93ICsgMTgyIGRheXM7CiAgfQoKCiAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHJlcXVpcmUoaXNGaW5hbGl6ZWQpOwoKICAgIGlmIChtc2cuc2VuZGVyID09IG93bmVyKSB7CiAgICAgIHJlcXVpcmUobm93ID4gZnJlZXplVHJhbnNmZXJGb3JPd25lclRpbWUpOwogICAgfQoKICAgIHJldHVybiBzdXBlci50cmFuc2ZlcihfdG8sIF92YWx1ZSk7CiAgfQoKCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICByZXF1aXJlKGlzRmluYWxpemVkKTsKCiAgICBpZiAobXNnLnNlbmRlciA9PSBvd25lcikgewogICAgICByZXF1aXJlKG5vdyA+IGZyZWV6ZVRyYW5zZmVyRm9yT3duZXJUaW1lKTsKICAgIH0KCiAgICByZXR1cm4gc3VwZXIudHJhbnNmZXJGcm9tKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgfQp9'.
	

]
