Class {
	#name : #SRT6fd570c64568a05b9cf3afcd7d31aa5e3c9b8350,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT6fd570c64568a05b9cf3afcd7d31aa5e3c9b8350 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovLyBGaWxlOiBjb250cmFjdHMvRVJDNzIxLnNvbAoKLy8vIEB0aXRsZSBJbnRlcmZhY2UgZm9yIGNvbnRyYWN0cyBjb25mb3JtaW5nIHRvIEVSQy03MjE6IE5vbi1GdW5naWJsZSBUb2tlbnMKLy8vIEBhdXRob3IgRGlldGVyIFNoaXJsZXkgPDxhIGhyZWY9Ii9jZG4tY2dpL2wvZW1haWwtcHJvdGVjdGlvbiIgY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSIxNTcxNzA2MTcwNTU3NDZkN2M3YTc4NmY3MDdiM2I3NjdhIj5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9hPj4gKGh0dHBzOi8vZ2l0aHViLmNvbS9kZXRlKQpjb250cmFjdCBFUkM3MjEgewogICAgLy8gUmVxdWlyZWQgbWV0aG9kcwogICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IHRvdGFsKTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKICAgIGZ1bmN0aW9uIG93bmVyT2YodWludDI1NiBfdG9rZW5JZCkgZXh0ZXJuYWwgdmlldyByZXR1cm5zIChhZGRyZXNzIG93bmVyKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIGV4dGVybmFsOwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3Rva2VuSWQpIGV4dGVybmFsOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF90b2tlbklkKSBleHRlcm5hbDsKCiAgICAvLyBFdmVudHMKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB0b2tlbklkKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3MgYXBwcm92ZWQsIHVpbnQyNTYgdG9rZW5JZCk7Cn0KCi8vIEZpbGU6IGNvbnRyYWN0cy9UdWxpcHNTYWxlSW50ZXJmYWNlLnNvbAoKLyoKKiBAdGl0bGUgQ3J5cHRvIFR1bGlwcyBJbml0aWFsIFNhbGUgSW50ZXJmYWNlCiogQGRldiBUaGlzIGludGVyZmFjZSBzZXRzIHRoZSBzdGFuZGFyZCBmb3IgaW5pdGlhbCBzYWxlCiogY29udHJhY3QuIEFsbCBmdXR1cmUgc2FsZSBjb250cmFjdHMgc2hvdWxkIGZvbGxvdyB0aGlzLgoqLwppbnRlcmZhY2UgVHVsaXBzU2FsZUludGVyZmFjZSB7CiAgICBmdW5jdGlvbiBwdXRPbkluaXRpYWxTYWxlKHVpbnQyNTYgdHVsaXBJZCkgZXh0ZXJuYWw7CgogICAgZnVuY3Rpb24gY3JlYXRlQXVjdGlvbigKICAgICAgICB1aW50MjU2IF90dWxpcElkLAogICAgICAgIHVpbnQyNTYgX3N0YXJ0aW5nUHJpY2UsCiAgICAgICAgdWludDI1NiBfZW5kaW5nUHJpY2UsCiAgICAgICAgdWludDI1NiBfZHVyYXRpb24sCiAgICAgICAgYWRkcmVzcyBfdHJhbnNmZXJGcm9tCiAgICApZXh0ZXJuYWw7Cn0KCi8vIEZpbGU6IHplcHBlbGluLXNvbGlkaXR5L2NvbnRyYWN0cy9vd25lcnNoaXAvT3duYWJsZS5zb2wKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sCiAqIGZ1bmN0aW9ucywgdGhpcyBzaW1wbGlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAidXNlciBwZXJtaXNzaW9ucyIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCgogIGV2ZW50IE93bmVyc2hpcFRyYW5zZmVycmVkKGFkZHJlc3MgaW5kZXhlZCBwcmV2aW91c093bmVyLCBhZGRyZXNzIGluZGV4ZWQgbmV3T3duZXIpOwoKCiAgLyoqCiAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICogYWNjb3VudC4KICAgKi8KICBmdW5jdGlvbiBPd25hYmxlKCkgcHVibGljIHsKICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICB9CgoKICAvKioKICAgKiBAZGV2IFRocm93cyBpZiBjYWxsZWQgYnkgYW55IGFjY291bnQgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAgICovCiAgbW9kaWZpZXIgb25seU93bmVyKCkgewogICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgIF87CiAgfQoKCiAgLyoqCiAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXIgdG8gdHJhbnNmZXIgY29udHJvbCBvZiB0aGUgY29udHJhY3QgdG8gYSBuZXdPd25lci4KICAgKiBAcGFyYW0gbmV3T3duZXIgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgb3duZXJzaGlwIHRvLgogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgcmVxdWlyZShuZXdPd25lciAhPSBhZGRyZXNzKDApKTsKICAgIE93bmVyc2hpcFRyYW5zZmVycmVkKG93bmVyLCBuZXdPd25lcik7CiAgICBvd25lciA9IG5ld093bmVyOwogIH0KCn0KCi8vIEZpbGU6IHplcHBlbGluLXNvbGlkaXR5L2NvbnRyYWN0cy9saWZlY3ljbGUvUGF1c2FibGUuc29sCgovKioKICogQHRpdGxlIFBhdXNhYmxlCiAqIEBkZXYgQmFzZSBjb250cmFjdCB3aGljaCBhbGxvd3MgY2hpbGRyZW4gdG8gaW1wbGVtZW50IGFuIGVtZXJnZW5jeSBzdG9wIG1lY2hhbmlzbS4KICovCmNvbnRyYWN0IFBhdXNhYmxlIGlzIE93bmFibGUgewogIGV2ZW50IFBhdXNlKCk7CiAgZXZlbnQgVW5wYXVzZSgpOwoKICBib29sIHB1YmxpYyBwYXVzZWQgPSBmYWxzZTsKCgogIC8qKgogICAqIEBkZXYgTW9kaWZpZXIgdG8gbWFrZSBhIGZ1bmN0aW9uIGNhbGxhYmxlIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgaXMgbm90IHBhdXNlZC4KICAgKi8KICBtb2RpZmllciB3aGVuTm90UGF1c2VkKCkgewogICAgcmVxdWlyZSghcGF1c2VkKTsKICAgIF87CiAgfQoKICAvKioKICAgKiBAZGV2IE1vZGlmaWVyIHRvIG1ha2UgYSBmdW5jdGlvbiBjYWxsYWJsZSBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IGlzIHBhdXNlZC4KICAgKi8KICBtb2RpZmllciB3aGVuUGF1c2VkKCkgewogICAgcmVxdWlyZShwYXVzZWQpOwogICAgXzsKICB9CgogIC8qKgogICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byBwYXVzZSwgdHJpZ2dlcnMgc3RvcHBlZCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHBhdXNlKCkgb25seU93bmVyIHdoZW5Ob3RQYXVzZWQgcHVibGljIHsKICAgIHBhdXNlZCA9IHRydWU7CiAgICBQYXVzZSgpOwogIH0KCiAgLyoqCiAgICogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHVucGF1c2UsIHJldHVybnMgdG8gbm9ybWFsIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gdW5wYXVzZSgpIG9ubHlPd25lciB3aGVuUGF1c2VkIHB1YmxpYyB7CiAgICBwYXVzZWQgPSBmYWxzZTsKICAgIFVucGF1c2UoKTsKICB9Cn0KCi8vIEZpbGU6IGNvbnRyYWN0cy9UdWxpcHNSb2xlcy5zb2wKCi8qCiogQHRpdGxlIENyeXB0byBUdWxpcHMgU2FsZUF1Y3Rpb24KKiBAZGV2IC4KKi8KY29udHJhY3QgVHVsaXBzUm9sZXMgaXMgUGF1c2FibGUgewoKICAgIG1vZGlmaWVyIG9ubHlGaW5hbmNpYWwoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGFkZHJlc3MoZmluYW5jaWFsQWNjb3VudCkpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seU9wZXJhdGlvbnMoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IGFkZHJlc3Mob3BlcmF0aW9uc0FjY291bnQpKTsKICAgICAgICBfOwogICAgfQoKICAgIGZ1bmN0aW9uIFR1bGlwc1JvbGVzKCkgT3duYWJsZSgpIHB1YmxpYyB7CiAgICAgICAgZmluYW5jaWFsQWNjb3VudCA9IG1zZy5zZW5kZXI7CiAgICAgICAgb3BlcmF0aW9uc0FjY291bnQgPSBtc2cuc2VuZGVyOwogICAgfQoKICAgIGFkZHJlc3MgcHVibGljIGZpbmFuY2lhbEFjY291bnQ7CiAgICBhZGRyZXNzIHB1YmxpYyBvcGVyYXRpb25zQWNjb3VudDsKCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZpbmFuY2lhbChhZGRyZXNzIG5ld0ZpbmFuY2lhbCkgcHVibGljIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShuZXdGaW5hbmNpYWwgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgZmluYW5jaWFsQWNjb3VudCA9IG5ld0ZpbmFuY2lhbDsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2Zlck9wZXJhdGlvbnMoYWRkcmVzcyBuZXdPcGVyYXRpb25zKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKG5ld09wZXJhdGlvbnMgIT0gYWRkcmVzcygwKSk7CiAgICAgICAgb3BlcmF0aW9uc0FjY291bnQgPSBuZXdPcGVyYXRpb25zOwogICAgfQoKfQoKLy8gRmlsZTogY29udHJhY3RzL1R1bGlwc1NhbGVBdWN0aW9uLnNvbAoKLyoKKiBAdGl0bGUgQ3J5cHRvIFR1bGlwcyBTYWxlQXVjdGlvbgoqIEBkZXYgLgoqLwpjb250cmFjdCBUdWxpcHNTYWxlQXVjdGlvbiBpcyBUdWxpcHNSb2xlcywgVHVsaXBzU2FsZUludGVyZmFjZSB7CgogICAgbW9kaWZpZXIgb25seUNvcmVDb250cmFjdCgpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gYWRkcmVzcyhjb3JlQ29udHJhY3QpKTsKICAgICAgICBfOwogICAgfQoKICAgIHN0cnVjdCBBdWN0aW9uIHsKICAgICAgICBhZGRyZXNzIHNlbGxlcjsKICAgICAgICB1aW50MTI4IHN0YXJ0aW5nUHJpY2U7CiAgICAgICAgdWludDEyOCBlbmRpbmdQcmljZTsKICAgICAgICB1aW50NjQgZHVyYXRpb247CiAgICAgICAgdWludDY0IHN0YXJ0ZWRBdDsKICAgIH0KCiAgICAvLyBAZGV2IGNvcmUgY29udHJhY3QgY2Fubm90IGNoYW5nZSBkdWUgdG8gc2VjdXJpdHkgcmVhc29ucwogICAgRVJDNzIxIHB1YmxpYyBjb3JlQ29udHJhY3Q7CgogICAgLy8gQ29tbWlzc2lvbiBjdXQKICAgIHVpbnQyNTYgcHVibGljIG93bmVyQ3V0OwoKICAgIHVpbnQyNTYgcHVibGljIGluaXRpYWxTdGFydFByaWNlOwogICAgdWludDI1NiBwdWJsaWMgaW5pdGlhbEVuZFByaWNlOwogICAgdWludDI1NiBwdWJsaWMgaW5pdGlhbFNhbGVEdXJhdGlvbiA9IDEgZGF5czsKCiAgICAvLyBNYXAgZnJvbSB0b2tlbiBJRCB0byB0aGVpciBjb3JyZXNwb25kaW5nIGF1Y3Rpb24uCiAgICBtYXBwaW5nICh1aW50MjU2ID0+IEF1Y3Rpb24pIHB1YmxpYyB0b2tlbklkVG9BdWN0aW9uOwoKICAgIGV2ZW50IEF1Y3Rpb25DcmVhdGVkKHVpbnQyNTYgdG9rZW5JZCwgdWludDI1NiBzdGFydGluZ1ByaWNlLCB1aW50MjU2IGVuZGluZ1ByaWNlLCB1aW50MjU2IGR1cmF0aW9uKTsKICAgIGV2ZW50IEF1Y3Rpb25TdWNjZXNzZnVsKHVpbnQyNTYgdG9rZW5JZCwgdWludDI1NiB0b3RhbFByaWNlLCBhZGRyZXNzIHdpbm5lcik7CiAgICBldmVudCBBdWN0aW9uQ2FuY2VsbGVkKHVpbnQyNTYgdG9rZW5JZCk7CgogICAgLyoKICAgICogQGRldiBDb25zdHJ1Y3RvciBpbml0aWFsaXplZCB3aXRoIHRoZSByZWZlcmVuY2UgdG8gY29yZSBUdWxpcHMgY29udHJhY3QKICAgICogQHBhcmFtIF90dWxpcHNDb3JlQ29udHJhY3QgLSBjb3JlIGNvbnRyYWN0IGFkcmVzcyBzaG91bGQgYmUgZml4ZWQKICAgICogQHBhcmFtIF9jdXQgLSBjb3JlIGNvbnRyYWN0IGFkcmVzcyBzaG91bGQgYmUgZml4ZWQKICAgICovCiAgICBmdW5jdGlvbiBUdWxpcHNTYWxlQXVjdGlvbihhZGRyZXNzIF90dWxpcHNDb3JlQ29udHJhY3QsIHVpbnQyNTYgX2N1dCkgVHVsaXBzUm9sZXMoKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUoX2N1dCA8PSAxMDAwMCk7IC8vIGN1dCBhcyBwZXJjZW50YWdlIGJldHdlZW4gMC4wMC0xMDAuMDAlCiAgICAgICAgb3duZXJDdXQgPSBfY3V0OwoKICAgICAgICBjb3JlQ29udHJhY3QgPSBFUkM3MjEoX3R1bGlwc0NvcmVDb250cmFjdCk7CiAgICB9CiAgICAgLyoKICAgICogQGRldiBUaGVzZSBhcmUgYXVjdGlvbiBwcmljZXMgZm9yIGluaXRpYWwgdHVsaXAgc2FsZXMuCiAgICAqLwogICAgZnVuY3Rpb24gc2V0RGVmYXVsdEF1Y3Rpb25QcmljZXModWludDI1NiBfc3RhcnRQcmljZSwgdWludDI1NiBfZW5kUHJpY2UpIGV4dGVybmFsIG9ubHlGaW5hbmNpYWwgewogICAgICAgIGluaXRpYWxTdGFydFByaWNlID0gX3N0YXJ0UHJpY2U7CiAgICAgICAgaW5pdGlhbEVuZFByaWNlID0gX2VuZFByaWNlOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlY2lldmVQYXlvdXQodWludCBwYXlvdXRBbW91bnQsIGFkZHJlc3MgcGF5b3V0QWRkcmVzcykgZXh0ZXJuYWwgb25seUZpbmFuY2lhbCB7CiAgICAgICAgcmVxdWlyZShwYXlvdXRBZGRyZXNzICE9IDApOwogICAgICAgIHBheW91dEFkZHJlc3MudHJhbnNmZXIocGF5b3V0QW1vdW50KTsKICAgIH0KCiAgICAvKgogICAgKiBAZGV2IFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGZyb20gY29yZSBDb250cmFjdCB0byBwdXQgdHVsaXAgb24gaW5pdGlhbCBzYWxlLgogICAgKiBUaGlzIGlzIGEgcHJpdmlsYWdlZCB2ZXJzaW9uIHRoYXQsIHJlY2lldmVzIHJlcXVlc3QgZnJvbSBjb3JlY29udHJhY3QuCiAgICAqIENvcmUgY29udHJhY3QgZW5zdXJlcyB0aGF0IHRoaXMgY29udHJhY3QgYWxyZWFkeSBpcyB0aGUgb3duZXJvZiB0aGlzIHR1bGlwCiAgICAqLwogICAgZnVuY3Rpb24gcHV0T25Jbml0aWFsU2FsZSh1aW50MjU2IF90dWxpcElkKSBleHRlcm5hbCBvbmx5Q29yZUNvbnRyYWN0IHsKICAgICAgICAvLyAhISBDb3JlIGNvbnRyYWN0IG11c3QgZW5zdXJlIHRoZSBvd25lcnNoaXAKICAgICAgICBfY3JlYXRlQXVjdGlvbihfdHVsaXBJZCwgaW5pdGlhbFN0YXJ0UHJpY2UsIGluaXRpYWxFbmRQcmljZSwgaW5pdGlhbFNhbGVEdXJhdGlvbiwgdGhpcyk7CiAgICB9CgogICAgZnVuY3Rpb24gY3JlYXRlQXVjdGlvbigKICAgICAgICB1aW50MjU2IF90dWxpcElkLAogICAgICAgIHVpbnQyNTYgX3N0YXJ0aW5nUHJpY2UsCiAgICAgICAgdWludDI1NiBfZW5kaW5nUHJpY2UsCiAgICAgICAgdWludDI1NiBfZHVyYXRpb24sCiAgICAgICAgYWRkcmVzcyBfdHJhbnNmZXJGcm9tCiAgICApZXh0ZXJuYWwKICAgIHsKICAgICAgICAvLyBBdm9pZCBpbnB1dCBvdmVyZmxvd2luZyBzdHJ1Y3QgbWVtb3J5IHNpemVzCiAgICAgICAgcmVxdWlyZShfc3RhcnRpbmdQcmljZSA9PSB1aW50MjU2KHVpbnQxMjgoX3N0YXJ0aW5nUHJpY2UpKSk7CiAgICAgICAgcmVxdWlyZShfZW5kaW5nUHJpY2UgPT0gdWludDI1Nih1aW50MTI4KF9lbmRpbmdQcmljZSkpKTsKICAgICAgICByZXF1aXJlKF9kdXJhdGlvbiA9PSB1aW50MjU2KHVpbnQ2NChfZHVyYXRpb24pKSk7CgogICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGF0IGxlYXN0IGEgbWludXRlIGZvciB0aGlzIGF1Y3Rpb24KICAgICAgICByZXF1aXJlKF9kdXJhdGlvbiA+PSAxIG1pbnV0ZXMpOwoKICAgICAgICByZXF1aXJlKGNvcmVDb250cmFjdC5vd25lck9mKF90dWxpcElkKSA9PSBfdHJhbnNmZXJGcm9tKTsKCiAgICAgICAgLy8gVHJhbnNmZXIgZnJvbSBjaGVja3Mgd2hldGhlciB0aGUgb3duZXIgYXBwcm92ZWQgdGhpcyB0cmFuc2ZlciBzbwogICAgICAgIC8vIHdlIGNhbid0IHRyYW5zZmVyIHR1bGlwcyB3aXRob3V0IHBlcm1pc3Npb24KICAgICAgICBjb3JlQ29udHJhY3QudHJhbnNmZXJGcm9tKF90cmFuc2ZlckZyb20sIHRoaXMsIF90dWxpcElkKTsKCiAgICAgICAgX2NyZWF0ZUF1Y3Rpb24oX3R1bGlwSWQsIF9zdGFydGluZ1ByaWNlLCBfZW5kaW5nUHJpY2UsIF9kdXJhdGlvbiwgX3RyYW5zZmVyRnJvbSk7CiAgICB9CgoKCiAgICAvLy8gQHBhcmFtIF90dWxpcElkIC0gSWQgb2YgdGhlIHR1bGlwIHRvIGF1Y3Rpb24uCiAgICAvLy8gQHBhcmFtIF9zdGFydGluZ1ByaWNlIC0gU3RhcnRpbmcgcHJpY2UgaW4gd2VpLgogICAgLy8vIEBwYXJhbSBfZW5kaW5nUHJpY2UgLSBFbmRpbmcgcHJpY2UgaW4gd2VpLgogICAgLy8vIEBwYXJhbSBfZHVyYXRpb24gLSBEdXJhdGlvbiBpbiBzZWNvbmRzLgogICAgLy8vIEBwYXJhbSBfc2VsbGVyIC0gU2VsbGVyIGFkZHJlc3MKICAgIGZ1bmN0aW9uIF9jcmVhdGVBdWN0aW9uKAogICAgICAgIHVpbnQyNTYgX3R1bGlwSWQsCiAgICAgICAgdWludDI1NiBfc3RhcnRpbmdQcmljZSwKICAgICAgICB1aW50MjU2IF9lbmRpbmdQcmljZSwKICAgICAgICB1aW50MjU2IF9kdXJhdGlvbiwKICAgICAgICBhZGRyZXNzIF9zZWxsZXIKICAgICkKICAgICAgICBpbnRlcm5hbAogICAgewoKICAgICAgICBBdWN0aW9uIG1lbW9yeSBhdWN0aW9uID0gQXVjdGlvbigKICAgICAgICAgICAgX3NlbGxlciwKICAgICAgICAgICAgdWludDEyOChfc3RhcnRpbmdQcmljZSksCiAgICAgICAgICAgIHVpbnQxMjgoX2VuZGluZ1ByaWNlKSwKICAgICAgICAgICAgdWludDY0KF9kdXJhdGlvbiksCiAgICAgICAgICAgIHVpbnQ2NChub3cpCiAgICAgICAgKTsKCiAgICAgICAgdG9rZW5JZFRvQXVjdGlvbltfdHVsaXBJZF0gPSBhdWN0aW9uOwoKICAgICAgICBBdWN0aW9uQ3JlYXRlZCgKICAgICAgICAgICAgdWludDI1NihfdHVsaXBJZCksCiAgICAgICAgICAgIHVpbnQyNTYoYXVjdGlvbi5zdGFydGluZ1ByaWNlKSwKICAgICAgICAgICAgdWludDI1NihhdWN0aW9uLmVuZGluZ1ByaWNlKSwKICAgICAgICAgICAgdWludDI1NihhdWN0aW9uLmR1cmF0aW9uKQogICAgICAgICk7CiAgICB9CgoKICAgIC8qCiAgICAqIEBkZXYgQ2FuY2VsIGF1Y3Rpb24gYW5kIHJldHVybiB0dWxpcCB0byBvcmlnaW5hbCBvd25lci4KICAgICogQHBhcmFtIF90dWxpcElkIC0gSUQgb2YgdGhlIHR1bGlwIG9uIGF1Y3Rpb24KICAgICovCiAgICBmdW5jdGlvbiBjYW5jZWxBdWN0aW9uKHVpbnQyNTYgX3R1bGlwSWQpCiAgICAgICAgZXh0ZXJuYWwKICAgIHsKICAgICAgICBBdWN0aW9uIHN0b3JhZ2UgYXVjdGlvbiA9IHRva2VuSWRUb0F1Y3Rpb25bX3R1bGlwSWRdOwogICAgICAgIHJlcXVpcmUoYXVjdGlvbi5zdGFydGVkQXQgPiAwKTsKCiAgICAgICAgLy8gT25seSBzZWxsZXIgY2FuIGNhbGwgdGhpcyBmdW5jdGlvbgogICAgICAgIGFkZHJlc3Mgc2VsbGVyID0gYXVjdGlvbi5zZWxsZXI7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHNlbGxlcik7CgogICAgICAgIC8vIFJldHVybiB0aGUgdHVsaXAgdG8gdGhlIG93bmVyCiAgICAgICAgY29yZUNvbnRyYWN0LnRyYW5zZmVyKHNlbGxlciwgX3R1bGlwSWQpOwoKICAgICAgICAvLyBSZW1vdmUgYXVjdGlvbiBmcm9tIHN0b3JhZ2UKICAgICAgICBkZWxldGUgdG9rZW5JZFRvQXVjdGlvbltfdHVsaXBJZF07CgogICAgICAgIEF1Y3Rpb25DYW5jZWxsZWQoX3R1bGlwSWQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGJ1eSh1aW50MjU2IF90dWxpcElkKQogICAgICAgIGV4dGVybmFsCiAgICAgICAgcGF5YWJsZQogICAgICAgIHdoZW5Ob3RQYXVzZWQKICAgIHsKICAgICAgICBBdWN0aW9uIHN0b3JhZ2UgYXVjdGlvbiA9IHRva2VuSWRUb0F1Y3Rpb25bX3R1bGlwSWRdOwoKICAgICAgICByZXF1aXJlKGF1Y3Rpb24uc3RhcnRlZEF0ID4gMCk7CgogICAgICAgIHVpbnQyNTYgcHJpY2UgPSBfY3VycmVudFByaWNlKGF1Y3Rpb24pOwogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IHByaWNlKTsKCiAgICAgICAgYWRkcmVzcyBzZWxsZXIgPSBhdWN0aW9uLnNlbGxlcjsKCiAgICAgICAgZGVsZXRlIHRva2VuSWRUb0F1Y3Rpb25bX3R1bGlwSWRdOwoKICAgICAgICAvLyBXZSBkb24ndCBjYWxjdWxhdGUgYXVjdGlvbmVlcnMgaWYgdGhlIHNlbGxlciBpcyB1cy4KICAgICAgICBpZiAocHJpY2UgPiAwICYmIHNlbGxlciAhPSBhZGRyZXNzKHRoaXMpKSB7CiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgYXVjdGlvbmVlcidzIGN1dC4KICAgICAgICAgICAgdWludDI1NiBhdWN0aW9uZWVyQ3V0ID0gX2NvbXB1dGVDdXQocHJpY2UpOwogICAgICAgICAgICB1aW50MjU2IHNlbGxlckdhaW5zID0gcHJpY2UgLSBhdWN0aW9uZWVyQ3V0OwoKICAgICAgICAgICAgc2VsbGVyLnRyYW5zZmVyKHNlbGxlckdhaW5zKTsKICAgICAgICB9CgogICAgICAgIHVpbnQyNTYgYmlkRXhjZXNzID0gbXNnLnZhbHVlIC0gcHJpY2U7CgogICAgICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoYmlkRXhjZXNzKTsKCiAgICAgICAgY29yZUNvbnRyYWN0LnRyYW5zZmVyKG1zZy5zZW5kZXIsIF90dWxpcElkKTsKCiAgICAgICAgQXVjdGlvblN1Y2Nlc3NmdWwoX3R1bGlwSWQsIHByaWNlLCBtc2cuc2VuZGVyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZWNvbmRzUGFzc2VkKHVpbnQyNTYgX3R1bGlwSWQgKWV4dGVybmFsIHZpZXcKICAgICAgIHJldHVybnMgKHVpbnQyNTYpCiAgICB7CiAgICAgICAgQXVjdGlvbiBzdG9yYWdlIGF1Y3Rpb24gPSB0b2tlbklkVG9BdWN0aW9uW190dWxpcElkXTsKCiAgICAgICAgdWludDI1NiBzZWNvbmRzUGFzc2VkID0gMDsKCiAgICAgICAgaWYgKG5vdyA+IGF1Y3Rpb24uc3RhcnRlZEF0KSB7CiAgICAgICAgICAgIHNlY29uZHNQYXNzZWQgPSBub3cgLSBhdWN0aW9uLnN0YXJ0ZWRBdDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBzZWNvbmRzUGFzc2VkOwogICAgfQoKICAgIGZ1bmN0aW9uIGN1cnJlbnRQcmljZSh1aW50MjU2IF90dWxpcElkKSBleHRlcm5hbCB2aWV3CiAgICAgICAgcmV0dXJucyAodWludDI1NikKICAgIHsKICAgICAgICBBdWN0aW9uIHN0b3JhZ2UgYXVjdGlvbiA9IHRva2VuSWRUb0F1Y3Rpb25bX3R1bGlwSWRdOwoKICAgICAgICByZXF1aXJlKGF1Y3Rpb24uc3RhcnRlZEF0ID4gMCk7CgogICAgICAgIHJldHVybiBfY3VycmVudFByaWNlKGF1Y3Rpb24pOwogICAgfQoKICAgIGZ1bmN0aW9uIF9jdXJyZW50UHJpY2UoQXVjdGlvbiBzdG9yYWdlIF9hdWN0aW9uKQogICAgICAgIGludGVybmFsCiAgICAgICAgdmlldwogICAgICAgIHJldHVybnMgKHVpbnQyNTYpCiAgICB7CiAgICAgICAgdWludDI1NiBzZWNvbmRzUGFzc2VkID0gMDsKCiAgICAgICAgaWYgKG5vdyA+IF9hdWN0aW9uLnN0YXJ0ZWRBdCkgewogICAgICAgICAgICBzZWNvbmRzUGFzc2VkID0gbm93IC0gX2F1Y3Rpb24uc3RhcnRlZEF0OwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIF9jb21wdXRlQ3VycmVudFByaWNlKAogICAgICAgICAgICBfYXVjdGlvbi5zdGFydGluZ1ByaWNlLAogICAgICAgICAgICBfYXVjdGlvbi5lbmRpbmdQcmljZSwKICAgICAgICAgICAgX2F1Y3Rpb24uZHVyYXRpb24sCiAgICAgICAgICAgIHNlY29uZHNQYXNzZWQKICAgICAgICApOwogICAgfQoKICAgIGZ1bmN0aW9uIF9jb21wdXRlQ3VycmVudFByaWNlKAogICAgICAgIHVpbnQyNTYgX3N0YXJ0aW5nUHJpY2UsCiAgICAgICAgdWludDI1NiBfZW5kaW5nUHJpY2UsCiAgICAgICAgdWludDI1NiBfZHVyYXRpb24sCiAgICAgICAgdWludDI1NiBfc2Vjb25kc1Bhc3NlZAogICAgKQogICAgICAgIGludGVybmFsCiAgICAgICAgcHVyZQogICAgICAgIHJldHVybnMgKHVpbnQyNTYpCiAgICB7CiAgICAgICAgaWYgKF9zZWNvbmRzUGFzc2VkID49IF9kdXJhdGlvbikgewogICAgICAgICAgICByZXR1cm4gX2VuZGluZ1ByaWNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGludDI1NiB0b3RhbFByaWNlQ2hhbmdlID0gaW50MjU2KF9lbmRpbmdQcmljZSkgLSBpbnQyNTYoX3N0YXJ0aW5nUHJpY2UpOwoKICAgICAgICAgICAgaW50MjU2IGN1cnJlbnRQcmljZUNoYW5nZSA9IHRvdGFsUHJpY2VDaGFuZ2UgKiBpbnQyNTYoX3NlY29uZHNQYXNzZWQpIC8gaW50MjU2KF9kdXJhdGlvbik7CgogICAgICAgICAgICBpbnQyNTYgY3VycmVudFByaWNlID0gaW50MjU2KF9zdGFydGluZ1ByaWNlKSArIGN1cnJlbnRQcmljZUNoYW5nZTsKCiAgICAgICAgICAgIHJldHVybiB1aW50MjU2KGN1cnJlbnRQcmljZSk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIF9jb21wdXRlQ3V0KHVpbnQyNTYgX3ByaWNlKSBpbnRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXR1cm4gX3ByaWNlICogb3duZXJDdXQgLyAxMDAwMDsKICAgIH0KCn0='.
	

]
