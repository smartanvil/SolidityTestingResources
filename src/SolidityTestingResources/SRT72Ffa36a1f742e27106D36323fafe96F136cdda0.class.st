Class {
	#name : #SRT72Ffa36a1f742e27106D36323fafe96F136cdda0,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT72Ffa36a1f742e27106D36323fafe96F136cdda0 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcwogKi8KY29udHJhY3QgU2FmZU1hdGggewogICAgZnVuY3Rpb24gc2FmZU11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSAqIGI7CiAgICAgICAgcmVxdWlyZShhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZURpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmVxdWlyZShiID4gMCk7CiAgICAgICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAgICAgcmVxdWlyZShhID09IGIgKiBjICsgYSAlIGIpOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGZ1bmN0aW9uIHNhZmVTdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHJlcXVpcmUoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9CgogICAgZnVuY3Rpb24gc2FmZUFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgcmVxdWlyZShjPj1hICYmIGM+PWIpOwogICAgICAgIHJldHVybiBjOwogICAgfQp9CgoKLyoqCiAqIEB0aXRsZSBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMCB7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgX2JhbGFuY2UpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBfYWxsb3dhbmNlKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgX3N1Y2Nlcyk7CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBfc3VjY2VzKTsKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIF9zdWNjZXMpOwogICAgCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwp9CgoKLyoqCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBAZGV2IEltcGxlbWVudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFyZCB0b2tlbi4KICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIFNhZmVNYXRoIHsKICAgIAogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZU9mOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dhbmNlOyAKICAgIAogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nil7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VPZltfb3duZXJdOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KXsKICAgICAgICByZXR1cm4gYWxsb3dhbmNlW19vd25lcl1bX3NwZW5kZXJdOwogICAgfQogICAgCiAgICAvKioKICAgICogRml4IGZvciB0aGUgRVJDMjAgc2hvcnQgYWRkcmVzcyBhdHRhY2sKICAgICoKICAgICogaHR0cDovL3Zlc3NlbmVzLmNvbS90aGUtZXJjMjAtc2hvcnQtYWRkcmVzcy1hdHRhY2stZXhwbGFpbmVkLwogICAgKi8KICAgIG1vZGlmaWVyIG9ubHlQYXlsb2FkU2l6ZSh1aW50IHNpemUpIHsKICAgICAgICByZXF1aXJlKCEobXNnLmRhdGEubGVuZ3RoIDwgc2l6ZSArIDQpKTsKICAgICAgICBfOwogICAgfQogICAgCiAgICAvKgogICAgICogSW50ZXJuYWwgdHJhbnNmZXIgd2l0aCBzZWN1cml0eSBjaGVja3MsIAogICAgICogb25seSBjYW4gYmUgY2FsbGVkIGJ5IHRoaXMgY29udHJhY3QKICAgICAqLwogICAgZnVuY3Rpb24gc2FmZVRyYW5zZmVyKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgaW50ZXJuYWwgewogICAgICAgICAgICAvLyBQcmV2ZW50IHRyYW5zZmVyIHRvIDB4MCBhZGRyZXNzLgogICAgICAgICAgICByZXF1aXJlKF90byAhPSAweDApOwogICAgICAgICAgICAvLyBQcmV2ZW50IHRyYW5zZmVyIHRvIHRoaXMgY29udHJhY3QKICAgICAgICAgICAgcmVxdWlyZShfdG8gIT0gYWRkcmVzcyh0aGlzKSk7CiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGVub3VnaCBhbmQgc3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyIGJ5IHVzaW5nIHNhZmVTdWIKICAgICAgICAgICAgYmFsYW5jZU9mW19mcm9tXSA9IHNhZmVTdWIoYmFsYW5jZU9mW19mcm9tXSwgX3ZhbHVlKTsKICAgICAgICAgICAgLy8gY2hlY2sgZm9yIG92ZXJmbG93cyBhbmQgYWRkIHRoZSBzYW1lIHZhbHVlIHRvIHRoZSByZWNpcGllbnQgYnkgdXNpbmcgc2FmZUFkZAogICAgICAgICAgICBiYWxhbmNlT2ZbX3RvXSA9IHNhZmVBZGQoYmFsYW5jZU9mW190b10sIF92YWx1ZSk7CiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IFNlbmQgYF92YWx1ZWAgdG9rZW5zIHRvIGBfdG9gIGZyb20geW91ciBhY2NvdW50CiAgICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgICAqIEBwYXJhbSBfdmFsdWUgdWludCB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMiAqIDMyKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHNhZmVUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAgICogQHBhcmFtIF92YWx1ZSB1aW50IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBvbmx5UGF5bG9hZFNpemUoMyAqIDMyKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHVpbnQyNTYgX2FsbG93YW5jZSA9IGFsbG93YW5jZVtfZnJvbV1bbXNnLnNlbmRlcl07CiAgICAgICAgCiAgICAgICAgLy8gQ2hlY2sgKF92YWx1ZSA+IF9hbGxvd2FuY2UpIGlzIGFscmVhZHkgZG9uZSBpbiBzYWZlU3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdID0gc2FmZVN1YihfYWxsb3dhbmNlLCBfdmFsdWUpOwogICAgICAgIHNhZmVUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBBcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgICAgICAvLyBhbGxvd2FuY2UgdG8gemVybyBieSBjYWxsaW5nIGBhcHByb3ZlKF9zcGVuZGVyLCAwKWAgaWYgaXQgaXMgbm90CiAgICAgICAgLy8gYWxyZWFkeSAwIHRvIG1pdGlnYXRlIHRoZSByYWNlIGNvbmRpdGlvbiBkZXNjcmliZWQgaGVyZToKICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9PSAwKSk7CiAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKLyoqCiAqIFVwZ3JhZGUgYWdlbnQgaW50ZXJmYWNlIGluc3BpcmVkIGJ5IEx1bnlyLgogKiAKICogVXBncmFkZSBhZ2VudCB0cmFuc2ZlcnMgdG9rZW5zIHRvIGEgbmV3IGNvbnRyYWN0LgogKiBVcGdyYWRlIGFnZW50IGl0c2VsZiBjYW4gYmUgdGhlIHRva2VuIGNvbnRyYWN0LCBvciBqdXN0IGEgbWlkZGxlIG1hbiBjb250cmFjdCAKICogZG9pbmcgdGhlIGhlYXZ5IGxpZnRpbmcuCiAqLwpjb250cmFjdCBVcGdyYWRlQWdlbnQgewoKICAgIHVpbnQyNTYgcHVibGljIG9yaWdpbmFsU3VwcGx5OwoKICAgIC8qKiBJbnRlcmZhY2UgbWFya2VyICovCiAgICBmdW5jdGlvbiBpc1VwZ3JhZGVBZ2VudCgpIHB1YmxpYyBwdXJlIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB1cGdyYWRlRnJvbShhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSkgcHVibGljOwp9CgovKioKICogQSB0b2tlbiB1cGdyYWRlIG1lY2hhbmlzbSB3aGVyZSB1c2VycyBjYW4gb3B0LWluIGFtb3VudCBvZiB0b2tlbnMgdG8gdGhlIG5leHQgCiAqIHNtYXJ0IGNvbnRyYWN0IHJldmlzaW9uLgogKgogKiBGaXJzdCBlbnZpc2lvbmVkIGJ5IEdvbGVtIGFuZCBMdW55ciBwcm9qZWN0cy4KICoKICovCmNvbnRyYWN0IFVwZ3JhZGVhYmxlVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiB7CgogICAgLyoqCiAgICAgKiBDb250cmFjdCAvIHBlcnNvbiB3aG8gY2FuIHNldCB0aGUgdXBncmFkZSBwYXRoLiAKICAgICAqIFRoaXMgY2FuIGJlIHRoZSBzYW1lIGFzIHRlYW0gbXVsdGlzaWcgd2FsbGV0LCBhcyB3aGF0IGl0IGlzIHdpdGggaXRzIGRlZmF1bHQgdmFsdWUuIAogICAgICovCiAgICBhZGRyZXNzIHB1YmxpYyB1cGdyYWRlTWFzdGVyOwoKICAgIC8qKiBUaGUgbmV4dCBjb250cmFjdCB3aGVyZSB0aGUgdG9rZW5zIHdpbGwgYmUgbWlncmF0ZWQuICovCiAgICBVcGdyYWRlQWdlbnQgcHVibGljIHVwZ3JhZGVBZ2VudDsKCiAgICAvKiogSG93IG1hbnkgdG9rZW5zIHdlIGhhdmUgdXBncmFkZWQgYnkgbm93LiAqLwogICAgdWludDI1NiBwdWJsaWMgdG90YWxVcGdyYWRlZDsKICAgIAogICAgLyoqCiAgICAgKiBVcGdyYWRlIHN0YXRlcy4KICAgICAqCiAgICAgKiAtIE5vdEFsbG93ZWQ6IFRoZSBjaGlsZCBjb250cmFjdCBoYXMgbm90IHJlYWNoZWQgYSBjb25kaXRpb24gd2hlcmUgdGhlIHVwZ3JhZGUgY2FuIGJndW4KICAgICAqIC0gV2FpdGluZ0ZvckFnZW50OiBUb2tlbiBhbGxvd3MgdXBncmFkZSwgYnV0IHdlIGRvbid0IGhhdmUgYSBuZXcgYWdlbnQgeWV0CiAgICAgKiAtIFJlYWR5VG9VcGdyYWRlOiBUaGUgYWdlbnQgaXMgc2V0LCBidXQgbm90IGEgc2luZ2xlIHRva2VuIGhhcyBiZWVuIHVwZ3JhZGVkIHlldAogICAgICogLSBVcGdyYWRpbmc6IFVwZ3JhZGUgYWdlbnQgaXMgc2V0IGFuZCB0aGUgYmFsYW5jZSBob2xkZXJzIGNhbiB1cGdyYWRlIHRoZWlyIHRva2VucwogICAgICoKICAgICAqLwogICAgZW51bSBVcGdyYWRlU3RhdGUge1Vua25vd24sIE5vdEFsbG93ZWQsIFdhaXRpbmdGb3JBZ2VudCwgUmVhZHlUb1VwZ3JhZGUsIFVwZ3JhZGluZ30KCiAgICAvKioKICAgICAqIFNvbWVib2R5IGhhcyB1cGdyYWRlZCBzb21lIG9mIGhpcyB0b2tlbnMuCiAgICAgKi8KICAgIGV2ZW50IFVwZ3JhZGUoYWRkcmVzcyBpbmRleGVkIF9mcm9tLCBhZGRyZXNzIGluZGV4ZWQgX3RvLCB1aW50MjU2IF92YWx1ZSk7CgogICAgLyoqCiAgICAgKiBOZXcgdXBncmFkZSBhZ2VudCBhdmFpbGFibGUuCiAgICAgKi8KICAgIGV2ZW50IFVwZ3JhZGVBZ2VudFNldChhZGRyZXNzIGFnZW50KTsKCiAgICAvKioKICAgICAqIERvIG5vdCBhbGxvdyBjb25zdHJ1Y3Rpb24gd2l0aG91dCB1cGdyYWRlIG1hc3RlciBzZXQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIFVwZ3JhZGVhYmxlVG9rZW4oYWRkcmVzcyBfdXBncmFkZU1hc3RlcikgcHVibGljIHsKICAgICAgICB1cGdyYWRlTWFzdGVyID0gX3VwZ3JhZGVNYXN0ZXI7CiAgICB9CgogICAgLyoqCiAgICAgKiBBbGxvdyB0aGUgdG9rZW4gaG9sZGVyIHRvIHVwZ3JhZGUgc29tZSBvZiB0aGVpciB0b2tlbnMgdG8gYSBuZXcgY29udHJhY3QuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHVwZ3JhZGUodWludDI1NiB2YWx1ZSkgcHVibGljIHsKCiAgICAgICAgVXBncmFkZVN0YXRlIHN0YXRlID0gZ2V0VXBncmFkZVN0YXRlKCk7CiAgICAgICAgLy8gYmFkIHN0YXRlIG5vdCBhbGxvd2VkCiAgICAgICAgcmVxdWlyZShzdGF0ZSA9PSBVcGdyYWRlU3RhdGUuUmVhZHlUb1VwZ3JhZGUgfHwgc3RhdGUgPT0gVXBncmFkZVN0YXRlLlVwZ3JhZGluZyk7CgogICAgICAgIC8vIFZhbGlkYXRlIGlucHV0IHZhbHVlLgogICAgICAgIHJlcXVpcmUodmFsdWUgIT0gMCk7CgogICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSA9IHNhZmVTdWIoYmFsYW5jZU9mW21zZy5zZW5kZXJdLCB2YWx1ZSk7CgogICAgICAgIC8vIFRha2UgdG9rZW5zIG91dCBmcm9tIGNpcmN1bGF0aW9uCiAgICAgICAgdG90YWxTdXBwbHkgPSBzYWZlU3ViKHRvdGFsU3VwcGx5LCB2YWx1ZSk7CiAgICAgICAgdG90YWxVcGdyYWRlZCA9IHNhZmVBZGQodG90YWxVcGdyYWRlZCwgdmFsdWUpOwoKICAgICAgICAvLyBVcGdyYWRlIGFnZW50IHJlaXNzdWVzIHRoZSB0b2tlbnMKICAgICAgICB1cGdyYWRlQWdlbnQudXBncmFkZUZyb20obXNnLnNlbmRlciwgdmFsdWUpOwogICAgICAgIFVwZ3JhZGUobXNnLnNlbmRlciwgdXBncmFkZUFnZW50LCB2YWx1ZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgYW4gdXBncmFkZSBhZ2VudCB0aGF0IGhhbmRsZXMKICAgICAqLwogICAgZnVuY3Rpb24gc2V0VXBncmFkZUFnZW50KGFkZHJlc3MgYWdlbnQpIGV4dGVybmFsIHsKCiAgICAgICAgcmVxdWlyZShjYW5VcGdyYWRlKCkpOwogICAgICAgIHJlcXVpcmUoYWdlbnQgIT0gMHgwKTsKICAgICAgICAvLyBPbmx5IGEgbWFzdGVyIGNhbiBkZXNpZ25hdGUgdGhlIG5leHQgYWdlbnQKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gdXBncmFkZU1hc3Rlcik7CiAgICAgICAgLy8gVXBncmFkZSBoYXMgYWxyZWFkeSBiZWd1biBmb3IgYW4gYWdlbnQKICAgICAgICByZXF1aXJlKGdldFVwZ3JhZGVTdGF0ZSgpICE9IFVwZ3JhZGVTdGF0ZS5VcGdyYWRpbmcpOwoKICAgICAgICB1cGdyYWRlQWdlbnQgPSBVcGdyYWRlQWdlbnQoYWdlbnQpOwoKICAgICAgICAvLyBCYWQgaW50ZXJmYWNlCiAgICAgICAgcmVxdWlyZSh1cGdyYWRlQWdlbnQuaXNVcGdyYWRlQWdlbnQoKSk7CiAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdG9rZW4gc3VwcGxpZXMgbWF0Y2ggaW4gc291cmNlIGFuZCB0YXJnZXQKICAgICAgICByZXF1aXJlKHVwZ3JhZGVBZ2VudC5vcmlnaW5hbFN1cHBseSgpID09IHRvdGFsU3VwcGx5KTsKCiAgICAgICAgVXBncmFkZUFnZW50U2V0KHVwZ3JhZGVBZ2VudCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgdGhlIHN0YXRlIG9mIHRoZSB0b2tlbiB1cGdyYWRlLgogICAgICovCiAgICBmdW5jdGlvbiBnZXRVcGdyYWRlU3RhdGUoKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAoVXBncmFkZVN0YXRlKSB7CiAgICAgICAgaWYoIWNhblVwZ3JhZGUoKSkgcmV0dXJuIFVwZ3JhZGVTdGF0ZS5Ob3RBbGxvd2VkOwogICAgICAgIGVsc2UgaWYoYWRkcmVzcyh1cGdyYWRlQWdlbnQpID09IDB4MDApIHJldHVybiBVcGdyYWRlU3RhdGUuV2FpdGluZ0ZvckFnZW50OwogICAgICAgIGVsc2UgaWYodG90YWxVcGdyYWRlZCA9PSAwKSByZXR1cm4gVXBncmFkZVN0YXRlLlJlYWR5VG9VcGdyYWRlOwogICAgICAgIGVsc2UgcmV0dXJuIFVwZ3JhZGVTdGF0ZS5VcGdyYWRpbmc7CiAgICB9CgogICAgLyoqCiAgICAgKiBDaGFuZ2UgdGhlIHVwZ3JhZGUgbWFzdGVyLgogICAgICoKICAgICAqIFRoaXMgYWxsb3dzIHVzIHRvIHNldCBhIG5ldyBvd25lciBmb3IgdGhlIHVwZ3JhZGUgbWVjaGFuaXNtLgogICAgICovCiAgICBmdW5jdGlvbiBzZXRVcGdyYWRlTWFzdGVyKGFkZHJlc3MgbWFzdGVyKSBwdWJsaWMgewogICAgICAgIHJlcXVpcmUobWFzdGVyICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHVwZ3JhZGVNYXN0ZXIpOwogICAgICAgIHVwZ3JhZGVNYXN0ZXIgPSBtYXN0ZXI7CiAgICB9CgogICAgLyoqCiAgICAgKiBDaGlsZCBjb250cmFjdCBjYW4gZW5hYmxlIHRvIHByb3ZpZGUgdGhlIGNvbmRpdGlvbiB3aGVuIHRoZSB1cGdyYWRlIGNhbiBiZWd1bi4KICAgICAqLwogICAgZnVuY3Rpb24gY2FuVXBncmFkZSgpIHB1YmxpYyBwdXJlIHJldHVybnMgKGJvb2wpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IE93bmFibGUgY29udHJhY3Qgd2l0aCB0d28gb3duZXIgYWRkcmVzc2VzCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyT25lOwogICAgYWRkcmVzcyBwdWJsaWMgb3duZXJUd287CgogICAgLyoqCiAgICAgKiBAZGV2IFRoZSBPd25hYmxlIGNvbnN0cnVjdG9yIHNldHMgb25lIG9mIHRoZSBvd25lcnMgb2YgdGhlIGNvbnRyYWN0IHRvIHRoZSBzZW5kZXIKICAgICAqIGFjY291bnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgICAgIG93bmVyT25lID0gbXNnLnNlbmRlcjsKICAgICAgICBvd25lclR3byA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IENhbiBvbmx5IGJlIGNhbGxlZCBieSB0aGUgb3duZXJzLgogICAgICovCiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lck9uZSB8fCBtc2cuc2VuZGVyID09IG93bmVyVHdvKTsKICAgICAgICBfOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBBbGxvd3MgdGhlIGN1cnJlbnQgb3duZXJzIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3IG93bmVyLgogICAgICogQHBhcmFtIG5ld093bmVyIFRoZSBhZGRyZXNzIHRvIHRyYW5zZmVyIG93bmVyc2hpcCB0by4KICAgICAqIEBwYXJhbSByZXBsYWNlT3duZXJPbmUgUmVwbGFjZSAnb3duZXJPbmUnPwogICAgICogQHBhcmFtIHJlcGxhY2VPd25lclR3byBSZXBsYWNlICdvd25lclR3byc/CiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIsIGJvb2wgcmVwbGFjZU93bmVyT25lLCBib29sIHJlcGxhY2VPd25lclR3bykgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShuZXdPd25lciAhPSAweDApOwogICAgICAgIHJlcXVpcmUocmVwbGFjZU93bmVyT25lIHx8IHJlcGxhY2VPd25lclR3byk7CiAgICAgICAgaWYocmVwbGFjZU93bmVyT25lKSBvd25lck9uZSA9IG5ld093bmVyOwogICAgICAgIGlmKHJlcGxhY2VPd25lclR3bykgb3duZXJUd28gPSBuZXdPd25lcjsKICAgIH0KfQoKCi8qKgogKiBAdGl0bGUgUGF1c2FibGUKICogQGRldiBBbGxvd3MgYW4gZW1lcmdlbmN5IHN0b3AgbWVjaGFuaXNtLgogKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9ibG9iL21hc3Rlci9jb250cmFjdHMvbGlmZWN5Y2xlL1BhdXNhYmxlLnNvbAogKi8KY29udHJhY3QgUGF1c2FibGUgaXMgT3duYWJsZSB7CiAgICBldmVudCBQYXVzZSgpOwogICAgZXZlbnQgVW5wYXVzZSgpOwoKICAgIGJvb2wgcHVibGljIHBhdXNlZCA9IGZhbHNlOwoKICAgIC8qKgogICAgICogQGRldiBtb2RpZmllciB0byBhbGxvdyBhY3Rpb25zIG9ubHkgd2hlbiB0aGUgY29udHJhY3QgSVMgcGF1c2VkCiAgICAgKi8KICAgIG1vZGlmaWVyIHdoZW5Ob3RQYXVzZWQgewogICAgICAgIHJlcXVpcmUoIXBhdXNlZCk7CiAgICAgICAgXzsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgbW9kaWZpZXIgdG8gYWxsb3cgYWN0aW9ucyBvbmx5IHdoZW4gdGhlIGNvbnRyYWN0IElTIE5PVCBwYXVzZWQKICAgICAqLwogICAgbW9kaWZpZXIgd2hlblBhdXNlZCB7CiAgICAgICAgcmVxdWlyZShwYXVzZWQpOwogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gcGF1c2UsIHRyaWdnZXJzIHN0b3BwZWQgc3RhdGUKICAgICAqLwogICAgZnVuY3Rpb24gcGF1c2UoKSBvbmx5T3duZXIgd2hlbk5vdFBhdXNlZCBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHBhdXNlZCA9IHRydWU7CiAgICAgICAgUGF1c2UoKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byB1bnBhdXNlLCByZXR1cm5zIHRvIG5vcm1hbCBzdGF0ZQogICAgICovCiAgICBmdW5jdGlvbiB1bnBhdXNlKCkgb25seU93bmVyIHdoZW5QYXVzZWQgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBwYXVzZWQgPSBmYWxzZTsKICAgICAgICBVbnBhdXNlKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0KCi8qKgogKiBAdGl0bGUgUGF1c2FibGVUb2tlbgogKiBAZGV2IFN0YW5kYXJkVG9rZW4gd2l0aCBwYXVzYWJsZSB0cmFuc2ZlcnMKICovCmNvbnRyYWN0IFBhdXNhYmxlVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiwgUGF1c2FibGUgewogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSB3aGVuTm90UGF1c2VkIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgc3VwZXIudHJhbnNmZXIoX3RvLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHdoZW5Ob3RQYXVzZWQgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgICAgICBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKCi8qKgogKiBAdGl0bGUgUHVyY2hhc2FibGVUb2tlbgogKiBAZGV2IEFsbG93cyBidXlpbmcgSVBDIHRva2VuIGZyb20gdGhpcyBjb250cmFjdAogKi8KY29udHJhY3QgUHVyY2hhc2FibGVUb2tlbiBpcyBQYXVzYWJsZVRva2VuIHsKICAgIGV2ZW50IFB1cmNoYXNlVW5sb2NrZWQoKTsKICAgIGV2ZW50IFB1cmNoYXNlTG9ja2VkKCk7CiAgICBldmVudCBVcGRhdGVkRXhjaGFuZ2VSYXRlKHVpbnQyNTYgbmV3UHJpY2UpOwogICAgZXZlbnQgUHVyY2hhc2UoYWRkcmVzcyBidXllciwgdWludDI1NiBldGhlckFtb3VudCwgdWludDI1NiB0b2tlbkFtb3VudCk7CiAgICAKICAgIGJvb2wgcHVibGljIHB1cmNoYXNhYmxlID0gZmFsc2U7CiAgICAvLyBtaW5pbXVtIGFtb3VudCBvZiBldGhlciB5b3UgaGF2ZSB0byBzcGVuZCB0byBidXkgc29tZSB0b2tlbnMKICAgIHVpbnQyNTYgcHVibGljIG1pbmltdW1FdGhlckFtb3VudDsKICAgIGFkZHJlc3MgcHVibGljIHZlbmRvcldhbGxldDsKICAgIHVpbnQyNTYgcHVibGljIGV4Y2hhbmdlUmF0ZTsgLy8gJ2V4Y2hhbmdlUmF0ZScgdG9rZW5zID0gMSBldGhlcgogICAgCiAgICAvKiogQGRldiBtb2RpZmllciB0byBhbGxvdyB0b2tlbiBwdXJjaGFzZSBvbmx5IHdoZW4gcHVyY2hhc2UgaXMgdW5sb2NrZWQgYW5kIHJhdGUgPiAwICovCiAgICBtb2RpZmllciBpc1B1cmNoYXNhYmxlIHsKICAgICAgICByZXF1aXJlKHB1cmNoYXNhYmxlICYmIGV4Y2hhbmdlUmF0ZSA+IDAgJiYgbWluaW11bUV0aGVyQW1vdW50ID4gMCk7CiAgICAgICAgXzsKICAgIH0KICAgIAogICAgLyoqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byBsb2NrIHB1cmNoYXNlIG9mIGlwYyB0b2tlbiAqLwogICAgZnVuY3Rpb24gbG9ja1B1cmNoYXNlKCkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShwdXJjaGFzYWJsZSA9PSB0cnVlKTsKICAgICAgICBwdXJjaGFzYWJsZSA9IGZhbHNlOwogICAgICAgIFB1cmNoYXNlTG9ja2VkKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIC8qKiBAZGV2IGNhbGxlZCBieSB0aGUgb3duZXIgdG8gcmVsZWFzZSBwdXJjaGFzZSBvZiBpcGMgdG9rZW4gKi8KICAgIGZ1bmN0aW9uIHVubG9ja1B1cmNoYXNlKCkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShwdXJjaGFzYWJsZSA9PSBmYWxzZSk7CiAgICAgICAgcHVyY2hhc2FibGUgPSB0cnVlOwogICAgICAgIFB1cmNoYXNlVW5sb2NrZWQoKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKiogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHNldCBhIG5ldyByYXRlICovCiAgICBmdW5jdGlvbiBzZXRFeGNoYW5nZVJhdGUodWludDI1NiBuZXdFeGNoYW5nZVJhdGUpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUobmV3RXhjaGFuZ2VSYXRlID4gMCk7CiAgICAgICAgZXhjaGFuZ2VSYXRlID0gbmV3RXhjaGFuZ2VSYXRlOwogICAgICAgIFVwZGF0ZWRFeGNoYW5nZVJhdGUobmV3RXhjaGFuZ2VSYXRlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgLyoqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byBzZXQgdGhlIG1pbmltdW0gZXRoZXIgYW1vdW50IHRvIGJ1eSBzb21lIHRva2VuICovCiAgICBmdW5jdGlvbiBzZXRNaW5pbXVtRXRoZXJBbW91bnQodWludDI1NiBuZXdNaW5pbXVtRXRoZXJBbW91bnQpIG9ubHlPd25lciBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUobmV3TWluaW11bUV0aGVyQW1vdW50ID4gMCk7CiAgICAgICAgbWluaW11bUV0aGVyQW1vdW50ID0gbmV3TWluaW11bUV0aGVyQW1vdW50OwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCiAgICAvKiogQGRldiBjYWxsZWQgYnkgdGhlIG93bmVyIHRvIHNldCBhIG5ldyB2ZW5kb3IgKi8KICAgIGZ1bmN0aW9uIHNldFZlbmRvcldhbGxldChhZGRyZXNzIG5ld1ZlbmRvcldhbGxldCkgb25seU93bmVyIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmVxdWlyZShuZXdWZW5kb3JXYWxsZXQgIT0gMHgwKTsKICAgICAgICB2ZW5kb3JXYWxsZXQgPSBuZXdWZW5kb3JXYWxsZXQ7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIC8qKiBAZGV2IGJ1eSBpcGMgdG9rZW4gYnkgc2VuZGluZyBhdCBsZWFzdCAnbWluaW11bUV0aGVyQW1vdW50JyAqLwogICAgZnVuY3Rpb24gYnV5SVBDKCkgcGF5YWJsZSBpc1B1cmNoYXNhYmxlIHdoZW5Ob3RQYXVzZWQgcHVibGljIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICByZXF1aXJlKG1zZy52YWx1ZSA+PSBtaW5pbXVtRXRoZXJBbW91bnQpOwogICAgICAgIHVpbnQyNTYgdG9rZW5BbW91bnQgPSBzYWZlTXVsKG1zZy52YWx1ZSwgZXhjaGFuZ2VSYXRlKTsKICAgICAgICB0b2tlbkFtb3VudCA9IHNhZmVEaXYodG9rZW5BbW91bnQsIDEgZXRoZXIpOwogICAgICAgIHJlcXVpcmUoYWxsb3dhbmNlW3ZlbmRvcldhbGxldF1bdGhpc10gPj0gdG9rZW5BbW91bnQpOwogICAgICAgIGJhbGFuY2VPZlttc2cuc2VuZGVyXSA9IHNhZmVBZGQoYmFsYW5jZU9mW21zZy5zZW5kZXJdLCB0b2tlbkFtb3VudCk7CiAgICAgICAgYmFsYW5jZU9mW3ZlbmRvcldhbGxldF0gPSBzYWZlU3ViKGJhbGFuY2VPZlt2ZW5kb3JXYWxsZXRdLCB0b2tlbkFtb3VudCk7CiAgICAgICAgUHVyY2hhc2UobXNnLnNlbmRlciwgbXNnLnZhbHVlLCB0b2tlbkFtb3VudCk7CiAgICAgICAgcmV0dXJuIHRva2VuQW1vdW50OwogICAgfQogICAgCiAgICBmdW5jdGlvbiAoKSBwYXlhYmxlIHB1YmxpYyB7CiAgICAgICAgYnV5SVBDKCk7CiAgICB9Cn0KCi8qKgogKiBAdGl0bGUgV2l0aGRyYXdhYmxlCiAqIEBkZXYgQ29udHJhY3QgYWxsb3dzIHRvIHdpdGhkcmF3IGV0aGVyIGFuZCBFUkMyMCB0b2tlbgogKi8KY29udHJhY3QgV2l0aGRyYXdhYmxlIGlzIE93bmFibGUgewogICAgCiAgICAvKiogQGRldiB3aXRoZHJhdyBFUkMyMCB0b2tlbiBmcm9tIHRoaXMgY29udHJhY3QgKi8KICAgIGZ1bmN0aW9uIHdpdGhkcmF3VG9rZW4oYWRkcmVzcyBiZW5lZmljaWFyeSwgYWRkcmVzcyBfdG9rZW4pIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIEVSQzIwIHRva2VuID0gRVJDMjAoX3Rva2VuKTsKICAgICAgICB1aW50MjU2IGFtb3VudCA9IHRva2VuLmJhbGFuY2VPZih0aGlzKTsKICAgICAgICByZXF1aXJlKGFtb3VudD4wKTsKICAgICAgICB0b2tlbi50cmFuc2ZlcihiZW5lZmljaWFyeSwgYW1vdW50KTsKICAgIH0KICAgIAogICAgLyoqIEBkZXYgY2FsbGVkIGJ5IHRoZSBvd25lciB0byB0cmFuc2ZlciAnZXRoZXJBbW91bnQnIHRvICdiZW5lZmljaWFyeScgKi8KICAgIGZ1bmN0aW9uIHdpdGhkcmF3RXRoZXIoYWRkcmVzcyBiZW5lZmljaWFyeSwgdWludDI1NiBldGhlckFtb3VudCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAgICAgYmVuZWZpY2lhcnkudHJhbnNmZXIoZXRoZXJBbW91bnQpOwogICAgfQp9CgoKLyoqCiAqIEB0aXRsZSBJUENUb2tlbgogKiBAZGV2IElQQyBUb2tlbiBjb250cmFjdAogKiBAYXV0aG9yIFBheXN1cmEgLSA8PGEgaHJlZj0iL2Nkbi1jZ2kvbC9lbWFpbC1wcm90ZWN0aW9uIiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9ImMzYTBhY2FkYjdhMmEwYjc4M2IzYTJiYWIwYjZiMWEyZWRhMGFjYWUiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L2E+PgogKi8KY29udHJhY3QgSVBDVG9rZW4gaXMgVXBncmFkZWFibGVUb2tlbiwgUHVyY2hhc2FibGVUb2tlbiwgV2l0aGRyYXdhYmxlIHsKCiAgICAvLyBQdWJsaWMgdmFyaWFibGVzIG9mIHRoZSB0b2tlbgogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIkludGVybmF0aW9uYWwgUGF5UmV3YXJkIENvaW4iOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2wgPSAiSVBDIjsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFscyA9IDEyOwogICAgLy8gRGlzdHJpYnV0aW9ucyBvZiB0aGUgdG90YWwgc3VwcGx5CiAgICAvLyAyNjQgbWlvIGZvciBjcm93ZHNhbGUKICAgIHVpbnQyNTYgcHVibGljIGNyID0gMjY0MDAwMDAwICogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKTsKICAgIC8vIDExMCBtaW8gcmVzZXJ2ZWQgZm9yIGNvbW11bml0eSAvIHJld2FyZCBwcm9ncmFtCiAgICB1aW50MjU2IHB1YmxpYyByZXcgPSAxMTAwMDAwMDAgKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpOwogICAgLy8gNjYgbWlvIGZvciBhZHZpc29ycyBhbmQgcGFydG5lcnMKICAgIHVpbnQyNTYgcHVibGljIGRldiA9IDY2MDAwMDAwICogKDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKTsKICAgIC8vIHRvdGFsIHN1cHBseSBvZiA0NDAgbWlvCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseSA9IGNyICsgZGV2ICsgcmV3OyAgICAKCiAgICBldmVudCBVcGRhdGVkVG9rZW5JbmZvcm1hdGlvbihzdHJpbmcgbmV3TmFtZSwgc3RyaW5nIG5ld1N5bWJvbCk7CiAgIAogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3RvciBvZiBpcGMgdG9rZW4KICAgICAqIAogICAgICogQHBhcmFtIGFkZHJlc3NPZkNyQmVuIGJlbmVmaWNpYXJ5IG9mIGNyb3dkc2FsZQogICAgICogQHBhcmFtIGFkZHJlc3NPZlJldyByZXNlcnZlIGZvciBjb21tdW5pdHkgLyByZXdhcmQgcHJvZ3JhbQogICAgICogQHBhcmFtIGFkZHJlc3NPZkRldiByZXNlcnZlIHJlbWFpbmluZyBhbW91bnQgb2YgaXBjIGZvciBkZXZlbG9wbWVudCwgcGFydG5lcnMgYW5kIGFkdmlzb3JzCiAgICAgKi8KICAgIGZ1bmN0aW9uIElQQ1Rva2VuICgKICAgICAgICBhZGRyZXNzIGFkZHJlc3NPZkNyQmVuLCAKICAgICAgICBhZGRyZXNzIGFkZHJlc3NPZlJldywKICAgICAgICBhZGRyZXNzIGFkZHJlc3NPZkRldgogICAgICAgICkgcHVibGljIFVwZ3JhZGVhYmxlVG9rZW4obXNnLnNlbmRlcikgewogICAgICAgIC8vIEFzc2lnbiB0aGUgaW5pdGlhbCB0b2tlbnMgdG8gdGhlIGFkZHJlc3NlcwogICAgICAgIGJhbGFuY2VPZlthZGRyZXNzT2ZDckJlbl0gPSBjcjsKICAgICAgICBiYWxhbmNlT2ZbYWRkcmVzc09mUmV3XSA9IHJldzsKICAgICAgICBiYWxhbmNlT2ZbYWRkcmVzc09mRGV2XSA9IGRldjsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBPd25lciBjYW4gdXBkYXRlIHRva2VuIGluZm9ybWF0aW9uCiAgICAgKiAKICAgICAqIEBwYXJhbSBfbmFtZSBuZXcgdG9rZW4gbmFtZQogICAgICogQHBhcmFtIF9zeW1ib2wgbmV3IHRva2VuIHN5bWJvbAogICAgICovCiAgICBmdW5jdGlvbiBzZXRUb2tlbkluZm9ybWF0aW9uKHN0cmluZyBfbmFtZSwgc3RyaW5nIF9zeW1ib2wpIG9ubHlPd25lciBwdWJsaWMgewogICAgICAgIG5hbWUgPSBfbmFtZTsKICAgICAgICBzeW1ib2wgPSBfc3ltYm9sOwoKICAgICAgICBVcGRhdGVkVG9rZW5JbmZvcm1hdGlvbihuYW1lLCBzeW1ib2wpOwogICAgfQp9'.
	

]
