Class {
	#name : #SRT47423b0fdb181ecab813c908307e9795c0272db7,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT47423b0fdb181ecab813c908307e9795c0272db7 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICBhc3NlcnQoYiA8PSBhKTsKICAgIHJldHVybiBhIC0gYjsKICB9CgogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgovKioKICogQHRpdGxlIEVSQzIwQmFzaWMKICogQGRldiBTaW1wbGVyIHZlcnNpb24gb2YgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xNzkKICovCmNvbnRyYWN0IEVSQzIwQmFzaWMgewogIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIHdobykgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLgogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKCiAgICAvLyBTYWZlTWF0aC5zdWIgd2lsbCB0aHJvdyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJhbGFuY2UuCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAqIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgdG8gcXVlcnkgdGhlIHRoZSBiYWxhbmNlIG9mLgogICogQHJldHVybiBBbiB1aW50MjU2IHJlcHJlc2VudGluZyB0aGUgYW1vdW50IG93bmVkIGJ5IHRoZSBwYXNzZWQgYWRkcmVzcy4KICAqLwogIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCgovKioKICogQHRpdGxlIFN0YW5kYXJkIEVSQzIwIHRva2VuCiAqCiAqIEBkZXYgSW1wbGVtZW50YXRpb24gb2YgdGhlIGJhc2ljIHN0YW5kYXJkIHRva2VuLgogKiBAZGV2IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKiBAZGV2IEJhc2VkIG9uIGNvZGUgYnkgRmlyc3RCbG9vZDogaHR0cHM6Ly9naXRodWIuY29tL0ZpcnN0Ymxvb2Rpby90b2tlbi9ibG9iL21hc3Rlci9zbWFydF9jb250cmFjdC9GaXJzdEJsb29kVG9rZW4uc29sCiAqLwpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIEVSQzIwLCBCYXNpY1Rva2VuIHsKICAgIAogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgaW50ZXJuYWwgYWxsb3dlZDsKCiAgLyoqCiAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAqIEBwYXJhbSBfdG8gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byB0cmFuc2ZlciB0bwogICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdW50IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcnJlZAogICAqLwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGJhbGFuY2VzW19mcm9tXSk7CiAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSk7CgogICAgYmFsYW5jZXNbX2Zyb21dID0gYmFsYW5jZXNbX2Zyb21dLnN1YihfdmFsdWUpOwogICAgYmFsYW5jZXNbX3RvXSA9IGJhbGFuY2VzW190b10uYWRkKF92YWx1ZSk7CiAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICoKICAgKiBCZXdhcmUgdGhhdCBjaGFuZ2luZyBhbiBhbGxvd2FuY2Ugd2l0aCB0aGlzIG1ldGhvZCBicmluZ3MgdGhlIHJpc2sgdGhhdCBzb21lb25lIG1heSB1c2UgYm90aCB0aGUgb2xkCiAgICogYW5kIHRoZSBuZXcgYWxsb3dhbmNlIGJ5IHVuZm9ydHVuYXRlIHRyYW5zYWN0aW9uIG9yZGVyaW5nLiBPbmUgcG9zc2libGUgc29sdXRpb24gdG8gbWl0aWdhdGUgdGhpcwogICAqIHJhY2UgY29uZGl0aW9uIGlzIHRvIGZpcnN0IHJlZHVjZSB0aGUgc3BlbmRlcidzIGFsbG93YW5jZSB0byAwIGFuZCBzZXQgdGhlIGRlc2lyZWQgdmFsdWUgYWZ0ZXJ3YXJkczoKICAgKiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAqLwogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvKioKICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICogQHBhcmFtIF9vd25lciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIG93bnMgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfc3BlbmRlciBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZnlpbmcgdGhlIGFtb3VudCBvZiB0b2tlbnMgc3RpbGwgYXZhaWxhYmxlIGZvciB0aGUgc3BlbmRlci4KICAgKi8KICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICAvKioKICAgKiBhcHByb3ZlIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbGxvd2VkW19zcGVuZGVyXSA9PSAwLiBUbyBpbmNyZW1lbnQKICAgKiBhbGxvd2VkIHZhbHVlIGlzIGJldHRlciB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byBhdm9pZCAyIGNhbGxzIChhbmQgd2FpdCB1bnRpbAogICAqIHRoZSBmaXJzdCB0cmFuc2FjdGlvbiBpcyBtaW5lZCkKICAgKiBGcm9tIE1vbm9saXRoREFPIFRva2VuLnNvbAogICAqLwogIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0uYWRkKF9hZGRlZFZhbHVlKTsKICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwgKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX3N1YnRyYWN0ZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICB9IGVsc2UgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgIH0KICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cgp9CgoKLyoKICogT3duYWJsZQogKiBCYXNlIGNvbnRyYWN0IHdpdGggYW4gb3duZXIuCiAqIFByb3ZpZGVzIG9ubHlPd25lciBtb2RpZmllciwgd2hpY2ggcHJldmVudHMgZnVuY3Rpb24gZnJvbSBydW5uaW5nIGlmIGl0IGlzIGNhbGxlZCBieSBhbnlvbmUgb3RoZXIgdGhhbiB0aGUgb3duZXIuCiAqLwpjb250cmFjdCBPd25hYmxlIHsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwoKICAgIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgfQogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgaW50ZXJuYWwgb25seU93bmVyIHsKICAgICAgICBpZiAobmV3T3duZXIgIT0gYWRkcmVzcygwKSkgewogICAgICAgICAgICBvd25lciA9IG5ld093bmVyOwogICAgICAgIH0KICAgIH0KfQoKCi8qCiAgQ29weXJpZ2h0IDIwMTcgWmVyb0V4IEludGwuCgogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoKKi8KLyoqCiAqIEB0aXRsZSBVbmxpbWl0ZWQgQWxsb3dhbmNlIFRva2VuCiAqIEBkZXYgVW5saW1pdGVkIGFsbG93YW5jZSBmb3IgZXhjaGFuZ2UgdHJhbnNmZXJzLiBNb2RmaWVkIHRoZSBiYXNlIHplcm9FWCBjb2RlIHdpdGggbGF0ZXN0IGNvbXBpbGUgZmVhdHVyZXMKICogQGF1dGhvciBEaW5lc2gKICovCmNvbnRyYWN0IFVubGltaXRlZEFsbG93YW5jZVRva2VuIGlzIFN0YW5kYXJkVG9rZW4gewogICAgCiAgICAvLyAgTUFYX1VJTlQgcmVwcmVzZW50cyBhbiB1bmxpbWl0ZWQgYWxsb3dhbmNlCiAgICB1aW50MjU2IGNvbnN0YW50IE1BWF9VSU5UID0gMioqMjU2IC0gMTsKICAgIAogICAgLyoqCiAgICAgKiBAZGV2IEVSQzIwIHRyYW5zZmVyRnJvbSwgbW9kaWZpZWQgc3VjaCB0aGF0IGFuIGFsbG93YW5jZSBvZiBNQVhfVUlOVCByZXByZXNlbnRzIGFuIHVubGltaXRlZCBhbGxvd2FuY2UuCiAgICAgKiBAcGFyYW0gX2Zyb20gQWRkcmVzcyB0byB0cmFuc2ZlciBmcm9tCiAgICAgKiBAcGFyYW0gX3RvIEFkZHJlc3MgdG8gdHJhbnNmZXIgdG8KICAgICAqIEBwYXJhbSBfdmFsdWUgQW1vdW50IHRvIHRyYW5zZmVyCiAgICAgKiBAcmV0dXJuIFN1Y2Nlc3Mgb2YgdHJhbnNmZXIKICAgICAqLyAKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgdWludCBhbGxvd2FuY2UgPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUpOwogICAgICAgIHJlcXVpcmUoYWxsb3dhbmNlID49IF92YWx1ZSk7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpID49IGJhbGFuY2VzW190b10pOwogICAgICAgIAogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgICAgICBpZiAoYWxsb3dhbmNlIDwgTUFYX1VJTlQpIHsKICAgICAgICAgICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXS5zdWIoX3ZhbHVlKTsKICAgICAgICB9ICAKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgICAgIAogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9CgovKioKICogQHRpdGxlIFRva2VuaXplZCBFdGhlcgogKiBAZGV2IEVSQzIwIHRva2VuaXphdGlvbiBmb3IgRXRoZXIgdG8gYWxsb3cgZXhjaGFuZ2UgdHJhbnNmZXIgYW5kIHNtb290aGVyIGhhbmRsaW5nIG9mIGV0aGVyLgogKiAgICAgIE1vZGlmaWVkIHRoZSBiYXNlIHplcm94IGNvbnRyYWN0IHRvIHVzZSBsYXRlc3QgbGFuZ3VhZ2UgZmVhdHVyZXMgYW5kIG1hZGUgaXQgbW9yZSBzZWN1cmUKICogICAgICBhbmQgZmF1bHQgdG9sZXJhbnQKICogQGF1dGhvciBEaW5lc2gKICovCmNvbnRyYWN0IEV0aGVyVG9rZW4gaXMgVW5saW1pdGVkQWxsb3dhbmNlVG9rZW4sIE93bmFibGV7CiAgICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsgCiAgICAKICAgIHN0cmluZyBjb25zdGFudCBwdWJsaWMgbmFtZSA9ICJFdGhlciBUb2tlbiI7CiAgICBzdHJpbmcgY29uc3RhbnQgcHVibGljIHN5bWJvbCA9ICJXWEVUSCI7CiAgICB1aW50MjU2IGNvbnN0YW50IHB1YmxpYyBkZWNpbWFscyA9IDE4OyAKICAgIAogICAgLy8gdHJpZ2dlcmVkIHdoZW4gdGhlIHRvdGFsIHN1cHBseSBpcyBpbmNyZWFzZWQKICAgIGV2ZW50IElzc3VhbmNlKHVpbnQyNTYgX2Ftb3VudCk7CiAgICAKICAgIC8vIHRyaWdnZXJlZCB3aGVuIHRoZSB0b3RhbCBzdXBwbHkgaXMgZGVjcmVhc2VkCiAgICBldmVudCBEZXN0cnVjdGlvbih1aW50MjU2IF9hbW91bnQpOwogICAgCiAgICAvLyBpbiBjYXNlIG9mIGVtZXJnZW5jeSwgYmxvY2sgYWxsIHRyYW5zYWN0aW9ucwogICAgYm9vbCBwdWJsaWMgZW5hYmxlZDsKICAgIAogICAgLy8gSW4gY2FzZSBlbWVyZ2VuY2llcywgYWxsIHRoZSBmdW5kcyB3aWxsIGJlIG1vdmVkIHRvIGEgc2FmZXR5IFdhbGxldC4gTm9ybWFsbHkgT3duZXIgb2YgdGhlIGNvbnRyYWN0CiAgICBhZGRyZXNzIHB1YmxpYyBzYWZldHlXYWxsZXQ7IAogICAgCiAgICAvKiogCiAgICAgKiBAZGV2IGNvbnN0cnVjdG9yCiAgICAgKi8KICAgIGZ1bmN0aW9uIEV0aGVyVG9rZW4oKSBwdWJsaWMgewogICAgICAgIGVuYWJsZWQgPSB0cnVlOwogICAgICAgIHNhZmV0eVdhbGxldCA9IG1zZy5zZW5kZXI7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogQGRldiBmdW5jdGlvbiB0byBlbmFibGUvZGlzYWJsZSBjb250cmFjdCBvcGVyYXRpb25zCiAgICAgKiBAcGFyYW0gX2Rpc2FibGVUeCB0ZWxsIHdoZXRoZXJlIHRoZSB0eCBuZWVkcyB0byBiZSBibG9ja2VkIG9yIGFsbG93ZWQKICAgICAqLwogICAgZnVuY3Rpb24gYmxvY2tUeChib29sIF9kaXNhYmxlVHgpIHB1YmxpYyBvbmx5T3duZXIgeyAKICAgICAgICBlbmFibGVkID0gIV9kaXNhYmxlVHg7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogQGRldiBmdWNudGlvbiBvbmx5IGV4ZWN1dGVzIGlmIHRoZXJlIGlzIGFuIGVtZXJnZW5jeSBhbmQgb25seSBjb250cmFjdCBvd25lciBjYW4gZG8gaXQgCiAgICAgKiAgICAgIENBVVRJT046IFRoaXMgbW92ZXMgYWxsIHRoZSBmdW5kcyBpbiB0aGUgY29udHJhY3QgdG8gb3duZXIncyBXYWxsZXQgYW5kIHRvIGJlIGNhbGxlZAogICAgICogICAgICBtb3N0IGV4dHJlbWUgY2FzZXMgb25seQogICAgICovCiAgICBmdW5jdGlvbiBtb3ZlVG9TYWZldHlXYWxsZXQoKSBwdWJsaWMgb25seU93bmVyIHsKICAgICAgICByZXF1aXJlKCFlbmFibGVkKTsgCiAgICAgICAgcmVxdWlyZSh0b3RhbFN1cHBseSA+IDApOwogICAgICAgIHJlcXVpcmUoc2FmZXR5V2FsbGV0ICE9IDB4MCk7CiAgICAgICAgCiAgICAgICAgLy9FbXB0eSBUb3RhbCBTdXBwbHkKICAgICAgICB1aW50MjU2IF9hbW91bnQgPSB0b3RhbFN1cHBseTsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1Yih0b3RhbFN1cHBseSk7IAogICAgICAgIAogICAgICAgIC8vRmlyZSB0aGUgZXZlbnRzCiAgICAgICAgVHJhbnNmZXIoc2FmZXR5V2FsbGV0LCB0aGlzLCB0b3RhbFN1cHBseSk7CiAgICAgICAgRGVzdHJ1Y3Rpb24odG90YWxTdXBwbHkpOwogICAgICAgIAogICAgICAgIC8vIHNlbmQgdGhlIGFtb3VudCB0byB0aGUgdGFyZ2V0IGFjY291bnQKICAgICAgICBzYWZldHlXYWxsZXQudHJhbnNmZXIoX2Ftb3VudCk7ICAKICAgIH0KICAgIAogICAgLyoqIAogICAgICogQGRldiBmYWxsYmFjayBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBnZXQgZXRoZXIgdG9rZW5zIGZvZSBldGhlcgogICAgICovCiAgICBmdW5jdGlvbiAoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZShlbmFibGVkKTsKICAgICAgICBkZXBvc2l0KG1zZy5zZW5kZXIpOwogICAgfQogICAgCiAgICAvKioKICAgICAqIEBkZXYgZnVuY3Rpb24gQnV5cyB0b2tlbnMgd2l0aCBFdGhlciwgZXhjaGFuZ2luZyB0aGVtIDE6MS4gU2ltbGlhciB0byBhIERlcG9zaXQgZnVuY3Rpb24KICAgICAqIEBwYXJhbSBiZW5lZmljaWFyeSBpcyB0aGUgc2VuZGVycyBhY2NvdW50CiAgICAgKi8KICAgIGZ1bmN0aW9uIGRlcG9zaXQoYWRkcmVzcyBiZW5lZmljaWFyeSkgcHVibGljIHBheWFibGUgewogICAgICAgIHJlcXVpcmUoZW5hYmxlZCk7CiAgICAgICAgcmVxdWlyZShiZW5lZmljaWFyeSAhPSAweDApOyAgCiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgIT0gMCk7ICAKICAgICAgICAKICAgICAgICBiYWxhbmNlc1tiZW5lZmljaWFyeV0gPSBiYWxhbmNlc1tiZW5lZmljaWFyeV0uYWRkKG1zZy52YWx1ZSk7CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5hZGQoIG1zZy52YWx1ZSk7CiAgICAgICAgCiAgICAgICAgLy9GaXJlIHRoIGV2ZW50cwogICAgICAgIElzc3VhbmNlKG1zZy52YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIodGhpcywgYmVuZWZpY2lhcnksIG1zZy52YWx1ZSk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogQGRldiB3aXRoZHJhdyBldGhlciBmcm9tIHRoZSBhY2NvdW50CiAgICAgKiBAcGFyYW0gX2Ftb3VudCAgYW1vdW50IG9mIGV0aGVyIHRvIHdpdGhkcmF3CiAgICAgKi8KICAgIGZ1bmN0aW9uIHdpdGhkcmF3KHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKGVuYWJsZWQpOwogICAgICAgIHdpdGhkcmF3VG8obXNnLnNlbmRlciwgX2Ftb3VudCk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogQGRldiB3aXRoZHJhdyBldGhlciBmcm9tIHRoZSBhY2NvdW50IHRvIGEgdGFyZ2V0IGFjY291bnQKICAgICAqIEBwYXJhbSBfdG8gYWNjb3VudCB0byByZWNlaXZlIHRoZSBldGhlcgogICAgICogQHBhcmFtIF9hbW91bnQgb2YgZXRoZXIgdG8gd2l0aGRyYXcKICAgICAqLwogICAgZnVuY3Rpb24gd2l0aGRyYXdUbyhhZGRyZXNzIF90bywgdWludCBfYW1vdW50KSBwdWJsaWMgeyAKICAgICAgICByZXF1aXJlKGVuYWJsZWQpOwogICAgICAgIHJlcXVpcmUoX3RvICE9IDB4MCk7CiAgICAgICAgcmVxdWlyZShfYW1vdW50ICE9IDApOyAgCiAgICAgICAgcmVxdWlyZShfYW1vdW50IDw9IGJhbGFuY2VzW190b10pOyAKICAgICAgICByZXF1aXJlKHRoaXMgIT0gX3RvKTsKICAgICAgICAKICAgICAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5zdWIoX2Ftb3VudCk7CiAgICAgICAgdG90YWxTdXBwbHkgPSB0b3RhbFN1cHBseS5zdWIoX2Ftb3VudCk7IAogICAgICAgIAogICAgICAgIC8vRmlyZSB0aGUgZXZlbnRzCiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgdGhpcywgX2Ftb3VudCk7CiAgICAgICAgRGVzdHJ1Y3Rpb24oX2Ftb3VudCk7CiAgICAgICAgCiAgICAgICAgIC8vIHNlbmQgdGhlIGFtb3VudCB0byB0aGUgdGFyZ2V0IGFjY291bnQKICAgICAgICBfdG8udHJhbnNmZXIoX2Ftb3VudCk7ICAKICAgIH0KfQ=='.
	

]
