Class {
	#name : #SRT84491da39eec24ddfffa081792e5074dad373bed,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT84491da39eec24ddfffa081792e5074dad373bed >> base64 [
	^ 'Ly8gQXV0aG9yIDogc2hpZnQKCnByYWdtYSBzb2xpZGl0eSBeMC40LjE4OwoKLy8tLS0tLS0tLS0gT3BlblplcHBlbGluJ3MgU2FmZSBNYXRoCi8vU291cmNlIDogaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9ibG9iL21hc3Rlci9jb250cmFjdHMvbWF0aC9TYWZlTWF0aC5zb2wKLyoqCiAqIEB0aXRsZSBTYWZlTWF0aAogKiBAZGV2IE1hdGggb3BlcmF0aW9ucyB3aXRoIHNhZmV0eSBjaGVja3MgdGhhdCB0aHJvdyBvbiBlcnJvcgogKi8KbGlicmFyeSBTYWZlTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICBpZiAoYSA9PSAwKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gRVJDMjAgSW50ZXJmYWNlOiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKY29udHJhY3QgRVJDMjAgewogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSk7Cn0KCi8qCiAgVGhpcyBjb250cmFjdCBzdG9yZXMgdHdpY2UgZXZlcnkga2V5IHZhbHVlIGluIG9yZGVyIHRvIGJlIGFibGUgdG8gcmVkaXN0cmlidXRlIGZ1bmRzCiAgd2hlbiB0aGUgYm9udXMgdG9rZW5zIGFyZSByZWNlaXZlZCAod2hpY2ggaXMgdHlwaWNhbGx5IFggbW9udGhzIGFmdGVyIHRoZSBpbml0aWFsIGJ1eSkuCiovCgpjb250cmFjdCBNb29uZ2FuZyB7CgogIG1vZGlmaWVyIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CgogIG1vZGlmaWVyIG1pbkFtb3VudFJlYWNoZWQgewogICAgLy9JbiByZWFsaXR5LCB0aGUgY29ycmVjdCBhbW91bnQgaXMgdGhlIGFtb3VudCArIDElCiAgICB1aW50MjU2IGNvcnJlY3RfYW1vdW50ID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChtaW5fYW1vdW50LCAxMDApLCA5OSk7CiAgICByZXF1aXJlKHRoaXMuYmFsYW5jZSA+PSBjb3JyZWN0X2Ftb3VudCk7CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgdW5kZXJNYXhBbW91bnQgewogICAgcmVxdWlyZShtYXhfYW1vdW50ID09IDAgfHwgdGhpcy5iYWxhbmNlIDw9IG1heF9hbW91bnQpOwogICAgXzsKICB9CgogIC8vQ29uc3RhbnRzIG9mIHRoZSBjb250cmFjdAogIHVpbnQyNTYgY29uc3RhbnQgRkVFID0gMTAwOyAgICAvLzElIGZlZQogIHVpbnQyNTYgY29uc3RhbnQgRkVFX0RFViA9IFNhZmVNYXRoLmRpdigyMCwgMyk7IC8vMTUlIG9uIHRoZSAxJSBmZWUKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICBhZGRyZXNzIGNvbnN0YW50IHB1YmxpYyBkZXZlbG9wZXIgPSAweEVFMDZCZERhZkZBNTZhMzAzNzE4REU1M0E1YmMzNDdFZmJFNEM2OGY7CiAgdWludDI1NiBwdWJsaWMgaW5kaXZpZHVhbF9jYXA7CgogIC8vVmFyaWFibGVzIHN1YmplY3QgdG8gY2hhbmdlcwogIHVpbnQyNTYgcHVibGljIG1heF9hbW91bnQ7ICAvLzAgbWVhbnMgdGhlcmUgaXMgbm8gbGltaXQKICB1aW50MjU2IHB1YmxpYyBtaW5fYW1vdW50OwoKICAvL1N0b3JlIHRoZSBhbW91bnQgb2YgRVRIIGRlcG9zaXRlZCBieSBlYWNoIGFjY291bnQuCiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZXM7CiAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgYmFsYW5jZXNfYm9udXM7CiAgLy8gVHJhY2sgd2hldGhlciB0aGUgY29udHJhY3QgaGFzIGJvdWdodCB0aGUgdG9rZW5zIHlldC4KICBib29sIHB1YmxpYyBib3VnaHRfdG9rZW5zID0gZmFsc2U7CiAgLy8gUmVjb3JkIEVUSCB2YWx1ZSBvZiB0b2tlbnMgY3VycmVudGx5IGhlbGQgYnkgY29udHJhY3QuCiAgdWludDI1NiBwdWJsaWMgY29udHJhY3RfZXRoX3ZhbHVlOwogIHVpbnQyNTYgcHVibGljIGNvbnRyYWN0X2V0aF92YWx1ZV9ib251czsKICAvL1NldCBieSB0aGUgb3duZXIgaW4gb3JkZXIgdG8gYWxsb3cgdGhlIHdpdGhkcmF3YWwgb2YgYm9udXMgdG9rZW5zLgogIGJvb2wgcHVibGljIGJvbnVzX3JlY2VpdmVkOwogIC8vVGhlIGFkZHJlc3Mgb2YgdGhlIGNvbnRhY3QuCiAgYWRkcmVzcyBwdWJsaWMgc2FsZTsKICAvL1Rva2VuIGFkZHJlc3MKICBFUkMyMCBwdWJsaWMgdG9rZW47CiAgLy9SZWNvcmRzIHRoZSBmZWVzIHRoYXQgaGF2ZSB0byBiZSBzZW50CiAgdWludDI1NiBmZWVzOwogIC8vU2V0IGJ5IHRoZSBvd25lci4gQWxsb3dzIHBlb3BsZSB0byByZWZ1bmQgdG90YWxseSBvciBwYXJ0aWFsbHkuCiAgYm9vbCBwdWJsaWMgYWxsb3dfcmVmdW5kczsKICAvL1RoZSByZWR1Y3Rpb24gb2YgdGhlIGFsbG9jYXRpb24gaW4gJSB8IGV4YW1wbGUgOiA0MCAtPiA0MCUgcmVkdWN0aW9uCiAgdWludDI1NiBwdWJsaWMgcGVyY2VudF9yZWR1Y3Rpb247CiAgCiAgLy9JbnRlcm5hbCBmdW5jdGlvbnMKICBmdW5jdGlvbiBNb29uZ2FuZyh1aW50MjU2IG1heCwgdWludDI1NiBtaW4sIHVpbnQyNTYgY2FwKSB7CiAgICAvKgogICAgQ29uc3RydWN0b3IKICAgICovCiAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICBtYXhfYW1vdW50ID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChtYXgsIDEwMCksIDk5KTsKICAgIG1pbl9hbW91bnQgPSBtaW47CiAgICBpbmRpdmlkdWFsX2NhcCA9IGNhcDsKICB9CgogIC8vRnVuY3Rpb25zIGZvciB0aGUgb3duZXIKCiAgLy8gQnV5IHRoZSB0b2tlbnMuIFNlbmRzIEVUSCB0byB0aGUgcHJlc2FsZSB3YWxsZXQgYW5kIHJlY29yZHMgdGhlIEVUSCBhbW91bnQgaGVsZCBpbiB0aGUgY29udHJhY3QuCiAgZnVuY3Rpb24gYnV5X3RoZV90b2tlbnMoKSBvbmx5T3duZXIgbWluQW1vdW50UmVhY2hlZCB1bmRlck1heEFtb3VudCB7CiAgICByZXF1aXJlKCFib3VnaHRfdG9rZW5zKTsKICAgIC8vQXZvaWRzIGJ1cm5pbmcgdGhlIGZ1bmRzCiAgICByZXF1aXJlKHNhbGUgIT0gMHgwKTsKICAgIC8vUmVjb3JkIHRoYXQgdGhlIGNvbnRyYWN0IGhhcyBib3VnaHQgdGhlIHRva2Vucy4KICAgIGJvdWdodF90b2tlbnMgPSB0cnVlOwogICAgLy9TZW5kcyB0aGUgZmVlIGJlZm9yZSBzbyB0aGUgY29udHJhY3RfZXRoX3ZhbHVlIGNvbnRhaW5zIHRoZSBjb3JyZWN0IGJhbGFuY2UKICAgIHVpbnQyNTYgZGV2X2ZlZSA9IFNhZmVNYXRoLmRpdihmZWVzLCBGRUVfREVWKTsKICAgIG93bmVyLnRyYW5zZmVyKFNhZmVNYXRoLnN1YihmZWVzLCBkZXZfZmVlKSk7CiAgICBkZXZlbG9wZXIudHJhbnNmZXIoZGV2X2ZlZSk7CiAgICAvL1JlY29yZCB0aGUgYW1vdW50IG9mIEVUSCBzZW50IGFzIHRoZSBjb250cmFjdCdzIGN1cnJlbnQgdmFsdWUuCiAgICBjb250cmFjdF9ldGhfdmFsdWUgPSB0aGlzLmJhbGFuY2U7CiAgICBjb250cmFjdF9ldGhfdmFsdWVfYm9udXMgPSB0aGlzLmJhbGFuY2U7CiAgICAvLyBUcmFuc2ZlciBhbGwgdGhlIGZ1bmRzIHRvIHRoZSBjcm93ZHNhbGUgYWRkcmVzcy4KICAgIHNhbGUudHJhbnNmZXIoY29udHJhY3RfZXRoX3ZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIGZvcmNlX3JlZnVuZChhZGRyZXNzIF90b19yZWZ1bmQpIG9ubHlPd25lciB7CiAgICByZXF1aXJlKCFib3VnaHRfdG9rZW5zKTsKICAgIHVpbnQyNTYgZXRoX3RvX3dpdGhkcmF3ID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChiYWxhbmNlc1tfdG9fcmVmdW5kXSwgMTAwKSwgOTkpOwogICAgYmFsYW5jZXNbX3RvX3JlZnVuZF0gPSAwOwogICAgYmFsYW5jZXNfYm9udXNbX3RvX3JlZnVuZF0gPSAwOwogICAgZmVlcyA9IFNhZmVNYXRoLnN1YihmZWVzLCBTYWZlTWF0aC5kaXYoZXRoX3RvX3dpdGhkcmF3LCBGRUUpKTsKICAgIF90b19yZWZ1bmQudHJhbnNmZXIoZXRoX3RvX3dpdGhkcmF3KTsKICB9CgogIGZ1bmN0aW9uIGZvcmNlX3BhcnRpYWxfcmVmdW5kKGFkZHJlc3MgX3RvX3JlZnVuZCkgb25seU93bmVyIHsKICAgIHJlcXVpcmUoYWxsb3dfcmVmdW5kcyAmJiBwZXJjZW50X3JlZHVjdGlvbiA+IDApOwogICAgLy9BbW91bnQgdG8gcmVmdW5kIGlzIHRoZSBhbW91bnQgbWludXMgdGhlIFglIG9mIHRoZSByZWR1Y3Rpb24KICAgIC8vYW1vdW50X3RvX3JlZnVuZCA9IGJhbGFuY2UqWAogICAgdWludDI1NiBiYXNpY19hbW91bnQgPSBTYWZlTWF0aC5kaXYoU2FmZU1hdGgubXVsKGJhbGFuY2VzW190b19yZWZ1bmRdLCBwZXJjZW50X3JlZHVjdGlvbiksIDEwMCk7CiAgICB1aW50MjU2IGV0aF90b193aXRoZHJhdyA9IGJhc2ljX2Ftb3VudDsKICAgIGlmICghYm91Z2h0X3Rva2VucykgewogICAgICAvL1dlIGhhdmUgdG8gdGFrZSBpbiBhY2NvdW50IHRoZSBwYXJ0aWFsIHJlZnVuZCBvZiB0aGUgZmVlIHRvbyBpZiB0aGUgdG9rZW5zIHdlcmVuJ3QgYm91Z2h0IHlldAogICAgICBldGhfdG9fd2l0aGRyYXcgPSBTYWZlTWF0aC5kaXYoU2FmZU1hdGgubXVsKGJhc2ljX2Ftb3VudCwgMTAwKSwgOTkpOwogICAgICBmZWVzID0gU2FmZU1hdGguc3ViKGZlZXMsIFNhZmVNYXRoLmRpdihldGhfdG9fd2l0aGRyYXcsIEZFRSkpOwogICAgfQogICAgYmFsYW5jZXNbX3RvX3JlZnVuZF0gPSBTYWZlTWF0aC5zdWIoYmFsYW5jZXNbX3RvX3JlZnVuZF0sIGV0aF90b193aXRoZHJhdyk7CiAgICBiYWxhbmNlc19ib251c1tfdG9fcmVmdW5kXSA9IGJhbGFuY2VzW190b19yZWZ1bmRdOwogICAgX3RvX3JlZnVuZC50cmFuc2ZlcihldGhfdG9fd2l0aGRyYXcpOwogIH0KCiAgZnVuY3Rpb24gc2V0X3NhbGVfYWRkcmVzcyhhZGRyZXNzIF9zYWxlKSBvbmx5T3duZXIgewogICAgLy9Bdm9pZCBtaXN0YWtlIG9mIHB1dHRpbmcgMHgwIGFuZCBjYW4ndCBjaGFuZ2UgdHdpY2UgdGhlIHNhbGUgYWRkcmVzcwogICAgcmVxdWlyZShfc2FsZSAhPSAweDAgJiYgc2FsZSA9PSAweDApOwogICAgc2FsZSA9IF9zYWxlOwogIH0KCiAgZnVuY3Rpb24gc2V0X3Rva2VuX2FkZHJlc3MoYWRkcmVzcyBfdG9rZW4pIG9ubHlPd25lciB7CiAgICByZXF1aXJlKF90b2tlbiAhPSAweDApOwogICAgdG9rZW4gPSBFUkMyMChfdG9rZW4pOwogIH0KCiAgZnVuY3Rpb24gc2V0X2JvbnVzX3JlY2VpdmVkKGJvb2wgX2Jvb2xlYW4pIG9ubHlPd25lciB7CiAgICBib251c19yZWNlaXZlZCA9IF9ib29sZWFuOwogIH0KCiAgZnVuY3Rpb24gc2V0X2FsbG93X3JlZnVuZHMoYm9vbCBfYm9vbGVhbikgb25seU93bmVyIHsKICAgIC8qCiAgICBJbiBjYXNlLCBmb3Igc29tZSByZWFzb25zLCB0aGUgcHJvamVjdCByZWZ1bmRzIHRoZSBtb25leQogICAgKi8KICAgIGFsbG93X3JlZnVuZHMgPSBfYm9vbGVhbjsKICB9CgogIGZ1bmN0aW9uIHNldF9wZXJjZW50X3JlZHVjdGlvbih1aW50MjU2IF9yZWR1Y3Rpb24pIG9ubHlPd25lciB7CiAgICAgIHBlcmNlbnRfcmVkdWN0aW9uID0gX3JlZHVjdGlvbjsKICB9CgogIGZ1bmN0aW9uIGNoYW5nZV9pbmRpdmlkdWFsX2NhcCh1aW50MjU2IF9jYXApIG9ubHlPd25lciB7CiAgICBpbmRpdmlkdWFsX2NhcCA9IF9jYXA7CiAgfQoKICBmdW5jdGlvbiBjaGFuZ2Vfb3duZXIoYWRkcmVzcyBuZXdfb3duZXIpIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5ld19vd25lciAhPSAweDApOwogICAgb3duZXIgPSBuZXdfb3duZXI7CiAgfQoKICBmdW5jdGlvbiBjaGFuZ2VfbWF4X2Ftb3VudCh1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciB7CiAgICAgIC8vQVRURU5USU9OISBUaGUgbmV3IGFtb3VudCBzaG91bGQgYmUgaW4gd2VpCiAgICAgIC8vVXNlIGh0dHBzOi8vZXRoZXJjb252ZXJ0ZXIub25saW5lLwogICAgICBtYXhfYW1vdW50ID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChfYW1vdW50LCAxMDApLCA5OSk7CiAgfQoKICBmdW5jdGlvbiBjaGFuZ2VfbWluX2Ftb3VudCh1aW50MjU2IF9hbW91bnQpIG9ubHlPd25lciB7CiAgICAgIC8vQVRURU5USU9OISBUaGUgbmV3IGFtb3VudCBzaG91bGQgYmUgaW4gd2VpCiAgICAgIC8vVXNlIGh0dHBzOi8vZXRoZXJjb252ZXJ0ZXIub25saW5lLwogICAgICBtaW5fYW1vdW50ID0gX2Ftb3VudDsKICB9CgogIC8vUHVibGljIGZ1bmN0aW9ucwoKICAvLyBBbGxvd3MgYW55IHVzZXIgdG8gd2l0aGRyYXcgaGlzIHRva2Vucy4KICBmdW5jdGlvbiB3aXRoZHJhdygpIHsKICAgIC8vIERpc2FsbG93IHdpdGhkcmF3IGlmIHRva2VucyBoYXZlbid0IGJlZW4gYm91Z2h0IHlldC4KICAgIHJlcXVpcmUoYm91Z2h0X3Rva2Vucyk7CiAgICB1aW50MjU2IGNvbnRyYWN0X3Rva2VuX2JhbGFuY2UgPSB0b2tlbi5iYWxhbmNlT2YoYWRkcmVzcyh0aGlzKSk7CiAgICAvLyBEaXNhbGxvdyB0b2tlbiB3aXRoZHJhd2FscyBpZiB0aGVyZSBhcmUgbm8gdG9rZW5zIHRvIHdpdGhkcmF3LgogICAgcmVxdWlyZShjb250cmFjdF90b2tlbl9iYWxhbmNlICE9IDApOwogICAgdWludDI1NiB0b2tlbnNfdG9fd2l0aGRyYXcgPSBTYWZlTWF0aC5kaXYoU2FmZU1hdGgubXVsKGJhbGFuY2VzW21zZy5zZW5kZXJdLCBjb250cmFjdF90b2tlbl9iYWxhbmNlKSwgY29udHJhY3RfZXRoX3ZhbHVlKTsKICAgIC8vIFVwZGF0ZSB0aGUgdmFsdWUgb2YgdG9rZW5zIGN1cnJlbnRseSBoZWxkIGJ5IHRoZSBjb250cmFjdC4KICAgIGNvbnRyYWN0X2V0aF92YWx1ZSA9IFNhZmVNYXRoLnN1Yihjb250cmFjdF9ldGhfdmFsdWUsIGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKICAgIC8vIFVwZGF0ZSB0aGUgdXNlcidzIGJhbGFuY2UgcHJpb3IgdG8gc2VuZGluZyB0byBwcmV2ZW50IHJlY3Vyc2l2ZSBjYWxsLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAwOwogICAgLy8gU2VuZCB0aGUgZnVuZHMuICBUaHJvd3Mgb24gZmFpbHVyZSB0byBwcmV2ZW50IGxvc3Mgb2YgZnVuZHMuCiAgICByZXF1aXJlKHRva2VuLnRyYW5zZmVyKG1zZy5zZW5kZXIsIHRva2Vuc190b193aXRoZHJhdykpOwogIH0KCiAgZnVuY3Rpb24gd2l0aGRyYXdfYm9udXMoKSB7CiAgLyoKICAgIFNwZWNpYWwgZnVuY3Rpb24gdG8gd2l0aGRyYXcgdGhlIGJvbnVzIHRva2VucyBhZnRlciB0aGUgNiBtb250aHMgbG9ja3VwLgogICAgYm9udXNfcmVjZWl2ZWQgaGFzIHRvIGJlIHNldCB0byB0cnVlLgogICovCiAgICByZXF1aXJlKGJvdWdodF90b2tlbnMgJiYgYm9udXNfcmVjZWl2ZWQpOwogICAgdWludDI1NiBjb250cmFjdF90b2tlbl9iYWxhbmNlID0gdG9rZW4uYmFsYW5jZU9mKGFkZHJlc3ModGhpcykpOwogICAgcmVxdWlyZShjb250cmFjdF90b2tlbl9iYWxhbmNlICE9IDApOwogICAgdWludDI1NiB0b2tlbnNfdG9fd2l0aGRyYXcgPSBTYWZlTWF0aC5kaXYoU2FmZU1hdGgubXVsKGJhbGFuY2VzX2JvbnVzW21zZy5zZW5kZXJdLCBjb250cmFjdF90b2tlbl9iYWxhbmNlKSwgY29udHJhY3RfZXRoX3ZhbHVlX2JvbnVzKTsKICAgIGNvbnRyYWN0X2V0aF92YWx1ZV9ib251cyA9IFNhZmVNYXRoLnN1Yihjb250cmFjdF9ldGhfdmFsdWVfYm9udXMsIGJhbGFuY2VzX2JvbnVzW21zZy5zZW5kZXJdKTsKICAgIGJhbGFuY2VzX2JvbnVzW21zZy5zZW5kZXJdID0gMDsKICAgIHJlcXVpcmUodG9rZW4udHJhbnNmZXIobXNnLnNlbmRlciwgdG9rZW5zX3RvX3dpdGhkcmF3KSk7CiAgfQogIAogIC8vIEFsbG93cyBhbnkgdXNlciB0byBnZXQgaGlzIGV0aCByZWZ1bmRlZCBiZWZvcmUgdGhlIHB1cmNoYXNlIGlzIG1hZGUuCiAgZnVuY3Rpb24gcmVmdW5kKCkgewogICAgcmVxdWlyZSghYm91Z2h0X3Rva2VucyAmJiBhbGxvd19yZWZ1bmRzICYmIHBlcmNlbnRfcmVkdWN0aW9uID09IDApOwogICAgLy9iYWxhbmNlIG9mIGNvbnRyaWJ1dG9yID0gY29udHJpYnV0aW9uICogMC45OQogICAgLy9zbyBjb250cmlidXRpb24gPSBiYWxhbmNlLzAuOTkKICAgIHVpbnQyNTYgZXRoX3RvX3dpdGhkcmF3ID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChiYWxhbmNlc1ttc2cuc2VuZGVyXSwgMTAwKSwgOTkpOwogICAgLy8gVXBkYXRlIHRoZSB1c2VyJ3MgYmFsYW5jZSBwcmlvciB0byBzZW5kaW5nIEVUSCB0byBwcmV2ZW50IHJlY3Vyc2l2ZSBjYWxsLgogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSAwOwogICAgLy9VcGRhdGVzIHRoZSBiYWxhbmNlc19ib251cyB0b28KICAgIGJhbGFuY2VzX2JvbnVzW21zZy5zZW5kZXJdID0gMDsKICAgIC8vVXBkYXRlcyB0aGUgZmVlcyB2YXJpYWJsZSBieSBzdWJzdHJhY3RpbmcgdGhlIHJlZnVuZGVkIGZlZQogICAgZmVlcyA9IFNhZmVNYXRoLnN1YihmZWVzLCBTYWZlTWF0aC5kaXYoZXRoX3RvX3dpdGhkcmF3LCBGRUUpKTsKICAgIC8vIFJldHVybiB0aGUgdXNlcidzIGZ1bmRzLiAgVGhyb3dzIG9uIGZhaWx1cmUgdG8gcHJldmVudCBsb3NzIG9mIGZ1bmRzLgogICAgbXNnLnNlbmRlci50cmFuc2ZlcihldGhfdG9fd2l0aGRyYXcpOwogIH0KCiAgLy9BbGxvd3MgYW55IHVzZXIgdG8gZ2V0IGEgcGFydCBvZiBoaXMgRVRIIHJlZnVuZGVkLCBpbiBwcm9wb3J0aW9uCiAgLy90byB0aGUgJSByZWR1Y2VkIG9mIHRoZSBhbGxvY2F0aW9uCiAgZnVuY3Rpb24gcGFydGlhbF9yZWZ1bmQoKSB7CiAgICByZXF1aXJlKGFsbG93X3JlZnVuZHMgJiYgcGVyY2VudF9yZWR1Y3Rpb24gPiAwKTsKICAgIC8vQW1vdW50IHRvIHJlZnVuZCBpcyB0aGUgYW1vdW50IG1pbnVzIHRoZSBYJSBvZiB0aGUgcmVkdWN0aW9uCiAgICAvL2Ftb3VudF90b19yZWZ1bmQgPSBiYWxhbmNlKlgKICAgIHVpbnQyNTYgYmFzaWNfYW1vdW50ID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChiYWxhbmNlc1ttc2cuc2VuZGVyXSwgcGVyY2VudF9yZWR1Y3Rpb24pLCAxMDApOwogICAgdWludDI1NiBldGhfdG9fd2l0aGRyYXcgPSBiYXNpY19hbW91bnQ7CiAgICBpZiAoIWJvdWdodF90b2tlbnMpIHsKICAgICAgLy9XZSBoYXZlIHRvIHRha2UgaW4gYWNjb3VudCB0aGUgcGFydGlhbCByZWZ1bmQgb2YgdGhlIGZlZSB0b28gaWYgdGhlIHRva2VucyB3ZXJlbid0IGJvdWdodCB5ZXQKICAgICAgZXRoX3RvX3dpdGhkcmF3ID0gU2FmZU1hdGguZGl2KFNhZmVNYXRoLm11bChiYXNpY19hbW91bnQsIDEwMCksIDk5KTsKICAgICAgZmVlcyA9IFNhZmVNYXRoLnN1YihmZWVzLCBTYWZlTWF0aC5kaXYoZXRoX3RvX3dpdGhkcmF3LCBGRUUpKTsKICAgIH0KICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gU2FmZU1hdGguc3ViKGJhbGFuY2VzW21zZy5zZW5kZXJdLCBldGhfdG9fd2l0aGRyYXcpOwogICAgYmFsYW5jZXNfYm9udXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXTsKICAgIG1zZy5zZW5kZXIudHJhbnNmZXIoZXRoX3RvX3dpdGhkcmF3KTsKICB9CgogIC8vIERlZmF1bHQgZnVuY3Rpb24uICBDYWxsZWQgd2hlbiBhIHVzZXIgc2VuZHMgRVRIIHRvIHRoZSBjb250cmFjdC4KICBmdW5jdGlvbiAoKSBwYXlhYmxlIHVuZGVyTWF4QW1vdW50IHsKICAgIHJlcXVpcmUoIWJvdWdodF90b2tlbnMpOwogICAgLy8xJSBmZWUgaXMgdGFrZW4gb24gdGhlIEVUSAogICAgdWludDI1NiBmZWUgPSBTYWZlTWF0aC5kaXYobXNnLnZhbHVlLCBGRUUpOwogICAgZmVlcyA9IFNhZmVNYXRoLmFkZChmZWVzLCBmZWUpOwogICAgLy9VcGRhdGVzIGJvdGggb2YgdGhlIGJhbGFuY2VzCiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IFNhZmVNYXRoLmFkZChiYWxhbmNlc1ttc2cuc2VuZGVyXSwgU2FmZU1hdGguc3ViKG1zZy52YWx1ZSwgZmVlKSk7CiAgICAvL0NoZWNrcyBpZiB0aGUgaW5kaXZpZHVhbCBjYXAgaXMgcmVzcGVjdGVkCiAgICAvL0lmIGl0J3Mgbm90LCBjaGFuZ2VzIGFyZSByZXZlcnRlZAogICAgcmVxdWlyZShpbmRpdmlkdWFsX2NhcCA9PSAwIHx8IGJhbGFuY2VzW21zZy5zZW5kZXJdIDw9IGluZGl2aWR1YWxfY2FwKTsKICAgIGJhbGFuY2VzX2JvbnVzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl07CiAgfQp9'.
	

]
