Class {
	#name : #SRT352f1DD3Ac41baE74E307b1F188B5CED72D6ebc8,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT352f1DD3Ac41baE74E307b1F188B5CED72D6ebc8 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjsKCmNvbnRyYWN0IFRva2VuIHsKICAgIC8qIFB1YmxpYyB2YXJpYWJsZXMgb2YgdGhlIHRva2VuICovCiAgICBzdHJpbmcgcHVibGljIHN0YW5kYXJkOwogICAgc3RyaW5nIHB1YmxpYyBuYW1lOwogICAgc3RyaW5nIHB1YmxpYyBzeW1ib2w7CiAgICB1aW50OCBwdWJsaWMgZGVjaW1hbHM7CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKCiAgICAvKiBUaGlzIGNyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgYmFsYW5jZXMgKi8KICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VPZjsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgcHVibGljIGFsbG93YW5jZTsKCiAgICAvKiBFUkMyMCBFdmVudHMgKi8KICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgLyppbmRleGVkICovX2Zyb20sIGFkZHJlc3MgLyppbmRleGVkICovIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7CgogICAgLyogSW5pdGlhbGl6ZXMgY29udHJhY3Qgd2l0aCBpbml0aWFsIHN1cHBseSB0b2tlbnMgdG8gdGhlIGNyZWF0b3Igb2YgdGhlIGNvbnRyYWN0ICovCiAgICBmdW5jdGlvbiBUb2tlbih1aW50MjU2IGluaXRpYWxTdXBwbHksIHN0cmluZyBfc3RhbmRhcmQsIHN0cmluZyBfbmFtZSwgc3RyaW5nIF9zeW1ib2wsIHVpbnQ4IF9kZWNpbWFscykgewogICAgICAgIHRvdGFsU3VwcGx5ID0gaW5pdGlhbFN1cHBseTsKICAgICAgICBiYWxhbmNlT2ZbdGhpc10gPSBpbml0aWFsU3VwcGx5OwogICAgICAgIHN0YW5kYXJkID0gX3N0YW5kYXJkOwogICAgICAgIG5hbWUgPSBfbmFtZTsKICAgICAgICBzeW1ib2wgPSBfc3ltYm9sOwogICAgICAgIGRlY2ltYWxzID0gX2RlY2ltYWxzOwogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNmZXIgdG9rZW4gbG9naWMKICAgICAqIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBmcm9tLgogICAgICogQHBhcmFtIF90byBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0by4KICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJJbnRlcm5hbChhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIGludGVybmFsIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW19mcm9tXSA+PSBfdmFsdWUpOwoKICAgICAgICAvLyBDaGVjayBmb3Igb3ZlcmZsb3dzCiAgICAgICAgcmVxdWlyZShiYWxhbmNlT2ZbX3RvXSArIF92YWx1ZSA+PSBiYWxhbmNlT2ZbX3RvXSk7CgogICAgICAgIGJhbGFuY2VPZltfZnJvbV0gLT0gX3ZhbHVlOwoKICAgICAgICBiYWxhbmNlT2ZbX3RvXSArPSBfdmFsdWU7CgogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBBcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyB3aGljaCB3aWxsIHNwZW5kIHRoZSBmdW5kcy4KICAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGFsbG93YW5jZVttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQGRldiBUcmFuc2ZlciB0b2tlbnMgZnJvbSBvbmUgYWRkcmVzcyB0byBhbm90aGVyCiAgICAgKiBAcGFyYW0gX2Zyb20gYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBzZW5kIHRva2VucyBmcm9tCiAgICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgICAqIEBwYXJhbSBfdmFsdWUgdWludDI1NiB0aGUgYW1vdXQgb2YgdG9rZW5zIHRvIGJlIHRyYW5zZmVyZWQKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tSW50ZXJuYWwoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBpbnRlcm5hbCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKF92YWx1ZSA+PSBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdKTsgICAvLyBDaGVjayBhbGxvd2FuY2UKCiAgICAgICAgYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CgogICAgICAgIHJldHVybiB0cmFuc2ZlckludGVybmFsKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICB9Cn0KCmNvbnRyYWN0IElDTyB7CiAgICB1aW50MjU2IHB1YmxpYyBQUkVfSUNPX1NJTkNFID0gMTUwMDMwMzYwMDsgICAgICAgICAgICAgICAgICAgICAvLyAwNy8xNy8yMDE3IEAgMTU6MDAgKFVUQykKICAgIHVpbnQyNTYgcHVibGljIFBSRV9JQ09fVElMTCA9IDE1MDA0NzY0MDA7ICAgICAgICAgICAgICAgICAgICAgIC8vIDA3LzE5LzIwMTcgQCAxNTowMCAoVVRDKQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgUFJFX0lDT19CT05VU19SQVRFID0gNzA7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBQUkVfSUNPX1NMR05fTEVTUyA9IDUwMDAgZXRoZXI7ICAgICAgICAgICAgICAgICAvLyB1cHBlciBsaW1pdCBmb3IgcHJlIGljbyBpcyA1ayBldGhlcgoKICAgIHVpbnQyNTYgcHVibGljIElDT19TSU5DRSA9IDE1MDA5OTQ4MDA7ICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDA3LzI1LzIwMTcgQCA5OjAwYW0gKFVUQykKICAgIHVpbnQyNTYgcHVibGljIElDT19USUxMID0gMTUwMjgwOTIwMDsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDA4LzE1LzIwMTcgQCA5OjAwYW0gKFVUQykKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IElDT19CT05VUzFfU0xHTl9MRVNTID0gMjAwMDAgZXRoZXI7ICAgICAgICAgICAgICAgIC8vIGJvbnVzIDEgd2lsbCB3b3JrIG9ubHkgaWYgMjAwMDAgZXRoIHdlcmUgY29sbGVjdGVkIGR1cmluZyBmaXJzdCBwaGFzZSBvZiBpY28KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IElDT19CT05VUzFfUkFURSA9IDMwOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJvbnVzIDEgcmF0ZQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgSUNPX0JPTlVTMl9TTEdOX0xFU1MgPSA1MDAwMCBldGhlcjsgICAgICAgICAgICAgICAgLy8gYm9udXMgMSB3aWxsIHdvcmsgb25seSBpZiA1MDAwMCBldGggd2VyZSBjb2xsZWN0ZWQgZHVyaW5nIHNlY29uZCBwaGFzZSBvZiBpY28KICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IElDT19CT05VUzJfUkFURSA9IDE1OyAvLyBib251cyAyIHJhdGUKCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFNvbGRTbG9nbnM7CgogICAgLyogVGhpcyBnZW5lcmF0ZXMgYSBwdWJsaWMgZXZlbnQgb24gdGhlIGJsb2NrY2hhaW4gdGhhdCB3aWxsIG5vdGlmeSBjbGllbnRzICovCiAgICBldmVudCBCb251c0Vhcm5lZChhZGRyZXNzIHRhcmdldCwgdWludDI1NiBib251cyk7CgogICAgLyoqCiAgICAgKiBDYWxjdWxhdGUgYW1vdW50IG9mIHByZW1pdW0gYm9udXNlcwogICAgICogQHBhcmFtIGljb1N0ZXAgaWRlbnRpZmllcyBpcyBpdCBwcmUtaWNvIChlcXVhbHMgMCkgb3IgaWNvIChlcXVhbHMgMSkKICAgICAqIEBwYXJhbSB0b3RhbFNvbGRTbG9nbnMgdG90YWwgYW1vdW50IG9mIGFscmVhZHkgc29sZCBzbG9nbiB0b2tlbnMuCiAgICAgKiBAcGFyYW0gc29sZFNsb2ducyB0b3RhbCBhbW91bnQgc29sZCBzbG9nbnMgaW4gY3VycmVudCB0cmFuc2FjdGlvbi4KICAgICAqLwogICAgZnVuY3Rpb24gY2FsY3VsYXRlQm9udXModWludDggaWNvU3RlcCwgdWludDI1NiB0b3RhbFNvbGRTbG9nbnMsIHVpbnQyNTYgc29sZFNsb2ducykgcmV0dXJucyAodWludDI1NikgewogICAgICAgIGlmKGljb1N0ZXAgPT0gMSkgewogICAgICAgICAgICAvLyBwcmUgaWNvCiAgICAgICAgICAgIHJldHVybiBzb2xkU2xvZ25zIC8gMTAwICogUFJFX0lDT19CT05VU19SQVRFOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmKGljb1N0ZXAgPT0gMikgewogICAgICAgICAgICAvLyBpY28KICAgICAgICAgICAgaWYodG90YWxTb2xkU2xvZ25zID4gSUNPX0JPTlVTMV9TTEdOX0xFU1MgKyBJQ09fQk9OVVMyX1NMR05fTEVTUykgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHVpbnQyNTYgYXZhaWxhYmxlRm9yQm9udXMxID0gSUNPX0JPTlVTMV9TTEdOX0xFU1MgLSB0b3RhbFNvbGRTbG9nbnM7CgogICAgICAgICAgICB1aW50MjU2IHRtcCA9IHNvbGRTbG9nbnM7CiAgICAgICAgICAgIHVpbnQyNTYgYm9udXMgPSAwOwoKICAgICAgICAgICAgdWludDI1NiB0b2tlbnNGb3JCb251czEgPSAwOwoKICAgICAgICAgICAgaWYoYXZhaWxhYmxlRm9yQm9udXMxID4gMCAmJiBhdmFpbGFibGVGb3JCb251czEgPD0gSUNPX0JPTlVTMV9TTEdOX0xFU1MpIHsKICAgICAgICAgICAgICAgIHRva2Vuc0ZvckJvbnVzMSA9IHRtcCA+IGF2YWlsYWJsZUZvckJvbnVzMSA/IGF2YWlsYWJsZUZvckJvbnVzMSA6IHRtcDsKCiAgICAgICAgICAgICAgICBib251cyArPSB0b2tlbnNGb3JCb251czEgLyAxMDAgKiBJQ09fQk9OVVMxX1JBVEU7CiAgICAgICAgICAgICAgICB0bXAgLT0gdG9rZW5zRm9yQm9udXMxOwogICAgICAgICAgICB9CgogICAgICAgICAgICB1aW50MjU2IGF2YWlsYWJsZUZvckJvbnVzMiA9IChJQ09fQk9OVVMyX1NMR05fTEVTUyArIElDT19CT05VUzFfU0xHTl9MRVNTKSAtIHRvdGFsU29sZFNsb2ducyAtIHRva2Vuc0ZvckJvbnVzMTsKCiAgICAgICAgICAgIHVpbnQyNTYgdG9rZW5zRm9yQm9udXMyID0gMDsKCiAgICAgICAgICAgIGlmKGF2YWlsYWJsZUZvckJvbnVzMiA+IDAgJiYgYXZhaWxhYmxlRm9yQm9udXMyIDw9IElDT19CT05VUzJfU0xHTl9MRVNTKSB7CiAgICAgICAgICAgICAgICB0b2tlbnNGb3JCb251czIgPSB0bXAgPiBhdmFpbGFibGVGb3JCb251czIgPyBhdmFpbGFibGVGb3JCb251czIgOiB0bXA7CgogICAgICAgICAgICAgICAgYm9udXMgKz0gdG9rZW5zRm9yQm9udXMyIC8gMTAwICogSUNPX0JPTlVTMl9SQVRFOwogICAgICAgICAgICAgICAgdG1wIC09IHRva2Vuc0ZvckJvbnVzMjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGJvbnVzOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIDA7CiAgICB9Cn0KCmNvbnRyYWN0IEVzY3Jvd0lDTyBpcyBUb2tlbiwgSUNPIHsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IE1JTl9QUkVfSUNPX1NMT0dOX0NPTExFQ1RFRCA9IDEwMDAgZXRoZXI7ICAgICAgIC8vIFBSRSBJQ08gaXMgc3VjY2Vzc2Z1bCBvbmx5IGlmIHNvbGQgMTAuMDAwLjAwMCBzbG9nbnMKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IE1JTl9JQ09fU0xPR05fQ09MTEVDVEVEID0gMTAwMCBldGhlcjsgICAgICAgICAgLy8gSUNPIGlzIHN1Y2Nlc3NmdWwgb25seSBpZiBzb2xkIDEwMC4wMDAuMDAwIHNsb2ducwoKICAgIGJvb2wgcHVibGljIGlzVHJhbnNhY3Rpb25zQWxsb3dlZDsKCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFNvbGRTbG9nbnM7CgogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgcHJlSWNvRXRoZXJzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgaWNvRXRoZXJzOwoKICAgIGV2ZW50IFJlZnVuZEV0aChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgSWNvRmluaXNoZWQoKTsKCiAgICBmdW5jdGlvbiBFc2Nyb3dJQ08oKSB7CiAgICAgICAgaXNUcmFuc2FjdGlvbnNBbGxvd2VkID0gZmFsc2U7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0SWNvU3RlcCh1aW50MjU2IHRpbWUpIHJldHVybnMgKHVpbnQ4IHN0ZXApIHsKICAgICAgICBpZih0aW1lID49ICBQUkVfSUNPX1NJTkNFICYmIHRpbWUgPD0gUFJFX0lDT19USUxMKSB7CiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmKHRpbWUgPj0gSUNPX1NJTkNFICYmIHRpbWUgPD0gSUNPX1RJTEwpIHsKICAgICAgICAgICAgLy8gaWNvIHNob3VkIGZhaWwgaWYgY29sbGVjdGVkIGxlc3MgdGhhbiAxMDAwIHNsb2ducyBkdXJpbmcgcHJlIGljbwogICAgICAgICAgICBpZih0b3RhbFNvbGRTbG9nbnMgPj0gTUlOX1BSRV9JQ09fU0xPR05fQ09MTEVDVEVEKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMjsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgLyoqCiAgICAgKiBvZmZpY2lhbGx5IGZpbmlzaCBJQ08sIG9ubHkgYWxsb3dlZCBhZnRlciBJQ08gaXMgZW5kZWQKICAgICAqLwogICAgZnVuY3Rpb24gaWNvRmluaXNoSW50ZXJuYWwodWludDI1NiB0aW1lKSBpbnRlcm5hbCByZXR1cm5zIChib29sKSB7CiAgICAgICAgaWYodGltZSA8PSBJQ09fVElMTCkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBpZih0b3RhbFNvbGRTbG9nbnMgPj0gTUlOX0lDT19TTE9HTl9DT0xMRUNURUQpIHsKICAgICAgICAgICAgLy8gYnVybiB0b2tlbnMgYXNzaWduZWQgdG8gc21hcnQgY29udHJhY3QKCiAgICAgICAgICAgIHRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkgLSBiYWxhbmNlT2ZbdGhpc107CgogICAgICAgICAgICBiYWxhbmNlT2ZbdGhpc10gPSAwOwoKICAgICAgICAgICAgLy8gYWxsb3cgdHJhbnNhY3Rpb25zIGZvciBldmVyeW9uZQogICAgICAgICAgICBpc1RyYW5zYWN0aW9uc0FsbG93ZWQgPSB0cnVlOwoKICAgICAgICAgICAgSWNvRmluaXNoZWQoKTsKCiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8qKgogICAgICogcmVmdW5kIGljbyBtZXRob2QKICAgICAqLwogICAgZnVuY3Rpb24gcmVmdW5kSW50ZXJuYWwodWludDI1NiB0aW1lKSBpbnRlcm5hbCByZXR1cm5zIChib29sKSB7CiAgICAgICAgaWYodGltZSA8PSBQUkVfSUNPX1RJTEwpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgaWYodG90YWxTb2xkU2xvZ25zID49IE1JTl9QUkVfSUNPX1NMT0dOX0NPTExFQ1RFRCkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB1aW50MjU2IHRyYW5zZmVyZWRFdGhlcnM7CgogICAgICAgIHRyYW5zZmVyZWRFdGhlcnMgPSBwcmVJY29FdGhlcnNbbXNnLnNlbmRlcl07CgogICAgICAgIGlmKHRyYW5zZmVyZWRFdGhlcnMgPiAwKSB7CiAgICAgICAgICAgIHByZUljb0V0aGVyc1ttc2cuc2VuZGVyXSA9IDA7CgogICAgICAgICAgICBiYWxhbmNlT2ZbbXNnLnNlbmRlcl0gPSAwOwoKICAgICAgICAgICAgbXNnLnNlbmRlci50cmFuc2Zlcih0cmFuc2ZlcmVkRXRoZXJzKTsKCiAgICAgICAgICAgIFJlZnVuZEV0aChtc2cuc2VuZGVyLCB0cmFuc2ZlcmVkRXRoZXJzKTsKCiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQp9Cgpjb250cmFjdCBTbG9nblRva2VuIGlzIFRva2VuLCBFc2Nyb3dJQ08gewogICAgc3RyaW5nIHB1YmxpYyBjb25zdGFudCBTVEFOREFSRCA9ICdTbG9nbiB2MC4xJzsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgTkFNRSA9ICdTTE9HTic7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IFNZTUJPTCA9ICdTTEdOJzsKICAgIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBQUkVDSVNJT04gPSAxNDsKCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBUT1RBTF9TVVBQTFkgPSA4MDAwMDAgZXRoZXI7IC8vIGluaXRpYWwgdG90YWwgc3VwcGx5IGVxdWFscyB0byA4LjAwMC4wMDAuMDAwIHNsb2ducyBvciA4MDAuMDAwIGV0aHMKCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBDT1JFX1RFQU1fVE9LRU5TID0gVE9UQUxfU1VQUExZIC8gMTAwICogMTU7ICAgICAgIC8vIDE1JQogICAgdWludDI1NiBwdWJsaWMgY29uc3RhbnQgQURWSVNPUllfQk9BUkRfVE9LRU5TID0gVE9UQUxfU1VQUExZIC8gMTAwMCAqIDE1OyAgICAgICAvLyAxLjUlCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBPUEVOU09VUkNFX1RPS0VOUyA9IFRPVEFMX1NVUFBMWSAvIDEwMDAgKiA3NTsgICAgIC8vIDcuNSUKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFJFU0VSVkVfVE9LRU5TID0gVE9UQUxfU1VQUExZIC8gMTAwICogNTsgICAgICAgICAgLy8gNSUKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IEJPVU5UWV9UT0tFTlMgPSBUT1RBTF9TVVBQTFkgLyAxMDA7ICAgICAgICAgICAgICAgLy8gMSUKCiAgICBhZGRyZXNzIHB1YmxpYyBhZHZpc29yeUJvYXJkRnVuZE1hbmFnZXI7CiAgICBhZGRyZXNzIHB1YmxpYyBvcGVuc291cmNlRnVuZE1hbmFnZXI7CiAgICBhZGRyZXNzIHB1YmxpYyByZXNlcnZlRnVuZE1hbmFnZXI7CiAgICBhZGRyZXNzIHB1YmxpYyBib3VudHlGdW5kTWFuYWdlcjsKICAgIGFkZHJlc3MgcHVibGljIGV0aEZ1bmRNYW5hZ2VyOwogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgLyogVGhpcyBnZW5lcmF0ZXMgYSBwdWJsaWMgZXZlbnQgb24gdGhlIGJsb2NrY2hhaW4gdGhhdCB3aWxsIG5vdGlmeSBjbGllbnRzICovCiAgICBldmVudCBCb251c0Vhcm5lZChhZGRyZXNzIHRhcmdldCwgdWludDI1NiBib251cyk7CgogICAgLyogTW9kaWZpZXJzICovCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShvd25lciA9PSBtc2cuc2VuZGVyKTsKCiAgICAgICAgXzsKICAgIH0KCiAgICAvKiBJbml0aWFsaXplcyBjb250cmFjdCB3aXRoIGluaXRpYWwgc3VwcGx5IHRva2VucyB0byB0aGUgY3JlYXRvciBvZiB0aGUgY29udHJhY3QgKi8KICAgIGZ1bmN0aW9uIFNsb2duVG9rZW4oCiAgICBhZGRyZXNzIFtdIGNvcmVUZWFtLAogICAgYWRkcmVzcyBfYWR2aXNvcnlCb2FyZEZ1bmRNYW5hZ2VyLAogICAgYWRkcmVzcyBfb3BlbnNvdXJjZUZ1bmRNYW5hZ2VyLAogICAgYWRkcmVzcyBfcmVzZXJ2ZUZ1bmRNYW5hZ2VyLAogICAgYWRkcmVzcyBfYm91bnR5RnVuZE1hbmFnZXIsCiAgICBhZGRyZXNzIF9ldGhGdW5kTWFuYWdlcgogICAgKQogICAgVG9rZW4gKFRPVEFMX1NVUFBMWSwgU1RBTkRBUkQsIE5BTUUsIFNZTUJPTCwgUFJFQ0lTSU9OKQogICAgRXNjcm93SUNPKCkKICAgIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CgogICAgICAgIGFkdmlzb3J5Qm9hcmRGdW5kTWFuYWdlciA9IF9hZHZpc29yeUJvYXJkRnVuZE1hbmFnZXI7CiAgICAgICAgb3BlbnNvdXJjZUZ1bmRNYW5hZ2VyID0gX29wZW5zb3VyY2VGdW5kTWFuYWdlcjsKICAgICAgICByZXNlcnZlRnVuZE1hbmFnZXIgPSBfcmVzZXJ2ZUZ1bmRNYW5hZ2VyOwogICAgICAgIGJvdW50eUZ1bmRNYW5hZ2VyID0gX2JvdW50eUZ1bmRNYW5hZ2VyOwogICAgICAgIGV0aEZ1bmRNYW5hZ2VyID0gX2V0aEZ1bmRNYW5hZ2VyOwoKICAgICAgICAvLyB0cmFuc2ZlciB0b2tlbnMgdG8gY29yZSB0ZWFtCiAgICAgICAgdWludDI1NiB0b2tlbnNQZXJNZW1iZXIgPSBDT1JFX1RFQU1fVE9LRU5TIC8gY29yZVRlYW0ubGVuZ3RoOwoKICAgICAgICBmb3IodWludDggaSA9IDA7IGkgPCBjb3JlVGVhbS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB0cmFuc2ZlckludGVybmFsKHRoaXMsIGNvcmVUZWFtW2ldLCB0b2tlbnNQZXJNZW1iZXIpOwogICAgICAgIH0KCiAgICAgICAgLy8gQWR2aXNvcnkgYm9hcmQgZnVuZAogICAgICAgIHRyYW5zZmVySW50ZXJuYWwodGhpcywgYWR2aXNvcnlCb2FyZEZ1bmRNYW5hZ2VyLCBBRFZJU09SWV9CT0FSRF9UT0tFTlMpOwoKICAgICAgICAvLyBPcGVuc291cmNlIGZ1bmQKICAgICAgICB0cmFuc2ZlckludGVybmFsKHRoaXMsIG9wZW5zb3VyY2VGdW5kTWFuYWdlciwgT1BFTlNPVVJDRV9UT0tFTlMpOwoKICAgICAgICAvLyBSZXNlcnZlIGZ1bmQKICAgICAgICB0cmFuc2ZlckludGVybmFsKHRoaXMsIHJlc2VydmVGdW5kTWFuYWdlciwgUkVTRVJWRV9UT0tFTlMpOwoKICAgICAgICAvLyBCb3VudHkgZnVuZAogICAgICAgIHRyYW5zZmVySW50ZXJuYWwodGhpcywgYm91bnR5RnVuZE1hbmFnZXIsIEJPVU5UWV9UT0tFTlMpOwogICAgfQoKICAgIGZ1bmN0aW9uIGJ1eUZvcihhZGRyZXNzIF91c2VyLCB1aW50MjU2IGV0aGVycywgdWludCB0aW1lKSBpbnRlcm5hbCByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKGV0aGVycyA+IDApOwoKICAgICAgICB1aW50OCBpY29TdGVwID0gZ2V0SWNvU3RlcCh0aW1lKTsKCiAgICAgICAgcmVxdWlyZShpY29TdGVwID09IDEgfHwgaWNvU3RlcCA9PSAyKTsKCiAgICAgICAgLy8gbWF4aW11bSBjb2xsZWN0ZWQgYW1vdW50IGZvciBwcmVpY28gaXMgNTAwMCBldGhlcgogICAgICAgIGlmKGljb1N0ZXAgPT0gMSAmJiAodG90YWxTb2xkU2xvZ25zICsgZXRoZXJzKSA+IDUwMDAgZXRoZXIpIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQoKICAgICAgICB1aW50MjU2IHNsb2duQW1vdW50ID0gZXRoZXJzOyAvLyBjYWxjdWxhdGVzIHRoZSBhbW91bnQKCiAgICAgICAgdWludDI1NiBib251cyA9IGNhbGN1bGF0ZUJvbnVzKGljb1N0ZXAsIHRvdGFsU29sZFNsb2ducywgc2xvZ25BbW91bnQpOwoKICAgICAgICAvLyBjaGVjayBmb3IgYXZhaWxhYmxlIHNsb2ducwogICAgICAgIHJlcXVpcmUoYmFsYW5jZU9mW3RoaXNdID49IHNsb2duQW1vdW50ICsgYm9udXMpOwoKICAgICAgICBpZihib251cyA+IDApIHsKICAgICAgICAgICAgQm9udXNFYXJuZWQoX3VzZXIsIGJvbnVzKTsKICAgICAgICB9CgogICAgICAgIHRyYW5zZmVySW50ZXJuYWwodGhpcywgX3VzZXIsIHNsb2duQW1vdW50ICsgYm9udXMpOwoKICAgICAgICB0b3RhbFNvbGRTbG9nbnMgKz0gc2xvZ25BbW91bnQ7CgogICAgICAgIGlmKGljb1N0ZXAgPT0gMSkgewogICAgICAgICAgICBwcmVJY29FdGhlcnNbX3VzZXJdICs9IGV0aGVyczsgICAgICAvLyBmaWxsIGV0aGVyZXVtIHVzZWQgZm9yIHJlZnVuZCBpZiBnb2FsIG5vdCByZWFjaGVkCiAgICAgICAgfQogICAgICAgIGlmKGljb1N0ZXAgPT0gMikgewogICAgICAgICAgICBpY29FdGhlcnNbX3VzZXJdICs9IGV0aGVyczsgICAgICAvLyBmaWxsIGV0aGVyZXVtIHVzZWQgZm9yIHJlZnVuZCBpZiBnb2FsIG5vdCByZWFjaGVkCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEJ1eSBTbG9nbiB0b2tlbnMKICAgICAqLwogICAgZnVuY3Rpb24gYnV5KCkgcGF5YWJsZSB7CiAgICAgICAgYnV5Rm9yKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSwgYmxvY2sudGltZXN0YW1wKTsKICAgIH0KCiAgICAvKioKICAgICAqIE1hbmFnZSBldGhlcmV1bSBiYWxhbmNlCiAgICAgKiBAcGFyYW0gdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJFdGhlcihhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBpZihtc2cuc2VuZGVyICE9IGV0aEZ1bmRNYW5hZ2VyKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmKHRvdGFsU29sZFNsb2ducyA8IE1JTl9QUkVfSUNPX1NMT0dOX0NPTExFQ1RFRCkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBpZih0aGlzLmJhbGFuY2UgPCB2YWx1ZSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB0by50cmFuc2Zlcih2YWx1ZSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgaWYoaXNUcmFuc2FjdGlvbnNBbGxvd2VkID09IGZhbHNlKSB7CiAgICAgICAgICAgIGlmKG1zZy5zZW5kZXIgIT0gYm91bnR5RnVuZE1hbmFnZXIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRyYW5zZmVySW50ZXJuYWwobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAgICogQHBhcmFtIF90byBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHRyYW5zZmVyIHRvCiAgICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3V0IG9mIHRva2VucyB0byBiZSB0cmFuc2ZlcmVkCiAgICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIGlmKGlzVHJhbnNhY3Rpb25zQWxsb3dlZCA9PSBmYWxzZSkgewogICAgICAgICAgICBpZihfZnJvbSAhPSBib3VudHlGdW5kTWFuYWdlcikgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJhbnNmZXJGcm9tSW50ZXJuYWwoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiByZWZ1bmQoKSByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHJlZnVuZEludGVybmFsKGJsb2NrLnRpbWVzdGFtcCk7CiAgICB9CgogICAgZnVuY3Rpb24gaWNvRmluaXNoKCkgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBpY29GaW5pc2hJbnRlcm5hbChibG9jay50aW1lc3RhbXApOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFByZUljb0RhdGVzKHVpbnQyNTYgc2luY2UsIHVpbnQyNTYgdGlsbCkgb25seU93bmVyIHsKICAgICAgICBQUkVfSUNPX1NJTkNFID0gc2luY2U7CiAgICAgICAgUFJFX0lDT19USUxMID0gdGlsbDsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRJY29EYXRlcyh1aW50MjU2IHNpbmNlLCB1aW50MjU2IHRpbGwpIG9ubHlPd25lciB7CiAgICAgICAgSUNPX1NJTkNFID0gc2luY2U7CiAgICAgICAgSUNPX1RJTEwgPSB0aWxsOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFRyYW5zYWN0aW9uc0FsbG93ZWQoYm9vbCBlbmFibGVkKSBvbmx5T3duZXIgewogICAgICAgIGlzVHJhbnNhY3Rpb25zQWxsb3dlZCA9IGVuYWJsZWQ7CiAgICB9CgogICAgZnVuY3Rpb24gKCkgcGF5YWJsZSB7CiAgICAgICAgdGhyb3c7CiAgICB9Cn0='.
	

]
