Class {
	#name : #SRT3ac6cb00f5a44712022a51fbace4c7497f56ee31,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT3ac6cb00f5a44712022a51fbace4c7497f56ee31 >> base64 [
	^ 'Ly8gQWJzdHJhY3QgY29udHJhY3QgZm9yIHRoZSBmdWxsIEVSQyAyMCBUb2tlbiBzdGFuZGFyZAovLyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKcHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBUb2tlbiB7CiAgICAvKiBUaGlzIGlzIGEgc2xpZ2h0IGNoYW5nZSB0byB0aGUgRVJDMjAgYmFzZSBzdGFuZGFyZC4qLwogICAgLy8vIHRvdGFsIGFtb3VudCBvZiB0b2tlbnMKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwoKICAgIC8vLyBAcGFyYW0gX293bmVyIFRoZSBhZGRyZXNzIGZyb20gd2hpY2ggdGhlIGJhbGFuY2Ugd2lsbCBiZSByZXRyaWV2ZWQKICAgIC8vLyBAcmV0dXJuIFRoZSBiYWxhbmNlCiAgICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwoKICAgIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYF9mcm9tYCBvbiB0aGUgY29uZGl0aW9uIGl0IGlzIGFwcHJvdmVkIGJ5IGBfZnJvbWAKICAgIC8vLyBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQG5vdGljZSBgbXNnLnNlbmRlcmAgYXBwcm92ZXMgYF9zcGVuZGVyYCB0byBzcGVuZCBgX3ZhbHVlYCB0b2tlbnMKICAgIC8vLyBAcGFyYW0gX3NwZW5kZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgYWJsZSB0byB0cmFuc2ZlciB0aGUgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBiZSBhcHByb3ZlZCBmb3IgdHJhbnNmZXIKICAgIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIGFwcHJvdmFsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIEFtb3VudCBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKTsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBfb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpOwp9Cgpjb250cmFjdCBPd25lZCB7CgogICAgLy8vIGBvd25lcmAgaXMgdGhlIG9ubHkgYWRkcmVzcyB0aGF0IGNhbiBjYWxsIGEgZnVuY3Rpb24gd2l0aCB0aGlzCiAgICAvLy8gbW9kaWZpZXIKICAgIG1vZGlmaWVyIG9ubHlPd25lcigpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgLy8vIEBub3RpY2UgVGhlIENvbnN0cnVjdG9yIGFzc2lnbnMgdGhlIG1lc3NhZ2Ugc2VuZGVyIHRvIGJlIGBvd25lcmAKICAgIGZ1bmN0aW9uIE93bmVkKCkgcHVibGljIHsKICAgICAgICBvd25lciA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgYWRkcmVzcyBuZXdPd25lcj0weDA7CgogICAgZXZlbnQgT3duZXJVcGRhdGUoYWRkcmVzcyBfcHJldk93bmVyLCBhZGRyZXNzIF9uZXdPd25lcik7CgogICAgLy8vY2hhbmdlIHRoZSBvd25lcgogICAgZnVuY3Rpb24gY2hhbmdlT3duZXIoYWRkcmVzcyBfbmV3T3duZXIpIHB1YmxpYyBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUoX25ld093bmVyICE9IG93bmVyKTsKICAgICAgICBuZXdPd25lciA9IF9uZXdPd25lcjsKICAgIH0KCiAgICAvLy8gYWNjZXB0IHRoZSBvd25lcnNoaXAKICAgIGZ1bmN0aW9uIGFjY2VwdE93bmVyc2hpcCgpIHB1YmxpY3sKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gbmV3T3duZXIpOwogICAgICAgIE93bmVyVXBkYXRlKG93bmVyLCBuZXdPd25lcik7CiAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgICAgICBuZXdPd25lciA9IDB4MDsKICAgIH0KfQoKY29udHJhY3QgQ29udHJvbGxlZCBpcyBPd25lZHsKCiAgICBmdW5jdGlvbiBDb250cm9sbGVkKCkgcHVibGljIHsKICAgICAgIHNldEV4Y2x1ZGUobXNnLnNlbmRlcik7CiAgICB9CgogICAgLy8gRmxhZyB0aGF0IGRldGVybWluZXMgaWYgdGhlIHRva2VuIGlzIHRyYW5zZmVyYWJsZSBvciBub3QuCiAgICBib29sIHB1YmxpYyB0cmFuc2ZlckVuYWJsZWQgPSBmYWxzZTsKCiAgICAvLyBmbGFnIHRoYXQgbWFrZXMgbG9ja2VkIGFkZHJlc3MgZWZmZWN0CiAgICBib29sIGxvY2tGbGFnPXRydWU7CiAgICBtYXBwaW5nKGFkZHJlc3MgPT4gYm9vbCkgbG9ja2VkOwogICAgbWFwcGluZyhhZGRyZXNzID0+IGJvb2wpIGV4Y2x1ZGU7CgogICAgZnVuY3Rpb24gZW5hYmxlVHJhbnNmZXIoYm9vbCBfZW5hYmxlKSBwdWJsaWMgb25seU93bmVyewogICAgICAgIHRyYW5zZmVyRW5hYmxlZD1fZW5hYmxlOwogICAgfQoKICAgIGZ1bmN0aW9uIGRpc2FibGVMb2NrKGJvb2wgX2VuYWJsZSkgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sIHN1Y2Nlc3MpewogICAgICAgIGxvY2tGbGFnPV9lbmFibGU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkTG9jayhhZGRyZXNzIF9hZGRyKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2Vzcyl7CiAgICAgICAgcmVxdWlyZShfYWRkciE9bXNnLnNlbmRlcik7CiAgICAgICAgbG9ja2VkW19hZGRyXT10cnVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldEV4Y2x1ZGUoYWRkcmVzcyBfYWRkcikgcHVibGljIG9ubHlPd25lciByZXR1cm5zIChib29sIHN1Y2Nlc3MpewogICAgICAgIGV4Y2x1ZGVbX2FkZHJdPXRydWU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlTG9jayhhZGRyZXNzIF9hZGRyKSBwdWJsaWMgb25seU93bmVyIHJldHVybnMgKGJvb2wgc3VjY2Vzcyl7CiAgICAgICAgbG9ja2VkW19hZGRyXT1mYWxzZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBtb2RpZmllciB0cmFuc2ZlckFsbG93ZWQoYWRkcmVzcyBfYWRkcikgewogICAgICAgIGlmICghZXhjbHVkZVtfYWRkcl0pIHsKICAgICAgICAgICAgYXNzZXJ0KHRyYW5zZmVyRW5hYmxlZCk7CiAgICAgICAgICAgIGlmKGxvY2tGbGFnKXsKICAgICAgICAgICAgICAgIGFzc2VydCghbG9ja2VkW19hZGRyXSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIF87CiAgICB9Cgp9Cgpjb250cmFjdCBTdGFuZGFyZFRva2VuIGlzIFRva2VuLENvbnRyb2xsZWQgewoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHRyYW5zZmVyQWxsb3dlZChtc2cuc2VuZGVyKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvL0RlZmF1bHQgYXNzdW1lcyB0b3RhbFN1cHBseSBjYW4ndCBiZSBvdmVyIG1heCAoMl4yNTYgLSAxKS4KICAgICAgICAvL0lmIHlvdXIgdG9rZW4gbGVhdmVzIG91dCB0b3RhbFN1cHBseSBhbmQgY2FuIGlzc3VlIG1vcmUgdG9rZW5zIGFzIHRpbWUgZ29lcyBvbiwgeW91IG5lZWQgdG8gY2hlY2sgaWYgaXQgZG9lc24ndCB3cmFwLgogICAgICAgIC8vUmVwbGFjZSB0aGUgaWYgd2l0aCB0aGlzIG9uZSBpbnN0ZWFkLgogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA+IGJhbGFuY2VzW190b10pIHsKICAgICAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0KICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgdHJhbnNmZXJBbGxvd2VkKF9mcm9tKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvL3NhbWUgYXMgYWJvdmUuIFJlcGxhY2UgdGhpcyBsaW5lIHdpdGggdGhlIGZvbGxvd2luZyBpZiB5b3Ugd2FudCB0byBwcm90ZWN0IGFnYWluc3Qgd3JhcHBpbmcgdWludHMuCiAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQogICAgfQoKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgcHVibGljIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIHB1YmxpYyBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwp9Cgpjb250cmFjdCBNRVNIIGlzIFN0YW5kYXJkVG9rZW4gewoKICAgIGZ1bmN0aW9uICgpIHB1YmxpYyB7CiAgICAgICAgcmV2ZXJ0KCk7CiAgICB9CgogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIk0yQyBNZXNoIE5ldHdvcmsiOwogICAgdWludDggcHVibGljIGRlY2ltYWxzID0gMTg7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJtZXNoIjsKCgogICAgLy8gVGhlIG5vbmNlIGZvciBhdm9pZCB0cmFuc2ZlciByZXBsYXkgYXR0YWNrcwogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIG5vbmNlczsKCiAgICBmdW5jdGlvbiBNRVNIICh1aW50MjU2IGluaXRpYWxTdXBwbHkpIHB1YmxpYyB7CiAgICAgICAgdG90YWxTdXBwbHkgPSBpbml0aWFsU3VwcGx5ICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSB0b3RhbFN1cHBseTsKICAgIH0KICAgIC8qCiAgICAgKiBQcm94eSB0cmFuc2ZlciB0b2tlbi4gV2hlbiBzb21lIHVzZXJzIG9mIHRoZSBldGhlcmV1bSBhY2NvdW50IGhhcyBubyBldGhlciwKICAgICAqIGhlIG9yIHNoZSBjYW4gYXV0aG9yaXplIHRoZSBhZ2VudCBmb3IgYnJvYWRjYXN0IHRyYW5zYWN0aW9ucywgYW5kIGFnZW50cyBtYXkgY2hhcmdlIGFnZW5jeSBmZWVzCiAgICAgKiBAcGFyYW0gX2Zyb20KICAgICAqIEBwYXJhbSBfdG8KICAgICAqIEBwYXJhbSBfdmFsdWUKICAgICAqIEBwYXJhbSBmZWUKICAgICAqIEBwYXJhbSBfdgogICAgICogQHBhcmFtIF9yCiAgICAgKiBAcGFyYW0gX3MKICAgICAqLwogICAgZnVuY3Rpb24gdHJhbnNmZXJQcm94eShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUsIHVpbnQyNTYgX2ZlZSwKICAgICAgICB1aW50OCBfdixieXRlczMyIF9yLCBieXRlczMyIF9zKSBwdWJsaWMgdHJhbnNmZXJBbGxvd2VkKF9mcm9tKSByZXR1cm5zIChib29sKXsKCiAgICAgICAgaWYoYmFsYW5jZXNbX2Zyb21dIDwgX2ZlZSArIF92YWx1ZSkgcmV2ZXJ0KCk7CgogICAgICAgIHVpbnQyNTYgbm9uY2UgPSBub25jZXNbX2Zyb21dOwogICAgICAgIGJ5dGVzMzIgaCA9IGtlY2NhazI1NihfZnJvbSxfdG8sX3ZhbHVlLF9mZWUsbm9uY2UpOwogICAgICAgIGlmKF9mcm9tICE9IGVjcmVjb3ZlcihoLF92LF9yLF9zKSkgcmV2ZXJ0KCk7CgogICAgICAgIGlmKGJhbGFuY2VzW190b10gKyBfdmFsdWUgPCBiYWxhbmNlc1tfdG9dCiAgICAgICAgICAgIHx8IGJhbGFuY2VzW21zZy5zZW5kZXJdICsgX2ZlZSA8IGJhbGFuY2VzW21zZy5zZW5kZXJdKSByZXZlcnQoKTsKICAgICAgICBiYWxhbmNlc1tfdG9dICs9IF92YWx1ZTsKICAgICAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwoKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSArPSBfZmVlOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBtc2cuc2VuZGVyLCBfZmVlKTsKCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZSArIF9mZWU7CiAgICAgICAgbm9uY2VzW19mcm9tXSA9IG5vbmNlICsgMTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKgogICAgICogUHJveHkgYXBwcm92ZSB0aGF0IHNvbWUgb25lIGNhbiBhdXRob3JpemUgdGhlIGFnZW50IGZvciBicm9hZGNhc3QgdHJhbnNhY3Rpb24KICAgICAqIHdoaWNoIGNhbGwgYXBwcm92ZSBtZXRob2QsIGFuZCBhZ2VudHMgbWF5IGNoYXJnZSBhZ2VuY3kgZmVlcwogICAgICogQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIHdoaWNoIHNob3VsZCB0cmFuZmVyIHRva2VucyB0byBvdGhlcnMKICAgICAqIEBwYXJhbSBfc3BlbmRlciBUaGUgc3BlbmRlciB3aG8gYWxsb3dlZCBieSBfZnJvbQogICAgICogQHBhcmFtIF92YWx1ZSBUaGUgdmFsdWUgdGhhdCBzaG91bGQgYmUgdHJhbmZlcmVkLgogICAgICogQHBhcmFtIF92CiAgICAgKiBAcGFyYW0gX3IKICAgICAqIEBwYXJhbSBfcwogICAgICovCiAgICBmdW5jdGlvbiBhcHByb3ZlUHJveHkoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUsCiAgICAgICAgdWludDggX3YsYnl0ZXMzMiBfciwgYnl0ZXMzMiBfcykgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewoKICAgICAgICB1aW50MjU2IG5vbmNlID0gbm9uY2VzW19mcm9tXTsKICAgICAgICBieXRlczMyIGhhc2ggPSBrZWNjYWsyNTYoX2Zyb20sX3NwZW5kZXIsX3ZhbHVlLG5vbmNlKTsKICAgICAgICBpZihfZnJvbSAhPSBlY3JlY292ZXIoaGFzaCxfdixfcixfcykpIHJldmVydCgpOwogICAgICAgIGFsbG93ZWRbX2Zyb21dW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChfZnJvbSwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgbm9uY2VzW19mcm9tXSA9IG5vbmNlICsgMTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgLyoKICAgICAqIEdldCB0aGUgbm9uY2UKICAgICAqIEBwYXJhbSBfYWRkcgogICAgICovCiAgICBmdW5jdGlvbiBnZXROb25jZShhZGRyZXNzIF9hZGRyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nil7CiAgICAgICAgcmV0dXJuIG5vbmNlc1tfYWRkcl07CiAgICB9CgogICAgLyogQXBwcm92ZXMgYW5kIHRoZW4gY2FsbHMgdGhlIHJlY2VpdmluZyBjb250cmFjdCAqLwogICAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9leHRyYURhdGEpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKCiAgICAgICAgLy9jYWxsIHRoZSByZWNlaXZlQXBwcm92YWwgZnVuY3Rpb24gb24gdGhlIGNvbnRyYWN0IHlvdSB3YW50IHRvIGJlIG5vdGlmaWVkLiBUaGlzIGNyYWZ0cyB0aGUgZnVuY3Rpb24gc2lnbmF0dXJlIG1hbnVhbGx5IHNvIG9uZSBkb2Vzbid0IGhhdmUgdG8gaW5jbHVkZSBhIGNvbnRyYWN0IGluIGhlcmUganVzdCBmb3IgdGhpcy4KICAgICAgICAvL3JlY2VpdmVBcHByb3ZhbChhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSwgYWRkcmVzcyBfdG9rZW5Db250cmFjdCwgYnl0ZXMgX2V4dHJhRGF0YSkKICAgICAgICAvL2l0IGlzIGFzc3VtZWQgdGhhdCB3aGVuIGRvZXMgdGhpcyB0aGF0IHRoZSBjYWxsICpzaG91bGQqIHN1Y2NlZWQsIG90aGVyd2lzZSBvbmUgd291bGQgdXNlIHZhbmlsbGEgYXBwcm92ZSBpbnN0ZWFkLgogICAgICAgIGlmKCFfc3BlbmRlci5jYWxsKGJ5dGVzNChieXRlczMyKGtlY2NhazI1NigicmVjZWl2ZUFwcHJvdmFsKGFkZHJlc3MsdWludDI1NixhZGRyZXNzLGJ5dGVzKSIpKSksIG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSkpIHsgcmV2ZXJ0KCk7IH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKiBBcHByb3ZlcyBhbmQgdGhlbiBjYWxscyB0aGUgY29udHJhY3QgY29kZSovCiAgICBmdW5jdGlvbiBhcHByb3ZlQW5kQ2FsbGNvZGUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9leHRyYURhdGEpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKCiAgICAgICAgLy9DYWxsIHRoZSBjb250cmFjdCBjb2RlCiAgICAgICAgaWYoIV9zcGVuZGVyLmNhbGwoX2V4dHJhRGF0YSkpIHsgcmV2ZXJ0KCk7IH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQ=='.
	

]
