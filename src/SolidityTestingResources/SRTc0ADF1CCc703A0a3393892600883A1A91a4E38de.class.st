Class {
	#name : #SRTc0ADF1CCc703A0a3393892600883A1A91a4E38de,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTc0ADF1CCc703A0a3393892600883A1A91a4E38de >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTM7Cgpjb250cmFjdCBCVENSZWxheSB7CiAgICBmdW5jdGlvbiBnZXRMYXN0QmxvY2tIZWlnaHQoKSByZXR1cm5zIChpbnQpOwogICAgZnVuY3Rpb24gZ2V0QmxvY2tjaGFpbkhlYWQoKSByZXR1cm5zIChpbnQpOwogICAgZnVuY3Rpb24gZ2V0RmVlQW1vdW50KGludCBibG9ja0hhc2gpIHJldHVybnMgKGludCk7CiAgICBmdW5jdGlvbiBnZXRCbG9ja0hlYWRlcihpbnQgYmxvY2tIYXNoKSByZXR1cm5zIChieXRlczMyWzNdKTsKfQoKY29udHJhY3QgUG9pc3NvbkRhdGEgewogICAgZnVuY3Rpb24gbG9va3VwKGludCBibG9ja3MpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpOwp9Cgpjb250cmFjdCBFc2Nyb3cgewogICAgZnVuY3Rpb24gZGVwb3NpdChhZGRyZXNzIHJlY2lwaWVudCkgcGF5YWJsZTsKfQoKY29udHJhY3QgRXRoZXJldW1Mb3R0ZXJ5IHsKICAgIHVpbnQgY29uc3RhbnQgSU5BQ1RJVklUWV9USU1FT1VUID0gMiB3ZWVrczsKICAgIHVpbnQgY29uc3RhbnQgR0FTX0xJTUlUID0gMzAwMDAwOwoKICAgIHN0cnVjdCBMb3R0ZXJ5IHsKICAgICAgICB1aW50IGphY2twb3Q7CiAgICAgICAgaW50IGRlY2lkaW5nQmxvY2s7CiAgICAgICAgdWludCBudW1UaWNrZXRzOwogICAgICAgIHVpbnQgbnVtVGlja2V0c1NvbGQ7CiAgICAgICAgdWludCB0aWNrZXRQcmljZTsKICAgICAgICB1aW50IGN1dG9mZlRpbWVzdGFtcDsKICAgICAgICBpbnQgd2lubmluZ1RpY2tldDsKICAgICAgICBhZGRyZXNzIHdpbm5lcjsKICAgICAgICB1aW50IGZpbmFsaXphdGlvbkJsb2NrOwogICAgICAgIGFkZHJlc3MgZmluYWxpemVyOwogICAgICAgIHN0cmluZyBtZXNzYWdlOwogICAgICAgIG1hcHBpbmcgKHVpbnQgPT4gYWRkcmVzcykgdGlja2V0czsKICAgICAgICBpbnQgbmVhcmVzdEtub3duQmxvY2s7CiAgICAgICAgaW50IG5lYXJlc3RLbm93bkJsb2NrSGFzaDsKICAgIH0KCiAgICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKICAgIGFkZHJlc3MgcHVibGljIGFkbWluOwogICAgYWRkcmVzcyBwdWJsaWMgcHJvcG9zZWRPd25lcjsKCiAgICBpbnQgcHVibGljIGlkID0gLTE7CiAgICB1aW50IHB1YmxpYyBsYXN0SW5pdFRpbWVzdGFtcDsKICAgIHVpbnQgcHVibGljIGxhc3RTYWxlVGltZXN0YW1wOwoKICAgIHVpbnQgcHVibGljIHJlY2VudEFjdGl2aXR5SWR4OwogICAgdWludFsxMDAwXSBwdWJsaWMgcmVjZW50QWN0aXZpdHk7CgogICAgbWFwcGluZyAoaW50ID0+IExvdHRlcnkpIHB1YmxpYyBsb3R0ZXJpZXM7CgogICAgYWRkcmVzcyBwdWJsaWMgYnRjUmVsYXk7CiAgICBhZGRyZXNzIHB1YmxpYyBwb2lzc29uRGF0YTsKICAgIGFkZHJlc3MgcHVibGljIGVzY3JvdzsKCiAgICBtb2RpZmllciBvbmx5T3duZXIgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBvd25lcik7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5QWRtaW5Pck93bmVyIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIgfHwgbXNnLnNlbmRlciA9PSBhZG1pbik7CiAgICAgICAgXzsKICAgIH0KCiAgICBtb2RpZmllciBhZnRlckluaXRpYWxpemF0aW9uIHsKICAgICAgICByZXF1aXJlKGlkID49IDApOwogICAgICAgIF87CiAgICB9CgogICAgZnVuY3Rpb24gRXRoZXJldW1Mb3R0ZXJ5KGFkZHJlc3MgX2J0Y1JlbGF5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgX3BvaXNzb25EYXRhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgX2VzY3JvdykgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgICAgICBhZG1pbiA9IG1zZy5zZW5kZXI7CiAgICAgICAgYnRjUmVsYXkgPSBfYnRjUmVsYXk7CiAgICAgICAgcG9pc3NvbkRhdGEgPSBfcG9pc3NvbkRhdGE7CiAgICAgICAgZXNjcm93ID0gX2VzY3JvdzsKICAgIH0KCiAgICBmdW5jdGlvbiBuZWVkc0luaXRpYWxpemF0aW9uKCkgY29uc3RhbnQgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBpZCA9PSAtMSB8fCBsb3R0ZXJpZXNbaWRdLmZpbmFsaXphdGlvbkJsb2NrID4gMDsKICAgIH0KCiAgICBmdW5jdGlvbiBpbml0TG90dGVyeSh1aW50IF9qYWNrcG90LCB1aW50IF9udW1UaWNrZXRzLAogICAgICAgICAgICAgICAgICAgICAgICAgdWludCBfdGlja2V0UHJpY2UsIGludCBfZHVyYXRpb25JbkJsb2NrcykKICAgICAgICAgICAgIHBheWFibGUgb25seUFkbWluT3JPd25lciB7CiAgICAgICAgcmVxdWlyZShuZWVkc0luaXRpYWxpemF0aW9uKCkpOwogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID4gMCk7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPT0gX2phY2twb3QpOwogICAgICAgIHJlcXVpcmUoX251bVRpY2tldHMgKiBfdGlja2V0UHJpY2UgPiBfamFja3BvdCk7CgogICAgICAgIC8vIExvb2sgdXAgcHJlY29tcHV0ZWQgdGltZXNwYW4gaW4gc2Vjb25kcyB3aGVyZSB0aGUKICAgICAgICAvLyBwcm9iYWJpbGl0eSBmb3IgbiBvciBtb3JlIGJsb2NrcyBvY2N1cmluZyB3aXRoaW4KICAgICAgICAvLyB0aGF0IHRpbWVzcGFuIGlzIGp1c3QgMSAlLiBUaGlzIGlzIGJhc2VkIG9uCiAgICAgICAgLy8gYXNzdW1pbmcgYW4gYWN0dWFsIGJsb2NrIHRpbWUgb2YgOSBtaW51dGVzLiBXZQogICAgICAgIC8vIGNhbiB1c2UgdGhpcyBkYXRhIHRvIGZpZ3VyZSBvdXQgZm9yIGhvdyBsb25nIGl0CiAgICAgICAgLy8gaXMgc2FmZSB0byBrZWVwIHNlbGxpbmcgdGlja2V0cy4KICAgICAgICB1aW50IHRpY2tldFNhbGVEdXJhdGlvbiA9CiAgICAgICAgICAgIFBvaXNzb25EYXRhKHBvaXNzb25EYXRhKS5sb29rdXAoX2R1cmF0aW9uSW5CbG9ja3MgLSAxKTsKICAgICAgICByZXF1aXJlKHRpY2tldFNhbGVEdXJhdGlvbiA+IDApOwoKICAgICAgICBpZCArPSAxOwogICAgICAgIGxvdHRlcmllc1tpZF0uamFja3BvdCA9IF9qYWNrcG90OwogICAgICAgIGxvdHRlcmllc1tpZF0uZGVjaWRpbmdCbG9jayA9CiAgICAgICAgICAgIEJUQ1JlbGF5KGJ0Y1JlbGF5KS5nZXRMYXN0QmxvY2tIZWlnaHQoKSArIF9kdXJhdGlvbkluQmxvY2tzOwogICAgICAgIGxvdHRlcmllc1tpZF0ubnVtVGlja2V0cyA9IF9udW1UaWNrZXRzOwogICAgICAgIGxvdHRlcmllc1tpZF0udGlja2V0UHJpY2UgPSBfdGlja2V0UHJpY2U7CiAgICAgICAgbG90dGVyaWVzW2lkXS5jdXRvZmZUaW1lc3RhbXAgPSBub3cgKyB0aWNrZXRTYWxlRHVyYXRpb247CiAgICAgICAgbG90dGVyaWVzW2lkXS53aW5uaW5nVGlja2V0ID0gLTE7CgogICAgICAgIGxhc3RJbml0VGltZXN0YW1wID0gbm93OwogICAgfQoKICAgIGZ1bmN0aW9uIGJ1eVRpY2tldHModWludFtdIF90aWNrZXRzKQogICAgICAgICAgICAgcGF5YWJsZSBhZnRlckluaXRpYWxpemF0aW9uIHsKICAgICAgICBpbnQgYmxvY2tIZWlnaHQgPSBCVENSZWxheShidGNSZWxheSkuZ2V0TGFzdEJsb2NrSGVpZ2h0KCk7CiAgICAgICAgcmVxdWlyZShibG9ja0hlaWdodCArIDEgPCBsb3R0ZXJpZXNbaWRdLmRlY2lkaW5nQmxvY2spOwogICAgICAgIHJlcXVpcmUobm93IDwgbG90dGVyaWVzW2lkXS5jdXRvZmZUaW1lc3RhbXApOwoKICAgICAgICByZXF1aXJlKF90aWNrZXRzLmxlbmd0aCA+IDApOwogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID09IF90aWNrZXRzLmxlbmd0aCAqIGxvdHRlcmllc1tpZF0udGlja2V0UHJpY2UpOwoKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBfdGlja2V0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB1aW50IHRpY2tldCA9IF90aWNrZXRzW2ldOwogICAgICAgICAgICByZXF1aXJlKHRpY2tldCA+PSAwKTsKICAgICAgICAgICAgcmVxdWlyZSh0aWNrZXQgPCBsb3R0ZXJpZXNbaWRdLm51bVRpY2tldHMpOwogICAgICAgICAgICByZXF1aXJlKGxvdHRlcmllc1tpZF0udGlja2V0c1t0aWNrZXRdID09IDApOwoKICAgICAgICAgICAgbG90dGVyaWVzW2lkXS50aWNrZXRzW3RpY2tldF0gPSBtc2cuc2VuZGVyOwogICAgICAgICAgICByZWNlbnRBY3Rpdml0eVtyZWNlbnRBY3Rpdml0eUlkeF0gPSB0aWNrZXQ7CgogICAgICAgICAgICByZWNlbnRBY3Rpdml0eUlkeCArPSAxOwogICAgICAgICAgICBpZiAocmVjZW50QWN0aXZpdHlJZHggPj0gcmVjZW50QWN0aXZpdHkubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICByZWNlbnRBY3Rpdml0eUlkeCA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgbG90dGVyaWVzW2lkXS5udW1UaWNrZXRzU29sZCArPSBfdGlja2V0cy5sZW5ndGg7CiAgICAgICAgbGFzdFNhbGVUaW1lc3RhbXAgPSBub3c7CgogICAgICAgIC8vIE1heWJlIHNob3J0ZW4gdGlja2V0IHNhbGUgdGltZXNwYW4gaWYgd2UgYXJlIHJ1bm5pbmcgYWhlYWQuCiAgICAgICAgaW50IHJlbWFpbmluZ0R1cmF0aW9uSW5CbG9ja3MgPQogICAgICAgICAgICBsb3R0ZXJpZXNbaWRdLmRlY2lkaW5nQmxvY2sgLSBibG9ja0hlaWdodDsKICAgICAgICB1aW50IHRpY2tldFNhbGVEdXJhdGlvbiA9CiAgICAgICAgICAgIFBvaXNzb25EYXRhKHBvaXNzb25EYXRhKS5sb29rdXAocmVtYWluaW5nRHVyYXRpb25JbkJsb2NrcyAtIDEpOwogICAgICAgIGlmIChub3cgKyB0aWNrZXRTYWxlRHVyYXRpb24gPCBsb3R0ZXJpZXNbaWRdLmN1dG9mZlRpbWVzdGFtcCkgewogICAgICAgICAgICBsb3R0ZXJpZXNbaWRdLmN1dG9mZlRpbWVzdGFtcCA9IG5vdyArIHRpY2tldFNhbGVEdXJhdGlvbjsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gbmVlZHNGaW5hbGl6YXRpb24oKQogICAgICAgICAgICAgYWZ0ZXJJbml0aWFsaXphdGlvbiBjb25zdGFudCByZXR1cm5zIChib29sKSB7CiAgICAgICAgaW50IGJsb2NrSGVpZ2h0ID0gQlRDUmVsYXkoYnRjUmVsYXkpLmdldExhc3RCbG9ja0hlaWdodCgpOwogICAgICAgIHJldHVybiBibG9ja0hlaWdodCA+PSBsb3R0ZXJpZXNbaWRdLmRlY2lkaW5nQmxvY2sgKyA2ICYmCiAgICAgICAgICAgICAgIGxvdHRlcmllc1tpZF0uZmluYWxpemF0aW9uQmxvY2sgPT0gMDsKICAgIH0KCiAgICBmdW5jdGlvbiBmaW5hbGl6ZUxvdHRlcnkodWludCBfc3RlcHMpCiAgICAgICAgICAgICBhZnRlckluaXRpYWxpemF0aW9uIHsKICAgICAgICByZXF1aXJlKG5lZWRzRmluYWxpemF0aW9uKCkpOwoKICAgICAgICBpZiAobG90dGVyaWVzW2lkXS5uZWFyZXN0S25vd25CbG9jayAhPSBsb3R0ZXJpZXNbaWRdLmRlY2lkaW5nQmxvY2spIHsKICAgICAgICAgICAgd2Fsa1Rvd2FyZHNCbG9jayhfc3RlcHMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGludCB3aW5uaW5nVGlja2V0ID0gbG90dGVyaWVzW2lkXS5uZWFyZXN0S25vd25CbG9ja0hhc2ggJQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludChsb3R0ZXJpZXNbaWRdLm51bVRpY2tldHMpOwogICAgICAgICAgICBhZGRyZXNzIHdpbm5lciA9IGxvdHRlcmllc1tpZF0udGlja2V0c1t1aW50KHdpbm5pbmdUaWNrZXQpXTsKCiAgICAgICAgICAgIGxvdHRlcmllc1tpZF0ud2lubmluZ1RpY2tldCA9IHdpbm5pbmdUaWNrZXQ7CiAgICAgICAgICAgIGxvdHRlcmllc1tpZF0ud2lubmVyID0gd2lubmVyOwogICAgICAgICAgICBsb3R0ZXJpZXNbaWRdLmZpbmFsaXphdGlvbkJsb2NrID0gYmxvY2subnVtYmVyOwogICAgICAgICAgICBsb3R0ZXJpZXNbaWRdLmZpbmFsaXplciA9IHR4Lm9yaWdpbjsKCiAgICAgICAgICAgIGlmICh3aW5uZXIgIT0gMCkgewogICAgICAgICAgICAgICAgdWludCB2YWx1ZSA9IGxvdHRlcmllc1tpZF0uamFja3BvdDsKICAgICAgICAgICAgICAgIGJvb2wgc3VjY2Vzc2Z1bCA9IHdpbm5lci5jYWxsLmdhcyhHQVNfTElNSVQpLnZhbHVlKHZhbHVlKSgpOwogICAgICAgICAgICAgICAgaWYgKCFzdWNjZXNzZnVsKSB7CiAgICAgICAgICAgICAgICAgICAgRXNjcm93KGVzY3JvdykuZGVwb3NpdC52YWx1ZSh2YWx1ZSkod2lubmVyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIF8gPSBhZG1pbi5jYWxsLmdhcyhHQVNfTElNSVQpLnZhbHVlKHRoaXMuYmFsYW5jZSkoKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gd2Fsa1Rvd2FyZHNCbG9jayh1aW50IF9zdGVwcykgaW50ZXJuYWwgewogICAgICAgIGludCBibG9ja0hlaWdodDsKICAgICAgICBpbnQgYmxvY2tIYXNoOwogICAgICAgIGlmIChsb3R0ZXJpZXNbaWRdLm5lYXJlc3RLbm93bkJsb2NrID09IDApIHsKICAgICAgICAgICAgYmxvY2tIZWlnaHQgPSBCVENSZWxheShidGNSZWxheSkuZ2V0TGFzdEJsb2NrSGVpZ2h0KCk7CiAgICAgICAgICAgIGJsb2NrSGFzaCA9IEJUQ1JlbGF5KGJ0Y1JlbGF5KS5nZXRCbG9ja2NoYWluSGVhZCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGJsb2NrSGVpZ2h0ID0gbG90dGVyaWVzW2lkXS5uZWFyZXN0S25vd25CbG9jazsKICAgICAgICAgICAgYmxvY2tIYXNoID0gbG90dGVyaWVzW2lkXS5uZWFyZXN0S25vd25CbG9ja0hhc2g7CiAgICAgICAgfQoKICAgICAgICAvLyBXYWxrIG9ubHkgYSBmZXcgc3RlcHMgdG8ga2VlcCBhbiB1cHBlciBsaW1pdCBvbiBnYXMgY29zdHMuCiAgICAgICAgZm9yICh1aW50IHN0ZXAgPSAwOyBzdGVwIDwgX3N0ZXBzOyBzdGVwKyspIHsKICAgICAgICAgICAgLy8gV2UgZXhwZWN0IGZyZWUgYWNjZXNzIHRvIEJUQ1JlbGF5LgogICAgICAgICAgICBpbnQgZmVlID0gQlRDUmVsYXkoYnRjUmVsYXkpLmdldEZlZUFtb3VudChibG9ja0hhc2gpOwogICAgICAgICAgICByZXF1aXJlKGZlZSA9PSAwKTsKCiAgICAgICAgICAgIGJ5dGVzMzIgYmxvY2tIZWFkZXIgPQogICAgICAgICAgICAgICAgQlRDUmVsYXkoYnRjUmVsYXkpLmdldEJsb2NrSGVhZGVyKGJsb2NrSGFzaClbMl07CiAgICAgICAgICAgIGJ5dGVzMzIgdGVtcDsKCiAgICAgICAgICAgIGFzc2VtYmx5IHsKICAgICAgICAgICAgICAgIGxldCB4IDo9IG1sb2FkKDB4NDApCiAgICAgICAgICAgICAgICBtc3RvcmUoeCwgYmxvY2tIZWFkZXIpCiAgICAgICAgICAgICAgICB0ZW1wIDo9IG1sb2FkKGFkZCh4LCAweDA0KSkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYmxvY2tIZWlnaHQgLT0gMTsKICAgICAgICAgICAgYmxvY2tIYXNoID0gMDsKICAgICAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgMzI7IGkrKykgewogICAgICAgICAgICAgICAgYmxvY2tIYXNoID0gYmxvY2tIYXNoIHwgaW50KHRlbXBbdWludChpKV0pICogaW50KDI1NiAqKiBpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGJsb2NrSGVpZ2h0ID09IGxvdHRlcmllc1tpZF0uZGVjaWRpbmdCbG9jaykgeyBicmVhazsgfQogICAgICAgIH0KCiAgICAgICAgLy8gU3RvcmUgdGhlIHByb2dyZXNzIHRvIHBpY2sgdXAgZnJvbSB0aGVyZSBuZXh0IHRpbWUuCiAgICAgICAgbG90dGVyaWVzW2lkXS5uZWFyZXN0S25vd25CbG9jayA9IGJsb2NrSGVpZ2h0OwogICAgICAgIGxvdHRlcmllc1tpZF0ubmVhcmVzdEtub3duQmxvY2tIYXNoID0gYmxvY2tIYXNoOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldE1lc3NhZ2VMZW5ndGgoc3RyaW5nIF9tZXNzYWdlKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIGJ5dGVzKF9tZXNzYWdlKS5sZW5ndGg7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0TWVzc2FnZShpbnQgX2lkLCBzdHJpbmcgX21lc3NhZ2UpCiAgICAgICAgICAgICBhZnRlckluaXRpYWxpemF0aW9uIHsKICAgICAgICByZXF1aXJlKGxvdHRlcmllc1tfaWRdLndpbm5lciAhPSAwKTsKICAgICAgICByZXF1aXJlKGxvdHRlcmllc1tfaWRdLndpbm5lciA9PSBtc2cuc2VuZGVyKTsKICAgICAgICByZXF1aXJlKGdldE1lc3NhZ2VMZW5ndGgoX21lc3NhZ2UpIDw9IDUwMCk7CiAgICAgICAgbG90dGVyaWVzW19pZF0ubWVzc2FnZSA9IF9tZXNzYWdlOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldExvdHRlcnlEZXRhaWxzQShpbnQgX2lkKQogICAgICAgICAgICAgY29uc3RhbnQgcmV0dXJucyAoaW50IF9hY3R1YWxJZCwgdWludCBfamFja3BvdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCBfZGVjaWRpbmdCbG9jaywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQgX251bVRpY2tldHMsIHVpbnQgX251bVRpY2tldHNTb2xkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludCBfbGFzdFNhbGVUaW1lc3RhbXAsIHVpbnQgX3RpY2tldFByaWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludCBfY3V0b2ZmVGltZXN0YW1wKSB7CiAgICAgICAgaWYgKF9pZCA9PSAtMSkgewogICAgICAgICAgICBfYWN0dWFsSWQgPSBpZDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfYWN0dWFsSWQgPSBfaWQ7CiAgICAgICAgfQogICAgICAgIF9qYWNrcG90ID0gbG90dGVyaWVzW19hY3R1YWxJZF0uamFja3BvdDsKICAgICAgICBfZGVjaWRpbmdCbG9jayA9IGxvdHRlcmllc1tfYWN0dWFsSWRdLmRlY2lkaW5nQmxvY2s7CiAgICAgICAgX251bVRpY2tldHMgPSBsb3R0ZXJpZXNbX2FjdHVhbElkXS5udW1UaWNrZXRzOwogICAgICAgIF9udW1UaWNrZXRzU29sZCA9IGxvdHRlcmllc1tfYWN0dWFsSWRdLm51bVRpY2tldHNTb2xkOwogICAgICAgIF9sYXN0U2FsZVRpbWVzdGFtcCA9IGxhc3RTYWxlVGltZXN0YW1wOwogICAgICAgIF90aWNrZXRQcmljZSA9IGxvdHRlcmllc1tfYWN0dWFsSWRdLnRpY2tldFByaWNlOwogICAgICAgIF9jdXRvZmZUaW1lc3RhbXAgPSBsb3R0ZXJpZXNbX2FjdHVhbElkXS5jdXRvZmZUaW1lc3RhbXA7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0TG90dGVyeURldGFpbHNCKGludCBfaWQpCiAgICAgICAgICAgICBjb25zdGFudCByZXR1cm5zIChpbnQgX2FjdHVhbElkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IF93aW5uaW5nVGlja2V0LCBhZGRyZXNzIF93aW5uZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50IF9maW5hbGl6YXRpb25CbG9jaywgYWRkcmVzcyBfZmluYWxpemVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nIF9tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IF9wcmV2TG90dGVyeSwgaW50IF9uZXh0TG90dGVyeSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCBfYmxvY2tIZWlnaHQpIHsKICAgICAgICBpZiAoX2lkID09IC0xKSB7CiAgICAgICAgICAgIF9hY3R1YWxJZCA9IGlkOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF9hY3R1YWxJZCA9IF9pZDsKICAgICAgICB9CiAgICAgICAgX3dpbm5pbmdUaWNrZXQgPSBsb3R0ZXJpZXNbX2FjdHVhbElkXS53aW5uaW5nVGlja2V0OwogICAgICAgIF93aW5uZXIgPSBsb3R0ZXJpZXNbX2FjdHVhbElkXS53aW5uZXI7CiAgICAgICAgX2ZpbmFsaXphdGlvbkJsb2NrID0gbG90dGVyaWVzW19hY3R1YWxJZF0uZmluYWxpemF0aW9uQmxvY2s7CiAgICAgICAgX2ZpbmFsaXplciA9IGxvdHRlcmllc1tfYWN0dWFsSWRdLmZpbmFsaXplcjsKICAgICAgICBfbWVzc2FnZSA9IGxvdHRlcmllc1tfYWN0dWFsSWRdLm1lc3NhZ2U7CgogICAgICAgIGlmIChfYWN0dWFsSWQgPT0gMCkgewogICAgICAgICAgICBfcHJldkxvdHRlcnkgPSAtMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfcHJldkxvdHRlcnkgPSBfYWN0dWFsSWQgLSAxOwogICAgICAgIH0KICAgICAgICBpZiAoX2FjdHVhbElkID09IGlkKSB7CiAgICAgICAgICAgIF9uZXh0TG90dGVyeSA9IC0xOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF9uZXh0TG90dGVyeSA9IF9hY3R1YWxJZCArIDE7CiAgICAgICAgfQoKICAgICAgICBfYmxvY2tIZWlnaHQgPSBCVENSZWxheShidGNSZWxheSkuZ2V0TGFzdEJsb2NrSGVpZ2h0KCk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0VGlja2V0RGV0YWlscyhpbnQgX2lkLCB1aW50IF9vZmZzZXQsIHVpbnQgX24sIGFkZHJlc3MgX2FkZHIpCiAgICAgICAgICAgICBjb25zdGFudCByZXR1cm5zICh1aW50OFtdIGRldGFpbHMpIHsKICAgICAgICByZXF1aXJlKF9vZmZzZXQgKyBfbiA8PSBsb3R0ZXJpZXNbX2lkXS5udW1UaWNrZXRzKTsKCiAgICAgICAgZGV0YWlscyA9IG5ldyB1aW50OFtdKF9uKTsKICAgICAgICBmb3IgKHVpbnQgaSA9IDA7IGkgPCBfbjsgaSsrKSB7CiAgICAgICAgICAgIGFkZHJlc3MgYWRkciA9IGxvdHRlcmllc1tfaWRdLnRpY2tldHNbX29mZnNldCArIGldOwogICAgICAgICAgICBpZiAoYWRkciA9PSBfYWRkciAmJiBfYWRkciAhPSAwKSB7CiAgICAgICAgICAgICAgICBkZXRhaWxzW2ldID0gMjsKICAgICAgICAgICAgfSBlbHNlIGlmIChhZGRyICE9IDApIHsKICAgICAgICAgICAgICAgIGRldGFpbHNbaV0gPSAxOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZGV0YWlsc1tpXSA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgoKICAgIGZ1bmN0aW9uIGdldFRpY2tldE93bmVyKGludCBfaWQsIHVpbnQgX3RpY2tldCkgY29uc3RhbnQgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIHJlcXVpcmUoX2lkID49IDApOwogICAgICAgIHJldHVybiBsb3R0ZXJpZXNbX2lkXS50aWNrZXRzW190aWNrZXRdOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFJlY2VudEFjdGl2aXR5KCkKICAgICAgICAgICAgIGNvbnN0YW50IHJldHVybnMgKGludCBfaWQsIHVpbnQgX2lkeCwgdWludFsxMDAwXSBfcmVjZW50QWN0aXZpdHkpIHsKICAgICAgICBfaWQgPSBpZDsKICAgICAgICBfaWR4ID0gcmVjZW50QWN0aXZpdHlJZHg7CiAgICAgICAgZm9yICh1aW50IGkgPSAwOyBpIDwgcmVjZW50QWN0aXZpdHkubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgX3JlY2VudEFjdGl2aXR5W2ldID0gcmVjZW50QWN0aXZpdHlbaV07CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHNldEFkbWluKGFkZHJlc3MgX2FkbWluKSBvbmx5T3duZXIgewogICAgICAgIGFkbWluID0gX2FkbWluOwogICAgfQoKICAgIGZ1bmN0aW9uIHByb3Bvc2VPd25lcihhZGRyZXNzIF9vd25lcikgb25seU93bmVyIHsKICAgICAgICBwcm9wb3NlZE93bmVyID0gX293bmVyOwogICAgfQoKICAgIGZ1bmN0aW9uIGFjY2VwdE93bmVyc2hpcCgpIHsKICAgICAgICByZXF1aXJlKHByb3Bvc2VkT3duZXIgIT0gMCk7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IHByb3Bvc2VkT3duZXIpOwogICAgICAgIG93bmVyID0gcHJvcG9zZWRPd25lcjsKICAgIH0KCiAgICBmdW5jdGlvbiBkZXN0cnVjdCgpIG9ubHlPd25lciB7CiAgICAgICAgcmVxdWlyZShub3cgLSBsYXN0SW5pdFRpbWVzdGFtcCA+IElOQUNUSVZJVFlfVElNRU9VVCk7CiAgICAgICAgc2VsZmRlc3RydWN0KG93bmVyKTsKICAgIH0KfQ=='.
	

]
