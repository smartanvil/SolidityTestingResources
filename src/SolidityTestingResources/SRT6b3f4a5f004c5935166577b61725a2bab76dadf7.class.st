Class {
	#name : #SRT6b3f4a5f004c5935166577b61725a2bab76dadf7,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT6b3f4a5f004c5935166577b61725a2bab76dadf7 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgpsaWJyYXJ5IFNhZmVNYXRoIHsKICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQogIGZ1bmN0aW9uIGRpdih1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICAvLyBhc3NlcnQoYiA+IDApOyAvLyBTb2xpZGl0eSBhdXRvbWF0aWNhbGx5IHRocm93cyB3aGVuIGRpdmlkaW5nIGJ5IDAKICAgIHVpbnQyNTYgYyA9IGEgLyBiOwogICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgIHJldHVybiBjOwogIH0KICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQogIGZ1bmN0aW9uIGFkZCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcHVyZSByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9Cgpjb250cmFjdCBPd25hYmxlIHsKICBhZGRyZXNzIHB1YmxpYyBvd25lcjsKCiAgZXZlbnQgT3duZXJzaGlwVHJhbnNmZXJyZWQoYWRkcmVzcyBpbmRleGVkIHByZXZpb3VzT3duZXIsIGFkZHJlc3MgaW5kZXhlZCBuZXdPd25lcik7CgogIGZ1bmN0aW9uIE93bmFibGUoKSBwdWJsaWMgewogICAgb3duZXIgPSBtc2cuc2VuZGVyOwogIH0KICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgXzsKICB9CiAgZnVuY3Rpb24gdHJhbnNmZXJPd25lcnNoaXAoYWRkcmVzcyBuZXdPd25lcikgcHVibGljIG9ubHlPd25lciB7CiAgICByZXF1aXJlKG5ld093bmVyICE9IGFkZHJlc3MoMCkpOwogICAgZW1pdCBPd25lcnNoaXBUcmFuc2ZlcnJlZChvd25lciwgbmV3T3duZXIpOwogICAgb3duZXIgPSBuZXdPd25lcjsKICB9Cgp9Cgpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKfQoKY29udHJhY3QgRVJDMjAgewogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiB2YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9Cgpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMgewogIHVzaW5nIFNhZmVNYXRoIGZvciB1aW50MjU2OwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwoKICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGVtaXQgVHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfb3duZXIpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYgYmFsYW5jZSkgewogICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgfQoKfQoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgaW50ZXJuYWwgYWxsb3dlZDsKCiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwogICAgcmVxdWlyZShfdmFsdWUgPD0gYmFsYW5jZXNbX2Zyb21dKTsKICAgIHJlcXVpcmUoX3ZhbHVlIDw9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdKTsKCiAgICBiYWxhbmNlc1tfZnJvbV0gPSBiYWxhbmNlc1tfZnJvbV0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdID0gYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBlbWl0IFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgIGVtaXQgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NikgewogICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgfQoKICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICBlbWl0IEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGZ1bmN0aW9uIGRlY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfc3VidHJhY3RlZFZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgdWludCBvbGRWYWx1ZSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdOwogICAgaWYgKF9zdWJ0cmFjdGVkVmFsdWUgPiBvbGRWYWx1ZSkgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IDA7CiAgICB9IGVsc2UgewogICAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IG9sZFZhbHVlLnN1Yihfc3VidHJhY3RlZFZhbHVlKTsKICAgIH0KICAgIGVtaXQgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdKTsKICAgIHJldHVybiB0cnVlOwogIH0KCn0KCmNvbnRyYWN0IFRva2VuQ29udHJhY3QgaXMgT3duYWJsZSwgU3RhbmRhcmRUb2tlbiB7CiAgICBzdHJpbmcgcHVibGljIGNvbnN0YW50IG5hbWUgPSAiTVRFIFRva2VuIjsKICAgIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIk1URSI7CiAgICB1aW50OCBwdWJsaWMgY29uc3RhbnQgZGVjaW1hbHMgPSAxODsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IElOSVRJQUxfU1VQUExZID0gODAwMDAwMDAgKiAoMTAgKiogdWludDI1NihkZWNpbWFscykpOwoKICAgIGZ1bmN0aW9uIFRva2VuQ29udHJhY3QoYWRkcmVzcyBfbWFpbldhbGxldCkgcHVibGljIHsKICAgIGFkZHJlc3MgbWFpbldhbGxldCA9IF9tYWluV2FsbGV0OwogICAgdWludDI1NiB0b2tlbnNGb3JXYWxsZXQgPSAxODQwMDAwMCAqICgxMCAqKiB1aW50MjU2KGRlY2ltYWxzKSk7CiAgICB1aW50MjU2IHRva2Vuc0ZvcklDTyA9IElOSVRJQUxfU1VQUExZIC0gdG9rZW5zRm9yV2FsbGV0OwogICAgdG90YWxTdXBwbHkgPSBJTklUSUFMX1NVUFBMWTsKICAgIGJhbGFuY2VzW21haW5XYWxsZXRdID0gdG9rZW5zRm9yV2FsbGV0OwogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSB0b2tlbnNGb3JJQ087CiAgICBlbWl0IFRyYW5zZmVyKDB4MCwgbWFpbldhbGxldCwgdG9rZW5zRm9yV2FsbGV0KTsKICAgIGVtaXQgVHJhbnNmZXIoMHgwLCBtc2cuc2VuZGVyLCB0b2tlbnNGb3JJQ08pOwogIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sKSB7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRyYW5zZmVyKF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci50cmFuc2ZlckZyb20oX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJldHVybiBzdXBlci5hcHByb3ZlKF9zcGVuZGVyLCBfdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGluY3JlYXNlQXBwcm92YWwoYWRkcmVzcyBfc3BlbmRlciwgdWludCBfYWRkZWRWYWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIHJldHVybiBzdXBlci5pbmNyZWFzZUFwcHJvdmFsKF9zcGVuZGVyLCBfYWRkZWRWYWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXR1cm4gc3VwZXIuZGVjcmVhc2VBcHByb3ZhbChfc3BlbmRlciwgX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF9hbW91bnQpIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfYW1vdW50KTsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfYW1vdW50KTsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YihfYW1vdW50KTsKICAgICAgICBlbWl0IEJ1cm4obXNnLnNlbmRlciwgX2Ftb3VudCk7CiAgICB9CgogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgdWludDI1NiBhbW91bnQpOwp9CgoKY29udHJhY3QgQ3Jvd2RTYWxlIGlzIE93bmFibGUgewp1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgc3RydWN0IFdhdmUgewogICAgdWludDI1NiBwcmljZTsKICAgIHVpbnQyNTYgc3RhcnQ7CiAgICB1aW50MjU2IGZpbmlzaDsKICAgIHVpbnQyNTYgYW1vdW50OwogICAgdWludDI1NiBzb2xkOwogIH0KCiAgV2F2ZVs1XSBwcml2YXRlIHdhdmVzOwogIFRva2VuQ29udHJhY3QgcHVibGljIHRrbjsKICBhZGRyZXNzIHB1YmxpYyBtYWluV2FsbGV0OwogIHVpbnQ4IHB1YmxpYyBjdXJyZW50V2F2ZTsKICB1aW50MjU2IHB1YmxpYyB0b2tlbnNTb2xkOwoKICBmdW5jdGlvbiBDcm93ZFNhbGUoKSBwdWJsaWMgewogICAgdWludDI1NiBfc3RhcnRUaW1lID0gMTUyMjE2NjQwMDsKICAgIHRrbiA9IG5ldyBUb2tlbkNvbnRyYWN0KG1zZy5zZW5kZXIpOwogICAgZW1pdCBUb2tlbkNyZWF0aW9uKGFkZHJlc3ModGtuKSk7CiAgICBtYWluV2FsbGV0ID0gbXNnLnNlbmRlcjsgIAogICAgd2F2ZXNbMF0ucHJpY2UgPSA3MDA7CiAgICB3YXZlc1swXS5hbW91bnQgPSA2MTYwMDAwICogKDEwICoqIDE4KTsKICAgIHdhdmVzWzBdLnN0YXJ0ID0gX3N0YXJ0VGltZTsKICAgIHdhdmVzWzBdLmZpbmlzaCA9IF9zdGFydFRpbWUgKyA3IGRheXM7CiAgICB3YXZlc1sxXS5wcmljZSA9IDYwMDsKICAgIHdhdmVzWzFdLmFtb3VudCA9IDEyMzIwMDAwICogKDEwICoqIDE4KTsKICAgIHdhdmVzWzFdLnN0YXJ0ID0gd2F2ZXNbMF0uZmluaXNoOwogICAgd2F2ZXNbMV0uZmluaXNoID0gd2F2ZXNbMV0uc3RhcnQgKyAxNCBkYXlzOwogICAgd2F2ZXNbMl0ucHJpY2UgPSA1MDA7CiAgICB3YXZlc1syXS5hbW91bnQgPSAxMjMyMDAwMCAqICgxMCAqKiAxOCk7CiAgICB3YXZlc1syXS5zdGFydCA9IHdhdmVzWzFdLmZpbmlzaDsKICAgIHdhdmVzWzJdLmZpbmlzaCA9IHdhdmVzWzJdLnN0YXJ0ICsgMTQgZGF5czsKICAgIHdhdmVzWzNdLnByaWNlID0gNDAwOwogICAgd2F2ZXNbM10uYW1vdW50ID0gMTU0MDAwMDAgKiAoMTAgKiogMTgpOwogICAgd2F2ZXNbM10uc3RhcnQgPSB3YXZlc1syXS5maW5pc2g7CiAgICB3YXZlc1szXS5maW5pc2ggPSB3YXZlc1szXS5zdGFydCArIDE0IGRheXM7CiAgICB3YXZlc1s0XS5wcmljZSA9IDMwMDsKICAgIHdhdmVzWzRdLmFtb3VudCA9IDE1NDAwMDAwICogKDEwICoqIDE4KTsKICAgIHdhdmVzWzRdLnN0YXJ0ID0gd2F2ZXNbM10uZmluaXNoOwogICAgd2F2ZXNbNF0uZmluaXNoID0gd2F2ZXNbNF0uc3RhcnQgKyAxNCBkYXlzOwogIH0KCiAgZnVuY3Rpb24gdmFsaWRQdXJjaGFzZSgpIHByaXZhdGUgcmV0dXJucyAoYm9vbCkgewogICAgaWYgKCh3YXZlc1tjdXJyZW50V2F2ZV0uZmluaXNoID4gbm93KSAmJiAod2F2ZXNbY3VycmVudFdhdmVdLnNvbGQgPCB3YXZlc1tjdXJyZW50V2F2ZV0uYW1vdW50KSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgIGlmICh3YXZlc1tjdXJyZW50V2F2ZV0uZmluaXNoIDwgbm93KSB7CiAgICAgICAgYm9vbCBvblRpbWU7CiAgICAgICAgZm9yICh1aW50OCBpID0gKGN1cnJlbnRXYXZlKTsgaSA8IDU7IGkrKykgewogICAgICAgICAgY3VycmVudFdhdmUgKz0gMTsKICAgICAgICAgIGlmICh3YXZlc1tjdXJyZW50V2F2ZV0uZmluaXNoID4gbm93KSB7CiAgICAgICAgICAgIG9uVGltZSA9IHRydWU7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAob25UaW1lKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIGZvcndhcmRGdW5kcygpIHByaXZhdGUgewogICAgaWYgKGN1cnJlbnRXYXZlIDwgMikgewogICAgICB1aW50MjU2IHRvdGFsRnVuZHMgPSBhZGRyZXNzKHRoaXMpLmJhbGFuY2U7CiAgICAgIG1haW5XYWxsZXQudHJhbnNmZXIodG90YWxGdW5kcyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBmaW5pc2hJQ08oKSBvbmx5T3duZXIgcHVibGljIHsKICAgIGlmICgod2F2ZXNbY3VycmVudFdhdmVdLmZpbmlzaCA+IG5vdykgfHwgKHdhdmVzW2N1cnJlbnRXYXZlXS5zb2xkID09IHdhdmVzW2N1cnJlbnRXYXZlXS5hbW91bnQpKSB7CiAgICAgICAgZm9yd2FyZEZ1bmRzKCk7CiAgICAgICAgdWludDI1NiB0b2tlbnNUb0J1cm47CiAgICAgICAgdG9rZW5zVG9CdXJuID0gdGtuLmJhbGFuY2VPZihhZGRyZXNzKHRoaXMpKTsKICAgICAgICB0a24uYnVybih0b2tlbnNUb0J1cm4pOwogICAgICAgIHNlbGZkZXN0cnVjdChtYWluV2FsbGV0KTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGF1dG9TZWxsKGFkZHJlc3MgX2ludmVzdG9yLCB1aW50MjU2IF9pbnZlc3RtZW50KSBwcml2YXRlIHsKICAgIHVpbnQyNTYgdG9rZW5zVG9TZWxsOwogICAgdG9rZW5zVG9TZWxsID0gX2ludmVzdG1lbnQubXVsKHdhdmVzW2N1cnJlbnRXYXZlXS5wcmljZSk7CiAgICBpZiAodG9rZW5zVG9TZWxsIDwgKHdhdmVzW2N1cnJlbnRXYXZlXS5hbW91bnQgLSB3YXZlc1tjdXJyZW50V2F2ZV0uc29sZCkpIHsKICAgICAgZXhlY3V0ZVNlbGwoX2ludmVzdG9yLCB0b2tlbnNUb1NlbGwpOwogICAgfSBlbHNlIHsKICAgICAgdWludDI1NiB0b0tlZXA7CiAgICAgIHVpbnQyNTYgdG9SZWZ1bmQ7CiAgICAgIHRva2Vuc1RvU2VsbCA9IHdhdmVzW2N1cnJlbnRXYXZlXS5hbW91bnQgLSB3YXZlc1tjdXJyZW50V2F2ZV0uc29sZDsKICAgICAgdG9LZWVwID0gdG9rZW5zVG9TZWxsLmRpdih3YXZlc1tjdXJyZW50V2F2ZV0ucHJpY2UpOwogICAgICB0b1JlZnVuZCA9IF9pbnZlc3RtZW50LnN1Yih0b0tlZXApOwogICAgICBfaW52ZXN0b3IudHJhbnNmZXIodG9SZWZ1bmQpOwogICAgICBleGVjdXRlU2VsbChfaW52ZXN0b3IsIHRva2Vuc1RvU2VsbCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBleGVjdXRlU2VsbChhZGRyZXNzIF9pbnZlc3RvciwgdWludDI1NiBfYW1vdW50KSBwcml2YXRlIHsKICAgICAgd2F2ZXNbY3VycmVudFdhdmVdLnNvbGQgKz0gX2Ftb3VudDsKICAgICAgdG9rZW5zU29sZCArPSBfYW1vdW50OwogICAgICByZXF1aXJlKHRrbi50cmFuc2ZlcihfaW52ZXN0b3IsIF9hbW91bnQpKTsKICAgICAgZW1pdCBOZXdJbnZlc3RtZW50KF9pbnZlc3RvciwgX2Ftb3VudCk7CiAgICAgIGZvcndhcmRGdW5kcygpOwogIH0KCiAgZnVuY3Rpb24gb2ZmbGluZVNlbGwoYWRkcmVzcyBfaW52ZXN0b3IsIHVpbnQyNTYgX2Ftb3VudCkgb25seU93bmVyIHB1YmxpYyB7CiAgICAvL3JlcXVpcmUodmFsaWRQdXJjaGFzZSgpKTsKICAgIHJlcXVpcmUoX2Ftb3VudCA+IDApOwogICAgcmVxdWlyZShfYW1vdW50IDwgKHdhdmVzW2N1cnJlbnRXYXZlXS5hbW91bnQgLSB3YXZlc1tjdXJyZW50V2F2ZV0uc29sZCkpOwogICAgcmVxdWlyZShfaW52ZXN0b3IgIT0gYWRkcmVzcygwKSk7CiAgICBleGVjdXRlU2VsbChfaW52ZXN0b3IsIF9hbW91bnQpOwogIH0KCiAgZnVuY3Rpb24oKSBwYXlhYmxlIHB1YmxpYyB7CiAgICByZXF1aXJlKG1zZy52YWx1ZSA+IDEgZmlubmV5KTsKICAgIHJlcXVpcmUodmFsaWRQdXJjaGFzZSgpKTsKICAgIGF1dG9TZWxsKG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgfQoKICBldmVudCBOZXdJbnZlc3RtZW50KGFkZHJlc3MgaW52ZXN0b3IsIHVpbnQyNTYgYW1vdW50KTsKICBldmVudCBUb2tlbkNyZWF0aW9uKGFkZHJlc3MgX3Rva2VuKTsKCgp9'.
	

]
