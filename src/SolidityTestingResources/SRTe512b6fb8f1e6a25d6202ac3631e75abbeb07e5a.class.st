Class {
	#name : #SRTe512b6fb8f1e6a25d6202ac3631e75abbeb07e5a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTe512b6fb8f1e6a25d6202ac3631e75abbeb07e5a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTk7CgovKioKICogVGhpcyBpcyB0aGUgb2ZmaWNpYWwgRXRoYmV0IFRva2VuIHNtYXJ0IGNvbnRyYWN0IChFQkVUKSAtIGh0dHBzOi8vZXRoYmV0LmlvLwogKi8KCi8qKgogKiBAdGl0bGUgU2FmZU1hdGgKICogQGRldiBNYXRoIG9wZXJhdGlvbnMgd2l0aCBzYWZldHkgY2hlY2tzIHRoYXQgdGhyb3cgb24gZXJyb3IKICovCmxpYnJhcnkgU2FmZU1hdGggewogIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgY29uc3RhbnQgcmV0dXJucyAodWludDI1NikgewogICAgdWludDI1NiBjID0gYSAqIGI7CiAgICBhc3NlcnQoYSA9PSAwIHx8IGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIC8vIGFzc2VydChiID4gMCk7IC8vIFNvbGlkaXR5IGF1dG9tYXRpY2FsbHkgdGhyb3dzIHdoZW4gZGl2aWRpbmcgYnkgMAogICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAvLyBhc3NlcnQoYSA9PSBiICogYyArIGEgJSBiKTsgLy8gVGhlcmUgaXMgbm8gY2FzZSBpbiB3aGljaCB0aGlzIGRvZXNuJ3QgaG9sZAogICAgcmV0dXJuIGM7CiAgfQoKICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpIHsKICAgIGFzc2VydChiIDw9IGEpOwogICAgcmV0dXJuIGEgLSBiOwogIH0KCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KSB7CiAgICB1aW50MjU2IGMgPSBhICsgYjsKICAgIGFzc2VydChjID49IGEpOwogICAgcmV0dXJuIGM7CiAgfQp9CgoKLyoqCiAqIEB0aXRsZSBFUkMyMEJhc2ljCiAqIEBkZXYgU2ltcGxlciB2ZXJzaW9uIG9mIEVSQzIwIGludGVyZmFjZQogKiBAZGV2IHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTc5CiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpOwogIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgdmFsdWUpOwp9CgoKLyoqCiAqIEB0aXRsZSBCYXNpYyB0b2tlbgogKiBAZGV2IEJhc2ljIHZlcnNpb24gb2YgU3RhbmRhcmRUb2tlbiwgd2l0aCBubyBhbGxvd2FuY2VzLgogKi8KY29udHJhY3QgQmFzaWNUb2tlbiBpcyBFUkMyMEJhc2ljIHsKICB1c2luZyBTYWZlTWF0aCBmb3IgdWludDI1NjsKCiAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAvKioKICAqIEBkZXYgdHJhbnNmZXIgdG9rZW4gZm9yIGEgc3BlY2lmaWVkIGFkZHJlc3MKICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgdG8gYmUgdHJhbnNmZXJyZWQuCiAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wpIHsKICAgIHJlcXVpcmUoX3RvICE9IGFkZHJlc3MoMCkpOwoKICAgIC8vIFNhZmVNYXRoLnN1YiB3aWxsIHRocm93IGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggYmFsYW5jZS4KICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF92YWx1ZSk7CiAgICBiYWxhbmNlc1tfdG9dID0gYmFsYW5jZXNbX3RvXS5hZGQoX3ZhbHVlKTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldHMgdGhlIGJhbGFuY2Ugb2YgdGhlIHNwZWNpZmllZCBhZGRyZXNzLgogICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuCiAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICovCiAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBiYWxhbmNlc1tfb3duZXJdOwogIH0KCn0KCgoKCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3Mgb3duZXIsIGFkZHJlc3Mgc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1Nik7CiAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgZnJvbSwgYWRkcmVzcyB0bywgdWludDI1NiB2YWx1ZSkgcmV0dXJucyAoYm9vbCk7CiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpIHJldHVybnMgKGJvb2wpOwogIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwp9CgoKLyoqCiAqIEB0aXRsZSBTdGFuZGFyZCBFUkMyMCB0b2tlbgogKgogKiBAZGV2IEltcGxlbWVudGF0aW9uIG9mIHRoZSBiYXNpYyBzdGFuZGFyZCB0b2tlbi4KICogQGRldiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAKICogQGRldiBCYXNlZCBvbiBjb2RlIGJ5IEZpcnN0Qmxvb2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9GaXJzdGJsb29kaW8vdG9rZW4vYmxvYi9tYXN0ZXIvc21hcnRfY29udHJhY3QvRmlyc3RCbG9vZFRva2VuLnNvbAogKi8KY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBFUkMyMCwgQmFzaWNUb2tlbiB7CgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKCgogIC8qKgogICAqIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gb25lIGFkZHJlc3MgdG8gYW5vdGhlcgogICAqIEBwYXJhbSBfZnJvbSBhZGRyZXNzIFRoZSBhZGRyZXNzIHdoaWNoIHlvdSB3YW50IHRvIHNlbmQgdG9rZW5zIGZyb20KICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgKiBAcGFyYW0gX3ZhbHVlIHVpbnQyNTYgdGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJyZWQKICAgKi8KICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sKSB7CiAgICByZXF1aXJlKF90byAhPSBhZGRyZXNzKDApKTsKCiAgICB2YXIgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKICAgIC8vIENoZWNrIGlzIG5vdCBuZWVkZWQgYmVjYXVzZSBzdWIoX2FsbG93YW5jZSwgX3ZhbHVlKSB3aWxsIGFscmVhZHkgdGhyb3cgaWYgdGhpcyBjb25kaXRpb24gaXMgbm90IG1ldAogICAgLy8gcmVxdWlyZSAoX3ZhbHVlIDw9IF9hbGxvd2FuY2UpOwoKICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBfYWxsb3dhbmNlLnN1YihfdmFsdWUpOwogICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLyoqCiAgICogQGRldiBBcHByb3ZlIHRoZSBwYXNzZWQgYWRkcmVzcyB0byBzcGVuZCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0b2tlbnMgb24gYmVoYWxmIG9mIG1zZy5zZW5kZXIuCiAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgc3BlbnQuCiAgICovCiAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCkgewoKICAgIC8vIFRvIGNoYW5nZSB0aGUgYXBwcm92ZSBhbW91bnQgeW91IGZpcnN0IGhhdmUgdG8gcmVkdWNlIHRoZSBhZGRyZXNzZXNgCiAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgLy8gIGFscmVhZHkgMCB0byBtaXRpZ2F0ZSB0aGUgcmFjZSBjb25kaXRpb24gZGVzY3JpYmVkIGhlcmU6CiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yNjM1MjQ3MjkKICAgIHJlcXVpcmUoKF92YWx1ZSA9PSAwKSB8fCAoYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPT0gMCkpOwoKICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKgogICAqIEBkZXYgRnVuY3Rpb24gdG8gY2hlY2sgdGhlIGFtb3VudCBvZiB0b2tlbnMgdGhhdCBhbiBvd25lciBhbGxvd2VkIHRvIGEgc3BlbmRlci4KICAgKiBAcGFyYW0gX293bmVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggb3ducyB0aGUgZnVuZHMuCiAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICogQHJldHVybiBBIHVpbnQyNTYgc3BlY2lmeWluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpbGFibGUgZm9yIHRoZSBzcGVuZGVyLgogICAqLwogIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpIHsKICAgIHJldHVybiBhbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KCiAgLyoqCiAgICogYXBwcm92ZSBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYWxsb3dlZFtfc3BlbmRlcl0gPT0gMC4gVG8gaW5jcmVtZW50CiAgICogYWxsb3dlZCB2YWx1ZSBpcyBiZXR0ZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYXZvaWQgMiBjYWxscyAoYW5kIHdhaXQgdW50aWwKICAgKiB0aGUgZmlyc3QgdHJhbnNhY3Rpb24gaXMgbWluZWQpCiAgICogRnJvbSBNb25vbGl0aERBTyBUb2tlbi5zb2wKICAgKi8KICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9hZGRlZFZhbHVlKQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdLmFkZChfYWRkZWRWYWx1ZSk7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBkZWNyZWFzZUFwcHJvdmFsIChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpCiAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHVpbnQgb2xkVmFsdWUgPSBhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXTsKICAgIGlmIChfc3VidHJhY3RlZFZhbHVlID4gb2xkVmFsdWUpIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSAwOwogICAgfSBlbHNlIHsKICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBvbGRWYWx1ZS5zdWIoX3N1YnRyYWN0ZWRWYWx1ZSk7CiAgICB9CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0pOwogICAgcmV0dXJuIHRydWU7CiAgfQoKfQoKLyoqCiAqIEB0aXRsZSBFdGhiZXRUb2tlbgogKi8KY29udHJhY3QgRXRoYmV0VG9rZW4gaXMgU3RhbmRhcmRUb2tlbiB7CgogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgbmFtZSA9ICJFdGhiZXQiOwogIHN0cmluZyBwdWJsaWMgY29uc3RhbnQgc3ltYm9sID0gIkVCRVQiOwogIHVpbnQ4IHB1YmxpYyBjb25zdGFudCBkZWNpbWFscyA9IDI7IC8vIG9ubHkgdHdvIGRlY2ltaW5hbHMsIHRva2VuIGNhbm5vdCBiZSBkaXZpZGVkIHBhc3QgMS8xMDB0aAoKICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBJTklUSUFMX1NVUFBMWSA9IDEwMDAwMDAwMDA7IC8vIDEwIG1pbGxpb24gKyAyIGRlY2ltYWxzCgogIC8qKgogICAqIEBkZXYgQ29udHJ1Y3RvciB0aGF0IGdpdmVzIG1zZy5zZW5kZXIgYWxsIG9mIGV4aXN0aW5nIHRva2Vucy4KICAgKi8KICBmdW5jdGlvbiBFdGhiZXRUb2tlbigpIHsKICAgIHRvdGFsU3VwcGx5ID0gSU5JVElBTF9TVVBQTFk7CiAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IElOSVRJQUxfU1VQUExZOwogIH0KfQoKCi8vIEltcG9ydCBuZXdlciBTYWZlTWF0aCB2ZXJzaW9uIHVuZGVyIG5ldyBuYW1lIHRvIGF2b2lkIGNvbmZsaWN0IHdpdGggdGhlIHZlcnNpb24gaW5jbHVkZWQgaW4gRXRoYmV0VG9rZW4KCi8vIFNhZmVNYXRoIExpYnJhcnkgaHR0cHM6Ly9naXRodWIuY29tL09wZW5aZXBwZWxpbi96ZXBwZWxpbi1zb2xpZGl0eS9ibG9iLzQ5YjQyZTg2OTYzZGY3MTkyZTcwMjRlMGU1YmQzMGZhOWQ3Y2NiZWYvY29udHJhY3RzL21hdGgvU2FmZU1hdGguc29sCgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoMiB7CgogIC8qKgogICogQGRldiBNdWx0aXBsaWVzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cuCiAgKi8KICBmdW5jdGlvbiBtdWwodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgaWYgKGEgPT0gMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgYXNzZXJ0KGMgLyBhID09IGIpOwogICAgcmV0dXJuIGM7CiAgfQoKICAvKioKICAqIEBkZXYgSW50ZWdlciBkaXZpc2lvbiBvZiB0d28gbnVtYmVycywgdHJ1bmNhdGluZyB0aGUgcXVvdGllbnQuCiAgKi8KICBmdW5jdGlvbiBkaXYodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICB1aW50MjU2IGMgPSBhIC8gYjsKICAgIC8vIGFzc2VydChhID09IGIgKiBjICsgYSAlIGIpOyAvLyBUaGVyZSBpcyBubyBjYXNlIGluIHdoaWNoIHRoaXMgZG9lc24ndCBob2xkCiAgICByZXR1cm4gYzsKICB9CgogIC8qKgogICogQGRldiBTdWJzdHJhY3RzIHR3byBudW1iZXJzLCB0aHJvd3Mgb24gb3ZlcmZsb3cgKGkuZS4gaWYgc3VidHJhaGVuZCBpcyBncmVhdGVyIHRoYW4gbWludWVuZCkuCiAgKi8KICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHB1cmUgcmV0dXJucyAodWludDI1NikgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICAvKioKICAqIEBkZXYgQWRkcyB0d28gbnVtYmVycywgdGhyb3dzIG9uIG92ZXJmbG93LgogICovCiAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCBwdXJlIHJldHVybnMgKHVpbnQyNTYpIHsKICAgIHVpbnQyNTYgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9Cn0KCmNvbnRyYWN0IEV0aGJldCB7CiAgdXNpbmcgU2FmZU1hdGgyIGZvciB1aW50MjU2OwoKICAvKgogICogRXZlbnRzCiAgKi8KCiAgZXZlbnQgRGVwb3NpdChhZGRyZXNzIGluZGV4ZWQgdXNlciwgdWludCBhbW91bnQsIHVpbnQgYmFsYW5jZSk7CgogIGV2ZW50IFdpdGhkcmF3KGFkZHJlc3MgaW5kZXhlZCB1c2VyLCB1aW50IGFtb3VudCwgdWludCBiYWxhbmNlKTsKCiAgZXZlbnQgTG9ja2VkQmFsYW5jZShhZGRyZXNzIGluZGV4ZWQgdXNlciwgdWludCBhbW91bnQpOwoKICBldmVudCBVbmxvY2tlZEJhbGFuY2UoYWRkcmVzcyBpbmRleGVkIHVzZXIsIHVpbnQgYW1vdW50KTsKCiAgZXZlbnQgRXhlY3V0ZWRCZXQoYWRkcmVzcyBpbmRleGVkIHdpbm5lciwgYWRkcmVzcyBpbmRleGVkIGxvc2VyLCB1aW50IGFtb3VudCk7CgogIGV2ZW50IFJlbGF5QWRkcmVzc0NoYW5nZWQoYWRkcmVzcyByZWxheSk7CgoKICAvKgogICAqIFN0b3JhZ2UKICAgKi8KICBhZGRyZXNzIHB1YmxpYyByZWxheTsKCiAgRXRoYmV0VG9rZW4gcHVibGljIHRva2VuOwoKICBtYXBwaW5nKGFkZHJlc3MgPT4gdWludDI1NikgYmFsYW5jZXM7CgogIG1hcHBpbmcoYWRkcmVzcyA9PiB1aW50MjU2KSBsb2NrZWRCYWxhbmNlczsKCiAgLyoKICAqIE1vZGlmaWVycwogICovCgogIG1vZGlmaWVyIGlzUmVsYXkoKSB7CiAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gcmVsYXkpOwogICAgXzsKICB9CgogIC8qCiAgKiBQdWJsaWMgZnVuY3Rpb25zCiAgKi8KCiAgLyoqCiAgKiBAZGV2IENvbnRyYWN0IGNvbnN0cnVjdG9yCiAgKiBAcGFyYW0gX3JlbGF5IFJlbGF5IEFkZHJlc3MKICAqIEBwYXJhbSBfdG9rZW5BZGRyZXNzIEV0aGJldCBUb2tlbiBBZGRyZXNzCiAgKi8KICBmdW5jdGlvbiBFdGhiZXQoYWRkcmVzcyBfcmVsYXksIGFkZHJlc3MgX3Rva2VuQWRkcmVzcykgcHVibGljIHsKICAgIC8vIG1ha2Ugc3VyZSByZWxheSBhZGRyZXNzIHNldAogICAgcmVxdWlyZShfcmVsYXkgIT0gYWRkcmVzcygwKSk7CgogICAgcmVsYXkgPSBfcmVsYXk7CiAgICB0b2tlbiA9IEV0aGJldFRva2VuKF90b2tlbkFkZHJlc3MpOwogIH0KCiAgLyoqCiAgKiBAZGV2IHNldCByZWxheSBhZGRyZXNzCiAgKiBAcGFyYW0gX3JlbGF5IFJlbGF5IEFkZHJlc3MKICAqLwogIGZ1bmN0aW9uIHNldFJlbGF5KGFkZHJlc3MgX3JlbGF5KSBwdWJsaWMgaXNSZWxheSB7CiAgICAvLyBtYWtlIHN1cmUgYWRkcmVzcyBub3QgbnVsbAogICAgcmVxdWlyZShfcmVsYXkgIT0gYWRkcmVzcygwKSk7CgogICAgcmVsYXkgPSBfcmVsYXk7CgogICAgUmVsYXlBZGRyZXNzQ2hhbmdlZChfcmVsYXkpOwogIH0KCiAgLyoqCiAgICogQGRldiBkZXBvc2l0IEVCRVQgdG9rZW5zIGludG8gdGhlIGNvbnRyYWN0CiAgICogQHBhcmFtIF9hbW91bnQgQW1vdW50IHRvIGRlcG9zaXQKICAgKi8KICBmdW5jdGlvbiBkZXBvc2l0KHVpbnQgX2Ftb3VudCkgcHVibGljIHsKICAgIHJlcXVpcmUoX2Ftb3VudCA+IDApOwoKICAgIC8vIHRva2VuLmFwcHJvdmUgbmVlZHMgdG8gYmUgY2FsbGVkIGJlZm9yZWhhbmQKICAgIC8vIHRyYW5zZmVyIHRva2VucyBmcm9tIHRoZSB1c2VyIHRvIHRoZSBjb250cmFjdAogICAgcmVxdWlyZSh0b2tlbi50cmFuc2ZlckZyb20obXNnLnNlbmRlciwgdGhpcywgX2Ftb3VudCkpOwoKICAgIC8vIGFkZCB0aGUgdG9rZW5zIHRvIHRoZSB1c2VyJ3MgYmFsYW5jZQogICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlc1ttc2cuc2VuZGVyXS5hZGQoX2Ftb3VudCk7CgogICAgRGVwb3NpdChtc2cuc2VuZGVyLCBfYW1vdW50LCBiYWxhbmNlc1ttc2cuc2VuZGVyXSk7CiAgfQoKICAvKioKICAgKiBAZGV2IHdpdGhkcmF3IEVCRVQgdG9rZW5zIGZyb20gdGhlIGNvbnRyYWN0CiAgICogQHBhcmFtIF9hbW91bnQgQW1vdW50IHRvIHdpdGhkcmF3CiAgICovCiAgZnVuY3Rpb24gd2l0aGRyYXcodWludCBfYW1vdW50KSBwdWJsaWMgewogICAgcmVxdWlyZShfYW1vdW50ID4gMCk7CiAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF9hbW91bnQpOwoKICAgIC8vIHN1YnRyYWN0IHRoZSB0b2tlbnMgZnJvbSB0aGUgdXNlcidzIGJhbGFuY2UKICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gYmFsYW5jZXNbbXNnLnNlbmRlcl0uc3ViKF9hbW91bnQpOwoKICAgIC8vIHRyYW5zZmVyIHRva2VucyBmcm9tIHRoZSBjb250cmFjdCB0byB0aGUgdXNlcgogICAgcmVxdWlyZSh0b2tlbi50cmFuc2Zlcihtc2cuc2VuZGVyLCBfYW1vdW50KSk7CgogICAgV2l0aGRyYXcobXNnLnNlbmRlciwgX2Ftb3VudCwgYmFsYW5jZXNbbXNnLnNlbmRlcl0pOwogIH0KCgogIC8qKgogICAqIEBkZXYgTG9jayB1c2VyIGJhbGFuY2UgdG8gYmUgdXNlZCBmb3IgYmV0CiAgICogQHBhcmFtIF91c2VyQWRkcmVzcyBVc2VyIEFkZHJlc3MKICAgKiBAcGFyYW0gX2Ftb3VudCBBbW91bnQgdG8gYmUgbG9ja2VkCiAgICovCiAgZnVuY3Rpb24gbG9ja0JhbGFuY2UoYWRkcmVzcyBfdXNlckFkZHJlc3MsIHVpbnQgX2Ftb3VudCkgcHVibGljIGlzUmVsYXkgewogICAgcmVxdWlyZShfYW1vdW50ID4gMCk7CiAgICByZXF1aXJlKGJhbGFuY2VzW191c2VyQWRkcmVzc10gPj0gX2Ftb3VudCk7CgogICAgLy8gc3VidHJhY3QgdGhlIHRva2VucyBmcm9tIHRoZSB1c2VyJ3MgYmFsYW5jZQogICAgYmFsYW5jZXNbX3VzZXJBZGRyZXNzXSA9IGJhbGFuY2VzW191c2VyQWRkcmVzc10uc3ViKF9hbW91bnQpOwoKICAgIC8vIGFkZCB0aGUgdG9rZW5zIHRvIHRoZSB1c2VyJ3MgbG9ja2VkIGJhbGFuY2UKICAgIGxvY2tlZEJhbGFuY2VzW191c2VyQWRkcmVzc10gPSBsb2NrZWRCYWxhbmNlc1tfdXNlckFkZHJlc3NdLmFkZChfYW1vdW50KTsKCiAgICBMb2NrZWRCYWxhbmNlKF91c2VyQWRkcmVzcywgX2Ftb3VudCk7CiAgfQoKICAvKioKICAgKiBAZGV2IFVubG9jayB1c2VyIGJhbGFuY2UKICAgKiBAcGFyYW0gX3VzZXJBZGRyZXNzIFVzZXIgQWRkcmVzcwogICAqIEBwYXJhbSBfYW1vdW50IEFtb3VudCB0byBiZSBsb2NrZWQKICAgKi8KICBmdW5jdGlvbiB1bmxvY2tCYWxhbmNlKGFkZHJlc3MgX3VzZXJBZGRyZXNzLCB1aW50IF9hbW91bnQpIHB1YmxpYyBpc1JlbGF5IHsKICAgIHJlcXVpcmUoX2Ftb3VudCA+IDApOwogICAgcmVxdWlyZShsb2NrZWRCYWxhbmNlc1tfdXNlckFkZHJlc3NdID49IF9hbW91bnQpOwoKICAgIC8vIHN1YnRyYWN0IHRoZSB0b2tlbnMgZnJvbSB0aGUgdXNlcidzIGxvY2tlZCBiYWxhbmNlCiAgICBsb2NrZWRCYWxhbmNlc1tfdXNlckFkZHJlc3NdID0gbG9ja2VkQmFsYW5jZXNbX3VzZXJBZGRyZXNzXS5zdWIoX2Ftb3VudCk7CgogICAgLy8gYWRkIHRoZSB0b2tlbnMgdG8gdGhlIHVzZXIncyAgYmFsYW5jZQogICAgYmFsYW5jZXNbX3VzZXJBZGRyZXNzXSA9IGJhbGFuY2VzW191c2VyQWRkcmVzc10uYWRkKF9hbW91bnQpOwoKICAgIFVubG9ja2VkQmFsYW5jZShfdXNlckFkZHJlc3MsIF9hbW91bnQpOwogIH0KCiAgLyoqCiAgKiBAZGV2IEdldCB1c2VyIGJhbGFuY2UKICAqIEBwYXJhbSBfdXNlckFkZHJlc3MgVXNlciBBZGRyZXNzCiAgKi8KICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBfdXNlckFkZHJlc3MpIGNvbnN0YW50IHB1YmxpYyByZXR1cm5zICh1aW50KSB7CiAgICByZXR1cm4gYmFsYW5jZXNbX3VzZXJBZGRyZXNzXTsKICB9CgogIC8qKgogICogQGRldiBHZXQgdXNlciBsb2NrZWQgYmFsYW5jZQogICogQHBhcmFtIF91c2VyQWRkcmVzcyBVc2VyIEFkZHJlc3MKICAqLwogIGZ1bmN0aW9uIGxvY2tlZEJhbGFuY2VPZihhZGRyZXNzIF91c2VyQWRkcmVzcykgY29uc3RhbnQgcHVibGljIHJldHVybnMgKHVpbnQpIHsKICAgIHJldHVybiBsb2NrZWRCYWxhbmNlc1tfdXNlckFkZHJlc3NdOwogIH0KCiAgLyoqCiAgICogQGRldiBFeGVjdXRlIGJldAogICAqIEBwYXJhbSBfbWFrZXIgTWFrZXIgQWRkcmVzcwogICAqIEBwYXJhbSBfY2FsbGVyIENhbGxlciBBZGRyZXNzCiAgICogQHBhcmFtIF9tYWtlcldvbiBEaWQgdGhlIG1ha2VyIHdpbgogICAqIEBwYXJhbSBfYW1vdW50IGFtb3VudAogICAqLwogIGZ1bmN0aW9uIGV4ZWN1dGVCZXQoYWRkcmVzcyBfbWFrZXIsIGFkZHJlc3MgX2NhbGxlciwgYm9vbCBfbWFrZXJXb24sIHVpbnQgX2Ftb3VudCkgaXNSZWxheSBwdWJsaWMgewogICAgLy9UaGUgY2FsbGVyIG11c3QgaGF2ZSBlbm91Z2ggbG9ja2VkIGJhbGFuY2UKICAgIHJlcXVpcmUobG9ja2VkQmFsYW5jZXNbX2NhbGxlcl0gPj0gX2Ftb3VudCk7CgogICAgLy9UaGUgbWFrZXIgbXVzdCBoYXZlIGVub3VnaCBsb2NrZWQgYmFsYW5jZQogICAgcmVxdWlyZShsb2NrZWRCYWxhbmNlc1tfbWFrZXJdID49IF9hbW91bnQpOwoKICAgIC8vIHVubG9jayBtYWtlciBiYWxhbmNlCiAgICB1bmxvY2tCYWxhbmNlKF9jYWxsZXIsIF9hbW91bnQpOwoKICAgIC8vIHVubG9jayBtYWtlciBiYWxhbmNlCiAgICB1bmxvY2tCYWxhbmNlKF9tYWtlciwgX2Ftb3VudCk7CgogICAgdmFyIHdpbm5lciA9IF9tYWtlcldvbiA/IF9tYWtlciA6IF9jYWxsZXI7CiAgICB2YXIgbG9zZXIgPSBfbWFrZXJXb24gPyBfY2FsbGVyIDogX21ha2VyOwoKICAgIC8vIGFkZCB0aGUgdG9rZW5zIHRvIHRoZSB3aW5uZXIncyBiYWxhbmNlCiAgICBiYWxhbmNlc1t3aW5uZXJdID0gYmFsYW5jZXNbd2lubmVyXS5hZGQoX2Ftb3VudCk7CiAgICAvLyByZW1vdmUgdGhlIHRva2VucyBmcm9tIHRoZSBsb3NlcidzICBiYWxhbmNlCiAgICBiYWxhbmNlc1tsb3Nlcl0gPSBiYWxhbmNlc1tsb3Nlcl0uc3ViKF9hbW91bnQpOwoKICAgIC8vTG9nIHRoZSBldmVudAogICAgRXhlY3V0ZWRCZXQod2lubmVyLCBsb3NlciwgX2Ftb3VudCk7CiAgfQoKfQ=='.
	

]
