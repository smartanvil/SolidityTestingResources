Class {
	#name : #SRT950e255c4362c7d7824c63911331ba0c3b090a52,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT950e255c4362c7d7824c63911331ba0c3b090a52 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7Cgpjb250cmFjdCBSYW5kb21NIHsKCiAgICB1aW50IHB1YmxpYyB0aWNrZXRzTnVtID0gMDsKICAgIAogICAgbWFwcGluZyh1aW50ID0+IHVpbnQpIGludGVybmFsIHRpY2tldHM7ICAvLyB0aWNrZXRzIGZvciB0aGUgY3VycmVudCBkcmF3CiAgICBtYXBwaW5nKHVpbnQgPT4gYm9vbCkgaW50ZXJuYWwgcGF5ZWRfYmFjazsgLy8gdGlja2V0IHBheW1lbnQgcmVmdW5kaW5nIGlkZW50aWZpZXIKICAgIAogICAgYWRkcmVzc1tdIHB1YmxpYyBhZGRyOyAvLyBhZGRyZXNzZXMgb2YgYWxsIHRoZSBkcmF3IHBhcnRpY2lwYW50cwogICAgCiAgICB1aW50MzIgcHVibGljIHJhbmRvbV9udW0gPSAwOyAvLyBkcmF3IHNlcmlhbCBudW1iZXIKIAogICAgdWludCBwdWJsaWMgbGl2ZUJsb2Nrc051bWJlciA9IDE3MjgwMDsgLy8gYW1vdW50IG9mIGJsb2NrcyB1bnRpbGwgdGhlIGxvdHRlcnkgZW5kaW5nCiAgICB1aW50IHB1YmxpYyBzdGFydEJsb2NrTnVtYmVyID0gMDsgLy8gaW5pdGlhbCBibG9jayBvZiB0aGUgY3VycmVudCBsb3R0ZXJ5CiAgICB1aW50IHB1YmxpYyBlbmRCbG9ja051bWJlciA9IDA7IC8vIGZpbmFsIGJsb2NrIG9mIHRoZSBjdXJyZW50IGxvdHRlcnkKCiAgICB1aW50IHB1YmxpYyBjb25zdGFudCBvbmVQb3RXZWkgPSAxMDAwMDAwMDAwMDAwMDAwMDsgLy8gMSB0aWNrZXQgY29zdCBpcyAwLjAxIEVUSAoKICAgIGFkZHJlc3MgcHVibGljIGludl9jb250cmFjdCA9IDB4NTE5MmM1NUIxMDY0RDkyMEMxNWRCMTI1ZUYyRTY5YTE3NTU4RTY1YTsgLy8gaW52ZXN0aW5nIGNvbnRyYWN0CiAgICBhZGRyZXNzIHB1YmxpYyBydG1fY29udHJhY3QgPSAweDdFMDhjMDQ2OENCZTlGNDhkOEE0RDI0NjA5NWRFYjhiQzFFQjJlN2U7IC8vIHRlYW0gY29udHJhY3QKICAgIGFkZHJlc3MgcHVibGljIG1ya19jb250cmFjdCA9IDB4YzAxYzA4QjJiNDUxMzI4OTQ3YkZiN0JhNWZmQTNhZjk2Q2ZjMzQzMDsgLy8gbWFya2V0aW5nIGNvbnRyYWN0CiAgICAKICAgIGFkZHJlc3MgbWFuYWdlcjsgLy8gbG90dGVyeSBtYW5hZ2VyIGFkZHJlc3MKICAgIAogICAgdWludCBwdWJsaWMgd2lubmVyc19jb3VudCA9IDA7IC8vIGFtb3VudCBvZiB3aW5uZXJzIGluIHRoZSBjdXJyZW50IGRyYXcKICAgIHVpbnQgbGFzdF93aW5uZXIgPSAwOyAvLyBhbW91bnQgb2Ygd2lubmVycyBhbHJlYWR5IHJlY2VpdmVkIHJld2FyZHMKICAgIHVpbnQgcHVibGljIG90aGVyc19wcml6ZSA9IDA7IC8vIHByaXplIGZ1bmQgbGVzcyBqYWNrIHBvdHMKICAgIAogICAgdWludCBwdWJsaWMgZmVlX2JhbGFuY2UgPSAwOyAvLyBjdXJyZW50IGJhbGFuY2UgYXZhaWxhYmxlIGZvciBjb21taXRpbmcgcGF5bWVudCB0byBpbnZlc3RpbmcsIHRlYW0gYW5kIG1hcmtldGluZyBjb250cmFjdHMKCiAgICAKICAgIC8vIEV2ZW50cwogICAgLy8gVGhpcyBnZW5lcmF0ZXMgYSBwdWJsaWNzIGV2ZW50IG9uIHRoZSBibG9ja2NoYWluIHRoYXQgd2lsbCBub3RpZnkgY2xpZW50cwogICAgCiAgICBldmVudCBCdXkoYWRkcmVzcyBpbmRleGVkIHNlbmRlciwgdWludCBldGgpOyAvLyB0aWNrZXRzIHB1cmNoYXNlCiAgICBldmVudCBXaXRoZHJhdyhhZGRyZXNzIGluZGV4ZWQgc2VuZGVyLCBhZGRyZXNzIHRvLCB1aW50IGV0aCk7IC8vIHJld2FyZCBhY2NydWluZwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7IC8vIGV2ZW50OiBzZW5kaW5nIHRpY2tldCB0byBhbm90aGVyIGFkZHJlc3MKICAgIGV2ZW50IFRyYW5zZmVyRXJyb3IoYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50IHZhbHVlKTsgLy8gZXZlbnQgKGVycm9yKTogc2VuZGluZyBFVEggZnJvbSB0aGUgY29udHJhY3Qgd2FzIGZhaWxlZAogICAgCgogICAgLy8gbWV0aG9kcyB3aXRoIGZvbGxvd2luZyBtb2RpZmllciBjYW4gb25seSBiZSBjYWxsZWQgYnkgdGhlIG1hbmFnZXIKICAgIG1vZGlmaWVyIG9ubHlNYW5hZ2VyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBtYW5hZ2VyKTsKICAgICAgICBfOwogICAgfQogICAgCgogICAgLy8gY29uc3RydWN0b3IKICAgIGZ1bmN0aW9uIFJhbmRvbU0oKSBwdWJsaWMgewogICAgICAgIG1hbmFnZXIgPSBtc2cuc2VuZGVyOwogICAgICAgIHN0YXJ0QmxvY2tOdW1iZXIgPSBibG9jay5udW1iZXIgLSAxOwogICAgICAgIGVuZEJsb2NrTnVtYmVyID0gc3RhcnRCbG9ja051bWJlciArIGxpdmVCbG9ja3NOdW1iZXI7CiAgICB9CgoKICAgIC8vLyBmdW5jdGlvbiBmb3Igc3RyYWlnaHQgdGlja2V0cyBwdXJjaGFzZSAoc2VuZGluZyBFVEggdG8gdGhlIGNvbnRyYWN0IGFkZHJlc3MpCiAgICBmdW5jdGlvbigpIHB1YmxpYyBwYXlhYmxlIHsKICAgICAgICByZXF1aXJlKGJsb2NrLm51bWJlciA8IGVuZEJsb2NrTnVtYmVyIHx8IG1zZy52YWx1ZSA8IDEwMDAwMDAwMDAwMDAwMDAwMDApOwogICAgICAgIGlmIChtc2cudmFsdWUgPiAwICYmIGxhc3Rfd2lubmVyID09IDApIHsKICAgICAgICAgICAgdWludCB2YWwgPSAgbXNnLnZhbHVlIC8gb25lUG90V2VpOwogICAgICAgICAgICB1aW50IGkgPSAwOwogICAgICAgICAgICB1aW50IGl4ID0gY2hlY2tBZGRyZXNzKG1zZy5zZW5kZXIpOwogICAgICAgICAgICBmb3IoaTsgaSA8IHZhbDsgaSsrKSB7IHRpY2tldHNbdGlja2V0c051bStpXSA9IGl4OyB9CiAgICAgICAgICAgIHRpY2tldHNOdW0gKz0gaTsKICAgICAgICAgICAgQnV5KG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgICAgICAgfQogICAgICAgIGlmIChibG9jay5udW1iZXIgPj0gZW5kQmxvY2tOdW1iZXIpIHsgCiAgICAgICAgICAgIEVuZExvdHRlcnkoKTsgCiAgICAgICAgfQogICAgfQoKCiAgICAvLy8gZnVuY3Rpb24gZm9yIHRpY2tldCBzZW5kaW5nIGZyb20gb3duZXIncyBhZGRyZXNzIHRvIGRlc2lnbmF0ZWQgYWRkcmVzcwogICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQgX3RpY2tldE51bSkgcHVibGljIHsKICAgICAgICBpZiAobXNnLnNlbmRlciA9PSBnZXRBZGRyZXNzKHRpY2tldHNbX3RpY2tldE51bV0pICYmIF90byAhPSBhZGRyZXNzKDApKSB7CiAgICAgICAgICAgIHVpbnQgaXggPSBjaGVja0FkZHJlc3MoX3RvKTsKICAgICAgICAgICAgdGlja2V0c1tfdGlja2V0TnVtXSA9IGl4OwogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF90aWNrZXROdW0pOwogICAgICAgIH0KICAgIH0KCgogICAgLy8vIG1hbmFnZXIncyBvcHBvcnR1bml0eSB0byB3cml0ZSBvZmYgRVRIIGZyb20gdGhlIGNvbnRyYWN0LCBpbiBhIGNhc2Ugb2YgdW5mb3JzZWVuIGNvbnRyYWN0IGJsb2NraW5nIChwb3NzaWJsZSBpbiBvbmx5IGNhc2Ugb2YgbW9yZSB0aGFuIDI0IGhvdXJzIGZyb20gdGhlIG1vbWVudCBvZiBsb3R0ZXJ5IGVuZGluZyBoYWQgcGFzc2VkIGFuZCBhIG5ldyBvbmUgaGFzIG5vdCBzdGFydGVkKQogICAgZnVuY3Rpb24gbWFuYWdlcl93aXRoZHJhdygpIG9ubHlNYW5hZ2VyIHB1YmxpYyB7CiAgICAgICAgcmVxdWlyZShibG9jay5udW1iZXIgPj0gZW5kQmxvY2tOdW1iZXIgKyBsaXZlQmxvY2tzTnVtYmVyKTsKICAgICAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICB9CiAgICAKICAgIC8vLyBsb3R0ZXJ5IGVuZGluZwogICAgZnVuY3Rpb24gRW5kTG90dGVyeSgpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICByZXF1aXJlKGJsb2NrLm51bWJlciA+PSBlbmRCbG9ja051bWJlcik7IAogICAgICAgIHVpbnQgdG4gPSB0aWNrZXRzTnVtOwogICAgICAgIGlmKHRuIDwgMykgeyAKICAgICAgICAgICAgdG4gPSAwOwogICAgICAgICAgICBpZihtc2cudmFsdWUgPiAwKSB7IG1zZy5zZW5kZXIudHJhbnNmZXIobXNnLnZhbHVlKTsgfQogICAgICAgICAgICBzdGFydE5ld0RyYXcobXNnLnZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICB1aW50IHBmID0gcHJpemVGdW5kKCk7CiAgICAgICAgdWludCBqcDEgPSBwZXJjZW50KHBmLCAxMCk7CiAgICAgICAgdWludCBqcDIgPSBwZXJjZW50KHBmLCA0KTsKICAgICAgICB1aW50IGpwMyA9IHBlcmNlbnQocGYsIDEpOwogICAgICAgIHVpbnQgbGFzdGJldF9wcml6ZSA9IG9uZVBvdFdlaSoxMDsKICAgICAgICAKICAgICAgICBpZihsYXN0X3dpbm5lciA9PSAwKSB7CiAgICAgICAgICAgIAogICAgICAgICAgICB3aW5uZXJzX2NvdW50ID0gcGVyY2VudCh0biwgNCkgKyAzOyAKICAgICAgICAgICAgCiAgICAgICAgICAgIHVpbnQgcHJpemVzID0ganAxICsganAyICsganAzICsgbGFzdGJldF9wcml6ZSoyOwogICAgICAgICAgICB1aW50IGZ1bGxfcHJpemVzID0ganAxICsganAyICsganAzICsgKGxhc3RiZXRfcHJpemUgKiAoICh3aW5uZXJzX2NvdW50KzEpLzEwICkgKTsKCiAgICAgICAgICAgIGlmKHdpbm5lcnNfY291bnQgPCAxMCkgewogICAgICAgICAgICAgICAgaWYocHJpemVzID4gcGYpIHsKICAgICAgICAgICAgICAgICAgICBvdGhlcnNfcHJpemUgPSAwOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBvdGhlcnNfcHJpemUgPSBwZiAtIHByaXplczsgICAgCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZihmdWxsX3ByaXplcyA+IHBmKSB7CiAgICAgICAgICAgICAgICAgICAgb3RoZXJzX3ByaXplID0gMDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgb3RoZXJzX3ByaXplID0gcGYgLSBmdWxsX3ByaXplczsgICAgCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHNlbmRFdGgoZ2V0QWRkcmVzcyh0aWNrZXRzW2dldFdpbm5pbmdOdW1iZXIoMSldKSwganAxKTsKICAgICAgICAgICAgc2VuZEV0aChnZXRBZGRyZXNzKHRpY2tldHNbZ2V0V2lubmluZ051bWJlcigyKV0pLCBqcDIpOwogICAgICAgICAgICBzZW5kRXRoKGdldEFkZHJlc3ModGlja2V0c1tnZXRXaW5uaW5nTnVtYmVyKDMpXSksIGpwMyk7CiAgICAgICAgICAgIGxhc3Rfd2lubmVyICs9IDE7CiAgICAgICAgICAgIAogICAgICAgICAgICBzZW5kRXRoKG1zZy5zZW5kZXIsIGxhc3RiZXRfcHJpemUgKyBtc2cudmFsdWUpOyAKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSAKICAgICAgICAKICAgICAgICBpZihsYXN0X3dpbm5lciA8IHdpbm5lcnNfY291bnQgKyAxICYmIG90aGVyc19wcml6ZSA+IDApIHsKICAgICAgICAgICAgCiAgICAgICAgICAgIHVpbnQgdmFsID0gb3RoZXJzX3ByaXplIC8gd2lubmVyc19jb3VudDsKICAgICAgICAgICAgdWludCBpOwogICAgICAgICAgICB1aW50OCBjbnQgPSAwOwogICAgICAgICAgICBmb3IoaSA9IGxhc3Rfd2lubmVyOyBpIDwgd2lubmVyc19jb3VudCArIDE7IGkrKykgewogICAgICAgICAgICAgICAgc2VuZEV0aChnZXRBZGRyZXNzKHRpY2tldHNbZ2V0V2lubmluZ051bWJlcihpKzMpXSksIHZhbCk7CiAgICAgICAgICAgICAgICBjbnQrKzsKICAgICAgICAgICAgICAgIGlmKGNudCA+IDkpIHsKICAgICAgICAgICAgICAgICAgICBsYXN0X3dpbm5lciA9IGk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGFzdF93aW5uZXIgPSBpOwogICAgICAgICAgICBzZW5kRXRoKG1zZy5zZW5kZXIsIGxhc3RiZXRfcHJpemUgKyBtc2cudmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgCiAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgIHN0YXJ0TmV3RHJhdyhsYXN0YmV0X3ByaXplICsgbXNnLnZhbHVlKTsgICAKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgc2VuZEV0aChtc2cuc2VuZGVyLCBsYXN0YmV0X3ByaXplICsgbXNnLnZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgLy8vIG5ldyBkcmF3IHN0YXJ0CiAgICBmdW5jdGlvbiBzdGFydE5ld0RyYXcodWludCBfbXNnX3ZhbHVlKSBpbnRlcm5hbCB7CiAgICAgICAgdGlja2V0c051bSA9IDA7CiAgICAgICAgc3RhcnRCbG9ja051bWJlciA9IGJsb2NrLm51bWJlciAtIDE7CiAgICAgICAgZW5kQmxvY2tOdW1iZXIgPSBzdGFydEJsb2NrTnVtYmVyICsgbGl2ZUJsb2Nrc051bWJlcjsKICAgICAgICByYW5kb21fbnVtICs9IDE7CiAgICAgICAgd2lubmVyc19jb3VudCA9IDA7CiAgICAgICAgbGFzdF93aW5uZXIgPSAwOwogICAgICAgIGZlZV9iYWxhbmNlICs9ICh0aGlzLmJhbGFuY2UgLSBfbXNnX3ZhbHVlKTsKICAgIH0KICAgIAogICAgLy8vIHNlbmRpbmcgcmV3YXJkcyB0byB0aGUgaW52ZXN0aW5nLCB0ZWFtIGFuZCBtYXJrZXRpbmcgY29udHJhY3RzIAogICAgZnVuY3Rpb24gcGF5ZmVlKCkgcHVibGljIHsKICAgICAgICByZXF1aXJlKGZlZV9iYWxhbmNlID4gMCk7CiAgICAgICAgdWludCB2YWwgPSBmZWVfYmFsYW5jZTsKICAgICAgICBpbnZfY29udHJhY3QudHJhbnNmZXIoIHBlcmNlbnQodmFsLCAyMCkgKTsKICAgICAgICBydG1fY29udHJhY3QudHJhbnNmZXIoIHBlcmNlbnQodmFsLCA0OSkgKTsKICAgICAgICBtcmtfY29udHJhY3QudHJhbnNmZXIoIHBlcmNlbnQodmFsLCAzMCkgKTsKICAgICAgICBmZWVfYmFsYW5jZSA9IDA7CiAgICB9CiAgICAKICAgIC8vLyBmdW5jdGlvbiBmb3Igc2VuZGluZyBFVEggd2l0aCBiYWxhbmNlIGNoZWNrIChkb2VzIG5vdCBpbnRlcnJ1cHQgdGhlIHByb2dyYW0gaWYgYmFsYW5jZSBpcyBub3Qgc3VmZmljaWVudCkKICAgIGZ1bmN0aW9uIHNlbmRFdGgoYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbCkgaW50ZXJuYWwgcmV0dXJucyhib29sKSB7CiAgICAgICAgaWYodGhpcy5iYWxhbmNlIDwgX3ZhbCkgewogICAgICAgICAgICBUcmFuc2ZlckVycm9yKF90bywgX3ZhbCk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgX3RvLnRyYW5zZmVyKF92YWwpOwogICAgICAgIFdpdGhkcmF3KGFkZHJlc3ModGhpcyksIF90bywgX3ZhbCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIAogICAgLy8vIGdldCB3aW5uaW5nIHRpY2tldCBudW1iZXIgYmFzaW5nIG9uIGJsb2NrIGhhc2cgKGJsb2NrIG51bWJlciBpcyBiZWluZyBjYWxjdWxhdGVkIGJhc2luZyBvbiBzcGVjaWZpZWQgZGlzcGxhY2VtZW50KQogICAgZnVuY3Rpb24gZ2V0V2lubmluZ051bWJlcih1aW50IF9ibG9ja3NoaWZ0KSBpbnRlcm5hbCBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIHVpbnQoYmxvY2suYmxvY2toYXNoKGJsb2NrLm51bWJlciAtIF9ibG9ja3NoaWZ0KSkgJSB0aWNrZXRzTnVtICsgMTsKICAgIH0KICAgIAoKICAgIC8vLyBjdXJyZW50IGFtb3VudCBvZiBqYWNrIHBvdCAxCiAgICBmdW5jdGlvbiBqYWNrUG90QSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQpIHsKICAgICAgICByZXR1cm4gcGVyY2VudChwcml6ZUZ1bmQoKSwgMTApOwogICAgfQogICAgCiAgICAvLy8gY3VycmVudCBhbW91bnQgb2YgamFjayBwb3QgMgogICAgZnVuY3Rpb24gamFja1BvdEIoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIHBlcmNlbnQocHJpemVGdW5kKCksIDQpOwogICAgfQogICAgCiAgICAvLy8gY3VycmVudCBhbW91bnQgb2YgamFjayBwb3QgMwogICAgZnVuY3Rpb24gamFja1BvdEMoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuIHBlcmNlbnQocHJpemVGdW5kKCksIDEpOwogICAgfQoKICAgIC8vLyBjdXJyZW50IGFtb3VudCBvZiBwcml6ZSBmdW5kCiAgICBmdW5jdGlvbiBwcml6ZUZ1bmQoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KSB7CiAgICAgICAgcmV0dXJuICggKHRpY2tldHNOdW0gKiBvbmVQb3RXZWkpIC8gMTAwICkgKiA5MDsKICAgIH0KCiAgICAvLy8gZnVuY3Rpb24gZm9yIGNhbGN1bGF0aW5nIGRlZmluaXRlIHBlcmNlbnQgb2YgYSBudW1iZXIKICAgIGZ1bmN0aW9uIHBlcmNlbnQodWludCBfdmFsLCB1aW50OCBfcGVyY2VudCkgcHVibGljIHB1cmUgcmV0dXJucyAodWludCkgewogICAgICAgIHJldHVybiAoIF92YWwgLyAxMDAgKSAqIF9wZXJjZW50OwogICAgfQoKCiAgICAvLy8gcmV0dXJucyBvd25lciBhZGRyZXNzIHVzaW5nIHRpY2tldCBudW1iZXIKICAgIGZ1bmN0aW9uIGdldFRpY2tldE93bmVyKHVpbnQgX251bSkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcykgewogICAgICAgIGlmKHRpY2tldHNOdW0gPT0gMCkgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGdldEFkZHJlc3ModGlja2V0c1tfbnVtXSk7CiAgICB9CgogICAgLy8vIHJldHVybnMgYW1vdW50IG9mIHRpY2tldHMgZm9yIHRoZSBjdXJyZW50IGRyYXcgaW4gdGhlIHBvc3Nlc3Npb24gb2Ygc3BlY2lmaWVkIGFkZHJlc3MKICAgIGZ1bmN0aW9uIGdldFRpY2tldHNDb3VudChhZGRyZXNzIF9hZGRyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50KSB7CiAgICAgICAgaWYodGlja2V0c051bSA9PSAwKSB7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgICAgICB1aW50IG51bSA9IDA7CiAgICAgICAgZm9yKHVpbnQgaSA9IDA7IGkgPCB0aWNrZXRzTnVtOyBpKyspIHsKICAgICAgICAgICAgaWYodGlja2V0c1tpXSA9PSByZWFkQWRkcmVzcyhfYWRkcikpIHsKICAgICAgICAgICAgICAgIG51bSsrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBudW07CiAgICB9CiAgICAKICAgIC8vLyByZXR1cm5zIHRpY2tldHMgbnVtYmVycyBmb3IgdGhlIGN1cnJlbnQgZHJhdyBpbiB0aGUgcG9zc2Vzc2lvbiBvZiBzcGVjaWZpZWQgYWRkcmVzcwogICAgZnVuY3Rpb24gZ2V0VGlja2V0c0F0QWRyZXNzKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyB2aWV3IHJldHVybnModWludFtdKSB7CiAgICAgICAgdWludFtdIG1lbW9yeSByZXN1bHQgPSBuZXcgdWludFtdKGdldFRpY2tldHNDb3VudChfYWRkcmVzcykpOwogICAgICAgIHVpbnQgbnVtID0gMDsKICAgICAgICBmb3IodWludCBpID0gMDsgaSA8IHRpY2tldHNOdW07IGkrKykgewogICAgICAgICAgICBpZihnZXRBZGRyZXNzKHRpY2tldHNbaV0pID09IF9hZGRyZXNzKSB7CiAgICAgICAgICAgICAgICByZXN1bHRbbnVtXSA9IGk7CiAgICAgICAgICAgICAgICBudW0rKzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKCiAgICAvLy8gcmV0dXJucyBhbW91bnQgb2YgcGFpZCByZXdhcmRzIGZvciB0aGUgY3VycmVudCBkcmF3CiAgICBmdW5jdGlvbiBnZXRMYXN0V2lubmVyKCkgcHVibGljIHZpZXcgcmV0dXJucyh1aW50KSB7CiAgICAgICAgcmV0dXJuIGxhc3Rfd2lubmVyKzE7CiAgICB9CgoKICAgIC8vLyBpbnZlc3RpbmcgY29udHJhY3QgYWRkcmVzcyBjaGFuZ2UKICAgIGZ1bmN0aW9uIHNldEludkNvbnRyYWN0KGFkZHJlc3MgX2FkZHIpIG9ubHlNYW5hZ2VyIHB1YmxpYyB7CiAgICAgICAgaW52X2NvbnRyYWN0ID0gX2FkZHI7CiAgICB9CgogICAgLy8vIHRlYW0gY29udHJhY3QgYWRkcmVzcyBjaGFuZ2UKICAgIGZ1bmN0aW9uIHNldFJ0bUNvbnRyYWN0KGFkZHJlc3MgX2FkZHIpIG9ubHlNYW5hZ2VyIHB1YmxpYyB7CiAgICAgICAgcnRtX2NvbnRyYWN0ID0gX2FkZHI7CiAgICB9CgogICAgLy8vIG1hcmtldGluZyBjb250cmFjdCBhZGRyZXNzIGNoYW5nZQogICAgZnVuY3Rpb24gc2V0TXJrQ29udHJhY3QoYWRkcmVzcyBfYWRkcikgb25seU1hbmFnZXIgcHVibGljIHsKICAgICAgICBtcmtfY29udHJhY3QgPSBfYWRkcjsKICAgIH0KCgogICAgLy8vIHJldHVybnMgbnVtYmVyIG9mIHBhcnRpY2lwYW50IChpbiB0aGUgbGlzdCBvZiBwYXJ0aWNpcGFudHMpIGJ5IGJlbG9uZ2luZyBhZGRyZXNzIGFuZCBhZGRpbmcgdG8gdGhlIGxpc3QsIGlmIG5vdCBmb3VuZAogICAgZnVuY3Rpb24gY2hlY2tBZGRyZXNzKGFkZHJlc3MgX2FkZHIpIHB1YmxpYyByZXR1cm5zICh1aW50IGFkZHJfbnVtKQogICAgewogICAgICAgIGZvcih1aW50IGk9MDsgaTxhZGRyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmKGFkZHJbaV0gPT0gX2FkZHIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBhZGRyLnB1c2goX2FkZHIpIC0gMTsKICAgIH0KICAgIAogICAgLy8vIHJldHVybnMgcGFydGljaXBhbnRzIG51bWJlciAoaW4gdGhlIGxpc3Qgb2YgcGFydGljaXBhbnRzKSBiZSBiZWxvbmdpbmcgYWRkcmVzcyAocmVhZCBvbmx5KQogICAgZnVuY3Rpb24gcmVhZEFkZHJlc3MoYWRkcmVzcyBfYWRkcikgcHVibGljIHZpZXcgcmV0dXJucyAodWludCBhZGRyX251bSkKICAgIHsKICAgICAgICBmb3IodWludCBpPTA7IGk8YWRkci5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZihhZGRyW2ldID09IF9hZGRyKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gMDsKICAgIH0KCiAgICAvLy8gcmV0dXJucyBhZGRyZXNzIGJ5IHRoZSBudW1iZXIgaW4gdGhlIGxpc3Qgb2YgcGFydGljaXBhbnRzCiAgICBmdW5jdGlvbiBnZXRBZGRyZXNzKHVpbnQgX2luZGV4KSBwdWJsaWMgdmlldyByZXR1cm5zIChhZGRyZXNzKSB7CiAgICAgICAgcmV0dXJuIGFkZHJbX2luZGV4XTsKICAgIH0KCgogICAgLy8vIG1ldGhvZCBmb3IgZGlyZWN0IGNvbnRyYWN0IHJlcGxlbmlzaG1lbnQgd2l0aCBFVEgKICAgIGZ1bmN0aW9uIGRlcG9zaXQoKSBwdWJsaWMgcGF5YWJsZSB7CiAgICAgICAgcmVxdWlyZShtc2cudmFsdWUgPiAwKTsKICAgIH0KICAgIAoKfQ=='.
	

]
