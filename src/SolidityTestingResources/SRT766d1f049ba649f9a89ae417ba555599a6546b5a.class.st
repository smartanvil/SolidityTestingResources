Class {
	#name : #SRT766d1f049ba649f9a89ae417ba555599a6546b5a,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT766d1f049ba649f9a89ae417ba555599a6546b5a >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTc7CgovKgoKICogc291cmNlICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9ibG9ja2JpdHNpby8KCiAqIEBuYW1lICAgICAgICBBcHBsaWNhdGlvbiBFbnRpdHkgR2VuZXJpYyBDb250cmFjdAogKiBAcGFja2FnZSAgICAgQmxvY2tCaXRzSU8KICogQGF1dGhvciAgICAgIE1pY2t5IFNvY2FjaSA8PGEgaHJlZj0iL2Nkbi1jZ2kvbC9lbWFpbC1wcm90ZWN0aW9uIiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9IjAzNmU2YTYwNjg3YTQzNmQ2Yzc0NmY2YTc1NjYyZDcxNmMiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L2E+PgoKICAgIFVzZWQgZm9yIHRoZSBBQkkgaW50ZXJmYWNlIHdoZW4gYXNzZXRzIG5lZWQgdG8gY2FsbCBBcHBsaWNhdGlvbiBFbnRpdHkuCgogICAgVGhpcyBpcyByZXF1aXJlZCwgb3RoZXJ3aXNlIHdlIGVuZCB1cCBsb2FkaW5nIHRoZSBhc3NldHMgdGhlbXNlbHZlcyB3aGVuIHdlIGxvYWQgdGhlIEFwcGxpY2F0aW9uRW50aXR5IGNvbnRyYWN0CiAgICBhbmQgZW5kIHVwIGluIGEgbG9vcAoqLwoKCgpjb250cmFjdCBBcHBsaWNhdGlvbkVudGl0eUFCSSB7CgogICAgYWRkcmVzcyBwdWJsaWMgUHJvcG9zYWxzRW50aXR5OwogICAgYWRkcmVzcyBwdWJsaWMgRnVuZGluZ0VudGl0eTsKICAgIGFkZHJlc3MgcHVibGljIE1pbGVzdG9uZXNFbnRpdHk7CiAgICBhZGRyZXNzIHB1YmxpYyBNZWV0aW5nc0VudGl0eTsKICAgIGFkZHJlc3MgcHVibGljIEJvdW50eU1hbmFnZXJFbnRpdHk7CiAgICBhZGRyZXNzIHB1YmxpYyBUb2tlbk1hbmFnZXJFbnRpdHk7CiAgICBhZGRyZXNzIHB1YmxpYyBMaXN0aW5nQ29udHJhY3RFbnRpdHk7CiAgICBhZGRyZXNzIHB1YmxpYyBGdW5kaW5nTWFuYWdlckVudGl0eTsKICAgIGFkZHJlc3MgcHVibGljIE5ld3NDb250cmFjdEVudGl0eTsKCiAgICBib29sIHB1YmxpYyBfaW5pdGlhbGl6ZWQgPSBmYWxzZTsKICAgIGJvb2wgcHVibGljIF9sb2NrZWQgPSBmYWxzZTsKICAgIHVpbnQ4IHB1YmxpYyBDdXJyZW50RW50aXR5U3RhdGU7CiAgICB1aW50OCBwdWJsaWMgQXNzZXRDb2xsZWN0aW9uTnVtOwogICAgYWRkcmVzcyBwdWJsaWMgR2F0ZXdheUludGVyZmFjZUFkZHJlc3M7CiAgICBhZGRyZXNzIHB1YmxpYyBkZXBsb3llckFkZHJlc3M7CiAgICBhZGRyZXNzIHRlc3RBZGRyZXNzQWxsb3dVcGdyYWRlRnJvbTsKICAgIG1hcHBpbmcgKGJ5dGVzMzIgPT4gdWludDgpIHB1YmxpYyBFbnRpdHlTdGF0ZXM7CiAgICBtYXBwaW5nIChieXRlczMyID0+IGFkZHJlc3MpIHB1YmxpYyBBc3NldENvbGxlY3Rpb247CiAgICBtYXBwaW5nICh1aW50OCA9PiBieXRlczMyKSBwdWJsaWMgQXNzZXRDb2xsZWN0aW9uSWRUb05hbWU7CiAgICBtYXBwaW5nIChieXRlczMyID0+IHVpbnQyNTYpIHB1YmxpYyBCeWxhd3NVaW50MjU2OwogICAgbWFwcGluZyAoYnl0ZXMzMiA9PiBieXRlczMyKSBwdWJsaWMgQnlsYXdzQnl0ZXMzMjsKCiAgICBmdW5jdGlvbiBBcHBsaWNhdGlvbkVudGl0eSgpIHB1YmxpYzsKICAgIGZ1bmN0aW9uIGdldEVudGl0eVN0YXRlKGJ5dGVzMzIgbmFtZSkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDgpOwogICAgZnVuY3Rpb24gbGlua1RvR2F0ZXdheSggYWRkcmVzcyBfR2F0ZXdheUludGVyZmFjZUFkZHJlc3MsIGJ5dGVzMzIgX3NvdXJjZUNvZGVVcmwgKSBleHRlcm5hbDsKICAgIGZ1bmN0aW9uIHNldFVwZ3JhZGVTdGF0ZSh1aW50OCBzdGF0ZSkgcHVibGljIDsKICAgIGZ1bmN0aW9uIGFkZEFzc2V0UHJvcG9zYWxzKGFkZHJlc3MgX2Fzc2V0QWRkcmVzc2VzKSBleHRlcm5hbDsKICAgIGZ1bmN0aW9uIGFkZEFzc2V0RnVuZGluZyhhZGRyZXNzIF9hc3NldEFkZHJlc3NlcykgZXh0ZXJuYWw7CiAgICBmdW5jdGlvbiBhZGRBc3NldE1pbGVzdG9uZXMoYWRkcmVzcyBfYXNzZXRBZGRyZXNzZXMpIGV4dGVybmFsOwogICAgZnVuY3Rpb24gYWRkQXNzZXRNZWV0aW5ncyhhZGRyZXNzIF9hc3NldEFkZHJlc3NlcykgZXh0ZXJuYWw7CiAgICBmdW5jdGlvbiBhZGRBc3NldEJvdW50eU1hbmFnZXIoYWRkcmVzcyBfYXNzZXRBZGRyZXNzZXMpIGV4dGVybmFsOwogICAgZnVuY3Rpb24gYWRkQXNzZXRUb2tlbk1hbmFnZXIoYWRkcmVzcyBfYXNzZXRBZGRyZXNzZXMpIGV4dGVybmFsOwogICAgZnVuY3Rpb24gYWRkQXNzZXRGdW5kaW5nTWFuYWdlcihhZGRyZXNzIF9hc3NldEFkZHJlc3NlcykgZXh0ZXJuYWw7CiAgICBmdW5jdGlvbiBhZGRBc3NldExpc3RpbmdDb250cmFjdChhZGRyZXNzIF9hc3NldEFkZHJlc3NlcykgZXh0ZXJuYWw7CiAgICBmdW5jdGlvbiBhZGRBc3NldE5ld3NDb250cmFjdChhZGRyZXNzIF9hc3NldEFkZHJlc3NlcykgZXh0ZXJuYWw7CiAgICBmdW5jdGlvbiBnZXRBc3NldEFkZHJlc3NCeU5hbWUoYnl0ZXMzMiBfbmFtZSkgcHVibGljIHZpZXcgcmV0dXJucyAoYWRkcmVzcyk7CiAgICBmdW5jdGlvbiBzZXRCeWxhd1VpbnQyNTYoYnl0ZXMzMiBuYW1lLCB1aW50MjU2IHZhbHVlKSBwdWJsaWM7CiAgICBmdW5jdGlvbiBnZXRCeWxhd1VpbnQyNTYoYnl0ZXMzMiBuYW1lKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHNldEJ5bGF3Qnl0ZXMzMihieXRlczMyIG5hbWUsIGJ5dGVzMzIgdmFsdWUpIHB1YmxpYzsKICAgIGZ1bmN0aW9uIGdldEJ5bGF3Qnl0ZXMzMihieXRlczMyIG5hbWUpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJ5dGVzMzIpOwogICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIGV4dGVybmFsIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gZ2V0UGFyZW50QWRkcmVzcygpIGV4dGVybmFsIHZpZXcgcmV0dXJucyhhZGRyZXNzKTsKICAgIGZ1bmN0aW9uIGNyZWF0ZUNvZGVVcGdyYWRlUHJvcG9zYWwoIGFkZHJlc3MgX25ld0FkZHJlc3MsIGJ5dGVzMzIgX3NvdXJjZUNvZGVVcmwgKSBleHRlcm5hbCByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIGFjY2VwdENvZGVVcGdyYWRlUHJvcG9zYWwoYWRkcmVzcyBfbmV3QWRkcmVzcykgZXh0ZXJuYWw7CiAgICBmdW5jdGlvbiBpbml0aWFsaXplQXNzZXRzVG9UaGlzQXBwbGljYXRpb24oKSBleHRlcm5hbCByZXR1cm5zIChib29sKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyQXNzZXRzVG9OZXdBcHBsaWNhdGlvbihhZGRyZXNzIF9uZXdBZGRyZXNzKSBleHRlcm5hbCByZXR1cm5zIChib29sKTsKICAgIGZ1bmN0aW9uIGxvY2soKSBleHRlcm5hbCByZXR1cm5zIChib29sKTsKICAgIGZ1bmN0aW9uIGNhbkluaXRpYXRlQ29kZVVwZ3JhZGUoYWRkcmVzcyBfc2VuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zKGJvb2wpOwogICAgZnVuY3Rpb24gZG9TdGF0ZUNoYW5nZXMoKSBwdWJsaWM7CiAgICBmdW5jdGlvbiBoYXNSZXF1aXJlZFN0YXRlQ2hhbmdlcygpIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gYW55QXNzZXRIYXNDaGFuZ2VzKCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBleHRlbmRlZEFueUFzc2V0SGFzQ2hhbmdlcygpIGludGVybmFsIHZpZXcgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBnZXRSZXF1aXJlZFN0YXRlQ2hhbmdlcygpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQ4LCB1aW50OCk7CiAgICBmdW5jdGlvbiBnZXRUaW1lc3RhbXAoKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50MjU2KTsKCn0KCi8qCgogKiBzb3VyY2UgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2Jsb2NrYml0c2lvLwoKICogQG5hbWUgICAgICAgIEFwcGxpY2F0aW9uIEFzc2V0IENvbnRyYWN0CiAqIEBwYWNrYWdlICAgICBCbG9ja0JpdHNJTwogKiBAYXV0aG9yICAgICAgTWlja3kgU29jYWNpIDw8YSBocmVmPSIvY2RuLWNnaS9sL2VtYWlsLXByb3RlY3Rpb24iIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iOTFmY2Y4ZjJmYWU4ZDFmZmZlZTZmZGY4ZTdmNGJmZTNmZSI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvYT4+CgogQW55IGNvbnRyYWN0IGluaGVyaXRpbmcgdGhpcyB3aWxsIGJlIHVzYWJsZSBhcyBhbiBBc3NldCBpbiB0aGUgQXBwbGljYXRpb24gRW50aXR5CgoqLwoKCgoKY29udHJhY3QgQXBwbGljYXRpb25Bc3NldCB7CgogICAgZXZlbnQgRXZlbnRBcHBBc3NldE93bmVyU2V0KGJ5dGVzMzIgaW5kZXhlZCBfbmFtZSwgYWRkcmVzcyBpbmRleGVkIF9vd25lcik7CiAgICBldmVudCBFdmVudFJ1bkJlZm9yZUluaXQoYnl0ZXMzMiBpbmRleGVkIF9uYW1lKTsKICAgIGV2ZW50IEV2ZW50UnVuQmVmb3JlQXBwbHlpbmdTZXR0aW5ncyhieXRlczMyIGluZGV4ZWQgX25hbWUpOwoKCiAgICBtYXBwaW5nIChieXRlczMyID0+IHVpbnQ4KSBwdWJsaWMgRW50aXR5U3RhdGVzOwogICAgbWFwcGluZyAoYnl0ZXMzMiA9PiB1aW50OCkgcHVibGljIFJlY29yZFN0YXRlczsKICAgIHVpbnQ4IHB1YmxpYyBDdXJyZW50RW50aXR5U3RhdGU7CgogICAgZXZlbnQgRXZlbnRFbnRpdHlQcm9jZXNzb3IoYnl0ZXMzMiBpbmRleGVkIF9hc3NldE5hbWUsIHVpbnQ4IGluZGV4ZWQgX2N1cnJlbnQsIHVpbnQ4IGluZGV4ZWQgX3JlcXVpcmVkKTsKICAgIGV2ZW50IERlYnVnRW50aXR5UmVxdWlyZWRDaGFuZ2VzKCBieXRlczMyIF9hc3NldE5hbWUsIHVpbnQ4IGluZGV4ZWQgX2N1cnJlbnQsIHVpbnQ4IGluZGV4ZWQgX3JlcXVpcmVkICk7CgogICAgYnl0ZXMzMiBwdWJsaWMgYXNzZXROYW1lOwoKICAgIC8qIEFzc2V0IHJlY29yZHMgKi8KICAgIHVpbnQ4IHB1YmxpYyBSZWNvcmROdW0gPSAwOwoKICAgIC8qIEFzc2V0IGluaXRpYWxpc2VkIG9yIG5vdCAqLwogICAgYm9vbCBwdWJsaWMgX2luaXRpYWxpemVkID0gZmFsc2U7CgogICAgLyogQXNzZXQgc2V0dGluZ3MgcHJlc2VudCBvciBub3QgKi8KICAgIGJvb2wgcHVibGljIF9zZXR0aW5nc0FwcGxpZWQgPSBmYWxzZTsKCiAgICAvKiBBc3NldCBvd25lciAoIEFwcGxpY2F0aW9uRW50aXR5IGFkZHJlc3MgKSAqLwogICAgYWRkcmVzcyBwdWJsaWMgb3duZXIgPSBhZGRyZXNzKDB4MCkgOwogICAgYWRkcmVzcyBwdWJsaWMgZGVwbG95ZXJBZGRyZXNzOwoKICAgIGZ1bmN0aW9uIEFwcGxpY2F0aW9uQXNzZXQoKSBwdWJsaWMgewogICAgICAgIGRlcGxveWVyQWRkcmVzcyA9IG1zZy5zZW5kZXI7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0SW5pdGlhbEFwcGxpY2F0aW9uQWRkcmVzcyhhZGRyZXNzIF9vd25lckFkZHJlc3MpIHB1YmxpYyBvbmx5RGVwbG95ZXIgcmVxdWlyZU5vdEluaXRpYWxpc2VkIHsKICAgICAgICBvd25lciA9IF9vd25lckFkZHJlc3M7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0SW5pdGlhbE93bmVyQW5kTmFtZShieXRlczMyIF9uYW1lKSBleHRlcm5hbAogICAgICAgIHJlcXVpcmVOb3RJbml0aWFsaXNlZAogICAgICAgIG9ubHlPd25lcgogICAgICAgIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgLy8gaW5pdCBzdGF0ZXMKICAgICAgICBzZXRBc3NldFN0YXRlcygpOwogICAgICAgIGFzc2V0TmFtZSA9IF9uYW1lOwogICAgICAgIC8vIHNldCBpbml0aWFsIHN0YXRlCiAgICAgICAgQ3VycmVudEVudGl0eVN0YXRlID0gZ2V0RW50aXR5U3RhdGUoIk5FVyIpOwogICAgICAgIHJ1bkJlZm9yZUluaXRpYWxpemF0aW9uKCk7CiAgICAgICAgX2luaXRpYWxpemVkID0gdHJ1ZTsKICAgICAgICBFdmVudEFwcEFzc2V0T3duZXJTZXQoX25hbWUsIG93bmVyKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRBc3NldFN0YXRlcygpIGludGVybmFsIHsKICAgICAgICAvLyBBc3NldCBTdGF0ZXMKICAgICAgICBFbnRpdHlTdGF0ZXNbIl9fSUdOT1JFRF9fIl0gICAgID0gMDsKICAgICAgICBFbnRpdHlTdGF0ZXNbIk5FVyJdICAgICAgICAgICAgID0gMTsKICAgICAgICAvLyBGdW5kaW5nIFN0YWdlIFN0YXRlcwogICAgICAgIFJlY29yZFN0YXRlc1siX19JR05PUkVEX18iXSAgICAgPSAwOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFJlY29yZFN0YXRlKGJ5dGVzMzIgbmFtZSkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDgpIHsKICAgICAgICByZXR1cm4gUmVjb3JkU3RhdGVzW25hbWVdOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEVudGl0eVN0YXRlKGJ5dGVzMzIgbmFtZSkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDgpIHsKICAgICAgICByZXR1cm4gRW50aXR5U3RhdGVzW25hbWVdOwogICAgfQoKICAgIGZ1bmN0aW9uIHJ1bkJlZm9yZUluaXRpYWxpemF0aW9uKCkgaW50ZXJuYWwgcmVxdWlyZU5vdEluaXRpYWxpc2VkICB7CiAgICAgICAgRXZlbnRSdW5CZWZvcmVJbml0KGFzc2V0TmFtZSk7CiAgICB9CgogICAgZnVuY3Rpb24gYXBwbHlBbmRMb2NrU2V0dGluZ3MoKQogICAgICAgIHB1YmxpYwogICAgICAgIG9ubHlEZXBsb3llcgogICAgICAgIHJlcXVpcmVJbml0aWFsaXNlZAogICAgICAgIHJlcXVpcmVTZXR0aW5nc05vdEFwcGxpZWQKICAgICAgICByZXR1cm5zKGJvb2wpCiAgICB7CiAgICAgICAgcnVuQmVmb3JlQXBwbHlpbmdTZXR0aW5ncygpOwogICAgICAgIF9zZXR0aW5nc0FwcGxpZWQgPSB0cnVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHJ1bkJlZm9yZUFwcGx5aW5nU2V0dGluZ3MoKSBpbnRlcm5hbCByZXF1aXJlSW5pdGlhbGlzZWQgcmVxdWlyZVNldHRpbmdzTm90QXBwbGllZCAgewogICAgICAgIEV2ZW50UnVuQmVmb3JlQXBwbHlpbmdTZXR0aW5ncyhhc3NldE5hbWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyVG9OZXdPd25lcihhZGRyZXNzIF9uZXdPd25lcikgcHVibGljIHJlcXVpcmVJbml0aWFsaXNlZCBvbmx5T3duZXIgcmV0dXJucyAoYm9vbCkgewogICAgICAgIHJlcXVpcmUob3duZXIgIT0gYWRkcmVzcygweDApICYmIF9uZXdPd25lciAhPSBhZGRyZXNzKDB4MCkpOwogICAgICAgIG93bmVyID0gX25ld093bmVyOwogICAgICAgIEV2ZW50QXBwQXNzZXRPd25lclNldChhc3NldE5hbWUsIG93bmVyKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRBcHBsaWNhdGlvbkFzc2V0QWRkcmVzc0J5TmFtZShieXRlczMyIF9uYW1lKQogICAgICAgIHB1YmxpYwogICAgICAgIHZpZXcKICAgICAgICByZXR1cm5zKGFkZHJlc3MpCiAgICB7CiAgICAgICAgYWRkcmVzcyBhc3NldCA9IEFwcGxpY2F0aW9uRW50aXR5QUJJKG93bmVyKS5nZXRBc3NldEFkZHJlc3NCeU5hbWUoX25hbWUpOwogICAgICAgIGlmKCBhc3NldCAhPSBhZGRyZXNzKDB4MCkgKSB7CiAgICAgICAgICAgIHJldHVybiBhc3NldDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXZlcnQoKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0QXBwbGljYXRpb25TdGF0ZSgpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQ4KSB7CiAgICAgICAgcmV0dXJuIEFwcGxpY2F0aW9uRW50aXR5QUJJKG93bmVyKS5DdXJyZW50RW50aXR5U3RhdGUoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRBcHBsaWNhdGlvbkVudGl0eVN0YXRlKGJ5dGVzMzIgbmFtZSkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDgpIHsKICAgICAgICByZXR1cm4gQXBwbGljYXRpb25FbnRpdHlBQkkob3duZXIpLmdldEVudGl0eVN0YXRlKG5hbWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEFwcEJ5bGF3VWludDI1NihieXRlczMyIG5hbWUpIHB1YmxpYyB2aWV3IHJlcXVpcmVJbml0aWFsaXNlZCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgQXBwbGljYXRpb25FbnRpdHlBQkkgQ3VycmVudEFwcCA9IEFwcGxpY2F0aW9uRW50aXR5QUJJKG93bmVyKTsKICAgICAgICByZXR1cm4gQ3VycmVudEFwcC5nZXRCeWxhd1VpbnQyNTYobmFtZSk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0QXBwQnlsYXdCeXRlczMyKGJ5dGVzMzIgbmFtZSkgcHVibGljIHZpZXcgcmVxdWlyZUluaXRpYWxpc2VkIHJldHVybnMgKGJ5dGVzMzIpIHsKICAgICAgICBBcHBsaWNhdGlvbkVudGl0eUFCSSBDdXJyZW50QXBwID0gQXBwbGljYXRpb25FbnRpdHlBQkkob3duZXIpOwogICAgICAgIHJldHVybiBDdXJyZW50QXBwLmdldEJ5bGF3Qnl0ZXMzMihuYW1lKTsKICAgIH0KCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgcmVxdWlyZShtc2cuc2VuZGVyID09IG93bmVyKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIG9ubHlBcHBsaWNhdGlvbkVudGl0eSgpIHsKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gb3duZXIpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgcmVxdWlyZUluaXRpYWxpc2VkKCkgewogICAgICAgIHJlcXVpcmUoX2luaXRpYWxpemVkID09IHRydWUpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgcmVxdWlyZU5vdEluaXRpYWxpc2VkKCkgewogICAgICAgIHJlcXVpcmUoX2luaXRpYWxpemVkID09IGZhbHNlKTsKICAgICAgICBfOwogICAgfQoKICAgIG1vZGlmaWVyIHJlcXVpcmVTZXR0aW5nc0FwcGxpZWQoKSB7CiAgICAgICAgcmVxdWlyZShfc2V0dGluZ3NBcHBsaWVkID09IHRydWUpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgcmVxdWlyZVNldHRpbmdzTm90QXBwbGllZCgpIHsKICAgICAgICByZXF1aXJlKF9zZXR0aW5nc0FwcGxpZWQgPT0gZmFsc2UpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seURlcGxveWVyKCkgewogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBkZXBsb3llckFkZHJlc3MpOwogICAgICAgIF87CiAgICB9CgogICAgbW9kaWZpZXIgb25seUFzc2V0KGJ5dGVzMzIgX25hbWUpIHsKICAgICAgICBhZGRyZXNzIEFzc2V0QWRkcmVzcyA9IGdldEFwcGxpY2F0aW9uQXNzZXRBZGRyZXNzQnlOYW1lKF9uYW1lKTsKICAgICAgICByZXF1aXJlKCBtc2cuc2VuZGVyID09IEFzc2V0QWRkcmVzcyk7CiAgICAgICAgXzsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRUaW1lc3RhbXAoKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgcmV0dXJuIG5vdzsKICAgIH0KCgp9CgovKgoKICogc291cmNlICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9ibG9ja2JpdHNpby8KCiAqIEBuYW1lICAgICAgICBBcHBsaWNhdGlvbiBBc3NldCBDb250cmFjdCBBQkkKICogQHBhY2thZ2UgICAgIEJsb2NrQml0c0lPCiAqIEBhdXRob3IgICAgICBNaWNreSBTb2NhY2kgPDxhIGhyZWY9Ii9jZG4tY2dpL2wvZW1haWwtcHJvdGVjdGlvbiIgY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSI1ODM1MzEzYjMzMjExODM2MzcyZjM0MzEyZTNkNzYyYTM3Ij5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9hPj4KCiBBbnkgY29udHJhY3QgaW5oZXJpdGluZyB0aGlzIHdpbGwgYmUgdXNhYmxlIGFzIGFuIEFzc2V0IGluIHRoZSBBcHBsaWNhdGlvbiBFbnRpdHkKCiovCgoKCmNvbnRyYWN0IEFCSUFwcGxpY2F0aW9uQXNzZXQgewoKICAgIGJ5dGVzMzIgcHVibGljIGFzc2V0TmFtZTsKICAgIHVpbnQ4IHB1YmxpYyBDdXJyZW50RW50aXR5U3RhdGU7CiAgICB1aW50OCBwdWJsaWMgUmVjb3JkTnVtOwogICAgYm9vbCBwdWJsaWMgX2luaXRpYWxpemVkOwogICAgYm9vbCBwdWJsaWMgX3NldHRpbmdzQXBwbGllZDsKICAgIGFkZHJlc3MgcHVibGljIG93bmVyOwogICAgYWRkcmVzcyBwdWJsaWMgZGVwbG95ZXJBZGRyZXNzOwogICAgbWFwcGluZyAoYnl0ZXMzMiA9PiB1aW50OCkgcHVibGljIEVudGl0eVN0YXRlczsKICAgIG1hcHBpbmcgKGJ5dGVzMzIgPT4gdWludDgpIHB1YmxpYyBSZWNvcmRTdGF0ZXM7CgogICAgZnVuY3Rpb24gc2V0SW5pdGlhbEFwcGxpY2F0aW9uQWRkcmVzcyhhZGRyZXNzIF9vd25lckFkZHJlc3MpIHB1YmxpYzsKICAgIGZ1bmN0aW9uIHNldEluaXRpYWxPd25lckFuZE5hbWUoYnl0ZXMzMiBfbmFtZSkgZXh0ZXJuYWwgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBnZXRSZWNvcmRTdGF0ZShieXRlczMyIG5hbWUpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQ4KTsKICAgIGZ1bmN0aW9uIGdldEVudGl0eVN0YXRlKGJ5dGVzMzIgbmFtZSkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDgpOwogICAgZnVuY3Rpb24gYXBwbHlBbmRMb2NrU2V0dGluZ3MoKSBwdWJsaWMgcmV0dXJucyhib29sKTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyVG9OZXdPd25lcihhZGRyZXNzIF9uZXdPd25lcikgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gZ2V0QXBwbGljYXRpb25Bc3NldEFkZHJlc3NCeU5hbWUoYnl0ZXMzMiBfbmFtZSkgcHVibGljIHJldHVybnMoYWRkcmVzcyk7CiAgICBmdW5jdGlvbiBnZXRBcHBsaWNhdGlvblN0YXRlKCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDgpOwogICAgZnVuY3Rpb24gZ2V0QXBwbGljYXRpb25FbnRpdHlTdGF0ZShieXRlczMyIG5hbWUpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQ4KTsKICAgIGZ1bmN0aW9uIGdldEFwcEJ5bGF3VWludDI1NihieXRlczMyIG5hbWUpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTYpOwogICAgZnVuY3Rpb24gZ2V0QXBwQnlsYXdCeXRlczMyKGJ5dGVzMzIgbmFtZSkgcHVibGljIHZpZXcgcmV0dXJucyAoYnl0ZXMzMik7CiAgICBmdW5jdGlvbiBnZXRUaW1lc3RhbXAoKSB2aWV3IHB1YmxpYyByZXR1cm5zICh1aW50MjU2KTsKCgp9CgovKgoKICogc291cmNlICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9ibG9ja2JpdHNpby8KCiAqIEBuYW1lICAgICAgICBGdW5kaW5nIENvbnRyYWN0IEFCSQogKiBAcGFja2FnZSAgICAgQmxvY2tCaXRzSU8KICogQGF1dGhvciAgICAgIE1pY2t5IFNvY2FjaSA8PGEgaHJlZj0iL2Nkbi1jZ2kvbC9lbWFpbC1wcm90ZWN0aW9uIiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9IjFhNzc3Mzc5NzE2MzVhNzQ3NTZkNzY3MzZjN2YzNDY4NzUiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L2E+PgoKIENvbnRhaW5zIHRoZSBGdW5kaW5nIENvbnRyYWN0IGNvZGUgZGVwbG95ZWQgYW5kIGxpbmtlZCB0byB0aGUgQXBwbGljYXRpb24gRW50aXR5CgoKICAgICEhISBMaW5rcyBkaXJlY3RseSB0byBNaWxlc3RvbmVzCgoqLwoKCgoKCmNvbnRyYWN0IEFCSUZ1bmRpbmcgaXMgQUJJQXBwbGljYXRpb25Bc3NldCB7CgogICAgYWRkcmVzcyBwdWJsaWMgbXVsdGlTaWdPdXRwdXRBZGRyZXNzOwogICAgYWRkcmVzcyBwdWJsaWMgRGlyZWN0SW5wdXQ7CiAgICBhZGRyZXNzIHB1YmxpYyBNaWxlc3RvbmVJbnB1dDsKICAgIGFkZHJlc3MgcHVibGljIFRva2VuTWFuYWdlckVudGl0eTsKICAgIGFkZHJlc3MgcHVibGljIEZ1bmRpbmdNYW5hZ2VyRW50aXR5OwoKICAgIHN0cnVjdCBGdW5kaW5nU3RhZ2UgewogICAgICAgIGJ5dGVzMzIgbmFtZTsKICAgICAgICB1aW50OCAgIHN0YXRlOwogICAgICAgIHVpbnQyNTYgdGltZV9zdGFydDsKICAgICAgICB1aW50MjU2IHRpbWVfZW5kOwogICAgICAgIHVpbnQyNTYgYW1vdW50X2NhcF9zb2Z0OyAgICAgICAgICAgIC8vIDAgPSBub3QgZW5mb3JjZWQKICAgICAgICB1aW50MjU2IGFtb3VudF9jYXBfaGFyZDsgICAgICAgICAgICAvLyAwID0gbm90IGVuZm9yY2VkCiAgICAgICAgdWludDI1NiBhbW91bnRfcmFpc2VkOyAgICAgICAgICAgICAgLy8gMCA9IG5vdCBlbmZvcmNlZAogICAgICAgIC8vIGZ1bmRpbmcgbWV0aG9kIHNldHRpbmdzCiAgICAgICAgdWludDI1NiBtaW5pbXVtX2VudHJ5OwogICAgICAgIHVpbnQ4ICAgbWV0aG9kczsgICAgICAgICAgICAgICAgICAgIC8vIEZ1bmRpbmdNZXRob2RJZHMKICAgICAgICAvLyB0b2tlbiBzZXR0aW5ncwogICAgICAgIHVpbnQyNTYgZml4ZWRfdG9rZW5zOwogICAgICAgIHVpbnQ4ICAgcHJpY2VfYWRkaXRpb25fcGVyY2VudGFnZTsgIC8vCiAgICAgICAgdWludDggICB0b2tlbl9zaGFyZV9wZXJjZW50YWdlOwogICAgICAgIHVpbnQ4ICAgaW5kZXg7CiAgICB9CgogICAgbWFwcGluZyAodWludDggPT4gRnVuZGluZ1N0YWdlKSBwdWJsaWMgQ29sbGVjdGlvbjsKICAgIHVpbnQ4IHB1YmxpYyBGdW5kaW5nU3RhZ2VOdW07CiAgICB1aW50OCBwdWJsaWMgY3VycmVudEZ1bmRpbmdTdGFnZTsKICAgIHVpbnQyNTYgcHVibGljIEFtb3VudFJhaXNlZDsKICAgIHVpbnQyNTYgcHVibGljIE1pbGVzdG9uZUFtb3VudFJhaXNlZDsKICAgIHVpbnQyNTYgcHVibGljIEdsb2JhbEFtb3VudENhcFNvZnQ7CiAgICB1aW50MjU2IHB1YmxpYyBHbG9iYWxBbW91bnRDYXBIYXJkOwogICAgdWludDggcHVibGljIFRva2VuU2VsbFBlcmNlbnRhZ2U7CiAgICB1aW50MjU2IHB1YmxpYyBGdW5kaW5nX1NldHRpbmdfZnVuZGluZ190aW1lX3N0YXJ0OwogICAgdWludDI1NiBwdWJsaWMgRnVuZGluZ19TZXR0aW5nX2Z1bmRpbmdfdGltZV9lbmQ7CiAgICB1aW50MjU2IHB1YmxpYyBGdW5kaW5nX1NldHRpbmdfY2FzaGJhY2tfdGltZV9zdGFydDsKICAgIHVpbnQyNTYgcHVibGljIEZ1bmRpbmdfU2V0dGluZ19jYXNoYmFja190aW1lX2VuZDsKICAgIHVpbnQyNTYgcHVibGljIEZ1bmRpbmdfU2V0dGluZ19jYXNoYmFja19iZWZvcmVfc3RhcnRfd2FpdF9kdXJhdGlvbjsKICAgIHVpbnQyNTYgcHVibGljIEZ1bmRpbmdfU2V0dGluZ19jYXNoYmFja19kdXJhdGlvbjsKCgogICAgZnVuY3Rpb24gYWRkRnVuZGluZ1N0YWdlKAogICAgICAgIGJ5dGVzMzIgX25hbWUsCiAgICAgICAgdWludDI1NiBfdGltZV9zdGFydCwKICAgICAgICB1aW50MjU2IF90aW1lX2VuZCwKICAgICAgICB1aW50MjU2IF9hbW91bnRfY2FwX3NvZnQsCiAgICAgICAgdWludDI1NiBfYW1vdW50X2NhcF9oYXJkLCAgIC8vIHJlcXVpcmVkID4gMAogICAgICAgIHVpbnQ4ICAgX21ldGhvZHMsCiAgICAgICAgdWludDI1NiBfbWluaW11bV9lbnRyeSwKICAgICAgICB1aW50MjU2IF9maXhlZF90b2tlbnMsCiAgICAgICAgdWludDggICBfcHJpY2VfYWRkaXRpb25fcGVyY2VudGFnZSwKICAgICAgICB1aW50OCAgIF90b2tlbl9zaGFyZV9wZXJjZW50YWdlCiAgICApCiAgICBwdWJsaWM7CgogICAgZnVuY3Rpb24gYWRkU2V0dGluZ3MoYWRkcmVzcyBfb3V0cHV0QWRkcmVzcywgdWludDI1NiBzb2Z0X2NhcCwgdWludDI1NiBoYXJkX2NhcCwgdWludDggc2FsZV9wZXJjZW50YWdlLCBhZGRyZXNzIF9kaXJlY3QsIGFkZHJlc3MgX21pbGVzdG9uZSApIHB1YmxpYzsKICAgIGZ1bmN0aW9uIGdldFN0YWdlQW1vdW50KHVpbnQ4IFN0YWdlSWQpIHB1YmxpYyB2aWV3IHJldHVybnMgKCB1aW50MjU2ICk7CiAgICBmdW5jdGlvbiBhbGxvd2VkUGF5bWVudE1ldGhvZCh1aW50OCBfcGF5bWVudF9tZXRob2QpIHB1YmxpYyBwdXJlIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gcmVjZWl2ZVBheW1lbnQoYWRkcmVzcyBfc2VuZGVyLCB1aW50OCBfcGF5bWVudF9tZXRob2QpIHBheWFibGUgcHVibGljIHJldHVybnMoYm9vbCk7CiAgICBmdW5jdGlvbiBjYW5BY2NlcHRQYXltZW50KHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBnZXRWYWx1ZU92ZXJDdXJyZW50Q2FwKHVpbnQyNTYgX2Ftb3VudCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1Nik7CiAgICBmdW5jdGlvbiBpc0Z1bmRpbmdTdGFnZVVwZGF0ZUFsbG93ZWQodWludDggX25ld19zdGF0ZSApIHB1YmxpYyB2aWV3IHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gZ2V0UmVjb3JkU3RhdGVSZXF1aXJlZENoYW5nZXMoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50OCk7CiAgICBmdW5jdGlvbiBkb1N0YXRlQ2hhbmdlcygpIHB1YmxpYzsKICAgIGZ1bmN0aW9uIGhhc1JlcXVpcmVkU3RhdGVDaGFuZ2VzKCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBnZXRSZXF1aXJlZFN0YXRlQ2hhbmdlcygpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQ4LCB1aW50OCwgdWludDgpOwoKfQoKLyoKCiAqIHNvdXJjZSAgICAgICBodHRwczovL2dpdGh1Yi5jb20vYmxvY2tiaXRzaW8vCgogKiBAbmFtZSAgICAgICAgVG9rZW4gQ29udHJhY3QKICogQHBhY2thZ2UgICAgIEJsb2NrQml0c0lPCiAqIEBhdXRob3IgICAgICBNaWNreSBTb2NhY2kgPDxhIGhyZWY9Ii9jZG4tY2dpL2wvZW1haWwtcHJvdGVjdGlvbiIgY2xhc3M9Il9fY2ZfZW1haWxfXyIgZGF0YS1jZmVtYWlsPSIyOTQ0NDA0YTQyNTA2OTQ3NDY1ZTQ1NDA1ZjRjMDc1YjQ2Ij5bZW1haWwmIzE2MDtwcm90ZWN0ZWRdPC9hPj4KCiBaZXBwZWxpbiBFUkMyMCBTdGFuZGFyZCBUb2tlbgoKKi8KCgoKY29udHJhY3QgQUJJVG9rZW4gewoKICAgIHN0cmluZyBwdWJsaWMgIHN5bWJvbDsKICAgIHN0cmluZyBwdWJsaWMgIG5hbWU7CiAgICB1aW50OCBwdWJsaWMgICBkZWNpbWFsczsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgc3RyaW5nIHB1YmxpYyAgdmVyc2lvbjsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwogICAgYWRkcmVzcyBwdWJsaWMgbWFuYWdlcjsKICAgIGFkZHJlc3MgcHVibGljIGRlcGxveWVyOwogICAgYm9vbCBwdWJsaWMgbWludGluZ0ZpbmlzaGVkID0gZmFsc2U7CiAgICBib29sIHB1YmxpYyBpbml0aWFsaXplZCA9IGZhbHNlOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpOwogICAgZnVuY3Rpb24gdHJhbnNmZXJGcm9tKGFkZHJlc3MgX2Zyb20sIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wpOwogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZyk7CiAgICBmdW5jdGlvbiBpbmNyZWFzZUFwcHJvdmFsKGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQgX2FkZGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gZGVjcmVhc2VBcHByb3ZhbChhZGRyZXNzIF9zcGVuZGVyLCB1aW50IF9zdWJ0cmFjdGVkVmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwogICAgZnVuY3Rpb24gbWludChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBmaW5pc2hNaW50aW5nKCkgcHVibGljIHJldHVybnMgKGJvb2wpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBmcm9tLCBhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgaW5kZXhlZCB2YWx1ZSk7CiAgICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IGluZGV4ZWQgdmFsdWUpOwogICAgZXZlbnQgTWludChhZGRyZXNzIGluZGV4ZWQgdG8sIHVpbnQyNTYgYW1vdW50KTsKICAgIGV2ZW50IE1pbnRGaW5pc2hlZCgpOwp9CgovKgoKICogc291cmNlICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9ibG9ja2JpdHNpby8KCiAqIEBuYW1lICAgICAgICBUb2tlbiBNYW5hZ2VyIENvbnRyYWN0CiAqIEBwYWNrYWdlICAgICBCbG9ja0JpdHNJTwogKiBAYXV0aG9yICAgICAgTWlja3kgU29jYWNpIDw8YSBocmVmPSIvY2RuLWNnaS9sL2VtYWlsLXByb3RlY3Rpb24iIGNsYXNzPSJfX2NmX2VtYWlsX18iIGRhdGEtY2ZlbWFpbD0iOGRlMGU0ZWVlNmY0Y2RlM2UyZmFlMWU0ZmJlOGEzZmZlMiI+W2VtYWlsJiMxNjA7cHJvdGVjdGVkXTwvYT4+CgoqLwoKCgoKCmNvbnRyYWN0IEFCSVRva2VuTWFuYWdlciBpcyBBQklBcHBsaWNhdGlvbkFzc2V0IHsKCiAgICBhZGRyZXNzIHB1YmxpYyBUb2tlblNDQURBRW50aXR5OwogICAgYWRkcmVzcyBwdWJsaWMgVG9rZW5FbnRpdHk7CiAgICBhZGRyZXNzIHB1YmxpYyBNYXJrZXRpbmdNZXRob2RBZGRyZXNzOwogICAgYm9vbCBPd25lclRva2VuQmFsYW5jZXNSZWxlYXNlZCA9IGZhbHNlOwoKICAgIGZ1bmN0aW9uIGFkZFNldHRpbmdzKGFkZHJlc3MgX3NjYWRhQWRkcmVzcywgYWRkcmVzcyBfdG9rZW5BZGRyZXNzLCBhZGRyZXNzIF9tYXJrZXRpbmcgKSBwdWJsaWM7CiAgICBmdW5jdGlvbiBnZXRUb2tlblNDQURBUmVxdWlyZXNIYXJkQ2FwKCkgcHVibGljIHZpZXcgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBtaW50KGFkZHJlc3MgX3RvLCB1aW50MjU2IF9hbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sKTsKICAgIGZ1bmN0aW9uIGZpbmlzaE1pbnRpbmcoKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7CiAgICBmdW5jdGlvbiBtaW50Rm9yTWFya2V0aW5nUG9vbChhZGRyZXNzIF90bywgdWludDI1NiBfYW1vdW50KSBleHRlcm5hbCByZXR1cm5zIChib29sKTsKICAgIGZ1bmN0aW9uIFJlbGVhc2VPd25lcnNMb2NrZWRUb2tlbnMoYWRkcmVzcyBfbXVsdGlTaWdPdXRwdXRBZGRyZXNzKSBwdWJsaWMgcmV0dXJucyAoYm9vbCk7Cgp9CgovKgoKICogc291cmNlICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9ibG9ja2JpdHNpby8KCiAqIEBuYW1lICAgICAgICBCb3VudHkgUHJvZ3JhbSBDb250cmFjdAogKiBAcGFja2FnZSAgICAgQmxvY2tCaXRzSU8KICogQGF1dGhvciAgICAgIE1pY2t5IFNvY2FjaSA8PGEgaHJlZj0iL2Nkbi1jZ2kvbC9lbWFpbC1wcm90ZWN0aW9uIiBjbGFzcz0iX19jZl9lbWFpbF9fIiBkYXRhLWNmZW1haWw9ImQ0YjliZGI3YmZhZDk0YmFiYmEzYjhiZGEyYjFmYWE2YmIiPltlbWFpbCYjMTYwO3Byb3RlY3RlZF08L2E+PgoKICAgIEJvdW50eSBwcm9ncmFtIGNvbnRyYWN0IHRoYXQgaG9sZHMgYW5kIGRpc3RyaWJ1dGVzIHRva2VucyB1cG9uIHN1Y2Nlc3NmdWwgZnVuZGluZy4KKi8KCgoKCgoKCgoKY29udHJhY3QgQm91bnR5TWFuYWdlciBpcyBBcHBsaWNhdGlvbkFzc2V0IHsKCiAgICBBQklGdW5kaW5nIEZ1bmRpbmdFbnRpdHk7CiAgICBBQklUb2tlbiBUb2tlbkVudGl0eTsKCiAgICBmdW5jdGlvbiBydW5CZWZvcmVBcHBseWluZ1NldHRpbmdzKCkKICAgICAgICBpbnRlcm5hbAogICAgICAgIHJlcXVpcmVJbml0aWFsaXNlZAogICAgICAgIHJlcXVpcmVTZXR0aW5nc05vdEFwcGxpZWQKICAgIHsKICAgICAgICBhZGRyZXNzIEZ1bmRpbmdBZGRyZXNzID0gZ2V0QXBwbGljYXRpb25Bc3NldEFkZHJlc3NCeU5hbWUoJ0Z1bmRpbmcnKTsKICAgICAgICBGdW5kaW5nRW50aXR5ID0gQUJJRnVuZGluZyhGdW5kaW5nQWRkcmVzcyk7CgogICAgICAgIGFkZHJlc3MgVG9rZW5NYW5hZ2VyQWRkcmVzcyA9IGdldEFwcGxpY2F0aW9uQXNzZXRBZGRyZXNzQnlOYW1lKCdUb2tlbk1hbmFnZXInKTsKICAgICAgICBBQklUb2tlbk1hbmFnZXIgVG9rZW5NYW5hZ2VyRW50aXR5ID0gQUJJVG9rZW5NYW5hZ2VyKFRva2VuTWFuYWdlckFkZHJlc3MpOwogICAgICAgIFRva2VuRW50aXR5ID0gQUJJVG9rZW4oVG9rZW5NYW5hZ2VyRW50aXR5LlRva2VuRW50aXR5KCkpOwoKICAgICAgICBFdmVudFJ1bkJlZm9yZUFwcGx5aW5nU2V0dGluZ3MoYXNzZXROYW1lKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZW5kQm91bnR5KCBhZGRyZXNzIF9yZWNlaXZlciwgdWludDI1NiBfYW1vdW50ICkKICAgICAgICBwdWJsaWMKICAgICAgICByZXF1aXJlSW5pdGlhbGlzZWQKICAgICAgICByZXF1aXJlU2V0dGluZ3NBcHBsaWVkCiAgICAgICAgb25seURlcGxveWVyCiAgICB7CiAgICAgICAgaWYoIEZ1bmRpbmdFbnRpdHkuQ3VycmVudEVudGl0eVN0YXRlKCkgPT0gRnVuZGluZ0VudGl0eS5nZXRFbnRpdHlTdGF0ZSgiU1VDQ0VTU0ZVTF9GSU5BTCIpICkgewogICAgICAgICAgICBUb2tlbkVudGl0eS50cmFuc2ZlciggX3JlY2VpdmVyLCBfYW1vdW50ICk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV2ZXJ0KCk7CiAgICAgICAgfQogICAgfQp9'.
	

]
