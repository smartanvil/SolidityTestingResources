Class {
	#name : #SRTF0f31A0A83FC0D83177834Bbdce23F9fB2639818,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRTF0f31A0A83FC0D83177834Bbdce23F9fB2639818 >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMDsKCi8qKgogKiAtLS0tLS0tLS0tLS0tLS0tCiAqIEFwcGxpY2F0aW9uLWFnbm9zdGljIHVzZXIgcGVybWlzc2lvbiAob3duZXIsIG1hbmFnZXIpIGNvbnRyYWN0CiAqIC0tLS0tLS0tLS0tLS0tLS0KICovCmNvbnRyYWN0IHdpdGhPd25lcnMgewogIHVpbnQgcHVibGljIG93bmVyc0NvdW50ID0gMDsKICB1aW50IHB1YmxpYyBtYW5hZ2Vyc0NvdW50ID0gMDsKCiAgLyoqCiAgICogT3duZXI6IGZ1bGwgcHJpdmlsZWdlCiAgICogTWFuYWdlcjogbG93ZXIgcHJpdmlsZWdlIChzZXQgc3RhdHVzLCBidXQgbm90IHdpdGhkcmF3KQogICAqLwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIG93bmVyczsKICBtYXBwaW5nIChhZGRyZXNzID0+IGJvb2wpIHB1YmxpYyBtYW5hZ2VyczsKCiAgbW9kaWZpZXIgb25seU93bmVycyB7CiAgICBpZiAob3duZXJzW21zZy5zZW5kZXJdICE9IHRydWUpIHsKICAgICAgdGhyb3c7CiAgICB9CiAgICBfOwogIH0KCiAgbW9kaWZpZXIgb25seU1hbmFnZXJzIHsKICAgIGlmIChvd25lcnNbbXNnLnNlbmRlcl0gIT0gdHJ1ZSAmJiBtYW5hZ2Vyc1ttc2cuc2VuZGVyXSAhPSB0cnVlKSB7CiAgICAgIHRocm93OwogICAgfQogICAgXzsKICB9CgogIGZ1bmN0aW9uIGFkZE93bmVyKGFkZHJlc3MgX2NhbmRpZGF0ZSkgcHVibGljIG9ubHlPd25lcnMgewogICAgaWYgKG93bmVyc1tfY2FuZGlkYXRlXSA9PSB0cnVlKSB7CiAgICAgIHRocm93OyAvLyBhbHJlYWR5IG93bmVyCiAgICB9CgogICAgb3duZXJzW19jYW5kaWRhdGVdID0gdHJ1ZTsKICAgICsrb3duZXJzQ291bnQ7CiAgfQoKICBmdW5jdGlvbiByZW1vdmVPd25lcihhZGRyZXNzIF9jYW5kaWRhdGUpIHB1YmxpYyBvbmx5T3duZXJzIHsKICAgIC8vIFN0b3AgcmVtb3ZpbmcgdGhlIG9ubHkvbGFzdCBvd25lcgogICAgaWYgKG93bmVyc0NvdW50IDw9IDEgfHwgb3duZXJzW19jYW5kaWRhdGVdID09IGZhbHNlKSB7CiAgICAgIHRocm93OwogICAgfQoKICAgIG93bmVyc1tfY2FuZGlkYXRlXSA9IGZhbHNlOwogICAgLS1vd25lcnNDb3VudDsKICB9CgogIGZ1bmN0aW9uIGFkZE1hbmFnZXIoYWRkcmVzcyBfY2FuZGlkYXRlKSBwdWJsaWMgb25seU93bmVycyB7CiAgICBpZiAobWFuYWdlcnNbX2NhbmRpZGF0ZV0gPT0gdHJ1ZSkgewogICAgICB0aHJvdzsgLy8gYWxyZWFkeSBtYW5hZ2VyCiAgICB9CgogICAgbWFuYWdlcnNbX2NhbmRpZGF0ZV0gPSB0cnVlOwogICAgKyttYW5hZ2Vyc0NvdW50OwogIH0KCiAgZnVuY3Rpb24gcmVtb3ZlTWFuYWdlcihhZGRyZXNzIF9jYW5kaWRhdGUpIHB1YmxpYyBvbmx5T3duZXJzIHsKICAgIGlmIChtYW5hZ2Vyc1tfY2FuZGlkYXRlXSA9PSBmYWxzZSkgewogICAgICB0aHJvdzsKICAgIH0KCiAgICBtYW5hZ2Vyc1tfY2FuZGlkYXRlXSA9IGZhbHNlOwogICAgLS1tYW5hZ2Vyc0NvdW50OwogIH0KfQoKCi8qKgogKiAtLS0tLS0tLS0tLS0tLS0tCiAqIEFwcGxpY2F0aW9uLWFnbm9zdGljIHVzZXIgYWNjb3VudCBjb250cmFjdAogKiAtLS0tLS0tLS0tLS0tLS0tCiAqLwpjb250cmFjdCB3aXRoQWNjb3VudHMgaXMgd2l0aE93bmVycyB7CiAgdWludCBkZWZhdWx0VGltZW91dFBlcmlvZCA9IDIgZGF5czsgLy8gaWYgbG9ja2VkIGZ1bmQgaXMgbm90IHNldHRsZWQgd2l0aGluIHRpbWVvdXQgcGVyaW9kLCBhY2NvdW50IGhvbGRlcnMgY2FuIHJlZnVuZCB0aGVtc2VsdmVzCgogIHN0cnVjdCBBY2NvdW50VHggewogICAgdWludCB0aW1lQ3JlYXRlZDsKICAgIGFkZHJlc3MgdXNlcjsKICAgIHVpbnQgYW1vdW50SGVsZDsKICAgIHVpbnQgYW1vdW50U3BlbnQ7CiAgICB1aW50OCBzdGF0ZTsgLy8gMTogb24taG9sZC9sb2NrZWQ7IDI6IHByb2Nlc3NlZCBhbmQgcmVmdW5kZWQ7CiAgfQoKICB1aW50IHB1YmxpYyB0eENvdW50ID0gMDsKICBtYXBwaW5nICh1aW50ID0+IEFjY291bnRUeCkgcHVibGljIGFjY291bnRUeHM7CiAgLy9tYXBwaW5nIChhZGRyZXNzID0+IHVpbnQpIHB1YmxpYyB1c2VyVHhzOwoKICAvKioKICAgKiBIYW5kbGluZyB1c2VyIGFjY291bnQgZnVuZHMKICAgKi8KICB1aW50IHB1YmxpYyBhdmFpbGFibGVCYWxhbmNlID0gMDsKICB1aW50IHB1YmxpYyBvbmhvbGRCYWxhbmNlID0gMDsKICB1aW50IHB1YmxpYyBzcGVudEJhbGFuY2UgPSAwOyAvLyB0b3RhbCB3aXRoZHJhd2FsIGJhbGFuY2UgYnkgb3duZXIgKHNlcnZpY2UgcHJvdmlkZXIpCgogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgcHVibGljIGF2YWlsYWJsZUJhbGFuY2VzOwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCkgcHVibGljIG9uaG9sZEJhbGFuY2VzOwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gYm9vbCkgcHVibGljIGRvTm90QXV0b1JlZnVuZDsKCiAgbW9kaWZpZXIgaGFuZGxlRGVwb3NpdCB7CiAgICBkZXBvc2l0KG1zZy5zZW5kZXIsIG1zZy52YWx1ZSk7CiAgICBfOwogIH0KCi8qKgogKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAqIFBVQkxJQyBGVU5DVElPTlMKICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogKi8KCiAgLyoqCiAgICogRGVwb3NpdCBpbnRvIG90aGVyJ3MgYWNjb3VudAogICAqIFVzZWZ1bCBmb3Igc2VydmljZXMgdGhhdCB5b3Ugd2lzaCB0byBub3QgaG9sZCBmdW5kcyBhbmQgbm90IGhhdmluZyB0byBrZWVwIHJlZnVuZGluZyBhZnRlciBldmVyeSB0eCBhbmQgd2FzdGluZyBnYXMKICAgKi8KICBmdW5jdGlvbiBkZXBvc2l0Rm9yKGFkZHJlc3MgX2FkZHJlc3MpIHB1YmxpYyBwYXlhYmxlIHsKICAgIGRlcG9zaXQoX2FkZHJlc3MsIG1zZy52YWx1ZSk7CiAgfQoKICAvKioKICAgKiBBY2NvdW50IG93bmVyIHdpdGhkcmF3IGZ1bmRzCiAgICogbGVhdmUgYmxhbmsgYXQgX2Ftb3VudCB0byBjb2xsZWN0IGFsbCBmdW5kcyBvbiB1c2VyJ3MgYWNjb3VudAogICAqLwogIGZ1bmN0aW9uIHdpdGhkcmF3KHVpbnQgX2Ftb3VudCkgcHVibGljIHsKICAgIGlmIChfYW1vdW50ID09IDApIHsKICAgICAgX2Ftb3VudCA9IGF2YWlsYWJsZUJhbGFuY2VzW21zZy5zZW5kZXJdOwogICAgfQogICAgaWYgKF9hbW91bnQgPiBhdmFpbGFibGVCYWxhbmNlc1ttc2cuc2VuZGVyXSkgewogICAgICB0aHJvdzsKICAgIH0KCiAgICBpbmNyVXNlckF2YWlsQmFsKG1zZy5zZW5kZXIsIF9hbW91bnQsIGZhbHNlKTsKICAgIGlmICghbXNnLnNlbmRlci5jYWxsLnZhbHVlKF9hbW91bnQpKCkpIHsKICAgICAgdGhyb3c7CiAgICB9CiAgfQoKICAvKioKICAgKiBDaGVja3MgaWYgYW4gQWNjb3VudFR4IGlzIHRpbWVkIG91dAogICAqIGNhbiBiZSBjYWxsZWQgYnkgYW55b25lLCBub3Qgb25seSBhY2NvdW50IG93bmVyIG9yIHByb3ZpZGVyCiAgICogSWYgYW4gQWNjb3VudFR4IGlzIGFscmVhZHkgdGltZWQgb3V0LCByZXR1cm4gYmFsYW5jZSB0byB0aGUgdXNlcidzIGF2YWlsYWJsZSBiYWxhbmNlLgogICAqLwogIGZ1bmN0aW9uIGNoZWNrVGltZW91dCh1aW50IF9pZCkgcHVibGljIHsKICAgIGlmICgKICAgICAgYWNjb3VudFR4c1tfaWRdLnN0YXRlICE9IDEgfHwKICAgICAgKG5vdyAtIGFjY291bnRUeHNbX2lkXS50aW1lQ3JlYXRlZCkgPCBkZWZhdWx0VGltZW91dFBlcmlvZAogICAgKSB7CiAgICAgIHRocm93OwogICAgfQoKICAgIHNldHRsZShfaWQsIDApOyAvLyBubyBtb25leSBpcyBzcGVudCwgc2V0dGxlIHRoZSB0eAoKICAgIC8vIFNwZWNpZmljYWxseSBmb3IgTm90aWZpY2F0aW9uIGNvbnRyYWN0CiAgICAvLyB1cGRhdGVTdGF0ZShfaWQsIDYwLCAwKTsKICB9CgogIC8qKgogICAqIFNldHMgZG9Ob3RBdXRvUmVmdW5kVG8gb2YgY2FsbGVyJ3MgYWNjb3VudCB0bzoKICAgKiB0cnVlOiBzdG9wcyBhdXRvIHJlZnVuZCBhZnRlciBldmVyeSBzaW5nbGUgdHJhbnNhY3Rpb24KICAgKiBmYWxzZTogcHJvY2VlZHMgd2l0aCBhdXRvIHJlZnVuZCBhZnRlciBldmVyeSBzaW5nbGUgdHJhbnNhY3Rpb24KICAgKgogICAqIE1hbnVhbGx5IHVzZSB3aXRoZHJhdygpIHRvIHdpdGhkcmF3IGF2YWlsYWJsZSBmdW5kcwogICAqLwogIGZ1bmN0aW9uIHNldERvTm90QXV0b1JlZnVuZFRvKGJvb2wgX29wdGlvbikgcHVibGljIHsKICAgIGRvTm90QXV0b1JlZnVuZFttc2cuc2VuZGVyXSA9IF9vcHRpb247CiAgfQoKICAvKioKICAgKiBVcGRhdGUgZGVmYXVsdFRpbWVvdXRQZXJpb2QKICAgKi8KICBmdW5jdGlvbiB1cGRhdGVEZWZhdWx0VGltZW91dFBlcmlvZCh1aW50IF9kZWZhdWx0VGltZW91dFBlcmlvZCkgcHVibGljIG9ubHlPd25lcnMgewogICAgaWYgKF9kZWZhdWx0VGltZW91dFBlcmlvZCA8IDEgaG91cnMpIHsKICAgICAgdGhyb3c7CiAgICB9CgogICAgZGVmYXVsdFRpbWVvdXRQZXJpb2QgPSBfZGVmYXVsdFRpbWVvdXRQZXJpb2Q7CiAgfQoKICAvKioKICAgKiBPd25lciAtIGNvbGxlY3Qgc3BlbnRCYWxhbmNlCiAgICovCiAgZnVuY3Rpb24gY29sbGVjdFJldigpIHB1YmxpYyBvbmx5T3duZXJzIHsKICAgIHVpbnQgYW1vdW50ID0gc3BlbnRCYWxhbmNlOwogICAgc3BlbnRCYWxhbmNlID0gMDsKCiAgICBpZiAoIW1zZy5zZW5kZXIuY2FsbC52YWx1ZShhbW91bnQpKCkpIHsKICAgICAgdGhyb3c7CiAgICB9CiAgfQoKICAvKioKICAgKiBPd25lcjogcmVsZWFzZSBhdmFpbGFibGVCYWxhbmNlIHRvIGFjY291bnQgaG9sZGVyCiAgICogbGVhdmUgYmxhbmsgYXQgX2Ftb3VudCB0byByZWxlYXNlIGFsbAogICAqIHNldCBkb05vdEF1dG9SZWZ1bmQgdG8gdHJ1ZSB0byBzdG9wIGF1dG8gZnVuZHMgcmV0dXJuaW5nIChrZWVwIGZ1bmRzIG9uIHVzZXIncyBhdmFpbGFibGUgYmFsYW5jZSBhY2NvdW50KQogICAqLwogIGZ1bmN0aW9uIHJldHVybkZ1bmQoYWRkcmVzcyBfdXNlciwgdWludCBfYW1vdW50KSBwdWJsaWMgb25seU1hbmFnZXJzIHsKICAgIGlmIChkb05vdEF1dG9SZWZ1bmRbX3VzZXJdIHx8IF9hbW91bnQgPiBhdmFpbGFibGVCYWxhbmNlc1tfdXNlcl0pIHsKICAgICAgdGhyb3c7CiAgICB9CiAgICBpZiAoX2Ftb3VudCA9PSAwKSB7CiAgICAgIF9hbW91bnQgPSBhdmFpbGFibGVCYWxhbmNlc1tfdXNlcl07CiAgICB9CgogICAgaW5jclVzZXJBdmFpbEJhbChfdXNlciwgX2Ftb3VudCwgZmFsc2UpOwogICAgaWYgKCFfdXNlci5jYWxsLnZhbHVlKF9hbW91bnQpKCkpIHsKICAgICAgdGhyb3c7CiAgICB9CiAgfQoKLyoqCiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICogSU5URVJOQUwgRlVOQ1RJT05TCiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICovCgogIC8qKgogICAqIERlcG9zaXQgZnVuZHMgaW50byBhY2NvdW50CiAgICovCiAgZnVuY3Rpb24gZGVwb3NpdChhZGRyZXNzIF91c2VyLCB1aW50IF9hbW91bnQpIGludGVybmFsIHsKICAgIGlmIChfYW1vdW50ID4gMCkgewogICAgICBpbmNyVXNlckF2YWlsQmFsKF91c2VyLCBfYW1vdW50LCB0cnVlKTsKICAgIH0KICB9CgogIC8qKgogICAqIENyZWF0ZXMgYSB0cmFuc2FjdGlvbgogICAqLwogIGZ1bmN0aW9uIGNyZWF0ZVR4KHVpbnQgX2lkLCBhZGRyZXNzIF91c2VyLCB1aW50IF9hbW91bnQpIGludGVybmFsIHsKICAgIGlmIChfYW1vdW50ID4gYXZhaWxhYmxlQmFsYW5jZXNbX3VzZXJdKSB7CiAgICAgIHRocm93OwogICAgfQoKICAgIGFjY291bnRUeHNbX2lkXSA9IEFjY291bnRUeCh7CiAgICAgIHRpbWVDcmVhdGVkOiBub3csCiAgICAgIHVzZXI6IF91c2VyLAogICAgICBhbW91bnRIZWxkOiBfYW1vdW50LAogICAgICBhbW91bnRTcGVudDogMCwKICAgICAgc3RhdGU6IDEgLy8gb24gaG9sZAogICAgfSk7CgogICAgaW5jclVzZXJBdmFpbEJhbChfdXNlciwgX2Ftb3VudCwgZmFsc2UpOwogICAgaW5jclVzZXJPbmhvbGRCYWwoX3VzZXIsIF9hbW91bnQsIHRydWUpOwogIH0KCiAgZnVuY3Rpb24gc2V0dGxlKHVpbnQgX2lkLCB1aW50IF9hbW91bnRTcGVudCkgaW50ZXJuYWwgewogICAgaWYgKGFjY291bnRUeHNbX2lkXS5zdGF0ZSAhPSAxIHx8IF9hbW91bnRTcGVudCA+IGFjY291bnRUeHNbX2lkXS5hbW91bnRIZWxkKSB7CiAgICAgIHRocm93OwogICAgfQoKICAgIC8vIERlbGliZXJhdGVseSBub3QgY2hlY2tpbmcgZm9yIHRpbWVvdXQgcGVyaW9kCiAgICAvLyBiZWNhdXNlIGlmIHByb3ZpZGVyIGhhcyBhY3R1YWwgdXBkYXRlLCBpdCBzaG91bGQgc3RhbmQKCiAgICBhY2NvdW50VHhzW19pZF0uYW1vdW50U3BlbnQgPSBfYW1vdW50U3BlbnQ7CiAgICBhY2NvdW50VHhzW19pZF0uc3RhdGUgPSAyOyAvLyBwcm9jZXNzZWQgYW5kIHJlZnVuZGVkOwoKICAgIHNwZW50QmFsYW5jZSArPSBfYW1vdW50U3BlbnQ7CiAgICB1aW50IGNoYW5nZUFtb3VudCA9IGFjY291bnRUeHNbX2lkXS5hbW91bnRIZWxkIC0gX2Ftb3VudFNwZW50OwoKICAgIGluY3JVc2VyT25ob2xkQmFsKGFjY291bnRUeHNbX2lkXS51c2VyLCBhY2NvdW50VHhzW19pZF0uYW1vdW50SGVsZCwgZmFsc2UpOwogICAgaW5jclVzZXJBdmFpbEJhbChhY2NvdW50VHhzW19pZF0udXNlciwgY2hhbmdlQW1vdW50LCB0cnVlKTsKICB9CgogIGZ1bmN0aW9uIGluY3JVc2VyQXZhaWxCYWwoYWRkcmVzcyBfdXNlciwgdWludCBfYnksIGJvb2wgX2luY3JlYXNlKSBpbnRlcm5hbCB7CiAgICBpZiAoX2luY3JlYXNlKSB7CiAgICAgIGF2YWlsYWJsZUJhbGFuY2VzW191c2VyXSArPSBfYnk7CiAgICAgIGF2YWlsYWJsZUJhbGFuY2UgKz0gX2J5OwogICAgfSBlbHNlIHsKICAgICAgYXZhaWxhYmxlQmFsYW5jZXNbX3VzZXJdIC09IF9ieTsKICAgICAgYXZhaWxhYmxlQmFsYW5jZSAtPSBfYnk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBpbmNyVXNlck9uaG9sZEJhbChhZGRyZXNzIF91c2VyLCB1aW50IF9ieSwgYm9vbCBfaW5jcmVhc2UpIGludGVybmFsIHsKICAgIGlmIChfaW5jcmVhc2UpIHsKICAgICAgb25ob2xkQmFsYW5jZXNbX3VzZXJdICs9IF9ieTsKICAgICAgb25ob2xkQmFsYW5jZSArPSBfYnk7CiAgICB9IGVsc2UgewogICAgICBvbmhvbGRCYWxhbmNlc1tfdXNlcl0gLT0gX2J5OwogICAgICBvbmhvbGRCYWxhbmNlIC09IF9ieTsKICAgIH0KICB9Cn0KCgoKY29udHJhY3QgTm90aWZpZXIgaXMgd2l0aE93bmVycywgd2l0aEFjY291bnRzIHsKICBzdHJpbmcgcHVibGljIHhJUEZTUHVibGljS2V5OwogIHVpbnQgcHVibGljIG1pbkV0aFBlck5vdGlmaWNhdGlvbiA9IDAuMDIgZXRoZXI7CgogIHN0cnVjdCBUYXNrIHsKICAgIGFkZHJlc3Mgc2VuZGVyOwogICAgdWludDggc3RhdGU7IC8vIDEwOiBwZW5kaW5nCiAgICAgICAgICAgICAgICAgLy8gMjA6IHByb2Nlc3NlZCwgYnV0IHR4IHN0aWxsIG9wZW4KICAgICAgICAgICAgICAgICAvLyBbIEZJTkFMIFNUQVRFUyA+PSA1MCBdCiAgICAgICAgICAgICAgICAgLy8gNTA6IHByb2Nlc3NlZCwgY29zdGluZyBkb25lLCB0eCBzZXR0bGVkCiAgICAgICAgICAgICAgICAgLy8gNjA6IHJlamVjdGVkIG9yIGVycm9yLWVkLCBjb3N0aW5nIGRvbmUsIHR4IHNldHRsZWQKCiAgICBib29sIGlzeElQRlM7ICAvLyB0cnVlOiBJUEZTLWF1Z21lbnRlZCBjYWxsICh4SVBGUyk7IGZhbHNlOiBvbi1jaGFpbiBjYWxsCiAgfQoKICBzdHJ1Y3QgTm90aWZpY2F0aW9uIHsKICAgIHVpbnQ4IHRyYW5zcG9ydDsgLy8gMTogc21zLCAyOiBlbWFpbAogICAgc3RyaW5nIGRlc3RpbmF0aW9uOwogICAgc3RyaW5nIG1lc3NhZ2U7CiAgfQoKICBtYXBwaW5nKHVpbnQgPT4gVGFzaykgcHVibGljIHRhc2tzOwogIG1hcHBpbmcodWludCA9PiBOb3RpZmljYXRpb24pIHB1YmxpYyBub3RpZmljYXRpb25zOwogIG1hcHBpbmcodWludCA9PiBzdHJpbmcpIHB1YmxpYyB4bm90aWZpY2F0aW9uczsgLy8gSVBGUy1hdWdtZW50ZWQgTm90aWZpY2F0aW9uIChoYXNoKQogIHVpbnQgcHVibGljIHRhc2tzQ291bnQgPSAwOwoKICAvKioKICAgKiBFdmVudHMgdG8gYmUgcGlja2VkIHVwIGJ5IEFQSQogICAqLwogIGV2ZW50IFRhc2tVcGRhdGVkKHVpbnQgaWQsIHVpbnQ4IHN0YXRlKTsKCiAgZnVuY3Rpb24gTm90aWZpZXIoc3RyaW5nIF94SVBGU1B1YmxpY0tleSkgcHVibGljIHsKICAgIHhJUEZTUHVibGljS2V5ID0gX3hJUEZTUHVibGljS2V5OwogICAgb3duZXJzQ291bnQrKzsKICAgIG93bmVyc1ttc2cuc2VuZGVyXSA9IHRydWU7CiAgfQoKLyoqCiAqIC0tLS0tLS0tLS0tLS0tCiAqIE1haW4gZnVuY3Rpb25zCiAqIC0tLS0tLS0tLS0tLS0tCiAqLwoKICAvKioKICAgKiBTZW5kcyBub3RpZmljYXRpb24KICAgKi8KICBmdW5jdGlvbiBub3RpZnkodWludDggX3RyYW5zcG9ydCwgc3RyaW5nIF9kZXN0aW5hdGlvbiwgc3RyaW5nIF9tZXNzYWdlKSBwdWJsaWMgcGF5YWJsZSBoYW5kbGVEZXBvc2l0IHsKICAgIGlmIChfdHJhbnNwb3J0ICE9IDEgJiYgX3RyYW5zcG9ydCAhPSAyKSB7CiAgICAgIHRocm93OwogICAgfQoKICAgIHVpbnQgaWQgPSB0YXNrc0NvdW50OwogICAgdWludDggc3RhdGUgPSAxMDsgLy8gcGVuZGluZwoKICAgIGNyZWF0ZVR4KGlkLCBtc2cuc2VuZGVyLCBtaW5FdGhQZXJOb3RpZmljYXRpb24pOwogICAgbm90aWZpY2F0aW9uc1tpZF0gPSBOb3RpZmljYXRpb24oewogICAgICB0cmFuc3BvcnQ6IF90cmFuc3BvcnQsCiAgICAgIGRlc3RpbmF0aW9uOiBfZGVzdGluYXRpb24sCiAgICAgIG1lc3NhZ2U6IF9tZXNzYWdlCiAgICB9KTsKICAgIHRhc2tzW2lkXSA9IFRhc2soewogICAgICBzZW5kZXI6IG1zZy5zZW5kZXIsCiAgICAgIHN0YXRlOiBzdGF0ZSwKICAgICAgaXN4SVBGUzogZmFsc2UgLy8gb24tY2hhaW4KICAgIH0pOwoKICAgIFRhc2tVcGRhdGVkKGlkLCBzdGF0ZSk7CiAgICArK3Rhc2tzQ291bnQ7CiAgfQoKLyoqCiAqIC0tLS0tLS0tLS0tLS0tCiAqIEV4dGVuZGVkIGZ1bmN0aW9ucywgZm9yCiAqIC0gSVBGUy1hdWdtZW50ZWQgY2FsbHMKICogLSBFbmNyeXB0ZWQgY2FsbHMKICogLS0tLS0tLS0tLS0tLS0KICovCgogIGZ1bmN0aW9uIHhub3RpZnkoc3RyaW5nIF9oYXNoKSBwdWJsaWMgcGF5YWJsZSBoYW5kbGVEZXBvc2l0IHsKICAgIHVpbnQgaWQgPSB0YXNrc0NvdW50OwogICAgdWludDggc3RhdGUgPSAxMDsgLy8gcGVuZGluZwoKICAgIGNyZWF0ZVR4KGlkLCBtc2cuc2VuZGVyLCBtaW5FdGhQZXJOb3RpZmljYXRpb24pOwogICAgeG5vdGlmaWNhdGlvbnNbaWRdID0gX2hhc2g7CiAgICB0YXNrc1tpZF0gPSBUYXNrKHsKICAgICAgc2VuZGVyOiBtc2cuc2VuZGVyLAogICAgICBzdGF0ZTogc3RhdGUsCiAgICAgIGlzeElQRlM6IHRydWUKICAgIH0pOwoKICAgIFRhc2tVcGRhdGVkKGlkLCBzdGF0ZSk7CiAgICArK3Rhc2tzQ291bnQ7CiAgfQoKLyoqCiAqIC0tLS0tLS0tLS0tLS0tCiAqIE93bmVyLW9ubHkgZnVuY3Rpb25zCiAqIC0tLS0tLS0tLS0tLS0tLQogKi8KCiAgZnVuY3Rpb24gdXBkYXRlTWluRXRoUGVyTm90aWZpY2F0aW9uKHVpbnQgX25ld01pbikgcHVibGljIG9ubHlNYW5hZ2VycyB7CiAgICBtaW5FdGhQZXJOb3RpZmljYXRpb24gPSBfbmV3TWluOwogIH0KCiAgLyoqCiAgICogTWFyayB0YXNrIGFzIHByb2Nlc3NlZCwgYnV0IG5vIGNvc3RpbmcgeWV0CiAgICogVGhpcyBpcyBhbiBvcHRpb25hbCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHRhc2tQcm9jZXNzZWROb0Nvc3RpbmcodWludCBfaWQpIHB1YmxpYyBvbmx5TWFuYWdlcnMgewogICAgdXBkYXRlU3RhdGUoX2lkLCAyMCwgMCk7CiAgfQoKICAvKioKICAgKiBNYXJrIHRhc2sgYXMgcHJvY2Vzc2VkLCBhbmQgcHJvY2VzcyBmdW5kcyArIGNvc3RpbmdzCiAgICogVGhpcyBpcyBhIEZJTkFMIHN0YXRlCiAgICovCiAgZnVuY3Rpb24gdGFza1Byb2Nlc3NlZFdpdGhDb3N0aW5nKHVpbnQgX2lkLCB1aW50IF9jb3N0KSBwdWJsaWMgb25seU1hbmFnZXJzIHsKICAgIHVwZGF0ZVN0YXRlKF9pZCwgNTAsIF9jb3N0KTsKICB9CgogIC8qKgogICAqIE1hcmsgdGFzayBhcyByZWplY3RlZCBvciBlcnJvci1lZCwgIGFuZCBwcm9jZXNzZWQgZnVuZHMgKyBjb3N0aW5ncwogICAqIFRoaXMgaXMgYSBGSU5BTCBzdGF0ZQogICAqLwogIGZ1bmN0aW9uIHRhc2tSZWplY3RlZCh1aW50IF9pZCwgdWludCBfY29zdCkgcHVibGljIG9ubHlNYW5hZ2VycyB7CiAgICB1cGRhdGVTdGF0ZShfaWQsIDYwLCBfY29zdCk7CiAgfQoKICAvKioKICAgKiBVcGRhdGUgcHVibGljIGtleSBmb3IgeElQRlMKICAgKi8KICBmdW5jdGlvbiB1cGRhdGVYSVBGU1B1YmxpY0tleShzdHJpbmcgX3B1YmxpY0tleSkgcHVibGljIG9ubHlPd25lcnMgewogICAgeElQRlNQdWJsaWNLZXkgPSBfcHVibGljS2V5OwogIH0KCiAgZnVuY3Rpb24gdXBkYXRlU3RhdGUodWludCBfaWQsIHVpbnQ4IF9zdGF0ZSwgdWludCBfY29zdCkgaW50ZXJuYWwgewogICAgaWYgKHRhc2tzW19pZF0uc3RhdGUgPT0gMCB8fCB0YXNrc1tfaWRdLnN0YXRlID49IDUwKSB7CiAgICAgIHRocm93OwogICAgfQoKICAgIHRhc2tzW19pZF0uc3RhdGUgPSBfc3RhdGU7CgogICAgLy8gQ29zdCBzZXR0bGVtZW50IGlzIGRvbmUgb25seSBmb3IgZmluYWwgc3RhdGVzICg+PSA1MCkKICAgIGlmIChfc3RhdGUgPj0gNTApIHsKICAgICAgc2V0dGxlKF9pZCwgX2Nvc3QpOwogICAgfQogICAgVGFza1VwZGF0ZWQoX2lkLCBfc3RhdGUpOwogIH0KCiAgLyoqCiAgICogSGFuZGxlIGRlcG9zaXRzCiAgICovCiAgZnVuY3Rpb24gKCkgcGF5YWJsZSBoYW5kbGVEZXBvc2l0IHsKICB9Cn0='.
	

]
