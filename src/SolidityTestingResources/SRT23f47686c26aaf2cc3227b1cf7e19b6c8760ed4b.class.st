Class {
	#name : #SRT23f47686c26aaf2cc3227b1cf7e19b6c8760ed4b,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT23f47686c26aaf2cc3227b1cf7e19b6c8760ed4b >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKioKICogQHRpdGxlIEVUSENPTiBFYXJseSBCaXJkIERvbmF0aW9uIENvbnRyYWN0CiAqIEBhdXRob3IgbWFqb29sci5pbwogKgogKiBBY2NlcHRzIGRvbmF0aW9ucyBhbmQgaXNzdWVzIEVUSENPTiB0b2tlbiBpZiBhdCBvciBhYm92ZSAzLjk2MDQgRVRILgogKiBTZWUgRVRIQ09OLm9yZyBmb3IgZnVydGhlciBpbmZvcm1hdGlvbi4KICogRVRIQ09ORWFybHlCaXJkVG9rZW4gY29udHJhY3QgYXQgMHgyZDk0OThkMGZkNmY0MDc2MGQ1M2E4NDdlYjY0ZWFmNTFjOWI4ZTc0CiAqLwoKY29udHJhY3QgRVRIQ09ORWFybHlCaXJkRG9uYXRpb24gewogIGFkZHJlc3MgbWFqb29scjsKICBFVEhDT05FYXJseUJpcmRUb2tlbiB0b2tlbjsKCiAgdWludDI1NiBwdWJsaWMgZG9uYXRpb25zOwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGRvbmF0aW9uTWFwOwogIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGZhaWxlZERvbmF0aW9uczsKICB1aW50MjU2IHB1YmxpYyBtaW5pbXVtID0gMzk2MDQwMDAwMDAwMDAwMDAwMDsKCiAgZXZlbnQgRXJyTXNnKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgc3RyaW5nIF9tc2cpOwogIGV2ZW50IFRoeE1zZyhhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIHN0cmluZyBfbXNnKTsKCiAgbW9kaWZpZXIgYW5kSXNNYWpvb2xyIHsKICAgIHJlcXVpcmUobXNnLnNlbmRlciA9PSBtYWpvb2xyKTsKICAgIF87CiAgfQoKICBmdW5jdGlvbigpeyBFcnJNc2cobXNnLnNlbmRlciwgJ05vIGZ1bmN0aW9uIGNhbGxlZCcpOyB9CgogIGZ1bmN0aW9uIEVUSENPTkVhcmx5QmlyZERvbmF0aW9uKGFkZHJlc3MgX3Rva2VuKXsKICAgIHRva2VuID0gRVRIQ09ORWFybHlCaXJkVG9rZW4oX3Rva2VuKTsKICAgIG1ham9vbHIgPSBtc2cuc2VuZGVyOwogIH0KCiAgZnVuY3Rpb24gZG9uYXRlKCkgcGF5YWJsZSByZXR1cm5zIChib29sKXsKICAgIHVpbnQyNTYgdG90YWxEb25hdGlvbiA9IGRvbmF0aW9uTWFwW21zZy5zZW5kZXJdICsgbXNnLnZhbHVlOwogICAgaWYodG90YWxEb25hdGlvbiA8IG1pbmltdW0pewogICAgICBmYWlsZWREb25hdGlvbnNbbXNnLnNlbmRlcl0gKz0gbXNnLnZhbHVlOwogICAgICBFcnJNc2cobXNnLnNlbmRlciwgIkRvbmF0aW9uIHRvbyBsb3csIGNhbGwgd2l0aGRyYXdEb25hdGlvbigpIik7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBib29sIHN1Y2Nlc3MgPSB0b2tlbi50cmFuc2ZlckZyb20obWFqb29scixtc2cuc2VuZGVyLDEpOwogICAgaWYoIXN1Y2Nlc3MpewogICAgICBmYWlsZWREb25hdGlvbnNbbXNnLnNlbmRlcl0gKz0gbXNnLnZhbHVlOwogICAgICBFcnJNc2cobXNnLnNlbmRlciwgIlRyYW5zZXIgZmFpbGVkLCBjYWxsIHdpdGhkcmF3RG9uYXRpb24oKSIpOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgZG9uYXRpb25NYXBbbXNnLnNlbmRlcl0gKz0gbXNnLnZhbHVlOwogICAgZG9uYXRpb25zICs9IG1zZy52YWx1ZTsKICAgIFRoeE1zZyhtc2cuc2VuZGVyLCAiVGhhbmsgeW91IGZvciB5b3VyIGRvbmF0aW9uISIpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiBnZW5lcm91c0RvbmF0aW9uKCkgcGF5YWJsZSByZXR1cm5zIChib29sKXsKICAgIHVpbnQyNTYgdG9rZW5zTGVmdCA9IHRva2VuLmFsbG93YW5jZShtYWpvb2xyLCB0aGlzKTsKICAgIGlmKHRva2Vuc0xlZnQgPT0gMCl7CiAgICAgIGZhaWxlZERvbmF0aW9uc1ttc2cuc2VuZGVyXSArPSBtc2cudmFsdWU7CiAgICAgIEVyck1zZyhtc2cuc2VuZGVyLCAiTm8gbW9yZSBkb25hdGlvbnMgaGVyZSBjaGVjayBNYWpvb2xyLmlvLCBjYWxsIHdpdGhkcmF3RG9uYXRpb24oKSIpOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgZG9uYXRpb25NYXBbbXNnLnNlbmRlcl0gKz0gbXNnLnZhbHVlOwogICAgZG9uYXRpb25zICs9IG1zZy52YWx1ZTsKICAgIFRoeE1zZyhtc2cuc2VuZGVyLCAiVGhhbmsgeW91IGZvciB5b3VyIGRvbmF0aW9uISIpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiB3aXRoZHJhdygpIGFuZElzTWFqb29sciB7CiAgICB1aW50MjU2IGFtb3VudCA9IGRvbmF0aW9uczsKICAgIGRvbmF0aW9ucyA9IDA7CiAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGFtb3VudCk7CiAgfQoKICBmdW5jdGlvbiB3aXRoZHJhd0RvbmF0aW9uKCl7CiAgICB1aW50MjU2IGFtb3VudCA9IGZhaWxlZERvbmF0aW9uc1ttc2cuc2VuZGVyXTsKICAgIGZhaWxlZERvbmF0aW9uc1ttc2cuc2VuZGVyXSA9IDA7CiAgICBtc2cuc2VuZGVyLnRyYW5zZmVyKGFtb3VudCk7CiAgfQp9Cgpjb250cmFjdCBFVEhDT05FYXJseUJpcmRUb2tlbiB7CiAgIHVzaW5nIEVSQzIwTGliIGZvciBFUkMyMExpYi5Ub2tlblN0b3JhZ2U7CgogICBFUkMyMExpYi5Ub2tlblN0b3JhZ2UgdG9rZW47CgogICBzdHJpbmcgcHVibGljIG5hbWUgPSAiRVRIQ09OLUVhcmx5LUJpcmQiOwogICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJUSFgiOwogICB1aW50IHB1YmxpYyBkZWNpbWFscyA9IDA7CiAgIHVpbnQgcHVibGljIElOSVRJQUxfU1VQUExZID0gNjAwOwoKICAgZXZlbnQgRXJyb3JNc2coc3RyaW5nIG1zZyk7CgogICBmdW5jdGlvbiBFVEhDT05FYXJseUJpcmRUb2tlbigpIHsKICAgICB0b2tlbi5pbml0KElOSVRJQUxfU1VQUExZKTsKICAgfQoKICAgZnVuY3Rpb24gdG90YWxTdXBwbHkoKSBjb25zdGFudCByZXR1cm5zICh1aW50KSB7CiAgICAgcmV0dXJuIHRva2VuLnRvdGFsU3VwcGx5OwogICB9CgogICBmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyB3aG8pIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICByZXR1cm4gdG9rZW4uYmFsYW5jZU9mKHdobyk7CiAgIH0KCiAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIG93bmVyLCBhZGRyZXNzIHNwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQpIHsKICAgICByZXR1cm4gdG9rZW4uYWxsb3dhbmNlKG93bmVyLCBzcGVuZGVyKTsKICAgfQoKICAgZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvaykgewogICAgIGlmKHRva2VuLmJhbGFuY2VPZih0bykgPT0gMCl7CiAgICAgICByZXR1cm4gdG9rZW4udHJhbnNmZXIodG8sIHZhbHVlKTsKICAgICB9IGVsc2UgewogICAgICAgRXJyb3JNc2coIlJlY2lwaWVudCBhbHJlYWR5IGhhcyB0b2tlbiIpOwogICAgICAgcmV0dXJuIGZhbHNlOwogICAgIH0KCiAgIH0KCiAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQgdmFsdWUpIHJldHVybnMgKGJvb2wgb2spIHsKICAgICBpZih0b2tlbi5iYWxhbmNlT2YodG8pID09IDApewogICAgICAgcmV0dXJuIHRva2VuLnRyYW5zZmVyRnJvbShmcm9tLCB0bywgdmFsdWUpOwogICAgIH0gZWxzZSB7CiAgICAgICBFcnJvck1zZygiUmVjaXBpZW50IGFscmVhZHkgaGFzIHRva2VuIik7CiAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgfQogICB9CgogICBmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludCB2YWx1ZSkgcmV0dXJucyAoYm9vbCBvaykgewogICAgIHJldHVybiB0b2tlbi5hcHByb3ZlKHNwZW5kZXIsIHZhbHVlKTsKICAgfQoKICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludCB2YWx1ZSk7CiAgIGV2ZW50IEFwcHJvdmFsKGFkZHJlc3MgaW5kZXhlZCBvd25lciwgYWRkcmVzcyBpbmRleGVkIHNwZW5kZXIsIHVpbnQgdmFsdWUpOwp9CgpsaWJyYXJ5IEVSQzIwTGliIHsKICB1c2luZyBCYXNpY01hdGhMaWIgZm9yIHVpbnQyNTY7CgogIHN0cnVjdCBUb2tlblN0b3JhZ2UgewogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBiYWxhbmNlczsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSkgYWxsb3dlZDsKICAgIHVpbnQgdG90YWxTdXBwbHk7CiAgfQoKICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgZnJvbSwgYWRkcmVzcyBpbmRleGVkIHRvLCB1aW50MjU2IHZhbHVlKTsKICBldmVudCBBcHByb3ZhbChhZGRyZXNzIGluZGV4ZWQgb3duZXIsIGFkZHJlc3MgaW5kZXhlZCBzcGVuZGVyLCB1aW50MjU2IHZhbHVlKTsKICBldmVudCBFcnJvck1zZyhzdHJpbmcgbXNnKTsKCiAgLy8vIEBkZXYgQ2FsbGVkIGJ5IHRoZSBTdGFuZGFyZCBUb2tlbiB1cG9uIGNyZWF0aW9uLgogIC8vLyBAcGFyYW0gc2VsZiBTdG9yZWQgdG9rZW4gZnJvbSB0b2tlbiBjb250cmFjdAogIC8vLyBAcGFyYW0gX2luaXRpYWxfc3VwcGx5IFRoZSBpbml0aWFsIHRva2VuIHN1cHBseQogIGZ1bmN0aW9uIGluaXQoVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwgdWludDI1NiBfaW5pdGlhbF9zdXBwbHkpIHsKICAgIHNlbGYudG90YWxTdXBwbHkgPSBfaW5pdGlhbF9zdXBwbHk7CiAgICBzZWxmLmJhbGFuY2VzW21zZy5zZW5kZXJdID0gX2luaXRpYWxfc3VwcGx5OwogIH0KCiAgLy8vIEBkZXYgVHJhbnNmZXIgdG9rZW5zIGZyb20gY2FsbGVyJ3MgYWNjb3VudCB0byBhbm90aGVyIGFjY291bnQuCiAgLy8vIEBwYXJhbSBzZWxmIFN0b3JlZCB0b2tlbiBmcm9tIHRva2VuIGNvbnRyYWN0CiAgLy8vIEBwYXJhbSBfdG8gQWRkcmVzcyB0byBzZW5kIHRva2VucwogIC8vLyBAcGFyYW0gX3ZhbHVlIE51bWJlciBvZiB0b2tlbnMgdG8gc2VuZAogIC8vLyBAcmV0dXJuIHN1Y2Nlc3MgVHJ1ZSBpZiBjb21wbGV0ZWQsIGZhbHNlIG90aGVyd2lzZQogIGZ1bmN0aW9uIHRyYW5zZmVyKFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYsIGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICBib29sIGVycjsKICAgIHVpbnQyNTYgYmFsYW5jZTsKCiAgICAoZXJyLGJhbGFuY2UpID0gc2VsZi5iYWxhbmNlc1ttc2cuc2VuZGVyXS5taW51cyhfdmFsdWUpOwogICAgaWYoZXJyKSB7CiAgICAgIEVycm9yTXNnKCJCYWxhbmNlIHRvbyBsb3cgZm9yIHRyYW5zZmVyIik7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHNlbGYuYmFsYW5jZXNbbXNnLnNlbmRlcl0gPSBiYWxhbmNlOwogICAgLy9JdCdzIG5vdCBwb3NzaWJsZSB0byBvdmVyZmxvdyB0b2tlbiBzdXBwbHkKICAgIHNlbGYuYmFsYW5jZXNbX3RvXSA9IHNlbGYuYmFsYW5jZXNbX3RvXSArIF92YWx1ZTsKICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8vIEBkZXYgQXV0aG9yaXplZCBjYWxsZXIgdHJhbnNmZXJzIHRva2VucyBmcm9tIG9uZSBhY2NvdW50IHRvIGFub3RoZXIKICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QKICAvLy8gQHBhcmFtIF9mcm9tIEFkZHJlc3MgdG8gc2VuZCB0b2tlbnMgZnJvbQogIC8vLyBAcGFyYW0gX3RvIEFkZHJlc3MgdG8gc2VuZCB0b2tlbnMgdG8KICAvLy8gQHBhcmFtIF92YWx1ZSBOdW1iZXIgb2YgdG9rZW5zIHRvIHNlbmQKICAvLy8gQHJldHVybiBzdWNjZXNzIFRydWUgaWYgY29tcGxldGVkLCBmYWxzZSBvdGhlcndpc2UKICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwKICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyBfZnJvbSwKICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyBfdG8sCiAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQyNTYgX3ZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHZhciBfYWxsb3dhbmNlID0gc2VsZi5hbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXTsKICAgIGJvb2wgZXJyOwogICAgdWludDI1NiBiYWxhbmNlT3duZXI7CiAgICB1aW50MjU2IGJhbGFuY2VTcGVuZGVyOwoKICAgIChlcnIsYmFsYW5jZU93bmVyKSA9IHNlbGYuYmFsYW5jZXNbX2Zyb21dLm1pbnVzKF92YWx1ZSk7CiAgICBpZihlcnIpIHsKICAgICAgRXJyb3JNc2coIkJhbGFuY2UgdG9vIGxvdyBmb3IgdHJhbnNmZXIiKTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIChlcnIsYmFsYW5jZVNwZW5kZXIpID0gX2FsbG93YW5jZS5taW51cyhfdmFsdWUpOwogICAgaWYoZXJyKSB7CiAgICAgIEVycm9yTXNnKCJUcmFuc2ZlciBleGNlZWRzIGFsbG93YW5jZSIpOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICBzZWxmLmJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VPd25lcjsKICAgIHNlbGYuYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPSBiYWxhbmNlU3BlbmRlcjsKICAgIHNlbGYuYmFsYW5jZXNbX3RvXSA9IHNlbGYuYmFsYW5jZXNbX3RvXSArIF92YWx1ZTsKCiAgICBUcmFuc2ZlcihfZnJvbSwgX3RvLCBfdmFsdWUpOwogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvLy8gQGRldiBSZXRyaWV2ZSB0b2tlbiBiYWxhbmNlIGZvciBhbiBhY2NvdW50CiAgLy8vIEBwYXJhbSBzZWxmIFN0b3JlZCB0b2tlbiBmcm9tIHRva2VuIGNvbnRyYWN0CiAgLy8vIEBwYXJhbSBfb3duZXIgQWRkcmVzcyB0byByZXRyaWV2ZSBiYWxhbmNlIG9mCiAgLy8vIEByZXR1cm4gYmFsYW5jZSBUaGUgbnVtYmVyIG9mIHRva2VucyBpbiB0aGUgc3ViamVjdCBhY2NvdW50CiAgZnVuY3Rpb24gYmFsYW5jZU9mKFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYsIGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpIHsKICAgIHJldHVybiBzZWxmLmJhbGFuY2VzW19vd25lcl07CiAgfQoKICAvLy8gQGRldiBBdXRob3JpemUgYW4gYWNjb3VudCB0byBzZW5kIHRva2VucyBvbiBjYWxsZXIncyBiZWhhbGYKICAvLy8gQHBhcmFtIHNlbGYgU3RvcmVkIHRva2VuIGZyb20gdG9rZW4gY29udHJhY3QKICAvLy8gQHBhcmFtIF9zcGVuZGVyIEFkZHJlc3MgdG8gYXV0aG9yaXplCiAgLy8vIEBwYXJhbSBfdmFsdWUgTnVtYmVyIG9mIHRva2VucyBhdXRob3JpemVkIGFjY291bnQgbWF5IHNlbmQKICAvLy8gQHJldHVybiBzdWNjZXNzIFRydWUgaWYgY29tcGxldGVkLCBmYWxzZSBvdGhlcndpc2UKICBmdW5jdGlvbiBhcHByb3ZlKFRva2VuU3RvcmFnZSBzdG9yYWdlIHNlbGYsIGFkZHJlc3MgX3NwZW5kZXIsIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgIHNlbGYuYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgLy8vIEBkZXYgUmVtYWluaW5nIHRva2VucyB0aGlyZCBwYXJ0eSBzcGVuZGVyIGhhcyB0byBzZW5kCiAgLy8vIEBwYXJhbSBzZWxmIFN0b3JlZCB0b2tlbiBmcm9tIHRva2VuIGNvbnRyYWN0CiAgLy8vIEBwYXJhbSBfb3duZXIgQWRkcmVzcyBvZiB0b2tlbiBob2xkZXIKICAvLy8gQHBhcmFtIF9zcGVuZGVyIEFkZHJlc3Mgb2YgYXV0aG9yaXplZCBzcGVuZGVyCiAgLy8vIEByZXR1cm4gcmVtYWluaW5nIE51bWJlciBvZiB0b2tlbnMgc3BlbmRlciBoYXMgbGVmdCBpbiBvd25lcidzIGFjY291bnQKICBmdW5jdGlvbiBhbGxvd2FuY2UoVG9rZW5TdG9yYWdlIHN0b3JhZ2Ugc2VsZiwgYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICByZXR1cm4gc2VsZi5hbGxvd2VkW19vd25lcl1bX3NwZW5kZXJdOwogIH0KfQoKbGlicmFyeSBCYXNpY01hdGhMaWIgewogIGV2ZW50IEVycihzdHJpbmcgdHlwZUVycik7CgogIC8vLyBAZGV2IE11bHRpcGxpZXMgdHdvIG51bWJlcnMgYW5kIGNoZWNrcyBmb3Igb3ZlcmZsb3cgYmVmb3JlIHJldHVybmluZy4KICAvLy8gRG9lcyBub3QgdGhyb3cgYnV0IHJhdGhlciBsb2dzIGFuIEVyciBldmVudCBpZiB0aGVyZSBpcyBvdmVyZmxvdy4KICAvLy8gQHBhcmFtIGEgRmlyc3QgbnVtYmVyCiAgLy8vIEBwYXJhbSBiIFNlY29uZCBudW1iZXIKICAvLy8gQHJldHVybiBlcnIgRmFsc2Ugbm9ybWFsbHksIG9yIHRydWUgaWYgdGhlcmUgaXMgb3ZlcmZsb3cKICAvLy8gQHJldHVybiByZXMgVGhlIHByb2R1Y3Qgb2YgYSBhbmQgYiwgb3IgMCBpZiB0aGVyZSBpcyBvdmVyZmxvdwogIGZ1bmN0aW9uIHRpbWVzKHVpbnQyNTYgYSwgdWludDI1NiBiKSBjb25zdGFudCByZXR1cm5zIChib29sIGVycix1aW50MjU2IHJlcykgewogICAgYXNzZW1ibHl7CiAgICAgIHJlcyA6PSBtdWwoYSxiKQogICAgICBqdW1waShhbGxHb29kLCBvcihpc3plcm8oYiksIGVxKGRpdihyZXMsYiksIGEpKSkKICAgICAgZXJyIDo9IDEKICAgICAgcmVzIDo9IDAKICAgICAgYWxsR29vZDoKICAgIH0KICAgIGlmIChlcnIpCiAgICAgIEVycigidGltZXMgZnVuYyBvdmVyZmxvdyIpOwogIH0KCiAgLy8vIEBkZXYgRGl2aWRlcyB0d28gbnVtYmVycyBidXQgY2hlY2tzIGZvciAwIGluIHRoZSBkaXZpc29yIGZpcnN0LgogIC8vLyBEb2VzIG5vdCB0aHJvdyBidXQgcmF0aGVyIGxvZ3MgYW4gRXJyIGV2ZW50IGlmIDAgaXMgaW4gdGhlIGRpdmlzb3IuCiAgLy8vIEBwYXJhbSBhIEZpcnN0IG51bWJlcgogIC8vLyBAcGFyYW0gYiBTZWNvbmQgbnVtYmVyCiAgLy8vIEByZXR1cm4gZXJyIEZhbHNlIG5vcm1hbGx5LCBvciB0cnVlIGlmIGBiYCBpcyAwCiAgLy8vIEByZXR1cm4gcmVzIFRoZSBxdW90aWVudCBvZiBhIGFuZCBiLCBvciAwIGlmIGBiYCBpcyAwCiAgZnVuY3Rpb24gZGl2aWRlZEJ5KHVpbnQyNTYgYSwgdWludDI1NiBiKSBjb25zdGFudCByZXR1cm5zIChib29sIGVycix1aW50MjU2IHJlcykgewogICAgYXNzZW1ibHl7CiAgICAgIGp1bXBpKGUsIGlzemVybyhiKSkKICAgICAgcmVzIDo9IGRpdihhLGIpCiAgICAgIG1zdG9yZShhZGQobWxvYWQoMHg0MCksMHgyMCkscmVzKQogICAgICByZXR1cm4obWxvYWQoMHg0MCksMHg0MCkKICAgICAgZToKICAgIH0KICAgIEVycigidHJpZWQgdG8gZGl2aWRlIGJ5IHplcm8iKTsKICAgIHJldHVybiAodHJ1ZSwgMCk7CiAgfQoKICAvLy8gQGRldiBBZGRzIHR3byBudW1iZXJzIGFuZCBjaGVja3MgZm9yIG92ZXJmbG93IGJlZm9yZSByZXR1cm5pbmcuCiAgLy8vIERvZXMgbm90IHRocm93IGJ1dCByYXRoZXIgbG9ncyBhbiBFcnIgZXZlbnQgaWYgdGhlcmUgaXMgb3ZlcmZsb3cuCiAgLy8vIEBwYXJhbSBhIEZpcnN0IG51bWJlcgogIC8vLyBAcGFyYW0gYiBTZWNvbmQgbnVtYmVyCiAgLy8vIEByZXR1cm4gZXJyIEZhbHNlIG5vcm1hbGx5LCBvciB0cnVlIGlmIHRoZXJlIGlzIG92ZXJmbG93CiAgLy8vIEByZXR1cm4gcmVzIFRoZSBzdW0gb2YgYSBhbmQgYiwgb3IgMCBpZiB0aGVyZSBpcyBvdmVyZmxvdwogIGZ1bmN0aW9uIHBsdXModWludDI1NiBhLCB1aW50MjU2IGIpIGNvbnN0YW50IHJldHVybnMgKGJvb2wgZXJyLCB1aW50MjU2IHJlcykgewogICAgYXNzZW1ibHl7CiAgICAgIHJlcyA6PSBhZGQoYSxiKQogICAgICBqdW1waShhbGxHb29kLCBhbmQoZXEoc3ViKHJlcyxiKSwgYSksIGd0KHJlcyxiKSkpCiAgICAgIGVyciA6PSAxCiAgICAgIHJlcyA6PSAwCiAgICAgIGFsbEdvb2Q6CiAgICB9CiAgICBpZiAoZXJyKQogICAgICBFcnIoInBsdXMgZnVuYyBvdmVyZmxvdyIpOwogIH0KCiAgLy8vIEBkZXYgU3VidHJhY3RzIHR3byBudW1iZXJzIGFuZCBjaGVja3MgZm9yIHVuZGVyZmxvdyBiZWZvcmUgcmV0dXJuaW5nLgogIC8vLyBEb2VzIG5vdCB0aHJvdyBidXQgcmF0aGVyIGxvZ3MgYW4gRXJyIGV2ZW50IGlmIHRoZXJlIGlzIHVuZGVyZmxvdy4KICAvLy8gQHBhcmFtIGEgRmlyc3QgbnVtYmVyCiAgLy8vIEBwYXJhbSBiIFNlY29uZCBudW1iZXIKICAvLy8gQHJldHVybiBlcnIgRmFsc2Ugbm9ybWFsbHksIG9yIHRydWUgaWYgdGhlcmUgaXMgdW5kZXJmbG93CiAgLy8vIEByZXR1cm4gcmVzIFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gYSBhbmQgYiwgb3IgMCBpZiB0aGVyZSBpcyB1bmRlcmZsb3cKICBmdW5jdGlvbiBtaW51cyh1aW50MjU2IGEsIHVpbnQyNTYgYikgY29uc3RhbnQgcmV0dXJucyAoYm9vbCBlcnIsdWludDI1NiByZXMpIHsKICAgIGFzc2VtYmx5ewogICAgICByZXMgOj0gc3ViKGEsYikKICAgICAganVtcGkoYWxsR29vZCwgZXEoYW5kKGVxKGFkZChyZXMsYiksIGEpLCBvcihsdChyZXMsYSksIGVxKHJlcyxhKSkpLCAxKSkKICAgICAgZXJyIDo9IDEKICAgICAgcmVzIDo9IDAKICAgICAgYWxsR29vZDoKICAgIH0KICAgIGlmIChlcnIpCiAgICAgIEVycigibWludXMgZnVuYyB1bmRlcmZsb3ciKTsKICB9Cn0='.
	

]
