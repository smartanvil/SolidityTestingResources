Class {
	#name : #SRT9d5b592b687c887a5a34df5f9207adb2c2db3aec,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT9d5b592b687c887a5a34df5f9207adb2c2db3aec >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTg7CgppbnRlcmZhY2UgdG9rZW5SZWNpcGllbnQgeyBmdW5jdGlvbiByZWNlaXZlQXBwcm92YWwoYWRkcmVzcyBfZnJvbSwgdWludDI1NiBfdmFsdWUsIGFkZHJlc3MgX3Rva2VuLCBieXRlcyBfZXh0cmFEYXRhKSBwdWJsaWM7IH0KCmNvbnRyYWN0IEV0aGVyZXVtQmxhY2sgewogICAgLy8gUHVibGljIHZhcmlhYmxlcyBvZiBFVEJUCiAgICBzdHJpbmcgcHVibGljIG5hbWU7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbDsKICAgIHVpbnQ4IHB1YmxpYyBkZWNpbWFsczsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgdWludDI1NiBwdWJsaWMgZnVuZHM7CiAgICBhZGRyZXNzIHB1YmxpYyBkaXJlY3RvcjsKICAgIGJvb2wgcHVibGljIHNhbGVDbG9zZWQ7CiAgICBib29sIHB1YmxpYyBkaXJlY3RvckxvY2s7CiAgICB1aW50MjU2IHB1YmxpYyBjbGFpbUFtb3VudDsKICAgIHVpbnQyNTYgcHVibGljIHBheUFtb3VudDsKICAgIHVpbnQyNTYgcHVibGljIGZlZUFtb3VudDsKICAgIHVpbnQyNTYgcHVibGljIGVwb2NoOwogICAgdWludDI1NiBwdWJsaWMgcmV0ZW50aW9uTWF4OwoKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludDI1NikgcHVibGljIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBwdWJsaWMgYWxsb3dhbmNlOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBib29sKSBwdWJsaWMgYnVyaWVkOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiB1aW50MjU2KSBwdWJsaWMgY2xhaW1lZDsKCiAgICBldmVudCBUcmFuc2ZlcihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIGFkZHJlc3MgaW5kZXhlZCBfdG8sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIAogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7CgogICAgZXZlbnQgQnVybihhZGRyZXNzIGluZGV4ZWQgX2Zyb20sIHVpbnQyNTYgX3ZhbHVlKTsKICAgIAogICAgZXZlbnQgQnVyeShhZGRyZXNzIGluZGV4ZWQgX3RhcmdldCwgdWludDI1NiBfdmFsdWUpOwogICAgCiAgICBldmVudCBDbGFpbShhZGRyZXNzIGluZGV4ZWQgX3RhcmdldCwgYWRkcmVzcyBpbmRleGVkIF9wYXlvdXQsIGFkZHJlc3MgaW5kZXhlZCBfZmVlKTsKCiAgICBmdW5jdGlvbiBFdGhlcmV1bUJsYWNrKCkgcHVibGljIHsKICAgICAgICBkaXJlY3RvciA9IG1zZy5zZW5kZXI7CiAgICAgICAgbmFtZSA9ICJFdGhlcmV1bSBCbGFjayBUb2tlbiI7CiAgICAgICAgc3ltYm9sID0gIkVUQlQiOwogICAgICAgIGRlY2ltYWxzID0gMTg7CiAgICAgICAgc2FsZUNsb3NlZCA9IGZhbHNlOwogICAgICAgIGRpcmVjdG9yTG9jayA9IGZhbHNlOwogICAgICAgIGZ1bmRzID0gMDsKICAgICAgICB0b3RhbFN1cHBseSA9IDA7CiAgICAgICAgCiAgICAgICAgLy8gVG9rZW4gU2FsZTogKDUwJSkKICAgICAgICB0b3RhbFN1cHBseSArPSAxNzUwMDAwICogMTAgKiogdWludDI1NihkZWNpbWFscyk7CiAgICAgICAgCiAgICAgICAgLy8gUmVzZXJ2ZXM6ICgzNyUpCiAgICAgICAgdG90YWxTdXBwbHkgKz0gMTI5NTAwMCAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpOwogICAgICAgIAogICAgICAgIC8vIE1hcmtldGluZyAmIENvbW11bml0eSBvdXRyZWFjaDogKDglKQogICAgICAgIHRvdGFsU3VwcGx5ICs9IDI4MDAwMCAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpOwoJCQogICAgICAgIC8vIFRlYW06ICg1JSkKICAgICAgICB0b3RhbFN1cHBseSArPSAxNzUwMDAgKiAxMCAqKiB1aW50MjU2KGRlY2ltYWxzKTsKCgkJLy8gNTAwMDAwIEVUQlQgUmVzZXJ2ZWQgZm9yIGRvbmF0ZQogICAgICAgIAogICAgICAgIC8vIEFzc2lnbiByZXNlcnZlZCBFVEJUIHN1cHBseSB0byB0aGUgZGlyZWN0b3IKICAgICAgICBiYWxhbmNlc1tkaXJlY3Rvcl0gPSB0b3RhbFN1cHBseTsKICAgICAgICAKICAgICAgICAvLyBEZWZpbmUgZGVmYXVsdCB2YWx1ZXMgZm9yIEV0aGVyQmxhY2sgZnVuY3Rpb25zCiAgICAgICAgY2xhaW1BbW91bnQgPSA1ICogMTAgKiogKHVpbnQyNTYoZGVjaW1hbHMpIC0gMSk7CiAgICAgICAgcGF5QW1vdW50ID0gNCAqIDEwICoqICh1aW50MjU2KGRlY2ltYWxzKSAtIDEpOwogICAgICAgIGZlZUFtb3VudCA9IDEgKiAxMCAqKiAodWludDI1NihkZWNpbWFscykgLSAxKTsKICAgICAgICAKICAgICAgICAvLyBTZWNvbmRzIGluIGEgeWVhcgogICAgICAgIGVwb2NoID0gMzE1MzYwMDA7CiAgICAgICAgCiAgICAgICAgcmV0ZW50aW9uTWF4ID0gNDAgKiAxMCAqKiB1aW50MjU2KGRlY2ltYWxzKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3MgX293bmVyKSBwdWJsaWMgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CiAgICAKICAgIG1vZGlmaWVyIG9ubHlEaXJlY3RvciB7CiAgICAgICAgLy8gRGlyZWN0b3IgY2FuIGxvY2sgdGhlbXNlbHZlcyBvdXQgdG8gY29tcGxldGUgZGVjZW50cmFsaXphdGlvbiBvZiBFdGhlckJsYWNrIG5ldHdvcmsKICAgICAgICAvLyBBbiBhbHRlcm5hdGl2ZSBpcyB0aGF0IGFub3RoZXIgc21hcnQgY29udHJhY3QgY291bGQgYmVjb21lIHRoZSBkZWNlbnRyYWxpemVkIGRpcmVjdG9yCiAgICAgICAgcmVxdWlyZSghZGlyZWN0b3JMb2NrKTsKICAgICAgICAKICAgICAgICAvLyBPbmx5IHRoZSBkaXJlY3RvciBpcyBwZXJtaXR0ZWQKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZGlyZWN0b3IpOwogICAgICAgIF87CiAgICB9CiAgICAKICAgIG1vZGlmaWVyIG9ubHlEaXJlY3RvckZvcmNlIHsKICAgICAgICAvLyBPbmx5IHRoZSBkaXJlY3RvciBpcyBwZXJtaXR0ZWQKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gZGlyZWN0b3IpOwogICAgICAgIF87CiAgICB9CiAgICAKCiAgICBmdW5jdGlvbiB0cmFuc2ZlckRpcmVjdG9yKGFkZHJlc3MgbmV3RGlyZWN0b3IpIHB1YmxpYyBvbmx5RGlyZWN0b3JGb3JjZSB7CiAgICAgICAgZGlyZWN0b3IgPSBuZXdEaXJlY3RvcjsKICAgIH0KICAgIAoKICAgIGZ1bmN0aW9uIHdpdGhkcmF3RnVuZHMoKSBwdWJsaWMgb25seURpcmVjdG9yRm9yY2UgewogICAgICAgIGRpcmVjdG9yLnRyYW5zZmVyKHRoaXMuYmFsYW5jZSk7CiAgICB9CgoJCiAgICBmdW5jdGlvbiBzZWxmTG9jaygpIHB1YmxpYyBwYXlhYmxlIG9ubHlEaXJlY3RvciB7CiAgICAgICAgLy8gVGhlIHNhbGUgbXVzdCBiZSBjbG9zZWQgYmVmb3JlIHRoZSBkaXJlY3RvciBnZXRzIGxvY2tlZCBvdXQKICAgICAgICByZXF1aXJlKHNhbGVDbG9zZWQpOwogICAgICAgIAogICAgICAgIC8vIFByZXZlbnRzIGFjY2lkZW50YWwgbG9ja291dAogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID09IDEwIGV0aGVyKTsKICAgICAgICAKICAgICAgICAvLyBQZXJtYW5lbnRseSBsb2NrIG91dCB0aGUgZGlyZWN0b3IKICAgICAgICBkaXJlY3RvckxvY2sgPSB0cnVlOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBhbWVuZENsYWltKHVpbnQ4IGNsYWltQW1vdW50U2V0LCB1aW50OCBwYXlBbW91bnRTZXQsIHVpbnQ4IGZlZUFtb3VudFNldCwgdWludDggYWNjdXJhY3kpIHB1YmxpYyBvbmx5RGlyZWN0b3IgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgcmVxdWlyZShjbGFpbUFtb3VudFNldCA9PSAocGF5QW1vdW50U2V0ICsgZmVlQW1vdW50U2V0KSk7CiAgICAgICAgCiAgICAgICAgY2xhaW1BbW91bnQgPSBjbGFpbUFtb3VudFNldCAqIDEwICoqICh1aW50MjU2KGRlY2ltYWxzKSAtIGFjY3VyYWN5KTsKICAgICAgICBwYXlBbW91bnQgPSBwYXlBbW91bnRTZXQgKiAxMCAqKiAodWludDI1NihkZWNpbWFscykgLSBhY2N1cmFjeSk7CiAgICAgICAgZmVlQW1vdW50ID0gZmVlQW1vdW50U2V0ICogMTAgKiogKHVpbnQyNTYoZGVjaW1hbHMpIC0gYWNjdXJhY3kpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCgogICAgZnVuY3Rpb24gYW1lbmRFcG9jaCh1aW50MjU2IGVwb2NoU2V0KSBwdWJsaWMgb25seURpcmVjdG9yIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIFNldCB0aGUgZXBvY2gKICAgICAgICBlcG9jaCA9IGVwb2NoU2V0OwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCgogICAgZnVuY3Rpb24gYW1lbmRSZXRlbnRpb24odWludDggcmV0ZW50aW9uU2V0LCB1aW50OCBhY2N1cmFjeSkgcHVibGljIG9ubHlEaXJlY3RvciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBTZXQgcmV0ZW50aW9uTWF4CiAgICAgICAgcmV0ZW50aW9uTWF4ID0gcmV0ZW50aW9uU2V0ICogMTAgKiogKHVpbnQyNTYoZGVjaW1hbHMpIC0gYWNjdXJhY3kpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCgogICAgZnVuY3Rpb24gY2xvc2VTYWxlKCkgcHVibGljIG9ubHlEaXJlY3RvciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBUaGUgc2FsZSBtdXN0IGJlIGN1cnJlbnRseSBvcGVuCiAgICAgICAgcmVxdWlyZSghc2FsZUNsb3NlZCk7CiAgICAgICAgCiAgICAgICAgLy8gTG9jayB0aGUgY3Jvd2RzYWxlCiAgICAgICAgc2FsZUNsb3NlZCA9IHRydWU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIGZ1bmN0aW9uIG9wZW5TYWxlKCkgcHVibGljIG9ubHlEaXJlY3RvciByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBUaGUgc2FsZSBtdXN0IGJlIGN1cnJlbnRseSBjbG9zZWQKICAgICAgICByZXF1aXJlKHNhbGVDbG9zZWQpOwogICAgICAgIAogICAgICAgIC8vIFVubG9jayB0aGUgY3Jvd2RzYWxlCiAgICAgICAgc2FsZUNsb3NlZCA9IGZhbHNlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgCgogICAgZnVuY3Rpb24gYnVyeSgpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBUaGUgYWRkcmVzcyBtdXN0IGJlIHByZXZpb3VzbHkgdW5idXJpZWQKICAgICAgICByZXF1aXJlKCFidXJpZWRbbXNnLnNlbmRlcl0pOwogICAgICAgIAogICAgICAgIC8vIEFuIGFkZHJlc3MgbXVzdCBoYXZlIGF0IGxlYXN0IGNsYWltQW1vdW50IHRvIGJlIGJ1cmllZAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPj0gY2xhaW1BbW91bnQpOwogICAgICAgIAogICAgICAgIC8vIFByZXZlbnQgYWRkcmVzc2VzIHdpdGggbGFyZ2UgYmFsYW5jZXMgZnJvbSBnZXR0aW5nIGJ1cmllZAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbbXNnLnNlbmRlcl0gPD0gcmV0ZW50aW9uTWF4KTsKICAgICAgICAKICAgICAgICAvLyBTZXQgYnVyaWVkIHN0YXRlIHRvIHRydWUKICAgICAgICBidXJpZWRbbXNnLnNlbmRlcl0gPSB0cnVlOwogICAgICAgIAogICAgICAgIC8vIFNldCB0aGUgaW5pdGlhbCBjbGFpbSBjbG9jayB0byAxCiAgICAgICAgY2xhaW1lZFttc2cuc2VuZGVyXSA9IDE7CiAgICAgICAgCiAgICAgICAgLy8gRXhlY3V0ZSBhbiBldmVudCByZWZsZWN0aW5nIHRoZSBjaGFuZ2UKICAgICAgICBCdXJ5KG1zZy5zZW5kZXIsIGJhbGFuY2VzW21zZy5zZW5kZXJdKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAoKICAgIGZ1bmN0aW9uIGNsYWltKGFkZHJlc3MgX3BheW91dCwgYWRkcmVzcyBfZmVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy8gVGhlIGNsYWltZWQgYWRkcmVzcyBtdXN0IGhhdmUgYWxyZWFkeSBiZWVuIGJ1cmllZAogICAgICAgIHJlcXVpcmUoYnVyaWVkW21zZy5zZW5kZXJdKTsKICAgICAgICAKICAgICAgICAvLyBUaGUgcGF5b3V0IGFuZCBmZWUgYWRkcmVzc2VzIG11c3QgYmUgZGlmZmVyZW50CiAgICAgICAgcmVxdWlyZShfcGF5b3V0ICE9IF9mZWUpOwogICAgICAgIAogICAgICAgIC8vIFRoZSBjbGFpbWVkIGFkZHJlc3MgY2Fubm90IHBheSBpdHNlbGYKICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgIT0gX3BheW91dCk7CiAgICAgICAgCiAgICAgICAgLy8gVGhlIGNsYWltZWQgYWRkcmVzcyBjYW5ub3QgcGF5IGl0c2VsZgogICAgICAgIHJlcXVpcmUobXNnLnNlbmRlciAhPSBfZmVlKTsKICAgICAgICAKICAgICAgICAvLyBJdCBtdXN0IGJlIGVpdGhlciB0aGUgZmlyc3QgdGltZSB0aGlzIGFkZHJlc3MgaXMgYmVpbmcgY2xhaW1lZCBvciBhdGxlYXN0IGVwb2NoIGluIHRpbWUgaGFzIHBhc3NlZAogICAgICAgIHJlcXVpcmUoY2xhaW1lZFttc2cuc2VuZGVyXSA9PSAxIHx8IChibG9jay50aW1lc3RhbXAgLSBjbGFpbWVkW21zZy5zZW5kZXJdKSA+PSBlcG9jaCk7CiAgICAgICAgCiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJ1cmllZCBhZGRyZXNzIGhhcyBlbm91Z2gKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IGNsYWltQW1vdW50KTsKICAgICAgICAKICAgICAgICAvLyBSZXNldCB0aGUgY2xhaW0gY2xvY2sgdG8gdGhlIGN1cnJlbnQgYmxvY2sgdGltZQogICAgICAgIGNsYWltZWRbbXNnLnNlbmRlcl0gPSBibG9jay50aW1lc3RhbXA7CiAgICAgICAgCiAgICAgICAgLy8gU2F2ZSB0aGlzIGZvciBhbiBhc3NlcnRpb24gaW4gdGhlIGZ1dHVyZQogICAgICAgIHVpbnQyNTYgcHJldmlvdXNCYWxhbmNlcyA9IGJhbGFuY2VzW21zZy5zZW5kZXJdICsgYmFsYW5jZXNbX3BheW91dF0gKyBiYWxhbmNlc1tfZmVlXTsKICAgICAgICAKICAgICAgICAvLyBSZW1vdmUgY2xhaW1BbW91bnQgZnJvbSB0aGUgYnVyaWVkIGFkZHJlc3MKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBjbGFpbUFtb3VudDsKICAgICAgICAKICAgICAgICAvLyBQYXkgdGhlIHdlYnNpdGUgb3duZXIgdGhhdCBpbnZva2VkIHRoZSB3ZWIgbm9kZSB0aGF0IGZvdW5kIHRoZSBFVEJUIHNlZWQga2V5CiAgICAgICAgYmFsYW5jZXNbX3BheW91dF0gKz0gcGF5QW1vdW50OwogICAgICAgIAogICAgICAgIC8vIFBheSB0aGUgYnJva2VyIG5vZGUgdGhhdCB1bmxvY2tlZCB0aGUgRVRCVAogICAgICAgIGJhbGFuY2VzW19mZWVdICs9IGZlZUFtb3VudDsKICAgICAgICAKICAgICAgICAvLyBFeGVjdXRlIGV2ZW50cyB0byByZWZsZWN0IHRoZSBjaGFuZ2VzCiAgICAgICAgQ2xhaW0obXNnLnNlbmRlciwgX3BheW91dCwgX2ZlZSk7CiAgICAgICAgVHJhbnNmZXIobXNnLnNlbmRlciwgX3BheW91dCwgcGF5QW1vdW50KTsKICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfZmVlLCBmZWVBbW91bnQpOwogICAgICAgIAogICAgICAgIC8vIEZhaWxzYWZlIGxvZ2ljIHRoYXQgc2hvdWxkIG5ldmVyIGJlIGZhbHNlCiAgICAgICAgYXNzZXJ0KGJhbGFuY2VzW21zZy5zZW5kZXJdICsgYmFsYW5jZXNbX3BheW91dF0gKyBiYWxhbmNlc1tfZmVlXSA9PSBwcmV2aW91c0JhbGFuY2VzKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBDcm93ZHNhbGUgZnVuY3Rpb24KICAgICAqLwogICAgZnVuY3Rpb24gKCkgcHVibGljIHBheWFibGUgewogICAgICAgIC8vIENoZWNrIGlmIGNyb3dkc2FsZSBpcyBzdGlsbCBhY3RpdmUKICAgICAgICByZXF1aXJlKCFzYWxlQ2xvc2VkKTsKICAgICAgICAKICAgICAgICAvLyBNaW5pbXVtIGFtb3VudCBpcyAxIGZpbm5leQogICAgICAgIHJlcXVpcmUobXNnLnZhbHVlID49IDEgZmlubmV5KTsKICAgICAgICAKICAgICAgICAvLyBQcmljZSBpcyAxIEVUSCA9IDEwMDAwIEVUQlQKICAgICAgICB1aW50MjU2IGFtb3VudCA9IG1zZy52YWx1ZSAqIDEwMDAwOwogICAgICAgIAogICAgICAgIC8vIHRvdGFsU3VwcGx5IGxpbWl0IGlzIDQgbWlsbGlvbiBFVEJUCiAgICAgICAgcmVxdWlyZSh0b3RhbFN1cHBseSArIGFtb3VudCA8PSAoNDAwMDAwMCAqIDEwICoqIHVpbnQyNTYoZGVjaW1hbHMpKSk7CiAgICAgICAgCiAgICAgICAgLy8gSW5jcmVhc2VzIHRoZSB0b3RhbCBzdXBwbHkKICAgICAgICB0b3RhbFN1cHBseSArPSBhbW91bnQ7CiAgICAgICAgCiAgICAgICAgLy8gQWRkcyB0aGUgYW1vdW50IHRvIHRoZSBiYWxhbmNlCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gKz0gYW1vdW50OwogICAgICAgIAogICAgICAgIC8vIFRyYWNrIEVUSCBhbW91bnQgcmFpc2VkCiAgICAgICAgZnVuZHMgKz0gbXNnLnZhbHVlOwogICAgICAgIAogICAgICAgIC8vIEV4ZWN1dGUgYW4gZXZlbnQgcmVmbGVjdGluZyB0aGUgY2hhbmdlCiAgICAgICAgVHJhbnNmZXIodGhpcywgbXNnLnNlbmRlciwgYW1vdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiBfdHJhbnNmZXIoYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQgX3ZhbHVlKSBpbnRlcm5hbCB7CiAgICAgICAgLy8gU2VuZGluZyBhZGRyZXNzZXMgY2Fubm90IGJlIGJ1cmllZAogICAgICAgIHJlcXVpcmUoIWJ1cmllZFtfZnJvbV0pOwogICAgICAgIAogICAgICAgIC8vIElmIHRoZSByZWNlaXZpbmcgYWRkcmVzcyBpcyBidXJpZWQsIGl0IGNhbm5vdCBleGNlZWQgcmV0ZW50aW9uTWF4CiAgICAgICAgaWYgKGJ1cmllZFtfdG9dKSB7CiAgICAgICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX3RvXSArIF92YWx1ZSA8PSByZXRlbnRpb25NYXgpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXF1aXJlKF90byAhPSAweDApOwogICAgICAgIAogICAgICAgIHJlcXVpcmUoYmFsYW5jZXNbX2Zyb21dID49IF92YWx1ZSk7CiAgICAgICAgCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSk7CiAgICAgICAgCiAgICAgICAgdWludDI1NiBwcmV2aW91c0JhbGFuY2VzID0gYmFsYW5jZXNbX2Zyb21dICsgYmFsYW5jZXNbX3RvXTsKICAgICAgICAKICAgICAgICBiYWxhbmNlc1tfZnJvbV0gLT0gX3ZhbHVlOwogICAgICAgIAogICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgIFRyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0KGJhbGFuY2VzW19mcm9tXSArIGJhbGFuY2VzW190b10gPT0gcHJldmlvdXNCYWxhbmNlcyk7CiAgICB9CgoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHsKICAgICAgICBfdHJhbnNmZXIobXNnLnNlbmRlciwgX3RvLCBfdmFsdWUpOwogICAgfQoKCiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSBwdWJsaWMgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgLy8gQ2hlY2sgYWxsb3dhbmNlCiAgICAgICAgcmVxdWlyZShfdmFsdWUgPD0gYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSk7CiAgICAgICAgYWxsb3dhbmNlW19mcm9tXVttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgX3RyYW5zZmVyKF9mcm9tLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICAvLyBCdXJpZWQgYWRkcmVzc2VzIGNhbm5vdCBiZSBhcHByb3ZlZAogICAgICAgIHJlcXVpcmUoIWJ1cmllZFttc2cuc2VuZGVyXSk7CiAgICAgICAgCiAgICAgICAgYWxsb3dhbmNlW21zZy5zZW5kZXJdW19zcGVuZGVyXSA9IF92YWx1ZTsKICAgICAgICBBcHByb3ZhbChtc2cuc2VuZGVyLCBfc3BlbmRlciwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCgogICAgZnVuY3Rpb24gYXBwcm92ZUFuZENhbGwoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUsIGJ5dGVzIF9leHRyYURhdGEpIHB1YmxpYyByZXR1cm5zIChib29sIHN1Y2Nlc3MpIHsKICAgICAgICB0b2tlblJlY2lwaWVudCBzcGVuZGVyID0gdG9rZW5SZWNpcGllbnQoX3NwZW5kZXIpOwogICAgICAgIGlmIChhcHByb3ZlKF9zcGVuZGVyLCBfdmFsdWUpKSB7CiAgICAgICAgICAgIHNwZW5kZXIucmVjZWl2ZUFwcHJvdmFsKG1zZy5zZW5kZXIsIF92YWx1ZSwgdGhpcywgX2V4dHJhRGF0YSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0KCgogICAgZnVuY3Rpb24gYnVybih1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIEJ1cmllZCBhZGRyZXNzZXMgY2Fubm90IGJlIGJ1cm50CiAgICAgICAgcmVxdWlyZSghYnVyaWVkW21zZy5zZW5kZXJdKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBlbm91Z2gKICAgICAgICByZXF1aXJlKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSk7CiAgICAgICAgCiAgICAgICAgLy8gU3VidHJhY3QgZnJvbSB0aGUgc2VuZGVyCiAgICAgICAgYmFsYW5jZXNbbXNnLnNlbmRlcl0gLT0gX3ZhbHVlOwogICAgICAgIAogICAgICAgIC8vIFVwZGF0ZXMgdG90YWxTdXBwbHkKICAgICAgICB0b3RhbFN1cHBseSAtPSBfdmFsdWU7CiAgICAgICAgQnVybihtc2cuc2VuZGVyLCBfdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCiAgICBmdW5jdGlvbiBidXJuRnJvbShhZGRyZXNzIF9mcm9tLCB1aW50MjU2IF92YWx1ZSkgcHVibGljIHJldHVybnMgKGJvb2wgc3VjY2VzcykgewogICAgICAgIC8vIEJ1cmllZCBhZGRyZXNzZXMgY2Fubm90IGJlIGJ1cm50CiAgICAgICAgcmVxdWlyZSghYnVyaWVkW19mcm9tXSk7CiAgICAgICAgCiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRhcmdldGVkIGJhbGFuY2UgaXMgZW5vdWdoCiAgICAgICAgcmVxdWlyZShiYWxhbmNlc1tfZnJvbV0gPj0gX3ZhbHVlKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBhbGxvd2FuY2UKICAgICAgICByZXF1aXJlKF92YWx1ZSA8PSBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdKTsKICAgICAgICAKICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSB0YXJnZXRlZCBiYWxhbmNlCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dIC09IF92YWx1ZTsKICAgICAgICAKICAgICAgICAvLyBTdWJ0cmFjdCBmcm9tIHRoZSBzZW5kZXIncyBhbGxvd2FuY2UKICAgICAgICBhbGxvd2FuY2VbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAKICAgICAgICAvLyBVcGRhdGUgdG90YWxTdXBwbHkKICAgICAgICB0b3RhbFN1cHBseSAtPSBfdmFsdWU7CiAgICAgICAgQnVybihfZnJvbSwgX3ZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQ=='.
	

]
