Class {
	#name : #SRT2ed86079b04a35402b473323927e7ea722e8057b,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT2ed86079b04a35402b473323927e7ea722e8057b >> base64 [
	^ 'cHJhZ21hIHNvbGlkaXR5IF4wLjQuMTE7CgovKioKICogQHRpdGxlIFNhZmVNYXRoCiAqIEBkZXYgTWF0aCBvcGVyYXRpb25zIHdpdGggc2FmZXR5IGNoZWNrcyB0aGF0IHRocm93IG9uIGVycm9yCiAqLwpsaWJyYXJ5IFNhZmVNYXRoIHsKICAgIGZ1bmN0aW9uIG11bCh1aW50MjU2IGEsIHVpbnQyNTYgYikgaW50ZXJuYWwgcmV0dXJucyAodWludDI1NikgewogICAgICAgIHVpbnQyNTYgYyA9IGEgKiBiOwogICAgICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgZnVuY3Rpb24gZGl2KHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgLy8gYXNzZXJ0KGIgPiAwKTsgLy8gU29saWRpdHkgYXV0b21hdGljYWxseSB0aHJvd3Mgd2hlbiBkaXZpZGluZyBieSAwCiAgICAgICAgdWludDI1NiBjID0gYSAvIGI7CiAgICAgICAgLy8gYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7IC8vIFRoZXJlIGlzIG5vIGNhc2UgaW4gd2hpY2ggdGhpcyBkb2Vzbid0IGhvbGQKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBmdW5jdGlvbiBzdWIodWludDI1NiBhLCB1aW50MjU2IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQyNTYpIHsKICAgICAgICBhc3NlcnQoYiA8PSBhKTsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkKHVpbnQyNTYgYSwgdWludDI1NiBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50MjU2KSB7CiAgICAgICAgdWludDI1NiBjID0gYSArIGI7CiAgICAgICAgYXNzZXJ0KGMgPj0gYSk7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9Cn0KCi8qKgogKiBAdGl0bGUgT3duYWJsZQogKiBAZGV2IFRoZSBPd25hYmxlIGNvbnRyYWN0IGhhcyBhbiBvd25lciBhZGRyZXNzLCBhbmQgcHJvdmlkZXMgYmFzaWMgYXV0aG9yaXphdGlvbiBjb250cm9sIAogKiBmdW5jdGlvbnMsIHRoaXMgc2ltcGxpZmllcyB0aGUgaW1wbGVtZW50YXRpb24gb2YgInVzZXIgcGVybWlzc2lvbnMiLiAKICovCmNvbnRyYWN0IE93bmFibGUgewogICAgYWRkcmVzcyBwdWJsaWMgb3duZXI7CgogICAgLyoqIAogICAgICogQGRldiBUaGUgT3duYWJsZSBjb25zdHJ1Y3RvciBzZXRzIHRoZSBvcmlnaW5hbCBgb3duZXJgIG9mIHRoZSBjb250cmFjdCB0byB0aGUgc2VuZGVyCiAgICAgKiBhY2NvdW50LgogICAgICovCiAgICBmdW5jdGlvbiBPd25hYmxlKCkgewogICAgICAgIG93bmVyID0gbXNnLnNlbmRlcjsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBUaHJvd3MgaWYgY2FsbGVkIGJ5IGFueSBhY2NvdW50IG90aGVyIHRoYW4gdGhlIG93bmVyLiAKICAgICovCiAgICBtb2RpZmllciBvbmx5T3duZXIoKSB7CiAgICAgICAgaWYgKG1zZy5zZW5kZXIgIT0gb3duZXIpIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQogICAgICAgIF87CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgQWxsb3dzIHRoZSBjdXJyZW50IG93bmVyIHRvIHRyYW5zZmVyIGNvbnRyb2wgb2YgdGhlIGNvbnRyYWN0IHRvIGEgbmV3T3duZXIuCiAgICAqIEBwYXJhbSBuZXdPd25lciBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBvd25lcnNoaXAgdG8uIAogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyT3duZXJzaGlwKGFkZHJlc3MgbmV3T3duZXIpIG9ubHlPd25lciB7CiAgICAgICAgaWYgKG5ld093bmVyICE9IGFkZHJlc3MoMCkpIHsKICAgICAgICAgICAgb3duZXIgPSBuZXdPd25lcjsKICAgICAgICB9CiAgICB9Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjBCYXNpYwogKiBAZGV2IFNpbXBsZXIgdmVyc2lvbiBvZiBFUkMyMCBpbnRlcmZhY2UKICogQGRldiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqLwpjb250cmFjdCBFUkMyMEJhc2ljIHsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsU3VwcGx5OwogICAgZnVuY3Rpb24gYmFsYW5jZU9mKGFkZHJlc3Mgd2hvKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgVHJhbnNmZXIoYWRkcmVzcyBpbmRleGVkIGZyb20sIGFkZHJlc3MgaW5kZXhlZCB0bywgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgRVJDMjAgaW50ZXJmYWNlCiAqIEBkZXYgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8yMAogKi8KY29udHJhY3QgRVJDMjAgaXMgRVJDMjBCYXNpYyB7CiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2KTsKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIGZyb20sIGFkZHJlc3MgdG8sIHVpbnQyNTYgdmFsdWUpOwogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIHNwZW5kZXIsIHVpbnQyNTYgdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIG93bmVyLCBhZGRyZXNzIGluZGV4ZWQgc3BlbmRlciwgdWludDI1NiB2YWx1ZSk7Cn0KCi8qKgogKiBAdGl0bGUgQmFzaWMgdG9rZW4KICogQGRldiBCYXNpYyB2ZXJzaW9uIG9mIFN0YW5kYXJkVG9rZW4sIHdpdGggbm8gYWxsb3dhbmNlcy4gCiAqLwpjb250cmFjdCBCYXNpY1Rva2VuIGlzIEVSQzIwQmFzaWMsIE93bmFibGUgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgbWFwcGluZyhhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwoKICAgIC8qKgogICAgKiBAZGV2IHRyYW5zZmVyIHRva2VuIGZvciBhIHNwZWNpZmllZCBhZGRyZXNzCiAgICAqIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG8uCiAgICAqIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZC4KICAgICovCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHsKICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSA9IGJhbGFuY2VzW21zZy5zZW5kZXJdLnN1YihfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIFRyYW5zZmVyKG1zZy5zZW5kZXIsIF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBHZXRzIHRoZSBiYWxhbmNlIG9mIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy4KICAgICogQHBhcmFtIF9vd25lciBUaGUgYWRkcmVzcyB0byBxdWVyeSB0aGUgdGhlIGJhbGFuY2Ugb2YuIAogICAgKiBAcmV0dXJuIEFuIHVpbnQyNTYgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgb3duZWQgYnkgdGhlIHBhc3NlZCBhZGRyZXNzLgogICAgKi8KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9Cn0KCi8qKgogKiBAdGl0bGUgU3RhbmRhcmQgRVJDMjAgdG9rZW4KICoKICogQGRldiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgYmFzaWMgc3RhbmRhcmQgdG9rZW4uCiAqIEBkZXYgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCiAqIEBkZXYgQmFzZWQgb24gY29kZSBieSBGaXJzdEJsb29kOiBodHRwczovL2dpdGh1Yi5jb20vRmlyc3RibG9vZGlvL3Rva2VuL2Jsb2IvbWFzdGVyL3NtYXJ0X2NvbnRyYWN0L0ZpcnN0Qmxvb2RUb2tlbi5zb2wKICovCmNvbnRyYWN0IFN0YW5kYXJkVG9rZW4gaXMgRVJDMjAsIEJhc2ljVG9rZW4gewogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwoKICAgIC8qKgogICAgKiBAZGV2IFRyYW5zZmVyIHRva2VucyBmcm9tIG9uZSBhZGRyZXNzIHRvIGFub3RoZXIKICAgICogQHBhcmFtIF9mcm9tIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gc2VuZCB0b2tlbnMgZnJvbQogICAgKiBAcGFyYW0gX3RvIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggeW91IHdhbnQgdG8gdHJhbnNmZXIgdG8KICAgICogQHBhcmFtIF92YWx1ZSB1aW50MjU2IHRoZSBhbW91dCBvZiB0b2tlbnMgdG8gYmUgdHJhbnNmZXJlZAogICAgKi8KICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHsKICAgICAgICB2YXIgX2FsbG93YW5jZSA9IGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdOwoKICAgICAgICAvLyBDaGVjayBpcyBub3QgbmVlZGVkIGJlY2F1c2Ugc3ViKF9hbGxvd2FuY2UsIF92YWx1ZSkgd2lsbCBhbHJlYWR5IHRocm93IGlmIHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQKICAgICAgICAvLyBpZiAoX3ZhbHVlID4gX2FsbG93YW5jZSkgdGhyb3c7CgogICAgICAgIGJhbGFuY2VzW190b10gPSBiYWxhbmNlc1tfdG9dLmFkZChfdmFsdWUpOwogICAgICAgIGJhbGFuY2VzW19mcm9tXSA9IGJhbGFuY2VzW19mcm9tXS5zdWIoX3ZhbHVlKTsKICAgICAgICBhbGxvd2VkW19mcm9tXVttc2cuc2VuZGVyXSA9IF9hbGxvd2FuY2Uuc3ViKF92YWx1ZSk7CiAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBBcHJvdmUgdGhlIHBhc3NlZCBhZGRyZXNzIHRvIHNwZW5kIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRva2VucyBvbiBiZWhhbGYgb2YgbXNnLnNlbmRlci4KICAgICogQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIHdoaWNoIHdpbGwgc3BlbmQgdGhlIGZ1bmRzLgogICAgKiBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGJlIHNwZW50LgogICAgKi8KICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHsKCiAgICAgICAgLy8gVG8gY2hhbmdlIHRoZSBhcHByb3ZlIGFtb3VudCB5b3UgZmlyc3QgaGF2ZSB0byByZWR1Y2UgdGhlIGFkZHJlc3Nlc2AKICAgICAgICAvLyAgYWxsb3dhbmNlIHRvIHplcm8gYnkgY2FsbGluZyBgYXBwcm92ZShfc3BlbmRlciwgMClgIGlmIGl0IGlzIG5vdAogICAgICAgIC8vICBhbHJlYWR5IDAgdG8gbWl0aWdhdGUgdGhlIHJhY2UgY29uZGl0aW9uIGRlc2NyaWJlZCBoZXJlOgogICAgICAgIC8vICBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTI2MzUyNDcyOQogICAgICAgIGlmICgoX3ZhbHVlICE9IDApICYmIChhbGxvd2VkW21zZy5zZW5kZXJdW19zcGVuZGVyXSAhPSAwKSkgdGhyb3c7CgogICAgICAgIGFsbG93ZWRbbXNnLnNlbmRlcl1bX3NwZW5kZXJdID0gX3ZhbHVlOwogICAgICAgIEFwcHJvdmFsKG1zZy5zZW5kZXIsIF9zcGVuZGVyLCBfdmFsdWUpOwogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IEZ1bmN0aW9uIHRvIGNoZWNrIHRoZSBhbW91bnQgb2YgdG9rZW5zIHRoYXQgYW4gb3duZXIgYWxsb3dlZCB0byBhIHNwZW5kZXIuCiAgICAqIEBwYXJhbSBfb3duZXIgYWRkcmVzcyBUaGUgYWRkcmVzcyB3aGljaCBvd25zIHRoZSBmdW5kcy4KICAgICogQHBhcmFtIF9zcGVuZGVyIGFkZHJlc3MgVGhlIGFkZHJlc3Mgd2hpY2ggd2lsbCBzcGVuZCB0aGUgZnVuZHMuCiAgICAqIEByZXR1cm4gQSB1aW50MjU2IHNwZWNpZmluZyB0aGUgYW1vdW50IG9mIHRva2VucyBzdGlsbCBhdmFpYmxlIGZvciB0aGUgc3BlbmRlci4KICAgICovCiAgICBmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBfb3duZXIsIGFkZHJlc3MgX3NwZW5kZXIpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgcmVtYWluaW5nKSB7CiAgICAgICAgcmV0dXJuIGFsbG93ZWRbX293bmVyXVtfc3BlbmRlcl07CiAgICB9Cgp9CgovKioKICogQHRpdGxlIFRLUlBUb2tlbgogKiBAZGV2IFZlcnkgc2ltcGxlIEVSQzIwIFRva2VuIGV4YW1wbGUsIHdoZXJlIGFsbCB0b2tlbnMgYXJlIHByZS1hc3NpZ25lZCB0byB0aGUgY3JlYXRvci4gCiAqIE5vdGUgdGhleSBjYW4gbGF0ZXIgZGlzdHJpYnV0ZSB0aGVzZSB0b2tlbnMgYXMgdGhleSB3aXNoIHVzaW5nIGB0cmFuc2ZlcmAgYW5kIG90aGVyCiAqIGBTdGFuZGFyZFRva2VuYCBmdW5jdGlvbnMuCiAqLwpjb250cmFjdCBUS1JQVG9rZW4gaXMgU3RhbmRhcmRUb2tlbiB7CiAgICBldmVudCBEZXN0cm95KGFkZHJlc3MgaW5kZXhlZCBfZnJvbSk7CgogICAgc3RyaW5nIHB1YmxpYyBuYW1lID0gIlRLUlBUb2tlbiI7CiAgICBzdHJpbmcgcHVibGljIHN5bWJvbCA9ICJUS1JQIjsKICAgIHVpbnQyNTYgcHVibGljIGRlY2ltYWxzID0gMTg7CiAgICB1aW50MjU2IHB1YmxpYyBpbml0aWFsU3VwcGx5ID0gNTAwMDAwOwoKICAgIC8qKgogICAgKiBAZGV2IENvbnRydWN0b3IgdGhhdCBnaXZlcyB0aGUgc2VuZGVyIGFsbCB0b2tlbnMKICAgICovCiAgICBmdW5jdGlvbiBUS1JQVG9rZW4oKSB7CiAgICAgICAgdG90YWxTdXBwbHkgPSBpbml0aWFsU3VwcGx5OwogICAgICAgIGJhbGFuY2VzW21zZy5zZW5kZXJdID0gaW5pdGlhbFN1cHBseTsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBEZXN0cm95cyB0b2tlbnMgZnJvbSBhbiBhZGRyZXNzLCB0aGlzIHByb2Nlc3MgaXMgaXJyZWNvdmVyYWJsZS4KICAgICogQHBhcmFtIF9mcm9tIFRoZSBhZGRyZXNzIHRvIGRlc3Ryb3kgdGhlIHRva2VucyBmcm9tLgogICAgKi8KICAgIGZ1bmN0aW9uIGRlc3Ryb3lGcm9tKGFkZHJlc3MgX2Zyb20pIG9ubHlPd25lciByZXR1cm5zIChib29sKSB7CiAgICAgICAgdWludDI1NiBiYWxhbmNlID0gYmFsYW5jZU9mKF9mcm9tKTsKICAgICAgICBpZiAoYmFsYW5jZSA9PSAwKSB0aHJvdzsKCiAgICAgICAgYmFsYW5jZXNbX2Zyb21dID0gMDsKICAgICAgICB0b3RhbFN1cHBseSA9IHRvdGFsU3VwcGx5LnN1YihiYWxhbmNlKTsKCiAgICAgICAgRGVzdHJveShfZnJvbSk7CiAgICB9Cn0KCi8qKgogKiBAdGl0bGUgUHJlQ3Jvd2RzYWxlCiAqIEBkZXYgU21hcnQgY29udHJhY3Qgd2hpY2ggY29sbGVjdHMgRVRIIGFuZCBpbiByZXR1cm4gdHJhbnNmZXJzIHRoZSBUS1JQVG9rZW4gdG8gdGhlIGNvbnRyaWJ1dG9ycwogKiBMb2cgZXZlbnRzIGFyZSBlbWl0dGVkIGZvciBlYWNoIHRyYW5zYWN0aW9uIAogKi8KY29udHJhY3QgUHJlQ3Jvd2RzYWxlIGlzIE93bmFibGUgewogICAgdXNpbmcgU2FmZU1hdGggZm9yIHVpbnQyNTY7CgogICAgLyogQ29uc3RhbnRzICovCiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBUT0tFTl9DQVAgPSA1MDAwMDA7CiAgICB1aW50MjU2IHB1YmxpYyBjb25zdGFudCBNSU5JTVVNX0NPTlRSSUJVVElPTiA9IDEwIGZpbm5leTsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFRPS0VOU19QRVJfRVRIRVIgPSAxMDAwMDsKICAgIHVpbnQyNTYgcHVibGljIGNvbnN0YW50IFBSRV9DUk9XRFNBTEVfRFVSQVRJT04gPSA1IGRheXM7CgogICAgLyogUHVibGljIFZhcmlhYmxlcyAqLwogICAgVEtSUFRva2VuIHB1YmxpYyB0b2tlbjsKICAgIGFkZHJlc3MgcHVibGljIHByZUNyb3dkc2FsZU93bmVyOwogICAgdWludDI1NiBwdWJsaWMgdG9rZW5zU2VudDsKICAgIHVpbnQyNTYgcHVibGljIHByZUNyb3dkc2FsZVN0YXJ0VGltZTsKICAgIHVpbnQyNTYgcHVibGljIHByZUNyb3dkc2FsZUVuZFRpbWU7CiAgICBib29sIHB1YmxpYyBjcm93ZFNhbGVJc1J1bm5pbmcgPSBmYWxzZTsKCiAgICAvKioKICAgICogQGRldiBGYWxsYmFjayBmdW5jdGlvbiB3aGljaCBpbnZva2VzIHRoZSBwcm9jZXNzQ29udHJpYnV0aW9uIGZ1bmN0aW9uCiAgICAqIEBwYXJhbSBfdG9rZW5BZGRyZXNzIFRLUlAgVG9rZW4gYWRkcmVzcwogICAgKiBAcGFyYW0gX3RvIHByZUNyb3dkc2FsZSBvd25lciBhZGRyZXNzCiAgICAqLwogICAgZnVuY3Rpb24gUHJlQ3Jvd2RzYWxlKGFkZHJlc3MgX3Rva2VuQWRkcmVzcywgYWRkcmVzcyBfdG8pIHsKICAgICAgICB0b2tlbiA9IFRLUlBUb2tlbihfdG9rZW5BZGRyZXNzKTsKICAgICAgICBwcmVDcm93ZHNhbGVPd25lciA9IF90bzsKICAgIH0KCiAgICAvKioKICAgICogQGRldiBGYWxsYmFjayBmdW5jdGlvbiB3aGljaCBpbnZva2VzIHRoZSBwcm9jZXNzQ29udHJpYnV0aW9uIGZ1bmN0aW9uCiAgICAqLwogICAgZnVuY3Rpb24oKSBwYXlhYmxlIHsKICAgICAgICBpZiAoIWNyb3dkU2FsZUlzUnVubmluZykgdGhyb3c7CiAgICAgICAgaWYgKG1zZy52YWx1ZSA8IE1JTklNVU1fQ09OVFJJQlVUSU9OKSB0aHJvdzsKCiAgICAgICAgdWludDI1NiBjb250cmlidXRpb25JblRva2VucyA9IG1zZy52YWx1ZS5tdWwoVE9LRU5TX1BFUl9FVEhFUikuZGl2KDEgZXRoZXIpOwogICAgICAgIGlmIChjb250cmlidXRpb25JblRva2Vucy5hZGQodG9rZW5zU2VudCkgPiBUT0tFTl9DQVApIHRocm93OyAKCiAgICAgICAgLyogU2VuZCB0aGUgdG9rZW5zICovCiAgICAgICAgdG9rZW4udHJhbnNmZXIobXNnLnNlbmRlciwgY29udHJpYnV0aW9uSW5Ub2tlbnMpOwogICAgICAgIHRva2Vuc1NlbnQgPSB0b2tlbnNTZW50LmFkZChjb250cmlidXRpb25JblRva2Vucyk7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgU3RhcnRzIHRoZSBwcmVDcm93ZHNhbGUKICAgICovCiAgICBmdW5jdGlvbiBzdGFydCgpIG9ubHlPd25lciB7CiAgICAgICAgaWYgKHByZUNyb3dkc2FsZVN0YXJ0VGltZSAhPSAwKSB0aHJvdzsKCiAgICAgICAgY3Jvd2RTYWxlSXNSdW5uaW5nID0gdHJ1ZTsKICAgICAgICBwcmVDcm93ZHNhbGVTdGFydFRpbWUgPSBub3c7ICAgICAgICAgICAgCiAgICAgICAgcHJlQ3Jvd2RzYWxlRW5kVGltZSA9IG5vdyArIFBSRV9DUk9XRFNBTEVfRFVSQVRJT047ICAgIAogICAgfQoKICAgIC8qKgogICAgKiBAZGV2IEEgYmFja3VwIGZhaWwtc2FmZSBkcmFpbiBpZiByZXF1aXJlZAogICAgKi8KICAgIGZ1bmN0aW9uIGRyYWluKCkgb25seU93bmVyIHsKICAgICAgICBpZiAoIXByZUNyb3dkc2FsZU93bmVyLnNlbmQodGhpcy5iYWxhbmNlKSkgdGhyb3c7CiAgICB9CgogICAgLyoqCiAgICAqIEBkZXYgRmluYWxpemVzIHRoZSBwcmVDcm93ZHNhbGUgYW5kIHNlbmRzIGZ1bmRzCiAgICAqLwogICAgZnVuY3Rpb24gZmluYWxpemUoKSBvbmx5T3duZXIgewogICAgICAgIGlmICgocHJlQ3Jvd2RzYWxlU3RhcnRUaW1lID09IDAgfHwgbm93IDwgcHJlQ3Jvd2RzYWxlRW5kVGltZSkgJiYgdG9rZW5zU2VudCAhPSBUT0tFTl9DQVApIHsKICAgICAgICAgICAgdGhyb3c7CiAgICAgICAgfQoKICAgICAgICBpZiAoIXByZUNyb3dkc2FsZU93bmVyLnNlbmQodGhpcy5iYWxhbmNlKSkgdGhyb3c7CiAgICAgICAgY3Jvd2RTYWxlSXNSdW5uaW5nID0gZmFsc2U7CiAgICB9Cn0='.
	

]
