Class {
	#name : #SRT18b9821d5755aaD13E47Df53059C215997A0Da20,
	#superclass : #SRTContracts,
	#category : #SolidityTestingResources
}

{ #category : #base64 }
SRT18b9821d5755aaD13E47Df53059C215997A0Da20 >> base64 [
	^ 'Y29udHJhY3QgTWF0aCB7CiAgZnVuY3Rpb24gbXVsKHVpbnQgYSwgdWludCBiKSBpbnRlcm5hbCByZXR1cm5zICh1aW50KSB7CiAgICB1aW50IGMgPSBhICogYjsKICAgIGFzc2VydChhID09IDAgfHwgYyAvIGEgPT0gYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGRpdih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPiAwKTsKICAgIHVpbnQgYyA9IGEgLyBiOwogICAgYXNzZXJ0KGEgPT0gYiAqIGMgKyBhICUgYik7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIHN1Yih1aW50IGEsIHVpbnQgYikgaW50ZXJuYWwgcmV0dXJucyAodWludCkgewogICAgYXNzZXJ0KGIgPD0gYSk7CiAgICByZXR1cm4gYSAtIGI7CiAgfQoKICBmdW5jdGlvbiBhZGQodWludCBhLCB1aW50IGIpIGludGVybmFsIHJldHVybnMgKHVpbnQpIHsKICAgIHVpbnQgYyA9IGEgKyBiOwogICAgYXNzZXJ0KGMgPj0gYSk7CiAgICByZXR1cm4gYzsKICB9CgogIGZ1bmN0aW9uIGFzc2VydChib29sIGFzc2VydGlvbikgaW50ZXJuYWwgewogICAgaWYgKCFhc3NlcnRpb24pIHsKICAgICAgdGhyb3c7CiAgICB9CiAgfQp9Ci8vIEFic3RyYWN0IGNvbnRyYWN0IGZvciB0aGUgZnVsbCBFUkMgMjAgVG9rZW4gc3RhbmRhcmQKLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCgoKY29udHJhY3QgVG9rZW4gewogICAgLyogVGhpcyBpcyBhIHNsaWdodCBjaGFuZ2UgdG8gdGhlIEVSQzIwIGJhc2Ugc3RhbmRhcmQuCiAgICBmdW5jdGlvbiB0b3RhbFN1cHBseSgpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgc3VwcGx5KTsKICAgIGlzIHJlcGxhY2VkIHdpdGg6CiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIFRoaXMgYXV0b21hdGljYWxseSBjcmVhdGVzIGEgZ2V0dGVyIGZ1bmN0aW9uIGZvciB0aGUgdG90YWxTdXBwbHkuCiAgICBUaGlzIGlzIG1vdmVkIHRvIHRoZSBiYXNlIGNvbnRyYWN0IHNpbmNlIHB1YmxpYyBnZXR0ZXIgZnVuY3Rpb25zIGFyZSBub3QKICAgIGN1cnJlbnRseSByZWNvZ25pc2VkIGFzIGFuIGltcGxlbWVudGF0aW9uIG9mIHRoZSBtYXRjaGluZyBhYnN0cmFjdAogICAgZnVuY3Rpb24gYnkgdGhlIGNvbXBpbGVyLgogICAgKi8KICAgIC8vLyB0b3RhbCBhbW91bnQgb2YgdG9rZW5zCiAgICB1aW50MjU2IHB1YmxpYyB0b3RhbFN1cHBseTsKICAgIHVpbnQyNTYgcHVibGljIHRvdGFsRGl2aWRlbmRzOwogICAgdWludCBwdWJsaWMgdm90ZUVuZHMgPSAxOwogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3MgZnJvbSB3aGljaCB0aGUgYmFsYW5jZSB3aWxsIGJlIHJldHJpZXZlZAogICAgLy8vIEByZXR1cm4gVGhlIGJhbGFuY2UKICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKCiAgICBmdW5jdGlvbiB2b3RlQmFsYW5jZShhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKTsKCiAgICBmdW5jdGlvbiB2b3RlQ291bnQoYWRkcmVzcyBfcHJvcG9zYWwpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgY291bnQpOwoKICAgIC8vIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgbXNnLnNlbmRlcmAKICAgIC8vIC8vLyBAcGFyYW0gX3RvIFRoZSBhZGRyZXNzIG9mIHRoZSByZWNpcGllbnQKICAgIC8vIC8vLyBAcGFyYW0gX3ZhbHVlIFRoZSBhbW91bnQgb2YgdG9rZW4gdG8gYmUgdHJhbnNmZXJyZWQKICAgIC8vIC8vLyBAcmV0dXJuIFdoZXRoZXIgdGhlIHRyYW5zZmVyIHdhcyBzdWNjZXNzZnVsIG9yIG5vdAogICAgLy8gZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIC8vIC8vLyBAbm90aWNlIHNlbmQgYF92YWx1ZWAgdG9rZW4gdG8gYF90b2AgZnJvbSBgX2Zyb21gIG9uIHRoZSBjb25kaXRpb24gaXQgaXMgYXBwcm92ZWQgYnkgYF9mcm9tYAogICAgLy8gLy8vIEBwYXJhbSBfZnJvbSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VuZGVyCiAgICAvLyAvLy8gQHBhcmFtIF90byBUaGUgYWRkcmVzcyBvZiB0aGUgcmVjaXBpZW50CiAgICAvLyAvLy8gQHBhcmFtIF92YWx1ZSBUaGUgYW1vdW50IG9mIHRva2VuIHRvIGJlIHRyYW5zZmVycmVkCiAgICAvLyAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIC8vIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8vIEBub3RpY2UgYG1zZy5zZW5kZXJgIGFwcHJvdmVzIGBfc3BlbmRlcmAgdG8gc3BlbmQgYF92YWx1ZWAgdG9rZW5zCiAgICAvLy8gQHBhcmFtIF9zcGVuZGVyIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50IGFibGUgdG8gdHJhbnNmZXIgdGhlIHRva2VucwogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgYXBwcm92ZWQgZm9yIHRyYW5zZmVyCiAgICAvLy8gQHJldHVybiBXaGV0aGVyIHRoZSBhcHByb3ZhbCB3YXMgc3VjY2Vzc2Z1bCBvciBub3QKICAgIGZ1bmN0aW9uIGFwcHJvdmUoYWRkcmVzcyBfc3BlbmRlciwgdWludDI1NiBfdmFsdWUpIHJldHVybnMgKGJvb2wgc3VjY2Vzcyk7CgogICAgLy8vIEBwYXJhbSBfb3duZXIgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnQgb3duaW5nIHRva2VucwogICAgLy8vIEBwYXJhbSBfc3BlbmRlciBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudCBhYmxlIHRvIHRyYW5zZmVyIHRoZSB0b2tlbnMKICAgIC8vLyBAcmV0dXJuIHJlbWFpbmluZyBvZiByZW1haW5pbmcgdG9rZW5zIGFsbG93ZWQgdG8gc3BlbnQKICAgIGZ1bmN0aW9uIGFsbG93YW5jZShhZGRyZXNzIF9vd25lciwgYWRkcmVzcyBfc3BlbmRlcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiByZW1haW5pbmcpOwoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyKGFkZHJlc3MgX3RvLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKTsKCiAgICAvLy8gQG5vdGljZSBzZW5kIGBfdmFsdWVgIHRva2VuIHRvIGBfdG9gIGZyb20gYF9mcm9tYCBvbiB0aGUgY29uZGl0aW9uIGl0IGlzIGFwcHJvdmVkIGJ5IGBfZnJvbWAKICAgIC8vLyBAcGFyYW0gX2Zyb20gVGhlIGFkZHJlc3Mgb2YgdGhlIHNlbmRlcgogICAgLy8vIEBwYXJhbSBfdG8gVGhlIGFkZHJlc3Mgb2YgdGhlIHJlY2lwaWVudAogICAgLy8vIEBwYXJhbSBfdmFsdWUgVGhlIGFtb3VudCBvZiB0b2tlbiB0byBiZSB0cmFuc2ZlcnJlZAogICAgLy8vIEByZXR1cm4gV2hldGhlciB0aGUgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90CiAgICBmdW5jdGlvbiB0cmFuc2ZlckZyb20oYWRkcmVzcyBfZnJvbSwgYWRkcmVzcyBfdG8sIHVpbnQyNTYgX3ZhbHVlKSByZXR1cm5zIChib29sIHN1Y2Nlc3MpOwoKICAgIGV2ZW50IFRyYW5zZmVyKGFkZHJlc3MgaW5kZXhlZCBfZnJvbSwgYWRkcmVzcyBpbmRleGVkIF90bywgdWludDI1NiBfdmFsdWUpOwogICAgZXZlbnQgQXBwcm92YWwoYWRkcmVzcyBpbmRleGVkIF9vd25lciwgYWRkcmVzcyBpbmRleGVkIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSk7Cgp9Ci8qCllvdSBzaG91bGQgaW5oZXJpdCBmcm9tIFN0YW5kYXJkVG9rZW4gb3IsIGZvciBhIHRva2VuIGxpa2UgeW91IHdvdWxkIHdhbnQgdG8KZGVwbG95IGluIHNvbWV0aGluZyBsaWtlIE1pc3QsIHNlZSBIdW1hblN0YW5kYXJkVG9rZW4uc29sLgooVGhpcyBpbXBsZW1lbnRzIE9OTFkgdGhlIHN0YW5kYXJkIGZ1bmN0aW9ucyBhbmQgTk9USElORyBlbHNlLgpJZiB5b3UgZGVwbG95IHRoaXMsIHlvdSB3b24ndCBoYXZlIGFueXRoaW5nIHVzZWZ1bC4pCgpJbXBsZW1lbnRzIEVSQyAyMCBUb2tlbiBzdGFuZGFyZDogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzIwCi4qLwoKY29udHJhY3QgU3RhbmRhcmRUb2tlbiBpcyBUb2tlbiB7CgogICAgc3RydWN0IEFjY291bnQgewogICAgICAgIHVpbnQgdm90ZXM7CiAgICAgICAgdWludCBsYXN0Vm90ZTsKICAgICAgICB1aW50IGxhc3REaXZpZGVuZHM7CiAgICB9CgogICAgbW9kaWZpZXIgdm90ZVVwZGF0ZXIoYWRkcmVzcyBfdG8sIGFkZHJlc3MgX2Zyb20pIHsKICAgICAgICBpZiAoYWNjb3VudHNbX2Zyb21dLmxhc3RWb3RlID09IHZvdGVFbmRzKSB7CiAgICAgICAgICAgIGlmIChhY2NvdW50c1tfdG9dLmxhc3RWb3RlIDwgdm90ZUVuZHMpIHsKICAgICAgICAgICAgICAgIGFjY291bnRzW190b10udm90ZXMgPSBiYWxhbmNlc1tfdG9dOwogICAgICAgICAgICAgICAgYWNjb3VudHNbX3RvXS5sYXN0Vm90ZSA9IHZvdGVFbmRzOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChhY2NvdW50c1tfZnJvbV0ubGFzdFZvdGUgPCB2b3RlRW5kcykgewogICAgICAgICAgICBhY2NvdW50c1tfZnJvbV0udm90ZXMgPSBiYWxhbmNlc1tfZnJvbV07CiAgICAgICAgICAgIGFjY291bnRzW19mcm9tXS5sYXN0Vm90ZSA9IHZvdGVFbmRzOwogICAgICAgICAgICBpZiAoYWNjb3VudHNbX3RvXS5sYXN0Vm90ZSA8IHZvdGVFbmRzKSB7CiAgICAgICAgICAgICAgICBhY2NvdW50c1tfdG9dLnZvdGVzID0gYmFsYW5jZXNbX3RvXTsKICAgICAgICAgICAgICAgIGFjY291bnRzW190b10ubGFzdFZvdGUgPSB2b3RlRW5kczsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBfOwoKICAgIH0KICAgIG1vZGlmaWVyIHVwZGF0ZUFjY291bnQoYWRkcmVzcyBhY2NvdW50KSB7CiAgICAgIHZhciBvd2luZyA9IGRpdmlkZW5kc093aW5nKGFjY291bnQpOwogICAgICBpZihvd2luZyA+IDApIHsKICAgICAgICBhY2NvdW50LnNlbmQob3dpbmcpOwogICAgICAgIGFjY291bnRzW2FjY291bnRdLmxhc3REaXZpZGVuZHMgPSB0b3RhbERpdmlkZW5kczsKICAgICAgfQogICAgICBfOwogICAgfQogICAgZnVuY3Rpb24gZGl2aWRlbmRzT3dpbmcoYWRkcmVzcyBhY2NvdW50KSBpbnRlcm5hbCByZXR1cm5zKHVpbnQpIHsKICAgICAgdmFyIG5ld0RpdmlkZW5kcyA9IHRvdGFsRGl2aWRlbmRzIC0gYWNjb3VudHNbYWNjb3VudF0ubGFzdERpdmlkZW5kczsKICAgICAgcmV0dXJuIChiYWxhbmNlc1thY2NvdW50XSAqIG5ld0RpdmlkZW5kcykgLyB0b3RhbFN1cHBseTsKICAgIH0KICAgIGZ1bmN0aW9uIGJhbGFuY2VPZihhZGRyZXNzIF9vd25lcikgY29uc3RhbnQgcmV0dXJucyAodWludDI1NiBiYWxhbmNlKSB7CiAgICAgICAgcmV0dXJuIGJhbGFuY2VzW19vd25lcl07CiAgICB9CiAgICBmdW5jdGlvbiB2b3RlQ291bnQoYWRkcmVzcyBfcHJvcG9zYWwpIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYgY291bnQpIHsKICAgICAgICByZXR1cm4gdm90ZXNbX3Byb3Bvc2FsXTsKICAgIH0KICAgIGZ1bmN0aW9uIHZvdGVCYWxhbmNlKGFkZHJlc3MgX293bmVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IGJhbGFuY2UpCiAgICB7CiAgICAgICAgcmV0dXJuIGFjY291bnRzW19vd25lcl0udm90ZXM7CgogICAgfQogICAgZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSkgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSB7CiAgICAgICAgYWxsb3dlZFttc2cuc2VuZGVyXVtfc3BlbmRlcl0gPSBfdmFsdWU7CiAgICAgICAgQXBwcm92YWwobXNnLnNlbmRlciwgX3NwZW5kZXIsIF92YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gYWxsb3dhbmNlKGFkZHJlc3MgX293bmVyLCBhZGRyZXNzIF9zcGVuZGVyKSBjb25zdGFudCByZXR1cm5zICh1aW50MjU2IHJlbWFpbmluZykgewogICAgICByZXR1cm4gYWxsb3dlZFtfb3duZXJdW19zcGVuZGVyXTsKICAgIH0KCiAgICBmdW5jdGlvbiB0cmFuc2ZlcihhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpIAogICAgdXBkYXRlQWNjb3VudChtc2cuc2VuZGVyKQogICAgdm90ZVVwZGF0ZXIoX3RvLCBtc2cuc2VuZGVyKQogICAgcmV0dXJucyAoYm9vbCBzdWNjZXNzKSAKICAgIHsKICAgICAgICAvL0RlZmF1bHQgYXNzdW1lcyB0b3RhbFN1cHBseSBjYW4ndCBiZSBvdmVyIG1heCAoMl4yNTYgLSAxKS4KICAgICAgICAvL0lmIHlvdXIgdG9rZW4gbGVhdmVzIG91dCB0b3RhbFN1cHBseSBhbmQgY2FuIGlzc3VlIG1vcmUgdG9rZW5zIGFzIHRpbWUgZ29lcyBvbiwgeW91IG5lZWQgdG8gY2hlY2sgaWYgaXQgZG9lc24ndCB3cmFwLgogICAgICAgIC8vUmVwbGFjZSB0aGUgaWYgd2l0aCB0aGlzIG9uZSBpbnN0ZWFkLgogICAgICAgIC8vaWYgKGJhbGFuY2VzW21zZy5zZW5kZXJdID49IF92YWx1ZSAmJiBiYWxhbmNlc1tfdG9dICsgX3ZhbHVlID4gYmFsYW5jZXNbX3RvXSkgewogICAgICAgIGlmIChiYWxhbmNlc1ttc2cuc2VuZGVyXSA+PSBfdmFsdWUgJiYgX3ZhbHVlID4gMCkgewogICAgICAgICAgICBiYWxhbmNlc1ttc2cuc2VuZGVyXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW190b10gKz0gX3ZhbHVlOwogICAgICAgICAgICBUcmFuc2Zlcihtc2cuc2VuZGVyLCBfdG8sIF92YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7IHJldHVybiBmYWxzZTsgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRyYW5zZmVyRnJvbShhZGRyZXNzIF9mcm9tLCBhZGRyZXNzIF90bywgdWludDI1NiBfdmFsdWUpCiAgICB1cGRhdGVBY2NvdW50KG1zZy5zZW5kZXIpIAogICAgdm90ZVVwZGF0ZXIoX3RvLCBfZnJvbSkKICAgIHJldHVybnMgKGJvb2wgc3VjY2VzcykgCiAgICB7CiAgICAgICAgLy9zYW1lIGFzIGFib3ZlLiBSZXBsYWNlIHRoaXMgbGluZSB3aXRoIHRoZSBmb2xsb3dpbmcgaWYgeW91IHdhbnQgdG8gcHJvdGVjdCBhZ2FpbnN0IHdyYXBwaW5nIHVpbnRzLgogICAgICAgIC8vaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIGJhbGFuY2VzW190b10gKyBfdmFsdWUgPiBiYWxhbmNlc1tfdG9dKSB7CiAgICAgICAgaWYgKGJhbGFuY2VzW19mcm9tXSA+PSBfdmFsdWUgJiYgYWxsb3dlZFtfZnJvbV1bbXNnLnNlbmRlcl0gPj0gX3ZhbHVlICYmIF92YWx1ZSA+IDApIHsKICAgICAgICAgICAgYmFsYW5jZXNbX3RvXSArPSBfdmFsdWU7CiAgICAgICAgICAgIGJhbGFuY2VzW19mcm9tXSAtPSBfdmFsdWU7CiAgICAgICAgICAgIGFsbG93ZWRbX2Zyb21dW21zZy5zZW5kZXJdIC09IF92YWx1ZTsKICAgICAgICAgICAgVHJhbnNmZXIoX2Zyb20sIF90bywgX3ZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlOyB9CiAgICB9CiAgICBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpIGJhbGFuY2VzOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBtYXBwaW5nIChhZGRyZXNzID0+IHVpbnQyNTYpKSBhbGxvd2VkOwogICAgbWFwcGluZyAoYWRkcmVzcyA9PiBBY2NvdW50KSBhY2NvdW50czsKICAgIG1hcHBpbmcgKGFkZHJlc3MgPT4gdWludCApIHZvdGVzOwp9CgovLyBDcmVhdGVkIEJ5OiBTdHJhdGVnaWMgSW52ZXN0bWVudHMgaW4gU3RyYXRlZ2ljIEFyZWFzIEdyb3VwCgpjb250cmFjdCBTSVNBIGlzIFN0YW5kYXJkVG9rZW4sIE1hdGggewoKCglzdHJpbmcgY29uc3RhbnQgcHVibGljIG5hbWUgPSAiU0lTQSBUb2tlbiI7CglzdHJpbmcgY29uc3RhbnQgcHVibGljIHN5bWJvbCA9ICJTSVNBIjsKCXVpbnQgY29uc3RhbnQgcHVibGljIGRlY2ltYWxzID0gMTg7CgoJYWRkcmVzcyBwdWJsaWMgaWNvX3Rva2VucyA9IDB4MTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTsKCWFkZHJlc3MgcHVibGljIHByZUlDT190b2tlbnMgPSAweDIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI7CglhZGRyZXNzIHB1YmxpYyBib3VudHlfZnVuZHM7CglhZGRyZXNzIHB1YmxpYyBmb3VuZGVyOwoJYWRkcmVzcyBwdWJsaWMgYWRtaW47CglhZGRyZXNzIHB1YmxpYyB0ZWFtX2Z1bmRzOwoJYWRkcmVzcyBwdWJsaWMgaXNzdWVyOwoJYWRkcmVzcyBwdWJsaWMgcHJlc2VsbGVyOwoKCgoKCglmdW5jdGlvbiAoKSBwYXlhYmxlIHsKCSAgdG90YWxEaXZpZGVuZHMgKz0gbXNnLnZhbHVlOwoJICAvL2RlZHVjdChtc2cuc2VuZGVyLCBhbW91bnQpOwoJfQoKCgltb2RpZmllciBvbmx5Rm91bmRlcigpIHsKCSAgICAvLyBPbmx5IGZvdW5kZXIgaXMgYWxsb3dlZCB0byBkbyB0aGlzIGFjdGlvbi4KCSAgICBpZiAobXNnLnNlbmRlciAhPSBmb3VuZGVyKSB7CgkgICAgICAgIHRocm93OwoJICAgIH0KCSAgICBfOwoJfQoJbW9kaWZpZXIgb25seUFkbWluKCkgewoJICAgIC8vIE9ubHkgYWRtaW4gaXMgYWxsb3dlZCB0byBkbyB0aGlzIGFjdGlvbi4KCSAgICBpZiAobXNnLnNlbmRlciAhPSBhZG1pbikgewoJICAgICAgICB0aHJvdzsKCSAgICB9CgkgICAgXzsKCX0KICAgIG1vZGlmaWVyIG9ubHlJc3N1ZXIoKSB7CiAgICAgICAgLy8gT25seSBJc3N1ZXIgaXMgYWxsb3dlZCB0byBwcm9jZWVkLgogICAgICAgIGlmIChtc2cuc2VuZGVyICE9IGlzc3VlcikgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICAgICAgXzsKICAgIH0KCgogICAgLy8gbW9kaWZpZXIgaGFzTm90Vm90ZWQoKSB7CiAgICAvLyAJaWYgKHZvdGVkW21zZy5zZW5kZXJdKXsKICAgIC8vIAkJdGhyb3c7CiAgICAvLyAJfQogICAgLy8gCV87CiAgICAvLyB9CiAgICAvLyBmdW5jdGlvbiB2b3RlQ291bnQoYWRkcmVzcyBfcHJvcG9zYWwpIAogICAgLy8gICAgIHB1YmxpYwogICAgLy8gICAgIHJldHVybnMgKHVpbnQyNTYpIAogICAgLy8gewogICAgLy8gICAgIHJldHVybiB2b3Rlc1tfcHJvcG9zYWxdOwogICAgLy8gfQogICAgLy8gZnVuY3Rpb24gdm90ZUJhbGFuY2UoYWRkcmVzcyBfb3duZXIpIAogICAgLy8gICAgIHB1YmxpYwogICAgLy8gICAgIGNvbnN0YW50IHJldHVybnMgKHVpbnQyNTYpCiAgICAvLyB7CiAgICAvLyAgICAgcmV0dXJuIGFjY291bnRzW19vd25lcl0udm90ZXM7CgogICAgLy8gfQogICAgZnVuY3Rpb24gY2FzdFZvdGUoYWRkcmVzcyBwcm9wb3NhbCkgCiAgICAJcHVibGljCiAgICB7CiAgICAJaWYgKGFjY291bnRzW21zZy5zZW5kZXJdLmxhc3RWb3RlIDwgdm90ZUVuZHMpIHsKICAgIAkJYWNjb3VudHNbbXNnLnNlbmRlcl0udm90ZXMgPSBiYWxhbmNlc1ttc2cuc2VuZGVyXTsKICAgIAkJYWNjb3VudHNbbXNnLnNlbmRlcl0ubGFzdFZvdGUgPSB2b3RlRW5kczsKCiAgICAJfSBlbHNlIGlmIChhY2NvdW50c1ttc2cuc2VuZGVyXS52b3RlcyA9PSAwICkgewogICAgCQl0aHJvdzsKICAgIAl9CiAgICAJdm90ZXNbcHJvcG9zYWxdID0gYWNjb3VudHNbbXNnLnNlbmRlcl0udm90ZXM7CiAgICAJYWNjb3VudHNbbXNnLnNlbmRlcl0udm90ZXMgPSAwOwogICAgCQogICAgfQogICAgZnVuY3Rpb24gY2FsbFZvdGUoKSAKICAgIAlwdWJsaWMKICAgIAlvbmx5QWRtaW4KICAgIAlyZXR1cm5zIChib29sKQogICAgewogICAgCXZvdGVFbmRzID0gbm93ICsgNyBkYXlzOwoKICAgIH0KICAgIGZ1bmN0aW9uIGlzc3VlVG9rZW5zKGFkZHJlc3MgX2ZvciwgdWludDI1NiBhbW91bnQpCiAgICAgICAgcHVibGljCiAgICAgICAgb25seUlzc3VlcgogICAgICAgIHJldHVybnMgKGJvb2wpCiAgICB7CiAgICAgICAgaWYoYWxsb3dlZFtpY29fdG9rZW5zXVtpc3N1ZXJdID49IGFtb3VudCkgeyAKICAgICAgICAgICAgdHJhbnNmZXJGcm9tKGljb190b2tlbnMsIF9mb3IsIGFtb3VudCk7CgogICAgICAgICAgICAvLyBJc3N1ZShfZm9yLCBtc2cuc2VuZGVyLCBhbW91bnQpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aHJvdzsKICAgICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBjaGFuZ2VQcmVzZWxsZXIoYWRkcmVzcyBuZXdBZGRyZXNzKQogICAgICAgIGV4dGVybmFsCiAgICAgICAgb25seUFkbWluCiAgICAgICAgcmV0dXJucyAoYm9vbCkKICAgIHsgICAgCiAgICAgICAgZGVsZXRlIGFsbG93ZWRbcHJlSUNPX3Rva2Vuc11bcHJlc2VsbGVyXTsKICAgICAgICBwcmVzZWxsZXIgPSBuZXdBZGRyZXNzOwoKICAgICAgICBhbGxvd2VkW3ByZUlDT190b2tlbnNdW3ByZXNlbGxlcl0gPSBiYWxhbmNlT2YocHJlSUNPX3Rva2Vucyk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgZnVuY3Rpb24gY2hhbmdlSXNzdWVyKGFkZHJlc3MgbmV3QWRkcmVzcykKICAgICAgICBleHRlcm5hbAogICAgICAgIG9ubHlBZG1pbgogICAgICAgIHJldHVybnMgKGJvb2wpCiAgICB7ICAgIAogICAgICAgIGRlbGV0ZSBhbGxvd2VkW2ljb190b2tlbnNdW2lzc3Vlcl07CiAgICAgICAgaXNzdWVyID0gbmV3QWRkcmVzczsKCiAgICAgICAgYWxsb3dlZFtpY29fdG9rZW5zXVtpc3N1ZXJdID0gYmFsYW5jZU9mKGljb190b2tlbnMpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCWZ1bmN0aW9uIFNJU0EoYWRkcmVzcyBfZm91bmRlciwgYWRkcmVzcyBfYWRtaW4sIGFkZHJlc3MgX2JvdW50eSwgYWRkcmVzcyBfdGVhbSkgewoJCWZvdW5kZXIgPSBfZm91bmRlcjsKCQlhZG1pbiA9IF9hZG1pbjsKCQlib3VudHlfZnVuZHMgPSBfYm91bnR5OwoJCXRlYW1fZnVuZHMgPSBfdGVhbTsKCQl0b3RhbFN1cHBseSA9IDUwMDAwMDAwICogMSBldGhlcjsKCQliYWxhbmNlc1twcmVJQ09fdG9rZW5zXSA9IDUwMDAwMDAgKiAxIGV0aGVyOwoJCWJhbGFuY2VzW2JvdW50eV9mdW5kc10gPSAzMDAwMDAwICogMSBldGhlcjsKCQliYWxhbmNlc1t0ZWFtX2Z1bmRzXSA9IDcwMDAwMDAgKiAxIGV0aGVyOwoJCWJhbGFuY2VzW2ljb190b2tlbnNdID0gMzI1MDAwMDAgKiAxIGV0aGVyOwoKCgoJfQoKfQpjb250cmFjdCBwcmVJQ08gaXMgTWF0aCB7CgoJU0lTQSBwdWJsaWMgU0lTQV90b2tlbjsgCglhZGRyZXNzIHB1YmxpYyBmb3VuZGVyOyAKCWFkZHJlc3MgcHVibGljIHNhbGVfYWRkcmVzcyA9IDB4MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjsKCgkvL1ByaWNlIC8gMTAwCgl1aW50IHB1YmxpYyBwcmljZSA9IDM3MzQ4MjcyNjQyMzkwMjg3OwoJLy91aW50IHByaWNlID0gZGl2KDEwMCBldGhlciwgMjY3NzUwICogZXRoZXIpCgoJdWludCBwdWJsaWMgYmVnaW5zID0gMTUwODQ1NzYwMDsKCXVpbnQgcHVibGljIGVuZHMgPSAxNTA5MzIxNjAwOwoKCgltb2RpZmllciBpc0V4cGlyZWQoKSB7CgkJaWYgKG5vdyA8IGJlZ2lucykgewoJCQl0aHJvdzsKCQl9CgkJaWYobm93ID4gZW5kcykgewoJCQl0aHJvdzsKCQl9CgkJXzsKCX0KCWZ1bmN0aW9uIHByZUlDTyhhZGRyZXNzIHRva2VuQWRkcmVzcywgYWRkcmVzcyBmb3VuZGVyQWRkcmVzcykgewoJCWZvdW5kZXIgPSBmb3VuZGVyQWRkcmVzczsKCQlTSVNBX3Rva2VuID0gU0lTQSh0b2tlbkFkZHJlc3MpOwoKCX0KCglmdW5jdGlvbiAoKSBwYXlhYmxlCgkJaXNFeHBpcmVkIAoJewoJCXVpbnQgYW1vdW50ID0gbXNnLnZhbHVlOwoJCXVpbnQgdG9rZW5zID0gZGl2KGFtb3VudCAqIDEwMCBldGhlciwgcHJpY2UpOwoJCWlmIChmb3VuZGVyLnNlbmQoYW1vdW50KSkgewoJCQlTSVNBX3Rva2VuLnRyYW5zZmVyRnJvbShzYWxlX2FkZHJlc3MsIG1zZy5zZW5kZXIsIHRva2Vucyk7CgkJfSBlbHNlIHsKCQkJdGhyb3c7CgkJfQoJfQp9'.
	

]
